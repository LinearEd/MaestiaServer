PROGRAM  : Maestia.exe
FUNCTION : FUN_009f0420
ENTRY    : 009f0420
BODY     : [[009f0420, 009f0577]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009f0420(ushort param_1)

{
  bool bVar1;
  undefined4 uVar2;
  int in_ECX;
  uint local_54;
  uint local_38;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b248e3;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(ushort *)(in_ECX + 0x30) = param_1;
  bVar1 = param_1 < 2;
  if (bVar1) {
    uVar2 = FUN_00406460(&DAT_00ca493c);
  }
  else {
    uVar2 = FUN_00404750(&DAT_00ca4934,param_1,local_14);
  }
  local_8 = (uint)bVar1;
  local_2c = 0;
  local_18 = 7;
  local_1c = 0;
  FUN_00405eb0(uVar2,0,0xffffffff);
  local_8 = 3;
  if ((bVar1) && (7 < local_38)) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_8 = 4;
  if ((!bVar1) && (7 < local_54)) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if (*(int **)(in_ECX + 0x28) != (int *)0x0) {
    (**(code **)(**(int **)(in_ECX + 0x28) + 0x44))
              (*(undefined2 *)(in_ECX + 0x2c),*(undefined2 *)(in_ECX + 0x2e),local_30,
               *(undefined4 *)(in_ECX + 0x10));
  }
  local_8 = 0xffffffff;
  if (local_18 < 8) {
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
    ExceptionList = local_10;
    __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
009f0420 : PUSH EBP
009f0421 : MOV EBP,ESP
009f0423 : PUSH -0x1
009f0425 : PUSH 0xb248e3
009f042a : MOV EAX,FS:[0x0]
009f0430 : PUSH EAX
009f0431 : SUB ESP,0x5c
009f0434 : MOV EAX,[0x00d66fa0]
009f0439 : XOR EAX,EBP
009f043b : MOV dword ptr [EBP + -0x10],EAX
009f043e : PUSH EBX
009f043f : PUSH ESI
009f0440 : PUSH EDI
009f0441 : PUSH EAX
009f0442 : LEA EAX,[EBP + -0xc]
009f0445 : MOV FS:[0x0],EAX
009f044b : MOV AX,word ptr [EBP + 0x8]
009f044f : XOR EBX,EBX
009f0451 : MOV EDI,ECX
009f0453 : MOV dword ptr [EBP + -0x30],EBX
009f0456 : MOV word ptr [EDI + 0x30],AX
009f045a : CMP AX,0x1
009f045e : JBE 0x009f047e
009f0460 : MOVZX EAX,AX
009f0463 : PUSH EAX
009f0464 : PUSH 0xca4934
009f0469 : LEA ESI,[EBP + -0x68]
009f046c : CALL 0x00404750
009f0471 : ADD ESP,0x8
009f0474 : MOV dword ptr [EBP + -0x4],EBX
009f0477 : MOV EBX,0x1
009f047c : JMP 0x009f0497
009f047e : PUSH 0xca493c
009f0483 : LEA ECX,[EBP + -0x4c]
009f0486 : CALL 0x00406460
009f048b : MOV dword ptr [EBP + -0x4],0x1
009f0492 : MOV EBX,0x2
009f0497 : PUSH -0x1
009f0499 : MOV dword ptr [EBP + -0x30],EBX
009f049c : XOR ESI,ESI
009f049e : XOR ECX,ECX
009f04a0 : PUSH ESI
009f04a1 : MOV word ptr [EBP + -0x28],CX
009f04a5 : PUSH EAX
009f04a6 : LEA ECX,[EBP + -0x2c]
009f04a9 : MOV dword ptr [EBP + -0x14],0x7
009f04b0 : MOV dword ptr [EBP + -0x18],ESI
009f04b3 : CALL 0x00405eb0
009f04b8 : MOV dword ptr [EBP + -0x4],0x3
009f04bf : TEST BL,0x2
009f04c2 : JZ 0x009f04e8
009f04c4 : AND EBX,0xfffffffd
009f04c7 : MOV dword ptr [EBP + -0x30],EBX
009f04ca : CMP dword ptr [EBP + -0x34],0x8
009f04ce : JC 0x009f04d8
009f04d0 : MOV ECX,dword ptr [EBP + -0x48]
009f04d3 : CALL 0x006f04e0
009f04d8 : XOR EDX,EDX
009f04da : MOV dword ptr [EBP + -0x34],0x7
009f04e1 : MOV dword ptr [EBP + -0x38],ESI
009f04e4 : MOV word ptr [EBP + -0x48],DX
009f04e8 : MOV byte ptr [EBP + -0x4],0x4
009f04ec : TEST BL,0x1
009f04ef : JZ 0x009f0515
009f04f1 : AND EBX,0xfffffffe
009f04f4 : MOV dword ptr [EBP + -0x30],EBX
009f04f7 : CMP dword ptr [EBP + -0x50],0x8
009f04fb : JC 0x009f0505
009f04fd : MOV ECX,dword ptr [EBP + -0x64]
009f0500 : CALL 0x006f04e0
009f0505 : XOR EAX,EAX
009f0507 : MOV dword ptr [EBP + -0x50],0x7
009f050e : MOV dword ptr [EBP + -0x54],ESI
009f0511 : MOV word ptr [EBP + -0x64],AX
009f0515 : MOV ECX,dword ptr [EDI + 0x28]
009f0518 : CMP ECX,ESI
009f051a : JZ 0x009f0535
009f051c : MOV EAX,dword ptr [EDI + 0x10]
009f051f : MOV EDX,dword ptr [ECX]
009f0521 : MOV EDX,dword ptr [EDX + 0x44]
009f0524 : PUSH EAX
009f0525 : LEA EAX,[EBP + -0x2c]
009f0528 : PUSH EAX
009f0529 : MOVZX EAX,word ptr [EDI + 0x2e]
009f052d : PUSH EAX
009f052e : MOVZX EAX,word ptr [EDI + 0x2c]
009f0532 : PUSH EAX
009f0533 : CALL EDX
009f0535 : MOV dword ptr [EBP + -0x4],0xffffffff
009f053c : CMP dword ptr [EBP + -0x14],0x8
009f0540 : JC 0x009f054a
009f0542 : MOV ECX,dword ptr [EBP + -0x28]
009f0545 : CALL 0x006f04e0
009f054a : XOR EAX,EAX
009f054c : MOV dword ptr [EBP + -0x14],0x7
009f0553 : MOV dword ptr [EBP + -0x18],ESI
009f0556 : MOV word ptr [EBP + -0x28],AX
009f055a : MOV ECX,dword ptr [EBP + -0xc]
009f055d : MOV dword ptr FS:[0x0],ECX
009f0564 : POP ECX
009f0565 : POP EDI
009f0566 : POP ESI
009f0567 : POP EBX
009f0568 : MOV ECX,dword ptr [EBP + -0x10]
009f056b : XOR ECX,EBP
009f056d : CALL 0x00633e6b
009f0572 : MOV ESP,EBP
009f0574 : POP EBP
009f0575 : RET 0x4
