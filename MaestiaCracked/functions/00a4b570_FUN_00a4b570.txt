PROGRAM  : Maestia.exe
FUNCTION : FUN_00a4b570
ENTRY    : 00a4b570
BODY     : [[00a4b570, 00a4b7eb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a4b570(undefined4 param_1)

{
  uint uVar1;
  undefined4 uVar2;
  uint in_ECX;
  uint uVar3;
  uint uVar4;
  undefined1 local_84 [4];
  undefined2 local_80;
  undefined4 local_70;
  uint local_6c;
  undefined1 local_68 [4];
  undefined2 local_64;
  undefined4 local_54;
  uint local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b267a5;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar1;
  if ((in_ECX < 6) || (in_ECX == 0xffffffff)) {
    local_6c = 7;
    local_70 = 0;
    local_80 = 0;
    FUN_00406360(L"IDS_CHAR_DEL_TIME_UNDER_FIVE",0x1c);
    local_8 = 0;
    uVar2 = FUN_0081d120(local_84);
    local_8._0_1_ = 1;
    FUN_00405eb0(uVar2,0,0xffffffff);
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_50 = 7;
    local_54 = 0;
    local_64 = 0;
    local_8 = 0xffffffff;
    if (7 < local_6c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  else {
    uVar4 = in_ECX / 0x3c;
    uVar3 = in_ECX % 0x3c;
    FUN_00406460(&DAT_00cc7b78);
    local_8 = 2;
    FUN_00406460(&DAT_00cc7b80);
    local_8._0_1_ = 3;
    if (uVar3 < 10) {
      uVar2 = FUN_00404750(&DAT_00cc7b88,uVar3,uVar1);
      local_8._0_1_ = 4;
    }
    else {
      uVar2 = FUN_00404750(&DAT_00cc7b90,uVar3,uVar1);
      local_8._0_1_ = 5;
    }
    FUN_00405eb0(uVar2,0,0xffffffff);
    local_8._0_1_ = 3;
    FUN_00406560();
    if (uVar4 < 10) {
      uVar2 = FUN_00404750(&DAT_00cc7b98,uVar4);
      local_8._0_1_ = 6;
    }
    else {
      uVar2 = FUN_00404750(&DAT_00cc7ba0,uVar4);
      local_8._0_1_ = 7;
    }
    FUN_00405eb0(uVar2,0,0xffffffff);
    local_8._0_1_ = 3;
    FUN_00406560();
    FUN_00403510(local_68);
    local_8._0_1_ = 8;
    uVar2 = FUN_00403450(local_84,local_4c);
    local_8._0_1_ = 9;
    FUN_00405eb0(uVar2,0,0xffffffff);
    local_8 = CONCAT31(local_8._1_3_,8);
    if (7 < local_6c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_6c = 7;
    local_70 = 0;
    local_80 = 0;
    local_8 = CONCAT31(local_8._1_3_,3);
    if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_50 = 7;
    local_54 = 0;
    local_64 = 0;
    local_8 = CONCAT31(local_8._1_3_,2);
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
    local_8 = 0xffffffff;
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_34 = 7;
    local_38 = 0;
    local_48 = 0;
  }
  local_8 = 0xffffffff;
  local_50 = 7;
  local_54 = 0;
  local_64 = 0;
  local_6c = 7;
  local_70 = 0;
  local_80 = 0;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc,0,param_1);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a4b570 : PUSH EBP
00a4b571 : MOV EBP,ESP
00a4b573 : PUSH -0x1
00a4b575 : PUSH 0xb267a5
00a4b57a : MOV EAX,FS:[0x0]
00a4b580 : PUSH EAX
00a4b581 : SUB ESP,0x78
00a4b584 : MOV EAX,[0x00d66fa0]
00a4b589 : XOR EAX,EBP
00a4b58b : MOV dword ptr [EBP + -0x10],EAX
00a4b58e : PUSH EBX
00a4b58f : PUSH ESI
00a4b590 : PUSH EDI
00a4b591 : PUSH EAX
00a4b592 : LEA EAX,[EBP + -0xc]
00a4b595 : MOV FS:[0x0],EAX
00a4b59b : MOV EBX,dword ptr [EBP + 0x8]
00a4b59e : MOV dword ptr [EBP + 0xffffff7c],EBX
00a4b5a4 : CMP ECX,0x5
00a4b5a7 : JBE 0x00a4b742
00a4b5ad : CMP ECX,-0x1
00a4b5b0 : JNC 0x00a4b742
00a4b5b6 : MOV EAX,0x88888889
00a4b5bb : MUL ECX
00a4b5bd : MOV EDI,EDX
00a4b5bf : SHR EDI,0x5
00a4b5c2 : MOV EAX,EDI
00a4b5c4 : SHL EAX,0x4
00a4b5c7 : SUB EAX,EDI
00a4b5c9 : ADD EAX,EAX
00a4b5cb : ADD EAX,EAX
00a4b5cd : SUB ECX,EAX
00a4b5cf : MOV ESI,ECX
00a4b5d1 : PUSH 0xcc7b78
00a4b5d6 : LEA ECX,[EBP + -0x48]
00a4b5d9 : CALL 0x00406460
00a4b5de : MOV dword ptr [EBP + -0x4],0x2
00a4b5e5 : PUSH 0xcc7b80
00a4b5ea : LEA ECX,[EBP + -0x2c]
00a4b5ed : CALL 0x00406460
00a4b5f2 : MOV byte ptr [EBP + -0x4],0x3
00a4b5f6 : PUSH ESI
00a4b5f7 : CMP ESI,0xa
00a4b5fa : LEA ESI,[EBP + -0x64]
00a4b5fd : JNC 0x00a4b612
00a4b5ff : PUSH 0xcc7b88
00a4b604 : CALL 0x00404750
00a4b609 : ADD ESP,0x8
00a4b60c : MOV byte ptr [EBP + -0x4],0x4
00a4b610 : JMP 0x00a4b623
00a4b612 : PUSH 0xcc7b90
00a4b617 : CALL 0x00404750
00a4b61c : ADD ESP,0x8
00a4b61f : MOV byte ptr [EBP + -0x4],0x5
00a4b623 : PUSH -0x1
00a4b625 : PUSH 0x0
00a4b627 : PUSH EAX
00a4b628 : LEA ECX,[EBP + -0x48]
00a4b62b : CALL 0x00405eb0
00a4b630 : MOV byte ptr [EBP + -0x4],0x3
00a4b634 : LEA ECX,[EBP + -0x64]
00a4b637 : CALL 0x00406560
00a4b63c : PUSH EDI
00a4b63d : LEA ESI,[EBP + -0x64]
00a4b640 : CMP EDI,0xa
00a4b643 : JNC 0x00a4b658
00a4b645 : PUSH 0xcc7b98
00a4b64a : CALL 0x00404750
00a4b64f : ADD ESP,0x8
00a4b652 : MOV byte ptr [EBP + -0x4],0x6
00a4b656 : JMP 0x00a4b669
00a4b658 : PUSH 0xcc7ba0
00a4b65d : CALL 0x00404750
00a4b662 : ADD ESP,0x8
00a4b665 : MOV byte ptr [EBP + -0x4],0x7
00a4b669 : PUSH -0x1
00a4b66b : PUSH 0x0
00a4b66d : PUSH EAX
00a4b66e : LEA ECX,[EBP + -0x2c]
00a4b671 : CALL 0x00405eb0
00a4b676 : MOV byte ptr [EBP + -0x4],0x3
00a4b67a : LEA ECX,[EBP + -0x64]
00a4b67d : CALL 0x00406560
00a4b682 : LEA ECX,[EBP + -0x64]
00a4b685 : PUSH ECX
00a4b686 : MOV EDX,0xcc7ba8
00a4b68b : LEA ECX,[EBP + -0x2c]
00a4b68e : CALL 0x00403510
00a4b693 : MOV EBX,0x8
00a4b698 : MOV byte ptr [EBP + -0x4],BL
00a4b69b : LEA EDX,[EBP + -0x48]
00a4b69e : PUSH EDX
00a4b69f : LEA ECX,[EBP + -0x80]
00a4b6a2 : PUSH ECX
00a4b6a3 : MOV ECX,EAX
00a4b6a5 : CALL 0x00403450
00a4b6aa : ADD ESP,0xc
00a4b6ad : MOV byte ptr [EBP + -0x4],0x9
00a4b6b1 : MOV ECX,dword ptr [EBP + 0xffffff7c]
00a4b6b7 : PUSH -0x1
00a4b6b9 : XOR EDI,EDI
00a4b6bb : PUSH EDI
00a4b6bc : PUSH EAX
00a4b6bd : CALL 0x00405eb0
00a4b6c2 : MOV byte ptr [EBP + -0x4],BL
00a4b6c5 : CMP dword ptr [EBP + -0x68],EBX
00a4b6c8 : JC 0x00a4b6d2
00a4b6ca : MOV ECX,dword ptr [EBP + -0x7c]
00a4b6cd : CALL 0x006f04e0
00a4b6d2 : MOV ESI,0x7
00a4b6d7 : XOR EDX,EDX
00a4b6d9 : MOV dword ptr [EBP + -0x68],ESI
00a4b6dc : MOV dword ptr [EBP + -0x6c],EDI
00a4b6df : MOV word ptr [EBP + -0x7c],DX
00a4b6e3 : MOV byte ptr [EBP + -0x4],0x3
00a4b6e7 : CMP dword ptr [EBP + -0x4c],EBX
00a4b6ea : JC 0x00a4b6f4
00a4b6ec : MOV ECX,dword ptr [EBP + -0x60]
00a4b6ef : CALL 0x006f04e0
00a4b6f4 : XOR EAX,EAX
00a4b6f6 : MOV dword ptr [EBP + -0x4c],ESI
00a4b6f9 : MOV dword ptr [EBP + -0x50],EDI
00a4b6fc : MOV word ptr [EBP + -0x60],AX
00a4b700 : MOV byte ptr [EBP + -0x4],0x2
00a4b704 : CMP dword ptr [EBP + -0x14],EBX
00a4b707 : JC 0x00a4b711
00a4b709 : MOV ECX,dword ptr [EBP + -0x28]
00a4b70c : CALL 0x006f04e0
00a4b711 : XOR ECX,ECX
00a4b713 : MOV dword ptr [EBP + -0x14],ESI
00a4b716 : MOV dword ptr [EBP + -0x18],EDI
00a4b719 : MOV word ptr [EBP + -0x28],CX
00a4b71d : MOV dword ptr [EBP + -0x4],0xffffffff
00a4b724 : CMP dword ptr [EBP + -0x30],EBX
00a4b727 : JC 0x00a4b731
00a4b729 : MOV ECX,dword ptr [EBP + -0x44]
00a4b72c : CALL 0x006f04e0
00a4b731 : XOR EDX,EDX
00a4b733 : MOV dword ptr [EBP + -0x30],ESI
00a4b736 : MOV dword ptr [EBP + -0x34],EDI
00a4b739 : MOV word ptr [EBP + -0x44],DX
00a4b73d : JMP 0x00a4b7ce
00a4b742 : PUSH 0x1c
00a4b744 : XOR EAX,EAX
00a4b746 : XOR ESI,ESI
00a4b748 : PUSH 0xcc7b3c
00a4b74d : LEA ECX,[EBP + -0x80]
00a4b750 : MOV dword ptr [EBP + -0x68],0x7
00a4b757 : MOV dword ptr [EBP + -0x6c],ESI
00a4b75a : MOV word ptr [EBP + -0x7c],AX
00a4b75e : CALL 0x00406360
00a4b763 : MOV dword ptr [EBP + -0x4],ESI
00a4b766 : LEA ECX,[EBP + -0x80]
00a4b769 : PUSH ECX
00a4b76a : MOV ECX,dword ptr [0x0172491c]
00a4b770 : LEA EDI,[EBP + -0x64]
00a4b773 : CALL 0x0081d120
00a4b778 : MOV byte ptr [EBP + -0x4],0x1
00a4b77c : PUSH -0x1
00a4b77e : PUSH ESI
00a4b77f : PUSH EAX
00a4b780 : MOV ECX,EBX
00a4b782 : CALL 0x00405eb0
00a4b787 : MOV byte ptr [EBP + -0x4],0x0
00a4b78b : MOV EBX,0x8
00a4b790 : CMP dword ptr [EBP + -0x4c],EBX
00a4b793 : JC 0x00a4b79d
00a4b795 : MOV ECX,dword ptr [EBP + -0x60]
00a4b798 : CALL 0x006f04e0
00a4b79d : MOV EDI,0x7
00a4b7a2 : XOR EDX,EDX
00a4b7a4 : MOV dword ptr [EBP + -0x4c],EDI
00a4b7a7 : MOV dword ptr [EBP + -0x50],ESI
00a4b7aa : MOV word ptr [EBP + -0x60],DX
00a4b7ae : MOV dword ptr [EBP + -0x4],0xffffffff
00a4b7b5 : CMP dword ptr [EBP + -0x68],EBX
00a4b7b8 : JC 0x00a4b7c2
00a4b7ba : MOV ECX,dword ptr [EBP + -0x7c]
00a4b7bd : CALL 0x006f04e0
00a4b7c2 : XOR EAX,EAX
00a4b7c4 : MOV dword ptr [EBP + -0x68],EDI
00a4b7c7 : MOV dword ptr [EBP + -0x6c],ESI
00a4b7ca : MOV word ptr [EBP + -0x7c],AX
00a4b7ce : MOV ECX,dword ptr [EBP + -0xc]
00a4b7d1 : MOV dword ptr FS:[0x0],ECX
00a4b7d8 : POP ECX
00a4b7d9 : POP EDI
00a4b7da : POP ESI
00a4b7db : POP EBX
00a4b7dc : MOV ECX,dword ptr [EBP + -0x10]
00a4b7df : XOR ECX,EBP
00a4b7e1 : CALL 0x00633e6b
00a4b7e6 : MOV ESP,EBP
00a4b7e8 : POP EBP
00a4b7e9 : RET 0x4
