PROGRAM  : Maestia.exe
FUNCTION : FUN_00406226
ENTRY    : 00406226
BODY     : [[00406226, 0040625e] [00406262, 0040628f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00406226(void)

{
  void *_Src;
  undefined4 *puVar1;
  int iVar2;
  undefined4 *unaff_EBX;
  int unaff_EBP;
  uint unaff_ESI;
  int unaff_EDI;
  
  iVar2 = 0;
  if (*(int *)(unaff_EBP + 0xc) != 0) {
    if (*(uint *)(unaff_EDI + 0x18) < 8) {
      _Src = (void *)(unaff_EDI + 4);
    }
    else {
      _Src = *(void **)(unaff_EDI + 4);
    }
    _memcpy_s(unaff_EBX,unaff_ESI * 2 + 2,_Src,*(int *)(unaff_EBP + 0xc) * 2);
    iVar2 = *(int *)(unaff_EBP + 0xc);
  }
  if (7 < *(uint *)(unaff_EDI + 0x18)) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *(undefined4 *)(unaff_EDI + 4) = unaff_EBX;
  *(uint *)(unaff_EDI + 0x18) = unaff_ESI;
  *(int *)(unaff_EDI + 0x14) = iVar2;
  puVar1 = (undefined4 *)(unaff_EDI + 4);
  if (7 < unaff_ESI) {
    puVar1 = unaff_EBX;
  }
  *(undefined2 *)((int)puVar1 + iVar2 * 2) = 0;
  ExceptionList = *(void **)(unaff_EBP + -0xc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00406226 : MOV ECX,dword ptr [EBP + 0xc]
00406229 : TEST ECX,ECX
0040622b : JBE 0x00406251
0040622d : CMP dword ptr [EDI + 0x18],0x8
00406231 : JC 0x00406238
00406233 : MOV EAX,dword ptr [EDI + 0x4]
00406236 : JMP 0x0040623b
00406238 : LEA EAX,[EDI + 0x4]
0040623b : LEA EDX,[ECX + ECX*0x1]
0040623e : PUSH EDX
0040623f : PUSH EAX
00406240 : LEA EAX,[ESI + ESI*0x1 + 0x2]
00406244 : PUSH EAX
00406245 : PUSH EBX
00406246 : CALL 0x00633ea4
0040624b : ADD ESP,0x10
0040624e : MOV ECX,dword ptr [EBP + 0xc]
00406251 : CMP dword ptr [EDI + 0x18],0x8
00406255 : JC 0x00406262
00406257 : MOV ECX,dword ptr [EDI + 0x4]
0040625a : CALL 0x006f04e0
00406262 : LEA EAX,[EDI + 0x4]
00406265 : XOR EDX,EDX
00406267 : MOV dword ptr [EAX],EBX
00406269 : MOV dword ptr [EDI + 0x18],ESI
0040626c : MOV dword ptr [EDI + 0x14],ECX
0040626f : CMP ESI,0x8
00406272 : JC 0x00406276
00406274 : MOV EAX,EBX
00406276 : XOR EDX,EDX
00406278 : MOV word ptr [EAX + ECX*0x2],DX
0040627c : MOV ECX,dword ptr [EBP + -0xc]
0040627f : MOV dword ptr FS:[0x0],ECX
00406286 : POP ECX
00406287 : POP EDI
00406288 : POP ESI
00406289 : POP EBX
0040628a : MOV ESP,EBP
0040628c : POP EBP
0040628d : RET 0x8
