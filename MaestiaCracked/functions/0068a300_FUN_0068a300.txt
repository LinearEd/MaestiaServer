PROGRAM  : Maestia.exe
FUNCTION : FUN_0068a300
ENTRY    : 0068a300
BODY     : [[0068a300, 0068a440]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0068a300(undefined4 *param_1,int param_2,int param_3)

{
  bool bVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  uint uVar7;
  
  puVar2 = param_1;
  uVar7 = param_1[1];
  uVar5 = *param_1;
  uVar6 = (int)*(short *)((int)param_1 + 0x16) + *(short *)((int)param_1 + 0x3a) + param_2;
  bVar1 = false;
  param_1 = (undefined4 *)0x0;
  if (uVar7 < uVar6) {
    uVar6 = uVar6 + 7 & 0xfffffff8;
    uVar3 = FUN_0068a220(uVar5,8,uVar7,uVar6,puVar2[6],&param_1);
    puVar2[6] = uVar3;
    if (param_1 != (undefined4 *)0x0) {
      return (int)param_1;
    }
    uVar3 = FUN_0068a220(uVar5,1,uVar7,uVar6,puVar2[7],&param_1);
    puVar2[7] = uVar3;
    if (param_1 != (undefined4 *)0x0) {
      return (int)param_1;
    }
    if (*(char *)(puVar2 + 4) != '\0') {
      iVar4 = FUN_0068a220(uVar5,8,uVar7 * 2,uVar6 * 2,puVar2[10],&param_1);
      puVar2[10] = iVar4;
      if (param_1 != (undefined4 *)0x0) {
        return (int)param_1;
      }
      _memmove((void *)(iVar4 + uVar6 * 8),(void *)(uVar7 * 8 + iVar4),uVar7 * 8);
      puVar2[0xb] = puVar2[10] + uVar6 * 8;
    }
    bVar1 = true;
    puVar2[1] = uVar6;
  }
  uVar7 = (int)*(short *)(puVar2 + 5) + *(short *)(puVar2 + 0xe) + param_3;
  if (uVar7 <= (uint)puVar2[2]) {
    if (bVar1) {
      FUN_00686340();
    }
    return (int)param_1;
  }
  uVar7 = uVar7 + 3 & 0xfffffffc;
  uVar5 = FUN_0068a220(uVar5,2,puVar2[2],uVar7,puVar2[8],&param_1);
  puVar2[8] = uVar5;
  if (param_1 != (undefined4 *)0x0) {
    return (int)param_1;
  }
  puVar2[2] = uVar7;
  FUN_00686340();
  return (int)param_1;
}



============================================================
DISASSEMBLY
============================================================
0068a300 : PUSH EBX
0068a301 : PUSH EBP
0068a302 : PUSH ESI
0068a303 : MOV ESI,dword ptr [ESP + 0x10]
0068a307 : MOVSX EAX,word ptr [ESI + 0x3a]
0068a30b : ADD EAX,dword ptr [ESP + 0x14]
0068a30f : MOV EBX,dword ptr [ESI + 0x4]
0068a312 : MOV EBP,dword ptr [ESI]
0068a314 : PUSH EDI
0068a315 : MOVSX EDI,word ptr [ESI + 0x16]
0068a319 : ADD EDI,EAX
0068a31b : XOR CL,CL
0068a31d : MOV dword ptr [ESP + 0x14],0x0
0068a325 : CMP EDI,EBX
0068a327 : JBE 0x0068a3d7
0068a32d : MOV EDX,dword ptr [ESI + 0x18]
0068a330 : LEA ECX,[ESP + 0x14]
0068a334 : PUSH ECX
0068a335 : PUSH EDX
0068a336 : ADD EDI,0x7
0068a339 : AND EDI,0xfffffff8
0068a33c : PUSH EDI
0068a33d : PUSH EBX
0068a33e : PUSH 0x8
0068a340 : PUSH EBP
0068a341 : CALL 0x0068a220
0068a346 : MOV dword ptr [ESI + 0x18],EAX
0068a349 : MOV EAX,dword ptr [ESP + 0x2c]
0068a34d : ADD ESP,0x18
0068a350 : TEST EAX,EAX
0068a352 : JNZ 0x0068a43c
0068a358 : MOV ECX,dword ptr [ESI + 0x1c]
0068a35b : LEA EAX,[ESP + 0x14]
0068a35f : PUSH EAX
0068a360 : PUSH ECX
0068a361 : PUSH EDI
0068a362 : PUSH EBX
0068a363 : PUSH 0x1
0068a365 : PUSH EBP
0068a366 : CALL 0x0068a220
0068a36b : MOV dword ptr [ESI + 0x1c],EAX
0068a36e : MOV EAX,dword ptr [ESP + 0x2c]
0068a372 : ADD ESP,0x18
0068a375 : TEST EAX,EAX
0068a377 : JNZ 0x0068a43c
0068a37d : CMP byte ptr [ESI + 0x10],AL
0068a380 : JZ 0x0068a3d2
0068a382 : MOV EAX,dword ptr [ESI + 0x28]
0068a385 : LEA EDX,[ESP + 0x14]
0068a389 : PUSH EDX
0068a38a : PUSH EAX
0068a38b : LEA ECX,[EDI + EDI*0x1]
0068a38e : PUSH ECX
0068a38f : LEA EDX,[EBX + EBX*0x1]
0068a392 : PUSH EDX
0068a393 : PUSH 0x8
0068a395 : PUSH EBP
0068a396 : CALL 0x0068a220
0068a39b : MOV ECX,dword ptr [ESP + 0x2c]
0068a39f : ADD ESP,0x18
0068a3a2 : MOV dword ptr [ESI + 0x28],EAX
0068a3a5 : TEST ECX,ECX
0068a3a7 : JNZ 0x0068a43a
0068a3ad : LEA ECX,[EBX*0x8 + 0x0]
0068a3b4 : PUSH ECX
0068a3b5 : ADD ECX,EAX
0068a3b7 : LEA EBX,[EDI*0x8 + 0x0]
0068a3be : PUSH ECX
0068a3bf : ADD EAX,EBX
0068a3c1 : PUSH EAX
0068a3c2 : CALL 0x00636880
0068a3c7 : MOV ECX,dword ptr [ESI + 0x28]
0068a3ca : ADD ESP,0xc
0068a3cd : ADD ECX,EBX
0068a3cf : MOV dword ptr [ESI + 0x2c],ECX
0068a3d2 : MOV CL,0x1
0068a3d4 : MOV dword ptr [ESI + 0x4],EDI
0068a3d7 : MOVSX EDX,word ptr [ESI + 0x38]
0068a3db : MOVSX EDI,word ptr [ESI + 0x14]
0068a3df : ADD EDX,dword ptr [ESP + 0x1c]
0068a3e3 : MOV EAX,dword ptr [ESI + 0x8]
0068a3e6 : ADD EDI,EDX
0068a3e8 : CMP EDI,EAX
0068a3ea : JBE 0x0068a426
0068a3ec : MOV EDX,dword ptr [ESI + 0x20]
0068a3ef : LEA ECX,[ESP + 0x14]
0068a3f3 : PUSH ECX
0068a3f4 : PUSH EDX
0068a3f5 : ADD EDI,0x3
0068a3f8 : AND EDI,0xfffffffc
0068a3fb : PUSH EDI
0068a3fc : PUSH EAX
0068a3fd : PUSH 0x2
0068a3ff : PUSH EBP
0068a400 : CALL 0x0068a220
0068a405 : MOV dword ptr [ESI + 0x20],EAX
0068a408 : MOV EAX,dword ptr [ESP + 0x2c]
0068a40c : ADD ESP,0x18
0068a40f : TEST EAX,EAX
0068a411 : JNZ 0x0068a43c
0068a413 : MOV EAX,ESI
0068a415 : MOV dword ptr [ESI + 0x8],EDI
0068a418 : CALL 0x00686340
0068a41d : MOV EAX,dword ptr [ESP + 0x14]
0068a421 : POP EDI
0068a422 : POP ESI
0068a423 : POP EBP
0068a424 : POP EBX
0068a425 : RET
0068a426 : TEST CL,CL
0068a428 : JZ 0x0068a431
0068a42a : MOV EAX,ESI
0068a42c : CALL 0x00686340
0068a431 : MOV EAX,dword ptr [ESP + 0x14]
0068a435 : POP EDI
0068a436 : POP ESI
0068a437 : POP EBP
0068a438 : POP EBX
0068a439 : RET
0068a43a : MOV EAX,ECX
0068a43c : POP EDI
0068a43d : POP ESI
0068a43e : POP EBP
0068a43f : POP EBX
0068a440 : RET
