PROGRAM  : Maestia.exe
FUNCTION : FUN_005c0840
ENTRY    : 005c0840
BODY     : [[005c0840, 005c0929]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005c0840(int param_1)

{
  char cVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  int iVar4;
  undefined **local_4c [19];
  
  cVar1 = FUN_00526030(0x29);
  if (cVar1 != '\0') {
    if (((*(int *)(param_1 + 8) != 0) && (*(int *)(param_1 + 8) != 0x10)) &&
       (1 < *(int *)(param_1 + 0x1c))) {
      uVar3 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(0);
      uVar2 = FUN_00527a80(uVar3);
      uVar3 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(1);
      uVar3 = FUN_00527a80(uVar3);
      iVar4 = FUN_00515840(0x48,0);
      if (iVar4 == 0) {
        iVar4 = 0;
      }
      else {
        iVar4 = FUN_00585130(*(undefined4 *)(param_1 + 0x18));
      }
      FUN_005bfda0(*(undefined4 *)(param_1 + 0x18),iVar4);
      FUN_005eef70(local_4c,uVar2,uVar3);
      FUN_005271c0(iVar4);
      local_4c[0] = &PTR_LAB_00b85ff8;
      if (iVar4 != 0) {
        FUN_00503db0();
      }
    }
    return;
  }
  FUN_00526050("TextSnapshot",0,0);
  return;
}



============================================================
DISASSEMBLY
============================================================
005c0840 : SUB ESP,0x50
005c0843 : PUSH ESI
005c0844 : MOV ESI,dword ptr [ESP + 0x58]
005c0848 : PUSH 0x29
005c084a : MOV ECX,ESI
005c084c : CALL 0x00526030
005c0851 : TEST AL,AL
005c0853 : JNZ 0x005c086a
005c0855 : PUSH 0x0
005c0857 : PUSH 0x0
005c0859 : PUSH 0xb8fd10
005c085e : MOV ECX,ESI
005c0860 : CALL 0x00526050
005c0865 : POP ESI
005c0866 : ADD ESP,0x50
005c0869 : RET
005c086a : MOV EAX,dword ptr [ESI + 0x8]
005c086d : TEST EAX,EAX
005c086f : JZ 0x005c0925
005c0875 : ADD EAX,-0x10
005c0878 : MOV dword ptr [ESP + 0x4],EAX
005c087c : JZ 0x005c0925
005c0882 : CMP dword ptr [ESI + 0x1c],0x2
005c0886 : JL 0x005c0925
005c088c : MOV EAX,dword ptr [ESI + 0x18]
005c088f : PUSH EBX
005c0890 : PUSH EBP
005c0891 : PUSH EDI
005c0892 : PUSH EAX
005c0893 : PUSH 0x0
005c0895 : MOV ECX,ESI
005c0897 : CALL 0x00526260
005c089c : MOV ECX,EAX
005c089e : CALL 0x00527a80
005c08a3 : MOV ECX,dword ptr [ESI + 0x18]
005c08a6 : PUSH ECX
005c08a7 : PUSH 0x1
005c08a9 : MOV ECX,ESI
005c08ab : MOV EBX,EAX
005c08ad : CALL 0x00526260
005c08b2 : MOV ECX,EAX
005c08b4 : CALL 0x00527a80
005c08b9 : MOV EDX,dword ptr [ESI + 0x18]
005c08bc : MOV EBP,EAX
005c08be : MOV EAX,dword ptr [EDX + 0x78]
005c08c1 : MOV ECX,dword ptr [EAX + 0x288]
005c08c7 : PUSH 0x0
005c08c9 : PUSH 0x48
005c08cb : CALL 0x00515840
005c08d0 : TEST EAX,EAX
005c08d2 : JZ 0x005c08e3
005c08d4 : MOV ECX,dword ptr [ESI + 0x18]
005c08d7 : PUSH ECX
005c08d8 : MOV ECX,EAX
005c08da : CALL 0x00585130
005c08df : MOV EDI,EAX
005c08e1 : JMP 0x005c08e5
005c08e3 : XOR EDI,EDI
005c08e5 : MOV EDX,dword ptr [ESI + 0x18]
005c08e8 : PUSH EDI
005c08e9 : PUSH EDX
005c08ea : LEA ECX,[ESP + 0x1c]
005c08ee : CALL 0x005bfda0
005c08f3 : MOV ECX,dword ptr [ESP + 0x10]
005c08f7 : PUSH EBP
005c08f8 : PUSH EBX
005c08f9 : LEA EAX,[ESP + 0x1c]
005c08fd : PUSH EAX
005c08fe : ADD ECX,0x30
005c0901 : CALL 0x005eef70
005c0906 : MOV ECX,dword ptr [ESI + 0x4]
005c0909 : PUSH EDI
005c090a : CALL 0x005271c0
005c090f : MOV dword ptr [ESP + 0x14],0xb85ff8
005c0917 : TEST EDI,EDI
005c0919 : JZ 0x005c0922
005c091b : MOV ECX,EDI
005c091d : CALL 0x00503db0
005c0922 : POP EDI
005c0923 : POP EBP
005c0924 : POP EBX
005c0925 : POP ESI
005c0926 : ADD ESP,0x50
005c0929 : RET
