PROGRAM  : Maestia.exe
FUNCTION : FUN_004d6c20
ENTRY    : 004d6c20
BODY     : [[004d6c20, 004d6c8c]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_004d6c20(ushort param_1,undefined4 param_2)

{
  undefined4 *puVar1;
  int in_ECX;
  uint uVar2;
  
  uVar2 = (uint)(param_1 >> 4) % *(uint *)(in_ECX + 0x24);
  puVar1 = *(undefined4 **)(*(int *)(in_ECX + 0x20) + uVar2 * 4);
  while( true ) {
    if (puVar1 == (undefined4 *)0x0) {
      puVar1 = (undefined4 *)FUN_004f7280();
      *(int *)(in_ECX + 0x28) = *(int *)(in_ECX + 0x28) + 1;
      puVar1[1] = uVar2;
      *(ushort *)(puVar1 + 2) = param_1;
      puVar1[3] = param_2;
      *puVar1 = *(undefined4 *)(*(int *)(in_ECX + 0x20) + uVar2 * 4);
      *(undefined4 **)(*(int *)(in_ECX + 0x20) + uVar2 * 4) = puVar1;
      return 1;
    }
    if (*(ushort *)(puVar1 + 2) == param_1) break;
    puVar1 = (undefined4 *)*puVar1;
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
004d6c20 : PUSH EBP
004d6c21 : MOV EBP,ESP
004d6c23 : PUSH EBX
004d6c24 : PUSH EDI
004d6c25 : MOV EDI,ECX
004d6c27 : MOV CX,word ptr [EBP + 0x8]
004d6c2b : MOVZX EAX,CX
004d6c2e : SHR EAX,0x4
004d6c31 : XOR EDX,EDX
004d6c33 : DIV dword ptr [EDI + 0x24]
004d6c36 : MOV EAX,dword ptr [EDI + 0x20]
004d6c39 : MOV EBX,EDX
004d6c3b : MOV EAX,dword ptr [EAX + EBX*0x4]
004d6c3e : TEST EAX,EAX
004d6c40 : JZ 0x004d6c4e
004d6c42 : CMP word ptr [EAX + 0x8],CX
004d6c46 : JZ 0x004d6c85
004d6c48 : MOV EAX,dword ptr [EAX]
004d6c4a : TEST EAX,EAX
004d6c4c : JNZ 0x004d6c42
004d6c4e : PUSH ESI
004d6c4f : LEA ESI,[EDI + 0x2c]
004d6c52 : CALL 0x004f7280
004d6c57 : INC dword ptr [EDI + 0x28]
004d6c5a : MOV CX,word ptr [EBP + 0x8]
004d6c5e : MOV EDX,dword ptr [EBP + 0xc]
004d6c61 : MOV dword ptr [EAX + 0x4],EBX
004d6c64 : MOV word ptr [EAX + 0x8],CX
004d6c68 : MOV dword ptr [EAX + 0xc],EDX
004d6c6b : MOV ECX,dword ptr [EDI + 0x20]
004d6c6e : MOV EDX,dword ptr [ECX + EBX*0x4]
004d6c71 : MOV dword ptr [EAX],EDX
004d6c73 : MOV ECX,dword ptr [EDI + 0x20]
004d6c76 : POP ESI
004d6c77 : MOV dword ptr [ECX + EBX*0x4],EAX
004d6c7a : POP EDI
004d6c7b : MOV EAX,0x1
004d6c80 : POP EBX
004d6c81 : POP EBP
004d6c82 : RET 0x8
004d6c85 : POP EDI
004d6c86 : XOR EAX,EAX
004d6c88 : POP EBX
004d6c89 : POP EBP
004d6c8a : RET 0x8
