PROGRAM  : Maestia.exe
FUNCTION : sbumpc
ENTRY    : 00625ddb
BODY     : [[00625ddb, 00625e0b]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Multiple Matches With Same Base Name
    public: unsigned short __thiscall std::basic_streambuf<unsigned short,struct
   std::char_traits<unsigned short> >::sbumpc(void)
    public: unsigned short __thiscall std::basic_streambuf<wchar_t,struct std::char_traits<wchar_t>
   >::sbumpc(void)
   
   Library: Visual Studio 2008 Release */

undefined2 sbumpc(void)

{
  undefined2 *puVar1;
  undefined2 uVar2;
  int iVar3;
  int *in_ECX;
  
  if (*(int *)in_ECX[8] == 0) {
    iVar3 = 0;
  }
  else {
    iVar3 = *(int *)in_ECX[0xc];
  }
  if (0 < iVar3) {
    *(int *)in_ECX[0xc] = *(int *)in_ECX[0xc] + -1;
    puVar1 = *(undefined2 **)in_ECX[8];
    *(undefined2 **)in_ECX[8] = puVar1 + 1;
    return *puVar1;
  }
  uVar2 = (**(code **)(*in_ECX + 0x14))();
  return uVar2;
}



============================================================
DISASSEMBLY
============================================================
00625ddb : MOV EAX,dword ptr [ECX + 0x20]
00625dde : CMP dword ptr [EAX],0x0
00625de1 : JZ 0x00625dea
00625de3 : MOV EAX,dword ptr [ECX + 0x30]
00625de6 : MOV EAX,dword ptr [EAX]
00625de8 : JMP 0x00625dec
00625dea : XOR EAX,EAX
00625dec : TEST EAX,EAX
00625dee : JLE 0x00625e03
00625df0 : MOV EAX,dword ptr [ECX + 0x30]
00625df3 : DEC dword ptr [EAX]
00625df5 : MOV ECX,dword ptr [ECX + 0x20]
00625df8 : MOV EAX,dword ptr [ECX]
00625dfa : LEA EDX,[EAX + 0x2]
00625dfd : MOV dword ptr [ECX],EDX
00625dff : MOVZX EAX,word ptr [EAX]
00625e02 : RET
00625e03 : MOV EAX,dword ptr [ECX]
00625e05 : CALL dword ptr [EAX + 0x14]
00625e08 : MOVZX EAX,AX
00625e0b : RET
