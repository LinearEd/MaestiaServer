PROGRAM  : Maestia.exe
FUNCTION : _Init
ENTRY    : 0063070e
BODY     : [[0063070e, 00630848]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Function: __EH_prolog3_catch replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* Library Function - Single Match
    protected: void __thiscall std::_Mpunct<char>::_Init(class std::_Locinfo const &,bool)
   
   Library: Visual Studio 2008 Release */

void __thiscall std::_Mpunct<char>::_Init(_Mpunct<char> *this,_Locinfo *param_1,bool param_2)

{
  _Mpunct<char> *p_Var1;
  char cVar2;
  _Cvtvec *p_Var3;
  lconv *plVar4;
  undefined4 uVar5;
  char *pcVar6;
  _Mpunct<char> *local_18;
  uchar local_8 [8];
  int iVar7;
  
  local_8[4] = '\x10';
  local_8[5] = '\0';
  local_8[6] = '\0';
  local_8[7] = '\0';
  builtin_memcpy(local_8,"\x1a\ac",4);
  local_18 = this;
  p_Var3 = _Locinfo::_Getcvt(param_1,(_Cvtvec *)&stack0xffffffe0);
  p_Var1 = this + 0x2c;
  *(uint *)p_Var1 = p_Var3->_Page;
  *(uint *)(this + 0x30) = p_Var3->_Mbcurmax;
  plVar4 = _localeconv();
  *(undefined4 *)(this + 8) = 0;
  *(undefined4 *)(this + 0x10) = 0;
  *(undefined4 *)(this + 0x14) = 0;
  *(undefined4 *)(this + 0x18) = 0;
  local_8[0] = '\0';
  local_8[1] = '\0';
  local_8[2] = '\0';
  local_8[3] = '\0';
  uVar5 = FUN_004d4aa0(plVar4->mon_grouping,0,p_Var1);
  *(undefined4 *)(this + 8) = uVar5;
  if (this[0x28] == (_Mpunct<char>)0x0) {
    pcVar6 = plVar4->currency_symbol;
  }
  else {
    pcVar6 = plVar4->int_curr_symbol;
  }
  uVar5 = FUN_004d4aa0(pcVar6,0,p_Var1);
  *(undefined4 *)(this + 0x10) = uVar5;
  pcVar6 = "";
  if ((byte)plVar4->p_sign_posn < 5) {
    pcVar6 = plVar4->positive_sign;
  }
  uVar5 = FUN_004d4aa0(pcVar6,0,p_Var1);
  *(undefined4 *)(this + 0x14) = uVar5;
  pcVar6 = "-";
  if ((byte)plVar4->n_sign_posn < 5) {
    pcVar6 = plVar4->negative_sign;
  }
  uVar5 = FUN_004d4aa0(pcVar6,0,p_Var1);
  *(undefined4 *)(this + 0x18) = uVar5;
  this[0xc] = *(_Mpunct<char> *)plVar4->mon_decimal_point;
  this[0xd] = *(_Mpunct<char> *)plVar4->mon_thousands_sep;
  if (this[0x28] == (_Mpunct<char>)0x0) {
    cVar2 = plVar4->frac_digits;
  }
  else {
    cVar2 = plVar4->int_frac_digits;
  }
  iVar7 = (int)cVar2;
  *(int *)(this + 0x1c) = iVar7;
  if ((iVar7 < 0) || (0x7e < iVar7)) {
    *(undefined4 *)(this + 0x1c) = 0;
  }
  Makpat(this + 0x20,(int)plVar4->p_sep_by_space,(int)plVar4->p_cs_precedes,(int)plVar4->p_sign_posn
        );
  Makpat(this + 0x24,(int)plVar4->n_sep_by_space,(int)plVar4->n_cs_precedes,(int)plVar4->n_sign_posn
        );
  if (param_2) {
    _memcpy(this + 0x20,&DAT_00b95a64,4);
    _memcpy(this + 0x24,&DAT_00b95a64,4);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0063070e : PUSH 0x10
00630710 : MOV EAX,0xb0c136
00630715 : CALL 0x00640e50
0063071a : MOV ESI,ECX
0063071c : MOV dword ptr [EBP + -0x14],ESI
0063071f : MOV ECX,dword ptr [EBP + 0x8]
00630722 : LEA EAX,[EBP + -0x1c]
00630725 : PUSH EAX
00630726 : CALL 0x004d03c0
0063072b : MOV ECX,dword ptr [EAX]
0063072d : LEA EBX,[ESI + 0x2c]
00630730 : MOV dword ptr [EBX],ECX
00630732 : MOV EAX,dword ptr [EAX + 0x4]
00630735 : MOV dword ptr [EBX + 0x4],EAX
00630738 : CALL 0x0063bc64
0063073d : MOV EDI,EAX
0063073f : XOR EAX,EAX
00630741 : PUSH EBX
00630742 : PUSH EAX
00630743 : MOV dword ptr [ESI + 0x8],EAX
00630746 : MOV dword ptr [ESI + 0x10],EAX
00630749 : MOV dword ptr [ESI + 0x14],EAX
0063074c : MOV dword ptr [ESI + 0x18],EAX
0063074f : PUSH dword ptr [EDI + 0x1c]
00630752 : MOV dword ptr [EBP + -0x4],EAX
00630755 : CALL 0x004d4aa0
0063075a : ADD ESP,0xc
0063075d : CMP byte ptr [ESI + 0x28],0x0
00630761 : MOV dword ptr [ESI + 0x8],EAX
00630764 : JZ 0x0063076b
00630766 : MOV EAX,dword ptr [EDI + 0xc]
00630769 : JMP 0x0063076e
0063076b : MOV EAX,dword ptr [EDI + 0x10]
0063076e : PUSH EBX
0063076f : PUSH 0x0
00630771 : PUSH EAX
00630772 : CALL 0x004d4aa0
00630777 : MOV dword ptr [ESI + 0x10],EAX
0063077a : ADD ESP,0xc
0063077d : CMP byte ptr [EDI + 0x2e],0x4
00630781 : MOV EAX,0xcca874
00630786 : JA 0x0063078b
00630788 : MOV EAX,dword ptr [EDI + 0x20]
0063078b : PUSH EBX
0063078c : PUSH 0x0
0063078e : PUSH EAX
0063078f : CALL 0x004d4aa0
00630794 : MOV dword ptr [ESI + 0x14],EAX
00630797 : ADD ESP,0xc
0063079a : CMP byte ptr [EDI + 0x2f],0x4
0063079e : MOV EAX,0xb95d70
006307a3 : JA 0x006307a8
006307a5 : MOV EAX,dword ptr [EDI + 0x24]
006307a8 : PUSH EBX
006307a9 : PUSH 0x0
006307ab : PUSH EAX
006307ac : CALL 0x004d4aa0
006307b1 : MOV dword ptr [ESI + 0x18],EAX
006307b4 : MOV EAX,dword ptr [EDI + 0x14]
006307b7 : MOV AL,byte ptr [EAX]
006307b9 : MOV byte ptr [ESI + 0xc],AL
006307bc : MOV EAX,dword ptr [EDI + 0x18]
006307bf : MOV AL,byte ptr [EAX]
006307c1 : ADD ESP,0xc
006307c4 : CMP byte ptr [ESI + 0x28],0x0
006307c8 : MOV byte ptr [ESI + 0xd],AL
006307cb : JZ 0x006307d2
006307cd : MOV AL,byte ptr [EDI + 0x28]
006307d0 : JMP 0x006307d5
006307d2 : MOV AL,byte ptr [EDI + 0x29]
006307d5 : MOVSX EAX,AL
006307d8 : MOV dword ptr [ESI + 0x1c],EAX
006307db : TEST EAX,EAX
006307dd : JL 0x006307e4
006307df : CMP EAX,0x7f
006307e2 : JL 0x006307e8
006307e4 : AND dword ptr [ESI + 0x1c],0x0
006307e8 : MOVSX EAX,byte ptr [EDI + 0x2e]
006307ec : PUSH EAX
006307ed : MOVSX EAX,byte ptr [EDI + 0x2a]
006307f1 : PUSH EAX
006307f2 : MOVSX EAX,byte ptr [EDI + 0x2b]
006307f6 : PUSH EAX
006307f7 : LEA EBX,[ESI + 0x20]
006307fa : PUSH EBX
006307fb : MOV ECX,ESI
006307fd : CALL 0x00624f72
00630802 : MOVSX ECX,byte ptr [EDI + 0x2f]
00630806 : PUSH ECX
00630807 : MOVSX ECX,byte ptr [EDI + 0x2c]
0063080b : PUSH ECX
0063080c : MOVSX ECX,byte ptr [EDI + 0x2d]
00630810 : LEA EAX,[ESI + 0x24]
00630813 : PUSH ECX
00630814 : PUSH EAX
00630815 : MOV ECX,ESI
00630817 : MOV dword ptr [EBP + 0x8],EAX
0063081a : CALL 0x00624f72
0063081f : CMP byte ptr [EBP + 0xc],0x0
00630823 : JZ 0x00630841
00630825 : PUSH 0x4
00630827 : MOV ESI,0xb95a64
0063082c : PUSH ESI
0063082d : PUSH EBX
0063082e : CALL 0x0063ae40
00630833 : PUSH 0x4
00630835 : PUSH ESI
00630836 : PUSH dword ptr [EBP + 0x8]
00630839 : CALL 0x0063ae40
0063083e : ADD ESP,0x18
00630841 : CALL 0x00640ebc
00630846 : RET 0x8
