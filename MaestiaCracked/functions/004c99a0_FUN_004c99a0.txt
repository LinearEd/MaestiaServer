PROGRAM  : Maestia.exe
FUNCTION : FUN_004c99a0
ENTRY    : 004c99a0
BODY     : [[004c99a0, 004c9a80] [004c9aa3, 004c9b23]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004c99a0(int param_1,undefined4 param_2,undefined4 param_3,int param_4,int param_5,
                 int param_6,int param_7,int param_8)

{
  char cVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  uint uStack_7c;
  undefined1 local_68 [80];
  uint local_18;
  undefined1 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b7cdd4;
  local_10 = ExceptionList;
  uStack_7c = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_14 = (undefined1 *)&uStack_7c;
  ExceptionList = &local_10;
  uVar2 = param_4 - *(int *)(param_1 + 0x18);
  local_18 = *(uint *)(param_1 + 0x1c);
  if ((param_5 != param_7) || (param_6 != param_8)) {
    if (uVar2 < local_18 - uVar2) {
      local_8 = 0;
      while (cVar1 = FUN_004c9c90(), cVar1 != '\0') {
        FUN_004c9510();
        FUN_004c7500(local_68);
        local_8._0_1_ = 1;
        FUN_004c9b50();
        local_8 = (uint)local_8._1_3_ << 8;
        FUN_0044cb00(local_68);
      }
      local_8 = 0xffffffff;
      iVar4 = *(int *)(param_1 + 0x1c) - local_18;
      if (uVar2 != 0) {
        iVar4 = iVar4 + uVar2;
        FUN_004c9bd0(iVar4);
      }
    }
    else {
      local_8 = 3;
      local_14 = (undefined1 *)&uStack_7c;
      while (cVar1 = FUN_004c9c90(), cVar1 != '\0') {
        FUN_004c9510();
        uVar3 = FUN_004c7500(local_68);
        local_8._0_1_ = 4;
        FUN_004c7670(uVar3);
        local_8 = CONCAT31(local_8._1_3_,3);
        FUN_0044cb00(local_68);
      }
      local_8 = 0xffffffff;
      if (local_18 <= uVar2) {
        ExceptionList = local_10;
        return;
      }
      FUN_004c9bd0(local_18);
      FUN_004c9bd0(*(undefined4 *)(param_1 + 0x1c));
      iVar4 = *(int *)(param_1 + 0x1c);
    }
    FUN_004c9bd0(iVar4);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
004c99a0 : PUSH EBP
004c99a1 : MOV EBP,ESP
004c99a3 : PUSH -0x1
004c99a5 : PUSH 0xb7cdd4
004c99aa : MOV EAX,FS:[0x0]
004c99b0 : PUSH EAX
004c99b1 : SUB ESP,0x5c
004c99b4 : PUSH EBX
004c99b5 : PUSH ESI
004c99b6 : PUSH EDI
004c99b7 : MOV EAX,[0x00d66fa0]
004c99bc : XOR EAX,EBP
004c99be : PUSH EAX
004c99bf : LEA EAX,[EBP + -0xc]
004c99c2 : MOV FS:[0x0],EAX
004c99c8 : MOV dword ptr [EBP + -0x10],ESP
004c99cb : MOV ESI,dword ptr [EBP + 0x8]
004c99ce : MOV ECX,dword ptr [ESI + 0x18]
004c99d1 : MOV EAX,dword ptr [EBP + 0x14]
004c99d4 : SUB EAX,ECX
004c99d6 : MOV EBX,EAX
004c99d8 : MOV ECX,dword ptr [ESI + 0x1c]
004c99db : MOV EAX,ECX
004c99dd : SUB EAX,EBX
004c99df : MOV dword ptr [EBP + -0x14],ECX
004c99e2 : MOV ECX,dword ptr [EBP + 0x18]
004c99e5 : CMP ECX,dword ptr [EBP + 0x20]
004c99e8 : JNZ 0x004c99f2
004c99ea : MOV EDX,dword ptr [EBP + 0x1c]
004c99ed : CMP EDX,dword ptr [EBP + 0x24]
004c99f0 : JZ 0x004c9a68
004c99f2 : CMP EBX,EAX
004c99f4 : JNC 0x004c9aa3
004c99fa : MOV dword ptr [EBP + -0x4],0x0
004c9a01 : LEA EAX,[EBP + 0x20]
004c9a04 : LEA ECX,[EBP + 0x18]
004c9a07 : CALL 0x004c9c90
004c9a0c : TEST AL,AL
004c9a0e : JZ 0x004c9a42
004c9a10 : LEA EAX,[EBP + 0x18]
004c9a13 : CALL 0x004c9510
004c9a18 : LEA ECX,[EBP + -0x64]
004c9a1b : PUSH ECX
004c9a1c : MOV EDI,EAX
004c9a1e : CALL 0x004c7500
004c9a23 : MOV byte ptr [EBP + -0x4],0x1
004c9a27 : MOV EDI,EAX
004c9a29 : MOV EAX,ESI
004c9a2b : CALL 0x004c9b50
004c9a30 : MOV byte ptr [EBP + -0x4],0x0
004c9a34 : LEA EDX,[EBP + -0x64]
004c9a37 : PUSH EDX
004c9a38 : CALL 0x0044cb00
004c9a3d : INC dword ptr [EBP + 0x1c]
004c9a40 : JMP 0x004c9a01
004c9a42 : MOV dword ptr [EBP + -0x4],0xffffffff
004c9a49 : MOV EDX,dword ptr [ESI + 0x1c]
004c9a4c : SUB EDX,dword ptr [EBP + -0x14]
004c9a4f : MOV EAX,ESI
004c9a51 : TEST EBX,EBX
004c9a53 : JBE 0x004c9a7c
004c9a55 : LEA EDI,[EDX + EBX*0x1]
004c9a58 : PUSH EDI
004c9a59 : CALL 0x004c9bd0
004c9a5e : PUSH EDI
004c9a5f : XOR EDX,EDX
004c9a61 : MOV EAX,ESI
004c9a63 : CALL 0x004c9bd0
004c9a68 : MOV ECX,dword ptr [EBP + -0xc]
004c9a6b : MOV dword ptr FS:[0x0],ECX
004c9a72 : POP ECX
004c9a73 : POP EDI
004c9a74 : POP ESI
004c9a75 : POP EBX
004c9a76 : MOV ESP,EBP
004c9a78 : POP EBP
004c9a79 : RET 0x20
004c9a7c : PUSH EDX
004c9a7d : XOR EDX,EDX
004c9a7f : JMP 0x004c9a63
004c9aa3 : MOV dword ptr [EBP + -0x4],0x3
004c9aaa : LEA EBX,[EBX]
004c9ab0 : LEA EAX,[EBP + 0x20]
004c9ab3 : LEA ECX,[EBP + 0x18]
004c9ab6 : CALL 0x004c9c90
004c9abb : TEST AL,AL
004c9abd : JZ 0x004c9af0
004c9abf : LEA EAX,[EBP + 0x18]
004c9ac2 : CALL 0x004c9510
004c9ac7 : LEA ECX,[EBP + -0x64]
004c9aca : PUSH ECX
004c9acb : MOV EDI,EAX
004c9acd : CALL 0x004c7500
004c9ad2 : MOV byte ptr [EBP + -0x4],0x4
004c9ad6 : PUSH EAX
004c9ad7 : MOV EAX,ESI
004c9ad9 : CALL 0x004c7670
004c9ade : MOV byte ptr [EBP + -0x4],0x3
004c9ae2 : LEA EDX,[EBP + -0x64]
004c9ae5 : PUSH EDX
004c9ae6 : CALL 0x0044cb00
004c9aeb : INC dword ptr [EBP + 0x1c]
004c9aee : JMP 0x004c9ab0
004c9af0 : MOV dword ptr [EBP + -0x4],0xffffffff
004c9af7 : MOV EDI,dword ptr [EBP + -0x14]
004c9afa : CMP EBX,EDI
004c9afc : JNC 0x004c9a68
004c9b02 : PUSH EDI
004c9b03 : MOV EDX,EBX
004c9b05 : MOV EAX,ESI
004c9b07 : CALL 0x004c9bd0
004c9b0c : MOV EAX,dword ptr [ESI + 0x1c]
004c9b0f : PUSH EAX
004c9b10 : MOV EDX,EDI
004c9b12 : MOV EAX,ESI
004c9b14 : CALL 0x004c9bd0
004c9b19 : MOV ECX,dword ptr [ESI + 0x1c]
004c9b1c : PUSH ECX
004c9b1d : MOV EDX,EBX
004c9b1f : JMP 0x004c9a61
