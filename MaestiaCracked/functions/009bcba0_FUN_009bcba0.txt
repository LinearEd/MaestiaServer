PROGRAM  : Maestia.exe
FUNCTION : FUN_009bcba0
ENTRY    : 009bcba0
BODY     : [[009bcba0, 009bcf67]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009bcba0(void)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int *piVar8;
  short *psVar9;
  undefined4 uVar10;
  undefined4 ****ppppuVar11;
  int in_ECX;
  short *psVar12;
  uint local_f8;
  uint local_dc;
  uint local_c0;
  uint local_a4;
  uint local_88;
  uint local_6c;
  int local_5c;
  int *local_50;
  undefined4 ***local_48 [4];
  undefined4 local_38;
  uint local_34;
  undefined4 ***local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b21aa7;
  local_10 = ExceptionList;
  uVar7 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_18 = 7;
  local_1c = 0;
  local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffff0000);
  local_14 = uVar7;
  FUN_00406360(&DAT_00c8f934,0);
  local_8 = 0;
  local_50 = (int *)(in_ECX + 0x2ec);
  psVar12 = (short *)(in_ECX + 0x4c);
  piVar8 = (int *)(in_ECX + 0xc);
  local_5c = 8;
  do {
    iVar2 = *piVar8;
    iVar3 = piVar8[1];
    local_38 = 0;
    local_34 = 7;
    local_48[0] = (undefined4 ***)((uint)local_48[0] & 0xffff0000);
    psVar9 = psVar12;
    do {
      sVar1 = *psVar9;
      psVar9 = psVar9 + 1;
    } while (sVar1 != 0);
    FUN_00406360(psVar12,(int)psVar9 - (int)(psVar12 + 1) >> 1);
    local_8._0_1_ = 1;
    iVar4 = *local_50;
    iVar5 = local_50[8];
    iVar6 = local_50[-8];
    if (iVar2 == 0 && iVar3 == 0) {
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    else {
      uVar10 = FUN_00404750(&DAT_00c8f938,iVar2,iVar3,uVar7);
      local_8._0_1_ = 2;
      FUN_00405c30(uVar10,0,0xffffffff);
      local_8._0_1_ = 1;
      if (7 < local_6c) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_6c = 7;
      ppppuVar11 = (undefined4 ****)local_48[0];
      if (local_34 < 8) {
        ppppuVar11 = local_48;
      }
      uVar10 = FUN_00404750(&DAT_00c8f944,ppppuVar11);
      local_8._0_1_ = 3;
      FUN_00405c30(uVar10,0,0xffffffff);
      local_8._0_1_ = 1;
      if (7 < local_a4) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_a4 = 7;
      uVar10 = FUN_00404750(&DAT_00c8f950,iVar4 + iVar6);
      local_8._0_1_ = 4;
      FUN_00405c30(uVar10,0,0xffffffff);
      local_8._0_1_ = 1;
      if (7 < local_dc) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_dc = 7;
      uVar10 = FUN_00404750(&DAT_00c8f95c,iVar6);
      local_8._0_1_ = 5;
      FUN_00405c30(uVar10,0,0xffffffff);
      local_8._0_1_ = 1;
      if (7 < local_88) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_88 = 7;
      uVar10 = FUN_00404750(&DAT_00c8f968,iVar4);
      local_8._0_1_ = 6;
      FUN_00405c30(uVar10,0,0xffffffff);
      local_8._0_1_ = 1;
      if (7 < local_c0) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_c0 = 7;
      uVar10 = FUN_00404750(&DAT_00c8f974,iVar5);
      local_8._0_1_ = 7;
      FUN_00405c30(uVar10,0,0xffffffff);
      local_8 = CONCAT31(local_8._1_3_,1);
      if (7 < local_f8) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_f8 = 7;
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    local_34 = 7;
    local_38 = 0;
    local_48[0] = (undefined4 ***)((uint)local_48[0] & 0xffff0000);
    local_50 = local_50 + 1;
    piVar8 = piVar8 + 2;
    psVar12 = psVar12 + 0x28;
    local_5c = local_5c + -1;
    if (local_5c == 0) {
      iVar2 = *DAT_00da9894;
      if ((iVar2 != 0) && (*(int *)(iVar2 + 0x114) != 0)) {
        ppppuVar11 = (undefined4 ****)local_2c[0];
        if (local_18 < 8) {
          ppppuVar11 = local_2c;
        }
        (**(code **)(**(int **)(iVar2 + 0x114) + 4))
                  (*(int **)(iVar2 + 0x114),"mc_charpetlist.AddCalculateInfo","%d,%d,%d,%ls",
                   *(undefined4 *)(in_ECX + 4),8,*(undefined4 *)(in_ECX + 8),ppppuVar11);
      }
      local_8 = 0xffffffff;
      if (local_18 < 8) {
        local_18 = 7;
        local_1c = 0;
        local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffff0000);
        ExceptionList = local_10;
        __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
        return;
      }
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
009bcba0 : PUSH EBP
009bcba1 : MOV EBP,ESP
009bcba3 : PUSH -0x1
009bcba5 : PUSH 0xb21aa7
009bcbaa : MOV EAX,FS:[0x0]
009bcbb0 : PUSH EAX
009bcbb1 : SUB ESP,0x100
009bcbb7 : MOV EAX,[0x00d66fa0]
009bcbbc : XOR EAX,EBP
009bcbbe : MOV dword ptr [EBP + -0x10],EAX
009bcbc1 : PUSH EBX
009bcbc2 : PUSH ESI
009bcbc3 : PUSH EDI
009bcbc4 : PUSH EAX
009bcbc5 : LEA EAX,[EBP + -0xc]
009bcbc8 : MOV FS:[0x0],EAX
009bcbce : XOR EBX,EBX
009bcbd0 : MOV ESI,ECX
009bcbd2 : PUSH EBX
009bcbd3 : XOR EAX,EAX
009bcbd5 : PUSH 0xc8f934
009bcbda : LEA ECX,[EBP + -0x2c]
009bcbdd : MOV dword ptr [EBP + -0x60],ESI
009bcbe0 : MOV dword ptr [EBP + -0x14],0x7
009bcbe7 : MOV dword ptr [EBP + -0x18],EBX
009bcbea : MOV word ptr [EBP + -0x28],AX
009bcbee : CALL 0x00406360
009bcbf3 : MOV dword ptr [EBP + -0x4],EBX
009bcbf6 : LEA ECX,[ESI + 0x2ec]
009bcbfc : MOV dword ptr [EBP + -0x4c],ECX
009bcbff : LEA ECX,[ESI + 0x4c]
009bcc02 : LEA EAX,[ESI + 0xc]
009bcc05 : MOV dword ptr [EBP + -0x50],ECX
009bcc08 : MOV dword ptr [EBP + -0x54],EAX
009bcc0b : MOV dword ptr [EBP + -0x58],0x8
009bcc12 : JMP 0x009bcc1c
009bcc14 : MOV ECX,dword ptr [EBP + -0x50]
009bcc17 : MOV EAX,dword ptr [EBP + -0x54]
009bcc1a : XOR EBX,EBX
009bcc1c : MOV ESI,dword ptr [EAX]
009bcc1e : MOV EDI,dword ptr [EAX + 0x4]
009bcc21 : XOR EDX,EDX
009bcc23 : MOV EAX,ECX
009bcc25 : MOV dword ptr [EBP + -0x34],EBX
009bcc28 : MOV dword ptr [EBP + -0x30],0x7
009bcc2f : MOV word ptr [EBP + -0x44],DX
009bcc33 : LEA EBX,[EAX + 0x2]
009bcc36 : MOV DX,word ptr [EAX]
009bcc39 : ADD EAX,0x2
009bcc3c : TEST DX,DX
009bcc3f : JNZ 0x009bcc36
009bcc41 : SUB EAX,EBX
009bcc43 : SAR EAX,0x1
009bcc45 : PUSH EAX
009bcc46 : PUSH ECX
009bcc47 : LEA ECX,[EBP + -0x48]
009bcc4a : CALL 0x00406360
009bcc4f : MOV byte ptr [EBP + -0x4],0x1
009bcc53 : MOV EAX,dword ptr [EBP + -0x4c]
009bcc56 : MOV ECX,dword ptr [EAX]
009bcc58 : MOV EDX,dword ptr [EAX + 0x20]
009bcc5b : MOV EBX,dword ptr [EAX + -0x20]
009bcc5e : MOV EAX,ESI
009bcc60 : OR EAX,EDI
009bcc62 : MOV dword ptr [EBP + -0x5c],ECX
009bcc65 : MOV dword ptr [EBP + -0x64],EDX
009bcc68 : JNZ 0x009bcc94
009bcc6a : MOV byte ptr [EBP + -0x4],AL
009bcc6d : CMP dword ptr [EBP + -0x30],0x8
009bcc71 : JC 0x009bcc7b
009bcc73 : MOV ECX,dword ptr [EBP + -0x44]
009bcc76 : CALL 0x006f04e0
009bcc7b : XOR ECX,ECX
009bcc7d : MOV dword ptr [EBP + -0x30],0x7
009bcc84 : MOV dword ptr [EBP + -0x34],0x0
009bcc8b : MOV word ptr [EBP + -0x44],CX
009bcc8f : JMP 0x009bcec4
009bcc94 : PUSH EDI
009bcc95 : PUSH ESI
009bcc96 : PUSH 0xc8f938
009bcc9b : LEA ESI,[EBP + -0x80]
009bcc9e : CALL 0x00404750
009bcca3 : ADD ESP,0xc
009bcca6 : MOV byte ptr [EBP + -0x4],0x2
009bccaa : PUSH -0x1
009bccac : PUSH 0x0
009bccae : PUSH EAX
009bccaf : LEA ECX,[EBP + -0x2c]
009bccb2 : CALL 0x00405c30
009bccb7 : MOV byte ptr [EBP + -0x4],0x1
009bccbb : MOV EDI,0x8
009bccc0 : CMP dword ptr [EBP + -0x68],EDI
009bccc3 : JC 0x009bcccd
009bccc5 : MOV ECX,dword ptr [EBP + -0x7c]
009bccc8 : CALL 0x006f04e0
009bcccd : MOV EAX,dword ptr [EBP + -0x44]
009bccd0 : XOR EDX,EDX
009bccd2 : MOV dword ptr [EBP + -0x68],0x7
009bccd9 : MOV dword ptr [EBP + -0x6c],0x0
009bcce0 : MOV word ptr [EBP + -0x7c],DX
009bcce4 : CMP dword ptr [EBP + -0x30],EDI
009bcce7 : JNC 0x009bccec
009bcce9 : LEA EAX,[EBP + -0x44]
009bccec : PUSH EAX
009bcced : PUSH 0xc8f944
009bccf2 : LEA ESI,[EBP + 0xffffff48]
009bccf8 : CALL 0x00404750
009bccfd : ADD ESP,0x8
009bcd00 : MOV byte ptr [EBP + -0x4],0x3
009bcd04 : PUSH -0x1
009bcd06 : PUSH 0x0
009bcd08 : PUSH EAX
009bcd09 : LEA ECX,[EBP + -0x2c]
009bcd0c : CALL 0x00405c30
009bcd11 : MOV byte ptr [EBP + -0x4],0x1
009bcd15 : CMP dword ptr [EBP + 0xffffff60],EDI
009bcd1b : JC 0x009bcd28
009bcd1d : MOV ECX,dword ptr [EBP + 0xffffff4c]
009bcd23 : CALL 0x006f04e0
009bcd28 : MOV ECX,dword ptr [EBP + -0x5c]
009bcd2b : ADD ECX,EBX
009bcd2d : PUSH ECX
009bcd2e : XOR EAX,EAX
009bcd30 : PUSH 0xc8f950
009bcd35 : LEA ESI,[EBP + 0xffffff10]
009bcd3b : MOV dword ptr [EBP + 0xffffff60],0x7
009bcd45 : MOV dword ptr [EBP + 0xffffff5c],0x0
009bcd4f : MOV word ptr [EBP + 0xffffff4c],AX
009bcd56 : CALL 0x00404750
009bcd5b : ADD ESP,0x8
009bcd5e : MOV byte ptr [EBP + -0x4],0x4
009bcd62 : PUSH -0x1
009bcd64 : PUSH 0x0
009bcd66 : PUSH EAX
009bcd67 : LEA ECX,[EBP + -0x2c]
009bcd6a : CALL 0x00405c30
009bcd6f : MOV byte ptr [EBP + -0x4],0x1
009bcd73 : CMP dword ptr [EBP + 0xffffff28],EDI
009bcd79 : JC 0x009bcd86
009bcd7b : MOV ECX,dword ptr [EBP + 0xffffff14]
009bcd81 : CALL 0x006f04e0
009bcd86 : XOR EDX,EDX
009bcd88 : PUSH EBX
009bcd89 : PUSH 0xc8f95c
009bcd8e : LEA ESI,[EBP + 0xffffff64]
009bcd94 : MOV dword ptr [EBP + 0xffffff28],0x7
009bcd9e : MOV dword ptr [EBP + 0xffffff24],0x0
009bcda8 : MOV word ptr [EBP + 0xffffff14],DX
009bcdaf : CALL 0x00404750
009bcdb4 : ADD ESP,0x8
009bcdb7 : MOV byte ptr [EBP + -0x4],0x5
009bcdbb : PUSH -0x1
009bcdbd : XOR EBX,EBX
009bcdbf : PUSH EBX
009bcdc0 : PUSH EAX
009bcdc1 : LEA ECX,[EBP + -0x2c]
009bcdc4 : CALL 0x00405c30
009bcdc9 : MOV byte ptr [EBP + -0x4],0x1
009bcdcd : CMP dword ptr [EBP + 0xffffff7c],EDI
009bcdd3 : JC 0x009bcde0
009bcdd5 : MOV ECX,dword ptr [EBP + 0xffffff68]
009bcddb : CALL 0x006f04e0
009bcde0 : MOV ECX,dword ptr [EBP + -0x5c]
009bcde3 : PUSH ECX
009bcde4 : XOR EAX,EAX
009bcde6 : PUSH 0xc8f968
009bcdeb : LEA ESI,[EBP + 0xffffff2c]
009bcdf1 : MOV dword ptr [EBP + 0xffffff7c],0x7
009bcdfb : MOV dword ptr [EBP + 0xffffff78],EBX
009bce01 : MOV word ptr [EBP + 0xffffff68],AX
009bce08 : CALL 0x00404750
009bce0d : ADD ESP,0x8
009bce10 : MOV byte ptr [EBP + -0x4],0x6
009bce14 : PUSH -0x1
009bce16 : PUSH EBX
009bce17 : PUSH EAX
009bce18 : LEA ECX,[EBP + -0x2c]
009bce1b : CALL 0x00405c30
009bce20 : MOV byte ptr [EBP + -0x4],0x1
009bce24 : CMP dword ptr [EBP + 0xffffff44],EDI
009bce2a : JC 0x009bce37
009bce2c : MOV ECX,dword ptr [EBP + 0xffffff30]
009bce32 : CALL 0x006f04e0
009bce37 : MOV EAX,dword ptr [EBP + -0x64]
009bce3a : PUSH EAX
009bce3b : XOR EDX,EDX
009bce3d : PUSH 0xc8f974
009bce42 : LEA ESI,[EBP + 0xfffffef4]
009bce48 : MOV dword ptr [EBP + 0xffffff44],0x7
009bce52 : MOV dword ptr [EBP + 0xffffff40],EBX
009bce58 : MOV word ptr [EBP + 0xffffff30],DX
009bce5f : CALL 0x00404750
009bce64 : ADD ESP,0x8
009bce67 : MOV byte ptr [EBP + -0x4],0x7
009bce6b : PUSH -0x1
009bce6d : PUSH EBX
009bce6e : PUSH EAX
009bce6f : LEA ECX,[EBP + -0x2c]
009bce72 : CALL 0x00405c30
009bce77 : MOV byte ptr [EBP + -0x4],0x1
009bce7b : CMP dword ptr [EBP + 0xffffff0c],EDI
009bce81 : JC 0x009bce8e
009bce83 : MOV ECX,dword ptr [EBP + 0xfffffef8]
009bce89 : CALL 0x006f04e0
009bce8e : XOR ECX,ECX
009bce90 : MOV ESI,0x7
009bce95 : MOV dword ptr [EBP + 0xffffff0c],ESI
009bce9b : MOV dword ptr [EBP + 0xffffff08],EBX
009bcea1 : MOV word ptr [EBP + 0xfffffef8],CX
009bcea8 : MOV byte ptr [EBP + -0x4],CL
009bceab : CMP dword ptr [EBP + -0x30],EDI
009bceae : JC 0x009bceb8
009bceb0 : MOV ECX,dword ptr [EBP + -0x44]
009bceb3 : CALL 0x006f04e0
009bceb8 : XOR EDX,EDX
009bceba : MOV dword ptr [EBP + -0x30],ESI
009bcebd : MOV dword ptr [EBP + -0x34],EBX
009bcec0 : MOV word ptr [EBP + -0x44],DX
009bcec4 : ADD dword ptr [EBP + -0x4c],0x4
009bcec8 : ADD dword ptr [EBP + -0x54],0x8
009bcecc : ADD dword ptr [EBP + -0x50],0x50
009bced0 : SUB dword ptr [EBP + -0x58],0x1
009bced4 : JNZ 0x009bcc14
009bceda : MOV EAX,[0x00da9894]
009bcedf : MOV EAX,dword ptr [EAX]
009bcee1 : TEST EAX,EAX
009bcee3 : JZ 0x009bcf23
009bcee5 : CMP dword ptr [EAX + 0x114],0x0
009bceec : JZ 0x009bcf23
009bceee : CMP dword ptr [EBP + -0x14],0x8
009bcef2 : MOV EAX,dword ptr [EAX + 0x114]
009bcef8 : MOV ECX,dword ptr [EBP + -0x28]
009bcefb : JNC 0x009bcf00
009bcefd : LEA ECX,[EBP + -0x28]
009bcf00 : MOV EDX,dword ptr [EAX]
009bcf02 : MOV EDX,dword ptr [EDX + 0x4]
009bcf05 : PUSH ECX
009bcf06 : MOV ECX,dword ptr [EBP + -0x60]
009bcf09 : MOV ESI,dword ptr [ECX + 0x8]
009bcf0c : MOV ECX,dword ptr [ECX + 0x4]
009bcf0f : PUSH ESI
009bcf10 : PUSH 0x8
009bcf12 : PUSH ECX
009bcf13 : PUSH 0xc8f980
009bcf18 : PUSH 0xc8f990
009bcf1d : PUSH EAX
009bcf1e : CALL EDX
009bcf20 : ADD ESP,0x1c
009bcf23 : MOV dword ptr [EBP + -0x4],0xffffffff
009bcf2a : CMP dword ptr [EBP + -0x14],0x8
009bcf2e : JC 0x009bcf38
009bcf30 : MOV ECX,dword ptr [EBP + -0x28]
009bcf33 : CALL 0x006f04e0
009bcf38 : XOR EAX,EAX
009bcf3a : MOV dword ptr [EBP + -0x14],0x7
009bcf41 : MOV dword ptr [EBP + -0x18],0x0
009bcf48 : MOV word ptr [EBP + -0x28],AX
009bcf4c : MOV ECX,dword ptr [EBP + -0xc]
009bcf4f : MOV dword ptr FS:[0x0],ECX
009bcf56 : POP ECX
009bcf57 : POP EDI
009bcf58 : POP ESI
009bcf59 : POP EBX
009bcf5a : MOV ECX,dword ptr [EBP + -0x10]
009bcf5d : XOR ECX,EBP
009bcf5f : CALL 0x00633e6b
009bcf64 : MOV ESP,EBP
009bcf66 : POP EBP
009bcf67 : RET
