PROGRAM  : Maestia.exe
FUNCTION : FUN_00561ce0
ENTRY    : 00561ce0
BODY     : [[00561ce0, 00561d59]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00561ce0(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0x20);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 2;
  iVar1 = FUN_00515d60(param_1,uVar2 * 0x20,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00561ce0 : MOV EAX,dword ptr [ESP + 0x8]
00561ce4 : PUSH EDI
00561ce5 : MOV EDI,ECX
00561ce7 : TEST EAX,EAX
00561ce9 : JNZ 0x00561d08
00561ceb : MOV EAX,dword ptr [EDI]
00561ced : TEST EAX,EAX
00561cef : JZ 0x00561cfd
00561cf1 : PUSH EAX
00561cf2 : CALL 0x00515cf0
00561cf7 : MOV dword ptr [EDI],0x0
00561cfd : MOV dword ptr [EDI + 0x8],0x0
00561d04 : POP EDI
00561d05 : RET 0x8
00561d08 : PUSH ESI
00561d09 : LEA ESI,[EAX + 0x3]
00561d0c : MOV EAX,dword ptr [EDI]
00561d0e : SHR ESI,0x2
00561d11 : ADD ESI,ESI
00561d13 : ADD ESI,ESI
00561d15 : TEST EAX,EAX
00561d17 : JZ 0x00561d31
00561d19 : LEA ECX,[ESI*0x8 + 0x0]
00561d20 : PUSH ECX
00561d21 : PUSH EAX
00561d22 : CALL 0x00515c80
00561d27 : MOV dword ptr [EDI + 0x8],ESI
00561d2a : POP ESI
00561d2b : MOV dword ptr [EDI],EAX
00561d2d : POP EDI
00561d2e : RET 0x8
00561d31 : MOV ECX,dword ptr [ESP + 0xc]
00561d35 : LEA EDX,[ESP + 0x10]
00561d39 : PUSH EDX
00561d3a : LEA EAX,[ESI*0x8 + 0x0]
00561d41 : PUSH EAX
00561d42 : PUSH ECX
00561d43 : MOV dword ptr [ESP + 0x1c],0x2
00561d4b : CALL 0x00515d60
00561d50 : MOV dword ptr [EDI + 0x8],ESI
00561d53 : POP ESI
00561d54 : MOV dword ptr [EDI],EAX
00561d56 : POP EDI
00561d57 : RET 0x8
