PROGRAM  : Maestia.exe
FUNCTION : FUN_0043b450
ENTRY    : 0043b450
BODY     : [[0043b450, 0043b5b3] [0043b5ba, 0043b5d6] [0043b618, 0043b6b0] [0043b6ce, 0043b74f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0043b450(int param_1,int param_2,uint param_3)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  uint uStack_68;
  uint local_4c;
  uint local_48;
  undefined1 local_44 [40];
  uint local_1c;
  undefined1 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7b424;
  local_10 = ExceptionList;
  uStack_68 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_14 = (undefined1 *)&uStack_68;
  ExceptionList = &local_10;
  iVar2 = *(int *)(param_1 + 4);
  if (iVar2 == 0) {
    local_4c = 0;
  }
  else {
    local_4c = (*(int *)(param_1 + 0xc) - iVar2) / 0x28;
  }
  iVar5 = *(int *)(param_1 + 8);
  iVar2 = (iVar5 - iVar2) / 0x28;
  local_1c = uStack_68;
  puVar1 = &uStack_68;
  if (iVar2 == 0x6666666) {
    iVar2 = FUN_00429be0();
    puVar1 = (uint *)local_14;
  }
  local_14 = (undefined1 *)puVar1;
  uVar3 = iVar2 + 1;
  if (local_4c < uVar3) {
    if (0x6666666 - (local_4c >> 1) < local_4c) {
      local_4c = 0;
    }
    else {
      local_4c = local_4c + (local_4c >> 1);
    }
    if (local_4c < uVar3) {
      local_4c = uVar3;
    }
    iVar2 = FUN_00444990();
    local_8 = 0;
    FUN_0043b020();
    FUN_0043c0d0(*(undefined4 *)(param_1 + 4),param_2);
    FUN_0043c0d0(param_2,*(undefined4 *)(param_1 + 8));
    local_8 = 0xffffffff;
    if (*(int *)(param_1 + 4) != 0) {
      FUN_0043afb0();
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(uint *)(param_1 + 0xc) = iVar2 + local_4c * 0x28;
    *(int *)(param_1 + 8) =
         iVar2 + ((*(int *)(param_1 + 8) - *(int *)(param_1 + 4)) / 0x28 + 1) * 0x28;
    *(int *)(param_1 + 4) = iVar2;
  }
  else {
    iVar5 = iVar5 - param_2;
    iVar2 = iVar5 >> 0x1f;
    if (iVar5 / 0x28 + iVar2 == iVar2) {
      FUN_0043bb60(local_44,param_3);
      local_8 = 2;
      FUN_0043c0d0(param_2,*(undefined4 *)(param_1 + 8));
      local_8 = CONCAT31(local_8._1_3_,3);
      FUN_0043b020();
      local_8 = 2;
      *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x28;
      FUN_0043c420(*(int *)(param_1 + 8) + -0x28);
    }
    else {
      FUN_0043bb60(local_44,param_3);
      local_8 = 5;
      uVar4 = FUN_0043c0d0(*(int *)(param_1 + 8) + -0x28,*(int *)(param_1 + 8));
      *(undefined4 *)(param_1 + 8) = uVar4;
      local_48 = param_3 & 0xffffff00;
      FUN_0043c520(param_2,local_48,local_48,local_48);
      FUN_0043c420(param_2 + 0x28);
    }
    local_8 = 0xffffffff;
    FUN_004199f0(local_44);
  }
  ExceptionList = local_10;
  __security_check_cookie(local_1c ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0043b450 : PUSH EBP
0043b451 : MOV EBP,ESP
0043b453 : PUSH -0x1
0043b455 : PUSH 0xb7b424
0043b45a : MOV EAX,FS:[0x0]
0043b460 : PUSH EAX
0043b461 : SUB ESP,0x48
0043b464 : MOV EAX,[0x00d66fa0]
0043b469 : XOR EAX,EBP
0043b46b : MOV dword ptr [EBP + -0x18],EAX
0043b46e : PUSH EBX
0043b46f : PUSH ESI
0043b470 : PUSH EDI
0043b471 : PUSH EAX
0043b472 : LEA EAX,[EBP + -0xc]
0043b475 : MOV FS:[0x0],EAX
0043b47b : MOV dword ptr [EBP + -0x10],ESP
0043b47e : MOV EBX,dword ptr [EBP + 0x8]
0043b481 : MOV dword ptr [EBP + -0x4c],EBX
0043b484 : MOV EAX,dword ptr [EBP + 0x10]
0043b487 : MOV dword ptr [EBP + -0x44],EAX
0043b48a : MOV ECX,dword ptr [EBX + 0x4]
0043b48d : TEST ECX,ECX
0043b48f : JNZ 0x0043b495
0043b491 : XOR ESI,ESI
0043b493 : JMP 0x0043b4ad
0043b495 : MOV EDX,dword ptr [EBX + 0xc]
0043b498 : SUB EDX,ECX
0043b49a : MOV EAX,0x66666667
0043b49f : IMUL EDX
0043b4a1 : SAR EDX,0x4
0043b4a4 : MOV EAX,EDX
0043b4a6 : SHR EAX,0x1f
0043b4a9 : ADD EAX,EDX
0043b4ab : MOV ESI,EAX
0043b4ad : MOV EDI,dword ptr [EBX + 0x8]
0043b4b0 : MOV EDX,EDI
0043b4b2 : SUB EDX,ECX
0043b4b4 : MOV EAX,0x66666667
0043b4b9 : IMUL EDX
0043b4bb : SAR EDX,0x4
0043b4be : MOV EAX,EDX
0043b4c0 : SHR EAX,0x1f
0043b4c3 : ADD EAX,EDX
0043b4c5 : MOV ECX,0x6666666
0043b4ca : SUB ECX,EAX
0043b4cc : CMP ECX,0x1
0043b4cf : JNC 0x0043b4d6
0043b4d1 : CALL 0x00429be0
0043b4d6 : INC EAX
0043b4d7 : CMP ESI,EAX
0043b4d9 : JNC 0x0043b618
0043b4df : MOV ECX,ESI
0043b4e1 : SHR ECX,0x1
0043b4e3 : MOV EDX,0x6666666
0043b4e8 : SUB EDX,ECX
0043b4ea : CMP EDX,ESI
0043b4ec : JNC 0x0043b4f7
0043b4ee : XOR EDI,EDI
0043b4f0 : MOV dword ptr [EBP + -0x48],EDI
0043b4f3 : MOV ESI,EDI
0043b4f5 : JMP 0x0043b4fe
0043b4f7 : ADD ESI,ECX
0043b4f9 : MOV dword ptr [EBP + -0x48],ESI
0043b4fc : XOR EDI,EDI
0043b4fe : CMP ESI,EAX
0043b500 : JNC 0x0043b507
0043b502 : MOV dword ptr [EBP + -0x48],EAX
0043b505 : MOV ESI,EAX
0043b507 : MOV ECX,ESI
0043b509 : CALL 0x00444990
0043b50e : MOV ESI,EAX
0043b510 : MOV dword ptr [EBP + -0x54],ESI
0043b513 : MOV ECX,dword ptr [EBP + 0xc]
0043b516 : SUB ECX,dword ptr [EBX + 0x4]
0043b519 : MOV EAX,0x66666667
0043b51e : IMUL ECX
0043b520 : SAR EDX,0x4
0043b523 : MOV EAX,EDX
0043b525 : SHR EAX,0x1f
0043b528 : ADD EAX,EDX
0043b52a : MOV dword ptr [EBP + -0x4c],EAX
0043b52d : MOV dword ptr [EBP + -0x50],EDI
0043b530 : MOV dword ptr [EBP + -0x4],EDI
0043b533 : LEA EAX,[EAX + EAX*0x4]
0043b536 : LEA EDI,[ESI + EAX*0x8]
0043b539 : MOV EDX,dword ptr [EBP + -0x44]
0043b53c : MOV ESI,0x1
0043b541 : CALL 0x0043b020
0043b546 : MOV dword ptr [EBP + -0x50],ESI
0043b549 : MOV ECX,dword ptr [EBP + 0xc]
0043b54c : PUSH ECX
0043b54d : MOV EDX,dword ptr [EBX + 0x4]
0043b550 : PUSH EDX
0043b551 : MOV EDI,dword ptr [EBP + -0x54]
0043b554 : MOV EDX,EDI
0043b556 : CALL 0x0043c0d0
0043b55b : MOV dword ptr [EBP + -0x50],0x2
0043b562 : MOV EAX,dword ptr [EBP + -0x4c]
0043b565 : LEA EAX,[EAX + EAX*0x4 + 0x5]
0043b569 : LEA EDX,[EDI + EAX*0x8]
0043b56c : MOV ECX,dword ptr [EBX + 0x8]
0043b56f : PUSH ECX
0043b570 : MOV EAX,dword ptr [EBP + 0xc]
0043b573 : PUSH EAX
0043b574 : CALL 0x0043c0d0
0043b579 : MOV dword ptr [EBP + -0x4],0xffffffff
0043b580 : MOV ECX,dword ptr [EBX + 0x8]
0043b583 : MOV ESI,dword ptr [EBX + 0x4]
0043b586 : SUB ECX,ESI
0043b588 : MOV EAX,0x66666667
0043b58d : IMUL ECX
0043b58f : SAR EDX,0x4
0043b592 : MOV ECX,EDX
0043b594 : SHR ECX,0x1f
0043b597 : LEA EDX,[EDX + ECX*0x1 + 0x1]
0043b59b : MOV dword ptr [EBP + -0x44],EDX
0043b59e : TEST ESI,ESI
0043b5a0 : JZ 0x0043b5ba
0043b5a2 : MOV EDI,dword ptr [EBX + 0x8]
0043b5a5 : MOV EAX,ESI
0043b5a7 : CALL 0x0043afb0
0043b5ac : MOV ECX,dword ptr [EBX + 0x4]
0043b5af : CALL 0x006f04e0
0043b5ba : MOV EAX,dword ptr [EBP + -0x48]
0043b5bd : LEA EAX,[EAX + EAX*0x4]
0043b5c0 : LEA ECX,[EDI + EAX*0x8]
0043b5c3 : MOV dword ptr [EBX + 0xc],ECX
0043b5c6 : LEA EDX,[EDX + EDX*0x4]
0043b5c9 : LEA EAX,[EDI + EDX*0x8]
0043b5cc : MOV dword ptr [EBX + 0x8],EAX
0043b5cf : MOV dword ptr [EBX + 0x4],EDI
0043b5d2 : JMP 0x0043b732
0043b618 : SUB EDI,dword ptr [EBP + 0xc]
0043b61b : MOV EAX,0x66666667
0043b620 : IMUL EDI
0043b622 : SAR EDX,0x4
0043b625 : MOV ECX,EDX
0043b627 : SHR ECX,0x1f
0043b62a : ADD ECX,EDX
0043b62c : CMP ECX,0x1
0043b62f : JNC 0x0043b6ce
0043b635 : MOV EDX,dword ptr [EBP + -0x44]
0043b638 : PUSH EDX
0043b639 : LEA EAX,[EBP + -0x40]
0043b63c : PUSH EAX
0043b63d : CALL 0x0043bb60
0043b642 : MOV dword ptr [EBP + -0x4],0x2
0043b649 : MOV EAX,dword ptr [EBP + 0xc]
0043b64c : LEA EDX,[EAX + 0x28]
0043b64f : MOV ECX,dword ptr [EBX + 0x8]
0043b652 : PUSH ECX
0043b653 : PUSH EAX
0043b654 : CALL 0x0043c0d0
0043b659 : MOV byte ptr [EBP + -0x4],0x3
0043b65d : MOV EDI,dword ptr [EBX + 0x8]
0043b660 : MOV ECX,EDI
0043b662 : SUB ECX,dword ptr [EBP + 0xc]
0043b665 : MOV EAX,0x66666667
0043b66a : IMUL ECX
0043b66c : SAR EDX,0x4
0043b66f : MOV EAX,EDX
0043b671 : SHR EAX,0x1f
0043b674 : ADD EAX,EDX
0043b676 : MOV ESI,0x1
0043b67b : SUB ESI,EAX
0043b67d : LEA EDX,[EBP + -0x40]
0043b680 : CALL 0x0043b020
0043b685 : MOV dword ptr [EBP + -0x4],0x2
0043b68c : ADD dword ptr [EBX + 0x8],0x28
0043b690 : MOV EBX,dword ptr [EBX + 0x8]
0043b693 : LEA EAX,[EBX + -0x28]
0043b696 : PUSH EAX
0043b697 : LEA EDI,[EBP + -0x40]
0043b69a : MOV EAX,dword ptr [EBP + 0xc]
0043b69d : CALL 0x0043c420
0043b6a2 : ADD ESP,0x4
0043b6a5 : MOV dword ptr [EBP + -0x4],0xffffffff
0043b6ac : MOV ECX,EDI
0043b6ae : PUSH ECX
0043b6af : JMP 0x0043b72d
0043b6ce : MOV EAX,dword ptr [EBP + -0x44]
0043b6d1 : PUSH EAX
0043b6d2 : LEA ECX,[EBP + -0x40]
0043b6d5 : PUSH ECX
0043b6d6 : CALL 0x0043bb60
0043b6db : MOV dword ptr [EBP + -0x4],0x5
0043b6e2 : MOV ESI,dword ptr [EBX + 0x8]
0043b6e5 : LEA EDI,[ESI + -0x28]
0043b6e8 : PUSH ESI
0043b6e9 : PUSH EDI
0043b6ea : MOV EDX,ESI
0043b6ec : CALL 0x0043c0d0
0043b6f1 : MOV dword ptr [EBX + 0x8],EAX
0043b6f4 : MOV byte ptr [EBP + -0x44],0x0
0043b6f8 : MOV EDX,dword ptr [EBP + -0x44]
0043b6fb : PUSH EDX
0043b6fc : MOV EAX,dword ptr [EBP + -0x44]
0043b6ff : PUSH EAX
0043b700 : MOV ECX,dword ptr [EBP + -0x44]
0043b703 : PUSH ECX
0043b704 : MOV EDX,dword ptr [EBP + 0xc]
0043b707 : PUSH EDX
0043b708 : MOV EAX,ESI
0043b70a : MOV ECX,EDI
0043b70c : CALL 0x0043c520
0043b711 : MOV EAX,dword ptr [EBP + 0xc]
0043b714 : LEA ECX,[EAX + 0x28]
0043b717 : PUSH ECX
0043b718 : LEA EDI,[EBP + -0x40]
0043b71b : CALL 0x0043c420
0043b720 : ADD ESP,0x14
0043b723 : MOV dword ptr [EBP + -0x4],0xffffffff
0043b72a : MOV EDX,EDI
0043b72c : PUSH EDX
0043b72d : CALL 0x004199f0
0043b732 : MOV ECX,dword ptr [EBP + -0xc]
0043b735 : MOV dword ptr FS:[0x0],ECX
0043b73c : POP ECX
0043b73d : POP EDI
0043b73e : POP ESI
0043b73f : POP EBX
0043b740 : MOV ECX,dword ptr [EBP + -0x18]
0043b743 : XOR ECX,EBP
0043b745 : CALL 0x00633e6b
0043b74a : MOV ESP,EBP
0043b74c : POP EBP
0043b74d : RET 0xc
