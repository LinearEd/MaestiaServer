PROGRAM  : Maestia.exe
FUNCTION : FUN_005c9680
ENTRY    : 005c9680
BODY     : [[005c9680, 005c986c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005c9680(int param_1)

{
  byte *pbVar1;
  undefined1 *puVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  float10 fVar6;
  undefined4 uVar7;
  undefined1 auStack_70 [16];
  undefined1 auStack_60 [16];
  undefined1 uStack_50;
  double dStack_4c;
  undefined1 auStack_40 [16];
  undefined1 auStack_30 [16];
  undefined1 auStack_20 [16];
  undefined1 auStack_10 [16];
  
  fVar6 = (float10)FUN_005b0b90();
  pbVar1 = *(byte **)(param_1 + 4);
  if (4 < *pbVar1) {
    FUN_00526400();
  }
  *pbVar1 = 3;
  *(double *)(pbVar1 + 4) = (double)fVar6;
  if (1 < *(int *)(param_1 + 0x1c)) {
    uVar7 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(0);
    iVar3 = FUN_00526fa0(uVar7);
    uVar7 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(1);
    iVar4 = FUN_00526fa0(uVar7);
    if ((iVar3 != 0) && (iVar4 != 0)) {
      iVar5 = (**(code **)(*(int *)(iVar3 + 0x10) + 8))();
      if ((iVar5 != 0x10) && (iVar5 = (**(code **)(*(int *)(iVar4 + 0x10) + 8))(), iVar5 != 0x10)) {
        puVar2 = *(undefined1 **)(param_1 + 4);
        FUN_00526400();
        *puVar2 = 0;
        return;
      }
      FUN_0040efe0(auStack_20,0x10,2,&LAB_004ffd10);
      FUN_0040efe0(auStack_40,0x10,2,&LAB_004ffd10);
      FUN_005c9500(*(undefined4 *)(param_1 + 0x18),iVar3,auStack_20);
      FUN_005c9500(*(undefined4 *)(param_1 + 0x18),iVar4,auStack_40);
      FUN_005266c0(auStack_40);
      FUN_00528c80(*(undefined4 *)(param_1 + 0x18),auStack_20);
      FUN_00528cd0(*(undefined4 *)(param_1 + 0x18),auStack_70);
      FUN_005266c0(auStack_30);
      FUN_00528c80(*(undefined4 *)(param_1 + 0x18),auStack_10);
      FUN_00528cd0(*(undefined4 *)(param_1 + 0x18),auStack_60);
      FUN_00528100(*(undefined4 *)(param_1 + 0x18),auStack_60);
      FUN_00527730(*(undefined4 *)(param_1 + 0x18));
      fVar6 = (float10)FUN_0063bdc0();
      dStack_4c = (double)fVar6;
      uStack_50 = 3;
      fVar6 = (float10)FUN_00527730(*(undefined4 *)(param_1 + 0x18));
      FUN_00526bc0();
      pbVar1 = *(byte **)(param_1 + 4);
      if (4 < *pbVar1) {
        FUN_00526400();
      }
      *(double *)(pbVar1 + 4) = (double)fVar6;
      *pbVar1 = 3;
      FUN_00526bc0();
      FUN_00526bc0();
      FUN_004ff770(auStack_40,0x10,2,FUN_00526bc0);
      FUN_004ff770(auStack_20,0x10,2,FUN_00526bc0);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005c9680 : SUB ESP,0x78
005c9683 : PUSH ESI
005c9684 : PUSH EDI
005c9685 : CALL 0x005b0b90
005c968a : FSTP double ptr [ESP + 0x8]
005c968e : MOV ESI,dword ptr [ESP + 0x84]
005c9695 : MOV EDI,dword ptr [ESI + 0x4]
005c9698 : CMP byte ptr [EDI],0x5
005c969b : JC 0x005c96a4
005c969d : MOV ECX,EDI
005c969f : CALL 0x00526400
005c96a4 : FLD double ptr [ESP + 0x8]
005c96a8 : MOV byte ptr [EDI],0x3
005c96ab : FSTP double ptr [EDI + 0x4]
005c96ae : CMP dword ptr [ESI + 0x1c],0x1
005c96b2 : JLE 0x005c9867
005c96b8 : MOV EAX,dword ptr [ESI + 0x18]
005c96bb : PUSH EBX
005c96bc : PUSH EAX
005c96bd : PUSH 0x0
005c96bf : MOV ECX,ESI
005c96c1 : CALL 0x00526260
005c96c6 : MOV ECX,EAX
005c96c8 : CALL 0x00526fa0
005c96cd : MOV ECX,dword ptr [ESI + 0x18]
005c96d0 : PUSH ECX
005c96d1 : PUSH 0x1
005c96d3 : MOV ECX,ESI
005c96d5 : MOV EDI,EAX
005c96d7 : CALL 0x00526260
005c96dc : MOV ECX,EAX
005c96de : CALL 0x00526fa0
005c96e3 : MOV EBX,EAX
005c96e5 : TEST EDI,EDI
005c96e7 : JZ 0x005c9866
005c96ed : TEST EBX,EBX
005c96ef : JZ 0x005c9866
005c96f5 : MOV EDX,dword ptr [EDI + 0x10]
005c96f8 : MOV EAX,dword ptr [EDX + 0x8]
005c96fb : LEA ECX,[EDI + 0x10]
005c96fe : CALL EAX
005c9700 : CMP EAX,0x10
005c9703 : JZ 0x005c9729
005c9705 : MOV EDX,dword ptr [EBX + 0x10]
005c9708 : MOV EAX,dword ptr [EDX + 0x8]
005c970b : LEA ECX,[EBX + 0x10]
005c970e : CALL EAX
005c9710 : CMP EAX,0x10
005c9713 : JZ 0x005c9729
005c9715 : MOV ESI,dword ptr [ESI + 0x4]
005c9718 : MOV ECX,ESI
005c971a : CALL 0x00526400
005c971f : POP EBX
005c9720 : POP EDI
005c9721 : MOV byte ptr [ESI],0x0
005c9724 : POP ESI
005c9725 : ADD ESP,0x78
005c9728 : RET
005c9729 : PUSH 0x4ffd10
005c972e : PUSH 0x2
005c9730 : PUSH 0x10
005c9732 : LEA ECX,[ESP + 0x70]
005c9736 : PUSH ECX
005c9737 : CALL 0x0040efe0
005c973c : PUSH 0x4ffd10
005c9741 : PUSH 0x2
005c9743 : PUSH 0x10
005c9745 : LEA EDX,[ESP + 0x50]
005c9749 : PUSH EDX
005c974a : CALL 0x0040efe0
005c974f : MOV ECX,dword ptr [ESI + 0x18]
005c9752 : LEA EAX,[ESP + 0x64]
005c9756 : PUSH EAX
005c9757 : PUSH EDI
005c9758 : PUSH ECX
005c9759 : CALL 0x005c9500
005c975e : MOV EAX,dword ptr [ESI + 0x18]
005c9761 : LEA EDX,[ESP + 0x50]
005c9765 : PUSH EDX
005c9766 : PUSH EBX
005c9767 : PUSH EAX
005c9768 : CALL 0x005c9500
005c976d : ADD ESP,0x18
005c9770 : LEA ECX,[ESP + 0x44]
005c9774 : PUSH ECX
005c9775 : LEA ECX,[ESP + 0x18]
005c9779 : CALL 0x005266c0
005c977e : MOV EAX,dword ptr [ESI + 0x18]
005c9781 : LEA EDX,[ESP + 0x64]
005c9785 : PUSH EDX
005c9786 : PUSH EAX
005c9787 : LEA ECX,[ESP + 0x1c]
005c978b : CALL 0x00528c80
005c9790 : MOV EDX,dword ptr [ESI + 0x18]
005c9793 : LEA ECX,[ESP + 0x14]
005c9797 : PUSH ECX
005c9798 : PUSH EDX
005c9799 : CALL 0x00528cd0
005c979e : LEA EAX,[ESP + 0x54]
005c97a2 : PUSH EAX
005c97a3 : LEA ECX,[ESP + 0x28]
005c97a7 : CALL 0x005266c0
005c97ac : MOV EDX,dword ptr [ESI + 0x18]
005c97af : LEA ECX,[ESP + 0x74]
005c97b3 : PUSH ECX
005c97b4 : PUSH EDX
005c97b5 : LEA ECX,[ESP + 0x2c]
005c97b9 : CALL 0x00528c80
005c97be : MOV ECX,dword ptr [ESI + 0x18]
005c97c1 : LEA EAX,[ESP + 0x24]
005c97c5 : PUSH EAX
005c97c6 : PUSH ECX
005c97c7 : MOV ECX,EAX
005c97c9 : CALL 0x00528cd0
005c97ce : MOV EAX,dword ptr [ESI + 0x18]
005c97d1 : LEA EDX,[ESP + 0x24]
005c97d5 : PUSH EDX
005c97d6 : PUSH EAX
005c97d7 : LEA ECX,[ESP + 0x1c]
005c97db : CALL 0x00528100
005c97e0 : MOV ECX,dword ptr [ESI + 0x18]
005c97e3 : PUSH ECX
005c97e4 : LEA ECX,[ESP + 0x18]
005c97e8 : CALL 0x00527730
005c97ed : CALL 0x0063bdc0
005c97f2 : FSTP double ptr [ESP + 0x38]
005c97f6 : MOV EDX,dword ptr [ESI + 0x18]
005c97f9 : PUSH EDX
005c97fa : LEA ECX,[ESP + 0x38]
005c97fe : MOV byte ptr [ESP + 0x38],0x3
005c9803 : CALL 0x00527730
005c9808 : FSTP double ptr [ESP + 0xc]
005c980c : LEA ECX,[ESP + 0x34]
005c9810 : CALL 0x00526bc0
005c9815 : MOV ESI,dword ptr [ESI + 0x4]
005c9818 : CMP byte ptr [ESI],0x5
005c981b : JC 0x005c9824
005c981d : MOV ECX,ESI
005c981f : CALL 0x00526400
005c9824 : FLD double ptr [ESP + 0xc]
005c9828 : LEA ECX,[ESP + 0x24]
005c982c : FSTP double ptr [ESI + 0x4]
005c982f : MOV byte ptr [ESI],0x3
005c9832 : CALL 0x00526bc0
005c9837 : LEA ECX,[ESP + 0x14]
005c983b : CALL 0x00526bc0
005c9840 : PUSH 0x526bc0
005c9845 : PUSH 0x2
005c9847 : PUSH 0x10
005c9849 : LEA EAX,[ESP + 0x50]
005c984d : PUSH EAX
005c984e : CALL 0x004ff770
005c9853 : PUSH 0x526bc0
005c9858 : PUSH 0x2
005c985a : PUSH 0x10
005c985c : LEA ECX,[ESP + 0x70]
005c9860 : PUSH ECX
005c9861 : CALL 0x004ff770
005c9866 : POP EBX
005c9867 : POP EDI
005c9868 : POP ESI
005c9869 : ADD ESP,0x78
005c986c : RET
