PROGRAM  : Maestia.exe
FUNCTION : FUN_005078d0
ENTRY    : 005078d0
BODY     : [[005078d0, 00507998]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005078d0(void)

{
  uint *puVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  int *in_ECX;
  int aiStack_14 [5];
  
  iVar5 = (**(code **)(*in_ECX + 0x5c))();
  uVar6 = FUN_00526090(in_ECX);
  *(int *)(iVar5 + 8) = *(int *)(iVar5 + 8) + 0x10;
  puVar1 = (uint *)(iVar5 + 8);
  if (*(uint *)(iVar5 + 0x10) <= *puVar1) {
    FUN_00504050();
  }
  if (*puVar1 != 0) {
    FUN_005266c0(uVar6);
  }
  FUN_00526bc0();
  uVar2 = *puVar1;
  iVar3 = *(int *)(iVar5 + 0xc);
  iVar4 = *(int *)(iVar5 + 0x1c);
  aiStack_14[0] = FUN_00525380("onChanged",9,0);
  *(int *)(aiStack_14[0] + 8) = *(int *)(aiStack_14[0] + 8) + 1;
  FUN_0057bb40(iVar5,in_ECX + 0x1a,aiStack_14,1,((int)(uVar2 - iVar3) >> 4) + -0x20 + iVar4 * 0x20);
  *(int *)(aiStack_14[0] + 8) = *(int *)(aiStack_14[0] + 8) + -1;
  if (*(int *)(aiStack_14[0] + 8) == 0) {
    FUN_00525340();
  }
  FUN_00526bc0();
  *puVar1 = *puVar1 - 0x10;
  if (*puVar1 < *(uint *)(iVar5 + 0xc)) {
    FUN_00504f30();
    return;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005078d0 : SUB ESP,0x14
005078d3 : PUSH EBX
005078d4 : PUSH EBP
005078d5 : MOV EBX,ECX
005078d7 : MOV EAX,dword ptr [EBX]
005078d9 : MOV EDX,dword ptr [EAX + 0x5c]
005078dc : PUSH ESI
005078dd : PUSH EDI
005078de : CALL EDX
005078e0 : PUSH EBX
005078e1 : LEA ECX,[ESP + 0x18]
005078e5 : MOV EDI,EAX
005078e7 : CALL 0x00526090
005078ec : ADD dword ptr [EDI + 0x8],0x10
005078f0 : LEA ESI,[EDI + 0x8]
005078f3 : MOV EBP,EAX
005078f5 : MOV EAX,dword ptr [ESI]
005078f7 : CMP EAX,dword ptr [ESI + 0x8]
005078fa : JC 0x00507903
005078fc : MOV ECX,ESI
005078fe : CALL 0x00504050
00507903 : MOV ECX,dword ptr [ESI]
00507905 : TEST ECX,ECX
00507907 : JZ 0x0050790f
00507909 : PUSH EBP
0050790a : CALL 0x005266c0
0050790f : LEA ECX,[ESP + 0x14]
00507913 : CALL 0x00526bc0
00507918 : MOV EAX,dword ptr [ESI]
0050791a : SUB EAX,dword ptr [ESI + 0x4]
0050791d : MOV ECX,dword ptr [ESI + 0x14]
00507920 : SAR EAX,0x4
00507923 : SHL ECX,0x5
00507926 : PUSH 0x0
00507928 : LEA EBP,[EAX + ECX*0x1 + -0x20]
0050792c : MOV EAX,dword ptr [EDI + 0x78]
0050792f : PUSH 0x9
00507931 : PUSH 0xb86694
00507936 : LEA ECX,[EAX + 0x254]
0050793c : ADD EBX,0x68
0050793f : CALL 0x00525380
00507944 : PUSH EBP
00507945 : PUSH 0x1
00507947 : LEA EDX,[ESP + 0x18]
0050794b : PUSH EDX
0050794c : PUSH EBX
0050794d : MOV dword ptr [ESP + 0x20],EAX
00507951 : INC dword ptr [EAX + 0x8]
00507954 : PUSH EDI
00507955 : CALL 0x0057bb40
0050795a : MOV EAX,dword ptr [ESP + 0x24]
0050795e : DEC dword ptr [EAX + 0x8]
00507961 : MOV ECX,EAX
00507963 : ADD EAX,0x8
00507966 : ADD ESP,0x14
00507969 : CMP dword ptr [EAX],0x0
0050796c : JNZ 0x00507973
0050796e : CALL 0x00525340
00507973 : MOV ECX,dword ptr [ESI]
00507975 : CALL 0x00526bc0
0050797a : ADD dword ptr [ESI],-0x10
0050797d : MOV EAX,dword ptr [ESI]
0050797f : POP EDI
00507980 : CMP EAX,dword ptr [ESI + 0x4]
00507983 : JNC 0x00507992
00507985 : MOV ECX,ESI
00507987 : POP ESI
00507988 : POP EBP
00507989 : POP EBX
0050798a : ADD ESP,0x14
0050798d : JMP 0x00504f30
00507992 : POP ESI
00507993 : POP EBP
00507994 : POP EBX
00507995 : ADD ESP,0x14
00507998 : RET
