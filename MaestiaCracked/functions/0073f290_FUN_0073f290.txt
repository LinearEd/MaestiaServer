PROGRAM  : Maestia.exe
FUNCTION : FUN_0073f290
ENTRY    : 0073f290
BODY     : [[0073f290, 0073f487]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_0073f290(undefined4 param_1)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  char cVar7;
  int in_ECX;
  undefined4 uVar8;
  int iVar9;
  
  if (*(int *)(in_ECX + 0x3c) != 0) {
    FUN_0073aa40();
    piVar1 = *(int **)(in_ECX + 0x38);
    *(undefined4 *)(in_ECX + 0x14) = 0;
    *(undefined4 *)(in_ECX + 0x50) = 0xffffffff;
    *(undefined4 *)(in_ECX + 0x54) = 0xffffffff;
    piVar2 = (int *)*piVar1;
    while (piVar2 != piVar1) {
      iVar3 = *(int *)(piVar2[3] + 0x18);
      if ((iVar3 != 0) && (cVar7 = FUN_0073e540(iVar3), cVar7 != '\0')) {
        iVar4 = *(int *)(iVar3 + 8);
        iVar5 = *(int *)(iVar3 + 4);
        if (*(int *)(in_ECX + 0x40) != iVar4) {
          iVar6 = *(int *)(*(int *)(iVar5 + 0x1e8) + 0xd0);
          (**(code **)(**(int **)(in_ECX + 4) + 0x15c))
                    (*(int **)(in_ECX + 4),*(undefined4 *)(iVar6 + 4));
          iVar9 = *(int *)(iVar6 + 0x14);
          (**(code **)(**(int **)(in_ECX + 4) + 400))
                    (*(int **)(in_ECX + 4),0,*(undefined4 *)(iVar6 + 8),0);
          (**(code **)(**(int **)(in_ECX + 4) + 0x1a0))
                    (*(int **)(in_ECX + 4),*(undefined4 *)(iVar9 + 4));
          FUN_0073e660(in_ECX);
          if (*(char *)(iVar9 + 0x19) == '\0') {
            uVar8 = 3;
          }
          else {
            uVar8 = 1;
          }
          (**(code **)(**(int **)(in_ECX + 4) + 0xe4))(*(int **)(in_ECX + 4),0x16,uVar8);
          *(int *)(in_ECX + 0x40) = iVar9;
        }
        FUN_0073b190(in_ECX);
        FUN_0073b520(param_1,iVar3);
        FUN_0073b940(in_ECX,iVar3);
        iVar3 = *(int *)(in_ECX + 0x14);
        if (iVar3 != 0) {
          if (*(int *)(iVar3 + 0x1c) != 0) {
            (**(code **)(**(int **)(iVar3 + 0x1c) + 0x104))(*(int **)(iVar3 + 0x1c));
          }
          (**(code **)(**(int **)(in_ECX + 4) + 0x148))
                    (*(int **)(in_ECX + 4),4,0,0,
                     *(undefined2 *)(*(int *)(*(int *)(iVar5 + 0x1e8) + 0xd0) + 0x10),0,
                     *(undefined2 *)(iVar4 + 0xc));
        }
      }
      FUN_0045d060();
    }
    if (*(int *)(in_ECX + 0x14) != 0) {
      piVar1 = *(int **)(*(int *)(in_ECX + 0x14) + 0x1c);
      (**(code **)(*piVar1 + 0xd0))(piVar1,"texSrc",0);
      *(undefined4 *)(in_ECX + 0x44) = 0;
      piVar1 = *(int **)(*(int *)(in_ECX + 0x14) + 0x1c);
      _DAT_00da9b18 = (**(code **)(*piVar1 + 0x108))(piVar1);
      if (_DAT_00da9b18 < 0) {
        FUN_008018d0(L"AvaFxRenderGroup::Render m_pShaderData->GetFX()->EndPass() Failed (%d)",
                     _DAT_00da9b18);
      }
      piVar1 = *(int **)(*(int *)(in_ECX + 0x14) + 0x1c);
      _DAT_00da9b18 = (**(code **)(*piVar1 + 0x10c))(piVar1);
      if (_DAT_00da9b18 < 0) {
        FUN_008018d0(L"AvaFxRenderGroup::Render m_pShaderData->GetFX()->End() Failed (%d)",
                     _DAT_00da9b18);
      }
    }
    FUN_0073a8d0();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0073f290 : PUSH EBP
0073f291 : MOV EBP,ESP
0073f293 : AND ESP,0xfffffff8
0073f296 : SUB ESP,0x14
0073f299 : PUSH EBX
0073f29a : PUSH ESI
0073f29b : PUSH EDI
0073f29c : MOV EDI,ECX
0073f29e : CMP dword ptr [EDI + 0x3c],0x0
0073f2a2 : JZ 0x0073f47f
0073f2a8 : MOV EAX,EDI
0073f2aa : CALL 0x0073aa40
0073f2af : MOV ECX,dword ptr [EDI + 0x38]
0073f2b2 : OR EAX,0xffffffff
0073f2b5 : MOV dword ptr [EDI + 0x14],0x0
0073f2bc : MOV dword ptr [EDI + 0x50],EAX
0073f2bf : MOV dword ptr [EDI + 0x54],EAX
0073f2c2 : MOV EAX,dword ptr [ECX]
0073f2c4 : MOV dword ptr [ESP + 0x1c],ECX
0073f2c8 : MOV dword ptr [ESP + 0x14],EAX
0073f2cc : CMP EAX,ECX
0073f2ce : JZ 0x0073f3f9
0073f2d4 : MOV EAX,dword ptr [EAX + 0xc]
0073f2d7 : MOV EBX,dword ptr [EAX + 0x18]
0073f2da : TEST EBX,EBX
0073f2dc : JZ 0x0073f3e2
0073f2e2 : PUSH EBX
0073f2e3 : CALL 0x0073e540
0073f2e8 : TEST AL,AL
0073f2ea : JZ 0x0073f3e2
0073f2f0 : MOV EAX,dword ptr [EBX + 0x8]
0073f2f3 : MOV ESI,dword ptr [EBX + 0x4]
0073f2f6 : MOV dword ptr [ESP + 0x10],EAX
0073f2fa : MOV dword ptr [ESP + 0x18],ESI
0073f2fe : CMP dword ptr [EDI + 0x40],EAX
0073f301 : JZ 0x0073f37c
0073f303 : MOV ECX,dword ptr [ESI + 0x1e8]
0073f309 : MOV ESI,dword ptr [ECX + 0xd0]
0073f30f : MOV EAX,dword ptr [EDI + 0x4]
0073f312 : MOV ECX,dword ptr [ESI + 0x4]
0073f315 : MOV EDX,dword ptr [EAX]
0073f317 : MOV EDX,dword ptr [EDX + 0x15c]
0073f31d : PUSH ECX
0073f31e : PUSH EAX
0073f31f : CALL EDX
0073f321 : MOV EDX,dword ptr [ESI + 0x14]
0073f324 : MOV EAX,dword ptr [EDI + 0x4]
0073f327 : MOV ECX,dword ptr [EAX]
0073f329 : PUSH EDX
0073f32a : MOV EDX,dword ptr [ESI + 0x8]
0073f32d : PUSH 0x0
0073f32f : PUSH EDX
0073f330 : PUSH 0x0
0073f332 : PUSH EAX
0073f333 : MOV EAX,dword ptr [ECX + 0x190]
0073f339 : CALL EAX
0073f33b : MOV EAX,dword ptr [EDI + 0x4]
0073f33e : MOV ESI,dword ptr [ESP + 0x10]
0073f342 : MOV EDX,dword ptr [ESI + 0x4]
0073f345 : MOV ECX,dword ptr [EAX]
0073f347 : PUSH EDX
0073f348 : PUSH EAX
0073f349 : MOV EAX,dword ptr [ECX + 0x1a0]
0073f34f : CALL EAX
0073f351 : PUSH EDI
0073f352 : MOV EAX,EBX
0073f354 : CALL 0x0073e660
0073f359 : CMP byte ptr [ESI + 0x19],0x0
0073f35d : MOV EAX,dword ptr [EDI + 0x4]
0073f360 : MOV ECX,dword ptr [EAX]
0073f362 : MOV EDX,dword ptr [ECX + 0xe4]
0073f368 : JZ 0x0073f36e
0073f36a : PUSH 0x1
0073f36c : JMP 0x0073f370
0073f36e : PUSH 0x3
0073f370 : PUSH 0x16
0073f372 : PUSH EAX
0073f373 : CALL EDX
0073f375 : MOV dword ptr [EDI + 0x40],ESI
0073f378 : MOV ESI,dword ptr [ESP + 0x18]
0073f37c : PUSH EDI
0073f37d : MOV EAX,EBX
0073f37f : CALL 0x0073b190
0073f384 : MOV EAX,dword ptr [EBP + 0x8]
0073f387 : PUSH EBX
0073f388 : PUSH EAX
0073f389 : MOV EAX,EDI
0073f38b : CALL 0x0073b520
0073f390 : PUSH EBX
0073f391 : PUSH EDI
0073f392 : CALL 0x0073b940
0073f397 : MOV EAX,dword ptr [EDI + 0x14]
0073f39a : TEST EAX,EAX
0073f39c : JZ 0x0073f3e2
0073f39e : CMP dword ptr [EAX + 0x1c],0x0
0073f3a2 : JZ 0x0073f3b2
0073f3a4 : MOV EAX,dword ptr [EAX + 0x1c]
0073f3a7 : MOV ECX,dword ptr [EAX]
0073f3a9 : MOV EDX,dword ptr [ECX + 0x104]
0073f3af : PUSH EAX
0073f3b0 : CALL EDX
0073f3b2 : MOV EDX,dword ptr [ESP + 0x10]
0073f3b6 : MOVZX EDX,word ptr [EDX + 0xc]
0073f3ba : MOV EAX,dword ptr [EDI + 0x4]
0073f3bd : MOV ECX,dword ptr [EAX]
0073f3bf : PUSH EDX
0073f3c0 : MOV EDX,dword ptr [ESI + 0x1e8]
0073f3c6 : MOV EDX,dword ptr [EDX + 0xd0]
0073f3cc : MOVZX EDX,word ptr [EDX + 0x10]
0073f3d0 : PUSH 0x0
0073f3d2 : PUSH EDX
0073f3d3 : PUSH 0x0
0073f3d5 : PUSH 0x0
0073f3d7 : PUSH 0x4
0073f3d9 : PUSH EAX
0073f3da : MOV EAX,dword ptr [ECX + 0x148]
0073f3e0 : CALL EAX
0073f3e2 : LEA EDX,[ESP + 0x14]
0073f3e6 : CALL 0x0045d060
0073f3eb : MOV EAX,dword ptr [ESP + 0x14]
0073f3ef : CMP EAX,dword ptr [ESP + 0x1c]
0073f3f3 : JNZ 0x0073f2d4
0073f3f9 : MOV EAX,dword ptr [EDI + 0x14]
0073f3fc : TEST EAX,EAX
0073f3fe : JZ 0x0073f478
0073f400 : MOV EAX,dword ptr [EAX + 0x1c]
0073f403 : MOV ECX,dword ptr [EAX]
0073f405 : MOV EDX,dword ptr [ECX + 0xd0]
0073f40b : PUSH 0x0
0073f40d : PUSH 0xc06d54
0073f412 : PUSH EAX
0073f413 : CALL EDX
0073f415 : MOV EAX,dword ptr [EDI + 0x14]
0073f418 : MOV dword ptr [EDI + 0x44],0x0
0073f41f : MOV EAX,dword ptr [EAX + 0x1c]
0073f422 : MOV ECX,dword ptr [EAX]
0073f424 : MOV EDX,dword ptr [ECX + 0x108]
0073f42a : PUSH EAX
0073f42b : CALL EDX
0073f42d : MOV [0x00da9b18],EAX
0073f432 : TEST EAX,EAX
0073f434 : JGE 0x0073f44a
0073f436 : MOV ESI,dword ptr [0x00da98e8]
0073f43c : PUSH EAX
0073f43d : PUSH 0xc06d60
0073f442 : CALL 0x008018d0
0073f447 : ADD ESP,0x8
0073f44a : MOV EAX,dword ptr [EDI + 0x14]
0073f44d : MOV EAX,dword ptr [EAX + 0x1c]
0073f450 : MOV ECX,dword ptr [EAX]
0073f452 : MOV EDX,dword ptr [ECX + 0x10c]
0073f458 : PUSH EAX
0073f459 : CALL EDX
0073f45b : MOV [0x00da9b18],EAX
0073f460 : TEST EAX,EAX
0073f462 : JGE 0x0073f478
0073f464 : MOV ESI,dword ptr [0x00da98e8]
0073f46a : PUSH EAX
0073f46b : PUSH 0xc06df0
0073f470 : CALL 0x008018d0
0073f475 : ADD ESP,0x8
0073f478 : MOV EAX,EDI
0073f47a : CALL 0x0073a8d0
0073f47f : POP EDI
0073f480 : POP ESI
0073f481 : POP EBX
0073f482 : MOV ESP,EBP
0073f484 : POP EBP
0073f485 : RET 0xc
