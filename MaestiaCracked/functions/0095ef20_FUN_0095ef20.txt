PROGRAM  : Maestia.exe
FUNCTION : FUN_0095ef20
ENTRY    : 0095ef20
BODY     : [[0095ef20, 0095efb4]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0095efa3) */

void FUN_0095ef20(void)

{
  void *_Src;
  rsize_t _DstSize;
  uint uVar1;
  int iVar2;
  int unaff_ESI;
  
  uVar1 = *(int *)(unaff_ESI + 0x50) - *(int *)(unaff_ESI + 0x4c);
  do {
    if ((uVar1 & 0xfffffffc) == 0) {
      if (*(int *)(unaff_ESI + 0x4c) != *(int *)(unaff_ESI + 0x50)) {
        *(int *)(unaff_ESI + 0x50) = *(int *)(unaff_ESI + 0x4c);
      }
      return;
    }
    if (**(int **)(unaff_ESI + 0x4c) != 0) {
      iVar2 = **(int **)(unaff_ESI + 0x4c);
      if (iVar2 != 0) {
        FUN_00426640(iVar2);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      **(undefined4 **)(unaff_ESI + 0x4c) = 0;
    }
    _Src = (void *)((int)*(void **)(unaff_ESI + 0x4c) + 4);
    iVar2 = *(int *)(unaff_ESI + 0x50) - (int)_Src >> 2;
    if (0 < iVar2) {
      _DstSize = iVar2 * 4;
      _memmove_s(*(void **)(unaff_ESI + 0x4c),_DstSize,_Src,_DstSize);
    }
    *(int *)(unaff_ESI + 0x50) = *(int *)(unaff_ESI + 0x50) + -4;
    uVar1 = *(int *)(unaff_ESI + 0x50) - *(int *)(unaff_ESI + 0x4c);
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
0095ef20 : MOV EAX,dword ptr [ESI + 0x50]
0095ef23 : SUB EAX,dword ptr [ESI + 0x4c]
0095ef26 : PUSH EBX
0095ef27 : MOV EBX,0xfffffffc
0095ef2c : PUSH EDI
0095ef2d : TEST EBX,EAX
0095ef2f : JZ 0x0095ef84
0095ef31 : MOV EAX,dword ptr [ESI + 0x4c]
0095ef34 : CMP dword ptr [EAX],0x0
0095ef37 : JZ 0x0095ef55
0095ef39 : MOV EDI,dword ptr [EAX]
0095ef3b : TEST EDI,EDI
0095ef3d : JZ 0x0095ef4c
0095ef3f : PUSH EDI
0095ef40 : CALL 0x00426640
0095ef45 : MOV ECX,EDI
0095ef47 : CALL 0x006f04e0
0095ef4c : MOV ECX,dword ptr [ESI + 0x4c]
0095ef4f : MOV dword ptr [ECX],0x0
0095ef55 : MOV ECX,dword ptr [ESI + 0x4c]
0095ef58 : MOV EAX,dword ptr [ESI + 0x50]
0095ef5b : LEA EDX,[ECX + 0x4]
0095ef5e : SUB EAX,EDX
0095ef60 : SAR EAX,0x2
0095ef63 : TEST EAX,EAX
0095ef65 : JLE 0x0095ef77
0095ef67 : ADD EAX,EAX
0095ef69 : ADD EAX,EAX
0095ef6b : PUSH EAX
0095ef6c : PUSH EDX
0095ef6d : PUSH EAX
0095ef6e : PUSH ECX
0095ef6f : CALL 0x00634101
0095ef74 : ADD ESP,0x10
0095ef77 : ADD dword ptr [ESI + 0x50],EBX
0095ef7a : MOV EDX,dword ptr [ESI + 0x50]
0095ef7d : SUB EDX,dword ptr [ESI + 0x4c]
0095ef80 : TEST EBX,EDX
0095ef82 : JNZ 0x0095ef31
0095ef84 : MOV ECX,dword ptr [ESI + 0x50]
0095ef87 : MOV EDI,dword ptr [ESI + 0x4c]
0095ef8a : CMP EDI,ECX
0095ef8c : JZ 0x0095efb2
0095ef8e : MOV EAX,ECX
0095ef90 : SUB EAX,ECX
0095ef92 : SAR EAX,0x2
0095ef95 : LEA EDX,[EAX*0x4 + 0x0]
0095ef9c : LEA EBX,[EDX + EDI*0x1]
0095ef9f : TEST EAX,EAX
0095efa1 : JLE 0x0095efaf
0095efa3 : PUSH EDX
0095efa4 : PUSH ECX
0095efa5 : PUSH EDX
0095efa6 : PUSH EDI
0095efa7 : CALL 0x00634101
0095efac : ADD ESP,0x10
0095efaf : MOV dword ptr [ESI + 0x50],EBX
0095efb2 : POP EDI
0095efb3 : POP EBX
0095efb4 : RET
