PROGRAM  : Maestia.exe
FUNCTION : FUN_008d88d0
ENTRY    : 008d88d0
BODY     : [[008d88d0, 008d8cde]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008d88d0(int param_1)

{
  char cVar1;
  int iVar2;
  uint uVar3;
  int *piVar4;
  int iVar5;
  undefined4 uVar6;
  undefined4 ****ppppuVar7;
  int *piVar8;
  undefined1 local_70 [4];
  undefined2 local_6c;
  undefined4 local_5c;
  uint local_58;
  int *local_54;
  int *local_50 [2];
  undefined4 ***local_48 [4];
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  int local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1df0a;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_34 = 7;
  local_38 = 0;
  local_48[0] = (undefined4 ***)((uint)local_48[0] & 0xffff0000);
  local_14 = uVar3;
  FUN_00406360(&DAT_00c577c4,0);
  local_8 = 0;
  piVar8 = *(int **)(param_1 + 0x48);
  if (piVar8 != *(int **)(param_1 + 0x4c)) {
    do {
      iVar5 = *piVar8;
      if ((iVar5 != 0) && ((*(int *)(iVar5 + 0x88) - *(int *)(iVar5 + 0x84) & 0xfffffffcU) != 0)) {
        local_18 = 7;
        local_1c = 0;
        local_2c = 0;
        local_54 = piVar8;
        FUN_00406360(&DAT_00c577c8,0);
        local_8 = CONCAT31(local_8._1_3_,1);
        piVar4 = *(int **)(iVar5 + 0x84);
        if (*(char *)(iVar5 + 4) == '\0') {
          local_50[0] = piVar4;
          if (piVar4 != *(int **)(iVar5 + 0x88)) {
            do {
              iVar2 = *piVar4;
              local_50[0] = piVar4;
              if ((iVar2 != 0) && (*(char *)(iVar2 + 0xe1) != '\0')) {
                cVar1 = *(char *)(iVar2 + 0xbc);
                if ((cVar1 == '\x01') && (*(char *)(iVar2 + 0xbb) == '\0')) {
                  if ((*(uint *)(iVar2 + 0xcc) == *(uint *)(iVar2 + 0xc4)) ||
                     (*(uint *)(iVar2 + 0xcc) < *(uint *)(iVar2 + 0xc4))) {
                    FUN_00404980(local_30);
                    goto LAB_008d8a7f;
                  }
                }
                if ((cVar1 == '\0') && (*(char *)(iVar2 + 0xbb) == '\x01')) {
                  if ((*(uint *)(iVar2 + 200) == *(uint *)(iVar2 + 0xc0)) ||
                     (*(uint *)(iVar2 + 200) < *(uint *)(iVar2 + 0xc0))) {
                    FUN_00404980(local_30);
                    goto LAB_008d8a7f;
                  }
                }
                if ((cVar1 == '\x01') && (*(char *)(iVar2 + 0xbb) == '\x01')) {
                  if ((*(uint *)(iVar2 + 200) != *(uint *)(iVar2 + 0xc0)) &&
                     (*(uint *)(iVar2 + 0xc0) <= *(uint *)(iVar2 + 200))) {
                    if ((*(uint *)(iVar2 + 0xcc) != *(uint *)(iVar2 + 0xc4)) &&
                       (*(uint *)(iVar2 + 0xc4) <= *(uint *)(iVar2 + 0xcc))) goto LAB_008d8a70;
                  }
                  FUN_00404980(local_30);
                }
                else {
LAB_008d8a70:
                  FUN_00404870(&DAT_00c577e4,2);
                }
              }
LAB_008d8a7f:
              piVar4 = local_50[0] + 1;
              local_50[0] = piVar4;
            } while (piVar4 != *(int **)(iVar5 + 0x88));
          }
LAB_008d8b8b:
          if (local_1c != 0) {
            local_50[0] = (int *)0x2c;
            iVar5 = FUN_00407cc0(local_50,1);
            if (iVar5 != -1) {
              FUN_00405e10(iVar5,1);
            }
          }
          uVar6 = FUN_00403510(local_70);
          local_8._0_1_ = 2;
          FUN_00405c30(uVar6,0,0xffffffff);
          local_8 = CONCAT31(local_8._1_3_,1);
          if (7 < local_58) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
          local_58 = 7;
          local_5c = 0;
          local_6c = 0;
          local_8 = (uint)local_8._1_3_ << 8;
          piVar8 = local_54;
          if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
        }
        else {
          iVar5 = *piVar4;
          if (iVar5 != 0) {
            cVar1 = *(char *)(iVar5 + 0xbc);
            if ((cVar1 == '\x01') && (*(char *)(iVar5 + 0xbb) == '\0')) {
              if ((*(uint *)(iVar5 + 0xcc) == *(uint *)(iVar5 + 0xc4)) ||
                 (*(uint *)(iVar5 + 0xcc) < *(uint *)(iVar5 + 0xc4))) {
                FUN_00404980(local_30);
                goto LAB_008d8b8b;
              }
            }
            if ((cVar1 == '\0') && (*(char *)(iVar5 + 0xbb) == '\x01')) {
              if ((*(uint *)(iVar5 + 200) == *(uint *)(iVar5 + 0xc0)) ||
                 (*(uint *)(iVar5 + 200) < *(uint *)(iVar5 + 0xc0))) {
                FUN_00404980(local_30);
                goto LAB_008d8b8b;
              }
            }
            if ((cVar1 == '\x01') && (*(char *)(iVar5 + 0xbb) == '\x01')) {
              if ((*(uint *)(iVar5 + 200) != *(uint *)(iVar5 + 0xc0)) &&
                 (*(uint *)(iVar5 + 0xc0) <= *(uint *)(iVar5 + 200))) {
                if ((*(uint *)(iVar5 + 0xcc) != *(uint *)(iVar5 + 0xc4)) &&
                   (*(uint *)(iVar5 + 0xc4) <= *(uint *)(iVar5 + 0xcc))) goto LAB_008d8b7c;
              }
              FUN_00404980(local_30);
            }
            else {
LAB_008d8b7c:
              FUN_00404870(&DAT_00c57804,2);
            }
            goto LAB_008d8b8b;
          }
          local_8 = (uint)local_8._1_3_ << 8;
          if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0(uVar3);
          }
        }
        local_18 = 7;
        local_1c = 0;
        local_2c = 0;
      }
      piVar8 = piVar8 + 1;
    } while (piVar8 != *(int **)(param_1 + 0x4c));
  }
  local_54 = (int *)0x7c;
  iVar5 = FUN_00407cc0(&local_54,1);
  if (iVar5 != -1) {
    FUN_00405e10(iVar5,1);
  }
  iVar5 = *DAT_00da9894;
  if ((iVar5 != 0) && (*(int *)(iVar5 + 0x114) != 0)) {
    ppppuVar7 = (undefined4 ****)local_48[0];
    if (local_34 < 8) {
      ppppuVar7 = local_48;
    }
    (**(code **)(**(int **)(iVar5 + 0x114) + 4))
              (*(int **)(iVar5 + 0x114),"mc_premiumshop.UpdateSoldOut",&DAT_00c57810,ppppuVar7);
  }
  local_8 = 0xffffffff;
  if (local_34 < 8) {
    local_34 = 7;
    local_38 = 0;
    local_48[0] = (undefined4 ***)((uint)local_48[0] & 0xffff0000);
    ExceptionList = local_10;
    __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
008d88d0 : PUSH EBP
008d88d1 : MOV EBP,ESP
008d88d3 : PUSH -0x1
008d88d5 : PUSH 0xb1df0a
008d88da : MOV EAX,FS:[0x0]
008d88e0 : PUSH EAX
008d88e1 : SUB ESP,0x60
008d88e4 : MOV EAX,[0x00d66fa0]
008d88e9 : XOR EAX,EBP
008d88eb : MOV dword ptr [EBP + -0x10],EAX
008d88ee : PUSH EBX
008d88ef : PUSH ESI
008d88f0 : PUSH EDI
008d88f1 : PUSH EAX
008d88f2 : LEA EAX,[EBP + -0xc]
008d88f5 : MOV FS:[0x0],EAX
008d88fb : XOR ESI,ESI
008d88fd : PUSH ESI
008d88fe : XOR EAX,EAX
008d8900 : PUSH 0xc577c4
008d8905 : LEA ECX,[EBP + -0x48]
008d8908 : MOV dword ptr [EBP + -0x30],0x7
008d890f : MOV dword ptr [EBP + -0x34],ESI
008d8912 : MOV word ptr [EBP + -0x44],AX
008d8916 : CALL 0x00406360
008d891b : MOV dword ptr [EBP + -0x4],ESI
008d891e : MOV EBX,dword ptr [EBP + 0x8]
008d8921 : MOV ESI,dword ptr [EBX + 0x48]
008d8924 : MOV EAX,dword ptr [EBX + 0x4c]
008d8927 : MOV dword ptr [EBP + -0x50],ESI
008d892a : CMP ESI,EAX
008d892c : JZ 0x008d8c35
008d8932 : MOV EDI,dword ptr [ESI]
008d8934 : TEST EDI,EDI
008d8936 : JZ 0x008d8c26
008d893c : MOV ECX,dword ptr [EDI + 0x88]
008d8942 : SUB ECX,dword ptr [EDI + 0x84]
008d8948 : TEST ECX,0xfffffffc
008d894e : JZ 0x008d8c26
008d8954 : XOR EDX,EDX
008d8956 : PUSH EDX
008d8957 : PUSH 0xc577c8
008d895c : LEA ECX,[EBP + -0x2c]
008d895f : MOV dword ptr [EBP + -0x14],0x7
008d8966 : MOV dword ptr [EBP + -0x18],0x0
008d896d : MOV word ptr [EBP + -0x28],DX
008d8971 : CALL 0x00406360
008d8976 : MOV byte ptr [EBP + -0x4],0x1
008d897a : CMP byte ptr [EDI + 0x4],0x0
008d897e : MOV EAX,dword ptr [EDI + 0x84]
008d8984 : JNZ 0x008d8a99
008d898a : MOV dword ptr [EBP + -0x4c],EAX
008d898d : CMP EAX,dword ptr [EDI + 0x88]
008d8993 : JZ 0x008d8b8b
008d8999 : LEA ESP,[ESP]
008d89a0 : MOV EAX,dword ptr [EAX]
008d89a2 : TEST EAX,EAX
008d89a4 : JZ 0x008d8a7f
008d89aa : CMP byte ptr [EAX + 0xe1],0x0
008d89b1 : JZ 0x008d8a7f
008d89b7 : MOV BL,byte ptr [EAX + 0xbc]
008d89bd : CMP BL,0x1
008d89c0 : JNZ 0x008d89f4
008d89c2 : CMP byte ptr [EAX + 0xbb],0x0
008d89c9 : JNZ 0x008d89f4
008d89cb : MOV ECX,dword ptr [EAX + 0xcc]
008d89d1 : MOV EDX,dword ptr [EAX + 0xc4]
008d89d7 : MOV ESI,ECX
008d89d9 : SUB ESI,EDX
008d89db : JZ 0x008d89e1
008d89dd : CMP ECX,EDX
008d89df : JNC 0x008d89f4
008d89e1 : LEA EAX,[EBP + -0x2c]
008d89e4 : PUSH EAX
008d89e5 : MOV EDX,0xc577cc
008d89ea : CALL 0x00404980
008d89ef : JMP 0x008d8a7f
008d89f4 : TEST BL,BL
008d89f6 : JNZ 0x008d8a27
008d89f8 : CMP byte ptr [EAX + 0xbb],0x1
008d89ff : JNZ 0x008d8a27
008d8a01 : MOV ECX,dword ptr [EAX + 0xc8]
008d8a07 : MOV EDX,dword ptr [EAX + 0xc0]
008d8a0d : MOV ESI,ECX
008d8a0f : SUB ESI,EDX
008d8a11 : JZ 0x008d8a17
008d8a13 : CMP ECX,EDX
008d8a15 : JNC 0x008d8a27
008d8a17 : LEA ECX,[EBP + -0x2c]
008d8a1a : PUSH ECX
008d8a1b : MOV EDX,0xc577d4
008d8a20 : CALL 0x00404980
008d8a25 : JMP 0x008d8a7f
008d8a27 : CMP BL,0x1
008d8a2a : JNZ 0x008d8a70
008d8a2c : CMP byte ptr [EAX + 0xbb],BL
008d8a32 : JNZ 0x008d8a70
008d8a34 : MOV ECX,dword ptr [EAX + 0xc8]
008d8a3a : MOV EDX,dword ptr [EAX + 0xc0]
008d8a40 : MOV ESI,ECX
008d8a42 : SUB ESI,EDX
008d8a44 : JZ 0x008d8a60
008d8a46 : CMP ECX,EDX
008d8a48 : JC 0x008d8a60
008d8a4a : MOV ECX,dword ptr [EAX + 0xcc]
008d8a50 : MOV EAX,dword ptr [EAX + 0xc4]
008d8a56 : MOV EDX,ECX
008d8a58 : SUB EDX,EAX
008d8a5a : JZ 0x008d8a60
008d8a5c : CMP ECX,EAX
008d8a5e : JNC 0x008d8a70
008d8a60 : LEA EAX,[EBP + -0x2c]
008d8a63 : PUSH EAX
008d8a64 : MOV EDX,0xc577dc
008d8a69 : CALL 0x00404980
008d8a6e : JMP 0x008d8a7f
008d8a70 : PUSH 0x2
008d8a72 : PUSH 0xc577e4
008d8a77 : LEA ESI,[EBP + -0x2c]
008d8a7a : CALL 0x00404870
008d8a7f : MOV EAX,dword ptr [EBP + -0x4c]
008d8a82 : ADD EAX,0x4
008d8a85 : MOV dword ptr [EBP + -0x4c],EAX
008d8a88 : CMP EAX,dword ptr [EDI + 0x88]
008d8a8e : JNZ 0x008d89a0
008d8a94 : JMP 0x008d8b8b
008d8a99 : MOV EAX,dword ptr [EAX]
008d8a9b : TEST EAX,EAX
008d8a9d : JNZ 0x008d8ac3
008d8a9f : MOV byte ptr [EBP + -0x4],AL
008d8aa2 : CMP dword ptr [EBP + -0x14],0x8
008d8aa6 : JC 0x008d8ab0
008d8aa8 : MOV ECX,dword ptr [EBP + -0x28]
008d8aab : CALL 0x006f04e0
008d8ab0 : MOV dword ptr [EBP + -0x14],0x7
008d8ab7 : MOV dword ptr [EBP + -0x18],0x0
008d8abe : JMP 0x008d8c20
008d8ac3 : MOV BL,byte ptr [EAX + 0xbc]
008d8ac9 : CMP BL,0x1
008d8acc : JNZ 0x008d8b00
008d8ace : CMP byte ptr [EAX + 0xbb],0x0
008d8ad5 : JNZ 0x008d8b00
008d8ad7 : MOV ECX,dword ptr [EAX + 0xcc]
008d8add : MOV EDX,dword ptr [EAX + 0xc4]
008d8ae3 : MOV ESI,ECX
008d8ae5 : SUB ESI,EDX
008d8ae7 : JZ 0x008d8aed
008d8ae9 : CMP ECX,EDX
008d8aeb : JNC 0x008d8b00
008d8aed : LEA EDX,[EBP + -0x2c]
008d8af0 : PUSH EDX
008d8af1 : MOV EDX,0xc577ec
008d8af6 : CALL 0x00404980
008d8afb : JMP 0x008d8b8b
008d8b00 : TEST BL,BL
008d8b02 : JNZ 0x008d8b33
008d8b04 : CMP byte ptr [EAX + 0xbb],0x1
008d8b0b : JNZ 0x008d8b33
008d8b0d : MOV ECX,dword ptr [EAX + 0xc8]
008d8b13 : MOV EDX,dword ptr [EAX + 0xc0]
008d8b19 : MOV ESI,ECX
008d8b1b : SUB ESI,EDX
008d8b1d : JZ 0x008d8b23
008d8b1f : CMP ECX,EDX
008d8b21 : JNC 0x008d8b33
008d8b23 : LEA EAX,[EBP + -0x2c]
008d8b26 : PUSH EAX
008d8b27 : MOV EDX,0xc577f4
008d8b2c : CALL 0x00404980
008d8b31 : JMP 0x008d8b8b
008d8b33 : CMP BL,0x1
008d8b36 : JNZ 0x008d8b7c
008d8b38 : CMP byte ptr [EAX + 0xbb],BL
008d8b3e : JNZ 0x008d8b7c
008d8b40 : MOV ECX,dword ptr [EAX + 0xc8]
008d8b46 : MOV EDX,dword ptr [EAX + 0xc0]
008d8b4c : MOV ESI,ECX
008d8b4e : SUB ESI,EDX
008d8b50 : JZ 0x008d8b6c
008d8b52 : CMP ECX,EDX
008d8b54 : JC 0x008d8b6c
008d8b56 : MOV ECX,dword ptr [EAX + 0xcc]
008d8b5c : MOV EAX,dword ptr [EAX + 0xc4]
008d8b62 : MOV EDX,ECX
008d8b64 : SUB EDX,EAX
008d8b66 : JZ 0x008d8b6c
008d8b68 : CMP ECX,EAX
008d8b6a : JNC 0x008d8b7c
008d8b6c : LEA EAX,[EBP + -0x2c]
008d8b6f : PUSH EAX
008d8b70 : MOV EDX,0xc577fc
008d8b75 : CALL 0x00404980
008d8b7a : JMP 0x008d8b8b
008d8b7c : PUSH 0x2
008d8b7e : PUSH 0xc57804
008d8b83 : LEA ESI,[EBP + -0x2c]
008d8b86 : CALL 0x00404870
008d8b8b : XOR EBX,EBX
008d8b8d : CMP dword ptr [EBP + -0x18],EBX
008d8b90 : JZ 0x008d8bb9
008d8b92 : PUSH 0x1
008d8b94 : LEA ECX,[EBP + -0x4c]
008d8b97 : PUSH ECX
008d8b98 : OR ECX,0xffffffff
008d8b9b : LEA EDI,[EBP + -0x2c]
008d8b9e : MOV dword ptr [EBP + -0x4c],0x2c
008d8ba5 : CALL 0x00407cc0
008d8baa : CMP EAX,-0x1
008d8bad : JZ 0x008d8bb9
008d8baf : PUSH 0x1
008d8bb1 : PUSH EAX
008d8bb2 : MOV ECX,EDI
008d8bb4 : CALL 0x00405e10
008d8bb9 : LEA EDX,[EBP + -0x6c]
008d8bbc : PUSH EDX
008d8bbd : MOV EDX,0xc5780c
008d8bc2 : LEA ECX,[EBP + -0x2c]
008d8bc5 : CALL 0x00403510
008d8bca : ADD ESP,0x4
008d8bcd : MOV byte ptr [EBP + -0x4],0x2
008d8bd1 : PUSH -0x1
008d8bd3 : PUSH EBX
008d8bd4 : PUSH EAX
008d8bd5 : LEA ECX,[EBP + -0x48]
008d8bd8 : CALL 0x00405c30
008d8bdd : MOV byte ptr [EBP + -0x4],0x1
008d8be1 : MOV EDI,0x8
008d8be6 : CMP dword ptr [EBP + -0x54],EDI
008d8be9 : JC 0x008d8bf3
008d8beb : MOV ECX,dword ptr [EBP + -0x68]
008d8bee : CALL 0x006f04e0
008d8bf3 : XOR EAX,EAX
008d8bf5 : MOV ESI,0x7
008d8bfa : MOV dword ptr [EBP + -0x54],ESI
008d8bfd : MOV dword ptr [EBP + -0x58],EBX
008d8c00 : MOV word ptr [EBP + -0x68],AX
008d8c04 : MOV byte ptr [EBP + -0x4],AL
008d8c07 : CMP dword ptr [EBP + -0x14],EDI
008d8c0a : JC 0x008d8c14
008d8c0c : MOV ECX,dword ptr [EBP + -0x28]
008d8c0f : CALL 0x006f04e0
008d8c14 : MOV dword ptr [EBP + -0x14],ESI
008d8c17 : MOV ESI,dword ptr [EBP + -0x50]
008d8c1a : MOV dword ptr [EBP + -0x18],EBX
008d8c1d : MOV EBX,dword ptr [EBP + 0x8]
008d8c20 : XOR ECX,ECX
008d8c22 : MOV word ptr [EBP + -0x28],CX
008d8c26 : ADD ESI,0x4
008d8c29 : MOV dword ptr [EBP + -0x50],ESI
008d8c2c : CMP ESI,dword ptr [EBX + 0x4c]
008d8c2f : JNZ 0x008d8932
008d8c35 : PUSH 0x1
008d8c37 : LEA EDX,[EBP + -0x50]
008d8c3a : PUSH EDX
008d8c3b : OR ECX,0xffffffff
008d8c3e : LEA EDI,[EBP + -0x48]
008d8c41 : MOV dword ptr [EBP + -0x50],0x7c
008d8c48 : CALL 0x00407cc0
008d8c4d : CMP EAX,-0x1
008d8c50 : JZ 0x008d8c5c
008d8c52 : PUSH 0x1
008d8c54 : PUSH EAX
008d8c55 : MOV ECX,EDI
008d8c57 : CALL 0x00405e10
008d8c5c : MOV EAX,[0x00da9894]
008d8c61 : MOV EAX,dword ptr [EAX]
008d8c63 : TEST EAX,EAX
008d8c65 : JZ 0x008d8c98
008d8c67 : CMP dword ptr [EAX + 0x114],0x0
008d8c6e : JZ 0x008d8c98
008d8c70 : CMP dword ptr [EBP + -0x30],0x8
008d8c74 : MOV EAX,dword ptr [EAX + 0x114]
008d8c7a : MOV ECX,dword ptr [EBP + -0x44]
008d8c7d : JNC 0x008d8c82
008d8c7f : LEA ECX,[EBP + -0x44]
008d8c82 : MOV EDX,dword ptr [EAX]
008d8c84 : PUSH ECX
008d8c85 : PUSH 0xc57810
008d8c8a : PUSH 0xc57814
008d8c8f : PUSH EAX
008d8c90 : MOV EAX,dword ptr [EDX + 0x4]
008d8c93 : CALL EAX
008d8c95 : ADD ESP,0x10
008d8c98 : MOV dword ptr [EBP + -0x4],0xffffffff
008d8c9f : CMP dword ptr [EBP + -0x30],0x8
008d8ca3 : JC 0x008d8cad
008d8ca5 : MOV ECX,dword ptr [EBP + -0x44]
008d8ca8 : CALL 0x006f04e0
008d8cad : XOR ECX,ECX
008d8caf : MOV dword ptr [EBP + -0x30],0x7
008d8cb6 : MOV dword ptr [EBP + -0x34],0x0
008d8cbd : MOV word ptr [EBP + -0x44],CX
008d8cc1 : MOV ECX,dword ptr [EBP + -0xc]
008d8cc4 : MOV dword ptr FS:[0x0],ECX
008d8ccb : POP ECX
008d8ccc : POP EDI
008d8ccd : POP ESI
008d8cce : POP EBX
008d8ccf : MOV ECX,dword ptr [EBP + -0x10]
008d8cd2 : XOR ECX,EBP
008d8cd4 : CALL 0x00633e6b
008d8cd9 : MOV ESP,EBP
008d8cdb : POP EBP
008d8cdc : RET 0x4
