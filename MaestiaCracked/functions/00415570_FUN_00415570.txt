PROGRAM  : Maestia.exe
FUNCTION : FUN_00415570
ENTRY    : 00415570
BODY     : [[00415570, 004155dc] [004155e0, 0041562b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00415570(int *param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int unaff_ESI;
  undefined4 *unaff_EDI;
  
  piVar2 = *(int **)(unaff_ESI + 4);
  if ((param_1 == (int *)*piVar2) && (param_2 == piVar2)) {
    FUN_00414f20(piVar2[1]);
    *(int *)(*(int *)(unaff_ESI + 4) + 4) = *(int *)(unaff_ESI + 4);
    *(undefined4 *)(unaff_ESI + 8) = 0;
    *(undefined4 *)*(undefined4 *)(unaff_ESI + 4) = *(undefined4 *)(unaff_ESI + 4);
    *(int *)(*(int *)(unaff_ESI + 4) + 8) = *(int *)(unaff_ESI + 4);
    *unaff_EDI = **(undefined4 **)(unaff_ESI + 4);
    return;
  }
  while (param_1 != param_2) {
    if (*(char *)((int)param_1 + 0x45) == '\0') {
      piVar2 = (int *)param_1[2];
      if (*(char *)((int)piVar2 + 0x45) == '\0') {
        cVar1 = *(char *)(*piVar2 + 0x45);
        param_1 = piVar2;
        piVar2 = (int *)*piVar2;
        while (cVar1 == '\0') {
          cVar1 = *(char *)(*piVar2 + 0x45);
          param_1 = piVar2;
          piVar2 = (int *)*piVar2;
        }
      }
      else {
        cVar1 = *(char *)(param_1[1] + 0x45);
        piVar3 = (int *)param_1[1];
        piVar2 = param_1;
        while ((param_1 = piVar3, cVar1 == '\0' && (piVar2 == (int *)param_1[2]))) {
          cVar1 = *(char *)(param_1[1] + 0x45);
          piVar3 = (int *)param_1[1];
          piVar2 = param_1;
        }
      }
    }
    FUN_004167a0();
  }
  *unaff_EDI = param_1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00415570 : PUSH EBP
00415571 : MOV EBP,ESP
00415573 : AND ESP,0xfffffff8
00415576 : MOV EAX,dword ptr [ESI + 0x4]
00415579 : MOV ECX,dword ptr [EBP + 0x8]
0041557c : MOV EDX,dword ptr [EBP + 0xc]
0041557f : SUB ESP,0x8
00415582 : CMP ECX,dword ptr [EAX]
00415584 : JNZ 0x004155bc
00415586 : CMP EDX,EAX
00415588 : JNZ 0x004155bc
0041558a : MOV EAX,dword ptr [EAX + 0x4]
0041558d : PUSH EAX
0041558e : MOV ECX,ESI
00415590 : CALL 0x00414f20
00415595 : MOV EAX,dword ptr [ESI + 0x4]
00415598 : MOV dword ptr [EAX + 0x4],EAX
0041559b : MOV EAX,dword ptr [ESI + 0x4]
0041559e : MOV dword ptr [ESI + 0x8],0x0
004155a5 : MOV dword ptr [EAX],EAX
004155a7 : MOV EAX,dword ptr [ESI + 0x4]
004155aa : MOV dword ptr [EAX + 0x8],EAX
004155ad : MOV ECX,dword ptr [ESI + 0x4]
004155b0 : MOV EDX,dword ptr [ECX]
004155b2 : MOV dword ptr [EDI],EDX
004155b4 : MOV EAX,EDI
004155b6 : MOV ESP,EBP
004155b8 : POP EBP
004155b9 : RET 0x8
004155bc : CMP ECX,EDX
004155be : JZ 0x00415622
004155c0 : CMP byte ptr [ECX + 0x45],0x0
004155c4 : MOV EDX,ECX
004155c6 : JNZ 0x0041560e
004155c8 : MOV EAX,dword ptr [ECX + 0x8]
004155cb : CMP byte ptr [EAX + 0x45],0x0
004155cf : JNZ 0x004155ef
004155d1 : MOV ECX,EAX
004155d3 : MOV EAX,dword ptr [ECX]
004155d5 : CMP byte ptr [EAX + 0x45],0x0
004155d9 : JNZ 0x004155ea
004155db : JMP 0x004155e0
004155e0 : MOV ECX,EAX
004155e2 : MOV EAX,dword ptr [ECX]
004155e4 : CMP byte ptr [EAX + 0x45],0x0
004155e8 : JZ 0x004155e0
004155ea : MOV dword ptr [EBP + 0x8],ECX
004155ed : JMP 0x0041560e
004155ef : MOV EAX,dword ptr [ECX + 0x4]
004155f2 : CMP byte ptr [EAX + 0x45],0x0
004155f6 : JNZ 0x0041560b
004155f8 : CMP ECX,dword ptr [EAX + 0x8]
004155fb : JNZ 0x0041560b
004155fd : MOV ECX,EAX
004155ff : MOV dword ptr [EBP + 0x8],ECX
00415602 : MOV EAX,dword ptr [EAX + 0x4]
00415605 : CMP byte ptr [EAX + 0x45],0x0
00415609 : JZ 0x004155f8
0041560b : MOV dword ptr [EBP + 0x8],EAX
0041560e : PUSH EDX
0041560f : LEA EAX,[ESP + 0x8]
00415613 : PUSH EAX
00415614 : PUSH ESI
00415615 : CALL 0x004167a0
0041561a : MOV ECX,dword ptr [EBP + 0x8]
0041561d : CMP ECX,dword ptr [EBP + 0xc]
00415620 : JNZ 0x004155c0
00415622 : MOV dword ptr [EDI],ECX
00415624 : MOV EAX,EDI
00415626 : MOV ESP,EBP
00415628 : POP EBP
00415629 : RET 0x8
