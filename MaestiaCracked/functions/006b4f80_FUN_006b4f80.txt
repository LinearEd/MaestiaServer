PROGRAM  : Maestia.exe
FUNCTION : FUN_006b4f80
ENTRY    : 006b4f80
BODY     : [[006b4f80, 006b5035]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006b4f80(void)

{
  uint uVar1;
  uint uVar2;
  uint *in_EAX;
  uint uVar3;
  uint uVar4;
  undefined4 *puVar5;
  int unaff_EDI;
  
  uVar1 = *in_EAX;
  uVar4 = *(int *)(unaff_EDI + 0x1a4) + 1;
  if (uVar1 < uVar4) {
    uVar2 = *(uint *)(unaff_EDI + 0x194);
    uVar3 = uVar1 * 0x10 + uVar2;
    if ((uVar4 != *(uint *)(unaff_EDI + 0x18c)) || (*(uint *)(uVar3 + 8) != uVar1)) {
      uVar4 = *(uint *)(unaff_EDI + 0x18c) * 0x10 + uVar2;
      for (uVar3 = uVar2; (uVar3 < uVar4 && (*(uint *)(uVar3 + 8) != uVar1)); uVar3 = uVar3 + 0x10)
      {
      }
      if (uVar3 == uVar4) goto LAB_006b4fce;
    }
    if (*(char *)(uVar3 + 0xc) != '\0') {
      if (*(int *)(unaff_EDI + 0x1b0) <= *(int *)(unaff_EDI + 0x1ac)) {
        *(undefined4 *)(unaff_EDI + 0xc) = 0x82;
        return;
      }
      puVar5 = (undefined4 *)(*(int *)(unaff_EDI + 0x1ac) * 0x10 + *(int *)(unaff_EDI + 0x1b4));
      *puVar5 = *(undefined4 *)(unaff_EDI + 0x160);
      puVar5[1] = *(int *)(unaff_EDI + 0x168) + 1;
      puVar5[2] = 1;
      puVar5[3] = *(undefined4 *)(uVar3 + 4);
      *(int *)(unaff_EDI + 0x1ac) = *(int *)(unaff_EDI + 0x1ac) + 1;
      FUN_006b4210();
      *(undefined1 *)(unaff_EDI + 0x178) = 0;
      return;
    }
  }
LAB_006b4fce:
  *(undefined4 *)(unaff_EDI + 0xc) = 0x86;
  return;
}



============================================================
DISASSEMBLY
============================================================
006b4f80 : MOV EDX,dword ptr [EAX]
006b4f82 : MOV EAX,dword ptr [EDI + 0x1a4]
006b4f88 : PUSH EBX
006b4f89 : PUSH ESI
006b4f8a : LEA ESI,[EAX + 0x1]
006b4f8d : CMP EDX,ESI
006b4f8f : JNC 0x006b4fce
006b4f91 : MOV EBX,dword ptr [EDI + 0x194]
006b4f97 : MOV ECX,dword ptr [EDI + 0x18c]
006b4f9d : MOV EAX,EDX
006b4f9f : SHL EAX,0x4
006b4fa2 : ADD EAX,EBX
006b4fa4 : CMP ESI,ECX
006b4fa6 : JNZ 0x006b4fad
006b4fa8 : CMP dword ptr [EAX + 0x8],EDX
006b4fab : JZ 0x006b4fc8
006b4fad : MOV EAX,EBX
006b4faf : SHL ECX,0x4
006b4fb2 : ADD ECX,EAX
006b4fb4 : CMP EAX,ECX
006b4fb6 : JNC 0x006b4fc6
006b4fb8 : CMP dword ptr [EAX + 0x8],EDX
006b4fbb : JZ 0x006b4fc4
006b4fbd : ADD EAX,0x10
006b4fc0 : CMP EAX,ECX
006b4fc2 : JC 0x006b4fb8
006b4fc4 : CMP EAX,ECX
006b4fc6 : JZ 0x006b4fce
006b4fc8 : CMP byte ptr [EAX + 0xc],0x0
006b4fcc : JNZ 0x006b4fd8
006b4fce : POP ESI
006b4fcf : MOV dword ptr [EDI + 0xc],0x86
006b4fd6 : POP EBX
006b4fd7 : RET
006b4fd8 : MOV ECX,dword ptr [EDI + 0x1ac]
006b4fde : CMP ECX,dword ptr [EDI + 0x1b0]
006b4fe4 : JL 0x006b4ff0
006b4fe6 : POP ESI
006b4fe7 : MOV dword ptr [EDI + 0xc],0x82
006b4fee : POP EBX
006b4fef : RET
006b4ff0 : MOV EDX,dword ptr [EDI + 0x160]
006b4ff6 : SHL ECX,0x4
006b4ff9 : ADD ECX,dword ptr [EDI + 0x1b4]
006b4fff : MOV dword ptr [ECX],EDX
006b5001 : MOV ESI,dword ptr [EDI + 0x168]
006b5007 : MOV EDX,0x1
006b500c : ADD ESI,EDX
006b500e : MOV dword ptr [ECX + 0x4],ESI
006b5011 : MOV dword ptr [ECX + 0x8],EDX
006b5014 : MOV ESI,dword ptr [EAX + 0x4]
006b5017 : MOV dword ptr [ECX + 0xc],ESI
006b501a : ADD dword ptr [EDI + 0x1ac],EDX
006b5020 : MOV ESI,dword ptr [EAX + 0x4]
006b5023 : MOV ECX,dword ptr [EAX]
006b5025 : MOV EAX,EDI
006b5027 : CALL 0x006b4210
006b502c : POP ESI
006b502d : MOV byte ptr [EDI + 0x178],0x0
006b5034 : POP EBX
006b5035 : RET
