PROGRAM  : Maestia.exe
FUNCTION : FUN_0052a3c0
ENTRY    : 0052a3c0
BODY     : [[0052a3c0, 0052a501]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0052a3c0(undefined1 *param_1,char *param_2)

{
  int *piVar1;
  char *pcVar2;
  int iVar3;
  int in_ECX;
  undefined1 *unaff_retaddr;
  
  pcVar2 = param_2;
  if (*(byte *)(in_ECX + 0x7c) < 7) {
    piVar1 = *(int **)param_2;
    iVar3 = *(int *)(in_ECX + 0x78);
    if (*(int *)(*piVar1 + 4) == 0) {
      FUN_00525a80();
    }
    if (*(int *)(*(int *)(iVar3 + 0x100) + 4) != *(int *)(*piVar1 + 4)) {
      piVar1 = *(int **)pcVar2;
      iVar3 = *(int *)(in_ECX + 0x78);
      if (*(int *)(*piVar1 + 4) == 0) {
        FUN_00525a80();
      }
      if (*(int *)(*(int *)(iVar3 + 0xfc) + 4) == *(int *)(*piVar1 + 4)) {
        FUN_005271c0(*(undefined4 *)(*(int *)(in_ECX + 0x78) + 0x2a0));
        *param_1 = 1;
        return;
      }
      goto LAB_0052a497;
    }
  }
  else {
    iVar3 = *(int *)(in_ECX + 0x78);
    if (*(int *)(iVar3 + 0x100) != **(int **)param_2) {
      if (*(int *)(iVar3 + 0xfc) == **(int **)param_2) {
        FUN_005271c0(*(undefined4 *)(iVar3 + 0x2a0));
        *param_1 = 1;
        return;
      }
LAB_0052a497:
      param_2 = (char *)0x0;
      iVar3 = FUN_0056a360(*(undefined4 *)**(undefined4 **)pcVar2,&param_2,
                           6 < *(byte *)(in_ECX + 0x7c));
      if ((iVar3 == -1) || (*param_2 != '\0')) {
        *param_1 = 0;
        return;
      }
      iVar3 = (**(code **)(**(int **)(in_ECX + 0x74) + 0x50))(iVar3);
      if (iVar3 == 0) {
        *unaff_retaddr = 2;
        return;
      }
      goto LAB_0052a3ec;
    }
  }
  iVar3 = (**(code **)(**(int **)(in_ECX + 0x74) + 0x54))(0);
LAB_0052a3ec:
  FUN_00526c80(iVar3);
  *unaff_retaddr = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0052a3c0 : PUSH ECX
0052a3c1 : PUSH EBX
0052a3c2 : PUSH EBP
0052a3c3 : PUSH ESI
0052a3c4 : MOV ESI,ECX
0052a3c6 : CMP byte ptr [ESI + 0x7c],0x6
0052a3ca : PUSH EDI
0052a3cb : MOV EDI,dword ptr [ESP + 0x1c]
0052a3cf : JBE 0x0052a42e
0052a3d1 : MOV ECX,dword ptr [EDI]
0052a3d3 : MOV EAX,dword ptr [ESI + 0x78]
0052a3d6 : MOV ECX,dword ptr [ECX]
0052a3d8 : CMP dword ptr [EAX + 0x100],ECX
0052a3de : JNZ 0x0052a404
0052a3e0 : MOV ECX,dword ptr [ESI + 0x74]
0052a3e3 : MOV EDX,dword ptr [ECX]
0052a3e5 : MOV EAX,dword ptr [EDX + 0x54]
0052a3e8 : PUSH 0x0
0052a3ea : CALL EAX
0052a3ec : MOV ECX,dword ptr [EDI + 0x4]
0052a3ef : PUSH EAX
0052a3f0 : CALL 0x00526c80
0052a3f5 : MOV EAX,dword ptr [ESP + 0x18]
0052a3f9 : POP EDI
0052a3fa : POP ESI
0052a3fb : POP EBP
0052a3fc : MOV byte ptr [EAX],0x1
0052a3ff : POP EBX
0052a400 : POP ECX
0052a401 : RET 0x8
0052a404 : CMP dword ptr [EAX + 0xfc],ECX
0052a40a : JNZ 0x0052a497
0052a410 : MOV ECX,dword ptr [EAX + 0x2a0]
0052a416 : PUSH ECX
0052a417 : MOV ECX,dword ptr [EDI + 0x4]
0052a41a : CALL 0x005271c0
0052a41f : MOV EAX,dword ptr [ESP + 0x18]
0052a423 : POP EDI
0052a424 : POP ESI
0052a425 : POP EBP
0052a426 : MOV byte ptr [EAX],0x1
0052a429 : POP EBX
0052a42a : POP ECX
0052a42b : RET 0x8
0052a42e : MOV EBP,dword ptr [EDI]
0052a430 : MOV ECX,dword ptr [EBP]
0052a433 : CMP dword ptr [ECX + 0x4],0x0
0052a437 : MOV EBX,dword ptr [ESI + 0x78]
0052a43a : JNZ 0x0052a441
0052a43c : CALL 0x00525a80
0052a441 : MOV EDX,dword ptr [EBX + 0x100]
0052a447 : MOV EAX,dword ptr [EBP]
0052a44a : MOV ECX,dword ptr [EDX + 0x4]
0052a44d : CMP ECX,dword ptr [EAX + 0x4]
0052a450 : JZ 0x0052a3e0
0052a452 : MOV EBP,dword ptr [EDI]
0052a454 : MOV ECX,dword ptr [EBP]
0052a457 : CMP dword ptr [ECX + 0x4],0x0
0052a45b : MOV EBX,dword ptr [ESI + 0x78]
0052a45e : JNZ 0x0052a465
0052a460 : CALL 0x00525a80
0052a465 : MOV ECX,dword ptr [EBX + 0xfc]
0052a46b : MOV EDX,dword ptr [EBP]
0052a46e : MOV EAX,dword ptr [ECX + 0x4]
0052a471 : CMP EAX,dword ptr [EDX + 0x4]
0052a474 : JNZ 0x0052a497
0052a476 : MOV ECX,dword ptr [ESI + 0x78]
0052a479 : MOV EDX,dword ptr [ECX + 0x2a0]
0052a47f : MOV ECX,dword ptr [EDI + 0x4]
0052a482 : PUSH EDX
0052a483 : CALL 0x005271c0
0052a488 : MOV EAX,dword ptr [ESP + 0x18]
0052a48c : POP EDI
0052a48d : POP ESI
0052a48e : POP EBP
0052a48f : MOV byte ptr [EAX],0x1
0052a492 : POP EBX
0052a493 : POP ECX
0052a494 : RET 0x8
0052a497 : CMP byte ptr [ESI + 0x7c],0x6
0052a49b : MOV ECX,dword ptr [EDI]
0052a49d : SETA AL
0052a4a0 : MOV dword ptr [ESP + 0x1c],0x0
0052a4a8 : MOV EDX,dword ptr [ECX]
0052a4aa : MOV byte ptr [ESP + 0x10],AL
0052a4ae : MOV EAX,dword ptr [EDX]
0052a4b0 : MOV ECX,dword ptr [ESP + 0x10]
0052a4b4 : PUSH ECX
0052a4b5 : LEA EDX,[ESP + 0x20]
0052a4b9 : PUSH EDX
0052a4ba : PUSH EAX
0052a4bb : CALL 0x0056a360
0052a4c0 : ADD ESP,0xc
0052a4c3 : CMP EAX,-0x1
0052a4c6 : JZ 0x0052a4f3
0052a4c8 : MOV ECX,dword ptr [ESP + 0x1c]
0052a4cc : CMP byte ptr [ECX],0x0
0052a4cf : JNZ 0x0052a4f3
0052a4d1 : MOV ECX,dword ptr [ESI + 0x74]
0052a4d4 : MOV EDX,dword ptr [ECX]
0052a4d6 : PUSH EAX
0052a4d7 : MOV EAX,dword ptr [EDX + 0x50]
0052a4da : CALL EAX
0052a4dc : TEST EAX,EAX
0052a4de : JNZ 0x0052a3ec
0052a4e4 : MOV EAX,dword ptr [ESP + 0x18]
0052a4e8 : POP EDI
0052a4e9 : POP ESI
0052a4ea : POP EBP
0052a4eb : MOV byte ptr [EAX],0x2
0052a4ee : POP EBX
0052a4ef : POP ECX
0052a4f0 : RET 0x8
0052a4f3 : MOV EAX,dword ptr [ESP + 0x18]
0052a4f7 : POP EDI
0052a4f8 : POP ESI
0052a4f9 : POP EBP
0052a4fa : MOV byte ptr [EAX],0x0
0052a4fd : POP EBX
0052a4fe : POP ECX
0052a4ff : RET 0x8
