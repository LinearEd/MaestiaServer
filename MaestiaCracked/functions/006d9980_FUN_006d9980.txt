PROGRAM  : Maestia.exe
FUNCTION : FUN_006d9980
ENTRY    : 006d9980
BODY     : [[006d9980, 006d9b49]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006d9980(void)

{
  int iVar1;
  undefined1 uVar2;
  int iVar3;
  int *unaff_ESI;
  
  iVar1 = unaff_ESI[0x60];
  FUN_006d96c0();
  FUN_006d98f0();
  *(undefined4 *)(iVar1 + 0xc) = 0;
  uVar2 = FUN_006d9640();
  *(undefined1 *)(iVar1 + 0x10) = uVar2;
  *(undefined4 *)(iVar1 + 0x14) = 0;
  *(undefined4 *)(iVar1 + 0x18) = 0;
  if ((*(char *)((int)unaff_ESI + 0x4a) == '\0') || ((char)unaff_ESI[0x10] == '\0')) {
    *(undefined1 *)(unaff_ESI + 0x16) = 0;
    *(undefined1 *)((int)unaff_ESI + 0x59) = 0;
    *(undefined1 *)((int)unaff_ESI + 0x5a) = 0;
  }
  if (*(char *)((int)unaff_ESI + 0x4a) == '\0') goto LAB_006d9a25;
  if (*(char *)((int)unaff_ESI + 0x41) != '\0') {
    *(undefined4 *)(*unaff_ESI + 0x14) = 0x2f;
    (**(code **)*unaff_ESI)();
  }
  if (unaff_ESI[0x19] == 3) {
    if (unaff_ESI[0x1d] == 0) {
      if ((char)unaff_ESI[0x14] == '\0') goto LAB_006d99ee;
      *(undefined1 *)((int)unaff_ESI + 0x5a) = 1;
    }
    else {
      *(undefined1 *)((int)unaff_ESI + 0x59) = 1;
    }
  }
  else {
    *(undefined1 *)((int)unaff_ESI + 0x59) = 0;
    *(undefined1 *)((int)unaff_ESI + 0x5a) = 0;
    unaff_ESI[0x1d] = 0;
LAB_006d99ee:
    *(undefined1 *)(unaff_ESI + 0x16) = 1;
  }
  if ((char)unaff_ESI[0x16] != '\0') {
    FUN_006e31f0();
    *(int *)(iVar1 + 0x14) = unaff_ESI[0x6a];
  }
  if ((*(char *)((int)unaff_ESI + 0x5a) != '\0') || (*(char *)((int)unaff_ESI + 0x59) != '\0')) {
    FUN_006e2570();
    *(int *)(iVar1 + 0x18) = unaff_ESI[0x6a];
  }
LAB_006d9a25:
  if (*(char *)((int)unaff_ESI + 0x41) == '\0') {
    if (*(char *)(iVar1 + 0x10) == '\0') {
      FUN_006e0be0();
      FUN_006e0590();
    }
    else {
      FUN_006e12d0();
    }
    FUN_006e0040();
  }
  FUN_006dfd00();
  if (*(char *)((int)unaff_ESI + 0xc9) == '\0') {
    if ((char)unaff_ESI[0x32] == '\0') {
      FUN_006db730();
    }
    else {
      FUN_006dc3a0();
    }
  }
  else {
    *(undefined4 *)(*unaff_ESI + 0x14) = 1;
    (**(code **)*unaff_ESI)();
  }
  FUN_006dab20();
  if (*(char *)((int)unaff_ESI + 0x41) == '\0') {
    FUN_006df900();
  }
  (**(code **)(unaff_ESI[1] + 0x18))();
  (**(code **)(unaff_ESI[100] + 8))();
  if (((unaff_ESI[2] != 0) && ((char)unaff_ESI[0x10] == '\0')) &&
     (*(char *)(unaff_ESI[100] + 0x10) != '\0')) {
    iVar3 = unaff_ESI[9];
    if ((char)unaff_ESI[0x32] != '\0') {
      iVar3 = iVar3 * 3 + 2;
    }
    *(undefined4 *)(unaff_ESI[2] + 4) = 0;
    *(int *)(unaff_ESI[2] + 8) = unaff_ESI[0x47] * iVar3;
    *(undefined4 *)(unaff_ESI[2] + 0xc) = 0;
    *(uint *)(unaff_ESI[2] + 0x10) = (*(char *)((int)unaff_ESI + 0x5a) != '\0') + 2;
    *(int *)(iVar1 + 0xc) = *(int *)(iVar1 + 0xc) + 1;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006d9980 : PUSH ECX
006d9981 : PUSH EBX
006d9982 : PUSH EDI
006d9983 : MOV EDI,dword ptr [ESI + 0x180]
006d9989 : PUSH ESI
006d998a : CALL 0x006d96c0
006d998f : ADD ESP,0x4
006d9992 : MOV EBX,ESI
006d9994 : CALL 0x006d98f0
006d9999 : XOR EBX,EBX
006d999b : MOV EDX,ESI
006d999d : MOV dword ptr [EDI + 0xc],EBX
006d99a0 : CALL 0x006d9640
006d99a5 : MOV byte ptr [EDI + 0x10],AL
006d99a8 : MOV dword ptr [EDI + 0x14],EBX
006d99ab : MOV dword ptr [EDI + 0x18],EBX
006d99ae : MOV AL,byte ptr [ESI + 0x4a]
006d99b1 : CMP AL,BL
006d99b3 : JZ 0x006d99ba
006d99b5 : CMP byte ptr [ESI + 0x40],BL
006d99b8 : JNZ 0x006d99c3
006d99ba : MOV byte ptr [ESI + 0x58],BL
006d99bd : MOV byte ptr [ESI + 0x59],BL
006d99c0 : MOV byte ptr [ESI + 0x5a],BL
006d99c3 : CMP AL,BL
006d99c5 : JZ 0x006d9a25
006d99c7 : CMP byte ptr [ESI + 0x41],BL
006d99ca : JZ 0x006d99df
006d99cc : MOV EAX,dword ptr [ESI]
006d99ce : MOV dword ptr [EAX + 0x14],0x2f
006d99d5 : MOV ECX,dword ptr [ESI]
006d99d7 : MOV EDX,dword ptr [ECX]
006d99d9 : PUSH ESI
006d99da : CALL EDX
006d99dc : ADD ESP,0x4
006d99df : CMP dword ptr [ESI + 0x64],0x3
006d99e3 : JZ 0x006d9a3a
006d99e5 : MOV byte ptr [ESI + 0x59],BL
006d99e8 : MOV byte ptr [ESI + 0x5a],BL
006d99eb : MOV dword ptr [ESI + 0x74],EBX
006d99ee : MOV byte ptr [ESI + 0x58],0x1
006d99f2 : CMP byte ptr [ESI + 0x58],BL
006d99f5 : JZ 0x006d9a09
006d99f7 : PUSH ESI
006d99f8 : CALL 0x006e31f0
006d99fd : MOV EAX,dword ptr [ESI + 0x1a8]
006d9a03 : ADD ESP,0x4
006d9a06 : MOV dword ptr [EDI + 0x14],EAX
006d9a09 : CMP byte ptr [ESI + 0x5a],BL
006d9a0c : JNZ 0x006d9a13
006d9a0e : CMP byte ptr [ESI + 0x59],BL
006d9a11 : JZ 0x006d9a25
006d9a13 : PUSH ESI
006d9a14 : CALL 0x006e2570
006d9a19 : MOV ECX,dword ptr [ESI + 0x1a8]
006d9a1f : ADD ESP,0x4
006d9a22 : MOV dword ptr [EDI + 0x18],ECX
006d9a25 : CMP byte ptr [ESI + 0x41],BL
006d9a28 : JNZ 0x006d9a6c
006d9a2a : PUSH ESI
006d9a2b : CMP byte ptr [EDI + 0x10],BL
006d9a2e : JZ 0x006d9a50
006d9a30 : CALL 0x006e12d0
006d9a35 : ADD ESP,0x4
006d9a38 : JMP 0x006d9a5e
006d9a3a : CMP dword ptr [ESI + 0x74],EBX
006d9a3d : JZ 0x006d9a45
006d9a3f : MOV byte ptr [ESI + 0x59],0x1
006d9a43 : JMP 0x006d99f2
006d9a45 : CMP byte ptr [ESI + 0x50],BL
006d9a48 : JZ 0x006d99ee
006d9a4a : MOV byte ptr [ESI + 0x5a],0x1
006d9a4e : JMP 0x006d99f2
006d9a50 : CALL 0x006e0be0
006d9a55 : PUSH ESI
006d9a56 : CALL 0x006e0590
006d9a5b : ADD ESP,0x8
006d9a5e : MOVZX EDX,byte ptr [ESI + 0x5a]
006d9a62 : PUSH EDX
006d9a63 : PUSH ESI
006d9a64 : CALL 0x006e0040
006d9a69 : ADD ESP,0x8
006d9a6c : PUSH ESI
006d9a6d : CALL 0x006dfd00
006d9a72 : ADD ESP,0x4
006d9a75 : PUSH ESI
006d9a76 : CMP byte ptr [ESI + 0xc9],BL
006d9a7c : JZ 0x006d9a8f
006d9a7e : MOV EAX,dword ptr [ESI]
006d9a80 : MOV dword ptr [EAX + 0x14],0x1
006d9a87 : MOV ECX,dword ptr [ESI]
006d9a89 : MOV EDX,dword ptr [ECX]
006d9a8b : CALL EDX
006d9a8d : JMP 0x006d9aa3
006d9a8f : CMP byte ptr [ESI + 0xc8],BL
006d9a95 : JZ 0x006d9a9e
006d9a97 : CALL 0x006dc3a0
006d9a9c : JMP 0x006d9aa3
006d9a9e : CALL 0x006db730
006d9aa3 : MOV EAX,dword ptr [ESI + 0x190]
006d9aa9 : ADD ESP,0x4
006d9aac : CMP byte ptr [EAX + 0x10],BL
006d9aaf : JNZ 0x006d9aba
006d9ab1 : MOV byte ptr [ESP + 0x8],BL
006d9ab5 : CMP byte ptr [ESI + 0x40],BL
006d9ab8 : JZ 0x006d9abf
006d9aba : MOV byte ptr [ESP + 0x8],0x1
006d9abf : MOV ECX,dword ptr [ESP + 0x8]
006d9ac3 : PUSH ECX
006d9ac4 : PUSH ESI
006d9ac5 : CALL 0x006dab20
006d9aca : ADD ESP,0x8
006d9acd : CMP byte ptr [ESI + 0x41],BL
006d9ad0 : JNZ 0x006d9adc
006d9ad2 : PUSH EBX
006d9ad3 : PUSH ESI
006d9ad4 : CALL 0x006df900
006d9ad9 : ADD ESP,0x8
006d9adc : MOV EDX,dword ptr [ESI + 0x4]
006d9adf : MOV EAX,dword ptr [EDX + 0x18]
006d9ae2 : PUSH ESI
006d9ae3 : CALL EAX
006d9ae5 : MOV ECX,dword ptr [ESI + 0x190]
006d9aeb : MOV EDX,dword ptr [ECX + 0x8]
006d9aee : PUSH ESI
006d9aef : CALL EDX
006d9af1 : MOV ECX,dword ptr [ESI + 0x8]
006d9af4 : ADD ESP,0x8
006d9af7 : CMP ECX,EBX
006d9af9 : JZ 0x006d9b46
006d9afb : CMP byte ptr [ESI + 0x40],BL
006d9afe : JNZ 0x006d9b46
006d9b00 : MOV EAX,dword ptr [ESI + 0x190]
006d9b06 : CMP byte ptr [EAX + 0x10],BL
006d9b09 : JZ 0x006d9b46
006d9b0b : MOV EAX,dword ptr [ESI + 0x24]
006d9b0e : CMP byte ptr [ESI + 0xc8],BL
006d9b14 : JZ 0x006d9b1a
006d9b16 : LEA EAX,[EAX + EAX*0x2 + 0x2]
006d9b1a : MOV dword ptr [ECX + 0x4],EBX
006d9b1d : MOV ECX,dword ptr [ESI + 0x11c]
006d9b23 : MOV EDX,dword ptr [ESI + 0x8]
006d9b26 : IMUL ECX,EAX
006d9b29 : MOV dword ptr [EDX + 0x8],ECX
006d9b2c : MOV EAX,dword ptr [ESI + 0x8]
006d9b2f : MOV dword ptr [EAX + 0xc],EBX
006d9b32 : MOV EDX,dword ptr [ESI + 0x8]
006d9b35 : XOR ECX,ECX
006d9b37 : CMP byte ptr [ESI + 0x5a],BL
006d9b3a : SETNZ CL
006d9b3d : ADD ECX,0x2
006d9b40 : MOV dword ptr [EDX + 0x10],ECX
006d9b43 : INC dword ptr [EDI + 0xc]
006d9b46 : POP EDI
006d9b47 : POP EBX
006d9b48 : POP ECX
006d9b49 : RET
