PROGRAM  : Maestia.exe
FUNCTION : FUN_009a0540
ENTRY    : 009a0540
BODY     : [[009a0540, 009a06cd]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_009a0540(int *param_1,uint param_2,undefined4 param_3)

{
  int *piVar1;
  short in_AX;
  short sVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int local_c;
  int local_8;
  
  piVar1 = param_1;
  iVar5 = 0;
  param_1 = (int *)0x0;
  if ((char)param_2 != '\0') {
    iVar5 = 0x14;
    do {
      iVar4 = (**(code **)(*piVar1 + 0x74))(iVar5,0);
      iVar3 = DAT_00d7c54c;
      if (iVar4 != 0) {
        param_3 = *(undefined4 *)(iVar4 + 0x10);
        FUN_004437f0(&param_3);
        if (((param_2 != *(uint *)(iVar3 + 0x44)) && (*(int *)(param_2 + 0x10) != 0)) &&
           ((*(uint *)(*(int *)(param_2 + 0x10) + 0x4c) & 0x18000) != 0)) {
          param_1 = (int *)((int)param_1 + 1);
        }
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < 0x1e);
    return (int)param_1;
  }
  do {
    iVar3 = (**(code **)(*piVar1 + 0x74))(iVar5,0);
    if (iVar3 != 0) {
      if ((char)param_3 == '\0') {
        param_2 = (uint)*(ushort *)(iVar3 + 0x10);
        FUN_0041c060(&param_2);
        if (local_8 == DAT_017289d8) {
LAB_009a05c8:
          sVar2 = 0;
        }
        else {
          sVar2 = *(short *)(local_8 + 0xe);
        }
      }
      else {
        param_2 = (uint)*(ushort *)(iVar3 + 0x10);
        FUN_0041c060(&param_2);
        if (local_c == DAT_017289f4) goto LAB_009a05c8;
        sVar2 = *(short *)(local_c + 0xe);
      }
      if (sVar2 == in_AX) {
        param_1 = (int *)((int)param_1 + 1);
      }
    }
    iVar5 = iVar5 + 1;
  } while (iVar5 < 0xc);
  iVar5 = 0x14;
  do {
    iVar3 = (**(code **)(*piVar1 + 0x74))(iVar5,0);
    if (iVar3 != 0) {
      if ((char)param_3 == '\0') {
        param_2 = (uint)*(ushort *)(iVar3 + 0x10);
        FUN_0041c060(&param_2);
        if (local_c == DAT_017289d8) {
LAB_009a0648:
          sVar2 = 0;
        }
        else {
          sVar2 = *(short *)(local_c + 0xe);
        }
      }
      else {
        param_2 = (uint)*(ushort *)(iVar3 + 0x10);
        FUN_0041c060(&param_2);
        if (local_8 == DAT_017289f4) goto LAB_009a0648;
        sVar2 = *(short *)(local_8 + 0xe);
      }
      if (sVar2 == in_AX) {
        param_1 = (int *)((int)param_1 + 1);
      }
    }
    iVar5 = iVar5 + 1;
    if (0x1d < iVar5) {
      return (int)param_1;
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
009a0540 : PUSH EBP
009a0541 : MOV EBP,ESP
009a0543 : SUB ESP,0x8
009a0546 : PUSH EBX
009a0547 : MOV EBX,dword ptr [EBP + 0x8]
009a054a : PUSH ESI
009a054b : XOR ESI,ESI
009a054d : CMP byte ptr [EBP + 0xc],0x0
009a0551 : PUSH EDI
009a0552 : MOV DI,AX
009a0555 : MOV dword ptr [EBP + 0x8],ESI
009a0558 : JNZ 0x009a0664
009a055e : MOV EDI,EDI
009a0560 : MOV EAX,dword ptr [EBX]
009a0562 : MOV EDX,dword ptr [EAX + 0x74]
009a0565 : PUSH 0x0
009a0567 : PUSH ESI
009a0568 : MOV ECX,EBX
009a056a : CALL EDX
009a056c : TEST EAX,EAX
009a056e : JZ 0x009a05d2
009a0570 : CMP byte ptr [EBP + 0x10],0x0
009a0574 : JNZ 0x009a059f
009a0576 : MOVZX EAX,word ptr [EAX + 0x10]
009a057a : LEA ECX,[EBP + 0xc]
009a057d : MOV dword ptr [EBP + 0xc],EAX
009a0580 : PUSH ECX
009a0581 : LEA EAX,[EBP + -0x4]
009a0584 : MOV ECX,0x17289d4
009a0589 : CALL 0x0041c060
009a058e : MOV EAX,dword ptr [EBP + -0x4]
009a0591 : CMP EAX,dword ptr [0x017289d8]
009a0597 : JZ 0x009a05c8
009a0599 : MOVZX EAX,word ptr [EAX + 0xe]
009a059d : JMP 0x009a05ca
009a059f : MOVZX EDX,word ptr [EAX + 0x10]
009a05a3 : LEA EAX,[EBP + 0xc]
009a05a6 : PUSH EAX
009a05a7 : LEA EAX,[EBP + -0x8]
009a05aa : MOV ECX,0x17289f0
009a05af : MOV dword ptr [EBP + 0xc],EDX
009a05b2 : CALL 0x0041c060
009a05b7 : MOV EAX,dword ptr [EBP + -0x8]
009a05ba : CMP EAX,dword ptr [0x017289f4]
009a05c0 : JZ 0x009a05c8
009a05c2 : MOVZX EAX,word ptr [EAX + 0xe]
009a05c6 : JMP 0x009a05ca
009a05c8 : XOR EAX,EAX
009a05ca : CMP AX,DI
009a05cd : JNZ 0x009a05d2
009a05cf : INC dword ptr [EBP + 0x8]
009a05d2 : INC ESI
009a05d3 : CMP ESI,0xb
009a05d6 : JLE 0x009a0560
009a05d8 : MOV ESI,0x14
009a05dd : LEA ECX,[ECX]
009a05e0 : MOV EDX,dword ptr [EBX]
009a05e2 : MOV EAX,dword ptr [EDX + 0x74]
009a05e5 : PUSH 0x0
009a05e7 : PUSH ESI
009a05e8 : MOV ECX,EBX
009a05ea : CALL EAX
009a05ec : TEST EAX,EAX
009a05ee : JZ 0x009a0652
009a05f0 : CMP byte ptr [EBP + 0x10],0x0
009a05f4 : JNZ 0x009a061f
009a05f6 : MOVZX ECX,word ptr [EAX + 0x10]
009a05fa : LEA EDX,[EBP + 0xc]
009a05fd : MOV dword ptr [EBP + 0xc],ECX
009a0600 : PUSH EDX
009a0601 : LEA EAX,[EBP + -0x8]
009a0604 : MOV ECX,0x17289d4
009a0609 : CALL 0x0041c060
009a060e : MOV EAX,dword ptr [EBP + -0x8]
009a0611 : CMP EAX,dword ptr [0x017289d8]
009a0617 : JZ 0x009a0648
009a0619 : MOVZX EAX,word ptr [EAX + 0xe]
009a061d : JMP 0x009a064a
009a061f : MOVZX EAX,word ptr [EAX + 0x10]
009a0623 : LEA ECX,[EBP + 0xc]
009a0626 : MOV dword ptr [EBP + 0xc],EAX
009a0629 : PUSH ECX
009a062a : LEA EAX,[EBP + -0x4]
009a062d : MOV ECX,0x17289f0
009a0632 : CALL 0x0041c060
009a0637 : MOV EAX,dword ptr [EBP + -0x4]
009a063a : CMP EAX,dword ptr [0x017289f4]
009a0640 : JZ 0x009a0648
009a0642 : MOVZX EAX,word ptr [EAX + 0xe]
009a0646 : JMP 0x009a064a
009a0648 : XOR EAX,EAX
009a064a : CMP AX,DI
009a064d : JNZ 0x009a0652
009a064f : INC dword ptr [EBP + 0x8]
009a0652 : INC ESI
009a0653 : CMP ESI,0x1d
009a0656 : JLE 0x009a05e0
009a0658 : MOV EAX,dword ptr [EBP + 0x8]
009a065b : POP EDI
009a065c : POP ESI
009a065d : POP EBX
009a065e : MOV ESP,EBP
009a0660 : POP EBP
009a0661 : RET 0xc
009a0664 : MOV EDI,0x14
009a0669 : LEA ESP,[ESP]
009a0670 : MOV EDX,dword ptr [EBX]
009a0672 : MOV EAX,dword ptr [EDX + 0x74]
009a0675 : PUSH 0x0
009a0677 : PUSH EDI
009a0678 : MOV ECX,EBX
009a067a : CALL EAX
009a067c : TEST EAX,EAX
009a067e : JZ 0x009a06bc
009a0680 : MOV ECX,dword ptr [EAX + 0x10]
009a0683 : MOV ESI,dword ptr [0x00d7c54c]
009a0689 : LEA EDX,[EBP + 0x10]
009a068c : MOV dword ptr [EBP + 0x10],ECX
009a068f : PUSH EDX
009a0690 : LEA ECX,[ESI + 0x40]
009a0693 : LEA EAX,[EBP + 0xc]
009a0696 : CALL 0x004437f0
009a069b : MOV EAX,dword ptr [EBP + 0xc]
009a069e : CMP EAX,dword ptr [ESI + 0x44]
009a06a1 : JZ 0x009a06bc
009a06a3 : MOV EAX,dword ptr [EAX + 0x10]
009a06a6 : TEST EAX,EAX
009a06a8 : JZ 0x009a06bc
009a06aa : MOV ECX,dword ptr [EAX + 0x4c]
009a06ad : AND ECX,0x18000
009a06b3 : XOR EAX,EAX
009a06b5 : OR EAX,ECX
009a06b7 : JZ 0x009a06bc
009a06b9 : INC dword ptr [EBP + 0x8]
009a06bc : INC EDI
009a06bd : CMP EDI,0x1d
009a06c0 : JLE 0x009a0670
009a06c2 : MOV EAX,dword ptr [EBP + 0x8]
009a06c5 : POP EDI
009a06c6 : POP ESI
009a06c7 : POP EBX
009a06c8 : MOV ESP,EBP
009a06ca : POP EBP
009a06cb : RET 0xc
