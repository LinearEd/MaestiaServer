PROGRAM  : Maestia.exe
FUNCTION : FUN_0079cdd0
ENTRY    : 0079cdd0
BODY     : [[0079cdd0, 0079ced9] [0079cee0, 0079cf07] [0079cf10, 0079cf37] [0079cf40, 0079cfad]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0079cdd0(int param_1,int param_2,int param_3,undefined2 param_4,char param_5,
                 undefined4 param_6,undefined4 param_7)

{
  int iVar1;
  int *piVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  float fVar5;
  bool bVar6;
  int iVar7;
  short sVar8;
  int extraout_EDX;
  
  iVar1 = param_2 * 0x30 + param_1;
  bVar6 = false;
  if (*(int *)(iVar1 + 0xac) != 0) {
    iVar7 = *(int *)(param_3 + 4);
    if (*(uint *)(iVar7 + 0x1c) < 8) {
      iVar7 = iVar7 + 8;
    }
    else {
      iVar7 = *(int *)(iVar7 + 8);
    }
    iVar7 = FUN_00405bb0(iVar7);
    if (iVar7 == 0) {
      if (param_5 != '\0') {
        bVar6 = true;
      }
    }
    else {
      *(undefined4 *)(iVar1 + 0xa0) = param_6;
      *(undefined1 *)(iVar1 + 0x8c) = 1;
      *(undefined4 *)(iVar1 + 0xa4) = param_7;
    }
  }
  piVar2 = *(int **)(iVar1 + 0xac);
  if (piVar2 != *(int **)(param_3 + 4)) {
    if (piVar2 != (int *)0x0) {
      (**(code **)(*piVar2 + 0x30))();
    }
    if (*(int *)(param_3 + 4) != 0) {
      InterlockedIncrement((LONG *)(*(int *)(param_3 + 4) + 0x2c));
    }
    *(undefined4 *)(iVar1 + 0xac) = *(undefined4 *)(param_3 + 4);
  }
  *(undefined2 *)(iVar1 + 0xb4) = param_4;
  *(char *)(iVar1 + 0xb0) = param_5;
  *(undefined1 *)(iVar1 + 0xb1) = 0;
  *(undefined1 *)(iVar1 + 0xb2) = 0;
  *(undefined1 *)(iVar1 + 0xb6) = 0;
  *(undefined4 *)(iVar1 + 0xb8) = 0;
  if (!bVar6) {
    *(undefined4 *)((param_2 * 3 + 9) * 0x10 + param_1) = 0;
  }
  sVar8 = (short)param_2;
  if (sVar8 == 0) {
    puVar3 = *(undefined4 **)(param_1 + 0x10);
    for (puVar4 = (undefined4 *)*puVar3; puVar4 != puVar3; puVar4 = (undefined4 *)*puVar4) {
      iVar7 = puVar4[9];
      *(undefined4 *)(iVar7 + 0x138) = 0;
      *(undefined1 *)(iVar7 + 0x13c) = 0;
    }
  }
  else if (sVar8 == 1) {
    puVar3 = *(undefined4 **)(param_1 + 0x3c);
    for (puVar4 = (undefined4 *)*puVar3; puVar4 != puVar3; puVar4 = (undefined4 *)*puVar4) {
      iVar7 = puVar4[9];
      *(undefined4 *)(iVar7 + 0x138) = 0;
      *(undefined1 *)(iVar7 + 0x13c) = 0;
    }
  }
  else if (sVar8 == 2) {
    puVar3 = *(undefined4 **)(param_1 + 0x68);
    for (puVar4 = (undefined4 *)*puVar3; puVar4 != puVar3; puVar4 = (undefined4 *)*puVar4) {
      iVar7 = puVar4[9];
      *(undefined4 *)(iVar7 + 0x138) = 0;
      *(undefined1 *)(iVar7 + 0x13c) = 0;
    }
  }
  if (param_2 < 3) {
    fVar5 = (float)*(int *)(*(int *)(iVar1 + 0xac) + 0x40);
    if (*(int *)(*(int *)(iVar1 + 0xac) + 0x40) < 0) {
      fVar5 = fVar5 + 4.2949673e+09;
    }
    FUN_0079c400(fVar5);
    *(undefined2 *)(extraout_EDX + 0x144) = 0xffff;
    return;
  }
  *(undefined2 *)(param_1 + 0x144) = 0xffff;
  return;
}



============================================================
DISASSEMBLY
============================================================
0079cdd0 : PUSH EBP
0079cdd1 : MOV EBP,ESP
0079cdd3 : PUSH ECX
0079cdd4 : MOV EAX,dword ptr [EBP + 0xc]
0079cdd7 : MOV ECX,dword ptr [EBP + 0x8]
0079cdda : PUSH EBX
0079cddb : LEA EAX,[EAX + EAX*0x2]
0079cdde : SHL EAX,0x4
0079cde1 : PUSH ESI
0079cde2 : LEA ESI,[EAX + ECX*0x1]
0079cde5 : MOV ECX,dword ptr [ESI + 0xac]
0079cdeb : XOR EBX,EBX
0079cded : PUSH EDI
0079cdee : MOV byte ptr [EBP + -0x1],BL
0079cdf1 : CMP ECX,EBX
0079cdf3 : JZ 0x0079ce4b
0079cdf5 : MOV EDX,dword ptr [EBP + 0x10]
0079cdf8 : MOV EAX,dword ptr [EDX + 0x4]
0079cdfb : MOV EDI,dword ptr [EAX + 0x18]
0079cdfe : ADD EAX,0x4
0079ce01 : ADD ECX,0x4
0079ce04 : CMP dword ptr [EAX + 0x18],0x8
0079ce08 : JC 0x0079ce0f
0079ce0a : MOV EAX,dword ptr [EAX + 0x4]
0079ce0d : JMP 0x0079ce12
0079ce0f : ADD EAX,0x4
0079ce12 : PUSH EAX
0079ce13 : MOV EAX,dword ptr [ECX + 0x14]
0079ce16 : CALL 0x00405bb0
0079ce1b : TEST EAX,EAX
0079ce1d : JZ 0x0079ce42
0079ce1f : MOVSS XMM0,dword ptr [EBP + 0x1c]
0079ce24 : MOVSS dword ptr [ESI + 0xa0],XMM0
0079ce2c : MOVSS XMM0,dword ptr [EBP + 0x20]
0079ce31 : MOV byte ptr [ESI + 0x8c],0x1
0079ce38 : MOVSS dword ptr [ESI + 0xa4],XMM0
0079ce40 : JMP 0x0079ce4b
0079ce42 : CMP byte ptr [EBP + 0x18],BL
0079ce45 : JZ 0x0079ce4b
0079ce47 : MOV byte ptr [EBP + -0x1],0x1
0079ce4b : MOV ECX,dword ptr [ESI + 0xac]
0079ce51 : MOV EDI,dword ptr [EBP + 0x10]
0079ce54 : CMP ECX,dword ptr [EDI + 0x4]
0079ce57 : JZ 0x0079ce7e
0079ce59 : CMP ECX,EBX
0079ce5b : JZ 0x0079ce64
0079ce5d : MOV EAX,dword ptr [ECX]
0079ce5f : MOV EDX,dword ptr [EAX + 0x30]
0079ce62 : CALL EDX
0079ce64 : MOV EAX,dword ptr [EDI + 0x4]
0079ce67 : CMP EAX,EBX
0079ce69 : JZ 0x0079ce75
0079ce6b : ADD EAX,0x2c
0079ce6e : PUSH EAX
0079ce6f : CALL dword ptr [0x00b850dc]
0079ce75 : MOV EAX,dword ptr [EDI + 0x4]
0079ce78 : MOV dword ptr [ESI + 0xac],EAX
0079ce7e : MOV CX,word ptr [EBP + 0x14]
0079ce82 : MOV DL,byte ptr [EBP + 0x18]
0079ce85 : XORPS XMM0,XMM0
0079ce88 : MOV EAX,dword ptr [EBP + 0x8]
0079ce8b : MOV word ptr [ESI + 0xb4],CX
0079ce92 : MOV ECX,dword ptr [EBP + 0xc]
0079ce95 : MOV byte ptr [ESI + 0xb0],DL
0079ce9b : MOV byte ptr [ESI + 0xb1],BL
0079cea1 : MOV byte ptr [ESI + 0xb2],BL
0079cea7 : MOV byte ptr [ESI + 0xb6],BL
0079cead : MOVSS dword ptr [ESI + 0xb8],XMM0
0079ceb5 : CMP byte ptr [EBP + -0x1],BL
0079ceb8 : JNZ 0x0079cec6
0079ceba : LEA EDX,[ECX + ECX*0x2 + 0x9]
0079cebe : SHL EDX,0x4
0079cec1 : MOVSS dword ptr [EDX + EAX*0x1],XMM0
0079cec6 : CMP CX,BX
0079cec9 : JNZ 0x0079cef7
0079cecb : MOV EDX,dword ptr [EAX + 0x10]
0079cece : MOV EAX,dword ptr [EDX]
0079ced0 : CMP EAX,EDX
0079ced2 : JZ 0x0079cf55
0079ced8 : JMP 0x0079cee0
0079cee0 : MOV ECX,dword ptr [EAX + 0x24]
0079cee3 : MOV dword ptr [ECX + 0x138],EBX
0079cee9 : MOV byte ptr [ECX + 0x13c],BL
0079ceef : MOV EAX,dword ptr [EAX]
0079cef1 : CMP EAX,EDX
0079cef3 : JNZ 0x0079cee0
0079cef5 : JMP 0x0079cf55
0079cef7 : CMP CX,0x1
0079cefb : JNZ 0x0079cf27
0079cefd : MOV EDX,dword ptr [EAX + 0x3c]
0079cf00 : MOV EAX,dword ptr [EDX]
0079cf02 : CMP EAX,EDX
0079cf04 : JZ 0x0079cf55
0079cf06 : JMP 0x0079cf10
0079cf10 : MOV ECX,dword ptr [EAX + 0x24]
0079cf13 : MOV dword ptr [ECX + 0x138],EBX
0079cf19 : MOV byte ptr [ECX + 0x13c],BL
0079cf1f : MOV EAX,dword ptr [EAX]
0079cf21 : CMP EAX,EDX
0079cf23 : JNZ 0x0079cf10
0079cf25 : JMP 0x0079cf55
0079cf27 : CMP CX,0x2
0079cf2b : JNZ 0x0079cf55
0079cf2d : MOV EDX,dword ptr [EAX + 0x68]
0079cf30 : MOV EAX,dword ptr [EDX]
0079cf32 : CMP EAX,EDX
0079cf34 : JZ 0x0079cf55
0079cf36 : JMP 0x0079cf40
0079cf40 : MOV ECX,dword ptr [EAX + 0x24]
0079cf43 : MOV dword ptr [ECX + 0x138],EBX
0079cf49 : MOV byte ptr [ECX + 0x13c],BL
0079cf4f : MOV EAX,dword ptr [EAX]
0079cf51 : CMP EAX,EDX
0079cf53 : JNZ 0x0079cf40
0079cf55 : MOV EAX,dword ptr [EBP + 0xc]
0079cf58 : CMP EAX,0x3
0079cf5b : JGE 0x0079cf96
0079cf5d : MOV ECX,dword ptr [ESI + 0xac]
0079cf63 : MOV EDX,dword ptr [ECX + 0x40]
0079cf66 : FILD dword ptr [ECX + 0x40]
0079cf69 : TEST EDX,EDX
0079cf6b : JGE 0x0079cf73
0079cf6d : FADD float ptr [0x00cdf0e0]
0079cf73 : MOV EDX,dword ptr [EBP + 0x8]
0079cf76 : PUSH ECX
0079cf77 : FSTP float ptr [ESP]
0079cf7a : CALL 0x0079c400
0079cf7f : POP EDI
0079cf80 : MOV EAX,0xffff
0079cf85 : MOV ECX,EDX
0079cf87 : POP ESI
0079cf88 : MOV word ptr [ECX + 0x144],AX
0079cf8f : POP EBX
0079cf90 : MOV ESP,EBP
0079cf92 : POP EBP
0079cf93 : RET 0x1c
0079cf96 : MOV EAX,dword ptr [EBP + 0x8]
0079cf99 : POP EDI
0079cf9a : MOV EDX,0xffff
0079cf9f : POP ESI
0079cfa0 : MOV word ptr [EAX + 0x144],DX
0079cfa7 : POP EBX
0079cfa8 : MOV ESP,EBP
0079cfaa : POP EBP
0079cfab : RET 0x1c
