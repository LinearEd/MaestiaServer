PROGRAM  : Maestia.exe
FUNCTION : FUN_00a3e0b0
ENTRY    : 00a3e0b0
BODY     : [[00a3e0b0, 00a3e676]]

============================================================
DECOMPILED C CODE
============================================================

undefined4
FUN_00a3e0b0(int param_1,undefined4 param_2,int param_3,uint *param_4,undefined4 param_5,
            int *param_6,float *param_7,undefined1 *param_8,uint param_9,uint param_10)

{
  int *piVar1;
  uint uVar2;
  bool bVar3;
  uint uVar4;
  float *pfVar5;
  byte *pbVar6;
  char cVar7;
  undefined4 uVar8;
  int iVar9;
  int *piVar10;
  int iVar11;
  uint uVar12;
  float fVar13;
  undefined1 local_58 [4];
  int *local_54;
  int *local_50;
  undefined4 local_4c;
  float local_48;
  float local_44;
  float local_40;
  float local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  int local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  pfVar5 = param_7;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b65972;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (((short)param_10 == 0) || ((short)param_10 == -1)) {
    param_10 = (uint)*(ushort *)(param_1 + 0x450);
  }
  uVar12 = param_10;
  local_18 = FUN_00703c00(0x301,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  if (local_18 == 0) {
    ExceptionList = local_10;
    return 0;
  }
  FUN_00a22d70();
  local_30 = 0.0;
  local_2c = 0.0;
  local_28 = 0.0;
  param_7 = (float *)0x0;
  local_54 = (int *)0x0;
  local_50 = (int *)0x0;
  local_4c = 0;
  local_8 = 0;
  local_14 = 0;
  if (*(uint *)(param_3 + 0x18) < 8) {
    param_3 = param_3 + 4;
  }
  else {
    param_3 = *(int *)(param_3 + 4);
  }
  uVar8 = FUN_0070cf00(param_3);
  *param_8 = 0;
  local_1c = 0.0;
  local_20 = 0.0;
  local_24 = 0.0;
  if ((char)param_9 == '\x01') {
    iVar9 = FUN_00a378c0(param_2,&local_30,&param_7,uVar12 & 0xffff);
    *pfVar5 = local_30;
    pfVar5[1] = local_2c;
    pfVar5[2] = local_28;
  }
  else {
    iVar9 = FUN_00a256b0(local_18,param_2,uVar8,&local_14,local_58,&param_7);
    iVar11 = (int)local_50 - (int)local_54 >> 0x1f;
    if (((int)local_50 - (int)local_54) / 0xc + iVar11 != iVar11) {
      iVar11 = local_54[2];
      *pfVar5 = (float)*(ushort *)(iVar11 + 0x82);
      pfVar5[1] = (float)*(ushort *)(iVar11 + 0x84);
      pfVar5[2] = (float)*(ushort *)(iVar11 + 0x86);
    }
    if (local_14 != 0) {
      *param_4 = (uint)*(ushort *)(local_14 + 6);
    }
  }
  pbVar6 = (byte *)param_7;
  iVar11 = 0;
  *param_6 = iVar9;
  if ((param_7 == (float *)0x0) || (iVar9 < 1)) {
    if ((char)param_9 == '\0') {
      if (0 < iVar9) {
        *param_8 = 1;
        bVar3 = false;
        param_9 = 0;
        if (local_54 != local_50) {
          piVar10 = local_54 + 2;
          do {
            if (param_9 == piVar10[-1]) {
              iVar9 = *piVar10;
              local_48 = (float)*(ushort *)(iVar9 + 0x82);
              local_40 = (float)*(ushort *)(iVar9 + 0x86);
              local_44 = (float)*(ushort *)(iVar9 + 0x84);
              FUN_007e9290(*(undefined4 *)(DAT_00da93ec + 0xc));
              local_24 = local_30 + local_24;
              local_20 = local_2c + local_20;
              local_1c = local_28 + local_1c;
              iVar11 = iVar11 + 1;
            }
            else {
              if (bVar3) {
                fVar13 = 1.0 / (float)iVar11;
                local_24 = fVar13 * local_24;
                local_20 = fVar13 * local_20;
                local_1c = fVar13 * local_1c;
                FUN_00406db0(&local_24);
                bVar3 = false;
              }
              iVar9 = *piVar10;
              local_3c = (float)*(ushort *)(iVar9 + 0x82);
              local_34 = (float)*(ushort *)(iVar9 + 0x86);
              local_38 = (float)*(ushort *)(iVar9 + 0x84);
              FUN_007e9290(*(undefined4 *)(DAT_00da93ec + 0xc));
              if (!bVar3) {
                param_9 = piVar10[-1];
                local_24 = local_30;
                local_20 = local_2c;
                iVar11 = 1;
                bVar3 = true;
                local_1c = local_28;
              }
            }
            piVar1 = piVar10 + 1;
            piVar10 = piVar10 + 3;
          } while (piVar1 != local_50);
          if (bVar3) {
            fVar13 = 1.0 / (float)iVar11;
            local_24 = fVar13 * local_24;
            local_20 = fVar13 * local_20;
            local_1c = fVar13 * local_1c;
            FUN_00406db0(&local_24);
          }
        }
        local_8 = 0xffffffff;
        if (local_54 == (int *)0x0) {
          ExceptionList = local_10;
          return 1;
        }
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
LAB_00a3e645:
      local_8 = 0xffffffff;
      if (local_54 == (int *)0x0) {
        ExceptionList = local_10;
        return 0;
      }
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    if (iVar9 < 1) goto LAB_00a3e645;
    FUN_00406db0(&local_30);
    *param_8 = 1;
    goto LAB_00a3e41b;
  }
  if (*(int *)((int)param_7 + 0x3c) == 0) {
    uVar12 = param_10 & 0xffff;
    FUN_008018d0(L"GetNPCPos: portal to %d in zone %d has no npc data\n",
                 *(undefined2 *)((int)param_7 + 0x18),uVar12);
    if ((short)param_10 == *(short *)(param_1 + 0x450)) {
      cVar7 = FUN_007e4620(*pbVar6,&param_9,&param_10);
      uVar2 = param_10;
      uVar4 = param_9;
      if (cVar7 == '\0') goto LAB_00a3e3f1;
    }
    else if ((*(float *)(pbVar6 + 4) == 0.0) ||
            (uVar2 = param_10, uVar4 = param_9, *(float *)(pbVar6 + 8) == 0.0)) {
      param_9 = uVar12 << 0x10 | (uint)*pbVar6;
      FUN_00407800();
      if (param_10 == DAT_01721090) {
        local_8 = 0xffffffff;
        if (local_54 == (int *)0x0) {
          ExceptionList = local_10;
          return 0;
        }
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      uVar2 = *(ushort *)(param_10 + 0x16) / 10;
      uVar4 = *(ushort *)(param_10 + 0x14) / 10;
    }
    local_24 = (float)(int)(uVar4 * 10 + 5);
    local_1c = 0.0;
    local_20 = (float)(int)(uVar2 * 10 + 5);
    FUN_009826e0(&local_24);
  }
  else {
    iVar11 = *(int *)((int)param_7 + 0x3c);
    local_24 = (float)*(ushort *)(iVar11 + 0x82);
    local_1c = (float)*(ushort *)(iVar11 + 0x86);
    local_20 = (float)*(ushort *)(iVar11 + 0x84);
    FUN_007e9290(*(undefined4 *)(DAT_00da93ec + 0xc));
  }
LAB_00a3e3f1:
  local_30 = *(float *)(pbVar6 + 4);
  local_2c = *(float *)(pbVar6 + 8);
  local_28 = *(float *)(pbVar6 + 0xc);
  FUN_00406db0(&local_30);
LAB_00a3e41b:
  local_8 = 0xffffffff;
  if (local_54 == (int *)0x0) {
    ExceptionList = local_10;
    return 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00a3e0b0 : PUSH EBP
00a3e0b1 : MOV EBP,ESP
00a3e0b3 : PUSH -0x1
00a3e0b5 : PUSH 0xb65972
00a3e0ba : MOV EAX,FS:[0x0]
00a3e0c0 : PUSH EAX
00a3e0c1 : SUB ESP,0x4c
00a3e0c4 : PUSH EBX
00a3e0c5 : PUSH ESI
00a3e0c6 : PUSH EDI
00a3e0c7 : MOV EAX,[0x00d66fa0]
00a3e0cc : XOR EAX,EBP
00a3e0ce : PUSH EAX
00a3e0cf : LEA EAX,[EBP + -0xc]
00a3e0d2 : MOV FS:[0x0],EAX
00a3e0d8 : MOV EBX,dword ptr [EBP + 0x20]
00a3e0db : MOV ESI,dword ptr [EBP + 0x2c]
00a3e0de : TEST SI,SI
00a3e0e1 : JZ 0x00a3e0ed
00a3e0e3 : MOV EAX,0xffff
00a3e0e8 : CMP SI,AX
00a3e0eb : JNZ 0x00a3e0fc
00a3e0ed : MOV ECX,dword ptr [EBP + 0x8]
00a3e0f0 : MOVZX EDX,word ptr [ECX + 0x450]
00a3e0f7 : MOV dword ptr [EBP + 0x2c],EDX
00a3e0fa : MOV ESI,EDX
00a3e0fc : PUSH 0x301
00a3e101 : MOV EDI,ESI
00a3e103 : CALL 0x00703c00
00a3e108 : XOR EDI,EDI
00a3e10a : ADD ESP,0x4
00a3e10d : MOV dword ptr [EBP + -0x14],EAX
00a3e110 : CMP EAX,EDI
00a3e112 : JZ 0x00a3e661
00a3e118 : CALL 0x00a22d70
00a3e11d : XORPS XMM0,XMM0
00a3e120 : MOVSS dword ptr [EBP + -0x2c],XMM0
00a3e125 : MOVSS dword ptr [EBP + -0x28],XMM0
00a3e12a : MOVSS dword ptr [EBP + -0x24],XMM0
00a3e12f : MOV dword ptr [EBP + 0x20],EDI
00a3e132 : MOV dword ptr [EBP + -0x50],EDI
00a3e135 : MOV dword ptr [EBP + -0x4c],EDI
00a3e138 : MOV dword ptr [EBP + -0x48],EDI
00a3e13b : MOV dword ptr [EBP + -0x4],EDI
00a3e13e : MOV EAX,dword ptr [EBP + 0x10]
00a3e141 : CMP dword ptr [EAX + 0x18],0x8
00a3e145 : MOV dword ptr [EBP + -0x10],EDI
00a3e148 : JC 0x00a3e14f
00a3e14a : MOV EAX,dword ptr [EAX + 0x4]
00a3e14d : JMP 0x00a3e152
00a3e14f : ADD EAX,0x4
00a3e152 : PUSH EAX
00a3e153 : CALL 0x0070cf00
00a3e158 : XORPS XMM0,XMM0
00a3e15b : MOV ECX,dword ptr [EBP + 0x24]
00a3e15e : ADD ESP,0x4
00a3e161 : CMP byte ptr [EBP + 0x28],0x1
00a3e165 : MOV byte ptr [ECX],0x0
00a3e168 : MOVSS dword ptr [EBP + -0x18],XMM0
00a3e16d : MOVSS dword ptr [EBP + -0x1c],XMM0
00a3e172 : MOVSS dword ptr [EBP + -0x20],XMM0
00a3e177 : JNZ 0x00a3e1b7
00a3e179 : MOVZX EDX,SI
00a3e17c : PUSH EDX
00a3e17d : MOV EDX,dword ptr [EBP + 0xc]
00a3e180 : LEA EAX,[EBP + 0x20]
00a3e183 : PUSH EAX
00a3e184 : MOV EAX,dword ptr [EBP + 0x14]
00a3e187 : MOV ESI,dword ptr [EAX]
00a3e189 : LEA ECX,[EBP + -0x2c]
00a3e18c : PUSH ECX
00a3e18d : PUSH EDX
00a3e18e : CALL 0x00a378c0
00a3e193 : MOVSS XMM0,dword ptr [EBP + -0x2c]
00a3e198 : MOVSS dword ptr [EBX],XMM0
00a3e19c : MOVSS XMM0,dword ptr [EBP + -0x28]
00a3e1a1 : MOVSS dword ptr [EBX + 0x4],XMM0
00a3e1a6 : MOVSS XMM0,dword ptr [EBP + -0x24]
00a3e1ab : ADD ESP,0x10
00a3e1ae : MOV ESI,EAX
00a3e1b0 : MOVSS dword ptr [EBX + 0x8],XMM0
00a3e1b5 : JMP 0x00a3e232
00a3e1b7 : LEA ECX,[EBP + 0x20]
00a3e1ba : PUSH ECX
00a3e1bb : LEA EDX,[EBP + -0x54]
00a3e1be : PUSH EDX
00a3e1bf : MOV EDX,dword ptr [EBP + 0xc]
00a3e1c2 : LEA ECX,[EBP + -0x10]
00a3e1c5 : PUSH ECX
00a3e1c6 : PUSH EAX
00a3e1c7 : MOV EAX,dword ptr [EBP + -0x14]
00a3e1ca : PUSH EDX
00a3e1cb : PUSH EAX
00a3e1cc : CALL 0x00a256b0
00a3e1d1 : MOV ECX,dword ptr [EBP + -0x4c]
00a3e1d4 : MOV EDI,dword ptr [EBP + -0x50]
00a3e1d7 : SUB ECX,EDI
00a3e1d9 : MOV ESI,EAX
00a3e1db : MOV EAX,0x2aaaaaab
00a3e1e0 : IMUL ECX
00a3e1e2 : SAR EDX,0x1
00a3e1e4 : MOV ECX,EDX
00a3e1e6 : SHR ECX,0x1f
00a3e1e9 : ADD ESP,0x18
00a3e1ec : ADD ECX,EDX
00a3e1ee : JZ 0x00a3e222
00a3e1f0 : MOV EAX,dword ptr [EDI + 0x8]
00a3e1f3 : MOVZX EDX,word ptr [EAX + 0x82]
00a3e1fa : CVTSI2SS XMM0,EDX
00a3e1fe : MOVSS dword ptr [EBX],XMM0
00a3e202 : MOVZX ECX,word ptr [EAX + 0x84]
00a3e209 : CVTSI2SS XMM0,ECX
00a3e20d : MOVSS dword ptr [EBX + 0x4],XMM0
00a3e212 : MOVZX EDX,word ptr [EAX + 0x86]
00a3e219 : CVTSI2SS XMM0,EDX
00a3e21d : MOVSS dword ptr [EBX + 0x8],XMM0
00a3e222 : MOV EAX,dword ptr [EBP + -0x10]
00a3e225 : TEST EAX,EAX
00a3e227 : JZ 0x00a3e232
00a3e229 : MOVZX EAX,word ptr [EAX + 0x6]
00a3e22d : MOV ECX,dword ptr [EBP + 0x14]
00a3e230 : MOV dword ptr [ECX],EAX
00a3e232 : MOV EBX,dword ptr [EBP + 0x20]
00a3e235 : MOV EDX,dword ptr [EBP + 0x1c]
00a3e238 : XOR EDI,EDI
00a3e23a : MOV dword ptr [EDX],ESI
00a3e23c : CMP EBX,EDI
00a3e23e : JZ 0x00a3e44d
00a3e244 : CMP ESI,EDI
00a3e246 : JLE 0x00a3e44d
00a3e24c : CMP dword ptr [EBX + 0x3c],EDI
00a3e24f : JZ 0x00a3e29e
00a3e251 : MOV EAX,dword ptr [EBX + 0x3c]
00a3e254 : MOVZX ECX,word ptr [EAX + 0x82]
00a3e25b : MOVZX EDX,word ptr [EAX + 0x84]
00a3e262 : MOVZX EAX,word ptr [EAX + 0x86]
00a3e269 : CVTSI2SS XMM0,ECX
00a3e26d : MOV ECX,dword ptr [0x00da93ec]
00a3e273 : CVTSI2SS XMM2,EAX
00a3e277 : MOV EAX,dword ptr [ECX + 0xc]
00a3e27a : CVTSI2SS XMM1,EDX
00a3e27e : LEA EDX,[EBX + 0x4]
00a3e281 : PUSH EAX
00a3e282 : LEA ECX,[EBP + -0x20]
00a3e285 : MOVSS dword ptr [EBP + -0x20],XMM0
00a3e28a : MOVSS dword ptr [EBP + -0x1c],XMM1
00a3e28f : MOVSS dword ptr [EBP + -0x18],XMM2
00a3e294 : CALL 0x007e9290
00a3e299 : JMP 0x00a3e3f1
00a3e29e : MOVZX EDI,word ptr [EBP + 0x2c]
00a3e2a2 : MOVZX EDX,word ptr [EBX + 0x18]
00a3e2a6 : MOV ESI,dword ptr [0x00da98e8]
00a3e2ac : PUSH EDI
00a3e2ad : PUSH EDX
00a3e2ae : PUSH 0xcbec50
00a3e2b3 : CALL 0x008018d0
00a3e2b8 : MOV EAX,dword ptr [EBP + 0x8]
00a3e2bb : MOV CX,word ptr [EBP + 0x2c]
00a3e2bf : ADD ESP,0xc
00a3e2c2 : CMP CX,word ptr [EAX + 0x450]
00a3e2c9 : JZ 0x00a3e38d
00a3e2cf : MOVSS XMM0,dword ptr [EBX + 0x4]
00a3e2d4 : XORPS XMM2,XMM2
00a3e2d7 : UCOMISS XMM0,XMM2
00a3e2da : LAHF
00a3e2db : TEST AH,0x44
00a3e2de : JNP 0x00a3e2ee
00a3e2e0 : MOVSS XMM0,dword ptr [EBX + 0x8]
00a3e2e5 : UCOMISS XMM0,XMM2
00a3e2e8 : LAHF
00a3e2e9 : TEST AH,0x44
00a3e2ec : JP 0x00a3e361
00a3e2ee : MOVZX EDX,byte ptr [EBX]
00a3e2f1 : SHL EDI,0x10
00a3e2f4 : OR EDI,EDX
00a3e2f6 : MOV dword ptr [EBP + 0x28],EDI
00a3e2f9 : LEA ESI,[EBP + 0x28]
00a3e2fc : LEA EDI,[EBP + 0x2c]
00a3e2ff : CALL 0x00407800
00a3e304 : MOV ESI,dword ptr [EBP + 0x2c]
00a3e307 : CMP ESI,dword ptr [0x01721090]
00a3e30d : JNZ 0x00a3e332
00a3e30f : MOV dword ptr [EBP + -0x4],0xffffffff
00a3e316 : MOV ECX,dword ptr [EBP + -0x50]
00a3e319 : XOR ESI,ESI
00a3e31b : CMP ECX,ESI
00a3e31d : JZ 0x00a3e324
00a3e31f : CALL 0x006f04e0
00a3e324 : MOV dword ptr [EBP + -0x50],ESI
00a3e327 : MOV dword ptr [EBP + -0x4c],ESI
00a3e32a : MOV dword ptr [EBP + -0x48],ESI
00a3e32d : JMP 0x00a3e661
00a3e332 : MOVZX ECX,word ptr [ESI + 0x14]
00a3e336 : MOV EAX,0x66666667
00a3e33b : IMUL ECX
00a3e33d : SAR EDX,0x2
00a3e340 : XORPS XMM2,XMM2
00a3e343 : MOV ECX,EDX
00a3e345 : SHR ECX,0x1f
00a3e348 : ADD ECX,EDX
00a3e34a : MOVZX EDX,word ptr [ESI + 0x16]
00a3e34e : MOV EAX,0x66666667
00a3e353 : IMUL EDX
00a3e355 : SAR EDX,0x2
00a3e358 : MOV EAX,EDX
00a3e35a : SHR EAX,0x1f
00a3e35d : ADD EAX,EDX
00a3e35f : JMP 0x00a3e367
00a3e361 : MOV ECX,dword ptr [EBP + 0x28]
00a3e364 : MOV EAX,dword ptr [EBP + 0x2c]
00a3e367 : LEA ECX,[ECX + ECX*0x4]
00a3e36a : LEA EDX,[ECX + ECX*0x1 + 0x5]
00a3e36e : CVTSI2SS XMM0,EDX
00a3e372 : LEA EAX,[EAX + EAX*0x4]
00a3e375 : LEA ECX,[EAX + EAX*0x1 + 0x5]
00a3e379 : LEA EDX,[EBP + -0x20]
00a3e37c : CVTSI2SS XMM1,ECX
00a3e380 : MOVSS dword ptr [EBP + -0x20],XMM0
00a3e385 : MOVSS dword ptr [EBP + -0x18],XMM2
00a3e38a : PUSH EDX
00a3e38b : JMP 0x00a3e3e2
00a3e38d : MOV EAX,[0x0172491c]
00a3e392 : MOV EAX,dword ptr [EAX + 0x90]
00a3e398 : MOV EAX,dword ptr [EAX + 0xf0]
00a3e39e : LEA ECX,[EBP + 0x2c]
00a3e3a1 : PUSH ECX
00a3e3a2 : MOVZX ECX,byte ptr [EBX]
00a3e3a5 : LEA EDX,[EBP + 0x28]
00a3e3a8 : PUSH EDX
00a3e3a9 : PUSH ECX
00a3e3aa : MOV ESI,EAX
00a3e3ac : CALL 0x007e4620
00a3e3b1 : TEST AL,AL
00a3e3b3 : JZ 0x00a3e3ef
00a3e3b5 : MOV EAX,dword ptr [EBP + 0x28]
00a3e3b8 : LEA EDX,[EAX + EAX*0x4]
00a3e3bb : LEA EAX,[EDX + EDX*0x1 + 0x5]
00a3e3bf : CVTSI2SS XMM0,EAX
00a3e3c3 : MOV EAX,dword ptr [EBP + 0x2c]
00a3e3c6 : LEA ECX,[EAX + EAX*0x4]
00a3e3c9 : LEA EDX,[ECX + ECX*0x1 + 0x5]
00a3e3cd : MOVSS dword ptr [EBP + -0x20],XMM0
00a3e3d2 : XORPS XMM0,XMM0
00a3e3d5 : LEA EAX,[EBP + -0x20]
00a3e3d8 : CVTSI2SS XMM1,EDX
00a3e3dc : MOVSS dword ptr [EBP + -0x18],XMM0
00a3e3e1 : PUSH EAX
00a3e3e2 : LEA EDX,[EBX + 0x4]
00a3e3e5 : MOVSS dword ptr [EBP + -0x1c],XMM1
00a3e3ea : CALL 0x009826e0
00a3e3ef : XOR EDI,EDI
00a3e3f1 : MOVSS XMM0,dword ptr [EBX + 0x4]
00a3e3f6 : MOV EAX,dword ptr [EBP + 0x18]
00a3e3f9 : MOVSS dword ptr [EBP + -0x2c],XMM0
00a3e3fe : MOVSS XMM0,dword ptr [EBX + 0x8]
00a3e403 : LEA ECX,[EBP + -0x2c]
00a3e406 : MOVSS dword ptr [EBP + -0x28],XMM0
00a3e40b : MOVSS XMM0,dword ptr [EBX + 0xc]
00a3e410 : PUSH ECX
00a3e411 : MOVSS dword ptr [EBP + -0x24],XMM0
00a3e416 : CALL 0x00406db0
00a3e41b : MOV dword ptr [EBP + -0x4],0xffffffff
00a3e422 : MOV ECX,dword ptr [EBP + -0x50]
00a3e425 : CMP ECX,EDI
00a3e427 : JZ 0x00a3e42e
00a3e429 : CALL 0x006f04e0
00a3e42e : MOV dword ptr [EBP + -0x50],EDI
00a3e431 : MOV dword ptr [EBP + -0x4c],EDI
00a3e434 : MOV dword ptr [EBP + -0x48],EDI
00a3e437 : MOV AL,0x1
00a3e439 : MOV ECX,dword ptr [EBP + -0xc]
00a3e43c : MOV dword ptr FS:[0x0],ECX
00a3e443 : POP ECX
00a3e444 : POP EDI
00a3e445 : POP ESI
00a3e446 : POP EBX
00a3e447 : MOV ESP,EBP
00a3e449 : POP EBP
00a3e44a : RET 0x28
00a3e44d : CMP byte ptr [EBP + 0x28],0x0
00a3e451 : JZ 0x00a3e46f
00a3e453 : CMP ESI,EDI
00a3e455 : JLE 0x00a3e645
00a3e45b : MOV EAX,dword ptr [EBP + 0x18]
00a3e45e : LEA EDX,[EBP + -0x2c]
00a3e461 : PUSH EDX
00a3e462 : CALL 0x00406db0
00a3e467 : MOV EAX,dword ptr [EBP + 0x24]
00a3e46a : MOV byte ptr [EAX],0x1
00a3e46d : JMP 0x00a3e41b
00a3e46f : CMP ESI,EDI
00a3e471 : JLE 0x00a3e645
00a3e477 : MOV ECX,dword ptr [EBP + 0x24]
00a3e47a : MOV byte ptr [ECX],0x1
00a3e47d : MOV ECX,dword ptr [EBP + -0x50]
00a3e480 : XOR BL,BL
00a3e482 : MOV dword ptr [EBP + 0x28],EDI
00a3e485 : CMP ECX,dword ptr [EBP + -0x4c]
00a3e488 : JZ 0x00a3e625
00a3e48e : LEA ESI,[ECX + 0x8]
00a3e491 : MOV EDX,dword ptr [EBP + 0x28]
00a3e494 : CMP EDX,dword ptr [ESI + -0x4]
00a3e497 : JZ 0x00a3e55a
00a3e49d : TEST BL,BL
00a3e49f : JZ 0x00a3e4e3
00a3e4a1 : MOVSS XMM0,dword ptr [0x00c10fc4]
00a3e4a9 : CVTSI2SS XMM1,EDI
00a3e4ad : DIVSS XMM0,XMM1
00a3e4b1 : MOVAPS XMM1,XMM0
00a3e4b4 : MULSS XMM1,dword ptr [EBP + -0x20]
00a3e4b9 : MOVSS dword ptr [EBP + -0x20],XMM1
00a3e4be : LEA EAX,[EBP + -0x20]
00a3e4c1 : MOVAPS XMM1,XMM0
00a3e4c4 : MULSS XMM1,dword ptr [EBP + -0x1c]
00a3e4c9 : MULSS XMM0,dword ptr [EBP + -0x18]
00a3e4ce : PUSH EAX
00a3e4cf : MOV EAX,dword ptr [EBP + 0x18]
00a3e4d2 : MOVSS dword ptr [EBP + -0x1c],XMM1
00a3e4d7 : MOVSS dword ptr [EBP + -0x18],XMM0
00a3e4dc : CALL 0x00406db0
00a3e4e1 : XOR BL,BL
00a3e4e3 : MOV EAX,dword ptr [ESI]
00a3e4e5 : MOVZX ECX,word ptr [EAX + 0x82]
00a3e4ec : MOVZX EDX,word ptr [EAX + 0x84]
00a3e4f3 : MOVZX EAX,word ptr [EAX + 0x86]
00a3e4fa : CVTSI2SS XMM0,ECX
00a3e4fe : MOV ECX,dword ptr [0x00da93ec]
00a3e504 : CVTSI2SS XMM2,EAX
00a3e508 : MOV EAX,dword ptr [ECX + 0xc]
00a3e50b : CVTSI2SS XMM1,EDX
00a3e50f : PUSH EAX
00a3e510 : LEA EDX,[EBP + -0x2c]
00a3e513 : LEA ECX,[EBP + -0x38]
00a3e516 : MOVSS dword ptr [EBP + -0x38],XMM0
00a3e51b : MOVSS dword ptr [EBP + -0x34],XMM1
00a3e520 : MOVSS dword ptr [EBP + -0x30],XMM2
00a3e525 : CALL 0x007e9290
00a3e52a : TEST BL,BL
00a3e52c : JNZ 0x00a3e5cf
00a3e532 : MOVSS XMM0,dword ptr [EBP + -0x2c]
00a3e537 : MOV EDX,dword ptr [ESI + -0x4]
00a3e53a : MOVSS dword ptr [EBP + -0x20],XMM0
00a3e53f : MOVSS XMM0,dword ptr [EBP + -0x28]
00a3e544 : MOVSS dword ptr [EBP + -0x1c],XMM0
00a3e549 : MOVSS XMM0,dword ptr [EBP + -0x24]
00a3e54e : MOV EDI,0x1
00a3e553 : MOV BL,0x1
00a3e555 : MOV dword ptr [EBP + 0x28],EDX
00a3e558 : JMP 0x00a3e5ca
00a3e55a : MOV EAX,dword ptr [ESI]
00a3e55c : MOVZX ECX,word ptr [EAX + 0x82]
00a3e563 : MOVZX EDX,word ptr [EAX + 0x84]
00a3e56a : MOVZX EAX,word ptr [EAX + 0x86]
00a3e571 : CVTSI2SS XMM0,ECX
00a3e575 : MOV ECX,dword ptr [0x00da93ec]
00a3e57b : CVTSI2SS XMM2,EAX
00a3e57f : MOV EAX,dword ptr [ECX + 0xc]
00a3e582 : CVTSI2SS XMM1,EDX
00a3e586 : PUSH EAX
00a3e587 : LEA EDX,[EBP + -0x2c]
00a3e58a : LEA ECX,[EBP + -0x44]
00a3e58d : MOVSS dword ptr [EBP + -0x44],XMM0
00a3e592 : MOVSS dword ptr [EBP + -0x40],XMM1
00a3e597 : MOVSS dword ptr [EBP + -0x3c],XMM2
00a3e59c : CALL 0x007e9290
00a3e5a1 : MOVSS XMM0,dword ptr [EBP + -0x2c]
00a3e5a6 : ADDSS XMM0,dword ptr [EBP + -0x20]
00a3e5ab : MOVSS dword ptr [EBP + -0x20],XMM0
00a3e5b0 : MOVSS XMM0,dword ptr [EBP + -0x28]
00a3e5b5 : ADDSS XMM0,dword ptr [EBP + -0x1c]
00a3e5ba : MOVSS dword ptr [EBP + -0x1c],XMM0
00a3e5bf : MOVSS XMM0,dword ptr [EBP + -0x24]
00a3e5c4 : ADDSS XMM0,dword ptr [EBP + -0x18]
00a3e5c9 : INC EDI
00a3e5ca : MOVSS dword ptr [EBP + -0x18],XMM0
00a3e5cf : ADD ESI,0xc
00a3e5d2 : LEA EDX,[ESI + -0x8]
00a3e5d5 : CMP EDX,dword ptr [EBP + -0x4c]
00a3e5d8 : JNZ 0x00a3e491
00a3e5de : TEST BL,BL
00a3e5e0 : JZ 0x00a3e622
00a3e5e2 : MOVSS XMM0,dword ptr [0x00c10fc4]
00a3e5ea : CVTSI2SS XMM1,EDI
00a3e5ee : DIVSS XMM0,XMM1
00a3e5f2 : MOVAPS XMM1,XMM0
00a3e5f5 : MULSS XMM1,dword ptr [EBP + -0x20]
00a3e5fa : MOVSS dword ptr [EBP + -0x20],XMM1
00a3e5ff : LEA EAX,[EBP + -0x20]
00a3e602 : MOVAPS XMM1,XMM0
00a3e605 : MULSS XMM1,dword ptr [EBP + -0x1c]
00a3e60a : MULSS XMM0,dword ptr [EBP + -0x18]
00a3e60f : PUSH EAX
00a3e610 : MOV EAX,dword ptr [EBP + 0x18]
00a3e613 : MOVSS dword ptr [EBP + -0x1c],XMM1
00a3e618 : MOVSS dword ptr [EBP + -0x18],XMM0
00a3e61d : CALL 0x00406db0
00a3e622 : MOV ECX,dword ptr [EBP + -0x50]
00a3e625 : MOV dword ptr [EBP + -0x4],0xffffffff
00a3e62c : XOR ESI,ESI
00a3e62e : CMP ECX,ESI
00a3e630 : JZ 0x00a3e637
00a3e632 : CALL 0x006f04e0
00a3e637 : MOV dword ptr [EBP + -0x50],ESI
00a3e63a : MOV dword ptr [EBP + -0x4c],ESI
00a3e63d : MOV dword ptr [EBP + -0x48],ESI
00a3e640 : JMP 0x00a3e437
00a3e645 : MOV dword ptr [EBP + -0x4],0xffffffff
00a3e64c : MOV ECX,dword ptr [EBP + -0x50]
00a3e64f : CMP ECX,EDI
00a3e651 : JZ 0x00a3e658
00a3e653 : CALL 0x006f04e0
00a3e658 : MOV dword ptr [EBP + -0x50],EDI
00a3e65b : MOV dword ptr [EBP + -0x4c],EDI
00a3e65e : MOV dword ptr [EBP + -0x48],EDI
00a3e661 : XOR AL,AL
00a3e663 : MOV ECX,dword ptr [EBP + -0xc]
00a3e666 : MOV dword ptr FS:[0x0],ECX
00a3e66d : POP ECX
00a3e66e : POP EDI
00a3e66f : POP ESI
00a3e670 : POP EBX
00a3e671 : MOV ESP,EBP
00a3e673 : POP EBP
00a3e674 : RET 0x28
