PROGRAM  : Maestia.exe
FUNCTION : FUN_00a4fdf0
ENTRY    : 00a4fdf0
BODY     : [[00a4fdf0, 00a4fed4]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a4fdf0(void)

{
  int in_ECX;
  undefined1 auStack_60 [16];
  undefined4 uStack_50;
  wchar_t *pwStack_4c;
  int iStack_48;
  uint uStack_44;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  undefined1 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b42b9a;
  local_10 = ExceptionList;
  uStack_44 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iStack_48 = 0x1d;
  pwStack_4c = L"IDS_LOBBY_GETTING_SERVER_LIST";
  local_18 = 7;
  local_1c = 0;
  local_2c = 0;
  uStack_50 = 0xa4fe3b;
  FUN_00406360();
  local_8 = 0;
  local_14 = auStack_60;
  FUN_0081d120(local_30);
  local_8 = local_8 & 0xffffff00;
  FUN_00a49ec0();
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    iStack_48 = 0xa4fe76;
    FUN_006f04e0();
  }
  local_2c = 0;
  local_18 = 7;
  local_1c = 0;
  iStack_48 = 0xa4fe96;
  (**(code **)(*(int *)(DAT_0172491c + 4) + 0x18))();
  if ((char)DAT_017248cc[0x62] != '\0') {
    iStack_48 = in_ECX + 0xd8;
    pwStack_4c = DAT_017248cc;
    uStack_50 = 0xa4feb1;
    FUN_008b6af0();
  }
  iStack_48 = 0xa4febc;
  FUN_008b2600();
  *(undefined1 *)(in_ECX + 0xd1) = 1;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a4fdf0 : PUSH EBP
00a4fdf1 : MOV EBP,ESP
00a4fdf3 : PUSH -0x1
00a4fdf5 : PUSH 0xb42b9a
00a4fdfa : MOV EAX,FS:[0x0]
00a4fe00 : PUSH EAX
00a4fe01 : SUB ESP,0x24
00a4fe04 : PUSH EBX
00a4fe05 : PUSH ESI
00a4fe06 : PUSH EDI
00a4fe07 : MOV EAX,[0x00d66fa0]
00a4fe0c : XOR EAX,EBP
00a4fe0e : PUSH EAX
00a4fe0f : LEA EAX,[EBP + -0xc]
00a4fe12 : MOV FS:[0x0],EAX
00a4fe18 : MOV ESI,ECX
00a4fe1a : PUSH 0x1d
00a4fe1c : XOR EAX,EAX
00a4fe1e : XOR EBX,EBX
00a4fe20 : PUSH 0xcc7524
00a4fe25 : LEA ECX,[EBP + -0x2c]
00a4fe28 : MOV dword ptr [EBP + -0x14],0x7
00a4fe2f : MOV dword ptr [EBP + -0x18],EBX
00a4fe32 : MOV word ptr [EBP + -0x28],AX
00a4fe36 : CALL 0x00406360
00a4fe3b : MOV dword ptr [EBP + -0x4],EBX
00a4fe3e : SUB ESP,0x1c
00a4fe41 : LEA ECX,[EBP + -0x2c]
00a4fe44 : MOV EDI,ESP
00a4fe46 : MOV dword ptr [EBP + -0x10],ESP
00a4fe49 : PUSH ECX
00a4fe4a : MOV ECX,dword ptr [0x0172491c]
00a4fe50 : CALL 0x0081d120
00a4fe55 : MOV byte ptr [EBP + -0x4],0x1
00a4fe59 : MOV byte ptr [EBP + -0x4],BL
00a4fe5c : CALL 0x00a49ec0
00a4fe61 : MOV dword ptr [EBP + -0x4],0xffffffff
00a4fe68 : CMP dword ptr [EBP + -0x14],0x8
00a4fe6c : JC 0x00a4fe76
00a4fe6e : MOV ECX,dword ptr [EBP + -0x28]
00a4fe71 : CALL 0x006f04e0
00a4fe76 : MOV ECX,dword ptr [0x0172491c]
00a4fe7c : XOR EDX,EDX
00a4fe7e : MOV word ptr [EBP + -0x28],DX
00a4fe82 : ADD ECX,0x4
00a4fe85 : MOV dword ptr [EBP + -0x14],0x7
00a4fe8c : MOV dword ptr [EBP + -0x18],EBX
00a4fe8f : MOV EAX,dword ptr [ECX]
00a4fe91 : MOV EDX,dword ptr [EAX + 0x18]
00a4fe94 : CALL EDX
00a4fe96 : MOV EDI,dword ptr [0x017248cc]
00a4fe9c : CMP byte ptr [EDI + 0xc4],BL
00a4fea2 : JZ 0x00a4feb7
00a4fea4 : LEA EAX,[ESI + 0xd8]
00a4feaa : PUSH EAX
00a4feab : PUSH EDI
00a4feac : CALL 0x008b6af0
00a4feb1 : MOV EDI,dword ptr [0x017248cc]
00a4feb7 : CALL 0x008b2600
00a4febc : MOV byte ptr [ESI + 0xd1],0x1
00a4fec3 : MOV ECX,dword ptr [EBP + -0xc]
00a4fec6 : MOV dword ptr FS:[0x0],ECX
00a4fecd : POP ECX
00a4fece : POP EDI
00a4fecf : POP ESI
00a4fed0 : POP EBX
00a4fed1 : MOV ESP,EBP
00a4fed3 : POP EBP
00a4fed4 : RET
