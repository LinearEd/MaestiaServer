PROGRAM  : Maestia.exe
FUNCTION : FUN_007042f0
ENTRY    : 007042f0
BODY     : [[007042f0, 007043bc] [007043d7, 007043fc]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_007042f0(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  undefined4 in_ECX;
  void *local_14;
  code *pcStack_10;
  uint local_c;
  undefined4 local_8;
  
  piVar2 = DAT_00da9b4c;
  uVar1 = DAT_00d7c54c;
  pcStack_10 = __except_handler4;
  local_14 = ExceptionList;
  local_c = DAT_00d66fa0 ^ 0xd23aa0;
  ExceptionList = &local_14;
  local_8 = 0;
  DAT_00d7c54c = in_ECX;
  (**(code **)(*DAT_00da9b4c + 4))();
  (**(code **)(*piVar2 + 0x18))(param_1,param_2);
  iVar3 = (**(code **)(*piVar2 + 0x10))();
  if (iVar3 == 0) {
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(0,0);
  }
  if ((DAT_01724b54 == 0) && (piVar4 = (int *)FUN_00703c00((short)piVar2[1]), piVar4 != (int *)0x0))
  {
    (**(code **)(*piVar4 + 0x18))(param_1,param_2);
    (**(code **)*piVar2)(1);
    DAT_00d7c54c = uVar1;
    ExceptionList = local_14;
    return piVar4;
  }
  iVar3 = FUN_007041a0();
  if (iVar3 != 0) {
    DAT_00d7c54c = uVar1;
    ExceptionList = local_14;
    return piVar2;
  }
                    /* WARNING: Subroutine does not return */
  __CxxThrowException_8(0,0);
}



============================================================
DISASSEMBLY
============================================================
007042f0 : PUSH EBP
007042f1 : MOV EBP,ESP
007042f3 : PUSH -0x2
007042f5 : PUSH 0xd23aa0
007042fa : PUSH 0x64c290
007042ff : MOV EAX,FS:[0x0]
00704305 : PUSH EAX
00704306 : SUB ESP,0x10
00704309 : PUSH EBX
0070430a : PUSH ESI
0070430b : PUSH EDI
0070430c : MOV EAX,[0x00d66fa0]
00704311 : XOR dword ptr [EBP + -0x8],EAX
00704314 : XOR EAX,EBP
00704316 : PUSH EAX
00704317 : LEA EAX,[EBP + -0x10]
0070431a : MOV FS:[0x0],EAX
00704320 : MOV dword ptr [EBP + -0x18],ESP
00704323 : MOV EBX,dword ptr [EBP + 0xc]
00704326 : MOV ESI,dword ptr [0x00da9b4c]
0070432c : MOV dword ptr [EBP + -0x1c],ESI
0070432f : MOV EAX,[0x00d7c54c]
00704334 : MOV dword ptr [EBP + -0x20],EAX
00704337 : MOV dword ptr [0x00d7c54c],ECX
0070433d : MOV dword ptr [EBP + -0x4],0x0
00704344 : MOV EDX,dword ptr [ESI]
00704346 : MOV ECX,ESI
00704348 : MOV EAX,dword ptr [EDX + 0x4]
0070434b : CALL EAX
0070434d : MOV EDX,dword ptr [ESI]
0070434f : PUSH EBX
00704350 : MOV EAX,dword ptr [EBP + 0x8]
00704353 : PUSH EAX
00704354 : MOV ECX,ESI
00704356 : MOV EDX,dword ptr [EDX + 0x18]
00704359 : CALL EDX
0070435b : MOV EAX,dword ptr [ESI]
0070435d : MOV ECX,ESI
0070435f : MOV EDX,dword ptr [EAX + 0x10]
00704362 : CALL EDX
00704364 : TEST EAX,EAX
00704366 : JNZ 0x0070436f
00704368 : PUSH EAX
00704369 : PUSH EAX
0070436a : CALL 0x006409eb
0070436f : CMP dword ptr [0x01724b54],0x0
00704376 : JNZ 0x007043ab
00704378 : MOVZX EAX,word ptr [ESI + 0x4]
0070437c : PUSH EAX
0070437d : MOV DI,word ptr [ESI + 0x6]
00704381 : CALL 0x00703c00
00704386 : ADD ESP,0x4
00704389 : MOV EDI,EAX
0070438b : TEST EDI,EDI
0070438d : JZ 0x007043ab
0070438f : MOV EDX,dword ptr [EDI]
00704391 : PUSH EBX
00704392 : MOV EAX,dword ptr [EBP + 0x8]
00704395 : PUSH EAX
00704396 : MOV ECX,EDI
00704398 : MOV EDX,dword ptr [EDX + 0x18]
0070439b : CALL EDX
0070439d : MOV EAX,dword ptr [ESI]
0070439f : PUSH 0x1
007043a1 : MOV ECX,ESI
007043a3 : MOV EDX,dword ptr [EAX]
007043a5 : CALL EDX
007043a7 : MOV ESI,EDI
007043a9 : JMP 0x007043d7
007043ab : MOV EDI,ESI
007043ad : CALL 0x007041a0
007043b2 : TEST EAX,EAX
007043b4 : JNZ 0x007043da
007043b6 : PUSH EAX
007043b7 : PUSH EAX
007043b8 : CALL 0x006409eb
007043d7 : MOV dword ptr [EBP + -0x1c],ESI
007043da : MOV dword ptr [EBP + -0x4],0xfffffffe
007043e1 : MOV EAX,dword ptr [EBP + -0x20]
007043e4 : MOV [0x00d7c54c],EAX
007043e9 : MOV EAX,ESI
007043eb : MOV ECX,dword ptr [EBP + -0x10]
007043ee : MOV dword ptr FS:[0x0],ECX
007043f5 : POP ECX
007043f6 : POP EDI
007043f7 : POP ESI
007043f8 : POP EBX
007043f9 : MOV ESP,EBP
007043fb : POP EBP
007043fc : RET
