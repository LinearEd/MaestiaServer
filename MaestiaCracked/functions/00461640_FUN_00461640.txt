PROGRAM  : Maestia.exe
FUNCTION : FUN_00461640
ENTRY    : 00461640
BODY     : [[00461640, 004616b5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00461640(undefined4 param_1,int *param_2)

{
  int *piVar1;
  int unaff_ESI;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b72e1a;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_8 = 0;
  piVar1 = *(int **)(unaff_ESI + 0x50);
  if (piVar1 != param_2) {
    if (piVar1 != (int *)0x0) {
      (**(code **)(*piVar1 + 0x30))(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    }
    if (param_2 != (int *)0x0) {
      InterlockedIncrement(param_2 + 0xb);
    }
    *(int **)(unaff_ESI + 0x50) = param_2;
  }
  local_8 = 0xffffffff;
  FUN_0040ed80(&param_1);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00461640 : PUSH EBP
00461641 : MOV EBP,ESP
00461643 : PUSH -0x1
00461645 : PUSH 0xb72e1a
0046164a : MOV EAX,FS:[0x0]
00461650 : PUSH EAX
00461651 : MOV EAX,[0x00d66fa0]
00461656 : XOR EAX,EBP
00461658 : PUSH EAX
00461659 : LEA EAX,[EBP + -0xc]
0046165c : MOV FS:[0x0],EAX
00461662 : MOV dword ptr [EBP + -0x4],0x0
00461669 : MOV ECX,dword ptr [ESI + 0x50]
0046166c : MOV EAX,dword ptr [EBP + 0xc]
0046166f : CMP ECX,EAX
00461671 : JZ 0x00461695
00461673 : TEST ECX,ECX
00461675 : JZ 0x00461681
00461677 : MOV EAX,dword ptr [ECX]
00461679 : MOV EDX,dword ptr [EAX + 0x30]
0046167c : CALL EDX
0046167e : MOV EAX,dword ptr [EBP + 0xc]
00461681 : TEST EAX,EAX
00461683 : JZ 0x00461692
00461685 : ADD EAX,0x2c
00461688 : PUSH EAX
00461689 : CALL dword ptr [0x00b850dc]
0046168f : MOV EAX,dword ptr [EBP + 0xc]
00461692 : MOV dword ptr [ESI + 0x50],EAX
00461695 : MOV dword ptr [EBP + -0x4],0xffffffff
0046169c : LEA EAX,[EBP + 0x8]
0046169f : PUSH EAX
004616a0 : CALL 0x0040ed80
004616a5 : MOV ECX,dword ptr [EBP + -0xc]
004616a8 : MOV dword ptr FS:[0x0],ECX
004616af : POP ECX
004616b0 : MOV ESP,EBP
004616b2 : POP EBP
004616b3 : RET 0x8
