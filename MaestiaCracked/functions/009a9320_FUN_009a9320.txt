PROGRAM  : Maestia.exe
FUNCTION : FUN_009a9320
ENTRY    : 009a9320
BODY     : [[009a9320, 009a9560]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009a9320(uint param_1)

{
  undefined2 uVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  int *in_ECX;
  uint local_3c;
  undefined4 *local_34;
  undefined1 local_30 [4];
  undefined4 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b38e54;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  piVar2 = (int *)FUN_008eb580();
  piVar3 = (int *)(**(code **)(*piVar2 + 0x74))();
  iVar4 = (**(code **)(*in_ECX + 0x74))();
  local_18 = 7;
  local_1c = 0;
  local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
  local_8 = 0;
  (**(code **)(*in_ECX + 0x58))();
  FUN_00405eb0(local_30,0,0xffffffff);
  local_8 = local_8 & 0xffffff00;
  FUN_008f75f0();
  local_8._0_1_ = 2;
  FUN_00405eb0();
  local_8 = (uint)local_8._1_3_ << 8;
  if (7 < local_3c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if (iVar4 == 0) {
    (**(code **)(*piVar2 + 0x78))();
    (**(code **)(*in_ECX + 0x70))();
    piVar2 = *(int **)(*DAT_00da9894 + 0x114);
    if (local_18 < 8) {
      local_34 = &local_2c;
    }
    else {
      local_34 = local_2c;
    }
    iVar4 = *piVar2;
    (**(code **)(*piVar3 + 0x40))();
    (**(code **)(iVar4 + 4))(piVar2,"OfferingInsertItem","%ls,%d",local_34);
  }
  else {
    (**(code **)(*piVar2 + 0x78))();
    (**(code **)(*in_ECX + 0x78))();
    FUN_00941640(piVar2,param_1);
    (**(code **)(*in_ECX + 0x70))();
    piVar2 = *(int **)(*DAT_00da9894 + 0x114);
    if (local_18 < 8) {
      local_34 = &local_2c;
    }
    else {
      local_34 = local_2c;
    }
    iVar4 = *piVar2;
    uVar1 = (**(code **)(*piVar3 + 0x40))(param_1 & 0xffff);
    (**(code **)(iVar4 + 4))(piVar2,"OfferingInsertItem","%ls,%d",local_34,uVar1);
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = (undefined4 *)((uint)local_2c & 0xffff0000);
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009a9320 : PUSH EBP
009a9321 : MOV EBP,ESP
009a9323 : PUSH -0x1
009a9325 : PUSH 0xb38e54
009a932a : MOV EAX,FS:[0x0]
009a9330 : PUSH EAX
009a9331 : SUB ESP,0x44
009a9334 : MOV EAX,[0x00d66fa0]
009a9339 : XOR EAX,EBP
009a933b : MOV dword ptr [EBP + -0x10],EAX
009a933e : PUSH EBX
009a933f : PUSH ESI
009a9340 : PUSH EDI
009a9341 : PUSH EAX
009a9342 : LEA EAX,[EBP + -0xc]
009a9345 : MOV FS:[0x0],EAX
009a934b : MOV ESI,ECX
009a934d : MOV EAX,dword ptr [ESI + 0x4]
009a9350 : MOV EDI,EDX
009a9352 : CALL 0x008eb580
009a9357 : MOV ECX,dword ptr [EBP + 0xc]
009a935a : MOV EDX,dword ptr [EBP + 0x8]
009a935d : MOV EDI,EAX
009a935f : MOV EAX,dword ptr [EDI]
009a9361 : MOV EAX,dword ptr [EAX + 0x74]
009a9364 : PUSH ECX
009a9365 : PUSH EDX
009a9366 : MOV ECX,EDI
009a9368 : CALL EAX
009a936a : MOV ECX,dword ptr [EBP + 0x10]
009a936d : MOV EDX,dword ptr [ESI]
009a936f : MOV EDX,dword ptr [EDX + 0x74]
009a9372 : MOV EBX,EAX
009a9374 : MOV EAX,dword ptr [EBP + 0x14]
009a9377 : PUSH EAX
009a9378 : PUSH ECX
009a9379 : MOV ECX,ESI
009a937b : CALL EDX
009a937d : MOV dword ptr [EBP + -0x30],EAX
009a9380 : MOV EAX,dword ptr [EBX + 0x10]
009a9383 : XOR ECX,ECX
009a9385 : XOR EDX,EDX
009a9387 : MOV dword ptr [EBP + -0x14],0x7
009a938e : MOV dword ptr [EBP + -0x18],ECX
009a9391 : MOV word ptr [EBP + -0x28],DX
009a9395 : MOV dword ptr [EBP + -0x4],ECX
009a9398 : MOV EDX,dword ptr [ESI]
009a939a : MOV EDX,dword ptr [EDX + 0x58]
009a939d : LEA ECX,[EBP + -0x2c]
009a93a0 : PUSH ECX
009a93a1 : PUSH EAX
009a93a2 : MOV ECX,ESI
009a93a4 : CALL EDX
009a93a6 : SUB ESP,0x1c
009a93a9 : MOV ECX,ESP
009a93ab : MOV dword ptr [EBP + -0x34],ESP
009a93ae : XOR EAX,EAX
009a93b0 : PUSH -0x1
009a93b2 : PUSH EAX
009a93b3 : LEA EDX,[EBP + -0x2c]
009a93b6 : MOV dword ptr [ECX + 0x18],0x7
009a93bd : MOV dword ptr [ECX + 0x14],0x0
009a93c4 : PUSH EDX
009a93c5 : MOV word ptr [ECX + 0x4],AX
009a93c9 : CALL 0x00405eb0
009a93ce : MOV byte ptr [EBP + -0x4],0x1
009a93d2 : MOV byte ptr [EBP + -0x4],0x0
009a93d6 : LEA ECX,[EBP + -0x50]
009a93d9 : CALL 0x008f75f0
009a93de : ADD ESP,0x1c
009a93e1 : MOV byte ptr [EBP + -0x4],0x2
009a93e5 : PUSH -0x1
009a93e7 : PUSH 0x0
009a93e9 : PUSH EAX
009a93ea : LEA ECX,[EBP + -0x2c]
009a93ed : CALL 0x00405eb0
009a93f2 : MOV byte ptr [EBP + -0x4],0x0
009a93f6 : CMP dword ptr [EBP + -0x38],0x8
009a93fa : JC 0x009a9404
009a93fc : MOV ECX,dword ptr [EBP + -0x4c]
009a93ff : CALL 0x006f04e0
009a9404 : MOV ECX,dword ptr [EBP + 0x8]
009a9407 : MOV EDX,dword ptr [EDI]
009a9409 : MOV EDX,dword ptr [EDX + 0x78]
009a940c : XOR EAX,EAX
009a940e : CMP dword ptr [EBP + -0x30],EAX
009a9411 : MOV word ptr [EBP + -0x4c],AX
009a9415 : MOV EAX,dword ptr [EBP + 0xc]
009a9418 : PUSH EAX
009a9419 : PUSH ECX
009a941a : MOV dword ptr [EBP + -0x38],0x7
009a9421 : MOV dword ptr [EBP + -0x3c],0x0
009a9428 : MOV ECX,EDI
009a942a : JNZ 0x009a9493
009a942c : CALL EDX
009a942e : MOV ECX,dword ptr [EBP + 0x14]
009a9431 : MOV EDI,dword ptr [EBP + 0x10]
009a9434 : MOV EAX,dword ptr [ESI]
009a9436 : MOV EDX,dword ptr [EAX + 0x70]
009a9439 : PUSH ECX
009a943a : PUSH EDI
009a943b : PUSH EBX
009a943c : MOV ECX,ESI
009a943e : CALL EDX
009a9440 : CMP dword ptr [EBP + -0x14],0x8
009a9444 : MOV EAX,[0x00da9894]
009a9449 : MOV EAX,dword ptr [EAX]
009a944b : MOV ESI,dword ptr [EAX + 0x114]
009a9451 : JC 0x009a945b
009a9453 : MOV ECX,dword ptr [EBP + -0x28]
009a9456 : MOV dword ptr [EBP + -0x30],ECX
009a9459 : JMP 0x009a9461
009a945b : LEA EDX,[EBP + -0x28]
009a945e : MOV dword ptr [EBP + -0x30],EDX
009a9461 : MOV EAX,dword ptr [ESI]
009a9463 : MOV EDX,dword ptr [EBX]
009a9465 : MOVZX ECX,DI
009a9468 : MOV dword ptr [EBP + -0x34],EAX
009a946b : MOV EAX,dword ptr [EDX + 0x40]
009a946e : PUSH ECX
009a946f : MOV ECX,EBX
009a9471 : CALL EAX
009a9473 : MOV EDX,dword ptr [EBP + -0x30]
009a9476 : MOVZX ECX,AX
009a9479 : MOV EAX,dword ptr [EBP + -0x34]
009a947c : PUSH ECX
009a947d : MOV ECX,dword ptr [EAX + 0x4]
009a9480 : PUSH EDX
009a9481 : PUSH 0xc8a77c
009a9486 : PUSH 0xc8a784
009a948b : PUSH ESI
009a948c : CALL ECX
009a948e : JMP 0x009a9517
009a9493 : CALL EDX
009a9495 : MOV ECX,dword ptr [EBP + 0x14]
009a9498 : MOV EAX,dword ptr [ESI]
009a949a : MOV EDX,dword ptr [EBP + 0x10]
009a949d : MOV EAX,dword ptr [EAX + 0x78]
009a94a0 : PUSH ECX
009a94a1 : PUSH EDX
009a94a2 : MOV ECX,ESI
009a94a4 : CALL EAX
009a94a6 : MOV ECX,dword ptr [EBP + 0xc]
009a94a9 : MOV EDX,dword ptr [EBP + 0x8]
009a94ac : PUSH 0x0
009a94ae : PUSH 0x0
009a94b0 : PUSH ECX
009a94b1 : PUSH EDX
009a94b2 : PUSH EDI
009a94b3 : MOV EDI,dword ptr [EBP + -0x30]
009a94b6 : CALL 0x00941640
009a94bb : MOV ECX,dword ptr [EBP + 0x14]
009a94be : MOV EDX,dword ptr [EBP + 0x10]
009a94c1 : MOV EAX,dword ptr [ESI]
009a94c3 : MOV EAX,dword ptr [EAX + 0x70]
009a94c6 : PUSH ECX
009a94c7 : PUSH EDX
009a94c8 : PUSH EBX
009a94c9 : MOV ECX,ESI
009a94cb : CALL EAX
009a94cd : CMP dword ptr [EBP + -0x14],0x8
009a94d1 : MOV ECX,dword ptr [0x00da9894]
009a94d7 : MOV EAX,dword ptr [ECX]
009a94d9 : MOV ESI,dword ptr [EAX + 0x114]
009a94df : JC 0x009a94e9
009a94e1 : MOV EDX,dword ptr [EBP + -0x28]
009a94e4 : MOV dword ptr [EBP + -0x30],EDX
009a94e7 : JMP 0x009a94ef
009a94e9 : LEA EAX,[EBP + -0x28]
009a94ec : MOV dword ptr [EBP + -0x30],EAX
009a94ef : MOVZX ECX,word ptr [EBP + 0x8]
009a94f3 : MOV EDX,dword ptr [EBX]
009a94f5 : MOV EAX,dword ptr [EDX + 0x40]
009a94f8 : MOV EDI,dword ptr [ESI]
009a94fa : PUSH ECX
009a94fb : MOV ECX,EBX
009a94fd : CALL EAX
009a94ff : MOV EDX,dword ptr [EBP + -0x30]
009a9502 : MOVZX ECX,AX
009a9505 : MOV EAX,dword ptr [EDI + 0x4]
009a9508 : PUSH ECX
009a9509 : PUSH EDX
009a950a : PUSH 0xc8a798
009a950f : PUSH 0xc8a7a0
009a9514 : PUSH ESI
009a9515 : CALL EAX
009a9517 : ADD ESP,0x18
009a951a : MOV dword ptr [EBP + -0x4],0xffffffff
009a9521 : CMP dword ptr [EBP + -0x14],0x8
009a9525 : JC 0x009a952f
009a9527 : MOV ECX,dword ptr [EBP + -0x28]
009a952a : CALL 0x006f04e0
009a952f : XOR ECX,ECX
009a9531 : MOV dword ptr [EBP + -0x14],0x7
009a9538 : MOV dword ptr [EBP + -0x18],0x0
009a953f : MOV word ptr [EBP + -0x28],CX
009a9543 : MOV ECX,dword ptr [EBP + -0xc]
009a9546 : MOV dword ptr FS:[0x0],ECX
009a954d : POP ECX
009a954e : POP EDI
009a954f : POP ESI
009a9550 : POP EBX
009a9551 : MOV ECX,dword ptr [EBP + -0x10]
009a9554 : XOR ECX,EBP
009a9556 : CALL 0x00633e6b
009a955b : MOV ESP,EBP
009a955d : POP EBP
009a955e : RET 0x10
