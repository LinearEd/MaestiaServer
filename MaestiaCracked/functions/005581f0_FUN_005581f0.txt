PROGRAM  : Maestia.exe
FUNCTION : FUN_005581f0
ENTRY    : 005581f0
BODY     : [[005581f0, 00558260]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005581f0(undefined4 param_1,uint param_2)

{
  int iVar1;
  int in_ECX;
  
  if (param_2 < *(uint *)(in_ECX + 4)) {
    for (iVar1 = *(uint *)(in_ECX + 4) - param_2; iVar1 != 0; iVar1 = iVar1 + -1) {
      FUN_005d4f60();
    }
    if (param_2 < *(uint *)(in_ECX + 8) >> 1) {
      FUN_00556aa0(param_1,param_2);
      *(uint *)(in_ECX + 4) = param_2;
      return;
    }
  }
  else if (*(uint *)(in_ECX + 8) <= param_2) {
    FUN_00556aa0(param_1,(param_2 >> 2) + param_2);
  }
  *(uint *)(in_ECX + 4) = param_2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005581f0 : PUSH ESI
005581f1 : MOV ESI,dword ptr [ESP + 0xc]
005581f5 : PUSH EDI
005581f6 : MOV EDI,ECX
005581f8 : MOV EAX,dword ptr [EDI + 0x4]
005581fb : CMP ESI,EAX
005581fd : JNC 0x00558242
005581ff : MOV EDX,dword ptr [EDI]
00558201 : SUB EAX,ESI
00558203 : LEA ECX,[EAX + ESI*0x1]
00558206 : LEA ECX,[ECX + ECX*0x4]
00558209 : PUSH EBX
0055820a : LEA EBX,[EDX + ECX*0x8 + -0x28]
0055820e : JZ 0x00558223
00558210 : PUSH EBP
00558211 : MOV EBP,EAX
00558213 : MOV ECX,EBX
00558215 : CALL 0x005d4f60
0055821a : SUB EBX,0x28
0055821d : SUB EBP,0x1
00558220 : JNZ 0x00558213
00558222 : POP EBP
00558223 : MOV EAX,dword ptr [EDI + 0x8]
00558226 : SHR EAX,0x1
00558228 : POP EBX
00558229 : CMP ESI,EAX
0055822b : JNC 0x00558259
0055822d : MOV ECX,dword ptr [ESP + 0xc]
00558231 : PUSH ESI
00558232 : PUSH ECX
00558233 : MOV ECX,EDI
00558235 : CALL 0x00556aa0
0055823a : MOV dword ptr [EDI + 0x4],ESI
0055823d : POP EDI
0055823e : POP ESI
0055823f : RET 0x8
00558242 : CMP ESI,dword ptr [EDI + 0x8]
00558245 : JC 0x00558259
00558247 : MOV EAX,dword ptr [ESP + 0xc]
0055824b : MOV EDX,ESI
0055824d : SHR EDX,0x2
00558250 : ADD EDX,ESI
00558252 : PUSH EDX
00558253 : PUSH EAX
00558254 : CALL 0x00556aa0
00558259 : MOV dword ptr [EDI + 0x4],ESI
0055825c : POP EDI
0055825d : POP ESI
0055825e : RET 0x8
