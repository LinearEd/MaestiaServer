PROGRAM  : Maestia.exe
FUNCTION : FUN_004f9860
ENTRY    : 004f9860
BODY     : [[004f9860, 004f9916]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004f9860(void)

{
  int iVar1;
  int iVar2;
  int *unaff_ESI;
  
  if (*unaff_ESI == 0) {
    __wassert(L"m_pNode != NULL",
              L"d:\\MaestiaProject\\MaestiaSrc\\Client\\Main\\include\\SpeedTree5.1.1\\Core/Map.inl"
              ,0x27b);
  }
  iVar2 = unaff_ESI[1];
  if ((iVar2 == 0) || (*unaff_ESI == 0)) {
    iVar1 = 0;
  }
  else {
    iVar1 = *(int *)(iVar2 + 4) + *unaff_ESI;
  }
  if (*(int *)(iVar1 + 0x114) == 0) {
    iVar1 = 0;
    iVar2 = *unaff_ESI;
    while ((iVar2 != 0 && (iVar2 = FUN_0046b940(), iVar1 == *(int *)(iVar2 + 0x114)))) {
      iVar1 = *unaff_ESI;
      iVar2 = FUN_0046b940();
      iVar2 = *(int *)(iVar2 + 0x118);
      *unaff_ESI = iVar2;
    }
  }
  else {
    if ((iVar2 == 0) || (*unaff_ESI == 0)) {
      iVar2 = 0;
    }
    else {
      iVar2 = *(int *)(iVar2 + 4) + *unaff_ESI;
    }
    *unaff_ESI = *(int *)(iVar2 + 0x114);
    iVar2 = FUN_0046b940();
    if (*(int *)(iVar2 + 0x110) != 0) {
      do {
        iVar2 = FUN_0046b940();
        *unaff_ESI = *(int *)(iVar2 + 0x110);
        iVar2 = FUN_0046b940();
      } while (*(int *)(iVar2 + 0x110) != 0);
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
004f9860 : CMP dword ptr [ESI],0x0
004f9863 : JNZ 0x004f987c
004f9865 : PUSH 0x27b
004f986a : PUSH 0xcdeca0
004f986f : PUSH 0xcded3c
004f9874 : CALL 0x00640200
004f9879 : ADD ESP,0xc
004f987c : MOV EDX,dword ptr [ESI + 0x4]
004f987f : TEST EDX,EDX
004f9881 : JZ 0x004f9890
004f9883 : MOV ECX,dword ptr [ESI]
004f9885 : TEST ECX,ECX
004f9887 : JZ 0x004f9890
004f9889 : MOV EAX,dword ptr [EDX + 0x4]
004f988c : ADD EAX,ECX
004f988e : JMP 0x004f9892
004f9890 : XOR EAX,EAX
004f9892 : CMP dword ptr [EAX + 0x114],0x0
004f9899 : JNZ 0x004f98ca
004f989b : PUSH EDI
004f989c : XOR EDI,EDI
004f989e : CMP dword ptr [ESI],EDI
004f98a0 : JZ 0x004f98c6
004f98a2 : MOV ECX,ESI
004f98a4 : CALL 0x0046b940
004f98a9 : CMP EDI,dword ptr [EAX + 0x114]
004f98af : JNZ 0x004f98c6
004f98b1 : MOV EDI,dword ptr [ESI]
004f98b3 : MOV ECX,ESI
004f98b5 : CALL 0x0046b940
004f98ba : MOV EAX,dword ptr [EAX + 0x118]
004f98c0 : MOV dword ptr [ESI],EAX
004f98c2 : TEST EAX,EAX
004f98c4 : JNZ 0x004f98a2
004f98c6 : POP EDI
004f98c7 : MOV EAX,ESI
004f98c9 : RET
004f98ca : TEST EDX,EDX
004f98cc : JZ 0x004f98db
004f98ce : MOV ECX,dword ptr [ESI]
004f98d0 : TEST ECX,ECX
004f98d2 : JZ 0x004f98db
004f98d4 : MOV EAX,dword ptr [EDX + 0x4]
004f98d7 : ADD EAX,ECX
004f98d9 : JMP 0x004f98dd
004f98db : XOR EAX,EAX
004f98dd : MOV ECX,dword ptr [EAX + 0x114]
004f98e3 : MOV dword ptr [ESI],ECX
004f98e5 : MOV ECX,ESI
004f98e7 : CALL 0x0046b940
004f98ec : CMP dword ptr [EAX + 0x110],0x0
004f98f3 : JZ 0x004f98c7
004f98f5 : MOV ECX,ESI
004f98f7 : CALL 0x0046b940
004f98fc : MOV EDX,dword ptr [EAX + 0x110]
004f9902 : MOV ECX,ESI
004f9904 : MOV dword ptr [ESI],EDX
004f9906 : CALL 0x0046b940
004f990b : CMP dword ptr [EAX + 0x110],0x0
004f9912 : JNZ 0x004f98f5
004f9914 : MOV EAX,ESI
004f9916 : RET
