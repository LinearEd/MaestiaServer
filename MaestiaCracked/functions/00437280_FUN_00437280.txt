PROGRAM  : Maestia.exe
FUNCTION : FUN_00437280
ENTRY    : 00437280
BODY     : [[00437280, 00437535]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004373a0) */
/* WARNING: Removing unreachable block (ram,0x004373b0) */
/* WARNING: Removing unreachable block (ram,0x004373b9) */
/* WARNING: Removing unreachable block (ram,0x004373bc) */
/* WARNING: Removing unreachable block (ram,0x004373ac) */
/* WARNING: Removing unreachable block (ram,0x004373c9) */
/* WARNING: Removing unreachable block (ram,0x004373d9) */
/* WARNING: Removing unreachable block (ram,0x004373e4) */
/* WARNING: Removing unreachable block (ram,0x004373e0) */
/* WARNING: Removing unreachable block (ram,0x004373d4) */
/* WARNING: Removing unreachable block (ram,0x004373e7) */
/* WARNING: Removing unreachable block (ram,0x004373f7) */
/* WARNING: Removing unreachable block (ram,0x004373ff) */

void FUN_00437280(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int *local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7b642;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x3d) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_004c9470(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x3d) == '\0') {
    if (*(char *)(param_3[2] + 0x3d) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x3d) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x3d) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x3d);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x3d);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int **)(param_1 + 4);
  if (*(int **)((int)local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x3d) == '\0') {
      uVar4 = FUN_00437aa0();
      *(undefined4 *)((int)local_1c + 8) = uVar4;
    }
    else {
      *(int **)((int)local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[0xf] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0xf] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0xf] == '\0') {
            *(undefined1 *)(piVar6 + 0xf) = 1;
            *(undefined1 *)(piVar5 + 0xf) = 0;
            FUN_00477700(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x3d) == '\0') {
            if ((*(char *)(*piVar6 + 0x3c) != '\x01') || (*(char *)(piVar6[2] + 0x3c) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x3c) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x3c) = 1;
                *(undefined1 *)(piVar6 + 0xf) = 0;
                FUN_00437560(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0xf) = (char)piVar5[0xf];
              *(undefined1 *)(piVar5 + 0xf) = 1;
              *(undefined1 *)(piVar6[2] + 0x3c) = 1;
              FUN_00477700(param_1);
              break;
            }
LAB_004374c7:
            *(undefined1 *)(piVar6 + 0xf) = 0;
          }
        }
        else {
          if ((char)piVar6[0xf] == '\0') {
            *(undefined1 *)(piVar6 + 0xf) = 1;
            *(undefined1 *)(piVar5 + 0xf) = 0;
            FUN_00437560(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x3d) == '\0') {
            if ((*(char *)(piVar6[2] + 0x3c) == '\x01') && (*(char *)(*piVar6 + 0x3c) == '\x01'))
            goto LAB_004374c7;
            if (*(char *)(*piVar6 + 0x3c) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x3c) = 1;
              *(undefined1 *)(piVar6 + 0xf) = 0;
              FUN_00477700(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0xf) = (char)piVar5[0xf];
            *(undefined1 *)(piVar5 + 0xf) = 1;
            *(undefined1 *)(*piVar6 + 0x3c) = 1;
            FUN_00437560(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 0xf) = 1;
  }
  local_1c = local_18 + 3;
  local_8 = 0xffffffff;
  FUN_004427d0(local_18 + 4);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00437280 : PUSH EBP
00437281 : MOV EBP,ESP
00437283 : PUSH -0x1
00437285 : PUSH 0xb7b642
0043728a : MOV EAX,FS:[0x0]
00437290 : PUSH EAX
00437291 : SUB ESP,0x50
00437294 : PUSH EBX
00437295 : PUSH ESI
00437296 : PUSH EDI
00437297 : MOV EAX,[0x00d66fa0]
0043729c : XOR EAX,EBP
0043729e : PUSH EAX
0043729f : LEA EAX,[EBP + -0xc]
004372a2 : MOV FS:[0x0],EAX
004372a8 : MOV EAX,dword ptr [EBP + 0x10]
004372ab : CMP byte ptr [EAX + 0x3d],0x0
004372af : JZ 0x004372ed
004372b1 : PUSH 0x1b
004372b3 : XOR ESI,ESI
004372b5 : PUSH 0xcca4a8
004372ba : LEA ECX,[EBP + -0x34]
004372bd : MOV dword ptr [EBP + -0x1c],0xf
004372c4 : MOV dword ptr [EBP + -0x20],ESI
004372c7 : MOV byte ptr [EBP + -0x30],0x0
004372cb : CALL 0x00404b50
004372d0 : MOV dword ptr [EBP + -0x4],ESI
004372d3 : LEA EAX,[EBP + -0x34]
004372d6 : PUSH EAX
004372d7 : LEA ECX,[EBP + -0x5c]
004372da : CALL 0x00403c10
004372df : PUSH 0xced890
004372e4 : LEA ECX,[EBP + -0x5c]
004372e7 : PUSH ECX
004372e8 : CALL 0x006409eb
004372ed : MOV EBX,EAX
004372ef : LEA EDX,[EBP + 0x10]
004372f2 : MOV dword ptr [EBP + -0x14],EBX
004372f5 : CALL 0x004c9470
004372fa : MOV ECX,dword ptr [EBX]
004372fc : CMP byte ptr [ECX + 0x3d],0x0
00437300 : JZ 0x00437307
00437302 : MOV EDI,dword ptr [EBX + 0x8]
00437305 : JMP 0x00437321
00437307 : MOV EDX,dword ptr [EBX + 0x8]
0043730a : CMP byte ptr [EDX + 0x3d],0x0
0043730e : JZ 0x00437314
00437310 : MOV EDI,ECX
00437312 : JMP 0x00437321
00437314 : MOV EAX,dword ptr [EBP + 0x10]
00437317 : MOV EDI,dword ptr [EAX + 0x8]
0043731a : LEA EDX,[EAX + 0x8]
0043731d : CMP EAX,EBX
0043731f : JNZ 0x004373a0
00437321 : CMP byte ptr [EDI + 0x3d],0x0
00437325 : MOV ESI,dword ptr [EBX + 0x4]
00437328 : JNZ 0x0043732d
0043732a : MOV dword ptr [EDI + 0x4],ESI
0043732d : MOV EDX,dword ptr [EBP + 0x8]
00437330 : MOV EAX,dword ptr [EDX + 0x4]
00437333 : CMP dword ptr [EAX + 0x4],EBX
00437336 : JNZ 0x0043733d
00437338 : MOV dword ptr [EAX + 0x4],EDI
0043733b : JMP 0x00437348
0043733d : CMP dword ptr [ESI],EBX
0043733f : JNZ 0x00437345
00437341 : MOV dword ptr [ESI],EDI
00437343 : JMP 0x00437348
00437345 : MOV dword ptr [ESI + 0x8],EDI
00437348 : MOV EAX,dword ptr [EDX + 0x4]
0043734b : CMP dword ptr [EAX],EBX
0043734d : JNZ 0x00437372
0043734f : CMP byte ptr [EDI + 0x3d],0x0
00437353 : JZ 0x00437359
00437355 : MOV ECX,ESI
00437357 : JMP 0x0043736d
00437359 : MOV EAX,dword ptr [EDI]
0043735b : CMP byte ptr [EAX + 0x3d],0x0
0043735f : MOV ECX,EDI
00437361 : JNZ 0x0043736d
00437363 : MOV ECX,EAX
00437365 : MOV EAX,dword ptr [ECX]
00437367 : CMP byte ptr [EAX + 0x3d],0x0
0043736b : JZ 0x00437363
0043736d : MOV EAX,dword ptr [EDX + 0x4]
00437370 : MOV dword ptr [EAX],ECX
00437372 : MOV ECX,dword ptr [EDX + 0x4]
00437375 : MOV dword ptr [EBP + -0x18],ECX
00437378 : CMP dword ptr [ECX + 0x8],EBX
0043737b : JNZ 0x00437402
00437381 : CMP byte ptr [EDI + 0x3d],0x0
00437385 : JZ 0x0043738e
00437387 : MOV EAX,ESI
00437389 : MOV dword ptr [ECX + 0x8],EAX
0043738c : JMP 0x00437402
0043738e : MOV EAX,EDI
00437390 : CALL 0x00437aa0
00437395 : MOV ECX,dword ptr [EBP + -0x18]
00437398 : MOV EDX,dword ptr [EBP + 0x8]
0043739b : MOV dword ptr [ECX + 0x8],EAX
0043739e : JMP 0x00437402
004373a0 : MOV dword ptr [ECX + 0x4],EAX
004373a3 : MOV ECX,dword ptr [EBX]
004373a5 : MOV dword ptr [EAX],ECX
004373a7 : CMP EAX,dword ptr [EBX + 0x8]
004373aa : JNZ 0x004373b0
004373ac : MOV ESI,EAX
004373ae : JMP 0x004373c9
004373b0 : CMP byte ptr [EDI + 0x3d],0x0
004373b4 : MOV ESI,dword ptr [EAX + 0x4]
004373b7 : JNZ 0x004373bc
004373b9 : MOV dword ptr [EDI + 0x4],ESI
004373bc : MOV dword ptr [ESI],EDI
004373be : MOV ECX,dword ptr [EBX + 0x8]
004373c1 : MOV dword ptr [EDX],ECX
004373c3 : MOV EDX,dword ptr [EBX + 0x8]
004373c6 : MOV dword ptr [EDX + 0x4],EAX
004373c9 : MOV ECX,dword ptr [EBP + 0x8]
004373cc : MOV ECX,dword ptr [ECX + 0x4]
004373cf : CMP dword ptr [ECX + 0x4],EBX
004373d2 : JNZ 0x004373d9
004373d4 : MOV dword ptr [ECX + 0x4],EAX
004373d7 : JMP 0x004373e7
004373d9 : MOV ECX,dword ptr [EBX + 0x4]
004373dc : CMP dword ptr [ECX],EBX
004373de : JNZ 0x004373e4
004373e0 : MOV dword ptr [ECX],EAX
004373e2 : JMP 0x004373e7
004373e4 : MOV dword ptr [ECX + 0x8],EAX
004373e7 : MOV EDX,dword ptr [EBX + 0x4]
004373ea : MOV dword ptr [EAX + 0x4],EDX
004373ed : LEA ECX,[EBX + 0x3c]
004373f0 : ADD EAX,0x3c
004373f3 : CMP EAX,ECX
004373f5 : JZ 0x004373ff
004373f7 : MOV BL,byte ptr [ECX]
004373f9 : MOV DL,byte ptr [EAX]
004373fb : MOV byte ptr [EAX],BL
004373fd : MOV byte ptr [ECX],DL
004373ff : MOV EDX,dword ptr [EBP + 0x8]
00437402 : MOV EAX,dword ptr [EBP + -0x14]
00437405 : MOV BL,0x1
00437407 : CMP byte ptr [EAX + 0x3c],BL
0043740a : JNZ 0x00437513
00437410 : MOV ECX,dword ptr [EDX + 0x4]
00437413 : CMP EDI,dword ptr [ECX + 0x4]
00437416 : JZ 0x00437510
0043741c : LEA ESP,[ESP]
00437420 : CMP byte ptr [EDI + 0x3c],BL
00437423 : JNZ 0x00437510
00437429 : MOV ECX,dword ptr [ESI]
0043742b : CMP EDI,ECX
0043742d : JNZ 0x00437498
0043742f : MOV ECX,dword ptr [ESI + 0x8]
00437432 : CMP byte ptr [ECX + 0x3c],0x0
00437436 : JNZ 0x0043744d
00437438 : MOV byte ptr [ECX + 0x3c],BL
0043743b : PUSH EDX
0043743c : MOV ECX,ESI
0043743e : MOV byte ptr [ESI + 0x3c],0x0
00437442 : CALL 0x00477700
00437447 : MOV ECX,dword ptr [ESI + 0x8]
0043744a : MOV EDX,dword ptr [EBP + 0x8]
0043744d : CMP byte ptr [ECX + 0x3d],0x0
00437451 : JNZ 0x004374cb
00437453 : MOV EAX,dword ptr [ECX]
00437455 : CMP byte ptr [EAX + 0x3c],BL
00437458 : JNZ 0x00437462
0043745a : MOV EAX,dword ptr [ECX + 0x8]
0043745d : CMP byte ptr [EAX + 0x3c],BL
00437460 : JZ 0x004374c7
00437462 : MOV EAX,dword ptr [ECX + 0x8]
00437465 : CMP byte ptr [EAX + 0x3c],BL
00437468 : JNZ 0x0043747f
0043746a : MOV EAX,dword ptr [ECX]
0043746c : MOV byte ptr [EAX + 0x3c],BL
0043746f : PUSH EDX
00437470 : MOV byte ptr [ECX + 0x3c],0x0
00437474 : CALL 0x00437560
00437479 : MOV ECX,dword ptr [ESI + 0x8]
0043747c : MOV EDX,dword ptr [EBP + 0x8]
0043747f : MOV AL,byte ptr [ESI + 0x3c]
00437482 : MOV byte ptr [ECX + 0x3c],AL
00437485 : MOV byte ptr [ESI + 0x3c],BL
00437488 : MOV ECX,dword ptr [ECX + 0x8]
0043748b : MOV byte ptr [ECX + 0x3c],BL
0043748e : PUSH EDX
0043748f : MOV ECX,ESI
00437491 : CALL 0x00477700
00437496 : JMP 0x00437510
00437498 : CMP byte ptr [ECX + 0x3c],0x0
0043749c : JNZ 0x004374b2
0043749e : MOV byte ptr [ECX + 0x3c],BL
004374a1 : PUSH EDX
004374a2 : MOV ECX,ESI
004374a4 : MOV byte ptr [ESI + 0x3c],0x0
004374a8 : CALL 0x00437560
004374ad : MOV ECX,dword ptr [ESI]
004374af : MOV EDX,dword ptr [EBP + 0x8]
004374b2 : CMP byte ptr [ECX + 0x3d],0x0
004374b6 : JNZ 0x004374cb
004374b8 : MOV EAX,dword ptr [ECX + 0x8]
004374bb : CMP byte ptr [EAX + 0x3c],BL
004374be : JNZ 0x004374de
004374c0 : MOV EAX,dword ptr [ECX]
004374c2 : CMP byte ptr [EAX + 0x3c],BL
004374c5 : JNZ 0x004374de
004374c7 : MOV byte ptr [ECX + 0x3c],0x0
004374cb : MOV ECX,dword ptr [EDX + 0x4]
004374ce : MOV EDI,ESI
004374d0 : MOV ESI,dword ptr [ESI + 0x4]
004374d3 : CMP EDI,dword ptr [ECX + 0x4]
004374d6 : JNZ 0x00437420
004374dc : JMP 0x00437510
004374de : MOV EAX,dword ptr [ECX]
004374e0 : CMP byte ptr [EAX + 0x3c],BL
004374e3 : JNZ 0x004374fa
004374e5 : MOV EAX,dword ptr [ECX + 0x8]
004374e8 : MOV byte ptr [EAX + 0x3c],BL
004374eb : PUSH EDX
004374ec : MOV byte ptr [ECX + 0x3c],0x0
004374f0 : CALL 0x00477700
004374f5 : MOV ECX,dword ptr [ESI]
004374f7 : MOV EDX,dword ptr [EBP + 0x8]
004374fa : MOV AL,byte ptr [ESI + 0x3c]
004374fd : MOV byte ptr [ECX + 0x3c],AL
00437500 : MOV byte ptr [ESI + 0x3c],BL
00437503 : MOV ECX,dword ptr [ECX]
00437505 : MOV byte ptr [ECX + 0x3c],BL
00437508 : PUSH EDX
00437509 : MOV ECX,ESI
0043750b : CALL 0x00437560
00437510 : MOV byte ptr [EDI + 0x3c],BL
00437513 : OR ECX,0xffffffff
00437516 : MOV dword ptr [EBP + -0x4],ECX
00437519 : MOV EAX,dword ptr [EBP + -0x14]
0043751c : ADD EAX,0xc
0043751f : MOV dword ptr [EBP + -0x18],EAX
00437522 : MOV dword ptr [EBP + -0x4],ECX
00437525 : ADD EAX,0x4
00437528 : PUSH EAX
00437529 : CALL 0x004427d0
0043752e : MOV ECX,dword ptr [EBP + -0x14]
00437531 : CALL 0x006f04e0
