PROGRAM  : Maestia.exe
FUNCTION : FUN_005fcd10
ENTRY    : 005fcd10
BODY     : [[005fcd10, 005fcddf]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005fcd10(int param_1,int *param_2,undefined4 param_3)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  int in_ECX;
  int local_24;
  int local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  undefined4 local_4;
  
  if (((param_1 != 0) && (iVar2 = *(int *)(param_1 + 4), iVar2 != 0)) &&
     (*(char *)(*(int *)(iVar2 + 0x10) + *(int *)(in_ECX + 0x24)) != '\0')) {
    if (*(int *)(iVar2 + 0x14) == 0) {
      local_18 = *(undefined4 *)(*param_2 + 0x1c);
      local_1c = param_3;
      local_14 = *(undefined4 *)(param_1 + 8);
      local_c = *(undefined4 *)(in_ECX + 0x144);
      local_10 = 0xffffffff;
      local_8 = 0;
      local_4 = 0xffffffff;
      FUN_005fbc40(&local_1c);
      uVar3 = *(int *)(in_ECX + 0x134) - 1;
      *(uint *)(iVar2 + 0x14) =
           *(int *)(*(int *)(in_ECX + 0x140) + (uVar3 >> 4) * 4) + (uVar3 & 0xf) * 0x1c;
    }
    local_24 = param_2[2];
    local_20 = param_2[1];
    FUN_005fbc80(&local_24);
    piVar1 = (int *)(*(int *)(iVar2 + 0x14) + 0x14);
    *piVar1 = *piVar1 + 1;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005fcd10 : MOV EAX,dword ptr [ESP + 0x4]
005fcd14 : SUB ESP,0x24
005fcd17 : PUSH EBX
005fcd18 : MOV EBX,ECX
005fcd1a : TEST EAX,EAX
005fcd1c : JZ 0x005fcdd9
005fcd22 : PUSH EDI
005fcd23 : MOV EDI,dword ptr [EAX + 0x4]
005fcd26 : TEST EDI,EDI
005fcd28 : JZ 0x005fcdd8
005fcd2e : MOV ECX,dword ptr [EDI + 0x10]
005fcd31 : MOV EDX,dword ptr [EBX + 0x24]
005fcd34 : CMP byte ptr [ECX + EDX*0x1],0x0
005fcd38 : JZ 0x005fcdd8
005fcd3e : CMP dword ptr [EDI + 0x14],0x0
005fcd42 : PUSH EBP
005fcd43 : MOV EBP,dword ptr [ESP + 0x38]
005fcd47 : JNZ 0x005fcdb3
005fcd49 : MOV ECX,dword ptr [EBP]
005fcd4c : FLD float ptr [ESP + 0x3c]
005fcd50 : MOV EDX,dword ptr [ECX + 0x1c]
005fcd53 : FSTP float ptr [ESP + 0x14]
005fcd57 : MOV EAX,dword ptr [EAX + 0x8]
005fcd5a : MOV ECX,dword ptr [EBX + 0x144]
005fcd60 : PUSH ESI
005fcd61 : MOV dword ptr [ESP + 0x1c],EDX
005fcd65 : MOV dword ptr [ESP + 0x20],EAX
005fcd69 : OR EAX,0xffffffff
005fcd6c : LEA EDX,[ESP + 0x18]
005fcd70 : MOV dword ptr [ESP + 0x28],ECX
005fcd74 : LEA ESI,[EBX + 0x134]
005fcd7a : PUSH EDX
005fcd7b : MOV ECX,ESI
005fcd7d : MOV dword ptr [ESP + 0x28],EAX
005fcd81 : MOV dword ptr [ESP + 0x30],0x0
005fcd89 : MOV dword ptr [ESP + 0x34],EAX
005fcd8d : CALL 0x005fbc40
005fcd92 : MOV EAX,dword ptr [ESI]
005fcd94 : MOV EDX,dword ptr [ESI + 0xc]
005fcd97 : DEC EAX
005fcd98 : MOV ECX,EAX
005fcd9a : AND EAX,0xf
005fcd9d : SHR ECX,0x4
005fcda0 : LEA ESI,[EAX*0x8 + 0x0]
005fcda7 : SUB ESI,EAX
005fcda9 : MOV EAX,dword ptr [EDX + ECX*0x4]
005fcdac : LEA ECX,[EAX + ESI*0x4]
005fcdaf : MOV dword ptr [EDI + 0x14],ECX
005fcdb2 : POP ESI
005fcdb3 : MOV EDX,dword ptr [EBP + 0x8]
005fcdb6 : MOV EAX,dword ptr [EBP + 0x4]
005fcdb9 : LEA ECX,[ESP + 0xc]
005fcdbd : PUSH ECX
005fcdbe : LEA ECX,[EBX + 0x144]
005fcdc4 : MOV dword ptr [ESP + 0x10],EDX
005fcdc8 : MOV dword ptr [ESP + 0x14],EAX
005fcdcc : CALL 0x005fbc80
005fcdd1 : MOV EDI,dword ptr [EDI + 0x14]
005fcdd4 : INC dword ptr [EDI + 0x14]
005fcdd7 : POP EBP
005fcdd8 : POP EDI
005fcdd9 : POP EBX
005fcdda : ADD ESP,0x24
005fcddd : RET 0xc
