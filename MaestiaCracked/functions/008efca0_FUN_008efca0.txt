PROGRAM  : Maestia.exe
FUNCTION : FUN_008efca0
ENTRY    : 008efca0
BODY     : [[008efca0, 008efde1]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_008efca0(undefined4 param_1,int param_2,int param_3,int param_4)

{
  int iVar1;
  undefined4 uVar2;
  int *piVar3;
  undefined1 local_20 [8];
  undefined4 local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  uVar2 = param_2;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4a5d0;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  piVar3 = (int *)FUN_008eb580(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  iVar1 = DAT_00d7c54c;
  if (piVar3 != (int *)0x0) {
    if (piVar3[0x18] == param_4) {
      ExceptionList = local_10;
      return piVar3;
    }
    piVar3[0x17] = param_3;
    piVar3[0x18] = param_4;
    ExceptionList = local_10;
    return piVar3;
  }
  param_2 = param_3;
  FUN_004437f0(&param_2);
  if ((local_14 != (int *)*(int *)(iVar1 + 0x44)) &&
     (iVar1 = *(int *)((int)local_14 + 0x10), iVar1 != 0)) {
    param_2 = FUN_006f0760(0x80,".\\Gui\\AvaGuiWindowManager.cpp",0x4a1,0);
    local_8 = 0;
    if (param_2 == 0) {
      piVar3 = (int *)0x0;
    }
    else {
      piVar3 = (int *)FUN_00942c00(param_2);
    }
    local_8 = 0xffffffff;
    if (piVar3 != (int *)0x0) {
      FUN_00942b10(piVar3,*(undefined1 *)(iVar1 + 0x178),0);
      (**(code **)(*piVar3 + 0x14))(uVar2);
      piVar3[0x17] = param_3;
      piVar3[0x18] = param_4;
      local_18 = uVar2;
      local_14 = piVar3;
      FUN_00451e00(local_20,&local_18);
      ExceptionList = local_10;
      return piVar3;
    }
  }
  ExceptionList = local_10;
  return (int *)0x0;
}



============================================================
DISASSEMBLY
============================================================
008efca0 : PUSH EBP
008efca1 : MOV EBP,ESP
008efca3 : PUSH -0x1
008efca5 : PUSH 0xb4a5d0
008efcaa : MOV EAX,FS:[0x0]
008efcb0 : PUSH EAX
008efcb1 : SUB ESP,0x14
008efcb4 : PUSH EBX
008efcb5 : PUSH ESI
008efcb6 : PUSH EDI
008efcb7 : MOV EAX,[0x00d66fa0]
008efcbc : XOR EAX,EBP
008efcbe : PUSH EAX
008efcbf : LEA EAX,[EBP + -0xc]
008efcc2 : MOV FS:[0x0],EAX
008efcc8 : MOV EBX,dword ptr [EBP + 0xc]
008efccb : MOV ESI,dword ptr [EBP + 0x8]
008efcce : MOV EDI,EBX
008efcd0 : MOV EAX,ESI
008efcd2 : CALL 0x008eb580
008efcd7 : TEST EAX,EAX
008efcd9 : JZ 0x008efd04
008efcdb : MOV ECX,dword ptr [EBP + 0x14]
008efcde : CMP dword ptr [EAX + 0x60],ECX
008efce1 : JZ 0x008efdce
008efce7 : MOV EDX,dword ptr [EBP + 0x10]
008efcea : MOV dword ptr [EAX + 0x5c],EDX
008efced : MOV dword ptr [EAX + 0x60],ECX
008efcf0 : MOV ECX,dword ptr [EBP + -0xc]
008efcf3 : MOV dword ptr FS:[0x0],ECX
008efcfa : POP ECX
008efcfb : POP EDI
008efcfc : POP ESI
008efcfd : POP EBX
008efcfe : MOV ESP,EBP
008efd00 : POP EBP
008efd01 : RET 0x10
008efd04 : MOV EAX,dword ptr [EBP + 0x10]
008efd07 : MOV EDI,dword ptr [0x00d7c54c]
008efd0d : LEA ECX,[EBP + 0xc]
008efd10 : MOV dword ptr [EBP + 0xc],EAX
008efd13 : PUSH ECX
008efd14 : LEA ECX,[EDI + 0x40]
008efd17 : LEA EAX,[EBP + -0x10]
008efd1a : CALL 0x004437f0
008efd1f : MOV EDI,dword ptr [EDI + 0x44]
008efd22 : MOV EAX,dword ptr [EBP + -0x10]
008efd25 : CMP EAX,EDI
008efd27 : JZ 0x008efd30
008efd29 : MOV EDI,dword ptr [EAX + 0x10]
008efd2c : TEST EDI,EDI
008efd2e : JNZ 0x008efd46
008efd30 : XOR EAX,EAX
008efd32 : MOV ECX,dword ptr [EBP + -0xc]
008efd35 : MOV dword ptr FS:[0x0],ECX
008efd3c : POP ECX
008efd3d : POP EDI
008efd3e : POP ESI
008efd3f : POP EBX
008efd40 : MOV ESP,EBP
008efd42 : POP EBP
008efd43 : RET 0x10
008efd46 : PUSH 0x0
008efd48 : PUSH 0x4a1
008efd4d : PUSH 0xc5da90
008efd52 : PUSH 0x80
008efd57 : CALL 0x006f0760
008efd5c : ADD ESP,0x10
008efd5f : MOV dword ptr [EBP + 0xc],EAX
008efd62 : MOV dword ptr [EBP + -0x4],0x0
008efd69 : TEST EAX,EAX
008efd6b : JZ 0x008efd79
008efd6d : PUSH EAX
008efd6e : MOV ECX,ESI
008efd70 : CALL 0x00942c00
008efd75 : MOV ESI,EAX
008efd77 : JMP 0x008efd7b
008efd79 : XOR ESI,ESI
008efd7b : MOV dword ptr [EBP + -0x4],0xffffffff
008efd82 : TEST ESI,ESI
008efd84 : JZ 0x008efd30
008efd86 : MOVZX EDX,byte ptr [EDI + 0x178]
008efd8d : MOVZX ECX,byte ptr [EDI + 0x179]
008efd94 : PUSH 0x0
008efd96 : PUSH EDX
008efd97 : PUSH ESI
008efd98 : CALL 0x00942b10
008efd9d : MOV EAX,dword ptr [ESI]
008efd9f : MOV EDX,dword ptr [EAX + 0x14]
008efda2 : PUSH EBX
008efda3 : MOV ECX,ESI
008efda5 : CALL EDX
008efda7 : MOV EAX,dword ptr [EBP + 0x10]
008efdaa : MOV ECX,dword ptr [EBP + 0x14]
008efdad : MOV dword ptr [ESI + 0x5c],EAX
008efdb0 : LEA EDX,[EBP + -0x14]
008efdb3 : PUSH EDX
008efdb4 : LEA EAX,[EBP + -0x1c]
008efdb7 : PUSH EAX
008efdb8 : MOV EAX,dword ptr [EBP + 0x8]
008efdbb : ADD EAX,0x38
008efdbe : MOV dword ptr [ESI + 0x60],ECX
008efdc1 : MOV dword ptr [EBP + -0x14],EBX
008efdc4 : MOV dword ptr [EBP + -0x10],ESI
008efdc7 : CALL 0x00451e00
008efdcc : MOV EAX,ESI
008efdce : MOV ECX,dword ptr [EBP + -0xc]
008efdd1 : MOV dword ptr FS:[0x0],ECX
008efdd8 : POP ECX
008efdd9 : POP EDI
008efdda : POP ESI
008efddb : POP EBX
008efddc : MOV ESP,EBP
008efdde : POP EBP
008efddf : RET 0x10
