PROGRAM  : Maestia.exe
FUNCTION : FUN_00446e70
ENTRY    : 00446e70
BODY     : [[00446e70, 00446fd8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00446e70(undefined4 *param_1,uint param_2)

{
  uint in_EAX;
  undefined4 *puVar1;
  int in_ECX;
  undefined4 *puVar2;
  uint uVar3;
  undefined4 *local_8;
  
  if (param_1 != (undefined4 *)0x0) {
    puVar1 = (undefined4 *)(in_ECX + 4);
    puVar2 = puVar1;
    if (7 < *(uint *)(in_ECX + 0x18)) {
      puVar2 = (undefined4 *)*puVar1;
    }
    if (puVar2 <= param_1) {
      puVar2 = puVar1;
      if (7 < *(uint *)(in_ECX + 0x18)) {
        puVar2 = (undefined4 *)*puVar1;
      }
      if (param_1 < (undefined4 *)((int)puVar2 + *(int *)(in_ECX + 0x14) * 2)) {
        if (7 < *(uint *)(in_ECX + 0x18)) {
          puVar1 = (undefined4 *)*puVar1;
        }
        FUN_00447630(in_ECX,(int)param_1 - (int)puVar1 >> 1,param_2);
        return;
      }
    }
  }
  if (*(uint *)(in_ECX + 0x14) < in_EAX) {
    FUN_00622f07();
  }
  if (-*(int *)(in_ECX + 0x14) - 1U <= param_2) {
    FUN_00622ecf();
  }
  if (param_2 != 0) {
    uVar3 = *(int *)(in_ECX + 0x14) + param_2;
    if (0x7ffffffe < uVar3) {
      FUN_00622ecf();
    }
    if (*(uint *)(in_ECX + 0x18) < uVar3) {
      FUN_00406170(uVar3,*(undefined4 *)(in_ECX + 0x14));
    }
    else if (uVar3 == 0) {
      *(undefined4 *)(in_ECX + 0x14) = 0;
      if (7 < *(uint *)(in_ECX + 0x18)) {
        **(undefined2 **)(in_ECX + 4) = 0;
        return;
      }
      *(undefined2 *)(in_ECX + 4) = 0;
      return;
    }
    if (uVar3 != 0) {
      puVar1 = (undefined4 *)(in_ECX + 4);
      puVar2 = puVar1;
      local_8 = puVar1;
      if (7 < *(uint *)(in_ECX + 0x18)) {
        puVar2 = (undefined4 *)*puVar1;
        local_8 = (undefined4 *)*puVar1;
      }
      _memmove_s((void *)((int)puVar2 + (in_EAX + param_2) * 2),
                 ((*(uint *)(in_ECX + 0x18) - in_EAX) - param_2) * 2,
                 (void *)((int)local_8 + in_EAX * 2),(*(int *)(in_ECX + 0x14) - in_EAX) * 2);
      if (7 < *(uint *)(in_ECX + 0x18)) {
        puVar1 = (undefined4 *)*puVar1;
      }
      _memcpy_s((void *)((int)puVar1 + in_EAX * 2),(*(uint *)(in_ECX + 0x18) - in_EAX) * 2,param_1,
                param_2 * 2);
      FUN_004064e0(uVar3);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00446e70 : PUSH EBP
00446e71 : MOV EBP,ESP
00446e73 : SUB ESP,0x8
00446e76 : PUSH EBX
00446e77 : PUSH ESI
00446e78 : MOV ESI,ECX
00446e7a : MOV ECX,dword ptr [EBP + 0x8]
00446e7d : PUSH EDI
00446e7e : MOV EDI,EAX
00446e80 : TEST ECX,ECX
00446e82 : JZ 0x00446ece
00446e84 : MOV EBX,dword ptr [ESI + 0x18]
00446e87 : LEA EAX,[ESI + 0x4]
00446e8a : CMP EBX,0x8
00446e8d : JC 0x00446e93
00446e8f : MOV EDX,dword ptr [EAX]
00446e91 : JMP 0x00446e95
00446e93 : MOV EDX,EAX
00446e95 : CMP ECX,EDX
00446e97 : JC 0x00446ece
00446e99 : CMP EBX,0x8
00446e9c : JC 0x00446ea2
00446e9e : MOV EDX,dword ptr [EAX]
00446ea0 : JMP 0x00446ea4
00446ea2 : MOV EDX,EAX
00446ea4 : MOV EBX,dword ptr [ESI + 0x14]
00446ea7 : LEA EDX,[EDX + EBX*0x2]
00446eaa : CMP EDX,ECX
00446eac : JBE 0x00446ece
00446eae : CMP dword ptr [ESI + 0x18],0x8
00446eb2 : JC 0x00446eb6
00446eb4 : MOV EAX,dword ptr [EAX]
00446eb6 : MOV EDX,dword ptr [EBP + 0xc]
00446eb9 : SUB ECX,EAX
00446ebb : PUSH EDX
00446ebc : SAR ECX,0x1
00446ebe : PUSH ECX
00446ebf : PUSH ESI
00446ec0 : CALL 0x00447630
00446ec5 : POP EDI
00446ec6 : POP ESI
00446ec7 : POP EBX
00446ec8 : MOV ESP,EBP
00446eca : POP EBP
00446ecb : RET 0x8
00446ece : CMP dword ptr [ESI + 0x14],EDI
00446ed1 : JNC 0x00446ed8
00446ed3 : CALL 0x00622f07
00446ed8 : MOV EBX,dword ptr [EBP + 0xc]
00446edb : OR EAX,0xffffffff
00446ede : SUB EAX,dword ptr [ESI + 0x14]
00446ee1 : CMP EAX,EBX
00446ee3 : JA 0x00446eea
00446ee5 : CALL 0x00622ecf
00446eea : TEST EBX,EBX
00446eec : JBE 0x00446fce
00446ef2 : MOV EBX,dword ptr [ESI + 0x14]
00446ef5 : ADD EBX,dword ptr [EBP + 0xc]
00446ef8 : MOV dword ptr [EBP + -0x8],EBX
00446efb : CMP EBX,0x7ffffffe
00446f01 : JBE 0x00446f08
00446f03 : CALL 0x00622ecf
00446f08 : MOV EAX,dword ptr [ESI + 0x18]
00446f0b : CMP EAX,EBX
00446f0d : JNC 0x00446f35
00446f0f : MOV ECX,dword ptr [ESI + 0x14]
00446f12 : PUSH ECX
00446f13 : PUSH EBX
00446f14 : MOV ECX,ESI
00446f16 : CALL 0x00406170
00446f1b : TEST EBX,EBX
00446f1d : JBE 0x00446fce
00446f23 : MOV EAX,dword ptr [ESI + 0x18]
00446f26 : LEA EBX,[ESI + 0x4]
00446f29 : CMP EAX,0x8
00446f2c : JC 0x00446f67
00446f2e : MOV ECX,dword ptr [EBX]
00446f30 : MOV dword ptr [EBP + -0x4],ECX
00446f33 : JMP 0x00446f6a
00446f35 : TEST EBX,EBX
00446f37 : JNZ 0x00446f1d
00446f39 : MOV dword ptr [ESI + 0x14],EBX
00446f3c : CMP EAX,0x8
00446f3f : JC 0x00446f54
00446f41 : MOV EAX,dword ptr [ESI + 0x4]
00446f44 : XOR EDX,EDX
00446f46 : POP EDI
00446f47 : MOV word ptr [EAX],DX
00446f4a : MOV EAX,ESI
00446f4c : POP ESI
00446f4d : POP EBX
00446f4e : MOV ESP,EBP
00446f50 : POP EBP
00446f51 : RET 0x8
00446f54 : LEA EAX,[ESI + 0x4]
00446f57 : XOR EDX,EDX
00446f59 : POP EDI
00446f5a : MOV word ptr [EAX],DX
00446f5d : MOV EAX,ESI
00446f5f : POP ESI
00446f60 : POP EBX
00446f61 : MOV ESP,EBP
00446f63 : POP EBP
00446f64 : RET 0x8
00446f67 : MOV dword ptr [EBP + -0x4],EBX
00446f6a : CMP EAX,0x8
00446f6d : JC 0x00446f73
00446f6f : MOV EDX,dword ptr [EBX]
00446f71 : JMP 0x00446f75
00446f73 : MOV EDX,EBX
00446f75 : MOV ECX,dword ptr [ESI + 0x14]
00446f78 : SUB ECX,EDI
00446f7a : ADD ECX,ECX
00446f7c : PUSH ECX
00446f7d : MOV ECX,dword ptr [EBP + -0x4]
00446f80 : LEA ECX,[ECX + EDI*0x2]
00446f83 : PUSH ECX
00446f84 : MOV ECX,dword ptr [EBP + 0xc]
00446f87 : SUB EAX,EDI
00446f89 : SUB EAX,ECX
00446f8b : ADD EAX,EAX
00446f8d : PUSH EAX
00446f8e : LEA EAX,[EDI + ECX*0x1]
00446f91 : LEA ECX,[EDX + EAX*0x2]
00446f94 : PUSH ECX
00446f95 : CALL 0x00634101
00446f9a : MOV EAX,dword ptr [ESI + 0x18]
00446f9d : ADD ESP,0x10
00446fa0 : CMP EAX,0x8
00446fa3 : JC 0x00446fa7
00446fa5 : MOV EBX,dword ptr [EBX]
00446fa7 : MOV EDX,dword ptr [EBP + 0xc]
00446faa : LEA ECX,[EDX + EDX*0x1]
00446fad : MOV EDX,dword ptr [EBP + 0x8]
00446fb0 : PUSH ECX
00446fb1 : SUB EAX,EDI
00446fb3 : PUSH EDX
00446fb4 : ADD EAX,EAX
00446fb6 : PUSH EAX
00446fb7 : LEA EAX,[EBX + EDI*0x2]
00446fba : PUSH EAX
00446fbb : CALL 0x00633ea4
00446fc0 : MOV ECX,dword ptr [EBP + -0x8]
00446fc3 : ADD ESP,0x10
00446fc6 : PUSH ECX
00446fc7 : MOV ECX,ESI
00446fc9 : CALL 0x004064e0
00446fce : POP EDI
00446fcf : MOV EAX,ESI
00446fd1 : POP ESI
00446fd2 : POP EBX
00446fd3 : MOV ESP,EBP
00446fd5 : POP EBP
00446fd6 : RET 0x8
