PROGRAM  : Maestia.exe
FUNCTION : FUN_0058aeb0
ENTRY    : 0058aeb0
BODY     : [[0058aeb0, 0058af0e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058aeb0(int param_1,undefined4 param_2)

{
  int iVar1;
  int in_ECX;
  
  iVar1 = FUN_00571c40(param_2);
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 4) = 1;
    *(int *)(in_ECX + 4) = *(int *)(in_ECX + 4) + 1;
    if (*(GRefCountNTSImpl **)(iVar1 + 8) != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(iVar1 + 8));
    }
    *(int *)(iVar1 + 8) = in_ECX;
    if (param_1 != 0) {
      *(int *)(param_1 + 4) = *(int *)(param_1 + 4) + 1;
    }
    if (*(GRefCountNTSImpl **)(iVar1 + 0xc) != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(iVar1 + 0xc));
    }
    *(int *)(iVar1 + 0xc) = param_1;
    *(undefined4 *)(iVar1 + 0x10) = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0058aeb0 : PUSH ESI
0058aeb1 : PUSH EDI
0058aeb2 : MOV EDI,ECX
0058aeb4 : MOV ECX,dword ptr [ESP + 0x10]
0058aeb8 : MOV EAX,dword ptr [EDI + 0xa0]
0058aebe : PUSH ECX
0058aebf : LEA ECX,[EAX + 0xa2c]
0058aec5 : CALL 0x00571c40
0058aeca : MOV ESI,EAX
0058aecc : TEST ESI,ESI
0058aece : JZ 0x0058af0a
0058aed0 : MOV dword ptr [ESI + 0x4],0x1
0058aed7 : INC dword ptr [EDI + 0x4]
0058aeda : MOV ECX,dword ptr [ESI + 0x8]
0058aedd : TEST ECX,ECX
0058aedf : JZ 0x0058aee6
0058aee1 : CALL 0x004ff7c0
0058aee6 : MOV dword ptr [ESI + 0x8],EDI
0058aee9 : MOV EDI,dword ptr [ESP + 0xc]
0058aeed : TEST EDI,EDI
0058aeef : JZ 0x0058aef4
0058aef1 : INC dword ptr [EDI + 0x4]
0058aef4 : MOV ECX,dword ptr [ESI + 0xc]
0058aef7 : TEST ECX,ECX
0058aef9 : JZ 0x0058af00
0058aefb : CALL 0x004ff7c0
0058af00 : MOV dword ptr [ESI + 0xc],EDI
0058af03 : MOV dword ptr [ESI + 0x10],0x0
0058af0a : POP EDI
0058af0b : POP ESI
0058af0c : RET 0x8
