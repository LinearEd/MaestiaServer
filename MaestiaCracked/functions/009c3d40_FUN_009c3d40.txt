PROGRAM  : Maestia.exe
FUNCTION : FUN_009c3d40
ENTRY    : 009c3d40
BODY     : [[009c3d40, 009c3f22]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009c3d40(int param_1)

{
  void *pvVar1;
  uint uVar2;
  int *piVar3;
  int iVar4;
  int unaff_EDI;
  char *pcVar5;
  undefined *puVar6;
  undefined4 uVar7;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  pvVar1 = ExceptionList;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b221f3;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(int *)(unaff_EDI + 0x88) = param_1;
  iVar4 = param_1 - (*(int *)(unaff_EDI + 0xcc) + *(int *)(unaff_EDI + 200) +
                     *(int *)(unaff_EDI + 0xc4) + *(int *)(unaff_EDI + 0xc0) +
                    *(int *)(unaff_EDI + 0xbc));
  if (iVar4 < 0) {
    *(undefined4 *)(unaff_EDI + 0xb8) = 0;
  }
  else {
    *(int *)(unaff_EDI + 0xb8) = iVar4;
  }
  iVar4 = *DAT_00da9894;
  if (*(int *)(iVar4 + 0x114) == 0) {
    ExceptionList = pvVar1;
    return;
  }
  if (param_1 == 0) {
    if ((iVar4 == 0) || (*(int *)(iVar4 + 0x114) == 0)) goto LAB_009c3e88;
    piVar3 = *(int **)(iVar4 + 0x114);
    iVar4 = FUN_00404750(&DAT_00c9123c,*(undefined4 *)(unaff_EDI + 0xb8),uVar2);
    local_8 = 0;
    if (*(uint *)(iVar4 + 0x18) < 8) {
      iVar4 = iVar4 + 4;
    }
    else {
      iVar4 = *(int *)(iVar4 + 4);
    }
    (**(code **)(*piVar3 + 4))(piVar3,unaff_EDI + 0x40,"%s,%ls","SetCharStat",iVar4);
  }
  else {
    if ((iVar4 == 0) || (*(int *)(iVar4 + 0x114) == 0)) goto LAB_009c3e88;
    piVar3 = *(int **)(iVar4 + 0x114);
    iVar4 = FUN_00404750(&DAT_00c91258,*(undefined4 *)(unaff_EDI + 0xb8),uVar2);
    local_8 = 1;
    if (*(uint *)(iVar4 + 0x18) < 8) {
      iVar4 = iVar4 + 4;
    }
    else {
      iVar4 = *(int *)(iVar4 + 4);
    }
    (**(code **)(*piVar3 + 4))(piVar3,unaff_EDI + 0x40,"%s,%ls","SetCharStat",iVar4);
  }
  local_8 = 0xffffffff;
  FUN_00406560();
LAB_009c3e88:
  if ((*DAT_00da9894 != 0) && (piVar3 = *(int **)(*DAT_00da9894 + 0x114), piVar3 != (int *)0x0)) {
    (**(code **)(*piVar3 + 4))
              (piVar3,"mc_quickslot.StatPointButtonVisible",&DAT_00c91274,0 < param_1);
  }
  iVar4 = *DAT_00da9894;
  if (*(int *)(unaff_EDI + 0x88) == 0) {
    if (iVar4 == 0) {
      ExceptionList = local_10;
      return;
    }
    piVar3 = *(int **)(iVar4 + 0x114);
    if (piVar3 == (int *)0x0) {
      ExceptionList = local_10;
      return;
    }
    uVar7 = 0;
    puVar6 = &DAT_00c9129c;
    pcVar5 = "SetCharStatButtonText";
  }
  else {
    if (iVar4 == 0) {
      ExceptionList = local_10;
      return;
    }
    piVar3 = *(int **)(iVar4 + 0x114);
    if (piVar3 == (int *)0x0) {
      ExceptionList = local_10;
      return;
    }
    uVar7 = 1;
    puVar6 = &DAT_00c912b8;
    pcVar5 = "SetCharStatButtonText";
  }
  (**(code **)(*piVar3 + 4))(piVar3,pcVar5,puVar6,uVar7);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
009c3d40 : PUSH EBP
009c3d41 : MOV EBP,ESP
009c3d43 : PUSH -0x1
009c3d45 : PUSH 0xb221f3
009c3d4a : MOV EAX,FS:[0x0]
009c3d50 : PUSH EAX
009c3d51 : SUB ESP,0x1c
009c3d54 : PUSH EBX
009c3d55 : PUSH ESI
009c3d56 : MOV EAX,[0x00d66fa0]
009c3d5b : XOR EAX,EBP
009c3d5d : PUSH EAX
009c3d5e : LEA EAX,[EBP + -0xc]
009c3d61 : MOV FS:[0x0],EAX
009c3d67 : MOV EAX,dword ptr [EDI + 0xcc]
009c3d6d : ADD EAX,dword ptr [EDI + 0xc8]
009c3d73 : MOV EDX,dword ptr [EBP + 0x8]
009c3d76 : ADD EAX,dword ptr [EDI + 0xc4]
009c3d7c : MOV ECX,EDX
009c3d7e : ADD EAX,dword ptr [EDI + 0xc0]
009c3d84 : MOV dword ptr [EDI + 0x88],EDX
009c3d8a : ADD EAX,dword ptr [EDI + 0xbc]
009c3d90 : SUB ECX,EAX
009c3d92 : JNS 0x009c3da0
009c3d94 : MOV dword ptr [EDI + 0xb8],0x0
009c3d9e : JMP 0x009c3da6
009c3da0 : MOV dword ptr [EDI + 0xb8],ECX
009c3da6 : MOV EAX,[0x00da9894]
009c3dab : MOV EAX,dword ptr [EAX]
009c3dad : CMP dword ptr [EAX + 0x114],0x0
009c3db4 : JZ 0x009c3f10
009c3dba : TEST EDX,EDX
009c3dbc : JNZ 0x009c3e1d
009c3dbe : TEST EAX,EAX
009c3dc0 : JZ 0x009c3e88
009c3dc6 : CMP dword ptr [EAX + 0x114],EDX
009c3dcc : JZ 0x009c3e88
009c3dd2 : MOV ECX,dword ptr [EDI + 0xb8]
009c3dd8 : MOV EBX,dword ptr [EAX + 0x114]
009c3dde : PUSH ECX
009c3ddf : PUSH 0xc9123c
009c3de4 : LEA ESI,[EBP + -0x28]
009c3de7 : CALL 0x00404750
009c3dec : ADD ESP,0x8
009c3def : MOV dword ptr [EBP + -0x4],0x0
009c3df6 : CMP dword ptr [EAX + 0x18],0x8
009c3dfa : JC 0x009c3e01
009c3dfc : MOV EAX,dword ptr [EAX + 0x4]
009c3dff : JMP 0x009c3e04
009c3e01 : ADD EAX,0x4
009c3e04 : MOV EDX,dword ptr [EBX]
009c3e06 : MOV ECX,dword ptr [EDX + 0x4]
009c3e09 : PUSH EAX
009c3e0a : PUSH 0xc91244
009c3e0f : PUSH 0xc91250
009c3e14 : LEA EAX,[EDI + 0x40]
009c3e17 : PUSH EAX
009c3e18 : PUSH EBX
009c3e19 : CALL ECX
009c3e1b : JMP 0x009c3e73
009c3e1d : TEST EAX,EAX
009c3e1f : JZ 0x009c3e88
009c3e21 : CMP dword ptr [EAX + 0x114],0x0
009c3e28 : JZ 0x009c3e88
009c3e2a : MOV EDX,dword ptr [EDI + 0xb8]
009c3e30 : MOV EBX,dword ptr [EAX + 0x114]
009c3e36 : PUSH EDX
009c3e37 : PUSH 0xc91258
009c3e3c : LEA ESI,[EBP + -0x28]
009c3e3f : CALL 0x00404750
009c3e44 : ADD ESP,0x8
009c3e47 : MOV dword ptr [EBP + -0x4],0x1
009c3e4e : CMP dword ptr [EAX + 0x18],0x8
009c3e52 : JC 0x009c3e59
009c3e54 : MOV EAX,dword ptr [EAX + 0x4]
009c3e57 : JMP 0x009c3e5c
009c3e59 : ADD EAX,0x4
009c3e5c : MOV ECX,dword ptr [EBX]
009c3e5e : PUSH EAX
009c3e5f : MOV EAX,dword ptr [ECX + 0x4]
009c3e62 : PUSH 0xc91260
009c3e67 : PUSH 0xc9126c
009c3e6c : LEA EDX,[EDI + 0x40]
009c3e6f : PUSH EDX
009c3e70 : PUSH EBX
009c3e71 : CALL EAX
009c3e73 : ADD ESP,0x14
009c3e76 : MOV dword ptr [EBP + -0x4],0xffffffff
009c3e7d : LEA ECX,[EBP + -0x28]
009c3e80 : CALL 0x00406560
009c3e85 : MOV EDX,dword ptr [EBP + 0x8]
009c3e88 : MOV CL,0x1
009c3e8a : TEST EDX,EDX
009c3e8c : JG 0x009c3e90
009c3e8e : XOR CL,CL
009c3e90 : MOV EDX,dword ptr [0x00da9894]
009c3e96 : MOV EAX,dword ptr [EDX]
009c3e98 : TEST EAX,EAX
009c3e9a : JZ 0x009c3ebf
009c3e9c : MOV EAX,dword ptr [EAX + 0x114]
009c3ea2 : TEST EAX,EAX
009c3ea4 : JZ 0x009c3ebf
009c3ea6 : MOV EDX,dword ptr [EAX]
009c3ea8 : MOV EDX,dword ptr [EDX + 0x4]
009c3eab : MOVZX ECX,CL
009c3eae : PUSH ECX
009c3eaf : PUSH 0xc91274
009c3eb4 : PUSH 0xc91278
009c3eb9 : PUSH EAX
009c3eba : CALL EDX
009c3ebc : ADD ESP,0x10
009c3ebf : CMP dword ptr [EDI + 0x88],0x0
009c3ec6 : MOV EAX,[0x00da9894]
009c3ecb : MOV EAX,dword ptr [EAX]
009c3ecd : JNZ 0x009c3eeb
009c3ecf : TEST EAX,EAX
009c3ed1 : JZ 0x009c3f10
009c3ed3 : MOV EAX,dword ptr [EAX + 0x114]
009c3ed9 : TEST EAX,EAX
009c3edb : JZ 0x009c3f10
009c3edd : PUSH 0x0
009c3edf : PUSH 0xc9129c
009c3ee4 : PUSH 0xc912a0
009c3ee9 : JMP 0x009c3f05
009c3eeb : TEST EAX,EAX
009c3eed : JZ 0x009c3f10
009c3eef : MOV EAX,dword ptr [EAX + 0x114]
009c3ef5 : TEST EAX,EAX
009c3ef7 : JZ 0x009c3f10
009c3ef9 : PUSH 0x1
009c3efb : PUSH 0xc912b8
009c3f00 : PUSH 0xc912bc
009c3f05 : MOV ECX,dword ptr [EAX]
009c3f07 : MOV EDX,dword ptr [ECX + 0x4]
009c3f0a : PUSH EAX
009c3f0b : CALL EDX
009c3f0d : ADD ESP,0x10
009c3f10 : MOV ECX,dword ptr [EBP + -0xc]
009c3f13 : MOV dword ptr FS:[0x0],ECX
009c3f1a : POP ECX
009c3f1b : POP ESI
009c3f1c : POP EBX
009c3f1d : MOV ESP,EBP
009c3f1f : POP EBP
009c3f20 : RET 0x4
