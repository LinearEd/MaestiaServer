PROGRAM  : Maestia.exe
FUNCTION : FUN_004cd4c0
ENTRY    : 004cd4c0
BODY     : [[004cd4c0, 004cd506] [004cd510, 004cd660]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_004cd4c0(int *param_1)

{
  uint uVar1;
  uint uVar2;
  int in_ECX;
  float local_48;
  undefined4 local_44;
  int local_40;
  undefined4 uStack_3c;
  float afStack_38 [3];
  LPCRITICAL_SECTION p_Stack_2c;
  char *pcStack_28;
  undefined4 uStack_24;
  int iStack_20;
  undefined4 uStack_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b7a0d8;
  local_14 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffffa8;
  ExceptionList = &local_14;
  local_44 = 0;
  local_48 = -1.0;
  while (uVar2 = param_1[9], uVar2 < (uint)param_1[8]) {
    uVar2 = (**(code **)(*param_1 + 0x1c))(&local_40,uVar1);
    if ((char)uVar2 == '\0') {
      ExceptionList = local_14;
      return uVar2 & 0xffffff00;
    }
    uVar2 = local_40 - 0x62;
    switch(uVar2) {
    case 0:
      goto switchD_004cd542_caseD_0;
    case 1:
      (**(code **)(*param_1 + 0xc))(&local_44,4,1);
      break;
    case 2:
      afStack_38[0] = 0.0;
      afStack_38[1] = 0.0;
      (**(code **)(*param_1 + 0xc))(afStack_38,4,1);
      (**(code **)(*param_1 + 0xc))(&uStack_3c,4,1);
      if (local_48 < afStack_38[0]) {
        p_Stack_2c = (LPCRITICAL_SECTION)(in_ECX + 0x78);
        local_48 = afStack_38[0];
        iStack_20 = 0;
        pcStack_28 = 
        "d:\\maestiaproject\\maestiasrc\\client\\main\\client\\avalib\\fx\\AvaFxIController.h";
        uStack_24 = 0x24a;
        uStack_1c = 1;
        FUN_006ef1a0(&p_Stack_2c);
        uStack_c = 0;
        FUN_004cd760(afStack_38);
        uStack_c = 0xffffffff;
        if (iStack_20 != 0) {
          LeaveCriticalSection(p_Stack_2c);
          iStack_20 = 0;
        }
      }
      break;
    case 3:
      (**(code **)(*param_1 + 0xc))(in_ECX + 0x50,4,1);
      break;
    default:
      (**(code **)(*param_1 + 0x24))(uStack_3c);
    }
  }
switchD_004cd542_caseD_0:
  ExceptionList = local_14;
  return CONCAT31((int3)(uVar2 >> 8),1);
}



============================================================
DISASSEMBLY
============================================================
004cd4c0 : PUSH EBP
004cd4c1 : MOV EBP,ESP
004cd4c3 : AND ESP,0xfffffff8
004cd4c6 : PUSH -0x1
004cd4c8 : PUSH 0xb7a0d8
004cd4cd : MOV EAX,FS:[0x0]
004cd4d3 : PUSH EAX
004cd4d4 : SUB ESP,0x38
004cd4d7 : PUSH EBX
004cd4d8 : PUSH ESI
004cd4d9 : PUSH EDI
004cd4da : MOV EAX,[0x00d66fa0]
004cd4df : XOR EAX,ESP
004cd4e1 : PUSH EAX
004cd4e2 : LEA EAX,[ESP + 0x48]
004cd4e6 : MOV FS:[0x0],EAX
004cd4ec : MOV EDI,ECX
004cd4ee : MOVSS XMM0,dword ptr [0x00cdf0d0]
004cd4f6 : MOV ESI,dword ptr [EBP + 0x8]
004cd4f9 : XOR EBX,EBX
004cd4fb : MOV dword ptr [ESP + 0x18],EBX
004cd4ff : MOVSS dword ptr [ESP + 0x14],XMM0
004cd505 : JMP 0x004cd510
004cd510 : MOV EAX,dword ptr [ESI + 0x24]
004cd513 : CMP EAX,dword ptr [ESI + 0x20]
004cd516 : JNC 0x004cd64a
004cd51c : MOV EDX,dword ptr [ESI]
004cd51e : MOV EDX,dword ptr [EDX + 0x1c]
004cd521 : LEA EAX,[ESP + 0x1c]
004cd525 : PUSH EAX
004cd526 : MOV ECX,ESI
004cd528 : CALL EDX
004cd52a : TEST AL,AL
004cd52c : JZ 0x004cd633
004cd532 : MOV EAX,dword ptr [ESP + 0x1c]
004cd536 : ADD EAX,-0x62
004cd539 : CMP EAX,0x3
004cd53c : JA 0x004cd620
004cd542 : JMP dword ptr [EAX*0x4 + 0x4cd664]
004cd549 : MOV EAX,dword ptr [ESI]
004cd54b : MOV EDX,dword ptr [EAX + 0xc]
004cd54e : PUSH 0x1
004cd550 : PUSH 0x4
004cd552 : LEA ECX,[ESP + 0x20]
004cd556 : PUSH ECX
004cd557 : MOV ECX,ESI
004cd559 : CALL EDX
004cd55b : JMP 0x004cd510
004cd55d : MOV EAX,dword ptr [ESI]
004cd55f : MOV EDX,dword ptr [EAX + 0xc]
004cd562 : PUSH 0x1
004cd564 : PUSH 0x4
004cd566 : LEA ECX,[EDI + 0x50]
004cd569 : PUSH ECX
004cd56a : MOV ECX,ESI
004cd56c : CALL EDX
004cd56e : JMP 0x004cd510
004cd570 : MOV EAX,dword ptr [ESI]
004cd572 : XORPS XMM0,XMM0
004cd575 : MOV EDX,dword ptr [EAX + 0xc]
004cd578 : PUSH 0x1
004cd57a : PUSH 0x4
004cd57c : LEA ECX,[ESP + 0x2c]
004cd580 : PUSH ECX
004cd581 : MOV ECX,ESI
004cd583 : MOVSS dword ptr [ESP + 0x30],XMM0
004cd589 : MOV dword ptr [ESP + 0x34],EBX
004cd58d : CALL EDX
004cd58f : MOV EAX,dword ptr [ESI]
004cd591 : MOV EDX,dword ptr [EAX + 0xc]
004cd594 : PUSH 0x1
004cd596 : PUSH 0x4
004cd598 : LEA ECX,[ESP + 0x34]
004cd59c : PUSH ECX
004cd59d : MOV ECX,ESI
004cd59f : CALL EDX
004cd5a1 : MOVSS XMM0,dword ptr [ESP + 0x24]
004cd5a7 : MOVSS XMM1,dword ptr [ESP + 0x14]
004cd5ad : COMISS XMM1,XMM0
004cd5b0 : JNC 0x004cd510
004cd5b6 : LEA ECX,[ESP + 0x30]
004cd5ba : LEA EAX,[EDI + 0x78]
004cd5bd : PUSH ECX
004cd5be : MOVSS dword ptr [ESP + 0x18],XMM0
004cd5c4 : MOV dword ptr [ESP + 0x40],EBX
004cd5c8 : MOV dword ptr [ESP + 0x34],EAX
004cd5cc : MOV dword ptr [ESP + 0x38],0xcd9c40
004cd5d4 : MOV dword ptr [ESP + 0x3c],0x24a
004cd5dc : MOV dword ptr [ESP + 0x44],0x1
004cd5e4 : CALL 0x006ef1a0
004cd5e9 : MOV dword ptr [ESP + 0x50],EBX
004cd5ed : LEA EDX,[ESP + 0x24]
004cd5f1 : PUSH EDX
004cd5f2 : LEA EAX,[EDI + 0x54]
004cd5f5 : CALL 0x004cd760
004cd5fa : MOV dword ptr [ESP + 0x50],0xffffffff
004cd602 : CMP dword ptr [ESP + 0x3c],EBX
004cd606 : JZ 0x004cd510
004cd60c : MOV EAX,dword ptr [ESP + 0x30]
004cd610 : PUSH EAX
004cd611 : CALL dword ptr [0x00b8511c]
004cd617 : MOV dword ptr [ESP + 0x3c],EBX
004cd61b : JMP 0x004cd510
004cd620 : MOV EDX,dword ptr [ESI]
004cd622 : MOV EAX,dword ptr [ESP + 0x20]
004cd626 : MOV EDX,dword ptr [EDX + 0x24]
004cd629 : PUSH EAX
004cd62a : MOV ECX,ESI
004cd62c : CALL EDX
004cd62e : JMP 0x004cd510
004cd633 : XOR AL,AL
004cd635 : MOV ECX,dword ptr [ESP + 0x48]
004cd639 : MOV dword ptr FS:[0x0],ECX
004cd640 : POP ECX
004cd641 : POP EDI
004cd642 : POP ESI
004cd643 : POP EBX
004cd644 : MOV ESP,EBP
004cd646 : POP EBP
004cd647 : RET 0x4
004cd64a : MOV AL,0x1
004cd64c : MOV ECX,dword ptr [ESP + 0x48]
004cd650 : MOV dword ptr FS:[0x0],ECX
004cd657 : POP ECX
004cd658 : POP EDI
004cd659 : POP ESI
004cd65a : POP EBX
004cd65b : MOV ESP,EBP
004cd65d : POP EBP
004cd65e : RET 0x4
