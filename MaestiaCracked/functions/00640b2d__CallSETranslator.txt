PROGRAM  : Maestia.exe
FUNCTION : _CallSETranslator
ENTRY    : 00640b2d
BODY     : [[00640b2d, 00640c03]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    int __cdecl _CallSETranslator(struct EHExceptionRecord *,struct EHRegistrationNode *,void *,void
   *,struct _s_FuncInfo const *,int,struct EHRegistrationNode *)
   
   Libraries: Visual Studio 2005 Release, Visual Studio 2008 Release */

int __cdecl
_CallSETranslator(EHExceptionRecord *param_1,EHRegistrationNode *param_2,void *param_3,void *param_4
                 ,_s_FuncInfo *param_5,int param_6,EHRegistrationNode *param_7)

{
  _ptiddata p_Var1;
  int local_3c;
  EHExceptionRecord *local_38;
  void *local_34;
  code *local_30;
  undefined4 *local_2c;
  code *local_28;
  uint local_24;
  _s_FuncInfo *local_20;
  EHRegistrationNode *local_1c;
  int local_18;
  EHRegistrationNode *local_14;
  undefined1 *local_10;
  undefined1 *local_c;
  int local_8;
  
  local_c = &stack0xfffffffc;
  local_10 = &stack0xffffffc0;
  if (param_1 == (EHExceptionRecord *)0x123) {
    *(undefined4 *)param_2 = 0x640bd8;
    local_3c = 1;
  }
  else {
    local_28 = TranslatorGuardHandler;
    local_24 = DAT_00d66fa0 ^ (uint)&local_2c;
    local_20 = param_5;
    local_1c = param_2;
    local_18 = param_6;
    local_14 = param_7;
    local_8 = 0;
    local_2c = ExceptionList;
    ExceptionList = &local_2c;
    local_38 = param_1;
    local_34 = param_3;
    p_Var1 = __getptd();
    local_30 = p_Var1->_translator;
    (*local_30)(*(undefined4 *)param_1,&local_38);
    local_3c = 0;
    if (local_8 != 0) {
      *local_2c = *(undefined4 *)ExceptionList;
    }
    ExceptionList = local_2c;
  }
  return local_3c;
}



============================================================
DISASSEMBLY
============================================================
00640b2d : MOV EDI,EDI
00640b2f : PUSH EBP
00640b30 : MOV EBP,ESP
00640b32 : SUB ESP,0x38
00640b35 : PUSH EBX
00640b36 : CMP dword ptr [EBP + 0x8],0x123
00640b3d : JNZ 0x00640b51
00640b3f : MOV EAX,0x640bd8
00640b44 : MOV ECX,dword ptr [EBP + 0xc]
00640b47 : MOV dword ptr [ECX],EAX
00640b49 : XOR EAX,EAX
00640b4b : INC EAX
00640b4c : JMP 0x00640c01
00640b51 : AND dword ptr [EBP + -0x28],0x0
00640b55 : MOV dword ptr [EBP + -0x24],0x640c04
00640b5c : MOV EAX,[0x00d66fa0]
00640b61 : LEA ECX,[EBP + -0x28]
00640b64 : XOR EAX,ECX
00640b66 : MOV dword ptr [EBP + -0x20],EAX
00640b69 : MOV EAX,dword ptr [EBP + 0x18]
00640b6c : MOV dword ptr [EBP + -0x1c],EAX
00640b6f : MOV EAX,dword ptr [EBP + 0xc]
00640b72 : MOV dword ptr [EBP + -0x18],EAX
00640b75 : MOV EAX,dword ptr [EBP + 0x1c]
00640b78 : MOV dword ptr [EBP + -0x14],EAX
00640b7b : MOV EAX,dword ptr [EBP + 0x20]
00640b7e : MOV dword ptr [EBP + -0x10],EAX
00640b81 : AND dword ptr [EBP + -0xc],0x0
00640b85 : AND dword ptr [EBP + -0x8],0x0
00640b89 : AND dword ptr [EBP + -0x4],0x0
00640b8d : MOV dword ptr [EBP + -0xc],ESP
00640b90 : MOV dword ptr [EBP + -0x8],EBP
00640b93 : MOV EAX,FS:[0x0]
00640b99 : MOV dword ptr [EBP + -0x28],EAX
00640b9c : LEA EAX,[EBP + -0x28]
00640b9f : MOV FS:[0x0],EAX
00640ba5 : MOV dword ptr [EBP + -0x38],0x1
00640bac : MOV EAX,dword ptr [EBP + 0x8]
00640baf : MOV dword ptr [EBP + -0x34],EAX
00640bb2 : MOV EAX,dword ptr [EBP + 0x10]
00640bb5 : MOV dword ptr [EBP + -0x30],EAX
00640bb8 : CALL 0x006458f6
00640bbd : MOV EAX,dword ptr [EAX + 0x80]
00640bc3 : MOV dword ptr [EBP + -0x2c],EAX
00640bc6 : LEA EAX,[EBP + -0x34]
00640bc9 : PUSH EAX
00640bca : MOV EAX,dword ptr [EBP + 0x8]
00640bcd : PUSH dword ptr [EAX]
00640bcf : CALL dword ptr [EBP + -0x2c]
00640bd2 : POP ECX
00640bd3 : POP ECX
00640bd4 : AND dword ptr [EBP + -0x38],0x0
00640bd8 : CMP dword ptr [EBP + -0x4],0x0
00640bdc : JZ 0x00640bf5
00640bde : MOV EBX,dword ptr FS:[0x0]
00640be5 : MOV EAX,dword ptr [EBX]
00640be7 : MOV EBX,dword ptr [EBP + -0x28]
00640bea : MOV dword ptr [EBX],EAX
00640bec : MOV dword ptr FS:[0x0],EBX
00640bf3 : JMP 0x00640bfe
00640bf5 : MOV EAX,dword ptr [EBP + -0x28]
00640bf8 : MOV FS:[0x0],EAX
00640bfe : MOV EAX,dword ptr [EBP + -0x38]
00640c01 : POP EBX
00640c02 : LEAVE
00640c03 : RET
