PROGRAM  : Maestia.exe
FUNCTION : FUN_0098d950
ENTRY    : 0098d950
BODY     : [[0098d950, 0098dd6f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0098d950(void)

{
  int iVar1;
  undefined1 uVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined1 local_fc [4];
  undefined2 local_f8;
  undefined4 local_e8;
  uint local_e4;
  undefined1 local_e0 [4];
  int local_dc;
  undefined2 local_d4;
  undefined4 local_c4;
  uint local_c0;
  undefined2 local_b8;
  undefined4 local_a8;
  uint local_a4;
  undefined2 local_9c;
  undefined4 local_8c;
  uint local_88;
  undefined2 local_80;
  undefined4 local_70;
  uint local_6c;
  undefined4 local_64;
  undefined4 local_54;
  uint local_50;
  undefined4 local_48;
  undefined4 local_38;
  uint local_34;
  undefined4 local_2c;
  int local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b20e7f;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar1 = *(int *)(DAT_0172491c + 0x144);
  local_14 = uVar3;
  if (iVar1 == 0) {
    FUN_00406460(L" GetGameData NULL !!");
    local_8 = 0;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"LoadHelpBook",0x2c,local_fc,uVar3);
    }
    local_8 = 0xffffffff;
    if (7 < local_e4) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_e4 = 7;
    local_e8 = 0;
    local_f8 = 0;
  }
  else {
    local_a4 = 7;
    local_a8 = 0;
    local_b8 = 0;
    local_88 = 7;
    local_8c = 0;
    local_9c = 0;
    local_c0 = 7;
    local_c4 = 0;
    local_d4 = 0;
    local_8._1_3_ = 0;
    local_6c = 7;
    local_70 = 0;
    local_80 = 0;
    local_8._0_1_ = 4;
    FUN_00406460(&DAT_00c84600);
    local_8._0_1_ = 5;
    uVar2 = (undefined1)local_8;
    local_8._0_1_ = 5;
    local_dc = **(int **)(iVar1 + 0xd8);
    if ((int *)local_dc != *(int **)(iVar1 + 0xd8)) {
      do {
        if (*(uint *)(local_dc + 0x2c) < 8) {
          iVar5 = local_dc + 0x18;
        }
        else {
          iVar5 = *(int *)(local_dc + 0x18);
        }
        uVar4 = FUN_00404750(L"%d|%s&",*(undefined4 *)(local_dc + 0x10),iVar5);
        local_8._0_1_ = 6;
        FUN_00405c30(uVar4,0,0xffffffff);
        local_8._0_1_ = 5;
        if (7 < local_e4) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_e4 = 7;
        local_e8 = 0;
        local_f8 = 0;
        FUN_0040bd50();
        uVar2 = (undefined1)local_8;
      } while (local_dc != *(int *)(iVar1 + 0xd8));
    }
    local_8._0_1_ = uVar2;
    if (local_1c != 0) {
      puVar6 = local_2c;
      if (local_18 < 8) {
        puVar6 = &local_2c;
      }
      puVar7 = local_2c;
      if (local_18 < 8) {
        puVar7 = &local_2c;
      }
      local_dc = (int)puVar7 + local_1c * 2;
      FUN_00401b40(local_e0,0xfffffffc,local_dc + -2,0xfffffffc,(int)puVar6 + local_1c * 2);
    }
    iVar1 = *DAT_00da9894;
    if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
      puVar6 = local_2c;
      if (local_18 < 8) {
        puVar6 = &local_2c;
      }
      (**(code **)(**(int **)(iVar1 + 0x114) + 4))
                (*(int **)(iVar1 + 0x114),"mc_helpBook.AddHelpList",&DAT_00c84614,puVar6);
    }
    uVar4 = FUN_007a60d0();
    FUN_00404350(uVar4);
    local_8._0_1_ = 7;
    uVar4 = FUN_007a60d0();
    FUN_00404350(uVar4);
    local_8 = CONCAT31(local_8._1_3_,8);
    iVar1 = *DAT_00da9894;
    if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
      puVar6 = local_64;
      if (local_50 < 8) {
        puVar6 = &local_64;
      }
      puVar7 = local_48;
      if (local_34 < 8) {
        puVar7 = &local_48;
      }
      (**(code **)(**(int **)(iVar1 + 0x114) + 4))
                (*(int **)(iVar1 + 0x114),"mc_helpBook.SetFont","%ls,%ls",puVar7,puVar6);
    }
    iVar1 = *DAT_00da9894;
    if ((iVar1 != 0) && (*(int *)(iVar1 + 0x1a0) != 0)) {
      iVar5 = *(int *)(iVar1 + 0x1a0);
      if (*(int *)(iVar1 + 0x114) != 0) {
        (**(code **)(**(int **)(iVar1 + 0x114) + 4))
                  (*(int **)(iVar1 + 0x114),"mc_helpBook.StartHelpBook",&DAT_00c84664,
                   *(undefined4 *)(iVar5 + 0x3c));
      }
      *(undefined4 *)(iVar5 + 0x3c) = 0;
    }
    local_8 = CONCAT31(local_8._1_3_,7);
    if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_50 = 7;
    local_54 = 0;
    local_64 = (undefined4 *)((uint)local_64._2_2_ << 0x10);
    local_8 = CONCAT31(local_8._1_3_,5);
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_34 = 7;
    local_38 = 0;
    local_48 = (undefined4 *)((uint)local_48._2_2_ << 0x10);
    local_8 = CONCAT31(local_8._1_3_,4);
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
    local_8 = CONCAT31(local_8._1_3_,3);
    if (7 < local_6c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_6c = 7;
    local_70 = 0;
    local_80 = 0;
    local_8 = CONCAT31(local_8._1_3_,2);
    if (7 < local_c0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_c0 = 7;
    local_c4 = 0;
    local_d4 = 0;
    local_8 = CONCAT31(local_8._1_3_,1);
    if (7 < local_88) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_88 = 7;
    local_8c = 0;
    local_9c = 0;
    local_8 = 0xffffffff;
    if (7 < local_a4) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_a4 = 7;
    local_a8 = 0;
    local_b8 = 0;
  }
  local_8 = 0xffffffff;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0098d950 : PUSH EBP
0098d951 : MOV EBP,ESP
0098d953 : PUSH -0x1
0098d955 : PUSH 0xb20e7f
0098d95a : MOV EAX,FS:[0x0]
0098d960 : PUSH EAX
0098d961 : SUB ESP,0xec
0098d967 : MOV EAX,[0x00d66fa0]
0098d96c : XOR EAX,EBP
0098d96e : MOV dword ptr [EBP + -0x10],EAX
0098d971 : PUSH EBX
0098d972 : PUSH ESI
0098d973 : PUSH EDI
0098d974 : PUSH EAX
0098d975 : LEA EAX,[EBP + -0xc]
0098d978 : MOV FS:[0x0],EAX
0098d97e : MOV EAX,[0x0172491c]
0098d983 : MOV EDI,dword ptr [EAX + 0x144]
0098d989 : XOR EBX,EBX
0098d98b : CMP EDI,EBX
0098d98d : JNZ 0x0098d9fc
0098d98f : PUSH 0xc845b8
0098d994 : LEA ECX,[EBP + 0xffffff08]
0098d99a : CALL 0x00406460
0098d99f : MOV dword ptr [EBP + -0x4],EBX
0098d9a2 : MOV ECX,dword ptr [0x00da98e8]
0098d9a8 : MOV ECX,dword ptr [ECX]
0098d9aa : CMP ECX,EBX
0098d9ac : JZ 0x0098d9c3
0098d9ae : MOV EDX,dword ptr [ECX]
0098d9b0 : MOV EDX,dword ptr [EDX + 0x14]
0098d9b3 : LEA EAX,[EBP + 0xffffff08]
0098d9b9 : PUSH EAX
0098d9ba : PUSH 0x2c
0098d9bc : PUSH 0xc845e4
0098d9c1 : CALL EDX
0098d9c3 : MOV dword ptr [EBP + -0x4],0xffffffff
0098d9ca : CMP dword ptr [EBP + 0xffffff20],0x8
0098d9d1 : JC 0x0098d9de
0098d9d3 : MOV ECX,dword ptr [EBP + 0xffffff0c]
0098d9d9 : CALL 0x006f04e0
0098d9de : XOR EAX,EAX
0098d9e0 : MOV dword ptr [EBP + 0xffffff20],0x7
0098d9ea : MOV dword ptr [EBP + 0xffffff1c],EBX
0098d9f0 : MOV word ptr [EBP + 0xffffff0c],AX
0098d9f7 : JMP 0x0098dd54
0098d9fc : MOV EAX,0x7
0098da01 : XOR ECX,ECX
0098da03 : MOV dword ptr [EBP + 0xffffff60],EAX
0098da09 : MOV dword ptr [EBP + 0xffffff5c],EBX
0098da0f : MOV word ptr [EBP + 0xffffff4c],CX
0098da16 : MOV dword ptr [EBP + -0x4],0x1
0098da1d : XOR EDX,EDX
0098da1f : MOV dword ptr [EBP + 0xffffff7c],EAX
0098da25 : MOV dword ptr [EBP + 0xffffff78],EBX
0098da2b : MOV word ptr [EBP + 0xffffff68],DX
0098da32 : MOV byte ptr [EBP + -0x4],0x2
0098da36 : MOV dword ptr [EBP + 0xffffff44],EAX
0098da3c : MOV dword ptr [EBP + 0xffffff40],EBX
0098da42 : MOV word ptr [EBP + 0xffffff30],CX
0098da49 : MOV byte ptr [EBP + -0x4],0x3
0098da4d : MOV dword ptr [EBP + -0x68],EAX
0098da50 : MOV dword ptr [EBP + -0x6c],EBX
0098da53 : MOV word ptr [EBP + -0x7c],DX
0098da57 : MOV byte ptr [EBP + -0x4],0x4
0098da5b : PUSH 0xc84600
0098da60 : LEA ECX,[EBP + -0x2c]
0098da63 : CALL 0x00406460
0098da68 : MOV byte ptr [EBP + -0x4],0x5
0098da6c : MOV ECX,dword ptr [EDI + 0xd8]
0098da72 : MOV EAX,dword ptr [ECX]
0098da74 : MOV dword ptr [EBP + 0xffffff28],EAX
0098da7a : CMP EAX,ECX
0098da7c : JZ 0x0098db08
0098da82 : CMP dword ptr [EAX + 0x2c],0x8
0098da86 : JC 0x0098da8d
0098da88 : MOV ECX,dword ptr [EAX + 0x18]
0098da8b : JMP 0x0098da90
0098da8d : LEA ECX,[EAX + 0x18]
0098da90 : MOV EAX,dword ptr [EAX + 0x10]
0098da93 : PUSH ECX
0098da94 : PUSH EAX
0098da95 : PUSH 0xc84604
0098da9a : LEA ESI,[EBP + 0xffffff08]
0098daa0 : CALL 0x00404750
0098daa5 : ADD ESP,0xc
0098daa8 : MOV byte ptr [EBP + -0x4],0x6
0098daac : PUSH -0x1
0098daae : PUSH EBX
0098daaf : PUSH EAX
0098dab0 : LEA ECX,[EBP + -0x2c]
0098dab3 : CALL 0x00405c30
0098dab8 : MOV byte ptr [EBP + -0x4],0x5
0098dabc : CMP dword ptr [EBP + 0xffffff20],0x8
0098dac3 : JC 0x0098dad0
0098dac5 : MOV ECX,dword ptr [EBP + 0xffffff0c]
0098dacb : CALL 0x006f04e0
0098dad0 : XOR ECX,ECX
0098dad2 : LEA EDX,[EBP + 0xffffff28]
0098dad8 : MOV dword ptr [EBP + 0xffffff20],0x7
0098dae2 : MOV dword ptr [EBP + 0xffffff1c],EBX
0098dae8 : MOV word ptr [EBP + 0xffffff0c],CX
0098daef : CALL 0x0040bd50
0098daf4 : MOV ECX,dword ptr [EDI + 0xd8]
0098dafa : MOV EAX,dword ptr [EBP + 0xffffff28]
0098db00 : CMP EAX,ECX
0098db02 : JNZ 0x0098da82
0098db08 : MOV EAX,dword ptr [EBP + -0x18]
0098db0b : CMP EAX,EBX
0098db0d : JZ 0x0098db50
0098db0f : MOV EDI,dword ptr [EBP + -0x14]
0098db12 : MOV ECX,dword ptr [EBP + -0x28]
0098db15 : MOV EDX,ECX
0098db17 : CMP EDI,0x8
0098db1a : JNC 0x0098db1f
0098db1c : LEA EDX,[EBP + -0x28]
0098db1f : LEA EDX,[EDX + EAX*0x2]
0098db22 : MOV ESI,0xfffffffc
0098db27 : CMP EDI,0x8
0098db2a : JNC 0x0098db2f
0098db2c : LEA ECX,[EBP + -0x28]
0098db2f : PUSH EDX
0098db30 : LEA EAX,[ECX + EAX*0x2]
0098db33 : PUSH ESI
0098db34 : MOV dword ptr [EBP + 0xffffff28],EAX
0098db3a : ADD EAX,-0x2
0098db3d : PUSH EAX
0098db3e : MOV ECX,ESI
0098db40 : PUSH ECX
0098db41 : LEA EDX,[EBP + 0xffffff24]
0098db47 : PUSH EDX
0098db48 : LEA EDI,[EBP + -0x2c]
0098db4b : CALL 0x00401b40
0098db50 : MOV EAX,[0x00da9894]
0098db55 : MOV EAX,dword ptr [EAX]
0098db57 : CMP EAX,EBX
0098db59 : JZ 0x0098db91
0098db5b : CMP dword ptr [EAX + 0x114],EBX
0098db61 : JZ 0x0098db91
0098db63 : MOV EAX,dword ptr [EAX + 0x114]
0098db69 : MOV ECX,dword ptr [EBP + -0x28]
0098db6c : MOV EDI,0x8
0098db71 : CMP dword ptr [EBP + -0x14],EDI
0098db74 : JNC 0x0098db79
0098db76 : LEA ECX,[EBP + -0x28]
0098db79 : MOV EDX,dword ptr [EAX]
0098db7b : PUSH ECX
0098db7c : PUSH 0xc84614
0098db81 : PUSH 0xc84618
0098db86 : PUSH EAX
0098db87 : MOV EAX,dword ptr [EDX + 0x4]
0098db8a : CALL EAX
0098db8c : ADD ESP,0x10
0098db8f : JMP 0x0098db96
0098db91 : MOV EDI,0x8
0098db96 : MOV EDX,0xc84630
0098db9b : CALL 0x007a60d0
0098dba0 : PUSH EAX
0098dba1 : LEA ESI,[EBP + -0x48]
0098dba4 : CALL 0x00404350
0098dba9 : ADD ESP,0x4
0098dbac : MOV byte ptr [EBP + -0x4],0x7
0098dbb0 : MOV EDX,0xc8463c
0098dbb5 : CALL 0x007a60d0
0098dbba : PUSH EAX
0098dbbb : LEA ESI,[EBP + -0x64]
0098dbbe : CALL 0x00404350
0098dbc3 : ADD ESP,0x4
0098dbc6 : MOV byte ptr [EBP + -0x4],0x8
0098dbca : MOV ECX,dword ptr [0x00da9894]
0098dbd0 : MOV EAX,dword ptr [ECX]
0098dbd2 : CMP EAX,EBX
0098dbd4 : JZ 0x0098dc11
0098dbd6 : CMP dword ptr [EAX + 0x114],EBX
0098dbdc : JZ 0x0098dc11
0098dbde : MOV EAX,dword ptr [EAX + 0x114]
0098dbe4 : MOV EDX,dword ptr [EBP + -0x60]
0098dbe7 : CMP dword ptr [EBP + -0x4c],EDI
0098dbea : JNC 0x0098dbef
0098dbec : LEA EDX,[EBP + -0x60]
0098dbef : MOV ECX,dword ptr [EBP + -0x44]
0098dbf2 : CMP dword ptr [EBP + -0x30],EDI
0098dbf5 : JNC 0x0098dbfa
0098dbf7 : LEA ECX,[EBP + -0x44]
0098dbfa : MOV ESI,dword ptr [EAX]
0098dbfc : PUSH EDX
0098dbfd : MOV EDX,dword ptr [ESI + 0x4]
0098dc00 : PUSH ECX
0098dc01 : PUSH 0xc84648
0098dc06 : PUSH 0xc84650
0098dc0b : PUSH EAX
0098dc0c : CALL EDX
0098dc0e : ADD ESP,0x14
0098dc11 : MOV EAX,[0x00da9894]
0098dc16 : MOV EAX,dword ptr [EAX]
0098dc18 : CMP EAX,EBX
0098dc1a : JZ 0x0098dc54
0098dc1c : CMP dword ptr [EAX + 0x1a0],EBX
0098dc22 : JZ 0x0098dc54
0098dc24 : MOV ESI,dword ptr [EAX + 0x1a0]
0098dc2a : CMP dword ptr [EAX + 0x114],EBX
0098dc30 : JZ 0x0098dc51
0098dc32 : MOV ECX,dword ptr [ESI + 0x3c]
0098dc35 : MOV EAX,dword ptr [EAX + 0x114]
0098dc3b : MOV EDX,dword ptr [EAX]
0098dc3d : PUSH ECX
0098dc3e : PUSH 0xc84664
0098dc43 : PUSH 0xc84668
0098dc48 : PUSH EAX
0098dc49 : MOV EAX,dword ptr [EDX + 0x4]
0098dc4c : CALL EAX
0098dc4e : ADD ESP,0x10
0098dc51 : MOV dword ptr [ESI + 0x3c],EBX
0098dc54 : MOV byte ptr [EBP + -0x4],0x7
0098dc58 : CMP dword ptr [EBP + -0x4c],EDI
0098dc5b : JC 0x0098dc65
0098dc5d : MOV ECX,dword ptr [EBP + -0x60]
0098dc60 : CALL 0x006f04e0
0098dc65 : MOV ESI,0x7
0098dc6a : XOR ECX,ECX
0098dc6c : MOV dword ptr [EBP + -0x4c],ESI
0098dc6f : MOV dword ptr [EBP + -0x50],EBX
0098dc72 : MOV word ptr [EBP + -0x60],CX
0098dc76 : MOV byte ptr [EBP + -0x4],0x5
0098dc7a : CMP dword ptr [EBP + -0x30],EDI
0098dc7d : JC 0x0098dc87
0098dc7f : MOV ECX,dword ptr [EBP + -0x44]
0098dc82 : CALL 0x006f04e0
0098dc87 : XOR EDX,EDX
0098dc89 : MOV dword ptr [EBP + -0x30],ESI
0098dc8c : MOV dword ptr [EBP + -0x34],EBX
0098dc8f : MOV word ptr [EBP + -0x44],DX
0098dc93 : MOV byte ptr [EBP + -0x4],0x4
0098dc97 : CMP dword ptr [EBP + -0x14],EDI
0098dc9a : JC 0x0098dca4
0098dc9c : MOV ECX,dword ptr [EBP + -0x28]
0098dc9f : CALL 0x006f04e0
0098dca4 : XOR EAX,EAX
0098dca6 : MOV dword ptr [EBP + -0x14],ESI
0098dca9 : MOV dword ptr [EBP + -0x18],EBX
0098dcac : MOV word ptr [EBP + -0x28],AX
0098dcb0 : MOV byte ptr [EBP + -0x4],0x3
0098dcb4 : CMP dword ptr [EBP + -0x68],EDI
0098dcb7 : JC 0x0098dcc1
0098dcb9 : MOV ECX,dword ptr [EBP + -0x7c]
0098dcbc : CALL 0x006f04e0
0098dcc1 : XOR ECX,ECX
0098dcc3 : MOV dword ptr [EBP + -0x68],ESI
0098dcc6 : MOV dword ptr [EBP + -0x6c],EBX
0098dcc9 : MOV word ptr [EBP + -0x7c],CX
0098dccd : MOV byte ptr [EBP + -0x4],0x2
0098dcd1 : CMP dword ptr [EBP + 0xffffff44],EDI
0098dcd7 : JC 0x0098dce4
0098dcd9 : MOV ECX,dword ptr [EBP + 0xffffff30]
0098dcdf : CALL 0x006f04e0
0098dce4 : XOR EDX,EDX
0098dce6 : MOV dword ptr [EBP + 0xffffff44],ESI
0098dcec : MOV dword ptr [EBP + 0xffffff40],EBX
0098dcf2 : MOV word ptr [EBP + 0xffffff30],DX
0098dcf9 : MOV byte ptr [EBP + -0x4],0x1
0098dcfd : CMP dword ptr [EBP + 0xffffff7c],EDI
0098dd03 : JC 0x0098dd10
0098dd05 : MOV ECX,dword ptr [EBP + 0xffffff68]
0098dd0b : CALL 0x006f04e0
0098dd10 : XOR EAX,EAX
0098dd12 : MOV dword ptr [EBP + 0xffffff7c],ESI
0098dd18 : MOV dword ptr [EBP + 0xffffff78],EBX
0098dd1e : MOV word ptr [EBP + 0xffffff68],AX
0098dd25 : MOV dword ptr [EBP + -0x4],0xffffffff
0098dd2c : CMP dword ptr [EBP + 0xffffff60],EDI
0098dd32 : JC 0x0098dd3f
0098dd34 : MOV ECX,dword ptr [EBP + 0xffffff4c]
0098dd3a : CALL 0x006f04e0
0098dd3f : XOR ECX,ECX
0098dd41 : MOV dword ptr [EBP + 0xffffff60],ESI
0098dd47 : MOV dword ptr [EBP + 0xffffff5c],EBX
0098dd4d : MOV word ptr [EBP + 0xffffff4c],CX
0098dd54 : MOV ECX,dword ptr [EBP + -0xc]
0098dd57 : MOV dword ptr FS:[0x0],ECX
0098dd5e : POP ECX
0098dd5f : POP EDI
0098dd60 : POP ESI
0098dd61 : POP EBX
0098dd62 : MOV ECX,dword ptr [EBP + -0x10]
0098dd65 : XOR ECX,EBP
0098dd67 : CALL 0x00633e6b
0098dd6c : MOV ESP,EBP
0098dd6e : POP EBP
0098dd6f : RET
