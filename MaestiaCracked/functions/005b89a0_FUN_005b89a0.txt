PROGRAM  : Maestia.exe
FUNCTION : FUN_005b89a0
ENTRY    : 005b89a0
BODY     : [[005b89a0, 005b8a18]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005b89a0(void)

{
  undefined4 *in_ECX;
  int iVar1;
  undefined4 *puVar2;
  
  *in_ECX = &PTR_FUN_00b907d0;
  in_ECX[3] = &PTR_LAB_00b907c4;
  in_ECX[0x1a] = &PTR_LAB_00b90770;
  FUN_00515cf0(in_ECX[0x28]);
  if (in_ECX[0x2f] != 0) {
    FUN_00503db0();
  }
  iVar1 = in_ECX[0x2a];
  puVar2 = (undefined4 *)(in_ECX[0x29] + -4 + iVar1 * 4);
  for (; iVar1 != 0; iVar1 = iVar1 + -1) {
    if ((GRefCountNTSImpl *)*puVar2 != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release((GRefCountNTSImpl *)*puVar2);
    }
    puVar2 = puVar2 + -1;
  }
  FUN_00515cf0(in_ECX[0x29]);
  FUN_00522630();
  return;
}



============================================================
DISASSEMBLY
============================================================
005b89a0 : PUSH ESI
005b89a1 : MOV ESI,ECX
005b89a3 : MOV EAX,dword ptr [ESI + 0xa0]
005b89a9 : PUSH EDI
005b89aa : PUSH EAX
005b89ab : MOV dword ptr [ESI],0xb907d0
005b89b1 : MOV dword ptr [ESI + 0xc],0xb907c4
005b89b8 : MOV dword ptr [ESI + 0x68],0xb90770
005b89bf : CALL 0x00515cf0
005b89c4 : MOV ECX,dword ptr [ESI + 0xbc]
005b89ca : TEST ECX,ECX
005b89cc : JZ 0x005b89d3
005b89ce : CALL 0x00503db0
005b89d3 : MOV EAX,dword ptr [ESI + 0xa8]
005b89d9 : MOV ECX,dword ptr [ESI + 0xa4]
005b89df : LEA EDI,[ECX + EAX*0x4 + -0x4]
005b89e3 : TEST EAX,EAX
005b89e5 : JBE 0x005b8a04
005b89e7 : PUSH EBX
005b89e8 : MOV EBX,EAX
005b89ea : LEA EBX,[EBX]
005b89f0 : MOV ECX,dword ptr [EDI]
005b89f2 : TEST ECX,ECX
005b89f4 : JZ 0x005b89fb
005b89f6 : CALL 0x004ff7c0
005b89fb : SUB EDI,0x4
005b89fe : SUB EBX,0x1
005b8a01 : JNZ 0x005b89f0
005b8a03 : POP EBX
005b8a04 : MOV EDX,dword ptr [ESI + 0xa4]
005b8a0a : PUSH EDX
005b8a0b : CALL 0x00515cf0
005b8a10 : POP EDI
005b8a11 : MOV ECX,ESI
005b8a13 : POP ESI
005b8a14 : JMP 0x00522630
