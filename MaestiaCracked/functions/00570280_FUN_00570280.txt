PROGRAM  : Maestia.exe
FUNCTION : FUN_00570280
ENTRY    : 00570280
BODY     : [[00570280, 005702ed]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_00570280(uint *param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  int *in_ECX;
  uint *puVar3;
  
  iVar1 = *in_ECX;
  puVar3 = (uint *)(iVar1 + 8 + param_2 * 0x1c);
  if ((*(int *)(iVar1 + 8 + param_2 * 0x1c) != -2) &&
     (uVar2 = param_2, (*(uint *)(puVar3[1] + 0xc) & *(uint *)(iVar1 + 4)) == param_2)) {
    while (((*(uint *)(puVar3[1] + 0xc) & *(uint *)(iVar1 + 4)) != param_2 ||
           (puVar3[1] != *param_1))) {
      uVar2 = *puVar3;
      if (uVar2 == 0xffffffff) {
        return 0xffffffff;
      }
      puVar3 = (uint *)(iVar1 + 8 + uVar2 * 0x1c);
    }
    return uVar2;
  }
  return 0xffffffff;
}



============================================================
DISASSEMBLY
============================================================
00570280 : PUSH EBX
00570281 : PUSH ESI
00570282 : MOV ESI,dword ptr [ESP + 0x10]
00570286 : PUSH EDI
00570287 : MOV EDI,dword ptr [ECX]
00570289 : LEA ECX,[ESI*0x8 + 0x0]
00570290 : SUB ECX,ESI
00570292 : CMP dword ptr [EDI + ECX*0x4 + 0x8],-0x2
00570297 : LEA ECX,[EDI + ECX*0x4 + 0x8]
0057029b : MOV EAX,ESI
0057029d : JZ 0x005702e5
0057029f : MOV EDX,dword ptr [ECX + 0x4]
005702a2 : MOV EBX,dword ptr [EDI + 0x4]
005702a5 : MOV EDX,dword ptr [EDX + 0xc]
005702a8 : AND EDX,EBX
005702aa : CMP EDX,ESI
005702ac : JNZ 0x005702e5
005702ae : PUSH EBP
005702af : NOP
005702b0 : MOV EDX,dword ptr [ECX + 0x4]
005702b3 : MOV EBP,dword ptr [EDX + 0xc]
005702b6 : AND EBP,EBX
005702b8 : CMP EBP,ESI
005702ba : JNZ 0x005702c5
005702bc : MOV EBP,dword ptr [ESP + 0x14]
005702c0 : CMP EDX,dword ptr [EBP]
005702c3 : JZ 0x005702de
005702c5 : MOV EAX,dword ptr [ECX]
005702c7 : CMP EAX,-0x1
005702ca : JZ 0x005702db
005702cc : LEA ECX,[EAX*0x8 + 0x0]
005702d3 : SUB ECX,EAX
005702d5 : LEA ECX,[EDI + ECX*0x4 + 0x8]
005702d9 : JMP 0x005702b0
005702db : OR EAX,0xffffffff
005702de : POP EBP
005702df : POP EDI
005702e0 : POP ESI
005702e1 : POP EBX
005702e2 : RET 0x8
005702e5 : POP EDI
005702e6 : POP ESI
005702e7 : OR EAX,0xffffffff
005702ea : POP EBX
005702eb : RET 0x8
