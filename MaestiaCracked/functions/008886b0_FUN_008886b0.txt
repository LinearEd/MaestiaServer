PROGRAM  : Maestia.exe
FUNCTION : FUN_008886b0
ENTRY    : 008886b0
BODY     : [[008886b0, 0088885e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008886b0(void)

{
  int *piVar1;
  float fVar2;
  DWORD DVar3;
  uint uVar4;
  int *unaff_ESI;
  float10 fVar5;
  float fVar6;
  float local_14;
  float local_10;
  float local_c;
  float local_8;
  
  if (((char)unaff_ESI[0x50c] != '\0') && (unaff_ESI[0xfa] != 0)) {
    DVar3 = timeGetTime();
    uVar4 = DVar3 - unaff_ESI[0x50b];
    if (uVar4 < 1000000) {
      local_8 = (float)(int)uVar4;
      if ((int)uVar4 < 0) {
        local_8 = local_8 + 4.2949673e+09;
      }
      fVar2 = (float)unaff_ESI[0x50a];
      if (unaff_ESI[0x50a] < 0) {
        fVar2 = fVar2 + 4.2949673e+09;
      }
      local_8 = local_8 / fVar2;
      if (1.0 < local_8) {
        *(undefined1 *)(unaff_ESI + 0x50c) = 0;
        (**(code **)(*(int *)(*(int *)(unaff_ESI[0x4e] + 4) + 0x138 + (int)unaff_ESI) + 0x10))
                  (unaff_ESI + 0x1b6,1,1,0);
        piVar1 = unaff_ESI + 0x504;
        (**(code **)(*unaff_ESI + 0x2a0))(piVar1,1);
        unaff_ESI[0x560] = *piVar1;
        unaff_ESI[0x561] = unaff_ESI[0x505];
        unaff_ESI[0x562] = unaff_ESI[0x506];
        *piVar1 = DAT_01720f20;
        unaff_ESI[0x505] = DAT_01720f24;
        unaff_ESI[0x506] = DAT_01720f28;
        (**(code **)(*unaff_ESI + 0x338))(1);
      }
      fVar2 = (float)unaff_ESI[0x502];
      fVar6 = (float)unaff_ESI[0x508] * local_8;
      local_14 = (float)unaff_ESI[0x507] * local_8 + (float)unaff_ESI[0x501];
      local_c = (float)unaff_ESI[0x503] + (float)unaff_ESI[0x509] * local_8;
      fVar5 = (float10)FUN_0040e8d0(local_8 * 2.0 - 1.0);
      local_10 = (float)(((float10)1 - fVar5) * (float10)10.0 + (float10)(fVar2 + fVar6));
      (**(code **)(*unaff_ESI + 0x2a0))(&local_14,1);
      (**(code **)(*unaff_ESI + 0x338))(1);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
008886b0 : PUSH EBP
008886b1 : MOV EBP,ESP
008886b3 : SUB ESP,0x1c
008886b6 : CMP byte ptr [ESI + 0x1430],0x0
008886bd : JZ 0x0088885b
008886c3 : CMP dword ptr [ESI + 0x3e8],0x0
008886ca : JZ 0x0088885b
008886d0 : CALL dword ptr [0x00b85598]
008886d6 : SUB EAX,dword ptr [ESI + 0x142c]
008886dc : CMP EAX,0xf423f
008886e1 : JA 0x0088885b
008886e7 : MOV dword ptr [EBP + -0x4],EAX
008886ea : FILD dword ptr [EBP + -0x4]
008886ed : TEST EAX,EAX
008886ef : JGE 0x008886f7
008886f1 : FADD float ptr [0x00cdf0e0]
008886f7 : MOV EAX,dword ptr [ESI + 0x1428]
008886fd : FILD dword ptr [ESI + 0x1428]
00888703 : TEST EAX,EAX
00888705 : JGE 0x0088870d
00888707 : FADD float ptr [0x00cdf0e0]
0088870d : FDIVP
0088870f : FST float ptr [EBP + -0x4]
00888712 : FLD1
00888714 : FXCH
00888716 : FCOMIP ST0,ST1
00888718 : FSTP ST0
0088871a : JBE 0x008887b5
00888720 : MOV ECX,dword ptr [ESI + 0x138]
00888726 : PUSH EDI
00888727 : MOV byte ptr [ESI + 0x1430],0x0
0088872e : MOV EDX,dword ptr [ECX + 0x4]
00888731 : MOV EAX,dword ptr [EDX + ESI*0x1 + 0x138]
00888738 : MOV EAX,dword ptr [EAX + 0x10]
0088873b : PUSH 0x0
0088873d : LEA ECX,[EDX + ESI*0x1 + 0x138]
00888744 : PUSH 0x1
00888746 : PUSH 0x1
00888748 : LEA EDX,[ESI + 0x6d8]
0088874e : PUSH EDX
0088874f : CALL EAX
00888751 : MOV EDX,dword ptr [ESI]
00888753 : MOV EAX,dword ptr [EDX + 0x2a0]
00888759 : PUSH 0x1
0088875b : LEA EDI,[ESI + 0x1410]
00888761 : PUSH EDI
00888762 : MOV ECX,ESI
00888764 : CALL EAX
00888766 : FLD float ptr [EDI]
00888768 : FSTP float ptr [ESI + 0x1580]
0088876e : PUSH 0x1
00888770 : FLD float ptr [EDI + 0x4]
00888773 : MOV ECX,ESI
00888775 : FSTP float ptr [ESI + 0x1584]
0088877b : FLD float ptr [EDI + 0x8]
0088877e : FSTP float ptr [ESI + 0x1588]
00888784 : MOVSS XMM0,dword ptr [0x01720f20]
0088878c : MOVSS dword ptr [EDI],XMM0
00888790 : MOVSS XMM0,dword ptr [0x01720f24]
00888798 : MOVSS dword ptr [EDI + 0x4],XMM0
0088879d : MOVSS XMM0,dword ptr [0x01720f28]
008887a5 : MOVSS dword ptr [EDI + 0x8],XMM0
008887aa : MOV EDX,dword ptr [ESI]
008887ac : MOV EAX,dword ptr [EDX + 0x338]
008887b2 : CALL EAX
008887b4 : POP EDI
008887b5 : MOVSS XMM0,dword ptr [EBP + -0x4]
008887ba : MOVSS XMM2,dword ptr [ESI + 0x1420]
008887c2 : MOVSS XMM1,dword ptr [ESI + 0x141c]
008887ca : MOVSS XMM3,dword ptr [ESI + 0x1424]
008887d2 : MOVSS XMM4,dword ptr [ESI + 0x1408]
008887da : MULSS XMM2,XMM0
008887de : MULSS XMM1,XMM0
008887e2 : ADDSS XMM1,dword ptr [ESI + 0x1404]
008887ea : MULSS XMM3,XMM0
008887ee : MULSS XMM0,dword ptr [0x00cdf144]
008887f6 : SUBSS XMM0,dword ptr [0x00c10fc4]
008887fe : ADDSS XMM4,XMM2
00888802 : MOVSS XMM2,dword ptr [ESI + 0x140c]
0088880a : PUSH ECX
0088880b : ADDSS XMM2,XMM3
0088880f : MOVSS dword ptr [EBP + -0x18],XMM4
00888814 : MOVSS dword ptr [EBP + -0x10],XMM1
00888819 : MOVSS dword ptr [EBP + -0x8],XMM2
0088881e : MOVSS dword ptr [ESP],XMM0
00888823 : CALL 0x0040e8d0
00888828 : FLD1
0088882a : MOV EDX,dword ptr [ESI]
0088882c : FSUBRP
0088882e : MOV EDX,dword ptr [EDX + 0x2a0]
00888834 : ADD ESP,0x4
00888837 : PUSH 0x1
00888839 : FMUL float ptr [0x00c18874]
0088883f : LEA EAX,[EBP + -0x10]
00888842 : PUSH EAX
00888843 : MOV ECX,ESI
00888845 : FADD float ptr [EBP + -0x18]
00888848 : FSTP float ptr [EBP + -0xc]
0088884b : CALL EDX
0088884d : MOV EAX,dword ptr [ESI]
0088884f : MOV EDX,dword ptr [EAX + 0x338]
00888855 : PUSH 0x1
00888857 : MOV ECX,ESI
00888859 : CALL EDX
0088885b : MOV ESP,EBP
0088885d : POP EBP
0088885e : RET
