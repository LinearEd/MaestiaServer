PROGRAM  : Maestia.exe
FUNCTION : FUN_006d8a00
ENTRY    : 006d8a00
BODY     : [[006d8a00, 006d8a9f]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_006d8a00(int *param_1,int param_2,uint param_3)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  
  iVar1 = param_1[1];
  if (0x3b9ac9f0 < param_3) {
    FUN_006d88b0(3);
  }
  if ((param_3 & 7) != 0) {
    param_3 = param_3 + (8 - (param_3 & 7));
  }
  if ((param_2 < 0) || (1 < param_2)) {
    *(undefined4 *)(*param_1 + 0x14) = 0xe;
    *(int *)(*param_1 + 0x18) = param_2;
    (**(code **)*param_1)(param_1);
  }
  puVar3 = (undefined4 *)FUN_006df300(param_1,param_3 + 0x10);
  if (puVar3 == (undefined4 *)0x0) {
    FUN_006d88b0(4);
  }
  *(int *)(iVar1 + 0x4c) = *(int *)(iVar1 + 0x4c) + param_3 + 0x10;
  uVar2 = *(undefined4 *)(iVar1 + 0x3c + param_2 * 4);
  puVar3[1] = param_3;
  *puVar3 = uVar2;
  puVar3[2] = 0;
  *(undefined4 **)(iVar1 + 0x3c + param_2 * 4) = puVar3;
  return puVar3 + 4;
}



============================================================
DISASSEMBLY
============================================================
006d8a00 : PUSH EBX
006d8a01 : PUSH EBP
006d8a02 : MOV EBP,dword ptr [ESP + 0xc]
006d8a06 : MOV EBX,dword ptr [EBP + 0x4]
006d8a09 : PUSH ESI
006d8a0a : PUSH EDI
006d8a0b : MOV EDI,dword ptr [ESP + 0x1c]
006d8a0f : CMP EDI,0x3b9ac9f0
006d8a15 : JBE 0x006d8a23
006d8a17 : PUSH 0x3
006d8a19 : MOV EAX,EBP
006d8a1b : CALL 0x006d88b0
006d8a20 : ADD ESP,0x4
006d8a23 : MOV EAX,EDI
006d8a25 : AND EAX,0x7
006d8a28 : JBE 0x006d8a33
006d8a2a : MOV ECX,0x8
006d8a2f : SUB ECX,EAX
006d8a31 : ADD EDI,ECX
006d8a33 : MOV EAX,dword ptr [ESP + 0x18]
006d8a37 : TEST EAX,EAX
006d8a39 : JL 0x006d8a40
006d8a3b : CMP EAX,0x2
006d8a3e : JL 0x006d8a5b
006d8a40 : MOV EDX,dword ptr [EBP]
006d8a43 : MOV dword ptr [EDX + 0x14],0xe
006d8a4a : MOV ECX,dword ptr [EBP]
006d8a4d : MOV dword ptr [ECX + 0x18],EAX
006d8a50 : MOV EDX,dword ptr [EBP]
006d8a53 : MOV EAX,dword ptr [EDX]
006d8a55 : PUSH EBP
006d8a56 : CALL EAX
006d8a58 : ADD ESP,0x4
006d8a5b : LEA ECX,[EDI + 0x10]
006d8a5e : PUSH ECX
006d8a5f : PUSH EBP
006d8a60 : CALL 0x006df300
006d8a65 : MOV ESI,EAX
006d8a67 : ADD ESP,0x8
006d8a6a : TEST ESI,ESI
006d8a6c : JNZ 0x006d8a7a
006d8a6e : PUSH 0x4
006d8a70 : MOV EAX,EBP
006d8a72 : CALL 0x006d88b0
006d8a77 : ADD ESP,0x4
006d8a7a : MOV EAX,dword ptr [ESP + 0x18]
006d8a7e : LEA EDX,[EDI + 0x10]
006d8a81 : ADD dword ptr [EBX + 0x4c],EDX
006d8a84 : MOV ECX,dword ptr [EBX + EAX*0x4 + 0x3c]
006d8a88 : MOV dword ptr [ESI + 0x4],EDI
006d8a8b : MOV dword ptr [ESI],ECX
006d8a8d : MOV dword ptr [ESI + 0x8],0x0
006d8a94 : MOV dword ptr [EBX + EAX*0x4 + 0x3c],ESI
006d8a98 : POP EDI
006d8a99 : LEA EAX,[ESI + 0x10]
006d8a9c : POP ESI
006d8a9d : POP EBP
006d8a9e : POP EBX
006d8a9f : RET
