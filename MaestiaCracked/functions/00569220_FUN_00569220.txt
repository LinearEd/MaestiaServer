PROGRAM  : Maestia.exe
FUNCTION : FUN_00569220
ENTRY    : 00569220
BODY     : [[00569220, 00569318]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00569220(int param_1,int param_2,undefined4 param_3,undefined4 param_4,int param_5,
                 int param_6)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  int *piVar4;
  undefined4 uVar5;
  undefined4 *in_ECX;
  
  FUN_00551210(param_1);
  *in_ECX = &PTR_LAB_00b8cfa8;
  in_ECX[4] = &PTR_LAB_00b8cf50;
  in_ECX[0xc] = 0;
  in_ECX[0xd] = 0;
  if (param_2 != 0) {
    *(int *)(param_2 + 4) = *(int *)(param_2 + 4) + 1;
  }
  in_ECX[0xe] = param_2;
  in_ECX[0xf] = 0;
  in_ECX[0x10] = 0;
  in_ECX[0x11] = 0;
  in_ECX[0x12] = param_3;
  in_ECX[0x13] = param_4;
  iVar2 = *(int *)(*(int *)(param_1 + 0x78) + 8);
  *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1;
  in_ECX[0x14] = 0;
  in_ECX[0x15] = 0;
  in_ECX[0x16] = 0;
  in_ECX[0x17] = 0;
  in_ECX[0x18] = iVar2;
  *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1;
  piVar1 = (int *)(iVar2 + 8);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    FUN_00525340();
  }
  *(undefined2 *)(in_ECX + 0x19) = 0;
  *(char *)((int)in_ECX + 0x66) = (char)param_6;
  *(undefined1 *)((int)in_ECX + 0x67) = 0;
  if (param_5 != 0) {
    FUN_00568e70(param_5);
  }
  if ((param_6 != 3) && (param_6 != 4)) {
    piVar1 = *(int **)(param_1 + 0x74);
    piVar4 = (int *)piVar1[0x20];
    if (piVar4 == (int *)0x0) {
      piVar4 = (int *)FUN_00520df0();
    }
    if (piVar4 != (int *)0x0) {
      *piVar4 = *piVar4 + 1;
    }
    piVar3 = (int *)in_ECX[0xd];
    if ((piVar3 != (int *)0x0) && (*piVar3 = *piVar3 + -1, *piVar3 < 1)) {
      FUN_0051d070();
      FUN_00515cf0(piVar3);
    }
    in_ECX[0xd] = piVar4;
    uVar5 = (**(code **)(*piVar1 + 0x40))();
    in_ECX[0xc] = uVar5;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00569220 : PUSH EBX
00569221 : PUSH EBP
00569222 : MOV EBP,dword ptr [ESP + 0xc]
00569226 : PUSH ESI
00569227 : PUSH EDI
00569228 : PUSH EBP
00569229 : MOV ESI,ECX
0056922b : CALL 0x00551210
00569230 : MOV EAX,dword ptr [ESP + 0x18]
00569234 : XOR EBX,EBX
00569236 : MOV dword ptr [ESI],0xb8cfa8
0056923c : MOV dword ptr [ESI + 0x10],0xb8cf50
00569243 : MOV dword ptr [ESI + 0x30],EBX
00569246 : MOV dword ptr [ESI + 0x34],EBX
00569249 : CMP EAX,EBX
0056924b : JZ 0x00569250
0056924d : INC dword ptr [EAX + 0x4]
00569250 : MOV ECX,dword ptr [ESP + 0x20]
00569254 : MOV dword ptr [ESI + 0x38],EAX
00569257 : MOV EAX,dword ptr [ESP + 0x1c]
0056925b : MOV dword ptr [ESI + 0x3c],EBX
0056925e : MOV dword ptr [ESI + 0x40],EBX
00569261 : MOV dword ptr [ESI + 0x44],EBX
00569264 : MOV dword ptr [ESI + 0x48],EAX
00569267 : MOV dword ptr [ESI + 0x4c],ECX
0056926a : MOV EDX,dword ptr [EBP + 0x78]
0056926d : MOV ECX,dword ptr [EDX + 0x8]
00569270 : LEA EDI,[ESI + 0x3c]
00569273 : MOV EAX,0x1
00569278 : ADD dword ptr [ECX + 0x8],EAX
0056927b : MOV dword ptr [ESI + 0x50],EBX
0056927e : MOV dword ptr [ESI + 0x54],EBX
00569281 : MOV dword ptr [ESI + 0x58],EBX
00569284 : MOV dword ptr [ESI + 0x5c],EBX
00569287 : MOV dword ptr [ESI + 0x60],ECX
0056928a : ADD dword ptr [ECX + 0x8],EAX
0056928d : ADD dword ptr [ECX + 0x8],-0x1
00569291 : JNZ 0x00569298
00569293 : CALL 0x00525340
00569298 : MOV ECX,dword ptr [ESP + 0x24]
0056929c : XOR EAX,EAX
0056929e : MOV word ptr [ESI + 0x64],AX
005692a2 : MOV EAX,dword ptr [ESP + 0x28]
005692a6 : MOV byte ptr [ESI + 0x66],AL
005692a9 : MOV byte ptr [ESI + 0x67],BL
005692ac : CMP ECX,EBX
005692ae : JZ 0x005692bc
005692b0 : PUSH ECX
005692b1 : MOV ECX,EDI
005692b3 : CALL 0x00568e70
005692b8 : MOV EAX,dword ptr [ESP + 0x28]
005692bc : CMP EAX,0x3
005692bf : JZ 0x00569310
005692c1 : CMP EAX,0x4
005692c4 : JZ 0x00569310
005692c6 : MOV ECX,dword ptr [EBP + 0x74]
005692c9 : MOV EAX,dword ptr [ECX + 0x80]
005692cf : MOV dword ptr [ESP + 0x28],ECX
005692d3 : CMP EAX,EBX
005692d5 : JNZ 0x005692dc
005692d7 : CALL 0x00520df0
005692dc : MOV EBP,EAX
005692de : CMP EBP,EBX
005692e0 : JZ 0x005692e5
005692e2 : INC dword ptr [EBP]
005692e5 : MOV EDI,dword ptr [ESI + 0x34]
005692e8 : CMP EDI,EBX
005692ea : JZ 0x005692ff
005692ec : DEC dword ptr [EDI]
005692ee : CMP dword ptr [EDI],EBX
005692f0 : JG 0x005692ff
005692f2 : MOV ECX,EDI
005692f4 : CALL 0x0051d070
005692f9 : PUSH EDI
005692fa : CALL 0x00515cf0
005692ff : MOV ECX,dword ptr [ESP + 0x28]
00569303 : MOV dword ptr [ESI + 0x34],EBP
00569306 : MOV EDX,dword ptr [ECX]
00569308 : MOV EAX,dword ptr [EDX + 0x40]
0056930b : CALL EAX
0056930d : MOV dword ptr [ESI + 0x30],EAX
00569310 : POP EDI
00569311 : MOV EAX,ESI
00569313 : POP ESI
00569314 : POP EBP
00569315 : POP EBX
00569316 : RET 0x18
