PROGRAM  : Maestia.exe
FUNCTION : FUN_00b0abbf
ENTRY    : 00b0abbf
BODY     : [[00b0abbf, 00b0b061]]

============================================================
DECOMPILED C CODE
============================================================

ulonglong FUN_00b0abbf(void)

{
  undefined1 auVar1 [12];
  uint uVar2;
  uint uVar3;
  uint in_XMM0_Da;
  uint in_XMM0_Db;
  uint in_XMM0_Dd;
  double dVar4;
  
  uVar3 = in_XMM0_Db >> 0xc;
  uVar2 = uVar3 & 0x7ffff;
  if (uVar2 - 0x3fb00 < 0x3bb) {
    return CONCAT44((uVar3 & 0xfffc) - 0xfb00,uVar2 - 0x3fb00);
  }
  if (uVar2 - 0x3febb < 0x41) {
    dVar4 = (double)((ulonglong)(in_XMM0_Db >> 6) << 0x26);
    auVar1._4_4_ = in_XMM0_Db;
    auVar1._0_4_ = in_XMM0_Da;
    auVar1._8_4_ = in_XMM0_Dd >> 0xc;
    return CONCAT44(((ushort)((ulonglong)
                              ((longlong)
                               SQRT((1.0 - dVar4 * dVar4) -
                                    ((double)CONCAT44(in_XMM0_Db,in_XMM0_Da) + dVar4) *
                                    ((double)CONCAT44(in_XMM0_Db,in_XMM0_Da) - dVar4)) << 2) >> 0x30
                             ) - 0xfec0) * 2,-(uint)(SUB121(auVar1 >> 0x3f,0) & 1)) &
           0xffffffff00008000;
  }
  if (uVar2 - 0x3c300 < 0x3800) {
    return CONCAT44(uVar3,uVar2 - 0x3c300);
  }
  if (uVar2 - 0x3fefc < 4) {
    return CONCAT44(uVar3,in_XMM0_Db >> 0x10) & 0xffffffff00008000;
  }
  if (uVar2 < 0x3ff00) {
    return CONCAT44(uVar3,uVar3) & 0xffffffff0007ffff;
  }
  uVar3 = 0x3ff00000 - (in_XMM0_Db & 0x7fffffff) | in_XMM0_Da;
  if (uVar3 != 0) {
    if ((int)(((in_XMM0_Db & 0x7fffffff) + 0x80100000) - (uint)(in_XMM0_Da == 0)) < 0) {
      return CONCAT44(0x7ff0,uVar3);
    }
    return CONCAT44(in_XMM0_Da - 1,uVar3);
  }
  return (ulonglong)(uint)((int)in_XMM0_Db >> 0x1f) << 0x20;
}



============================================================
DISASSEMBLY
============================================================
00b0abbf : SUB ESP,0xc
00b0abc2 : MOVLPD XMM4,qword ptr [0x00ce37d0]
00b0abca : MOVLPD XMM3,qword ptr [0x00ce37e8]
00b0abd2 : MOVLPD qword ptr [ESP + 0x4],XMM0
00b0abd8 : XORPD XMM5,XMM5
00b0abdc : MOVLPD XMM2,qword ptr [0x00ce37e0]
00b0abe4 : MOVSD XMM1,XMM0
00b0abe8 : PSRLQ XMM0,0x2c
00b0abed : MOVD EDX,XMM0
00b0abf1 : MOVSD XMM7,XMM1
00b0abf5 : MOV ECX,0x2000
00b0abfa : PINSRW XMM5,ECX,0x2
00b0abff : MOVSD XMM0,XMM1
00b0ac03 : MOV EAX,0x7ffff
00b0ac08 : AND EAX,EDX
00b0ac0a : SUB EAX,0x3fb00
00b0ac0f : CMP EAX,0x3bb
00b0ac14 : JNC 0x00b0ace3
00b0ac1a : MULSD XMM1,XMM1
00b0ac1e : AND EDX,0xffff
00b0ac24 : SUBSD XMM3,XMM1
00b0ac28 : SQRTSD XMM3,XMM3
00b0ac2c : ANDPD XMM2,XMM7
00b0ac30 : AND EDX,0xfffffffc
00b0ac33 : SUB EDX,0xfb00
00b0ac39 : MOVLPD XMM1,qword ptr [EDX*0x2 + 0xce2f30]
00b0ac42 : ORPD XMM2,XMM5
00b0ac46 : MOVAPD XMM4,xmmword ptr [EDX*0x4 + 0xce2030]
00b0ac4f : MOVSD XMM6,XMM7
00b0ac53 : ADDSD XMM7,XMM2
00b0ac57 : SUBSD XMM0,XMM2
00b0ac5b : MULSD XMM7,XMM0
00b0ac5f : MULSD XMM6,XMM1
00b0ac63 : MULSD XMM3,XMM2
00b0ac67 : MOVSD XMM1,XMM6
00b0ac6b : ADDSD XMM6,XMM3
00b0ac6f : DIVSD XMM7,XMM6
00b0ac73 : MOVLPD XMM0,qword ptr [0x00ce3788]
00b0ac7b : MOVLPD XMM5,qword ptr [0x00ce3778]
00b0ac83 : SUBSD XMM1,XMM3
00b0ac87 : PSRLQ XMM2,0x3f
00b0ac8c : MOVSD XMM3,XMM1
00b0ac90 : PSLLQ XMM2,0x3f
00b0ac95 : MULSD XMM1,XMM1
00b0ac99 : PSHUFD XMM2,XMM2,0x44
00b0ac9e : MOVLPD XMM6,qword ptr [0x00ce3780]
00b0aca6 : MULSD XMM3,XMM1
00b0acaa : MULSD XMM0,XMM1
00b0acae : XORPD XMM4,XMM2
00b0acb2 : MULSD XMM5,XMM3
00b0acb6 : SUBPD XMM4,xmmword ptr [0x00ce3730]
00b0acbe : MULSD XMM3,XMM1
00b0acc2 : ADDSD XMM0,XMM6
00b0acc6 : MULSD XMM0,XMM3
00b0acca : SUBSD XMM5,XMM4
00b0acce : PSHUFD XMM4,XMM4,0xee
00b0acd3 : ADDSD XMM0,XMM5
00b0acd7 : SUBSD XMM0,XMM7
00b0acdb : ADD ESP,0xc
00b0acde : SUBSD XMM0,XMM4
00b0ace2 : RET
00b0ace3 : SUB EAX,0x3bb
00b0ace8 : CMP EAX,0x41
00b0aceb : JNC 0x00b0ae11
00b0acf1 : PSRLQ XMM7,0x26
00b0acf6 : PSLLQ XMM7,0x26
00b0acfb : PMOVMSKB EAX,XMM0
00b0acff : ANDNPD XMM4,XMM0
00b0ad03 : SUBSD XMM1,XMM7
00b0ad07 : MOVSD XMM6,XMM7
00b0ad0b : MULSD XMM7,XMM7
00b0ad0f : ADDSD XMM0,XMM6
00b0ad13 : ORPD XMM5,XMM4
00b0ad17 : SUBSD XMM3,XMM7
00b0ad1b : MULSD XMM0,XMM1
00b0ad1f : MOVSD XMM4,XMM3
00b0ad23 : SUBSD XMM3,XMM0
00b0ad27 : SQRTSD XMM3,XMM3
00b0ad2b : AND EAX,0x80
00b0ad30 : SHR EAX,0x7
00b0ad33 : NEG EAX
00b0ad35 : MOVSD XMM7,XMM3
00b0ad39 : ANDPD XMM2,XMM3
00b0ad3d : PSLLQ XMM3,0x2
00b0ad42 : PEXTRW EDX,XMM3,0x3
00b0ad47 : ORPD XMM2,XMM5
00b0ad4b : MOVD XMM3,EAX
00b0ad4f : PSHUFD XMM3,XMM3,0x0
00b0ad54 : SUB EDX,0xfec0
00b0ad5a : ADD EDX,EDX
00b0ad5c : MULSD XMM7,qword ptr [EDX*0x4 + 0xce2f30]
00b0ad65 : MULSD XMM6,XMM2
00b0ad69 : MULSD XMM1,XMM2
00b0ad6d : MULSD XMM2,XMM2
00b0ad71 : SUBSD XMM6,XMM7
00b0ad75 : ANDPD XMM3,xmmword ptr [0x00ce3740]
00b0ad7d : ADDSD XMM6,XMM1
00b0ad81 : SUBSD XMM4,XMM2
00b0ad85 : ADDSD XMM7,XMM7
00b0ad89 : MOVLPD XMM5,qword ptr [0x00ce3778]
00b0ad91 : SUBSD XMM4,XMM0
00b0ad95 : ADDSD XMM7,XMM6
00b0ad99 : MOVLPD XMM0,qword ptr [0x00ce3788]
00b0ada1 : DIVSD XMM4,XMM7
00b0ada5 : MOVLPD XMM2,qword ptr [0x00ce3780]
00b0adad : ADDPD XMM3,xmmword ptr [EDX*0x8 + 0xce2030]
00b0adb6 : MOVSD XMM1,XMM6
00b0adba : MULSD XMM6,XMM6
00b0adbe : MULSD XMM0,XMM6
00b0adc2 : MULSD XMM1,XMM6
00b0adc6 : MULSD XMM5,XMM1
00b0adca : MULSD XMM1,XMM6
00b0adce : ADDSD XMM0,XMM2
00b0add2 : PXOR XMM6,XMM6
00b0add6 : MULSD XMM0,XMM1
00b0adda : ADDSD XMM5,XMM3
00b0adde : ADDSD XMM0,XMM5
00b0ade2 : AND EAX,0x8000
00b0ade7 : PINSRW XMM6,EAX,0x3
00b0adec : MOVSD XMM5,XMM4
00b0adf0 : PSHUFD XMM3,XMM3,0xee
00b0adf5 : ADDSD XMM4,XMM3
00b0adf9 : SUBSD XMM3,XMM4
00b0adfd : ADDSD XMM5,XMM3
00b0ae01 : ADDSD XMM0,XMM5
00b0ae05 : ADDSD XMM0,XMM4
00b0ae09 : ADD ESP,0xc
00b0ae0c : XORPD XMM0,XMM6
00b0ae10 : RET
00b0ae11 : ADD EAX,0x3bbb
00b0ae16 : CMP EAX,0x3800
00b0ae1b : JNC 0x00b0aea4
00b0ae21 : UNPCKLPD XMM0,XMM0
00b0ae25 : MOVAPD XMM6,xmmword ptr [0x00ce3790]
00b0ae2d : UNPCKLPD XMM1,XMM0
00b0ae31 : MOVAPD XMM2,xmmword ptr [0x00ce37a0]
00b0ae39 : MOVAPD XMM4,xmmword ptr [0x00ce37b0]
00b0ae41 : MULPD XMM0,XMM0
00b0ae45 : MOVAPD XMM5,xmmword ptr [0x00ce3730]
00b0ae4d : MULPD XMM1,XMM0
00b0ae51 : MULPD XMM6,XMM0
00b0ae55 : MULPD XMM0,XMM0
00b0ae59 : MOVSD XMM3,XMM1
00b0ae5d : MULSD XMM1,XMM1
00b0ae61 : ADDPD XMM6,XMM2
00b0ae65 : MULPD XMM4,XMM0
00b0ae69 : MULSD XMM1,XMM3
00b0ae6d : ADDPD XMM6,XMM4
00b0ae71 : PSHUFD XMM0,XMM5,0xee
00b0ae76 : MULPD XMM1,XMM6
00b0ae7a : PSHUFD XMM6,XMM5,0xee
00b0ae7f : SUBSD XMM0,XMM7
00b0ae83 : PSHUFD XMM2,XMM1,0xee
00b0ae88 : SUBSD XMM5,XMM1
00b0ae8c : SUBSD XMM6,XMM0
00b0ae90 : SUBSD XMM5,XMM2
00b0ae94 : SUBSD XMM7,XMM6
00b0ae98 : ADD ESP,0xc
00b0ae9b : SUBSD XMM5,XMM7
00b0ae9f : ADDSD XMM0,XMM5
00b0aea3 : RET
00b0aea4 : SUB EAX,0x3bfc
00b0aea9 : CMP EAX,0x4
00b0aeac : JNC 0x00b0af99
00b0aeb2 : XORPD XMM6,XMM6
00b0aeb6 : ANDPD XMM7,xmmword ptr [0x00ce37d0]
00b0aebe : MOVLPD XMM4,qword ptr [0x00ce37f0]
00b0aec6 : MOVAPD XMM1,xmmword ptr [0x00ce3790]
00b0aece : MULSD XMM7,XMM4
00b0aed2 : MOVAPD XMM2,xmmword ptr [0x00ce37a0]
00b0aeda : SUBSD XMM4,XMM7
00b0aede : MOVAPD XMM3,xmmword ptr [0x00ce37b0]
00b0aee6 : PSHUFD XMM7,XMM4,0x44
00b0aeeb : SQRTSD XMM4,XMM4
00b0aeef : MULPD XMM1,XMM7
00b0aef3 : PSHUFD XMM5,XMM7,0x44
00b0aef8 : PEXTRW EAX,XMM0,0x3
00b0aefd : MULPD XMM7,XMM7
00b0af01 : ADDPD XMM2,XMM1
00b0af05 : MOVLPD XMM1,qword ptr [0x00ce3760]
00b0af0d : MULPD XMM3,XMM7
00b0af11 : CMPLTSD XMM0,XMM6
00b0af16 : MULSD XMM7,XMM5
00b0af1a : ADDPD XMM2,XMM3
00b0af1e : PSHUFD XMM0,XMM0,0x44
00b0af23 : MULSD XMM2,XMM7
00b0af27 : ANDPD XMM0,xmmword ptr [0x00ce3740]
00b0af2f : MULPD XMM2,XMM5
00b0af33 : ANDPD XMM1,XMM4
00b0af37 : PSHUFD XMM3,XMM4,0x44
00b0af3c : SUBSD XMM4,XMM1
00b0af40 : ADDSD XMM3,XMM3
00b0af44 : MULSD XMM1,XMM1
00b0af48 : SUBSD XMM3,XMM4
00b0af4c : SUBSD XMM5,XMM1
00b0af50 : MULSD XMM4,XMM3
00b0af54 : PSHUFD XMM3,XMM3,0xee
00b0af59 : SUBSD XMM5,XMM4
00b0af5d : DIVSD XMM5,XMM3
00b0af61 : ADDPD XMM3,XMM3
00b0af65 : MULPD XMM2,XMM3
00b0af69 : PSHUFD XMM4,XMM2,0xee
00b0af6e : ADDSD XMM2,XMM0
00b0af72 : AND EAX,0x8000
00b0af77 : PINSRW XMM6,EAX,0x3
00b0af7c : PSHUFD XMM0,XMM0,0xee
00b0af81 : ADDSD XMM2,XMM4
00b0af85 : ADDSD XMM2,XMM5
00b0af89 : ADDSD XMM2,XMM3
00b0af8d : ADDSD XMM0,XMM2
00b0af91 : ADD ESP,0xc
00b0af94 : XORPD XMM0,XMM6
00b0af98 : RET
00b0af99 : ADD EAX,0x3fefc
00b0af9e : CMP EAX,0x3ff00
00b0afa3 : JC 0x00b0b03e
00b0afa9 : MOVD ECX,XMM7
00b0afad : PSRLQ XMM7,0x20
00b0afb2 : MOVD EDX,XMM7
00b0afb6 : AND EDX,0x7fffffff
00b0afbc : MOV EAX,0x3ff00000
00b0afc1 : SUB EAX,EDX
00b0afc3 : OR EAX,ECX
00b0afc5 : CMP EAX,0x0
00b0afc8 : JZ 0x00b0b00b
00b0afca : MOVLPD XMM2,qword ptr [ESP + 0x4]
00b0afd0 : MOVD EDX,XMM2
00b0afd4 : PSRLQ XMM2,0x20
00b0afd9 : MOVD ECX,XMM2
00b0afdd : AND ECX,0x7fffffff
00b0afe3 : SUB EDX,0x1
00b0afe6 : SBB ECX,0x7ff00000
00b0afec : CMP ECX,0x0
00b0afef : JGE 0x00b0b056
00b0aff1 : XORPD XMM1,XMM1
00b0aff5 : XORPD XMM0,XMM0
00b0aff9 : MOV EDX,0x7ff0
00b0affe : PINSRW XMM1,EDX,0x3
00b0b003 : ADD ESP,0xc
00b0b006 : MULSD XMM0,XMM1
00b0b00a : RET
00b0b00b : PEXTRW EDX,XMM7,0x1
00b0b010 : SHR EDX,0xf
00b0b013 : NEG EDX
00b0b015 : MOVD XMM7,EDX
00b0b019 : PSHUFD XMM7,XMM7,0x0
00b0b01e : MOVLPD XMM2,qword ptr [0x00ce3750]
00b0b026 : MOVLPD XMM0,qword ptr [0x00ce3758]
00b0b02e : ANDPD XMM2,XMM7
00b0b032 : ANDPD XMM0,XMM7
00b0b036 : ADD ESP,0xc
00b0b039 : ADDSD XMM0,XMM2
00b0b03d : RET
00b0b03e : MOVLPD XMM2,qword ptr [0x00ce3730]
00b0b046 : MOVLPD XMM0,qword ptr [0x00ce3738]
00b0b04e : ADD ESP,0xc
00b0b051 : ADDSD XMM0,XMM2
00b0b055 : RET
00b0b056 : XORPD XMM6,XMM6
00b0b05a : ADD ESP,0xc
00b0b05d : ADDSD XMM0,XMM6
00b0b061 : RET
