PROGRAM  : Maestia.exe
FUNCTION : FUN_005dd610
ENTRY    : 005dd610
BODY     : [[005dd610, 005dd87c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005dd610(float param_1,float param_2,float param_3,float param_4,float param_5,
                 float param_6)

{
  uint *puVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  int in_ECX;
  uint uVar10;
  float local_1c;
  float local_18;
  float local_c;
  float local_8;
  
  local_c = param_3 + param_1;
  local_8 = param_4 + param_2;
  fVar7 = param_5 - param_1;
  fVar9 = param_6 - param_2;
  fVar8 = fVar9 * (param_3 - param_5) - fVar7 * (param_4 - param_6);
  while (fVar8 = ABS(fVar8), 0.0001 < fVar8) {
    local_c = local_c * 0.5;
    local_18 = (param_6 + param_4) * 0.5;
    local_1c = (param_5 + param_3) * 0.5;
    local_8 = local_8 * 0.5;
    fVar8 = fVar8 * fVar8;
    fVar7 = *(float *)(in_ECX + 4) * (fVar7 * fVar7 + fVar9 * fVar9);
    if ((!NAN(fVar8) && !NAN(fVar7)) && fVar8 < fVar7 != (fVar8 == fVar7)) break;
    fVar5 = (local_c + local_1c) * 0.5;
    fVar6 = (local_8 + local_18) * 0.5;
    FUN_005dd610(param_1,param_2,local_c,local_8,fVar5,fVar6);
    local_c = fVar5 + local_1c;
    local_8 = fVar6 + local_18;
    fVar7 = param_5 - fVar5;
    fVar9 = param_6 - fVar6;
    param_1 = fVar5;
    param_3 = local_1c;
    param_2 = fVar6;
    param_4 = local_18;
    fVar8 = fVar9 * (local_1c - param_5) - fVar7 * (local_18 - param_6);
  }
  puVar1 = (uint *)(in_ECX + 8);
  uVar10 = *(uint *)(in_ECX + 8) >> 8;
  if (*(uint *)(in_ECX + 0xc) <= uVar10) {
    FUN_00555d30(uVar10);
  }
  uVar3 = *puVar1;
  iVar4 = *(int *)(*(int *)(in_ECX + 0x14) + uVar10 * 4);
  *(float *)(iVar4 + (uVar3 & 0xff) * 8) = param_5;
  *(float *)(iVar4 + 4 + (uVar3 & 0xff) * 8) = param_6;
  *puVar1 = *puVar1 + 1;
  piVar2 = (int *)(*(int *)(in_ECX + 0x28) + 4);
  *piVar2 = *piVar2 + 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
005dd610 : SUB ESP,0x1c
005dd613 : FLD float ptr [ESP + 0x20]
005dd617 : PUSH EBX
005dd618 : FLD float ptr [ESP + 0x2c]
005dd61c : PUSH ESI
005dd61d : FLD ST0
005dd61f : PUSH EDI
005dd620 : FADDP ST2,ST0
005dd622 : MOV EDI,ECX
005dd624 : FLD double ptr [0x00cdf120]
005dd62a : FMUL ST2
005dd62c : FXCH ST2
005dd62e : FSTP float ptr [ESP + 0x1c]
005dd632 : FLD float ptr [ESP + 0x30]
005dd636 : FLD ST0
005dd638 : FLD float ptr [ESP + 0x38]
005dd63c : FLD ST0
005dd63e : FADDP ST2,ST0
005dd640 : FXCH
005dd642 : FMUL ST4
005dd644 : FSTP float ptr [ESP + 0x20]
005dd648 : FLD ST2
005dd64a : FLD float ptr [ESP + 0x3c]
005dd64e : FLD ST0
005dd650 : FADDP ST2,ST0
005dd652 : FXCH
005dd654 : FMUL ST5
005dd656 : FSTP float ptr [ESP + 0xc]
005dd65a : FLD ST1
005dd65c : FLD float ptr [ESP + 0x40]
005dd660 : FLD ST0
005dd662 : FADDP ST2,ST0
005dd664 : FXCH
005dd666 : FMUL ST6
005dd668 : FSTP float ptr [ESP + 0x10]
005dd66c : FLD ST1
005dd66e : FSUB float ptr [ESP + 0x2c]
005dd672 : FSTP float ptr [ESP + 0x18]
005dd676 : FLD ST0
005dd678 : FSUBRP ST4,ST0
005dd67a : FXCH ST3
005dd67c : FSTP float ptr [ESP + 0x14]
005dd680 : FLD ST0
005dd682 : FSUBP ST4,ST0
005dd684 : FLD float ptr [ESP + 0x14]
005dd688 : FLD ST0
005dd68a : FMULP ST5
005dd68c : FLD ST3
005dd68e : FSUBP ST3,ST0
005dd690 : FLD float ptr [ESP + 0x18]
005dd694 : FLD ST0
005dd696 : FMULP ST4
005dd698 : FXCH ST5
005dd69a : FSUBRP ST3,ST0
005dd69c : FXCH ST2
005dd69e : FSTP float ptr [ESP + 0x34]
005dd6a2 : FLD float ptr [ESP + 0x34]
005dd6a6 : FABS
005dd6a8 : FSTP float ptr [ESP + 0x34]
005dd6ac : FLD float ptr [ESP + 0x34]
005dd6b0 : FSTP float ptr [ESP + 0x34]
005dd6b4 : FLD float ptr [ESP + 0x34]
005dd6b8 : FCOM double ptr [0x00b937f8]
005dd6be : FNSTSW AX
005dd6c0 : TEST AH,0x41
005dd6c3 : JZ 0x005dd6e4
005dd6c5 : FSTP ST0
005dd6c7 : FSTP ST4
005dd6c9 : FSTP ST0
005dd6cb : FSTP ST1
005dd6cd : JMP 0x005dd82c
005dd6d2 : FXCH ST3
005dd6d4 : FXCH ST5
005dd6d6 : FXCH ST2
005dd6d8 : FXCH ST4
005dd6da : FXCH ST2
005dd6dc : FXCH ST3
005dd6de : FXCH
005dd6e0 : FXCH ST2
005dd6e2 : FXCH
005dd6e4 : FMUL ST0
005dd6e6 : FLD ST4
005dd6e8 : FMULP ST5
005dd6ea : FLD ST2
005dd6ec : FMULP ST3
005dd6ee : FXCH ST4
005dd6f0 : FADDP ST2,ST0
005dd6f2 : FLD float ptr [EDI + 0x4]
005dd6f5 : FMULP ST2
005dd6f7 : FXCH ST3
005dd6f9 : FCOMPP
005dd6fb : FNSTSW AX
005dd6fd : TEST AH,0x41
005dd700 : JNP 0x005dd879
005dd706 : FSTP ST1
005dd708 : SUB ESP,0x18
005dd70b : FSTP ST0
005dd70d : MOV ECX,EDI
005dd70f : FLD float ptr [ESP + 0x24]
005dd713 : FLD float ptr [ESP + 0x34]
005dd717 : FLD ST0
005dd719 : FADDP ST2,ST0
005dd71b : FXCH
005dd71d : FMUL ST2
005dd71f : FSTP float ptr [ESP + 0x2c]
005dd723 : FLD float ptr [ESP + 0x28]
005dd727 : FLD float ptr [ESP + 0x38]
005dd72b : FLD ST0
005dd72d : FADDP ST2,ST0
005dd72f : FXCH
005dd731 : FMULP ST3
005dd733 : FXCH ST2
005dd735 : FSTP float ptr [ESP + 0x30]
005dd739 : FLD float ptr [ESP + 0x30]
005dd73d : FSTP float ptr [ESP + 0x14]
005dd741 : FLD float ptr [ESP + 0x2c]
005dd745 : FSTP float ptr [ESP + 0x10]
005dd749 : FXCH
005dd74b : FSTP float ptr [ESP + 0xc]
005dd74f : FSTP float ptr [ESP + 0x8]
005dd753 : FLD float ptr [ESP + 0x48]
005dd757 : FSTP float ptr [ESP + 0x4]
005dd75b : FLD float ptr [ESP + 0x44]
005dd75f : FSTP float ptr [ESP]
005dd762 : CALL 0x005dd610
005dd767 : FLD float ptr [ESP + 0x10]
005dd76b : FST float ptr [ESP + 0x38]
005dd76f : FLD float ptr [ESP + 0xc]
005dd773 : FST float ptr [ESP + 0x34]
005dd777 : FLD float ptr [ESP + 0x18]
005dd77b : FST float ptr [ESP + 0x30]
005dd77f : FLD float ptr [ESP + 0x14]
005dd783 : FST float ptr [ESP + 0x2c]
005dd787 : FLD ST0
005dd789 : FADD ST0,ST3
005dd78b : FLD double ptr [0x00cdf120]
005dd791 : FMUL ST1
005dd793 : FXCH
005dd795 : FSTP float ptr [ESP + 0x1c]
005dd799 : FLD ST2
005dd79b : FADD ST0,ST5
005dd79d : FMUL ST1
005dd79f : FSTP float ptr [ESP + 0x20]
005dd7a3 : FLD float ptr [ESP + 0x3c]
005dd7a7 : FLD ST0
005dd7a9 : FADDP ST5,ST0
005dd7ab : FXCH ST4
005dd7ad : FMUL ST1
005dd7af : FSTP float ptr [ESP + 0xc]
005dd7b3 : FLD float ptr [ESP + 0x40]
005dd7b7 : FLD ST0
005dd7b9 : FADDP ST6,ST0
005dd7bb : FXCH ST5
005dd7bd : FMUL ST1
005dd7bf : FSTP float ptr [ESP + 0x10]
005dd7c3 : FLD ST3
005dd7c5 : FSUBRP ST2,ST0
005dd7c7 : FXCH
005dd7c9 : FSTP float ptr [ESP + 0x18]
005dd7cd : FLD ST3
005dd7cf : FSUBRP ST2,ST0
005dd7d1 : FXCH
005dd7d3 : FSTP float ptr [ESP + 0x14]
005dd7d7 : FLD float ptr [ESP + 0x34]
005dd7db : FSUB ST0,ST2
005dd7dd : FLD float ptr [ESP + 0x14]
005dd7e1 : FLD ST0
005dd7e3 : FMULP ST2
005dd7e5 : FLD float ptr [ESP + 0x38]
005dd7e9 : FSUB ST0,ST5
005dd7eb : FLD float ptr [ESP + 0x18]
005dd7ef : FLD ST0
005dd7f1 : FMULP ST2
005dd7f3 : FXCH ST3
005dd7f5 : FSUBRP
005dd7f7 : FSTP float ptr [ESP + 0x34]
005dd7fb : FLD float ptr [ESP + 0x34]
005dd7ff : FABS
005dd801 : FSTP float ptr [ESP + 0x34]
005dd805 : FLD float ptr [ESP + 0x34]
005dd809 : FSTP float ptr [ESP + 0x34]
005dd80d : FLD float ptr [ESP + 0x34]
005dd811 : FCOM double ptr [0x00b937f8]
005dd817 : FNSTSW AX
005dd819 : TEST AH,0x41
005dd81c : JZ 0x005dd6d2
005dd822 : FSTP ST0
005dd824 : FSTP ST2
005dd826 : FSTP ST1
005dd828 : FSTP ST0
005dd82a : FXCH
005dd82c : FXCH
005dd82e : MOV EBX,dword ptr [EDI + 0x8]
005dd831 : FSTP float ptr [ESP + 0x20]
005dd835 : LEA ESI,[EDI + 0x8]
005dd838 : SHR EBX,0x8
005dd83b : FSTP float ptr [ESP + 0x24]
005dd83f : CMP EBX,dword ptr [ESI + 0x4]
005dd842 : JC 0x005dd84c
005dd844 : PUSH EBX
005dd845 : MOV ECX,ESI
005dd847 : CALL 0x00555d30
005dd84c : MOV EAX,dword ptr [ESI]
005dd84e : MOV ECX,dword ptr [ESI + 0xc]
005dd851 : MOV ECX,dword ptr [ECX + EBX*0x4]
005dd854 : MOV EDX,dword ptr [ESP + 0x20]
005dd858 : AND EAX,0xff
005dd85d : MOV dword ptr [ECX + EAX*0x8],EDX
005dd860 : MOV EDX,dword ptr [ESP + 0x24]
005dd864 : MOV dword ptr [ECX + EAX*0x8 + 0x4],EDX
005dd868 : INC dword ptr [ESI]
005dd86a : MOV EDI,dword ptr [EDI + 0x28]
005dd86d : INC dword ptr [EDI + 0x4]
005dd870 : POP EDI
005dd871 : POP ESI
005dd872 : POP EBX
005dd873 : ADD ESP,0x1c
005dd876 : RET 0x18
005dd879 : FSTP ST2
005dd87b : JMP 0x005dd82e
