PROGRAM  : Maestia.exe
FUNCTION : FUN_008d3690
ENTRY    : 008d3690
BODY     : [[008d3690, 008d38cd]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_008d3690(void)

{
  int iVar1;
  float fVar2;
  char cVar3;
  int in_EAX;
  DWORD DVar4;
  float fVar5;
  
  iVar1 = *(int *)(DAT_0172491c + 0x17c);
  if (iVar1 == 0) {
    return 0;
  }
  fVar5 = (float)*(int *)(iVar1 + 0xa4);
  if (*(int *)(iVar1 + 0xa4) < 0) {
    fVar5 = fVar5 + 4.2949673e+09;
  }
  fVar2 = (float)*(int *)(iVar1 + 0xb0);
  if (*(int *)(iVar1 + 0xb0) < 0) {
    fVar2 = fVar2 + 4.2949673e+09;
  }
  *(float *)(in_EAX + 0xd0) = (fVar5 / fVar2) * 100.0;
  fVar5 = (float)*(int *)(iVar1 + 0xac);
  if (*(int *)(iVar1 + 0xac) < 0) {
    fVar5 = fVar5 + 4.2949673e+09;
  }
  fVar2 = (float)*(int *)(iVar1 + 0xb8);
  if (*(int *)(iVar1 + 0xb8) < 0) {
    fVar2 = fVar2 + 4.2949673e+09;
  }
  iVar1 = *(int *)(in_EAX + 0xb8);
  *(float *)(in_EAX + 0xd4) = (fVar5 / fVar2) * 100.0;
  if (((*(char *)(iVar1 + 4) != '\0') && (fVar5 = *(float *)(in_EAX + 0xd0), fVar5 < 99.0)) ||
     (fVar5 = *(float *)(in_EAX + 0xd0), fVar5 < *(float *)(iVar1 + 0x18))) {
    *(undefined1 *)(in_EAX + 0xcc) = 1;
  }
  else {
    *(undefined1 *)(in_EAX + 0xcc) = 0;
  }
  if (*(float *)(iVar1 + 0xc) <= fVar5) {
    *(undefined1 *)(in_EAX + 0xcb) = 0;
  }
  else {
    *(undefined1 *)(in_EAX + 0xcb) = 1;
  }
  if ((*(char *)(iVar1 + 4) == '\0') ||
     (99.0 < *(float *)(in_EAX + 0xd4) || *(float *)(in_EAX + 0xd4) == 99.0)) {
    if (*(float *)(iVar1 + 0x10) < *(float *)(in_EAX + 0xd4) ||
        *(float *)(iVar1 + 0x10) == *(float *)(in_EAX + 0xd4)) {
      *(undefined1 *)(in_EAX + 0xcd) = 0;
    }
    else {
      *(undefined1 *)(in_EAX + 0xcd) = 1;
    }
  }
  else {
    *(undefined1 *)(in_EAX + 0xcd) = 1;
  }
  *(undefined1 *)(in_EAX + 200) = 0;
  if ((fVar5 != 0.0) || (cVar3 = FUN_008896f0(), cVar3 == '\0')) {
    if ((*(char *)(in_EAX + 0xcb) == '\0') &&
       (((*(char *)(in_EAX + 0xcd) == '\0' && (*(char *)(in_EAX + 0xce) == '\0')) &&
        (*(char *)(in_EAX + 0xcc) == '\0')))) {
      return 0;
    }
    return 1;
  }
  *(undefined1 *)(in_EAX + 200) = 1;
  if (DAT_017248ac == 0) {
    DAT_017248ac = timeGetTime();
    return 0;
  }
  DVar4 = timeGetTime();
  if (DVar4 - DAT_017248ac < 0x1389) {
    return 0;
  }
  if (*(char *)(*(int *)(in_EAX + 0xb8) + 0x2d) == '\0') {
    cVar3 = FUN_008d1a60(in_EAX,*(undefined4 *)(in_EAX + 0xc0),1);
    if ((cVar3 != '\0') || (*(int *)(*DAT_00da9894 + 0x144) == 0)) goto LAB_008d388c;
  }
  else if ((*(int *)(*DAT_00da9894 + 0x144) == 0) ||
          ((cVar3 = FUN_00a8c590(1,1,1), cVar3 != '\0' ||
           (cVar3 = FUN_008d1a60(in_EAX,*(undefined4 *)(in_EAX + 0xc0),1), cVar3 != '\0'))))
  goto LAB_008d388c;
  FUN_00a8c590(0,1,1);
LAB_008d388c:
  FUN_008d2b50();
  *(undefined1 *)(in_EAX + 0xbc) = 1;
  DAT_017248ac = 0;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
008d3690 : PUSH EBP
008d3691 : MOV EBP,ESP
008d3693 : PUSH ECX
008d3694 : PUSH EBX
008d3695 : PUSH EDI
008d3696 : MOV EDI,EAX
008d3698 : MOV EAX,[0x0172491c]
008d369d : MOV ECX,dword ptr [EAX + 0x17c]
008d36a3 : XOR EBX,EBX
008d36a5 : CMP ECX,EBX
008d36a7 : JZ 0x008d389e
008d36ad : MOV EDX,dword ptr [ECX + 0xa4]
008d36b3 : FILD dword ptr [ECX + 0xa4]
008d36b9 : TEST EDX,EDX
008d36bb : JGE 0x008d36c3
008d36bd : FADD float ptr [0x00cdf0e0]
008d36c3 : MOV EAX,dword ptr [ECX + 0xb0]
008d36c9 : FILD dword ptr [ECX + 0xb0]
008d36cf : TEST EAX,EAX
008d36d1 : JGE 0x008d36d9
008d36d3 : FADD float ptr [0x00cdf0e0]
008d36d9 : FDIVP
008d36db : FLD float ptr [0x00cdf230]
008d36e1 : FMUL ST1
008d36e3 : FXCH
008d36e5 : FSTP float ptr [EDI + 0xd0]
008d36eb : MOV EDX,dword ptr [ECX + 0xac]
008d36f1 : FILD dword ptr [ECX + 0xac]
008d36f7 : TEST EDX,EDX
008d36f9 : JGE 0x008d3701
008d36fb : FADD float ptr [0x00cdf0e0]
008d3701 : MOV EAX,dword ptr [ECX + 0xb8]
008d3707 : FILD dword ptr [ECX + 0xb8]
008d370d : TEST EAX,EAX
008d370f : JGE 0x008d3717
008d3711 : FADD float ptr [0x00cdf0e0]
008d3717 : FDIVP
008d3719 : MOV EAX,dword ptr [EDI + 0xb8]
008d371f : MOVSS XMM1,dword ptr [0x00cdf2a4]
008d3727 : FMULP
008d3729 : FSTP float ptr [EDI + 0xd4]
008d372f : CMP byte ptr [EAX + 0x4],BL
008d3732 : JZ 0x008d3741
008d3734 : MOVSS XMM0,dword ptr [EDI + 0xd0]
008d373c : COMISS XMM1,XMM0
008d373f : JA 0x008d3753
008d3741 : MOVSS XMM0,dword ptr [EDI + 0xd0]
008d3749 : MOVSS XMM2,dword ptr [EAX + 0x18]
008d374e : COMISS XMM2,XMM0
008d3751 : JBE 0x008d375c
008d3753 : MOV byte ptr [EDI + 0xcc],0x1
008d375a : JMP 0x008d3762
008d375c : MOV byte ptr [EDI + 0xcc],BL
008d3762 : MOVSS XMM2,dword ptr [EAX + 0xc]
008d3767 : COMISS XMM2,XMM0
008d376a : JBE 0x008d3775
008d376c : MOV byte ptr [EDI + 0xcb],0x1
008d3773 : JMP 0x008d377b
008d3775 : MOV byte ptr [EDI + 0xcb],BL
008d377b : CMP byte ptr [EAX + 0x4],BL
008d377e : JZ 0x008d3792
008d3780 : COMISS XMM1,dword ptr [EDI + 0xd4]
008d3787 : JBE 0x008d3792
008d3789 : MOV byte ptr [EDI + 0xcd],0x1
008d3790 : JMP 0x008d37af
008d3792 : MOVSS XMM1,dword ptr [EAX + 0x10]
008d3797 : COMISS XMM1,dword ptr [EDI + 0xd4]
008d379e : JBE 0x008d37a9
008d37a0 : MOV byte ptr [EDI + 0xcd],0x1
008d37a7 : JMP 0x008d37af
008d37a9 : MOV byte ptr [EDI + 0xcd],BL
008d37af : UCOMISS XMM0,dword ptr [0x00b9b0b4]
008d37b6 : LAHF
008d37b7 : MOV byte ptr [EDI + 0xc8],BL
008d37bd : TEST AH,0x44
008d37c0 : JP 0x008d38a6
008d37c6 : MOV EAX,ECX
008d37c8 : CALL 0x008896f0
008d37cd : TEST AL,AL
008d37cf : JZ 0x008d38a6
008d37d5 : MOV byte ptr [EDI + 0xc8],0x1
008d37dc : CMP dword ptr [0x017248ac],EBX
008d37e2 : JNZ 0x008d37f7
008d37e4 : CALL dword ptr [0x00b85598]
008d37ea : POP EDI
008d37eb : MOV [0x017248ac],EAX
008d37f0 : XOR AL,AL
008d37f2 : POP EBX
008d37f3 : MOV ESP,EBP
008d37f5 : POP EBP
008d37f6 : RET
008d37f7 : CALL dword ptr [0x00b85598]
008d37fd : SUB EAX,dword ptr [0x017248ac]
008d3803 : CMP EAX,0x1388
008d3808 : JBE 0x008d389e
008d380e : MOV ECX,dword ptr [EDI + 0xb8]
008d3814 : CMP byte ptr [ECX + 0x2d],BL
008d3817 : JZ 0x008d385d
008d3819 : MOV EDX,dword ptr [0x00da9894]
008d381f : MOV EAX,dword ptr [EDX]
008d3821 : MOV ECX,dword ptr [EAX + 0x144]
008d3827 : CMP ECX,EBX
008d3829 : JZ 0x008d388c
008d382b : PUSH 0x1
008d382d : PUSH 0x1
008d382f : PUSH 0x1
008d3831 : CALL 0x00a8c590
008d3836 : TEST AL,AL
008d3838 : JNZ 0x008d388c
008d383a : MOV ECX,dword ptr [EDI + 0xc0]
008d3840 : PUSH 0x1
008d3842 : PUSH ECX
008d3843 : PUSH EDI
008d3844 : CALL 0x008d1a60
008d3849 : TEST AL,AL
008d384b : JNZ 0x008d388c
008d384d : MOV EDX,dword ptr [0x00da9894]
008d3853 : MOV EAX,dword ptr [EDX]
008d3855 : MOV ECX,dword ptr [EAX + 0x144]
008d385b : JMP 0x008d3882
008d385d : MOV ECX,dword ptr [EDI + 0xc0]
008d3863 : PUSH 0x1
008d3865 : PUSH ECX
008d3866 : PUSH EDI
008d3867 : CALL 0x008d1a60
008d386c : TEST AL,AL
008d386e : JNZ 0x008d388c
008d3870 : MOV EDX,dword ptr [0x00da9894]
008d3876 : MOV EAX,dword ptr [EDX]
008d3878 : MOV ECX,dword ptr [EAX + 0x144]
008d387e : CMP ECX,EBX
008d3880 : JZ 0x008d388c
008d3882 : PUSH 0x1
008d3884 : PUSH 0x1
008d3886 : PUSH EBX
008d3887 : CALL 0x00a8c590
008d388c : CALL 0x008d2b50
008d3891 : MOV byte ptr [EDI + 0xbc],0x1
008d3898 : MOV dword ptr [0x017248ac],EBX
008d389e : POP EDI
008d389f : XOR AL,AL
008d38a1 : POP EBX
008d38a2 : MOV ESP,EBP
008d38a4 : POP EBP
008d38a5 : RET
008d38a6 : CMP byte ptr [EDI + 0xcb],BL
008d38ac : JNZ 0x008d38c6
008d38ae : CMP byte ptr [EDI + 0xcd],BL
008d38b4 : JNZ 0x008d38c6
008d38b6 : CMP byte ptr [EDI + 0xce],BL
008d38bc : JNZ 0x008d38c6
008d38be : CMP byte ptr [EDI + 0xcc],BL
008d38c4 : JZ 0x008d389e
008d38c6 : POP EDI
008d38c7 : MOV AL,0x1
008d38c9 : POP EBX
008d38ca : MOV ESP,EBP
008d38cc : POP EBP
008d38cd : RET
