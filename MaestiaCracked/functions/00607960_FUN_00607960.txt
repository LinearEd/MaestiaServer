PROGRAM  : Maestia.exe
FUNCTION : FUN_00607960
ENTRY    : 00607960
BODY     : [[00607960, 00607a70]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00607960(void)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  int in_ECX;
  uint local_4;
  
  local_4 = 0;
  if (*(int *)(in_ECX + 0x5c) != 0) {
    do {
      iVar2 = *(int *)(*(int *)(in_ECX + 0x68) + (local_4 >> 8) * 4);
      uVar3 = *(uint *)(iVar2 + (local_4 & 0xff) * 0xc);
      puVar1 = (uint *)(iVar2 + (local_4 & 0xff) * 0xc);
      if (*(int *)(*(int *)(*(int *)(in_ECX + 0xc) + (puVar1[1] >> 8) * 4) + 8 +
                  (puVar1[1] & 0xff) * 0xc) <
          *(int *)(*(int *)(*(int *)(in_ECX + 0xc) + (uVar3 >> 8) * 4) + 8 + (uVar3 & 0xff) * 0xc))
      {
        uVar3 = puVar1[1];
        puVar1[1] = *puVar1;
        *puVar1 = uVar3;
      }
      if (*(int *)(*(int *)(*(int *)(in_ECX + 0xc) + (puVar1[2] >> 8) * 4) + 8 +
                  (puVar1[2] & 0xff) * 0xc) <
          *(int *)(*(int *)(*(int *)(in_ECX + 0xc) + (puVar1[1] >> 8) * 4) + 8 +
                  (puVar1[1] & 0xff) * 0xc)) {
        uVar3 = puVar1[2];
        puVar1[2] = puVar1[1];
        puVar1[1] = uVar3;
      }
      if (*(int *)(*(int *)(*(int *)(in_ECX + 0xc) + (puVar1[1] >> 8) * 4) + 8 +
                  (puVar1[1] & 0xff) * 0xc) <
          *(int *)(*(int *)(*(int *)(in_ECX + 0xc) + (*puVar1 >> 8) * 4) + 8 +
                  (*puVar1 & 0xff) * 0xc)) {
        uVar3 = puVar1[1];
        puVar1[1] = *puVar1;
        *puVar1 = uVar3;
      }
      local_4 = local_4 + 1;
    } while (local_4 < *(uint *)(in_ECX + 0x5c));
  }
  FUN_00607360((undefined4 *)(in_ECX + 0x5c),0,*(undefined4 *)(in_ECX + 0x5c));
  return;
}



============================================================
DISASSEMBLY
============================================================
00607960 : PUSH ECX
00607961 : XOR EAX,EAX
00607963 : LEA EDX,[ECX + 0x5c]
00607966 : MOV dword ptr [ESP],EAX
00607969 : CMP dword ptr [EDX],EAX
0060796b : JBE 0x00607a61
00607971 : PUSH EBX
00607972 : PUSH EBP
00607973 : PUSH ESI
00607974 : PUSH EDI
00607975 : MOV ESI,dword ptr [ECX + 0x68]
00607978 : MOV EDI,dword ptr [ECX + 0xc]
0060797b : MOV EDX,EAX
0060797d : SHR EDX,0x8
00607980 : MOV EDX,dword ptr [ESI + EDX*0x4]
00607983 : AND EAX,0xff
00607988 : LEA EAX,[EAX + EAX*0x2]
0060798b : MOV ESI,dword ptr [EDX + EAX*0x4]
0060798e : LEA EAX,[EDX + EAX*0x4]
00607991 : MOV EDX,dword ptr [EAX + 0x4]
00607994 : MOV EBX,ESI
00607996 : MOV EBP,EDX
00607998 : SHR EBX,0x8
0060799b : MOV EBX,dword ptr [EDI + EBX*0x4]
0060799e : AND EDX,0xff
006079a4 : SHR EBP,0x8
006079a7 : MOV EDI,dword ptr [EDI + EBP*0x4]
006079aa : AND ESI,0xff
006079b0 : LEA EDX,[EDX + EDX*0x2]
006079b3 : MOV EDX,dword ptr [EDI + EDX*0x4 + 0x8]
006079b7 : LEA ESI,[ESI + ESI*0x2]
006079ba : CMP EDX,dword ptr [EBX + ESI*0x4 + 0x8]
006079be : JGE 0x006079ca
006079c0 : MOV ESI,dword ptr [EAX]
006079c2 : MOV EDX,dword ptr [EAX + 0x4]
006079c5 : MOV dword ptr [EAX + 0x4],ESI
006079c8 : MOV dword ptr [EAX],EDX
006079ca : MOV ESI,dword ptr [EAX + 0x4]
006079cd : MOV EDX,dword ptr [EAX + 0x8]
006079d0 : MOV EDI,dword ptr [ECX + 0xc]
006079d3 : MOV EBX,ESI
006079d5 : MOV EBP,EDX
006079d7 : SHR EBX,0x8
006079da : MOV EBX,dword ptr [EDI + EBX*0x4]
006079dd : AND EDX,0xff
006079e3 : SHR EBP,0x8
006079e6 : MOV EDI,dword ptr [EDI + EBP*0x4]
006079e9 : AND ESI,0xff
006079ef : LEA EDX,[EDX + EDX*0x2]
006079f2 : MOV EDX,dword ptr [EDI + EDX*0x4 + 0x8]
006079f6 : LEA ESI,[ESI + ESI*0x2]
006079f9 : CMP EDX,dword ptr [EBX + ESI*0x4 + 0x8]
006079fd : JGE 0x00607a0b
006079ff : MOV ESI,dword ptr [EAX + 0x4]
00607a02 : MOV EDX,dword ptr [EAX + 0x8]
00607a05 : MOV dword ptr [EAX + 0x8],ESI
00607a08 : MOV dword ptr [EAX + 0x4],EDX
00607a0b : MOV ESI,dword ptr [EAX]
00607a0d : MOV EDX,dword ptr [EAX + 0x4]
00607a10 : MOV EDI,dword ptr [ECX + 0xc]
00607a13 : MOV EBX,ESI
00607a15 : MOV EBP,EDX
00607a17 : SHR EBX,0x8
00607a1a : MOV EBX,dword ptr [EDI + EBX*0x4]
00607a1d : AND EDX,0xff
00607a23 : SHR EBP,0x8
00607a26 : MOV EDI,dword ptr [EDI + EBP*0x4]
00607a29 : AND ESI,0xff
00607a2f : LEA EDX,[EDX + EDX*0x2]
00607a32 : MOV EDX,dword ptr [EDI + EDX*0x4 + 0x8]
00607a36 : LEA ESI,[ESI + ESI*0x2]
00607a39 : CMP EDX,dword ptr [EBX + ESI*0x4 + 0x8]
00607a3d : JGE 0x00607a49
00607a3f : MOV ESI,dword ptr [EAX]
00607a41 : MOV EDX,dword ptr [EAX + 0x4]
00607a44 : MOV dword ptr [EAX + 0x4],ESI
00607a47 : MOV dword ptr [EAX],EDX
00607a49 : MOV EAX,dword ptr [ESP + 0x10]
00607a4d : INC EAX
00607a4e : LEA EDX,[ECX + 0x5c]
00607a51 : MOV dword ptr [ESP + 0x10],EAX
00607a55 : CMP EAX,dword ptr [EDX]
00607a57 : JC 0x00607975
00607a5d : POP EDI
00607a5e : POP ESI
00607a5f : POP EBP
00607a60 : POP EBX
00607a61 : MOV EAX,dword ptr [EDX]
00607a63 : PUSH ECX
00607a64 : PUSH EAX
00607a65 : PUSH 0x0
00607a67 : PUSH EDX
00607a68 : CALL 0x00607360
00607a6d : ADD ESP,0x14
00607a70 : RET
