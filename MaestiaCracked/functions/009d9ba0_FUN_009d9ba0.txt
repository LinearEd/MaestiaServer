PROGRAM  : Maestia.exe
FUNCTION : FUN_009d9ba0
ENTRY    : 009d9ba0
BODY     : [[009d9ba0, 009d9dcc]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009d9ba0(int param_1,int param_2)

{
  short sVar1;
  short sVar2;
  short sVar3;
  uint uVar4;
  int iVar5;
  undefined4 uVar6;
  int iVar7;
  int unaff_EDI;
  float in_XMM0_Da;
  uint local_40;
  int local_38;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b22b8a;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_2c = 0;
  local_18 = 7;
  local_1c = 0;
  local_14 = uVar4;
  FUN_00406360(&DAT_00c97648,0);
  local_8 = 1;
  iVar5 = FUN_00a1a840(param_2);
  if (iVar5 == 0) {
    *(undefined4 *)(unaff_EDI + 0x18) = 7;
    *(undefined4 *)(unaff_EDI + 0x14) = 0;
    *(undefined2 *)(unaff_EDI + 4) = 0;
    FUN_00405eb0(local_30,0,0xffffffff);
    local_8 = local_8 & 0xffffff00;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  else {
    FUN_00407330(&param_2);
    if (local_38 == *(int *)(param_1 + 0x44)) {
      FUN_00406460(&DAT_00c9764c);
      local_8 = local_8 & 0xffffff00;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    else {
      if (*(int *)(param_1 + 0x38) == param_2) {
        iVar7 = 100;
      }
      else {
        FUN_009d9a70(*(int *)(local_38 + 0x10) != 0);
        iVar7 = (int)in_XMM0_Da;
      }
      sVar2 = *(short *)(iVar5 + 0x80);
      sVar3 = 0;
      sVar1 = sVar2;
      if (sVar2 == 0) {
        sVar1 = *(short *)(iVar5 + 0x7c);
      }
      if (sVar1 == 1) {
        sVar3 = *(short *)(iVar5 + 0x16d8);
      }
      else {
        if (sVar2 == 0) {
          sVar2 = *(short *)(iVar5 + 0x7c);
        }
        if (sVar2 == 2) {
          sVar3 = (short)*(undefined4 *)(iVar5 + 0x16d8) + 4;
        }
      }
      if (*(uint *)(iVar5 + 0x24) < 8) {
        iVar5 = iVar5 + 0x10;
      }
      else {
        iVar5 = *(int *)(iVar5 + 0x10);
      }
      uVar6 = FUN_00404750(L"%d&%s&%d&%0.2d|",param_2,iVar5,sVar3,iVar7,uVar4);
      local_8._0_1_ = 2;
      FUN_00405eb0(uVar6,0,0xffffffff);
      local_8._0_1_ = 1;
      if (7 < local_40) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      *(undefined4 *)(unaff_EDI + 0x18) = 7;
      *(undefined4 *)(unaff_EDI + 0x14) = 0;
      *(undefined2 *)(unaff_EDI + 4) = 0;
      FUN_00405eb0(local_30,0,0xffffffff);
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = 0;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009d9ba0 : PUSH EBP
009d9ba1 : MOV EBP,ESP
009d9ba3 : PUSH -0x1
009d9ba5 : PUSH 0xb22b8a
009d9baa : MOV EAX,FS:[0x0]
009d9bb0 : PUSH EAX
009d9bb1 : SUB ESP,0x48
009d9bb4 : MOV EAX,[0x00d66fa0]
009d9bb9 : XOR EAX,EBP
009d9bbb : MOV dword ptr [EBP + -0x10],EAX
009d9bbe : PUSH EBX
009d9bbf : PUSH ESI
009d9bc0 : PUSH EAX
009d9bc1 : LEA EAX,[EBP + -0xc]
009d9bc4 : MOV FS:[0x0],EAX
009d9bca : MOV EBX,dword ptr [EBP + 0x8]
009d9bcd : XOR EAX,EAX
009d9bcf : MOV dword ptr [EBP + -0x30],EAX
009d9bd2 : XOR ECX,ECX
009d9bd4 : PUSH EAX
009d9bd5 : MOV word ptr [EBP + -0x28],CX
009d9bd9 : PUSH 0xc97648
009d9bde : LEA ECX,[EBP + -0x2c]
009d9be1 : MOV dword ptr [EBP + -0x38],EDI
009d9be4 : MOV dword ptr [EBP + -0x14],0x7
009d9beb : MOV dword ptr [EBP + -0x18],EAX
009d9bee : CALL 0x00406360
009d9bf3 : MOV dword ptr [EBP + -0x4],0x1
009d9bfa : MOV EDX,dword ptr [EBP + 0xc]
009d9bfd : MOV ECX,dword ptr [0x00da93ec]
009d9c03 : PUSH EDX
009d9c04 : CALL 0x00a1a840
009d9c09 : MOV ESI,EAX
009d9c0b : TEST ESI,ESI
009d9c0d : JNZ 0x009d9c51
009d9c0f : PUSH -0x1
009d9c11 : PUSH EAX
009d9c12 : LEA ECX,[EBP + -0x2c]
009d9c15 : MOV ESI,0x7
009d9c1a : PUSH ECX
009d9c1b : MOV dword ptr [EDI + 0x18],ESI
009d9c1e : MOV dword ptr [EDI + 0x14],EAX
009d9c21 : MOV ECX,EDI
009d9c23 : MOV word ptr [EDI + 0x4],AX
009d9c27 : CALL 0x00405eb0
009d9c2c : MOV dword ptr [EBP + -0x30],0x1
009d9c33 : MOV byte ptr [EBP + -0x4],0x0
009d9c37 : CMP dword ptr [EBP + -0x14],0x8
009d9c3b : JC 0x009d9c45
009d9c3d : MOV ECX,dword ptr [EBP + -0x28]
009d9c40 : CALL 0x006f04e0
009d9c45 : MOV dword ptr [EBP + -0x18],0x0
009d9c4c : JMP 0x009d9da5
009d9c51 : LEA EAX,[EBP + 0xc]
009d9c54 : PUSH EAX
009d9c55 : LEA ECX,[EBX + 0x40]
009d9c58 : LEA EAX,[EBP + -0x34]
009d9c5b : CALL 0x00407330
009d9c60 : MOV ECX,dword ptr [EBX + 0x44]
009d9c63 : MOV EAX,dword ptr [EBP + -0x34]
009d9c66 : CMP EAX,ECX
009d9c68 : JNZ 0x009d9ca8
009d9c6a : PUSH 0xc9764c
009d9c6f : MOV ECX,EDI
009d9c71 : CALL 0x00406460
009d9c76 : MOV dword ptr [EBP + -0x30],0x1
009d9c7d : MOV byte ptr [EBP + -0x4],0x0
009d9c81 : CMP dword ptr [EBP + -0x14],0x8
009d9c85 : JC 0x009d9c8f
009d9c87 : MOV ECX,dword ptr [EBP + -0x28]
009d9c8a : CALL 0x006f04e0
009d9c8f : XOR ECX,ECX
009d9c91 : MOV dword ptr [EBP + -0x14],0x7
009d9c98 : MOV dword ptr [EBP + -0x18],0x0
009d9c9f : MOV word ptr [EBP + -0x28],CX
009d9ca3 : JMP 0x009d9dae
009d9ca8 : MOV EDX,dword ptr [EBP + 0xc]
009d9cab : CMP dword ptr [EBX + 0x38],EDX
009d9cae : JNZ 0x009d9cb7
009d9cb0 : MOV EDX,0x64
009d9cb5 : JMP 0x009d9cd0
009d9cb7 : CMP dword ptr [EAX + 0x10],0x0
009d9cbb : MOV EAX,dword ptr [EAX + 0x18]
009d9cbe : SETNZ CL
009d9cc1 : MOVZX EDX,CL
009d9cc4 : PUSH EDX
009d9cc5 : MOV ECX,EBX
009d9cc7 : CALL 0x009d9a70
009d9ccc : CVTTSS2SI EDX,XMM0
009d9cd0 : MOVZX EAX,word ptr [ESI + 0x80]
009d9cd7 : XOR ECX,ECX
009d9cd9 : MOVZX EBX,AX
009d9cdc : TEST AX,AX
009d9cdf : JNZ 0x009d9ce5
009d9ce1 : MOVZX EBX,word ptr [ESI + 0x7c]
009d9ce5 : CMP BX,0x1
009d9ce9 : JNZ 0x009d9cf4
009d9ceb : MOVZX ECX,word ptr [ESI + 0x16d8]
009d9cf2 : JMP 0x009d9d12
009d9cf4 : TEST AX,AX
009d9cf7 : MOVZX EAX,AX
009d9cfa : JNZ 0x009d9d00
009d9cfc : MOVZX EAX,word ptr [ESI + 0x7c]
009d9d00 : CMP AX,0x2
009d9d04 : JNZ 0x009d9d12
009d9d06 : MOV EAX,dword ptr [ESI + 0x16d8]
009d9d0c : ADD EAX,0x4
009d9d0f : MOVZX ECX,AX
009d9d12 : CMP dword ptr [ESI + 0x24],0x8
009d9d16 : JC 0x009d9d1d
009d9d18 : MOV ESI,dword ptr [ESI + 0x10]
009d9d1b : JMP 0x009d9d20
009d9d1d : ADD ESI,0x10
009d9d20 : PUSH EDX
009d9d21 : MOVZX EAX,CX
009d9d24 : MOV ECX,dword ptr [EBP + 0xc]
009d9d27 : PUSH EAX
009d9d28 : PUSH ESI
009d9d29 : PUSH ECX
009d9d2a : PUSH 0xc97650
009d9d2f : LEA ESI,[EBP + -0x54]
009d9d32 : CALL 0x00404750
009d9d37 : ADD ESP,0x14
009d9d3a : MOV byte ptr [EBP + -0x4],0x2
009d9d3e : PUSH -0x1
009d9d40 : XOR EBX,EBX
009d9d42 : PUSH EBX
009d9d43 : PUSH EAX
009d9d44 : LEA ECX,[EBP + -0x2c]
009d9d47 : CALL 0x00405eb0
009d9d4c : MOV byte ptr [EBP + -0x4],0x1
009d9d50 : CMP dword ptr [EBP + -0x3c],0x8
009d9d54 : JC 0x009d9d5e
009d9d56 : MOV ECX,dword ptr [EBP + -0x50]
009d9d59 : CALL 0x006f04e0
009d9d5e : PUSH -0x1
009d9d60 : PUSH EBX
009d9d61 : LEA ECX,[EBP + -0x2c]
009d9d64 : MOV ESI,0x7
009d9d69 : XOR EDX,EDX
009d9d6b : XOR EAX,EAX
009d9d6d : PUSH ECX
009d9d6e : MOV dword ptr [EDI + 0x18],ESI
009d9d71 : MOV dword ptr [EDI + 0x14],EBX
009d9d74 : MOV ECX,EDI
009d9d76 : MOV dword ptr [EBP + -0x3c],ESI
009d9d79 : MOV dword ptr [EBP + -0x40],EBX
009d9d7c : MOV word ptr [EBP + -0x50],DX
009d9d80 : MOV word ptr [EDI + 0x4],AX
009d9d84 : CALL 0x00405eb0
009d9d89 : MOV dword ptr [EBP + -0x30],0x1
009d9d90 : MOV byte ptr [EBP + -0x4],0x0
009d9d94 : CMP dword ptr [EBP + -0x14],0x8
009d9d98 : JC 0x009d9da2
009d9d9a : MOV ECX,dword ptr [EBP + -0x28]
009d9d9d : CALL 0x006f04e0
009d9da2 : MOV dword ptr [EBP + -0x18],EBX
009d9da5 : XOR EDX,EDX
009d9da7 : MOV dword ptr [EBP + -0x14],ESI
009d9daa : MOV word ptr [EBP + -0x28],DX
009d9dae : MOV EAX,EDI
009d9db0 : MOV ECX,dword ptr [EBP + -0xc]
009d9db3 : MOV dword ptr FS:[0x0],ECX
009d9dba : POP ECX
009d9dbb : POP ESI
009d9dbc : POP EBX
009d9dbd : MOV ECX,dword ptr [EBP + -0x10]
009d9dc0 : XOR ECX,EBP
009d9dc2 : CALL 0x00633e6b
009d9dc7 : MOV ESP,EBP
009d9dc9 : POP EBP
009d9dca : RET 0x8
