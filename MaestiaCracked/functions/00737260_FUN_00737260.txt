PROGRAM  : Maestia.exe
FUNCTION : FUN_00737260
ENTRY    : 00737260
BODY     : [[00737260, 007373b3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00737260(int param_1,int param_2,int param_3,undefined4 param_4,undefined4 param_5,
                 int param_6)

{
  ushort uVar1;
  int iVar2;
  uint uVar3;
  undefined4 *puVar4;
  ushort uVar5;
  int *in_ECX;
  uint uVar6;
  int iVar7;
  
  iVar2 = FUN_0070a3a0();
  uVar1 = 0;
  if ((short)in_ECX[4] != 0) {
    do {
      uVar3 = (uint)uVar1;
      iVar7 = uVar3 * 0xc;
      puVar4 = (undefined4 *)(iVar2 + uVar3 * 0x38);
      *puVar4 = *(undefined4 *)(iVar7 + param_1);
      puVar4[1] = *(undefined4 *)(iVar7 + 4 + param_1);
      puVar4[2] = *(undefined4 *)(iVar7 + 8 + param_1);
      puVar4[3] = *(undefined4 *)(iVar7 + param_2);
      puVar4[4] = *(undefined4 *)(iVar7 + 4 + param_2);
      puVar4[5] = *(undefined4 *)(iVar7 + 8 + param_2);
      puVar4[6] = *(undefined4 *)(param_3 + uVar3 * 8);
      uVar5 = 0;
      puVar4[7] = *(undefined4 *)(param_3 + 4 + uVar3 * 8);
      if (*(short *)(param_6 + uVar3 * 8) == 0) {
LAB_0073734c:
        puVar4 = (undefined4 *)(iVar2 + 0x20 + ((uint)uVar5 + uVar3 * 0xe) * 4);
        uVar3 = (uint)(ushort)(3 - uVar5);
        do {
          puVar4[3] = 0;
          *puVar4 = 0;
          puVar4 = puVar4 + 1;
          uVar3 = uVar3 - 1;
        } while (uVar3 != 0);
      }
      else {
        do {
          uVar6 = (uint)uVar5;
          iVar7 = uVar3 * 0xe + uVar6;
          *(float *)(iVar2 + 0x2c + iVar7 * 4) =
               (float)*(ushort *)(*(int *)(param_6 + 4 + uVar3 * 8) + 4 + uVar6 * 8);
          uVar5 = uVar5 + 1;
          *(undefined4 *)(iVar2 + 0x20 + iVar7 * 4) =
               *(undefined4 *)(*(int *)(param_6 + 4 + uVar3 * 8) + uVar6 * 8);
        } while (uVar5 < *(ushort *)(param_6 + uVar3 * 8));
        if (uVar5 < 3) goto LAB_0073734c;
      }
      uVar1 = uVar1 + 1;
    } while (uVar1 < *(ushort *)(in_ECX + 4));
  }
  (**(code **)(*in_ECX + 0x10))(iVar2);
  FUN_0070a260(iVar2);
  return;
}



============================================================
DISASSEMBLY
============================================================
00737260 : PUSH EBP
00737261 : MOV EBP,ESP
00737263 : AND ESP,0xfffffff8
00737266 : SUB ESP,0xc
00737269 : PUSH EBX
0073726a : PUSH ESI
0073726b : MOV ESI,ECX
0073726d : MOVZX EAX,word ptr [ESI + 0x10]
00737271 : LEA ECX,[EAX*0x8 + 0x0]
00737278 : SUB ECX,EAX
0073727a : ADD ECX,ECX
0073727c : ADD ECX,ECX
0073727e : PUSH EDI
0073727f : ADD ECX,ECX
00737281 : MOV dword ptr [ESP + 0x14],ESI
00737285 : CALL 0x0070a3a0
0073728a : MOV EDI,EAX
0073728c : XOR EAX,EAX
0073728e : XOR ECX,ECX
00737290 : MOV dword ptr [ESP + 0xc],EAX
00737294 : CMP CX,word ptr [ESI + 0x10]
00737298 : JNC 0x00737398
0073729e : MOV EBX,dword ptr [EBP + 0x1c]
007372a1 : XORPS XMM0,XMM0
007372a4 : MOV ESI,dword ptr [EBP + 0x8]
007372a7 : MOVZX EAX,AX
007372aa : LEA ECX,[EAX + EAX*0x2]
007372ad : ADD ECX,ECX
007372af : ADD ECX,ECX
007372b1 : LEA EDX,[EAX*0x8 + 0x0]
007372b8 : SUB EDX,EAX
007372ba : FLD float ptr [ECX + ESI*0x1]
007372bd : LEA EDX,[EDI + EDX*0x8]
007372c0 : FSTP float ptr [EDX]
007372c2 : FLD float ptr [ECX + ESI*0x1 + 0x4]
007372c6 : FSTP float ptr [EDX + 0x4]
007372c9 : FLD float ptr [ECX + ESI*0x1 + 0x8]
007372cd : MOV ESI,dword ptr [EBP + 0xc]
007372d0 : FSTP float ptr [EDX + 0x8]
007372d3 : FLD float ptr [ECX + ESI*0x1]
007372d6 : FSTP float ptr [EDX + 0xc]
007372d9 : FLD float ptr [ECX + ESI*0x1 + 0x4]
007372dd : FSTP float ptr [EDX + 0x10]
007372e0 : FLD float ptr [ECX + ESI*0x1 + 0x8]
007372e4 : MOV ECX,dword ptr [EBP + 0x10]
007372e7 : FSTP float ptr [EDX + 0x14]
007372ea : FLD float ptr [ECX + EAX*0x8]
007372ed : FSTP float ptr [EDX + 0x18]
007372f0 : FLD float ptr [ECX + EAX*0x8 + 0x4]
007372f4 : XOR ECX,ECX
007372f6 : FSTP float ptr [EDX + 0x1c]
007372f9 : XOR EDX,EDX
007372fb : CMP DX,word ptr [EBX + EAX*0x8]
007372ff : JNC 0x0073734c
00737301 : LEA ESI,[EAX*0x8 + 0x0]
00737308 : SUB ESI,EAX
0073730a : ADD ESI,ESI
0073730c : MOV dword ptr [ESP + 0x10],ESI
00737310 : JMP 0x00737316
00737312 : MOV ESI,dword ptr [ESP + 0x10]
00737316 : MOV EBX,dword ptr [EBX + EAX*0x8 + 0x4]
0073731a : MOVZX EDX,CX
0073731d : MOVZX EBX,word ptr [EBX + EDX*0x8 + 0x4]
00737322 : CVTSI2SS XMM1,EBX
00737326 : MOV EBX,dword ptr [EBP + 0x1c]
00737329 : ADD ESI,EDX
0073732b : MOVSS dword ptr [EDI + ESI*0x4 + 0x2c],XMM1
00737331 : MOV EBX,dword ptr [EBX + EAX*0x8 + 0x4]
00737335 : FLD float ptr [EBX + EDX*0x8]
00737338 : MOV EBX,dword ptr [EBP + 0x1c]
0073733b : INC ECX
0073733c : FSTP float ptr [EDI + ESI*0x4 + 0x20]
00737340 : CMP CX,word ptr [EBX + EAX*0x8]
00737344 : JC 0x00737312
00737346 : CMP CX,0x3
0073734a : JNC 0x00737381
0073734c : LEA EDX,[EAX*0x8 + 0x0]
00737353 : SUB EDX,EAX
00737355 : MOVZX EAX,CX
00737358 : LEA EDX,[EAX + EDX*0x2]
0073735b : LEA EAX,[EDI + EDX*0x4 + 0x20]
0073735f : MOV EDX,0x3
00737364 : SUB EDX,ECX
00737366 : MOVZX ECX,DX
00737369 : LEA ESP,[ESP]
00737370 : MOVSS dword ptr [EAX + 0xc],XMM0
00737375 : MOVSS dword ptr [EAX],XMM0
00737379 : ADD EAX,0x4
0073737c : SUB ECX,0x1
0073737f : JNZ 0x00737370
00737381 : MOV EAX,dword ptr [ESP + 0xc]
00737385 : MOV ESI,dword ptr [ESP + 0x14]
00737389 : INC EAX
0073738a : MOV dword ptr [ESP + 0xc],EAX
0073738e : CMP AX,word ptr [ESI + 0x10]
00737392 : JC 0x007372a4
00737398 : MOV EAX,dword ptr [ESI]
0073739a : MOV EDX,dword ptr [EAX + 0x10]
0073739d : PUSH EDI
0073739e : MOV ECX,ESI
007373a0 : CALL EDX
007373a2 : PUSH EDI
007373a3 : CALL 0x0070a260
007373a8 : ADD ESP,0x4
007373ab : POP EDI
007373ac : POP ESI
007373ad : POP EBX
007373ae : MOV ESP,EBP
007373b0 : POP EBP
007373b1 : RET 0x18
