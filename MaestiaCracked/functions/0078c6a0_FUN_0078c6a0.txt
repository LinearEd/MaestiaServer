PROGRAM  : Maestia.exe
FUNCTION : FUN_0078c6a0
ENTRY    : 0078c6a0
BODY     : [[0078c6a0, 0078c745]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0078c6a0(void)

{
  int *piVar1;
  int iVar2;
  int unaff_EDI;
  undefined **local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0ea73;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar2 = (**(code **)(*DAT_01725204 + 4))(&local_18);
  local_8 = 0;
  piVar1 = *(int **)(unaff_EDI + 0xe8);
  if (piVar1 != *(int **)(iVar2 + 4)) {
    if (piVar1 != (int *)0x0) {
      (**(code **)(*piVar1 + 0x30))();
    }
    if (*(int *)(iVar2 + 4) != 0) {
      InterlockedIncrement((LONG *)(*(int *)(iVar2 + 4) + 0x2c));
    }
    *(undefined4 *)(unaff_EDI + 0xe8) = *(undefined4 *)(iVar2 + 4);
  }
  local_8 = 0xffffffff;
  local_18 = &PTR_FUN_00cd4964;
  if (local_14 != (int *)0x0) {
    (**(code **)(*local_14 + 0x30))();
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0078c6a0 : PUSH EBP
0078c6a1 : MOV EBP,ESP
0078c6a3 : PUSH -0x1
0078c6a5 : PUSH 0xb0ea73
0078c6aa : MOV EAX,FS:[0x0]
0078c6b0 : PUSH EAX
0078c6b1 : SUB ESP,0xc
0078c6b4 : PUSH ESI
0078c6b5 : MOV EAX,[0x00d66fa0]
0078c6ba : XOR EAX,EBP
0078c6bc : PUSH EAX
0078c6bd : LEA EAX,[EBP + -0xc]
0078c6c0 : MOV FS:[0x0],EAX
0078c6c6 : MOV ECX,dword ptr [0x01725204]
0078c6cc : MOV EAX,dword ptr [ECX]
0078c6ce : MOV EAX,dword ptr [EAX + 0x4]
0078c6d1 : PUSH EDX
0078c6d2 : LEA EDX,[EBP + -0x14]
0078c6d5 : PUSH EDX
0078c6d6 : CALL EAX
0078c6d8 : MOV ESI,EAX
0078c6da : MOV dword ptr [EBP + -0x4],0x0
0078c6e1 : MOV EAX,dword ptr [ESI + 0x4]
0078c6e4 : MOV ECX,dword ptr [EDI + 0xe8]
0078c6ea : CMP ECX,EAX
0078c6ec : JZ 0x0078c713
0078c6ee : TEST ECX,ECX
0078c6f0 : JZ 0x0078c6f9
0078c6f2 : MOV EDX,dword ptr [ECX]
0078c6f4 : MOV EAX,dword ptr [EDX + 0x30]
0078c6f7 : CALL EAX
0078c6f9 : MOV EAX,dword ptr [ESI + 0x4]
0078c6fc : TEST EAX,EAX
0078c6fe : JZ 0x0078c70a
0078c700 : ADD EAX,0x2c
0078c703 : PUSH EAX
0078c704 : CALL dword ptr [0x00b850dc]
0078c70a : MOV ECX,dword ptr [ESI + 0x4]
0078c70d : MOV dword ptr [EDI + 0xe8],ECX
0078c713 : MOV dword ptr [EBP + -0x4],0xffffffff
0078c71a : MOV ECX,dword ptr [EBP + -0x10]
0078c71d : MOV dword ptr [EBP + -0x14],0xcd4964
0078c724 : TEST ECX,ECX
0078c726 : JZ 0x0078c736
0078c728 : MOV EDX,dword ptr [ECX]
0078c72a : MOV EAX,dword ptr [EDX + 0x30]
0078c72d : CALL EAX
0078c72f : MOV dword ptr [EBP + -0x10],0x0
0078c736 : MOV ECX,dword ptr [EBP + -0xc]
0078c739 : MOV dword ptr FS:[0x0],ECX
0078c740 : POP ECX
0078c741 : POP ESI
0078c742 : MOV ESP,EBP
0078c744 : POP EBP
0078c745 : RET
