PROGRAM  : Maestia.exe
FUNCTION : FUN_005a85e0
ENTRY    : 005a85e0
BODY     : [[005a85e0, 005a86aa]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_005a85e0(int param_1)

{
  char cVar1;
  int *piVar2;
  uint uVar3;
  undefined4 *in_ECX;
  
  piVar2 = (int *)(**(code **)(*(int *)*in_ECX + 4))(param_1,0x1000);
  if (piVar2 != (int *)0x0) {
    piVar2[2] = param_1;
    *(undefined2 *)(piVar2 + 3) = 8;
    *(undefined2 *)((int)piVar2 + 0xe) = 0xc;
    piVar2[4] = 0;
    piVar2[5] = 0;
    piVar2[6] = 0;
    piVar2[7] = 0;
    cVar1 = FUN_005a9f90(piVar2,param_1);
    if (cVar1 != '\0') {
      FUN_005aa0b0(piVar2,param_1,piVar2);
      uVar3 = (((uint)(in_ECX[5] + param_1) >> ((byte)in_ECX[4] & 0x1f)) + 0x1f >> 5) * 4 + 0x2f &
              0xfffffff0;
      piVar2[7] = uVar3 + (int)piVar2;
      piVar2[6] = param_1 - uVar3;
      piVar2[1] = in_ECX[3];
      *piVar2 = (int)(in_ECX + 2);
      *(int **)in_ECX[3] = piVar2;
      in_ECX[3] = piVar2;
      FUN_005f5940(piVar2);
      in_ECX[0x6a] = in_ECX[0x6a] + piVar2[2];
      return piVar2;
    }
    (**(code **)(*(int *)*in_ECX + 8))(piVar2,param_1,0x1000);
  }
  return (int *)0x0;
}



============================================================
DISASSEMBLY
============================================================
005a85e0 : PUSH EBX
005a85e1 : PUSH ESI
005a85e2 : PUSH EDI
005a85e3 : MOV EDI,dword ptr [ESP + 0x10]
005a85e7 : MOV EBX,ECX
005a85e9 : MOV ECX,dword ptr [EBX]
005a85eb : MOV EAX,dword ptr [ECX]
005a85ed : MOV EDX,dword ptr [EAX + 0x4]
005a85f0 : PUSH 0x1000
005a85f5 : PUSH EDI
005a85f6 : CALL EDX
005a85f8 : MOV ESI,EAX
005a85fa : XOR EAX,EAX
005a85fc : CMP ESI,EAX
005a85fe : JZ 0x005a8642
005a8600 : MOV ECX,0x8
005a8605 : MOV EDX,0xc
005a860a : PUSH EDI
005a860b : MOV dword ptr [ESI + 0x8],EDI
005a860e : MOV word ptr [ESI + 0xc],CX
005a8612 : MOV word ptr [ESI + 0xe],DX
005a8616 : MOV dword ptr [ESI + 0x10],EAX
005a8619 : MOV dword ptr [ESI + 0x14],EAX
005a861c : MOV dword ptr [ESI + 0x18],EAX
005a861f : MOV dword ptr [ESI + 0x1c],EAX
005a8622 : MOV ECX,dword ptr [0x00d7b334]
005a8628 : PUSH ESI
005a8629 : CALL 0x005a9f90
005a862e : TEST AL,AL
005a8630 : JNZ 0x005a864a
005a8632 : MOV ECX,dword ptr [EBX]
005a8634 : MOV EAX,dword ptr [ECX]
005a8636 : MOV EDX,dword ptr [EAX + 0x8]
005a8639 : PUSH 0x1000
005a863e : PUSH EDI
005a863f : PUSH ESI
005a8640 : CALL EDX
005a8642 : POP EDI
005a8643 : POP ESI
005a8644 : XOR EAX,EAX
005a8646 : POP EBX
005a8647 : RET 0x4
005a864a : MOV ECX,dword ptr [0x00d7b334]
005a8650 : PUSH ESI
005a8651 : PUSH EDI
005a8652 : PUSH ESI
005a8653 : CALL 0x005aa0b0
005a8658 : MOV EAX,dword ptr [EBX + 0x14]
005a865b : MOV ECX,dword ptr [EBX + 0x10]
005a865e : ADD EAX,EDI
005a8660 : LEA EDX,[EBX + 0x10]
005a8663 : SHR EAX,CL
005a8665 : PUSH ESI
005a8666 : ADD EAX,0x1f
005a8669 : SHR EAX,0x5
005a866c : LEA EAX,[EAX*0x4 + 0x2f]
005a8673 : AND EAX,0xfffffff0
005a8676 : SUB EDI,EAX
005a8678 : ADD EAX,ESI
005a867a : MOV dword ptr [ESI + 0x1c],EAX
005a867d : LEA EAX,[EBX + 0x8]
005a8680 : MOV dword ptr [ESI + 0x18],EDI
005a8683 : MOV ECX,dword ptr [EAX + 0x4]
005a8686 : MOV dword ptr [ESI + 0x4],ECX
005a8689 : MOV dword ptr [ESI],EAX
005a868b : MOV ECX,dword ptr [EAX + 0x4]
005a868e : MOV dword ptr [ECX],ESI
005a8690 : MOV ECX,EDX
005a8692 : MOV dword ptr [EAX + 0x4],ESI
005a8695 : CALL 0x005f5940
005a869a : MOV EDX,dword ptr [ESI + 0x8]
005a869d : ADD dword ptr [EBX + 0x1a8],EDX
005a86a3 : POP EDI
005a86a4 : MOV EAX,ESI
005a86a6 : POP ESI
005a86a7 : POP EBX
005a86a8 : RET 0x4
