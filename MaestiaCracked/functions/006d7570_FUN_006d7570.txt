PROGRAM  : Maestia.exe
FUNCTION : FUN_006d7570
ENTRY    : 006d7570
BODY     : [[006d7570, 006d7839]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006d7570(int *param_1,int param_2)

{
  undefined4 *puVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  
  if (param_1[5] != 100) {
    *(undefined4 *)(*param_1 + 0x14) = 0x14;
    *(int *)(*param_1 + 0x18) = param_1[5];
    (**(code **)*param_1)(param_1);
  }
  param_1[0x10] = param_2;
  *(undefined1 *)(param_1 + 0x31) = 0;
  *(undefined1 *)(param_1 + 0x33) = 0;
  switch(param_2) {
  case 0:
    break;
  case 1:
    *(undefined1 *)(param_1 + 0x31) = 1;
    param_1[0xf] = 1;
    puVar1 = (undefined4 *)param_1[0x11];
    *puVar1 = 1;
    puVar1[2] = 1;
    puVar1[3] = 1;
    puVar1[4] = 0;
    puVar1[5] = 0;
    puVar1[6] = 0;
    return;
  case 2:
    puVar1 = (undefined4 *)param_1[0x11];
    param_1[0xf] = 3;
    *(undefined1 *)(param_1 + 0x33) = 1;
    puVar1[2] = 1;
    puVar1[3] = 1;
    *puVar1 = 0x52;
    puVar1[4] = 0;
    puVar1[5] = 0;
    puVar1[6] = 0;
    iVar3 = param_1[0x11];
    *(undefined4 *)(iVar3 + 0x5c) = 1;
    *(undefined4 *)(iVar3 + 0x60) = 1;
    *(undefined4 *)(iVar3 + 0x54) = 0x47;
    *(undefined4 *)(iVar3 + 100) = 0;
    *(undefined4 *)(iVar3 + 0x68) = 0;
    *(undefined4 *)(iVar3 + 0x6c) = 0;
    iVar3 = param_1[0x11];
    *(undefined4 *)(iVar3 + 0xb0) = 1;
    *(undefined4 *)(iVar3 + 0xb4) = 1;
    *(undefined4 *)(iVar3 + 0xa8) = 0x42;
    *(undefined4 *)(iVar3 + 0xb8) = 0;
    *(undefined4 *)(iVar3 + 0xbc) = 0;
    *(undefined4 *)(iVar3 + 0xc0) = 0;
    return;
  case 3:
    puVar1 = (undefined4 *)param_1[0x11];
    param_1[0xf] = 3;
    *(undefined1 *)(param_1 + 0x31) = 1;
    *puVar1 = 1;
    puVar1[4] = 0;
    puVar1[5] = 0;
    puVar1[6] = 0;
    puVar1[2] = 2;
    puVar1[3] = 2;
    iVar3 = param_1[0x11];
    *(undefined4 *)(iVar3 + 0x5c) = 1;
    *(undefined4 *)(iVar3 + 0x60) = 1;
    *(undefined4 *)(iVar3 + 100) = 1;
    *(undefined4 *)(iVar3 + 0x68) = 1;
    *(undefined4 *)(iVar3 + 0x6c) = 1;
    *(undefined4 *)(iVar3 + 0x54) = 2;
    iVar3 = param_1[0x11];
    *(undefined4 *)(iVar3 + 0xb0) = 1;
    *(undefined4 *)(iVar3 + 0xb4) = 1;
    *(undefined4 *)(iVar3 + 0xb8) = 1;
    *(undefined4 *)(iVar3 + 0xbc) = 1;
    *(undefined4 *)(iVar3 + 0xc0) = 1;
    *(undefined4 *)(iVar3 + 0xa8) = 3;
    return;
  case 4:
    puVar1 = (undefined4 *)param_1[0x11];
    param_1[0xf] = 4;
    *(undefined1 *)(param_1 + 0x33) = 1;
    puVar1[2] = 1;
    puVar1[3] = 1;
    *puVar1 = 0x43;
    puVar1[4] = 0;
    puVar1[5] = 0;
    puVar1[6] = 0;
    iVar3 = param_1[0x11];
    *(undefined4 *)(iVar3 + 0x5c) = 1;
    *(undefined4 *)(iVar3 + 0x60) = 1;
    *(undefined4 *)(iVar3 + 0x54) = 0x4d;
    *(undefined4 *)(iVar3 + 100) = 0;
    *(undefined4 *)(iVar3 + 0x68) = 0;
    *(undefined4 *)(iVar3 + 0x6c) = 0;
    iVar3 = param_1[0x11];
    *(undefined4 *)(iVar3 + 0xb0) = 1;
    *(undefined4 *)(iVar3 + 0xb4) = 1;
    *(undefined4 *)(iVar3 + 0xa8) = 0x59;
    *(undefined4 *)(iVar3 + 0xb8) = 0;
    *(undefined4 *)(iVar3 + 0xbc) = 0;
    *(undefined4 *)(iVar3 + 0xc0) = 0;
    iVar3 = param_1[0x11];
    *(undefined4 *)(iVar3 + 0x104) = 1;
    *(undefined4 *)(iVar3 + 0x108) = 1;
    *(undefined4 *)(iVar3 + 0xfc) = 0x4b;
    *(undefined4 *)(iVar3 + 0x10c) = 0;
    *(undefined4 *)(iVar3 + 0x110) = 0;
    *(undefined4 *)(iVar3 + 0x114) = 0;
    return;
  case 5:
    puVar1 = (undefined4 *)param_1[0x11];
    param_1[0xf] = 4;
    *(undefined1 *)(param_1 + 0x33) = 1;
    *puVar1 = 1;
    puVar1[4] = 0;
    puVar1[5] = 0;
    puVar1[6] = 0;
    puVar1[2] = 2;
    puVar1[3] = 2;
    iVar3 = param_1[0x11];
    *(undefined4 *)(iVar3 + 0x5c) = 1;
    *(undefined4 *)(iVar3 + 0x60) = 1;
    *(undefined4 *)(iVar3 + 100) = 1;
    *(undefined4 *)(iVar3 + 0x68) = 1;
    *(undefined4 *)(iVar3 + 0x6c) = 1;
    *(undefined4 *)(iVar3 + 0x54) = 2;
    iVar3 = param_1[0x11];
    *(undefined4 *)(iVar3 + 0xb0) = 1;
    *(undefined4 *)(iVar3 + 0xb4) = 1;
    *(undefined4 *)(iVar3 + 0xb8) = 1;
    *(undefined4 *)(iVar3 + 0xbc) = 1;
    *(undefined4 *)(iVar3 + 0xc0) = 1;
    *(undefined4 *)(iVar3 + 0xa8) = 3;
    iVar3 = param_1[0x11];
    *(undefined4 *)(iVar3 + 0xfc) = 4;
    *(undefined4 *)(iVar3 + 0x104) = 2;
    *(undefined4 *)(iVar3 + 0x108) = 2;
    *(undefined4 *)(iVar3 + 0x10c) = 0;
    *(undefined4 *)(iVar3 + 0x110) = 0;
    *(undefined4 *)(iVar3 + 0x114) = 0;
    return;
  default:
    *(undefined4 *)(*param_1 + 0x14) = 10;
    (**(code **)*param_1)(param_1);
    return;
  }
  iVar3 = param_1[9];
  param_1[0xf] = iVar3;
  if ((iVar3 < 1) || (10 < iVar3)) {
    *(undefined4 *)(*param_1 + 0x14) = 0x1a;
    *(int *)(*param_1 + 0x18) = param_1[0xf];
    *(undefined4 *)(*param_1 + 0x1c) = 10;
    (**(code **)*param_1)(param_1);
  }
  if (0 < param_1[0xf]) {
    iVar4 = 0;
    iVar3 = 0;
    do {
      piVar2 = (int *)(param_1[0x11] + iVar4);
      *piVar2 = iVar3;
      iVar3 = iVar3 + 1;
      piVar2[2] = 1;
      piVar2[3] = 1;
      piVar2[4] = 0;
      piVar2[5] = 0;
      piVar2[6] = 0;
      iVar4 = iVar4 + 0x54;
    } while (iVar3 < param_1[0xf]);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006d7570 : PUSH EBX
006d7571 : PUSH ESI
006d7572 : MOV ESI,dword ptr [ESP + 0xc]
006d7576 : CMP dword ptr [ESI + 0x14],0x64
006d757a : JZ 0x006d7597
006d757c : MOV EAX,dword ptr [ESI]
006d757e : MOV dword ptr [EAX + 0x14],0x14
006d7585 : MOV ECX,dword ptr [ESI]
006d7587 : MOV EDX,dword ptr [ESI + 0x14]
006d758a : MOV dword ptr [ECX + 0x18],EDX
006d758d : MOV EAX,dword ptr [ESI]
006d758f : MOV ECX,dword ptr [EAX]
006d7591 : PUSH ESI
006d7592 : CALL ECX
006d7594 : ADD ESP,0x4
006d7597 : MOV EAX,dword ptr [ESP + 0x10]
006d759b : MOV dword ptr [ESI + 0x40],EAX
006d759e : MOV byte ptr [ESI + 0xc4],0x0
006d75a5 : MOV byte ptr [ESI + 0xcc],0x0
006d75ac : CMP EAX,0x5
006d75af : JA 0x006d7824
006d75b5 : JMP dword ptr [EAX*0x4 + 0x6d783c]
006d75bc : MOV EBX,0x1
006d75c1 : MOV byte ptr [ESI + 0xc4],BL
006d75c7 : MOV dword ptr [ESI + 0x3c],EBX
006d75ca : MOV ESI,dword ptr [ESI + 0x44]
006d75cd : XOR EAX,EAX
006d75cf : MOV dword ptr [ESI],EBX
006d75d1 : MOV dword ptr [ESI + 0x8],EBX
006d75d4 : MOV dword ptr [ESI + 0xc],EBX
006d75d7 : MOV dword ptr [ESI + 0x10],EAX
006d75da : MOV dword ptr [ESI + 0x14],EAX
006d75dd : MOV dword ptr [ESI + 0x18],EAX
006d75e0 : POP ESI
006d75e1 : POP EBX
006d75e2 : RET
006d75e3 : MOV EAX,dword ptr [ESI + 0x44]
006d75e6 : MOV dword ptr [ESI + 0x3c],0x3
006d75ed : XOR ECX,ECX
006d75ef : MOV EBX,0x1
006d75f4 : MOV byte ptr [ESI + 0xcc],BL
006d75fa : MOV dword ptr [EAX + 0x8],EBX
006d75fd : MOV dword ptr [EAX + 0xc],EBX
006d7600 : MOV dword ptr [EAX],0x52
006d7606 : MOV dword ptr [EAX + 0x10],ECX
006d7609 : MOV dword ptr [EAX + 0x14],ECX
006d760c : MOV dword ptr [EAX + 0x18],ECX
006d760f : MOV EAX,dword ptr [ESI + 0x44]
006d7612 : ADD EAX,0x54
006d7615 : MOV dword ptr [EAX + 0x8],EBX
006d7618 : MOV dword ptr [EAX + 0xc],EBX
006d761b : MOV dword ptr [EAX],0x47
006d7621 : MOV dword ptr [EAX + 0x10],ECX
006d7624 : MOV dword ptr [EAX + 0x14],ECX
006d7627 : MOV dword ptr [EAX + 0x18],ECX
006d762a : MOV ESI,dword ptr [ESI + 0x44]
006d762d : ADD ESI,0xa8
006d7633 : MOV dword ptr [ESI + 0x8],EBX
006d7636 : MOV dword ptr [ESI + 0xc],EBX
006d7639 : MOV dword ptr [ESI],0x42
006d763f : MOV dword ptr [ESI + 0x10],ECX
006d7642 : MOV dword ptr [ESI + 0x14],ECX
006d7645 : MOV dword ptr [ESI + 0x18],ECX
006d7648 : POP ESI
006d7649 : POP EBX
006d764a : RET
006d764b : MOV EAX,dword ptr [ESI + 0x44]
006d764e : MOV dword ptr [ESI + 0x3c],0x3
006d7655 : MOV EBX,0x1
006d765a : MOV byte ptr [ESI + 0xc4],BL
006d7660 : MOV dword ptr [EAX],EBX
006d7662 : XOR ECX,ECX
006d7664 : MOV dword ptr [EAX + 0x10],ECX
006d7667 : MOV dword ptr [EAX + 0x14],ECX
006d766a : MOV dword ptr [EAX + 0x18],ECX
006d766d : MOV EDX,0x2
006d7672 : MOV dword ptr [EAX + 0x8],EDX
006d7675 : MOV dword ptr [EAX + 0xc],EDX
006d7678 : MOV EAX,dword ptr [ESI + 0x44]
006d767b : ADD EAX,0x54
006d767e : MOV dword ptr [EAX + 0x8],EBX
006d7681 : MOV dword ptr [EAX + 0xc],EBX
006d7684 : MOV dword ptr [EAX + 0x10],EBX
006d7687 : MOV dword ptr [EAX + 0x14],EBX
006d768a : MOV dword ptr [EAX + 0x18],EBX
006d768d : MOV dword ptr [EAX],EDX
006d768f : MOV ESI,dword ptr [ESI + 0x44]
006d7692 : ADD ESI,0xa8
006d7698 : MOV dword ptr [ESI + 0x8],EBX
006d769b : MOV dword ptr [ESI + 0xc],EBX
006d769e : MOV dword ptr [ESI + 0x10],EBX
006d76a1 : MOV dword ptr [ESI + 0x14],EBX
006d76a4 : MOV dword ptr [ESI + 0x18],EBX
006d76a7 : MOV dword ptr [ESI],0x3
006d76ad : POP ESI
006d76ae : POP EBX
006d76af : RET
006d76b0 : MOV EAX,dword ptr [ESI + 0x44]
006d76b3 : MOV dword ptr [ESI + 0x3c],0x4
006d76ba : XOR ECX,ECX
006d76bc : MOV EBX,0x1
006d76c1 : MOV byte ptr [ESI + 0xcc],BL
006d76c7 : MOV dword ptr [EAX + 0x8],EBX
006d76ca : MOV dword ptr [EAX + 0xc],EBX
006d76cd : MOV dword ptr [EAX],0x43
006d76d3 : MOV dword ptr [EAX + 0x10],ECX
006d76d6 : MOV dword ptr [EAX + 0x14],ECX
006d76d9 : MOV dword ptr [EAX + 0x18],ECX
006d76dc : MOV EAX,dword ptr [ESI + 0x44]
006d76df : MOV dword ptr [EAX + 0x5c],EBX
006d76e2 : MOV dword ptr [EAX + 0x60],EBX
006d76e5 : MOV dword ptr [EAX + 0x54],0x4d
006d76ec : MOV dword ptr [EAX + 0x64],ECX
006d76ef : MOV dword ptr [EAX + 0x68],ECX
006d76f2 : MOV dword ptr [EAX + 0x6c],ECX
006d76f5 : ADD EAX,0x54
006d76f8 : MOV EAX,dword ptr [ESI + 0x44]
006d76fb : ADD EAX,0xa8
006d7700 : MOV dword ptr [EAX + 0x8],EBX
006d7703 : MOV dword ptr [EAX + 0xc],EBX
006d7706 : MOV dword ptr [EAX],0x59
006d770c : MOV dword ptr [EAX + 0x10],ECX
006d770f : MOV dword ptr [EAX + 0x14],ECX
006d7712 : MOV dword ptr [EAX + 0x18],ECX
006d7715 : MOV ESI,dword ptr [ESI + 0x44]
006d7718 : ADD ESI,0xfc
006d771e : MOV dword ptr [ESI + 0x8],EBX
006d7721 : MOV dword ptr [ESI + 0xc],EBX
006d7724 : MOV dword ptr [ESI],0x4b
006d772a : MOV dword ptr [ESI + 0x10],ECX
006d772d : MOV dword ptr [ESI + 0x14],ECX
006d7730 : MOV dword ptr [ESI + 0x18],ECX
006d7733 : POP ESI
006d7734 : POP EBX
006d7735 : RET
006d7736 : MOV EAX,dword ptr [ESI + 0x44]
006d7739 : MOV dword ptr [ESI + 0x3c],0x4
006d7740 : MOV EBX,0x1
006d7745 : MOV byte ptr [ESI + 0xcc],BL
006d774b : MOV dword ptr [EAX],EBX
006d774d : XOR ECX,ECX
006d774f : MOV dword ptr [EAX + 0x10],ECX
006d7752 : MOV dword ptr [EAX + 0x14],ECX
006d7755 : MOV dword ptr [EAX + 0x18],ECX
006d7758 : MOV EDX,0x2
006d775d : MOV dword ptr [EAX + 0x8],EDX
006d7760 : MOV dword ptr [EAX + 0xc],EDX
006d7763 : MOV EAX,dword ptr [ESI + 0x44]
006d7766 : MOV dword ptr [EAX + 0x5c],EBX
006d7769 : MOV dword ptr [EAX + 0x60],EBX
006d776c : MOV dword ptr [EAX + 0x64],EBX
006d776f : MOV dword ptr [EAX + 0x68],EBX
006d7772 : MOV dword ptr [EAX + 0x6c],EBX
006d7775 : MOV dword ptr [EAX + 0x54],EDX
006d7778 : ADD EAX,0x54
006d777b : MOV EAX,dword ptr [ESI + 0x44]
006d777e : ADD EAX,0xa8
006d7783 : MOV dword ptr [EAX + 0x8],EBX
006d7786 : MOV dword ptr [EAX + 0xc],EBX
006d7789 : MOV dword ptr [EAX + 0x10],EBX
006d778c : MOV dword ptr [EAX + 0x14],EBX
006d778f : MOV dword ptr [EAX + 0x18],EBX
006d7792 : MOV dword ptr [EAX],0x3
006d7798 : MOV ESI,dword ptr [ESI + 0x44]
006d779b : ADD ESI,0xfc
006d77a1 : MOV dword ptr [ESI],0x4
006d77a7 : MOV dword ptr [ESI + 0x8],EDX
006d77aa : MOV dword ptr [ESI + 0xc],EDX
006d77ad : MOV dword ptr [ESI + 0x10],ECX
006d77b0 : MOV dword ptr [ESI + 0x14],ECX
006d77b3 : MOV dword ptr [ESI + 0x18],ECX
006d77b6 : POP ESI
006d77b7 : POP EBX
006d77b8 : RET
006d77b9 : MOV EAX,dword ptr [ESI + 0x24]
006d77bc : MOV EBX,0x1
006d77c1 : CMP EAX,EBX
006d77c3 : MOV dword ptr [ESI + 0x3c],EAX
006d77c6 : JL 0x006d77cd
006d77c8 : CMP EAX,0xa
006d77cb : JLE 0x006d77f1
006d77cd : MOV EDX,dword ptr [ESI]
006d77cf : MOV dword ptr [EDX + 0x14],0x1a
006d77d6 : MOV EAX,dword ptr [ESI]
006d77d8 : MOV ECX,dword ptr [ESI + 0x3c]
006d77db : MOV dword ptr [EAX + 0x18],ECX
006d77de : MOV EDX,dword ptr [ESI]
006d77e0 : MOV dword ptr [EDX + 0x1c],0xa
006d77e7 : MOV EAX,dword ptr [ESI]
006d77e9 : MOV ECX,dword ptr [EAX]
006d77eb : PUSH ESI
006d77ec : CALL ECX
006d77ee : ADD ESP,0x4
006d77f1 : PUSH EDI
006d77f2 : XOR EDI,EDI
006d77f4 : XOR ECX,ECX
006d77f6 : CMP dword ptr [ESI + 0x3c],EDI
006d77f9 : JLE 0x006d7820
006d77fb : XOR EDX,EDX
006d77fd : LEA ECX,[ECX]
006d7800 : MOV EAX,dword ptr [ESI + 0x44]
006d7803 : ADD EAX,EDX
006d7805 : MOV dword ptr [EAX],ECX
006d7807 : ADD ECX,EBX
006d7809 : MOV dword ptr [EAX + 0x8],EBX
006d780c : MOV dword ptr [EAX + 0xc],EBX
006d780f : MOV dword ptr [EAX + 0x10],EDI
006d7812 : MOV dword ptr [EAX + 0x14],EDI
006d7815 : MOV dword ptr [EAX + 0x18],EDI
006d7818 : ADD EDX,0x54
006d781b : CMP ECX,dword ptr [ESI + 0x3c]
006d781e : JL 0x006d7800
006d7820 : POP EDI
006d7821 : POP ESI
006d7822 : POP EBX
006d7823 : RET
006d7824 : MOV EDX,dword ptr [ESI]
006d7826 : MOV dword ptr [EDX + 0x14],0xa
006d782d : MOV EAX,dword ptr [ESI]
006d782f : MOV ECX,dword ptr [EAX]
006d7831 : PUSH ESI
006d7832 : CALL ECX
006d7834 : ADD ESP,0x4
006d7837 : POP ESI
006d7838 : POP EBX
006d7839 : RET
