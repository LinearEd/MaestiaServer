PROGRAM  : Maestia.exe
FUNCTION : FUN_00a2d680
ENTRY    : 00a2d680
BODY     : [[00a2d680, 00a2d927]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a2d680(int param_1,int param_2)

{
  code *pcVar1;
  int *piVar2;
  int iVar3;
  undefined1 local_4c [28];
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b42a05;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar3 = *DAT_00da9894;
  if (((iVar3 != 0) && (*(int *)(iVar3 + 0x128) != 0)) &&
     (piVar2 = *(int **)(iVar3 + 0x128), local_14 = piVar2, piVar2 != (int *)0x0)) {
    if (param_2 == 0) {
      FUN_00406460(L"pData is Null !!");
      local_8 = 1;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                  (L"DeleteItem_SecondCheck_CallBack",0x12f3,local_30);
      }
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_18 = 7;
      local_1c = 0;
      local_2c = 0;
      FUN_00406460(L"pItem is Null !!");
      local_8 = 2;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                  (L"DeleteItem_SecondCheck_CallBack",0x12f6,local_30);
      }
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_18 = 7;
      local_1c = 0;
      local_2c = 0;
    }
    else if ((param_1 == 0) && (iVar3 != 0)) {
      if ((*(int *)(param_2 + 0x28) == 0) ||
         (piVar2 = (int *)FUN_008eb580(DAT_00d66fa0 ^ (uint)&stack0xfffffffc), piVar2 == (int *)0x0)
         ) {
        piVar2 = local_14;
        FUN_00406460(L"pPocket is Null !!");
        local_8 = 3;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"DeleteItem_SecondCheck_CallBack",0x1306,local_30);
        }
        local_8 = 0xffffffff;
        FUN_00406560();
      }
      else {
        iVar3 = (**(code **)(*piVar2 + 0x74))
                          (*(undefined2 *)(param_2 + 0x2c),*(undefined2 *)(param_2 + 0x2e));
        if (iVar3 != 0) {
          *(undefined1 *)(param_2 + 0x3c) = 1;
          FUN_00942a50(*(undefined2 *)(param_2 + 0x2c),*(undefined2 *)(param_2 + 0x2e));
          ExceptionList = local_10;
          return;
        }
        FUN_00406460(L"Can\'t find item from pocket... pDeleteItem is Null !!");
        local_8 = 4;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"DeleteItem_SecondCheck_CallBack",0x130c,local_4c);
        }
        local_8 = 0xffffffff;
        FUN_00406560();
        piVar2 = local_14;
      }
    }
    *(undefined2 *)(piVar2 + 0x11) = 0xffff;
    *(undefined2 *)((int)piVar2 + 0x46) = 0xffff;
    pcVar1 = *(code **)(*piVar2 + 0x20);
    *(undefined2 *)(piVar2 + 0x12) = 0xffff;
    *(undefined1 *)((int)piVar2 + 0x59) = 0;
    piVar2[0x13] = 0;
    piVar2[0x10] = -1;
    (*pcVar1)();
    ExceptionList = local_10;
    return;
  }
  FUN_00406460(L"pMouse is Null !!");
  local_8 = 0;
  if ((int *)*DAT_00da98e8 != (int *)0x0) {
    (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"DeleteItem_SecondCheck_CallBack",0x12ef,local_30);
  }
  local_8 = 0xffffffff;
  if (local_18 < 8) {
    ExceptionList = local_10;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00a2d680 : PUSH EBP
00a2d681 : MOV EBP,ESP
00a2d683 : PUSH -0x1
00a2d685 : PUSH 0xb42a05
00a2d68a : MOV EAX,FS:[0x0]
00a2d690 : PUSH EAX
00a2d691 : SUB ESP,0x3c
00a2d694 : PUSH EBX
00a2d695 : PUSH ESI
00a2d696 : PUSH EDI
00a2d697 : MOV EAX,[0x00d66fa0]
00a2d69c : XOR EAX,EBP
00a2d69e : PUSH EAX
00a2d69f : LEA EAX,[EBP + -0xc]
00a2d6a2 : MOV FS:[0x0],EAX
00a2d6a8 : MOV ECX,dword ptr [0x00da9894]
00a2d6ae : MOV EAX,dword ptr [ECX]
00a2d6b0 : XOR EDI,EDI
00a2d6b2 : CMP EAX,EDI
00a2d6b4 : JZ 0x00a2d6cb
00a2d6b6 : CMP dword ptr [EAX + 0x128],EDI
00a2d6bc : JZ 0x00a2d6cb
00a2d6be : MOV ESI,dword ptr [EAX + 0x128]
00a2d6c4 : MOV dword ptr [EBP + -0x10],ESI
00a2d6c7 : CMP ESI,EDI
00a2d6c9 : JNZ 0x00a2d734
00a2d6cb : PUSH 0xcc07bc
00a2d6d0 : LEA ECX,[EBP + -0x2c]
00a2d6d3 : CALL 0x00406460
00a2d6d8 : MOV dword ptr [EBP + -0x4],EDI
00a2d6db : MOV EAX,[0x00da98e8]
00a2d6e0 : MOV ECX,dword ptr [EAX]
00a2d6e2 : CMP ECX,EDI
00a2d6e4 : JZ 0x00a2d6fb
00a2d6e6 : MOV EDX,dword ptr [ECX]
00a2d6e8 : MOV EDX,dword ptr [EDX + 0x14]
00a2d6eb : LEA EAX,[EBP + -0x2c]
00a2d6ee : PUSH EAX
00a2d6ef : PUSH 0x12ef
00a2d6f4 : PUSH 0xcc07e0
00a2d6f9 : CALL EDX
00a2d6fb : MOV dword ptr [EBP + -0x4],0xffffffff
00a2d702 : CMP dword ptr [EBP + -0x14],0x8
00a2d706 : JC 0x00a2d710
00a2d708 : MOV ECX,dword ptr [EBP + -0x28]
00a2d70b : CALL 0x006f04e0
00a2d710 : XOR EAX,EAX
00a2d712 : MOV dword ptr [EBP + -0x14],0x7
00a2d719 : MOV dword ptr [EBP + -0x18],EDI
00a2d71c : MOV word ptr [EBP + -0x28],AX
00a2d720 : MOV ECX,dword ptr [EBP + -0xc]
00a2d723 : MOV dword ptr FS:[0x0],ECX
00a2d72a : POP ECX
00a2d72b : POP EDI
00a2d72c : POP ESI
00a2d72d : POP EBX
00a2d72e : MOV ESP,EBP
00a2d730 : POP EBP
00a2d731 : RET 0x8
00a2d734 : MOV EBX,dword ptr [EBP + 0xc]
00a2d737 : CMP EBX,EDI
00a2d739 : JNZ 0x00a2d830
00a2d73f : PUSH 0xcc0820
00a2d744 : LEA ECX,[EBP + -0x2c]
00a2d747 : CALL 0x00406460
00a2d74c : MOV dword ptr [EBP + -0x4],0x1
00a2d753 : MOV ECX,dword ptr [0x00da98e8]
00a2d759 : MOV ECX,dword ptr [ECX]
00a2d75b : CMP ECX,EDI
00a2d75d : JZ 0x00a2d774
00a2d75f : MOV EDX,dword ptr [ECX]
00a2d761 : MOV EDX,dword ptr [EDX + 0x14]
00a2d764 : LEA EAX,[EBP + -0x2c]
00a2d767 : PUSH EAX
00a2d768 : PUSH 0x12f3
00a2d76d : PUSH 0xcc0848
00a2d772 : CALL EDX
00a2d774 : MOV dword ptr [EBP + -0x4],0xffffffff
00a2d77b : CMP dword ptr [EBP + -0x14],0x8
00a2d77f : JC 0x00a2d789
00a2d781 : MOV ECX,dword ptr [EBP + -0x28]
00a2d784 : CALL 0x006f04e0
00a2d789 : XOR EAX,EAX
00a2d78b : MOV EBX,0x7
00a2d790 : PUSH 0xcc0888
00a2d795 : LEA ECX,[EBP + -0x2c]
00a2d798 : MOV dword ptr [EBP + -0x14],EBX
00a2d79b : MOV dword ptr [EBP + -0x18],EDI
00a2d79e : MOV word ptr [EBP + -0x28],AX
00a2d7a2 : CALL 0x00406460
00a2d7a7 : MOV dword ptr [EBP + -0x4],0x2
00a2d7ae : MOV ECX,dword ptr [0x00da98e8]
00a2d7b4 : MOV ECX,dword ptr [ECX]
00a2d7b6 : CMP ECX,EDI
00a2d7b8 : JZ 0x00a2d7cf
00a2d7ba : MOV EDX,dword ptr [ECX]
00a2d7bc : MOV EDX,dword ptr [EDX + 0x14]
00a2d7bf : LEA EAX,[EBP + -0x2c]
00a2d7c2 : PUSH EAX
00a2d7c3 : PUSH 0x12f6
00a2d7c8 : PUSH 0xcc08b0
00a2d7cd : CALL EDX
00a2d7cf : MOV dword ptr [EBP + -0x4],0xffffffff
00a2d7d6 : CMP dword ptr [EBP + -0x14],0x8
00a2d7da : JC 0x00a2d7e4
00a2d7dc : MOV ECX,dword ptr [EBP + -0x28]
00a2d7df : CALL 0x006f04e0
00a2d7e4 : XOR EAX,EAX
00a2d7e6 : MOV dword ptr [EBP + -0x14],EBX
00a2d7e9 : MOV dword ptr [EBP + -0x18],EDI
00a2d7ec : MOV word ptr [EBP + -0x28],AX
00a2d7f0 : MOV EDX,0xffff
00a2d7f5 : MOV EAX,EDX
00a2d7f7 : MOV ECX,EAX
00a2d7f9 : MOV word ptr [ESI + 0x44],DX
00a2d7fd : MOV EDX,dword ptr [ESI]
00a2d7ff : MOV word ptr [ESI + 0x46],AX
00a2d803 : MOV EAX,dword ptr [EDX + 0x20]
00a2d806 : MOV word ptr [ESI + 0x48],CX
00a2d80a : MOV ECX,ESI
00a2d80c : MOV byte ptr [ESI + 0x59],0x0
00a2d810 : MOV dword ptr [ESI + 0x4c],EDI
00a2d813 : MOV dword ptr [ESI + 0x40],0xffffffff
00a2d81a : CALL EAX
00a2d81c : MOV ECX,dword ptr [EBP + -0xc]
00a2d81f : MOV dword ptr FS:[0x0],ECX
00a2d826 : POP ECX
00a2d827 : POP EDI
00a2d828 : POP ESI
00a2d829 : POP EBX
00a2d82a : MOV ESP,EBP
00a2d82c : POP EBP
00a2d82d : RET 0x8
00a2d830 : CMP dword ptr [EBP + 0x8],EDI
00a2d833 : JNZ 0x00a2d7f0
00a2d835 : CMP EAX,EDI
00a2d837 : JZ 0x00a2d7f0
00a2d839 : MOV ECX,dword ptr [EBX + 0x28]
00a2d83c : CMP ECX,EDI
00a2d83e : JZ 0x00a2d853
00a2d840 : MOV EDI,dword ptr [ECX + 0x2c]
00a2d843 : CALL 0x008eb580
00a2d848 : MOV ESI,EAX
00a2d84a : TEST ESI,ESI
00a2d84c : JNZ 0x00a2d89c
00a2d84e : MOV ESI,dword ptr [EBP + -0x10]
00a2d851 : XOR EDI,EDI
00a2d853 : PUSH 0xcc08f0
00a2d858 : LEA ECX,[EBP + -0x2c]
00a2d85b : CALL 0x00406460
00a2d860 : MOV dword ptr [EBP + -0x4],0x3
00a2d867 : MOV ECX,dword ptr [0x00da98e8]
00a2d86d : MOV ECX,dword ptr [ECX]
00a2d86f : CMP ECX,EDI
00a2d871 : JZ 0x00a2d888
00a2d873 : MOV EDX,dword ptr [ECX]
00a2d875 : MOV EDX,dword ptr [EDX + 0x14]
00a2d878 : LEA EAX,[EBP + -0x2c]
00a2d87b : PUSH EAX
00a2d87c : PUSH 0x1306
00a2d881 : PUSH 0xcc0918
00a2d886 : CALL EDX
00a2d888 : MOV dword ptr [EBP + -0x4],0xffffffff
00a2d88f : LEA ECX,[EBP + -0x2c]
00a2d892 : CALL 0x00406560
00a2d897 : JMP 0x00a2d7f0
00a2d89c : MOVZX EAX,word ptr [EBX + 0x2e]
00a2d8a0 : MOVZX ECX,word ptr [EBX + 0x2c]
00a2d8a4 : MOV EDX,dword ptr [ESI]
00a2d8a6 : PUSH EAX
00a2d8a7 : MOV EAX,dword ptr [EDX + 0x74]
00a2d8aa : PUSH ECX
00a2d8ab : MOV ECX,ESI
00a2d8ad : CALL EAX
00a2d8af : TEST EAX,EAX
00a2d8b1 : JNZ 0x00a2d901
00a2d8b3 : PUSH 0xcc0958
00a2d8b8 : LEA ECX,[EBP + -0x48]
00a2d8bb : CALL 0x00406460
00a2d8c0 : MOV dword ptr [EBP + -0x4],0x4
00a2d8c7 : MOV ECX,dword ptr [0x00da98e8]
00a2d8cd : MOV ECX,dword ptr [ECX]
00a2d8cf : TEST ECX,ECX
00a2d8d1 : JZ 0x00a2d8e8
00a2d8d3 : MOV EDX,dword ptr [ECX]
00a2d8d5 : MOV EDX,dword ptr [EDX + 0x14]
00a2d8d8 : LEA EAX,[EBP + -0x48]
00a2d8db : PUSH EAX
00a2d8dc : PUSH 0x130c
00a2d8e1 : PUSH 0xcc09e8
00a2d8e6 : CALL EDX
00a2d8e8 : MOV dword ptr [EBP + -0x4],0xffffffff
00a2d8ef : LEA ECX,[EBP + -0x48]
00a2d8f2 : CALL 0x00406560
00a2d8f7 : MOV ESI,dword ptr [EBP + -0x10]
00a2d8fa : XOR EDI,EDI
00a2d8fc : JMP 0x00a2d7f0
00a2d901 : MOVZX EAX,word ptr [EBX + 0x2e]
00a2d905 : MOVZX ECX,word ptr [EBX + 0x2c]
00a2d909 : PUSH EAX
00a2d90a : PUSH ECX
00a2d90b : MOV byte ptr [EBX + 0x3c],0x1
00a2d90f : CALL 0x00942a50
00a2d914 : MOV ECX,dword ptr [EBP + -0xc]
00a2d917 : MOV dword ptr FS:[0x0],ECX
00a2d91e : POP ECX
00a2d91f : POP EDI
00a2d920 : POP ESI
00a2d921 : POP EBX
00a2d922 : MOV ESP,EBP
00a2d924 : POP EBP
00a2d925 : RET 0x8
