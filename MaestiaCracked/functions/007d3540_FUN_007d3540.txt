PROGRAM  : Maestia.exe
FUNCTION : FUN_007d3540
ENTRY    : 007d3540
BODY     : [[007d3540, 007d360b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d3540(undefined4 param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int *piVar3;
  uint uVar4;
  int iVar5;
  int *in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0eee2;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (in_ECX[2] != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  local_8 = 0;
  *(undefined1 *)(in_ECX + 0xa8) = (undefined1)param_1;
  iVar5 = (**(code **)(*in_ECX + 0x44))(uVar4);
  if (iVar5 != 0) {
    puVar1 = (undefined4 *)in_ECX[0xe];
    for (puVar2 = (undefined4 *)*puVar1; puVar2 != puVar1; puVar2 = (undefined4 *)*puVar2) {
      piVar3 = (int *)puVar2[9];
      iVar5 = (**(code **)(*piVar3 + 0x1c))();
      if ((iVar5 - 2U < 8) || (iVar5 = (**(code **)(*piVar3 + 0x1c))(), iVar5 == 1)) {
        (**(code **)(*piVar3 + 0xb0))(param_1);
      }
    }
  }
  local_8 = 0xffffffff;
  if (in_ECX[2] != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d3540 : PUSH EBP
007d3541 : MOV EBP,ESP
007d3543 : PUSH -0x1
007d3545 : PUSH 0xb0eee2
007d354a : MOV EAX,FS:[0x0]
007d3550 : PUSH EAX
007d3551 : SUB ESP,0x8
007d3554 : PUSH EBX
007d3555 : PUSH ESI
007d3556 : PUSH EDI
007d3557 : MOV EAX,[0x00d66fa0]
007d355c : XOR EAX,EBP
007d355e : PUSH EAX
007d355f : LEA EAX,[EBP + -0xc]
007d3562 : MOV FS:[0x0],EAX
007d3568 : MOV EBX,ECX
007d356a : MOV EAX,dword ptr [EBX + 0x8]
007d356d : MOV dword ptr [EBP + -0x14],EBX
007d3570 : TEST EAX,EAX
007d3572 : JZ 0x007d357e
007d3574 : ADD EAX,0x4
007d3577 : PUSH EAX
007d3578 : CALL dword ptr [0x00b85118]
007d357e : MOV dword ptr [EBP + -0x4],0x0
007d3585 : MOV AL,byte ptr [EBP + 0x8]
007d3588 : MOV EDX,dword ptr [EBX]
007d358a : MOV byte ptr [EBX + 0x2a0],AL
007d3590 : MOV EAX,dword ptr [EDX + 0x44]
007d3593 : MOV ECX,EBX
007d3595 : CALL EAX
007d3597 : TEST EAX,EAX
007d3599 : JZ 0x007d35e0
007d359b : MOV EAX,dword ptr [EBX + 0x38]
007d359e : MOV EDI,dword ptr [EAX]
007d35a0 : MOV dword ptr [EBP + -0x10],EAX
007d35a3 : CMP EDI,EAX
007d35a5 : JZ 0x007d35e0
007d35a7 : MOV ESI,dword ptr [EDI + 0x24]
007d35aa : MOV EDX,dword ptr [ESI]
007d35ac : MOV EAX,dword ptr [EDX + 0x1c]
007d35af : MOV ECX,ESI
007d35b1 : CALL EAX
007d35b3 : ADD EAX,-0x2
007d35b6 : CMP EAX,0x7
007d35b9 : JBE 0x007d35c9
007d35bb : MOV EDX,dword ptr [ESI]
007d35bd : MOV EAX,dword ptr [EDX + 0x1c]
007d35c0 : MOV ECX,ESI
007d35c2 : CALL EAX
007d35c4 : CMP EAX,0x1
007d35c7 : JNZ 0x007d35d9
007d35c9 : MOV EDX,dword ptr [ESI]
007d35cb : MOV EAX,dword ptr [EBP + 0x8]
007d35ce : MOV EDX,dword ptr [EDX + 0xb0]
007d35d4 : PUSH EAX
007d35d5 : MOV ECX,ESI
007d35d7 : CALL EDX
007d35d9 : MOV EDI,dword ptr [EDI]
007d35db : CMP EDI,dword ptr [EBP + -0x10]
007d35de : JNZ 0x007d35a7
007d35e0 : MOV dword ptr [EBP + -0x4],0xffffffff
007d35e7 : MOV EBX,dword ptr [EBX + 0x8]
007d35ea : TEST EBX,EBX
007d35ec : JZ 0x007d35f8
007d35ee : ADD EBX,0x4
007d35f1 : PUSH EBX
007d35f2 : CALL dword ptr [0x00b8511c]
007d35f8 : MOV ECX,dword ptr [EBP + -0xc]
007d35fb : MOV dword ptr FS:[0x0],ECX
007d3602 : POP ECX
007d3603 : POP EDI
007d3604 : POP ESI
007d3605 : POP EBX
007d3606 : MOV ESP,EBP
007d3608 : POP EBP
007d3609 : RET 0x4
