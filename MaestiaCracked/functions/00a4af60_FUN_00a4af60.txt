PROGRAM  : Maestia.exe
FUNCTION : FUN_00a4af60
ENTRY    : 00a4af60
BODY     : [[00a4af60, 00a4b006]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a4af60(int param_1,int param_2)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  wchar_t *pwVar4;
  undefined4 uVar5;
  
  piVar1 = *(int **)(param_1 + 0x1ec);
  piVar2 = (int *)*piVar1;
  if (piVar2 != piVar1) {
    iVar3 = *(int *)(param_2 + 4);
    do {
      if (piVar2[4] == iVar3) {
        *(undefined1 *)(piVar2 + 5) = 0;
        FUN_00406360(&DAT_00cc9f20,0);
        if (*(int *)(param_1 + 0x40) != 0) {
          (**(code **)(**(int **)(param_1 + 0x40) + 4))
                    (*(int **)(param_1 + 0x40),"SetCharPetInfo","%d, %d, %ls",
                     *(undefined2 *)(piVar2 + 3),0,&DAT_00cc9f24);
        }
        uVar5 = *(undefined4 *)(param_2 + 4);
        pwVar4 = L"[AvaGameLobby::OnCharPetUnregistered] unregistered %d\n";
        goto LAB_00a4afa5;
      }
      FUN_004412c0();
    } while (piVar2 != piVar1);
  }
  uVar5 = *(undefined4 *)(param_2 + 4);
  pwVar4 = L"[AvaGameLobby::OnCharPetUnregistered] char %d not found\n";
LAB_00a4afa5:
  FUN_008018d0(pwVar4,uVar5);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a4af60 : PUSH EBP
00a4af61 : MOV EBP,ESP
00a4af63 : PUSH ECX
00a4af64 : PUSH EBX
00a4af65 : MOV EBX,dword ptr [EBP + 0x8]
00a4af68 : PUSH ESI
00a4af69 : PUSH EDI
00a4af6a : MOV EDI,dword ptr [EBX + 0x1ec]
00a4af70 : MOV ESI,dword ptr [EDI]
00a4af72 : MOV dword ptr [EBP + 0x8],ESI
00a4af75 : CMP ESI,EDI
00a4af77 : JZ 0x00a4af99
00a4af79 : MOV EAX,dword ptr [EBP + 0xc]
00a4af7c : MOV ECX,dword ptr [EAX + 0x4]
00a4af7f : MOV dword ptr [EBP + -0x4],ECX
00a4af82 : MOV EDX,dword ptr [EBP + -0x4]
00a4af85 : CMP dword ptr [ESI + 0x10],EDX
00a4af88 : JZ 0x00a4afbc
00a4af8a : LEA EDX,[EBP + 0x8]
00a4af8d : CALL 0x004412c0
00a4af92 : MOV ESI,dword ptr [EBP + 0x8]
00a4af95 : CMP ESI,EDI
00a4af97 : JNZ 0x00a4af82
00a4af99 : MOV EAX,dword ptr [EBP + 0xc]
00a4af9c : MOV ECX,dword ptr [EAX + 0x4]
00a4af9f : PUSH ECX
00a4afa0 : PUSH 0xcc9fb8
00a4afa5 : MOV ESI,dword ptr [0x00da98e8]
00a4afab : CALL 0x008018d0
00a4afb0 : ADD ESP,0x8
00a4afb3 : POP EDI
00a4afb4 : POP ESI
00a4afb5 : POP EBX
00a4afb6 : MOV ESP,EBP
00a4afb8 : POP EBP
00a4afb9 : RET 0x8
00a4afbc : PUSH 0x0
00a4afbe : PUSH 0xcc9f20
00a4afc3 : LEA ECX,[ESI + 0x18]
00a4afc6 : MOV byte ptr [ESI + 0x14],0x0
00a4afca : CALL 0x00406360
00a4afcf : CMP dword ptr [EBX + 0x40],0x0
00a4afd3 : JZ 0x00a4aff9
00a4afd5 : MOVZX EDX,word ptr [ESI + 0xc]
00a4afd9 : MOV EAX,dword ptr [EBX + 0x40]
00a4afdc : MOV ECX,dword ptr [EAX]
00a4afde : PUSH 0xcc9f24
00a4afe3 : PUSH 0x0
00a4afe5 : PUSH EDX
00a4afe6 : PUSH 0xcc9f28
00a4afeb : PUSH 0xcc9f34
00a4aff0 : PUSH EAX
00a4aff1 : MOV EAX,dword ptr [ECX + 0x4]
00a4aff4 : CALL EAX
00a4aff6 : ADD ESP,0x18
00a4aff9 : MOV ECX,dword ptr [EBP + 0xc]
00a4affc : MOV EDX,dword ptr [ECX + 0x4]
00a4afff : PUSH EDX
00a4b000 : PUSH 0xcc9f48
00a4b005 : JMP 0x00a4afa5
