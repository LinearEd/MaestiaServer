PROGRAM  : Maestia.exe
FUNCTION : FUN_00484c80
ENTRY    : 00484c80
BODY     : [[00484c80, 00484df3] [00484e05, 00484f0d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00484c80(uint param_1,int param_2,uint param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  undefined4 uVar5;
  uint uVar6;
  uint extraout_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar2 = param_1;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7d090;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar3 = *(int *)(param_1 + 4);
  if (iVar3 == 0) {
    uVar6 = 0;
  }
  else {
    uVar6 = (*(int *)(param_1 + 0xc) - iVar3) / 0x18;
  }
  iVar1 = *(int *)(param_1 + 8);
  iVar3 = (iVar1 - iVar3) / 0x18;
  if (iVar3 == 0xaaaaaaa) {
    iVar3 = FUN_00429be0();
    uVar6 = extraout_ECX;
  }
  uVar4 = iVar3 + 1;
  if (uVar6 < uVar4) {
    if (0xaaaaaaa - (uVar6 >> 1) < uVar6) {
      param_1 = 0;
    }
    else {
      param_1 = uVar6 + (uVar6 >> 1);
    }
    if (param_1 < uVar4) {
      param_1 = uVar4;
    }
    iVar3 = FUN_00444a00();
    local_8 = 0;
    FUN_004849f0();
    FUN_00484f10(*(undefined4 *)(iVar2 + 4),param_2);
    FUN_00484f10(param_2,*(undefined4 *)(iVar2 + 8));
    local_8 = 0xffffffff;
    if (*(int *)(iVar2 + 4) != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(uint *)(iVar2 + 0xc) = iVar3 + param_1 * 0x18;
    *(int *)(iVar2 + 8) = iVar3 + ((*(int *)(iVar2 + 8) - *(int *)(iVar2 + 4)) / 0x18 + 1) * 0x18;
    *(int *)(iVar2 + 4) = iVar3;
    ExceptionList = local_10;
    return;
  }
  iVar3 = iVar1 - param_2 >> 0x1f;
  if ((iVar1 - param_2) / 0x18 + iVar3 == iVar3) {
    FUN_00484f10(param_2,iVar1);
    local_8 = 2;
    FUN_004849f0();
    local_8 = 0xffffffff;
    *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x18;
    FUN_00444bc0(param_2);
    ExceptionList = local_10;
    return;
  }
  uVar5 = FUN_00484f10(iVar1 + -0x18,iVar1);
  *(undefined4 *)(param_1 + 8) = uVar5;
  param_3 = param_3 & 0xffffff00;
  FUN_00444c50(param_2,param_2,param_2,param_3);
  FUN_00444bc0(param_2);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00484c80 : PUSH EBP
00484c81 : MOV EBP,ESP
00484c83 : PUSH -0x1
00484c85 : PUSH 0xb7d090
00484c8a : MOV EAX,FS:[0x0]
00484c90 : PUSH EAX
00484c91 : SUB ESP,0x30
00484c94 : PUSH EBX
00484c95 : PUSH ESI
00484c96 : PUSH EDI
00484c97 : MOV EAX,[0x00d66fa0]
00484c9c : XOR EAX,EBP
00484c9e : PUSH EAX
00484c9f : LEA EAX,[EBP + -0xc]
00484ca2 : MOV FS:[0x0],EAX
00484ca8 : MOV dword ptr [EBP + -0x10],ESP
00484cab : MOV EBX,dword ptr [EBP + 0x8]
00484cae : MOV ESI,dword ptr [EBX + 0x4]
00484cb1 : TEST ESI,ESI
00484cb3 : JNZ 0x00484cb9
00484cb5 : XOR ECX,ECX
00484cb7 : JMP 0x00484cd1
00484cb9 : MOV ECX,dword ptr [EBX + 0xc]
00484cbc : SUB ECX,ESI
00484cbe : MOV EAX,0x2aaaaaab
00484cc3 : IMUL ECX
00484cc5 : SAR EDX,0x2
00484cc8 : MOV EAX,EDX
00484cca : SHR EAX,0x1f
00484ccd : ADD EAX,EDX
00484ccf : MOV ECX,EAX
00484cd1 : MOV EDI,dword ptr [EBX + 0x8]
00484cd4 : MOV EDX,EDI
00484cd6 : SUB EDX,ESI
00484cd8 : MOV EAX,0x2aaaaaab
00484cdd : IMUL EDX
00484cdf : SAR EDX,0x2
00484ce2 : MOV EAX,EDX
00484ce4 : SHR EAX,0x1f
00484ce7 : ADD EAX,EDX
00484ce9 : MOV EDX,0xaaaaaaa
00484cee : SUB EDX,EAX
00484cf0 : CMP EDX,0x1
00484cf3 : JNC 0x00484cfa
00484cf5 : CALL 0x00429be0
00484cfa : INC EAX
00484cfb : CMP ECX,EAX
00484cfd : JNC 0x00484e05
00484d03 : MOV EDX,ECX
00484d05 : SHR EDX,0x1
00484d07 : MOV ESI,0xaaaaaaa
00484d0c : SUB ESI,EDX
00484d0e : CMP ESI,ECX
00484d10 : JNC 0x00484d1e
00484d12 : MOV dword ptr [EBP + 0x8],0x0
00484d19 : MOV ECX,dword ptr [EBP + 0x8]
00484d1c : JMP 0x00484d23
00484d1e : ADD ECX,EDX
00484d20 : MOV dword ptr [EBP + 0x8],ECX
00484d23 : CMP ECX,EAX
00484d25 : JNC 0x00484d2c
00484d27 : MOV dword ptr [EBP + 0x8],EAX
00484d2a : MOV ECX,EAX
00484d2c : CALL 0x00444a00
00484d31 : MOV ESI,EAX
00484d33 : MOV dword ptr [EBP + -0x18],ESI
00484d36 : MOV ECX,dword ptr [EBP + 0xc]
00484d39 : SUB ECX,dword ptr [EBX + 0x4]
00484d3c : MOV EAX,0x2aaaaaab
00484d41 : IMUL ECX
00484d43 : SAR EDX,0x2
00484d46 : MOV EAX,EDX
00484d48 : SHR EAX,0x1f
00484d4b : ADD EAX,EDX
00484d4d : MOV dword ptr [EBP + -0x20],EAX
00484d50 : MOV dword ptr [EBP + -0x4],0x0
00484d57 : LEA EAX,[EAX + EAX*0x2]
00484d5a : LEA EDI,[ESI + EAX*0x8]
00484d5d : MOV EDX,dword ptr [EBP + 0x10]
00484d60 : MOV ESI,0x1
00484d65 : CALL 0x004849f0
00484d6a : MOV dword ptr [EBP + -0x1c],ESI
00484d6d : MOV ECX,dword ptr [EBP + 0xc]
00484d70 : PUSH ECX
00484d71 : MOV EDX,dword ptr [EBX + 0x4]
00484d74 : PUSH EDX
00484d75 : MOV ESI,dword ptr [EBP + -0x18]
00484d78 : MOV EDX,ESI
00484d7a : CALL 0x00484f10
00484d7f : MOV dword ptr [EBP + -0x1c],0x2
00484d86 : MOV EAX,dword ptr [EBP + -0x20]
00484d89 : LEA EAX,[EAX + EAX*0x2 + 0x3]
00484d8d : LEA EDX,[ESI + EAX*0x8]
00484d90 : MOV ECX,dword ptr [EBX + 0x8]
00484d93 : PUSH ECX
00484d94 : MOV EAX,dword ptr [EBP + 0xc]
00484d97 : PUSH EAX
00484d98 : CALL 0x00484f10
00484d9d : MOV dword ptr [EBP + -0x4],0xffffffff
00484da4 : MOV ECX,dword ptr [EBX + 0x4]
00484da7 : MOV EDX,dword ptr [EBX + 0x8]
00484daa : SUB EDX,ECX
00484dac : MOV EAX,0x2aaaaaab
00484db1 : IMUL EDX
00484db3 : SAR EDX,0x2
00484db6 : MOV EAX,EDX
00484db8 : SHR EAX,0x1f
00484dbb : LEA EDI,[EDX + EAX*0x1 + 0x1]
00484dbf : TEST ECX,ECX
00484dc1 : JZ 0x00484dc8
00484dc3 : CALL 0x006f04e0
00484dc8 : MOV EAX,dword ptr [EBP + 0x8]
00484dcb : LEA ECX,[EAX + EAX*0x2]
00484dce : LEA EDX,[ESI + ECX*0x8]
00484dd1 : MOV dword ptr [EBX + 0xc],EDX
00484dd4 : LEA EAX,[EDI + EDI*0x2]
00484dd7 : LEA ECX,[ESI + EAX*0x8]
00484dda : MOV dword ptr [EBX + 0x8],ECX
00484ddd : MOV dword ptr [EBX + 0x4],ESI
00484de0 : MOV ECX,dword ptr [EBP + -0xc]
00484de3 : MOV dword ptr FS:[0x0],ECX
00484dea : POP ECX
00484deb : POP EDI
00484dec : POP ESI
00484ded : POP EBX
00484dee : MOV ESP,EBP
00484df0 : POP EBP
00484df1 : RET 0xc
00484e05 : MOV ECX,EDI
00484e07 : MOV ESI,dword ptr [EBP + 0xc]
00484e0a : SUB ECX,ESI
00484e0c : MOV EAX,0x2aaaaaab
00484e11 : IMUL ECX
00484e13 : SAR EDX,0x2
00484e16 : MOV EAX,EDX
00484e18 : SHR EAX,0x1f
00484e1b : ADD EAX,EDX
00484e1d : PUSH EDI
00484e1e : CMP EAX,0x1
00484e21 : MOV EAX,dword ptr [EBP + 0x10]
00484e24 : MOVQ XMM0,qword ptr [EAX]
00484e28 : MOVQ qword ptr [EBP + -0x38],XMM0
00484e2d : MOVQ XMM0,qword ptr [EAX + 0xc]
00484e32 : MOVQ qword ptr [EBP + -0x2c],XMM0
00484e37 : JNC 0x00484eb1
00484e39 : MOV ECX,dword ptr [EAX + 0x8]
00484e3c : MOV dword ptr [EBP + -0x30],ECX
00484e3f : MOV EDX,dword ptr [EAX + 0x14]
00484e42 : MOV dword ptr [EBP + -0x24],EDX
00484e45 : LEA EDX,[ESI + 0x18]
00484e48 : PUSH ESI
00484e49 : CALL 0x00484f10
00484e4e : MOV dword ptr [EBP + -0x4],0x2
00484e55 : MOV EDI,dword ptr [EBX + 0x8]
00484e58 : MOV ECX,EDI
00484e5a : SUB ECX,dword ptr [EBP + 0xc]
00484e5d : MOV EAX,0x2aaaaaab
00484e62 : IMUL ECX
00484e64 : SAR EDX,0x2
00484e67 : MOV EAX,EDX
00484e69 : SHR EAX,0x1f
00484e6c : ADD EAX,EDX
00484e6e : MOV ESI,0x1
00484e73 : SUB ESI,EAX
00484e75 : LEA EDX,[EBP + -0x38]
00484e78 : CALL 0x004849f0
00484e7d : MOV dword ptr [EBP + -0x4],0xffffffff
00484e84 : ADD dword ptr [EBX + 0x8],0x18
00484e88 : MOV EBX,dword ptr [EBX + 0x8]
00484e8b : LEA EDX,[EBX + -0x18]
00484e8e : MOV ECX,dword ptr [EBP + 0xc]
00484e91 : PUSH ECX
00484e92 : LEA ECX,[EBP + -0x38]
00484e95 : CALL 0x00444bc0
00484e9a : ADD ESP,0x4
00484e9d : MOV ECX,dword ptr [EBP + -0xc]
00484ea0 : MOV dword ptr FS:[0x0],ECX
00484ea7 : POP ECX
00484ea8 : POP EDI
00484ea9 : POP ESI
00484eaa : POP EBX
00484eab : MOV ESP,EBP
00484ead : POP EBP
00484eae : RET 0xc
00484eb1 : MOV EDX,dword ptr [EAX + 0x8]
00484eb4 : MOV dword ptr [EBP + -0x30],EDX
00484eb7 : MOV EAX,dword ptr [EAX + 0x14]
00484eba : MOV dword ptr [EBP + -0x24],EAX
00484ebd : LEA ESI,[EDI + -0x18]
00484ec0 : PUSH ESI
00484ec1 : MOV EDX,EDI
00484ec3 : CALL 0x00484f10
00484ec8 : MOV dword ptr [EBX + 0x8],EAX
00484ecb : MOV byte ptr [EBP + 0x10],0x0
00484ecf : MOV ECX,dword ptr [EBP + 0x10]
00484ed2 : PUSH ECX
00484ed3 : MOV EDX,dword ptr [EBP + 0xc]
00484ed6 : PUSH EDX
00484ed7 : MOV EAX,dword ptr [EBP + 0xc]
00484eda : PUSH EAX
00484edb : MOV ECX,dword ptr [EBP + 0xc]
00484ede : PUSH ECX
00484edf : MOV EAX,EDI
00484ee1 : MOV ECX,ESI
00484ee3 : CALL 0x00444c50
00484ee8 : MOV EAX,dword ptr [EBP + 0xc]
00484eeb : LEA EDX,[EAX + 0x18]
00484eee : PUSH EAX
00484eef : LEA ECX,[EBP + -0x38]
00484ef2 : CALL 0x00444bc0
00484ef7 : ADD ESP,0x14
00484efa : MOV ECX,dword ptr [EBP + -0xc]
00484efd : MOV dword ptr FS:[0x0],ECX
00484f04 : POP ECX
00484f05 : POP EDI
00484f06 : POP ESI
00484f07 : POP EBX
00484f08 : MOV ESP,EBP
00484f0a : POP EBP
00484f0b : RET 0xc
