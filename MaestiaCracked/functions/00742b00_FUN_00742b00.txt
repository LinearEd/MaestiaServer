PROGRAM  : Maestia.exe
FUNCTION : FUN_00742b00
ENTRY    : 00742b00
BODY     : [[00742b00, 00742bfe] [00742c00, 00742cc2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00742b00(void)

{
  undefined4 *puVar1;
  int *piVar2;
  uint uVar3;
  int *piVar4;
  uint uVar5;
  int *in_ECX;
  int iVar6;
  int *piVar7;
  int iVar8;
  int *local_34;
  int *local_30;
  undefined1 auStack_28 [4];
  int local_24;
  int *local_20;
  int local_1c;
  void *local_14;
  undefined1 *puStack_10;
  int local_c;
  
  puStack_10 = &LAB_00b36a46;
  local_14 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xffffffb8;
  ExceptionList = &local_14;
  piVar7 = (int *)0x0;
  iVar6 = 0;
  local_24 = 0;
  local_20 = (int *)0x0;
  local_1c = 0;
  local_c = 0;
  if (in_ECX[2] != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  local_c._0_1_ = 1;
  local_30 = (int *)in_ECX[0x62];
  piVar4 = (int *)*local_30;
  if (piVar4 != local_30) {
    do {
      piVar2 = (int *)piVar4[9];
      local_34 = piVar2;
      if (piVar2 == (int *)0x0) {
        local_c = (uint)local_c._1_3_ << 8;
        if (in_ECX[2] != 0) {
          LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
        }
        local_c = 0xffffffff;
        if (iVar6 == 0) {
          ExceptionList = local_14;
          return;
        }
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0(uVar3);
      }
      iVar8 = (**(code **)(*piVar2 + 4))();
      if (iVar8 == 0xf) {
        if (iVar6 == 0) {
          uVar5 = 0;
        }
        else {
          uVar5 = local_1c - iVar6 >> 2;
        }
        if ((uint)((int)piVar7 - iVar6 >> 2) < uVar5) {
          *piVar7 = (int)piVar2;
          local_20 = piVar7 + 1;
          piVar7 = local_20;
        }
        else {
          FUN_0042fe80(auStack_28,piVar7,&local_34);
          iVar6 = local_24;
          piVar7 = local_20;
        }
      }
      piVar4 = (int *)*piVar4;
    } while (piVar4 != local_30);
  }
  local_c = (uint)local_c._1_3_ << 8;
  if (in_ECX[2] != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  local_30 = (int *)((int)piVar7 - iVar6 >> 2);
  iVar8 = 0;
  if (0 < (int)local_30) {
    do {
      puVar1 = *(undefined4 **)(iVar6 + iVar8 * 4);
      (**(code **)(*in_ECX + 0xf4))(puVar1 + 2);
      if (puVar1 != (undefined4 *)0x0) {
        (**(code **)*puVar1)(1);
      }
      iVar8 = iVar8 + 1;
    } while (iVar8 < (int)local_30);
  }
  local_c = 0xffffffff;
  if (iVar6 == 0) {
    ExceptionList = local_14;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0(uVar3);
}



============================================================
DISASSEMBLY
============================================================
00742b00 : PUSH EBP
00742b01 : MOV EBP,ESP
00742b03 : AND ESP,0xfffffff8
00742b06 : PUSH -0x1
00742b08 : PUSH 0xb36a46
00742b0d : MOV EAX,FS:[0x0]
00742b13 : PUSH EAX
00742b14 : SUB ESP,0x28
00742b17 : PUSH EBX
00742b18 : PUSH ESI
00742b19 : PUSH EDI
00742b1a : MOV EAX,[0x00d66fa0]
00742b1f : XOR EAX,ESP
00742b21 : PUSH EAX
00742b22 : LEA EAX,[ESP + 0x38]
00742b26 : MOV FS:[0x0],EAX
00742b2c : MOV EDI,ECX
00742b2e : MOV dword ptr [ESP + 0x14],EDI
00742b32 : XOR ESI,ESI
00742b34 : XOR EBX,EBX
00742b36 : MOV dword ptr [ESP + 0x28],EBX
00742b3a : MOV dword ptr [ESP + 0x2c],ESI
00742b3e : MOV dword ptr [ESP + 0x30],ESI
00742b42 : MOV dword ptr [ESP + 0x40],ESI
00742b46 : MOV EAX,dword ptr [EDI + 0x8]
00742b49 : MOV dword ptr [ESP + 0x20],EDI
00742b4d : CMP EAX,ESI
00742b4f : JZ 0x00742b5b
00742b51 : ADD EAX,0x4
00742b54 : PUSH EAX
00742b55 : CALL dword ptr [0x00b85118]
00742b5b : MOV byte ptr [ESP + 0x40],0x1
00742b60 : MOV ECX,dword ptr [EDI + 0x188]
00742b66 : MOV EAX,dword ptr [ECX]
00742b68 : MOV dword ptr [ESP + 0x1c],ECX
00742b6c : MOV dword ptr [ESP + 0x10],EAX
00742b70 : CMP EAX,ECX
00742b72 : JNZ 0x00742c04
00742b78 : MOV byte ptr [ESP + 0x40],0x0
00742b7d : MOV EDI,dword ptr [EDI + 0x8]
00742b80 : TEST EDI,EDI
00742b82 : JZ 0x00742b8e
00742b84 : ADD EDI,0x4
00742b87 : PUSH EDI
00742b88 : CALL dword ptr [0x00b8511c]
00742b8e : SUB ESI,EBX
00742b90 : MOV EAX,ESI
00742b92 : SAR EAX,0x2
00742b95 : XOR ESI,ESI
00742b97 : XOR EDI,EDI
00742b99 : CMP EAX,ESI
00742b9b : MOV dword ptr [ESP + 0x1c],EAX
00742b9f : JLE 0x00742bcd
00742ba1 : MOV ESI,dword ptr [EBX + EDI*0x4]
00742ba4 : MOV ECX,dword ptr [ESP + 0x14]
00742ba8 : MOV EAX,dword ptr [ECX]
00742baa : MOV EAX,dword ptr [EAX + 0xf4]
00742bb0 : LEA EDX,[ESI + 0x8]
00742bb3 : PUSH EDX
00742bb4 : CALL EAX
00742bb6 : TEST ESI,ESI
00742bb8 : JZ 0x00742bc4
00742bba : MOV EDX,dword ptr [ESI]
00742bbc : MOV EAX,dword ptr [EDX]
00742bbe : PUSH 0x1
00742bc0 : MOV ECX,ESI
00742bc2 : CALL EAX
00742bc4 : INC EDI
00742bc5 : CMP EDI,dword ptr [ESP + 0x1c]
00742bc9 : JL 0x00742ba1
00742bcb : XOR ESI,ESI
00742bcd : MOV dword ptr [ESP + 0x40],0xffffffff
00742bd5 : CMP EBX,ESI
00742bd7 : JZ 0x00742be0
00742bd9 : MOV ECX,EBX
00742bdb : CALL 0x006f04e0
00742be0 : MOV dword ptr [ESP + 0x28],ESI
00742be4 : MOV dword ptr [ESP + 0x2c],ESI
00742be8 : MOV dword ptr [ESP + 0x30],ESI
00742bec : MOV ECX,dword ptr [ESP + 0x38]
00742bf0 : MOV dword ptr FS:[0x0],ECX
00742bf7 : POP ECX
00742bf8 : POP EDI
00742bf9 : POP ESI
00742bfa : POP EBX
00742bfb : MOV ESP,EBP
00742bfd : POP EBP
00742bfe : RET
00742c00 : MOV EAX,dword ptr [ESP + 0x10]
00742c04 : MOV EDI,dword ptr [EAX + 0x24]
00742c07 : MOV dword ptr [ESP + 0x18],EDI
00742c0b : TEST EDI,EDI
00742c0d : JZ 0x00742c75
00742c0f : MOV EAX,dword ptr [EDI]
00742c11 : MOV EDX,dword ptr [EAX + 0x4]
00742c14 : MOV ECX,EDI
00742c16 : CALL EDX
00742c18 : CMP EAX,0xf
00742c1b : JNZ 0x00742c5c
00742c1d : TEST EBX,EBX
00742c1f : JNZ 0x00742c25
00742c21 : XOR EAX,EAX
00742c23 : JMP 0x00742c2e
00742c25 : MOV EAX,dword ptr [ESP + 0x30]
00742c29 : SUB EAX,EBX
00742c2b : SAR EAX,0x2
00742c2e : MOV ECX,ESI
00742c30 : SUB ECX,EBX
00742c32 : SAR ECX,0x2
00742c35 : CMP ECX,EAX
00742c37 : JNC 0x00742c44
00742c39 : MOV dword ptr [ESI],EDI
00742c3b : ADD ESI,0x4
00742c3e : MOV dword ptr [ESP + 0x2c],ESI
00742c42 : JMP 0x00742c5c
00742c44 : LEA EDX,[ESP + 0x18]
00742c48 : PUSH EDX
00742c49 : PUSH ESI
00742c4a : LEA EAX,[ESP + 0x2c]
00742c4e : PUSH EAX
00742c4f : CALL 0x0042fe80
00742c54 : MOV ESI,dword ptr [ESP + 0x2c]
00742c58 : MOV EBX,dword ptr [ESP + 0x28]
00742c5c : MOV ECX,dword ptr [ESP + 0x10]
00742c60 : MOV EAX,dword ptr [ECX]
00742c62 : MOV dword ptr [ESP + 0x10],EAX
00742c66 : CMP EAX,dword ptr [ESP + 0x1c]
00742c6a : JNZ 0x00742c00
00742c6c : MOV EDI,dword ptr [ESP + 0x14]
00742c70 : JMP 0x00742b78
00742c75 : MOV byte ptr [ESP + 0x40],0x0
00742c7a : MOV EDX,dword ptr [ESP + 0x14]
00742c7e : MOV EAX,dword ptr [EDX + 0x8]
00742c81 : TEST EAX,EAX
00742c83 : JZ 0x00742c8f
00742c85 : ADD EAX,0x4
00742c88 : PUSH EAX
00742c89 : CALL dword ptr [0x00b8511c]
00742c8f : MOV dword ptr [ESP + 0x40],0xffffffff
00742c97 : TEST EBX,EBX
00742c99 : JZ 0x00742ca2
00742c9b : MOV ECX,EBX
00742c9d : CALL 0x006f04e0
00742ca2 : XOR EAX,EAX
00742ca4 : MOV dword ptr [ESP + 0x28],EAX
00742ca8 : MOV dword ptr [ESP + 0x2c],EAX
00742cac : MOV dword ptr [ESP + 0x30],EAX
00742cb0 : MOV ECX,dword ptr [ESP + 0x38]
00742cb4 : MOV dword ptr FS:[0x0],ECX
00742cbb : POP ECX
00742cbc : POP EDI
00742cbd : POP ESI
00742cbe : POP EBX
00742cbf : MOV ESP,EBP
00742cc1 : POP EBP
00742cc2 : RET
