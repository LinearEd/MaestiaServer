PROGRAM  : Maestia.exe
FUNCTION : FUN_007fb400
ENTRY    : 007fb400
BODY     : [[007fb400, 007fb441]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007fb400(void)

{
  float fVar1;
  DWORD DVar2;
  int iVar3;
  int unaff_ESI;
  
  DVar2 = *(DWORD *)(unaff_ESI + 0x370);
  if (DVar2 == 0) {
    DVar2 = timeGetTime();
  }
  iVar3 = DVar2 - *(int *)(unaff_ESI + 0x36c);
  fVar1 = (float)iVar3;
  if (iVar3 < 0) {
    fVar1 = fVar1 + 4.2949673e+09;
  }
  *(DWORD *)(unaff_ESI + 0x36c) = DVar2;
  *(float *)(unaff_ESI + 0x374) = fVar1 * 0.001;
  return;
}



============================================================
DISASSEMBLY
============================================================
007fb400 : PUSH EBP
007fb401 : MOV EBP,ESP
007fb403 : PUSH ECX
007fb404 : MOV EAX,dword ptr [ESI + 0x370]
007fb40a : TEST EAX,EAX
007fb40c : JNZ 0x007fb414
007fb40e : CALL dword ptr [0x00b85598]
007fb414 : MOV ECX,EAX
007fb416 : SUB ECX,dword ptr [ESI + 0x36c]
007fb41c : MOV dword ptr [EBP + -0x4],ECX
007fb41f : FILD dword ptr [EBP + -0x4]
007fb422 : TEST ECX,ECX
007fb424 : JGE 0x007fb42c
007fb426 : FADD float ptr [0x00cdf0e0]
007fb42c : FMUL float ptr [0x00cdf128]
007fb432 : MOV dword ptr [ESI + 0x36c],EAX
007fb438 : FSTP float ptr [ESI + 0x374]
007fb43e : MOV ESP,EBP
007fb440 : POP EBP
007fb441 : RET
