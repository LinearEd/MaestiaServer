PROGRAM  : Maestia.exe
FUNCTION : FUN_0053c230
ENTRY    : 0053c230
BODY     : [[0053c230, 0053c2ac]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0053c230(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  GRefCountNTSImpl *this;
  int in_ECX;
  undefined **local_18 [6];
  
  if (*(int *)(in_ECX + 0xc) == 0) {
    this = (GRefCountNTSImpl *)FUN_00561090(param_2);
  }
  else {
    uVar1 = FUN_0055f330(local_18,param_2);
    this = (GRefCountNTSImpl *)FUN_00561090(uVar1);
    local_18[0] = &PTR_FUN_00b86064;
    FUN_0055e7c0();
    GRefCountImplCore::~GRefCountImplCore((GRefCountImplCore *)local_18);
  }
  if (this != (GRefCountNTSImpl *)0x0) {
    *(int *)(this + 4) = *(int *)(this + 4) + 1;
  }
  if (*(GRefCountNTSImpl **)(in_ECX + 0xc) != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(in_ECX + 0xc));
  }
  *(GRefCountNTSImpl **)(in_ECX + 0xc) = this;
  *(short *)(in_ECX + 0x24) = *(short *)(in_ECX + 0x24) + 1;
  if (this != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(this);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0053c230 : MOV EAX,dword ptr [ESP + 0x8]
0053c234 : SUB ESP,0x18
0053c237 : PUSH ESI
0053c238 : PUSH EDI
0053c239 : MOV EDI,ECX
0053c23b : MOV ECX,dword ptr [EDI + 0xc]
0053c23e : PUSH EAX
0053c23f : TEST ECX,ECX
0053c241 : JZ 0x0053c275
0053c243 : LEA EDX,[ESP + 0xc]
0053c247 : PUSH EDX
0053c248 : CALL 0x0055f330
0053c24d : MOV ECX,dword ptr [ESP + 0x24]
0053c251 : PUSH EAX
0053c252 : CALL 0x00561090
0053c257 : LEA ECX,[ESP + 0x8]
0053c25b : MOV ESI,EAX
0053c25d : MOV dword ptr [ESP + 0x8],0xb86064
0053c265 : CALL 0x0055e7c0
0053c26a : LEA ECX,[ESP + 0x8]
0053c26e : CALL 0x004ff7b0
0053c273 : JMP 0x0053c280
0053c275 : MOV ECX,dword ptr [ESP + 0x28]
0053c279 : CALL 0x00561090
0053c27e : MOV ESI,EAX
0053c280 : TEST ESI,ESI
0053c282 : JZ 0x0053c287
0053c284 : INC dword ptr [ESI + 0x4]
0053c287 : MOV ECX,dword ptr [EDI + 0xc]
0053c28a : TEST ECX,ECX
0053c28c : JZ 0x0053c293
0053c28e : CALL 0x004ff7c0
0053c293 : MOV dword ptr [EDI + 0xc],ESI
0053c296 : INC word ptr [EDI + 0x24]
0053c29a : TEST ESI,ESI
0053c29c : JZ 0x0053c2a5
0053c29e : MOV ECX,ESI
0053c2a0 : CALL 0x004ff7c0
0053c2a5 : POP EDI
0053c2a6 : POP ESI
0053c2a7 : ADD ESP,0x18
0053c2aa : RET 0x8
