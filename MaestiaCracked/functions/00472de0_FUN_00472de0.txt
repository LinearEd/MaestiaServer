PROGRAM  : Maestia.exe
FUNCTION : FUN_00472de0
ENTRY    : 00472de0
BODY     : [[00472de0, 00472fc0]]

============================================================
DECOMPILED C CODE
============================================================

bool FUN_00472de0(undefined4 param_1,int param_2,int param_3)

{
  char cVar1;
  undefined4 uVar2;
  int in_ECX;
  bool bVar3;
  undefined1 auStack_374 [252];
  undefined4 uStack_278;
  undefined4 uStack_274;
  undefined ***pppuStack_270;
  uint uStack_26c;
  int local_23c;
  int local_238;
  int local_234;
  int local_230;
  undefined1 *local_22c;
  undefined **local_228 [66];
  undefined **local_120;
  void *local_14;
  undefined1 *puStack_10;
  int local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b82d07;
  local_14 = ExceptionList;
  uStack_26c = DAT_00d66fa0 ^ (uint)&stack0xfffffd98;
  ExceptionList = &local_14;
  pppuStack_270 = (undefined ***)param_2;
  bVar3 = false;
  uStack_274 = param_1;
  uStack_278 = 0x472e2b;
  cVar1 = FUN_006ebd00();
  if (cVar1 != '\0') {
    if (*(char *)(param_2 + 0x10f8) != '\0') {
      ExceptionList = local_14;
      return true;
    }
    local_c = 0;
    if (param_2 != -0xc) {
      local_22c = auStack_374;
      FUN_00451af0();
      local_c._0_1_ = 1;
      uVar2 = FUN_00451af0();
      local_c._0_1_ = 3;
      pppuStack_270 = (undefined ***)FUN_0046f0e0(uVar2);
      local_c._0_1_ = 4;
      uStack_274 = 0x472ec7;
      FUN_0046f360();
      local_228[0] = &PTR_FUN_00cd3f48;
      local_c = (uint)local_c._1_3_ << 8;
      local_120 = &PTR_FUN_00cd3f48;
    }
    if (param_3 != 0) {
      pppuStack_270 = (undefined ***)0x472efa;
      FUN_00451af0();
      local_c._0_1_ = 5;
      uStack_274 = 0x472f0e;
      pppuStack_270 = local_228;
      FUN_0046f360();
      local_c = (uint)local_c._1_3_ << 8;
      local_228[0] = &PTR_FUN_00cd3f48;
    }
    local_238 = in_ECX + 0x188c;
    local_23c = in_ECX + 0x1538;
    pppuStack_270 = (undefined ***)&local_23c;
    local_234 = in_ECX + 0x1be0;
    local_230 = in_ECX + 0x1f34;
    uStack_274 = 0x472f60;
    cVar1 = FUN_00472d30();
    bVar3 = cVar1 != '\0';
    if (!bVar3) {
      pppuStack_270 = (undefined ***)0xcd5ef4;
      uStack_274 = 0x472f6e;
      FUN_00807d70();
    }
    local_c = 0xffffffff;
    pppuStack_270 = (undefined ***)0x472f8d;
    FUN_00475180();
  }
  ExceptionList = local_14;
  return bVar3;
}



============================================================
DISASSEMBLY
============================================================
00472de0 : PUSH EBP
00472de1 : MOV EBP,ESP
00472de3 : AND ESP,0xfffffff8
00472de6 : PUSH -0x1
00472de8 : PUSH 0xb82d07
00472ded : MOV EAX,FS:[0x0]
00472df3 : PUSH EAX
00472df4 : SUB ESP,0x248
00472dfa : PUSH EBX
00472dfb : PUSH ESI
00472dfc : PUSH EDI
00472dfd : MOV EAX,[0x00d66fa0]
00472e02 : XOR EAX,ESP
00472e04 : PUSH EAX
00472e05 : LEA EAX,[ESP + 0x258]
00472e0c : MOV FS:[0x0],EAX
00472e12 : MOV ESI,ECX
00472e14 : MOV dword ptr [ESP + 0x18],ESI
00472e18 : MOV EDI,dword ptr [EBP + 0xc]
00472e1b : MOV EAX,dword ptr [EBP + 0x8]
00472e1e : PUSH EDI
00472e1f : XOR EBX,EBX
00472e21 : PUSH EAX
00472e22 : MOV byte ptr [ESP + 0x1f],BL
00472e26 : CALL 0x006ebd00
00472e2b : TEST AL,AL
00472e2d : JZ 0x00472f8d
00472e33 : CMP byte ptr [EDI + 0x10f8],BL
00472e39 : JNZ 0x00472fa7
00472e3f : MOV dword ptr [ESP + 0x1c],0xcd63c8
00472e47 : MOV dword ptr [ESP + 0x20],EBX
00472e4b : MOV dword ptr [ESP + 0x24],EBX
00472e4f : MOV dword ptr [ESP + 0x28],EBX
00472e53 : MOV byte ptr [ESP + 0x2c],BL
00472e57 : MOV dword ptr [ESP + 0x260],EBX
00472e5e : ADD EDI,0xc
00472e61 : CMP EDI,EBX
00472e63 : JZ 0x00472eea
00472e69 : SUB ESP,0x108
00472e6f : MOV EDX,0xcd5ef0
00472e74 : MOV ESI,ESP
00472e76 : MOV dword ptr [ESP + 0x148],ESP
00472e7d : CALL 0x00451af0
00472e82 : MOV byte ptr [ESP + 0x368],0x1
00472e8a : MOV EDX,EDI
00472e8c : LEA ESI,[ESP + 0x254]
00472e93 : CALL 0x00451af0
00472e98 : MOV byte ptr [ESP + 0x368],0x2
00472ea0 : PUSH EAX
00472ea1 : MOV byte ptr [ESP + 0x36c],0x3
00472ea9 : LEA EDI,[ESP + 0x150]
00472eb0 : CALL 0x0046f0e0
00472eb5 : MOV byte ptr [ESP + 0x260],0x4
00472ebd : PUSH EAX
00472ebe : LEA EDI,[ESP + 0x20]
00472ec2 : CALL 0x0046f360
00472ec7 : MOV byte ptr [ESP + 0x260],0x3
00472ecf : MOV EAX,0xcd3f48
00472ed4 : MOV dword ptr [ESP + 0x44],EAX
00472ed8 : MOV byte ptr [ESP + 0x260],BL
00472edf : MOV ESI,dword ptr [ESP + 0x18]
00472ee3 : MOV dword ptr [ESP + 0x14c],EAX
00472eea : MOV EDX,dword ptr [EBP + 0x10]
00472eed : CMP EDX,EBX
00472eef : JZ 0x00472f21
00472ef1 : LEA ESI,[ESP + 0x44]
00472ef5 : CALL 0x00451af0
00472efa : MOV byte ptr [ESP + 0x260],0x5
00472f02 : MOV ECX,ESI
00472f04 : PUSH ECX
00472f05 : LEA EDI,[ESP + 0x20]
00472f09 : CALL 0x0046f360
00472f0e : MOV byte ptr [ESP + 0x260],BL
00472f15 : MOV ESI,dword ptr [ESP + 0x18]
00472f19 : MOV dword ptr [ESP + 0x44],0xcd3f48
00472f21 : LEA EAX,[ESI + 0x188c]
00472f27 : MOV dword ptr [ESP + 0x34],EAX
00472f2b : LEA EDX,[ESI + 0x1538]
00472f31 : LEA EAX,[ESP + 0x30]
00472f35 : LEA ECX,[ESI + 0x1be0]
00472f3b : MOV dword ptr [ESP + 0x30],EDX
00472f3f : LEA EDX,[ESI + 0x1f34]
00472f45 : PUSH EAX
00472f46 : MOV AL,byte ptr [ESI + 0x7658]
00472f4c : MOV ESI,dword ptr [EBP + 0xc]
00472f4f : MOV dword ptr [ESP + 0x3c],ECX
00472f53 : LEA ECX,[ESP + 0x20]
00472f57 : MOV dword ptr [ESP + 0x40],EDX
00472f5b : CALL 0x00472d30
00472f60 : TEST AL,AL
00472f62 : JNZ 0x00472f77
00472f64 : PUSH 0xcd5ef4
00472f69 : CALL 0x00807d70
00472f6e : MOV BL,byte ptr [ESP + 0x1b]
00472f72 : ADD ESP,0x4
00472f75 : JMP 0x00472f79
00472f77 : MOV BL,0x1
00472f79 : MOV dword ptr [ESP + 0x260],0xffffffff
00472f84 : LEA ECX,[ESP + 0x1c]
00472f88 : CALL 0x00475180
00472f8d : MOV AL,BL
00472f8f : MOV ECX,dword ptr [ESP + 0x258]
00472f96 : MOV dword ptr FS:[0x0],ECX
00472f9d : POP ECX
00472f9e : POP EDI
00472f9f : POP ESI
00472fa0 : POP EBX
00472fa1 : MOV ESP,EBP
00472fa3 : POP EBP
00472fa4 : RET 0xc
00472fa7 : MOV AL,0x1
00472fa9 : MOV ECX,dword ptr [ESP + 0x258]
00472fb0 : MOV dword ptr FS:[0x0],ECX
00472fb7 : POP ECX
00472fb8 : POP EDI
00472fb9 : POP ESI
00472fba : POP EBX
00472fbb : MOV ESP,EBP
00472fbd : POP EBP
00472fbe : RET 0xc
