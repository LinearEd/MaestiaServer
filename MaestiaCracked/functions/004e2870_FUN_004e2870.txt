PROGRAM  : Maestia.exe
FUNCTION : FUN_004e2870
ENTRY    : 004e2870
BODY     : [[004e2870, 004e28fb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004e2870(void)

{
  int iVar1;
  int *piVar2;
  uint uVar3;
  int in_ECX;
  int iVar4;
  int local_c;
  int local_8;
  
  FUN_006fdb90(in_ECX + 0x210);
  FUN_006fdb90(in_ECX + 0x244);
  iVar4 = in_ECX + 0x278;
  local_8 = 0x16;
  do {
    *(char *)(iVar4 + 4) = (char)(*(int *)(in_ECX + 0x10) - *(int *)(in_ECX + 0xc) >> 2);
    iVar1 = *(int *)(in_ECX + 0xc);
    if (iVar1 == 0) {
      uVar3 = 0;
    }
    else {
      uVar3 = *(int *)(in_ECX + 0x14) - iVar1 >> 2;
    }
    piVar2 = *(int **)(in_ECX + 0x10);
    if ((uint)((int)piVar2 - iVar1 >> 2) < uVar3) {
      *piVar2 = iVar4;
      *(int **)(in_ECX + 0x10) = piVar2 + 1;
    }
    else {
      local_c = iVar4;
      FUN_0042fe80(in_ECX + 8,piVar2,&local_c);
    }
    iVar4 = iVar4 + 0x34;
    local_8 = local_8 + -1;
  } while (local_8 != 0);
  return;
}



============================================================
DISASSEMBLY
============================================================
004e2870 : PUSH EBP
004e2871 : MOV EBP,ESP
004e2873 : SUB ESP,0x8
004e2876 : PUSH EBX
004e2877 : PUSH ESI
004e2878 : PUSH EDI
004e2879 : MOV EDI,ECX
004e287b : LEA EAX,[EDI + 0x210]
004e2881 : PUSH EAX
004e2882 : MOV EAX,EDI
004e2884 : CALL 0x006fdb90
004e2889 : LEA ECX,[EDI + 0x244]
004e288f : PUSH ECX
004e2890 : MOV EAX,EDI
004e2892 : CALL 0x006fdb90
004e2897 : LEA ESI,[EDI + 0x8]
004e289a : ADD EDI,0x278
004e28a0 : MOV dword ptr [EBP + -0x4],0x16
004e28a7 : MOV EDX,dword ptr [ESI + 0x8]
004e28aa : SUB EDX,dword ptr [ESI + 0x4]
004e28ad : MOV dword ptr [EBP + -0x8],EDI
004e28b0 : SAR EDX,0x2
004e28b3 : MOV byte ptr [EDI + 0x4],DL
004e28b6 : MOV EDX,dword ptr [ESI + 0x4]
004e28b9 : TEST EDX,EDX
004e28bb : JNZ 0x004e28c1
004e28bd : XOR EAX,EAX
004e28bf : JMP 0x004e28c9
004e28c1 : MOV EAX,dword ptr [ESI + 0xc]
004e28c4 : SUB EAX,EDX
004e28c6 : SAR EAX,0x2
004e28c9 : MOV ECX,dword ptr [ESI + 0x8]
004e28cc : MOV EBX,ECX
004e28ce : SUB EBX,EDX
004e28d0 : SAR EBX,0x2
004e28d3 : CMP EBX,EAX
004e28d5 : JNC 0x004e28e1
004e28d7 : MOV dword ptr [ECX],EDI
004e28d9 : ADD ECX,0x4
004e28dc : MOV dword ptr [ESI + 0x8],ECX
004e28df : JMP 0x004e28ec
004e28e1 : LEA EAX,[EBP + -0x8]
004e28e4 : PUSH EAX
004e28e5 : PUSH ECX
004e28e6 : PUSH ESI
004e28e7 : CALL 0x0042fe80
004e28ec : ADD EDI,0x34
004e28ef : SUB dword ptr [EBP + -0x4],0x1
004e28f3 : JNZ 0x004e28a7
004e28f5 : POP EDI
004e28f6 : POP ESI
004e28f7 : POP EBX
004e28f8 : MOV ESP,EBP
004e28fa : POP EBP
004e28fb : RET
