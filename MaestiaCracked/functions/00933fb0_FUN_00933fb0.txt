PROGRAM  : Maestia.exe
FUNCTION : FUN_00933fb0
ENTRY    : 00933fb0
BODY     : [[00933fb0, 0093419f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00933fb0(int param_1)

{
  undefined4 *puVar1;
  char cVar2;
  SHORT SVar3;
  uint uVar4;
  undefined4 *puVar5;
  int iVar6;
  undefined4 uVar7;
  int *piVar8;
  int in_ECX;
  int local_38;
  int local_34;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar6 = DAT_017248f8;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1f772;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar4;
  if (DAT_00da93ec != 0) {
    local_38 = param_1;
    FUN_004437f0(&local_38);
    if ((local_34 != *(int *)(iVar6 + 0x14)) &&
       (puVar1 = *(undefined4 **)(local_34 + 0x10), puVar1 != (undefined4 *)0x0)) {
      SVar3 = GetKeyState(0x11);
      if (SVar3 < 0) {
        if ((uint)puVar1[8] < 8) {
          puVar5 = puVar1 + 3;
        }
        else {
          puVar5 = (undefined4 *)puVar1[3];
        }
        FUN_00404750(L"{type=4^name=%s^key=%u}",puVar5,*puVar1);
        local_8 = 0;
        FUN_009ad950();
        local_8 = 0xffffffff;
        FUN_00406560();
      }
      else {
        *(int *)(in_ECX + 0x40) = param_1;
        iVar6 = FUN_00428d90(uVar4);
        if ((*(char *)(iVar6 + 0x32) == '\0') ||
           (iVar6 = FUN_00428d90(uVar4), *(int *)(iVar6 + 0x5c) != param_1)) {
          uVar7 = FUN_00428d90(uVar4);
          cVar2 = FUN_00936040(uVar7);
          if (cVar2 != '\0') {
            iVar6 = FUN_00428d90();
            if (*(char *)(iVar6 + 0x32) == '\0') {
              piVar8 = (int *)FUN_00428d90();
              (**(code **)(*piVar8 + 0x18))(0,300);
            }
            iVar6 = FUN_00428d90();
            if (*(char *)(iVar6 + 0x32) != '\0') {
              piVar8 = (int *)FUN_00428d90();
              (**(code **)(*piVar8 + 0x10))();
              piVar8 = (int *)FUN_00428d90();
              (**(code **)(*piVar8 + 0xb4))(*puVar1);
              piVar8 = (int *)FUN_00428d90();
              (**(code **)(*piVar8 + 0xb8))();
              if ((*DAT_00da9894 != 0) &&
                 (piVar8 = *(int **)(*DAT_00da9894 + 0x114), piVar8 != (int *)0x0)) {
                (**(code **)(*piVar8 + 4))
                          (piVar8,"UsableAutoQuestLevel",&DAT_00c6ea6c,
                           *(byte *)(puVar1[1] + 0x98) < 0x55);
              }
            }
          }
        }
      }
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00933fb0 : PUSH EBP
00933fb1 : MOV EBP,ESP
00933fb3 : PUSH -0x1
00933fb5 : PUSH 0xb1f772
00933fba : MOV EAX,FS:[0x0]
00933fc0 : PUSH EAX
00933fc1 : SUB ESP,0x28
00933fc4 : MOV EAX,[0x00d66fa0]
00933fc9 : XOR EAX,EBP
00933fcb : MOV dword ptr [EBP + -0x10],EAX
00933fce : PUSH EBX
00933fcf : PUSH ESI
00933fd0 : PUSH EDI
00933fd1 : PUSH EAX
00933fd2 : LEA EAX,[EBP + -0xc]
00933fd5 : MOV FS:[0x0],EAX
00933fdb : MOV EBX,dword ptr [EBP + 0x8]
00933fde : CMP dword ptr [0x00da93ec],0x0
00933fe5 : MOV ESI,ECX
00933fe7 : JZ 0x00934182
00933fed : MOV EDI,dword ptr [0x017248f8]
00933ff3 : LEA EAX,[EBP + -0x34]
00933ff6 : PUSH EAX
00933ff7 : LEA ECX,[EDI + 0x10]
00933ffa : LEA EAX,[EBP + -0x30]
00933ffd : MOV dword ptr [EBP + -0x34],EBX
00934000 : CALL 0x004437f0
00934005 : MOV EDI,dword ptr [EDI + 0x14]
00934008 : MOV EAX,dword ptr [EBP + -0x30]
0093400b : CMP EAX,EDI
0093400d : JZ 0x00934182
00934013 : MOV EDI,dword ptr [EAX + 0x10]
00934016 : TEST EDI,EDI
00934018 : JZ 0x00934182
0093401e : PUSH 0x11
00934020 : CALL dword ptr [0x00b85438]
00934026 : TEST AX,AX
00934029 : JGE 0x0093406e
0093402b : CMP dword ptr [EDI + 0x20],0x8
0093402f : JC 0x00934036
00934031 : MOV EAX,dword ptr [EDI + 0xc]
00934034 : JMP 0x00934039
00934036 : LEA EAX,[EDI + 0xc]
00934039 : MOV ECX,dword ptr [EDI]
0093403b : PUSH ECX
0093403c : PUSH EAX
0093403d : PUSH 0xc6ea3c
00934042 : LEA ESI,[EBP + -0x2c]
00934045 : CALL 0x00404750
0093404a : ADD ESP,0xc
0093404d : MOV dword ptr [EBP + -0x4],0x0
00934054 : MOV ECX,ESI
00934056 : CALL 0x009ad950
0093405b : MOV dword ptr [EBP + -0x4],0xffffffff
00934062 : MOV ECX,ESI
00934064 : CALL 0x00406560
00934069 : JMP 0x00934182
0093406e : MOV EDX,dword ptr [0x00da9894]
00934074 : MOV dword ptr [ESI + 0x40],EBX
00934077 : MOV ESI,dword ptr [EDX]
00934079 : CALL 0x00428d90
0093407e : CMP byte ptr [EAX + 0x32],0x0
00934082 : JZ 0x00934099
00934084 : MOV EAX,[0x00da9894]
00934089 : MOV ESI,dword ptr [EAX]
0093408b : CALL 0x00428d90
00934090 : CMP dword ptr [EAX + 0x5c],EBX
00934093 : JZ 0x00934182
00934099 : MOV ECX,dword ptr [0x00da9894]
0093409f : MOV ESI,dword ptr [ECX]
009340a1 : CALL 0x00428d90
009340a6 : PUSH EAX
009340a7 : CALL 0x00936040
009340ac : TEST AL,AL
009340ae : JZ 0x00934182
009340b4 : MOV EDX,dword ptr [0x00da9894]
009340ba : MOV ESI,dword ptr [EDX]
009340bc : CALL 0x00428d90
009340c1 : CMP byte ptr [EAX + 0x32],0x0
009340c5 : JNZ 0x009340e3
009340c7 : MOV EAX,[0x00da9894]
009340cc : MOV ESI,dword ptr [EAX]
009340ce : CALL 0x00428d90
009340d3 : MOV EDX,dword ptr [EAX]
009340d5 : PUSH 0x12c
009340da : MOV ECX,EAX
009340dc : MOV EAX,dword ptr [EDX + 0x18]
009340df : PUSH 0x0
009340e1 : CALL EAX
009340e3 : MOV ECX,dword ptr [0x00da9894]
009340e9 : MOV ESI,dword ptr [ECX]
009340eb : CALL 0x00428d90
009340f0 : CMP byte ptr [EAX + 0x32],0x0
009340f4 : JZ 0x00934182
009340fa : MOV EDX,dword ptr [0x00da9894]
00934100 : MOV ESI,dword ptr [EDX]
00934102 : CALL 0x00428d90
00934107 : MOV EDX,dword ptr [EAX]
00934109 : MOV ECX,EAX
0093410b : MOV EAX,dword ptr [EDX + 0x10]
0093410e : CALL EAX
00934110 : MOV ECX,dword ptr [0x00da9894]
00934116 : MOV ESI,dword ptr [ECX]
00934118 : CALL 0x00428d90
0093411d : MOV ECX,dword ptr [EDI]
0093411f : MOV EDX,dword ptr [EAX]
00934121 : MOV EDX,dword ptr [EDX + 0xb4]
00934127 : PUSH ECX
00934128 : MOV ECX,EAX
0093412a : CALL EDX
0093412c : MOV EAX,[0x00da9894]
00934131 : MOV ESI,dword ptr [EAX]
00934133 : CALL 0x00428d90
00934138 : MOV EDX,dword ptr [EAX]
0093413a : MOV ECX,EAX
0093413c : MOV EAX,dword ptr [EDX + 0xb8]
00934142 : CALL EAX
00934144 : MOV EDX,dword ptr [EDI + 0x4]
00934147 : CMP byte ptr [EDX + 0x98],0x54
0093414e : MOV CL,0x1
00934150 : JBE 0x00934154
00934152 : XOR CL,CL
00934154 : MOV EAX,[0x00da9894]
00934159 : MOV EAX,dword ptr [EAX]
0093415b : TEST EAX,EAX
0093415d : JZ 0x00934182
0093415f : MOV EAX,dword ptr [EAX + 0x114]
00934165 : TEST EAX,EAX
00934167 : JZ 0x00934182
00934169 : MOV EDX,dword ptr [EAX]
0093416b : MOV EDX,dword ptr [EDX + 0x4]
0093416e : MOVZX ECX,CL
00934171 : PUSH ECX
00934172 : PUSH 0xc6ea6c
00934177 : PUSH 0xc6ea70
0093417c : PUSH EAX
0093417d : CALL EDX
0093417f : ADD ESP,0x10
00934182 : MOV ECX,dword ptr [EBP + -0xc]
00934185 : MOV dword ptr FS:[0x0],ECX
0093418c : POP ECX
0093418d : POP EDI
0093418e : POP ESI
0093418f : POP EBX
00934190 : MOV ECX,dword ptr [EBP + -0x10]
00934193 : XOR ECX,EBP
00934195 : CALL 0x00633e6b
0093419a : MOV ESP,EBP
0093419c : POP EBP
0093419d : RET 0x4
