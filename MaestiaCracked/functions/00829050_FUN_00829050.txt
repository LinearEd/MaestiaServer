PROGRAM  : Maestia.exe
FUNCTION : FUN_00829050
ENTRY    : 00829050
BODY     : [[00829050, 008293fe]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00829050(int param_1,undefined4 param_2)

{
  uint uVar1;
  int iVar2;
  undefined4 uVar3;
  int *piVar4;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b6cadf;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  piVar4 = (int *)0x0;
  switch(param_2) {
  case 1:
    if (*(int *)(param_1 + 0xd4) == 0) {
      FUN_008018d0(L"**************[AvaGame::SetNextGameFlow] new AVA_INTRO**************",uVar1);
      iVar2 = FUN_006f0760(0x3c,".\\AvaGame.cpp",0xd97,0);
      local_8 = 0;
      if (iVar2 == 0) {
        uVar3 = 0;
      }
      else {
        uVar3 = FUN_00a16650(iVar2);
      }
      local_8 = 0xffffffff;
      *(undefined4 *)(param_1 + 0xd4) = uVar3;
      FUN_00a16240(1);
    }
    piVar4 = *(int **)(param_1 + 0xd4);
    *(code **)(param_1 + 0xe0) = FUN_00a161f0;
    break;
  case 2:
    if (*(int *)(param_1 + 0xd8) == 0) {
      FUN_008018d0(L"**************[AvaGame::SetNextGameFlow] new AVA_LOBBY**************",uVar1);
      iVar2 = FUN_006f0760(0x34c,".\\AvaGame.cpp",0xdb5,0);
      local_8 = 1;
      if (iVar2 == 0) {
        uVar3 = 0;
      }
      else {
        uVar3 = FUN_00a4ce70(iVar2);
      }
      *(undefined4 *)(param_1 + 0xd8) = uVar3;
    }
    local_8 = 0xffffffff;
    if (*(int *)(param_1 + 0x184) == 0) {
      FUN_008018d0(L"**************[AvaGame::SetNextGameFlow] new AvaItemManager**************",
                   uVar1);
      iVar2 = FUN_006f0760(0x30,".\\AvaGame.cpp",0xdbe,0);
      local_8 = 2;
      if (iVar2 == 0) {
        uVar3 = 0;
      }
      else {
        uVar3 = FUN_009f2fa0(iVar2);
      }
      *(undefined4 *)(param_1 + 0x184) = uVar3;
    }
    local_8 = 0xffffffff;
    if (*(int *)(param_1 + 0xd8) == 0) {
      piVar4 = (int *)0x0;
      *(code **)(param_1 + 0xe0) = FUN_00a49390;
    }
    else {
      piVar4 = (int *)(*(int *)(param_1 + 0xd8) + 4);
      *(code **)(param_1 + 0xe0) = FUN_00a49390;
    }
    break;
  case 3:
    if (*(int *)(param_1 + 0xd8) == 0) {
      FUN_008018d0(L"**************[AvaGame::SetNextGameFlow] new AVA_LOBBY**************",uVar1);
      iVar2 = FUN_006f0760(0x34c,".\\AvaGame.cpp",0xdcf,0);
      local_8 = 3;
      if (iVar2 == 0) {
        uVar3 = 0;
      }
      else {
        uVar3 = FUN_00a4ce70(iVar2);
      }
      *(undefined4 *)(param_1 + 0xd8) = uVar3;
    }
    local_8 = 0xffffffff;
    if (*(int *)(param_1 + 0x184) == 0) {
      FUN_008018d0(L"**************[AvaGame::SetNextGameFlow] new AvaItemManager**************",
                   uVar1);
      iVar2 = FUN_006f0760(0x30,".\\AvaGame.cpp",0xdd8,0);
      local_8 = 4;
      if (iVar2 == 0) {
        uVar3 = 0;
      }
      else {
        uVar3 = FUN_009f2fa0(iVar2);
      }
      *(undefined4 *)(param_1 + 0x184) = uVar3;
    }
    local_8 = 0xffffffff;
    *(code **)(param_1 + 0xe0) = FUN_00a49390;
    if (*(int *)(param_1 + 0xd8) == 0) {
      piVar4 = (int *)0x0;
    }
    else {
      piVar4 = (int *)(*(int *)(param_1 + 0xd8) + 4);
    }
    FUN_008018d0(L"**************[AvaGame::SetNextGameFlow] flow %d**************",param_2);
    *(undefined4 *)(*(int *)(param_1 + 0xd8) + 0x78) = 2;
    *(undefined4 *)(param_1 + 0xc4) = param_2;
    if (*(int **)(param_1 + 200) != (int *)0x0) {
      (**(code **)(**(int **)(param_1 + 200) + 0x10))();
    }
    *(int **)(param_1 + 200) = piVar4;
    if (piVar4 != (int *)0x0) {
      (**(code **)(*piVar4 + 0xc))();
    }
    FUN_00a55850();
    if (*(int *)(param_1 + 0x158) != 0) {
      *(undefined1 *)(*(int *)(param_1 + 0x158) + 8) = 1;
    }
    *(undefined1 *)(param_1 + 0x378) = 0;
    if (*(int *)(param_1 + 0x370) != 0) {
      FUN_007f5b60();
      *(undefined4 *)(param_1 + 0x370) = 0;
    }
    FUN_0081c150(param_1);
    ExceptionList = local_10;
    return;
  case 4:
    if (*(int *)(param_1 + 0xdc) == 0) {
      FUN_008018d0(L"**************[AvaGame::SetNextGameFlow] new AVA_GAMEZONE**************",uVar1)
      ;
      iVar2 = FUN_006f0760(0x78c,".\\AvaGame.cpp",0xe19,0);
      local_8 = 5;
      if (iVar2 == 0) {
        uVar3 = 0;
      }
      else {
        uVar3 = FUN_00a436d0(iVar2);
      }
      *(undefined4 *)(param_1 + 0xdc) = uVar3;
    }
    local_8 = 0xffffffff;
    piVar4 = *(int **)(param_1 + 0xdc);
    *(code **)(param_1 + 0xe0) = FUN_00a17890;
  }
  *(undefined4 *)(param_1 + 0xc4) = param_2;
  if (*(int **)(param_1 + 200) != (int *)0x0) {
    (**(code **)(**(int **)(param_1 + 200) + 0x10))();
  }
  *(int **)(param_1 + 200) = piVar4;
  if (piVar4 != (int *)0x0) {
    (**(code **)(*piVar4 + 0xc))();
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00829050 : PUSH EBP
00829051 : MOV EBP,ESP
00829053 : PUSH -0x1
00829055 : PUSH 0xb6cadf
0082905a : MOV EAX,FS:[0x0]
00829060 : PUSH EAX
00829061 : PUSH ECX
00829062 : PUSH EBX
00829063 : PUSH ESI
00829064 : PUSH EDI
00829065 : MOV EAX,[0x00d66fa0]
0082906a : XOR EAX,EBP
0082906c : PUSH EAX
0082906d : LEA EAX,[EBP + -0xc]
00829070 : MOV FS:[0x0],EAX
00829076 : MOV EBX,dword ptr [EBP + 0x8]
00829079 : MOV EAX,dword ptr [EBP + 0xc]
0082907c : DEC EAX
0082907d : XOR ESI,ESI
0082907f : CMP EAX,0x3
00829082 : JA 0x008293be
00829088 : JMP dword ptr [EAX*0x4 + 0x829400]
0082908f : CMP dword ptr [EBX + 0xd4],ESI
00829095 : JNZ 0x008290ee
00829097 : MOV ESI,dword ptr [0x00da98e8]
0082909d : PUSH 0xc330d0
008290a2 : CALL 0x008018d0
008290a7 : ADD ESP,0x4
008290aa : PUSH 0x0
008290ac : PUSH 0xd97
008290b1 : PUSH 0xc3315c
008290b6 : PUSH 0x3c
008290b8 : CALL 0x006f0760
008290bd : ADD ESP,0x10
008290c0 : MOV dword ptr [EBP + 0x8],EAX
008290c3 : MOV dword ptr [EBP + -0x4],0x0
008290ca : TEST EAX,EAX
008290cc : JZ 0x008290d6
008290ce : PUSH EAX
008290cf : CALL 0x00a16650
008290d4 : JMP 0x008290d8
008290d6 : XOR EAX,EAX
008290d8 : MOV dword ptr [EBP + -0x4],0xffffffff
008290df : PUSH 0x1
008290e1 : MOV ESI,EAX
008290e3 : MOV dword ptr [EBX + 0xd4],EAX
008290e9 : CALL 0x00a16240
008290ee : MOV ESI,dword ptr [EBX + 0xd4]
008290f4 : MOV dword ptr [EBX + 0xe0],0xa161f0
008290fe : JMP 0x008293be
00829103 : OR EDI,0xffffffff
00829106 : CMP dword ptr [EBX + 0xd8],ESI
0082910c : JNZ 0x0082915b
0082910e : MOV ESI,dword ptr [0x00da98e8]
00829114 : PUSH 0xc33180
00829119 : CALL 0x008018d0
0082911e : ADD ESP,0x4
00829121 : PUSH 0x0
00829123 : PUSH 0xdb5
00829128 : PUSH 0xc3320c
0082912d : PUSH 0x34c
00829132 : CALL 0x006f0760
00829137 : ADD ESP,0x10
0082913a : MOV dword ptr [EBP + 0x8],EAX
0082913d : MOV dword ptr [EBP + -0x4],0x1
00829144 : TEST EAX,EAX
00829146 : JZ 0x00829150
00829148 : PUSH EAX
00829149 : CALL 0x00a4ce70
0082914e : JMP 0x00829152
00829150 : XOR EAX,EAX
00829152 : MOV dword ptr [EBP + -0x4],EDI
00829155 : MOV dword ptr [EBX + 0xd8],EAX
0082915b : CMP dword ptr [EBX + 0x184],0x0
00829162 : JNZ 0x008291ae
00829164 : MOV ESI,dword ptr [0x00da98e8]
0082916a : PUSH 0xc33230
0082916f : CALL 0x008018d0
00829174 : ADD ESP,0x4
00829177 : PUSH 0x0
00829179 : PUSH 0xdbe
0082917e : PUSH 0xc332c4
00829183 : PUSH 0x30
00829185 : CALL 0x006f0760
0082918a : ADD ESP,0x10
0082918d : MOV dword ptr [EBP + 0x8],EAX
00829190 : MOV dword ptr [EBP + -0x4],0x2
00829197 : TEST EAX,EAX
00829199 : JZ 0x008291a3
0082919b : PUSH EAX
0082919c : CALL 0x009f2fa0
008291a1 : JMP 0x008291a5
008291a3 : XOR EAX,EAX
008291a5 : MOV dword ptr [EBP + -0x4],EDI
008291a8 : MOV dword ptr [EBX + 0x184],EAX
008291ae : MOV ESI,dword ptr [EBX + 0xd8]
008291b4 : TEST ESI,ESI
008291b6 : JZ 0x008291ca
008291b8 : ADD ESI,0x4
008291bb : MOV dword ptr [EBX + 0xe0],0xa49390
008291c5 : JMP 0x008293be
008291ca : XOR ESI,ESI
008291cc : MOV dword ptr [EBX + 0xe0],0xa49390
008291d6 : JMP 0x008293be
008291db : OR EDI,0xffffffff
008291de : CMP dword ptr [EBX + 0xd8],ESI
008291e4 : JNZ 0x00829233
008291e6 : MOV ESI,dword ptr [0x00da98e8]
008291ec : PUSH 0xc332e8
008291f1 : CALL 0x008018d0
008291f6 : ADD ESP,0x4
008291f9 : PUSH 0x0
008291fb : PUSH 0xdcf
00829200 : PUSH 0xc33374
00829205 : PUSH 0x34c
0082920a : CALL 0x006f0760
0082920f : ADD ESP,0x10
00829212 : MOV dword ptr [EBP + 0x8],EAX
00829215 : MOV dword ptr [EBP + -0x4],0x3
0082921c : TEST EAX,EAX
0082921e : JZ 0x00829228
00829220 : PUSH EAX
00829221 : CALL 0x00a4ce70
00829226 : JMP 0x0082922a
00829228 : XOR EAX,EAX
0082922a : MOV dword ptr [EBP + -0x4],EDI
0082922d : MOV dword ptr [EBX + 0xd8],EAX
00829233 : CMP dword ptr [EBX + 0x184],0x0
0082923a : JNZ 0x00829286
0082923c : MOV ESI,dword ptr [0x00da98e8]
00829242 : PUSH 0xc33398
00829247 : CALL 0x008018d0
0082924c : ADD ESP,0x4
0082924f : PUSH 0x0
00829251 : PUSH 0xdd8
00829256 : PUSH 0xc3342c
0082925b : PUSH 0x30
0082925d : CALL 0x006f0760
00829262 : ADD ESP,0x10
00829265 : MOV dword ptr [EBP + 0x8],EAX
00829268 : MOV dword ptr [EBP + -0x4],0x4
0082926f : TEST EAX,EAX
00829271 : JZ 0x0082927b
00829273 : PUSH EAX
00829274 : CALL 0x009f2fa0
00829279 : JMP 0x0082927d
0082927b : XOR EAX,EAX
0082927d : MOV dword ptr [EBP + -0x4],EDI
00829280 : MOV dword ptr [EBX + 0x184],EAX
00829286 : MOV EAX,dword ptr [EBX + 0xd8]
0082928c : MOV dword ptr [EBX + 0xe0],0xa49390
00829296 : TEST EAX,EAX
00829298 : JZ 0x0082929f
0082929a : LEA EDI,[EAX + 0x4]
0082929d : JMP 0x008292a1
0082929f : XOR EDI,EDI
008292a1 : MOV EAX,dword ptr [EBP + 0xc]
008292a4 : MOV ESI,dword ptr [0x00da98e8]
008292aa : PUSH EAX
008292ab : PUSH 0xc33450
008292b0 : CALL 0x008018d0
008292b5 : MOV ECX,dword ptr [EBX + 0xd8]
008292bb : MOV EDX,dword ptr [EBP + 0xc]
008292be : MOV dword ptr [ECX + 0x78],0x2
008292c5 : MOV ECX,dword ptr [EBX + 0xc8]
008292cb : ADD ESP,0x8
008292ce : MOV dword ptr [EBX + 0xc4],EDX
008292d4 : TEST ECX,ECX
008292d6 : JZ 0x008292df
008292d8 : MOV EAX,dword ptr [ECX]
008292da : MOV EDX,dword ptr [EAX + 0x10]
008292dd : CALL EDX
008292df : MOV dword ptr [EBX + 0xc8],EDI
008292e5 : TEST EDI,EDI
008292e7 : JZ 0x008292f2
008292e9 : MOV EAX,dword ptr [EDI]
008292eb : MOV EDX,dword ptr [EAX + 0xc]
008292ee : MOV ECX,EDI
008292f0 : CALL EDX
008292f2 : MOV EDI,dword ptr [EBX + 0xd8]
008292f8 : CALL 0x00a55850
008292fd : MOV EAX,dword ptr [EBX + 0x158]
00829303 : TEST EAX,EAX
00829305 : JZ 0x0082930b
00829307 : MOV byte ptr [EAX + 0x8],0x1
0082930b : MOV EDX,dword ptr [EBX + 0x370]
00829311 : MOV byte ptr [EBX + 0x378],0x0
00829318 : TEST EDX,EDX
0082931a : JZ 0x00829336
0082931c : MOV EAX,[0x0172491c]
00829321 : MOV ECX,dword ptr [EAX + 0x90]
00829327 : CALL 0x007f5b60
0082932c : MOV dword ptr [EBX + 0x370],0x0
00829336 : PUSH EBX
00829337 : MOV EAX,0x1
0082933c : CALL 0x0081c150
00829341 : MOV ECX,dword ptr [EBP + -0xc]
00829344 : MOV dword ptr FS:[0x0],ECX
0082934b : POP ECX
0082934c : POP EDI
0082934d : POP ESI
0082934e : POP EBX
0082934f : MOV ESP,EBP
00829351 : POP EBP
00829352 : RET 0x8
00829355 : CMP dword ptr [EBX + 0xdc],ESI
0082935b : JNZ 0x008293ae
0082935d : MOV ESI,dword ptr [0x00da98e8]
00829363 : PUSH 0xc334d0
00829368 : CALL 0x008018d0
0082936d : ADD ESP,0x4
00829370 : PUSH 0x0
00829372 : PUSH 0xe19
00829377 : PUSH 0xc33560
0082937c : PUSH 0x78c
00829381 : CALL 0x006f0760
00829386 : ADD ESP,0x10
00829389 : MOV dword ptr [EBP + 0x8],EAX
0082938c : MOV dword ptr [EBP + -0x4],0x5
00829393 : TEST EAX,EAX
00829395 : JZ 0x0082939f
00829397 : PUSH EAX
00829398 : CALL 0x00a436d0
0082939d : JMP 0x008293a1
0082939f : XOR EAX,EAX
008293a1 : MOV dword ptr [EBP + -0x4],0xffffffff
008293a8 : MOV dword ptr [EBX + 0xdc],EAX
008293ae : MOV ESI,dword ptr [EBX + 0xdc]
008293b4 : MOV dword ptr [EBX + 0xe0],0xa17890
008293be : MOV ECX,dword ptr [EBP + 0xc]
008293c1 : MOV dword ptr [EBX + 0xc4],ECX
008293c7 : MOV ECX,dword ptr [EBX + 0xc8]
008293cd : TEST ECX,ECX
008293cf : JZ 0x008293d8
008293d1 : MOV EDX,dword ptr [ECX]
008293d3 : MOV EAX,dword ptr [EDX + 0x10]
008293d6 : CALL EAX
008293d8 : MOV dword ptr [EBX + 0xc8],ESI
008293de : TEST ESI,ESI
008293e0 : JZ 0x008293eb
008293e2 : MOV EDX,dword ptr [ESI]
008293e4 : MOV EAX,dword ptr [EDX + 0xc]
008293e7 : MOV ECX,ESI
008293e9 : CALL EAX
008293eb : MOV ECX,dword ptr [EBP + -0xc]
008293ee : MOV dword ptr FS:[0x0],ECX
008293f5 : POP ECX
008293f6 : POP EDI
008293f7 : POP ESI
008293f8 : POP EBX
008293f9 : MOV ESP,EBP
008293fb : POP EBP
008293fc : RET 0x8
