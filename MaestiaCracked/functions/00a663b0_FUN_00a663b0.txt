PROGRAM  : Maestia.exe
FUNCTION : FUN_00a663b0
ENTRY    : 00a663b0
BODY     : [[00a663b0, 00a664bf]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00a66426) */
/* WARNING: Removing unreachable block (ram,0x00a664ab) */

void FUN_00a663b0(void)

{
  int *piVar1;
  int unaff_EDI;
  
  FUN_00401c00(*(undefined4 *)(*(int *)(unaff_EDI + 0xc) + 4));
  *(int *)(*(int *)(unaff_EDI + 0xc) + 4) = *(int *)(unaff_EDI + 0xc);
  *(undefined4 *)(unaff_EDI + 0x10) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0xc) = *(undefined4 *)(unaff_EDI + 0xc);
  *(int *)(*(int *)(unaff_EDI + 0xc) + 8) = *(int *)(unaff_EDI + 0xc);
  FUN_00401c00(*(undefined4 *)(*(int *)(unaff_EDI + 0x24) + 4));
  *(int *)(*(int *)(unaff_EDI + 0x24) + 4) = *(int *)(unaff_EDI + 0x24);
  *(undefined4 *)(unaff_EDI + 0x28) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x24) = *(undefined4 *)(unaff_EDI + 0x24);
  *(int *)(*(int *)(unaff_EDI + 0x24) + 8) = *(int *)(unaff_EDI + 0x24);
  if (*(int *)(unaff_EDI + 0x30) != *(int *)(unaff_EDI + 0x34)) {
    *(int *)(unaff_EDI + 0x34) = *(int *)(unaff_EDI + 0x30);
  }
  if (*(int **)(unaff_EDI + 0x50) != (int *)0x0) {
    (**(code **)(**(int **)(unaff_EDI + 0x50) + 0x30))();
    *(undefined4 *)(unaff_EDI + 0x50) = 0;
  }
  FUN_00401c00(*(undefined4 *)(*(int *)(unaff_EDI + 0x40) + 4));
  *(int *)(*(int *)(unaff_EDI + 0x40) + 4) = *(int *)(unaff_EDI + 0x40);
  *(undefined4 *)(unaff_EDI + 0x44) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x40) = *(undefined4 *)(unaff_EDI + 0x40);
  *(int *)(*(int *)(unaff_EDI + 0x40) + 8) = *(int *)(unaff_EDI + 0x40);
  piVar1 = *(int **)(unaff_EDI + 0x5c);
  if (piVar1 != *(int **)(unaff_EDI + 0x60)) {
    do {
      if (*piVar1 != 0) {
        FUN_0047bbf0(*piVar1);
        *piVar1 = 0;
      }
      piVar1 = piVar1 + 1;
    } while (piVar1 != *(int **)(unaff_EDI + 0x60));
  }
  if (*(int *)(unaff_EDI + 0x5c) != *(int *)(unaff_EDI + 0x60)) {
    *(int *)(unaff_EDI + 0x60) = *(int *)(unaff_EDI + 0x5c);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a663b0 : PUSH EBP
00a663b1 : MOV EBP,ESP
00a663b3 : PUSH ECX
00a663b4 : MOV EAX,dword ptr [EDI + 0xc]
00a663b7 : MOV ECX,dword ptr [EAX + 0x4]
00a663ba : PUSH EBX
00a663bb : PUSH ESI
00a663bc : LEA ESI,[EDI + 0x8]
00a663bf : PUSH ECX
00a663c0 : MOV ECX,ESI
00a663c2 : CALL 0x00401c00
00a663c7 : MOV EAX,dword ptr [ESI + 0x4]
00a663ca : MOV dword ptr [EAX + 0x4],EAX
00a663cd : MOV EAX,dword ptr [ESI + 0x4]
00a663d0 : XOR EBX,EBX
00a663d2 : MOV dword ptr [ESI + 0x8],EBX
00a663d5 : MOV dword ptr [EAX],EAX
00a663d7 : MOV ESI,dword ptr [ESI + 0x4]
00a663da : MOV dword ptr [ESI + 0x8],ESI
00a663dd : MOV EDX,dword ptr [EDI + 0x24]
00a663e0 : MOV EAX,dword ptr [EDX + 0x4]
00a663e3 : LEA ESI,[EDI + 0x20]
00a663e6 : PUSH EAX
00a663e7 : MOV ECX,ESI
00a663e9 : CALL 0x00401c00
00a663ee : MOV EAX,dword ptr [ESI + 0x4]
00a663f1 : MOV dword ptr [EAX + 0x4],EAX
00a663f4 : MOV EAX,dword ptr [ESI + 0x4]
00a663f7 : MOV dword ptr [ESI + 0x8],EBX
00a663fa : MOV dword ptr [EAX],EAX
00a663fc : MOV ESI,dword ptr [ESI + 0x4]
00a663ff : MOV dword ptr [ESI + 0x8],ESI
00a66402 : MOV EAX,dword ptr [EDI + 0x34]
00a66405 : MOV EDX,dword ptr [EDI + 0x30]
00a66408 : CMP EDX,EAX
00a6640a : JZ 0x00a66438
00a6640c : MOV ECX,EAX
00a6640e : SUB ECX,EAX
00a66410 : SAR ECX,0x2
00a66413 : LEA ESI,[ECX*0x4 + 0x0]
00a6641a : LEA EBX,[ESI + EDX*0x1]
00a6641d : MOV dword ptr [EBP + -0x4],EBX
00a66420 : XOR EBX,EBX
00a66422 : CMP ECX,EBX
00a66424 : JLE 0x00a66432
00a66426 : PUSH ESI
00a66427 : PUSH EAX
00a66428 : PUSH ESI
00a66429 : PUSH EDX
00a6642a : CALL 0x00634101
00a6642f : ADD ESP,0x10
00a66432 : MOV ECX,dword ptr [EBP + -0x4]
00a66435 : MOV dword ptr [EDI + 0x34],ECX
00a66438 : MOV ECX,dword ptr [EDI + 0x50]
00a6643b : CMP ECX,EBX
00a6643d : JZ 0x00a66449
00a6643f : MOV EDX,dword ptr [ECX]
00a66441 : MOV EAX,dword ptr [EDX + 0x30]
00a66444 : CALL EAX
00a66446 : MOV dword ptr [EDI + 0x50],EBX
00a66449 : MOV ECX,dword ptr [EDI + 0x40]
00a6644c : MOV EDX,dword ptr [ECX + 0x4]
00a6644f : LEA ESI,[EDI + 0x3c]
00a66452 : PUSH EDX
00a66453 : MOV ECX,ESI
00a66455 : CALL 0x00401c00
00a6645a : MOV EAX,dword ptr [ESI + 0x4]
00a6645d : MOV dword ptr [EAX + 0x4],EAX
00a66460 : MOV EAX,dword ptr [ESI + 0x4]
00a66463 : MOV dword ptr [ESI + 0x8],EBX
00a66466 : MOV dword ptr [EAX],EAX
00a66468 : MOV ESI,dword ptr [ESI + 0x4]
00a6646b : MOV dword ptr [ESI + 0x8],ESI
00a6646e : MOV ESI,dword ptr [EDI + 0x5c]
00a66471 : CMP ESI,dword ptr [EDI + 0x60]
00a66474 : JZ 0x00a6648c
00a66476 : MOV EAX,dword ptr [ESI]
00a66478 : CMP EAX,EBX
00a6647a : JZ 0x00a66484
00a6647c : PUSH EAX
00a6647d : CALL 0x0047bbf0
00a66482 : MOV dword ptr [ESI],EBX
00a66484 : ADD ESI,0x4
00a66487 : CMP ESI,dword ptr [EDI + 0x60]
00a6648a : JNZ 0x00a66476
00a6648c : MOV ECX,dword ptr [EDI + 0x60]
00a6648f : MOV ESI,dword ptr [EDI + 0x5c]
00a66492 : CMP ESI,ECX
00a66494 : JZ 0x00a664ba
00a66496 : MOV EAX,ECX
00a66498 : SUB EAX,ECX
00a6649a : SAR EAX,0x2
00a6649d : LEA EDX,[EAX*0x4 + 0x0]
00a664a4 : LEA EBX,[EDX + ESI*0x1]
00a664a7 : TEST EAX,EAX
00a664a9 : JLE 0x00a664b7
00a664ab : PUSH EDX
00a664ac : PUSH ECX
00a664ad : PUSH EDX
00a664ae : PUSH ESI
00a664af : CALL 0x00634101
00a664b4 : ADD ESP,0x10
00a664b7 : MOV dword ptr [EDI + 0x60],EBX
00a664ba : POP ESI
00a664bb : POP EBX
00a664bc : MOV ESP,EBP
00a664be : POP EBP
00a664bf : RET
