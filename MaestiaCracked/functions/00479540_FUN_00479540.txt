PROGRAM  : Maestia.exe
FUNCTION : FUN_00479540
ENTRY    : 00479540
BODY     : [[00479540, 004795d8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00479540(undefined4 param_1,undefined1 param_2)

{
  uint uVar1;
  undefined4 unaff_ESI;
  undefined4 in_stack_00000018;
  uint in_stack_0000001c;
  undefined1 in_stack_00000024;
  undefined4 in_stack_00000034;
  uint in_stack_00000038;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b7850a;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8 = 2;
  FUN_00479720(unaff_ESI,&param_1,&stack0x00000020);
  local_8 = CONCAT31(local_8._1_3_,1);
  if (0xf < in_stack_0000001c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar1);
  }
  in_stack_0000001c = 0xf;
  in_stack_00000018 = 0;
  param_2 = 0;
  local_8 = (uint)local_8._1_3_ << 8;
  if (0xf < in_stack_00000038) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar1);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00479540 : PUSH EBP
00479541 : MOV EBP,ESP
00479543 : PUSH -0x1
00479545 : PUSH 0xb7850a
0047954a : MOV EAX,FS:[0x0]
00479550 : PUSH EAX
00479551 : SUB ESP,0x8
00479554 : PUSH EBX
00479555 : MOV EAX,[0x00d66fa0]
0047955a : XOR EAX,EBP
0047955c : PUSH EAX
0047955d : LEA EAX,[EBP + -0xc]
00479560 : MOV FS:[0x0],EAX
00479566 : XOR EBX,EBX
00479568 : MOV dword ptr [EBP + -0x14],ESI
0047956b : MOV dword ptr [EBP + -0x10],EBX
0047956e : MOV dword ptr [EBP + -0x4],0x2
00479575 : LEA EAX,[EBP + 0x24]
00479578 : PUSH EAX
00479579 : LEA ECX,[EBP + 0x8]
0047957c : PUSH ECX
0047957d : PUSH ESI
0047957e : CALL 0x00479720
00479583 : MOV EAX,0x1
00479588 : MOV dword ptr [EBP + -0x10],EAX
0047958b : MOV byte ptr [EBP + -0x4],AL
0047958e : CMP dword ptr [EBP + 0x20],0x10
00479592 : JC 0x0047959c
00479594 : MOV ECX,dword ptr [EBP + 0xc]
00479597 : CALL 0x006f04e0
0047959c : MOV dword ptr [EBP + 0x20],0xf
004795a3 : MOV dword ptr [EBP + 0x1c],EBX
004795a6 : MOV byte ptr [EBP + 0xc],BL
004795a9 : MOV byte ptr [EBP + -0x4],BL
004795ac : CMP dword ptr [EBP + 0x3c],0x10
004795b0 : JC 0x004795ba
004795b2 : MOV ECX,dword ptr [EBP + 0x28]
004795b5 : CALL 0x006f04e0
004795ba : MOV dword ptr [EBP + 0x3c],0xf
004795c1 : MOV dword ptr [EBP + 0x38],EBX
004795c4 : MOV byte ptr [EBP + 0x28],BL
004795c7 : MOV EAX,ESI
004795c9 : MOV ECX,dword ptr [EBP + -0xc]
004795cc : MOV dword ptr FS:[0x0],ECX
004795d3 : POP ECX
004795d4 : POP EBX
004795d5 : MOV ESP,EBP
004795d7 : POP EBP
004795d8 : RET
