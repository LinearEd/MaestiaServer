PROGRAM  : Maestia.exe
FUNCTION : FUN_007e22b0
ENTRY    : 007e22b0
BODY     : [[007e22b0, 007e2459] [007e2460, 007e25fd]]

============================================================
DECOMPILED C CODE
============================================================

undefined1 FUN_007e22b0(undefined4 param_1,float *param_2,float *param_3)

{
  char cVar1;
  uint uVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 in_ECX;
  uint uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  float10 extraout_ST0;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  float local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  int local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined1 local_48 [4];
  int local_44;
  int local_40;
  undefined4 local_3c;
  int local_38;
  undefined4 local_34;
  uint local_30;
  int local_2c;
  uint local_28;
  float local_24;
  uint local_20;
  float local_1c;
  undefined1 local_15;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b29132;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_15 = 0;
  local_38 = 0;
  local_44 = 0;
  local_40 = 0;
  local_3c = 0;
  local_8 = 0;
  FUN_007d73c0(local_48);
  uVar5 = local_40 - local_44 >> 2;
  local_30 = uVar5;
  if (uVar5 != 0) {
    puVar3 = (undefined4 *)FUN_0045f110(in_ECX);
    local_74 = puVar3[7];
    local_90 = *puVar3;
    local_8c = puVar3[1];
    local_88 = puVar3[2];
    local_84 = puVar3[3];
    local_80 = puVar3[4];
    local_7c = puVar3[5];
    local_78 = puVar3[6];
    local_70 = (float)puVar3[8];
    local_6c = puVar3[9];
    local_68 = puVar3[10];
    local_64 = puVar3[0xb];
    local_60 = puVar3[0xc];
    local_5c = puVar3[0xd];
    local_58 = puVar3[0xe];
    local_54 = puVar3[0xf];
    local_1c = 200.0;
    local_20 = 0;
    local_50 = local_60;
    local_4c = local_64;
    local_34 = local_5c;
    local_2c = local_58;
    local_28 = local_74;
    local_24 = local_70;
    if (uVar5 != 0) {
      do {
        if ((uint)(local_40 - local_44 >> 2) <= local_20) {
                    /* WARNING: Subroutine does not return */
          FUN_0045cd70(uVar2);
        }
        iVar7 = *(int *)(local_44 + local_20 * 4);
        local_2c = iVar7;
        if (iVar7 != 0) {
          if (*(char *)(iVar7 + 0x18) == '\0') {
            uVar8 = (uint)*(ushort *)(iVar7 + 4);
            if (uVar8 != 0) {
              iVar6 = 0;
              do {
                iVar4 = *(int *)(iVar7 + 0xc) + iVar6;
                D3DXVec3TransformCoord(iVar4,iVar4,&local_90);
                iVar6 = iVar6 + 0xc;
                uVar8 = uVar8 - 1;
                uVar5 = local_30;
              } while (uVar8 != 0);
            }
            *(undefined1 *)(iVar7 + 0x18) = 1;
          }
          uVar8 = *(uint *)(iVar7 + 8) / 3;
          if (uVar8 != 0) {
            iVar6 = 0;
            local_28 = uVar8;
            do {
              cVar1 = FUN_0045ec80(param_3,*(int *)(iVar7 + 0xc) +
                                           (uint)*(ushort *)(*(int *)(iVar7 + 0x14) + 2 + iVar6) *
                                           0xc,&local_34,0);
              if (cVar1 != '\0') {
                iVar7 = local_38 + 1;
                local_38 = iVar7;
                FUN_0040f460((*param_3 - *param_2) * (*param_3 - *param_2) +
                             (param_3[2] - param_2[2]) * (param_3[2] - param_2[2]) +
                             (param_3[1] - param_2[1]) * (param_3[1] - param_2[1]));
                local_24 = (float)extraout_ST0;
                if (iVar7 == 1) {
                  local_15 = 1;
                  local_1c = local_24;
                }
                else if (local_1c <= local_24) {
                  local_15 = 0;
                }
                else {
                  local_15 = 1;
                  local_1c = local_24;
                }
              }
              iVar6 = iVar6 + 6;
              local_28 = local_28 - 1;
              iVar7 = local_2c;
            } while (local_28 != 0);
            local_28 = 0;
            uVar5 = local_30;
          }
        }
        local_20 = local_20 + 1;
      } while (local_20 < uVar5);
    }
  }
  local_8 = 0xffffffff;
  if (local_44 == 0) {
    ExceptionList = local_10;
    return local_15;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
007e22b0 : PUSH EBP
007e22b1 : MOV EBP,ESP
007e22b3 : PUSH -0x1
007e22b5 : PUSH 0xb29132
007e22ba : MOV EAX,FS:[0x0]
007e22c0 : PUSH EAX
007e22c1 : SUB ESP,0x98
007e22c7 : PUSH EBX
007e22c8 : PUSH ESI
007e22c9 : PUSH EDI
007e22ca : MOV EAX,[0x00d66fa0]
007e22cf : XOR EAX,EBP
007e22d1 : PUSH EAX
007e22d2 : LEA EAX,[EBP + -0xc]
007e22d5 : MOV FS:[0x0],EAX
007e22db : MOV ESI,ECX
007e22dd : XOR EDI,EDI
007e22df : MOV byte ptr [EBP + -0x11],0x0
007e22e3 : MOV dword ptr [EBP + -0x34],EDI
007e22e6 : MOV dword ptr [EBP + -0x40],EDI
007e22e9 : MOV dword ptr [EBP + -0x3c],EDI
007e22ec : MOV dword ptr [EBP + -0x38],EDI
007e22ef : MOV dword ptr [EBP + -0x4],EDI
007e22f2 : LEA EAX,[EBP + -0x44]
007e22f5 : PUSH EAX
007e22f6 : CALL 0x007d73c0
007e22fb : MOV EBX,dword ptr [EBP + -0x3c]
007e22fe : SUB EBX,dword ptr [EBP + -0x40]
007e2301 : SAR EBX,0x2
007e2304 : MOV dword ptr [EBP + -0x2c],EBX
007e2307 : CMP EBX,EDI
007e2309 : JZ 0x007e25c6
007e230f : PUSH ESI
007e2310 : CALL 0x0045f110
007e2315 : MOVSS XMM7,dword ptr [EAX + 0x1c]
007e231a : MOVSS XMM0,dword ptr [EAX]
007e231e : MOVSS XMM1,dword ptr [EAX + 0x4]
007e2323 : MOVSS XMM2,dword ptr [EAX + 0x8]
007e2328 : MOVSS XMM3,dword ptr [EAX + 0xc]
007e232d : MOVSS XMM4,dword ptr [EAX + 0x10]
007e2332 : MOVSS XMM5,dword ptr [EAX + 0x14]
007e2337 : MOVSS XMM6,dword ptr [EAX + 0x18]
007e233c : MOVSS dword ptr [EBP + -0x24],XMM7
007e2341 : MOVSS XMM7,dword ptr [EAX + 0x20]
007e2346 : MOVSS dword ptr [EBP + -0x20],XMM7
007e234b : MOVSS XMM7,dword ptr [EAX + 0x24]
007e2350 : MOVSS dword ptr [EBP + -0x1c],XMM7
007e2355 : MOVSS XMM7,dword ptr [EAX + 0x28]
007e235a : MOVSS dword ptr [EBP + -0x18],XMM7
007e235f : MOVSS XMM7,dword ptr [EAX + 0x2c]
007e2364 : MOVSS dword ptr [EBP + -0x48],XMM7
007e2369 : MOVSS XMM7,dword ptr [EAX + 0x30]
007e236e : MOVSS dword ptr [EBP + -0x4c],XMM7
007e2373 : MOVSS XMM7,dword ptr [EAX + 0x34]
007e2378 : MOVSS dword ptr [EBP + -0x30],XMM7
007e237d : MOVSS XMM7,dword ptr [EAX + 0x38]
007e2382 : MOVSS dword ptr [EBP + -0x28],XMM7
007e2387 : MOVSS XMM7,dword ptr [EAX + 0x3c]
007e238c : MOVSS dword ptr [EBP + 0xffffff74],XMM0
007e2394 : MOVSS XMM0,dword ptr [EBP + -0x24]
007e2399 : MOVSS dword ptr [EBP + -0x70],XMM0
007e239e : MOVSS XMM0,dword ptr [EBP + -0x20]
007e23a3 : MOVSS dword ptr [EBP + -0x6c],XMM0
007e23a8 : MOVSS XMM0,dword ptr [EBP + -0x1c]
007e23ad : MOVSS dword ptr [EBP + -0x68],XMM0
007e23b2 : MOVSS XMM0,dword ptr [EBP + -0x18]
007e23b7 : MOVSS dword ptr [EBP + -0x64],XMM0
007e23bc : MOVSS XMM0,dword ptr [EBP + -0x48]
007e23c1 : MOVSS dword ptr [EBP + -0x60],XMM0
007e23c6 : MOVSS XMM0,dword ptr [EBP + -0x4c]
007e23cb : MOVSS dword ptr [EBP + -0x5c],XMM0
007e23d0 : MOVSS XMM0,dword ptr [EBP + -0x30]
007e23d5 : MOVSS dword ptr [EBP + -0x58],XMM0
007e23da : MOVSS XMM0,dword ptr [EBP + -0x28]
007e23df : XOR ECX,ECX
007e23e1 : MOVSS dword ptr [EBP + -0x54],XMM0
007e23e6 : MOVSS XMM0,dword ptr [0x00c10f24]
007e23ee : MOVSS dword ptr [EBP + 0xffffff78],XMM1
007e23f6 : MOVSS dword ptr [EBP + 0xffffff7c],XMM2
007e23fe : MOVSS dword ptr [EBP + -0x80],XMM3
007e2403 : MOVSS dword ptr [EBP + -0x7c],XMM4
007e2408 : MOVSS dword ptr [EBP + -0x78],XMM5
007e240d : MOVSS dword ptr [EBP + -0x74],XMM6
007e2412 : MOVSS dword ptr [EBP + -0x50],XMM7
007e2417 : MOVSS dword ptr [EBP + -0x18],XMM0
007e241c : MOV dword ptr [EBP + -0x1c],ECX
007e241f : CMP EBX,EDI
007e2421 : JBE 0x007e25c6
007e2427 : MOV EDX,dword ptr [EBP + -0x3c]
007e242a : MOV EAX,dword ptr [EBP + -0x40]
007e242d : SUB EDX,EAX
007e242f : SAR EDX,0x2
007e2432 : CMP EDX,ECX
007e2434 : JBE 0x007e25f9
007e243a : MOV ESI,dword ptr [EAX + ECX*0x4]
007e243d : MOV dword ptr [EBP + -0x28],ESI
007e2440 : CMP ESI,EDI
007e2442 : JZ 0x007e25ba
007e2448 : CMP byte ptr [ESI + 0x18],0x0
007e244c : JNZ 0x007e2487
007e244e : MOVZX EDI,word ptr [ESI + 0x4]
007e2452 : TEST EDI,EDI
007e2454 : JLE 0x007e2481
007e2456 : XOR EBX,EBX
007e2458 : JMP 0x007e2460
007e2460 : MOV EAX,dword ptr [ESI + 0xc]
007e2463 : LEA ECX,[EBP + 0xffffff74]
007e2469 : ADD EAX,EBX
007e246b : PUSH ECX
007e246c : PUSH EAX
007e246d : PUSH EAX
007e246e : CALL 0x004ff734
007e2473 : ADD EBX,0xc
007e2476 : SUB EDI,0x1
007e2479 : JNZ 0x007e2460
007e247b : MOV ECX,dword ptr [EBP + -0x1c]
007e247e : MOV EBX,dword ptr [EBP + -0x2c]
007e2481 : MOV byte ptr [ESI + 0x18],0x1
007e2485 : XOR EDI,EDI
007e2487 : MOV EAX,0xaaaaaaab
007e248c : MUL dword ptr [ESI + 0x8]
007e248f : SHR EDX,0x1
007e2491 : CMP EDX,EDI
007e2493 : JLE 0x007e25ba
007e2499 : XOR EBX,EBX
007e249b : MOV dword ptr [EBP + -0x24],EDX
007e249e : JMP 0x007e24a3
007e24a0 : MOV ESI,dword ptr [EBP + -0x28]
007e24a3 : MOV EAX,dword ptr [EBP + 0x8]
007e24a6 : MOVQ XMM0,qword ptr [EAX]
007e24aa : MOV EDX,dword ptr [EAX + 0x8]
007e24ad : MOV EAX,dword ptr [EBP + 0xc]
007e24b0 : MOV ECX,dword ptr [ESI + 0xc]
007e24b3 : MOV dword ptr [EBP + 0xffffff70],EDX
007e24b9 : MOVQ qword ptr [EBP + 0xffffff68],XMM0
007e24c1 : MOVQ XMM0,qword ptr [EAX]
007e24c5 : MOV EAX,dword ptr [EAX + 0x8]
007e24c8 : MOV dword ptr [EBP + 0xffffff64],EAX
007e24ce : MOV EAX,dword ptr [ESI + 0x14]
007e24d1 : PUSH 0x0
007e24d3 : LEA EDX,[EBP + -0x30]
007e24d6 : PUSH EDX
007e24d7 : MOVZX EDX,word ptr [EAX + EBX*0x1 + 0x4]
007e24dc : LEA EDX,[EDX + EDX*0x2]
007e24df : LEA EDI,[ECX + EDX*0x4]
007e24e2 : MOVZX EDX,word ptr [EAX + EBX*0x1 + 0x2]
007e24e7 : MOVZX EAX,word ptr [EAX + EBX*0x1]
007e24eb : LEA EDX,[EDX + EDX*0x2]
007e24ee : LEA EDX,[ECX + EDX*0x4]
007e24f1 : LEA EAX,[EAX + EAX*0x2]
007e24f4 : LEA ESI,[ECX + EAX*0x4]
007e24f7 : MOV ECX,dword ptr [EBP + 0x10]
007e24fa : PUSH EDX
007e24fb : PUSH ECX
007e24fc : LEA EDX,[EBP + 0xffffff5c]
007e2502 : LEA ECX,[EBP + 0xffffff68]
007e2508 : MOVQ qword ptr [EBP + 0xffffff5c],XMM0
007e2510 : CALL 0x0045ec80
007e2515 : ADD ESP,0x10
007e2518 : TEST AL,AL
007e251a : JZ 0x007e25a5
007e2520 : MOV EAX,dword ptr [EBP + 0x10]
007e2523 : MOV ECX,dword ptr [EBP + 0xc]
007e2526 : MOVSS XMM0,dword ptr [EAX]
007e252a : SUBSS XMM0,dword ptr [ECX]
007e252e : MOVSS XMM2,dword ptr [EAX + 0x8]
007e2533 : SUBSS XMM2,dword ptr [ECX + 0x8]
007e2538 : MOVSS XMM1,dword ptr [EAX + 0x4]
007e253d : SUBSS XMM1,dword ptr [ECX + 0x4]
007e2542 : MOV ESI,dword ptr [EBP + -0x34]
007e2545 : MOVAPS XMM3,XMM0
007e2548 : MULSS XMM3,XMM0
007e254c : MOVAPS XMM0,XMM2
007e254f : MULSS XMM0,XMM2
007e2553 : ADDSS XMM3,XMM0
007e2557 : MOVAPS XMM0,XMM1
007e255a : MULSS XMM0,XMM1
007e255e : PUSH ECX
007e255f : INC ESI
007e2560 : ADDSS XMM3,XMM0
007e2564 : MOV dword ptr [EBP + -0x34],ESI
007e2567 : MOVSS dword ptr [ESP],XMM3
007e256c : CALL 0x0040f460
007e2571 : FSTP float ptr [EBP + -0x20]
007e2574 : MOVSS XMM0,dword ptr [EBP + -0x20]
007e2579 : ADD ESP,0x4
007e257c : CMP ESI,0x1
007e257f : JNZ 0x007e258c
007e2581 : MOVSS dword ptr [EBP + -0x18],XMM0
007e2586 : MOV byte ptr [EBP + -0x11],0x1
007e258a : JMP 0x007e25a5
007e258c : MOVSS XMM1,dword ptr [EBP + -0x18]
007e2591 : COMISS XMM1,XMM0
007e2594 : JBE 0x007e25a1
007e2596 : MOVSS dword ptr [EBP + -0x18],XMM0
007e259b : MOV byte ptr [EBP + -0x11],0x1
007e259f : JMP 0x007e25a5
007e25a1 : MOV byte ptr [EBP + -0x11],0x0
007e25a5 : ADD EBX,0x6
007e25a8 : SUB dword ptr [EBP + -0x24],0x1
007e25ac : JNZ 0x007e24a0
007e25b2 : MOV ECX,dword ptr [EBP + -0x1c]
007e25b5 : MOV EBX,dword ptr [EBP + -0x2c]
007e25b8 : XOR EDI,EDI
007e25ba : INC ECX
007e25bb : MOV dword ptr [EBP + -0x1c],ECX
007e25be : CMP ECX,EBX
007e25c0 : JC 0x007e2427
007e25c6 : MOV dword ptr [EBP + -0x4],0xffffffff
007e25cd : MOV ECX,dword ptr [EBP + -0x40]
007e25d0 : CMP ECX,EDI
007e25d2 : JZ 0x007e25d9
007e25d4 : CALL 0x006f04e0
007e25d9 : MOV AL,byte ptr [EBP + -0x11]
007e25dc : MOV dword ptr [EBP + -0x40],EDI
007e25df : MOV dword ptr [EBP + -0x3c],EDI
007e25e2 : MOV dword ptr [EBP + -0x38],EDI
007e25e5 : MOV ECX,dword ptr [EBP + -0xc]
007e25e8 : MOV dword ptr FS:[0x0],ECX
007e25ef : POP ECX
007e25f0 : POP EDI
007e25f1 : POP ESI
007e25f2 : POP EBX
007e25f3 : MOV ESP,EBP
007e25f5 : POP EBP
007e25f6 : RET 0xc
007e25f9 : CALL 0x0045cd70
