PROGRAM  : Maestia.exe
FUNCTION : FUN_005cea20
ENTRY    : 005cea20
BODY     : [[005cea20, 005ceb31]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005cea20(undefined4 *param_1,uint param_2)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  undefined4 *puVar6;
  int local_18;
  undefined1 local_14;
  
  iVar2 = param_2;
  local_18 = param_2;
  local_14 = 8;
  iVar3 = FUN_00515840(0x34,0);
  if (iVar3 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = FUN_005cd6a0(&local_18);
  }
  puVar1 = param_1;
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = uVar4;
  param_1[1] = 0;
  iVar3 = FUN_00515840(0x50,0);
  if (iVar3 == 0) {
    uVar5 = 0;
  }
  else {
    puVar6 = puVar1;
    uVar4 = FUN_00530910(1);
    uVar5 = FUN_005cdd40(&local_18,uVar4,puVar6);
    if (uVar5 != 0) {
      *(uint *)(uVar5 + 8) = *(int *)(uVar5 + 8) + 1U & 0x8fffffff;
    }
  }
  param_1 = (undefined4 *)0x16;
  param_2 = uVar5;
  FUN_0050ff10(&param_1,&param_2);
  if (param_2 != 0) {
    FUN_00503db0();
  }
  puVar6 = &param_2;
  param_2 = param_2 & 0xffffff00;
  iVar3 = *(int *)(*(int *)(iVar2 + 0x290) + 0x10);
  uVar4 = FUN_00526210(puVar1);
  (**(code **)(iVar3 + 0x28))(&local_18,iVar2 + 0x60,uVar4,puVar6);
  FUN_00526bc0();
  if (uVar5 != 0) {
    FUN_00503db0();
  }
  return puVar1;
}



============================================================
DISASSEMBLY
============================================================
005cea20 : SUB ESP,0x18
005cea23 : PUSH EBP
005cea24 : PUSH ESI
005cea25 : MOV ESI,dword ptr [ESP + 0x28]
005cea29 : MOV ECX,dword ptr [ESI + 0x288]
005cea2f : PUSH EDI
005cea30 : PUSH 0x0
005cea32 : PUSH 0x34
005cea34 : MOV dword ptr [ESP + 0x14],ESI
005cea38 : MOV byte ptr [ESP + 0x18],0x8
005cea3d : CALL 0x00515840
005cea42 : TEST EAX,EAX
005cea44 : JZ 0x005cea54
005cea46 : LEA ECX,[ESP + 0xc]
005cea4a : PUSH ECX
005cea4b : MOV ECX,EAX
005cea4d : CALL 0x005cd6a0
005cea52 : JMP 0x005cea56
005cea54 : XOR EAX,EAX
005cea56 : MOV EDI,dword ptr [ESP + 0x28]
005cea5a : PUSH 0x0
005cea5c : MOV byte ptr [EDI + 0x8],0x0
005cea60 : MOV dword ptr [EDI],EAX
005cea62 : MOV dword ptr [EDI + 0x4],0x0
005cea69 : MOV ECX,dword ptr [ESI + 0x288]
005cea6f : PUSH 0x50
005cea71 : CALL 0x00515840
005cea76 : MOV EBP,EAX
005cea78 : TEST EBP,EBP
005cea7a : JZ 0x005ceb2b
005cea80 : PUSH EDI
005cea81 : PUSH 0x1
005cea83 : MOV ECX,ESI
005cea85 : CALL 0x00530910
005cea8a : PUSH EAX
005cea8b : LEA EDX,[ESP + 0x14]
005cea8f : PUSH EDX
005cea90 : MOV ECX,EBP
005cea92 : CALL 0x005cdd40
005cea97 : MOV EBP,EAX
005cea99 : TEST EBP,EBP
005cea9b : JZ 0x005ceaa9
005cea9d : MOV EAX,dword ptr [EBP + 0x8]
005ceaa0 : INC EAX
005ceaa1 : AND EAX,0x8fffffff
005ceaa6 : MOV dword ptr [EBP + 0x8],EAX
005ceaa9 : LEA ECX,[ESP + 0x2c]
005ceaad : PUSH ECX
005ceaae : LEA EDX,[ESP + 0x2c]
005ceab2 : PUSH EDX
005ceab3 : LEA ECX,[ESI + 0x278]
005ceab9 : MOV dword ptr [ESP + 0x34],EBP
005ceabd : MOV dword ptr [ESP + 0x30],0x16
005ceac5 : CALL 0x0050ff10
005ceaca : MOV ECX,dword ptr [ESP + 0x2c]
005ceace : TEST ECX,ECX
005cead0 : JZ 0x005cead7
005cead2 : CALL 0x00503db0
005cead7 : MOV EAX,dword ptr [ESI + 0x290]
005ceadd : PUSH EBX
005ceade : LEA ECX,[ESP + 0x30]
005ceae2 : PUSH ECX
005ceae3 : MOV byte ptr [ESP + 0x34],0x0
005ceae8 : MOV EBX,dword ptr [EAX + 0x10]
005ceaeb : PUSH EDI
005ceaec : LEA ECX,[ESP + 0x20]
005ceaf0 : CALL 0x00526210
005ceaf5 : MOV ECX,dword ptr [ESI + 0x290]
005ceafb : PUSH EAX
005ceafc : LEA EDX,[ESI + 0x60]
005ceaff : PUSH EDX
005ceb00 : MOV EDX,dword ptr [EBX + 0x28]
005ceb03 : LEA EAX,[ESP + 0x1c]
005ceb07 : PUSH EAX
005ceb08 : ADD ECX,0x10
005ceb0b : CALL EDX
005ceb0d : LEA ECX,[ESP + 0x18]
005ceb11 : CALL 0x00526bc0
005ceb16 : POP EBX
005ceb17 : TEST EBP,EBP
005ceb19 : JZ 0x005ceb22
005ceb1b : MOV ECX,EBP
005ceb1d : CALL 0x00503db0
005ceb22 : MOV EAX,EDI
005ceb24 : POP EDI
005ceb25 : POP ESI
005ceb26 : POP EBP
005ceb27 : ADD ESP,0x18
005ceb2a : RET
005ceb2b : XOR EBP,EBP
005ceb2d : JMP 0x005ceaa9
