PROGRAM  : Maestia.exe
FUNCTION : FUN_00430a20
ENTRY    : 00430a20
BODY     : [[00430a20, 00430a92]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00430a20(void)

{
  int *piVar1;
  uint uVar2;
  int unaff_ESI;
  int iVar3;
  
  iVar3 = *(int *)(unaff_ESI + 0x1c);
  while (iVar3 != 0) {
    if (*(int *)(unaff_ESI + 0x1c) != 0) {
      uVar2 = *(int *)(unaff_ESI + 0x1c) + -1 + *(int *)(unaff_ESI + 0x18);
      if (*(uint *)(unaff_ESI + 0x14) <= uVar2) {
        uVar2 = uVar2 - *(uint *)(unaff_ESI + 0x14);
      }
      FUN_00401300(*(undefined4 *)(*(int *)(unaff_ESI + 0x10) + uVar2 * 4));
      piVar1 = (int *)(unaff_ESI + 0x1c);
      *piVar1 = *piVar1 + -1;
      if (*piVar1 == 0) {
        *(undefined4 *)(unaff_ESI + 0x18) = 0;
      }
    }
    iVar3 = *(int *)(unaff_ESI + 0x1c);
  }
  iVar3 = *(int *)(unaff_ESI + 0x14);
  while (iVar3 != 0) {
    iVar3 = iVar3 + -1;
    if (*(int *)(*(int *)(unaff_ESI + 0x10) + iVar3 * 4) != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  if (*(int *)(unaff_ESI + 0x10) == 0) {
    *(undefined4 *)(unaff_ESI + 0x10) = 0;
    *(undefined4 *)(unaff_ESI + 0x14) = 0;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00430a20 : PUSH EBX
00430a21 : XOR EBX,EBX
00430a23 : PUSH EDI
00430a24 : CMP dword ptr [ESI + 0x1c],EBX
00430a27 : JZ 0x00430a60
00430a29 : OR EDI,0xffffffff
00430a2c : LEA ESP,[ESP]
00430a30 : MOV EAX,dword ptr [ESI + 0x1c]
00430a33 : CMP EAX,EBX
00430a35 : JZ 0x00430a5b
00430a37 : MOV ECX,dword ptr [ESI + 0x18]
00430a3a : LEA EAX,[EAX + ECX*0x1 + -0x1]
00430a3e : MOV ECX,dword ptr [ESI + 0x14]
00430a41 : CMP ECX,EAX
00430a43 : JA 0x00430a47
00430a45 : SUB EAX,ECX
00430a47 : MOV EDX,dword ptr [ESI + 0x10]
00430a4a : MOV EAX,dword ptr [EDX + EAX*0x4]
00430a4d : PUSH EAX
00430a4e : CALL 0x00401300
00430a53 : ADD dword ptr [ESI + 0x1c],EDI
00430a56 : JNZ 0x00430a5b
00430a58 : MOV dword ptr [ESI + 0x18],EBX
00430a5b : CMP dword ptr [ESI + 0x1c],EBX
00430a5e : JNZ 0x00430a30
00430a60 : MOV EDI,dword ptr [ESI + 0x14]
00430a63 : CMP EDI,EBX
00430a65 : JBE 0x00430a7e
00430a67 : MOV ECX,dword ptr [ESI + 0x10]
00430a6a : DEC EDI
00430a6b : CMP dword ptr [ECX + EDI*0x4],EBX
00430a6e : LEA EAX,[ECX + EDI*0x4]
00430a71 : JZ 0x00430a7a
00430a73 : MOV ECX,dword ptr [EAX]
00430a75 : CALL 0x006f04e0
00430a7a : CMP EDI,EBX
00430a7c : JA 0x00430a67
00430a7e : MOV ECX,dword ptr [ESI + 0x10]
00430a81 : CMP ECX,EBX
00430a83 : JZ 0x00430a8a
00430a85 : CALL 0x006f04e0
00430a8a : POP EDI
00430a8b : MOV dword ptr [ESI + 0x10],EBX
00430a8e : MOV dword ptr [ESI + 0x14],EBX
00430a91 : POP EBX
00430a92 : RET
