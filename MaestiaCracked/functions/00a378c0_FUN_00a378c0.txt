PROGRAM  : Maestia.exe
FUNCTION : FUN_00a378c0
ENTRY    : 00a378c0
BODY     : [[00a378c0, 00a3799e]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00a37964) */
/* WARNING: Removing unreachable block (ram,0x00a3797e) */

bool FUN_00a378c0(undefined4 param_1,uint *param_2,undefined4 *param_3,uint param_4)

{
  uint *puVar1;
  uint uVar2;
  undefined4 unaff_ESI;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b628e1;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  puVar1 = (uint *)FUN_0084a370(unaff_ESI,param_1);
  if ((puVar1 != (uint *)0x0) && (*puVar1 == param_4)) {
    *param_2 = puVar1[2];
    param_2[2] = puVar1[3];
    ExceptionList = local_10;
    return true;
  }
  local_8 = 0;
  uVar2 = FUN_00a227d0(param_4 & 0xffff);
  if (uVar2 < 1000) {
    *param_3 = local_14;
  }
  ExceptionList = local_10;
  return uVar2 < 1000;
}



============================================================
DISASSEMBLY
============================================================
00a378c0 : PUSH EBP
00a378c1 : MOV EBP,ESP
00a378c3 : PUSH -0x1
00a378c5 : PUSH 0xb628e1
00a378ca : MOV EAX,FS:[0x0]
00a378d0 : PUSH EAX
00a378d1 : SUB ESP,0x18
00a378d4 : PUSH EBX
00a378d5 : PUSH EDI
00a378d6 : MOV EAX,[0x00d66fa0]
00a378db : XOR EAX,EBP
00a378dd : PUSH EAX
00a378de : LEA EAX,[EBP + -0xc]
00a378e1 : MOV FS:[0x0],EAX
00a378e7 : MOV EBX,dword ptr [EBP + 0x14]
00a378ea : MOV EAX,dword ptr [EBP + 0x8]
00a378ed : PUSH EAX
00a378ee : MOV EAX,[0x017248f8]
00a378f3 : PUSH ESI
00a378f4 : CALL 0x0084a370
00a378f9 : XOR EDI,EDI
00a378fb : CMP EAX,EDI
00a378fd : JZ 0x00a37925
00a378ff : CMP dword ptr [EAX],EBX
00a37901 : JNZ 0x00a37925
00a37903 : FLD float ptr [EAX + 0x8]
00a37906 : MOV ECX,dword ptr [EBP + 0xc]
00a37909 : FSTP float ptr [ECX]
00a3790b : FLD float ptr [EAX + 0xc]
00a3790e : LEA EAX,[EDI + 0x1]
00a37911 : FSTP float ptr [ECX + 0x8]
00a37914 : MOV ECX,dword ptr [EBP + -0xc]
00a37917 : MOV dword ptr FS:[0x0],ECX
00a3791e : POP ECX
00a3791f : POP EDI
00a37920 : POP EBX
00a37921 : MOV ESP,EBP
00a37923 : POP EBP
00a37924 : RET
00a37925 : MOV dword ptr [EBP + -0x1c],EDI
00a37928 : MOV dword ptr [EBP + -0x18],EDI
00a3792b : MOV dword ptr [EBP + -0x14],EDI
00a3792e : MOV dword ptr [EBP + -0x4],EDI
00a37931 : LEA ECX,[EBP + -0x10]
00a37934 : PUSH ECX
00a37935 : LEA EDX,[EBP + -0x20]
00a37938 : PUSH EDX
00a37939 : PUSH EDI
00a3793a : MOVZX EAX,BX
00a3793d : PUSH ESI
00a3793e : PUSH EAX
00a3793f : CALL 0x00a227d0
00a37944 : ADD ESP,0x14
00a37947 : CMP EAX,0x3e7
00a3794c : JA 0x00a37970
00a3794e : MOV ECX,dword ptr [EBP + -0x10]
00a37951 : MOV EDX,dword ptr [EBP + 0x10]
00a37954 : MOV dword ptr [EDX],ECX
00a37956 : MOV dword ptr [EBP + -0x4],0xffffffff
00a3795d : MOV ECX,dword ptr [EBP + -0x1c]
00a37960 : CMP ECX,EDI
00a37962 : JZ 0x00a37969
00a37964 : CALL 0x006f04e0
00a37969 : MOV EAX,0x1
00a3796e : JMP 0x00a37985
00a37970 : MOV dword ptr [EBP + -0x4],0xffffffff
00a37977 : MOV ECX,dword ptr [EBP + -0x1c]
00a3797a : CMP ECX,EDI
00a3797c : JZ 0x00a37983
00a3797e : CALL 0x006f04e0
00a37983 : XOR EAX,EAX
00a37985 : MOV dword ptr [EBP + -0x14],EDI
00a37988 : MOV dword ptr [EBP + -0x18],EDI
00a3798b : MOV dword ptr [EBP + -0x1c],EDI
00a3798e : MOV ECX,dword ptr [EBP + -0xc]
00a37991 : MOV dword ptr FS:[0x0],ECX
00a37998 : POP ECX
00a37999 : POP EDI
00a3799a : POP EBX
00a3799b : MOV ESP,EBP
00a3799d : POP EBP
00a3799e : RET
