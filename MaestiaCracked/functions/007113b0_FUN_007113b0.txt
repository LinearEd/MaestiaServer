PROGRAM  : Maestia.exe
FUNCTION : FUN_007113b0
ENTRY    : 007113b0
BODY     : [[007113b0, 0071147a]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_007113b0(int param_1)

{
  char *in_EAX;
  int iVar1;
  undefined4 uVar2;
  uint in_ECX;
  int unaff_ESI;
  
  if (((in_EAX == (char *)0x0) || (*in_EAX != s_1_2_1_00d6ca28[0])) || (param_1 != 0x38)) {
    return 0xfffffffa;
  }
  if (unaff_ESI != 0) {
    *(undefined4 *)(unaff_ESI + 0x18) = 0;
    if (*(int *)(unaff_ESI + 0x20) == 0) {
      *(code **)(unaff_ESI + 0x20) = FUN_0070e290;
      *(undefined4 *)(unaff_ESI + 0x28) = 0;
    }
    if (*(int *)(unaff_ESI + 0x24) == 0) {
      *(code **)(unaff_ESI + 0x24) = FUN_0070e270;
    }
    iVar1 = (**(code **)(unaff_ESI + 0x20))(*(undefined4 *)(unaff_ESI + 0x28),1,0x1ba8);
    if (iVar1 == 0) {
      return 0xfffffffc;
    }
    *(int *)(unaff_ESI + 0x1c) = iVar1;
    if ((int)in_ECX < 0) {
      *(undefined4 *)(iVar1 + 8) = 0;
      in_ECX = -in_ECX;
    }
    else {
      *(int *)(iVar1 + 8) = ((int)in_ECX >> 4) + 1;
      if ((int)in_ECX < 0x30) {
        in_ECX = in_ECX & 0xf;
      }
    }
    if (in_ECX - 8 < 8) {
      *(uint *)(iVar1 + 0x1c) = in_ECX;
      *(undefined4 *)(iVar1 + 0x2c) = 0;
      uVar2 = FUN_00710030();
      return uVar2;
    }
    (**(code **)(unaff_ESI + 0x24))(*(undefined4 *)(unaff_ESI + 0x28),iVar1);
    *(undefined4 *)(unaff_ESI + 0x1c) = 0;
  }
  return 0xfffffffe;
}



============================================================
DISASSEMBLY
============================================================
007113b0 : PUSH EBP
007113b1 : MOV EBP,ESP
007113b3 : PUSH EBX
007113b4 : XOR EBX,EBX
007113b6 : PUSH EDI
007113b7 : MOV EDI,ECX
007113b9 : CMP EAX,EBX
007113bb : JZ 0x00711472
007113c1 : MOV AL,byte ptr [EAX]
007113c3 : CMP AL,byte ptr [0x00d6ca28]
007113c9 : JNZ 0x00711472
007113cf : CMP dword ptr [EBP + 0x8],0x38
007113d3 : JNZ 0x00711472
007113d9 : CMP ESI,EBX
007113db : JZ 0x00711469
007113e1 : MOV dword ptr [ESI + 0x18],EBX
007113e4 : CMP dword ptr [ESI + 0x20],EBX
007113e7 : JNZ 0x007113f3
007113e9 : MOV dword ptr [ESI + 0x20],0x70e290
007113f0 : MOV dword ptr [ESI + 0x28],EBX
007113f3 : CMP dword ptr [ESI + 0x24],EBX
007113f6 : JNZ 0x007113ff
007113f8 : MOV dword ptr [ESI + 0x24],0x70e270
007113ff : MOV ECX,dword ptr [ESI + 0x28]
00711402 : MOV EDX,dword ptr [ESI + 0x20]
00711405 : PUSH 0x1ba8
0071140a : PUSH 0x1
0071140c : PUSH ECX
0071140d : CALL EDX
0071140f : ADD ESP,0xc
00711412 : CMP EAX,EBX
00711414 : JNZ 0x0071141f
00711416 : POP EDI
00711417 : MOV EAX,0xfffffffc
0071141c : POP EBX
0071141d : POP EBP
0071141e : RET
0071141f : CMP EDI,EBX
00711421 : MOV dword ptr [ESI + 0x1c],EAX
00711424 : JGE 0x0071142d
00711426 : MOV dword ptr [EAX + 0x8],EBX
00711429 : NEG EDI
0071142b : JMP 0x0071143e
0071142d : MOV ECX,EDI
0071142f : SAR ECX,0x4
00711432 : INC ECX
00711433 : CMP EDI,0x30
00711436 : MOV dword ptr [EAX + 0x8],ECX
00711439 : JGE 0x0071143e
0071143b : AND EDI,0xf
0071143e : LEA EDX,[EDI + -0x8]
00711441 : CMP EDX,0x7
00711444 : JA 0x00711459
00711446 : PUSH ESI
00711447 : MOV dword ptr [EAX + 0x1c],EDI
0071144a : MOV dword ptr [EAX + 0x2c],EBX
0071144d : CALL 0x00710030
00711452 : ADD ESP,0x4
00711455 : POP EDI
00711456 : POP EBX
00711457 : POP EBP
00711458 : RET
00711459 : MOV ECX,dword ptr [ESI + 0x24]
0071145c : PUSH EAX
0071145d : MOV EAX,dword ptr [ESI + 0x28]
00711460 : PUSH EAX
00711461 : CALL ECX
00711463 : ADD ESP,0x8
00711466 : MOV dword ptr [ESI + 0x1c],EBX
00711469 : POP EDI
0071146a : MOV EAX,0xfffffffe
0071146f : POP EBX
00711470 : POP EBP
00711471 : RET
00711472 : POP EDI
00711473 : MOV EAX,0xfffffffa
00711478 : POP EBX
00711479 : POP EBP
0071147a : RET
