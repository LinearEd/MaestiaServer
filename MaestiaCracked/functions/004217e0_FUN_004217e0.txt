PROGRAM  : Maestia.exe
FUNCTION : FUN_004217e0
ENTRY    : 004217e0
BODY     : [[004217e0, 00421895]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004217e0(uint *param_1)

{
  int *piVar1;
  undefined4 *puVar2;
  int *piVar3;
  undefined4 *unaff_EDI;
  bool bVar4;
  
  bVar4 = true;
  piVar3 = DAT_017256dc;
  if (*(char *)(DAT_017256dc[1] + 0x2d) == '\0') {
    piVar1 = (int *)DAT_017256dc[1];
    do {
      piVar3 = piVar1;
      bVar4 = *param_1 < (uint)piVar3[3];
      if (bVar4) {
        piVar1 = (int *)*piVar3;
      }
      else {
        piVar1 = (int *)piVar3[2];
      }
    } while (*(char *)((int)piVar1 + 0x2d) == '\0');
  }
  if (bVar4) {
    if (piVar3 == (int *)*DAT_017256dc) {
      puVar2 = (undefined4 *)FUN_004218a0(&param_1,1,param_1);
      *unaff_EDI = *puVar2;
      *(undefined1 *)(unaff_EDI + 1) = 1;
      return;
    }
    FUN_004d6300();
  }
  if ((uint)piVar3[3] < *param_1) {
    puVar2 = (undefined4 *)FUN_004218a0(&param_1,bVar4,param_1);
    *unaff_EDI = *puVar2;
    *(undefined1 *)(unaff_EDI + 1) = 1;
    return;
  }
  *unaff_EDI = piVar3;
  *(undefined1 *)(unaff_EDI + 1) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
004217e0 : PUSH EBP
004217e1 : MOV EBP,ESP
004217e3 : SUB ESP,0xc
004217e6 : PUSH EBX
004217e7 : MOV EBX,dword ptr [0x017256dc]
004217ed : MOV EAX,dword ptr [EBX + 0x4]
004217f0 : CMP byte ptr [EAX + 0x2d],0x0
004217f4 : MOV CL,0x1
004217f6 : PUSH ESI
004217f7 : MOV ESI,EBX
004217f9 : MOV byte ptr [EBP + -0x8],CL
004217fc : JNZ 0x0042181f
004217fe : MOV ECX,dword ptr [EBP + 0x8]
00421801 : MOV EDX,dword ptr [ECX]
00421803 : CMP EDX,dword ptr [EAX + 0xc]
00421806 : MOV ESI,EAX
00421808 : SETC CL
0042180b : MOV byte ptr [EBP + -0x8],CL
0042180e : TEST CL,CL
00421810 : JZ 0x00421816
00421812 : MOV EAX,dword ptr [EAX]
00421814 : JMP 0x00421819
00421816 : MOV EAX,dword ptr [EAX + 0x8]
00421819 : CMP byte ptr [EAX + 0x2d],0x0
0042181d : JZ 0x00421803
0042181f : MOV EAX,ESI
00421821 : MOV dword ptr [EBP + -0x4],EAX
00421824 : TEST CL,CL
00421826 : JZ 0x0042185a
00421828 : CMP ESI,dword ptr [EBX]
0042182a : JNZ 0x0042184f
0042182c : MOV EDX,dword ptr [EBP + 0x8]
0042182f : PUSH EDX
00421830 : PUSH 0x1
00421832 : LEA EAX,[EBP + 0x8]
00421835 : PUSH EAX
00421836 : MOV ECX,ESI
00421838 : CALL 0x004218a0
0042183d : MOV ECX,dword ptr [EAX]
0042183f : MOV dword ptr [EDI],ECX
00421841 : MOV byte ptr [EDI + 0x4],0x1
00421845 : MOV EAX,EDI
00421847 : POP ESI
00421848 : POP EBX
00421849 : MOV ESP,EBP
0042184b : POP EBP
0042184c : RET 0x4
0042184f : LEA EDX,[EBP + -0x4]
00421852 : CALL 0x004d6300
00421857 : MOV EAX,dword ptr [EBP + -0x4]
0042185a : MOV EDX,dword ptr [EAX + 0xc]
0042185d : MOV ECX,dword ptr [EBP + 0x8]
00421860 : CMP EDX,dword ptr [ECX]
00421862 : JNC 0x00421886
00421864 : MOV EAX,dword ptr [EBP + -0x8]
00421867 : PUSH ECX
00421868 : PUSH EAX
00421869 : LEA ECX,[EBP + 0x8]
0042186c : PUSH ECX
0042186d : MOV ECX,ESI
0042186f : CALL 0x004218a0
00421874 : MOV EDX,dword ptr [EAX]
00421876 : MOV dword ptr [EDI],EDX
00421878 : MOV byte ptr [EDI + 0x4],0x1
0042187c : MOV EAX,EDI
0042187e : POP ESI
0042187f : POP EBX
00421880 : MOV ESP,EBP
00421882 : POP EBP
00421883 : RET 0x4
00421886 : POP ESI
00421887 : MOV dword ptr [EDI],EAX
00421889 : MOV byte ptr [EDI + 0x4],0x0
0042188d : MOV EAX,EDI
0042188f : POP EBX
00421890 : MOV ESP,EBP
00421892 : POP EBP
00421893 : RET 0x4
