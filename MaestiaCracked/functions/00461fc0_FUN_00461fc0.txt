PROGRAM  : Maestia.exe
FUNCTION : FUN_00461fc0
ENTRY    : 00461fc0
BODY     : [[00461fc0, 0046226d]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004620e0) */
/* WARNING: Removing unreachable block (ram,0x004620f0) */
/* WARNING: Removing unreachable block (ram,0x004620f9) */
/* WARNING: Removing unreachable block (ram,0x004620fc) */
/* WARNING: Removing unreachable block (ram,0x004620ec) */
/* WARNING: Removing unreachable block (ram,0x00462109) */
/* WARNING: Removing unreachable block (ram,0x00462119) */
/* WARNING: Removing unreachable block (ram,0x00462124) */
/* WARNING: Removing unreachable block (ram,0x00462120) */
/* WARNING: Removing unreachable block (ram,0x00462114) */
/* WARNING: Removing unreachable block (ram,0x00462127) */
/* WARNING: Removing unreachable block (ram,0x00462137) */
/* WARNING: Removing unreachable block (ram,0x0046213f) */

void FUN_00461fc0(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7ad85;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x45) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_00416a70(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x45) == '\0') {
    if (*(char *)(param_3[2] + 0x45) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x45) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x45) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x45);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x45);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int *)(param_1 + 4);
  if (*(int **)(local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x45) == '\0') {
      uVar4 = FUN_00462420();
      *(undefined4 *)(local_1c + 8) = uVar4;
    }
    else {
      *(int **)(local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[0x11] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0x11] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0x11] == '\0') {
            *(undefined1 *)(piVar6 + 0x11) = 1;
            *(undefined1 *)(piVar5 + 0x11) = 0;
            FUN_00415630(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x45) == '\0') {
            if ((*(char *)(*piVar6 + 0x44) != '\x01') || (*(char *)(piVar6[2] + 0x44) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x44) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x44) = 1;
                *(undefined1 *)(piVar6 + 0x11) = 0;
                FUN_00415690(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0x11) = (char)piVar5[0x11];
              *(undefined1 *)(piVar5 + 0x11) = 1;
              *(undefined1 *)(piVar6[2] + 0x44) = 1;
              FUN_00415630(param_1);
              break;
            }
LAB_00462207:
            *(undefined1 *)(piVar6 + 0x11) = 0;
          }
        }
        else {
          if ((char)piVar6[0x11] == '\0') {
            *(undefined1 *)(piVar6 + 0x11) = 1;
            *(undefined1 *)(piVar5 + 0x11) = 0;
            FUN_00415690(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x45) == '\0') {
            if ((*(char *)(piVar6[2] + 0x44) == '\x01') && (*(char *)(*piVar6 + 0x44) == '\x01'))
            goto LAB_00462207;
            if (*(char *)(*piVar6 + 0x44) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x44) = 1;
              *(undefined1 *)(piVar6 + 0x11) = 0;
              FUN_00415630(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0x11) = (char)piVar5[0x11];
            *(undefined1 *)(piVar5 + 0x11) = 1;
            *(undefined1 *)(*piVar6 + 0x44) = 1;
            FUN_00415690(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 0x11) = 1;
  }
  local_8 = 0xffffffff;
  FUN_0044cb00(local_18 + 3);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00461fc0 : PUSH EBP
00461fc1 : MOV EBP,ESP
00461fc3 : PUSH -0x1
00461fc5 : PUSH 0xb7ad85
00461fca : MOV EAX,FS:[0x0]
00461fd0 : PUSH EAX
00461fd1 : SUB ESP,0x50
00461fd4 : PUSH EBX
00461fd5 : PUSH ESI
00461fd6 : PUSH EDI
00461fd7 : MOV EAX,[0x00d66fa0]
00461fdc : XOR EAX,EBP
00461fde : PUSH EAX
00461fdf : LEA EAX,[EBP + -0xc]
00461fe2 : MOV FS:[0x0],EAX
00461fe8 : MOV EAX,dword ptr [EBP + 0x10]
00461feb : CMP byte ptr [EAX + 0x45],0x0
00461fef : JZ 0x0046202d
00461ff1 : PUSH 0x1b
00461ff3 : XOR ESI,ESI
00461ff5 : PUSH 0xcca4a8
00461ffa : LEA ECX,[EBP + -0x34]
00461ffd : MOV dword ptr [EBP + -0x1c],0xf
00462004 : MOV dword ptr [EBP + -0x20],ESI
00462007 : MOV byte ptr [EBP + -0x30],0x0
0046200b : CALL 0x00404b50
00462010 : MOV dword ptr [EBP + -0x4],ESI
00462013 : LEA EAX,[EBP + -0x34]
00462016 : PUSH EAX
00462017 : LEA ECX,[EBP + -0x5c]
0046201a : CALL 0x00403c10
0046201f : PUSH 0xced890
00462024 : LEA ECX,[EBP + -0x5c]
00462027 : PUSH ECX
00462028 : CALL 0x006409eb
0046202d : MOV EBX,EAX
0046202f : LEA EDX,[EBP + 0x10]
00462032 : MOV dword ptr [EBP + -0x14],EBX
00462035 : CALL 0x00416a70
0046203a : MOV ECX,dword ptr [EBX]
0046203c : CMP byte ptr [ECX + 0x45],0x0
00462040 : JZ 0x00462047
00462042 : MOV EDI,dword ptr [EBX + 0x8]
00462045 : JMP 0x00462061
00462047 : MOV EDX,dword ptr [EBX + 0x8]
0046204a : CMP byte ptr [EDX + 0x45],0x0
0046204e : JZ 0x00462054
00462050 : MOV EDI,ECX
00462052 : JMP 0x00462061
00462054 : MOV EAX,dword ptr [EBP + 0x10]
00462057 : MOV EDI,dword ptr [EAX + 0x8]
0046205a : LEA EDX,[EAX + 0x8]
0046205d : CMP EAX,EBX
0046205f : JNZ 0x004620e0
00462061 : CMP byte ptr [EDI + 0x45],0x0
00462065 : MOV ESI,dword ptr [EBX + 0x4]
00462068 : JNZ 0x0046206d
0046206a : MOV dword ptr [EDI + 0x4],ESI
0046206d : MOV EDX,dword ptr [EBP + 0x8]
00462070 : MOV EAX,dword ptr [EDX + 0x4]
00462073 : CMP dword ptr [EAX + 0x4],EBX
00462076 : JNZ 0x0046207d
00462078 : MOV dword ptr [EAX + 0x4],EDI
0046207b : JMP 0x00462088
0046207d : CMP dword ptr [ESI],EBX
0046207f : JNZ 0x00462085
00462081 : MOV dword ptr [ESI],EDI
00462083 : JMP 0x00462088
00462085 : MOV dword ptr [ESI + 0x8],EDI
00462088 : MOV EAX,dword ptr [EDX + 0x4]
0046208b : CMP dword ptr [EAX],EBX
0046208d : JNZ 0x004620b2
0046208f : CMP byte ptr [EDI + 0x45],0x0
00462093 : JZ 0x00462099
00462095 : MOV ECX,ESI
00462097 : JMP 0x004620ad
00462099 : MOV EAX,dword ptr [EDI]
0046209b : CMP byte ptr [EAX + 0x45],0x0
0046209f : MOV ECX,EDI
004620a1 : JNZ 0x004620ad
004620a3 : MOV ECX,EAX
004620a5 : MOV EAX,dword ptr [ECX]
004620a7 : CMP byte ptr [EAX + 0x45],0x0
004620ab : JZ 0x004620a3
004620ad : MOV EAX,dword ptr [EDX + 0x4]
004620b0 : MOV dword ptr [EAX],ECX
004620b2 : MOV ECX,dword ptr [EDX + 0x4]
004620b5 : MOV dword ptr [EBP + -0x18],ECX
004620b8 : CMP dword ptr [ECX + 0x8],EBX
004620bb : JNZ 0x00462142
004620c1 : CMP byte ptr [EDI + 0x45],0x0
004620c5 : JZ 0x004620ce
004620c7 : MOV EAX,ESI
004620c9 : MOV dword ptr [ECX + 0x8],EAX
004620cc : JMP 0x00462142
004620ce : MOV EAX,EDI
004620d0 : CALL 0x00462420
004620d5 : MOV ECX,dword ptr [EBP + -0x18]
004620d8 : MOV EDX,dword ptr [EBP + 0x8]
004620db : MOV dword ptr [ECX + 0x8],EAX
004620de : JMP 0x00462142
004620e0 : MOV dword ptr [ECX + 0x4],EAX
004620e3 : MOV ECX,dword ptr [EBX]
004620e5 : MOV dword ptr [EAX],ECX
004620e7 : CMP EAX,dword ptr [EBX + 0x8]
004620ea : JNZ 0x004620f0
004620ec : MOV ESI,EAX
004620ee : JMP 0x00462109
004620f0 : CMP byte ptr [EDI + 0x45],0x0
004620f4 : MOV ESI,dword ptr [EAX + 0x4]
004620f7 : JNZ 0x004620fc
004620f9 : MOV dword ptr [EDI + 0x4],ESI
004620fc : MOV dword ptr [ESI],EDI
004620fe : MOV ECX,dword ptr [EBX + 0x8]
00462101 : MOV dword ptr [EDX],ECX
00462103 : MOV EDX,dword ptr [EBX + 0x8]
00462106 : MOV dword ptr [EDX + 0x4],EAX
00462109 : MOV ECX,dword ptr [EBP + 0x8]
0046210c : MOV ECX,dword ptr [ECX + 0x4]
0046210f : CMP dword ptr [ECX + 0x4],EBX
00462112 : JNZ 0x00462119
00462114 : MOV dword ptr [ECX + 0x4],EAX
00462117 : JMP 0x00462127
00462119 : MOV ECX,dword ptr [EBX + 0x4]
0046211c : CMP dword ptr [ECX],EBX
0046211e : JNZ 0x00462124
00462120 : MOV dword ptr [ECX],EAX
00462122 : JMP 0x00462127
00462124 : MOV dword ptr [ECX + 0x8],EAX
00462127 : MOV EDX,dword ptr [EBX + 0x4]
0046212a : MOV dword ptr [EAX + 0x4],EDX
0046212d : LEA ECX,[EBX + 0x44]
00462130 : ADD EAX,0x44
00462133 : CMP EAX,ECX
00462135 : JZ 0x0046213f
00462137 : MOV BL,byte ptr [ECX]
00462139 : MOV DL,byte ptr [EAX]
0046213b : MOV byte ptr [EAX],BL
0046213d : MOV byte ptr [ECX],DL
0046213f : MOV EDX,dword ptr [EBP + 0x8]
00462142 : MOV EAX,dword ptr [EBP + -0x14]
00462145 : MOV BL,0x1
00462147 : CMP byte ptr [EAX + 0x44],BL
0046214a : JNZ 0x00462253
00462150 : MOV ECX,dword ptr [EDX + 0x4]
00462153 : CMP EDI,dword ptr [ECX + 0x4]
00462156 : JZ 0x00462250
0046215c : LEA ESP,[ESP]
00462160 : CMP byte ptr [EDI + 0x44],BL
00462163 : JNZ 0x00462250
00462169 : MOV ECX,dword ptr [ESI]
0046216b : CMP EDI,ECX
0046216d : JNZ 0x004621d8
0046216f : MOV ECX,dword ptr [ESI + 0x8]
00462172 : CMP byte ptr [ECX + 0x44],0x0
00462176 : JNZ 0x0046218d
00462178 : MOV byte ptr [ECX + 0x44],BL
0046217b : PUSH EDX
0046217c : MOV ECX,ESI
0046217e : MOV byte ptr [ESI + 0x44],0x0
00462182 : CALL 0x00415630
00462187 : MOV ECX,dword ptr [ESI + 0x8]
0046218a : MOV EDX,dword ptr [EBP + 0x8]
0046218d : CMP byte ptr [ECX + 0x45],0x0
00462191 : JNZ 0x0046220b
00462193 : MOV EAX,dword ptr [ECX]
00462195 : CMP byte ptr [EAX + 0x44],BL
00462198 : JNZ 0x004621a2
0046219a : MOV EAX,dword ptr [ECX + 0x8]
0046219d : CMP byte ptr [EAX + 0x44],BL
004621a0 : JZ 0x00462207
004621a2 : MOV EAX,dword ptr [ECX + 0x8]
004621a5 : CMP byte ptr [EAX + 0x44],BL
004621a8 : JNZ 0x004621bf
004621aa : MOV EAX,dword ptr [ECX]
004621ac : MOV byte ptr [EAX + 0x44],BL
004621af : PUSH EDX
004621b0 : MOV byte ptr [ECX + 0x44],0x0
004621b4 : CALL 0x00415690
004621b9 : MOV ECX,dword ptr [ESI + 0x8]
004621bc : MOV EDX,dword ptr [EBP + 0x8]
004621bf : MOV AL,byte ptr [ESI + 0x44]
004621c2 : MOV byte ptr [ECX + 0x44],AL
004621c5 : MOV byte ptr [ESI + 0x44],BL
004621c8 : MOV ECX,dword ptr [ECX + 0x8]
004621cb : MOV byte ptr [ECX + 0x44],BL
004621ce : PUSH EDX
004621cf : MOV ECX,ESI
004621d1 : CALL 0x00415630
004621d6 : JMP 0x00462250
004621d8 : CMP byte ptr [ECX + 0x44],0x0
004621dc : JNZ 0x004621f2
004621de : MOV byte ptr [ECX + 0x44],BL
004621e1 : PUSH EDX
004621e2 : MOV ECX,ESI
004621e4 : MOV byte ptr [ESI + 0x44],0x0
004621e8 : CALL 0x00415690
004621ed : MOV ECX,dword ptr [ESI]
004621ef : MOV EDX,dword ptr [EBP + 0x8]
004621f2 : CMP byte ptr [ECX + 0x45],0x0
004621f6 : JNZ 0x0046220b
004621f8 : MOV EAX,dword ptr [ECX + 0x8]
004621fb : CMP byte ptr [EAX + 0x44],BL
004621fe : JNZ 0x0046221e
00462200 : MOV EAX,dword ptr [ECX]
00462202 : CMP byte ptr [EAX + 0x44],BL
00462205 : JNZ 0x0046221e
00462207 : MOV byte ptr [ECX + 0x44],0x0
0046220b : MOV ECX,dword ptr [EDX + 0x4]
0046220e : MOV EDI,ESI
00462210 : MOV ESI,dword ptr [ESI + 0x4]
00462213 : CMP EDI,dword ptr [ECX + 0x4]
00462216 : JNZ 0x00462160
0046221c : JMP 0x00462250
0046221e : MOV EAX,dword ptr [ECX]
00462220 : CMP byte ptr [EAX + 0x44],BL
00462223 : JNZ 0x0046223a
00462225 : MOV EAX,dword ptr [ECX + 0x8]
00462228 : MOV byte ptr [EAX + 0x44],BL
0046222b : PUSH EDX
0046222c : MOV byte ptr [ECX + 0x44],0x0
00462230 : CALL 0x00415630
00462235 : MOV ECX,dword ptr [ESI]
00462237 : MOV EDX,dword ptr [EBP + 0x8]
0046223a : MOV AL,byte ptr [ESI + 0x44]
0046223d : MOV byte ptr [ECX + 0x44],AL
00462240 : MOV byte ptr [ESI + 0x44],BL
00462243 : MOV ECX,dword ptr [ECX]
00462245 : MOV byte ptr [ECX + 0x44],BL
00462248 : PUSH EDX
00462249 : MOV ECX,ESI
0046224b : CALL 0x00415690
00462250 : MOV byte ptr [EDI + 0x44],BL
00462253 : MOV dword ptr [EBP + -0x4],0xffffffff
0046225a : MOV EDX,dword ptr [EBP + -0x14]
0046225d : ADD EDX,0xc
00462260 : PUSH EDX
00462261 : CALL 0x0044cb00
00462266 : MOV ECX,dword ptr [EBP + -0x14]
00462269 : CALL 0x006f04e0
