PROGRAM  : Maestia.exe
FUNCTION : FUN_00a38280
ENTRY    : 00a38280
BODY     : [[00a38280, 00a38321]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00a38280(void)

{
  undefined4 uVar1;
  undefined4 *in_EAX;
  int iVar2;
  DWORD DVar3;
  int unaff_ESI;
  
  if (*(int *)(unaff_ESI + 0x46c) != in_EAX[1]) {
    *(undefined4 *)(unaff_ESI + 0x468) = *in_EAX;
    uVar1 = in_EAX[1];
    *(undefined4 *)(unaff_ESI + 0x46c) = uVar1;
    iVar2 = FUN_00a1a840(uVar1);
    if (((iVar2 == 0) && (iVar2 = FUN_00a1a6d0(uVar1), iVar2 == 0)) &&
       (iVar2 = FUN_00a1a780(uVar1), iVar2 == 0)) {
      return 0;
    }
    DVar3 = timeGetTime();
    if (DVar3 - *(int *)(unaff_ESI + 0x310) < 0xb) {
      return 0;
    }
    if (*(char *)(iVar2 + 0x3ad) != '\0') {
      FUN_00a364b0(*(undefined4 *)(unaff_ESI + 0x46c),0);
      FUN_00a0d390(DAT_017247d4,5);
    }
    *(DWORD *)(unaff_ESI + 0x310) = DVar3;
  }
  return 1;
}



============================================================
DISASSEMBLY
============================================================
00a38280 : PUSH ECX
00a38281 : MOV ECX,dword ptr [ESI + 0x46c]
00a38287 : PUSH EBX
00a38288 : PUSH EDI
00a38289 : CMP ECX,dword ptr [EAX + 0x4]
00a3828c : JZ 0x00a38316
00a38292 : MOV EDX,dword ptr [EAX]
00a38294 : MOV dword ptr [ESI + 0x468],EDX
00a3829a : MOV EAX,dword ptr [EAX + 0x4]
00a3829d : MOV EBX,EAX
00a3829f : PUSH EBX
00a382a0 : MOV ECX,ESI
00a382a2 : MOV dword ptr [ESI + 0x46c],EAX
00a382a8 : CALL 0x00a1a840
00a382ad : MOV EDI,EAX
00a382af : TEST EDI,EDI
00a382b1 : JNZ 0x00a382cf
00a382b3 : PUSH EBX
00a382b4 : MOV ECX,ESI
00a382b6 : CALL 0x00a1a6d0
00a382bb : MOV EDI,EAX
00a382bd : TEST EDI,EDI
00a382bf : JNZ 0x00a382cf
00a382c1 : PUSH EBX
00a382c2 : MOV ECX,ESI
00a382c4 : CALL 0x00a1a780
00a382c9 : MOV EDI,EAX
00a382cb : TEST EDI,EDI
00a382cd : JZ 0x00a3831c
00a382cf : CALL dword ptr [0x00b85598]
00a382d5 : MOV EBX,EAX
00a382d7 : MOV ECX,EBX
00a382d9 : SUB ECX,dword ptr [ESI + 0x310]
00a382df : CMP ECX,0xa
00a382e2 : JBE 0x00a3831c
00a382e4 : CMP byte ptr [EDI + 0x3ad],0x0
00a382eb : JZ 0x00a38310
00a382ed : MOV EDX,dword ptr [ESI + 0x46c]
00a382f3 : PUSH 0x0
00a382f5 : PUSH EDX
00a382f6 : MOV ECX,ESI
00a382f8 : CALL 0x00a364b0
00a382fd : MOV EAX,[0x017247d4]
00a38302 : MOV ECX,dword ptr [ESI + 0x46c]
00a38308 : PUSH 0x5
00a3830a : PUSH EAX
00a3830b : CALL 0x00a0d390
00a38310 : MOV dword ptr [ESI + 0x310],EBX
00a38316 : MOV AL,0x1
00a38318 : POP EDI
00a38319 : POP EBX
00a3831a : POP ECX
00a3831b : RET
00a3831c : POP EDI
00a3831d : XOR AL,AL
00a3831f : POP EBX
00a38320 : POP ECX
00a38321 : RET
