PROGRAM  : Maestia.exe
FUNCTION : FUN_00525970
ENTRY    : 00525970
BODY     : [[00525970, 005259ea]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00525970(char *param_1)

{
  int *piVar1;
  char cVar2;
  int iVar3;
  char *pcVar4;
  int iVar5;
  int *in_ECX;
  
  pcVar4 = param_1;
  do {
    cVar2 = *pcVar4;
    pcVar4 = pcVar4 + 1;
  } while (cVar2 != '\0');
  iVar5 = FUN_005255d0(*(undefined4 *)*in_ECX,((undefined4 *)*in_ECX)[4],param_1,
                       (int)pcVar4 - (int)(param_1 + 1));
  *(int *)(iVar5 + 8) = *(int *)(iVar5 + 8) + 1;
  iVar3 = *in_ECX;
  piVar1 = (int *)(iVar3 + 8);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    if ((*(int *)(iVar3 + 4) != iVar3) && (*(int *)(iVar3 + 4) != 0)) {
      FUN_004ffc70();
    }
    param_1 = (char *)iVar3;
    FUN_00525140(&param_1);
    FUN_00524ed0(iVar3);
  }
  *in_ECX = iVar5;
  return;
}



============================================================
DISASSEMBLY
============================================================
00525970 : PUSH EBX
00525971 : PUSH ESI
00525972 : MOV ESI,dword ptr [ESP + 0xc]
00525976 : MOV EAX,ESI
00525978 : PUSH EDI
00525979 : MOV EBX,ECX
0052597b : LEA EDX,[EAX + 0x1]
0052597e : MOV EDI,EDI
00525980 : MOV CL,byte ptr [EAX]
00525982 : INC EAX
00525983 : TEST CL,CL
00525985 : JNZ 0x00525980
00525987 : SUB EAX,EDX
00525989 : MOV EDX,dword ptr [EBX]
0052598b : PUSH EAX
0052598c : MOV EAX,dword ptr [EDX + 0x10]
0052598f : MOV ECX,EDX
00525991 : MOV EDX,dword ptr [EDX]
00525993 : PUSH ESI
00525994 : AND ECX,0xfffffc00
0052599a : MOV ECX,dword ptr [ECX]
0052599c : PUSH EAX
0052599d : PUSH EDX
0052599e : CALL 0x005255d0
005259a3 : MOV EDI,EAX
005259a5 : INC dword ptr [EDI + 0x8]
005259a8 : MOV ESI,dword ptr [EBX]
005259aa : ADD dword ptr [ESI + 0x8],-0x1
005259ae : JNZ 0x005259e3
005259b0 : MOV ECX,dword ptr [ESI + 0x4]
005259b3 : CMP ECX,ESI
005259b5 : JZ 0x005259c0
005259b7 : TEST ECX,ECX
005259b9 : JZ 0x005259c0
005259bb : CALL 0x004ffc70
005259c0 : MOV EAX,ESI
005259c2 : PUSH EBP
005259c3 : AND EAX,0xfffffc00
005259c8 : MOV EBP,dword ptr [EAX]
005259ca : LEA ECX,[ESP + 0x14]
005259ce : PUSH ECX
005259cf : MOV ECX,EBP
005259d1 : MOV dword ptr [ESP + 0x18],ESI
005259d5 : CALL 0x00525140
005259da : PUSH ESI
005259db : MOV ECX,EBP
005259dd : CALL 0x00524ed0
005259e2 : POP EBP
005259e3 : MOV dword ptr [EBX],EDI
005259e5 : POP EDI
005259e6 : POP ESI
005259e7 : POP EBX
005259e8 : RET 0x4
