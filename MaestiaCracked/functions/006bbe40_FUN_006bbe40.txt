PROGRAM  : Maestia.exe
FUNCTION : FUN_006bbe40
ENTRY    : 006bbe40
BODY     : [[006bbe40, 006bbf64]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006bbe40(int param_1)

{
  int iVar1;
  uint in_EAX;
  int iVar2;
  uint in_ECX;
  int iVar3;
  int iVar4;
  int iVar5;
  int unaff_EBX;
  int iVar6;
  int *piVar7;
  
  iVar1 = *(int *)(unaff_EBX + 0x1c);
  iVar4 = *(int *)(param_1 + 0x1c);
  iVar6 = *(int *)(unaff_EBX + 0x18) - iVar1;
  iVar3 = *(int *)(param_1 + 0x18) - iVar4;
  if (in_EAX <= in_ECX) {
    if (iVar1 == iVar4) {
      piVar7 = (int *)(in_EAX + 0x18);
      iVar4 = (in_ECX - in_EAX) / 0x28 + 1;
      do {
        iVar5 = iVar3;
        if (piVar7[1] <= iVar1) {
          iVar5 = iVar6;
        }
        *piVar7 = piVar7[1] + iVar5;
        piVar7 = piVar7 + 10;
        iVar4 = iVar4 + -1;
      } while (iVar4 != 0);
      return;
    }
    piVar7 = (int *)(in_EAX + 0x18);
    if (iVar1 < iVar4) {
      iVar5 = (in_ECX - in_EAX) / 0x28 + 1;
      do {
        iVar2 = piVar7[1];
        if (iVar1 < iVar2) {
          if (iVar2 < iVar4) {
            iVar2 = FUN_00685d60(iVar2 - iVar1,*(int *)(param_1 + 0x18) - *(int *)(unaff_EBX + 0x18)
                                 ,iVar4 - iVar1);
            iVar2 = iVar2 + *(int *)(unaff_EBX + 0x18);
          }
          else {
            iVar2 = iVar2 + iVar3;
          }
        }
        else {
          iVar2 = iVar2 + iVar6;
        }
        *piVar7 = iVar2;
        piVar7 = piVar7 + 10;
        iVar5 = iVar5 + -1;
      } while (iVar5 != 0);
      return;
    }
    iVar5 = (in_ECX - in_EAX) / 0x28 + 1;
    do {
      iVar2 = piVar7[1];
      if (iVar4 < iVar2) {
        if (iVar2 < iVar1) {
          iVar2 = FUN_00685d60(iVar2 - iVar1,*(int *)(param_1 + 0x18) - *(int *)(unaff_EBX + 0x18),
                               iVar4 - iVar1);
          iVar2 = iVar2 + *(int *)(unaff_EBX + 0x18);
        }
        else {
          iVar2 = iVar2 + iVar6;
        }
      }
      else {
        iVar2 = iVar2 + iVar3;
      }
      *piVar7 = iVar2;
      piVar7 = piVar7 + 10;
      iVar5 = iVar5 + -1;
    } while (iVar5 != 0);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006bbe40 : SUB ESP,0xc
006bbe43 : MOV EDX,dword ptr [ESP + 0x10]
006bbe47 : PUSH EBP
006bbe48 : MOV EBP,dword ptr [EBX + 0x18]
006bbe4b : PUSH ESI
006bbe4c : MOV ESI,dword ptr [EBX + 0x1c]
006bbe4f : PUSH EDI
006bbe50 : MOV EDI,dword ptr [EDX + 0x1c]
006bbe53 : MOV EDX,dword ptr [EDX + 0x18]
006bbe56 : SUB EBP,ESI
006bbe58 : SUB EDX,EDI
006bbe5a : MOV dword ptr [ESP + 0x14],EBP
006bbe5e : MOV dword ptr [ESP + 0xc],EDX
006bbe62 : CMP EAX,ECX
006bbe64 : JA 0x006bbf5e
006bbe6a : CMP ESI,EDI
006bbe6c : JNZ 0x006bbea0
006bbe6e : SUB ECX,EAX
006bbe70 : LEA EDI,[EAX + 0x18]
006bbe73 : MOV EAX,0xcccccccd
006bbe78 : MUL ECX
006bbe7a : SHR EDX,0x5
006bbe7d : INC EDX
006bbe7e : MOV EDI,EDI
006bbe80 : MOV EAX,dword ptr [EDI + 0x4]
006bbe83 : CMP EAX,ESI
006bbe85 : JG 0x006bbe8b
006bbe87 : ADD EAX,EBP
006bbe89 : JMP 0x006bbe8f
006bbe8b : ADD EAX,dword ptr [ESP + 0xc]
006bbe8f : MOV dword ptr [EDI],EAX
006bbe91 : ADD EDI,0x28
006bbe94 : SUB EDX,0x1
006bbe97 : JNZ 0x006bbe80
006bbe99 : POP EDI
006bbe9a : POP ESI
006bbe9b : POP EBP
006bbe9c : ADD ESP,0xc
006bbe9f : RET
006bbea0 : LEA EBP,[EAX + 0x18]
006bbea3 : JGE 0x006bbf05
006bbea5 : SUB ECX,EAX
006bbea7 : MOV EAX,0xcccccccd
006bbeac : MUL ECX
006bbeae : SHR EDX,0x5
006bbeb1 : INC EDX
006bbeb2 : MOV dword ptr [ESP + 0x10],EDX
006bbeb6 : MOV EAX,dword ptr [EBP + 0x4]
006bbeb9 : CMP EAX,ESI
006bbebb : JG 0x006bbec3
006bbebd : ADD EAX,dword ptr [ESP + 0x14]
006bbec1 : JMP 0x006bbeef
006bbec3 : CMP EAX,EDI
006bbec5 : JL 0x006bbecd
006bbec7 : ADD EAX,dword ptr [ESP + 0xc]
006bbecb : JMP 0x006bbeef
006bbecd : MOV EDX,dword ptr [ESP + 0x1c]
006bbed1 : MOV ECX,EDI
006bbed3 : SUB ECX,ESI
006bbed5 : PUSH ECX
006bbed6 : MOV ECX,dword ptr [EDX + 0x18]
006bbed9 : SUB ECX,dword ptr [EBX + 0x18]
006bbedc : SUB EAX,ESI
006bbede : PUSH ECX
006bbedf : PUSH EAX
006bbee0 : CALL 0x00685d60
006bbee5 : MOV EDX,dword ptr [ESP + 0x1c]
006bbee9 : ADD ESP,0xc
006bbeec : ADD EAX,dword ptr [EBX + 0x18]
006bbeef : MOV dword ptr [EBP],EAX
006bbef2 : ADD EBP,0x28
006bbef5 : SUB EDX,0x1
006bbef8 : MOV dword ptr [ESP + 0x10],EDX
006bbefc : JNZ 0x006bbeb6
006bbefe : POP EDI
006bbeff : POP ESI
006bbf00 : POP EBP
006bbf01 : ADD ESP,0xc
006bbf04 : RET
006bbf05 : SUB ECX,EAX
006bbf07 : MOV EAX,0xcccccccd
006bbf0c : MUL ECX
006bbf0e : SHR EDX,0x5
006bbf11 : INC EDX
006bbf12 : MOV dword ptr [ESP + 0x10],EDX
006bbf16 : MOV EAX,dword ptr [EBP + 0x4]
006bbf19 : CMP EAX,EDI
006bbf1b : JG 0x006bbf23
006bbf1d : ADD EAX,dword ptr [ESP + 0xc]
006bbf21 : JMP 0x006bbf4f
006bbf23 : CMP EAX,ESI
006bbf25 : JL 0x006bbf2d
006bbf27 : ADD EAX,dword ptr [ESP + 0x14]
006bbf2b : JMP 0x006bbf4f
006bbf2d : MOV ECX,dword ptr [ESP + 0x1c]
006bbf31 : MOV EDX,EDI
006bbf33 : SUB EDX,ESI
006bbf35 : PUSH EDX
006bbf36 : MOV EDX,dword ptr [ECX + 0x18]
006bbf39 : SUB EDX,dword ptr [EBX + 0x18]
006bbf3c : SUB EAX,ESI
006bbf3e : PUSH EDX
006bbf3f : PUSH EAX
006bbf40 : CALL 0x00685d60
006bbf45 : MOV EDX,dword ptr [ESP + 0x1c]
006bbf49 : ADD ESP,0xc
006bbf4c : ADD EAX,dword ptr [EBX + 0x18]
006bbf4f : MOV dword ptr [EBP],EAX
006bbf52 : ADD EBP,0x28
006bbf55 : SUB EDX,0x1
006bbf58 : MOV dword ptr [ESP + 0x10],EDX
006bbf5c : JNZ 0x006bbf16
006bbf5e : POP EDI
006bbf5f : POP ESI
006bbf60 : POP EBP
006bbf61 : ADD ESP,0xc
006bbf64 : RET
