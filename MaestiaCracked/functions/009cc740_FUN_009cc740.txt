PROGRAM  : Maestia.exe
FUNCTION : FUN_009cc740
ENTRY    : 009cc740
BODY     : [[009cc740, 009cc76e] [009cc770, 009cc8d8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009cc740(int param_1,char param_2)

{
  byte bVar1;
  byte bVar2;
  int *piVar3;
  uint uVar4;
  undefined1 local_1c [8];
  int local_14;
  undefined2 local_10;
  undefined2 local_e;
  int local_c;
  int local_8;
  
  if (DAT_01724818 == 0) {
    return;
  }
  local_14 = -(uint)(*(int *)(DAT_01724818 + 0x28) != 0);
  piVar3 = DAT_017210ac;
joined_r0x009cc761:
  while( true ) {
    do {
      if (local_14 == 0) {
        return;
      }
      if (DAT_01724818 == 0) {
        return;
      }
      local_c = 0;
      FUN_00404160(&local_14,&local_8,&local_c);
      local_8 = local_c;
      if (local_c == 0) {
        return;
      }
    } while ((*(char *)(local_c + 0x43) == '\0') || (*(short *)(local_c + 6) == 0xff));
    bVar1 = *(byte *)(local_c + 0x42);
    bVar2 = *(byte *)(local_c + 0x41);
    if (bVar2 == bVar1) break;
    if (param_2 == '\0') goto LAB_009cc7eb;
    if (((int)(uint)bVar2 <= param_1) && (param_1 <= (int)(uint)bVar1)) break;
  }
  goto LAB_009cc7ff;
LAB_009cc7eb:
  if ((param_1 < (int)(uint)bVar2) || ((int)(uint)bVar1 < param_1)) {
LAB_009cc7ff:
    if (*(char *)(local_c + 0x43) == '\x03') {
      if (DAT_017210b8 == 0) {
        uVar4 = 0;
      }
      else {
        uVar4 = DAT_017210c0 - DAT_017210b8 >> 2;
      }
      if ((uint)((int)DAT_017210bc - DAT_017210b8 >> 2) < uVar4) {
        *DAT_017210bc = local_c;
        DAT_017210bc = DAT_017210bc + 1;
      }
      else {
        FUN_0042fe80(&DAT_017210b4,DAT_017210bc,&local_8);
      }
      piVar3 = DAT_017210ac;
      if ((local_8 != 0) && (*(int *)(local_8 + 0x58) != 0)) {
        local_e = *(undefined2 *)(local_8 + 6);
        local_10 = *(undefined2 *)(*(int *)(local_8 + 0x58) + 6);
        FUN_0041bfb0(local_1c,&local_10);
        piVar3 = DAT_017210ac;
      }
    }
    else {
      if (DAT_017210a8 == 0) {
        uVar4 = 0;
      }
      else {
        uVar4 = DAT_017210b0 - DAT_017210a8 >> 2;
      }
      if ((uint)((int)piVar3 - DAT_017210a8 >> 2) < uVar4) {
        *piVar3 = local_c;
        DAT_017210ac = piVar3 + 1;
        piVar3 = DAT_017210ac;
      }
      else {
        FUN_0042fe80(&DAT_017210a4,piVar3,&local_8);
        piVar3 = DAT_017210ac;
      }
    }
  }
  goto joined_r0x009cc761;
}



============================================================
DISASSEMBLY
============================================================
009cc740 : PUSH EBP
009cc741 : MOV EBP,ESP
009cc743 : MOV ECX,dword ptr [0x01724818]
009cc749 : SUB ESP,0x1c
009cc74c : PUSH EBX
009cc74d : PUSH ESI
009cc74e : PUSH EDI
009cc74f : TEST ECX,ECX
009cc751 : JZ 0x009cc8d2
009cc757 : MOV EAX,dword ptr [ECX + 0x28]
009cc75a : NEG EAX
009cc75c : SBB EAX,EAX
009cc75e : MOV dword ptr [EBP + -0x10],EAX
009cc761 : JZ 0x009cc8d2
009cc767 : MOV ESI,dword ptr [0x017210ac]
009cc76d : JMP 0x009cc776
009cc770 : MOV ECX,dword ptr [0x01724818]
009cc776 : TEST ECX,ECX
009cc778 : JZ 0x009cc8d2
009cc77e : LEA EAX,[EBP + -0x8]
009cc781 : PUSH EAX
009cc782 : LEA EDX,[EBP + -0x4]
009cc785 : PUSH EDX
009cc786 : LEA EAX,[EBP + -0x10]
009cc789 : PUSH EAX
009cc78a : MOV EAX,ECX
009cc78c : MOV dword ptr [EBP + -0x8],0x0
009cc793 : CALL 0x00404160
009cc798 : MOV ECX,dword ptr [EBP + -0x8]
009cc79b : MOV EDI,ECX
009cc79d : MOV dword ptr [EBP + -0x4],EDI
009cc7a0 : TEST ECX,ECX
009cc7a2 : JZ 0x009cc8d2
009cc7a8 : CMP byte ptr [ECX + 0x43],0x0
009cc7ac : JZ 0x009cc8c8
009cc7b2 : MOV EDX,0xff
009cc7b7 : CMP word ptr [ECX + 0x6],DX
009cc7bb : JZ 0x009cc8c8
009cc7c1 : MOV DL,byte ptr [ECX + 0x42]
009cc7c4 : MOV AL,byte ptr [ECX + 0x41]
009cc7c7 : CMP AL,DL
009cc7c9 : JZ 0x009cc7ff
009cc7cb : CMP byte ptr [EBP + 0xc],0x0
009cc7cf : JZ 0x009cc7eb
009cc7d1 : MOVZX EBX,AL
009cc7d4 : MOV EAX,dword ptr [EBP + 0x8]
009cc7d7 : CMP EAX,EBX
009cc7d9 : JL 0x009cc8c8
009cc7df : MOVZX EDX,DL
009cc7e2 : CMP EAX,EDX
009cc7e4 : JLE 0x009cc7ff
009cc7e6 : JMP 0x009cc8c8
009cc7eb : MOVZX EAX,AL
009cc7ee : CMP dword ptr [EBP + 0x8],EAX
009cc7f1 : JL 0x009cc7ff
009cc7f3 : MOVZX EDX,DL
009cc7f6 : CMP dword ptr [EBP + 0x8],EDX
009cc7f9 : JLE 0x009cc8c8
009cc7ff : CMP byte ptr [ECX + 0x43],0x3
009cc803 : JNZ 0x009cc881
009cc809 : MOV EDX,dword ptr [0x017210b8]
009cc80f : TEST EDX,EDX
009cc811 : JNZ 0x009cc817
009cc813 : XOR EAX,EAX
009cc815 : JMP 0x009cc821
009cc817 : MOV EAX,[0x017210c0]
009cc81c : SUB EAX,EDX
009cc81e : SAR EAX,0x2
009cc821 : MOV ESI,dword ptr [0x017210bc]
009cc827 : MOV EBX,ESI
009cc829 : SUB EBX,EDX
009cc82b : SAR EBX,0x2
009cc82e : CMP EBX,EAX
009cc830 : JNC 0x009cc840
009cc832 : MOV EAX,ESI
009cc834 : ADD EAX,0x4
009cc837 : MOV dword ptr [ESI],ECX
009cc839 : MOV [0x017210bc],EAX
009cc83e : JMP 0x009cc852
009cc840 : LEA EAX,[EBP + -0x4]
009cc843 : PUSH EAX
009cc844 : PUSH ESI
009cc845 : PUSH 0x17210b4
009cc84a : CALL 0x0042fe80
009cc84f : MOV EDI,dword ptr [EBP + -0x4]
009cc852 : TEST EDI,EDI
009cc854 : JZ 0x009cc8c2
009cc856 : MOV EAX,dword ptr [EDI + 0x58]
009cc859 : TEST EAX,EAX
009cc85b : JZ 0x009cc8c2
009cc85d : MOV CX,word ptr [EDI + 0x6]
009cc861 : MOV AX,word ptr [EAX + 0x6]
009cc865 : MOV word ptr [EBP + -0xa],CX
009cc869 : LEA ECX,[EBP + -0xc]
009cc86c : PUSH ECX
009cc86d : LEA EDX,[EBP + -0x18]
009cc870 : MOV word ptr [EBP + -0xc],AX
009cc874 : PUSH EDX
009cc875 : MOV EAX,0x17210c4
009cc87a : CALL 0x0041bfb0
009cc87f : JMP 0x009cc8c2
009cc881 : MOV EDX,dword ptr [0x017210a8]
009cc887 : TEST EDX,EDX
009cc889 : JNZ 0x009cc88f
009cc88b : XOR EAX,EAX
009cc88d : JMP 0x009cc899
009cc88f : MOV EAX,[0x017210b0]
009cc894 : SUB EAX,EDX
009cc896 : SAR EAX,0x2
009cc899 : MOV EDI,ESI
009cc89b : SUB EDI,EDX
009cc89d : SAR EDI,0x2
009cc8a0 : CMP EDI,EAX
009cc8a2 : JNC 0x009cc8b3
009cc8a4 : MOV EAX,ESI
009cc8a6 : MOV dword ptr [ESI],ECX
009cc8a8 : LEA ESI,[EAX + 0x4]
009cc8ab : MOV dword ptr [0x017210ac],ESI
009cc8b1 : JMP 0x009cc8c8
009cc8b3 : LEA EAX,[EBP + -0x4]
009cc8b6 : PUSH EAX
009cc8b7 : PUSH ESI
009cc8b8 : PUSH 0x17210a4
009cc8bd : CALL 0x0042fe80
009cc8c2 : MOV ESI,dword ptr [0x017210ac]
009cc8c8 : CMP dword ptr [EBP + -0x10],0x0
009cc8cc : JNZ 0x009cc770
009cc8d2 : POP EDI
009cc8d3 : POP ESI
009cc8d4 : POP EBX
009cc8d5 : MOV ESP,EBP
009cc8d7 : POP EBP
009cc8d8 : RET
