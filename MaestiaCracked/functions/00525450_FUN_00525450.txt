PROGRAM  : Maestia.exe
FUNCTION : FUN_00525450
ENTRY    : 00525450
BODY     : [[00525450, 00525520]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_00525450(undefined4 param_1,int *param_2)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int *in_ECX;
  undefined4 local_c;
  uint local_8;
  int local_4;
  
  iVar2 = (int)param_2;
  local_c = param_1;
  uVar3 = FUN_0051b370(param_1,param_2,0x1505);
  uVar3 = uVar3 & 0xffffff;
  local_4 = iVar2;
  local_8 = uVar3;
  if ((*in_ECX != 0) && (iVar4 = FUN_005250b0(&local_c,*(uint *)(*in_ECX + 4) & uVar3), -1 < iVar4))
  {
    return *(int **)(*in_ECX + 0xc + iVar4 * 8);
  }
  if (in_ECX[2] == 0) {
    FUN_00524d60();
  }
  piVar1 = (int *)in_ECX[2];
  if (piVar1 != (int *)0x0) {
    in_ECX[2] = piVar1[1];
    param_2 = piVar1;
    iVar4 = FUN_00524e70(param_1,iVar2);
    *piVar1 = iVar4;
    if (*piVar1 != 0) {
      piVar1[2] = 0;
      piVar1[4] = iVar2;
      piVar1[3] = uVar3;
      piVar1[1] = 0;
      FUN_00524fb0(in_ECX,&param_2,piVar1[3]);
      return piVar1;
    }
    FUN_00524ed0(piVar1);
  }
  return (int *)in_ECX[6];
}



============================================================
DISASSEMBLY
============================================================
00525450 : SUB ESP,0xc
00525453 : MOV EAX,dword ptr [ESP + 0x10]
00525457 : PUSH EBX
00525458 : PUSH EBP
00525459 : MOV EBP,dword ptr [ESP + 0x1c]
0052545d : PUSH EDI
0052545e : PUSH 0x1505
00525463 : PUSH EBP
00525464 : PUSH EAX
00525465 : MOV EDI,ECX
00525467 : MOV dword ptr [ESP + 0x18],EAX
0052546b : CALL 0x0051b370
00525470 : MOV EBX,EAX
00525472 : MOV EAX,dword ptr [EDI]
00525474 : AND EBX,0xffffff
0052547a : MOV dword ptr [ESP + 0x10],EBX
0052547e : MOV dword ptr [ESP + 0x14],EBP
00525482 : TEST EAX,EAX
00525484 : JZ 0x005254ab
00525486 : MOV EAX,dword ptr [EAX + 0x4]
00525489 : AND EAX,EBX
0052548b : PUSH EAX
0052548c : LEA EAX,[ESP + 0x10]
00525490 : PUSH EAX
00525491 : MOV ECX,EDI
00525493 : CALL 0x005250b0
00525498 : TEST EAX,EAX
0052549a : JL 0x005254ab
0052549c : MOV ECX,dword ptr [EDI]
0052549e : MOV EAX,dword ptr [ECX + EAX*0x8 + 0xc]
005254a2 : POP EDI
005254a3 : POP EBP
005254a4 : POP EBX
005254a5 : ADD ESP,0xc
005254a8 : RET 0x8
005254ab : CMP dword ptr [EDI + 0x8],0x0
005254af : JNZ 0x005254b8
005254b1 : MOV ECX,EDI
005254b3 : CALL 0x00524d60
005254b8 : PUSH ESI
005254b9 : MOV ESI,dword ptr [EDI + 0x8]
005254bc : TEST ESI,ESI
005254be : JZ 0x005254c6
005254c0 : MOV EDX,dword ptr [ESI + 0x4]
005254c3 : MOV dword ptr [EDI + 0x8],EDX
005254c6 : MOV dword ptr [ESP + 0x24],ESI
005254ca : TEST ESI,ESI
005254cc : JZ 0x00525514
005254ce : MOV EAX,dword ptr [ESP + 0x20]
005254d2 : PUSH EBP
005254d3 : PUSH EAX
005254d4 : MOV ECX,EDI
005254d6 : CALL 0x00524e70
005254db : MOV dword ptr [ESI],EAX
005254dd : XOR EAX,EAX
005254df : CMP dword ptr [ESI],EAX
005254e1 : JZ 0x0052550c
005254e3 : MOV dword ptr [ESI + 0x8],EAX
005254e6 : MOV dword ptr [ESI + 0x10],EBP
005254e9 : MOV dword ptr [ESI + 0xc],EBX
005254ec : MOV dword ptr [ESI + 0x4],EAX
005254ef : MOV ECX,dword ptr [ESI + 0xc]
005254f2 : PUSH ECX
005254f3 : LEA EDX,[ESP + 0x28]
005254f7 : PUSH EDX
005254f8 : PUSH EDI
005254f9 : MOV ECX,EDI
005254fb : CALL 0x00524fb0
00525500 : MOV EAX,ESI
00525502 : POP ESI
00525503 : POP EDI
00525504 : POP EBP
00525505 : POP EBX
00525506 : ADD ESP,0xc
00525509 : RET 0x8
0052550c : PUSH ESI
0052550d : MOV ECX,EDI
0052550f : CALL 0x00524ed0
00525514 : MOV EAX,dword ptr [EDI + 0x18]
00525517 : POP ESI
00525518 : POP EDI
00525519 : POP EBP
0052551a : POP EBX
0052551b : ADD ESP,0xc
0052551e : RET 0x8
