PROGRAM  : Maestia.exe
FUNCTION : FUN_008c9710
ENTRY    : 008c9710
BODY     : [[008c9710, 008c9880]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008c9710(int *param_1,char param_2)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int local_10;
  undefined4 local_c;
  char local_5;
  
  local_5 = '\0';
  iVar4 = 0;
  do {
    if (iVar4 != 0xc) {
      if (*(int *)(*DAT_00da9894 + 0x130) == 0) {
        piVar3 = (int *)0x0;
      }
      else {
        piVar3 = *(int **)(*(int *)(*DAT_00da9894 + 0x130) + 0x3c);
      }
      iVar2 = (**(code **)(*piVar3 + 0x74))(iVar4,0);
      iVar1 = DAT_00d7c54c;
      if (iVar2 == 0) {
        if ((*DAT_00da9894 != 0) &&
           (piVar3 = *(int **)(*DAT_00da9894 + 0x114), piVar3 != (int *)0x0)) {
          (**(code **)(*piVar3 + 4))(piVar3,"SetDurabilityVisible","%d,%b",iVar4,0);
        }
      }
      else {
        if (iVar4 == 0) {
          local_c = *(undefined4 *)(iVar2 + 0x10);
          FUN_004437f0(&local_c);
          if (((local_10 != *(int *)(iVar1 + 0x44)) && (*(int *)(local_10 + 0x10) != 0)) &&
             ((*(uint *)(*(int *)(local_10 + 0x10) + 0x4c) & 0x100000) != 0)) goto LAB_008c9844;
        }
        iVar1 = *(int *)(iVar2 + 0xb0) / 1000;
        if ((local_5 == '\0') && (iVar1 < 0x33)) {
          local_5 = '\x01';
        }
        if ((*DAT_00da9894 != 0) &&
           (piVar3 = *(int **)(*DAT_00da9894 + 0x114), piVar3 != (int *)0x0)) {
          (**(code **)(*piVar3 + 4))(piVar3,"SetDurabilityVisible","%d,%b",iVar4,iVar1 < 0x33);
        }
        if ((*(char *)(iVar2 + 0xb4) != '\0') || (param_2 != '\0')) {
          FUN_008c9580(param_1,iVar4);
          *(undefined1 *)(iVar2 + 0xb4) = 0;
        }
      }
    }
LAB_008c9844:
    iVar4 = iVar4 + 1;
    if (0xd < iVar4) {
      if (local_5 == '\0') {
        (**(code **)(*param_1 + 0x20))();
        return;
      }
      if (*(char *)((int)param_1 + 0x32) == '\0') {
        (**(code **)(*param_1 + 0x18))(0,300);
      }
      return;
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
008c9710 : PUSH EBP
008c9711 : MOV EBP,ESP
008c9713 : SUB ESP,0xc
008c9716 : PUSH EBX
008c9717 : PUSH ESI
008c9718 : PUSH EDI
008c9719 : MOV byte ptr [EBP + -0x1],0x0
008c971d : XOR EBX,EBX
008c971f : NOP
008c9720 : CMP EBX,0xc
008c9723 : JZ 0x008c9844
008c9729 : MOV EAX,[0x00da9894]
008c972e : MOV EAX,dword ptr [EAX]
008c9730 : MOV EAX,dword ptr [EAX + 0x130]
008c9736 : TEST EAX,EAX
008c9738 : JNZ 0x008c973e
008c973a : XOR ECX,ECX
008c973c : JMP 0x008c9741
008c973e : MOV ECX,dword ptr [EAX + 0x3c]
008c9741 : MOV EDX,dword ptr [ECX]
008c9743 : MOV EAX,dword ptr [EDX + 0x74]
008c9746 : PUSH 0x0
008c9748 : PUSH EBX
008c9749 : CALL EAX
008c974b : MOV EDI,EAX
008c974d : TEST EDI,EDI
008c974f : JNZ 0x008c978b
008c9751 : MOV ECX,dword ptr [0x00da9894]
008c9757 : MOV EAX,dword ptr [ECX]
008c9759 : TEST EAX,EAX
008c975b : JZ 0x008c9844
008c9761 : MOV EAX,dword ptr [EAX + 0x114]
008c9767 : TEST EAX,EAX
008c9769 : JZ 0x008c9844
008c976f : MOV EDX,dword ptr [EAX]
008c9771 : PUSH EDI
008c9772 : PUSH EBX
008c9773 : PUSH 0xc51d74
008c9778 : PUSH 0xc51d7c
008c977d : PUSH EAX
008c977e : MOV EAX,dword ptr [EDX + 0x4]
008c9781 : CALL EAX
008c9783 : ADD ESP,0x14
008c9786 : JMP 0x008c9844
008c978b : TEST EBX,EBX
008c978d : JNZ 0x008c97c8
008c978f : MOV ECX,dword ptr [EDI + 0x10]
008c9792 : MOV ESI,dword ptr [0x00d7c54c]
008c9798 : LEA EDX,[EBP + -0x8]
008c979b : MOV dword ptr [EBP + -0x8],ECX
008c979e : PUSH EDX
008c979f : LEA ECX,[ESI + 0x40]
008c97a2 : LEA EAX,[EBP + -0xc]
008c97a5 : CALL 0x004437f0
008c97aa : MOV EAX,dword ptr [EBP + -0xc]
008c97ad : CMP EAX,dword ptr [ESI + 0x44]
008c97b0 : JZ 0x008c97c8
008c97b2 : MOV EAX,dword ptr [EAX + 0x10]
008c97b5 : TEST EAX,EAX
008c97b7 : JZ 0x008c97c8
008c97b9 : MOV ECX,dword ptr [EAX + 0x4c]
008c97bc : AND ECX,0x100000
008c97c2 : XOR EAX,EAX
008c97c4 : OR EAX,ECX
008c97c6 : JNZ 0x008c9844
008c97c8 : MOV ECX,dword ptr [EDI + 0xb0]
008c97ce : MOV EAX,0x10624dd3
008c97d3 : IMUL ECX
008c97d5 : SAR EDX,0x6
008c97d8 : MOV ESI,EDX
008c97da : SHR ESI,0x1f
008c97dd : ADD ESI,EDX
008c97df : CMP byte ptr [EBP + -0x1],0x0
008c97e3 : JNZ 0x008c97ee
008c97e5 : CMP ESI,0x32
008c97e8 : JG 0x008c97ee
008c97ea : MOV byte ptr [EBP + -0x1],0x1
008c97ee : MOV EAX,[0x00da9894]
008c97f3 : MOV EAX,dword ptr [EAX]
008c97f5 : TEST EAX,EAX
008c97f7 : JZ 0x008c9822
008c97f9 : MOV EAX,dword ptr [EAX + 0x114]
008c97ff : TEST EAX,EAX
008c9801 : JZ 0x008c9822
008c9803 : MOV ECX,dword ptr [EAX]
008c9805 : XOR EDX,EDX
008c9807 : CMP ESI,0x32
008c980a : SETLE DL
008c980d : PUSH EDX
008c980e : PUSH EBX
008c980f : PUSH 0xc51d74
008c9814 : PUSH 0xc51d7c
008c9819 : PUSH EAX
008c981a : MOV EAX,dword ptr [ECX + 0x4]
008c981d : CALL EAX
008c981f : ADD ESP,0x14
008c9822 : CMP byte ptr [EDI + 0xb4],0x0
008c9829 : JNZ 0x008c9831
008c982b : CMP byte ptr [EBP + 0xc],0x0
008c982f : JZ 0x008c9844
008c9831 : MOV ECX,dword ptr [EBP + 0x8]
008c9834 : PUSH EBX
008c9835 : PUSH ECX
008c9836 : MOV EAX,ESI
008c9838 : CALL 0x008c9580
008c983d : MOV byte ptr [EDI + 0xb4],0x0
008c9844 : INC EBX
008c9845 : CMP EBX,0xd
008c9848 : JLE 0x008c9720
008c984e : CMP byte ptr [EBP + -0x1],0x0
008c9852 : MOV ECX,dword ptr [EBP + 0x8]
008c9855 : POP EDI
008c9856 : POP ESI
008c9857 : POP EBX
008c9858 : JNZ 0x008c9867
008c985a : MOV EDX,dword ptr [ECX]
008c985c : MOV EAX,dword ptr [EDX + 0x20]
008c985f : CALL EAX
008c9861 : MOV ESP,EBP
008c9863 : POP EBP
008c9864 : RET 0x8
008c9867 : CMP byte ptr [ECX + 0x32],0x0
008c986b : JNZ 0x008c987b
008c986d : MOV EDX,dword ptr [ECX]
008c986f : MOV EAX,dword ptr [EDX + 0x18]
008c9872 : PUSH 0x12c
008c9877 : PUSH 0x0
008c9879 : CALL EAX
008c987b : MOV ESP,EBP
008c987d : POP EBP
008c987e : RET 0x8
