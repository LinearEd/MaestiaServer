PROGRAM  : Maestia.exe
FUNCTION : FUN_0056ebb0
ENTRY    : 0056ebb0
BODY     : [[0056ebb0, 0056ec44]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0056ebb0(undefined4 param_1,uint *param_2,undefined4 param_3,char param_4,
                 undefined1 param_5)

{
  int *piVar1;
  uint uVar2;
  undefined4 *in_ECX;
  
  FUN_0051b6e0();
  in_ECX[5] = 0;
  *(undefined1 *)(in_ECX + 7) = 0;
  *(undefined1 *)(in_ECX + 0xb) = 0;
  *(undefined1 *)(in_ECX + 0xf) = 0;
  in_ECX[0x13] = 0;
  *(undefined1 *)(in_ECX + 0x14) = 0;
  in_ECX[0x18] = 0;
  if (param_4 == '\0') {
    uVar2 = (uint)((*param_2 & 0xfffffffc) == 0xfffffff8);
  }
  else {
    uVar2 = 4;
  }
  in_ECX[1] = uVar2 | 2;
  piVar1 = (int *)in_ECX[5];
  if ((piVar1 != (int *)0x0) && (*piVar1 = *piVar1 + -1, *piVar1 < 1)) {
    FUN_0051d070();
    FUN_00515cf0(piVar1);
  }
  in_ECX[5] = 0;
  in_ECX[2] = param_3;
  in_ECX[4] = param_1;
  *in_ECX = 0;
  FUN_0051bc20(param_2);
  *(undefined1 *)(in_ECX + 0x19) = 0;
  *(undefined1 *)(in_ECX + 6) = param_5;
  return;
}



============================================================
DISASSEMBLY
============================================================
0056ebb0 : PUSH EBX
0056ebb1 : PUSH EBP
0056ebb2 : PUSH ESI
0056ebb3 : MOV ESI,ECX
0056ebb5 : LEA EBP,[ESI + 0xc]
0056ebb8 : PUSH EDI
0056ebb9 : MOV ECX,EBP
0056ebbb : CALL 0x0051b6e0
0056ebc0 : XOR EBX,EBX
0056ebc2 : MOV dword ptr [ESI + 0x14],EBX
0056ebc5 : MOV byte ptr [ESI + 0x1c],BL
0056ebc8 : MOV byte ptr [ESI + 0x2c],BL
0056ebcb : MOV byte ptr [ESI + 0x3c],BL
0056ebce : MOV dword ptr [ESI + 0x4c],EBX
0056ebd1 : MOV byte ptr [ESI + 0x50],BL
0056ebd4 : MOV dword ptr [ESI + 0x60],EBX
0056ebd7 : CMP byte ptr [ESP + 0x20],BL
0056ebdb : JZ 0x0056ebe2
0056ebdd : LEA EAX,[EBX + 0x4]
0056ebe0 : JMP 0x0056ebf3
0056ebe2 : MOV EAX,dword ptr [ESP + 0x18]
0056ebe6 : MOV EAX,dword ptr [EAX]
0056ebe8 : AND EAX,0xfffffffc
0056ebeb : ADD EAX,0x8
0056ebee : NEG EAX
0056ebf0 : SBB EAX,EAX
0056ebf2 : INC EAX
0056ebf3 : OR EAX,0x2
0056ebf6 : MOV dword ptr [ESI + 0x4],EAX
0056ebf9 : MOV EDI,dword ptr [ESI + 0x14]
0056ebfc : CMP EDI,EBX
0056ebfe : JZ 0x0056ec13
0056ec00 : DEC dword ptr [EDI]
0056ec02 : CMP dword ptr [EDI],EBX
0056ec04 : JG 0x0056ec13
0056ec06 : MOV ECX,EDI
0056ec08 : CALL 0x0051d070
0056ec0d : PUSH EDI
0056ec0e : CALL 0x00515cf0
0056ec13 : MOV ECX,dword ptr [ESP + 0x1c]
0056ec17 : MOV EAX,dword ptr [ESP + 0x18]
0056ec1b : MOV EDX,dword ptr [ESP + 0x14]
0056ec1f : MOV dword ptr [ESI + 0x14],EBX
0056ec22 : MOV dword ptr [ESI + 0x8],ECX
0056ec25 : PUSH EAX
0056ec26 : MOV ECX,EBP
0056ec28 : MOV dword ptr [ESI + 0x10],EDX
0056ec2b : MOV dword ptr [ESI],EBX
0056ec2d : CALL 0x0051bc20
0056ec32 : MOV CL,byte ptr [ESP + 0x24]
0056ec36 : POP EDI
0056ec37 : MOV byte ptr [ESI + 0x64],BL
0056ec3a : MOV byte ptr [ESI + 0x18],CL
0056ec3d : MOV EAX,ESI
0056ec3f : POP ESI
0056ec40 : POP EBP
0056ec41 : POP EBX
0056ec42 : RET 0x14
