PROGRAM  : Maestia.exe
FUNCTION : FUN_007c2d50
ENTRY    : 007c2d50
BODY     : [[007c2d50, 007c2f37]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_007c2d50(undefined4 *param_1,undefined4 param_2)

{
  char cVar1;
  uint uVar2;
  undefined4 uVar3;
  int *in_ECX;
  int *piVar4;
  int *piVar5;
  undefined1 local_24 [4];
  int *local_20;
  undefined **local_1c;
  int *local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b14762;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  piVar5 = (int *)0x0;
  local_14 = 0;
  uVar3 = FUN_00801fc0(&local_1c,param_2);
  local_8 = 1;
  FUN_00463cf0(local_24,uVar3);
  local_8._0_1_ = 3;
  local_1c = &PTR_FUN_00cd4964;
  if (local_18 != (int *)0x0) {
    (**(code **)(*local_18 + 0x30))(uVar2);
    local_18 = (int *)0x0;
  }
  if (local_20 != (int *)0x0) {
    if ((char)local_20[9] == '\0') {
      (**(code **)(*local_20 + 4))(param_2);
    }
    *param_1 = &PTR_FUN_00cd4964;
    param_1[1] = local_20;
    if (local_20 != (int *)0x0) {
      InterlockedIncrement(local_20 + 0xb);
    }
    local_14 = 1;
    local_8 = (uint)local_8._1_3_ << 8;
    FUN_0045c060(local_24);
    ExceptionList = local_10;
    return param_1;
  }
  local_18 = (int *)FUN_006f0760(0x40,".\\mss\\AvaSoundRscMgr.cpp",0x32,0);
  local_8._0_1_ = 4;
  if (local_18 != (int *)0x0) {
    piVar5 = (int *)FUN_0075ad70(local_18);
  }
  local_8._0_1_ = 3;
  cVar1 = (**(code **)(*piVar5 + 4))(param_2);
  if (cVar1 == '\0') {
    (**(code **)*piVar5)(1);
    piVar4 = (int *)0x0;
  }
  else {
    piVar5[0xd] = (int)in_ECX;
    cVar1 = (**(code **)(*in_ECX + 0xc))(piVar5);
    piVar4 = piVar5;
    if (cVar1 == '\0') {
      piVar4 = (int *)0x0;
      piVar5[0xd] = 0;
      (**(code **)*piVar5)(1);
      FUN_00801fc0(&local_1c,param_2);
      local_8._0_1_ = 5;
      FUN_00463a60();
      local_8._0_1_ = 3;
      local_1c = &PTR_FUN_00cd4964;
      if (local_18 != (int *)0x0) {
        (**(code **)(*local_18 + 0x30))();
        local_18 = (int *)0x0;
      }
      if (local_20 != (int *)0x0) {
        if ((char)local_20[9] == '\0') {
          (**(code **)(*local_20 + 4))(param_2);
        }
        FUN_0043a270();
        goto LAB_007c2f1d;
      }
    }
  }
  *param_1 = &PTR_FUN_00cd4964;
  param_1[1] = piVar4;
  if (piVar4 != (int *)0x0) {
    InterlockedIncrement(piVar4 + 0xb);
  }
LAB_007c2f1d:
  local_8 = (uint)local_8._1_3_ << 8;
  local_14 = 1;
  FUN_0045c060(local_24);
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
007c2d50 : PUSH EBP
007c2d51 : MOV EBP,ESP
007c2d53 : PUSH -0x1
007c2d55 : PUSH 0xb14762
007c2d5a : MOV EAX,FS:[0x0]
007c2d60 : PUSH EAX
007c2d61 : SUB ESP,0x14
007c2d64 : PUSH EBX
007c2d65 : PUSH ESI
007c2d66 : PUSH EDI
007c2d67 : MOV EAX,[0x00d66fa0]
007c2d6c : XOR EAX,EBP
007c2d6e : PUSH EAX
007c2d6f : LEA EAX,[EBP + -0xc]
007c2d72 : MOV FS:[0x0],EAX
007c2d78 : MOV EDI,ECX
007c2d7a : MOV EBX,dword ptr [EBP + 0xc]
007c2d7d : PUSH EBX
007c2d7e : LEA EAX,[EBP + -0x18]
007c2d81 : XOR ESI,ESI
007c2d83 : PUSH EAX
007c2d84 : MOV dword ptr [EBP + -0x10],ESI
007c2d87 : CALL 0x00801fc0
007c2d8c : MOV dword ptr [EBP + -0x4],0x1
007c2d93 : PUSH EAX
007c2d94 : LEA ECX,[EBP + -0x20]
007c2d97 : PUSH ECX
007c2d98 : CALL 0x00463cf0
007c2d9d : MOV byte ptr [EBP + -0x4],0x3
007c2da1 : MOV ECX,dword ptr [EBP + -0x14]
007c2da4 : MOV dword ptr [EBP + -0x18],0xcd4964
007c2dab : CMP ECX,ESI
007c2dad : JZ 0x007c2db9
007c2daf : MOV EDX,dword ptr [ECX]
007c2db1 : MOV EAX,dword ptr [EDX + 0x30]
007c2db4 : CALL EAX
007c2db6 : MOV dword ptr [EBP + -0x14],ESI
007c2db9 : MOV ECX,dword ptr [EBP + -0x1c]
007c2dbc : CMP ECX,ESI
007c2dbe : JZ 0x007c2e15
007c2dc0 : CMP byte ptr [ECX + 0x24],0x0
007c2dc4 : JNZ 0x007c2dd1
007c2dc6 : MOV EDX,dword ptr [ECX]
007c2dc8 : MOV EAX,dword ptr [EDX + 0x4]
007c2dcb : PUSH EBX
007c2dcc : CALL EAX
007c2dce : MOV ECX,dword ptr [EBP + -0x1c]
007c2dd1 : MOV EDI,dword ptr [EBP + 0x8]
007c2dd4 : MOV dword ptr [EDI],0xcd4964
007c2dda : MOV dword ptr [EDI + 0x4],ECX
007c2ddd : CMP ECX,ESI
007c2ddf : JZ 0x007c2deb
007c2de1 : ADD ECX,0x2c
007c2de4 : PUSH ECX
007c2de5 : CALL dword ptr [0x00b850dc]
007c2deb : MOV dword ptr [EBP + -0x10],0x1
007c2df2 : MOV byte ptr [EBP + -0x4],0x0
007c2df6 : LEA ECX,[EBP + -0x20]
007c2df9 : PUSH ECX
007c2dfa : CALL 0x0045c060
007c2dff : MOV EAX,EDI
007c2e01 : MOV ECX,dword ptr [EBP + -0xc]
007c2e04 : MOV dword ptr FS:[0x0],ECX
007c2e0b : POP ECX
007c2e0c : POP EDI
007c2e0d : POP ESI
007c2e0e : POP EBX
007c2e0f : MOV ESP,EBP
007c2e11 : POP EBP
007c2e12 : RET 0x8
007c2e15 : PUSH ESI
007c2e16 : PUSH 0x32
007c2e18 : PUSH 0xc1c27c
007c2e1d : PUSH 0x40
007c2e1f : CALL 0x006f0760
007c2e24 : ADD ESP,0x10
007c2e27 : MOV dword ptr [EBP + -0x14],EAX
007c2e2a : MOV byte ptr [EBP + -0x4],0x4
007c2e2e : CMP EAX,ESI
007c2e30 : JZ 0x007c2e3a
007c2e32 : PUSH EAX
007c2e33 : CALL 0x0075ad70
007c2e38 : MOV ESI,EAX
007c2e3a : MOV byte ptr [EBP + -0x4],0x3
007c2e3e : MOV EDX,dword ptr [ESI]
007c2e40 : MOV EAX,dword ptr [EBP + 0xc]
007c2e43 : MOV EDX,dword ptr [EDX + 0x4]
007c2e46 : PUSH EAX
007c2e47 : MOV ECX,ESI
007c2e49 : MOV EBX,ESI
007c2e4b : CALL EDX
007c2e4d : TEST AL,AL
007c2e4f : JZ 0x007c2ee8
007c2e55 : MOV dword ptr [ESI + 0x34],EDI
007c2e58 : MOV EAX,dword ptr [EDI]
007c2e5a : MOV EDX,dword ptr [EAX + 0xc]
007c2e5d : PUSH ESI
007c2e5e : MOV ECX,EDI
007c2e60 : CALL EDX
007c2e62 : TEST AL,AL
007c2e64 : JNZ 0x007c2ef4
007c2e6a : XOR EBX,EBX
007c2e6c : MOV dword ptr [ESI + 0x34],EBX
007c2e6f : MOV EAX,dword ptr [ESI]
007c2e71 : MOV EDX,dword ptr [EAX]
007c2e73 : PUSH 0x1
007c2e75 : MOV ECX,ESI
007c2e77 : CALL EDX
007c2e79 : MOV EAX,dword ptr [EBP + 0xc]
007c2e7c : PUSH EAX
007c2e7d : LEA ECX,[EBP + -0x18]
007c2e80 : PUSH ECX
007c2e81 : MOV ECX,EDI
007c2e83 : CALL 0x00801fc0
007c2e88 : MOV byte ptr [EBP + -0x4],0x5
007c2e8c : MOV ESI,EAX
007c2e8e : LEA EDI,[EBP + -0x20]
007c2e91 : CALL 0x00463a60
007c2e96 : MOV byte ptr [EBP + -0x4],0x3
007c2e9a : MOV ECX,dword ptr [EBP + -0x14]
007c2e9d : MOV dword ptr [EBP + -0x18],0xcd4964
007c2ea4 : TEST ECX,ECX
007c2ea6 : JZ 0x007c2eb2
007c2ea8 : MOV EDX,dword ptr [ECX]
007c2eaa : MOV EAX,dword ptr [EDX + 0x30]
007c2ead : CALL EAX
007c2eaf : MOV dword ptr [EBP + -0x14],EBX
007c2eb2 : MOV EAX,dword ptr [EBP + -0x1c]
007c2eb5 : TEST EAX,EAX
007c2eb7 : JZ 0x007c2ef4
007c2eb9 : CMP byte ptr [EAX + 0x24],0x0
007c2ebd : JNZ 0x007c2ecf
007c2ebf : MOV ECX,dword ptr [EBP + 0xc]
007c2ec2 : MOV EDX,dword ptr [EAX]
007c2ec4 : MOV EDX,dword ptr [EDX + 0x4]
007c2ec7 : PUSH ECX
007c2ec8 : MOV ECX,EAX
007c2eca : CALL EDX
007c2ecc : MOV EAX,dword ptr [EBP + -0x1c]
007c2ecf : MOV ESI,dword ptr [EBP + 0x8]
007c2ed2 : CALL 0x0043a270
007c2ed7 : MOV dword ptr [EBP + -0x10],0x1
007c2ede : MOV byte ptr [EBP + -0x4],0x0
007c2ee2 : LEA EAX,[EBP + -0x20]
007c2ee5 : PUSH EAX
007c2ee6 : JMP 0x007c2f1d
007c2ee8 : MOV EDX,dword ptr [ESI]
007c2eea : MOV EAX,dword ptr [EDX]
007c2eec : PUSH 0x1
007c2eee : MOV ECX,ESI
007c2ef0 : CALL EAX
007c2ef2 : XOR EBX,EBX
007c2ef4 : MOV ESI,dword ptr [EBP + 0x8]
007c2ef7 : MOV dword ptr [ESI],0xcd4964
007c2efd : MOV dword ptr [ESI + 0x4],EBX
007c2f00 : TEST EBX,EBX
007c2f02 : JZ 0x007c2f0e
007c2f04 : ADD EBX,0x2c
007c2f07 : PUSH EBX
007c2f08 : CALL dword ptr [0x00b850dc]
007c2f0e : MOV dword ptr [EBP + -0x10],0x1
007c2f15 : MOV byte ptr [EBP + -0x4],0x0
007c2f19 : LEA ECX,[EBP + -0x20]
007c2f1c : PUSH ECX
007c2f1d : CALL 0x0045c060
007c2f22 : MOV EAX,ESI
007c2f24 : MOV ECX,dword ptr [EBP + -0xc]
007c2f27 : MOV dword ptr FS:[0x0],ECX
007c2f2e : POP ECX
007c2f2f : POP EDI
007c2f30 : POP ESI
007c2f31 : POP EBX
007c2f32 : MOV ESP,EBP
007c2f34 : POP EBP
007c2f35 : RET 0x8
