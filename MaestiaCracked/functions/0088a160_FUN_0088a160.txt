PROGRAM  : Maestia.exe
FUNCTION : FUN_0088a160
ENTRY    : 0088a160
BODY     : [[0088a160, 0088a343]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0088a160(float param_1,undefined4 param_2,int param_3)

{
  char cVar1;
  short sVar2;
  DWORD DVar3;
  int *in_ECX;
  float fVar4;
  double dVar5;
  double dVar6;
  float local_1c;
  undefined4 local_18;
  float local_14 [4];
  
  local_1c = 0.0;
  local_18 = 0;
  if (in_ECX[0xfa] != 0) {
    local_14[0] = 0.0;
    local_14[1] = 0.0;
    local_14[2] = -1.0;
    FUN_0043d620(local_14);
    local_1c = local_14[0];
    local_18 = local_14[2];
    D3DXVec2Normalize(&local_1c,&local_1c);
  }
  dVar5 = (double)local_1c;
  FUN_00b0b091();
  dVar6 = (double)param_1;
  FUN_00b0b091();
  for (fVar4 = ((float)dVar6 + 3.141592) - ((float)dVar5 + 3.141592); 3.141592 < fVar4;
      fVar4 = fVar4 - 6.283184) {
  }
  for (; fVar4 < -3.141592; fVar4 = fVar4 + 6.283184) {
  }
  fVar4 = fVar4 + (float)dVar5 + 3.141592;
  if (*(char *)((int)in_ECX + 0x15af) != '\0') {
    *(undefined1 *)((int)in_ECX + 0x15af) = 0;
    *(undefined1 *)(in_ECX + 0x56c) = 1;
    in_ECX[0x565] = (int)fVar4;
    in_ECX[0x564] = (int)fVar4;
    return;
  }
  if ((float)in_ECX[0x565] != fVar4) {
    sVar2 = (**(code **)(*in_ECX + 0x1e4))();
    if ((sVar2 == 0) && (cVar1 = FUN_00889650(), cVar1 != '\0')) {
      if (0.0 <= (float)in_ECX[0x565] - fVar4) {
        if (0.0 <= (float)in_ECX[0x565] - fVar4) {
          *(undefined1 *)((int)in_ECX + 0x15b2) = 1;
          *(undefined1 *)((int)in_ECX + 0x15b3) = 0;
        }
      }
      else {
        *(undefined1 *)((int)in_ECX + 0x15b2) = 0;
        *(undefined1 *)((int)in_ECX + 0x15b3) = 1;
      }
    }
    in_ECX[0x565] = (int)fVar4;
    in_ECX[0x564] = (int)fVar4;
    DVar3 = timeGetTime();
    *(undefined1 *)(in_ECX + 0x56b) = 1;
    in_ECX[0x569] = DVar3 + param_3;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0088a160 : PUSH EBP
0088a161 : MOV EBP,ESP
0088a163 : AND ESP,0xfffffff8
0088a166 : SUB ESP,0x1c
0088a169 : XORPS XMM0,XMM0
0088a16c : PUSH ESI
0088a16d : MOV ESI,ECX
0088a16f : MOV EAX,dword ptr [ESI + 0x3e8]
0088a175 : MOVSS dword ptr [ESP + 0xc],XMM0
0088a17b : MOVSS dword ptr [ESP + 0x10],XMM0
0088a181 : TEST EAX,EAX
0088a183 : JZ 0x0088a1e4
0088a185 : LEA ECX,[EAX + 0x74]
0088a188 : LEA EAX,[ESP + 0x14]
0088a18c : MOVSS dword ptr [ESP + 0x14],XMM0
0088a192 : MOVSS dword ptr [ESP + 0x18],XMM0
0088a198 : MOVSS XMM0,dword ptr [0x00cdf0d0]
0088a1a0 : PUSH EAX
0088a1a1 : MOVSS dword ptr [ESP + 0x20],XMM0
0088a1a7 : CALL 0x0043d620
0088a1ac : MOVSS XMM0,dword ptr [ESP + 0x18]
0088a1b2 : MOVSS dword ptr [ESP + 0x8],XMM0
0088a1b8 : MOV ECX,dword ptr [ESP + 0x8]
0088a1bc : MOVSS XMM0,dword ptr [ESP + 0x20]
0088a1c2 : ADD ESP,0x4
0088a1c5 : LEA EAX,[ESP + 0xc]
0088a1c9 : MOV dword ptr [ESP + 0xc],ECX
0088a1cd : MOVSS dword ptr [ESP + 0x8],XMM0
0088a1d3 : MOV EDX,dword ptr [ESP + 0x8]
0088a1d7 : PUSH EAX
0088a1d8 : MOV ECX,EAX
0088a1da : PUSH ECX
0088a1db : MOV dword ptr [ESP + 0x18],EDX
0088a1df : CALL 0x004ff71c
0088a1e4 : CVTSS2SD XMM0,dword ptr [ESP + 0xc]
0088a1ea : CVTSS2SD XMM1,dword ptr [ESP + 0x10]
0088a1f0 : CALL 0x00b0b091
0088a1f5 : MOVSS XMM1,dword ptr [EBP + 0xc]
0088a1fa : CVTSD2SS XMM0,XMM0
0088a1fe : ADDSS XMM0,dword ptr [0x00cdf4f4]
0088a206 : MOVSS dword ptr [ESP + 0x4],XMM0
0088a20c : MOVSS XMM0,dword ptr [EBP + 0x8]
0088a211 : CVTPS2PD XMM0,XMM0
0088a214 : CVTPS2PD XMM1,XMM1
0088a217 : CALL 0x00b0b091
0088a21c : MOVSS XMM1,dword ptr [0x00cdf4f4]
0088a224 : MOVSS XMM3,dword ptr [ESP + 0x4]
0088a22a : MOVSS XMM2,dword ptr [0x00cdf4f0]
0088a232 : CVTSD2SS XMM0,XMM0
0088a236 : ADDSS XMM0,XMM1
0088a23a : SUBSS XMM0,XMM3
0088a23e : COMISS XMM0,XMM1
0088a241 : JBE 0x0088a24c
0088a243 : SUBSS XMM0,XMM2
0088a247 : COMISS XMM0,XMM1
0088a24a : JA 0x0088a243
0088a24c : MOVSS XMM1,dword ptr [0x00cdf4ec]
0088a254 : COMISS XMM1,XMM0
0088a257 : JBE 0x0088a269
0088a259 : LEA ESP,[ESP]
0088a260 : ADDSS XMM0,XMM2
0088a264 : COMISS XMM1,XMM0
0088a267 : JA 0x0088a260
0088a269 : CMP byte ptr [ESI + 0x15af],0x0
0088a270 : ADDSS XMM0,XMM3
0088a274 : MOVSS dword ptr [ESP + 0x4],XMM0
0088a27a : JZ 0x0088a2a1
0088a27c : MOV byte ptr [ESI + 0x15af],0x0
0088a283 : MOV byte ptr [ESI + 0x15b0],0x1
0088a28a : MOVSS dword ptr [ESI + 0x1594],XMM0
0088a292 : MOVSS dword ptr [ESI + 0x1590],XMM0
0088a29a : POP ESI
0088a29b : MOV ESP,EBP
0088a29d : POP EBP
0088a29e : RET 0xc
0088a2a1 : MOVSS XMM1,dword ptr [ESI + 0x1594]
0088a2a9 : UCOMISS XMM1,XMM0
0088a2ac : LAHF
0088a2ad : TEST AH,0x44
0088a2b0 : JNP 0x0088a33d
0088a2b6 : MOV EDX,dword ptr [ESI]
0088a2b8 : MOV EAX,dword ptr [EDX + 0x1e4]
0088a2be : MOV ECX,ESI
0088a2c0 : CALL EAX
0088a2c2 : TEST AX,AX
0088a2c5 : JNZ 0x0088a311
0088a2c7 : MOV EAX,ESI
0088a2c9 : CALL 0x00889650
0088a2ce : TEST AL,AL
0088a2d0 : JZ 0x0088a311
0088a2d2 : MOVSS XMM0,dword ptr [ESI + 0x1594]
0088a2da : MOVSS XMM2,dword ptr [ESP + 0x4]
0088a2e0 : XORPS XMM1,XMM1
0088a2e3 : SUBSS XMM0,XMM2
0088a2e7 : COMISS XMM1,XMM0
0088a2ea : JBE 0x0088a2fc
0088a2ec : MOV byte ptr [ESI + 0x15b2],0x0
0088a2f3 : MOV byte ptr [ESI + 0x15b3],0x1
0088a2fa : JMP 0x0088a317
0088a2fc : COMISS XMM0,XMM1
0088a2ff : JC 0x0088a317
0088a301 : MOV byte ptr [ESI + 0x15b2],0x1
0088a308 : MOV byte ptr [ESI + 0x15b3],0x0
0088a30f : JMP 0x0088a317
0088a311 : MOVSS XMM2,dword ptr [ESP + 0x4]
0088a317 : MOVSS dword ptr [ESI + 0x1594],XMM2
0088a31f : MOVSS dword ptr [ESI + 0x1590],XMM2
0088a327 : CALL dword ptr [0x00b85598]
0088a32d : ADD EAX,dword ptr [EBP + 0x10]
0088a330 : MOV byte ptr [ESI + 0x15ac],0x1
0088a337 : MOV dword ptr [ESI + 0x15a4],EAX
0088a33d : POP ESI
0088a33e : MOV ESP,EBP
0088a340 : POP EBP
0088a341 : RET 0xc
