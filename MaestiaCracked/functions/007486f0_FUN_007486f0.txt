PROGRAM  : Maestia.exe
FUNCTION : FUN_007486f0
ENTRY    : 007486f0
BODY     : [[007486f0, 00748946]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007486f0(undefined4 param_1,char param_2,char param_3,char param_4,char param_5,
                 char param_6,undefined4 param_7,int param_8)

{
  int *piVar1;
  bool bVar2;
  int *in_ECX;
  LPCRITICAL_SECTION p_Var3;
  int local_c;
  
  if (*(char *)(DAT_017251ac + 4) != '\0') {
    FUN_007484a0(in_ECX,param_1);
    piVar1 = *(int **)(DAT_017251ac + 0x18);
    if (param_4 == '\0') {
      (**(code **)(*piVar1 + 0xe4))(piVar1,8,3);
    }
    else {
      (**(code **)(*piVar1 + 0xe4))(piVar1,8,2);
    }
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x1b,0);
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x89,0);
    (**(code **)*in_ECX)();
    bVar2 = false;
    if (((*(int *)(DAT_017251ac + 0x3c4) == 4) && (0 < *(int *)(DAT_017251ac + 0x31c))) &&
       (*(char *)(DAT_017251ac + 0x233) != '\0')) {
      bVar2 = true;
      if (*(char *)(DAT_017251ac + 0x234) == '\0') {
        (**(code **)(*piVar1 + 0xe4))(piVar1,0xb5,0x434f5441);
      }
      else {
        (**(code **)(*piVar1 + 0xe4))(piVar1,0x9a,0x314d3241);
      }
    }
    p_Var3 = (LPCRITICAL_SECTION)(in_ECX + 0x2c);
    local_c = 5;
    do {
      EnterCriticalSection(p_Var3);
      (**(code **)(p_Var3[-2].SpinCount + 0x18))(param_1,param_7,param_8);
      LeaveCriticalSection(p_Var3);
      p_Var3 = (LPCRITICAL_SECTION)&p_Var3[2].OwningThread;
      local_c = local_c + -1;
    } while (local_c != 0);
    p_Var3 = (LPCRITICAL_SECTION)(in_ECX + 0xf8);
    param_8 = 5;
    do {
      EnterCriticalSection(p_Var3);
      (**(code **)(p_Var3[-2].SpinCount + 0x18))(param_1,1,0);
      LeaveCriticalSection(p_Var3);
      p_Var3 = (LPCRITICAL_SECTION)&p_Var3[2].OwningThread;
      param_8 = param_8 + -1;
    } while (param_8 != 0);
    if (bVar2) {
      if (*(char *)(DAT_017251ac + 0x234) == '\0') {
        (**(code **)(*piVar1 + 0xe4))(piVar1,0xb5,0);
      }
      else {
        (**(code **)(*piVar1 + 0xe4))(piVar1,0x9a,0x304d3241);
      }
    }
    if (param_2 != '\0') {
      (**(code **)(*in_ECX + 0x1c))();
      (**(code **)(*in_ECX + 0x20))(0);
    }
    if (param_3 != '\0') {
      (**(code **)(*in_ECX + 0x24))();
    }
    if (param_5 != '\0') {
      (**(code **)(*in_ECX + 0x28))();
    }
    if (param_6 != '\0') {
      p_Var3 = (LPCRITICAL_SECTION)(in_ECX + 0xad);
      _param_4 = 5;
      do {
        EnterCriticalSection(p_Var3);
        (**(code **)(p_Var3[-2].SpinCount + 0x18))(param_1,param_7,0);
        LeaveCriticalSection(p_Var3);
        p_Var3 = (LPCRITICAL_SECTION)&p_Var3[2].OwningThread;
        _param_4 = _param_4 + -1;
      } while (_param_4 != 0);
    }
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x89,1);
    (**(code **)(*piVar1 + 0xe4))(piVar1,8,3);
    (*(code *)PTR_FUN_00d6d240)(0x3c,0,"SC[%4d/%4d]",in_ECX[0x28a],in_ECX[0x28b]);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007486f0 : PUSH EBP
007486f1 : MOV EBP,ESP
007486f3 : SUB ESP,0x8
007486f6 : MOV EAX,[0x017251ac]
007486fb : CMP byte ptr [EAX + 0x4],0x0
007486ff : PUSH ESI
00748700 : MOV ESI,ECX
00748702 : MOV dword ptr [EBP + -0x4],ESI
00748705 : JZ 0x00748940
0074870b : MOV ECX,dword ptr [EBP + 0x8]
0074870e : PUSH EBX
0074870f : PUSH EDI
00748710 : PUSH ECX
00748711 : PUSH ESI
00748712 : CALL 0x007484a0
00748717 : CMP byte ptr [EBP + 0x14],0x0
0074871b : MOV EDX,dword ptr [0x017251ac]
00748721 : MOV EDI,dword ptr [EDX + 0x18]
00748724 : JZ 0x00748737
00748726 : MOV EAX,dword ptr [EDI]
00748728 : MOV ECX,dword ptr [EAX + 0xe4]
0074872e : PUSH 0x2
00748730 : PUSH 0x8
00748732 : PUSH EDI
00748733 : CALL ECX
00748735 : JMP 0x00748746
00748737 : MOV EDX,dword ptr [EDI]
00748739 : MOV EAX,dword ptr [EDX + 0xe4]
0074873f : PUSH 0x3
00748741 : PUSH 0x8
00748743 : PUSH EDI
00748744 : CALL EAX
00748746 : MOV ECX,dword ptr [EDI]
00748748 : MOV EDX,dword ptr [ECX + 0xe4]
0074874e : PUSH 0x0
00748750 : PUSH 0x1b
00748752 : PUSH EDI
00748753 : CALL EDX
00748755 : MOV EAX,dword ptr [EDI]
00748757 : MOV ECX,dword ptr [EAX + 0xe4]
0074875d : PUSH 0x0
0074875f : PUSH 0x89
00748764 : PUSH EDI
00748765 : CALL ECX
00748767 : MOV EDX,dword ptr [ESI]
00748769 : MOV EAX,dword ptr [EDX]
0074876b : MOV ECX,ESI
0074876d : CALL EAX
0074876f : MOV EAX,[0x017251ac]
00748774 : CMP dword ptr [EAX + 0x3c4],0x4
0074877b : MOV byte ptr [EBP + 0x17],0x0
0074877f : JNZ 0x007487cc
00748781 : CMP dword ptr [EAX + 0x31c],0x0
00748788 : JLE 0x007487cc
0074878a : CMP byte ptr [EAX + 0x233],0x0
00748791 : JZ 0x007487cc
00748793 : CMP byte ptr [EAX + 0x234],0x0
0074879a : MOV byte ptr [EBP + 0x17],0x1
0074879e : JZ 0x007487b7
007487a0 : MOV ECX,dword ptr [EDI]
007487a2 : MOV EDX,dword ptr [ECX + 0xe4]
007487a8 : PUSH 0x314d3241
007487ad : PUSH 0x9a
007487b2 : PUSH EDI
007487b3 : CALL EDX
007487b5 : JMP 0x007487cc
007487b7 : MOV EAX,dword ptr [EDI]
007487b9 : MOV ECX,dword ptr [EAX + 0xe4]
007487bf : PUSH 0x434f5441
007487c4 : PUSH 0xb5
007487c9 : PUSH EDI
007487ca : CALL ECX
007487cc : MOV EBX,dword ptr [0x00b85118]
007487d2 : ADD ESI,0xb0
007487d8 : MOV dword ptr [EBP + -0x8],0x5
007487df : NOP
007487e0 : PUSH ESI
007487e1 : CALL EBX
007487e3 : MOV EAX,dword ptr [EBP + 0x24]
007487e6 : MOV EDX,dword ptr [ESI + -0x1c]
007487e9 : MOV EDX,dword ptr [EDX + 0x18]
007487ec : PUSH EAX
007487ed : MOV EAX,dword ptr [EBP + 0x20]
007487f0 : LEA ECX,[ESI + -0x1c]
007487f3 : PUSH EAX
007487f4 : MOV EAX,dword ptr [EBP + 0x8]
007487f7 : PUSH EAX
007487f8 : CALL EDX
007487fa : PUSH ESI
007487fb : CALL dword ptr [0x00b8511c]
00748801 : ADD ESI,0x3c
00748804 : SUB dword ptr [EBP + -0x8],0x1
00748808 : JNZ 0x007487e0
0074880a : MOV ESI,dword ptr [EBP + -0x4]
0074880d : ADD ESI,0x3e0
00748813 : MOV dword ptr [EBP + 0x24],0x5
0074881a : LEA EBX,[EBX]
00748820 : PUSH ESI
00748821 : CALL EBX
00748823 : MOV EAX,dword ptr [ESI + -0x1c]
00748826 : MOV EDX,dword ptr [EBP + 0x8]
00748829 : MOV EAX,dword ptr [EAX + 0x18]
0074882c : PUSH 0x0
0074882e : LEA ECX,[ESI + -0x1c]
00748831 : PUSH 0x1
00748833 : PUSH EDX
00748834 : CALL EAX
00748836 : PUSH ESI
00748837 : CALL dword ptr [0x00b8511c]
0074883d : ADD ESI,0x3c
00748840 : SUB dword ptr [EBP + 0x24],0x1
00748844 : JNZ 0x00748820
00748846 : CMP byte ptr [EBP + 0x17],0x0
0074884a : JZ 0x00748884
0074884c : MOV ECX,dword ptr [0x017251ac]
00748852 : CMP byte ptr [ECX + 0x234],0x0
00748859 : JZ 0x00748872
0074885b : MOV EDX,dword ptr [EDI]
0074885d : MOV EAX,dword ptr [EDX + 0xe4]
00748863 : PUSH 0x304d3241
00748868 : PUSH 0x9a
0074886d : PUSH EDI
0074886e : CALL EAX
00748870 : JMP 0x00748884
00748872 : MOV ECX,dword ptr [EDI]
00748874 : MOV EDX,dword ptr [ECX + 0xe4]
0074887a : PUSH 0x0
0074887c : PUSH 0xb5
00748881 : PUSH EDI
00748882 : CALL EDX
00748884 : CMP byte ptr [EBP + 0xc],0x0
00748888 : MOV ESI,dword ptr [EBP + -0x4]
0074888b : JZ 0x007488a1
0074888d : MOV EAX,dword ptr [ESI]
0074888f : MOV EDX,dword ptr [EAX + 0x1c]
00748892 : MOV ECX,ESI
00748894 : CALL EDX
00748896 : MOV EAX,dword ptr [ESI]
00748898 : MOV EDX,dword ptr [EAX + 0x20]
0074889b : PUSH 0x0
0074889d : MOV ECX,ESI
0074889f : CALL EDX
007488a1 : CMP byte ptr [EBP + 0x10],0x0
007488a5 : JZ 0x007488b0
007488a7 : MOV EAX,dword ptr [ESI]
007488a9 : MOV EDX,dword ptr [EAX + 0x24]
007488ac : MOV ECX,ESI
007488ae : CALL EDX
007488b0 : CMP byte ptr [EBP + 0x18],0x0
007488b4 : JZ 0x007488bf
007488b6 : MOV EAX,dword ptr [ESI]
007488b8 : MOV EDX,dword ptr [EAX + 0x28]
007488bb : MOV ECX,ESI
007488bd : CALL EDX
007488bf : CMP byte ptr [EBP + 0x1c],0x0
007488c3 : JZ 0x007488fd
007488c5 : ADD ESI,0x2b4
007488cb : MOV dword ptr [EBP + 0x14],0x5
007488d2 : PUSH ESI
007488d3 : CALL EBX
007488d5 : MOV EDX,dword ptr [EBP + 0x20]
007488d8 : MOV EAX,dword ptr [ESI + -0x1c]
007488db : MOV EAX,dword ptr [EAX + 0x18]
007488de : PUSH 0x0
007488e0 : LEA ECX,[ESI + -0x1c]
007488e3 : PUSH EDX
007488e4 : MOV EDX,dword ptr [EBP + 0x8]
007488e7 : PUSH EDX
007488e8 : CALL EAX
007488ea : PUSH ESI
007488eb : CALL dword ptr [0x00b8511c]
007488f1 : ADD ESI,0x3c
007488f4 : SUB dword ptr [EBP + 0x14],0x1
007488f8 : JNZ 0x007488d2
007488fa : MOV ESI,dword ptr [EBP + -0x4]
007488fd : MOV ECX,dword ptr [EDI]
007488ff : MOV EDX,dword ptr [ECX + 0xe4]
00748905 : PUSH 0x1
00748907 : PUSH 0x89
0074890c : PUSH EDI
0074890d : CALL EDX
0074890f : MOV EAX,dword ptr [EDI]
00748911 : MOV ECX,dword ptr [EAX + 0xe4]
00748917 : PUSH 0x3
00748919 : PUSH 0x8
0074891b : PUSH EDI
0074891c : CALL ECX
0074891e : MOV EDX,dword ptr [ESI + 0xa2c]
00748924 : MOV EAX,dword ptr [ESI + 0xa28]
0074892a : PUSH EDX
0074892b : PUSH EAX
0074892c : PUSH 0xc08a74
00748931 : PUSH 0x0
00748933 : PUSH 0x3c
00748935 : CALL dword ptr [0x00d6d240]
0074893b : ADD ESP,0x14
0074893e : POP EDI
0074893f : POP EBX
00748940 : POP ESI
00748941 : MOV ESP,EBP
00748943 : POP EBP
00748944 : RET 0x20
