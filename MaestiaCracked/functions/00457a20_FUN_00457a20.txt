PROGRAM  : Maestia.exe
FUNCTION : FUN_00457a20
ENTRY    : 00457a20
BODY     : [[00457a20, 00457b1d]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint * FUN_00457a20(uint param_1)

{
  uint *puVar1;
  uint *puVar2;
  uint uVar3;
  size_t _Size;
  void *local_c;
  undefined1 *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00b71567;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  _Size = param_1 * 0x40 + 4;
  if (DAT_00da98c8 == (int *)0x0) {
    puVar1 = _malloc(_Size);
  }
  else {
    puVar1 = (uint *)(**(code **)(*DAT_00da98c8 + 4))(_Size,DAT_00d66fa0 ^ (uint)&stack0xffffffdc);
  }
  if (puVar1 == (uint *)0x0) {
    ExceptionList = local_c;
    return (uint *)0x0;
  }
  uVar3 = 0;
  *puVar1 = param_1;
  if (param_1 != 0) {
    do {
      puVar2 = puVar1 + 1 + uVar3 * 0x10;
      if (puVar2 != (uint *)0x0) {
        *puVar2 = 0;
        puVar2[1] = 0;
        puVar2[2] = 0;
        puVar2[3] = 0;
        puVar2[4] = 0;
        puVar2[5] = 0;
        puVar2[6] = 0;
        puVar2[7] = 0;
        puVar2[8] = 0;
        puVar2[9] = 0;
        puVar2[10] = 0;
        puVar2[0xb] = 0;
        puVar2[0xc] = 0;
        puVar2[0xd] = 0x3f800000;
        puVar2[0xe] = 0;
        puVar2[0xf] = 0;
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < param_1);
  }
  _DAT_00da98cc = _DAT_00da98cc + _Size;
  _DAT_00da98d0 = _DAT_00da98d0 + 1;
  ExceptionList = local_c;
  return puVar1 + 1;
}



============================================================
DISASSEMBLY
============================================================
00457a20 : PUSH -0x1
00457a22 : PUSH 0xb71567
00457a27 : MOV EAX,FS:[0x0]
00457a2d : PUSH EAX
00457a2e : SUB ESP,0x8
00457a31 : PUSH EBX
00457a32 : PUSH EBP
00457a33 : PUSH ESI
00457a34 : PUSH EDI
00457a35 : MOV EAX,[0x00d66fa0]
00457a3a : XOR EAX,ESP
00457a3c : PUSH EAX
00457a3d : LEA EAX,[ESP + 0x1c]
00457a41 : MOV FS:[0x0],EAX
00457a47 : MOV EBX,dword ptr [ESP + 0x2c]
00457a4b : MOV ECX,dword ptr [0x00da98c8]
00457a51 : MOV EBP,EBX
00457a53 : SHL EBP,0x6
00457a56 : ADD EBP,0x4
00457a59 : XOR ESI,ESI
00457a5b : PUSH EBP
00457a5c : CMP ECX,ESI
00457a5e : JZ 0x00457a69
00457a60 : MOV EAX,dword ptr [ECX]
00457a62 : MOV EDX,dword ptr [EAX + 0x4]
00457a65 : CALL EDX
00457a67 : JMP 0x00457a71
00457a69 : CALL 0x00636043
00457a6e : ADD ESP,0x4
00457a71 : CMP EAX,ESI
00457a73 : JZ 0x00457b08
00457a79 : XOR EDX,EDX
00457a7b : LEA EDI,[EAX + 0x4]
00457a7e : MOV dword ptr [EAX],EBX
00457a80 : MOV dword ptr [ESP + 0x14],EDI
00457a84 : MOV dword ptr [ESP + 0x2c],EDX
00457a88 : CMP EBX,ESI
00457a8a : JBE 0x00457ae6
00457a8c : MOVSS XMM0,dword ptr [0x00c10fc4]
00457a94 : OR EAX,0xffffffff
00457a97 : MOV ECX,EDX
00457a99 : SHL ECX,0x6
00457a9c : ADD ECX,EDI
00457a9e : MOV dword ptr [ESP + 0x18],ECX
00457aa2 : MOV dword ptr [ESP + 0x24],ESI
00457aa6 : JZ 0x00457ad9
00457aa8 : MOV dword ptr [ECX],ESI
00457aaa : MOV dword ptr [ECX + 0x4],ESI
00457aad : MOV dword ptr [ECX + 0x8],ESI
00457ab0 : MOV dword ptr [ECX + 0xc],ESI
00457ab3 : MOV dword ptr [ECX + 0x10],ESI
00457ab6 : MOV dword ptr [ECX + 0x14],ESI
00457ab9 : MOV dword ptr [ECX + 0x18],ESI
00457abc : MOV dword ptr [ECX + 0x1c],ESI
00457abf : MOV dword ptr [ECX + 0x20],ESI
00457ac2 : MOV dword ptr [ECX + 0x24],ESI
00457ac5 : MOV dword ptr [ECX + 0x28],ESI
00457ac8 : MOV dword ptr [ECX + 0x2c],ESI
00457acb : MOV dword ptr [ECX + 0x30],ESI
00457ace : MOVSS dword ptr [ECX + 0x34],XMM0
00457ad3 : MOV dword ptr [ECX + 0x38],ESI
00457ad6 : MOV dword ptr [ECX + 0x3c],ESI
00457ad9 : MOV dword ptr [ESP + 0x24],EAX
00457add : INC EDX
00457ade : MOV dword ptr [ESP + 0x2c],EDX
00457ae2 : CMP EDX,EBX
00457ae4 : JC 0x00457a97
00457ae6 : ADD dword ptr [0x00da98cc],EBP
00457aec : INC dword ptr [0x00da98d0]
00457af2 : MOV EAX,EDI
00457af4 : MOV ECX,dword ptr [ESP + 0x1c]
00457af8 : MOV dword ptr FS:[0x0],ECX
00457aff : POP ECX
00457b00 : POP EDI
00457b01 : POP ESI
00457b02 : POP EBP
00457b03 : POP EBX
00457b04 : ADD ESP,0x14
00457b07 : RET
00457b08 : XOR EAX,EAX
00457b0a : MOV ECX,dword ptr [ESP + 0x1c]
00457b0e : MOV dword ptr FS:[0x0],ECX
00457b15 : POP ECX
00457b16 : POP EDI
00457b17 : POP ESI
00457b18 : POP EBP
00457b19 : POP EBX
00457b1a : ADD ESP,0x14
00457b1d : RET
