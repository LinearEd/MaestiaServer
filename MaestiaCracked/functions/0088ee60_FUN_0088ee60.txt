PROGRAM  : Maestia.exe
FUNCTION : FUN_0088ee60
ENTRY    : 0088ee60
BODY     : [[0088ee60, 0088f01b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0088ee60(float *param_1)

{
  float *pfVar1;
  int *piVar2;
  int iVar3;
  char cVar4;
  short sVar5;
  int iVar6;
  int *in_ECX;
  bool bVar7;
  float10 fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  
  fVar9 = param_1[2];
  fVar10 = *(float *)(in_ECX[0xfa] + 0x70);
  pfVar1 = (float *)(in_ECX + 0x11d);
  *pfVar1 = *param_1 - *(float *)(in_ECX[0xfa] + 0x68);
  in_ECX[0x11e] = (int)(fVar9 - fVar10);
  D3DXVec2Normalize(pfVar1,pfVar1);
  iVar6 = *(int *)(in_ECX[0x4e] + 4);
  piVar2 = in_ECX + 0x456;
  sVar5 = FUN_0043d970();
  if (sVar5 == 1000) {
    bVar7 = *(int **)((int)in_ECX + iVar6 + 0x13c) == piVar2;
  }
  else if (sVar5 == 2000) {
    bVar7 = *(int **)((int)in_ECX + iVar6 + 0x140) == piVar2;
  }
  else {
    bVar7 = *(int **)((int)in_ECX + iVar6 + 0x144) == piVar2;
  }
  if (!bVar7) {
    piVar2 = in_ECX + 0x48e;
    sVar5 = FUN_0043d970();
    if (sVar5 == 1000) {
      bVar7 = *(int **)((int)in_ECX + iVar6 + 0x13c) == piVar2;
    }
    else if (sVar5 == 2000) {
      bVar7 = *(int **)((int)in_ECX + iVar6 + 0x140) == piVar2;
    }
    else {
      bVar7 = *(int **)((int)in_ECX + iVar6 + 0x144) == piVar2;
    }
    if (!bVar7) {
      cVar4 = FUN_00876040();
      if (cVar4 != '\0') {
        (**(code **)(*in_ECX + 0x38))();
        return;
      }
      sVar5 = (**(code **)(*in_ECX + 0x1e4))();
      if (sVar5 != 0) {
        iVar6 = _rand();
        if ((3 < iVar6 % 10) && (*(int *)(DAT_0172491c + 0x17c) != 0)) {
          iVar6 = *(int *)(*(int *)(DAT_0172491c + 0x17c) + 1000);
          iVar3 = in_ECX[0xfa];
          fVar11 = *(float *)(iVar6 + 0x70) - *(float *)(iVar3 + 0x70);
          fVar9 = *(float *)(iVar6 + 0x68) - *(float *)(iVar3 + 0x68);
          fVar10 = *(float *)(iVar6 + 0x6c) - *(float *)(iVar3 + 0x6c);
          fVar8 = (float10)FUN_0040f460(fVar11 * fVar11 + fVar9 * fVar9 + fVar10 * fVar10);
          if (fVar8 < (float10)150.0) {
            FUN_0088e570(0x18);
          }
        }
      }
      (**(code **)(*(int *)(*(int *)(in_ECX[0x4e] + 4) + 0x138 + (int)in_ECX) + 0x10))
                (in_ECX + 0x1ee,0,1,0);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0088ee60 : PUSH EBP
0088ee61 : MOV EBP,ESP
0088ee63 : PUSH EBX
0088ee64 : MOV EBX,ECX
0088ee66 : MOV EAX,dword ptr [EBX + 0x3e8]
0088ee6c : MOV ECX,dword ptr [EBP + 0x8]
0088ee6f : MOVSS XMM0,dword ptr [ECX]
0088ee73 : MOVSS XMM1,dword ptr [ECX + 0x8]
0088ee78 : SUBSS XMM0,dword ptr [EAX + 0x68]
0088ee7d : SUBSS XMM1,dword ptr [EAX + 0x70]
0088ee82 : ADD EAX,0x68
0088ee85 : PUSH ESI
0088ee86 : LEA EAX,[EBX + 0x474]
0088ee8c : PUSH EDI
0088ee8d : PUSH EAX
0088ee8e : PUSH EAX
0088ee8f : MOVSS dword ptr [EAX],XMM0
0088ee93 : MOVSS dword ptr [EBX + 0x478],XMM1
0088ee9b : CALL 0x004ff71c
0088eea0 : MOV EAX,dword ptr [EBX + 0x138]
0088eea6 : MOV ECX,dword ptr [EAX + 0x4]
0088eea9 : MOV AX,word ptr [EBX + 0x1182]
0088eeb0 : LEA ESI,[EBX + 0x1158]
0088eeb6 : LEA EDI,[ECX + EBX*0x1 + 0x138]
0088eebd : CALL 0x0043d970
0088eec2 : MOV EDX,0x3e8
0088eec7 : CMP AX,DX
0088eeca : JNZ 0x0088eed1
0088eecc : CMP dword ptr [EDI + 0x4],ESI
0088eecf : JMP 0x0088eee3
0088eed1 : MOV ECX,0x7d0
0088eed6 : CMP AX,CX
0088eed9 : JNZ 0x0088eee0
0088eedb : CMP dword ptr [EDI + 0x8],ESI
0088eede : JMP 0x0088eee3
0088eee0 : CMP dword ptr [EDI + 0xc],ESI
0088eee3 : SETZ AL
0088eee6 : TEST AL,AL
0088eee8 : JNZ 0x0088f015
0088eeee : MOV AX,word ptr [EBX + 0x1262]
0088eef5 : LEA ESI,[EBX + 0x1238]
0088eefb : CALL 0x0043d970
0088ef00 : MOV EDX,0x3e8
0088ef05 : CMP AX,DX
0088ef08 : JNZ 0x0088ef0f
0088ef0a : CMP dword ptr [EDI + 0x4],ESI
0088ef0d : JMP 0x0088ef21
0088ef0f : MOV ECX,0x7d0
0088ef14 : CMP AX,CX
0088ef17 : JNZ 0x0088ef1e
0088ef19 : CMP dword ptr [EDI + 0x8],ESI
0088ef1c : JMP 0x0088ef21
0088ef1e : CMP dword ptr [EDI + 0xc],ESI
0088ef21 : SETZ AL
0088ef24 : TEST AL,AL
0088ef26 : JNZ 0x0088f015
0088ef2c : LEA ESI,[EBX + 0x7b8]
0088ef32 : CALL 0x00876040
0088ef37 : MOV EDX,dword ptr [EBX]
0088ef39 : MOV ECX,EBX
0088ef3b : TEST AL,AL
0088ef3d : JZ 0x0088ef4b
0088ef3f : MOV EAX,dword ptr [EDX + 0x38]
0088ef42 : CALL EAX
0088ef44 : POP EDI
0088ef45 : POP ESI
0088ef46 : POP EBX
0088ef47 : POP EBP
0088ef48 : RET 0x4
0088ef4b : MOV EAX,dword ptr [EDX + 0x1e4]
0088ef51 : CALL EAX
0088ef53 : TEST AX,AX
0088ef56 : JZ 0x0088eff2
0088ef5c : CALL 0x00635d2f
0088ef61 : CDQ
0088ef62 : MOV ECX,0xa
0088ef67 : IDIV ECX
0088ef69 : CMP EDX,0x3
0088ef6c : JLE 0x0088eff2
0088ef72 : MOV EDX,dword ptr [0x0172491c]
0088ef78 : MOV ECX,dword ptr [EDX + 0x17c]
0088ef7e : TEST ECX,ECX
0088ef80 : JZ 0x0088eff2
0088ef82 : MOV ECX,dword ptr [ECX + 0x3e8]
0088ef88 : MOV EAX,dword ptr [EBX + 0x3e8]
0088ef8e : MOVSS XMM2,dword ptr [ECX + 0x70]
0088ef93 : SUBSS XMM2,dword ptr [EAX + 0x70]
0088ef98 : MOVSS XMM0,dword ptr [ECX + 0x68]
0088ef9d : SUBSS XMM0,dword ptr [EAX + 0x68]
0088efa2 : MOVSS XMM1,dword ptr [ECX + 0x6c]
0088efa7 : SUBSS XMM1,dword ptr [EAX + 0x6c]
0088efac : ADD ECX,0x68
0088efaf : ADD EAX,0x68
0088efb2 : MOVAPS XMM3,XMM2
0088efb5 : MULSS XMM3,XMM2
0088efb9 : MOVAPS XMM2,XMM0
0088efbc : MULSS XMM2,XMM0
0088efc0 : MOVAPS XMM0,XMM1
0088efc3 : ADDSS XMM3,XMM2
0088efc7 : MULSS XMM0,XMM1
0088efcb : PUSH ECX
0088efcc : ADDSS XMM3,XMM0
0088efd0 : MOVSS dword ptr [ESP],XMM3
0088efd5 : CALL 0x0040f460
0088efda : FLD float ptr [0x00cdf22c]
0088efe0 : ADD ESP,0x4
0088efe3 : FCOMIP ST0,ST1
0088efe5 : FSTP ST0
0088efe7 : JBE 0x0088eff2
0088efe9 : PUSH 0x18
0088efeb : MOV ECX,EBX
0088efed : CALL 0x0088e570
0088eff2 : MOV EAX,dword ptr [EBX + 0x138]
0088eff8 : MOV ECX,dword ptr [EAX + 0x4]
0088effb : MOV EDX,dword ptr [ECX + EBX*0x1 + 0x138]
0088f002 : MOV EAX,dword ptr [EDX + 0x10]
0088f005 : PUSH 0x0
0088f007 : PUSH 0x1
0088f009 : LEA ECX,[ECX + EBX*0x1 + 0x138]
0088f010 : PUSH 0x0
0088f012 : PUSH ESI
0088f013 : CALL EAX
0088f015 : POP EDI
0088f016 : POP ESI
0088f017 : POP EBX
0088f018 : POP EBP
0088f019 : RET 0x4
