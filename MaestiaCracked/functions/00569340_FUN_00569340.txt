PROGRAM  : Maestia.exe
FUNCTION : FUN_00569340
ENTRY    : 00569340
BODY     : [[00569340, 005693a1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00569340(void)

{
  int *piVar1;
  undefined4 *in_ECX;
  
  piVar1 = (int *)(in_ECX[0x18] + 8);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    FUN_00525340();
  }
  FUN_005684a0();
  FUN_00515cf0(in_ECX[0xf]);
  if ((GRefCountNTSImpl *)in_ECX[0xe] != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release((GRefCountNTSImpl *)in_ECX[0xe]);
  }
  piVar1 = (int *)in_ECX[0xd];
  if ((piVar1 != (int *)0x0) && (*piVar1 = *piVar1 + -1, *piVar1 < 1)) {
    FUN_0051d070();
    FUN_00515cf0(piVar1);
  }
  *in_ECX = &PTR_LAB_00b8cdc8;
  in_ECX[4] = &PTR_LAB_00b8cea0;
  FUN_00552060();
  return;
}



============================================================
DISASSEMBLY
============================================================
00569340 : PUSH ESI
00569341 : PUSH EDI
00569342 : MOV EDI,ECX
00569344 : MOV ECX,dword ptr [EDI + 0x60]
00569347 : ADD dword ptr [ECX + 0x8],-0x1
0056934b : LEA ESI,[EDI + 0x50]
0056934e : JNZ 0x00569355
00569350 : CALL 0x00525340
00569355 : MOV ECX,ESI
00569357 : CALL 0x005684a0
0056935c : MOV EAX,dword ptr [EDI + 0x3c]
0056935f : PUSH EAX
00569360 : CALL 0x00515cf0
00569365 : MOV ECX,dword ptr [EDI + 0x38]
00569368 : TEST ECX,ECX
0056936a : JZ 0x00569371
0056936c : CALL 0x004ff7c0
00569371 : MOV ESI,dword ptr [EDI + 0x34]
00569374 : TEST ESI,ESI
00569376 : JZ 0x0056938c
00569378 : DEC dword ptr [ESI]
0056937a : CMP dword ptr [ESI],0x0
0056937d : JG 0x0056938c
0056937f : MOV ECX,ESI
00569381 : CALL 0x0051d070
00569386 : PUSH ESI
00569387 : CALL 0x00515cf0
0056938c : MOV dword ptr [EDI],0xb8cdc8
00569392 : MOV dword ptr [EDI + 0x10],0xb8cea0
00569399 : MOV ECX,EDI
0056939b : POP EDI
0056939c : POP ESI
0056939d : JMP 0x00552060
