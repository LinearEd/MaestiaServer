PROGRAM  : Maestia.exe
FUNCTION : FUN_00a18320
ENTRY    : 00a18320
BODY     : [[00a18320, 00a184cc]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a18320(int param_1,int param_2)

{
  int iVar1;
  int in_ECX;
  float fVar2;
  float fVar3;
  undefined4 uVar4;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  
  iVar1 = *(int *)(in_ECX + 0x74);
  *(undefined1 *)(in_ECX + 0x21d) = 1;
  fVar3 = (float)param_2 * *(float *)(in_ECX + 0x1f8) * 0.00012;
  if ((*(char *)(iVar1 + 0x1e8) == '\0') && (*(char *)(iVar1 + 0x210) == '\0')) {
    fVar2 = *(float *)(iVar1 + 0x1f0) - (float)param_1 * *(float *)(in_ECX + 0x1f8) * 0.00012;
    *(float *)(iVar1 + 0x1f0) = fVar2;
    if (6.2831855 < fVar2) {
      *(float *)(iVar1 + 0x1f0) = fVar2 - 6.2831855;
    }
    if (*(float *)(iVar1 + 0x1f0) < -6.2831855) {
      *(float *)(iVar1 + 0x1f0) = *(float *)(iVar1 + 0x1f0) + 6.2831855;
    }
    *(undefined1 *)(iVar1 + 0x154) = 1;
  }
  *(undefined1 *)(in_ECX + 0x520) = 0;
  if ((*(char *)(in_ECX + 0x228) == '\0') || (0.0 < fVar3)) {
    if (fVar3 < -0.8) {
      fVar3 = -0.8;
    }
    iVar1 = *(int *)(in_ECX + 0x74);
    if ((*(char *)(iVar1 + 0x1e8) == '\0') && (*(char *)(iVar1 + 0x210) == '\0')) {
      fVar3 = *(float *)(iVar1 + 0x1ec) + fVar3;
      uVar4 = 0xbfaca55c;
      *(float *)(iVar1 + 0x1ec) = fVar3;
      if ((fVar3 < -1.3487964) || (uVar4 = 0x3faca55c, 1.3487964 < fVar3)) {
        *(undefined4 *)(iVar1 + 0x1ec) = uVar4;
      }
      *(undefined1 *)(iVar1 + 0x154) = 1;
    }
  }
  iVar1 = *(int *)(in_ECX + 0x59c);
  if (iVar1 == 0) {
    iVar1 = *(int *)(in_ECX + 0xac);
  }
  iVar1 = *(int *)(iVar1 + 1000);
  local_10 = *(undefined4 *)(iVar1 + 0x68);
  local_c = *(undefined4 *)(iVar1 + 0x6c);
  local_8 = *(undefined4 *)(iVar1 + 0x70);
  (**(code **)(**(int **)(DAT_00da93ec + 0x74) + 8))(&local_1c);
  iVar1 = DAT_01725208;
  *(undefined4 *)(DAT_01725208 + 0x24) = local_10;
  *(undefined4 *)(iVar1 + 0x28) = local_c;
  *(undefined4 *)(iVar1 + 0x2c) = local_8;
  *(undefined4 *)(iVar1 + 0x30) = local_1c;
  *(undefined4 *)(iVar1 + 0x34) = local_18;
  *(undefined4 *)(iVar1 + 0x38) = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a18320 : PUSH EBP
00a18321 : MOV EBP,ESP
00a18323 : MOV EAX,dword ptr [ECX + 0x74]
00a18326 : MOVSS XMM0,dword ptr [ECX + 0x1f8]
00a1832e : CVTSI2SS XMM1,dword ptr [EBP + 0xc]
00a18333 : MOVSS XMM2,dword ptr [0x00cdf368]
00a1833b : MOV DL,0x1
00a1833d : SUB ESP,0x18
00a18340 : MOV byte ptr [ECX + 0x21d],DL
00a18346 : CMP byte ptr [EAX + 0x1e8],0x0
00a1834d : MULSS XMM1,XMM0
00a18351 : MULSS XMM1,XMM2
00a18355 : JNZ 0x00a183c1
00a18357 : CMP byte ptr [EAX + 0x210],0x0
00a1835e : JNZ 0x00a183c1
00a18360 : CVTSI2SS XMM3,dword ptr [EBP + 0x8]
00a18365 : MULSS XMM3,XMM0
00a18369 : MOVSS XMM0,dword ptr [EAX + 0x1f0]
00a18371 : MULSS XMM3,XMM2
00a18375 : MOVSS XMM2,dword ptr [0x00c1884c]
00a1837d : SUBSS XMM0,XMM3
00a18381 : COMISS XMM0,XMM2
00a18384 : MOVSS dword ptr [EAX + 0x1f0],XMM0
00a1838c : JBE 0x00a1839a
00a1838e : SUBSS XMM0,XMM2
00a18392 : MOVSS dword ptr [EAX + 0x1f0],XMM0
00a1839a : MOVSS XMM0,dword ptr [EAX + 0x1f0]
00a183a2 : MOVSS XMM3,dword ptr [0x00cdf1f0]
00a183aa : COMISS XMM3,XMM0
00a183ad : JBE 0x00a183bb
00a183af : ADDSS XMM0,XMM2
00a183b3 : MOVSS dword ptr [EAX + 0x1f0],XMM0
00a183bb : MOV byte ptr [EAX + 0x154],DL
00a183c1 : CMP byte ptr [ECX + 0x228],0x0
00a183c8 : MOV byte ptr [ECX + 0x520],0x0
00a183cf : JZ 0x00a183da
00a183d1 : COMISS XMM1,dword ptr [0x00b9b0b4]
00a183d8 : JBE 0x00a1843b
00a183da : MOVSS XMM0,dword ptr [0x00cdf364]
00a183e2 : COMISS XMM0,XMM1
00a183e5 : JBE 0x00a183ea
00a183e7 : MOVAPS XMM1,XMM0
00a183ea : MOV EAX,dword ptr [ECX + 0x74]
00a183ed : CMP byte ptr [EAX + 0x1e8],0x0
00a183f4 : JNZ 0x00a1843b
00a183f6 : CMP byte ptr [EAX + 0x210],0x0
00a183fd : JNZ 0x00a1843b
00a183ff : MOVSS XMM0,dword ptr [EAX + 0x1ec]
00a18407 : ADDSS XMM0,XMM1
00a1840b : MOVSS XMM1,dword ptr [0x00cdf1ec]
00a18413 : COMISS XMM1,XMM0
00a18416 : MOVSS dword ptr [EAX + 0x1ec],XMM0
00a1841e : JA 0x00a1842d
00a18420 : MOVSS XMM1,dword ptr [0x00cdf1e8]
00a18428 : COMISS XMM0,XMM1
00a1842b : JBE 0x00a18435
00a1842d : MOVSS dword ptr [EAX + 0x1ec],XMM1
00a18435 : MOV byte ptr [EAX + 0x154],DL
00a1843b : MOV EAX,dword ptr [ECX + 0x59c]
00a18441 : TEST EAX,EAX
00a18443 : JNZ 0x00a1844b
00a18445 : MOV EAX,dword ptr [ECX + 0xac]
00a1844b : MOV EAX,dword ptr [EAX + 0x3e8]
00a18451 : MOVSS XMM0,dword ptr [EAX + 0x68]
00a18456 : MOV ECX,dword ptr [0x00da93ec]
00a1845c : MOV ECX,dword ptr [ECX + 0x74]
00a1845f : MOV EDX,dword ptr [ECX]
00a18461 : MOV EDX,dword ptr [EDX + 0x8]
00a18464 : ADD EAX,0x68
00a18467 : MOVSS dword ptr [EBP + -0xc],XMM0
00a1846c : MOVSS XMM0,dword ptr [EAX + 0x4]
00a18471 : MOVSS dword ptr [EBP + -0x8],XMM0
00a18476 : MOVSS XMM0,dword ptr [EAX + 0x8]
00a1847b : LEA EAX,[EBP + -0x18]
00a1847e : PUSH EAX
00a1847f : MOVSS dword ptr [EBP + -0x4],XMM0
00a18484 : CALL EDX
00a18486 : MOV EAX,[0x01725208]
00a1848b : MOVSS XMM0,dword ptr [EBP + -0xc]
00a18490 : MOVSS dword ptr [EAX + 0x24],XMM0
00a18495 : MOVSS XMM0,dword ptr [EBP + -0x8]
00a1849a : MOVSS dword ptr [EAX + 0x28],XMM0
00a1849f : MOVSS XMM0,dword ptr [EBP + -0x4]
00a184a4 : MOVSS dword ptr [EAX + 0x2c],XMM0
00a184a9 : MOVSS XMM0,dword ptr [EBP + -0x18]
00a184ae : MOVSS dword ptr [EAX + 0x30],XMM0
00a184b3 : MOVSS XMM0,dword ptr [EBP + -0x14]
00a184b8 : MOVSS dword ptr [EAX + 0x34],XMM0
00a184bd : MOVSS XMM0,dword ptr [EBP + -0x10]
00a184c2 : MOVSS dword ptr [EAX + 0x38],XMM0
00a184c7 : MOV ESP,EBP
00a184c9 : POP EBP
00a184ca : RET 0x8
