PROGRAM  : Maestia.exe
FUNCTION : FUN_009da0b0
ENTRY    : 009da0b0
BODY     : [[009da0b0, 009da2d2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009da0b0(int param_1,undefined4 param_2)

{
  wchar_t wVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  wchar_t *pwVar5;
  int *in_ECX;
  wchar_t *pwVar6;
  wchar_t *pwVar7;
  bool bVar8;
  undefined1 local_60 [4];
  int local_5c;
  undefined1 local_50 [4];
  undefined2 local_4c;
  undefined4 local_3c;
  uint local_38;
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b42328;
  local_14 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xffffff90;
  ExceptionList = &local_14;
  local_38 = 7;
  local_3c = 0;
  local_4c = 0;
  FUN_00406360(&DAT_00c97670,1);
  local_c = 0;
  uVar3 = FUN_00403dd0(param_2,uVar2);
  local_c._0_1_ = 1;
  FUN_0070cd60(local_60,uVar3,local_50,0);
  local_c = CONCAT31(local_c._1_3_,3);
  if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_1c = 7;
  local_20 = 0;
  local_30 = 0;
  local_c = CONCAT31(local_c._1_3_,4);
  if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_38 = 7;
  local_3c = 0;
  local_4c = 0;
  if (*DAT_00da9894 == 0) {
    local_c = 0xffffffff;
    if (local_5c == 0) {
      ExceptionList = local_14;
      return;
    }
    FUN_00405450(in_ECX);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if (*(int *)(*DAT_00da9894 + 0x114) != 0) {
    pwVar5 = (wchar_t *)(param_1 + 4);
    pwVar7 = pwVar5;
    if (7 < *(uint *)(param_1 + 0x18)) {
      pwVar7 = *(wchar_t **)pwVar5;
    }
    pwVar6 = L"onOpen";
    do {
      wVar1 = *pwVar7;
      bVar8 = (ushort)wVar1 < (ushort)*pwVar6;
      if (wVar1 != *pwVar6) {
LAB_009da21e:
        iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
        goto LAB_009da223;
      }
      if (wVar1 == L'\0') break;
      wVar1 = pwVar7[1];
      bVar8 = (ushort)wVar1 < (ushort)pwVar6[1];
      if (wVar1 != pwVar6[1]) goto LAB_009da21e;
      pwVar7 = pwVar7 + 2;
      pwVar6 = pwVar6 + 2;
    } while (wVar1 != L'\0');
    iVar4 = 0;
LAB_009da223:
    if (iVar4 == 0) {
      (**(code **)(*in_ECX + 0x18))(0,300);
      if (*(int *)(*DAT_00da9894 + 0x16c) != 0) {
        FUN_00a0d390(DAT_017247d4,1);
      }
    }
    else {
      if (7 < *(uint *)(param_1 + 0x18)) {
        pwVar5 = *(wchar_t **)pwVar5;
      }
      pwVar7 = L"onClose";
      do {
        wVar1 = *pwVar5;
        bVar8 = (ushort)wVar1 < (ushort)*pwVar7;
        if (wVar1 != *pwVar7) {
LAB_009da299:
          iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
          goto LAB_009da29e;
        }
        if (wVar1 == L'\0') break;
        wVar1 = pwVar5[1];
        bVar8 = (ushort)wVar1 < (ushort)pwVar7[1];
        if (wVar1 != pwVar7[1]) goto LAB_009da299;
        pwVar5 = pwVar5 + 2;
        pwVar7 = pwVar7 + 2;
      } while (wVar1 != L'\0');
      iVar4 = 0;
LAB_009da29e:
      if (iVar4 == 0) {
        (**(code **)(*in_ECX + 0x20))();
      }
    }
  }
  local_c = 0xffffffff;
  FUN_004042c0();
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
009da0b0 : PUSH EBP
009da0b1 : MOV EBP,ESP
009da0b3 : AND ESP,0xfffffff8
009da0b6 : PUSH -0x1
009da0b8 : PUSH 0xb42328
009da0bd : MOV EAX,FS:[0x0]
009da0c3 : PUSH EAX
009da0c4 : SUB ESP,0x50
009da0c7 : PUSH EBX
009da0c8 : PUSH ESI
009da0c9 : PUSH EDI
009da0ca : MOV EAX,[0x00d66fa0]
009da0cf : XOR EAX,ESP
009da0d1 : PUSH EAX
009da0d2 : LEA EAX,[ESP + 0x60]
009da0d6 : MOV FS:[0x0],EAX
009da0dc : MOV dword ptr [ESP + 0x10],ECX
009da0e0 : PUSH 0x1
009da0e2 : XOR EAX,EAX
009da0e4 : MOV EDI,0x7
009da0e9 : XOR EBX,EBX
009da0eb : PUSH 0xc97670
009da0f0 : LEA ECX,[ESP + 0x2c]
009da0f4 : MOV dword ptr [ESP + 0x44],EDI
009da0f8 : MOV dword ptr [ESP + 0x40],EBX
009da0fc : MOV word ptr [ESP + 0x30],AX
009da101 : CALL 0x00406360
009da106 : MOV dword ptr [ESP + 0x68],EBX
009da10a : MOV ECX,dword ptr [EBP + 0xc]
009da10d : PUSH ECX
009da10e : LEA ESI,[ESP + 0x44]
009da112 : CALL 0x00403dd0
009da117 : ADD ESP,0x4
009da11a : MOV byte ptr [ESP + 0x68],0x1
009da11f : PUSH EBX
009da120 : LEA EDX,[ESP + 0x28]
009da124 : PUSH EDX
009da125 : PUSH EAX
009da126 : LEA EAX,[ESP + 0x20]
009da12a : PUSH EAX
009da12b : CALL 0x0070cd60
009da130 : ADD ESP,0x10
009da133 : MOV byte ptr [ESP + 0x68],0x3
009da138 : MOV ESI,0x8
009da13d : CMP dword ptr [ESP + 0x58],ESI
009da141 : JC 0x009da14c
009da143 : MOV ECX,dword ptr [ESP + 0x44]
009da147 : CALL 0x006f04e0
009da14c : XOR ECX,ECX
009da14e : MOV dword ptr [ESP + 0x58],EDI
009da152 : MOV dword ptr [ESP + 0x54],EBX
009da156 : MOV word ptr [ESP + 0x44],CX
009da15b : MOV byte ptr [ESP + 0x68],0x4
009da160 : CMP dword ptr [ESP + 0x3c],ESI
009da164 : JC 0x009da16f
009da166 : MOV ECX,dword ptr [ESP + 0x28]
009da16a : CALL 0x006f04e0
009da16f : MOV EAX,[0x00da9894]
009da174 : XOR EDX,EDX
009da176 : MOV dword ptr [ESP + 0x3c],EDI
009da17a : MOV dword ptr [ESP + 0x38],EBX
009da17e : MOV word ptr [ESP + 0x28],DX
009da183 : MOV EAX,dword ptr [EAX]
009da185 : CMP EAX,EBX
009da187 : JNZ 0x009da1d4
009da189 : MOV dword ptr [ESP + 0x68],0xffffffff
009da191 : MOV EAX,dword ptr [ESP + 0x18]
009da195 : CMP EAX,EBX
009da197 : JZ 0x009da1b3
009da199 : MOV ECX,dword ptr [ESP + 0x10]
009da19d : MOV EDI,dword ptr [ESP + 0x1c]
009da1a1 : PUSH ECX
009da1a2 : CALL 0x00405450
009da1a7 : MOV ECX,dword ptr [ESP + 0x1c]
009da1ab : ADD ESP,0x4
009da1ae : CALL 0x006f04e0
009da1b3 : MOV dword ptr [ESP + 0x18],EBX
009da1b7 : MOV dword ptr [ESP + 0x1c],EBX
009da1bb : MOV dword ptr [ESP + 0x20],EBX
009da1bf : MOV ECX,dword ptr [ESP + 0x60]
009da1c3 : MOV dword ptr FS:[0x0],ECX
009da1ca : POP ECX
009da1cb : POP EDI
009da1cc : POP ESI
009da1cd : POP EBX
009da1ce : MOV ESP,EBP
009da1d0 : POP EBP
009da1d1 : RET 0x8
009da1d4 : CMP dword ptr [EAX + 0x114],EBX
009da1da : JZ 0x009da2ad
009da1e0 : MOV EAX,dword ptr [EBP + 0x8]
009da1e3 : MOV EDI,dword ptr [EAX + 0x18]
009da1e6 : CMP EDI,ESI
009da1e8 : LEA ESI,[EAX + 0x4]
009da1eb : JC 0x009da1f1
009da1ed : MOV EAX,dword ptr [ESI]
009da1ef : JMP 0x009da1f3
009da1f1 : MOV EAX,ESI
009da1f3 : MOV ECX,0xc97674
009da1f8 : MOV DX,word ptr [EAX]
009da1fb : CMP DX,word ptr [ECX]
009da1fe : JNZ 0x009da21e
009da200 : CMP DX,BX
009da203 : JZ 0x009da21a
009da205 : MOV DX,word ptr [EAX + 0x2]
009da209 : CMP DX,word ptr [ECX + 0x2]
009da20d : JNZ 0x009da21e
009da20f : ADD EAX,0x4
009da212 : ADD ECX,0x4
009da215 : CMP DX,BX
009da218 : JNZ 0x009da1f8
009da21a : XOR EAX,EAX
009da21c : JMP 0x009da223
009da21e : SBB EAX,EAX
009da220 : SBB EAX,-0x1
009da223 : CMP EAX,EBX
009da225 : JNZ 0x009da263
009da227 : MOV ECX,dword ptr [ESP + 0x10]
009da22b : MOV EDX,dword ptr [ECX]
009da22d : MOV EAX,dword ptr [EDX + 0x18]
009da230 : PUSH 0x12c
009da235 : PUSH EBX
009da236 : CALL EAX
009da238 : MOV ECX,dword ptr [0x00da9894]
009da23e : MOV EAX,dword ptr [ECX]
009da240 : CMP dword ptr [EAX + 0x16c],EBX
009da246 : JZ 0x009da2ad
009da248 : MOV EAX,dword ptr [EAX + 0x16c]
009da24e : MOV EAX,dword ptr [EAX + 0x7c]
009da251 : MOV EDX,dword ptr [0x017247d4]
009da257 : PUSH 0x1
009da259 : PUSH EDX
009da25a : MOV ECX,EAX
009da25c : CALL 0x00a0d390
009da261 : JMP 0x009da2ad
009da263 : CMP EDI,0x8
009da266 : JC 0x009da26c
009da268 : MOV EAX,dword ptr [ESI]
009da26a : JMP 0x009da26e
009da26c : MOV EAX,ESI
009da26e : MOV ECX,0xc97684
009da273 : MOV DX,word ptr [EAX]
009da276 : CMP DX,word ptr [ECX]
009da279 : JNZ 0x009da299
009da27b : CMP DX,BX
009da27e : JZ 0x009da295
009da280 : MOV DX,word ptr [EAX + 0x2]
009da284 : CMP DX,word ptr [ECX + 0x2]
009da288 : JNZ 0x009da299
009da28a : ADD EAX,0x4
009da28d : ADD ECX,0x4
009da290 : CMP DX,BX
009da293 : JNZ 0x009da273
009da295 : XOR EAX,EAX
009da297 : JMP 0x009da29e
009da299 : SBB EAX,EAX
009da29b : SBB EAX,-0x1
009da29e : CMP EAX,EBX
009da2a0 : JNZ 0x009da2ad
009da2a2 : MOV ECX,dword ptr [ESP + 0x10]
009da2a6 : MOV EAX,dword ptr [ECX]
009da2a8 : MOV EDX,dword ptr [EAX + 0x20]
009da2ab : CALL EDX
009da2ad : MOV dword ptr [ESP + 0x68],0xffffffff
009da2b5 : LEA ESI,[ESP + 0x14]
009da2b9 : CALL 0x004042c0
009da2be : MOV ECX,dword ptr [ESP + 0x60]
009da2c2 : MOV dword ptr FS:[0x0],ECX
009da2c9 : POP ECX
009da2ca : POP EDI
009da2cb : POP ESI
009da2cc : POP EBX
009da2cd : MOV ESP,EBP
009da2cf : POP EBP
009da2d0 : RET 0x8
