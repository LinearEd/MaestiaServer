PROGRAM  : Maestia.exe
FUNCTION : FUN_00a3fbb0
ENTRY    : 00a3fbb0
BODY     : [[00a3fbb0, 00a40165]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a3fbb0(void)

{
  bool bVar1;
  undefined1 uVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  int *piVar6;
  int iVar7;
  int in_ECX;
  int in_EDX;
  int iVar8;
  LPCRITICAL_SECTION lpCriticalSection;
  undefined1 local_94 [4];
  int local_90;
  undefined4 local_8c;
  undefined4 local_88;
  undefined4 local_84;
  LPCRITICAL_SECTION local_80;
  int local_7c;
  int local_78;
  undefined4 local_74;
  undefined4 local_70;
  int *local_6c;
  undefined1 local_68 [28];
  undefined1 local_4c [28];
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b68264;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (in_ECX == 0) {
    iVar4 = 0;
  }
  else {
    iVar4 = in_ECX + 0x18;
  }
  lpCriticalSection = (LPCRITICAL_SECTION)(iVar4 + 4);
  local_80 = lpCriticalSection;
  local_7c = in_ECX;
  local_78 = in_EDX;
  local_14 = uVar3;
  EnterCriticalSection(lpCriticalSection);
  local_8 = 0;
  local_90 = FUN_00a1a840(*(undefined4 *)(in_EDX + 4));
  if (local_90 == 0) {
    FUN_00406460(L"Find Failed Owner");
    local_8._0_1_ = 1;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                (L"AvaGameZone::ReceiveSummonPetAppear",0x2b6f,local_30);
    }
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
    goto LAB_00a40133;
  }
  iVar4 = FUN_00a1a780(*(undefined4 *)(in_EDX + 0xc));
  if (iVar4 != 0) {
    FUN_008018d0(L"[ERROR] already in Summonpet list");
    goto LAB_00a40133;
  }
  uVar3 = FUN_007b3fa0(uVar3);
  if (uVar3 < 300) {
    uVar5 = FUN_00404750(L"!!!!! Low VirtualMem !!!!!! Disable Appear Pet ");
    local_8._0_1_ = 2;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x10))(uVar5);
    }
    local_8 = (uint)local_8._1_3_ << 8;
    FUN_00406560();
    goto LAB_00a40133;
  }
  uVar3 = *(ushort *)(in_EDX + 0x14) | 0x5050000;
  iVar4 = FUN_004049b0(uVar3);
  if (iVar4 == 0) {
    FUN_00404750(L"Can\'t find pet data from gbd.. proto[%u]",uVar3);
    local_8._0_1_ = 3;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                (L"AvaGameZone::ReceiveSummonPetAppear",0x2b83,local_30);
    }
    local_8 = (uint)local_8._1_3_ << 8;
    FUN_00406560();
    goto LAB_00a40133;
  }
  local_6c = (int *)FUN_006f0760(0x180c,".\\Flow\\AvaGameZone.cpp",0x2b87,0);
  local_8._0_1_ = 4;
  if (local_6c == (int *)0x0) {
    piVar6 = (int *)0x0;
  }
  else {
    piVar6 = (int *)FUN_00840010(local_6c);
  }
  local_8._0_1_ = 0;
  uVar2 = (undefined1)local_8;
  local_8._0_1_ = 0;
  if (piVar6 == (int *)0x0) {
    FUN_00406460(L"Alloc failed");
    local_8._0_1_ = 5;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                (L"AvaGameZone::ReceiveSummonPetAppear",0x2b89,local_30);
    }
    local_8 = (uint)local_8._1_3_ << 8;
    FUN_00406560();
    lpCriticalSection = local_80;
    goto LAB_00a40133;
  }
  local_8._0_1_ = uVar2;
  FUN_00404750(&DAT_00cc3028,*(undefined4 *)(in_EDX + 0xc));
  local_8._0_1_ = 6;
  piVar6[1] = *(int *)(in_EDX + 0xc);
  piVar6[0x5b4] = *(int *)(in_EDX + 4);
  FUN_0088b500();
  FUN_00824a20(DAT_0172491c,0);
  local_8._0_1_ = 7;
  FUN_004044f0();
  local_8._0_1_ = 6;
  FUN_00406560();
  iVar8 = local_78;
  iVar4 = local_7c;
  *(undefined2 *)(piVar6 + 0x5c7) = *(undefined2 *)(local_78 + 0x16);
  *(undefined1 *)((int)piVar6 + 0x389) = 3;
  if ((*(int *)(local_7c + 0xac) != 0) && (*(char *)(*(int *)(local_7c + 0xac) + 0x1fe4) != '\0')) {
    *(undefined1 *)((int)piVar6 + 0x3ae) = 1;
  }
  local_74 = 0x3f800000;
  local_70 = 0x3f800000;
  local_6c = (int *)0x3f800000;
  local_24 = 0;
  local_20 = 0;
  local_1c = 0;
  local_18 = 0x3f800000;
  local_8c = 0;
  local_88 = 0;
  local_84 = 0;
  uVar5 = (**(code **)(**(int **)(local_7c + 0x168) + 0x20))(local_68,&local_8c,&local_24,&local_74)
  ;
  (**(code **)(*piVar6 + 0x1ec))(uVar5);
  *(undefined1 *)((int)piVar6 + 0x1725) = *(undefined1 *)(iVar8 + 0x74);
  piVar6[0x5c6] = *(int *)(iVar8 + 0x10);
  *(undefined1 *)(piVar6 + 0x10e) = 1;
  if (*(char *)(iVar4 + 0x178) != '\0') {
    FUN_00403510(local_4c);
    local_8._0_1_ = 8;
    local_8c = 0x3f800000;
    local_88 = 0x3f800000;
    local_84 = 0x3f800000;
    local_24 = 0;
    local_20 = 0;
    local_1c = 0;
    local_18 = 0x3f800000;
    local_74 = 0;
    local_70 = 0;
    local_6c = (int *)0x0;
    uVar5 = (**(code **)(**(int **)(iVar4 + 0x174) + 0x20))(local_4c,&local_74,&local_24,&local_8c);
    (**(code **)(*piVar6 + 0x1f0))(uVar5);
    local_8._0_1_ = 6;
    FUN_00406560();
  }
  (**(code **)(*piVar6 + 0x1e8))(1);
  (**(code **)(*piVar6 + 0x2a0))(*(int *)(local_90 + 1000) + 0x68,1);
  if (*(int *)(iVar8 + 0x1c) != 0) {
    iVar7 = FUN_004049b0(*(int *)(iVar8 + 0x1c));
    if (iVar7 != 0) {
      FUN_00404350(iVar7 + 400);
      local_8._0_1_ = 9;
      piVar6[0x5c4] = *(int *)(iVar8 + 0x1c);
      FUN_0083f060();
      local_8._0_1_ = 6;
      FUN_00406560();
      iVar4 = local_7c;
      iVar8 = local_78;
    }
  }
  if (DAT_017248cc != 0) {
    bVar1 = false;
    iVar7 = 0;
    if ((*(int *)(iVar4 + 0xac) != 0) &&
       (iVar7 = *(int *)(*(int *)(iVar4 + 0xac) + 4), iVar7 == piVar6[0x5b4])) {
      bVar1 = true;
    }
    if ((*(char *)(DAT_017248cc + 0x2d) != '\x01') || (bVar1)) {
      if (!bVar1) goto LAB_00a4007b;
      uVar3 = CONCAT31((int3)((uint)iVar7 >> 8),*(undefined1 *)(DAT_017248cc + 0xc));
    }
    else {
      (**(code **)(*piVar6 + 0x25c))(1);
LAB_00a4007b:
      uVar3 = (uint)*(byte *)(DAT_017248cc + 0xd);
    }
    (**(code **)(*piVar6 + 0x2d8))(uVar3);
  }
  local_70 = *(undefined4 *)(iVar8 + 0xc);
  local_6c = piVar6;
  FUN_00451e00(local_94,&local_70);
  local_70 = *(undefined4 *)(iVar8 + 4);
  local_6c = piVar6;
  FUN_00429740(local_94,&local_70);
  FUN_00a1b300(piVar6[0x5b4]);
  if ((((*DAT_00da9894 != 0) && (*(int *)(*DAT_00da9894 + 0x290) != 0)) &&
      (*(int *)(iVar4 + 0xac) != 0)) &&
     (*(int *)(*(int *)(iVar4 + 0xac) + 4) == *(int *)(iVar8 + 4))) {
    FUN_0094a190(*(undefined4 *)(iVar8 + 0xc),*(undefined2 *)(iVar8 + 0x16),
                 *(int *)(iVar8 + 0x18) == -1);
  }
  local_8 = (uint)local_8._1_3_ << 8;
  FUN_00406560();
  lpCriticalSection = local_80;
LAB_00a40133:
  local_8 = 0xffffffff;
  LeaveCriticalSection(lpCriticalSection);
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a3fbb0 : PUSH EBP
00a3fbb1 : MOV EBP,ESP
00a3fbb3 : PUSH -0x1
00a3fbb5 : PUSH 0xb68264
00a3fbba : MOV EAX,FS:[0x0]
00a3fbc0 : PUSH EAX
00a3fbc1 : SUB ESP,0x94
00a3fbc7 : MOV EAX,[0x00d66fa0]
00a3fbcc : XOR EAX,EBP
00a3fbce : MOV dword ptr [EBP + -0x10],EAX
00a3fbd1 : PUSH EBX
00a3fbd2 : PUSH ESI
00a3fbd3 : PUSH EDI
00a3fbd4 : PUSH EAX
00a3fbd5 : LEA EAX,[EBP + -0xc]
00a3fbd8 : MOV FS:[0x0],EAX
00a3fbde : MOV ESI,ECX
00a3fbe0 : MOV EDI,EDX
00a3fbe2 : MOV dword ptr [EBP + -0x78],ESI
00a3fbe5 : MOV dword ptr [EBP + -0x74],EDI
00a3fbe8 : TEST ESI,ESI
00a3fbea : JZ 0x00a3fbf1
00a3fbec : LEA EAX,[ESI + 0x18]
00a3fbef : JMP 0x00a3fbf3
00a3fbf1 : XOR EAX,EAX
00a3fbf3 : LEA EBX,[EAX + 0x4]
00a3fbf6 : PUSH EBX
00a3fbf7 : MOV dword ptr [EBP + 0xffffff64],EAX
00a3fbfd : MOV dword ptr [EBP + -0x7c],EBX
00a3fc00 : CALL dword ptr [0x00b85118]
00a3fc06 : MOV dword ptr [EBP + -0x4],0x0
00a3fc0d : MOV EAX,dword ptr [EDI + 0x4]
00a3fc10 : PUSH EAX
00a3fc11 : MOV ECX,ESI
00a3fc13 : CALL 0x00a1a840
00a3fc18 : MOV dword ptr [EBP + 0xffffff74],EAX
00a3fc1e : TEST EAX,EAX
00a3fc20 : JNZ 0x00a3fc87
00a3fc22 : PUSH 0xcc2dc0
00a3fc27 : LEA ECX,[EBP + -0x2c]
00a3fc2a : CALL 0x00406460
00a3fc2f : MOV byte ptr [EBP + -0x4],0x1
00a3fc33 : MOV ECX,dword ptr [0x00da98e8]
00a3fc39 : MOV ECX,dword ptr [ECX]
00a3fc3b : TEST ECX,ECX
00a3fc3d : JZ 0x00a3fc54
00a3fc3f : MOV EDX,dword ptr [ECX]
00a3fc41 : MOV EDX,dword ptr [EDX + 0x14]
00a3fc44 : LEA EAX,[EBP + -0x2c]
00a3fc47 : PUSH EAX
00a3fc48 : PUSH 0x2b6f
00a3fc4d : PUSH 0xcc2e00
00a3fc52 : CALL EDX
00a3fc54 : MOV byte ptr [EBP + -0x4],0x0
00a3fc58 : CMP dword ptr [EBP + -0x14],0x8
00a3fc5c : JC 0x00a3fc66
00a3fc5e : MOV ECX,dword ptr [EBP + -0x28]
00a3fc61 : CALL 0x006f04e0
00a3fc66 : XOR EAX,EAX
00a3fc68 : MOV dword ptr [EBP + -0x14],0x7
00a3fc6f : MOV dword ptr [EBP + -0x18],0x0
00a3fc76 : MOV word ptr [EBP + -0x28],AX
00a3fc7a : MOV dword ptr [EBP + -0x4],0xffffffff
00a3fc81 : PUSH EBX
00a3fc82 : JMP 0x00a40133
00a3fc87 : MOV ECX,dword ptr [EDI + 0xc]
00a3fc8a : PUSH ECX
00a3fc8b : MOV ECX,ESI
00a3fc8d : CALL 0x00a1a780
00a3fc92 : TEST EAX,EAX
00a3fc94 : JZ 0x00a3fcb6
00a3fc96 : MOV ESI,dword ptr [0x00da98e8]
00a3fc9c : PUSH 0xcc2e48
00a3fca1 : CALL 0x008018d0
00a3fca6 : ADD ESP,0x4
00a3fca9 : MOV dword ptr [EBP + -0x4],0xffffffff
00a3fcb0 : PUSH EBX
00a3fcb1 : JMP 0x00a40133
00a3fcb6 : CALL 0x007b3fa0
00a3fcbb : CMP EAX,0x12c
00a3fcc0 : JNC 0x00a3fd03
00a3fcc2 : PUSH 0xcc2eb0
00a3fcc7 : LEA ESI,[EBP + -0x48]
00a3fcca : CALL 0x00404750
00a3fccf : ADD ESP,0x4
00a3fcd2 : MOV byte ptr [EBP + -0x4],0x2
00a3fcd6 : MOV EDX,dword ptr [0x00da98e8]
00a3fcdc : MOV ECX,dword ptr [EDX]
00a3fcde : TEST ECX,ECX
00a3fce0 : JZ 0x00a3fcea
00a3fce2 : MOV EDX,dword ptr [ECX]
00a3fce4 : PUSH EAX
00a3fce5 : MOV EAX,dword ptr [EDX + 0x10]
00a3fce8 : CALL EAX
00a3fcea : MOV byte ptr [EBP + -0x4],0x0
00a3fcee : LEA ECX,[EBP + -0x48]
00a3fcf1 : CALL 0x00406560
00a3fcf6 : MOV dword ptr [EBP + -0x4],0xffffffff
00a3fcfd : PUSH EBX
00a3fcfe : JMP 0x00a40133
00a3fd03 : MOVZX ESI,word ptr [EDI + 0x14]
00a3fd07 : OR ESI,0x5050000
00a3fd0d : PUSH ESI
00a3fd0e : MOV dword ptr [EBP + 0xffffff68],ESI
00a3fd14 : CALL 0x004049b0
00a3fd19 : ADD ESP,0x4
00a3fd1c : MOV dword ptr [EBP + 0xffffff6c],EAX
00a3fd22 : TEST EAX,EAX
00a3fd24 : JNZ 0x00a3fd74
00a3fd26 : PUSH ESI
00a3fd27 : PUSH 0xcc2f10
00a3fd2c : LEA ESI,[EBP + -0x2c]
00a3fd2f : CALL 0x00404750
00a3fd34 : ADD ESP,0x8
00a3fd37 : MOV byte ptr [EBP + -0x4],0x3
00a3fd3b : MOV ECX,dword ptr [0x00da98e8]
00a3fd41 : MOV ECX,dword ptr [ECX]
00a3fd43 : TEST ECX,ECX
00a3fd45 : JZ 0x00a3fd5b
00a3fd47 : MOV EDX,dword ptr [ECX]
00a3fd49 : MOV EDX,dword ptr [EDX + 0x14]
00a3fd4c : MOV EAX,ESI
00a3fd4e : PUSH EAX
00a3fd4f : PUSH 0x2b83
00a3fd54 : PUSH 0xcc2f68
00a3fd59 : CALL EDX
00a3fd5b : MOV byte ptr [EBP + -0x4],0x0
00a3fd5f : LEA ECX,[EBP + -0x2c]
00a3fd62 : CALL 0x00406560
00a3fd67 : MOV dword ptr [EBP + -0x4],0xffffffff
00a3fd6e : PUSH EBX
00a3fd6f : JMP 0x00a40133
00a3fd74 : PUSH 0x0
00a3fd76 : PUSH 0x2b87
00a3fd7b : PUSH 0xcc2fb0
00a3fd80 : PUSH 0x180c
00a3fd85 : CALL 0x006f0760
00a3fd8a : ADD ESP,0x10
00a3fd8d : MOV dword ptr [EBP + -0x68],EAX
00a3fd90 : MOV byte ptr [EBP + -0x4],0x4
00a3fd94 : TEST EAX,EAX
00a3fd96 : JZ 0x00a3fda2
00a3fd98 : PUSH EAX
00a3fd99 : CALL 0x00840010
00a3fd9e : MOV EBX,EAX
00a3fda0 : JMP 0x00a3fda4
00a3fda2 : XOR EBX,EBX
00a3fda4 : MOV byte ptr [EBP + -0x4],0x0
00a3fda8 : TEST EBX,EBX
00a3fdaa : JNZ 0x00a3fdf9
00a3fdac : PUSH 0xcc2de4
00a3fdb1 : LEA ECX,[EBP + -0x2c]
00a3fdb4 : CALL 0x00406460
00a3fdb9 : MOV byte ptr [EBP + -0x4],0x5
00a3fdbd : MOV EAX,[0x00da98e8]
00a3fdc2 : MOV ECX,dword ptr [EAX]
00a3fdc4 : TEST ECX,ECX
00a3fdc6 : JZ 0x00a3fddd
00a3fdc8 : MOV EDX,dword ptr [ECX]
00a3fdca : MOV EDX,dword ptr [EDX + 0x14]
00a3fdcd : LEA EAX,[EBP + -0x2c]
00a3fdd0 : PUSH EAX
00a3fdd1 : PUSH 0x2b89
00a3fdd6 : PUSH 0xcc2fe0
00a3fddb : CALL EDX
00a3fddd : MOV byte ptr [EBP + -0x4],0x0
00a3fde1 : LEA ECX,[EBP + -0x2c]
00a3fde4 : CALL 0x00406560
00a3fde9 : MOV dword ptr [EBP + -0x4],0xffffffff
00a3fdf0 : MOV EAX,dword ptr [EBP + -0x7c]
00a3fdf3 : PUSH EAX
00a3fdf4 : JMP 0x00a40133
00a3fdf9 : MOV ECX,dword ptr [EDI + 0xc]
00a3fdfc : PUSH ECX
00a3fdfd : PUSH 0xcc3028
00a3fe02 : LEA ESI,[EBP + -0x64]
00a3fe05 : CALL 0x00404750
00a3fe0a : ADD ESP,0x8
00a3fe0d : MOV byte ptr [EBP + -0x4],0x6
00a3fe11 : MOV EAX,dword ptr [EDI + 0xc]
00a3fe14 : MOV dword ptr [EBX + 0x4],EAX
00a3fe17 : MOV EDI,dword ptr [EDI + 0x4]
00a3fe1a : MOV EAX,dword ptr [EBP + 0xffffff68]
00a3fe20 : MOV ESI,EBX
00a3fe22 : MOV dword ptr [EBX + 0x16d0],EDI
00a3fe28 : CALL 0x0088b500
00a3fe2d : MOV EAX,[0x0172491c]
00a3fe32 : MOV EDX,dword ptr [EBP + 0xffffff6c]
00a3fe38 : PUSH 0x0
00a3fe3a : ADD EDX,0x18
00a3fe3d : PUSH EAX
00a3fe3e : LEA ESI,[EBP + -0x48]
00a3fe41 : CALL 0x00824a20
00a3fe46 : MOV byte ptr [EBP + -0x4],0x7
00a3fe4a : MOV ECX,EAX
00a3fe4c : MOV EDI,EBX
00a3fe4e : CALL 0x004044f0
00a3fe53 : MOV byte ptr [EBP + -0x4],0x6
00a3fe57 : MOV ECX,ESI
00a3fe59 : CALL 0x00406560
00a3fe5e : MOV EDI,dword ptr [EBP + -0x74]
00a3fe61 : MOVZX EAX,word ptr [EDI + 0x16]
00a3fe65 : MOV ESI,dword ptr [EBP + -0x78]
00a3fe68 : MOV word ptr [EBX + 0x171c],AX
00a3fe6f : MOV byte ptr [EBX + 0x389],0x3
00a3fe76 : MOV EAX,dword ptr [ESI + 0xac]
00a3fe7c : TEST EAX,EAX
00a3fe7e : JZ 0x00a3fe90
00a3fe80 : CMP byte ptr [EAX + 0x1fe4],0x0
00a3fe87 : JZ 0x00a3fe90
00a3fe89 : MOV byte ptr [EBX + 0x3ae],0x1
00a3fe90 : XORPS XMM0,XMM0
00a3fe93 : MOVSS XMM1,dword ptr [0x00c10fc4]
00a3fe9b : MOV ECX,dword ptr [ESI + 0x168]
00a3fea1 : LEA EAX,[EBP + -0x70]
00a3fea4 : PUSH EAX
00a3fea5 : LEA EAX,[EBP + -0x20]
00a3fea8 : PUSH EAX
00a3fea9 : LEA EAX,[EBP + 0xffffff78]
00a3feaf : PUSH EAX
00a3feb0 : MOVSS dword ptr [EBP + -0x70],XMM1
00a3feb5 : MOVSS dword ptr [EBP + -0x6c],XMM1
00a3feba : MOVSS dword ptr [EBP + -0x68],XMM1
00a3febf : MOVSS dword ptr [EBP + -0x20],XMM0
00a3fec4 : MOVSS dword ptr [EBP + -0x1c],XMM0
00a3fec9 : MOVSS dword ptr [EBP + -0x18],XMM0
00a3fece : MOVSS dword ptr [EBP + -0x14],XMM1
00a3fed3 : MOVSS dword ptr [EBP + 0xffffff78],XMM0
00a3fedb : MOVSS dword ptr [EBP + 0xffffff7c],XMM0
00a3fee3 : MOVSS dword ptr [EBP + -0x80],XMM0
00a3fee8 : MOV EDX,dword ptr [ECX]
00a3feea : MOV EDX,dword ptr [EDX + 0x20]
00a3feed : LEA EAX,[EBP + -0x64]
00a3fef0 : PUSH EAX
00a3fef1 : CALL EDX
00a3fef3 : MOV EDX,dword ptr [EBX]
00a3fef5 : PUSH EAX
00a3fef6 : MOV EAX,dword ptr [EDX + 0x1ec]
00a3fefc : MOV ECX,EBX
00a3fefe : CALL EAX
00a3ff00 : MOV AL,byte ptr [EDI + 0x74]
00a3ff03 : MOV byte ptr [EBX + 0x1725],AL
00a3ff09 : MOV EAX,dword ptr [EDI + 0x10]
00a3ff0c : MOV dword ptr [EBX + 0x1718],EAX
00a3ff12 : MOV byte ptr [EBX + 0x438],0x1
00a3ff19 : CMP byte ptr [ESI + 0x178],0x0
00a3ff20 : JZ 0x00a3ffba
00a3ff26 : LEA ECX,[EBP + -0x48]
00a3ff29 : PUSH ECX
00a3ff2a : MOV EDX,0xcc3030
00a3ff2f : LEA ECX,[EBP + -0x64]
00a3ff32 : CALL 0x00403510
00a3ff37 : ADD ESP,0x4
00a3ff3a : MOV byte ptr [EBP + -0x4],0x8
00a3ff3e : XORPS XMM0,XMM0
00a3ff41 : MOVSS XMM1,dword ptr [0x00c10fc4]
00a3ff49 : MOV ECX,dword ptr [ESI + 0x174]
00a3ff4f : LEA EAX,[EBP + 0xffffff78]
00a3ff55 : PUSH EAX
00a3ff56 : LEA EAX,[EBP + -0x20]
00a3ff59 : PUSH EAX
00a3ff5a : LEA EAX,[EBP + -0x70]
00a3ff5d : PUSH EAX
00a3ff5e : MOVSS dword ptr [EBP + 0xffffff78],XMM1
00a3ff66 : MOVSS dword ptr [EBP + 0xffffff7c],XMM1
00a3ff6e : MOVSS dword ptr [EBP + -0x80],XMM1
00a3ff73 : MOVSS dword ptr [EBP + -0x20],XMM0
00a3ff78 : MOVSS dword ptr [EBP + -0x1c],XMM0
00a3ff7d : MOVSS dword ptr [EBP + -0x18],XMM0
00a3ff82 : MOVSS dword ptr [EBP + -0x14],XMM1
00a3ff87 : MOVSS dword ptr [EBP + -0x70],XMM0
00a3ff8c : MOVSS dword ptr [EBP + -0x6c],XMM0
00a3ff91 : MOVSS dword ptr [EBP + -0x68],XMM0
00a3ff96 : MOV EDX,dword ptr [ECX]
00a3ff98 : MOV EDX,dword ptr [EDX + 0x20]
00a3ff9b : LEA EAX,[EBP + -0x48]
00a3ff9e : PUSH EAX
00a3ff9f : CALL EDX
00a3ffa1 : MOV EDX,dword ptr [EBX]
00a3ffa3 : PUSH EAX
00a3ffa4 : MOV EAX,dword ptr [EDX + 0x1f0]
00a3ffaa : MOV ECX,EBX
00a3ffac : CALL EAX
00a3ffae : MOV byte ptr [EBP + -0x4],0x6
00a3ffb2 : LEA ECX,[EBP + -0x48]
00a3ffb5 : CALL 0x00406560
00a3ffba : MOV EDX,dword ptr [EBX]
00a3ffbc : MOV EAX,dword ptr [EDX + 0x1e8]
00a3ffc2 : PUSH 0x1
00a3ffc4 : MOV ECX,EBX
00a3ffc6 : CALL EAX
00a3ffc8 : MOV EAX,dword ptr [EBP + 0xffffff74]
00a3ffce : MOV ECX,dword ptr [EAX + 0x3e8]
00a3ffd4 : MOV EDX,dword ptr [EBX]
00a3ffd6 : MOV EDX,dword ptr [EDX + 0x2a0]
00a3ffdc : ADD ECX,0x68
00a3ffdf : PUSH 0x1
00a3ffe1 : PUSH ECX
00a3ffe2 : MOV ECX,EBX
00a3ffe4 : CALL EDX
00a3ffe6 : MOV EAX,dword ptr [EDI + 0x1c]
00a3ffe9 : TEST EAX,EAX
00a3ffeb : JZ 0x00a40032
00a3ffed : PUSH EAX
00a3ffee : CALL 0x004049b0
00a3fff3 : ADD ESP,0x4
00a3fff6 : TEST EAX,EAX
00a3fff8 : JZ 0x00a40032
00a3fffa : ADD EAX,0x190
00a3ffff : PUSH EAX
00a40000 : LEA ESI,[EBP + -0x48]
00a40003 : CALL 0x00404350
00a40008 : ADD ESP,0x4
00a4000b : MOV byte ptr [EBP + -0x4],0x9
00a4000f : MOV EDI,dword ptr [EDI + 0x1c]
00a40012 : MOV dword ptr [EBX + 0x1710],EDI
00a40018 : MOV EDI,ESI
00a4001a : MOV EAX,EBX
00a4001c : CALL 0x0083f060
00a40021 : MOV byte ptr [EBP + -0x4],0x6
00a40025 : MOV ECX,ESI
00a40027 : CALL 0x00406560
00a4002c : MOV EDI,dword ptr [EBP + -0x74]
00a4002f : MOV ESI,dword ptr [EBP + -0x78]
00a40032 : MOV EDX,dword ptr [0x017248cc]
00a40038 : TEST EDX,EDX
00a4003a : JZ 0x00a4008c
00a4003c : MOV EAX,dword ptr [ESI + 0xac]
00a40042 : XOR CL,CL
00a40044 : TEST EAX,EAX
00a40046 : JZ 0x00a40055
00a40048 : MOV EAX,dword ptr [EAX + 0x4]
00a4004b : CMP EAX,dword ptr [EBX + 0x16d0]
00a40051 : JNZ 0x00a40055
00a40053 : MOV CL,0x1
00a40055 : CMP byte ptr [EDX + 0x2d],0x1
00a40059 : JNZ 0x00a40155
00a4005f : TEST CL,CL
00a40061 : JNZ 0x00a40155
00a40067 : MOV EAX,dword ptr [EBX]
00a40069 : MOV EDX,dword ptr [EAX + 0x25c]
00a4006f : PUSH 0x1
00a40071 : MOV ECX,EBX
00a40073 : CALL EDX
00a40075 : MOV EDX,dword ptr [0x017248cc]
00a4007b : MOVZX EAX,byte ptr [EDX + 0xd]
00a4007f : MOV EDX,dword ptr [EBX]
00a40081 : PUSH EAX
00a40082 : MOV EAX,dword ptr [EDX + 0x2d8]
00a40088 : MOV ECX,EBX
00a4008a : CALL EAX
00a4008c : MOV ECX,dword ptr [EDI + 0xc]
00a4008f : LEA EDX,[EBP + -0x6c]
00a40092 : PUSH EDX
00a40093 : LEA EAX,[EBP + 0xffffff70]
00a40099 : PUSH EAX
00a4009a : LEA EAX,[ESI + 0xe0]
00a400a0 : MOV dword ptr [EBP + -0x6c],ECX
00a400a3 : MOV dword ptr [EBP + -0x68],EBX
00a400a6 : CALL 0x00451e00
00a400ab : MOV ECX,dword ptr [EDI + 0x4]
00a400ae : LEA EDX,[EBP + -0x6c]
00a400b1 : PUSH EDX
00a400b2 : LEA EAX,[EBP + 0xffffff70]
00a400b8 : PUSH EAX
00a400b9 : LEA EAX,[ESI + 0xec]
00a400bf : MOV dword ptr [EBP + -0x6c],ECX
00a400c2 : MOV dword ptr [EBP + -0x68],EBX
00a400c5 : CALL 0x00429740
00a400ca : MOV EBX,dword ptr [EBX + 0x16d0]
00a400d0 : PUSH EBX
00a400d1 : MOV EAX,ESI
00a400d3 : CALL 0x00a1b300
00a400d8 : MOV ECX,dword ptr [0x00da9894]
00a400de : MOV EAX,dword ptr [ECX]
00a400e0 : OR EBX,0xffffffff
00a400e3 : TEST EAX,EAX
00a400e5 : JZ 0x00a40120
00a400e7 : CMP dword ptr [EAX + 0x290],0x0
00a400ee : JZ 0x00a40120
00a400f0 : MOV ESI,dword ptr [ESI + 0xac]
00a400f6 : TEST ESI,ESI
00a400f8 : JZ 0x00a40120
00a400fa : MOV ESI,dword ptr [ESI + 0x4]
00a400fd : CMP ESI,dword ptr [EDI + 0x4]
00a40100 : JNZ 0x00a40120
00a40102 : CMP dword ptr [EDI + 0x18],EBX
00a40105 : MOV EAX,dword ptr [EAX + 0x290]
00a4010b : SETZ DL
00a4010e : MOVZX ECX,DL
00a40111 : MOVZX EDX,word ptr [EDI + 0x16]
00a40115 : PUSH ECX
00a40116 : MOV ECX,dword ptr [EDI + 0xc]
00a40119 : PUSH EDX
00a4011a : PUSH ECX
00a4011b : CALL 0x0094a190
00a40120 : MOV byte ptr [EBP + -0x4],0x0
00a40124 : LEA ECX,[EBP + -0x64]
00a40127 : CALL 0x00406560
00a4012c : MOV dword ptr [EBP + -0x4],EBX
00a4012f : MOV EDX,dword ptr [EBP + -0x7c]
00a40132 : PUSH EDX
00a40133 : CALL dword ptr [0x00b8511c]
00a40139 : MOV ECX,dword ptr [EBP + -0xc]
00a4013c : MOV dword ptr FS:[0x0],ECX
00a40143 : POP ECX
00a40144 : POP EDI
00a40145 : POP ESI
00a40146 : POP EBX
00a40147 : MOV ECX,dword ptr [EBP + -0x10]
00a4014a : XOR ECX,EBP
00a4014c : CALL 0x00633e6b
00a40151 : MOV ESP,EBP
00a40153 : POP EBP
00a40154 : RET
00a40155 : CMP CL,0x1
00a40158 : JNZ 0x00a4007b
00a4015e : MOV AL,byte ptr [EDX + 0xc]
00a40161 : JMP 0x00a4007f
