PROGRAM  : Maestia.exe
FUNCTION : FUN_00575e70
ENTRY    : 00575e70
BODY     : [[00575e70, 005760cf]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00575e70(int param_1,int param_2)

{
  uint *puVar1;
  undefined1 *puVar2;
  double dVar3;
  char cVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  int *in_ECX;
  int *unaff_ESI;
  int *local_6c;
  int iStack_68;
  byte bStack_64;
  undefined1 auStack_60 [12];
  undefined1 auStack_54 [4];
  undefined1 auStack_50 [16];
  undefined1 auStack_40 [56];
  int iStack_8;
  int iStack_4;
  
  local_6c = in_ECX;
  iVar5 = (**(code **)(*(int *)in_ECX[0x1a] + 0x5c))();
  if (((uint)in_ECX[0x2c0] >> 0xc & 1) != 0) {
    iVar6 = *(int *)(iVar5 + 0x78);
    if (*(char *)(iVar6 + 0x2a4) == '\x01') {
      auStack_54[0] = 0;
      cVar4 = (**(code **)(*(int *)(*(int *)(iVar6 + 0x2a0) + 0x10) + 0x2c))
                        ((int *)(iVar5 + 0x78),iVar6 + 0x74,auStack_54);
      if ((cVar4 != '\0') && (iVar6 = FUN_00526fa0(iVar5), iVar6 != 0)) {
        auStack_50[0] = 0;
        cVar4 = (**(code **)(*(int *)(iVar6 + 0x10) + 0x10))
                          (iVar5,*(int *)(iVar5 + 0x78) + 0x208,auStack_50);
        if (cVar4 != '\0') {
          FUN_00527140(&local_6c,iVar5);
          if (local_6c != (int *)0x0) {
            dVar3 = (double)iStack_8;
            auStack_40[0] = 0;
            if (iStack_8 < 0) {
              dVar3 = dVar3 + 4294967296.0;
            }
            *(int *)(iVar5 + 8) = *(int *)(iVar5 + 8) + 0x10;
            puVar1 = (uint *)(iVar5 + 8);
            if (*(uint *)(iVar5 + 0x10) <= *(uint *)(iVar5 + 8)) {
              FUN_00504050();
            }
            puVar2 = (undefined1 *)*puVar1;
            if (puVar2 != (undefined1 *)0x0) {
              *puVar2 = 3;
              *(double *)(puVar2 + 4) = dVar3;
            }
            dVar3 = (double)iStack_4;
            if (iStack_4 < 0) {
              dVar3 = dVar3 + 4294967296.0;
            }
            *puVar1 = *puVar1 + 0x10;
            if (*(uint *)(iVar5 + 0x10) <= *puVar1) {
              FUN_00504050();
            }
            puVar2 = (undefined1 *)*puVar1;
            if (puVar2 != (undefined1 *)0x0) {
              *puVar2 = 3;
              *(double *)(puVar2 + 4) = dVar3;
            }
            uVar7 = FUN_0051fb20(auStack_40,auStack_60,iVar5,2,
                                 ((int)(*puVar1 - *(int *)(iVar5 + 0xc)) >> 4) + -0x20 +
                                 *(int *)(iVar5 + 0x1c) * 0x20);
            (**(code **)(*local_6c + 0x28))(uVar7,iStack_68,0);
            FUN_0051fbd0();
            if (*puVar1 - 0x20 < *(uint *)(iVar5 + 0xc)) {
              iVar6 = 2;
              do {
                FUN_00526bc0();
                *puVar1 = *puVar1 - 0x10;
                if (*puVar1 < *(uint *)(iVar5 + 0xc)) {
                  FUN_00504f30();
                }
                iVar6 = iVar6 + -1;
              } while (iVar6 != 0);
            }
            else {
              FUN_00526bc0();
              *puVar1 = *puVar1 - 0x10;
              FUN_00526bc0();
              *puVar1 = *puVar1 - 0x10;
            }
            FUN_00526bc0();
          }
          if (((bStack_64 & 2) == 0) && (local_6c != (int *)0x0)) {
            FUN_00503db0();
          }
          local_6c = (int *)0x0;
          if (((bStack_64 & 1) == 0) && (iStack_68 != 0)) {
            FUN_00503db0();
          }
        }
        FUN_00526bc0();
      }
      FUN_00526bc0();
      in_ECX = unaff_ESI;
      goto LAB_005760bb;
    }
  }
  iStack_8 = param_1;
  iStack_4 = param_2;
  if (param_2 != in_ECX[param_1 * 9 + 600]) {
    FUN_005be2e0();
  }
LAB_005760bb:
  in_ECX[iStack_8 * 9 + 600] = iStack_4;
  return;
}



============================================================
DISASSEMBLY
============================================================
00575e70 : SUB ESP,0x6c
00575e73 : PUSH EBX
00575e74 : MOV EBX,ECX
00575e76 : MOV ECX,dword ptr [EBX + 0x68]
00575e79 : MOV EAX,dword ptr [ECX]
00575e7b : MOV EDX,dword ptr [EAX + 0x5c]
00575e7e : PUSH EBP
00575e7f : PUSH ESI
00575e80 : PUSH EDI
00575e81 : MOV dword ptr [ESP + 0x10],EBX
00575e85 : CALL EDX
00575e87 : MOV EDI,EAX
00575e89 : MOV EAX,dword ptr [EBX + 0xb00]
00575e8f : SHR EAX,0xc
00575e92 : TEST AL,0x1
00575e94 : JZ 0x00576095
00575e9a : MOV ECX,dword ptr [EDI + 0x78]
00575e9d : CMP byte ptr [ECX + 0x2a4],0x1
00575ea4 : LEA ESI,[EDI + 0x78]
00575ea7 : JNZ 0x00576095
00575ead : MOV EAX,ECX
00575eaf : XOR EBX,EBX
00575eb1 : MOV byte ptr [ESP + 0x28],BL
00575eb5 : MOV ECX,dword ptr [EAX + 0x2a0]
00575ebb : MOV EDX,dword ptr [ECX + 0x10]
00575ebe : LEA EBP,[ESP + 0x28]
00575ec2 : PUSH EBP
00575ec3 : ADD EAX,0x74
00575ec6 : ADD ECX,0x10
00575ec9 : PUSH EAX
00575eca : MOV EAX,dword ptr [EDX + 0x2c]
00575ecd : PUSH ESI
00575ece : CALL EAX
00575ed0 : MOV EBP,dword ptr [ESP + 0x80]
00575ed7 : TEST AL,AL
00575ed9 : JZ 0x0057607f
00575edf : PUSH EDI
00575ee0 : LEA ECX,[ESP + 0x2c]
00575ee4 : CALL 0x00526fa0
00575ee9 : CMP EAX,EBX
00575eeb : JZ 0x0057607f
00575ef1 : MOV ESI,dword ptr [ESI]
00575ef3 : MOV EDX,dword ptr [EAX + 0x10]
00575ef6 : MOV EDX,dword ptr [EDX + 0x10]
00575ef9 : LEA ECX,[EAX + 0x10]
00575efc : LEA EAX,[ESP + 0x38]
00575f00 : PUSH EAX
00575f01 : ADD ESI,0x208
00575f07 : PUSH ESI
00575f08 : PUSH EDI
00575f09 : MOV byte ptr [ESP + 0x44],BL
00575f0d : CALL EDX
00575f0f : TEST AL,AL
00575f11 : JZ 0x00576076
00575f17 : PUSH EDI
00575f18 : LEA EAX,[ESP + 0x20]
00575f1c : PUSH EAX
00575f1d : LEA ECX,[ESP + 0x40]
00575f21 : CALL 0x00527140
00575f26 : MOV ECX,dword ptr [ESP + 0x1c]
00575f2a : CMP ECX,EBX
00575f2c : JZ 0x0057604e
00575f32 : MOV ECX,EBP
00575f34 : MOV dword ptr [ESP + 0x80],ECX
00575f3b : FILD dword ptr [ESP + 0x80]
00575f42 : MOV byte ptr [ESP + 0x48],BL
00575f46 : TEST ECX,ECX
00575f48 : JGE 0x00575f50
00575f4a : FADD double ptr [0x00cdf6f8]
00575f50 : ADD dword ptr [EDI + 0x8],0x10
00575f54 : FSTP double ptr [ESP + 0x14]
00575f58 : MOV EAX,dword ptr [EDI + 0x8]
00575f5b : CMP EAX,dword ptr [EDI + 0x10]
00575f5e : LEA ESI,[EDI + 0x8]
00575f61 : JC 0x00575f6a
00575f63 : MOV ECX,ESI
00575f65 : CALL 0x00504050
00575f6a : MOV EAX,dword ptr [ESI]
00575f6c : CMP EAX,EBX
00575f6e : JZ 0x00575f7a
00575f70 : FLD double ptr [ESP + 0x14]
00575f74 : MOV byte ptr [EAX],0x3
00575f77 : FSTP double ptr [EAX + 0x4]
00575f7a : MOV EDX,dword ptr [ESP + 0x84]
00575f81 : FILD dword ptr [ESP + 0x84]
00575f88 : TEST EDX,EDX
00575f8a : JGE 0x00575f92
00575f8c : FADD double ptr [0x00cdf6f8]
00575f92 : ADD dword ptr [ESI],0x10
00575f95 : FSTP double ptr [ESP + 0x14]
00575f99 : MOV EAX,dword ptr [ESI]
00575f9b : CMP EAX,dword ptr [ESI + 0x8]
00575f9e : JC 0x00575fa7
00575fa0 : MOV ECX,ESI
00575fa2 : CALL 0x00504050
00575fa7 : MOV EAX,dword ptr [ESI]
00575fa9 : CMP EAX,EBX
00575fab : JZ 0x00575fb7
00575fad : FLD double ptr [ESP + 0x14]
00575fb1 : MOV byte ptr [EAX],0x3
00575fb4 : FSTP double ptr [EAX + 0x4]
00575fb7 : MOV EAX,dword ptr [ESI]
00575fb9 : SUB EAX,dword ptr [ESI + 0x4]
00575fbc : MOV ECX,dword ptr [ESI + 0x14]
00575fbf : SAR EAX,0x4
00575fc2 : SHL ECX,0x5
00575fc5 : LEA EAX,[EAX + ECX*0x1 + -0x20]
00575fc9 : PUSH EAX
00575fca : PUSH 0x2
00575fcc : PUSH EDI
00575fcd : LEA EDX,[ESP + 0x34]
00575fd1 : PUSH EDX
00575fd2 : LEA EAX,[ESP + 0x58]
00575fd6 : PUSH EAX
00575fd7 : LEA ECX,[ESP + 0x6c]
00575fdb : CALL 0x0051fb20
00575fe0 : MOV EDI,dword ptr [ESP + 0x20]
00575fe4 : MOV ECX,dword ptr [ESP + 0x1c]
00575fe8 : MOV EDX,dword ptr [ECX]
00575fea : PUSH EBX
00575feb : PUSH EDI
00575fec : PUSH EAX
00575fed : MOV EAX,dword ptr [EDX + 0x28]
00575ff0 : CALL EAX
00575ff2 : LEA ECX,[ESP + 0x58]
00575ff6 : CALL 0x0051fbd0
00575ffb : MOV ECX,dword ptr [ESI]
00575ffd : LEA EDX,[ECX + -0x20]
00576000 : CMP EDX,dword ptr [ESI + 0x4]
00576003 : JNC 0x0057602f
00576005 : MOV EDI,0x2
0057600a : LEA EBX,[EBX]
00576010 : MOV ECX,dword ptr [ESI]
00576012 : CALL 0x00526bc0
00576017 : ADD dword ptr [ESI],-0x10
0057601a : MOV EAX,dword ptr [ESI]
0057601c : CMP EAX,dword ptr [ESI + 0x4]
0057601f : JNC 0x00576028
00576021 : MOV ECX,ESI
00576023 : CALL 0x00504f30
00576028 : SUB EDI,0x1
0057602b : JNZ 0x00576010
0057602d : JMP 0x00576041
0057602f : CALL 0x00526bc0
00576034 : ADD dword ptr [ESI],-0x10
00576037 : MOV ECX,dword ptr [ESI]
00576039 : CALL 0x00526bc0
0057603e : ADD dword ptr [ESI],-0x10
00576041 : LEA ECX,[ESP + 0x48]
00576045 : CALL 0x00526bc0
0057604a : MOV ECX,dword ptr [ESP + 0x1c]
0057604e : TEST byte ptr [ESP + 0x24],0x2
00576053 : JNZ 0x0057605e
00576055 : CMP ECX,EBX
00576057 : JZ 0x0057605e
00576059 : CALL 0x00503db0
0057605e : TEST byte ptr [ESP + 0x24],0x1
00576063 : MOV dword ptr [ESP + 0x1c],EBX
00576067 : JNZ 0x00576076
00576069 : MOV ECX,dword ptr [ESP + 0x20]
0057606d : CMP ECX,EBX
0057606f : JZ 0x00576076
00576071 : CALL 0x00503db0
00576076 : LEA ECX,[ESP + 0x38]
0057607a : CALL 0x00526bc0
0057607f : LEA ECX,[ESP + 0x28]
00576083 : CALL 0x00526bc0
00576088 : MOV EBX,dword ptr [ESP + 0x10]
0057608c : MOV ESI,dword ptr [ESP + 0x84]
00576093 : JMP 0x005760bb
00576095 : MOV EBP,dword ptr [ESP + 0x80]
0057609c : MOV ESI,dword ptr [ESP + 0x84]
005760a3 : LEA EAX,[EBP + EBP*0x8]
005760a7 : CMP ESI,dword ptr [EBX + EAX*0x4 + 0x960]
005760ae : JZ 0x005760bb
005760b0 : PUSH ESI
005760b1 : PUSH EBP
005760b2 : PUSH EBX
005760b3 : CALL 0x005be2e0
005760b8 : ADD ESP,0xc
005760bb : LEA ECX,[EBP + EBP*0x8]
005760bf : POP EDI
005760c0 : MOV dword ptr [EBX + ECX*0x4 + 0x960],ESI
005760c7 : POP ESI
005760c8 : POP EBP
005760c9 : POP EBX
005760ca : ADD ESP,0x6c
005760cd : RET 0x8
