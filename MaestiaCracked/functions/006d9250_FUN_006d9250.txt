PROGRAM  : Maestia.exe
FUNCTION : FUN_006d9250
ENTRY    : 006d9250
BODY     : [[006d9250, 006d9354]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006d9250(int *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  iVar1 = param_1[1];
  if ((param_2 < 0) || (1 < param_2)) {
    *(undefined4 *)(*param_1 + 0x14) = 0xe;
    *(int *)(*param_1 + 0x18) = param_2;
    (**(code **)*param_1)(param_1);
  }
  if (param_2 == 1) {
    for (iVar2 = *(int *)(iVar1 + 0x44); iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x24)) {
      if (*(char *)(iVar2 + 0x22) != '\0') {
        *(undefined1 *)(iVar2 + 0x22) = 0;
        (**(code **)(iVar2 + 0x30))(param_1,iVar2 + 0x28);
      }
    }
    iVar2 = *(int *)(iVar1 + 0x48);
    *(undefined4 *)(iVar1 + 0x44) = 0;
    for (; iVar2 != 0; iVar2 = *(int *)(iVar2 + 0x24)) {
      if (*(char *)(iVar2 + 0x22) != '\0') {
        *(undefined1 *)(iVar2 + 0x22) = 0;
        (**(code **)(iVar2 + 0x30))(param_1,iVar2 + 0x28);
      }
    }
    *(undefined4 *)(iVar1 + 0x48) = 0;
  }
  puVar3 = *(undefined4 **)(iVar1 + 0x3c + param_2 * 4);
  *(undefined4 *)(iVar1 + 0x3c + param_2 * 4) = 0;
  while (puVar3 != (undefined4 *)0x0) {
    puVar4 = (undefined4 *)*puVar3;
    iVar2 = puVar3[2] + 0x10 + puVar3[1];
    FUN_006bf340(param_1,puVar3,iVar2);
    *(int *)(iVar1 + 0x4c) = *(int *)(iVar1 + 0x4c) - iVar2;
    puVar3 = puVar4;
  }
  puVar3 = *(undefined4 **)(iVar1 + 0x34 + param_2 * 4);
  *(undefined4 *)(iVar1 + 0x34 + param_2 * 4) = 0;
  while (puVar3 != (undefined4 *)0x0) {
    puVar4 = (undefined4 *)*puVar3;
    iVar2 = puVar3[2] + 0x10 + puVar3[1];
    FUN_006bf340(param_1,puVar3,iVar2);
    *(int *)(iVar1 + 0x4c) = *(int *)(iVar1 + 0x4c) - iVar2;
    puVar3 = puVar4;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006d9250 : PUSH EBX
006d9251 : MOV EBX,dword ptr [ESP + 0x8]
006d9255 : PUSH EBP
006d9256 : MOV EBP,dword ptr [ESP + 0x10]
006d925a : PUSH ESI
006d925b : MOV ESI,dword ptr [EBX + 0x4]
006d925e : PUSH EDI
006d925f : TEST EBP,EBP
006d9261 : JL 0x006d9268
006d9263 : CMP EBP,0x2
006d9266 : JL 0x006d9280
006d9268 : MOV EAX,dword ptr [EBX]
006d926a : MOV dword ptr [EAX + 0x14],0xe
006d9271 : MOV ECX,dword ptr [EBX]
006d9273 : MOV dword ptr [ECX + 0x18],EBP
006d9276 : MOV EDX,dword ptr [EBX]
006d9278 : MOV EAX,dword ptr [EDX]
006d927a : PUSH EBX
006d927b : CALL EAX
006d927d : ADD ESP,0x4
006d9280 : CMP EBP,0x1
006d9283 : JNZ 0x006d92e5
006d9285 : MOV EDI,dword ptr [ESI + 0x44]
006d9288 : TEST EDI,EDI
006d928a : JZ 0x006d92ae
006d928c : LEA ESP,[ESP]
006d9290 : CMP byte ptr [EDI + 0x22],0x0
006d9294 : JZ 0x006d92a7
006d9296 : MOV EDX,dword ptr [EDI + 0x30]
006d9299 : LEA ECX,[EDI + 0x28]
006d929c : PUSH ECX
006d929d : PUSH EBX
006d929e : MOV byte ptr [EDI + 0x22],0x0
006d92a2 : CALL EDX
006d92a4 : ADD ESP,0x8
006d92a7 : MOV EDI,dword ptr [EDI + 0x24]
006d92aa : TEST EDI,EDI
006d92ac : JNZ 0x006d9290
006d92ae : MOV EDI,dword ptr [ESI + 0x48]
006d92b1 : MOV dword ptr [ESI + 0x44],0x0
006d92b8 : TEST EDI,EDI
006d92ba : JZ 0x006d92de
006d92bc : LEA ESP,[ESP]
006d92c0 : CMP byte ptr [EDI + 0x22],0x0
006d92c4 : JZ 0x006d92d7
006d92c6 : MOV ECX,dword ptr [EDI + 0x30]
006d92c9 : LEA EAX,[EDI + 0x28]
006d92cc : PUSH EAX
006d92cd : PUSH EBX
006d92ce : MOV byte ptr [EDI + 0x22],0x0
006d92d2 : CALL ECX
006d92d4 : ADD ESP,0x8
006d92d7 : MOV EDI,dword ptr [EDI + 0x24]
006d92da : TEST EDI,EDI
006d92dc : JNZ 0x006d92c0
006d92de : MOV dword ptr [ESI + 0x48],0x0
006d92e5 : MOV EAX,dword ptr [ESI + EBP*0x4 + 0x3c]
006d92e9 : MOV dword ptr [ESI + EBP*0x4 + 0x3c],0x0
006d92f1 : TEST EAX,EAX
006d92f3 : JZ 0x006d9319
006d92f5 : MOV EDX,dword ptr [EAX + 0x8]
006d92f8 : MOV ECX,dword ptr [EAX + 0x4]
006d92fb : MOV EDI,dword ptr [EAX]
006d92fd : LEA EBP,[EDX + ECX*0x1 + 0x10]
006d9301 : PUSH EBP
006d9302 : PUSH EAX
006d9303 : PUSH EBX
006d9304 : CALL 0x006bf340
006d9309 : SUB dword ptr [ESI + 0x4c],EBP
006d930c : ADD ESP,0xc
006d930f : MOV EAX,EDI
006d9311 : TEST EDI,EDI
006d9313 : JNZ 0x006d92f5
006d9315 : MOV EBP,dword ptr [ESP + 0x18]
006d9319 : MOV EAX,dword ptr [ESI + EBP*0x4 + 0x34]
006d931d : MOV dword ptr [ESI + EBP*0x4 + 0x34],0x0
006d9325 : TEST EAX,EAX
006d9327 : JZ 0x006d9350
006d9329 : LEA ESP,[ESP]
006d9330 : MOV EDX,dword ptr [EAX + 0x8]
006d9333 : MOV ECX,dword ptr [EAX + 0x4]
006d9336 : MOV EDI,dword ptr [EAX]
006d9338 : LEA EBP,[EDX + ECX*0x1 + 0x10]
006d933c : PUSH EBP
006d933d : PUSH EAX
006d933e : PUSH EBX
006d933f : CALL 0x006bf340
006d9344 : SUB dword ptr [ESI + 0x4c],EBP
006d9347 : ADD ESP,0xc
006d934a : MOV EAX,EDI
006d934c : TEST EDI,EDI
006d934e : JNZ 0x006d9330
006d9350 : POP EDI
006d9351 : POP ESI
006d9352 : POP EBP
006d9353 : POP EBX
006d9354 : RET
