PROGRAM  : Maestia.exe
FUNCTION : FUN_006987a0
ENTRY    : 006987a0
BODY     : [[006987a0, 006988f1]]

============================================================
DECOMPILED C CODE
============================================================

undefined4
FUN_006987a0(int param_1,int param_2,undefined4 param_3,undefined4 param_4,undefined4 param_5,
            undefined4 param_6)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  char cVar5;
  int in_EAX;
  int iVar6;
  int iVar7;
  int iVar8;
  
  *(int *)(in_EAX + 0x38) = in_EAX + 0xbc;
  *(undefined4 *)(in_EAX + 0xd4) = *(undefined4 *)(in_EAX + 0x48);
  *(undefined4 *)(*(int *)(in_EAX + 0x38) + 0x1c) = *(undefined4 *)(in_EAX + 0x4c);
  *(int *)(*(int *)(in_EAX + 0x38) + 0x10) = param_1;
  *(int *)(*(int *)(in_EAX + 0x38) + 0x14) = param_2;
  *(undefined4 *)(*(int *)(in_EAX + 0x38) + 8) = param_3;
  *(undefined4 *)(*(int *)(in_EAX + 0x38) + 0xc) = param_4;
  **(undefined4 **)(in_EAX + 0x38) = param_5;
  *(undefined4 *)(*(int *)(in_EAX + 0x38) + 4) = param_6;
  do {
    puVar1 = *(undefined4 **)(in_EAX + 0x38);
    iVar7 = puVar1[7];
    iVar2 = puVar1[1];
    uVar3 = *puVar1;
    iVar4 = puVar1[5];
    iVar8 = puVar1[3];
    param_1 = iVar2;
    param_2 = iVar7;
    if (iVar7 <= iVar2) {
      param_1 = iVar7;
      param_2 = iVar2;
    }
    iVar6 = iVar4;
    if (iVar4 <= iVar8) {
      iVar6 = iVar8;
      iVar8 = iVar4;
    }
    if ((iVar8 < param_1) || (param_2 < iVar6)) {
      FUN_00698190(puVar1);
      *(int *)(in_EAX + 0x38) = *(int *)(in_EAX + 0x38) + 0x18;
    }
    else if (iVar7 == iVar2) {
      *(undefined4 **)(in_EAX + 0x38) = puVar1 + -6;
    }
    else {
      iVar7 = (iVar2 < iVar7) + 1;
      if ((*(int *)(in_EAX + 0x68) != iVar7) &&
         (((*(int *)(in_EAX + 0x68) != 0 && (cVar5 = FUN_00697fb0(), cVar5 != '\0')) ||
          (cVar5 = FUN_00697f20(), cVar5 != '\0')))) {
        return 1;
      }
      if (iVar7 == 1) {
        cVar5 = FUN_006983e0(FUN_00698190,*(undefined4 *)(in_EAX + 0x50),
                             *(undefined4 *)(in_EAX + 0x54));
      }
      else {
        cVar5 = FUN_00698550();
      }
      if (cVar5 != '\0') {
        return 1;
      }
    }
    if (*(uint *)(in_EAX + 0x38) < in_EAX + 0xbcU) {
      *(int *)(in_EAX + 0x4c) = iVar2;
      *(undefined4 *)(in_EAX + 0x48) = uVar3;
      return 0;
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
006987a0 : PUSH EBX
006987a1 : PUSH EBP
006987a2 : PUSH ESI
006987a3 : PUSH EDI
006987a4 : MOV EDI,EAX
006987a6 : MOV ECX,dword ptr [EDI + 0x48]
006987a9 : LEA EAX,[EDI + 0xbc]
006987af : MOV dword ptr [EDI + 0x38],EAX
006987b2 : MOV dword ptr [EAX + 0x18],ECX
006987b5 : MOV EDX,dword ptr [EDI + 0x38]
006987b8 : MOV EAX,dword ptr [EDI + 0x4c]
006987bb : MOV dword ptr [EDX + 0x1c],EAX
006987be : MOV ECX,dword ptr [EDI + 0x38]
006987c1 : MOV EDX,dword ptr [ESP + 0x14]
006987c5 : MOV dword ptr [ECX + 0x10],EDX
006987c8 : MOV EAX,dword ptr [EDI + 0x38]
006987cb : MOV ECX,dword ptr [ESP + 0x18]
006987cf : MOV dword ptr [EAX + 0x14],ECX
006987d2 : MOV EDX,dword ptr [EDI + 0x38]
006987d5 : MOV EAX,dword ptr [ESP + 0x1c]
006987d9 : MOV dword ptr [EDX + 0x8],EAX
006987dc : MOV ECX,dword ptr [EDI + 0x38]
006987df : MOV EDX,dword ptr [ESP + 0x20]
006987e3 : MOV dword ptr [ECX + 0xc],EDX
006987e6 : MOV EAX,dword ptr [EDI + 0x38]
006987e9 : MOV ECX,dword ptr [ESP + 0x24]
006987ed : MOV dword ptr [EAX],ECX
006987ef : MOV EDX,dword ptr [EDI + 0x38]
006987f2 : MOV EAX,dword ptr [ESP + 0x28]
006987f6 : MOV dword ptr [EDX + 0x4],EAX
006987f9 : LEA ESP,[ESP]
00698800 : MOV EAX,dword ptr [EDI + 0x38]
00698803 : MOV ECX,dword ptr [EAX + 0x1c]
00698806 : MOV EBX,dword ptr [EAX + 0x4]
00698809 : CMP ECX,EBX
0069880b : MOV EBP,dword ptr [EAX]
0069880d : MOV EDX,dword ptr [EAX + 0x14]
00698810 : MOV ESI,dword ptr [EAX + 0xc]
00698813 : MOV dword ptr [ESP + 0x1c],EBP
00698817 : JG 0x00698823
00698819 : MOV dword ptr [ESP + 0x14],ECX
0069881d : MOV dword ptr [ESP + 0x18],EBX
00698821 : JMP 0x0069882b
00698823 : MOV dword ptr [ESP + 0x14],EBX
00698827 : MOV dword ptr [ESP + 0x18],ECX
0069882b : CMP EDX,ESI
0069882d : JG 0x00698835
0069882f : MOV EBP,EDX
00698831 : MOV EDX,ESI
00698833 : JMP 0x00698837
00698835 : MOV EBP,ESI
00698837 : CMP EBP,dword ptr [ESP + 0x14]
0069883b : JL 0x006988c5
00698841 : CMP EDX,dword ptr [ESP + 0x18]
00698845 : JG 0x006988c5
00698847 : CMP ECX,EBX
00698849 : JNZ 0x00698853
0069884b : ADD EAX,-0x18
0069884e : MOV dword ptr [EDI + 0x38],EAX
00698851 : JMP 0x006988d2
00698853 : MOV EAX,dword ptr [EDI + 0x68]
00698856 : XOR EDX,EDX
00698858 : CMP ECX,EBX
0069885a : SETG DL
0069885d : INC EDX
0069885e : MOV ESI,EDX
00698860 : CMP EAX,ESI
00698862 : JZ 0x0069887e
00698864 : TEST EAX,EAX
00698866 : JZ 0x00698873
00698868 : MOV EAX,EDI
0069886a : CALL 0x00697fb0
0069886f : TEST AL,AL
00698871 : JNZ 0x0069889f
00698873 : MOV ECX,EDI
00698875 : CALL 0x00697f20
0069887a : TEST AL,AL
0069887c : JNZ 0x0069889f
0069887e : CMP ESI,0x1
00698881 : JNZ 0x006988a6
00698883 : MOV EAX,dword ptr [EDI + 0x54]
00698886 : MOV ECX,dword ptr [EDI + 0x50]
00698889 : PUSH EAX
0069888a : PUSH ECX
0069888b : PUSH 0x698190
00698890 : LEA EAX,[ESI + 0x2]
00698893 : CALL 0x006983e0
00698898 : ADD ESP,0xc
0069889b : TEST AL,AL
0069889d : JZ 0x006988d2
0069889f : POP EDI
006988a0 : POP ESI
006988a1 : POP EBP
006988a2 : MOV AL,0x1
006988a4 : POP EBX
006988a5 : RET
006988a6 : MOV ECX,dword ptr [EDI + 0x54]
006988a9 : MOV EDX,dword ptr [EDI + 0x50]
006988ac : PUSH 0x698190
006988b1 : PUSH EDI
006988b2 : MOV EAX,0x3
006988b7 : CALL 0x00698550
006988bc : ADD ESP,0x8
006988bf : TEST AL,AL
006988c1 : JNZ 0x0069889f
006988c3 : JMP 0x006988d2
006988c5 : PUSH EAX
006988c6 : CALL 0x00698190
006988cb : ADD ESP,0x4
006988ce : ADD dword ptr [EDI + 0x38],0x18
006988d2 : LEA EAX,[EDI + 0xbc]
006988d8 : CMP dword ptr [EDI + 0x38],EAX
006988db : JNC 0x00698800
006988e1 : MOV EDX,dword ptr [ESP + 0x1c]
006988e5 : MOV dword ptr [EDI + 0x4c],EBX
006988e8 : MOV dword ptr [EDI + 0x48],EDX
006988eb : POP EDI
006988ec : POP ESI
006988ed : POP EBP
006988ee : XOR AL,AL
006988f0 : POP EBX
006988f1 : RET
