PROGRAM  : Maestia.exe
FUNCTION : FUN_00539ee0
ENTRY    : 00539ee0
BODY     : [[00539ee0, 00539f77]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00539ee0(GRefCountImpl *param_1,undefined4 param_2,int param_3)

{
  undefined4 uVar1;
  int in_ECX;
  
  if (param_1 != (GRefCountImpl *)0x0) {
    GRefCountImpl::AddRef(param_1);
  }
  if (*(GRefCountImpl **)(in_ECX + 0x10) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x10));
  }
  *(GRefCountImpl **)(in_ECX + 0x10) = param_1;
  *(undefined4 *)(in_ECX + 4) = param_2;
  *(int *)(in_ECX + 8) = param_3;
  if (param_3 == 0) {
    uVar1 = 0;
  }
  else {
    uVar1 = *(undefined4 *)(param_3 + 0xc);
  }
  *(undefined4 *)(in_ECX + 0xc) = uVar1;
  *(undefined1 *)(in_ECX + 0x14) = 0;
  *(undefined1 *)(in_ECX + 0x15) = 0;
  if (param_1 == (GRefCountImpl *)0x0) {
    FUN_0051bf30();
  }
  else {
    uVar1 = (**(code **)(*(int *)param_1 + 4))();
    FUN_0051bb20(uVar1);
  }
  *(undefined4 *)(in_ECX + 0x28) = 0;
  *(undefined4 *)(in_ECX + 0x20) = 0;
  *(undefined4 *)(in_ECX + 0x24) = 0;
  *(undefined4 *)(in_ECX + 0x2c) = 0;
  *(undefined4 *)(in_ECX + 0x30) = 0;
  *(undefined1 *)(in_ECX + 0x38) = 0;
  if (param_1 != (GRefCountImpl *)0x0) {
    uVar1 = (**(code **)(*(int *)param_1 + 0x10))();
    *(undefined4 *)(in_ECX + 0x34) = uVar1;
    return;
  }
  *(undefined4 *)(in_ECX + 0x34) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
00539ee0 : PUSH EBX
00539ee1 : PUSH ESI
00539ee2 : PUSH EDI
00539ee3 : MOV EDI,dword ptr [ESP + 0x10]
00539ee7 : XOR EBX,EBX
00539ee9 : MOV ESI,ECX
00539eeb : CMP EDI,EBX
00539eed : JZ 0x00539ef6
00539eef : MOV ECX,EDI
00539ef1 : CALL 0x00523dd0
00539ef6 : MOV ECX,dword ptr [ESI + 0x10]
00539ef9 : CMP ECX,EBX
00539efb : JZ 0x00539f02
00539efd : CALL 0x004ff7e0
00539f02 : MOV EAX,dword ptr [ESP + 0x14]
00539f06 : MOV dword ptr [ESI + 0x10],EDI
00539f09 : MOV dword ptr [ESI + 0x4],EAX
00539f0c : MOV EAX,dword ptr [ESP + 0x18]
00539f10 : MOV dword ptr [ESI + 0x8],EAX
00539f13 : CMP EAX,EBX
00539f15 : JZ 0x00539f1c
00539f17 : MOV EAX,dword ptr [EAX + 0xc]
00539f1a : JMP 0x00539f1e
00539f1c : XOR EAX,EAX
00539f1e : MOV dword ptr [ESI + 0xc],EAX
00539f21 : MOV byte ptr [ESI + 0x14],BL
00539f24 : MOV byte ptr [ESI + 0x15],BL
00539f27 : CMP EDI,EBX
00539f29 : JZ 0x00539f3f
00539f2b : MOV EDX,dword ptr [EDI]
00539f2d : MOV EAX,dword ptr [EDX + 0x4]
00539f30 : MOV ECX,EDI
00539f32 : CALL EAX
00539f34 : PUSH EAX
00539f35 : LEA ECX,[ESI + 0x18]
00539f38 : CALL 0x0051bb20
00539f3d : JMP 0x00539f47
00539f3f : LEA ECX,[ESI + 0x18]
00539f42 : CALL 0x0051bf30
00539f47 : MOV dword ptr [ESI + 0x28],EBX
00539f4a : MOV dword ptr [ESI + 0x20],EBX
00539f4d : MOV dword ptr [ESI + 0x24],EBX
00539f50 : MOV dword ptr [ESI + 0x2c],EBX
00539f53 : MOV dword ptr [ESI + 0x30],EBX
00539f56 : MOV byte ptr [ESI + 0x38],BL
00539f59 : CMP EDI,EBX
00539f5b : JZ 0x00539f6f
00539f5d : MOV EDX,dword ptr [EDI]
00539f5f : MOV EAX,dword ptr [EDX + 0x10]
00539f62 : MOV ECX,EDI
00539f64 : CALL EAX
00539f66 : POP EDI
00539f67 : MOV dword ptr [ESI + 0x34],EAX
00539f6a : POP ESI
00539f6b : POP EBX
00539f6c : RET 0xc
00539f6f : POP EDI
00539f70 : MOV dword ptr [ESI + 0x34],EBX
00539f73 : POP ESI
00539f74 : POP EBX
00539f75 : RET 0xc
