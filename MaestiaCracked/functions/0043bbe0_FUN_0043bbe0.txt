PROGRAM  : Maestia.exe
FUNCTION : FUN_0043bbe0
ENTRY    : 0043bbe0
BODY     : [[0043bbe0, 0043be82]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0043bd0a) */
/* WARNING: Removing unreachable block (ram,0x0043bd1a) */
/* WARNING: Removing unreachable block (ram,0x0043bd23) */
/* WARNING: Removing unreachable block (ram,0x0043bd26) */
/* WARNING: Removing unreachable block (ram,0x0043bd16) */
/* WARNING: Removing unreachable block (ram,0x0043bd33) */
/* WARNING: Removing unreachable block (ram,0x0043bd43) */
/* WARNING: Removing unreachable block (ram,0x0043bd4e) */
/* WARNING: Removing unreachable block (ram,0x0043bd4a) */
/* WARNING: Removing unreachable block (ram,0x0043bd3e) */
/* WARNING: Removing unreachable block (ram,0x0043bd51) */
/* WARNING: Removing unreachable block (ram,0x0043bd61) */
/* WARNING: Removing unreachable block (ram,0x0043bd69) */

void FUN_0043bbe0(int param_1,undefined4 param_2,int *param_3)

{
  undefined4 *puVar1;
  int iVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  undefined1 local_5c [4];
  undefined1 local_58;
  undefined4 local_48;
  undefined4 local_44;
  undefined1 local_40 [44];
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b7a878;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (*(char *)((int)param_3 + 0x15) != '\0') {
    local_44 = 0xf;
    local_48 = 0;
    local_58 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_c = 0;
    FUN_00403c10(local_5c);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_40,&DAT_00ced890);
  }
  FUN_00416210(DAT_00d66fa0 ^ (uint)&stack0xffffff90);
  piVar6 = (int *)*param_3;
  if (*(char *)((int)piVar6 + 0x15) == '\0') {
    if (*(char *)(param_3[2] + 0x15) == '\0') {
      piVar6 = (int *)param_3[2];
    }
  }
  else {
    piVar6 = (int *)param_3[2];
  }
  piVar5 = (int *)param_3[1];
  if (*(char *)((int)piVar6 + 0x15) == '\0') {
    piVar6[1] = (int)piVar5;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar6;
  }
  else if ((int *)*piVar5 == param_3) {
    *piVar5 = (int)piVar6;
  }
  else {
    piVar5[2] = (int)piVar6;
  }
  puVar1 = *(undefined4 **)(param_1 + 4);
  if ((int *)*puVar1 == param_3) {
    piVar3 = piVar5;
    if (*(char *)((int)piVar6 + 0x15) == '\0') {
      piVar3 = (int *)FUN_0044f800();
    }
    *puVar1 = piVar3;
  }
  iVar2 = *(int *)(param_1 + 4);
  if (*(int **)(iVar2 + 8) == param_3) {
    if (*(char *)((int)piVar6 + 0x15) == '\0') {
      uVar4 = FUN_0041fe30();
      *(undefined4 *)(iVar2 + 8) = uVar4;
    }
    else {
      *(int **)(iVar2 + 8) = piVar5;
    }
  }
  if ((char)param_3[5] == '\x01') {
    if (piVar6 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar3 = piVar5;
        if ((char)piVar6[5] != '\x01') break;
        piVar5 = (int *)*piVar3;
        if (piVar6 == piVar5) {
          piVar5 = (int *)piVar3[2];
          if ((char)piVar5[5] == '\0') {
            *(undefined1 *)(piVar5 + 5) = 1;
            *(undefined1 *)(piVar3 + 5) = 0;
            FUN_00486420(param_1);
            piVar5 = (int *)piVar3[2];
          }
          if (*(char *)((int)piVar5 + 0x15) == '\0') {
            if ((*(char *)(*piVar5 + 0x14) != '\x01') || (*(char *)(piVar5[2] + 0x14) != '\x01')) {
              if (*(char *)(piVar5[2] + 0x14) == '\x01') {
                *(undefined1 *)(*piVar5 + 0x14) = 1;
                *(undefined1 *)(piVar5 + 5) = 0;
                FUN_00440290(param_1);
                piVar5 = (int *)piVar3[2];
              }
              *(char *)(piVar5 + 5) = (char)piVar3[5];
              *(undefined1 *)(piVar3 + 5) = 1;
              *(undefined1 *)(piVar5[2] + 0x14) = 1;
              FUN_00486420(param_1);
              break;
            }
LAB_0043be2e:
            *(undefined1 *)(piVar5 + 5) = 0;
          }
        }
        else {
          if ((char)piVar5[5] == '\0') {
            *(undefined1 *)(piVar5 + 5) = 1;
            *(undefined1 *)(piVar3 + 5) = 0;
            FUN_00440290(param_1);
            piVar5 = (int *)*piVar3;
          }
          if (*(char *)((int)piVar5 + 0x15) == '\0') {
            if ((*(char *)(piVar5[2] + 0x14) == '\x01') && (*(char *)(*piVar5 + 0x14) == '\x01'))
            goto LAB_0043be2e;
            if (*(char *)(*piVar5 + 0x14) == '\x01') {
              *(undefined1 *)(piVar5[2] + 0x14) = 1;
              *(undefined1 *)(piVar5 + 5) = 0;
              FUN_00486420(param_1);
              piVar5 = (int *)*piVar3;
            }
            *(char *)(piVar5 + 5) = (char)piVar3[5];
            *(undefined1 *)(piVar3 + 5) = 1;
            *(undefined1 *)(*piVar5 + 0x14) = 1;
            FUN_00440290(param_1);
            break;
          }
        }
        piVar5 = (int *)piVar3[1];
        piVar6 = piVar3;
      } while (piVar3 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar6 + 5) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0043bbe0 : PUSH EBP
0043bbe1 : MOV EBP,ESP
0043bbe3 : AND ESP,0xfffffff8
0043bbe6 : PUSH -0x1
0043bbe8 : PUSH 0xb7a878
0043bbed : MOV EAX,FS:[0x0]
0043bbf3 : PUSH EAX
0043bbf4 : SUB ESP,0x50
0043bbf7 : PUSH EBX
0043bbf8 : PUSH ESI
0043bbf9 : PUSH EDI
0043bbfa : MOV EAX,[0x00d66fa0]
0043bbff : XOR EAX,ESP
0043bc01 : PUSH EAX
0043bc02 : LEA EAX,[ESP + 0x60]
0043bc06 : MOV FS:[0x0],EAX
0043bc0c : MOV EAX,dword ptr [EBP + 0x10]
0043bc0f : CMP byte ptr [EAX + 0x15],0x0
0043bc13 : JZ 0x0043bc59
0043bc15 : PUSH 0x1b
0043bc17 : XOR ESI,ESI
0043bc19 : PUSH 0xcca4a8
0043bc1e : LEA ECX,[ESP + 0x20]
0043bc22 : MOV dword ptr [ESP + 0x38],0xf
0043bc2a : MOV dword ptr [ESP + 0x34],ESI
0043bc2e : MOV byte ptr [ESP + 0x24],0x0
0043bc33 : CALL 0x00404b50
0043bc38 : MOV dword ptr [ESP + 0x68],ESI
0043bc3c : LEA EAX,[ESP + 0x18]
0043bc40 : PUSH EAX
0043bc41 : LEA ECX,[ESP + 0x38]
0043bc45 : CALL 0x00403c10
0043bc4a : PUSH 0xced890
0043bc4f : LEA ECX,[ESP + 0x38]
0043bc53 : PUSH ECX
0043bc54 : CALL 0x006409eb
0043bc59 : MOV EBX,EAX
0043bc5b : LEA EDX,[EBP + 0x10]
0043bc5e : MOV dword ptr [ESP + 0x10],EBX
0043bc62 : CALL 0x00416210
0043bc67 : MOV ECX,dword ptr [EBX]
0043bc69 : CMP byte ptr [ECX + 0x15],0x0
0043bc6d : JZ 0x0043bc74
0043bc6f : MOV EDI,dword ptr [EBX + 0x8]
0043bc72 : JMP 0x0043bc8e
0043bc74 : MOV EDX,dword ptr [EBX + 0x8]
0043bc77 : CMP byte ptr [EDX + 0x15],0x0
0043bc7b : JZ 0x0043bc81
0043bc7d : MOV EDI,ECX
0043bc7f : JMP 0x0043bc8e
0043bc81 : MOV EAX,dword ptr [EBP + 0x10]
0043bc84 : MOV EDI,dword ptr [EAX + 0x8]
0043bc87 : LEA EDX,[EAX + 0x8]
0043bc8a : CMP EAX,EBX
0043bc8c : JNZ 0x0043bd0a
0043bc8e : CMP byte ptr [EDI + 0x15],0x0
0043bc92 : MOV ESI,dword ptr [EBX + 0x4]
0043bc95 : JNZ 0x0043bc9a
0043bc97 : MOV dword ptr [EDI + 0x4],ESI
0043bc9a : MOV EDX,dword ptr [EBP + 0x8]
0043bc9d : MOV EAX,dword ptr [EDX + 0x4]
0043bca0 : CMP dword ptr [EAX + 0x4],EBX
0043bca3 : JNZ 0x0043bcaa
0043bca5 : MOV dword ptr [EAX + 0x4],EDI
0043bca8 : JMP 0x0043bcb5
0043bcaa : CMP dword ptr [ESI],EBX
0043bcac : JNZ 0x0043bcb2
0043bcae : MOV dword ptr [ESI],EDI
0043bcb0 : JMP 0x0043bcb5
0043bcb2 : MOV dword ptr [ESI + 0x8],EDI
0043bcb5 : MOV ECX,dword ptr [EDX + 0x4]
0043bcb8 : MOV dword ptr [ESP + 0x14],ECX
0043bcbc : CMP dword ptr [ECX],EBX
0043bcbe : JNZ 0x0043bcda
0043bcc0 : CMP byte ptr [EDI + 0x15],0x0
0043bcc4 : JZ 0x0043bcca
0043bcc6 : MOV EAX,ESI
0043bcc8 : JMP 0x0043bcd8
0043bcca : MOV EAX,EDI
0043bccc : CALL 0x0044f800
0043bcd1 : MOV EDX,dword ptr [EBP + 0x8]
0043bcd4 : MOV ECX,dword ptr [ESP + 0x14]
0043bcd8 : MOV dword ptr [ECX],EAX
0043bcda : MOV ECX,dword ptr [EDX + 0x4]
0043bcdd : MOV dword ptr [ESP + 0x14],ECX
0043bce1 : CMP dword ptr [ECX + 0x8],EBX
0043bce4 : JNZ 0x0043bd6c
0043bcea : CMP byte ptr [EDI + 0x15],0x0
0043bcee : JZ 0x0043bcf7
0043bcf0 : MOV EAX,ESI
0043bcf2 : MOV dword ptr [ECX + 0x8],EAX
0043bcf5 : JMP 0x0043bd6c
0043bcf7 : MOV EAX,EDI
0043bcf9 : CALL 0x0041fe30
0043bcfe : MOV ECX,dword ptr [ESP + 0x14]
0043bd02 : MOV EDX,dword ptr [EBP + 0x8]
0043bd05 : MOV dword ptr [ECX + 0x8],EAX
0043bd08 : JMP 0x0043bd6c
0043bd0a : MOV dword ptr [ECX + 0x4],EAX
0043bd0d : MOV ECX,dword ptr [EBX]
0043bd0f : MOV dword ptr [EAX],ECX
0043bd11 : CMP EAX,dword ptr [EBX + 0x8]
0043bd14 : JNZ 0x0043bd1a
0043bd16 : MOV ESI,EAX
0043bd18 : JMP 0x0043bd33
0043bd1a : CMP byte ptr [EDI + 0x15],0x0
0043bd1e : MOV ESI,dword ptr [EAX + 0x4]
0043bd21 : JNZ 0x0043bd26
0043bd23 : MOV dword ptr [EDI + 0x4],ESI
0043bd26 : MOV dword ptr [ESI],EDI
0043bd28 : MOV ECX,dword ptr [EBX + 0x8]
0043bd2b : MOV dword ptr [EDX],ECX
0043bd2d : MOV EDX,dword ptr [EBX + 0x8]
0043bd30 : MOV dword ptr [EDX + 0x4],EAX
0043bd33 : MOV ECX,dword ptr [EBP + 0x8]
0043bd36 : MOV ECX,dword ptr [ECX + 0x4]
0043bd39 : CMP dword ptr [ECX + 0x4],EBX
0043bd3c : JNZ 0x0043bd43
0043bd3e : MOV dword ptr [ECX + 0x4],EAX
0043bd41 : JMP 0x0043bd51
0043bd43 : MOV ECX,dword ptr [EBX + 0x4]
0043bd46 : CMP dword ptr [ECX],EBX
0043bd48 : JNZ 0x0043bd4e
0043bd4a : MOV dword ptr [ECX],EAX
0043bd4c : JMP 0x0043bd51
0043bd4e : MOV dword ptr [ECX + 0x8],EAX
0043bd51 : MOV EDX,dword ptr [EBX + 0x4]
0043bd54 : MOV dword ptr [EAX + 0x4],EDX
0043bd57 : LEA ECX,[EBX + 0x14]
0043bd5a : ADD EAX,0x14
0043bd5d : CMP EAX,ECX
0043bd5f : JZ 0x0043bd69
0043bd61 : MOV BL,byte ptr [ECX]
0043bd63 : MOV DL,byte ptr [EAX]
0043bd65 : MOV byte ptr [EAX],BL
0043bd67 : MOV byte ptr [ECX],DL
0043bd69 : MOV EDX,dword ptr [EBP + 0x8]
0043bd6c : MOV EAX,dword ptr [ESP + 0x10]
0043bd70 : MOV BL,0x1
0043bd72 : CMP byte ptr [EAX + 0x14],BL
0043bd75 : JNZ 0x0043be7a
0043bd7b : MOV ECX,dword ptr [EDX + 0x4]
0043bd7e : CMP EDI,dword ptr [ECX + 0x4]
0043bd81 : JZ 0x0043be77
0043bd87 : CMP byte ptr [EDI + 0x14],BL
0043bd8a : JNZ 0x0043be77
0043bd90 : MOV ECX,dword ptr [ESI]
0043bd92 : CMP EDI,ECX
0043bd94 : JNZ 0x0043bdff
0043bd96 : MOV ECX,dword ptr [ESI + 0x8]
0043bd99 : CMP byte ptr [ECX + 0x14],0x0
0043bd9d : JNZ 0x0043bdb4
0043bd9f : MOV byte ptr [ECX + 0x14],BL
0043bda2 : PUSH EDX
0043bda3 : MOV ECX,ESI
0043bda5 : MOV byte ptr [ESI + 0x14],0x0
0043bda9 : CALL 0x00486420
0043bdae : MOV ECX,dword ptr [ESI + 0x8]
0043bdb1 : MOV EDX,dword ptr [EBP + 0x8]
0043bdb4 : CMP byte ptr [ECX + 0x15],0x0
0043bdb8 : JNZ 0x0043be32
0043bdba : MOV EAX,dword ptr [ECX]
0043bdbc : CMP byte ptr [EAX + 0x14],BL
0043bdbf : JNZ 0x0043bdc9
0043bdc1 : MOV EAX,dword ptr [ECX + 0x8]
0043bdc4 : CMP byte ptr [EAX + 0x14],BL
0043bdc7 : JZ 0x0043be2e
0043bdc9 : MOV EAX,dword ptr [ECX + 0x8]
0043bdcc : CMP byte ptr [EAX + 0x14],BL
0043bdcf : JNZ 0x0043bde6
0043bdd1 : MOV EAX,dword ptr [ECX]
0043bdd3 : MOV byte ptr [EAX + 0x14],BL
0043bdd6 : PUSH EDX
0043bdd7 : MOV byte ptr [ECX + 0x14],0x0
0043bddb : CALL 0x00440290
0043bde0 : MOV ECX,dword ptr [ESI + 0x8]
0043bde3 : MOV EDX,dword ptr [EBP + 0x8]
0043bde6 : MOV AL,byte ptr [ESI + 0x14]
0043bde9 : MOV byte ptr [ECX + 0x14],AL
0043bdec : MOV byte ptr [ESI + 0x14],BL
0043bdef : MOV ECX,dword ptr [ECX + 0x8]
0043bdf2 : MOV byte ptr [ECX + 0x14],BL
0043bdf5 : PUSH EDX
0043bdf6 : MOV ECX,ESI
0043bdf8 : CALL 0x00486420
0043bdfd : JMP 0x0043be77
0043bdff : CMP byte ptr [ECX + 0x14],0x0
0043be03 : JNZ 0x0043be19
0043be05 : MOV byte ptr [ECX + 0x14],BL
0043be08 : PUSH EDX
0043be09 : MOV ECX,ESI
0043be0b : MOV byte ptr [ESI + 0x14],0x0
0043be0f : CALL 0x00440290
0043be14 : MOV ECX,dword ptr [ESI]
0043be16 : MOV EDX,dword ptr [EBP + 0x8]
0043be19 : CMP byte ptr [ECX + 0x15],0x0
0043be1d : JNZ 0x0043be32
0043be1f : MOV EAX,dword ptr [ECX + 0x8]
0043be22 : CMP byte ptr [EAX + 0x14],BL
0043be25 : JNZ 0x0043be45
0043be27 : MOV EAX,dword ptr [ECX]
0043be29 : CMP byte ptr [EAX + 0x14],BL
0043be2c : JNZ 0x0043be45
0043be2e : MOV byte ptr [ECX + 0x14],0x0
0043be32 : MOV ECX,dword ptr [EDX + 0x4]
0043be35 : MOV EDI,ESI
0043be37 : MOV ESI,dword ptr [ESI + 0x4]
0043be3a : CMP EDI,dword ptr [ECX + 0x4]
0043be3d : JNZ 0x0043bd87
0043be43 : JMP 0x0043be77
0043be45 : MOV EAX,dword ptr [ECX]
0043be47 : CMP byte ptr [EAX + 0x14],BL
0043be4a : JNZ 0x0043be61
0043be4c : MOV EAX,dword ptr [ECX + 0x8]
0043be4f : MOV byte ptr [EAX + 0x14],BL
0043be52 : PUSH EDX
0043be53 : MOV byte ptr [ECX + 0x14],0x0
0043be57 : CALL 0x00486420
0043be5c : MOV ECX,dword ptr [ESI]
0043be5e : MOV EDX,dword ptr [EBP + 0x8]
0043be61 : MOV AL,byte ptr [ESI + 0x14]
0043be64 : MOV byte ptr [ECX + 0x14],AL
0043be67 : MOV byte ptr [ESI + 0x14],BL
0043be6a : MOV ECX,dword ptr [ECX]
0043be6c : MOV byte ptr [ECX + 0x14],BL
0043be6f : PUSH EDX
0043be70 : MOV ECX,ESI
0043be72 : CALL 0x00440290
0043be77 : MOV byte ptr [EDI + 0x14],BL
0043be7a : MOV ECX,dword ptr [ESP + 0x10]
0043be7e : CALL 0x006f04e0
