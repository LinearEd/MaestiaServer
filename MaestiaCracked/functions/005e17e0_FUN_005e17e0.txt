PROGRAM  : Maestia.exe
FUNCTION : FUN_005e17e0
ENTRY    : 005e17e0
BODY     : [[005e17e0, 005e18ff]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_005e17e0(undefined4 param_1,undefined4 param_2,int *param_3)

{
  int iVar1;
  GRefCountImpl *pGVar2;
  int iVar3;
  int local_10;
  GRefCountImpl *local_c;
  int *local_8;
  undefined4 uStack_4;
  
  iVar3 = 0;
  iVar1 = FUN_00515840(0x14,0);
  if (iVar1 == 0) {
    pGVar2 = (GRefCountImpl *)0x0;
  }
  else {
    pGVar2 = (GRefCountImpl *)FUN_005e16d0(param_1,param_2,param_3);
  }
  FUN_005237c0(&PTR_PTR_00d65e50,pGVar2);
  if (pGVar2 != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(pGVar2);
  }
  local_10 = 0;
  local_c = (GRefCountImpl *)0x0;
  iVar1 = FUN_00524930(&local_10,&local_8);
  if (iVar1 != 3) {
    iVar3 = FUN_00523e20();
    goto LAB_005e18c0;
  }
  pGVar2 = (GRefCountImpl *)(**(code **)(*param_3 + 4))(param_1,param_2);
  if (pGVar2 == (GRefCountImpl *)0x0) {
LAB_005e189a:
    FUN_00524480(&DAT_00cca874);
  }
  else {
    iVar1 = FUN_00515840(0x2c,0);
    if (iVar1 == 0) {
      iVar3 = 0;
      goto LAB_005e189a;
    }
    iVar3 = FUN_005e0460(pGVar2,&local_8);
    if (iVar3 == 0) goto LAB_005e189a;
    FUN_005243e0(iVar3);
  }
  if (pGVar2 != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(pGVar2);
  }
LAB_005e18c0:
  if (local_10 == 1) {
    FUN_00524240();
  }
  else if (1 < local_10) {
    GRefCountImpl::Release(local_c);
  }
  if (local_8 != (int *)0x0) {
    (**(code **)(*local_8 + 8))(uStack_4);
  }
  return iVar3;
}



============================================================
DISASSEMBLY
============================================================
005e17e0 : MOV ECX,dword ptr [0x00d73250]
005e17e6 : SUB ESP,0x10
005e17e9 : PUSH EBX
005e17ea : PUSH EBP
005e17eb : PUSH ESI
005e17ec : PUSH EDI
005e17ed : XOR EBX,EBX
005e17ef : PUSH EBX
005e17f0 : PUSH 0x14
005e17f2 : CALL 0x00515840
005e17f7 : MOV EDI,dword ptr [ESP + 0x2c]
005e17fb : MOV EBP,dword ptr [ESP + 0x28]
005e17ff : CMP EAX,EBX
005e1801 : JZ 0x005e1815
005e1803 : MOV ECX,dword ptr [ESP + 0x24]
005e1807 : PUSH EDI
005e1808 : PUSH EBP
005e1809 : PUSH ECX
005e180a : MOV ECX,EAX
005e180c : CALL 0x005e16d0
005e1811 : MOV ESI,EAX
005e1813 : JMP 0x005e1817
005e1815 : XOR ESI,ESI
005e1817 : PUSH ESI
005e1818 : PUSH 0xd65e50
005e181d : LEA ECX,[ESP + 0x20]
005e1821 : CALL 0x005237c0
005e1826 : CMP ESI,EBX
005e1828 : JZ 0x005e1831
005e182a : MOV ECX,ESI
005e182c : CALL 0x004ff7e0
005e1831 : MOV ECX,dword ptr [ESP + 0x30]
005e1835 : LEA EDX,[ESP + 0x18]
005e1839 : PUSH EDX
005e183a : LEA EAX,[ESP + 0x14]
005e183e : PUSH EAX
005e183f : MOV dword ptr [ESP + 0x18],EBX
005e1843 : MOV dword ptr [ESP + 0x1c],EBX
005e1847 : CALL 0x00524930
005e184c : CMP EAX,0x3
005e184f : JNZ 0x005e18b5
005e1851 : MOV EDX,dword ptr [EDI]
005e1853 : MOV EAX,dword ptr [ESP + 0x24]
005e1857 : MOV EDX,dword ptr [EDX + 0x4]
005e185a : PUSH EBP
005e185b : PUSH EAX
005e185c : MOV ECX,EDI
005e185e : CALL EDX
005e1860 : MOV ESI,EAX
005e1862 : TEST ESI,ESI
005e1864 : JZ 0x005e189a
005e1866 : MOV ECX,dword ptr [0x00d73250]
005e186c : PUSH 0x0
005e186e : PUSH 0x2c
005e1870 : CALL 0x00515840
005e1875 : TEST EAX,EAX
005e1877 : JZ 0x005e1898
005e1879 : LEA ECX,[ESP + 0x18]
005e187d : PUSH ECX
005e187e : PUSH ESI
005e187f : MOV ECX,EAX
005e1881 : CALL 0x005e0460
005e1886 : MOV EBX,EAX
005e1888 : TEST EBX,EBX
005e188a : JZ 0x005e189a
005e188c : MOV ECX,dword ptr [ESP + 0x14]
005e1890 : PUSH EBX
005e1891 : CALL 0x005243e0
005e1896 : JMP 0x005e18a8
005e1898 : XOR EBX,EBX
005e189a : MOV ECX,dword ptr [ESP + 0x14]
005e189e : PUSH 0xcca874
005e18a3 : CALL 0x00524480
005e18a8 : TEST ESI,ESI
005e18aa : JZ 0x005e18c0
005e18ac : MOV ECX,ESI
005e18ae : CALL 0x004ff7e0
005e18b3 : JMP 0x005e18c0
005e18b5 : LEA ECX,[ESP + 0x10]
005e18b9 : CALL 0x00523e20
005e18be : MOV EBX,EAX
005e18c0 : MOV EAX,dword ptr [ESP + 0x10]
005e18c4 : CMP EAX,0x1
005e18c7 : JNZ 0x005e18d4
005e18c9 : MOV ECX,dword ptr [ESP + 0x14]
005e18cd : CALL 0x00524240
005e18d2 : JMP 0x005e18e2
005e18d4 : CMP EAX,0x2
005e18d7 : JL 0x005e18e2
005e18d9 : MOV ECX,dword ptr [ESP + 0x14]
005e18dd : CALL 0x004ff7e0
005e18e2 : MOV ECX,dword ptr [ESP + 0x18]
005e18e6 : TEST ECX,ECX
005e18e8 : JZ 0x005e18f6
005e18ea : MOV EDX,dword ptr [ECX]
005e18ec : MOV EAX,dword ptr [ESP + 0x1c]
005e18f0 : MOV EDX,dword ptr [EDX + 0x8]
005e18f3 : PUSH EAX
005e18f4 : CALL EDX
005e18f6 : POP EDI
005e18f7 : POP ESI
005e18f8 : POP EBP
005e18f9 : MOV EAX,EBX
005e18fb : POP EBX
005e18fc : ADD ESP,0x10
005e18ff : RET
