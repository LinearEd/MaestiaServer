PROGRAM  : Maestia.exe
FUNCTION : FUN_00805710
ENTRY    : 00805710
BODY     : [[00805710, 008058be]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_00805710(int param_1)

{
  undefined1 uVar1;
  uint in_EAX;
  uint uVar2;
  int iVar3;
  undefined4 in_XMM0_Da;
  undefined4 local_20;
  undefined4 local_1c;
  undefined8 local_18;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 uStack_8;
  undefined4 local_4;
  
  uVar2 = in_EAX;
  if (*(int *)(in_EAX + 8) + 4U <= *(uint *)(in_EAX + 4)) {
    uVar2 = FUN_004575f0();
    *(uint *)(param_1 + 0xd70) = uVar2;
    if ((int)uVar2 < 1) {
      if (uVar2 == 0) {
        return 1;
      }
    }
    else {
      uVar2 = FUN_00455eb0(uVar2);
      *(uint *)(param_1 + 0xd74) = uVar2;
      local_1c = 0;
      if (0 < *(int *)(param_1 + 0xd70)) {
        local_20 = 0;
        do {
          iVar3 = *(int *)(param_1 + 0xd74) + local_20;
          FUN_00457650();
          *(undefined4 *)(iVar3 + 0x108) = in_XMM0_Da;
          FUN_00457650();
          *(undefined4 *)(iVar3 + 0x10c) = in_XMM0_Da;
          FUN_00457650();
          *(undefined4 *)(iVar3 + 0x110) = in_XMM0_Da;
          FUN_00457650();
          *(undefined4 *)(iVar3 + 0x114) = in_XMM0_Da;
          FUN_00457650();
          *(undefined4 *)(iVar3 + 0x118) = in_XMM0_Da;
          FUN_00457650();
          *(undefined4 *)(iVar3 + 0x11c) = in_XMM0_Da;
          FUN_00457650();
          *(undefined4 *)(iVar3 + 0x120) = in_XMM0_Da;
          uVar1 = FUN_004576b0(iVar3,0x100);
          if (*(int *)(in_EAX + 0x58) != 0) {
            FUN_00457770(*(undefined4 *)(iVar3 + 0x108),*(undefined4 *)(iVar3 + 0x10c),
                         *(undefined4 *)(iVar3 + 0x110));
            *(undefined8 *)(iVar3 + 0x108) = local_18;
            *(undefined4 *)(iVar3 + 0x110) = local_10;
            FUN_00457770(*(undefined4 *)(iVar3 + 0x114),*(undefined4 *)(iVar3 + 0x118),
                         *(undefined4 *)(iVar3 + 0x11c));
            *(undefined4 *)(iVar3 + 0x114) = local_c;
            *(undefined4 *)(iVar3 + 0x118) = uStack_8;
            *(undefined4 *)(iVar3 + 0x11c) = local_4;
            in_XMM0_Da = local_c;
          }
          local_20 = local_20 + 0x124;
          local_1c = local_1c + 1;
        } while (local_1c < *(int *)(param_1 + 0xd70));
        return CONCAT31((int3)((uint)local_1c >> 8),uVar1);
      }
    }
  }
  return uVar2 & 0xffffff00;
}



============================================================
DISASSEMBLY
============================================================
00805710 : SUB ESP,0x20
00805713 : PUSH EBX
00805714 : MOV EBX,dword ptr [ESP + 0x28]
00805718 : PUSH EBP
00805719 : PUSH ESI
0080571a : PUSH EDI
0080571b : MOV EDI,EAX
0080571d : MOV ECX,dword ptr [EDI + 0x8]
00805720 : ADD ECX,0x4
00805723 : XOR AL,AL
00805725 : CMP ECX,dword ptr [EDI + 0x4]
00805728 : JA 0x008058b5
0080572e : MOV EAX,EDI
00805730 : CALL 0x004575f0
00805735 : XOR ESI,ESI
00805737 : CMP EAX,ESI
00805739 : MOV dword ptr [EBX + 0xd70],EAX
0080573f : JLE 0x008058a5
00805745 : PUSH EAX
00805746 : CALL 0x00455eb0
0080574b : ADD ESP,0x4
0080574e : CMP dword ptr [EBX + 0xd70],ESI
00805754 : MOV dword ptr [EBX + 0xd74],EAX
0080575a : MOV dword ptr [ESP + 0x14],ESI
0080575e : JLE 0x008058b3
00805764 : MOV dword ptr [ESP + 0x10],ESI
00805768 : MOV EBP,dword ptr [EBX + 0xd74]
0080576e : ADD EBP,dword ptr [ESP + 0x10]
00805772 : MOV EAX,EDI
00805774 : CALL 0x00457650
00805779 : MOV EAX,EDI
0080577b : MOVSS dword ptr [EBP + 0x108],XMM0
00805783 : CALL 0x00457650
00805788 : MOV EAX,EDI
0080578a : MOVSS dword ptr [EBP + 0x10c],XMM0
00805792 : CALL 0x00457650
00805797 : MOV EAX,EDI
00805799 : MOVSS dword ptr [EBP + 0x110],XMM0
008057a1 : CALL 0x00457650
008057a6 : MOV EAX,EDI
008057a8 : MOVSS dword ptr [EBP + 0x114],XMM0
008057b0 : CALL 0x00457650
008057b5 : MOV EAX,EDI
008057b7 : MOVSS dword ptr [EBP + 0x118],XMM0
008057bf : CALL 0x00457650
008057c4 : MOV EAX,EDI
008057c6 : MOVSS dword ptr [EBP + 0x11c],XMM0
008057ce : CALL 0x00457650
008057d3 : PUSH 0x100
008057d8 : PUSH EBP
008057d9 : MOVSS dword ptr [EBP + 0x120],XMM0
008057e1 : CALL 0x004576b0
008057e6 : CMP dword ptr [EDI + 0x58],0x0
008057ea : MOV byte ptr [ESP + 0x34],AL
008057ee : JZ 0x0080587a
008057f4 : FLD float ptr [EBP + 0x110]
008057fa : SUB ESP,0xc
008057fd : FSTP float ptr [ESP + 0x8]
00805801 : LEA ESI,[ESP + 0x24]
00805805 : FLD float ptr [EBP + 0x10c]
0080580b : MOV EAX,EDI
0080580d : FSTP float ptr [ESP + 0x4]
00805811 : FLD float ptr [EBP + 0x108]
00805817 : FSTP float ptr [ESP]
0080581a : CALL 0x00457770
0080581f : MOVQ XMM0,qword ptr [ESP + 0x18]
00805825 : MOV EDX,dword ptr [ESP + 0x20]
00805829 : MOVQ qword ptr [EBP + 0x108],XMM0
00805831 : MOV dword ptr [EBP + 0x110],EDX
00805837 : FLD float ptr [EBP + 0x11c]
0080583d : SUB ESP,0xc
00805840 : FSTP float ptr [ESP + 0x8]
00805844 : LEA ESI,[ESP + 0x30]
00805848 : FLD float ptr [EBP + 0x118]
0080584e : MOV EAX,EDI
00805850 : FSTP float ptr [ESP + 0x4]
00805854 : FLD float ptr [EBP + 0x114]
0080585a : FSTP float ptr [ESP]
0080585d : CALL 0x00457770
00805862 : MOVQ XMM0,qword ptr [ESP + 0x24]
00805868 : MOV EAX,dword ptr [ESP + 0x2c]
0080586c : MOVQ qword ptr [EBP + 0x114],XMM0
00805874 : MOV dword ptr [EBP + 0x11c],EAX
0080587a : MOV EAX,dword ptr [ESP + 0x14]
0080587e : ADD dword ptr [ESP + 0x10],0x124
00805886 : INC EAX
00805887 : CMP EAX,dword ptr [EBX + 0xd70]
0080588d : MOV dword ptr [ESP + 0x14],EAX
00805891 : JL 0x00805768
00805897 : MOV AL,byte ptr [ESP + 0x34]
0080589b : POP EDI
0080589c : POP ESI
0080589d : POP EBP
0080589e : POP EBX
0080589f : ADD ESP,0x20
008058a2 : RET 0x4
008058a5 : JNZ 0x008058b3
008058a7 : MOV AL,0x1
008058a9 : POP EDI
008058aa : POP ESI
008058ab : POP EBP
008058ac : POP EBX
008058ad : ADD ESP,0x20
008058b0 : RET 0x4
008058b3 : XOR AL,AL
008058b5 : POP EDI
008058b6 : POP ESI
008058b7 : POP EBP
008058b8 : POP EBX
008058b9 : ADD ESP,0x20
008058bc : RET 0x4
