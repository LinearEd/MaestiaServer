PROGRAM  : Maestia.exe
FUNCTION : FUN_0073b520
ENTRY    : 0073b520
BODY     : [[0073b520, 0073b915]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0073b520(int *param_1,int param_2)

{
  int in_EAX;
  int iVar1;
  code *pcVar2;
  int *piVar3;
  int *piVar4;
  undefined4 local_180;
  undefined4 local_17c;
  undefined4 local_178;
  undefined4 local_174;
  undefined4 local_170;
  undefined4 local_16c;
  undefined4 local_168;
  undefined4 local_164;
  undefined4 local_160;
  undefined4 local_15c;
  undefined4 local_158;
  undefined4 local_154;
  undefined4 local_150;
  undefined4 local_14c;
  undefined4 local_148;
  undefined4 local_144;
  int local_140 [49];
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  int *local_14;
  
  if (*(int *)(in_EAX + 0x14) == 0) {
    (*(code *)PTR_FUN_00d6d23c)
              ("(!)%s(%d)\n","AvaLib::AvaFxRenderGroup::SetConstsForPerRender",0x695);
    return;
  }
  local_14 = *(int **)(*(int *)(in_EAX + 0x14) + 0x1c);
  local_148 = 0;
  local_14c = 0;
  local_150 = 0;
  local_154 = 0;
  local_15c = 0;
  local_160 = 0;
  local_164 = 0;
  local_168 = 0;
  local_170 = 0;
  local_174 = 0;
  local_178 = 0;
  local_17c = 0;
  local_144 = 0x3f800000;
  local_158 = 0x3f800000;
  local_16c = 0x3f800000;
  local_180 = 0x3f800000;
  local_140[0x2e] = 0;
  local_140[0x2d] = 0;
  local_140[0x2c] = 0;
  local_140[0x2b] = 0;
  local_140[0x29] = 0;
  local_140[0x28] = 0;
  local_140[0x27] = 0;
  local_140[0x26] = 0;
  local_140[0x24] = 0;
  local_140[0x23] = 0;
  local_140[0x22] = 0;
  local_140[0x21] = 0;
  local_140[0x2f] = 0x3f800000;
  local_140[0x2a] = 0x3f800000;
  local_140[0x25] = 0x3f800000;
  local_140[0x20] = 0x3f800000;
  local_140[0x1e] = 0;
  local_140[0x1d] = 0;
  local_140[0x1c] = 0;
  local_140[0x1b] = 0;
  local_140[0x19] = 0;
  local_140[0x18] = 0;
  local_140[0x17] = 0;
  local_140[0x16] = 0;
  local_140[0x14] = 0;
  local_140[0x13] = 0;
  local_140[0x12] = 0;
  local_140[0x11] = 0;
  local_140[0x1f] = 0x3f800000;
  local_140[0x1a] = 0x3f800000;
  local_140[0x15] = 0x3f800000;
  local_140[0x10] = 0x3f800000;
  local_140[0xe] = 0;
  local_140[0xd] = 0;
  local_140[0xc] = 0;
  local_140[0xb] = 0;
  local_140[9] = 0;
  local_140[8] = 0;
  local_140[7] = 0;
  local_140[6] = 0;
  local_140[4] = 0;
  local_140[3] = 0;
  local_140[2] = 0;
  local_140[1] = 0;
  local_140[0xf] = 0x3f800000;
  local_140[10] = 0x3f800000;
  local_140[5] = 0x3f800000;
  local_140[0] = 0x3f800000;
  local_38 = 0;
  local_3c = 0;
  local_40 = 0;
  local_44 = 0;
  local_4c = 0;
  local_50 = 0;
  local_54 = 0;
  local_58 = 0;
  local_60 = 0;
  local_64 = 0;
  local_68 = 0;
  local_6c = 0;
  local_34 = 0x3f800000;
  local_48 = 0x3f800000;
  local_5c = 0x3f800000;
  local_70 = 0x3f800000;
  (**(code **)(**(int **)(param_2 + 4) + 0x9c))(local_140 + 0x20,param_2);
  (**(code **)(*param_1 + 0x1c))();
  piVar3 = param_1 + 0x2d;
  piVar4 = local_140 + 0x10;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *piVar4 = *piVar3;
    piVar3 = piVar3 + 1;
    piVar4 = piVar4 + 1;
  }
  if (*(char *)((int)param_1 + 0x157) == '\0') {
    pcVar2 = *(code **)(*param_1 + 0x30);
  }
  else {
    pcVar2 = *(code **)(*param_1 + 0x20);
  }
  (*pcVar2)();
  piVar3 = param_1 + 0x1d;
  piVar4 = local_140;
  for (iVar1 = 0x10; iVar1 != 0; iVar1 = iVar1 + -1) {
    *piVar4 = *piVar3;
    piVar3 = piVar3 + 1;
    piVar4 = piVar4 + 1;
  }
  D3DXMatrixInverse(&local_180,0,local_140 + 0x20);
  D3DXMatrixMultiply(&local_70,local_140 + 0x20,local_140 + 0x10);
  D3DXMatrixMultiply(&local_70,&local_70,local_140);
  piVar3 = local_14;
  (**(code **)(*local_14 + 0x98))(local_14,"matWVP",&local_70);
  local_24 = 0;
  local_20 = 0;
  local_1c = 0;
  local_18 = 0;
  iVar1 = (**(code **)(**(int **)(param_2 + 4) + 0xb4))();
  if (iVar1 != 0) {
    local_20 = *(undefined4 *)(iVar1 + 0x3c);
    local_1c = *(undefined4 *)(iVar1 + 0x60);
    local_18 = *(undefined4 *)(iVar1 + 100);
    local_140[0x30] = *(undefined4 *)(iVar1 + 0x2c);
    local_7c = *(undefined4 *)(iVar1 + 0x30);
    local_78 = *(undefined4 *)(iVar1 + 0x34);
    local_74 = *(undefined4 *)(iVar1 + 0x3c);
    (**(code **)(*piVar3 + 0x50))(piVar3,"vTFactor",local_140 + 0x30,0x10);
  }
  (**(code **)(*piVar3 + 0x50))(piVar3,"vRenderParam",&local_24,0x10);
  return;
}



============================================================
DISASSEMBLY
============================================================
0073b520 : PUSH EBX
0073b521 : MOV EBX,ESP
0073b523 : SUB ESP,0x8
0073b526 : AND ESP,0xfffffff0
0073b529 : ADD ESP,0x4
0073b52c : PUSH EBP
0073b52d : MOV EBP,dword ptr [EBX + 0x4]
0073b530 : MOV dword ptr [ESP + 0x4],EBP
0073b534 : MOV EBP,ESP
0073b536 : MOV EAX,dword ptr [EAX + 0x14]
0073b539 : SUB ESP,0x178
0073b53f : PUSH ESI
0073b540 : PUSH EDI
0073b541 : TEST EAX,EAX
0073b543 : JNZ 0x0073b568
0073b545 : PUSH 0x695
0073b54a : PUSH 0xc06878
0073b54f : PUSH 0xc057ec
0073b554 : CALL dword ptr [0x00d6d23c]
0073b55a : ADD ESP,0xc
0073b55d : POP EDI
0073b55e : POP ESI
0073b55f : MOV ESP,EBP
0073b561 : POP EBP
0073b562 : MOV ESP,EBX
0073b564 : POP EBX
0073b565 : RET 0x8
0073b568 : MOV ECX,dword ptr [EAX + 0x1c]
0073b56b : XORPS XMM0,XMM0
0073b56e : MOVSS XMM1,dword ptr [0x00c10fc4]
0073b576 : MOV dword ptr [EBP + -0x4],ECX
0073b579 : MOVSS dword ptr [EBP + 0xfffffec8],XMM0
0073b581 : MOVSS dword ptr [EBP + 0xfffffec4],XMM0
0073b589 : MOVSS dword ptr [EBP + 0xfffffec0],XMM0
0073b591 : MOVSS dword ptr [EBP + 0xfffffebc],XMM0
0073b599 : MOVSS dword ptr [EBP + 0xfffffeb4],XMM0
0073b5a1 : MOVSS dword ptr [EBP + 0xfffffeb0],XMM0
0073b5a9 : MOVSS dword ptr [EBP + 0xfffffeac],XMM0
0073b5b1 : MOVSS dword ptr [EBP + 0xfffffea8],XMM0
0073b5b9 : MOVSS dword ptr [EBP + 0xfffffea0],XMM0
0073b5c1 : MOVSS dword ptr [EBP + 0xfffffe9c],XMM0
0073b5c9 : MOVSS dword ptr [EBP + 0xfffffe98],XMM0
0073b5d1 : MOVSS dword ptr [EBP + 0xfffffe94],XMM0
0073b5d9 : MOVSS dword ptr [EBP + 0xfffffecc],XMM1
0073b5e1 : MOVSS dword ptr [EBP + 0xfffffeb8],XMM1
0073b5e9 : MOVSS dword ptr [EBP + 0xfffffea4],XMM1
0073b5f1 : MOVSS dword ptr [EBP + 0xfffffe90],XMM1
0073b5f9 : MOVSS dword ptr [EBP + -0x78],XMM0
0073b5fe : MOVSS dword ptr [EBP + -0x7c],XMM0
0073b603 : MOVSS dword ptr [EBP + -0x80],XMM0
0073b608 : MOVSS dword ptr [EBP + 0xffffff7c],XMM0
0073b610 : MOVSS dword ptr [EBP + 0xffffff74],XMM0
0073b618 : MOVSS dword ptr [EBP + 0xffffff70],XMM0
0073b620 : MOVSS dword ptr [EBP + 0xffffff6c],XMM0
0073b628 : MOVSS dword ptr [EBP + 0xffffff68],XMM0
0073b630 : MOVSS dword ptr [EBP + 0xffffff60],XMM0
0073b638 : MOVSS dword ptr [EBP + 0xffffff5c],XMM0
0073b640 : MOVSS dword ptr [EBP + 0xffffff58],XMM0
0073b648 : MOVSS dword ptr [EBP + 0xffffff54],XMM0
0073b650 : MOVSS dword ptr [EBP + -0x74],XMM1
0073b655 : MOVSS dword ptr [EBP + 0xffffff78],XMM1
0073b65d : MOVSS dword ptr [EBP + 0xffffff64],XMM1
0073b665 : MOVSS dword ptr [EBP + 0xffffff50],XMM1
0073b66d : MOVSS dword ptr [EBP + 0xffffff48],XMM0
0073b675 : MOVSS dword ptr [EBP + 0xffffff44],XMM0
0073b67d : MOVSS dword ptr [EBP + 0xffffff40],XMM0
0073b685 : MOVSS dword ptr [EBP + 0xffffff3c],XMM0
0073b68d : MOVSS dword ptr [EBP + 0xffffff34],XMM0
0073b695 : MOVSS dword ptr [EBP + 0xffffff30],XMM0
0073b69d : MOVSS dword ptr [EBP + 0xffffff2c],XMM0
0073b6a5 : MOVSS dword ptr [EBP + 0xffffff28],XMM0
0073b6ad : MOVSS dword ptr [EBP + 0xffffff20],XMM0
0073b6b5 : MOVSS dword ptr [EBP + 0xffffff1c],XMM0
0073b6bd : MOVSS dword ptr [EBP + 0xffffff18],XMM0
0073b6c5 : MOVSS dword ptr [EBP + 0xffffff14],XMM0
0073b6cd : MOVSS dword ptr [EBP + 0xffffff4c],XMM1
0073b6d5 : MOVSS dword ptr [EBP + 0xffffff38],XMM1
0073b6dd : MOVSS dword ptr [EBP + 0xffffff24],XMM1
0073b6e5 : MOVSS dword ptr [EBP + 0xffffff10],XMM1
0073b6ed : MOVSS dword ptr [EBP + 0xffffff08],XMM0
0073b6f5 : MOVSS dword ptr [EBP + 0xffffff04],XMM0
0073b6fd : MOVSS dword ptr [EBP + 0xffffff00],XMM0
0073b705 : MOVSS dword ptr [EBP + 0xfffffefc],XMM0
0073b70d : MOVSS dword ptr [EBP + 0xfffffef4],XMM0
0073b715 : MOVSS dword ptr [EBP + 0xfffffef0],XMM0
0073b71d : MOVSS dword ptr [EBP + 0xfffffeec],XMM0
0073b725 : MOVSS dword ptr [EBP + 0xfffffee8],XMM0
0073b72d : MOVSS dword ptr [EBP + 0xfffffee0],XMM0
0073b735 : MOVSS dword ptr [EBP + 0xfffffedc],XMM0
0073b73d : MOVSS dword ptr [EBP + 0xfffffed8],XMM0
0073b745 : MOVSS dword ptr [EBP + 0xfffffed4],XMM0
0073b74d : MOVSS dword ptr [EBP + 0xffffff0c],XMM1
0073b755 : MOVSS dword ptr [EBP + 0xfffffef8],XMM1
0073b75d : MOVSS dword ptr [EBP + 0xfffffee4],XMM1
0073b765 : MOVSS dword ptr [EBP + 0xfffffed0],XMM1
0073b76d : MOVSS dword ptr [EBP + -0x28],XMM0
0073b772 : MOVSS dword ptr [EBP + -0x2c],XMM0
0073b777 : MOVSS dword ptr [EBP + -0x30],XMM0
0073b77c : MOVSS dword ptr [EBP + -0x34],XMM0
0073b781 : MOVSS dword ptr [EBP + -0x3c],XMM0
0073b786 : MOVSS dword ptr [EBP + -0x40],XMM0
0073b78b : MOVSS dword ptr [EBP + -0x44],XMM0
0073b790 : MOVSS dword ptr [EBP + -0x48],XMM0
0073b795 : MOVSS dword ptr [EBP + -0x50],XMM0
0073b79a : MOVSS dword ptr [EBP + -0x54],XMM0
0073b79f : MOVSS dword ptr [EBP + -0x58],XMM0
0073b7a4 : MOVSS dword ptr [EBP + -0x5c],XMM0
0073b7a9 : MOVSS dword ptr [EBP + -0x24],XMM1
0073b7ae : MOV EAX,dword ptr [EBX + 0xc]
0073b7b1 : MOV ECX,dword ptr [EAX + 0x4]
0073b7b4 : PUSH EAX
0073b7b5 : MOVSS dword ptr [EBP + -0x38],XMM1
0073b7ba : MOVSS dword ptr [EBP + -0x4c],XMM1
0073b7bf : MOVSS dword ptr [EBP + -0x60],XMM1
0073b7c4 : MOV EDX,dword ptr [ECX]
0073b7c6 : MOV EDX,dword ptr [EDX + 0x9c]
0073b7cc : LEA EAX,[EBP + 0xffffff50]
0073b7d2 : PUSH EAX
0073b7d3 : CALL EDX
0073b7d5 : MOV ESI,dword ptr [EBX + 0x8]
0073b7d8 : MOV EAX,dword ptr [ESI]
0073b7da : MOV EDX,dword ptr [EAX + 0x1c]
0073b7dd : MOV ECX,ESI
0073b7df : CALL EDX
0073b7e1 : ADD ESI,0xb4
0073b7e7 : MOV ECX,0x10
0073b7ec : LEA EDI,[EBP + 0xffffff10]
0073b7f2 : MOVSD.REP ES:EDI,ESI
0073b7f4 : MOV ESI,dword ptr [EBX + 0x8]
0073b7f7 : CMP byte ptr [ESI + 0x157],0x0
0073b7fe : MOV EAX,dword ptr [ESI]
0073b800 : MOV ECX,ESI
0073b802 : JZ 0x0073b809
0073b804 : MOV EDX,dword ptr [EAX + 0x20]
0073b807 : JMP 0x0073b80c
0073b809 : MOV EDX,dword ptr [EAX + 0x30]
0073b80c : CALL EDX
0073b80e : LEA EAX,[EBP + 0xffffff50]
0073b814 : PUSH EAX
0073b815 : ADD ESI,0x74
0073b818 : MOV ECX,0x10
0073b81d : LEA EDI,[EBP + 0xfffffed0]
0073b823 : MOVSD.REP ES:EDI,ESI
0073b825 : PUSH 0x0
0073b827 : LEA ECX,[EBP + 0xfffffe90]
0073b82d : PUSH ECX
0073b82e : CALL 0x004ff73a
0073b833 : LEA EDX,[EBP + 0xffffff10]
0073b839 : PUSH EDX
0073b83a : LEA EAX,[EBP + 0xffffff50]
0073b840 : PUSH EAX
0073b841 : LEA ECX,[EBP + -0x60]
0073b844 : PUSH ECX
0073b845 : CALL 0x004ff752
0073b84a : LEA EDX,[EBP + 0xfffffed0]
0073b850 : PUSH EDX
0073b851 : LEA EAX,[EBP + -0x60]
0073b854 : PUSH EAX
0073b855 : MOV ECX,EAX
0073b857 : PUSH ECX
0073b858 : CALL 0x004ff752
0073b85d : MOV ESI,dword ptr [EBP + -0x4]
0073b860 : MOV EDX,dword ptr [ESI]
0073b862 : MOV ECX,dword ptr [EDX + 0x98]
0073b868 : LEA EAX,[EBP + -0x60]
0073b86b : PUSH EAX
0073b86c : PUSH 0xc068a8
0073b871 : PUSH ESI
0073b872 : CALL ECX
0073b874 : XORPS XMM0,XMM0
0073b877 : MOV EDX,dword ptr [EBX + 0xc]
0073b87a : MOV ECX,dword ptr [EDX + 0x4]
0073b87d : MOVSS dword ptr [EBP + -0x14],XMM0
0073b882 : MOVSS dword ptr [EBP + -0x10],XMM0
0073b887 : MOVSS dword ptr [EBP + -0xc],XMM0
0073b88c : MOVSS dword ptr [EBP + -0x8],XMM0
0073b891 : MOV EAX,dword ptr [ECX]
0073b893 : MOV EDX,dword ptr [EAX + 0xb4]
0073b899 : CALL EDX
0073b89b : TEST EAX,EAX
0073b89d : JZ 0x0073b8f8
0073b89f : MOVSS XMM0,dword ptr [EAX + 0x3c]
0073b8a4 : MOVSS dword ptr [EBP + -0x10],XMM0
0073b8a9 : MOVSS XMM0,dword ptr [EAX + 0x60]
0073b8ae : MOVSS dword ptr [EBP + -0xc],XMM0
0073b8b3 : MOVSS XMM0,dword ptr [EAX + 0x64]
0073b8b8 : MOVSS dword ptr [EBP + -0x8],XMM0
0073b8bd : MOVSS XMM0,dword ptr [EAX + 0x2c]
0073b8c2 : MOVSS dword ptr [EBP + -0x70],XMM0
0073b8c7 : MOVSS XMM0,dword ptr [EAX + 0x30]
0073b8cc : PUSH 0x10
0073b8ce : MOVSS dword ptr [EBP + -0x6c],XMM0
0073b8d3 : MOVSS XMM0,dword ptr [EAX + 0x34]
0073b8d8 : LEA ECX,[EBP + -0x70]
0073b8db : PUSH ECX
0073b8dc : MOVSS dword ptr [EBP + -0x68],XMM0
0073b8e1 : MOVSS XMM0,dword ptr [EAX + 0x3c]
0073b8e6 : MOV EAX,dword ptr [ESI]
0073b8e8 : MOV EDX,dword ptr [EAX + 0x50]
0073b8eb : PUSH 0xc0597c
0073b8f0 : PUSH ESI
0073b8f1 : MOVSS dword ptr [EBP + -0x64],XMM0
0073b8f6 : CALL EDX
0073b8f8 : MOV EAX,dword ptr [ESI]
0073b8fa : MOV EDX,dword ptr [EAX + 0x50]
0073b8fd : PUSH 0x10
0073b8ff : LEA ECX,[EBP + -0x14]
0073b902 : PUSH ECX
0073b903 : PUSH 0xc068b0
0073b908 : PUSH ESI
0073b909 : CALL EDX
0073b90b : POP EDI
0073b90c : POP ESI
0073b90d : MOV ESP,EBP
0073b90f : POP EBP
0073b910 : MOV ESP,EBX
0073b912 : POP EBX
0073b913 : RET 0x8
