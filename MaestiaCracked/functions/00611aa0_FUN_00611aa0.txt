PROGRAM  : Maestia.exe
FUNCTION : FUN_00611aa0
ENTRY    : 00611aa0
BODY     : [[00611aa0, 00611b58]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00611aa0(undefined4 *param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  void *_Dst;
  int iVar1;
  
  _Dst = (void *)FUN_00622430(DAT_00d7b3c0);
  if (_Dst == (void *)0x0) {
    return -1;
  }
  _memset(_Dst,0,0x370);
  iVar1 = FUN_00622600((int)_Dst + 0x104,s_LclParticles_00d662ac,0);
  if (iVar1 < 0) {
    FUN_00622460(_Dst);
    return iVar1;
  }
  *(undefined4 *)((int)_Dst + 800) = 0;
  if (DAT_00d7b3e0 != 0) {
    iVar1 = FUN_00622390((undefined4 *)((int)_Dst + 800),_Dst,(int)*(float *)(param_4 + 0xe4),0x84);
    if (iVar1 < 0) {
      FUN_00622460(_Dst);
      return iVar1;
    }
  }
  FUN_00621e50(_Dst,param_3,param_4,param_2);
  *param_1 = _Dst;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00611aa0 : MOV EAX,[0x00d7b3c0]
00611aa5 : PUSH ESI
00611aa6 : PUSH EAX
00611aa7 : CALL 0x00622430
00611aac : MOV ESI,EAX
00611aae : ADD ESP,0x4
00611ab1 : TEST ESI,ESI
00611ab3 : JNZ 0x00611aba
00611ab5 : OR EAX,0xffffffff
00611ab8 : POP ESI
00611ab9 : RET
00611aba : PUSH EDI
00611abb : PUSH 0x370
00611ac0 : PUSH 0x0
00611ac2 : PUSH ESI
00611ac3 : CALL 0x0063b700
00611ac8 : PUSH 0x0
00611aca : LEA ECX,[ESI + 0x104]
00611ad0 : PUSH 0xd662ac
00611ad5 : PUSH ECX
00611ad6 : CALL 0x00622600
00611adb : MOV EDI,EAX
00611add : ADD ESP,0x18
00611ae0 : TEST EDI,EDI
00611ae2 : JGE 0x00611af2
00611ae4 : PUSH ESI
00611ae5 : CALL 0x00622460
00611aea : ADD ESP,0x4
00611aed : MOV EAX,EDI
00611aef : POP EDI
00611af0 : POP ESI
00611af1 : RET
00611af2 : LEA EAX,[ESI + 0x320]
00611af8 : MOV dword ptr [EAX],0x0
00611afe : CMP dword ptr [0x00d7b3e0],0x0
00611b05 : PUSH EBX
00611b06 : MOV EBX,dword ptr [ESP + 0x1c]
00611b0a : JZ 0x00611b39
00611b0c : CVTTSS2SI EDX,dword ptr [EBX + 0xe4]
00611b14 : PUSH 0x84
00611b19 : PUSH EDX
00611b1a : PUSH ESI
00611b1b : PUSH EAX
00611b1c : CALL 0x00622390
00611b21 : MOV EDI,EAX
00611b23 : ADD ESP,0x10
00611b26 : TEST EDI,EDI
00611b28 : JGE 0x00611b39
00611b2a : PUSH ESI
00611b2b : CALL 0x00622460
00611b30 : ADD ESP,0x4
00611b33 : POP EBX
00611b34 : MOV EAX,EDI
00611b36 : POP EDI
00611b37 : POP ESI
00611b38 : RET
00611b39 : MOV EAX,dword ptr [ESP + 0x14]
00611b3d : MOV ECX,dword ptr [ESP + 0x18]
00611b41 : PUSH EAX
00611b42 : PUSH EBX
00611b43 : PUSH ECX
00611b44 : PUSH ESI
00611b45 : CALL 0x00621e50
00611b4a : MOV EDX,dword ptr [ESP + 0x20]
00611b4e : ADD ESP,0x10
00611b51 : POP EBX
00611b52 : POP EDI
00611b53 : MOV dword ptr [EDX],ESI
00611b55 : XOR EAX,EAX
00611b57 : POP ESI
00611b58 : RET
