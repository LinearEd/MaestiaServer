PROGRAM  : Maestia.exe
FUNCTION : FUN_0046a050
ENTRY    : 0046a050
BODY     : [[0046a050, 0046a43a]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0046a050(int param_1,int param_2,char param_3)

{
  int iVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  int *piVar5;
  int iVar6;
  undefined4 uVar7;
  float fVar8;
  int local_c;
  
  iVar1 = param_1;
  param_1 = 0;
  if (param_3 == '\0') {
    FUN_0046c360();
    FUN_0046c360();
    if (*(char *)(iVar1 + 0x13c8) != '\0') {
      FUN_0046c360();
    }
    if (*(char *)(iVar1 + 0x13c9) != '\0') {
      FUN_0046c360();
      if (*(int *)(param_2 + 0x58) == 1) {
        uVar7 = 0xbf800000;
      }
      else {
        uVar7 = 0x3f800000;
      }
      FUN_0046c4d0(*(undefined4 *)(param_2 + 0x54),uVar7);
    }
    if (*(int *)(iVar1 + 0x25dc) == 0) {
      fVar8 = *(float *)(iVar1 + 0xd18) * *(float *)(param_2 + 0x48);
    }
    else {
      fVar8 = *(float *)(param_2 + 0x48);
    }
    FUN_0046c3b0(fVar8,*(undefined4 *)(param_2 + 0x40),1.0 - *(float *)(param_2 + 0x4c));
  }
  if (*(char *)(iVar1 + 0x25e0) == '\0') {
    iVar6 = iVar1 + 0x69a8;
    piVar4 = (int *)(iVar1 + 0x3c98);
    _param_3 = 5;
    do {
      if ((((piVar4[-2] != 0) && (*(int *)(*piVar4 + 0xc) != 0)) ||
          ((piVar4[-1] != 0 && (*(int *)(*piVar4 + 0x10) != 0)))) &&
         ((*(int *)(iVar6 + 4) != 0 && (*(int *)(iVar6 + 4) != *(int *)(iVar6 + -0x43c0))))) {
        FUN_0046c8a0(piVar4 + -3);
        FUN_004755f0();
        param_1 = param_1 + 1;
      }
      piVar4 = piVar4 + 0x46;
      iVar6 = iVar6 + 0x21c;
      _param_3 = _param_3 + -1;
    } while (_param_3 != 0);
    return param_1;
  }
  piVar4 = (int *)(iVar1 + 0x25e8);
  piVar2 = (int *)(param_2 + 0x69c);
  piVar3 = (int *)(iVar1 + 0x3c98);
  local_c = 5;
  do {
    if (((piVar3[-2] != 0) && (*(int *)(*piVar3 + 0xc) != 0)) ||
       ((piVar3[-1] != 0 && (*(int *)(*piVar3 + 0x10) != 0)))) {
      piVar5 = piVar2;
      if (piVar2[1] == 0) {
        piVar5 = piVar4 + 0x10f0;
      }
      if ((piVar5[1] != 0) && (piVar5[1] != *piVar4)) {
        FUN_0046c8a0(piVar3 + -3);
        FUN_004755f0();
        param_1 = param_1 + 1;
      }
    }
    piVar2 = piVar2 + 0x87;
    piVar4 = piVar4 + 0x87;
    piVar3 = piVar3 + 0x46;
    local_c = local_c + -1;
  } while (local_c != 0);
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
0046a050 : PUSH EBP
0046a051 : MOV EBP,ESP
0046a053 : SUB ESP,0x18
0046a056 : CMP byte ptr [EBP + 0x10],0x0
0046a05a : PUSH EBX
0046a05b : MOV EBX,dword ptr [EBP + 0x8]
0046a05e : PUSH ESI
0046a05f : PUSH EDI
0046a060 : MOV dword ptr [EBP + 0x8],0x0
0046a067 : JNZ 0x0046a318
0046a06d : MOV EAX,dword ptr [EBP + 0xc]
0046a070 : MOVSS XMM0,dword ptr [EAX]
0046a074 : MULSS XMM0,dword ptr [EBX + 0xd2c]
0046a07c : MOVSS dword ptr [EBP + -0x18],XMM0
0046a081 : MOVSS XMM0,dword ptr [EBX + 0xd30]
0046a089 : MULSS XMM0,dword ptr [EAX + 0x4]
0046a08e : MOVSS dword ptr [EBP + -0x14],XMM0
0046a093 : MOVSS XMM0,dword ptr [EBX + 0xd34]
0046a09b : MULSS XMM0,dword ptr [EAX + 0x8]
0046a0a0 : MOVSS dword ptr [EBP + -0x10],XMM0
0046a0a5 : MOVSS XMM0,dword ptr [EBX + 0xd38]
0046a0ad : MULSS XMM0,dword ptr [EAX + 0xc]
0046a0b2 : LEA ESI,[EBX + 0x35fc]
0046a0b8 : LEA EDI,[EBP + -0x18]
0046a0bb : MOVSS dword ptr [EBP + -0xc],XMM0
0046a0c0 : CALL 0x0046c360
0046a0c5 : MOV EAX,dword ptr [EBP + 0xc]
0046a0c8 : MOVSS XMM4,dword ptr [EAX + 0x44]
0046a0cd : MOVSS XMM0,dword ptr [EAX + 0x10]
0046a0d2 : MULSS XMM0,dword ptr [EBX + 0xd3c]
0046a0da : MOVSS XMM1,dword ptr [EBX + 0xd40]
0046a0e2 : MULSS XMM1,dword ptr [EAX + 0x14]
0046a0e7 : MOVSS XMM2,dword ptr [EBX + 0xd44]
0046a0ef : MULSS XMM2,dword ptr [EAX + 0x18]
0046a0f4 : MOVSS XMM3,dword ptr [EBX + 0xd48]
0046a0fc : MULSS XMM3,dword ptr [EAX + 0x1c]
0046a101 : MULSS XMM0,XMM4
0046a105 : MULSS XMM1,XMM4
0046a109 : MULSS XMM2,XMM4
0046a10d : MULSS XMM3,XMM4
0046a111 : MOVSS XMM4,dword ptr [EBX + 0xd28]
0046a119 : MULSS XMM0,XMM4
0046a11d : MULSS XMM1,XMM4
0046a121 : MULSS XMM2,XMM4
0046a125 : MULSS XMM3,XMM4
0046a129 : LEA ESI,[EBX + 0x3714]
0046a12f : LEA EDI,[EBP + -0x18]
0046a132 : MOVSS dword ptr [EBP + -0x18],XMM0
0046a137 : MOVSS dword ptr [EBP + -0x14],XMM1
0046a13c : MOVSS dword ptr [EBP + -0x10],XMM2
0046a141 : MOVSS dword ptr [EBP + -0xc],XMM3
0046a146 : CALL 0x0046c360
0046a14b : CMP byte ptr [EBX + 0x13c8],0x0
0046a152 : JZ 0x0046a1ad
0046a154 : MOV EAX,dword ptr [EBP + 0xc]
0046a157 : MOVSS XMM0,dword ptr [EBX + 0xd4c]
0046a15f : MULSS XMM0,dword ptr [EAX + 0x20]
0046a164 : MOVSS dword ptr [EBP + -0x18],XMM0
0046a169 : MOVSS XMM0,dword ptr [EBX + 0xd50]
0046a171 : MULSS XMM0,dword ptr [EAX + 0x24]
0046a176 : MOVSS dword ptr [EBP + -0x14],XMM0
0046a17b : MOVSS XMM0,dword ptr [EBX + 0xd54]
0046a183 : MULSS XMM0,dword ptr [EAX + 0x28]
0046a188 : MOVSS dword ptr [EBP + -0x10],XMM0
0046a18d : MOVSS XMM0,dword ptr [EBX + 0xd58]
0046a195 : MULSS XMM0,dword ptr [EAX + 0x2c]
0046a19a : LEA ESI,[EBX + 0x382c]
0046a1a0 : LEA EDI,[EBP + -0x18]
0046a1a3 : MOVSS dword ptr [EBP + -0xc],XMM0
0046a1a8 : CALL 0x0046c360
0046a1ad : CMP byte ptr [EBX + 0x13c9],0x0
0046a1b4 : MOVSS XMM0,dword ptr [0x00c10fc4]
0046a1bc : JZ 0x0046a2be
0046a1c2 : MOV EAX,dword ptr [EBP + 0xc]
0046a1c5 : MOVSS XMM2,dword ptr [EAX + 0x44]
0046a1ca : MOVSS XMM1,dword ptr [EBX + 0xd3c]
0046a1d2 : MOVSS XMM3,dword ptr [EBX + 0xd40]
0046a1da : MOVSS XMM4,dword ptr [EBX + 0xd44]
0046a1e2 : MOVSS XMM5,dword ptr [EBX + 0xd48]
0046a1ea : MOVSS XMM0,dword ptr [EBX + 0x13d0]
0046a1f2 : MULSS XMM0,dword ptr [0x00cdf314]
0046a1fa : ADDSS XMM0,dword ptr [0x00cdf294]
0046a202 : MULSS XMM0,dword ptr [EBX + 0xd28]
0046a20a : MULSS XMM0,dword ptr [0x00cdf19c]
0046a212 : MULSS XMM4,XMM2
0046a216 : MULSS XMM3,XMM2
0046a21a : MULSS XMM1,XMM2
0046a21e : MULSS XMM1,dword ptr [EAX + 0x30]
0046a223 : MULSS XMM5,XMM2
0046a227 : MOVSS XMM2,dword ptr [EAX + 0x34]
0046a22c : MULSS XMM2,XMM3
0046a230 : MOVSS XMM3,dword ptr [EAX + 0x38]
0046a235 : MULSS XMM3,XMM4
0046a239 : MOVSS XMM4,dword ptr [EAX + 0x3c]
0046a23e : MULSS XMM4,XMM5
0046a242 : MULSS XMM1,XMM0
0046a246 : MULSS XMM2,XMM0
0046a24a : MULSS XMM3,XMM0
0046a24e : MULSS XMM4,XMM0
0046a252 : LEA ESI,[EBX + 0x3944]
0046a258 : LEA EDI,[EBP + -0x18]
0046a25b : MOVSS dword ptr [EBP + -0x18],XMM1
0046a260 : MOVSS dword ptr [EBP + -0x14],XMM2
0046a265 : MOVSS dword ptr [EBP + -0x10],XMM3
0046a26a : MOVSS dword ptr [EBP + -0xc],XMM4
0046a26f : CALL 0x0046c360
0046a274 : MOV EDI,dword ptr [EBP + 0xc]
0046a277 : CMP dword ptr [EDI + 0x58],0x1
0046a27b : JNZ 0x0046a287
0046a27d : MOVSS XMM0,dword ptr [0x00cdf0d0]
0046a285 : JMP 0x0046a28f
0046a287 : MOVSS XMM0,dword ptr [0x00c10fc4]
0046a28f : MOVSS dword ptr [EBP + 0x10],XMM0
0046a294 : FLD float ptr [EBP + 0x10]
0046a297 : MOVSS XMM0,dword ptr [EDI + 0x50]
0046a29c : SUB ESP,0x8
0046a29f : FSTP float ptr [ESP + 0x4]
0046a2a3 : LEA EAX,[EBX + 0x3b74]
0046a2a9 : FLD float ptr [EDI + 0x54]
0046a2ac : FSTP float ptr [ESP]
0046a2af : CALL 0x0046c4d0
0046a2b4 : MOVSS XMM0,dword ptr [0x00c10fc4]
0046a2bc : JMP 0x0046a2c1
0046a2be : MOV EDI,dword ptr [EBP + 0xc]
0046a2c1 : CMP dword ptr [EBX + 0x25dc],0x0
0046a2c8 : JNZ 0x0046a2d9
0046a2ca : MOVSS XMM1,dword ptr [EBX + 0xd18]
0046a2d2 : MULSS XMM1,dword ptr [EDI + 0x48]
0046a2d7 : JMP 0x0046a2de
0046a2d9 : MOVSS XMM1,dword ptr [EDI + 0x48]
0046a2de : SUBSS XMM0,dword ptr [EDI + 0x4c]
0046a2e3 : FLD float ptr [EDI + 0x40]
0046a2e6 : SUB ESP,0xc
0046a2e9 : MOVSS dword ptr [ESP + 0x8],XMM0
0046a2ef : FSTP float ptr [ESP + 0x4]
0046a2f3 : MOVSS XMM0,dword ptr [EDI + 0x44]
0046a2f8 : MULSS XMM0,dword ptr [EBX + 0xd28]
0046a300 : MOVSS dword ptr [EBP + 0x10],XMM1
0046a305 : FLD float ptr [EBP + 0x10]
0046a308 : LEA EAX,[EBX + 0x3a5c]
0046a30e : FSTP float ptr [ESP]
0046a311 : CALL 0x0046c3b0
0046a316 : JMP 0x0046a31b
0046a318 : MOV EDI,dword ptr [EBP + 0xc]
0046a31b : CMP byte ptr [EBX + 0x25e0],0x0
0046a322 : JZ 0x0046a3c4
0046a328 : LEA ESI,[EBX + 0x25e8]
0046a32e : LEA ECX,[EDI + 0x69c]
0046a334 : MOV dword ptr [EBP + 0xc],ESI
0046a337 : MOV dword ptr [EBP + 0x10],ECX
0046a33a : ADD EBX,0x3c98
0046a340 : MOV dword ptr [EBP + -0x8],0x5
0046a347 : CMP dword ptr [EBX + -0x8],0x0
0046a34b : JZ 0x0046a355
0046a34d : MOV EAX,dword ptr [EBX]
0046a34f : CMP dword ptr [EAX + 0xc],0x0
0046a353 : JNZ 0x0046a363
0046a355 : CMP dword ptr [EBX + -0x4],0x0
0046a359 : JZ 0x0046a39a
0046a35b : MOV EDX,dword ptr [EBX]
0046a35d : CMP dword ptr [EDX + 0x10],0x0
0046a361 : JZ 0x0046a39a
0046a363 : CMP dword ptr [ECX + 0x4],0x0
0046a367 : MOV EDI,ECX
0046a369 : JNZ 0x0046a371
0046a36b : LEA EDI,[ESI + 0x43c0]
0046a371 : MOV EAX,dword ptr [EDI + 0x4]
0046a374 : TEST EAX,EAX
0046a376 : JZ 0x0046a39a
0046a378 : CMP EAX,dword ptr [ESI]
0046a37a : JZ 0x0046a39a
0046a37c : LEA EAX,[EBX + -0xc]
0046a37f : PUSH EAX
0046a380 : MOV EAX,EDI
0046a382 : CALL 0x0046c8a0
0046a387 : ADD ESI,-0x4
0046a38a : MOV EAX,EDI
0046a38c : CALL 0x004755f0
0046a391 : INC dword ptr [EBP + 0x8]
0046a394 : MOV ECX,dword ptr [EBP + 0x10]
0046a397 : MOV ESI,dword ptr [EBP + 0xc]
0046a39a : ADD ECX,0x21c
0046a3a0 : ADD ESI,0x21c
0046a3a6 : ADD EBX,0x118
0046a3ac : SUB dword ptr [EBP + -0x8],0x1
0046a3b0 : MOV dword ptr [EBP + 0x10],ECX
0046a3b3 : MOV dword ptr [EBP + 0xc],ESI
0046a3b6 : JNZ 0x0046a347
0046a3b8 : MOV EAX,dword ptr [EBP + 0x8]
0046a3bb : POP EDI
0046a3bc : POP ESI
0046a3bd : POP EBX
0046a3be : MOV ESP,EBP
0046a3c0 : POP EBP
0046a3c1 : RET 0xc
0046a3c4 : LEA EDI,[EBX + 0x69a8]
0046a3ca : ADD EBX,0x3c98
0046a3d0 : MOV dword ptr [EBP + 0x10],0x5
0046a3d7 : CMP dword ptr [EBX + -0x8],0x0
0046a3db : JZ 0x0046a3e5
0046a3dd : MOV ECX,dword ptr [EBX]
0046a3df : CMP dword ptr [ECX + 0xc],0x0
0046a3e3 : JNZ 0x0046a3f3
0046a3e5 : CMP dword ptr [EBX + -0x4],0x0
0046a3e9 : JZ 0x0046a41d
0046a3eb : MOV EDX,dword ptr [EBX]
0046a3ed : CMP dword ptr [EDX + 0x10],0x0
0046a3f1 : JZ 0x0046a41d
0046a3f3 : MOV EAX,dword ptr [EDI + 0x4]
0046a3f6 : TEST EAX,EAX
0046a3f8 : JZ 0x0046a41d
0046a3fa : CMP EAX,dword ptr [EDI + 0xffffbc40]
0046a400 : JZ 0x0046a41d
0046a402 : LEA EAX,[EBX + -0xc]
0046a405 : PUSH EAX
0046a406 : MOV EAX,EDI
0046a408 : CALL 0x0046c8a0
0046a40d : LEA ESI,[EDI + 0xffffbc3c]
0046a413 : MOV EAX,EDI
0046a415 : CALL 0x004755f0
0046a41a : INC dword ptr [EBP + 0x8]
0046a41d : ADD EBX,0x118
0046a423 : ADD EDI,0x21c
0046a429 : SUB dword ptr [EBP + 0x10],0x1
0046a42d : JNZ 0x0046a3d7
0046a42f : MOV EAX,dword ptr [EBP + 0x8]
0046a432 : POP EDI
0046a433 : POP ESI
0046a434 : POP EBX
0046a435 : MOV ESP,EBP
0046a437 : POP EBP
0046a438 : RET 0xc
