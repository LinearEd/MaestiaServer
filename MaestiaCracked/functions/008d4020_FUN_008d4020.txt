PROGRAM  : Maestia.exe
FUNCTION : FUN_008d4020
ENTRY    : 008d4020
BODY     : [[008d4020, 008d4038] [008d4040, 008d4058] [008d4060, 008d416c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008d4020(void)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  int in_EAX;
  int *piVar5;
  int *piVar6;
  int in_EDX;
  
  piVar2 = *(int **)(in_EAX + 0x3c);
  piVar6 = (int *)*piVar2;
  if (piVar6 == piVar2) {
    return;
  }
  do {
    piVar5 = *(int **)(piVar6[4] + 0x84);
    piVar3 = *(int **)(piVar6[4] + 0x88);
    if (piVar5 != piVar3) {
      do {
        if (*(uint *)(*piVar5 + 0xe4) == (uint)*(ushort *)(in_EDX + 4)) {
          *(undefined4 *)(*piVar5 + 0x90) = *(undefined4 *)(in_EDX + 6);
          *(undefined4 *)(*piVar5 + 0x94) = *(undefined4 *)(in_EDX + 10);
          iVar4 = *piVar5;
          *(undefined8 *)(iVar4 + 0x98) = *(undefined8 *)(in_EDX + 0xe);
          *(undefined8 *)(iVar4 + 0xa0) = *(undefined8 *)(in_EDX + 0x16);
          iVar4 = *piVar5;
          *(undefined8 *)(iVar4 + 0xa8) = *(undefined8 *)(in_EDX + 0x1e);
          *(undefined8 *)(iVar4 + 0xb0) = *(undefined8 *)(in_EDX + 0x26);
          *(bool *)(*piVar5 + 0xbb) = *(int *)(in_EDX + 0x30) != 0;
          *(bool *)(*piVar5 + 0xbc) = *(int *)(in_EDX + 0x34) != 0;
          *(undefined4 *)(*piVar5 + 0xc0) = *(undefined4 *)(in_EDX + 0x38);
          *(undefined4 *)(*piVar5 + 200) = *(undefined4 *)(in_EDX + 0x40);
          *(undefined4 *)(*piVar5 + 0xc4) = *(undefined4 *)(in_EDX + 0x3c);
          *(undefined4 *)(*piVar5 + 0xcc) = *(undefined4 *)(in_EDX + 0x44);
          return;
        }
        piVar5 = piVar5 + 1;
      } while (piVar5 != piVar3);
    }
    if (*(char *)((int)piVar6 + 0x15) == '\0') {
      piVar5 = (int *)piVar6[2];
      if (*(char *)((int)piVar5 + 0x15) == '\0') {
        cVar1 = *(char *)(*piVar5 + 0x15);
        piVar6 = piVar5;
        piVar5 = (int *)*piVar5;
        while (cVar1 == '\0') {
          cVar1 = *(char *)(*piVar5 + 0x15);
          piVar6 = piVar5;
          piVar5 = (int *)*piVar5;
        }
      }
      else {
        cVar1 = *(char *)(piVar6[1] + 0x15);
        piVar3 = (int *)piVar6[1];
        piVar5 = piVar6;
        while ((piVar6 = piVar3, cVar1 == '\0' && (piVar5 == (int *)piVar6[2]))) {
          cVar1 = *(char *)(piVar6[1] + 0x15);
          piVar3 = (int *)piVar6[1];
          piVar5 = piVar6;
        }
      }
    }
  } while (piVar6 != piVar2);
  return;
}



============================================================
DISASSEMBLY
============================================================
008d4020 : PUSH EBP
008d4021 : MOV EBP,ESP
008d4023 : PUSH ECX
008d4024 : PUSH EDI
008d4025 : MOV EDI,dword ptr [EAX + 0x3c]
008d4028 : MOV ECX,dword ptr [EDI]
008d402a : MOV dword ptr [EBP + -0x4],EDI
008d402d : CMP ECX,EDI
008d402f : JZ 0x008d4168
008d4035 : PUSH EBX
008d4036 : PUSH ESI
008d4037 : JMP 0x008d4040
008d4040 : MOV ESI,dword ptr [ECX + 0x10]
008d4043 : MOV EAX,dword ptr [ESI + 0x84]
008d4049 : MOV ESI,dword ptr [ESI + 0x88]
008d404f : CMP EAX,ESI
008d4051 : JZ 0x008d4074
008d4053 : MOVZX EDI,word ptr [EDX + 0x4]
008d4057 : JMP 0x008d4060
008d4060 : MOV EBX,dword ptr [EAX]
008d4062 : CMP dword ptr [EBX + 0xe4],EDI
008d4068 : JZ 0x008d40c2
008d406a : ADD EAX,0x4
008d406d : CMP EAX,ESI
008d406f : JNZ 0x008d4060
008d4071 : MOV EDI,dword ptr [EBP + -0x4]
008d4074 : CMP byte ptr [ECX + 0x15],0x0
008d4078 : JNZ 0x008d40b7
008d407a : MOV EAX,dword ptr [ECX + 0x8]
008d407d : CMP byte ptr [EAX + 0x15],0x0
008d4081 : JNZ 0x008d409c
008d4083 : MOV ECX,EAX
008d4085 : MOV EAX,dword ptr [ECX]
008d4087 : CMP byte ptr [EAX + 0x15],0x0
008d408b : JNZ 0x008d40b7
008d408d : LEA ECX,[ECX]
008d4090 : MOV ECX,EAX
008d4092 : MOV EAX,dword ptr [ECX]
008d4094 : CMP byte ptr [EAX + 0x15],0x0
008d4098 : JZ 0x008d4090
008d409a : JMP 0x008d40b7
008d409c : MOV EAX,dword ptr [ECX + 0x4]
008d409f : CMP byte ptr [EAX + 0x15],0x0
008d40a3 : JNZ 0x008d40b5
008d40a5 : CMP ECX,dword ptr [EAX + 0x8]
008d40a8 : JNZ 0x008d40b5
008d40aa : MOV ECX,EAX
008d40ac : MOV EAX,dword ptr [EAX + 0x4]
008d40af : CMP byte ptr [EAX + 0x15],0x0
008d40b3 : JZ 0x008d40a5
008d40b5 : MOV ECX,EAX
008d40b7 : CMP ECX,EDI
008d40b9 : JNZ 0x008d4040
008d40bb : POP ESI
008d40bc : POP EBX
008d40bd : POP EDI
008d40be : MOV ESP,EBP
008d40c0 : POP EBP
008d40c1 : RET
008d40c2 : MOV ESI,dword ptr [EDX + 0x6]
008d40c5 : MOV ECX,EBX
008d40c7 : MOV dword ptr [ECX + 0x90],ESI
008d40cd : MOV ECX,dword ptr [EAX]
008d40cf : MOV ESI,dword ptr [EDX + 0xa]
008d40d2 : MOV dword ptr [ECX + 0x94],ESI
008d40d8 : MOV ECX,dword ptr [EAX]
008d40da : MOVQ XMM0,qword ptr [EDX + 0xe]
008d40df : MOVQ qword ptr [ECX + 0x98],XMM0
008d40e7 : MOVQ XMM0,qword ptr [EDX + 0x16]
008d40ec : MOVQ qword ptr [ECX + 0xa0],XMM0
008d40f4 : MOVQ XMM0,qword ptr [EDX + 0x1e]
008d40f9 : ADD ECX,0x98
008d40ff : MOV ECX,dword ptr [EAX]
008d4101 : MOVQ qword ptr [ECX + 0xa8],XMM0
008d4109 : MOVQ XMM0,qword ptr [EDX + 0x26]
008d410e : MOVQ qword ptr [ECX + 0xb0],XMM0
008d4116 : MOV ESI,dword ptr [EAX]
008d4118 : ADD ECX,0xa8
008d411e : CMP dword ptr [EDX + 0x30],0x0
008d4122 : SETNZ CL
008d4125 : MOV byte ptr [ESI + 0xbb],CL
008d412b : CMP dword ptr [EDX + 0x34],0x0
008d412f : MOV ESI,dword ptr [EAX]
008d4131 : SETNZ CL
008d4134 : MOV byte ptr [ESI + 0xbc],CL
008d413a : MOV ECX,dword ptr [EAX]
008d413c : MOV ESI,dword ptr [EDX + 0x38]
008d413f : MOV dword ptr [ECX + 0xc0],ESI
008d4145 : MOV ECX,dword ptr [EAX]
008d4147 : MOV ESI,dword ptr [EDX + 0x40]
008d414a : MOV dword ptr [ECX + 0xc8],ESI
008d4150 : MOV ECX,dword ptr [EAX]
008d4152 : MOV ESI,dword ptr [EDX + 0x3c]
008d4155 : MOV dword ptr [ECX + 0xc4],ESI
008d415b : MOV EAX,dword ptr [EAX]
008d415d : MOV ECX,dword ptr [EDX + 0x44]
008d4160 : POP ESI
008d4161 : MOV dword ptr [EAX + 0xcc],ECX
008d4167 : POP EBX
008d4168 : POP EDI
008d4169 : MOV ESP,EBP
008d416b : POP EBP
008d416c : RET
