PROGRAM  : Maestia.exe
FUNCTION : FUN_007f4820
ENTRY    : 007f4820
BODY     : [[007f4820, 007f4eaa]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007f4820(void)

{
  int *piVar1;
  uint uVar2;
  HDC hdc;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  int in_ECX;
  wchar_t *pwVar6;
  undefined8 local_144;
  uint uStack_140;
  undefined4 local_13c;
  undefined4 local_138;
  undefined4 local_134;
  undefined4 local_130;
  undefined4 local_12c;
  undefined4 local_128;
  undefined4 local_124;
  undefined4 local_120;
  int local_11c;
  undefined4 local_118;
  WCHAR local_114 [128];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2933f;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar2;
  FUN_008018d0(L"[AvaRenderWindow::CreateDevice]",uVar2);
  iVar4 = *(int *)(in_ECX + 0xbc);
  if (iVar4 != 0) {
    local_118 = *(undefined4 *)(iVar4 + 8);
    piVar1 = *(int **)(iVar4 + 4);
    _memset((undefined4 *)(in_ECX + 0x48),0,0x38);
    *(uint *)(in_ECX + 0x6c) = (uint)*(byte *)(in_ECX + 0x2c);
    *(undefined4 *)(in_ECX + 0x60) = 1;
    *(uint *)(in_ECX + 0x68) = (uint)(*(char *)(in_ECX + 0xad) == '\0');
    *(undefined4 *)(in_ECX + 100) = *(undefined4 *)(in_ECX + 0x40);
    *(undefined4 *)(in_ECX + 0x48) = *(undefined4 *)(in_ECX + 0x20);
    *(uint *)(in_ECX + 0x54) = (uint)(*(char *)(in_ECX + 0xc1) != '\0') * 2 + 1;
    *(undefined4 *)(in_ECX + 0x4c) = *(undefined4 *)(in_ECX + 0x24);
    *(uint *)(in_ECX + 0x7c) = (-(uint)(*(char *)(in_ECX + 0xc0) != '\0') & 0x80000001) + 0x80000000
    ;
    if (*(char *)(in_ECX + 0xad) == '\0') {
      *(undefined4 *)(in_ECX + 0x78) = 0;
      pwVar6 = L"[AvaRenderWindow::CreateDevice] Window Mode";
    }
    else {
      *(undefined4 *)(in_ECX + 0x78) = *(undefined4 *)(in_ECX + 0xb8);
      pwVar6 = L"[AvaRenderWindow::CreateDevice] Full Screen";
    }
    FUN_008018d0(pwVar6,uVar2);
    if (*(char *)(in_ECX + 0x2c) != '\0') {
      *(undefined4 *)(in_ECX + 0x74) = 2;
    }
    hdc = GetDC(*(HWND *)(in_ECX + 0x40));
    uVar2 = GetDeviceCaps(hdc,0xc);
    if ((*(char *)(in_ECX + 0xad) == '\0') || (uVar2 < *(uint *)(in_ECX + 0x28))) {
      uStack_140 = (uint)((ulonglong)*(undefined8 *)(*(int *)(in_ECX + 0xbc) + 0x460) >> 0x20);
      *(uint *)(in_ECX + 0x50) = uStack_140;
    }
    else if (*(uint *)(in_ECX + 0x28) < 0x11) {
      *(undefined4 *)(in_ECX + 0x50) = 0x17;
    }
    else {
      *(undefined4 *)(in_ECX + 0x50) = 0x16;
    }
    *(undefined4 *)(in_ECX + 0xa8) = *(undefined4 *)(in_ECX + 0x50);
    local_11c = 0;
    uVar2 = 1;
    do {
      iVar3 = (**(code **)(*piVar1 + 0x2c))
                        (piVar1,0,1,*(undefined4 *)(in_ECX + 0xa8),0,uVar2,&local_11c);
      uVar5 = local_118;
      iVar4 = DAT_017251ac;
      if (iVar3 < 0) {
        if (uVar2 < (uint)(*(int *)(DAT_017251ac + 0x330) - *(int *)(DAT_017251ac + 0x32c) >> 2)) {
          *(undefined4 *)(*(int *)(DAT_017251ac + 0x32c) + uVar2 * 4) = 0xffffffff;
        }
      }
      else if (uVar2 < (uint)(*(int *)(DAT_017251ac + 0x330) - *(int *)(DAT_017251ac + 0x32c) >> 2))
      {
        *(int *)(*(int *)(DAT_017251ac + 0x32c) + uVar2 * 4) = local_11c + -1;
      }
      uVar2 = uVar2 + 1;
    } while ((int)uVar2 < 0x11);
    if (((*(int *)(iVar4 + 0x31c) < 2) ||
        ((uint)(*(int *)(iVar4 + 0x330) - *(int *)(iVar4 + 0x32c) >> 2) < 5)) ||
       (*(int *)(*(int *)(iVar4 + 0x32c) + 0x10) < 0)) {
      if (((*(int *)(iVar4 + 0x31c) == 1) &&
          (2 < (uint)(*(int *)(iVar4 + 0x330) - *(int *)(iVar4 + 0x32c) >> 2))) &&
         (-1 < *(int *)(*(int *)(iVar4 + 0x32c) + 8))) {
        *(undefined4 *)(in_ECX + 0x58) = 2;
      }
      else {
        *(undefined4 *)(in_ECX + 0x58) = 0;
      }
    }
    else {
      *(undefined4 *)(in_ECX + 0x58) = 4;
    }
    *(undefined4 *)(in_ECX + 0x5c) = 0;
    *(undefined4 *)(in_ECX + 0x60) = 1;
    *(undefined4 *)(iVar4 + 0x240) = *(undefined4 *)(in_ECX + 0x58);
    *(undefined4 *)(iVar4 + 0x244) = *(undefined4 *)(in_ECX + 0x5c);
    if (*(char *)(iVar4 + 0x324) != '\0') {
      *(undefined4 *)(in_ECX + 0x58) = 0;
      *(undefined4 *)(in_ECX + 0x5c) = 0;
    }
    if (*(uint *)(in_ECX + 0x28) < 0x11) {
      *(undefined4 *)(in_ECX + 0x70) = 0x50;
      pwVar6 = L"DEPTH_STENCIL Format : D3DFMT_D16";
    }
    else {
      iVar4 = (**(code **)(*piVar1 + 0x28))
                        (piVar1,local_118,1,*(undefined4 *)(in_ECX + 0x50),2,1,0x4b);
      if (iVar4 < 0) {
        iVar4 = (**(code **)(*piVar1 + 0x30))
                          (piVar1,uVar5,1,*(undefined4 *)(in_ECX + 0x50),
                           *(undefined4 *)(in_ECX + 0x50),0x4d);
        if (iVar4 < 0) {
          iVar4 = (**(code **)(*piVar1 + 0x28))
                            (piVar1,uVar5,1,*(undefined4 *)(in_ECX + 0x50),2,1,0x47);
          if (iVar4 < 0) {
            *(undefined4 *)(in_ECX + 0x70) = 0x50;
            pwVar6 = L"DEPTH_STENCIL Format : D3DFMT_D16";
          }
          else {
            *(undefined4 *)(in_ECX + 0x70) = 0x47;
            pwVar6 = L"DEPTH_STENCIL Format : D3DFMT_D32";
          }
        }
        else {
          *(undefined4 *)(in_ECX + 0x70) = 0x4d;
          pwVar6 = L"DEPTH_STENCIL Format : D3DFMT_D24X8";
        }
      }
      else {
        *(undefined4 *)(in_ECX + 0x70) = 0x4b;
        pwVar6 = L"DEPTH_STENCIL Format : D3DFMT_D24S8";
      }
    }
    FUN_008018d0(pwVar6);
    if (*(char *)(in_ECX + 0xad) != '\0') {
      if (*(char *)(in_ECX + 0xc2) == '\0') goto LAB_007f4bef;
      local_138 = *(undefined4 *)(in_ECX + 0x48);
      local_134 = *(undefined4 *)(in_ECX + 0x4c);
      local_12c = *(undefined4 *)(in_ECX + 0x50);
      local_130 = *(undefined4 *)(in_ECX + 0x78);
      local_13c = 0x18;
      local_128 = 1;
    }
    while( true ) {
      if (*(char *)(in_ECX + 0xc2) == '\0') {
LAB_007f4bef:
        iVar4 = (**(code **)(*piVar1 + 0x40))
                          (piVar1,local_118,1,*(undefined4 *)(in_ECX + 0x40),0x44,in_ECX + 0x48,
                           in_ECX + 0x44);
      }
      else {
        iVar4 = (**(code **)(*piVar1 + 0x50))
                          (piVar1,local_118,1,*(undefined4 *)(in_ECX + 0x40),0x44,in_ECX + 0x48,
                           -(uint)(*(char *)(in_ECX + 0xad) != '\0') & (uint)&local_13c,&local_124);
        *(undefined4 *)(in_ECX + 0x44) = local_124;
      }
      if (-1 < iVar4) goto LAB_007f4d4c;
      if (*(int *)(in_ECX + 0x58) == 0) break;
      if (*(uint *)(in_ECX + 0x5c) < 2) {
        *(undefined4 *)(in_ECX + 0x58) = 0;
        *(undefined4 *)(in_ECX + 0x5c) = 0;
      }
      else {
        *(uint *)(in_ECX + 0x5c) = *(uint *)(in_ECX + 0x5c) >> 1;
      }
    }
    FUN_008018d0(L"Failed to create Direct3DDevice. MODE : HARDWARE_VERTEX_PROCESSING (%d)",iVar4);
    if (*(char *)(in_ECX + 0xc2) == '\0') {
      iVar4 = (**(code **)(*piVar1 + 0x40))
                        (piVar1,local_118,1,*(undefined4 *)(in_ECX + 0x40),0x84,in_ECX + 0x48,
                         in_ECX + 0x44);
    }
    else {
      iVar4 = (**(code **)(*piVar1 + 0x50))
                        (piVar1,local_118,1,*(undefined4 *)(in_ECX + 0x40),0x84,in_ECX + 0x48,
                         -(uint)(*(char *)(in_ECX + 0xad) != '\0') & (uint)&local_13c,&local_120);
      *(undefined4 *)(in_ECX + 0x44) = local_120;
    }
    if (iVar4 < 0) {
      FUN_008018d0(L"Failed to create Direct3DDevice. MODE : MIXED_VERTEX_PROCESSING (%d)",iVar4);
      if (*(char *)(in_ECX + 0xc2) == '\0') {
        iVar4 = (**(code **)(*piVar1 + 0x40))
                          (piVar1,local_118,1,*(undefined4 *)(in_ECX + 0x40),0x24,in_ECX + 0x48,
                           in_ECX + 0x44);
      }
      else {
        iVar4 = (**(code **)(*piVar1 + 0x50))
                          (piVar1,local_118,1,*(undefined4 *)(in_ECX + 0x40),0x24,in_ECX + 0x48,
                           -(uint)(*(char *)(in_ECX + 0xad) != '\0') & (uint)&local_13c,&local_118);
        *(undefined4 *)(in_ECX + 0x44) = local_118;
      }
      if (iVar4 < 0) {
        uVar5 = FUN_00404750(L"CreateDevice Failed (%d)",iVar4);
        local_8 = 0;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"AvaLib::AvaRenderWindow::CreateDevice",0x1c5,uVar5);
        }
        local_8 = 0xffffffff;
        if (7 < uStack_140) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        goto LAB_007f4e8f;
      }
    }
LAB_007f4d4c:
    (**(code **)(**(int **)(in_ECX + 0x44) + 0x98))
              (*(int **)(in_ECX + 0x44),0,(undefined4 *)(in_ECX + 0x80));
    if (*(int *)(in_ECX + 0x44) != 0) {
      piVar1 = *(int **)(in_ECX + 0x80);
      (**(code **)(*piVar1 + 0x30))(piVar1,(undefined4 *)(in_ECX + 0x88));
      *(undefined4 *)(in_ECX + 0xa8) = *(undefined4 *)(in_ECX + 0x88);
    }
    (**(code **)(**(int **)(in_ECX + 0x44) + 0xa0))(*(int **)(in_ECX + 0x44),in_ECX + 0x84);
    if (DAT_00d6d740 != 0) {
      DAT_00d6d740 = 0;
      uVar2 = (**(code **)(**(int **)(in_ECX + 0x44) + 0x10))(*(int **)(in_ECX + 0x44));
      DAT_00da9a64 = uVar2;
      *(uint *)(DAT_017251ac + 0x314) = uVar2;
      if (uVar2 < 0x4000000) {
        wsprintfW(local_114,L"[AvaRenderWindow::CreateDevice] Too short TextureMem : %d",uVar2);
        FUN_008018d0(local_114);
        DAT_00d6ab02 = 0;
        DAT_00d6ab01 = 0;
        if (*(int *)(DAT_017251ac + 0x20) != 0) {
          DAT_00d6ab01 = 1;
          DAT_00d6ab02 = 1;
        }
      }
    }
  }
LAB_007f4e8f:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
007f4820 : PUSH EBP
007f4821 : MOV EBP,ESP
007f4823 : PUSH -0x1
007f4825 : PUSH 0xb2933f
007f482a : MOV EAX,FS:[0x0]
007f4830 : PUSH EAX
007f4831 : SUB ESP,0x14c
007f4837 : MOV EAX,[0x00d66fa0]
007f483c : XOR EAX,EBP
007f483e : MOV dword ptr [EBP + -0x10],EAX
007f4841 : PUSH EBX
007f4842 : PUSH ESI
007f4843 : PUSH EDI
007f4844 : PUSH EAX
007f4845 : LEA EAX,[EBP + -0xc]
007f4848 : MOV FS:[0x0],EAX
007f484e : MOV ESI,dword ptr [0x00da98e8]
007f4854 : PUSH 0xc248d8
007f4859 : MOV EDI,ECX
007f485b : CALL 0x008018d0
007f4860 : MOV EAX,dword ptr [EDI + 0xbc]
007f4866 : ADD ESP,0x4
007f4869 : TEST EAX,EAX
007f486b : JZ 0x007f4e8f
007f4871 : MOV ECX,dword ptr [EAX + 0x8]
007f4874 : MOV EBX,dword ptr [EAX + 0x4]
007f4877 : PUSH 0x38
007f4879 : LEA ESI,[EDI + 0x48]
007f487c : PUSH 0x0
007f487e : PUSH ESI
007f487f : MOV dword ptr [EBP + 0xfffffeec],ECX
007f4885 : CALL 0x0063b700
007f488a : MOV AL,byte ptr [EDI + 0xad]
007f4890 : MOVZX ECX,byte ptr [EDI + 0x2c]
007f4894 : XOR EDX,EDX
007f4896 : ADD ESP,0xc
007f4899 : TEST AL,AL
007f489b : SETZ DL
007f489e : MOV dword ptr [EDI + 0x6c],ECX
007f48a1 : XOR ECX,ECX
007f48a3 : CMP byte ptr [EDI + 0xc1],CL
007f48a9 : MOV dword ptr [EDI + 0x60],0x1
007f48b0 : SETNZ CL
007f48b3 : MOV dword ptr [EDI + 0x68],EDX
007f48b6 : MOV EDX,dword ptr [EDI + 0x40]
007f48b9 : MOV dword ptr [EDI + 0x64],EDX
007f48bc : MOV EDX,dword ptr [EDI + 0x20]
007f48bf : MOV dword ptr [ESI],EDX
007f48c1 : MOVZX EDX,byte ptr [EDI + 0xc0]
007f48c8 : MOV ESI,dword ptr [0x00da98e8]
007f48ce : NEG EDX
007f48d0 : SBB EDX,EDX
007f48d2 : LEA ECX,[ECX + ECX*0x1 + 0x1]
007f48d6 : AND EDX,0x80000001
007f48dc : MOV dword ptr [EDI + 0x54],ECX
007f48df : MOV ECX,dword ptr [EDI + 0x24]
007f48e2 : ADD EDX,0x80000000
007f48e8 : MOV dword ptr [EDI + 0x4c],ECX
007f48eb : MOV dword ptr [EDI + 0x7c],EDX
007f48ee : TEST AL,AL
007f48f0 : JZ 0x007f4902
007f48f2 : MOV EAX,dword ptr [EDI + 0xb8]
007f48f8 : MOV dword ptr [EDI + 0x78],EAX
007f48fb : PUSH 0xc24918
007f4900 : JMP 0x007f490e
007f4902 : MOV dword ptr [EDI + 0x78],0x0
007f4909 : PUSH 0xc24970
007f490e : CALL 0x008018d0
007f4913 : ADD ESP,0x4
007f4916 : CMP byte ptr [EDI + 0x2c],0x0
007f491a : JZ 0x007f4923
007f491c : MOV dword ptr [EDI + 0x74],0x2
007f4923 : MOV ECX,dword ptr [EDI + 0x40]
007f4926 : PUSH ECX
007f4927 : CALL dword ptr [0x00b85500]
007f492d : PUSH 0xc
007f492f : PUSH EAX
007f4930 : CALL dword ptr [0x00b8507c]
007f4936 : CMP byte ptr [EDI + 0xad],0x0
007f493d : JZ 0x007f495d
007f493f : MOV ECX,dword ptr [EDI + 0x28]
007f4942 : CMP ECX,EAX
007f4944 : JA 0x007f495d
007f4946 : CMP ECX,0x10
007f4949 : JBE 0x007f4954
007f494b : MOV dword ptr [EDI + 0x50],0x16
007f4952 : JMP 0x007f498c
007f4954 : MOV dword ptr [EDI + 0x50],0x17
007f495b : JMP 0x007f498c
007f495d : MOV EAX,dword ptr [EDI + 0xbc]
007f4963 : MOVQ XMM0,qword ptr [EAX + 0x458]
007f496b : MOVQ qword ptr [EBP + 0xfffffeb8],XMM0
007f4973 : MOVQ XMM0,qword ptr [EAX + 0x460]
007f497b : MOVQ qword ptr [EBP + 0xfffffec0],XMM0
007f4983 : MOV EDX,dword ptr [EBP + 0xfffffec4]
007f4989 : MOV dword ptr [EDI + 0x50],EDX
007f498c : MOV EAX,dword ptr [EDI + 0x50]
007f498f : MOV dword ptr [EDI + 0xa8],EAX
007f4995 : MOV dword ptr [EBP + 0xfffffee8],0x0
007f499f : MOV ESI,0x1
007f49a4 : MOV EAX,dword ptr [EDI + 0xa8]
007f49aa : MOV ECX,dword ptr [EBX]
007f49ac : MOV ECX,dword ptr [ECX + 0x2c]
007f49af : LEA EDX,[EBP + 0xfffffee8]
007f49b5 : PUSH EDX
007f49b6 : PUSH ESI
007f49b7 : PUSH 0x0
007f49b9 : PUSH EAX
007f49ba : PUSH 0x1
007f49bc : PUSH 0x0
007f49be : PUSH EBX
007f49bf : CALL ECX
007f49c1 : TEST EAX,EAX
007f49c3 : MOV EAX,[0x017251ac]
007f49c8 : JL 0x007f49ef
007f49ca : MOV EDX,dword ptr [EAX + 0x330]
007f49d0 : SUB EDX,dword ptr [EAX + 0x32c]
007f49d6 : MOV ECX,dword ptr [EBP + 0xfffffee8]
007f49dc : SAR EDX,0x2
007f49df : DEC ECX
007f49e0 : CMP ESI,EDX
007f49e2 : JNC 0x007f4a0f
007f49e4 : MOV EDX,dword ptr [EAX + 0x32c]
007f49ea : MOV dword ptr [EDX + ESI*0x4],ECX
007f49ed : JMP 0x007f4a0f
007f49ef : MOV ECX,dword ptr [EAX + 0x330]
007f49f5 : SUB ECX,dword ptr [EAX + 0x32c]
007f49fb : SAR ECX,0x2
007f49fe : CMP ESI,ECX
007f4a00 : JNC 0x007f4a0f
007f4a02 : MOV EDX,dword ptr [EAX + 0x32c]
007f4a08 : MOV dword ptr [EDX + ESI*0x4],0xffffffff
007f4a0f : INC ESI
007f4a10 : CMP ESI,0x10
007f4a13 : JLE 0x007f49a4
007f4a15 : MOV ECX,dword ptr [EAX + 0x31c]
007f4a1b : CMP ECX,0x2
007f4a1e : JL 0x007f4a4a
007f4a20 : MOV EDX,dword ptr [EAX + 0x330]
007f4a26 : SUB EDX,dword ptr [EAX + 0x32c]
007f4a2c : SAR EDX,0x2
007f4a2f : CMP EDX,0x4
007f4a32 : JBE 0x007f4a4a
007f4a34 : MOV ESI,dword ptr [EAX + 0x32c]
007f4a3a : XOR EDX,EDX
007f4a3c : CMP dword ptr [ESI + 0x10],EDX
007f4a3f : JL 0x007f4a4c
007f4a41 : MOV dword ptr [EDI + 0x58],0x4
007f4a48 : JMP 0x007f4a7c
007f4a4a : XOR EDX,EDX
007f4a4c : CMP ECX,0x1
007f4a4f : JNZ 0x007f4a79
007f4a51 : MOV ECX,dword ptr [EAX + 0x330]
007f4a57 : SUB ECX,dword ptr [EAX + 0x32c]
007f4a5d : SAR ECX,0x2
007f4a60 : CMP ECX,0x2
007f4a63 : JBE 0x007f4a79
007f4a65 : MOV ECX,dword ptr [EAX + 0x32c]
007f4a6b : CMP dword ptr [ECX + 0x8],EDX
007f4a6e : JL 0x007f4a79
007f4a70 : MOV dword ptr [EDI + 0x58],0x2
007f4a77 : JMP 0x007f4a7c
007f4a79 : MOV dword ptr [EDI + 0x58],EDX
007f4a7c : MOV ECX,dword ptr [EDI + 0x58]
007f4a7f : MOV dword ptr [EDI + 0x5c],EDX
007f4a82 : MOV dword ptr [EDI + 0x60],0x1
007f4a89 : CMP byte ptr [EAX + 0x324],0x0
007f4a90 : MOV dword ptr [EAX + 0x240],ECX
007f4a96 : MOV ECX,dword ptr [EDI + 0x5c]
007f4a99 : MOV dword ptr [EAX + 0x244],ECX
007f4a9f : JZ 0x007f4aa7
007f4aa1 : MOV dword ptr [EDI + 0x58],EDX
007f4aa4 : MOV dword ptr [EDI + 0x5c],EDX
007f4aa7 : CMP dword ptr [EDI + 0x28],0x10
007f4aab : JBE 0x007f4b3d
007f4ab1 : MOV EAX,dword ptr [EDI + 0x50]
007f4ab4 : MOV ESI,dword ptr [EBP + 0xfffffeec]
007f4aba : MOV EDX,dword ptr [EBX]
007f4abc : MOV ECX,dword ptr [EDX + 0x28]
007f4abf : PUSH 0x4b
007f4ac1 : PUSH 0x1
007f4ac3 : PUSH 0x2
007f4ac5 : PUSH EAX
007f4ac6 : PUSH 0x1
007f4ac8 : PUSH ESI
007f4ac9 : PUSH EBX
007f4aca : CALL ECX
007f4acc : TEST EAX,EAX
007f4ace : JGE 0x007f4b2f
007f4ad0 : MOV EAX,dword ptr [EDI + 0x50]
007f4ad3 : MOV EDX,dword ptr [EBX]
007f4ad5 : PUSH 0x4d
007f4ad7 : PUSH EAX
007f4ad8 : PUSH EAX
007f4ad9 : MOV EAX,dword ptr [EDX + 0x30]
007f4adc : PUSH 0x1
007f4ade : PUSH ESI
007f4adf : PUSH EBX
007f4ae0 : CALL EAX
007f4ae2 : TEST EAX,EAX
007f4ae4 : JL 0x007f4af4
007f4ae6 : MOV dword ptr [EDI + 0x70],0x4d
007f4aed : PUSH 0xc249c8
007f4af2 : JMP 0x007f4b49
007f4af4 : MOV EDX,dword ptr [EDI + 0x50]
007f4af7 : MOV ECX,dword ptr [EBX]
007f4af9 : MOV EAX,dword ptr [ECX + 0x28]
007f4afc : PUSH 0x47
007f4afe : PUSH 0x1
007f4b00 : PUSH 0x2
007f4b02 : PUSH EDX
007f4b03 : PUSH 0x1
007f4b05 : PUSH ESI
007f4b06 : PUSH EBX
007f4b07 : CALL EAX
007f4b09 : MOV ESI,dword ptr [0x00da98e8]
007f4b0f : TEST EAX,EAX
007f4b11 : JL 0x007f4b21
007f4b13 : MOV dword ptr [EDI + 0x70],0x47
007f4b1a : PUSH 0xc24a10
007f4b1f : JMP 0x007f4b4f
007f4b21 : MOV dword ptr [EDI + 0x70],0x50
007f4b28 : PUSH 0xc24a60
007f4b2d : JMP 0x007f4b4f
007f4b2f : MOV dword ptr [EDI + 0x70],0x4b
007f4b36 : PUSH 0xc24aa8
007f4b3b : JMP 0x007f4b49
007f4b3d : MOV dword ptr [EDI + 0x70],0x50
007f4b44 : PUSH 0xc24af0
007f4b49 : MOV ESI,dword ptr [0x00da98e8]
007f4b4f : CALL 0x008018d0
007f4b54 : ADD ESP,0x4
007f4b57 : CMP byte ptr [EDI + 0xad],0x0
007f4b5e : JZ 0x007f4ba5
007f4b60 : CMP byte ptr [EDI + 0xc2],0x0
007f4b67 : JZ 0x007f4bef
007f4b6d : MOV ECX,dword ptr [EDI + 0x48]
007f4b70 : MOV EDX,dword ptr [EDI + 0x4c]
007f4b73 : MOV EAX,dword ptr [EDI + 0x50]
007f4b76 : MOV dword ptr [EBP + 0xfffffecc],ECX
007f4b7c : MOV ECX,dword ptr [EDI + 0x78]
007f4b7f : MOV dword ptr [EBP + 0xfffffec8],0x18
007f4b89 : MOV dword ptr [EBP + 0xfffffed0],EDX
007f4b8f : MOV dword ptr [EBP + 0xfffffed8],EAX
007f4b95 : MOV dword ptr [EBP + 0xfffffed4],ECX
007f4b9b : MOV dword ptr [EBP + 0xfffffedc],0x1
007f4ba5 : CMP byte ptr [EDI + 0xc2],0x0
007f4bac : JZ 0x007f4bef
007f4bae : MOVZX ECX,byte ptr [EDI + 0xad]
007f4bb5 : MOV EDX,dword ptr [EBX]
007f4bb7 : NEG ECX
007f4bb9 : LEA EAX,[EBP + 0xfffffee0]
007f4bbf : PUSH EAX
007f4bc0 : SBB ECX,ECX
007f4bc2 : LEA EAX,[EBP + 0xfffffec8]
007f4bc8 : AND ECX,EAX
007f4bca : PUSH ECX
007f4bcb : MOV ECX,dword ptr [EDI + 0x40]
007f4bce : LEA EAX,[EDI + 0x48]
007f4bd1 : PUSH EAX
007f4bd2 : MOV EAX,dword ptr [EBP + 0xfffffeec]
007f4bd8 : PUSH 0x44
007f4bda : PUSH ECX
007f4bdb : MOV ECX,dword ptr [EDX + 0x50]
007f4bde : PUSH 0x1
007f4be0 : PUSH EAX
007f4be1 : PUSH EBX
007f4be2 : CALL ECX
007f4be4 : MOV EDX,dword ptr [EBP + 0xfffffee0]
007f4bea : MOV dword ptr [EDI + 0x44],EDX
007f4bed : JMP 0x007f4c0e
007f4bef : MOV ECX,dword ptr [EBX]
007f4bf1 : LEA EDX,[EDI + 0x44]
007f4bf4 : PUSH EDX
007f4bf5 : MOV EDX,dword ptr [EBP + 0xfffffeec]
007f4bfb : LEA EAX,[EDI + 0x48]
007f4bfe : PUSH EAX
007f4bff : MOV EAX,dword ptr [EDI + 0x40]
007f4c02 : PUSH 0x44
007f4c04 : PUSH EAX
007f4c05 : MOV EAX,dword ptr [ECX + 0x40]
007f4c08 : PUSH 0x1
007f4c0a : PUSH EDX
007f4c0b : PUSH EBX
007f4c0c : CALL EAX
007f4c0e : XOR ESI,ESI
007f4c10 : CMP EAX,ESI
007f4c12 : JGE 0x007f4d4c
007f4c18 : CMP dword ptr [EDI + 0x58],ESI
007f4c1b : JZ 0x007f4c3a
007f4c1d : MOV EAX,dword ptr [EDI + 0x5c]
007f4c20 : CMP EAX,0x1
007f4c23 : JA 0x007f4c30
007f4c25 : MOV dword ptr [EDI + 0x58],ESI
007f4c28 : MOV dword ptr [EDI + 0x5c],ESI
007f4c2b : JMP 0x007f4ba5
007f4c30 : SHR EAX,0x1
007f4c32 : MOV dword ptr [EDI + 0x5c],EAX
007f4c35 : JMP 0x007f4ba5
007f4c3a : MOV ESI,dword ptr [0x00da98e8]
007f4c40 : PUSH EAX
007f4c41 : PUSH 0xc24b40
007f4c46 : CALL 0x008018d0
007f4c4b : ADD ESP,0x8
007f4c4e : CMP byte ptr [EDI + 0xc2],0x0
007f4c55 : JZ 0x007f4c9b
007f4c57 : MOVZX EAX,byte ptr [EDI + 0xad]
007f4c5e : MOV ECX,dword ptr [EBX]
007f4c60 : NEG EAX
007f4c62 : LEA EDX,[EBP + 0xfffffee4]
007f4c68 : PUSH EDX
007f4c69 : SBB EAX,EAX
007f4c6b : LEA EDX,[EBP + 0xfffffec8]
007f4c71 : AND EAX,EDX
007f4c73 : MOV EDX,dword ptr [EBP + 0xfffffeec]
007f4c79 : PUSH EAX
007f4c7a : LEA EAX,[EDI + 0x48]
007f4c7d : PUSH EAX
007f4c7e : MOV EAX,dword ptr [EDI + 0x40]
007f4c81 : PUSH 0x84
007f4c86 : PUSH EAX
007f4c87 : MOV EAX,dword ptr [ECX + 0x50]
007f4c8a : PUSH 0x1
007f4c8c : PUSH EDX
007f4c8d : PUSH EBX
007f4c8e : CALL EAX
007f4c90 : MOV ECX,dword ptr [EBP + 0xfffffee4]
007f4c96 : MOV dword ptr [EDI + 0x44],ECX
007f4c99 : JMP 0x007f4cbd
007f4c9b : MOV ECX,dword ptr [EBP + 0xfffffeec]
007f4ca1 : MOV EDX,dword ptr [EBX]
007f4ca3 : MOV EDX,dword ptr [EDX + 0x40]
007f4ca6 : LEA EAX,[EDI + 0x44]
007f4ca9 : PUSH EAX
007f4caa : LEA EAX,[EDI + 0x48]
007f4cad : PUSH EAX
007f4cae : MOV EAX,dword ptr [EDI + 0x40]
007f4cb1 : PUSH 0x84
007f4cb6 : PUSH EAX
007f4cb7 : PUSH 0x1
007f4cb9 : PUSH ECX
007f4cba : PUSH EBX
007f4cbb : CALL EDX
007f4cbd : TEST EAX,EAX
007f4cbf : JGE 0x007f4d4a
007f4cc5 : MOV ESI,dword ptr [0x00da98e8]
007f4ccb : PUSH EAX
007f4ccc : PUSH 0xc24bd0
007f4cd1 : CALL 0x008018d0
007f4cd6 : ADD ESP,0x8
007f4cd9 : CMP byte ptr [EDI + 0xc2],0x0
007f4ce0 : JZ 0x007f4d23
007f4ce2 : MOVZX EAX,byte ptr [EDI + 0xad]
007f4ce9 : MOV ECX,dword ptr [EBX]
007f4ceb : NEG EAX
007f4ced : LEA EDX,[EBP + 0xfffffeec]
007f4cf3 : PUSH EDX
007f4cf4 : SBB EAX,EAX
007f4cf6 : LEA EDX,[EBP + 0xfffffec8]
007f4cfc : AND EAX,EDX
007f4cfe : MOV EDX,dword ptr [EBP + 0xfffffeec]
007f4d04 : PUSH EAX
007f4d05 : LEA EAX,[EDI + 0x48]
007f4d08 : PUSH EAX
007f4d09 : MOV EAX,dword ptr [EDI + 0x40]
007f4d0c : PUSH 0x24
007f4d0e : PUSH EAX
007f4d0f : MOV EAX,dword ptr [ECX + 0x50]
007f4d12 : PUSH 0x1
007f4d14 : PUSH EDX
007f4d15 : PUSH EBX
007f4d16 : CALL EAX
007f4d18 : MOV ECX,dword ptr [EBP + 0xfffffeec]
007f4d1e : MOV dword ptr [EDI + 0x44],ECX
007f4d21 : JMP 0x007f4d42
007f4d23 : MOV ECX,dword ptr [EBP + 0xfffffeec]
007f4d29 : MOV EDX,dword ptr [EBX]
007f4d2b : MOV EDX,dword ptr [EDX + 0x40]
007f4d2e : LEA EAX,[EDI + 0x44]
007f4d31 : PUSH EAX
007f4d32 : LEA EAX,[EDI + 0x48]
007f4d35 : PUSH EAX
007f4d36 : MOV EAX,dword ptr [EDI + 0x40]
007f4d39 : PUSH 0x24
007f4d3b : PUSH EAX
007f4d3c : PUSH 0x1
007f4d3e : PUSH ECX
007f4d3f : PUSH EBX
007f4d40 : CALL EDX
007f4d42 : TEST EAX,EAX
007f4d44 : JL 0x007f4e24
007f4d4a : XOR ESI,ESI
007f4d4c : MOV EAX,dword ptr [EDI + 0x44]
007f4d4f : MOV ECX,dword ptr [EAX]
007f4d51 : MOV EDX,dword ptr [ECX + 0x98]
007f4d57 : LEA EBX,[EDI + 0x80]
007f4d5d : PUSH EBX
007f4d5e : PUSH ESI
007f4d5f : PUSH EAX
007f4d60 : CALL EDX
007f4d62 : CMP dword ptr [EDI + 0x44],ESI
007f4d65 : JZ 0x007f4d80
007f4d67 : MOV EAX,dword ptr [EBX]
007f4d69 : MOV ECX,dword ptr [EAX]
007f4d6b : MOV EDX,dword ptr [ECX + 0x30]
007f4d6e : LEA EBX,[EDI + 0x88]
007f4d74 : PUSH EBX
007f4d75 : PUSH EAX
007f4d76 : CALL EDX
007f4d78 : MOV EAX,dword ptr [EBX]
007f4d7a : MOV dword ptr [EDI + 0xa8],EAX
007f4d80 : MOV EAX,dword ptr [EDI + 0x44]
007f4d83 : MOV ECX,dword ptr [EAX]
007f4d85 : LEA EDX,[EDI + 0x84]
007f4d8b : PUSH EDX
007f4d8c : PUSH EAX
007f4d8d : MOV EAX,dword ptr [ECX + 0xa0]
007f4d93 : CALL EAX
007f4d95 : CMP dword ptr [0x00d6d740],ESI
007f4d9b : JZ 0x007f4e8f
007f4da1 : MOV EDI,dword ptr [EDI + 0x44]
007f4da4 : MOV ECX,dword ptr [EDI]
007f4da6 : MOV EDX,dword ptr [ECX + 0x10]
007f4da9 : PUSH EDI
007f4daa : MOV dword ptr [0x00d6d740],ESI
007f4db0 : CALL EDX
007f4db2 : MOV ECX,dword ptr [0x017251ac]
007f4db8 : MOV [0x00da9a64],EAX
007f4dbd : MOV dword ptr [ECX + 0x314],EAX
007f4dc3 : CMP EAX,0x4000000
007f4dc8 : JNC 0x007f4e8f
007f4dce : PUSH EAX
007f4dcf : LEA EDX,[EBP + 0xfffffef0]
007f4dd5 : PUSH 0xc24c60
007f4dda : PUSH EDX
007f4ddb : CALL dword ptr [0x00b85434]
007f4de1 : MOV ESI,dword ptr [0x00da98e8]
007f4de7 : LEA EAX,[EBP + 0xfffffef0]
007f4ded : PUSH EAX
007f4dee : CALL 0x008018d0
007f4df3 : MOV ECX,dword ptr [0x017251ac]
007f4df9 : ADD ESP,0x10
007f4dfc : CMP dword ptr [ECX + 0x20],0x0
007f4e00 : MOV byte ptr [0x00d6ab02],0x0
007f4e07 : MOV byte ptr [0x00d6ab01],0x0
007f4e0e : JZ 0x007f4e8f
007f4e14 : MOV byte ptr [0x00d6ab01],0x1
007f4e1b : MOV byte ptr [0x00d6ab02],0x1
007f4e22 : JMP 0x007f4e8f
007f4e24 : PUSH EAX
007f4e25 : PUSH 0xc248a4
007f4e2a : LEA ESI,[EBP + 0xfffffeac]
007f4e30 : CALL 0x00404750
007f4e35 : ADD ESP,0x8
007f4e38 : XOR ESI,ESI
007f4e3a : MOV dword ptr [EBP + -0x4],ESI
007f4e3d : MOV EDX,dword ptr [0x00da98e8]
007f4e43 : MOV ECX,dword ptr [EDX]
007f4e45 : CMP ECX,ESI
007f4e47 : JZ 0x007f4e5b
007f4e49 : MOV EDX,dword ptr [ECX]
007f4e4b : PUSH EAX
007f4e4c : MOV EAX,dword ptr [EDX + 0x14]
007f4e4f : PUSH 0x1c5
007f4e54 : PUSH 0xc24ce0
007f4e59 : CALL EAX
007f4e5b : MOV dword ptr [EBP + -0x4],0xffffffff
007f4e62 : CMP dword ptr [EBP + 0xfffffec4],0x8
007f4e69 : JC 0x007f4e76
007f4e6b : MOV ECX,dword ptr [EBP + 0xfffffeb0]
007f4e71 : CALL 0x006f04e0
007f4e76 : XOR ECX,ECX
007f4e78 : MOV dword ptr [EBP + 0xfffffec4],0x7
007f4e82 : MOV dword ptr [EBP + 0xfffffec0],ESI
007f4e88 : MOV word ptr [EBP + 0xfffffeb0],CX
007f4e8f : MOV ECX,dword ptr [EBP + -0xc]
007f4e92 : MOV dword ptr FS:[0x0],ECX
007f4e99 : POP ECX
007f4e9a : POP EDI
007f4e9b : POP ESI
007f4e9c : POP EBX
007f4e9d : MOV ECX,dword ptr [EBP + -0x10]
007f4ea0 : XOR ECX,EBP
007f4ea2 : CALL 0x00633e6b
007f4ea7 : MOV ESP,EBP
007f4ea9 : POP EBP
007f4eaa : RET
