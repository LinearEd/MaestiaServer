PROGRAM  : Maestia.exe
FUNCTION : FUN_005d0a20
ENTRY    : 005d0a20
BODY     : [[005d0a20, 005d0c7f]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_005d0a20(undefined4 param_1,undefined4 *param_2,byte *param_3)

{
  byte bVar1;
  float fVar2;
  char cVar3;
  byte *pbVar4;
  int iVar5;
  byte *pbVar6;
  undefined4 uVar7;
  int in_ECX;
  char *pcVar8;
  byte *pbVar9;
  bool bVar10;
  
  pbVar6 = *(byte **)*param_2;
  pcVar8 = "alpha";
  pbVar4 = pbVar6;
  do {
    bVar1 = *pbVar4;
    bVar10 = bVar1 < (byte)*pcVar8;
    if (bVar1 != *pcVar8) {
LAB_005d0a57:
      iVar5 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
      goto LAB_005d0a5c;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar4[1];
    bVar10 = bVar1 < ((byte *)pcVar8)[1];
    if (bVar1 != ((byte *)pcVar8)[1]) goto LAB_005d0a57;
    pbVar4 = pbVar4 + 2;
    pcVar8 = (char *)((byte *)pcVar8 + 2);
  } while (bVar1 != 0);
  iVar5 = 0;
LAB_005d0a5c:
  if (iVar5 == 0) {
    if (*(byte *)(in_ECX + 0x2b) == 0) {
      fVar2 = 0.0;
    }
    else {
      fVar2 = (float)*(byte *)(in_ECX + 0x2b) / 255.0;
    }
  }
  else {
    pbVar9 = &DAT_00b8a574;
    pbVar4 = pbVar6;
    do {
      bVar1 = *pbVar4;
      bVar10 = bVar1 < *pbVar9;
      if (bVar1 != *pbVar9) {
LAB_005d0ad4:
        iVar5 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
        goto LAB_005d0ad9;
      }
      if (bVar1 == 0) break;
      bVar1 = pbVar4[1];
      bVar10 = bVar1 < pbVar9[1];
      if (bVar1 != pbVar9[1]) goto LAB_005d0ad4;
      pbVar4 = pbVar4 + 2;
      pbVar9 = pbVar9 + 2;
    } while (bVar1 != 0);
    iVar5 = 0;
LAB_005d0ad9:
    if (iVar5 == 0) {
      fVar2 = (float)*(byte *)(in_ECX + 0x21) * 0.0625;
    }
    else {
      pcVar8 = "blurY";
      do {
        bVar1 = *pbVar6;
        bVar10 = bVar1 < (byte)*pcVar8;
        if (bVar1 != *pcVar8) {
LAB_005d0b20:
          iVar5 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
          goto LAB_005d0b25;
        }
        if (bVar1 == 0) break;
        bVar1 = pbVar6[1];
        bVar10 = bVar1 < ((byte *)pcVar8)[1];
        if (bVar1 != ((byte *)pcVar8)[1]) goto LAB_005d0b20;
        pbVar6 = pbVar6 + 2;
        pcVar8 = (char *)((byte *)pcVar8 + 2);
      } while (bVar1 != 0);
      iVar5 = 0;
LAB_005d0b25:
      if (iVar5 != 0) {
        cVar3 = FUN_004ffc90();
        if (cVar3 != '\0') {
          FUN_005b4b50();
          return 1;
        }
        cVar3 = FUN_004ffc90();
        if (cVar3 != '\0') {
          iVar5 = FUN_00529690();
          if (iVar5 == 0) {
            return 1;
          }
          FUN_0050a9f0(iVar5 + 0xc,"Warning: GlowFilter.inner property is not supported!\n");
          return 1;
        }
        cVar3 = FUN_004ffc90();
        if (cVar3 != '\0') {
          FUN_004ffd80();
          return 1;
        }
        cVar3 = FUN_004ffc90();
        if (cVar3 != '\0') {
          iVar5 = FUN_00529690();
          if (iVar5 == 0) {
            return 1;
          }
          FUN_0050a9f0(iVar5 + 0xc,"Warning: GlowFilter.quality property is not supported!\n");
          return 1;
        }
        cVar3 = FUN_004ffc90();
        if (cVar3 != '\0') {
          FUN_004ffd60((double)((float)*(byte *)(in_ECX + 0x23) * 0.0625));
          return 1;
        }
        uVar7 = FUN_00586920(param_1,param_2,param_3);
        return uVar7;
      }
      fVar2 = (float)*(byte *)(in_ECX + 0x22) * 0.0625;
    }
  }
  if (4 < *param_3) {
    FUN_00526400();
  }
  *param_3 = 3;
  *(double *)(param_3 + 4) = (double)fVar2;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
005d0a20 : SUB ESP,0x8
005d0a23 : PUSH EBX
005d0a24 : MOV EBX,dword ptr [ESP + 0x14]
005d0a28 : MOV EAX,dword ptr [EBX]
005d0a2a : PUSH ESI
005d0a2b : MOV ESI,dword ptr [EAX]
005d0a2d : PUSH EDI
005d0a2e : MOV EDI,ECX
005d0a30 : MOV ECX,0xb8a444
005d0a35 : MOV EAX,ESI
005d0a37 : MOV DL,byte ptr [EAX]
005d0a39 : CMP DL,byte ptr [ECX]
005d0a3b : JNZ 0x005d0a57
005d0a3d : TEST DL,DL
005d0a3f : JZ 0x005d0a53
005d0a41 : MOV DL,byte ptr [EAX + 0x1]
005d0a44 : CMP DL,byte ptr [ECX + 0x1]
005d0a47 : JNZ 0x005d0a57
005d0a49 : ADD EAX,0x2
005d0a4c : ADD ECX,0x2
005d0a4f : TEST DL,DL
005d0a51 : JNZ 0x005d0a37
005d0a53 : XOR EAX,EAX
005d0a55 : JMP 0x005d0a5c
005d0a57 : SBB EAX,EAX
005d0a59 : SBB EAX,-0x1
005d0a5c : TEST EAX,EAX
005d0a5e : JNZ 0x005d0aad
005d0a60 : MOV AL,byte ptr [EDI + 0x2b]
005d0a63 : TEST AL,AL
005d0a65 : JNZ 0x005d0a6b
005d0a67 : FLDZ
005d0a69 : JMP 0x005d0a7c
005d0a6b : MOVZX ECX,AL
005d0a6e : MOV dword ptr [ESP + 0x18],ECX
005d0a72 : FILD dword ptr [ESP + 0x18]
005d0a76 : FDIV double ptr [0x00b86b48]
005d0a7c : FSTP float ptr [ESP + 0x18]
005d0a80 : FLD float ptr [ESP + 0x18]
005d0a84 : MOV ESI,dword ptr [ESP + 0x20]
005d0a88 : FSTP double ptr [ESP + 0xc]
005d0a8c : CMP byte ptr [ESI],0x5
005d0a8f : JC 0x005d0a98
005d0a91 : MOV ECX,ESI
005d0a93 : CALL 0x00526400
005d0a98 : FLD double ptr [ESP + 0xc]
005d0a9c : MOV byte ptr [ESI],0x3
005d0a9f : FSTP double ptr [ESI + 0x4]
005d0aa2 : POP EDI
005d0aa3 : POP ESI
005d0aa4 : MOV AL,0x1
005d0aa6 : POP EBX
005d0aa7 : ADD ESP,0x8
005d0aaa : RET 0xc
005d0aad : MOV ECX,0xb8a574
005d0ab2 : MOV EAX,ESI
005d0ab4 : MOV DL,byte ptr [EAX]
005d0ab6 : CMP DL,byte ptr [ECX]
005d0ab8 : JNZ 0x005d0ad4
005d0aba : TEST DL,DL
005d0abc : JZ 0x005d0ad0
005d0abe : MOV DL,byte ptr [EAX + 0x1]
005d0ac1 : CMP DL,byte ptr [ECX + 0x1]
005d0ac4 : JNZ 0x005d0ad4
005d0ac6 : ADD EAX,0x2
005d0ac9 : ADD ECX,0x2
005d0acc : TEST DL,DL
005d0ace : JNZ 0x005d0ab4
005d0ad0 : XOR EAX,EAX
005d0ad2 : JMP 0x005d0ad9
005d0ad4 : SBB EAX,EAX
005d0ad6 : SBB EAX,-0x1
005d0ad9 : TEST EAX,EAX
005d0adb : JNZ 0x005d0af9
005d0add : MOVZX EDX,byte ptr [EDI + 0x21]
005d0ae1 : MOV dword ptr [ESP + 0x18],EDX
005d0ae5 : FILD dword ptr [ESP + 0x18]
005d0ae9 : FMUL double ptr [0x00b86b28]
005d0aef : FSTP float ptr [ESP + 0x18]
005d0af3 : FLD float ptr [ESP + 0x18]
005d0af7 : JMP 0x005d0a84
005d0af9 : MOV ECX,0xb8a56c
005d0afe : MOV EAX,ESI
005d0b00 : MOV DL,byte ptr [EAX]
005d0b02 : CMP DL,byte ptr [ECX]
005d0b04 : JNZ 0x005d0b20
005d0b06 : TEST DL,DL
005d0b08 : JZ 0x005d0b1c
005d0b0a : MOV DL,byte ptr [EAX + 0x1]
005d0b0d : CMP DL,byte ptr [ECX + 0x1]
005d0b10 : JNZ 0x005d0b20
005d0b12 : ADD EAX,0x2
005d0b15 : ADD ECX,0x2
005d0b18 : TEST DL,DL
005d0b1a : JNZ 0x005d0b00
005d0b1c : XOR EAX,EAX
005d0b1e : JMP 0x005d0b25
005d0b20 : SBB EAX,EAX
005d0b22 : SBB EAX,-0x1
005d0b25 : TEST EAX,EAX
005d0b27 : JNZ 0x005d0b48
005d0b29 : MOVZX EAX,byte ptr [EDI + 0x22]
005d0b2d : MOV dword ptr [ESP + 0x18],EAX
005d0b31 : FILD dword ptr [ESP + 0x18]
005d0b35 : FMUL double ptr [0x00b86b28]
005d0b3b : FSTP float ptr [ESP + 0x18]
005d0b3f : FLD float ptr [ESP + 0x18]
005d0b43 : JMP 0x005d0a84
005d0b48 : PUSH 0xb8d75c
005d0b4d : MOV ECX,EBX
005d0b4f : CALL 0x004ffc90
005d0b54 : TEST AL,AL
005d0b56 : JZ 0x005d0b76
005d0b58 : MOV ECX,dword ptr [EDI + 0x28]
005d0b5b : AND ECX,0xffffff
005d0b61 : PUSH ECX
005d0b62 : MOV ECX,dword ptr [ESP + 0x24]
005d0b66 : CALL 0x005b4b50
005d0b6b : POP EDI
005d0b6c : POP ESI
005d0b6d : MOV AL,0x1
005d0b6f : POP EBX
005d0b70 : ADD ESP,0x8
005d0b73 : RET 0xc
005d0b76 : PUSH 0xb92ff0
005d0b7b : MOV ECX,EBX
005d0b7d : CALL 0x004ffc90
005d0b82 : TEST AL,AL
005d0b84 : JZ 0x005d0bb3
005d0b86 : MOV ECX,dword ptr [ESP + 0x18]
005d0b8a : CALL 0x00529690
005d0b8f : TEST EAX,EAX
005d0b91 : JZ 0x005d0aa2
005d0b97 : ADD EAX,0xc
005d0b9a : PUSH 0xb93194
005d0b9f : PUSH EAX
005d0ba0 : CALL 0x0050a9f0
005d0ba5 : ADD ESP,0x8
005d0ba8 : POP EDI
005d0ba9 : POP ESI
005d0baa : MOV AL,0x1
005d0bac : POP EBX
005d0bad : ADD ESP,0x8
005d0bb0 : RET 0xc
005d0bb3 : PUSH 0xb92fa8
005d0bb8 : MOV ECX,EBX
005d0bba : CALL 0x004ffc90
005d0bbf : TEST AL,AL
005d0bc1 : JZ 0x005d0be4
005d0bc3 : MOV DL,byte ptr [EDI + 0x20]
005d0bc6 : MOV ECX,dword ptr [ESP + 0x20]
005d0bca : SHR DL,0x5
005d0bcd : AND DL,0x1
005d0bd0 : MOVZX EAX,DL
005d0bd3 : PUSH EAX
005d0bd4 : CALL 0x004ffd80
005d0bd9 : POP EDI
005d0bda : POP ESI
005d0bdb : MOV AL,0x1
005d0bdd : POP EBX
005d0bde : ADD ESP,0x8
005d0be1 : RET 0xc
005d0be4 : PUSH 0xb92fa0
005d0be9 : MOV ECX,EBX
005d0beb : CALL 0x004ffc90
005d0bf0 : TEST AL,AL
005d0bf2 : JZ 0x005d0c21
005d0bf4 : MOV ECX,dword ptr [ESP + 0x18]
005d0bf8 : CALL 0x00529690
005d0bfd : TEST EAX,EAX
005d0bff : JZ 0x005d0aa2
005d0c05 : ADD EAX,0xc
005d0c08 : PUSH 0xb9315c
005d0c0d : PUSH EAX
005d0c0e : CALL 0x0050a9f0
005d0c13 : ADD ESP,0x8
005d0c16 : POP EDI
005d0c17 : POP ESI
005d0c18 : MOV AL,0x1
005d0c1a : POP EBX
005d0c1b : ADD ESP,0x8
005d0c1e : RET 0xc
005d0c21 : PUSH 0xb92f54
005d0c26 : MOV ECX,EBX
005d0c28 : CALL 0x004ffc90
005d0c2d : TEST AL,AL
005d0c2f : JZ 0x005d0c65
005d0c31 : MOVZX ECX,byte ptr [EDI + 0x23]
005d0c35 : MOV dword ptr [ESP + 0x18],ECX
005d0c39 : MOV ECX,dword ptr [ESP + 0x20]
005d0c3d : SUB ESP,0x8
005d0c40 : FILD dword ptr [ESP + 0x20]
005d0c44 : FMUL double ptr [0x00b86b28]
005d0c4a : FSTP float ptr [ESP + 0x20]
005d0c4e : FLD float ptr [ESP + 0x20]
005d0c52 : FSTP double ptr [ESP]
005d0c55 : CALL 0x004ffd60
005d0c5a : POP EDI
005d0c5b : POP ESI
005d0c5c : MOV AL,0x1
005d0c5e : POP EBX
005d0c5f : ADD ESP,0x8
005d0c62 : RET 0xc
005d0c65 : MOV EDX,dword ptr [ESP + 0x20]
005d0c69 : MOV EAX,dword ptr [ESP + 0x18]
005d0c6d : PUSH EDX
005d0c6e : PUSH EBX
005d0c6f : PUSH EAX
005d0c70 : MOV ECX,EDI
005d0c72 : CALL 0x00586920
005d0c77 : POP EDI
005d0c78 : POP ESI
005d0c79 : POP EBX
005d0c7a : ADD ESP,0x8
005d0c7d : RET 0xc
