PROGRAM  : Maestia.exe
FUNCTION : FUN_00ac29b0
ENTRY    : 00ac29b0
BODY     : [[00ac29b0, 00ac2b20] [00ac2b32, 00ac2b36]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00ac29b0(int param_1)

{
  char cVar1;
  uint uVar2;
  int iVar3;
  int in_ECX;
  undefined4 uVar4;
  int local_128 [8];
  undefined1 local_108 [76];
  undefined1 local_bc [28];
  undefined4 local_a0;
  int local_9c;
  undefined1 local_4c [56];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b443e1;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar2;
  if (*(int *)(param_1 + 0x14) != 0) {
    iVar3 = FUN_00405bb0(&DAT_00c44e84);
    if ((iVar3 != 0) && (in_ECX != 0)) {
      FUN_0070d390(uVar2);
      local_8 = 0;
      FUN_00406460(L"Script.mvd");
      iVar3 = DAT_017251a0;
      local_8._0_1_ = 1;
      FUN_0043acd0(DAT_017251a0 + 4,local_128);
      if (local_128[0] == *(int *)(iVar3 + 8)) {
        uVar4 = 0;
      }
      else {
        uVar4 = *(undefined4 *)(local_128[0] + 0x28);
      }
      local_8._0_1_ = 0;
      FUN_00406560();
      FUN_00403380(local_4c,param_1);
      local_8._0_1_ = 2;
      cVar1 = FUN_00802fa0(uVar4,local_bc);
      if (cVar1 != '\0') {
        if (local_9c != 0) {
          FUN_0089e830(local_108);
          local_8 = CONCAT31(local_8._1_3_,3);
          FUN_0089f0f0(local_a0,local_9c);
          cVar1 = FUN_0089f0d0();
          if (cVar1 == '\0') {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        FUN_0070d4c0();
      }
      local_8 = (uint)local_8._1_3_ << 8;
      FUN_00406560();
      local_8 = 0xffffffff;
      FUN_0070d710();
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00ac29b0 : PUSH EBP
00ac29b1 : MOV EBP,ESP
00ac29b3 : PUSH -0x1
00ac29b5 : PUSH 0xb443e1
00ac29ba : MOV EAX,FS:[0x0]
00ac29c0 : PUSH EAX
00ac29c1 : SUB ESP,0x13c
00ac29c7 : MOV EAX,[0x00d66fa0]
00ac29cc : XOR EAX,EBP
00ac29ce : MOV dword ptr [EBP + -0x10],EAX
00ac29d1 : PUSH EBX
00ac29d2 : PUSH ESI
00ac29d3 : PUSH EDI
00ac29d4 : PUSH EAX
00ac29d5 : LEA EAX,[EBP + -0xc]
00ac29d8 : MOV FS:[0x0],EAX
00ac29de : MOV EBX,dword ptr [EBP + 0x8]
00ac29e1 : MOV EAX,dword ptr [EBX + 0x14]
00ac29e4 : MOV ESI,ECX
00ac29e6 : MOV dword ptr [EBP + 0xfffffee0],ESI
00ac29ec : TEST EAX,EAX
00ac29ee : JZ 0x00ac2ac6
00ac29f4 : PUSH 0xc44e84
00ac29f9 : XOR EDI,EDI
00ac29fb : MOV ECX,EBX
00ac29fd : CALL 0x00405bb0
00ac2a02 : TEST EAX,EAX
00ac2a04 : JZ 0x00ac2ac6
00ac2a0a : TEST ESI,ESI
00ac2a0c : JZ 0x00ac2ac6
00ac2a12 : LEA ECX,[EBP + 0xffffff48]
00ac2a18 : CALL 0x0070d390
00ac2a1d : MOV dword ptr [EBP + -0x4],EDI
00ac2a20 : PUSH 0xc44e88
00ac2a25 : LEA ECX,[EBP + -0x64]
00ac2a28 : CALL 0x00406460
00ac2a2d : MOV byte ptr [EBP + -0x4],0x1
00ac2a31 : MOV EDI,dword ptr [0x017251a0]
00ac2a37 : LEA EAX,[EBP + 0xfffffedc]
00ac2a3d : PUSH EAX
00ac2a3e : LEA ECX,[EDI + 0x4]
00ac2a41 : PUSH ECX
00ac2a42 : LEA ESI,[EBP + -0x64]
00ac2a45 : CALL 0x0043acd0
00ac2a4a : MOV EDI,dword ptr [EDI + 0x8]
00ac2a4d : MOV EAX,dword ptr [EBP + 0xfffffedc]
00ac2a53 : CMP EAX,EDI
00ac2a55 : JNZ 0x00ac2a5b
00ac2a57 : XOR ESI,ESI
00ac2a59 : JMP 0x00ac2a5e
00ac2a5b : MOV ESI,dword ptr [EAX + 0x28]
00ac2a5e : MOV byte ptr [EBP + -0x4],0x0
00ac2a62 : LEA ECX,[EBP + -0x64]
00ac2a65 : CALL 0x00406560
00ac2a6a : LEA EDX,[EBP + -0x48]
00ac2a6d : PUSH EBX
00ac2a6e : PUSH EDX
00ac2a6f : MOV EDX,0xc44ea0
00ac2a74 : CALL 0x00403380
00ac2a79 : MOV byte ptr [EBP + -0x4],0x2
00ac2a7d : LEA EAX,[EBP + 0xffffff48]
00ac2a83 : PUSH EAX
00ac2a84 : PUSH ESI
00ac2a85 : LEA EDX,[EBP + -0x48]
00ac2a88 : CALL 0x00802fa0
00ac2a8d : ADD ESP,0x10
00ac2a90 : TEST AL,AL
00ac2a92 : JZ 0x00ac2aa8
00ac2a94 : CMP dword ptr [EBP + 0xffffff68],0x0
00ac2a9b : JNZ 0x00ac2ae6
00ac2a9d : LEA ECX,[EBP + 0xffffff48]
00ac2aa3 : CALL 0x0070d4c0
00ac2aa8 : MOV byte ptr [EBP + -0x4],0x0
00ac2aac : LEA ECX,[EBP + -0x48]
00ac2aaf : CALL 0x00406560
00ac2ab4 : MOV dword ptr [EBP + -0x4],0xffffffff
00ac2abb : LEA ECX,[EBP + 0xffffff48]
00ac2ac1 : CALL 0x0070d710
00ac2ac6 : XOR AL,AL
00ac2ac8 : MOV ECX,dword ptr [EBP + -0xc]
00ac2acb : MOV dword ptr FS:[0x0],ECX
00ac2ad2 : POP ECX
00ac2ad3 : POP EDI
00ac2ad4 : POP ESI
00ac2ad5 : POP EBX
00ac2ad6 : MOV ECX,dword ptr [EBP + -0x10]
00ac2ad9 : XOR ECX,EBP
00ac2adb : CALL 0x00633e6b
00ac2ae0 : MOV ESP,EBP
00ac2ae2 : POP EBP
00ac2ae3 : RET 0x4
00ac2ae6 : LEA ECX,[EBP + 0xfffffefc]
00ac2aec : PUSH ECX
00ac2aed : CALL 0x0089e830
00ac2af2 : MOV byte ptr [EBP + -0x4],0x3
00ac2af6 : MOV EDX,dword ptr [EBP + 0xffffff68]
00ac2afc : MOV EAX,dword ptr [EBP + 0xffffff64]
00ac2b02 : PUSH EDX
00ac2b03 : PUSH EAX
00ac2b04 : CALL 0x0089f0f0
00ac2b09 : LEA ESI,[EBP + 0xfffffefc]
00ac2b0f : MOV EDI,EAX
00ac2b11 : CALL 0x0089f0d0
00ac2b16 : MOV ECX,EDI
00ac2b18 : TEST AL,AL
00ac2b1a : JNZ 0x00ac2b32
00ac2b1c : CALL 0x006f04e0
00ac2b32 : CALL 0x006f04e0
