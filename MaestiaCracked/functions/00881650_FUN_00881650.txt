PROGRAM  : Maestia.exe
FUNCTION : FUN_00881650
ENTRY    : 00881650
BODY     : [[00881650, 008816d3] [008816da, 00881722] [00881729, 00881783] [0088178c, 008817ce]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00881701) */
/* WARNING: Removing unreachable block (ram,0x00881750) */

void FUN_00881650(int param_1)

{
  int iVar1;
  uint uVar2;
  int *piVar3;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b5f6d3;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(param_1 + 0x38);
  local_18 = 0;
  local_20 = ".\\Objects\\AvaCharStatus.cpp";
  local_1c = 0xb4;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  local_8 = 0;
  piVar3 = *(int **)(param_1 + 4);
  if (piVar3 != *(int **)(param_1 + 8)) {
    do {
      FUN_008980b0(*piVar3 + 0x1c,0);
      if (*piVar3 != 0) {
        FUN_00880880(*piVar3);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0(uVar2);
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(param_1 + 8));
  }
  if (*(int *)(param_1 + 4) != *(int *)(param_1 + 8)) {
    *(int *)(param_1 + 8) = *(int *)(param_1 + 4);
  }
  piVar3 = *(int **)(param_1 + 0x14);
  if (piVar3 != *(int **)(param_1 + 0x18)) {
    do {
      if (*piVar3 != 0) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0(uVar2);
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(param_1 + 0x18));
  }
  if (*(int *)(param_1 + 0x14) != *(int *)(param_1 + 0x18)) {
    *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x14);
  }
  iVar1 = *(int *)(*(int *)(param_1 + 0x24) + 4);
  if (*(char *)(iVar1 + 0x15) != '\0') {
    *(int *)(*(int *)(param_1 + 0x24) + 4) = *(int *)(param_1 + 0x24);
    *(undefined4 *)(param_1 + 0x28) = 0;
    *(undefined4 *)*(undefined4 *)(param_1 + 0x24) = *(undefined4 *)(param_1 + 0x24);
    *(int *)(*(int *)(param_1 + 0x24) + 8) = *(int *)(param_1 + 0x24);
    local_8 = 0xffffffff;
    if (local_18 != 0) {
      LeaveCriticalSection(local_24);
    }
    ExceptionList = local_10;
    return;
  }
  FUN_00401c00(*(undefined4 *)(iVar1 + 8));
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00881650 : PUSH EBP
00881651 : MOV EBP,ESP
00881653 : PUSH -0x1
00881655 : PUSH 0xb5f6d3
0088165a : MOV EAX,FS:[0x0]
00881660 : PUSH EAX
00881661 : SUB ESP,0x18
00881664 : PUSH EBX
00881665 : PUSH ESI
00881666 : PUSH EDI
00881667 : MOV EAX,[0x00d66fa0]
0088166c : XOR EAX,EBP
0088166e : PUSH EAX
0088166f : LEA EAX,[EBP + -0xc]
00881672 : MOV FS:[0x0],EAX
00881678 : MOV EBX,dword ptr [EBP + 0x8]
0088167b : LEA ECX,[EBP + -0x20]
0088167e : LEA EAX,[EBX + 0x38]
00881681 : XOR ESI,ESI
00881683 : PUSH ECX
00881684 : MOV dword ptr [EBP + -0x14],ESI
00881687 : MOV dword ptr [EBP + -0x20],EAX
0088168a : MOV dword ptr [EBP + -0x1c],0xc446dc
00881691 : MOV dword ptr [EBP + -0x18],0xb4
00881698 : MOV dword ptr [EBP + -0x10],0x1
0088169f : CALL 0x006ef1a0
008816a4 : MOV dword ptr [EBP + -0x4],ESI
008816a7 : MOV EDI,dword ptr [EBX + 0x4]
008816aa : MOV EAX,dword ptr [EBX + 0x8]
008816ad : CMP EDI,EAX
008816af : JZ 0x008816e2
008816b1 : MOV EDX,dword ptr [EDI]
008816b3 : MOV ESI,dword ptr [EBX + 0x2c]
008816b6 : PUSH 0x0
008816b8 : ADD EDX,0x1c
008816bb : PUSH EDX
008816bc : CALL 0x008980b0
008816c1 : MOV ESI,dword ptr [EDI]
008816c3 : TEST ESI,ESI
008816c5 : JZ 0x008816da
008816c7 : PUSH ESI
008816c8 : CALL 0x00880880
008816cd : MOV ECX,ESI
008816cf : CALL 0x006f04e0
008816da : ADD EDI,0x4
008816dd : CMP EDI,dword ptr [EBX + 0x8]
008816e0 : JNZ 0x008816b1
008816e2 : MOV ECX,dword ptr [EBX + 0x8]
008816e5 : MOV ESI,dword ptr [EBX + 0x4]
008816e8 : CMP ESI,ECX
008816ea : JZ 0x00881710
008816ec : MOV EAX,ECX
008816ee : SUB EAX,ECX
008816f0 : SAR EAX,0x2
008816f3 : LEA EDX,[EAX*0x4 + 0x0]
008816fa : LEA EDI,[EDX + ESI*0x1]
008816fd : TEST EAX,EAX
008816ff : JLE 0x0088170d
00881701 : PUSH EDX
00881702 : PUSH ECX
00881703 : PUSH EDX
00881704 : PUSH ESI
00881705 : CALL 0x00634101
0088170a : ADD ESP,0x10
0088170d : MOV dword ptr [EBX + 0x8],EDI
00881710 : MOV ESI,dword ptr [EBX + 0x14]
00881713 : CMP ESI,dword ptr [EBX + 0x18]
00881716 : JZ 0x00881731
00881718 : MOV ECX,dword ptr [ESI]
0088171a : TEST ECX,ECX
0088171c : JZ 0x00881729
0088171e : CALL 0x006f04e0
00881729 : ADD ESI,0x4
0088172c : CMP ESI,dword ptr [EBX + 0x18]
0088172f : JNZ 0x00881718
00881731 : MOV ECX,dword ptr [EBX + 0x18]
00881734 : MOV ESI,dword ptr [EBX + 0x14]
00881737 : CMP ESI,ECX
00881739 : JZ 0x0088175f
0088173b : MOV EAX,ECX
0088173d : SUB EAX,ECX
0088173f : SAR EAX,0x2
00881742 : LEA EDX,[EAX*0x4 + 0x0]
00881749 : LEA EDI,[EDX + ESI*0x1]
0088174c : TEST EAX,EAX
0088174e : JLE 0x0088175c
00881750 : PUSH EDX
00881751 : PUSH ECX
00881752 : PUSH EDX
00881753 : PUSH ESI
00881754 : CALL 0x00634101
00881759 : ADD ESP,0x10
0088175c : MOV dword ptr [EBX + 0x18],EDI
0088175f : MOV EAX,dword ptr [EBX + 0x24]
00881762 : MOV EDI,dword ptr [EAX + 0x4]
00881765 : ADD EBX,0x20
00881768 : CMP byte ptr [EDI + 0x15],0x0
0088176c : MOV ESI,EDI
0088176e : JNZ 0x0088178c
00881770 : MOV ECX,dword ptr [ESI + 0x8]
00881773 : PUSH ECX
00881774 : MOV ECX,EBX
00881776 : CALL 0x00401c00
0088177b : MOV ESI,dword ptr [ESI]
0088177d : MOV ECX,EDI
0088177f : CALL 0x006f04e0
0088178c : MOV EAX,dword ptr [EBX + 0x4]
0088178f : MOV dword ptr [EAX + 0x4],EAX
00881792 : MOV EAX,dword ptr [EBX + 0x4]
00881795 : XOR ESI,ESI
00881797 : MOV dword ptr [EBX + 0x8],ESI
0088179a : MOV dword ptr [EAX],EAX
0088179c : MOV EBX,dword ptr [EBX + 0x4]
0088179f : MOV dword ptr [EBX + 0x8],EBX
008817a2 : MOV dword ptr [EBP + -0x4],0xffffffff
008817a9 : CMP dword ptr [EBP + -0x14],ESI
008817ac : JZ 0x008817bb
008817ae : MOV EDX,dword ptr [EBP + -0x20]
008817b1 : PUSH EDX
008817b2 : CALL dword ptr [0x00b8511c]
008817b8 : MOV dword ptr [EBP + -0x14],ESI
008817bb : MOV ECX,dword ptr [EBP + -0xc]
008817be : MOV dword ptr FS:[0x0],ECX
008817c5 : POP ECX
008817c6 : POP EDI
008817c7 : POP ESI
008817c8 : POP EBX
008817c9 : MOV ESP,EBP
008817cb : POP EBP
008817cc : RET 0x4
