PROGRAM  : Maestia.exe
FUNCTION : FUN_0056c290
ENTRY    : 0056c290
BODY     : [[0056c290, 0056c308]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0056c290(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0x10);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 2;
  iVar1 = FUN_00515840(uVar2 * 0x10,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0056c290 : MOV EAX,dword ptr [ESP + 0x8]
0056c294 : PUSH EDI
0056c295 : MOV EDI,ECX
0056c297 : TEST EAX,EAX
0056c299 : JNZ 0x0056c2b8
0056c29b : MOV EAX,dword ptr [EDI]
0056c29d : TEST EAX,EAX
0056c29f : JZ 0x0056c2ad
0056c2a1 : PUSH EAX
0056c2a2 : CALL 0x00515cf0
0056c2a7 : MOV dword ptr [EDI],0x0
0056c2ad : MOV dword ptr [EDI + 0x8],0x0
0056c2b4 : POP EDI
0056c2b5 : RET 0x8
0056c2b8 : PUSH ESI
0056c2b9 : LEA ESI,[EAX + 0x3]
0056c2bc : MOV EAX,dword ptr [EDI]
0056c2be : SHR ESI,0x2
0056c2c1 : ADD ESI,ESI
0056c2c3 : ADD ESI,ESI
0056c2c5 : TEST EAX,EAX
0056c2c7 : JZ 0x0056c2e1
0056c2c9 : LEA ECX,[ESI*0x4 + 0x0]
0056c2d0 : PUSH ECX
0056c2d1 : PUSH EAX
0056c2d2 : CALL 0x00515c80
0056c2d7 : MOV dword ptr [EDI + 0x8],ESI
0056c2da : POP ESI
0056c2db : MOV dword ptr [EDI],EAX
0056c2dd : POP EDI
0056c2de : RET 0x8
0056c2e1 : MOV ECX,dword ptr [ESP + 0xc]
0056c2e5 : LEA EDX,[ESP + 0x10]
0056c2e9 : PUSH EDX
0056c2ea : LEA EAX,[ESI*0x4 + 0x0]
0056c2f1 : PUSH EAX
0056c2f2 : MOV dword ptr [ESP + 0x18],0x2
0056c2fa : CALL 0x00515840
0056c2ff : MOV dword ptr [EDI + 0x8],ESI
0056c302 : POP ESI
0056c303 : MOV dword ptr [EDI],EAX
0056c305 : POP EDI
0056c306 : RET 0x8
