PROGRAM  : Maestia.exe
FUNCTION : FUN_006b5ef0
ENTRY    : 006b5ef0
BODY     : [[006b5ef0, 006b5fea]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006b5ef0(ushort *param_1)

{
  ushort uVar1;
  ushort uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int unaff_ESI;
  
  uVar1 = *param_1;
  if ((uVar1 < *(ushort *)(unaff_ESI + 0x50)) &&
     (uVar2 = *(ushort *)(unaff_ESI + 0x11c), uVar2 < *(ushort *)(unaff_ESI + 0x2c))) {
    if (*(short *)(unaff_ESI + 0x15a) == 0) {
      iVar3 = *(int *)(unaff_ESI + 0x54);
      iVar4 = *(int *)(unaff_ESI + 0x30);
      iVar5 = (uint)uVar1 * 8;
      *(undefined4 *)(iVar3 + iVar5) = *(undefined4 *)(iVar4 + (uint)uVar2 * 8);
      *(undefined4 *)(iVar3 + 4 + iVar5) = *(undefined4 *)(iVar4 + 4 + (uint)uVar2 * 8);
      (**(code **)(unaff_ESI + 0x24c))();
      iVar3 = *(int *)(unaff_ESI + 0x54);
      iVar4 = *(int *)(unaff_ESI + 0x58);
      *(undefined4 *)(iVar4 + iVar5) = *(undefined4 *)(iVar3 + iVar5);
      *(undefined4 *)(iVar4 + 4 + iVar5) = *(undefined4 *)(iVar3 + 4 + iVar5);
    }
    (**(code **)(unaff_ESI + 0x23c))();
    (**(code **)(unaff_ESI + 0x248))();
    *(undefined2 *)(unaff_ESI + 0x11e) = *(undefined2 *)(unaff_ESI + 0x11c);
    *(ushort *)(unaff_ESI + 0x120) = uVar1;
    if ((*(byte *)(unaff_ESI + 0x170) & 1) != 0) {
      *(ushort *)(unaff_ESI + 0x11c) = uVar1;
      return;
    }
  }
  else if (*(char *)(unaff_ESI + 0x231) != '\0') {
    *(undefined4 *)(unaff_ESI + 0xc) = 0x86;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006b5ef0 : PUSH EBX
006b5ef1 : PUSH EBP
006b5ef2 : MOV EBP,dword ptr [ESP + 0xc]
006b5ef6 : MOVZX EBX,word ptr [EBP]
006b5efa : CMP BX,word ptr [ESI + 0x50]
006b5efe : JNC 0x006b5fd8
006b5f04 : MOVZX EAX,word ptr [ESI + 0x11c]
006b5f0b : CMP AX,word ptr [ESI + 0x2c]
006b5f0f : JNC 0x006b5fd8
006b5f15 : CMP word ptr [ESI + 0x15a],0x0
006b5f1d : JNZ 0x006b5f6e
006b5f1f : MOV EDX,dword ptr [ESI + 0x54]
006b5f22 : PUSH EDI
006b5f23 : MOVZX ECX,AX
006b5f26 : MOV EAX,dword ptr [ESI + 0x30]
006b5f29 : MOV EBP,dword ptr [EAX + ECX*0x8]
006b5f2c : MOVZX EDI,BX
006b5f2f : ADD EDI,EDI
006b5f31 : ADD EDI,EDI
006b5f33 : ADD EDI,EDI
006b5f35 : MOV dword ptr [EDX + EDI*0x1],EBP
006b5f38 : MOV EAX,dword ptr [EAX + ECX*0x8 + 0x4]
006b5f3c : MOV EBP,dword ptr [ESP + 0x10]
006b5f40 : MOV dword ptr [EDX + EDI*0x1 + 0x4],EAX
006b5f44 : MOV ECX,dword ptr [EBP + 0x4]
006b5f47 : MOV EAX,dword ptr [ESI + 0x24c]
006b5f4d : PUSH ECX
006b5f4e : PUSH EBX
006b5f4f : LEA EDX,[ESI + 0x48]
006b5f52 : PUSH EDX
006b5f53 : PUSH ESI
006b5f54 : CALL EAX
006b5f56 : MOV EAX,dword ptr [ESI + 0x54]
006b5f59 : MOV EDX,dword ptr [EAX + EDI*0x1]
006b5f5c : MOV ECX,dword ptr [ESI + 0x58]
006b5f5f : MOV dword ptr [ECX + EDI*0x1],EDX
006b5f62 : MOV EAX,dword ptr [EAX + EDI*0x1 + 0x4]
006b5f66 : ADD ESP,0x10
006b5f69 : MOV dword ptr [ECX + EDI*0x1 + 0x4],EAX
006b5f6d : POP EDI
006b5f6e : MOVZX ECX,word ptr [ESI + 0x11c]
006b5f75 : MOV EDX,dword ptr [ESI + 0x34]
006b5f78 : LEA EAX,[EDX + ECX*0x8]
006b5f7b : MOV EDX,dword ptr [ESI + 0x58]
006b5f7e : MOVZX ECX,BX
006b5f81 : LEA ECX,[EDX + ECX*0x8]
006b5f84 : MOV EDX,dword ptr [ECX + 0x4]
006b5f87 : SUB EDX,dword ptr [EAX + 0x4]
006b5f8a : MOV ECX,dword ptr [ECX]
006b5f8c : SUB ECX,dword ptr [EAX]
006b5f8e : PUSH EDX
006b5f8f : MOV EDX,dword ptr [ESI + 0x23c]
006b5f95 : PUSH ECX
006b5f96 : PUSH ESI
006b5f97 : CALL EDX
006b5f99 : MOV ECX,dword ptr [EBP + 0x4]
006b5f9c : SUB ECX,EAX
006b5f9e : MOV EAX,dword ptr [ESI + 0x248]
006b5fa4 : PUSH ECX
006b5fa5 : PUSH EBX
006b5fa6 : LEA EDX,[ESI + 0x48]
006b5fa9 : PUSH EDX
006b5faa : PUSH ESI
006b5fab : CALL EAX
006b5fad : MOV CX,word ptr [ESI + 0x11c]
006b5fb4 : ADD ESP,0x1c
006b5fb7 : TEST byte ptr [ESI + 0x170],0x1
006b5fbe : MOV word ptr [ESI + 0x11e],CX
006b5fc5 : MOV word ptr [ESI + 0x120],BX
006b5fcc : JZ 0x006b5fe8
006b5fce : POP EBP
006b5fcf : MOV word ptr [ESI + 0x11c],BX
006b5fd6 : POP EBX
006b5fd7 : RET
006b5fd8 : CMP byte ptr [ESI + 0x231],0x0
006b5fdf : JZ 0x006b5fe8
006b5fe1 : MOV dword ptr [ESI + 0xc],0x86
006b5fe8 : POP EBP
006b5fe9 : POP EBX
006b5fea : RET
