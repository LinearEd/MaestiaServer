PROGRAM  : Maestia.exe
FUNCTION : FUN_007b8500
ENTRY    : 007b8500
BODY     : [[007b8500, 007b8a2f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007b8500(int *param_1)

{
  byte bVar1;
  char cVar2;
  int iVar3;
  float fVar4;
  float *pfVar5;
  int in_ECX;
  uint extraout_EDX;
  uint extraout_EDX_00;
  uint uVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float local_388;
  float local_384;
  float fStack_380;
  float local_37c;
  float fStack_378;
  float fStack_374;
  float fStack_370;
  byte local_36a;
  byte local_369;
  undefined **local_368;
  size_t local_364;
  undefined1 local_360 [256];
  undefined **local_260;
  size_t local_25c;
  undefined1 local_258 [256];
  undefined8 local_158;
  float local_150;
  float local_14c;
  size_t local_130;
  undefined1 local_12c [12];
  undefined **local_120;
  undefined1 local_2b;
  uint local_18;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  puStack_c = &LAB_00b62992;
  local_10 = ExceptionList;
  local_18 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_36a = 0;
  local_260 = &PTR_FUN_00cd3f48;
  local_25c = 0;
  local_258[0] = 0;
  local_8 = 0;
  if (param_1[0x2af1] != 0) {
    FUN_0070cf00(in_ECX + 0x200,local_18);
    FUN_00451af0();
    local_8._0_1_ = 1;
    iVar3 = FUN_0046f7f0(param_1 + 0x2af0);
    local_8._0_1_ = 2;
    local_25c = *(size_t *)(iVar3 + 4);
    if (*(int *)(iVar3 + 4) != 0) {
      _memmove(local_258,(void *)(iVar3 + 8),local_25c);
    }
    local_258[local_25c] = 0;
    local_120 = &PTR_FUN_00cd3f48;
    local_8 = (uint)local_8._1_3_ << 8;
    local_368 = &PTR_FUN_00cd3f48;
  }
  FUN_00468060(param_1 + 0x2b75,&fStack_374,&local_260);
  if (fStack_374 == 0.0) {
    fVar4 = (float)(**(code **)(*param_1 + 8))();
    fStack_370 = fVar4;
    local_369 = FUN_00808260(fVar4,local_258);
    local_369 = local_369 & 1;
    if (local_369 == 0) {
      FUN_00468930();
      uVar6 = extraout_EDX;
      goto LAB_007b8a08;
    }
    bVar1 = FUN_00465b90(param_1,fVar4);
    local_369 = local_369 & bVar1;
    local_388 = (float)*(undefined8 *)((int)fVar4 + 0x1bc);
    local_384 = (float)((ulonglong)*(undefined8 *)((int)fVar4 + 0x1bc) >> 0x20);
    fStack_380 = (float)*(undefined8 *)((int)fVar4 + 0x1c4);
    local_37c = (float)((ulonglong)*(undefined8 *)((int)fVar4 + 0x1c4) >> 0x20);
    fStack_374 = local_384 - local_388;
    fStack_370 = local_37c - fStack_380;
    if ((char)param_1[0x2b7e] != '\0') {
      fStack_374 = 0.0;
    }
    FUN_00457240();
    bVar1 = FUN_006eb000(param_1,fVar4);
    if ((local_369 & bVar1) == 0) {
      uVar6 = (uint)local_36a;
      goto LAB_007b8a08;
    }
    pfVar5 = (float *)FUN_00467f10(param_1 + 0x2b75,&local_260);
    *pfVar5 = fVar4;
  }
  else {
    fVar4 = fRam00000108;
    if (fStack_370 != 0.0) {
      fVar4 = *(float *)(*(int *)((int)fStack_370 + 4) + 0x108 + (int)fStack_374);
    }
  }
  FUN_00a67130();
  local_8._0_1_ = 3;
  fStack_370 = *(float *)(in_ECX + 0xa10);
  fStack_374 = *(float *)(in_ECX + 0xa0c);
  local_158 = *(undefined8 *)(in_ECX + 0xa08);
  local_150 = fStack_370;
  FUN_004557c0(*(undefined4 *)(in_ECX + 0xa14));
  local_14c = *(float *)(in_ECX + 0xa18);
  local_2b = 0;
  FUN_0070cf00(in_ECX);
  FUN_00451af0();
  local_8 = CONCAT31(local_8._1_3_,4);
  if (local_364 != 0) {
    local_130 = local_364;
    _memmove(local_12c,local_360,local_364);
    local_12c[local_130] = 0;
  }
  local_384 = (float)*(undefined8 *)((int)fVar4 + 0xd58);
  fStack_380 = (float)((ulonglong)*(undefined8 *)((int)fVar4 + 0xd58) >> 0x20);
  local_37c = (float)*(undefined8 *)((int)fVar4 + 0xd60);
  fStack_378 = (float)((ulonglong)*(undefined8 *)((int)fVar4 + 0xd60) >> 0x20);
  fStack_374 = (float)*(undefined8 *)((int)fVar4 + 0xd68);
  fStack_370 = (float)((ulonglong)*(undefined8 *)((int)fVar4 + 0xd68) >> 0x20);
  fVar9 = fStack_374 * local_14c + local_158._4_4_;
  fVar10 = fStack_370 * local_14c + local_150;
  fVar7 = (float)local_158 + local_14c * local_384;
  fVar11 = local_158._4_4_ + fStack_380 * local_14c;
  fVar12 = local_150 + local_37c * local_14c;
  fVar8 = fStack_378 * local_14c + (float)local_158;
  if ((float)param_1[0x2a6f] <= fVar7) {
    fVar7 = (float)param_1[0x2a6f];
  }
  param_1[0x2a6f] = (int)fVar7;
  fVar7 = (float)param_1[0x2a70];
  if (fVar11 < (float)param_1[0x2a70]) {
    fVar7 = fVar11;
  }
  param_1[0x2a70] = (int)fVar7;
  fVar7 = (float)param_1[0x2a71];
  if (fVar12 < (float)param_1[0x2a71]) {
    fVar7 = fVar12;
  }
  param_1[0x2a71] = (int)fVar7;
  fVar7 = (float)param_1[0x2a72];
  if ((float)param_1[0x2a72] < fVar8) {
    fVar7 = fVar8;
  }
  param_1[0x2a72] = (int)fVar7;
  fVar7 = (float)param_1[0x2a73];
  if ((float)param_1[0x2a73] < fVar9) {
    fVar7 = fVar9;
  }
  param_1[0x2a73] = (int)fVar7;
  fVar7 = (float)param_1[0x2a74];
  if ((float)param_1[0x2a74] < fVar10) {
    fVar7 = fVar10;
  }
  param_1[0x2a74] = (int)fVar7;
  cVar2 = FUN_006ebab0(param_1,&local_158,1);
  if (cVar2 != '\0') {
    *(float *)(in_ECX + 0xa48) = fVar4;
  }
  local_368 = &PTR_FUN_00cd3f48;
  local_8 = local_8 & 0xffffff00;
  FUN_00a670e0();
  uVar6 = extraout_EDX_00;
LAB_007b8a08:
  local_8 = 0xffffffff;
  local_260 = &PTR_FUN_00cd3f48;
  ExceptionList = local_10;
  __security_check_cookie(local_18 ^ (uint)&stack0xfffffffc,uVar6);
  return;
}



============================================================
DISASSEMBLY
============================================================
007b8500 : PUSH EBP
007b8501 : MOV EBP,ESP
007b8503 : PUSH -0x1
007b8505 : PUSH 0xb62992
007b850a : MOV EAX,FS:[0x0]
007b8510 : PUSH EAX
007b8511 : SUB ESP,0x380
007b8517 : MOV EAX,[0x00d66fa0]
007b851c : XOR EAX,EBP
007b851e : MOV dword ptr [EBP + -0x14],EAX
007b8521 : PUSH EBX
007b8522 : PUSH ESI
007b8523 : PUSH EDI
007b8524 : PUSH EAX
007b8525 : LEA EAX,[EBP + -0xc]
007b8528 : MOV FS:[0x0],EAX
007b852e : MOV EBX,dword ptr [EBP + 0x8]
007b8531 : MOV ESI,ECX
007b8533 : XOR ECX,ECX
007b8535 : MOV dword ptr [EBP + 0xfffffc78],ESI
007b853b : MOV byte ptr [EBP + 0xfffffc9a],0x0
007b8542 : MOV dword ptr [EBP + 0xfffffda4],0xcd3f48
007b854c : MOV dword ptr [EBP + 0xfffffda8],ECX
007b8552 : MOV byte ptr [EBP + 0xfffffdac],CL
007b8558 : MOV dword ptr [EBP + -0x4],ECX
007b855b : MOV EAX,dword ptr [EBX + 0xabc4]
007b8561 : CMP EAX,ECX
007b8563 : JZ 0x007b85f1
007b8569 : ADD ESI,0x200
007b856f : PUSH ESI
007b8570 : CALL 0x0070cf00
007b8575 : ADD ESP,0x4
007b8578 : MOV EDX,EAX
007b857a : LEA ESI,[EBP + 0xfffffc9c]
007b8580 : CALL 0x00451af0
007b8585 : MOV byte ptr [EBP + -0x4],0x1
007b8589 : LEA EAX,[EBX + 0xabc0]
007b858f : MOV EDI,ESI
007b8591 : PUSH EAX
007b8592 : LEA ESI,[EBP + 0xfffffee4]
007b8598 : CALL 0x0046f7f0
007b859d : MOV byte ptr [EBP + -0x4],0x2
007b85a1 : MOV ECX,dword ptr [EAX + 0x4]
007b85a4 : MOV dword ptr [EBP + 0xfffffda8],ECX
007b85aa : CMP dword ptr [EAX + 0x4],0x0
007b85ae : JBE 0x007b85ca
007b85b0 : PUSH ECX
007b85b1 : ADD EAX,0x8
007b85b4 : PUSH EAX
007b85b5 : LEA ECX,[EBP + 0xfffffdac]
007b85bb : PUSH ECX
007b85bc : CALL 0x00636880
007b85c1 : MOV ECX,dword ptr [EBP + 0xfffffda8]
007b85c7 : ADD ESP,0xc
007b85ca : MOV byte ptr [EBP + ECX*0x1 + 0xfffffdac],0x0
007b85d2 : MOV byte ptr [EBP + -0x4],0x1
007b85d6 : MOV EAX,0xcd3f48
007b85db : MOV dword ptr [EBP + 0xfffffee4],EAX
007b85e1 : MOV byte ptr [EBP + -0x4],0x0
007b85e5 : MOV ESI,dword ptr [EBP + 0xfffffc78]
007b85eb : MOV dword ptr [EBP + 0xfffffc9c],EAX
007b85f1 : LEA EDX,[EBP + 0xfffffda4]
007b85f7 : PUSH EDX
007b85f8 : LEA ECX,[EBP + 0xfffffc90]
007b85fe : LEA EAX,[EBX + 0xadd4]
007b8604 : PUSH ECX
007b8605 : PUSH EAX
007b8606 : CALL 0x00468060
007b860b : MOV ECX,dword ptr [EBP + 0xfffffc90]
007b8611 : TEST ECX,ECX
007b8613 : JZ 0x007b863d
007b8615 : MOV EAX,dword ptr [EBP + 0xfffffc94]
007b861b : TEST EAX,EAX
007b861d : JZ 0x007b8630
007b861f : MOV EAX,dword ptr [EAX + 0x4]
007b8622 : MOV EDI,dword ptr [EAX + ECX*0x1 + 0x108]
007b8629 : ADD EAX,ECX
007b862b : JMP 0x007b8792
007b8630 : XOR EAX,EAX
007b8632 : MOV EDI,dword ptr [EAX + 0x108]
007b8638 : JMP 0x007b8792
007b863d : MOV EDX,dword ptr [EBX]
007b863f : MOV EAX,dword ptr [EDX + 0x8]
007b8642 : MOV ECX,EBX
007b8644 : CALL EAX
007b8646 : LEA ECX,[EBP + 0xfffffdac]
007b864c : MOV EDI,EAX
007b864e : PUSH ECX
007b864f : PUSH EDI
007b8650 : MOV dword ptr [EBP + 0xfffffc94],EDI
007b8656 : CALL 0x00808260
007b865b : AND AL,0x1
007b865d : MOV byte ptr [EBP + 0xfffffc9b],AL
007b8663 : JNZ 0x007b867e
007b8665 : LEA ESI,[EBP + 0xfffffc94]
007b866b : CALL 0x00468930
007b8670 : MOV dword ptr [EBP + -0x4],0xffffffff
007b8677 : XOR AL,AL
007b8679 : JMP 0x007b8a08
007b867e : PUSH EDI
007b867f : PUSH EBX
007b8680 : CALL 0x00465b90
007b8685 : MOVQ XMM0,qword ptr [EDI + 0x1bc]
007b868d : MOV EDX,dword ptr [EDI + 0x1d4]
007b8693 : AND byte ptr [EBP + 0xfffffc9b],AL
007b8699 : CMP byte ptr [EBX + 0xadf8],0x0
007b86a0 : MOVQ qword ptr [EBP + 0xfffffc7c],XMM0
007b86a8 : MOVQ XMM0,qword ptr [EDI + 0x1c4]
007b86b0 : MOVQ qword ptr [EBP + 0xfffffc84],XMM0
007b86b8 : MOVQ XMM0,qword ptr [EDI + 0x1cc]
007b86c0 : MOVQ qword ptr [EBP + 0xfffffc8c],XMM0
007b86c8 : MOVSS XMM0,dword ptr [EBP + 0xfffffc80]
007b86d0 : SUBSS XMM0,dword ptr [EBP + 0xfffffc7c]
007b86d8 : MOVSS dword ptr [EBP + 0xfffffc90],XMM0
007b86e0 : MOVSS XMM0,dword ptr [EBP + 0xfffffc88]
007b86e8 : SUBSS XMM0,dword ptr [EBP + 0xfffffc84]
007b86f0 : MOV dword ptr [EBP + 0xfffffc94],EDX
007b86f6 : MOVSS dword ptr [EBP + 0xfffffc94],XMM0
007b86fe : JZ 0x007b8712
007b8700 : XORPS XMM0,XMM0
007b8703 : MOV byte ptr [EBP + 0xfffffc8c],0x0
007b870a : MOVSS dword ptr [EBP + 0xfffffc90],XMM0
007b8712 : CMP byte ptr [EBX + 0xae0c],0x0
007b8719 : JNZ 0x007b875b
007b871b : MOVSS XMM0,dword ptr [EBX + 0xadfc]
007b8723 : MOVSS dword ptr [EBP + 0xfffffc7c],XMM0
007b872b : MOVSS XMM0,dword ptr [EBX + 0xae00]
007b8733 : MOVSS dword ptr [EBP + 0xfffffc80],XMM0
007b873b : MOVSS XMM0,dword ptr [EBX + 0xae04]
007b8743 : MOVSS dword ptr [EBP + 0xfffffc84],XMM0
007b874b : MOVSS XMM0,dword ptr [EBX + 0xae08]
007b8753 : MOVSS dword ptr [EBP + 0xfffffc88],XMM0
007b875b : LEA ECX,[EBP + 0xfffffc7c]
007b8761 : MOV EAX,EDI
007b8763 : CALL 0x00457240
007b8768 : PUSH EDI
007b8769 : PUSH EBX
007b876a : CALL 0x006eb000
007b876f : MOV CL,byte ptr [EBP + 0xfffffc9b]
007b8775 : AND CL,AL
007b8777 : JZ 0x007b89f9
007b877d : LEA EAX,[EBP + 0xfffffda4]
007b8783 : PUSH EAX
007b8784 : LEA EAX,[EBX + 0xadd4]
007b878a : PUSH EAX
007b878b : CALL 0x00467f10
007b8790 : MOV dword ptr [EAX],EDI
007b8792 : LEA ECX,[EBP + 0xfffffeac]
007b8798 : CALL 0x00a67130
007b879d : MOV byte ptr [EBP + -0x4],0x3
007b87a1 : FLD float ptr [ESI + 0xa14]
007b87a7 : MOVSS XMM2,dword ptr [ESI + 0xa10]
007b87af : MOVSS XMM0,dword ptr [ESI + 0xa08]
007b87b7 : MOVSS XMM1,dword ptr [ESI + 0xa0c]
007b87bf : MOVSS dword ptr [EBP + 0xfffffc94],XMM2
007b87c7 : MOV ECX,dword ptr [EBP + 0xfffffc94]
007b87cd : MOVSS dword ptr [EBP + 0xfffffc8c],XMM0
007b87d5 : MOVSS dword ptr [EBP + 0xfffffc90],XMM1
007b87dd : MOVQ XMM0,qword ptr [EBP + 0xfffffc8c]
007b87e5 : PUSH ECX
007b87e6 : LEA ESI,[EBP + 0xfffffeac]
007b87ec : FSTP float ptr [ESP]
007b87ef : MOVQ qword ptr [EBP + 0xfffffeac],XMM0
007b87f7 : MOV dword ptr [EBP + 0xfffffeb4],ECX
007b87fd : CALL 0x004557c0
007b8802 : MOV EAX,dword ptr [EBP + 0xfffffc78]
007b8808 : MOVSS XMM0,dword ptr [EAX + 0xa18]
007b8810 : PUSH EAX
007b8811 : MOVSS dword ptr [EBP + 0xfffffeb8],XMM0
007b8819 : MOV byte ptr [EBP + -0x27],0x0
007b881d : CALL 0x0070cf00
007b8822 : ADD ESP,0x4
007b8825 : MOV EDX,EAX
007b8827 : LEA ESI,[EBP + 0xfffffc9c]
007b882d : CALL 0x00451af0
007b8832 : MOV byte ptr [EBP + -0x4],0x4
007b8836 : MOV EAX,dword ptr [EBP + 0xfffffca0]
007b883c : TEST EAX,EAX
007b883e : JZ 0x007b886d
007b8840 : MOV dword ptr [EBP + 0xfffffed4],EAX
007b8846 : JBE 0x007b885f
007b8848 : PUSH EAX
007b8849 : LEA EDX,[EBP + 0xfffffca4]
007b884f : PUSH EDX
007b8850 : LEA EAX,[EBP + 0xfffffed8]
007b8856 : PUSH EAX
007b8857 : CALL 0x00636880
007b885c : ADD ESP,0xc
007b885f : MOV ECX,dword ptr [EBP + 0xfffffed4]
007b8865 : MOV byte ptr [EBP + ECX*0x1 + 0xfffffed8],0x0
007b886d : MOVQ XMM0,qword ptr [EDI + 0xd58]
007b8875 : MOVSS XMM7,dword ptr [EBP + 0xfffffeac]
007b887d : MOVQ qword ptr [EBP + 0xfffffc80],XMM0
007b8885 : MOVQ XMM0,qword ptr [EDI + 0xd60]
007b888d : MOVSS XMM5,dword ptr [EBP + 0xfffffc84]
007b8895 : MOVQ qword ptr [EBP + 0xfffffc88],XMM0
007b889d : MOVQ XMM0,qword ptr [EDI + 0xd68]
007b88a5 : MOVSS XMM6,dword ptr [EBP + 0xfffffc88]
007b88ad : MOVSS XMM1,dword ptr [EBP + 0xfffffc8c]
007b88b5 : MOVQ qword ptr [EBP + 0xfffffc90],XMM0
007b88bd : MOVSS XMM0,dword ptr [EBP + 0xfffffeb8]
007b88c5 : MOVSS XMM2,dword ptr [EBP + 0xfffffc90]
007b88cd : MOVSS XMM3,dword ptr [EBP + 0xfffffc94]
007b88d5 : MULSS XMM5,XMM0
007b88d9 : MULSS XMM6,XMM0
007b88dd : MOVAPS XMM4,XMM0
007b88e0 : MULSS XMM4,dword ptr [EBP + 0xfffffc80]
007b88e8 : MULSS XMM1,XMM0
007b88ec : MULSS XMM2,XMM0
007b88f0 : ADDSS XMM2,dword ptr [EBP + 0xfffffeb0]
007b88f8 : MULSS XMM3,XMM0
007b88fc : ADDSS XMM3,dword ptr [EBP + 0xfffffeb4]
007b8904 : MOVAPS XMM0,XMM7
007b8907 : ADDSS XMM0,XMM4
007b890b : MOVSS XMM4,dword ptr [EBP + 0xfffffeb0]
007b8913 : ADDSS XMM4,XMM5
007b8917 : MOVSS XMM5,dword ptr [EBP + 0xfffffeb4]
007b891f : ADDSS XMM5,XMM6
007b8923 : MOVSS XMM6,dword ptr [EBX + 0xa9bc]
007b892b : COMISS XMM6,XMM0
007b892e : ADDSS XMM1,XMM7
007b8932 : JA 0x007b8937
007b8934 : MOVAPS XMM0,XMM6
007b8937 : MOVSS dword ptr [EBX + 0xa9bc],XMM0
007b893f : MOVSS XMM0,dword ptr [EBX + 0xa9c0]
007b8947 : COMISS XMM0,XMM4
007b894a : JBE 0x007b894f
007b894c : MOVAPS XMM0,XMM4
007b894f : MOVSS dword ptr [EBX + 0xa9c0],XMM0
007b8957 : MOVSS XMM0,dword ptr [EBX + 0xa9c4]
007b895f : COMISS XMM0,XMM5
007b8962 : JBE 0x007b8967
007b8964 : MOVAPS XMM0,XMM5
007b8967 : MOVSS dword ptr [EBX + 0xa9c4],XMM0
007b896f : MOVSS XMM0,dword ptr [EBX + 0xa9c8]
007b8977 : COMISS XMM1,XMM0
007b897a : JBE 0x007b897f
007b897c : MOVAPS XMM0,XMM1
007b897f : MOVSS dword ptr [EBX + 0xa9c8],XMM0
007b8987 : MOVSS XMM0,dword ptr [EBX + 0xa9cc]
007b898f : COMISS XMM2,XMM0
007b8992 : JBE 0x007b8997
007b8994 : MOVAPS XMM0,XMM2
007b8997 : MOVSS dword ptr [EBX + 0xa9cc],XMM0
007b899f : MOVSS XMM0,dword ptr [EBX + 0xa9d0]
007b89a7 : COMISS XMM3,XMM0
007b89aa : JBE 0x007b89af
007b89ac : MOVAPS XMM0,XMM3
007b89af : PUSH 0x1
007b89b1 : LEA EDX,[EBP + 0xfffffeac]
007b89b7 : PUSH EDX
007b89b8 : PUSH EBX
007b89b9 : MOV ECX,EDI
007b89bb : MOVSS dword ptr [EBX + 0xa9d0],XMM0
007b89c3 : CALL 0x006ebab0
007b89c8 : MOV DL,AL
007b89ca : TEST DL,DL
007b89cc : JZ 0x007b89da
007b89ce : MOV EAX,dword ptr [EBP + 0xfffffc78]
007b89d4 : MOV dword ptr [EAX + 0xa48],EDI
007b89da : MOV byte ptr [EBP + -0x4],0x3
007b89de : MOV dword ptr [EBP + 0xfffffc9c],0xcd3f48
007b89e8 : MOV byte ptr [EBP + -0x4],0x0
007b89ec : LEA ECX,[EBP + 0xfffffeac]
007b89f2 : CALL 0x00a670e0
007b89f7 : JMP 0x007b89ff
007b89f9 : MOV DL,byte ptr [EBP + 0xfffffc9a]
007b89ff : MOV dword ptr [EBP + -0x4],0xffffffff
007b8a06 : MOV AL,DL
007b8a08 : MOV dword ptr [EBP + 0xfffffda4],0xcd3f48
007b8a12 : MOV ECX,dword ptr [EBP + -0xc]
007b8a15 : MOV dword ptr FS:[0x0],ECX
007b8a1c : POP ECX
007b8a1d : POP EDI
007b8a1e : POP ESI
007b8a1f : POP EBX
007b8a20 : MOV ECX,dword ptr [EBP + -0x14]
007b8a23 : XOR ECX,EBP
007b8a25 : CALL 0x00633e6b
007b8a2a : MOV ESP,EBP
007b8a2c : POP EBP
007b8a2d : RET 0x4
