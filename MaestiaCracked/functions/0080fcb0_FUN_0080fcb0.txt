PROGRAM  : Maestia.exe
FUNCTION : FUN_0080fcb0
ENTRY    : 0080fcb0
BODY     : [[0080fcb0, 0080fd9c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0080fcb0(void)

{
  undefined4 *puVar1;
  int iVar2;
  code *pcVar3;
  int *unaff_EDI;
  
  if ((char)unaff_EDI[0x38] == '\0') {
    if (*(char *)((int)unaff_EDI + 0x32) != '\0') {
      if ((*DAT_00da9894 != 0) &&
         (puVar1 = *(undefined4 **)(*DAT_00da9894 + 0x114), puVar1 != (undefined4 *)0x0)) {
        (**(code **)*puVar1)("BeautyShop_Close");
      }
      FUN_008f76d0();
    }
    FUN_00878820(*(undefined4 *)(DAT_00da93ec + 0x41c),0);
    if (DAT_00da93ec != 0) {
      FUN_00a1adc0(1);
      *(undefined1 *)(DAT_00da93ec + 0x465) = 1;
      FUN_00a387d0(1);
      FUN_00a19ba0(1);
      FUN_00a35690(1);
    }
    iVar2 = *(int *)(DAT_0172491c + 0x17c);
    if (iVar2 != 0) {
      if (*(int *)(iVar2 + 1000) != 0) {
        FUN_007d48a0(0,0);
      }
      FUN_00889ad0(1,1);
      *(undefined1 *)(iVar2 + 0x1fe4) = 0;
      *(undefined1 *)(iVar2 + 0x3ae) = 0;
      FUN_00867f60();
    }
    pcVar3 = *(code **)(*unaff_EDI + 0x10);
    *(undefined1 *)(unaff_EDI + 0x33) = 0;
    *(undefined1 *)((int)unaff_EDI + 0xcd) = 0;
    (*pcVar3)();
    if (*(int *)(DAT_0172490c + 8) == 2) {
      FUN_008444f0();
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0080fcb0 : PUSH ECX
0080fcb1 : PUSH EBX
0080fcb2 : XOR EBX,EBX
0080fcb4 : PUSH ESI
0080fcb5 : CMP byte ptr [EDI + 0xe0],BL
0080fcbb : JNZ 0x0080fd99
0080fcc1 : CMP byte ptr [EDI + 0x32],BL
0080fcc4 : JZ 0x0080fced
0080fcc6 : MOV EAX,[0x00da9894]
0080fccb : MOV EAX,dword ptr [EAX]
0080fccd : CMP EAX,EBX
0080fccf : JZ 0x0080fce6
0080fcd1 : MOV ECX,dword ptr [EAX + 0x114]
0080fcd7 : CMP ECX,EBX
0080fcd9 : JZ 0x0080fce6
0080fcdb : MOV EDX,dword ptr [ECX]
0080fcdd : MOV EAX,dword ptr [EDX]
0080fcdf : PUSH 0xc2d7d0
0080fce4 : CALL EAX
0080fce6 : MOV ECX,EDI
0080fce8 : CALL 0x008f76d0
0080fced : MOV ECX,dword ptr [0x00da93ec]
0080fcf3 : MOV EDX,dword ptr [ECX + 0x41c]
0080fcf9 : PUSH EBX
0080fcfa : PUSH EDX
0080fcfb : CALL 0x00878820
0080fd00 : MOV EAX,[0x00da93ec]
0080fd05 : CMP EAX,EBX
0080fd07 : JZ 0x0080fd37
0080fd09 : PUSH 0x1
0080fd0b : CALL 0x00a1adc0
0080fd10 : MOV EAX,[0x00da93ec]
0080fd15 : PUSH 0x1
0080fd17 : MOV ESI,EAX
0080fd19 : MOV byte ptr [EAX + 0x465],0x1
0080fd20 : CALL 0x00a387d0
0080fd25 : PUSH 0x1
0080fd27 : MOV ECX,ESI
0080fd29 : CALL 0x00a19ba0
0080fd2e : PUSH 0x1
0080fd30 : MOV ECX,ESI
0080fd32 : CALL 0x00a35690
0080fd37 : MOV EAX,[0x0172491c]
0080fd3c : MOV ESI,dword ptr [EAX + 0x17c]
0080fd42 : CMP ESI,EBX
0080fd44 : JZ 0x0080fd73
0080fd46 : MOV ECX,dword ptr [ESI + 0x3e8]
0080fd4c : CMP ECX,EBX
0080fd4e : JZ 0x0080fd57
0080fd50 : PUSH EBX
0080fd51 : PUSH EBX
0080fd52 : CALL 0x007d48a0
0080fd57 : PUSH 0x1
0080fd59 : PUSH 0x1
0080fd5b : CALL 0x00889ad0
0080fd60 : MOV EAX,ESI
0080fd62 : MOV byte ptr [ESI + 0x1fe4],BL
0080fd68 : MOV byte ptr [ESI + 0x3ae],BL
0080fd6e : CALL 0x00867f60
0080fd73 : MOV EDX,dword ptr [EDI]
0080fd75 : MOV EAX,dword ptr [EDX + 0x10]
0080fd78 : MOV ECX,EDI
0080fd7a : MOV byte ptr [EDI + 0xcc],BL
0080fd80 : MOV byte ptr [EDI + 0xcd],BL
0080fd86 : CALL EAX
0080fd88 : MOV ECX,dword ptr [0x0172490c]
0080fd8e : CMP dword ptr [ECX + 0x8],0x2
0080fd92 : JNZ 0x0080fd99
0080fd94 : CALL 0x008444f0
0080fd99 : POP ESI
0080fd9a : POP EBX
0080fd9b : POP ECX
0080fd9c : RET
