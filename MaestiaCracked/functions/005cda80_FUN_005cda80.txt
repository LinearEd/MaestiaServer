PROGRAM  : Maestia.exe
FUNCTION : FUN_005cda80
ENTRY    : 005cda80
BODY     : [[005cda80, 005cdb9a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005cda80(int param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  char cVar5;
  int iVar6;
  undefined1 *puVar7;
  int local_24;
  undefined1 local_20 [4];
  undefined1 auStack_1c [12];
  undefined1 local_10;
  int aiStack_8 [2];
  
  piVar1 = (int *)(param_1 + 0x78);
  local_10 = 0;
  local_20[0] = 0;
  local_24 = FUN_00525380("System",6,0);
  *(int *)(local_24 + 8) = *(int *)(local_24 + 8) + 1;
  puVar7 = local_20;
  cVar5 = (**(code **)(*(int *)(*(int *)(*piVar1 + 0x2a0) + 0x10) + 0x2c))(piVar1,&local_24);
  if (cVar5 != '\0') {
    iVar6 = FUN_00526fa0(param_1);
    cVar5 = (**(code **)(*(int *)(iVar6 + 0x10) + 0x2c))(piVar1,*piVar1 + 0x60,auStack_1c);
    if (((cVar5 != '\0') && (iVar6 = FUN_00526fa0(param_1), iVar6 != 0)) && (iVar6 + 0x10 != 0)) {
      iVar2 = *(int *)(param_1 + 8);
      iVar3 = *(int *)(param_1 + 0xc);
      iVar4 = *(int *)(param_1 + 0x1c);
      aiStack_8[0] = FUN_00525380("onRemoveStatusWindow",0x14,0);
      *(int *)(aiStack_8[0] + 8) = *(int *)(aiStack_8[0] + 8) + 1;
      FUN_0057bb40(param_1,iVar6 + 0x10,aiStack_8,0,(iVar2 - iVar3 >> 4) + -0x20 + iVar4 * 0x20);
      *(int *)(aiStack_8[0] + 8) = *(int *)(aiStack_8[0] + 8) + -1;
      if (*(int *)(aiStack_8[0] + 8) == 0) {
        FUN_00525340();
      }
    }
  }
  *(int *)(puVar7 + 8) = *(int *)(puVar7 + 8) + -1;
  if (*(int *)(puVar7 + 8) == 0) {
    FUN_00525340();
  }
  FUN_00526bc0();
  FUN_00526bc0();
  return;
}



============================================================
DISASSEMBLY
============================================================
005cda80 : SUB ESP,0x24
005cda83 : PUSH ESI
005cda84 : MOV ESI,dword ptr [ESP + 0x2c]
005cda88 : MOV EAX,dword ptr [ESI + 0x78]
005cda8b : PUSH EDI
005cda8c : PUSH 0x0
005cda8e : LEA EDI,[ESI + 0x78]
005cda91 : PUSH 0x6
005cda93 : PUSH 0xb86464
005cda98 : LEA ECX,[EAX + 0x254]
005cda9e : MOV byte ptr [ESP + 0x28],0x0
005cdaa3 : MOV byte ptr [ESP + 0x18],0x0
005cdaa8 : CALL 0x00525380
005cdaad : MOV dword ptr [ESP + 0x8],EAX
005cdab1 : INC dword ptr [EAX + 0x8]
005cdab4 : MOV EAX,dword ptr [EDI]
005cdab6 : MOV ECX,dword ptr [EAX + 0x2a0]
005cdabc : MOV EDX,dword ptr [ECX + 0x10]
005cdabf : MOV EDX,dword ptr [EDX + 0x2c]
005cdac2 : LEA EAX,[ESP + 0xc]
005cdac6 : PUSH EAX
005cdac7 : ADD ECX,0x10
005cdaca : LEA EAX,[ESP + 0xc]
005cdace : PUSH EAX
005cdacf : PUSH EDI
005cdad0 : CALL EDX
005cdad2 : TEST AL,AL
005cdad4 : JZ 0x005cdb6d
005cdada : PUSH EBX
005cdadb : PUSH ESI
005cdadc : LEA ECX,[ESP + 0x14]
005cdae0 : CALL 0x00526fa0
005cdae5 : MOV EDX,dword ptr [EDI]
005cdae7 : LEA ECX,[EAX + 0x10]
005cdaea : MOV EAX,dword ptr [ECX]
005cdaec : LEA EBX,[ESP + 0x20]
005cdaf0 : PUSH EBX
005cdaf1 : ADD EDX,0x60
005cdaf4 : PUSH EDX
005cdaf5 : MOV EDX,dword ptr [EAX + 0x2c]
005cdaf8 : PUSH EDI
005cdaf9 : CALL EDX
005cdafb : TEST AL,AL
005cdafd : JZ 0x005cdb6c
005cdaff : PUSH ESI
005cdb00 : MOV ECX,EBX
005cdb02 : CALL 0x00526fa0
005cdb07 : TEST EAX,EAX
005cdb09 : JZ 0x005cdb6c
005cdb0b : LEA EBX,[EAX + 0x10]
005cdb0e : TEST EBX,EBX
005cdb10 : JZ 0x005cdb6c
005cdb12 : MOV EAX,dword ptr [ESI + 0x8]
005cdb15 : SUB EAX,dword ptr [ESI + 0xc]
005cdb18 : MOV ECX,dword ptr [ESI + 0x1c]
005cdb1b : MOV EDI,dword ptr [EDI]
005cdb1d : PUSH EBP
005cdb1e : PUSH 0x0
005cdb20 : SHL ECX,0x5
005cdb23 : SAR EAX,0x4
005cdb26 : PUSH 0x14
005cdb28 : LEA EBP,[EAX + ECX*0x1 + -0x20]
005cdb2c : PUSH 0xb92b48
005cdb31 : LEA ECX,[EDI + 0x254]
005cdb37 : CALL 0x00525380
005cdb3c : PUSH EBP
005cdb3d : PUSH 0x0
005cdb3f : LEA EDX,[ESP + 0x40]
005cdb43 : PUSH EDX
005cdb44 : PUSH EBX
005cdb45 : MOV dword ptr [ESP + 0x48],EAX
005cdb49 : INC dword ptr [EAX + 0x8]
005cdb4c : PUSH ESI
005cdb4d : CALL 0x0057bb40
005cdb52 : MOV EAX,dword ptr [ESP + 0x4c]
005cdb56 : DEC dword ptr [EAX + 0x8]
005cdb59 : MOV ECX,EAX
005cdb5b : ADD EAX,0x8
005cdb5e : ADD ESP,0x14
005cdb61 : CMP dword ptr [EAX],0x0
005cdb64 : POP EBP
005cdb65 : JNZ 0x005cdb6c
005cdb67 : CALL 0x00525340
005cdb6c : POP EBX
005cdb6d : MOV EAX,dword ptr [ESP + 0x8]
005cdb71 : DEC dword ptr [EAX + 0x8]
005cdb74 : MOV ECX,EAX
005cdb76 : ADD EAX,0x8
005cdb79 : CMP dword ptr [EAX],0x0
005cdb7c : POP EDI
005cdb7d : POP ESI
005cdb7e : JNZ 0x005cdb85
005cdb80 : CALL 0x00525340
005cdb85 : LEA ECX,[ESP + 0x4]
005cdb89 : CALL 0x00526bc0
005cdb8e : LEA ECX,[ESP + 0x14]
005cdb92 : CALL 0x00526bc0
005cdb97 : ADD ESP,0x24
005cdb9a : RET
