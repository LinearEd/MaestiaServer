PROGRAM  : Maestia.exe
FUNCTION : FUN_00436bf0
ENTRY    : 00436bf0
BODY     : [[00436bf0, 00436ead]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00436d23) */
/* WARNING: Removing unreachable block (ram,0x00436d33) */
/* WARNING: Removing unreachable block (ram,0x00436d3c) */
/* WARNING: Removing unreachable block (ram,0x00436d3f) */
/* WARNING: Removing unreachable block (ram,0x00436d2f) */
/* WARNING: Removing unreachable block (ram,0x00436d4c) */
/* WARNING: Removing unreachable block (ram,0x00436d5c) */
/* WARNING: Removing unreachable block (ram,0x00436d67) */
/* WARNING: Removing unreachable block (ram,0x00436d63) */
/* WARNING: Removing unreachable block (ram,0x00436d57) */
/* WARNING: Removing unreachable block (ram,0x00436d6a) */
/* WARNING: Removing unreachable block (ram,0x00436d7a) */
/* WARNING: Removing unreachable block (ram,0x00436d82) */

void FUN_00436bf0(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  int *piVar5;
  int *piVar6;
  undefined1 local_5c [40];
  undefined1 local_34 [4];
  undefined1 local_30;
  undefined4 local_20;
  undefined4 local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7b675;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x2d) != '\0') {
    local_1c = 0xf;
    local_20 = 0;
    local_30 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_34);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_5c,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_00430160(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar6 = (int *)*param_3;
  if (*(char *)((int)piVar6 + 0x2d) == '\0') {
    if (*(char *)(param_3[2] + 0x2d) == '\0') {
      piVar6 = (int *)param_3[2];
    }
  }
  else {
    piVar6 = (int *)param_3[2];
  }
  piVar5 = (int *)param_3[1];
  if (*(char *)((int)piVar6 + 0x2d) == '\0') {
    piVar6[1] = (int)piVar5;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar6;
  }
  else if ((int *)*piVar5 == param_3) {
    *piVar5 = (int)piVar6;
  }
  else {
    piVar5[2] = (int)piVar6;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar4 = piVar5;
    if (*(char *)((int)piVar6 + 0x2d) == '\0') {
      cVar1 = *(char *)(*piVar6 + 0x2d);
      piVar2 = (int *)*piVar6;
      piVar4 = piVar6;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x2d);
        piVar4 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar4;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 8) == param_3) {
    if (*(char *)((int)piVar6 + 0x2d) == '\0') {
      cVar1 = *(char *)(piVar6[2] + 0x2d);
      piVar4 = (int *)piVar6[2];
      piVar2 = piVar6;
      while (piVar3 = piVar4, cVar1 == '\0') {
        piVar4 = (int *)piVar3[2];
        cVar1 = *(char *)((int)piVar4 + 0x2d);
        piVar2 = piVar3;
      }
      *(int **)(*(int *)(param_1 + 4) + 8) = piVar2;
    }
    else {
      *(int **)(*(int *)(param_1 + 4) + 8) = piVar5;
    }
  }
  if ((char)local_18[0xb] == '\x01') {
    if (piVar6 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar4 = piVar5;
        if ((char)piVar6[0xb] != '\x01') break;
        piVar5 = (int *)*piVar4;
        if (piVar6 == piVar5) {
          piVar5 = (int *)piVar4[2];
          if ((char)piVar5[0xb] == '\0') {
            *(undefined1 *)(piVar5 + 0xb) = 1;
            *(undefined1 *)(piVar4 + 0xb) = 0;
            FUN_004021f0(param_1);
            piVar5 = (int *)piVar4[2];
          }
          if (*(char *)((int)piVar5 + 0x2d) == '\0') {
            if ((*(char *)(*piVar5 + 0x2c) != '\x01') || (*(char *)(piVar5[2] + 0x2c) != '\x01')) {
              if (*(char *)(piVar5[2] + 0x2c) == '\x01') {
                *(undefined1 *)(*piVar5 + 0x2c) = 1;
                *(undefined1 *)(piVar5 + 0xb) = 0;
                FUN_00422be0(param_1);
                piVar5 = (int *)piVar4[2];
              }
              *(char *)(piVar5 + 0xb) = (char)piVar4[0xb];
              *(undefined1 *)(piVar4 + 0xb) = 1;
              *(undefined1 *)(piVar5[2] + 0x2c) = 1;
              FUN_004021f0(param_1);
              break;
            }
LAB_00436e47:
            *(undefined1 *)(piVar5 + 0xb) = 0;
          }
        }
        else {
          if ((char)piVar5[0xb] == '\0') {
            *(undefined1 *)(piVar5 + 0xb) = 1;
            *(undefined1 *)(piVar4 + 0xb) = 0;
            FUN_00422be0(param_1);
            piVar5 = (int *)*piVar4;
          }
          if (*(char *)((int)piVar5 + 0x2d) == '\0') {
            if ((*(char *)(piVar5[2] + 0x2c) == '\x01') && (*(char *)(*piVar5 + 0x2c) == '\x01'))
            goto LAB_00436e47;
            if (*(char *)(*piVar5 + 0x2c) == '\x01') {
              *(undefined1 *)(piVar5[2] + 0x2c) = 1;
              *(undefined1 *)(piVar5 + 0xb) = 0;
              FUN_004021f0(param_1);
              piVar5 = (int *)*piVar4;
            }
            *(char *)(piVar5 + 0xb) = (char)piVar4[0xb];
            *(undefined1 *)(piVar4 + 0xb) = 1;
            *(undefined1 *)(*piVar5 + 0x2c) = 1;
            FUN_00422be0(param_1);
            break;
          }
        }
        piVar5 = (int *)piVar4[1];
        piVar6 = piVar4;
      } while (piVar4 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar6 + 0xb) = 1;
  }
  local_8 = 0xffffffff;
  FUN_0044cb00(local_18 + 3);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00436bf0 : PUSH EBP
00436bf1 : MOV EBP,ESP
00436bf3 : PUSH -0x1
00436bf5 : PUSH 0xb7b675
00436bfa : MOV EAX,FS:[0x0]
00436c00 : PUSH EAX
00436c01 : SUB ESP,0x50
00436c04 : PUSH EBX
00436c05 : PUSH ESI
00436c06 : PUSH EDI
00436c07 : MOV EAX,[0x00d66fa0]
00436c0c : XOR EAX,EBP
00436c0e : PUSH EAX
00436c0f : LEA EAX,[EBP + -0xc]
00436c12 : MOV FS:[0x0],EAX
00436c18 : MOV EAX,dword ptr [EBP + 0x10]
00436c1b : CMP byte ptr [EAX + 0x2d],0x0
00436c1f : JZ 0x00436c5d
00436c21 : PUSH 0x1b
00436c23 : XOR ESI,ESI
00436c25 : PUSH 0xcca4a8
00436c2a : LEA ECX,[EBP + -0x30]
00436c2d : MOV dword ptr [EBP + -0x18],0xf
00436c34 : MOV dword ptr [EBP + -0x1c],ESI
00436c37 : MOV byte ptr [EBP + -0x2c],0x0
00436c3b : CALL 0x00404b50
00436c40 : MOV dword ptr [EBP + -0x4],ESI
00436c43 : LEA EAX,[EBP + -0x30]
00436c46 : PUSH EAX
00436c47 : LEA ECX,[EBP + -0x58]
00436c4a : CALL 0x00403c10
00436c4f : PUSH 0xced890
00436c54 : LEA ECX,[EBP + -0x58]
00436c57 : PUSH ECX
00436c58 : CALL 0x006409eb
00436c5d : MOV EBX,EAX
00436c5f : LEA EDX,[EBP + 0x10]
00436c62 : MOV dword ptr [EBP + -0x14],EBX
00436c65 : CALL 0x00430160
00436c6a : MOV ECX,dword ptr [EBX]
00436c6c : CMP byte ptr [ECX + 0x2d],0x0
00436c70 : JZ 0x00436c77
00436c72 : MOV EDI,dword ptr [EBX + 0x8]
00436c75 : JMP 0x00436c95
00436c77 : MOV EDX,dword ptr [EBX + 0x8]
00436c7a : CMP byte ptr [EDX + 0x2d],0x0
00436c7e : JZ 0x00436c84
00436c80 : MOV EDI,ECX
00436c82 : JMP 0x00436c95
00436c84 : MOV EAX,dword ptr [EBP + 0x10]
00436c87 : MOV EDI,dword ptr [EAX + 0x8]
00436c8a : LEA EDX,[EAX + 0x8]
00436c8d : CMP EAX,EBX
00436c8f : JNZ 0x00436d23
00436c95 : CMP byte ptr [EDI + 0x2d],0x0
00436c99 : MOV ESI,dword ptr [EBX + 0x4]
00436c9c : JNZ 0x00436ca1
00436c9e : MOV dword ptr [EDI + 0x4],ESI
00436ca1 : MOV EDX,dword ptr [EBP + 0x8]
00436ca4 : MOV EAX,dword ptr [EDX + 0x4]
00436ca7 : CMP dword ptr [EAX + 0x4],EBX
00436caa : JNZ 0x00436cb1
00436cac : MOV dword ptr [EAX + 0x4],EDI
00436caf : JMP 0x00436cbc
00436cb1 : CMP dword ptr [ESI],EBX
00436cb3 : JNZ 0x00436cb9
00436cb5 : MOV dword ptr [ESI],EDI
00436cb7 : JMP 0x00436cbc
00436cb9 : MOV dword ptr [ESI + 0x8],EDI
00436cbc : MOV EAX,dword ptr [EDX + 0x4]
00436cbf : CMP dword ptr [EAX],EBX
00436cc1 : JNZ 0x00436ce6
00436cc3 : CMP byte ptr [EDI + 0x2d],0x0
00436cc7 : JZ 0x00436ccd
00436cc9 : MOV ECX,ESI
00436ccb : JMP 0x00436ce1
00436ccd : MOV EAX,dword ptr [EDI]
00436ccf : CMP byte ptr [EAX + 0x2d],0x0
00436cd3 : MOV ECX,EDI
00436cd5 : JNZ 0x00436ce1
00436cd7 : MOV ECX,EAX
00436cd9 : MOV EAX,dword ptr [ECX]
00436cdb : CMP byte ptr [EAX + 0x2d],0x0
00436cdf : JZ 0x00436cd7
00436ce1 : MOV EAX,dword ptr [EDX + 0x4]
00436ce4 : MOV dword ptr [EAX],ECX
00436ce6 : MOV EAX,dword ptr [EDX + 0x4]
00436ce9 : CMP dword ptr [EAX + 0x8],EBX
00436cec : JNZ 0x00436d85
00436cf2 : CMP byte ptr [EDI + 0x2d],0x0
00436cf6 : JZ 0x00436d02
00436cf8 : MOV ECX,ESI
00436cfa : MOV dword ptr [EAX + 0x8],ECX
00436cfd : JMP 0x00436d85
00436d02 : MOV EAX,dword ptr [EDI + 0x8]
00436d05 : CMP byte ptr [EAX + 0x2d],0x0
00436d09 : MOV ECX,EDI
00436d0b : JNZ 0x00436d1b
00436d0d : LEA ECX,[ECX]
00436d10 : MOV ECX,EAX
00436d12 : MOV EAX,dword ptr [ECX + 0x8]
00436d15 : CMP byte ptr [EAX + 0x2d],0x0
00436d19 : JZ 0x00436d10
00436d1b : MOV EAX,dword ptr [EDX + 0x4]
00436d1e : MOV dword ptr [EAX + 0x8],ECX
00436d21 : JMP 0x00436d85
00436d23 : MOV dword ptr [ECX + 0x4],EAX
00436d26 : MOV ECX,dword ptr [EBX]
00436d28 : MOV dword ptr [EAX],ECX
00436d2a : CMP EAX,dword ptr [EBX + 0x8]
00436d2d : JNZ 0x00436d33
00436d2f : MOV ESI,EAX
00436d31 : JMP 0x00436d4c
00436d33 : CMP byte ptr [EDI + 0x2d],0x0
00436d37 : MOV ESI,dword ptr [EAX + 0x4]
00436d3a : JNZ 0x00436d3f
00436d3c : MOV dword ptr [EDI + 0x4],ESI
00436d3f : MOV dword ptr [ESI],EDI
00436d41 : MOV ECX,dword ptr [EBX + 0x8]
00436d44 : MOV dword ptr [EDX],ECX
00436d46 : MOV EDX,dword ptr [EBX + 0x8]
00436d49 : MOV dword ptr [EDX + 0x4],EAX
00436d4c : MOV ECX,dword ptr [EBP + 0x8]
00436d4f : MOV ECX,dword ptr [ECX + 0x4]
00436d52 : CMP dword ptr [ECX + 0x4],EBX
00436d55 : JNZ 0x00436d5c
00436d57 : MOV dword ptr [ECX + 0x4],EAX
00436d5a : JMP 0x00436d6a
00436d5c : MOV ECX,dword ptr [EBX + 0x4]
00436d5f : CMP dword ptr [ECX],EBX
00436d61 : JNZ 0x00436d67
00436d63 : MOV dword ptr [ECX],EAX
00436d65 : JMP 0x00436d6a
00436d67 : MOV dword ptr [ECX + 0x8],EAX
00436d6a : MOV EDX,dword ptr [EBX + 0x4]
00436d6d : MOV dword ptr [EAX + 0x4],EDX
00436d70 : LEA ECX,[EBX + 0x2c]
00436d73 : ADD EAX,0x2c
00436d76 : CMP EAX,ECX
00436d78 : JZ 0x00436d82
00436d7a : MOV BL,byte ptr [ECX]
00436d7c : MOV DL,byte ptr [EAX]
00436d7e : MOV byte ptr [EAX],BL
00436d80 : MOV byte ptr [ECX],DL
00436d82 : MOV EDX,dword ptr [EBP + 0x8]
00436d85 : MOV EAX,dword ptr [EBP + -0x14]
00436d88 : MOV BL,0x1
00436d8a : CMP byte ptr [EAX + 0x2c],BL
00436d8d : JNZ 0x00436e93
00436d93 : MOV ECX,dword ptr [EDX + 0x4]
00436d96 : CMP EDI,dword ptr [ECX + 0x4]
00436d99 : JZ 0x00436e90
00436d9f : NOP
00436da0 : CMP byte ptr [EDI + 0x2c],BL
00436da3 : JNZ 0x00436e90
00436da9 : MOV ECX,dword ptr [ESI]
00436dab : CMP EDI,ECX
00436dad : JNZ 0x00436e18
00436daf : MOV ECX,dword ptr [ESI + 0x8]
00436db2 : CMP byte ptr [ECX + 0x2c],0x0
00436db6 : JNZ 0x00436dcd
00436db8 : MOV byte ptr [ECX + 0x2c],BL
00436dbb : PUSH EDX
00436dbc : MOV ECX,ESI
00436dbe : MOV byte ptr [ESI + 0x2c],0x0
00436dc2 : CALL 0x004021f0
00436dc7 : MOV ECX,dword ptr [ESI + 0x8]
00436dca : MOV EDX,dword ptr [EBP + 0x8]
00436dcd : CMP byte ptr [ECX + 0x2d],0x0
00436dd1 : JNZ 0x00436e4b
00436dd3 : MOV EAX,dword ptr [ECX]
00436dd5 : CMP byte ptr [EAX + 0x2c],BL
00436dd8 : JNZ 0x00436de2
00436dda : MOV EAX,dword ptr [ECX + 0x8]
00436ddd : CMP byte ptr [EAX + 0x2c],BL
00436de0 : JZ 0x00436e47
00436de2 : MOV EAX,dword ptr [ECX + 0x8]
00436de5 : CMP byte ptr [EAX + 0x2c],BL
00436de8 : JNZ 0x00436dff
00436dea : MOV EAX,dword ptr [ECX]
00436dec : MOV byte ptr [EAX + 0x2c],BL
00436def : PUSH EDX
00436df0 : MOV byte ptr [ECX + 0x2c],0x0
00436df4 : CALL 0x00422be0
00436df9 : MOV ECX,dword ptr [ESI + 0x8]
00436dfc : MOV EDX,dword ptr [EBP + 0x8]
00436dff : MOV AL,byte ptr [ESI + 0x2c]
00436e02 : MOV byte ptr [ECX + 0x2c],AL
00436e05 : MOV byte ptr [ESI + 0x2c],BL
00436e08 : MOV ECX,dword ptr [ECX + 0x8]
00436e0b : MOV byte ptr [ECX + 0x2c],BL
00436e0e : PUSH EDX
00436e0f : MOV ECX,ESI
00436e11 : CALL 0x004021f0
00436e16 : JMP 0x00436e90
00436e18 : CMP byte ptr [ECX + 0x2c],0x0
00436e1c : JNZ 0x00436e32
00436e1e : MOV byte ptr [ECX + 0x2c],BL
00436e21 : PUSH EDX
00436e22 : MOV ECX,ESI
00436e24 : MOV byte ptr [ESI + 0x2c],0x0
00436e28 : CALL 0x00422be0
00436e2d : MOV ECX,dword ptr [ESI]
00436e2f : MOV EDX,dword ptr [EBP + 0x8]
00436e32 : CMP byte ptr [ECX + 0x2d],0x0
00436e36 : JNZ 0x00436e4b
00436e38 : MOV EAX,dword ptr [ECX + 0x8]
00436e3b : CMP byte ptr [EAX + 0x2c],BL
00436e3e : JNZ 0x00436e5e
00436e40 : MOV EAX,dword ptr [ECX]
00436e42 : CMP byte ptr [EAX + 0x2c],BL
00436e45 : JNZ 0x00436e5e
00436e47 : MOV byte ptr [ECX + 0x2c],0x0
00436e4b : MOV ECX,dword ptr [EDX + 0x4]
00436e4e : MOV EDI,ESI
00436e50 : MOV ESI,dword ptr [ESI + 0x4]
00436e53 : CMP EDI,dword ptr [ECX + 0x4]
00436e56 : JNZ 0x00436da0
00436e5c : JMP 0x00436e90
00436e5e : MOV EAX,dword ptr [ECX]
00436e60 : CMP byte ptr [EAX + 0x2c],BL
00436e63 : JNZ 0x00436e7a
00436e65 : MOV EAX,dword ptr [ECX + 0x8]
00436e68 : MOV byte ptr [EAX + 0x2c],BL
00436e6b : PUSH EDX
00436e6c : MOV byte ptr [ECX + 0x2c],0x0
00436e70 : CALL 0x004021f0
00436e75 : MOV ECX,dword ptr [ESI]
00436e77 : MOV EDX,dword ptr [EBP + 0x8]
00436e7a : MOV AL,byte ptr [ESI + 0x2c]
00436e7d : MOV byte ptr [ECX + 0x2c],AL
00436e80 : MOV byte ptr [ESI + 0x2c],BL
00436e83 : MOV ECX,dword ptr [ECX]
00436e85 : MOV byte ptr [ECX + 0x2c],BL
00436e88 : PUSH EDX
00436e89 : MOV ECX,ESI
00436e8b : CALL 0x00422be0
00436e90 : MOV byte ptr [EDI + 0x2c],BL
00436e93 : MOV dword ptr [EBP + -0x4],0xffffffff
00436e9a : MOV EDX,dword ptr [EBP + -0x14]
00436e9d : ADD EDX,0xc
00436ea0 : PUSH EDX
00436ea1 : CALL 0x0044cb00
00436ea6 : MOV ECX,dword ptr [EBP + -0x14]
00436ea9 : CALL 0x006f04e0
