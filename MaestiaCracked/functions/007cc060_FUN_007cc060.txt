PROGRAM  : Maestia.exe
FUNCTION : FUN_007cc060
ENTRY    : 007cc060
BODY     : [[007cc060, 007cc201]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_007cc060(undefined4 *param_1)

{
  uint uVar1;
  BOOL BVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b4830c;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (param_1 + 1 == (undefined4 *)0x0) {
    DAT_017251d0 = (undefined4 *)0x0;
  }
  else {
    DAT_017251d0 = param_1;
  }
  local_8 = 0;
  *param_1 = &PTR_FUN_00cd4be4;
  param_1[1] = &PTR_FUN_00cdec94;
  BVar2 = InitializeCriticalSectionAndSpinCount((LPCRITICAL_SECTION)(param_1 + 2),4000);
  if (BVar2 == 0) {
    InitializeCriticalSection((LPCRITICAL_SECTION)(param_1 + 2));
  }
  local_8._0_1_ = 1;
  FUN_004014f0(param_1 + 0x11);
  local_8._0_1_ = 2;
  iVar3 = FUN_006f0760(0x1128,"",0,(DAT_01725270 >> 3 & 1) == 0,uVar1);
  local_8._0_1_ = 3;
  if (iVar3 == 0) {
    iVar3 = 0;
  }
  else {
    iVar3 = FUN_007a5030(iVar3);
  }
  local_8 = CONCAT31(local_8._1_3_,2);
  param_1[0xc] = iVar3;
  if (*(int *)(iVar3 + 0x78) != 0) {
    iVar4 = FUN_007a4980(*(int *)(iVar3 + 0x78),iVar3 + 0xc);
    if (iVar4 != 0) {
      *(undefined4 *)(iVar3 + 0x10b4) = 0;
      FUN_007a4f60(*(undefined4 *)(iVar3 + 0x78),iVar4);
      goto LAB_007cc14e;
    }
  }
  *(undefined4 *)(iVar3 + 0x10b4) = 0;
LAB_007cc14e:
  iVar3 = param_1[0xc];
  *(undefined4 *)(iVar3 + 0x10a4) = 0;
  *(undefined4 *)(iVar3 + 0x10a8) = 0;
  *(undefined4 *)(iVar3 + 0x10ac) = 0;
  *(undefined4 *)(iVar3 + 0x10b0) = 0;
  (**(code **)(*(int *)param_1[0xc] + 0x98))(0);
  iVar3 = FUN_006f0760(0x1360,"",0,(DAT_01725270 >> 3 & 1) == 0);
  local_8._0_1_ = 4;
  if (iVar3 == 0) {
    uVar5 = 0;
  }
  else {
    uVar5 = FUN_007aa6c0(iVar3);
  }
  local_8 = CONCAT31(local_8._1_3_,2);
  param_1[0xe] = uVar5;
  FUN_007aa260();
  param_1[9] = 0x44800000;
  *(undefined1 *)((int)param_1 + 0x2d) = 1;
  param_1[0x10] = 0;
  param_1[0xd] = 0;
  param_1[0xf] = 0;
  param_1[8] = 0;
  param_1[10] = 0x44400000;
  *(undefined1 *)(param_1 + 0x14) = 0;
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
007cc060 : PUSH EBP
007cc061 : MOV EBP,ESP
007cc063 : PUSH -0x1
007cc065 : PUSH 0xb4830c
007cc06a : MOV EAX,FS:[0x0]
007cc070 : PUSH EAX
007cc071 : PUSH EBX
007cc072 : PUSH ESI
007cc073 : PUSH EDI
007cc074 : MOV EAX,[0x00d66fa0]
007cc079 : XOR EAX,EBP
007cc07b : PUSH EAX
007cc07c : LEA EAX,[EBP + -0xc]
007cc07f : MOV FS:[0x0],EAX
007cc085 : MOV ESI,dword ptr [EBP + 0x8]
007cc088 : LEA EAX,[ESI + 0x4]
007cc08b : XOR EBX,EBX
007cc08d : CMP EAX,EBX
007cc08f : JZ 0x007cc09c
007cc091 : LEA ECX,[EAX + -0x4]
007cc094 : MOV dword ptr [0x017251d0],ECX
007cc09a : JMP 0x007cc0a2
007cc09c : MOV dword ptr [0x017251d0],EBX
007cc0a2 : MOV dword ptr [EBP + -0x4],EBX
007cc0a5 : LEA EDI,[EAX + 0x4]
007cc0a8 : PUSH 0xfa0
007cc0ad : MOV dword ptr [ESI],0xcd4be4
007cc0b3 : PUSH EDI
007cc0b4 : MOV dword ptr [EAX],0xcdec94
007cc0ba : CALL dword ptr [0x00b85110]
007cc0c0 : TEST EAX,EAX
007cc0c2 : JNZ 0x007cc0cb
007cc0c4 : PUSH EDI
007cc0c5 : CALL dword ptr [0x00b85114]
007cc0cb : MOV byte ptr [EBP + -0x4],0x1
007cc0cf : LEA EDX,[ESI + 0x44]
007cc0d2 : PUSH EDX
007cc0d3 : CALL 0x004014f0
007cc0d8 : MOV byte ptr [EBP + -0x4],0x2
007cc0dc : MOV EAX,[0x01725270]
007cc0e1 : SHR EAX,0x3
007cc0e4 : MOV ECX,0x0
007cc0e9 : AND EAX,0x1
007cc0ec : SETZ CL
007cc0ef : PUSH ECX
007cc0f0 : PUSH EBX
007cc0f1 : PUSH 0xbf1a4a
007cc0f6 : PUSH 0x1128
007cc0fb : CALL 0x006f0760
007cc100 : ADD ESP,0x10
007cc103 : MOV dword ptr [EBP + 0x8],EAX
007cc106 : MOV byte ptr [EBP + -0x4],0x3
007cc10a : CMP EAX,EBX
007cc10c : JZ 0x007cc118
007cc10e : PUSH EAX
007cc10f : CALL 0x007a5030
007cc114 : MOV EDI,EAX
007cc116 : JMP 0x007cc11a
007cc118 : XOR EDI,EDI
007cc11a : MOV byte ptr [EBP + -0x4],0x2
007cc11e : MOV dword ptr [ESI + 0x30],EDI
007cc121 : MOV EAX,dword ptr [EDI + 0x78]
007cc124 : CMP EAX,EBX
007cc126 : JZ 0x007cc148
007cc128 : LEA EDX,[EDI + 0xc]
007cc12b : PUSH EDX
007cc12c : PUSH EAX
007cc12d : CALL 0x007a4980
007cc132 : CMP EAX,EBX
007cc134 : JZ 0x007cc148
007cc136 : PUSH EAX
007cc137 : MOV EAX,dword ptr [EDI + 0x78]
007cc13a : PUSH EAX
007cc13b : MOV dword ptr [EDI + 0x10b4],EBX
007cc141 : CALL 0x007a4f60
007cc146 : JMP 0x007cc14e
007cc148 : MOV dword ptr [EDI + 0x10b4],EBX
007cc14e : MOV EAX,dword ptr [ESI + 0x30]
007cc151 : ADD EAX,0x10a4
007cc156 : MOV dword ptr [EAX],EBX
007cc158 : MOV dword ptr [EAX + 0x4],EBX
007cc15b : MOV dword ptr [EAX + 0x8],EBX
007cc15e : MOV dword ptr [EAX + 0xc],EBX
007cc161 : MOV ECX,dword ptr [ESI + 0x30]
007cc164 : MOV EDX,dword ptr [ECX]
007cc166 : MOV EAX,dword ptr [EDX + 0x98]
007cc16c : PUSH EBX
007cc16d : CALL EAX
007cc16f : MOV ECX,dword ptr [0x01725270]
007cc175 : SHR ECX,0x3
007cc178 : MOV EDX,0x0
007cc17d : AND ECX,0x1
007cc180 : SETZ DL
007cc183 : PUSH EDX
007cc184 : PUSH EBX
007cc185 : PUSH 0xbf1a4a
007cc18a : PUSH 0x1360
007cc18f : CALL 0x006f0760
007cc194 : ADD ESP,0x10
007cc197 : MOV dword ptr [EBP + 0x8],EAX
007cc19a : MOV byte ptr [EBP + -0x4],0x4
007cc19e : CMP EAX,EBX
007cc1a0 : JZ 0x007cc1aa
007cc1a2 : PUSH EAX
007cc1a3 : CALL 0x007aa6c0
007cc1a8 : JMP 0x007cc1ac
007cc1aa : XOR EAX,EAX
007cc1ac : MOV byte ptr [EBP + -0x4],0x2
007cc1b0 : MOV dword ptr [ESI + 0x38],EAX
007cc1b3 : CALL 0x007aa260
007cc1b8 : MOVSS XMM0,dword ptr [0x00cdf810]
007cc1c0 : MOVSS dword ptr [ESI + 0x24],XMM0
007cc1c5 : MOVSS XMM0,dword ptr [0x00cdf80c]
007cc1cd : MOV byte ptr [ESI + 0x2d],0x1
007cc1d1 : MOV dword ptr [ESI + 0x40],EBX
007cc1d4 : MOV dword ptr [ESI + 0x34],EBX
007cc1d7 : MOV dword ptr [ESI + 0x3c],EBX
007cc1da : MOV dword ptr [ESI + 0x20],EBX
007cc1dd : MOVSS dword ptr [ESI + 0x28],XMM0
007cc1e2 : MOV byte ptr [ESI + 0x50],BL
007cc1e5 : MOV dword ptr [EBP + -0x4],0xffffffff
007cc1ec : MOV EAX,ESI
007cc1ee : MOV ECX,dword ptr [EBP + -0xc]
007cc1f1 : MOV dword ptr FS:[0x0],ECX
007cc1f8 : POP ECX
007cc1f9 : POP EDI
007cc1fa : POP ESI
007cc1fb : POP EBX
007cc1fc : MOV ESP,EBP
007cc1fe : POP EBP
007cc1ff : RET 0x4
