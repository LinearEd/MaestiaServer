PROGRAM  : Maestia.exe
FUNCTION : FUN_004288d0
ENTRY    : 004288d0
BODY     : [[004288d0, 00428b73]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004289f0) */
/* WARNING: Removing unreachable block (ram,0x00428a00) */
/* WARNING: Removing unreachable block (ram,0x00428a09) */
/* WARNING: Removing unreachable block (ram,0x00428a0c) */
/* WARNING: Removing unreachable block (ram,0x004289fc) */
/* WARNING: Removing unreachable block (ram,0x00428a19) */
/* WARNING: Removing unreachable block (ram,0x00428a29) */
/* WARNING: Removing unreachable block (ram,0x00428a34) */
/* WARNING: Removing unreachable block (ram,0x00428a30) */
/* WARNING: Removing unreachable block (ram,0x00428a24) */
/* WARNING: Removing unreachable block (ram,0x00428a37) */
/* WARNING: Removing unreachable block (ram,0x00428a47) */
/* WARNING: Removing unreachable block (ram,0x00428a4f) */

void FUN_004288d0(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7bf38;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x29) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_00428cc0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x29) == '\0') {
    if (*(char *)(param_3[2] + 0x29) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x29) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x29) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x29);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x29);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int *)(param_1 + 4);
  if (*(int **)(local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x29) == '\0') {
      uVar4 = FUN_00451020();
      *(undefined4 *)(local_1c + 8) = uVar4;
    }
    else {
      *(int **)(local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[10] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[10] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[10] == '\0') {
            *(undefined1 *)(piVar6 + 10) = 1;
            *(undefined1 *)(piVar5 + 10) = 0;
            FUN_0042f190(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x29) == '\0') {
            if ((*(char *)(*piVar6 + 0x28) != '\x01') || (*(char *)(piVar6[2] + 0x28) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x28) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x28) = 1;
                *(undefined1 *)(piVar6 + 10) = 0;
                FUN_00450ab0(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 10) = (char)piVar5[10];
              *(undefined1 *)(piVar5 + 10) = 1;
              *(undefined1 *)(piVar6[2] + 0x28) = 1;
              FUN_0042f190(param_1);
              break;
            }
LAB_00428b17:
            *(undefined1 *)(piVar6 + 10) = 0;
          }
        }
        else {
          if ((char)piVar6[10] == '\0') {
            *(undefined1 *)(piVar6 + 10) = 1;
            *(undefined1 *)(piVar5 + 10) = 0;
            FUN_00450ab0(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x29) == '\0') {
            if ((*(char *)(piVar6[2] + 0x28) == '\x01') && (*(char *)(*piVar6 + 0x28) == '\x01'))
            goto LAB_00428b17;
            if (*(char *)(*piVar6 + 0x28) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x28) = 1;
              *(undefined1 *)(piVar6 + 10) = 0;
              FUN_0042f190(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 10) = (char)piVar5[10];
            *(undefined1 *)(piVar5 + 10) = 1;
            *(undefined1 *)(*piVar6 + 0x28) = 1;
            FUN_00450ab0(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 10) = 1;
  }
  FUN_004199f0(local_18);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004288d0 : PUSH EBP
004288d1 : MOV EBP,ESP
004288d3 : PUSH -0x1
004288d5 : PUSH 0xb7bf38
004288da : MOV EAX,FS:[0x0]
004288e0 : PUSH EAX
004288e1 : SUB ESP,0x50
004288e4 : PUSH EBX
004288e5 : PUSH ESI
004288e6 : PUSH EDI
004288e7 : MOV EAX,[0x00d66fa0]
004288ec : XOR EAX,EBP
004288ee : PUSH EAX
004288ef : LEA EAX,[EBP + -0xc]
004288f2 : MOV FS:[0x0],EAX
004288f8 : MOV EAX,dword ptr [EBP + 0x10]
004288fb : CMP byte ptr [EAX + 0x29],0x0
004288ff : JZ 0x0042893d
00428901 : PUSH 0x1b
00428903 : XOR ESI,ESI
00428905 : PUSH 0xcca4a8
0042890a : LEA ECX,[EBP + -0x34]
0042890d : MOV dword ptr [EBP + -0x1c],0xf
00428914 : MOV dword ptr [EBP + -0x20],ESI
00428917 : MOV byte ptr [EBP + -0x30],0x0
0042891b : CALL 0x00404b50
00428920 : MOV dword ptr [EBP + -0x4],ESI
00428923 : LEA EAX,[EBP + -0x34]
00428926 : PUSH EAX
00428927 : LEA ECX,[EBP + -0x5c]
0042892a : CALL 0x00403c10
0042892f : PUSH 0xced890
00428934 : LEA ECX,[EBP + -0x5c]
00428937 : PUSH ECX
00428938 : CALL 0x006409eb
0042893d : MOV EBX,EAX
0042893f : LEA EDX,[EBP + 0x10]
00428942 : MOV dword ptr [EBP + -0x14],EBX
00428945 : CALL 0x00428cc0
0042894a : MOV ECX,dword ptr [EBX]
0042894c : CMP byte ptr [ECX + 0x29],0x0
00428950 : JZ 0x00428957
00428952 : MOV EDI,dword ptr [EBX + 0x8]
00428955 : JMP 0x00428971
00428957 : MOV EDX,dword ptr [EBX + 0x8]
0042895a : CMP byte ptr [EDX + 0x29],0x0
0042895e : JZ 0x00428964
00428960 : MOV EDI,ECX
00428962 : JMP 0x00428971
00428964 : MOV EAX,dword ptr [EBP + 0x10]
00428967 : MOV EDI,dword ptr [EAX + 0x8]
0042896a : LEA EDX,[EAX + 0x8]
0042896d : CMP EAX,EBX
0042896f : JNZ 0x004289f0
00428971 : CMP byte ptr [EDI + 0x29],0x0
00428975 : MOV ESI,dword ptr [EBX + 0x4]
00428978 : JNZ 0x0042897d
0042897a : MOV dword ptr [EDI + 0x4],ESI
0042897d : MOV EDX,dword ptr [EBP + 0x8]
00428980 : MOV EAX,dword ptr [EDX + 0x4]
00428983 : CMP dword ptr [EAX + 0x4],EBX
00428986 : JNZ 0x0042898d
00428988 : MOV dword ptr [EAX + 0x4],EDI
0042898b : JMP 0x00428998
0042898d : CMP dword ptr [ESI],EBX
0042898f : JNZ 0x00428995
00428991 : MOV dword ptr [ESI],EDI
00428993 : JMP 0x00428998
00428995 : MOV dword ptr [ESI + 0x8],EDI
00428998 : MOV EAX,dword ptr [EDX + 0x4]
0042899b : CMP dword ptr [EAX],EBX
0042899d : JNZ 0x004289c2
0042899f : CMP byte ptr [EDI + 0x29],0x0
004289a3 : JZ 0x004289a9
004289a5 : MOV ECX,ESI
004289a7 : JMP 0x004289bd
004289a9 : MOV EAX,dword ptr [EDI]
004289ab : CMP byte ptr [EAX + 0x29],0x0
004289af : MOV ECX,EDI
004289b1 : JNZ 0x004289bd
004289b3 : MOV ECX,EAX
004289b5 : MOV EAX,dword ptr [ECX]
004289b7 : CMP byte ptr [EAX + 0x29],0x0
004289bb : JZ 0x004289b3
004289bd : MOV EAX,dword ptr [EDX + 0x4]
004289c0 : MOV dword ptr [EAX],ECX
004289c2 : MOV ECX,dword ptr [EDX + 0x4]
004289c5 : MOV dword ptr [EBP + -0x18],ECX
004289c8 : CMP dword ptr [ECX + 0x8],EBX
004289cb : JNZ 0x00428a52
004289d1 : CMP byte ptr [EDI + 0x29],0x0
004289d5 : JZ 0x004289de
004289d7 : MOV EAX,ESI
004289d9 : MOV dword ptr [ECX + 0x8],EAX
004289dc : JMP 0x00428a52
004289de : MOV EAX,EDI
004289e0 : CALL 0x00451020
004289e5 : MOV ECX,dword ptr [EBP + -0x18]
004289e8 : MOV EDX,dword ptr [EBP + 0x8]
004289eb : MOV dword ptr [ECX + 0x8],EAX
004289ee : JMP 0x00428a52
004289f0 : MOV dword ptr [ECX + 0x4],EAX
004289f3 : MOV ECX,dword ptr [EBX]
004289f5 : MOV dword ptr [EAX],ECX
004289f7 : CMP EAX,dword ptr [EBX + 0x8]
004289fa : JNZ 0x00428a00
004289fc : MOV ESI,EAX
004289fe : JMP 0x00428a19
00428a00 : CMP byte ptr [EDI + 0x29],0x0
00428a04 : MOV ESI,dword ptr [EAX + 0x4]
00428a07 : JNZ 0x00428a0c
00428a09 : MOV dword ptr [EDI + 0x4],ESI
00428a0c : MOV dword ptr [ESI],EDI
00428a0e : MOV ECX,dword ptr [EBX + 0x8]
00428a11 : MOV dword ptr [EDX],ECX
00428a13 : MOV EDX,dword ptr [EBX + 0x8]
00428a16 : MOV dword ptr [EDX + 0x4],EAX
00428a19 : MOV ECX,dword ptr [EBP + 0x8]
00428a1c : MOV ECX,dword ptr [ECX + 0x4]
00428a1f : CMP dword ptr [ECX + 0x4],EBX
00428a22 : JNZ 0x00428a29
00428a24 : MOV dword ptr [ECX + 0x4],EAX
00428a27 : JMP 0x00428a37
00428a29 : MOV ECX,dword ptr [EBX + 0x4]
00428a2c : CMP dword ptr [ECX],EBX
00428a2e : JNZ 0x00428a34
00428a30 : MOV dword ptr [ECX],EAX
00428a32 : JMP 0x00428a37
00428a34 : MOV dword ptr [ECX + 0x8],EAX
00428a37 : MOV EDX,dword ptr [EBX + 0x4]
00428a3a : MOV dword ptr [EAX + 0x4],EDX
00428a3d : LEA ECX,[EBX + 0x28]
00428a40 : ADD EAX,0x28
00428a43 : CMP EAX,ECX
00428a45 : JZ 0x00428a4f
00428a47 : MOV BL,byte ptr [ECX]
00428a49 : MOV DL,byte ptr [EAX]
00428a4b : MOV byte ptr [EAX],BL
00428a4d : MOV byte ptr [ECX],DL
00428a4f : MOV EDX,dword ptr [EBP + 0x8]
00428a52 : MOV EAX,dword ptr [EBP + -0x14]
00428a55 : MOV BL,0x1
00428a57 : CMP byte ptr [EAX + 0x28],BL
00428a5a : JNZ 0x00428b63
00428a60 : MOV ECX,dword ptr [EDX + 0x4]
00428a63 : CMP EDI,dword ptr [ECX + 0x4]
00428a66 : JZ 0x00428b60
00428a6c : LEA ESP,[ESP]
00428a70 : CMP byte ptr [EDI + 0x28],BL
00428a73 : JNZ 0x00428b60
00428a79 : MOV ECX,dword ptr [ESI]
00428a7b : CMP EDI,ECX
00428a7d : JNZ 0x00428ae8
00428a7f : MOV ECX,dword ptr [ESI + 0x8]
00428a82 : CMP byte ptr [ECX + 0x28],0x0
00428a86 : JNZ 0x00428a9d
00428a88 : MOV byte ptr [ECX + 0x28],BL
00428a8b : PUSH EDX
00428a8c : MOV ECX,ESI
00428a8e : MOV byte ptr [ESI + 0x28],0x0
00428a92 : CALL 0x0042f190
00428a97 : MOV ECX,dword ptr [ESI + 0x8]
00428a9a : MOV EDX,dword ptr [EBP + 0x8]
00428a9d : CMP byte ptr [ECX + 0x29],0x0
00428aa1 : JNZ 0x00428b1b
00428aa3 : MOV EAX,dword ptr [ECX]
00428aa5 : CMP byte ptr [EAX + 0x28],BL
00428aa8 : JNZ 0x00428ab2
00428aaa : MOV EAX,dword ptr [ECX + 0x8]
00428aad : CMP byte ptr [EAX + 0x28],BL
00428ab0 : JZ 0x00428b17
00428ab2 : MOV EAX,dword ptr [ECX + 0x8]
00428ab5 : CMP byte ptr [EAX + 0x28],BL
00428ab8 : JNZ 0x00428acf
00428aba : MOV EAX,dword ptr [ECX]
00428abc : MOV byte ptr [EAX + 0x28],BL
00428abf : PUSH EDX
00428ac0 : MOV byte ptr [ECX + 0x28],0x0
00428ac4 : CALL 0x00450ab0
00428ac9 : MOV ECX,dword ptr [ESI + 0x8]
00428acc : MOV EDX,dword ptr [EBP + 0x8]
00428acf : MOV AL,byte ptr [ESI + 0x28]
00428ad2 : MOV byte ptr [ECX + 0x28],AL
00428ad5 : MOV byte ptr [ESI + 0x28],BL
00428ad8 : MOV ECX,dword ptr [ECX + 0x8]
00428adb : MOV byte ptr [ECX + 0x28],BL
00428ade : PUSH EDX
00428adf : MOV ECX,ESI
00428ae1 : CALL 0x0042f190
00428ae6 : JMP 0x00428b60
00428ae8 : CMP byte ptr [ECX + 0x28],0x0
00428aec : JNZ 0x00428b02
00428aee : MOV byte ptr [ECX + 0x28],BL
00428af1 : PUSH EDX
00428af2 : MOV ECX,ESI
00428af4 : MOV byte ptr [ESI + 0x28],0x0
00428af8 : CALL 0x00450ab0
00428afd : MOV ECX,dword ptr [ESI]
00428aff : MOV EDX,dword ptr [EBP + 0x8]
00428b02 : CMP byte ptr [ECX + 0x29],0x0
00428b06 : JNZ 0x00428b1b
00428b08 : MOV EAX,dword ptr [ECX + 0x8]
00428b0b : CMP byte ptr [EAX + 0x28],BL
00428b0e : JNZ 0x00428b2e
00428b10 : MOV EAX,dword ptr [ECX]
00428b12 : CMP byte ptr [EAX + 0x28],BL
00428b15 : JNZ 0x00428b2e
00428b17 : MOV byte ptr [ECX + 0x28],0x0
00428b1b : MOV ECX,dword ptr [EDX + 0x4]
00428b1e : MOV EDI,ESI
00428b20 : MOV ESI,dword ptr [ESI + 0x4]
00428b23 : CMP EDI,dword ptr [ECX + 0x4]
00428b26 : JNZ 0x00428a70
00428b2c : JMP 0x00428b60
00428b2e : MOV EAX,dword ptr [ECX]
00428b30 : CMP byte ptr [EAX + 0x28],BL
00428b33 : JNZ 0x00428b4a
00428b35 : MOV EAX,dword ptr [ECX + 0x8]
00428b38 : MOV byte ptr [EAX + 0x28],BL
00428b3b : PUSH EDX
00428b3c : MOV byte ptr [ECX + 0x28],0x0
00428b40 : CALL 0x0042f190
00428b45 : MOV ECX,dword ptr [ESI]
00428b47 : MOV EDX,dword ptr [EBP + 0x8]
00428b4a : MOV AL,byte ptr [ESI + 0x28]
00428b4d : MOV byte ptr [ECX + 0x28],AL
00428b50 : MOV byte ptr [ESI + 0x28],BL
00428b53 : MOV ECX,dword ptr [ECX]
00428b55 : MOV byte ptr [ECX + 0x28],BL
00428b58 : PUSH EDX
00428b59 : MOV ECX,ESI
00428b5b : CALL 0x00450ab0
00428b60 : MOV byte ptr [EDI + 0x28],BL
00428b63 : MOV EDX,dword ptr [EBP + -0x14]
00428b66 : PUSH EDX
00428b67 : CALL 0x004199f0
00428b6c : MOV ECX,dword ptr [EBP + -0x14]
00428b6f : CALL 0x006f04e0
