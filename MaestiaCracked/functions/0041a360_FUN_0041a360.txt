PROGRAM  : Maestia.exe
FUNCTION : FUN_0041a360
ENTRY    : 0041a360
BODY     : [[0041a360, 0041a60a]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0041a493) */
/* WARNING: Removing unreachable block (ram,0x0041a4a3) */
/* WARNING: Removing unreachable block (ram,0x0041a4ac) */
/* WARNING: Removing unreachable block (ram,0x0041a4af) */
/* WARNING: Removing unreachable block (ram,0x0041a49f) */
/* WARNING: Removing unreachable block (ram,0x0041a4bc) */
/* WARNING: Removing unreachable block (ram,0x0041a4cc) */
/* WARNING: Removing unreachable block (ram,0x0041a4d7) */
/* WARNING: Removing unreachable block (ram,0x0041a4d3) */
/* WARNING: Removing unreachable block (ram,0x0041a4c7) */
/* WARNING: Removing unreachable block (ram,0x0041a4da) */
/* WARNING: Removing unreachable block (ram,0x0041a4ea) */
/* WARNING: Removing unreachable block (ram,0x0041a4f2) */

void FUN_0041a360(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  int *piVar5;
  int *piVar6;
  undefined1 local_5c [40];
  undefined1 local_34 [4];
  undefined1 local_30;
  undefined4 local_20;
  undefined4 local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7bad8;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x1d) != '\0') {
    local_1c = 0xf;
    local_20 = 0;
    local_30 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_34);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_5c,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_004192a0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar6 = (int *)*param_3;
  if (*(char *)((int)piVar6 + 0x1d) == '\0') {
    if (*(char *)(param_3[2] + 0x1d) == '\0') {
      piVar6 = (int *)param_3[2];
    }
  }
  else {
    piVar6 = (int *)param_3[2];
  }
  piVar5 = (int *)param_3[1];
  if (*(char *)((int)piVar6 + 0x1d) == '\0') {
    piVar6[1] = (int)piVar5;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar6;
  }
  else if ((int *)*piVar5 == param_3) {
    *piVar5 = (int)piVar6;
  }
  else {
    piVar5[2] = (int)piVar6;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar4 = piVar5;
    if (*(char *)((int)piVar6 + 0x1d) == '\0') {
      cVar1 = *(char *)(*piVar6 + 0x1d);
      piVar2 = (int *)*piVar6;
      piVar4 = piVar6;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x1d);
        piVar4 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar4;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 8) == param_3) {
    if (*(char *)((int)piVar6 + 0x1d) == '\0') {
      cVar1 = *(char *)(piVar6[2] + 0x1d);
      piVar4 = (int *)piVar6[2];
      piVar2 = piVar6;
      while (piVar3 = piVar4, cVar1 == '\0') {
        piVar4 = (int *)piVar3[2];
        cVar1 = *(char *)((int)piVar4 + 0x1d);
        piVar2 = piVar3;
      }
      *(int **)(*(int *)(param_1 + 4) + 8) = piVar2;
    }
    else {
      *(int **)(*(int *)(param_1 + 4) + 8) = piVar5;
    }
  }
  if ((char)local_18[7] == '\x01') {
    if (piVar6 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar4 = piVar5;
        if ((char)piVar6[7] != '\x01') break;
        piVar5 = (int *)*piVar4;
        if (piVar6 == piVar5) {
          piVar5 = (int *)piVar4[2];
          if ((char)piVar5[7] == '\0') {
            *(undefined1 *)(piVar5 + 7) = 1;
            *(undefined1 *)(piVar4 + 7) = 0;
            FUN_00409480(param_1);
            piVar5 = (int *)piVar4[2];
          }
          if (*(char *)((int)piVar5 + 0x1d) == '\0') {
            if ((*(char *)(*piVar5 + 0x1c) != '\x01') || (*(char *)(piVar5[2] + 0x1c) != '\x01')) {
              if (*(char *)(piVar5[2] + 0x1c) == '\x01') {
                *(undefined1 *)(*piVar5 + 0x1c) = 1;
                *(undefined1 *)(piVar5 + 7) = 0;
                FUN_00464200(param_1);
                piVar5 = (int *)piVar4[2];
              }
              *(char *)(piVar5 + 7) = (char)piVar4[7];
              *(undefined1 *)(piVar4 + 7) = 1;
              *(undefined1 *)(piVar5[2] + 0x1c) = 1;
              FUN_00409480(param_1);
              break;
            }
LAB_0041a5b7:
            *(undefined1 *)(piVar5 + 7) = 0;
          }
        }
        else {
          if ((char)piVar5[7] == '\0') {
            *(undefined1 *)(piVar5 + 7) = 1;
            *(undefined1 *)(piVar4 + 7) = 0;
            FUN_00464200(param_1);
            piVar5 = (int *)*piVar4;
          }
          if (*(char *)((int)piVar5 + 0x1d) == '\0') {
            if ((*(char *)(piVar5[2] + 0x1c) == '\x01') && (*(char *)(*piVar5 + 0x1c) == '\x01'))
            goto LAB_0041a5b7;
            if (*(char *)(*piVar5 + 0x1c) == '\x01') {
              *(undefined1 *)(piVar5[2] + 0x1c) = 1;
              *(undefined1 *)(piVar5 + 7) = 0;
              FUN_00409480(param_1);
              piVar5 = (int *)*piVar4;
            }
            *(char *)(piVar5 + 7) = (char)piVar4[7];
            *(undefined1 *)(piVar4 + 7) = 1;
            *(undefined1 *)(*piVar5 + 0x1c) = 1;
            FUN_00464200(param_1);
            break;
          }
        }
        piVar5 = (int *)piVar4[1];
        piVar6 = piVar4;
      } while (piVar4 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar6 + 7) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0041a360 : PUSH EBP
0041a361 : MOV EBP,ESP
0041a363 : PUSH -0x1
0041a365 : PUSH 0xb7bad8
0041a36a : MOV EAX,FS:[0x0]
0041a370 : PUSH EAX
0041a371 : SUB ESP,0x50
0041a374 : PUSH EBX
0041a375 : PUSH ESI
0041a376 : PUSH EDI
0041a377 : MOV EAX,[0x00d66fa0]
0041a37c : XOR EAX,EBP
0041a37e : PUSH EAX
0041a37f : LEA EAX,[EBP + -0xc]
0041a382 : MOV FS:[0x0],EAX
0041a388 : MOV EAX,dword ptr [EBP + 0x10]
0041a38b : CMP byte ptr [EAX + 0x1d],0x0
0041a38f : JZ 0x0041a3cd
0041a391 : PUSH 0x1b
0041a393 : XOR ESI,ESI
0041a395 : PUSH 0xcca4a8
0041a39a : LEA ECX,[EBP + -0x30]
0041a39d : MOV dword ptr [EBP + -0x18],0xf
0041a3a4 : MOV dword ptr [EBP + -0x1c],ESI
0041a3a7 : MOV byte ptr [EBP + -0x2c],0x0
0041a3ab : CALL 0x00404b50
0041a3b0 : MOV dword ptr [EBP + -0x4],ESI
0041a3b3 : LEA EAX,[EBP + -0x30]
0041a3b6 : PUSH EAX
0041a3b7 : LEA ECX,[EBP + -0x58]
0041a3ba : CALL 0x00403c10
0041a3bf : PUSH 0xced890
0041a3c4 : LEA ECX,[EBP + -0x58]
0041a3c7 : PUSH ECX
0041a3c8 : CALL 0x006409eb
0041a3cd : MOV EBX,EAX
0041a3cf : LEA EDX,[EBP + 0x10]
0041a3d2 : MOV dword ptr [EBP + -0x14],EBX
0041a3d5 : CALL 0x004192a0
0041a3da : MOV ECX,dword ptr [EBX]
0041a3dc : CMP byte ptr [ECX + 0x1d],0x0
0041a3e0 : JZ 0x0041a3e7
0041a3e2 : MOV EDI,dword ptr [EBX + 0x8]
0041a3e5 : JMP 0x0041a405
0041a3e7 : MOV EDX,dword ptr [EBX + 0x8]
0041a3ea : CMP byte ptr [EDX + 0x1d],0x0
0041a3ee : JZ 0x0041a3f4
0041a3f0 : MOV EDI,ECX
0041a3f2 : JMP 0x0041a405
0041a3f4 : MOV EAX,dword ptr [EBP + 0x10]
0041a3f7 : MOV EDI,dword ptr [EAX + 0x8]
0041a3fa : LEA EDX,[EAX + 0x8]
0041a3fd : CMP EAX,EBX
0041a3ff : JNZ 0x0041a493
0041a405 : CMP byte ptr [EDI + 0x1d],0x0
0041a409 : MOV ESI,dword ptr [EBX + 0x4]
0041a40c : JNZ 0x0041a411
0041a40e : MOV dword ptr [EDI + 0x4],ESI
0041a411 : MOV EDX,dword ptr [EBP + 0x8]
0041a414 : MOV EAX,dword ptr [EDX + 0x4]
0041a417 : CMP dword ptr [EAX + 0x4],EBX
0041a41a : JNZ 0x0041a421
0041a41c : MOV dword ptr [EAX + 0x4],EDI
0041a41f : JMP 0x0041a42c
0041a421 : CMP dword ptr [ESI],EBX
0041a423 : JNZ 0x0041a429
0041a425 : MOV dword ptr [ESI],EDI
0041a427 : JMP 0x0041a42c
0041a429 : MOV dword ptr [ESI + 0x8],EDI
0041a42c : MOV EAX,dword ptr [EDX + 0x4]
0041a42f : CMP dword ptr [EAX],EBX
0041a431 : JNZ 0x0041a456
0041a433 : CMP byte ptr [EDI + 0x1d],0x0
0041a437 : JZ 0x0041a43d
0041a439 : MOV ECX,ESI
0041a43b : JMP 0x0041a451
0041a43d : MOV EAX,dword ptr [EDI]
0041a43f : CMP byte ptr [EAX + 0x1d],0x0
0041a443 : MOV ECX,EDI
0041a445 : JNZ 0x0041a451
0041a447 : MOV ECX,EAX
0041a449 : MOV EAX,dword ptr [ECX]
0041a44b : CMP byte ptr [EAX + 0x1d],0x0
0041a44f : JZ 0x0041a447
0041a451 : MOV EAX,dword ptr [EDX + 0x4]
0041a454 : MOV dword ptr [EAX],ECX
0041a456 : MOV EAX,dword ptr [EDX + 0x4]
0041a459 : CMP dword ptr [EAX + 0x8],EBX
0041a45c : JNZ 0x0041a4f5
0041a462 : CMP byte ptr [EDI + 0x1d],0x0
0041a466 : JZ 0x0041a472
0041a468 : MOV ECX,ESI
0041a46a : MOV dword ptr [EAX + 0x8],ECX
0041a46d : JMP 0x0041a4f5
0041a472 : MOV EAX,dword ptr [EDI + 0x8]
0041a475 : CMP byte ptr [EAX + 0x1d],0x0
0041a479 : MOV ECX,EDI
0041a47b : JNZ 0x0041a48b
0041a47d : LEA ECX,[ECX]
0041a480 : MOV ECX,EAX
0041a482 : MOV EAX,dword ptr [ECX + 0x8]
0041a485 : CMP byte ptr [EAX + 0x1d],0x0
0041a489 : JZ 0x0041a480
0041a48b : MOV EAX,dword ptr [EDX + 0x4]
0041a48e : MOV dword ptr [EAX + 0x8],ECX
0041a491 : JMP 0x0041a4f5
0041a493 : MOV dword ptr [ECX + 0x4],EAX
0041a496 : MOV ECX,dword ptr [EBX]
0041a498 : MOV dword ptr [EAX],ECX
0041a49a : CMP EAX,dword ptr [EBX + 0x8]
0041a49d : JNZ 0x0041a4a3
0041a49f : MOV ESI,EAX
0041a4a1 : JMP 0x0041a4bc
0041a4a3 : CMP byte ptr [EDI + 0x1d],0x0
0041a4a7 : MOV ESI,dword ptr [EAX + 0x4]
0041a4aa : JNZ 0x0041a4af
0041a4ac : MOV dword ptr [EDI + 0x4],ESI
0041a4af : MOV dword ptr [ESI],EDI
0041a4b1 : MOV ECX,dword ptr [EBX + 0x8]
0041a4b4 : MOV dword ptr [EDX],ECX
0041a4b6 : MOV EDX,dword ptr [EBX + 0x8]
0041a4b9 : MOV dword ptr [EDX + 0x4],EAX
0041a4bc : MOV ECX,dword ptr [EBP + 0x8]
0041a4bf : MOV ECX,dword ptr [ECX + 0x4]
0041a4c2 : CMP dword ptr [ECX + 0x4],EBX
0041a4c5 : JNZ 0x0041a4cc
0041a4c7 : MOV dword ptr [ECX + 0x4],EAX
0041a4ca : JMP 0x0041a4da
0041a4cc : MOV ECX,dword ptr [EBX + 0x4]
0041a4cf : CMP dword ptr [ECX],EBX
0041a4d1 : JNZ 0x0041a4d7
0041a4d3 : MOV dword ptr [ECX],EAX
0041a4d5 : JMP 0x0041a4da
0041a4d7 : MOV dword ptr [ECX + 0x8],EAX
0041a4da : MOV EDX,dword ptr [EBX + 0x4]
0041a4dd : MOV dword ptr [EAX + 0x4],EDX
0041a4e0 : LEA ECX,[EBX + 0x1c]
0041a4e3 : ADD EAX,0x1c
0041a4e6 : CMP EAX,ECX
0041a4e8 : JZ 0x0041a4f2
0041a4ea : MOV BL,byte ptr [ECX]
0041a4ec : MOV DL,byte ptr [EAX]
0041a4ee : MOV byte ptr [EAX],BL
0041a4f0 : MOV byte ptr [ECX],DL
0041a4f2 : MOV EDX,dword ptr [EBP + 0x8]
0041a4f5 : MOV EAX,dword ptr [EBP + -0x14]
0041a4f8 : MOV BL,0x1
0041a4fa : CMP byte ptr [EAX + 0x1c],BL
0041a4fd : JNZ 0x0041a603
0041a503 : MOV ECX,dword ptr [EDX + 0x4]
0041a506 : CMP EDI,dword ptr [ECX + 0x4]
0041a509 : JZ 0x0041a600
0041a50f : NOP
0041a510 : CMP byte ptr [EDI + 0x1c],BL
0041a513 : JNZ 0x0041a600
0041a519 : MOV ECX,dword ptr [ESI]
0041a51b : CMP EDI,ECX
0041a51d : JNZ 0x0041a588
0041a51f : MOV ECX,dword ptr [ESI + 0x8]
0041a522 : CMP byte ptr [ECX + 0x1c],0x0
0041a526 : JNZ 0x0041a53d
0041a528 : MOV byte ptr [ECX + 0x1c],BL
0041a52b : PUSH EDX
0041a52c : MOV ECX,ESI
0041a52e : MOV byte ptr [ESI + 0x1c],0x0
0041a532 : CALL 0x00409480
0041a537 : MOV ECX,dword ptr [ESI + 0x8]
0041a53a : MOV EDX,dword ptr [EBP + 0x8]
0041a53d : CMP byte ptr [ECX + 0x1d],0x0
0041a541 : JNZ 0x0041a5bb
0041a543 : MOV EAX,dword ptr [ECX]
0041a545 : CMP byte ptr [EAX + 0x1c],BL
0041a548 : JNZ 0x0041a552
0041a54a : MOV EAX,dword ptr [ECX + 0x8]
0041a54d : CMP byte ptr [EAX + 0x1c],BL
0041a550 : JZ 0x0041a5b7
0041a552 : MOV EAX,dword ptr [ECX + 0x8]
0041a555 : CMP byte ptr [EAX + 0x1c],BL
0041a558 : JNZ 0x0041a56f
0041a55a : MOV EAX,dword ptr [ECX]
0041a55c : MOV byte ptr [EAX + 0x1c],BL
0041a55f : PUSH EDX
0041a560 : MOV byte ptr [ECX + 0x1c],0x0
0041a564 : CALL 0x00464200
0041a569 : MOV ECX,dword ptr [ESI + 0x8]
0041a56c : MOV EDX,dword ptr [EBP + 0x8]
0041a56f : MOV AL,byte ptr [ESI + 0x1c]
0041a572 : MOV byte ptr [ECX + 0x1c],AL
0041a575 : MOV byte ptr [ESI + 0x1c],BL
0041a578 : MOV ECX,dword ptr [ECX + 0x8]
0041a57b : MOV byte ptr [ECX + 0x1c],BL
0041a57e : PUSH EDX
0041a57f : MOV ECX,ESI
0041a581 : CALL 0x00409480
0041a586 : JMP 0x0041a600
0041a588 : CMP byte ptr [ECX + 0x1c],0x0
0041a58c : JNZ 0x0041a5a2
0041a58e : MOV byte ptr [ECX + 0x1c],BL
0041a591 : PUSH EDX
0041a592 : MOV ECX,ESI
0041a594 : MOV byte ptr [ESI + 0x1c],0x0
0041a598 : CALL 0x00464200
0041a59d : MOV ECX,dword ptr [ESI]
0041a59f : MOV EDX,dword ptr [EBP + 0x8]
0041a5a2 : CMP byte ptr [ECX + 0x1d],0x0
0041a5a6 : JNZ 0x0041a5bb
0041a5a8 : MOV EAX,dword ptr [ECX + 0x8]
0041a5ab : CMP byte ptr [EAX + 0x1c],BL
0041a5ae : JNZ 0x0041a5ce
0041a5b0 : MOV EAX,dword ptr [ECX]
0041a5b2 : CMP byte ptr [EAX + 0x1c],BL
0041a5b5 : JNZ 0x0041a5ce
0041a5b7 : MOV byte ptr [ECX + 0x1c],0x0
0041a5bb : MOV ECX,dword ptr [EDX + 0x4]
0041a5be : MOV EDI,ESI
0041a5c0 : MOV ESI,dword ptr [ESI + 0x4]
0041a5c3 : CMP EDI,dword ptr [ECX + 0x4]
0041a5c6 : JNZ 0x0041a510
0041a5cc : JMP 0x0041a600
0041a5ce : MOV EAX,dword ptr [ECX]
0041a5d0 : CMP byte ptr [EAX + 0x1c],BL
0041a5d3 : JNZ 0x0041a5ea
0041a5d5 : MOV EAX,dword ptr [ECX + 0x8]
0041a5d8 : MOV byte ptr [EAX + 0x1c],BL
0041a5db : PUSH EDX
0041a5dc : MOV byte ptr [ECX + 0x1c],0x0
0041a5e0 : CALL 0x00409480
0041a5e5 : MOV ECX,dword ptr [ESI]
0041a5e7 : MOV EDX,dword ptr [EBP + 0x8]
0041a5ea : MOV AL,byte ptr [ESI + 0x1c]
0041a5ed : MOV byte ptr [ECX + 0x1c],AL
0041a5f0 : MOV byte ptr [ESI + 0x1c],BL
0041a5f3 : MOV ECX,dword ptr [ECX]
0041a5f5 : MOV byte ptr [ECX + 0x1c],BL
0041a5f8 : PUSH EDX
0041a5f9 : MOV ECX,ESI
0041a5fb : CALL 0x00464200
0041a600 : MOV byte ptr [EDI + 0x1c],BL
0041a603 : MOV ECX,dword ptr [EBP + -0x14]
0041a606 : CALL 0x006f04e0
