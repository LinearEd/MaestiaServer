PROGRAM  : Maestia.exe
FUNCTION : FUN_005e6170
ENTRY    : 005e6170
BODY     : [[005e6170, 005e61fd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005e6170(undefined4 param_1,undefined4 *param_2)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int *in_ECX;
  
  uVar2 = FUN_0051b370((*(uint *)*param_2 & 0xfffffffc) + 8,
                       *(uint *)(*(uint *)*param_2 & 0xfffffffc) & 0x7fffffff,0x1505);
  iVar1 = *in_ECX;
  if (iVar1 != 0) {
    iVar3 = FUN_005e5a70(param_2,*(uint *)(iVar1 + 4) & uVar2);
    if (-1 < iVar3) {
      iVar1 = iVar1 + 0x10 + iVar3 * 0x18;
      FUN_0051bc20(*param_2);
      iVar3 = param_2[1];
      FUN_0051bc20(iVar3);
      *(undefined4 *)(iVar1 + 8) = *(undefined4 *)(iVar3 + 4);
      *(undefined4 *)(iVar1 + 0xc) = *(undefined4 *)(iVar3 + 8);
      return;
    }
  }
  FUN_005e6030(param_1,param_2,uVar2);
  return;
}



============================================================
DISASSEMBLY
============================================================
005e6170 : PUSH EBX
005e6171 : PUSH EBP
005e6172 : PUSH ESI
005e6173 : PUSH EDI
005e6174 : MOV EDI,dword ptr [ESP + 0x18]
005e6178 : MOV EAX,dword ptr [EDI]
005e617a : MOV EAX,dword ptr [EAX]
005e617c : MOV EBX,ECX
005e617e : MOV ECX,EAX
005e6180 : AND ECX,0xfffffffc
005e6183 : MOV ECX,dword ptr [ECX]
005e6185 : PUSH 0x1505
005e618a : AND ECX,0x7fffffff
005e6190 : AND EAX,0xfffffffc
005e6193 : PUSH ECX
005e6194 : ADD EAX,0x8
005e6197 : PUSH EAX
005e6198 : CALL 0x0051b370
005e619d : MOV ESI,dword ptr [EBX]
005e619f : MOV EBP,EAX
005e61a1 : TEST ESI,ESI
005e61a3 : JZ 0x005e61e9
005e61a5 : MOV EDX,dword ptr [ESI + 0x4]
005e61a8 : AND EDX,EBP
005e61aa : PUSH EDX
005e61ab : PUSH EDI
005e61ac : MOV ECX,EBX
005e61ae : CALL 0x005e5a70
005e61b3 : TEST EAX,EAX
005e61b5 : JL 0x005e61e9
005e61b7 : MOV ECX,dword ptr [EDI]
005e61b9 : LEA EAX,[EAX + EAX*0x2]
005e61bc : LEA ESI,[ESI + EAX*0x8 + 0x10]
005e61c0 : PUSH ECX
005e61c1 : MOV ECX,ESI
005e61c3 : CALL 0x0051bc20
005e61c8 : MOV EDI,dword ptr [EDI + 0x4]
005e61cb : ADD ESI,0x4
005e61ce : PUSH EDI
005e61cf : MOV ECX,ESI
005e61d1 : CALL 0x0051bc20
005e61d6 : FLD float ptr [EDI + 0x4]
005e61d9 : FSTP float ptr [ESI + 0x4]
005e61dc : MOV EDX,dword ptr [EDI + 0x8]
005e61df : POP EDI
005e61e0 : MOV dword ptr [ESI + 0x8],EDX
005e61e3 : POP ESI
005e61e4 : POP EBP
005e61e5 : POP EBX
005e61e6 : RET 0x8
005e61e9 : MOV EAX,dword ptr [ESP + 0x14]
005e61ed : PUSH EBP
005e61ee : PUSH EDI
005e61ef : PUSH EAX
005e61f0 : MOV ECX,EBX
005e61f2 : CALL 0x005e6030
005e61f7 : POP EDI
005e61f8 : POP ESI
005e61f9 : POP EBP
005e61fa : POP EBX
005e61fb : RET 0x8
