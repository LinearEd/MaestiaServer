PROGRAM  : Maestia.exe
FUNCTION : FUN_005b41a0
ENTRY    : 005b41a0
BODY     : [[005b41a0, 005b4297]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x005b428d) */

undefined4 * FUN_005b41a0(undefined4 param_1)

{
  char cVar1;
  char *pcVar2;
  undefined4 uVar3;
  int iVar4;
  char *pcVar5;
  undefined4 *in_ECX;
  undefined **ppuVar6;
  float10 fVar7;
  int local_1c;
  int local_18;
  undefined4 *local_14;
  undefined1 local_10 [4];
  double local_c;
  
  uVar3 = param_1;
  local_14 = in_ECX;
  FUN_00568960(param_1,FUN_005b4040);
  iVar4 = 0;
  *in_ECX = &PTR_LAB_00b90140;
  in_ECX[4] = &PTR_LAB_00b90510;
  local_18 = 0;
  ppuVar6 = &PTR_s_MAX_VALUE_00b90094;
  do {
    param_1 = CONCAT31(param_1._1_3_,7);
    fVar7 = (float10)(**(code **)((int)&PTR_FUN_00b90098 + iVar4))();
    local_c = (double)fVar7;
    pcVar2 = *ppuVar6;
    local_10[0] = 3;
    pcVar5 = pcVar2;
    do {
      cVar1 = *pcVar5;
      pcVar5 = pcVar5 + 1;
    } while (cVar1 != '\0');
    local_1c = FUN_00525380(pcVar2,(int)pcVar5 - (int)(pcVar2 + 1),0);
    *(int *)(local_1c + 8) = *(int *)(local_1c + 8) + 1;
    (**(code **)(in_ECX[4] + 0x28))(uVar3,&local_1c,local_10,&param_1);
    *(int *)(local_1c + 8) = *(int *)(local_1c + 8) + -1;
    if (*(int *)(local_1c + 8) == 0) {
      FUN_00525340();
    }
    FUN_00526bc0();
    local_18 = local_18 + 1;
    iVar4 = local_18 * 8;
    ppuVar6 = &PTR_s_MAX_VALUE_00b90094 + local_18 * 2;
  } while ((&PTR_s_MAX_VALUE_00b90094)[local_18 * 2] != (undefined *)0x0);
  return local_14;
}



============================================================
DISASSEMBLY
============================================================
005b41a0 : SUB ESP,0x1c
005b41a3 : PUSH EBX
005b41a4 : MOV EBX,dword ptr [ESP + 0x24]
005b41a8 : PUSH EBP
005b41a9 : PUSH ESI
005b41aa : PUSH 0x5b4040
005b41af : MOV ESI,ECX
005b41b1 : PUSH EBX
005b41b2 : MOV dword ptr [ESP + 0x1c],ESI
005b41b6 : CALL 0x00568960
005b41bb : LEA EBP,[ESI + 0x10]
005b41be : XOR EAX,EAX
005b41c0 : MOV dword ptr [ESI],0xb90140
005b41c6 : MOV dword ptr [EBP],0xb90510
005b41cd : MOV dword ptr [ESP + 0x10],EAX
005b41d1 : CMP dword ptr [0x00b90094],EAX
005b41d7 : JZ 0x005b428d
005b41dd : MOV ESI,0xb90094
005b41e2 : PUSH EDI
005b41e3 : MOV EAX,dword ptr [EAX + 0xb90098]
005b41e9 : MOV byte ptr [ESP + 0x30],0x7
005b41ee : CALL EAX
005b41f0 : FSTP double ptr [ESP + 0x20]
005b41f4 : MOV ESI,dword ptr [ESI]
005b41f6 : MOV ECX,dword ptr [EBX]
005b41f8 : MOV EAX,ESI
005b41fa : MOV byte ptr [ESP + 0x1c],0x3
005b41ff : ADD ECX,0x8
005b4202 : LEA EDI,[EAX + 0x1]
005b4205 : MOV DL,byte ptr [EAX]
005b4207 : INC EAX
005b4208 : TEST DL,DL
005b420a : JNZ 0x005b4205
005b420c : PUSH 0x0
005b420e : SUB EAX,EDI
005b4210 : PUSH EAX
005b4211 : PUSH ESI
005b4212 : ADD ECX,0x24c
005b4218 : CALL 0x00525380
005b421d : MOV dword ptr [ESP + 0x10],EAX
005b4221 : INC dword ptr [EAX + 0x8]
005b4224 : MOV EDX,dword ptr [EBP]
005b4227 : MOV EDX,dword ptr [EDX + 0x28]
005b422a : LEA EAX,[ESP + 0x30]
005b422e : PUSH EAX
005b422f : LEA ECX,[ESP + 0x20]
005b4233 : PUSH ECX
005b4234 : LEA EAX,[ESP + 0x18]
005b4238 : PUSH EAX
005b4239 : PUSH EBX
005b423a : MOV ECX,EBP
005b423c : CALL EDX
005b423e : MOV EAX,dword ptr [ESP + 0x10]
005b4242 : DEC dword ptr [EAX + 0x8]
005b4245 : MOV ECX,EAX
005b4247 : ADD EAX,0x8
005b424a : CMP dword ptr [EAX],0x0
005b424d : JNZ 0x005b4254
005b424f : CALL 0x00525340
005b4254 : LEA ECX,[ESP + 0x1c]
005b4258 : CALL 0x00526bc0
005b425d : MOV EAX,dword ptr [ESP + 0x14]
005b4261 : INC EAX
005b4262 : MOV dword ptr [ESP + 0x14],EAX
005b4266 : ADD EAX,EAX
005b4268 : ADD EAX,EAX
005b426a : ADD EAX,EAX
005b426c : CMP dword ptr [EAX + 0xb90094],0x0
005b4273 : LEA ESI,[EAX + 0xb90094]
005b4279 : JNZ 0x005b41e3
005b427f : MOV EAX,dword ptr [ESP + 0x18]
005b4283 : POP EDI
005b4284 : POP ESI
005b4285 : POP EBP
005b4286 : POP EBX
005b4287 : ADD ESP,0x1c
005b428a : RET 0x4
005b428d : MOV EAX,ESI
005b428f : POP ESI
005b4290 : POP EBP
005b4291 : POP EBX
005b4292 : ADD ESP,0x1c
005b4295 : RET 0x4
