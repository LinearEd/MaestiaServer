PROGRAM  : Maestia.exe
FUNCTION : FUN_009808b0
ENTRY    : 009808b0
BODY     : [[009808b0, 009809d2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009808b0(void)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int *piVar5;
  undefined4 *puVar6;
  int unaff_EDI;
  float fVar7;
  
  puVar6 = *(undefined4 **)(unaff_EDI + 0x138);
  if (puVar6 != *(undefined4 **)(unaff_EDI + 0x13c)) {
    do {
      fVar7 = 462.0;
      FUN_009802e0(unaff_EDI);
      fVar1 = (float)puVar6[1];
      fVar2 = *(float *)(unaff_EDI + 0x40);
      fVar3 = *(float *)(unaff_EDI + 0x44);
      fVar4 = (float)puVar6[3];
      if ((*DAT_00da9894 != 0) && (piVar5 = *(int **)(*DAT_00da9894 + 0x114), piVar5 != (int *)0x0))
      {
        (**(code **)(*piVar5 + 4))(piVar5,"MinimapSetMovePoint",&DAT_00c801e0,0,0,0,0);
      }
      if (((*(short *)(unaff_EDI + 0x6e) == *(short *)(unaff_EDI + 0x6c)) && (*DAT_00da9894 != 0))
         && (piVar5 = *(int **)(*DAT_00da9894 + 0x114), piVar5 != (int *)0x0)) {
        (**(code **)(*piVar5 + 4))
                  (piVar5,"zonemap.SetLargeMapMoveAddPoint","%f%f%d",
                   (double)(int)((fVar1 / fVar2) * fVar7),
                   (double)(int)(((fVar3 - fVar4) / fVar3) * fVar7),*puVar6);
      }
      puVar6 = puVar6 + 4;
    } while (puVar6 != *(undefined4 **)(unaff_EDI + 0x13c));
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009808b0 : PUSH EBP
009808b1 : MOV EBP,ESP
009808b3 : SUB ESP,0x10
009808b6 : PUSH EBX
009808b7 : PUSH ESI
009808b8 : MOV ESI,dword ptr [EDI + 0x138]
009808be : CMP ESI,dword ptr [EDI + 0x13c]
009808c4 : JZ 0x009809cd
009808ca : LEA EBX,[EBX]
009808d0 : MOVSS XMM1,dword ptr [0x00cdf34c]
009808d8 : XOR EAX,EAX
009808da : PUSH EDI
009808db : LEA ECX,[EBP + -0x8]
009808de : LEA EDX,[EDI + 0xc8]
009808e4 : MOV dword ptr [EBP + -0x4],EAX
009808e7 : MOV dword ptr [EBP + -0x8],EAX
009808ea : CALL 0x009802e0
009808ef : MOVSS XMM0,dword ptr [ESI + 0x4]
009808f4 : DIVSS XMM0,dword ptr [EDI + 0x40]
009808f9 : MOV ECX,dword ptr [0x00da9894]
009808ff : MULSS XMM0,XMM1
00980903 : CVTTSS2SI EBX,XMM0
00980907 : MOVSS XMM0,dword ptr [EDI + 0x44]
0098090c : MOVAPS XMM2,XMM0
0098090f : SUBSS XMM2,dword ptr [ESI + 0xc]
00980914 : DIVSS XMM2,XMM0
00980918 : MULSS XMM2,XMM1
0098091c : CVTTSS2SI EAX,XMM2
00980920 : MOV dword ptr [EBP + -0xc],EAX
00980923 : MOV EAX,dword ptr [ECX]
00980925 : TEST EAX,EAX
00980927 : JZ 0x00980967
00980929 : MOV EAX,dword ptr [EAX + 0x114]
0098092f : TEST EAX,EAX
00980931 : JZ 0x00980967
00980933 : CVTSI2SS XMM0,dword ptr [EBP + -0x4]
00980938 : MOV EDX,dword ptr [EAX]
0098093a : SUB ESP,0x10
0098093d : CVTPS2PD XMM0,XMM0
00980940 : MOVSD qword ptr [ESP + 0x8],XMM0
00980946 : CVTSI2SS XMM0,dword ptr [EBP + -0x8]
0098094b : CVTSS2SD XMM0,XMM0
0098094f : MOVSD qword ptr [ESP],XMM0
00980954 : PUSH 0xc801e0
00980959 : PUSH 0xc801e8
0098095e : PUSH EAX
0098095f : MOV EAX,dword ptr [EDX + 0x4]
00980962 : CALL EAX
00980964 : ADD ESP,0x1c
00980967 : MOV CX,word ptr [EDI + 0x6e]
0098096b : CMP CX,word ptr [EDI + 0x6c]
0098096f : JNZ 0x009809be
00980971 : MOV EDX,dword ptr [0x00da9894]
00980977 : MOV EAX,dword ptr [EDX]
00980979 : TEST EAX,EAX
0098097b : JZ 0x009809be
0098097d : MOV EAX,dword ptr [EAX + 0x114]
00980983 : TEST EAX,EAX
00980985 : JZ 0x009809be
00980987 : MOV EDX,dword ptr [ESI]
00980989 : CVTSI2SS XMM0,dword ptr [EBP + -0xc]
0098098e : MOV ECX,dword ptr [EAX]
00980990 : PUSH EDX
00980991 : SUB ESP,0x10
00980994 : CVTSS2SD XMM0,XMM0
00980998 : MOVSD qword ptr [ESP + 0x8],XMM0
0098099e : CVTSI2SS XMM0,EBX
009809a2 : CVTSS2SD XMM0,XMM0
009809a6 : MOVSD qword ptr [ESP],XMM0
009809ab : PUSH 0xc801fc
009809b0 : PUSH 0xc80204
009809b5 : PUSH EAX
009809b6 : MOV EAX,dword ptr [ECX + 0x4]
009809b9 : CALL EAX
009809bb : ADD ESP,0x20
009809be : ADD ESI,0x10
009809c1 : CMP ESI,dword ptr [EDI + 0x13c]
009809c7 : JNZ 0x009808d0
009809cd : POP ESI
009809ce : POP EBX
009809cf : MOV ESP,EBP
009809d1 : POP EBP
009809d2 : RET
