PROGRAM  : Maestia.exe
FUNCTION : FUN_004c2910
ENTRY    : 004c2910
BODY     : [[004c2910, 004c2b26]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004c2910(int param_1,int param_2,undefined4 param_3,code *param_4,int *param_5,int param_6)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  
  iVar1 = param_1;
  while( true ) {
    iVar6 = param_1 * 2 + 2;
    if (param_2 <= iVar6) break;
    uVar2 = iVar6 + param_6;
    uVar5 = uVar2 - 1 >> 2;
    if (param_5 == (int *)0x0) {
      iVar3 = 0;
    }
    else {
      iVar3 = *param_5;
    }
    if (*(uint *)(iVar3 + 0x14) <= uVar5) {
      if (param_5 == (int *)0x0) {
        iVar3 = 0;
      }
      else {
        iVar3 = *param_5;
      }
      uVar5 = uVar5 - *(int *)(iVar3 + 0x14);
    }
    if (param_5 == (int *)0x0) {
      iVar3 = 0;
    }
    else {
      iVar3 = *param_5;
    }
    uVar4 = uVar2 >> 2;
    if (param_5 == (int *)0x0) {
      iVar7 = 0;
    }
    else {
      iVar7 = *param_5;
    }
    if (*(uint *)(iVar7 + 0x14) <= uVar4) {
      if (param_5 == (int *)0x0) {
        iVar7 = 0;
      }
      else {
        iVar7 = *param_5;
      }
      uVar4 = uVar4 - *(int *)(iVar7 + 0x14);
    }
    if (param_5 == (int *)0x0) {
      iVar7 = 0;
    }
    else {
      iVar7 = *param_5;
    }
    iVar3 = (*param_4)(*(undefined4 *)
                        (*(int *)(*(int *)(iVar7 + 0x10) + uVar4 * 4) + (uVar2 & 3) * 4),
                       *(undefined4 *)
                        (*(int *)(*(int *)(iVar3 + 0x10) + uVar5 * 4) + (uVar2 - 1 & 3) * 4));
    if (iVar3 != 0) {
      iVar6 = param_1 * 2 + 1;
    }
    uVar2 = (uint)(param_6 + iVar6) >> 2;
    if (param_5 == (int *)0x0) {
      iVar3 = 0;
    }
    else {
      iVar3 = *param_5;
    }
    if (*(uint *)(iVar3 + 0x14) <= uVar2) {
      if (param_5 == (int *)0x0) {
        iVar3 = 0;
      }
      else {
        iVar3 = *param_5;
      }
      uVar2 = uVar2 - *(int *)(iVar3 + 0x14);
    }
    if (param_5 == (int *)0x0) {
      iVar3 = 0;
    }
    else {
      iVar3 = *param_5;
    }
    uVar5 = (uint)(param_1 + param_6) >> 2;
    if (param_5 == (int *)0x0) {
      iVar7 = 0;
    }
    else {
      iVar7 = *param_5;
    }
    if (*(uint *)(iVar7 + 0x14) <= uVar5) {
      if (param_5 == (int *)0x0) {
        iVar7 = 0;
      }
      else {
        iVar7 = *param_5;
      }
      uVar5 = uVar5 - *(int *)(iVar7 + 0x14);
    }
    if (param_5 == (int *)0x0) {
      iVar7 = 0;
    }
    else {
      iVar7 = *param_5;
    }
    *(undefined4 *)(*(int *)(*(int *)(iVar7 + 0x10) + uVar5 * 4) + (param_1 + param_6 & 3U) * 4) =
         *(undefined4 *)(*(int *)(*(int *)(iVar3 + 0x10) + uVar2 * 4) + (param_6 + iVar6 & 3U) * 4);
    param_1 = iVar6;
  }
  if (iVar6 == param_2) {
    uVar2 = param_6 + -1 + param_2;
    uVar5 = uVar2 >> 2;
    if (param_5 == (int *)0x0) {
      iVar6 = 0;
    }
    else {
      iVar6 = *param_5;
    }
    if (*(uint *)(iVar6 + 0x14) <= uVar5) {
      if (param_5 == (int *)0x0) {
        iVar6 = 0;
      }
      else {
        iVar6 = *param_5;
      }
      uVar5 = uVar5 - *(int *)(iVar6 + 0x14);
    }
    if (param_5 == (int *)0x0) {
      iVar6 = 0;
    }
    else {
      iVar6 = *param_5;
    }
    uVar4 = (uint)(param_1 + param_6) >> 2;
    if (param_5 == (int *)0x0) {
      iVar3 = 0;
    }
    else {
      iVar3 = *param_5;
    }
    if (*(uint *)(iVar3 + 0x14) <= uVar4) {
      if (param_5 == (int *)0x0) {
        iVar3 = 0;
      }
      else {
        iVar3 = *param_5;
      }
      uVar4 = uVar4 - *(int *)(iVar3 + 0x14);
    }
    if (param_5 == (int *)0x0) {
      iVar3 = 0;
    }
    else {
      iVar3 = *param_5;
    }
    *(undefined4 *)(*(int *)(*(int *)(iVar3 + 0x10) + uVar4 * 4) + (param_1 + param_6 & 3U) * 4) =
         *(undefined4 *)(*(int *)(*(int *)(iVar6 + 0x10) + uVar5 * 4) + (uVar2 & 3) * 4);
    param_1 = param_2 + -1;
  }
  FUN_004c2bb0(param_1,iVar1,param_3,param_4,param_5,param_6);
  return;
}



============================================================
DISASSEMBLY
============================================================
004c2910 : PUSH EBP
004c2911 : MOV EBP,ESP
004c2913 : SUB ESP,0x14
004c2916 : MOV EAX,dword ptr [EBP + 0x8]
004c2919 : MOV ECX,dword ptr [EBP + 0xc]
004c291c : PUSH EBX
004c291d : MOV dword ptr [EBP + -0x10],EAX
004c2920 : LEA EAX,[EAX + EAX*0x1 + 0x2]
004c2924 : CMP EAX,ECX
004c2926 : PUSH ESI
004c2927 : PUSH EDI
004c2928 : MOV dword ptr [EBP + -0x4],EAX
004c292b : JGE 0x004c2a6a
004c2931 : MOV EDI,dword ptr [EBP + 0x1c]
004c2934 : MOV EBX,dword ptr [EBP + 0x18]
004c2937 : ADD EAX,EDI
004c2939 : LEA ECX,[EAX + -0x1]
004c293c : MOV EDX,ECX
004c293e : MOV ESI,EBX
004c2940 : AND ECX,0x3
004c2943 : SHR EDX,0x2
004c2946 : MOV dword ptr [EBP + -0x8],EDI
004c2949 : MOV dword ptr [EBP + -0x8],ECX
004c294c : TEST ESI,ESI
004c294e : JZ 0x004c2954
004c2950 : MOV ECX,dword ptr [ESI]
004c2952 : JMP 0x004c2956
004c2954 : XOR ECX,ECX
004c2956 : CMP dword ptr [ECX + 0x14],EDX
004c2959 : JA 0x004c2968
004c295b : TEST ESI,ESI
004c295d : JZ 0x004c2963
004c295f : MOV ECX,dword ptr [ESI]
004c2961 : JMP 0x004c2965
004c2963 : XOR ECX,ECX
004c2965 : SUB EDX,dword ptr [ECX + 0x14]
004c2968 : TEST ESI,ESI
004c296a : JZ 0x004c2970
004c296c : MOV ESI,dword ptr [ESI]
004c296e : JMP 0x004c2972
004c2970 : XOR ESI,ESI
004c2972 : MOV ECX,dword ptr [ESI + 0x10]
004c2975 : MOV EDX,dword ptr [ECX + EDX*0x4]
004c2978 : MOV ECX,dword ptr [EBP + -0x8]
004c297b : LEA ESI,[EDX + ECX*0x4]
004c297e : MOV ECX,EAX
004c2980 : MOV EDX,EBX
004c2982 : SHR ECX,0x2
004c2985 : AND EAX,0x3
004c2988 : MOV dword ptr [EBP + -0x8],EDI
004c298b : TEST EDX,EDX
004c298d : JZ 0x004c2993
004c298f : MOV EDI,dword ptr [EDX]
004c2991 : JMP 0x004c2995
004c2993 : XOR EDI,EDI
004c2995 : CMP dword ptr [EDI + 0x14],ECX
004c2998 : JA 0x004c29a7
004c299a : TEST EDX,EDX
004c299c : JZ 0x004c29a2
004c299e : MOV EDI,dword ptr [EDX]
004c29a0 : JMP 0x004c29a4
004c29a2 : XOR EDI,EDI
004c29a4 : SUB ECX,dword ptr [EDI + 0x14]
004c29a7 : TEST EDX,EDX
004c29a9 : JZ 0x004c29af
004c29ab : MOV EDX,dword ptr [EDX]
004c29ad : JMP 0x004c29b1
004c29af : XOR EDX,EDX
004c29b1 : MOV EDX,dword ptr [EDX + 0x10]
004c29b4 : MOV ECX,dword ptr [EDX + ECX*0x4]
004c29b7 : MOV EDX,dword ptr [ESI]
004c29b9 : LEA EAX,[ECX + EAX*0x4]
004c29bc : MOV EAX,dword ptr [EAX]
004c29be : PUSH EDX
004c29bf : PUSH EAX
004c29c0 : CALL dword ptr [EBP + 0x14]
004c29c3 : MOV EBX,dword ptr [EBP + -0x4]
004c29c6 : ADD ESP,0x8
004c29c9 : TEST EAX,EAX
004c29cb : JZ 0x004c29ce
004c29cd : DEC EBX
004c29ce : MOV EDX,dword ptr [EBP + 0x1c]
004c29d1 : MOV ESI,dword ptr [EBP + 0x18]
004c29d4 : LEA EAX,[EDX + EBX*0x1]
004c29d7 : MOV ECX,EAX
004c29d9 : SHR ECX,0x2
004c29dc : AND EAX,0x3
004c29df : MOV dword ptr [EBP + -0x8],EDX
004c29e2 : TEST ESI,ESI
004c29e4 : JZ 0x004c29ea
004c29e6 : MOV EDI,dword ptr [ESI]
004c29e8 : JMP 0x004c29ec
004c29ea : XOR EDI,EDI
004c29ec : CMP dword ptr [EDI + 0x14],ECX
004c29ef : JA 0x004c29fe
004c29f1 : TEST ESI,ESI
004c29f3 : JZ 0x004c29f9
004c29f5 : MOV EDI,dword ptr [ESI]
004c29f7 : JMP 0x004c29fb
004c29f9 : XOR EDI,EDI
004c29fb : SUB ECX,dword ptr [EDI + 0x14]
004c29fe : TEST ESI,ESI
004c2a00 : JZ 0x004c2a06
004c2a02 : MOV EDI,dword ptr [ESI]
004c2a04 : JMP 0x004c2a08
004c2a06 : XOR EDI,EDI
004c2a08 : MOV EDI,dword ptr [EDI + 0x10]
004c2a0b : MOV ECX,dword ptr [EDI + ECX*0x4]
004c2a0e : LEA EDI,[ECX + EAX*0x4]
004c2a11 : MOV EAX,dword ptr [EBP + 0x8]
004c2a14 : ADD EAX,EDX
004c2a16 : MOV ECX,EAX
004c2a18 : SHR ECX,0x2
004c2a1b : AND EAX,0x3
004c2a1e : MOV dword ptr [EBP + -0x8],EDX
004c2a21 : TEST ESI,ESI
004c2a23 : JZ 0x004c2a29
004c2a25 : MOV EDX,dword ptr [ESI]
004c2a27 : JMP 0x004c2a2b
004c2a29 : XOR EDX,EDX
004c2a2b : CMP dword ptr [EDX + 0x14],ECX
004c2a2e : JA 0x004c2a3d
004c2a30 : TEST ESI,ESI
004c2a32 : JZ 0x004c2a38
004c2a34 : MOV EDX,dword ptr [ESI]
004c2a36 : JMP 0x004c2a3a
004c2a38 : XOR EDX,EDX
004c2a3a : SUB ECX,dword ptr [EDX + 0x14]
004c2a3d : TEST ESI,ESI
004c2a3f : JZ 0x004c2a45
004c2a41 : MOV ESI,dword ptr [ESI]
004c2a43 : JMP 0x004c2a47
004c2a45 : XOR ESI,ESI
004c2a47 : MOV EDX,dword ptr [ESI + 0x10]
004c2a4a : MOV ECX,dword ptr [EDX + ECX*0x4]
004c2a4d : MOV EDX,dword ptr [EDI]
004c2a4f : MOV dword ptr [ECX + EAX*0x4],EDX
004c2a52 : LEA EAX,[EBX + EBX*0x1 + 0x2]
004c2a56 : CMP EAX,dword ptr [EBP + 0xc]
004c2a59 : MOV dword ptr [EBP + 0x8],EBX
004c2a5c : MOV dword ptr [EBP + -0x4],EAX
004c2a5f : JL 0x004c2931
004c2a65 : MOV ECX,dword ptr [EBP + 0xc]
004c2a68 : CMP EAX,ECX
004c2a6a : JNZ 0x004c2b00
004c2a70 : MOV EDX,dword ptr [EBP + 0x1c]
004c2a73 : MOV EDI,dword ptr [EBP + 0x18]
004c2a76 : LEA EAX,[EDX + ECX*0x1 + -0x1]
004c2a7a : MOV ECX,EAX
004c2a7c : MOV ESI,EDI
004c2a7e : SHR ECX,0x2
004c2a81 : AND EAX,0x3
004c2a84 : MOV dword ptr [EBP + -0x8],EDX
004c2a87 : TEST ESI,ESI
004c2a89 : JZ 0x004c2a8f
004c2a8b : MOV EBX,dword ptr [ESI]
004c2a8d : JMP 0x004c2a91
004c2a8f : XOR EBX,EBX
004c2a91 : CMP dword ptr [EBX + 0x14],ECX
004c2a94 : JA 0x004c2aa3
004c2a96 : TEST ESI,ESI
004c2a98 : JZ 0x004c2a9e
004c2a9a : MOV EBX,dword ptr [ESI]
004c2a9c : JMP 0x004c2aa0
004c2a9e : XOR EBX,EBX
004c2aa0 : SUB ECX,dword ptr [EBX + 0x14]
004c2aa3 : TEST ESI,ESI
004c2aa5 : JZ 0x004c2aab
004c2aa7 : MOV ESI,dword ptr [ESI]
004c2aa9 : JMP 0x004c2aad
004c2aab : XOR ESI,ESI
004c2aad : MOV ESI,dword ptr [ESI + 0x10]
004c2ab0 : MOV ECX,dword ptr [ESI + ECX*0x4]
004c2ab3 : LEA EBX,[ECX + EAX*0x4]
004c2ab6 : MOV EAX,dword ptr [EBP + 0x8]
004c2ab9 : ADD EAX,EDX
004c2abb : MOV ECX,EAX
004c2abd : MOV ESI,EDI
004c2abf : SHR ECX,0x2
004c2ac2 : AND EAX,0x3
004c2ac5 : MOV dword ptr [EBP + -0x8],EDX
004c2ac8 : TEST ESI,ESI
004c2aca : JZ 0x004c2ad0
004c2acc : MOV EDX,dword ptr [ESI]
004c2ace : JMP 0x004c2ad2
004c2ad0 : XOR EDX,EDX
004c2ad2 : CMP dword ptr [EDX + 0x14],ECX
004c2ad5 : JA 0x004c2ae4
004c2ad7 : TEST ESI,ESI
004c2ad9 : JZ 0x004c2adf
004c2adb : MOV EDX,dword ptr [ESI]
004c2add : JMP 0x004c2ae1
004c2adf : XOR EDX,EDX
004c2ae1 : SUB ECX,dword ptr [EDX + 0x14]
004c2ae4 : TEST ESI,ESI
004c2ae6 : JZ 0x004c2aec
004c2ae8 : MOV ESI,dword ptr [ESI]
004c2aea : JMP 0x004c2aee
004c2aec : XOR ESI,ESI
004c2aee : MOV EDX,dword ptr [ESI + 0x10]
004c2af1 : MOV ECX,dword ptr [EDX + ECX*0x4]
004c2af4 : MOV EDX,dword ptr [EBX]
004c2af6 : MOV dword ptr [ECX + EAX*0x4],EDX
004c2af9 : MOV EAX,dword ptr [EBP + 0xc]
004c2afc : DEC EAX
004c2afd : MOV dword ptr [EBP + 0x8],EAX
004c2b00 : MOV ECX,dword ptr [EBP + 0x1c]
004c2b03 : MOV EDX,dword ptr [EBP + 0x18]
004c2b06 : MOV EAX,dword ptr [EBP + 0x14]
004c2b09 : PUSH ECX
004c2b0a : MOV ECX,dword ptr [EBP + 0x10]
004c2b0d : PUSH EDX
004c2b0e : MOV EDX,dword ptr [EBP + -0x10]
004c2b11 : PUSH EAX
004c2b12 : MOV EAX,dword ptr [EBP + 0x8]
004c2b15 : PUSH ECX
004c2b16 : PUSH EDX
004c2b17 : PUSH EAX
004c2b18 : CALL 0x004c2bb0
004c2b1d : ADD ESP,0x18
004c2b20 : POP EDI
004c2b21 : POP ESI
004c2b22 : POP EBX
004c2b23 : MOV ESP,EBP
004c2b25 : POP EBP
004c2b26 : RET
