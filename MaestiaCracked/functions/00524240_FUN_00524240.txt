PROGRAM  : Maestia.exe
FUNCTION : FUN_00524240
ENTRY    : 00524240
BODY     : [[00524240, 00524275]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00524240(void)

{
  LONG LVar1;
  undefined4 *in_ECX;
  
  LVar1 = InterlockedExchangeAdd(in_ECX + 1,-1);
  if (LVar1 == 1) {
    if ((int *)in_ECX[2] != (int *)0x0) {
      (**(code **)(*(int *)in_ECX[2] + 4))();
      in_ECX[2] = 0;
    }
    (**(code **)*in_ECX)(1);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00524240 : PUSH ESI
00524241 : MOV ESI,ECX
00524243 : PUSH -0x1
00524245 : LEA EAX,[ESI + 0x4]
00524248 : PUSH EAX
00524249 : CALL dword ptr [0x00b851cc]
0052424f : SUB EAX,0x1
00524252 : JNZ 0x00524274
00524254 : MOV ECX,dword ptr [ESI + 0x8]
00524257 : TEST ECX,ECX
00524259 : JZ 0x0052426a
0052425b : MOV EDX,dword ptr [ECX]
0052425d : MOV EAX,dword ptr [EDX + 0x4]
00524260 : PUSH ESI
00524261 : CALL EAX
00524263 : MOV dword ptr [ESI + 0x8],0x0
0052426a : MOV EDX,dword ptr [ESI]
0052426c : MOV EAX,dword ptr [EDX]
0052426e : PUSH 0x1
00524270 : MOV ECX,ESI
00524272 : CALL EAX
00524274 : POP ESI
00524275 : RET
