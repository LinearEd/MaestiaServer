PROGRAM  : Maestia.exe
FUNCTION : FUN_006d88d0
ENTRY    : 006d88d0
BODY     : [[006d88d0, 006d89f2]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006d88d0(int *param_1,int param_2,uint param_3)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  uint uVar5;
  int iVar6;
  
  iVar1 = param_1[1];
  if (0x3b9ac9f0 < param_3) {
    FUN_006d88b0(1);
  }
  if ((param_3 & 7) != 0) {
    param_3 = param_3 + (8 - (param_3 & 7));
  }
  if ((param_2 < 0) || (1 < param_2)) {
    *(undefined4 *)(*param_1 + 0x14) = 0xe;
    *(int *)(*param_1 + 0x18) = param_2;
    (**(code **)*param_1)(param_1);
  }
  puVar3 = *(undefined4 **)(iVar1 + 0x34 + param_2 * 4);
  puVar2 = (undefined4 *)0x0;
  while (puVar4 = puVar3, puVar4 != (undefined4 *)0x0) {
    if (param_3 <= (uint)puVar4[2]) goto LAB_006d89dd;
    puVar2 = puVar4;
    puVar3 = (undefined4 *)*puVar4;
  }
  iVar6 = param_3 + 0x10;
  if (puVar2 == (undefined4 *)0x0) {
    uVar5 = *(uint *)(&DAT_00bf1550 + param_2 * 4);
  }
  else {
    uVar5 = *(uint *)(&DAT_00bf1558 + param_2 * 4);
  }
  if (1000000000U - iVar6 < uVar5) {
    uVar5 = 1000000000U - iVar6;
  }
  puVar4 = (undefined4 *)FUN_006df300(param_1,uVar5 + iVar6);
  while (puVar4 == (undefined4 *)0x0) {
    uVar5 = uVar5 >> 1;
    if (uVar5 < 0x32) {
      FUN_006d88b0(2);
    }
    puVar4 = (undefined4 *)FUN_006df300(param_1,uVar5 + iVar6);
  }
  *(int *)(iVar1 + 0x4c) = *(int *)(iVar1 + 0x4c) + uVar5 + iVar6;
  *puVar4 = 0;
  puVar4[1] = 0;
  puVar4[2] = uVar5 + param_3;
  if (puVar2 == (undefined4 *)0x0) {
    *(undefined4 **)(iVar1 + 0x34 + param_2 * 4) = puVar4;
  }
  else {
    *puVar2 = puVar4;
  }
LAB_006d89dd:
  iVar1 = puVar4[1];
  puVar4[2] = puVar4[2] - param_3;
  puVar4[1] = iVar1 + param_3;
  return iVar1 + 0x10 + (int)puVar4;
}



============================================================
DISASSEMBLY
============================================================
006d88d0 : PUSH EBX
006d88d1 : MOV EBX,dword ptr [ESP + 0x8]
006d88d5 : MOV EAX,dword ptr [EBX + 0x4]
006d88d8 : PUSH EBP
006d88d9 : PUSH ESI
006d88da : PUSH EDI
006d88db : MOV EDI,dword ptr [ESP + 0x1c]
006d88df : MOV dword ptr [ESP + 0x14],EAX
006d88e3 : CMP EDI,0x3b9ac9f0
006d88e9 : JBE 0x006d88f7
006d88eb : PUSH 0x1
006d88ed : MOV EAX,EBX
006d88ef : CALL 0x006d88b0
006d88f4 : ADD ESP,0x4
006d88f7 : MOV EAX,EDI
006d88f9 : AND EAX,0x7
006d88fc : JBE 0x006d890b
006d88fe : MOV ECX,0x8
006d8903 : SUB ECX,EAX
006d8905 : ADD EDI,ECX
006d8907 : MOV dword ptr [ESP + 0x1c],EDI
006d890b : MOV ESI,dword ptr [ESP + 0x18]
006d890f : TEST ESI,ESI
006d8911 : JL 0x006d8918
006d8913 : CMP ESI,0x2
006d8916 : JL 0x006d8930
006d8918 : MOV EDX,dword ptr [EBX]
006d891a : MOV dword ptr [EDX + 0x14],0xe
006d8921 : MOV EAX,dword ptr [EBX]
006d8923 : MOV dword ptr [EAX + 0x18],ESI
006d8926 : MOV ECX,dword ptr [EBX]
006d8928 : MOV EDX,dword ptr [ECX]
006d892a : PUSH EBX
006d892b : CALL EDX
006d892d : ADD ESP,0x4
006d8930 : MOV EAX,dword ptr [ESP + 0x14]
006d8934 : MOV EAX,dword ptr [EAX + ESI*0x4 + 0x34]
006d8938 : XOR EBP,EBP
006d893a : TEST EAX,EAX
006d893c : JZ 0x006d8951
006d893e : MOV EDI,EDI
006d8940 : CMP dword ptr [EAX + 0x8],EDI
006d8943 : JNC 0x006d89dd
006d8949 : MOV EBP,EAX
006d894b : MOV EAX,dword ptr [EAX]
006d894d : TEST EAX,EAX
006d894f : JNZ 0x006d8940
006d8951 : ADD EDI,0x10
006d8954 : TEST EBP,EBP
006d8956 : JNZ 0x006d8961
006d8958 : MOV ESI,dword ptr [ESI*0x4 + 0xbf1550]
006d895f : JMP 0x006d8968
006d8961 : MOV ESI,dword ptr [ESI*0x4 + 0xbf1558]
006d8968 : MOV EAX,0x3b9aca00
006d896d : SUB EAX,EDI
006d896f : CMP ESI,EAX
006d8971 : JBE 0x006d8975
006d8973 : MOV ESI,EAX
006d8975 : LEA ECX,[ESI + EDI*0x1]
006d8978 : PUSH ECX
006d8979 : PUSH EBX
006d897a : CALL 0x006df300
006d897f : ADD ESP,0x8
006d8982 : TEST EAX,EAX
006d8984 : JNZ 0x006d89aa
006d8986 : SHR ESI,0x1
006d8988 : CMP ESI,0x32
006d898b : JNC 0x006d8999
006d898d : PUSH 0x2
006d898f : MOV EAX,EBX
006d8991 : CALL 0x006d88b0
006d8996 : ADD ESP,0x4
006d8999 : LEA EDX,[ESI + EDI*0x1]
006d899c : PUSH EDX
006d899d : PUSH EBX
006d899e : CALL 0x006df300
006d89a3 : ADD ESP,0x8
006d89a6 : TEST EAX,EAX
006d89a8 : JZ 0x006d8986
006d89aa : MOV ECX,dword ptr [ESP + 0x14]
006d89ae : LEA EDX,[ESI + EDI*0x1]
006d89b1 : ADD dword ptr [ECX + 0x4c],EDX
006d89b4 : MOV EDX,dword ptr [ESP + 0x1c]
006d89b8 : ADD ESI,EDX
006d89ba : MOV dword ptr [EAX],0x0
006d89c0 : MOV dword ptr [EAX + 0x4],0x0
006d89c7 : MOV dword ptr [EAX + 0x8],ESI
006d89ca : MOV EDI,EDX
006d89cc : TEST EBP,EBP
006d89ce : JNZ 0x006d89da
006d89d0 : MOV EDX,dword ptr [ESP + 0x18]
006d89d4 : MOV dword ptr [ECX + EDX*0x4 + 0x34],EAX
006d89d8 : JMP 0x006d89dd
006d89da : MOV dword ptr [EBP],EAX
006d89dd : MOV ECX,dword ptr [EAX + 0x4]
006d89e0 : SUB dword ptr [EAX + 0x8],EDI
006d89e3 : LEA EDX,[ECX + EAX*0x1 + 0x10]
006d89e7 : ADD ECX,EDI
006d89e9 : POP EDI
006d89ea : POP ESI
006d89eb : POP EBP
006d89ec : MOV dword ptr [EAX + 0x4],ECX
006d89ef : MOV EAX,EDX
006d89f1 : POP EBX
006d89f2 : RET
