PROGRAM  : Maestia.exe
FUNCTION : FUN_0056aee0
ENTRY    : 0056aee0
BODY     : [[0056aee0, 0056afca]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0056aee0(void)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  int in_ECX;
  uint uVar7;
  undefined4 *puVar8;
  uint uVar9;
  
  iVar6 = *(int *)(in_ECX + 0x7d4);
  if (iVar6 == 0) {
    uVar7 = 0;
    puVar8 = (undefined4 *)(in_ECX + 0x7dc);
    uVar9 = 1;
    do {
      if ((*(uint *)(in_ECX + 0x7f8) & uVar9) != 0) {
        if (*(int *)(in_ECX + 0x7d4) == 100) {
          *(int *)(in_ECX + 2000) = *(int *)(in_ECX + 2000) + 1;
          *(undefined4 *)(in_ECX + 0x7d4) = 99;
          if (*(int *)(in_ECX + 2000) == 100) {
            *(undefined4 *)(in_ECX + 2000) = 0;
          }
        }
        uVar5 = *(int *)(in_ECX + 2000) + *(int *)(in_ECX + 0x7d4);
        if (99 < uVar5) {
          uVar5 = uVar5 - 100;
        }
        puVar2 = (undefined4 *)(in_ECX + uVar5 * 0x14);
        *(int *)(in_ECX + 0x7d4) = *(int *)(in_ECX + 0x7d4) + 1;
        *puVar2 = 0;
        *(char *)(puVar2 + 4) = (char)uVar7;
        puVar2[1] = puVar8[-1];
        uVar3 = *puVar8;
        *(undefined2 *)(puVar2 + 3) = 0;
        puVar2[2] = uVar3;
        *(undefined1 *)((int)puVar2 + 0xf) = 0x40;
        *(uint *)(in_ECX + 0x7f8) = *(uint *)(in_ECX + 0x7f8) & ~uVar9;
      }
      uVar7 = uVar7 + 1;
      puVar8 = puVar8 + 2;
      uVar9 = uVar9 * 2;
    } while (uVar7 < 4);
    iVar6 = *(int *)(in_ECX + 0x7d4);
    if (iVar6 == 0) {
      return 0;
    }
  }
  iVar4 = *(int *)(in_ECX + 2000);
  iVar1 = iVar4 + 1;
  *(int *)(in_ECX + 2000) = iVar1;
  *(int *)(in_ECX + 0x7d4) = iVar6 + -1;
  if (iVar1 == 100) {
    *(undefined4 *)(in_ECX + 2000) = 0;
  }
  return in_ECX + iVar4 * 0x14;
}



============================================================
DISASSEMBLY
============================================================
0056aee0 : MOV EAX,dword ptr [ECX + 0x7d4]
0056aee6 : PUSH ESI
0056aee7 : TEST EAX,EAX
0056aee9 : JNZ 0x0056af9e
0056aeef : PUSH EBX
0056aef0 : PUSH EDI
0056aef1 : XOR EBX,EBX
0056aef3 : MOV EDI,0x1
0056aef8 : LEA ESI,[ECX + 0x7dc]
0056aefe : MOV EDI,EDI
0056af00 : TEST dword ptr [ECX + 0x7f8],EDI
0056af06 : JZ 0x0056af81
0056af08 : CMP dword ptr [ECX + 0x7d4],0x64
0056af0f : JNZ 0x0056af36
0056af11 : INC dword ptr [ECX + 0x7d0]
0056af17 : MOV EAX,dword ptr [ECX + 0x7d0]
0056af1d : MOV dword ptr [ECX + 0x7d4],0x63
0056af27 : CMP EAX,0x64
0056af2a : JNZ 0x0056af36
0056af2c : MOV dword ptr [ECX + 0x7d0],0x0
0056af36 : MOV EDX,dword ptr [ECX + 0x7d4]
0056af3c : MOV EAX,dword ptr [ECX + 0x7d0]
0056af42 : ADD EAX,EDX
0056af44 : CMP EAX,0x64
0056af47 : JC 0x0056af4c
0056af49 : SUB EAX,0x64
0056af4c : LEA EAX,[EAX + EAX*0x4]
0056af4f : LEA EAX,[ECX + EAX*0x4]
0056af52 : INC EDX
0056af53 : MOV dword ptr [ECX + 0x7d4],EDX
0056af59 : MOV dword ptr [EAX],0x0
0056af5f : MOV byte ptr [EAX + 0x10],BL
0056af62 : FLD float ptr [ESI + -0x4]
0056af65 : FSTP float ptr [EAX + 0x4]
0056af68 : XOR EDX,EDX
0056af6a : FLD float ptr [ESI]
0056af6c : MOV word ptr [EAX + 0xc],DX
0056af70 : FSTP float ptr [EAX + 0x8]
0056af73 : MOV byte ptr [EAX + 0xf],0x40
0056af77 : MOV EAX,EDI
0056af79 : NOT EAX
0056af7b : AND dword ptr [ECX + 0x7f8],EAX
0056af81 : INC EBX
0056af82 : ADD ESI,0x8
0056af85 : ADD EDI,EDI
0056af87 : CMP EBX,0x4
0056af8a : JC 0x0056af00
0056af90 : MOV EAX,dword ptr [ECX + 0x7d4]
0056af96 : POP EDI
0056af97 : POP EBX
0056af98 : TEST EAX,EAX
0056af9a : JNZ 0x0056af9e
0056af9c : POP ESI
0056af9d : RET
0056af9e : MOV ESI,dword ptr [ECX + 0x7d0]
0056afa4 : LEA EDX,[ESI + 0x1]
0056afa7 : DEC EAX
0056afa8 : MOV dword ptr [ECX + 0x7d0],EDX
0056afae : MOV dword ptr [ECX + 0x7d4],EAX
0056afb4 : CMP EDX,0x64
0056afb7 : JNZ 0x0056afc3
0056afb9 : MOV dword ptr [ECX + 0x7d0],0x0
0056afc3 : LEA EDX,[ESI + ESI*0x4]
0056afc6 : LEA EAX,[ECX + EDX*0x4]
0056afc9 : POP ESI
0056afca : RET
