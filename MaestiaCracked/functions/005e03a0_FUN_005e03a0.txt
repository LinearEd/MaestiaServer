PROGRAM  : Maestia.exe
FUNCTION : FUN_005e03a0
ENTRY    : 005e03a0
BODY     : [[005e03a0, 005e0432]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005e03a0(GRefCountImpl *param_1,undefined4 param_2)

{
  int iVar1;
  undefined4 *in_ECX;
  
  *in_ECX = &PTR_LAB_00b85fe8;
  in_ECX[1] = 1;
  in_ECX[2] = 0;
  *in_ECX = &PTR_FUN_00b938e4;
  in_ECX[3] = 0;
  in_ECX[4] = 0;
  in_ECX[5] = param_2;
  FUN_005237b0();
  if (param_1 != (GRefCountImpl *)0x0) {
    GRefCountImpl::AddRef(param_1);
  }
  if ((GRefCountImpl *)in_ECX[3] != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release((GRefCountImpl *)in_ECX[3]);
  }
  in_ECX[3] = param_1;
  if (param_1 == (GRefCountImpl *)0x0) {
    iVar1 = 0;
  }
  else {
    iVar1 = (**(code **)(*(int *)param_1 + 4))();
  }
  if (iVar1 != 0) {
    *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + 1;
  }
  if ((GRefCountNTSImpl *)in_ECX[4] != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release((GRefCountNTSImpl *)in_ECX[4]);
  }
  in_ECX[4] = iVar1;
  *(undefined1 *)(in_ECX + 8) = 0;
  in_ECX[9] = 0;
  *(undefined2 *)(in_ECX + 10) = 0;
  *(undefined2 *)((int)in_ECX + 0x2a) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
005e03a0 : MOV EAX,dword ptr [ESP + 0x8]
005e03a4 : PUSH EBX
005e03a5 : PUSH ESI
005e03a6 : MOV ESI,ECX
005e03a8 : MOV dword ptr [ESI],0xb85fe8
005e03ae : XOR EBX,EBX
005e03b0 : MOV dword ptr [ESI + 0x4],0x1
005e03b7 : MOV dword ptr [ESI + 0x8],EBX
005e03ba : MOV dword ptr [ESI],0xb938e4
005e03c0 : MOV dword ptr [ESI + 0xc],EBX
005e03c3 : MOV dword ptr [ESI + 0x10],EBX
005e03c6 : PUSH EDI
005e03c7 : LEA ECX,[ESI + 0x18]
005e03ca : MOV dword ptr [ESI + 0x14],EAX
005e03cd : CALL 0x005237b0
005e03d2 : MOV EDI,dword ptr [ESP + 0x10]
005e03d6 : CMP EDI,EBX
005e03d8 : JZ 0x005e03e1
005e03da : MOV ECX,EDI
005e03dc : CALL 0x00523dd0
005e03e1 : MOV ECX,dword ptr [ESI + 0xc]
005e03e4 : CMP ECX,EBX
005e03e6 : JZ 0x005e03ed
005e03e8 : CALL 0x004ff7e0
005e03ed : MOV dword ptr [ESI + 0xc],EDI
005e03f0 : CMP EDI,EBX
005e03f2 : JZ 0x005e0401
005e03f4 : MOV EDX,dword ptr [EDI]
005e03f6 : MOV EAX,dword ptr [EDX + 0x4]
005e03f9 : MOV ECX,EDI
005e03fb : CALL EAX
005e03fd : MOV EDI,EAX
005e03ff : JMP 0x005e0403
005e0401 : XOR EDI,EDI
005e0403 : CMP EDI,EBX
005e0405 : JZ 0x005e040a
005e0407 : INC dword ptr [EDI + 0x4]
005e040a : MOV ECX,dword ptr [ESI + 0x10]
005e040d : CMP ECX,EBX
005e040f : JZ 0x005e0416
005e0411 : CALL 0x004ff7c0
005e0416 : MOV dword ptr [ESI + 0x10],EDI
005e0419 : XOR ECX,ECX
005e041b : XOR EDX,EDX
005e041d : POP EDI
005e041e : MOV byte ptr [ESI + 0x20],BL
005e0421 : MOV dword ptr [ESI + 0x24],EBX
005e0424 : MOV word ptr [ESI + 0x28],CX
005e0428 : MOV word ptr [ESI + 0x2a],DX
005e042c : MOV EAX,ESI
005e042e : POP ESI
005e042f : POP EBX
005e0430 : RET 0x8
