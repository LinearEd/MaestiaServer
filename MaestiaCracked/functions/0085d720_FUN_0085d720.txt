PROGRAM  : Maestia.exe
FUNCTION : FUN_0085d720
ENTRY    : 0085d720
BODY     : [[0085d720, 0085d9e6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0085d720(int param_1)

{
  uint uVar1;
  int *piVar2;
  undefined4 uVar3;
  int *in_ECX;
  int iVar4;
  uint unaff_EDI;
  int iStack_9c;
  int aiStack_98 [2];
  undefined4 uStack_90;
  uint uStack_8c;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  uint local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined1 local_34 [4];
  undefined4 uStack_30;
  uint uStack_2c;
  undefined4 uStack_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b37fca;
  local_14 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffff58;
  ExceptionList = &local_14;
  in_ECX[0xfb] = param_1;
  if (param_1 != 0) {
    *(undefined1 *)(param_1 + 0x241) = 1;
    FUN_00406460(L"DUMMY_MODEL");
    local_c = 0;
    local_50 = 0x3f800000;
    local_4c = 0x3f800000;
    local_48 = 0x3f800000;
    local_44 = 0;
    local_40 = 0;
    local_3c = 0;
    local_38 = 0x3f800000;
    local_5c = 0;
    local_58 = 0;
    local_54 = 0;
    piVar2 = (int *)(**(code **)(*(int *)in_ECX[0xfb] + 0x20))
                              (local_34,&local_5c,&local_44,&local_50,uVar1);
    uStack_1c = 0xffffffff;
    if (7 < uStack_2c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_40 = local_40 & 0xffff0000;
    uStack_2c = 7;
    uStack_30 = 0;
    if (*(char *)((int)in_ECX + 0x7e) == '\0') {
      FUN_00406460(L"ID_EF_MESH_DUMMY_PC_M");
      uStack_1c = 1;
      uVar3 = FUN_0081cfe0(DAT_0172491c,&stack0xffffff5c);
      uStack_1c = CONCAT31(uStack_1c._1_3_,2);
      (**(code **)(*piVar2 + 0xe8))(uVar3,0,0,0,0,0,0);
      local_38 = CONCAT31(local_38._1_3_,1);
    }
    else {
      FUN_00406460(L"ID_EF_MESH_DUMMY_PC_F");
      uStack_1c = 3;
      uVar3 = FUN_0081cfe0(DAT_0172491c,&stack0xffffff5c);
      uStack_1c = CONCAT31(uStack_1c._1_3_,4);
      (**(code **)(*piVar2 + 0xe8))(uVar3,0,0,0,0,0,0);
      local_38 = CONCAT31(local_38._1_3_,3);
    }
    if (7 < uStack_8c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    uStack_8c = 7;
    uStack_90 = 0;
    local_38 = 0xffffffff;
    if (7 < unaff_EDI) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    uVar3 = 0;
    FUN_007d48a0(0,0);
    (**(code **)(*piVar2 + 0x114))(1,0x50);
    iVar4 = DAT_00d7c54c;
    aiStack_98[0] = in_ECX[2];
    FUN_004437f0(aiStack_98);
    if ((iStack_9c != *(int *)(iVar4 + 0x44)) && (*(int *)(iStack_9c + 0x10) != 0)) {
      (**(code **)(*in_ECX + 0x27c))(in_ECX + 0x10b,uVar3);
      iVar4 = DAT_00d7c54c;
    }
    iStack_9c = in_ECX[2];
    FUN_004437f0(&iStack_9c);
    if (((aiStack_98[0] != *(int *)(iVar4 + 0x44)) && (*(int *)(aiStack_98[0] + 0x10) != 0)) &&
       (*(int *)(*(int *)(aiStack_98[0] + 0x10) + 300) != 0)) {
      in_ECX[0x106] = 0x41840000;
    }
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
0085d720 : PUSH EBP
0085d721 : MOV EBP,ESP
0085d723 : AND ESP,0xfffffff8
0085d726 : PUSH -0x1
0085d728 : PUSH 0xb37fca
0085d72d : MOV EAX,FS:[0x0]
0085d733 : PUSH EAX
0085d734 : SUB ESP,0x88
0085d73a : PUSH EBX
0085d73b : PUSH ESI
0085d73c : PUSH EDI
0085d73d : MOV EAX,[0x00d66fa0]
0085d742 : XOR EAX,ESP
0085d744 : PUSH EAX
0085d745 : LEA EAX,[ESP + 0x98]
0085d74c : MOV FS:[0x0],EAX
0085d752 : MOV EBX,ECX
0085d754 : MOV EAX,dword ptr [EBP + 0x8]
0085d757 : XOR ESI,ESI
0085d759 : MOV dword ptr [EBX + 0x3ec],EAX
0085d75f : CMP EAX,ESI
0085d761 : JZ 0x0085d9cf
0085d767 : PUSH 0xc3e854
0085d76c : LEA ECX,[ESP + 0x7c]
0085d770 : MOV byte ptr [EAX + 0x241],0x1
0085d777 : CALL 0x00406460
0085d77c : MOV dword ptr [ESP + 0xa0],ESI
0085d783 : XORPS XMM0,XMM0
0085d786 : MOVSS XMM1,dword ptr [0x00c10fc4]
0085d78e : MOV ECX,dword ptr [EBX + 0x3ec]
0085d794 : LEA EDX,[ESP + 0x5c]
0085d798 : PUSH EDX
0085d799 : LEA EDX,[ESP + 0x6c]
0085d79d : PUSH EDX
0085d79e : LEA EDX,[ESP + 0x58]
0085d7a2 : PUSH EDX
0085d7a3 : MOVSS dword ptr [ESP + 0x68],XMM1
0085d7a9 : MOVSS dword ptr [ESP + 0x6c],XMM1
0085d7af : MOVSS dword ptr [ESP + 0x70],XMM1
0085d7b5 : MOVSS dword ptr [ESP + 0x74],XMM0
0085d7bb : MOVSS dword ptr [ESP + 0x78],XMM0
0085d7c1 : MOVSS dword ptr [ESP + 0x7c],XMM0
0085d7c7 : MOVSS dword ptr [ESP + 0x80],XMM1
0085d7d0 : MOVSS dword ptr [ESP + 0x5c],XMM0
0085d7d6 : MOVSS dword ptr [ESP + 0x60],XMM0
0085d7dc : MOVSS dword ptr [ESP + 0x64],XMM0
0085d7e2 : MOV EAX,dword ptr [ECX]
0085d7e4 : MOV EAX,dword ptr [EAX + 0x20]
0085d7e7 : LEA EDX,[ESP + 0x84]
0085d7ee : PUSH EDX
0085d7ef : CALL EAX
0085d7f1 : MOV EDI,EAX
0085d7f3 : MOV dword ptr [ESP + 0xa0],0xffffffff
0085d7fe : CMP dword ptr [ESP + 0x90],0x8
0085d806 : JC 0x0085d811
0085d808 : MOV ECX,dword ptr [ESP + 0x7c]
0085d80c : CALL 0x006f04e0
0085d811 : XOR ECX,ECX
0085d813 : CMP byte ptr [EBX + 0x7e],0x0
0085d817 : MOV word ptr [ESP + 0x7c],CX
0085d81c : MOV dword ptr [ESP + 0x90],0x7
0085d827 : MOV dword ptr [ESP + 0x8c],ESI
0085d82e : LEA ECX,[ESP + 0x18]
0085d832 : JNZ 0x0085d888
0085d834 : PUSH 0xc3e7b4
0085d839 : CALL 0x00406460
0085d83e : MOV dword ptr [ESP + 0xa0],0x1
0085d849 : MOV EAX,[0x0172491c]
0085d84e : LEA EDX,[ESP + 0x18]
0085d852 : PUSH EDX
0085d853 : PUSH EAX
0085d854 : LEA ESI,[ESP + 0x3c]
0085d858 : CALL 0x0081cfe0
0085d85d : MOV byte ptr [ESP + 0xa0],0x2
0085d865 : MOV EDX,dword ptr [EDI]
0085d867 : PUSH 0x0
0085d869 : PUSH 0x0
0085d86b : PUSH 0x0
0085d86d : PUSH 0x0
0085d86f : PUSH 0x0
0085d871 : PUSH 0x0
0085d873 : PUSH EAX
0085d874 : MOV EAX,dword ptr [EDX + 0xe8]
0085d87a : MOV ECX,EDI
0085d87c : CALL EAX
0085d87e : MOV byte ptr [ESP + 0xa0],0x1
0085d886 : JMP 0x0085d8db
0085d888 : PUSH 0xc3e86c
0085d88d : CALL 0x00406460
0085d892 : MOV dword ptr [ESP + 0xa0],0x3
0085d89d : MOV ECX,dword ptr [0x0172491c]
0085d8a3 : LEA EAX,[ESP + 0x18]
0085d8a7 : PUSH EAX
0085d8a8 : PUSH ECX
0085d8a9 : LEA ESI,[ESP + 0x3c]
0085d8ad : CALL 0x0081cfe0
0085d8b2 : MOV byte ptr [ESP + 0xa0],0x4
0085d8ba : MOV EDX,dword ptr [EDI]
0085d8bc : PUSH 0x0
0085d8be : PUSH 0x0
0085d8c0 : PUSH 0x0
0085d8c2 : PUSH 0x0
0085d8c4 : PUSH 0x0
0085d8c6 : PUSH 0x0
0085d8c8 : PUSH EAX
0085d8c9 : MOV EAX,dword ptr [EDX + 0xe8]
0085d8cf : MOV ECX,EDI
0085d8d1 : CALL EAX
0085d8d3 : MOV byte ptr [ESP + 0xa0],0x3
0085d8db : MOV ESI,0x8
0085d8e0 : CMP dword ptr [ESP + 0x4c],ESI
0085d8e4 : JC 0x0085d8ef
0085d8e6 : MOV ECX,dword ptr [ESP + 0x38]
0085d8ea : CALL 0x006f04e0
0085d8ef : XOR ECX,ECX
0085d8f1 : MOV dword ptr [ESP + 0x4c],0x7
0085d8f9 : MOV dword ptr [ESP + 0x48],ECX
0085d8fd : MOV word ptr [ESP + 0x38],CX
0085d902 : MOV dword ptr [ESP + 0xa0],0xffffffff
0085d90d : CMP dword ptr [ESP + 0x30],ESI
0085d911 : JC 0x0085d91c
0085d913 : MOV ECX,dword ptr [ESP + 0x1c]
0085d917 : CALL 0x006f04e0
0085d91c : XOR EDX,EDX
0085d91e : PUSH EDX
0085d91f : PUSH EDX
0085d920 : MOV ECX,EDI
0085d922 : MOV word ptr [ESP + 0x24],DX
0085d927 : MOV dword ptr [ESP + 0x34],EDX
0085d92b : MOV dword ptr [ESP + 0x38],0x7
0085d933 : CALL 0x007d48a0
0085d938 : MOV EAX,dword ptr [EDI]
0085d93a : MOV EDX,dword ptr [EAX + 0x114]
0085d940 : PUSH 0x50
0085d942 : PUSH 0x1
0085d944 : MOV ECX,EDI
0085d946 : CALL EDX
0085d948 : MOV EAX,dword ptr [EBX + 0x8]
0085d94b : MOV ESI,dword ptr [0x00d7c54c]
0085d951 : LEA ECX,[ESP + 0x14]
0085d955 : MOV dword ptr [ESP + 0x14],EAX
0085d959 : PUSH ECX
0085d95a : LEA ECX,[ESI + 0x40]
0085d95d : LEA EAX,[ESP + 0x14]
0085d961 : CALL 0x004437f0
0085d966 : MOV EAX,dword ptr [ESP + 0x10]
0085d96a : CMP EAX,dword ptr [ESI + 0x44]
0085d96d : JZ 0x0085d98e
0085d96f : CMP dword ptr [EAX + 0x10],0x0
0085d973 : JZ 0x0085d98e
0085d975 : MOV EDX,dword ptr [EBX]
0085d977 : MOV EDX,dword ptr [EDX + 0x27c]
0085d97d : LEA EAX,[EBX + 0x42c]
0085d983 : PUSH EAX
0085d984 : MOV ECX,EBX
0085d986 : CALL EDX
0085d988 : MOV ESI,dword ptr [0x00d7c54c]
0085d98e : MOV EAX,dword ptr [EBX + 0x8]
0085d991 : LEA ECX,[ESP + 0x10]
0085d995 : MOV dword ptr [ESP + 0x10],EAX
0085d999 : PUSH ECX
0085d99a : LEA ECX,[ESI + 0x40]
0085d99d : LEA EAX,[ESP + 0x18]
0085d9a1 : CALL 0x004437f0
0085d9a6 : MOV EAX,dword ptr [ESP + 0x14]
0085d9aa : CMP EAX,dword ptr [ESI + 0x44]
0085d9ad : JZ 0x0085d9cf
0085d9af : MOV EAX,dword ptr [EAX + 0x10]
0085d9b2 : TEST EAX,EAX
0085d9b4 : JZ 0x0085d9cf
0085d9b6 : CMP dword ptr [EAX + 0x12c],0x0
0085d9bd : JZ 0x0085d9cf
0085d9bf : MOVSS XMM0,dword ptr [0x00cdf730]
0085d9c7 : MOVSS dword ptr [EBX + 0x418],XMM0
0085d9cf : MOV ECX,dword ptr [ESP + 0x98]
0085d9d6 : MOV dword ptr FS:[0x0],ECX
0085d9dd : POP ECX
0085d9de : POP EDI
0085d9df : POP ESI
0085d9e0 : POP EBX
0085d9e1 : MOV ESP,EBP
0085d9e3 : POP EBP
0085d9e4 : RET 0x4
