PROGRAM  : Maestia.exe
FUNCTION : FUN_00a6a0b0
ENTRY    : 00a6a0b0
BODY     : [[00a6a0b0, 00a6a285]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a6a0b0(void)

{
  uint uVar1;
  char cVar2;
  int iVar3;
  int in_ECX;
  undefined4 in_EDX;
  uint uVar4;
  uint local_7c;
  uint local_78;
  uint local_74;
  uint local_70 [9];
  int local_4c;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b48c62;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(undefined2 *)(in_ECX + 0xea) = 0;
  *(undefined2 *)(in_ECX + 0xe8) = 0;
  FUN_0070d390(local_14);
  uVar4 = 0;
  local_8 = 0;
  cVar2 = FUN_00a69e10(in_EDX);
  if (cVar2 != '\0') {
    if (local_4c == 0) {
      FUN_0070d4c0();
    }
    else {
      cVar2 = FUN_00a693c0();
      if (cVar2 != '\0') {
        local_78 = 0;
        local_7c = 0;
        local_70[0] = **(int **)(in_ECX + 0x54);
        if ((int *)local_70[0] != *(int **)(in_ECX + 0x54)) {
          do {
            uVar1 = local_70[0];
            iVar3 = (**(code **)(**(int **)(local_70[0] + 0x10) + 4))();
            if (iVar3 == 1) {
              if (local_7c < *(ushort *)(uVar1 + 0xc)) {
                local_7c = (uint)*(ushort *)(uVar1 + 0xc);
              }
            }
            else {
              iVar3 = (**(code **)(**(int **)(uVar1 + 0x10) + 4))();
              if (iVar3 == 2) {
                if (uVar4 < *(ushort *)(uVar1 + 0xc)) {
                  uVar4 = (uint)*(ushort *)(uVar1 + 0xc);
                }
              }
              else {
                iVar3 = (**(code **)(**(int **)(uVar1 + 0x10) + 4))();
                if ((iVar3 == 3) && (local_78 < *(ushort *)(uVar1 + 0xc))) {
                  local_78 = (uint)*(ushort *)(uVar1 + 0xc);
                }
              }
            }
            FUN_00416210();
          } while (local_70[0] != *(uint *)(in_ECX + 0x54));
          if ((uVar4 != 0) &&
             (local_70[0] = uVar4, FUN_00413b60(local_70), local_74 != *(uint *)(in_ECX + 0x54))) {
            *(undefined1 *)(*(int *)(local_74 + 0x10) + 4) = 1;
          }
          if (local_78 != 0) {
            local_74 = local_78;
            FUN_00413b60(&local_74);
            if (local_70[0] != *(uint *)(in_ECX + 0x54)) {
              *(undefined1 *)(*(int *)(local_70[0] + 0x10) + 4) = 1;
            }
          }
          if (local_7c != 0) {
            local_74 = local_7c;
            FUN_00413b60(&local_74);
            if (local_70[0] != *(uint *)(in_ECX + 0x54)) {
              *(undefined1 *)(*(int *)(local_70[0] + 0x10) + 4) = 1;
            }
          }
        }
        local_8 = 0xffffffff;
        FUN_0070d710();
        goto LAB_00a6a26a;
      }
      FUN_008018d0(L"[AvaAnimEventCtrl::Load] parsing failed");
    }
  }
  local_8 = 0xffffffff;
  FUN_0070d710();
LAB_00a6a26a:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a6a0b0 : PUSH EBP
00a6a0b1 : MOV EBP,ESP
00a6a0b3 : PUSH -0x1
00a6a0b5 : PUSH 0xb48c62
00a6a0ba : MOV EAX,FS:[0x0]
00a6a0c0 : PUSH EAX
00a6a0c1 : SUB ESP,0x6c
00a6a0c4 : MOV EAX,[0x00d66fa0]
00a6a0c9 : XOR EAX,EBP
00a6a0cb : MOV dword ptr [EBP + -0x10],EAX
00a6a0ce : PUSH EBX
00a6a0cf : PUSH ESI
00a6a0d0 : PUSH EDI
00a6a0d1 : PUSH EAX
00a6a0d2 : LEA EAX,[EBP + -0xc]
00a6a0d5 : MOV FS:[0x0],EAX
00a6a0db : MOV EDI,ECX
00a6a0dd : XOR ECX,ECX
00a6a0df : XOR EAX,EAX
00a6a0e1 : MOV word ptr [EDI + 0xea],CX
00a6a0e8 : LEA ECX,[EBP + -0x68]
00a6a0eb : MOV ESI,EDX
00a6a0ed : MOV word ptr [EDI + 0xe8],AX
00a6a0f4 : CALL 0x0070d390
00a6a0f9 : XOR EBX,EBX
00a6a0fb : MOV dword ptr [EBP + -0x4],EBX
00a6a0fe : PUSH ESI
00a6a0ff : LEA ECX,[EBP + -0x68]
00a6a102 : CALL 0x00a69e10
00a6a107 : TEST AL,AL
00a6a109 : JZ 0x00a6a11a
00a6a10b : MOV EAX,dword ptr [EBP + -0x48]
00a6a10e : CMP EAX,EBX
00a6a110 : JNZ 0x00a6a130
00a6a112 : LEA ECX,[EBP + -0x68]
00a6a115 : CALL 0x0070d4c0
00a6a11a : MOV dword ptr [EBP + -0x4],0xffffffff
00a6a121 : LEA ECX,[EBP + -0x68]
00a6a124 : CALL 0x0070d710
00a6a129 : XOR AL,AL
00a6a12b : JMP 0x00a6a26a
00a6a130 : MOV ECX,dword ptr [EBP + -0x4c]
00a6a133 : PUSH EAX
00a6a134 : PUSH ESI
00a6a135 : PUSH EDI
00a6a136 : CALL 0x00a693c0
00a6a13b : TEST AL,AL
00a6a13d : JNZ 0x00a6a154
00a6a13f : MOV ESI,dword ptr [0x00da98e8]
00a6a145 : PUSH 0xc34d28
00a6a14a : CALL 0x008018d0
00a6a14f : ADD ESP,0x4
00a6a152 : JMP 0x00a6a11a
00a6a154 : XOR EAX,EAX
00a6a156 : MOV dword ptr [EBP + -0x74],EAX
00a6a159 : MOV dword ptr [EBP + -0x78],EAX
00a6a15c : MOV EAX,dword ptr [EDI + 0x54]
00a6a15f : MOV ESI,dword ptr [EAX]
00a6a161 : MOV dword ptr [EBP + -0x6c],ESI
00a6a164 : CMP ESI,EAX
00a6a166 : JZ 0x00a6a259
00a6a16c : LEA ESP,[ESP]
00a6a170 : MOV ECX,dword ptr [ESI + 0x10]
00a6a173 : MOV EDX,dword ptr [ECX]
00a6a175 : MOV EAX,dword ptr [EDX + 0x4]
00a6a178 : CALL EAX
00a6a17a : CMP EAX,0x1
00a6a17d : JNZ 0x00a6a18d
00a6a17f : MOVZX EAX,word ptr [ESI + 0xc]
00a6a183 : CMP EAX,dword ptr [EBP + -0x78]
00a6a186 : JBE 0x00a6a1c3
00a6a188 : MOV dword ptr [EBP + -0x78],EAX
00a6a18b : JMP 0x00a6a1c3
00a6a18d : MOV ECX,dword ptr [ESI + 0x10]
00a6a190 : MOV EDX,dword ptr [ECX]
00a6a192 : MOV EAX,dword ptr [EDX + 0x4]
00a6a195 : CALL EAX
00a6a197 : CMP EAX,0x2
00a6a19a : JNZ 0x00a6a1a8
00a6a19c : MOVZX EAX,word ptr [ESI + 0xc]
00a6a1a0 : CMP EAX,EBX
00a6a1a2 : JBE 0x00a6a1c3
00a6a1a4 : MOV EBX,EAX
00a6a1a6 : JMP 0x00a6a1c3
00a6a1a8 : MOV ECX,dword ptr [ESI + 0x10]
00a6a1ab : MOV EDX,dword ptr [ECX]
00a6a1ad : MOV EAX,dword ptr [EDX + 0x4]
00a6a1b0 : CALL EAX
00a6a1b2 : CMP EAX,0x3
00a6a1b5 : JNZ 0x00a6a1c3
00a6a1b7 : MOVZX EAX,word ptr [ESI + 0xc]
00a6a1bb : CMP EAX,dword ptr [EBP + -0x74]
00a6a1be : JBE 0x00a6a1c3
00a6a1c0 : MOV dword ptr [EBP + -0x74],EAX
00a6a1c3 : LEA EDX,[EBP + -0x6c]
00a6a1c6 : CALL 0x00416210
00a6a1cb : MOV EAX,dword ptr [EDI + 0x54]
00a6a1ce : MOV ESI,dword ptr [EBP + -0x6c]
00a6a1d1 : CMP ESI,EAX
00a6a1d3 : JNZ 0x00a6a170
00a6a1d5 : TEST EBX,EBX
00a6a1d7 : JZ 0x00a6a1ff
00a6a1d9 : MOVZX ECX,BX
00a6a1dc : LEA EDX,[EBP + -0x6c]
00a6a1df : MOV dword ptr [EBP + -0x6c],ECX
00a6a1e2 : PUSH EDX
00a6a1e3 : LEA ECX,[EDI + 0x50]
00a6a1e6 : LEA EAX,[EBP + -0x70]
00a6a1e9 : CALL 0x00413b60
00a6a1ee : MOV EAX,dword ptr [EDI + 0x54]
00a6a1f1 : MOV ECX,dword ptr [EBP + -0x70]
00a6a1f4 : CMP ECX,EAX
00a6a1f6 : JZ 0x00a6a1ff
00a6a1f8 : MOV EAX,dword ptr [ECX + 0x10]
00a6a1fb : MOV byte ptr [EAX + 0x4],0x1
00a6a1ff : MOV EAX,dword ptr [EBP + -0x74]
00a6a202 : TEST EAX,EAX
00a6a204 : JZ 0x00a6a22c
00a6a206 : MOVZX ECX,AX
00a6a209 : LEA EDX,[EBP + -0x70]
00a6a20c : MOV dword ptr [EBP + -0x70],ECX
00a6a20f : PUSH EDX
00a6a210 : LEA ECX,[EDI + 0x50]
00a6a213 : LEA EAX,[EBP + -0x6c]
00a6a216 : CALL 0x00413b60
00a6a21b : MOV EAX,dword ptr [EDI + 0x54]
00a6a21e : MOV ECX,dword ptr [EBP + -0x6c]
00a6a221 : CMP ECX,EAX
00a6a223 : JZ 0x00a6a22c
00a6a225 : MOV EAX,dword ptr [ECX + 0x10]
00a6a228 : MOV byte ptr [EAX + 0x4],0x1
00a6a22c : MOV EAX,dword ptr [EBP + -0x78]
00a6a22f : TEST EAX,EAX
00a6a231 : JZ 0x00a6a259
00a6a233 : MOVZX ECX,AX
00a6a236 : LEA EDX,[EBP + -0x70]
00a6a239 : MOV dword ptr [EBP + -0x70],ECX
00a6a23c : PUSH EDX
00a6a23d : LEA ECX,[EDI + 0x50]
00a6a240 : LEA EAX,[EBP + -0x6c]
00a6a243 : CALL 0x00413b60
00a6a248 : MOV EDI,dword ptr [EDI + 0x54]
00a6a24b : MOV EAX,dword ptr [EBP + -0x6c]
00a6a24e : CMP EAX,EDI
00a6a250 : JZ 0x00a6a259
00a6a252 : MOV EAX,dword ptr [EAX + 0x10]
00a6a255 : MOV byte ptr [EAX + 0x4],0x1
00a6a259 : MOV dword ptr [EBP + -0x4],0xffffffff
00a6a260 : LEA ECX,[EBP + -0x68]
00a6a263 : CALL 0x0070d710
00a6a268 : MOV AL,0x1
00a6a26a : MOV ECX,dword ptr [EBP + -0xc]
00a6a26d : MOV dword ptr FS:[0x0],ECX
00a6a274 : POP ECX
00a6a275 : POP EDI
00a6a276 : POP ESI
00a6a277 : POP EBX
00a6a278 : MOV ECX,dword ptr [EBP + -0x10]
00a6a27b : XOR ECX,EBP
00a6a27d : CALL 0x00633e6b
00a6a282 : MOV ESP,EBP
00a6a284 : POP EBP
00a6a285 : RET
