PROGRAM  : Maestia.exe
FUNCTION : FUN_00478b70
ENTRY    : 00478b70
BODY     : [[00478b70, 00478bc9]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00478b70(int *param_1,int param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int unaff_EDI;
  
  iVar1 = *(int *)(unaff_EDI + 8) - *(int *)(unaff_EDI + 4);
  iVar2 = iVar1 >> 0x1f;
  if (iVar1 / 0x54 + iVar2 == iVar2) {
    iVar2 = 0;
  }
  else {
    iVar2 = (param_2 - *(int *)(unaff_EDI + 4)) / 0x54;
  }
  FUN_00478eb0(unaff_EDI,param_2,param_3);
  *param_1 = iVar2 * 0x54 + *(int *)(unaff_EDI + 4);
  return;
}



============================================================
DISASSEMBLY
============================================================
00478b70 : PUSH EBP
00478b71 : MOV EBP,ESP
00478b73 : PUSH ECX
00478b74 : MOV ECX,dword ptr [EDI + 0x8]
00478b77 : PUSH EBX
00478b78 : MOV EBX,dword ptr [EBP + 0xc]
00478b7b : PUSH ESI
00478b7c : MOV ESI,dword ptr [EDI + 0x4]
00478b7f : SUB ECX,ESI
00478b81 : MOV EAX,0x30c30c31
00478b86 : IMUL ECX
00478b88 : SAR EDX,0x4
00478b8b : MOV EAX,EDX
00478b8d : SHR EAX,0x1f
00478b90 : ADD EAX,EDX
00478b92 : JNZ 0x00478b98
00478b94 : XOR ESI,ESI
00478b96 : JMP 0x00478bad
00478b98 : MOV ECX,EBX
00478b9a : SUB ECX,ESI
00478b9c : MOV EAX,0x30c30c31
00478ba1 : IMUL ECX
00478ba3 : SAR EDX,0x4
00478ba6 : MOV ESI,EDX
00478ba8 : SHR ESI,0x1f
00478bab : ADD ESI,EDX
00478bad : MOV ECX,dword ptr [EBP + 0x10]
00478bb0 : PUSH ECX
00478bb1 : PUSH EBX
00478bb2 : PUSH EDI
00478bb3 : CALL 0x00478eb0
00478bb8 : IMUL ESI,ESI,0x54
00478bbb : ADD ESI,dword ptr [EDI + 0x4]
00478bbe : MOV EAX,dword ptr [EBP + 0x8]
00478bc1 : MOV dword ptr [EAX],ESI
00478bc3 : POP ESI
00478bc4 : POP EBX
00478bc5 : POP ECX
00478bc6 : POP EBP
00478bc7 : RET 0xc
