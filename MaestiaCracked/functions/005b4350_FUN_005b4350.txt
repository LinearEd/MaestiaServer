PROGRAM  : Maestia.exe
FUNCTION : FUN_005b4350
ENTRY    : 005b4350
BODY     : [[005b4350, 005b4391]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005b4350(void)

{
  LONG LVar1;
  int in_ECX;
  uint uVar2;
  
  if (*(undefined4 **)(in_ECX + 0x5c) != (undefined4 *)0x0) {
    FUN_00515cf0(**(undefined4 **)(in_ECX + 0x5c));
    FUN_00515cf0(*(undefined4 *)(in_ECX + 0x5c));
  }
  uVar2 = *(uint *)(in_ECX + 0x38) & 0xfffffffc;
  LVar1 = InterlockedExchangeAdd((LONG *)(uVar2 + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(uVar2);
  }
  FUN_00551950();
  return;
}



============================================================
DISASSEMBLY
============================================================
005b4350 : PUSH ESI
005b4351 : PUSH EDI
005b4352 : MOV EDI,ECX
005b4354 : MOV EAX,dword ptr [EDI + 0x5c]
005b4357 : TEST EAX,EAX
005b4359 : JZ 0x005b436c
005b435b : MOV EAX,dword ptr [EAX]
005b435d : PUSH EAX
005b435e : CALL 0x00515cf0
005b4363 : MOV ECX,dword ptr [EDI + 0x5c]
005b4366 : PUSH ECX
005b4367 : CALL 0x00515cf0
005b436c : MOV ESI,dword ptr [EDI + 0x38]
005b436f : AND ESI,0xfffffffc
005b4372 : PUSH -0x1
005b4374 : LEA EDX,[ESI + 0x4]
005b4377 : PUSH EDX
005b4378 : CALL dword ptr [0x00b851cc]
005b437e : SUB EAX,0x1
005b4381 : JNZ 0x005b4389
005b4383 : PUSH ESI
005b4384 : CALL 0x00515cf0
005b4389 : MOV ECX,EDI
005b438b : POP EDI
005b438c : POP ESI
005b438d : JMP 0x00551950
