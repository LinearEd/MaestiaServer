PROGRAM  : Maestia.exe
FUNCTION : FUN_0040aa50
ENTRY    : 0040aa50
BODY     : [[0040aa50, 0040aceb]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0040ab7f) */
/* WARNING: Removing unreachable block (ram,0x0040ab8f) */
/* WARNING: Removing unreachable block (ram,0x0040ab98) */
/* WARNING: Removing unreachable block (ram,0x0040ab9b) */
/* WARNING: Removing unreachable block (ram,0x0040ab8b) */
/* WARNING: Removing unreachable block (ram,0x0040aba8) */
/* WARNING: Removing unreachable block (ram,0x0040abb8) */
/* WARNING: Removing unreachable block (ram,0x0040abc3) */
/* WARNING: Removing unreachable block (ram,0x0040abbf) */
/* WARNING: Removing unreachable block (ram,0x0040abb3) */
/* WARNING: Removing unreachable block (ram,0x0040abc6) */
/* WARNING: Removing unreachable block (ram,0x0040abd6) */

void FUN_0040aa50(undefined4 param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_58 [40];
  undefined1 local_30 [4];
  undefined1 local_2c;
  undefined4 local_1c;
  undefined4 local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7c7a8;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_2 + 0x15) != '\0') {
    local_18 = 0xf;
    local_1c = 0;
    local_2c = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_30);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_58,&DAT_00ced890);
  }
  local_14 = param_2;
  FUN_00416210(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_2;
  if (*(char *)((int)piVar7 + 0x15) == '\0') {
    if (*(char *)(param_2[2] + 0x15) == '\0') {
      piVar7 = (int *)param_2[2];
    }
  }
  else {
    piVar7 = (int *)param_2[2];
  }
  piVar6 = (int *)param_2[1];
  if (*(char *)((int)piVar7 + 0x15) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if ((int *)DAT_01721078[1] == param_2) {
    DAT_01721078[1] = piVar7;
  }
  else if ((int *)*piVar6 == param_2) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)*DAT_01721078 == param_2) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x15) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x15);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x15);
        piVar5 = piVar3;
      }
    }
    *DAT_01721078 = piVar5;
  }
  if ((int *)DAT_01721078[2] == param_2) {
    if (*(char *)((int)piVar7 + 0x15) == '\0') {
      uVar4 = FUN_0041fe30();
      DAT_01721078[2] = uVar4;
    }
    else {
      DAT_01721078[2] = piVar6;
    }
  }
  if ((char)local_14[5] == '\x01') {
    if (piVar7 != (int *)DAT_01721078[1]) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[5] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[5] == '\0') {
            *(undefined1 *)(piVar6 + 5) = 1;
            *(undefined1 *)(piVar5 + 5) = 0;
            FUN_0040ad60();
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x15) == '\0') {
            if ((*(char *)(*piVar6 + 0x14) != '\x01') || (*(char *)(piVar6[2] + 0x14) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x14) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x14) = 1;
                *(undefined1 *)(piVar6 + 5) = 0;
                FUN_0040adb0();
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 5) = (char)piVar5[5];
              *(undefined1 *)(piVar5 + 5) = 1;
              *(undefined1 *)(piVar6[2] + 0x14) = 1;
              FUN_0040ad60();
              break;
            }
LAB_0040ac9a:
            *(undefined1 *)(piVar6 + 5) = 0;
          }
        }
        else {
          if ((char)piVar6[5] == '\0') {
            *(undefined1 *)(piVar6 + 5) = 1;
            *(undefined1 *)(piVar5 + 5) = 0;
            FUN_0040adb0();
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x15) == '\0') {
            if ((*(char *)(piVar6[2] + 0x14) == '\x01') && (*(char *)(*piVar6 + 0x14) == '\x01'))
            goto LAB_0040ac9a;
            if (*(char *)(*piVar6 + 0x14) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x14) = 1;
              *(undefined1 *)(piVar6 + 5) = 0;
              FUN_0040ad60();
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 5) = (char)piVar5[5];
            *(undefined1 *)(piVar5 + 5) = 1;
            *(undefined1 *)(*piVar6 + 0x14) = 1;
            FUN_0040adb0();
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != (int *)DAT_01721078[1]);
    }
    *(undefined1 *)(piVar7 + 5) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0040aa50 : PUSH EBP
0040aa51 : MOV EBP,ESP
0040aa53 : PUSH -0x1
0040aa55 : PUSH 0xb7c7a8
0040aa5a : MOV EAX,FS:[0x0]
0040aa60 : PUSH EAX
0040aa61 : SUB ESP,0x4c
0040aa64 : PUSH EBX
0040aa65 : PUSH ESI
0040aa66 : PUSH EDI
0040aa67 : MOV EAX,[0x00d66fa0]
0040aa6c : XOR EAX,EBP
0040aa6e : PUSH EAX
0040aa6f : LEA EAX,[EBP + -0xc]
0040aa72 : MOV FS:[0x0],EAX
0040aa78 : MOV EAX,dword ptr [EBP + 0xc]
0040aa7b : CMP byte ptr [EAX + 0x15],0x0
0040aa7f : JZ 0x0040aabd
0040aa81 : PUSH 0x1b
0040aa83 : XOR ESI,ESI
0040aa85 : PUSH 0xcca4a8
0040aa8a : LEA ECX,[EBP + -0x2c]
0040aa8d : MOV dword ptr [EBP + -0x14],0xf
0040aa94 : MOV dword ptr [EBP + -0x18],ESI
0040aa97 : MOV byte ptr [EBP + -0x28],0x0
0040aa9b : CALL 0x00404b50
0040aaa0 : MOV dword ptr [EBP + -0x4],ESI
0040aaa3 : LEA EAX,[EBP + -0x2c]
0040aaa6 : PUSH EAX
0040aaa7 : LEA ECX,[EBP + -0x54]
0040aaaa : CALL 0x00403c10
0040aaaf : PUSH 0xced890
0040aab4 : LEA ECX,[EBP + -0x54]
0040aab7 : PUSH ECX
0040aab8 : CALL 0x006409eb
0040aabd : MOV EBX,EAX
0040aabf : LEA EDX,[EBP + 0xc]
0040aac2 : MOV dword ptr [EBP + -0x10],EBX
0040aac5 : CALL 0x00416210
0040aaca : MOV ECX,dword ptr [EBX]
0040aacc : CMP byte ptr [ECX + 0x15],0x0
0040aad0 : JZ 0x0040aad7
0040aad2 : MOV EDI,dword ptr [EBX + 0x8]
0040aad5 : JMP 0x0040aaf5
0040aad7 : MOV EDX,dword ptr [EBX + 0x8]
0040aada : CMP byte ptr [EDX + 0x15],0x0
0040aade : JZ 0x0040aae4
0040aae0 : MOV EDI,ECX
0040aae2 : JMP 0x0040aaf5
0040aae4 : MOV EAX,dword ptr [EBP + 0xc]
0040aae7 : MOV EDI,dword ptr [EAX + 0x8]
0040aaea : LEA EDX,[EAX + 0x8]
0040aaed : CMP EAX,EBX
0040aaef : JNZ 0x0040ab7f
0040aaf5 : CMP byte ptr [EDI + 0x15],0x0
0040aaf9 : MOV ESI,dword ptr [EBX + 0x4]
0040aafc : JNZ 0x0040ab01
0040aafe : MOV dword ptr [EDI + 0x4],ESI
0040ab01 : MOV EAX,[0x01721078]
0040ab06 : CMP dword ptr [EAX + 0x4],EBX
0040ab09 : JNZ 0x0040ab10
0040ab0b : MOV dword ptr [EAX + 0x4],EDI
0040ab0e : JMP 0x0040ab1b
0040ab10 : CMP dword ptr [ESI],EBX
0040ab12 : JNZ 0x0040ab18
0040ab14 : MOV dword ptr [ESI],EDI
0040ab16 : JMP 0x0040ab1b
0040ab18 : MOV dword ptr [ESI + 0x8],EDI
0040ab1b : MOV EDX,dword ptr [0x01721078]
0040ab21 : CMP dword ptr [EDX],EBX
0040ab23 : JNZ 0x0040ab4c
0040ab25 : CMP byte ptr [EDI + 0x15],0x0
0040ab29 : JZ 0x0040ab2f
0040ab2b : MOV ECX,ESI
0040ab2d : JMP 0x0040ab4a
0040ab2f : MOV EAX,dword ptr [EDI]
0040ab31 : CMP byte ptr [EAX + 0x15],0x0
0040ab35 : MOV ECX,EDI
0040ab37 : JNZ 0x0040ab4a
0040ab39 : LEA ESP,[ESP]
0040ab40 : MOV ECX,EAX
0040ab42 : MOV EAX,dword ptr [ECX]
0040ab44 : CMP byte ptr [EAX + 0x15],0x0
0040ab48 : JZ 0x0040ab40
0040ab4a : MOV dword ptr [EDX],ECX
0040ab4c : MOV EAX,[0x01721078]
0040ab51 : CMP dword ptr [EAX + 0x8],EBX
0040ab54 : JNZ 0x0040abde
0040ab5a : CMP byte ptr [EDI + 0x15],0x0
0040ab5e : JZ 0x0040ab6d
0040ab60 : MOV ECX,dword ptr [0x01721078]
0040ab66 : MOV EAX,ESI
0040ab68 : MOV dword ptr [ECX + 0x8],EAX
0040ab6b : JMP 0x0040abde
0040ab6d : MOV EAX,EDI
0040ab6f : CALL 0x0041fe30
0040ab74 : MOV ECX,dword ptr [0x01721078]
0040ab7a : MOV dword ptr [ECX + 0x8],EAX
0040ab7d : JMP 0x0040abde
0040ab7f : MOV dword ptr [ECX + 0x4],EAX
0040ab82 : MOV ECX,dword ptr [EBX]
0040ab84 : MOV dword ptr [EAX],ECX
0040ab86 : CMP EAX,dword ptr [EBX + 0x8]
0040ab89 : JNZ 0x0040ab8f
0040ab8b : MOV ESI,EAX
0040ab8d : JMP 0x0040aba8
0040ab8f : CMP byte ptr [EDI + 0x15],0x0
0040ab93 : MOV ESI,dword ptr [EAX + 0x4]
0040ab96 : JNZ 0x0040ab9b
0040ab98 : MOV dword ptr [EDI + 0x4],ESI
0040ab9b : MOV dword ptr [ESI],EDI
0040ab9d : MOV ECX,dword ptr [EBX + 0x8]
0040aba0 : MOV dword ptr [EDX],ECX
0040aba2 : MOV EDX,dword ptr [EBX + 0x8]
0040aba5 : MOV dword ptr [EDX + 0x4],EAX
0040aba8 : MOV ECX,dword ptr [0x01721078]
0040abae : CMP dword ptr [ECX + 0x4],EBX
0040abb1 : JNZ 0x0040abb8
0040abb3 : MOV dword ptr [ECX + 0x4],EAX
0040abb6 : JMP 0x0040abc6
0040abb8 : MOV ECX,dword ptr [EBX + 0x4]
0040abbb : CMP dword ptr [ECX],EBX
0040abbd : JNZ 0x0040abc3
0040abbf : MOV dword ptr [ECX],EAX
0040abc1 : JMP 0x0040abc6
0040abc3 : MOV dword ptr [ECX + 0x8],EAX
0040abc6 : MOV ECX,dword ptr [EBX + 0x4]
0040abc9 : MOV dword ptr [EAX + 0x4],ECX
0040abcc : LEA ECX,[EBX + 0x14]
0040abcf : ADD EAX,0x14
0040abd2 : CMP EAX,ECX
0040abd4 : JZ 0x0040abde
0040abd6 : MOV BL,byte ptr [ECX]
0040abd8 : MOV DL,byte ptr [EAX]
0040abda : MOV byte ptr [EAX],BL
0040abdc : MOV byte ptr [ECX],DL
0040abde : MOV EDX,dword ptr [EBP + -0x10]
0040abe1 : MOV EBX,0x1
0040abe6 : CMP byte ptr [EDX + 0x14],BL
0040abe9 : JNZ 0x0040ace4
0040abef : MOV EAX,[0x01721078]
0040abf4 : CMP EDI,dword ptr [EAX + 0x4]
0040abf7 : JZ 0x0040ace1
0040abfd : LEA ECX,[ECX]
0040ac00 : CMP byte ptr [EDI + 0x14],BL
0040ac03 : JNZ 0x0040ace1
0040ac09 : MOV ECX,dword ptr [ESI]
0040ac0b : CMP EDI,ECX
0040ac0d : JNZ 0x0040ac6f
0040ac0f : MOV ECX,dword ptr [ESI + 0x8]
0040ac12 : CMP byte ptr [ECX + 0x14],0x0
0040ac16 : JNZ 0x0040ac29
0040ac18 : MOV byte ptr [ECX + 0x14],BL
0040ac1b : MOV ECX,ESI
0040ac1d : MOV byte ptr [ESI + 0x14],0x0
0040ac21 : CALL 0x0040ad60
0040ac26 : MOV ECX,dword ptr [ESI + 0x8]
0040ac29 : CMP byte ptr [ECX + 0x15],0x0
0040ac2d : JNZ 0x0040ac9e
0040ac2f : MOV EDX,dword ptr [ECX]
0040ac31 : CMP byte ptr [EDX + 0x14],BL
0040ac34 : JNZ 0x0040ac3e
0040ac36 : MOV EAX,dword ptr [ECX + 0x8]
0040ac39 : CMP byte ptr [EAX + 0x14],BL
0040ac3c : JZ 0x0040ac9a
0040ac3e : MOV EDX,dword ptr [ECX + 0x8]
0040ac41 : CMP byte ptr [EDX + 0x14],BL
0040ac44 : JNZ 0x0040ac57
0040ac46 : MOV EAX,dword ptr [ECX]
0040ac48 : MOV byte ptr [EAX + 0x14],BL
0040ac4b : MOV byte ptr [ECX + 0x14],0x0
0040ac4f : CALL 0x0040adb0
0040ac54 : MOV ECX,dword ptr [ESI + 0x8]
0040ac57 : MOV DL,byte ptr [ESI + 0x14]
0040ac5a : MOV byte ptr [ECX + 0x14],DL
0040ac5d : MOV byte ptr [ESI + 0x14],BL
0040ac60 : MOV EAX,dword ptr [ECX + 0x8]
0040ac63 : MOV ECX,ESI
0040ac65 : MOV byte ptr [EAX + 0x14],BL
0040ac68 : CALL 0x0040ad60
0040ac6d : JMP 0x0040ace1
0040ac6f : CMP byte ptr [ECX + 0x14],0x0
0040ac73 : JNZ 0x0040ac85
0040ac75 : MOV byte ptr [ECX + 0x14],BL
0040ac78 : MOV ECX,ESI
0040ac7a : MOV byte ptr [ESI + 0x14],0x0
0040ac7e : CALL 0x0040adb0
0040ac83 : MOV ECX,dword ptr [ESI]
0040ac85 : CMP byte ptr [ECX + 0x15],0x0
0040ac89 : JNZ 0x0040ac9e
0040ac8b : MOV EDX,dword ptr [ECX + 0x8]
0040ac8e : CMP byte ptr [EDX + 0x14],BL
0040ac91 : JNZ 0x0040acb4
0040ac93 : MOV EAX,dword ptr [ECX]
0040ac95 : CMP byte ptr [EAX + 0x14],BL
0040ac98 : JNZ 0x0040acb4
0040ac9a : MOV byte ptr [ECX + 0x14],0x0
0040ac9e : MOV ECX,dword ptr [0x01721078]
0040aca4 : MOV EDI,ESI
0040aca6 : MOV ESI,dword ptr [ESI + 0x4]
0040aca9 : CMP EDI,dword ptr [ECX + 0x4]
0040acac : JNZ 0x0040ac00
0040acb2 : JMP 0x0040ace1
0040acb4 : MOV EDX,dword ptr [ECX]
0040acb6 : CMP byte ptr [EDX + 0x14],BL
0040acb9 : JNZ 0x0040accc
0040acbb : MOV EAX,dword ptr [ECX + 0x8]
0040acbe : MOV byte ptr [EAX + 0x14],BL
0040acc1 : MOV byte ptr [ECX + 0x14],0x0
0040acc5 : CALL 0x0040ad60
0040acca : MOV ECX,dword ptr [ESI]
0040accc : MOV DL,byte ptr [ESI + 0x14]
0040accf : MOV byte ptr [ECX + 0x14],DL
0040acd2 : MOV byte ptr [ESI + 0x14],BL
0040acd5 : MOV EAX,dword ptr [ECX]
0040acd7 : MOV ECX,ESI
0040acd9 : MOV byte ptr [EAX + 0x14],BL
0040acdc : CALL 0x0040adb0
0040ace1 : MOV byte ptr [EDI + 0x14],BL
0040ace4 : MOV ECX,dword ptr [EBP + -0x10]
0040ace7 : CALL 0x006f04e0
