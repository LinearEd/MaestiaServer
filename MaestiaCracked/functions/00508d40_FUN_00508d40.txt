PROGRAM  : Maestia.exe
FUNCTION : FUN_00508d40
ENTRY    : 00508d40
BODY     : [[00508d40, 00508dc0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00508d40(undefined4 param_1,undefined4 *param_2)

{
  uint uVar1;
  int iVar2;
  int *in_ECX;
  
  uVar1 = FUN_0051b370((*(uint *)*param_2 & 0xfffffffc) + 8,
                       *(uint *)(*(uint *)*param_2 & 0xfffffffc) & 0x7fffffff,0x1505);
  if (*in_ECX != 0) {
    iVar2 = FUN_00503660(param_2,*(uint *)(*in_ECX + 4) & uVar1);
    if (-1 < iVar2) {
      FUN_0051bc20(*param_2);
      FUN_0051bc20(param_2[1]);
      return;
    }
  }
  FUN_00508600(param_1,param_2,uVar1);
  return;
}



============================================================
DISASSEMBLY
============================================================
00508d40 : PUSH EBX
00508d41 : MOV EBX,dword ptr [ESP + 0xc]
00508d45 : MOV EAX,dword ptr [EBX]
00508d47 : MOV EAX,dword ptr [EAX]
00508d49 : PUSH EBP
00508d4a : PUSH ESI
00508d4b : PUSH EDI
00508d4c : MOV EDI,ECX
00508d4e : MOV ECX,EAX
00508d50 : AND ECX,0xfffffffc
00508d53 : MOV ECX,dword ptr [ECX]
00508d55 : PUSH 0x1505
00508d5a : AND ECX,0x7fffffff
00508d60 : AND EAX,0xfffffffc
00508d63 : PUSH ECX
00508d64 : ADD EAX,0x8
00508d67 : PUSH EAX
00508d68 : CALL 0x0051b370
00508d6d : MOV ESI,dword ptr [EDI]
00508d6f : MOV EBP,EAX
00508d71 : TEST ESI,ESI
00508d73 : JZ 0x00508dac
00508d75 : MOV EDX,dword ptr [ESI + 0x4]
00508d78 : AND EDX,EBP
00508d7a : PUSH EDX
00508d7b : PUSH EBX
00508d7c : MOV ECX,EDI
00508d7e : CALL 0x00503660
00508d83 : TEST EAX,EAX
00508d85 : JL 0x00508dac
00508d87 : LEA EDI,[EAX + 0x1]
00508d8a : MOV EAX,dword ptr [EBX]
00508d8c : SHL EDI,0x4
00508d8f : ADD EDI,ESI
00508d91 : PUSH EAX
00508d92 : MOV ECX,EDI
00508d94 : CALL 0x0051bc20
00508d99 : MOV ECX,dword ptr [EBX + 0x4]
00508d9c : PUSH ECX
00508d9d : LEA ECX,[EDI + 0x4]
00508da0 : CALL 0x0051bc20
00508da5 : POP EDI
00508da6 : POP ESI
00508da7 : POP EBP
00508da8 : POP EBX
00508da9 : RET 0x8
00508dac : MOV EDX,dword ptr [ESP + 0x14]
00508db0 : PUSH EBP
00508db1 : PUSH EBX
00508db2 : PUSH EDX
00508db3 : MOV ECX,EDI
00508db5 : CALL 0x00508600
00508dba : POP EDI
00508dbb : POP ESI
00508dbc : POP EBP
00508dbd : POP EBX
00508dbe : RET 0x8
