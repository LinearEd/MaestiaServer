PROGRAM  : Maestia.exe
FUNCTION : FUN_005be660
ENTRY    : 005be660
BODY     : [[005be660, 005be745]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005be660(int param_1)

{
  undefined1 *puVar1;
  ulonglong uVar2;
  int iVar3;
  undefined4 uVar4;
  float10 fVar5;
  undefined4 uVar6;
  undefined8 uStack_10;
  undefined4 uStack_8;
  undefined4 uStack_4;
  
  puVar1 = *(undefined1 **)(param_1 + 4);
  FUN_00526400();
  *puVar1 = 0;
  iVar3 = FUN_005296a0();
  uVar4 = 0;
  if (0 < *(int *)(param_1 + 0x1c)) {
    uVar4 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(0);
    fVar5 = (float10)FUN_00527730(uVar4);
    uStack_10 = (longlong)ROUND(fVar5);
    uVar4 = (undefined4)uStack_10;
  }
  uStack_4 = 0;
  if (1 < *(int *)(param_1 + 0x1c)) {
    uVar6 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(1);
    fVar5 = (float10)FUN_00527730(uVar6);
    uStack_10 = (longlong)ROUND(fVar5);
    uStack_4 = (undefined4)uStack_10;
  }
  if (*(int **)(iVar3 + 0x10c) != (int *)0x0) {
    uVar2 = (ulonglong)uStack_10 >> 0x20;
    uStack_10 = CONCAT44((uint)uVar2 & 0xffffff00,0xc);
    uStack_8 = uVar4;
    (**(code **)(**(int **)(iVar3 + 0x10c) + 4))(iVar3,&uStack_10);
    return;
  }
  FUN_0052e570(*(undefined4 *)(param_1 + 0x18),
               "Warning: no user event handler interface is installed; Mouse.setCursorType failed.\n"
              );
  return;
}



============================================================
DISASSEMBLY
============================================================
005be660 : SUB ESP,0x10
005be663 : PUSH EBX
005be664 : PUSH ESI
005be665 : MOV ESI,dword ptr [ESP + 0x1c]
005be669 : PUSH EDI
005be66a : MOV EDI,dword ptr [ESI + 0x4]
005be66d : MOV ECX,EDI
005be66f : CALL 0x00526400
005be674 : MOV byte ptr [EDI],0x0
005be677 : MOV ECX,dword ptr [ESI + 0x18]
005be67a : CALL 0x005296a0
005be67f : XOR EDI,EDI
005be681 : CMP dword ptr [ESI + 0x1c],EDI
005be684 : MOV EBX,EAX
005be686 : JLE 0x005be6bd
005be688 : MOV EAX,dword ptr [ESI + 0x18]
005be68b : PUSH EAX
005be68c : PUSH EDI
005be68d : MOV ECX,ESI
005be68f : CALL 0x00526260
005be694 : MOV ECX,EAX
005be696 : CALL 0x00527730
005be69b : FNSTCW word ptr [ESP + 0x20]
005be69f : MOVZX EAX,word ptr [ESP + 0x20]
005be6a4 : OR EAX,0xc00
005be6a9 : MOV dword ptr [ESP + 0xc],EAX
005be6ad : FLDCW word ptr [ESP + 0xc]
005be6b1 : FISTP qword ptr [ESP + 0xc]
005be6b5 : MOV EDI,dword ptr [ESP + 0xc]
005be6b9 : FLDCW word ptr [ESP + 0x20]
005be6bd : XOR EAX,EAX
005be6bf : CMP dword ptr [ESI + 0x1c],0x2
005be6c3 : JL 0x005be6fb
005be6c5 : MOV ECX,dword ptr [ESI + 0x18]
005be6c8 : PUSH ECX
005be6c9 : PUSH 0x1
005be6cb : MOV ECX,ESI
005be6cd : CALL 0x00526260
005be6d2 : MOV ECX,EAX
005be6d4 : CALL 0x00527730
005be6d9 : FNSTCW word ptr [ESP + 0x20]
005be6dd : MOVZX EAX,word ptr [ESP + 0x20]
005be6e2 : OR EAX,0xc00
005be6e7 : MOV dword ptr [ESP + 0xc],EAX
005be6eb : FLDCW word ptr [ESP + 0xc]
005be6ef : FISTP qword ptr [ESP + 0xc]
005be6f3 : MOV EAX,dword ptr [ESP + 0xc]
005be6f7 : FLDCW word ptr [ESP + 0x20]
005be6fb : MOV ECX,dword ptr [EBX + 0x10c]
005be701 : TEST ECX,ECX
005be703 : JZ 0x005be72e
005be705 : MOV dword ptr [ESP + 0x18],EAX
005be709 : LEA EAX,[ESP + 0xc]
005be70d : MOV byte ptr [ESP + 0x10],0x0
005be712 : MOV dword ptr [ESP + 0xc],0xc
005be71a : MOV dword ptr [ESP + 0x14],EDI
005be71e : MOV EDX,dword ptr [ECX]
005be720 : MOV EDX,dword ptr [EDX + 0x4]
005be723 : PUSH EAX
005be724 : PUSH EBX
005be725 : CALL EDX
005be727 : POP EDI
005be728 : POP ESI
005be729 : POP EBX
005be72a : ADD ESP,0x10
005be72d : RET
005be72e : MOV EAX,dword ptr [ESI + 0x18]
005be731 : PUSH 0xb912f0
005be736 : PUSH EAX
005be737 : CALL 0x0052e570
005be73c : ADD ESP,0x8
005be73f : POP EDI
005be740 : POP ESI
005be741 : POP EBX
005be742 : ADD ESP,0x10
005be745 : RET
