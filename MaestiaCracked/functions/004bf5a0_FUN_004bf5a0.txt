PROGRAM  : Maestia.exe
FUNCTION : FUN_004bf5a0
ENTRY    : 004bf5a0
BODY     : [[004bf5a0, 004bf63e]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_004bf5a0(undefined4 *param_1,int *param_2)

{
  int in_EAX;
  undefined4 *puVar1;
  undefined4 *puVar2;
  bool bVar3;
  
  puVar2 = *(undefined4 **)(in_EAX + 4);
  bVar3 = true;
  if (*(char *)((int)puVar2[1] + 0x25) == '\0') {
    puVar1 = (undefined4 *)puVar2[1];
    do {
      puVar2 = puVar1;
      bVar3 = *param_2 < (int)puVar2[3];
      if (bVar3) {
        puVar1 = (undefined4 *)*puVar2;
      }
      else {
        puVar1 = (undefined4 *)puVar2[2];
      }
    } while (*(char *)((int)puVar1 + 0x25) == '\0');
  }
  if (bVar3) {
    if (puVar2 == (undefined4 *)**(int **)(in_EAX + 4)) {
      bVar3 = true;
      goto LAB_004bf5f4;
    }
    FUN_004c0240();
  }
  if (*param_2 <= (int)puVar2[3]) {
    *param_1 = puVar2;
    *(undefined1 *)(param_1 + 1) = 0;
    return param_1;
  }
LAB_004bf5f4:
  puVar2 = (undefined4 *)FUN_004bf780(&param_2,bVar3,param_2);
  *param_1 = *puVar2;
  *(undefined1 *)(param_1 + 1) = 1;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
004bf5a0 : PUSH EBP
004bf5a1 : MOV EBP,ESP
004bf5a3 : PUSH ECX
004bf5a4 : PUSH EBX
004bf5a5 : MOV EBX,dword ptr [EBP + 0x8]
004bf5a8 : PUSH ESI
004bf5a9 : PUSH EDI
004bf5aa : MOV EDI,EAX
004bf5ac : MOV ESI,dword ptr [EDI + 0x4]
004bf5af : MOV EAX,dword ptr [ESI + 0x4]
004bf5b2 : CMP byte ptr [EAX + 0x25],0x0
004bf5b6 : MOV CL,0x1
004bf5b8 : MOV byte ptr [EBP + -0x4],CL
004bf5bb : JNZ 0x004bf5de
004bf5bd : MOV ECX,dword ptr [EBP + 0xc]
004bf5c0 : MOV EDX,dword ptr [ECX]
004bf5c2 : CMP EDX,dword ptr [EAX + 0xc]
004bf5c5 : MOV ESI,EAX
004bf5c7 : SETL CL
004bf5ca : MOV byte ptr [EBP + -0x4],CL
004bf5cd : TEST CL,CL
004bf5cf : JZ 0x004bf5d5
004bf5d1 : MOV EAX,dword ptr [EAX]
004bf5d3 : JMP 0x004bf5d8
004bf5d5 : MOV EAX,dword ptr [EAX + 0x8]
004bf5d8 : CMP byte ptr [EAX + 0x25],0x0
004bf5dc : JZ 0x004bf5c2
004bf5de : MOV EAX,ESI
004bf5e0 : MOV dword ptr [EBP + 0x8],EAX
004bf5e3 : TEST CL,CL
004bf5e5 : JZ 0x004bf61d
004bf5e7 : MOV EDX,dword ptr [EDI + 0x4]
004bf5ea : CMP ESI,dword ptr [EDX]
004bf5ec : JNZ 0x004bf612
004bf5ee : MOV EAX,dword ptr [EBP + 0xc]
004bf5f1 : PUSH EAX
004bf5f2 : PUSH 0x1
004bf5f4 : LEA ECX,[EBP + 0xc]
004bf5f7 : PUSH ECX
004bf5f8 : MOV ECX,ESI
004bf5fa : CALL 0x004bf780
004bf5ff : MOV EDX,dword ptr [EAX]
004bf601 : MOV dword ptr [EBX],EDX
004bf603 : MOV byte ptr [EBX + 0x4],0x1
004bf607 : MOV EAX,EBX
004bf609 : POP EDI
004bf60a : POP ESI
004bf60b : POP EBX
004bf60c : MOV ESP,EBP
004bf60e : POP EBP
004bf60f : RET 0x8
004bf612 : LEA EDX,[EBP + 0x8]
004bf615 : CALL 0x004c0240
004bf61a : MOV EAX,dword ptr [EBP + 0x8]
004bf61d : MOV EDX,dword ptr [EAX + 0xc]
004bf620 : MOV ECX,dword ptr [EBP + 0xc]
004bf623 : CMP EDX,dword ptr [ECX]
004bf625 : JGE 0x004bf62e
004bf627 : MOV EAX,dword ptr [EBP + -0x4]
004bf62a : PUSH ECX
004bf62b : PUSH EAX
004bf62c : JMP 0x004bf5f4
004bf62e : POP EDI
004bf62f : MOV dword ptr [EBX],EAX
004bf631 : POP ESI
004bf632 : MOV byte ptr [EBX + 0x4],0x0
004bf636 : MOV EAX,EBX
004bf638 : POP EBX
004bf639 : MOV ESP,EBP
004bf63b : POP EBP
004bf63c : RET 0x8
