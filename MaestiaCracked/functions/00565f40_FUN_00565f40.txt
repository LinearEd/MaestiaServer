PROGRAM  : Maestia.exe
FUNCTION : FUN_00565f40
ENTRY    : 00565f40
BODY     : [[00565f40, 00565fde]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00565f40(undefined4 *param_1,undefined4 param_2)

{
  undefined4 *puVar1;
  char cVar2;
  int *piVar3;
  uint uVar4;
  int in_ECX;
  int local_8;
  int local_4;
  
  puVar1 = param_1;
  local_8 = 0;
  local_4 = 0;
  *param_1 = 0;
  param_1[1] = 0;
  cVar2 = FUN_00565560(&local_8,param_2);
  if (cVar2 != '\0') {
    piVar3 = (int *)FUN_00562070(*(int *)(in_ECX + 0x1c) + 0x18,&param_1);
    if (piVar3 != (int *)0x0) {
      uVar4 = (**(code **)(*piVar3 + 8))();
      if ((uVar4 & 0x8000) != 0) {
        puVar1[1] = param_1[10];
        *puVar1 = piVar3;
      }
    }
  }
  if ((local_8 == 0) && (local_4 != 0)) {
    FUN_00524240();
  }
  return puVar1;
}



============================================================
DISASSEMBLY
============================================================
00565f40 : SUB ESP,0x8
00565f43 : MOV EDX,dword ptr [ESP + 0x10]
00565f47 : PUSH ESI
00565f48 : PUSH EDI
00565f49 : MOV EDI,dword ptr [ESP + 0x14]
00565f4d : MOV ESI,ECX
00565f4f : MOV EAX,dword ptr [ESI + 0x1c]
00565f52 : MOV EAX,dword ptr [EAX + 0xc]
00565f55 : PUSH ECX
00565f56 : MOV ECX,ESP
00565f58 : MOV dword ptr [ECX],EDX
00565f5a : MOV EAX,dword ptr [EAX + 0x20]
00565f5d : LEA ECX,[ESP + 0xc]
00565f61 : PUSH ECX
00565f62 : MOV ECX,EAX
00565f64 : MOV dword ptr [ESP + 0x10],0x0
00565f6c : MOV dword ptr [ESP + 0x14],0x0
00565f74 : MOV dword ptr [EDI],0x0
00565f7a : MOV dword ptr [EDI + 0x4],0x0
00565f81 : CALL 0x00565560
00565f86 : TEST AL,AL
00565f88 : JZ 0x00565fc1
00565f8a : MOV ESI,dword ptr [ESI + 0x1c]
00565f8d : LEA EDX,[ESP + 0x14]
00565f91 : PUSH EDX
00565f92 : ADD ESI,0x18
00565f95 : PUSH ESI
00565f96 : LEA ECX,[ESP + 0x10]
00565f9a : CALL 0x00562070
00565f9f : MOV ESI,EAX
00565fa1 : TEST ESI,ESI
00565fa3 : JZ 0x00565fc1
00565fa5 : MOV EAX,dword ptr [ESI]
00565fa7 : MOV EDX,dword ptr [EAX + 0x8]
00565faa : MOV ECX,ESI
00565fac : CALL EDX
00565fae : TEST EAX,0x8000
00565fb3 : JZ 0x00565fc1
00565fb5 : MOV EAX,dword ptr [ESP + 0x14]
00565fb9 : MOV ECX,dword ptr [EAX + 0x28]
00565fbc : MOV dword ptr [EDI + 0x4],ECX
00565fbf : MOV dword ptr [EDI],ESI
00565fc1 : CMP dword ptr [ESP + 0x8],0x0
00565fc6 : JNZ 0x00565fd5
00565fc8 : MOV ECX,dword ptr [ESP + 0xc]
00565fcc : TEST ECX,ECX
00565fce : JZ 0x00565fd5
00565fd0 : CALL 0x00524240
00565fd5 : MOV EAX,EDI
00565fd7 : POP EDI
00565fd8 : POP ESI
00565fd9 : ADD ESP,0x8
00565fdc : RET 0x8
