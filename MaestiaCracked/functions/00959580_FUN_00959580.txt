PROGRAM  : Maestia.exe
FUNCTION : FUN_00959580
ENTRY    : 00959580
BODY     : [[00959580, 009596c7]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00959580(void)

{
  int iVar1;
  int *piVar2;
  int unaff_ESI;
  char *pcVar3;
  undefined *puVar4;
  undefined4 uVar5;
  
  if (*(int *)(unaff_ESI + 0x48) == 10) {
    if ((*DAT_00da9894 == 0) || (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 == (int *)0x0))
    goto LAB_00959605;
    uVar5 = 0;
    puVar4 = &DAT_00c76f58;
    pcVar3 = "SetDiceLootType";
  }
  else {
    iVar1 = *DAT_00da9894;
    if (*(int *)(unaff_ESI + 0x48) != 0xb) {
      if ((iVar1 != 0) && (piVar2 = *(int **)(iVar1 + 0x114), piVar2 != (int *)0x0)) {
        (**(code **)(*piVar2 + 4))(piVar2,"SetDiceLootType",&DAT_00c76f80,0);
      }
      goto LAB_00959605;
    }
    if ((iVar1 == 0) || (piVar2 = *(int **)(iVar1 + 0x114), piVar2 == (int *)0x0))
    goto LAB_00959605;
    uVar5 = 1;
    puVar4 = &DAT_00c76f6c;
    pcVar3 = "SetDiceLootType";
  }
  (**(code **)(*piVar2 + 4))(piVar2,pcVar3,puVar4,uVar5);
LAB_00959605:
  iVar1 = *(int *)(unaff_ESI + 0x44);
  if (iVar1 == 2) {
    if ((*DAT_00da9894 != 0) && (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
      (**(code **)(*piVar2 + 4))(piVar2,"SetDiceItemQuality",&DAT_00c76f94,0);
    }
  }
  else if (iVar1 == 3) {
    if ((*DAT_00da9894 != 0) && (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
      (**(code **)(*piVar2 + 4))(piVar2,"SetDiceItemQuality",&DAT_00c76fac,1);
      return;
    }
  }
  else if (iVar1 == 4) {
    if ((*DAT_00da9894 != 0) && (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
      (**(code **)(*piVar2 + 4))(piVar2,"SetDiceItemQuality",&DAT_00c76fc4,2);
      return;
    }
  }
  else {
    iVar1 = *DAT_00da9894;
    if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
      (**(code **)(**(int **)(iVar1 + 0x114) + 4))
                (*(int **)(iVar1 + 0x114),"SetDiceItemQuality",&DAT_00c76fdc,0);
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00959580 : MOV EAX,dword ptr [ESI + 0x48]
00959583 : SUB EAX,0xa
00959586 : JZ 0x009595d4
00959588 : SUB EAX,0x1
0095958b : MOV EAX,[0x00da9894]
00959590 : MOV ECX,dword ptr [EAX]
00959592 : JZ 0x009595b8
00959594 : TEST ECX,ECX
00959596 : JZ 0x00959605
00959598 : MOV ECX,dword ptr [ECX + 0x114]
0095959e : TEST ECX,ECX
009595a0 : JZ 0x00959605
009595a2 : MOV EAX,dword ptr [ECX]
009595a4 : PUSH 0x0
009595a6 : PUSH 0xc76f80
009595ab : PUSH 0xc76f84
009595b0 : PUSH ECX
009595b1 : MOV ECX,dword ptr [EAX + 0x4]
009595b4 : CALL ECX
009595b6 : JMP 0x009595fd
009595b8 : TEST ECX,ECX
009595ba : JZ 0x00959605
009595bc : MOV ECX,dword ptr [ECX + 0x114]
009595c2 : TEST ECX,ECX
009595c4 : JZ 0x00959605
009595c6 : PUSH 0x1
009595c8 : PUSH 0xc76f6c
009595cd : PUSH 0xc76f70
009595d2 : JMP 0x009595f5
009595d4 : MOV EAX,[0x00da9894]
009595d9 : MOV ECX,dword ptr [EAX]
009595db : TEST ECX,ECX
009595dd : JZ 0x00959605
009595df : MOV ECX,dword ptr [ECX + 0x114]
009595e5 : TEST ECX,ECX
009595e7 : JZ 0x00959605
009595e9 : PUSH 0x0
009595eb : PUSH 0xc76f58
009595f0 : PUSH 0xc76f5c
009595f5 : MOV EDX,dword ptr [ECX]
009595f7 : MOV EAX,dword ptr [EDX + 0x4]
009595fa : PUSH ECX
009595fb : CALL EAX
009595fd : MOV EAX,[0x00da9894]
00959602 : ADD ESP,0x10
00959605 : MOV ECX,dword ptr [ESI + 0x44]
00959608 : SUB ECX,0x2
0095960b : JZ 0x009596a0
00959611 : SUB ECX,0x1
00959614 : JZ 0x00959678
00959616 : SUB ECX,0x1
00959619 : JZ 0x00959650
0095961b : MOV ECX,dword ptr [EAX]
0095961d : TEST ECX,ECX
0095961f : JZ 0x009596c7
00959625 : CMP dword ptr [ECX + 0x114],0x0
0095962c : JZ 0x009596c7
00959632 : MOV EAX,dword ptr [ECX + 0x114]
00959638 : MOV EDX,dword ptr [EAX]
0095963a : PUSH 0x0
0095963c : PUSH 0xc76fdc
00959641 : PUSH 0xc76fe0
00959646 : PUSH EAX
00959647 : MOV EAX,dword ptr [EDX + 0x4]
0095964a : CALL EAX
0095964c : ADD ESP,0x10
0095964f : RET
00959650 : MOV EAX,dword ptr [EAX]
00959652 : TEST EAX,EAX
00959654 : JZ 0x009596c7
00959656 : MOV EAX,dword ptr [EAX + 0x114]
0095965c : TEST EAX,EAX
0095965e : JZ 0x009596c7
00959660 : MOV ECX,dword ptr [EAX]
00959662 : MOV EDX,dword ptr [ECX + 0x4]
00959665 : PUSH 0x2
00959667 : PUSH 0xc76fc4
0095966c : PUSH 0xc76fc8
00959671 : PUSH EAX
00959672 : CALL EDX
00959674 : ADD ESP,0x10
00959677 : RET
00959678 : MOV EAX,dword ptr [EAX]
0095967a : TEST EAX,EAX
0095967c : JZ 0x009596c7
0095967e : MOV EAX,dword ptr [EAX + 0x114]
00959684 : TEST EAX,EAX
00959686 : JZ 0x009596c7
00959688 : MOV ECX,dword ptr [EAX]
0095968a : MOV EDX,dword ptr [ECX + 0x4]
0095968d : PUSH 0x1
0095968f : PUSH 0xc76fac
00959694 : PUSH 0xc76fb0
00959699 : PUSH EAX
0095969a : CALL EDX
0095969c : ADD ESP,0x10
0095969f : RET
009596a0 : MOV EAX,dword ptr [EAX]
009596a2 : TEST EAX,EAX
009596a4 : JZ 0x009596c7
009596a6 : MOV EAX,dword ptr [EAX + 0x114]
009596ac : TEST EAX,EAX
009596ae : JZ 0x009596c7
009596b0 : MOV ECX,dword ptr [EAX]
009596b2 : MOV EDX,dword ptr [ECX + 0x4]
009596b5 : PUSH 0x0
009596b7 : PUSH 0xc76f94
009596bc : PUSH 0xc76f98
009596c1 : PUSH EAX
009596c2 : CALL EDX
009596c4 : ADD ESP,0x10
009596c7 : RET
