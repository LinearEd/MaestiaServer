PROGRAM  : Maestia.exe
FUNCTION : __wcscoll_l
ENTRY    : 0063c008
BODY     : [[0063c008, 0063c0ad]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    __wcscoll_l
   
   Library: Visual Studio 2008 Release */

int __cdecl __wcscoll_l(wchar_t *_Str1,wchar_t *_Str2,_locale_t _Locale)

{
  int *piVar1;
  int iVar2;
  int local_14 [2];
  int local_c;
  char local_8;
  
  _LocaleUpdate::_LocaleUpdate((_LocaleUpdate *)local_14,_Locale);
  if ((_Str1 == (wchar_t *)0x0) || (_Str2 == (wchar_t *)0x0)) {
    piVar1 = __errno();
    *piVar1 = 0x16;
    __invalid_parameter(0,0,0,0,0);
LAB_0063c03b:
    if (local_8 != '\0') {
      *(uint *)(local_c + 0x70) = *(uint *)(local_c + 0x70) & 0xfffffffd;
    }
    iVar2 = 0x7fffffff;
  }
  else {
    if (*(DWORD *)(local_14[0] + 0x10) == 0) {
      iVar2 = _wcscmp(_Str1,_Str2);
    }
    else {
      iVar2 = ___crtCompareStringW
                        ((LPCWSTR)local_14,*(DWORD *)(local_14[0] + 0x10),(LPCWSTR)0x1000,(int)_Str1
                         ,(LPCWSTR)0xffffffff,(int)_Str2);
      if (iVar2 == 0) {
        piVar1 = __errno();
        *piVar1 = 0x16;
        goto LAB_0063c03b;
      }
      iVar2 = iVar2 + -2;
    }
    if (local_8 != '\0') {
      *(uint *)(local_c + 0x70) = *(uint *)(local_c + 0x70) & 0xfffffffd;
    }
  }
  return iVar2;
}



============================================================
DISASSEMBLY
============================================================
0063c008 : MOV EDI,EDI
0063c00a : PUSH EBP
0063c00b : MOV EBP,ESP
0063c00d : SUB ESP,0x10
0063c010 : PUSH EBX
0063c011 : PUSH dword ptr [EBP + 0x10]
0063c014 : LEA ECX,[EBP + -0x10]
0063c017 : CALL 0x00637880
0063c01c : XOR EBX,EBX
0063c01e : CMP dword ptr [EBP + 0x8],EBX
0063c021 : JNZ 0x0063c04e
0063c023 : CALL 0x0063ab82
0063c028 : PUSH EBX
0063c029 : PUSH EBX
0063c02a : PUSH EBX
0063c02b : PUSH EBX
0063c02c : PUSH EBX
0063c02d : MOV dword ptr [EAX],0x16
0063c033 : CALL 0x006372b8
0063c038 : ADD ESP,0x14
0063c03b : CMP byte ptr [EBP + -0x4],BL
0063c03e : JZ 0x0063c047
0063c040 : MOV EAX,dword ptr [EBP + -0x8]
0063c043 : AND dword ptr [EAX + 0x70],0xfffffffd
0063c047 : MOV EAX,0x7fffffff
0063c04c : JMP 0x0063c0ab
0063c04e : CMP dword ptr [EBP + 0xc],EBX
0063c051 : JZ 0x0063c023
0063c053 : MOV EAX,dword ptr [EBP + -0x10]
0063c056 : MOV ECX,dword ptr [EAX + 0x10]
0063c059 : CMP ECX,EBX
0063c05b : JNZ 0x0063c06c
0063c05d : PUSH dword ptr [EBP + 0xc]
0063c060 : PUSH dword ptr [EBP + 0x8]
0063c063 : CALL 0x00658c38
0063c068 : POP ECX
0063c069 : POP ECX
0063c06a : JMP 0x0063c09f
0063c06c : PUSH dword ptr [EAX + 0x8]
0063c06f : LEA EAX,[EBP + -0x10]
0063c072 : PUSH -0x1
0063c074 : PUSH dword ptr [EBP + 0xc]
0063c077 : PUSH -0x1
0063c079 : PUSH dword ptr [EBP + 0x8]
0063c07c : PUSH 0x1000
0063c081 : PUSH ECX
0063c082 : PUSH EAX
0063c083 : CALL 0x0064528c
0063c088 : ADD ESP,0x20
0063c08b : CMP EAX,EBX
0063c08d : JNZ 0x0063c09c
0063c08f : CALL 0x0063ab82
0063c094 : MOV dword ptr [EAX],0x16
0063c09a : JMP 0x0063c03b
0063c09c : ADD EAX,-0x2
0063c09f : CMP byte ptr [EBP + -0x4],BL
0063c0a2 : JZ 0x0063c0ab
0063c0a4 : MOV ECX,dword ptr [EBP + -0x8]
0063c0a7 : AND dword ptr [ECX + 0x70],0xfffffffd
0063c0ab : POP EBX
0063c0ac : LEAVE
0063c0ad : RET
