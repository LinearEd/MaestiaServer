PROGRAM  : Maestia.exe
FUNCTION : FUN_007da3b0
ENTRY    : 007da3b0
BODY     : [[007da3b0, 007da57d] [007da580, 007da5db]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007da3b0(int *param_1,undefined4 param_2,undefined4 param_3)

{
  char cVar1;
  uint uVar2;
  int *piVar3;
  float *pfVar4;
  float *pfVar5;
  int *in_ECX;
  undefined1 local_38 [4];
  undefined2 local_34;
  undefined4 local_24;
  uint local_20;
  int *local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3a4e2;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(undefined1 *)(in_ECX + 0x95) = 0;
  if (*(char *)((int)in_ECX + 0x241) != '\0') {
    FUN_007da040(param_1,param_2,param_3);
    ExceptionList = local_10;
    return;
  }
  if (*(char *)((int)in_ECX + 0x25b) == '\0') {
    cVar1 = (**(code **)(*in_ECX + 0xdc))(param_1,param_2,param_3,uVar2);
    if (cVar1 != '\0') {
      if (((in_ECX[0xa2] != 0) && ((char)in_ECX[0x93] != '\0')) &&
         (*(int *)(DAT_017251ac + 0x3d8) == 2)) {
        pfVar4 = (float *)FUN_007cc270();
        pfVar5 = (float *)(**(code **)(*param_1 + 0x14))();
        if (((*pfVar5 - *pfVar4) * (*pfVar5 - *pfVar4) +
             (pfVar5[1] - pfVar4[1]) * (pfVar5[1] - pfVar4[1]) +
             (pfVar5[2] - pfVar4[2]) * (pfVar5[2] - pfVar4[2]) < 60000.0) && (in_ECX[0x5f] != 0)) {
          FUN_00784a00(in_ECX);
        }
      }
      if (in_ECX[2] != 0) {
        EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
      }
      local_8 = 1;
      piVar3 = (int *)in_ECX[0xe];
      local_14 = (int *)*piVar3;
      local_18 = piVar3;
      if (local_14 != piVar3) {
        do {
          if (local_14[9] != 0) {
            FUN_007fafe0(param_2);
            piVar3 = local_18;
          }
          local_14 = (int *)*local_14;
        } while (local_14 != piVar3);
      }
      local_8 = 0xffffffff;
      if (in_ECX[2] != 0) {
        LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
      }
    }
  }
  else {
    FUN_00406460(L"NamePad");
    local_8 = 0;
    piVar3 = (int *)(**(code **)(*in_ECX + 0x3c))(local_38);
    local_8 = 0xffffffff;
    if (7 < local_20) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_20 = 7;
    local_24 = 0;
    local_34 = 0;
    if ((piVar3 != (int *)0x0) &&
       ((**(code **)(*piVar3 + 0x84))(param_1,param_2,param_3), in_ECX[0x5f] != 0)) {
      FUN_00784a00(in_ECX);
      ExceptionList = local_10;
      return;
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007da3b0 : PUSH EBP
007da3b1 : MOV EBP,ESP
007da3b3 : PUSH -0x1
007da3b5 : PUSH 0xb3a4e2
007da3ba : MOV EAX,FS:[0x0]
007da3c0 : PUSH EAX
007da3c1 : SUB ESP,0x28
007da3c4 : PUSH EBX
007da3c5 : PUSH ESI
007da3c6 : PUSH EDI
007da3c7 : MOV EAX,[0x00d66fa0]
007da3cc : XOR EAX,EBP
007da3ce : PUSH EAX
007da3cf : LEA EAX,[EBP + -0xc]
007da3d2 : MOV FS:[0x0],EAX
007da3d8 : MOV EBX,ECX
007da3da : CMP byte ptr [EBX + 0x241],0x0
007da3e1 : MOV byte ptr [EBX + 0x254],0x0
007da3e8 : JZ 0x007da411
007da3ea : MOV EAX,dword ptr [EBP + 0x10]
007da3ed : MOV ECX,dword ptr [EBP + 0xc]
007da3f0 : MOV EDX,dword ptr [EBP + 0x8]
007da3f3 : PUSH EAX
007da3f4 : PUSH ECX
007da3f5 : PUSH EDX
007da3f6 : MOV EDI,EBX
007da3f8 : CALL 0x007da040
007da3fd : MOV ECX,dword ptr [EBP + -0xc]
007da400 : MOV dword ptr FS:[0x0],ECX
007da407 : POP ECX
007da408 : POP EDI
007da409 : POP ESI
007da40a : POP EBX
007da40b : MOV ESP,EBP
007da40d : POP EBP
007da40e : RET 0xc
007da411 : CMP byte ptr [EBX + 0x25b],0x0
007da418 : JZ 0x007da4ac
007da41e : PUSH 0xc20384
007da423 : LEA ECX,[EBP + -0x34]
007da426 : CALL 0x00406460
007da42b : XOR EDI,EDI
007da42d : MOV dword ptr [EBP + -0x4],EDI
007da430 : MOV EAX,dword ptr [EBX]
007da432 : MOV EDX,dword ptr [EAX + 0x3c]
007da435 : LEA ECX,[EBP + -0x34]
007da438 : PUSH ECX
007da439 : MOV ECX,EBX
007da43b : CALL EDX
007da43d : MOV ESI,EAX
007da43f : MOV dword ptr [EBP + -0x4],0xffffffff
007da446 : CMP dword ptr [EBP + -0x1c],0x8
007da44a : JC 0x007da454
007da44c : MOV ECX,dword ptr [EBP + -0x30]
007da44f : CALL 0x006f04e0
007da454 : XOR EAX,EAX
007da456 : MOV dword ptr [EBP + -0x1c],0x7
007da45d : MOV dword ptr [EBP + -0x20],EDI
007da460 : MOV word ptr [EBP + -0x30],AX
007da464 : CMP ESI,EDI
007da466 : JZ 0x007da5c8
007da46c : MOV EAX,dword ptr [EBP + 0x10]
007da46f : MOV ECX,dword ptr [EBP + 0xc]
007da472 : MOV EDX,dword ptr [ESI]
007da474 : MOV EDX,dword ptr [EDX + 0x84]
007da47a : PUSH EAX
007da47b : MOV EAX,dword ptr [EBP + 0x8]
007da47e : PUSH ECX
007da47f : PUSH EAX
007da480 : MOV ECX,ESI
007da482 : CALL EDX
007da484 : MOV ECX,dword ptr [EBX + 0x17c]
007da48a : CMP ECX,EDI
007da48c : JZ 0x007da5c8
007da492 : PUSH EBX
007da493 : CALL 0x00784a00
007da498 : MOV ECX,dword ptr [EBP + -0xc]
007da49b : MOV dword ptr FS:[0x0],ECX
007da4a2 : POP ECX
007da4a3 : POP EDI
007da4a4 : POP ESI
007da4a5 : POP EBX
007da4a6 : MOV ESP,EBP
007da4a8 : POP EBP
007da4a9 : RET 0xc
007da4ac : MOV ECX,dword ptr [EBP + 0x10]
007da4af : MOV EDX,dword ptr [EBP + 0xc]
007da4b2 : MOV EAX,dword ptr [EBX]
007da4b4 : MOV EDI,dword ptr [EBP + 0x8]
007da4b7 : MOV EAX,dword ptr [EAX + 0xdc]
007da4bd : PUSH ECX
007da4be : PUSH EDX
007da4bf : PUSH EDI
007da4c0 : MOV ECX,EBX
007da4c2 : CALL EAX
007da4c4 : TEST AL,AL
007da4c6 : JZ 0x007da5c8
007da4cc : CMP dword ptr [EBX + 0x288],0x0
007da4d3 : JZ 0x007da552
007da4d5 : CMP byte ptr [EBX + 0x24c],0x0
007da4dc : JZ 0x007da552
007da4de : MOV ECX,dword ptr [0x017251ac]
007da4e4 : CMP dword ptr [ECX + 0x3d8],0x2
007da4eb : JNZ 0x007da552
007da4ed : MOV ESI,EBX
007da4ef : CALL 0x007cc270
007da4f4 : MOV EDX,dword ptr [EDI]
007da4f6 : MOV ESI,EAX
007da4f8 : MOV EAX,dword ptr [EDX + 0x14]
007da4fb : MOV ECX,EDI
007da4fd : CALL EAX
007da4ff : MOVSS XMM1,dword ptr [EAX + 0x4]
007da504 : SUBSS XMM1,dword ptr [ESI + 0x4]
007da509 : MOVSS XMM0,dword ptr [EAX]
007da50d : SUBSS XMM0,dword ptr [ESI]
007da511 : MOVSS XMM2,dword ptr [EAX + 0x8]
007da516 : SUBSS XMM2,dword ptr [ESI + 0x8]
007da51b : MOVAPS XMM3,XMM1
007da51e : MULSS XMM3,XMM1
007da522 : MULSS XMM0,XMM0
007da526 : MOVAPS XMM1,XMM2
007da529 : MULSS XMM1,XMM2
007da52d : ADDSS XMM0,XMM3
007da531 : ADDSS XMM0,XMM1
007da535 : MOVSS XMM1,dword ptr [0x00cdf764]
007da53d : COMISS XMM1,XMM0
007da540 : JBE 0x007da552
007da542 : MOV ECX,dword ptr [EBX + 0x17c]
007da548 : TEST ECX,ECX
007da54a : JZ 0x007da552
007da54c : PUSH EBX
007da54d : CALL 0x00784a00
007da552 : MOV EAX,dword ptr [EBX + 0x8]
007da555 : MOV dword ptr [EBP + -0x18],EBX
007da558 : TEST EAX,EAX
007da55a : JZ 0x007da566
007da55c : ADD EAX,0x4
007da55f : PUSH EAX
007da560 : CALL dword ptr [0x00b85118]
007da566 : MOV dword ptr [EBP + -0x4],0x1
007da56d : MOV ECX,dword ptr [EBX + 0x38]
007da570 : MOV EAX,dword ptr [ECX]
007da572 : MOV dword ptr [EBP + -0x14],ECX
007da575 : MOV dword ptr [EBP + -0x10],EAX
007da578 : CMP EAX,ECX
007da57a : JZ 0x007da5b0
007da57c : JMP 0x007da583
007da580 : MOV EAX,dword ptr [EBP + -0x10]
007da583 : MOV ESI,dword ptr [EAX + 0x24]
007da586 : TEST ESI,ESI
007da588 : JZ 0x007da5a7
007da58a : MOV ECX,dword ptr [EBP + 0xc]
007da58d : MOV EAX,dword ptr [EBP + 0x10]
007da590 : PUSH ECX
007da591 : MOV ECX,EDI
007da593 : MOV EDI,dword ptr [0x017251ac]
007da599 : CALL 0x007fafe0
007da59e : MOV EAX,dword ptr [EBP + -0x10]
007da5a1 : MOV EDI,dword ptr [EBP + 0x8]
007da5a4 : MOV ECX,dword ptr [EBP + -0x14]
007da5a7 : MOV EAX,dword ptr [EAX]
007da5a9 : MOV dword ptr [EBP + -0x10],EAX
007da5ac : CMP EAX,ECX
007da5ae : JNZ 0x007da580
007da5b0 : MOV dword ptr [EBP + -0x4],0xffffffff
007da5b7 : MOV EBX,dword ptr [EBX + 0x8]
007da5ba : TEST EBX,EBX
007da5bc : JZ 0x007da5c8
007da5be : ADD EBX,0x4
007da5c1 : PUSH EBX
007da5c2 : CALL dword ptr [0x00b8511c]
007da5c8 : MOV ECX,dword ptr [EBP + -0xc]
007da5cb : MOV dword ptr FS:[0x0],ECX
007da5d2 : POP ECX
007da5d3 : POP EDI
007da5d4 : POP ESI
007da5d5 : POP EBX
007da5d6 : MOV ESP,EBP
007da5d8 : POP EBP
007da5d9 : RET 0xc
