PROGRAM  : Maestia.exe
FUNCTION : FUN_008d1350
ENTRY    : 008d1350
BODY     : [[008d1350, 008d136c] [008d1370, 008d144c] [008d1450, 008d1634]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008d1350(int param_1)

{
  ushort uVar1;
  ushort uVar2;
  int *piVar3;
  char cVar4;
  int iVar5;
  int iVar6;
  DWORD DVar7;
  uint uVar8;
  int iVar9;
  ushort uVar10;
  undefined4 *puVar11;
  int *piVar12;
  int local_18;
  int local_14;
  uint local_10;
  int *local_c;
  uint local_8;
  
  puVar11 = *(undefined4 **)(param_1 + 0x7c);
  if (puVar11 != *(undefined4 **)(param_1 + 0x80)) {
    do {
      iVar6 = *(int *)(*DAT_00da9894 + 300);
      iVar9 = 0;
      if (iVar6 != 0) {
        iVar9 = *(int *)(iVar6 + 0xc);
      }
      iVar6 = *(int *)(*DAT_00da9894 + 300);
      iVar5 = 0;
      if (iVar6 != 0) {
        iVar5 = *(int *)(iVar6 + 0xc);
      }
      piVar12 = *(int **)(iVar5 + 0x4c + (uint)*(ushort *)(iVar9 + 0x5c) * 4);
      if (((piVar12 != (int *)0x0) &&
          (iVar6 = (**(code **)(*piVar12 + 0x98))(*(undefined4 *)*puVar11), iVar6 != 0)) &&
         (*(int *)(iVar6 + 8) != 0)) {
        if (*(char *)(iVar6 + 0xe4) == '\0') {
LAB_008d15c6:
          if (*(int *)(*DAT_00da9894 + 300) != 0) {
            FUN_00930240(*(undefined4 *)(*(int *)(*DAT_00da9894 + 300) + 0xc),0);
            return;
          }
          FUN_00930240(0,0);
          return;
        }
        DVar7 = timeGetTime();
        uVar8 = DVar7 - *(int *)(iVar6 + 0xe8);
        if ((*(uint *)(iVar6 + 0xec) <= uVar8) || (*(uint *)(iVar6 + 0xec) == uVar8)) {
          *(undefined1 *)(iVar6 + 0xe4) = 0;
        }
        if (*(char *)(iVar6 + 0xe4) == '\0') goto LAB_008d15c6;
      }
      puVar11 = puVar11 + 1;
    } while (puVar11 != *(undefined4 **)(param_1 + 0x80));
  }
  if (*(char *)(*(int *)(param_1 + 0xb8) + 0x2e) != '\0') {
    iVar6 = *(int *)(*DAT_00da9894 + 0x130);
    if ((iVar6 != 0) && (*(int *)(iVar6 + 0x40) != 0)) {
      piVar12 = (int *)0x0;
      local_c = (int *)0x0;
      local_10 = 0;
      if (*(int *)(*DAT_00da9894 + 0x40) != 0) {
        do {
          uVar8 = local_10;
          iVar6 = FUN_008eb810();
          if (((iVar6 != 0) && (*(char *)(iVar6 + 100) != '\0')) &&
             (iVar6 = *(int *)(iVar6 + 0x3c), iVar6 != 0)) {
            uVar1 = *(ushort *)(iVar6 + 8);
            uVar2 = *(ushort *)(iVar6 + 0xc);
            uVar10 = 0;
            if (uVar1 != 0) {
              do {
                local_8 = 0;
                if (uVar2 != 0) {
                  do {
                    iVar9 = *(int *)(iVar6 + 0xc) * (uint)uVar10 + (local_8 & 0xffff);
                    piVar3 = local_c;
                    if (((iVar9 < *(int *)(iVar6 + 8) * *(int *)(iVar6 + 0xc)) && (-1 < iVar9)) &&
                       ((iVar9 = *(int *)(*(int *)(iVar6 + 0x10) + iVar9 * 4), iVar9 != 0 &&
                        (*(int *)(iVar9 + 8) != 0)))) {
                      if (*(char *)(iVar9 + 0xe4) != '\0') {
                        DVar7 = timeGetTime();
                        uVar8 = DVar7 - *(int *)(iVar9 + 0xe8);
                        if ((*(uint *)(iVar9 + 0xec) <= uVar8) || (*(uint *)(iVar9 + 0xec) == uVar8)
                           ) {
                          *(undefined1 *)(iVar9 + 0xe4) = 0;
                        }
                        piVar3 = local_c;
                        if (*(char *)(iVar9 + 0xe4) != '\0') goto LAB_008d156d;
                      }
                      iVar5 = DAT_00d7c54c;
                      piVar12 = *(int **)(iVar9 + 8);
                      piVar3 = local_c;
                      if (piVar12 != (int *)0x0) {
                        cVar4 = (char)((uint)piVar12[4] >> 0x10);
                        if (((((cVar4 == '<') || (cVar4 == '>')) &&
                             (local_14 = piVar12[4], FUN_004437f0(&local_14), piVar3 = local_c,
                             local_18 != *(int *)(iVar5 + 0x44))) &&
                            ((iVar9 = *(int *)(local_18 + 0x10), iVar9 != 0 &&
                             (0 < *(int *)(iVar9 + 0x188))))) &&
                           (piVar3 = piVar12, *(int *)(iVar9 + 0x184) < 1)) {
                          if ((*(uint *)(iVar9 + 0x48) & 0x400) == 0) {
                            FUN_008018d0(L"[AutoGameLOG] Find it in the bag using DP Potion");
                          }
                          else {
                            FUN_008018d0(L"[AutoGameLOG] Find it in the bag using Premium DP Potion"
                                        );
                          }
                          goto LAB_008d15b1;
                        }
                      }
                    }
LAB_008d156d:
                    local_c = piVar3;
                    local_8 = local_8 + 1;
                  } while ((ushort)local_8 < uVar2);
                }
                uVar10 = uVar10 + 1;
                uVar8 = local_10;
                piVar12 = local_c;
              } while (uVar10 < uVar1);
            }
          }
          local_10 = uVar8 + 1;
        } while (local_10 < *(uint *)(*DAT_00da9894 + 0x40));
        if (piVar12 != (int *)0x0) {
LAB_008d15b1:
          (**(code **)(*piVar12 + 0xb4))();
        }
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
008d1350 : PUSH EBP
008d1351 : MOV EBP,ESP
008d1353 : MOV EDX,dword ptr [EBP + 0x8]
008d1356 : SUB ESP,0x1c
008d1359 : PUSH EBX
008d135a : PUSH ESI
008d135b : PUSH EDI
008d135c : MOV EDI,dword ptr [EDX + 0x7c]
008d135f : CMP EDI,dword ptr [EDX + 0x80]
008d1365 : JZ 0x008d1409
008d136b : JMP 0x008d1370
008d1370 : MOV EAX,dword ptr [EDI]
008d1372 : MOV ECX,dword ptr [0x00da9894]
008d1378 : MOV EBX,dword ptr [EAX]
008d137a : MOV EAX,dword ptr [ECX]
008d137c : MOV ECX,dword ptr [EAX + 0x12c]
008d1382 : TEST ECX,ECX
008d1384 : JZ 0x008d1389
008d1386 : MOV ECX,dword ptr [ECX + 0xc]
008d1389 : MOV EAX,dword ptr [EAX + 0x12c]
008d138f : MOVZX ECX,word ptr [ECX + 0x5c]
008d1393 : TEST EAX,EAX
008d1395 : JZ 0x008d139a
008d1397 : MOV EAX,dword ptr [EAX + 0xc]
008d139a : MOVZX ECX,CX
008d139d : MOV ECX,dword ptr [EAX + ECX*0x4 + 0x4c]
008d13a1 : TEST ECX,ECX
008d13a3 : JZ 0x008d13fa
008d13a5 : MOV EDX,dword ptr [ECX]
008d13a7 : MOV EAX,dword ptr [EDX + 0x98]
008d13ad : PUSH EBX
008d13ae : CALL EAX
008d13b0 : MOV ESI,EAX
008d13b2 : TEST ESI,ESI
008d13b4 : JZ 0x008d13f7
008d13b6 : CMP dword ptr [ESI + 0x8],0x0
008d13ba : JZ 0x008d13f7
008d13bc : CMP byte ptr [ESI + 0xe4],0x0
008d13c3 : JZ 0x008d15c6
008d13c9 : CALL dword ptr [0x00b85598]
008d13cf : SUB EAX,dword ptr [ESI + 0xe8]
008d13d5 : MOV ECX,dword ptr [ESI + 0xec]
008d13db : CMP EAX,ECX
008d13dd : JNC 0x008d13e3
008d13df : SUB ECX,EAX
008d13e1 : JNZ 0x008d13ea
008d13e3 : MOV byte ptr [ESI + 0xe4],0x0
008d13ea : CMP byte ptr [ESI + 0xe4],0x0
008d13f1 : JZ 0x008d15c6
008d13f7 : MOV EDX,dword ptr [EBP + 0x8]
008d13fa : ADD EDI,0x4
008d13fd : CMP EDI,dword ptr [EDX + 0x80]
008d1403 : JNZ 0x008d1370
008d1409 : MOV EDX,dword ptr [EDX + 0xb8]
008d140f : CMP byte ptr [EDX + 0x2e],0x0
008d1413 : JZ 0x008d15bd
008d1419 : MOV EAX,[0x00da9894]
008d141e : MOV EAX,dword ptr [EAX]
008d1420 : MOV ECX,dword ptr [EAX + 0x130]
008d1426 : TEST ECX,ECX
008d1428 : JZ 0x008d15bd
008d142e : CMP dword ptr [ECX + 0x40],0x0
008d1432 : JZ 0x008d15bd
008d1438 : XOR ESI,ESI
008d143a : XOR EDI,EDI
008d143c : MOV dword ptr [EBP + -0x8],EDI
008d143f : MOV dword ptr [EBP + -0xc],ESI
008d1442 : CMP dword ptr [EAX + 0x40],ESI
008d1445 : JBE 0x008d15bd
008d144b : JMP 0x008d1450
008d1450 : MOV ECX,ESI
008d1452 : CALL 0x008eb810
008d1457 : TEST EAX,EAX
008d1459 : JZ 0x008d1599
008d145f : CMP byte ptr [EAX + 0x64],0x0
008d1463 : JZ 0x008d1599
008d1469 : MOV EBX,dword ptr [EAX + 0x3c]
008d146c : TEST EBX,EBX
008d146e : JZ 0x008d1599
008d1474 : MOVZX ECX,word ptr [EBX + 0x8]
008d1478 : MOVZX EAX,word ptr [EBX + 0xc]
008d147c : XOR EDX,EDX
008d147e : MOV dword ptr [EBP + -0x1c],ECX
008d1481 : MOV dword ptr [EBP + -0x18],EAX
008d1484 : MOV dword ptr [EBP + 0x8],0x0
008d148b : CMP DX,CX
008d148e : JNC 0x008d1599
008d1494 : XOR ESI,ESI
008d1496 : XOR EDX,EDX
008d1498 : MOV dword ptr [EBP + -0x4],ESI
008d149b : CMP DX,AX
008d149e : JNC 0x008d1583
008d14a4 : MOV ECX,dword ptr [EBX + 0xc]
008d14a7 : MOVZX EDX,word ptr [EBP + 0x8]
008d14ab : MOV EAX,ECX
008d14ad : IMUL EAX,EDX
008d14b0 : MOVZX EDX,SI
008d14b3 : ADD EAX,EDX
008d14b5 : MOV EDX,dword ptr [EBX + 0x8]
008d14b8 : IMUL EDX,ECX
008d14bb : CMP EAX,EDX
008d14bd : JGE 0x008d156d
008d14c3 : TEST EAX,EAX
008d14c5 : JL 0x008d156d
008d14cb : MOV ECX,dword ptr [EBX + 0x10]
008d14ce : MOV ESI,dword ptr [ECX + EAX*0x4]
008d14d1 : TEST ESI,ESI
008d14d3 : JZ 0x008d156d
008d14d9 : CMP dword ptr [ESI + 0x8],0x0
008d14dd : JZ 0x008d156d
008d14e3 : CMP byte ptr [ESI + 0xe4],0x0
008d14ea : JZ 0x008d1516
008d14ec : CALL dword ptr [0x00b85598]
008d14f2 : SUB EAX,dword ptr [ESI + 0xe8]
008d14f8 : MOV ECX,dword ptr [ESI + 0xec]
008d14fe : CMP EAX,ECX
008d1500 : JNC 0x008d1506
008d1502 : SUB ECX,EAX
008d1504 : JNZ 0x008d150d
008d1506 : MOV byte ptr [ESI + 0xe4],0x0
008d150d : CMP byte ptr [ESI + 0xe4],0x0
008d1514 : JNZ 0x008d156d
008d1516 : MOV EDI,dword ptr [ESI + 0x8]
008d1519 : TEST EDI,EDI
008d151b : JZ 0x008d156d
008d151d : MOV ECX,dword ptr [EDI + 0x10]
008d1520 : MOV EAX,ECX
008d1522 : SHR EAX,0x10
008d1525 : CMP AL,0x3c
008d1527 : JZ 0x008d152d
008d1529 : CMP AL,0x3e
008d152b : JNZ 0x008d156d
008d152d : MOV ESI,dword ptr [0x00d7c54c]
008d1533 : LEA EDX,[EBP + -0x10]
008d1536 : MOV dword ptr [EBP + -0x10],ECX
008d1539 : PUSH EDX
008d153a : LEA ECX,[ESI + 0x40]
008d153d : LEA EAX,[EBP + -0x14]
008d1540 : CALL 0x004437f0
008d1545 : MOV EAX,dword ptr [EBP + -0x14]
008d1548 : CMP EAX,dword ptr [ESI + 0x44]
008d154b : JZ 0x008d156d
008d154d : MOV EAX,dword ptr [EAX + 0x10]
008d1550 : TEST EAX,EAX
008d1552 : JZ 0x008d156d
008d1554 : CMP dword ptr [EAX + 0x188],0x0
008d155b : JLE 0x008d156d
008d155d : CMP dword ptr [EAX + 0x184],0x0
008d1564 : JLE 0x008d1600
008d156a : MOV dword ptr [EBP + -0x8],EDI
008d156d : MOV ESI,dword ptr [EBP + -0x4]
008d1570 : MOV EAX,dword ptr [EBP + -0x18]
008d1573 : INC ESI
008d1574 : MOV dword ptr [EBP + -0x4],ESI
008d1577 : CMP SI,AX
008d157a : JC 0x008d14a4
008d1580 : MOV ECX,dword ptr [EBP + -0x1c]
008d1583 : MOV EDX,dword ptr [EBP + 0x8]
008d1586 : INC EDX
008d1587 : MOV dword ptr [EBP + 0x8],EDX
008d158a : CMP DX,CX
008d158d : JC 0x008d1494
008d1593 : MOV ESI,dword ptr [EBP + -0xc]
008d1596 : MOV EDI,dword ptr [EBP + -0x8]
008d1599 : MOV EAX,[0x00da9894]
008d159e : MOV EAX,dword ptr [EAX]
008d15a0 : INC ESI
008d15a1 : MOV dword ptr [EBP + -0xc],ESI
008d15a4 : CMP ESI,dword ptr [EAX + 0x40]
008d15a7 : JC 0x008d1450
008d15ad : TEST EDI,EDI
008d15af : JZ 0x008d15bd
008d15b1 : MOV EDX,dword ptr [EDI]
008d15b3 : MOV EAX,dword ptr [EDX + 0xb4]
008d15b9 : MOV ECX,EDI
008d15bb : CALL EAX
008d15bd : POP EDI
008d15be : POP ESI
008d15bf : POP EBX
008d15c0 : MOV ESP,EBP
008d15c2 : POP EBP
008d15c3 : RET 0x4
008d15c6 : MOV ECX,dword ptr [0x00da9894]
008d15cc : MOV EAX,dword ptr [ECX]
008d15ce : MOV EAX,dword ptr [EAX + 0x12c]
008d15d4 : TEST EAX,EAX
008d15d6 : JNZ 0x008d15ea
008d15d8 : PUSH EAX
008d15d9 : PUSH EAX
008d15da : MOV EAX,EBX
008d15dc : CALL 0x00930240
008d15e1 : POP EDI
008d15e2 : POP ESI
008d15e3 : POP EBX
008d15e4 : MOV ESP,EBP
008d15e6 : POP EBP
008d15e7 : RET 0x4
008d15ea : MOV EAX,dword ptr [EAX + 0xc]
008d15ed : PUSH 0x0
008d15ef : PUSH EAX
008d15f0 : MOV EAX,EBX
008d15f2 : CALL 0x00930240
008d15f7 : POP EDI
008d15f8 : POP ESI
008d15f9 : POP EBX
008d15fa : MOV ESP,EBP
008d15fc : POP EBP
008d15fd : RET 0x4
008d1600 : MOV EAX,dword ptr [EAX + 0x48]
008d1603 : MOV ESI,dword ptr [0x00da98e8]
008d1609 : AND EAX,0x400
008d160e : XOR ECX,ECX
008d1610 : OR EAX,ECX
008d1612 : JNZ 0x008d1623
008d1614 : PUSH 0xc54588
008d1619 : CALL 0x008018d0
008d161e : ADD ESP,0x4
008d1621 : JMP 0x008d15b1
008d1623 : PUSH 0xc545f0
008d1628 : CALL 0x008018d0
008d162d : ADD ESP,0x4
008d1630 : JMP 0x008d15b1
