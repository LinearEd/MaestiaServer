PROGRAM  : Maestia.exe
FUNCTION : FUN_00a6b780
ENTRY    : 00a6b780
BODY     : [[00a6b780, 00a6b847]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00a6b780(void)

{
  int *piVar1;
  int in_ECX;
  int unaff_EDI;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0de12;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(in_ECX + 0x70);
  local_18 = 0;
  local_20 = ".\\Objects\\AvaEffectMgr.cpp";
  local_1c = 0x9c;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  piVar1 = *(int **)(in_ECX + 0x38);
  while( true ) {
    if (piVar1 == *(int **)(in_ECX + 0x3c)) {
      local_8 = 0xffffffff;
      if (local_18 != 0) {
        LeaveCriticalSection(local_24);
      }
      ExceptionList = local_10;
      return 0;
    }
    if (((char)piVar1[2] == '\0') && (*piVar1 == unaff_EDI)) break;
    piVar1 = piVar1 + 3;
  }
  local_8 = 0xffffffff;
  if (local_18 != 0) {
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return unaff_EDI;
}



============================================================
DISASSEMBLY
============================================================
00a6b780 : PUSH EBP
00a6b781 : MOV EBP,ESP
00a6b783 : PUSH -0x1
00a6b785 : PUSH 0xb0de12
00a6b78a : MOV EAX,FS:[0x0]
00a6b790 : PUSH EAX
00a6b791 : SUB ESP,0x14
00a6b794 : PUSH EBX
00a6b795 : PUSH ESI
00a6b796 : MOV EAX,[0x00d66fa0]
00a6b79b : XOR EAX,EBP
00a6b79d : PUSH EAX
00a6b79e : LEA EAX,[EBP + -0xc]
00a6b7a1 : MOV FS:[0x0],EAX
00a6b7a7 : MOV ESI,ECX
00a6b7a9 : LEA ECX,[EBP + -0x20]
00a6b7ac : LEA EAX,[ESI + 0x70]
00a6b7af : XOR EBX,EBX
00a6b7b1 : PUSH ECX
00a6b7b2 : MOV dword ptr [EBP + -0x14],EBX
00a6b7b5 : MOV dword ptr [EBP + -0x20],EAX
00a6b7b8 : MOV dword ptr [EBP + -0x1c],0xc43bd8
00a6b7bf : MOV dword ptr [EBP + -0x18],0x9c
00a6b7c6 : MOV dword ptr [EBP + -0x10],0x1
00a6b7cd : CALL 0x006ef1a0
00a6b7d2 : MOV dword ptr [EBP + -0x4],EBX
00a6b7d5 : MOV EAX,dword ptr [ESI + 0x38]
00a6b7d8 : MOV ESI,dword ptr [ESI + 0x3c]
00a6b7db : CMP EAX,ESI
00a6b7dd : JZ 0x00a6b7f0
00a6b7df : NOP
00a6b7e0 : CMP byte ptr [EAX + 0x8],BL
00a6b7e3 : JNZ 0x00a6b7e9
00a6b7e5 : CMP dword ptr [EAX],EDI
00a6b7e7 : JZ 0x00a6b81c
00a6b7e9 : ADD EAX,0xc
00a6b7ec : CMP EAX,ESI
00a6b7ee : JNZ 0x00a6b7e0
00a6b7f0 : MOV dword ptr [EBP + -0x4],0xffffffff
00a6b7f7 : CMP dword ptr [EBP + -0x14],EBX
00a6b7fa : JZ 0x00a6b809
00a6b7fc : MOV EAX,dword ptr [EBP + -0x20]
00a6b7ff : PUSH EAX
00a6b800 : CALL dword ptr [0x00b8511c]
00a6b806 : MOV dword ptr [EBP + -0x14],EBX
00a6b809 : XOR EAX,EAX
00a6b80b : MOV ECX,dword ptr [EBP + -0xc]
00a6b80e : MOV dword ptr FS:[0x0],ECX
00a6b815 : POP ECX
00a6b816 : POP ESI
00a6b817 : POP EBX
00a6b818 : MOV ESP,EBP
00a6b81a : POP EBP
00a6b81b : RET
00a6b81c : MOV dword ptr [EBP + -0x4],0xffffffff
00a6b823 : CMP dword ptr [EBP + -0x14],EBX
00a6b826 : JZ 0x00a6b835
00a6b828 : MOV EDX,dword ptr [EBP + -0x20]
00a6b82b : PUSH EDX
00a6b82c : CALL dword ptr [0x00b8511c]
00a6b832 : MOV dword ptr [EBP + -0x14],EBX
00a6b835 : MOV EAX,EDI
00a6b837 : MOV ECX,dword ptr [EBP + -0xc]
00a6b83a : MOV dword ptr FS:[0x0],ECX
00a6b841 : POP ECX
00a6b842 : POP ESI
00a6b843 : POP EBX
00a6b844 : MOV ESP,EBP
00a6b846 : POP EBP
00a6b847 : RET
