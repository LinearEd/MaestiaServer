PROGRAM  : Maestia.exe
FUNCTION : FUN_0081c450
ENTRY    : 0081c450
BODY     : [[0081c450, 0081c5af]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0081c450(void)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  float fVar6;
  int in_ECX;
  tagRECT local_20;
  int local_10;
  float local_c;
  float local_8;
  
  if (DAT_017251ac == 0) {
    return;
  }
  if ((DAT_017251d4 != 0) && (*(char *)(DAT_017251d4 + 0x34) == '\x01')) {
    return;
  }
  GetClientRect(*(HWND *)(in_ECX + 4),&local_20);
  piVar1 = *(int **)(DAT_017251ac + 0x178);
  if (piVar1 == (int *)0x0) {
    return;
  }
  if ((local_20.right - local_20.left == piVar1[0x12]) &&
     (local_20.bottom - local_20.top == piVar1[0x13])) {
    return;
  }
  iVar2 = piVar1[0x12];
  iVar3 = piVar1[0x13];
  (**(code **)(*piVar1 + 0x24))();
  iVar4 = *(int *)(DAT_017251ac + 0x178);
  local_8 = (float)*(int *)(iVar4 + 0x48);
  if (*(int *)(iVar4 + 0x48) < 0) {
    local_8 = local_8 + 4.2949673e+09;
  }
  local_c = (float)*(int *)(iVar4 + 0x4c);
  if (*(int *)(iVar4 + 0x4c) < 0) {
    local_c = local_c + 4.2949673e+09;
  }
  fVar6 = (float)iVar2;
  if (iVar2 < 0) {
    fVar6 = fVar6 + 4.2949673e+09;
  }
  local_10 = iVar2;
  if (fVar6 == local_8) {
    fVar6 = (float)iVar3;
    if (iVar3 < 0) {
      fVar6 = fVar6 + 4.2949673e+09;
    }
    local_10 = iVar3;
    if (fVar6 == local_c) goto LAB_0081c54f;
  }
  if ((*DAT_00da9894 != 0) &&
     (puVar5 = *(undefined4 **)(*DAT_00da9894 + 0x114), puVar5 != (undefined4 *)0x0)) {
    (**(code **)*puVar5)("FixUiPosition");
  }
LAB_0081c54f:
  iVar2 = DAT_017248cc;
  if (*(char *)(DAT_017248cc + 0x3c) == '\0') {
    *(int *)(DAT_017248cc + 0x34) = (int)local_8;
    *(int *)(iVar2 + 0x38) = (int)local_c;
  }
  if (*(int *)(in_ECX + 0xc0) == 2) {
    if (DAT_00d7c550 != 0) {
      FUN_00a48f10();
      FUN_0081bd40();
      return;
    }
  }
  else if ((*(int *)(in_ECX + 0xc0) == 1) && (DAT_017247bc != 0)) {
    FUN_00a16460();
  }
  FUN_0081bd40();
  return;
}



============================================================
DISASSEMBLY
============================================================
0081c450 : PUSH EBP
0081c451 : MOV EBP,ESP
0081c453 : SUB ESP,0x1c
0081c456 : CMP dword ptr [0x017251ac],0x0
0081c45d : PUSH EBX
0081c45e : MOV EBX,ECX
0081c460 : JZ 0x0081c5ab
0081c466 : MOV EAX,[0x017251d4]
0081c46b : TEST EAX,EAX
0081c46d : JZ 0x0081c479
0081c46f : CMP byte ptr [EAX + 0x34],0x1
0081c473 : JZ 0x0081c5ab
0081c479 : MOV ECX,dword ptr [EBX + 0x4]
0081c47c : LEA EAX,[EBP + -0x1c]
0081c47f : PUSH EAX
0081c480 : PUSH ECX
0081c481 : CALL dword ptr [0x00b85454]
0081c487 : MOV ECX,dword ptr [0x017251ac]
0081c48d : MOV EAX,dword ptr [ECX + 0x178]
0081c493 : TEST EAX,EAX
0081c495 : JZ 0x0081c5ab
0081c49b : MOV EDX,dword ptr [EBP + -0x14]
0081c49e : SUB EDX,dword ptr [EBP + -0x1c]
0081c4a1 : CMP EDX,dword ptr [EAX + 0x48]
0081c4a4 : JNZ 0x0081c4b5
0081c4a6 : MOV EDX,dword ptr [EBP + -0x10]
0081c4a9 : SUB EDX,dword ptr [EBP + -0x18]
0081c4ac : CMP EDX,dword ptr [EAX + 0x4c]
0081c4af : JZ 0x0081c5ab
0081c4b5 : MOV ECX,EAX
0081c4b7 : MOV EAX,dword ptr [ECX]
0081c4b9 : MOV EDX,dword ptr [EAX + 0x24]
0081c4bc : PUSH ESI
0081c4bd : MOV ESI,dword ptr [ECX + 0x48]
0081c4c0 : PUSH EDI
0081c4c1 : MOV EDI,dword ptr [ECX + 0x4c]
0081c4c4 : CALL EDX
0081c4c6 : MOV EAX,[0x017251ac]
0081c4cb : MOV EAX,dword ptr [EAX + 0x178]
0081c4d1 : MOV ECX,dword ptr [EAX + 0x48]
0081c4d4 : FILD dword ptr [EAX + 0x48]
0081c4d7 : TEST ECX,ECX
0081c4d9 : JGE 0x0081c4e1
0081c4db : FADD float ptr [0x00cdf0e0]
0081c4e1 : MOV EDX,dword ptr [EAX + 0x4c]
0081c4e4 : FST float ptr [EBP + -0x4]
0081c4e7 : FILD dword ptr [EAX + 0x4c]
0081c4ea : TEST EDX,EDX
0081c4ec : JGE 0x0081c4f4
0081c4ee : FADD float ptr [0x00cdf0e0]
0081c4f4 : MOV dword ptr [EBP + -0xc],ESI
0081c4f7 : FST float ptr [EBP + -0x8]
0081c4fa : FILD dword ptr [EBP + -0xc]
0081c4fd : TEST ESI,ESI
0081c4ff : JGE 0x0081c507
0081c501 : FADD float ptr [0x00cdf0e0]
0081c507 : FUCOMIP ST0,ST2
0081c509 : FSTP ST1
0081c50b : LAHF
0081c50c : TEST AH,0x44
0081c50f : JP 0x0081c52d
0081c511 : MOV dword ptr [EBP + -0xc],EDI
0081c514 : FILD dword ptr [EBP + -0xc]
0081c517 : TEST EDI,EDI
0081c519 : JGE 0x0081c521
0081c51b : FADD float ptr [0x00cdf0e0]
0081c521 : FUCOMIP ST0,ST1
0081c523 : FSTP ST0
0081c525 : LAHF
0081c526 : TEST AH,0x44
0081c529 : JNP 0x0081c54f
0081c52b : JMP 0x0081c52f
0081c52d : FSTP ST0
0081c52f : MOV EAX,[0x00da9894]
0081c534 : MOV EAX,dword ptr [EAX]
0081c536 : TEST EAX,EAX
0081c538 : JZ 0x0081c54f
0081c53a : MOV ECX,dword ptr [EAX + 0x114]
0081c540 : TEST ECX,ECX
0081c542 : JZ 0x0081c54f
0081c544 : MOV EDX,dword ptr [ECX]
0081c546 : MOV EAX,dword ptr [EDX]
0081c548 : PUSH 0xc3266c
0081c54d : CALL EAX
0081c54f : MOV EAX,[0x017248cc]
0081c554 : CMP byte ptr [EAX + 0x3c],0x0
0081c558 : JNZ 0x0081c56a
0081c55a : CVTTSS2SI ECX,dword ptr [EBP + -0x4]
0081c55f : CVTTSS2SI EDX,dword ptr [EBP + -0x8]
0081c564 : MOV dword ptr [EAX + 0x34],ECX
0081c567 : MOV dword ptr [EAX + 0x38],EDX
0081c56a : MOV EAX,dword ptr [EBX + 0xc0]
0081c570 : CMP EAX,0x2
0081c573 : JNZ 0x0081c590
0081c575 : MOV ESI,dword ptr [0x00d7c550]
0081c57b : TEST ESI,ESI
0081c57d : JZ 0x0081c5a4
0081c57f : CALL 0x00a48f10
0081c584 : CALL 0x0081bd40
0081c589 : POP EDI
0081c58a : POP ESI
0081c58b : POP EBX
0081c58c : MOV ESP,EBP
0081c58e : POP EBP
0081c58f : RET
0081c590 : CMP EAX,0x1
0081c593 : JNZ 0x0081c5a4
0081c595 : MOV ESI,dword ptr [0x017247bc]
0081c59b : TEST ESI,ESI
0081c59d : JZ 0x0081c5a4
0081c59f : CALL 0x00a16460
0081c5a4 : CALL 0x0081bd40
0081c5a9 : POP EDI
0081c5aa : POP ESI
0081c5ab : POP EBX
0081c5ac : MOV ESP,EBP
0081c5ae : POP EBP
0081c5af : RET
