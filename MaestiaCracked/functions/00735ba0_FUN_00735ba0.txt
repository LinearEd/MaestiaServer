PROGRAM  : Maestia.exe
FUNCTION : FUN_00735ba0
ENTRY    : 00735ba0
BODY     : [[00735ba0, 00735de7]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00735ba0(int param_1,int param_2,int param_3,int param_4,int param_5,int param_6)

{
  undefined4 *puVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  ushort uVar6;
  int iVar7;
  int iVar8;
  int in_ECX;
  uint uVar9;
  uint uVar10;
  uint local_34;
  uint local_30;
  uint local_20;
  
  iVar7 = FUN_0070a3a0();
  fVar5 = DAT_00d72c24;
  uVar6 = 0;
  if (*(short *)(in_ECX + 0x10) != 0) {
    do {
      uVar9 = (uint)uVar6;
      iVar8 = uVar9 * 0xc;
      puVar1 = (undefined4 *)(iVar7 + uVar9 * 0x3c);
      *puVar1 = *(undefined4 *)(iVar8 + param_1);
      puVar1[1] = *(undefined4 *)(iVar8 + 4 + param_1);
      puVar1[2] = *(undefined4 *)(iVar8 + 8 + param_1);
      puVar1[3] = *(undefined4 *)(iVar8 + param_2);
      puVar1[4] = *(undefined4 *)(iVar8 + 4 + param_2);
      puVar1[5] = *(undefined4 *)(iVar8 + 8 + param_2);
      puVar1[7] = *(undefined4 *)(param_3 + uVar9 * 8);
      puVar1[8] = *(undefined4 *)(param_3 + 4 + uVar9 * 8);
      if (param_4 == 0) {
        puVar1[6] = 0xffffffff;
      }
      else {
        fVar2 = *(float *)(iVar8 + param_4);
        fVar3 = *(float *)(iVar8 + 4 + param_4);
        fVar4 = *(float *)(iVar8 + 8 + param_4);
        if (fVar2 < 1.0) {
          if (0.0 < fVar2) {
            local_20 = (uint)(longlong)ROUND(fVar2 * 255.0 + fVar5);
            uVar10 = local_20;
          }
          else {
            uVar10 = 0;
          }
        }
        else {
          uVar10 = 0xff;
        }
        if (fVar3 < 1.0) {
          if (0.0 < fVar3) {
            local_20 = (uint)(longlong)ROUND(fVar3 * 255.0 + fVar5);
            local_30 = local_20;
          }
          else {
            local_30 = 0;
          }
        }
        else {
          local_30 = 0xff;
        }
        if (fVar4 < 1.0) {
          if (0.0 < fVar4) {
            local_20 = (uint)(longlong)ROUND(fVar4 * 255.0 + fVar5);
            local_34 = local_20;
          }
          else {
            local_34 = 0;
          }
        }
        else {
          local_34 = 0xff;
        }
        puVar1[6] = ((uVar10 | 0xffffff00) << 8 | local_30) << 8 | local_34;
      }
      iVar8 = uVar9 * 0x10 + param_5;
      puVar1[9] = *(undefined4 *)(uVar9 * 0x10 + param_5);
      puVar1[10] = *(undefined4 *)(iVar8 + 4);
      puVar1[0xb] = *(undefined4 *)(iVar8 + 8);
      puVar1[0xc] = *(undefined4 *)(iVar8 + 0xc);
      puVar1[0xe] = (float)*(ushort *)(*(int *)(param_6 + 4 + uVar9 * 8) + 4);
      puVar1[0xd] = **(undefined4 **)(param_6 + 4 + uVar9 * 8);
      uVar6 = uVar6 + 1;
    } while (uVar6 < *(ushort *)(in_ECX + 0x10));
  }
  FUN_007377f0(iVar7);
  FUN_0070a260(iVar7);
  return;
}



============================================================
DISASSEMBLY
============================================================
00735ba0 : PUSH EBP
00735ba1 : MOV EBP,ESP
00735ba3 : AND ESP,0xfffffff8
00735ba6 : SUB ESP,0x2c
00735ba9 : PUSH EBX
00735baa : PUSH ESI
00735bab : PUSH EDI
00735bac : MOV EDI,ECX
00735bae : MOVZX EAX,word ptr [EDI + 0x10]
00735bb2 : MOV ECX,EAX
00735bb4 : SHL ECX,0x4
00735bb7 : SUB ECX,EAX
00735bb9 : ADD ECX,ECX
00735bbb : ADD ECX,ECX
00735bbd : MOV dword ptr [ESP + 0x18],EDI
00735bc1 : CALL 0x0070a3a0
00735bc6 : MOV ESI,EAX
00735bc8 : XOR EAX,EAX
00735bca : MOV dword ptr [ESP + 0x1c],ESI
00735bce : MOV dword ptr [ESP + 0x14],0x0
00735bd6 : CMP AX,word ptr [EDI + 0x10]
00735bda : JNC 0x00735dce
00735be0 : FLD float ptr [0x00cdf130]
00735be6 : MOV EDI,dword ptr [EBP + 0xc]
00735be9 : MOV EBX,dword ptr [EBP + 0x8]
00735bec : FLD float ptr [0x00d72c24]
00735bf2 : MOVSS XMM3,dword ptr [0x00c10fc4]
00735bfa : XORPS XMM4,XMM4
00735bfd : MOVZX EDX,word ptr [ESP + 0x14]
00735c02 : LEA EAX,[EDX + EDX*0x2]
00735c05 : MOV ECX,EDX
00735c07 : SHL ECX,0x4
00735c0a : ADD EAX,EAX
00735c0c : ADD EAX,EAX
00735c0e : SUB ECX,EDX
00735c10 : LEA ECX,[ESI + ECX*0x4]
00735c13 : FLD float ptr [EAX + EBX*0x1]
00735c16 : MOV ESI,dword ptr [EBP + 0x10]
00735c19 : FSTP float ptr [ECX]
00735c1b : FLD float ptr [EAX + EBX*0x1 + 0x4]
00735c1f : FSTP float ptr [ECX + 0x4]
00735c22 : FLD float ptr [EAX + EBX*0x1 + 0x8]
00735c26 : FSTP float ptr [ECX + 0x8]
00735c29 : FLD float ptr [EAX + EDI*0x1]
00735c2c : FSTP float ptr [ECX + 0xc]
00735c2f : FLD float ptr [EAX + EDI*0x1 + 0x4]
00735c33 : FSTP float ptr [ECX + 0x10]
00735c36 : FLD float ptr [EAX + EDI*0x1 + 0x8]
00735c3a : FSTP float ptr [ECX + 0x14]
00735c3d : FLD float ptr [ESI + EDX*0x8]
00735c40 : FSTP float ptr [ECX + 0x1c]
00735c43 : FLD float ptr [ESI + EDX*0x8 + 0x4]
00735c47 : MOV ESI,dword ptr [EBP + 0x14]
00735c4a : FSTP float ptr [ECX + 0x20]
00735c4d : TEST ESI,ESI
00735c4f : JNZ 0x00735c5d
00735c51 : MOV dword ptr [ECX + 0x18],0xffffffff
00735c58 : JMP 0x00735d6e
00735c5d : MOVSS XMM0,dword ptr [EAX + ESI*0x1]
00735c62 : COMISS XMM0,XMM3
00735c65 : MOVSS XMM1,dword ptr [EAX + ESI*0x1 + 0x4]
00735c6b : MOVSS XMM2,dword ptr [EAX + ESI*0x1 + 0x8]
00735c71 : MOVSS dword ptr [ESP + 0x28],XMM0
00735c77 : MOVSS dword ptr [ESP + 0x2c],XMM1
00735c7d : MOVSS dword ptr [ESP + 0x30],XMM2
00735c83 : JC 0x00735c8c
00735c85 : MOV ESI,0xff
00735c8a : JMP 0x00735cbf
00735c8c : COMISS XMM4,XMM0
00735c8f : JC 0x00735c95
00735c91 : XOR ESI,ESI
00735c93 : JMP 0x00735cbf
00735c95 : FLD float ptr [ESP + 0x28]
00735c99 : FNSTCW word ptr [ESP + 0xc]
00735c9d : MOVZX EAX,word ptr [ESP + 0xc]
00735ca2 : FMUL ST2
00735ca4 : OR EAX,0xc00
00735ca9 : MOV dword ptr [ESP + 0x10],EAX
00735cad : FADD ST0,ST1
00735caf : FLDCW word ptr [ESP + 0x10]
00735cb3 : FISTP qword ptr [ESP + 0x20]
00735cb7 : MOV ESI,dword ptr [ESP + 0x20]
00735cbb : FLDCW word ptr [ESP + 0xc]
00735cbf : COMISS XMM1,XMM3
00735cc2 : JC 0x00735cce
00735cc4 : MOV dword ptr [ESP + 0x10],0xff
00735ccc : JMP 0x00735d0b
00735cce : COMISS XMM4,XMM1
00735cd1 : JC 0x00735cdd
00735cd3 : MOV dword ptr [ESP + 0x10],0x0
00735cdb : JMP 0x00735d0b
00735cdd : FLD float ptr [ESP + 0x2c]
00735ce1 : FNSTCW word ptr [ESP + 0xc]
00735ce5 : MOVZX EAX,word ptr [ESP + 0xc]
00735cea : FMUL ST2
00735cec : OR EAX,0xc00
00735cf1 : MOV dword ptr [ESP + 0x10],EAX
00735cf5 : FADD ST0,ST1
00735cf7 : FLDCW word ptr [ESP + 0x10]
00735cfb : FISTP qword ptr [ESP + 0x20]
00735cff : MOV EAX,dword ptr [ESP + 0x20]
00735d03 : MOV dword ptr [ESP + 0x10],EAX
00735d07 : FLDCW word ptr [ESP + 0xc]
00735d0b : COMISS XMM2,XMM3
00735d0e : JC 0x00735d1a
00735d10 : MOV dword ptr [ESP + 0xc],0xff
00735d18 : JMP 0x00735d57
00735d1a : COMISS XMM4,XMM2
00735d1d : JC 0x00735d29
00735d1f : MOV dword ptr [ESP + 0xc],0x0
00735d27 : JMP 0x00735d57
00735d29 : FLD float ptr [ESP + 0x30]
00735d2d : FNSTCW word ptr [ESP + 0xc]
00735d31 : MOVZX EAX,word ptr [ESP + 0xc]
00735d36 : FMUL ST2
00735d38 : OR EAX,0xc00
00735d3d : MOV dword ptr [ESP + 0x20],EAX
00735d41 : FADD ST0,ST1
00735d43 : FLDCW word ptr [ESP + 0x20]
00735d47 : FISTP qword ptr [ESP + 0x20]
00735d4b : MOV EAX,dword ptr [ESP + 0x20]
00735d4f : FLDCW word ptr [ESP + 0xc]
00735d53 : MOV dword ptr [ESP + 0xc],EAX
00735d57 : OR ESI,0xffffff00
00735d5d : SHL ESI,0x8
00735d60 : OR ESI,dword ptr [ESP + 0x10]
00735d64 : SHL ESI,0x8
00735d67 : OR ESI,dword ptr [ESP + 0xc]
00735d6b : MOV dword ptr [ECX + 0x18],ESI
00735d6e : MOV ESI,dword ptr [EBP + 0x18]
00735d71 : MOV EAX,EDX
00735d73 : SHL EAX,0x4
00735d76 : FLD float ptr [EAX + ESI*0x1]
00735d79 : ADD EAX,ESI
00735d7b : FSTP float ptr [ECX + 0x24]
00735d7e : FLD float ptr [EAX + 0x4]
00735d81 : FSTP float ptr [ECX + 0x28]
00735d84 : FLD float ptr [EAX + 0x8]
00735d87 : FSTP float ptr [ECX + 0x2c]
00735d8a : FLD float ptr [EAX + 0xc]
00735d8d : MOV EAX,dword ptr [EBP + 0x1c]
00735d90 : FSTP float ptr [ECX + 0x30]
00735d93 : MOV ESI,dword ptr [EAX + EDX*0x8 + 0x4]
00735d97 : MOVZX ESI,word ptr [ESI + 0x4]
00735d9b : CVTSI2SS XMM0,ESI
00735d9f : MOV ESI,dword ptr [ESP + 0x1c]
00735da3 : MOVSS dword ptr [ECX + 0x38],XMM0
00735da8 : MOV EDX,dword ptr [EAX + EDX*0x8 + 0x4]
00735dac : FLD float ptr [EDX]
00735dae : MOV EAX,dword ptr [ESP + 0x14]
00735db2 : FSTP float ptr [ECX + 0x34]
00735db5 : MOV ECX,dword ptr [ESP + 0x18]
00735db9 : INC EAX
00735dba : MOV dword ptr [ESP + 0x14],EAX
00735dbe : CMP AX,word ptr [ECX + 0x10]
00735dc2 : JC 0x00735bfd
00735dc8 : FSTP ST1
00735dca : MOV EDI,ECX
00735dcc : FSTP ST0
00735dce : PUSH ESI
00735dcf : MOV ECX,EDI
00735dd1 : CALL 0x007377f0
00735dd6 : PUSH ESI
00735dd7 : CALL 0x0070a260
00735ddc : ADD ESP,0x4
00735ddf : POP EDI
00735de0 : POP ESI
00735de1 : POP EBX
00735de2 : MOV ESP,EBP
00735de4 : POP EBP
00735de5 : RET 0x18
