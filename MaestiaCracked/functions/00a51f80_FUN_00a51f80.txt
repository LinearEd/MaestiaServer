PROGRAM  : Maestia.exe
FUNCTION : FUN_00a51f80
ENTRY    : 00a51f80
BODY     : [[00a51f80, 00a5252c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a51f80(uint param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  byte bVar5;
  short sVar6;
  int *piVar7;
  int iVar8;
  short *psVar9;
  DWORD DVar10;
  code *pcVar11;
  undefined2 uVar12;
  undefined1 local_3c [4];
  undefined2 local_38;
  undefined4 local_28;
  uint local_24;
  ushort local_20 [2];
  int *local_1c;
  undefined1 local_18 [4];
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar1 = param_2;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b659a5;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  param_2 = FUN_006f0760(0x2100,".\\Flow\\AvaGameLobby.cpp",0x136d,0,
                         DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  local_8 = 0;
  if (param_2 == 0) {
    piVar7 = (int *)0x0;
  }
  else {
    piVar7 = (int *)FUN_00874090(param_2,5);
  }
  local_8 = 0xffffffff;
  FUN_0088b500();
  piVar7[0x5b6] = *(int *)(iVar1 + 0xc);
  piVar7[1] = *(int *)(iVar1 + 4);
  (**(code **)(*piVar7 + 8))(*(undefined1 *)(iVar1 + 0xd4));
  *(undefined1 *)(piVar7 + 0x693) = 1;
  *(undefined2 *)(piVar7 + 0x5a6) = *(undefined2 *)(iVar1 + 0xb0);
  *(undefined2 *)((int)piVar7 + 0x169a) = *(undefined2 *)(iVar1 + 0xb2);
  iVar8 = *(int *)(iVar1 + 0xde);
  if (piVar7[0x5fe] != 0) {
    piVar7[0x5bc] = iVar8;
    *(int *)(piVar7[0x5fe] + 0x28) = iVar8;
  }
  FUN_00856fb0(*(undefined4 *)(iVar1 + 0xd6));
  iVar8 = *(int *)(iVar1 + 0x10a);
  piVar7[0x7f2] = *(int *)(iVar1 + 0x106);
  piVar7[0x7f3] = iVar8;
  *(undefined1 *)(piVar7 + 0x7f4) = *(undefined1 *)(iVar1 + 0xfb);
  iVar8 = FUN_00703c00(0x1000);
  if (iVar8 == 0) {
    pcVar11 = *(code **)(*piVar7 + 0xc);
    uVar12 = 0;
  }
  else {
    uVar12 = *(undefined2 *)(iVar8 + 6);
    pcVar11 = *(code **)(*piVar7 + 0xc);
  }
  (*pcVar11)(uVar12);
  iVar8 = *(int *)(iVar1 + 0xda);
  param_2 = iVar8;
  FUN_004437f0(&param_2);
  if ((local_14 == (int *)*(int *)(DAT_00d7c54c + 0x44)) || (*(int *)((int)local_14 + 0x10) == 0)) {
    if (piVar7[0x5fd] != 0) {
      piVar7[0x5bb] = iVar8;
      *(int *)(piVar7[0x5fd] + 0x28) = iVar8;
    }
  }
  else {
    if (piVar7[0x5fd] != 0) {
      piVar7[0x5bb] = iVar8;
      *(int *)(piVar7[0x5fd] + 0x28) = iVar8;
    }
    sVar6 = (short)((uint)*(undefined4 *)(iVar1 + 0xda) >> 0x10);
    if (((sVar6 == 0x60a) || (sVar6 == 0x60b)) || (sVar6 == 0x60c)) {
      FUN_00856ef0(*(undefined4 *)(iVar1 + 0xda));
    }
  }
  iVar8 = *(int *)(iVar1 + 0xe2);
  if (piVar7[0x601] != 0) {
    piVar7[0x5bf] = iVar8;
    *(int *)(piVar7[0x601] + 0x28) = iVar8;
  }
  iVar8 = *(int *)(iVar1 + 0xe6);
  if (piVar7[0x603] != 0) {
    piVar7[0x5c1] = iVar8;
    *(int *)(piVar7[0x603] + 0x28) = iVar8;
  }
  iVar8 = *(int *)(iVar1 + 0xea);
  if (piVar7[0x600] != 0) {
    piVar7[0x5be] = iVar8;
    *(int *)(piVar7[0x600] + 0x28) = iVar8;
  }
  iVar8 = *(int *)(iVar1 + 0xee);
  if (piVar7[0x605] != 0) {
    piVar7[0x5c3] = iVar8;
    *(int *)(piVar7[0x605] + 0x28) = iVar8;
  }
  iVar8 = *(int *)(iVar1 + 0xf2);
  if (piVar7[0x604] != 0) {
    piVar7[0x5c2] = iVar8;
    *(int *)(piVar7[0x604] + 0x28) = iVar8;
  }
  iVar8 = *(int *)(iVar1 + 0xf6);
  if (piVar7[0x607] != 0) {
    piVar7[0x5c5] = iVar8;
    *(int *)(piVar7[0x607] + 0x28) = iVar8;
  }
  local_38 = 0;
  local_24 = 7;
  local_28 = 0;
  psVar9 = (short *)(iVar1 + 0x10);
  do {
    sVar6 = *psVar9;
    psVar9 = psVar9 + 1;
  } while (sVar6 != 0);
  FUN_00406360((short *)(iVar1 + 0x10),(int)psVar9 - (iVar1 + 0x12) >> 1);
  local_8 = 1;
  FUN_004044f0();
  local_8 = 0xffffffff;
  if (7 < local_24) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  piVar7[0x5a7] = (uint)*(byte *)(iVar1 + 0xd5);
  piVar7[0x5a8] = *(int *)(iVar1 + 0xc4);
  piVar7[0x5a9] = *(int *)(iVar1 + 0xd0);
  piVar7[0x5aa] = *(int *)(iVar1 + 200);
  piVar7[0x5ab] = *(int *)(iVar1 + 0xcc);
  iVar8 = *(int *)(iVar1 + 0xbc);
  if (piVar7[0x62d] != 0) {
    if (iVar8 < 0) {
      iVar8 = 0;
    }
    else if (10 < iVar8) {
      iVar8 = 10;
    }
    *(int *)(piVar7[0x62d] + 0x24) = iVar8;
  }
  iVar8 = *(int *)(iVar1 + 0xc0);
  if (piVar7[0x62d] != 0) {
    if (iVar8 < 0) {
      iVar8 = 0;
    }
    else if (10 < iVar8) {
      iVar8 = 10;
    }
    *(int *)(piVar7[0x62d] + 0x28) = iVar8;
  }
  if (piVar7[0x62d] != 0) {
    *(undefined4 *)(piVar7[0x62d] + 0x2c) = *(undefined4 *)(iVar1 + 0xb4);
    *(undefined4 *)(piVar7[0x62d] + 0x30) = 0xffffcca6;
  }
  if (piVar7[0x62d] != 0) {
    *(undefined4 *)(piVar7[0x62d] + 0x30) = *(undefined4 *)(iVar1 + 0xb8);
  }
  iVar8 = *(int *)(iVar1 + 0x100);
  piVar7[0x630] = *(int *)(iVar1 + 0xfc);
  piVar7[0x631] = iVar8;
  *(undefined2 *)(piVar7 + 0x632) = *(undefined2 *)(iVar1 + 0x104);
  piVar7[0x5b9] = *(int *)(iVar1 + 0x114);
  local_14 = (int *)(iVar1 + 0x140);
  param_2 = 0;
  do {
    iVar8 = local_14[-10];
    bVar5 = (char)param_2 + 0x14;
    if (bVar5 < 0x21) {
      if (piVar7[bVar5 + 0x5fc] != 0) {
        piVar7[bVar5 + 0x5ba] = iVar8;
        *(int *)(piVar7[bVar5 + 0x5fc] + 0x28) = iVar8;
      }
    }
    iVar8 = *local_14;
    if (bVar5 < 0x21) {
      if (piVar7[bVar5 + 0x5fc] != 0) {
        piVar7[bVar5 + 0x5db] = iVar8;
        *(int *)(piVar7[bVar5 + 0x5fc] + 0x30) = iVar8;
      }
    }
    param_2 = param_2 + 1;
    local_14 = local_14 + 1;
  } while (param_2 < 10);
  local_38 = 0;
  local_24 = 7;
  local_28 = 0;
  psVar9 = (short *)(iVar1 + 0x60);
  do {
    sVar6 = *psVar9;
    psVar9 = psVar9 + 1;
  } while (sVar6 != 0);
  FUN_00406360((short *)(iVar1 + 0x60),(int)psVar9 - (iVar1 + 0x62) >> 1);
  local_8 = 2;
  (**(code **)*piVar7)(local_3c);
  local_8 = 0xffffffff;
  if (7 < local_24) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_24 = 7;
  local_28 = 0;
  local_38 = 0;
  if (*(short *)(iVar1 + 0x10e) == -1) {
    *(undefined1 *)((int)piVar7 + 0x1fd1) = 0;
    piVar7[0x7f6] = 0;
    piVar7[0x7f5] = 0;
  }
  else {
    *(undefined1 *)((int)piVar7 + 0x1fd1) = 1;
    DVar10 = GetTickCount();
    piVar7[0x7f6] = DVar10;
    piVar7[0x7f5] = (uint)*(ushort *)(iVar1 + 0x10e);
  }
  (**(code **)(*piVar7 + 0x2d8))(0);
  iVar8 = param_1;
  local_20[0] = (ushort)*(byte *)(iVar1 + 0xd5);
  local_1c = piVar7;
  FUN_0041ed30(local_18,local_20);
  *(undefined1 *)(iVar8 + 0x2cc) = 1;
  if (*(int *)(iVar8 + 0x2d0) < 0) {
    *(uint *)(iVar8 + 0x2d0) = (uint)*(byte *)(iVar1 + 0xd5);
  }
  if ((1 < *(uint *)(iVar8 + 300)) && (-1 < *(int *)(iVar8 + 0x2d0))) {
    param_1 = (uint)*(byte *)(iVar1 + 0xd5);
    param_2._3_1_ = *(byte *)(iVar1 + 0xd5);
    piVar7 = (int *)FUN_00413b60(&param_1);
    param_1 = (uint)*(ushort *)(iVar8 + 0x2d0);
    iVar1 = *piVar7;
    piVar7 = (int *)FUN_00413b60(&param_1);
    if ((iVar1 != *(int *)(iVar8 + 0x128)) && (*piVar7 != *(int *)(iVar8 + 0x128))) {
      iVar2 = *(int *)(iVar1 + 0x10);
      iVar3 = *(int *)(*piVar7 + 0x10);
      iVar4 = *(int *)(iVar2 + 0x18c4);
      iVar1 = *(int *)(iVar3 + 0x18c4);
      if ((iVar1 <= iVar4) &&
         ((iVar1 < iVar4 || (*(uint *)(iVar3 + 0x18c0) < *(uint *)(iVar2 + 0x18c0))))) {
        *(uint *)(iVar8 + 0x2d0) = (uint)param_2._3_1_;
      }
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a51f80 : PUSH EBP
00a51f81 : MOV EBP,ESP
00a51f83 : PUSH -0x1
00a51f85 : PUSH 0xb659a5
00a51f8a : MOV EAX,FS:[0x0]
00a51f90 : PUSH EAX
00a51f91 : SUB ESP,0x2c
00a51f94 : PUSH EBX
00a51f95 : PUSH ESI
00a51f96 : PUSH EDI
00a51f97 : MOV EAX,[0x00d66fa0]
00a51f9c : XOR EAX,EBP
00a51f9e : PUSH EAX
00a51f9f : LEA EAX,[EBP + -0xc]
00a51fa2 : MOV FS:[0x0],EAX
00a51fa8 : MOV EBX,dword ptr [EBP + 0xc]
00a51fab : PUSH 0x0
00a51fad : PUSH 0x136d
00a51fb2 : PUSH 0xcc79dc
00a51fb7 : PUSH 0x2100
00a51fbc : CALL 0x006f0760
00a51fc1 : ADD ESP,0x10
00a51fc4 : MOV dword ptr [EBP + 0xc],EAX
00a51fc7 : MOV dword ptr [EBP + -0x4],0x0
00a51fce : TEST EAX,EAX
00a51fd0 : JZ 0x00a51fde
00a51fd2 : PUSH 0x5
00a51fd4 : PUSH EAX
00a51fd5 : CALL 0x00874090
00a51fda : MOV ESI,EAX
00a51fdc : JMP 0x00a51fe0
00a51fde : XOR ESI,ESI
00a51fe0 : MOV dword ptr [EBP + -0x4],0xffffffff
00a51fe7 : MOV EAX,dword ptr [EBX + 0x8]
00a51fea : CALL 0x0088b500
00a51fef : MOV EAX,dword ptr [EBX + 0xc]
00a51ff2 : MOV dword ptr [ESI + 0x16d8],EAX
00a51ff8 : MOV EAX,dword ptr [EBX + 0x4]
00a51ffb : MOV dword ptr [ESI + 0x4],EAX
00a51ffe : MOVZX ECX,byte ptr [EBX + 0xd4]
00a52005 : MOV EAX,dword ptr [ESI]
00a52007 : MOV EDX,dword ptr [EAX + 0x8]
00a5200a : PUSH ECX
00a5200b : MOV ECX,ESI
00a5200d : CALL EDX
00a5200f : MOV byte ptr [ESI + 0x1a4c],0x1
00a52016 : MOVZX EAX,word ptr [EBX + 0xb0]
00a5201d : MOV word ptr [ESI + 0x1698],AX
00a52024 : MOVZX EAX,word ptr [EBX + 0xb2]
00a5202b : MOV word ptr [ESI + 0x169a],AX
00a52032 : MOV EAX,dword ptr [ESI + 0x17f8]
00a52038 : MOV ECX,dword ptr [EBX + 0xde]
00a5203e : TEST EAX,EAX
00a52040 : JZ 0x00a5204b
00a52042 : MOV dword ptr [ESI + 0x16f0],ECX
00a52048 : MOV dword ptr [EAX + 0x28],ECX
00a5204b : MOV EAX,dword ptr [EBX + 0xd6]
00a52051 : PUSH EAX
00a52052 : CALL 0x00856fb0
00a52057 : MOV EAX,dword ptr [EBX + 0x106]
00a5205d : MOV ECX,dword ptr [EBX + 0x10a]
00a52063 : MOV dword ptr [ESI + 0x1fc8],EAX
00a52069 : MOV dword ptr [ESI + 0x1fcc],ECX
00a5206f : MOV AL,byte ptr [EBX + 0xfb]
00a52075 : MOV byte ptr [ESI + 0x1fd0],AL
00a5207b : MOV DI,word ptr [EBX + 0x110]
00a52082 : PUSH 0x1000
00a52087 : CALL 0x00703c00
00a5208c : ADD ESP,0x4
00a5208f : MOV ECX,ESI
00a52091 : TEST EAX,EAX
00a52093 : JZ 0x00a520a1
00a52095 : MOVZX EAX,word ptr [EAX + 0x6]
00a52099 : MOV EDX,dword ptr [ESI]
00a5209b : MOV EDX,dword ptr [EDX + 0xc]
00a5209e : PUSH EAX
00a5209f : JMP 0x00a520a8
00a520a1 : MOV EAX,dword ptr [ESI]
00a520a3 : MOV EDX,dword ptr [EAX + 0xc]
00a520a6 : PUSH 0x0
00a520a8 : CALL EDX
00a520aa : MOV ECX,dword ptr [0x00d7c54c]
00a520b0 : MOV EDI,dword ptr [EBX + 0xda]
00a520b6 : LEA EAX,[EBP + 0xc]
00a520b9 : PUSH EAX
00a520ba : ADD ECX,0x40
00a520bd : LEA EAX,[EBP + -0x10]
00a520c0 : MOV dword ptr [EBP + 0xc],EDI
00a520c3 : CALL 0x004437f0
00a520c8 : MOV ECX,dword ptr [0x00d7c54c]
00a520ce : MOV EAX,dword ptr [ECX + 0x44]
00a520d1 : MOV ECX,dword ptr [EBP + -0x10]
00a520d4 : CMP ECX,EAX
00a520d6 : JZ 0x00a52122
00a520d8 : CMP dword ptr [ECX + 0x10],0x0
00a520dc : JZ 0x00a52122
00a520de : MOV EAX,dword ptr [ESI + 0x17f4]
00a520e4 : TEST EAX,EAX
00a520e6 : JZ 0x00a520f1
00a520e8 : MOV dword ptr [ESI + 0x16ec],EDI
00a520ee : MOV dword ptr [EAX + 0x28],EDI
00a520f1 : MOV ECX,dword ptr [EBX + 0xda]
00a520f7 : MOV EAX,ECX
00a520f9 : SHR EAX,0x10
00a520fc : MOV EDX,0x60a
00a52101 : CMP AX,DX
00a52104 : JZ 0x00a5211a
00a52106 : MOV EDX,0x60b
00a5210b : CMP AX,DX
00a5210e : JZ 0x00a5211a
00a52110 : MOV EDX,0x60c
00a52115 : CMP AX,DX
00a52118 : JNZ 0x00a52135
00a5211a : PUSH ECX
00a5211b : CALL 0x00856ef0
00a52120 : JMP 0x00a52135
00a52122 : MOV EAX,dword ptr [ESI + 0x17f4]
00a52128 : TEST EAX,EAX
00a5212a : JZ 0x00a52135
00a5212c : MOV dword ptr [ESI + 0x16ec],EDI
00a52132 : MOV dword ptr [EAX + 0x28],EDI
00a52135 : MOV EAX,dword ptr [ESI + 0x1804]
00a5213b : MOV ECX,dword ptr [EBX + 0xe2]
00a52141 : TEST EAX,EAX
00a52143 : JZ 0x00a5214e
00a52145 : MOV dword ptr [ESI + 0x16fc],ECX
00a5214b : MOV dword ptr [EAX + 0x28],ECX
00a5214e : MOV EAX,dword ptr [ESI + 0x180c]
00a52154 : MOV ECX,dword ptr [EBX + 0xe6]
00a5215a : TEST EAX,EAX
00a5215c : JZ 0x00a52167
00a5215e : MOV dword ptr [ESI + 0x1704],ECX
00a52164 : MOV dword ptr [EAX + 0x28],ECX
00a52167 : MOV EAX,dword ptr [ESI + 0x1800]
00a5216d : MOV ECX,dword ptr [EBX + 0xea]
00a52173 : TEST EAX,EAX
00a52175 : JZ 0x00a52180
00a52177 : MOV dword ptr [ESI + 0x16f8],ECX
00a5217d : MOV dword ptr [EAX + 0x28],ECX
00a52180 : MOV EAX,dword ptr [ESI + 0x1814]
00a52186 : MOV ECX,dword ptr [EBX + 0xee]
00a5218c : TEST EAX,EAX
00a5218e : JZ 0x00a52199
00a52190 : MOV dword ptr [ESI + 0x170c],ECX
00a52196 : MOV dword ptr [EAX + 0x28],ECX
00a52199 : MOV EAX,dword ptr [ESI + 0x1810]
00a5219f : MOV ECX,dword ptr [EBX + 0xf2]
00a521a5 : TEST EAX,EAX
00a521a7 : JZ 0x00a521b2
00a521a9 : MOV dword ptr [ESI + 0x1708],ECX
00a521af : MOV dword ptr [EAX + 0x28],ECX
00a521b2 : MOV EAX,dword ptr [ESI + 0x181c]
00a521b8 : MOV ECX,dword ptr [EBX + 0xf6]
00a521be : TEST EAX,EAX
00a521c0 : JZ 0x00a521cb
00a521c2 : MOV dword ptr [ESI + 0x1714],ECX
00a521c8 : MOV dword ptr [EAX + 0x28],ECX
00a521cb : XOR EAX,EAX
00a521cd : LEA EDX,[EBX + 0x10]
00a521d0 : MOV word ptr [EBP + -0x34],AX
00a521d4 : MOV EAX,EDX
00a521d6 : MOV dword ptr [EBP + -0x20],0x7
00a521dd : MOV dword ptr [EBP + -0x24],0x0
00a521e4 : LEA EDI,[EAX + 0x2]
00a521e7 : MOV CX,word ptr [EAX]
00a521ea : ADD EAX,0x2
00a521ed : TEST CX,CX
00a521f0 : JNZ 0x00a521e7
00a521f2 : SUB EAX,EDI
00a521f4 : SAR EAX,0x1
00a521f6 : PUSH EAX
00a521f7 : PUSH EDX
00a521f8 : LEA ECX,[EBP + -0x38]
00a521fb : CALL 0x00406360
00a52200 : MOV dword ptr [EBP + -0x4],0x1
00a52207 : LEA ECX,[EBP + -0x38]
00a5220a : MOV EDI,ESI
00a5220c : CALL 0x004044f0
00a52211 : MOV dword ptr [EBP + -0x4],0xffffffff
00a52218 : CMP dword ptr [EBP + -0x20],0x8
00a5221c : JC 0x00a52226
00a5221e : MOV ECX,dword ptr [EBP + -0x34]
00a52221 : CALL 0x006f04e0
00a52226 : MOVZX EAX,byte ptr [EBX + 0xd5]
00a5222d : MOV dword ptr [ESI + 0x169c],EAX
00a52233 : MOV EAX,dword ptr [EBX + 0xc4]
00a52239 : MOV dword ptr [ESI + 0x16a0],EAX
00a5223f : MOV EAX,dword ptr [EBX + 0xd0]
00a52245 : MOV dword ptr [ESI + 0x16a4],EAX
00a5224b : MOV EAX,dword ptr [EBX + 0xc8]
00a52251 : MOV dword ptr [ESI + 0x16a8],EAX
00a52257 : MOV EAX,dword ptr [EBX + 0xcc]
00a5225d : XOR ECX,ECX
00a5225f : MOV dword ptr [ESI + 0x16ac],EAX
00a52265 : MOV EAX,dword ptr [ESI + 0x18b4]
00a5226b : MOV word ptr [EBP + -0x34],CX
00a5226f : MOV ECX,dword ptr [EBX + 0xbc]
00a52275 : MOV dword ptr [EBP + -0x20],0x7
00a5227c : MOV dword ptr [EBP + -0x24],0x0
00a52283 : TEST EAX,EAX
00a52285 : JZ 0x00a5229c
00a52287 : TEST ECX,ECX
00a52289 : JGE 0x00a5228f
00a5228b : XOR ECX,ECX
00a5228d : JMP 0x00a52299
00a5228f : CMP ECX,0xb
00a52292 : JL 0x00a52299
00a52294 : MOV ECX,0xa
00a52299 : MOV dword ptr [EAX + 0x24],ECX
00a5229c : MOV ECX,dword ptr [ESI + 0x18b4]
00a522a2 : MOV EAX,dword ptr [EBX + 0xc0]
00a522a8 : TEST ECX,ECX
00a522aa : JZ 0x00a522c1
00a522ac : TEST EAX,EAX
00a522ae : JGE 0x00a522b4
00a522b0 : XOR EAX,EAX
00a522b2 : JMP 0x00a522be
00a522b4 : CMP EAX,0xb
00a522b7 : JL 0x00a522be
00a522b9 : MOV EAX,0xa
00a522be : MOV dword ptr [ECX + 0x28],EAX
00a522c1 : MOV EAX,dword ptr [ESI + 0x18b4]
00a522c7 : MOV ECX,dword ptr [EBX + 0xb4]
00a522cd : TEST EAX,EAX
00a522cf : JZ 0x00a522e1
00a522d1 : MOV dword ptr [EAX + 0x2c],ECX
00a522d4 : MOV EAX,dword ptr [ESI + 0x18b4]
00a522da : MOV dword ptr [EAX + 0x30],0xffffcca6
00a522e1 : MOV EAX,dword ptr [ESI + 0x18b4]
00a522e7 : MOV ECX,dword ptr [EBX + 0xb8]
00a522ed : TEST EAX,EAX
00a522ef : JZ 0x00a522f4
00a522f1 : MOV dword ptr [EAX + 0x30],ECX
00a522f4 : MOV EAX,dword ptr [EBX + 0xfc]
00a522fa : MOV ECX,dword ptr [EBX + 0x100]
00a52300 : MOV dword ptr [ESI + 0x18c0],EAX
00a52306 : MOV dword ptr [ESI + 0x18c4],ECX
00a5230c : MOVZX EAX,word ptr [EBX + 0x104]
00a52313 : MOV word ptr [ESI + 0x18c8],AX
00a5231a : MOV EAX,dword ptr [EBX + 0x114]
00a52320 : MOV dword ptr [ESI + 0x16e4],EAX
00a52326 : XOR EAX,EAX
00a52328 : LEA EDI,[EBX + 0x140]
00a5232e : MOV dword ptr [EBP + 0xc],EAX
00a52331 : MOV dword ptr [EBP + -0x10],EDI
00a52334 : MOV EDX,dword ptr [EDI + -0x28]
00a52337 : ADD AL,0x14
00a52339 : CMP AL,0x21
00a5233b : JNC 0x00a52355
00a5233d : MOVZX ECX,AL
00a52340 : MOV EDI,dword ptr [ESI + ECX*0x4 + 0x17f0]
00a52347 : TEST EDI,EDI
00a52349 : JZ 0x00a52355
00a5234b : MOV dword ptr [ESI + ECX*0x4 + 0x16e8],EDX
00a52352 : MOV dword ptr [EDI + 0x28],EDX
00a52355 : MOV EDI,dword ptr [EBP + -0x10]
00a52358 : MOV EDX,dword ptr [EDI]
00a5235a : CMP AL,0x21
00a5235c : JNC 0x00a52376
00a5235e : MOVZX EAX,AL
00a52361 : MOV ECX,dword ptr [ESI + EAX*0x4 + 0x17f0]
00a52368 : TEST ECX,ECX
00a5236a : JZ 0x00a52376
00a5236c : MOV dword ptr [ESI + EAX*0x4 + 0x176c],EDX
00a52373 : MOV dword ptr [ECX + 0x30],EDX
00a52376 : MOV EAX,dword ptr [EBP + 0xc]
00a52379 : INC EAX
00a5237a : ADD EDI,0x4
00a5237d : CMP EAX,0xa
00a52380 : MOV dword ptr [EBP + 0xc],EAX
00a52383 : MOV dword ptr [EBP + -0x10],EDI
00a52386 : JL 0x00a52334
00a52388 : XOR EAX,EAX
00a5238a : LEA EDX,[EBX + 0x60]
00a5238d : MOV word ptr [EBP + -0x34],AX
00a52391 : MOV EAX,EDX
00a52393 : MOV dword ptr [EBP + -0x20],0x7
00a5239a : MOV dword ptr [EBP + -0x24],0x0
00a523a1 : LEA EDI,[EAX + 0x2]
00a523a4 : MOV CX,word ptr [EAX]
00a523a7 : ADD EAX,0x2
00a523aa : TEST CX,CX
00a523ad : JNZ 0x00a523a4
00a523af : SUB EAX,EDI
00a523b1 : SAR EAX,0x1
00a523b3 : PUSH EAX
00a523b4 : PUSH EDX
00a523b5 : LEA ECX,[EBP + -0x38]
00a523b8 : CALL 0x00406360
00a523bd : MOV dword ptr [EBP + -0x4],0x2
00a523c4 : MOV EDX,dword ptr [ESI]
00a523c6 : MOV EDX,dword ptr [EDX]
00a523c8 : LEA EAX,[EBP + -0x38]
00a523cb : PUSH EAX
00a523cc : MOV ECX,ESI
00a523ce : CALL EDX
00a523d0 : MOV dword ptr [EBP + -0x4],0xffffffff
00a523d7 : CMP dword ptr [EBP + -0x20],0x8
00a523db : JC 0x00a523e5
00a523dd : MOV ECX,dword ptr [EBP + -0x34]
00a523e0 : CALL 0x006f04e0
00a523e5 : XOR EDI,EDI
00a523e7 : XOR EAX,EAX
00a523e9 : MOV ECX,0xffff
00a523ee : MOV dword ptr [EBP + -0x20],0x7
00a523f5 : MOV dword ptr [EBP + -0x24],EDI
00a523f8 : MOV word ptr [EBP + -0x34],AX
00a523fc : CMP word ptr [EBX + 0x10e],CX
00a52403 : JNZ 0x00a52419
00a52405 : MOV byte ptr [ESI + 0x1fd1],AL
00a5240b : MOV dword ptr [ESI + 0x1fd8],EDI
00a52411 : MOV dword ptr [ESI + 0x1fd4],EDI
00a52417 : JMP 0x00a52439
00a52419 : MOV byte ptr [ESI + 0x1fd1],0x1
00a52420 : CALL dword ptr [0x00b850d8]
00a52426 : MOV dword ptr [ESI + 0x1fd8],EAX
00a5242c : MOVZX EDX,word ptr [EBX + 0x10e]
00a52433 : MOV dword ptr [ESI + 0x1fd4],EDX
00a52439 : MOV EAX,dword ptr [ESI]
00a5243b : MOV EDX,dword ptr [EAX + 0x2d8]
00a52441 : PUSH EDI
00a52442 : MOV ECX,ESI
00a52444 : CALL EDX
00a52446 : MOVZX AX,byte ptr [EBX + 0xd5]
00a5244e : MOV dword ptr [EBP + -0x18],ESI
00a52451 : MOV ESI,dword ptr [EBP + 0x8]
00a52454 : LEA ECX,[EBP + -0x1c]
00a52457 : PUSH ECX
00a52458 : LEA EDX,[EBP + -0x14]
00a5245b : MOV word ptr [EBP + -0x1c],AX
00a5245f : LEA EDI,[ESI + 0x124]
00a52465 : PUSH EDX
00a52466 : MOV EAX,EDI
00a52468 : CALL 0x0041ed30
00a5246d : CMP dword ptr [ESI + 0x2d0],0x0
00a52474 : MOV byte ptr [ESI + 0x2cc],0x1
00a5247b : JGE 0x00a5248a
00a5247d : MOVZX EAX,byte ptr [EBX + 0xd5]
00a52484 : MOV dword ptr [ESI + 0x2d0],EAX
00a5248a : CMP dword ptr [ESI + 0x12c],0x1
00a52491 : JBE 0x00a52519
00a52497 : CMP dword ptr [ESI + 0x2d0],0x0
00a5249e : JL 0x00a52519
00a524a0 : MOV BL,byte ptr [EBX + 0xd5]
00a524a6 : MOVZX CX,BL
00a524aa : MOVZX EDX,CX
00a524ad : LEA EAX,[EBP + 0x8]
00a524b0 : PUSH EAX
00a524b1 : LEA EAX,[EBP + -0x10]
00a524b4 : MOV ECX,EDI
00a524b6 : MOV byte ptr [EBP + 0xf],BL
00a524b9 : MOV dword ptr [EBP + 0x8],EDX
00a524bc : CALL 0x00413b60
00a524c1 : MOVZX ECX,word ptr [ESI + 0x2d0]
00a524c8 : MOV EBX,dword ptr [EAX]
00a524ca : LEA EDX,[EBP + 0x8]
00a524cd : MOV dword ptr [EBP + 0x8],ECX
00a524d0 : PUSH EDX
00a524d1 : LEA EAX,[EBP + -0x18]
00a524d4 : MOV ECX,EDI
00a524d6 : CALL 0x00413b60
00a524db : MOV ECX,dword ptr [EAX]
00a524dd : MOV EAX,dword ptr [ESI + 0x128]
00a524e3 : CMP EBX,EAX
00a524e5 : JZ 0x00a52519
00a524e7 : CMP ECX,EAX
00a524e9 : JZ 0x00a52519
00a524eb : MOV EBX,dword ptr [EBX + 0x10]
00a524ee : MOV ECX,dword ptr [ECX + 0x10]
00a524f1 : MOV EAX,dword ptr [EBX + 0x18c4]
00a524f7 : CMP EAX,dword ptr [ECX + 0x18c4]
00a524fd : JL 0x00a52519
00a524ff : JG 0x00a5250f
00a52501 : MOV EDX,dword ptr [EBX + 0x18c0]
00a52507 : CMP EDX,dword ptr [ECX + 0x18c0]
00a5250d : JBE 0x00a52519
00a5250f : MOVZX EAX,byte ptr [EBP + 0xf]
00a52513 : MOV dword ptr [ESI + 0x2d0],EAX
00a52519 : MOV ECX,dword ptr [EBP + -0xc]
00a5251c : MOV dword ptr FS:[0x0],ECX
00a52523 : POP ECX
00a52524 : POP EDI
00a52525 : POP ESI
00a52526 : POP EBX
00a52527 : MOV ESP,EBP
00a52529 : POP EBP
00a5252a : RET 0x8
