PROGRAM  : Maestia.exe
FUNCTION : FUN_00828750
ENTRY    : 00828750
BODY     : [[00828750, 00828a55]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00828750(int param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  undefined2 *in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b6a9ad;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (DAT_00da93ec != 0) {
    if (param_1 == 0) {
      FUN_00a3afd0();
      if (((*DAT_00da9894 != 0) && (iVar1 = *(int *)(*DAT_00da9894 + 300), iVar1 != 0)) &&
         (*(int *)(iVar1 + 0x18) != 0)) {
        FUN_00980c30();
      }
    }
    else {
      if (in_ECX[2] == (short)*(undefined4 *)(DAT_00da93ec + 0x450)) {
        FUN_00a41440();
        FUN_0081e8e0();
      }
      if (((*DAT_00da9894 != 0) && (iVar1 = *(int *)(*DAT_00da9894 + 300), iVar1 != 0)) &&
         (*(int *)(iVar1 + 0x18) != 0)) {
        FUN_00405660(in_ECX + 0x12);
        local_8 = 0xffffffff;
        FUN_009828e0(*in_ECX);
      }
      FUN_00a204c0();
      __time64((__time64_t *)0x0);
      FUN_00a33950();
      if ((param_2 != 0) || (*(int *)(in_ECX + 0x20) != 0)) {
        *(undefined4 *)(in_ECX + 0x20) = 0;
        FUN_0040e250();
        local_8 = 1;
        FUN_00883670();
        local_8 = 0xffffffff;
        FUN_00406bd0();
      }
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(uVar2 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00828750 : PUSH EBP
00828751 : MOV EBP,ESP
00828753 : PUSH -0x1
00828755 : PUSH 0xb6a9ad
0082875a : MOV EAX,FS:[0x0]
00828760 : PUSH EAX
00828761 : SUB ESP,0xa4
00828767 : MOV EAX,[0x00d66fa0]
0082876c : XOR EAX,EBP
0082876e : MOV dword ptr [EBP + -0x10],EAX
00828771 : PUSH EBX
00828772 : PUSH ESI
00828773 : PUSH EDI
00828774 : PUSH EAX
00828775 : LEA EAX,[EBP + -0xc]
00828778 : MOV FS:[0x0],EAX
0082877e : MOV ESI,ECX
00828780 : MOV ECX,dword ptr [0x00da93ec]
00828786 : XOR EBX,EBX
00828788 : MOV dword ptr [EBP + 0xffffff5c],EDX
0082878e : CMP ECX,EBX
00828790 : JZ 0x00828a38
00828796 : CMP dword ptr [EBP + 0x8],EBX
00828799 : JZ 0x00828a09
0082879f : MOV EAX,dword ptr [ECX + 0x450]
008287a5 : CMP word ptr [ESI + 0x4],AX
008287a9 : JNZ 0x00828850
008287af : MOV EDI,dword ptr [EDX + 0x17c]
008287b5 : FLDZ
008287b7 : MOVZX EDX,word ptr [EDI + 0x7c]
008287bb : MOV byte ptr [EBP + 0xffffff74],DL
008287c1 : CVTTSS2SI EDX,dword ptr [ESI + 0x8]
008287c6 : MOV EAX,0x2000
008287cb : MOV word ptr [EBP + 0xffffff64],AX
008287d2 : MOV AL,byte ptr [EBP + 0xffffff7d]
008287d8 : MOV word ptr [EBP + 0xffffff75],DX
008287df : CVTTSS2SI EDX,dword ptr [ESI + 0xc]
008287e4 : MOV word ptr [EBP + 0xffffff77],DX
008287eb : CVTTSS2SI EDX,dword ptr [ESI + 0x10]
008287f0 : AND AL,0xfb
008287f2 : MOV word ptr [EBP + 0xffffff79],DX
008287f9 : XOR EDX,EDX
008287fb : AND AL,0x1c
008287fd : MOV word ptr [EBP + 0xffffff7b],DX
00828804 : OR AL,0xa3
00828806 : PUSH ECX
00828807 : LEA EDX,[EBP + 0xffffff64]
0082880d : FSTP float ptr [ESP]
00828810 : MOV dword ptr [EBP + 0xffffff6c],EBX
00828816 : MOV byte ptr [EBP + 0xffffff66],0x34
0082881d : MOV byte ptr [EBP + 0xffffff67],0x36
00828824 : MOV dword ptr [EBP + 0xffffff70],0x660003dc
0082882e : MOV byte ptr [EBP + 0xffffff7d],AL
00828834 : MOV dword ptr [EBP + 0xffffff68],0xffff0000
0082883e : CALL 0x00a41440
00828843 : MOV ECX,ESI
00828845 : CALL 0x0081e8e0
0082884a : MOV ECX,dword ptr [0x00da93ec]
00828850 : MOV EAX,[0x00da9894]
00828855 : MOV EAX,dword ptr [EAX]
00828857 : CMP EAX,EBX
00828859 : JZ 0x008288c7
0082885b : MOV EAX,dword ptr [EAX + 0x12c]
00828861 : CMP EAX,EBX
00828863 : JZ 0x008288c7
00828865 : CMP dword ptr [EAX + 0x18],EBX
00828868 : JZ 0x008288c7
0082886a : MOV CX,word ptr [ESI + 0x4]
0082886e : SUB ESP,0x1c
00828871 : MOV word ptr [EBP + 0xffffff58],CX
00828878 : LEA EDX,[ESI + 0x24]
0082887b : MOV ECX,ESP
0082887d : MOV dword ptr [EBP + 0xffffff54],ESP
00828883 : PUSH EDX
00828884 : LEA EDI,[ESI + 0x8]
00828887 : CALL 0x00405660
0082888c : MOV dword ptr [EBP + -0x4],EBX
0082888f : MOV EAX,[0x00da9894]
00828894 : MOV EAX,dword ptr [EAX]
00828896 : MOV EAX,dword ptr [EAX + 0x12c]
0082889c : CMP EAX,EBX
0082889e : JNZ 0x008288a4
008288a0 : XOR EAX,EAX
008288a2 : JMP 0x008288a7
008288a4 : MOV EAX,dword ptr [EAX + 0x18]
008288a7 : MOVZX ECX,word ptr [ESI]
008288aa : PUSH ECX
008288ab : MOV dword ptr [EBP + -0x4],0xffffffff
008288b2 : MOV ECX,EDI
008288b4 : MOV EDI,dword ptr [EBP + 0xffffff58]
008288ba : MOV EDX,EAX
008288bc : CALL 0x009828e0
008288c1 : MOV ECX,dword ptr [0x00da93ec]
008288c7 : MOV EAX,dword ptr [EBP + 0xffffff5c]
008288cd : MOV EAX,dword ptr [EAX + 0x17c]
008288d3 : MOV EDX,0x2000
008288d8 : MOV word ptr [EBP + 0xffffff6c],DX
008288df : MOV EDX,dword ptr [EAX + 0x4]
008288e2 : LEA EAX,[EBP + 0xffffff6c]
008288e8 : PUSH EAX
008288e9 : MOV EDI,ECX
008288eb : MOV dword ptr [EBP + 0xffffff70],EBX
008288f1 : MOV dword ptr [EBP + 0xffffff74],EBX
008288f7 : MOV byte ptr [EBP + 0xffffff6e],0x41
008288fe : MOV byte ptr [EBP + 0xffffff6f],0x2
00828905 : MOV dword ptr [EBP + 0xffffff78],EDX
0082890b : MOV dword ptr [EBP + 0xffffff7c],0xffff0000
00828915 : CALL 0x00a204c0
0082891a : MOV EDX,dword ptr [0x0172491c]
00828920 : MOV EAX,dword ptr [EDX + 0x17c]
00828926 : MOV EAX,dword ptr [EAX + 0x4]
00828929 : MOV ECX,0x2000
0082892e : MOV EDI,0x143ddb40
00828933 : PUSH EBX
00828934 : MOV word ptr [EBP + 0xffffff60],CX
0082893b : MOV dword ptr [EBP + 0xffffff64],EBX
00828941 : MOV dword ptr [EBP + 0xffffff68],EBX
00828947 : MOV byte ptr [EBP + 0xffffff62],0x41
0082894e : MOV byte ptr [EBP + 0xffffff63],0x1
00828955 : MOV dword ptr [EBP + 0xffffff6c],EAX
0082895b : MOV dword ptr [EBP + 0xffffff70],0xffff0000
00828965 : MOV dword ptr [EBP + 0xffffff74],EDI
0082896b : CALL 0x006381ab
00828970 : MOV ECX,dword ptr [ESI + 0x18]
00828973 : SUB ECX,EAX
00828975 : LEA ECX,[ECX + ECX*0x4]
00828978 : ADD ECX,ECX
0082897a : MOV dword ptr [EBP + 0xffffff54],EDX
00828980 : MOV EDX,dword ptr [0x00da93ec]
00828986 : ADD ESP,0x4
00828989 : MOV dword ptr [EBP + 0xffffff78],ECX
0082898f : PUSH EDX
00828990 : LEA ECX,[EBP + 0xffffff60]
00828996 : MOV dword ptr [EBP + 0xffffff7c],0x3
008289a0 : CALL 0x00a33950
008289a5 : CMP dword ptr [EBP + 0xc],EBX
008289a8 : JNZ 0x008289b3
008289aa : CMP dword ptr [ESI + 0x40],EBX
008289ad : JZ 0x00828a38
008289b3 : LEA EAX,[EBP + -0x80]
008289b6 : PUSH EAX
008289b7 : MOV dword ptr [ESI + 0x40],EBX
008289ba : CALL 0x0040e250
008289bf : MOV dword ptr [EBP + -0x4],0x1
008289c6 : MOV ECX,dword ptr [EBP + 0xffffff5c]
008289cc : MOV EAX,dword ptr [ECX + 0x17c]
008289d2 : MOV ECX,dword ptr [EAX + 0x4]
008289d5 : MOV EDX,dword ptr [0x017248e4]
008289db : MOV dword ptr [EBP + -0x74],ECX
008289de : MOV EAX,dword ptr [EAX + 0x4]
008289e1 : PUSH EDX
008289e2 : LEA ECX,[EBP + -0x80]
008289e5 : MOV dword ptr [EBP + -0x70],EAX
008289e8 : MOV dword ptr [EBP + -0x7c],EDI
008289eb : MOV dword ptr [EBP + -0x18],0xe
008289f2 : CALL 0x00883670
008289f7 : MOV dword ptr [EBP + -0x4],0xffffffff
008289fe : LEA EAX,[EBP + -0x80]
00828a01 : PUSH EAX
00828a02 : CALL 0x00406bd0
00828a07 : JMP 0x00828a38
00828a09 : PUSH EBX
00828a0a : PUSH 0xffff0000
00828a0f : PUSH ECX
00828a10 : CALL 0x00a3afd0
00828a15 : MOV ECX,dword ptr [0x00da9894]
00828a1b : MOV EAX,dword ptr [ECX]
00828a1d : CMP EAX,EBX
00828a1f : JZ 0x00828a38
00828a21 : MOV EAX,dword ptr [EAX + 0x12c]
00828a27 : CMP EAX,EBX
00828a29 : JZ 0x00828a38
00828a2b : CMP dword ptr [EAX + 0x18],EBX
00828a2e : JZ 0x00828a38
00828a30 : MOV SI,word ptr [ESI]
00828a33 : CALL 0x00980c30
00828a38 : MOV ECX,dword ptr [EBP + -0xc]
00828a3b : MOV dword ptr FS:[0x0],ECX
00828a42 : POP ECX
00828a43 : POP EDI
00828a44 : POP ESI
00828a45 : POP EBX
00828a46 : MOV ECX,dword ptr [EBP + -0x10]
00828a49 : XOR ECX,EBP
00828a4b : CALL 0x00633e6b
00828a50 : MOV ESP,EBP
00828a52 : POP EBP
00828a53 : RET 0x8
