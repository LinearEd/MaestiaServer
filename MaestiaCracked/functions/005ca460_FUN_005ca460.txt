PROGRAM  : Maestia.exe
FUNCTION : FUN_005ca460
ENTRY    : 005ca460
BODY     : [[005ca460, 005ca557]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005ca460(int param_1)

{
  char cVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  undefined1 auStack_20 [16];
  undefined1 uStack_10;
  
  if (((*(int *)(param_1 + 8) == 0) ||
      (iVar2 = (**(code **)(**(int **)(param_1 + 8) + 8))(), iVar2 != 0x10)) ||
     (cVar1 = (**(code **)(**(int **)(param_1 + 8) + 0x40))(), cVar1 != '\0')) {
    iVar2 = FUN_00515840(0x30,0);
    if (iVar2 != 0) {
      iVar2 = FUN_005c9e90(*(undefined4 *)(param_1 + 0x18));
      goto LAB_005ca4d1;
    }
  }
  else {
    iVar4 = *(int *)(param_1 + 8);
    if (iVar4 != 0) {
      iVar2 = iVar4 + -0x10;
      if (iVar2 != 0) {
        *(uint *)(iVar4 + -8) = *(int *)(iVar4 + -8) + 1U & 0x8fffffff;
      }
      goto LAB_005ca4d1;
    }
  }
  iVar2 = 0;
LAB_005ca4d1:
  FUN_005271c0(iVar2);
  if (0 < *(int *)(param_1 + 0x1c)) {
    auStack_20[0] = 0;
    uStack_10 = 0;
    uVar3 = FUN_00526260(0);
    FUN_005268b0(uVar3);
    iVar4 = 1;
    if (1 < *(int *)(param_1 + 0x1c)) {
      uVar3 = FUN_00526260(1);
      FUN_005268b0(uVar3);
    }
    FUN_005c9590(*(int *)(param_1 + 0x18) + 0x78,auStack_20);
    do {
      FUN_00526bc0();
      iVar4 = iVar4 + -1;
    } while (-1 < iVar4);
  }
  if (iVar2 == 0) {
    return;
  }
  FUN_00503db0();
  return;
}



============================================================
DISASSEMBLY
============================================================
005ca460 : SUB ESP,0x20
005ca463 : PUSH EBP
005ca464 : PUSH ESI
005ca465 : MOV ESI,dword ptr [ESP + 0x2c]
005ca469 : CMP dword ptr [ESI + 0x8],0x0
005ca46d : JZ 0x005ca4a9
005ca46f : MOV ECX,dword ptr [ESI + 0x8]
005ca472 : MOV EAX,dword ptr [ECX]
005ca474 : MOV EDX,dword ptr [EAX + 0x8]
005ca477 : CALL EDX
005ca479 : CMP EAX,0x10
005ca47c : JNZ 0x005ca4a9
005ca47e : MOV ECX,dword ptr [ESI + 0x8]
005ca481 : MOV EAX,dword ptr [ECX]
005ca483 : MOV EDX,dword ptr [EAX + 0x40]
005ca486 : CALL EDX
005ca488 : TEST AL,AL
005ca48a : JNZ 0x005ca4a9
005ca48c : MOV EAX,dword ptr [ESI + 0x8]
005ca48f : TEST EAX,EAX
005ca491 : JZ 0x005ca4cf
005ca493 : ADD EAX,-0x10
005ca496 : TEST EAX,EAX
005ca498 : JZ 0x005ca4d1
005ca49a : MOV ECX,dword ptr [EAX + 0x8]
005ca49d : INC ECX
005ca49e : AND ECX,0x8fffffff
005ca4a4 : MOV dword ptr [EAX + 0x8],ECX
005ca4a7 : JMP 0x005ca4d1
005ca4a9 : MOV EDX,dword ptr [ESI + 0x18]
005ca4ac : MOV EAX,dword ptr [EDX + 0x78]
005ca4af : MOV ECX,dword ptr [EAX + 0x288]
005ca4b5 : PUSH 0x0
005ca4b7 : PUSH 0x30
005ca4b9 : CALL 0x00515840
005ca4be : TEST EAX,EAX
005ca4c0 : JZ 0x005ca4cf
005ca4c2 : MOV ECX,dword ptr [ESI + 0x18]
005ca4c5 : PUSH ECX
005ca4c6 : MOV ECX,EAX
005ca4c8 : CALL 0x005c9e90
005ca4cd : JMP 0x005ca4d1
005ca4cf : XOR EAX,EAX
005ca4d1 : MOV ECX,dword ptr [ESI + 0x4]
005ca4d4 : MOV EBP,EAX
005ca4d6 : PUSH EBP
005ca4d7 : CALL 0x005271c0
005ca4dc : CMP dword ptr [ESI + 0x1c],0x0
005ca4e0 : JLE 0x005ca543
005ca4e2 : PUSH EDI
005ca4e3 : PUSH 0x0
005ca4e5 : MOV ECX,ESI
005ca4e7 : MOV byte ptr [ESP + 0x10],0x0
005ca4ec : MOV byte ptr [ESP + 0x20],0x0
005ca4f1 : CALL 0x00526260
005ca4f6 : PUSH EAX
005ca4f7 : LEA ECX,[ESP + 0x10]
005ca4fb : CALL 0x005268b0
005ca500 : MOV EDI,0x1
005ca505 : CMP dword ptr [ESI + 0x1c],EDI
005ca508 : JLE 0x005ca51c
005ca50a : PUSH EDI
005ca50b : MOV ECX,ESI
005ca50d : CALL 0x00526260
005ca512 : PUSH EAX
005ca513 : LEA ECX,[ESP + 0x20]
005ca517 : CALL 0x005268b0
005ca51c : MOV EAX,dword ptr [ESI + 0x18]
005ca51f : LEA EDX,[ESP + 0xc]
005ca523 : PUSH EDX
005ca524 : ADD EAX,0x78
005ca527 : PUSH EAX
005ca528 : MOV ECX,EBP
005ca52a : CALL 0x005c9590
005ca52f : LEA ESI,[ESP + 0x2c]
005ca533 : SUB ESI,0x10
005ca536 : MOV ECX,ESI
005ca538 : CALL 0x00526bc0
005ca53d : SUB EDI,0x1
005ca540 : JNS 0x005ca533
005ca542 : POP EDI
005ca543 : POP ESI
005ca544 : TEST EBP,EBP
005ca546 : JZ 0x005ca553
005ca548 : MOV ECX,EBP
005ca54a : POP EBP
005ca54b : ADD ESP,0x20
005ca54e : JMP 0x00503db0
005ca553 : POP EBP
005ca554 : ADD ESP,0x20
005ca557 : RET
