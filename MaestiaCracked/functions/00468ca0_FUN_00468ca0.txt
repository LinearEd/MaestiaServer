PROGRAM  : Maestia.exe
FUNCTION : FUN_00468ca0
ENTRY    : 00468ca0
BODY     : [[00468ca0, 00468dd1]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00468ca0(void)

{
  size_t _Size;
  uint uVar1;
  int iVar2;
  int in_ECX;
  size_t *psVar3;
  undefined **local_230;
  int *local_22c;
  int *local_228;
  undefined **local_224;
  int local_220;
  undefined1 local_21c;
  undefined **local_11c;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b75b4c;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  psVar3 = (size_t *)(in_ECX + 0x26fc);
  local_14 = 5;
  do {
    local_8 = 0xffffffff;
    iVar2 = FUN_004756a0(uVar1);
    local_8 = 0;
    psVar3[-0x45] = *(size_t *)(iVar2 + 4);
    _Size = *(size_t *)(iVar2 + 0x118);
    *psVar3 = _Size;
    if (*(int *)(iVar2 + 0x118) != 0) {
      _memmove(psVar3 + 1,(void *)(iVar2 + 0x11c),_Size);
    }
    *(undefined1 *)(*psVar3 + 4 + (int)psVar3) = 0;
    local_11c = &PTR_FUN_00cd3f48;
    local_230 = &PTR_FUN_00cd4104;
    local_8 = 3;
    if (local_220 == 0) {
      if (local_22c == (int *)0x0) {
        if (local_228 != (int *)0x0) {
          (**(code **)(*local_228 + 8))(local_228);
          local_228 = (int *)0x0;
        }
      }
      else {
        (**(code **)(*local_22c + 8))(local_22c);
        local_22c = (int *)0x0;
      }
    }
    else {
      FUN_00a5cce0(&local_230);
      local_220 = 0;
      local_21c = 0;
    }
    psVar3 = psVar3 + 0x87;
    local_14 = local_14 + -1;
    local_224 = &PTR_FUN_00cd3f48;
  } while (local_14 != 0);
  ExceptionList = local_10;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
00468ca0 : PUSH EBP
00468ca1 : MOV EBP,ESP
00468ca3 : PUSH -0x1
00468ca5 : PUSH 0xb75b4c
00468caa : MOV EAX,FS:[0x0]
00468cb0 : PUSH EAX
00468cb1 : SUB ESP,0x224
00468cb7 : PUSH EBX
00468cb8 : PUSH ESI
00468cb9 : PUSH EDI
00468cba : MOV EAX,[0x00d66fa0]
00468cbf : XOR EAX,EBP
00468cc1 : PUSH EAX
00468cc2 : LEA EAX,[EBP + -0xc]
00468cc5 : MOV FS:[0x0],EAX
00468ccb : MOV ESI,ECX
00468ccd : ADD ESI,0x26fc
00468cd3 : XOR EBX,EBX
00468cd5 : MOV dword ptr [EBP + -0x10],0x5
00468cdc : OR EDI,0xffffffff
00468cdf : NOP
00468ce0 : LEA ECX,[EBP + 0xfffffdd4]
00468ce6 : CALL 0x004756a0
00468ceb : MOV dword ptr [EBP + -0x4],EBX
00468cee : MOV ECX,dword ptr [EAX + 0x4]
00468cf1 : MOV dword ptr [ESI + 0xfffffeec],ECX
00468cf7 : MOV EDX,dword ptr [EAX + 0x118]
00468cfd : MOV dword ptr [ESI],EDX
00468cff : CMP dword ptr [EAX + 0x118],EBX
00468d05 : JBE 0x00468d1c
00468d07 : MOV ECX,EDX
00468d09 : PUSH ECX
00468d0a : ADD EAX,0x11c
00468d0f : PUSH EAX
00468d10 : LEA EDX,[ESI + 0x4]
00468d13 : PUSH EDX
00468d14 : CALL 0x00636880
00468d19 : ADD ESP,0xc
00468d1c : MOV EAX,dword ptr [ESI]
00468d1e : MOV byte ptr [EAX + ESI*0x1 + 0x4],BL
00468d22 : MOV dword ptr [EBP + -0x4],0x1
00468d29 : MOV dword ptr [EBP + 0xfffffee8],0xcd3f48
00468d33 : MOV dword ptr [EBP + -0x4],EDI
00468d36 : MOV dword ptr [EBP + 0xfffffdd4],0xcd4104
00468d40 : MOV dword ptr [EBP + -0x4],0x3
00468d47 : CMP dword ptr [EBP + 0xfffffde4],EBX
00468d4d : JZ 0x00468d6f
00468d4f : LEA ECX,[EBP + 0xfffffdd4]
00468d55 : PUSH ECX
00468d56 : LEA EAX,[EBP + 0xfffffde0]
00468d5c : CALL 0x00a5cce0
00468d61 : MOV dword ptr [EBP + 0xfffffde4],EBX
00468d67 : MOV byte ptr [EBP + 0xfffffde8],BL
00468d6d : JMP 0x00468da1
00468d6f : MOV EAX,dword ptr [EBP + 0xfffffdd8]
00468d75 : CMP EAX,EBX
00468d77 : JZ 0x00468d89
00468d79 : MOV EDX,dword ptr [EAX]
00468d7b : PUSH EAX
00468d7c : MOV EAX,dword ptr [EDX + 0x8]
00468d7f : CALL EAX
00468d81 : MOV dword ptr [EBP + 0xfffffdd8],EBX
00468d87 : JMP 0x00468da1
00468d89 : MOV EAX,dword ptr [EBP + 0xfffffddc]
00468d8f : CMP EAX,EBX
00468d91 : JZ 0x00468da1
00468d93 : MOV ECX,dword ptr [EAX]
00468d95 : MOV EDX,dword ptr [ECX + 0x8]
00468d98 : PUSH EAX
00468d99 : CALL EDX
00468d9b : MOV dword ptr [EBP + 0xfffffddc],EBX
00468da1 : MOV dword ptr [EBP + -0x4],EDI
00468da4 : ADD ESI,0x21c
00468daa : SUB dword ptr [EBP + -0x10],0x1
00468dae : MOV dword ptr [EBP + 0xfffffde0],0xcd3f48
00468db8 : JNZ 0x00468ce0
00468dbe : MOV AL,0x1
00468dc0 : MOV ECX,dword ptr [EBP + -0xc]
00468dc3 : MOV dword ptr FS:[0x0],ECX
00468dca : POP ECX
00468dcb : POP EDI
00468dcc : POP ESI
00468dcd : POP EBX
00468dce : MOV ESP,EBP
00468dd0 : POP EBP
00468dd1 : RET
