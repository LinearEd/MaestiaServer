PROGRAM  : Maestia.exe
FUNCTION : FUN_0058bfd0
ENTRY    : 0058bfd0
BODY     : [[0058bfd0, 0058c040]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058bfd0(void)

{
  uint *puVar1;
  int iVar2;
  undefined4 uVar3;
  int in_ECX;
  
  if (*(int *)(in_ECX + 0x1b0) == 0) {
    iVar2 = FUN_00515840(0x88,0);
    if (iVar2 == 0) {
      uVar3 = 0;
    }
    else {
      uVar3 = FUN_005d73e0();
    }
    if (*(GRefCountNTSImpl **)(in_ECX + 0x1b0) != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(in_ECX + 0x1b0));
    }
    *(undefined4 *)(in_ECX + 0x1b0) = uVar3;
  }
  puVar1 = (uint *)(*(int *)(in_ECX + 0xa0) + 0xb00);
  *puVar1 = *puVar1 | 0x400;
  FUN_0051d060();
  FUN_005d7690();
  return;
}



============================================================
DISASSEMBLY
============================================================
0058bfd0 : PUSH ESI
0058bfd1 : MOV ESI,ECX
0058bfd3 : CMP dword ptr [ESI + 0x1b0],0x0
0058bfda : JNZ 0x0058c019
0058bfdc : MOV EAX,dword ptr [ESI + 0xa0]
0058bfe2 : MOV ECX,dword ptr [EAX + 0x14]
0058bfe5 : PUSH EDI
0058bfe6 : PUSH 0x0
0058bfe8 : PUSH 0x88
0058bfed : CALL 0x00515840
0058bff2 : TEST EAX,EAX
0058bff4 : JZ 0x0058c001
0058bff6 : MOV ECX,EAX
0058bff8 : CALL 0x005d73e0
0058bffd : MOV EDI,EAX
0058bfff : JMP 0x0058c003
0058c001 : XOR EDI,EDI
0058c003 : MOV ECX,dword ptr [ESI + 0x1b0]
0058c009 : TEST ECX,ECX
0058c00b : JZ 0x0058c012
0058c00d : CALL 0x004ff7c0
0058c012 : MOV dword ptr [ESI + 0x1b0],EDI
0058c018 : POP EDI
0058c019 : MOV EAX,dword ptr [ESI + 0xa0]
0058c01f : OR dword ptr [EAX + 0xb00],0x400
0058c029 : ADD EAX,0xb00
0058c02e : MOV ECX,ESI
0058c030 : CALL 0x0051d060
0058c035 : MOV ECX,dword ptr [ESI + 0x1b0]
0058c03b : POP ESI
0058c03c : JMP 0x005d7690
