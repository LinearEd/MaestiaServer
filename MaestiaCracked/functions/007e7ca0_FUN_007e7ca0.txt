PROGRAM  : Maestia.exe
FUNCTION : FUN_007e7ca0
ENTRY    : 007e7ca0
BODY     : [[007e7ca0, 007e7e26] [007e7e30, 007e7ea5] [007e7eb0, 007e800a] [007e8027, 007e8038] [007e803b, 007e8064]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_007e7ca0(undefined4 *param_1,undefined4 *param_2)

{
  longlong lVar1;
  char cVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  int *piVar6;
  int *piVar7;
  int in_ECX;
  int iVar8;
  uint uVar9;
  undefined1 local_5c [4];
  int *local_58;
  int *local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined1 local_28 [4];
  int *local_24;
  size_t local_20;
  int *local_1c;
  int *local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3c9ee;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar8 = 0;
  if (*(int *)(in_ECX + 0xf8) == 0) {
    lVar1 = (ulonglong)(uint)(*(int *)(in_ECX + 0x184) * *(int *)(in_ECX + 0x184)) * 4;
    uVar4 = FUN_006f0760((uint)lVar1 | -(uint)((int)((ulonglong)lVar1 >> 0x20) != 0),"",0,
                         (DAT_01725270 >> 3 & 1) == 0,uVar3);
    *(undefined4 *)(in_ECX + 0xf8) = uVar4;
  }
  FUN_0045c620(local_28);
  local_8 = 0;
  if ((*(int *)(in_ECX + 0xe4) != 0) && (*(int *)(*(int *)(in_ECX + 0xe4) + 0x98) != 0)) {
    FUN_00785ea0(param_1,param_2,local_28);
  }
  if (local_20 == 0) {
    local_8 = 0xffffffff;
    FUN_0045c2b0(local_28);
    ExceptionList = local_10;
    return 0;
  }
  local_18 = (int *)*local_24;
  uVar9 = 0;
  local_14 = 0;
  if (local_18 != local_24) {
    do {
      if (local_18[3] == 0) {
        iVar5 = 0;
      }
      else {
        iVar5 = local_18[3] + -0x38;
      }
      *(int *)(*(int *)(in_ECX + 0xf8) + uVar9 * 4) = iVar5;
      uVar9 = uVar9 + 1;
    } while ((uVar9 < (uint)(*(int *)(in_ECX + 0x184) * *(int *)(in_ECX + 0x184))) &&
            (FUN_0045d060(), local_18 != local_24));
    local_14 = uVar9;
    if (1 < uVar9) {
      _qsort(*(void **)(in_ECX + 0xf8),local_20,4,FUN_007dfa50);
    }
  }
  local_58 = (int *)0x0;
  local_54 = (int *)0x0;
  local_50 = 0;
  local_8._0_1_ = 1;
  if (*(int *)(in_ECX + 0xfc) == 0) {
    uVar4 = FUN_006f0760(0x200,"",0,(DAT_01725270 >> 3 & 1) == 0,uVar3);
    *(undefined4 *)(in_ECX + 0xfc) = uVar4;
    iVar5 = 0;
    do {
      local_1c = (int *)FUN_006f0760(0xc,"",0,(DAT_01725270 >> 3 & 1) == 0);
      if (local_1c == (int *)0x0) {
        piVar6 = (int *)0x0;
      }
      else {
        local_1c[1] = -1;
        *local_1c = -1;
        local_1c[2] = 0;
        piVar6 = local_1c;
      }
      local_8._0_1_ = 1;
      *(int **)(iVar5 + *(int *)(in_ECX + 0xfc)) = piVar6;
      iVar5 = iVar5 + 4;
      uVar9 = local_14;
    } while (iVar5 < 0x200);
  }
  local_8._0_1_ = 1;
  local_18 = (int *)0x0;
  piVar6 = local_58;
  if (uVar9 != 0) {
    do {
      if (*(int *)(*(int *)(in_ECX + 0xf8) + (int)local_18 * 4) != 0) {
        local_3c = *param_2;
        local_38 = param_2[1];
        local_34 = param_2[2];
        local_4c = *param_1;
        local_48 = param_1[1];
        local_44 = param_1[2];
        iVar5 = *(int *)(*(int *)(*(int *)(in_ECX + 0xf8) + (int)local_18 * 4) + 0x424);
        piVar7 = piVar6;
        if ((iVar5 != 0) && (*(int *)(iVar5 + 0x98) != 0)) {
          FUN_00786160(&local_4c,&local_3c,local_5c);
          piVar7 = local_58;
        }
        piVar6 = piVar7;
        local_1c = piVar7;
        if (piVar7 != local_54) {
          do {
            iVar5 = *piVar7;
            local_1c = piVar7;
            if ((iVar5 != 0) &&
               ((cVar2 = FUN_007d5bf0(iVar5), cVar2 != '\0' ||
                (cVar2 = FUN_007d5cf0(iVar5), cVar2 != '\0')))) {
              **(undefined4 **)(*(int *)(in_ECX + 0xfc) + iVar8 * 4) =
                   *(undefined4 *)(*(int *)(*(int *)(in_ECX + 0xf8) + (int)local_18 * 4) + 0x2dc);
              *(undefined4 *)(*(int *)(*(int *)(in_ECX + 0xfc) + iVar8 * 4) + 4) =
                   *(undefined4 *)(*(int *)(*(int *)(in_ECX + 0xf8) + (int)local_18 * 4) + 0x2e0);
              *(int *)(*(int *)(*(int *)(in_ECX + 0xfc) + iVar8 * 4) + 8) = iVar5;
              iVar8 = iVar8 + 1;
            }
            piVar7 = local_1c + 1;
          } while (piVar7 != local_54);
          piVar6 = local_58;
          uVar9 = local_14;
          local_1c = piVar7;
          if (local_58 != local_54) {
            local_54 = local_58;
          }
        }
      }
      local_18 = (int *)((int)local_18 + 1);
    } while (local_18 < uVar9);
    if (0 < iVar8) {
      local_8 = (uint)local_8._1_3_ << 8;
      if (local_58 == (int *)0x0) {
        local_58 = (int *)0x0;
        local_54 = (int *)0x0;
        local_50 = 0;
        local_8 = 0xffffffff;
        FUN_0045d0b0(*local_24,local_24);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  local_8 = (uint)local_8._1_3_ << 8;
  if (local_58 == (int *)0x0) {
    local_58 = (int *)0x0;
    local_54 = (int *)0x0;
    local_50 = 0;
    local_8 = 0xffffffff;
    FUN_0045d0b0(*local_24,local_24);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
007e7ca0 : PUSH EBP
007e7ca1 : MOV EBP,ESP
007e7ca3 : PUSH -0x1
007e7ca5 : PUSH 0xb3c9ee
007e7caa : MOV EAX,FS:[0x0]
007e7cb0 : PUSH EAX
007e7cb1 : SUB ESP,0x4c
007e7cb4 : PUSH EBX
007e7cb5 : PUSH ESI
007e7cb6 : PUSH EDI
007e7cb7 : MOV EAX,[0x00d66fa0]
007e7cbc : XOR EAX,EBP
007e7cbe : PUSH EAX
007e7cbf : LEA EAX,[EBP + -0xc]
007e7cc2 : MOV FS:[0x0],EAX
007e7cc8 : MOV ESI,ECX
007e7cca : XOR EBX,EBX
007e7ccc : CMP dword ptr [ESI + 0xf8],EBX
007e7cd2 : JNZ 0x007e7d14
007e7cd4 : MOV EAX,dword ptr [ESI + 0x184]
007e7cda : IMUL EAX,EAX
007e7cdd : XOR ECX,ECX
007e7cdf : MOV EDX,0x4
007e7ce4 : MUL EDX
007e7ce6 : SETO CL
007e7ce9 : MOV EDX,EBX
007e7ceb : NEG ECX
007e7ced : OR EAX,ECX
007e7cef : MOV ECX,dword ptr [0x01725270]
007e7cf5 : SHR ECX,0x3
007e7cf8 : AND ECX,0x1
007e7cfb : SETZ DL
007e7cfe : PUSH EDX
007e7cff : PUSH EBX
007e7d00 : PUSH 0xbf1a4b
007e7d05 : PUSH EAX
007e7d06 : CALL 0x006f0760
007e7d0b : ADD ESP,0x10
007e7d0e : MOV dword ptr [ESI + 0xf8],EAX
007e7d14 : LEA EAX,[EBP + -0x24]
007e7d17 : PUSH EAX
007e7d18 : CALL 0x0045c620
007e7d1d : MOV dword ptr [EBP + -0x4],EBX
007e7d20 : MOV EAX,dword ptr [ESI + 0xe4]
007e7d26 : CMP EAX,EBX
007e7d28 : JZ 0x007e7d45
007e7d2a : MOV ECX,dword ptr [EAX + 0x98]
007e7d30 : CMP ECX,EBX
007e7d32 : JZ 0x007e7d45
007e7d34 : MOV EAX,dword ptr [EBP + 0xc]
007e7d37 : LEA EDX,[EBP + -0x24]
007e7d3a : PUSH EDX
007e7d3b : MOV EDX,dword ptr [EBP + 0x8]
007e7d3e : PUSH EAX
007e7d3f : PUSH EDX
007e7d40 : CALL 0x00785ea0
007e7d45 : CMP dword ptr [EBP + -0x1c],EBX
007e7d48 : JNZ 0x007e7d70
007e7d4a : MOV dword ptr [EBP + -0x4],0xffffffff
007e7d51 : LEA EAX,[EBP + -0x24]
007e7d54 : PUSH EAX
007e7d55 : CALL 0x0045c2b0
007e7d5a : XOR EAX,EAX
007e7d5c : MOV ECX,dword ptr [EBP + -0xc]
007e7d5f : MOV dword ptr FS:[0x0],ECX
007e7d66 : POP ECX
007e7d67 : POP EDI
007e7d68 : POP ESI
007e7d69 : POP EBX
007e7d6a : MOV ESP,EBP
007e7d6c : POP EBP
007e7d6d : RET 0x8
007e7d70 : MOV ECX,dword ptr [EBP + -0x20]
007e7d73 : MOV EAX,dword ptr [ECX]
007e7d75 : XOR EDI,EDI
007e7d77 : MOV dword ptr [EBP + -0x10],EDI
007e7d7a : MOV dword ptr [EBP + -0x14],EAX
007e7d7d : CMP EAX,ECX
007e7d7f : JZ 0x007e7dda
007e7d81 : MOV EAX,dword ptr [EAX + 0xc]
007e7d84 : CMP EAX,EBX
007e7d86 : JZ 0x007e7d8d
007e7d88 : ADD EAX,-0x38
007e7d8b : JMP 0x007e7d8f
007e7d8d : XOR EAX,EAX
007e7d8f : MOV ECX,dword ptr [ESI + 0xf8]
007e7d95 : MOV dword ptr [ECX + EDI*0x4],EAX
007e7d98 : MOV EAX,dword ptr [ESI + 0x184]
007e7d9e : MOV EDX,EAX
007e7da0 : IMUL EDX,EAX
007e7da3 : INC EDI
007e7da4 : CMP EDI,EDX
007e7da6 : JNC 0x007e7db8
007e7da8 : LEA EDX,[EBP + -0x14]
007e7dab : CALL 0x0045d060
007e7db0 : MOV EAX,dword ptr [EBP + -0x14]
007e7db3 : CMP EAX,dword ptr [EBP + -0x20]
007e7db6 : JNZ 0x007e7d81
007e7db8 : MOV dword ptr [EBP + -0x10],EDI
007e7dbb : CMP EDI,0x1
007e7dbe : JBE 0x007e7dda
007e7dc0 : MOV EAX,dword ptr [EBP + -0x1c]
007e7dc3 : MOV ECX,dword ptr [ESI + 0xf8]
007e7dc9 : PUSH 0x7dfa50
007e7dce : PUSH 0x4
007e7dd0 : PUSH EAX
007e7dd1 : PUSH ECX
007e7dd2 : CALL 0x00635ad0
007e7dd7 : ADD ESP,0x10
007e7dda : MOV dword ptr [EBP + -0x54],EBX
007e7ddd : MOV dword ptr [EBP + -0x50],EBX
007e7de0 : MOV dword ptr [EBP + -0x4c],EBX
007e7de3 : MOV byte ptr [EBP + -0x4],0x1
007e7de7 : CMP dword ptr [ESI + 0xfc],0x0
007e7dee : JNZ 0x007e7e94
007e7df4 : MOV EDX,dword ptr [0x01725270]
007e7dfa : SHR EDX,0x3
007e7dfd : MOV EAX,0x0
007e7e02 : AND EDX,0x1
007e7e05 : SETZ AL
007e7e08 : PUSH EAX
007e7e09 : PUSH 0x0
007e7e0b : PUSH 0xbf1a4b
007e7e10 : PUSH 0x200
007e7e15 : CALL 0x006f0760
007e7e1a : ADD ESP,0x10
007e7e1d : MOV dword ptr [ESI + 0xfc],EAX
007e7e23 : XOR EDI,EDI
007e7e25 : JMP 0x007e7e30
007e7e30 : MOV ECX,dword ptr [0x01725270]
007e7e36 : SHR ECX,0x3
007e7e39 : MOV EDX,0x0
007e7e3e : AND ECX,0x1
007e7e41 : SETZ DL
007e7e44 : PUSH EDX
007e7e45 : PUSH 0x0
007e7e47 : PUSH 0xbf1a4a
007e7e4c : PUSH 0xc
007e7e4e : CALL 0x006f0760
007e7e53 : ADD ESP,0x10
007e7e56 : MOV dword ptr [EBP + -0x18],EAX
007e7e59 : MOV byte ptr [EBP + -0x4],0x2
007e7e5d : TEST EAX,EAX
007e7e5f : JZ 0x007e7e77
007e7e61 : MOV dword ptr [EAX + 0x4],0xffffffff
007e7e68 : MOV dword ptr [EAX],0xffffffff
007e7e6e : MOV dword ptr [EAX + 0x8],0x0
007e7e75 : JMP 0x007e7e79
007e7e77 : XOR EAX,EAX
007e7e79 : MOV byte ptr [EBP + -0x4],0x1
007e7e7d : MOV ECX,dword ptr [ESI + 0xfc]
007e7e83 : MOV dword ptr [EDI + ECX*0x1],EAX
007e7e86 : ADD EDI,0x4
007e7e89 : CMP EDI,0x200
007e7e8f : JL 0x007e7e30
007e7e91 : MOV EDI,dword ptr [EBP + -0x10]
007e7e94 : XOR EAX,EAX
007e7e96 : MOV dword ptr [EBP + -0x14],EAX
007e7e99 : TEST EDI,EDI
007e7e9b : JBE 0x007e7fcf
007e7ea1 : MOV EDX,dword ptr [EBP + -0x54]
007e7ea4 : JMP 0x007e7eb0
007e7eb0 : MOV ECX,dword ptr [ESI + 0xf8]
007e7eb6 : CMP dword ptr [ECX + EAX*0x4],0x0
007e7eba : LEA EAX,[ECX + EAX*0x4]
007e7ebd : JZ 0x007e7fbc
007e7ec3 : MOV ECX,dword ptr [EBP + 0xc]
007e7ec6 : MOVSS XMM0,dword ptr [ECX]
007e7eca : MOVSS XMM1,dword ptr [ECX + 0x4]
007e7ecf : MOVSS XMM2,dword ptr [ECX + 0x8]
007e7ed4 : MOV ECX,dword ptr [EBP + 0x8]
007e7ed7 : MOVSS dword ptr [EBP + -0x38],XMM0
007e7edc : MOVSS XMM0,dword ptr [ECX]
007e7ee0 : MOVSS dword ptr [EBP + -0x34],XMM1
007e7ee5 : MOVSS XMM1,dword ptr [ECX + 0x4]
007e7eea : MOVSS dword ptr [EBP + -0x30],XMM2
007e7eef : MOVSS XMM2,dword ptr [ECX + 0x8]
007e7ef4 : MOVSS dword ptr [EBP + -0x48],XMM0
007e7ef9 : MOVSS dword ptr [EBP + -0x44],XMM1
007e7efe : MOVSS dword ptr [EBP + -0x40],XMM2
007e7f03 : MOV EAX,dword ptr [EAX]
007e7f05 : MOV EAX,dword ptr [EAX + 0x424]
007e7f0b : TEST EAX,EAX
007e7f0d : JZ 0x007e7f2f
007e7f0f : MOV EAX,dword ptr [EAX + 0x98]
007e7f15 : TEST EAX,EAX
007e7f17 : JZ 0x007e7f2f
007e7f19 : LEA EDX,[EBP + -0x58]
007e7f1c : PUSH EDX
007e7f1d : LEA ECX,[EBP + -0x38]
007e7f20 : PUSH ECX
007e7f21 : LEA EDX,[EBP + -0x48]
007e7f24 : PUSH EDX
007e7f25 : MOV ECX,EAX
007e7f27 : CALL 0x00786160
007e7f2c : MOV EDX,dword ptr [EBP + -0x54]
007e7f2f : MOV EAX,EDX
007e7f31 : MOV dword ptr [EBP + -0x18],EAX
007e7f34 : CMP EDX,dword ptr [EBP + -0x50]
007e7f37 : JZ 0x007e7fbc
007e7f3d : LEA ECX,[ECX]
007e7f40 : MOV EDI,dword ptr [EAX]
007e7f42 : TEST EDI,EDI
007e7f44 : JZ 0x007e7f9f
007e7f46 : PUSH EDI
007e7f47 : CALL 0x007d5bf0
007e7f4c : TEST AL,AL
007e7f4e : JNZ 0x007e7f5a
007e7f50 : PUSH EDI
007e7f51 : CALL 0x007d5cf0
007e7f56 : TEST AL,AL
007e7f58 : JZ 0x007e7f9f
007e7f5a : MOV EAX,dword ptr [ESI + 0xf8]
007e7f60 : MOV ECX,dword ptr [EBP + -0x14]
007e7f63 : MOV EDX,dword ptr [EAX + ECX*0x4]
007e7f66 : MOV EAX,dword ptr [EDX + 0x2dc]
007e7f6c : MOV EDX,dword ptr [ESI + 0xfc]
007e7f72 : MOV EDX,dword ptr [EDX + EBX*0x4]
007e7f75 : MOV dword ptr [EDX],EAX
007e7f77 : MOV EAX,dword ptr [ESI + 0xf8]
007e7f7d : MOV ECX,dword ptr [EAX + ECX*0x4]
007e7f80 : MOV EDX,dword ptr [ESI + 0xfc]
007e7f86 : MOV EAX,dword ptr [ECX + 0x2e0]
007e7f8c : MOV ECX,dword ptr [EDX + EBX*0x4]
007e7f8f : MOV dword ptr [ECX + 0x4],EAX
007e7f92 : MOV EDX,dword ptr [ESI + 0xfc]
007e7f98 : MOV EAX,dword ptr [EDX + EBX*0x4]
007e7f9b : MOV dword ptr [EAX + 0x8],EDI
007e7f9e : INC EBX
007e7f9f : MOV EAX,dword ptr [EBP + -0x18]
007e7fa2 : MOV ECX,dword ptr [EBP + -0x50]
007e7fa5 : ADD EAX,0x4
007e7fa8 : MOV dword ptr [EBP + -0x18],EAX
007e7fab : CMP EAX,ECX
007e7fad : JNZ 0x007e7f40
007e7faf : MOV EDX,dword ptr [EBP + -0x54]
007e7fb2 : MOV EDI,dword ptr [EBP + -0x10]
007e7fb5 : CMP EDX,ECX
007e7fb7 : JZ 0x007e7fbc
007e7fb9 : MOV dword ptr [EBP + -0x50],EDX
007e7fbc : MOV EAX,dword ptr [EBP + -0x14]
007e7fbf : INC EAX
007e7fc0 : MOV dword ptr [EBP + -0x14],EAX
007e7fc3 : CMP EAX,EDI
007e7fc5 : JC 0x007e7eb0
007e7fcb : TEST EBX,EBX
007e7fcd : JG 0x007e8027
007e7fcf : MOV byte ptr [EBP + -0x4],0x0
007e7fd3 : MOV ECX,dword ptr [EBP + -0x54]
007e7fd6 : TEST ECX,ECX
007e7fd8 : JZ 0x007e7fdf
007e7fda : CALL 0x006f04e0
007e7fdf : XOR EAX,EAX
007e7fe1 : MOV dword ptr [EBP + -0x54],EAX
007e7fe4 : MOV dword ptr [EBP + -0x50],EAX
007e7fe7 : MOV dword ptr [EBP + -0x4c],EAX
007e7fea : MOV dword ptr [EBP + -0x4],0xffffffff
007e7ff1 : MOV EAX,dword ptr [EBP + -0x20]
007e7ff4 : MOV ECX,dword ptr [EAX]
007e7ff6 : PUSH EAX
007e7ff7 : PUSH ECX
007e7ff8 : LEA EDI,[EBP + 0xc]
007e7ffb : LEA ESI,[EBP + -0x24]
007e7ffe : CALL 0x0045d0b0
007e8003 : MOV ECX,dword ptr [EBP + -0x20]
007e8006 : CALL 0x006f04e0
007e8027 : MOV byte ptr [EBP + -0x4],0x0
007e802b : MOV ECX,dword ptr [EBP + -0x54]
007e802e : XOR EAX,EAX
007e8030 : CMP ECX,EAX
007e8032 : JZ 0x007e803b
007e8034 : CALL 0x006f04e0
007e803b : MOV dword ptr [EBP + -0x54],EAX
007e803e : MOV dword ptr [EBP + -0x50],EAX
007e8041 : MOV dword ptr [EBP + -0x4c],EAX
007e8044 : MOV dword ptr [EBP + -0x4],0xffffffff
007e804b : MOV EAX,dword ptr [EBP + -0x20]
007e804e : MOV ECX,dword ptr [EAX]
007e8050 : PUSH EAX
007e8051 : PUSH ECX
007e8052 : LEA EDI,[EBP + 0xc]
007e8055 : LEA ESI,[EBP + -0x24]
007e8058 : CALL 0x0045d0b0
007e805d : MOV ECX,dword ptr [EBP + -0x20]
007e8060 : CALL 0x006f04e0
