PROGRAM  : Maestia.exe
FUNCTION : FUN_00a930a0
ENTRY    : 00a930a0
BODY     : [[00a930a0, 00a93333]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a930a0(int param_1)

{
  uint uVar1;
  undefined4 uVar2;
  int iVar3;
  int in_ECX;
  undefined1 uVar4;
  int *piVar5;
  int local_70;
  int local_6c;
  undefined1 local_68 [4];
  undefined2 local_64;
  undefined4 local_54;
  uint local_50;
  undefined1 local_4c [28];
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b45d8c;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar1;
  if (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 4) == param_1) {
    FUN_00406460(L"IDS_PARTY_NOT_INVITE_MYSELF");
    local_8 = 0;
    FUN_0081d120(local_68);
    local_8 = CONCAT31(local_8._1_3_,2);
    if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_64 = 0;
    local_50 = 7;
    local_54 = 0;
    (**(code **)(**(int **)(*(int *)(in_ECX + 4) + 0x1a8) + 0x44))(local_30,3,uVar1);
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
  }
  else {
    local_6c = param_1;
    FUN_004437f0(&local_6c);
    if ((local_70 == *(int *)(in_ECX + 0x3c)) || (*(int *)(local_70 + 0x10) == 0)) {
      FUN_00406460(L"IDS_PARTY_CHECK_INVITE");
      local_8 = 7;
      FUN_0081d120(local_30);
      local_8._0_1_ = 9;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_18 = 7;
      local_1c = 0;
      local_2c = 0;
      if (*(char *)(in_ECX + 0x98) != '\0') {
        FUN_00406460(L"IDS_RAID_CHECK_INVITE");
        local_8._0_1_ = 10;
        uVar2 = FUN_0081d120(local_68);
        local_8._0_1_ = 0xb;
        FUN_00405eb0(uVar2,0,0xffffffff);
        local_8._0_1_ = 10;
        FUN_00406560();
        local_8._0_1_ = 9;
        FUN_00406560();
      }
      iVar3 = FUN_008ede80(local_4c,2);
      if (iVar3 != 0) {
        *(int *)(iVar3 + 0x6c) = param_1;
        *(undefined4 *)(iVar3 + 0x70) = 3;
        if (*(code **)(iVar3 + 0x60) != (code *)0x0) {
          (**(code **)(iVar3 + 0x60))(1,iVar3);
        }
        *(code **)(iVar3 + 0x60) = FUN_00a92d10;
      }
    }
    else {
      if (*(char *)(in_ECX + 0x98) == '\0') {
        FUN_00406460(L"IDS_GUI_ALREADY_JOIN_PARTY");
        uVar4 = 5;
        local_8 = 5;
        piVar5 = *(int **)(*(int *)(in_ECX + 4) + 0x1a8);
        uVar2 = FUN_0081d120(local_30);
        local_8._0_1_ = 6;
      }
      else {
        FUN_00406460(L"IDS_GUI_ALREADY_JOIN_RAID");
        uVar4 = 3;
        local_8 = 3;
        piVar5 = *(int **)(*(int *)(in_ECX + 4) + 0x1a8);
        uVar2 = FUN_0081d120(local_30);
        local_8._0_1_ = 4;
      }
      (**(code **)(*piVar5 + 0x44))(uVar2,3);
      local_8 = CONCAT31(local_8._1_3_,uVar4);
      FUN_00406560();
    }
    local_8 = 0xffffffff;
    FUN_00406560();
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a930a0 : PUSH EBP
00a930a1 : MOV EBP,ESP
00a930a3 : PUSH -0x1
00a930a5 : PUSH 0xb45d8c
00a930aa : MOV EAX,FS:[0x0]
00a930b0 : PUSH EAX
00a930b1 : SUB ESP,0x80
00a930b7 : MOV EAX,[0x00d66fa0]
00a930bc : XOR EAX,EBP
00a930be : MOV dword ptr [EBP + -0x10],EAX
00a930c1 : PUSH EBX
00a930c2 : PUSH ESI
00a930c3 : PUSH EDI
00a930c4 : PUSH EAX
00a930c5 : LEA EAX,[EBP + -0xc]
00a930c8 : MOV FS:[0x0],EAX
00a930ce : MOV EAX,[0x0172491c]
00a930d3 : MOV EAX,dword ptr [EAX + 0x17c]
00a930d9 : MOV ESI,ECX
00a930db : MOV ECX,dword ptr [EBP + 0x8]
00a930de : CMP dword ptr [EAX + 0x4],ECX
00a930e1 : JNZ 0x00a9316e
00a930e7 : PUSH 0xc78224
00a930ec : LEA ECX,[EBP + -0x64]
00a930ef : CALL 0x00406460
00a930f4 : MOV dword ptr [EBP + -0x4],0x0
00a930fb : LEA ECX,[EBP + -0x64]
00a930fe : PUSH ECX
00a930ff : MOV ECX,dword ptr [0x0172491c]
00a93105 : LEA EDI,[EBP + -0x2c]
00a93108 : CALL 0x0081d120
00a9310d : MOV byte ptr [EBP + -0x4],0x2
00a93111 : CMP dword ptr [EBP + -0x4c],0x8
00a93115 : JC 0x00a9311f
00a93117 : MOV ECX,dword ptr [EBP + -0x60]
00a9311a : CALL 0x006f04e0
00a9311f : MOV EAX,dword ptr [ESI + 0x4]
00a93122 : MOV ECX,dword ptr [EAX + 0x1a8]
00a93128 : XOR EDX,EDX
00a9312a : MOV word ptr [EBP + -0x60],DX
00a9312e : MOV EDX,dword ptr [ECX]
00a93130 : MOV EDX,dword ptr [EDX + 0x44]
00a93133 : PUSH 0x3
00a93135 : LEA EAX,[EBP + -0x2c]
00a93138 : MOV EBX,0x7
00a9313d : XOR EDI,EDI
00a9313f : PUSH EAX
00a93140 : MOV dword ptr [EBP + -0x4c],EBX
00a93143 : MOV dword ptr [EBP + -0x50],EDI
00a93146 : CALL EDX
00a93148 : MOV dword ptr [EBP + -0x4],0xffffffff
00a9314f : CMP dword ptr [EBP + -0x14],0x8
00a93153 : JC 0x00a9315d
00a93155 : MOV ECX,dword ptr [EBP + -0x28]
00a93158 : CALL 0x006f04e0
00a9315d : XOR EAX,EAX
00a9315f : MOV dword ptr [EBP + -0x14],EBX
00a93162 : MOV dword ptr [EBP + -0x18],EDI
00a93165 : MOV word ptr [EBP + -0x28],AX
00a93169 : JMP 0x00a93316
00a9316e : MOV dword ptr [EBP + -0x68],ECX
00a93171 : LEA ECX,[EBP + -0x68]
00a93174 : PUSH ECX
00a93175 : LEA ECX,[ESI + 0x38]
00a93178 : LEA EAX,[EBP + -0x6c]
00a9317b : CALL 0x004437f0
00a93180 : MOV EAX,dword ptr [ESI + 0x3c]
00a93183 : MOV ECX,dword ptr [EBP + -0x6c]
00a93186 : CMP ECX,EAX
00a93188 : JZ 0x00a9322f
00a9318e : CMP dword ptr [ECX + 0x10],0x0
00a93192 : JZ 0x00a9322f
00a93198 : CMP byte ptr [ESI + 0x98],0x0
00a9319f : LEA ECX,[EBP + -0x2c]
00a931a2 : JZ 0x00a931fa
00a931a4 : PUSH 0xc7825c
00a931a9 : CALL 0x00406460
00a931ae : MOV EBX,0x3
00a931b3 : MOV dword ptr [EBP + -0x4],EBX
00a931b6 : MOV EDX,dword ptr [ESI + 0x4]
00a931b9 : MOV ECX,dword ptr [0x0172491c]
00a931bf : MOV ESI,dword ptr [EDX + 0x1a8]
00a931c5 : LEA EAX,[EBP + -0x2c]
00a931c8 : PUSH EAX
00a931c9 : LEA EDI,[EBP + -0x64]
00a931cc : CALL 0x0081d120
00a931d1 : MOV byte ptr [EBP + -0x4],0x4
00a931d5 : PUSH EBX
00a931d6 : MOV EDX,dword ptr [ESI]
00a931d8 : PUSH EAX
00a931d9 : MOV EAX,dword ptr [EDX + 0x44]
00a931dc : MOV ECX,ESI
00a931de : CALL EAX
00a931e0 : MOV byte ptr [EBP + -0x4],BL
00a931e3 : LEA ECX,[EBP + -0x64]
00a931e6 : CALL 0x00406560
00a931eb : MOV dword ptr [EBP + -0x4],0xffffffff
00a931f2 : LEA ECX,[EBP + -0x2c]
00a931f5 : JMP 0x00a93311
00a931fa : PUSH 0xc78290
00a931ff : CALL 0x00406460
00a93204 : MOV EBX,0x5
00a93209 : MOV dword ptr [EBP + -0x4],EBX
00a9320c : MOV ECX,dword ptr [ESI + 0x4]
00a9320f : MOV ESI,dword ptr [ECX + 0x1a8]
00a93215 : MOV ECX,dword ptr [0x0172491c]
00a9321b : LEA EDX,[EBP + -0x2c]
00a9321e : PUSH EDX
00a9321f : LEA EDI,[EBP + -0x64]
00a93222 : CALL 0x0081d120
00a93227 : MOV byte ptr [EBP + -0x4],0x6
00a9322b : PUSH 0x3
00a9322d : JMP 0x00a931d6
00a9322f : PUSH 0xc782c8
00a93234 : LEA ECX,[EBP + -0x2c]
00a93237 : CALL 0x00406460
00a9323c : MOV EBX,0x7
00a93241 : MOV dword ptr [EBP + -0x4],EBX
00a93244 : LEA ECX,[EBP + -0x2c]
00a93247 : PUSH ECX
00a93248 : MOV ECX,dword ptr [0x0172491c]
00a9324e : LEA EDI,[EBP + -0x48]
00a93251 : CALL 0x0081d120
00a93256 : MOV byte ptr [EBP + -0x4],0x9
00a9325a : CMP dword ptr [EBP + -0x14],0x8
00a9325e : JC 0x00a93268
00a93260 : MOV ECX,dword ptr [EBP + -0x28]
00a93263 : CALL 0x006f04e0
00a93268 : XOR EDX,EDX
00a9326a : MOV dword ptr [EBP + -0x14],EBX
00a9326d : MOV dword ptr [EBP + -0x18],0x0
00a93274 : MOV word ptr [EBP + -0x28],DX
00a93278 : CMP byte ptr [ESI + 0x98],DL
00a9327e : JZ 0x00a932ce
00a93280 : PUSH 0xc782f8
00a93285 : LEA ECX,[EBP + -0x64]
00a93288 : CALL 0x00406460
00a9328d : MOV BL,0xa
00a9328f : MOV byte ptr [EBP + -0x4],BL
00a93292 : MOV ECX,dword ptr [0x0172491c]
00a93298 : LEA EAX,[EBP + -0x64]
00a9329b : PUSH EAX
00a9329c : LEA EDI,[EBP + 0xffffff78]
00a932a2 : CALL 0x0081d120
00a932a7 : MOV byte ptr [EBP + -0x4],0xb
00a932ab : PUSH -0x1
00a932ad : PUSH 0x0
00a932af : PUSH EAX
00a932b0 : LEA ECX,[EBP + -0x48]
00a932b3 : CALL 0x00405eb0
00a932b8 : MOV byte ptr [EBP + -0x4],BL
00a932bb : MOV ECX,EDI
00a932bd : CALL 0x00406560
00a932c2 : MOV byte ptr [EBP + -0x4],0x9
00a932c6 : LEA ECX,[EBP + -0x64]
00a932c9 : CALL 0x00406560
00a932ce : MOV ECX,dword ptr [0x00da9894]
00a932d4 : MOV ECX,dword ptr [ECX]
00a932d6 : PUSH 0x2
00a932d8 : LEA EDX,[EBP + -0x48]
00a932db : PUSH EDX
00a932dc : CALL 0x008ede80
00a932e1 : MOV ESI,EAX
00a932e3 : TEST ESI,ESI
00a932e5 : JZ 0x00a93307
00a932e7 : MOV EAX,dword ptr [EBP + 0x8]
00a932ea : MOV dword ptr [ESI + 0x6c],EAX
00a932ed : MOV EAX,dword ptr [ESI + 0x60]
00a932f0 : MOV dword ptr [ESI + 0x70],0x3
00a932f7 : TEST EAX,EAX
00a932f9 : JZ 0x00a93300
00a932fb : PUSH ESI
00a932fc : PUSH 0x1
00a932fe : CALL EAX
00a93300 : MOV dword ptr [ESI + 0x60],0xa92d10
00a93307 : MOV dword ptr [EBP + -0x4],0xffffffff
00a9330e : LEA ECX,[EBP + -0x48]
00a93311 : CALL 0x00406560
00a93316 : MOV ECX,dword ptr [EBP + -0xc]
00a93319 : MOV dword ptr FS:[0x0],ECX
00a93320 : POP ECX
00a93321 : POP EDI
00a93322 : POP ESI
00a93323 : POP EBX
00a93324 : MOV ECX,dword ptr [EBP + -0x10]
00a93327 : XOR ECX,EBP
00a93329 : CALL 0x00633e6b
00a9332e : MOV ESP,EBP
00a93330 : POP EBP
00a93331 : RET 0x4
