PROGRAM  : Maestia.exe
FUNCTION : FUN_00904fc0
ENTRY    : 00904fc0
BODY     : [[00904fc0, 00905054]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00904fc0(void)

{
  int *piVar1;
  int *piVar2;
  int in_ECX;
  
  if (*(int **)(in_ECX + 0x38) != (int *)0x0) {
    (**(code **)(**(int **)(in_ECX + 0x38) + 8))(1);
    *(undefined4 *)(in_ECX + 0x38) = 0;
  }
  piVar1 = *(int **)(in_ECX + 0x40);
  piVar2 = (int *)*piVar1;
  while (piVar2 != piVar1) {
    if ((int *)piVar2[4] != (int *)0x0) {
      (**(code **)(*(int *)piVar2[4] + 8))(1);
      piVar2[4] = 0;
    }
    FUN_00416210();
  }
  FUN_00401c00(*(undefined4 *)(*(int *)(in_ECX + 0x40) + 4));
  *(int *)(*(int *)(in_ECX + 0x40) + 4) = *(int *)(in_ECX + 0x40);
  *(undefined4 *)(in_ECX + 0x44) = 0;
  *(undefined4 *)*(undefined4 *)(in_ECX + 0x40) = *(undefined4 *)(in_ECX + 0x40);
  *(int *)(*(int *)(in_ECX + 0x40) + 8) = *(int *)(in_ECX + 0x40);
  FUN_007cb7a0(in_ECX + 0xc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00904fc0 : PUSH EBP
00904fc1 : MOV EBP,ESP
00904fc3 : PUSH ECX
00904fc4 : PUSH EBX
00904fc5 : PUSH ESI
00904fc6 : PUSH EDI
00904fc7 : MOV EDI,ECX
00904fc9 : MOV ECX,dword ptr [EDI + 0x38]
00904fcc : TEST ECX,ECX
00904fce : JZ 0x00904fe0
00904fd0 : MOV EAX,dword ptr [ECX]
00904fd2 : MOV EDX,dword ptr [EAX + 0x8]
00904fd5 : PUSH 0x1
00904fd7 : CALL EDX
00904fd9 : MOV dword ptr [EDI + 0x38],0x0
00904fe0 : MOV EBX,dword ptr [EDI + 0x40]
00904fe3 : MOV ESI,dword ptr [EBX]
00904fe5 : MOV dword ptr [EBP + -0x4],ESI
00904fe8 : CMP ESI,EBX
00904fea : JZ 0x00905016
00904fec : LEA ESP,[ESP]
00904ff0 : MOV ECX,dword ptr [ESI + 0x10]
00904ff3 : TEST ECX,ECX
00904ff5 : JZ 0x00905007
00904ff7 : MOV EAX,dword ptr [ECX]
00904ff9 : MOV EDX,dword ptr [EAX + 0x8]
00904ffc : PUSH 0x1
00904ffe : CALL EDX
00905000 : MOV dword ptr [ESI + 0x10],0x0
00905007 : LEA EDX,[EBP + -0x4]
0090500a : CALL 0x00416210
0090500f : MOV ESI,dword ptr [EBP + -0x4]
00905012 : CMP ESI,EBX
00905014 : JNZ 0x00904ff0
00905016 : MOV EAX,dword ptr [EDI + 0x40]
00905019 : MOV ECX,dword ptr [EAX + 0x4]
0090501c : LEA ESI,[EDI + 0x3c]
0090501f : PUSH ECX
00905020 : MOV ECX,ESI
00905022 : CALL 0x00401c00
00905027 : MOV EAX,dword ptr [ESI + 0x4]
0090502a : MOV dword ptr [EAX + 0x4],EAX
0090502d : MOV EAX,dword ptr [ESI + 0x4]
00905030 : MOV dword ptr [ESI + 0x8],0x0
00905037 : MOV dword ptr [EAX],EAX
00905039 : MOV ESI,dword ptr [ESI + 0x4]
0090503c : ADD EDI,0xc
0090503f : MOV dword ptr [ESI + 0x8],ESI
00905042 : MOV ESI,dword ptr [0x017251d0]
00905048 : PUSH EDI
00905049 : CALL 0x007cb7a0
0090504e : POP EDI
0090504f : POP ESI
00905050 : POP EBX
00905051 : MOV ESP,EBP
00905053 : POP EBP
00905054 : RET
