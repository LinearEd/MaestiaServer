PROGRAM  : Maestia.exe
FUNCTION : FUN_005b2650
ENTRY    : 005b2650
BODY     : [[005b2650, 005b274e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005b2650(int param_1)

{
  int iVar1;
  byte *pbVar2;
  char cVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  int *piVar7;
  int local_8;
  int local_4;
  
  cVar3 = FUN_00526030(8);
  if (cVar3 == '\0') {
    FUN_00526050("String",0,0);
    return;
  }
  iVar1 = *(int *)(*(int *)(*(int *)(param_1 + 0x18) + 0x78) + 8);
  *(int *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1;
  uVar6 = *(undefined4 *)(param_1 + 0x18);
  FUN_00526260(0);
  FUN_00527730(uVar6);
  iVar4 = FUN_0063b380();
  local_8 = iVar1;
  if ((-1 < iVar4) && (iVar5 = FUN_00524bc0(), iVar4 < iVar5)) {
    uVar6 = FUN_00524bf0(iVar4);
    piVar7 = (int *)FUN_00525740(&local_4,uVar6);
    local_8 = *piVar7;
    *(int *)(local_8 + 8) = *(int *)(local_8 + 8) + 1;
    *(int *)(iVar1 + 8) = *(int *)(iVar1 + 8) + -1;
    if (*(int *)(iVar1 + 8) == 0) {
      FUN_00525340();
    }
    piVar7 = (int *)(local_4 + 8);
    *piVar7 = *piVar7 + -1;
    if (*piVar7 == 0) {
      FUN_00525340();
    }
  }
  pbVar2 = *(byte **)(param_1 + 4);
  if (4 < *pbVar2) {
    FUN_00526400();
  }
  *pbVar2 = 5;
  *(int *)(pbVar2 + 4) = local_8;
  *(int *)(local_8 + 8) = *(int *)(local_8 + 8) + 1;
  *(int *)(local_8 + 8) = *(int *)(local_8 + 8) + -1;
  if (*(int *)(local_8 + 8) == 0) {
    FUN_00525340();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005b2650 : SUB ESP,0x8
005b2653 : PUSH EDI
005b2654 : MOV EDI,dword ptr [ESP + 0x10]
005b2658 : PUSH 0x8
005b265a : MOV ECX,EDI
005b265c : CALL 0x00526030
005b2661 : TEST AL,AL
005b2663 : JNZ 0x005b267a
005b2665 : PUSH 0x0
005b2667 : PUSH 0x0
005b2669 : PUSH 0xb8f800
005b266e : MOV ECX,EDI
005b2670 : CALL 0x00526050
005b2675 : POP EDI
005b2676 : ADD ESP,0x8
005b2679 : RET
005b267a : MOV EAX,dword ptr [EDI + 0x8]
005b267d : TEST EAX,EAX
005b267f : JZ 0x005b2686
005b2681 : ADD EAX,-0x10
005b2684 : JMP 0x005b2688
005b2686 : XOR EAX,EAX
005b2688 : PUSH EBX
005b2689 : LEA EBX,[EAX + 0x30]
005b268c : MOV EAX,dword ptr [EDI + 0x18]
005b268f : MOV ECX,dword ptr [EAX + 0x78]
005b2692 : MOV EAX,dword ptr [ECX + 0x8]
005b2695 : MOV dword ptr [ESP + 0x8],EAX
005b2699 : INC dword ptr [EAX + 0x8]
005b269c : MOV EDX,dword ptr [EDI + 0x18]
005b269f : PUSH ESI
005b26a0 : PUSH EDX
005b26a1 : PUSH 0x0
005b26a3 : MOV ECX,EDI
005b26a5 : CALL 0x00526260
005b26aa : MOV ECX,EAX
005b26ac : CALL 0x00527730
005b26b1 : CALL 0x0063b380
005b26b6 : MOV ESI,EAX
005b26b8 : TEST ESI,ESI
005b26ba : JL 0x005b2712
005b26bc : MOV ECX,EBX
005b26be : CALL 0x00524bc0
005b26c3 : CMP ESI,EAX
005b26c5 : JGE 0x005b2712
005b26c7 : PUSH ESI
005b26c8 : MOV ECX,EBX
005b26ca : CALL 0x00524bf0
005b26cf : PUSH EAX
005b26d0 : LEA EAX,[ESP + 0x14]
005b26d4 : PUSH EAX
005b26d5 : LEA ECX,[ESP + 0x14]
005b26d9 : CALL 0x00525740
005b26de : MOV ESI,dword ptr [EAX]
005b26e0 : INC dword ptr [ESI + 0x8]
005b26e3 : MOV EAX,dword ptr [ESP + 0xc]
005b26e7 : DEC dword ptr [EAX + 0x8]
005b26ea : MOV ECX,EAX
005b26ec : ADD EAX,0x8
005b26ef : CMP dword ptr [EAX],0x0
005b26f2 : JNZ 0x005b26f9
005b26f4 : CALL 0x00525340
005b26f9 : MOV EAX,dword ptr [ESP + 0x10]
005b26fd : MOV ECX,EAX
005b26ff : ADD EAX,0x8
005b2702 : MOV dword ptr [ESP + 0xc],ESI
005b2706 : DEC dword ptr [EAX]
005b2708 : CMP dword ptr [EAX],0x0
005b270b : JNZ 0x005b2712
005b270d : CALL 0x00525340
005b2712 : MOV ESI,dword ptr [EDI + 0x4]
005b2715 : CMP byte ptr [ESI],0x5
005b2718 : JC 0x005b2721
005b271a : MOV ECX,ESI
005b271c : CALL 0x00526400
005b2721 : MOV byte ptr [ESI],0x5
005b2724 : MOV ECX,dword ptr [ESP + 0xc]
005b2728 : MOV dword ptr [ESI + 0x4],ECX
005b272b : MOV EAX,dword ptr [ESP + 0xc]
005b272f : INC dword ptr [EAX + 0x8]
005b2732 : MOV EAX,dword ptr [ESP + 0xc]
005b2736 : DEC dword ptr [EAX + 0x8]
005b2739 : MOV ECX,EAX
005b273b : ADD EAX,0x8
005b273e : CMP dword ptr [EAX],0x0
005b2741 : POP ESI
005b2742 : POP EBX
005b2743 : JNZ 0x005b274a
005b2745 : CALL 0x00525340
005b274a : POP EDI
005b274b : ADD ESP,0x8
005b274e : RET
