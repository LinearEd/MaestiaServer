PROGRAM  : Maestia.exe
FUNCTION : FUN_005ca730
ENTRY    : 005ca730
BODY     : [[005ca730, 005ca86e]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005ca730(undefined4 *param_1,uint param_2)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  int local_18;
  undefined1 local_14;
  
  iVar2 = param_2;
  local_18 = param_2;
  local_14 = 8;
  puVar3 = (undefined4 *)FUN_00515840(0x34,0);
  if (puVar3 == (undefined4 *)0x0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    FUN_00568960(&local_18,FUN_005ca460);
    *puVar3 = &PTR_LAB_00b92380;
    puVar3[4] = &PTR_LAB_00b90510;
    FUN_00530a70(puVar3 + 4,&local_18,&PTR_s_interpolate_00b92288,7);
  }
  puVar1 = param_1;
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = puVar3;
  param_1[1] = 0;
  iVar4 = FUN_00515840(0x50,0);
  if (iVar4 == 0) {
    uVar6 = 0;
  }
  else {
    puVar3 = puVar1;
    uVar5 = FUN_00530910(1);
    uVar6 = FUN_005ca610(&local_18,uVar5,puVar3);
    if (uVar6 != 0) {
      *(uint *)(uVar6 + 8) = *(int *)(uVar6 + 8) + 1U & 0x8fffffff;
    }
  }
  param_1 = (undefined4 *)0xe;
  param_2 = uVar6;
  FUN_0050ff10(&param_1,&param_2);
  if (param_2 != 0) {
    FUN_00503db0();
  }
  puVar3 = &param_2;
  param_2 = param_2 & 0xffffff00;
  iVar4 = *(int *)(*(int *)(iVar2 + 0x28c) + 0x10);
  uVar5 = FUN_00526210(puVar1);
  (**(code **)(iVar4 + 0x28))(&local_18,iVar2 + 0x40,uVar5,puVar3);
  FUN_00526bc0();
  if (uVar6 != 0) {
    FUN_00503db0();
  }
  return puVar1;
}



============================================================
DISASSEMBLY
============================================================
005ca730 : SUB ESP,0x18
005ca733 : PUSH EBP
005ca734 : PUSH ESI
005ca735 : MOV ESI,dword ptr [ESP + 0x28]
005ca739 : MOV ECX,dword ptr [ESI + 0x288]
005ca73f : PUSH EDI
005ca740 : PUSH 0x0
005ca742 : PUSH 0x34
005ca744 : MOV dword ptr [ESP + 0x14],ESI
005ca748 : MOV byte ptr [ESP + 0x18],0x8
005ca74d : CALL 0x00515840
005ca752 : MOV EDI,EAX
005ca754 : TEST EDI,EDI
005ca756 : JZ 0x005ca791
005ca758 : PUSH 0x5ca460
005ca75d : LEA EAX,[ESP + 0x10]
005ca761 : PUSH EAX
005ca762 : MOV ECX,EDI
005ca764 : CALL 0x00568960
005ca769 : PUSH 0x7
005ca76b : PUSH 0xb92288
005ca770 : LEA ECX,[ESP + 0x14]
005ca774 : LEA EAX,[EDI + 0x10]
005ca777 : PUSH ECX
005ca778 : PUSH EAX
005ca779 : MOV dword ptr [EDI],0xb92380
005ca77f : MOV dword ptr [EAX],0xb90510
005ca785 : CALL 0x00530a70
005ca78a : ADD ESP,0x10
005ca78d : MOV EAX,EDI
005ca78f : JMP 0x005ca793
005ca791 : XOR EAX,EAX
005ca793 : MOV EDI,dword ptr [ESP + 0x28]
005ca797 : PUSH 0x0
005ca799 : MOV byte ptr [EDI + 0x8],0x0
005ca79d : MOV dword ptr [EDI],EAX
005ca79f : MOV dword ptr [EDI + 0x4],0x0
005ca7a6 : MOV ECX,dword ptr [ESI + 0x288]
005ca7ac : PUSH 0x50
005ca7ae : CALL 0x00515840
005ca7b3 : MOV EBP,EAX
005ca7b5 : TEST EBP,EBP
005ca7b7 : JZ 0x005ca868
005ca7bd : PUSH EDI
005ca7be : PUSH 0x1
005ca7c0 : MOV ECX,ESI
005ca7c2 : CALL 0x00530910
005ca7c7 : PUSH EAX
005ca7c8 : LEA EDX,[ESP + 0x14]
005ca7cc : PUSH EDX
005ca7cd : MOV ECX,EBP
005ca7cf : CALL 0x005ca610
005ca7d4 : MOV EBP,EAX
005ca7d6 : TEST EBP,EBP
005ca7d8 : JZ 0x005ca7e6
005ca7da : MOV EAX,dword ptr [EBP + 0x8]
005ca7dd : INC EAX
005ca7de : AND EAX,0x8fffffff
005ca7e3 : MOV dword ptr [EBP + 0x8],EAX
005ca7e6 : LEA ECX,[ESP + 0x2c]
005ca7ea : PUSH ECX
005ca7eb : LEA EDX,[ESP + 0x2c]
005ca7ef : PUSH EDX
005ca7f0 : LEA ECX,[ESI + 0x278]
005ca7f6 : MOV dword ptr [ESP + 0x34],EBP
005ca7fa : MOV dword ptr [ESP + 0x30],0xe
005ca802 : CALL 0x0050ff10
005ca807 : MOV ECX,dword ptr [ESP + 0x2c]
005ca80b : TEST ECX,ECX
005ca80d : JZ 0x005ca814
005ca80f : CALL 0x00503db0
005ca814 : MOV EAX,dword ptr [ESI + 0x28c]
005ca81a : PUSH EBX
005ca81b : LEA ECX,[ESP + 0x30]
005ca81f : PUSH ECX
005ca820 : MOV byte ptr [ESP + 0x34],0x0
005ca825 : MOV EBX,dword ptr [EAX + 0x10]
005ca828 : PUSH EDI
005ca829 : LEA ECX,[ESP + 0x20]
005ca82d : CALL 0x00526210
005ca832 : MOV ECX,dword ptr [ESI + 0x28c]
005ca838 : PUSH EAX
005ca839 : LEA EDX,[ESI + 0x40]
005ca83c : PUSH EDX
005ca83d : MOV EDX,dword ptr [EBX + 0x28]
005ca840 : LEA EAX,[ESP + 0x1c]
005ca844 : PUSH EAX
005ca845 : ADD ECX,0x10
005ca848 : CALL EDX
005ca84a : LEA ECX,[ESP + 0x18]
005ca84e : CALL 0x00526bc0
005ca853 : POP EBX
005ca854 : TEST EBP,EBP
005ca856 : JZ 0x005ca85f
005ca858 : MOV ECX,EBP
005ca85a : CALL 0x00503db0
005ca85f : MOV EAX,EDI
005ca861 : POP EDI
005ca862 : POP ESI
005ca863 : POP EBP
005ca864 : ADD ESP,0x18
005ca867 : RET
005ca868 : XOR EBP,EBP
005ca86a : JMP 0x005ca7e6
