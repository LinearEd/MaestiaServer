PROGRAM  : Maestia.exe
FUNCTION : Getifld
ENTRY    : 0062b0a9
BODY     : [[0062b0a9, 0062b3f8]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */
/* Library Function - Multiple Matches With Same Base Name
    private: int __cdecl std::num_get<unsigned short,class std::istreambuf_iterator<unsigned
   short,struct std::char_traits<unsigned short> > >::_Getifld(char *,class
   std::istreambuf_iterator<unsigned short,struct std::char_traits<unsigned short> > &,class
   std::istreambuf_iterator<unsigned short,struct std::char_traits<unsigned short> > &,int,class
   std::locale const &)const 
    private: int __cdecl std::num_get<wchar_t,class std::istreambuf_iterator<wchar_t,struct
   std::char_traits<wchar_t> > >::_Getifld(char *,class std::istreambuf_iterator<wchar_t,struct
   std::char_traits<wchar_t> > &,class std::istreambuf_iterator<wchar_t,struct
   std::char_traits<wchar_t> > &,int,class std::locale const &)const 
   
   Library: Visual Studio 2008 Release */

void Getifld(int param_1,char *param_2,undefined4 param_3,undefined4 param_4,uint param_5,
            undefined4 param_6)

{
  bool bVar1;
  char cVar2;
  byte bVar3;
  short sVar4;
  short sVar5;
  short sVar6;
  short sVar7;
  undefined2 uVar8;
  int *piVar9;
  void *pvVar10;
  char *pcVar11;
  int iVar12;
  char ****ppppcVar13;
  size_t local_68;
  char local_5c;
  char *local_58;
  undefined1 local_4c [4];
  char ***local_48 [4];
  int local_38;
  uint local_34;
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 100;
  local_8 = 0x62b0b5;
  piVar9 = (int *)use_facet<>(param_6);
  grouping(local_4c);
  sVar4 = 0;
  local_8 = 0;
  if (local_38 != 0) {
    sVar4 = (**(code **)(*piVar9 + 8))();
  }
  param_1 = param_1 + 8;
  sVar5 = _Maklocchr<>(0x30,0,param_1);
  local_58 = param_2;
  cVar2 = equal(param_4);
  if (cVar2 == '\0') {
    sVar6 = _Maklocchr<>(0x2b,0,param_1);
    sVar7 = FID_conflict_operator_();
    if (sVar7 == sVar6) {
      *param_2 = '+';
    }
    else {
      sVar6 = _Maklocchr<>(0x2d,0,param_1);
      sVar7 = FID_conflict_operator_();
      if (sVar7 != sVar6) goto LAB_0062b171;
      *param_2 = '-';
    }
    local_58 = param_2 + 1;
    Inc();
  }
LAB_0062b171:
  param_5 = param_5 & 0xe00;
  if (param_5 == 0x400) {
    bVar3 = 8;
  }
  else if (param_5 == 0x800) {
    bVar3 = 0x10;
  }
  else {
    bVar3 = -(param_5 != 0) & 10;
  }
  local_5c = '\0';
  bVar1 = false;
  cVar2 = operator!=<>(param_3,param_4);
  if (cVar2 == '\0') {
LAB_0062b252:
    if (bVar3 != 0) {
LAB_0062b258:
      if (bVar3 != 10) goto LAB_0062b25e;
    }
    local_68 = 10;
  }
  else {
    sVar6 = FID_conflict_operator_();
    if (sVar6 != sVar5) goto LAB_0062b252;
    local_5c = '\x01';
    Inc();
    cVar2 = operator!=<>(param_3,param_4);
    if (cVar2 == '\0') {
LAB_0062b245:
      if (bVar3 == 0) {
        bVar3 = 8;
        goto LAB_0062b252;
      }
      goto LAB_0062b258;
    }
    sVar5 = _Maklocchr<>(0x78,0,param_1);
    sVar6 = FID_conflict_operator_();
    if (sVar6 != sVar5) {
      sVar5 = _Maklocchr<>(0x58,0,param_1);
      sVar6 = FID_conflict_operator_();
      if (sVar6 != sVar5) goto LAB_0062b245;
    }
    if ((bVar3 != 0) && (bVar3 != 0x10)) goto LAB_0062b245;
    bVar3 = 0x10;
    local_5c = '\0';
    Inc();
LAB_0062b25e:
    local_68 = ((bVar3 != 8) - 1 & 0xfffffff2) + 0x16;
  }
  FUN_004d1280(1,local_5c);
  local_8 = CONCAT31(local_8._1_3_,1);
  iVar12 = 0;
  cVar2 = operator!=<>(param_3,param_4);
  if (cVar2 != '\0') {
    do {
      uVar8 = FID_conflict_operator_(param_1);
      cVar2 = _Maklocbyte<>(uVar8);
      *local_58 = cVar2;
      pvVar10 = _memchr("0123456789abcdefABCDEF",(int)cVar2,local_68);
      if (pvVar10 == (void *)0x0) {
        pcVar11 = (char *)FUN_004d3b30(iVar12);
        if ((*pcVar11 == '\0') || (sVar4 == 0)) break;
        sVar5 = FID_conflict_operator_();
        if (sVar5 != sVar4) break;
        FUN_004d12b0(1,0);
        iVar12 = iVar12 + 1;
      }
      else {
        if (((bVar1) || (*local_58 != '0')) && (local_58 < param_2 + 0x1f)) {
          local_58 = local_58 + 1;
          bVar1 = true;
        }
        local_5c = '\x01';
        pcVar11 = (char *)FUN_004d3b30(iVar12);
        if (*pcVar11 != '\x7f') {
          pcVar11 = (char *)FUN_004d3b30(iVar12);
          *pcVar11 = *pcVar11 + '\x01';
        }
      }
      Inc();
      cVar2 = operator!=<>(param_3,param_4);
    } while (cVar2 != '\0');
    if (iVar12 != 0) {
      pcVar11 = (char *)FUN_004d3b30(iVar12);
      if (*pcVar11 < '\x01') {
        local_5c = '\0';
      }
      else {
        iVar12 = iVar12 + 1;
      }
    }
  }
  if (local_34 < 0x10) {
    local_48[0] = (char ***)local_48;
  }
  ppppcVar13 = (char ****)local_48[0];
  if (local_5c == '\0') {
LAB_0062b3cc:
    local_58 = param_2;
  }
  else {
    while ((iVar12 != 0 && (*(char *)ppppcVar13 != '\x7f'))) {
      iVar12 = iVar12 + -1;
      if (iVar12 != 0) {
        pcVar11 = (char *)FUN_004d3b30(iVar12);
        if (*(char *)ppppcVar13 != *pcVar11) goto LAB_0062b3cc;
      }
      if (iVar12 == 0) {
        pcVar11 = (char *)FUN_004d3b30(0);
        if (*(char *)ppppcVar13 < *pcVar11) goto LAB_0062b3cc;
      }
      if ('\0' < *(char *)((int)ppppcVar13 + 1)) {
        ppppcVar13 = (char ****)((int)ppppcVar13 + 1);
      }
    }
    if (!bVar1) {
      *local_58 = '0';
      local_58 = local_58 + 1;
    }
  }
  *local_58 = '\0';
  FUN_00405260(1,0);
  FUN_00405260(1,0);
  FUN_00640ed0();
  return;
}



============================================================
DISASSEMBLY
============================================================
0062b0a9 : PUSH 0x64
0062b0ab : MOV EAX,0xb0ba0b
0062b0b0 : CALL 0x00640e86
0062b0b5 : MOV EAX,dword ptr [EBP + 0xc]
0062b0b8 : MOV ESI,dword ptr [EBP + 0x8]
0062b0bb : MOV EDI,dword ptr [EBP + 0x10]
0062b0be : MOV dword ptr [EBP + -0x6c],EAX
0062b0c1 : MOV EAX,dword ptr [EBP + 0x14]
0062b0c4 : MOV dword ptr [EBP + -0x5c],EAX
0062b0c7 : MOV EAX,dword ptr [EBP + 0x1c]
0062b0ca : PUSH EAX
0062b0cb : CALL 0x00628b70
0062b0d0 : MOV EBX,EAX
0062b0d2 : POP ECX
0062b0d3 : LEA EAX,[EBP + -0x48]
0062b0d6 : PUSH EAX
0062b0d7 : MOV ECX,EBX
0062b0d9 : CALL 0x006269c7
0062b0de : XOR EAX,EAX
0062b0e0 : MOV dword ptr [EBP + -0x4],EAX
0062b0e3 : CMP dword ptr [EBP + -0x34],EAX
0062b0e6 : JZ 0x0062b0f2
0062b0e8 : MOV EAX,dword ptr [EBX]
0062b0ea : MOV ECX,EBX
0062b0ec : CALL dword ptr [EAX + 0x8]
0062b0ef : MOVZX EAX,AX
0062b0f2 : LEA EBX,[ESI + 0x8]
0062b0f5 : PUSH EBX
0062b0f6 : PUSH 0x0
0062b0f8 : PUSH 0x30
0062b0fa : MOV dword ptr [EBP + -0x68],EAX
0062b0fd : MOV dword ptr [EBP + -0x60],EBX
0062b100 : CALL 0x00624d6c
0062b105 : MOV ESI,dword ptr [EBP + -0x6c]
0062b108 : ADD ESP,0xc
0062b10b : PUSH dword ptr [EBP + -0x5c]
0062b10e : MOVZX EAX,AX
0062b111 : MOV ECX,EDI
0062b113 : MOV dword ptr [EBP + -0x64],EAX
0062b116 : MOV dword ptr [EBP + -0x54],ESI
0062b119 : CALL 0x0062638a
0062b11e : TEST AL,AL
0062b120 : JNZ 0x0062b171
0062b122 : PUSH EBX
0062b123 : PUSH 0x0
0062b125 : PUSH 0x2b
0062b127 : CALL 0x00624d6c
0062b12c : ADD ESP,0xc
0062b12f : MOV ECX,EDI
0062b131 : MOV BX,AX
0062b134 : CALL 0x00626573
0062b139 : CMP AX,BX
0062b13c : JNZ 0x0062b143
0062b13e : MOV byte ptr [ESI],0x2b
0062b141 : JMP 0x0062b164
0062b143 : PUSH dword ptr [EBP + -0x60]
0062b146 : PUSH 0x0
0062b148 : PUSH 0x2d
0062b14a : CALL 0x00624d6c
0062b14f : ADD ESP,0xc
0062b152 : MOV ECX,EDI
0062b154 : MOV BX,AX
0062b157 : CALL 0x00626573
0062b15c : CMP AX,BX
0062b15f : JNZ 0x0062b171
0062b161 : MOV byte ptr [ESI],0x2d
0062b164 : LEA EAX,[ESI + 0x1]
0062b167 : MOV ECX,EDI
0062b169 : MOV dword ptr [EBP + -0x54],EAX
0062b16c : CALL 0x006262d9
0062b171 : MOV EAX,dword ptr [EBP + 0x18]
0062b174 : AND EAX,0xe00
0062b179 : CMP EAX,0x400
0062b17e : JNZ 0x0062b189
0062b180 : MOV dword ptr [EBP + -0x50],0x8
0062b187 : JMP 0x0062b1a3
0062b189 : CMP EAX,0x800
0062b18e : JNZ 0x0062b199
0062b190 : MOV dword ptr [EBP + -0x50],0x10
0062b197 : JMP 0x0062b1a3
0062b199 : NEG EAX
0062b19b : SBB EAX,EAX
0062b19d : AND EAX,0xa
0062b1a0 : MOV dword ptr [EBP + -0x50],EAX
0062b1a3 : PUSH dword ptr [EBP + -0x5c]
0062b1a6 : MOV byte ptr [EBP + -0x58],0x0
0062b1aa : PUSH EDI
0062b1ab : MOV byte ptr [EBP + -0x49],0x0
0062b1af : CALL 0x0062685b
0062b1b4 : POP ECX
0062b1b5 : POP ECX
0062b1b6 : TEST AL,AL
0062b1b8 : JZ 0x0062b252
0062b1be : MOV ECX,EDI
0062b1c0 : CALL 0x00626573
0062b1c5 : CMP AX,word ptr [EBP + -0x64]
0062b1c9 : JNZ 0x0062b252
0062b1cf : MOV ECX,EDI
0062b1d1 : MOV byte ptr [EBP + -0x58],0x1
0062b1d5 : CALL 0x006262d9
0062b1da : PUSH dword ptr [EBP + -0x5c]
0062b1dd : PUSH EDI
0062b1de : CALL 0x0062685b
0062b1e3 : POP ECX
0062b1e4 : POP ECX
0062b1e5 : TEST AL,AL
0062b1e7 : JZ 0x0062b245
0062b1e9 : PUSH dword ptr [EBP + -0x60]
0062b1ec : PUSH 0x0
0062b1ee : PUSH 0x78
0062b1f0 : CALL 0x00624d6c
0062b1f5 : ADD ESP,0xc
0062b1f8 : MOV ECX,EDI
0062b1fa : MOV BX,AX
0062b1fd : CALL 0x00626573
0062b202 : CMP AX,BX
0062b205 : JZ 0x0062b225
0062b207 : PUSH dword ptr [EBP + -0x60]
0062b20a : PUSH 0x0
0062b20c : PUSH 0x58
0062b20e : CALL 0x00624d6c
0062b213 : ADD ESP,0xc
0062b216 : MOV ECX,EDI
0062b218 : MOV BX,AX
0062b21b : CALL 0x00626573
0062b220 : CMP AX,BX
0062b223 : JNZ 0x0062b245
0062b225 : CMP dword ptr [EBP + -0x50],0x0
0062b229 : JZ 0x0062b231
0062b22b : CMP dword ptr [EBP + -0x50],0x10
0062b22f : JNZ 0x0062b245
0062b231 : MOV ECX,EDI
0062b233 : MOV dword ptr [EBP + -0x50],0x10
0062b23a : MOV byte ptr [EBP + -0x58],0x0
0062b23e : CALL 0x006262d9
0062b243 : JMP 0x0062b25e
0062b245 : CMP dword ptr [EBP + -0x50],0x0
0062b249 : JNZ 0x0062b258
0062b24b : MOV dword ptr [EBP + -0x50],0x8
0062b252 : CMP dword ptr [EBP + -0x50],0x0
0062b256 : JZ 0x0062b273
0062b258 : CMP dword ptr [EBP + -0x50],0xa
0062b25c : JZ 0x0062b273
0062b25e : XOR EAX,EAX
0062b260 : CMP dword ptr [EBP + -0x50],0x8
0062b264 : SETNZ AL
0062b267 : DEC EAX
0062b268 : AND EAX,0xfffffff2
0062b26b : ADD EAX,0x16
0062b26e : MOV dword ptr [EBP + -0x64],EAX
0062b271 : JMP 0x0062b27a
0062b273 : MOV dword ptr [EBP + -0x64],0xa
0062b27a : PUSH dword ptr [EBP + -0x58]
0062b27d : LEA ECX,[EBP + -0x2c]
0062b280 : PUSH 0x1
0062b282 : CALL 0x004d1280
0062b287 : PUSH dword ptr [EBP + -0x5c]
0062b28a : ADD ESI,0x1f
0062b28d : PUSH EDI
0062b28e : MOV byte ptr [EBP + -0x4],0x1
0062b292 : XOR EBX,EBX
0062b294 : MOV dword ptr [EBP + -0x70],ESI
0062b297 : CALL 0x0062685b
0062b29c : POP ECX
0062b29d : POP ECX
0062b29e : TEST AL,AL
0062b2a0 : JZ 0x0062b36f
0062b2a6 : PUSH dword ptr [EBP + -0x60]
0062b2a9 : MOV ECX,EDI
0062b2ab : CALL 0x00626573
0062b2b0 : MOVZX EAX,AX
0062b2b3 : PUSH EAX
0062b2b4 : CALL 0x00625942
0062b2b9 : MOV ESI,dword ptr [EBP + -0x54]
0062b2bc : PUSH dword ptr [EBP + -0x64]
0062b2bf : MOV byte ptr [ESI],AL
0062b2c1 : MOVSX EAX,AL
0062b2c4 : PUSH EAX
0062b2c5 : PUSH 0xb95a40
0062b2ca : CALL 0x00635250
0062b2cf : ADD ESP,0x14
0062b2d2 : TEST EAX,EAX
0062b2d4 : JZ 0x0062b30d
0062b2d6 : CMP byte ptr [EBP + -0x49],0x0
0062b2da : JNZ 0x0062b2e1
0062b2dc : CMP byte ptr [ESI],0x30
0062b2df : JZ 0x0062b2ee
0062b2e1 : CMP ESI,dword ptr [EBP + -0x70]
0062b2e4 : JNC 0x0062b2ee
0062b2e6 : INC ESI
0062b2e7 : MOV dword ptr [EBP + -0x54],ESI
0062b2ea : MOV byte ptr [EBP + -0x49],0x1
0062b2ee : PUSH EBX
0062b2ef : LEA ECX,[EBP + -0x2c]
0062b2f2 : MOV byte ptr [EBP + -0x58],0x1
0062b2f6 : CALL 0x004d3b30
0062b2fb : CMP byte ptr [EAX],0x7f
0062b2fe : JZ 0x0062b33c
0062b300 : PUSH EBX
0062b301 : LEA ECX,[EBP + -0x2c]
0062b304 : CALL 0x004d3b30
0062b309 : INC byte ptr [EAX]
0062b30b : JMP 0x0062b33c
0062b30d : PUSH EBX
0062b30e : LEA ECX,[EBP + -0x2c]
0062b311 : CALL 0x004d3b30
0062b316 : CMP byte ptr [EAX],0x0
0062b319 : JZ 0x0062b356
0062b31b : CMP word ptr [EBP + -0x68],0x0
0062b320 : JZ 0x0062b356
0062b322 : MOV ECX,EDI
0062b324 : CALL 0x00626573
0062b329 : CMP AX,word ptr [EBP + -0x68]
0062b32d : JNZ 0x0062b356
0062b32f : PUSH 0x0
0062b331 : PUSH 0x1
0062b333 : LEA ECX,[EBP + -0x2c]
0062b336 : CALL 0x004d12b0
0062b33b : INC EBX
0062b33c : MOV ECX,EDI
0062b33e : CALL 0x006262d9
0062b343 : PUSH dword ptr [EBP + -0x5c]
0062b346 : PUSH EDI
0062b347 : CALL 0x0062685b
0062b34c : POP ECX
0062b34d : POP ECX
0062b34e : TEST AL,AL
0062b350 : JNZ 0x0062b2a6
0062b356 : TEST EBX,EBX
0062b358 : JZ 0x0062b36f
0062b35a : PUSH EBX
0062b35b : LEA ECX,[EBP + -0x2c]
0062b35e : CALL 0x004d3b30
0062b363 : CMP byte ptr [EAX],0x0
0062b366 : JLE 0x0062b36b
0062b368 : INC EBX
0062b369 : JMP 0x0062b36f
0062b36b : MOV byte ptr [EBP + -0x58],0x0
0062b36f : CMP dword ptr [EBP + -0x30],0x10
0062b373 : MOV ESI,dword ptr [EBP + -0x44]
0062b376 : JNC 0x0062b37b
0062b378 : LEA ESI,[EBP + -0x44]
0062b37b : CMP byte ptr [EBP + -0x58],0x0
0062b37f : JZ 0x0062b3cc
0062b381 : TEST EBX,EBX
0062b383 : JBE 0x0062b3bb
0062b385 : CMP byte ptr [ESI],0x7f
0062b388 : JZ 0x0062b3bb
0062b38a : DEC EBX
0062b38b : JZ 0x0062b39c
0062b38d : PUSH EBX
0062b38e : LEA ECX,[EBP + -0x2c]
0062b391 : CALL 0x004d3b30
0062b396 : MOV CL,byte ptr [ESI]
0062b398 : CMP CL,byte ptr [EAX]
0062b39a : JNZ 0x0062b3cc
0062b39c : TEST EBX,EBX
0062b39e : JNZ 0x0062b3af
0062b3a0 : PUSH EBX
0062b3a1 : LEA ECX,[EBP + -0x2c]
0062b3a4 : CALL 0x004d3b30
0062b3a9 : MOV CL,byte ptr [ESI]
0062b3ab : CMP CL,byte ptr [EAX]
0062b3ad : JL 0x0062b3cc
0062b3af : LEA EAX,[ESI + 0x1]
0062b3b2 : CMP byte ptr [EAX],0x0
0062b3b5 : JLE 0x0062b381
0062b3b7 : MOV ESI,EAX
0062b3b9 : JMP 0x0062b381
0062b3bb : CMP byte ptr [EBP + -0x49],0x0
0062b3bf : JNZ 0x0062b3d2
0062b3c1 : MOV EAX,dword ptr [EBP + -0x54]
0062b3c4 : INC dword ptr [EBP + -0x54]
0062b3c7 : MOV byte ptr [EAX],0x30
0062b3ca : JMP 0x0062b3d2
0062b3cc : MOV EAX,dword ptr [EBP + -0x6c]
0062b3cf : MOV dword ptr [EBP + -0x54],EAX
0062b3d2 : MOV EAX,dword ptr [EBP + -0x54]
0062b3d5 : PUSH 0x0
0062b3d7 : PUSH 0x1
0062b3d9 : LEA ECX,[EBP + -0x2c]
0062b3dc : MOV byte ptr [EAX],0x0
0062b3df : CALL 0x00405260
0062b3e4 : PUSH 0x0
0062b3e6 : PUSH 0x1
0062b3e8 : LEA ECX,[EBP + -0x48]
0062b3eb : CALL 0x00405260
0062b3f0 : MOV EAX,dword ptr [EBP + -0x50]
0062b3f3 : CALL 0x00640ed0
0062b3f8 : RET
