PROGRAM  : Maestia.exe
FUNCTION : FUN_0054ef00
ENTRY    : 0054ef00
BODY     : [[0054ef00, 0054ef7e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0054ef00(int param_1)

{
  undefined1 *puVar1;
  undefined1 uVar2;
  int iVar3;
  int *piVar4;
  undefined4 uVar5;
  
  if (0 < *(int *)(param_1 + 0x1c)) {
    iVar3 = (**(code **)(**(int **)(param_1 + 8) + 8))();
    if (3 < iVar3 - 2U) {
      if (*(int *)(param_1 + 8) == 0) {
        iVar3 = 0;
      }
      else {
        iVar3 = *(int *)(param_1 + 8) + -0x10;
      }
      uVar5 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(0);
      piVar4 = (int *)FUN_005270f0(uVar5);
      if (piVar4 != (int *)0x0) {
        uVar2 = (**(code **)(*piVar4 + 0x48))(*(undefined4 *)(param_1 + 0x18),iVar3,0);
        puVar1 = *(undefined1 **)(param_1 + 4);
        FUN_00526400();
        puVar1[4] = uVar2;
        *puVar1 = 2;
        return;
      }
    }
  }
  puVar1 = *(undefined1 **)(param_1 + 4);
  FUN_00526400();
  puVar1[4] = 0;
  *puVar1 = 2;
  return;
}



============================================================
DISASSEMBLY
============================================================
0054ef00 : PUSH ESI
0054ef01 : MOV ESI,dword ptr [ESP + 0x8]
0054ef05 : CMP dword ptr [ESI + 0x1c],0x1
0054ef09 : PUSH EDI
0054ef0a : JL 0x0054ef6b
0054ef0c : MOV ECX,dword ptr [ESI + 0x8]
0054ef0f : MOV EAX,dword ptr [ECX]
0054ef11 : MOV EDX,dword ptr [EAX + 0x8]
0054ef14 : CALL EDX
0054ef16 : ADD EAX,-0x2
0054ef19 : CMP EAX,0x3
0054ef1c : JBE 0x0054ef6b
0054ef1e : MOV EAX,dword ptr [ESI + 0x8]
0054ef21 : TEST EAX,EAX
0054ef23 : JZ 0x0054ef2a
0054ef25 : LEA EDI,[EAX + -0x10]
0054ef28 : JMP 0x0054ef2c
0054ef2a : XOR EDI,EDI
0054ef2c : MOV EAX,dword ptr [ESI + 0x18]
0054ef2f : PUSH EAX
0054ef30 : PUSH 0x0
0054ef32 : MOV ECX,ESI
0054ef34 : CALL 0x00526260
0054ef39 : MOV ECX,EAX
0054ef3b : CALL 0x005270f0
0054ef40 : TEST EAX,EAX
0054ef42 : JZ 0x0054ef6b
0054ef44 : MOV ECX,dword ptr [ESI + 0x18]
0054ef47 : MOV EDX,dword ptr [EAX]
0054ef49 : MOV EDX,dword ptr [EDX + 0x48]
0054ef4c : PUSH EBX
0054ef4d : PUSH 0x0
0054ef4f : PUSH EDI
0054ef50 : PUSH ECX
0054ef51 : MOV ECX,EAX
0054ef53 : CALL EDX
0054ef55 : MOV ESI,dword ptr [ESI + 0x4]
0054ef58 : MOV ECX,ESI
0054ef5a : MOV BL,AL
0054ef5c : CALL 0x00526400
0054ef61 : MOV byte ptr [ESI + 0x4],BL
0054ef64 : POP EBX
0054ef65 : POP EDI
0054ef66 : MOV byte ptr [ESI],0x2
0054ef69 : POP ESI
0054ef6a : RET
0054ef6b : MOV ESI,dword ptr [ESI + 0x4]
0054ef6e : MOV ECX,ESI
0054ef70 : CALL 0x00526400
0054ef75 : MOV byte ptr [ESI + 0x4],0x0
0054ef79 : POP EDI
0054ef7a : MOV byte ptr [ESI],0x2
0054ef7d : POP ESI
0054ef7e : RET
