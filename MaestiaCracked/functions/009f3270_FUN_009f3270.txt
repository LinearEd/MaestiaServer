PROGRAM  : Maestia.exe
FUNCTION : FUN_009f3270
ENTRY    : 009f3270
BODY     : [[009f3270, 009f335c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009f3270(undefined4 param_1)

{
  int iVar1;
  uint uVar2;
  int in_ECX;
  LPCRITICAL_SECTION local_2c;
  char *local_28;
  undefined4 local_24;
  int local_20;
  undefined4 local_1c;
  int local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b46c36;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_2c = (LPCRITICAL_SECTION)(in_ECX + 0x18);
  local_20 = 0;
  local_28 = ".\\Items\\AvaItemManager.cpp";
  local_24 = 0x67;
  local_1c = 1;
  FUN_006ef1a0(&local_2c);
  local_8 = 0;
  local_18 = in_ECX + 4;
  FUN_004437f0(&param_1);
  if (local_14 != *(int *)(in_ECX + 8)) {
    iVar1 = *DAT_00da9894;
    if ((iVar1 != 0) && (*(int *)(iVar1 + 0x14c) != 0)) {
      FUN_00a92ec0(*(undefined4 *)(iVar1 + 0x14c),param_1,0);
    }
    FUN_009ed2f0(*(undefined4 *)(local_14 + 0x10));
    if (*(undefined4 **)(local_14 + 0x10) != (undefined4 *)0x0) {
      (**(code **)**(undefined4 **)(local_14 + 0x10))(1,uVar2);
      *(undefined4 *)(local_14 + 0x10) = 0;
    }
    FUN_0045b810(local_18,&param_1,local_14);
  }
  local_8 = 0xffffffff;
  if (local_20 != 0) {
    LeaveCriticalSection(local_2c);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
009f3270 : PUSH EBP
009f3271 : MOV EBP,ESP
009f3273 : PUSH -0x1
009f3275 : PUSH 0xb46c36
009f327a : MOV EAX,FS:[0x0]
009f3280 : PUSH EAX
009f3281 : SUB ESP,0x20
009f3284 : PUSH EBX
009f3285 : PUSH ESI
009f3286 : PUSH EDI
009f3287 : MOV EAX,[0x00d66fa0]
009f328c : XOR EAX,EBP
009f328e : PUSH EAX
009f328f : LEA EAX,[EBP + -0xc]
009f3292 : MOV FS:[0x0],EAX
009f3298 : MOV ESI,ECX
009f329a : LEA ECX,[EBP + -0x28]
009f329d : LEA EAX,[ESI + 0x18]
009f32a0 : XOR EBX,EBX
009f32a2 : PUSH ECX
009f32a3 : MOV dword ptr [EBP + -0x1c],EBX
009f32a6 : MOV dword ptr [EBP + -0x28],EAX
009f32a9 : MOV dword ptr [EBP + -0x24],0xca5214
009f32b0 : MOV dword ptr [EBP + -0x20],0x67
009f32b7 : MOV dword ptr [EBP + -0x18],0x1
009f32be : CALL 0x006ef1a0
009f32c3 : MOV dword ptr [EBP + -0x4],EBX
009f32c6 : LEA EDX,[EBP + 0x8]
009f32c9 : LEA ECX,[ESI + 0x4]
009f32cc : PUSH EDX
009f32cd : LEA EAX,[EBP + -0x10]
009f32d0 : MOV dword ptr [EBP + -0x14],ECX
009f32d3 : CALL 0x004437f0
009f32d8 : MOV ESI,dword ptr [ESI + 0x8]
009f32db : MOV EDI,dword ptr [EBP + -0x10]
009f32de : CMP EDI,ESI
009f32e0 : JZ 0x009f3330
009f32e2 : MOV ECX,dword ptr [0x00da9894]
009f32e8 : MOV EAX,dword ptr [ECX]
009f32ea : CMP EAX,EBX
009f32ec : JZ 0x009f3307
009f32ee : CMP dword ptr [EAX + 0x14c],EBX
009f32f4 : JZ 0x009f3307
009f32f6 : MOV EDX,dword ptr [EBP + 0x8]
009f32f9 : MOV EAX,dword ptr [EAX + 0x14c]
009f32ff : PUSH EBX
009f3300 : PUSH EDX
009f3301 : PUSH EAX
009f3302 : CALL 0x00a92ec0
009f3307 : MOV EAX,dword ptr [EDI + 0x10]
009f330a : PUSH EAX
009f330b : CALL 0x009ed2f0
009f3310 : MOV ECX,dword ptr [EDI + 0x10]
009f3313 : CMP ECX,EBX
009f3315 : JZ 0x009f3322
009f3317 : MOV EDX,dword ptr [ECX]
009f3319 : MOV EAX,dword ptr [EDX]
009f331b : PUSH 0x1
009f331d : CALL EAX
009f331f : MOV dword ptr [EDI + 0x10],EBX
009f3322 : MOV EDX,dword ptr [EBP + -0x14]
009f3325 : PUSH EDI
009f3326 : LEA ECX,[EBP + 0x8]
009f3329 : PUSH ECX
009f332a : PUSH EDX
009f332b : CALL 0x0045b810
009f3330 : MOV dword ptr [EBP + -0x4],0xffffffff
009f3337 : CMP dword ptr [EBP + -0x1c],EBX
009f333a : JZ 0x009f3349
009f333c : MOV EAX,dword ptr [EBP + -0x28]
009f333f : PUSH EAX
009f3340 : CALL dword ptr [0x00b8511c]
009f3346 : MOV dword ptr [EBP + -0x1c],EBX
009f3349 : MOV ECX,dword ptr [EBP + -0xc]
009f334c : MOV dword ptr FS:[0x0],ECX
009f3353 : POP ECX
009f3354 : POP EDI
009f3355 : POP ESI
009f3356 : POP EBX
009f3357 : MOV ESP,EBP
009f3359 : POP EBP
009f335a : RET 0x4
