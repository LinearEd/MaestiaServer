PROGRAM  : Maestia.exe
FUNCTION : FUN_00a63b90
ENTRY    : 00a63b90
BODY     : [[00a63b90, 00a63cdc]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00a63c11) */

int FUN_00a63b90(int param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  ushort *puVar5;
  ushort *puVar6;
  uint uVar7;
  uint uVar8;
  undefined1 local_38 [4];
  undefined2 local_34;
  undefined4 local_24;
  uint local_20;
  int local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b1198a;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  uVar8 = *(int *)(param_1 + 0xc) - *(int *)(param_1 + 8) >> 2;
  local_18 = 0;
  local_14 = uVar8;
  if (uVar8 != 0) {
    do {
      local_8 = 0xffffffff;
      local_1c = *(int *)(*(int *)(param_1 + 8) + local_18 * 4);
      if (local_1c != 0) {
        iVar4 = FUN_004c0550(local_1c,local_38);
        uVar1 = *(uint *)(iVar4 + 0x14);
        if (*(uint *)(iVar4 + 0x18) < 8) {
          puVar5 = (ushort *)(iVar4 + 4);
        }
        else {
          puVar5 = *(ushort **)(iVar4 + 4);
        }
        uVar2 = *(uint *)(param_2 + 0x14);
        uVar7 = uVar2;
        if (uVar1 <= uVar2) {
          uVar7 = uVar1;
        }
        if (*(uint *)(param_2 + 0x18) < 8) {
          puVar6 = (ushort *)(param_2 + 4);
        }
        else {
          puVar6 = *(ushort **)(param_2 + 4);
        }
        for (; uVar7 != 0; uVar7 = uVar7 - 1) {
          uVar8 = local_14;
          if (*puVar6 != *puVar5) {
            uVar7 = (-(uint)(*puVar6 < *puVar5) & 0xfffffffe) + 1;
            if (uVar7 != 0) goto LAB_00a63c6c;
            break;
          }
          puVar6 = puVar6 + 1;
          puVar5 = puVar5 + 1;
        }
        if (uVar2 < uVar1) {
          uVar7 = 0xffffffff;
        }
        else {
          uVar7 = (uint)(uVar2 != uVar1);
        }
LAB_00a63c6c:
        local_8 = 0xffffffff;
        if (7 < local_20) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0(uVar3);
        }
        local_20 = 7;
        local_24 = 0;
        local_34 = 0;
        if (uVar7 == 0) {
          ExceptionList = local_10;
          return local_1c;
        }
      }
      local_18 = local_18 + 1;
    } while (local_18 < uVar8);
  }
  ExceptionList = local_10;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00a63b90 : PUSH EBP
00a63b91 : MOV EBP,ESP
00a63b93 : PUSH -0x1
00a63b95 : PUSH 0xb1198a
00a63b9a : MOV EAX,FS:[0x0]
00a63ba0 : PUSH EAX
00a63ba1 : SUB ESP,0x28
00a63ba4 : PUSH EBX
00a63ba5 : PUSH ESI
00a63ba6 : PUSH EDI
00a63ba7 : MOV EAX,[0x00d66fa0]
00a63bac : XOR EAX,EBP
00a63bae : PUSH EAX
00a63baf : LEA EAX,[EBP + -0xc]
00a63bb2 : MOV FS:[0x0],EAX
00a63bb8 : MOV EDX,dword ptr [EBP + 0x8]
00a63bbb : MOV EDI,dword ptr [EDX + 0xc]
00a63bbe : SUB EDI,dword ptr [EDX + 0x8]
00a63bc1 : XOR ECX,ECX
00a63bc3 : SAR EDI,0x2
00a63bc6 : MOV dword ptr [EBP + -0x10],EDI
00a63bc9 : MOV dword ptr [EBP + -0x14],ECX
00a63bcc : TEST EDI,EDI
00a63bce : JBE 0x00a63cb0
00a63bd4 : MOV EAX,dword ptr [EDX + 0x8]
00a63bd7 : MOV EAX,dword ptr [EAX + ECX*0x4]
00a63bda : MOV dword ptr [EBP + -0x18],EAX
00a63bdd : TEST EAX,EAX
00a63bdf : JZ 0x00a63ca4
00a63be5 : LEA ECX,[EBP + -0x34]
00a63be8 : PUSH ECX
00a63be9 : PUSH EAX
00a63bea : CALL 0x004c0550
00a63bef : MOV dword ptr [EBP + -0x4],0x0
00a63bf6 : CMP dword ptr [EAX + 0x18],0x8
00a63bfa : MOV EBX,dword ptr [EAX + 0x14]
00a63bfd : JC 0x00a63c04
00a63bff : MOV EAX,dword ptr [EAX + 0x4]
00a63c02 : JMP 0x00a63c07
00a63c04 : ADD EAX,0x4
00a63c07 : MOV ECX,dword ptr [EBP + 0xc]
00a63c0a : MOV ESI,dword ptr [ECX + 0x14]
00a63c0d : MOV ECX,ESI
00a63c0f : CMP ECX,ESI
00a63c11 : CMOVC ESI,ECX
00a63c14 : MOV EDX,ESI
00a63c16 : CMP ESI,EBX
00a63c18 : JC 0x00a63c1c
00a63c1a : MOV EDX,EBX
00a63c1c : MOV ECX,dword ptr [EBP + 0xc]
00a63c1f : CMP dword ptr [ECX + 0x18],0x8
00a63c23 : JC 0x00a63c2a
00a63c25 : MOV ECX,dword ptr [ECX + 0x4]
00a63c28 : JMP 0x00a63c2d
00a63c2a : ADD ECX,0x4
00a63c2d : TEST EDX,EDX
00a63c2f : JBE 0x00a63c47
00a63c31 : MOV DI,word ptr [ECX]
00a63c34 : CMP DI,word ptr [EAX]
00a63c37 : JNZ 0x00a63c50
00a63c39 : ADD ECX,0x2
00a63c3c : ADD EAX,0x2
00a63c3f : SUB EDX,0x1
00a63c42 : JNZ 0x00a63c31
00a63c44 : MOV EDI,dword ptr [EBP + -0x10]
00a63c47 : CMP ESI,EBX
00a63c49 : JNC 0x00a63c65
00a63c4b : OR EAX,0xffffffff
00a63c4e : JMP 0x00a63c6c
00a63c50 : MOV DX,DI
00a63c53 : CMP DX,word ptr [EAX]
00a63c56 : SBB EAX,EAX
00a63c58 : AND EAX,0xfffffffe
00a63c5b : ADD EAX,0x1
00a63c5e : JZ 0x00a63c44
00a63c60 : MOV EDI,dword ptr [EBP + -0x10]
00a63c63 : JMP 0x00a63c6c
00a63c65 : XOR EAX,EAX
00a63c67 : CMP ESI,EBX
00a63c69 : SETNZ AL
00a63c6c : TEST EAX,EAX
00a63c6e : SETZ BL
00a63c71 : MOV dword ptr [EBP + -0x4],0xffffffff
00a63c78 : CMP dword ptr [EBP + -0x1c],0x8
00a63c7c : JC 0x00a63c86
00a63c7e : MOV ECX,dword ptr [EBP + -0x30]
00a63c81 : CALL 0x006f04e0
00a63c86 : XOR EAX,EAX
00a63c88 : MOV dword ptr [EBP + -0x1c],0x7
00a63c8f : MOV dword ptr [EBP + -0x20],0x0
00a63c96 : MOV word ptr [EBP + -0x30],AX
00a63c9a : TEST BL,BL
00a63c9c : JNZ 0x00a63cc6
00a63c9e : MOV ECX,dword ptr [EBP + -0x14]
00a63ca1 : MOV EDX,dword ptr [EBP + 0x8]
00a63ca4 : INC ECX
00a63ca5 : MOV dword ptr [EBP + -0x14],ECX
00a63ca8 : CMP ECX,EDI
00a63caa : JC 0x00a63bd4
00a63cb0 : XOR EAX,EAX
00a63cb2 : MOV ECX,dword ptr [EBP + -0xc]
00a63cb5 : MOV dword ptr FS:[0x0],ECX
00a63cbc : POP ECX
00a63cbd : POP EDI
00a63cbe : POP ESI
00a63cbf : POP EBX
00a63cc0 : MOV ESP,EBP
00a63cc2 : POP EBP
00a63cc3 : RET 0x8
00a63cc6 : MOV EAX,dword ptr [EBP + -0x18]
00a63cc9 : MOV ECX,dword ptr [EBP + -0xc]
00a63ccc : MOV dword ptr FS:[0x0],ECX
00a63cd3 : POP ECX
00a63cd4 : POP EDI
00a63cd5 : POP ESI
00a63cd6 : POP EBX
00a63cd7 : MOV ESP,EBP
00a63cd9 : POP EBP
00a63cda : RET 0x8
