PROGRAM  : Maestia.exe
FUNCTION : FUN_009d9dd0
ENTRY    : 009d9dd0
BODY     : [[009d9dd0, 009d9f27]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009d9dd0(void)

{
  uint uVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 ****ppppuVar4;
  int unaff_ESI;
  uint local_38;
  int local_34 [2];
  undefined4 ***local_2c [4];
  int local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b22bbf;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_18 = 7;
  local_1c = 0;
  local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffff0000);
  local_14 = uVar1;
  FUN_00406360(&DAT_00c97630,0);
  local_8 = 0;
  local_34[0] = **(int **)(unaff_ESI + 0x44);
  if ((int *)local_34[0] != *(int **)(unaff_ESI + 0x44)) {
    do {
      uVar2 = FUN_009d9ba0(unaff_ESI,*(undefined4 *)(local_34[0] + 0x14));
      local_8._0_1_ = 1;
      FUN_00405c30(uVar2,0,0xffffffff);
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_38 = 7;
      FUN_004192a0(uVar1);
    } while (local_34[0] != *(int *)(unaff_ESI + 0x44));
  }
  if (local_1c != 0) {
    local_34[0] = 0x7c;
    iVar3 = FUN_00407cc0(local_34,1);
    if (iVar3 != -1) {
      FUN_00405e10(iVar3,1);
    }
  }
  iVar3 = *DAT_00da9894;
  if ((iVar3 != 0) && (*(int *)(iVar3 + 0x114) != 0)) {
    ppppuVar4 = (undefined4 ****)local_2c[0];
    if (local_18 < 8) {
      ppppuVar4 = local_2c;
    }
    (**(code **)(**(int **)(iVar3 + 0x114) + 4))
              (*(int **)(iVar3 + 0x114),"AggroDataUpdate",&DAT_00c97634,ppppuVar4);
  }
  local_8 = 0xffffffff;
  if (local_18 < 8) {
    local_18 = 7;
    local_1c = 0;
    local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffff0000);
    ExceptionList = local_10;
    __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
009d9dd0 : PUSH EBP
009d9dd1 : MOV EBP,ESP
009d9dd3 : PUSH -0x1
009d9dd5 : PUSH 0xb22bbf
009d9dda : MOV EAX,FS:[0x0]
009d9de0 : PUSH EAX
009d9de1 : SUB ESP,0x40
009d9de4 : MOV EAX,[0x00d66fa0]
009d9de9 : XOR EAX,EBP
009d9deb : MOV dword ptr [EBP + -0x10],EAX
009d9dee : PUSH EBX
009d9def : PUSH EDI
009d9df0 : PUSH EAX
009d9df1 : LEA EAX,[EBP + -0xc]
009d9df4 : MOV FS:[0x0],EAX
009d9dfa : XOR EBX,EBX
009d9dfc : PUSH EBX
009d9dfd : XOR EAX,EAX
009d9dff : PUSH 0xc97630
009d9e04 : LEA ECX,[EBP + -0x2c]
009d9e07 : MOV dword ptr [EBP + -0x14],0x7
009d9e0e : MOV dword ptr [EBP + -0x18],EBX
009d9e11 : MOV word ptr [EBP + -0x28],AX
009d9e15 : CALL 0x00406360
009d9e1a : MOV dword ptr [EBP + -0x4],EBX
009d9e1d : MOV ECX,dword ptr [ESI + 0x44]
009d9e20 : MOV EAX,dword ptr [ECX]
009d9e22 : MOV dword ptr [EBP + -0x30],EAX
009d9e25 : CMP EAX,ECX
009d9e27 : JZ 0x009d9e80
009d9e29 : LEA ESP,[ESP]
009d9e30 : MOV ECX,dword ptr [EAX + 0x14]
009d9e33 : PUSH ECX
009d9e34 : PUSH ESI
009d9e35 : LEA EDI,[EBP + -0x4c]
009d9e38 : CALL 0x009d9ba0
009d9e3d : MOV byte ptr [EBP + -0x4],0x1
009d9e41 : PUSH -0x1
009d9e43 : PUSH EBX
009d9e44 : PUSH EAX
009d9e45 : LEA ECX,[EBP + -0x2c]
009d9e48 : CALL 0x00405c30
009d9e4d : MOV byte ptr [EBP + -0x4],BL
009d9e50 : CMP dword ptr [EBP + -0x34],0x8
009d9e54 : JC 0x009d9e5e
009d9e56 : MOV ECX,dword ptr [EBP + -0x48]
009d9e59 : CALL 0x006f04e0
009d9e5e : XOR EDX,EDX
009d9e60 : MOV word ptr [EBP + -0x48],DX
009d9e64 : LEA EDX,[EBP + -0x30]
009d9e67 : MOV dword ptr [EBP + -0x34],0x7
009d9e6e : MOV dword ptr [EBP + -0x38],EBX
009d9e71 : CALL 0x004192a0
009d9e76 : MOV ECX,dword ptr [ESI + 0x44]
009d9e79 : MOV EAX,dword ptr [EBP + -0x30]
009d9e7c : CMP EAX,ECX
009d9e7e : JNZ 0x009d9e30
009d9e80 : CMP dword ptr [EBP + -0x18],EBX
009d9e83 : JZ 0x009d9eac
009d9e85 : PUSH 0x1
009d9e87 : LEA EAX,[EBP + -0x30]
009d9e8a : PUSH EAX
009d9e8b : OR ECX,0xffffffff
009d9e8e : LEA EDI,[EBP + -0x2c]
009d9e91 : MOV dword ptr [EBP + -0x30],0x7c
009d9e98 : CALL 0x00407cc0
009d9e9d : CMP EAX,-0x1
009d9ea0 : JZ 0x009d9eac
009d9ea2 : PUSH 0x1
009d9ea4 : PUSH EAX
009d9ea5 : MOV ECX,EDI
009d9ea7 : CALL 0x00405e10
009d9eac : MOV ECX,dword ptr [0x00da9894]
009d9eb2 : MOV EAX,dword ptr [ECX]
009d9eb4 : CMP EAX,EBX
009d9eb6 : JZ 0x009d9ee8
009d9eb8 : CMP dword ptr [EAX + 0x114],EBX
009d9ebe : JZ 0x009d9ee8
009d9ec0 : CMP dword ptr [EBP + -0x14],0x8
009d9ec4 : MOV EAX,dword ptr [EAX + 0x114]
009d9eca : MOV ECX,dword ptr [EBP + -0x28]
009d9ecd : JNC 0x009d9ed2
009d9ecf : LEA ECX,[EBP + -0x28]
009d9ed2 : MOV EDX,dword ptr [EAX]
009d9ed4 : PUSH ECX
009d9ed5 : PUSH 0xc97634
009d9eda : PUSH 0xc97638
009d9edf : PUSH EAX
009d9ee0 : MOV EAX,dword ptr [EDX + 0x4]
009d9ee3 : CALL EAX
009d9ee5 : ADD ESP,0x10
009d9ee8 : MOV dword ptr [EBP + -0x4],0xffffffff
009d9eef : CMP dword ptr [EBP + -0x14],0x8
009d9ef3 : JC 0x009d9efd
009d9ef5 : MOV ECX,dword ptr [EBP + -0x28]
009d9ef8 : CALL 0x006f04e0
009d9efd : XOR ECX,ECX
009d9eff : MOV dword ptr [EBP + -0x14],0x7
009d9f06 : MOV dword ptr [EBP + -0x18],EBX
009d9f09 : MOV word ptr [EBP + -0x28],CX
009d9f0d : MOV ECX,dword ptr [EBP + -0xc]
009d9f10 : MOV dword ptr FS:[0x0],ECX
009d9f17 : POP ECX
009d9f18 : POP EDI
009d9f19 : POP EBX
009d9f1a : MOV ECX,dword ptr [EBP + -0x10]
009d9f1d : XOR ECX,EBP
009d9f1f : CALL 0x00633e6b
009d9f24 : MOV ESP,EBP
009d9f26 : POP EBP
009d9f27 : RET
