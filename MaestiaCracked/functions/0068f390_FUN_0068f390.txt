PROGRAM  : Maestia.exe
FUNCTION : FUN_0068f390
ENTRY    : 0068f390
BODY     : [[0068f390, 0068f586] [0068f590, 0068f617]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0068f390(int param_1,int param_2)

{
  int iVar1;
  int in_EAX;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  int local_14;
  
  iVar3 = param_2 >> 8;
  iVar2 = *(int *)(in_EAX + 0x44) - *(int *)(in_EAX + 0x48);
  iVar4 = param_2 + iVar3 * -0x100;
  iVar1 = *(int *)(in_EAX + 0x40);
  iVar5 = param_1 - iVar1;
  iVar7 = *(int *)(in_EAX + 0x48) >> 8;
  iVar6 = param_2 - *(int *)(in_EAX + 0x44);
  local_1c = iVar3;
  local_18 = iVar7;
  if (iVar3 < iVar7) {
    local_1c = iVar7;
    local_18 = iVar3;
  }
  if ((local_18 < *(int *)(in_EAX + 0x14)) && (*(int *)(in_EAX + 0x10) <= local_1c)) {
    if (iVar7 != iVar3) {
      local_1c = 1;
      local_24 = 0x100;
      if (iVar5 == 0) {
        iVar1 = (iVar1 + (iVar1 >> 8) * -0x100) * 2;
        if (iVar6 < 0) {
          local_24 = 0;
          local_1c = -1;
        }
        *(int *)(in_EAX + 0x24) = *(int *)(in_EAX + 0x24) + (local_24 - iVar2);
        *(int *)(in_EAX + 0x20) = *(int *)(in_EAX + 0x20) + (local_24 - iVar2) * iVar1;
        FUN_0068f160();
        while (iVar7 = iVar7 + local_1c, iVar7 != iVar3) {
          *(int *)(in_EAX + 0x20) = *(int *)(in_EAX + 0x20) + (local_24 * 2 + -0x100) * iVar1;
          *(int *)(in_EAX + 0x24) = *(int *)(in_EAX + 0x24) + local_24 * 2 + -0x100;
          FUN_0068f160();
        }
        iVar4 = local_24 + -0x100 + iVar4;
        *(int *)(in_EAX + 0x20) = *(int *)(in_EAX + 0x20) + iVar4 * iVar1;
        *(int *)(in_EAX + 0x24) = *(int *)(in_EAX + 0x24) + iVar4;
        goto LAB_0068f5fb;
      }
      local_1c = 1;
      iVar1 = 0x100 - iVar2;
      if (iVar6 < 0) {
        local_24 = 0;
        local_1c = -1;
        iVar6 = -iVar6;
        iVar1 = iVar2;
      }
      local_20 = (iVar1 * iVar5) % iVar6;
      if (local_20 < 0) {
        local_20 = local_20 + iVar6;
      }
      FUN_0068f220(iVar7,iVar2,local_24);
      iVar7 = iVar7 + local_1c;
      FUN_0068f160();
      if (iVar7 != iVar3) {
        local_14 = (iVar5 * 0x100) % iVar6;
        if (local_14 < 0) {
          local_14 = local_14 + iVar6;
        }
        local_20 = local_20 - iVar6;
        do {
          local_20 = local_20 + local_14;
          if (-1 < local_20) {
            local_20 = local_20 - iVar6;
          }
          FUN_0068f220(iVar7,0x100 - local_24,local_24);
          iVar7 = iVar7 + local_1c;
          FUN_0068f160();
        } while (iVar7 != iVar3);
      }
      iVar2 = 0x100 - local_24;
    }
    FUN_0068f220(iVar7,iVar2,iVar4);
  }
LAB_0068f5fb:
  *(int *)(in_EAX + 0x40) = param_1;
  *(int *)(in_EAX + 0x44) = param_2;
  *(int *)(in_EAX + 0x48) = iVar3 * 0x100;
  return;
}



============================================================
DISASSEMBLY
============================================================
0068f390 : SUB ESP,0x24
0068f393 : PUSH EBX
0068f394 : PUSH EBP
0068f395 : MOV EBP,dword ptr [ESP + 0x34]
0068f399 : PUSH ESI
0068f39a : MOV ESI,EAX
0068f39c : MOV EAX,dword ptr [ESI + 0x44]
0068f39f : MOV EDX,dword ptr [ESI + 0x48]
0068f3a2 : MOV EBX,EBP
0068f3a4 : SAR EBX,0x8
0068f3a7 : PUSH EDI
0068f3a8 : MOV EDI,EDX
0068f3aa : MOV ECX,EAX
0068f3ac : SUB ECX,EDX
0068f3ae : MOV EDX,EBX
0068f3b0 : SHL EDX,0x8
0068f3b3 : SUB EBP,EDX
0068f3b5 : MOV dword ptr [ESP + 0x24],EBP
0068f3b9 : MOV EBP,dword ptr [ESP + 0x38]
0068f3bd : MOV dword ptr [ESP + 0x30],EDX
0068f3c1 : MOV EDX,dword ptr [ESI + 0x40]
0068f3c4 : SUB EBP,EDX
0068f3c6 : MOV dword ptr [ESP + 0x20],EBP
0068f3ca : MOV EBP,dword ptr [ESP + 0x3c]
0068f3ce : SAR EDI,0x8
0068f3d1 : SUB EBP,EAX
0068f3d3 : CMP EDI,EBX
0068f3d5 : MOV dword ptr [ESP + 0x1c],EDI
0068f3d9 : MOV dword ptr [ESP + 0x18],EBX
0068f3dd : JLE 0x0068f3e7
0068f3df : MOV dword ptr [ESP + 0x1c],EBX
0068f3e3 : MOV dword ptr [ESP + 0x18],EDI
0068f3e7 : MOV EAX,dword ptr [ESP + 0x1c]
0068f3eb : CMP EAX,dword ptr [ESI + 0x14]
0068f3ee : JGE 0x0068f5fb
0068f3f4 : MOV EAX,dword ptr [ESP + 0x18]
0068f3f8 : CMP EAX,dword ptr [ESI + 0x10]
0068f3fb : JL 0x0068f5fb
0068f401 : CMP EDI,EBX
0068f403 : JNZ 0x0068f410
0068f405 : MOV EAX,dword ptr [ESP + 0x24]
0068f409 : PUSH EAX
0068f40a : PUSH ECX
0068f40b : JMP 0x0068f5ee
0068f410 : CMP dword ptr [ESP + 0x20],0x0
0068f415 : MOV dword ptr [ESP + 0x18],0x1
0068f41d : MOV dword ptr [ESP + 0x10],0x100
0068f425 : JNZ 0x0068f4d7
0068f42b : MOV EAX,EDX
0068f42d : SAR EAX,0x8
0068f430 : MOV dword ptr [ESP + 0x20],EAX
0068f434 : SHL EAX,0x8
0068f437 : SUB EDX,EAX
0068f439 : ADD EDX,EDX
0068f43b : MOV dword ptr [ESP + 0x1c],EDX
0068f43f : TEST EBP,EBP
0068f441 : JGE 0x0068f453
0068f443 : MOV dword ptr [ESP + 0x10],0x0
0068f44b : MOV dword ptr [ESP + 0x18],0xffffffff
0068f453 : MOV EAX,dword ptr [ESP + 0x10]
0068f457 : ADD EDI,dword ptr [ESP + 0x18]
0068f45b : SUB EAX,ECX
0068f45d : ADD dword ptr [ESI + 0x24],EAX
0068f460 : MOV ECX,EAX
0068f462 : IMUL ECX,EDX
0068f465 : ADD dword ptr [ESI + 0x20],ECX
0068f468 : MOV ECX,dword ptr [ESP + 0x20]
0068f46c : MOV EAX,EDI
0068f46e : MOV EDX,ESI
0068f470 : CALL 0x0068f160
0068f475 : MOV EBP,dword ptr [ESP + 0x10]
0068f479 : LEA EBP,[EBP + EBP*0x1 + 0xffffff00]
0068f480 : IMUL EBP,dword ptr [ESP + 0x1c]
0068f485 : CMP EDI,EBX
0068f487 : JZ 0x0068f4b6
0068f489 : LEA ESP,[ESP]
0068f490 : MOV EAX,dword ptr [ESP + 0x10]
0068f494 : ADD EDI,dword ptr [ESP + 0x18]
0068f498 : MOV ECX,dword ptr [ESP + 0x20]
0068f49c : ADD dword ptr [ESI + 0x20],EBP
0068f49f : LEA EAX,[EAX + EAX*0x1 + 0xffffff00]
0068f4a6 : ADD dword ptr [ESI + 0x24],EAX
0068f4a9 : MOV EAX,EDI
0068f4ab : MOV EDX,ESI
0068f4ad : CALL 0x0068f160
0068f4b2 : CMP EDI,EBX
0068f4b4 : JNZ 0x0068f490
0068f4b6 : MOV EDX,dword ptr [ESP + 0x24]
0068f4ba : MOV EAX,dword ptr [ESP + 0x10]
0068f4be : LEA EAX,[EAX + EDX*0x1 + 0xffffff00]
0068f4c5 : MOV ECX,EAX
0068f4c7 : IMUL ECX,dword ptr [ESP + 0x1c]
0068f4cc : ADD dword ptr [ESI + 0x20],ECX
0068f4cf : ADD dword ptr [ESI + 0x24],EAX
0068f4d2 : JMP 0x0068f5fb
0068f4d7 : MOV EDX,dword ptr [ESP + 0x20]
0068f4db : MOV EAX,0x100
0068f4e0 : SUB EAX,ECX
0068f4e2 : IMUL EAX,EDX
0068f4e5 : MOV dword ptr [ESP + 0x18],0x1
0068f4ed : TEST EBP,EBP
0068f4ef : JGE 0x0068f508
0068f4f1 : MOV EAX,EDX
0068f4f3 : IMUL EAX,ECX
0068f4f6 : MOV dword ptr [ESP + 0x10],0x0
0068f4fe : MOV dword ptr [ESP + 0x18],0xffffffff
0068f506 : NEG EBP
0068f508 : CDQ
0068f509 : IDIV EBP
0068f50b : MOV dword ptr [ESP + 0x14],EDX
0068f50f : TEST EDX,EDX
0068f511 : JGE 0x0068f51a
0068f513 : DEC EAX
0068f514 : ADD EDX,EBP
0068f516 : MOV dword ptr [ESP + 0x14],EDX
0068f51a : MOV EDX,dword ptr [ESI + 0x40]
0068f51d : ADD EAX,EDX
0068f51f : MOV EDX,dword ptr [ESP + 0x10]
0068f523 : PUSH EDX
0068f524 : MOV EDX,dword ptr [ESI + 0x40]
0068f527 : PUSH ECX
0068f528 : PUSH EDI
0068f529 : MOV dword ptr [ESP + 0x28],EAX
0068f52d : CALL 0x0068f220
0068f532 : ADD EDI,dword ptr [ESP + 0x24]
0068f536 : MOV ECX,dword ptr [ESP + 0x28]
0068f53a : ADD ESP,0xc
0068f53d : SAR ECX,0x8
0068f540 : MOV EAX,EDI
0068f542 : MOV EDX,ESI
0068f544 : CALL 0x0068f160
0068f549 : CMP EDI,EBX
0068f54b : JZ 0x0068f5db
0068f551 : MOV EAX,dword ptr [ESP + 0x20]
0068f555 : SHL EAX,0x8
0068f558 : CDQ
0068f559 : IDIV EBP
0068f55b : MOV ECX,EDX
0068f55d : MOV dword ptr [ESP + 0x28],EAX
0068f561 : MOV dword ptr [ESP + 0x20],EDX
0068f565 : TEST ECX,ECX
0068f567 : JGE 0x0068f574
0068f569 : DEC EAX
0068f56a : ADD ECX,EBP
0068f56c : MOV dword ptr [ESP + 0x28],EAX
0068f570 : MOV dword ptr [ESP + 0x20],ECX
0068f574 : SUB dword ptr [ESP + 0x14],EBP
0068f578 : MOV ECX,0x100
0068f57d : SUB ECX,dword ptr [ESP + 0x10]
0068f581 : MOV dword ptr [ESP + 0x2c],ECX
0068f585 : JMP 0x0068f594
0068f590 : MOV EAX,dword ptr [ESP + 0x28]
0068f594 : MOV ECX,dword ptr [ESP + 0x20]
0068f598 : ADD dword ptr [ESP + 0x14],ECX
0068f59c : JS 0x0068f5a3
0068f59e : SUB dword ptr [ESP + 0x14],EBP
0068f5a2 : INC EAX
0068f5a3 : PUSH dword ptr [ESP + 0x10]
0068f5a7 : MOV EDX,dword ptr [ESP + 0x20]
0068f5ab : MOV ECX,dword ptr [ESP + 0x30]
0068f5af : PUSH ECX
0068f5b0 : ADD EAX,EDX
0068f5b2 : PUSH EDI
0068f5b3 : MOV dword ptr [ESP + 0x28],EAX
0068f5b7 : CALL 0x0068f220
0068f5bc : MOV ECX,dword ptr [ESP + 0x28]
0068f5c0 : ADD EDI,dword ptr [ESP + 0x24]
0068f5c4 : MOV dword ptr [ESP + 0x28],ECX
0068f5c8 : ADD ESP,0xc
0068f5cb : SAR ECX,0x8
0068f5ce : MOV EAX,EDI
0068f5d0 : MOV EDX,ESI
0068f5d2 : CALL 0x0068f160
0068f5d7 : CMP EDI,EBX
0068f5d9 : JNZ 0x0068f590
0068f5db : MOV EDX,dword ptr [ESP + 0x24]
0068f5df : MOV EAX,0x100
0068f5e4 : SUB EAX,dword ptr [ESP + 0x10]
0068f5e8 : PUSH EDX
0068f5e9 : MOV EDX,dword ptr [ESP + 0x20]
0068f5ed : PUSH EAX
0068f5ee : MOV EAX,dword ptr [ESP + 0x40]
0068f5f2 : PUSH EDI
0068f5f3 : CALL 0x0068f220
0068f5f8 : ADD ESP,0xc
0068f5fb : MOV ECX,dword ptr [ESP + 0x38]
0068f5ff : MOV EDX,dword ptr [ESP + 0x3c]
0068f603 : MOV EAX,dword ptr [ESP + 0x30]
0068f607 : POP EDI
0068f608 : MOV dword ptr [ESI + 0x40],ECX
0068f60b : MOV dword ptr [ESI + 0x44],EDX
0068f60e : MOV dword ptr [ESI + 0x48],EAX
0068f611 : POP ESI
0068f612 : POP EBP
0068f613 : POP EBX
0068f614 : ADD ESP,0x24
0068f617 : RET
