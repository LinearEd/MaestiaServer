PROGRAM  : Maestia.exe
FUNCTION : FUN_009ea490
ENTRY    : 009ea490
BODY     : [[009ea490, 009ea5ec]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009ea490(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  undefined1 *in_ECX;
  uint local_4c;
  uint local_30;
  undefined1 local_2c [4];
  undefined2 local_28;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b244dd;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_00406360(&DAT_00ca03c4,2);
  if (*(uint *)(*(int *)(DAT_0172491c + 0x17c) + 0xa0) < (uint)*(byte *)(param_1 + 0x40)) {
    FUN_00404870(&DAT_00ca03cc,2);
    *in_ECX = 0;
  }
  else {
    FUN_00404870(&DAT_00ca03d4,2);
    *in_ECX = 1;
  }
  local_14 = 7;
  local_18 = 0;
  local_28 = 0;
  FUN_00406360(L"IDS_NEED_LV",0xb);
  local_8 = 0;
  iVar1 = FUN_0081d120(local_2c);
  local_8._0_1_ = 1;
  if (*(uint *)(iVar1 + 0x18) < 8) {
    iVar1 = iVar1 + 4;
  }
  else {
    iVar1 = *(int *)(iVar1 + 4);
  }
  uVar2 = FUN_00404750(L"%s : %d",iVar1,*(undefined1 *)(param_1 + 0x40));
  local_8._0_1_ = 2;
  FUN_00405c30(uVar2,0,0xffffffff);
  local_8 = CONCAT31(local_8._1_3_,1);
  if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_8 = (uint)local_8._1_3_ << 8;
  if (7 < local_4c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_8 = 0xffffffff;
  if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
009ea490 : PUSH EBP
009ea491 : MOV EBP,ESP
009ea493 : PUSH -0x1
009ea495 : PUSH 0xb244dd
009ea49a : MOV EAX,FS:[0x0]
009ea4a0 : PUSH EAX
009ea4a1 : SUB ESP,0x54
009ea4a4 : PUSH EBX
009ea4a5 : PUSH ESI
009ea4a6 : PUSH EDI
009ea4a7 : MOV EAX,[0x00d66fa0]
009ea4ac : XOR EAX,EBP
009ea4ae : PUSH EAX
009ea4af : LEA EAX,[EBP + -0xc]
009ea4b2 : MOV FS:[0x0],EAX
009ea4b8 : MOV EDI,ECX
009ea4ba : MOV EBX,dword ptr [EBP + 0xc]
009ea4bd : PUSH 0x2
009ea4bf : PUSH 0xca03c4
009ea4c4 : MOV ECX,EBX
009ea4c6 : CALL 0x00406360
009ea4cb : MOV EAX,[0x0172491c]
009ea4d0 : MOV ECX,dword ptr [EBP + 0x8]
009ea4d3 : MOV EAX,dword ptr [EAX + 0x17c]
009ea4d9 : MOVZX EDX,byte ptr [ECX + 0x40]
009ea4dd : MOV EAX,dword ptr [EAX + 0xa0]
009ea4e3 : PUSH 0x2
009ea4e5 : MOV ESI,EBX
009ea4e7 : CMP EDX,EAX
009ea4e9 : JBE 0x009ea4fa
009ea4eb : PUSH 0xca03cc
009ea4f0 : CALL 0x00404870
009ea4f5 : MOV byte ptr [EDI],0x0
009ea4f8 : JMP 0x009ea507
009ea4fa : PUSH 0xca03d4
009ea4ff : CALL 0x00404870
009ea504 : MOV byte ptr [EDI],0x1
009ea507 : PUSH 0xb
009ea509 : XOR EAX,EAX
009ea50b : XOR ESI,ESI
009ea50d : PUSH 0xca03dc
009ea512 : LEA ECX,[EBP + -0x28]
009ea515 : MOV dword ptr [EBP + -0x10],0x7
009ea51c : MOV dword ptr [EBP + -0x14],ESI
009ea51f : MOV word ptr [EBP + -0x24],AX
009ea523 : CALL 0x00406360
009ea528 : MOV dword ptr [EBP + -0x4],ESI
009ea52b : LEA ECX,[EBP + -0x28]
009ea52e : PUSH ECX
009ea52f : MOV ECX,dword ptr [0x0172491c]
009ea535 : LEA EDI,[EBP + -0x60]
009ea538 : CALL 0x0081d120
009ea53d : MOV byte ptr [EBP + -0x4],0x1
009ea541 : MOV EDI,0x8
009ea546 : CMP dword ptr [EAX + 0x18],EDI
009ea549 : JC 0x009ea550
009ea54b : MOV EAX,dword ptr [EAX + 0x4]
009ea54e : JMP 0x009ea553
009ea550 : ADD EAX,0x4
009ea553 : MOV EDX,dword ptr [EBP + 0x8]
009ea556 : MOVZX ECX,byte ptr [EDX + 0x40]
009ea55a : PUSH ECX
009ea55b : PUSH EAX
009ea55c : PUSH 0xca03f4
009ea561 : LEA ESI,[EBP + -0x44]
009ea564 : CALL 0x00404750
009ea569 : ADD ESP,0xc
009ea56c : MOV byte ptr [EBP + -0x4],0x2
009ea570 : PUSH -0x1
009ea572 : XOR ESI,ESI
009ea574 : PUSH ESI
009ea575 : PUSH EAX
009ea576 : MOV ECX,EBX
009ea578 : CALL 0x00405c30
009ea57d : MOV byte ptr [EBP + -0x4],0x1
009ea581 : CMP dword ptr [EBP + -0x2c],EDI
009ea584 : JC 0x009ea58e
009ea586 : MOV ECX,dword ptr [EBP + -0x40]
009ea589 : CALL 0x006f04e0
009ea58e : XOR EDX,EDX
009ea590 : MOV EBX,0x7
009ea595 : MOV dword ptr [EBP + -0x2c],EBX
009ea598 : MOV dword ptr [EBP + -0x30],ESI
009ea59b : MOV word ptr [EBP + -0x40],DX
009ea59f : MOV byte ptr [EBP + -0x4],DL
009ea5a2 : CMP dword ptr [EBP + -0x48],EDI
009ea5a5 : JC 0x009ea5af
009ea5a7 : MOV ECX,dword ptr [EBP + -0x5c]
009ea5aa : CALL 0x006f04e0
009ea5af : XOR EAX,EAX
009ea5b1 : MOV dword ptr [EBP + -0x48],EBX
009ea5b4 : MOV dword ptr [EBP + -0x4c],ESI
009ea5b7 : MOV word ptr [EBP + -0x5c],AX
009ea5bb : MOV dword ptr [EBP + -0x4],0xffffffff
009ea5c2 : CMP dword ptr [EBP + -0x10],EDI
009ea5c5 : JC 0x009ea5cf
009ea5c7 : MOV ECX,dword ptr [EBP + -0x24]
009ea5ca : CALL 0x006f04e0
009ea5cf : XOR ECX,ECX
009ea5d1 : MOV dword ptr [EBP + -0x10],EBX
009ea5d4 : MOV dword ptr [EBP + -0x14],ESI
009ea5d7 : MOV word ptr [EBP + -0x24],CX
009ea5db : MOV ECX,dword ptr [EBP + -0xc]
009ea5de : MOV dword ptr FS:[0x0],ECX
009ea5e5 : POP ECX
009ea5e6 : POP EDI
009ea5e7 : POP ESI
009ea5e8 : POP EBX
009ea5e9 : MOV ESP,EBP
009ea5eb : POP EBP
009ea5ec : RET
