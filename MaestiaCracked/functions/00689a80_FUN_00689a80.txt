PROGRAM  : Maestia.exe
FUNCTION : FUN_00689a80
ENTRY    : 00689a80
BODY     : [[00689a80, 00689b27]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00689a80(void)

{
  undefined4 uVar1;
  int iVar2;
  code *pcVar3;
  int iVar4;
  int iVar5;
  int *unaff_EDI;
  int local_8;
  undefined4 *local_4;
  
  local_4 = (undefined4 *)unaff_EDI[1];
  uVar1 = *local_4;
  iVar4 = FUN_00688c00(uVar1,0xc,&local_8);
  if (local_8 != 0) {
    return local_8;
  }
  iVar2 = *unaff_EDI;
  unaff_EDI[5] = iVar2;
  unaff_EDI[6] = *(int *)(iVar2 + 0x24);
  if ((*(int *)(iVar2 + 0x24) == 0x6f75746c) &&
     (pcVar3 = *(code **)(*(int *)(iVar2 + 0x38) + 4), pcVar3 != (code *)0x0)) {
    iVar5 = (*pcVar3)(uVar1,unaff_EDI + 0xf);
    if (iVar5 != 0) {
      FUN_00687f30(uVar1,iVar4);
      return iVar5;
    }
    unaff_EDI[0x10] = *(int *)(*(int *)(iVar2 + 0x38) + 0x10);
    unaff_EDI[0x11] = *(int *)(iVar2 + 0x28);
  }
  *(int **)(iVar4 + 8) = unaff_EDI;
  FUN_00688050(local_4 + 0x27,iVar4);
  FUN_00686d50();
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00689a80 : SUB ESP,0xc
00689a83 : MOV EAX,dword ptr [EDI + 0x4]
00689a86 : PUSH EBX
00689a87 : MOV EBX,dword ptr [EAX]
00689a89 : PUSH EBP
00689a8a : MOV dword ptr [ESP + 0x10],EAX
00689a8e : LEA EAX,[ESP + 0xc]
00689a92 : PUSH EAX
00689a93 : PUSH 0xc
00689a95 : PUSH EBX
00689a96 : CALL 0x00688c00
00689a9b : MOV EBP,dword ptr [ESP + 0x18]
00689a9f : ADD ESP,0xc
00689aa2 : MOV dword ptr [ESP + 0x8],EAX
00689aa6 : TEST EBP,EBP
00689aa8 : JNZ 0x00689b20
00689aaa : PUSH ESI
00689aab : MOV ESI,dword ptr [EDI]
00689aad : MOV dword ptr [EDI + 0x14],ESI
00689ab0 : MOV ECX,dword ptr [ESI + 0x24]
00689ab3 : MOV dword ptr [EDI + 0x18],ECX
00689ab6 : CMP dword ptr [ESI + 0x24],0x6f75746c
00689abd : JNZ 0x00689aec
00689abf : MOV EDX,dword ptr [ESI + 0x38]
00689ac2 : MOV ECX,dword ptr [EDX + 0x4]
00689ac5 : TEST ECX,ECX
00689ac7 : JZ 0x00689aec
00689ac9 : LEA EAX,[EDI + 0x3c]
00689acc : PUSH EAX
00689acd : PUSH EBX
00689ace : CALL ECX
00689ad0 : MOV EBP,EAX
00689ad2 : ADD ESP,0x8
00689ad5 : TEST EBP,EBP
00689ad7 : JNZ 0x00689b11
00689ad9 : MOV ECX,dword ptr [ESI + 0x38]
00689adc : MOV EDX,dword ptr [ECX + 0x10]
00689adf : MOV dword ptr [EDI + 0x40],EDX
00689ae2 : MOV EAX,dword ptr [ESI + 0x28]
00689ae5 : MOV dword ptr [EDI + 0x44],EAX
00689ae8 : MOV EAX,dword ptr [ESP + 0xc]
00689aec : MOV ESI,dword ptr [ESP + 0x14]
00689af0 : PUSH EAX
00689af1 : LEA ECX,[ESI + 0x9c]
00689af7 : PUSH ECX
00689af8 : MOV dword ptr [EAX + 0x8],EDI
00689afb : CALL 0x00688050
00689b00 : ADD ESP,0x8
00689b03 : CALL 0x00686d50
00689b08 : POP ESI
00689b09 : MOV EAX,EBP
00689b0b : POP EBP
00689b0c : POP EBX
00689b0d : ADD ESP,0xc
00689b10 : RET
00689b11 : MOV EDX,dword ptr [ESP + 0xc]
00689b15 : PUSH EDX
00689b16 : PUSH EBX
00689b17 : CALL 0x00687f30
00689b1c : ADD ESP,0x8
00689b1f : POP ESI
00689b20 : MOV EAX,EBP
00689b22 : POP EBP
00689b23 : POP EBX
00689b24 : ADD ESP,0xc
00689b27 : RET
