PROGRAM  : Maestia.exe
FUNCTION : FUN_0095b270
ENTRY    : 0095b270
BODY     : [[0095b270, 0095b3b6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0095b270(void)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int iVar5;
  int unaff_ESI;
  int iVar6;
  undefined8 uVar7;
  
  if ((*(char *)(unaff_ESI + 0x3c) != '\0') && (*(char *)(unaff_ESI + 0x54) != '\0')) {
    iVar5 = *DAT_00da9894;
    piVar3 = *(int **)(*(int *)(iVar5 + 0x24c) + 0x480);
    piVar2 = *(int **)(*(int *)(iVar5 + 0x24c) + 0x484);
    if (piVar3 != piVar2) {
      while (*piVar3 != *(int *)(unaff_ESI + 0x80)) {
        piVar3 = piVar3 + 2;
        if (piVar3 == piVar2) {
          return;
        }
      }
      if ((iVar5 != 0) && (piVar3 = *(int **)(iVar5 + 0x114), piVar3 != (int *)0x0)) {
        (**(code **)(*piVar3 + 4))
                  (piVar3,"mc_party.LoadCharPetIcons","%d,%d",*(int *)(unaff_ESI + 0x80),
                   *(undefined2 *)(unaff_ESI + 0x68));
      }
      iVar6 = 1;
      iVar5 = 6;
      do {
        uVar4 = 0;
        if (iVar6 == 4) {
          cVar1 = *(char *)(unaff_ESI + 0x126);
joined_r0x0095b30d:
          if (cVar1 != '\0') {
            uVar4 = 1;
          }
        }
        else if (iVar6 == 5) {
          cVar1 = *(char *)(unaff_ESI + 0x127);
          goto joined_r0x0095b30d;
        }
        if ((*DAT_00da9894 != 0) &&
           (piVar3 = *(int **)(*DAT_00da9894 + 0x114), piVar3 != (int *)0x0)) {
          (**(code **)(*piVar3 + 4))
                    (piVar3,"mc_party.SetPetControlSlotAnimated","%d,%d,%d",
                     *(undefined4 *)(unaff_ESI + 0x80),iVar6,uVar4);
        }
        iVar6 = iVar6 + 1;
        iVar5 = iVar5 + -1;
      } while (iVar5 != 0);
      FUN_0095b210(unaff_ESI);
      FUN_0095b1b0(unaff_ESI);
      piVar3 = DAT_00da9894;
      if (*(char *)(unaff_ESI + 0x54) == '\0') {
        uVar7 = 0;
      }
      else {
        uVar7 = FUN_009bc740();
      }
      *(undefined8 *)(unaff_ESI + 0x58) = uVar7;
      if ((*piVar3 != 0) && (piVar3 = *(int **)(*piVar3 + 0x114), piVar3 != (int *)0x0)) {
        (**(code **)(*piVar3 + 4))
                  (piVar3,"mc_party.ShowPetSlidingControlPanel","%d,%b",
                   *(undefined4 *)(unaff_ESI + 0x80),1);
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0095b270 : CMP byte ptr [ESI + 0x3c],0x0
0095b274 : JZ 0x0095b3b6
0095b27a : CMP byte ptr [ESI + 0x54],0x0
0095b27e : JZ 0x0095b3b6
0095b284 : MOV EAX,[0x00da9894]
0095b289 : MOV EDX,dword ptr [EAX]
0095b28b : MOV ECX,dword ptr [EDX + 0x24c]
0095b291 : MOV EAX,dword ptr [ECX + 0x480]
0095b297 : MOV ECX,dword ptr [ECX + 0x484]
0095b29d : PUSH EDI
0095b29e : MOV EDI,dword ptr [ESI + 0x80]
0095b2a4 : CMP EAX,ECX
0095b2a6 : JZ 0x0095b3b5
0095b2ac : LEA ESP,[ESP]
0095b2b0 : CMP dword ptr [EAX],EDI
0095b2b2 : JZ 0x0095b2bd
0095b2b4 : ADD EAX,0x8
0095b2b7 : CMP EAX,ECX
0095b2b9 : JNZ 0x0095b2b0
0095b2bb : POP EDI
0095b2bc : RET
0095b2bd : TEST EDX,EDX
0095b2bf : JZ 0x0095b2e6
0095b2c1 : MOV EAX,dword ptr [EDX + 0x114]
0095b2c7 : TEST EAX,EAX
0095b2c9 : JZ 0x0095b2e6
0095b2cb : MOVZX EDX,word ptr [ESI + 0x68]
0095b2cf : MOV ECX,dword ptr [EAX]
0095b2d1 : PUSH EDX
0095b2d2 : PUSH EDI
0095b2d3 : PUSH 0xc77008
0095b2d8 : PUSH 0xc77010
0095b2dd : PUSH EAX
0095b2de : MOV EAX,dword ptr [ECX + 0x4]
0095b2e1 : CALL EAX
0095b2e3 : ADD ESP,0x14
0095b2e6 : MOV EDI,0x1
0095b2eb : PUSH EBX
0095b2ec : LEA EBX,[EDI + 0x5]
0095b2ef : NOP
0095b2f0 : XOR ECX,ECX
0095b2f2 : CMP EDI,0x4
0095b2f5 : JNZ 0x0095b301
0095b2f7 : CMP byte ptr [ESI + 0x126],CL
0095b2fd : JNZ 0x0095b30f
0095b2ff : JMP 0x0095b314
0095b301 : CMP EDI,0x5
0095b304 : JNZ 0x0095b314
0095b306 : CMP byte ptr [ESI + 0x127],0x0
0095b30d : JZ 0x0095b314
0095b30f : MOV ECX,0x1
0095b314 : MOV EDX,dword ptr [0x00da9894]
0095b31a : MOV EAX,dword ptr [EDX]
0095b31c : TEST EAX,EAX
0095b31e : JZ 0x0095b348
0095b320 : MOV EAX,dword ptr [EAX + 0x114]
0095b326 : TEST EAX,EAX
0095b328 : JZ 0x0095b348
0095b32a : MOV EDX,dword ptr [EAX]
0095b32c : MOV EDX,dword ptr [EDX + 0x4]
0095b32f : PUSH ECX
0095b330 : MOV ECX,dword ptr [ESI + 0x80]
0095b336 : PUSH EDI
0095b337 : PUSH ECX
0095b338 : PUSH 0xc7702c
0095b33d : PUSH 0xc77038
0095b342 : PUSH EAX
0095b343 : CALL EDX
0095b345 : ADD ESP,0x18
0095b348 : INC EDI
0095b349 : SUB EBX,0x1
0095b34c : JNZ 0x0095b2f0
0095b34e : PUSH ESI
0095b34f : XOR EDI,EDI
0095b351 : CALL 0x0095b210
0095b356 : PUSH ESI
0095b357 : LEA EDI,[EBX + 0x1]
0095b35a : CALL 0x0095b1b0
0095b35f : CMP byte ptr [ESI + 0x54],BL
0095b362 : MOV EDI,dword ptr [0x00da9894]
0095b368 : POP EBX
0095b369 : JZ 0x0095b37d
0095b36b : MOV EAX,dword ptr [EDI]
0095b36d : MOV EDX,dword ptr [ESI + 0x4c]
0095b370 : MOV EAX,dword ptr [EAX + 0x24c]
0095b376 : CALL 0x009bc740
0095b37b : JMP 0x0095b381
0095b37d : XOR EAX,EAX
0095b37f : XOR EDX,EDX
0095b381 : MOV dword ptr [ESI + 0x58],EAX
0095b384 : MOV dword ptr [ESI + 0x5c],EDX
0095b387 : MOV EAX,dword ptr [EDI]
0095b389 : TEST EAX,EAX
0095b38b : JZ 0x0095b3b5
0095b38d : MOV EAX,dword ptr [EAX + 0x114]
0095b393 : TEST EAX,EAX
0095b395 : JZ 0x0095b3b5
0095b397 : MOV EDX,dword ptr [ESI + 0x80]
0095b39d : MOV ECX,dword ptr [EAX]
0095b39f : PUSH 0x1
0095b3a1 : PUSH EDX
0095b3a2 : PUSH 0xc7705c
0095b3a7 : PUSH 0xc77064
0095b3ac : PUSH EAX
0095b3ad : MOV EAX,dword ptr [ECX + 0x4]
0095b3b0 : CALL EAX
0095b3b2 : ADD ESP,0x14
0095b3b5 : POP EDI
0095b3b6 : RET
