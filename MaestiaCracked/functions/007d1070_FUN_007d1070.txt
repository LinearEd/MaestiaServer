PROGRAM  : Maestia.exe
FUNCTION : FUN_007d1070
ENTRY    : 007d1070
BODY     : [[007d1070, 007d10d6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d1070(undefined4 param_1)

{
  int iVar1;
  undefined4 *puVar2;
  uint uVar3;
  int unaff_EDI;
  
  iVar1 = *(int *)(unaff_EDI + 0x3c);
  if (iVar1 == 0) {
    uVar3 = 0;
  }
  else {
    uVar3 = *(int *)(unaff_EDI + 0x44) - iVar1 >> 2;
  }
  puVar2 = *(undefined4 **)(unaff_EDI + 0x40);
  if ((uint)((int)puVar2 - iVar1 >> 2) < uVar3) {
    *puVar2 = param_1;
    *(undefined4 **)(unaff_EDI + 0x40) = puVar2 + 1;
    *(short *)(unaff_EDI + 0x48) = (short)((int)(puVar2 + 1) - *(int *)(unaff_EDI + 0x3c) >> 2);
    return;
  }
  FUN_0042fe80(unaff_EDI + 0x38,puVar2,&param_1);
  *(short *)(unaff_EDI + 0x48) =
       (short)(*(int *)(unaff_EDI + 0x40) - *(int *)(unaff_EDI + 0x3c) >> 2);
  return;
}



============================================================
DISASSEMBLY
============================================================
007d1070 : PUSH EBP
007d1071 : MOV EBP,ESP
007d1073 : PUSH ECX
007d1074 : MOV EDX,dword ptr [EDI + 0x3c]
007d1077 : PUSH EBX
007d1078 : PUSH ESI
007d1079 : LEA ESI,[EDI + 0x38]
007d107c : TEST EDX,EDX
007d107e : JNZ 0x007d1084
007d1080 : XOR EAX,EAX
007d1082 : JMP 0x007d108c
007d1084 : MOV EAX,dword ptr [ESI + 0xc]
007d1087 : SUB EAX,EDX
007d1089 : SAR EAX,0x2
007d108c : MOV ECX,dword ptr [ESI + 0x8]
007d108f : MOV EBX,ECX
007d1091 : SUB EBX,EDX
007d1093 : SAR EBX,0x2
007d1096 : CMP EBX,EAX
007d1098 : JNC 0x007d10b8
007d109a : MOV EAX,dword ptr [EBP + 0x8]
007d109d : MOV dword ptr [ECX],EAX
007d109f : ADD ECX,0x4
007d10a2 : MOV dword ptr [ESI + 0x8],ECX
007d10a5 : MOV EAX,ECX
007d10a7 : SUB EAX,dword ptr [ESI + 0x4]
007d10aa : SAR EAX,0x2
007d10ad : MOV word ptr [EDI + 0x48],AX
007d10b1 : POP ESI
007d10b2 : POP EBX
007d10b3 : POP ECX
007d10b4 : POP EBP
007d10b5 : RET 0x4
007d10b8 : LEA EDX,[EBP + 0x8]
007d10bb : PUSH EDX
007d10bc : PUSH ECX
007d10bd : PUSH ESI
007d10be : CALL 0x0042fe80
007d10c3 : MOV EAX,dword ptr [ESI + 0x8]
007d10c6 : SUB EAX,dword ptr [ESI + 0x4]
007d10c9 : POP ESI
007d10ca : SAR EAX,0x2
007d10cd : MOV word ptr [EDI + 0x48],AX
007d10d1 : POP EBX
007d10d2 : POP ECX
007d10d3 : POP EBP
007d10d4 : RET 0x4
