PROGRAM  : Maestia.exe
FUNCTION : FUN_004743b0
ENTRY    : 004743b0
BODY     : [[004743b0, 00474425]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_004743b0(void *param_1,int param_2)

{
  int iVar1;
  char cVar2;
  int iVar3;
  int unaff_ESI;
  
  if (*(int *)(unaff_ESI + 0x58) != 0) {
    iVar1 = *(int *)(unaff_ESI + 0x4c);
    iVar3 = *(int *)(unaff_ESI + 0x58) * param_2 + iVar1;
    cVar2 = FUN_00471970(unaff_ESI + 0x44,iVar3);
    if (cVar2 == '\0') {
      *(undefined4 *)(unaff_ESI + 0x4c) = *(undefined4 *)(unaff_ESI + 0x50);
    }
    else {
      *(int *)(unaff_ESI + 0x4c) = iVar3;
    }
    _memcpy((void *)(*(int *)(unaff_ESI + 0x48) + iVar1),param_1,
            *(int *)(unaff_ESI + 0x58) * param_2);
    *(int *)(unaff_ESI + 0x5c) = *(int *)(unaff_ESI + 0x5c) + param_2;
    return 1;
  }
  FUN_00807d70("CGeometryBufferRI::AppendIndices, index buffer format must be set first");
  return 0;
}



============================================================
DISASSEMBLY
============================================================
004743b0 : PUSH EBP
004743b1 : MOV EBP,ESP
004743b3 : PUSH ECX
004743b4 : MOV EAX,dword ptr [ESI + 0x58]
004743b7 : PUSH EBX
004743b8 : XOR BL,BL
004743ba : TEST EAX,EAX
004743bc : JBE 0x00474410
004743be : IMUL EAX,dword ptr [EBP + 0xc]
004743c2 : MOV EBX,dword ptr [ESI + 0x4c]
004743c5 : PUSH EDI
004743c6 : ADD EAX,EBX
004743c8 : PUSH EAX
004743c9 : LEA EDI,[ESI + 0x44]
004743cc : PUSH EDI
004743cd : MOV dword ptr [EBP + -0x4],EAX
004743d0 : CALL 0x00471970
004743d5 : TEST AL,AL
004743d7 : JZ 0x004743e1
004743d9 : MOV EAX,dword ptr [EBP + -0x4]
004743dc : MOV dword ptr [EDI + 0x8],EAX
004743df : JMP 0x004743e7
004743e1 : MOV ECX,dword ptr [EDI + 0xc]
004743e4 : MOV dword ptr [EDI + 0x8],ECX
004743e7 : MOV EDX,dword ptr [ESI + 0x58]
004743ea : MOV EDI,dword ptr [EBP + 0xc]
004743ed : MOV EAX,dword ptr [EBP + 0x8]
004743f0 : IMUL EDX,EDI
004743f3 : MOV ECX,dword ptr [ESI + 0x48]
004743f6 : PUSH EDX
004743f7 : PUSH EAX
004743f8 : ADD ECX,EBX
004743fa : PUSH ECX
004743fb : CALL 0x0063ae40
00474400 : ADD ESP,0xc
00474403 : ADD dword ptr [ESI + 0x5c],EDI
00474406 : POP EDI
00474407 : MOV AL,0x1
00474409 : POP EBX
0047440a : MOV ESP,EBP
0047440c : POP EBP
0047440d : RET 0x8
00474410 : PUSH 0xcd5f40
00474415 : CALL 0x00807d70
0047441a : ADD ESP,0x4
0047441d : MOV AL,BL
0047441f : POP EBX
00474420 : MOV ESP,EBP
00474422 : POP EBP
00474423 : RET 0x8
