PROGRAM  : Maestia.exe
FUNCTION : FUN_00804060
ENTRY    : 00804060
BODY     : [[00804060, 008040d0]]

============================================================
DECOMPILED C CODE
============================================================

undefined1 FUN_00804060(int *param_1)

{
  int *piVar1;
  undefined1 uVar2;
  int iVar3;
  int iVar4;
  int unaff_ESI;
  int *piVar5;
  int in_XMM0_Da;
  
  piVar1 = param_1;
  param_1._0_1_ = 0;
  uVar2 = 0;
  if (*(int *)(unaff_ESI + 8) + 4U <= *(uint *)(unaff_ESI + 4)) {
    iVar3 = FUN_004575f0();
    iVar4 = 0;
    *piVar1 = iVar3;
    if (0 < iVar3) {
      piVar5 = piVar1 + 1;
      param_1._0_1_ = 0;
      do {
        if (*(int *)(unaff_ESI + 8) + 4U <= *(uint *)(unaff_ESI + 4)) {
          iVar3 = FUN_004575f0();
          *piVar5 = iVar3;
          FUN_00457650();
          piVar5[1] = in_XMM0_Da;
          param_1._0_1_ = 1;
        }
        iVar4 = iVar4 + 1;
        piVar5 = piVar5 + 0x2a;
      } while (iVar4 < *piVar1);
    }
    uVar2 = 1;
    if (*piVar1 != 0) {
      uVar2 = param_1._0_1_;
    }
  }
  return uVar2;
}



============================================================
DISASSEMBLY
============================================================
00804060 : MOV ECX,dword ptr [ESI + 0x8]
00804063 : XOR AL,AL
00804065 : ADD ECX,0x4
00804068 : PUSH EBX
00804069 : MOV EBX,dword ptr [ESP + 0x8]
0080406d : MOV byte ptr [ESP + 0x8],AL
00804071 : CMP ECX,dword ptr [ESI + 0x4]
00804074 : JA 0x008040cd
00804076 : PUSH EBP
00804077 : MOV EAX,ESI
00804079 : CALL 0x004575f0
0080407e : XOR EBP,EBP
00804080 : MOV dword ptr [EBX],EAX
00804082 : TEST EAX,EAX
00804084 : JLE 0x008040c1
00804086 : PUSH EDI
00804087 : LEA EDI,[EBX + 0x4]
0080408a : LEA EBX,[EBX]
00804090 : MOV EDX,dword ptr [ESI + 0x8]
00804093 : ADD EDX,0x4
00804096 : CMP EDX,dword ptr [ESI + 0x4]
00804099 : JA 0x008040b5
0080409b : MOV EAX,ESI
0080409d : CALL 0x004575f0
008040a2 : MOV dword ptr [EDI],EAX
008040a4 : MOV EAX,ESI
008040a6 : CALL 0x00457650
008040ab : MOVSS dword ptr [EDI + 0x4],XMM0
008040b0 : MOV byte ptr [ESP + 0x10],0x1
008040b5 : INC EBP
008040b6 : ADD EDI,0xa8
008040bc : CMP EBP,dword ptr [EBX]
008040be : JL 0x00804090
008040c0 : POP EDI
008040c1 : CMP dword ptr [EBX],0x0
008040c4 : POP EBP
008040c5 : MOV AL,0x1
008040c7 : JZ 0x008040cd
008040c9 : MOV AL,byte ptr [ESP + 0x8]
008040cd : POP EBX
008040ce : RET 0x4
