PROGRAM  : Maestia.exe
FUNCTION : FUN_00512c60
ENTRY    : 00512c60
BODY     : [[00512c60, 00512ca0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00512c60(void)

{
  LONG LVar1;
  int in_ECX;
  uint uVar2;
  
  uVar2 = *(uint *)(in_ECX + 8) & 0xfffffffc;
  LVar1 = InterlockedExchangeAdd((LONG *)(uVar2 + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(uVar2);
  }
  uVar2 = *(uint *)(in_ECX + 4) & 0xfffffffc;
  LVar1 = InterlockedExchangeAdd((LONG *)(uVar2 + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(uVar2);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00512c60 : PUSH EBX
00512c61 : MOV EBX,dword ptr [0x00b851cc]
00512c67 : PUSH ESI
00512c68 : PUSH EDI
00512c69 : MOV EDI,ECX
00512c6b : MOV ESI,dword ptr [EDI + 0x8]
00512c6e : AND ESI,0xfffffffc
00512c71 : PUSH -0x1
00512c73 : LEA EAX,[ESI + 0x4]
00512c76 : PUSH EAX
00512c77 : CALL EBX
00512c79 : SUB EAX,0x1
00512c7c : JNZ 0x00512c84
00512c7e : PUSH ESI
00512c7f : CALL 0x00515cf0
00512c84 : MOV ESI,dword ptr [EDI + 0x4]
00512c87 : AND ESI,0xfffffffc
00512c8a : PUSH -0x1
00512c8c : LEA ECX,[ESI + 0x4]
00512c8f : PUSH ECX
00512c90 : CALL EBX
00512c92 : SUB EAX,0x1
00512c95 : JNZ 0x00512c9d
00512c97 : PUSH ESI
00512c98 : CALL 0x00515cf0
00512c9d : POP EDI
00512c9e : POP ESI
00512c9f : POP EBX
00512ca0 : RET
