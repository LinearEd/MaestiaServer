PROGRAM  : Maestia.exe
FUNCTION : FUN_005aa2c0
ENTRY    : 005aa2c0
BODY     : [[005aa2c0, 005aa34c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005aa2c0(void)

{
  longlong lVar1;
  undefined8 uVar2;
  LARGE_INTEGER local_8;
  
  lVar1 = CONCAT44(DAT_00d7b33c,DAT_00d7b338);
  if (DAT_00d7b340 == '\0') {
    QueryPerformanceFrequency((LARGE_INTEGER *)&DAT_00d7b338);
    lVar1 = __alldiv(DAT_00d7b338,DAT_00d7b33c,0x1e84,0);
    DAT_00d7b340 = '\x01';
    if (lVar1 == 0) {
      lVar1 = 1;
    }
  }
  DAT_00d7b33c = (undefined4)((ulonglong)lVar1 >> 0x20);
  DAT_00d7b338 = (undefined4)lVar1;
  QueryPerformanceCounter(&local_8);
  uVar2 = __allmul(local_8.s.LowPart,local_8.s.HighPart,0x80,0);
  __alldiv(uVar2,DAT_00d7b338,DAT_00d7b33c);
  return;
}



============================================================
DISASSEMBLY
============================================================
005aa2c0 : SUB ESP,0x8
005aa2c3 : CMP byte ptr [0x00d7b340],0x0
005aa2ca : JNZ 0x005aa315
005aa2cc : PUSH 0xd7b338
005aa2d1 : CALL dword ptr [0x00b853b4]
005aa2d7 : MOV EAX,[0x00d7b33c]
005aa2dc : MOV ECX,dword ptr [0x00d7b338]
005aa2e2 : PUSH 0x0
005aa2e4 : PUSH 0x1e84
005aa2e9 : PUSH EAX
005aa2ea : PUSH ECX
005aa2eb : CALL 0x0063c760
005aa2f0 : MOV [0x00d7b338],EAX
005aa2f5 : OR EAX,EDX
005aa2f7 : MOV ECX,0x1
005aa2fc : MOV dword ptr [0x00d7b33c],EDX
005aa302 : MOV byte ptr [0x00d7b340],CL
005aa308 : JNZ 0x005aa315
005aa30a : MOV dword ptr [0x00d7b338],ECX
005aa310 : MOV [0x00d7b33c],EAX
005aa315 : LEA EDX,[ESP]
005aa318 : PUSH EDX
005aa319 : CALL dword ptr [0x00b85258]
005aa31f : MOV EAX,dword ptr [ESP + 0x4]
005aa323 : MOV ECX,dword ptr [ESP]
005aa326 : PUSH 0x0
005aa328 : PUSH 0x80
005aa32d : PUSH EAX
005aa32e : PUSH ECX
005aa32f : CALL 0x0063c720
005aa334 : MOV ECX,dword ptr [0x00d7b33c]
005aa33a : PUSH ECX
005aa33b : MOV ECX,dword ptr [0x00d7b338]
005aa341 : PUSH ECX
005aa342 : PUSH EDX
005aa343 : PUSH EAX
005aa344 : CALL 0x0063c760
005aa349 : ADD ESP,0x8
005aa34c : RET
