PROGRAM  : Maestia.exe
FUNCTION : FUN_0095b900
ENTRY    : 0095b900
BODY     : [[0095b900, 0095bb37]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0095b900(int param_1)

{
  int iVar1;
  undefined2 uVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  undefined4 ****ppppuVar6;
  int *piVar7;
  uint local_40;
  int local_3c;
  int local_38;
  char local_34;
  char local_33;
  char local_32;
  char local_31;
  undefined4 ***local_2c [4];
  int local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar1 = DAT_00d7c54c;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b202c4;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar4 = *(int *)(param_1 + 0x194) - *(int *)(param_1 + 400) >> 2;
  local_33 = '\0';
  local_34 = '\0';
  local_31 = '\0';
  local_32 = '\0';
  local_14 = uVar3;
  if (0 < iVar4) {
    piVar7 = *(int **)(param_1 + 400);
    local_38 = iVar4;
    do {
      uVar5 = *(uint *)(*piVar7 + 4) >> 0x10;
      if (uVar5 == 0x140b) {
        local_33 = '\x01';
      }
      else if (uVar5 == 0x1441) {
        local_34 = '\x01';
      }
      else if (uVar5 == 0x1410) {
        local_40 = *(uint *)(*piVar7 + 4);
        FUN_004437f0(&local_40);
        if (((local_3c != *(int *)(iVar1 + 0x44)) && (*(int *)(local_3c + 0x10) != 0)) &&
           (*(int *)(*(int *)(local_3c + 0x10) + 0x1ac) < 0)) {
          local_31 = '\x01';
        }
      }
      else if (uVar5 == 0x140e) {
        local_32 = '\x01';
      }
      piVar7 = piVar7 + 1;
      local_38 = local_38 + -1;
    } while (local_38 != 0);
    local_38 = 0;
  }
  local_18 = 0xf;
  local_1c = 0;
  local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffffff00);
  local_8 = 0;
  if ((local_33 == '\x01') || (local_34 == '\x01')) {
    FUN_00404b50("StunStateAndFearState",0x15);
  }
  else if ((local_33 == '\0') && (local_34 == '\0')) {
    if (local_31 == '\x01') {
      if (local_32 == '\x01') {
        FUN_0040eec0("DOTStateAndSilenceState");
      }
      else if (local_32 == '\0') {
        FUN_0040eec0("DOTState");
      }
    }
    else if (local_31 == '\0') {
      if (local_32 == '\x01') {
        FUN_0040eec0("SilenceState");
      }
      else if (local_32 == '\0') {
        FUN_0040eec0("NomalState");
      }
    }
  }
  piVar7 = DAT_00da9894;
  iVar1 = *DAT_00da9894;
  uVar2 = 0;
  if (((*(int *)(iVar1 + 0x14c) != 0) && (*(int *)(iVar1 + 0x28c) != 0)) &&
     (*(char *)(*(int *)(iVar1 + 0x14c) + 0x98) != '\0')) {
    uVar2 = FUN_0092b5a0(*(undefined4 *)(param_1 + 0x4c));
  }
  if (((local_1c != 0) && (iVar1 = *piVar7, iVar1 != 0)) && (*(int *)(iVar1 + 0x114) != 0)) {
    ppppuVar6 = (undefined4 ****)local_2c[0];
    if (local_18 < 0x10) {
      ppppuVar6 = local_2c;
    }
    (**(code **)(**(int **)(iVar1 + 0x114) + 4))
              (*(int **)(iVar1 + 0x114),"MyInfoSetState","%s,%s,%d,%d","Party",ppppuVar6,
               *(undefined4 *)(param_1 + 0x80),uVar2,uVar3);
  }
  local_8 = 0xffffffff;
  if (0xf < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 0xf;
  local_1c = 0;
  local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffffff00);
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0095b900 : PUSH EBP
0095b901 : MOV EBP,ESP
0095b903 : PUSH -0x1
0095b905 : PUSH 0xb202c4
0095b90a : MOV EAX,FS:[0x0]
0095b910 : PUSH EAX
0095b911 : SUB ESP,0x30
0095b914 : MOV EAX,[0x00d66fa0]
0095b919 : XOR EAX,EBP
0095b91b : MOV dword ptr [EBP + -0x10],EAX
0095b91e : PUSH EBX
0095b91f : PUSH ESI
0095b920 : PUSH EDI
0095b921 : PUSH EAX
0095b922 : LEA EAX,[EBP + -0xc]
0095b925 : MOV FS:[0x0],EAX
0095b92b : MOV EBX,dword ptr [EBP + 0x8]
0095b92e : MOV EAX,dword ptr [EBX + 0x194]
0095b934 : SUB EAX,dword ptr [EBX + 0x190]
0095b93a : XOR CL,CL
0095b93c : XOR DL,DL
0095b93e : SAR EAX,0x2
0095b941 : MOV byte ptr [EBP + -0x2f],CL
0095b944 : MOV byte ptr [EBP + -0x30],CL
0095b947 : MOV byte ptr [EBP + -0x2d],CL
0095b94a : MOV byte ptr [EBP + -0x2e],DL
0095b94d : TEST EAX,EAX
0095b94f : JLE 0x0095b9db
0095b955 : MOV ESI,dword ptr [EBX + 0x190]
0095b95b : MOV EDI,dword ptr [0x00d7c54c]
0095b961 : MOV dword ptr [EBP + -0x34],EAX
0095b964 : MOV EAX,dword ptr [ESI]
0095b966 : MOV ECX,dword ptr [EAX + 0x4]
0095b969 : MOV EAX,ECX
0095b96b : SHR EAX,0x10
0095b96e : CMP EAX,0x140b
0095b973 : JNZ 0x0095b97b
0095b975 : MOV byte ptr [EBP + -0x2f],0x1
0095b979 : JMP 0x0095b9cc
0095b97b : CMP EAX,0x1441
0095b980 : JNZ 0x0095b988
0095b982 : MOV byte ptr [EBP + -0x30],0x1
0095b986 : JMP 0x0095b9cc
0095b988 : CMP EAX,0x1410
0095b98d : JNZ 0x0095b9c1
0095b98f : MOV dword ptr [EBP + -0x3c],ECX
0095b992 : LEA ECX,[EBP + -0x3c]
0095b995 : PUSH ECX
0095b996 : LEA ECX,[EDI + 0x40]
0095b999 : LEA EAX,[EBP + -0x38]
0095b99c : CALL 0x004437f0
0095b9a1 : MOV EAX,dword ptr [EDI + 0x44]
0095b9a4 : MOV ECX,dword ptr [EBP + -0x38]
0095b9a7 : CMP ECX,EAX
0095b9a9 : JZ 0x0095b9cc
0095b9ab : MOV EAX,dword ptr [ECX + 0x10]
0095b9ae : TEST EAX,EAX
0095b9b0 : JZ 0x0095b9cc
0095b9b2 : CMP dword ptr [EAX + 0x1ac],0x0
0095b9b9 : JGE 0x0095b9cc
0095b9bb : MOV byte ptr [EBP + -0x2d],0x1
0095b9bf : JMP 0x0095b9cc
0095b9c1 : CMP EAX,0x140e
0095b9c6 : JNZ 0x0095b9cc
0095b9c8 : MOV byte ptr [EBP + -0x2e],0x1
0095b9cc : ADD ESI,0x4
0095b9cf : SUB dword ptr [EBP + -0x34],0x1
0095b9d3 : JNZ 0x0095b964
0095b9d5 : MOV DL,byte ptr [EBP + -0x2e]
0095b9d8 : MOV CL,byte ptr [EBP + -0x2f]
0095b9db : XOR EDI,EDI
0095b9dd : MOV dword ptr [EBP + -0x14],0xf
0095b9e4 : MOV dword ptr [EBP + -0x18],EDI
0095b9e7 : MOV byte ptr [EBP + -0x28],0x0
0095b9eb : MOV dword ptr [EBP + -0x4],EDI
0095b9ee : CMP CL,0x1
0095b9f1 : JZ 0x0095ba5a
0095b9f3 : MOV AL,byte ptr [EBP + -0x30]
0095b9f6 : CMP AL,0x1
0095b9f8 : JZ 0x0095ba5a
0095b9fa : TEST CL,CL
0095b9fc : JNZ 0x0095ba69
0095b9fe : TEST AL,AL
0095ba00 : JNZ 0x0095ba69
0095ba02 : MOV AL,byte ptr [EBP + -0x2d]
0095ba05 : CMP AL,0x1
0095ba07 : JNZ 0x0095ba2f
0095ba09 : CMP DL,AL
0095ba0b : JNZ 0x0095ba1c
0095ba0d : PUSH 0xc773c4
0095ba12 : LEA ECX,[EBP + -0x2c]
0095ba15 : CALL 0x0040eec0
0095ba1a : JMP 0x0095ba69
0095ba1c : TEST DL,DL
0095ba1e : JNZ 0x0095ba69
0095ba20 : PUSH 0xc773dc
0095ba25 : LEA ECX,[EBP + -0x2c]
0095ba28 : CALL 0x0040eec0
0095ba2d : JMP 0x0095ba69
0095ba2f : TEST AL,AL
0095ba31 : JNZ 0x0095ba69
0095ba33 : CMP DL,0x1
0095ba36 : JNZ 0x0095ba47
0095ba38 : PUSH 0xc773e8
0095ba3d : LEA ECX,[EBP + -0x2c]
0095ba40 : CALL 0x0040eec0
0095ba45 : JMP 0x0095ba69
0095ba47 : TEST DL,DL
0095ba49 : JNZ 0x0095ba69
0095ba4b : PUSH 0xc773f8
0095ba50 : LEA ECX,[EBP + -0x2c]
0095ba53 : CALL 0x0040eec0
0095ba58 : JMP 0x0095ba69
0095ba5a : PUSH 0x15
0095ba5c : PUSH 0xc773ac
0095ba61 : LEA ECX,[EBP + -0x2c]
0095ba64 : CALL 0x00404b50
0095ba69 : MOV ESI,dword ptr [0x00da9894]
0095ba6f : MOV EAX,dword ptr [ESI]
0095ba71 : XOR EDX,EDX
0095ba73 : CMP dword ptr [EAX + 0x14c],EDI
0095ba79 : JZ 0x0095baa6
0095ba7b : CMP dword ptr [EAX + 0x28c],EDI
0095ba81 : JZ 0x0095baa6
0095ba83 : MOV ECX,dword ptr [EAX + 0x14c]
0095ba89 : CMP byte ptr [ECX + 0x98],DL
0095ba8f : JZ 0x0095baa6
0095ba91 : MOV EDX,dword ptr [EBX + 0x4c]
0095ba94 : MOV EAX,dword ptr [EAX + 0x28c]
0095ba9a : MOV EDI,dword ptr [EBX + 0x50]
0095ba9d : PUSH EDX
0095ba9e : CALL 0x0092b5a0
0095baa3 : MOVZX EDX,AX
0095baa6 : CMP dword ptr [EBP + -0x18],0x0
0095baaa : MOV EDI,0x10
0095baaf : JBE 0x0095baf4
0095bab1 : MOV EAX,dword ptr [ESI]
0095bab3 : TEST EAX,EAX
0095bab5 : JZ 0x0095baf4
0095bab7 : CMP dword ptr [EAX + 0x114],0x0
0095babe : JZ 0x0095baf4
0095bac0 : MOV EAX,dword ptr [EAX + 0x114]
0095bac6 : MOV ECX,dword ptr [EBP + -0x28]
0095bac9 : CMP dword ptr [EBP + -0x14],EDI
0095bacc : JNC 0x0095bad1
0095bace : LEA ECX,[EBP + -0x28]
0095bad1 : MOV ESI,dword ptr [EAX]
0095bad3 : PUSH EDX
0095bad4 : MOV EDX,dword ptr [EBX + 0x80]
0095bada : PUSH EDX
0095badb : PUSH ECX
0095badc : PUSH 0xc77404
0095bae1 : PUSH 0xc7740c
0095bae6 : PUSH 0xc77418
0095baeb : PUSH EAX
0095baec : MOV EAX,dword ptr [ESI + 0x4]
0095baef : CALL EAX
0095baf1 : ADD ESP,0x1c
0095baf4 : MOV dword ptr [EBP + -0x4],0xffffffff
0095bafb : CMP dword ptr [EBP + -0x14],EDI
0095bafe : JC 0x0095bb08
0095bb00 : MOV ECX,dword ptr [EBP + -0x28]
0095bb03 : CALL 0x006f04e0
0095bb08 : MOV dword ptr [EBP + -0x14],0xf
0095bb0f : MOV dword ptr [EBP + -0x18],0x0
0095bb16 : MOV byte ptr [EBP + -0x28],0x0
0095bb1a : MOV ECX,dword ptr [EBP + -0xc]
0095bb1d : MOV dword ptr FS:[0x0],ECX
0095bb24 : POP ECX
0095bb25 : POP EDI
0095bb26 : POP ESI
0095bb27 : POP EBX
0095bb28 : MOV ECX,dword ptr [EBP + -0x10]
0095bb2b : XOR ECX,EBP
0095bb2d : CALL 0x00633e6b
0095bb32 : MOV ESP,EBP
0095bb34 : POP EBP
0095bb35 : RET 0x4
