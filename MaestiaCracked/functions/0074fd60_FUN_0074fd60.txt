PROGRAM  : Maestia.exe
FUNCTION : FUN_0074fd60
ENTRY    : 0074fd60
BODY     : [[0074fd60, 0074ff03]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0074fd60(undefined4 param_1,undefined4 param_2)

{
  longlong lVar1;
  undefined4 uVar2;
  int iVar3;
  void *_Dst;
  short in_CX;
  int iVar4;
  int unaff_ESI;
  int *unaff_EDI;
  
  if (unaff_EDI == (int *)0x0) {
    return 0;
  }
  while( true ) {
    while( true ) {
      while( true ) {
        if ((*(int *)(DAT_01725228 + 0x18) == 0) && (in_CX == 0x60)) {
          in_CX = 0x27;
        }
        iVar4 = *(int *)(*(int *)(unaff_ESI + 0xb0) + 0x54);
        uVar2 = FUN_00686bf0(*(int *)(unaff_ESI + 0xb0),in_CX);
        iVar3 = FUN_00688ff0(*(undefined4 *)(unaff_ESI + 0xb0),uVar2,0);
        if (iVar3 == 0) break;
        in_CX = 0x3f;
      }
      iVar3 = FUN_00688770(iVar4,0);
      if (iVar3 == 0) break;
      in_CX = 0x3f;
    }
    iVar3 = FUN_0068b9b0(*(undefined4 *)(unaff_ESI + 0xac),iVar4 + 0x4c,
                         *(undefined4 *)(unaff_ESI + 0xa4),*(undefined4 *)(unaff_ESI + 0xa8));
    if ((iVar3 == 0) ||
       (iVar3 = FUN_00689290(*(undefined4 *)(unaff_ESI + 0xb0),in_CX,4), iVar3 == 0)) break;
    in_CX = 0x3f;
  }
  iVar3 = -(int)((float)*(int *)(unaff_ESI + 0x84) * -1.2) - *(int *)(iVar4 + 0x68);
  *unaff_EDI = iVar3;
  if (iVar3 < 0) {
    *unaff_EDI = 0;
  }
  iVar3 = *(int *)(unaff_ESI + 0x8c) * *(int *)(unaff_ESI + 0x90) + *(int *)(iVar4 + 0x50);
  unaff_EDI[1] = iVar3;
  iVar4 = *(int *)(unaff_ESI + 0x8c) * *(int *)(unaff_ESI + 0x90) + *(int *)(iVar4 + 0x4c);
  unaff_EDI[2] = iVar4;
  lVar1 = (ulonglong)(uint)(iVar3 * iVar4) * 4;
  _Dst = (void *)FUN_006f0820(-(uint)((int)((ulonglong)lVar1 >> 0x20) != 0) | (uint)lVar1);
  unaff_EDI[3] = (int)_Dst;
  _memset(_Dst,0,unaff_EDI[1] * unaff_EDI[2] * 4);
  iVar4 = *(int *)(unaff_ESI + 0x8c);
  if (iVar4 == 0) {
    FUN_0074d110(unaff_EDI[3],param_1,param_2);
  }
  else {
    if (iVar4 == 1) {
      FUN_0074cf70(param_1,param_2);
      return 1;
    }
    if (iVar4 == 2) {
      FUN_0074cb40(unaff_ESI,unaff_EDI[3],param_1,param_2);
      return 1;
    }
  }
  return 1;
}



============================================================
DISASSEMBLY
============================================================
0074fd60 : PUSH EBP
0074fd61 : MOV EBP,ESP
0074fd63 : PUSH ECX
0074fd64 : TEST EDI,EDI
0074fd66 : JZ 0x0074fe17
0074fd6c : PUSH EBX
0074fd6d : LEA ECX,[ECX]
0074fd70 : MOV EAX,[0x01725228]
0074fd75 : CMP dword ptr [EAX + 0x18],0x0
0074fd79 : JNZ 0x0074fd86
0074fd7b : CMP CX,0x60
0074fd7f : JNZ 0x0074fd86
0074fd81 : MOV ECX,0x27
0074fd86 : MOV EAX,dword ptr [ESI + 0xb0]
0074fd8c : MOV EBX,dword ptr [EAX + 0x54]
0074fd8f : MOVZX ECX,CX
0074fd92 : PUSH ECX
0074fd93 : PUSH EAX
0074fd94 : MOV dword ptr [EBP + -0x4],ECX
0074fd97 : CALL 0x00686bf0
0074fd9c : MOV ECX,dword ptr [ESI + 0xb0]
0074fda2 : PUSH 0x0
0074fda4 : PUSH EAX
0074fda5 : PUSH ECX
0074fda6 : CALL 0x00688ff0
0074fdab : ADD ESP,0x14
0074fdae : TEST EAX,EAX
0074fdb0 : JZ 0x0074fdb9
0074fdb2 : MOV ECX,0x3f
0074fdb7 : JMP 0x0074fd70
0074fdb9 : PUSH 0x0
0074fdbb : PUSH EBX
0074fdbc : CALL 0x00688770
0074fdc1 : ADD ESP,0x8
0074fdc4 : TEST EAX,EAX
0074fdc6 : JZ 0x0074fdcf
0074fdc8 : MOV ECX,0x3f
0074fdcd : JMP 0x0074fd70
0074fdcf : MOV EDX,dword ptr [ESI + 0xa8]
0074fdd5 : MOV EAX,dword ptr [ESI + 0xa4]
0074fddb : PUSH EDX
0074fddc : MOV EDX,dword ptr [ESI + 0xac]
0074fde2 : PUSH EAX
0074fde3 : LEA ECX,[EBX + 0x4c]
0074fde6 : PUSH ECX
0074fde7 : PUSH EDX
0074fde8 : CALL 0x0068b9b0
0074fded : ADD ESP,0x10
0074fdf0 : TEST EAX,EAX
0074fdf2 : JZ 0x0074fe1f
0074fdf4 : MOV EAX,dword ptr [EBP + -0x4]
0074fdf7 : MOV ECX,dword ptr [ESI + 0xb0]
0074fdfd : PUSH 0x4
0074fdff : PUSH EAX
0074fe00 : PUSH ECX
0074fe01 : CALL 0x00689290
0074fe06 : ADD ESP,0xc
0074fe09 : TEST EAX,EAX
0074fe0b : JZ 0x0074fe1f
0074fe0d : MOV ECX,0x3f
0074fe12 : JMP 0x0074fd70
0074fe17 : XOR AL,AL
0074fe19 : MOV ESP,EBP
0074fe1b : POP EBP
0074fe1c : RET 0x8
0074fe1f : MOV EAX,dword ptr [EBX + 0x68]
0074fe22 : CVTSI2SS XMM0,dword ptr [ESI + 0x84]
0074fe2a : MULSS XMM0,dword ptr [0x00cdf7a8]
0074fe32 : NEG EAX
0074fe34 : CVTTSS2SI EDX,XMM0
0074fe38 : SUB EAX,EDX
0074fe3a : MOV dword ptr [EDI],EAX
0074fe3c : JNS 0x0074fe44
0074fe3e : MOV dword ptr [EDI],0x0
0074fe44 : MOV EAX,dword ptr [ESI + 0x8c]
0074fe4a : IMUL EAX,dword ptr [ESI + 0x90]
0074fe51 : ADD EAX,dword ptr [EBX + 0x50]
0074fe54 : MOV dword ptr [EDI + 0x4],EAX
0074fe57 : MOV ECX,dword ptr [ESI + 0x8c]
0074fe5d : IMUL ECX,dword ptr [ESI + 0x90]
0074fe64 : MOV EDX,dword ptr [EBX + 0x4c]
0074fe67 : ADD ECX,EDX
0074fe69 : IMUL EAX,ECX
0074fe6c : MOV dword ptr [EDI + 0x8],ECX
0074fe6f : XOR ECX,ECX
0074fe71 : MOV EDX,0x4
0074fe76 : MUL EDX
0074fe78 : SETO CL
0074fe7b : NEG ECX
0074fe7d : OR ECX,EAX
0074fe7f : PUSH ECX
0074fe80 : CALL 0x006f0820
0074fe85 : MOV ECX,dword ptr [EDI + 0x4]
0074fe88 : IMUL ECX,dword ptr [EDI + 0x8]
0074fe8c : ADD ECX,ECX
0074fe8e : ADD ECX,ECX
0074fe90 : PUSH ECX
0074fe91 : PUSH 0x0
0074fe93 : PUSH EAX
0074fe94 : MOV dword ptr [EDI + 0xc],EAX
0074fe97 : CALL 0x0063b700
0074fe9c : MOV EAX,dword ptr [ESI + 0x8c]
0074fea2 : ADD ESP,0x10
0074fea5 : SUB EAX,0x0
0074fea8 : POP EBX
0074fea9 : JZ 0x0074fee9
0074feab : SUB EAX,0x1
0074feae : JZ 0x0074fecf
0074feb0 : SUB EAX,0x1
0074feb3 : JNZ 0x0074fefc
0074feb5 : MOV EDX,dword ptr [EBP + 0xc]
0074feb8 : MOV EAX,dword ptr [EBP + 0x8]
0074febb : MOV ECX,dword ptr [EDI + 0xc]
0074febe : PUSH EDX
0074febf : PUSH EAX
0074fec0 : PUSH ECX
0074fec1 : PUSH ESI
0074fec2 : CALL 0x0074cb40
0074fec7 : MOV AL,0x1
0074fec9 : MOV ESP,EBP
0074fecb : POP EBP
0074fecc : RET 0x8
0074fecf : MOV EDX,dword ptr [EBP + 0xc]
0074fed2 : MOV EAX,dword ptr [EBP + 0x8]
0074fed5 : MOV ECX,dword ptr [EDI + 0xc]
0074fed8 : PUSH EDX
0074fed9 : PUSH EAX
0074feda : MOV EAX,ESI
0074fedc : CALL 0x0074cf70
0074fee1 : MOV AL,0x1
0074fee3 : MOV ESP,EBP
0074fee5 : POP EBP
0074fee6 : RET 0x8
0074fee9 : MOV ECX,dword ptr [EBP + 0xc]
0074feec : MOV EDX,dword ptr [EBP + 0x8]
0074feef : MOV EAX,dword ptr [EDI + 0xc]
0074fef2 : PUSH ECX
0074fef3 : PUSH EDX
0074fef4 : PUSH EAX
0074fef5 : MOV EAX,ESI
0074fef7 : CALL 0x0074d110
0074fefc : MOV AL,0x1
0074fefe : MOV ESP,EBP
0074ff00 : POP EBP
0074ff01 : RET 0x8
