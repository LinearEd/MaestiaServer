PROGRAM  : Maestia.exe
FUNCTION : FUN_006e9f20
ENTRY    : 006e9f20
BODY     : [[006e9f20, 006e9fe2]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_006e9f20(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int *_Memory;
  int *piVar3;
  int iVar4;
  int unaff_EDI;
  
  iVar4 = 0;
  piVar3 = DAT_00da98c8;
  if (0 < *(int *)(unaff_EDI + 0xc)) {
    do {
      puVar2 = *(undefined4 **)(*(int *)(unaff_EDI + 8) + iVar4 * 4);
      puVar1 = (undefined4 *)(*(int *)(unaff_EDI + 8) + iVar4 * 4);
      if (puVar2 != (undefined4 *)0x0) {
        (**(code **)*puVar2)(0);
        piVar3 = DAT_00da98c8;
        if (DAT_00da98c8 == (int *)0x0) {
          _free((void *)*puVar1);
        }
        else {
          (**(code **)(*DAT_00da98c8 + 8))();
          piVar3 = DAT_00da98c8;
        }
        _DAT_00da98cc = _DAT_00da98cc + -0xda4;
        *puVar1 = 0;
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < *(int *)(unaff_EDI + 0xc));
  }
  if (*(char *)(unaff_EDI + 0x14) == '\0') {
    if ((*(int *)(unaff_EDI + 8) != 0) &&
       (_Memory = (int *)(*(int *)(unaff_EDI + 8) + -4), _Memory != (int *)0x0)) {
      _DAT_00da98cc = _DAT_00da98cc + *_Memory * -4 + -4;
      if (piVar3 != (int *)0x0) {
        (**(code **)(*piVar3 + 8))();
        *(undefined4 *)(unaff_EDI + 8) = 0;
        *(undefined4 *)(unaff_EDI + 0x10) = 0;
        *(undefined4 *)(unaff_EDI + 0xc) = 0;
        return;
      }
      _free(_Memory);
    }
    *(undefined4 *)(unaff_EDI + 8) = 0;
    *(undefined4 *)(unaff_EDI + 0x10) = 0;
    *(undefined4 *)(unaff_EDI + 0xc) = 0;
    return;
  }
  *(undefined4 *)(unaff_EDI + 0xc) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
006e9f20 : PUSH EBX
006e9f21 : MOV EBX,dword ptr [0x00da98c8]
006e9f27 : PUSH EBP
006e9f28 : XOR EBP,EBP
006e9f2a : CMP dword ptr [EDI + 0xc],EBP
006e9f2d : JLE 0x006e9f82
006e9f2f : PUSH ESI
006e9f30 : MOV EAX,dword ptr [EDI + 0x8]
006e9f33 : MOV ECX,dword ptr [EAX + EBP*0x4]
006e9f36 : LEA ESI,[EAX + EBP*0x4]
006e9f39 : TEST ECX,ECX
006e9f3b : JZ 0x006e9f7b
006e9f3d : MOV EDX,dword ptr [ECX]
006e9f3f : MOV EAX,dword ptr [EDX]
006e9f41 : PUSH 0x0
006e9f43 : CALL EAX
006e9f45 : MOV EBX,dword ptr [0x00da98c8]
006e9f4b : MOV EAX,dword ptr [ESI]
006e9f4d : PUSH EAX
006e9f4e : TEST EBX,EBX
006e9f50 : JZ 0x006e9f63
006e9f52 : MOV EDX,dword ptr [EBX]
006e9f54 : MOV EDX,dword ptr [EDX + 0x8]
006e9f57 : MOV ECX,EBX
006e9f59 : CALL EDX
006e9f5b : MOV EBX,dword ptr [0x00da98c8]
006e9f61 : JMP 0x006e9f6b
006e9f63 : CALL 0x0063610d
006e9f68 : ADD ESP,0x4
006e9f6b : SUB dword ptr [0x00da98cc],0xda4
006e9f75 : MOV dword ptr [ESI],0x0
006e9f7b : INC EBP
006e9f7c : CMP EBP,dword ptr [EDI + 0xc]
006e9f7f : JL 0x006e9f30
006e9f81 : POP ESI
006e9f82 : CMP byte ptr [EDI + 0x14],0x0
006e9f86 : JZ 0x006e9f92
006e9f88 : POP EBP
006e9f89 : MOV dword ptr [EDI + 0xc],0x0
006e9f90 : POP EBX
006e9f91 : RET
006e9f92 : MOV EAX,dword ptr [EDI + 0x8]
006e9f95 : TEST EAX,EAX
006e9f97 : JZ 0x006e9fd5
006e9f99 : ADD EAX,-0x4
006e9f9c : JZ 0x006e9fd5
006e9f9e : MOV ECX,dword ptr [EAX]
006e9fa0 : ADD ECX,ECX
006e9fa2 : ADD ECX,ECX
006e9fa4 : MOV EDX,0xfffffffc
006e9fa9 : SUB EDX,ECX
006e9fab : ADD dword ptr [0x00da98cc],EDX
006e9fb1 : PUSH EAX
006e9fb2 : TEST EBX,EBX
006e9fb4 : JZ 0x006e9fcd
006e9fb6 : MOV EDX,dword ptr [EBX]
006e9fb8 : MOV EAX,dword ptr [EDX + 0x8]
006e9fbb : MOV ECX,EBX
006e9fbd : CALL EAX
006e9fbf : XOR EAX,EAX
006e9fc1 : POP EBP
006e9fc2 : MOV dword ptr [EDI + 0x8],EAX
006e9fc5 : MOV dword ptr [EDI + 0x10],EAX
006e9fc8 : MOV dword ptr [EDI + 0xc],EAX
006e9fcb : POP EBX
006e9fcc : RET
006e9fcd : CALL 0x0063610d
006e9fd2 : ADD ESP,0x4
006e9fd5 : XOR EAX,EAX
006e9fd7 : POP EBP
006e9fd8 : MOV dword ptr [EDI + 0x8],EAX
006e9fdb : MOV dword ptr [EDI + 0x10],EAX
006e9fde : MOV dword ptr [EDI + 0xc],EAX
006e9fe1 : POP EBX
006e9fe2 : RET
