PROGRAM  : Maestia.exe
FUNCTION : FUN_004167a0
ENTRY    : 004167a0
BODY     : [[004167a0, 00416a42]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004168b9) */
/* WARNING: Removing unreachable block (ram,0x004168c9) */
/* WARNING: Removing unreachable block (ram,0x004168d2) */
/* WARNING: Removing unreachable block (ram,0x004168d5) */
/* WARNING: Removing unreachable block (ram,0x004168c5) */
/* WARNING: Removing unreachable block (ram,0x004168e2) */
/* WARNING: Removing unreachable block (ram,0x004168f2) */
/* WARNING: Removing unreachable block (ram,0x004168fd) */
/* WARNING: Removing unreachable block (ram,0x004168f9) */
/* WARNING: Removing unreachable block (ram,0x004168ed) */
/* WARNING: Removing unreachable block (ram,0x00416900) */
/* WARNING: Removing unreachable block (ram,0x00416910) */
/* WARNING: Removing unreachable block (ram,0x00416918) */

void FUN_004167a0(int param_1,undefined4 param_2,int *param_3)

{
  int *piVar1;
  undefined4 uVar2;
  int *piVar3;
  int *piVar4;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 *local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7c315;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x45) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_00416a70(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar4 = (int *)*param_3;
  if (*(char *)((int)piVar4 + 0x45) == '\0') {
    if (*(char *)(param_3[2] + 0x45) == '\0') {
      piVar4 = (int *)param_3[2];
    }
  }
  else {
    piVar4 = (int *)param_3[2];
  }
  piVar3 = (int *)param_3[1];
  if (*(char *)((int)piVar4 + 0x45) == '\0') {
    piVar4[1] = (int)piVar3;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar4;
  }
  else if ((int *)*piVar3 == param_3) {
    *piVar3 = (int)piVar4;
  }
  else {
    piVar3[2] = (int)piVar4;
  }
  local_1c = *(undefined4 **)(param_1 + 4);
  if ((int *)*local_1c == param_3) {
    piVar1 = piVar3;
    if (*(char *)((int)piVar4 + 0x45) == '\0') {
      piVar1 = (int *)FUN_00416e90();
    }
    *local_1c = piVar1;
  }
  local_1c = *(undefined4 **)(param_1 + 4);
  if (*(int **)((int)local_1c + 8) == param_3) {
    if (*(char *)((int)piVar4 + 0x45) == '\0') {
      uVar2 = FUN_00462420();
      *(undefined4 *)((int)local_1c + 8) = uVar2;
    }
    else {
      *(int **)((int)local_1c + 8) = piVar3;
    }
  }
  if ((char)local_18[0x11] == '\x01') {
    if (piVar4 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar1 = piVar3;
        if ((char)piVar4[0x11] != '\x01') break;
        piVar3 = (int *)*piVar1;
        if (piVar4 == piVar3) {
          piVar3 = (int *)piVar1[2];
          if ((char)piVar3[0x11] == '\0') {
            *(undefined1 *)(piVar3 + 0x11) = 1;
            *(undefined1 *)(piVar1 + 0x11) = 0;
            FUN_00415630(param_1);
            piVar3 = (int *)piVar1[2];
          }
          if (*(char *)((int)piVar3 + 0x45) == '\0') {
            if ((*(char *)(*piVar3 + 0x44) != '\x01') || (*(char *)(piVar3[2] + 0x44) != '\x01')) {
              if (*(char *)(piVar3[2] + 0x44) == '\x01') {
                *(undefined1 *)(*piVar3 + 0x44) = 1;
                *(undefined1 *)(piVar3 + 0x11) = 0;
                FUN_00415690(param_1);
                piVar3 = (int *)piVar1[2];
              }
              *(char *)(piVar3 + 0x11) = (char)piVar1[0x11];
              *(undefined1 *)(piVar1 + 0x11) = 1;
              *(undefined1 *)(piVar3[2] + 0x44) = 1;
              FUN_00415630(param_1);
              break;
            }
LAB_004169dc:
            *(undefined1 *)(piVar3 + 0x11) = 0;
          }
        }
        else {
          if ((char)piVar3[0x11] == '\0') {
            *(undefined1 *)(piVar3 + 0x11) = 1;
            *(undefined1 *)(piVar1 + 0x11) = 0;
            FUN_00415690(param_1);
            piVar3 = (int *)*piVar1;
          }
          if (*(char *)((int)piVar3 + 0x45) == '\0') {
            if ((*(char *)(piVar3[2] + 0x44) == '\x01') && (*(char *)(*piVar3 + 0x44) == '\x01'))
            goto LAB_004169dc;
            if (*(char *)(*piVar3 + 0x44) == '\x01') {
              *(undefined1 *)(piVar3[2] + 0x44) = 1;
              *(undefined1 *)(piVar3 + 0x11) = 0;
              FUN_00415630(param_1);
              piVar3 = (int *)*piVar1;
            }
            *(char *)(piVar3 + 0x11) = (char)piVar1[0x11];
            *(undefined1 *)(piVar1 + 0x11) = 1;
            *(undefined1 *)(*piVar3 + 0x44) = 1;
            FUN_00415690(param_1);
            break;
          }
        }
        piVar3 = (int *)piVar1[1];
        piVar4 = piVar1;
      } while (piVar1 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar4 + 0x11) = 1;
  }
  local_8 = 0xffffffff;
  FUN_0044ca10(local_18 + 3);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004167a0 : PUSH EBP
004167a1 : MOV EBP,ESP
004167a3 : PUSH -0x1
004167a5 : PUSH 0xb7c315
004167aa : MOV EAX,FS:[0x0]
004167b0 : PUSH EAX
004167b1 : SUB ESP,0x50
004167b4 : PUSH EBX
004167b5 : PUSH ESI
004167b6 : PUSH EDI
004167b7 : MOV EAX,[0x00d66fa0]
004167bc : XOR EAX,EBP
004167be : PUSH EAX
004167bf : LEA EAX,[EBP + -0xc]
004167c2 : MOV FS:[0x0],EAX
004167c8 : MOV EAX,dword ptr [EBP + 0x10]
004167cb : CMP byte ptr [EAX + 0x45],0x0
004167cf : JZ 0x0041680d
004167d1 : PUSH 0x1b
004167d3 : XOR ESI,ESI
004167d5 : PUSH 0xcca4a8
004167da : LEA ECX,[EBP + -0x34]
004167dd : MOV dword ptr [EBP + -0x1c],0xf
004167e4 : MOV dword ptr [EBP + -0x20],ESI
004167e7 : MOV byte ptr [EBP + -0x30],0x0
004167eb : CALL 0x00404b50
004167f0 : MOV dword ptr [EBP + -0x4],ESI
004167f3 : LEA EAX,[EBP + -0x34]
004167f6 : PUSH EAX
004167f7 : LEA ECX,[EBP + -0x5c]
004167fa : CALL 0x00403c10
004167ff : PUSH 0xced890
00416804 : LEA ECX,[EBP + -0x5c]
00416807 : PUSH ECX
00416808 : CALL 0x006409eb
0041680d : MOV EBX,EAX
0041680f : LEA EDX,[EBP + 0x10]
00416812 : MOV dword ptr [EBP + -0x14],EBX
00416815 : CALL 0x00416a70
0041681a : MOV ECX,dword ptr [EBX]
0041681c : CMP byte ptr [ECX + 0x45],0x0
00416820 : JZ 0x00416827
00416822 : MOV EDI,dword ptr [EBX + 0x8]
00416825 : JMP 0x00416841
00416827 : MOV EDX,dword ptr [EBX + 0x8]
0041682a : CMP byte ptr [EDX + 0x45],0x0
0041682e : JZ 0x00416834
00416830 : MOV EDI,ECX
00416832 : JMP 0x00416841
00416834 : MOV EAX,dword ptr [EBP + 0x10]
00416837 : MOV EDI,dword ptr [EAX + 0x8]
0041683a : LEA EDX,[EAX + 0x8]
0041683d : CMP EAX,EBX
0041683f : JNZ 0x004168b9
00416841 : CMP byte ptr [EDI + 0x45],0x0
00416845 : MOV ESI,dword ptr [EBX + 0x4]
00416848 : JNZ 0x0041684d
0041684a : MOV dword ptr [EDI + 0x4],ESI
0041684d : MOV EDX,dword ptr [EBP + 0x8]
00416850 : MOV EAX,dword ptr [EDX + 0x4]
00416853 : CMP dword ptr [EAX + 0x4],EBX
00416856 : JNZ 0x0041685d
00416858 : MOV dword ptr [EAX + 0x4],EDI
0041685b : JMP 0x00416868
0041685d : CMP dword ptr [ESI],EBX
0041685f : JNZ 0x00416865
00416861 : MOV dword ptr [ESI],EDI
00416863 : JMP 0x00416868
00416865 : MOV dword ptr [ESI + 0x8],EDI
00416868 : MOV ECX,dword ptr [EDX + 0x4]
0041686b : MOV dword ptr [EBP + -0x18],ECX
0041686e : CMP dword ptr [ECX],EBX
00416870 : JNZ 0x0041688b
00416872 : CMP byte ptr [EDI + 0x45],0x0
00416876 : JZ 0x0041687c
00416878 : MOV EAX,ESI
0041687a : JMP 0x00416889
0041687c : MOV EAX,EDI
0041687e : CALL 0x00416e90
00416883 : MOV EDX,dword ptr [EBP + 0x8]
00416886 : MOV ECX,dword ptr [EBP + -0x18]
00416889 : MOV dword ptr [ECX],EAX
0041688b : MOV ECX,dword ptr [EDX + 0x4]
0041688e : MOV dword ptr [EBP + -0x18],ECX
00416891 : CMP dword ptr [ECX + 0x8],EBX
00416894 : JNZ 0x0041691b
0041689a : CMP byte ptr [EDI + 0x45],0x0
0041689e : JZ 0x004168a7
004168a0 : MOV EAX,ESI
004168a2 : MOV dword ptr [ECX + 0x8],EAX
004168a5 : JMP 0x0041691b
004168a7 : MOV EAX,EDI
004168a9 : CALL 0x00462420
004168ae : MOV ECX,dword ptr [EBP + -0x18]
004168b1 : MOV EDX,dword ptr [EBP + 0x8]
004168b4 : MOV dword ptr [ECX + 0x8],EAX
004168b7 : JMP 0x0041691b
004168b9 : MOV dword ptr [ECX + 0x4],EAX
004168bc : MOV ECX,dword ptr [EBX]
004168be : MOV dword ptr [EAX],ECX
004168c0 : CMP EAX,dword ptr [EBX + 0x8]
004168c3 : JNZ 0x004168c9
004168c5 : MOV ESI,EAX
004168c7 : JMP 0x004168e2
004168c9 : CMP byte ptr [EDI + 0x45],0x0
004168cd : MOV ESI,dword ptr [EAX + 0x4]
004168d0 : JNZ 0x004168d5
004168d2 : MOV dword ptr [EDI + 0x4],ESI
004168d5 : MOV dword ptr [ESI],EDI
004168d7 : MOV ECX,dword ptr [EBX + 0x8]
004168da : MOV dword ptr [EDX],ECX
004168dc : MOV EDX,dword ptr [EBX + 0x8]
004168df : MOV dword ptr [EDX + 0x4],EAX
004168e2 : MOV ECX,dword ptr [EBP + 0x8]
004168e5 : MOV ECX,dword ptr [ECX + 0x4]
004168e8 : CMP dword ptr [ECX + 0x4],EBX
004168eb : JNZ 0x004168f2
004168ed : MOV dword ptr [ECX + 0x4],EAX
004168f0 : JMP 0x00416900
004168f2 : MOV ECX,dword ptr [EBX + 0x4]
004168f5 : CMP dword ptr [ECX],EBX
004168f7 : JNZ 0x004168fd
004168f9 : MOV dword ptr [ECX],EAX
004168fb : JMP 0x00416900
004168fd : MOV dword ptr [ECX + 0x8],EAX
00416900 : MOV EDX,dword ptr [EBX + 0x4]
00416903 : MOV dword ptr [EAX + 0x4],EDX
00416906 : LEA ECX,[EBX + 0x44]
00416909 : ADD EAX,0x44
0041690c : CMP EAX,ECX
0041690e : JZ 0x00416918
00416910 : MOV BL,byte ptr [ECX]
00416912 : MOV DL,byte ptr [EAX]
00416914 : MOV byte ptr [EAX],BL
00416916 : MOV byte ptr [ECX],DL
00416918 : MOV EDX,dword ptr [EBP + 0x8]
0041691b : MOV EAX,dword ptr [EBP + -0x14]
0041691e : MOV BL,0x1
00416920 : CMP byte ptr [EAX + 0x44],BL
00416923 : JNZ 0x00416a28
00416929 : MOV ECX,dword ptr [EDX + 0x4]
0041692c : CMP EDI,dword ptr [ECX + 0x4]
0041692f : JZ 0x00416a25
00416935 : CMP byte ptr [EDI + 0x44],BL
00416938 : JNZ 0x00416a25
0041693e : MOV ECX,dword ptr [ESI]
00416940 : CMP EDI,ECX
00416942 : JNZ 0x004169ad
00416944 : MOV ECX,dword ptr [ESI + 0x8]
00416947 : CMP byte ptr [ECX + 0x44],0x0
0041694b : JNZ 0x00416962
0041694d : MOV byte ptr [ECX + 0x44],BL
00416950 : PUSH EDX
00416951 : MOV ECX,ESI
00416953 : MOV byte ptr [ESI + 0x44],0x0
00416957 : CALL 0x00415630
0041695c : MOV ECX,dword ptr [ESI + 0x8]
0041695f : MOV EDX,dword ptr [EBP + 0x8]
00416962 : CMP byte ptr [ECX + 0x45],0x0
00416966 : JNZ 0x004169e0
00416968 : MOV EAX,dword ptr [ECX]
0041696a : CMP byte ptr [EAX + 0x44],BL
0041696d : JNZ 0x00416977
0041696f : MOV EAX,dword ptr [ECX + 0x8]
00416972 : CMP byte ptr [EAX + 0x44],BL
00416975 : JZ 0x004169dc
00416977 : MOV EAX,dword ptr [ECX + 0x8]
0041697a : CMP byte ptr [EAX + 0x44],BL
0041697d : JNZ 0x00416994
0041697f : MOV EAX,dword ptr [ECX]
00416981 : MOV byte ptr [EAX + 0x44],BL
00416984 : PUSH EDX
00416985 : MOV byte ptr [ECX + 0x44],0x0
00416989 : CALL 0x00415690
0041698e : MOV ECX,dword ptr [ESI + 0x8]
00416991 : MOV EDX,dword ptr [EBP + 0x8]
00416994 : MOV AL,byte ptr [ESI + 0x44]
00416997 : MOV byte ptr [ECX + 0x44],AL
0041699a : MOV byte ptr [ESI + 0x44],BL
0041699d : MOV ECX,dword ptr [ECX + 0x8]
004169a0 : MOV byte ptr [ECX + 0x44],BL
004169a3 : PUSH EDX
004169a4 : MOV ECX,ESI
004169a6 : CALL 0x00415630
004169ab : JMP 0x00416a25
004169ad : CMP byte ptr [ECX + 0x44],0x0
004169b1 : JNZ 0x004169c7
004169b3 : MOV byte ptr [ECX + 0x44],BL
004169b6 : PUSH EDX
004169b7 : MOV ECX,ESI
004169b9 : MOV byte ptr [ESI + 0x44],0x0
004169bd : CALL 0x00415690
004169c2 : MOV ECX,dword ptr [ESI]
004169c4 : MOV EDX,dword ptr [EBP + 0x8]
004169c7 : CMP byte ptr [ECX + 0x45],0x0
004169cb : JNZ 0x004169e0
004169cd : MOV EAX,dword ptr [ECX + 0x8]
004169d0 : CMP byte ptr [EAX + 0x44],BL
004169d3 : JNZ 0x004169f3
004169d5 : MOV EAX,dword ptr [ECX]
004169d7 : CMP byte ptr [EAX + 0x44],BL
004169da : JNZ 0x004169f3
004169dc : MOV byte ptr [ECX + 0x44],0x0
004169e0 : MOV ECX,dword ptr [EDX + 0x4]
004169e3 : MOV EDI,ESI
004169e5 : MOV ESI,dword ptr [ESI + 0x4]
004169e8 : CMP EDI,dword ptr [ECX + 0x4]
004169eb : JNZ 0x00416935
004169f1 : JMP 0x00416a25
004169f3 : MOV EAX,dword ptr [ECX]
004169f5 : CMP byte ptr [EAX + 0x44],BL
004169f8 : JNZ 0x00416a0f
004169fa : MOV EAX,dword ptr [ECX + 0x8]
004169fd : MOV byte ptr [EAX + 0x44],BL
00416a00 : PUSH EDX
00416a01 : MOV byte ptr [ECX + 0x44],0x0
00416a05 : CALL 0x00415630
00416a0a : MOV ECX,dword ptr [ESI]
00416a0c : MOV EDX,dword ptr [EBP + 0x8]
00416a0f : MOV AL,byte ptr [ESI + 0x44]
00416a12 : MOV byte ptr [ECX + 0x44],AL
00416a15 : MOV byte ptr [ESI + 0x44],BL
00416a18 : MOV ECX,dword ptr [ECX]
00416a1a : MOV byte ptr [ECX + 0x44],BL
00416a1d : PUSH EDX
00416a1e : MOV ECX,ESI
00416a20 : CALL 0x00415690
00416a25 : MOV byte ptr [EDI + 0x44],BL
00416a28 : MOV dword ptr [EBP + -0x4],0xffffffff
00416a2f : MOV EDX,dword ptr [EBP + -0x14]
00416a32 : ADD EDX,0xc
00416a35 : PUSH EDX
00416a36 : CALL 0x0044ca10
00416a3b : MOV ECX,dword ptr [EBP + -0x14]
00416a3e : CALL 0x006f04e0
