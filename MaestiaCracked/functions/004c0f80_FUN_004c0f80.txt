PROGRAM  : Maestia.exe
FUNCTION : FUN_004c0f80
ENTRY    : 004c0f80
BODY     : [[004c0f80, 004c1012]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004c0f80(undefined4 *param_1)

{
  undefined4 *puVar1;
  int in_EAX;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  
  if (((*(int *)(in_EAX + 0x18) + *(int *)(in_EAX + 0x1c) & 3U) == 0) &&
     (*(uint *)(in_EAX + 0x14) <= *(int *)(in_EAX + 0x1c) + 4U >> 2)) {
    FUN_004c1160();
  }
  uVar3 = *(int *)(in_EAX + 0x18) + *(int *)(in_EAX + 0x1c);
  uVar4 = uVar3 >> 2;
  if (*(uint *)(in_EAX + 0x14) <= uVar4) {
    uVar4 = uVar4 - *(uint *)(in_EAX + 0x14);
  }
  if (*(int *)(*(int *)(in_EAX + 0x10) + uVar4 * 4) == 0) {
    uVar2 = FUN_006f0760(0x10,"",0,(DAT_01725270 >> 3 & 1) == 0);
    *(undefined4 *)(*(int *)(in_EAX + 0x10) + uVar4 * 4) = uVar2;
  }
  puVar1 = (undefined4 *)(*(int *)(*(int *)(in_EAX + 0x10) + uVar4 * 4) + (uVar3 & 3) * 4);
  if (puVar1 != (undefined4 *)0x0) {
    *puVar1 = *param_1;
  }
  *(int *)(in_EAX + 0x1c) = *(int *)(in_EAX + 0x1c) + 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
004c0f80 : PUSH EBP
004c0f81 : MOV EBP,ESP
004c0f83 : SUB ESP,0x8
004c0f86 : PUSH EBX
004c0f87 : PUSH ESI
004c0f88 : MOV ESI,EAX
004c0f8a : MOV EAX,dword ptr [ESI + 0x1c]
004c0f8d : MOV ECX,dword ptr [ESI + 0x18]
004c0f90 : ADD ECX,EAX
004c0f92 : PUSH EDI
004c0f93 : TEST CL,0x3
004c0f96 : JNZ 0x004c0fa8
004c0f98 : ADD EAX,0x4
004c0f9b : SHR EAX,0x2
004c0f9e : CMP dword ptr [ESI + 0x14],EAX
004c0fa1 : JA 0x004c0fa8
004c0fa3 : CALL 0x004c1160
004c0fa8 : MOV EBX,dword ptr [ESI + 0x18]
004c0fab : ADD EBX,dword ptr [ESI + 0x1c]
004c0fae : MOV EAX,dword ptr [ESI + 0x14]
004c0fb1 : MOV EDI,EBX
004c0fb3 : SHR EDI,0x2
004c0fb6 : CMP EAX,EDI
004c0fb8 : JA 0x004c0fbc
004c0fba : SUB EDI,EAX
004c0fbc : MOV EDX,dword ptr [ESI + 0x10]
004c0fbf : CMP dword ptr [EDX + EDI*0x4],0x0
004c0fc3 : JNZ 0x004c0ff0
004c0fc5 : MOV EAX,[0x01725270]
004c0fca : SHR EAX,0x3
004c0fcd : MOV ECX,0x0
004c0fd2 : AND EAX,0x1
004c0fd5 : SETZ CL
004c0fd8 : PUSH ECX
004c0fd9 : PUSH 0x0
004c0fdb : PUSH 0xbf1a4a
004c0fe0 : PUSH 0x10
004c0fe2 : CALL 0x006f0760
004c0fe7 : MOV EDX,dword ptr [ESI + 0x10]
004c0fea : ADD ESP,0x10
004c0fed : MOV dword ptr [EDX + EDI*0x4],EAX
004c0ff0 : MOV EAX,dword ptr [ESI + 0x10]
004c0ff3 : MOV ECX,dword ptr [EAX + EDI*0x4]
004c0ff6 : AND EBX,0x3
004c0ff9 : LEA EBX,[ECX + EBX*0x4]
004c0ffc : TEST EBX,EBX
004c0ffe : JZ 0x004c1007
004c1000 : MOV EDX,dword ptr [EBP + 0x8]
004c1003 : MOV EAX,dword ptr [EDX]
004c1005 : MOV dword ptr [EBX],EAX
004c1007 : INC dword ptr [ESI + 0x1c]
004c100a : POP EDI
004c100b : POP ESI
004c100c : POP EBX
004c100d : MOV ESP,EBP
004c100f : POP EBP
004c1010 : RET 0x4
