PROGRAM  : Maestia.exe
FUNCTION : FUN_009c3130
ENTRY    : 009c3130
BODY     : [[009c3130, 009c320e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009c3130(int param_1)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b5bc8a;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (DAT_00da93ec != 0) {
    iVar3 = FUN_00a1a840(*(undefined4 *)(param_1 + 4));
    if (iVar3 != 0) {
      iVar3 = FUN_00703c00(0x1000,uVar2);
      if (((iVar3 != 0) && (iVar3 = *DAT_00da9894, iVar3 != 0)) && (*(int *)(iVar3 + 0x114) != 0)) {
        piVar1 = *(int **)(iVar3 + 0x114);
        iVar3 = FUN_00824a20(DAT_0172491c,0);
        local_8 = 0;
        if (*(uint *)(iVar3 + 0x18) < 8) {
          iVar3 = iVar3 + 4;
        }
        else {
          iVar3 = *(int *)(iVar3 + 4);
        }
        (**(code **)(*piVar1 + 4))(piVar1,param_1 + 8,"%s,%ls","SetCharTribe",iVar3);
        local_8 = 0xffffffff;
        FUN_00406560();
      }
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
009c3130 : PUSH EBP
009c3131 : MOV EBP,ESP
009c3133 : PUSH -0x1
009c3135 : PUSH 0xb5bc8a
009c313a : MOV EAX,FS:[0x0]
009c3140 : PUSH EAX
009c3141 : SUB ESP,0x1c
009c3144 : PUSH EBX
009c3145 : PUSH ESI
009c3146 : PUSH EDI
009c3147 : MOV EAX,[0x00d66fa0]
009c314c : XOR EAX,EBP
009c314e : PUSH EAX
009c314f : LEA EAX,[EBP + -0xc]
009c3152 : MOV FS:[0x0],EAX
009c3158 : MOV EBX,dword ptr [EBP + 0x8]
009c315b : MOV ECX,dword ptr [0x00da93ec]
009c3161 : TEST ECX,ECX
009c3163 : JZ 0x009c31fb
009c3169 : MOV EAX,dword ptr [EBX + 0x4]
009c316c : PUSH EAX
009c316d : CALL 0x00a1a840
009c3172 : TEST EAX,EAX
009c3174 : JZ 0x009c31fb
009c317a : MOVZX EDI,word ptr [EAX + 0x7c]
009c317e : PUSH 0x1000
009c3183 : CALL 0x00703c00
009c3188 : ADD ESP,0x4
009c318b : TEST EAX,EAX
009c318d : JZ 0x009c31fb
009c318f : MOV ECX,dword ptr [0x00da9894]
009c3195 : MOV ECX,dword ptr [ECX]
009c3197 : TEST ECX,ECX
009c3199 : JZ 0x009c31fb
009c319b : CMP dword ptr [ECX + 0x114],0x0
009c31a2 : JZ 0x009c31fb
009c31a4 : MOV EDI,dword ptr [ECX + 0x114]
009c31aa : LEA EDX,[EAX + 0x18]
009c31ad : MOV EAX,[0x0172491c]
009c31b2 : PUSH 0x0
009c31b4 : PUSH EAX
009c31b5 : LEA ESI,[EBP + -0x28]
009c31b8 : CALL 0x00824a20
009c31bd : MOV dword ptr [EBP + -0x4],0x0
009c31c4 : CMP dword ptr [EAX + 0x18],0x8
009c31c8 : JC 0x009c31cf
009c31ca : MOV EAX,dword ptr [EAX + 0x4]
009c31cd : JMP 0x009c31d2
009c31cf : ADD EAX,0x4
009c31d2 : MOV ECX,dword ptr [EDI]
009c31d4 : MOV EDX,dword ptr [ECX + 0x4]
009c31d7 : PUSH EAX
009c31d8 : PUSH 0xc90ecc
009c31dd : PUSH 0xc90edc
009c31e2 : ADD EBX,0x8
009c31e5 : PUSH EBX
009c31e6 : PUSH EDI
009c31e7 : CALL EDX
009c31e9 : ADD ESP,0x14
009c31ec : MOV dword ptr [EBP + -0x4],0xffffffff
009c31f3 : LEA ECX,[EBP + -0x28]
009c31f6 : CALL 0x00406560
009c31fb : MOV ECX,dword ptr [EBP + -0xc]
009c31fe : MOV dword ptr FS:[0x0],ECX
009c3205 : POP ECX
009c3206 : POP EDI
009c3207 : POP ESI
009c3208 : POP EBX
009c3209 : MOV ESP,EBP
009c320b : POP EBP
009c320c : RET 0x4
