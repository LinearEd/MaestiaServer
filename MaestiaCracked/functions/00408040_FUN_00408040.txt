PROGRAM  : Maestia.exe
FUNCTION : FUN_00408040
ENTRY    : 00408040
BODY     : [[00408040, 0040809c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00408040(int *param_1,int param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int unaff_EDI;
  
  iVar1 = *(int *)(unaff_EDI + 8) - *(int *)(unaff_EDI + 4);
  iVar2 = iVar1 >> 0x1f;
  if (iVar1 / 0x30 + iVar2 == iVar2) {
    iVar2 = 0;
  }
  else {
    iVar2 = (param_2 - *(int *)(unaff_EDI + 4)) / 0x30;
  }
  FUN_004090e0(unaff_EDI,param_2,param_3);
  *param_1 = iVar2 * 0x30 + *(int *)(unaff_EDI + 4);
  return;
}



============================================================
DISASSEMBLY
============================================================
00408040 : PUSH EBP
00408041 : MOV EBP,ESP
00408043 : PUSH ECX
00408044 : MOV ECX,dword ptr [EDI + 0x8]
00408047 : PUSH EBX
00408048 : MOV EBX,dword ptr [EBP + 0xc]
0040804b : PUSH ESI
0040804c : MOV ESI,dword ptr [EDI + 0x4]
0040804f : SUB ECX,ESI
00408051 : MOV EAX,0x2aaaaaab
00408056 : IMUL ECX
00408058 : SAR EDX,0x3
0040805b : MOV EAX,EDX
0040805d : SHR EAX,0x1f
00408060 : ADD EAX,EDX
00408062 : JNZ 0x00408068
00408064 : XOR ESI,ESI
00408066 : JMP 0x0040807d
00408068 : MOV ECX,EBX
0040806a : SUB ECX,ESI
0040806c : MOV EAX,0x2aaaaaab
00408071 : IMUL ECX
00408073 : SAR EDX,0x3
00408076 : MOV ESI,EDX
00408078 : SHR ESI,0x1f
0040807b : ADD ESI,EDX
0040807d : MOV ECX,dword ptr [EBP + 0x10]
00408080 : PUSH ECX
00408081 : PUSH EBX
00408082 : PUSH EDI
00408083 : CALL 0x004090e0
00408088 : MOV EAX,dword ptr [EBP + 0x8]
0040808b : LEA EDX,[ESI + ESI*0x2]
0040808e : SHL EDX,0x4
00408091 : ADD EDX,dword ptr [EDI + 0x4]
00408094 : POP ESI
00408095 : MOV dword ptr [EAX],EDX
00408097 : POP EBX
00408098 : POP ECX
00408099 : POP EBP
0040809a : RET 0xc
