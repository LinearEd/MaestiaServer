PROGRAM  : Maestia.exe
FUNCTION : FUN_0098a9c0
ENTRY    : 0098a9c0
BODY     : [[0098a9c0, 0098ac72]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0098ab5d) */
/* WARNING: Removing unreachable block (ram,0x0098abd8) */

void FUN_0098a9c0(char param_1)

{
  short sVar1;
  int *piVar2;
  int *piVar3;
  void **ppvVar4;
  uint uVar5;
  int iVar6;
  int *piVar7;
  int iVar8;
  undefined4 uVar9;
  short *psVar10;
  int in_ECX;
  uint local_64;
  uint local_18;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b5b1ba;
  uVar5 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  piVar7 = *(int **)(in_ECX + 0x3c);
  piVar2 = (int *)*piVar7;
  ppvVar4 = &local_10;
  local_10 = ExceptionList;
  do {
    ExceptionList = ppvVar4;
    if (piVar2 == piVar7) {
LAB_0098ac55:
      ExceptionList = local_10;
      __security_check_cookie(uVar5 ^ (uint)&stack0xfffffffc);
      return;
    }
    if ((*(char *)(piVar2 + 10) == '\0') || (param_1 == '\x01')) {
      iVar6 = FUN_00703c00();
      if (iVar6 == 0) goto LAB_0098ac55;
      FUN_00824a20();
      local_8 = 0;
      piVar7 = (int *)FUN_009f2a00();
      if (piVar7 == (int *)0x0) {
        local_8 = 0xffffffff;
        if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        goto LAB_0098ac55;
      }
      iVar8 = (**(code **)(*piVar7 + 0x20))();
      if (iVar8 == 0) {
        uVar9 = FUN_00a08b70();
        piVar2[8] = uVar9;
      }
      FUN_00404350(iVar6 + 0x58);
      local_8 = local_8 & 0xffffff00;
      iVar6 = FUN_008f75f0();
      local_8._0_1_ = 2;
      if (*(uint *)(iVar6 + 0x18) < 8) {
        psVar10 = (short *)(iVar6 + 4);
      }
      else {
        psVar10 = *(short **)(iVar6 + 4);
      }
      do {
        sVar1 = *psVar10;
        psVar10 = psVar10 + 1;
      } while (sVar1 != 0);
      FUN_00406360();
      local_8 = CONCAT31(local_8._1_3_,4);
      if (7 < local_64) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_64 = 7;
      GetTickCount();
      iVar6 = *DAT_00da9894;
      if ((iVar6 != 0) && (*(int *)(iVar6 + 0x114) != 0)) {
        piVar3 = *(int **)(iVar6 + 0x114);
        iVar6 = *piVar3;
        (**(code **)(*piVar7 + 0x30))();
        (**(code **)(*piVar7 + 0x7c))();
        (**(code **)(*piVar7 + 0x40))();
        (**(code **)(iVar6 + 4))
                  (piVar3,"LootingListInsertItem","%d, %ls, %d, %ls, %d, %d, %b, %b",
                   *(undefined2 *)(piVar2 + 4));
      }
      *(undefined1 *)(piVar2 + 10) = 1;
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_18 = 7;
    }
    FUN_00430160();
    piVar7 = *(int **)(in_ECX + 0x3c);
    ppvVar4 = ExceptionList;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
0098a9c0 : PUSH EBP
0098a9c1 : MOV EBP,ESP
0098a9c3 : PUSH -0x1
0098a9c5 : PUSH 0xb5b1ba
0098a9ca : MOV EAX,FS:[0x0]
0098a9d0 : PUSH EAX
0098a9d1 : SUB ESP,0x70
0098a9d4 : MOV EAX,[0x00d66fa0]
0098a9d9 : XOR EAX,EBP
0098a9db : MOV dword ptr [EBP + -0x10],EAX
0098a9de : PUSH EBX
0098a9df : PUSH ESI
0098a9e0 : PUSH EDI
0098a9e1 : PUSH EAX
0098a9e2 : LEA EAX,[EBP + -0xc]
0098a9e5 : MOV FS:[0x0],EAX
0098a9eb : MOV ESI,ECX
0098a9ed : MOV EAX,dword ptr [ESI + 0x3c]
0098a9f0 : MOV ECX,dword ptr [EAX]
0098a9f2 : MOV dword ptr [EBP + -0x5c],ESI
0098a9f5 : MOV dword ptr [EBP + -0x4c],ECX
0098a9f8 : CMP ECX,EAX
0098a9fa : JZ 0x0098ac55
0098aa00 : JMP 0x0098aa05
0098aa02 : MOV ECX,dword ptr [EBP + -0x4c]
0098aa05 : CMP byte ptr [ECX + 0x28],0x0
0098aa09 : JZ 0x0098aa15
0098aa0b : CMP byte ptr [EBP + 0x8],0x1
0098aa0f : JNZ 0x0098ac16
0098aa15 : MOV DI,word ptr [ECX + 0x1c]
0098aa19 : PUSH 0x600
0098aa1e : CALL 0x00703c00
0098aa23 : MOV EBX,EAX
0098aa25 : ADD ESP,0x4
0098aa28 : TEST EBX,EBX
0098aa2a : JZ 0x0098ac55
0098aa30 : MOV EAX,[0x0172491c]
0098aa35 : PUSH 0x0
0098aa37 : LEA EDX,[EBX + 0x18]
0098aa3a : PUSH EAX
0098aa3b : LEA ESI,[EBP + -0x2c]
0098aa3e : CALL 0x00824a20
0098aa43 : MOV dword ptr [EBP + -0x4],0x0
0098aa4a : MOV ESI,dword ptr [EBP + -0x4c]
0098aa4d : MOV ECX,dword ptr [ESI + 0x18]
0098aa50 : PUSH ECX
0098aa51 : MOV ECX,dword ptr [0x017247f0]
0098aa57 : CALL 0x009f2a00
0098aa5c : MOV EDI,EAX
0098aa5e : TEST EDI,EDI
0098aa60 : JZ 0x0098ac2c
0098aa66 : MOV EDX,dword ptr [EDI]
0098aa68 : MOV EAX,dword ptr [EDX + 0x20]
0098aa6b : MOV ECX,EDI
0098aa6d : CALL EAX
0098aa6f : TEST EAX,EAX
0098aa71 : JNZ 0x0098aa7d
0098aa73 : MOV ECX,EDI
0098aa75 : CALL 0x00a08b70
0098aa7a : MOV dword ptr [ESI + 0x20],EAX
0098aa7d : SUB ESP,0x1c
0098aa80 : ADD EBX,0x58
0098aa83 : MOV ESI,ESP
0098aa85 : MOV dword ptr [EBP + -0x50],ESP
0098aa88 : PUSH EBX
0098aa89 : CALL 0x00404350
0098aa8e : ADD ESP,0x4
0098aa91 : MOV byte ptr [EBP + -0x4],0x1
0098aa95 : MOV byte ptr [EBP + -0x4],0x0
0098aa99 : LEA ECX,[EBP + -0x78]
0098aa9c : CALL 0x008f75f0
0098aaa1 : ADD ESP,0x1c
0098aaa4 : MOV byte ptr [EBP + -0x4],0x2
0098aaa8 : CMP dword ptr [EAX + 0x18],0x8
0098aaac : JC 0x0098aab3
0098aaae : MOV EDX,dword ptr [EAX + 0x4]
0098aab1 : JMP 0x0098aab6
0098aab3 : LEA EDX,[EAX + 0x4]
0098aab6 : XOR ESI,ESI
0098aab8 : XOR ECX,ECX
0098aaba : MOV EAX,EDX
0098aabc : MOV dword ptr [EBP + -0x30],0x7
0098aac3 : MOV dword ptr [EBP + -0x34],ESI
0098aac6 : MOV word ptr [EBP + -0x44],CX
0098aaca : LEA EBX,[EAX + 0x2]
0098aacd : LEA ECX,[ECX]
0098aad0 : MOV CX,word ptr [EAX]
0098aad3 : ADD EAX,0x2
0098aad6 : CMP CX,SI
0098aad9 : JNZ 0x0098aad0
0098aadb : SUB EAX,EBX
0098aadd : SAR EAX,0x1
0098aadf : PUSH EAX
0098aae0 : PUSH EDX
0098aae1 : LEA ECX,[EBP + -0x48]
0098aae4 : CALL 0x00406360
0098aae9 : MOV byte ptr [EBP + -0x4],0x4
0098aaed : CMP dword ptr [EBP + -0x60],0x8
0098aaf1 : JC 0x0098aafb
0098aaf3 : MOV ECX,dword ptr [EBP + -0x74]
0098aaf6 : CALL 0x006f04e0
0098aafb : XOR EDX,EDX
0098aafd : MOV dword ptr [EBP + -0x60],0x7
0098ab04 : MOV dword ptr [EBP + -0x64],ESI
0098ab07 : MOV word ptr [EBP + -0x74],DX
0098ab0b : CALL dword ptr [0x00b850d8]
0098ab11 : MOV ECX,dword ptr [EBP + -0x4c]
0098ab14 : MOV EBX,dword ptr [ECX + 0x24]
0098ab17 : MOV EDX,dword ptr [0x00da9894]
0098ab1d : SUB EBX,EAX
0098ab1f : MOV EAX,dword ptr [EDX]
0098ab21 : ADD EBX,0x1d4c0
0098ab27 : TEST EAX,EAX
0098ab29 : JZ 0x0098abc3
0098ab2f : CMP dword ptr [EAX + 0x114],0x0
0098ab36 : JZ 0x0098abc3
0098ab3c : MOV EAX,dword ptr [EAX + 0x114]
0098ab42 : MOV EDX,dword ptr [EBP + -0x28]
0098ab45 : MOV ECX,0x8
0098ab4a : MOV dword ptr [EBP + -0x50],EAX
0098ab4d : CMP dword ptr [EBP + -0x14],ECX
0098ab50 : JNC 0x0098ab55
0098ab52 : LEA EDX,[EBP + -0x28]
0098ab55 : MOV dword ptr [EBP + -0x58],EDX
0098ab58 : CMP dword ptr [EBP + -0x30],ECX
0098ab5b : JC 0x0098ab65
0098ab5d : MOV ECX,dword ptr [EBP + -0x44]
0098ab60 : MOV dword ptr [EBP + -0x54],ECX
0098ab63 : JMP 0x0098ab6b
0098ab65 : LEA EDX,[EBP + -0x44]
0098ab68 : MOV dword ptr [EBP + -0x54],EDX
0098ab6b : MOV ESI,dword ptr [EAX]
0098ab6d : MOV EAX,dword ptr [EDI]
0098ab6f : MOV EDX,dword ptr [EAX + 0x30]
0098ab72 : MOV ECX,EDI
0098ab74 : ADD ESI,0x4
0098ab77 : CALL EDX
0098ab79 : MOV EDX,dword ptr [EDI]
0098ab7b : MOVZX EAX,AL
0098ab7e : PUSH EAX
0098ab7f : MOV EAX,dword ptr [EDX + 0x7c]
0098ab82 : MOV ECX,EDI
0098ab84 : CALL EAX
0098ab86 : MOVZX ECX,AL
0098ab89 : MOV EAX,dword ptr [EBP + -0x58]
0098ab8c : PUSH ECX
0098ab8d : PUSH EBX
0098ab8e : MOV EBX,dword ptr [EBP + -0x4c]
0098ab91 : MOV EDX,dword ptr [EBX + 0x20]
0098ab94 : PUSH EDX
0098ab95 : MOV EDX,dword ptr [EDI]
0098ab97 : PUSH EAX
0098ab98 : MOV EAX,dword ptr [EDX + 0x40]
0098ab9b : MOV ECX,EDI
0098ab9d : CALL EAX
0098ab9f : MOV EDX,dword ptr [EBP + -0x54]
0098aba2 : MOVZX ECX,AX
0098aba5 : MOVZX EAX,word ptr [EBX + 0x10]
0098aba9 : PUSH ECX
0098abaa : MOV ECX,dword ptr [EBP + -0x50]
0098abad : PUSH EDX
0098abae : MOV EDX,dword ptr [ESI]
0098abb0 : PUSH EAX
0098abb1 : PUSH 0xc82da8
0098abb6 : PUSH 0xc82dcc
0098abbb : PUSH ECX
0098abbc : CALL EDX
0098abbe : ADD ESP,0x2c
0098abc1 : JMP 0x0098abc6
0098abc3 : MOV EBX,dword ptr [EBP + -0x4c]
0098abc6 : MOV byte ptr [EBX + 0x28],0x1
0098abca : MOV byte ptr [EBP + -0x4],0x0
0098abce : MOV EBX,0x8
0098abd3 : CMP dword ptr [EBP + -0x30],EBX
0098abd6 : JC 0x0098abe0
0098abd8 : MOV ECX,dword ptr [EBP + -0x44]
0098abdb : CALL 0x006f04e0
0098abe0 : MOV ESI,0x7
0098abe5 : XOR EDI,EDI
0098abe7 : XOR EAX,EAX
0098abe9 : MOV dword ptr [EBP + -0x30],ESI
0098abec : MOV dword ptr [EBP + -0x34],EDI
0098abef : MOV word ptr [EBP + -0x44],AX
0098abf3 : MOV dword ptr [EBP + -0x4],0xffffffff
0098abfa : CMP dword ptr [EBP + -0x14],EBX
0098abfd : JC 0x0098ac07
0098abff : MOV ECX,dword ptr [EBP + -0x28]
0098ac02 : CALL 0x006f04e0
0098ac07 : XOR ECX,ECX
0098ac09 : MOV dword ptr [EBP + -0x14],ESI
0098ac0c : MOV ESI,dword ptr [EBP + -0x5c]
0098ac0f : MOV dword ptr [EBP + -0x18],EDI
0098ac12 : MOV word ptr [EBP + -0x28],CX
0098ac16 : LEA EDX,[EBP + -0x4c]
0098ac19 : CALL 0x00430160
0098ac1e : MOV EDX,dword ptr [EBP + -0x4c]
0098ac21 : CMP EDX,dword ptr [ESI + 0x3c]
0098ac24 : JNZ 0x0098aa02
0098ac2a : JMP 0x0098ac55
0098ac2c : MOV dword ptr [EBP + -0x4],0xffffffff
0098ac33 : CMP dword ptr [EBP + -0x14],0x8
0098ac37 : JC 0x0098ac41
0098ac39 : MOV ECX,dword ptr [EBP + -0x28]
0098ac3c : CALL 0x006f04e0
0098ac41 : XOR EAX,EAX
0098ac43 : MOV dword ptr [EBP + -0x14],0x7
0098ac4a : MOV dword ptr [EBP + -0x18],0x0
0098ac51 : MOV word ptr [EBP + -0x28],AX
0098ac55 : MOV ECX,dword ptr [EBP + -0xc]
0098ac58 : MOV dword ptr FS:[0x0],ECX
0098ac5f : POP ECX
0098ac60 : POP EDI
0098ac61 : POP ESI
0098ac62 : POP EBX
0098ac63 : MOV ECX,dword ptr [EBP + -0x10]
0098ac66 : XOR ECX,EBP
0098ac68 : CALL 0x00633e6b
0098ac6d : MOV ESP,EBP
0098ac6f : POP EBP
0098ac70 : RET 0x4
