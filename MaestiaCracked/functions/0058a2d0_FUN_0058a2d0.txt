PROGRAM  : Maestia.exe
FUNCTION : FUN_0058a2d0
ENTRY    : 0058a2d0
BODY     : [[0058a2d0, 0058a400]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058a2d0(int param_1)

{
  int iVar1;
  char cVar2;
  int iVar3;
  undefined4 uVar4;
  int *piVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  int local_8;
  undefined4 *local_4;
  
  iVar1 = param_1;
  if (*(int **)(param_1 + 8) == (int *)0x0) {
    piVar5 = *(int **)(*(int *)(param_1 + 0x18) + 0x74);
  }
  else {
    iVar3 = (**(code **)(**(int **)(param_1 + 8) + 8))();
    if (iVar3 != 2) {
      return;
    }
    if (*(int *)(iVar1 + 8) == 0) {
      return;
    }
    piVar5 = (int *)(*(int *)(iVar1 + 8) + -0x68);
  }
  if ((piVar5 != (int *)0x0) && (0 < *(int *)(iVar1 + 0x1c))) {
    uVar4 = 0;
    if (1 < *(int *)(iVar1 + 0x1c)) {
      uVar6 = *(undefined4 *)(iVar1 + 0x18);
      FUN_00526260(1);
      FUN_005272e0(&local_8,uVar6,0xffffffff,0);
      FUN_00525d70(&param_1);
      *(int *)(local_8 + 8) = *(int *)(local_8 + 8) + -1;
      if (*(int *)(local_8 + 8) == 0) {
        FUN_00525340();
      }
      cVar2 = FUN_004ffc90(&DAT_00b8e598);
      if (cVar2 == '\0') {
        cVar2 = FUN_004ffc90(&DAT_00b8e590);
        if (cVar2 != '\0') {
          uVar4 = 2;
        }
      }
      else {
        uVar4 = 1;
      }
      *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + -1;
      if (*(int *)(param_1 + 8) == 0) {
        FUN_00525340();
      }
    }
    uVar6 = *(undefined4 *)(iVar1 + 0x18);
    FUN_00526260(0);
    FUN_005272e0(&local_4,uVar6,0xffffffff,0);
    uVar6 = *local_4;
    uVar7 = 0;
    (**(code **)(*piVar5 + 0x40))(piVar5,uVar6,uVar4,0);
    FUN_00574f60(piVar5,uVar6,uVar4,uVar7);
    local_4[2] = local_4[2] + -1;
    if (local_4[2] == 0) {
      FUN_00525340();
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0058a2d0 : SUB ESP,0x8
0058a2d3 : PUSH ESI
0058a2d4 : MOV ESI,dword ptr [ESP + 0x10]
0058a2d8 : MOV ECX,dword ptr [ESI + 0x8]
0058a2db : PUSH EDI
0058a2dc : TEST ECX,ECX
0058a2de : JNZ 0x0058a2e8
0058a2e0 : MOV EAX,dword ptr [ESI + 0x18]
0058a2e3 : MOV EDI,dword ptr [EAX + 0x74]
0058a2e6 : JMP 0x0058a306
0058a2e8 : MOV EDX,dword ptr [ECX]
0058a2ea : MOV EAX,dword ptr [EDX + 0x8]
0058a2ed : CALL EAX
0058a2ef : CMP EAX,0x2
0058a2f2 : JNZ 0x0058a3fb
0058a2f8 : MOV EDI,dword ptr [ESI + 0x8]
0058a2fb : TEST EDI,EDI
0058a2fd : JZ 0x0058a3fb
0058a303 : ADD EDI,-0x68
0058a306 : TEST EDI,EDI
0058a308 : JZ 0x0058a3fb
0058a30e : MOV EAX,dword ptr [ESI + 0x1c]
0058a311 : TEST EAX,EAX
0058a313 : JLE 0x0058a3fb
0058a319 : PUSH EBX
0058a31a : PUSH EBP
0058a31b : XOR EBP,EBP
0058a31d : CMP EAX,0x1
0058a320 : JLE 0x0058a3ab
0058a326 : MOV EBX,dword ptr [ESI + 0x18]
0058a329 : PUSH 0x1
0058a32b : MOV ECX,ESI
0058a32d : CALL 0x00526260
0058a332 : PUSH EBP
0058a333 : PUSH -0x1
0058a335 : PUSH EBX
0058a336 : LEA ECX,[ESP + 0x1c]
0058a33a : PUSH ECX
0058a33b : MOV ECX,EAX
0058a33d : CALL 0x005272e0
0058a342 : LEA EDX,[ESP + 0x1c]
0058a346 : PUSH EDX
0058a347 : LEA ECX,[ESP + 0x14]
0058a34b : CALL 0x00525d70
0058a350 : MOV EAX,dword ptr [ESP + 0x10]
0058a354 : DEC dword ptr [EAX + 0x8]
0058a357 : MOV ECX,EAX
0058a359 : ADD EAX,0x8
0058a35c : CMP dword ptr [EAX],EBP
0058a35e : JNZ 0x0058a365
0058a360 : CALL 0x00525340
0058a365 : PUSH 0xb8e598
0058a36a : LEA ECX,[ESP + 0x20]
0058a36e : CALL 0x004ffc90
0058a373 : TEST AL,AL
0058a375 : JZ 0x0058a37e
0058a377 : MOV EBP,0x1
0058a37c : JMP 0x0058a395
0058a37e : PUSH 0xb8e590
0058a383 : LEA ECX,[ESP + 0x20]
0058a387 : CALL 0x004ffc90
0058a38c : TEST AL,AL
0058a38e : JZ 0x0058a395
0058a390 : MOV EBP,0x2
0058a395 : MOV EAX,dword ptr [ESP + 0x1c]
0058a399 : DEC dword ptr [EAX + 0x8]
0058a39c : MOV ECX,EAX
0058a39e : ADD EAX,0x8
0058a3a1 : CMP dword ptr [EAX],0x0
0058a3a4 : JNZ 0x0058a3ab
0058a3a6 : CALL 0x00525340
0058a3ab : MOV EBX,dword ptr [ESI + 0x18]
0058a3ae : PUSH 0x0
0058a3b0 : MOV ECX,ESI
0058a3b2 : CALL 0x00526260
0058a3b7 : PUSH 0x0
0058a3b9 : PUSH -0x1
0058a3bb : PUSH EBX
0058a3bc : LEA ECX,[ESP + 0x20]
0058a3c0 : PUSH ECX
0058a3c1 : MOV ECX,EAX
0058a3c3 : CALL 0x005272e0
0058a3c8 : MOV EDX,dword ptr [ESP + 0x14]
0058a3cc : MOV EAX,dword ptr [EDX]
0058a3ce : PUSH 0x0
0058a3d0 : PUSH EBP
0058a3d1 : PUSH EAX
0058a3d2 : MOV EAX,dword ptr [EDI]
0058a3d4 : MOV EDX,dword ptr [EAX + 0x40]
0058a3d7 : PUSH EDI
0058a3d8 : MOV ECX,EDI
0058a3da : CALL EDX
0058a3dc : MOV ECX,EAX
0058a3de : CALL 0x00574f60
0058a3e3 : MOV EAX,dword ptr [ESP + 0x14]
0058a3e7 : DEC dword ptr [EAX + 0x8]
0058a3ea : MOV ECX,EAX
0058a3ec : ADD EAX,0x8
0058a3ef : CMP dword ptr [EAX],0x0
0058a3f2 : POP EBP
0058a3f3 : POP EBX
0058a3f4 : JNZ 0x0058a3fb
0058a3f6 : CALL 0x00525340
0058a3fb : POP EDI
0058a3fc : POP ESI
0058a3fd : ADD ESP,0x8
0058a400 : RET
