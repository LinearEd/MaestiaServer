PROGRAM  : Maestia.exe
FUNCTION : FUN_009a1370
ENTRY    : 009a1370
BODY     : [[009a1370, 009a1430]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009a1370(void)

{
  uint uVar1;
  int iVar2;
  int in_ECX;
  int unaff_ESI;
  undefined1 local_2c [24];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b35e90;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(unaff_ESI + 8) == 0) {
    FUN_00405eb0(unaff_ESI + 0x58,0,0xffffffff);
    FUN_00908bc0(unaff_ESI);
    ExceptionList = local_10;
    return;
  }
  if (*(uint *)(in_ECX + 0x18) < 8) {
    iVar2 = in_ECX + 4;
  }
  else {
    iVar2 = *(int *)(in_ECX + 4);
  }
  FUN_00406460(iVar2);
  local_8 = 0;
  FUN_00405eb0(local_2c,0,0xffffffff);
  FUN_00908bc0(unaff_ESI);
  local_8 = 0xffffffff;
  if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar1);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
009a1370 : PUSH EBP
009a1371 : MOV EBP,ESP
009a1373 : PUSH -0x1
009a1375 : PUSH 0xb35e90
009a137a : MOV EAX,FS:[0x0]
009a1380 : PUSH EAX
009a1381 : SUB ESP,0x1c
009a1384 : MOV EAX,[0x00d66fa0]
009a1389 : XOR EAX,EBP
009a138b : PUSH EAX
009a138c : LEA EAX,[EBP + -0xc]
009a138f : MOV FS:[0x0],EAX
009a1395 : MOV EAX,dword ptr [ESI + 0x8]
009a1398 : TEST EAX,EAX
009a139a : JZ 0x009a140a
009a139c : CMP dword ptr [ECX + 0x18],0x8
009a13a0 : JC 0x009a13a7
009a13a2 : MOV EAX,dword ptr [ECX + 0x4]
009a13a5 : JMP 0x009a13aa
009a13a7 : LEA EAX,[ECX + 0x4]
009a13aa : PUSH EAX
009a13ab : LEA ECX,[EBP + -0x28]
009a13ae : CALL 0x00406460
009a13b3 : MOV dword ptr [EBP + -0x4],0x0
009a13ba : PUSH -0x1
009a13bc : PUSH 0x0
009a13be : LEA EAX,[EBP + -0x28]
009a13c1 : PUSH EAX
009a13c2 : LEA ECX,[ESI + 0x3c]
009a13c5 : CALL 0x00405eb0
009a13ca : PUSH ESI
009a13cb : CALL 0x00908bc0
009a13d0 : MOV dword ptr [EBP + -0x4],0xffffffff
009a13d7 : CMP dword ptr [EBP + -0x10],0x8
009a13db : JC 0x009a13e5
009a13dd : MOV ECX,dword ptr [EBP + -0x24]
009a13e0 : CALL 0x006f04e0
009a13e5 : XOR ECX,ECX
009a13e7 : MOV dword ptr [EBP + -0x10],0x7
009a13ee : MOV dword ptr [EBP + -0x14],0x0
009a13f5 : MOV word ptr [EBP + -0x24],CX
009a13f9 : MOV ECX,dword ptr [EBP + -0xc]
009a13fc : MOV dword ptr FS:[0x0],ECX
009a1403 : POP ECX
009a1404 : MOV ESP,EBP
009a1406 : POP EBP
009a1407 : RET 0x4
009a140a : PUSH -0x1
009a140c : PUSH 0x0
009a140e : LEA EDX,[ESI + 0x58]
009a1411 : PUSH EDX
009a1412 : LEA ECX,[ESI + 0x3c]
009a1415 : CALL 0x00405eb0
009a141a : PUSH ESI
009a141b : CALL 0x00908bc0
009a1420 : MOV ECX,dword ptr [EBP + -0xc]
009a1423 : MOV dword ptr FS:[0x0],ECX
009a142a : POP ECX
009a142b : MOV ESP,EBP
009a142d : POP EBP
009a142e : RET 0x4
