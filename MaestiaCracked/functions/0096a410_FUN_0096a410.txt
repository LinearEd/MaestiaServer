PROGRAM  : Maestia.exe
FUNCTION : FUN_0096a410
ENTRY    : 0096a410
BODY     : [[0096a410, 0096a44c] [0096a450, 0096a51a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0096a410(int param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  int iVar6;
  int local_10;
  int local_c;
  undefined1 local_8 [4];
  
  if (*(char *)(param_1 + 0x54) == '\0') {
    iVar4 = 0;
    iVar6 = 0;
    if ((DAT_01724874 != 0) &&
       (iVar2 = -(uint)(*(int *)(DAT_01724874 + 0x28) != 0), local_c = iVar2, iVar2 != 0)) {
      puVar5 = (undefined4 *)(param_1 + 0x58);
      iVar3 = DAT_01724874;
      do {
        if (iVar3 != 0) {
          local_10 = 0;
          FUN_00404160(&local_c,local_8,&local_10);
          iVar2 = local_c;
          iVar3 = DAT_01724874;
          if (((local_10 != 0) && (*(char *)(local_10 + 0x40) == '\x03')) &&
             (*(int *)(local_10 + 200) == *(int *)(*(int *)(DAT_0172491c + 0x17c) + 0xa0))) {
            *puVar5 = CONCAT22(*(undefined2 *)(local_10 + 4),*(undefined2 *)(local_10 + 6));
            iVar4 = iVar4 + 1;
            puVar5 = puVar5 + 1;
            iVar3 = DAT_01724874;
            if (iVar6 == 0) {
              iVar6 = FUN_0096a170(CONCAT22(*(undefined2 *)(local_10 + 4),
                                            *(undefined2 *)(local_10 + 6)));
              iVar2 = local_c;
              iVar3 = DAT_01724874;
            }
          }
        }
      } while (iVar2 != 0);
    }
    piVar1 = DAT_00da9894;
    *(undefined1 *)(param_1 + 0x54) = 1;
    *(int *)(param_1 + 0x858) = iVar4;
    iVar6 = *(int *)(*piVar1 + 300);
    if ((iVar6 != 0) && (*(int *)(iVar6 + 0x18) != 0)) {
      if (iVar6 == 0) {
        FUN_009857c0();
        return;
      }
      FUN_009857c0();
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0096a410 : PUSH EBP
0096a411 : MOV EBP,ESP
0096a413 : SUB ESP,0x10
0096a416 : PUSH EBX
0096a417 : PUSH ESI
0096a418 : MOV ESI,dword ptr [EBP + 0x8]
0096a41b : CMP byte ptr [ESI + 0x54],0x0
0096a41f : PUSH EDI
0096a420 : JNZ 0x0096a512
0096a426 : MOV ECX,dword ptr [0x01724874]
0096a42c : XOR EBX,EBX
0096a42e : XOR EDI,EDI
0096a430 : TEST ECX,ECX
0096a432 : JZ 0x0096a4d1
0096a438 : MOV EAX,dword ptr [ECX + 0x28]
0096a43b : NEG EAX
0096a43d : SBB EAX,EAX
0096a43f : MOV dword ptr [EBP + -0x8],EAX
0096a442 : JZ 0x0096a4d1
0096a448 : ADD ESI,0x58
0096a44b : JMP 0x0096a450
0096a450 : TEST ECX,ECX
0096a452 : JZ 0x0096a4ca
0096a454 : LEA EAX,[EBP + -0xc]
0096a457 : PUSH EAX
0096a458 : LEA EDX,[EBP + -0x4]
0096a45b : PUSH EDX
0096a45c : LEA EAX,[EBP + -0x8]
0096a45f : PUSH EAX
0096a460 : MOV EAX,ECX
0096a462 : MOV dword ptr [EBP + -0xc],0x0
0096a469 : CALL 0x00404160
0096a46e : MOV EAX,dword ptr [EBP + -0xc]
0096a471 : TEST EAX,EAX
0096a473 : JZ 0x0096a4c1
0096a475 : CMP byte ptr [EAX + 0x40],0x3
0096a479 : JNZ 0x0096a4c1
0096a47b : MOV ECX,dword ptr [0x0172491c]
0096a481 : MOV EDX,dword ptr [ECX + 0x17c]
0096a487 : MOV ECX,dword ptr [EAX + 0xc8]
0096a48d : CMP ECX,dword ptr [EDX + 0xa0]
0096a493 : JNZ 0x0096a4c1
0096a495 : MOVZX EDX,word ptr [EAX + 0x4]
0096a499 : MOVZX ECX,word ptr [EAX + 0x6]
0096a49d : SHL EDX,0x10
0096a4a0 : OR EDX,ECX
0096a4a2 : MOV dword ptr [ESI],EDX
0096a4a4 : INC EBX
0096a4a5 : ADD ESI,0x4
0096a4a8 : TEST EDI,EDI
0096a4aa : JNZ 0x0096a4c1
0096a4ac : MOVZX ECX,word ptr [EAX + 0x4]
0096a4b0 : MOVZX EDX,word ptr [EAX + 0x6]
0096a4b4 : SHL ECX,0x10
0096a4b7 : OR ECX,EDX
0096a4b9 : PUSH ECX
0096a4ba : CALL 0x0096a170
0096a4bf : MOV EDI,EAX
0096a4c1 : MOV ECX,dword ptr [0x01724874]
0096a4c7 : MOV EAX,dword ptr [EBP + -0x8]
0096a4ca : TEST EAX,EAX
0096a4cc : JNZ 0x0096a450
0096a4ce : MOV ESI,dword ptr [EBP + 0x8]
0096a4d1 : MOV EAX,[0x00da9894]
0096a4d6 : MOV byte ptr [ESI + 0x54],0x1
0096a4da : MOV dword ptr [ESI + 0x858],EBX
0096a4e0 : MOV ECX,dword ptr [EAX]
0096a4e2 : MOV EAX,dword ptr [ECX + 0x12c]
0096a4e8 : TEST EAX,EAX
0096a4ea : JZ 0x0096a512
0096a4ec : CMP dword ptr [EAX + 0x18],0x0
0096a4f0 : JZ 0x0096a512
0096a4f2 : MOV ECX,EAX
0096a4f4 : TEST ECX,ECX
0096a4f6 : JNZ 0x0096a508
0096a4f8 : MOV EAX,EDI
0096a4fa : CALL 0x009857c0
0096a4ff : POP EDI
0096a500 : POP ESI
0096a501 : POP EBX
0096a502 : MOV ESP,EBP
0096a504 : POP EBP
0096a505 : RET 0x4
0096a508 : MOV ECX,dword ptr [ECX + 0x18]
0096a50b : MOV EAX,EDI
0096a50d : CALL 0x009857c0
0096a512 : POP EDI
0096a513 : POP ESI
0096a514 : POP EBX
0096a515 : MOV ESP,EBP
0096a517 : POP EBP
0096a518 : RET 0x4
