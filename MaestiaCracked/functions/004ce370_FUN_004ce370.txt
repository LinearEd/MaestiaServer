PROGRAM  : Maestia.exe
FUNCTION : FUN_004ce370
ENTRY    : 004ce370
BODY     : [[004ce370, 004ce49d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004ce370(void)

{
  int iVar1;
  int iVar2;
  int unaff_ESI;
  uint uVar3;
  
  uVar3 = 0;
  do {
    iVar1 = FUN_004ce800();
    if (iVar1 != (&DAT_00c00da0)[uVar3]) {
      if (uVar3 != 0) {
        *(int *)(unaff_ESI + 0x414) = *(int *)(unaff_ESI + 0x414) + 1;
        *(int *)(unaff_ESI + 0x410) = *(int *)(unaff_ESI + 0x410) + -1;
      }
      if (iVar1 != -1) {
        *(int *)(unaff_ESI + 0x414) = *(int *)(unaff_ESI + 0x414) + 1;
        *(int *)(unaff_ESI + 0x410) = *(int *)(unaff_ESI + 0x410) + -1;
        *(undefined4 *)(unaff_ESI + 0x458) = 1;
      }
      *(uint *)(unaff_ESI + 0x448) = (uint)(*(int *)(unaff_ESI + 0x414) == 0);
      return;
    }
    uVar3 = uVar3 + 1;
  } while (uVar3 < 2);
  iVar1 = FUN_004ce800();
  uVar3 = FUN_004ce800();
  if ((iVar1 != 8) || ((uVar3 & 0xe0) != 0)) {
    *(undefined4 *)(unaff_ESI + 0x448) = 0xfffffffd;
    return;
  }
  iVar1 = 6;
  do {
    FUN_004ce800();
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  if ((uVar3 & 4) != 0) {
    iVar1 = FUN_004ce800();
    iVar2 = FUN_004ce800();
    iVar1 = iVar1 + iVar2 * 0x100;
    do {
      if (iVar1 == 0) break;
      iVar2 = FUN_004ce800();
      iVar1 = iVar1 + -1;
    } while (iVar2 != -1);
  }
  if ((uVar3 & 8) != 0) {
    do {
      iVar1 = FUN_004ce800();
      if (iVar1 == 0) break;
    } while (iVar1 != -1);
  }
  if ((uVar3 & 0x10) != 0) {
    do {
      iVar1 = FUN_004ce800();
      if (iVar1 == 0) break;
    } while (iVar1 != -1);
  }
  if ((uVar3 & 2) != 0) {
    iVar1 = 2;
    do {
      FUN_004ce800();
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
  }
  *(uint *)(unaff_ESI + 0x448) = -(uint)(*(int *)(unaff_ESI + 0x454) != 0) & 0xfffffffd;
  return;
}



============================================================
DISASSEMBLY
============================================================
004ce370 : PUSH EDI
004ce371 : XOR EDI,EDI
004ce373 : MOV EAX,ESI
004ce375 : CALL 0x004ce800
004ce37a : CMP EAX,dword ptr [EDI*0x4 + 0xc00da0]
004ce381 : JNZ 0x004ce452
004ce387 : INC EDI
004ce388 : CMP EDI,0x2
004ce38b : JC 0x004ce373
004ce38d : PUSH EBX
004ce38e : MOV EAX,ESI
004ce390 : CALL 0x004ce800
004ce395 : MOV EDI,EAX
004ce397 : MOV EAX,ESI
004ce399 : CALL 0x004ce800
004ce39e : MOV EBX,EAX
004ce3a0 : CMP EDI,0x8
004ce3a3 : JNZ 0x004ce491
004ce3a9 : TEST BL,0xe0
004ce3ac : JNZ 0x004ce491
004ce3b2 : MOV EDI,0x6
004ce3b7 : MOV EAX,ESI
004ce3b9 : CALL 0x004ce800
004ce3be : SUB EDI,0x1
004ce3c1 : JNZ 0x004ce3b7
004ce3c3 : TEST BL,0x4
004ce3c6 : JZ 0x004ce3f3
004ce3c8 : MOV EAX,ESI
004ce3ca : CALL 0x004ce800
004ce3cf : MOV EDI,EAX
004ce3d1 : MOV EAX,ESI
004ce3d3 : CALL 0x004ce800
004ce3d8 : SHL EAX,0x8
004ce3db : ADD EDI,EAX
004ce3dd : LEA ECX,[ECX]
004ce3e0 : MOV ECX,EDI
004ce3e2 : DEC EDI
004ce3e3 : TEST ECX,ECX
004ce3e5 : JZ 0x004ce3f3
004ce3e7 : MOV EAX,ESI
004ce3e9 : CALL 0x004ce800
004ce3ee : CMP EAX,-0x1
004ce3f1 : JNZ 0x004ce3e0
004ce3f3 : TEST BL,0x8
004ce3f6 : JZ 0x004ce408
004ce3f8 : MOV EAX,ESI
004ce3fa : CALL 0x004ce800
004ce3ff : TEST EAX,EAX
004ce401 : JZ 0x004ce408
004ce403 : CMP EAX,-0x1
004ce406 : JNZ 0x004ce3f8
004ce408 : TEST BL,0x10
004ce40b : JZ 0x004ce420
004ce40d : LEA ECX,[ECX]
004ce410 : MOV EAX,ESI
004ce412 : CALL 0x004ce800
004ce417 : TEST EAX,EAX
004ce419 : JZ 0x004ce420
004ce41b : CMP EAX,-0x1
004ce41e : JNZ 0x004ce410
004ce420 : TEST BL,0x2
004ce423 : JZ 0x004ce43c
004ce425 : MOV EDI,0x2
004ce42a : LEA EBX,[EBX]
004ce430 : MOV EAX,ESI
004ce432 : CALL 0x004ce800
004ce437 : SUB EDI,0x1
004ce43a : JNZ 0x004ce430
004ce43c : MOV EDX,dword ptr [ESI + 0x454]
004ce442 : NEG EDX
004ce444 : SBB EDX,EDX
004ce446 : AND EDX,0xfffffffd
004ce449 : POP EBX
004ce44a : MOV dword ptr [ESI + 0x448],EDX
004ce450 : POP EDI
004ce451 : RET
004ce452 : MOV ECX,0x1
004ce457 : TEST EDI,EDI
004ce459 : JZ 0x004ce467
004ce45b : ADD dword ptr [ESI + 0x414],ECX
004ce461 : DEC dword ptr [ESI + 0x410]
004ce467 : CMP EAX,-0x1
004ce46a : JZ 0x004ce47e
004ce46c : ADD dword ptr [ESI + 0x414],ECX
004ce472 : DEC dword ptr [ESI + 0x410]
004ce478 : MOV dword ptr [ESI + 0x458],ECX
004ce47e : XOR EAX,EAX
004ce480 : CMP dword ptr [ESI + 0x414],EAX
004ce486 : POP EDI
004ce487 : SETZ AL
004ce48a : MOV dword ptr [ESI + 0x448],EAX
004ce490 : RET
004ce491 : POP EBX
004ce492 : MOV dword ptr [ESI + 0x448],0xfffffffd
004ce49c : POP EDI
004ce49d : RET
