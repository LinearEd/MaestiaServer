PROGRAM  : Maestia.exe
FUNCTION : FUN_00685020
ENTRY    : 00685020
BODY     : [[00685020, 00685076]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00685020(void)

{
  int *piVar1;
  int iVar2;
  int *in_ECX;
  int *piVar3;
  undefined1 local_4 [4];
  
  if (in_ECX[3] != -1) {
    piVar3 = (int *)&DAT_00befb70;
    iVar2 = (*(code *)**(undefined4 **)in_ECX[6])((undefined4 *)in_ECX[6],&DAT_00befb70,local_4);
    if (-1 < iVar2) {
      piVar1 = (int *)in_ECX[3];
      iVar2 = (**(code **)(*piVar3 + 0x10))(piVar3);
      if (iVar2 == -0x7ffbfe00) {
        (**(code **)(*in_ECX + 8))();
      }
      (**(code **)(*piVar1 + 8))(piVar1);
    }
    in_ECX[3] = -1;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00685020 : PUSH ECX
00685021 : PUSH ESI
00685022 : MOV ESI,ECX
00685024 : CMP dword ptr [ESI + 0xc],-0x1
00685028 : JZ 0x00685074
0068502a : MOV EAX,dword ptr [ESI + 0x18]
0068502d : MOV ECX,dword ptr [EAX]
0068502f : LEA EDX,[ESP + 0x4]
00685033 : PUSH EDX
00685034 : PUSH 0xbefb70
00685039 : PUSH EAX
0068503a : MOV EAX,dword ptr [ECX]
0068503c : CALL EAX
0068503e : TEST EAX,EAX
00685040 : JL 0x0068506d
00685042 : MOV EAX,dword ptr [ESP + 0x4]
00685046 : MOV EDX,dword ptr [ESI + 0xc]
00685049 : MOV ECX,dword ptr [EAX]
0068504b : PUSH EDX
0068504c : PUSH EAX
0068504d : MOV EAX,dword ptr [ECX + 0x10]
00685050 : CALL EAX
00685052 : CMP EAX,0x80040200
00685057 : JNZ 0x00685061
00685059 : MOV ECX,dword ptr [ESI]
0068505b : MOV EDX,dword ptr [ECX + 0x8]
0068505e : PUSH ESI
0068505f : CALL EDX
00685061 : MOV EAX,dword ptr [ESP + 0x4]
00685065 : MOV ECX,dword ptr [EAX]
00685067 : MOV EDX,dword ptr [ECX + 0x8]
0068506a : PUSH EAX
0068506b : CALL EDX
0068506d : MOV dword ptr [ESI + 0xc],0xffffffff
00685074 : POP ESI
00685075 : POP ECX
00685076 : RET
