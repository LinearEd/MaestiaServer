PROGRAM  : Maestia.exe
FUNCTION : FUN_00471970
ENTRY    : 00471970
BODY     : [[00471970, 004719e0]]

============================================================
DECOMPILED C CODE
============================================================

bool FUN_00471970(int param_1,uint param_2)

{
  undefined1 *puVar1;
  undefined1 *puVar2;
  undefined1 *puVar3;
  uint uVar4;
  
  if (*(char *)(param_1 + 0x10) != '\0') {
    return param_2 <= *(uint *)(param_1 + 0xc);
  }
  if (*(uint *)(param_1 + 0xc) < param_2) {
    puVar1 = (undefined1 *)FUN_00471930();
    if (*(int *)(param_1 + 8) != 0) {
      puVar3 = *(undefined1 **)(param_1 + 4);
      uVar4 = 0;
      puVar2 = puVar1;
      if (*(int *)(param_1 + 8) != 0) {
        do {
          *puVar2 = *puVar3;
          uVar4 = uVar4 + 1;
          puVar2 = puVar2 + 1;
          puVar3 = puVar3 + 1;
        } while (uVar4 < *(uint *)(param_1 + 8));
      }
    }
    FUN_00455c80();
    *(undefined1 **)(param_1 + 4) = puVar1;
    *(uint *)(param_1 + 0xc) = param_2;
  }
  return true;
}



============================================================
DISASSEMBLY
============================================================
00471970 : PUSH EBP
00471971 : MOV EBP,ESP
00471973 : PUSH ECX
00471974 : PUSH EBX
00471975 : MOV EBX,dword ptr [EBP + 0x8]
00471978 : CMP byte ptr [EBX + 0x10],0x0
0047197c : JZ 0x0047198e
0047197e : MOV EAX,dword ptr [EBP + 0xc]
00471981 : CMP dword ptr [EBX + 0xc],EAX
00471984 : POP EBX
00471985 : SBB EAX,EAX
00471987 : INC EAX
00471988 : MOV ESP,EBP
0047198a : POP EBP
0047198b : RET 0x8
0047198e : PUSH EDI
0047198f : MOV EDI,dword ptr [EBP + 0xc]
00471992 : CMP EDI,dword ptr [EBX + 0xc]
00471995 : JBE 0x004719d7
00471997 : PUSH ESI
00471998 : CALL 0x00471930
0047199d : MOV ECX,dword ptr [EBX + 0x8]
004719a0 : MOV dword ptr [EBP + -0x4],EAX
004719a3 : TEST ECX,ECX
004719a5 : JBE 0x004719bc
004719a7 : MOV ESI,dword ptr [EBX + 0x4]
004719aa : XOR EDI,EDI
004719ac : TEST ECX,ECX
004719ae : JBE 0x004719bc
004719b0 : MOV CL,byte ptr [ESI]
004719b2 : MOV byte ptr [EAX],CL
004719b4 : INC EDI
004719b5 : INC EAX
004719b6 : INC ESI
004719b7 : CMP EDI,dword ptr [EBX + 0x8]
004719ba : JC 0x004719b0
004719bc : MOV EDX,dword ptr [EBX + 0x4]
004719bf : LEA ESI,[EBP + 0x8]
004719c2 : MOV dword ptr [EBP + 0x8],EDX
004719c5 : CALL 0x00455c80
004719ca : MOV EAX,dword ptr [EBP + -0x4]
004719cd : MOV ECX,dword ptr [EBP + 0xc]
004719d0 : MOV dword ptr [EBX + 0x4],EAX
004719d3 : MOV dword ptr [EBX + 0xc],ECX
004719d6 : POP ESI
004719d7 : POP EDI
004719d8 : MOV AL,0x1
004719da : POP EBX
004719db : MOV ESP,EBP
004719dd : POP EBP
004719de : RET 0x8
