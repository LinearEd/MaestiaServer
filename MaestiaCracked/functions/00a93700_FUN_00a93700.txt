PROGRAM  : Maestia.exe
FUNCTION : FUN_00a93700
ENTRY    : 00a93700
BODY     : [[00a93700, 00a93769] [00a93770, 00a93ae3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a93700(int param_1)

{
  short *psVar1;
  short sVar2;
  short *psVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 ***pppuVar6;
  int in_EDX;
  undefined1 local_6c [28];
  short *local_50;
  undefined4 **local_48 [4];
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b53b1d;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (param_1 == 0) {
    FUN_008018d0(L"%d : [%s] Error : Recv Data is Null!!!",0x322,L"AvaGuiParty::OnMsgInvited",
                 local_14);
  }
  else {
    psVar1 = (short *)(param_1 + 0xb);
    *(undefined4 *)(in_EDX + 0x70) = *(undefined4 *)(param_1 + 4);
    psVar3 = psVar1;
    do {
      sVar2 = *psVar3;
      psVar3 = psVar3 + 1;
    } while (sVar2 != 0);
    local_50 = psVar1;
    FUN_00406360(psVar1,(int)psVar3 - (param_1 + 0xd) >> 1);
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
    local_8 = 0;
    if (*(short *)(param_1 + 8) == 0) {
      if (*(char *)(param_1 + 10) == '\x01') {
        FUN_00406460(L"IDS_RAID_INVITED");
        local_8._0_1_ = 9;
        iVar4 = FUN_0081d120(local_6c);
        local_8._0_1_ = 10;
        if (*(uint *)(iVar4 + 0x18) < 8) {
          iVar4 = iVar4 + 4;
        }
        else {
          iVar4 = *(int *)(iVar4 + 4);
        }
        uVar5 = FUN_00404750(iVar4,psVar1);
        local_8._0_1_ = 0xb;
        FUN_00405eb0(uVar5,0,0xffffffff);
        local_8._0_1_ = 10;
        FUN_00406560();
        local_8._0_1_ = 9;
      }
      else {
        FUN_00406460(L"IDS_PARTY_INVITED");
        local_8._0_1_ = 0xc;
        iVar4 = FUN_0081d120(local_6c);
        local_8._0_1_ = 0xd;
        if (*(uint *)(iVar4 + 0x18) < 8) {
          iVar4 = iVar4 + 4;
        }
        else {
          iVar4 = *(int *)(iVar4 + 4);
        }
        uVar5 = FUN_00404750(iVar4,psVar1);
        local_8._0_1_ = 0xe;
        FUN_00405eb0(uVar5,0,0xffffffff);
        local_8._0_1_ = 0xd;
        FUN_00406560();
        local_8._0_1_ = 0xc;
      }
      FUN_00406560();
    }
    else {
      local_34 = 7;
      local_38 = 0;
      local_48[0] = (undefined4 **)((uint)local_48[0] & 0xffff0000);
      local_8._0_1_ = 1;
      local_8._1_3_ = 0;
      iVar4 = FUN_00703c00(0x300);
      if (iVar4 == 0) {
        FUN_008018d0(L"%d : [%s] Failed : Get ZoneName!!! index : %u",0x336,
                     L"AvaGuiParty::OnMsgInvited",*(undefined2 *)(param_1 + 8));
        local_8 = (uint)local_8._1_3_ << 8;
        FUN_00406560();
        local_8 = 0xffffffff;
        FUN_00406560();
        goto LAB_00a93ac6;
      }
      uVar5 = FUN_00824a20(DAT_0172491c,0);
      local_8._0_1_ = 2;
      FUN_00405eb0(uVar5,0,0xffffffff);
      local_8._0_1_ = 1;
      FUN_00406560();
      if (*(char *)(param_1 + 10) == '\x01') {
        FUN_00406460(L"IDS_RAID_INVITED_HAVE_DUNGEON");
        local_8._0_1_ = 3;
        iVar4 = FUN_0081d120(local_6c);
        local_8._0_1_ = 4;
        pppuVar6 = (undefined4 ***)local_48[0];
        if (local_34 < 8) {
          pppuVar6 = local_48;
        }
        if (*(uint *)(iVar4 + 0x18) < 8) {
          iVar4 = iVar4 + 4;
        }
        else {
          iVar4 = *(int *)(iVar4 + 4);
        }
        uVar5 = FUN_00404750(iVar4,local_50,pppuVar6);
        local_8._0_1_ = 5;
        FUN_00405eb0(uVar5,0,0xffffffff);
        local_8._0_1_ = 4;
        FUN_00406560();
        local_8._0_1_ = 3;
      }
      else {
        FUN_00406460(L"IDS_PARTY_INVITED_HAVE_DUNGEON");
        local_8._0_1_ = 6;
        iVar4 = FUN_0081d120(local_6c);
        local_8._0_1_ = 7;
        pppuVar6 = (undefined4 ***)local_48[0];
        if (local_34 < 8) {
          pppuVar6 = local_48;
        }
        if (*(uint *)(iVar4 + 0x18) < 8) {
          iVar4 = iVar4 + 4;
        }
        else {
          iVar4 = *(int *)(iVar4 + 4);
        }
        uVar5 = FUN_00404750(iVar4,local_50,pppuVar6);
        local_8._0_1_ = 8;
        FUN_00405eb0(uVar5,0,0xffffffff);
        local_8._0_1_ = 7;
        FUN_00406560();
        local_8._0_1_ = 6;
      }
      FUN_00406560();
      local_8._0_1_ = 1;
      FUN_00406560();
    }
    local_8 = (uint)local_8._1_3_ << 8;
    FUN_00406560();
    iVar4 = FUN_008ede80(local_30,2);
    if (iVar4 == 0) {
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    else {
      if (*(code **)(iVar4 + 0x60) != (code *)0x0) {
        (**(code **)(iVar4 + 0x60))(1,iVar4);
      }
      *(code **)(iVar4 + 0x60) = FUN_00a92ca0;
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    local_8 = 0xffffffff;
    local_2c = 0;
    local_1c = 0;
    local_18 = 7;
  }
LAB_00a93ac6:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a93700 : PUSH EBP
00a93701 : MOV EBP,ESP
00a93703 : PUSH -0x1
00a93705 : PUSH 0xb53b1d
00a9370a : MOV EAX,FS:[0x0]
00a93710 : PUSH EAX
00a93711 : SUB ESP,0x98
00a93717 : MOV EAX,[0x00d66fa0]
00a9371c : XOR EAX,EBP
00a9371e : MOV dword ptr [EBP + -0x10],EAX
00a93721 : PUSH EBX
00a93722 : PUSH ESI
00a93723 : PUSH EDI
00a93724 : PUSH EAX
00a93725 : LEA EAX,[EBP + -0xc]
00a93728 : MOV FS:[0x0],EAX
00a9372e : MOV EBX,dword ptr [EBP + 0x8]
00a93731 : TEST EBX,EBX
00a93733 : JNZ 0x00a93757
00a93735 : MOV ESI,dword ptr [0x00da98e8]
00a9373b : PUSH 0xc7804c
00a93740 : PUSH 0x322
00a93745 : PUSH 0xc78080
00a9374a : CALL 0x008018d0
00a9374f : ADD ESP,0xc
00a93752 : JMP 0x00a93ac6
00a93757 : MOV EAX,dword ptr [EBX + 0x4]
00a9375a : LEA ESI,[EBX + 0xb]
00a9375d : MOV dword ptr [EDX + 0x70],EAX
00a93760 : MOV EAX,ESI
00a93762 : MOV dword ptr [EBP + -0x4c],ESI
00a93765 : LEA EDI,[EAX + 0x2]
00a93768 : JMP 0x00a93770
00a93770 : MOV CX,word ptr [EAX]
00a93773 : ADD EAX,0x2
00a93776 : TEST CX,CX
00a93779 : JNZ 0x00a93770
00a9377b : SUB EAX,EDI
00a9377d : SAR EAX,0x1
00a9377f : PUSH EAX
00a93780 : PUSH ESI
00a93781 : LEA ECX,[EDX + 0x74]
00a93784 : CALL 0x00406360
00a93789 : MOV ECX,0x7
00a9378e : XOR EAX,EAX
00a93790 : XOR EDX,EDX
00a93792 : MOV dword ptr [EBP + -0x14],ECX
00a93795 : MOV dword ptr [EBP + -0x18],EAX
00a93798 : MOV word ptr [EBP + -0x28],DX
00a9379c : MOV dword ptr [EBP + -0x4],EAX
00a9379f : CMP word ptr [EBX + 0x8],AX
00a937a3 : JBE 0x00a9396a
00a937a9 : MOV dword ptr [EBP + -0x30],ECX
00a937ac : MOV dword ptr [EBP + -0x34],EAX
00a937af : MOV word ptr [EBP + -0x44],AX
00a937b3 : MOV byte ptr [EBP + -0x4],0x1
00a937b7 : MOV DI,word ptr [EBX + 0x8]
00a937bb : PUSH 0x300
00a937c0 : CALL 0x00703c00
00a937c5 : ADD ESP,0x4
00a937c8 : TEST EAX,EAX
00a937ca : JZ 0x00a93928
00a937d0 : MOV ECX,dword ptr [0x0172491c]
00a937d6 : PUSH 0x0
00a937d8 : LEA EDX,[EAX + 0x18]
00a937db : PUSH ECX
00a937dc : LEA ESI,[EBP + -0x68]
00a937df : CALL 0x00824a20
00a937e4 : MOV byte ptr [EBP + -0x4],0x2
00a937e8 : PUSH -0x1
00a937ea : PUSH 0x0
00a937ec : PUSH EAX
00a937ed : LEA ECX,[EBP + -0x48]
00a937f0 : CALL 0x00405eb0
00a937f5 : MOV byte ptr [EBP + -0x4],0x1
00a937f9 : MOV ECX,ESI
00a937fb : CALL 0x00406560
00a93800 : CMP byte ptr [EBX + 0xa],0x1
00a93804 : LEA ECX,[EBP + -0x68]
00a93807 : JNZ 0x00a9388d
00a9380d : PUSH 0xc78104
00a93812 : CALL 0x00406460
00a93817 : MOV byte ptr [EBP + -0x4],0x3
00a9381b : MOV ECX,dword ptr [0x0172491c]
00a93821 : LEA EDX,[EBP + -0x68]
00a93824 : PUSH EDX
00a93825 : LEA EDI,[EBP + 0xffffff60]
00a9382b : CALL 0x0081d120
00a93830 : MOV BL,0x4
00a93832 : MOV byte ptr [EBP + -0x4],BL
00a93835 : MOV ECX,dword ptr [EBP + -0x44]
00a93838 : MOV EDX,0x8
00a9383d : CMP dword ptr [EBP + -0x30],EDX
00a93840 : JNC 0x00a93845
00a93842 : LEA ECX,[EBP + -0x44]
00a93845 : CMP dword ptr [EAX + 0x18],EDX
00a93848 : JC 0x00a9384f
00a9384a : MOV EAX,dword ptr [EAX + 0x4]
00a9384d : JMP 0x00a93852
00a9384f : ADD EAX,0x4
00a93852 : PUSH ECX
00a93853 : MOV ECX,dword ptr [EBP + -0x4c]
00a93856 : PUSH ECX
00a93857 : PUSH EAX
00a93858 : LEA ESI,[EBP + 0xffffff7c]
00a9385e : CALL 0x00404750
00a93863 : ADD ESP,0xc
00a93866 : MOV byte ptr [EBP + -0x4],0x5
00a9386a : PUSH -0x1
00a9386c : PUSH 0x0
00a9386e : PUSH EAX
00a9386f : LEA ECX,[EBP + -0x2c]
00a93872 : CALL 0x00405eb0
00a93877 : MOV byte ptr [EBP + -0x4],BL
00a9387a : MOV ECX,ESI
00a9387c : CALL 0x00406560
00a93881 : MOV byte ptr [EBP + -0x4],0x3
00a93885 : LEA ECX,[EBP + 0xffffff60]
00a9388b : JMP 0x00a9390b
00a9388d : PUSH 0xc7819c
00a93892 : CALL 0x00406460
00a93897 : MOV BL,0x6
00a93899 : MOV byte ptr [EBP + -0x4],BL
00a9389c : MOV ECX,dword ptr [0x0172491c]
00a938a2 : LEA EDX,[EBP + -0x68]
00a938a5 : PUSH EDX
00a938a6 : LEA EDI,[EBP + 0xffffff7c]
00a938ac : CALL 0x0081d120
00a938b1 : MOV byte ptr [EBP + -0x4],0x7
00a938b5 : MOV ECX,dword ptr [EBP + -0x44]
00a938b8 : MOV EDX,0x8
00a938bd : CMP dword ptr [EBP + -0x30],EDX
00a938c0 : JNC 0x00a938c5
00a938c2 : LEA ECX,[EBP + -0x44]
00a938c5 : CMP dword ptr [EAX + 0x18],EDX
00a938c8 : JC 0x00a938cf
00a938ca : MOV EAX,dword ptr [EAX + 0x4]
00a938cd : JMP 0x00a938d2
00a938cf : ADD EAX,0x4
00a938d2 : PUSH ECX
00a938d3 : MOV ECX,dword ptr [EBP + -0x4c]
00a938d6 : PUSH ECX
00a938d7 : PUSH EAX
00a938d8 : LEA ESI,[EBP + 0xffffff60]
00a938de : CALL 0x00404750
00a938e3 : ADD ESP,0xc
00a938e6 : MOV byte ptr [EBP + -0x4],0x8
00a938ea : PUSH -0x1
00a938ec : PUSH 0x0
00a938ee : PUSH EAX
00a938ef : LEA ECX,[EBP + -0x2c]
00a938f2 : CALL 0x00405eb0
00a938f7 : MOV byte ptr [EBP + -0x4],0x7
00a938fb : MOV ECX,ESI
00a938fd : CALL 0x00406560
00a93902 : MOV byte ptr [EBP + -0x4],BL
00a93905 : LEA ECX,[EBP + 0xffffff7c]
00a9390b : CALL 0x00406560
00a93910 : MOV byte ptr [EBP + -0x4],0x1
00a93914 : LEA ECX,[EBP + -0x68]
00a93917 : CALL 0x00406560
00a9391c : MOV byte ptr [EBP + -0x4],0x0
00a93920 : LEA ECX,[EBP + -0x48]
00a93923 : JMP 0x00a93a51
00a93928 : MOVZX EDX,word ptr [EBX + 0x8]
00a9392c : MOV ESI,dword ptr [0x00da98e8]
00a93932 : PUSH EDX
00a93933 : PUSH 0xc780d0
00a93938 : PUSH 0x336
00a9393d : PUSH 0xc78140
00a93942 : CALL 0x008018d0
00a93947 : ADD ESP,0x10
00a9394a : MOV byte ptr [EBP + -0x4],0x0
00a9394e : LEA ECX,[EBP + -0x48]
00a93951 : CALL 0x00406560
00a93956 : MOV dword ptr [EBP + -0x4],0xffffffff
00a9395d : LEA ECX,[EBP + -0x2c]
00a93960 : CALL 0x00406560
00a93965 : JMP 0x00a93ac6
00a9396a : CMP byte ptr [EBX + 0xa],0x1
00a9396e : LEA ECX,[EBP + -0x68]
00a93971 : JNZ 0x00a939da
00a93973 : PUSH 0xc781dc
00a93978 : CALL 0x00406460
00a9397d : MOV byte ptr [EBP + -0x4],0x9
00a93981 : MOV ECX,dword ptr [0x0172491c]
00a93987 : LEA EAX,[EBP + -0x68]
00a9398a : PUSH EAX
00a9398b : LEA EDI,[EBP + 0xffffff7c]
00a93991 : CALL 0x0081d120
00a93996 : MOV BL,0xa
00a93998 : MOV byte ptr [EBP + -0x4],BL
00a9399b : CMP dword ptr [EAX + 0x18],0x8
00a9399f : JC 0x00a939a6
00a939a1 : MOV EAX,dword ptr [EAX + 0x4]
00a939a4 : JMP 0x00a939a9
00a939a6 : ADD EAX,0x4
00a939a9 : PUSH ESI
00a939aa : PUSH EAX
00a939ab : LEA ESI,[EBP + 0xffffff60]
00a939b1 : CALL 0x00404750
00a939b6 : ADD ESP,0x8
00a939b9 : MOV byte ptr [EBP + -0x4],0xb
00a939bd : PUSH -0x1
00a939bf : PUSH 0x0
00a939c1 : PUSH EAX
00a939c2 : LEA ECX,[EBP + -0x2c]
00a939c5 : CALL 0x00405eb0
00a939ca : MOV byte ptr [EBP + -0x4],BL
00a939cd : MOV ECX,ESI
00a939cf : CALL 0x00406560
00a939d4 : MOV byte ptr [EBP + -0x4],0x9
00a939d8 : JMP 0x00a93a3f
00a939da : PUSH 0xc78200
00a939df : CALL 0x00406460
00a939e4 : MOV byte ptr [EBP + -0x4],0xc
00a939e8 : LEA ECX,[EBP + -0x68]
00a939eb : PUSH ECX
00a939ec : MOV ECX,dword ptr [0x0172491c]
00a939f2 : LEA EDI,[EBP + 0xffffff7c]
00a939f8 : CALL 0x0081d120
00a939fd : MOV BL,0xd
00a939ff : MOV byte ptr [EBP + -0x4],BL
00a93a02 : CMP dword ptr [EAX + 0x18],0x8
00a93a06 : JC 0x00a93a0d
00a93a08 : MOV EAX,dword ptr [EAX + 0x4]
00a93a0b : JMP 0x00a93a10
00a93a0d : ADD EAX,0x4
00a93a10 : PUSH ESI
00a93a11 : PUSH EAX
00a93a12 : LEA ESI,[EBP + 0xffffff60]
00a93a18 : CALL 0x00404750
00a93a1d : ADD ESP,0x8
00a93a20 : MOV byte ptr [EBP + -0x4],0xe
00a93a24 : PUSH -0x1
00a93a26 : PUSH 0x0
00a93a28 : PUSH EAX
00a93a29 : LEA ECX,[EBP + -0x2c]
00a93a2c : CALL 0x00405eb0
00a93a31 : MOV byte ptr [EBP + -0x4],BL
00a93a34 : MOV ECX,ESI
00a93a36 : CALL 0x00406560
00a93a3b : MOV byte ptr [EBP + -0x4],0xc
00a93a3f : LEA ECX,[EBP + 0xffffff7c]
00a93a45 : CALL 0x00406560
00a93a4a : MOV byte ptr [EBP + -0x4],0x0
00a93a4e : LEA ECX,[EBP + -0x68]
00a93a51 : CALL 0x00406560
00a93a56 : MOV EDX,dword ptr [0x00da9894]
00a93a5c : MOV ECX,dword ptr [EDX]
00a93a5e : PUSH 0x2
00a93a60 : LEA EAX,[EBP + -0x2c]
00a93a63 : PUSH EAX
00a93a64 : CALL 0x008ede80
00a93a69 : MOV ESI,EAX
00a93a6b : XOR EDI,EDI
00a93a6d : CMP ESI,EDI
00a93a6f : JNZ 0x00a93a8e
00a93a71 : MOV dword ptr [EBP + -0x4],0xffffffff
00a93a78 : CMP dword ptr [EBP + -0x14],0x8
00a93a7c : JC 0x00a93a86
00a93a7e : MOV ECX,dword ptr [EBP + -0x28]
00a93a81 : CALL 0x006f04e0
00a93a86 : XOR ECX,ECX
00a93a88 : MOV word ptr [EBP + -0x28],CX
00a93a8c : JMP 0x00a93abc
00a93a8e : MOV EAX,dword ptr [ESI + 0x60]
00a93a91 : CMP EAX,EDI
00a93a93 : JZ 0x00a93a9a
00a93a95 : PUSH ESI
00a93a96 : PUSH 0x1
00a93a98 : CALL EAX
00a93a9a : MOV dword ptr [ESI + 0x60],0xa92ca0
00a93aa1 : MOV dword ptr [EBP + -0x4],0xffffffff
00a93aa8 : CMP dword ptr [EBP + -0x14],0x8
00a93aac : JC 0x00a93ab6
00a93aae : MOV ECX,dword ptr [EBP + -0x28]
00a93ab1 : CALL 0x006f04e0
00a93ab6 : XOR EDX,EDX
00a93ab8 : MOV word ptr [EBP + -0x28],DX
00a93abc : MOV dword ptr [EBP + -0x18],EDI
00a93abf : MOV dword ptr [EBP + -0x14],0x7
00a93ac6 : MOV ECX,dword ptr [EBP + -0xc]
00a93ac9 : MOV dword ptr FS:[0x0],ECX
00a93ad0 : POP ECX
00a93ad1 : POP EDI
00a93ad2 : POP ESI
00a93ad3 : POP EBX
00a93ad4 : MOV ECX,dword ptr [EBP + -0x10]
00a93ad7 : XOR ECX,EBP
00a93ad9 : CALL 0x00633e6b
00a93ade : MOV ESP,EBP
00a93ae0 : POP EBP
00a93ae1 : RET 0x4
