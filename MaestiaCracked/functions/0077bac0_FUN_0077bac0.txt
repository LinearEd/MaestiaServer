PROGRAM  : Maestia.exe
FUNCTION : FUN_0077bac0
ENTRY    : 0077bac0
BODY     : [[0077bac0, 0077bb50]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0077bac0(void)

{
  LPCRITICAL_SECTION lpCriticalSection;
  int in_ECX;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b10f1e;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  lpCriticalSection = (LPCRITICAL_SECTION)(in_ECX + 0xc);
  EnterCriticalSection(lpCriticalSection);
  local_8 = 0;
  FUN_00428480(in_ECX,&local_14);
  if (local_14 != *(int *)(in_ECX + 4)) {
    local_8 = 0xffffffff;
    LeaveCriticalSection(lpCriticalSection);
    ExceptionList = local_10;
    return 1;
  }
  local_8 = 0xffffffff;
  LeaveCriticalSection(lpCriticalSection);
  ExceptionList = local_10;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0077bac0 : PUSH EBP
0077bac1 : MOV EBP,ESP
0077bac3 : PUSH -0x1
0077bac5 : PUSH 0xb10f1e
0077baca : MOV EAX,FS:[0x0]
0077bad0 : PUSH EAX
0077bad1 : SUB ESP,0x8
0077bad4 : PUSH EBX
0077bad5 : PUSH EDI
0077bad6 : MOV EAX,[0x00d66fa0]
0077badb : XOR EAX,EBP
0077badd : PUSH EAX
0077bade : LEA EAX,[EBP + -0xc]
0077bae1 : MOV FS:[0x0],EAX
0077bae7 : MOV EDI,ECX
0077bae9 : LEA EBX,[EDI + 0xc]
0077baec : PUSH EBX
0077baed : MOV dword ptr [EBP + -0x14],EBX
0077baf0 : CALL dword ptr [0x00b85118]
0077baf6 : MOV dword ptr [EBP + -0x4],0x0
0077bafd : LEA EAX,[EBP + -0x10]
0077bb00 : PUSH EAX
0077bb01 : PUSH EDI
0077bb02 : CALL 0x00428480
0077bb07 : MOV EDI,dword ptr [EDI + 0x4]
0077bb0a : CMP dword ptr [EBP + -0x10],EDI
0077bb0d : JZ 0x0077bb30
0077bb0f : MOV dword ptr [EBP + -0x4],0xffffffff
0077bb16 : PUSH EBX
0077bb17 : CALL dword ptr [0x00b8511c]
0077bb1d : MOV AL,0x1
0077bb1f : MOV ECX,dword ptr [EBP + -0xc]
0077bb22 : MOV dword ptr FS:[0x0],ECX
0077bb29 : POP ECX
0077bb2a : POP EDI
0077bb2b : POP EBX
0077bb2c : MOV ESP,EBP
0077bb2e : POP EBP
0077bb2f : RET
0077bb30 : MOV dword ptr [EBP + -0x4],0xffffffff
0077bb37 : PUSH EBX
0077bb38 : CALL dword ptr [0x00b8511c]
0077bb3e : XOR AL,AL
0077bb40 : MOV ECX,dword ptr [EBP + -0xc]
0077bb43 : MOV dword ptr FS:[0x0],ECX
0077bb4a : POP ECX
0077bb4b : POP EDI
0077bb4c : POP EBX
0077bb4d : MOV ESP,EBP
0077bb4f : POP EBP
0077bb50 : RET
