PROGRAM  : Maestia.exe
FUNCTION : FUN_008040e0
ENTRY    : 008040e0
BODY     : [[008040e0, 0080416d]]

============================================================
DECOMPILED C CODE
============================================================

undefined1 FUN_008040e0(int *param_1)

{
  int *piVar1;
  undefined1 uVar2;
  int iVar3;
  int iVar4;
  int unaff_ESI;
  int *piVar5;
  int in_XMM0_Da;
  
  piVar1 = param_1;
  param_1._0_1_ = 0;
  uVar2 = 0;
  if (*(int *)(unaff_ESI + 8) + 4U <= *(uint *)(unaff_ESI + 4)) {
    iVar3 = FUN_004575f0();
    iVar4 = 0;
    *piVar1 = iVar3;
    if (0 < iVar3) {
      piVar5 = piVar1 + 4;
      param_1._0_1_ = 0;
      do {
        if (*(int *)(unaff_ESI + 8) + 8U <= *(uint *)(unaff_ESI + 4)) {
          iVar3 = FUN_004575f0();
          piVar5[-3] = iVar3;
          if (0 < iVar3) {
            iVar3 = FUN_004575f0();
            *(bool *)(piVar5 + -1) = iVar3 != 0;
            FUN_00457650();
            *piVar5 = in_XMM0_Da;
            iVar3 = FUN_004575f0();
            piVar5[-2] = iVar3;
            param_1._0_1_ = 1;
          }
        }
        iVar4 = iVar4 + 1;
        piVar5 = piVar5 + 0x2c;
      } while (iVar4 < *piVar1);
    }
    uVar2 = 1;
    if (*piVar1 != 0) {
      uVar2 = param_1._0_1_;
    }
  }
  return uVar2;
}



============================================================
DISASSEMBLY
============================================================
008040e0 : MOV ECX,dword ptr [ESI + 0x8]
008040e3 : XOR AL,AL
008040e5 : ADD ECX,0x4
008040e8 : PUSH EBX
008040e9 : MOV EBX,dword ptr [ESP + 0x8]
008040ed : MOV byte ptr [ESP + 0x8],AL
008040f1 : CMP ECX,dword ptr [ESI + 0x4]
008040f4 : JA 0x0080416a
008040f6 : PUSH EBP
008040f7 : MOV EAX,ESI
008040f9 : CALL 0x004575f0
008040fe : XOR EBP,EBP
00804100 : MOV dword ptr [EBX],EAX
00804102 : TEST EAX,EAX
00804104 : JLE 0x0080415e
00804106 : PUSH EDI
00804107 : LEA EDI,[EBX + 0x10]
0080410a : LEA EBX,[EBX]
00804110 : MOV EDX,dword ptr [ESI + 0x8]
00804113 : ADD EDX,0x8
00804116 : CMP EDX,dword ptr [ESI + 0x4]
00804119 : JA 0x00804152
0080411b : MOV EAX,ESI
0080411d : CALL 0x004575f0
00804122 : MOV dword ptr [EDI + -0xc],EAX
00804125 : TEST EAX,EAX
00804127 : JLE 0x00804152
00804129 : MOV EAX,ESI
0080412b : CALL 0x004575f0
00804130 : TEST EAX,EAX
00804132 : SETNZ AL
00804135 : MOV byte ptr [EDI + -0x4],AL
00804138 : MOV EAX,ESI
0080413a : CALL 0x00457650
0080413f : MOV EAX,ESI
00804141 : MOVSS dword ptr [EDI],XMM0
00804145 : CALL 0x004575f0
0080414a : MOV dword ptr [EDI + -0x8],EAX
0080414d : MOV byte ptr [ESP + 0x10],0x1
00804152 : INC EBP
00804153 : ADD EDI,0xb0
00804159 : CMP EBP,dword ptr [EBX]
0080415b : JL 0x00804110
0080415d : POP EDI
0080415e : CMP dword ptr [EBX],0x0
00804161 : POP EBP
00804162 : MOV AL,0x1
00804164 : JZ 0x0080416a
00804166 : MOV AL,byte ptr [ESP + 0x8]
0080416a : POP EBX
0080416b : RET 0x4
