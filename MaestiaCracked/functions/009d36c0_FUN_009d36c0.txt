PROGRAM  : Maestia.exe
FUNCTION : FUN_009d36c0
ENTRY    : 009d36c0
BODY     : [[009d36c0, 009d398a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009d36c0(int param_1,uint *param_2)

{
  ushort uVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  undefined4 uVar5;
  int in_ECX;
  undefined4 *puVar6;
  int in_EDX;
  undefined1 local_8c [12];
  int local_80;
  undefined2 local_78;
  undefined4 local_68;
  uint local_64;
  int local_60;
  undefined4 local_5c;
  uint *local_58;
  int local_54;
  undefined4 local_50 [2];
  undefined4 local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  iVar3 = DAT_00d7c54c;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b46a96;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_5c = 0;
  local_80 = param_1;
  local_58 = param_2;
  if (*(int *)(in_ECX + 0xa0) == 0) {
    FUN_008018d0(L"%d : [%s] pItem is Null",0xa20,L"AvaGuiAuction::_GetItemNameInfo",local_14);
    *(undefined4 *)(param_1 + 0x18) = 7;
    *(undefined4 *)(param_1 + 0x14) = 0;
    *(undefined2 *)(param_1 + 4) = 0;
    FUN_00405eb0(in_EDX,0,0xffffffff);
    local_8 = 0;
  }
  else {
    local_50[0] = *(undefined4 *)(in_ECX + 0x10);
    local_60 = in_EDX;
    FUN_004437f0(local_50);
    if ((local_54 != *(int *)(iVar3 + 0x44)) &&
       (piVar2 = *(int **)(local_54 + 0x10), piVar2 != (int *)0x0)) {
      iVar3 = (**(code **)(*piVar2 + 0x40))();
      if (iVar3 == 0) {
        iVar3 = FUN_0040e750(*(undefined4 *)(in_ECX + 0xa0),local_8c);
        local_8 = 1;
        local_50[0] = *(undefined4 *)(iVar3 + 8);
        local_54 = (**(code **)(**(int **)(in_ECX + 0xa0) + 0x20))();
        (**(code **)(**(int **)(in_ECX + 0xa0) + 0x30))();
        uVar1 = *(ushort *)(piVar2 + 0x14);
        if (uVar1 < 3) {
          uVar4 = FUN_009e7fa0(uVar1,local_54);
        }
        else {
          uVar4 = (uint)uVar1;
        }
        *local_58 = uVar4;
        local_8 = local_8 & 0xffffff00;
        FUN_0040f3f0(local_8c);
      }
      else {
        *local_58 = piVar2[0x14];
      }
    }
    FUN_00406460(&DAT_00c9740c);
    local_8._0_1_ = 2;
    local_8._1_3_ = 0;
    if (*(short *)(*(int *)(in_ECX + 0xa0) + 0xac) != 0) {
      uVar5 = FUN_00404750(&DAT_00c97480,*(undefined2 *)(*(int *)(in_ECX + 0xa0) + 0xac));
      local_8._0_1_ = 3;
      FUN_00405eb0(uVar5,0,0xffffffff);
      local_8._0_1_ = 2;
      if (7 < local_64) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_64 = 7;
      local_68 = 0;
      local_78 = 0;
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
    local_8._0_1_ = 4;
    puVar6 = local_48;
    if (local_34 < 8) {
      puVar6 = &local_48;
    }
    if (*(uint *)(local_60 + 0x18) < 8) {
      local_60 = local_60 + 4;
    }
    else {
      local_60 = *(int *)(local_60 + 4);
    }
    uVar5 = FUN_00404750(L"%s %s",local_60,puVar6);
    local_8._0_1_ = 5;
    FUN_00405eb0(uVar5,0,0xffffffff);
    local_8._0_1_ = 4;
    if (7 < local_64) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(undefined4 *)(param_1 + 0x14) = 0;
    local_68 = 0;
    local_78 = 0;
    *(undefined4 *)(param_1 + 0x18) = 7;
    local_64 = 7;
    *(undefined2 *)(param_1 + 4) = 0;
    FUN_00405eb0(local_30,0,0xffffffff);
    local_5c = 1;
    local_8 = CONCAT31(local_8._1_3_,2);
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_34 = 7;
    local_38 = 0;
    local_48 = (undefined4 *)((uint)local_48._2_2_ << 0x10);
  }
  local_5c = 1;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009d36c0 : PUSH EBP
009d36c1 : MOV EBP,ESP
009d36c3 : PUSH -0x1
009d36c5 : PUSH 0xb46a96
009d36ca : MOV EAX,FS:[0x0]
009d36d0 : PUSH EAX
009d36d1 : SUB ESP,0x7c
009d36d4 : MOV EAX,[0x00d66fa0]
009d36d9 : XOR EAX,EBP
009d36db : MOV dword ptr [EBP + -0x10],EAX
009d36de : PUSH EBX
009d36df : PUSH ESI
009d36e0 : PUSH EDI
009d36e1 : PUSH EAX
009d36e2 : LEA EAX,[EBP + -0xc]
009d36e5 : MOV FS:[0x0],EAX
009d36eb : MOV EBX,dword ptr [EBP + 0x8]
009d36ee : MOV EAX,dword ptr [EBP + 0xc]
009d36f1 : MOV ESI,ECX
009d36f3 : MOV EDI,EDX
009d36f5 : MOV dword ptr [EBP + -0x58],0x0
009d36fc : CMP dword ptr [ESI + 0xa0],0x0
009d3703 : MOV dword ptr [EBP + -0x7c],EBX
009d3706 : MOV dword ptr [EBP + -0x54],EAX
009d3709 : MOV dword ptr [EBP + -0x5c],EDI
009d370c : JNZ 0x009d3757
009d370e : MOV ESI,dword ptr [0x00da98e8]
009d3714 : PUSH 0xc97410
009d3719 : PUSH 0xa20
009d371e : PUSH 0xc97450
009d3723 : CALL 0x008018d0
009d3728 : ADD ESP,0xc
009d372b : XOR ESI,ESI
009d372d : PUSH -0x1
009d372f : XOR ECX,ECX
009d3731 : MOV dword ptr [EBX + 0x18],0x7
009d3738 : MOV dword ptr [EBX + 0x14],ESI
009d373b : PUSH ESI
009d373c : MOV word ptr [EBX + 0x4],CX
009d3740 : PUSH EDI
009d3741 : MOV ECX,EBX
009d3743 : CALL 0x00405eb0
009d3748 : MOV dword ptr [EBP + -0x4],ESI
009d374b : MOV dword ptr [EBP + -0x58],0x1
009d3752 : JMP 0x009d396b
009d3757 : MOV EDX,dword ptr [ESI + 0x10]
009d375a : MOV EDI,dword ptr [0x00d7c54c]
009d3760 : LEA EAX,[EBP + -0x4c]
009d3763 : PUSH EAX
009d3764 : LEA ECX,[EDI + 0x40]
009d3767 : LEA EAX,[EBP + -0x50]
009d376a : MOV dword ptr [EBP + -0x4c],EDX
009d376d : CALL 0x004437f0
009d3772 : MOV EDI,dword ptr [EDI + 0x44]
009d3775 : MOV EAX,dword ptr [EBP + -0x50]
009d3778 : CMP EAX,EDI
009d377a : JZ 0x009d3813
009d3780 : MOV EDI,dword ptr [EAX + 0x10]
009d3783 : TEST EDI,EDI
009d3785 : JZ 0x009d3813
009d378b : MOV EDX,dword ptr [EDI]
009d378d : MOV EAX,dword ptr [EDX + 0x40]
009d3790 : MOV ECX,EDI
009d3792 : CALL EAX
009d3794 : TEST EAX,EAX
009d3796 : JZ 0x009d37a2
009d3798 : MOV ECX,dword ptr [EDI + 0x50]
009d379b : MOV EDX,dword ptr [EBP + -0x54]
009d379e : MOV dword ptr [EDX],ECX
009d37a0 : JMP 0x009d3813
009d37a2 : MOV ECX,dword ptr [ESI + 0xa0]
009d37a8 : LEA EAX,[EBP + 0xffffff78]
009d37ae : PUSH EAX
009d37af : PUSH ECX
009d37b0 : CALL 0x0040e750
009d37b5 : MOV dword ptr [EBP + -0x4],0x1
009d37bc : MOV EDX,dword ptr [EAX + 0x8]
009d37bf : MOV ECX,dword ptr [ESI + 0xa0]
009d37c5 : MOV EAX,dword ptr [ECX]
009d37c7 : MOV dword ptr [EBP + -0x4c],EDX
009d37ca : MOV EDX,dword ptr [EAX + 0x20]
009d37cd : CALL EDX
009d37cf : MOV ECX,dword ptr [ESI + 0xa0]
009d37d5 : MOV dword ptr [EBP + -0x50],EAX
009d37d8 : MOV EAX,dword ptr [ECX]
009d37da : MOV EDX,dword ptr [EAX + 0x30]
009d37dd : CALL EDX
009d37df : MOVZX EAX,word ptr [EDI + 0x50]
009d37e3 : CMP AX,0x2
009d37e7 : JA 0x009d37fb
009d37e9 : MOV ECX,dword ptr [EBP + -0x50]
009d37ec : PUSH ECX
009d37ed : PUSH EAX
009d37ee : MOV EAX,dword ptr [EBP + -0x4c]
009d37f1 : CALL 0x009e7fa0
009d37f6 : ADD ESP,0x8
009d37f9 : JMP 0x009d37fe
009d37fb : MOVZX EAX,AX
009d37fe : MOV EDX,dword ptr [EBP + -0x54]
009d3801 : MOV dword ptr [EDX],EAX
009d3803 : MOV byte ptr [EBP + -0x4],0x0
009d3807 : LEA EAX,[EBP + 0xffffff78]
009d380d : PUSH EAX
009d380e : CALL 0x0040f3f0
009d3813 : PUSH 0xc9740c
009d3818 : LEA ECX,[EBP + -0x48]
009d381b : CALL 0x00406460
009d3820 : MOV dword ptr [EBP + -0x4],0x2
009d3827 : MOV ESI,dword ptr [ESI + 0xa0]
009d382d : MOVZX EAX,word ptr [ESI + 0xac]
009d3834 : MOV EDI,0x8
009d3839 : TEST AX,AX
009d383c : JBE 0x009d388f
009d383e : MOVZX EAX,word ptr [ESI + 0xac]
009d3845 : MOVZX ECX,AX
009d3848 : PUSH ECX
009d3849 : PUSH 0xc97480
009d384e : LEA ESI,[EBP + -0x78]
009d3851 : CALL 0x00404750
009d3856 : ADD ESP,0x8
009d3859 : MOV byte ptr [EBP + -0x4],0x3
009d385d : PUSH -0x1
009d385f : PUSH 0x0
009d3861 : PUSH EAX
009d3862 : LEA ECX,[EBP + -0x48]
009d3865 : CALL 0x00405eb0
009d386a : MOV byte ptr [EBP + -0x4],0x2
009d386e : CMP dword ptr [EBP + -0x60],EDI
009d3871 : JC 0x009d387b
009d3873 : MOV ECX,dword ptr [EBP + -0x74]
009d3876 : CALL 0x006f04e0
009d387b : XOR EDX,EDX
009d387d : MOV dword ptr [EBP + -0x60],0x7
009d3884 : MOV dword ptr [EBP + -0x64],0x0
009d388b : MOV word ptr [EBP + -0x74],DX
009d388f : XOR EAX,EAX
009d3891 : MOV dword ptr [EBP + -0x14],0x7
009d3898 : MOV dword ptr [EBP + -0x18],0x0
009d389f : MOV word ptr [EBP + -0x28],AX
009d38a3 : MOV byte ptr [EBP + -0x4],0x4
009d38a7 : MOV ECX,dword ptr [EBP + -0x44]
009d38aa : CMP dword ptr [EBP + -0x30],EDI
009d38ad : JNC 0x009d38b2
009d38af : LEA ECX,[EBP + -0x44]
009d38b2 : MOV EAX,dword ptr [EBP + -0x5c]
009d38b5 : CMP dword ptr [EAX + 0x18],EDI
009d38b8 : JC 0x009d38bf
009d38ba : MOV EAX,dword ptr [EAX + 0x4]
009d38bd : JMP 0x009d38c2
009d38bf : ADD EAX,0x4
009d38c2 : PUSH ECX
009d38c3 : PUSH EAX
009d38c4 : PUSH 0xc97488
009d38c9 : LEA ESI,[EBP + -0x78]
009d38cc : CALL 0x00404750
009d38d1 : ADD ESP,0xc
009d38d4 : MOV byte ptr [EBP + -0x4],0x5
009d38d8 : PUSH -0x1
009d38da : PUSH 0x0
009d38dc : PUSH EAX
009d38dd : LEA ECX,[EBP + -0x2c]
009d38e0 : CALL 0x00405eb0
009d38e5 : MOV byte ptr [EBP + -0x4],0x4
009d38e9 : CMP dword ptr [EBP + -0x60],EDI
009d38ec : JC 0x009d38f6
009d38ee : MOV ECX,dword ptr [EBP + -0x74]
009d38f1 : CALL 0x006f04e0
009d38f6 : XOR EAX,EAX
009d38f8 : PUSH -0x1
009d38fa : XOR ECX,ECX
009d38fc : MOV dword ptr [EBX + 0x14],EAX
009d38ff : PUSH EAX
009d3900 : MOV dword ptr [EBP + -0x64],EAX
009d3903 : MOV ESI,0x7
009d3908 : LEA EAX,[EBP + -0x2c]
009d390b : MOV word ptr [EBP + -0x74],CX
009d390f : XOR EDX,EDX
009d3911 : MOV dword ptr [EBX + 0x18],ESI
009d3914 : PUSH EAX
009d3915 : MOV ECX,EBX
009d3917 : MOV dword ptr [EBP + -0x60],ESI
009d391a : MOV word ptr [EBX + 0x4],DX
009d391e : CALL 0x00405eb0
009d3923 : MOV dword ptr [EBP + -0x58],0x1
009d392a : MOV byte ptr [EBP + -0x4],0x2
009d392e : CMP dword ptr [EBP + -0x14],EDI
009d3931 : JC 0x009d393b
009d3933 : MOV ECX,dword ptr [EBP + -0x28]
009d3936 : CALL 0x006f04e0
009d393b : XOR ECX,ECX
009d393d : MOV dword ptr [EBP + -0x14],ESI
009d3940 : MOV dword ptr [EBP + -0x18],0x0
009d3947 : MOV word ptr [EBP + -0x28],CX
009d394b : MOV byte ptr [EBP + -0x4],CL
009d394e : CMP dword ptr [EBP + -0x30],EDI
009d3951 : JC 0x009d395b
009d3953 : MOV ECX,dword ptr [EBP + -0x44]
009d3956 : CALL 0x006f04e0
009d395b : XOR EDX,EDX
009d395d : MOV dword ptr [EBP + -0x30],ESI
009d3960 : MOV dword ptr [EBP + -0x34],0x0
009d3967 : MOV word ptr [EBP + -0x44],DX
009d396b : MOV EAX,EBX
009d396d : MOV ECX,dword ptr [EBP + -0xc]
009d3970 : MOV dword ptr FS:[0x0],ECX
009d3977 : POP ECX
009d3978 : POP EDI
009d3979 : POP ESI
009d397a : POP EBX
009d397b : MOV ECX,dword ptr [EBP + -0x10]
009d397e : XOR ECX,EBP
009d3980 : CALL 0x00633e6b
009d3985 : MOV ESP,EBP
009d3987 : POP EBP
009d3988 : RET 0x8
