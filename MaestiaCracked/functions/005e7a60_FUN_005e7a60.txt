PROGRAM  : Maestia.exe
FUNCTION : FUN_005e7a60
ENTRY    : 005e7a60
BODY     : [[005e7a60, 005e7c24]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005e7a60(int param_1)

{
  undefined1 uVar1;
  undefined1 uVar2;
  int iVar3;
  int *piVar4;
  char cVar5;
  undefined4 uVar6;
  uint uVar7;
  GThread *this;
  int iVar8;
  int local_18;
  int *local_14;
  float local_10;
  float local_c;
  float local_8;
  float local_4;
  
  iVar8 = *(int *)(param_1 + 0x314);
  if (iVar8 == 0) {
    iVar8 = param_1 + 0x28;
  }
  local_10 = 0.0;
  local_c = 0.0;
  local_8 = 0.0;
  local_4 = 0.0;
  *(undefined1 *)(iVar8 + 0x15) = 0;
  if (*(int *)(iVar8 + 0x30) - *(int *)(iVar8 + 0x2c) < 2) {
    FUN_00539fb0();
  }
  iVar3 = *(int *)(iVar8 + 0x2c);
  uVar1 = *(undefined1 *)(*(int *)(iVar8 + 0x3c) + 1 + iVar3);
  uVar2 = *(undefined1 *)(*(int *)(iVar8 + 0x3c) + iVar3);
  *(int *)(iVar8 + 0x2c) = iVar3 + 2;
  FUN_0053b000();
  cVar5 = FUN_00539cd0();
  if (cVar5 != '\0') {
    FUN_0063b380();
    uVar6 = FUN_0063b380();
    uVar6 = FUN_0063b380(uVar6);
    FUN_0063b380(uVar6);
    GThread::OnExit(this);
  }
  if (local_8 < local_10 != (local_8 == local_10)) {
    FUN_005e65e0(param_1 + 0x14,"Scale9Grid has negative width %f\n",
                 (double)((local_8 - local_10) / 20.0));
    return;
  }
  if (local_4 < local_c != (local_4 == local_c)) {
    FUN_005e65e0(param_1 + 0x14,"Scale9Grid has negative height %f\n",
                 (double)((local_4 - local_c) / 20.0));
    return;
  }
  local_18 = 0;
  local_14 = (int *)0x0;
  cVar5 = FUN_00565560(&local_18,CONCAT11(uVar1,uVar2));
  piVar4 = local_14;
  if (cVar5 != '\0') {
    if (local_18 != 0) {
      return;
    }
    if (local_14 == (int *)0x0) {
      return;
    }
    uVar7 = (**(code **)(*local_14 + 8))();
    if ((uVar7 & 0xff00) == 0x8400) {
      FUN_005e6460();
    }
    else {
      uVar7 = (**(code **)(*piVar4 + 8))();
      if ((uVar7 & 0xff00) == 0x8100) {
        FUN_005e64b0();
      }
    }
  }
  if ((local_18 == 0) && (local_14 != (int *)0x0)) {
    FUN_00524240();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005e7a60 : SUB ESP,0x18
005e7a63 : PUSH EBP
005e7a64 : MOV EBP,dword ptr [ESP + 0x20]
005e7a68 : PUSH ESI
005e7a69 : MOV ESI,dword ptr [EBP + 0x314]
005e7a6f : PUSH EDI
005e7a70 : TEST ESI,ESI
005e7a72 : JNZ 0x005e7a77
005e7a74 : LEA ESI,[EBP + 0x28]
005e7a77 : FLDZ
005e7a79 : FST float ptr [ESP + 0x14]
005e7a7d : FST float ptr [ESP + 0x18]
005e7a81 : FST float ptr [ESP + 0x1c]
005e7a85 : FSTP float ptr [ESP + 0x20]
005e7a89 : MOV EAX,dword ptr [ESI + 0x30]
005e7a8c : SUB EAX,dword ptr [ESI + 0x2c]
005e7a8f : MOV byte ptr [ESI + 0x15],0x0
005e7a93 : CMP EAX,0x2
005e7a96 : JGE 0x005e7aa1
005e7a98 : PUSH 0x2
005e7a9a : MOV ECX,ESI
005e7a9c : CALL 0x00539fb0
005e7aa1 : MOV EAX,dword ptr [ESI + 0x2c]
005e7aa4 : MOV ECX,dword ptr [ESI + 0x3c]
005e7aa7 : MOVZX DX,byte ptr [ECX + EAX*0x1 + 0x1]
005e7aad : ADD ECX,EAX
005e7aaf : MOVZX CX,byte ptr [ECX]
005e7ab3 : SHL DX,0x8
005e7ab7 : OR DX,CX
005e7aba : MOVZX ECX,DX
005e7abd : LEA EDX,[ESP + 0x14]
005e7ac1 : ADD EAX,0x2
005e7ac4 : MOVZX EDI,CX
005e7ac7 : PUSH EDX
005e7ac8 : MOV ECX,ESI
005e7aca : MOV dword ptr [ESI + 0x2c],EAX
005e7acd : CALL 0x0053b000
005e7ad2 : MOV ECX,ESI
005e7ad4 : CALL 0x00539cd0
005e7ad9 : TEST AL,AL
005e7adb : JZ 0x005e7b17
005e7add : FLD float ptr [ESP + 0x20]
005e7ae1 : CALL 0x0063b380
005e7ae6 : FLD float ptr [ESP + 0x1c]
005e7aea : PUSH EAX
005e7aeb : CALL 0x0063b380
005e7af0 : FLD float ptr [ESP + 0x1c]
005e7af4 : PUSH EAX
005e7af5 : CALL 0x0063b380
005e7afa : FLD float ptr [ESP + 0x1c]
005e7afe : PUSH EAX
005e7aff : CALL 0x0063b380
005e7b04 : PUSH EAX
005e7b05 : PUSH EDI
005e7b06 : LEA EAX,[EBP + 0x14]
005e7b09 : PUSH 0xb944b4
005e7b0e : PUSH EAX
005e7b0f : CALL 0x0051d420
005e7b14 : ADD ESP,0x1c
005e7b17 : FLD float ptr [ESP + 0x14]
005e7b1b : FLD float ptr [ESP + 0x1c]
005e7b1f : FCOM
005e7b21 : FNSTSW AX
005e7b23 : TEST AH,0x41
005e7b26 : JP 0x005e7b50
005e7b28 : FSUBRP
005e7b2a : SUB ESP,0x8
005e7b2d : ADD EBP,0x14
005e7b30 : FDIV double ptr [0x00b86058]
005e7b36 : FSTP double ptr [ESP]
005e7b39 : PUSH 0xb94490
005e7b3e : PUSH EBP
005e7b3f : CALL 0x005e65e0
005e7b44 : ADD ESP,0x10
005e7b47 : POP EDI
005e7b48 : POP ESI
005e7b49 : POP EBP
005e7b4a : ADD ESP,0x18
005e7b4d : RET 0x8
005e7b50 : FSTP ST1
005e7b52 : FSTP ST0
005e7b54 : FLD float ptr [ESP + 0x18]
005e7b58 : FLD float ptr [ESP + 0x20]
005e7b5c : FCOM
005e7b5e : FNSTSW AX
005e7b60 : TEST AH,0x41
005e7b63 : JP 0x005e7b8d
005e7b65 : FSUBRP
005e7b67 : SUB ESP,0x8
005e7b6a : ADD EBP,0x14
005e7b6d : FDIV double ptr [0x00b86058]
005e7b73 : FSTP double ptr [ESP]
005e7b76 : PUSH 0xb9446c
005e7b7b : PUSH EBP
005e7b7c : CALL 0x005e65e0
005e7b81 : ADD ESP,0x10
005e7b84 : POP EDI
005e7b85 : POP ESI
005e7b86 : POP EBP
005e7b87 : ADD ESP,0x18
005e7b8a : RET 0x8
005e7b8d : PUSH ECX
005e7b8e : FSTP ST1
005e7b90 : MOV EAX,ESP
005e7b92 : FSTP ST0
005e7b94 : MOV dword ptr [ESP + 0x10],0x0
005e7b9c : MOV dword ptr [ESP + 0x14],0x0
005e7ba4 : LEA EDX,[ESP + 0x10]
005e7ba8 : MOV dword ptr [EAX],EDI
005e7baa : MOV ECX,dword ptr [EBP + 0x20]
005e7bad : PUSH EDX
005e7bae : CALL 0x00565560
005e7bb3 : TEST AL,AL
005e7bb5 : JZ 0x005e7c08
005e7bb7 : CMP dword ptr [ESP + 0xc],0x0
005e7bbc : JNZ 0x005e7c1c
005e7bbe : MOV ECX,dword ptr [ESP + 0x10]
005e7bc2 : MOV ESI,ECX
005e7bc4 : TEST ECX,ECX
005e7bc6 : JZ 0x005e7c1c
005e7bc8 : MOV EAX,dword ptr [ECX]
005e7bca : MOV EDX,dword ptr [EAX + 0x8]
005e7bcd : CALL EDX
005e7bcf : AND EAX,0xff00
005e7bd4 : MOV ECX,ESI
005e7bd6 : CMP EAX,0x8400
005e7bdb : JNZ 0x005e7be9
005e7bdd : LEA EAX,[ESP + 0x14]
005e7be1 : PUSH EAX
005e7be2 : CALL 0x005e6460
005e7be7 : JMP 0x005e7c08
005e7be9 : MOV EDX,dword ptr [ESI]
005e7beb : MOV EAX,dword ptr [EDX + 0x8]
005e7bee : CALL EAX
005e7bf0 : AND EAX,0xff00
005e7bf5 : CMP EAX,0x8100
005e7bfa : JNZ 0x005e7c08
005e7bfc : LEA ECX,[ESP + 0x14]
005e7c00 : PUSH ECX
005e7c01 : MOV ECX,ESI
005e7c03 : CALL 0x005e64b0
005e7c08 : CMP dword ptr [ESP + 0xc],0x0
005e7c0d : JNZ 0x005e7c1c
005e7c0f : MOV ECX,dword ptr [ESP + 0x10]
005e7c13 : TEST ECX,ECX
005e7c15 : JZ 0x005e7c1c
005e7c17 : CALL 0x00524240
005e7c1c : POP EDI
005e7c1d : POP ESI
005e7c1e : POP EBP
005e7c1f : ADD ESP,0x18
005e7c22 : RET 0x8
