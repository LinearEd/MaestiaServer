PROGRAM  : Maestia.exe
FUNCTION : FUN_008853f0
ENTRY    : 008853f0
BODY     : [[008853f0, 00885502]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_008853f0(void)

{
  code *pcVar1;
  int iVar2;
  int iVar3;
  int *in_ECX;
  float10 extraout_ST0;
  float fVar4;
  float fVar5;
  float fVar6;
  
  if ((char)in_ECX[0x132] != '\0') {
    (**(code **)(*in_ECX + 0x188))(0x16,1,0,0,0,0x3f800000);
    iVar2 = (**(code **)(*in_ECX + 0x254))(1,in_ECX + 1,0);
    return iVar2;
  }
  (**(code **)(*in_ECX + 0x188))(0x14,1,0,0,0,0x3f800000);
  pcVar1 = *(code **)(*in_ECX + 0x254);
  in_ECX[0x172] = 0;
  *(undefined1 *)(in_ECX + 0x173) = 0;
  (*pcVar1)(1,in_ECX + 1,0);
  iVar2 = (**(code **)(*in_ECX + 0x1e4))();
  if ((short)iVar2 != 2) {
    iVar3 = _rand();
    iVar2 = iVar3 / 10;
    if ((3 < iVar3 % 10) && (*(int *)(DAT_0172491c + 0x17c) != 0)) {
      iVar2 = *(int *)(*(int *)(DAT_0172491c + 0x17c) + 1000);
      iVar3 = in_ECX[0xfa];
      fVar4 = *(float *)(iVar2 + 0x68) - *(float *)(iVar3 + 0x68);
      fVar6 = *(float *)(iVar2 + 0x70) - *(float *)(iVar3 + 0x70);
      fVar5 = *(float *)(iVar2 + 0x6c) - *(float *)(iVar3 + 0x6c);
      iVar2 = FUN_0040f460(fVar4 * fVar4 + fVar6 * fVar6 + fVar5 * fVar5);
      if (extraout_ST0 < (float10)150.0) {
        iVar2 = FUN_0088e570(0x13);
      }
    }
  }
  return iVar2;
}



============================================================
DISASSEMBLY
============================================================
008853f0 : FLD1
008853f2 : PUSH ESI
008853f3 : PUSH ECX
008853f4 : FSTP float ptr [ESP]
008853f7 : PUSH 0x0
008853f9 : MOV ESI,ECX
008853fb : CMP byte ptr [ESI + 0x4c8],0x0
00885402 : MOV EAX,dword ptr [ESI]
00885404 : MOV EDX,dword ptr [EAX + 0x188]
0088540a : PUSH 0x0
0088540c : PUSH 0x0
0088540e : PUSH 0x1
00885410 : JZ 0x0088542c
00885412 : PUSH 0x16
00885414 : CALL EDX
00885416 : MOV EAX,dword ptr [ESI]
00885418 : MOV EDX,dword ptr [EAX + 0x254]
0088541e : PUSH 0x0
00885420 : LEA ECX,[ESI + 0x4]
00885423 : PUSH ECX
00885424 : PUSH 0x1
00885426 : MOV ECX,ESI
00885428 : CALL EDX
0088542a : POP ESI
0088542b : RET
0088542c : PUSH 0x14
0088542e : CALL EDX
00885430 : MOV EAX,dword ptr [ESI]
00885432 : MOV EDX,dword ptr [EAX + 0x254]
00885438 : PUSH 0x0
0088543a : LEA ECX,[ESI + 0x4]
0088543d : PUSH ECX
0088543e : PUSH 0x1
00885440 : MOV ECX,ESI
00885442 : MOV dword ptr [ESI + 0x5c8],0x0
0088544c : MOV byte ptr [ESI + 0x5cc],0x0
00885453 : CALL EDX
00885455 : MOV EAX,dword ptr [ESI]
00885457 : MOV EDX,dword ptr [EAX + 0x1e4]
0088545d : MOV ECX,ESI
0088545f : CALL EDX
00885461 : CMP AX,0x2
00885465 : JZ 0x00885501
0088546b : CALL 0x00635d2f
00885470 : CDQ
00885471 : MOV ECX,0xa
00885476 : IDIV ECX
00885478 : CMP EDX,0x3
0088547b : JLE 0x00885501
00885481 : MOV EDX,dword ptr [0x0172491c]
00885487 : MOV ECX,dword ptr [EDX + 0x17c]
0088548d : TEST ECX,ECX
0088548f : JZ 0x00885501
00885491 : MOV ECX,dword ptr [ECX + 0x3e8]
00885497 : MOV EAX,dword ptr [ESI + 0x3e8]
0088549d : MOVSS XMM0,dword ptr [ECX + 0x68]
008854a2 : SUBSS XMM0,dword ptr [EAX + 0x68]
008854a7 : MOVSS XMM2,dword ptr [ECX + 0x70]
008854ac : SUBSS XMM2,dword ptr [EAX + 0x70]
008854b1 : MOVSS XMM1,dword ptr [ECX + 0x6c]
008854b6 : SUBSS XMM1,dword ptr [EAX + 0x6c]
008854bb : ADD ECX,0x68
008854be : ADD EAX,0x68
008854c1 : MOVAPS XMM3,XMM0
008854c4 : MULSS XMM3,XMM0
008854c8 : MOVAPS XMM0,XMM2
008854cb : MULSS XMM0,XMM2
008854cf : ADDSS XMM3,XMM0
008854d3 : MOVAPS XMM0,XMM1
008854d6 : MULSS XMM0,XMM1
008854da : PUSH ECX
008854db : ADDSS XMM3,XMM0
008854df : MOVSS dword ptr [ESP],XMM3
008854e4 : CALL 0x0040f460
008854e9 : FLD float ptr [0x00cdf22c]
008854ef : ADD ESP,0x4
008854f2 : FCOMIP ST0,ST1
008854f4 : FSTP ST0
008854f6 : JBE 0x00885501
008854f8 : PUSH 0x13
008854fa : MOV ECX,ESI
008854fc : CALL 0x0088e570
00885501 : POP ESI
00885502 : RET
