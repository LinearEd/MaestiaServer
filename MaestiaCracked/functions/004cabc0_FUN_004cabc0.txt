PROGRAM  : Maestia.exe
FUNCTION : FUN_004cabc0
ENTRY    : 004cabc0
BODY     : [[004cabc0, 004cad69]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_004cabc0(int *param_1)

{
  uint uVar1;
  uint uVar2;
  int in_ECX;
  float local_4c;
  undefined4 local_48;
  int local_44;
  undefined4 uStack_40;
  float afStack_3c [4];
  LPCRITICAL_SECTION p_Stack_2c;
  char *pcStack_28;
  undefined4 uStack_24;
  int iStack_20;
  undefined4 uStack_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b7a0d8;
  local_14 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffffa8;
  ExceptionList = &local_14;
  local_48 = 0;
  local_4c = -1.0;
  while (uVar2 = param_1[9], uVar2 < (uint)param_1[8]) {
    uVar2 = (**(code **)(*param_1 + 0x1c))(&local_44,uVar1);
    if ((char)uVar2 == '\0') {
      ExceptionList = local_14;
      return uVar2 & 0xffffff00;
    }
    uVar2 = local_44 - 0x62;
    switch(uVar2) {
    case 0:
      goto switchD_004cac3b_caseD_0;
    case 1:
      (**(code **)(*param_1 + 0xc))(&local_48,4,1);
      break;
    case 2:
      afStack_3c[2] = 0.0;
      afStack_3c[3] = 0.0;
      afStack_3c[0] = 0.0;
      afStack_3c[1] = 0.0;
      (**(code **)(*param_1 + 0xc))(afStack_3c,4,1);
      (**(code **)(*param_1 + 0xc))(&uStack_40,8,1);
      if (local_4c < afStack_3c[0]) {
        p_Stack_2c = (LPCRITICAL_SECTION)(in_ECX + 0x78);
        local_4c = afStack_3c[0];
        iStack_20 = 0;
        pcStack_28 = 
        "d:\\maestiaproject\\maestiasrc\\client\\main\\client\\avalib\\fx\\AvaFxIController.h";
        uStack_24 = 0x24a;
        uStack_1c = 1;
        FUN_006ef1a0(&p_Stack_2c);
        uStack_c = 0;
        FUN_004cb140();
        uStack_c = 0xffffffff;
        if (iStack_20 != 0) {
          LeaveCriticalSection(p_Stack_2c);
          iStack_20 = 0;
        }
      }
      break;
    case 3:
      (**(code **)(*param_1 + 0xc))(in_ECX + 0x50,4,1);
      break;
    default:
      (**(code **)(*param_1 + 0x24))(uStack_40);
    }
  }
switchD_004cac3b_caseD_0:
  ExceptionList = local_14;
  return CONCAT31((int3)(uVar2 >> 8),1);
}



============================================================
DISASSEMBLY
============================================================
004cabc0 : PUSH EBP
004cabc1 : MOV EBP,ESP
004cabc3 : AND ESP,0xfffffff8
004cabc6 : PUSH -0x1
004cabc8 : PUSH 0xb7a0d8
004cabcd : MOV EAX,FS:[0x0]
004cabd3 : PUSH EAX
004cabd4 : SUB ESP,0x38
004cabd7 : PUSH EBX
004cabd8 : PUSH ESI
004cabd9 : PUSH EDI
004cabda : MOV EAX,[0x00d66fa0]
004cabdf : XOR EAX,ESP
004cabe1 : PUSH EAX
004cabe2 : LEA EAX,[ESP + 0x48]
004cabe6 : MOV FS:[0x0],EAX
004cabec : MOV EBX,ECX
004cabee : MOVSS XMM0,dword ptr [0x00cdf0d0]
004cabf6 : MOV ESI,dword ptr [EBP + 0x8]
004cabf9 : XOR EDI,EDI
004cabfb : MOV dword ptr [ESP + 0x14],EDI
004cabff : MOVSS dword ptr [ESP + 0x10],XMM0
004cac05 : JMP 0x004cac09
004cac07 : XOR EDI,EDI
004cac09 : MOV EAX,dword ptr [ESI + 0x24]
004cac0c : CMP EAX,dword ptr [ESI + 0x20]
004cac0f : JNC 0x004cad53
004cac15 : MOV EDX,dword ptr [ESI]
004cac17 : MOV EDX,dword ptr [EDX + 0x1c]
004cac1a : LEA EAX,[ESP + 0x18]
004cac1e : PUSH EAX
004cac1f : MOV ECX,ESI
004cac21 : CALL EDX
004cac23 : TEST AL,AL
004cac25 : JZ 0x004cad3c
004cac2b : MOV EAX,dword ptr [ESP + 0x18]
004cac2f : ADD EAX,-0x62
004cac32 : CMP EAX,0x3
004cac35 : JA 0x004cad29
004cac3b : JMP dword ptr [EAX*0x4 + 0x4cad6c]
004cac42 : MOV EAX,dword ptr [ESI]
004cac44 : MOV EDX,dword ptr [EAX + 0xc]
004cac47 : PUSH 0x1
004cac49 : PUSH 0x4
004cac4b : LEA ECX,[ESP + 0x1c]
004cac4f : PUSH ECX
004cac50 : MOV ECX,ESI
004cac52 : CALL EDX
004cac54 : JMP 0x004cac09
004cac56 : MOV EAX,dword ptr [ESI]
004cac58 : MOV EDX,dword ptr [EAX + 0xc]
004cac5b : PUSH 0x1
004cac5d : PUSH 0x4
004cac5f : LEA ECX,[EBX + 0x50]
004cac62 : PUSH ECX
004cac63 : MOV ECX,ESI
004cac65 : CALL EDX
004cac67 : JMP 0x004cac09
004cac69 : XORPS XMM0,XMM0
004cac6c : MOV EAX,dword ptr [ESI]
004cac6e : MOV EDX,dword ptr [EAX + 0xc]
004cac71 : PUSH 0x1
004cac73 : PUSH 0x4
004cac75 : LEA ECX,[ESP + 0x28]
004cac79 : PUSH ECX
004cac7a : MOV ECX,ESI
004cac7c : MOVSS dword ptr [ESP + 0x34],XMM0
004cac82 : MOVSS dword ptr [ESP + 0x38],XMM0
004cac88 : MOVSS dword ptr [ESP + 0x2c],XMM0
004cac8e : MOV dword ptr [ESP + 0x30],EDI
004cac92 : CALL EDX
004cac94 : MOV EAX,dword ptr [ESI]
004cac96 : MOV EDX,dword ptr [EAX + 0xc]
004cac99 : PUSH 0x1
004cac9b : PUSH 0x8
004cac9d : LEA ECX,[ESP + 0x30]
004caca1 : PUSH ECX
004caca2 : MOV ECX,ESI
004caca4 : CALL EDX
004caca6 : MOVSS XMM0,dword ptr [ESP + 0x20]
004cacac : MOVSS XMM1,dword ptr [ESP + 0x10]
004cacb2 : COMISS XMM1,XMM0
004cacb5 : JNC 0x004cac09
004cacbb : LEA ECX,[ESP + 0x30]
004cacbf : LEA EAX,[EBX + 0x78]
004cacc2 : PUSH ECX
004cacc3 : MOVSS dword ptr [ESP + 0x14],XMM0
004cacc9 : MOV dword ptr [ESP + 0x40],EDI
004caccd : MOV dword ptr [ESP + 0x34],EAX
004cacd1 : MOV dword ptr [ESP + 0x38],0xcd9c40
004cacd9 : MOV dword ptr [ESP + 0x3c],0x24a
004cace1 : MOV dword ptr [ESP + 0x44],0x1
004cace9 : CALL 0x006ef1a0
004cacee : MOV dword ptr [ESP + 0x50],EDI
004cacf2 : LEA EDI,[EBX + 0x54]
004cacf5 : LEA ECX,[ESP + 0x20]
004cacf9 : CALL 0x004cb140
004cacfe : MOV dword ptr [ESP + 0x50],0xffffffff
004cad06 : CMP dword ptr [ESP + 0x3c],0x0
004cad0b : JZ 0x004cac07
004cad11 : MOV EDX,dword ptr [ESP + 0x30]
004cad15 : PUSH EDX
004cad16 : CALL dword ptr [0x00b8511c]
004cad1c : MOV dword ptr [ESP + 0x3c],0x0
004cad24 : JMP 0x004cac07
004cad29 : MOV ECX,dword ptr [ESP + 0x1c]
004cad2d : MOV EAX,dword ptr [ESI]
004cad2f : MOV EDX,dword ptr [EAX + 0x24]
004cad32 : PUSH ECX
004cad33 : MOV ECX,ESI
004cad35 : CALL EDX
004cad37 : JMP 0x004cac09
004cad3c : XOR AL,AL
004cad3e : MOV ECX,dword ptr [ESP + 0x48]
004cad42 : MOV dword ptr FS:[0x0],ECX
004cad49 : POP ECX
004cad4a : POP EDI
004cad4b : POP ESI
004cad4c : POP EBX
004cad4d : MOV ESP,EBP
004cad4f : POP EBP
004cad50 : RET 0x4
004cad53 : MOV AL,0x1
004cad55 : MOV ECX,dword ptr [ESP + 0x48]
004cad59 : MOV dword ptr FS:[0x0],ECX
004cad60 : POP ECX
004cad61 : POP EDI
004cad62 : POP ESI
004cad63 : POP EBX
004cad64 : MOV ESP,EBP
004cad66 : POP EBP
004cad67 : RET 0x4
