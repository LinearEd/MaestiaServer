PROGRAM  : Maestia.exe
FUNCTION : FUN_0085a190
ENTRY    : 0085a190
BODY     : [[0085a190, 0085a372]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0085a190(void)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  int *in_ECX;
  uint local_20;
  undefined4 local_1c;
  int local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3450e;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  (**(code **)(*in_ECX + 0x218))(0,local_14);
  (**(code **)(*in_ECX + 0x224))();
  local_18 = FUN_006f0760(0xec,".\\Loading\\AvaBaseBackgroundLoader.cpp",0xf6,0);
  local_8 = 10;
  if (local_18 == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_00793ba0(local_18);
  }
  iVar1 = DAT_017251b8;
  local_8 = 0xffffffff;
  local_1c = 0;
  FUN_00484470(&local_1c);
  iVar4 = DAT_017248f0;
  if ((local_18 == *(int *)(iVar1 + 0x50)) || (local_18 = *(int *)(local_18 + 0x10), local_18 == 0))
  {
    (**(code **)(*(int *)(*(int *)(in_ECX[0x4e] + 8) + 0x138 + (int)in_ECX) + 0x14))(0);
    goto LAB_0085a357;
  }
  DAT_017248f0 = DAT_017248f0 + 1;
  *(undefined4 *)(iVar2 + 0x2c) = 5;
  uVar3 = FUN_00404750(L"%d_%d_again",in_ECX[1],iVar4);
  local_8 = 0xb;
  FUN_00405eb0(uVar3,0,0xffffffff);
  local_8 = 0xffffffff;
  if (7 < local_20) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *(int *)(iVar2 + 0xe4) = in_ECX[1];
  *(int *)(iVar2 + 0x8c) = *(int *)(in_ECX[0x4e] + 8) + 0x138 + (int)in_ECX;
  if ((char)in_ECX[0x693] == '\0') {
    if (DAT_00da93ec == 0) goto LAB_0085a2f1;
    iVar4 = DAT_00da93ec + 0x10;
  }
  else if (DAT_00d7c550 == 0) {
LAB_0085a2f1:
    iVar4 = 0;
  }
  else {
    iVar4 = DAT_00d7c550 + 0x1c;
  }
  *(int *)(iVar2 + 0xe8) = iVar4;
  FUN_00793060();
  FUN_00793130();
  (**(code **)(*in_ECX + 0x228))(1);
  FUN_00792980();
LAB_0085a357:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0085a190 : PUSH EBP
0085a191 : MOV EBP,ESP
0085a193 : PUSH -0x1
0085a195 : PUSH 0xb3450e
0085a19a : MOV EAX,FS:[0x0]
0085a1a0 : PUSH EAX
0085a1a1 : SUB ESP,0x2c
0085a1a4 : MOV EAX,[0x00d66fa0]
0085a1a9 : XOR EAX,EBP
0085a1ab : MOV dword ptr [EBP + -0x10],EAX
0085a1ae : PUSH EBX
0085a1af : PUSH ESI
0085a1b0 : PUSH EDI
0085a1b1 : PUSH EAX
0085a1b2 : LEA EAX,[EBP + -0xc]
0085a1b5 : MOV FS:[0x0],EAX
0085a1bb : MOV EDI,ECX
0085a1bd : MOV EAX,dword ptr [EDI]
0085a1bf : MOV EDX,dword ptr [EAX + 0x218]
0085a1c5 : PUSH 0x0
0085a1c7 : CALL EDX
0085a1c9 : MOV EAX,dword ptr [EDI]
0085a1cb : MOV EDX,dword ptr [EAX + 0x224]
0085a1d1 : MOV ECX,EDI
0085a1d3 : CALL EDX
0085a1d5 : PUSH 0x0
0085a1d7 : PUSH 0xf6
0085a1dc : PUSH 0xc154e4
0085a1e1 : PUSH 0xec
0085a1e6 : CALL 0x006f0760
0085a1eb : ADD ESP,0x10
0085a1ee : MOV dword ptr [EBP + -0x14],EAX
0085a1f1 : MOV dword ptr [EBP + -0x4],0xa
0085a1f8 : TEST EAX,EAX
0085a1fa : JZ 0x0085a206
0085a1fc : PUSH EAX
0085a1fd : CALL 0x00793ba0
0085a202 : MOV EBX,EAX
0085a204 : JMP 0x0085a208
0085a206 : XOR EBX,EBX
0085a208 : MOV dword ptr [EBP + -0x4],0xffffffff
0085a20f : MOV ESI,dword ptr [0x017251b8]
0085a215 : LEA EAX,[EBP + -0x18]
0085a218 : PUSH EAX
0085a219 : LEA ECX,[ESI + 0x4c]
0085a21c : LEA EAX,[EBP + -0x14]
0085a21f : MOV dword ptr [EBP + -0x18],0x0
0085a226 : CALL 0x00484470
0085a22b : MOV ESI,dword ptr [ESI + 0x50]
0085a22e : MOV EAX,dword ptr [EBP + -0x14]
0085a231 : CMP EAX,ESI
0085a233 : JZ 0x0085a337
0085a239 : MOV EAX,dword ptr [EAX + 0x10]
0085a23c : MOV dword ptr [EBP + -0x14],EAX
0085a23f : TEST EAX,EAX
0085a241 : JZ 0x0085a337
0085a247 : MOV EAX,[0x017248f0]
0085a24c : MOV ECX,EAX
0085a24e : INC EAX
0085a24f : MOV dword ptr [EBX + 0x2c],0x5
0085a256 : MOV [0x017248f0],EAX
0085a25b : MOV EAX,dword ptr [EDI + 0x4]
0085a25e : PUSH ECX
0085a25f : PUSH EAX
0085a260 : PUSH 0xc40110
0085a265 : LEA ESI,[EBP + -0x34]
0085a268 : CALL 0x00404750
0085a26d : ADD ESP,0xc
0085a270 : MOV dword ptr [EBP + -0x4],0xb
0085a277 : PUSH -0x1
0085a279 : PUSH 0x0
0085a27b : PUSH EAX
0085a27c : LEA ECX,[EBX + 0xc]
0085a27f : CALL 0x00405eb0
0085a284 : MOV dword ptr [EBP + -0x4],0xffffffff
0085a28b : CMP dword ptr [EBP + -0x1c],0x8
0085a28f : JC 0x0085a299
0085a291 : MOV ECX,dword ptr [EBP + -0x30]
0085a294 : CALL 0x006f04e0
0085a299 : MOV EDX,dword ptr [EDI + 0x4]
0085a29c : XOR ECX,ECX
0085a29e : MOV dword ptr [EBX + 0xe4],EDX
0085a2a4 : MOV EAX,dword ptr [EDI + 0x138]
0085a2aa : MOV word ptr [EBP + -0x30],CX
0085a2ae : MOV ECX,dword ptr [EAX + 0x8]
0085a2b1 : LEA EAX,[ECX + EDI*0x1 + 0x138]
0085a2b8 : MOV dword ptr [EBX + 0x8c],EAX
0085a2be : CMP byte ptr [EDI + 0x1a4c],0x0
0085a2c5 : MOV dword ptr [EBP + -0x1c],0x7
0085a2cc : MOV dword ptr [EBP + -0x20],0x0
0085a2d3 : JZ 0x0085a2e3
0085a2d5 : MOV EAX,[0x00d7c550]
0085a2da : TEST EAX,EAX
0085a2dc : JZ 0x0085a2f1
0085a2de : ADD EAX,0x1c
0085a2e1 : JMP 0x0085a2f3
0085a2e3 : MOV EAX,[0x00da93ec]
0085a2e8 : TEST EAX,EAX
0085a2ea : JZ 0x0085a2f1
0085a2ec : ADD EAX,0x10
0085a2ef : JMP 0x0085a2f3
0085a2f1 : XOR EAX,EAX
0085a2f3 : MOV EDX,dword ptr [0x0172491c]
0085a2f9 : MOV dword ptr [EBX + 0xe8],EAX
0085a2ff : MOV EDX,dword ptr [EDX + 0x17c]
0085a305 : ADD EDX,0x1a4
0085a30b : MOV ECX,EBX
0085a30d : CALL 0x00793060
0085a312 : LEA EDX,[EDI + 0x1a4]
0085a318 : CALL 0x00793130
0085a31d : MOV EAX,dword ptr [EDI]
0085a31f : MOV EDX,dword ptr [EAX + 0x228]
0085a325 : PUSH 0x1
0085a327 : MOV ECX,EDI
0085a329 : CALL EDX
0085a32b : MOV ESI,dword ptr [EBP + -0x14]
0085a32e : MOV EDI,EBX
0085a330 : CALL 0x00792980
0085a335 : JMP 0x0085a357
0085a337 : MOV EAX,dword ptr [EDI + 0x138]
0085a33d : MOV ECX,dword ptr [EAX + 0x8]
0085a340 : MOV EDX,dword ptr [ECX + EDI*0x1 + 0x138]
0085a347 : MOV EAX,dword ptr [EDX + 0x14]
0085a34a : LEA EDI,[ECX + EDI*0x1 + 0x138]
0085a351 : PUSH 0x0
0085a353 : MOV ECX,EDI
0085a355 : CALL EAX
0085a357 : MOV ECX,dword ptr [EBP + -0xc]
0085a35a : MOV dword ptr FS:[0x0],ECX
0085a361 : POP ECX
0085a362 : POP EDI
0085a363 : POP ESI
0085a364 : POP EBX
0085a365 : MOV ECX,dword ptr [EBP + -0x10]
0085a368 : XOR ECX,EBP
0085a36a : CALL 0x00633e6b
0085a36f : MOV ESP,EBP
0085a371 : POP EBP
0085a372 : RET
