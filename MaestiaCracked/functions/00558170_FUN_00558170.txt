PROGRAM  : Maestia.exe
FUNCTION : FUN_00558170
ENTRY    : 00558170
BODY     : [[00558170, 005581e0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00558170(undefined4 param_1,uint param_2)

{
  int iVar1;
  int in_ECX;
  
  if (param_2 < *(uint *)(in_ECX + 4)) {
    for (iVar1 = *(uint *)(in_ECX + 4) - param_2; iVar1 != 0; iVar1 = iVar1 + -1) {
      FUN_005d4f60();
    }
    if (param_2 < *(uint *)(in_ECX + 8) >> 1) {
      FUN_00556a20(param_1,param_2);
      *(uint *)(in_ECX + 4) = param_2;
      return;
    }
  }
  else if (*(uint *)(in_ECX + 8) <= param_2) {
    FUN_00556a20(param_1,(param_2 >> 2) + param_2);
  }
  *(uint *)(in_ECX + 4) = param_2;
  return;
}



============================================================
DISASSEMBLY
============================================================
00558170 : PUSH ESI
00558171 : MOV ESI,dword ptr [ESP + 0xc]
00558175 : PUSH EDI
00558176 : MOV EDI,ECX
00558178 : MOV EAX,dword ptr [EDI + 0x4]
0055817b : CMP ESI,EAX
0055817d : JNC 0x005581c2
0055817f : MOV EDX,dword ptr [EDI]
00558181 : SUB EAX,ESI
00558183 : LEA ECX,[EAX + ESI*0x1]
00558186 : LEA ECX,[ECX + ECX*0x4]
00558189 : PUSH EBX
0055818a : LEA EBX,[EDX + ECX*0x8 + -0x28]
0055818e : JZ 0x005581a3
00558190 : PUSH EBP
00558191 : MOV EBP,EAX
00558193 : MOV ECX,EBX
00558195 : CALL 0x005d4f60
0055819a : SUB EBX,0x28
0055819d : SUB EBP,0x1
005581a0 : JNZ 0x00558193
005581a2 : POP EBP
005581a3 : MOV EAX,dword ptr [EDI + 0x8]
005581a6 : SHR EAX,0x1
005581a8 : POP EBX
005581a9 : CMP ESI,EAX
005581ab : JNC 0x005581d9
005581ad : MOV ECX,dword ptr [ESP + 0xc]
005581b1 : PUSH ESI
005581b2 : PUSH ECX
005581b3 : MOV ECX,EDI
005581b5 : CALL 0x00556a20
005581ba : MOV dword ptr [EDI + 0x4],ESI
005581bd : POP EDI
005581be : POP ESI
005581bf : RET 0x8
005581c2 : CMP ESI,dword ptr [EDI + 0x8]
005581c5 : JC 0x005581d9
005581c7 : MOV EAX,dword ptr [ESP + 0xc]
005581cb : MOV EDX,ESI
005581cd : SHR EDX,0x2
005581d0 : ADD EDX,ESI
005581d2 : PUSH EDX
005581d3 : PUSH EAX
005581d4 : CALL 0x00556a20
005581d9 : MOV dword ptr [EDI + 0x4],ESI
005581dc : POP EDI
005581dd : POP ESI
005581de : RET 0x8
