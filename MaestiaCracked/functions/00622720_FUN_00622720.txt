PROGRAM  : Maestia.exe
FUNCTION : FUN_00622720
ENTRY    : 00622720
BODY     : [[00622720, 00622786]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00622720(int param_1,int *param_2)

{
  int *piVar1;
  int iVar2;
  
  if (param_2 == *(int **)(param_1 + 0x124)) {
    iVar2 = *param_2;
    *(int *)(param_1 + 0x124) = iVar2;
    if (iVar2 == 0) {
      *(undefined4 *)(param_1 + 0x128) = 0;
    }
  }
  else if (param_2 == *(int **)(param_1 + 0x128)) {
    *(int *)(param_1 + 0x128) = param_2[1];
  }
  if ((int *)param_2[1] != (int *)0x0) {
    *(int *)param_2[1] = *param_2;
  }
  if (*param_2 != 0) {
    *(int *)(*param_2 + 4) = param_2[1];
  }
  piVar1 = (int *)(param_1 + 0x120);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 < 0) {
    *(undefined4 *)(param_1 + 0x120) = 0;
  }
  param_2[1] = 0;
  *param_2 = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
00622720 : MOV ECX,dword ptr [ESP + 0x4]
00622724 : MOV EAX,dword ptr [ESP + 0x8]
00622728 : PUSH ESI
00622729 : XOR ESI,ESI
0062272b : CMP EAX,dword ptr [ECX + 0x124]
00622731 : JNZ 0x00622747
00622733 : MOV EDX,dword ptr [EAX]
00622735 : MOV dword ptr [ECX + 0x124],EDX
0062273b : CMP EDX,ESI
0062273d : JNZ 0x00622758
0062273f : MOV dword ptr [ECX + 0x128],ESI
00622745 : JMP 0x00622758
00622747 : CMP EAX,dword ptr [ECX + 0x128]
0062274d : JNZ 0x00622758
0062274f : MOV EDX,dword ptr [EAX + 0x4]
00622752 : MOV dword ptr [ECX + 0x128],EDX
00622758 : MOV EDX,dword ptr [EAX + 0x4]
0062275b : PUSH EDI
0062275c : CMP EDX,ESI
0062275e : JZ 0x00622764
00622760 : MOV EDI,dword ptr [EAX]
00622762 : MOV dword ptr [EDX],EDI
00622764 : MOV EDX,dword ptr [EAX]
00622766 : CMP EDX,ESI
00622768 : JZ 0x00622770
0062276a : MOV EDI,dword ptr [EAX + 0x4]
0062276d : MOV dword ptr [EDX + 0x4],EDI
00622770 : ADD dword ptr [ECX + 0x120],-0x1
00622777 : POP EDI
00622778 : JNS 0x00622780
0062277a : MOV dword ptr [ECX + 0x120],ESI
00622780 : MOV dword ptr [EAX + 0x4],ESI
00622783 : MOV dword ptr [EAX],ESI
00622785 : POP ESI
00622786 : RET
