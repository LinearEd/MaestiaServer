PROGRAM  : Maestia.exe
FUNCTION : FUN_004f4290
ENTRY    : 004f4290
BODY     : [[004f4290, 004f4356]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004f4290(void)

{
  int iVar1;
  int *piVar2;
  uint uVar3;
  int in_ECX;
  int iVar4;
  int local_10;
  int local_c;
  int local_8;
  
  iVar4 = in_ECX + 0x9e8;
  local_8 = 5;
  local_10 = in_ECX;
  do {
    *(char *)(iVar4 + 4) = (char)(*(int *)(in_ECX + 0x10) - *(int *)(in_ECX + 0xc) >> 2);
    iVar1 = *(int *)(in_ECX + 0xc);
    if (iVar1 == 0) {
      uVar3 = 0;
    }
    else {
      uVar3 = *(int *)(in_ECX + 0x14) - iVar1 >> 2;
    }
    piVar2 = *(int **)(in_ECX + 0x10);
    local_c = iVar4;
    if ((uint)((int)piVar2 - iVar1 >> 2) < uVar3) {
      *piVar2 = iVar4;
      *(int **)(in_ECX + 0x10) = piVar2 + 1;
    }
    else {
      FUN_0042fe80(in_ECX + 8,piVar2,&local_c);
    }
    iVar4 = iVar4 + 0x34;
    local_8 = local_8 + -1;
  } while (local_8 != 0);
  *(char *)(local_10 + 0xaf0) = (char)(*(int *)(in_ECX + 0x10) - *(int *)(in_ECX + 0xc) >> 2);
  iVar4 = *(int *)(in_ECX + 0xc);
  if (iVar4 == 0) {
    uVar3 = 0;
  }
  else {
    uVar3 = *(int *)(in_ECX + 0x14) - iVar4 >> 2;
  }
  piVar2 = *(int **)(in_ECX + 0x10);
  if ((uint)((int)piVar2 - iVar4 >> 2) < uVar3) {
    *piVar2 = local_10 + 0xaec;
    *(int **)(in_ECX + 0x10) = piVar2 + 1;
    return;
  }
  local_10 = local_10 + 0xaec;
  FUN_0042fe80(in_ECX + 8,piVar2,&local_10);
  return;
}



============================================================
DISASSEMBLY
============================================================
004f4290 : PUSH EBP
004f4291 : MOV EBP,ESP
004f4293 : SUB ESP,0xc
004f4296 : PUSH ESI
004f4297 : PUSH EDI
004f4298 : MOV dword ptr [EBP + -0xc],ECX
004f429b : LEA ESI,[ECX + 0x8]
004f429e : LEA EDI,[ECX + 0x9e8]
004f42a4 : MOV dword ptr [EBP + -0x4],0x5
004f42ab : PUSH EBX
004f42ac : LEA ESP,[ESP]
004f42b0 : MOV EAX,dword ptr [ESI + 0x8]
004f42b3 : SUB EAX,dword ptr [ESI + 0x4]
004f42b6 : MOV dword ptr [EBP + -0x8],EDI
004f42b9 : SAR EAX,0x2
004f42bc : MOV byte ptr [EDI + 0x4],AL
004f42bf : MOV EDX,dword ptr [ESI + 0x4]
004f42c2 : TEST EDX,EDX
004f42c4 : JNZ 0x004f42ca
004f42c6 : XOR EAX,EAX
004f42c8 : JMP 0x004f42d2
004f42ca : MOV EAX,dword ptr [ESI + 0xc]
004f42cd : SUB EAX,EDX
004f42cf : SAR EAX,0x2
004f42d2 : MOV ECX,dword ptr [ESI + 0x8]
004f42d5 : MOV EBX,ECX
004f42d7 : SUB EBX,EDX
004f42d9 : SAR EBX,0x2
004f42dc : CMP EBX,EAX
004f42de : JNC 0x004f42ea
004f42e0 : MOV dword ptr [ECX],EDI
004f42e2 : ADD ECX,0x4
004f42e5 : MOV dword ptr [ESI + 0x8],ECX
004f42e8 : JMP 0x004f42f5
004f42ea : LEA EDX,[EBP + -0x8]
004f42ed : PUSH EDX
004f42ee : PUSH ECX
004f42ef : PUSH ESI
004f42f0 : CALL 0x0042fe80
004f42f5 : ADD EDI,0x34
004f42f8 : SUB dword ptr [EBP + -0x4],0x1
004f42fc : JNZ 0x004f42b0
004f42fe : MOV EAX,dword ptr [ESI + 0x8]
004f4301 : SUB EAX,dword ptr [ESI + 0x4]
004f4304 : MOV EDI,dword ptr [EBP + -0xc]
004f4307 : ADD EDI,0xaec
004f430d : SAR EAX,0x2
004f4310 : MOV byte ptr [EDI + 0x4],AL
004f4313 : MOV EDX,dword ptr [ESI + 0x4]
004f4316 : MOV dword ptr [EBP + -0xc],EDI
004f4319 : TEST EDX,EDX
004f431b : JNZ 0x004f4321
004f431d : XOR EAX,EAX
004f431f : JMP 0x004f4329
004f4321 : MOV EAX,dword ptr [ESI + 0xc]
004f4324 : SUB EAX,EDX
004f4326 : SAR EAX,0x2
004f4329 : MOV ECX,dword ptr [ESI + 0x8]
004f432c : MOV EBX,ECX
004f432e : SUB EBX,EDX
004f4330 : SAR EBX,0x2
004f4333 : CMP EBX,EAX
004f4335 : POP EBX
004f4336 : JNC 0x004f4346
004f4338 : MOV dword ptr [ECX],EDI
004f433a : ADD ECX,0x4
004f433d : POP EDI
004f433e : MOV dword ptr [ESI + 0x8],ECX
004f4341 : POP ESI
004f4342 : MOV ESP,EBP
004f4344 : POP EBP
004f4345 : RET
004f4346 : LEA EDX,[EBP + -0xc]
004f4349 : PUSH EDX
004f434a : PUSH ECX
004f434b : PUSH ESI
004f434c : CALL 0x0042fe80
004f4351 : POP EDI
004f4352 : POP ESI
004f4353 : MOV ESP,EBP
004f4355 : POP EBP
004f4356 : RET
