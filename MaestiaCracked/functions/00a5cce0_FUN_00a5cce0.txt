PROGRAM  : Maestia.exe
FUNCTION : FUN_00a5cce0
ENTRY    : 00a5cce0
BODY     : [[00a5cce0, 00a5cdc7]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00a5cce0(int param_1)

{
  int *piVar1;
  undefined4 in_EAX;
  int iVar2;
  undefined1 auStack_14 [4];
  int local_10;
  int local_c;
  
  if (DAT_01720ef8 != 0) {
    FUN_004f8b90(&local_10,in_EAX);
    if (local_10 != 0) {
      if (local_c == 0) {
        iVar2 = 0;
      }
      else {
        iVar2 = *(int *)(local_c + 4) + local_10;
      }
      piVar1 = (int *)(iVar2 + 0x10c);
      *piVar1 = *piVar1 + -1;
      if (*piVar1 == 0) {
        if (local_c == 0) {
          iVar2 = 0;
        }
        else {
          iVar2 = *(int *)(local_c + 4) + local_10;
        }
        if (*(int *)(iVar2 + 0x108) == 0) {
          __wassert(L"iFind->second.m_pTexture",L".\\Source\\Texture.cpp",0x12e);
        }
        if (local_c == 0) {
          iVar2 = 0;
        }
        else {
          iVar2 = *(int *)(local_c + 4) + local_10;
        }
        (**(code **)(**(int **)(iVar2 + 0x108) + 8))(*(int **)(iVar2 + 0x108));
        if (local_c == 0) {
          iVar2 = 0;
        }
        else {
          iVar2 = *(int *)(local_c + 4) + local_10;
        }
        *(undefined4 *)(iVar2 + 0x108) = 0;
        *(undefined4 *)(param_1 + 4) = 0;
        FUN_004f8c20(auStack_14,local_10,local_c);
        if (*(int *)(DAT_01720ef8 + 8) == 0) {
          FUN_004f9270();
        }
      }
      return 1;
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00a5cce0 : PUSH EBP
00a5cce1 : MOV EBP,ESP
00a5cce3 : AND ESP,0xfffffff8
00a5cce6 : SUB ESP,0xc
00a5cce9 : PUSH EBX
00a5ccea : XOR EBX,EBX
00a5ccec : PUSH ESI
00a5cced : PUSH EDI
00a5ccee : CMP dword ptr [0x01720ef8],EBX
00a5ccf4 : JZ 0x00a5cdbd
00a5ccfa : PUSH EAX
00a5ccfb : LEA ECX,[ESP + 0x14]
00a5ccff : PUSH ECX
00a5cd00 : CALL 0x004f8b90
00a5cd05 : MOV EDI,dword ptr [ESP + 0x10]
00a5cd09 : CMP EDI,EBX
00a5cd0b : JZ 0x00a5cdbd
00a5cd11 : MOV ESI,dword ptr [ESP + 0x14]
00a5cd15 : CMP ESI,EBX
00a5cd17 : JZ 0x00a5cd20
00a5cd19 : MOV EAX,dword ptr [ESI + 0x4]
00a5cd1c : ADD EAX,EDI
00a5cd1e : JMP 0x00a5cd22
00a5cd20 : XOR EAX,EAX
00a5cd22 : ADD dword ptr [EAX + 0x10c],-0x1
00a5cd29 : JNZ 0x00a5cdb2
00a5cd2f : CMP ESI,EBX
00a5cd31 : JZ 0x00a5cd3a
00a5cd33 : MOV EAX,dword ptr [ESI + 0x4]
00a5cd36 : ADD EAX,EDI
00a5cd38 : JMP 0x00a5cd3c
00a5cd3a : XOR EAX,EAX
00a5cd3c : CMP dword ptr [EAX + 0x108],EBX
00a5cd42 : JNZ 0x00a5cd5b
00a5cd44 : PUSH 0x12e
00a5cd49 : PUSH 0xbf2734
00a5cd4e : PUSH 0xbf2760
00a5cd53 : CALL 0x00640200
00a5cd58 : ADD ESP,0xc
00a5cd5b : CMP ESI,EBX
00a5cd5d : JZ 0x00a5cd66
00a5cd5f : MOV EAX,dword ptr [ESI + 0x4]
00a5cd62 : ADD EAX,EDI
00a5cd64 : JMP 0x00a5cd68
00a5cd66 : XOR EAX,EAX
00a5cd68 : MOV EAX,dword ptr [EAX + 0x108]
00a5cd6e : MOV EDX,dword ptr [EAX]
00a5cd70 : PUSH EAX
00a5cd71 : MOV EAX,dword ptr [EDX + 0x8]
00a5cd74 : CALL EAX
00a5cd76 : CMP ESI,EBX
00a5cd78 : JZ 0x00a5cd81
00a5cd7a : MOV EAX,dword ptr [ESI + 0x4]
00a5cd7d : ADD EAX,EDI
00a5cd7f : JMP 0x00a5cd83
00a5cd81 : XOR EAX,EAX
00a5cd83 : MOV ECX,dword ptr [EBP + 0x8]
00a5cd86 : MOV dword ptr [EAX + 0x108],EBX
00a5cd8c : SUB ESP,0x8
00a5cd8f : MOV EAX,ESP
00a5cd91 : LEA EDX,[ESP + 0x18]
00a5cd95 : MOV dword ptr [ECX + 0x4],EBX
00a5cd98 : PUSH EDX
00a5cd99 : MOV dword ptr [EAX],EDI
00a5cd9b : MOV dword ptr [EAX + 0x4],ESI
00a5cd9e : CALL 0x004f8c20
00a5cda3 : MOV EAX,[0x01720ef8]
00a5cda8 : CMP dword ptr [EAX + 0x8],EBX
00a5cdab : JNZ 0x00a5cdb2
00a5cdad : CALL 0x004f9270
00a5cdb2 : MOV AL,0x1
00a5cdb4 : POP EDI
00a5cdb5 : POP ESI
00a5cdb6 : POP EBX
00a5cdb7 : MOV ESP,EBP
00a5cdb9 : POP EBP
00a5cdba : RET 0x4
00a5cdbd : POP EDI
00a5cdbe : POP ESI
00a5cdbf : MOV AL,BL
00a5cdc1 : POP EBX
00a5cdc2 : MOV ESP,EBP
00a5cdc4 : POP EBP
00a5cdc5 : RET 0x4
