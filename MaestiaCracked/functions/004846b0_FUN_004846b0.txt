PROGRAM  : Maestia.exe
FUNCTION : FUN_004846b0
ENTRY    : 004846b0
BODY     : [[004846b0, 00484790]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004846b0(uint param_1)

{
  uint uVar1;
  int iVar2;
  int in_ECX;
  uint local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7a490;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (0x15555555 < param_1) {
    FUN_00452880();
  }
  uVar1 = 0;
  if (*(int *)(in_ECX + 4) != 0) {
    uVar1 = (*(int *)(in_ECX + 0xc) - *(int *)(in_ECX + 4)) / 0xc;
  }
  if (uVar1 < param_1) {
    iVar2 = FUN_0040dbb0();
    local_8 = 0;
    local_18 = local_18 & 0xffffff00;
    FUN_00485030(*(undefined4 *)(in_ECX + 4),*(undefined4 *)(in_ECX + 8),iVar2,param_1,local_18);
    local_8 = 0xffffffff;
    if (*(int *)(in_ECX + 4) != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(uint *)(in_ECX + 0xc) = iVar2 + param_1 * 0xc;
    *(int *)(in_ECX + 8) = iVar2 + ((*(int *)(in_ECX + 8) - *(int *)(in_ECX + 4)) / 0xc) * 0xc;
    *(int *)(in_ECX + 4) = iVar2;
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
004846b0 : PUSH EBP
004846b1 : MOV EBP,ESP
004846b3 : PUSH -0x1
004846b5 : PUSH 0xb7a490
004846ba : MOV EAX,FS:[0x0]
004846c0 : PUSH EAX
004846c1 : SUB ESP,0x10
004846c4 : PUSH EBX
004846c5 : PUSH ESI
004846c6 : PUSH EDI
004846c7 : MOV EAX,[0x00d66fa0]
004846cc : XOR EAX,EBP
004846ce : PUSH EAX
004846cf : LEA EAX,[EBP + -0xc]
004846d2 : MOV FS:[0x0],EAX
004846d8 : MOV dword ptr [EBP + -0x10],ESP
004846db : MOV ESI,ECX
004846dd : MOV EDI,dword ptr [EBP + 0x8]
004846e0 : CMP EDI,0x15555555
004846e6 : JBE 0x004846ed
004846e8 : CALL 0x00452880
004846ed : MOV EAX,dword ptr [ESI + 0x4]
004846f0 : TEST EAX,EAX
004846f2 : JZ 0x00484709
004846f4 : MOV ECX,dword ptr [ESI + 0xc]
004846f7 : SUB ECX,EAX
004846f9 : MOV EAX,0x2aaaaaab
004846fe : IMUL ECX
00484700 : SAR EDX,0x1
00484702 : MOV EAX,EDX
00484704 : SHR EAX,0x1f
00484707 : ADD EAX,EDX
00484709 : CMP EAX,EDI
0048470b : JNC 0x0048477d
0048470d : MOV ECX,EDI
0048470f : CALL 0x0040dbb0
00484714 : MOV EBX,EAX
00484716 : MOV dword ptr [EBP + -0x18],EBX
00484719 : MOV dword ptr [EBP + -0x4],0x0
00484720 : MOV EAX,dword ptr [ESI + 0x8]
00484723 : MOV ECX,dword ptr [ESI + 0x4]
00484726 : MOV byte ptr [EBP + -0x14],0x0
0048472a : MOV EDX,dword ptr [EBP + -0x14]
0048472d : PUSH EDX
0048472e : MOV EDX,dword ptr [EBP + 0x8]
00484731 : PUSH EDX
00484732 : PUSH EBX
00484733 : PUSH EAX
00484734 : PUSH ECX
00484735 : CALL 0x00485030
0048473a : ADD ESP,0x14
0048473d : MOV dword ptr [EBP + -0x4],0xffffffff
00484744 : MOV ECX,dword ptr [ESI + 0x4]
00484747 : MOV EDX,dword ptr [ESI + 0x8]
0048474a : SUB EDX,ECX
0048474c : MOV EAX,0x2aaaaaab
00484751 : IMUL EDX
00484753 : SAR EDX,0x1
00484755 : MOV EDI,EDX
00484757 : SHR EDI,0x1f
0048475a : ADD EDI,EDX
0048475c : TEST ECX,ECX
0048475e : JZ 0x00484765
00484760 : CALL 0x006f04e0
00484765 : MOV EAX,dword ptr [EBP + 0x8]
00484768 : LEA EAX,[EAX + EAX*0x2]
0048476b : LEA ECX,[EBX + EAX*0x4]
0048476e : MOV dword ptr [ESI + 0xc],ECX
00484771 : LEA EDX,[EDI + EDI*0x2]
00484774 : LEA EAX,[EBX + EDX*0x4]
00484777 : MOV dword ptr [ESI + 0x8],EAX
0048477a : MOV dword ptr [ESI + 0x4],EBX
0048477d : MOV ECX,dword ptr [EBP + -0xc]
00484780 : MOV dword ptr FS:[0x0],ECX
00484787 : POP ECX
00484788 : POP EDI
00484789 : POP ESI
0048478a : POP EBX
0048478b : MOV ESP,EBP
0048478d : POP EBP
0048478e : RET 0x4
