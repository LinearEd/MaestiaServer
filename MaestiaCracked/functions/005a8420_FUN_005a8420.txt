PROGRAM  : Maestia.exe
FUNCTION : FUN_005a8420
ENTRY    : 005a8420
BODY     : [[005a8420, 005a84ef]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005a8420(int param_1,byte param_2,char param_3,char param_4)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  
  uVar3 = (uint)*(ushort *)(param_1 + 0xc);
  if (0x20 < uVar3) {
    uVar3 = *(uint *)(param_1 + 0x10);
  }
  iVar4 = param_1;
  if (param_3 != '\0') {
    uVar1 = (uint)*(ushort *)(param_1 + -2);
    if (0x20 < uVar1) {
      uVar1 = *(uint *)(param_1 + -8);
    }
    iVar4 = param_1 - (uVar1 << (param_2 & 0x1f));
    uVar1 = (uint)*(ushort *)(iVar4 + 0xc);
    if (0x20 < uVar1) {
      uVar1 = *(uint *)(iVar4 + 0x10);
    }
    uVar3 = uVar3 + uVar1;
    FUN_005a8040(iVar4);
  }
  if (param_4 != '\0') {
    uVar1 = (uint)*(ushort *)(param_1 + 0xc);
    if (0x20 < uVar1) {
      uVar1 = *(uint *)(param_1 + 0x10);
    }
    iVar2 = uVar1 << (param_2 & 0x1f);
    uVar1 = (uint)*(ushort *)(iVar2 + 0xc + param_1);
    iVar2 = iVar2 + param_1;
    if (0x20 < uVar1) {
      uVar1 = *(uint *)(iVar2 + 0x10);
    }
    uVar3 = uVar3 + uVar1;
    FUN_005a8040(iVar2);
  }
  iVar2 = uVar3 << (param_2 & 0x1f);
  if (uVar3 < 0x21) {
    *(short *)(iVar2 + -2 + iVar4) = (short)uVar3;
    *(short *)(iVar4 + 0xc) = (short)uVar3;
    FUN_005a7f80(iVar4);
    return;
  }
  *(undefined2 *)(iVar2 + -2 + iVar4) = 0x21;
  *(undefined2 *)(iVar4 + 0xc) = 0x21;
  *(uint *)(iVar2 + -8 + iVar4) = uVar3;
  *(uint *)(iVar4 + 0x10) = uVar3;
  FUN_005a7f80(iVar4);
  return;
}



============================================================
DISASSEMBLY
============================================================
005a8420 : PUSH ECX
005a8421 : PUSH EBX
005a8422 : PUSH ESI
005a8423 : PUSH EDI
005a8424 : MOV EDI,dword ptr [ESP + 0x14]
005a8428 : MOVZX EBX,word ptr [EDI + 0xc]
005a842c : MOV EDX,ECX
005a842e : MOV dword ptr [ESP + 0xc],EDX
005a8432 : CMP EBX,0x21
005a8435 : JC 0x005a843a
005a8437 : MOV EBX,dword ptr [EDI + 0x10]
005a843a : CMP byte ptr [ESP + 0x1c],0x0
005a843f : PUSH EBP
005a8440 : MOV EBP,dword ptr [ESP + 0x1c]
005a8444 : MOV ESI,EDI
005a8446 : JZ 0x005a8474
005a8448 : MOVZX EAX,word ptr [EDI + -0x2]
005a844c : CMP EAX,0x21
005a844f : JC 0x005a8454
005a8451 : MOV EAX,dword ptr [EDI + -0x8]
005a8454 : MOV ECX,EBP
005a8456 : SHL EAX,CL
005a8458 : SUB ESI,EAX
005a845a : MOVZX EAX,word ptr [ESI + 0xc]
005a845e : CMP EAX,0x21
005a8461 : JC 0x005a8466
005a8463 : MOV EAX,dword ptr [ESI + 0x10]
005a8466 : PUSH ESI
005a8467 : MOV ECX,EDX
005a8469 : ADD EBX,EAX
005a846b : CALL 0x005a8040
005a8470 : MOV EDX,dword ptr [ESP + 0x10]
005a8474 : CMP byte ptr [ESP + 0x24],0x0
005a8479 : JZ 0x005a84a8
005a847b : MOVZX EAX,word ptr [EDI + 0xc]
005a847f : CMP EAX,0x21
005a8482 : JC 0x005a8487
005a8484 : MOV EAX,dword ptr [EDI + 0x10]
005a8487 : MOV ECX,EBP
005a8489 : SHL EAX,CL
005a848b : MOVZX ECX,word ptr [EAX + EDI*0x1 + 0xc]
005a8490 : ADD EAX,EDI
005a8492 : CMP ECX,0x21
005a8495 : JC 0x005a849a
005a8497 : MOV ECX,dword ptr [EAX + 0x10]
005a849a : ADD EBX,ECX
005a849c : PUSH EAX
005a849d : MOV ECX,EDX
005a849f : CALL 0x005a8040
005a84a4 : MOV EDX,dword ptr [ESP + 0x10]
005a84a8 : MOV ECX,EBP
005a84aa : MOV EAX,EBX
005a84ac : SHL EAX,CL
005a84ae : POP EBP
005a84af : CMP EBX,0x21
005a84b2 : JNC 0x005a84cc
005a84b4 : MOV word ptr [EAX + ESI*0x1 + -0x2],BX
005a84b9 : PUSH ESI
005a84ba : MOV ECX,EDX
005a84bc : MOV word ptr [ESI + 0xc],BX
005a84c0 : CALL 0x005a7f80
005a84c5 : POP EDI
005a84c6 : POP ESI
005a84c7 : POP EBX
005a84c8 : POP ECX
005a84c9 : RET 0x10
005a84cc : MOV ECX,0x21
005a84d1 : MOV word ptr [EAX + ESI*0x1 + -0x2],CX
005a84d6 : MOV word ptr [ESI + 0xc],CX
005a84da : MOV dword ptr [EAX + ESI*0x1 + -0x8],EBX
005a84de : PUSH ESI
005a84df : MOV ECX,EDX
005a84e1 : MOV dword ptr [ESI + 0x10],EBX
005a84e4 : CALL 0x005a7f80
005a84e9 : POP EDI
005a84ea : POP ESI
005a84eb : POP EBX
005a84ec : POP ECX
005a84ed : RET 0x10
