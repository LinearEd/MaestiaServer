PROGRAM  : Maestia.exe
FUNCTION : FUN_00a2dfb0
ENTRY    : 00a2dfb0
BODY     : [[00a2dfb0, 00a2e766]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00a2dfb0(int param_1,int param_2)

{
  undefined4 *puVar1;
  int iVar2;
  char cVar3;
  undefined1 uVar4;
  short sVar5;
  undefined2 uVar6;
  uint uVar7;
  DWORD DVar8;
  BOOL BVar9;
  int *piVar10;
  int iVar11;
  undefined4 uVar12;
  uint8_t *packet;
  int in_ECX;
  code *pcVar13;
  int *piVar14;
  float10 fVar15;
  float10 fVar16;
  float fVar17;
  float fVar18;
  undefined1 local_40 [28];
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b47240;
  local_10 = ExceptionList;
  uVar7 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  if (*(char *)(*(int *)(in_ECX + 0x41c) + 0x6a) != '\0') {
    return 0;
  }
  ExceptionList = &local_10;
  cVar3 = FUN_0086ea90(*(undefined4 *)(in_ECX + 0xac));
  if (cVar3 != '\0') {
    ExceptionList = local_10;
    return 0;
  }
  cVar3 = FUN_008896f0(uVar7);
  if (cVar3 != '\0') {
    ExceptionList = local_10;
    return 0;
  }
  cVar3 = FUN_0040e1b0();
  if (cVar3 != '\0') {
    ExceptionList = local_10;
    return 0;
  }
  if ((*(int *)(*DAT_00da9894 + 0x158) != 0) &&
     (*(char *)(*(int *)(*DAT_00da9894 + 0x158) + 0x32) != '\0')) {
    FUN_00989980();
    ExceptionList = local_10;
    return 1;
  }
  cVar3 = FUN_00a1dfd0();
  if (cVar3 == '\0') {
    ExceptionList = local_10;
    return 0;
  }
  FUN_00a172f0();
  *(undefined4 *)(in_ECX + 1000) = 0;
  *(undefined4 *)(in_ECX + 0x3ec) = 0;
  if (*(int *)(in_ECX + 600) == 0) {
    ExceptionList = local_10;
    return 0;
  }
  if (*(int *)(in_ECX + 0x580) != 0) {
    FUN_007de180();
    DVar8 = WaitForSingleObject(*(HANDLE *)(in_ECX + 0x580),0xffffffff);
    if ((DVar8 == 0) && (BVar9 = CloseHandle(*(HANDLE *)(in_ECX + 0x580)), BVar9 == 0)) {
      FUN_008018d0(L"Pathfinder CloseHandle Error");
    }
    InterlockedExchange((LONG *)(DAT_00da93ec + 0x57c),0);
    puVar1 = *(undefined4 **)(in_ECX + 0x588);
    *(undefined4 *)(in_ECX + 0x580) = 0;
    if (puVar1 != (undefined4 *)0x0) {
      *puVar1 = 0xbf800000;
      puVar1[1] = 0xbf800000;
      puVar1[2] = 0xbf800000;
      puVar1[3] = 0xbf800000;
      puVar1[4] = 0xbf800000;
      puVar1[5] = 0xbf800000;
      *(undefined1 *)(puVar1 + 6) = 0;
      *(undefined1 *)((int)puVar1 + 0x19) = 0;
      *(undefined1 *)((int)puVar1 + 0x1a) = 0;
      puVar1[7] = 0;
    }
  }
  piVar14 = *(int **)(in_ECX + 600);
  piVar10 = (int *)FUN_00a1a620(piVar14[1]);
  if (piVar10 != (int *)0x0) {
    piVar14 = piVar10;
  }
  cVar3 = FUN_008896f0();
  if (((cVar3 != '\0') && (param_1 == 0)) && (param_2 == 0)) {
    iVar11 = piVar14[0xfa];
    *(undefined4 *)(in_ECX + 0x4cc) = *(undefined4 *)(iVar11 + 0x68);
    *(undefined4 *)(in_ECX + 0x4d0) = *(undefined4 *)(iVar11 + 0x6c);
    *(undefined4 *)(in_ECX + 0x4d4) = *(undefined4 *)(iVar11 + 0x70);
    iVar11 = *(int *)(*(int *)(in_ECX + 0xac) + 1000);
    local_24 = *(float *)(iVar11 + 0x68);
    local_1c = *(float *)(iVar11 + 0x70);
    local_20 = 0.0;
    *(undefined4 *)(in_ECX + 0x4d0) = 0;
    cVar3 = FUN_00a24880(in_ECX);
    fVar17 = *(float *)(in_ECX + 0x4cc) - local_24;
    fVar18 = *(float *)(in_ECX + 0x4d4) - local_1c;
    fVar15 = (float10)FUN_0040f460(fVar17 * fVar17 + fVar18 * fVar18 +
                                   *(float *)(in_ECX + 0x4d0) * *(float *)(in_ECX + 0x4d0));
    if (((float10)DAT_00d72c20 <= fVar15) &&
       (iVar11 = (**(code **)(*piVar14 + 0x274))(), iVar11 != 0)) {
      *(int *)(in_ECX + 0x4d8) = piVar14[1];
      *(undefined1 *)(in_ECX + 0x4c9) = 1;
      *(undefined1 *)(in_ECX + 0x264) = 0;
      if (cVar3 != '\0') {
        FUN_00a2db00(in_ECX,(float *)(in_ECX + 0x4cc),0,0);
        ExceptionList = local_10;
        return 1;
      }
      ExceptionList = local_10;
      return 0;
    }
    if (*(int **)(in_ECX + 0xac) != (int *)0x0) {
      (**(code **)(**(int **)(in_ECX + 0xac) + 0x338))(1);
    }
    FUN_00a0d390(DAT_017247d4,2);
    *(undefined1 *)(in_ECX + 0x4c9) = 0;
    *(undefined4 *)(in_ECX + 0x4d8) = 0;
    ExceptionList = local_10;
    return 1;
  }
  cVar3 = FUN_008896f0();
  if ((cVar3 != '\0') && (param_1 != 0)) {
    FUN_00406460(L"IDS_CANCELED_SKILL_13");
    local_8 = 0;
    piVar14 = *(int **)(*DAT_00da9894 + 0x1a8);
    uVar12 = FUN_0081d120(local_40);
    local_8._0_1_ = 1;
    (**(code **)(*piVar14 + 0x44))(uVar12,3);
    local_8 = (uint)local_8._1_3_ << 8;
    FUN_00406560();
    local_8 = 0xffffffff;
    FUN_00406560();
    ExceptionList = local_10;
    return 0;
  }
  if ((*(char *)((int)piVar14 + 0x3b1) != '\0') && (param_1 == 0)) {
    cVar3 = FUN_0040e700();
    if (cVar3 != '\0') {
      ExceptionList = local_10;
      return 1;
    }
    param_1 = FUN_00a1fe80(in_ECX);
    if (param_1 == 0) {
      ExceptionList = local_10;
      return 1;
    }
  }
  iVar11 = *(int *)(*(int *)(in_ECX + 0xac) + 1000);
  iVar2 = piVar14[0xfa];
  local_24 = *(float *)(iVar2 + 0x68) - *(float *)(iVar11 + 0x68);
  local_20 = *(float *)(iVar2 + 0x6c) - *(float *)(iVar11 + 0x6c);
  local_1c = *(float *)(iVar2 + 0x70) - *(float *)(iVar11 + 0x70);
  iVar11 = piVar14[0x31];
  local_14 = *(float *)(*(int *)(in_ECX + 0xac) + 0xc4);
  fVar15 = (float10)FUN_0040f460(local_24 * local_24 + local_20 * local_20 + local_1c * local_1c);
  fVar16 = (float10)(iVar11 + (int)local_14);
  if (iVar11 + (int)local_14 < 0) {
    fVar16 = fVar16 + (float10)4.2949673e+09;
  }
  local_18 = (float)(fVar15 - fVar16);
  sVar5 = (**(code **)(*piVar14 + 0x1e4))();
  if (sVar5 == 0) {
LAB_00a2e43e:
    iVar2 = *(int *)(*(int *)(in_ECX + 0xac) + 0x1a54);
    iVar11 = *(int *)(*(int *)(in_ECX + 0xac) + 0x1a54);
LAB_00a2e452:
    local_14 = (float)iVar11;
    if (iVar2 < 0) {
      local_14 = local_14 + 4.2949673e+09;
    }
    local_14 = local_14 - DAT_00d72c20;
  }
  else if (sVar5 == 1) {
    cVar3 = (**(code **)(**(int **)(in_ECX + 0xac) + 0x290))(piVar14);
    if (cVar3 == '\0') {
      iVar2 = *(int *)(*(int *)(in_ECX + 0xac) + 0x1a54);
      iVar11 = *(int *)(*(int *)(in_ECX + 0xac) + 0x1a54);
      goto LAB_00a2e452;
    }
    local_14 = 15.0;
  }
  else {
    if (sVar5 == 2) goto LAB_00a2e43e;
    local_14 = 15.0;
  }
  cVar3 = (**(code **)(**(int **)(in_ECX + 0xac) + 0x290))(piVar14);
  fVar17 = local_14;
  if (cVar3 == '\0') {
    local_14 = (float)*(int *)(*(int *)(in_ECX + 0xac) + 0x1a54);
    if (*(int *)(*(int *)(in_ECX + 0xac) + 0x1a54) < 0) {
      local_14 = local_14 + 4.2949673e+09;
    }
    fVar17 = local_14 - DAT_00d72c20;
    if (local_14 - DAT_00d72c20 < 0.0) {
      fVar17 = 0.0;
    }
  }
  if ((local_18 < fVar17) && (param_1 == 0)) {
    D3DXVec3Normalize(&local_24,&local_24);
    piVar10 = *(int **)(in_ECX + 0xac);
    cVar3 = FUN_008896a0();
    if (cVar3 != '\0') {
      (**(code **)(*piVar10 + 0x4f4))();
    }
    piVar10 = *(int **)(in_ECX + 0xac);
    cVar3 = FUN_0040e000();
    if (cVar3 == '\0') {
      if (param_2 != 0) {
LAB_00a2e580:
        packet = (uint8_t *)FUN_006f4590();
        if (packet == (uint8_t *)0x0) {
          packet = (uint8_t *)0x0;
        }
        else {
          packet[0] = '\0';
          packet[1] = '\0';
          packet[2] = '4';
          packet[3] = '%';
        }
        local_8 = 0xffffffff;
        if (*(int *)(DAT_017247d4 + 4) == 0) {
          ExceptionList = local_10;
          return 1;
        }
        if (*(char *)(DAT_017247d4 + 8) == '\0') {
          ExceptionList = local_10;
          return 1;
        }
        FUN_00a0dd40(*(int *)(DAT_017247d4 + 4),4,packet);
        ExceptionList = local_10;
        return 1;
      }
      (**(code **)(*piVar10 + 0x2b0))(local_24,local_1c,0);
    }
    else if (param_2 != 0) goto LAB_00a2e580;
    iVar11 = FUN_004049b0(piVar14[2]);
    if ((iVar11 == 0) || ((*(uint *)(iVar11 + 0x4c) & 0x400000) == 0)) {
      FUN_00a0d390(DAT_017247d4,2);
      ExceptionList = local_10;
      return 1;
    }
    if (*DAT_00da9894 == 0) {
      ExceptionList = local_10;
      return 1;
    }
    piVar14 = *(int **)(*DAT_00da9894 + 0x2cc);
    if (piVar14 == (int *)0x0) {
      ExceptionList = local_10;
      return 1;
    }
    (**(code **)(*piVar14 + 0x18))(0,300);
    ExceptionList = local_10;
    return 1;
  }
  uVar6 = (**(code **)(*piVar14 + 0x1e4))();
  switch(uVar6) {
  case 0:
  case 2:
    piVar10 = *(int **)(in_ECX + 0xac);
    if (param_1 == 0) {
      if ((char)piVar10[0x5a4] != '\0') {
        if (DAT_0172491c == 0) {
          ExceptionList = local_10;
          return 1;
        }
        if (*DAT_00da9894 == 0) {
          ExceptionList = local_10;
          return 1;
        }
        if (*(int *)(*DAT_00da9894 + 0x1a8) == 0) {
          ExceptionList = local_10;
          return 1;
        }
        FUN_00406460(L"IDS_CANCELED_SKILL_21");
        local_8 = 3;
        piVar14 = *(int **)(*DAT_00da9894 + 0x1a8);
        uVar12 = FUN_0081d120(local_40);
        local_8._0_1_ = 4;
        (**(code **)(*piVar14 + 0x44))(uVar12,3);
        local_8 = CONCAT31(local_8._1_3_,3);
        FUN_00406560();
        local_8 = 0xffffffff;
        FUN_00406560();
        ExceptionList = local_10;
        return 1;
      }
LAB_00a2e621:
      iVar11 = *piVar10;
      uVar4 = FUN_0040e000();
      uVar12 = 0;
LAB_00a2e743:
      param_1 = 0;
      pcVar13 = *(code **)(iVar11 + 0x398);
      goto LAB_00a2e749;
    }
    break;
  case 1:
    cVar3 = (**(code **)(**(int **)(in_ECX + 0xac) + 0x290))(piVar14);
    piVar10 = *(int **)(in_ECX + 0xac);
    if (cVar3 != '\0') {
      iVar11 = *piVar10;
      uVar4 = FUN_0040e000();
      (**(code **)(iVar11 + 0x398))(piVar14[1],3,0,uVar4);
      ExceptionList = local_10;
      return 1;
    }
    if (param_1 == 0) goto LAB_00a2e621;
    break;
  default:
    if (param_1 == 0) {
      iVar11 = **(int **)(in_ECX + 0xac);
      uVar4 = FUN_0040e000();
      uVar12 = 3;
      goto LAB_00a2e743;
    }
    pcVar13 = *(code **)(**(int **)(in_ECX + 0xac) + 0x398);
    uVar4 = 0;
    uVar12 = 1;
LAB_00a2e749:
    iVar11 = piVar14[1];
    goto LAB_00a2e74d;
  case 5:
    goto switchD_00a2e603_caseD_5;
  }
  iVar11 = piVar14[1];
  pcVar13 = *(code **)(*piVar10 + 0x398);
  uVar4 = 0;
  uVar12 = 1;
LAB_00a2e74d:
  (*pcVar13)(iVar11,uVar12,param_1,uVar4);
switchD_00a2e603_caseD_5:
  ExceptionList = local_10;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
00a2dfb0 : PUSH EBP
00a2dfb1 : MOV EBP,ESP
00a2dfb3 : PUSH -0x1
00a2dfb5 : PUSH 0xb47240
00a2dfba : MOV EAX,FS:[0x0]
00a2dfc0 : PUSH EAX
00a2dfc1 : SUB ESP,0x4c
00a2dfc4 : PUSH EBX
00a2dfc5 : PUSH ESI
00a2dfc6 : PUSH EDI
00a2dfc7 : MOV EAX,[0x00d66fa0]
00a2dfcc : XOR EAX,EBP
00a2dfce : PUSH EAX
00a2dfcf : LEA EAX,[EBP + -0xc]
00a2dfd2 : MOV FS:[0x0],EAX
00a2dfd8 : MOV EDI,ECX
00a2dfda : MOV EAX,dword ptr [EDI + 0x41c]
00a2dfe0 : MOV AL,byte ptr [EAX + 0x6a]
00a2dfe3 : TEST AL,AL
00a2dfe5 : JNZ 0x00a2e2f7
00a2dfeb : MOV ECX,dword ptr [EDI + 0xac]
00a2dff1 : PUSH ECX
00a2dff2 : CALL 0x0086ea90
00a2dff7 : TEST AL,AL
00a2dff9 : JNZ 0x00a2e2f7
00a2dfff : MOV ESI,dword ptr [EDI + 0xac]
00a2e005 : MOV EAX,ESI
00a2e007 : CALL 0x008896f0
00a2e00c : TEST AL,AL
00a2e00e : JNZ 0x00a2e2f7
00a2e014 : MOV EAX,ESI
00a2e016 : CALL 0x0040e1b0
00a2e01b : TEST AL,AL
00a2e01d : JNZ 0x00a2e2f7
00a2e023 : MOV EDX,dword ptr [0x00da9894]
00a2e029 : MOV EAX,dword ptr [EDX]
00a2e02b : MOV EAX,dword ptr [EAX + 0x158]
00a2e031 : XOR ESI,ESI
00a2e033 : CMP EAX,ESI
00a2e035 : JZ 0x00a2e049
00a2e037 : CMP byte ptr [EAX + 0x32],0x0
00a2e03b : JZ 0x00a2e049
00a2e03d : MOV ESI,EAX
00a2e03f : CALL 0x00989980
00a2e044 : JMP 0x00a2e751
00a2e049 : MOV EAX,EDI
00a2e04b : CALL 0x00a1dfd0
00a2e050 : TEST AL,AL
00a2e052 : JZ 0x00a2e2f7
00a2e058 : MOV EAX,EDI
00a2e05a : CALL 0x00a172f0
00a2e05f : MOV dword ptr [EDI + 0x3e8],ESI
00a2e065 : MOV dword ptr [EDI + 0x3ec],ESI
00a2e06b : CMP dword ptr [EDI + 0x258],ESI
00a2e071 : JZ 0x00a2e2f7
00a2e077 : CMP dword ptr [EDI + 0x580],ESI
00a2e07d : JZ 0x00a2e11c
00a2e083 : MOV EAX,dword ptr [EDI + 0xc]
00a2e086 : CALL 0x007de180
00a2e08b : MOV EAX,dword ptr [EDI + 0x580]
00a2e091 : PUSH -0x1
00a2e093 : PUSH EAX
00a2e094 : CALL dword ptr [0x00b85100]
00a2e09a : CMP EAX,ESI
00a2e09c : JNZ 0x00a2e0c4
00a2e09e : MOV ECX,dword ptr [EDI + 0x580]
00a2e0a4 : PUSH ECX
00a2e0a5 : CALL dword ptr [0x00b85104]
00a2e0ab : TEST EAX,EAX
00a2e0ad : JNZ 0x00a2e0c4
00a2e0af : MOV ESI,dword ptr [0x00da98e8]
00a2e0b5 : PUSH 0xcc41bc
00a2e0ba : CALL 0x008018d0
00a2e0bf : ADD ESP,0x4
00a2e0c2 : XOR ESI,ESI
00a2e0c4 : MOV EDX,dword ptr [0x00da93ec]
00a2e0ca : PUSH ESI
00a2e0cb : ADD EDX,0x57c
00a2e0d1 : PUSH EDX
00a2e0d2 : CALL dword ptr [0x00b85108]
00a2e0d8 : MOV EAX,dword ptr [EDI + 0x588]
00a2e0de : MOV dword ptr [EDI + 0x580],ESI
00a2e0e4 : CMP EAX,ESI
00a2e0e6 : JZ 0x00a2e11c
00a2e0e8 : MOVSS XMM0,dword ptr [0x00cdf0d0]
00a2e0f0 : MOVSS dword ptr [EAX],XMM0
00a2e0f4 : MOVSS dword ptr [EAX + 0x4],XMM0
00a2e0f9 : MOVSS dword ptr [EAX + 0x8],XMM0
00a2e0fe : MOVSS dword ptr [EAX + 0xc],XMM0
00a2e103 : MOVSS dword ptr [EAX + 0x10],XMM0
00a2e108 : MOVSS dword ptr [EAX + 0x14],XMM0
00a2e10d : MOV byte ptr [EAX + 0x18],0x0
00a2e111 : MOV byte ptr [EAX + 0x19],0x0
00a2e115 : MOV byte ptr [EAX + 0x1a],0x0
00a2e119 : MOV dword ptr [EAX + 0x1c],ESI
00a2e11c : MOV EBX,dword ptr [EDI + 0x258]
00a2e122 : MOV EAX,dword ptr [EBX + 0x4]
00a2e125 : PUSH EAX
00a2e126 : MOV ECX,EDI
00a2e128 : CALL 0x00a1a620
00a2e12d : CMP EAX,ESI
00a2e12f : CMOVNZ EBX,EAX
00a2e132 : MOV EAX,EBX
00a2e134 : CALL 0x008896f0
00a2e139 : MOV ESI,dword ptr [EBP + 0x8]
00a2e13c : TEST AL,AL
00a2e13e : JZ 0x00a2e28a
00a2e144 : TEST ESI,ESI
00a2e146 : JNZ 0x00a2e28a
00a2e14c : CMP dword ptr [EBP + 0xc],ESI
00a2e14f : JNZ 0x00a2e28a
00a2e155 : MOV EAX,dword ptr [EBX + 0x3e8]
00a2e15b : FLD float ptr [EAX + 0x68]
00a2e15e : ADD EAX,0x68
00a2e161 : FSTP float ptr [EDI + 0x4cc]
00a2e167 : LEA ESI,[EDI + 0x4cc]
00a2e16d : FLD float ptr [EAX + 0x4]
00a2e170 : PUSH EDI
00a2e171 : FSTP float ptr [ESI + 0x4]
00a2e174 : FLD float ptr [EAX + 0x8]
00a2e177 : FSTP float ptr [ESI + 0x8]
00a2e17a : MOV EAX,dword ptr [EDI + 0xac]
00a2e180 : MOV EAX,dword ptr [EAX + 0x3e8]
00a2e186 : MOVSS XMM0,dword ptr [EAX + 0x68]
00a2e18b : ADD EAX,0x68
00a2e18e : MOVSS dword ptr [EBP + -0x20],XMM0
00a2e193 : MOVSS XMM0,dword ptr [EAX + 0x8]
00a2e198 : MOVSS dword ptr [EBP + -0x18],XMM0
00a2e19d : XORPS XMM0,XMM0
00a2e1a0 : MOV EAX,0x4
00a2e1a5 : MOVSS dword ptr [EBP + -0x1c],XMM0
00a2e1aa : MOVSS dword ptr [EDI + 0x4d0],XMM0
00a2e1b2 : CALL 0x00a24880
00a2e1b7 : MOVSS XMM0,dword ptr [ESI]
00a2e1bb : SUBSS XMM0,dword ptr [EBP + -0x20]
00a2e1c0 : MOVSS XMM1,dword ptr [ESI + 0x8]
00a2e1c5 : SUBSS XMM1,dword ptr [EBP + -0x18]
00a2e1ca : MOVSS XMM2,dword ptr [ESI + 0x4]
00a2e1cf : MOVAPS XMM3,XMM0
00a2e1d2 : MULSS XMM3,XMM0
00a2e1d6 : MOVAPS XMM0,XMM1
00a2e1d9 : MULSS XMM0,XMM1
00a2e1dd : ADDSS XMM3,XMM0
00a2e1e1 : MOVAPS XMM0,XMM2
00a2e1e4 : MULSS XMM0,XMM2
00a2e1e8 : PUSH ECX
00a2e1e9 : ADDSS XMM3,XMM0
00a2e1ed : MOV byte ptr [EBP + 0xb],AL
00a2e1f0 : MOVSS dword ptr [ESP],XMM3
00a2e1f5 : CALL 0x0040f460
00a2e1fa : FLD float ptr [0x00d72c20]
00a2e200 : ADD ESP,0x4
00a2e203 : FCOMIP ST0,ST1
00a2e205 : FSTP ST0
00a2e207 : JA 0x00a2e24d
00a2e209 : MOV EDX,dword ptr [EBX]
00a2e20b : MOV EAX,dword ptr [EDX + 0x274]
00a2e211 : MOV ECX,EBX
00a2e213 : CALL EAX
00a2e215 : TEST EAX,EAX
00a2e217 : JZ 0x00a2e24d
00a2e219 : CMP byte ptr [EBP + 0xb],0x0
00a2e21d : MOV ECX,dword ptr [EBX + 0x4]
00a2e220 : MOV dword ptr [EDI + 0x4d8],ECX
00a2e226 : MOV byte ptr [EDI + 0x4c9],0x1
00a2e22d : MOV byte ptr [EDI + 0x264],0x0
00a2e234 : JZ 0x00a2e2f7
00a2e23a : PUSH 0x0
00a2e23c : PUSH 0x0
00a2e23e : PUSH ESI
00a2e23f : PUSH EDI
00a2e240 : LEA EAX,[EBP + -0x20]
00a2e243 : CALL 0x00a2db00
00a2e248 : JMP 0x00a2e751
00a2e24d : MOV ECX,dword ptr [EDI + 0xac]
00a2e253 : TEST ECX,ECX
00a2e255 : JZ 0x00a2e263
00a2e257 : MOV EDX,dword ptr [ECX]
00a2e259 : MOV EAX,dword ptr [EDX + 0x338]
00a2e25f : PUSH 0x1
00a2e261 : CALL EAX
00a2e263 : MOV ECX,dword ptr [0x017247d4]
00a2e269 : PUSH 0x2
00a2e26b : PUSH ECX
00a2e26c : MOV ECX,dword ptr [EBX + 0x4]
00a2e26f : CALL 0x00a0d390
00a2e274 : MOV byte ptr [EDI + 0x4c9],0x0
00a2e27b : MOV dword ptr [EDI + 0x4d8],0x0
00a2e285 : JMP 0x00a2e751
00a2e28a : MOV EAX,EBX
00a2e28c : CALL 0x008896f0
00a2e291 : TEST AL,AL
00a2e293 : JZ 0x00a2e30d
00a2e295 : TEST ESI,ESI
00a2e297 : JZ 0x00a2e30d
00a2e299 : PUSH 0xcc4328
00a2e29e : LEA ECX,[EBP + -0x3c]
00a2e2a1 : CALL 0x00406460
00a2e2a6 : MOV dword ptr [EBP + -0x4],0x0
00a2e2ad : MOV EDX,dword ptr [0x00da9894]
00a2e2b3 : MOV EAX,dword ptr [EDX]
00a2e2b5 : MOV ESI,dword ptr [EAX + 0x1a8]
00a2e2bb : MOV ECX,dword ptr [0x0172491c]
00a2e2c1 : LEA EAX,[EBP + -0x3c]
00a2e2c4 : PUSH EAX
00a2e2c5 : LEA EDI,[EBP + -0x58]
00a2e2c8 : CALL 0x0081d120
00a2e2cd : MOV byte ptr [EBP + -0x4],0x1
00a2e2d1 : MOV EDX,dword ptr [ESI]
00a2e2d3 : PUSH 0x3
00a2e2d5 : PUSH EAX
00a2e2d6 : MOV EAX,dword ptr [EDX + 0x44]
00a2e2d9 : MOV ECX,ESI
00a2e2db : CALL EAX
00a2e2dd : MOV byte ptr [EBP + -0x4],0x0
00a2e2e1 : MOV ECX,EDI
00a2e2e3 : CALL 0x00406560
00a2e2e8 : MOV dword ptr [EBP + -0x4],0xffffffff
00a2e2ef : LEA ECX,[EBP + -0x3c]
00a2e2f2 : CALL 0x00406560
00a2e2f7 : XOR AL,AL
00a2e2f9 : MOV ECX,dword ptr [EBP + -0xc]
00a2e2fc : MOV dword ptr FS:[0x0],ECX
00a2e303 : POP ECX
00a2e304 : POP EDI
00a2e305 : POP ESI
00a2e306 : POP EBX
00a2e307 : MOV ESP,EBP
00a2e309 : POP EBP
00a2e30a : RET 0x8
00a2e30d : CMP byte ptr [EBX + 0x3b1],0x0
00a2e314 : JZ 0x00a2e33e
00a2e316 : TEST ESI,ESI
00a2e318 : JNZ 0x00a2e33e
00a2e31a : MOV EAX,dword ptr [EDI + 0xac]
00a2e320 : CALL 0x0040e700
00a2e325 : TEST AL,AL
00a2e327 : JNZ 0x00a2e751
00a2e32d : PUSH EDI
00a2e32e : CALL 0x00a1fe80
00a2e333 : MOV dword ptr [EBP + 0x8],EAX
00a2e336 : TEST EAX,EAX
00a2e338 : JZ 0x00a2e751
00a2e33e : MOV EDX,dword ptr [EDI + 0xac]
00a2e344 : MOV EAX,dword ptr [EDX + 0x3e8]
00a2e34a : MOV ECX,dword ptr [EBX + 0x3e8]
00a2e350 : MOVSS XMM0,dword ptr [ECX + 0x68]
00a2e355 : SUBSS XMM0,dword ptr [EAX + 0x68]
00a2e35a : MOVSS XMM1,dword ptr [ECX + 0x6c]
00a2e35f : MOVSS XMM2,dword ptr [ECX + 0x70]
00a2e364 : SUBSS XMM1,dword ptr [EAX + 0x6c]
00a2e369 : SUBSS XMM2,dword ptr [EAX + 0x70]
00a2e36e : MOV ESI,dword ptr [EBX + 0xc4]
00a2e374 : ADD ECX,0x68
00a2e377 : ADD EAX,0x68
00a2e37a : MOVAPS XMM3,XMM0
00a2e37d : MULSS XMM3,XMM0
00a2e381 : MOVSS dword ptr [EBP + -0x20],XMM0
00a2e386 : MOVAPS XMM0,XMM1
00a2e389 : MULSS XMM0,XMM1
00a2e38d : ADDSS XMM3,XMM0
00a2e391 : MOVSS dword ptr [EBP + -0x1c],XMM1
00a2e396 : MOVSS dword ptr [EBP + -0x18],XMM2
00a2e39b : MOV ECX,dword ptr [EDX + 0xc4]
00a2e3a1 : MOVAPS XMM0,XMM2
00a2e3a4 : MULSS XMM0,XMM2
00a2e3a8 : PUSH ECX
00a2e3a9 : ADDSS XMM3,XMM0
00a2e3ad : MOV dword ptr [EBP + -0x10],ECX
00a2e3b0 : MOVSS dword ptr [ESP],XMM3
00a2e3b5 : CALL 0x0040f460
00a2e3ba : MOV EDX,dword ptr [EBP + -0x10]
00a2e3bd : ADD ESI,EDX
00a2e3bf : ADD ESP,0x4
00a2e3c2 : MOV dword ptr [EBP + -0x14],ESI
00a2e3c5 : FILD dword ptr [EBP + -0x14]
00a2e3c8 : TEST ESI,ESI
00a2e3ca : JGE 0x00a2e3d2
00a2e3cc : FADD float ptr [0x00cdf0e0]
00a2e3d2 : MOV EAX,dword ptr [EBX]
00a2e3d4 : FSUBP
00a2e3d6 : MOV EDX,dword ptr [EAX + 0x1e4]
00a2e3dc : MOV ECX,EBX
00a2e3de : FSTP float ptr [EBP + -0x14]
00a2e3e1 : CALL EDX
00a2e3e3 : MOVZX EAX,AX
00a2e3e6 : SUB EAX,0x0
00a2e3e9 : JZ 0x00a2e43e
00a2e3eb : SUB EAX,0x1
00a2e3ee : JZ 0x00a2e404
00a2e3f0 : SUB EAX,0x1
00a2e3f3 : JZ 0x00a2e43e
00a2e3f5 : MOVSS XMM0,dword ptr [0x00cdf234]
00a2e3fd : MOVSS dword ptr [EBP + -0x10],XMM0
00a2e402 : JMP 0x00a2e463
00a2e404 : MOV ECX,dword ptr [EDI + 0xac]
00a2e40a : MOV EAX,dword ptr [ECX]
00a2e40c : MOV EDX,dword ptr [EAX + 0x290]
00a2e412 : PUSH EBX
00a2e413 : CALL EDX
00a2e415 : TEST AL,AL
00a2e417 : JZ 0x00a2e428
00a2e419 : MOVSS XMM0,dword ptr [0x00cdf234]
00a2e421 : MOVSS dword ptr [EBP + -0x10],XMM0
00a2e426 : JMP 0x00a2e463
00a2e428 : MOV EAX,dword ptr [EDI + 0xac]
00a2e42e : MOV ECX,dword ptr [EAX + 0x1a54]
00a2e434 : FILD dword ptr [EAX + 0x1a54]
00a2e43a : TEST ECX,ECX
00a2e43c : JMP 0x00a2e452
00a2e43e : MOV EDX,dword ptr [EDI + 0xac]
00a2e444 : MOV EAX,dword ptr [EDX + 0x1a54]
00a2e44a : FILD dword ptr [EDX + 0x1a54]
00a2e450 : TEST EAX,EAX
00a2e452 : JGE 0x00a2e45a
00a2e454 : FADD float ptr [0x00cdf0e0]
00a2e45a : FSUB float ptr [0x00d72c20]
00a2e460 : FSTP float ptr [EBP + -0x10]
00a2e463 : MOV ECX,dword ptr [EDI + 0xac]
00a2e469 : MOV EDX,dword ptr [ECX]
00a2e46b : MOV EAX,dword ptr [EDX + 0x290]
00a2e471 : PUSH EBX
00a2e472 : CALL EAX
00a2e474 : TEST AL,AL
00a2e476 : JNZ 0x00a2e4b1
00a2e478 : MOV ECX,dword ptr [EDI + 0xac]
00a2e47e : MOV EDX,dword ptr [ECX + 0x1a54]
00a2e484 : FILD dword ptr [ECX + 0x1a54]
00a2e48a : TEST EDX,EDX
00a2e48c : JGE 0x00a2e494
00a2e48e : FADD float ptr [0x00cdf0e0]
00a2e494 : XORPS XMM1,XMM1
00a2e497 : FSTP float ptr [EBP + -0x10]
00a2e49a : MOVSS XMM0,dword ptr [EBP + -0x10]
00a2e49f : SUBSS XMM0,dword ptr [0x00d72c20]
00a2e4a7 : COMISS XMM1,XMM0
00a2e4aa : JBE 0x00a2e4b6
00a2e4ac : MOVAPS XMM0,XMM1
00a2e4af : JMP 0x00a2e4b6
00a2e4b1 : MOVSS XMM0,dword ptr [EBP + -0x10]
00a2e4b6 : COMISS XMM0,dword ptr [EBP + -0x14]
00a2e4ba : MOV ESI,dword ptr [EBP + 0x8]
00a2e4bd : JBE 0x00a2e5eb
00a2e4c3 : TEST ESI,ESI
00a2e4c5 : JNZ 0x00a2e5eb
00a2e4cb : LEA EAX,[EBP + -0x20]
00a2e4ce : PUSH EAX
00a2e4cf : MOV ECX,EAX
00a2e4d1 : PUSH ECX
00a2e4d2 : CALL 0x004ff722
00a2e4d7 : MOV ESI,dword ptr [EDI + 0xac]
00a2e4dd : MOV EAX,ESI
00a2e4df : CALL 0x008896a0
00a2e4e4 : TEST AL,AL
00a2e4e6 : JZ 0x00a2e4f4
00a2e4e8 : MOV EDX,dword ptr [ESI]
00a2e4ea : MOV EAX,dword ptr [EDX + 0x4f4]
00a2e4f0 : MOV ECX,ESI
00a2e4f2 : CALL EAX
00a2e4f4 : MOV EDI,dword ptr [EDI + 0xac]
00a2e4fa : MOV EAX,EDI
00a2e4fc : CALL 0x0040e000
00a2e501 : TEST AL,AL
00a2e503 : JNZ 0x00a2e57a
00a2e505 : CMP dword ptr [EBP + 0xc],0x0
00a2e509 : JNZ 0x00a2e580
00a2e50b : FLD float ptr [EBP + -0x18]
00a2e50e : MOV EDX,dword ptr [EDI]
00a2e510 : MOV EAX,dword ptr [EDX + 0x2b0]
00a2e516 : PUSH 0x0
00a2e518 : SUB ESP,0x8
00a2e51b : FSTP float ptr [ESP + 0x4]
00a2e51f : MOV ECX,EDI
00a2e521 : FLD float ptr [EBP + -0x20]
00a2e524 : FSTP float ptr [ESP]
00a2e527 : CALL EAX
00a2e529 : MOV EDX,dword ptr [EBX + 0x8]
00a2e52c : PUSH EDX
00a2e52d : CALL 0x004049b0
00a2e532 : ADD ESP,0x4
00a2e535 : TEST EAX,EAX
00a2e537 : JZ 0x00a2e5d5
00a2e53d : TEST dword ptr [EAX + 0x4c],0x400000
00a2e544 : JZ 0x00a2e5d5
00a2e54a : MOV EAX,[0x00da9894]
00a2e54f : MOV EAX,dword ptr [EAX]
00a2e551 : TEST EAX,EAX
00a2e553 : JZ 0x00a2e751
00a2e559 : MOV ECX,dword ptr [EAX + 0x2cc]
00a2e55f : TEST ECX,ECX
00a2e561 : JZ 0x00a2e751
00a2e567 : MOV EDX,dword ptr [ECX]
00a2e569 : MOV EAX,dword ptr [EDX + 0x18]
00a2e56c : PUSH 0x12c
00a2e571 : PUSH 0x0
00a2e573 : CALL EAX
00a2e575 : JMP 0x00a2e751
00a2e57a : CMP dword ptr [EBP + 0xc],0x0
00a2e57e : JZ 0x00a2e529
00a2e580 : CALL 0x006f4590
00a2e585 : MOV dword ptr [EBP + 0x8],EAX
00a2e588 : MOV dword ptr [EBP + -0x4],0x2
00a2e58f : TEST EAX,EAX
00a2e591 : JZ 0x00a2e5a2
00a2e593 : XOR ECX,ECX
00a2e595 : MOV word ptr [EAX],CX
00a2e598 : MOV byte ptr [EAX + 0x2],0x34
00a2e59c : MOV byte ptr [EAX + 0x3],0x25
00a2e5a0 : JMP 0x00a2e5a4
00a2e5a2 : XOR EAX,EAX
00a2e5a4 : MOV dword ptr [EBP + -0x4],0xffffffff
00a2e5ab : MOV EDX,dword ptr [0x017247d4]
00a2e5b1 : MOV ECX,dword ptr [EDX + 0x4]
00a2e5b4 : TEST ECX,ECX
00a2e5b6 : JZ 0x00a2e751
00a2e5bc : CMP byte ptr [EDX + 0x8],0x0
00a2e5c0 : JZ 0x00a2e751
00a2e5c6 : PUSH 0x4
00a2e5c8 : PUSH ECX
00a2e5c9 : MOV EDI,EAX
00a2e5cb : CALL 0x00a0dd40
00a2e5d0 : JMP 0x00a2e751
00a2e5d5 : MOV ECX,dword ptr [0x017247d4]
00a2e5db : PUSH 0x2
00a2e5dd : PUSH ECX
00a2e5de : MOV ECX,dword ptr [EBX + 0x4]
00a2e5e1 : CALL 0x00a0d390
00a2e5e6 : JMP 0x00a2e751
00a2e5eb : MOV EDX,dword ptr [EBX]
00a2e5ed : MOV EAX,dword ptr [EDX + 0x1e4]
00a2e5f3 : MOV ECX,EBX
00a2e5f5 : CALL EAX
00a2e5f7 : MOVZX EAX,AX
00a2e5fa : CMP EAX,0x5
00a2e5fd : JA 0x00a2e719
00a2e603 : JMP dword ptr [EAX*0x4 + 0xa2e768]
00a2e60a : MOV EDI,dword ptr [EDI + 0xac]
00a2e610 : TEST ESI,ESI
00a2e612 : JNZ 0x00a2e706
00a2e618 : CMP byte ptr [EDI + 0x1690],0x0
00a2e61f : JNZ 0x00a2e637
00a2e621 : MOV ESI,dword ptr [EDI]
00a2e623 : MOV EAX,EDI
00a2e625 : CALL 0x0040e000
00a2e62a : MOVZX EAX,AL
00a2e62d : PUSH EAX
00a2e62e : PUSH 0x0
00a2e630 : PUSH 0x0
00a2e632 : JMP 0x00a2e743
00a2e637 : CMP dword ptr [0x0172491c],0x0
00a2e63e : JZ 0x00a2e751
00a2e644 : MOV EAX,[0x00da9894]
00a2e649 : MOV EAX,dword ptr [EAX]
00a2e64b : TEST EAX,EAX
00a2e64d : JZ 0x00a2e751
00a2e653 : CMP dword ptr [EAX + 0x1a8],0x0
00a2e65a : JZ 0x00a2e751
00a2e660 : PUSH 0xcc4354
00a2e665 : LEA ECX,[EBP + -0x3c]
00a2e668 : CALL 0x00406460
00a2e66d : MOV EBX,0x3
00a2e672 : MOV dword ptr [EBP + -0x4],EBX
00a2e675 : MOV ECX,dword ptr [0x00da9894]
00a2e67b : MOV EAX,dword ptr [ECX]
00a2e67d : MOV ECX,dword ptr [0x0172491c]
00a2e683 : MOV ESI,dword ptr [EAX + 0x1a8]
00a2e689 : LEA EDX,[EBP + -0x3c]
00a2e68c : PUSH EDX
00a2e68d : LEA EDI,[EBP + -0x58]
00a2e690 : CALL 0x0081d120
00a2e695 : MOV byte ptr [EBP + -0x4],0x4
00a2e699 : MOV EDX,dword ptr [ESI]
00a2e69b : PUSH EBX
00a2e69c : PUSH EAX
00a2e69d : MOV EAX,dword ptr [EDX + 0x44]
00a2e6a0 : MOV ECX,ESI
00a2e6a2 : CALL EAX
00a2e6a4 : MOV byte ptr [EBP + -0x4],BL
00a2e6a7 : MOV ECX,EDI
00a2e6a9 : CALL 0x00406560
00a2e6ae : MOV dword ptr [EBP + -0x4],0xffffffff
00a2e6b5 : LEA ECX,[EBP + -0x3c]
00a2e6b8 : CALL 0x00406560
00a2e6bd : JMP 0x00a2e751
00a2e6c2 : MOV ECX,dword ptr [EDI + 0xac]
00a2e6c8 : MOV EDX,dword ptr [ECX]
00a2e6ca : MOV EAX,dword ptr [EDX + 0x290]
00a2e6d0 : PUSH EBX
00a2e6d1 : CALL EAX
00a2e6d3 : MOV EDI,dword ptr [EDI + 0xac]
00a2e6d9 : TEST AL,AL
00a2e6db : JZ 0x00a2e6fe
00a2e6dd : MOV ESI,dword ptr [EDI]
00a2e6df : MOV EAX,EDI
00a2e6e1 : CALL 0x0040e000
00a2e6e6 : MOV EDX,dword ptr [EBX + 0x4]
00a2e6e9 : MOVZX ECX,AL
00a2e6ec : MOV EAX,dword ptr [ESI + 0x398]
00a2e6f2 : PUSH ECX
00a2e6f3 : PUSH 0x0
00a2e6f5 : PUSH 0x3
00a2e6f7 : PUSH EDX
00a2e6f8 : MOV ECX,EDI
00a2e6fa : CALL EAX
00a2e6fc : JMP 0x00a2e751
00a2e6fe : TEST ESI,ESI
00a2e700 : JZ 0x00a2e621
00a2e706 : MOV EDX,dword ptr [EDI]
00a2e708 : MOV EAX,dword ptr [EBX + 0x4]
00a2e70b : MOV EDX,dword ptr [EDX + 0x398]
00a2e711 : PUSH 0x0
00a2e713 : PUSH ESI
00a2e714 : PUSH 0x1
00a2e716 : PUSH EAX
00a2e717 : JMP 0x00a2e74d
00a2e719 : MOV EDI,dword ptr [EDI + 0xac]
00a2e71f : TEST ESI,ESI
00a2e721 : JZ 0x00a2e732
00a2e723 : MOV EAX,dword ptr [EDI]
00a2e725 : MOV EDX,dword ptr [EAX + 0x398]
00a2e72b : PUSH 0x0
00a2e72d : PUSH ESI
00a2e72e : PUSH 0x1
00a2e730 : JMP 0x00a2e749
00a2e732 : MOV ESI,dword ptr [EDI]
00a2e734 : MOV EAX,EDI
00a2e736 : CALL 0x0040e000
00a2e73b : MOVZX EAX,AL
00a2e73e : PUSH EAX
00a2e73f : PUSH 0x0
00a2e741 : PUSH 0x3
00a2e743 : MOV EDX,dword ptr [ESI + 0x398]
00a2e749 : MOV ECX,dword ptr [EBX + 0x4]
00a2e74c : PUSH ECX
00a2e74d : MOV ECX,EDI
00a2e74f : CALL EDX
00a2e751 : MOV AL,0x1
00a2e753 : MOV ECX,dword ptr [EBP + -0xc]
00a2e756 : MOV dword ptr FS:[0x0],ECX
00a2e75d : POP ECX
00a2e75e : POP EDI
00a2e75f : POP ESI
00a2e760 : POP EBX
00a2e761 : MOV ESP,EBP
00a2e763 : POP EBP
00a2e764 : RET 0x8
