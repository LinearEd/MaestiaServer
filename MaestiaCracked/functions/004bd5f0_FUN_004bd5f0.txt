PROGRAM  : Maestia.exe
FUNCTION : FUN_004bd5f0
ENTRY    : 004bd5f0
BODY     : [[004bd5f0, 004bd692]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_004bd5f0(undefined4 *param_1,ushort *param_2)

{
  int in_EAX;
  undefined4 *puVar1;
  undefined4 *puVar2;
  bool bVar3;
  
  puVar2 = *(undefined4 **)(in_EAX + 4);
  bVar3 = true;
  if (*(char *)((int)puVar2[1] + 0x15) == '\0') {
    puVar1 = (undefined4 *)puVar2[1];
    do {
      puVar2 = puVar1;
      bVar3 = *param_2 < *(ushort *)(puVar2 + 3);
      if (bVar3) {
        puVar1 = (undefined4 *)*puVar2;
      }
      else {
        puVar1 = (undefined4 *)puVar2[2];
      }
    } while (*(char *)((int)puVar1 + 0x15) == '\0');
  }
  if (bVar3) {
    if (puVar2 == (undefined4 *)**(int **)(in_EAX + 4)) {
      bVar3 = true;
      goto LAB_004bd646;
    }
    FUN_00420210();
  }
  if (*param_2 <= *(ushort *)(puVar2 + 3)) {
    *param_1 = puVar2;
    *(undefined1 *)(param_1 + 1) = 0;
    return param_1;
  }
LAB_004bd646:
  puVar2 = (undefined4 *)FUN_0045bde0(&param_2,bVar3,param_2);
  *param_1 = *puVar2;
  *(undefined1 *)(param_1 + 1) = 1;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
004bd5f0 : PUSH EBP
004bd5f1 : MOV EBP,ESP
004bd5f3 : PUSH ECX
004bd5f4 : PUSH EBX
004bd5f5 : MOV EBX,dword ptr [EBP + 0x8]
004bd5f8 : PUSH ESI
004bd5f9 : PUSH EDI
004bd5fa : MOV EDI,EAX
004bd5fc : MOV ESI,dword ptr [EDI + 0x4]
004bd5ff : MOV EAX,dword ptr [ESI + 0x4]
004bd602 : CMP byte ptr [EAX + 0x15],0x0
004bd606 : MOV CL,0x1
004bd608 : MOV byte ptr [EBP + -0x4],CL
004bd60b : JNZ 0x004bd630
004bd60d : MOV ECX,dword ptr [EBP + 0xc]
004bd610 : MOVZX EDX,word ptr [ECX]
004bd613 : CMP DX,word ptr [EAX + 0xc]
004bd617 : MOV ESI,EAX
004bd619 : SETC CL
004bd61c : MOV byte ptr [EBP + -0x4],CL
004bd61f : TEST CL,CL
004bd621 : JZ 0x004bd627
004bd623 : MOV EAX,dword ptr [EAX]
004bd625 : JMP 0x004bd62a
004bd627 : MOV EAX,dword ptr [EAX + 0x8]
004bd62a : CMP byte ptr [EAX + 0x15],0x0
004bd62e : JZ 0x004bd613
004bd630 : MOV EAX,ESI
004bd632 : MOV dword ptr [EBP + 0x8],EAX
004bd635 : TEST CL,CL
004bd637 : JZ 0x004bd66f
004bd639 : MOV EDX,dword ptr [EDI + 0x4]
004bd63c : CMP ESI,dword ptr [EDX]
004bd63e : JNZ 0x004bd664
004bd640 : MOV EAX,dword ptr [EBP + 0xc]
004bd643 : PUSH EAX
004bd644 : PUSH 0x1
004bd646 : LEA ECX,[EBP + 0xc]
004bd649 : PUSH ECX
004bd64a : MOV ECX,ESI
004bd64c : CALL 0x0045bde0
004bd651 : MOV EDX,dword ptr [EAX]
004bd653 : MOV dword ptr [EBX],EDX
004bd655 : MOV byte ptr [EBX + 0x4],0x1
004bd659 : MOV EAX,EBX
004bd65b : POP EDI
004bd65c : POP ESI
004bd65d : POP EBX
004bd65e : MOV ESP,EBP
004bd660 : POP EBP
004bd661 : RET 0x8
004bd664 : LEA EDX,[EBP + 0x8]
004bd667 : CALL 0x00420210
004bd66c : MOV EAX,dword ptr [EBP + 0x8]
004bd66f : MOV DX,word ptr [EAX + 0xc]
004bd673 : MOV ECX,dword ptr [EBP + 0xc]
004bd676 : CMP DX,word ptr [ECX]
004bd679 : JNC 0x004bd682
004bd67b : MOV EAX,dword ptr [EBP + -0x4]
004bd67e : PUSH ECX
004bd67f : PUSH EAX
004bd680 : JMP 0x004bd646
004bd682 : POP EDI
004bd683 : MOV dword ptr [EBX],EAX
004bd685 : POP ESI
004bd686 : MOV byte ptr [EBX + 0x4],0x0
004bd68a : MOV EAX,EBX
004bd68c : POP EBX
004bd68d : MOV ESP,EBP
004bd68f : POP EBP
004bd690 : RET 0x8
