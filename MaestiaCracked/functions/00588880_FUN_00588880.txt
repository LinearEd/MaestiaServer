PROGRAM  : Maestia.exe
FUNCTION : FUN_00588880
ENTRY    : 00588880
BODY     : [[00588880, 00588a21]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00588880(int param_1,undefined1 *param_2)

{
  int *piVar1;
  undefined1 uVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  int local_8;
  int local_4;
  
  uVar3 = *(uint *)(param_1 + 4);
  switch(uVar3 & 0x8f) {
  case 0:
    FUN_00526400();
    *param_2 = 0;
    return;
  case 1:
    FUN_00526400();
    *param_2 = 1;
    return;
  case 2:
    uVar2 = *(undefined1 *)(param_1 + 8);
    FUN_00526400();
    param_2[4] = uVar2;
    *param_2 = 2;
    return;
  case 3:
    FUN_004ffd60(*(undefined8 *)(param_1 + 8));
    return;
  case 4:
    if ((uVar3 >> 6 & 1) != 0) {
      iVar4 = *(int *)(param_1 + 8);
      piVar1 = (int *)(iVar4 + 8);
      *piVar1 = *piVar1 + 1;
      FUN_004ffd40();
      piVar1 = (int *)(iVar4 + 8);
      *piVar1 = *piVar1 + -1;
      if (*piVar1 != 0) {
        return;
      }
      FUN_00525340();
      return;
    }
    uVar5 = FUN_0045ac60();
    FUN_0050a200(&local_8,uVar5);
    FUN_004ffd40();
    local_4 = local_8;
    break;
  case 5:
    if ((uVar3 >> 6 & 1) != 0) {
      iVar4 = *(int *)(*(int *)(param_1 + 8) + -4);
      piVar1 = (int *)(iVar4 + 8);
      *piVar1 = *piVar1 + 1;
      FUN_004ffd40();
      piVar1 = (int *)(iVar4 + 8);
      *piVar1 = *piVar1 + -1;
      if (*piVar1 != 0) {
        return;
      }
      FUN_00525340();
      return;
    }
    FUN_00528bf0(&local_4,*(int *)(param_1 + 8));
    FUN_004ffd40();
    break;
  case 6:
  case 7:
    if (*(int *)(param_1 + 8) != 0) {
      FUN_005271c0();
      return;
    }
    FUN_005271c0();
    return;
  case 8:
    FUN_00526c50();
  default:
    goto switchD_0058889c_default;
  }
  *(int *)(local_4 + 8) = *(int *)(local_4 + 8) + -1;
  if (*(int *)(local_4 + 8) == 0) {
    FUN_00525340();
    return;
  }
switchD_0058889c_default:
  return;
}



============================================================
DISASSEMBLY
============================================================
00588880 : MOV EAX,dword ptr [ESP + 0x4]
00588884 : SUB ESP,0x8
00588887 : PUSH ESI
00588888 : MOV ESI,dword ptr [EAX + 0x4]
0058888b : MOV EDX,ESI
0058888d : AND EDX,0x8f
00588893 : CMP EDX,0x8
00588896 : JA 0x00588a1b
0058889c : JMP dword ptr [EDX*0x4 + 0x588a24]
005888a3 : MOV ESI,dword ptr [ESP + 0x14]
005888a7 : MOV ECX,ESI
005888a9 : CALL 0x00526400
005888ae : MOV byte ptr [ESI],0x0
005888b1 : POP ESI
005888b2 : ADD ESP,0x8
005888b5 : RET 0x8
005888b8 : MOV ESI,dword ptr [ESP + 0x14]
005888bc : PUSH EBX
005888bd : MOV BL,byte ptr [EAX + 0x8]
005888c0 : MOV ECX,ESI
005888c2 : CALL 0x00526400
005888c7 : MOV byte ptr [ESI + 0x4],BL
005888ca : POP EBX
005888cb : MOV byte ptr [ESI],0x2
005888ce : POP ESI
005888cf : ADD ESP,0x8
005888d2 : RET 0x8
005888d5 : MOV ESI,dword ptr [ESP + 0x14]
005888d9 : MOV ECX,ESI
005888db : CALL 0x00526400
005888e0 : MOV byte ptr [ESI],0x1
005888e3 : POP ESI
005888e4 : ADD ESP,0x8
005888e7 : RET 0x8
005888ea : FLD double ptr [EAX + 0x8]
005888ed : MOV ECX,dword ptr [ESP + 0x14]
005888f1 : SUB ESP,0x8
005888f4 : FSTP double ptr [ESP]
005888f7 : CALL 0x004ffd60
005888fc : POP ESI
005888fd : ADD ESP,0x8
00588900 : RET 0x8
00588903 : MOV EDX,ESI
00588905 : SHR EDX,0x6
00588908 : TEST DL,0x1
0058890b : JZ 0x0058893d
0058890d : MOV ESI,dword ptr [EAX + 0x8]
00588910 : MOV ECX,dword ptr [ESP + 0x14]
00588914 : INC dword ptr [ESI + 0x8]
00588917 : LEA EAX,[ESP + 0x10]
0058891b : PUSH EAX
0058891c : MOV dword ptr [ESP + 0x14],ESI
00588920 : CALL 0x004ffd40
00588925 : ADD dword ptr [ESI + 0x8],-0x1
00588929 : JNZ 0x00588a1b
0058892f : MOV ECX,ESI
00588931 : CALL 0x00525340
00588936 : POP ESI
00588937 : ADD ESP,0x8
0058893a : RET 0x8
0058893d : MOV ESI,dword ptr [ECX + 0x9e8]
00588943 : MOV ECX,EAX
00588945 : CALL 0x0045ac60
0058894a : PUSH EAX
0058894b : LEA ECX,[ESP + 0x8]
0058894f : PUSH ECX
00588950 : LEA ECX,[ESI + 0x8]
00588953 : CALL 0x0050a200
00588958 : MOV ECX,dword ptr [ESP + 0x14]
0058895c : PUSH EAX
0058895d : CALL 0x004ffd40
00588962 : MOV EAX,dword ptr [ESP + 0x4]
00588966 : DEC dword ptr [EAX + 0x8]
00588969 : MOV ECX,EAX
0058896b : ADD EAX,0x8
0058896e : CMP dword ptr [EAX],0x0
00588971 : JNZ 0x00588a1b
00588977 : CALL 0x00525340
0058897c : POP ESI
0058897d : ADD ESP,0x8
00588980 : RET 0x8
00588983 : MOV EAX,dword ptr [EAX + 0x8]
00588986 : MOV EDX,ESI
00588988 : SHR EDX,0x6
0058898b : TEST DL,0x1
0058898e : JZ 0x005889bc
00588990 : MOV ESI,dword ptr [EAX + -0x4]
00588993 : INC dword ptr [ESI + 0x8]
00588996 : LEA ECX,[ESP + 0x10]
0058899a : PUSH ECX
0058899b : MOV ECX,dword ptr [ESP + 0x18]
0058899f : MOV dword ptr [ESP + 0x14],ESI
005889a3 : CALL 0x004ffd40
005889a8 : ADD dword ptr [ESI + 0x8],-0x1
005889ac : JNZ 0x00588a1b
005889ae : MOV ECX,ESI
005889b0 : CALL 0x00525340
005889b5 : POP ESI
005889b6 : ADD ESP,0x8
005889b9 : RET 0x8
005889bc : MOV ECX,dword ptr [ECX + 0x9e8]
005889c2 : PUSH EAX
005889c3 : LEA EDX,[ESP + 0xc]
005889c7 : PUSH EDX
005889c8 : ADD ECX,0x8
005889cb : CALL 0x00528bf0
005889d0 : MOV ECX,dword ptr [ESP + 0x14]
005889d4 : PUSH EAX
005889d5 : CALL 0x004ffd40
005889da : MOV EAX,dword ptr [ESP + 0x8]
005889de : JMP 0x00588966
005889e0 : MOV EAX,dword ptr [EAX + 0x8]
005889e3 : TEST EAX,EAX
005889e5 : JZ 0x005889fb
005889e7 : MOV ECX,dword ptr [ESP + 0x14]
005889eb : ADD EAX,-0x10
005889ee : PUSH EAX
005889ef : CALL 0x005271c0
005889f4 : POP ESI
005889f5 : ADD ESP,0x8
005889f8 : RET 0x8
005889fb : MOV ECX,dword ptr [ESP + 0x14]
005889ff : XOR EAX,EAX
00588a01 : PUSH EAX
00588a02 : CALL 0x005271c0
00588a07 : POP ESI
00588a08 : ADD ESP,0x8
00588a0b : RET 0x8
00588a0e : MOV EAX,dword ptr [EAX + 0x8]
00588a11 : MOV ECX,dword ptr [ESP + 0x14]
00588a15 : PUSH EAX
00588a16 : CALL 0x00526c50
00588a1b : POP ESI
00588a1c : ADD ESP,0x8
00588a1f : RET 0x8
