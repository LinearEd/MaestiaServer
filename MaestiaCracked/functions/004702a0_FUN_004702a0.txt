PROGRAM  : Maestia.exe
FUNCTION : FUN_004702a0
ENTRY    : 004702a0
BODY     : [[004702a0, 00470324]]

============================================================
DECOMPILED C CODE
============================================================

bool FUN_004702a0(uint param_1,uint param_2)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  
  iVar1 = param_1;
  if (*(char *)(param_1 + 0x10) == '\0') {
    if (*(uint *)(param_1 + 0xc) < param_2) {
      puVar2 = (undefined4 *)FUN_00470250();
      if (*(int *)(param_1 + 8) != 0) {
        puVar5 = *(undefined4 **)(param_1 + 4);
        param_1 = 0;
        puVar3 = puVar2;
        do {
          puVar6 = puVar5;
          puVar7 = puVar3;
          for (iVar4 = 0xe; iVar4 != 0; iVar4 = iVar4 + -1) {
            *puVar7 = *puVar6;
            puVar6 = puVar6 + 1;
            puVar7 = puVar7 + 1;
          }
          param_1 = param_1 + 1;
          puVar3 = puVar3 + 0xe;
          puVar5 = puVar5 + 0xe;
        } while (param_1 < *(uint *)(iVar1 + 8));
      }
      FUN_00470470();
      *(undefined4 **)(iVar1 + 4) = puVar2;
      *(uint *)(iVar1 + 0xc) = param_2;
    }
    return true;
  }
  return param_2 <= *(uint *)(param_1 + 0xc);
}



============================================================
DISASSEMBLY
============================================================
004702a0 : PUSH EBP
004702a1 : MOV EBP,ESP
004702a3 : PUSH ECX
004702a4 : PUSH EBX
004702a5 : MOV EBX,dword ptr [EBP + 0x8]
004702a8 : CMP byte ptr [EBX + 0x10],0x0
004702ac : JZ 0x004702be
004702ae : MOV EAX,dword ptr [EBP + 0xc]
004702b1 : CMP dword ptr [EBX + 0xc],EAX
004702b4 : POP EBX
004702b5 : SBB EAX,EAX
004702b7 : INC EAX
004702b8 : MOV ESP,EBP
004702ba : POP EBP
004702bb : RET 0x8
004702be : PUSH EDI
004702bf : MOV EDI,dword ptr [EBP + 0xc]
004702c2 : CMP EDI,dword ptr [EBX + 0xc]
004702c5 : JBE 0x0047031b
004702c7 : PUSH ESI
004702c8 : CALL 0x00470250
004702cd : MOV ECX,dword ptr [EBX + 0x8]
004702d0 : MOV EDI,EAX
004702d2 : MOV dword ptr [EBP + -0x4],EDI
004702d5 : TEST ECX,ECX
004702d7 : JBE 0x00470303
004702d9 : MOV EDX,dword ptr [EBX + 0x4]
004702dc : MOV dword ptr [EBP + 0x8],0x0
004702e3 : MOV ESI,EDX
004702e5 : MOV EDI,EAX
004702e7 : MOV ECX,0xe
004702ec : MOVSD.REP ES:EDI,ESI
004702ee : MOV ECX,dword ptr [EBP + 0x8]
004702f1 : INC ECX
004702f2 : ADD EAX,0x38
004702f5 : ADD EDX,0x38
004702f8 : MOV dword ptr [EBP + 0x8],ECX
004702fb : CMP ECX,dword ptr [EBX + 0x8]
004702fe : JC 0x004702e3
00470300 : MOV EDI,dword ptr [EBP + -0x4]
00470303 : MOV ECX,dword ptr [EBX + 0x4]
00470306 : LEA ESI,[EBP + 0x8]
00470309 : MOV dword ptr [EBP + 0x8],ECX
0047030c : CALL 0x00470470
00470311 : MOV EDX,dword ptr [EBP + 0xc]
00470314 : MOV dword ptr [EBX + 0x4],EDI
00470317 : MOV dword ptr [EBX + 0xc],EDX
0047031a : POP ESI
0047031b : POP EDI
0047031c : MOV AL,0x1
0047031e : POP EBX
0047031f : MOV ESP,EBP
00470321 : POP EBP
00470322 : RET 0x8
