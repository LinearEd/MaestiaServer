PROGRAM  : Maestia.exe
FUNCTION : FUN_0077ccd0
ENTRY    : 0077ccd0
BODY     : [[0077ccd0, 0077cd91] [0077cded, 0077ce02]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0077ccd0(int param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  uint uVar4;
  void *_Dst;
  int iVar5;
  undefined4 *puVar6;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 uStack_8;
  
  uStack_8 = 0xffffffff;
  puStack_c = &LAB_00b3c231;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  iVar2 = *(int *)(DAT_017251ac + 0x18);
  if (iVar2 != 0) {
    puVar6 = (undefined4 *)(param_1 + 0x24);
    ExceptionList = &local_10;
    for (iVar5 = 0x4b; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar6 = 0;
      puVar6 = puVar6 + 1;
    }
    piVar1 = (int *)(param_1 + 0x1c);
    *(undefined1 *)(param_1 + 0x20) = 0;
    piVar3 = (int *)*piVar1;
    if (piVar3 != (int *)0x0) {
      (**(code **)(*piVar3 + 8))(piVar3,uVar4);
      *piVar1 = 0;
    }
    _Dst = (void *)FUN_006f0760(*(undefined4 *)(param_2 + 0x20),"",0,(DAT_01725270 >> 3 & 1) == 0);
    _memcpy(_Dst,*(void **)(param_2 + 0x1c),*(size_t *)(param_2 + 0x20));
    D3DXCreateEffect(iVar2,_Dst,*(undefined4 *)(param_2 + 0x20),0,0,0x807,0,piVar1,0);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0077ccd0 : PUSH EBP
0077ccd1 : MOV EBP,ESP
0077ccd3 : PUSH -0x1
0077ccd5 : PUSH 0xb3c231
0077ccda : MOV EAX,FS:[0x0]
0077cce0 : PUSH EAX
0077cce1 : SUB ESP,0x24
0077cce4 : PUSH EBX
0077cce5 : PUSH ESI
0077cce6 : PUSH EDI
0077cce7 : MOV EAX,[0x00d66fa0]
0077ccec : XOR EAX,EBP
0077ccee : PUSH EAX
0077ccef : LEA EAX,[EBP + -0xc]
0077ccf2 : MOV FS:[0x0],EAX
0077ccf8 : MOV EBX,dword ptr [EBP + 0xc]
0077ccfb : MOV EAX,[0x017251ac]
0077cd00 : MOV EAX,dword ptr [EAX + 0x18]
0077cd03 : MOV dword ptr [EBP + 0xc],EAX
0077cd06 : TEST EAX,EAX
0077cd08 : JZ 0x0077cded
0077cd0e : MOV EDX,dword ptr [EBP + 0x8]
0077cd11 : XOR EAX,EAX
0077cd13 : LEA EDI,[EDX + 0x24]
0077cd16 : MOV ECX,0x4b
0077cd1b : STOSD.REP ES:EDI
0077cd1d : LEA EDI,[EDX + 0x1c]
0077cd20 : MOV byte ptr [EDX + 0x20],AL
0077cd23 : MOV EAX,dword ptr [EDI]
0077cd25 : TEST EAX,EAX
0077cd27 : JZ 0x0077cd37
0077cd29 : MOV ECX,dword ptr [EAX]
0077cd2b : MOV EDX,dword ptr [ECX + 0x8]
0077cd2e : PUSH EAX
0077cd2f : CALL EDX
0077cd31 : MOV dword ptr [EDI],0x0
0077cd37 : MOV ECX,dword ptr [0x01725270]
0077cd3d : MOV EAX,dword ptr [EBX + 0x20]
0077cd40 : SHR ECX,0x3
0077cd43 : MOV EDX,0x0
0077cd48 : AND ECX,0x1
0077cd4b : SETZ DL
0077cd4e : PUSH EDX
0077cd4f : PUSH 0x0
0077cd51 : PUSH 0xbf1a4b
0077cd56 : PUSH EAX
0077cd57 : CALL 0x006f0760
0077cd5c : MOV ECX,dword ptr [EBX + 0x1c]
0077cd5f : MOV ESI,EAX
0077cd61 : MOV EAX,dword ptr [EBX + 0x20]
0077cd64 : PUSH EAX
0077cd65 : PUSH ECX
0077cd66 : PUSH ESI
0077cd67 : CALL 0x0063ae40
0077cd6c : MOV EAX,dword ptr [EBX + 0x20]
0077cd6f : ADD ESP,0x1c
0077cd72 : XOR EBX,EBX
0077cd74 : PUSH EBX
0077cd75 : PUSH EDI
0077cd76 : PUSH EBX
0077cd77 : PUSH 0x807
0077cd7c : PUSH EBX
0077cd7d : PUSH EBX
0077cd7e : PUSH EAX
0077cd7f : MOV EAX,dword ptr [EBP + 0xc]
0077cd82 : PUSH ESI
0077cd83 : PUSH EAX
0077cd84 : CALL 0x00664d14
0077cd89 : MOV ECX,ESI
0077cd8b : MOV EDI,EAX
0077cd8d : CALL 0x006f04e0
0077cded : XOR AL,AL
0077cdef : MOV ECX,dword ptr [EBP + -0xc]
0077cdf2 : MOV dword ptr FS:[0x0],ECX
0077cdf9 : POP ECX
0077cdfa : POP EDI
0077cdfb : POP ESI
0077cdfc : POP EBX
0077cdfd : MOV ESP,EBP
0077cdff : POP EBP
0077ce00 : RET 0x8
