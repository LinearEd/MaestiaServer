PROGRAM  : Maestia.exe
FUNCTION : FUN_007d4140
ENTRY    : 007d4140
BODY     : [[007d4140, 007d41f1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d4140(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int *piVar3;
  uint uVar4;
  int iVar5;
  int in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0f096;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(in_ECX + 8) != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  local_8 = 0;
  puVar1 = *(undefined4 **)(in_ECX + 0x38);
  for (puVar2 = (undefined4 *)*puVar1; puVar2 != puVar1; puVar2 = (undefined4 *)*puVar2) {
    piVar3 = (int *)puVar2[9];
    iVar5 = (**(code **)(*piVar3 + 0x1c))(uVar4);
    if (iVar5 - 2U < 8) {
      if ((int *)piVar3[0xa3] != (int *)0x0) {
        (**(code **)(*(int *)piVar3[0xa3] + 0x14))();
      }
      (**(code **)(*piVar3 + 4))();
    }
  }
  local_8 = 0xffffffff;
  if (*(int *)(in_ECX + 8) != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d4140 : PUSH EBP
007d4141 : MOV EBP,ESP
007d4143 : PUSH -0x1
007d4145 : PUSH 0xb0f096
007d414a : MOV EAX,FS:[0x0]
007d4150 : PUSH EAX
007d4151 : SUB ESP,0x8
007d4154 : PUSH EBX
007d4155 : PUSH ESI
007d4156 : PUSH EDI
007d4157 : MOV EAX,[0x00d66fa0]
007d415c : XOR EAX,EBP
007d415e : PUSH EAX
007d415f : LEA EAX,[EBP + -0xc]
007d4162 : MOV FS:[0x0],EAX
007d4168 : MOV ESI,ECX
007d416a : MOV dword ptr [EBP + -0x10],ESI
007d416d : MOV EAX,dword ptr [ESI + 0x8]
007d4170 : MOV dword ptr [EBP + -0x14],ESI
007d4173 : TEST EAX,EAX
007d4175 : JZ 0x007d4181
007d4177 : ADD EAX,0x4
007d417a : PUSH EAX
007d417b : CALL dword ptr [0x00b85118]
007d4181 : MOV dword ptr [EBP + -0x4],0x0
007d4188 : MOV EBX,dword ptr [ESI + 0x38]
007d418b : MOV EDI,dword ptr [EBX]
007d418d : CMP EDI,EBX
007d418f : JZ 0x007d41c8
007d4191 : MOV ESI,dword ptr [EDI + 0x24]
007d4194 : MOV EAX,dword ptr [ESI]
007d4196 : MOV EDX,dword ptr [EAX + 0x1c]
007d4199 : MOV ECX,ESI
007d419b : CALL EDX
007d419d : ADD EAX,-0x2
007d41a0 : CMP EAX,0x7
007d41a3 : JA 0x007d41bf
007d41a5 : MOV ECX,dword ptr [ESI + 0x28c]
007d41ab : TEST ECX,ECX
007d41ad : JZ 0x007d41b6
007d41af : MOV EAX,dword ptr [ECX]
007d41b1 : MOV EDX,dword ptr [EAX + 0x14]
007d41b4 : CALL EDX
007d41b6 : MOV EAX,dword ptr [ESI]
007d41b8 : MOV EDX,dword ptr [EAX + 0x4]
007d41bb : MOV ECX,ESI
007d41bd : CALL EDX
007d41bf : MOV EDI,dword ptr [EDI]
007d41c1 : CMP EDI,EBX
007d41c3 : JNZ 0x007d4191
007d41c5 : MOV ESI,dword ptr [EBP + -0x10]
007d41c8 : MOV dword ptr [EBP + -0x4],0xffffffff
007d41cf : MOV EAX,dword ptr [ESI + 0x8]
007d41d2 : TEST EAX,EAX
007d41d4 : JZ 0x007d41e0
007d41d6 : ADD EAX,0x4
007d41d9 : PUSH EAX
007d41da : CALL dword ptr [0x00b8511c]
007d41e0 : MOV ECX,dword ptr [EBP + -0xc]
007d41e3 : MOV dword ptr FS:[0x0],ECX
007d41ea : POP ECX
007d41eb : POP EDI
007d41ec : POP ESI
007d41ed : POP EBX
007d41ee : MOV ESP,EBP
007d41f0 : POP EBP
007d41f1 : RET
