PROGRAM  : Maestia.exe
FUNCTION : FUN_0047f920
ENTRY    : 0047f920
BODY     : [[0047f920, 0047f9cc]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0047f920(void)

{
  int *piVar1;
  uint uVar2;
  int *unaff_ESI;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b73f38;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  EnterCriticalSection((LPCRITICAL_SECTION)(unaff_ESI + 0x61));
  local_8 = 0;
  piVar1 = (int *)unaff_ESI[0x60];
  while (piVar1 != unaff_ESI + 0x5f) {
    FUN_00789530(uVar2);
    piVar1 = (int *)unaff_ESI[0x60];
  }
  local_8 = 0xffffffff;
  LeaveCriticalSection((LPCRITICAL_SECTION)(unaff_ESI + 0x61));
  if ((char)unaff_ESI[2] == '\0') {
    FUN_0047f350();
    ExceptionList = local_10;
    return;
  }
  (**(code **)(*unaff_ESI + 0x90))();
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0047f920 : PUSH EBP
0047f921 : MOV EBP,ESP
0047f923 : PUSH -0x1
0047f925 : PUSH 0xb73f38
0047f92a : MOV EAX,FS:[0x0]
0047f930 : PUSH EAX
0047f931 : PUSH ECX
0047f932 : PUSH EBX
0047f933 : PUSH EDI
0047f934 : MOV EAX,[0x00d66fa0]
0047f939 : XOR EAX,EBP
0047f93b : PUSH EAX
0047f93c : LEA EAX,[EBP + -0xc]
0047f93f : MOV FS:[0x0],EAX
0047f945 : LEA EBX,[ESI + 0x184]
0047f94b : PUSH EBX
0047f94c : MOV dword ptr [EBP + -0x10],EBX
0047f94f : CALL dword ptr [0x00b85118]
0047f955 : MOV dword ptr [EBP + -0x4],0x0
0047f95c : MOV EAX,dword ptr [ESI + 0x180]
0047f962 : LEA EDI,[ESI + 0x17c]
0047f968 : CMP EAX,EDI
0047f96a : JZ 0x0047f986
0047f96c : TEST EAX,EAX
0047f96e : JZ 0x0047f975
0047f970 : ADD EAX,-0x8
0047f973 : JMP 0x0047f977
0047f975 : XOR EAX,EAX
0047f977 : CALL 0x00789530
0047f97c : MOV EAX,dword ptr [ESI + 0x180]
0047f982 : CMP EAX,EDI
0047f984 : JNZ 0x0047f96c
0047f986 : MOV dword ptr [EBP + -0x4],0xffffffff
0047f98d : PUSH EBX
0047f98e : CALL dword ptr [0x00b8511c]
0047f994 : CMP byte ptr [ESI + 0x8],0x0
0047f998 : MOV ECX,ESI
0047f99a : JZ 0x0047f9b7
0047f99c : MOV EAX,dword ptr [ESI]
0047f99e : MOV EDX,dword ptr [EAX + 0x90]
0047f9a4 : CALL EDX
0047f9a6 : MOV ECX,dword ptr [EBP + -0xc]
0047f9a9 : MOV dword ptr FS:[0x0],ECX
0047f9b0 : POP ECX
0047f9b1 : POP EDI
0047f9b2 : POP EBX
0047f9b3 : MOV ESP,EBP
0047f9b5 : POP EBP
0047f9b6 : RET
0047f9b7 : CALL 0x0047f350
0047f9bc : MOV ECX,dword ptr [EBP + -0xc]
0047f9bf : MOV dword ptr FS:[0x0],ECX
0047f9c6 : POP ECX
0047f9c7 : POP EDI
0047f9c8 : POP EBX
0047f9c9 : MOV ESP,EBP
0047f9cb : POP EBP
0047f9cc : RET
