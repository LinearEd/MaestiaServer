PROGRAM  : Maestia.exe
FUNCTION : FUN_007e59a0
ENTRY    : 007e59a0
BODY     : [[007e59a0, 007e5c34]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007e59a0(void)

{
  uint uVar1;
  int iVar2;
  undefined4 uVar3;
  int *piVar4;
  int unaff_EDI;
  float fVar5;
  float fVar6;
  float fVar7;
  undefined **local_b8 [33];
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b372e6;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(unaff_EDI + 0xe8) != 0) {
    iVar2 = FUN_0045e0c0(*(int *)(unaff_EDI + 0xe8),local_b8);
    local_24 = *(float *)(iVar2 + 0x10);
    local_2c = *(float *)(iVar2 + 0x18);
    local_8 = 0xffffffff;
    local_b8[0] = &PTR_FUN_00cd083c;
    iVar2 = FUN_0045e0c0(*(undefined4 *)(unaff_EDI + 0xe8),local_b8);
    local_1c = *(float *)(iVar2 + 4);
    local_18 = *(float *)(iVar2 + 0xc);
    local_8 = 0xffffffff;
    local_b8[0] = &PTR_FUN_00cd083c;
    iVar2 = FUN_0045e040(*(undefined4 *)(unaff_EDI + 0xe8),local_b8);
    local_34 = *(float *)(iVar2 + 0x10);
    local_30 = *(float *)(iVar2 + 0x18);
    local_8 = 0xffffffff;
    local_b8[0] = &PTR_FUN_00cd083c;
    iVar2 = FUN_0045e040(*(undefined4 *)(unaff_EDI + 0xe8),local_b8);
    local_14 = *(float *)(iVar2 + 4);
    local_28 = *(float *)(iVar2 + 0xc);
    local_8 = 0xffffffff;
    local_b8[0] = &PTR_FUN_00cd083c;
    if ((((local_24 < local_34) || (local_2c < local_30)) || (local_14 < local_1c)) ||
       (local_28 < local_18)) {
      FUN_007796a0(uVar1);
      FUN_00779740();
      if (*(undefined4 **)(unaff_EDI + 0xe8) != (undefined4 *)0x0) {
        (**(code **)**(undefined4 **)(unaff_EDI + 0xe8))(1);
        *(undefined4 *)(unaff_EDI + 0xe8) = 0;
      }
      fVar7 = local_30;
      if (local_30 < local_2c) {
        fVar7 = local_2c;
      }
      fVar6 = local_34;
      if (local_34 < local_24) {
        fVar6 = local_24;
      }
      fVar5 = local_28;
      if (local_18 < local_28) {
        fVar5 = local_18;
      }
      if (local_14 <= local_1c) {
        local_1c = local_14;
      }
      local_14 = fVar6 - local_1c;
      if (fVar6 - local_1c <= fVar7 - fVar5) {
        local_14 = fVar7 - fVar5;
      }
      local_14 = local_14 + 1.0;
      local_20 = (local_1c + fVar6) * DAT_00d72c24;
      local_1c = (fVar5 + fVar7) * DAT_00d72c24;
      local_28 = (float)FUN_006f0760(0xb8,".\\Terrain\\AvaTerrainSceneMgr.cpp",0x20fd,0);
      local_8 = 4;
      if (local_28 == 0.0) {
        uVar3 = 0;
      }
      else {
        uVar3 = FUN_00779b10(local_28,&local_20,local_14,*(undefined2 *)(unaff_EDI + 0x18a));
      }
      local_8 = 0xffffffff;
      *(undefined4 *)(unaff_EDI + 0xe8) = uVar3;
      piVar4 = (int *)**(int **)(unaff_EDI + 0xf0);
      if (piVar4 != *(int **)(unaff_EDI + 0xf0)) {
        do {
          FUN_00779d50(piVar4[2]);
          piVar4 = (int *)*piVar4;
        } while (piVar4 != (int *)*(int *)(unaff_EDI + 0xf0));
      }
      FUN_00779480();
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007e59a0 : PUSH EBP
007e59a1 : MOV EBP,ESP
007e59a3 : PUSH -0x1
007e59a5 : PUSH 0xb372e6
007e59aa : MOV EAX,FS:[0x0]
007e59b0 : PUSH EAX
007e59b1 : SUB ESP,0xa8
007e59b7 : PUSH EBX
007e59b8 : PUSH ESI
007e59b9 : MOV EAX,[0x00d66fa0]
007e59be : XOR EAX,EBP
007e59c0 : PUSH EAX
007e59c1 : LEA EAX,[EBP + -0xc]
007e59c4 : MOV FS:[0x0],EAX
007e59ca : MOV EAX,dword ptr [EDI + 0xe8]
007e59d0 : TEST EAX,EAX
007e59d2 : JZ 0x007e5c24
007e59d8 : LEA ECX,[EBP + 0xffffff4c]
007e59de : PUSH ECX
007e59df : PUSH EAX
007e59e0 : CALL 0x0045e0c0
007e59e5 : MOV dword ptr [EBP + -0x4],0x0
007e59ec : MOVSS XMM0,dword ptr [EAX + 0x10]
007e59f1 : MOVSS dword ptr [EBP + -0x20],XMM0
007e59f6 : MOVSS XMM0,dword ptr [EAX + 0x18]
007e59fb : OR EBX,0xffffffff
007e59fe : MOVSS dword ptr [EBP + -0x28],XMM0
007e5a03 : MOV dword ptr [EBP + -0x4],EBX
007e5a06 : MOV EAX,dword ptr [EDI + 0xe8]
007e5a0c : LEA EDX,[EBP + 0xffffff4c]
007e5a12 : PUSH EDX
007e5a13 : MOV ESI,0xcd083c
007e5a18 : PUSH EAX
007e5a19 : MOV dword ptr [EBP + 0xffffff4c],ESI
007e5a1f : CALL 0x0045e0c0
007e5a24 : MOV dword ptr [EBP + -0x4],0x1
007e5a2b : MOVSS XMM0,dword ptr [EAX + 0x4]
007e5a30 : MOVSS dword ptr [EBP + -0x18],XMM0
007e5a35 : MOVSS XMM0,dword ptr [EAX + 0xc]
007e5a3a : MOVSS dword ptr [EBP + -0x14],XMM0
007e5a3f : MOV dword ptr [EBP + -0x4],EBX
007e5a42 : MOV EDX,dword ptr [EDI + 0xe8]
007e5a48 : LEA ECX,[EBP + 0xffffff4c]
007e5a4e : PUSH ECX
007e5a4f : PUSH EDX
007e5a50 : MOV dword ptr [EBP + 0xffffff4c],ESI
007e5a56 : CALL 0x0045e040
007e5a5b : MOV dword ptr [EBP + -0x4],0x2
007e5a62 : MOVSS XMM0,dword ptr [EAX + 0x10]
007e5a67 : MOVSS dword ptr [EBP + -0x30],XMM0
007e5a6c : MOVSS XMM0,dword ptr [EAX + 0x18]
007e5a71 : MOVSS dword ptr [EBP + -0x2c],XMM0
007e5a76 : MOV dword ptr [EBP + -0x4],EBX
007e5a79 : MOV ECX,dword ptr [EDI + 0xe8]
007e5a7f : LEA EAX,[EBP + 0xffffff4c]
007e5a85 : PUSH EAX
007e5a86 : PUSH ECX
007e5a87 : MOV dword ptr [EBP + 0xffffff4c],ESI
007e5a8d : CALL 0x0045e040
007e5a92 : MOV dword ptr [EBP + -0x4],0x3
007e5a99 : MOVSS XMM0,dword ptr [EAX + 0x4]
007e5a9e : MOVSS XMM1,dword ptr [EAX + 0xc]
007e5aa3 : MOVSS dword ptr [EBP + -0x10],XMM0
007e5aa8 : MOVSS dword ptr [EBP + -0x24],XMM1
007e5aad : MOV dword ptr [EBP + -0x4],EBX
007e5ab0 : MOVSS XMM2,dword ptr [EBP + -0x30]
007e5ab5 : COMISS XMM2,dword ptr [EBP + -0x20]
007e5ab9 : MOV dword ptr [EBP + 0xffffff4c],ESI
007e5abf : JA 0x007e5ae4
007e5ac1 : MOVSS XMM2,dword ptr [EBP + -0x2c]
007e5ac6 : COMISS XMM2,dword ptr [EBP + -0x28]
007e5aca : JA 0x007e5ae4
007e5acc : MOVSS XMM2,dword ptr [EBP + -0x18]
007e5ad1 : COMISS XMM2,XMM0
007e5ad4 : JA 0x007e5ae4
007e5ad6 : MOVSS XMM0,dword ptr [EBP + -0x14]
007e5adb : COMISS XMM0,XMM1
007e5ade : JBE 0x007e5c24
007e5ae4 : MOV ESI,dword ptr [EDI + 0xe8]
007e5aea : CALL 0x007796a0
007e5aef : MOV ESI,dword ptr [EDI + 0xe8]
007e5af5 : CALL 0x00779740
007e5afa : MOV ECX,dword ptr [EDI + 0xe8]
007e5b00 : TEST ECX,ECX
007e5b02 : JZ 0x007e5b16
007e5b04 : MOV EDX,dword ptr [ECX]
007e5b06 : MOV EAX,dword ptr [EDX]
007e5b08 : PUSH 0x1
007e5b0a : CALL EAX
007e5b0c : MOV dword ptr [EDI + 0xe8],0x0
007e5b16 : MOVSS XMM0,dword ptr [EBP + -0x28]
007e5b1b : MOVSS XMM5,dword ptr [EBP + -0x2c]
007e5b20 : COMISS XMM0,XMM5
007e5b23 : JBE 0x007e5b28
007e5b25 : MOVAPS XMM5,XMM0
007e5b28 : MOVSS XMM0,dword ptr [EBP + -0x20]
007e5b2d : MOVSS XMM4,dword ptr [EBP + -0x30]
007e5b32 : COMISS XMM0,XMM4
007e5b35 : JBE 0x007e5b3a
007e5b37 : MOVAPS XMM4,XMM0
007e5b3a : MOVSS XMM1,dword ptr [EBP + -0x24]
007e5b3f : MOVSS XMM0,dword ptr [EBP + -0x14]
007e5b44 : COMISS XMM1,XMM0
007e5b47 : JBE 0x007e5b4c
007e5b49 : MOVAPS XMM1,XMM0
007e5b4c : MOVSS XMM2,dword ptr [EBP + -0x10]
007e5b51 : MOVSS XMM0,dword ptr [EBP + -0x18]
007e5b56 : COMISS XMM2,XMM0
007e5b59 : JA 0x007e5b5e
007e5b5b : MOVAPS XMM0,XMM2
007e5b5e : MOVAPS XMM2,XMM4
007e5b61 : MOVAPS XMM3,XMM5
007e5b64 : SUBSS XMM2,XMM0
007e5b68 : SUBSS XMM3,XMM1
007e5b6c : COMISS XMM2,XMM3
007e5b6f : JA 0x007e5b74
007e5b71 : MOVAPS XMM2,XMM3
007e5b74 : ADDSS XMM2,dword ptr [0x00c10fc4]
007e5b7c : PUSH 0x0
007e5b7e : PUSH 0x20fd
007e5b83 : MOVSS dword ptr [EBP + -0x10],XMM2
007e5b88 : MOVSS XMM2,dword ptr [0x00d72c24]
007e5b90 : ADDSS XMM0,XMM4
007e5b94 : ADDSS XMM1,XMM5
007e5b98 : PUSH 0xc2402c
007e5b9d : MULSS XMM0,XMM2
007e5ba1 : MULSS XMM1,XMM2
007e5ba5 : PUSH 0xb8
007e5baa : MOVSS dword ptr [EBP + -0x1c],XMM0
007e5baf : MOVSS dword ptr [EBP + -0x18],XMM1
007e5bb4 : CALL 0x006f0760
007e5bb9 : ADD ESP,0x10
007e5bbc : MOV dword ptr [EBP + -0x24],EAX
007e5bbf : MOV dword ptr [EBP + -0x4],0x4
007e5bc6 : TEST EAX,EAX
007e5bc8 : JZ 0x007e5be5
007e5bca : MOVZX ECX,word ptr [EDI + 0x18a]
007e5bd1 : FLD float ptr [EBP + -0x10]
007e5bd4 : PUSH ECX
007e5bd5 : PUSH ECX
007e5bd6 : LEA EDX,[EBP + -0x1c]
007e5bd9 : FSTP float ptr [ESP]
007e5bdc : PUSH EDX
007e5bdd : PUSH EAX
007e5bde : CALL 0x00779b10
007e5be3 : JMP 0x007e5be7
007e5be5 : XOR EAX,EAX
007e5be7 : MOV dword ptr [EBP + -0x4],EBX
007e5bea : MOV dword ptr [EDI + 0xe8],EAX
007e5bf0 : MOV EAX,dword ptr [EDI + 0xf0]
007e5bf6 : MOV EBX,dword ptr [EAX]
007e5bf8 : CMP EBX,EAX
007e5bfa : JZ 0x007e5c19
007e5bfc : LEA ESP,[ESP]
007e5c00 : MOV EAX,dword ptr [EBX + 0x8]
007e5c03 : MOV ESI,dword ptr [EDI + 0xe8]
007e5c09 : PUSH EAX
007e5c0a : CALL 0x00779d50
007e5c0f : MOV EBX,dword ptr [EBX]
007e5c11 : CMP EBX,dword ptr [EDI + 0xf0]
007e5c17 : JNZ 0x007e5c00
007e5c19 : MOV ESI,dword ptr [EDI + 0xe8]
007e5c1f : CALL 0x00779480
007e5c24 : MOV ECX,dword ptr [EBP + -0xc]
007e5c27 : MOV dword ptr FS:[0x0],ECX
007e5c2e : POP ECX
007e5c2f : POP ESI
007e5c30 : POP EBX
007e5c31 : MOV ESP,EBP
007e5c33 : POP EBP
007e5c34 : RET
