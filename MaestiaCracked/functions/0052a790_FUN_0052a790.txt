PROGRAM  : Maestia.exe
FUNCTION : FUN_0052a790
ENTRY    : 0052a790
BODY     : [[0052a790, 0052a826]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0052a790(undefined1 *param_1)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint *in_ECX;
  
  uVar4 = *in_ECX;
  if (in_ECX[1] <= uVar4) {
    return 0;
  }
  do {
    iVar3 = FUN_00638800(in_ECX[2],(int)*(char *)*in_ECX);
    if (iVar3 != 0) break;
    *in_ECX = *in_ECX + 1;
  } while (*in_ECX < in_ECX[1]);
  *param_1 = *(undefined1 *)*in_ECX;
  uVar2 = *in_ECX;
  if ((uVar4 == uVar2) || (in_ECX[1] < uVar2)) {
    uVar4 = *(uint *)(*(int *)(in_ECX[3] & 0xfffffc00) + 0x18);
  }
  else {
    uVar4 = FUN_00525450(uVar4,uVar2 - uVar4);
  }
  *(int *)(uVar4 + 8) = *(int *)(uVar4 + 8) + 2;
  piVar1 = (int *)(in_ECX[3] + 8);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    FUN_00525340();
  }
  in_ECX[3] = uVar4;
  piVar1 = (int *)(uVar4 + 8);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    FUN_00525340();
  }
  *in_ECX = *in_ECX + 1;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
0052a790 : PUSH ESI
0052a791 : MOV ESI,ECX
0052a793 : PUSH EDI
0052a794 : MOV EDI,dword ptr [ESI]
0052a796 : CMP EDI,dword ptr [ESI + 0x4]
0052a799 : JC 0x0052a7a2
0052a79b : POP EDI
0052a79c : XOR AL,AL
0052a79e : POP ESI
0052a79f : RET 0x4
0052a7a2 : MOV EAX,dword ptr [ESI]
0052a7a4 : MOVSX EAX,byte ptr [EAX]
0052a7a7 : MOV ECX,dword ptr [ESI + 0x8]
0052a7aa : PUSH EAX
0052a7ab : PUSH ECX
0052a7ac : CALL 0x00638800
0052a7b1 : ADD ESP,0x8
0052a7b4 : TEST EAX,EAX
0052a7b6 : JNZ 0x0052a7c1
0052a7b8 : INC dword ptr [ESI]
0052a7ba : MOV EDX,dword ptr [ESI]
0052a7bc : CMP EDX,dword ptr [ESI + 0x4]
0052a7bf : JC 0x0052a7a2
0052a7c1 : MOV EAX,dword ptr [ESI]
0052a7c3 : MOV CL,byte ptr [EAX]
0052a7c5 : MOV EDX,dword ptr [ESP + 0xc]
0052a7c9 : MOV byte ptr [EDX],CL
0052a7cb : MOV EAX,dword ptr [ESI]
0052a7cd : CMP EDI,EAX
0052a7cf : JZ 0x0052a7ee
0052a7d1 : CMP EAX,dword ptr [ESI + 0x4]
0052a7d4 : JA 0x0052a7ee
0052a7d6 : MOV ECX,dword ptr [ESI + 0xc]
0052a7d9 : SUB EAX,EDI
0052a7db : AND ECX,0xfffffc00
0052a7e1 : MOV ECX,dword ptr [ECX]
0052a7e3 : PUSH EAX
0052a7e4 : PUSH EDI
0052a7e5 : CALL 0x00525450
0052a7ea : MOV EDI,EAX
0052a7ec : JMP 0x0052a7fc
0052a7ee : MOV EDX,dword ptr [ESI + 0xc]
0052a7f1 : AND EDX,0xfffffc00
0052a7f7 : MOV EAX,dword ptr [EDX]
0052a7f9 : MOV EDI,dword ptr [EAX + 0x18]
0052a7fc : ADD dword ptr [EDI + 0x8],0x2
0052a800 : MOV ECX,dword ptr [ESI + 0xc]
0052a803 : ADD dword ptr [ECX + 0x8],-0x1
0052a807 : JNZ 0x0052a80e
0052a809 : CALL 0x00525340
0052a80e : MOV dword ptr [ESI + 0xc],EDI
0052a811 : ADD dword ptr [EDI + 0x8],-0x1
0052a815 : JNZ 0x0052a81e
0052a817 : MOV ECX,EDI
0052a819 : CALL 0x00525340
0052a81e : INC dword ptr [ESI]
0052a820 : POP EDI
0052a821 : MOV AL,0x1
0052a823 : POP ESI
0052a824 : RET 0x4
