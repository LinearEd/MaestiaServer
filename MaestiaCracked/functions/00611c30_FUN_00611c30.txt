PROGRAM  : Maestia.exe
FUNCTION : FUN_00611c30
ENTRY    : 00611c30
BODY     : [[00611c30, 00611c79] [00611c80, 00611d41]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00611c30(int *param_1)

{
  int *piVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  
  iVar2 = *param_1;
  if (iVar2 != 0) {
    if ((*(byte *)(iVar2 + 0x100) & 0x20) != 0) {
      FUN_0061dcc0(iVar2);
    }
    if (*(code **)(iVar2 + 0x2ac) != (code *)0x0) {
      (**(code **)(iVar2 + 0x2ac))(iVar2);
    }
    if (*(int *)(iVar2 + 0x104) != 0) {
      iVar4 = *(int *)(*(int *)(iVar2 + 0x104) + 0x124);
      while (iVar4 != 0) {
        puVar3 = *(undefined4 **)(*(int *)(iVar2 + 0x104) + 0x124);
        *(undefined4 *)(*(int *)(iVar2 + 0x104) + 0x124) = *puVar3;
        puVar3[0x1f] = 0;
        FUN_00622460(puVar3);
        piVar1 = (int *)(*(int *)(iVar2 + 0x104) + 0x120);
        *piVar1 = *piVar1 + -1;
        iVar4 = *(int *)(*(int *)(iVar2 + 0x104) + 0x124);
      }
      FUN_00622460(*(undefined4 *)(iVar2 + 0x104));
      *(undefined4 *)(iVar2 + 0x104) = 0;
    }
    if (*(int *)(iVar2 + 0x354) != 0) {
      if (*(int *)(iVar2 + 0x358) != 0) {
        FUN_0061ba70(*(int *)(iVar2 + 0x358));
        *(undefined4 *)(iVar2 + 0x358) = 0;
      }
      iVar4 = FUN_00622790(*(undefined4 *)(*(int *)(iVar2 + 0x354) + 0x44),0,iVar2);
      if (iVar4 != 0) {
        FUN_00622d00(*(undefined4 *)(*(int *)(iVar2 + 0x354) + 0x44),iVar4);
      }
    }
    if (*(int *)(iVar2 + 800) != 0) {
      FUN_00622410(iVar2 + 800);
    }
    FUN_00622460(iVar2);
    *param_1 = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00611c30 : PUSH EBX
00611c31 : PUSH EBP
00611c32 : MOV EBP,dword ptr [ESP + 0xc]
00611c36 : PUSH ESI
00611c37 : MOV ESI,dword ptr [EBP]
00611c3a : XOR EBX,EBX
00611c3c : CMP ESI,EBX
00611c3e : JZ 0x00611d3e
00611c44 : TEST byte ptr [ESI + 0x100],0x20
00611c4b : JZ 0x00611c56
00611c4d : PUSH ESI
00611c4e : CALL 0x0061dcc0
00611c53 : ADD ESP,0x4
00611c56 : MOV EAX,dword ptr [ESI + 0x2ac]
00611c5c : CMP EAX,EBX
00611c5e : JZ 0x00611c66
00611c60 : PUSH ESI
00611c61 : CALL EAX
00611c63 : ADD ESP,0x4
00611c66 : MOV EAX,dword ptr [ESI + 0x104]
00611c6c : CMP EAX,EBX
00611c6e : JZ 0x00611ccf
00611c70 : CMP dword ptr [EAX + 0x124],EBX
00611c76 : JZ 0x00611cba
00611c78 : JMP 0x00611c80
00611c80 : MOV ECX,dword ptr [ESI + 0x104]
00611c86 : MOV EAX,dword ptr [ECX + 0x124]
00611c8c : MOV EDX,dword ptr [EAX]
00611c8e : MOV dword ptr [ECX + 0x124],EDX
00611c94 : PUSH EAX
00611c95 : MOV dword ptr [EAX + 0x7c],EBX
00611c98 : CALL 0x00622460
00611c9d : MOV EAX,dword ptr [ESI + 0x104]
00611ca3 : DEC dword ptr [EAX + 0x120]
00611ca9 : MOV EAX,dword ptr [ESI + 0x104]
00611caf : ADD ESP,0x4
00611cb2 : CMP dword ptr [EAX + 0x124],EBX
00611cb8 : JNZ 0x00611c80
00611cba : MOV ECX,dword ptr [ESI + 0x104]
00611cc0 : PUSH ECX
00611cc1 : CALL 0x00622460
00611cc6 : ADD ESP,0x4
00611cc9 : MOV dword ptr [ESI + 0x104],EBX
00611ccf : CMP dword ptr [ESI + 0x354],EBX
00611cd5 : JZ 0x00611d1b
00611cd7 : MOV EAX,dword ptr [ESI + 0x358]
00611cdd : CMP EAX,EBX
00611cdf : JZ 0x00611cf0
00611ce1 : PUSH EAX
00611ce2 : CALL 0x0061ba70
00611ce7 : ADD ESP,0x4
00611cea : MOV dword ptr [ESI + 0x358],EBX
00611cf0 : MOV EDX,dword ptr [ESI + 0x354]
00611cf6 : MOV EAX,dword ptr [EDX + 0x44]
00611cf9 : PUSH ESI
00611cfa : PUSH EBX
00611cfb : PUSH EAX
00611cfc : CALL 0x00622790
00611d01 : ADD ESP,0xc
00611d04 : CMP EAX,EBX
00611d06 : JZ 0x00611d1b
00611d08 : MOV ECX,dword ptr [ESI + 0x354]
00611d0e : MOV EDX,dword ptr [ECX + 0x44]
00611d11 : PUSH EAX
00611d12 : PUSH EDX
00611d13 : CALL 0x00622d00
00611d18 : ADD ESP,0x8
00611d1b : CMP dword ptr [ESI + 0x320],EBX
00611d21 : LEA EAX,[ESI + 0x320]
00611d27 : JZ 0x00611d32
00611d29 : PUSH EAX
00611d2a : CALL 0x00622410
00611d2f : ADD ESP,0x4
00611d32 : PUSH ESI
00611d33 : CALL 0x00622460
00611d38 : ADD ESP,0x4
00611d3b : MOV dword ptr [EBP],EBX
00611d3e : POP ESI
00611d3f : POP EBP
00611d40 : POP EBX
00611d41 : RET
