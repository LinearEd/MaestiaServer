PROGRAM  : Maestia.exe
FUNCTION : FUN_00569e30
ENTRY    : 00569e30
BODY     : [[00569e30, 00569f49]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00569e30(int param_1,GRefCountNTSImpl *param_2,GRefCountNTSImpl *param_3)

{
  ushort uVar1;
  int iVar2;
  int *in_ECX;
  GRefCountNTSImpl *local_18;
  int local_14;
  int local_10;
  undefined4 local_c;
  undefined4 local_8;
  
  local_18 = (GRefCountNTSImpl *)0x0;
  local_14 = 0;
  local_10 = 0;
  local_c = 0;
  local_8 = 0;
  iVar2 = (**(code **)(*in_ECX + 0x24))(param_1,&local_18);
  if ((*(byte *)(*(int *)(iVar2 + 0x74) + 0x66) & 0x10) != 0) {
    iVar2 = *(int *)(param_1 + 0x18);
  }
  uVar1 = *(ushort *)(iVar2 + 0xc4);
  *(ushort *)(iVar2 + 0xc4) = uVar1 + 1;
  if (uVar1 < 0xff) {
    FUN_00569440();
    FUN_00533d90(iVar2,in_ECX[0x12],in_ECX[0x13],*(undefined4 *)(param_1 + 4),in_ECX + 0xf,
                 *(undefined1 *)((int)in_ECX + 0x66));
    FUN_00569d30();
    *(short *)(iVar2 + 0xc4) = *(short *)(iVar2 + 0xc4) + -1;
  }
  else {
    *(short *)(iVar2 + 0xc4) = *(short *)(iVar2 + 0xc4) + -1;
  }
  if (local_10 != 0) {
    FUN_00503db0();
  }
  if (local_14 != 0) {
    FUN_00503db0();
  }
  if (local_18 != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(local_18);
  }
  if (param_3 != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(param_3);
  }
  if (param_2 != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(param_2);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00569e30 : SUB ESP,0x2c
00569e33 : MOV EAX,dword ptr [ESP + 0x34]
00569e37 : PUSH EBX
00569e38 : PUSH ESI
00569e39 : MOV ESI,ECX
00569e3b : MOV ECX,dword ptr [ESP + 0x40]
00569e3f : MOV EDX,dword ptr [ESI]
00569e41 : MOV EDX,dword ptr [EDX + 0x24]
00569e44 : PUSH EDI
00569e45 : MOV EDI,dword ptr [ESP + 0x3c]
00569e49 : MOV dword ptr [ESP + 0x18],EAX
00569e4d : XOR EBX,EBX
00569e4f : LEA EAX,[ESP + 0x20]
00569e53 : PUSH EAX
00569e54 : MOV dword ptr [ESP + 0x20],ECX
00569e58 : PUSH EDI
00569e59 : MOV ECX,ESI
00569e5b : MOV dword ptr [ESP + 0x14],ESI
00569e5f : MOV dword ptr [ESP + 0x1c],EDI
00569e63 : MOV dword ptr [ESP + 0x28],EBX
00569e67 : MOV dword ptr [ESP + 0x2c],EBX
00569e6b : MOV dword ptr [ESP + 0x30],EBX
00569e6f : MOV dword ptr [ESP + 0x34],EBX
00569e73 : MOV dword ptr [ESP + 0x38],EBX
00569e77 : CALL EDX
00569e79 : MOV dword ptr [ESP + 0x10],EAX
00569e7d : MOV ECX,dword ptr [EAX + 0x74]
00569e80 : TEST byte ptr [ECX + 0x66],0x10
00569e84 : JZ 0x00569e8d
00569e86 : MOV EAX,dword ptr [EDI + 0x18]
00569e89 : MOV dword ptr [ESP + 0x10],EAX
00569e8d : MOVZX ECX,word ptr [EAX + 0xc4]
00569e94 : PUSH EBP
00569e95 : LEA EBP,[ECX + 0x1]
00569e98 : MOV EDX,0xff
00569e9d : MOV word ptr [EAX + 0xc4],BP
00569ea4 : POP EBP
00569ea5 : CMP CX,DX
00569ea8 : JC 0x00569ebc
00569eaa : MOV EAX,dword ptr [ESP + 0x10]
00569eae : MOV ECX,0xffff
00569eb3 : ADD word ptr [EAX + 0xc4],CX
00569eba : JMP 0x00569f00
00569ebc : LEA ECX,[ESP + 0xc]
00569ec0 : CALL 0x00569440
00569ec5 : MOVZX EDX,byte ptr [ESI + 0x66]
00569ec9 : MOV ECX,dword ptr [EDI + 0x4]
00569ecc : PUSH EDX
00569ecd : MOV EDX,dword ptr [ESI + 0x4c]
00569ed0 : LEA EAX,[ESI + 0x3c]
00569ed3 : PUSH EAX
00569ed4 : MOV EAX,dword ptr [ESI + 0x48]
00569ed7 : PUSH ECX
00569ed8 : MOV ECX,dword ptr [ESP + 0x1c]
00569edc : PUSH EDX
00569edd : PUSH EAX
00569ede : PUSH ECX
00569edf : MOV ECX,dword ptr [ESI + 0x38]
00569ee2 : CALL 0x00533d90
00569ee7 : LEA ECX,[ESP + 0xc]
00569eeb : CALL 0x00569d30
00569ef0 : MOV EAX,dword ptr [ESP + 0x10]
00569ef4 : MOV EDX,0xffff
00569ef9 : ADD word ptr [EAX + 0xc4],DX
00569f00 : MOV ECX,dword ptr [ESP + 0x30]
00569f04 : CMP ECX,EBX
00569f06 : JZ 0x00569f0d
00569f08 : CALL 0x00503db0
00569f0d : MOV ECX,dword ptr [ESP + 0x2c]
00569f11 : CMP ECX,EBX
00569f13 : JZ 0x00569f1a
00569f15 : CALL 0x00503db0
00569f1a : MOV ECX,dword ptr [ESP + 0x28]
00569f1e : CMP ECX,EBX
00569f20 : JZ 0x00569f27
00569f22 : CALL 0x004ff7c0
00569f27 : MOV ECX,dword ptr [ESP + 0x24]
00569f2b : CMP ECX,EBX
00569f2d : JZ 0x00569f34
00569f2f : CALL 0x004ff7c0
00569f34 : MOV ECX,dword ptr [ESP + 0x20]
00569f38 : CMP ECX,EBX
00569f3a : JZ 0x00569f41
00569f3c : CALL 0x004ff7c0
00569f41 : POP EDI
00569f42 : POP ESI
00569f43 : POP EBX
00569f44 : ADD ESP,0x2c
00569f47 : RET 0xc
