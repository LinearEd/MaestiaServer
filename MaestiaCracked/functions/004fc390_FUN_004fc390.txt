PROGRAM  : Maestia.exe
FUNCTION : FUN_004fc390
ENTRY    : 004fc390
BODY     : [[004fc390, 004fc3fe]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_004fc390(void)

{
  uint uVar1;
  undefined8 *puVar2;
  int unaff_ESI;
  undefined8 *unaff_EDI;
  
  if (*(char *)(unaff_ESI + 0x10) == '\0') {
    if (*(uint *)(unaff_ESI + 8) == *(uint *)(unaff_ESI + 0xc)) {
      if (*(uint *)(unaff_ESI + 0xc) < 8) {
        *(undefined4 *)(unaff_ESI + 0xc) = 8;
      }
      FUN_004fd780(unaff_ESI);
    }
    uVar1 = *(uint *)(unaff_ESI + 8);
  }
  else {
    uVar1 = *(uint *)(unaff_ESI + 8);
    if (*(uint *)(unaff_ESI + 0xc) <= uVar1) {
      return uVar1 & 0xffffff00;
    }
  }
  puVar2 = (undefined8 *)(uVar1 * 0x20 + *(int *)(unaff_ESI + 4));
  *puVar2 = *unaff_EDI;
  puVar2[1] = unaff_EDI[1];
  puVar2[2] = unaff_EDI[2];
  puVar2[3] = unaff_EDI[3];
  *(int *)(unaff_ESI + 8) = *(int *)(unaff_ESI + 8) + 1;
  return CONCAT31((int3)((uint)puVar2 >> 8),1);
}



============================================================
DISASSEMBLY
============================================================
004fc390 : CMP byte ptr [ESI + 0x10],0x0
004fc394 : PUSH EBX
004fc395 : MOV EBX,0x1
004fc39a : JZ 0x004fc3a8
004fc39c : MOV EAX,dword ptr [ESI + 0x8]
004fc39f : CMP EAX,dword ptr [ESI + 0xc]
004fc3a2 : JC 0x004fc3cc
004fc3a4 : XOR AL,AL
004fc3a6 : POP EBX
004fc3a7 : RET
004fc3a8 : MOV EAX,dword ptr [ESI + 0xc]
004fc3ab : CMP dword ptr [ESI + 0x8],EAX
004fc3ae : JNZ 0x004fc3c9
004fc3b0 : CMP EAX,0x8
004fc3b3 : JNC 0x004fc3bc
004fc3b5 : MOV dword ptr [ESI + 0xc],0x8
004fc3bc : MOV EAX,dword ptr [ESI + 0xc]
004fc3bf : LEA EAX,[EAX + EAX*0x1 + 0x1]
004fc3c3 : PUSH ESI
004fc3c4 : CALL 0x004fd780
004fc3c9 : MOV EAX,dword ptr [ESI + 0x8]
004fc3cc : MOVQ XMM0,qword ptr [EDI]
004fc3d0 : SHL EAX,0x5
004fc3d3 : ADD EAX,dword ptr [ESI + 0x4]
004fc3d6 : MOVQ qword ptr [EAX],XMM0
004fc3da : MOVQ XMM0,qword ptr [EDI + 0x8]
004fc3df : MOVQ qword ptr [EAX + 0x8],XMM0
004fc3e4 : MOVQ XMM0,qword ptr [EDI + 0x10]
004fc3e9 : MOVQ qword ptr [EAX + 0x10],XMM0
004fc3ee : MOVQ XMM0,qword ptr [EDI + 0x18]
004fc3f3 : MOVQ qword ptr [EAX + 0x18],XMM0
004fc3f8 : ADD dword ptr [ESI + 0x8],EBX
004fc3fb : MOV AL,BL
004fc3fd : POP EBX
004fc3fe : RET
