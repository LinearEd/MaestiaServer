PROGRAM  : Maestia.exe
FUNCTION : FUN_00471f10
ENTRY    : 00471f10
BODY     : [[00471f10, 00471f4d]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int * FUN_00471f10(void)

{
  size_t _Size;
  int *piVar1;
  int unaff_EDI;
  
  _Size = unaff_EDI * 2 + 4;
  if (DAT_00da98c8 == (int *)0x0) {
    piVar1 = _malloc(_Size);
  }
  else {
    piVar1 = (int *)(**(code **)(*DAT_00da98c8 + 4))();
  }
  if (piVar1 != (int *)0x0) {
    _DAT_00da98cc = _DAT_00da98cc + _Size;
    _DAT_00da98d0 = _DAT_00da98d0 + 1;
    *piVar1 = unaff_EDI;
    return piVar1 + 1;
  }
  return (int *)0x0;
}



============================================================
DISASSEMBLY
============================================================
00471f10 : MOV ECX,dword ptr [0x00da98c8]
00471f16 : PUSH ESI
00471f17 : LEA ESI,[EDI + EDI*0x1 + 0x4]
00471f1b : PUSH ESI
00471f1c : TEST ECX,ECX
00471f1e : JZ 0x00471f29
00471f20 : MOV EAX,dword ptr [ECX]
00471f22 : MOV EDX,dword ptr [EAX + 0x4]
00471f25 : CALL EDX
00471f27 : JMP 0x00471f31
00471f29 : CALL 0x00636043
00471f2e : ADD ESP,0x4
00471f31 : TEST EAX,EAX
00471f33 : JZ 0x00471f4a
00471f35 : ADD dword ptr [0x00da98cc],ESI
00471f3b : INC dword ptr [0x00da98d0]
00471f41 : LEA ECX,[EAX + 0x4]
00471f44 : MOV dword ptr [EAX],EDI
00471f46 : MOV EAX,ECX
00471f48 : POP ESI
00471f49 : RET
00471f4a : XOR EAX,EAX
00471f4c : POP ESI
00471f4d : RET
