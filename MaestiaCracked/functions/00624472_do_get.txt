PROGRAM  : Maestia.exe
FUNCTION : do_get
ENTRY    : 00624472
BODY     : [[00624472, 00624519]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */
/* Library Function - Single Match
    protected: virtual class std::istreambuf_iterator<char,struct std::char_traits<char> >
   __thiscall std::num_get<char,class std::istreambuf_iterator<char,struct std::char_traits<char> >
   >::do_get(class std::istreambuf_iterator<char,struct std::char_traits<char> >,class
   std::istreambuf_iterator<char,struct std::char_traits<char> >,class std::ios_base &,int &,float
   &)const 
   
   Library: Visual Studio 2008 Release */

void __thiscall
std::num_get<char,class_std::istreambuf_iterator<char,struct_std::char_traits<char>_>_>::do_get
          (undefined4 param_1,undefined4 *param_2,undefined4 param_3,undefined4 param_4)

{
  uint *puVar1;
  float *pfVar2;
  bool bVar3;
  int iVar4;
  float10 fVar5;
  uint *in_stack_0000001c;
  float *in_stack_00000020;
  num_get<char,class_std::istreambuf_iterator<char,struct_std::char_traits<char>_>_> *this;
  istreambuf_iterator<char,struct_std::char_traits<char>_> *local_60;
  undefined1 local_5c [4];
  int local_58;
  char *local_54;
  istreambuf_iterator<char,struct_std::char_traits<char>_> local_50 [72];
  undefined4 local_8;
  undefined4 uStack_4;
  
  pfVar2 = in_stack_00000020;
  puVar1 = in_stack_0000001c;
  uStack_4 = 0x50;
  local_8 = 0x62447e;
  local_58 = 0;
  FUN_004d0b70(local_5c);
  local_8 = 0;
  this = (num_get<char,class_std::istreambuf_iterator<char,struct_std::char_traits<char>_>_> *)
         &local_58;
  iVar4 = _Getffld(this,local_54,local_50,
                   (istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_3,
                   (locale *)&stack0x00000010);
  fVar5 = (float10)__Stofx(local_50,&local_60,iVar4,this);
  local_54 = (char *)(float)fVar5;
  local_8 = 0xffffffff;
  FUN_00451310();
  bVar3 = istreambuf_iterator<char,struct_std::char_traits<char>_>::equal
                    ((istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_3,
                     (istreambuf_iterator<char,struct_std::char_traits<char>_> *)&stack0x00000010);
  if (bVar3) {
    *puVar1 = *puVar1 | 1;
  }
  if ((local_60 == local_50) || (local_58 != 0)) {
    *puVar1 = *puVar1 | 2;
  }
  else {
    *pfVar2 = (float)local_54;
  }
  *param_2 = param_3;
  param_2[1] = param_4;
  FUN_00640ed0();
  return;
}



============================================================
DISASSEMBLY
============================================================
00624472 : PUSH 0x50
00624474 : MOV EAX,0xb0c012
00624479 : CALL 0x00640e86
0062447e : MOV EDI,dword ptr [EBP + 0x8]
00624481 : MOV ESI,dword ptr [EBP + 0x20]
00624484 : MOV EBX,dword ptr [EBP + 0x24]
00624487 : AND dword ptr [EBP + -0x54],0x0
0062448b : LEA EAX,[EBP + -0x58]
0062448e : MOV dword ptr [EBP + -0x50],ECX
00624491 : MOV ECX,dword ptr [EBP + 0x1c]
00624494 : PUSH EAX
00624495 : CALL 0x004d0b70
0062449a : AND dword ptr [EBP + -0x4],0x0
0062449e : LEA ECX,[EBP + -0x54]
006244a1 : PUSH ECX
006244a2 : PUSH EAX
006244a3 : LEA EAX,[EBP + 0x14]
006244a6 : PUSH EAX
006244a7 : LEA EAX,[EBP + 0xc]
006244aa : PUSH EAX
006244ab : LEA EAX,[EBP + -0x4c]
006244ae : PUSH EAX
006244af : PUSH dword ptr [EBP + -0x50]
006244b2 : CALL 0x006239de
006244b7 : ADD ESP,0x14
006244ba : PUSH EAX
006244bb : LEA EAX,[EBP + -0x5c]
006244be : PUSH EAX
006244bf : LEA EAX,[EBP + -0x4c]
006244c2 : PUSH EAX
006244c3 : CALL 0x00633689
006244c8 : FSTP float ptr [EBP + -0x50]
006244cb : OR dword ptr [EBP + -0x4],0xffffffff
006244cf : ADD ESP,0x10
006244d2 : LEA ECX,[EBP + -0x58]
006244d5 : CALL 0x00451310
006244da : LEA EAX,[EBP + 0x14]
006244dd : PUSH EAX
006244de : LEA ECX,[EBP + 0xc]
006244e1 : CALL 0x00623123
006244e6 : TEST AL,AL
006244e8 : JZ 0x006244ed
006244ea : OR dword ptr [ESI],0x1
006244ed : LEA EAX,[EBP + -0x4c]
006244f0 : CMP dword ptr [EBP + -0x5c],EAX
006244f3 : JZ 0x00624502
006244f5 : CMP dword ptr [EBP + -0x54],0x0
006244f9 : JNZ 0x00624502
006244fb : FLD float ptr [EBP + -0x50]
006244fe : FSTP float ptr [EBX]
00624500 : JMP 0x00624505
00624502 : OR dword ptr [ESI],0x2
00624505 : MOV EAX,dword ptr [EBP + 0xc]
00624508 : MOV dword ptr [EDI],EAX
0062450a : MOV EAX,dword ptr [EBP + 0x10]
0062450d : MOV dword ptr [EDI + 0x4],EAX
00624510 : MOV EAX,EDI
00624512 : CALL 0x00640ed0
00624517 : RET 0x20
