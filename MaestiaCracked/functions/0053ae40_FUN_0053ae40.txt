PROGRAM  : Maestia.exe
FUNCTION : FUN_0053ae40
ENTRY    : 0053ae40
BODY     : [[0053ae40, 0053affd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0053ae40(float *param_1)

{
  float fVar1;
  float *pfVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  byte bVar6;
  int in_ECX;
  uint uVar7;
  uint local_8;
  
  pfVar2 = param_1;
  *(undefined1 *)(in_ECX + 0x15) = 0;
  iVar3 = FUN_0053a920();
  iVar4 = FUN_0053a920();
  uVar5 = FUN_0053a880(4);
  bVar6 = (byte)uVar5;
  if (iVar4 == 0) {
    fVar1 = 1.0;
    *param_1 = 1.0;
    param_1[2] = 1.0;
    param_1[4] = 1.0;
  }
  else {
    local_8 = FUN_0053a880(uVar5);
    uVar7 = 1 << (bVar6 - 1 & 0x1f);
    if ((local_8 & uVar7) != 0) {
      local_8 = local_8 | -1 << (bVar6 & 0x1f);
    }
    *param_1 = (float)(int)local_8 * 0.00390625;
    param_1 = (float *)FUN_0053a880(uVar5);
    if (((uint)param_1 & uVar7) != 0) {
      param_1 = (float *)((uint)param_1 | -1 << (bVar6 & 0x1f));
    }
    pfVar2[2] = (float)(int)param_1 * 0.00390625;
    param_1 = (float *)FUN_0053a880(uVar5);
    if (((uint)param_1 & uVar7) != 0) {
      param_1 = (float *)((uint)param_1 | -1 << (bVar6 & 0x1f));
    }
    pfVar2[4] = (float)(int)param_1 * 0.00390625;
    param_1 = (float *)FUN_0053a880(uVar5);
    if (((uint)param_1 & uVar7) != 0) {
      param_1 = (float *)((uint)param_1 | -1 << (bVar6 & 0x1f));
    }
    fVar1 = (float)(int)param_1 * 0.00390625;
  }
  pfVar2[6] = fVar1;
  if (iVar3 != 0) {
    param_1 = (float *)FUN_0053a880(uVar5);
    uVar7 = 1 << (bVar6 - 1 & 0x1f);
    if (((uint)param_1 & uVar7) != 0) {
      param_1 = (float *)((uint)param_1 | -1 << (bVar6 & 0x1f));
    }
    pfVar2[1] = (float)(int)param_1;
    param_1 = (float *)FUN_0053a880(uVar5);
    if (((uint)param_1 & uVar7) != 0) {
      param_1 = (float *)((uint)param_1 | -1 << (bVar6 & 0x1f));
    }
    pfVar2[3] = (float)(int)param_1;
    param_1 = (float *)FUN_0053a880(uVar5);
    if (((uint)param_1 & uVar7) != 0) {
      param_1 = (float *)((uint)param_1 | -1 << (bVar6 & 0x1f));
    }
    pfVar2[5] = (float)(int)param_1;
    param_1 = (float *)FUN_0053a880(uVar5);
    if (((uint)param_1 & uVar7) != 0) {
      param_1 = (float *)((uint)param_1 | -1 << (bVar6 & 0x1f));
    }
    pfVar2[7] = (float)(int)param_1;
    return;
  }
  pfVar2[1] = 0.0;
  pfVar2[3] = 0.0;
  pfVar2[5] = 0.0;
  pfVar2[7] = 0.0;
  return;
}



============================================================
DISASSEMBLY
============================================================
0053ae40 : SUB ESP,0x8
0053ae43 : PUSH EBX
0053ae44 : PUSH EBP
0053ae45 : PUSH ESI
0053ae46 : PUSH EDI
0053ae47 : MOV EDI,ECX
0053ae49 : MOV byte ptr [EDI + 0x15],0x0
0053ae4d : CALL 0x0053a920
0053ae52 : MOV ECX,EDI
0053ae54 : MOV dword ptr [ESP + 0x14],EAX
0053ae58 : CALL 0x0053a920
0053ae5d : PUSH 0x4
0053ae5f : MOV ECX,EDI
0053ae61 : MOV EBX,EAX
0053ae63 : CALL 0x0053a880
0053ae68 : MOV ESI,EAX
0053ae6a : TEST EBX,EBX
0053ae6c : JZ 0x0053af26
0053ae72 : PUSH ESI
0053ae73 : MOV ECX,EDI
0053ae75 : CALL 0x0053a880
0053ae7a : LEA ECX,[ESI + -0x1]
0053ae7d : MOV EBP,0x1
0053ae82 : SHL EBP,CL
0053ae84 : MOV dword ptr [ESP + 0x10],EAX
0053ae88 : TEST EAX,EBP
0053ae8a : JZ 0x0053ae99
0053ae8c : OR EDX,0xffffffff
0053ae8f : MOV ECX,ESI
0053ae91 : SHL EDX,CL
0053ae93 : OR EAX,EDX
0053ae95 : MOV dword ptr [ESP + 0x10],EAX
0053ae99 : FILD dword ptr [ESP + 0x10]
0053ae9d : MOV EBX,dword ptr [ESP + 0x1c]
0053aea1 : PUSH ESI
0053aea2 : MOV ECX,EDI
0053aea4 : FMUL double ptr [0x00b86f00]
0053aeaa : FSTP float ptr [EBX]
0053aeac : CALL 0x0053a880
0053aeb1 : MOV dword ptr [ESP + 0x1c],EAX
0053aeb5 : TEST EAX,EBP
0053aeb7 : JZ 0x0053aec6
0053aeb9 : OR EDX,0xffffffff
0053aebc : MOV ECX,ESI
0053aebe : SHL EDX,CL
0053aec0 : OR EAX,EDX
0053aec2 : MOV dword ptr [ESP + 0x1c],EAX
0053aec6 : FILD dword ptr [ESP + 0x1c]
0053aeca : PUSH ESI
0053aecb : MOV ECX,EDI
0053aecd : FMUL double ptr [0x00b86f00]
0053aed3 : FSTP float ptr [EBX + 0x8]
0053aed6 : CALL 0x0053a880
0053aedb : MOV dword ptr [ESP + 0x1c],EAX
0053aedf : TEST EAX,EBP
0053aee1 : JZ 0x0053aef0
0053aee3 : OR EDX,0xffffffff
0053aee6 : MOV ECX,ESI
0053aee8 : SHL EDX,CL
0053aeea : OR EAX,EDX
0053aeec : MOV dword ptr [ESP + 0x1c],EAX
0053aef0 : FILD dword ptr [ESP + 0x1c]
0053aef4 : PUSH ESI
0053aef5 : MOV ECX,EDI
0053aef7 : FMUL double ptr [0x00b86f00]
0053aefd : FSTP float ptr [EBX + 0x10]
0053af00 : CALL 0x0053a880
0053af05 : MOV dword ptr [ESP + 0x1c],EAX
0053af09 : TEST EAX,EBP
0053af0b : JZ 0x0053af1a
0053af0d : OR EDX,0xffffffff
0053af10 : MOV ECX,ESI
0053af12 : SHL EDX,CL
0053af14 : OR EAX,EDX
0053af16 : MOV dword ptr [ESP + 0x1c],EAX
0053af1a : FILD dword ptr [ESP + 0x1c]
0053af1e : FMUL double ptr [0x00b86f00]
0053af24 : JMP 0x0053af34
0053af26 : FLD1
0053af28 : MOV EBX,dword ptr [ESP + 0x1c]
0053af2c : FST float ptr [EBX]
0053af2e : FST float ptr [EBX + 0x8]
0053af31 : FST float ptr [EBX + 0x10]
0053af34 : CMP dword ptr [ESP + 0x14],0x0
0053af39 : FSTP float ptr [EBX + 0x18]
0053af3c : JZ 0x0053afe6
0053af42 : PUSH ESI
0053af43 : MOV ECX,EDI
0053af45 : CALL 0x0053a880
0053af4a : LEA ECX,[ESI + -0x1]
0053af4d : MOV EBP,0x1
0053af52 : SHL EBP,CL
0053af54 : MOV dword ptr [ESP + 0x1c],EAX
0053af58 : TEST EAX,EBP
0053af5a : JZ 0x0053af69
0053af5c : OR EDX,0xffffffff
0053af5f : MOV ECX,ESI
0053af61 : SHL EDX,CL
0053af63 : OR EAX,EDX
0053af65 : MOV dword ptr [ESP + 0x1c],EAX
0053af69 : FILD dword ptr [ESP + 0x1c]
0053af6d : PUSH ESI
0053af6e : MOV ECX,EDI
0053af70 : FSTP float ptr [EBX + 0x4]
0053af73 : CALL 0x0053a880
0053af78 : MOV dword ptr [ESP + 0x1c],EAX
0053af7c : TEST EAX,EBP
0053af7e : JZ 0x0053af8d
0053af80 : OR EDX,0xffffffff
0053af83 : MOV ECX,ESI
0053af85 : SHL EDX,CL
0053af87 : OR EAX,EDX
0053af89 : MOV dword ptr [ESP + 0x1c],EAX
0053af8d : FILD dword ptr [ESP + 0x1c]
0053af91 : PUSH ESI
0053af92 : MOV ECX,EDI
0053af94 : FSTP float ptr [EBX + 0xc]
0053af97 : CALL 0x0053a880
0053af9c : MOV dword ptr [ESP + 0x1c],EAX
0053afa0 : TEST EAX,EBP
0053afa2 : JZ 0x0053afb1
0053afa4 : OR EDX,0xffffffff
0053afa7 : MOV ECX,ESI
0053afa9 : SHL EDX,CL
0053afab : OR EAX,EDX
0053afad : MOV dword ptr [ESP + 0x1c],EAX
0053afb1 : FILD dword ptr [ESP + 0x1c]
0053afb5 : PUSH ESI
0053afb6 : MOV ECX,EDI
0053afb8 : FSTP float ptr [EBX + 0x14]
0053afbb : CALL 0x0053a880
0053afc0 : MOV dword ptr [ESP + 0x1c],EAX
0053afc4 : TEST EAX,EBP
0053afc6 : JZ 0x0053afd5
0053afc8 : OR EDX,0xffffffff
0053afcb : MOV ECX,ESI
0053afcd : SHL EDX,CL
0053afcf : OR EAX,EDX
0053afd1 : MOV dword ptr [ESP + 0x1c],EAX
0053afd5 : FILD dword ptr [ESP + 0x1c]
0053afd9 : POP EDI
0053afda : POP ESI
0053afdb : POP EBP
0053afdc : FSTP float ptr [EBX + 0x1c]
0053afdf : POP EBX
0053afe0 : ADD ESP,0x8
0053afe3 : RET 0x4
0053afe6 : FLDZ
0053afe8 : POP EDI
0053afe9 : FST float ptr [EBX + 0x4]
0053afec : POP ESI
0053afed : FST float ptr [EBX + 0xc]
0053aff0 : POP EBP
0053aff1 : FST float ptr [EBX + 0x14]
0053aff4 : FSTP float ptr [EBX + 0x1c]
0053aff7 : POP EBX
0053aff8 : ADD ESP,0x8
0053affb : RET 0x4
