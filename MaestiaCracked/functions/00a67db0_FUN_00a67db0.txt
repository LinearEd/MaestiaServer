PROGRAM  : Maestia.exe
FUNCTION : FUN_00a67db0
ENTRY    : 00a67db0
BODY     : [[00a67db0, 00a67ef5]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_00a67db0(undefined4 param_1,int *param_2,undefined4 param_3)

{
  int iVar1;
  undefined4 *puVar2;
  int *piVar3;
  undefined4 *in_ECX;
  uint uVar4;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1b1a8;
  local_10 = ExceptionList;
  if (param_2 == (int *)0x0) {
    ExceptionList = &local_10;
    param_2 = (int *)FUN_006f0760(0x2c,".\\Event\\AvaAnimEventCtrl.cpp",0x28c,0,
                                  DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    local_8 = 0;
    if (param_2 != (int *)0x0) {
      piVar3 = (int *)FUN_0082c1b0(param_2);
      goto LAB_00a67e54;
    }
  }
  else {
    if (param_2 != (int *)0x1) {
      return (int *)0x0;
    }
    ExceptionList = &local_10;
    param_2 = (int *)FUN_006f0760(0x58,".\\Event\\AvaAnimEventCtrl.cpp",0x292,0,
                                  DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    local_8 = 1;
    if (param_2 != (int *)0x0) {
      piVar3 = (int *)FUN_0082be50(param_2);
      goto LAB_00a67e54;
    }
  }
  piVar3 = (int *)0x0;
LAB_00a67e54:
  local_8 = 0xffffffff;
  param_2 = piVar3;
  (**(code **)(*piVar3 + 8))(param_3);
  (**(code **)(*piVar3 + 0xc))(in_ECX + 2);
  (**(code **)(*piVar3 + 0x10))(param_1);
  (**(code **)(*piVar3 + 0x18))(*(undefined1 *)(in_ECX + 0x1d));
  (**(code **)(*piVar3 + 0x1c))(*in_ECX);
  iVar1 = in_ECX[0x32];
  if (iVar1 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = in_ECX[0x34] - iVar1 >> 2;
  }
  puVar2 = (undefined4 *)in_ECX[0x33];
  if ((uint)((int)puVar2 - iVar1 >> 2) < uVar4) {
    *puVar2 = piVar3;
    in_ECX[0x33] = puVar2 + 1;
  }
  else {
    FUN_0042fe80(in_ECX + 0x31,puVar2,&param_2);
  }
  ExceptionList = local_10;
  return piVar3;
}



============================================================
DISASSEMBLY
============================================================
00a67db0 : PUSH EBP
00a67db1 : MOV EBP,ESP
00a67db3 : PUSH -0x1
00a67db5 : PUSH 0xb1b1a8
00a67dba : MOV EAX,FS:[0x0]
00a67dc0 : PUSH EAX
00a67dc1 : PUSH EBX
00a67dc2 : PUSH ESI
00a67dc3 : PUSH EDI
00a67dc4 : MOV EAX,[0x00d66fa0]
00a67dc9 : XOR EAX,EBP
00a67dcb : PUSH EAX
00a67dcc : LEA EAX,[EBP + -0xc]
00a67dcf : MOV FS:[0x0],EAX
00a67dd5 : MOV EDI,ECX
00a67dd7 : MOV EAX,dword ptr [EBP + 0xc]
00a67dda : SUB EAX,0x0
00a67ddd : JZ 0x00a67e26
00a67ddf : SUB EAX,0x1
00a67de2 : JZ 0x00a67dfa
00a67de4 : XOR EAX,EAX
00a67de6 : MOV ECX,dword ptr [EBP + -0xc]
00a67de9 : MOV dword ptr FS:[0x0],ECX
00a67df0 : POP ECX
00a67df1 : POP EDI
00a67df2 : POP ESI
00a67df3 : POP EBX
00a67df4 : MOV ESP,EBP
00a67df6 : POP EBP
00a67df7 : RET 0xc
00a67dfa : PUSH 0x0
00a67dfc : PUSH 0x292
00a67e01 : PUSH 0xc350c0
00a67e06 : PUSH 0x58
00a67e08 : CALL 0x006f0760
00a67e0d : ADD ESP,0x10
00a67e10 : MOV dword ptr [EBP + 0xc],EAX
00a67e13 : MOV dword ptr [EBP + -0x4],0x1
00a67e1a : TEST EAX,EAX
00a67e1c : JZ 0x00a67e52
00a67e1e : PUSH EAX
00a67e1f : CALL 0x0082be50
00a67e24 : JMP 0x00a67e54
00a67e26 : PUSH 0x0
00a67e28 : PUSH 0x28c
00a67e2d : PUSH 0xc35080
00a67e32 : PUSH 0x2c
00a67e34 : CALL 0x006f0760
00a67e39 : ADD ESP,0x10
00a67e3c : MOV dword ptr [EBP + 0xc],EAX
00a67e3f : MOV dword ptr [EBP + -0x4],0x0
00a67e46 : TEST EAX,EAX
00a67e48 : JZ 0x00a67e52
00a67e4a : PUSH EAX
00a67e4b : CALL 0x0082c1b0
00a67e50 : JMP 0x00a67e54
00a67e52 : XOR EAX,EAX
00a67e54 : MOV dword ptr [EBP + -0x4],0xffffffff
00a67e5b : MOV ECX,dword ptr [EBP + 0x10]
00a67e5e : MOV ESI,EAX
00a67e60 : MOV EAX,dword ptr [ESI]
00a67e62 : MOV EDX,dword ptr [EAX + 0x8]
00a67e65 : PUSH ECX
00a67e66 : MOV ECX,ESI
00a67e68 : MOV dword ptr [EBP + 0xc],ESI
00a67e6b : CALL EDX
00a67e6d : MOV EAX,dword ptr [ESI]
00a67e6f : MOV EDX,dword ptr [EAX + 0xc]
00a67e72 : LEA ECX,[EDI + 0x8]
00a67e75 : PUSH ECX
00a67e76 : MOV ECX,ESI
00a67e78 : CALL EDX
00a67e7a : MOV ECX,dword ptr [EBP + 0x8]
00a67e7d : MOV EAX,dword ptr [ESI]
00a67e7f : MOV EDX,dword ptr [EAX + 0x10]
00a67e82 : PUSH ECX
00a67e83 : MOV ECX,ESI
00a67e85 : CALL EDX
00a67e87 : MOVZX ECX,byte ptr [EDI + 0x74]
00a67e8b : MOV EAX,dword ptr [ESI]
00a67e8d : MOV EDX,dword ptr [EAX + 0x18]
00a67e90 : PUSH ECX
00a67e91 : MOV ECX,ESI
00a67e93 : CALL EDX
00a67e95 : MOV ECX,dword ptr [EDI]
00a67e97 : MOV EAX,dword ptr [ESI]
00a67e99 : MOV EDX,dword ptr [EAX + 0x1c]
00a67e9c : PUSH ECX
00a67e9d : MOV ECX,ESI
00a67e9f : CALL EDX
00a67ea1 : MOV ECX,dword ptr [EDI + 0xc8]
00a67ea7 : LEA EAX,[EDI + 0xc4]
00a67ead : TEST ECX,ECX
00a67eaf : JNZ 0x00a67eb5
00a67eb1 : XOR EDX,EDX
00a67eb3 : JMP 0x00a67ebd
00a67eb5 : MOV EDX,dword ptr [EAX + 0xc]
00a67eb8 : SUB EDX,ECX
00a67eba : SAR EDX,0x2
00a67ebd : MOV EDI,dword ptr [EAX + 0x8]
00a67ec0 : MOV EBX,EDI
00a67ec2 : SUB EBX,ECX
00a67ec4 : SAR EBX,0x2
00a67ec7 : CMP EBX,EDX
00a67ec9 : JNC 0x00a67ed5
00a67ecb : MOV dword ptr [EDI],ESI
00a67ecd : ADD EDI,0x4
00a67ed0 : MOV dword ptr [EAX + 0x8],EDI
00a67ed3 : JMP 0x00a67ee0
00a67ed5 : LEA ECX,[EBP + 0xc]
00a67ed8 : PUSH ECX
00a67ed9 : PUSH EDI
00a67eda : PUSH EAX
00a67edb : CALL 0x0042fe80
00a67ee0 : MOV EAX,ESI
00a67ee2 : MOV ECX,dword ptr [EBP + -0xc]
00a67ee5 : MOV dword ptr FS:[0x0],ECX
00a67eec : POP ECX
00a67eed : POP EDI
00a67eee : POP ESI
00a67eef : POP EBX
00a67ef0 : MOV ESP,EBP
00a67ef2 : POP EBP
00a67ef3 : RET 0xc
