PROGRAM  : Maestia.exe
FUNCTION : FUN_00784890
ENTRY    : 00784890
BODY     : [[00784890, 007849fa]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00784890(undefined4 *param_1)

{
  BOOL BVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 in_EDX;
  uint local_1c;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b31321;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_00cd79c4;
  param_1[7] = 7;
  param_1[6] = 0;
  *(undefined2 *)(param_1 + 2) = 0;
  local_8 = 0;
  param_1[8] = in_EDX;
  param_1[10] = &PTR_FUN_00cdec94;
  BVar1 = InitializeCriticalSectionAndSpinCount((LPCRITICAL_SECTION)(param_1 + 0xb),4000);
  if (BVar1 == 0) {
    InitializeCriticalSection((LPCRITICAL_SECTION)(param_1 + 0xb));
  }
  local_8 = CONCAT31(local_8._1_3_,1);
  param_1[0x11] = &PTR_FUN_00cdec94;
  BVar1 = InitializeCriticalSectionAndSpinCount((LPCRITICAL_SECTION)(param_1 + 0x12),4000);
  if (BVar1 == 0) {
    InitializeCriticalSection((LPCRITICAL_SECTION)(param_1 + 0x12));
  }
  local_8._0_1_ = 2;
  FUN_0045c620(param_1 + 0x1a);
  param_1[0x1e] = 0;
  param_1[0x1f] = 0;
  param_1[0x20] = 0;
  local_8._0_1_ = 4;
  param_1[0x21] = 0;
  iVar2 = FUN_006f0760(0x2c4,".\\World\\AvaSceneMgr.cpp",0x17,0);
  local_8._0_1_ = 5;
  if (iVar2 == 0) {
    uVar3 = 0;
  }
  else {
    FUN_00406460(L"RootNode");
    local_8 = CONCAT31(local_8._1_3_,6);
    uVar3 = FUN_007d88c0(iVar2,param_1);
  }
  param_1[9] = uVar3;
  local_8 = 4;
  if ((iVar2 != 0) && (7 < local_1c)) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *(undefined1 *)(param_1[9] + 0x25a) = 0;
  param_1[0x19] = 0x447a0000;
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00784890 : PUSH EBP
00784891 : MOV EBP,ESP
00784893 : PUSH -0x1
00784895 : PUSH 0xb31321
0078489a : MOV EAX,FS:[0x0]
007848a0 : PUSH EAX
007848a1 : SUB ESP,0x28
007848a4 : PUSH EBX
007848a5 : PUSH ESI
007848a6 : PUSH EDI
007848a7 : MOV EAX,[0x00d66fa0]
007848ac : XOR EAX,EBP
007848ae : PUSH EAX
007848af : LEA EAX,[EBP + -0xc]
007848b2 : MOV FS:[0x0],EAX
007848b8 : MOV ESI,dword ptr [EBP + 0x8]
007848bb : XOR EAX,EAX
007848bd : MOV dword ptr [EBP + -0x10],EAX
007848c0 : MOV dword ptr [ESI],0xcd79c4
007848c6 : XOR ECX,ECX
007848c8 : MOV dword ptr [ESI + 0x1c],0x7
007848cf : MOV dword ptr [ESI + 0x18],EAX
007848d2 : MOV word ptr [ESI + 0x8],CX
007848d6 : MOV dword ptr [EBP + -0x4],EAX
007848d9 : MOV EBX,dword ptr [0x00b85110]
007848df : PUSH 0xfa0
007848e4 : LEA EDI,[ESI + 0x2c]
007848e7 : MOV dword ptr [ESI + 0x20],EDX
007848ea : PUSH EDI
007848eb : MOV dword ptr [ESI + 0x28],0xcdec94
007848f2 : CALL EBX
007848f4 : TEST EAX,EAX
007848f6 : JNZ 0x007848ff
007848f8 : PUSH EDI
007848f9 : CALL dword ptr [0x00b85114]
007848ff : MOV byte ptr [EBP + -0x4],0x1
00784903 : PUSH 0xfa0
00784908 : LEA EDI,[ESI + 0x48]
0078490b : PUSH EDI
0078490c : MOV dword ptr [ESI + 0x44],0xcdec94
00784913 : CALL EBX
00784915 : TEST EAX,EAX
00784917 : JNZ 0x00784920
00784919 : PUSH EDI
0078491a : CALL dword ptr [0x00b85114]
00784920 : MOV byte ptr [EBP + -0x4],0x2
00784924 : LEA EAX,[ESI + 0x68]
00784927 : PUSH EAX
00784928 : CALL 0x0045c620
0078492d : MOV byte ptr [EBP + -0x4],0x3
00784931 : XOR EBX,EBX
00784933 : MOV dword ptr [ESI + 0x78],EBX
00784936 : MOV dword ptr [ESI + 0x7c],EBX
00784939 : MOV dword ptr [ESI + 0x80],EBX
0078493f : MOV byte ptr [EBP + -0x4],0x4
00784943 : PUSH EBX
00784944 : PUSH 0x17
00784946 : PUSH 0xc11150
0078494b : PUSH 0x2c4
00784950 : MOV dword ptr [ESI + 0x84],EBX
00784956 : CALL 0x006f0760
0078495b : MOV EDI,EAX
0078495d : ADD ESP,0x10
00784960 : MOV dword ptr [EBP + -0x14],EDI
00784963 : MOV byte ptr [EBP + -0x4],0x5
00784967 : CMP EDI,EBX
00784969 : JZ 0x0078498f
0078496b : PUSH 0xc11180
00784970 : LEA ECX,[EBP + -0x30]
00784973 : CALL 0x00406460
00784978 : MOV byte ptr [EBP + -0x4],0x6
0078497c : PUSH ESI
0078497d : PUSH EDI
0078497e : LEA EDX,[EBP + -0x30]
00784981 : MOV dword ptr [EBP + -0x10],0x1
00784988 : CALL 0x007d88c0
0078498d : JMP 0x00784991
0078498f : XOR EAX,EAX
00784991 : MOV EDI,0x7
00784996 : MOV dword ptr [EBP + -0x4],EDI
00784999 : MOV dword ptr [ESI + 0x24],EAX
0078499c : MOV dword ptr [EBP + -0x4],0x4
007849a3 : TEST byte ptr [EBP + -0x10],0x1
007849a7 : JZ 0x007849c7
007849a9 : AND dword ptr [EBP + -0x10],0xfffffffe
007849ad : CMP dword ptr [EBP + -0x18],0x8
007849b1 : JC 0x007849bb
007849b3 : MOV ECX,dword ptr [EBP + -0x2c]
007849b6 : CALL 0x006f04e0
007849bb : XOR ECX,ECX
007849bd : MOV dword ptr [EBP + -0x18],EDI
007849c0 : MOV dword ptr [EBP + -0x1c],EBX
007849c3 : MOV word ptr [EBP + -0x2c],CX
007849c7 : MOV EAX,dword ptr [ESI + 0x24]
007849ca : MOVSS XMM0,dword ptr [0x00cdf16c]
007849d2 : MOV byte ptr [EAX + 0x25a],0x0
007849d9 : MOVSS dword ptr [ESI + 0x64],XMM0
007849de : MOV dword ptr [EBP + -0x4],0xffffffff
007849e5 : MOV EAX,ESI
007849e7 : MOV ECX,dword ptr [EBP + -0xc]
007849ea : MOV dword ptr FS:[0x0],ECX
007849f1 : POP ECX
007849f2 : POP EDI
007849f3 : POP ESI
007849f4 : POP EBX
007849f5 : MOV ESP,EBP
007849f7 : POP EBP
007849f8 : RET 0x4
