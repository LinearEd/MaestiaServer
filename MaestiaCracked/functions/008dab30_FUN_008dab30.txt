PROGRAM  : Maestia.exe
FUNCTION : FUN_008dab30
ENTRY    : 008dab30
BODY     : [[008dab30, 008daca0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008dab30(ushort param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  int *piVar3;
  int unaff_EDI;
  uint local_54;
  int local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2be7a;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_54 = (uint)param_1;
  local_14 = uVar2;
  FUN_00413b60(&local_54);
  if (local_50 != *(int *)(unaff_EDI + 0x3c)) {
    iVar1 = *(int *)(local_50 + 0x10);
    FUN_00406460(&DAT_00c57964);
    local_8 = 0;
    if (*(char *)(iVar1 + 4) == '\x01') {
      FUN_008d5710(iVar1,local_4c,*(undefined4 *)(unaff_EDI + 0x1bc));
    }
    else {
      piVar3 = *(int **)(iVar1 + 0x84);
      if (piVar3 != *(int **)(iVar1 + 0x88)) {
        do {
          if (*(int *)(*piVar3 + 0xe4) == param_2) {
            local_18 = 7;
            local_1c = 0;
            local_2c = 0;
            FUN_00406360(&DAT_00c57968,0);
            local_8._0_1_ = 1;
            if (*piVar3 != 0) {
              FUN_008d6440(*piVar3,local_30,*(undefined4 *)(unaff_EDI + 0x1bc),uVar2);
            }
            FUN_00405eb0(local_30,0,0xffffffff);
            local_8 = (uint)local_8._1_3_ << 8;
            if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
              FUN_006f04e0();
            }
            local_18 = 7;
            local_1c = 0;
            local_2c = 0;
          }
          piVar3 = piVar3 + 1;
        } while (piVar3 != *(int **)(iVar1 + 0x88));
      }
    }
    FUN_008da9f0(unaff_EDI);
    local_8 = 0xffffffff;
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_34 = 7;
    local_38 = 0;
    local_48 = 0;
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
008dab30 : PUSH EBP
008dab31 : MOV EBP,ESP
008dab33 : PUSH -0x1
008dab35 : PUSH 0xb2be7a
008dab3a : MOV EAX,FS:[0x0]
008dab40 : PUSH EAX
008dab41 : SUB ESP,0x48
008dab44 : MOV EAX,[0x00d66fa0]
008dab49 : XOR EAX,EBP
008dab4b : MOV dword ptr [EBP + -0x10],EAX
008dab4e : PUSH EBX
008dab4f : PUSH ESI
008dab50 : PUSH EAX
008dab51 : LEA EAX,[EBP + -0xc]
008dab54 : MOV FS:[0x0],EAX
008dab5a : MOVZX EAX,word ptr [EBP + 0x8]
008dab5e : LEA ECX,[EBP + -0x50]
008dab61 : MOV dword ptr [EBP + -0x50],EAX
008dab64 : PUSH ECX
008dab65 : LEA ECX,[EDI + 0x38]
008dab68 : LEA EAX,[EBP + -0x4c]
008dab6b : CALL 0x00413b60
008dab70 : MOV ECX,dword ptr [EDI + 0x3c]
008dab73 : MOV EAX,dword ptr [EBP + -0x4c]
008dab76 : CMP EAX,ECX
008dab78 : JZ 0x008dac84
008dab7e : MOV EBX,dword ptr [EAX + 0x10]
008dab81 : PUSH 0xc57964
008dab86 : LEA ECX,[EBP + -0x48]
008dab89 : CALL 0x00406460
008dab8e : MOV dword ptr [EBP + -0x4],0x0
008dab95 : CMP byte ptr [EBX + 0x4],0x1
008dab99 : JNZ 0x008dabb1
008dab9b : MOV EAX,dword ptr [EDI + 0x1bc]
008daba1 : PUSH EAX
008daba2 : LEA EDX,[EBP + -0x48]
008daba5 : PUSH EDX
008daba6 : PUSH EBX
008daba7 : CALL 0x008d5710
008dabac : JMP 0x008dac52
008dabb1 : MOV ESI,dword ptr [EBX + 0x84]
008dabb7 : CMP ESI,dword ptr [EBX + 0x88]
008dabbd : JZ 0x008dac52
008dabc3 : MOV EAX,dword ptr [ESI]
008dabc5 : MOV ECX,dword ptr [EBP + 0xc]
008dabc8 : CMP dword ptr [EAX + 0xe4],ECX
008dabce : JNZ 0x008dac43
008dabd0 : XOR EDX,EDX
008dabd2 : PUSH EDX
008dabd3 : PUSH 0xc57968
008dabd8 : LEA ECX,[EBP + -0x2c]
008dabdb : MOV dword ptr [EBP + -0x14],0x7
008dabe2 : MOV dword ptr [EBP + -0x18],0x0
008dabe9 : MOV word ptr [EBP + -0x28],DX
008dabed : CALL 0x00406360
008dabf2 : MOV byte ptr [EBP + -0x4],0x1
008dabf6 : MOV EAX,dword ptr [ESI]
008dabf8 : MOV ECX,dword ptr [EDI + 0x1bc]
008dabfe : TEST EAX,EAX
008dac00 : JZ 0x008dac0d
008dac02 : PUSH ECX
008dac03 : LEA ECX,[EBP + -0x2c]
008dac06 : PUSH ECX
008dac07 : PUSH EAX
008dac08 : CALL 0x008d6440
008dac0d : PUSH -0x1
008dac0f : PUSH 0x0
008dac11 : LEA EDX,[EBP + -0x2c]
008dac14 : PUSH EDX
008dac15 : LEA ECX,[EBP + -0x48]
008dac18 : CALL 0x00405eb0
008dac1d : MOV byte ptr [EBP + -0x4],0x0
008dac21 : CMP dword ptr [EBP + -0x14],0x8
008dac25 : JC 0x008dac2f
008dac27 : MOV ECX,dword ptr [EBP + -0x28]
008dac2a : CALL 0x006f04e0
008dac2f : XOR EAX,EAX
008dac31 : MOV dword ptr [EBP + -0x14],0x7
008dac38 : MOV dword ptr [EBP + -0x18],0x0
008dac3f : MOV word ptr [EBP + -0x28],AX
008dac43 : ADD ESI,0x4
008dac46 : CMP ESI,dword ptr [EBX + 0x88]
008dac4c : JNZ 0x008dabc3
008dac52 : PUSH EDI
008dac53 : LEA ECX,[EBP + -0x48]
008dac56 : CALL 0x008da9f0
008dac5b : MOV dword ptr [EBP + -0x4],0xffffffff
008dac62 : CMP dword ptr [EBP + -0x30],0x8
008dac66 : JC 0x008dac70
008dac68 : MOV ECX,dword ptr [EBP + -0x44]
008dac6b : CALL 0x006f04e0
008dac70 : XOR ECX,ECX
008dac72 : MOV dword ptr [EBP + -0x30],0x7
008dac79 : MOV dword ptr [EBP + -0x34],0x0
008dac80 : MOV word ptr [EBP + -0x44],CX
008dac84 : MOV ECX,dword ptr [EBP + -0xc]
008dac87 : MOV dword ptr FS:[0x0],ECX
008dac8e : POP ECX
008dac8f : POP ESI
008dac90 : POP EBX
008dac91 : MOV ECX,dword ptr [EBP + -0x10]
008dac94 : XOR ECX,EBP
008dac96 : CALL 0x00633e6b
008dac9b : MOV ESP,EBP
008dac9d : POP EBP
008dac9e : RET 0x8
