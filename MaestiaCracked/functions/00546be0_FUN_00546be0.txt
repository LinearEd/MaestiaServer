PROGRAM  : Maestia.exe
FUNCTION : FUN_00546be0
ENTRY    : 00546be0
BODY     : [[00546be0, 00546c7b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00546be0(uint param_1,uint param_2)

{
  uint uVar1;
  int iVar2;
  uint *puVar3;
  int in_ECX;
  uint uVar4;
  uint uVar5;
  
  uVar5 = param_2;
  uVar1 = param_1;
  *(uint *)(in_ECX + 0x20) = param_1;
  *(uint *)(in_ECX + 0x24) = param_2;
  if (*(int *)(in_ECX + 0x18) == 0) {
    param_1 = 0x144;
    iVar2 = FUN_00515d60(in_ECX,0xb0,&param_1);
    if (iVar2 == 0) {
      iVar2 = 0;
    }
    else {
      FUN_005d3220();
      FUN_005d73e0();
      *(undefined4 *)(iVar2 + 0xa4) = 0xbf800000;
      *(undefined4 *)(iVar2 + 0xa8) = 0xbf800000;
      *(undefined2 *)(iVar2 + 0xac) = 0;
    }
    *(int *)(in_ECX + 0x18) = iVar2;
  }
  uVar4 = uVar1;
  if (uVar5 < uVar1) {
    uVar4 = uVar5;
    uVar5 = uVar1;
  }
  puVar3 = (uint *)FUN_00546b60();
  if ((*puVar3 != uVar4) || (puVar3[1] != uVar5 - uVar4)) {
    *puVar3 = uVar4;
    puVar3[1] = uVar5 - uVar4;
    iVar2 = *(int *)(in_ECX + 0x18);
    *(undefined1 *)(iVar2 + 0x18) = 0;
    *(undefined1 *)(iVar2 + 0x19) = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00546be0 : PUSH EBP
00546be1 : MOV EBP,dword ptr [ESP + 0x8]
00546be5 : PUSH ESI
00546be6 : MOV ESI,ECX
00546be8 : CMP dword ptr [ESI + 0x18],0x0
00546bec : PUSH EDI
00546bed : MOV EDI,dword ptr [ESP + 0x14]
00546bf1 : MOV dword ptr [ESI + 0x20],EBP
00546bf4 : MOV dword ptr [ESI + 0x24],EDI
00546bf7 : JNZ 0x00546c4a
00546bf9 : PUSH EBX
00546bfa : LEA EAX,[ESP + 0x14]
00546bfe : PUSH EAX
00546bff : PUSH 0xb0
00546c04 : PUSH ESI
00546c05 : MOV dword ptr [ESP + 0x20],0x144
00546c0d : CALL 0x00515d60
00546c12 : MOV EBX,EAX
00546c14 : TEST EBX,EBX
00546c16 : JZ 0x00546c44
00546c18 : MOV ECX,EBX
00546c1a : CALL 0x005d3220
00546c1f : LEA ECX,[EBX + 0x1c]
00546c22 : CALL 0x005d73e0
00546c27 : FLD float ptr [0x00cdf0d0]
00546c2d : XOR ECX,ECX
00546c2f : FST float ptr [EBX + 0xa4]
00546c35 : FSTP float ptr [EBX + 0xa8]
00546c3b : MOV word ptr [EBX + 0xac],CX
00546c42 : JMP 0x00546c46
00546c44 : XOR EBX,EBX
00546c46 : MOV dword ptr [ESI + 0x18],EBX
00546c49 : POP EBX
00546c4a : CMP EDI,EBP
00546c4c : JNC 0x00546c54
00546c4e : MOV EAX,EDI
00546c50 : MOV EDI,EBP
00546c52 : MOV EBP,EAX
00546c54 : MOV ECX,ESI
00546c56 : CALL 0x00546b60
00546c5b : SUB EDI,EBP
00546c5d : CMP dword ptr [EAX],EBP
00546c5f : JNZ 0x00546c66
00546c61 : CMP dword ptr [EAX + 0x4],EDI
00546c64 : JZ 0x00546c76
00546c66 : MOV dword ptr [EAX],EBP
00546c68 : MOV dword ptr [EAX + 0x4],EDI
00546c6b : MOV ESI,dword ptr [ESI + 0x18]
00546c6e : MOV byte ptr [ESI + 0x18],0x0
00546c72 : MOV byte ptr [ESI + 0x19],0x0
00546c76 : POP EDI
00546c77 : POP ESI
00546c78 : POP EBP
00546c79 : RET 0x8
