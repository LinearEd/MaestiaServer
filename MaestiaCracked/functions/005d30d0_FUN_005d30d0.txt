PROGRAM  : Maestia.exe
FUNCTION : FUN_005d30d0
ENTRY    : 005d30d0
BODY     : [[005d30d0, 005d314d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005d30d0(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0xa0);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 2;
  iVar1 = FUN_00515d60(param_1,uVar2 * 0xa0,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
005d30d0 : MOV EAX,dword ptr [ESP + 0x8]
005d30d4 : PUSH EDI
005d30d5 : MOV EDI,ECX
005d30d7 : TEST EAX,EAX
005d30d9 : JNZ 0x005d30f8
005d30db : MOV EAX,dword ptr [EDI]
005d30dd : TEST EAX,EAX
005d30df : JZ 0x005d30ed
005d30e1 : PUSH EAX
005d30e2 : CALL 0x00515cf0
005d30e7 : MOV dword ptr [EDI],0x0
005d30ed : MOV dword ptr [EDI + 0x8],0x0
005d30f4 : POP EDI
005d30f5 : RET 0x8
005d30f8 : PUSH ESI
005d30f9 : LEA ESI,[EAX + 0x3]
005d30fc : MOV EAX,dword ptr [EDI]
005d30fe : SHR ESI,0x2
005d3101 : ADD ESI,ESI
005d3103 : ADD ESI,ESI
005d3105 : TEST EAX,EAX
005d3107 : JZ 0x005d3123
005d3109 : LEA ECX,[ESI + ESI*0x4]
005d310c : ADD ECX,ECX
005d310e : ADD ECX,ECX
005d3110 : ADD ECX,ECX
005d3112 : PUSH ECX
005d3113 : PUSH EAX
005d3114 : CALL 0x00515c80
005d3119 : MOV dword ptr [EDI + 0x8],ESI
005d311c : POP ESI
005d311d : MOV dword ptr [EDI],EAX
005d311f : POP EDI
005d3120 : RET 0x8
005d3123 : MOV ECX,dword ptr [ESP + 0xc]
005d3127 : LEA EAX,[ESI + ESI*0x4]
005d312a : ADD EAX,EAX
005d312c : LEA EDX,[ESP + 0x10]
005d3130 : ADD EAX,EAX
005d3132 : PUSH EDX
005d3133 : ADD EAX,EAX
005d3135 : PUSH EAX
005d3136 : PUSH ECX
005d3137 : MOV dword ptr [ESP + 0x1c],0x2
005d313f : CALL 0x00515d60
005d3144 : MOV dword ptr [EDI + 0x8],ESI
005d3147 : POP ESI
005d3148 : MOV dword ptr [EDI],EAX
005d314a : POP EDI
005d314b : RET 0x8
