PROGRAM  : Maestia.exe
FUNCTION : FUN_007aafb0
ENTRY    : 007aafb0
BODY     : [[007aafb0, 007ab12b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007aafb0(int *param_1)

{
  int iVar1;
  int *piVar2;
  int *piVar3;
  int in_ECX;
  
  if (*param_1 == 0) {
    iVar1 = param_1[2];
    if ((iVar1 != 0) && (*(int **)(iVar1 + 8) != param_1)) {
      FUN_007aafb0(iVar1);
    }
    piVar2 = DAT_00da9ab4;
    iVar1 = *DAT_00da9ab4;
    if (iVar1 < 550000) {
      piVar3 = DAT_00da9ab4 + iVar1 * 5 + 1;
      *DAT_00da9ab4 = iVar1 + 1;
      piVar3[1] = 0;
      *piVar3 = 0;
      piVar3[4] = 0;
      piVar3[3] = 0;
      piVar3[2] = 0;
    }
    else {
      piVar3 = (int *)0x0;
    }
    *param_1 = (int)piVar3;
    iVar1 = *piVar2;
    if (iVar1 < 550000) {
      piVar3 = piVar2 + iVar1 * 5 + 1;
      *piVar2 = iVar1 + 1;
      piVar3[1] = 0;
      *piVar3 = 0;
      piVar3[4] = 0;
      piVar3[3] = 0;
      piVar3[2] = 0;
    }
    else {
      piVar3 = (int *)0x0;
    }
    param_1[1] = (int)piVar3;
    if (*param_1 != 0) {
      *(int *)(*param_1 + 8) = param_1[3];
      *(int *)(*param_1 + 0xc) = param_1[1];
      *(int *)(param_1[1] + 8) = param_1[4];
      *(int *)(param_1[1] + 0x10) = *param_1;
      iVar1 = param_1[3];
      if (iVar1 != 0) {
        if (*(int **)(iVar1 + 8) == param_1) {
          *(int *)(iVar1 + 8) = *param_1;
        }
        else if (*(int **)(iVar1 + 0xc) == param_1) {
          *(int *)(iVar1 + 0xc) = *param_1;
        }
        else if (*(int **)(iVar1 + 0x10) == param_1) {
          *(int *)(iVar1 + 0x10) = *param_1;
        }
      }
      iVar1 = param_1[4];
      if (iVar1 != 0) {
        if (*(int **)(iVar1 + 8) == param_1) {
          *(int *)(iVar1 + 8) = param_1[1];
        }
        else if (*(int **)(iVar1 + 0x10) == param_1) {
          *(int *)(iVar1 + 0x10) = param_1[1];
        }
        else if (*(int **)(iVar1 + 0xc) == param_1) {
          *(int *)(iVar1 + 0xc) = param_1[1];
        }
      }
      piVar2 = (int *)param_1[2];
      if (piVar2 != (int *)0x0) {
        if (*piVar2 != 0) {
          *(int *)(*piVar2 + 0x10) = param_1[1];
          *(int *)(*(int *)(param_1[2] + 4) + 0xc) = *param_1;
          *(undefined4 *)(*param_1 + 0x10) = *(undefined4 *)(param_1[2] + 4);
          *(undefined4 *)(param_1[1] + 0xc) = *(undefined4 *)param_1[2];
          piVar2 = (int *)(*(int *)(in_ECX + 0x280) + 0x224);
          *piVar2 = *piVar2 + 1;
          return;
        }
        FUN_007aafb0(piVar2);
        piVar2 = (int *)(*(int *)(in_ECX + 0x280) + 0x224);
        *piVar2 = *piVar2 + 1;
        return;
      }
      *(undefined4 *)(*param_1 + 0x10) = 0;
      *(undefined4 *)(param_1[1] + 0xc) = 0;
      piVar2 = (int *)(*(int *)(in_ECX + 0x280) + 0x224);
      *piVar2 = *piVar2 + 1;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007aafb0 : PUSH EBP
007aafb1 : MOV EBP,ESP
007aafb3 : PUSH EBX
007aafb4 : PUSH ESI
007aafb5 : MOV ESI,dword ptr [EBP + 0x8]
007aafb8 : PUSH EDI
007aafb9 : XOR EDI,EDI
007aafbb : MOV EBX,ECX
007aafbd : CMP dword ptr [ESI],EDI
007aafbf : JNZ 0x007ab125
007aafc5 : MOV EAX,dword ptr [ESI + 0x8]
007aafc8 : CMP EAX,EDI
007aafca : JZ 0x007aafd7
007aafcc : CMP dword ptr [EAX + 0x8],ESI
007aafcf : JZ 0x007aafd7
007aafd1 : PUSH EAX
007aafd2 : CALL 0x007aafb0
007aafd7 : MOV ECX,dword ptr [0x00da9ab4]
007aafdd : MOV EDX,dword ptr [ECX]
007aafdf : CMP EDX,0x86470
007aafe5 : JL 0x007aafeb
007aafe7 : XOR EAX,EAX
007aafe9 : JMP 0x007ab003
007aafeb : LEA EAX,[EDX + EDX*0x4]
007aafee : LEA EAX,[ECX + EAX*0x4 + 0x4]
007aaff2 : INC EDX
007aaff3 : MOV dword ptr [ECX],EDX
007aaff5 : MOV dword ptr [EAX + 0x4],EDI
007aaff8 : MOV dword ptr [EAX],EDI
007aaffa : MOV dword ptr [EAX + 0x10],EDI
007aaffd : MOV dword ptr [EAX + 0xc],EDI
007ab000 : MOV dword ptr [EAX + 0x8],EDI
007ab003 : MOV dword ptr [ESI],EAX
007ab005 : MOV EDX,dword ptr [ECX]
007ab007 : CMP EDX,0x86470
007ab00d : JL 0x007ab013
007ab00f : XOR EAX,EAX
007ab011 : JMP 0x007ab02b
007ab013 : LEA EAX,[EDX + EDX*0x4]
007ab016 : LEA EAX,[ECX + EAX*0x4 + 0x4]
007ab01a : INC EDX
007ab01b : MOV dword ptr [ECX],EDX
007ab01d : MOV dword ptr [EAX + 0x4],EDI
007ab020 : MOV dword ptr [EAX],EDI
007ab022 : MOV dword ptr [EAX + 0x10],EDI
007ab025 : MOV dword ptr [EAX + 0xc],EDI
007ab028 : MOV dword ptr [EAX + 0x8],EDI
007ab02b : MOV dword ptr [ESI + 0x4],EAX
007ab02e : MOV EAX,dword ptr [ESI]
007ab030 : CMP EAX,EDI
007ab032 : JZ 0x007ab125
007ab038 : MOV ECX,dword ptr [ESI + 0xc]
007ab03b : MOV dword ptr [EAX + 0x8],ECX
007ab03e : MOV EDX,dword ptr [ESI]
007ab040 : MOV EAX,dword ptr [ESI + 0x4]
007ab043 : MOV dword ptr [EDX + 0xc],EAX
007ab046 : MOV ECX,dword ptr [ESI + 0x4]
007ab049 : MOV EDX,dword ptr [ESI + 0x10]
007ab04c : MOV dword ptr [ECX + 0x8],EDX
007ab04f : MOV EAX,dword ptr [ESI + 0x4]
007ab052 : MOV ECX,dword ptr [ESI]
007ab054 : MOV dword ptr [EAX + 0x10],ECX
007ab057 : MOV EAX,dword ptr [ESI + 0xc]
007ab05a : CMP EAX,EDI
007ab05c : JZ 0x007ab080
007ab05e : CMP dword ptr [EAX + 0x8],ESI
007ab061 : JNZ 0x007ab06a
007ab063 : MOV EDX,dword ptr [ESI]
007ab065 : MOV dword ptr [EAX + 0x8],EDX
007ab068 : JMP 0x007ab080
007ab06a : CMP dword ptr [EAX + 0xc],ESI
007ab06d : JNZ 0x007ab076
007ab06f : MOV ECX,dword ptr [ESI]
007ab071 : MOV dword ptr [EAX + 0xc],ECX
007ab074 : JMP 0x007ab080
007ab076 : CMP dword ptr [EAX + 0x10],ESI
007ab079 : JNZ 0x007ab080
007ab07b : MOV EDX,dword ptr [ESI]
007ab07d : MOV dword ptr [EAX + 0x10],EDX
007ab080 : MOV EAX,dword ptr [ESI + 0x10]
007ab083 : CMP EAX,EDI
007ab085 : JZ 0x007ab0ac
007ab087 : CMP dword ptr [EAX + 0x8],ESI
007ab08a : JNZ 0x007ab094
007ab08c : MOV ECX,dword ptr [ESI + 0x4]
007ab08f : MOV dword ptr [EAX + 0x8],ECX
007ab092 : JMP 0x007ab0ac
007ab094 : CMP dword ptr [EAX + 0x10],ESI
007ab097 : JNZ 0x007ab0a1
007ab099 : MOV EDX,dword ptr [ESI + 0x4]
007ab09c : MOV dword ptr [EAX + 0x10],EDX
007ab09f : JMP 0x007ab0ac
007ab0a1 : CMP dword ptr [EAX + 0xc],ESI
007ab0a4 : JNZ 0x007ab0ac
007ab0a6 : MOV ECX,dword ptr [ESI + 0x4]
007ab0a9 : MOV dword ptr [EAX + 0xc],ECX
007ab0ac : MOV EAX,dword ptr [ESI + 0x8]
007ab0af : CMP EAX,EDI
007ab0b1 : JZ 0x007ab10e
007ab0b3 : CMP dword ptr [EAX],EDI
007ab0b5 : JZ 0x007ab0f3
007ab0b7 : MOV EDX,dword ptr [EAX]
007ab0b9 : MOV EAX,dword ptr [ESI + 0x4]
007ab0bc : MOV dword ptr [EDX + 0x10],EAX
007ab0bf : MOV ECX,dword ptr [ESI + 0x8]
007ab0c2 : MOV EDX,dword ptr [ECX + 0x4]
007ab0c5 : MOV EAX,dword ptr [ESI]
007ab0c7 : MOV dword ptr [EDX + 0xc],EAX
007ab0ca : MOV ECX,dword ptr [ESI + 0x8]
007ab0cd : MOV EDX,dword ptr [ESI]
007ab0cf : MOV EAX,dword ptr [ECX + 0x4]
007ab0d2 : MOV dword ptr [EDX + 0x10],EAX
007ab0d5 : MOV ECX,dword ptr [ESI + 0x8]
007ab0d8 : MOV EDX,dword ptr [ESI + 0x4]
007ab0db : MOV EAX,dword ptr [ECX]
007ab0dd : POP EDI
007ab0de : MOV dword ptr [EDX + 0xc],EAX
007ab0e1 : MOV EAX,dword ptr [EBX + 0x280]
007ab0e7 : INC dword ptr [EAX + 0x224]
007ab0ed : POP ESI
007ab0ee : POP EBX
007ab0ef : POP EBP
007ab0f0 : RET 0x4
007ab0f3 : PUSH EAX
007ab0f4 : MOV ECX,EBX
007ab0f6 : CALL 0x007aafb0
007ab0fb : MOV EAX,dword ptr [EBX + 0x280]
007ab101 : INC dword ptr [EAX + 0x224]
007ab107 : POP EDI
007ab108 : POP ESI
007ab109 : POP EBX
007ab10a : POP EBP
007ab10b : RET 0x4
007ab10e : MOV ECX,dword ptr [ESI]
007ab110 : MOV dword ptr [ECX + 0x10],EDI
007ab113 : MOV EDX,dword ptr [ESI + 0x4]
007ab116 : MOV dword ptr [EDX + 0xc],EDI
007ab119 : MOV EAX,dword ptr [EBX + 0x280]
007ab11f : INC dword ptr [EAX + 0x224]
007ab125 : POP EDI
007ab126 : POP ESI
007ab127 : POP EBX
007ab128 : POP EBP
007ab129 : RET 0x4
