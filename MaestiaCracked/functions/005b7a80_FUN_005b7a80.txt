PROGRAM  : Maestia.exe
FUNCTION : FUN_005b7a80
ENTRY    : 005b7a80
BODY     : [[005b7a80, 005b7c78]]

============================================================
DECOMPILED C CODE
============================================================

float * FUN_005b7a80(void)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float *pfVar5;
  int *in_ECX;
  undefined1 auStack_34 [12];
  undefined1 local_28 [4];
  undefined1 auStack_24 [12];
  GMatrix2D local_18 [16];
  float *pfStack_8;
  
  GMatrix2D::SetIdentity(local_18);
  pfVar5 = (float *)(**(code **)(*in_ECX + 0x140))(local_28,local_18,3);
  fVar1 = *pfVar5;
  fVar2 = pfVar5[1];
  fVar3 = pfVar5[2];
  fVar4 = pfVar5[3];
  if ((fVar1 == fVar3) && (fVar2 == fVar4)) {
    pfVar5 = (float *)(**(code **)(*in_ECX + 0x140))(auStack_34,auStack_24,2);
    fVar1 = *pfVar5;
    fVar2 = pfVar5[1];
    fVar3 = pfVar5[2];
    fVar4 = pfVar5[3];
    if ((fVar1 == fVar3) && (fVar2 == fVar4)) {
      pfVar5 = (float *)(**(code **)(*in_ECX + 0x140))(auStack_34,auStack_24,1);
      fVar1 = *pfVar5;
      fVar2 = pfVar5[1];
      fVar3 = pfVar5[2];
      fVar4 = pfVar5[3];
      if ((fVar1 == fVar3) && (fVar2 == fVar4)) {
        pfVar5 = (float *)(**(code **)(*in_ECX + 0x140))(auStack_34,auStack_24,0);
        fVar1 = *pfVar5;
        fVar2 = pfVar5[1];
        fVar3 = pfVar5[2];
        fVar4 = pfVar5[3];
        if ((fVar1 == fVar3) && (fVar2 == fVar4)) {
          (**(code **)(*in_ECX + 0x28))(pfStack_8,auStack_24);
          return pfStack_8;
        }
      }
    }
  }
  *pfStack_8 = fVar1;
  pfStack_8[1] = fVar2;
  pfStack_8[2] = fVar3;
  pfStack_8[3] = fVar4;
  return pfStack_8;
}



============================================================
DISASSEMBLY
============================================================
005b7a80 : SUB ESP,0x38
005b7a83 : PUSH ESI
005b7a84 : MOV ESI,ECX
005b7a86 : LEA ECX,[ESP + 0x24]
005b7a8a : CALL 0x00522b80
005b7a8f : MOV EAX,dword ptr [ESI]
005b7a91 : MOV EAX,dword ptr [EAX + 0x140]
005b7a97 : PUSH 0x3
005b7a99 : LEA ECX,[ESP + 0x28]
005b7a9d : PUSH ECX
005b7a9e : LEA EDX,[ESP + 0x1c]
005b7aa2 : PUSH EDX
005b7aa3 : MOV ECX,ESI
005b7aa5 : CALL EAX
005b7aa7 : FLD float ptr [EAX]
005b7aa9 : FSTP float ptr [ESP + 0x4]
005b7aad : FLD float ptr [EAX + 0x4]
005b7ab0 : FSTP float ptr [ESP + 0x8]
005b7ab4 : FLD float ptr [EAX + 0x8]
005b7ab7 : FSTP float ptr [ESP + 0xc]
005b7abb : FLD float ptr [EAX + 0xc]
005b7abe : FSTP float ptr [ESP + 0x10]
005b7ac2 : FLD float ptr [ESP + 0xc]
005b7ac6 : FLD ST0
005b7ac8 : FLD float ptr [ESP + 0x4]
005b7acc : FLD ST0
005b7ace : FUCOMP ST2
005b7ad0 : FNSTSW AX
005b7ad2 : FSTP ST1
005b7ad4 : FLD float ptr [ESP + 0x10]
005b7ad8 : FLD float ptr [ESP + 0x8]
005b7adc : TEST AH,0x44
005b7adf : JP 0x005b7aee
005b7ae1 : FLD ST1
005b7ae3 : FLD ST1
005b7ae5 : FUCOMPP
005b7ae7 : FNSTSW AX
005b7ae9 : TEST AH,0x44
005b7aec : JNP 0x005b7b0a
005b7aee : MOV EAX,dword ptr [ESP + 0x40]
005b7af2 : FXCH ST2
005b7af4 : FSTP float ptr [EAX]
005b7af6 : POP ESI
005b7af7 : FXCH
005b7af9 : FSTP float ptr [EAX + 0x4]
005b7afc : FXCH
005b7afe : FSTP float ptr [EAX + 0x8]
005b7b01 : FSTP float ptr [EAX + 0xc]
005b7b04 : ADD ESP,0x38
005b7b07 : RET 0x4
005b7b0a : MOV EDX,dword ptr [ESI]
005b7b0c : FSTP ST3
005b7b0e : MOV EDX,dword ptr [EDX + 0x140]
005b7b14 : FSTP ST1
005b7b16 : PUSH 0x2
005b7b18 : FSTP ST0
005b7b1a : LEA EAX,[ESP + 0x28]
005b7b1e : FSTP ST0
005b7b20 : PUSH EAX
005b7b21 : LEA ECX,[ESP + 0x1c]
005b7b25 : PUSH ECX
005b7b26 : MOV ECX,ESI
005b7b28 : CALL EDX
005b7b2a : FLD float ptr [EAX]
005b7b2c : FSTP float ptr [ESP + 0x4]
005b7b30 : FLD float ptr [EAX + 0x4]
005b7b33 : FSTP float ptr [ESP + 0x8]
005b7b37 : FLD float ptr [EAX + 0x8]
005b7b3a : FSTP float ptr [ESP + 0xc]
005b7b3e : FLD float ptr [EAX + 0xc]
005b7b41 : FSTP float ptr [ESP + 0x10]
005b7b45 : FLD float ptr [ESP + 0xc]
005b7b49 : FLD ST0
005b7b4b : FLD float ptr [ESP + 0x4]
005b7b4f : FLD ST0
005b7b51 : FUCOMP ST2
005b7b53 : FNSTSW AX
005b7b55 : FSTP ST1
005b7b57 : FLD float ptr [ESP + 0x10]
005b7b5b : FLD float ptr [ESP + 0x8]
005b7b5f : TEST AH,0x44
005b7b62 : JP 0x005b7aee
005b7b64 : FLD ST1
005b7b66 : FLD ST1
005b7b68 : FUCOMPP
005b7b6a : FNSTSW AX
005b7b6c : TEST AH,0x44
005b7b6f : JP 0x005b7aee
005b7b75 : MOV EAX,dword ptr [ESI]
005b7b77 : FSTP ST3
005b7b79 : MOV EAX,dword ptr [EAX + 0x140]
005b7b7f : FSTP ST1
005b7b81 : PUSH 0x1
005b7b83 : FSTP ST0
005b7b85 : LEA ECX,[ESP + 0x28]
005b7b89 : FSTP ST0
005b7b8b : PUSH ECX
005b7b8c : LEA EDX,[ESP + 0x1c]
005b7b90 : PUSH EDX
005b7b91 : MOV ECX,ESI
005b7b93 : CALL EAX
005b7b95 : FLD float ptr [EAX]
005b7b97 : FSTP float ptr [ESP + 0x4]
005b7b9b : FLD float ptr [EAX + 0x4]
005b7b9e : FSTP float ptr [ESP + 0x8]
005b7ba2 : FLD float ptr [EAX + 0x8]
005b7ba5 : FSTP float ptr [ESP + 0xc]
005b7ba9 : FLD float ptr [EAX + 0xc]
005b7bac : FSTP float ptr [ESP + 0x10]
005b7bb0 : FLD float ptr [ESP + 0xc]
005b7bb4 : FLD ST0
005b7bb6 : FLD float ptr [ESP + 0x4]
005b7bba : FLD ST0
005b7bbc : FUCOMP ST2
005b7bbe : FNSTSW AX
005b7bc0 : FSTP ST1
005b7bc2 : FLD float ptr [ESP + 0x10]
005b7bc6 : FLD float ptr [ESP + 0x8]
005b7bca : TEST AH,0x44
005b7bcd : JP 0x005b7aee
005b7bd3 : FLD ST1
005b7bd5 : FLD ST1
005b7bd7 : FUCOMPP
005b7bd9 : FNSTSW AX
005b7bdb : TEST AH,0x44
005b7bde : JP 0x005b7aee
005b7be4 : MOV EDX,dword ptr [ESI]
005b7be6 : FSTP ST3
005b7be8 : MOV EDX,dword ptr [EDX + 0x140]
005b7bee : FSTP ST1
005b7bf0 : PUSH 0x0
005b7bf2 : FSTP ST0
005b7bf4 : LEA EAX,[ESP + 0x28]
005b7bf8 : FSTP ST0
005b7bfa : PUSH EAX
005b7bfb : LEA ECX,[ESP + 0x1c]
005b7bff : PUSH ECX
005b7c00 : MOV ECX,ESI
005b7c02 : CALL EDX
005b7c04 : FLD float ptr [EAX]
005b7c06 : FSTP float ptr [ESP + 0x4]
005b7c0a : FLD float ptr [EAX + 0x4]
005b7c0d : FSTP float ptr [ESP + 0x8]
005b7c11 : FLD float ptr [EAX + 0x8]
005b7c14 : FSTP float ptr [ESP + 0xc]
005b7c18 : FLD float ptr [EAX + 0xc]
005b7c1b : FSTP float ptr [ESP + 0x10]
005b7c1f : FLD float ptr [ESP + 0xc]
005b7c23 : FLD ST0
005b7c25 : FLD float ptr [ESP + 0x4]
005b7c29 : FLD ST0
005b7c2b : FUCOMP ST2
005b7c2d : FNSTSW AX
005b7c2f : FSTP ST1
005b7c31 : FLD float ptr [ESP + 0x10]
005b7c35 : FLD float ptr [ESP + 0x8]
005b7c39 : TEST AH,0x44
005b7c3c : JP 0x005b7aee
005b7c42 : FLD ST1
005b7c44 : FLD ST1
005b7c46 : FUCOMPP
005b7c48 : FNSTSW AX
005b7c4a : TEST AH,0x44
005b7c4d : JP 0x005b7aee
005b7c53 : MOV EAX,dword ptr [ESI]
005b7c55 : FSTP ST3
005b7c57 : MOV EDX,dword ptr [EAX + 0x28]
005b7c5a : FSTP ST1
005b7c5c : PUSH EDI
005b7c5d : FSTP ST0
005b7c5f : MOV EDI,dword ptr [ESP + 0x44]
005b7c63 : FSTP ST0
005b7c65 : LEA ECX,[ESP + 0x28]
005b7c69 : PUSH ECX
005b7c6a : PUSH EDI
005b7c6b : MOV ECX,ESI
005b7c6d : CALL EDX
005b7c6f : MOV EAX,EDI
005b7c71 : POP EDI
005b7c72 : POP ESI
005b7c73 : ADD ESP,0x38
005b7c76 : RET 0x4
