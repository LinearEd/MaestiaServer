PROGRAM  : Maestia.exe
FUNCTION : FUN_008d0690
ENTRY    : 008d0690
BODY     : [[008d0690, 008d07a4] [008d07d1, 008d0800]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_008d0690(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  char cVar4;
  short sVar5;
  uint uVar6;
  undefined4 *puVar7;
  int iVar8;
  bool bVar9;
  
  uVar6 = *(int *)(param_1 + 0xb0) - *(int *)(param_1 + 0xac);
  if ((uVar6 & 0xfffffffc) == 0) {
    return uVar6 & 0xffffff00;
  }
  puVar7 = *(undefined4 **)(param_1 + 0xac);
  if (puVar7 != *(undefined4 **)(param_1 + 0xb0)) {
    do {
      uVar3 = *(undefined4 *)*puVar7;
      iVar8 = FUN_00a1a840(uVar3);
      if (((iVar8 == 0) && (iVar8 = FUN_00a1a6d0(uVar3), iVar8 == 0)) &&
         (iVar8 = FUN_00a1a780(uVar3), iVar8 == 0)) {
LAB_008d079b:
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      iVar1 = iVar8 + 0x1158;
      iVar2 = *(int *)(*(int *)(iVar8 + 0x138) + 4) + 0x138 + iVar8;
      sVar5 = FUN_0043d970();
      if (sVar5 == 1000) {
        bVar9 = *(int *)(iVar2 + 4) == iVar1;
      }
      else if (sVar5 == 2000) {
        bVar9 = *(int *)(iVar2 + 8) == iVar1;
      }
      else {
        bVar9 = *(int *)(iVar2 + 0xc) == iVar1;
      }
      if (((bVar9) || (*(char *)(iVar8 + 0x3ad) == '\0')) || (cVar4 = FUN_0086dad0(), cVar4 != '\0')
         ) goto LAB_008d079b;
      puVar7 = puVar7 + 1;
    } while (puVar7 != *(undefined4 **)(param_1 + 0xb0));
  }
  return CONCAT31((int3)((uint)puVar7 >> 8),
                  (*(int *)(param_1 + 0xb0) - *(int *)(param_1 + 0xac) & 0xfffffffcU) != 0);
}



============================================================
DISASSEMBLY
============================================================
008d0690 : PUSH EBP
008d0691 : MOV EBP,ESP
008d0693 : MOV ECX,dword ptr [EBP + 0x8]
008d0696 : MOV EAX,dword ptr [ECX + 0xb0]
008d069c : SUB EAX,dword ptr [ECX + 0xac]
008d06a2 : SUB ESP,0x8
008d06a5 : TEST EAX,0xfffffffc
008d06aa : JNZ 0x008d06b4
008d06ac : XOR AL,AL
008d06ae : MOV ESP,EBP
008d06b0 : POP EBP
008d06b1 : RET 0x4
008d06b4 : MOV EAX,dword ptr [ECX + 0xac]
008d06ba : MOV dword ptr [EBP + -0x4],EAX
008d06bd : CMP EAX,dword ptr [ECX + 0xb0]
008d06c3 : JZ 0x008d07e6
008d06c9 : PUSH EBX
008d06ca : PUSH ESI
008d06cb : LEA ECX,[EAX + 0x4]
008d06ce : PUSH EDI
008d06cf : MOV dword ptr [EBP + -0x8],ECX
008d06d2 : JMP 0x008d06d7
008d06d4 : MOV EAX,dword ptr [EBP + -0x4]
008d06d7 : MOV EDX,dword ptr [EAX]
008d06d9 : MOV EDI,dword ptr [EDX]
008d06db : MOV ECX,dword ptr [0x00da93ec]
008d06e1 : PUSH EDI
008d06e2 : MOV EBX,ECX
008d06e4 : CALL 0x00a1a840
008d06e9 : MOV ESI,EAX
008d06eb : TEST ESI,ESI
008d06ed : JNZ 0x008d070f
008d06ef : PUSH EDI
008d06f0 : MOV ECX,EBX
008d06f2 : CALL 0x00a1a6d0
008d06f7 : MOV ESI,EAX
008d06f9 : TEST ESI,ESI
008d06fb : JNZ 0x008d070f
008d06fd : PUSH EDI
008d06fe : MOV ECX,EBX
008d0700 : CALL 0x00a1a780
008d0705 : MOV ESI,EAX
008d0707 : TEST ESI,ESI
008d0709 : JZ 0x008d079b
008d070f : MOV EAX,dword ptr [ESI + 0x138]
008d0715 : MOV ECX,dword ptr [EAX + 0x4]
008d0718 : MOV AX,word ptr [ESI + 0x1182]
008d071f : LEA EDI,[ESI + 0x1158]
008d0725 : LEA EBX,[ECX + ESI*0x1 + 0x138]
008d072c : CALL 0x0043d970
008d0731 : MOV EDX,0x3e8
008d0736 : CMP AX,DX
008d0739 : JNZ 0x008d0740
008d073b : CMP dword ptr [EBX + 0x4],EDI
008d073e : JMP 0x008d0752
008d0740 : MOV ECX,0x7d0
008d0745 : CMP AX,CX
008d0748 : JNZ 0x008d074f
008d074a : CMP dword ptr [EBX + 0x8],EDI
008d074d : JMP 0x008d0752
008d074f : CMP dword ptr [EBX + 0xc],EDI
008d0752 : SETZ AL
008d0755 : TEST AL,AL
008d0757 : JNZ 0x008d079b
008d0759 : CMP byte ptr [ESI + 0x3ad],AL
008d075f : JZ 0x008d079b
008d0761 : MOVZX EAX,word ptr [ESI + 0x80]
008d0768 : TEST AX,AX
008d076b : JZ 0x008d0772
008d076d : MOVZX ESI,AX
008d0770 : JMP 0x008d0776
008d0772 : MOVZX ESI,word ptr [ESI + 0x7c]
008d0776 : MOV EDX,dword ptr [0x0172491c]
008d077c : MOV ECX,dword ptr [EDX + 0x17c]
008d0782 : CALL 0x0086dad0
008d0787 : TEST AL,AL
008d0789 : JNZ 0x008d079b
008d078b : MOV EDI,dword ptr [EBP + 0x8]
008d078e : MOV EAX,0x4
008d0793 : ADD dword ptr [EBP + -0x4],EAX
008d0796 : ADD dword ptr [EBP + -0x8],EAX
008d0799 : JMP 0x008d07d1
008d079b : MOV ESI,dword ptr [EBP + -0x4]
008d079e : MOV ECX,dword ptr [ESI]
008d07a0 : CALL 0x006f04e0
008d07d1 : MOV EAX,dword ptr [EBP + -0x4]
008d07d4 : CMP EAX,dword ptr [EDI + 0xb0]
008d07da : JNZ 0x008d06d4
008d07e0 : MOV ECX,dword ptr [EBP + 0x8]
008d07e3 : POP EDI
008d07e4 : POP ESI
008d07e5 : POP EBX
008d07e6 : MOV EDX,dword ptr [ECX + 0xb0]
008d07ec : SUB EDX,dword ptr [ECX + 0xac]
008d07f2 : TEST EDX,0xfffffffc
008d07f8 : SETNZ AL
008d07fb : MOV ESP,EBP
008d07fd : POP EBP
008d07fe : RET 0x4
