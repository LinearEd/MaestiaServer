PROGRAM  : Maestia.exe
FUNCTION : FUN_005c0e50
ENTRY    : 005c0e50
BODY     : [[005c0e50, 005c0f69]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005c0e50(int *param_1,uint param_2)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  int local_18;
  undefined1 local_14;
  
  iVar2 = param_2;
  uVar6 = 0;
  local_18 = param_2;
  local_14 = 8;
  puVar3 = (undefined4 *)FUN_00515840(0x34,0);
  if (puVar3 == (undefined4 *)0x0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    FUN_00568960(&local_18,0);
    *puVar3 = &PTR_LAB_00b8dd80;
    puVar3[4] = &PTR_LAB_00b90510;
  }
  puVar1 = param_1;
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = (int)puVar3;
  param_1[1] = 0;
  iVar4 = FUN_00515840(100,0);
  if (iVar4 != 0) {
    puVar3 = puVar1;
    uVar5 = FUN_00530910(1);
    uVar6 = FUN_005c0d60(&local_18,uVar5,puVar3);
    if (uVar6 != 0) {
      *(uint *)(uVar6 + 8) = *(int *)(uVar6 + 8) + 1U & 0x8fffffff;
    }
  }
  param_1 = (int *)0x29;
  param_2 = uVar6;
  FUN_0050ff10(&param_1,&param_2);
  if (param_2 != 0) {
    FUN_00503db0();
  }
  param_1 = (int *)(*(int *)(iVar2 + 0x2a0) + 0x10);
  puVar3 = &param_2;
  param_2 = param_2 & 0xffffff00;
  iVar4 = *param_1;
  uVar5 = FUN_00526210(puVar1);
  (**(code **)(iVar4 + 0x28))(&local_18,iVar2 + 0xac,uVar5,puVar3);
  FUN_00526bc0();
  if (uVar6 != 0) {
    FUN_00503db0();
  }
  return puVar1;
}



============================================================
DISASSEMBLY
============================================================
005c0e50 : SUB ESP,0x18
005c0e53 : PUSH EBX
005c0e54 : PUSH EBP
005c0e55 : PUSH ESI
005c0e56 : MOV ESI,dword ptr [ESP + 0x2c]
005c0e5a : MOV ECX,dword ptr [ESI + 0x288]
005c0e60 : PUSH EDI
005c0e61 : XOR EBX,EBX
005c0e63 : PUSH EBX
005c0e64 : PUSH 0x34
005c0e66 : MOV dword ptr [ESP + 0x18],ESI
005c0e6a : MOV byte ptr [ESP + 0x1c],0x8
005c0e6f : CALL 0x00515840
005c0e74 : MOV EDI,EAX
005c0e76 : CMP EDI,EBX
005c0e78 : JZ 0x005c0e96
005c0e7a : PUSH EBX
005c0e7b : LEA EAX,[ESP + 0x14]
005c0e7f : PUSH EAX
005c0e80 : MOV ECX,EDI
005c0e82 : CALL 0x00568960
005c0e87 : MOV dword ptr [EDI],0xb8dd80
005c0e8d : MOV dword ptr [EDI + 0x10],0xb90510
005c0e94 : JMP 0x005c0e98
005c0e96 : XOR EDI,EDI
005c0e98 : MOV EBP,dword ptr [ESP + 0x2c]
005c0e9c : PUSH EBX
005c0e9d : MOV byte ptr [EBP + 0x8],BL
005c0ea0 : MOV dword ptr [EBP],EDI
005c0ea3 : MOV dword ptr [EBP + 0x4],EBX
005c0ea6 : MOV ECX,dword ptr [ESI + 0x288]
005c0eac : PUSH 0x64
005c0eae : CALL 0x00515840
005c0eb3 : MOV EDI,EAX
005c0eb5 : CMP EDI,EBX
005c0eb7 : JZ 0x005c0ee3
005c0eb9 : PUSH EBP
005c0eba : PUSH 0x1
005c0ebc : MOV ECX,ESI
005c0ebe : CALL 0x00530910
005c0ec3 : PUSH EAX
005c0ec4 : LEA ECX,[ESP + 0x18]
005c0ec8 : PUSH ECX
005c0ec9 : MOV ECX,EDI
005c0ecb : CALL 0x005c0d60
005c0ed0 : MOV EBX,EAX
005c0ed2 : TEST EBX,EBX
005c0ed4 : JZ 0x005c0ee3
005c0ed6 : MOV EDX,dword ptr [EBX + 0x8]
005c0ed9 : INC EDX
005c0eda : AND EDX,0x8fffffff
005c0ee0 : MOV dword ptr [EBX + 0x8],EDX
005c0ee3 : LEA EAX,[ESP + 0x30]
005c0ee7 : PUSH EAX
005c0ee8 : LEA ECX,[ESP + 0x30]
005c0eec : PUSH ECX
005c0eed : LEA ECX,[ESI + 0x278]
005c0ef3 : MOV dword ptr [ESP + 0x38],EBX
005c0ef7 : MOV dword ptr [ESP + 0x34],0x29
005c0eff : CALL 0x0050ff10
005c0f04 : MOV ECX,dword ptr [ESP + 0x30]
005c0f08 : TEST ECX,ECX
005c0f0a : JZ 0x005c0f11
005c0f0c : CALL 0x00503db0
005c0f11 : MOV EAX,dword ptr [ESI + 0x2a0]
005c0f17 : ADD EAX,0x10
005c0f1a : LEA EDX,[ESP + 0x30]
005c0f1e : MOV byte ptr [ESP + 0x30],0x0
005c0f23 : MOV EDI,dword ptr [EAX]
005c0f25 : PUSH EDX
005c0f26 : PUSH EBP
005c0f27 : LEA ECX,[ESP + 0x20]
005c0f2b : MOV dword ptr [ESP + 0x34],EAX
005c0f2f : ADD EDI,0x28
005c0f32 : CALL 0x00526210
005c0f37 : MOV ECX,dword ptr [ESP + 0x30]
005c0f3b : MOV EDX,dword ptr [EDI]
005c0f3d : PUSH EAX
005c0f3e : ADD ESI,0xac
005c0f44 : PUSH ESI
005c0f45 : LEA EAX,[ESP + 0x1c]
005c0f49 : PUSH EAX
005c0f4a : CALL EDX
005c0f4c : LEA ECX,[ESP + 0x18]
005c0f50 : CALL 0x00526bc0
005c0f55 : TEST EBX,EBX
005c0f57 : JZ 0x005c0f60
005c0f59 : MOV ECX,EBX
005c0f5b : CALL 0x00503db0
005c0f60 : POP EDI
005c0f61 : POP ESI
005c0f62 : MOV EAX,EBP
005c0f64 : POP EBP
005c0f65 : POP EBX
005c0f66 : ADD ESP,0x18
005c0f69 : RET
