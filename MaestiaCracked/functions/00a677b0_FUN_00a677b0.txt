PROGRAM  : Maestia.exe
FUNCTION : FUN_00a677b0
ENTRY    : 00a677b0
BODY     : [[00a677b0, 00a67a56]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00a679de) */
/* WARNING: Removing unreachable block (ram,0x00a67921) */
/* WARNING: Removing unreachable block (ram,0x00a67865) */
/* WARNING: Removing unreachable block (ram,0x00a678c3) */
/* WARNING: Removing unreachable block (ram,0x00a6797f) */
/* WARNING: Removing unreachable block (ram,0x00a67a3e) */

void FUN_00a677b0(void)

{
  int *piVar1;
  undefined4 *puVar2;
  int in_EAX;
  int *piVar3;
  
  FUN_00a67740();
  piVar3 = *(int **)(in_EAX + 0x7c);
  piVar1 = (int *)*piVar3;
  while (piVar1 != piVar3) {
    puVar2 = (undefined4 *)piVar1[10];
    if (puVar2 != (undefined4 *)0x0) {
      (**(code **)*puVar2)(1);
    }
    FUN_00430160();
  }
  FUN_0044c480(*(undefined4 *)(*(int *)(in_EAX + 0x7c) + 4));
  *(int *)(*(int *)(in_EAX + 0x7c) + 4) = *(int *)(in_EAX + 0x7c);
  *(undefined4 *)(in_EAX + 0x80) = 0;
  *(undefined4 *)*(undefined4 *)(in_EAX + 0x7c) = *(undefined4 *)(in_EAX + 0x7c);
  *(int *)(*(int *)(in_EAX + 0x7c) + 8) = *(int *)(in_EAX + 0x7c);
  piVar3 = *(int **)(in_EAX + 0x88);
  if (piVar3 != *(int **)(in_EAX + 0x8c)) {
    do {
      if ((undefined4 *)*piVar3 != (undefined4 *)0x0) {
        (*(code *)**(undefined4 **)*piVar3)(1);
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(in_EAX + 0x8c));
  }
  if (*(int *)(in_EAX + 0x88) != *(int *)(in_EAX + 0x8c)) {
    *(int *)(in_EAX + 0x8c) = *(int *)(in_EAX + 0x88);
  }
  piVar3 = *(int **)(in_EAX + 0x98);
  if (piVar3 != *(int **)(in_EAX + 0x9c)) {
    do {
      if ((undefined4 *)*piVar3 != (undefined4 *)0x0) {
        (*(code *)**(undefined4 **)*piVar3)(1);
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(in_EAX + 0x9c));
  }
  if (*(int *)(in_EAX + 0x98) != *(int *)(in_EAX + 0x9c)) {
    *(int *)(in_EAX + 0x9c) = *(int *)(in_EAX + 0x98);
  }
  piVar3 = *(int **)(in_EAX + 0xa8);
  if (piVar3 != *(int **)(in_EAX + 0xac)) {
    do {
      if ((undefined4 *)*piVar3 != (undefined4 *)0x0) {
        (*(code *)**(undefined4 **)*piVar3)(1);
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(in_EAX + 0xac));
  }
  if (*(int *)(in_EAX + 0xa8) != *(int *)(in_EAX + 0xac)) {
    *(int *)(in_EAX + 0xac) = *(int *)(in_EAX + 0xa8);
  }
  piVar3 = *(int **)(in_EAX + 0xb8);
  if (piVar3 != *(int **)(in_EAX + 0xbc)) {
    do {
      if ((undefined4 *)*piVar3 != (undefined4 *)0x0) {
        (*(code *)**(undefined4 **)*piVar3)(1);
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(in_EAX + 0xbc));
  }
  if (*(int *)(in_EAX + 0xb8) != *(int *)(in_EAX + 0xbc)) {
    *(int *)(in_EAX + 0xbc) = *(int *)(in_EAX + 0xb8);
  }
  piVar3 = *(int **)(in_EAX + 200);
  if (piVar3 != *(int **)(in_EAX + 0xcc)) {
    do {
      if ((undefined4 *)*piVar3 != (undefined4 *)0x0) {
        (*(code *)**(undefined4 **)*piVar3)(1);
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(in_EAX + 0xcc));
  }
  if (*(int *)(in_EAX + 200) != *(int *)(in_EAX + 0xcc)) {
    *(int *)(in_EAX + 0xcc) = *(int *)(in_EAX + 200);
  }
  piVar3 = *(int **)(in_EAX + 0xd8);
  if (piVar3 != *(int **)(in_EAX + 0xdc)) {
    do {
      if ((undefined4 *)*piVar3 != (undefined4 *)0x0) {
        (*(code *)**(undefined4 **)*piVar3)(1);
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(in_EAX + 0xdc));
  }
  if (*(int *)(in_EAX + 0xd8) != *(int *)(in_EAX + 0xdc)) {
    *(int *)(in_EAX + 0xdc) = *(int *)(in_EAX + 0xd8);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a677b0 : PUSH EBP
00a677b1 : MOV EBP,ESP
00a677b3 : PUSH ECX
00a677b4 : PUSH EBX
00a677b5 : PUSH ESI
00a677b6 : PUSH EDI
00a677b7 : MOV EDI,EAX
00a677b9 : CALL 0x00a67740
00a677be : MOV ESI,dword ptr [EDI + 0x7c]
00a677c1 : MOV EAX,dword ptr [ESI]
00a677c3 : MOV dword ptr [EBP + -0x4],EAX
00a677c6 : CMP EAX,ESI
00a677c8 : JZ 0x00a677f0
00a677ca : LEA EBX,[EBX]
00a677d0 : MOV EAX,dword ptr [EAX + 0x28]
00a677d3 : TEST EAX,EAX
00a677d5 : JZ 0x00a677e1
00a677d7 : MOV EDX,dword ptr [EAX]
00a677d9 : MOV ECX,EAX
00a677db : MOV EAX,dword ptr [EDX]
00a677dd : PUSH 0x1
00a677df : CALL EAX
00a677e1 : LEA EDX,[EBP + -0x4]
00a677e4 : CALL 0x00430160
00a677e9 : MOV EAX,dword ptr [EBP + -0x4]
00a677ec : CMP EAX,ESI
00a677ee : JNZ 0x00a677d0
00a677f0 : MOV ECX,dword ptr [EDI + 0x7c]
00a677f3 : MOV EDX,dword ptr [ECX + 0x4]
00a677f6 : LEA ESI,[EDI + 0x78]
00a677f9 : PUSH EDX
00a677fa : MOV ECX,ESI
00a677fc : CALL 0x0044c480
00a67801 : MOV EAX,dword ptr [ESI + 0x4]
00a67804 : MOV dword ptr [EAX + 0x4],EAX
00a67807 : MOV EAX,dword ptr [ESI + 0x4]
00a6780a : MOV dword ptr [ESI + 0x8],0x0
00a67811 : MOV dword ptr [EAX],EAX
00a67813 : MOV ESI,dword ptr [ESI + 0x4]
00a67816 : MOV dword ptr [ESI + 0x8],ESI
00a67819 : MOV ESI,dword ptr [EDI + 0x88]
00a6781f : CMP ESI,dword ptr [EDI + 0x8c]
00a67825 : JZ 0x00a67840
00a67827 : MOV ECX,dword ptr [ESI]
00a67829 : TEST ECX,ECX
00a6782b : JZ 0x00a67835
00a6782d : MOV EAX,dword ptr [ECX]
00a6782f : MOV EDX,dword ptr [EAX]
00a67831 : PUSH 0x1
00a67833 : CALL EDX
00a67835 : ADD ESI,0x4
00a67838 : CMP ESI,dword ptr [EDI + 0x8c]
00a6783e : JNZ 0x00a67827
00a67840 : MOV ECX,dword ptr [EDI + 0x8c]
00a67846 : MOV ESI,dword ptr [EDI + 0x88]
00a6784c : CMP ESI,ECX
00a6784e : JZ 0x00a67877
00a67850 : MOV EAX,ECX
00a67852 : SUB EAX,ECX
00a67854 : SAR EAX,0x2
00a67857 : LEA EDX,[EAX*0x4 + 0x0]
00a6785e : LEA EBX,[EDX + ESI*0x1]
00a67861 : TEST EAX,EAX
00a67863 : JLE 0x00a67871
00a67865 : PUSH EDX
00a67866 : PUSH ECX
00a67867 : PUSH EDX
00a67868 : PUSH ESI
00a67869 : CALL 0x00634101
00a6786e : ADD ESP,0x10
00a67871 : MOV dword ptr [EDI + 0x8c],EBX
00a67877 : MOV ESI,dword ptr [EDI + 0x98]
00a6787d : CMP ESI,dword ptr [EDI + 0x9c]
00a67883 : JZ 0x00a6789e
00a67885 : MOV ECX,dword ptr [ESI]
00a67887 : TEST ECX,ECX
00a67889 : JZ 0x00a67893
00a6788b : MOV EAX,dword ptr [ECX]
00a6788d : MOV EDX,dword ptr [EAX]
00a6788f : PUSH 0x1
00a67891 : CALL EDX
00a67893 : ADD ESI,0x4
00a67896 : CMP ESI,dword ptr [EDI + 0x9c]
00a6789c : JNZ 0x00a67885
00a6789e : MOV ECX,dword ptr [EDI + 0x9c]
00a678a4 : MOV ESI,dword ptr [EDI + 0x98]
00a678aa : CMP ESI,ECX
00a678ac : JZ 0x00a678d5
00a678ae : MOV EAX,ECX
00a678b0 : SUB EAX,ECX
00a678b2 : SAR EAX,0x2
00a678b5 : LEA EDX,[EAX*0x4 + 0x0]
00a678bc : LEA EBX,[EDX + ESI*0x1]
00a678bf : TEST EAX,EAX
00a678c1 : JLE 0x00a678cf
00a678c3 : PUSH EDX
00a678c4 : PUSH ECX
00a678c5 : PUSH EDX
00a678c6 : PUSH ESI
00a678c7 : CALL 0x00634101
00a678cc : ADD ESP,0x10
00a678cf : MOV dword ptr [EDI + 0x9c],EBX
00a678d5 : MOV ESI,dword ptr [EDI + 0xa8]
00a678db : CMP ESI,dword ptr [EDI + 0xac]
00a678e1 : JZ 0x00a678fc
00a678e3 : MOV ECX,dword ptr [ESI]
00a678e5 : TEST ECX,ECX
00a678e7 : JZ 0x00a678f1
00a678e9 : MOV EAX,dword ptr [ECX]
00a678eb : MOV EDX,dword ptr [EAX]
00a678ed : PUSH 0x1
00a678ef : CALL EDX
00a678f1 : ADD ESI,0x4
00a678f4 : CMP ESI,dword ptr [EDI + 0xac]
00a678fa : JNZ 0x00a678e3
00a678fc : MOV ECX,dword ptr [EDI + 0xac]
00a67902 : MOV ESI,dword ptr [EDI + 0xa8]
00a67908 : CMP ESI,ECX
00a6790a : JZ 0x00a67933
00a6790c : MOV EAX,ECX
00a6790e : SUB EAX,ECX
00a67910 : SAR EAX,0x2
00a67913 : LEA EDX,[EAX*0x4 + 0x0]
00a6791a : LEA EBX,[EDX + ESI*0x1]
00a6791d : TEST EAX,EAX
00a6791f : JLE 0x00a6792d
00a67921 : PUSH EDX
00a67922 : PUSH ECX
00a67923 : PUSH EDX
00a67924 : PUSH ESI
00a67925 : CALL 0x00634101
00a6792a : ADD ESP,0x10
00a6792d : MOV dword ptr [EDI + 0xac],EBX
00a67933 : MOV ESI,dword ptr [EDI + 0xb8]
00a67939 : CMP ESI,dword ptr [EDI + 0xbc]
00a6793f : JZ 0x00a6795a
00a67941 : MOV ECX,dword ptr [ESI]
00a67943 : TEST ECX,ECX
00a67945 : JZ 0x00a6794f
00a67947 : MOV EAX,dword ptr [ECX]
00a67949 : MOV EDX,dword ptr [EAX]
00a6794b : PUSH 0x1
00a6794d : CALL EDX
00a6794f : ADD ESI,0x4
00a67952 : CMP ESI,dword ptr [EDI + 0xbc]
00a67958 : JNZ 0x00a67941
00a6795a : MOV ECX,dword ptr [EDI + 0xbc]
00a67960 : MOV ESI,dword ptr [EDI + 0xb8]
00a67966 : CMP ESI,ECX
00a67968 : JZ 0x00a67991
00a6796a : MOV EAX,ECX
00a6796c : SUB EAX,ECX
00a6796e : SAR EAX,0x2
00a67971 : LEA EDX,[EAX*0x4 + 0x0]
00a67978 : LEA EBX,[EDX + ESI*0x1]
00a6797b : TEST EAX,EAX
00a6797d : JLE 0x00a6798b
00a6797f : PUSH EDX
00a67980 : PUSH ECX
00a67981 : PUSH EDX
00a67982 : PUSH ESI
00a67983 : CALL 0x00634101
00a67988 : ADD ESP,0x10
00a6798b : MOV dword ptr [EDI + 0xbc],EBX
00a67991 : MOV ESI,dword ptr [EDI + 0xc8]
00a67997 : CMP ESI,dword ptr [EDI + 0xcc]
00a6799d : JZ 0x00a679b9
00a6799f : NOP
00a679a0 : MOV ECX,dword ptr [ESI]
00a679a2 : TEST ECX,ECX
00a679a4 : JZ 0x00a679ae
00a679a6 : MOV EAX,dword ptr [ECX]
00a679a8 : MOV EDX,dword ptr [EAX]
00a679aa : PUSH 0x1
00a679ac : CALL EDX
00a679ae : ADD ESI,0x4
00a679b1 : CMP ESI,dword ptr [EDI + 0xcc]
00a679b7 : JNZ 0x00a679a0
00a679b9 : MOV ECX,dword ptr [EDI + 0xcc]
00a679bf : MOV ESI,dword ptr [EDI + 0xc8]
00a679c5 : CMP ESI,ECX
00a679c7 : JZ 0x00a679f0
00a679c9 : MOV EAX,ECX
00a679cb : SUB EAX,ECX
00a679cd : SAR EAX,0x2
00a679d0 : LEA EDX,[EAX*0x4 + 0x0]
00a679d7 : LEA EBX,[EDX + ESI*0x1]
00a679da : TEST EAX,EAX
00a679dc : JLE 0x00a679ea
00a679de : PUSH EDX
00a679df : PUSH ECX
00a679e0 : PUSH EDX
00a679e1 : PUSH ESI
00a679e2 : CALL 0x00634101
00a679e7 : ADD ESP,0x10
00a679ea : MOV dword ptr [EDI + 0xcc],EBX
00a679f0 : MOV ESI,dword ptr [EDI + 0xd8]
00a679f6 : CMP ESI,dword ptr [EDI + 0xdc]
00a679fc : JZ 0x00a67a19
00a679fe : MOV EDI,EDI
00a67a00 : MOV ECX,dword ptr [ESI]
00a67a02 : TEST ECX,ECX
00a67a04 : JZ 0x00a67a0e
00a67a06 : MOV EAX,dword ptr [ECX]
00a67a08 : MOV EDX,dword ptr [EAX]
00a67a0a : PUSH 0x1
00a67a0c : CALL EDX
00a67a0e : ADD ESI,0x4
00a67a11 : CMP ESI,dword ptr [EDI + 0xdc]
00a67a17 : JNZ 0x00a67a00
00a67a19 : MOV ECX,dword ptr [EDI + 0xdc]
00a67a1f : MOV ESI,dword ptr [EDI + 0xd8]
00a67a25 : CMP ESI,ECX
00a67a27 : JZ 0x00a67a50
00a67a29 : MOV EAX,ECX
00a67a2b : SUB EAX,ECX
00a67a2d : SAR EAX,0x2
00a67a30 : LEA EDX,[EAX*0x4 + 0x0]
00a67a37 : LEA EBX,[EDX + ESI*0x1]
00a67a3a : TEST EAX,EAX
00a67a3c : JLE 0x00a67a4a
00a67a3e : PUSH EDX
00a67a3f : PUSH ECX
00a67a40 : PUSH EDX
00a67a41 : PUSH ESI
00a67a42 : CALL 0x00634101
00a67a47 : ADD ESP,0x10
00a67a4a : MOV dword ptr [EDI + 0xdc],EBX
00a67a50 : POP EDI
00a67a51 : POP ESI
00a67a52 : POP EBX
00a67a53 : MOV ESP,EBP
00a67a55 : POP EBP
00a67a56 : RET
