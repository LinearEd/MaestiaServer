PROGRAM  : Maestia.exe
FUNCTION : FUN_0065932e
ENTRY    : 0065932e
BODY     : [[0065932e, 00659863]]

============================================================
DECOMPILED C CODE
============================================================

float10 FUN_0065932e(undefined8 param_1)

{
  undefined1 auVar1 [12];
  double dVar2;
  undefined1 auVar3 [12];
  uint uVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  ulonglong uVar8;
  int in_XMM0_Da;
  uint in_XMM0_Db;
  uint in_XMM0_Dd;
  double dVar9;
  double dVar10;
  ulonglong in_XMM2_Qb;
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  double dVar13;
  double dVar14;
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  double dVar18;
  ulonglong in_XMM7_Qb;
  undefined1 auVar19 [16];
  double local_c;
  
  dVar2 = (double)CONCAT44(in_XMM0_Db,in_XMM0_Da);
  uVar4 = in_XMM0_Db >> 0xc & 0x7ffff;
  if (uVar4 - 0x3fb00 < 0x3bb) {
    auVar11._0_8_ = ((ulonglong)in_XMM0_Db & 0xffffc000) << 0x20;
    auVar11._8_8_ = in_XMM2_Qb & in_XMM7_Qb;
    iVar5 = (in_XMM0_Db >> 0xc & 0xfffc) - 0xfb00;
    iVar6 = iVar5 * 4;
    dVar14 = SUB168(auVar11 | ZEXT816(0x200000000000),0);
    dVar13 = SQRT(1.0 - dVar2 * dVar2) * dVar14;
    dVar9 = dVar2 * *(double *)(&DAT_00ba0b00 + iVar5 * 2) - dVar13;
    uVar4 = SUB164(auVar11 | ZEXT816(0x200000000000),4) & 0x80000000;
    dVar10 = dVar9 * dVar9;
    auVar3._4_8_ = 0;
    auVar3._0_4_ = uVar4;
    auVar12._0_12_ = auVar3 << 0x20;
    auVar12._12_4_ = uVar4;
    return (float10)((((dVar10 * -0.044642857142857144 + -0.075) * dVar9 * dVar10 * dVar10 +
                      (dVar9 * dVar10 * -0.16666666666666666 -
                      ((double)(*(ulonglong *)(&DAT_00b9fc00 + iVar6) ^ (ulonglong)uVar4 << 0x20) -
                      6.123233995736766e-17))) -
                     ((dVar2 + dVar14) * ((double)CONCAT44(in_XMM0_Db,in_XMM0_Da) - dVar14)) /
                     (dVar2 * *(double *)(&DAT_00ba0b00 + iVar5 * 2) + dVar13)) -
                    ((double)(*(ulonglong *)(&DAT_00b9fc08 + iVar6) ^ auVar12._8_8_) -
                    1.5707963267948966));
  }
  if (uVar4 - 0x3febb < 0x41) {
    dVar18 = (double)((ulonglong)(in_XMM0_Db >> 6) << 0x26);
    auVar1._4_4_ = in_XMM0_Db;
    auVar1._0_4_ = in_XMM0_Da;
    auVar1._8_4_ = in_XMM0_Dd >> 0xc;
    dVar14 = 1.0 - dVar18 * dVar18;
    dVar9 = ((double)CONCAT44(in_XMM0_Db,in_XMM0_Da) + dVar18) * (dVar2 - dVar18);
    dVar13 = SQRT(dVar14 - dVar9);
    iVar5 = -(uint)(SUB121(auVar1 >> 0x3f,0) & 1);
    dVar10 = (double)((ulonglong)dVar13 & 0xffffc00000000000 |
                     ((ulonglong)in_XMM0_Db & 0x80000000) << 0x20 | 0x200000000000);
    auVar15._0_8_ = CONCAT44(iVar5,iVar5);
    auVar15._8_4_ = iVar5;
    auVar15._12_4_ = iVar5;
    iVar6 = (ushort)((ulonglong)((longlong)dVar13 << 2) >> 0x30) - 0xfec0;
    dVar13 = dVar13 * *(double *)(&DAT_00ba0b00 + iVar6 * 8);
    dVar18 = (dVar18 * dVar10 - dVar13) + (dVar2 - dVar18) * dVar10;
    dVar2 = ((dVar14 - dVar10 * dVar10) - dVar9) / (dVar13 + dVar13 + dVar18);
    iVar6 = iVar6 * 0x10;
    dVar10 = (double)(auVar15._8_8_ & 0xc00921fb54442d18) + *(double *)(&DAT_00b9fc08 + iVar6);
    dVar14 = dVar18 * dVar18;
    dVar9 = dVar2 + dVar10;
    return (float10)(double)((ulonglong)
                             ((dVar14 * -0.044642857142857144 + -0.075) * dVar18 * dVar14 * dVar14 +
                              dVar18 * dVar14 * -0.16666666666666666 +
                              (double)(auVar15._0_8_ & 0xbca1a62633145c07) +
                              *(double *)(&DAT_00b9fc00 + iVar6) + dVar2 + (dVar10 - dVar9) + dVar9)
                            ^ (ulonglong)((ushort)iVar5 & 0x8000) << 0x30);
  }
  if (uVar4 - 0x3c300 < 0x3800) {
    dVar9 = (double)CONCAT44(in_XMM0_Db,in_XMM0_Da) * (double)CONCAT44(in_XMM0_Db,in_XMM0_Da);
    dVar10 = (double)CONCAT44(in_XMM0_Db,in_XMM0_Da) * (double)CONCAT44(in_XMM0_Db,in_XMM0_Da);
    dVar14 = dVar2 * dVar9;
    return (float10)((1.5707963267948966 - dVar2) +
                    (((6.123233995736766e-17 -
                      dVar14 * dVar14 * dVar14 *
                      (dVar9 * 0.022372159090909092 + 0.030381944444444444 +
                      dVar9 * dVar9 * 0.017352764423076924)) -
                     (double)CONCAT44(in_XMM0_Db,in_XMM0_Da) * dVar10 *
                     (dVar10 * 0.075 + 0.16666666666666666 + dVar10 * dVar10 * 0.044642857142857144)
                     ) - (dVar2 - (1.5707963267948966 - (1.5707963267948966 - dVar2)))));
  }
  if (uVar4 - 0x3fefc < 4) {
    dVar2 = 0.5 - ABS(dVar2) * 0.5;
    uVar7 = (undefined4)((ulonglong)dVar2 >> 0x20);
    auVar19._8_4_ = SUB84(dVar2,0);
    auVar19._0_8_ = dVar2;
    auVar19._12_4_ = uVar7;
    dVar9 = SQRT(dVar2);
    dVar14 = auVar19._8_8_;
    auVar17._8_4_ = SUB84(dVar2,0);
    auVar17._0_8_ = dVar2;
    auVar17._12_4_ = uVar7;
    uVar8 = -(ulonglong)((double)CONCAT44(in_XMM0_Db,in_XMM0_Da) < 0.0);
    dVar10 = (double)((ulonglong)dVar9 & 0xfffffffff8000000);
    auVar16._8_4_ = SUB84(dVar9,0);
    auVar16._0_8_ = dVar9;
    auVar16._12_4_ = (int)((ulonglong)dVar9 >> 0x20);
    return (float10)(double)((ulonglong)
                             ((double)(uVar8 & 0xc00921fb54442d18) +
                             (dVar2 * 0.022372159090909092 + 0.030381944444444444 +
                             dVar2 * dVar2 * 0.017352764423076924) * dVar2 * dVar2 * dVar2 * dVar2 *
                             (dVar9 + dVar9) + (double)(uVar8 & 0xbca1a62633145c07) +
                             (dVar14 * 0.075 + 0.16666666666666666 +
                             dVar14 * dVar14 * 0.044642857142857144) * auVar17._8_8_ *
                             (auVar16._8_8_ + auVar16._8_8_) +
                             ((dVar2 - dVar10 * dVar10) -
                             (dVar9 - dVar10) * ((dVar9 + dVar9) - (dVar9 - dVar10))) / dVar9 +
                             dVar9 + dVar9) ^
                            (ulonglong)((ushort)(in_XMM0_Db >> 0x10) & 0x8000) << 0x30);
  }
  if (uVar4 < 0x3ff00) {
    return (float10)1.5707963267948966;
  }
  if ((in_XMM0_Db & 0x7fffffff) != 0x3ff00000 || in_XMM0_Da != 0) {
    if ((int)((((uint)((ulonglong)param_1 >> 0x20) & 0x7fffffff) + 0x80100000) -
             (uint)((int)param_1 == 0)) < 0) {
      local_c = -NAN;
      uVar7 = 0x3a;
    }
    else {
      local_c = (double)CONCAT44(in_XMM0_Db,in_XMM0_Da) + 0.0;
      uVar7 = 0x3f0;
    }
    ___libm_error_support(&param_1,&param_1,&local_c,uVar7);
    return (float10)local_c;
  }
  uVar8 = CONCAT44((int)in_XMM0_Db >> 0x1f,(int)in_XMM0_Db >> 0x1f);
  return (float10)((double)(uVar8 & 0x400921fb54442d18) + (double)(uVar8 & 0x3ca1a62633145c07));
}



============================================================
DISASSEMBLY
============================================================
0065932e : MOVLPD XMM4,qword ptr [0x00ba13c0]
00659336 : MOVLPD XMM3,qword ptr [0x00ba13d0]
0065933e : XORPD XMM5,XMM5
00659342 : MOVLPD XMM2,qword ptr [0x00ba13c8]
0065934a : MOVSD XMM1,XMM0
0065934e : PSRLQ XMM0,0x2c
00659353 : MOVD EDX,XMM0
00659357 : MOVSD XMM7,XMM1
0065935b : MOV ECX,0x2000
00659360 : PINSRW XMM5,ECX,0x2
00659365 : MOVSD XMM0,XMM1
00659369 : MOV EAX,0x7ffff
0065936e : AND EAX,EDX
00659370 : SUB EAX,0x3fb00
00659375 : CMP EAX,0x3bb
0065937a : JNC 0x00659456
00659380 : MULSD XMM1,XMM1
00659384 : AND EDX,0xffff
0065938a : SUBSD XMM3,XMM1
0065938e : SQRTSD XMM3,XMM3
00659392 : ANDPD XMM2,XMM7
00659396 : AND EDX,0xfffffffc
00659399 : SUB EDX,0xfb00
0065939f : MOVLPD XMM1,qword ptr [EDX*0x2 + 0xba0b00]
006593a8 : ORPD XMM2,XMM5
006593ac : MOVAPD XMM4,xmmword ptr [EDX*0x4 + 0xb9fc00]
006593b5 : MOVSD XMM6,XMM7
006593b9 : ADDSD XMM7,XMM2
006593bd : SUBSD XMM0,XMM2
006593c1 : MULSD XMM7,XMM0
006593c5 : MULSD XMM6,XMM1
006593c9 : MULSD XMM3,XMM2
006593cd : MOVSD XMM1,XMM6
006593d1 : ADDSD XMM6,XMM3
006593d5 : DIVSD XMM7,XMM6
006593d9 : MOVLPD XMM0,qword ptr [0x00ba1378]
006593e1 : MOVLPD XMM5,qword ptr [0x00ba1368]
006593e9 : SUBSD XMM1,XMM3
006593ed : PSRLQ XMM2,0x3f
006593f2 : MOVSD XMM3,XMM1
006593f6 : PSLLQ XMM2,0x3f
006593fb : MULSD XMM1,XMM1
006593ff : PSHUFD XMM2,XMM2,0x44
00659404 : MOVLPD XMM6,qword ptr [0x00ba1370]
0065940c : MULSD XMM3,XMM1
00659410 : MULSD XMM0,XMM1
00659414 : SUB ESP,0x10
00659417 : XORPD XMM4,XMM2
0065941b : MULSD XMM5,XMM3
0065941f : SUBPD XMM4,xmmword ptr [0x00ba1300]
00659427 : MULSD XMM3,XMM1
0065942b : ADDSD XMM0,XMM6
0065942f : MULSD XMM0,XMM3
00659433 : SUBSD XMM5,XMM4
00659437 : PSHUFD XMM4,XMM4,0xee
0065943c : ADDSD XMM0,XMM5
00659440 : SUBSD XMM0,XMM7
00659444 : SUBSD XMM0,XMM4
00659448 : MOVLPD qword ptr [ESP + 0x4],XMM0
0065944e : FLD double ptr [ESP + 0x4]
00659452 : ADD ESP,0x10
00659455 : RET
00659456 : SUB EAX,0x3bb
0065945b : CMP EAX,0x41
0065945e : JNC 0x00659591
00659464 : PSRLQ XMM7,0x26
00659469 : PSLLQ XMM7,0x26
0065946e : PMOVMSKB EAX,XMM0
00659472 : ANDNPD XMM4,XMM0
00659476 : SUBSD XMM1,XMM7
0065947a : MOVSD XMM6,XMM7
0065947e : MULSD XMM7,XMM7
00659482 : ADDSD XMM0,XMM6
00659486 : ORPD XMM5,XMM4
0065948a : SUBSD XMM3,XMM7
0065948e : MULSD XMM0,XMM1
00659492 : MOVSD XMM4,XMM3
00659496 : SUBSD XMM3,XMM0
0065949a : SQRTSD XMM3,XMM3
0065949e : AND EAX,0x80
006594a3 : SHR EAX,0x7
006594a6 : NEG EAX
006594a8 : MOVSD XMM7,XMM3
006594ac : ANDPD XMM2,XMM3
006594b0 : PSLLQ XMM3,0x2
006594b5 : PEXTRW EDX,XMM3,0x3
006594ba : ORPD XMM2,XMM5
006594be : MOVD XMM3,EAX
006594c2 : PSHUFD XMM3,XMM3,0x0
006594c7 : SUB EDX,0xfec0
006594cd : ADD EDX,EDX
006594cf : MULSD XMM7,qword ptr [EDX*0x4 + 0xba0b00]
006594d8 : MULSD XMM6,XMM2
006594dc : MULSD XMM1,XMM2
006594e0 : MULSD XMM2,XMM2
006594e4 : SUBSD XMM6,XMM7
006594e8 : ANDPD XMM3,xmmword ptr [0x00ba1310]
006594f0 : ADDSD XMM6,XMM1
006594f4 : SUBSD XMM4,XMM2
006594f8 : ADDSD XMM7,XMM7
006594fc : MOVLPD XMM5,qword ptr [0x00ba1368]
00659504 : SUBSD XMM4,XMM0
00659508 : ADDSD XMM7,XMM6
0065950c : MOVLPD XMM0,qword ptr [0x00ba1378]
00659514 : DIVSD XMM4,XMM7
00659518 : MOVLPD XMM2,qword ptr [0x00ba1370]
00659520 : ADDPD XMM3,xmmword ptr [EDX*0x8 + 0xb9fc00]
00659529 : MOVSD XMM1,XMM6
0065952d : MULSD XMM6,XMM6
00659531 : MULSD XMM0,XMM6
00659535 : MULSD XMM1,XMM6
00659539 : SUB ESP,0x10
0065953c : MULSD XMM5,XMM1
00659540 : MULSD XMM1,XMM6
00659544 : ADDSD XMM0,XMM2
00659548 : PXOR XMM6,XMM6
0065954c : MULSD XMM0,XMM1
00659550 : ADDSD XMM5,XMM3
00659554 : ADDSD XMM0,XMM5
00659558 : AND EAX,0x8000
0065955d : PINSRW XMM6,EAX,0x3
00659562 : MOVSD XMM5,XMM4
00659566 : PSHUFD XMM3,XMM3,0xee
0065956b : ADDSD XMM4,XMM3
0065956f : SUBSD XMM3,XMM4
00659573 : ADDSD XMM5,XMM3
00659577 : ADDSD XMM0,XMM5
0065957b : ADDSD XMM0,XMM4
0065957f : XORPD XMM0,XMM6
00659583 : MOVLPD qword ptr [ESP + 0x4],XMM0
00659589 : FLD double ptr [ESP + 0x4]
0065958d : ADD ESP,0x10
00659590 : RET
00659591 : ADD EAX,0x3bbb
00659596 : CMP EAX,0x3800
0065959b : JNC 0x00659631
006595a1 : UNPCKLPD XMM0,XMM0
006595a5 : MOVAPD XMM6,xmmword ptr [0x00ba1380]
006595ad : UNPCKLPD XMM1,XMM0
006595b1 : MOVAPD XMM2,xmmword ptr [0x00ba1390]
006595b9 : MOVAPD XMM4,xmmword ptr [0x00ba13a0]
006595c1 : MULPD XMM0,XMM0
006595c5 : MOVAPD XMM5,xmmword ptr [0x00ba1300]
006595cd : SUB ESP,0x10
006595d0 : MULPD XMM1,XMM0
006595d4 : MULPD XMM6,XMM0
006595d8 : MULPD XMM0,XMM0
006595dc : MOVSD XMM3,XMM1
006595e0 : MULSD XMM1,XMM1
006595e4 : ADDPD XMM6,XMM2
006595e8 : MULPD XMM4,XMM0
006595ec : MULSD XMM1,XMM3
006595f0 : ADDPD XMM6,XMM4
006595f4 : PSHUFD XMM0,XMM5,0xee
006595f9 : MULPD XMM1,XMM6
006595fd : PSHUFD XMM6,XMM5,0xee
00659602 : SUBSD XMM0,XMM7
00659606 : PSHUFD XMM2,XMM1,0xee
0065960b : SUBSD XMM5,XMM1
0065960f : SUBSD XMM6,XMM0
00659613 : SUBSD XMM5,XMM2
00659617 : SUBSD XMM7,XMM6
0065961b : SUBSD XMM5,XMM7
0065961f : ADDSD XMM0,XMM5
00659623 : MOVLPD qword ptr [ESP + 0x4],XMM0
00659629 : FLD double ptr [ESP + 0x4]
0065962d : ADD ESP,0x10
00659630 : RET
00659631 : SUB EAX,0x3bfc
00659636 : CMP EAX,0x4
00659639 : JNC 0x00659733
0065963f : XORPD XMM6,XMM6
00659643 : ANDPD XMM7,xmmword ptr [0x00ba13c0]
0065964b : MOVLPD XMM4,qword ptr [0x00ba13d8]
00659653 : MOVAPD XMM1,xmmword ptr [0x00ba1380]
0065965b : MULSD XMM7,XMM4
0065965f : MOVAPD XMM2,xmmword ptr [0x00ba1390]
00659667 : SUBSD XMM4,XMM7
0065966b : MOVAPD XMM3,xmmword ptr [0x00ba13a0]
00659673 : PSHUFD XMM7,XMM4,0x44
00659678 : SQRTSD XMM4,XMM4
0065967c : MULPD XMM1,XMM7
00659680 : PSHUFD XMM5,XMM7,0x44
00659685 : PEXTRW EAX,XMM0,0x3
0065968a : MULPD XMM7,XMM7
0065968e : ADDPD XMM2,XMM1
00659692 : MOVLPD XMM1,qword ptr [0x00ba1340]
0065969a : MULPD XMM3,XMM7
0065969e : CMPLTSD XMM0,XMM6
006596a3 : MULSD XMM7,XMM5
006596a7 : ADDPD XMM2,XMM3
006596ab : PSHUFD XMM0,XMM0,0x44
006596b0 : MULSD XMM2,XMM7
006596b4 : ANDPD XMM0,xmmword ptr [0x00ba1310]
006596bc : MULPD XMM2,XMM5
006596c0 : ANDPD XMM1,XMM4
006596c4 : PSHUFD XMM3,XMM4,0x44
006596c9 : SUBSD XMM4,XMM1
006596cd : ADDSD XMM3,XMM3
006596d1 : MULSD XMM1,XMM1
006596d5 : SUBSD XMM3,XMM4
006596d9 : SUBSD XMM5,XMM1
006596dd : MULSD XMM4,XMM3
006596e1 : PSHUFD XMM3,XMM3,0xee
006596e6 : SUBSD XMM5,XMM4
006596ea : DIVSD XMM5,XMM3
006596ee : SUB ESP,0x10
006596f1 : ADDPD XMM3,XMM3
006596f5 : MULPD XMM2,XMM3
006596f9 : PSHUFD XMM4,XMM2,0xee
006596fe : ADDSD XMM2,XMM0
00659702 : AND EAX,0x8000
00659707 : PINSRW XMM6,EAX,0x3
0065970c : PSHUFD XMM0,XMM0,0xee
00659711 : ADDSD XMM2,XMM4
00659715 : ADDSD XMM2,XMM5
00659719 : ADDSD XMM2,XMM3
0065971d : ADDSD XMM0,XMM2
00659721 : XORPD XMM0,XMM6
00659725 : MOVLPD qword ptr [ESP + 0x4],XMM0
0065972b : FLD double ptr [ESP + 0x4]
0065972f : ADD ESP,0x10
00659732 : RET
00659733 : ADD EAX,0x3fefc
00659738 : CMP EAX,0x3ff00
0065973d : JC 0x0065982d
00659743 : MOVD ECX,XMM7
00659747 : PSRLQ XMM7,0x20
0065974c : MOVD EDX,XMM7
00659750 : AND EDX,0x7fffffff
00659756 : MOV EAX,0x3ff00000
0065975b : SUB EAX,EDX
0065975d : OR EAX,ECX
0065975f : CMP EAX,0x0
00659762 : JZ 0x006597ed
00659768 : MOVLPD XMM2,qword ptr [ESP + 0x4]
0065976e : MOVD EDX,XMM2
00659772 : PSRLQ XMM2,0x20
00659777 : MOVD ECX,XMM2
0065977b : AND ECX,0x7fffffff
00659781 : SUB EDX,0x1
00659784 : SBB ECX,0x7ff00000
0065978a : CMP ECX,0x0
0065978d : JGE 0x00659852
00659793 : XORPD XMM1,XMM1
00659797 : XORPD XMM0,XMM0
0065979b : MOV EDX,0x7ff0
006597a0 : PINSRW XMM1,EDX,0x3
006597a5 : MULSD XMM0,XMM1
006597a9 : MOV EDX,0x3a
006597ae : SUB ESP,0x1c
006597b1 : MOVLPD qword ptr [ESP + 0x10],XMM0
006597b7 : MOV dword ptr [ESP + 0xc],EDX
006597bb : MOV EDX,ESP
006597bd : ADD EDX,0x10
006597c0 : MOV dword ptr [ESP + 0x8],EDX
006597c4 : ADD EDX,0x10
006597c7 : MOV dword ptr [ESP + 0x4],EDX
006597cb : MOV dword ptr [ESP],EDX
006597ce : CALL 0x00652a86
006597d3 : MOVLPD XMM0,qword ptr [ESP + 0x10]
006597d9 : ADD ESP,0x1c
006597dc : SUB ESP,0x10
006597df : MOVLPD qword ptr [ESP + 0x4],XMM0
006597e5 : FLD double ptr [ESP + 0x4]
006597e9 : ADD ESP,0x10
006597ec : RET
006597ed : PEXTRW EDX,XMM7,0x1
006597f2 : SHR EDX,0xf
006597f5 : NEG EDX
006597f7 : MOVD XMM7,EDX
006597fb : PSHUFD XMM7,XMM7,0x0
00659800 : MOVLPD XMM2,qword ptr [0x00ba1320]
00659808 : MOVLPD XMM0,qword ptr [0x00ba1328]
00659810 : ANDPD XMM2,XMM7
00659814 : ANDPD XMM0,XMM7
00659818 : ADDSD XMM0,XMM2
0065981c : SUB ESP,0x10
0065981f : MOVLPD qword ptr [ESP + 0x4],XMM0
00659825 : FLD double ptr [ESP + 0x4]
00659829 : ADD ESP,0x10
0065982c : RET
0065982d : MOVLPD XMM2,qword ptr [0x00ba1300]
00659835 : MOVLPD XMM0,qword ptr [0x00ba1308]
0065983d : ADDSD XMM0,XMM2
00659841 : SUB ESP,0x10
00659844 : MOVLPD qword ptr [ESP + 0x4],XMM0
0065984a : FLD double ptr [ESP + 0x4]
0065984e : ADD ESP,0x10
00659851 : RET
00659852 : XORPD XMM6,XMM6
00659856 : ADDSD XMM0,XMM6
0065985a : MOV EDX,0x3f0
0065985f : JMP 0x006597ae
