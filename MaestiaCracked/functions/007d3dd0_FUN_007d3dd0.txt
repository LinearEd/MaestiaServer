PROGRAM  : Maestia.exe
FUNCTION : FUN_007d3dd0
ENTRY    : 007d3dd0
BODY     : [[007d3dd0, 007d3ec7]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d3dd0(undefined8 *param_1)

{
  int iVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  int in_ECX;
  int *piVar5;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0f002;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(in_ECX + 8) != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  local_8 = 0;
  piVar5 = (int *)**(int **)(in_ECX + 0x188);
  if (piVar5 != *(int **)(in_ECX + 0x188)) {
    do {
      piVar2 = (int *)piVar5[9];
      iVar4 = (**(code **)(*piVar2 + 4))(uVar3);
      if (iVar4 == 2) {
LAB_007d3e4e:
        if ((char)piVar2[0x1c] == '\0') {
          iVar4 = *(int *)((int)param_1 + 0xc);
          iVar1 = *(int *)(param_1 + 1);
          *(undefined8 *)(piVar2 + 0xf) = *param_1;
          piVar2[0x11] = iVar1;
          piVar2[0x12] = iVar4;
        }
      }
      else {
        iVar4 = (**(code **)(*piVar2 + 4))();
        if (iVar4 == 1) goto LAB_007d3e4e;
        iVar4 = (**(code **)(*piVar2 + 4))();
        if (iVar4 == 0xd) goto LAB_007d3e4e;
      }
      piVar5 = (int *)*piVar5;
    } while (piVar5 != (int *)*(int *)(in_ECX + 0x188));
  }
  local_8 = 0xffffffff;
  if (*(int *)(in_ECX + 8) != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d3dd0 : PUSH EBP
007d3dd1 : MOV EBP,ESP
007d3dd3 : PUSH -0x1
007d3dd5 : PUSH 0xb0f002
007d3dda : MOV EAX,FS:[0x0]
007d3de0 : PUSH EAX
007d3de1 : SUB ESP,0x14
007d3de4 : PUSH EBX
007d3de5 : PUSH ESI
007d3de6 : PUSH EDI
007d3de7 : MOV EAX,[0x00d66fa0]
007d3dec : XOR EAX,EBP
007d3dee : PUSH EAX
007d3def : LEA EAX,[EBP + -0xc]
007d3df2 : MOV FS:[0x0],EAX
007d3df8 : MOV EBX,ECX
007d3dfa : MOV EAX,dword ptr [EBX + 0x8]
007d3dfd : MOV dword ptr [EBP + -0x10],EBX
007d3e00 : TEST EAX,EAX
007d3e02 : JZ 0x007d3e0e
007d3e04 : ADD EAX,0x4
007d3e07 : PUSH EAX
007d3e08 : CALL dword ptr [0x00b85118]
007d3e0e : MOV dword ptr [EBP + -0x4],0x0
007d3e15 : MOV EAX,dword ptr [EBX + 0x188]
007d3e1b : MOV EDI,dword ptr [EAX]
007d3e1d : CMP EDI,EAX
007d3e1f : JZ 0x007d3e9c
007d3e21 : MOV ESI,dword ptr [EDI + 0x24]
007d3e24 : MOV EAX,dword ptr [ESI]
007d3e26 : MOV EDX,dword ptr [EAX + 0x4]
007d3e29 : MOV ECX,ESI
007d3e2b : CALL EDX
007d3e2d : CMP EAX,0x2
007d3e30 : JZ 0x007d3e4e
007d3e32 : MOV EAX,dword ptr [ESI]
007d3e34 : MOV EDX,dword ptr [EAX + 0x4]
007d3e37 : MOV ECX,ESI
007d3e39 : CALL EDX
007d3e3b : CMP EAX,0x1
007d3e3e : JZ 0x007d3e4e
007d3e40 : MOV EAX,dword ptr [ESI]
007d3e42 : MOV EDX,dword ptr [EAX + 0x4]
007d3e45 : MOV ECX,ESI
007d3e47 : CALL EDX
007d3e49 : CMP EAX,0xd
007d3e4c : JNZ 0x007d3e92
007d3e4e : CMP byte ptr [ESI + 0x70],0x0
007d3e52 : JNZ 0x007d3e92
007d3e54 : MOV EAX,dword ptr [EBP + 0x8]
007d3e57 : MOVSS XMM0,dword ptr [EAX + 0xc]
007d3e5c : MOVSS dword ptr [EBP + -0x14],XMM0
007d3e61 : MOVSS XMM0,dword ptr [EAX]
007d3e65 : MOVSS dword ptr [EBP + -0x20],XMM0
007d3e6a : MOVSS XMM0,dword ptr [EAX + 0x4]
007d3e6f : MOVSS dword ptr [EBP + -0x1c],XMM0
007d3e74 : MOVSS XMM0,dword ptr [EAX + 0x8]
007d3e79 : MOVSS dword ptr [EBP + -0x18],XMM0
007d3e7e : MOVQ XMM0,qword ptr [EBP + -0x20]
007d3e83 : MOVQ qword ptr [ESI + 0x3c],XMM0
007d3e88 : MOVQ XMM0,qword ptr [EBP + -0x18]
007d3e8d : MOVQ qword ptr [ESI + 0x44],XMM0
007d3e92 : MOV EDI,dword ptr [EDI]
007d3e94 : CMP EDI,dword ptr [EBX + 0x188]
007d3e9a : JNZ 0x007d3e21
007d3e9c : MOV dword ptr [EBP + -0x4],0xffffffff
007d3ea3 : MOV EBX,dword ptr [EBX + 0x8]
007d3ea6 : TEST EBX,EBX
007d3ea8 : JZ 0x007d3eb4
007d3eaa : ADD EBX,0x4
007d3ead : PUSH EBX
007d3eae : CALL dword ptr [0x00b8511c]
007d3eb4 : MOV ECX,dword ptr [EBP + -0xc]
007d3eb7 : MOV dword ptr FS:[0x0],ECX
007d3ebe : POP ECX
007d3ebf : POP EDI
007d3ec0 : POP ESI
007d3ec1 : POP EBX
007d3ec2 : MOV ESP,EBP
007d3ec4 : POP EBP
007d3ec5 : RET 0x4
