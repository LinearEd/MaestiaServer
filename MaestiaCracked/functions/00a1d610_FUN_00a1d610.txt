PROGRAM  : Maestia.exe
FUNCTION : FUN_00a1d610
ENTRY    : 00a1d610
BODY     : [[00a1d610, 00a1da0d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a1d610(uint param_1)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  int in_EDX;
  uint uVar4;
  uint uVar5;
  uint local_104;
  uint local_e8;
  uint local_cc;
  uint local_b0;
  uint local_94;
  uint local_78;
  uint local_5c;
  uint local_40;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b26172;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (param_1 == 0) {
    FUN_00406460(&DAT_00cc5954);
    local_8 = 0;
  }
  else {
    FUN_00406460(&DAT_00cc5958);
    local_8._0_1_ = 1;
    local_8._1_3_ = 0;
    uVar3 = (param_1 / 1000) / 0x3c;
    uVar4 = uVar3 / 0x3c;
    uVar5 = uVar4 / 0x18;
    if (uVar5 != 0) {
      iVar1 = FUN_0081cbe0(DAT_0172491c);
      local_8._0_1_ = 2;
      if (*(uint *)(iVar1 + 0x18) < 8) {
        iVar1 = iVar1 + 4;
      }
      else {
        iVar1 = *(int *)(iVar1 + 4);
      }
      uVar2 = FUN_00404750(L"%d%s ",uVar5,iVar1);
      local_8._0_1_ = 3;
      FUN_00405c30(uVar2,0,0xffffffff);
      local_8 = CONCAT31(local_8._1_3_,2);
      if (7 < local_78) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_8._0_1_ = 1;
      if (7 < local_40) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    local_8._0_1_ = 1;
    uVar4 = uVar4 % 0x18;
    if (uVar4 != 0) {
      iVar1 = FUN_0081cbe0(DAT_0172491c);
      local_8._0_1_ = 4;
      if (*(uint *)(iVar1 + 0x18) < 8) {
        iVar1 = iVar1 + 4;
      }
      else {
        iVar1 = *(int *)(iVar1 + 4);
      }
      uVar2 = FUN_00404750(L"%d%s ",uVar4,iVar1);
      local_8._0_1_ = 5;
      FUN_00405c30(uVar2,0,0xffffffff);
      local_8 = CONCAT31(local_8._1_3_,4);
      if (7 < local_e8) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_8._0_1_ = 1;
      if (7 < local_b0) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    local_8._0_1_ = 1;
    uVar3 = uVar3 % 0x3c;
    if (uVar3 != 0) {
      iVar1 = FUN_0081cbe0(DAT_0172491c);
      local_8._0_1_ = 6;
      if (*(uint *)(iVar1 + 0x18) < 8) {
        iVar1 = iVar1 + 4;
      }
      else {
        iVar1 = *(int *)(iVar1 + 4);
      }
      uVar2 = FUN_00404750(L"%d%s ",uVar3,iVar1);
      local_8._0_1_ = 7;
      FUN_00405c30(uVar2,0,0xffffffff);
      local_8 = CONCAT31(local_8._1_3_,6);
      if (7 < local_5c) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_8._0_1_ = 1;
      if (7 < local_94) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    local_8._0_1_ = 1;
    uVar3 = (param_1 / 1000) % 0x3c;
    if (uVar3 != 0) {
      iVar1 = FUN_0081cbe0(DAT_0172491c);
      local_8._0_1_ = 8;
      if (*(uint *)(iVar1 + 0x18) < 8) {
        iVar1 = iVar1 + 4;
      }
      else {
        iVar1 = *(int *)(iVar1 + 4);
      }
      uVar2 = FUN_00404750(L"%d%s ",uVar3,iVar1);
      local_8._0_1_ = 9;
      FUN_00405c30(uVar2,0,0xffffffff);
      local_8 = CONCAT31(local_8._1_3_,8);
      if (7 < local_cc) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_8._0_1_ = 1;
      if (7 < local_104) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    local_8._0_1_ = 1;
    *(undefined4 *)(in_EDX + 0x18) = 7;
    *(undefined4 *)(in_EDX + 0x14) = 0;
    *(undefined2 *)(in_EDX + 4) = 0;
    FUN_00405eb0(local_30,0,0xffffffff);
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a1d610 : PUSH EBP
00a1d611 : MOV EBP,ESP
00a1d613 : PUSH -0x1
00a1d615 : PUSH 0xb26172
00a1d61a : MOV EAX,FS:[0x0]
00a1d620 : PUSH EAX
00a1d621 : SUB ESP,0x10c
00a1d627 : MOV EAX,[0x00d66fa0]
00a1d62c : XOR EAX,EBP
00a1d62e : MOV dword ptr [EBP + -0x10],EAX
00a1d631 : PUSH EBX
00a1d632 : PUSH ESI
00a1d633 : PUSH EDI
00a1d634 : PUSH EAX
00a1d635 : LEA EAX,[EBP + -0xc]
00a1d638 : MOV FS:[0x0],EAX
00a1d63e : MOV ECX,dword ptr [EBP + 0x8]
00a1d641 : XOR EDI,EDI
00a1d643 : MOV ESI,EDX
00a1d645 : MOV dword ptr [EBP + -0x38],ESI
00a1d648 : MOV dword ptr [EBP + -0x34],EDI
00a1d64b : CMP ECX,EDI
00a1d64d : JNZ 0x00a1d66a
00a1d64f : PUSH 0xcc5954
00a1d654 : MOV ECX,ESI
00a1d656 : CALL 0x00406460
00a1d65b : MOV dword ptr [EBP + -0x4],EDI
00a1d65e : MOV dword ptr [EBP + -0x34],0x1
00a1d665 : JMP 0x00a1d9ee
00a1d66a : MOV EAX,0x10624dd3
00a1d66f : MUL ECX
00a1d671 : MOV ESI,EDX
00a1d673 : SHR ESI,0x6
00a1d676 : PUSH 0xcc5958
00a1d67b : LEA ECX,[EBP + -0x2c]
00a1d67e : MOV dword ptr [EBP + 0x8],ESI
00a1d681 : CALL 0x00406460
00a1d686 : MOV dword ptr [EBP + -0x4],0x1
00a1d68d : MOV EAX,0x88888889
00a1d692 : MUL ESI
00a1d694 : MOV ECX,EDX
00a1d696 : SHR ECX,0x5
00a1d699 : MOV EAX,0x88888889
00a1d69e : MUL ECX
00a1d6a0 : MOV EBX,EDX
00a1d6a2 : SHR EBX,0x5
00a1d6a5 : MOV EAX,0xaaaaaaab
00a1d6aa : MUL EBX
00a1d6ac : MOV EDI,EDX
00a1d6ae : SHR EDI,0x4
00a1d6b1 : MOV dword ptr [EBP + -0x30],ECX
00a1d6b4 : TEST EDI,EDI
00a1d6b6 : JBE 0x00a1d758
00a1d6bc : MOV EAX,[0x0172491c]
00a1d6c1 : PUSH EAX
00a1d6c2 : MOV ECX,0xcc595c
00a1d6c7 : LEA ESI,[EBP + -0x54]
00a1d6ca : CALL 0x0081cbe0
00a1d6cf : MOV byte ptr [EBP + -0x4],0x2
00a1d6d3 : CMP dword ptr [EAX + 0x18],0x8
00a1d6d7 : JC 0x00a1d6de
00a1d6d9 : MOV EAX,dword ptr [EAX + 0x4]
00a1d6dc : JMP 0x00a1d6e1
00a1d6de : ADD EAX,0x4
00a1d6e1 : PUSH EAX
00a1d6e2 : PUSH EDI
00a1d6e3 : PUSH 0xcc5960
00a1d6e8 : LEA ESI,[EBP + 0xffffff74]
00a1d6ee : CALL 0x00404750
00a1d6f3 : ADD ESP,0xc
00a1d6f6 : MOV byte ptr [EBP + -0x4],0x3
00a1d6fa : PUSH -0x1
00a1d6fc : XOR ESI,ESI
00a1d6fe : PUSH ESI
00a1d6ff : PUSH EAX
00a1d700 : LEA ECX,[EBP + -0x2c]
00a1d703 : CALL 0x00405c30
00a1d708 : MOV byte ptr [EBP + -0x4],0x2
00a1d70c : CMP dword ptr [EBP + -0x74],0x8
00a1d710 : JC 0x00a1d71d
00a1d712 : MOV ECX,dword ptr [EBP + 0xffffff78]
00a1d718 : CALL 0x006f04e0
00a1d71d : XOR ECX,ECX
00a1d71f : MOV dword ptr [EBP + -0x74],0x7
00a1d726 : MOV dword ptr [EBP + -0x78],ESI
00a1d729 : MOV word ptr [EBP + 0xffffff78],CX
00a1d730 : MOV byte ptr [EBP + -0x4],0x1
00a1d734 : CMP dword ptr [EBP + -0x3c],0x8
00a1d738 : JC 0x00a1d742
00a1d73a : MOV ECX,dword ptr [EBP + -0x50]
00a1d73d : CALL 0x006f04e0
00a1d742 : MOV ECX,dword ptr [EBP + -0x30]
00a1d745 : XOR EDX,EDX
00a1d747 : MOV dword ptr [EBP + -0x40],ESI
00a1d74a : MOV ESI,dword ptr [EBP + 0x8]
00a1d74d : MOV dword ptr [EBP + -0x3c],0x7
00a1d754 : MOV word ptr [EBP + -0x50],DX
00a1d758 : LEA EAX,[EDI + EDI*0x2]
00a1d75b : ADD EAX,EAX
00a1d75d : ADD EAX,EAX
00a1d75f : ADD EAX,EAX
00a1d761 : MOV EDI,EBX
00a1d763 : SUB EDI,EAX
00a1d765 : JZ 0x00a1d820
00a1d76b : MOV ECX,dword ptr [0x0172491c]
00a1d771 : PUSH ECX
00a1d772 : MOV ECX,0xcc596c
00a1d777 : LEA ESI,[EBP + 0xffffff3c]
00a1d77d : CALL 0x0081cbe0
00a1d782 : MOV byte ptr [EBP + -0x4],0x4
00a1d786 : CMP dword ptr [EAX + 0x18],0x8
00a1d78a : JC 0x00a1d791
00a1d78c : MOV EAX,dword ptr [EAX + 0x4]
00a1d78f : JMP 0x00a1d794
00a1d791 : ADD EAX,0x4
00a1d794 : PUSH EAX
00a1d795 : PUSH EDI
00a1d796 : PUSH 0xcc5974
00a1d79b : LEA ESI,[EBP + 0xffffff04]
00a1d7a1 : CALL 0x00404750
00a1d7a6 : ADD ESP,0xc
00a1d7a9 : MOV byte ptr [EBP + -0x4],0x5
00a1d7ad : PUSH -0x1
00a1d7af : XOR EDI,EDI
00a1d7b1 : PUSH EDI
00a1d7b2 : PUSH EAX
00a1d7b3 : LEA ECX,[EBP + -0x2c]
00a1d7b6 : CALL 0x00405c30
00a1d7bb : MOV byte ptr [EBP + -0x4],0x4
00a1d7bf : CMP dword ptr [EBP + 0xffffff1c],0x8
00a1d7c6 : JC 0x00a1d7d3
00a1d7c8 : MOV ECX,dword ptr [EBP + 0xffffff08]
00a1d7ce : CALL 0x006f04e0
00a1d7d3 : MOV ESI,0x7
00a1d7d8 : XOR EDX,EDX
00a1d7da : MOV dword ptr [EBP + 0xffffff1c],ESI
00a1d7e0 : MOV dword ptr [EBP + 0xffffff18],EDI
00a1d7e6 : MOV word ptr [EBP + 0xffffff08],DX
00a1d7ed : MOV byte ptr [EBP + -0x4],0x1
00a1d7f1 : CMP dword ptr [EBP + 0xffffff54],0x8
00a1d7f8 : JC 0x00a1d805
00a1d7fa : MOV ECX,dword ptr [EBP + 0xffffff40]
00a1d800 : CALL 0x006f04e0
00a1d805 : MOV ECX,dword ptr [EBP + -0x30]
00a1d808 : XOR EAX,EAX
00a1d80a : MOV dword ptr [EBP + 0xffffff54],ESI
00a1d810 : MOV ESI,dword ptr [EBP + 0x8]
00a1d813 : MOV dword ptr [EBP + 0xffffff50],EDI
00a1d819 : MOV word ptr [EBP + 0xffffff40],AX
00a1d820 : MOV EDX,EBX
00a1d822 : SHL EDX,0x4
00a1d825 : SUB EDX,EBX
00a1d827 : ADD EDX,EDX
00a1d829 : ADD EDX,EDX
00a1d82b : MOV EDI,ECX
00a1d82d : SUB EDI,EDX
00a1d82f : JZ 0x00a1d8d9
00a1d835 : MOV EAX,[0x0172491c]
00a1d83a : PUSH EAX
00a1d83b : MOV ECX,0xcc5980
00a1d840 : LEA ESI,[EBP + 0xffffff58]
00a1d846 : CALL 0x0081cbe0
00a1d84b : MOV byte ptr [EBP + -0x4],0x6
00a1d84f : MOV EBX,0x8
00a1d854 : CMP dword ptr [EAX + 0x18],EBX
00a1d857 : JC 0x00a1d85e
00a1d859 : MOV EAX,dword ptr [EAX + 0x4]
00a1d85c : JMP 0x00a1d861
00a1d85e : ADD EAX,0x4
00a1d861 : PUSH EAX
00a1d862 : PUSH EDI
00a1d863 : PUSH 0xcc5988
00a1d868 : LEA ESI,[EBP + -0x70]
00a1d86b : CALL 0x00404750
00a1d870 : ADD ESP,0xc
00a1d873 : MOV byte ptr [EBP + -0x4],0x7
00a1d877 : PUSH -0x1
00a1d879 : XOR EDI,EDI
00a1d87b : PUSH EDI
00a1d87c : PUSH EAX
00a1d87d : LEA ECX,[EBP + -0x2c]
00a1d880 : CALL 0x00405c30
00a1d885 : MOV byte ptr [EBP + -0x4],0x6
00a1d889 : CMP dword ptr [EBP + -0x58],EBX
00a1d88c : JC 0x00a1d896
00a1d88e : MOV ECX,dword ptr [EBP + -0x6c]
00a1d891 : CALL 0x006f04e0
00a1d896 : MOV ESI,0x7
00a1d89b : XOR ECX,ECX
00a1d89d : MOV dword ptr [EBP + -0x58],ESI
00a1d8a0 : MOV dword ptr [EBP + -0x5c],EDI
00a1d8a3 : MOV word ptr [EBP + -0x6c],CX
00a1d8a7 : MOV byte ptr [EBP + -0x4],0x1
00a1d8ab : CMP dword ptr [EBP + 0xffffff70],EBX
00a1d8b1 : JC 0x00a1d8be
00a1d8b3 : MOV ECX,dword ptr [EBP + 0xffffff5c]
00a1d8b9 : CALL 0x006f04e0
00a1d8be : MOV ECX,dword ptr [EBP + -0x30]
00a1d8c1 : XOR EDX,EDX
00a1d8c3 : MOV dword ptr [EBP + 0xffffff70],ESI
00a1d8c9 : MOV ESI,dword ptr [EBP + 0x8]
00a1d8cc : MOV dword ptr [EBP + 0xffffff6c],EDI
00a1d8d2 : MOV word ptr [EBP + 0xffffff5c],DX
00a1d8d9 : MOV EAX,ECX
00a1d8db : SHL EAX,0x4
00a1d8de : SUB EAX,ECX
00a1d8e0 : ADD EAX,EAX
00a1d8e2 : ADD EAX,EAX
00a1d8e4 : MOV EDI,ESI
00a1d8e6 : SUB EDI,EAX
00a1d8e8 : JZ 0x00a1d99f
00a1d8ee : MOV ECX,dword ptr [0x0172491c]
00a1d8f4 : PUSH ECX
00a1d8f5 : MOV ECX,0xcc5994
00a1d8fa : LEA ESI,[EBP + 0xfffffee8]
00a1d900 : CALL 0x0081cbe0
00a1d905 : MOV byte ptr [EBP + -0x4],0x8
00a1d909 : MOV EBX,0x8
00a1d90e : CMP dword ptr [EAX + 0x18],EBX
00a1d911 : JC 0x00a1d918
00a1d913 : MOV EAX,dword ptr [EAX + 0x4]
00a1d916 : JMP 0x00a1d91b
00a1d918 : ADD EAX,0x4
00a1d91b : PUSH EAX
00a1d91c : PUSH EDI
00a1d91d : PUSH 0xcc599c
00a1d922 : LEA ESI,[EBP + 0xffffff20]
00a1d928 : CALL 0x00404750
00a1d92d : ADD ESP,0xc
00a1d930 : MOV byte ptr [EBP + -0x4],0x9
00a1d934 : PUSH -0x1
00a1d936 : XOR EDI,EDI
00a1d938 : PUSH EDI
00a1d939 : PUSH EAX
00a1d93a : LEA ECX,[EBP + -0x2c]
00a1d93d : CALL 0x00405c30
00a1d942 : MOV byte ptr [EBP + -0x4],0x8
00a1d946 : CMP dword ptr [EBP + 0xffffff38],EBX
00a1d94c : JC 0x00a1d959
00a1d94e : MOV ECX,dword ptr [EBP + 0xffffff24]
00a1d954 : CALL 0x006f04e0
00a1d959 : MOV ESI,0x7
00a1d95e : XOR EDX,EDX
00a1d960 : MOV dword ptr [EBP + 0xffffff38],ESI
00a1d966 : MOV dword ptr [EBP + 0xffffff34],EDI
00a1d96c : MOV word ptr [EBP + 0xffffff24],DX
00a1d973 : MOV byte ptr [EBP + -0x4],0x1
00a1d977 : CMP dword ptr [EBP + 0xffffff00],EBX
00a1d97d : JC 0x00a1d98a
00a1d97f : MOV ECX,dword ptr [EBP + 0xfffffeec]
00a1d985 : CALL 0x006f04e0
00a1d98a : XOR EAX,EAX
00a1d98c : MOV dword ptr [EBP + 0xffffff00],ESI
00a1d992 : MOV dword ptr [EBP + 0xfffffefc],EDI
00a1d998 : MOV word ptr [EBP + 0xfffffeec],AX
00a1d99f : MOV ESI,dword ptr [EBP + -0x38]
00a1d9a2 : XOR ECX,ECX
00a1d9a4 : PUSH -0x1
00a1d9a6 : MOV EDI,0x7
00a1d9ab : PUSH ECX
00a1d9ac : MOV dword ptr [ESI + 0x18],EDI
00a1d9af : MOV dword ptr [ESI + 0x14],0x0
00a1d9b6 : LEA EDX,[EBP + -0x2c]
00a1d9b9 : MOV word ptr [ESI + 0x4],CX
00a1d9bd : PUSH EDX
00a1d9be : MOV ECX,ESI
00a1d9c0 : CALL 0x00405eb0
00a1d9c5 : MOV dword ptr [EBP + -0x34],0x1
00a1d9cc : MOV byte ptr [EBP + -0x4],0x0
00a1d9d0 : CMP dword ptr [EBP + -0x14],0x8
00a1d9d4 : JC 0x00a1d9de
00a1d9d6 : MOV ECX,dword ptr [EBP + -0x28]
00a1d9d9 : CALL 0x006f04e0
00a1d9de : XOR EAX,EAX
00a1d9e0 : MOV dword ptr [EBP + -0x14],EDI
00a1d9e3 : MOV dword ptr [EBP + -0x18],0x0
00a1d9ea : MOV word ptr [EBP + -0x28],AX
00a1d9ee : MOV EAX,ESI
00a1d9f0 : MOV ECX,dword ptr [EBP + -0xc]
00a1d9f3 : MOV dword ptr FS:[0x0],ECX
00a1d9fa : POP ECX
00a1d9fb : POP EDI
00a1d9fc : POP ESI
00a1d9fd : POP EBX
00a1d9fe : MOV ECX,dword ptr [EBP + -0x10]
00a1da01 : XOR ECX,EBP
00a1da03 : CALL 0x00633e6b
00a1da08 : MOV ESP,EBP
00a1da0a : POP EBP
00a1da0b : RET 0x4
