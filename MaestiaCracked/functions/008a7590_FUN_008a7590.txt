PROGRAM  : Maestia.exe
FUNCTION : FUN_008a7590
ENTRY    : 008a7590
BODY     : [[008a7590, 008a7700]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008a7590(int param_1)

{
  uint uVar1;
  int iVar2;
  int in_ECX;
  int *piVar3;
  uint local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b44acc;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  piVar3 = *(int **)(param_1 + 0xb4);
  do {
    local_14 = uVar1;
    if (piVar3 == *(int **)(param_1 + 0xb8)) {
LAB_008a76e3:
      local_8 = 0xffffffff;
      ExceptionList = local_10;
      __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
      return;
    }
    if (*piVar3 == in_ECX) {
      FUN_00406460(L"IDS_GUILDWAR_CHALLENGE");
      local_8 = 0;
      iVar2 = FUN_0081d120(local_4c);
      local_8._0_1_ = 1;
      if ((uint)piVar3[7] < 8) {
        piVar3 = piVar3 + 2;
      }
      else {
        piVar3 = (int *)piVar3[2];
      }
      if (*(uint *)(iVar2 + 0x18) < 8) {
        iVar2 = iVar2 + 4;
      }
      else {
        iVar2 = *(int *)(iVar2 + 4);
      }
      FUN_00404750(iVar2,piVar3,uVar1);
      local_8 = CONCAT31(local_8._1_3_,3);
      if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_8 = CONCAT31(local_8._1_3_,4);
      if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_48 = 0;
      local_34 = 7;
      local_38 = 0;
      iVar2 = FUN_008ede80(local_30,2);
      if (iVar2 == 0) {
        local_8 = 0xffffffff;
        if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
      }
      else {
        if (*(code **)(iVar2 + 0x60) != (code *)0x0) {
          (**(code **)(iVar2 + 0x60))(1,iVar2);
        }
        *(code **)(iVar2 + 0x60) = FUN_008a7060;
        local_8 = 0xffffffff;
        if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
      }
      local_2c = 0;
      local_1c = 0;
      local_18 = 7;
      goto LAB_008a76e3;
    }
    piVar3 = piVar3 + 0x1c;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
008a7590 : PUSH EBP
008a7591 : MOV EBP,ESP
008a7593 : PUSH -0x1
008a7595 : PUSH 0xb44acc
008a759a : MOV EAX,FS:[0x0]
008a75a0 : PUSH EAX
008a75a1 : SUB ESP,0x58
008a75a4 : MOV EAX,[0x00d66fa0]
008a75a9 : XOR EAX,EBP
008a75ab : MOV dword ptr [EBP + -0x10],EAX
008a75ae : PUSH EBX
008a75af : PUSH ESI
008a75b0 : PUSH EDI
008a75b1 : PUSH EAX
008a75b2 : LEA EAX,[EBP + -0xc]
008a75b5 : MOV FS:[0x0],EAX
008a75bb : MOV EAX,dword ptr [EBP + 0x8]
008a75be : MOV ESI,dword ptr [EAX + 0xb4]
008a75c4 : MOV EAX,dword ptr [EAX + 0xb8]
008a75ca : CMP ESI,EAX
008a75cc : JZ 0x008a76e3
008a75d2 : CMP dword ptr [ESI],ECX
008a75d4 : JZ 0x008a75e2
008a75d6 : ADD ESI,0x70
008a75d9 : CMP ESI,EAX
008a75db : JNZ 0x008a75d2
008a75dd : JMP 0x008a76e3
008a75e2 : PUSH 0xc4a828
008a75e7 : LEA ECX,[EBP + -0x48]
008a75ea : CALL 0x00406460
008a75ef : MOV dword ptr [EBP + -0x4],0x0
008a75f6 : MOV ECX,dword ptr [0x0172491c]
008a75fc : LEA EAX,[EBP + -0x48]
008a75ff : PUSH EAX
008a7600 : LEA EDI,[EBP + -0x64]
008a7603 : CALL 0x0081d120
008a7608 : MOV byte ptr [EBP + -0x4],0x1
008a760c : MOV EBX,0x8
008a7611 : CMP dword ptr [ESI + 0x1c],EBX
008a7614 : JC 0x008a761b
008a7616 : MOV ESI,dword ptr [ESI + 0x8]
008a7619 : JMP 0x008a761d
008a761b : ADD ESI,EBX
008a761d : CMP dword ptr [EAX + 0x18],EBX
008a7620 : JC 0x008a7627
008a7622 : MOV EAX,dword ptr [EAX + 0x4]
008a7625 : JMP 0x008a762a
008a7627 : ADD EAX,0x4
008a762a : PUSH ESI
008a762b : PUSH EAX
008a762c : LEA ESI,[EBP + -0x2c]
008a762f : CALL 0x00404750
008a7634 : ADD ESP,0x8
008a7637 : MOV byte ptr [EBP + -0x4],0x3
008a763b : CMP dword ptr [EBP + -0x4c],EBX
008a763e : JC 0x008a7648
008a7640 : MOV ECX,dword ptr [EBP + -0x60]
008a7643 : CALL 0x006f04e0
008a7648 : MOV EDI,0x7
008a764d : XOR ESI,ESI
008a764f : XOR ECX,ECX
008a7651 : MOV dword ptr [EBP + -0x4c],EDI
008a7654 : MOV dword ptr [EBP + -0x50],ESI
008a7657 : MOV word ptr [EBP + -0x60],CX
008a765b : MOV byte ptr [EBP + -0x4],0x4
008a765f : CMP dword ptr [EBP + -0x30],EBX
008a7662 : JC 0x008a766c
008a7664 : MOV ECX,dword ptr [EBP + -0x44]
008a7667 : CALL 0x006f04e0
008a766c : MOV EAX,[0x00da9894]
008a7671 : XOR EDX,EDX
008a7673 : MOV word ptr [EBP + -0x44],DX
008a7677 : PUSH 0x2
008a7679 : LEA EDX,[EBP + -0x2c]
008a767c : MOV dword ptr [EBP + -0x30],EDI
008a767f : MOV dword ptr [EBP + -0x34],ESI
008a7682 : MOV ECX,dword ptr [EAX]
008a7684 : PUSH EDX
008a7685 : CALL 0x008ede80
008a768a : MOV ESI,EAX
008a768c : TEST ESI,ESI
008a768e : JNZ 0x008a76ac
008a7690 : MOV dword ptr [EBP + -0x4],0xffffffff
008a7697 : CMP dword ptr [EBP + -0x14],EBX
008a769a : JC 0x008a76a4
008a769c : MOV ECX,dword ptr [EBP + -0x28]
008a769f : CALL 0x006f04e0
008a76a4 : XOR EAX,EAX
008a76a6 : MOV word ptr [EBP + -0x28],AX
008a76aa : JMP 0x008a76d9
008a76ac : MOV EAX,dword ptr [ESI + 0x60]
008a76af : TEST EAX,EAX
008a76b1 : JZ 0x008a76b8
008a76b3 : PUSH ESI
008a76b4 : PUSH 0x1
008a76b6 : CALL EAX
008a76b8 : MOV dword ptr [ESI + 0x60],0x8a7060
008a76bf : MOV dword ptr [EBP + -0x4],0xffffffff
008a76c6 : CMP dword ptr [EBP + -0x14],EBX
008a76c9 : JC 0x008a76d3
008a76cb : MOV ECX,dword ptr [EBP + -0x28]
008a76ce : CALL 0x006f04e0
008a76d3 : XOR ECX,ECX
008a76d5 : MOV word ptr [EBP + -0x28],CX
008a76d9 : MOV dword ptr [EBP + -0x18],0x0
008a76e0 : MOV dword ptr [EBP + -0x14],EDI
008a76e3 : MOV ECX,dword ptr [EBP + -0xc]
008a76e6 : MOV dword ptr FS:[0x0],ECX
008a76ed : POP ECX
008a76ee : POP EDI
008a76ef : POP ESI
008a76f0 : POP EBX
008a76f1 : MOV ECX,dword ptr [EBP + -0x10]
008a76f4 : XOR ECX,EBP
008a76f6 : CALL 0x00633e6b
008a76fb : MOV ESP,EBP
008a76fd : POP EBP
008a76fe : RET 0x4
