PROGRAM  : Maestia.exe
FUNCTION : FUN_00890f30
ENTRY    : 00890f30
BODY     : [[00890f30, 008910dd]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00890f30(int *param_1)

{
  char cVar1;
  int iVar2;
  float *in_ECX;
  float *unaff_ESI;
  undefined **local_fc [47];
  undefined1 local_40 [4];
  float local_3c;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4456a;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  cVar1 = (**(code **)(*param_1 + 0x200))(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  if (cVar1 == '\0') {
    local_3c = 0.0;
    local_34 = 0;
    local_30 = 0;
    local_2c = 0;
    iVar2 = FUN_007d5b60(local_fc);
    local_1c = *(float *)(iVar2 + 0x20);
    local_14 = *(float *)(iVar2 + 0x28);
    local_8 = 0xffffffff;
    local_18 = *(float *)(iVar2 + 0x24) + 15.0;
    local_28 = (*in_ECX * 0.3 * 2.0 + *unaff_ESI) - local_1c;
    local_20 = (in_ECX[2] * 0.3 * 2.0 + unaff_ESI[2]) - local_14;
    local_24 = unaff_ESI[1] - local_18;
    local_fc[0] = &PTR_FUN_00cd083c;
    D3DXVec3Normalize(&local_28,&local_28);
    param_1 = (int *)0x0;
    iVar2 = FUN_007e9d70(*(undefined4 *)(DAT_00da93ec + 0xc),&local_28,local_40,&local_34,&param_1);
    if (iVar2 == 1) {
      ExceptionList = local_10;
      return 3;
    }
    if (iVar2 == 2) {
      if (local_3c < unaff_ESI[1]) {
        local_3c = unaff_ESI[1];
      }
      unaff_ESI[1] = local_3c;
      ExceptionList = local_10;
      return 2;
    }
  }
  ExceptionList = local_10;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
00890f30 : PUSH EBP
00890f31 : MOV EBP,ESP
00890f33 : PUSH -0x1
00890f35 : PUSH 0xb4456a
00890f3a : MOV EAX,FS:[0x0]
00890f40 : PUSH EAX
00890f41 : SUB ESP,0xec
00890f47 : PUSH EBX
00890f48 : PUSH EDI
00890f49 : MOV EAX,[0x00d66fa0]
00890f4e : XOR EAX,EBP
00890f50 : PUSH EAX
00890f51 : LEA EAX,[EBP + -0xc]
00890f54 : MOV FS:[0x0],EAX
00890f5a : MOV EDI,ECX
00890f5c : MOV EBX,dword ptr [EBP + 0x8]
00890f5f : MOV EAX,dword ptr [EBX]
00890f61 : MOV EDX,dword ptr [EAX + 0x200]
00890f67 : MOV ECX,EBX
00890f69 : CALL EDX
00890f6b : TEST AL,AL
00890f6d : JNZ 0x008910c6
00890f73 : XORPS XMM0,XMM0
00890f76 : MOV ECX,dword ptr [EBX + 0x3e8]
00890f7c : LEA EAX,[EBP + 0xffffff08]
00890f82 : PUSH EAX
00890f83 : MOVSS dword ptr [EBP + -0x38],XMM0
00890f88 : MOVSS dword ptr [EBP + -0x30],XMM0
00890f8d : MOVSS dword ptr [EBP + -0x2c],XMM0
00890f92 : MOVSS dword ptr [EBP + -0x28],XMM0
00890f97 : CALL 0x007d5b60
00890f9c : MOV dword ptr [EBP + -0x4],0x0
00890fa3 : MOVSS XMM0,dword ptr [EAX + 0x20]
00890fa8 : MOVSS XMM1,dword ptr [EAX + 0x24]
00890fad : MOVSS XMM2,dword ptr [EAX + 0x28]
00890fb2 : MOVSS dword ptr [EBP + -0x18],XMM0
00890fb7 : MOVSS dword ptr [EBP + -0x14],XMM1
00890fbc : MOVSS dword ptr [EBP + -0x10],XMM2
00890fc1 : MOV dword ptr [EBP + -0x4],0xffffffff
00890fc8 : MOVSS XMM5,dword ptr [0x00cdf0e8]
00890fd0 : MOVSS XMM0,dword ptr [EDI]
00890fd4 : MOVSS XMM6,dword ptr [0x00cdf144]
00890fdc : MOVSS XMM1,dword ptr [ESI]
00890fe0 : MOVSS XMM3,dword ptr [EBP + -0x14]
00890fe5 : MOVSS XMM4,dword ptr [ESI + 0x8]
00890fea : ADDSS XMM3,dword ptr [0x00cdf234]
00890ff2 : MOVSS XMM2,dword ptr [ESI + 0x4]
00890ff7 : MULSS XMM0,XMM5
00890ffb : MULSS XMM0,XMM6
00890fff : ADDSS XMM0,XMM1
00891003 : MOVSS XMM1,dword ptr [EDI + 0x8]
00891008 : SUBSS XMM0,dword ptr [EBP + -0x18]
0089100d : MULSS XMM1,XMM5
00891011 : LEA ECX,[EBP + -0x24]
00891014 : MULSS XMM1,XMM6
00891018 : PUSH ECX
00891019 : MOV EDX,ECX
0089101b : ADDSS XMM1,XMM4
0089101f : SUBSS XMM1,dword ptr [EBP + -0x10]
00891024 : SUBSS XMM2,XMM3
00891028 : PUSH EDX
00891029 : MOV dword ptr [EBP + 0xffffff08],0xcd083c
00891033 : MOVSS dword ptr [EBP + -0x14],XMM3
00891038 : MOVSS dword ptr [EBP + -0x24],XMM0
0089103d : MOVSS dword ptr [EBP + -0x20],XMM2
00891042 : MOVSS dword ptr [EBP + -0x1c],XMM1
00891047 : CALL 0x004ff722
0089104c : XORPS XMM0,XMM0
0089104f : MOV EAX,[0x00da93ec]
00891054 : LEA ECX,[EBP + 0x8]
00891057 : PUSH ECX
00891058 : LEA EDX,[EBP + -0x30]
0089105b : PUSH EDX
0089105c : LEA ECX,[EBP + -0x3c]
0089105f : PUSH ECX
00891060 : LEA EDX,[EBP + -0x24]
00891063 : MOVSS dword ptr [EBP + 0x8],XMM0
00891068 : MOV EAX,dword ptr [EAX + 0xc]
0089106b : PUSH EDX
0089106c : PUSH EAX
0089106d : LEA EDI,[EBP + -0x18]
00891070 : CALL 0x007e9d70
00891075 : CMP EAX,0x1
00891078 : JNZ 0x00891092
0089107a : MOV EAX,0x3
0089107f : MOV ECX,dword ptr [EBP + -0xc]
00891082 : MOV dword ptr FS:[0x0],ECX
00891089 : POP ECX
0089108a : POP EDI
0089108b : POP EBX
0089108c : MOV ESP,EBP
0089108e : POP EBP
0089108f : RET 0x4
00891092 : CMP EAX,0x2
00891095 : JNZ 0x008910c6
00891097 : MOVSS XMM0,dword ptr [ESI + 0x4]
0089109c : MOVSS XMM1,dword ptr [EBP + -0x38]
008910a1 : COMISS XMM0,XMM1
008910a4 : JBE 0x008910a9
008910a6 : MOVAPS XMM1,XMM0
008910a9 : MOVSS dword ptr [ESI + 0x4],XMM1
008910ae : MOV EAX,0x2
008910b3 : MOV ECX,dword ptr [EBP + -0xc]
008910b6 : MOV dword ptr FS:[0x0],ECX
008910bd : POP ECX
008910be : POP EDI
008910bf : POP EBX
008910c0 : MOV ESP,EBP
008910c2 : POP EBP
008910c3 : RET 0x4
008910c6 : MOV EAX,0x1
008910cb : MOV ECX,dword ptr [EBP + -0xc]
008910ce : MOV dword ptr FS:[0x0],ECX
008910d5 : POP ECX
008910d6 : POP EDI
008910d7 : POP EBX
008910d8 : MOV ESP,EBP
008910da : POP EBP
008910db : RET 0x4
