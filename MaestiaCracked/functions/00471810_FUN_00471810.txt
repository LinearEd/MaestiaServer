PROGRAM  : Maestia.exe
FUNCTION : FUN_00471810
ENTRY    : 00471810
BODY     : [[00471810, 00471893]]

============================================================
DECOMPILED C CODE
============================================================

bool FUN_00471810(int param_1,uint param_2)

{
  undefined8 *puVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  uint uVar4;
  
  if (*(char *)(param_1 + 0x10) == '\0') {
    if (*(uint *)(param_1 + 0xc) < param_2) {
      puVar1 = (undefined8 *)FUN_004716f0();
      if (*(int *)(param_1 + 8) != 0) {
        puVar3 = *(undefined8 **)(param_1 + 4);
        uVar4 = 0;
        puVar2 = puVar1;
        if (*(int *)(param_1 + 8) != 0) {
          do {
            *puVar2 = *puVar3;
            puVar2[1] = puVar3[1];
            *(undefined4 *)(puVar2 + 2) = *(undefined4 *)(puVar3 + 2);
            uVar4 = uVar4 + 1;
            puVar3 = (undefined8 *)((int)puVar3 + 0x14);
            puVar2 = (undefined8 *)((int)puVar2 + 0x14);
          } while (uVar4 < *(uint *)(param_1 + 8));
        }
      }
      FUN_004717c0();
      *(undefined8 **)(param_1 + 4) = puVar1;
      *(uint *)(param_1 + 0xc) = param_2;
    }
    return true;
  }
  return param_2 <= *(uint *)(param_1 + 0xc);
}



============================================================
DISASSEMBLY
============================================================
00471810 : PUSH EBP
00471811 : MOV EBP,ESP
00471813 : PUSH EBX
00471814 : MOV EBX,dword ptr [EBP + 0x8]
00471817 : CMP byte ptr [EBX + 0x10],0x0
0047181b : JZ 0x0047182b
0047181d : MOV EAX,dword ptr [EBP + 0xc]
00471820 : CMP dword ptr [EBX + 0xc],EAX
00471823 : POP EBX
00471824 : SBB EAX,EAX
00471826 : INC EAX
00471827 : POP EBP
00471828 : RET 0x8
0047182b : PUSH EDI
0047182c : MOV EDI,dword ptr [EBP + 0xc]
0047182f : CMP EDI,dword ptr [EBX + 0xc]
00471832 : JBE 0x0047188c
00471834 : PUSH ESI
00471835 : CALL 0x004716f0
0047183a : MOV ESI,dword ptr [EBX + 0x8]
0047183d : MOV EDI,EAX
0047183f : TEST ESI,ESI
00471841 : JBE 0x00471874
00471843 : MOV ECX,dword ptr [EBX + 0x4]
00471846 : XOR EDX,EDX
00471848 : TEST ESI,ESI
0047184a : JBE 0x00471874
0047184c : LEA ESP,[ESP]
00471850 : MOVQ XMM0,qword ptr [ECX]
00471854 : MOVQ qword ptr [EAX],XMM0
00471858 : MOVQ XMM0,qword ptr [ECX + 0x8]
0047185d : MOVQ qword ptr [EAX + 0x8],XMM0
00471862 : MOV ESI,dword ptr [ECX + 0x10]
00471865 : MOV dword ptr [EAX + 0x10],ESI
00471868 : INC EDX
00471869 : ADD EAX,0x14
0047186c : ADD ECX,0x14
0047186f : CMP EDX,dword ptr [EBX + 0x8]
00471872 : JC 0x00471850
00471874 : MOV ECX,dword ptr [EBX + 0x4]
00471877 : LEA ESI,[EBP + 0x8]
0047187a : MOV dword ptr [EBP + 0x8],ECX
0047187d : CALL 0x004717c0
00471882 : MOV EDX,dword ptr [EBP + 0xc]
00471885 : MOV dword ptr [EBX + 0x4],EDI
00471888 : MOV dword ptr [EBX + 0xc],EDX
0047188b : POP ESI
0047188c : POP EDI
0047188d : MOV AL,0x1
0047188f : POP EBX
00471890 : POP EBP
00471891 : RET 0x8
