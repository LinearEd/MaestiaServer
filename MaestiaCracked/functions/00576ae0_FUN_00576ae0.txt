PROGRAM  : Maestia.exe
FUNCTION : FUN_00576ae0
ENTRY    : 00576ae0
BODY     : [[00576ae0, 00576c2b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00576ae0(int *param_1)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  undefined4 uVar5;
  int in_ECX;
  int *piVar6;
  undefined1 local_19;
  int *local_18;
  int *local_14;
  int *local_10;
  int *local_c;
  int *local_8;
  int **ppiStack_4;
  
  iVar4 = param_1[0x20];
  if (iVar4 == 0) {
    iVar4 = FUN_00520df0();
  }
  local_10 = (int *)(in_ECX + 0xa28);
  iVar2 = *local_10;
  piVar6 = (int *)(iVar4 + 0xc);
  if (((iVar2 != 0) &&
      (local_c = piVar6,
      iVar4 = FUN_0051db50(piVar6,*(uint *)(*piVar6 + 0xc) & *(uint *)(iVar2 + 4)), -1 < iVar4)) &&
     (iVar2 = iVar2 + (iVar4 * 3 + 3) * 4, iVar2 != 0)) {
    local_8 = *(int **)(iVar2 + 4);
    local_18 = (int *)0x0;
    local_14 = (int *)0x0;
    if (local_8 != (int *)0x0) {
      piVar6 = local_8;
      do {
        iVar4 = param_1[0x1a];
        local_19 = 0;
        uVar5 = (**(code **)(*param_1 + 0x5c))(piVar6,piVar6 + 1,&local_19);
        (**(code **)(iVar4 + 0xc))(uVar5);
        piVar3 = (int *)piVar6[5];
        if ((char)piVar6[6] == '\0') {
          FUN_00526bc0();
          piVar1 = (int *)(*piVar6 + 8);
          *piVar1 = *piVar1 + -1;
          if (*piVar1 == 0) {
            FUN_00525340();
          }
          FUN_00515cf0(piVar6);
        }
        else if (local_18 == (int *)0x0) {
          piVar6[5] = 0;
          local_18 = piVar6;
          local_14 = piVar6;
        }
        else {
          local_14[5] = (int)piVar6;
          piVar6[5] = 0;
          local_14 = piVar6;
        }
        piVar6 = piVar3;
      } while (piVar3 != (int *)0x0);
      piVar6 = local_c;
      if (local_18 != (int *)0x0) {
        if (local_18 == local_8) {
          return;
        }
        local_8 = local_c;
        ppiStack_4 = &local_18;
        FUN_00575a40(local_10,&local_8);
        return;
      }
    }
    FUN_00570120(piVar6);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00576ae0 : SUB ESP,0x1c
00576ae3 : PUSH EBX
00576ae4 : PUSH EBP
00576ae5 : PUSH ESI
00576ae6 : MOV ESI,ECX
00576ae8 : MOV ECX,dword ptr [ESP + 0x2c]
00576aec : MOV EAX,dword ptr [ECX + 0x80]
00576af2 : XOR EBX,EBX
00576af4 : PUSH EDI
00576af5 : CMP EAX,EBX
00576af7 : JNZ 0x00576afe
00576af9 : CALL 0x00520df0
00576afe : LEA EDI,[ESI + 0xa28]
00576b04 : MOV ESI,dword ptr [EDI]
00576b06 : LEA EBP,[EAX + 0xc]
00576b09 : MOV dword ptr [ESP + 0x20],EBP
00576b0d : MOV dword ptr [ESP + 0x1c],EDI
00576b11 : CMP ESI,EBX
00576b13 : JZ 0x00576c22
00576b19 : MOV EAX,dword ptr [EBP]
00576b1c : MOV ECX,dword ptr [EAX + 0xc]
00576b1f : AND ECX,dword ptr [ESI + 0x4]
00576b22 : PUSH ECX
00576b23 : PUSH EBP
00576b24 : MOV ECX,EDI
00576b26 : CALL 0x0051db50
00576b2b : CMP EAX,EBX
00576b2d : JL 0x00576c22
00576b33 : LEA EDX,[EAX + EAX*0x2 + 0x3]
00576b37 : LEA ESI,[ESI + EDX*0x4]
00576b3a : CMP ESI,EBX
00576b3c : JZ 0x00576c22
00576b42 : MOV ESI,dword ptr [ESI + 0x4]
00576b45 : MOV dword ptr [ESP + 0x24],ESI
00576b49 : MOV dword ptr [ESP + 0x14],EBX
00576b4d : MOV dword ptr [ESP + 0x18],EBX
00576b51 : CMP ESI,EBX
00576b53 : JZ 0x00576c1a
00576b59 : MOV EBX,dword ptr [ESP + 0x30]
00576b5d : ADD EBX,0x68
00576b60 : MOV ECX,dword ptr [ESP + 0x30]
00576b64 : MOV EDX,dword ptr [ECX]
00576b66 : MOV EDI,dword ptr [EBX]
00576b68 : LEA EAX,[ESP + 0x13]
00576b6c : PUSH EAX
00576b6d : MOV EAX,dword ptr [EDX + 0x5c]
00576b70 : LEA EBP,[ESI + 0x4]
00576b73 : PUSH EBP
00576b74 : PUSH ESI
00576b75 : MOV byte ptr [ESP + 0x1f],0x0
00576b7a : ADD EDI,0xc
00576b7d : CALL EAX
00576b7f : MOV EDX,dword ptr [EDI]
00576b81 : PUSH EAX
00576b82 : MOV ECX,EBX
00576b84 : CALL EDX
00576b86 : CMP byte ptr [ESI + 0x18],0x0
00576b8a : MOV EDI,dword ptr [ESI + 0x14]
00576b8d : JZ 0x00576bbb
00576b8f : CMP dword ptr [ESP + 0x14],0x0
00576b94 : JNZ 0x00576ba7
00576b96 : MOV dword ptr [ESP + 0x14],ESI
00576b9a : MOV dword ptr [ESP + 0x18],ESI
00576b9e : MOV dword ptr [ESI + 0x14],0x0
00576ba5 : JMP 0x00576bd5
00576ba7 : MOV EAX,dword ptr [ESP + 0x18]
00576bab : MOV dword ptr [EAX + 0x14],ESI
00576bae : MOV dword ptr [ESP + 0x18],ESI
00576bb2 : MOV dword ptr [ESI + 0x14],0x0
00576bb9 : JMP 0x00576bd5
00576bbb : MOV ECX,EBP
00576bbd : CALL 0x00526bc0
00576bc2 : MOV ECX,dword ptr [ESI]
00576bc4 : ADD dword ptr [ECX + 0x8],-0x1
00576bc8 : JNZ 0x00576bcf
00576bca : CALL 0x00525340
00576bcf : PUSH ESI
00576bd0 : CALL 0x00515cf0
00576bd5 : MOV ESI,EDI
00576bd7 : TEST EDI,EDI
00576bd9 : JNZ 0x00576b60
00576bdb : MOV EAX,dword ptr [ESP + 0x14]
00576bdf : TEST EAX,EAX
00576be1 : JZ 0x00576c12
00576be3 : CMP EAX,dword ptr [ESP + 0x24]
00576be7 : JZ 0x00576c22
00576be9 : MOV ECX,dword ptr [ESP + 0x20]
00576bed : LEA EAX,[ESP + 0x24]
00576bf1 : MOV dword ptr [ESP + 0x24],ECX
00576bf5 : MOV ECX,dword ptr [ESP + 0x1c]
00576bf9 : PUSH EAX
00576bfa : LEA EDX,[ESP + 0x18]
00576bfe : PUSH ECX
00576bff : MOV dword ptr [ESP + 0x30],EDX
00576c03 : CALL 0x00575a40
00576c08 : POP EDI
00576c09 : POP ESI
00576c0a : POP EBP
00576c0b : POP EBX
00576c0c : ADD ESP,0x1c
00576c0f : RET 0x4
00576c12 : MOV EDI,dword ptr [ESP + 0x1c]
00576c16 : MOV EBP,dword ptr [ESP + 0x20]
00576c1a : PUSH EBP
00576c1b : MOV ECX,EDI
00576c1d : CALL 0x00570120
00576c22 : POP EDI
00576c23 : POP ESI
00576c24 : POP EBP
00576c25 : POP EBX
00576c26 : ADD ESP,0x1c
00576c29 : RET 0x4
