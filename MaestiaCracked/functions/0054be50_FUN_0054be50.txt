PROGRAM  : Maestia.exe
FUNCTION : FUN_0054be50
ENTRY    : 0054be50
BODY     : [[0054be50, 0054bf7f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0054be50(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  float fVar1;
  float fVar2;
  int iVar3;
  undefined4 uVar4;
  int in_ECX;
  
  fVar1 = (float)*(int *)(param_1 + 0x50);
  if (*(int *)(param_1 + 0x50) < 0) {
    fVar1 = fVar1 + 4.2949673e+09;
  }
  iVar3 = FUN_005993d0();
  fVar2 = (float)iVar3;
  if (iVar3 < 0) {
    fVar2 = fVar2 + 4.2949673e+09;
  }
  if (*(char *)(in_ECX + 0x18) == '\0') {
    if (*(int *)(param_1 + 0x118) == 0) {
      uVar4 = 0;
    }
    else {
      uVar4 = *(undefined4 *)(*(int *)(param_1 + 0x118) + 0x14);
    }
    FUN_005d2b80(uVar4);
  }
  if ((*(int *)(in_ECX + 4) != 0) &&
     ((((*(char *)(in_ECX + 0x18) == '\0' || (fVar1 != *(float *)(in_ECX + 0xa4))) ||
       (fVar2 != *(float *)(in_ECX + 0xa8))) ||
      (*(short *)(in_ECX + 0xac) != *(short *)(param_1 + 0x13c))))) {
    *(float *)(in_ECX + 0xa4) = fVar1;
    *(float *)(in_ECX + 0xa8) = fVar2;
    *(undefined2 *)(in_ECX + 0xac) = *(undefined2 *)(param_1 + 0x13c);
    uVar4 = FUN_0054b540(*(undefined4 *)(param_1 + 0x3c));
    FUN_005d33d0(in_ECX + 0x1c,param_1 + 0x28,param_1 + 0x40,uVar4,*(undefined4 *)(in_ECX + 0xa4),
                 *(undefined4 *)(in_ECX + 0xa8));
  }
  iVar3 = *(int *)(in_ECX + 0x24);
  if ((iVar3 != 0) && ((*(int *)(iVar3 + 0x54) != 0 || (*(int *)(iVar3 + 0x60) != 0)))) {
    FUN_005d7770(param_2,param_3,param_4,0,0);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0054be50 : PUSH ECX
0054be51 : PUSH EBX
0054be52 : PUSH ESI
0054be53 : PUSH EDI
0054be54 : MOV EDI,dword ptr [ESP + 0x14]
0054be58 : MOV EAX,dword ptr [EDI + 0x50]
0054be5b : FILD dword ptr [EDI + 0x50]
0054be5e : MOV ESI,ECX
0054be60 : TEST EAX,EAX
0054be62 : JGE 0x0054be6a
0054be64 : FADD float ptr [0x00cdf0e0]
0054be6a : LEA EBX,[EDI + 0x28]
0054be6d : FSTP float ptr [ESP + 0x14]
0054be71 : MOV ECX,EBX
0054be73 : CALL 0x005993d0
0054be78 : MOV dword ptr [ESP + 0xc],EAX
0054be7c : FILD dword ptr [ESP + 0xc]
0054be80 : TEST EAX,EAX
0054be82 : JGE 0x0054be8a
0054be84 : FADD float ptr [0x00cdf0e0]
0054be8a : CMP byte ptr [ESI + 0x18],0x0
0054be8e : FSTP float ptr [ESP + 0xc]
0054be92 : JNZ 0x0054bead
0054be94 : MOV EAX,dword ptr [EDI + 0x118]
0054be9a : TEST EAX,EAX
0054be9c : JZ 0x0054bea3
0054be9e : MOV EAX,dword ptr [EAX + 0x14]
0054bea1 : JMP 0x0054bea5
0054bea3 : XOR EAX,EAX
0054bea5 : PUSH EAX
0054bea6 : MOV ECX,ESI
0054bea8 : CALL 0x005d2b80
0054bead : CMP dword ptr [ESI + 0x4],0x0
0054beb1 : JZ 0x0054bf4b
0054beb7 : CMP byte ptr [ESI + 0x18],0x0
0054bebb : FLD float ptr [ESP + 0x14]
0054bebf : FLD float ptr [ESP + 0xc]
0054bec3 : JZ 0x0054bef7
0054bec5 : FLD float ptr [ESI + 0xa4]
0054becb : FLD ST2
0054becd : FUCOMPP
0054becf : FNSTSW AX
0054bed1 : TEST AH,0x44
0054bed4 : JP 0x0054bef7
0054bed6 : FLD float ptr [ESI + 0xa8]
0054bedc : FLD ST1
0054bede : FUCOMPP
0054bee0 : FNSTSW AX
0054bee2 : TEST AH,0x44
0054bee5 : JP 0x0054bef7
0054bee7 : MOV CX,word ptr [ESI + 0xac]
0054beee : CMP CX,word ptr [EDI + 0x13c]
0054bef5 : JZ 0x0054bf47
0054bef7 : FXCH
0054bef9 : MOV ECX,EDI
0054befb : FSTP float ptr [ESI + 0xa4]
0054bf01 : FSTP float ptr [ESI + 0xa8]
0054bf07 : MOV DX,word ptr [EDI + 0x13c]
0054bf0e : MOV word ptr [ESI + 0xac],DX
0054bf15 : MOV EAX,dword ptr [EDI + 0x3c]
0054bf18 : PUSH EAX
0054bf19 : CALL 0x0054b540
0054bf1e : FLD float ptr [ESI + 0xa8]
0054bf24 : SUB ESP,0x8
0054bf27 : FSTP float ptr [ESP + 0x4]
0054bf2b : ADD EDI,0x40
0054bf2e : FLD float ptr [ESI + 0xa4]
0054bf34 : MOV ECX,ESI
0054bf36 : FSTP float ptr [ESP]
0054bf39 : PUSH EAX
0054bf3a : PUSH EDI
0054bf3b : PUSH EBX
0054bf3c : LEA EAX,[ESI + 0x1c]
0054bf3f : PUSH EAX
0054bf40 : CALL 0x005d33d0
0054bf45 : JMP 0x0054bf4b
0054bf47 : FSTP ST1
0054bf49 : FSTP ST0
0054bf4b : MOV EAX,dword ptr [ESI + 0x24]
0054bf4e : LEA ECX,[ESI + 0x1c]
0054bf51 : POP EDI
0054bf52 : POP ESI
0054bf53 : POP EBX
0054bf54 : TEST EAX,EAX
0054bf56 : JZ 0x0054bf7c
0054bf58 : CMP dword ptr [EAX + 0x54],0x0
0054bf5c : JNZ 0x0054bf64
0054bf5e : CMP dword ptr [EAX + 0x60],0x0
0054bf62 : JZ 0x0054bf7c
0054bf64 : MOV EDX,dword ptr [ESP + 0x14]
0054bf68 : MOV EAX,dword ptr [ESP + 0x10]
0054bf6c : PUSH 0x0
0054bf6e : PUSH 0x0
0054bf70 : PUSH EDX
0054bf71 : MOV EDX,dword ptr [ESP + 0x18]
0054bf75 : PUSH EAX
0054bf76 : PUSH EDX
0054bf77 : CALL 0x005d7770
0054bf7c : POP ECX
0054bf7d : RET 0x10
