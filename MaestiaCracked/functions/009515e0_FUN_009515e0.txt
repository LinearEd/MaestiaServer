PROGRAM  : Maestia.exe
FUNCTION : FUN_009515e0
ENTRY    : 009515e0
BODY     : [[009515e0, 0095174e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009515e0(short param_1)

{
  short sVar1;
  int iVar2;
  int *piVar3;
  short sVar4;
  int iVar5;
  int unaff_ESI;
  int *piVar6;
  
  sVar1 = *(short *)(unaff_ESI + 0x4a);
  piVar6 = *(int **)(unaff_ESI + 0x3c);
  sVar4 = 0;
  if (piVar6 == *(int **)(unaff_ESI + 0x40)) {
    return;
  }
  do {
    if (sVar4 == (short)(sVar1 + param_1)) {
      iVar2 = *piVar6;
      if (*(char *)(iVar2 + 0x20) == '\0') {
        *(undefined1 *)(iVar2 + 0x20) = 1;
      }
      else {
        *(undefined1 *)(iVar2 + 0x20) = 0;
      }
      FUN_00951190(unaff_ESI);
      piVar3 = DAT_00da9894;
      if (*(char *)(unaff_ESI + 0x48) != '\0') {
        *(undefined1 *)(unaff_ESI + 0x48) = 0;
        if ((*piVar3 != 0) && (piVar3 = *(int **)(*piVar3 + 0x114), piVar3 != (int *)0x0)) {
          (**(code **)(*piVar3 + 4))
                    (piVar3,"mc_petfeed.RepairPopupCheckEquipItemRepair",&DAT_00c755f8,0);
        }
      }
      piVar3 = DAT_00da9894;
      if (*(char *)(unaff_ESI + 0x49) != '\0') {
        *(undefined1 *)(unaff_ESI + 0x49) = 0;
        if ((*piVar3 != 0) && (piVar3 = *(int **)(*piVar3 + 0x114), piVar3 != (int *)0x0)) {
          (**(code **)(*piVar3 + 4))
                    (piVar3,"mc_petfeed.RepairPopupCheckAllItemRepair",&DAT_00c75628,0);
        }
      }
      if (*(int *)(*piVar6 + 0x28) != 0) {
        iVar5 = FUN_009f2740(*(undefined4 *)(*(int *)(*piVar6 + 0x28) + 0x10));
        iVar2 = *DAT_00da9894;
        if (*(char *)(*piVar6 + 0x20) == '\0') {
          if (iVar2 == 0) {
            return;
          }
          piVar6 = *(int **)(iVar2 + 0x114);
          if (piVar6 == (int *)0x0) {
            return;
          }
          (**(code **)(*piVar6 + 4))
                    (piVar6,"mc_petfeed.RepairPopupSelectedCancelItem","%d,%b",param_1,
                     *(undefined1 *)(iVar5 + 0xb1));
          return;
        }
        if (iVar2 == 0) {
          return;
        }
        piVar6 = *(int **)(iVar2 + 0x114);
        if (piVar6 == (int *)0x0) {
          return;
        }
        (**(code **)(*piVar6 + 4))
                  (piVar6,"mc_petfeed.RepairPopupSelectedItem","%d,%b",param_1,
                   *(undefined1 *)(iVar5 + 0xb1));
        return;
      }
    }
    else {
      sVar4 = sVar4 + 1;
      piVar6 = piVar6 + 1;
    }
    if (piVar6 == *(int **)(unaff_ESI + 0x40)) {
      return;
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
009515e0 : PUSH EBP
009515e1 : MOV EBP,ESP
009515e3 : SUB ESP,0xc
009515e6 : MOV AX,word ptr [ESI + 0x4a]
009515ea : ADD AX,word ptr [EBP + 0x8]
009515ee : PUSH EBX
009515ef : PUSH EDI
009515f0 : MOV EDI,dword ptr [ESI + 0x3c]
009515f3 : MOVZX ECX,AX
009515f6 : XOR EBX,EBX
009515f8 : MOV dword ptr [EBP + -0x8],ECX
009515fb : MOV dword ptr [EBP + -0x4],EBX
009515fe : CMP EDI,dword ptr [ESI + 0x40]
00951601 : JZ 0x00951747
00951607 : MOV DX,word ptr [EBP + -0x4]
0095160b : CMP DX,word ptr [EBP + -0x8]
0095160f : JNZ 0x00951700
00951615 : MOV EAX,dword ptr [EDI]
00951617 : MOV ECX,dword ptr [ESI + 0x4c]
0095161a : CMP byte ptr [EAX + 0x20],BL
0095161d : JZ 0x00951629
0095161f : MOV byte ptr [EAX + 0x20],BL
00951622 : MOV EAX,dword ptr [EDI]
00951624 : SUB ECX,dword ptr [EAX + 0x24]
00951627 : JMP 0x00951632
00951629 : MOV byte ptr [EAX + 0x20],0x1
0095162d : MOV EDX,dword ptr [EDI]
0095162f : ADD ECX,dword ptr [EDX + 0x24]
00951632 : PUSH ESI
00951633 : CALL 0x00951190
00951638 : CMP byte ptr [ESI + 0x48],BL
0095163b : JZ 0x0095166b
0095163d : MOV EAX,[0x00da9894]
00951642 : MOV byte ptr [ESI + 0x48],BL
00951645 : MOV EAX,dword ptr [EAX]
00951647 : CMP EAX,EBX
00951649 : JZ 0x0095166b
0095164b : MOV EAX,dword ptr [EAX + 0x114]
00951651 : CMP EAX,EBX
00951653 : JZ 0x0095166b
00951655 : MOV ECX,dword ptr [EAX]
00951657 : MOV EDX,dword ptr [ECX + 0x4]
0095165a : PUSH EBX
0095165b : PUSH 0xc755f8
00951660 : PUSH 0xc755fc
00951665 : PUSH EAX
00951666 : CALL EDX
00951668 : ADD ESP,0x10
0095166b : CMP byte ptr [ESI + 0x49],BL
0095166e : JZ 0x0095169e
00951670 : MOV EAX,[0x00da9894]
00951675 : MOV byte ptr [ESI + 0x49],BL
00951678 : MOV EAX,dword ptr [EAX]
0095167a : CMP EAX,EBX
0095167c : JZ 0x0095169e
0095167e : MOV EAX,dword ptr [EAX + 0x114]
00951684 : CMP EAX,EBX
00951686 : JZ 0x0095169e
00951688 : MOV ECX,dword ptr [EAX]
0095168a : MOV EDX,dword ptr [ECX + 0x4]
0095168d : PUSH EBX
0095168e : PUSH 0xc75628
00951693 : PUSH 0xc7562c
00951698 : PUSH EAX
00951699 : CALL EDX
0095169b : ADD ESP,0x10
0095169e : MOV EAX,dword ptr [EDI]
009516a0 : CMP dword ptr [EAX + 0x28],EBX
009516a3 : JZ 0x00951706
009516a5 : MOV ECX,EAX
009516a7 : MOV EDX,dword ptr [ECX + 0x28]
009516aa : MOV EAX,dword ptr [EDX + 0x10]
009516ad : MOV ECX,dword ptr [0x017247f0]
009516b3 : PUSH EAX
009516b4 : CALL 0x009f2740
009516b9 : MOV ECX,dword ptr [EDI]
009516bb : MOV EDX,dword ptr [0x00da9894]
009516c1 : CMP byte ptr [ECX + 0x20],BL
009516c4 : MOV ECX,dword ptr [EDX]
009516c6 : JZ 0x00951717
009516c8 : CMP ECX,EBX
009516ca : JZ 0x00951747
009516cc : MOV ECX,dword ptr [ECX + 0x114]
009516d2 : CMP ECX,EBX
009516d4 : JZ 0x00951747
009516d6 : MOVZX EAX,byte ptr [EAX + 0xb1]
009516dd : MOV EDX,dword ptr [ECX]
009516df : PUSH EAX
009516e0 : MOVZX EAX,word ptr [EBP + 0x8]
009516e4 : PUSH EAX
009516e5 : PUSH 0xc756a0
009516ea : PUSH 0xc756a8
009516ef : PUSH ECX
009516f0 : MOV ECX,dword ptr [EDX + 0x4]
009516f3 : CALL ECX
009516f5 : ADD ESP,0x14
009516f8 : POP EDI
009516f9 : POP EBX
009516fa : MOV ESP,EBP
009516fc : POP EBP
009516fd : RET 0x4
00951700 : INC dword ptr [EBP + -0x4]
00951703 : ADD EDI,0x4
00951706 : CMP EDI,dword ptr [ESI + 0x40]
00951709 : JNZ 0x00951607
0095170f : POP EDI
00951710 : POP EBX
00951711 : MOV ESP,EBP
00951713 : POP EBP
00951714 : RET 0x4
00951717 : CMP ECX,EBX
00951719 : JZ 0x00951747
0095171b : MOV ECX,dword ptr [ECX + 0x114]
00951721 : CMP ECX,EBX
00951723 : JZ 0x00951747
00951725 : MOVZX EAX,byte ptr [EAX + 0xb1]
0095172c : MOV EDX,dword ptr [ECX]
0095172e : PUSH EAX
0095172f : MOVZX EAX,word ptr [EBP + 0x8]
00951733 : PUSH EAX
00951734 : PUSH 0xc756cc
00951739 : PUSH 0xc756d4
0095173e : PUSH ECX
0095173f : MOV ECX,dword ptr [EDX + 0x4]
00951742 : CALL ECX
00951744 : ADD ESP,0x14
00951747 : POP EDI
00951748 : POP EBX
00951749 : MOV ESP,EBP
0095174b : POP EBP
0095174c : RET 0x4
