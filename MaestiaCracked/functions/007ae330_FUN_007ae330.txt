PROGRAM  : Maestia.exe
FUNCTION : FUN_007ae330
ENTRY    : 007ae330
BODY     : [[007ae330, 007ae4b4] [007ae4c0, 007ae4f2] [007ae501, 007ae562] [007ae571, 007ae6db]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007ae330(int param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  void **ppvVar5;
  char cVar6;
  uint uVar7;
  int iVar8;
  int *piVar9;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b39cda;
  local_14 = ExceptionList;
  uVar7 = DAT_00d66fa0 ^ (uint)&stack0xffffffd0;
  if (*(char *)(param_1 + 0x2be) != '\0') {
    piVar1 = *(int **)(param_1 + 0x34c);
    piVar9 = (int *)*piVar1;
    ppvVar5 = &local_14;
    while (ExceptionList = ppvVar5, piVar9 != piVar1) {
      piVar1 = (int *)piVar9[10];
      (**(code **)(*piVar1 + 0x18))(uVar7);
      (**(code **)(*piVar1 + 0x1c))();
      (**(code **)*piVar1)(1);
      FUN_00430160();
      ppvVar5 = ExceptionList;
      piVar1 = *(int **)(param_1 + 0x34c);
    }
    FUN_0044c480(*(undefined4 *)(*(int *)(param_1 + 0x34c) + 4));
    *(int *)(*(int *)(param_1 + 0x34c) + 4) = *(int *)(param_1 + 0x34c);
    *(undefined4 *)(param_1 + 0x350) = 0;
    *(undefined4 *)*(undefined4 *)(param_1 + 0x34c) = *(undefined4 *)(param_1 + 0x34c);
    *(int *)(*(int *)(param_1 + 0x34c) + 8) = *(int *)(param_1 + 0x34c);
    piVar9 = (int *)**(int **)(param_1 + 0x358);
    if (piVar9 != *(int **)(param_1 + 0x358)) {
      do {
        iVar2 = piVar9[10];
        if (*(int **)(iVar2 + 0x2c) != (int *)0x0) {
          (**(code **)(**(int **)(iVar2 + 0x2c) + 0x28))(iVar2 + 0xc);
        }
        *(undefined4 *)(iVar2 + 0x2c) = 0;
        FUN_007c4290(iVar2);
        if (*(char *)((int)piVar9 + 0x2d) == '\0') {
          piVar1 = (int *)piVar9[2];
          if (*(char *)((int)piVar1 + 0x2d) == '\0') {
            cVar6 = *(char *)(*piVar1 + 0x2d);
            piVar9 = piVar1;
            piVar1 = (int *)*piVar1;
            while (cVar6 == '\0') {
              cVar6 = *(char *)(*piVar1 + 0x2d);
              piVar9 = piVar1;
              piVar1 = (int *)*piVar1;
            }
          }
          else {
            cVar6 = *(char *)(piVar9[1] + 0x2d);
            piVar4 = (int *)piVar9[1];
            piVar1 = piVar9;
            while ((piVar9 = piVar4, cVar6 == '\0' && (piVar1 == (int *)piVar9[2]))) {
              cVar6 = *(char *)(piVar9[1] + 0x2d);
              piVar4 = (int *)piVar9[1];
              piVar1 = piVar9;
            }
          }
        }
      } while (piVar9 != *(int **)(param_1 + 0x358));
    }
    FUN_0044c480(*(undefined4 *)(*(int *)(param_1 + 0x358) + 4));
    *(int *)(*(int *)(param_1 + 0x358) + 4) = *(int *)(param_1 + 0x358);
    *(undefined4 *)(param_1 + 0x35c) = 0;
    *(undefined4 *)*(undefined4 *)(param_1 + 0x358) = *(undefined4 *)(param_1 + 0x358);
    *(int *)(*(int *)(param_1 + 0x358) + 8) = *(int *)(param_1 + 0x358);
    piVar9 = *(int **)(param_1 + 0x334);
    iVar2 = *piVar9;
    *piVar9 = (int)piVar9;
    *(int *)(*(int *)(param_1 + 0x334) + 4) = *(int *)(param_1 + 0x334);
    *(undefined4 *)(param_1 + 0x338) = 0;
    if (iVar2 != *(int *)(param_1 + 0x334)) {
      uStack_c = 0xffffffff;
      if (*(uint *)(iVar2 + 0x20) < 8) {
        *(undefined4 *)(iVar2 + 0x20) = 7;
        *(undefined4 *)(iVar2 + 0x1c) = 0;
        *(undefined2 *)(iVar2 + 0xc) = 0;
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    piVar9 = *(int **)(param_1 + 0x340);
    iVar2 = *piVar9;
    *piVar9 = (int)piVar9;
    *(int *)(*(int *)(param_1 + 0x340) + 4) = *(int *)(param_1 + 0x340);
    *(undefined4 *)(param_1 + 0x344) = 0;
    if (iVar2 != *(int *)(param_1 + 0x340)) {
      uStack_c = 0xffffffff;
      if (*(uint *)(iVar2 + 0x20) < 8) {
        *(undefined4 *)(iVar2 + 0x20) = 7;
        *(undefined4 *)(iVar2 + 0x1c) = 0;
        *(undefined2 *)(iVar2 + 0xc) = 0;
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    piVar9 = *(int **)(param_1 + 0x328);
    piVar1 = (int *)*piVar9;
    while (piVar1 != piVar9) {
      if (((*(char *)(piVar1 + 0x29a) == '\x01') && (*(int *)(param_1 + 0x424) != 0)) &&
         (piVar1[0x29d] != 0)) {
        FUN_00779880(piVar1[0x29d] + 0xc);
      }
      FUN_0045d400();
      piVar9 = *(int **)(param_1 + 0x328);
    }
    if (*(int *)(param_1 + 0x424) != 0) {
      FUN_00779740();
    }
    piVar9 = *(int **)(param_1 + 0x328);
    piVar1 = (int *)*piVar9;
    while (piVar1 != piVar9) {
      if (piVar1[0x28a] == 6) {
        FUN_007e0700(*(undefined4 *)(param_1 + 0x278));
      }
      if (*(char *)(piVar1 + 0x29a) == '\x01') {
        iVar2 = piVar1[0x29d];
        if (iVar2 != 0) {
          cVar6 = FUN_007d5cf0(iVar2);
          if (cVar6 != '\0') {
            iVar3 = *(int *)(param_1 + 0x334);
            iVar8 = FUN_00476390(iVar3,*(undefined4 *)(iVar3 + 4),iVar2 + 0xc);
            FUN_00476450();
            *(int *)(iVar3 + 4) = iVar8;
            **(int **)(iVar8 + 4) = iVar8;
          }
          cVar6 = FUN_007d5bf0(iVar2);
          if (cVar6 != '\0') {
            iVar3 = *(int *)(param_1 + 0x340);
            iVar8 = FUN_00476390(iVar3,*(undefined4 *)(iVar3 + 4),iVar2 + 0xc);
            FUN_00476450();
            *(int *)(iVar3 + 4) = iVar8;
            **(int **)(iVar8 + 4) = iVar8;
          }
          if (*(int *)(param_1 + 0x424) != 0) {
            FUN_00779d50(iVar2);
          }
        }
      }
      else {
        *(undefined1 *)((int)piVar1 + 0xa69) = 0;
      }
      FUN_0045d400();
      piVar9 = *(int **)(param_1 + 0x328);
    }
    *(undefined1 *)(param_1 + 0x2be) = 0;
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
007ae330 : PUSH EBP
007ae331 : MOV EBP,ESP
007ae333 : AND ESP,0xfffffff8
007ae336 : PUSH -0x1
007ae338 : PUSH 0xb39cda
007ae33d : MOV EAX,FS:[0x0]
007ae343 : PUSH EAX
007ae344 : SUB ESP,0x10
007ae347 : PUSH EBX
007ae348 : PUSH ESI
007ae349 : PUSH EDI
007ae34a : MOV EAX,[0x00d66fa0]
007ae34f : XOR EAX,ESP
007ae351 : PUSH EAX
007ae352 : LEA EAX,[ESP + 0x20]
007ae356 : MOV FS:[0x0],EAX
007ae35c : MOV EBX,dword ptr [EBP + 0x8]
007ae35f : CMP byte ptr [EBX + 0x2be],0x0
007ae366 : JZ 0x007ae6c7
007ae36c : MOV ECX,dword ptr [EBX + 0x34c]
007ae372 : MOV EAX,dword ptr [ECX]
007ae374 : MOV dword ptr [ESP + 0x14],EAX
007ae378 : CMP EAX,ECX
007ae37a : JZ 0x007ae3b6
007ae37c : LEA ESP,[ESP]
007ae380 : MOV ESI,dword ptr [EAX + 0x28]
007ae383 : MOV EAX,dword ptr [ESI]
007ae385 : MOV EDX,dword ptr [EAX + 0x18]
007ae388 : MOV ECX,ESI
007ae38a : CALL EDX
007ae38c : MOV EAX,dword ptr [ESI]
007ae38e : MOV EDX,dword ptr [EAX + 0x1c]
007ae391 : MOV ECX,ESI
007ae393 : CALL EDX
007ae395 : MOV EAX,dword ptr [ESI]
007ae397 : MOV EDX,dword ptr [EAX]
007ae399 : PUSH 0x1
007ae39b : MOV ECX,ESI
007ae39d : CALL EDX
007ae39f : LEA EDX,[ESP + 0x14]
007ae3a3 : CALL 0x00430160
007ae3a8 : MOV ECX,dword ptr [EBX + 0x34c]
007ae3ae : MOV EAX,dword ptr [ESP + 0x14]
007ae3b2 : CMP EAX,ECX
007ae3b4 : JNZ 0x007ae380
007ae3b6 : MOV EAX,dword ptr [EBX + 0x34c]
007ae3bc : MOV ECX,dword ptr [EAX + 0x4]
007ae3bf : LEA ESI,[EBX + 0x348]
007ae3c5 : PUSH ECX
007ae3c6 : MOV ECX,ESI
007ae3c8 : CALL 0x0044c480
007ae3cd : MOV EAX,dword ptr [ESI + 0x4]
007ae3d0 : MOV dword ptr [EAX + 0x4],EAX
007ae3d3 : MOV EAX,dword ptr [ESI + 0x4]
007ae3d6 : MOV dword ptr [ESI + 0x8],0x0
007ae3dd : MOV dword ptr [EAX],EAX
007ae3df : MOV ESI,dword ptr [ESI + 0x4]
007ae3e2 : MOV dword ptr [ESI + 0x8],ESI
007ae3e5 : MOV EAX,dword ptr [EBX + 0x358]
007ae3eb : MOV ESI,dword ptr [EAX]
007ae3ed : CMP ESI,EAX
007ae3ef : JZ 0x007ae461
007ae3f1 : MOV EDI,dword ptr [ESI + 0x28]
007ae3f4 : MOV ECX,dword ptr [EDI + 0x2c]
007ae3f7 : TEST ECX,ECX
007ae3f9 : JZ 0x007ae406
007ae3fb : MOV EDX,dword ptr [ECX]
007ae3fd : MOV EDX,dword ptr [EDX + 0x28]
007ae400 : LEA EAX,[EDI + 0xc]
007ae403 : PUSH EAX
007ae404 : CALL EDX
007ae406 : MOV ECX,dword ptr [0x017251f8]
007ae40c : PUSH EDI
007ae40d : MOV dword ptr [EDI + 0x2c],0x0
007ae414 : CALL 0x007c4290
007ae419 : CMP byte ptr [ESI + 0x2d],0x0
007ae41d : JNZ 0x007ae459
007ae41f : MOV EAX,dword ptr [ESI + 0x8]
007ae422 : CMP byte ptr [EAX + 0x2d],0x0
007ae426 : JNZ 0x007ae43e
007ae428 : MOV ESI,EAX
007ae42a : MOV EAX,dword ptr [ESI]
007ae42c : CMP byte ptr [EAX + 0x2d],0x0
007ae430 : JNZ 0x007ae459
007ae432 : MOV ESI,EAX
007ae434 : MOV EAX,dword ptr [ESI]
007ae436 : CMP byte ptr [EAX + 0x2d],0x0
007ae43a : JZ 0x007ae432
007ae43c : JMP 0x007ae459
007ae43e : MOV EAX,dword ptr [ESI + 0x4]
007ae441 : CMP byte ptr [EAX + 0x2d],0x0
007ae445 : JNZ 0x007ae457
007ae447 : CMP ESI,dword ptr [EAX + 0x8]
007ae44a : JNZ 0x007ae457
007ae44c : MOV ESI,EAX
007ae44e : MOV EAX,dword ptr [EAX + 0x4]
007ae451 : CMP byte ptr [EAX + 0x2d],0x0
007ae455 : JZ 0x007ae447
007ae457 : MOV ESI,EAX
007ae459 : CMP ESI,dword ptr [EBX + 0x358]
007ae45f : JNZ 0x007ae3f1
007ae461 : MOV EAX,dword ptr [EBX + 0x358]
007ae467 : MOV ECX,dword ptr [EAX + 0x4]
007ae46a : LEA ESI,[EBX + 0x354]
007ae470 : PUSH ECX
007ae471 : MOV ECX,ESI
007ae473 : CALL 0x0044c480
007ae478 : MOV EAX,dword ptr [ESI + 0x4]
007ae47b : MOV dword ptr [EAX + 0x4],EAX
007ae47e : MOV EAX,dword ptr [ESI + 0x4]
007ae481 : XOR ECX,ECX
007ae483 : MOV dword ptr [ESI + 0x8],ECX
007ae486 : MOV dword ptr [EAX],EAX
007ae488 : MOV ESI,dword ptr [ESI + 0x4]
007ae48b : MOV dword ptr [ESI + 0x8],ESI
007ae48e : MOV EAX,dword ptr [EBX + 0x334]
007ae494 : MOV ESI,dword ptr [EAX]
007ae496 : MOV dword ptr [EAX],EAX
007ae498 : MOV EAX,dword ptr [EBX + 0x334]
007ae49e : MOV dword ptr [EAX + 0x4],EAX
007ae4a1 : MOV dword ptr [ESP + 0x14],ESI
007ae4a5 : MOV dword ptr [EBX + 0x338],ECX
007ae4ab : CMP ESI,dword ptr [EBX + 0x334]
007ae4b1 : JZ 0x007ae501
007ae4b3 : JMP 0x007ae4c0
007ae4c0 : MOV EDI,dword ptr [ESI]
007ae4c2 : MOV dword ptr [ESP + 0x28],0xffffffff
007ae4ca : CMP dword ptr [ESI + 0x20],0x8
007ae4ce : JC 0x007ae4d8
007ae4d0 : MOV ECX,dword ptr [ESI + 0xc]
007ae4d3 : CALL 0x006f04e0
007ae4d8 : XOR EDX,EDX
007ae4da : MOV dword ptr [ESI + 0x20],0x7
007ae4e1 : MOV dword ptr [ESI + 0x1c],0x0
007ae4e8 : MOV ECX,ESI
007ae4ea : MOV word ptr [ESI + 0xc],DX
007ae4ee : CALL 0x006f04e0
007ae501 : MOV EAX,dword ptr [EBX + 0x340]
007ae507 : MOV ESI,dword ptr [EAX]
007ae509 : MOV dword ptr [EAX],EAX
007ae50b : MOV EAX,dword ptr [EBX + 0x340]
007ae511 : MOV dword ptr [EAX + 0x4],EAX
007ae514 : MOV dword ptr [ESP + 0x14],ESI
007ae518 : MOV dword ptr [EBX + 0x344],0x0
007ae522 : CMP ESI,dword ptr [EBX + 0x340]
007ae528 : JZ 0x007ae571
007ae52a : LEA EBX,[EBX]
007ae530 : MOV EDI,dword ptr [ESI]
007ae532 : MOV dword ptr [ESP + 0x28],0xffffffff
007ae53a : CMP dword ptr [ESI + 0x20],0x8
007ae53e : JC 0x007ae548
007ae540 : MOV ECX,dword ptr [ESI + 0xc]
007ae543 : CALL 0x006f04e0
007ae548 : XOR EAX,EAX
007ae54a : MOV dword ptr [ESI + 0x20],0x7
007ae551 : MOV dword ptr [ESI + 0x1c],0x0
007ae558 : MOV ECX,ESI
007ae55a : MOV word ptr [ESI + 0xc],AX
007ae55e : CALL 0x006f04e0
007ae571 : MOV ECX,dword ptr [EBX + 0x328]
007ae577 : MOV EAX,dword ptr [ECX]
007ae579 : MOV dword ptr [ESP + 0x14],EAX
007ae57d : CMP EAX,ECX
007ae57f : JZ 0x007ae5bc
007ae581 : CMP byte ptr [EAX + 0xa68],0x1
007ae588 : JNZ 0x007ae5a7
007ae58a : MOV ECX,dword ptr [EBX + 0x424]
007ae590 : MOV EAX,dword ptr [EAX + 0xa74]
007ae596 : TEST ECX,ECX
007ae598 : JZ 0x007ae5a7
007ae59a : TEST EAX,EAX
007ae59c : JZ 0x007ae5a7
007ae59e : ADD EAX,0xc
007ae5a1 : PUSH EAX
007ae5a2 : CALL 0x00779880
007ae5a7 : LEA EDX,[ESP + 0x14]
007ae5ab : CALL 0x0045d400
007ae5b0 : MOV EAX,dword ptr [ESP + 0x14]
007ae5b4 : CMP EAX,dword ptr [EBX + 0x328]
007ae5ba : JNZ 0x007ae581
007ae5bc : MOV ESI,dword ptr [EBX + 0x424]
007ae5c2 : TEST ESI,ESI
007ae5c4 : JZ 0x007ae5cb
007ae5c6 : CALL 0x00779740
007ae5cb : MOV EAX,dword ptr [EBX + 0x328]
007ae5d1 : MOV ESI,dword ptr [EAX]
007ae5d3 : MOV dword ptr [ESP + 0x14],ESI
007ae5d7 : CMP ESI,EAX
007ae5d9 : JZ 0x007ae6c0
007ae5df : NOP
007ae5e0 : CMP dword ptr [ESI + 0xa28],0x6
007ae5e7 : JNZ 0x007ae5fb
007ae5e9 : MOV ECX,dword ptr [EBX + 0x278]
007ae5ef : PUSH ECX
007ae5f0 : MOV ECX,dword ptr [ESI + 0xa70]
007ae5f6 : CALL 0x007e0700
007ae5fb : CMP byte ptr [ESI + 0xa68],0x1
007ae602 : JNZ 0x007ae6a0
007ae608 : MOV EDI,dword ptr [ESI + 0xa74]
007ae60e : TEST EDI,EDI
007ae610 : JZ 0x007ae6a7
007ae616 : PUSH EDI
007ae617 : CALL 0x007d5cf0
007ae61c : TEST AL,AL
007ae61e : JZ 0x007ae64f
007ae620 : MOV ESI,dword ptr [EBX + 0x334]
007ae626 : MOV EAX,dword ptr [ESI + 0x4]
007ae629 : LEA EDX,[EDI + 0xc]
007ae62c : PUSH EDX
007ae62d : PUSH EAX
007ae62e : PUSH ESI
007ae62f : CALL 0x00476390
007ae634 : LEA ECX,[EBX + 0x330]
007ae63a : MOV dword ptr [ESP + 0x18],EAX
007ae63e : CALL 0x00476450
007ae643 : MOV EAX,dword ptr [ESP + 0x18]
007ae647 : MOV dword ptr [ESI + 0x4],EAX
007ae64a : MOV ECX,dword ptr [EAX + 0x4]
007ae64d : MOV dword ptr [ECX],EAX
007ae64f : PUSH EDI
007ae650 : CALL 0x007d5bf0
007ae655 : TEST AL,AL
007ae657 : JZ 0x007ae68e
007ae659 : MOV ESI,dword ptr [EBX + 0x340]
007ae65f : LEA EAX,[EBX + 0x33c]
007ae665 : MOV EAX,dword ptr [ESI + 0x4]
007ae668 : LEA EDX,[EDI + 0xc]
007ae66b : PUSH EDX
007ae66c : PUSH EAX
007ae66d : PUSH ESI
007ae66e : CALL 0x00476390
007ae673 : MOV ECX,dword ptr [EBP + 0x8]
007ae676 : ADD ECX,0x33c
007ae67c : MOV EBX,EAX
007ae67e : CALL 0x00476450
007ae683 : MOV dword ptr [ESI + 0x4],EBX
007ae686 : MOV ECX,dword ptr [EBX + 0x4]
007ae689 : MOV dword ptr [ECX],EBX
007ae68b : MOV EBX,dword ptr [EBP + 0x8]
007ae68e : MOV ESI,dword ptr [EBX + 0x424]
007ae694 : TEST ESI,ESI
007ae696 : JZ 0x007ae6a7
007ae698 : PUSH EDI
007ae699 : CALL 0x00779d50
007ae69e : JMP 0x007ae6a7
007ae6a0 : MOV byte ptr [ESI + 0xa69],0x0
007ae6a7 : LEA EDX,[ESP + 0x14]
007ae6ab : CALL 0x0045d400
007ae6b0 : MOV ESI,dword ptr [ESP + 0x14]
007ae6b4 : CMP ESI,dword ptr [EBX + 0x328]
007ae6ba : JNZ 0x007ae5e0
007ae6c0 : MOV byte ptr [EBX + 0x2be],0x0
007ae6c7 : MOV ECX,dword ptr [ESP + 0x20]
007ae6cb : MOV dword ptr FS:[0x0],ECX
007ae6d2 : POP ECX
007ae6d3 : POP EDI
007ae6d4 : POP ESI
007ae6d5 : POP EBX
007ae6d6 : MOV ESP,EBP
007ae6d8 : POP EBP
007ae6d9 : RET 0x4
