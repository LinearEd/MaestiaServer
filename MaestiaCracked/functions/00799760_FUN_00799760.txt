PROGRAM  : Maestia.exe
FUNCTION : FUN_00799760
ENTRY    : 00799760
BODY     : [[00799760, 0079986c] [00799870, 0079989c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00799760(undefined4 param_1,undefined4 param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  int *in_ECX;
  int *piVar4;
  int *piStack_14;
  undefined1 auStack_10 [12];
  
  if ((in_ECX[0xba] != 1) && (*(char *)((int)in_ECX + 0x259) != '\0')) {
    if (param_3 == 2) {
      param_3 = FUN_007f2d40();
    }
    if (param_3 != 0) {
      (**(code **)(*in_ECX + 0x140))();
      piVar4 = *(int **)in_ECX[0x62];
      if (piVar4 != (int *)in_ECX[0x62]) {
        do {
          piVar1 = (int *)piVar4[9];
          piStack_14 = piVar1;
          if (piVar1 != (int *)0x0) {
            iVar2 = (**(code **)(*piVar1 + 4))();
            if (iVar2 == 0xf) {
switchD_0079981d_caseD_3:
              if ((piVar1[0x6f] == 0) || (piVar1[0x6f] == 1)) {
                FUN_0045fe50(auStack_10,&piStack_14);
              }
            }
            else if (*(char *)((int)piVar1 + 0x71) != '\0') {
              iVar2 = param_3;
              if (param_3 == 2) {
                (**(code **)(*piVar1 + 0x2c))();
                iVar2 = FUN_007f2d40();
              }
              if (iVar2 != 0) {
                uVar3 = (**(code **)(*piVar1 + 4))();
                switch(uVar3) {
                case 2:
                case 8:
                case 10:
                case 0x12:
                  (**(code **)(*piVar1 + 0x28))(param_1);
                  break;
                default:
                  goto switchD_0079981d_caseD_3;
                case 9:
                  break;
                }
              }
            }
          }
          piVar4 = (int *)*piVar4;
        } while (piVar4 != (int *)in_ECX[0x62]);
      }
      piVar4 = *(int **)in_ECX[0xe];
      if (piVar4 != (int *)in_ECX[0xe]) {
        do {
          if ((int *)piVar4[9] != (int *)0x0) {
            (**(code **)(*(int *)piVar4[9] + 0x88))(param_1,param_2,param_3);
          }
          piVar4 = (int *)*piVar4;
        } while (piVar4 != (int *)in_ECX[0xe]);
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00799760 : PUSH EBP
00799761 : MOV EBP,ESP
00799763 : AND ESP,0xfffffff8
00799766 : SUB ESP,0xc
00799769 : PUSH EBX
0079976a : MOV EBX,ECX
0079976c : CMP dword ptr [EBX + 0x2e8],0x1
00799773 : PUSH ESI
00799774 : PUSH EDI
00799775 : JZ 0x00799894
0079977b : CMP byte ptr [EBX + 0x259],0x0
00799782 : JZ 0x00799894
00799788 : CMP dword ptr [EBP + 0x10],0x2
0079978c : JNZ 0x0079979f
0079978e : MOV EDX,dword ptr [EBP + 0x8]
00799791 : LEA EAX,[EBX + 0x1ac]
00799797 : CALL 0x007f2d40
0079979c : MOV dword ptr [EBP + 0x10],EAX
0079979f : CMP dword ptr [EBP + 0x10],0x0
007997a3 : JZ 0x00799894
007997a9 : MOV EAX,dword ptr [EBX]
007997ab : MOV EDX,dword ptr [EAX + 0x140]
007997b1 : MOV ECX,EBX
007997b3 : CALL EDX
007997b5 : MOV EAX,dword ptr [EBX + 0x188]
007997bb : MOV EDI,dword ptr [EAX]
007997bd : CMP EDI,EAX
007997bf : JZ 0x00799862
007997c5 : MOV ESI,dword ptr [EDI + 0x24]
007997c8 : MOV dword ptr [ESP + 0xc],ESI
007997cc : TEST ESI,ESI
007997ce : JZ 0x00799854
007997d4 : MOV EAX,dword ptr [ESI]
007997d6 : MOV EDX,dword ptr [EAX + 0x4]
007997d9 : MOV ECX,ESI
007997db : CALL EDX
007997dd : CMP EAX,0xf
007997e0 : JZ 0x00799833
007997e2 : CMP byte ptr [ESI + 0x71],0x0
007997e6 : JZ 0x00799854
007997e8 : MOV EAX,dword ptr [EBP + 0x10]
007997eb : CMP EAX,0x2
007997ee : JNZ 0x00799801
007997f0 : MOV EAX,dword ptr [ESI]
007997f2 : MOV EDX,dword ptr [EAX + 0x2c]
007997f5 : MOV ECX,ESI
007997f7 : CALL EDX
007997f9 : MOV EDX,dword ptr [EBP + 0x8]
007997fc : CALL 0x007f2d40
00799801 : TEST EAX,EAX
00799803 : JZ 0x00799854
00799805 : MOV EAX,dword ptr [ESI]
00799807 : MOV EDX,dword ptr [EAX + 0x4]
0079980a : MOV ECX,ESI
0079980c : CALL EDX
0079980e : ADD EAX,-0x2
00799811 : CMP EAX,0x10
00799814 : JA 0x00799833
00799816 : MOVZX EAX,byte ptr [EAX + 0x7998ac]
0079981d : JMP dword ptr [EAX*0x4 + 0x7998a0]
00799824 : MOV EDX,dword ptr [ESI]
00799826 : MOV EAX,dword ptr [EBP + 0x8]
00799829 : MOV EDX,dword ptr [EDX + 0x28]
0079982c : PUSH EAX
0079982d : MOV ECX,ESI
0079982f : CALL EDX
00799831 : JMP 0x00799854
00799833 : MOV ESI,dword ptr [ESI + 0x1bc]
00799839 : TEST ESI,ESI
0079983b : JZ 0x00799842
0079983d : CMP ESI,0x1
00799840 : JNZ 0x00799854
00799842 : LEA EAX,[ESP + 0xc]
00799846 : PUSH EAX
00799847 : MOV EAX,dword ptr [EBP + 0xc]
0079984a : LEA ECX,[ESP + 0x14]
0079984e : PUSH ECX
0079984f : CALL 0x0045fe50
00799854 : MOV EDI,dword ptr [EDI]
00799856 : CMP EDI,dword ptr [EBX + 0x188]
0079985c : JNZ 0x007997c5
00799862 : MOV EAX,dword ptr [EBX + 0x38]
00799865 : MOV ESI,dword ptr [EAX]
00799867 : CMP ESI,EAX
00799869 : JZ 0x00799894
0079986b : JMP 0x00799870
00799870 : MOV ECX,dword ptr [ESI + 0x24]
00799873 : TEST ECX,ECX
00799875 : JZ 0x0079988d
00799877 : MOV EAX,dword ptr [EBP + 0x10]
0079987a : MOV EDX,dword ptr [ECX]
0079987c : MOV EDX,dword ptr [EDX + 0x88]
00799882 : PUSH EAX
00799883 : MOV EAX,dword ptr [EBP + 0xc]
00799886 : PUSH EAX
00799887 : MOV EAX,dword ptr [EBP + 0x8]
0079988a : PUSH EAX
0079988b : CALL EDX
0079988d : MOV ESI,dword ptr [ESI]
0079988f : CMP ESI,dword ptr [EBX + 0x38]
00799892 : JNZ 0x00799870
00799894 : POP EDI
00799895 : POP ESI
00799896 : POP EBX
00799897 : MOV ESP,EBP
00799899 : POP EBP
0079989a : RET 0xc
