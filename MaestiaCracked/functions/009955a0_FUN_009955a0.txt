PROGRAM  : Maestia.exe
FUNCTION : FUN_009955a0
ENTRY    : 009955a0
BODY     : [[009955a0, 009956e4]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_009955a0(void)

{
  char cVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  ushort uVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  int local_1c;
  uint local_18;
  uint local_14;
  uint local_10;
  uint local_c;
  uint local_8;
  
  uVar2 = *(uint *)(*DAT_00da9894 + 0x40);
  local_14 = 0;
  if (uVar2 != 0) {
    do {
      uVar8 = local_14;
      iVar6 = FUN_008eb810();
      if ((iVar6 != 0) && (*(char *)(iVar6 + 100) != '\0')) {
        iVar6 = *(int *)(iVar6 + 0x3c);
        if (iVar6 == 0) {
          return 0;
        }
        local_c = (uint)*(ushort *)(iVar6 + 0xc);
        iVar3 = *(int *)(iVar6 + 8);
        local_10 = 0;
        uVar5 = (ushort)iVar3;
        if (uVar5 != 0) {
          do {
            local_8 = 0;
            if ((ushort)local_c != 0) {
              iVar4 = *(int *)(iVar6 + 0xc);
              uVar8 = local_10 & 0xffff;
              do {
                iVar7 = (local_8 & 0xffff) + uVar8 * iVar4;
                if ((((((iVar7 < iVar4 * iVar3) && (-1 < iVar7)) &&
                      (iVar7 = *(int *)(*(int *)(iVar6 + 0x10) + iVar7 * 4), iVar7 != 0)) &&
                     ((iVar7 = *(int *)(iVar7 + 8), iVar7 != 0 &&
                      (*(uint *)(iVar7 + 0x10) >> 0x10 == 0x68e)))) &&
                    ((local_18 = *(uint *)(iVar7 + 0x10), FUN_004437f0(&local_18),
                     local_1c != *(int *)(DAT_00d7c54c + 0x44) && (*(int *)(local_1c + 0x10) != 0)))
                    ) && ((cVar1 = *(char *)(*(int *)(local_1c + 0x10) + 0x7e8), cVar1 == '\x05' ||
                          (cVar1 == '\x06')))) {
                  return iVar7;
                }
                local_8 = local_8 + 1;
              } while ((ushort)local_8 < (ushort)local_c);
            }
            local_10 = local_10 + 1;
            uVar8 = local_14;
          } while ((ushort)local_10 < uVar5);
        }
      }
      local_14 = uVar8 + 1;
    } while (local_14 < uVar2);
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
009955a0 : PUSH EBP
009955a1 : MOV EBP,ESP
009955a3 : SUB ESP,0x28
009955a6 : MOV EAX,[0x00da9894]
009955ab : MOV EAX,dword ptr [EAX]
009955ad : MOV ECX,dword ptr [EAX + 0x40]
009955b0 : PUSH EBX
009955b1 : XOR EBX,EBX
009955b3 : PUSH ESI
009955b4 : PUSH EDI
009955b5 : MOV dword ptr [EBP + -0x10],EBX
009955b8 : MOV dword ptr [EBP + -0x28],EAX
009955bb : MOV dword ptr [EBP + -0x24],ECX
009955be : TEST ECX,ECX
009955c0 : JBE 0x009956dc
009955c6 : MOV ECX,EBX
009955c8 : CALL 0x008eb810
009955cd : TEST EAX,EAX
009955cf : JZ 0x009956c2
009955d5 : CMP byte ptr [EAX + 0x64],0x0
009955d9 : JZ 0x009956c2
009955df : MOV ECX,dword ptr [EAX + 0x3c]
009955e2 : MOV dword ptr [EBP + -0x1c],ECX
009955e5 : TEST ECX,ECX
009955e7 : JZ 0x009956dc
009955ed : MOVZX EDX,word ptr [ECX + 0xc]
009955f1 : MOV ESI,dword ptr [ECX + 0x8]
009955f4 : MOVZX EAX,SI
009955f7 : MOV dword ptr [EBP + -0x8],EDX
009955fa : XOR EDI,EDI
009955fc : XOR EDX,EDX
009955fe : MOV dword ptr [EBP + -0x20],ESI
00995601 : MOV dword ptr [EBP + -0xc],EDI
00995604 : CMP DX,AX
00995607 : JNC 0x009956c2
0099560d : LEA ECX,[ECX]
00995610 : XOR EDX,EDX
00995612 : XOR EAX,EAX
00995614 : MOV dword ptr [EBP + -0x4],EDX
00995617 : CMP AX,word ptr [EBP + -0x8]
0099561b : JNC 0x009956af
00995621 : MOV EAX,dword ptr [ECX + 0xc]
00995624 : MOVZX EDI,DI
00995627 : MOV EBX,EAX
00995629 : IMUL EDI,EAX
0099562c : IMUL EBX,ESI
0099562f : NOP
00995630 : MOVZX EAX,DX
00995633 : ADD EAX,EDI
00995635 : CMP EAX,EBX
00995637 : JGE 0x0099569c
00995639 : TEST EAX,EAX
0099563b : JL 0x0099569c
0099563d : MOV EDX,dword ptr [ECX + 0x10]
00995640 : MOV EAX,dword ptr [EDX + EAX*0x4]
00995643 : TEST EAX,EAX
00995645 : JZ 0x0099569c
00995647 : MOV ESI,dword ptr [EAX + 0x8]
0099564a : TEST ESI,ESI
0099564c : JZ 0x0099569c
0099564e : MOV EAX,dword ptr [ESI + 0x10]
00995651 : MOV EDX,EAX
00995653 : SHR EDX,0x10
00995656 : CMP EDX,0x68e
0099565c : JNZ 0x0099569c
0099565e : MOV ECX,dword ptr [0x00d7c54c]
00995664 : MOV dword ptr [EBP + -0x14],EAX
00995667 : LEA EAX,[EBP + -0x14]
0099566a : PUSH EAX
0099566b : ADD ECX,0x40
0099566e : LEA EAX,[EBP + -0x18]
00995671 : CALL 0x004437f0
00995676 : MOV EAX,dword ptr [EBP + -0x18]
00995679 : MOV ECX,dword ptr [0x00d7c54c]
0099567f : CMP EAX,dword ptr [ECX + 0x44]
00995682 : JZ 0x00995699
00995684 : MOV EAX,dword ptr [EAX + 0x10]
00995687 : TEST EAX,EAX
00995689 : JZ 0x00995699
0099568b : MOV AL,byte ptr [EAX + 0x7e8]
00995691 : CMP AL,0x5
00995693 : JZ 0x009956d3
00995695 : CMP AL,0x6
00995697 : JZ 0x009956d3
00995699 : MOV ECX,dword ptr [EBP + -0x1c]
0099569c : MOV EDX,dword ptr [EBP + -0x4]
0099569f : INC EDX
009956a0 : MOV dword ptr [EBP + -0x4],EDX
009956a3 : CMP DX,word ptr [EBP + -0x8]
009956a7 : JC 0x00995630
009956a9 : MOV EDI,dword ptr [EBP + -0xc]
009956ac : MOV ESI,dword ptr [EBP + -0x20]
009956af : MOVZX EAX,SI
009956b2 : INC EDI
009956b3 : MOV dword ptr [EBP + -0xc],EDI
009956b6 : CMP DI,AX
009956b9 : JC 0x00995610
009956bf : MOV EBX,dword ptr [EBP + -0x10]
009956c2 : INC EBX
009956c3 : MOV dword ptr [EBP + -0x10],EBX
009956c6 : CMP EBX,dword ptr [EBP + -0x24]
009956c9 : JNC 0x009956dc
009956cb : MOV EAX,dword ptr [EBP + -0x28]
009956ce : JMP 0x009955c6
009956d3 : POP EDI
009956d4 : MOV EAX,ESI
009956d6 : POP ESI
009956d7 : POP EBX
009956d8 : MOV ESP,EBP
009956da : POP EBP
009956db : RET
009956dc : POP EDI
009956dd : POP ESI
009956de : XOR EAX,EAX
009956e0 : POP EBX
009956e1 : MOV ESP,EBP
009956e3 : POP EBP
009956e4 : RET
