PROGRAM  : Maestia.exe
FUNCTION : FUN_007e8090
ENTRY    : 007e8090
BODY     : [[007e8090, 007e8216] [007e8220, 007e83ca] [007e83e7, 007e83f8] [007e83fb, 007e8424]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_007e8090(undefined4 *param_1,undefined4 *param_2)

{
  longlong lVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  int in_ECX;
  int iVar7;
  uint uVar8;
  undefined1 local_54 [4];
  undefined4 *local_50;
  undefined4 *local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined1 local_24 [4];
  undefined4 *local_20;
  size_t local_1c;
  undefined4 *local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3ca36;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar7 = 0;
  if (*(int *)(in_ECX + 0xf8) == 0) {
    lVar1 = (ulonglong)(uint)(*(int *)(in_ECX + 0x184) * *(int *)(in_ECX + 0x184)) * 4;
    uVar3 = FUN_006f0760((uint)lVar1 | -(uint)((int)((ulonglong)lVar1 >> 0x20) != 0),"",0,
                         (DAT_01725270 >> 3 & 1) == 0,uVar2);
    *(undefined4 *)(in_ECX + 0xf8) = uVar3;
  }
  FUN_0045c620(local_24);
  local_8 = 0;
  if ((*(int *)(in_ECX + 0xe4) != 0) && (*(int *)(*(int *)(in_ECX + 0xe4) + 0x98) != 0)) {
    FUN_00785ea0(param_1,param_2,local_24);
  }
  if (local_1c == 0) {
    local_8 = 0xffffffff;
    FUN_0045c2b0(local_24);
    ExceptionList = local_10;
    return 0;
  }
  local_18 = (undefined4 *)*local_20;
  uVar8 = 0;
  local_14 = 0;
  if (local_18 != local_20) {
    do {
      if (local_18[3] == 0) {
        iVar4 = 0;
      }
      else {
        iVar4 = local_18[3] + -0x38;
      }
      *(int *)(*(int *)(in_ECX + 0xf8) + uVar8 * 4) = iVar4;
      uVar8 = uVar8 + 1;
    } while ((uVar8 < (uint)(*(int *)(in_ECX + 0x184) * *(int *)(in_ECX + 0x184))) &&
            (FUN_0045d060(), local_18 != local_20));
    local_14 = uVar8;
    if (1 < uVar8) {
      _qsort(*(void **)(in_ECX + 0xf8),local_1c,4,FUN_007dfa50);
    }
  }
  local_50 = (undefined4 *)0x0;
  local_4c = (undefined4 *)0x0;
  local_48 = 0;
  local_8._0_1_ = 1;
  if (*(int *)(in_ECX + 0xfc) == 0) {
    uVar3 = FUN_006f0760(0x200,"",0,(DAT_01725270 >> 3 & 1) == 0,uVar2);
    *(undefined4 *)(in_ECX + 0xfc) = uVar3;
    iVar4 = 0;
    do {
      local_18 = (undefined4 *)FUN_006f0760(0xc,"",0,(DAT_01725270 >> 3 & 1) == 0);
      if (local_18 == (undefined4 *)0x0) {
        puVar5 = (undefined4 *)0x0;
      }
      else {
        local_18[1] = 0xffffffff;
        *local_18 = 0xffffffff;
        local_18[2] = 0;
        puVar5 = local_18;
      }
      local_8._0_1_ = 1;
      *(undefined4 **)(iVar4 + *(int *)(in_ECX + 0xfc)) = puVar5;
      iVar4 = iVar4 + 4;
    } while (iVar4 < 0x200);
  }
  local_8._0_1_ = 1;
  uVar2 = 0;
  puVar5 = local_4c;
  if (local_14 != 0) {
    do {
      if (0x7f < iVar7) break;
      if (*(int *)(*(int *)(in_ECX + 0xf8) + uVar2 * 4) != 0) {
        local_34 = *param_2;
        local_30 = param_2[1];
        local_2c = param_2[2];
        local_44 = *param_1;
        local_40 = param_1[1];
        local_3c = param_1[2];
        iVar4 = *(int *)(*(int *)(*(int *)(in_ECX + 0xf8) + uVar2 * 4) + 0x424);
        if ((iVar4 != 0) && (*(int *)(iVar4 + 0x98) != 0)) {
          FUN_00786160(&local_44,&local_34,local_54);
          puVar5 = local_4c;
        }
        puVar6 = local_50;
        if (local_50 != puVar5) {
          do {
            if (0x7f < iVar7) break;
            **(undefined4 **)(*(int *)(in_ECX + 0xfc) + iVar7 * 4) =
                 *(undefined4 *)(*(int *)(*(int *)(in_ECX + 0xf8) + uVar2 * 4) + 0x2dc);
            *(undefined4 *)(*(int *)(*(int *)(in_ECX + 0xfc) + iVar7 * 4) + 4) =
                 *(undefined4 *)(*(int *)(*(int *)(in_ECX + 0xf8) + uVar2 * 4) + 0x2e0);
            *(undefined4 *)(*(int *)(*(int *)(in_ECX + 0xfc) + iVar7 * 4) + 8) = *puVar6;
            puVar6 = puVar6 + 1;
            iVar7 = iVar7 + 1;
            puVar5 = local_4c;
          } while (puVar6 != local_4c);
          if (local_50 != puVar5) {
            local_4c = local_50;
            puVar5 = local_50;
          }
        }
      }
      uVar2 = uVar2 + 1;
    } while (uVar2 < local_14);
    if (0 < iVar7) {
      local_8 = (uint)local_8._1_3_ << 8;
      if (local_50 == (undefined4 *)0x0) {
        local_50 = (undefined4 *)0x0;
        local_4c = (undefined4 *)0x0;
        local_48 = 0;
        local_8 = 0xffffffff;
        FUN_0045d0b0(*local_20,local_20);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  local_8 = (uint)local_8._1_3_ << 8;
  if (local_50 == (undefined4 *)0x0) {
    local_50 = (undefined4 *)0x0;
    local_4c = (undefined4 *)0x0;
    local_48 = 0;
    local_8 = 0xffffffff;
    FUN_0045d0b0(*local_20,local_20);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
007e8090 : PUSH EBP
007e8091 : MOV EBP,ESP
007e8093 : PUSH -0x1
007e8095 : PUSH 0xb3ca36
007e809a : MOV EAX,FS:[0x0]
007e80a0 : PUSH EAX
007e80a1 : SUB ESP,0x44
007e80a4 : PUSH EBX
007e80a5 : PUSH ESI
007e80a6 : PUSH EDI
007e80a7 : MOV EAX,[0x00d66fa0]
007e80ac : XOR EAX,EBP
007e80ae : PUSH EAX
007e80af : LEA EAX,[EBP + -0xc]
007e80b2 : MOV FS:[0x0],EAX
007e80b8 : MOV ESI,ECX
007e80ba : XOR EBX,EBX
007e80bc : CMP dword ptr [ESI + 0xf8],EBX
007e80c2 : JNZ 0x007e8104
007e80c4 : MOV EAX,dword ptr [ESI + 0x184]
007e80ca : IMUL EAX,EAX
007e80cd : XOR ECX,ECX
007e80cf : MOV EDX,0x4
007e80d4 : MUL EDX
007e80d6 : SETO CL
007e80d9 : MOV EDX,EBX
007e80db : NEG ECX
007e80dd : OR EAX,ECX
007e80df : MOV ECX,dword ptr [0x01725270]
007e80e5 : SHR ECX,0x3
007e80e8 : AND ECX,0x1
007e80eb : SETZ DL
007e80ee : PUSH EDX
007e80ef : PUSH EBX
007e80f0 : PUSH 0xbf1a4b
007e80f5 : PUSH EAX
007e80f6 : CALL 0x006f0760
007e80fb : ADD ESP,0x10
007e80fe : MOV dword ptr [ESI + 0xf8],EAX
007e8104 : LEA EAX,[EBP + -0x20]
007e8107 : PUSH EAX
007e8108 : CALL 0x0045c620
007e810d : MOV dword ptr [EBP + -0x4],EBX
007e8110 : MOV EAX,dword ptr [ESI + 0xe4]
007e8116 : CMP EAX,EBX
007e8118 : JZ 0x007e8135
007e811a : MOV ECX,dword ptr [EAX + 0x98]
007e8120 : CMP ECX,EBX
007e8122 : JZ 0x007e8135
007e8124 : MOV EAX,dword ptr [EBP + 0xc]
007e8127 : LEA EDX,[EBP + -0x20]
007e812a : PUSH EDX
007e812b : MOV EDX,dword ptr [EBP + 0x8]
007e812e : PUSH EAX
007e812f : PUSH EDX
007e8130 : CALL 0x00785ea0
007e8135 : CMP dword ptr [EBP + -0x18],EBX
007e8138 : JNZ 0x007e8160
007e813a : MOV dword ptr [EBP + -0x4],0xffffffff
007e8141 : LEA EAX,[EBP + -0x20]
007e8144 : PUSH EAX
007e8145 : CALL 0x0045c2b0
007e814a : XOR EAX,EAX
007e814c : MOV ECX,dword ptr [EBP + -0xc]
007e814f : MOV dword ptr FS:[0x0],ECX
007e8156 : POP ECX
007e8157 : POP EDI
007e8158 : POP ESI
007e8159 : POP EBX
007e815a : MOV ESP,EBP
007e815c : POP EBP
007e815d : RET 0x8
007e8160 : MOV ECX,dword ptr [EBP + -0x1c]
007e8163 : MOV EAX,dword ptr [ECX]
007e8165 : XOR EDI,EDI
007e8167 : MOV dword ptr [EBP + -0x10],EDI
007e816a : MOV dword ptr [EBP + -0x14],EAX
007e816d : CMP EAX,ECX
007e816f : JZ 0x007e81ca
007e8171 : MOV EAX,dword ptr [EAX + 0xc]
007e8174 : CMP EAX,EBX
007e8176 : JZ 0x007e817d
007e8178 : ADD EAX,-0x38
007e817b : JMP 0x007e817f
007e817d : XOR EAX,EAX
007e817f : MOV ECX,dword ptr [ESI + 0xf8]
007e8185 : MOV dword ptr [ECX + EDI*0x4],EAX
007e8188 : MOV EAX,dword ptr [ESI + 0x184]
007e818e : MOV EDX,EAX
007e8190 : IMUL EDX,EAX
007e8193 : INC EDI
007e8194 : CMP EDI,EDX
007e8196 : JNC 0x007e81a8
007e8198 : LEA EDX,[EBP + -0x14]
007e819b : CALL 0x0045d060
007e81a0 : MOV EAX,dword ptr [EBP + -0x14]
007e81a3 : CMP EAX,dword ptr [EBP + -0x1c]
007e81a6 : JNZ 0x007e8171
007e81a8 : MOV dword ptr [EBP + -0x10],EDI
007e81ab : CMP EDI,0x1
007e81ae : JBE 0x007e81ca
007e81b0 : MOV EAX,dword ptr [EBP + -0x18]
007e81b3 : MOV ECX,dword ptr [ESI + 0xf8]
007e81b9 : PUSH 0x7dfa50
007e81be : PUSH 0x4
007e81c0 : PUSH EAX
007e81c1 : PUSH ECX
007e81c2 : CALL 0x00635ad0
007e81c7 : ADD ESP,0x10
007e81ca : MOV dword ptr [EBP + -0x4c],EBX
007e81cd : MOV dword ptr [EBP + -0x48],EBX
007e81d0 : MOV dword ptr [EBP + -0x44],EBX
007e81d3 : MOV byte ptr [EBP + -0x4],0x1
007e81d7 : CMP dword ptr [ESI + 0xfc],0x0
007e81de : JNZ 0x007e8281
007e81e4 : MOV EDX,dword ptr [0x01725270]
007e81ea : SHR EDX,0x3
007e81ed : MOV EAX,0x0
007e81f2 : AND EDX,0x1
007e81f5 : SETZ AL
007e81f8 : PUSH EAX
007e81f9 : PUSH 0x0
007e81fb : PUSH 0xbf1a4b
007e8200 : PUSH 0x200
007e8205 : CALL 0x006f0760
007e820a : ADD ESP,0x10
007e820d : MOV dword ptr [ESI + 0xfc],EAX
007e8213 : XOR EDI,EDI
007e8215 : JMP 0x007e8220
007e8220 : MOV ECX,dword ptr [0x01725270]
007e8226 : SHR ECX,0x3
007e8229 : MOV EDX,0x0
007e822e : AND ECX,0x1
007e8231 : SETZ DL
007e8234 : PUSH EDX
007e8235 : PUSH 0x0
007e8237 : PUSH 0xbf1a4a
007e823c : PUSH 0xc
007e823e : CALL 0x006f0760
007e8243 : ADD ESP,0x10
007e8246 : MOV dword ptr [EBP + -0x14],EAX
007e8249 : MOV byte ptr [EBP + -0x4],0x2
007e824d : TEST EAX,EAX
007e824f : JZ 0x007e8267
007e8251 : MOV dword ptr [EAX + 0x4],0xffffffff
007e8258 : MOV dword ptr [EAX],0xffffffff
007e825e : MOV dword ptr [EAX + 0x8],0x0
007e8265 : JMP 0x007e8269
007e8267 : XOR EAX,EAX
007e8269 : MOV byte ptr [EBP + -0x4],0x1
007e826d : MOV ECX,dword ptr [ESI + 0xfc]
007e8273 : MOV dword ptr [EDI + ECX*0x1],EAX
007e8276 : ADD EDI,0x4
007e8279 : CMP EDI,0x200
007e827f : JL 0x007e8220
007e8281 : XOR EDI,EDI
007e8283 : CMP dword ptr [EBP + -0x10],EDI
007e8286 : JBE 0x007e838f
007e828c : MOV EDX,dword ptr [EBP + -0x48]
007e828f : CMP EBX,0x80
007e8295 : JGE 0x007e838b
007e829b : MOV EAX,dword ptr [ESI + 0xf8]
007e82a1 : CMP dword ptr [EAX + EDI*0x4],0x0
007e82a5 : LEA EAX,[EAX + EDI*0x4]
007e82a8 : JZ 0x007e8381
007e82ae : MOV ECX,dword ptr [EBP + 0xc]
007e82b1 : MOVSS XMM0,dword ptr [ECX]
007e82b5 : MOVSS XMM1,dword ptr [ECX + 0x4]
007e82ba : MOVSS XMM2,dword ptr [ECX + 0x8]
007e82bf : MOV ECX,dword ptr [EBP + 0x8]
007e82c2 : MOVSS dword ptr [EBP + -0x30],XMM0
007e82c7 : MOVSS XMM0,dword ptr [ECX]
007e82cb : MOVSS dword ptr [EBP + -0x2c],XMM1
007e82d0 : MOVSS XMM1,dword ptr [ECX + 0x4]
007e82d5 : MOVSS dword ptr [EBP + -0x28],XMM2
007e82da : MOVSS XMM2,dword ptr [ECX + 0x8]
007e82df : MOVSS dword ptr [EBP + -0x40],XMM0
007e82e4 : MOVSS dword ptr [EBP + -0x3c],XMM1
007e82e9 : MOVSS dword ptr [EBP + -0x38],XMM2
007e82ee : MOV EAX,dword ptr [EAX]
007e82f0 : MOV ECX,dword ptr [EAX + 0x424]
007e82f6 : TEST ECX,ECX
007e82f8 : JZ 0x007e8318
007e82fa : MOV ECX,dword ptr [ECX + 0x98]
007e8300 : TEST ECX,ECX
007e8302 : JZ 0x007e8318
007e8304 : LEA EDX,[EBP + -0x50]
007e8307 : PUSH EDX
007e8308 : LEA EAX,[EBP + -0x30]
007e830b : PUSH EAX
007e830c : LEA EDX,[EBP + -0x40]
007e830f : PUSH EDX
007e8310 : CALL 0x00786160
007e8315 : MOV EDX,dword ptr [EBP + -0x48]
007e8318 : MOV EAX,dword ptr [EBP + -0x4c]
007e831b : CMP EAX,EDX
007e831d : JZ 0x007e8381
007e831f : NOP
007e8320 : CMP EBX,0x80
007e8326 : JGE 0x007e8376
007e8328 : MOV ECX,dword ptr [ESI + 0xf8]
007e832e : MOV EDX,dword ptr [ECX + EDI*0x4]
007e8331 : MOV ECX,dword ptr [EDX + 0x2dc]
007e8337 : MOV EDX,dword ptr [ESI + 0xfc]
007e833d : MOV EDX,dword ptr [EDX + EBX*0x4]
007e8340 : MOV dword ptr [EDX],ECX
007e8342 : MOV ECX,dword ptr [ESI + 0xf8]
007e8348 : MOV EDX,dword ptr [ECX + EDI*0x4]
007e834b : MOV ECX,dword ptr [EDX + 0x2e0]
007e8351 : MOV EDX,dword ptr [ESI + 0xfc]
007e8357 : MOV EDX,dword ptr [EDX + EBX*0x4]
007e835a : MOV dword ptr [EDX + 0x4],ECX
007e835d : MOV ECX,dword ptr [ESI + 0xfc]
007e8363 : MOV EDX,dword ptr [ECX + EBX*0x4]
007e8366 : MOV ECX,dword ptr [EAX]
007e8368 : MOV dword ptr [EDX + 0x8],ECX
007e836b : MOV EDX,dword ptr [EBP + -0x48]
007e836e : ADD EAX,0x4
007e8371 : INC EBX
007e8372 : CMP EAX,EDX
007e8374 : JNZ 0x007e8320
007e8376 : CMP dword ptr [EBP + -0x4c],EDX
007e8379 : JZ 0x007e8381
007e837b : MOV EDX,dword ptr [EBP + -0x4c]
007e837e : MOV dword ptr [EBP + -0x48],EDX
007e8381 : INC EDI
007e8382 : CMP EDI,dword ptr [EBP + -0x10]
007e8385 : JC 0x007e828f
007e838b : TEST EBX,EBX
007e838d : JG 0x007e83e7
007e838f : MOV byte ptr [EBP + -0x4],0x0
007e8393 : MOV ECX,dword ptr [EBP + -0x4c]
007e8396 : TEST ECX,ECX
007e8398 : JZ 0x007e839f
007e839a : CALL 0x006f04e0
007e839f : XOR EAX,EAX
007e83a1 : MOV dword ptr [EBP + -0x4c],EAX
007e83a4 : MOV dword ptr [EBP + -0x48],EAX
007e83a7 : MOV dword ptr [EBP + -0x44],EAX
007e83aa : MOV dword ptr [EBP + -0x4],0xffffffff
007e83b1 : MOV EAX,dword ptr [EBP + -0x1c]
007e83b4 : MOV ECX,dword ptr [EAX]
007e83b6 : PUSH EAX
007e83b7 : PUSH ECX
007e83b8 : LEA EDI,[EBP + 0xc]
007e83bb : LEA ESI,[EBP + -0x20]
007e83be : CALL 0x0045d0b0
007e83c3 : MOV ECX,dword ptr [EBP + -0x1c]
007e83c6 : CALL 0x006f04e0
007e83e7 : MOV byte ptr [EBP + -0x4],0x0
007e83eb : MOV ECX,dword ptr [EBP + -0x4c]
007e83ee : XOR EAX,EAX
007e83f0 : CMP ECX,EAX
007e83f2 : JZ 0x007e83fb
007e83f4 : CALL 0x006f04e0
007e83fb : MOV dword ptr [EBP + -0x4c],EAX
007e83fe : MOV dword ptr [EBP + -0x48],EAX
007e8401 : MOV dword ptr [EBP + -0x44],EAX
007e8404 : MOV dword ptr [EBP + -0x4],0xffffffff
007e840b : MOV EAX,dword ptr [EBP + -0x1c]
007e840e : MOV ECX,dword ptr [EAX]
007e8410 : PUSH EAX
007e8411 : PUSH ECX
007e8412 : LEA EDI,[EBP + 0xc]
007e8415 : LEA ESI,[EBP + -0x20]
007e8418 : CALL 0x0045d0b0
007e841d : MOV ECX,dword ptr [EBP + -0x1c]
007e8420 : CALL 0x006f04e0
