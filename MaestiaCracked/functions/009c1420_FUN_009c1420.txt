PROGRAM  : Maestia.exe
FUNCTION : FUN_009c1420
ENTRY    : 009c1420
BODY     : [[009c1420, 009c163b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009c1420(int param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  undefined4 uVar4;
  int in_ECX;
  undefined4 ****ppppuVar5;
  int in_EDX;
  uint local_38;
  undefined4 ***local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b21db2;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(int *)(param_1 + 0x60) = in_ECX;
  if (30000 < in_EDX) {
    in_EDX = 0;
  }
  *(int *)(param_1 + 0x74) = in_EDX;
  uVar3 = *(int *)(param_1 + 0x8c) + in_ECX;
  local_18 = 7;
  local_1c = 0;
  local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffff0000);
  uVar3 = ((int)uVar3 < 1) - 1 & uVar3;
  local_14 = uVar2;
  FUN_00406360(&DAT_00c90574,0);
  local_8 = 0;
  if (*(int *)(param_1 + 0x8c) == 0) {
    if (0 < in_EDX) {
      uVar4 = FUN_00404750(L"%d<font face=\'$NormalFont\' color=\'#E5C173\'>(+%d)</font>",uVar3,
                           in_EDX);
      local_8._0_1_ = 4;
      FUN_00405eb0(uVar4,0,0xffffffff);
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      goto LAB_009c15b7;
    }
    if (in_EDX < 0) {
      uVar4 = FUN_00404750(L"%d<font face=\'$NormalFont\' color=\'#FF0000\'>(%d)</font>",uVar3,
                           in_EDX);
      local_8._0_1_ = 5;
    }
    else {
      uVar4 = FUN_00404750(&DAT_00c90868,uVar3,uVar2);
      local_8._0_1_ = 6;
    }
  }
  else {
    if (0 < in_EDX) {
      uVar4 = FUN_00404750(L"<font face=\'$NormalFont\' color=\'#33FF00\'>%d</font><font face=\'$NormalFont\' color=\'#E5C173\'> (+%d)</font>"
                           ,uVar3,in_EDX);
      local_8._0_1_ = 1;
      FUN_00405eb0(uVar4,0,0xffffffff);
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      goto LAB_009c15b7;
    }
    if (in_EDX < 0) {
      uVar4 = FUN_00404750(L"<font face=\'$NormalFont\' color=\'#33FF00\'>%d</font><font face=\'$NormalFont\' color=\'#FF0000\'> (%d)</font>"
                           ,uVar3,in_EDX);
      local_8._0_1_ = 2;
    }
    else {
      uVar4 = FUN_00404750(L"<font face=\'$NormalFont\' color=\'#33FF00\'>%d</font>",uVar3,uVar2);
      local_8._0_1_ = 3;
    }
  }
  FUN_00405eb0(uVar4,0,0xffffffff);
  local_8 = (uint)local_8._1_3_ << 8;
  FUN_00406560();
LAB_009c15b7:
  iVar1 = *DAT_00da9894;
  if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
    ppppuVar5 = (undefined4 ****)local_2c[0];
    if (local_18 < 8) {
      ppppuVar5 = local_2c;
    }
    (**(code **)(**(int **)(iVar1 + 0x114) + 4))
              (*(int **)(iVar1 + 0x114),param_1 + 8,"%s,%ls","SetCharDexterityPlus",ppppuVar5);
  }
  local_8 = 0xffffffff;
  if (local_18 < 8) {
    local_18 = 7;
    local_1c = 0;
    local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffff0000);
    ExceptionList = local_10;
    __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
009c1420 : PUSH EBP
009c1421 : MOV EBP,ESP
009c1423 : PUSH -0x1
009c1425 : PUSH 0xb21db2
009c142a : MOV EAX,FS:[0x0]
009c1430 : PUSH EAX
009c1431 : SUB ESP,0x40
009c1434 : MOV EAX,[0x00d66fa0]
009c1439 : XOR EAX,EBP
009c143b : MOV dword ptr [EBP + -0x10],EAX
009c143e : PUSH EBX
009c143f : PUSH ESI
009c1440 : PUSH EDI
009c1441 : PUSH EAX
009c1442 : LEA EAX,[EBP + -0xc]
009c1445 : MOV FS:[0x0],EAX
009c144b : MOV ESI,EDX
009c144d : MOV EAX,dword ptr [EBP + 0x8]
009c1450 : XOR EBX,EBX
009c1452 : MOV dword ptr [EAX + 0x60],ECX
009c1455 : CMP ESI,0x7530
009c145b : CMOVG ESI,EBX
009c145e : MOV dword ptr [EBP + -0x30],EAX
009c1461 : MOV dword ptr [EAX + 0x74],ESI
009c1464 : MOV EAX,dword ptr [EAX + 0x8c]
009c146a : ADD EAX,ECX
009c146c : XOR ECX,ECX
009c146e : CMP EAX,EBX
009c1470 : SETLE CL
009c1473 : PUSH EBX
009c1474 : XOR EDX,EDX
009c1476 : PUSH 0xc90574
009c147b : MOV dword ptr [EBP + -0x14],0x7
009c1482 : MOV dword ptr [EBP + -0x18],EBX
009c1485 : MOV word ptr [EBP + -0x28],DX
009c1489 : DEC ECX
009c148a : AND ECX,EAX
009c148c : MOV EDI,ECX
009c148e : LEA ECX,[EBP + -0x2c]
009c1491 : CALL 0x00406360
009c1496 : MOV dword ptr [EBP + -0x4],EBX
009c1499 : MOV EAX,dword ptr [EBP + -0x30]
009c149c : CMP dword ptr [EAX + 0x8c],EBX
009c14a2 : JZ 0x009c1528
009c14a8 : CMP ESI,EBX
009c14aa : JLE 0x009c14f4
009c14ac : PUSH ESI
009c14ad : PUSH EDI
009c14ae : PUSH 0xc90578
009c14b3 : LEA ESI,[EBP + -0x4c]
009c14b6 : CALL 0x00404750
009c14bb : ADD ESP,0xc
009c14be : MOV byte ptr [EBP + -0x4],0x1
009c14c2 : PUSH -0x1
009c14c4 : PUSH EBX
009c14c5 : PUSH EAX
009c14c6 : LEA ECX,[EBP + -0x2c]
009c14c9 : CALL 0x00405eb0
009c14ce : MOV byte ptr [EBP + -0x4],BL
009c14d1 : CMP dword ptr [EBP + -0x34],0x8
009c14d5 : JC 0x009c14df
009c14d7 : MOV ECX,dword ptr [EBP + -0x48]
009c14da : CALL 0x006f04e0
009c14df : XOR ECX,ECX
009c14e1 : MOV dword ptr [EBP + -0x34],0x7
009c14e8 : MOV dword ptr [EBP + -0x38],EBX
009c14eb : MOV word ptr [EBP + -0x48],CX
009c14ef : JMP 0x009c15b7
009c14f4 : JGE 0x009c1511
009c14f6 : PUSH ESI
009c14f7 : PUSH EDI
009c14f8 : PUSH 0xc90650
009c14fd : LEA ESI,[EBP + -0x4c]
009c1500 : CALL 0x00404750
009c1505 : ADD ESP,0xc
009c1508 : MOV byte ptr [EBP + -0x4],0x2
009c150c : JMP 0x009c15a0
009c1511 : PUSH EDI
009c1512 : PUSH 0xc90720
009c1517 : LEA ESI,[EBP + -0x4c]
009c151a : CALL 0x00404750
009c151f : ADD ESP,0x8
009c1522 : MOV byte ptr [EBP + -0x4],0x3
009c1526 : JMP 0x009c15a0
009c1528 : CMP ESI,EBX
009c152a : JLE 0x009c1571
009c152c : PUSH ESI
009c152d : PUSH EDI
009c152e : PUSH 0xc90788
009c1533 : LEA ESI,[EBP + -0x4c]
009c1536 : CALL 0x00404750
009c153b : ADD ESP,0xc
009c153e : MOV byte ptr [EBP + -0x4],0x4
009c1542 : PUSH -0x1
009c1544 : PUSH EBX
009c1545 : PUSH EAX
009c1546 : LEA ECX,[EBP + -0x2c]
009c1549 : CALL 0x00405eb0
009c154e : MOV byte ptr [EBP + -0x4],BL
009c1551 : CMP dword ptr [EBP + -0x34],0x8
009c1555 : JC 0x009c155f
009c1557 : MOV ECX,dword ptr [EBP + -0x48]
009c155a : CALL 0x006f04e0
009c155f : XOR EDX,EDX
009c1561 : MOV dword ptr [EBP + -0x34],0x7
009c1568 : MOV dword ptr [EBP + -0x38],EBX
009c156b : MOV word ptr [EBP + -0x48],DX
009c156f : JMP 0x009c15b7
009c1571 : JGE 0x009c158b
009c1573 : PUSH ESI
009c1574 : PUSH EDI
009c1575 : PUSH 0xc907f8
009c157a : LEA ESI,[EBP + -0x4c]
009c157d : CALL 0x00404750
009c1582 : ADD ESP,0xc
009c1585 : MOV byte ptr [EBP + -0x4],0x5
009c1589 : JMP 0x009c15a0
009c158b : PUSH EDI
009c158c : PUSH 0xc90868
009c1591 : LEA ESI,[EBP + -0x4c]
009c1594 : CALL 0x00404750
009c1599 : ADD ESP,0x8
009c159c : MOV byte ptr [EBP + -0x4],0x6
009c15a0 : PUSH -0x1
009c15a2 : PUSH EBX
009c15a3 : PUSH EAX
009c15a4 : LEA ECX,[EBP + -0x2c]
009c15a7 : CALL 0x00405eb0
009c15ac : MOV byte ptr [EBP + -0x4],BL
009c15af : LEA ECX,[EBP + -0x4c]
009c15b2 : CALL 0x00406560
009c15b7 : MOV EAX,[0x00da9894]
009c15bc : MOV EAX,dword ptr [EAX]
009c15be : CMP EAX,EBX
009c15c0 : JZ 0x009c15f9
009c15c2 : CMP dword ptr [EAX + 0x114],EBX
009c15c8 : JZ 0x009c15f9
009c15ca : CMP dword ptr [EBP + -0x14],0x8
009c15ce : MOV EAX,dword ptr [EAX + 0x114]
009c15d4 : MOV ECX,dword ptr [EBP + -0x28]
009c15d7 : JNC 0x009c15dc
009c15d9 : LEA ECX,[EBP + -0x28]
009c15dc : MOV EDX,dword ptr [EAX]
009c15de : MOV EDX,dword ptr [EDX + 0x4]
009c15e1 : PUSH ECX
009c15e2 : MOV ECX,dword ptr [EBP + -0x30]
009c15e5 : PUSH 0xc90870
009c15ea : PUSH 0xc90888
009c15ef : ADD ECX,0x8
009c15f2 : PUSH ECX
009c15f3 : PUSH EAX
009c15f4 : CALL EDX
009c15f6 : ADD ESP,0x14
009c15f9 : MOV dword ptr [EBP + -0x4],0xffffffff
009c1600 : CMP dword ptr [EBP + -0x14],0x8
009c1604 : JC 0x009c160e
009c1606 : MOV ECX,dword ptr [EBP + -0x28]
009c1609 : CALL 0x006f04e0
009c160e : XOR EAX,EAX
009c1610 : MOV dword ptr [EBP + -0x14],0x7
009c1617 : MOV dword ptr [EBP + -0x18],EBX
009c161a : MOV word ptr [EBP + -0x28],AX
009c161e : MOV ECX,dword ptr [EBP + -0xc]
009c1621 : MOV dword ptr FS:[0x0],ECX
009c1628 : POP ECX
009c1629 : POP EDI
009c162a : POP ESI
009c162b : POP EBX
009c162c : MOV ECX,dword ptr [EBP + -0x10]
009c162f : XOR ECX,EBP
009c1631 : CALL 0x00633e6b
009c1636 : MOV ESP,EBP
009c1638 : POP EBP
009c1639 : RET 0x4
