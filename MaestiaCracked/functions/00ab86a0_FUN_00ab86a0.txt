PROGRAM  : Maestia.exe
FUNCTION : FUN_00ab86a0
ENTRY    : 00ab86a0
BODY     : [[00ab86a0, 00ab8730]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00ab86a0(undefined4 *param_1,undefined4 param_2)

{
  uint uVar1;
  BOOL BVar2;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4c556;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_00cd2398;
  param_1[1] = &PTR_FUN_00cdec94;
  BVar2 = InitializeCriticalSectionAndSpinCount((LPCRITICAL_SECTION)(param_1 + 2),4000);
  if (BVar2 == 0) {
    InitializeCriticalSection((LPCRITICAL_SECTION)(param_1 + 2));
  }
  local_8 = 0;
  param_1[8] = param_2;
  param_1[9] = 1;
  FUN_004014f0(param_1 + 10);
  local_8 = CONCAT31(local_8._1_3_,1);
  param_1[0xd] = 0;
  FUN_00ab8600(uVar1);
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00ab86a0 : PUSH EBP
00ab86a1 : MOV EBP,ESP
00ab86a3 : PUSH -0x1
00ab86a5 : PUSH 0xb4c556
00ab86aa : MOV EAX,FS:[0x0]
00ab86b0 : PUSH EAX
00ab86b1 : PUSH ESI
00ab86b2 : PUSH EDI
00ab86b3 : MOV EAX,[0x00d66fa0]
00ab86b8 : XOR EAX,EBP
00ab86ba : PUSH EAX
00ab86bb : LEA EAX,[EBP + -0xc]
00ab86be : MOV FS:[0x0],EAX
00ab86c4 : MOV ESI,dword ptr [EBP + 0x8]
00ab86c7 : PUSH 0xfa0
00ab86cc : LEA EDI,[ESI + 0x8]
00ab86cf : MOV dword ptr [ESI],0xcd2398
00ab86d5 : PUSH EDI
00ab86d6 : MOV dword ptr [ESI + 0x4],0xcdec94
00ab86dd : CALL dword ptr [0x00b85110]
00ab86e3 : TEST EAX,EAX
00ab86e5 : JNZ 0x00ab86ee
00ab86e7 : PUSH EDI
00ab86e8 : CALL dword ptr [0x00b85114]
00ab86ee : XOR EDI,EDI
00ab86f0 : MOV dword ptr [EBP + -0x4],EDI
00ab86f3 : MOV EAX,dword ptr [EBP + 0xc]
00ab86f6 : LEA ECX,[ESI + 0x28]
00ab86f9 : PUSH ECX
00ab86fa : MOV dword ptr [ESI + 0x20],EAX
00ab86fd : MOV dword ptr [ESI + 0x24],0x1
00ab8704 : CALL 0x004014f0
00ab8709 : MOV byte ptr [EBP + -0x4],0x1
00ab870d : MOV dword ptr [ESI + 0x34],EDI
00ab8710 : CALL 0x00ab8600
00ab8715 : MOV dword ptr [EBP + -0x4],0xffffffff
00ab871c : MOV EAX,ESI
00ab871e : MOV ECX,dword ptr [EBP + -0xc]
00ab8721 : MOV dword ptr FS:[0x0],ECX
00ab8728 : POP ECX
00ab8729 : POP EDI
00ab872a : POP ESI
00ab872b : MOV ESP,EBP
00ab872d : POP EBP
00ab872e : RET 0x8
