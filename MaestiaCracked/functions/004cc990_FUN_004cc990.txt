PROGRAM  : Maestia.exe
FUNCTION : FUN_004cc990
ENTRY    : 004cc990
BODY     : [[004cc990, 004cc9d6] [004cc9e0, 004ccb42]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_004cc990(int *param_1)

{
  uint uVar1;
  uint uVar2;
  int in_ECX;
  float local_50;
  undefined4 local_4c;
  int local_48;
  undefined4 uStack_44;
  float afStack_40 [5];
  LPCRITICAL_SECTION p_Stack_2c;
  char *pcStack_28;
  undefined4 uStack_24;
  int iStack_20;
  undefined4 uStack_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b7a008;
  local_14 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffffa0;
  ExceptionList = &local_14;
  local_4c = 0;
  local_50 = -1.0;
  while (uVar2 = param_1[9], uVar2 < (uint)param_1[8]) {
    uVar2 = (**(code **)(*param_1 + 0x1c))(&local_48,uVar1);
    if ((char)uVar2 == '\0') {
      ExceptionList = local_14;
      return uVar2 & 0xffffff00;
    }
    uVar2 = local_48 - 0x62;
    switch(uVar2) {
    case 0:
      goto switchD_004cca12_caseD_0;
    case 1:
      (**(code **)(*param_1 + 0xc))(&local_4c,4,1);
      break;
    case 2:
      afStack_40[2] = 0.0;
      afStack_40[3] = 0.0;
      afStack_40[4] = 0.0;
      afStack_40[0] = 0.0;
      afStack_40[1] = 0.0;
      (**(code **)(*param_1 + 0xc))(afStack_40,4,1);
      (**(code **)(*param_1 + 0xc))(&uStack_44,0xc,1);
      if (local_50 < afStack_40[0]) {
        p_Stack_2c = (LPCRITICAL_SECTION)(in_ECX + 0x78);
        local_50 = afStack_40[0];
        iStack_20 = 0;
        pcStack_28 = 
        "d:\\maestiaproject\\maestiasrc\\client\\main\\client\\avalib\\fx\\AvaFxIController.h";
        uStack_24 = 0x24a;
        uStack_1c = 1;
        FUN_006ef1a0(&p_Stack_2c);
        uStack_c = 0;
        FUN_004ccce0(afStack_40);
        uStack_c = 0xffffffff;
        if (iStack_20 != 0) {
          LeaveCriticalSection(p_Stack_2c);
          iStack_20 = 0;
        }
      }
      break;
    case 3:
      (**(code **)(*param_1 + 0xc))(in_ECX + 0x50,4,1);
      break;
    default:
      (**(code **)(*param_1 + 0x24))(uStack_44);
    }
  }
switchD_004cca12_caseD_0:
  ExceptionList = local_14;
  return CONCAT31((int3)(uVar2 >> 8),1);
}



============================================================
DISASSEMBLY
============================================================
004cc990 : PUSH EBP
004cc991 : MOV EBP,ESP
004cc993 : AND ESP,0xfffffff8
004cc996 : PUSH -0x1
004cc998 : PUSH 0xb7a008
004cc99d : MOV EAX,FS:[0x0]
004cc9a3 : PUSH EAX
004cc9a4 : SUB ESP,0x40
004cc9a7 : PUSH EBX
004cc9a8 : PUSH ESI
004cc9a9 : PUSH EDI
004cc9aa : MOV EAX,[0x00d66fa0]
004cc9af : XOR EAX,ESP
004cc9b1 : PUSH EAX
004cc9b2 : LEA EAX,[ESP + 0x50]
004cc9b6 : MOV FS:[0x0],EAX
004cc9bc : MOV EDI,ECX
004cc9be : MOVSS XMM0,dword ptr [0x00cdf0d0]
004cc9c6 : MOV ESI,dword ptr [EBP + 0x8]
004cc9c9 : XOR EBX,EBX
004cc9cb : MOV dword ptr [ESP + 0x18],EBX
004cc9cf : MOVSS dword ptr [ESP + 0x14],XMM0
004cc9d5 : JMP 0x004cc9e0
004cc9e0 : MOV EAX,dword ptr [ESI + 0x24]
004cc9e3 : CMP EAX,dword ptr [ESI + 0x20]
004cc9e6 : JNC 0x004ccb2c
004cc9ec : MOV EDX,dword ptr [ESI]
004cc9ee : MOV EDX,dword ptr [EDX + 0x1c]
004cc9f1 : LEA EAX,[ESP + 0x1c]
004cc9f5 : PUSH EAX
004cc9f6 : MOV ECX,ESI
004cc9f8 : CALL EDX
004cc9fa : TEST AL,AL
004cc9fc : JZ 0x004ccb15
004cca02 : MOV EAX,dword ptr [ESP + 0x1c]
004cca06 : ADD EAX,-0x62
004cca09 : CMP EAX,0x3
004cca0c : JA 0x004ccb02
004cca12 : JMP dword ptr [EAX*0x4 + 0x4ccb44]
004cca19 : MOV EAX,dword ptr [ESI]
004cca1b : MOV EDX,dword ptr [EAX + 0xc]
004cca1e : PUSH 0x1
004cca20 : PUSH 0x4
004cca22 : LEA ECX,[ESP + 0x20]
004cca26 : PUSH ECX
004cca27 : MOV ECX,ESI
004cca29 : CALL EDX
004cca2b : JMP 0x004cc9e0
004cca2d : MOV EAX,dword ptr [ESI]
004cca2f : MOV EDX,dword ptr [EAX + 0xc]
004cca32 : PUSH 0x1
004cca34 : PUSH 0x4
004cca36 : LEA ECX,[EDI + 0x50]
004cca39 : PUSH ECX
004cca3a : MOV ECX,ESI
004cca3c : CALL EDX
004cca3e : JMP 0x004cc9e0
004cca40 : XORPS XMM0,XMM0
004cca43 : MOV EAX,dword ptr [ESI]
004cca45 : MOV EDX,dword ptr [EAX + 0xc]
004cca48 : PUSH 0x1
004cca4a : PUSH 0x4
004cca4c : LEA ECX,[ESP + 0x2c]
004cca50 : PUSH ECX
004cca51 : MOV ECX,ESI
004cca53 : MOVSS dword ptr [ESP + 0x38],XMM0
004cca59 : MOVSS dword ptr [ESP + 0x3c],XMM0
004cca5f : MOVSS dword ptr [ESP + 0x40],XMM0
004cca65 : MOVSS dword ptr [ESP + 0x30],XMM0
004cca6b : MOV dword ptr [ESP + 0x34],EBX
004cca6f : CALL EDX
004cca71 : MOV EAX,dword ptr [ESI]
004cca73 : MOV EDX,dword ptr [EAX + 0xc]
004cca76 : PUSH 0x1
004cca78 : PUSH 0xc
004cca7a : LEA ECX,[ESP + 0x34]
004cca7e : PUSH ECX
004cca7f : MOV ECX,ESI
004cca81 : CALL EDX
004cca83 : MOVSS XMM0,dword ptr [ESP + 0x24]
004cca89 : MOVSS XMM1,dword ptr [ESP + 0x14]
004cca8f : COMISS XMM1,XMM0
004cca92 : JNC 0x004cc9e0
004cca98 : LEA ECX,[ESP + 0x38]
004cca9c : LEA EAX,[EDI + 0x78]
004cca9f : PUSH ECX
004ccaa0 : MOVSS dword ptr [ESP + 0x18],XMM0
004ccaa6 : MOV dword ptr [ESP + 0x48],EBX
004ccaaa : MOV dword ptr [ESP + 0x3c],EAX
004ccaae : MOV dword ptr [ESP + 0x40],0xcd9c40
004ccab6 : MOV dword ptr [ESP + 0x44],0x24a
004ccabe : MOV dword ptr [ESP + 0x4c],0x1
004ccac6 : CALL 0x006ef1a0
004ccacb : MOV dword ptr [ESP + 0x58],EBX
004ccacf : LEA EDX,[ESP + 0x24]
004ccad3 : PUSH EDX
004ccad4 : LEA EAX,[EDI + 0x54]
004ccad7 : CALL 0x004ccce0
004ccadc : MOV dword ptr [ESP + 0x58],0xffffffff
004ccae4 : CMP dword ptr [ESP + 0x44],EBX
004ccae8 : JZ 0x004cc9e0
004ccaee : MOV EAX,dword ptr [ESP + 0x38]
004ccaf2 : PUSH EAX
004ccaf3 : CALL dword ptr [0x00b8511c]
004ccaf9 : MOV dword ptr [ESP + 0x44],EBX
004ccafd : JMP 0x004cc9e0
004ccb02 : MOV EDX,dword ptr [ESI]
004ccb04 : MOV EAX,dword ptr [ESP + 0x20]
004ccb08 : MOV EDX,dword ptr [EDX + 0x24]
004ccb0b : PUSH EAX
004ccb0c : MOV ECX,ESI
004ccb0e : CALL EDX
004ccb10 : JMP 0x004cc9e0
004ccb15 : XOR AL,AL
004ccb17 : MOV ECX,dword ptr [ESP + 0x50]
004ccb1b : MOV dword ptr FS:[0x0],ECX
004ccb22 : POP ECX
004ccb23 : POP EDI
004ccb24 : POP ESI
004ccb25 : POP EBX
004ccb26 : MOV ESP,EBP
004ccb28 : POP EBP
004ccb29 : RET 0x4
004ccb2c : MOV AL,0x1
004ccb2e : MOV ECX,dword ptr [ESP + 0x50]
004ccb32 : MOV dword ptr FS:[0x0],ECX
004ccb39 : POP ECX
004ccb3a : POP EDI
004ccb3b : POP ESI
004ccb3c : POP EBX
004ccb3d : MOV ESP,EBP
004ccb3f : POP EBP
004ccb40 : RET 0x4
