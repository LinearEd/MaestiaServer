PROGRAM  : Maestia.exe
FUNCTION : FUN_005f0f30
ENTRY    : 005f0f30
BODY     : [[005f0f30, 005f0fc0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005f0f30(int param_1,GRefCountImpl *param_2,GRefCountImpl *param_3,undefined4 param_4)

{
  undefined4 *in_ECX;
  
  *in_ECX = &PTR_FUN_00cd3f2c;
  in_ECX[1] = 1;
  *in_ECX = &PTR_FUN_00b94c28;
  in_ECX[2] = 0;
  in_ECX[3] = 0;
  in_ECX[5] = 0;
  if (param_1 != 0) {
    *(int *)(param_1 + 4) = *(int *)(param_1 + 4) + 1;
  }
  if ((GRefCountNTSImpl *)in_ECX[5] != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release((GRefCountNTSImpl *)in_ECX[5]);
  }
  in_ECX[5] = param_1;
  if (param_2 != (GRefCountImpl *)0x0) {
    GRefCountImpl::AddRef(param_2);
  }
  if ((GRefCountImpl *)in_ECX[2] != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release((GRefCountImpl *)in_ECX[2]);
  }
  in_ECX[2] = param_2;
  if (param_3 != (GRefCountImpl *)0x0) {
    GRefCountImpl::AddRef(param_3);
  }
  if ((GRefCountImpl *)in_ECX[3] != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release((GRefCountImpl *)in_ECX[3]);
  }
  in_ECX[3] = param_3;
  in_ECX[4] = param_4;
  return;
}



============================================================
DISASSEMBLY
============================================================
005f0f30 : PUSH ESI
005f0f31 : MOV ESI,ECX
005f0f33 : MOV dword ptr [ESI],0xcd3f2c
005f0f39 : MOV EAX,0x1
005f0f3e : MOV dword ptr [ESI + 0x4],EAX
005f0f41 : MOV dword ptr [ESI],0xb94c28
005f0f47 : PUSH EDI
005f0f48 : MOV EDI,dword ptr [ESP + 0xc]
005f0f4c : MOV dword ptr [ESI + 0x8],0x0
005f0f53 : MOV dword ptr [ESI + 0xc],0x0
005f0f5a : MOV dword ptr [ESI + 0x14],0x0
005f0f61 : TEST EDI,EDI
005f0f63 : JZ 0x005f0f68
005f0f65 : ADD dword ptr [EDI + 0x4],EAX
005f0f68 : MOV ECX,dword ptr [ESI + 0x14]
005f0f6b : TEST ECX,ECX
005f0f6d : JZ 0x005f0f74
005f0f6f : CALL 0x004ff7c0
005f0f74 : MOV dword ptr [ESI + 0x14],EDI
005f0f77 : MOV EDI,dword ptr [ESP + 0x10]
005f0f7b : TEST EDI,EDI
005f0f7d : JZ 0x005f0f86
005f0f7f : MOV ECX,EDI
005f0f81 : CALL 0x00523dd0
005f0f86 : MOV ECX,dword ptr [ESI + 0x8]
005f0f89 : TEST ECX,ECX
005f0f8b : JZ 0x005f0f92
005f0f8d : CALL 0x004ff7e0
005f0f92 : MOV dword ptr [ESI + 0x8],EDI
005f0f95 : MOV EDI,dword ptr [ESP + 0x14]
005f0f99 : TEST EDI,EDI
005f0f9b : JZ 0x005f0fa4
005f0f9d : MOV ECX,EDI
005f0f9f : CALL 0x00523dd0
005f0fa4 : MOV ECX,dword ptr [ESI + 0xc]
005f0fa7 : TEST ECX,ECX
005f0fa9 : JZ 0x005f0fb0
005f0fab : CALL 0x004ff7e0
005f0fb0 : MOV EAX,dword ptr [ESP + 0x18]
005f0fb4 : MOV dword ptr [ESI + 0xc],EDI
005f0fb7 : MOV dword ptr [ESI + 0x10],EAX
005f0fba : POP EDI
005f0fbb : MOV EAX,ESI
005f0fbd : POP ESI
005f0fbe : RET 0x10
