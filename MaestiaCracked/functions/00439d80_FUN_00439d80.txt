PROGRAM  : Maestia.exe
FUNCTION : FUN_00439d80
ENTRY    : 00439d80
BODY     : [[00439d80, 00439ea1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00439d80(undefined4 *param_1,undefined4 *param_2)

{
  int *piVar1;
  int *piVar2;
  undefined4 uVar3;
  undefined1 *puVar4;
  undefined1 *puVar5;
  uint uVar6;
  uint uVar7;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puVar5 = (undefined1 *)param_2;
  puVar4 = (undefined1 *)param_1;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7b4c0;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  uVar3 = *(undefined4 *)((int)param_1 + 8);
  uVar7 = *(int *)((int)param_2 + 0x18) - *(int *)((int)param_2 + 0x14) >> 2;
  uVar6 = *(int *)((int)param_1 + 0x18) - *(int *)((int)param_1 + 0x14) >> 2;
  param_2 = (undefined4 *)uVar3;
  if (uVar6 < uVar7) {
    FUN_0044f580((undefined1 *)((int)param_1 + 0x10),*(undefined4 *)((int)param_1 + 0x18),&param_2);
  }
  else if (uVar7 < uVar6) {
    FUN_004ce180(*(int *)((int)param_1 + 0x14) + uVar7 * 4,*(undefined4 *)((int)param_1 + 0x18));
  }
  *(undefined4 *)((int)param_1 + 0x20) = *(undefined4 *)(puVar5 + 0x20);
  *(undefined4 *)((int)param_1 + 0x24) = *(undefined4 *)(puVar5 + 0x24);
  *(undefined4 *)((int)param_1 + 0x28) = *(undefined4 *)(puVar5 + 0x28);
  FUN_00458e80((undefined1 *)((int)param_1 + 4));
  local_8 = 0;
  param_2 = (undefined4 *)**(undefined4 **)(puVar5 + 8);
  FUN_0047ca50((undefined1 *)((int)param_1 + 4),*(undefined4 *)((int)param_1 + 8),param_2,
               *(undefined4 **)(puVar5 + 8),param_1);
  *(undefined1 *)param_1 = *puVar5;
  param_2 = (undefined4 *)**(undefined4 **)(puVar5 + 8);
  uVar6 = 0;
  piVar1 = (int *)((int)param_1 + 0x18);
  piVar2 = (int *)((int)param_1 + 0x14);
  param_1 = (undefined4 *)**(undefined4 **)((int)param_1 + 8);
  if (*piVar1 - *piVar2 >> 2 != 0) {
    do {
      if (*(undefined4 **)(*(int *)(puVar5 + 0x14) + uVar6 * 4) == param_2) {
        *(undefined4 **)(*(int *)(puVar4 + 0x14) + uVar6 * 4) = param_1;
        uVar6 = uVar6 + 1;
      }
      else {
        param_1 = (undefined4 *)*param_1;
        param_2 = (undefined4 *)*param_2;
      }
    } while (uVar6 < (uint)(*(int *)(puVar4 + 0x18) - *(int *)(puVar4 + 0x14) >> 2));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00439d80 : PUSH EBP
00439d81 : MOV EBP,ESP
00439d83 : PUSH -0x1
00439d85 : PUSH 0xb7b4c0
00439d8a : MOV EAX,FS:[0x0]
00439d90 : PUSH EAX
00439d91 : PUSH ECX
00439d92 : PUSH EBX
00439d93 : PUSH ESI
00439d94 : PUSH EDI
00439d95 : MOV EAX,[0x00d66fa0]
00439d9a : XOR EAX,EBP
00439d9c : PUSH EAX
00439d9d : LEA EAX,[EBP + -0xc]
00439da0 : MOV FS:[0x0],EAX
00439da6 : MOV dword ptr [EBP + -0x10],ESP
00439da9 : MOV EBX,dword ptr [EBP + 0xc]
00439dac : MOV ESI,dword ptr [EBP + 0x8]
00439daf : MOV EAX,dword ptr [ESI + 0x8]
00439db2 : MOV dword ptr [EBP + 0xc],EAX
00439db5 : MOV ECX,dword ptr [EBX + 0x18]
00439db8 : SUB ECX,dword ptr [EBX + 0x14]
00439dbb : SAR ECX,0x2
00439dbe : LEA EDI,[ESI + 0x10]
00439dc1 : MOV EAX,dword ptr [EDI + 0x8]
00439dc4 : MOV EDX,dword ptr [EDI + 0x4]
00439dc7 : SUB EAX,EDX
00439dc9 : SAR EAX,0x2
00439dcc : CMP ECX,EAX
00439dce : JBE 0x00439de2
00439dd0 : LEA EDX,[EBP + 0xc]
00439dd3 : PUSH EDX
00439dd4 : SUB ECX,EAX
00439dd6 : MOV EAX,dword ptr [EDI + 0x8]
00439dd9 : PUSH EAX
00439dda : PUSH EDI
00439ddb : CALL 0x0044f580
00439de0 : JMP 0x00439df4
00439de2 : JNC 0x00439df4
00439de4 : LEA ECX,[EDX + ECX*0x4]
00439de7 : MOV EAX,dword ptr [EDI + 0x8]
00439dea : PUSH EAX
00439deb : PUSH ECX
00439dec : LEA EAX,[EBP + 0xc]
00439def : CALL 0x004ce180
00439df4 : MOV EAX,dword ptr [EBX + 0x20]
00439df7 : MOV dword ptr [ESI + 0x20],EAX
00439dfa : MOV ECX,dword ptr [EBX + 0x24]
00439dfd : MOV dword ptr [ESI + 0x24],ECX
00439e00 : FLD float ptr [EBX + 0x28]
00439e03 : FSTP float ptr [ESI + 0x28]
00439e06 : LEA EAX,[ESI + 0x4]
00439e09 : PUSH EAX
00439e0a : CALL 0x00458e80
00439e0f : MOV dword ptr [EBP + -0x4],0x0
00439e16 : WAIT
00439e17 : MOV ECX,dword ptr [ESI + 0x8]
00439e1a : MOV EAX,dword ptr [EBX + 0x8]
00439e1d : MOV EDX,dword ptr [EAX]
00439e1f : MOV dword ptr [EBP + 0xc],EDX
00439e22 : MOV EDX,dword ptr [EBP + 0x8]
00439e25 : PUSH EDX
00439e26 : PUSH EAX
00439e27 : MOV EAX,dword ptr [EBP + 0xc]
00439e2a : PUSH EAX
00439e2b : PUSH ECX
00439e2c : LEA EAX,[ESI + 0x4]
00439e2f : PUSH EAX
00439e30 : CALL 0x0047ca50
00439e35 : MOV CL,byte ptr [EBX]
00439e37 : MOV byte ptr [ESI],CL
00439e39 : WAIT
00439e3a : MOV dword ptr [EBP + -0x4],0xffffffff
00439e41 : MOV EDX,dword ptr [ESI + 0x8]
00439e44 : MOV EAX,dword ptr [EDX]
00439e46 : MOV dword ptr [EBP + 0x8],EAX
00439e49 : MOV ECX,dword ptr [EBX + 0x8]
00439e4c : MOV ECX,dword ptr [ECX]
00439e4e : MOV dword ptr [EBP + 0xc],ECX
00439e51 : XOR EAX,EAX
00439e53 : MOV EDX,dword ptr [EDI + 0x8]
00439e56 : SUB EDX,dword ptr [EDI + 0x4]
00439e59 : SAR EDX,0x2
00439e5c : TEST EDX,EDX
00439e5e : JBE 0x00439e8e
00439e60 : MOV EDX,dword ptr [EBX + 0x14]
00439e63 : CMP dword ptr [EDX + EAX*0x4],ECX
00439e66 : MOV EDX,dword ptr [EBP + 0x8]
00439e69 : JNZ 0x00439e77
00439e6b : MOV ECX,dword ptr [ESI + 0x14]
00439e6e : MOV dword ptr [ECX + EAX*0x4],EDX
00439e71 : INC EAX
00439e72 : MOV ECX,dword ptr [EBP + 0xc]
00439e75 : JMP 0x00439e81
00439e77 : MOV EDX,dword ptr [EDX]
00439e79 : MOV dword ptr [EBP + 0x8],EDX
00439e7c : MOV ECX,dword ptr [ECX]
00439e7e : MOV dword ptr [EBP + 0xc],ECX
00439e81 : MOV EDX,dword ptr [EDI + 0x8]
00439e84 : SUB EDX,dword ptr [EDI + 0x4]
00439e87 : SAR EDX,0x2
00439e8a : CMP EAX,EDX
00439e8c : JC 0x00439e60
00439e8e : MOV ECX,dword ptr [EBP + -0xc]
00439e91 : MOV dword ptr FS:[0x0],ECX
00439e98 : POP ECX
00439e99 : POP EDI
00439e9a : POP ESI
00439e9b : POP EBX
00439e9c : MOV ESP,EBP
00439e9e : POP EBP
00439e9f : RET 0x8
