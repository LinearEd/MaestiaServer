PROGRAM  : Maestia.exe
FUNCTION : FUN_00a4fd40
ENTRY    : 00a4fd40
BODY     : [[00a4fd40, 00a4fde1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a4fd40(void)

{
  int iVar1;
  ushort uVar2;
  int unaff_ESI;
  
  (**(code **)(**(int **)(unaff_ESI + 0x3c) + 4))
            (*(int **)(unaff_ESI + 0x3c),"SetLastConnectServer",&DAT_00cc769c,
             *(undefined4 *)(DAT_017248d0 + 4));
  (**(code **)(**(int **)(unaff_ESI + 0x3c) + 4))
            (*(int **)(unaff_ESI + 0x3c),"DrawServer",&DAT_00cc76b8,0);
  if (DAT_00d6c963 != '\0') {
    uVar2 = GetAsyncKeyState(0x10);
    if ((uVar2 & 0x8000) != 0) {
      DAT_00d6c963 = '\0';
    }
  }
  if ((DAT_00da98b8 != '\0') && (DAT_00d6c963 != '\0')) {
    iVar1 = *(int *)(DAT_017248d0 + 4);
    *(int *)(unaff_ESI + 0x120) = iVar1;
    if ((iVar1 == -1) && (*(int *)(unaff_ESI + 0x118) != 0)) {
      *(undefined4 *)(unaff_ESI + 0x120) = *(undefined4 *)(**(int **)(unaff_ESI + 0x114) + 0xc);
    }
    FUN_00a4e370(unaff_ESI);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a4fd40 : MOV EDX,dword ptr [0x017248d0]
00a4fd46 : MOV EDX,dword ptr [EDX + 0x4]
00a4fd49 : MOV EAX,dword ptr [ESI + 0x3c]
00a4fd4c : MOV ECX,dword ptr [EAX]
00a4fd4e : PUSH EDX
00a4fd4f : PUSH 0xcc769c
00a4fd54 : PUSH 0xcc76a0
00a4fd59 : PUSH EAX
00a4fd5a : MOV EAX,dword ptr [ECX + 0x4]
00a4fd5d : CALL EAX
00a4fd5f : MOV EAX,dword ptr [ESI + 0x3c]
00a4fd62 : MOV ECX,dword ptr [EAX]
00a4fd64 : MOV EDX,dword ptr [ECX + 0x4]
00a4fd67 : PUSH 0x0
00a4fd69 : PUSH 0xcc76b8
00a4fd6e : PUSH 0xcc76bc
00a4fd73 : PUSH EAX
00a4fd74 : CALL EDX
00a4fd76 : ADD ESP,0x20
00a4fd79 : CMP byte ptr [0x00d6c963],0x0
00a4fd80 : JZ 0x00a4fd9b
00a4fd82 : PUSH 0x10
00a4fd84 : CALL dword ptr [0x00b8542c]
00a4fd8a : MOV ECX,0x8000
00a4fd8f : TEST CX,AX
00a4fd92 : JZ 0x00a4fd9b
00a4fd94 : MOV byte ptr [0x00d6c963],0x0
00a4fd9b : CMP byte ptr [0x00da98b8],0x0
00a4fda2 : JZ 0x00a4fde1
00a4fda4 : CMP byte ptr [0x00d6c963],0x0
00a4fdab : JZ 0x00a4fde1
00a4fdad : MOV EDX,dword ptr [0x017248d0]
00a4fdb3 : MOV EAX,dword ptr [EDX + 0x4]
00a4fdb6 : MOV dword ptr [ESI + 0x120],EAX
00a4fdbc : CMP EAX,-0x1
00a4fdbf : JNZ 0x00a4fddb
00a4fdc1 : CMP dword ptr [ESI + 0x118],0x0
00a4fdc8 : JZ 0x00a4fddb
00a4fdca : MOV EAX,dword ptr [ESI + 0x114]
00a4fdd0 : MOV ECX,dword ptr [EAX]
00a4fdd2 : MOV EDX,dword ptr [ECX + 0xc]
00a4fdd5 : MOV dword ptr [ESI + 0x120],EDX
00a4fddb : PUSH ESI
00a4fddc : CALL 0x00a4e370
00a4fde1 : RET
