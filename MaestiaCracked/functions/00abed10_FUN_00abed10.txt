PROGRAM  : Maestia.exe
FUNCTION : FUN_00abed10
ENTRY    : 00abed10
BODY     : [[00abed10, 00abefb2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00abed10(void)

{
  int iVar1;
  char cVar2;
  uint uVar3;
  int *piVar4;
  undefined4 uVar5;
  int in_ECX;
  int in_EDX;
  int iVar6;
  undefined1 local_98 [24];
  undefined1 local_80 [32];
  undefined1 local_60 [4];
  int local_5c;
  int local_58;
  undefined1 local_54 [4];
  int local_50;
  int local_4c;
  int local_48;
  LPCRITICAL_SECTION local_44;
  char *local_40;
  undefined4 local_3c;
  int local_38;
  undefined4 local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b497eb;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_44 = (LPCRITICAL_SECTION)(in_ECX + 0x4c);
  local_38 = 0;
  local_40 = ".\\Objects\\AvaAnimationList.cpp";
  local_3c = 0x98;
  local_34 = 1;
  local_4c = in_EDX;
  local_14 = uVar3;
  FUN_006ef1a0(&local_44);
  local_8 = 0;
  local_5c = in_ECX + 0x38;
  piVar4 = (int *)FUN_00418ee0(local_5c,&local_50);
  iVar1 = *piVar4;
  iVar6 = *(int *)(in_ECX + 0x3c);
  local_8 = 0xffffffff;
  if (local_38 != 0) {
    LeaveCriticalSection(local_44);
    local_38 = 0;
  }
  if (iVar1 == iVar6) {
    local_50 = FUN_006f0760(0xf4,".\\Objects\\AvaAnimationList.cpp",0xa1,0,uVar3);
    local_8 = 1;
    if (local_50 == 0) {
      local_48 = 0;
    }
    else {
      local_48 = FUN_00a68870(local_50);
    }
    iVar6 = local_48;
    local_8 = 0xffffffff;
    local_50 = local_48;
    cVar2 = FUN_00a6a0b0();
    if (cVar2 != '\0') {
      local_18 = 7;
      local_1c = 0;
      local_2c = 0;
      FUN_00405eb0(iVar6 + 0x24,0,0xffffffff);
      local_8 = 2;
      FUN_0070c1f0();
      local_44 = (LPCRITICAL_SECTION)(in_ECX + 0x4c);
      local_38 = 0;
      local_40 = ".\\Objects\\AvaAnimationList.cpp";
      local_3c = 0xaa;
      local_34 = 1;
      FUN_006ef1a0(&local_44);
      local_8._0_1_ = 3;
      FUN_0044f270(in_ECX + 0xc,&local_58,local_30);
      if (local_58 == *(int *)(in_ECX + 0x14)) {
        uVar5 = FUN_0043c130(local_80,&local_50);
        local_8._0_1_ = 4;
        FUN_0042bc30(in_ECX + 0xc,local_54,uVar5,*(undefined4 *)(in_ECX + 0x14));
        local_8._0_1_ = 3;
        FUN_0044cb00(local_80);
        uVar5 = FUN_0043a150(local_98,local_30);
        local_8._0_1_ = 5;
        FUN_00414920(local_5c,local_60,uVar5);
        local_8._0_1_ = 3;
        FUN_0044ca10(local_98);
        local_8 = CONCAT31(local_8._1_3_,2);
        if (local_38 != 0) {
          LeaveCriticalSection(local_44);
          local_38 = 0;
        }
        local_8 = 0xffffffff;
        FUN_00406560();
      }
      else {
        local_8 = CONCAT31(local_8._1_3_,2);
        if (local_38 != 0) {
          LeaveCriticalSection(local_44);
          local_38 = 0;
        }
        if (*(uint *)(iVar6 + 0x3c) < 8) {
          iVar6 = iVar6 + 0x28;
        }
        else {
          iVar6 = *(int *)(iVar6 + 0x28);
        }
        if (*(uint *)(local_4c + 0x18) < 8) {
          local_4c = local_4c + 4;
        }
        else {
          local_4c = *(int *)(local_4c + 4);
        }
        FUN_008018d0(L"[CRITICAL_ERROR] AvaAnimationTable::RegisterEvent() %s, %s",local_4c,iVar6);
        local_8 = 0xffffffff;
        FUN_00406560();
        if (local_48 != 0) {
          FUN_00439cf0();
        }
      }
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00abed10 : PUSH EBP
00abed11 : MOV EBP,ESP
00abed13 : PUSH -0x1
00abed15 : PUSH 0xb497eb
00abed1a : MOV EAX,FS:[0x0]
00abed20 : PUSH EAX
00abed21 : SUB ESP,0x8c
00abed27 : MOV EAX,[0x00d66fa0]
00abed2c : XOR EAX,EBP
00abed2e : MOV dword ptr [EBP + -0x10],EAX
00abed31 : PUSH EBX
00abed32 : PUSH ESI
00abed33 : PUSH EDI
00abed34 : PUSH EAX
00abed35 : LEA EAX,[EBP + -0xc]
00abed38 : MOV FS:[0x0],EAX
00abed3e : MOV EDI,ECX
00abed40 : LEA EAX,[EDI + 0x4c]
00abed43 : MOV dword ptr [EBP + -0x40],EAX
00abed46 : LEA EAX,[EBP + -0x40]
00abed49 : MOV ESI,EDX
00abed4b : PUSH EAX
00abed4c : MOV dword ptr [EBP + -0x48],ESI
00abed4f : XOR BL,BL
00abed51 : MOV dword ptr [EBP + -0x34],0x0
00abed58 : MOV dword ptr [EBP + -0x3c],0xc4804c
00abed5f : MOV dword ptr [EBP + -0x38],0x98
00abed66 : MOV dword ptr [EBP + -0x30],0x1
00abed6d : CALL 0x006ef1a0
00abed72 : MOV dword ptr [EBP + -0x4],0x0
00abed79 : LEA ECX,[EBP + -0x4c]
00abed7c : LEA EAX,[EDI + 0x38]
00abed7f : PUSH ECX
00abed80 : PUSH EAX
00abed81 : MOV dword ptr [EBP + -0x58],EAX
00abed84 : CALL 0x00418ee0
00abed89 : MOV EAX,dword ptr [EAX]
00abed8b : CMP EAX,dword ptr [EDI + 0x3c]
00abed8e : JNZ 0x00abed92
00abed90 : MOV BL,0x1
00abed92 : MOV dword ptr [EBP + -0x4],0xffffffff
00abed99 : CMP dword ptr [EBP + -0x34],0x0
00abed9d : JZ 0x00abedb0
00abed9f : MOV EDX,dword ptr [EBP + -0x40]
00abeda2 : PUSH EDX
00abeda3 : CALL dword ptr [0x00b8511c]
00abeda9 : MOV dword ptr [EBP + -0x34],0x0
00abedb0 : TEST BL,BL
00abedb2 : JZ 0x00abef18
00abedb8 : PUSH 0x0
00abedba : PUSH 0xa1
00abedbf : PUSH 0xc4806c
00abedc4 : PUSH 0xf4
00abedc9 : CALL 0x006f0760
00abedce : ADD ESP,0x10
00abedd1 : MOV dword ptr [EBP + -0x4c],EAX
00abedd4 : MOV dword ptr [EBP + -0x4],0x1
00abeddb : TEST EAX,EAX
00abeddd : JZ 0x00abedec
00abeddf : PUSH EAX
00abede0 : CALL 0x00a68870
00abede5 : MOV EBX,EAX
00abede7 : MOV dword ptr [EBP + -0x44],EBX
00abedea : JMP 0x00abedf6
00abedec : MOV dword ptr [EBP + -0x44],0x0
00abedf3 : MOV EBX,dword ptr [EBP + -0x44]
00abedf6 : MOV dword ptr [EBP + -0x4],0xffffffff
00abedfd : MOV EDX,ESI
00abedff : MOV ECX,EBX
00abee01 : MOV dword ptr [EBP + -0x4c],EBX
00abee04 : CALL 0x00a6a0b0
00abee09 : TEST AL,AL
00abee0b : JZ 0x00abefac
00abee11 : PUSH -0x1
00abee13 : XOR ESI,ESI
00abee15 : PUSH ESI
00abee16 : ADD EBX,0x24
00abee19 : XOR EAX,EAX
00abee1b : PUSH EBX
00abee1c : LEA ECX,[EBP + -0x2c]
00abee1f : MOV dword ptr [EBP + -0x14],0x7
00abee26 : MOV dword ptr [EBP + -0x18],ESI
00abee29 : MOV word ptr [EBP + -0x28],AX
00abee2d : CALL 0x00405eb0
00abee32 : MOV dword ptr [EBP + -0x4],0x2
00abee39 : LEA ECX,[EBP + -0x2c]
00abee3c : CALL 0x0070c1f0
00abee41 : LEA ECX,[EBP + -0x40]
00abee44 : LEA EAX,[EDI + 0x4c]
00abee47 : PUSH ECX
00abee48 : MOV dword ptr [EBP + -0x34],ESI
00abee4b : MOV dword ptr [EBP + -0x40],EAX
00abee4e : MOV dword ptr [EBP + -0x3c],0xc480ac
00abee55 : MOV dword ptr [EBP + -0x38],0xaa
00abee5c : MOV dword ptr [EBP + -0x30],0x1
00abee63 : CALL 0x006ef1a0
00abee68 : MOV byte ptr [EBP + -0x4],0x3
00abee6c : LEA EDX,[EBP + -0x2c]
00abee6f : PUSH EDX
00abee70 : LEA EAX,[EBP + -0x54]
00abee73 : PUSH EAX
00abee74 : LEA ESI,[EDI + 0xc]
00abee77 : PUSH ESI
00abee78 : CALL 0x0044f270
00abee7d : MOV EDI,dword ptr [EDI + 0x14]
00abee80 : CMP dword ptr [EBP + -0x54],EDI
00abee83 : JNZ 0x00abef36
00abee89 : LEA ECX,[EBP + -0x4c]
00abee8c : PUSH ECX
00abee8d : LEA EDX,[EBP + -0x7c]
00abee90 : PUSH EDX
00abee91 : LEA ECX,[EBP + -0x2c]
00abee94 : CALL 0x0043c130
00abee99 : MOV byte ptr [EBP + -0x4],0x4
00abee9d : MOV ECX,dword ptr [ESI + 0x8]
00abeea0 : PUSH ECX
00abeea1 : PUSH EAX
00abeea2 : LEA EAX,[EBP + -0x50]
00abeea5 : PUSH EAX
00abeea6 : PUSH ESI
00abeea7 : CALL 0x0042bc30
00abeeac : MOV byte ptr [EBP + -0x4],0x3
00abeeb0 : LEA ECX,[EBP + -0x7c]
00abeeb3 : PUSH ECX
00abeeb4 : CALL 0x0044cb00
00abeeb9 : MOV ECX,dword ptr [EBP + -0x48]
00abeebc : LEA EDX,[EBP + -0x2c]
00abeebf : PUSH EDX
00abeec0 : LEA EAX,[EBP + 0xffffff6c]
00abeec6 : PUSH EAX
00abeec7 : CALL 0x0043a150
00abeecc : MOV byte ptr [EBP + -0x4],0x5
00abeed0 : MOV EDX,dword ptr [EBP + -0x58]
00abeed3 : PUSH EAX
00abeed4 : LEA ECX,[EBP + -0x5c]
00abeed7 : PUSH ECX
00abeed8 : PUSH EDX
00abeed9 : CALL 0x00414920
00abeede : MOV byte ptr [EBP + -0x4],0x3
00abeee2 : LEA EAX,[EBP + 0xffffff6c]
00abeee8 : PUSH EAX
00abeee9 : CALL 0x0044ca10
00abeeee : MOV byte ptr [EBP + -0x4],0x2
00abeef2 : CMP dword ptr [EBP + -0x34],0x0
00abeef6 : JZ 0x00abef09
00abeef8 : MOV ECX,dword ptr [EBP + -0x40]
00abeefb : PUSH ECX
00abeefc : CALL dword ptr [0x00b8511c]
00abef02 : MOV dword ptr [EBP + -0x34],0x0
00abef09 : MOV dword ptr [EBP + -0x4],0xffffffff
00abef10 : LEA ECX,[EBP + -0x2c]
00abef13 : CALL 0x00406560
00abef18 : MOV AL,0x1
00abef1a : MOV ECX,dword ptr [EBP + -0xc]
00abef1d : MOV dword ptr FS:[0x0],ECX
00abef24 : POP ECX
00abef25 : POP EDI
00abef26 : POP ESI
00abef27 : POP EBX
00abef28 : MOV ECX,dword ptr [EBP + -0x10]
00abef2b : XOR ECX,EBP
00abef2d : CALL 0x00633e6b
00abef32 : MOV ESP,EBP
00abef34 : POP EBP
00abef35 : RET
00abef36 : MOV byte ptr [EBP + -0x4],0x2
00abef3a : CMP dword ptr [EBP + -0x34],0x0
00abef3e : JZ 0x00abef51
00abef40 : MOV EDX,dword ptr [EBP + -0x40]
00abef43 : PUSH EDX
00abef44 : CALL dword ptr [0x00b8511c]
00abef4a : MOV dword ptr [EBP + -0x34],0x0
00abef51 : MOV ECX,0x8
00abef56 : CMP dword ptr [EBX + 0x18],ECX
00abef59 : JC 0x00abef60
00abef5b : MOV EBX,dword ptr [EBX + 0x4]
00abef5e : JMP 0x00abef63
00abef60 : ADD EBX,0x4
00abef63 : MOV EAX,dword ptr [EBP + -0x48]
00abef66 : CMP dword ptr [EAX + 0x18],ECX
00abef69 : JC 0x00abef70
00abef6b : MOV EAX,dword ptr [EAX + 0x4]
00abef6e : JMP 0x00abef73
00abef70 : ADD EAX,0x4
00abef73 : MOV ESI,dword ptr [0x00da98e8]
00abef79 : PUSH EBX
00abef7a : PUSH EAX
00abef7b : PUSH 0xc480d0
00abef80 : CALL 0x008018d0
00abef85 : ADD ESP,0xc
00abef88 : MOV dword ptr [EBP + -0x4],0xffffffff
00abef8f : LEA ECX,[EBP + -0x2c]
00abef92 : CALL 0x00406560
00abef97 : MOV ESI,dword ptr [EBP + -0x44]
00abef9a : TEST ESI,ESI
00abef9c : JZ 0x00abef18
00abefa2 : CALL 0x00439cf0
00abefa7 : JMP 0x00abef18
00abefac : XOR AL,AL
00abefae : JMP 0x00abef1a
