PROGRAM  : Maestia.exe
FUNCTION : FUN_005e6950
ENTRY    : 005e6950
BODY     : [[005e6950, 005e6a0e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005e6950(int param_1,undefined4 param_2)

{
  int iVar1;
  int iVar2;
  GThread *this;
  
  iVar2 = *(int *)(param_1 + 0x314);
  if (iVar2 == 0) {
    iVar2 = param_1 + 0x28;
  }
  *(undefined1 *)(iVar2 + 0x15) = 0;
  if (*(int *)(iVar2 + 0x30) - *(int *)(iVar2 + 0x2c) < 2) {
    FUN_00539fb0(2);
  }
  iVar1 = *(int *)(iVar2 + 0x2c);
  this = (GThread *)
         (uint)CONCAT11(*(undefined1 *)(*(int *)(iVar2 + 0x3c) + 1 + iVar1),
                        *(undefined1 *)(*(int *)(iVar2 + 0x3c) + iVar1));
  *(int *)(iVar2 + 0x2c) = iVar1 + 2;
  GThread::OnExit(this);
  iVar2 = FUN_00515840(0xd0,0);
  if (iVar2 == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_0060e1d0();
  }
  FUN_0060e310(param_1,param_2,1);
  if (*(int *)(param_1 + 0x2e8) == 0) {
    FUN_00566b90(this,iVar2);
  }
  if (iVar2 != 0) {
    FUN_00524240();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005e6950 : PUSH EBX
005e6951 : PUSH ESI
005e6952 : PUSH EDI
005e6953 : MOV EDI,dword ptr [ESP + 0x10]
005e6957 : MOV ESI,dword ptr [EDI + 0x314]
005e695d : TEST ESI,ESI
005e695f : JNZ 0x005e6964
005e6961 : LEA ESI,[EDI + 0x28]
005e6964 : MOV EAX,dword ptr [ESI + 0x30]
005e6967 : SUB EAX,dword ptr [ESI + 0x2c]
005e696a : MOV byte ptr [ESI + 0x15],0x0
005e696e : CMP EAX,0x2
005e6971 : JGE 0x005e697c
005e6973 : PUSH 0x2
005e6975 : MOV ECX,ESI
005e6977 : CALL 0x00539fb0
005e697c : MOV EAX,dword ptr [ESI + 0x2c]
005e697f : MOV ECX,dword ptr [ESI + 0x3c]
005e6982 : MOVZX DX,byte ptr [ECX + EAX*0x1 + 0x1]
005e6988 : ADD ECX,EAX
005e698a : MOVZX CX,byte ptr [ECX]
005e698e : SHL DX,0x8
005e6992 : OR DX,CX
005e6995 : MOVZX ECX,DX
005e6998 : ADD EAX,0x2
005e699b : MOV dword ptr [ESI + 0x2c],EAX
005e699e : MOVZX ESI,CX
005e69a1 : PUSH ESI
005e69a2 : LEA EDX,[EDI + 0x14]
005e69a5 : PUSH 0xb93fc8
005e69aa : PUSH EDX
005e69ab : CALL 0x0051d420
005e69b0 : MOV EAX,dword ptr [EDI + 0x20]
005e69b3 : MOV EAX,dword ptr [EAX + 0x1c]
005e69b6 : ADD ESP,0xc
005e69b9 : PUSH 0x0
005e69bb : PUSH 0xd0
005e69c0 : MOV ECX,EAX
005e69c2 : CALL 0x00515840
005e69c7 : TEST EAX,EAX
005e69c9 : JZ 0x005e69d6
005e69cb : MOV ECX,EAX
005e69cd : CALL 0x0060e1d0
005e69d2 : MOV EBX,EAX
005e69d4 : JMP 0x005e69d8
005e69d6 : XOR EBX,EBX
005e69d8 : MOV EAX,dword ptr [ESP + 0x14]
005e69dc : PUSH 0x1
005e69de : PUSH EAX
005e69df : PUSH EDI
005e69e0 : MOV ECX,EBX
005e69e2 : CALL 0x0060e310
005e69e7 : CMP dword ptr [EDI + 0x2e8],0x0
005e69ee : JNZ 0x005e69fe
005e69f0 : PUSH EBX
005e69f1 : PUSH ECX
005e69f2 : MOV EAX,ESP
005e69f4 : MOV dword ptr [EAX],ESI
005e69f6 : MOV ECX,dword ptr [EDI + 0x20]
005e69f9 : CALL 0x00566b90
005e69fe : TEST EBX,EBX
005e6a00 : JZ 0x005e6a09
005e6a02 : MOV ECX,EBX
005e6a04 : CALL 0x00524240
005e6a09 : POP EDI
005e6a0a : POP ESI
005e6a0b : POP EBX
005e6a0c : RET 0x8
