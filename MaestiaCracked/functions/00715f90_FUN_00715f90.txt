PROGRAM  : Maestia.exe
FUNCTION : FUN_00715f90
ENTRY    : 00715f90
BODY     : [[00715f90, 0071612b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00715f90(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  undefined4 *puVar4;
  code *pcVar5;
  int iVar6;
  int in_ECX;
  
  iVar3 = FUN_004c5420();
  if (*(char *)(iVar3 + 0x14) != '\0') {
    puVar4 = (undefined4 *)FUN_004c5420();
    if (*(char *)(puVar4 + 5) != '\0') {
      (**(code **)(*(int *)*puVar4 + 0x30))((int *)*puVar4);
    }
    *(undefined1 *)(puVar4 + 5) = 0;
  }
  if ((*(int *)(in_ECX + 0xc) != 0) && (*(int *)(in_ECX + 8) != -1)) {
    puVar4 = (undefined4 *)FUN_004c5420();
    iVar3 = (**(code **)(**(int **)(DAT_017251ac + 0x18) + 400))
                      (*(int **)(DAT_017251ac + 0x18),0,*puVar4,0,0x18);
    if (-1 < iVar3) {
      piVar1 = *(int **)(DAT_017251ac + 0x18);
      piVar2 = *(int **)(DAT_017251f8 + 0xe8);
      if (*(char *)((int)piVar2 + 0x157) == '\0') {
        pcVar5 = *(code **)(*piVar2 + 0x30);
      }
      else {
        pcVar5 = *(code **)(*piVar2 + 0x20);
      }
      (*pcVar5)();
      (**(code **)(*piVar1 + 0xb0))(piVar1,3,piVar2 + 0x1d);
      piVar2 = *(int **)(DAT_017251f8 + 0xe8);
      (**(code **)(*piVar2 + 0x1c))();
      (**(code **)(*piVar1 + 0xb0))(piVar1,2,piVar2 + 0x2d);
      (**(code **)(*piVar1 + 0xb0))(piVar1,0x100,*(int *)(in_ECX + 4) + 0x20);
      (**(code **)(*piVar1 + 0x1ac))(piVar1,0);
      (**(code **)(*piVar1 + 0x170))(piVar1,0);
      (**(code **)(*piVar1 + 0x164))(piVar1,0x142);
      (**(code **)(*piVar1 + 0xe4))(piVar1,0x89,0);
      (**(code **)(*piVar1 + 0xe4))(piVar1,0xe,0);
      iVar3 = *piVar1;
      iVar6 = FUN_004c5420();
      (**(code **)(iVar3 + 0x1a0))(piVar1,*(undefined4 *)(iVar6 + 8));
      if (*(int *)(in_ECX + 0x10) < 3) {
        (**(code **)(*piVar1 + 400))(piVar1,0,0,0,0x18);
      }
      else {
        (**(code **)(*piVar1 + 0x148))
                  (piVar1,4,*(undefined4 *)(in_ECX + 8),0,*(undefined4 *)(in_ECX + 0xc),0,
                   *(undefined4 *)(in_ECX + 0x14));
      }
      (**(code **)(*piVar1 + 0xe4))(piVar1,0xe,1);
      *(undefined4 *)(in_ECX + 8) = 0xffffffff;
      *(undefined4 *)(in_ECX + 0x14) = 0;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00715f90 : PUSH ESI
00715f91 : PUSH EDI
00715f92 : MOV EDI,ECX
00715f94 : CALL 0x004c5420
00715f99 : CMP byte ptr [EAX + 0x14],0x0
00715f9d : JZ 0x00715fba
00715f9f : CALL 0x004c5420
00715fa4 : MOV ESI,EAX
00715fa6 : CMP byte ptr [ESI + 0x14],0x0
00715faa : JZ 0x00715fb6
00715fac : MOV EAX,dword ptr [ESI]
00715fae : MOV ECX,dword ptr [EAX]
00715fb0 : MOV EDX,dword ptr [ECX + 0x30]
00715fb3 : PUSH EAX
00715fb4 : CALL EDX
00715fb6 : MOV byte ptr [ESI + 0x14],0x0
00715fba : CMP dword ptr [EDI + 0xc],0x0
00715fbe : JZ 0x00716129
00715fc4 : CMP dword ptr [EDI + 0x8],-0x1
00715fc8 : JZ 0x00716129
00715fce : CALL 0x004c5420
00715fd3 : MOV EAX,dword ptr [EAX]
00715fd5 : MOV ECX,dword ptr [0x017251ac]
00715fdb : MOV ECX,dword ptr [ECX + 0x18]
00715fde : MOV EDX,dword ptr [ECX]
00715fe0 : PUSH 0x18
00715fe2 : PUSH 0x0
00715fe4 : PUSH EAX
00715fe5 : PUSH 0x0
00715fe7 : PUSH ECX
00715fe8 : MOV ECX,dword ptr [EDX + 0x190]
00715fee : CALL ECX
00715ff0 : TEST EAX,EAX
00715ff2 : JL 0x00716129
00715ff8 : MOV EAX,[0x017251f8]
00715ffd : MOV EDX,dword ptr [0x017251ac]
00716003 : MOV ESI,dword ptr [EDX + 0x18]
00716006 : PUSH EBX
00716007 : MOV EBX,dword ptr [EAX + 0xe8]
0071600d : CMP byte ptr [EBX + 0x157],0x0
00716014 : MOV EDX,dword ptr [EBX]
00716016 : MOV ECX,EBX
00716018 : JZ 0x0071601f
0071601a : MOV EAX,dword ptr [EDX + 0x20]
0071601d : JMP 0x00716022
0071601f : MOV EAX,dword ptr [EDX + 0x30]
00716022 : CALL EAX
00716024 : MOV ECX,dword ptr [ESI]
00716026 : MOV EDX,dword ptr [ECX + 0xb0]
0071602c : ADD EBX,0x74
0071602f : PUSH EBX
00716030 : PUSH 0x3
00716032 : PUSH ESI
00716033 : CALL EDX
00716035 : MOV EAX,[0x017251f8]
0071603a : MOV EBX,dword ptr [EAX + 0xe8]
00716040 : MOV EDX,dword ptr [EBX]
00716042 : MOV EAX,dword ptr [EDX + 0x1c]
00716045 : MOV ECX,EBX
00716047 : CALL EAX
00716049 : MOV ECX,dword ptr [ESI]
0071604b : MOV EDX,dword ptr [ECX + 0xb0]
00716051 : ADD EBX,0xb4
00716057 : PUSH EBX
00716058 : PUSH 0x2
0071605a : PUSH ESI
0071605b : CALL EDX
0071605d : MOV ECX,dword ptr [EDI + 0x4]
00716060 : MOV EAX,dword ptr [ESI]
00716062 : MOV EDX,dword ptr [EAX + 0xb0]
00716068 : ADD ECX,0x20
0071606b : PUSH ECX
0071606c : PUSH 0x100
00716071 : PUSH ESI
00716072 : CALL EDX
00716074 : MOV EAX,dword ptr [ESI]
00716076 : MOV ECX,dword ptr [EAX + 0x1ac]
0071607c : PUSH 0x0
0071607e : PUSH ESI
0071607f : CALL ECX
00716081 : MOV EDX,dword ptr [ESI]
00716083 : MOV EAX,dword ptr [EDX + 0x170]
00716089 : PUSH 0x0
0071608b : PUSH ESI
0071608c : CALL EAX
0071608e : MOV ECX,dword ptr [ESI]
00716090 : MOV EDX,dword ptr [ECX + 0x164]
00716096 : PUSH 0x142
0071609b : PUSH ESI
0071609c : CALL EDX
0071609e : MOV EAX,dword ptr [ESI]
007160a0 : MOV ECX,dword ptr [EAX + 0xe4]
007160a6 : PUSH 0x0
007160a8 : PUSH 0x89
007160ad : PUSH ESI
007160ae : CALL ECX
007160b0 : MOV EDX,dword ptr [ESI]
007160b2 : MOV EAX,dword ptr [EDX + 0xe4]
007160b8 : PUSH 0x0
007160ba : PUSH 0xe
007160bc : PUSH ESI
007160bd : CALL EAX
007160bf : MOV EBX,dword ptr [ESI]
007160c1 : CALL 0x004c5420
007160c6 : MOV ECX,dword ptr [EAX + 0x8]
007160c9 : MOV EDX,dword ptr [EBX + 0x1a0]
007160cf : PUSH ECX
007160d0 : PUSH ESI
007160d1 : CALL EDX
007160d3 : CMP dword ptr [EDI + 0x10],0x3
007160d7 : POP EBX
007160d8 : JGE 0x007160ef
007160da : MOV EAX,dword ptr [ESI]
007160dc : MOV ECX,dword ptr [EAX + 0x190]
007160e2 : PUSH 0x18
007160e4 : PUSH 0x0
007160e6 : PUSH 0x0
007160e8 : PUSH 0x0
007160ea : PUSH ESI
007160eb : CALL ECX
007160ed : JMP 0x0071610c
007160ef : MOV EAX,dword ptr [EDI + 0x14]
007160f2 : MOV ECX,dword ptr [EDI + 0xc]
007160f5 : MOV EDX,dword ptr [ESI]
007160f7 : PUSH EAX
007160f8 : MOV EAX,dword ptr [EDI + 0x8]
007160fb : PUSH 0x0
007160fd : PUSH ECX
007160fe : MOV ECX,dword ptr [EDX + 0x148]
00716104 : PUSH 0x0
00716106 : PUSH EAX
00716107 : PUSH 0x4
00716109 : PUSH ESI
0071610a : CALL ECX
0071610c : MOV EDX,dword ptr [ESI]
0071610e : MOV EAX,dword ptr [EDX + 0xe4]
00716114 : PUSH 0x1
00716116 : PUSH 0xe
00716118 : PUSH ESI
00716119 : CALL EAX
0071611b : MOV dword ptr [EDI + 0x8],0xffffffff
00716122 : MOV dword ptr [EDI + 0x14],0x0
00716129 : POP EDI
0071612a : POP ESI
0071612b : RET
