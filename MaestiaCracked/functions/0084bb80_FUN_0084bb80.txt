PROGRAM  : Maestia.exe
FUNCTION : FUN_0084bb80
ENTRY    : 0084bb80
BODY     : [[0084bb80, 0084bffe]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0084bb80(char param_1)

{
  int *piVar1;
  undefined1 uVar2;
  int iVar3;
  float fVar4;
  float fVar5;
  int iVar6;
  undefined4 uVar7;
  uint uVar8;
  char cVar9;
  int *in_ECX;
  undefined1 local_ac [4];
  uint uStack_a8;
  uint uStack_a4;
  undefined4 uStack_98;
  uint uStack_94;
  undefined4 local_90;
  uint local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 uStack_7c;
  uint uStack_78;
  undefined4 local_74;
  int local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined1 local_34 [24];
  void *pvStack_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b37bfe;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  FUN_0084baf0(DAT_00d66fa0 ^ (uint)&stack0xffffff40);
  iVar6 = in_ECX[0xfd];
  if ((iVar6 == 0) && (in_ECX[0xfe] == 0)) {
    if ((param_1 == '\0') || (in_ECX[0xfb] == 0)) {
      FUN_00406460(L"NamePad");
      local_c = 1;
      local_50 = 0x3f800000;
      local_4c = 0x3f800000;
      local_48 = 0x3f800000;
      local_84 = 0x3f800000;
      local_70 = in_ECX[0x106];
      local_90 = 0;
      local_8c = 0;
      local_88 = 0;
      local_74 = 0;
      local_6c = 0;
      iVar6 = (**(code **)(*(int *)in_ECX[0xfa] + 0x20))(local_ac,&local_74,&local_90,&local_50);
      in_ECX[0xfd] = iVar6;
      pvStack_1c = (void *)0xffffffff;
      if (7 < uStack_a4) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      uStack_a4 = 7;
      uStack_a8 = 0;
    }
    else {
      FUN_00406460(L"NamePad");
      local_c = 0;
      local_5c = 0x3f800000;
      local_58 = 0x3f800000;
      local_54 = 0x3f800000;
      local_38 = 0x3f800000;
      local_44 = 0;
      local_40 = 0;
      local_3c = 0;
      local_68 = 0;
      local_64 = 0x41700000;
      local_60 = 0;
      iVar6 = (**(code **)(*(int *)in_ECX[0xfb] + 0x20))(local_34,&local_68,&local_44,&local_5c);
      in_ECX[0xfd] = iVar6;
      pvStack_1c = (void *)0xffffffff;
      FUN_00406560();
    }
    piVar1 = in_ECX + 3;
    iVar6 = FUN_007cb9f0(piVar1,0);
    in_ECX[0xfe] = iVar6;
    (**(code **)(*(int *)in_ECX[0xfd] + 0xec))(iVar6,1);
    iVar6 = FUN_007cb920(piVar1);
    in_ECX[0x100] = iVar6;
    (**(code **)(*(int *)in_ECX[0xfd] + 0xec))(iVar6,1);
    iVar6 = FUN_007cb850(piVar1);
    in_ECX[0x101] = iVar6;
    (**(code **)(*(int *)in_ECX[0xfd] + 0xec))(iVar6,1);
  }
  else {
    iVar3 = in_ECX[0x106];
    *(undefined4 *)(iVar6 + 0x68) = 0;
    *(int *)(iVar6 + 0x6c) = iVar3;
    *(undefined4 *)(iVar6 + 0x70) = 0;
    *(undefined1 *)(iVar6 + 0x5d) = 1;
    *(undefined1 *)(iVar6 + 0x134) = 1;
    *(undefined1 *)(iVar6 + 0x5c) = 1;
    if (*(int **)(iVar6 + 0x2c) != (int *)0x0) {
      (**(code **)(**(int **)(iVar6 + 0x2c) + 0x60))(iVar6);
    }
  }
  *(undefined1 *)(in_ECX[0xfd] + 0x25a) = 0;
  FUN_00403510(&local_90);
  local_c = 2;
  uVar7 = FUN_00403450(local_ac,in_ECX + 3);
  local_c._0_1_ = 3;
  FUN_00405eb0(uVar7,0,0xffffffff);
  local_c = CONCAT31(local_c._1_3_,2);
  if (7 < uStack_94) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  uStack_94 = 7;
  uStack_98 = 0;
  uStack_a8 = uStack_a8 & 0xffff0000;
  local_c = 0xffffffff;
  if (7 < uStack_78) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  iVar6 = in_ECX[0x10b];
  iVar3 = in_ECX[0xfe];
  uStack_78 = 7;
  uStack_7c = 0;
  local_8c = local_8c & 0xffff0000;
  uVar8 = FUN_00405eb0(in_ECX + 3,0,0xffffffff);
  *(int *)(iVar3 + 500) = iVar6;
  if ((char)in_ECX[0x533] != '\0') {
    uVar8 = 0;
    if ((((*DAT_00da9894 == 0) || (uVar8 = *(uint *)(*DAT_00da9894 + 0x164), uVar8 == 0)) ||
        (*(int *)(uVar8 + 0x38) == 0)) || (*(char *)(uVar8 + 0x32) == '\0')) {
      cVar9 = *(char *)(DAT_017248cc + 0xf);
    }
    else {
      cVar9 = *(char *)(*(int *)(uVar8 + 0x38) + 0x43);
    }
    if ((cVar9 != '\0') && ((char)in_ECX[0xeb] == '\0')) {
      uVar8 = CONCAT31((int3)(uVar8 >> 8),1);
      goto LAB_0084bf51;
    }
  }
  uVar8 = uVar8 & 0xffffff00;
LAB_0084bf51:
  (**(code **)(*in_ECX + 0x2d0))(uVar8);
  fVar4 = (float)in_ECX[0x29];
  iVar6 = in_ECX[0xfe];
  if (in_ECX[0x29] < 0) {
    fVar4 = fVar4 + 4.2949673e+09;
  }
  fVar5 = (float)in_ECX[0x2c];
  if (in_ECX[0x2c] < 0) {
    fVar5 = fVar5 + 4.2949673e+09;
  }
  *(float *)(iVar6 + 0x294) = fVar4 / fVar5;
  *(float *)(iVar6 + 0x298) = fVar4 / fVar5;
  if (((*DAT_00da9894 == 0) || (iVar6 = *(int *)(*DAT_00da9894 + 0x164), iVar6 == 0)) ||
     ((*(int *)(iVar6 + 0x38) == 0 || (*(char *)(iVar6 + 0x32) == '\0')))) {
    uVar2 = *(undefined1 *)(DAT_017248cc + 0x12);
  }
  else {
    uVar2 = *(undefined1 *)(*(int *)(iVar6 + 0x38) + 0x46);
  }
  (**(code **)(*in_ECX + 0x2dc))(uVar2);
  ExceptionList = pvStack_1c;
  return;
}



============================================================
DISASSEMBLY
============================================================
0084bb80 : PUSH EBP
0084bb81 : MOV EBP,ESP
0084bb83 : AND ESP,0xfffffff8
0084bb86 : PUSH -0x1
0084bb88 : PUSH 0xb37bfe
0084bb8d : MOV EAX,FS:[0x0]
0084bb93 : PUSH EAX
0084bb94 : SUB ESP,0xa0
0084bb9a : PUSH EBX
0084bb9b : PUSH ESI
0084bb9c : PUSH EDI
0084bb9d : MOV EAX,[0x00d66fa0]
0084bba2 : XOR EAX,ESP
0084bba4 : PUSH EAX
0084bba5 : LEA EAX,[ESP + 0xb0]
0084bbac : MOV FS:[0x0],EAX
0084bbb2 : MOV ESI,ECX
0084bbb4 : MOV EAX,ESI
0084bbb6 : CALL 0x0084baf0
0084bbbb : MOV EAX,dword ptr [ESI + 0x3f4]
0084bbc1 : XOR EBX,EBX
0084bbc3 : CMP EAX,EBX
0084bbc5 : JNZ 0x0084bde0
0084bbcb : CMP dword ptr [ESI + 0x3f8],EBX
0084bbd1 : JNZ 0x0084bde0
0084bbd7 : CMP byte ptr [EBP + 0x8],BL
0084bbda : JZ 0x0084bca8
0084bbe0 : CMP dword ptr [ESI + 0x3ec],EBX
0084bbe6 : JZ 0x0084bca8
0084bbec : PUSH 0xc3c888
0084bbf1 : LEA ECX,[ESP + 0x94]
0084bbf8 : CALL 0x00406460
0084bbfd : MOV dword ptr [ESP + 0xb8],EBX
0084bc04 : MOVSS XMM1,dword ptr [0x00c10fc4]
0084bc0c : XORPS XMM0,XMM0
0084bc0f : MOV ECX,dword ptr [ESI + 0x3ec]
0084bc15 : LEA EDX,[ESP + 0x68]
0084bc19 : PUSH EDX
0084bc1a : LEA EDX,[ESP + 0x84]
0084bc21 : PUSH EDX
0084bc22 : MOVSS dword ptr [ESP + 0x70],XMM1
0084bc28 : MOVSS dword ptr [ESP + 0x74],XMM1
0084bc2e : MOVSS dword ptr [ESP + 0x78],XMM1
0084bc34 : MOVSS dword ptr [ESP + 0x94],XMM1
0084bc3d : MOVSS XMM1,dword ptr [0x00cdf234]
0084bc45 : LEA EDX,[ESP + 0x64]
0084bc49 : PUSH EDX
0084bc4a : MOVSS dword ptr [ESP + 0x8c],XMM0
0084bc53 : MOVSS dword ptr [ESP + 0x90],XMM0
0084bc5c : MOVSS dword ptr [ESP + 0x94],XMM0
0084bc65 : MOVSS dword ptr [ESP + 0x68],XMM0
0084bc6b : MOVSS dword ptr [ESP + 0x6c],XMM1
0084bc71 : MOVSS dword ptr [ESP + 0x70],XMM0
0084bc77 : MOV EAX,dword ptr [ECX]
0084bc79 : MOV EAX,dword ptr [EAX + 0x20]
0084bc7c : LEA EDX,[ESP + 0x9c]
0084bc83 : PUSH EDX
0084bc84 : CALL EAX
0084bc86 : MOV dword ptr [ESI + 0x3f4],EAX
0084bc8c : MOV dword ptr [ESP + 0xb8],0xffffffff
0084bc97 : LEA ECX,[ESP + 0x90]
0084bc9e : CALL 0x00406560
0084bca3 : JMP 0x0084bd6b
0084bca8 : PUSH 0xc3c898
0084bcad : LEA ECX,[ESP + 0x1c]
0084bcb1 : CALL 0x00406460
0084bcb6 : MOV dword ptr [ESP + 0xb8],0x1
0084bcc1 : MOVSS XMM1,dword ptr [0x00c10fc4]
0084bcc9 : XORPS XMM0,XMM0
0084bccc : MOV ECX,dword ptr [ESI + 0x3e8]
0084bcd2 : LEA EAX,[ESP + 0x74]
0084bcd6 : PUSH EAX
0084bcd7 : LEA EAX,[ESP + 0x38]
0084bcdb : PUSH EAX
0084bcdc : MOVSS dword ptr [ESP + 0x7c],XMM1
0084bce2 : MOVSS dword ptr [ESP + 0x80],XMM1
0084bceb : MOVSS dword ptr [ESP + 0x84],XMM1
0084bcf4 : MOVSS dword ptr [ESP + 0x48],XMM1
0084bcfa : MOVSS XMM1,dword ptr [ESI + 0x418]
0084bd02 : LEA EAX,[ESP + 0x58]
0084bd06 : PUSH EAX
0084bd07 : MOVSS dword ptr [ESP + 0x40],XMM0
0084bd0d : MOVSS dword ptr [ESP + 0x44],XMM0
0084bd13 : MOVSS dword ptr [ESP + 0x48],XMM0
0084bd19 : MOVSS dword ptr [ESP + 0x5c],XMM0
0084bd1f : MOVSS dword ptr [ESP + 0x60],XMM1
0084bd25 : MOVSS dword ptr [ESP + 0x64],XMM0
0084bd2b : MOV EDX,dword ptr [ECX]
0084bd2d : MOV EDX,dword ptr [EDX + 0x20]
0084bd30 : LEA EAX,[ESP + 0x24]
0084bd34 : PUSH EAX
0084bd35 : CALL EDX
0084bd37 : MOV dword ptr [ESI + 0x3f4],EAX
0084bd3d : MOV dword ptr [ESP + 0xb8],0xffffffff
0084bd48 : CMP dword ptr [ESP + 0x30],0x8
0084bd4d : JC 0x0084bd58
0084bd4f : MOV ECX,dword ptr [ESP + 0x1c]
0084bd53 : CALL 0x006f04e0
0084bd58 : XOR EAX,EAX
0084bd5a : MOV dword ptr [ESP + 0x30],0x7
0084bd62 : MOV dword ptr [ESP + 0x2c],EBX
0084bd66 : MOV word ptr [ESP + 0x1c],AX
0084bd6b : MOV ECX,dword ptr [0x017251d0]
0084bd71 : PUSH EBX
0084bd72 : LEA EDI,[ESI + 0xc]
0084bd75 : PUSH EDI
0084bd76 : CALL 0x007cb9f0
0084bd7b : MOV ECX,dword ptr [ESI + 0x3f4]
0084bd81 : MOV dword ptr [ESI + 0x3f8],EAX
0084bd87 : MOV EDX,dword ptr [ECX]
0084bd89 : PUSH 0x1
0084bd8b : PUSH EAX
0084bd8c : MOV EAX,dword ptr [EDX + 0xec]
0084bd92 : CALL EAX
0084bd94 : MOV ECX,dword ptr [0x017251d0]
0084bd9a : PUSH EDI
0084bd9b : CALL 0x007cb920
0084bda0 : MOV ECX,dword ptr [ESI + 0x3f4]
0084bda6 : MOV dword ptr [ESI + 0x400],EAX
0084bdac : MOV EDX,dword ptr [ECX]
0084bdae : PUSH 0x1
0084bdb0 : PUSH EAX
0084bdb1 : MOV EAX,dword ptr [EDX + 0xec]
0084bdb7 : CALL EAX
0084bdb9 : MOV ECX,dword ptr [0x017251d0]
0084bdbf : PUSH EDI
0084bdc0 : CALL 0x007cb850
0084bdc5 : MOV ECX,dword ptr [ESI + 0x3f4]
0084bdcb : MOV dword ptr [ESI + 0x404],EAX
0084bdd1 : MOV EDX,dword ptr [ECX]
0084bdd3 : PUSH 0x1
0084bdd5 : PUSH EAX
0084bdd6 : MOV EAX,dword ptr [EDX + 0xec]
0084bddc : CALL EAX
0084bdde : JMP 0x0084be18
0084bde0 : MOVSS XMM0,dword ptr [ESI + 0x418]
0084bde8 : XORPS XMM1,XMM1
0084bdeb : MOVSS dword ptr [EAX + 0x68],XMM1
0084bdf0 : MOVSS dword ptr [EAX + 0x6c],XMM0
0084bdf5 : MOVSS dword ptr [EAX + 0x70],XMM1
0084bdfa : MOV ECX,dword ptr [EAX + 0x2c]
0084bdfd : MOV byte ptr [EAX + 0x5d],0x1
0084be01 : MOV byte ptr [EAX + 0x134],0x1
0084be08 : MOV byte ptr [EAX + 0x5c],0x1
0084be0c : CMP ECX,EBX
0084be0e : JZ 0x0084be18
0084be10 : MOV EDX,dword ptr [ECX]
0084be12 : PUSH EAX
0084be13 : MOV EAX,dword ptr [EDX + 0x60]
0084be16 : CALL EAX
0084be18 : MOV EAX,dword ptr [ESI + 0x3f4]
0084be1e : MOV ECX,dword ptr [0x00da93ec]
0084be24 : MOV byte ptr [EAX + 0x25a],0x0
0084be2b : MOV ECX,dword ptr [ECX + 0xac]
0084be31 : LEA EDX,[ESP + 0x34]
0084be35 : PUSH EDX
0084be36 : ADD ECX,0xc
0084be39 : MOV EDX,0xc3c8a8
0084be3e : CALL 0x00403510
0084be43 : ADD ESP,0x4
0084be46 : MOV EBX,0x2
0084be4b : MOV dword ptr [ESP + 0xb8],EBX
0084be52 : LEA EDI,[ESI + 0xc]
0084be55 : LEA ECX,[ESP + 0x18]
0084be59 : PUSH EDI
0084be5a : PUSH ECX
0084be5b : MOV ECX,EAX
0084be5d : CALL 0x00403450
0084be62 : ADD ESP,0x8
0084be65 : MOV byte ptr [ESP + 0xb8],0x3
0084be6d : PUSH -0x1
0084be6f : PUSH 0x0
0084be71 : PUSH EAX
0084be72 : MOV ECX,EDI
0084be74 : CALL 0x00405eb0
0084be79 : MOV byte ptr [ESP + 0xb8],BL
0084be80 : MOV EBX,0x8
0084be85 : CMP dword ptr [ESP + 0x30],EBX
0084be89 : JC 0x0084be94
0084be8b : MOV ECX,dword ptr [ESP + 0x1c]
0084be8f : CALL 0x006f04e0
0084be94 : XOR EDX,EDX
0084be96 : MOV dword ptr [ESP + 0x30],0x7
0084be9e : MOV dword ptr [ESP + 0x2c],0x0
0084bea6 : MOV word ptr [ESP + 0x1c],DX
0084beab : MOV dword ptr [ESP + 0xb8],0xffffffff
0084beb6 : CMP dword ptr [ESP + 0x4c],EBX
0084beba : JC 0x0084bec5
0084bebc : MOV ECX,dword ptr [ESP + 0x38]
0084bec0 : CALL 0x006f04e0
0084bec5 : MOV ECX,dword ptr [ESI + 0x42c]
0084becb : MOV EBX,dword ptr [ESI + 0x3f8]
0084bed1 : XOR EAX,EAX
0084bed3 : PUSH -0x1
0084bed5 : PUSH EAX
0084bed6 : MOV dword ptr [ESP + 0x1c],ECX
0084beda : PUSH EDI
0084bedb : LEA ECX,[EBX + 0x1d8]
0084bee1 : MOV dword ptr [ESP + 0x58],0x7
0084bee9 : MOV dword ptr [ESP + 0x54],0x0
0084bef1 : MOV word ptr [ESP + 0x44],AX
0084bef6 : CALL 0x00405eb0
0084befb : MOV EDX,dword ptr [ESP + 0x14]
0084beff : MOV dword ptr [EBX + 0x1f4],EDX
0084bf05 : CMP byte ptr [ESI + 0x14cc],0x0
0084bf0c : JZ 0x0084bf4f
0084bf0e : MOV EAX,[0x00da9894]
0084bf13 : MOV EAX,dword ptr [EAX]
0084bf15 : TEST EAX,EAX
0084bf17 : JZ 0x0084bf35
0084bf19 : MOV EAX,dword ptr [EAX + 0x164]
0084bf1f : TEST EAX,EAX
0084bf21 : JZ 0x0084bf35
0084bf23 : MOV ECX,dword ptr [EAX + 0x38]
0084bf26 : TEST ECX,ECX
0084bf28 : JZ 0x0084bf35
0084bf2a : CMP byte ptr [EAX + 0x32],0x0
0084bf2e : JZ 0x0084bf35
0084bf30 : MOV CL,byte ptr [ECX + 0x43]
0084bf33 : JMP 0x0084bf3e
0084bf35 : MOV ECX,dword ptr [0x017248cc]
0084bf3b : MOV CL,byte ptr [ECX + 0xf]
0084bf3e : TEST CL,CL
0084bf40 : JZ 0x0084bf4f
0084bf42 : CMP byte ptr [ESI + 0x3ac],0x0
0084bf49 : JNZ 0x0084bf4f
0084bf4b : MOV AL,0x1
0084bf4d : JMP 0x0084bf51
0084bf4f : XOR AL,AL
0084bf51 : MOV EDX,dword ptr [ESI]
0084bf53 : PUSH EAX
0084bf54 : MOV EAX,dword ptr [EDX + 0x2d0]
0084bf5a : MOV ECX,ESI
0084bf5c : CALL EAX
0084bf5e : FILD dword ptr [ESI + 0xa4]
0084bf64 : MOV ECX,dword ptr [ESI + 0xa4]
0084bf6a : MOV EAX,dword ptr [ESI + 0x3f8]
0084bf70 : TEST ECX,ECX
0084bf72 : JGE 0x0084bf7a
0084bf74 : FADD float ptr [0x00cdf0e0]
0084bf7a : MOV EDX,dword ptr [ESI + 0xb0]
0084bf80 : FILD dword ptr [ESI + 0xb0]
0084bf86 : TEST EDX,EDX
0084bf88 : JGE 0x0084bf90
0084bf8a : FADD float ptr [0x00cdf0e0]
0084bf90 : FDIVP
0084bf92 : FST float ptr [EAX + 0x294]
0084bf98 : FSTP float ptr [EAX + 0x298]
0084bf9e : MOV EAX,[0x00da9894]
0084bfa3 : MOV EAX,dword ptr [EAX]
0084bfa5 : TEST EAX,EAX
0084bfa7 : JZ 0x0084bfc9
0084bfa9 : MOV EAX,dword ptr [EAX + 0x164]
0084bfaf : TEST EAX,EAX
0084bfb1 : JZ 0x0084bfc9
0084bfb3 : MOV ECX,dword ptr [EAX + 0x38]
0084bfb6 : TEST ECX,ECX
0084bfb8 : JZ 0x0084bfc9
0084bfba : CMP byte ptr [EAX + 0x32],0x0
0084bfbe : JZ 0x0084bfc9
0084bfc0 : MOV CL,byte ptr [ECX + 0x46]
0084bfc3 : MOV byte ptr [ESP + 0x14],CL
0084bfc7 : JMP 0x0084bfd6
0084bfc9 : MOV EDX,dword ptr [0x017248cc]
0084bfcf : MOV AL,byte ptr [EDX + 0x12]
0084bfd2 : MOV byte ptr [ESP + 0x14],AL
0084bfd6 : MOV EDX,dword ptr [ESI]
0084bfd8 : MOV EAX,dword ptr [ESP + 0x14]
0084bfdc : MOV EDX,dword ptr [EDX + 0x2dc]
0084bfe2 : PUSH EAX
0084bfe3 : MOV ECX,ESI
0084bfe5 : CALL EDX
0084bfe7 : MOV ECX,dword ptr [ESP + 0xb0]
0084bfee : MOV dword ptr FS:[0x0],ECX
0084bff5 : POP ECX
0084bff6 : POP EDI
0084bff7 : POP ESI
0084bff8 : POP EBX
0084bff9 : MOV ESP,EBP
0084bffb : POP EBP
0084bffc : RET 0x4
