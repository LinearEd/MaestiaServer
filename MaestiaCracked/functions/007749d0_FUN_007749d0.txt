PROGRAM  : Maestia.exe
FUNCTION : FUN_007749d0
ENTRY    : 007749d0
BODY     : [[007749d0, 00774e14]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007749d0(int *param_1,int param_2)

{
  int *piVar1;
  int *piVar2;
  undefined4 *puVar3;
  int iVar4;
  code *pcVar5;
  undefined4 *puVar6;
  undefined4 local_194 [16];
  undefined1 local_154 [64];
  undefined4 local_114 [16];
  undefined4 local_d4;
  undefined4 local_d0;
  undefined4 local_cc;
  undefined4 local_c8;
  undefined4 local_c4;
  undefined4 local_c0;
  undefined4 local_bc;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98;
  undefined4 local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined1 local_50 [4];
  int *local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  int local_30;
  undefined4 local_2c;
  int local_28;
  undefined4 local_24;
  uint local_20;
  int local_1c;
  int *local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b106fa;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_18 = *(int **)(DAT_017251ac + 0x18);
  if ((((local_18 != (int *)0x0) && (param_2 != 0)) &&
      (piVar2 = (int *)FUN_007bfd60(DAT_00d66fa0 ^ (uint)&stack0xfffffffc), piVar2 != (int *)0x0))
     && (local_30 = *(int *)(*(int *)(param_2 + 0x1e8) + 0xd0), local_30 != 0)) {
    (**(code **)(*local_18 + 0x15c))(local_18,*(undefined4 *)(local_30 + 4));
    local_114[0] = 0;
    if (*(ushort *)(param_2 + 0x1e4) != 0) {
      local_20 = (uint)*(ushort *)(param_2 + 0x1e4);
      local_14 = 0;
      do {
        local_28 = *(int *)(local_14 + *(int *)(param_2 + 0x1d8));
        local_1c = *(int *)(local_28 + 8);
        local_94 = DAT_00d72178;
        local_90 = DAT_00d7217c;
        local_8c = DAT_00d72180;
        local_88 = DAT_00d72184;
        local_84 = DAT_00d72188;
        local_80 = DAT_00d7218c;
        local_7c = DAT_00d72190;
        local_78 = DAT_00d72194;
        local_74 = DAT_00d72198;
        local_70 = DAT_00d7219c;
        local_6c = DAT_00d721a0;
        local_68 = DAT_00d721a4;
        local_64 = DAT_00d721a8;
        local_60 = DAT_00d721ac;
        local_5c = DAT_00d721b0;
        local_58 = DAT_00d721b4;
        puVar3 = (undefined4 *)FUN_0045f110(*(undefined4 *)(*(int *)(local_28 + 4) + 0x24));
        local_bc = puVar3[6];
        local_a8 = puVar3[0xb];
        local_d0 = puVar3[1];
        local_d4 = *puVar3;
        local_cc = puVar3[2];
        local_c8 = puVar3[3];
        local_c4 = puVar3[4];
        local_c0 = puVar3[5];
        local_b8 = puVar3[7];
        local_a4 = puVar3[0xc];
        local_b4 = puVar3[8];
        local_a0 = puVar3[0xd];
        local_b0 = puVar3[9];
        local_9c = puVar3[0xe];
        local_ac = puVar3[10];
        local_98 = puVar3[0xf];
        if (*(char *)((int)param_1 + 0x157) == '\0') {
          pcVar5 = *(code **)(*param_1 + 0x30);
        }
        else {
          pcVar5 = *(code **)(*param_1 + 0x20);
        }
        local_94 = local_d4;
        local_80 = local_c0;
        local_6c = local_ac;
        local_48 = local_a8;
        local_44 = local_a0;
        local_40 = local_b4;
        local_3c = local_bc;
        local_38 = local_9c;
        local_34 = local_b0;
        local_2c = local_b8;
        local_24 = local_a4;
        (*pcVar5)();
        (**(code **)(*param_1 + 0x1c))();
        D3DXMatrixMultiply(local_154,&local_d4,param_1 + 0x2d);
        D3DXMatrixMultiply(local_194,local_154,param_1 + 0x1d);
        puVar3 = local_194;
        puVar6 = local_114;
        for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
          *puVar6 = *puVar3;
          puVar3 = puVar3 + 1;
          puVar6 = puVar6 + 1;
        }
        (**(code **)(*piVar2 + 0x98))(piVar2,"matWVP",local_114);
        (**(code **)(*piVar2 + 0x98))(piVar2,"matScale",&local_94);
        FUN_0040ed10(local_50,local_28 + 0x10);
        piVar1 = local_4c;
        iVar4 = 0;
        local_8 = 0;
        if (local_4c != (int *)0x0) {
          (**(code **)(*local_4c + 0x20))();
          iVar4 = piVar1[0xe];
        }
        (**(code **)(*piVar2 + 0xd0))(piVar2,"srcTex0",iVar4);
        (**(code **)(*piVar2 + 0x104))(piVar2);
        piVar1 = local_18;
        iVar4 = local_30;
        (**(code **)(*local_18 + 400))
                  (local_18,0,*(undefined4 *)(local_30 + 8),0,*(undefined4 *)(local_30 + 0x14));
        (**(code **)(*piVar1 + 0x1a0))(piVar1,*(undefined4 *)(local_1c + 4));
        (**(code **)(*piVar1 + 0x148))
                  (piVar1,4,0,0,*(undefined2 *)(iVar4 + 0x10),0,*(undefined2 *)(local_1c + 0xc));
        local_8 = 0xffffffff;
        FUN_0040ed80(local_50);
        local_14 = local_14 + 4;
        local_20 = local_20 - 1;
      } while (local_20 != 0);
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007749d0 : PUSH EBP
007749d1 : MOV EBP,ESP
007749d3 : PUSH -0x1
007749d5 : PUSH 0xb106fa
007749da : MOV EAX,FS:[0x0]
007749e0 : PUSH EAX
007749e1 : SUB ESP,0x184
007749e7 : PUSH EBX
007749e8 : PUSH ESI
007749e9 : PUSH EDI
007749ea : MOV EAX,[0x00d66fa0]
007749ef : XOR EAX,EBP
007749f1 : PUSH EAX
007749f2 : LEA EAX,[EBP + -0xc]
007749f5 : MOV FS:[0x0],EAX
007749fb : MOV EAX,[0x017251ac]
00774a00 : MOV EAX,dword ptr [EAX + 0x18]
00774a03 : MOV dword ptr [EBP + -0x14],EAX
00774a06 : TEST EAX,EAX
00774a08 : JZ 0x00774e01
00774a0e : MOV EDI,dword ptr [EBP + 0xc]
00774a11 : TEST EDI,EDI
00774a13 : JZ 0x00774e01
00774a19 : MOV ESI,dword ptr [0x01725204]
00774a1f : MOV EAX,0xb
00774a24 : CALL 0x007bfd60
00774a29 : MOV EBX,EAX
00774a2b : TEST EBX,EBX
00774a2d : JZ 0x00774e01
00774a33 : MOV EAX,dword ptr [EDI + 0x1e8]
00774a39 : MOV EAX,dword ptr [EAX + 0xd0]
00774a3f : MOV dword ptr [EBP + -0x2c],EAX
00774a42 : TEST EAX,EAX
00774a44 : JZ 0x00774e01
00774a4a : MOV EAX,dword ptr [EAX + 0x4]
00774a4d : MOV ECX,dword ptr [EBP + -0x14]
00774a50 : MOV EDX,dword ptr [ECX]
00774a52 : PUSH EAX
00774a53 : MOV EAX,dword ptr [EDX + 0x15c]
00774a59 : PUSH ECX
00774a5a : CALL EAX
00774a5c : MOVZX EAX,word ptr [EDI + 0x1e4]
00774a63 : XORPS XMM0,XMM0
00774a66 : XOR ECX,ECX
00774a68 : MOVSS dword ptr [EBP + 0xfffffef0],XMM0
00774a70 : CMP CX,AX
00774a73 : JNC 0x00774e01
00774a79 : MOVZX EDX,AX
00774a7c : MOV dword ptr [EBP + -0x10],ECX
00774a7f : MOV dword ptr [EBP + -0x1c],EDX
00774a82 : JMP 0x00774a87
00774a84 : MOV EDI,dword ptr [EBP + 0xc]
00774a87 : MOV EAX,dword ptr [EDI + 0x1d8]
00774a8d : MOV ECX,dword ptr [EBP + -0x10]
00774a90 : MOV EAX,dword ptr [ECX + EAX*0x1]
00774a93 : MOV EDX,dword ptr [EAX + 0x8]
00774a96 : MOVSS XMM0,dword ptr [0x00d72178]
00774a9e : MOVSS dword ptr [EBP + 0xffffff70],XMM0
00774aa6 : MOVSS XMM0,dword ptr [0x00d7217c]
00774aae : MOVSS dword ptr [EBP + 0xffffff74],XMM0
00774ab6 : MOVSS XMM0,dword ptr [0x00d72180]
00774abe : MOVSS dword ptr [EBP + 0xffffff78],XMM0
00774ac6 : MOVSS XMM0,dword ptr [0x00d72184]
00774ace : MOVSS dword ptr [EBP + 0xffffff7c],XMM0
00774ad6 : MOVSS XMM0,dword ptr [0x00d72188]
00774ade : MOVSS dword ptr [EBP + -0x80],XMM0
00774ae3 : MOVSS XMM0,dword ptr [0x00d7218c]
00774aeb : MOVSS dword ptr [EBP + -0x7c],XMM0
00774af0 : MOVSS XMM0,dword ptr [0x00d72190]
00774af8 : MOVSS dword ptr [EBP + -0x78],XMM0
00774afd : MOVSS XMM0,dword ptr [0x00d72194]
00774b05 : MOV ESI,dword ptr [EBP + 0x8]
00774b08 : MOVSS dword ptr [EBP + -0x74],XMM0
00774b0d : MOVSS XMM0,dword ptr [0x00d72198]
00774b15 : MOVSS dword ptr [EBP + -0x70],XMM0
00774b1a : MOVSS XMM0,dword ptr [0x00d7219c]
00774b22 : MOVSS dword ptr [EBP + -0x6c],XMM0
00774b27 : MOVSS XMM0,dword ptr [0x00d721a0]
00774b2f : MOVSS dword ptr [EBP + -0x68],XMM0
00774b34 : MOVSS XMM0,dword ptr [0x00d721a4]
00774b3c : MOVSS dword ptr [EBP + -0x64],XMM0
00774b41 : MOVSS XMM0,dword ptr [0x00d721a8]
00774b49 : MOVSS dword ptr [EBP + -0x60],XMM0
00774b4e : MOVSS XMM0,dword ptr [0x00d721ac]
00774b56 : MOVSS dword ptr [EBP + -0x5c],XMM0
00774b5b : MOVSS XMM0,dword ptr [0x00d721b0]
00774b63 : MOVSS dword ptr [EBP + -0x58],XMM0
00774b68 : MOVSS XMM0,dword ptr [0x00d721b4]
00774b70 : MOV dword ptr [EBP + -0x24],EAX
00774b73 : MOVSS dword ptr [EBP + -0x54],XMM0
00774b78 : MOV EAX,dword ptr [EAX + 0x4]
00774b7b : MOV EAX,dword ptr [EAX + 0x24]
00774b7e : PUSH EAX
00774b7f : MOV dword ptr [EBP + -0x18],EDX
00774b82 : CALL 0x0045f110
00774b87 : MOVSS XMM2,dword ptr [EAX + 0x18]
00774b8c : MOVSS XMM7,dword ptr [EAX + 0x2c]
00774b91 : MOVSS XMM3,dword ptr [EAX + 0x4]
00774b96 : MOVSS XMM0,dword ptr [EAX]
00774b9a : MOVSS XMM4,dword ptr [EAX + 0x8]
00774b9f : MOVSS XMM5,dword ptr [EAX + 0xc]
00774ba4 : MOVSS XMM6,dword ptr [EAX + 0x10]
00774ba9 : MOVSS XMM1,dword ptr [EAX + 0x14]
00774bae : MOVSS dword ptr [EBP + -0x38],XMM2
00774bb3 : MOVSS XMM2,dword ptr [EAX + 0x1c]
00774bb8 : MOVSS dword ptr [EBP + -0x44],XMM7
00774bbd : MOVSS XMM7,dword ptr [EAX + 0x30]
00774bc2 : MOVSS dword ptr [EBP + -0x28],XMM2
00774bc7 : MOVSS XMM2,dword ptr [EAX + 0x20]
00774bcc : MOVSS dword ptr [EBP + -0x20],XMM7
00774bd1 : MOVSS XMM7,dword ptr [EAX + 0x34]
00774bd6 : MOVSS dword ptr [EBP + -0x3c],XMM2
00774bdb : MOVSS XMM2,dword ptr [EAX + 0x24]
00774be0 : MOVSS dword ptr [EBP + -0x40],XMM7
00774be5 : MOVSS XMM7,dword ptr [EAX + 0x38]
00774bea : MOVSS dword ptr [EBP + -0x30],XMM2
00774bef : MOVSS XMM2,dword ptr [EAX + 0x28]
00774bf4 : MOVSS dword ptr [EBP + -0x34],XMM7
00774bf9 : MOVSS XMM7,dword ptr [EAX + 0x3c]
00774bfe : MOVSS dword ptr [EBP + 0xffffff34],XMM3
00774c06 : MOVSS XMM3,dword ptr [EBP + -0x38]
00774c0b : MOVSS dword ptr [EBP + 0xffffff48],XMM3
00774c13 : MOVSS XMM3,dword ptr [EBP + -0x28]
00774c18 : MOVSS dword ptr [EBP + 0xffffff4c],XMM3
00774c20 : MOVSS XMM3,dword ptr [EBP + -0x3c]
00774c25 : MOVSS dword ptr [EBP + 0xffffff50],XMM3
00774c2d : MOVSS XMM3,dword ptr [EBP + -0x30]
00774c32 : MOVSS dword ptr [EBP + 0xffffff30],XMM0
00774c3a : MOVSS dword ptr [EBP + 0xffffff38],XMM4
00774c42 : MOVSS dword ptr [EBP + 0xffffff3c],XMM5
00774c4a : MOVSS dword ptr [EBP + 0xffffff40],XMM6
00774c52 : MOVSS dword ptr [EBP + 0xffffff44],XMM1
00774c5a : MOVSS dword ptr [EBP + 0xffffff54],XMM3
00774c62 : CMP byte ptr [ESI + 0x157],0x0
00774c69 : MOVSS XMM3,dword ptr [EBP + -0x44]
00774c6e : MOV EAX,dword ptr [ESI]
00774c70 : MOVSS dword ptr [EBP + 0xffffff5c],XMM3
00774c78 : MOVSS XMM3,dword ptr [EBP + -0x20]
00774c7d : MOVSS dword ptr [EBP + 0xffffff60],XMM3
00774c85 : MOVSS XMM3,dword ptr [EBP + -0x40]
00774c8a : MOVSS dword ptr [EBP + 0xffffff64],XMM3
00774c92 : MOVSS XMM3,dword ptr [EBP + -0x34]
00774c97 : MOVSS dword ptr [EBP + 0xffffff58],XMM2
00774c9f : MOVSS dword ptr [EBP + 0xffffff68],XMM3
00774ca7 : MOVSS dword ptr [EBP + 0xffffff6c],XMM7
00774caf : MOVSS dword ptr [EBP + 0xffffff70],XMM0
00774cb7 : MOVSS dword ptr [EBP + -0x7c],XMM1
00774cbc : MOVSS dword ptr [EBP + -0x68],XMM2
00774cc1 : MOV ECX,ESI
00774cc3 : JZ 0x00774cca
00774cc5 : MOV EDX,dword ptr [EAX + 0x20]
00774cc8 : JMP 0x00774ccd
00774cca : MOV EDX,dword ptr [EAX + 0x30]
00774ccd : CALL EDX
00774ccf : MOV EAX,dword ptr [ESI]
00774cd1 : MOV EDX,dword ptr [EAX + 0x1c]
00774cd4 : MOV ECX,ESI
00774cd6 : CALL EDX
00774cd8 : LEA EAX,[ESI + 0xb4]
00774cde : PUSH EAX
00774cdf : LEA EAX,[EBP + 0xffffff30]
00774ce5 : PUSH EAX
00774ce6 : LEA ECX,[EBP + 0xfffffeb0]
00774cec : PUSH ECX
00774ced : CALL 0x004ff752
00774cf2 : LEA EAX,[ESI + 0x74]
00774cf5 : PUSH EAX
00774cf6 : LEA EDX,[EBP + 0xfffffeb0]
00774cfc : PUSH EDX
00774cfd : LEA EAX,[EBP + 0xfffffe70]
00774d03 : PUSH EAX
00774d04 : CALL 0x004ff752
00774d09 : LEA EDX,[EBP + 0xfffffef0]
00774d0f : PUSH EDX
00774d10 : MOV ECX,0x10
00774d15 : LEA ESI,[EBP + 0xfffffe70]
00774d1b : LEA EDI,[EBP + 0xfffffef0]
00774d21 : MOVSD.REP ES:EDI,ESI
00774d23 : MOV ECX,dword ptr [EBX]
00774d25 : MOV EAX,dword ptr [ECX + 0x98]
00774d2b : PUSH 0xc0fd0c
00774d30 : PUSH EBX
00774d31 : CALL EAX
00774d33 : MOV ECX,dword ptr [EBX]
00774d35 : MOV EAX,dword ptr [ECX + 0x98]
00774d3b : LEA EDX,[EBP + 0xffffff70]
00774d41 : PUSH EDX
00774d42 : PUSH 0xc0fd14
00774d47 : PUSH EBX
00774d48 : CALL EAX
00774d4a : MOV ECX,dword ptr [EBP + -0x24]
00774d4d : ADD ECX,0x10
00774d50 : PUSH ECX
00774d51 : LEA EDX,[EBP + -0x4c]
00774d54 : PUSH EDX
00774d55 : CALL 0x0040ed10
00774d5a : XOR EAX,EAX
00774d5c : MOV dword ptr [EBP + -0x4],EAX
00774d5f : MOV ECX,dword ptr [EBP + -0x48]
00774d62 : CMP ECX,EAX
00774d64 : JZ 0x00774d72
00774d66 : MOV EAX,dword ptr [ECX]
00774d68 : MOV EDX,dword ptr [EAX + 0x20]
00774d6b : MOV ESI,ECX
00774d6d : CALL EDX
00774d6f : MOV EAX,dword ptr [ESI + 0x38]
00774d72 : MOV ECX,dword ptr [EBX]
00774d74 : MOV EDX,dword ptr [ECX + 0xd0]
00774d7a : PUSH EAX
00774d7b : PUSH 0xc0fd20
00774d80 : PUSH EBX
00774d81 : CALL EDX
00774d83 : MOV EAX,dword ptr [EBX]
00774d85 : MOV ECX,dword ptr [EAX + 0x104]
00774d8b : PUSH EBX
00774d8c : CALL ECX
00774d8e : MOV EDI,dword ptr [EBP + -0x2c]
00774d91 : MOV EAX,dword ptr [EDI + 0x14]
00774d94 : MOV ECX,dword ptr [EDI + 0x8]
00774d97 : MOV ESI,dword ptr [EBP + -0x14]
00774d9a : MOV EDX,dword ptr [ESI]
00774d9c : PUSH EAX
00774d9d : MOV EAX,dword ptr [EDX + 0x190]
00774da3 : PUSH 0x0
00774da5 : PUSH ECX
00774da6 : PUSH 0x0
00774da8 : PUSH ESI
00774da9 : CALL EAX
00774dab : MOV ECX,dword ptr [EBP + -0x18]
00774dae : MOV EAX,dword ptr [ECX + 0x4]
00774db1 : MOV EDX,dword ptr [ESI]
00774db3 : PUSH EAX
00774db4 : MOV EAX,dword ptr [EDX + 0x1a0]
00774dba : PUSH ESI
00774dbb : CALL EAX
00774dbd : MOV ECX,dword ptr [EBP + -0x18]
00774dc0 : MOVZX EAX,word ptr [ECX + 0xc]
00774dc4 : MOVZX ECX,word ptr [EDI + 0x10]
00774dc8 : MOV EDX,dword ptr [ESI]
00774dca : MOV EDX,dword ptr [EDX + 0x148]
00774dd0 : MOVZX EAX,AX
00774dd3 : PUSH EAX
00774dd4 : PUSH 0x0
00774dd6 : MOVZX ECX,CX
00774dd9 : PUSH ECX
00774dda : PUSH 0x0
00774ddc : PUSH 0x0
00774dde : PUSH 0x4
00774de0 : PUSH ESI
00774de1 : CALL EDX
00774de3 : MOV dword ptr [EBP + -0x4],0xffffffff
00774dea : LEA EAX,[EBP + -0x4c]
00774ded : PUSH EAX
00774dee : CALL 0x0040ed80
00774df3 : ADD dword ptr [EBP + -0x10],0x4
00774df7 : SUB dword ptr [EBP + -0x1c],0x1
00774dfb : JNZ 0x00774a84
00774e01 : MOV ECX,dword ptr [EBP + -0xc]
00774e04 : MOV dword ptr FS:[0x0],ECX
00774e0b : POP ECX
00774e0c : POP EDI
00774e0d : POP ESI
00774e0e : POP EBX
00774e0f : MOV ESP,EBP
00774e11 : POP EBP
00774e12 : RET 0x8
