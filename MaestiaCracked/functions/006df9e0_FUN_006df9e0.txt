PROGRAM  : Maestia.exe
FUNCTION : FUN_006df9e0
ENTRY    : 006df9e0
BODY     : [[006df9e0, 006dfcd5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006df9e0(int *param_1)

{
  int iVar1;
  int iVar2;
  double *pdVar3;
  double *pdVar4;
  ushort *puVar5;
  int iVar6;
  int *piVar7;
  float *pfVar8;
  short *psVar9;
  int iVar10;
  int *piVar11;
  undefined4 *puVar12;
  undefined **local_14;
  int local_10;
  int local_8;
  
  iVar10 = 0;
  local_10 = 0;
  local_14 = (undefined **)0x0;
  local_8 = 0;
  if (0 < param_1[9]) {
    piVar11 = (int *)(param_1[0x67] + 0x2c);
    puVar12 = (undefined4 *)(param_1[0x31] + 0x24);
    do {
      switch(*puVar12) {
      case 1:
        iVar10 = 0;
        local_14 = (undefined **)&LAB_006e7540;
        local_10 = 0;
        break;
      case 2:
        iVar10 = 0;
        local_14 = (undefined **)FUN_006e70d0;
        local_10 = 0;
        break;
      default:
        *(undefined4 *)(*param_1 + 0x14) = 7;
        *(undefined4 *)(*param_1 + 0x18) = *puVar12;
        (**(code **)*param_1)(param_1);
        break;
      case 4:
        iVar10 = 0;
        local_14 = (undefined **)&LAB_006e6dc0;
        local_10 = 0;
        break;
      case 8:
        iVar1 = param_1[0x11];
        if (iVar1 == 0) {
          iVar10 = 0;
          local_14 = &PTR_DAT_006e5f90;
          local_10 = 0;
        }
        else if (iVar1 == 1) {
          iVar10 = 1;
          local_14 = (undefined **)&LAB_006e64a0;
          local_10 = 1;
        }
        else if (iVar1 == 2) {
          iVar10 = 2;
          local_14 = (undefined **)&DAT_006e6880;
          local_10 = 2;
        }
        else {
          *(undefined4 *)(*param_1 + 0x14) = 0x30;
          (**(code **)*param_1)(param_1);
        }
      }
      piVar11[-10] = (int)local_14;
      if (((*(char *)(puVar12 + 3) != '\0') && (*piVar11 != iVar10)) &&
         (iVar1 = puVar12[10], iVar1 != 0)) {
        *piVar11 = iVar10;
        if (iVar10 == 0) {
          iVar2 = puVar12[0xb];
          iVar6 = 0;
          do {
            *(uint *)(iVar2 + iVar6 * 4) = (uint)*(ushort *)(iVar1 + iVar6 * 2);
            iVar6 = iVar6 + 1;
          } while (iVar6 < 0x40);
        }
        else if (iVar10 == 1) {
          piVar7 = (int *)(puVar12[0xb] + 8);
          puVar5 = (ushort *)(iVar1 + 4);
          psVar9 = &DAT_00bf17b2;
          do {
            piVar7[-2] = (int)((int)psVar9[-1] * (uint)puVar5[-2] + 0x800) >> 0xc;
            piVar7[-1] = (int)((uint)puVar5[-1] * (int)*psVar9 + 0x800) >> 0xc;
            *piVar7 = (int)((int)*(short *)((int)&DAT_00bf17b0 + -iVar1 + (int)puVar5) *
                            (uint)*puVar5 + 0x800) >> 0xc;
            piVar7[1] = (int)((int)*(short *)((int)&DAT_00bf17b2 + -iVar1 + (int)puVar5) *
                              (uint)puVar5[1] + 0x800) >> 0xc;
            psVar9 = psVar9 + 4;
            piVar7 = piVar7 + 4;
            puVar5 = puVar5 + 4;
            iVar10 = local_10;
          } while ((int)psVar9 < 0xbf1832);
        }
        else if (iVar10 == 2) {
          pdVar3 = (double *)&DAT_00bf1830;
          puVar5 = (ushort *)(iVar1 + 4);
          pfVar8 = (float *)(puVar12[0xb] + 8);
          do {
            pdVar4 = pdVar3 + 1;
            pfVar8[-2] = (float)puVar5[-2] * (float)*pdVar3;
            pfVar8[-1] = (float)puVar5[-1] * (float)*pdVar3 * 1.3870399;
            *pfVar8 = (float)*puVar5 * (float)*pdVar3 * 1.306563;
            pfVar8[1] = (float)puVar5[1] * (float)*pdVar3 * 1.1758755;
            pfVar8[2] = (float)puVar5[2] * (float)*pdVar3;
            pfVar8[3] = (float)puVar5[3] * (float)*pdVar3 * 0.78569496;
            pfVar8[4] = (float)puVar5[4] * (float)*pdVar3 * 0.5411961;
            pfVar8[5] = (float)puVar5[5] * (float)*pdVar3 * 0.27589938;
            pdVar3 = pdVar4;
            puVar5 = puVar5 + 8;
            pfVar8 = pfVar8 + 8;
          } while ((int)pdVar4 < 0xbf1870);
        }
        else {
          *(undefined4 *)(*param_1 + 0x14) = 0x30;
          (**(code **)*param_1)(param_1);
        }
      }
      local_8 = local_8 + 1;
      piVar11 = piVar11 + 1;
      puVar12 = puVar12 + 0x15;
    } while (local_8 < param_1[9]);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006df9e0 : SUB ESP,0x14
006df9e3 : PUSH EBX
006df9e4 : MOV EBX,dword ptr [ESP + 0x1c]
006df9e8 : MOV EAX,dword ptr [EBX + 0x19c]
006df9ee : MOV ECX,dword ptr [EBX + 0xc4]
006df9f4 : PUSH EBP
006df9f5 : XOR EBP,EBP
006df9f7 : CMP dword ptr [EBX + 0x24],EBP
006df9fa : MOV dword ptr [ESP + 0xc],EBP
006df9fe : MOV dword ptr [ESP + 0x8],EBP
006dfa02 : MOV dword ptr [ESP + 0x14],EBP
006dfa06 : JLE 0x006dfcd0
006dfa0c : PUSH ESI
006dfa0d : LEA ESI,[EAX + 0x2c]
006dfa10 : PUSH EDI
006dfa11 : LEA EDI,[ECX + 0x24]
006dfa14 : MOV dword ptr [ESP + 0x18],ESI
006dfa18 : MOV EAX,dword ptr [EDI]
006dfa1a : DEC EAX
006dfa1b : CMP EAX,0x7
006dfa1e : JA 0x006dfabb
006dfa24 : JMP dword ptr [EAX*0x4 + 0x6dfcd8]
006dfa2b : XOR EBP,EBP
006dfa2d : MOV dword ptr [ESP + 0x10],0x6e7540
006dfa35 : MOV dword ptr [ESP + 0x14],EBP
006dfa39 : JMP 0x006dfad5
006dfa3e : XOR EBP,EBP
006dfa40 : MOV dword ptr [ESP + 0x10],0x6e70d0
006dfa48 : MOV dword ptr [ESP + 0x14],EBP
006dfa4c : JMP 0x006dfad5
006dfa51 : XOR EBP,EBP
006dfa53 : MOV dword ptr [ESP + 0x10],0x6e6dc0
006dfa5b : MOV dword ptr [ESP + 0x14],EBP
006dfa5f : JMP 0x006dfad5
006dfa61 : MOV EAX,dword ptr [EBX + 0x44]
006dfa64 : SUB EAX,0x0
006dfa67 : JZ 0x006dfaab
006dfa69 : SUB EAX,0x1
006dfa6c : JZ 0x006dfa98
006dfa6e : SUB EAX,0x1
006dfa71 : JZ 0x006dfa85
006dfa73 : MOV EAX,dword ptr [EBX]
006dfa75 : MOV dword ptr [EAX + 0x14],0x30
006dfa7c : MOV ECX,dword ptr [EBX]
006dfa7e : MOV EDX,dword ptr [ECX]
006dfa80 : PUSH EBX
006dfa81 : CALL EDX
006dfa83 : JMP 0x006dfad2
006dfa85 : MOV EBP,0x2
006dfa8a : MOV dword ptr [ESP + 0x10],0x6e6880
006dfa92 : MOV dword ptr [ESP + 0x14],EBP
006dfa96 : JMP 0x006dfad5
006dfa98 : MOV EBP,0x1
006dfa9d : MOV dword ptr [ESP + 0x10],0x6e64a0
006dfaa5 : MOV dword ptr [ESP + 0x14],EBP
006dfaa9 : JMP 0x006dfad5
006dfaab : XOR EBP,EBP
006dfaad : MOV dword ptr [ESP + 0x10],0x6e5f90
006dfab5 : MOV dword ptr [ESP + 0x14],EBP
006dfab9 : JMP 0x006dfad5
006dfabb : MOV EAX,dword ptr [EBX]
006dfabd : MOV dword ptr [EAX + 0x14],0x7
006dfac4 : MOV ECX,dword ptr [EBX]
006dfac6 : MOV EDX,dword ptr [EDI]
006dfac8 : MOV dword ptr [ECX + 0x18],EDX
006dfacb : MOV EAX,dword ptr [EBX]
006dfacd : MOV ECX,dword ptr [EAX]
006dfacf : PUSH EBX
006dfad0 : CALL ECX
006dfad2 : ADD ESP,0x4
006dfad5 : MOV EDX,dword ptr [ESP + 0x10]
006dfad9 : MOV dword ptr [ESI + -0x28],EDX
006dfadc : CMP byte ptr [EDI + 0xc],0x0
006dfae0 : JZ 0x006dfcae
006dfae6 : CMP dword ptr [ESI],EBP
006dfae8 : JZ 0x006dfcae
006dfaee : MOV ESI,dword ptr [EDI + 0x28]
006dfaf1 : TEST ESI,ESI
006dfaf3 : JZ 0x006dfcae
006dfaf9 : MOV EAX,dword ptr [ESP + 0x18]
006dfafd : MOV dword ptr [EAX],EBP
006dfaff : MOV EAX,EBP
006dfb01 : SUB EAX,0x0
006dfb04 : JZ 0x006dfc9c
006dfb0a : SUB EAX,0x1
006dfb0d : JZ 0x006dfc0d
006dfb13 : SUB EAX,0x1
006dfb16 : JZ 0x006dfb30
006dfb18 : MOV ECX,dword ptr [EBX]
006dfb1a : MOV dword ptr [ECX + 0x14],0x30
006dfb21 : MOV EDX,dword ptr [EBX]
006dfb23 : MOV EAX,dword ptr [EDX]
006dfb25 : PUSH EBX
006dfb26 : CALL EAX
006dfb28 : ADD ESP,0x4
006dfb2b : JMP 0x006dfcae
006dfb30 : MOV ECX,dword ptr [EDI + 0x2c]
006dfb33 : LEA EDX,[ECX + 0x8]
006dfb36 : MOV EAX,0xbf1830
006dfb3b : LEA ECX,[ESI + 0x4]
006dfb3e : MOV EDI,EDI
006dfb40 : MOVZX ESI,word ptr [ECX + -0x4]
006dfb44 : MOV dword ptr [ESP + 0x20],ESI
006dfb48 : ADD EAX,0x8
006dfb4b : ADD ECX,0x10
006dfb4e : FILD dword ptr [ESP + 0x20]
006dfb52 : ADD EDX,0x20
006dfb55 : CMP EAX,0xbf1870
006dfb5a : FMUL double ptr [EAX + -0x8]
006dfb5d : FSTP float ptr [EDX + -0x28]
006dfb60 : MOVZX ESI,word ptr [ECX + -0x12]
006dfb64 : MOV dword ptr [ESP + 0x20],ESI
006dfb68 : FILD dword ptr [ESP + 0x20]
006dfb6c : FMUL double ptr [EAX + -0x8]
006dfb6f : FMUL double ptr [0x00bf1838]
006dfb75 : FSTP float ptr [EDX + -0x24]
006dfb78 : MOVZX ESI,word ptr [ECX + -0x10]
006dfb7c : MOV dword ptr [ESP + 0x20],ESI
006dfb80 : FILD dword ptr [ESP + 0x20]
006dfb84 : FMUL double ptr [EAX + -0x8]
006dfb87 : FMUL double ptr [0x00bf1840]
006dfb8d : FSTP float ptr [EDX + -0x20]
006dfb90 : MOVZX ESI,word ptr [ECX + -0xe]
006dfb94 : MOV dword ptr [ESP + 0x20],ESI
006dfb98 : FILD dword ptr [ESP + 0x20]
006dfb9c : FMUL double ptr [EAX + -0x8]
006dfb9f : FMUL double ptr [0x00bf1848]
006dfba5 : FSTP float ptr [EDX + -0x1c]
006dfba8 : MOVZX ESI,word ptr [ECX + -0xc]
006dfbac : MOV dword ptr [ESP + 0x20],ESI
006dfbb0 : FILD dword ptr [ESP + 0x20]
006dfbb4 : FMUL double ptr [EAX + -0x8]
006dfbb7 : FSTP float ptr [EDX + -0x18]
006dfbba : MOVZX ESI,word ptr [ECX + -0xa]
006dfbbe : MOV dword ptr [ESP + 0x20],ESI
006dfbc2 : FILD dword ptr [ESP + 0x20]
006dfbc6 : FMUL double ptr [EAX + -0x8]
006dfbc9 : FMUL double ptr [0x00bf1858]
006dfbcf : FSTP float ptr [EDX + -0x14]
006dfbd2 : MOVZX ESI,word ptr [ECX + -0x8]
006dfbd6 : MOV dword ptr [ESP + 0x20],ESI
006dfbda : FILD dword ptr [ESP + 0x20]
006dfbde : FMUL double ptr [EAX + -0x8]
006dfbe1 : FMUL double ptr [0x00bf1860]
006dfbe7 : FSTP float ptr [EDX + -0x10]
006dfbea : MOVZX ESI,word ptr [ECX + -0x6]
006dfbee : MOV dword ptr [ESP + 0x20],ESI
006dfbf2 : FILD dword ptr [ESP + 0x20]
006dfbf6 : FMUL double ptr [EAX + -0x8]
006dfbf9 : FMUL double ptr [0x00bf1868]
006dfbff : FSTP float ptr [EDX + -0xc]
006dfc02 : JL 0x006dfb40
006dfc08 : JMP 0x006dfcae
006dfc0d : MOV EAX,dword ptr [EDI + 0x2c]
006dfc10 : LEA ECX,[EAX + 0x8]
006dfc13 : LEA EAX,[ESI + 0x4]
006dfc16 : MOV EDX,0xbf17b2
006dfc1b : NEG ESI
006dfc1d : LEA ECX,[ECX]
006dfc20 : MOVZX EBP,word ptr [EAX + -0x4]
006dfc24 : MOVSX EBX,word ptr [EDX + -0x2]
006dfc28 : IMUL EBX,EBP
006dfc2b : ADD EBX,0x800
006dfc31 : SAR EBX,0xc
006dfc34 : MOV dword ptr [ECX + -0x8],EBX
006dfc37 : MOVSX EBP,word ptr [EDX]
006dfc3a : MOVZX EBX,word ptr [EAX + -0x2]
006dfc3e : IMUL EBX,EBP
006dfc41 : ADD EBX,0x800
006dfc47 : SAR EBX,0xc
006dfc4a : MOV dword ptr [ECX + -0x4],EBX
006dfc4d : MOVZX EBP,word ptr [EAX]
006dfc50 : MOVSX EBX,word ptr [ESI + EAX*0x1 + 0xbf17b0]
006dfc58 : IMUL EBX,EBP
006dfc5b : ADD EBX,0x800
006dfc61 : SAR EBX,0xc
006dfc64 : MOV dword ptr [ECX],EBX
006dfc66 : MOVSX EBX,word ptr [ESI + EAX*0x1 + 0xbf17b2]
006dfc6e : MOVZX EBP,word ptr [EAX + 0x2]
006dfc72 : IMUL EBX,EBP
006dfc75 : ADD EBX,0x800
006dfc7b : SAR EBX,0xc
006dfc7e : MOV dword ptr [ECX + 0x4],EBX
006dfc81 : ADD EDX,0x8
006dfc84 : ADD ECX,0x10
006dfc87 : ADD EAX,0x8
006dfc8a : CMP EDX,0xbf1832
006dfc90 : JL 0x006dfc20
006dfc92 : MOV EBP,dword ptr [ESP + 0x14]
006dfc96 : MOV EBX,dword ptr [ESP + 0x28]
006dfc9a : JMP 0x006dfcae
006dfc9c : MOV ECX,dword ptr [EDI + 0x2c]
006dfc9f : XOR EAX,EAX
006dfca1 : MOVZX EDX,word ptr [ESI + EAX*0x2]
006dfca5 : MOV dword ptr [ECX + EAX*0x4],EDX
006dfca8 : INC EAX
006dfca9 : CMP EAX,0x40
006dfcac : JL 0x006dfca1
006dfcae : MOV EAX,dword ptr [ESP + 0x1c]
006dfcb2 : MOV ESI,dword ptr [ESP + 0x18]
006dfcb6 : INC EAX
006dfcb7 : ADD ESI,0x4
006dfcba : ADD EDI,0x54
006dfcbd : CMP EAX,dword ptr [EBX + 0x24]
006dfcc0 : MOV dword ptr [ESP + 0x1c],EAX
006dfcc4 : MOV dword ptr [ESP + 0x18],ESI
006dfcc8 : JL 0x006dfa18
006dfcce : POP EDI
006dfccf : POP ESI
006dfcd0 : POP EBP
006dfcd1 : POP EBX
006dfcd2 : ADD ESP,0x14
006dfcd5 : RET
