PROGRAM  : Maestia.exe
FUNCTION : FUN_006db140
ENTRY    : 006db140
BODY     : [[006db140, 006db1b0]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006db140(void)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  undefined4 *puVar5;
  int unaff_ESI;
  
  iVar2 = *(int *)(unaff_ESI + 0x198);
  piVar1 = (int *)(*(int *)(unaff_ESI + 0x194) + 0x14);
  *piVar1 = *piVar1 + ((int)(*(int *)(iVar2 + 0x10) + (*(int *)(iVar2 + 0x10) >> 0x1f & 7U)) >> 3);
  *(undefined4 *)(iVar2 + 0x10) = 0;
  uVar3 = (**(code **)(*(int *)(unaff_ESI + 0x194) + 8))();
  if ((char)uVar3 == '\0') {
    return uVar3;
  }
  iVar4 = 0;
  if (0 < *(int *)(unaff_ESI + 0x124)) {
    puVar5 = (undefined4 *)(iVar2 + 0x14);
    do {
      *puVar5 = 0;
      iVar4 = iVar4 + 1;
      puVar5 = puVar5 + 1;
    } while (iVar4 < *(int *)(unaff_ESI + 0x124));
  }
  *(undefined4 *)(iVar2 + 0x24) = *(undefined4 *)(unaff_ESI + 0xfc);
  if (*(int *)(unaff_ESI + 0x17c) == 0) {
    *(undefined1 *)(iVar2 + 8) = 0;
  }
  return CONCAT31((int3)((uint)iVar4 >> 8),1);
}



============================================================
DISASSEMBLY
============================================================
006db140 : MOV ECX,dword ptr [ESI + 0x194]
006db146 : PUSH EDI
006db147 : MOV EDI,dword ptr [ESI + 0x198]
006db14d : MOV EAX,dword ptr [EDI + 0x10]
006db150 : CDQ
006db151 : AND EDX,0x7
006db154 : ADD EAX,EDX
006db156 : SAR EAX,0x3
006db159 : ADD dword ptr [ECX + 0x14],EAX
006db15c : MOV dword ptr [EDI + 0x10],0x0
006db163 : MOV EAX,dword ptr [ESI + 0x194]
006db169 : MOV ECX,dword ptr [EAX + 0x8]
006db16c : PUSH ESI
006db16d : CALL ECX
006db16f : ADD ESP,0x4
006db172 : TEST AL,AL
006db174 : JNZ 0x006db178
006db176 : POP EDI
006db177 : RET
006db178 : XOR EAX,EAX
006db17a : CMP dword ptr [ESI + 0x124],EAX
006db180 : JLE 0x006db197
006db182 : LEA ECX,[EDI + 0x14]
006db185 : MOV dword ptr [ECX],0x0
006db18b : INC EAX
006db18c : ADD ECX,0x4
006db18f : CMP EAX,dword ptr [ESI + 0x124]
006db195 : JL 0x006db185
006db197 : MOV EDX,dword ptr [ESI + 0xfc]
006db19d : MOV dword ptr [EDI + 0x24],EDX
006db1a0 : CMP dword ptr [ESI + 0x17c],0x0
006db1a7 : JNZ 0x006db1ad
006db1a9 : MOV byte ptr [EDI + 0x8],0x0
006db1ad : MOV AL,0x1
006db1af : POP EDI
006db1b0 : RET
