PROGRAM  : Maestia.exe
FUNCTION : FUN_0068bf70
ENTRY    : 0068bf70
BODY     : [[0068bf70, 0068bfd0]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0068bf70(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 *unaff_ESI;
  int iVar4;
  int local_4;
  
  iVar1 = unaff_ESI[1];
  local_4 = 0;
  iVar3 = 0;
  if (iVar1 < param_1) {
    iVar4 = (iVar1 >> 1) + 4 + iVar1;
    if (iVar1 == 0x1fffffff) {
      return 0x40;
    }
    if ((iVar4 < iVar1) || (0x1fffffff < iVar4)) {
      iVar4 = 0x1fffffff;
    }
    uVar2 = FUN_0068a220(unaff_ESI[3],4,iVar1,iVar4,*unaff_ESI,&local_4);
    *unaff_ESI = uVar2;
    iVar3 = local_4;
    if (local_4 == 0) {
      unaff_ESI[1] = iVar4;
    }
  }
  return iVar3;
}



============================================================
DISASSEMBLY
============================================================
0068bf70 : PUSH ECX
0068bf71 : MOV ECX,dword ptr [ESI + 0x4]
0068bf74 : XOR EAX,EAX
0068bf76 : CMP dword ptr [ESP + 0x8],ECX
0068bf7a : MOV dword ptr [ESP],EAX
0068bf7d : JLE 0x0068bfcf
0068bf7f : MOV EAX,ECX
0068bf81 : SAR EAX,0x1
0068bf83 : PUSH EDI
0068bf84 : LEA EDI,[EAX + ECX*0x1 + 0x4]
0068bf88 : MOV EAX,dword ptr [ESI + 0xc]
0068bf8b : CMP ECX,0x1fffffff
0068bf91 : JNZ 0x0068bf9b
0068bf93 : MOV EAX,0x40
0068bf98 : POP EDI
0068bf99 : POP ECX
0068bf9a : RET
0068bf9b : CMP EDI,ECX
0068bf9d : JL 0x0068bfa7
0068bf9f : CMP EDI,0x1fffffff
0068bfa5 : JLE 0x0068bfac
0068bfa7 : MOV EDI,0x1fffffff
0068bfac : LEA EDX,[ESP + 0x4]
0068bfb0 : PUSH EDX
0068bfb1 : MOV EDX,dword ptr [ESI]
0068bfb3 : PUSH EDX
0068bfb4 : PUSH EDI
0068bfb5 : PUSH ECX
0068bfb6 : PUSH 0x4
0068bfb8 : PUSH EAX
0068bfb9 : CALL 0x0068a220
0068bfbe : MOV dword ptr [ESI],EAX
0068bfc0 : MOV EAX,dword ptr [ESP + 0x1c]
0068bfc4 : ADD ESP,0x18
0068bfc7 : TEST EAX,EAX
0068bfc9 : JNZ 0x0068bfce
0068bfcb : MOV dword ptr [ESI + 0x4],EDI
0068bfce : POP EDI
0068bfcf : POP ECX
0068bfd0 : RET
