PROGRAM  : Maestia.exe
FUNCTION : FUN_00429c60
ENTRY    : 00429c60
BODY     : [[00429c60, 00429dd3] [00429de5, 00429e78] [00429e80, 00429f1f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00429c60(uint param_1,undefined8 *param_2,undefined8 *param_3)

{
  undefined8 uVar1;
  undefined8 uVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  undefined4 uVar8;
  undefined8 *puVar9;
  uint uVar10;
  uint extraout_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar5 = param_1;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7e430;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar6 = *(int *)(param_1 + 4);
  if (iVar6 == 0) {
    uVar10 = 0;
  }
  else {
    uVar10 = (*(int *)(param_1 + 0xc) - iVar6) / 0x14;
  }
  iVar3 = *(int *)(param_1 + 8);
  iVar6 = (iVar3 - iVar6) / 0x14;
  if (iVar6 == 0xccccccc) {
    iVar6 = FUN_00452880();
    uVar10 = extraout_ECX;
  }
  uVar7 = iVar6 + 1;
  if (uVar7 <= uVar10) {
    iVar6 = iVar3 - (int)param_2 >> 0x1f;
    uVar1 = *param_3;
    uVar2 = param_3[1];
    if ((iVar3 - (int)param_2) / 0x14 + iVar6 == iVar6) {
      uVar4 = *(undefined4 *)(param_3 + 2);
      FUN_0042a200(param_2,iVar3);
      local_8 = 2;
      FUN_00429800();
      *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x14;
      puVar9 = (undefined8 *)(*(int *)(param_1 + 8) + -0x14);
      if (param_2 != puVar9) {
        do {
          *param_2 = uVar1;
          param_2[1] = uVar2;
          *(undefined4 *)(param_2 + 2) = uVar4;
          param_2 = (undefined8 *)((int)param_2 + 0x14);
        } while (param_2 != puVar9);
        ExceptionList = local_10;
        return;
      }
    }
    else {
      uVar4 = *(undefined4 *)(param_3 + 2);
      uVar8 = FUN_0042a200(iVar3 + -0x14,iVar3);
      *(undefined4 *)(param_1 + 8) = uVar8;
      FUN_0042a230(iVar3);
      puVar9 = param_2;
      if (param_2 != (undefined8 *)((int)param_2 + 0x14)) {
        do {
          *puVar9 = uVar1;
          puVar9[1] = uVar2;
          *(undefined4 *)(puVar9 + 2) = uVar4;
          puVar9 = (undefined8 *)((int)puVar9 + 0x14);
        } while (puVar9 != (undefined8 *)((int)param_2 + 0x14));
      }
    }
    ExceptionList = local_10;
    return;
  }
  if (0xccccccc - (uVar10 >> 1) < uVar10) {
    param_1 = 0;
  }
  else {
    param_1 = uVar10 + (uVar10 >> 1);
  }
  if (param_1 < uVar7) {
    param_1 = uVar7;
  }
  iVar6 = FUN_00488520();
  local_8 = 0;
  FUN_00429800();
  FUN_0042a200(*(undefined4 *)(iVar5 + 4),param_2);
  FUN_0042a200(param_2,*(undefined4 *)(iVar5 + 8));
  local_8 = 0xffffffff;
  if (*(int *)(iVar5 + 4) == 0) {
    *(uint *)(iVar5 + 0xc) = iVar6 + param_1 * 0x14;
    *(int *)(iVar5 + 8) = iVar6 + ((*(int *)(iVar5 + 8) - *(int *)(iVar5 + 4)) / 0x14 + 1) * 0x14;
    *(int *)(iVar5 + 4) = iVar6;
    ExceptionList = local_10;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00429c60 : PUSH EBP
00429c61 : MOV EBP,ESP
00429c63 : PUSH -0x1
00429c65 : PUSH 0xb7e430
00429c6a : MOV EAX,FS:[0x0]
00429c70 : PUSH EAX
00429c71 : SUB ESP,0x28
00429c74 : PUSH EBX
00429c75 : PUSH ESI
00429c76 : PUSH EDI
00429c77 : MOV EAX,[0x00d66fa0]
00429c7c : XOR EAX,EBP
00429c7e : PUSH EAX
00429c7f : LEA EAX,[EBP + -0xc]
00429c82 : MOV FS:[0x0],EAX
00429c88 : MOV dword ptr [EBP + -0x10],ESP
00429c8b : MOV EBX,dword ptr [EBP + 0x8]
00429c8e : MOV ESI,dword ptr [EBX + 0x4]
00429c91 : TEST ESI,ESI
00429c93 : JNZ 0x00429c99
00429c95 : XOR ECX,ECX
00429c97 : JMP 0x00429cb1
00429c99 : MOV ECX,dword ptr [EBX + 0xc]
00429c9c : SUB ECX,ESI
00429c9e : MOV EAX,0x66666667
00429ca3 : IMUL ECX
00429ca5 : SAR EDX,0x3
00429ca8 : MOV EAX,EDX
00429caa : SHR EAX,0x1f
00429cad : ADD EAX,EDX
00429caf : MOV ECX,EAX
00429cb1 : MOV EDI,dword ptr [EBX + 0x8]
00429cb4 : MOV EDX,EDI
00429cb6 : SUB EDX,ESI
00429cb8 : MOV EAX,0x66666667
00429cbd : IMUL EDX
00429cbf : SAR EDX,0x3
00429cc2 : MOV EAX,EDX
00429cc4 : SHR EAX,0x1f
00429cc7 : ADD EAX,EDX
00429cc9 : MOV EDX,0xccccccc
00429cce : SUB EDX,EAX
00429cd0 : CMP EDX,0x1
00429cd3 : JNC 0x00429cda
00429cd5 : CALL 0x00452880
00429cda : INC EAX
00429cdb : CMP ECX,EAX
00429cdd : JNC 0x00429de5
00429ce3 : MOV EDX,ECX
00429ce5 : SHR EDX,0x1
00429ce7 : MOV ESI,0xccccccc
00429cec : SUB ESI,EDX
00429cee : CMP ESI,ECX
00429cf0 : JNC 0x00429cfe
00429cf2 : MOV dword ptr [EBP + 0x8],0x0
00429cf9 : MOV ECX,dword ptr [EBP + 0x8]
00429cfc : JMP 0x00429d03
00429cfe : ADD ECX,EDX
00429d00 : MOV dword ptr [EBP + 0x8],ECX
00429d03 : CMP ECX,EAX
00429d05 : JNC 0x00429d0c
00429d07 : MOV dword ptr [EBP + 0x8],EAX
00429d0a : MOV ECX,EAX
00429d0c : CALL 0x00488520
00429d11 : MOV ESI,EAX
00429d13 : MOV dword ptr [EBP + -0x18],ESI
00429d16 : MOV ECX,dword ptr [EBP + 0xc]
00429d19 : SUB ECX,dword ptr [EBX + 0x4]
00429d1c : MOV EAX,0x66666667
00429d21 : IMUL ECX
00429d23 : SAR EDX,0x3
00429d26 : MOV EAX,EDX
00429d28 : SHR EAX,0x1f
00429d2b : ADD EAX,EDX
00429d2d : MOV dword ptr [EBP + -0x20],EAX
00429d30 : MOV dword ptr [EBP + -0x4],0x0
00429d37 : LEA EAX,[EAX + EAX*0x4]
00429d3a : LEA EDI,[ESI + EAX*0x4]
00429d3d : MOV EDX,dword ptr [EBP + 0x10]
00429d40 : MOV ESI,0x1
00429d45 : CALL 0x00429800
00429d4a : MOV dword ptr [EBP + -0x1c],ESI
00429d4d : MOV ECX,dword ptr [EBP + 0xc]
00429d50 : PUSH ECX
00429d51 : MOV EDX,dword ptr [EBX + 0x4]
00429d54 : PUSH EDX
00429d55 : MOV ESI,dword ptr [EBP + -0x18]
00429d58 : MOV EDX,ESI
00429d5a : CALL 0x0042a200
00429d5f : MOV dword ptr [EBP + -0x1c],0x2
00429d66 : MOV EAX,dword ptr [EBP + -0x20]
00429d69 : LEA EAX,[EAX + EAX*0x4 + 0x5]
00429d6d : LEA EDX,[ESI + EAX*0x4]
00429d70 : MOV ECX,dword ptr [EBX + 0x8]
00429d73 : PUSH ECX
00429d74 : MOV EAX,dword ptr [EBP + 0xc]
00429d77 : PUSH EAX
00429d78 : CALL 0x0042a200
00429d7d : MOV dword ptr [EBP + -0x4],0xffffffff
00429d84 : MOV ECX,dword ptr [EBX + 0x4]
00429d87 : MOV EDX,dword ptr [EBX + 0x8]
00429d8a : SUB EDX,ECX
00429d8c : MOV EAX,0x66666667
00429d91 : IMUL EDX
00429d93 : SAR EDX,0x3
00429d96 : MOV EAX,EDX
00429d98 : SHR EAX,0x1f
00429d9b : LEA EDI,[EDX + EAX*0x1 + 0x1]
00429d9f : TEST ECX,ECX
00429da1 : JZ 0x00429da8
00429da3 : CALL 0x006f04e0
00429da8 : MOV EAX,dword ptr [EBP + 0x8]
00429dab : LEA ECX,[EAX + EAX*0x4]
00429dae : LEA EDX,[ESI + ECX*0x4]
00429db1 : MOV dword ptr [EBX + 0xc],EDX
00429db4 : LEA EAX,[EDI + EDI*0x4]
00429db7 : LEA ECX,[ESI + EAX*0x4]
00429dba : MOV dword ptr [EBX + 0x8],ECX
00429dbd : MOV dword ptr [EBX + 0x4],ESI
00429dc0 : MOV ECX,dword ptr [EBP + -0xc]
00429dc3 : MOV dword ptr FS:[0x0],ECX
00429dca : POP ECX
00429dcb : POP EDI
00429dcc : POP ESI
00429dcd : POP EBX
00429dce : MOV ESP,EBP
00429dd0 : POP EBP
00429dd1 : RET 0xc
00429de5 : MOV ECX,EDI
00429de7 : MOV ESI,dword ptr [EBP + 0xc]
00429dea : SUB ECX,ESI
00429dec : MOV EAX,0x66666667
00429df1 : IMUL ECX
00429df3 : SAR EDX,0x3
00429df6 : MOV EAX,EDX
00429df8 : SHR EAX,0x1f
00429dfb : ADD EAX,EDX
00429dfd : PUSH EDI
00429dfe : CMP EAX,0x1
00429e01 : MOV EAX,dword ptr [EBP + 0x10]
00429e04 : MOVQ XMM0,qword ptr [EAX]
00429e08 : MOVQ qword ptr [EBP + -0x34],XMM0
00429e0d : MOVQ XMM0,qword ptr [EAX + 0x8]
00429e12 : MOVQ qword ptr [EBP + -0x2c],XMM0
00429e17 : JNC 0x00429eb4
00429e1d : MOV ECX,dword ptr [EAX + 0x10]
00429e20 : MOV dword ptr [EBP + -0x24],ECX
00429e23 : LEA EDX,[ESI + 0x14]
00429e26 : PUSH ESI
00429e27 : CALL 0x0042a200
00429e2c : MOV dword ptr [EBP + -0x4],0x2
00429e33 : MOV EDI,dword ptr [EBX + 0x8]
00429e36 : MOV ECX,EDI
00429e38 : SUB ECX,dword ptr [EBP + 0xc]
00429e3b : MOV EAX,0x66666667
00429e40 : IMUL ECX
00429e42 : SAR EDX,0x3
00429e45 : MOV EAX,EDX
00429e47 : SHR EAX,0x1f
00429e4a : ADD EAX,EDX
00429e4c : MOV ESI,0x1
00429e51 : SUB ESI,EAX
00429e53 : LEA EDX,[EBP + -0x34]
00429e56 : CALL 0x00429800
00429e5b : MOV dword ptr [EBP + -0x4],0xffffffff
00429e62 : ADD dword ptr [EBX + 0x8],0x14
00429e66 : MOV EBX,dword ptr [EBX + 0x8]
00429e69 : LEA ECX,[EBX + -0x14]
00429e6c : MOV EAX,dword ptr [EBP + 0xc]
00429e6f : CMP EAX,ECX
00429e71 : JZ 0x00429f0c
00429e77 : JMP 0x00429e80
00429e80 : MOVQ XMM0,qword ptr [EBP + -0x34]
00429e85 : MOVQ qword ptr [EAX],XMM0
00429e89 : MOVQ XMM0,qword ptr [EBP + -0x2c]
00429e8e : MOVQ qword ptr [EAX + 0x8],XMM0
00429e93 : MOV EDX,dword ptr [EBP + -0x24]
00429e96 : MOV dword ptr [EAX + 0x10],EDX
00429e99 : ADD EAX,0x14
00429e9c : CMP EAX,ECX
00429e9e : JNZ 0x00429e80
00429ea0 : MOV ECX,dword ptr [EBP + -0xc]
00429ea3 : MOV dword ptr FS:[0x0],ECX
00429eaa : POP ECX
00429eab : POP EDI
00429eac : POP ESI
00429ead : POP EBX
00429eae : MOV ESP,EBP
00429eb0 : POP EBP
00429eb1 : RET 0xc
00429eb4 : MOV EAX,dword ptr [EAX + 0x10]
00429eb7 : MOV dword ptr [EBP + -0x24],EAX
00429eba : LEA ESI,[EDI + -0x14]
00429ebd : PUSH ESI
00429ebe : MOV EDX,EDI
00429ec0 : CALL 0x0042a200
00429ec5 : MOV dword ptr [EBX + 0x8],EAX
00429ec8 : PUSH EDI
00429ec9 : MOV ECX,ESI
00429ecb : MOV EDX,dword ptr [EBP + 0xc]
00429ece : CALL 0x0042a230
00429ed3 : ADD ESP,0x4
00429ed6 : MOV EAX,dword ptr [EBP + 0xc]
00429ed9 : LEA ECX,[EAX + 0x14]
00429edc : CMP EAX,ECX
00429ede : JZ 0x00429f0c
00429ee0 : MOVQ XMM0,qword ptr [EBP + -0x34]
00429ee5 : MOVQ XMM1,qword ptr [EBP + -0x2c]
00429eea : LEA EBX,[EBX]
00429ef0 : MOVQ qword ptr [EAX],XMM0
00429ef4 : MOVQ qword ptr [EAX + 0x8],XMM1
00429ef9 : MOV EDX,dword ptr [EBP + -0x24]
00429efc : MOV dword ptr [EAX + 0x10],EDX
00429eff : ADD EAX,0x14
00429f02 : MOV ECX,dword ptr [EBP + 0xc]
00429f05 : ADD ECX,0x14
00429f08 : CMP EAX,ECX
00429f0a : JNZ 0x00429ef0
00429f0c : MOV ECX,dword ptr [EBP + -0xc]
00429f0f : MOV dword ptr FS:[0x0],ECX
00429f16 : POP ECX
00429f17 : POP EDI
00429f18 : POP ESI
00429f19 : POP EBX
00429f1a : MOV ESP,EBP
00429f1c : POP EBP
00429f1d : RET 0xc
