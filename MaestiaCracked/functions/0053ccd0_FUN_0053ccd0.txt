PROGRAM  : Maestia.exe
FUNCTION : FUN_0053ccd0
ENTRY    : 0053ccd0
BODY     : [[0053ccd0, 0053cdac]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0053ccd0(int param_1,undefined4 param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  undefined4 *in_ECX;
  
  *in_ECX = 0;
  in_ECX[1] = 0;
  in_ECX[2] = 0;
  in_ECX[3] = 0;
  in_ECX[4] = param_1;
  uVar3 = FUN_0053bc40(param_3);
  in_ECX[5] = param_1;
  in_ECX[6] = 0;
  if ((int)uVar3 < 0) {
    in_ECX[6] = 0;
  }
  else if (uVar3 < *(uint *)(param_1 + 4)) {
    in_ECX[6] = uVar3;
  }
  else {
    in_ECX[6] = *(uint *)(param_1 + 4) - 1;
  }
  in_ECX[7] = param_2;
  in_ECX[8] = 0;
  uVar3 = in_ECX[6];
  if ((-1 < (int)uVar3) && (uVar3 < (uint)((int *)in_ECX[5])[1])) {
    piVar1 = (int *)(*(int *)in_ECX[5] + uVar3 * 0xc);
    iVar2 = *piVar1;
    if ((param_3 < iVar2) || (piVar1[1] + -1 + iVar2 < param_3)) {
      if (*(int *)(*(int *)in_ECX[5] + in_ECX[6] * 0xc) < param_3) {
        iVar2 = *(int *)(*(int *)in_ECX[5] + in_ECX[6] * 0xc);
        in_ECX[8] = iVar2;
        in_ECX[8] = *(int *)(*(int *)in_ECX[5] + 4 + in_ECX[6] * 0xc) + iVar2;
        if ((int)in_ECX[6] < *(int *)(in_ECX[5] + 4)) {
          in_ECX[6] = in_ECX[6] + 1;
          return;
        }
      }
    }
    else {
      in_ECX[8] = *(undefined4 *)(*(int *)in_ECX[5] + in_ECX[6] * 0xc);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0053ccd0 : PUSH EBX
0053ccd1 : MOV EBX,dword ptr [ESP + 0x10]
0053ccd5 : PUSH EBP
0053ccd6 : PUSH ESI
0053ccd7 : MOV ESI,ECX
0053ccd9 : XOR EBP,EBP
0053ccdb : PUSH EDI
0053ccdc : MOV EDI,dword ptr [ESP + 0x14]
0053cce0 : MOV dword ptr [ESI],EBP
0053cce2 : MOV dword ptr [ESI + 0x4],EBP
0053cce5 : MOV dword ptr [ESI + 0x8],EBP
0053cce8 : MOV dword ptr [ESI + 0xc],EBP
0053cceb : PUSH EBX
0053ccec : MOV ECX,EDI
0053ccee : MOV dword ptr [ESI + 0x10],EDI
0053ccf1 : CALL 0x0053bc40
0053ccf6 : CMP EAX,EBP
0053ccf8 : MOV dword ptr [ESI + 0x14],EDI
0053ccfb : MOV dword ptr [ESI + 0x18],EBP
0053ccfe : JGE 0x0053cd05
0053cd00 : MOV dword ptr [ESI + 0x18],EBP
0053cd03 : JMP 0x0053cd15
0053cd05 : MOV EDI,dword ptr [EDI + 0x4]
0053cd08 : CMP EAX,EDI
0053cd0a : JC 0x0053cd12
0053cd0c : DEC EDI
0053cd0d : MOV dword ptr [ESI + 0x18],EDI
0053cd10 : JMP 0x0053cd15
0053cd12 : MOV dword ptr [ESI + 0x18],EAX
0053cd15 : MOV EAX,dword ptr [ESP + 0x18]
0053cd19 : MOV dword ptr [ESI + 0x1c],EAX
0053cd1c : MOV dword ptr [ESI + 0x20],EBP
0053cd1f : MOV EAX,dword ptr [ESI + 0x18]
0053cd22 : CMP EAX,EBP
0053cd24 : JL 0x0053cda4
0053cd26 : MOV ECX,dword ptr [ESI + 0x14]
0053cd29 : CMP EAX,dword ptr [ECX + 0x4]
0053cd2c : JNC 0x0053cda4
0053cd2e : LEA EDX,[EAX + EAX*0x2]
0053cd31 : MOV EAX,ECX
0053cd33 : MOV ECX,dword ptr [EAX]
0053cd35 : LEA EAX,[ECX + EDX*0x4]
0053cd38 : MOV ECX,dword ptr [EAX]
0053cd3a : CMP EBX,ECX
0053cd3c : JL 0x0053cd49
0053cd3e : MOV EDX,dword ptr [EAX + 0x4]
0053cd41 : LEA EAX,[EDX + ECX*0x1 + -0x1]
0053cd45 : CMP EBX,EAX
0053cd47 : JLE 0x0053cd93
0053cd49 : MOV EAX,dword ptr [ESI + 0x18]
0053cd4c : MOV EDX,dword ptr [ESI + 0x14]
0053cd4f : LEA ECX,[EAX + EAX*0x2]
0053cd52 : MOV EAX,dword ptr [EDX]
0053cd54 : CMP EBX,dword ptr [EAX + ECX*0x4]
0053cd57 : JLE 0x0053cda4
0053cd59 : MOV EAX,dword ptr [ESI + 0x18]
0053cd5c : LEA ECX,[EAX + EAX*0x2]
0053cd5f : MOV EAX,dword ptr [EDX]
0053cd61 : MOV EAX,dword ptr [EAX + ECX*0x4]
0053cd64 : MOV dword ptr [ESI + 0x20],EAX
0053cd67 : MOV ECX,dword ptr [ESI + 0x18]
0053cd6a : MOV EDX,dword ptr [ESI + 0x14]
0053cd6d : MOV EDX,dword ptr [EDX]
0053cd6f : LEA ECX,[ECX + ECX*0x2]
0053cd72 : MOV ECX,dword ptr [EDX + ECX*0x4 + 0x4]
0053cd76 : ADD ECX,EAX
0053cd78 : MOV dword ptr [ESI + 0x20],ECX
0053cd7b : MOV EAX,dword ptr [ESI + 0x18]
0053cd7e : MOV EDX,dword ptr [ESI + 0x14]
0053cd81 : CMP EAX,dword ptr [EDX + 0x4]
0053cd84 : JGE 0x0053cda4
0053cd86 : INC EAX
0053cd87 : POP EDI
0053cd88 : MOV dword ptr [ESI + 0x18],EAX
0053cd8b : MOV EAX,ESI
0053cd8d : POP ESI
0053cd8e : POP EBP
0053cd8f : POP EBX
0053cd90 : RET 0xc
0053cd93 : MOV EAX,dword ptr [ESI + 0x18]
0053cd96 : MOV ECX,dword ptr [ESI + 0x14]
0053cd99 : MOV EDX,dword ptr [ECX]
0053cd9b : LEA EAX,[EAX + EAX*0x2]
0053cd9e : MOV EAX,dword ptr [EDX + EAX*0x4]
0053cda1 : MOV dword ptr [ESI + 0x20],EAX
0053cda4 : POP EDI
0053cda5 : MOV EAX,ESI
0053cda7 : POP ESI
0053cda8 : POP EBP
0053cda9 : POP EBX
0053cdaa : RET 0xc
