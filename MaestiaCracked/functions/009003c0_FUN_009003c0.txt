PROGRAM  : Maestia.exe
FUNCTION : FUN_009003c0
ENTRY    : 009003c0
BODY     : [[009003c0, 009004f5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009003c0(int param_1,int param_2,int param_3)

{
  int *piVar1;
  float fVar2;
  float fVar3;
  int iVar4;
  
  if (param_3 != 0) {
    iVar4 = FUN_00a1a840();
    if ((((iVar4 != 0) || (iVar4 = FUN_00a1a6d0(), iVar4 != 0)) ||
        (iVar4 = FUN_00a1a780(), iVar4 != 0)) && (*(char *)(iVar4 + 0x3b1) != '\0')) {
      *(undefined4 *)(param_1 + 0xb4) = 0;
      *(undefined4 *)(param_1 + 0xb0) = 0;
      *(undefined1 *)(param_1 + 0xbc) = 1;
      return;
    }
    fVar2 = (float)param_2;
    if (param_2 < 0) {
      fVar2 = fVar2 + 4.2949673e+09;
    }
    fVar3 = (float)param_3;
    if (param_3 < 0) {
      fVar3 = fVar3 + 4.2949673e+09;
    }
    fVar2 = fVar2 / fVar3;
    *(float *)(param_1 + 0xb0) = fVar2;
    if (*(char *)(param_1 + 0xae) != '\0') {
      *(undefined1 *)(param_1 + 0xae) = 0;
      *(float *)(param_1 + 0xb4) = fVar2;
    }
    if (fVar2 < *(float *)(param_1 + 0xb4)) {
      *(undefined4 *)(param_1 + 0xb8) = 0x3cb43958;
    }
    *(undefined1 *)(param_1 + 0xbc) = 1;
    return;
  }
  if (*DAT_00da9894 == 0) {
    return;
  }
  piVar1 = *(int **)(*DAT_00da9894 + 0x114);
  if (piVar1 == (int *)0x0) {
    return;
  }
  (**(code **)(*piVar1 + 4))(piVar1,"SetTargetDPScale",&DAT_00c63060,0);
  return;
}



============================================================
DISASSEMBLY
============================================================
009003c0 : PUSH EBP
009003c1 : MOV EBP,ESP
009003c3 : AND ESP,0xffffffc0
009003c6 : SUB ESP,0x34
009003c9 : CMP dword ptr [EBP + 0x10],0x0
009003cd : PUSH EBX
009003ce : MOV EBX,dword ptr [EBP + 0x8]
009003d1 : PUSH ESI
009003d2 : PUSH EDI
009003d3 : JNZ 0x00900418
009003d5 : MOV EAX,[0x00da9894]
009003da : MOV EAX,dword ptr [EAX]
009003dc : TEST EAX,EAX
009003de : JZ 0x009004ed
009003e4 : MOV EAX,dword ptr [EAX + 0x114]
009003ea : TEST EAX,EAX
009003ec : JZ 0x009004ed
009003f2 : FLDZ
009003f4 : MOV ECX,dword ptr [EAX]
009003f6 : MOV EDX,dword ptr [ECX + 0x4]
009003f9 : SUB ESP,0x8
009003fc : FSTP double ptr [ESP]
009003ff : PUSH 0xc63060
00900404 : PUSH 0xc63064
00900409 : PUSH EAX
0090040a : CALL EDX
0090040c : ADD ESP,0x14
0090040f : POP EDI
00900410 : POP ESI
00900411 : POP EBX
00900412 : MOV ESP,EBP
00900414 : POP EBP
00900415 : RET 0xc
00900418 : MOV ECX,dword ptr [0x00da93ec]
0090041e : MOV ESI,dword ptr [ECX + 0x24c]
00900424 : PUSH ESI
00900425 : MOV EDI,ECX
00900427 : CALL 0x00a1a840
0090042c : TEST EAX,EAX
0090042e : JNZ 0x00900448
00900430 : PUSH ESI
00900431 : MOV ECX,EDI
00900433 : CALL 0x00a1a6d0
00900438 : TEST EAX,EAX
0090043a : JNZ 0x00900448
0090043c : PUSH ESI
0090043d : MOV ECX,EDI
0090043f : CALL 0x00a1a780
00900444 : TEST EAX,EAX
00900446 : JZ 0x00900474
00900448 : CMP byte ptr [EAX + 0x3b1],0x0
0090044f : JZ 0x00900474
00900451 : XORPS XMM0,XMM0
00900454 : MOVSS dword ptr [EBX + 0xb4],XMM0
0090045c : MOVSS dword ptr [EBX + 0xb0],XMM0
00900464 : MOV byte ptr [EBX + 0xbc],0x1
0090046b : POP EDI
0090046c : POP ESI
0090046d : POP EBX
0090046e : MOV ESP,EBP
00900470 : POP EBP
00900471 : RET 0xc
00900474 : MOV EAX,dword ptr [EBP + 0xc]
00900477 : FILD dword ptr [EBP + 0xc]
0090047a : TEST EAX,EAX
0090047c : JGE 0x00900484
0090047e : FADD float ptr [0x00cdf0e0]
00900484 : MOV ECX,dword ptr [EBP + 0x10]
00900487 : FILD dword ptr [EBP + 0x10]
0090048a : TEST ECX,ECX
0090048c : JGE 0x00900494
0090048e : FADD float ptr [0x00cdf0e0]
00900494 : CMP byte ptr [EBX + 0xae],0x0
0090049b : FDIVP
0090049d : FST float ptr [ESP + 0x3c]
009004a1 : FSTP float ptr [EBX + 0xb0]
009004a7 : MOVSS XMM1,dword ptr [ESP + 0x3c]
009004ad : JZ 0x009004be
009004af : MOV byte ptr [EBX + 0xae],0x0
009004b6 : MOVSS dword ptr [EBX + 0xb4],XMM1
009004be : MOVSS XMM0,dword ptr [EBX + 0xb4]
009004c6 : COMISS XMM0,XMM1
009004c9 : JBE 0x009004e6
009004cb : SUBSS XMM0,XMM1
009004cf : COMISS XMM0,dword ptr [0x00d72c24]
009004d6 : MOVSS XMM0,dword ptr [0x00cdf528]
009004de : MOVSS dword ptr [EBX + 0xb8],XMM0
009004e6 : MOV byte ptr [EBX + 0xbc],0x1
009004ed : POP EDI
009004ee : POP ESI
009004ef : POP EBX
009004f0 : MOV ESP,EBP
009004f2 : POP EBP
009004f3 : RET 0xc
