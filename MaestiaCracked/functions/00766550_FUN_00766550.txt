PROGRAM  : Maestia.exe
FUNCTION : FUN_00766550
ENTRY    : 00766550
BODY     : [[00766550, 007665d9]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00766550(void)

{
  int in_EAX;
  int iVar1;
  void *local_c;
  void *local_8;
  
  if (*(int *)(in_EAX + 8) == 0) {
    return 1;
  }
  iVar1 = (**(code **)(**(int **)(in_EAX + 8) + 0x2c))(*(int **)(in_EAX + 8),0,0,&local_8,0x10);
  if (-1 < iVar1) {
    iVar1 = (**(code **)(**(int **)(in_EAX + 4) + 0x2c))(*(int **)(in_EAX + 4),0,0,&local_c,0);
    if (-1 < iVar1) {
      _memcpy(local_c,local_8,(uint)*(ushort *)(in_EAX + 0x10) * (uint)*(ushort *)(in_EAX + 0xe));
      (**(code **)(**(int **)(in_EAX + 4) + 0x30))(*(int **)(in_EAX + 4));
    }
    (**(code **)(**(int **)(in_EAX + 8) + 0x30))(*(int **)(in_EAX + 8));
  }
  return iVar1;
}



============================================================
DISASSEMBLY
============================================================
00766550 : PUSH EBP
00766551 : MOV EBP,ESP
00766553 : SUB ESP,0x8
00766556 : PUSH ESI
00766557 : MOV ESI,EAX
00766559 : CMP dword ptr [ESI + 0x8],0x0
0076655d : JNZ 0x00766569
0076655f : MOV EAX,0x1
00766564 : POP ESI
00766565 : MOV ESP,EBP
00766567 : POP EBP
00766568 : RET
00766569 : MOV EAX,dword ptr [ESI + 0x8]
0076656c : MOV ECX,dword ptr [EAX]
0076656e : PUSH EDI
0076656f : PUSH 0x10
00766571 : LEA EDX,[EBP + -0x4]
00766574 : PUSH EDX
00766575 : PUSH 0x0
00766577 : PUSH 0x0
00766579 : PUSH EAX
0076657a : MOV EAX,dword ptr [ECX + 0x2c]
0076657d : CALL EAX
0076657f : MOV EDI,EAX
00766581 : TEST EDI,EDI
00766583 : JL 0x007665d2
00766585 : MOV EAX,dword ptr [ESI + 0x4]
00766588 : MOV ECX,dword ptr [EAX]
0076658a : PUSH 0x0
0076658c : LEA EDX,[EBP + -0x8]
0076658f : PUSH EDX
00766590 : PUSH 0x0
00766592 : PUSH 0x0
00766594 : PUSH EAX
00766595 : MOV EAX,dword ptr [ECX + 0x2c]
00766598 : CALL EAX
0076659a : MOV EDI,EAX
0076659c : TEST EDI,EDI
0076659e : JL 0x007665c7
007665a0 : MOVZX ECX,word ptr [ESI + 0x10]
007665a4 : MOVZX EDX,word ptr [ESI + 0xe]
007665a8 : MOV EAX,dword ptr [EBP + -0x4]
007665ab : IMUL ECX,EDX
007665ae : PUSH ECX
007665af : MOV ECX,dword ptr [EBP + -0x8]
007665b2 : PUSH EAX
007665b3 : PUSH ECX
007665b4 : CALL 0x0063ae40
007665b9 : MOV EAX,dword ptr [ESI + 0x4]
007665bc : MOV EDX,dword ptr [EAX]
007665be : ADD ESP,0xc
007665c1 : PUSH EAX
007665c2 : MOV EAX,dword ptr [EDX + 0x30]
007665c5 : CALL EAX
007665c7 : MOV ESI,dword ptr [ESI + 0x8]
007665ca : MOV ECX,dword ptr [ESI]
007665cc : MOV EDX,dword ptr [ECX + 0x30]
007665cf : PUSH ESI
007665d0 : CALL EDX
007665d2 : MOV EAX,EDI
007665d4 : POP EDI
007665d5 : POP ESI
007665d6 : MOV ESP,EBP
007665d8 : POP EBP
007665d9 : RET
