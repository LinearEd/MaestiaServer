PROGRAM  : Maestia.exe
FUNCTION : __wfltin2
ENTRY    : 00652e1f
BODY     : [[00652e1f, 00652ec7]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    __wfltin2
   
   Library: Visual Studio 2008 Release */

FLT __cdecl __wfltin2(FLT _Fit,wchar_t *_Str,_locale_t _Locale)

{
  INTRNCVT_STATUS IVar1;
  FLT p_Var2;
  uint uVar3;
  int local_28;
  wchar_t *local_24;
  _CRT_DOUBLE local_20;
  uint local_18;
  _LDBL12 local_14;
  uint local_8;
  
  local_8 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_24 = _Str;
  uVar3 = 0;
  local_18 = FUN_00652ec8(&local_14,&local_28,_Str,0,0,0,0);
  if ((local_18 & 4) == 0) {
    IVar1 = __ld12tod(&local_14,&local_20);
    if (((local_18 & 2) != 0) || (IVar1 == INTRNCVT_OVERFLOW)) {
      uVar3 = 0x80;
    }
    if (((local_18 & 1) != 0) || (IVar1 == INTRNCVT_UNDERFLOW)) {
      uVar3 = uVar3 | 0x100;
    }
  }
  else {
    uVar3 = 0x200;
    local_20.x._0_4_ = 0;
    local_20.x._4_4_ = 0;
  }
  _Fit->nbytes = local_28 - (int)local_24 >> 1;
  *(undefined4 *)&_Fit->dval = local_20.x._0_4_;
  *(undefined4 *)((int)&_Fit->dval + 4) = local_20.x._4_4_;
  _Fit->flags = uVar3;
  p_Var2 = (FLT)__security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return p_Var2;
}



============================================================
DISASSEMBLY
============================================================
00652e1f : MOV EDI,EDI
00652e21 : PUSH EBP
00652e22 : MOV EBP,ESP
00652e24 : SUB ESP,0x24
00652e27 : MOV EAX,[0x00d66fa0]
00652e2c : XOR EAX,EBP
00652e2e : MOV dword ptr [EBP + -0x4],EAX
00652e31 : MOV EAX,dword ptr [EBP + 0x1c]
00652e34 : MOV ECX,dword ptr [EBP + 0xc]
00652e37 : PUSH EBX
00652e38 : PUSH ESI
00652e39 : MOV ESI,dword ptr [EBP + 0x8]
00652e3c : PUSH EDI
00652e3d : PUSH EAX
00652e3e : XOR EDI,EDI
00652e40 : PUSH EDI
00652e41 : PUSH EDI
00652e42 : PUSH EDI
00652e43 : PUSH EDI
00652e44 : PUSH ECX
00652e45 : LEA EAX,[EBP + -0x24]
00652e48 : PUSH EAX
00652e49 : LEA EAX,[EBP + -0x10]
00652e4c : PUSH EAX
00652e4d : MOV dword ptr [EBP + -0x20],ECX
00652e50 : XOR EBX,EBX
00652e52 : CALL 0x00652ec8
00652e57 : ADD ESP,0x20
00652e5a : MOV dword ptr [EBP + -0x14],EAX
00652e5d : TEST AL,0x4
00652e5f : JZ 0x00652e6e
00652e61 : MOV EBX,0x200
00652e66 : MOV dword ptr [EBP + -0x1c],EDI
00652e69 : MOV dword ptr [EBP + -0x18],EDI
00652e6c : JMP 0x00652e9e
00652e6e : LEA EAX,[EBP + -0x1c]
00652e71 : PUSH EAX
00652e72 : LEA EAX,[EBP + -0x10]
00652e75 : PUSH EAX
00652e76 : CALL 0x0065e157
00652e7b : TEST byte ptr [EBP + -0x14],0x2
00652e7f : POP ECX
00652e80 : POP ECX
00652e81 : JNZ 0x00652e88
00652e83 : CMP EAX,0x1
00652e86 : JNZ 0x00652e8d
00652e88 : MOV EBX,0x80
00652e8d : TEST byte ptr [EBP + -0x14],0x1
00652e91 : JNZ 0x00652e98
00652e93 : CMP EAX,0x2
00652e96 : JNZ 0x00652e9e
00652e98 : OR EBX,0x100
00652e9e : MOV EAX,dword ptr [EBP + -0x24]
00652ea1 : SUB EAX,dword ptr [EBP + -0x20]
00652ea4 : MOV ECX,dword ptr [EBP + -0x4]
00652ea7 : SAR EAX,0x1
00652ea9 : MOV dword ptr [ESI + 0x4],EAX
00652eac : MOV EAX,dword ptr [EBP + -0x1c]
00652eaf : MOV dword ptr [ESI + 0x10],EAX
00652eb2 : MOV EAX,dword ptr [EBP + -0x18]
00652eb5 : MOV dword ptr [ESI + 0x14],EAX
00652eb8 : POP EDI
00652eb9 : MOV dword ptr [ESI],EBX
00652ebb : MOV EAX,ESI
00652ebd : POP ESI
00652ebe : XOR ECX,EBP
00652ec0 : POP EBX
00652ec1 : CALL 0x00633e6b
00652ec6 : LEAVE
00652ec7 : RET
