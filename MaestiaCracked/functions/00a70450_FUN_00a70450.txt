PROGRAM  : Maestia.exe
FUNCTION : FUN_00a70450
ENTRY    : 00a70450
BODY     : [[00a70450, 00a70499] [00a704a0, 00a7067d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a70450(int param_1)

{
  short sVar1;
  uint uVar2;
  short *psVar3;
  short *psVar4;
  int in_ECX;
  undefined4 *puVar5;
  undefined1 local_68 [4];
  undefined4 local_64;
  undefined4 local_54;
  uint local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined4 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2b0cd;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  psVar3 = (short *)(param_1 + 0xf);
  local_48 = 0;
  local_34 = 7;
  local_38 = 0;
  do {
    sVar1 = *psVar3;
    psVar3 = psVar3 + 1;
  } while (sVar1 != 0);
  local_14 = uVar2;
  FUN_00406360(param_1 + 0xf,(int)psVar3 - (param_1 + 0x11) >> 1);
  local_8 = 0;
  FUN_00405eb0(local_4c,0,0xffffffff);
  *(undefined4 *)(*(int *)(in_ECX + 0x10) + 4) = *(undefined4 *)(param_1 + 4);
  FUN_00405eb0(local_4c,0,0xffffffff);
  FUN_008ab510(uVar2);
  psVar3 = (short *)(param_1 + 0xf);
  do {
    sVar1 = *psVar3;
    psVar3 = psVar3 + 1;
  } while (sVar1 != 0);
  psVar3 = (short *)(param_1 + 0x11 + ((int)psVar3 - (param_1 + 0x11) >> 1) * 2);
  local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
  local_18 = 7;
  local_1c = 0;
  psVar4 = psVar3;
  do {
    sVar1 = *psVar4;
    psVar4 = psVar4 + 1;
  } while (sVar1 != 0);
  FUN_00406360(psVar3,(int)psVar4 - (int)(psVar3 + 1) >> 1);
  local_8._0_1_ = 1;
  FUN_00405eb0(local_30,0,0xffffffff);
  puVar5 = local_2c;
  if (local_18 < 8) {
    puVar5 = &local_2c;
  }
  (**(code **)(**(int **)(*DAT_00da9894 + 0x114) + 4))
            (*(int **)(*DAT_00da9894 + 0x114),"SetGuildNotice",&DAT_00c4b448,puVar5);
  FUN_00404750(L"%d. %02d. %02d ",*(undefined2 *)(param_1 + 8),*(undefined2 *)(param_1 + 10),
               *(undefined2 *)(param_1 + 0xc));
  local_8._0_1_ = 2;
  FUN_00405eb0(local_68,0,0xffffffff);
  puVar5 = local_64;
  if (local_50 < 8) {
    puVar5 = &local_64;
  }
  (**(code **)(**(int **)(*DAT_00da9894 + 0x114) + 4))
            (*(int **)(*DAT_00da9894 + 0x114),"SetFoundationDay",&DAT_00c4b484,puVar5);
  FUN_008ac160(*(undefined1 *)(param_1 + 0xe));
  local_8 = CONCAT31(local_8._1_3_,1);
  if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_50 = 7;
  local_54 = 0;
  local_64 = (undefined4 *)((uint)local_64._2_2_ << 0x10);
  local_8 = (uint)local_8._1_3_ << 8;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = (undefined4 *)((uint)local_2c & 0xffff0000);
  local_8 = 0xffffffff;
  if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_34 = 7;
  local_38 = 0;
  local_48 = 0;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a70450 : PUSH EBP
00a70451 : MOV EBP,ESP
00a70453 : PUSH -0x1
00a70455 : PUSH 0xb2b0cd
00a7045a : MOV EAX,FS:[0x0]
00a70460 : PUSH EAX
00a70461 : SUB ESP,0x58
00a70464 : MOV EAX,[0x00d66fa0]
00a70469 : XOR EAX,EBP
00a7046b : MOV dword ptr [EBP + -0x10],EAX
00a7046e : PUSH EBX
00a7046f : PUSH ESI
00a70470 : PUSH EDI
00a70471 : PUSH EAX
00a70472 : LEA EAX,[EBP + -0xc]
00a70475 : MOV FS:[0x0],EAX
00a7047b : MOV EBX,dword ptr [EBP + 0x8]
00a7047e : MOV EDI,ECX
00a70480 : XOR ESI,ESI
00a70482 : XOR ECX,ECX
00a70484 : LEA EAX,[EBX + 0xf]
00a70487 : MOV word ptr [EBP + -0x44],CX
00a7048b : MOV dword ptr [EBP + -0x30],0x7
00a70492 : MOV dword ptr [EBP + -0x34],ESI
00a70495 : LEA ECX,[EAX + 0x2]
00a70498 : JMP 0x00a704a0
00a704a0 : MOV DX,word ptr [EAX]
00a704a3 : ADD EAX,0x2
00a704a6 : CMP DX,SI
00a704a9 : JNZ 0x00a704a0
00a704ab : SUB EAX,ECX
00a704ad : SAR EAX,0x1
00a704af : PUSH EAX
00a704b0 : LEA EAX,[EBX + 0xf]
00a704b3 : PUSH EAX
00a704b4 : LEA ECX,[EBP + -0x48]
00a704b7 : CALL 0x00406360
00a704bc : MOV dword ptr [EBP + -0x4],ESI
00a704bf : PUSH -0x1
00a704c1 : PUSH ESI
00a704c2 : LEA EDX,[EBP + -0x48]
00a704c5 : PUSH EDX
00a704c6 : LEA ECX,[EDI + 0x14]
00a704c9 : CALL 0x00405eb0
00a704ce : MOV EAX,dword ptr [EBX + 0x4]
00a704d1 : MOV ECX,dword ptr [EDI + 0x10]
00a704d4 : MOV dword ptr [ECX + 0x4],EAX
00a704d7 : MOV EAX,dword ptr [EDI + 0x10]
00a704da : PUSH -0x1
00a704dc : PUSH ESI
00a704dd : LEA ECX,[EBP + -0x48]
00a704e0 : PUSH ECX
00a704e1 : LEA ECX,[EAX + 0xcc]
00a704e7 : CALL 0x00405eb0
00a704ec : MOV ECX,dword ptr [EDI]
00a704ee : LEA ESI,[EBP + -0x48]
00a704f1 : CALL 0x008ab510
00a704f6 : LEA EAX,[EBX + 0xf]
00a704f9 : LEA ECX,[EAX + 0x2]
00a704fc : LEA ESP,[ESP]
00a70500 : MOV DX,word ptr [EAX]
00a70503 : ADD EAX,0x2
00a70506 : TEST DX,DX
00a70509 : JNZ 0x00a70500
00a7050b : SUB EAX,ECX
00a7050d : SAR EAX,0x1
00a7050f : LEA ECX,[EBX + EAX*0x2 + 0x11]
00a70513 : XOR EDX,EDX
00a70515 : MOV EAX,ECX
00a70517 : MOV word ptr [EBP + -0x28],DX
00a7051b : MOV dword ptr [EBP + -0x14],0x7
00a70522 : MOV dword ptr [EBP + -0x18],0x0
00a70529 : LEA EDX,[EAX + 0x2]
00a7052c : LEA ESP,[ESP]
00a70530 : MOV SI,word ptr [EAX]
00a70533 : ADD EAX,0x2
00a70536 : TEST SI,SI
00a70539 : JNZ 0x00a70530
00a7053b : SUB EAX,EDX
00a7053d : SAR EAX,0x1
00a7053f : PUSH EAX
00a70540 : PUSH ECX
00a70541 : LEA ECX,[EBP + -0x2c]
00a70544 : CALL 0x00406360
00a70549 : MOV byte ptr [EBP + -0x4],0x1
00a7054d : MOV EAX,dword ptr [EDI]
00a7054f : PUSH -0x1
00a70551 : PUSH 0x0
00a70553 : LEA ECX,[EBP + -0x2c]
00a70556 : PUSH ECX
00a70557 : LEA ECX,[EAX + 0x3c]
00a7055a : CALL 0x00405eb0
00a7055f : CMP dword ptr [EBP + -0x14],0x8
00a70563 : MOV EDX,dword ptr [0x00da9894]
00a70569 : MOV EAX,dword ptr [EDX]
00a7056b : MOV EAX,dword ptr [EAX + 0x114]
00a70571 : MOV ECX,dword ptr [EBP + -0x28]
00a70574 : JNC 0x00a70579
00a70576 : LEA ECX,[EBP + -0x28]
00a70579 : MOV EDX,dword ptr [EAX]
00a7057b : PUSH ECX
00a7057c : PUSH 0xc4b448
00a70581 : PUSH 0xc4b44c
00a70586 : PUSH EAX
00a70587 : MOV EAX,dword ptr [EDX + 0x4]
00a7058a : CALL EAX
00a7058c : MOVZX ECX,word ptr [EBX + 0xc]
00a70590 : MOVZX EDX,word ptr [EBX + 0xa]
00a70594 : MOVZX EAX,word ptr [EBX + 0x8]
00a70598 : PUSH ECX
00a70599 : PUSH EDX
00a7059a : PUSH EAX
00a7059b : PUSH 0xc49980
00a705a0 : LEA ESI,[EBP + -0x64]
00a705a3 : CALL 0x00404750
00a705a8 : ADD ESP,0x20
00a705ab : MOV byte ptr [EBP + -0x4],0x2
00a705af : MOV EAX,dword ptr [EDI]
00a705b1 : PUSH -0x1
00a705b3 : PUSH 0x0
00a705b5 : MOV ECX,ESI
00a705b7 : PUSH ECX
00a705b8 : LEA ECX,[EAX + 0x74]
00a705bb : CALL 0x00405eb0
00a705c0 : MOV EDX,dword ptr [0x00da9894]
00a705c6 : MOV EAX,dword ptr [EDX]
00a705c8 : MOV EAX,dword ptr [EAX + 0x114]
00a705ce : MOV ECX,dword ptr [EBP + -0x60]
00a705d1 : MOV ESI,0x8
00a705d6 : CMP dword ptr [EBP + -0x4c],ESI
00a705d9 : JNC 0x00a705de
00a705db : LEA ECX,[EBP + -0x60]
00a705de : MOV EDX,dword ptr [EAX]
00a705e0 : PUSH ECX
00a705e1 : PUSH 0xc4b484
00a705e6 : PUSH 0xc4b488
00a705eb : PUSH EAX
00a705ec : MOV EAX,dword ptr [EDX + 0x4]
00a705ef : CALL EAX
00a705f1 : MOVZX ECX,byte ptr [EBX + 0xe]
00a705f5 : MOV EDI,dword ptr [EDI]
00a705f7 : ADD ESP,0x10
00a705fa : PUSH ECX
00a705fb : CALL 0x008ac160
00a70600 : MOV byte ptr [EBP + -0x4],0x1
00a70604 : CMP dword ptr [EBP + -0x4c],ESI
00a70607 : JC 0x00a70611
00a70609 : MOV ECX,dword ptr [EBP + -0x60]
00a7060c : CALL 0x006f04e0
00a70611 : XOR EDX,EDX
00a70613 : MOV EDI,0x7
00a70618 : XOR EBX,EBX
00a7061a : MOV dword ptr [EBP + -0x4c],EDI
00a7061d : MOV dword ptr [EBP + -0x50],EBX
00a70620 : MOV word ptr [EBP + -0x60],DX
00a70624 : MOV byte ptr [EBP + -0x4],DL
00a70627 : CMP dword ptr [EBP + -0x14],ESI
00a7062a : JC 0x00a70634
00a7062c : MOV ECX,dword ptr [EBP + -0x28]
00a7062f : CALL 0x006f04e0
00a70634 : XOR EAX,EAX
00a70636 : MOV dword ptr [EBP + -0x14],EDI
00a70639 : MOV dword ptr [EBP + -0x18],EBX
00a7063c : MOV word ptr [EBP + -0x28],AX
00a70640 : MOV dword ptr [EBP + -0x4],0xffffffff
00a70647 : CMP dword ptr [EBP + -0x30],ESI
00a7064a : JC 0x00a70654
00a7064c : MOV ECX,dword ptr [EBP + -0x44]
00a7064f : CALL 0x006f04e0
00a70654 : XOR ECX,ECX
00a70656 : MOV dword ptr [EBP + -0x30],EDI
00a70659 : MOV dword ptr [EBP + -0x34],EBX
00a7065c : MOV word ptr [EBP + -0x44],CX
00a70660 : MOV ECX,dword ptr [EBP + -0xc]
00a70663 : MOV dword ptr FS:[0x0],ECX
00a7066a : POP ECX
00a7066b : POP EDI
00a7066c : POP ESI
00a7066d : POP EBX
00a7066e : MOV ECX,dword ptr [EBP + -0x10]
00a70671 : XOR ECX,EBP
00a70673 : CALL 0x00633e6b
00a70678 : MOV ESP,EBP
00a7067a : POP EBP
00a7067b : RET 0x4
