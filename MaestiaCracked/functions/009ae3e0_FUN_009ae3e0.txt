PROGRAM  : Maestia.exe
FUNCTION : FUN_009ae3e0
ENTRY    : 009ae3e0
BODY     : [[009ae3e0, 009ae554]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009ae3e0(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
                 undefined4 param_5,undefined4 param_6,undefined2 param_7)

{
  int *piVar1;
  undefined4 *puVar2;
  int iVar3;
  int unaff_EDI;
  undefined4 *local_20;
  undefined4 local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b2172a;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (99 < *(uint *)(unaff_EDI + 0x74)) {
    local_1c = *(undefined4 *)(unaff_EDI + 0x70);
    local_20 = *(undefined4 **)(unaff_EDI + 0x58);
    piVar1 = (int *)FUN_004c1520(DAT_00d66fa0 ^ (uint)&stack0xffffffd8);
    if (*piVar1 != 0) {
      if (*piVar1 != 0) {
        FUN_00462c40(*piVar1);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      puVar2 = (undefined4 *)FUN_004c1520();
      *puVar2 = 0;
    }
    if (*(int *)(unaff_EDI + 0x74) != 0) {
      *(int *)(unaff_EDI + 0x70) = *(int *)(unaff_EDI + 0x70) + 1;
      if ((uint)(*(int *)(unaff_EDI + 0x6c) * 4) <= *(uint *)(unaff_EDI + 0x70)) {
        *(undefined4 *)(unaff_EDI + 0x70) = 0;
      }
      iVar3 = *(int *)(unaff_EDI + 0x74) + -1;
      *(int *)(unaff_EDI + 0x74) = iVar3;
      if (iVar3 == 0) {
        *(undefined4 *)(unaff_EDI + 0x70) = 0;
      }
    }
    FUN_008018d0(L"MAX_RECVCHAT_QUESIZE OVER One Node Delete");
  }
  local_20 = (undefined4 *)FUN_006f0760(0x4c,".\\Gui\\AvaGuiChatWindowMgr.cpp",0x6a,0);
  local_c = 0;
  if (local_20 == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)0x0;
  }
  else {
    puVar2 = (undefined4 *)FUN_0041f2a0(local_20);
  }
  local_c = 0xffffffff;
  local_20 = puVar2;
  if (puVar2 == (undefined4 *)0x0) {
    FUN_008018d0(L"InsertRecvChatDuringZoneLoad Alloc fail");
    ExceptionList = local_14;
    return;
  }
  *puVar2 = param_1;
  FUN_00405eb0(param_2,0,0xffffffff);
  FUN_00405eb0(param_3,0,0xffffffff);
  puVar2[0xf] = param_4;
  puVar2[0x10] = param_5;
  puVar2[0x11] = param_6;
  *(undefined2 *)(puVar2 + 0x12) = param_7;
  FUN_00443d70(&local_20);
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
009ae3e0 : PUSH EBP
009ae3e1 : MOV EBP,ESP
009ae3e3 : AND ESP,0xfffffff8
009ae3e6 : PUSH -0x1
009ae3e8 : PUSH 0xb2172a
009ae3ed : MOV EAX,FS:[0x0]
009ae3f3 : PUSH EAX
009ae3f4 : SUB ESP,0x10
009ae3f7 : PUSH ESI
009ae3f8 : MOV EAX,[0x00d66fa0]
009ae3fd : XOR EAX,ESP
009ae3ff : PUSH EAX
009ae400 : LEA EAX,[ESP + 0x18]
009ae404 : MOV FS:[0x0],EAX
009ae40a : MOV EAX,dword ptr [EDI + 0x74]
009ae40d : CMP EAX,0x64
009ae410 : JC 0x009ae491
009ae412 : MOV EAX,dword ptr [EDI + 0x70]
009ae415 : MOV ECX,dword ptr [EDI + 0x58]
009ae418 : LEA EDX,[ESP + 0xc]
009ae41c : MOV dword ptr [ESP + 0xc],ECX
009ae420 : MOV dword ptr [ESP + 0x10],EAX
009ae424 : CALL 0x004c1520
009ae429 : CMP dword ptr [EAX],0x0
009ae42c : JZ 0x009ae450
009ae42e : MOV ESI,dword ptr [EAX]
009ae430 : TEST ESI,ESI
009ae432 : JZ 0x009ae441
009ae434 : PUSH ESI
009ae435 : CALL 0x00462c40
009ae43a : MOV ECX,ESI
009ae43c : CALL 0x006f04e0
009ae441 : LEA EDX,[ESP + 0xc]
009ae445 : CALL 0x004c1520
009ae44a : MOV dword ptr [EAX],0x0
009ae450 : MOV EAX,dword ptr [EDI + 0x74]
009ae453 : TEST EAX,EAX
009ae455 : JZ 0x009ae47e
009ae457 : MOV EDX,dword ptr [EDI + 0x6c]
009ae45a : INC dword ptr [EDI + 0x70]
009ae45d : MOV ECX,dword ptr [EDI + 0x70]
009ae460 : ADD EDX,EDX
009ae462 : ADD EDX,EDX
009ae464 : CMP EDX,ECX
009ae466 : JA 0x009ae46f
009ae468 : MOV dword ptr [EDI + 0x70],0x0
009ae46f : ADD EAX,-0x1
009ae472 : MOV dword ptr [EDI + 0x74],EAX
009ae475 : JNZ 0x009ae47e
009ae477 : MOV dword ptr [EDI + 0x70],0x0
009ae47e : MOV ESI,dword ptr [0x00da98e8]
009ae484 : PUSH 0xc8b5e8
009ae489 : CALL 0x008018d0
009ae48e : ADD ESP,0x4
009ae491 : PUSH 0x0
009ae493 : PUSH 0x6a
009ae495 : PUSH 0xc8b63c
009ae49a : PUSH 0x4c
009ae49c : CALL 0x006f0760
009ae4a1 : ADD ESP,0x10
009ae4a4 : MOV dword ptr [ESP + 0xc],EAX
009ae4a8 : MOV dword ptr [ESP + 0x20],0x0
009ae4b0 : TEST EAX,EAX
009ae4b2 : JZ 0x009ae4be
009ae4b4 : PUSH EAX
009ae4b5 : CALL 0x0041f2a0
009ae4ba : MOV ESI,EAX
009ae4bc : JMP 0x009ae4c0
009ae4be : XOR ESI,ESI
009ae4c0 : MOV dword ptr [ESP + 0x20],0xffffffff
009ae4c8 : MOV dword ptr [ESP + 0xc],ESI
009ae4cc : TEST ESI,ESI
009ae4ce : JNZ 0x009ae4f6
009ae4d0 : MOV ESI,dword ptr [0x00da98e8]
009ae4d6 : PUSH 0xc8b680
009ae4db : CALL 0x008018d0
009ae4e0 : ADD ESP,0x4
009ae4e3 : MOV ECX,dword ptr [ESP + 0x18]
009ae4e7 : MOV dword ptr FS:[0x0],ECX
009ae4ee : POP ECX
009ae4ef : POP ESI
009ae4f0 : MOV ESP,EBP
009ae4f2 : POP EBP
009ae4f3 : RET 0x1c
009ae4f6 : MOV ECX,dword ptr [EBP + 0xc]
009ae4f9 : MOV EAX,dword ptr [EBP + 0x8]
009ae4fc : PUSH -0x1
009ae4fe : PUSH 0x0
009ae500 : PUSH ECX
009ae501 : LEA ECX,[ESI + 0x4]
009ae504 : MOV dword ptr [ESI],EAX
009ae506 : CALL 0x00405eb0
009ae50b : MOV EDX,dword ptr [EBP + 0x10]
009ae50e : PUSH -0x1
009ae510 : PUSH 0x0
009ae512 : PUSH EDX
009ae513 : LEA ECX,[ESI + 0x20]
009ae516 : CALL 0x00405eb0
009ae51b : MOV EAX,dword ptr [EBP + 0x14]
009ae51e : MOV ECX,dword ptr [EBP + 0x18]
009ae521 : MOV EDX,dword ptr [EBP + 0x1c]
009ae524 : MOV dword ptr [ESI + 0x3c],EAX
009ae527 : MOV AX,word ptr [EBP + 0x20]
009ae52b : MOV dword ptr [ESI + 0x40],ECX
009ae52e : MOV dword ptr [ESI + 0x44],EDX
009ae531 : LEA ECX,[ESP + 0xc]
009ae535 : MOV word ptr [ESI + 0x48],AX
009ae539 : PUSH ECX
009ae53a : LEA EAX,[EDI + 0x58]
009ae53d : CALL 0x00443d70
009ae542 : MOV ECX,dword ptr [ESP + 0x18]
009ae546 : MOV dword ptr FS:[0x0],ECX
009ae54d : POP ECX
009ae54e : POP ESI
009ae54f : MOV ESP,EBP
009ae551 : POP EBP
009ae552 : RET 0x1c
