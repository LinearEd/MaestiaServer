PROGRAM  : Maestia.exe
FUNCTION : FUN_00a9a4f0
ENTRY    : 00a9a4f0
BODY     : [[00a9a4f0, 00a9a8ea]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a9a4f0(undefined4 param_1,undefined4 param_2,ushort param_3)

{
  char cVar1;
  ushort uVar2;
  int iVar3;
  undefined4 uVar4;
  undefined4 *puVar5;
  int *in_ECX;
  uint local_58;
  uint local_3c;
  int local_38;
  undefined4 local_34;
  undefined1 local_30 [4];
  undefined4 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b23601;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_34 = param_1;
  iVar3 = (**(code **)(*in_ECX + 0x40))(local_14);
  if (iVar3 == 0) {
    FUN_00406460();
    local_8 = 0;
    uVar4 = FUN_0081d120();
    local_8._0_1_ = 1;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_58) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = 0xffffffff;
    if (7 < local_3c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    goto LAB_00a9a8cf;
  }
  local_38 = 0;
  FUN_00406460();
  local_8 = 2;
  uVar2 = *(ushort *)((int)in_ECX + (uint)param_3 * 2 + 0xa1c);
  if (uVar2 != 0) {
    FUN_00841330(param_2,0x48,(uint)uVar2,&local_38);
  }
  cVar1 = *(char *)((int)in_ECX + 0xa5e);
  switch(cVar1) {
  case '\0':
    FUN_00406460();
    local_8._0_1_ = 3;
    uVar4 = FUN_0081d120();
    local_8._0_1_ = 4;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8._0_1_ = 3;
    FUN_00406560();
    local_8 = CONCAT31(local_8._1_3_,2);
    break;
  case '\x01':
    FUN_00406460();
    local_8._0_1_ = 5;
    uVar4 = FUN_0081d120();
    local_8._0_1_ = 6;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8._0_1_ = 5;
    FUN_00406560();
    local_8 = CONCAT31(local_8._1_3_,2);
    break;
  case '\x02':
    FUN_00406460();
    local_8._0_1_ = 7;
    uVar4 = FUN_0081d120();
    local_8._0_1_ = 8;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8._0_1_ = 7;
    FUN_00406560();
    local_8 = CONCAT31(local_8._1_3_,2);
    break;
  case '\x03':
    FUN_00406460();
    local_8._0_1_ = 9;
    uVar4 = FUN_0081d120();
    local_8._0_1_ = 10;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8._0_1_ = 9;
    FUN_00406560();
    local_8 = CONCAT31(local_8._1_3_,2);
    break;
  case '\x04':
    FUN_00406460();
    local_8._0_1_ = 0xb;
    uVar4 = FUN_0081d120();
    local_8._0_1_ = 0xc;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8._0_1_ = 0xb;
    FUN_00406560();
    local_8 = CONCAT31(local_8._1_3_,2);
    break;
  default:
    goto switchD_00a9a609_default;
  }
  FUN_00406560();
switchD_00a9a609_default:
  if (uVar2 == 0) {
    FUN_00406460();
    local_8._0_1_ = 0xe;
    uVar4 = FUN_0081d120();
    local_8._0_1_ = 0xf;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8 = CONCAT31(local_8._1_3_,0xe);
    if (7 < local_58) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = CONCAT31(local_8._1_3_,2);
    if (7 < local_3c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  else if ((cVar1 == '\x03') || (cVar1 == '\x04')) {
    FUN_00405eb0(local_30,0,0xffffffff);
  }
  else {
    puVar5 = local_2c;
    if (local_18 < 8) {
      puVar5 = &local_2c;
    }
    uVar4 = FUN_00404750(L"%s %.1fm",puVar5,(double)((float)(int)((uint)uVar2 + local_38) * 0.1));
    local_8._0_1_ = 0xd;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8 = CONCAT31(local_8._1_3_,2);
    FUN_00406560();
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
LAB_00a9a8cf:
  local_8 = 0xffffffff;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a9a4f0 : PUSH EBP
00a9a4f1 : MOV EBP,ESP
00a9a4f3 : PUSH -0x1
00a9a4f5 : PUSH 0xb23601
00a9a4fa : MOV EAX,FS:[0x0]
00a9a500 : PUSH EAX
00a9a501 : SUB ESP,0x144
00a9a507 : MOV EAX,[0x00d66fa0]
00a9a50c : XOR EAX,EBP
00a9a50e : MOV dword ptr [EBP + -0x10],EAX
00a9a511 : PUSH EBX
00a9a512 : PUSH ESI
00a9a513 : PUSH EDI
00a9a514 : PUSH EAX
00a9a515 : LEA EAX,[EBP + -0xc]
00a9a518 : MOV FS:[0x0],EAX
00a9a51e : MOV EBX,dword ptr [EBP + 0x8]
00a9a521 : MOV ESI,ECX
00a9a523 : MOV EAX,dword ptr [ESI]
00a9a525 : MOV EDX,dword ptr [EAX + 0x40]
00a9a528 : MOV dword ptr [EBP + -0x30],EBX
00a9a52b : CALL EDX
00a9a52d : TEST EAX,EAX
00a9a52f : JNZ 0x00a9a5b0
00a9a531 : PUSH 0xc9f674
00a9a536 : LEA ECX,[EBP + -0x50]
00a9a539 : CALL 0x00406460
00a9a53e : XOR ESI,ESI
00a9a540 : MOV dword ptr [EBP + -0x4],ESI
00a9a543 : MOV ECX,dword ptr [0x0172491c]
00a9a549 : LEA EAX,[EBP + -0x50]
00a9a54c : PUSH EAX
00a9a54d : LEA EDI,[EBP + -0x6c]
00a9a550 : CALL 0x0081d120
00a9a555 : MOV byte ptr [EBP + -0x4],0x1
00a9a559 : PUSH -0x1
00a9a55b : PUSH ESI
00a9a55c : PUSH EAX
00a9a55d : MOV ECX,EBX
00a9a55f : CALL 0x00405eb0
00a9a564 : MOV byte ptr [EBP + -0x4],0x0
00a9a568 : MOV EDI,0x8
00a9a56d : CMP dword ptr [EBP + -0x54],EDI
00a9a570 : JC 0x00a9a57a
00a9a572 : MOV ECX,dword ptr [EBP + -0x68]
00a9a575 : CALL 0x006f04e0
00a9a57a : MOV EBX,0x7
00a9a57f : XOR ECX,ECX
00a9a581 : MOV dword ptr [EBP + -0x54],EBX
00a9a584 : MOV dword ptr [EBP + -0x58],ESI
00a9a587 : MOV word ptr [EBP + -0x68],CX
00a9a58b : MOV dword ptr [EBP + -0x4],0xffffffff
00a9a592 : CMP dword ptr [EBP + -0x38],EDI
00a9a595 : JC 0x00a9a59f
00a9a597 : MOV ECX,dword ptr [EBP + -0x4c]
00a9a59a : CALL 0x006f04e0
00a9a59f : XOR EDX,EDX
00a9a5a1 : MOV dword ptr [EBP + -0x38],EBX
00a9a5a4 : MOV dword ptr [EBP + -0x3c],ESI
00a9a5a7 : MOV word ptr [EBP + -0x4c],DX
00a9a5ab : JMP 0x00a9a8cf
00a9a5b0 : PUSH 0xc9f688
00a9a5b5 : LEA ECX,[EBP + -0x2c]
00a9a5b8 : MOV dword ptr [EBP + -0x34],0x0
00a9a5bf : CALL 0x00406460
00a9a5c4 : MOV EBX,0x2
00a9a5c9 : MOV dword ptr [EBP + -0x4],EBX
00a9a5cc : MOVZX EAX,word ptr [EBP + 0x10]
00a9a5d0 : MOVZX EAX,word ptr [ESI + EAX*0x2 + 0xa1c]
00a9a5d8 : MOV dword ptr [EBP + -0x70],EAX
00a9a5db : TEST AX,AX
00a9a5de : JBE 0x00a9a5f9
00a9a5e0 : MOVZX EDX,AX
00a9a5e3 : MOV EAX,dword ptr [EBP + 0xc]
00a9a5e6 : LEA ECX,[EBP + -0x34]
00a9a5e9 : PUSH ECX
00a9a5ea : MOV ECX,dword ptr [0x01724910]
00a9a5f0 : PUSH EDX
00a9a5f1 : PUSH 0x48
00a9a5f3 : PUSH EAX
00a9a5f4 : CALL 0x00841330
00a9a5f9 : MOVZX ESI,byte ptr [ESI + 0xa5e]
00a9a600 : CMP ESI,0x4
00a9a603 : JA 0x00a9a7a9
00a9a609 : JMP dword ptr [ESI*0x4 + 0xa9a8ec]
00a9a610 : PUSH 0xc9f68c
00a9a615 : LEA ECX,[EBP + -0x6c]
00a9a618 : CALL 0x00406460
00a9a61d : MOV byte ptr [EBP + -0x4],0x3
00a9a621 : LEA ECX,[EBP + -0x6c]
00a9a624 : PUSH ECX
00a9a625 : MOV ECX,dword ptr [0x0172491c]
00a9a62b : LEA EDI,[EBP + 0xfffffeb0]
00a9a631 : CALL 0x0081d120
00a9a636 : MOV byte ptr [EBP + -0x4],0x4
00a9a63a : PUSH -0x1
00a9a63c : PUSH 0x0
00a9a63e : PUSH EAX
00a9a63f : LEA ECX,[EBP + -0x2c]
00a9a642 : CALL 0x00405eb0
00a9a647 : MOV byte ptr [EBP + -0x4],0x3
00a9a64b : MOV ECX,EDI
00a9a64d : CALL 0x00406560
00a9a652 : MOV byte ptr [EBP + -0x4],BL
00a9a655 : LEA ECX,[EBP + -0x6c]
00a9a658 : JMP 0x00a9a7a4
00a9a65d : PUSH 0xc9f6cc
00a9a662 : LEA ECX,[EBP + -0x50]
00a9a665 : CALL 0x00406460
00a9a66a : MOV byte ptr [EBP + -0x4],0x5
00a9a66e : MOV ECX,dword ptr [0x0172491c]
00a9a674 : LEA EDX,[EBP + -0x50]
00a9a677 : PUSH EDX
00a9a678 : LEA EDI,[EBP + 0xffffff04]
00a9a67e : CALL 0x0081d120
00a9a683 : MOV byte ptr [EBP + -0x4],0x6
00a9a687 : PUSH -0x1
00a9a689 : PUSH 0x0
00a9a68b : PUSH EAX
00a9a68c : LEA ECX,[EBP + -0x2c]
00a9a68f : CALL 0x00405eb0
00a9a694 : MOV byte ptr [EBP + -0x4],0x5
00a9a698 : MOV ECX,EDI
00a9a69a : CALL 0x00406560
00a9a69f : MOV byte ptr [EBP + -0x4],BL
00a9a6a2 : LEA ECX,[EBP + -0x50]
00a9a6a5 : JMP 0x00a9a7a4
00a9a6aa : PUSH 0xc9f704
00a9a6af : LEA ECX,[EBP + 0xffffff58]
00a9a6b5 : CALL 0x00406460
00a9a6ba : MOV byte ptr [EBP + -0x4],0x7
00a9a6be : MOV ECX,dword ptr [0x0172491c]
00a9a6c4 : LEA EAX,[EBP + 0xffffff58]
00a9a6ca : PUSH EAX
00a9a6cb : LEA EDI,[EBP + 0xfffffecc]
00a9a6d1 : CALL 0x0081d120
00a9a6d6 : MOV byte ptr [EBP + -0x4],0x8
00a9a6da : PUSH -0x1
00a9a6dc : PUSH 0x0
00a9a6de : PUSH EAX
00a9a6df : LEA ECX,[EBP + -0x2c]
00a9a6e2 : CALL 0x00405eb0
00a9a6e7 : MOV byte ptr [EBP + -0x4],0x7
00a9a6eb : MOV ECX,EDI
00a9a6ed : CALL 0x00406560
00a9a6f2 : MOV byte ptr [EBP + -0x4],BL
00a9a6f5 : LEA ECX,[EBP + 0xffffff58]
00a9a6fb : JMP 0x00a9a7a4
00a9a700 : PUSH 0xc9f744
00a9a705 : LEA ECX,[EBP + 0xffffff3c]
00a9a70b : CALL 0x00406460
00a9a710 : MOV byte ptr [EBP + -0x4],0x9
00a9a714 : LEA ECX,[EBP + 0xffffff3c]
00a9a71a : PUSH ECX
00a9a71b : MOV ECX,dword ptr [0x0172491c]
00a9a721 : LEA EDI,[EBP + 0xfffffee8]
00a9a727 : CALL 0x0081d120
00a9a72c : MOV byte ptr [EBP + -0x4],0xa
00a9a730 : PUSH -0x1
00a9a732 : PUSH 0x0
00a9a734 : PUSH EAX
00a9a735 : LEA ECX,[EBP + -0x2c]
00a9a738 : CALL 0x00405eb0
00a9a73d : MOV byte ptr [EBP + -0x4],0x9
00a9a741 : MOV ECX,EDI
00a9a743 : CALL 0x00406560
00a9a748 : MOV byte ptr [EBP + -0x4],BL
00a9a74b : LEA ECX,[EBP + 0xffffff3c]
00a9a751 : JMP 0x00a9a7a4
00a9a753 : PUSH 0xc9f770
00a9a758 : LEA ECX,[EBP + 0xffffff20]
00a9a75e : CALL 0x00406460
00a9a763 : MOV byte ptr [EBP + -0x4],0xb
00a9a767 : MOV ECX,dword ptr [0x0172491c]
00a9a76d : LEA EDX,[EBP + 0xffffff20]
00a9a773 : PUSH EDX
00a9a774 : LEA EDI,[EBP + 0xffffff74]
00a9a77a : CALL 0x0081d120
00a9a77f : MOV byte ptr [EBP + -0x4],0xc
00a9a783 : PUSH -0x1
00a9a785 : PUSH 0x0
00a9a787 : PUSH EAX
00a9a788 : LEA ECX,[EBP + -0x2c]
00a9a78b : CALL 0x00405eb0
00a9a790 : MOV byte ptr [EBP + -0x4],0xb
00a9a794 : MOV ECX,EDI
00a9a796 : CALL 0x00406560
00a9a79b : MOV byte ptr [EBP + -0x4],BL
00a9a79e : LEA ECX,[EBP + 0xffffff20]
00a9a7a4 : CALL 0x00406560
00a9a7a9 : MOV ECX,dword ptr [EBP + -0x70]
00a9a7ac : TEST CX,CX
00a9a7af : JBE 0x00a9a82b
00a9a7b1 : CMP ESI,0x3
00a9a7b4 : JZ 0x00a9a819
00a9a7b6 : CMP ESI,0x4
00a9a7b9 : JZ 0x00a9a819
00a9a7bb : CMP dword ptr [EBP + -0x14],0x8
00a9a7bf : MOV EAX,dword ptr [EBP + -0x28]
00a9a7c2 : JNC 0x00a9a7c7
00a9a7c4 : LEA EAX,[EBP + -0x28]
00a9a7c7 : MOVZX ECX,CX
00a9a7ca : ADD ECX,dword ptr [EBP + -0x34]
00a9a7cd : SUB ESP,0x8
00a9a7d0 : CVTSI2SS XMM0,ECX
00a9a7d4 : MULSS XMM0,dword ptr [0x00cdf0f0]
00a9a7dc : CVTSS2SD XMM0,XMM0
00a9a7e0 : MOVSD qword ptr [ESP],XMM0
00a9a7e5 : PUSH EAX
00a9a7e6 : PUSH 0xc9f7a0
00a9a7eb : LEA ESI,[EBP + 0xffffff74]
00a9a7f1 : CALL 0x00404750
00a9a7f6 : ADD ESP,0x10
00a9a7f9 : MOV byte ptr [EBP + -0x4],0xd
00a9a7fd : MOV ECX,dword ptr [EBP + -0x30]
00a9a800 : PUSH -0x1
00a9a802 : PUSH 0x0
00a9a804 : PUSH EAX
00a9a805 : CALL 0x00405eb0
00a9a80a : MOV byte ptr [EBP + -0x4],BL
00a9a80d : MOV ECX,ESI
00a9a80f : CALL 0x00406560
00a9a814 : JMP 0x00a9a8a6
00a9a819 : MOV ECX,dword ptr [EBP + -0x30]
00a9a81c : PUSH -0x1
00a9a81e : PUSH 0x0
00a9a820 : LEA EDX,[EBP + -0x2c]
00a9a823 : PUSH EDX
00a9a824 : CALL 0x00405eb0
00a9a829 : JMP 0x00a9a8a6
00a9a82b : PUSH 0xc9f7b4
00a9a830 : LEA ECX,[EBP + -0x50]
00a9a833 : CALL 0x00406460
00a9a838 : MOV byte ptr [EBP + -0x4],0xe
00a9a83c : MOV ECX,dword ptr [0x0172491c]
00a9a842 : LEA EAX,[EBP + -0x50]
00a9a845 : PUSH EAX
00a9a846 : LEA EDI,[EBP + -0x6c]
00a9a849 : CALL 0x0081d120
00a9a84e : MOV byte ptr [EBP + -0x4],0xf
00a9a852 : MOV ECX,dword ptr [EBP + -0x30]
00a9a855 : PUSH -0x1
00a9a857 : XOR EDI,EDI
00a9a859 : PUSH EDI
00a9a85a : PUSH EAX
00a9a85b : CALL 0x00405eb0
00a9a860 : MOV byte ptr [EBP + -0x4],0xe
00a9a864 : MOV ESI,0x8
00a9a869 : CMP dword ptr [EBP + -0x54],ESI
00a9a86c : JC 0x00a9a876
00a9a86e : MOV ECX,dword ptr [EBP + -0x68]
00a9a871 : CALL 0x006f04e0
00a9a876 : XOR ECX,ECX
00a9a878 : MOV dword ptr [EBP + -0x54],0x7
00a9a87f : MOV dword ptr [EBP + -0x58],EDI
00a9a882 : MOV word ptr [EBP + -0x68],CX
00a9a886 : MOV byte ptr [EBP + -0x4],BL
00a9a889 : CMP dword ptr [EBP + -0x38],ESI
00a9a88c : JC 0x00a9a896
00a9a88e : MOV ECX,dword ptr [EBP + -0x4c]
00a9a891 : CALL 0x006f04e0
00a9a896 : XOR EDX,EDX
00a9a898 : MOV dword ptr [EBP + -0x38],0x7
00a9a89f : MOV dword ptr [EBP + -0x3c],EDI
00a9a8a2 : MOV word ptr [EBP + -0x4c],DX
00a9a8a6 : MOV dword ptr [EBP + -0x4],0xffffffff
00a9a8ad : CMP dword ptr [EBP + -0x14],0x8
00a9a8b1 : JC 0x00a9a8bb
00a9a8b3 : MOV ECX,dword ptr [EBP + -0x28]
00a9a8b6 : CALL 0x006f04e0
00a9a8bb : XOR EAX,EAX
00a9a8bd : MOV dword ptr [EBP + -0x14],0x7
00a9a8c4 : MOV dword ptr [EBP + -0x18],0x0
00a9a8cb : MOV word ptr [EBP + -0x28],AX
00a9a8cf : MOV ECX,dword ptr [EBP + -0xc]
00a9a8d2 : MOV dword ptr FS:[0x0],ECX
00a9a8d9 : POP ECX
00a9a8da : POP EDI
00a9a8db : POP ESI
00a9a8dc : POP EBX
00a9a8dd : MOV ECX,dword ptr [EBP + -0x10]
00a9a8e0 : XOR ECX,EBP
00a9a8e2 : CALL 0x00633e6b
00a9a8e7 : MOV ESP,EBP
00a9a8e9 : POP EBP
00a9a8ea : RET
