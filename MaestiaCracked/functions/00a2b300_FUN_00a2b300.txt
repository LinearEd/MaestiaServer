PROGRAM  : Maestia.exe
FUNCTION : FUN_00a2b300
ENTRY    : 00a2b300
BODY     : [[00a2b300, 00a2b524]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a2b300(float param_1)

{
  float fVar1;
  float fVar2;
  float fVar3;
  int *piVar4;
  char cVar5;
  float *pfVar6;
  int iVar7;
  int unaff_ESI;
  float10 fVar8;
  undefined1 local_40 [12];
  undefined1 local_34 [12];
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  float local_10;
  float local_c;
  
  pfVar6 = (float *)(**(code **)(**(int **)(unaff_ESI + 0x78) + 8))(&local_28);
  fVar1 = *pfVar6;
  fVar2 = pfVar6[2];
  iVar7 = *(int *)(unaff_ESI + 0x78);
  fVar3 = *(float *)(DAT_017248cc + 4);
  *(undefined4 *)(iVar7 + 0x168) = *(undefined4 *)(iVar7 + 0x168);
  *(float *)(iVar7 + 0x164) = *(float *)(iVar7 + 0x164) + fVar3 * fVar1 * param_1 * -0.05;
  *(float *)(iVar7 + 0x16c) = *(float *)(iVar7 + 0x16c) + fVar3 * fVar2 * param_1 * -0.05;
  *(undefined1 *)(iVar7 + 0x154) = 1;
  pfVar6 = (float *)(**(code **)(**(int **)(unaff_ESI + 0x78) + 0x14))();
  local_18 = pfVar6[1];
  local_14 = pfVar6[2];
  local_1c = *pfVar6;
  piVar4 = *(int **)(unaff_ESI + 0x78);
  iVar7 = *(int *)(*(int *)(unaff_ESI + 0xac) + 1000);
  local_28 = *(float *)(iVar7 + 0x68);
  local_24 = *(float *)(iVar7 + 0x6c);
  local_20 = *(float *)(iVar7 + 0x70);
  pfVar6 = (float *)(**(code **)(*piVar4 + 8))(local_34);
  local_10 = *pfVar6;
  iVar7 = (**(code **)(*piVar4 + 8))(local_40);
  local_c = *(float *)(iVar7 + 8);
  iVar7 = *(int *)(unaff_ESI + 0xac);
  *(float *)(iVar7 + 0x3b8) = local_10;
  *(float *)(iVar7 + 0x3bc) = local_c;
  fVar8 = (float10)FUN_0040f460((local_14 - local_20) * (local_14 - local_20) +
                                (local_18 - local_24) * (local_18 - local_24) +
                                (local_1c - local_28) * (local_1c - local_28));
  if ((float10)700.0 < fVar8) {
    FUN_00a2a580(&local_1c);
    (**(code **)(**(int **)(unaff_ESI + 0x74) + 0xc))(&local_1c);
    (**(code **)(**(int **)(unaff_ESI + 0x74) + 0x10))(&local_1c);
    return;
  }
  param_1 = 0.0;
  iVar7 = FUN_007df230(local_1c,local_14);
  if (iVar7 != 0) {
    local_10 = local_1c;
    local_c = local_14;
    cVar5 = FUN_007ac0b0(iVar7,&local_10,&param_1,0,0);
    if (cVar5 != '\0') {
      local_18 = param_1;
      (**(code **)(**(int **)(unaff_ESI + 0xac) + 0x2a0))(&local_1c,1);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a2b300 : PUSH EBP
00a2b301 : MOV EBP,ESP
00a2b303 : SUB ESP,0x40
00a2b306 : MOV ECX,dword ptr [ESI + 0x78]
00a2b309 : MOV EAX,dword ptr [ECX]
00a2b30b : MOV EAX,dword ptr [EAX + 0x8]
00a2b30e : PUSH EDI
00a2b30f : LEA EDX,[EBP + -0x24]
00a2b312 : PUSH EDX
00a2b313 : CALL EAX
00a2b315 : MOVSS XMM2,dword ptr [EAX]
00a2b319 : MOVSS XMM3,dword ptr [EAX + 0x8]
00a2b31e : MOV EAX,dword ptr [ESI + 0x78]
00a2b321 : MOV ECX,dword ptr [0x017248cc]
00a2b327 : FLD float ptr [EAX + 0x168]
00a2b32d : MOVSS XMM0,dword ptr [ECX + 0x4]
00a2b332 : FSTP float ptr [EAX + 0x168]
00a2b338 : MOVSS XMM4,dword ptr [0x00cdf3b4]
00a2b340 : MOVAPS XMM1,XMM0
00a2b343 : MULSS XMM1,XMM2
00a2b347 : MOVSS XMM2,dword ptr [EBP + 0x8]
00a2b34c : MULSS XMM1,XMM2
00a2b350 : MULSS XMM0,XMM3
00a2b354 : MULSS XMM0,XMM2
00a2b358 : MOVSS XMM2,dword ptr [EAX + 0x164]
00a2b360 : MULSS XMM1,XMM4
00a2b364 : ADDSS XMM2,XMM1
00a2b368 : MOVSS XMM1,dword ptr [EAX + 0x16c]
00a2b370 : MULSS XMM0,XMM4
00a2b374 : MOVSS dword ptr [EAX + 0x164],XMM2
00a2b37c : ADDSS XMM1,XMM0
00a2b380 : MOVSS dword ptr [EAX + 0x16c],XMM1
00a2b388 : MOV byte ptr [EAX + 0x154],0x1
00a2b38f : MOV ECX,dword ptr [ESI + 0x78]
00a2b392 : MOV EDX,dword ptr [ECX]
00a2b394 : MOV EAX,dword ptr [EDX + 0x14]
00a2b397 : CALL EAX
00a2b399 : MOVSS XMM0,dword ptr [EAX + 0x4]
00a2b39e : MOVSS XMM1,dword ptr [EAX + 0x8]
00a2b3a3 : MOVSS XMM2,dword ptr [EAX]
00a2b3a7 : MOV ECX,dword ptr [ESI + 0xac]
00a2b3ad : MOV EDI,dword ptr [ESI + 0x78]
00a2b3b0 : MOVSS dword ptr [EBP + -0x18],XMM2
00a2b3b5 : MOVSS dword ptr [EBP + -0x14],XMM0
00a2b3ba : MOVSS dword ptr [EBP + -0x10],XMM1
00a2b3bf : MOV EAX,dword ptr [ECX + 0x3e8]
00a2b3c5 : MOVSS XMM0,dword ptr [EAX + 0x68]
00a2b3ca : MOV EDX,dword ptr [EDI]
00a2b3cc : MOV EDX,dword ptr [EDX + 0x8]
00a2b3cf : ADD EAX,0x68
00a2b3d2 : MOVSS dword ptr [EBP + -0x24],XMM0
00a2b3d7 : MOVSS XMM0,dword ptr [EAX + 0x4]
00a2b3dc : MOVSS dword ptr [EBP + -0x20],XMM0
00a2b3e1 : MOVSS XMM0,dword ptr [EAX + 0x8]
00a2b3e6 : LEA EAX,[EBP + -0x30]
00a2b3e9 : PUSH EAX
00a2b3ea : MOV ECX,EDI
00a2b3ec : MOVSS dword ptr [EBP + -0x1c],XMM0
00a2b3f1 : CALL EDX
00a2b3f3 : MOVSS XMM0,dword ptr [EAX]
00a2b3f7 : MOV EAX,dword ptr [EDI]
00a2b3f9 : MOV EDX,dword ptr [EAX + 0x8]
00a2b3fc : LEA ECX,[EBP + -0x3c]
00a2b3ff : PUSH ECX
00a2b400 : MOV ECX,EDI
00a2b402 : MOVSS dword ptr [EBP + -0xc],XMM0
00a2b407 : CALL EDX
00a2b409 : MOVSS XMM0,dword ptr [EAX + 0x8]
00a2b40e : MOV EAX,dword ptr [ESI + 0xac]
00a2b414 : MOV ECX,dword ptr [EBP + -0xc]
00a2b417 : MOVSS dword ptr [EBP + -0x8],XMM0
00a2b41c : MOV EDX,dword ptr [EBP + -0x8]
00a2b41f : MOV dword ptr [EAX + 0x3b8],ECX
00a2b425 : MOV dword ptr [EAX + 0x3bc],EDX
00a2b42b : MOVSS XMM2,dword ptr [EBP + -0x10]
00a2b430 : SUBSS XMM2,dword ptr [EBP + -0x1c]
00a2b435 : MOVSS XMM1,dword ptr [EBP + -0x14]
00a2b43a : SUBSS XMM1,dword ptr [EBP + -0x20]
00a2b43f : MOVSS XMM0,dword ptr [EBP + -0x18]
00a2b444 : SUBSS XMM0,dword ptr [EBP + -0x24]
00a2b449 : MOVAPS XMM3,XMM2
00a2b44c : MULSS XMM3,XMM2
00a2b450 : MOVAPS XMM2,XMM1
00a2b453 : MULSS XMM2,XMM1
00a2b457 : MOVAPS XMM1,XMM0
00a2b45a : ADDSS XMM3,XMM2
00a2b45e : MULSS XMM1,XMM0
00a2b462 : PUSH ECX
00a2b463 : ADDSS XMM3,XMM1
00a2b467 : MOVSS dword ptr [ESP],XMM3
00a2b46c : CALL 0x0040f460
00a2b471 : FLD float ptr [0x00cdf64c]
00a2b477 : FXCH
00a2b479 : ADD ESP,0x4
00a2b47c : FCOMIP ST0,ST1
00a2b47e : FSTP ST0
00a2b480 : JBE 0x00a2b4b0
00a2b482 : LEA EAX,[EBP + -0x18]
00a2b485 : PUSH EAX
00a2b486 : MOV ECX,ESI
00a2b488 : CALL 0x00a2a580
00a2b48d : MOV ECX,dword ptr [ESI + 0x74]
00a2b490 : MOV EDX,dword ptr [ECX]
00a2b492 : MOV EDX,dword ptr [EDX + 0xc]
00a2b495 : LEA EAX,[EBP + -0x18]
00a2b498 : PUSH EAX
00a2b499 : CALL EDX
00a2b49b : MOV ECX,dword ptr [ESI + 0x74]
00a2b49e : MOV EAX,dword ptr [ECX]
00a2b4a0 : MOV EAX,dword ptr [EAX + 0x10]
00a2b4a3 : LEA EDX,[EBP + -0x18]
00a2b4a6 : PUSH EDX
00a2b4a7 : CALL EAX
00a2b4a9 : POP EDI
00a2b4aa : MOV ESP,EBP
00a2b4ac : POP EBP
00a2b4ad : RET 0x4
00a2b4b0 : FLD float ptr [EBP + -0x10]
00a2b4b3 : XORPS XMM0,XMM0
00a2b4b6 : MOV EDI,dword ptr [ESI + 0xc]
00a2b4b9 : SUB ESP,0x8
00a2b4bc : FSTP float ptr [ESP + 0x4]
00a2b4c0 : MOVSS dword ptr [EBP + 0x8],XMM0
00a2b4c5 : FLD float ptr [EBP + -0x18]
00a2b4c8 : FSTP float ptr [ESP]
00a2b4cb : CALL 0x007df230
00a2b4d0 : TEST EAX,EAX
00a2b4d2 : JZ 0x00a2b51e
00a2b4d4 : MOVSS XMM0,dword ptr [EBP + -0x18]
00a2b4d9 : PUSH 0x0
00a2b4db : PUSH 0x0
00a2b4dd : LEA ECX,[EBP + 0x8]
00a2b4e0 : PUSH ECX
00a2b4e1 : LEA EDX,[EBP + -0xc]
00a2b4e4 : PUSH EDX
00a2b4e5 : MOVSS dword ptr [EBP + -0xc],XMM0
00a2b4ea : MOVSS XMM0,dword ptr [EBP + -0x10]
00a2b4ef : PUSH EAX
00a2b4f0 : MOVSS dword ptr [EBP + -0x8],XMM0
00a2b4f5 : CALL 0x007ac0b0
00a2b4fa : TEST AL,AL
00a2b4fc : JZ 0x00a2b51e
00a2b4fe : MOVSS XMM0,dword ptr [EBP + 0x8]
00a2b503 : MOV ECX,dword ptr [ESI + 0xac]
00a2b509 : MOVSS dword ptr [EBP + -0x14],XMM0
00a2b50e : MOV EAX,dword ptr [ECX]
00a2b510 : MOV EAX,dword ptr [EAX + 0x2a0]
00a2b516 : PUSH 0x1
00a2b518 : LEA EDX,[EBP + -0x18]
00a2b51b : PUSH EDX
00a2b51c : CALL EAX
00a2b51e : POP EDI
00a2b51f : MOV ESP,EBP
00a2b521 : POP EBP
00a2b522 : RET 0x4
