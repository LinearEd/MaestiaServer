PROGRAM  : Maestia.exe
FUNCTION : FUN_005a23d0
ENTRY    : 005a23d0
BODY     : [[005a23d0, 005a2449]]

============================================================
DECOMPILED C CODE
============================================================

bool FUN_005a23d0(void)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  LONG LVar4;
  uint local_4;
  
  iVar1 = FUN_0051b1a0();
  iVar1 = iVar1 + -1;
  if (-1 < iVar1) {
    while( true ) {
      iVar2 = FUN_0051b1e0(iVar1);
      if ((iVar2 == 0x2f) || (iVar2 == 0x5c)) break;
      iVar1 = iVar1 + -1;
      if (iVar1 < 0) {
        return -1 < iVar1;
      }
    }
    uVar3 = FUN_0051c730(&local_4,0,iVar1 + 1);
    FUN_0051bc20(uVar3);
    LVar4 = InterlockedExchangeAdd((LONG *)((local_4 & 0xfffffffc) + 4),-1);
    if (LVar4 == 1) {
      FUN_00515cf0(local_4 & 0xfffffffc);
    }
  }
  return -1 < iVar1;
}



============================================================
DISASSEMBLY
============================================================
005a23d0 : PUSH ECX
005a23d1 : PUSH ESI
005a23d2 : PUSH EDI
005a23d3 : MOV EDI,dword ptr [ESP + 0x10]
005a23d7 : MOV ECX,EDI
005a23d9 : CALL 0x0051b1a0
005a23de : MOV ESI,EAX
005a23e0 : SUB ESI,0x1
005a23e3 : JS 0x005a243f
005a23e5 : PUSH ESI
005a23e6 : MOV ECX,EDI
005a23e8 : CALL 0x0051b1e0
005a23ed : CMP EAX,0x2f
005a23f0 : JZ 0x005a2407
005a23f2 : CMP EAX,0x5c
005a23f5 : JZ 0x005a2407
005a23f7 : SUB ESI,0x1
005a23fa : JNS 0x005a23e5
005a23fc : XOR EAX,EAX
005a23fe : TEST ESI,ESI
005a2400 : POP EDI
005a2401 : SETGE AL
005a2404 : POP ESI
005a2405 : POP ECX
005a2406 : RET
005a2407 : LEA EAX,[ESI + 0x1]
005a240a : PUSH EAX
005a240b : PUSH 0x0
005a240d : LEA ECX,[ESP + 0x10]
005a2411 : PUSH ECX
005a2412 : MOV ECX,EDI
005a2414 : CALL 0x0051c730
005a2419 : PUSH EAX
005a241a : MOV ECX,EDI
005a241c : CALL 0x0051bc20
005a2421 : MOV EDI,dword ptr [ESP + 0x8]
005a2425 : AND EDI,0xfffffffc
005a2428 : PUSH -0x1
005a242a : LEA EDX,[EDI + 0x4]
005a242d : PUSH EDX
005a242e : CALL dword ptr [0x00b851cc]
005a2434 : SUB EAX,0x1
005a2437 : JNZ 0x005a243f
005a2439 : PUSH EDI
005a243a : CALL 0x00515cf0
005a243f : XOR EAX,EAX
005a2441 : TEST ESI,ESI
005a2443 : POP EDI
005a2444 : SETGE AL
005a2447 : POP ESI
005a2448 : POP ECX
005a2449 : RET
