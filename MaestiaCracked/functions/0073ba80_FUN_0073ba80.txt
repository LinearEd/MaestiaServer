PROGRAM  : Maestia.exe
FUNCTION : FUN_0073ba80
ENTRY    : 0073ba80
BODY     : [[0073ba80, 0073bc4a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0073ba80(void)

{
  int iVar1;
  uint uVar2;
  int *in_EAX;
  undefined4 *puVar3;
  int unaff_EDI;
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  int local_1c;
  undefined4 local_18;
  undefined8 local_14;
  undefined8 local_c;
  
  iVar1 = *(int *)(unaff_EDI + 0x14);
  if (iVar1 != 0) {
    if (*(int *)(iVar1 + 0xc0) != 0) {
      local_18 = 0;
      local_24 = 1.0 / (*(float *)(DAT_017251ac + 0x218) - *(float *)(DAT_017251ac + 0x214));
      local_20 = local_24 * -1.0;
      local_1c = in_EAX[0x16];
      local_24 = local_24 * *(float *)(DAT_017251ac + 0x218);
      if ((*(int *)(iVar1 + 0x1c) != 0) && (*(int *)(iVar1 + 0xc0) != 0)) {
        (**(code **)(**(int **)(iVar1 + 0x1c) + 0x88))
                  (*(int **)(iVar1 + 0x1c),*(int *)(iVar1 + 0xc0),&local_24);
      }
    }
    iVar1 = *(int *)(unaff_EDI + 0x14);
    if (*(int *)(iVar1 + 0xc4) != 0) {
      uVar2 = *(uint *)(DAT_017251ac + 0x20c);
      local_34 = (float)(uVar2 >> 0x10 & 0xff) * 0.003921569;
      local_30 = (float)(uVar2 >> 8 & 0xff) * 0.003921569;
      local_2c = (float)(uVar2 & 0xff) * 0.003921569;
      local_28 = (float)(uVar2 >> 0x18) * 0.003921569;
      if ((*(int *)(iVar1 + 0x1c) != 0) && (*(int *)(iVar1 + 0xc4) != 0)) {
        (**(code **)(**(int **)(iVar1 + 0x1c) + 0x88))
                  (*(int **)(iVar1 + 0x1c),*(int *)(iVar1 + 0xc4),&local_34);
      }
    }
    if (DAT_017251c4 != -4) {
      if (*(int *)(*(int *)(unaff_EDI + 0x14) + 0x2c) != 0) {
        puVar3 = (undefined4 *)(**(code **)(*in_EAX + 0x14))();
        local_14 = CONCAT44(*puVar3,(undefined4)local_14);
        local_c = *(undefined8 *)(puVar3 + 1);
        FUN_0077c3c0(*(undefined4 *)(unaff_EDI + 0x14));
      }
      iVar1 = *(int *)(unaff_EDI + 0x14);
      if (*(int *)(iVar1 + 0xbc) != 0) {
        local_14 = *(undefined8 *)(DAT_017251ac + 0x1f8);
        local_c = *(undefined8 *)(DAT_017251ac + 0x200);
        if ((*(int *)(iVar1 + 0x1c) != 0) && (*(int *)(iVar1 + 0xbc) != 0)) {
          (**(code **)(**(int **)(iVar1 + 0x1c) + 0x50))
                    (*(int **)(iVar1 + 0x1c),*(int *)(iVar1 + 0xbc),&local_14,0x10);
        }
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0073ba80 : PUSH EBP
0073ba81 : MOV EBP,ESP
0073ba83 : SUB ESP,0x30
0073ba86 : PUSH EBX
0073ba87 : PUSH ESI
0073ba88 : MOV ESI,EAX
0073ba8a : MOV EAX,dword ptr [EDI + 0x14]
0073ba8d : TEST EAX,EAX
0073ba8f : JZ 0x0073bc45
0073ba95 : MOV ECX,EAX
0073ba97 : CMP dword ptr [ECX + 0xc0],0x0
0073ba9e : JZ 0x0073bb17
0073baa0 : MOV ECX,dword ptr [0x017251ac]
0073baa6 : XORPS XMM0,XMM0
0073baa9 : MOVSS XMM1,dword ptr [ECX + 0x218]
0073bab1 : MOVSS dword ptr [EBP + -0x14],XMM0
0073bab6 : MOVSS XMM0,dword ptr [ECX + 0x214]
0073babe : MOVAPS XMM2,XMM1
0073bac1 : SUBSS XMM2,XMM0
0073bac5 : MOVSS XMM0,dword ptr [0x00c10fc4]
0073bacd : DIVSS XMM0,XMM2
0073bad1 : MOVAPS XMM2,XMM0
0073bad4 : MULSS XMM0,dword ptr [0x00cdf0d0]
0073badc : MOVSS dword ptr [EBP + -0x1c],XMM0
0073bae1 : MOVSS XMM0,dword ptr [ESI + 0x58]
0073bae6 : MULSS XMM2,XMM1
0073baea : MOVSS dword ptr [EBP + -0x20],XMM2
0073baef : MOVSS dword ptr [EBP + -0x18],XMM0
0073baf4 : CMP dword ptr [EAX + 0x1c],0x0
0073baf8 : JZ 0x0073bb17
0073bafa : MOV ECX,dword ptr [EAX + 0xc0]
0073bb00 : TEST ECX,ECX
0073bb02 : JZ 0x0073bb17
0073bb04 : MOV EAX,dword ptr [EAX + 0x1c]
0073bb07 : MOV EDX,dword ptr [EAX]
0073bb09 : LEA EBX,[EBP + -0x20]
0073bb0c : PUSH EBX
0073bb0d : PUSH ECX
0073bb0e : PUSH EAX
0073bb0f : MOV EAX,dword ptr [EDX + 0x88]
0073bb15 : CALL EAX
0073bb17 : MOV ECX,dword ptr [EDI + 0x14]
0073bb1a : CMP dword ptr [ECX + 0xc4],0x0
0073bb21 : JZ 0x0073bba8
0073bb27 : MOV EDX,dword ptr [0x017251ac]
0073bb2d : MOV EAX,dword ptr [EDX + 0x20c]
0073bb33 : MOVSS XMM0,dword ptr [0x00cdf178]
0073bb3b : MOV EDX,EAX
0073bb3d : SHR EDX,0x10
0073bb40 : MOVZX EDX,DL
0073bb43 : CVTSI2SS XMM1,EDX
0073bb47 : MOV EDX,EAX
0073bb49 : SHR EDX,0x8
0073bb4c : MOVZX EDX,DL
0073bb4f : CVTSI2SS XMM2,EDX
0073bb53 : MOVZX EDX,AL
0073bb56 : SHR EAX,0x18
0073bb59 : CVTSI2SS XMM3,EDX
0073bb5d : CVTSI2SS XMM4,EAX
0073bb61 : MULSS XMM1,XMM0
0073bb65 : MULSS XMM2,XMM0
0073bb69 : MULSS XMM3,XMM0
0073bb6d : MULSS XMM4,XMM0
0073bb71 : MOVSS dword ptr [EBP + -0x30],XMM1
0073bb76 : MOVSS dword ptr [EBP + -0x2c],XMM2
0073bb7b : MOVSS dword ptr [EBP + -0x28],XMM3
0073bb80 : MOVSS dword ptr [EBP + -0x24],XMM4
0073bb85 : CMP dword ptr [ECX + 0x1c],0x0
0073bb89 : JZ 0x0073bba8
0073bb8b : MOV EAX,dword ptr [ECX + 0xc4]
0073bb91 : TEST EAX,EAX
0073bb93 : JZ 0x0073bba8
0073bb95 : MOV ECX,dword ptr [ECX + 0x1c]
0073bb98 : MOV EDX,dword ptr [ECX]
0073bb9a : LEA EBX,[EBP + -0x30]
0073bb9d : PUSH EBX
0073bb9e : PUSH EAX
0073bb9f : MOV EAX,dword ptr [EDX + 0x88]
0073bba5 : PUSH ECX
0073bba6 : CALL EAX
0073bba8 : MOV ECX,dword ptr [0x017251c4]
0073bbae : ADD ECX,0x4
0073bbb1 : JZ 0x0073bc45
0073bbb7 : MOV EDX,dword ptr [EDI + 0x14]
0073bbba : CMP dword ptr [EDX + 0x2c],0x0
0073bbbe : JZ 0x0073bbf7
0073bbc0 : MOV EAX,dword ptr [ESI]
0073bbc2 : MOV EDX,dword ptr [EAX + 0x14]
0073bbc5 : MOV ECX,ESI
0073bbc7 : CALL EDX
0073bbc9 : MOVSS XMM0,dword ptr [EAX]
0073bbcd : MOVSS dword ptr [EBP + -0xc],XMM0
0073bbd2 : MOVSS XMM0,dword ptr [EAX + 0x4]
0073bbd7 : MOVSS dword ptr [EBP + -0x8],XMM0
0073bbdc : MOVSS XMM0,dword ptr [EAX + 0x8]
0073bbe1 : MOV EAX,dword ptr [EDI + 0x14]
0073bbe4 : PUSH EAX
0073bbe5 : LEA ECX,[EBP + -0xc]
0073bbe8 : MOV ESI,0x2
0073bbed : MOVSS dword ptr [EBP + -0x4],XMM0
0073bbf2 : CALL 0x0077c3c0
0073bbf7 : MOV EAX,dword ptr [EDI + 0x14]
0073bbfa : CMP dword ptr [EAX + 0xbc],0x0
0073bc01 : JZ 0x0073bc45
0073bc03 : MOV ECX,dword ptr [0x017251ac]
0073bc09 : MOVQ XMM0,qword ptr [ECX + 0x1f8]
0073bc11 : MOVQ qword ptr [EBP + -0x10],XMM0
0073bc16 : MOVQ XMM0,qword ptr [ECX + 0x200]
0073bc1e : MOVQ qword ptr [EBP + -0x8],XMM0
0073bc23 : CMP dword ptr [EAX + 0x1c],0x0
0073bc27 : JZ 0x0073bc45
0073bc29 : MOV ECX,dword ptr [EAX + 0xbc]
0073bc2f : TEST ECX,ECX
0073bc31 : JZ 0x0073bc45
0073bc33 : MOV EAX,dword ptr [EAX + 0x1c]
0073bc36 : MOV EDX,dword ptr [EAX]
0073bc38 : PUSH 0x10
0073bc3a : LEA ESI,[EBP + -0x10]
0073bc3d : PUSH ESI
0073bc3e : PUSH ECX
0073bc3f : PUSH EAX
0073bc40 : MOV EAX,dword ptr [EDX + 0x50]
0073bc43 : CALL EAX
0073bc45 : POP ESI
0073bc46 : POP EBX
0073bc47 : MOV ESP,EBP
0073bc49 : POP EBP
0073bc4a : RET
