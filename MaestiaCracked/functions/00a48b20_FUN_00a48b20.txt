PROGRAM  : Maestia.exe
FUNCTION : FUN_00a48b20
ENTRY    : 00a48b20
BODY     : [[00a48b20, 00a48c76]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a48b20(int param_1)

{
  char cVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  uint local_30;
  undefined1 local_2c [24];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_10 = ExceptionList;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b70a3f;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(undefined1 *)(DAT_0172491c + 0x342) = 1;
  iVar4 = 0;
  cVar1 = *(char *)(param_1 + 0x41a);
  while( true ) {
    if (cVar1 != '\0') {
      FUN_00a0d6f0(DAT_017247d4);
      *(undefined1 *)(param_1 + 0x419) = 1;
      *(undefined4 *)(param_1 + 0x44c) = 0xffffffff;
      FUN_00935680(uVar2);
      if (*(int *)(param_1 + 0xac) != 0) {
        FUN_0086ed30(*(int *)(param_1 + 0xac));
      }
      if (DAT_017248cc != 0) {
        FUN_00a28ee0();
      }
      FUN_0081bd40();
      ExceptionList = local_10;
      return;
    }
    Sleep(100);
    iVar4 = iVar4 + 1;
    if (100 < iVar4) break;
    cVar1 = *(char *)(param_1 + 0x41a);
  }
  FUN_00406460(L"IDS_GAME_DISCONNECT_207");
  local_8 = 0;
  uVar3 = FUN_0081d120(local_2c);
  local_8._0_1_ = 1;
  FUN_00829d90(uVar3,1);
  local_8 = (uint)local_8._1_3_ << 8;
  if (local_30 < 8) {
    local_8 = 0xffffffff;
    if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    ExceptionList = local_10;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00a48b20 : PUSH EBP
00a48b21 : MOV EBP,ESP
00a48b23 : PUSH -0x1
00a48b25 : PUSH 0xb70a3f
00a48b2a : MOV EAX,FS:[0x0]
00a48b30 : PUSH EAX
00a48b31 : SUB ESP,0x38
00a48b34 : PUSH EBX
00a48b35 : PUSH ESI
00a48b36 : PUSH EDI
00a48b37 : MOV EAX,[0x00d66fa0]
00a48b3c : XOR EAX,EBP
00a48b3e : PUSH EAX
00a48b3f : LEA EAX,[EBP + -0xc]
00a48b42 : MOV FS:[0x0],EAX
00a48b48 : MOV EBX,dword ptr [EBP + 0x8]
00a48b4b : MOV EAX,[0x0172491c]
00a48b50 : MOV byte ptr [EAX + 0x342],0x1
00a48b57 : XOR ESI,ESI
00a48b59 : CMP byte ptr [EBX + 0x41a],0x0
00a48b60 : JNZ 0x00a48b7b
00a48b62 : MOV EDI,dword ptr [0x00b8510c]
00a48b68 : PUSH 0x64
00a48b6a : CALL EDI
00a48b6c : INC ESI
00a48b6d : CMP ESI,0x64
00a48b70 : JG 0x00a48be2
00a48b72 : CMP byte ptr [EBX + 0x41a],0x0
00a48b79 : JZ 0x00a48b68
00a48b7b : MOV ECX,dword ptr [0x017247d4]
00a48b81 : PUSH ECX
00a48b82 : CALL 0x00a0d6f0
00a48b87 : MOV EDX,dword ptr [0x00da9894]
00a48b8d : MOV byte ptr [EBX + 0x419],0x1
00a48b94 : MOV dword ptr [EBX + 0x44c],0xffffffff
00a48b9e : MOV EAX,dword ptr [EDX]
00a48ba0 : MOV EDI,dword ptr [EAX + 0x174]
00a48ba6 : CALL 0x00935680
00a48bab : MOV EBX,dword ptr [EBX + 0xac]
00a48bb1 : TEST EBX,EBX
00a48bb3 : JZ 0x00a48bbb
00a48bb5 : PUSH EBX
00a48bb6 : CALL 0x0086ed30
00a48bbb : CMP dword ptr [0x017248cc],0x0
00a48bc2 : JZ 0x00a48bc9
00a48bc4 : CALL 0x00a28ee0
00a48bc9 : CALL 0x0081bd40
00a48bce : MOV ECX,dword ptr [EBP + -0xc]
00a48bd1 : MOV dword ptr FS:[0x0],ECX
00a48bd8 : POP ECX
00a48bd9 : POP EDI
00a48bda : POP ESI
00a48bdb : POP EBX
00a48bdc : MOV ESP,EBP
00a48bde : POP EBP
00a48bdf : RET 0x4
00a48be2 : PUSH 0xcc020c
00a48be7 : LEA ECX,[EBP + -0x28]
00a48bea : CALL 0x00406460
00a48bef : MOV dword ptr [EBP + -0x4],0x0
00a48bf6 : LEA ECX,[EBP + -0x28]
00a48bf9 : PUSH ECX
00a48bfa : MOV ECX,dword ptr [0x0172491c]
00a48c00 : LEA EDI,[EBP + -0x44]
00a48c03 : CALL 0x0081d120
00a48c08 : MOV byte ptr [EBP + -0x4],0x1
00a48c0c : MOV EDI,dword ptr [0x0172491c]
00a48c12 : PUSH 0x1
00a48c14 : PUSH EAX
00a48c15 : CALL 0x00829d90
00a48c1a : MOV byte ptr [EBP + -0x4],0x0
00a48c1e : MOV ESI,0x8
00a48c23 : CMP dword ptr [EBP + -0x2c],ESI
00a48c26 : JC 0x00a48c30
00a48c28 : MOV ECX,dword ptr [EBP + -0x40]
00a48c2b : CALL 0x006f04e0
00a48c30 : MOV EBX,0x7
00a48c35 : XOR EDI,EDI
00a48c37 : XOR EDX,EDX
00a48c39 : MOV dword ptr [EBP + -0x2c],EBX
00a48c3c : MOV dword ptr [EBP + -0x30],EDI
00a48c3f : MOV word ptr [EBP + -0x40],DX
00a48c43 : MOV dword ptr [EBP + -0x4],0xffffffff
00a48c4a : CMP dword ptr [EBP + -0x10],ESI
00a48c4d : JC 0x00a48c57
00a48c4f : MOV ECX,dword ptr [EBP + -0x24]
00a48c52 : CALL 0x006f04e0
00a48c57 : XOR EAX,EAX
00a48c59 : MOV dword ptr [EBP + -0x10],EBX
00a48c5c : MOV dword ptr [EBP + -0x14],EDI
00a48c5f : MOV word ptr [EBP + -0x24],AX
00a48c63 : MOV ECX,dword ptr [EBP + -0xc]
00a48c66 : MOV dword ptr FS:[0x0],ECX
00a48c6d : POP ECX
00a48c6e : POP EDI
00a48c6f : POP ESI
00a48c70 : POP EBX
00a48c71 : MOV ESP,EBP
00a48c73 : POP EBP
00a48c74 : RET 0x4
