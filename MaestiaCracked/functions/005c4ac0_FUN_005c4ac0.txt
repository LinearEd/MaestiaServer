PROGRAM  : Maestia.exe
FUNCTION : FUN_005c4ac0
ENTRY    : 005c4ac0
BODY     : [[005c4ac0, 005c4be4]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005c4ac0(uint *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  int in_ECX;
  uint uVar5;
  undefined1 *puVar6;
  uint uVar7;
  undefined1 local_19;
  int local_18;
  
  iVar2 = *(int *)(*(int *)(in_ECX + 0x10) + -4 + *(int *)(in_ECX + 0x14) * 4);
  iVar3 = *(int *)(*(int *)(in_ECX + 8) + 0x78);
  iVar3 = FUN_005324f0(*(undefined4 *)(iVar3 + 0x2a0),iVar3 + 0xc,0,0xffffffff);
  if (*(char *)(in_ECX + 0x1c) == '\0') {
    local_19 = 0;
    param_1 = (uint *)FUN_00525450((*param_1 & 0xfffffffc) + 8,
                                   *(uint *)(*param_1 & 0xfffffffc) & 0x7fffffff);
    param_1[2] = param_1[2] + 1;
    local_18 = *(int *)(iVar2 + 0x10);
    puVar6 = &local_19;
    uVar4 = FUN_00526a90(iVar3);
    (**(code **)(local_18 + 0xc))(*(undefined4 *)(in_ECX + 8),&param_1,uVar4,puVar6);
    param_1[2] = param_1[2] - 1;
    if (param_1[2] == 0) {
      FUN_00525340();
    }
  }
  else {
    uVar4 = FUN_00526a90(iVar3);
    FUN_00585540(uVar4);
  }
  FUN_00526bc0();
  *(undefined1 *)(in_ECX + 0x1c) = 0;
  uVar5 = *(int *)(in_ECX + 0x14) + 1;
  if (uVar5 < *(uint *)(in_ECX + 0x14)) {
    uVar7 = uVar5;
    if (*(uint *)(in_ECX + 0x18) >> 1 <= uVar5) goto LAB_005c4bc1;
  }
  else {
    if (uVar5 < *(uint *)(in_ECX + 0x18)) goto LAB_005c4bc1;
    uVar7 = (uVar5 >> 2) + uVar5;
  }
  FUN_0057c3a0((int *)(in_ECX + 0x10),uVar7);
LAB_005c4bc1:
  *(uint *)(in_ECX + 0x14) = uVar5;
  piVar1 = (int *)(*(int *)(in_ECX + 0x10) + -4 + uVar5 * 4);
  if (piVar1 != (int *)0x0) {
    *piVar1 = iVar3;
  }
  if (iVar3 != 0) {
    FUN_00503db0();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005c4ac0 : SUB ESP,0x1c
005c4ac3 : PUSH EBX
005c4ac4 : PUSH EBP
005c4ac5 : PUSH ESI
005c4ac6 : PUSH EDI
005c4ac7 : MOV ESI,ECX
005c4ac9 : MOV EAX,dword ptr [ESI + 0x14]
005c4acc : MOV ECX,dword ptr [ESI + 0x10]
005c4acf : MOV EBP,dword ptr [ECX + EAX*0x4 + -0x4]
005c4ad3 : MOV ECX,dword ptr [ESI + 0x8]
005c4ad6 : MOV EAX,dword ptr [ECX + 0x78]
005c4ad9 : LEA EDI,[ESI + 0x10]
005c4adc : PUSH -0x1
005c4ade : MOV EDX,EAX
005c4ae0 : MOV EDX,dword ptr [EDX + 0x2a0]
005c4ae6 : PUSH 0x0
005c4ae8 : ADD EAX,0xc
005c4aeb : PUSH EAX
005c4aec : PUSH EDX
005c4aed : CALL 0x005324f0
005c4af2 : CMP byte ptr [ESI + 0x1c],0x0
005c4af6 : MOV EBX,EAX
005c4af8 : JZ 0x005c4b0e
005c4afa : PUSH EBX
005c4afb : LEA ECX,[ESP + 0x20]
005c4aff : CALL 0x00526a90
005c4b04 : PUSH EAX
005c4b05 : MOV ECX,EBP
005c4b07 : CALL 0x00585540
005c4b0c : JMP 0x005c4b8a
005c4b0e : MOV EAX,dword ptr [ESI + 0x8]
005c4b11 : MOV ECX,dword ptr [ESP + 0x30]
005c4b15 : MOV byte ptr [ESP + 0x13],0x0
005c4b1a : MOV EDX,dword ptr [EAX + 0x78]
005c4b1d : MOV EAX,dword ptr [ECX]
005c4b1f : MOV ECX,EAX
005c4b21 : AND ECX,0xfffffffc
005c4b24 : MOV ECX,dword ptr [ECX]
005c4b26 : AND ECX,0x7fffffff
005c4b2c : AND EAX,0xfffffffc
005c4b2f : PUSH ECX
005c4b30 : ADD EAX,0x8
005c4b33 : PUSH EAX
005c4b34 : LEA ECX,[EDX + 0x254]
005c4b3a : CALL 0x00525450
005c4b3f : MOV dword ptr [ESP + 0x30],EAX
005c4b43 : INC dword ptr [EAX + 0x8]
005c4b46 : MOV EAX,dword ptr [EBP + 0x10]
005c4b49 : LEA EDX,[ESP + 0x13]
005c4b4d : ADD EBP,0x10
005c4b50 : PUSH EDX
005c4b51 : PUSH EBX
005c4b52 : LEA ECX,[ESP + 0x24]
005c4b56 : MOV dword ptr [ESP + 0x1c],EAX
005c4b5a : CALL 0x00526a90
005c4b5f : MOV ECX,dword ptr [ESI + 0x8]
005c4b62 : PUSH EAX
005c4b63 : LEA EAX,[ESP + 0x38]
005c4b67 : PUSH EAX
005c4b68 : MOV EAX,dword ptr [ESP + 0x20]
005c4b6c : MOV EDX,dword ptr [EAX + 0xc]
005c4b6f : PUSH ECX
005c4b70 : MOV ECX,EBP
005c4b72 : CALL EDX
005c4b74 : MOV EAX,dword ptr [ESP + 0x30]
005c4b78 : DEC dword ptr [EAX + 0x8]
005c4b7b : MOV ECX,EAX
005c4b7d : ADD EAX,0x8
005c4b80 : CMP dword ptr [EAX],0x0
005c4b83 : JNZ 0x005c4b8a
005c4b85 : CALL 0x00525340
005c4b8a : LEA ECX,[ESP + 0x1c]
005c4b8e : CALL 0x00526bc0
005c4b93 : MOV byte ptr [ESI + 0x1c],0x0
005c4b97 : MOV ESI,dword ptr [EDI + 0x4]
005c4b9a : INC ESI
005c4b9b : CMP ESI,dword ptr [EDI + 0x4]
005c4b9e : JNC 0x005c4bac
005c4ba0 : MOV EAX,dword ptr [EDI + 0x8]
005c4ba3 : SHR EAX,0x1
005c4ba5 : CMP ESI,EAX
005c4ba7 : JNC 0x005c4bc1
005c4ba9 : PUSH ESI
005c4baa : JMP 0x005c4bb9
005c4bac : CMP ESI,dword ptr [EDI + 0x8]
005c4baf : JC 0x005c4bc1
005c4bb1 : MOV ECX,ESI
005c4bb3 : SHR ECX,0x2
005c4bb6 : ADD ECX,ESI
005c4bb8 : PUSH ECX
005c4bb9 : PUSH EDI
005c4bba : MOV ECX,EDI
005c4bbc : CALL 0x0057c3a0
005c4bc1 : MOV EDX,dword ptr [EDI]
005c4bc3 : MOV dword ptr [EDI + 0x4],ESI
005c4bc6 : LEA ESI,[EDX + ESI*0x4 + -0x4]
005c4bca : TEST ESI,ESI
005c4bcc : JZ 0x005c4bd0
005c4bce : MOV dword ptr [ESI],EBX
005c4bd0 : TEST EBX,EBX
005c4bd2 : JZ 0x005c4bdb
005c4bd4 : MOV ECX,EBX
005c4bd6 : CALL 0x00503db0
005c4bdb : POP EDI
005c4bdc : POP ESI
005c4bdd : POP EBP
005c4bde : POP EBX
005c4bdf : ADD ESP,0x1c
005c4be2 : RET 0x4
