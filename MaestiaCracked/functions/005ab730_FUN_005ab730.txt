PROGRAM  : Maestia.exe
FUNCTION : FUN_005ab730
ENTRY    : 005ab730
BODY     : [[005ab730, 005ab7b9]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_005ab730(uint param_1)

{
  uint uVar1;
  uint *in_ECX;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint local_4;
  
  uVar1 = *in_ECX;
  uVar4 = 0;
  uVar3 = 0xffffffff;
  if (uVar1 != 0) {
    local_4 = 0;
    uVar5 = param_1;
    while( true ) {
      uVar2 = uVar1 - param_1;
      if (((param_1 <= uVar1) && (uVar2 < uVar3)) && (uVar3 = uVar2, uVar4 = uVar1, uVar2 == 0)) {
        return uVar1;
      }
      uVar2 = *(uint *)(uVar1 + 0x1c);
      uVar1 = *(uint *)(uVar1 + 0x18 + ((int)uVar5 >> 0x1f) * -4);
      if ((uVar2 != 0) && (uVar2 != uVar1)) {
        local_4 = uVar2;
      }
      if (uVar1 == 0) break;
      uVar5 = uVar5 * 2;
    }
    for (; local_4 != 0;
        local_4 = *(uint *)(local_4 + 0x18 + (uint)(*(int *)(local_4 + 0x18) == 0) * 4)) {
      if ((param_1 <= local_4) && (local_4 - param_1 < uVar3)) {
        uVar3 = local_4 - param_1;
        uVar4 = local_4;
      }
    }
  }
  return uVar4;
}



============================================================
DISASSEMBLY
============================================================
005ab730 : PUSH ECX
005ab731 : MOV EAX,dword ptr [ECX]
005ab733 : PUSH EBX
005ab734 : PUSH EBP
005ab735 : PUSH ESI
005ab736 : XOR EBP,EBP
005ab738 : OR EDX,0xffffffff
005ab73b : PUSH EDI
005ab73c : TEST EAX,EAX
005ab73e : JZ 0x005ab7b0
005ab740 : MOV ESI,dword ptr [ESP + 0x18]
005ab744 : MOV dword ptr [ESP + 0x10],EBP
005ab748 : MOV EDI,ESI
005ab74a : LEA EBX,[EBX]
005ab750 : MOV ECX,EAX
005ab752 : SUB ECX,ESI
005ab754 : CMP EAX,ESI
005ab756 : JC 0x005ab764
005ab758 : CMP ECX,EDX
005ab75a : JNC 0x005ab764
005ab75c : MOV EBP,EAX
005ab75e : MOV EDX,ECX
005ab760 : TEST ECX,ECX
005ab762 : JZ 0x005ab7b2
005ab764 : MOV ECX,dword ptr [EAX + 0x1c]
005ab767 : MOV EBX,EDI
005ab769 : SHR EBX,0x1f
005ab76c : MOV EAX,dword ptr [EAX + EBX*0x4 + 0x18]
005ab770 : TEST ECX,ECX
005ab772 : JZ 0x005ab77c
005ab774 : CMP ECX,EAX
005ab776 : JZ 0x005ab77c
005ab778 : MOV dword ptr [ESP + 0x10],ECX
005ab77c : TEST EAX,EAX
005ab77e : JZ 0x005ab784
005ab780 : ADD EDI,EDI
005ab782 : JMP 0x005ab750
005ab784 : MOV EAX,dword ptr [ESP + 0x10]
005ab788 : TEST EAX,EAX
005ab78a : JZ 0x005ab7b0
005ab78c : LEA ESP,[ESP]
005ab790 : MOV ECX,EAX
005ab792 : SUB ECX,ESI
005ab794 : CMP EAX,ESI
005ab796 : JC 0x005ab7a0
005ab798 : CMP ECX,EDX
005ab79a : JNC 0x005ab7a0
005ab79c : MOV EDX,ECX
005ab79e : MOV EBP,EAX
005ab7a0 : XOR ECX,ECX
005ab7a2 : CMP dword ptr [EAX + 0x18],ECX
005ab7a5 : SETZ CL
005ab7a8 : MOV EAX,dword ptr [EAX + ECX*0x4 + 0x18]
005ab7ac : TEST EAX,EAX
005ab7ae : JNZ 0x005ab790
005ab7b0 : MOV EAX,EBP
005ab7b2 : POP EDI
005ab7b3 : POP ESI
005ab7b4 : POP EBP
005ab7b5 : POP EBX
005ab7b6 : POP ECX
005ab7b7 : RET 0x4
