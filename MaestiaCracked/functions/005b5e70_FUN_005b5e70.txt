PROGRAM  : Maestia.exe
FUNCTION : FUN_005b5e70
ENTRY    : 005b5e70
BODY     : [[005b5e70, 005b5ee5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005b5e70(undefined4 param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  int *in_ECX;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar1 = param_2 + 3U & 0xfffffffc;
  if (*in_ECX != 0) {
    iVar2 = FUN_00515c80(*in_ECX,uVar1 * 0x4c);
    in_ECX[2] = uVar1;
    *in_ECX = iVar2;
    return;
  }
  param_2 = 0x102;
  iVar2 = FUN_00515d60(param_1,uVar1 * 0x4c,&param_2);
  in_ECX[2] = uVar1;
  *in_ECX = iVar2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005b5e70 : MOV EAX,dword ptr [ESP + 0x8]
005b5e74 : PUSH EDI
005b5e75 : MOV EDI,ECX
005b5e77 : TEST EAX,EAX
005b5e79 : JNZ 0x005b5e98
005b5e7b : MOV EAX,dword ptr [EDI]
005b5e7d : TEST EAX,EAX
005b5e7f : JZ 0x005b5e8d
005b5e81 : PUSH EAX
005b5e82 : CALL 0x00515cf0
005b5e87 : MOV dword ptr [EDI],0x0
005b5e8d : MOV dword ptr [EDI + 0x8],0x0
005b5e94 : POP EDI
005b5e95 : RET 0x8
005b5e98 : PUSH ESI
005b5e99 : LEA ESI,[EAX + 0x3]
005b5e9c : MOV EAX,dword ptr [EDI]
005b5e9e : SHR ESI,0x2
005b5ea1 : ADD ESI,ESI
005b5ea3 : ADD ESI,ESI
005b5ea5 : TEST EAX,EAX
005b5ea7 : JZ 0x005b5ebf
005b5ea9 : MOV ECX,ESI
005b5eab : IMUL ECX,ECX,0x4c
005b5eae : PUSH ECX
005b5eaf : PUSH EAX
005b5eb0 : CALL 0x00515c80
005b5eb5 : MOV dword ptr [EDI + 0x8],ESI
005b5eb8 : POP ESI
005b5eb9 : MOV dword ptr [EDI],EAX
005b5ebb : POP EDI
005b5ebc : RET 0x8
005b5ebf : MOV ECX,dword ptr [ESP + 0xc]
005b5ec3 : MOV EAX,ESI
005b5ec5 : IMUL EAX,EAX,0x4c
005b5ec8 : LEA EDX,[ESP + 0x10]
005b5ecc : PUSH EDX
005b5ecd : PUSH EAX
005b5ece : PUSH ECX
005b5ecf : MOV dword ptr [ESP + 0x1c],0x102
005b5ed7 : CALL 0x00515d60
005b5edc : MOV dword ptr [EDI + 0x8],ESI
005b5edf : POP ESI
005b5ee0 : MOV dword ptr [EDI],EAX
005b5ee2 : POP EDI
005b5ee3 : RET 0x8
