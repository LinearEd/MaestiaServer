PROGRAM  : Maestia.exe
FUNCTION : FUN_008a7380
ENTRY    : 008a7380
BODY     : [[008a7380, 008a74f6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008a7380(int param_1)

{
  uint uVar1;
  int iVar2;
  int *piVar3;
  uint local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b44a8f;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  piVar3 = *(int **)(param_1 + 0xb4);
  do {
    local_14 = uVar1;
    if (piVar3 == *(int **)(param_1 + 0xb8)) {
LAB_008a74d9:
      local_8 = 0xffffffff;
      ExceptionList = local_10;
      __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
      return;
    }
    if (*piVar3 == *(int *)(param_1 + 200)) {
      FUN_00406460(L"IDS_GUILDMATCH_CHALLENGE");
      local_8 = 0;
      iVar2 = FUN_0081d120(local_4c);
      local_8._0_1_ = 1;
      if ((uint)piVar3[7] < 8) {
        piVar3 = piVar3 + 2;
      }
      else {
        piVar3 = (int *)piVar3[2];
      }
      if (*(uint *)(iVar2 + 0x18) < 8) {
        iVar2 = iVar2 + 4;
      }
      else {
        iVar2 = *(int *)(iVar2 + 4);
      }
      FUN_00404750(iVar2,piVar3,uVar1);
      local_8 = CONCAT31(local_8._1_3_,3);
      if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_8 = CONCAT31(local_8._1_3_,4);
      if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_48 = 0;
      local_34 = 7;
      local_38 = 0;
      iVar2 = FUN_008ede80(local_30,2);
      if (iVar2 == 0) {
        local_8 = 0xffffffff;
        if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
      }
      else {
        if (*(code **)(iVar2 + 0x60) != (code *)0x0) {
          (**(code **)(iVar2 + 0x60))(1,iVar2);
        }
        *(code **)(iVar2 + 0x60) = FUN_008a6f10;
        local_8 = 0xffffffff;
        if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
      }
      local_2c = 0;
      local_1c = 0;
      local_18 = 7;
      goto LAB_008a74d9;
    }
    piVar3 = piVar3 + 0x1c;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
008a7380 : PUSH EBP
008a7381 : MOV EBP,ESP
008a7383 : PUSH -0x1
008a7385 : PUSH 0xb44a8f
008a738a : MOV EAX,FS:[0x0]
008a7390 : PUSH EAX
008a7391 : SUB ESP,0x58
008a7394 : MOV EAX,[0x00d66fa0]
008a7399 : XOR EAX,EBP
008a739b : MOV dword ptr [EBP + -0x10],EAX
008a739e : PUSH EBX
008a739f : PUSH ESI
008a73a0 : PUSH EDI
008a73a1 : PUSH EAX
008a73a2 : LEA EAX,[EBP + -0xc]
008a73a5 : MOV FS:[0x0],EAX
008a73ab : MOV EAX,dword ptr [EBP + 0x8]
008a73ae : MOV ESI,dword ptr [EAX + 0xb4]
008a73b4 : MOV ECX,dword ptr [EAX + 0xc8]
008a73ba : MOV EAX,dword ptr [EAX + 0xb8]
008a73c0 : CMP ESI,EAX
008a73c2 : JZ 0x008a74d9
008a73c8 : CMP dword ptr [ESI],ECX
008a73ca : JZ 0x008a73d8
008a73cc : ADD ESI,0x70
008a73cf : CMP ESI,EAX
008a73d1 : JNZ 0x008a73c8
008a73d3 : JMP 0x008a74d9
008a73d8 : PUSH 0xc4a858
008a73dd : LEA ECX,[EBP + -0x48]
008a73e0 : CALL 0x00406460
008a73e5 : MOV dword ptr [EBP + -0x4],0x0
008a73ec : MOV ECX,dword ptr [0x0172491c]
008a73f2 : LEA EAX,[EBP + -0x48]
008a73f5 : PUSH EAX
008a73f6 : LEA EDI,[EBP + -0x64]
008a73f9 : CALL 0x0081d120
008a73fe : MOV byte ptr [EBP + -0x4],0x1
008a7402 : MOV EBX,0x8
008a7407 : CMP dword ptr [ESI + 0x1c],EBX
008a740a : JC 0x008a7411
008a740c : MOV ESI,dword ptr [ESI + 0x8]
008a740f : JMP 0x008a7413
008a7411 : ADD ESI,EBX
008a7413 : CMP dword ptr [EAX + 0x18],EBX
008a7416 : JC 0x008a741d
008a7418 : MOV EAX,dword ptr [EAX + 0x4]
008a741b : JMP 0x008a7420
008a741d : ADD EAX,0x4
008a7420 : PUSH ESI
008a7421 : PUSH EAX
008a7422 : LEA ESI,[EBP + -0x2c]
008a7425 : CALL 0x00404750
008a742a : ADD ESP,0x8
008a742d : MOV byte ptr [EBP + -0x4],0x3
008a7431 : CMP dword ptr [EBP + -0x4c],EBX
008a7434 : JC 0x008a743e
008a7436 : MOV ECX,dword ptr [EBP + -0x60]
008a7439 : CALL 0x006f04e0
008a743e : MOV EDI,0x7
008a7443 : XOR ESI,ESI
008a7445 : XOR ECX,ECX
008a7447 : MOV dword ptr [EBP + -0x4c],EDI
008a744a : MOV dword ptr [EBP + -0x50],ESI
008a744d : MOV word ptr [EBP + -0x60],CX
008a7451 : MOV byte ptr [EBP + -0x4],0x4
008a7455 : CMP dword ptr [EBP + -0x30],EBX
008a7458 : JC 0x008a7462
008a745a : MOV ECX,dword ptr [EBP + -0x44]
008a745d : CALL 0x006f04e0
008a7462 : MOV EAX,[0x00da9894]
008a7467 : XOR EDX,EDX
008a7469 : MOV word ptr [EBP + -0x44],DX
008a746d : PUSH 0x2
008a746f : LEA EDX,[EBP + -0x2c]
008a7472 : MOV dword ptr [EBP + -0x30],EDI
008a7475 : MOV dword ptr [EBP + -0x34],ESI
008a7478 : MOV ECX,dword ptr [EAX]
008a747a : PUSH EDX
008a747b : CALL 0x008ede80
008a7480 : MOV ESI,EAX
008a7482 : TEST ESI,ESI
008a7484 : JNZ 0x008a74a2
008a7486 : MOV dword ptr [EBP + -0x4],0xffffffff
008a748d : CMP dword ptr [EBP + -0x14],EBX
008a7490 : JC 0x008a749a
008a7492 : MOV ECX,dword ptr [EBP + -0x28]
008a7495 : CALL 0x006f04e0
008a749a : XOR EAX,EAX
008a749c : MOV word ptr [EBP + -0x28],AX
008a74a0 : JMP 0x008a74cf
008a74a2 : MOV EAX,dword ptr [ESI + 0x60]
008a74a5 : TEST EAX,EAX
008a74a7 : JZ 0x008a74ae
008a74a9 : PUSH ESI
008a74aa : PUSH 0x1
008a74ac : CALL EAX
008a74ae : MOV dword ptr [ESI + 0x60],0x8a6f10
008a74b5 : MOV dword ptr [EBP + -0x4],0xffffffff
008a74bc : CMP dword ptr [EBP + -0x14],EBX
008a74bf : JC 0x008a74c9
008a74c1 : MOV ECX,dword ptr [EBP + -0x28]
008a74c4 : CALL 0x006f04e0
008a74c9 : XOR ECX,ECX
008a74cb : MOV word ptr [EBP + -0x28],CX
008a74cf : MOV dword ptr [EBP + -0x18],0x0
008a74d6 : MOV dword ptr [EBP + -0x14],EDI
008a74d9 : MOV ECX,dword ptr [EBP + -0xc]
008a74dc : MOV dword ptr FS:[0x0],ECX
008a74e3 : POP ECX
008a74e4 : POP EDI
008a74e5 : POP ESI
008a74e6 : POP EBX
008a74e7 : MOV ECX,dword ptr [EBP + -0x10]
008a74ea : XOR ECX,EBP
008a74ec : CALL 0x00633e6b
008a74f1 : MOV ESP,EBP
008a74f3 : POP EBP
008a74f4 : RET 0x4
