PROGRAM  : Maestia.exe
FUNCTION : FUN_008aeaf0
ENTRY    : 008aeaf0
BODY     : [[008aeaf0, 008aecce]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008aeaf0(void)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint local_70;
  undefined1 local_68 [4];
  undefined2 local_64;
  undefined4 local_54;
  uint local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b66564;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_2c = 0;
  local_18 = 7;
  local_1c = 0;
  local_14 = uVar1;
  FUN_00405eb0(*(int *)(DAT_0172491c + 0x17c) + 0xc,0,0xffffffff);
  local_8 = 0;
  iVar2 = FUN_00a6f7d0(uVar1);
  iVar3 = *(int *)(*(int *)(*DAT_00da9894 + 0x188) + 8);
  if (iVar3 == 0) {
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  else if ((*(uint *)(iVar3 + 0x54 + iVar2 * 4) & 1) == 0) {
    FUN_00406460(L"IDS_ERROR_GUILD_NOTHING_INVITE_AUTHORITY");
    local_8._0_1_ = 1;
    iVar3 = FUN_0081d120(local_68);
    local_8._0_1_ = 2;
    if (*(uint *)(iVar3 + 0x18) < 8) {
      iVar3 = iVar3 + 4;
    }
    else {
      iVar3 = *(int *)(iVar3 + 4);
    }
    FUN_00406460(iVar3);
    local_8._0_1_ = 3;
    (**(code **)(**(int **)(*DAT_00da9894 + 0x1a8) + 0x44))(local_4c,3);
    local_8 = CONCAT31(local_8._1_3_,2);
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_34 = 7;
    local_38 = 0;
    local_48 = 0;
    local_8 = CONCAT31(local_8._1_3_,1);
    if (7 < local_70) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_50 = 7;
    local_54 = 0;
    local_64 = 0;
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  else {
    FUN_00a73600(*(undefined4 *)(*DAT_00da9894 + 0x188));
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  local_8 = 0xffffffff;
  local_18 = 7;
  local_2c = 0;
  local_1c = 0;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
008aeaf0 : PUSH EBP
008aeaf1 : MOV EBP,ESP
008aeaf3 : PUSH -0x1
008aeaf5 : PUSH 0xb66564
008aeafa : MOV EAX,FS:[0x0]
008aeb00 : PUSH EAX
008aeb01 : SUB ESP,0x7c
008aeb04 : MOV EAX,[0x00d66fa0]
008aeb09 : XOR EAX,EBP
008aeb0b : MOV dword ptr [EBP + -0x10],EAX
008aeb0e : PUSH EBX
008aeb0f : PUSH ESI
008aeb10 : PUSH EDI
008aeb11 : PUSH EAX
008aeb12 : LEA EAX,[EBP + -0xc]
008aeb15 : MOV FS:[0x0],EAX
008aeb1b : MOV EAX,[0x0172491c]
008aeb20 : MOV EAX,dword ptr [EAX + 0x17c]
008aeb26 : PUSH -0x1
008aeb28 : XOR EBX,EBX
008aeb2a : XOR ECX,ECX
008aeb2c : ADD EAX,0xc
008aeb2f : PUSH EBX
008aeb30 : MOV word ptr [EBP + -0x28],CX
008aeb34 : PUSH EAX
008aeb35 : LEA ECX,[EBP + -0x2c]
008aeb38 : MOV dword ptr [EBP + -0x14],0x7
008aeb3f : MOV dword ptr [EBP + -0x18],EBX
008aeb42 : CALL 0x00405eb0
008aeb47 : MOV dword ptr [EBP + -0x4],EBX
008aeb4a : MOV EDX,dword ptr [0x00da9894]
008aeb50 : MOV EAX,dword ptr [EDX]
008aeb52 : MOV EAX,dword ptr [EAX + 0x188]
008aeb58 : LEA EDI,[EBP + -0x2c]
008aeb5b : MOV ESI,EAX
008aeb5d : CALL 0x00a6f7d0
008aeb62 : MOV ECX,dword ptr [0x00da9894]
008aeb68 : MOV EDX,dword ptr [ECX]
008aeb6a : MOV ECX,dword ptr [EDX + 0x188]
008aeb70 : MOV ECX,dword ptr [ECX + 0x8]
008aeb73 : CMP ECX,EBX
008aeb75 : JNZ 0x008aeb97
008aeb77 : MOV dword ptr [EBP + -0x4],0xffffffff
008aeb7e : CMP dword ptr [EBP + -0x14],0x8
008aeb82 : JC 0x008aeb8c
008aeb84 : MOV ECX,dword ptr [EBP + -0x28]
008aeb87 : CALL 0x006f04e0
008aeb8c : XOR EDX,EDX
008aeb8e : MOV word ptr [EBP + -0x28],DX
008aeb92 : JMP 0x008aeca9
008aeb97 : MOV ECX,dword ptr [ECX + EAX*0x4 + 0x54]
008aeb9b : AND ECX,0x1
008aeb9e : JNZ 0x008aec82
008aeba4 : PUSH 0xc4b7e0
008aeba9 : LEA ECX,[EBP + -0x64]
008aebac : CALL 0x00406460
008aebb1 : MOV byte ptr [EBP + -0x4],0x1
008aebb5 : MOV ECX,dword ptr [0x0172491c]
008aebbb : LEA EAX,[EBP + -0x64]
008aebbe : PUSH EAX
008aebbf : LEA EDI,[EBP + 0xffffff7c]
008aebc5 : CALL 0x0081d120
008aebca : MOV byte ptr [EBP + -0x4],0x2
008aebce : MOV ESI,0x8
008aebd3 : CMP dword ptr [EAX + 0x18],ESI
008aebd6 : JC 0x008aebdd
008aebd8 : MOV EAX,dword ptr [EAX + 0x4]
008aebdb : JMP 0x008aebe0
008aebdd : ADD EAX,0x4
008aebe0 : PUSH EAX
008aebe1 : LEA ECX,[EBP + -0x48]
008aebe4 : CALL 0x00406460
008aebe9 : MOV byte ptr [EBP + -0x4],0x3
008aebed : MOV ECX,dword ptr [0x00da9894]
008aebf3 : MOV EAX,dword ptr [ECX]
008aebf5 : MOV ECX,dword ptr [EAX + 0x1a8]
008aebfb : MOV EDX,dword ptr [ECX]
008aebfd : MOV EDX,dword ptr [EDX + 0x44]
008aec00 : PUSH 0x3
008aec02 : LEA EAX,[EBP + -0x48]
008aec05 : PUSH EAX
008aec06 : CALL EDX
008aec08 : MOV byte ptr [EBP + -0x4],0x2
008aec0c : CMP dword ptr [EBP + -0x30],ESI
008aec0f : JC 0x008aec19
008aec11 : MOV ECX,dword ptr [EBP + -0x44]
008aec14 : CALL 0x006f04e0
008aec19 : MOV EDI,0x7
008aec1e : XOR EAX,EAX
008aec20 : MOV dword ptr [EBP + -0x30],EDI
008aec23 : MOV dword ptr [EBP + -0x34],EBX
008aec26 : MOV word ptr [EBP + -0x44],AX
008aec2a : MOV byte ptr [EBP + -0x4],0x1
008aec2e : CMP dword ptr [EBP + -0x6c],ESI
008aec31 : JC 0x008aec3b
008aec33 : MOV ECX,dword ptr [EBP + -0x80]
008aec36 : CALL 0x006f04e0
008aec3b : XOR ECX,ECX
008aec3d : MOV dword ptr [EBP + -0x6c],EDI
008aec40 : MOV dword ptr [EBP + -0x70],EBX
008aec43 : MOV word ptr [EBP + -0x80],CX
008aec47 : MOV byte ptr [EBP + -0x4],BL
008aec4a : CMP dword ptr [EBP + -0x4c],ESI
008aec4d : JC 0x008aec57
008aec4f : MOV ECX,dword ptr [EBP + -0x60]
008aec52 : CALL 0x006f04e0
008aec57 : XOR EDX,EDX
008aec59 : MOV dword ptr [EBP + -0x4c],EDI
008aec5c : MOV dword ptr [EBP + -0x50],EBX
008aec5f : MOV word ptr [EBP + -0x60],DX
008aec63 : MOV dword ptr [EBP + -0x4],0xffffffff
008aec6a : CMP dword ptr [EBP + -0x14],ESI
008aec6d : JC 0x008aec77
008aec6f : MOV ECX,dword ptr [EBP + -0x28]
008aec72 : CALL 0x006f04e0
008aec77 : XOR EAX,EAX
008aec79 : MOV dword ptr [EBP + -0x14],EDI
008aec7c : MOV word ptr [EBP + -0x28],AX
008aec80 : JMP 0x008aecb0
008aec82 : MOV EDX,dword ptr [EDX + 0x188]
008aec88 : PUSH EDX
008aec89 : CALL 0x00a73600
008aec8e : MOV dword ptr [EBP + -0x4],0xffffffff
008aec95 : CMP dword ptr [EBP + -0x14],0x8
008aec99 : JC 0x008aeca3
008aec9b : MOV ECX,dword ptr [EBP + -0x28]
008aec9e : CALL 0x006f04e0
008aeca3 : XOR ECX,ECX
008aeca5 : MOV word ptr [EBP + -0x28],CX
008aeca9 : MOV dword ptr [EBP + -0x14],0x7
008aecb0 : MOV dword ptr [EBP + -0x18],EBX
008aecb3 : MOV ECX,dword ptr [EBP + -0xc]
008aecb6 : MOV dword ptr FS:[0x0],ECX
008aecbd : POP ECX
008aecbe : POP EDI
008aecbf : POP ESI
008aecc0 : POP EBX
008aecc1 : MOV ECX,dword ptr [EBP + -0x10]
008aecc4 : XOR ECX,EBP
008aecc6 : CALL 0x00633e6b
008aeccb : MOV ESP,EBP
008aeccd : POP EBP
008aecce : RET
