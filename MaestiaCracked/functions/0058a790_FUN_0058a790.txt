PROGRAM  : Maestia.exe
FUNCTION : FUN_0058a790
ENTRY    : 0058a790
BODY     : [[0058a790, 0058a7f0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058a790(undefined4 param_1)

{
  byte *pbVar1;
  int iVar2;
  undefined4 uVar3;
  int in_ECX;
  
  if (*(int *)(in_ECX + 0x1c0) == 0) {
    iVar2 = FUN_00515840(0x5c,0);
    if (iVar2 == 0) {
      uVar3 = 0;
    }
    else {
      uVar3 = FUN_00589ad0(in_ECX + 0x144);
    }
    *(undefined4 *)(in_ECX + 0x1c0) = uVar3;
  }
  *(undefined4 *)(*(int *)(in_ECX + 0x1c0) + 4) = param_1;
  pbVar1 = (byte *)(*(int *)(in_ECX + 0x1c0) + 0x58);
  *pbVar1 = *pbVar1 | 2;
  *(int *)(*(int *)(in_ECX + 0x1c0) + 0x4c) = *(int *)(in_ECX + 0x1c0) + 4;
  return;
}



============================================================
DISASSEMBLY
============================================================
0058a790 : PUSH ESI
0058a791 : MOV ESI,ECX
0058a793 : CMP dword ptr [ESI + 0x1c0],0x0
0058a79a : JNZ 0x0058a7ca
0058a79c : MOV EAX,dword ptr [ESI + 0xa0]
0058a7a2 : MOV ECX,dword ptr [EAX + 0x14]
0058a7a5 : PUSH 0x0
0058a7a7 : PUSH 0x5c
0058a7a9 : CALL 0x00515840
0058a7ae : TEST EAX,EAX
0058a7b0 : JZ 0x0058a7c2
0058a7b2 : LEA ECX,[ESI + 0x144]
0058a7b8 : PUSH ECX
0058a7b9 : MOV ECX,EAX
0058a7bb : CALL 0x00589ad0
0058a7c0 : JMP 0x0058a7c4
0058a7c2 : XOR EAX,EAX
0058a7c4 : MOV dword ptr [ESI + 0x1c0],EAX
0058a7ca : MOV EDX,dword ptr [ESI + 0x1c0]
0058a7d0 : FLD float ptr [ESP + 0x8]
0058a7d4 : FSTP float ptr [EDX + 0x4]
0058a7d7 : MOV EAX,dword ptr [ESI + 0x1c0]
0058a7dd : OR byte ptr [EAX + 0x58],0x2
0058a7e1 : MOV ESI,dword ptr [ESI + 0x1c0]
0058a7e7 : LEA EAX,[ESI + 0x4]
0058a7ea : MOV dword ptr [ESI + 0x4c],EAX
0058a7ed : POP ESI
0058a7ee : RET 0x4
