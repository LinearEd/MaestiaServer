PROGRAM  : Maestia.exe
FUNCTION : FUN_008cac30
ENTRY    : 008cac30
BODY     : [[008cac30, 008cb00c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008cac30(undefined4 param_1,undefined4 param_2)

{
  wchar_t wVar1;
  uint uVar2;
  undefined4 ****ppppuVar3;
  int iVar4;
  wchar_t *pwVar5;
  undefined4 uVar6;
  wchar_t *pwVar7;
  wchar_t *pwVar8;
  bool bVar9;
  int *local_94;
  undefined1 local_90 [4];
  int local_8c;
  int local_88;
  undefined4 local_84;
  undefined1 local_80 [4];
  int local_7c;
  int local_78;
  undefined4 local_74;
  undefined1 local_70 [4];
  undefined2 local_6c;
  undefined4 local_5c;
  uint local_58;
  undefined1 local_54 [4];
  undefined2 local_50;
  undefined4 local_40;
  uint local_3c;
  undefined4 ***local_34 [4];
  undefined4 local_24;
  uint local_20;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b5ffdf;
  local_14 = ExceptionList;
  local_1c = DAT_00d66fa0 ^ (uint)&local_94;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xffffff60;
  ExceptionList = &local_14;
  local_58 = 7;
  local_5c = 0;
  local_6c = 0;
  FUN_00406360(&DAT_00c52fd8,1);
  local_c = 0;
  FUN_0070cd60(local_90,param_1,local_70,0,uVar2);
  local_c._0_1_ = 2;
  if (7 < local_58) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_6c = 0;
  iVar4 = local_88 - local_8c >> 0x1f;
  local_58 = 7;
  local_5c = 0;
  if ((local_88 - local_8c) / 0x1c + iVar4 != iVar4) {
    FUN_00403dd0(param_2);
    local_c._0_1_ = 3;
    FUN_00406460(&DAT_00c52fdc);
    local_c._0_1_ = 4;
    ppppuVar3 = (undefined4 ****)local_34[0];
    if (local_20 < 8) {
      ppppuVar3 = local_34;
    }
    FUN_00406460(ppppuVar3);
    local_c._0_1_ = 5;
    FUN_0070cd60(local_80,local_70,local_54,0);
    local_c = CONCAT31(local_c._1_3_,7);
    if (7 < local_58) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_58 = 7;
    local_5c = 0;
    local_6c = 0;
    local_c._0_1_ = 8;
    if (7 < local_3c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_3c = 7;
    uVar2 = *(uint *)(local_8c + 0x18);
    local_40 = 0;
    local_50 = 0;
    pwVar5 = (wchar_t *)(local_8c + 4);
    pwVar8 = pwVar5;
    if (7 < uVar2) {
      pwVar8 = *(wchar_t **)pwVar5;
    }
    pwVar7 = L"onInit";
    do {
      wVar1 = *pwVar8;
      bVar9 = (ushort)wVar1 < (ushort)*pwVar7;
      if (wVar1 != *pwVar7) {
LAB_008cae1b:
        iVar4 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
        goto LAB_008cae20;
      }
      if (wVar1 == L'\0') break;
      wVar1 = pwVar8[1];
      bVar9 = (ushort)wVar1 < (ushort)pwVar7[1];
      if (wVar1 != pwVar7[1]) goto LAB_008cae1b;
      pwVar8 = pwVar8 + 2;
      pwVar7 = pwVar7 + 2;
    } while (wVar1 != L'\0');
    iVar4 = 0;
LAB_008cae20:
    if (iVar4 == 0) {
      FUN_008ca490();
    }
    else {
      pwVar8 = pwVar5;
      if (7 < uVar2) {
        pwVar8 = *(wchar_t **)pwVar5;
      }
      pwVar7 = L"Close";
      do {
        wVar1 = *pwVar8;
        bVar9 = (ushort)wVar1 < (ushort)*pwVar7;
        if (wVar1 != *pwVar7) {
LAB_008cae6c:
          iVar4 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
          goto LAB_008cae71;
        }
        if (wVar1 == L'\0') break;
        wVar1 = pwVar8[1];
        bVar9 = (ushort)wVar1 < (ushort)pwVar7[1];
        if (wVar1 != pwVar7[1]) goto LAB_008cae6c;
        pwVar8 = pwVar8 + 2;
        pwVar7 = pwVar7 + 2;
      } while (wVar1 != L'\0');
      iVar4 = 0;
LAB_008cae71:
      if (iVar4 == 0) {
        (**(code **)(*local_94 + 0x24))();
      }
      else {
        if (7 < uVar2) {
          pwVar5 = *(wchar_t **)pwVar5;
        }
        pwVar8 = L"Click";
        do {
          wVar1 = *pwVar5;
          bVar9 = (ushort)wVar1 < (ushort)*pwVar8;
          if (wVar1 != *pwVar8) {
LAB_008caebb:
            iVar4 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
            goto LAB_008caec0;
          }
          if (wVar1 == L'\0') break;
          wVar1 = pwVar5[1];
          bVar9 = (ushort)wVar1 < (ushort)pwVar8[1];
          if (wVar1 != pwVar8[1]) goto LAB_008caebb;
          pwVar5 = pwVar5 + 2;
          pwVar8 = pwVar8 + 2;
        } while (wVar1 != L'\0');
        iVar4 = 0;
LAB_008caec0:
        if (iVar4 == 0) {
          iVar4 = local_78 - local_7c >> 0x1f;
          if ((local_78 - local_7c) / 0x1c + iVar4 == iVar4) {
            local_c._0_1_ = 3;
            FUN_004042c0();
            local_c = CONCAT31(local_c._1_3_,2);
            FUN_00406560();
            local_c = 0xffffffff;
            FUN_004042c0();
            goto LAB_008cafea;
          }
          if (*(uint *)(local_7c + 0x18) < 8) {
            iVar4 = local_7c + 4;
          }
          else {
            iVar4 = *(int *)(local_7c + 4);
          }
          uVar6 = FUN_00634f4d(iVar4);
          FUN_008ca330(local_94,uVar6);
        }
      }
    }
    local_c = CONCAT31(local_c._1_3_,3);
    if (local_7c != 0) {
      FUN_00405450(local_94);
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_7c = 0;
    local_78 = 0;
    local_74 = 0;
    local_c = CONCAT31(local_c._1_3_,2);
    if (7 < local_20) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_20 = 7;
    local_24 = 0;
    local_34[0] = (undefined4 ***)((uint)local_34[0] & 0xffff0000);
  }
  if (local_8c != 0) {
    local_c = 0xffffffff;
    FUN_00405450(local_94);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_c = 0xffffffff;
  local_84 = 0;
  local_88 = 0;
  local_8c = 0;
LAB_008cafea:
  ExceptionList = local_14;
  __security_check_cookie(local_1c ^ (uint)&local_94);
  return;
}



============================================================
DISASSEMBLY
============================================================
008cac30 : PUSH EBP
008cac31 : MOV EBP,ESP
008cac33 : AND ESP,0xfffffff8
008cac36 : PUSH -0x1
008cac38 : PUSH 0xb5ffdf
008cac3d : MOV EAX,FS:[0x0]
008cac43 : PUSH EAX
008cac44 : SUB ESP,0x80
008cac4a : MOV EAX,[0x00d66fa0]
008cac4f : XOR EAX,ESP
008cac51 : MOV dword ptr [ESP + 0x78],EAX
008cac55 : PUSH EBX
008cac56 : PUSH ESI
008cac57 : PUSH EDI
008cac58 : MOV EAX,[0x00d66fa0]
008cac5d : XOR EAX,ESP
008cac5f : PUSH EAX
008cac60 : LEA EAX,[ESP + 0x90]
008cac67 : MOV FS:[0x0],EAX
008cac6d : MOV ESI,dword ptr [EBP + 0x8]
008cac70 : MOV EDI,dword ptr [EBP + 0xc]
008cac73 : PUSH 0x1
008cac75 : MOV dword ptr [ESP + 0x14],ECX
008cac79 : XOR EAX,EAX
008cac7b : XOR EBX,EBX
008cac7d : PUSH 0xc52fd8
008cac82 : LEA ECX,[ESP + 0x3c]
008cac86 : MOV dword ptr [ESP + 0x54],0x7
008cac8e : MOV dword ptr [ESP + 0x50],EBX
008cac92 : MOV word ptr [ESP + 0x40],AX
008cac97 : CALL 0x00406360
008cac9c : MOV dword ptr [ESP + 0x98],EBX
008caca3 : PUSH EBX
008caca4 : LEA ECX,[ESP + 0x38]
008caca8 : PUSH ECX
008caca9 : LEA EDX,[ESP + 0x1c]
008cacad : PUSH ESI
008cacae : PUSH EDX
008cacaf : CALL 0x0070cd60
008cacb4 : ADD ESP,0x10
008cacb7 : MOV byte ptr [ESP + 0x98],0x2
008cacbf : CMP dword ptr [ESP + 0x4c],0x8
008cacc4 : JC 0x008caccf
008cacc6 : MOV ECX,dword ptr [ESP + 0x38]
008cacca : CALL 0x006f04e0
008caccf : MOV ECX,dword ptr [ESP + 0x1c]
008cacd3 : SUB ECX,dword ptr [ESP + 0x18]
008cacd7 : XOR EAX,EAX
008cacd9 : MOV word ptr [ESP + 0x38],AX
008cacde : MOV EAX,0x92492493
008cace3 : IMUL ECX
008cace5 : ADD EDX,ECX
008cace7 : SAR EDX,0x4
008cacea : MOV ECX,EDX
008cacec : SHR ECX,0x1f
008cacef : ADD ECX,EDX
008cacf1 : MOV dword ptr [ESP + 0x4c],0x7
008cacf9 : MOV dword ptr [ESP + 0x48],EBX
008cacfd : JNZ 0x008cad20
008cacff : MOV dword ptr [ESP + 0x98],0xffffffff
008cad0a : MOV EAX,dword ptr [ESP + 0x18]
008cad0e : CMP EAX,EBX
008cad10 : JZ 0x008cafde
008cad16 : MOV EDX,dword ptr [ESP + 0x10]
008cad1a : PUSH EDX
008cad1b : JMP 0x008cafc9
008cad20 : PUSH EDI
008cad21 : LEA ESI,[ESP + 0x70]
008cad25 : CALL 0x00403dd0
008cad2a : ADD ESP,0x4
008cad2d : MOV byte ptr [ESP + 0x98],0x3
008cad35 : PUSH 0xc52fdc
008cad3a : LEA ECX,[ESP + 0x54]
008cad3e : CALL 0x00406460
008cad43 : MOV byte ptr [ESP + 0x98],0x4
008cad4b : MOV EAX,dword ptr [ESP + 0x70]
008cad4f : MOV ESI,0x8
008cad54 : CMP dword ptr [ESP + 0x84],ESI
008cad5b : JNC 0x008cad61
008cad5d : LEA EAX,[ESP + 0x70]
008cad61 : PUSH EAX
008cad62 : LEA ECX,[ESP + 0x38]
008cad66 : CALL 0x00406460
008cad6b : MOV byte ptr [ESP + 0x98],0x5
008cad73 : PUSH EBX
008cad74 : LEA EAX,[ESP + 0x54]
008cad78 : PUSH EAX
008cad79 : LEA ECX,[ESP + 0x3c]
008cad7d : PUSH ECX
008cad7e : LEA EDX,[ESP + 0x30]
008cad82 : PUSH EDX
008cad83 : CALL 0x0070cd60
008cad88 : ADD ESP,0x10
008cad8b : MOV byte ptr [ESP + 0x98],0x7
008cad93 : CMP dword ptr [ESP + 0x4c],ESI
008cad97 : JC 0x008cada2
008cad99 : MOV ECX,dword ptr [ESP + 0x38]
008cad9d : CALL 0x006f04e0
008cada2 : MOV EDI,0x7
008cada7 : XOR EAX,EAX
008cada9 : MOV dword ptr [ESP + 0x4c],EDI
008cadad : MOV dword ptr [ESP + 0x48],EBX
008cadb1 : MOV word ptr [ESP + 0x38],AX
008cadb6 : MOV byte ptr [ESP + 0x98],0x8
008cadbe : CMP dword ptr [ESP + 0x68],ESI
008cadc2 : JC 0x008cadcd
008cadc4 : MOV ECX,dword ptr [ESP + 0x54]
008cadc8 : CALL 0x006f04e0
008cadcd : MOV EAX,dword ptr [ESP + 0x18]
008cadd1 : MOV dword ptr [ESP + 0x68],EDI
008cadd5 : MOV EDI,dword ptr [EAX + 0x18]
008cadd8 : XOR ECX,ECX
008cadda : CMP EDI,ESI
008caddc : MOV dword ptr [ESP + 0x64],EBX
008cade0 : MOV word ptr [ESP + 0x54],CX
008cade5 : LEA ESI,[EAX + 0x4]
008cade8 : JC 0x008cadee
008cadea : MOV EAX,dword ptr [ESI]
008cadec : JMP 0x008cadf0
008cadee : MOV EAX,ESI
008cadf0 : MOV ECX,0xc52fe0
008cadf5 : MOV DX,word ptr [EAX]
008cadf8 : CMP DX,word ptr [ECX]
008cadfb : JNZ 0x008cae1b
008cadfd : CMP DX,BX
008cae00 : JZ 0x008cae17
008cae02 : MOV DX,word ptr [EAX + 0x2]
008cae06 : CMP DX,word ptr [ECX + 0x2]
008cae0a : JNZ 0x008cae1b
008cae0c : ADD EAX,0x4
008cae0f : ADD ECX,0x4
008cae12 : CMP DX,BX
008cae15 : JNZ 0x008cadf5
008cae17 : XOR EAX,EAX
008cae19 : JMP 0x008cae20
008cae1b : SBB EAX,EAX
008cae1d : SBB EAX,-0x1
008cae20 : CMP EAX,EBX
008cae22 : JNZ 0x008cae36
008cae24 : MOV EDX,dword ptr [ESP + 0x10]
008cae28 : MOV CX,word ptr [EDX + 0x38]
008cae2c : CALL 0x008ca490
008cae31 : JMP 0x008caf47
008cae36 : CMP EDI,0x8
008cae39 : JC 0x008cae3f
008cae3b : MOV EAX,dword ptr [ESI]
008cae3d : JMP 0x008cae41
008cae3f : MOV EAX,ESI
008cae41 : MOV ECX,0xc52ff0
008cae46 : MOV DX,word ptr [EAX]
008cae49 : CMP DX,word ptr [ECX]
008cae4c : JNZ 0x008cae6c
008cae4e : CMP DX,BX
008cae51 : JZ 0x008cae68
008cae53 : MOV DX,word ptr [EAX + 0x2]
008cae57 : CMP DX,word ptr [ECX + 0x2]
008cae5b : JNZ 0x008cae6c
008cae5d : ADD EAX,0x4
008cae60 : ADD ECX,0x4
008cae63 : CMP DX,BX
008cae66 : JNZ 0x008cae46
008cae68 : XOR EAX,EAX
008cae6a : JMP 0x008cae71
008cae6c : SBB EAX,EAX
008cae6e : SBB EAX,-0x1
008cae71 : CMP EAX,EBX
008cae73 : JNZ 0x008cae85
008cae75 : MOV ECX,dword ptr [ESP + 0x10]
008cae79 : MOV EAX,dword ptr [ECX]
008cae7b : MOV EDX,dword ptr [EAX + 0x24]
008cae7e : CALL EDX
008cae80 : JMP 0x008caf47
008cae85 : CMP EDI,0x8
008cae88 : JC 0x008cae8e
008cae8a : MOV EAX,dword ptr [ESI]
008cae8c : JMP 0x008cae90
008cae8e : MOV EAX,ESI
008cae90 : MOV ECX,0xc52ffc
008cae95 : MOV DX,word ptr [EAX]
008cae98 : CMP DX,word ptr [ECX]
008cae9b : JNZ 0x008caebb
008cae9d : CMP DX,BX
008caea0 : JZ 0x008caeb7
008caea2 : MOV DX,word ptr [EAX + 0x2]
008caea6 : CMP DX,word ptr [ECX + 0x2]
008caeaa : JNZ 0x008caebb
008caeac : ADD EAX,0x4
008caeaf : ADD ECX,0x4
008caeb2 : CMP DX,BX
008caeb5 : JNZ 0x008cae95
008caeb7 : XOR EAX,EAX
008caeb9 : JMP 0x008caec0
008caebb : SBB EAX,EAX
008caebd : SBB EAX,-0x1
008caec0 : CMP EAX,EBX
008caec2 : JNZ 0x008caf47
008caec8 : MOV ECX,dword ptr [ESP + 0x2c]
008caecc : MOV ESI,dword ptr [ESP + 0x28]
008caed0 : SUB ECX,ESI
008caed2 : MOV EAX,0x92492493
008caed7 : IMUL ECX
008caed9 : ADD EDX,ECX
008caedb : SAR EDX,0x4
008caede : MOV EAX,EDX
008caee0 : SHR EAX,0x1f
008caee3 : ADD EAX,EDX
008caee5 : CMP EAX,0x1
008caee8 : JNC 0x008caf25
008caeea : MOV byte ptr [ESP + 0x98],0x3
008caef2 : LEA ESI,[ESP + 0x24]
008caef6 : CALL 0x004042c0
008caefb : MOV byte ptr [ESP + 0x98],0x2
008caf03 : LEA ECX,[ESP + 0x6c]
008caf07 : CALL 0x00406560
008caf0c : MOV dword ptr [ESP + 0x98],0xffffffff
008caf17 : LEA ESI,[ESP + 0x14]
008caf1b : CALL 0x004042c0
008caf20 : JMP 0x008cafea
008caf25 : CMP dword ptr [ESI + 0x18],0x8
008caf29 : JC 0x008caf30
008caf2b : MOV ESI,dword ptr [ESI + 0x4]
008caf2e : JMP 0x008caf33
008caf30 : ADD ESI,0x4
008caf33 : PUSH ESI
008caf34 : CALL 0x00634f4d
008caf39 : MOV ECX,dword ptr [ESP + 0x14]
008caf3d : ADD ESP,0x4
008caf40 : PUSH EAX
008caf41 : PUSH ECX
008caf42 : CALL 0x008ca330
008caf47 : MOV byte ptr [ESP + 0x98],0x3
008caf4f : MOV EAX,dword ptr [ESP + 0x28]
008caf53 : CMP EAX,EBX
008caf55 : JZ 0x008caf71
008caf57 : MOV EDX,dword ptr [ESP + 0x10]
008caf5b : MOV EDI,dword ptr [ESP + 0x2c]
008caf5f : PUSH EDX
008caf60 : CALL 0x00405450
008caf65 : MOV ECX,dword ptr [ESP + 0x2c]
008caf69 : ADD ESP,0x4
008caf6c : CALL 0x006f04e0
008caf71 : MOV dword ptr [ESP + 0x28],EBX
008caf75 : MOV dword ptr [ESP + 0x2c],EBX
008caf79 : MOV dword ptr [ESP + 0x30],EBX
008caf7d : MOV byte ptr [ESP + 0x98],0x2
008caf85 : CMP dword ptr [ESP + 0x84],0x8
008caf8d : JC 0x008caf98
008caf8f : MOV ECX,dword ptr [ESP + 0x70]
008caf93 : CALL 0x006f04e0
008caf98 : XOR EAX,EAX
008caf9a : MOV dword ptr [ESP + 0x84],0x7
008cafa5 : MOV dword ptr [ESP + 0x80],EBX
008cafac : MOV word ptr [ESP + 0x70],AX
008cafb1 : MOV dword ptr [ESP + 0x98],0xffffffff
008cafbc : MOV EAX,dword ptr [ESP + 0x18]
008cafc0 : CMP EAX,EBX
008cafc2 : JZ 0x008cafde
008cafc4 : MOV ECX,dword ptr [ESP + 0x10]
008cafc8 : PUSH ECX
008cafc9 : MOV EDI,dword ptr [ESP + 0x20]
008cafcd : CALL 0x00405450
008cafd2 : MOV ECX,dword ptr [ESP + 0x1c]
008cafd6 : ADD ESP,0x4
008cafd9 : CALL 0x006f04e0
008cafde : MOV dword ptr [ESP + 0x20],EBX
008cafe2 : MOV dword ptr [ESP + 0x1c],EBX
008cafe6 : MOV dword ptr [ESP + 0x18],EBX
008cafea : MOV ECX,dword ptr [ESP + 0x90]
008caff1 : MOV dword ptr FS:[0x0],ECX
008caff8 : POP ECX
008caff9 : POP EDI
008caffa : POP ESI
008caffb : POP EBX
008caffc : MOV ECX,dword ptr [ESP + 0x78]
008cb000 : XOR ECX,ESP
008cb002 : CALL 0x00633e6b
008cb007 : MOV ESP,EBP
008cb009 : POP EBP
008cb00a : RET 0x8
