PROGRAM  : Maestia.exe
FUNCTION : FUN_008e71c0
ENTRY    : 008e71c0
BODY     : [[008e71c0, 008e753a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008e71c0(int param_1,undefined4 param_2)

{
  wchar_t wVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  int *in_ECX;
  wchar_t *pwVar5;
  wchar_t *pwVar6;
  wchar_t *pwVar7;
  bool bVar8;
  undefined1 local_60 [4];
  int local_5c;
  undefined1 local_50 [4];
  undefined2 local_4c;
  undefined4 local_3c;
  uint local_38;
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b6b17d;
  local_14 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xffffff90;
  ExceptionList = &local_14;
  local_38 = 7;
  local_3c = 0;
  local_4c = 0;
  FUN_00406360(&DAT_00c5a1fc,1);
  local_c = 0;
  uVar3 = FUN_00403dd0(param_2,uVar2);
  local_c._0_1_ = 1;
  FUN_0070cd60(local_60,uVar3,local_50,0);
  local_c = CONCAT31(local_c._1_3_,3);
  if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_1c = 7;
  local_20 = 0;
  local_30 = 0;
  local_c = CONCAT31(local_c._1_3_,4);
  if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_4c = 0;
  local_38 = 7;
  local_3c = 0;
  FUN_00993900(param_1,param_2);
  uVar2 = *(uint *)(param_1 + 0x18);
  pwVar7 = (wchar_t *)(param_1 + 4);
  pwVar6 = pwVar7;
  if (7 < uVar2) {
    pwVar6 = *(wchar_t **)pwVar7;
  }
  pwVar5 = L"MailRead";
  do {
    wVar1 = *pwVar6;
    bVar8 = (ushort)wVar1 < (ushort)*pwVar5;
    if (wVar1 != *pwVar5) {
LAB_008e72e6:
      iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
      goto LAB_008e72eb;
    }
    if (wVar1 == L'\0') break;
    wVar1 = pwVar6[1];
    bVar8 = (ushort)wVar1 < (ushort)pwVar5[1];
    if (wVar1 != pwVar5[1]) goto LAB_008e72e6;
    pwVar6 = pwVar6 + 2;
    pwVar5 = pwVar5 + 2;
  } while (wVar1 != L'\0');
  iVar4 = 0;
LAB_008e72eb:
  if (iVar4 == 0) {
    uVar2 = *(uint *)(local_5c + 0x18);
    pwVar7 = (wchar_t *)(local_5c + 4);
    pwVar6 = pwVar7;
    if (7 < uVar2) {
      pwVar6 = *(wchar_t **)pwVar7;
    }
    pwVar5 = L"Receive";
    do {
      wVar1 = *pwVar6;
      bVar8 = (ushort)wVar1 < (ushort)*pwVar5;
      if (wVar1 != *pwVar5) {
LAB_008e7336:
        iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
        goto LAB_008e733b;
      }
      if (wVar1 == L'\0') break;
      wVar1 = pwVar6[1];
      bVar8 = (ushort)wVar1 < (ushort)pwVar5[1];
      if (wVar1 != pwVar5[1]) goto LAB_008e7336;
      pwVar6 = pwVar6 + 2;
      pwVar5 = pwVar5 + 2;
    } while (wVar1 != L'\0');
    iVar4 = 0;
LAB_008e733b:
    if (iVar4 == 0) {
      FUN_008e68a0();
    }
    else {
      pwVar6 = pwVar7;
      if (7 < uVar2) {
        pwVar6 = *(wchar_t **)pwVar7;
      }
      pwVar5 = L"Close";
      do {
        wVar1 = *pwVar6;
        bVar8 = (ushort)wVar1 < (ushort)*pwVar5;
        if (wVar1 != *pwVar5) {
LAB_008e7386:
          iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
          goto LAB_008e738b;
        }
        if (wVar1 == L'\0') break;
        wVar1 = pwVar6[1];
        bVar8 = (ushort)wVar1 < (ushort)pwVar5[1];
        if (wVar1 != pwVar5[1]) goto LAB_008e7386;
        pwVar6 = pwVar6 + 2;
        pwVar5 = pwVar5 + 2;
      } while (wVar1 != L'\0');
      iVar4 = 0;
LAB_008e738b:
      if (iVar4 == 0) {
        (**(code **)(*in_ECX + 0x20))();
      }
      else {
        pwVar6 = pwVar7;
        if (7 < uVar2) {
          pwVar6 = *(wchar_t **)pwVar7;
        }
        pwVar5 = L"Answer";
        do {
          wVar1 = *pwVar6;
          bVar8 = (ushort)wVar1 < (ushort)*pwVar5;
          if (wVar1 != *pwVar5) {
LAB_008e73d6:
            iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
            goto LAB_008e73db;
          }
          if (wVar1 == L'\0') break;
          wVar1 = pwVar6[1];
          bVar8 = (ushort)wVar1 < (ushort)pwVar5[1];
          if (wVar1 != pwVar5[1]) goto LAB_008e73d6;
          pwVar6 = pwVar6 + 2;
          pwVar5 = pwVar5 + 2;
        } while (wVar1 != L'\0');
        iVar4 = 0;
LAB_008e73db:
        if (iVar4 == 0) {
          FUN_008e6970();
        }
        else {
          if (7 < uVar2) {
            pwVar7 = *(wchar_t **)pwVar7;
          }
          pwVar6 = L"LoadComplete";
          do {
            wVar1 = *pwVar7;
            bVar8 = (ushort)wVar1 < (ushort)*pwVar6;
            if (wVar1 != *pwVar6) {
LAB_008e7426:
              iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
              goto LAB_008e742b;
            }
            if (wVar1 == L'\0') break;
            wVar1 = pwVar7[1];
            bVar8 = (ushort)wVar1 < (ushort)pwVar6[1];
            if (wVar1 != pwVar6[1]) goto LAB_008e7426;
            pwVar7 = pwVar7 + 2;
            pwVar6 = pwVar6 + 2;
          } while (wVar1 != L'\0');
          iVar4 = 0;
LAB_008e742b:
          if (iVar4 == 0) {
            FUN_008e6a60();
          }
        }
      }
    }
  }
  else {
    pwVar6 = pwVar7;
    if (7 < uVar2) {
      pwVar6 = *(wchar_t **)pwVar7;
    }
    pwVar5 = L"onLButtonDown";
    do {
      wVar1 = *pwVar6;
      bVar8 = (ushort)wVar1 < (ushort)*pwVar5;
      if (wVar1 != *pwVar5) {
LAB_008e7477:
        iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
        goto LAB_008e747c;
      }
      if (wVar1 == L'\0') break;
      wVar1 = pwVar6[1];
      bVar8 = (ushort)wVar1 < (ushort)pwVar5[1];
      if (wVar1 != pwVar5[1]) goto LAB_008e7477;
      pwVar6 = pwVar6 + 2;
      pwVar5 = pwVar5 + 2;
    } while (wVar1 != L'\0');
    iVar4 = 0;
LAB_008e747c:
    if (iVar4 != 0) {
      if (7 < uVar2) {
        pwVar7 = *(wchar_t **)pwVar7;
      }
      pwVar6 = L"onLButtonDblClick";
      do {
        wVar1 = *pwVar7;
        bVar8 = (ushort)wVar1 < (ushort)*pwVar6;
        if (wVar1 != *pwVar6) {
LAB_008e74b6:
          iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
          goto LAB_008e74bb;
        }
        if (wVar1 == L'\0') break;
        wVar1 = pwVar7[1];
        bVar8 = (ushort)wVar1 < (ushort)pwVar6[1];
        if (wVar1 != pwVar6[1]) goto LAB_008e74b6;
        pwVar7 = pwVar7 + 2;
        pwVar6 = pwVar6 + 2;
      } while (wVar1 != L'\0');
      iVar4 = 0;
LAB_008e74bb:
      if (iVar4 != 0) goto LAB_008e74f0;
    }
    if (*(uint *)(local_5c + 0x18) < 8) {
      iVar4 = local_5c + 4;
    }
    else {
      iVar4 = *(int *)(local_5c + 4);
    }
    uVar3 = FUN_00634f4d(iVar4);
    *(undefined2 *)((int)in_ECX + 0x6a) = 0;
    *(undefined2 *)(in_ECX + 0x1a) = 0;
    FUN_008e67b0(uVar3);
  }
LAB_008e74f0:
  local_c = 0xffffffff;
  if (local_5c == 0) {
    ExceptionList = local_14;
    return;
  }
  FUN_00405450(in_ECX);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
008e71c0 : PUSH EBP
008e71c1 : MOV EBP,ESP
008e71c3 : AND ESP,0xfffffff8
008e71c6 : PUSH -0x1
008e71c8 : PUSH 0xb6b17d
008e71cd : MOV EAX,FS:[0x0]
008e71d3 : PUSH EAX
008e71d4 : SUB ESP,0x50
008e71d7 : PUSH EBX
008e71d8 : PUSH ESI
008e71d9 : PUSH EDI
008e71da : MOV EAX,[0x00d66fa0]
008e71df : XOR EAX,ESP
008e71e1 : PUSH EAX
008e71e2 : LEA EAX,[ESP + 0x60]
008e71e6 : MOV FS:[0x0],EAX
008e71ec : MOV dword ptr [ESP + 0x10],ECX
008e71f0 : PUSH 0x1
008e71f2 : XOR EAX,EAX
008e71f4 : MOV EBX,0x7
008e71f9 : XOR ESI,ESI
008e71fb : PUSH 0xc5a1fc
008e7200 : LEA ECX,[ESP + 0x2c]
008e7204 : MOV dword ptr [ESP + 0x44],EBX
008e7208 : MOV dword ptr [ESP + 0x40],ESI
008e720c : MOV word ptr [ESP + 0x30],AX
008e7211 : CALL 0x00406360
008e7216 : MOV dword ptr [ESP + 0x68],ESI
008e721a : MOV EDI,dword ptr [EBP + 0xc]
008e721d : PUSH EDI
008e721e : LEA ESI,[ESP + 0x44]
008e7222 : CALL 0x00403dd0
008e7227 : ADD ESP,0x4
008e722a : MOV byte ptr [ESP + 0x68],0x1
008e722f : PUSH 0x0
008e7231 : LEA ECX,[ESP + 0x28]
008e7235 : PUSH ECX
008e7236 : PUSH EAX
008e7237 : LEA EDX,[ESP + 0x20]
008e723b : PUSH EDX
008e723c : CALL 0x0070cd60
008e7241 : ADD ESP,0x10
008e7244 : MOV byte ptr [ESP + 0x68],0x3
008e7249 : CMP dword ptr [ESP + 0x58],0x8
008e724e : JC 0x008e7259
008e7250 : MOV ECX,dword ptr [ESP + 0x44]
008e7254 : CALL 0x006f04e0
008e7259 : XOR EAX,EAX
008e725b : MOV dword ptr [ESP + 0x58],EBX
008e725f : MOV dword ptr [ESP + 0x54],0x0
008e7267 : MOV word ptr [ESP + 0x44],AX
008e726c : MOV byte ptr [ESP + 0x68],0x4
008e7271 : CMP dword ptr [ESP + 0x3c],0x8
008e7276 : JC 0x008e7281
008e7278 : MOV ECX,dword ptr [ESP + 0x28]
008e727c : CALL 0x006f04e0
008e7281 : MOV ESI,dword ptr [EBP + 0x8]
008e7284 : XOR ECX,ECX
008e7286 : PUSH EDI
008e7287 : MOV word ptr [ESP + 0x2c],CX
008e728c : MOV ECX,dword ptr [ESP + 0x14]
008e7290 : PUSH ESI
008e7291 : MOV dword ptr [ESP + 0x44],EBX
008e7295 : MOV dword ptr [ESP + 0x40],0x0
008e729d : CALL 0x00993900
008e72a2 : MOV EDI,dword ptr [ESI + 0x18]
008e72a5 : ADD ESI,0x4
008e72a8 : CMP EDI,0x8
008e72ab : JC 0x008e72b1
008e72ad : MOV EAX,dword ptr [ESI]
008e72af : JMP 0x008e72b3
008e72b1 : MOV EAX,ESI
008e72b3 : MOV ECX,0xc5a200
008e72b8 : XOR EBX,EBX
008e72ba : LEA EBX,[EBX]
008e72c0 : MOV DX,word ptr [EAX]
008e72c3 : CMP DX,word ptr [ECX]
008e72c6 : JNZ 0x008e72e6
008e72c8 : CMP DX,BX
008e72cb : JZ 0x008e72e2
008e72cd : MOV DX,word ptr [EAX + 0x2]
008e72d1 : CMP DX,word ptr [ECX + 0x2]
008e72d5 : JNZ 0x008e72e6
008e72d7 : ADD EAX,0x4
008e72da : ADD ECX,0x4
008e72dd : CMP DX,BX
008e72e0 : JNZ 0x008e72c0
008e72e2 : XOR EAX,EAX
008e72e4 : JMP 0x008e72eb
008e72e6 : SBB EAX,EAX
008e72e8 : SBB EAX,-0x1
008e72eb : CMP EAX,EBX
008e72ed : JNZ 0x008e7441
008e72f3 : MOV EAX,dword ptr [ESP + 0x18]
008e72f7 : MOV EDI,dword ptr [EAX + 0x18]
008e72fa : LEA ESI,[EAX + 0x4]
008e72fd : CMP EDI,0x8
008e7300 : JC 0x008e7306
008e7302 : MOV EAX,dword ptr [ESI]
008e7304 : JMP 0x008e7308
008e7306 : MOV EAX,ESI
008e7308 : MOV ECX,0xc5a214
008e730d : LEA ECX,[ECX]
008e7310 : MOV DX,word ptr [EAX]
008e7313 : CMP DX,word ptr [ECX]
008e7316 : JNZ 0x008e7336
008e7318 : CMP DX,BX
008e731b : JZ 0x008e7332
008e731d : MOV DX,word ptr [EAX + 0x2]
008e7321 : CMP DX,word ptr [ECX + 0x2]
008e7325 : JNZ 0x008e7336
008e7327 : ADD EAX,0x4
008e732a : ADD ECX,0x4
008e732d : CMP DX,BX
008e7330 : JNZ 0x008e7310
008e7332 : XOR EAX,EAX
008e7334 : JMP 0x008e733b
008e7336 : SBB EAX,EAX
008e7338 : SBB EAX,-0x1
008e733b : CMP EAX,EBX
008e733d : JNZ 0x008e734d
008e733f : MOV ECX,dword ptr [ESP + 0x10]
008e7343 : CALL 0x008e68a0
008e7348 : JMP 0x008e74f0
008e734d : CMP EDI,0x8
008e7350 : JC 0x008e7356
008e7352 : MOV EAX,dword ptr [ESI]
008e7354 : JMP 0x008e7358
008e7356 : MOV EAX,ESI
008e7358 : MOV ECX,0xc5a224
008e735d : LEA ECX,[ECX]
008e7360 : MOV DX,word ptr [EAX]
008e7363 : CMP DX,word ptr [ECX]
008e7366 : JNZ 0x008e7386
008e7368 : CMP DX,BX
008e736b : JZ 0x008e7382
008e736d : MOV DX,word ptr [EAX + 0x2]
008e7371 : CMP DX,word ptr [ECX + 0x2]
008e7375 : JNZ 0x008e7386
008e7377 : ADD EAX,0x4
008e737a : ADD ECX,0x4
008e737d : CMP DX,BX
008e7380 : JNZ 0x008e7360
008e7382 : XOR EAX,EAX
008e7384 : JMP 0x008e738b
008e7386 : SBB EAX,EAX
008e7388 : SBB EAX,-0x1
008e738b : CMP EAX,EBX
008e738d : JNZ 0x008e739f
008e738f : MOV ECX,dword ptr [ESP + 0x10]
008e7393 : MOV EDX,dword ptr [ECX]
008e7395 : MOV EAX,dword ptr [EDX + 0x20]
008e7398 : CALL EAX
008e739a : JMP 0x008e74f0
008e739f : CMP EDI,0x8
008e73a2 : JC 0x008e73a8
008e73a4 : MOV EAX,dword ptr [ESI]
008e73a6 : JMP 0x008e73aa
008e73a8 : MOV EAX,ESI
008e73aa : MOV ECX,0xc5a230
008e73af : NOP
008e73b0 : MOV DX,word ptr [EAX]
008e73b3 : CMP DX,word ptr [ECX]
008e73b6 : JNZ 0x008e73d6
008e73b8 : CMP DX,BX
008e73bb : JZ 0x008e73d2
008e73bd : MOV DX,word ptr [EAX + 0x2]
008e73c1 : CMP DX,word ptr [ECX + 0x2]
008e73c5 : JNZ 0x008e73d6
008e73c7 : ADD EAX,0x4
008e73ca : ADD ECX,0x4
008e73cd : CMP DX,BX
008e73d0 : JNZ 0x008e73b0
008e73d2 : XOR EAX,EAX
008e73d4 : JMP 0x008e73db
008e73d6 : SBB EAX,EAX
008e73d8 : SBB EAX,-0x1
008e73db : CMP EAX,EBX
008e73dd : JNZ 0x008e73ed
008e73df : MOV ECX,dword ptr [ESP + 0x10]
008e73e3 : CALL 0x008e6970
008e73e8 : JMP 0x008e74f0
008e73ed : CMP EDI,0x8
008e73f0 : JC 0x008e73f6
008e73f2 : MOV EAX,dword ptr [ESI]
008e73f4 : JMP 0x008e73f8
008e73f6 : MOV EAX,ESI
008e73f8 : MOV ECX,0xc5a240
008e73fd : LEA ECX,[ECX]
008e7400 : MOV DX,word ptr [EAX]
008e7403 : CMP DX,word ptr [ECX]
008e7406 : JNZ 0x008e7426
008e7408 : CMP DX,BX
008e740b : JZ 0x008e7422
008e740d : MOV DX,word ptr [EAX + 0x2]
008e7411 : CMP DX,word ptr [ECX + 0x2]
008e7415 : JNZ 0x008e7426
008e7417 : ADD EAX,0x4
008e741a : ADD ECX,0x4
008e741d : CMP DX,BX
008e7420 : JNZ 0x008e7400
008e7422 : XOR EAX,EAX
008e7424 : JMP 0x008e742b
008e7426 : SBB EAX,EAX
008e7428 : SBB EAX,-0x1
008e742b : CMP EAX,EBX
008e742d : JNZ 0x008e74f0
008e7433 : MOV ECX,dword ptr [ESP + 0x10]
008e7437 : CALL 0x008e6a60
008e743c : JMP 0x008e74f0
008e7441 : CMP EDI,0x8
008e7444 : JC 0x008e744a
008e7446 : MOV EAX,dword ptr [ESI]
008e7448 : JMP 0x008e744c
008e744a : MOV EAX,ESI
008e744c : MOV ECX,0xc5a25c
008e7451 : MOV DX,word ptr [EAX]
008e7454 : CMP DX,word ptr [ECX]
008e7457 : JNZ 0x008e7477
008e7459 : CMP DX,BX
008e745c : JZ 0x008e7473
008e745e : MOV DX,word ptr [EAX + 0x2]
008e7462 : CMP DX,word ptr [ECX + 0x2]
008e7466 : JNZ 0x008e7477
008e7468 : ADD EAX,0x4
008e746b : ADD ECX,0x4
008e746e : CMP DX,BX
008e7471 : JNZ 0x008e7451
008e7473 : XOR EAX,EAX
008e7475 : JMP 0x008e747c
008e7477 : SBB EAX,EAX
008e7479 : SBB EAX,-0x1
008e747c : CMP EAX,EBX
008e747e : JZ 0x008e74bf
008e7480 : CMP EDI,0x8
008e7483 : JC 0x008e7489
008e7485 : MOV EAX,dword ptr [ESI]
008e7487 : JMP 0x008e748b
008e7489 : MOV EAX,ESI
008e748b : MOV ECX,0xc5a278
008e7490 : MOV DX,word ptr [EAX]
008e7493 : CMP DX,word ptr [ECX]
008e7496 : JNZ 0x008e74b6
008e7498 : CMP DX,BX
008e749b : JZ 0x008e74b2
008e749d : MOV DX,word ptr [EAX + 0x2]
008e74a1 : CMP DX,word ptr [ECX + 0x2]
008e74a5 : JNZ 0x008e74b6
008e74a7 : ADD EAX,0x4
008e74aa : ADD ECX,0x4
008e74ad : CMP DX,BX
008e74b0 : JNZ 0x008e7490
008e74b2 : XOR EAX,EAX
008e74b4 : JMP 0x008e74bb
008e74b6 : SBB EAX,EAX
008e74b8 : SBB EAX,-0x1
008e74bb : CMP EAX,EBX
008e74bd : JNZ 0x008e74f0
008e74bf : MOV EAX,dword ptr [ESP + 0x18]
008e74c3 : CMP dword ptr [EAX + 0x18],0x8
008e74c7 : JC 0x008e74ce
008e74c9 : MOV EAX,dword ptr [EAX + 0x4]
008e74cc : JMP 0x008e74d1
008e74ce : ADD EAX,0x4
008e74d1 : PUSH EAX
008e74d2 : CALL 0x00634f4d
008e74d7 : MOV ESI,dword ptr [ESP + 0x14]
008e74db : ADD ESP,0x4
008e74de : XOR ECX,ECX
008e74e0 : XOR EDX,EDX
008e74e2 : PUSH EAX
008e74e3 : MOV word ptr [ESI + 0x6a],CX
008e74e7 : MOV word ptr [ESI + 0x68],DX
008e74eb : CALL 0x008e67b0
008e74f0 : MOV dword ptr [ESP + 0x68],0xffffffff
008e74f8 : MOV EAX,dword ptr [ESP + 0x18]
008e74fc : CMP EAX,EBX
008e74fe : JZ 0x008e751a
008e7500 : MOV ECX,dword ptr [ESP + 0x10]
008e7504 : MOV EDI,dword ptr [ESP + 0x1c]
008e7508 : PUSH ECX
008e7509 : CALL 0x00405450
008e750e : MOV ECX,dword ptr [ESP + 0x1c]
008e7512 : ADD ESP,0x4
008e7515 : CALL 0x006f04e0
008e751a : MOV dword ptr [ESP + 0x18],EBX
008e751e : MOV dword ptr [ESP + 0x1c],EBX
008e7522 : MOV dword ptr [ESP + 0x20],EBX
008e7526 : MOV ECX,dword ptr [ESP + 0x60]
008e752a : MOV dword ptr FS:[0x0],ECX
008e7531 : POP ECX
008e7532 : POP EDI
008e7533 : POP ESI
008e7534 : POP EBX
008e7535 : MOV ESP,EBP
008e7537 : POP EBP
008e7538 : RET 0x8
