PROGRAM  : Maestia.exe
FUNCTION : FUN_006a9bb0
ENTRY    : 006a9bb0
BODY     : [[006a9bb0, 006a9c50]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006a9bb0(int *param_1)

{
  undefined4 uVar1;
  int *in_EAX;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  int local_4;
  
  local_4 = 0;
  uVar1 = *(undefined4 *)(*in_EAX + 0x1c);
  *param_1 = 0;
  if ((((in_EAX[6] != 0) || (local_4 = FUN_006a9a30(), local_4 == 0)) && (in_EAX[2] != 0)) &&
     (iVar2 = FUN_0068a220(uVar1,4,0,in_EAX[2] + 1,0,&local_4), local_4 == 0)) {
    uVar6 = in_EAX[2];
    uVar4 = 0;
    uVar5 = 1;
    do {
      uVar3 = *(uint *)(in_EAX[6] + uVar4 * 4);
      if (((uVar3 == 0) || (uVar3 < uVar5)) || (((uint)in_EAX[5] <= uVar3 - 1 && (uVar4 < uVar6))))
      {
        uVar3 = uVar5;
      }
      *(uint *)(iVar2 + uVar4 * 4) = in_EAX[7] + -1 + uVar3;
      uVar6 = in_EAX[2];
      uVar4 = uVar4 + 1;
      uVar5 = uVar3;
    } while (uVar4 <= uVar6);
    *param_1 = iVar2;
  }
  return local_4;
}



============================================================
DISASSEMBLY
============================================================
006a9bb0 : PUSH ECX
006a9bb1 : MOV EDX,dword ptr [ESP + 0x8]
006a9bb5 : PUSH ESI
006a9bb6 : PUSH EDI
006a9bb7 : MOV EDI,EAX
006a9bb9 : MOV ECX,dword ptr [EDI]
006a9bbb : XOR EAX,EAX
006a9bbd : MOV dword ptr [ESP + 0x8],EAX
006a9bc1 : MOV ESI,dword ptr [ECX + 0x1c]
006a9bc4 : MOV dword ptr [EDX],EAX
006a9bc6 : CMP dword ptr [EDI + 0x18],EAX
006a9bc9 : JNZ 0x006a9bd8
006a9bcb : CALL 0x006a9a30
006a9bd0 : MOV dword ptr [ESP + 0x8],EAX
006a9bd4 : TEST EAX,EAX
006a9bd6 : JNZ 0x006a9c4d
006a9bd8 : MOV ECX,dword ptr [EDI + 0x8]
006a9bdb : TEST ECX,ECX
006a9bdd : JBE 0x006a9c4d
006a9bdf : PUSH EBP
006a9be0 : LEA EAX,[ESP + 0xc]
006a9be4 : PUSH EAX
006a9be5 : PUSH 0x0
006a9be7 : INC ECX
006a9be8 : PUSH ECX
006a9be9 : PUSH 0x0
006a9beb : PUSH 0x4
006a9bed : PUSH ESI
006a9bee : CALL 0x0068a220
006a9bf3 : MOV EBP,EAX
006a9bf5 : MOV EAX,dword ptr [ESP + 0x24]
006a9bf9 : ADD ESP,0x18
006a9bfc : TEST EAX,EAX
006a9bfe : JNZ 0x006a9c4c
006a9c00 : MOV ESI,dword ptr [EDI + 0x8]
006a9c03 : PUSH EBX
006a9c04 : LEA EBX,[EAX + 0x1]
006a9c07 : XOR EDX,EDX
006a9c09 : LEA ESP,[ESP]
006a9c10 : MOV ECX,dword ptr [EDI + 0x18]
006a9c13 : MOV ECX,dword ptr [ECX + EDX*0x4]
006a9c16 : TEST ECX,ECX
006a9c18 : JZ 0x006a9c2a
006a9c1a : CMP ECX,EBX
006a9c1c : JC 0x006a9c2a
006a9c1e : LEA EAX,[ECX + -0x1]
006a9c21 : CMP EAX,dword ptr [EDI + 0x14]
006a9c24 : JC 0x006a9c2c
006a9c26 : CMP EDX,ESI
006a9c28 : JNC 0x006a9c2c
006a9c2a : MOV ECX,EBX
006a9c2c : MOV EAX,dword ptr [EDI + 0x1c]
006a9c2f : LEA EAX,[EAX + ECX*0x1 + -0x1]
006a9c33 : MOV dword ptr [EBP + EDX*0x4],EAX
006a9c37 : MOV ESI,dword ptr [EDI + 0x8]
006a9c3a : INC EDX
006a9c3b : MOV EBX,ECX
006a9c3d : CMP EDX,ESI
006a9c3f : JBE 0x006a9c10
006a9c41 : MOV ECX,dword ptr [ESP + 0x18]
006a9c45 : MOV EAX,dword ptr [ESP + 0x10]
006a9c49 : MOV dword ptr [ECX],EBP
006a9c4b : POP EBX
006a9c4c : POP EBP
006a9c4d : POP EDI
006a9c4e : POP ESI
006a9c4f : POP ECX
006a9c50 : RET
