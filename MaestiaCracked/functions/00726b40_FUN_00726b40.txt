PROGRAM  : Maestia.exe
FUNCTION : FUN_00726b40
ENTRY    : 00726b40
BODY     : [[00726b40, 00726e1b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00726b40(int *param_1,int param_2,undefined4 param_3,byte param_4,undefined4 param_5,
                 int *param_6,undefined4 param_7,undefined4 param_8)

{
  uint uVar1;
  float *pfVar2;
  undefined4 uVar3;
  int *in_ECX;
  float10 fVar4;
  undefined1 auStack_dc [4];
  undefined1 local_d8 [4];
  int *local_d4;
  int local_d0 [2];
  LPCRITICAL_SECTION local_c8;
  int iStack_bc;
  undefined1 auStack_b4 [32];
  undefined1 auStack_94 [36];
  undefined1 local_70 [28];
  undefined4 local_54;
  uint local_50;
  undefined4 local_4c;
  float local_48;
  float local_44;
  float local_40;
  undefined4 uStack_3c;
  undefined4 local_38;
  undefined4 local_34;
  float fStack_30;
  undefined4 local_2c;
  undefined4 local_28;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  uint local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b306b2;
  local_14 = ExceptionList;
  local_1c = DAT_00d66fa0 ^ (uint)auStack_dc;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffff18;
  ExceptionList = &local_14;
  local_d0[0] = param_2;
  local_d4 = param_6;
  if ((((*param_1 != 0) && (in_ECX != (int *)0x0)) && (param_6 != (int *)0x0)) &&
     (*(int *)(DAT_017251ac + 0x18) != 0)) {
    FUN_006ef2b0(99);
    local_c = 0;
    FUN_004c7440(local_70);
    local_c = CONCAT31(local_c._1_3_,1);
    FUN_00405eb0(local_d0[0],0,0xffffffff);
    local_50 = (uint)param_4;
    local_54 = param_3;
    local_4c = param_7;
    if (*(char *)((int)in_ECX + 0x5d) != '\0') {
      (**(code **)(*in_ECX + 0x14))(uVar1);
    }
    local_48 = (float)in_ECX[0x2e];
    local_44 = (float)in_ECX[0x2f];
    local_40 = (float)in_ECX[0x30];
    local_28 = param_8;
    local_38 = 0;
    local_34 = 0;
    local_2c = param_5;
    pfVar2 = (float *)(**(code **)(*local_d4 + 0x14))();
    fVar4 = (float10)FUN_0040f460((local_48 - *pfVar2) * (local_48 - *pfVar2) +
                                  (local_44 - pfVar2[1]) * (local_44 - pfVar2[1]) +
                                  (local_40 - pfVar2[2]) * (local_40 - pfVar2[2]));
    fVar4 = (float10)FUN_0040e8d0((float)fVar4);
    fStack_30 = (float)fVar4;
    uStack_3c = 0x3f666666;
    FUN_004c7b30(local_d8);
    if (local_d0[0] == param_1[2]) {
      FUN_0043e990(auStack_b4);
      local_c._0_1_ = 2;
      uVar3 = FUN_004c8470(auStack_94,local_d8,auStack_b4);
      local_c._0_1_ = 3;
      FUN_004c7790(local_d0,uVar3);
      local_c._0_1_ = 2;
      FUN_004c74b0(auStack_94);
      FUN_004c7b30(local_d8);
      local_c = CONCAT31(local_c._1_3_,1);
      FUN_004c75d0(auStack_b4);
    }
    FUN_004c7670(local_70);
    param_1[0xd] = (int)local_d4;
    local_c = local_c & 0xffffff00;
    FUN_0044cb00(local_70);
    local_c = 0xffffffff;
    if (iStack_bc != 0) {
      LeaveCriticalSection(local_c8);
      iStack_bc = 0;
    }
  }
  ExceptionList = local_14;
  __security_check_cookie(local_1c ^ (uint)auStack_dc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00726b40 : PUSH EBP
00726b41 : MOV EBP,ESP
00726b43 : AND ESP,0xfffffff8
00726b46 : PUSH -0x1
00726b48 : PUSH 0xb306b2
00726b4d : MOV EAX,FS:[0x0]
00726b53 : PUSH EAX
00726b54 : SUB ESP,0xc8
00726b5a : MOV EAX,[0x00d66fa0]
00726b5f : XOR EAX,ESP
00726b61 : MOV dword ptr [ESP + 0xc0],EAX
00726b68 : PUSH EBX
00726b69 : PUSH ESI
00726b6a : PUSH EDI
00726b6b : MOV EAX,[0x00d66fa0]
00726b70 : XOR EAX,ESP
00726b72 : PUSH EAX
00726b73 : LEA EAX,[ESP + 0xd8]
00726b7a : MOV FS:[0x0],EAX
00726b80 : MOV EAX,dword ptr [EBP + 0xc]
00726b83 : MOV EBX,dword ptr [EBP + 0x8]
00726b86 : CMP dword ptr [EBX],0x0
00726b89 : MOV dword ptr [ESP + 0x1c],EAX
00726b8d : MOV EAX,dword ptr [EBP + 0x1c]
00726b90 : MOV EDI,ECX
00726b92 : MOV dword ptr [ESP + 0x14],EDI
00726b96 : MOV dword ptr [ESP + 0x18],EAX
00726b9a : JZ 0x00726df6
00726ba0 : TEST EDI,EDI
00726ba2 : JZ 0x00726df6
00726ba8 : TEST EAX,EAX
00726baa : JZ 0x00726df6
00726bb0 : MOV ECX,dword ptr [0x017251ac]
00726bb6 : CMP dword ptr [ECX + 0x18],0x0
00726bba : JZ 0x00726df6
00726bc0 : PUSH 0x63
00726bc2 : LEA EAX,[EBX + 0xd0]
00726bc8 : MOV ECX,0xc01c08
00726bcd : LEA ESI,[ESP + 0x28]
00726bd1 : CALL 0x006ef2b0
00726bd6 : MOV dword ptr [ESP + 0xe0],0x0
00726be1 : LEA EDX,[ESP + 0x7c]
00726be5 : PUSH EDX
00726be6 : CALL 0x004c7440
00726beb : MOV byte ptr [ESP + 0xe0],0x1
00726bf3 : MOV EAX,dword ptr [ESP + 0x1c]
00726bf7 : PUSH -0x1
00726bf9 : PUSH 0x0
00726bfb : PUSH EAX
00726bfc : LEA ECX,[ESP + 0x88]
00726c03 : CALL 0x00405eb0
00726c08 : MOVZX EDX,byte ptr [EBP + 0x14]
00726c0c : MOV ECX,dword ptr [EBP + 0x10]
00726c0f : MOV EAX,dword ptr [EBP + 0x20]
00726c12 : MOV dword ptr [ESP + 0x98],ECX
00726c19 : MOV dword ptr [ESP + 0x9c],EDX
00726c20 : MOV dword ptr [ESP + 0xa0],EAX
00726c27 : CMP byte ptr [EDI + 0x5d],0x0
00726c2b : JZ 0x00726c36
00726c2d : MOV EDX,dword ptr [EDI]
00726c2f : MOV EAX,dword ptr [EDX + 0x14]
00726c32 : MOV ECX,EDI
00726c34 : CALL EAX
00726c36 : MOVSS XMM0,dword ptr [EDI + 0xb8]
00726c3e : MOV ECX,dword ptr [EBP + 0x24]
00726c41 : MOVSS dword ptr [ESP + 0xa4],XMM0
00726c4a : MOVSS XMM0,dword ptr [EDI + 0xbc]
00726c52 : MOVSS dword ptr [ESP + 0xa8],XMM0
00726c5b : MOVSS XMM0,dword ptr [EDI + 0xc0]
00726c63 : MOV dword ptr [ESP + 0xc4],ECX
00726c6a : MOV ECX,dword ptr [ESP + 0x18]
00726c6e : MOV EDX,dword ptr [ECX]
00726c70 : MOV EAX,dword ptr [EDX + 0x14]
00726c73 : MOVSS dword ptr [ESP + 0xac],XMM0
00726c7c : XORPS XMM0,XMM0
00726c7f : MOVSS dword ptr [ESP + 0xb4],XMM0
00726c88 : MOVSS dword ptr [ESP + 0xb8],XMM0
00726c91 : MOVSS XMM0,dword ptr [EBP + 0x18]
00726c96 : MOV dword ptr [ESP + 0xc8],EDI
00726c9d : MOVSS dword ptr [ESP + 0xc0],XMM0
00726ca6 : CALL EAX
00726ca8 : MOVSS XMM0,dword ptr [ESP + 0xa4]
00726cb1 : SUBSS XMM0,dword ptr [EAX]
00726cb5 : MOVSS XMM1,dword ptr [ESP + 0xa8]
00726cbe : SUBSS XMM1,dword ptr [EAX + 0x4]
00726cc3 : MOVSS XMM2,dword ptr [ESP + 0xac]
00726ccc : SUBSS XMM2,dword ptr [EAX + 0x8]
00726cd1 : MOVAPS XMM3,XMM0
00726cd4 : MULSS XMM3,XMM0
00726cd8 : MOVAPS XMM0,XMM1
00726cdb : MULSS XMM0,XMM1
00726cdf : ADDSS XMM3,XMM0
00726ce3 : MOVAPS XMM0,XMM2
00726ce6 : MULSS XMM0,XMM2
00726cea : PUSH ECX
00726ceb : ADDSS XMM3,XMM0
00726cef : MOVSS dword ptr [ESP],XMM3
00726cf4 : CALL 0x0040f460
00726cf9 : FSTP float ptr [ESP]
00726cfc : CALL 0x0040e8d0
00726d01 : FSTP float ptr [ESP + 0xc0]
00726d08 : MOVSS XMM0,dword ptr [0x00cdf1c4]
00726d10 : ADD ESP,0x4
00726d13 : LEA ECX,[ESP + 0x14]
00726d17 : LEA EDI,[EBX + 0x4]
00726d1a : PUSH ECX
00726d1b : LEA EAX,[ESP + 0x20]
00726d1f : MOV ECX,EDI
00726d21 : MOVSS dword ptr [ESP + 0xb4],XMM0
00726d2a : CALL 0x004c7b30
00726d2f : MOV EAX,dword ptr [EBX + 0x8]
00726d32 : MOV ESI,dword ptr [ESP + 0x1c]
00726d36 : CMP ESI,EAX
00726d38 : JNZ 0x00726dab
00726d3a : LEA EDX,[ESP + 0x38]
00726d3e : PUSH EDX
00726d3f : CALL 0x0043e990
00726d44 : MOV byte ptr [ESP + 0xe0],0x2
00726d4c : LEA EAX,[ESP + 0x38]
00726d50 : PUSH EAX
00726d51 : LEA ECX,[ESP + 0x18]
00726d55 : PUSH ECX
00726d56 : LEA EDX,[ESP + 0x60]
00726d5a : PUSH EDX
00726d5b : CALL 0x004c8470
00726d60 : MOV byte ptr [ESP + 0xe0],0x3
00726d68 : PUSH EAX
00726d69 : LEA EAX,[ESP + 0x20]
00726d6d : PUSH EAX
00726d6e : MOV EAX,EDI
00726d70 : CALL 0x004c7790
00726d75 : MOV byte ptr [ESP + 0xe0],0x2
00726d7d : LEA ECX,[ESP + 0x58]
00726d81 : PUSH ECX
00726d82 : CALL 0x004c74b0
00726d87 : LEA EDX,[ESP + 0x14]
00726d8b : PUSH EDX
00726d8c : LEA EAX,[ESP + 0x20]
00726d90 : MOV ECX,EDI
00726d92 : CALL 0x004c7b30
00726d97 : MOV ESI,dword ptr [EAX]
00726d99 : MOV byte ptr [ESP + 0xe0],0x1
00726da1 : LEA EAX,[ESP + 0x38]
00726da5 : PUSH EAX
00726da6 : CALL 0x004c75d0
00726dab : LEA ECX,[ESP + 0x7c]
00726daf : PUSH ECX
00726db0 : LEA EAX,[ESI + 0x10]
00726db3 : CALL 0x004c7670
00726db8 : MOV EDX,dword ptr [ESP + 0x18]
00726dbc : MOV dword ptr [EBX + 0x34],EDX
00726dbf : MOV byte ptr [ESP + 0xe0],0x0
00726dc7 : LEA EAX,[ESP + 0x7c]
00726dcb : PUSH EAX
00726dcc : CALL 0x0044cb00
00726dd1 : MOV dword ptr [ESP + 0xe0],0xffffffff
00726ddc : CMP dword ptr [ESP + 0x30],0x0
00726de1 : JZ 0x00726df6
00726de3 : MOV ECX,dword ptr [ESP + 0x24]
00726de7 : PUSH ECX
00726de8 : CALL dword ptr [0x00b8511c]
00726dee : MOV dword ptr [ESP + 0x30],0x0
00726df6 : MOV ECX,dword ptr [ESP + 0xd8]
00726dfd : MOV dword ptr FS:[0x0],ECX
00726e04 : POP ECX
00726e05 : POP EDI
00726e06 : POP ESI
00726e07 : POP EBX
00726e08 : MOV ECX,dword ptr [ESP + 0xc0]
00726e0f : XOR ECX,ESP
00726e11 : CALL 0x00633e6b
00726e16 : MOV ESP,EBP
00726e18 : POP EBP
00726e19 : RET 0x20
