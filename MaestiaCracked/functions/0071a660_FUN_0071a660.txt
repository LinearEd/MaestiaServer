PROGRAM  : Maestia.exe
FUNCTION : FUN_0071a660
ENTRY    : 0071a660
BODY     : [[0071a660, 0071a7f1]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0071a660(int param_1,int param_2)

{
  float *pfVar1;
  undefined8 uVar2;
  undefined4 uVar3;
  int *piVar4;
  undefined4 *puVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  undefined8 *puVar9;
  int *piVar10;
  int in_ECX;
  float fVar11;
  float local_14;
  float fStack_10;
  
  if (*(int *)(in_ECX + 4) == 0) {
    return 0xffffffff;
  }
  if ((param_2 != 0) && (param_1 != 0)) {
    if (*(int *)(in_ECX + 8) == -1) {
      puVar5 = (undefined4 *)FUN_004c5390();
      *(undefined4 *)(in_ECX + 8) = *puVar5;
      *(undefined4 *)(in_ECX + 0xc) = 0;
    }
    iVar6 = FUN_004c5390();
    iVar8 = *(int *)(param_1 + 0x164);
    iVar7 = FUN_004c5390();
    iVar7 = *(int *)(iVar7 + 4);
    piVar10 = (int *)(iVar6 + 8 + iVar7 * 0xc);
    iVar8 = FUN_00614400(*(undefined4 *)(iVar8 + 0x128));
    piVar10[2] = iVar8;
    piVar10[1] = param_2 + 0x54;
    pfVar1 = (float *)(param_2 + 0x20);
    if (*(char *)(*(int *)(in_ECX + 4) + 0x18) == '\0') {
      piVar4 = *(int **)(*(int *)(in_ECX + 4) + 0x1c);
      if (*(char *)((int)piVar4 + 0x5d) != '\0') {
        (**(code **)(*piVar4 + 0x14))();
      }
      uVar2 = *(undefined8 *)(piVar4 + 0x2e);
      fVar11 = (float)piVar4[0x30];
      local_14 = (float)uVar2;
      *pfVar1 = *pfVar1 + local_14;
      fStack_10 = (float)((ulonglong)uVar2 >> 0x20);
      *(float *)(param_2 + 0x24) = *(float *)(param_2 + 0x24) + fStack_10;
      fVar11 = *(float *)(param_2 + 0x28) + fVar11;
    }
    else {
      if (*(char *)(param_2 + 100) == '\0') {
        *(undefined1 *)(param_2 + 100) = 1;
        puVar9 = (undefined8 *)FUN_007cc270();
        uVar2 = *puVar9;
        uVar3 = *(undefined4 *)(puVar9 + 1);
        local_14 = (float)uVar2;
        *(float *)(param_2 + 0x65) = local_14;
        fStack_10 = (float)((ulonglong)uVar2 >> 0x20);
        *(float *)(param_2 + 0x69) = fStack_10;
        *(undefined4 *)(param_2 + 0x6d) = uVar3;
      }
      *pfVar1 = *pfVar1 + *(float *)(param_2 + 0x65);
      *(float *)(param_2 + 0x24) = *(float *)(param_2 + 0x69) + *(float *)(param_2 + 0x24);
      fVar11 = *(float *)(param_2 + 0x6d) + *(float *)(param_2 + 0x28);
    }
    *(float *)(param_2 + 0x28) = fVar11;
    *piVar10 = (int)pfVar1;
    iVar8 = FUN_004c5390();
    *(int *)(iVar8 + 4) = iVar7 + 1;
    *(int *)(in_ECX + 0xc) = *(int *)(in_ECX + 0xc) + 1;
    piVar10 = (int *)FUN_004c5390();
    iVar8 = *piVar10;
    piVar10 = (int *)FUN_004c5390();
    *piVar10 = iVar8 + 1;
    return 0;
  }
  return 0xffffffff;
}



============================================================
DISASSEMBLY
============================================================
0071a660 : PUSH EBP
0071a661 : MOV EBP,ESP
0071a663 : SUB ESP,0x10
0071a666 : PUSH ESI
0071a667 : MOV ESI,ECX
0071a669 : CMP dword ptr [ESI + 0x4],0x0
0071a66d : MOV dword ptr [EBP + -0x4],ESI
0071a670 : JNZ 0x0071a67c
0071a672 : OR EAX,0xffffffff
0071a675 : POP ESI
0071a676 : MOV ESP,EBP
0071a678 : POP EBP
0071a679 : RET 0x8
0071a67c : PUSH EBX
0071a67d : PUSH EDI
0071a67e : MOV EDI,dword ptr [EBP + 0xc]
0071a681 : TEST EDI,EDI
0071a683 : JZ 0x0071a7e6
0071a689 : MOV EBX,dword ptr [EBP + 0x8]
0071a68c : TEST EBX,EBX
0071a68e : JZ 0x0071a7e6
0071a694 : CMP dword ptr [ESI + 0x8],-0x1
0071a698 : JNZ 0x0071a6ab
0071a69a : CALL 0x004c5390
0071a69f : MOV EAX,dword ptr [EAX]
0071a6a1 : MOV dword ptr [ESI + 0x8],EAX
0071a6a4 : MOV dword ptr [ESI + 0xc],0x0
0071a6ab : CALL 0x004c5390
0071a6b0 : MOV EBX,dword ptr [EBX + 0x164]
0071a6b6 : MOV ESI,EAX
0071a6b8 : ADD ESI,0x8
0071a6bb : CALL 0x004c5390
0071a6c0 : MOV EAX,dword ptr [EAX + 0x4]
0071a6c3 : MOV EDX,dword ptr [EBX + 0x128]
0071a6c9 : LEA ECX,[EAX + EAX*0x2]
0071a6cc : LEA ESI,[ESI + ECX*0x4]
0071a6cf : PUSH EDX
0071a6d0 : MOV dword ptr [EBP + 0x8],EAX
0071a6d3 : MOV dword ptr [EBP + 0xc],ESI
0071a6d6 : CALL 0x00614400
0071a6db : MOV ECX,dword ptr [EBP + -0x4]
0071a6de : MOV dword ptr [ESI + 0x8],EAX
0071a6e1 : LEA EAX,[EDI + 0x54]
0071a6e4 : MOV dword ptr [ESI + 0x4],EAX
0071a6e7 : MOV EAX,dword ptr [ECX + 0x4]
0071a6ea : ADD ESP,0x4
0071a6ed : CMP byte ptr [EAX + 0x18],0x0
0071a6f1 : LEA EBX,[EDI + 0x20]
0071a6f4 : JZ 0x0071a763
0071a6f6 : CMP byte ptr [EDI + 0x64],0x0
0071a6fa : JNZ 0x0071a73b
0071a6fc : MOV byte ptr [EDI + 0x64],0x1
0071a700 : MOV ECX,dword ptr [ECX + 0x4]
0071a703 : MOV ESI,dword ptr [ECX + 0x1c]
0071a706 : CALL 0x007cc270
0071a70b : MOVQ XMM0,qword ptr [EAX]
0071a70f : MOV EDX,dword ptr [EAX + 0x8]
0071a712 : MOV ESI,dword ptr [EBP + 0xc]
0071a715 : MOVQ qword ptr [EBP + -0x10],XMM0
0071a71a : MOVSS XMM0,dword ptr [EBP + -0x10]
0071a71f : MOVSS dword ptr [EDI + 0x65],XMM0
0071a724 : MOVSS XMM0,dword ptr [EBP + -0xc]
0071a729 : MOV dword ptr [EBP + -0x8],EDX
0071a72c : MOVSS dword ptr [EDI + 0x69],XMM0
0071a731 : MOVSS XMM0,dword ptr [EBP + -0x8]
0071a736 : MOVSS dword ptr [EDI + 0x6d],XMM0
0071a73b : MOVSS XMM0,dword ptr [EBX]
0071a73f : ADDSS XMM0,dword ptr [EDI + 0x65]
0071a744 : MOVSS dword ptr [EBX],XMM0
0071a748 : MOVSS XMM0,dword ptr [EDI + 0x69]
0071a74d : ADDSS XMM0,dword ptr [EBX + 0x4]
0071a752 : MOVSS dword ptr [EBX + 0x4],XMM0
0071a757 : MOVSS XMM0,dword ptr [EDI + 0x6d]
0071a75c : ADDSS XMM0,dword ptr [EBX + 0x8]
0071a761 : JMP 0x0071a7b1
0071a763 : MOV EDI,dword ptr [EAX + 0x1c]
0071a766 : CMP byte ptr [EDI + 0x5d],0x0
0071a76a : JZ 0x0071a775
0071a76c : MOV EAX,dword ptr [EDI]
0071a76e : MOV EDX,dword ptr [EAX + 0x14]
0071a771 : MOV ECX,EDI
0071a773 : CALL EDX
0071a775 : MOVQ XMM0,qword ptr [EDI + 0xb8]
0071a77d : MOV EAX,dword ptr [EDI + 0xc0]
0071a783 : MOVQ qword ptr [EBP + -0x10],XMM0
0071a788 : MOVSS XMM0,dword ptr [EBX]
0071a78c : ADDSS XMM0,dword ptr [EBP + -0x10]
0071a791 : MOVSS dword ptr [EBX],XMM0
0071a795 : MOVSS XMM0,dword ptr [EBX + 0x4]
0071a79a : ADDSS XMM0,dword ptr [EBP + -0xc]
0071a79f : MOVSS dword ptr [EBX + 0x4],XMM0
0071a7a4 : MOVSS XMM0,dword ptr [EBX + 0x8]
0071a7a9 : MOV dword ptr [EBP + -0x8],EAX
0071a7ac : ADDSS XMM0,dword ptr [EBP + -0x8]
0071a7b1 : MOV ECX,dword ptr [EBP + 0x8]
0071a7b4 : MOVSS dword ptr [EBX + 0x8],XMM0
0071a7b9 : MOV dword ptr [ESI],EBX
0071a7bb : LEA ESI,[ECX + 0x1]
0071a7be : CALL 0x004c5390
0071a7c3 : MOV dword ptr [EAX + 0x4],ESI
0071a7c6 : MOV EAX,dword ptr [EBP + -0x4]
0071a7c9 : INC dword ptr [EAX + 0xc]
0071a7cc : CALL 0x004c5390
0071a7d1 : MOV ESI,dword ptr [EAX]
0071a7d3 : CALL 0x004c5390
0071a7d8 : INC ESI
0071a7d9 : POP EDI
0071a7da : MOV dword ptr [EAX],ESI
0071a7dc : POP EBX
0071a7dd : XOR EAX,EAX
0071a7df : POP ESI
0071a7e0 : MOV ESP,EBP
0071a7e2 : POP EBP
0071a7e3 : RET 0x8
0071a7e6 : POP EDI
0071a7e7 : POP EBX
0071a7e8 : OR EAX,0xffffffff
0071a7eb : POP ESI
0071a7ec : MOV ESP,EBP
0071a7ee : POP EBP
0071a7ef : RET 0x8
