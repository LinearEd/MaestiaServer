PROGRAM  : Maestia.exe
FUNCTION : FUN_004742f0
ENTRY    : 004742f0
BODY     : [[004742f0, 004743a9]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_004742f0(uint *param_1)

{
  int in_EAX;
  uint *puVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  
  uVar4 = 0;
  if (*(uint *)(in_EAX + 4) != 0) {
    uVar3 = *(uint *)(in_EAX + 4);
    do {
      if (*param_1 == *(uint *)(*(int *)(in_EAX + 0x10) + uVar3)) {
        if (uVar3 != 0) goto LAB_0047438d;
        break;
      }
      if (uVar3 == 0) {
        puVar1 = (uint *)0x0;
      }
      else {
        puVar1 = (uint *)(*(int *)(in_EAX + 0x10) + uVar3);
      }
      if (*param_1 < *puVar1) {
        uVar5 = uRam00000078;
        if (uVar3 != 0) {
          uVar5 = *(uint *)(*(int *)(in_EAX + 0x10) + uVar3 + 0x78);
        }
      }
      else {
        if (uVar3 == 0) {
          iVar2 = 0;
        }
        else {
          iVar2 = *(int *)(in_EAX + 0x10) + uVar3;
        }
        uVar5 = *(uint *)(iVar2 + 0x7c);
      }
      uVar4 = uVar3;
      uVar3 = uVar5;
    } while (uVar5 != 0);
  }
  uVar3 = FUN_00473e50(param_1,uVar4);
  if (uVar4 == 0) {
    *(uint *)(in_EAX + 4) = uVar3;
  }
  else {
    puVar1 = (uint *)(*(int *)(in_EAX + 0x10) + uVar4);
    if (*param_1 < *puVar1) {
      puVar1[0x1e] = uVar3;
    }
    else {
      puVar1[0x1f] = uVar3;
    }
  }
  FUN_00473ee0();
  *(int *)(in_EAX + 8) = *(int *)(in_EAX + 8) + 1;
  if (uVar3 == 0) {
    return 4;
  }
LAB_0047438d:
  return *(int *)(in_EAX + 0x10) + uVar3 + 4;
}



============================================================
DISASSEMBLY
============================================================
004742f0 : PUSH EBP
004742f1 : MOV EBP,ESP
004742f3 : PUSH EBX
004742f4 : PUSH ESI
004742f5 : PUSH EDI
004742f6 : MOV EDI,EAX
004742f8 : MOV ESI,dword ptr [EDI + 0x4]
004742fb : XOR EBX,EBX
004742fd : TEST ESI,ESI
004742ff : JZ 0x00474351
00474301 : MOV EAX,dword ptr [EBP + 0x8]
00474304 : MOV ECX,dword ptr [EAX]
00474306 : MOV EAX,dword ptr [EDI + 0x10]
00474309 : ADD EAX,ESI
0047430b : CMP ECX,dword ptr [EAX]
0047430d : JZ 0x0047434d
0047430f : MOV EBX,ESI
00474311 : TEST ESI,ESI
00474313 : JZ 0x0047431c
00474315 : MOV EAX,dword ptr [EDI + 0x10]
00474318 : ADD EAX,ESI
0047431a : JMP 0x0047431e
0047431c : XOR EAX,EAX
0047431e : CMP ECX,dword ptr [EAX]
00474320 : JNC 0x00474337
00474322 : TEST ESI,ESI
00474324 : JZ 0x00474330
00474326 : MOV EAX,dword ptr [EDI + 0x10]
00474329 : ADD EAX,ESI
0047432b : MOV ESI,dword ptr [EAX + 0x78]
0047432e : JMP 0x00474347
00474330 : XOR EAX,EAX
00474332 : MOV ESI,dword ptr [EAX + 0x78]
00474335 : JMP 0x00474347
00474337 : TEST ESI,ESI
00474339 : JZ 0x00474342
0047433b : MOV EAX,dword ptr [EDI + 0x10]
0047433e : ADD EAX,ESI
00474340 : JMP 0x00474344
00474342 : XOR EAX,EAX
00474344 : MOV ESI,dword ptr [EAX + 0x7c]
00474347 : TEST ESI,ESI
00474349 : JNZ 0x00474306
0047434b : JMP 0x00474351
0047434d : TEST ESI,ESI
0047434f : JNZ 0x0047438d
00474351 : MOV ECX,dword ptr [EBP + 0x8]
00474354 : PUSH EBX
00474355 : PUSH ECX
00474356 : CALL 0x00473e50
0047435b : MOV ESI,EAX
0047435d : TEST EBX,EBX
0047435f : JNZ 0x00474366
00474361 : MOV dword ptr [EDI + 0x4],ESI
00474364 : JMP 0x0047437d
00474366 : MOV EDX,dword ptr [EDI + 0x10]
00474369 : MOV ECX,dword ptr [EBP + 0x8]
0047436c : LEA EAX,[EDX + EBX*0x1]
0047436f : MOV EDX,dword ptr [ECX]
00474371 : CMP EDX,dword ptr [EAX]
00474373 : JNC 0x0047437a
00474375 : MOV dword ptr [EAX + 0x78],ESI
00474378 : JMP 0x0047437d
0047437a : MOV dword ptr [EAX + 0x7c],ESI
0047437d : MOV EAX,EBX
0047437f : MOV EDX,EDI
00474381 : CALL 0x00473ee0
00474386 : INC dword ptr [EDI + 0x8]
00474389 : TEST ESI,ESI
0047438b : JZ 0x0047439c
0047438d : MOV EDI,dword ptr [EDI + 0x10]
00474390 : ADD EDI,ESI
00474392 : LEA EAX,[EDI + 0x4]
00474395 : POP EDI
00474396 : POP ESI
00474397 : POP EBX
00474398 : POP EBP
00474399 : RET 0x4
0047439c : POP EDI
0047439d : POP ESI
0047439e : XOR EAX,EAX
004743a0 : MOV EAX,0x4
004743a5 : POP EBX
004743a6 : POP EBP
004743a7 : RET 0x4
