PROGRAM  : Maestia.exe
FUNCTION : FUN_009cafc0
ENTRY    : 009cafc0
BODY     : [[009cafc0, 009cb078]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009cafc0(int param_1)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  int in_EDX;
  
  iVar1 = param_1;
  if (param_1 != -1) {
    for (piVar2 = *(int **)(in_EDX + 0x80); piVar2 != *(int **)(in_EDX + 0x84); piVar2 = piVar2 + 1)
    {
      if (*piVar2 == param_1) {
        return;
      }
    }
    iVar3 = *(int *)(in_EDX + 0x80);
    if (iVar3 == 0) {
      uVar4 = 0;
    }
    else {
      uVar4 = *(int *)(in_EDX + 0x88) - iVar3 >> 2;
    }
    piVar2 = *(int **)(in_EDX + 0x84);
    if ((uint)((int)piVar2 - iVar3 >> 2) < uVar4) {
      *piVar2 = param_1;
      *(int **)(in_EDX + 0x84) = piVar2 + 1;
    }
    else {
      FUN_00408c10(in_EDX + 0x7c,piVar2,1,&param_1);
    }
    if (DAT_00da93ec != 0) {
      iVar3 = FUN_00a1a840(iVar1);
      if (((iVar3 != 0) || (iVar3 = FUN_00a1a6d0(iVar1), iVar3 != 0)) ||
         (iVar3 = FUN_00a1a780(iVar1), iVar3 != 0)) {
        FUN_00857f90(iVar3);
      }
      if (DAT_00da93ec != 0) {
        FUN_00a1b780();
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009cafc0 : PUSH EBP
009cafc1 : MOV EBP,ESP
009cafc3 : PUSH EBX
009cafc4 : PUSH ESI
009cafc5 : PUSH EDI
009cafc6 : MOV EDI,dword ptr [EBP + 0x8]
009cafc9 : CMP EDI,-0x1
009cafcc : JZ 0x009cb072
009cafd2 : MOV EAX,dword ptr [EDX + 0x80]
009cafd8 : MOV ECX,dword ptr [EDX + 0x84]
009cafde : CMP EAX,ECX
009cafe0 : JZ 0x009caff1
009cafe2 : CMP dword ptr [EAX],EDI
009cafe4 : JZ 0x009cb072
009cafea : ADD EAX,0x4
009cafed : CMP EAX,ECX
009cafef : JNZ 0x009cafe2
009caff1 : MOV ESI,dword ptr [EDX + 0x80]
009caff7 : LEA EAX,[EDX + 0x7c]
009caffa : TEST ESI,ESI
009caffc : JNZ 0x009cb002
009caffe : XOR ECX,ECX
009cb000 : JMP 0x009cb00a
009cb002 : MOV ECX,dword ptr [EAX + 0xc]
009cb005 : SUB ECX,ESI
009cb007 : SAR ECX,0x2
009cb00a : MOV EDX,dword ptr [EAX + 0x8]
009cb00d : MOV EBX,EDX
009cb00f : SUB EBX,ESI
009cb011 : SAR EBX,0x2
009cb014 : CMP EBX,ECX
009cb016 : JNC 0x009cb022
009cb018 : MOV dword ptr [EDX],EDI
009cb01a : ADD EDX,0x4
009cb01d : MOV dword ptr [EAX + 0x8],EDX
009cb020 : JMP 0x009cb02f
009cb022 : LEA ECX,[EBP + 0x8]
009cb025 : PUSH ECX
009cb026 : PUSH 0x1
009cb028 : PUSH EDX
009cb029 : PUSH EAX
009cb02a : CALL 0x00408c10
009cb02f : MOV ECX,dword ptr [0x00da93ec]
009cb035 : TEST ECX,ECX
009cb037 : JZ 0x009cb072
009cb039 : PUSH EDI
009cb03a : MOV ESI,ECX
009cb03c : CALL 0x00a1a840
009cb041 : TEST EAX,EAX
009cb043 : JNZ 0x009cb05d
009cb045 : PUSH EDI
009cb046 : MOV ECX,ESI
009cb048 : CALL 0x00a1a6d0
009cb04d : TEST EAX,EAX
009cb04f : JNZ 0x009cb05d
009cb051 : PUSH EDI
009cb052 : MOV ECX,ESI
009cb054 : CALL 0x00a1a780
009cb059 : TEST EAX,EAX
009cb05b : JZ 0x009cb063
009cb05d : PUSH EAX
009cb05e : CALL 0x00857f90
009cb063 : MOV EDI,dword ptr [0x00da93ec]
009cb069 : TEST EDI,EDI
009cb06b : JZ 0x009cb072
009cb06d : CALL 0x00a1b780
009cb072 : POP EDI
009cb073 : POP ESI
009cb074 : POP EBX
009cb075 : POP EBP
009cb076 : RET 0x4
