PROGRAM  : Maestia.exe
FUNCTION : FUN_005941e0
ENTRY    : 005941e0
BODY     : [[005941e0, 00594266]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_005941e0(int param_1)

{
  uint *puVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int in_ECX;
  
  FUN_00522a10(param_1);
  iVar3 = (**(code **)(*(int *)(param_1 + 0x68) + 8))();
  if (((iVar3 == 2) && (iVar3 = FUN_0054ed10(), *(int *)(iVar3 + 0x1a0) < 0)) &&
     ((*(uint *)(iVar3 + 0x8c) >> 4 & 1) != 0)) {
    iVar4 = *(int *)(iVar3 + 0x1a8);
    if (iVar4 == 0) {
      iVar4 = *(int *)(iVar3 + 0x6c);
    }
    if (((iVar4 != 0) && (cVar2 = FUN_0058c2d0(), cVar2 != '\0')) &&
       (iVar3 = FUN_00593d00(), iVar3 != 0)) {
      *(undefined1 *)(iVar3 + 0x35) = 1;
    }
  }
  iVar3 = *(int *)(in_ECX + 0xa0);
  puVar1 = (uint *)(iVar3 + 0xb00);
  *puVar1 = *puVar1 | 0x400;
  return iVar3 + 0xb00;
}



============================================================
DISASSEMBLY
============================================================
005941e0 : PUSH ESI
005941e1 : MOV ESI,dword ptr [ESP + 0x8]
005941e5 : PUSH EDI
005941e6 : PUSH ESI
005941e7 : MOV EDI,ECX
005941e9 : CALL 0x00522a10
005941ee : MOV EAX,dword ptr [ESI + 0x68]
005941f1 : MOV EDX,dword ptr [EAX + 0x8]
005941f4 : ADD ESI,0x68
005941f7 : MOV ECX,ESI
005941f9 : CALL EDX
005941fb : CMP EAX,0x2
005941fe : JNZ 0x0059424d
00594200 : MOV ECX,ESI
00594202 : CALL 0x0054ed10
00594207 : CMP dword ptr [EAX + 0x1a0],0x0
0059420e : JGE 0x0059424d
00594210 : MOV ECX,dword ptr [EAX + 0x8c]
00594216 : SHR ECX,0x4
00594219 : TEST CL,0x1
0059421c : JZ 0x0059424d
0059421e : MOV ECX,dword ptr [EAX + 0x1a8]
00594224 : TEST ECX,ECX
00594226 : JZ 0x0059422c
00594228 : MOV EAX,ECX
0059422a : JMP 0x0059422f
0059422c : MOV EAX,dword ptr [EAX + 0x6c]
0059422f : TEST EAX,EAX
00594231 : JZ 0x0059424d
00594233 : MOV ECX,EAX
00594235 : CALL 0x0058c2d0
0059423a : TEST AL,AL
0059423c : JZ 0x0059424d
0059423e : MOV ECX,EDI
00594240 : CALL 0x00593d00
00594245 : TEST EAX,EAX
00594247 : JZ 0x0059424d
00594249 : MOV byte ptr [EAX + 0x35],0x1
0059424d : MOV EAX,dword ptr [EDI + 0xa0]
00594253 : OR dword ptr [EAX + 0xb00],0x400
0059425d : ADD EAX,0xb00
00594262 : POP EDI
00594263 : POP ESI
00594264 : RET 0x4
