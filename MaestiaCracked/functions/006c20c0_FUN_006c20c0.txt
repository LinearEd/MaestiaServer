PROGRAM  : Maestia.exe
FUNCTION : FUN_006c20c0
ENTRY    : 006c20c0
BODY     : [[006c20c0, 006c21b0]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006c20c0(int param_1)

{
  char *in_EAX;
  int iVar1;
  undefined4 uVar2;
  int in_ECX;
  int in_EDX;
  
  if (((in_EAX == (char *)0x0) || (*in_EAX != '1')) || (param_1 != 0x38)) {
    return 0xfffffffa;
  }
  if (in_EDX == 0) {
    return 0xfffffffe;
  }
  *(undefined4 *)(in_EDX + 0x18) = 0;
  if (*(int *)(in_EDX + 0x20) == 0) {
    *(code **)(in_EDX + 0x20) = thunk_FUN_006c1c20;
    *(undefined4 *)(in_EDX + 0x28) = 0;
  }
  if (*(int *)(in_EDX + 0x24) == 0) {
    *(undefined **)(in_EDX + 0x24) = &DAT_006c1c60;
  }
  iVar1 = (**(code **)(in_EDX + 0x20))(*(undefined4 *)(in_EDX + 0x28),1,0x18);
  *(int *)(in_EDX + 0x1c) = iVar1;
  if (iVar1 != 0) {
    *(undefined4 *)(iVar1 + 0x14) = 0;
    *(undefined4 *)(*(int *)(in_EDX + 0x1c) + 0xc) = 0;
    if (in_ECX < 0) {
      in_ECX = -in_ECX;
      *(undefined4 *)(*(int *)(in_EDX + 0x1c) + 0xc) = 1;
    }
    if (7 < in_ECX - 8U) {
      FUN_006c16e0();
      return 0xfffffffe;
    }
    *(int *)(*(int *)(in_EDX + 0x1c) + 0x10) = in_ECX;
    uVar2 = FUN_006c0b40(~-(uint)(*(int *)(*(int *)(in_EDX + 0x1c) + 0xc) != 0) & 0x6c1ae0);
    *(undefined4 *)(*(int *)(in_EDX + 0x1c) + 0x14) = uVar2;
    if (*(int *)(*(int *)(in_EDX + 0x1c) + 0x14) != 0) {
      FUN_006c16a0();
      return 0;
    }
    FUN_006c16e0();
  }
  return 0xfffffffc;
}



============================================================
DISASSEMBLY
============================================================
006c20c0 : PUSH EBP
006c20c1 : PUSH ESI
006c20c2 : XOR EBP,EBP
006c20c4 : PUSH EDI
006c20c5 : MOV EDI,ECX
006c20c7 : MOV ESI,EDX
006c20c9 : CMP EAX,EBP
006c20cb : JZ 0x006c21a8
006c20d1 : CMP byte ptr [EAX],0x31
006c20d4 : JNZ 0x006c21a8
006c20da : CMP dword ptr [ESP + 0x10],0x38
006c20df : JNZ 0x006c21a8
006c20e5 : CMP ESI,EBP
006c20e7 : JNZ 0x006c20f0
006c20e9 : POP EDI
006c20ea : POP ESI
006c20eb : LEA EAX,[EBP + -0x2]
006c20ee : POP EBP
006c20ef : RET
006c20f0 : MOV dword ptr [ESI + 0x18],EBP
006c20f3 : CMP dword ptr [ESI + 0x20],EBP
006c20f6 : JNZ 0x006c2102
006c20f8 : MOV dword ptr [ESI + 0x20],0x6c1c50
006c20ff : MOV dword ptr [ESI + 0x28],EBP
006c2102 : CMP dword ptr [ESI + 0x24],EBP
006c2105 : JNZ 0x006c210e
006c2107 : MOV dword ptr [ESI + 0x24],0x6c1c60
006c210e : MOV EAX,dword ptr [ESI + 0x28]
006c2111 : MOV ECX,dword ptr [ESI + 0x20]
006c2114 : PUSH EBX
006c2115 : PUSH 0x18
006c2117 : MOV EBX,0x1
006c211c : PUSH EBX
006c211d : PUSH EAX
006c211e : CALL ECX
006c2120 : ADD ESP,0xc
006c2123 : MOV dword ptr [ESI + 0x1c],EAX
006c2126 : CMP EAX,EBP
006c2128 : JZ 0x006c2181
006c212a : CMP EDI,EBP
006c212c : MOV dword ptr [EAX + 0x14],EBP
006c212f : MOV EDX,dword ptr [ESI + 0x1c]
006c2132 : MOV dword ptr [EDX + 0xc],EBP
006c2135 : JGE 0x006c213f
006c2137 : MOV EAX,dword ptr [ESI + 0x1c]
006c213a : NEG EDI
006c213c : MOV dword ptr [EAX + 0xc],EBX
006c213f : LEA ECX,[EDI + -0x8]
006c2142 : CMP ECX,0x7
006c2145 : JA 0x006c2199
006c2147 : MOV EDX,dword ptr [ESI + 0x1c]
006c214a : MOV dword ptr [EDX + 0x10],EDI
006c214d : MOV EAX,dword ptr [ESI + 0x1c]
006c2150 : MOV ECX,EDI
006c2152 : SHL EBX,CL
006c2154 : MOV ECX,dword ptr [EAX + 0xc]
006c2157 : NEG ECX
006c2159 : SBB ECX,ECX
006c215b : NOT ECX
006c215d : AND ECX,0x6c1ae0
006c2163 : PUSH ECX
006c2164 : MOV EAX,ESI
006c2166 : CALL 0x006c0b40
006c216b : MOV EDX,dword ptr [ESI + 0x1c]
006c216e : MOV dword ptr [EDX + 0x14],EAX
006c2171 : MOV EAX,dword ptr [ESI + 0x1c]
006c2174 : ADD ESP,0x4
006c2177 : CMP dword ptr [EAX + 0x14],EBP
006c217a : JNZ 0x006c218b
006c217c : CALL 0x006c16e0
006c2181 : POP EBX
006c2182 : POP EDI
006c2183 : POP ESI
006c2184 : MOV EAX,0xfffffffc
006c2189 : POP EBP
006c218a : RET
006c218b : MOV EAX,ESI
006c218d : CALL 0x006c16a0
006c2192 : POP EBX
006c2193 : POP EDI
006c2194 : POP ESI
006c2195 : XOR EAX,EAX
006c2197 : POP EBP
006c2198 : RET
006c2199 : CALL 0x006c16e0
006c219e : POP EBX
006c219f : POP EDI
006c21a0 : POP ESI
006c21a1 : MOV EAX,0xfffffffe
006c21a6 : POP EBP
006c21a7 : RET
006c21a8 : POP EDI
006c21a9 : POP ESI
006c21aa : MOV EAX,0xfffffffa
006c21af : POP EBP
006c21b0 : RET
