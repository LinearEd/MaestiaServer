PROGRAM  : Maestia.exe
FUNCTION : FUN_0078cd70
ENTRY    : 0078cd70
BODY     : [[0078cd70, 0078cf63]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0078cd70(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 local_58 [17];
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  iVar1 = param_1;
  if (*(int *)(param_1 + 0xcc) == 0) {
    if (*(int *)(param_1 + 0xd0) <= *(int *)(param_1 + 0xd4) + 5) {
      return;
    }
    local_58[0] = 0;
    param_1 = 1;
    do {
      FUN_0047efc0(iVar1 + 0x6c,(float)param_1 * 0.2);
      local_14 = 0;
      local_10 = 0;
      local_c = 0;
      D3DXVec3TransformCoord(&local_14,iVar1 + 0x20,local_58);
      puVar3 = (undefined4 *)(*(int *)(iVar1 + 0xd8) + *(int *)(iVar1 + 0xd4) * 0xc);
      *(int *)(iVar1 + 0xd4) = *(int *)(iVar1 + 0xd4) + 1;
      *puVar3 = local_14;
      puVar3[1] = local_10;
      puVar3[2] = local_c;
      D3DXVec3TransformCoord(&local_14,iVar1 + 0x14,local_58);
      iVar2 = *(int *)(iVar1 + 0xd4);
      *(int *)(iVar1 + 0xd4) = iVar2 + 1;
      puVar3 = (undefined4 *)(*(int *)(iVar1 + 0xd8) + iVar2 * 0xc);
      *puVar3 = local_14;
      param_1 = param_1 + 1;
      puVar3[1] = local_10;
      puVar3[2] = local_c;
    } while (param_1 < 6);
    FUN_0078c530(*(undefined4 *)(iVar1 + 0xec));
  }
  else {
    local_14 = 0;
    local_10 = 0;
    local_c = 0;
    D3DXVec3TransformCoord(&local_14,param_1 + 0x20,param_1 + 0x2c);
    puVar3 = (undefined4 *)(*(int *)(param_1 + 0xd8) + *(int *)(param_1 + 0xd4) * 0xc);
    *(int *)(param_1 + 0xd4) = *(int *)(param_1 + 0xd4) + 1;
    *puVar3 = local_14;
    puVar3[1] = local_10;
    puVar3[2] = local_c;
    D3DXVec3TransformCoord(&local_14,param_1 + 0x14,param_1 + 0x2c);
    puVar3 = (undefined4 *)(*(int *)(param_1 + 0xd8) + *(int *)(param_1 + 0xd4) * 0xc);
    *(int *)(param_1 + 0xd4) = *(int *)(param_1 + 0xd4) + 1;
    *puVar3 = local_14;
    puVar3[1] = local_10;
    puVar3[2] = local_c;
    *(undefined4 *)(param_1 + 0xcc) = 0;
  }
  D3DXQuaternionRotationMatrix(iVar1 + 0xac,(undefined4 *)(iVar1 + 0x2c));
  puVar3 = (undefined4 *)(iVar1 + 0x2c);
  puVar4 = (undefined4 *)(iVar1 + 0x6c);
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  FUN_0078c9b0();
  return;
}



============================================================
DISASSEMBLY
============================================================
0078cd70 : PUSH EBP
0078cd71 : MOV EBP,ESP
0078cd73 : SUB ESP,0x58
0078cd76 : PUSH EBX
0078cd77 : MOV EBX,dword ptr [EBP + 0x8]
0078cd7a : CMP dword ptr [EBX + 0xcc],0x0
0078cd81 : PUSH ESI
0078cd82 : PUSH EDI
0078cd83 : JNZ 0x0078ce93
0078cd89 : MOV EAX,dword ptr [EBX + 0xd4]
0078cd8f : ADD EAX,0x5
0078cd92 : CMP EAX,dword ptr [EBX + 0xd0]
0078cd98 : JGE 0x0078cf5b
0078cd9e : XORPS XMM0,XMM0
0078cda1 : MOVSS dword ptr [EBP + -0x54],XMM0
0078cda6 : MOV dword ptr [EBP + 0x8],0x1
0078cdad : CVTSI2SS XMM0,dword ptr [EBP + 0x8]
0078cdb2 : MULSS XMM0,dword ptr [0x00cdf0e4]
0078cdba : PUSH ECX
0078cdbb : LEA EAX,[EBX + 0x6c]
0078cdbe : MOVSS dword ptr [ESP],XMM0
0078cdc3 : PUSH EAX
0078cdc4 : LEA EDI,[EBX + 0x2c]
0078cdc7 : LEA ESI,[EBP + -0x54]
0078cdca : CALL 0x0047efc0
0078cdcf : XORPS XMM0,XMM0
0078cdd2 : ADD ESP,0x8
0078cdd5 : MOV ECX,ESI
0078cdd7 : PUSH ECX
0078cdd8 : LEA EAX,[EBX + 0x20]
0078cddb : PUSH EAX
0078cddc : LEA EDX,[EBP + -0x10]
0078cddf : PUSH EDX
0078cde0 : MOVSS dword ptr [EBP + -0x10],XMM0
0078cde5 : MOVSS dword ptr [EBP + -0xc],XMM0
0078cdea : MOVSS dword ptr [EBP + -0x8],XMM0
0078cdef : CALL 0x004ff734
0078cdf4 : MOV EAX,dword ptr [EBX + 0xd4]
0078cdfa : MOV EDX,dword ptr [EBX + 0xd8]
0078ce00 : MOVSS XMM0,dword ptr [EBP + -0x10]
0078ce05 : LEA ECX,[EAX + EAX*0x2]
0078ce08 : LEA ECX,[EDX + ECX*0x4]
0078ce0b : INC EAX
0078ce0c : MOV dword ptr [EBX + 0xd4],EAX
0078ce12 : MOVSS dword ptr [ECX],XMM0
0078ce16 : MOVSS XMM0,dword ptr [EBP + -0xc]
0078ce1b : MOV EAX,ESI
0078ce1d : PUSH EAX
0078ce1e : MOVSS dword ptr [ECX + 0x4],XMM0
0078ce23 : MOVSS XMM0,dword ptr [EBP + -0x8]
0078ce28 : LEA EAX,[EBX + 0x14]
0078ce2b : MOVSS dword ptr [ECX + 0x8],XMM0
0078ce30 : PUSH EAX
0078ce31 : LEA ECX,[EBP + -0x10]
0078ce34 : PUSH ECX
0078ce35 : CALL 0x004ff734
0078ce3a : MOV EAX,dword ptr [EBX + 0xd4]
0078ce40 : MOV ECX,dword ptr [EBX + 0xd8]
0078ce46 : MOVSS XMM0,dword ptr [EBP + -0x10]
0078ce4b : LEA EDX,[EAX + EAX*0x2]
0078ce4e : INC EAX
0078ce4f : MOV dword ptr [EBX + 0xd4],EAX
0078ce55 : MOV EAX,dword ptr [EBP + 0x8]
0078ce58 : LEA ECX,[ECX + EDX*0x4]
0078ce5b : MOVSS dword ptr [ECX],XMM0
0078ce5f : MOVSS XMM0,dword ptr [EBP + -0xc]
0078ce64 : INC EAX
0078ce65 : CMP EAX,0x5
0078ce68 : MOVSS dword ptr [ECX + 0x4],XMM0
0078ce6d : MOVSS XMM0,dword ptr [EBP + -0x8]
0078ce72 : MOVSS dword ptr [ECX + 0x8],XMM0
0078ce77 : MOV dword ptr [EBP + 0x8],EAX
0078ce7a : JLE 0x0078cdad
0078ce80 : MOV EDX,dword ptr [EBX + 0xec]
0078ce86 : PUSH EDX
0078ce87 : MOV ESI,EBX
0078ce89 : CALL 0x0078c530
0078ce8e : JMP 0x0078cf3a
0078ce93 : XORPS XMM0,XMM0
0078ce96 : LEA ESI,[EBX + 0x2c]
0078ce99 : PUSH ESI
0078ce9a : LEA EAX,[EBX + 0x20]
0078ce9d : PUSH EAX
0078ce9e : LEA ECX,[EBP + -0x10]
0078cea1 : PUSH ECX
0078cea2 : MOVSS dword ptr [EBP + -0x10],XMM0
0078cea7 : MOVSS dword ptr [EBP + -0xc],XMM0
0078ceac : MOVSS dword ptr [EBP + -0x8],XMM0
0078ceb1 : CALL 0x004ff734
0078ceb6 : MOV EAX,dword ptr [EBX + 0xd4]
0078cebc : MOV ECX,dword ptr [EBX + 0xd8]
0078cec2 : MOVSS XMM0,dword ptr [EBP + -0x10]
0078cec7 : LEA EDX,[EAX + EAX*0x2]
0078ceca : LEA ECX,[ECX + EDX*0x4]
0078cecd : INC EAX
0078cece : MOV dword ptr [EBX + 0xd4],EAX
0078ced4 : PUSH ESI
0078ced5 : MOVSS dword ptr [ECX],XMM0
0078ced9 : MOVSS XMM0,dword ptr [EBP + -0xc]
0078cede : LEA EDX,[EBX + 0x14]
0078cee1 : PUSH EDX
0078cee2 : LEA EAX,[EBP + -0x10]
0078cee5 : MOVSS dword ptr [ECX + 0x4],XMM0
0078ceea : MOVSS XMM0,dword ptr [EBP + -0x8]
0078ceef : PUSH EAX
0078cef0 : MOVSS dword ptr [ECX + 0x8],XMM0
0078cef5 : CALL 0x004ff734
0078cefa : MOV EAX,dword ptr [EBX + 0xd4]
0078cf00 : MOV EDX,dword ptr [EBX + 0xd8]
0078cf06 : MOVSS XMM0,dword ptr [EBP + -0x10]
0078cf0b : LEA ECX,[EAX + EAX*0x2]
0078cf0e : LEA ECX,[EDX + ECX*0x4]
0078cf11 : INC EAX
0078cf12 : MOV dword ptr [EBX + 0xd4],EAX
0078cf18 : MOVSS dword ptr [ECX],XMM0
0078cf1c : MOVSS XMM0,dword ptr [EBP + -0xc]
0078cf21 : MOVSS dword ptr [ECX + 0x4],XMM0
0078cf26 : MOVSS XMM0,dword ptr [EBP + -0x8]
0078cf2b : MOVSS dword ptr [ECX + 0x8],XMM0
0078cf30 : MOV dword ptr [EBX + 0xcc],0x0
0078cf3a : LEA ESI,[EBX + 0x2c]
0078cf3d : PUSH ESI
0078cf3e : LEA EAX,[EBX + 0xac]
0078cf44 : PUSH EAX
0078cf45 : CALL 0x00664c7e
0078cf4a : LEA EDI,[EBX + 0x6c]
0078cf4d : MOV ECX,0x10
0078cf52 : MOVSD.REP ES:EDI,ESI
0078cf54 : MOV ECX,EBX
0078cf56 : CALL 0x0078c9b0
0078cf5b : POP EDI
0078cf5c : POP ESI
0078cf5d : POP EBX
0078cf5e : MOV ESP,EBP
0078cf60 : POP EBP
0078cf61 : RET 0x4
