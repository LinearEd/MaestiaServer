PROGRAM  : Maestia.exe
FUNCTION : FUN_004d56c0
ENTRY    : 004d56c0
BODY     : [[004d56c0, 004d56fb] [004d5700, 004d5822]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004d5721) */

void FUN_004d56c0(undefined4 *param_1,int *param_2)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  ushort *puVar4;
  undefined4 *puVar5;
  int iVar6;
  ushort *puVar7;
  uint uVar8;
  int *piVar9;
  int *piVar10;
  bool bVar11;
  
  iVar3 = (int)param_2;
  bVar11 = true;
  piVar9 = DAT_017245c4;
  if (*(char *)(DAT_017245c4[1] + 0x2d) == '\0') {
    uVar1 = *(uint *)((int)param_2 + 0x14);
    piVar10 = (int *)DAT_017245c4[1];
    do {
      piVar9 = piVar10;
      uVar2 = piVar9[8];
      if ((uint)piVar9[9] < 8) {
        puVar4 = (ushort *)(piVar9 + 4);
      }
      else {
        puVar4 = (ushort *)piVar9[4];
      }
      uVar8 = uVar1;
      if (uVar2 <= uVar1) {
        uVar8 = uVar2;
      }
      if (*(uint *)((int)param_2 + 0x18) < 8) {
        puVar7 = (ushort *)((int)param_2 + 4);
      }
      else {
        puVar7 = *(ushort **)((int)param_2 + 4);
      }
      for (; uVar8 != 0; uVar8 = uVar8 - 1) {
        if (*puVar7 != *puVar4) {
          uVar8 = (-(uint)(*puVar7 < *puVar4) & 0xfffffffe) + 1;
          if (uVar8 != 0) goto LAB_004d577d;
          break;
        }
        puVar7 = puVar7 + 1;
        puVar4 = puVar4 + 1;
      }
      if (uVar1 < uVar2) {
        uVar8 = 0xffffffff;
      }
      else {
        uVar8 = (uint)(uVar1 != uVar2);
      }
LAB_004d577d:
      bVar11 = (int)uVar8 < 0;
      if (bVar11) {
        piVar10 = (int *)*piVar9;
      }
      else {
        piVar10 = (int *)piVar9[2];
      }
    } while (*(char *)((int)piVar10 + 0x2d) == '\0');
  }
  param_2 = piVar9;
  if (bVar11) {
    if (piVar9 == (int *)*DAT_017245c4) {
      bVar11 = true;
      goto LAB_004d57bb;
    }
    FUN_004d6300();
  }
  piVar9 = param_2;
  if (*(uint *)(iVar3 + 0x18) < 8) {
    iVar6 = iVar3 + 4;
  }
  else {
    iVar6 = *(int *)(iVar3 + 4);
  }
  iVar6 = FUN_00405bb0(iVar6);
  if (-1 < iVar6) {
    *param_1 = piVar9;
    *(undefined1 *)(param_1 + 1) = 0;
    return;
  }
LAB_004d57bb:
  puVar5 = (undefined4 *)FUN_004d5b10(&param_2,bVar11,iVar3);
  *param_1 = *puVar5;
  *(undefined1 *)(param_1 + 1) = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
004d56c0 : SUB ESP,0x14
004d56c3 : MOV ECX,dword ptr [0x017245c4]
004d56c9 : PUSH EBX
004d56ca : MOV EBX,dword ptr [ESP + 0x20]
004d56ce : PUSH EBP
004d56cf : PUSH ESI
004d56d0 : MOV ESI,dword ptr [ECX + 0x4]
004d56d3 : CMP byte ptr [ESI + 0x2d],0x0
004d56d7 : MOV AL,0x1
004d56d9 : PUSH EDI
004d56da : MOV EBP,ECX
004d56dc : MOV byte ptr [ESP + 0x10],AL
004d56e0 : JNZ 0x004d57a5
004d56e6 : MOV EAX,dword ptr [EBX + 0x14]
004d56e9 : MOV EDX,dword ptr [EBX + 0x18]
004d56ec : MOV ECX,EAX
004d56ee : MOV dword ptr [ESP + 0x18],EAX
004d56f2 : MOV dword ptr [ESP + 0x14],ECX
004d56f6 : MOV dword ptr [ESP + 0x1c],EDX
004d56fa : JMP 0x004d5704
004d5700 : MOV ECX,dword ptr [ESP + 0x14]
004d5704 : CMP dword ptr [ESI + 0x24],0x8
004d5708 : MOV EBP,dword ptr [ESI + 0x20]
004d570b : MOV dword ptr [ESP + 0x20],ESI
004d570f : JC 0x004d5716
004d5711 : MOV EAX,dword ptr [ESI + 0x10]
004d5714 : JMP 0x004d5719
004d5716 : LEA EAX,[ESI + 0x10]
004d5719 : MOV EDI,dword ptr [ESP + 0x18]
004d571d : CMP ECX,EDI
004d571f : JNC 0x004d5723
004d5721 : MOV EDI,ECX
004d5723 : MOV EDX,EDI
004d5725 : CMP EDI,EBP
004d5727 : JC 0x004d572b
004d5729 : MOV EDX,EBP
004d572b : CMP dword ptr [ESP + 0x1c],0x8
004d5730 : JC 0x004d5737
004d5732 : MOV ECX,dword ptr [EBX + 0x4]
004d5735 : JMP 0x004d573a
004d5737 : LEA ECX,[EBX + 0x4]
004d573a : TEST EDX,EDX
004d573c : JBE 0x004d5757
004d573e : MOV EDI,EDI
004d5740 : MOV BX,word ptr [ECX]
004d5743 : CMP BX,word ptr [EAX]
004d5746 : JNZ 0x004d5760
004d5748 : ADD ECX,0x2
004d574b : ADD EAX,0x2
004d574e : SUB EDX,0x1
004d5751 : JNZ 0x004d5740
004d5753 : MOV EBX,dword ptr [ESP + 0x2c]
004d5757 : CMP EDI,EBP
004d5759 : JNC 0x004d5776
004d575b : OR EAX,0xffffffff
004d575e : JMP 0x004d577d
004d5760 : MOV CX,BX
004d5763 : CMP CX,word ptr [EAX]
004d5766 : SBB EAX,EAX
004d5768 : AND EAX,0xfffffffe
004d576b : ADD EAX,0x1
004d576e : JZ 0x004d5753
004d5770 : MOV EBX,dword ptr [ESP + 0x2c]
004d5774 : JMP 0x004d577d
004d5776 : XOR EAX,EAX
004d5778 : CMP EDI,EBP
004d577a : SETNZ AL
004d577d : TEST EAX,EAX
004d577f : SETL AL
004d5782 : MOV byte ptr [ESP + 0x10],AL
004d5786 : TEST AL,AL
004d5788 : JZ 0x004d578e
004d578a : MOV ESI,dword ptr [ESI]
004d578c : JMP 0x004d5791
004d578e : MOV ESI,dword ptr [ESI + 0x8]
004d5791 : CMP byte ptr [ESI + 0x2d],0x0
004d5795 : JZ 0x004d5700
004d579b : MOV EBP,dword ptr [ESP + 0x20]
004d579f : MOV ECX,dword ptr [0x017245c4]
004d57a5 : MOV ESI,EBP
004d57a7 : MOV dword ptr [ESP + 0x2c],ESI
004d57ab : TEST AL,AL
004d57ad : JZ 0x004d57e1
004d57af : LEA EDX,[ESP + 0x2c]
004d57b3 : CMP EBP,dword ptr [ECX]
004d57b5 : JNZ 0x004d57d8
004d57b7 : PUSH EBX
004d57b8 : PUSH 0x1
004d57ba : PUSH EDX
004d57bb : MOV ECX,EBP
004d57bd : CALL 0x004d5b10
004d57c2 : MOV ECX,dword ptr [EAX]
004d57c4 : MOV EAX,dword ptr [ESP + 0x28]
004d57c8 : MOV dword ptr [EAX],ECX
004d57ca : MOV byte ptr [EAX + 0x4],0x1
004d57ce : POP EDI
004d57cf : POP ESI
004d57d0 : POP EBP
004d57d1 : POP EBX
004d57d2 : ADD ESP,0x14
004d57d5 : RET 0x8
004d57d8 : CALL 0x004d6300
004d57dd : MOV ESI,dword ptr [ESP + 0x2c]
004d57e1 : CMP dword ptr [EBX + 0x18],0x8
004d57e5 : MOV EDI,dword ptr [EBX + 0x14]
004d57e8 : LEA ECX,[ESI + 0xc]
004d57eb : JC 0x004d57f2
004d57ed : MOV EAX,dword ptr [EBX + 0x4]
004d57f0 : JMP 0x004d57f5
004d57f2 : LEA EAX,[EBX + 0x4]
004d57f5 : PUSH EAX
004d57f6 : MOV EAX,dword ptr [ECX + 0x14]
004d57f9 : CALL 0x00405bb0
004d57fe : TEST EAX,EAX
004d5800 : JGE 0x004d580f
004d5802 : MOV EDX,dword ptr [ESP + 0x10]
004d5806 : PUSH EBX
004d5807 : PUSH EDX
004d5808 : LEA EAX,[ESP + 0x34]
004d580c : PUSH EAX
004d580d : JMP 0x004d57bb
004d580f : MOV EAX,dword ptr [ESP + 0x28]
004d5813 : POP EDI
004d5814 : MOV dword ptr [EAX],ESI
004d5816 : POP ESI
004d5817 : POP EBP
004d5818 : MOV byte ptr [EAX + 0x4],0x0
004d581c : POP EBX
004d581d : ADD ESP,0x14
004d5820 : RET 0x8
