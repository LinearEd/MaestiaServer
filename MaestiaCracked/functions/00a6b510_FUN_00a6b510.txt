PROGRAM  : Maestia.exe
FUNCTION : FUN_00a6b510
ENTRY    : 00a6b510
BODY     : [[00a6b510, 00a6b5c3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a6b510(void)

{
  uint uVar1;
  int *piVar2;
  int unaff_EDI;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0dda9;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(unaff_EDI + 0x70);
  local_18 = 0;
  local_20 = ".\\Objects\\AvaEffectMgr.cpp";
  local_1c = 0x3ce;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  local_8 = 0;
  piVar2 = *(int **)(unaff_EDI + 0x38);
  if (piVar2 != *(int **)(unaff_EDI + 0x3c)) {
    do {
      if ((int *)piVar2[1] != (int *)0x0) {
        (**(code **)(*(int *)piVar2[1] + 0xd4))(uVar1);
      }
      if ((int *)*piVar2 != (int *)0x0) {
        (**(code **)(*(int *)*piVar2 + 0x24))();
      }
      piVar2 = piVar2 + 3;
    } while (piVar2 != *(int **)(unaff_EDI + 0x3c));
  }
  local_8 = 0xffffffff;
  if (local_18 != 0) {
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a6b510 : PUSH EBP
00a6b511 : MOV EBP,ESP
00a6b513 : PUSH -0x1
00a6b515 : PUSH 0xb0dda9
00a6b51a : MOV EAX,FS:[0x0]
00a6b520 : PUSH EAX
00a6b521 : SUB ESP,0x14
00a6b524 : PUSH ESI
00a6b525 : MOV EAX,[0x00d66fa0]
00a6b52a : XOR EAX,EBP
00a6b52c : PUSH EAX
00a6b52d : LEA EAX,[EBP + -0xc]
00a6b530 : MOV FS:[0x0],EAX
00a6b536 : LEA ECX,[EBP + -0x20]
00a6b539 : LEA EAX,[EDI + 0x70]
00a6b53c : PUSH ECX
00a6b53d : MOV dword ptr [EBP + -0x14],0x0
00a6b544 : MOV dword ptr [EBP + -0x20],EAX
00a6b547 : MOV dword ptr [EBP + -0x1c],0xc43f0c
00a6b54e : MOV dword ptr [EBP + -0x18],0x3ce
00a6b555 : MOV dword ptr [EBP + -0x10],0x1
00a6b55c : CALL 0x006ef1a0
00a6b561 : MOV dword ptr [EBP + -0x4],0x0
00a6b568 : MOV ESI,dword ptr [EDI + 0x38]
00a6b56b : CMP ESI,dword ptr [EDI + 0x3c]
00a6b56e : JZ 0x00a6b596
00a6b570 : MOV ECX,dword ptr [ESI + 0x4]
00a6b573 : TEST ECX,ECX
00a6b575 : JZ 0x00a6b581
00a6b577 : MOV EDX,dword ptr [ECX]
00a6b579 : MOV EAX,dword ptr [EDX + 0xd4]
00a6b57f : CALL EAX
00a6b581 : MOV ECX,dword ptr [ESI]
00a6b583 : TEST ECX,ECX
00a6b585 : JZ 0x00a6b58e
00a6b587 : MOV EDX,dword ptr [ECX]
00a6b589 : MOV EAX,dword ptr [EDX + 0x24]
00a6b58c : CALL EAX
00a6b58e : ADD ESI,0xc
00a6b591 : CMP ESI,dword ptr [EDI + 0x3c]
00a6b594 : JNZ 0x00a6b570
00a6b596 : MOV dword ptr [EBP + -0x4],0xffffffff
00a6b59d : CMP dword ptr [EBP + -0x14],0x0
00a6b5a1 : JZ 0x00a6b5b4
00a6b5a3 : MOV ECX,dword ptr [EBP + -0x20]
00a6b5a6 : PUSH ECX
00a6b5a7 : CALL dword ptr [0x00b8511c]
00a6b5ad : MOV dword ptr [EBP + -0x14],0x0
00a6b5b4 : MOV ECX,dword ptr [EBP + -0xc]
00a6b5b7 : MOV dword ptr FS:[0x0],ECX
00a6b5be : POP ECX
00a6b5bf : POP ESI
00a6b5c0 : MOV ESP,EBP
00a6b5c2 : POP EBP
00a6b5c3 : RET
