PROGRAM  : Maestia.exe
FUNCTION : do_get
ENTRY    : 006240dd
BODY     : [[006240dd, 006241a7]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Function: __EH_prolog3_GS replaced with injection: EH_prolog3 */
/* Library Function - Single Match
    protected: virtual class std::istreambuf_iterator<char,struct std::char_traits<char> >
   __thiscall std::num_get<char,class std::istreambuf_iterator<char,struct std::char_traits<char> >
   >::do_get(class std::istreambuf_iterator<char,struct std::char_traits<char> >,class
   std::istreambuf_iterator<char,struct std::char_traits<char> >,class std::ios_base &,int
   &,unsigned int &)const 
   
   Library: Visual Studio 2008 Release */

void __thiscall
std::num_get<char,class_std::istreambuf_iterator<char,struct_std::char_traits<char>_>_>::do_get
          (undefined4 param_1,undefined4 *param_2,undefined4 param_3,undefined4 param_4,
          undefined4 param_5,undefined4 param_6,int param_7,uint *param_8,int *param_9)

{
  uint *puVar1;
  int *piVar2;
  bool bVar3;
  int iVar4;
  num_get<char,class_std::istreambuf_iterator<char,struct_std::char_traits<char>_>_> *this;
  istreambuf_iterator<char,struct_std::char_traits<char>_> *local_48;
  undefined4 *local_44;
  undefined1 local_40 [4];
  int local_3c;
  istreambuf_iterator<char,struct_std::char_traits<char>_> *local_38;
  istreambuf_iterator<char,struct_std::char_traits<char>_> local_34;
  istreambuf_iterator<char,struct_std::char_traits<char>_> local_33 [43];
  undefined4 local_8;
  undefined4 uStack_4;
  
  piVar2 = param_9;
  puVar1 = param_8;
  iVar4 = param_7;
  uStack_4 = 0x38;
  local_8 = 0x6240e9;
  local_3c = 0;
  local_44 = param_2;
  FUN_004d0b70(local_40);
  local_8 = 0;
  iVar4 = _Getifld(this,(char *)local_38,&local_34,
                   (istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_3,
                   (int)&param_5,*(locale **)(iVar4 + 0x10));
  local_8 = 0xffffffff;
  FUN_00451310();
  local_38 = local_33;
  if (local_34 != (istreambuf_iterator<char,struct_std::char_traits<char>_>)0x2d) {
    local_38 = &local_34;
  }
  iVar4 = FUN_00633181(local_38,&local_48,iVar4,&local_3c);
  bVar3 = istreambuf_iterator<char,struct_std::char_traits<char>_>::equal
                    ((istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_3,
                     (istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_5);
  if (bVar3) {
    *puVar1 = *puVar1 | 1;
  }
  if ((local_48 == local_38) || (local_3c != 0)) {
    *puVar1 = *puVar1 | 2;
  }
  else {
    if (local_34 == (istreambuf_iterator<char,struct_std::char_traits<char>_>)0x2d) {
      iVar4 = -iVar4;
    }
    *piVar2 = iVar4;
  }
  *local_44 = param_3;
  local_44[1] = param_4;
  FUN_00640ed0();
  return;
}



============================================================
DISASSEMBLY
============================================================
006240dd : PUSH 0x38
006240df : MOV EAX,0xb0be55
006240e4 : CALL 0x00640e86
006240e9 : MOV EAX,dword ptr [EBP + 0x8]
006240ec : MOV ESI,dword ptr [EBP + 0x1c]
006240ef : MOV EDI,dword ptr [EBP + 0x20]
006240f2 : MOV EBX,dword ptr [EBP + 0x24]
006240f5 : AND dword ptr [EBP + -0x38],0x0
006240f9 : MOV dword ptr [EBP + -0x40],EAX
006240fc : LEA EAX,[EBP + -0x3c]
006240ff : MOV dword ptr [EBP + -0x34],ECX
00624102 : PUSH EAX
00624103 : MOV ECX,ESI
00624105 : CALL 0x004d0b70
0062410a : MOV ESI,dword ptr [ESI + 0x10]
0062410d : AND dword ptr [EBP + -0x4],0x0
00624111 : PUSH EAX
00624112 : PUSH ESI
00624113 : LEA EAX,[EBP + 0x14]
00624116 : PUSH EAX
00624117 : LEA EAX,[EBP + 0xc]
0062411a : PUSH EAX
0062411b : LEA EAX,[EBP + -0x30]
0062411e : PUSH EAX
0062411f : PUSH dword ptr [EBP + -0x34]
00624122 : CALL 0x00623717
00624127 : OR dword ptr [EBP + -0x4],0xffffffff
0062412b : ADD ESP,0x18
0062412e : LEA ECX,[EBP + -0x3c]
00624131 : MOV ESI,EAX
00624133 : CALL 0x00451310
00624138 : CMP byte ptr [EBP + -0x30],0x2d
0062413c : LEA EAX,[EBP + -0x2f]
0062413f : JZ 0x00624144
00624141 : LEA EAX,[EBP + -0x30]
00624144 : MOV dword ptr [EBP + -0x34],EAX
00624147 : LEA EAX,[EBP + -0x38]
0062414a : PUSH EAX
0062414b : PUSH ESI
0062414c : LEA EAX,[EBP + -0x44]
0062414f : PUSH EAX
00624150 : PUSH dword ptr [EBP + -0x34]
00624153 : CALL 0x00633181
00624158 : MOV ESI,EAX
0062415a : ADD ESP,0x10
0062415d : LEA EAX,[EBP + 0x14]
00624160 : PUSH EAX
00624161 : LEA ECX,[EBP + 0xc]
00624164 : CALL 0x00623123
00624169 : TEST AL,AL
0062416b : JZ 0x00624170
0062416d : OR dword ptr [EDI],0x1
00624170 : MOV EAX,dword ptr [EBP + -0x34]
00624173 : CMP dword ptr [EBP + -0x44],EAX
00624176 : JZ 0x0062418f
00624178 : CMP dword ptr [EBP + -0x38],0x0
0062417c : JNZ 0x0062418f
0062417e : CMP ESI,-0x1
00624181 : JA 0x0062418f
00624183 : CMP byte ptr [EBP + -0x30],0x2d
00624187 : JNZ 0x0062418b
00624189 : NEG ESI
0062418b : MOV dword ptr [EBX],ESI
0062418d : JMP 0x00624192
0062418f : OR dword ptr [EDI],0x2
00624192 : MOV ECX,dword ptr [EBP + 0xc]
00624195 : MOV EAX,dword ptr [EBP + -0x40]
00624198 : MOV dword ptr [EAX],ECX
0062419a : MOV ECX,dword ptr [EBP + 0x10]
0062419d : MOV dword ptr [EAX + 0x4],ECX
006241a0 : CALL 0x00640ed0
006241a5 : RET 0x20
