PROGRAM  : Maestia.exe
FUNCTION : FUN_00799640
ENTRY    : 00799640
BODY     : [[00799640, 007996ac] [007996b0, 0079970b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00799640(void)

{
  int *piVar1;
  int iVar2;
  int in_ECX;
  int *piVar3;
  
  (**(code **)(*(int *)(in_ECX + 0x2e4) + 4))();
  if (*(int **)(in_ECX + 0x28c) != (int *)0x0) {
    (**(code **)(**(int **)(in_ECX + 0x28c) + 0x14))();
  }
  piVar3 = *(int **)(in_ECX + 0x2d0);
  if (piVar3 != *(int **)(in_ECX + 0x2d4)) {
    do {
      if ((int *)*piVar3 == (int *)0x0) {
        FUN_008018d0(L"[AvaFxSceneNode::RecursStop()] *SIter is Null");
      }
      else {
        (**(code **)(*(int *)*piVar3 + 4))();
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(in_ECX + 0x2d4));
  }
  piVar3 = (int *)**(int **)(in_ECX + 0x38);
  if (piVar3 != *(int **)(in_ECX + 0x38)) {
    do {
      piVar1 = (int *)piVar3[9];
      if (piVar1 == (int *)0x0) {
        FUN_008018d0(L"[AvaFxSceneNode::RecursStop()] pScene is Null");
      }
      else {
        iVar2 = (**(code **)(*piVar1 + 0x1c))();
        if ((iVar2 == 2) && ((int *)piVar1[0xa3] != (int *)0x0)) {
          (**(code **)(*(int *)piVar1[0xa3] + 0x14))();
        }
        iVar2 = (**(code **)(*piVar1 + 0x1c))();
        if (iVar2 != 0) {
          (**(code **)(*piVar1 + 4))();
        }
      }
      piVar3 = (int *)*piVar3;
    } while (piVar3 != (int *)*(int *)(in_ECX + 0x38));
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00799640 : PUSH EBX
00799641 : MOV EBX,ECX
00799643 : MOV EAX,dword ptr [EBX + 0x2e4]
00799649 : MOV EDX,dword ptr [EAX + 0x4]
0079964c : LEA ECX,[EBX + 0x2e4]
00799652 : PUSH ESI
00799653 : PUSH EDI
00799654 : CALL EDX
00799656 : MOV ECX,dword ptr [EBX + 0x28c]
0079965c : TEST ECX,ECX
0079965e : JZ 0x00799667
00799660 : MOV EAX,dword ptr [ECX]
00799662 : MOV EDX,dword ptr [EAX + 0x14]
00799665 : CALL EDX
00799667 : MOV EDI,dword ptr [EBX + 0x2d0]
0079966d : CMP EDI,dword ptr [EBX + 0x2d4]
00799673 : JZ 0x007996a2
00799675 : MOV ECX,dword ptr [EDI]
00799677 : TEST ECX,ECX
00799679 : JNZ 0x00799690
0079967b : MOV ESI,dword ptr [0x00da98e8]
00799681 : PUSH 0xc15900
00799686 : CALL 0x008018d0
0079968b : ADD ESP,0x4
0079968e : JMP 0x00799697
00799690 : MOV EAX,dword ptr [ECX]
00799692 : MOV EDX,dword ptr [EAX + 0x4]
00799695 : CALL EDX
00799697 : ADD EDI,0x4
0079969a : CMP EDI,dword ptr [EBX + 0x2d4]
007996a0 : JNZ 0x00799675
007996a2 : MOV EAX,dword ptr [EBX + 0x38]
007996a5 : MOV EDI,dword ptr [EAX]
007996a7 : CMP EDI,EAX
007996a9 : JZ 0x00799708
007996ab : JMP 0x007996b0
007996b0 : MOV ESI,dword ptr [EDI + 0x24]
007996b3 : TEST ESI,ESI
007996b5 : JNZ 0x007996cc
007996b7 : MOV ESI,dword ptr [0x00da98e8]
007996bd : PUSH 0xc15960
007996c2 : CALL 0x008018d0
007996c7 : ADD ESP,0x4
007996ca : JMP 0x00799701
007996cc : MOV EAX,dword ptr [ESI]
007996ce : MOV EDX,dword ptr [EAX + 0x1c]
007996d1 : MOV ECX,ESI
007996d3 : CALL EDX
007996d5 : CMP EAX,0x2
007996d8 : JNZ 0x007996eb
007996da : MOV ECX,dword ptr [ESI + 0x28c]
007996e0 : TEST ECX,ECX
007996e2 : JZ 0x007996eb
007996e4 : MOV EAX,dword ptr [ECX]
007996e6 : MOV EDX,dword ptr [EAX + 0x14]
007996e9 : CALL EDX
007996eb : MOV EAX,dword ptr [ESI]
007996ed : MOV EDX,dword ptr [EAX + 0x1c]
007996f0 : MOV ECX,ESI
007996f2 : CALL EDX
007996f4 : TEST EAX,EAX
007996f6 : JZ 0x00799701
007996f8 : MOV EAX,dword ptr [ESI]
007996fa : MOV EDX,dword ptr [EAX + 0x4]
007996fd : MOV ECX,ESI
007996ff : CALL EDX
00799701 : MOV EDI,dword ptr [EDI]
00799703 : CMP EDI,dword ptr [EBX + 0x38]
00799706 : JNZ 0x007996b0
00799708 : POP EDI
00799709 : POP ESI
0079970a : POP EBX
0079970b : RET
