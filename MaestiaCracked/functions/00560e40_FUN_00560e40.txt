PROGRAM  : Maestia.exe
FUNCTION : FUN_00560e40
ENTRY    : 00560e40
BODY     : [[00560e40, 00560f70]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_00560e40(char param_1)

{
  int *piVar1;
  uint *puVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  int in_ECX;
  int *piVar6;
  int *piVar7;
  int local_c;
  uint local_4;
  
  piVar1 = (int *)(in_ECX + 0xc);
  if (*(int **)(in_ECX + 0xc) == (int *)0x0) {
    local_c = 0;
  }
  else {
    local_c = **(int **)(in_ECX + 0xc);
  }
  iVar3 = *piVar1;
  local_4 = 0;
  piVar7 = (int *)0x0;
  if (iVar3 != 0) {
    piVar6 = (int *)(iVar3 + 8);
    do {
      piVar7 = piVar1;
      if (*piVar6 != -2) break;
      local_4 = local_4 + 1;
      piVar6 = piVar6 + 3;
    } while (local_4 <= *(uint *)(iVar3 + 4));
  }
  do {
    do {
      if (((piVar7 == (int *)0x0) || (*piVar7 == 0)) || (*(int *)(*piVar7 + 4) < (int)local_4)) {
        if (param_1 == '\0') {
          iVar3 = 0;
          if ((int *)*piVar1 != (int *)0x0) {
            iVar3 = *(int *)*piVar1;
          }
          uVar4 = (uint)(iVar3 * 5) >> 2;
          uVar5 = 0;
          if ((uint *)*piVar1 != (uint *)0x0) {
            uVar5 = *(uint *)*piVar1;
          }
          if (uVar5 < uVar4) {
            FUN_00560650(piVar1,uVar4);
          }
        }
        uVar5 = 0;
        if ((uint *)*piVar1 != (uint *)0x0) {
          uVar5 = *(uint *)*piVar1;
        }
        puVar2 = (uint *)*piVar1;
        if (uVar5 < *(uint *)(in_ECX + 0x14)) {
          if ((puVar2 == (uint *)0x0) || (*puVar2 < 0x65)) {
            *(undefined4 *)(in_ECX + 0x14) = 100;
          }
        }
        else if (puVar2 == (uint *)0x0) {
          *(undefined4 *)(in_ECX + 0x14) = 10;
        }
        else {
          *(uint *)(in_ECX + 0x14) = *puVar2 + 10;
        }
        if ((int *)*piVar1 != (int *)0x0) {
          iVar3 = *(int *)*piVar1;
          return CONCAT31((int3)((uint)iVar3 >> 8),local_c != iVar3);
        }
        return (uint)(local_c != 0);
      }
      if (*(int *)(*(int *)(*piVar7 + 0x10 + local_4 * 0xc) + 4) == 1) {
        FUN_0055f7a0();
      }
      uVar5 = *(uint *)(*piVar7 + 4);
    } while (((int)uVar5 < (int)local_4) || (local_4 = local_4 + 1, uVar5 < local_4));
    piVar6 = (int *)(*piVar7 + 8 + local_4 * 0xc);
    do {
      if (*piVar6 != -2) break;
      local_4 = local_4 + 1;
      piVar6 = piVar6 + 3;
    } while (local_4 <= uVar5);
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00560e40 : SUB ESP,0xc
00560e43 : PUSH EBX
00560e44 : PUSH ESI
00560e45 : MOV EBX,ECX
00560e47 : MOV EAX,dword ptr [EBX + 0xc]
00560e4a : PUSH EDI
00560e4b : LEA EDI,[EBX + 0xc]
00560e4e : XOR ESI,ESI
00560e50 : CMP EAX,ESI
00560e52 : JNZ 0x00560e5a
00560e54 : MOV dword ptr [ESP + 0xc],ESI
00560e58 : JMP 0x00560e60
00560e5a : MOV EAX,dword ptr [EAX]
00560e5c : MOV dword ptr [ESP + 0xc],EAX
00560e60 : MOV ECX,dword ptr [EDI]
00560e62 : XOR EAX,EAX
00560e64 : CMP ECX,ESI
00560e66 : JZ 0x00560e7f
00560e68 : MOV EDX,dword ptr [ECX + 0x4]
00560e6b : ADD ECX,0x8
00560e6e : MOV EDI,EDI
00560e70 : CMP dword ptr [ECX],-0x2
00560e73 : JNZ 0x00560e7d
00560e75 : INC EAX
00560e76 : ADD ECX,0xc
00560e79 : CMP EAX,EDX
00560e7b : JBE 0x00560e70
00560e7d : MOV ESI,EDI
00560e7f : MOV dword ptr [ESP + 0x14],EAX
00560e83 : MOV dword ptr [ESP + 0x10],ESI
00560e87 : PUSH EBP
00560e88 : TEST ESI,ESI
00560e8a : JZ 0x00560ee4
00560e8c : CMP dword ptr [ESI],0x0
00560e8f : JZ 0x00560ee4
00560e91 : MOV ECX,dword ptr [ESI]
00560e93 : CMP EAX,dword ptr [ECX + 0x4]
00560e96 : JG 0x00560ee4
00560e98 : LEA EDX,[EAX + EAX*0x2]
00560e9b : MOV ECX,dword ptr [ECX + EDX*0x4 + 0x10]
00560e9f : MOV EAX,dword ptr [ECX + 0x4]
00560ea2 : CMP EAX,0x1
00560ea5 : JNZ 0x00560eb0
00560ea7 : LEA ECX,[ESP + 0x14]
00560eab : CALL 0x0055f7a0
00560eb0 : MOV ESI,dword ptr [ESP + 0x14]
00560eb4 : MOV EDX,dword ptr [ESI]
00560eb6 : MOV ECX,dword ptr [EDX + 0x4]
00560eb9 : MOV EAX,dword ptr [ESP + 0x18]
00560ebd : CMP EAX,ECX
00560ebf : JG 0x00560e88
00560ec1 : INC EAX
00560ec2 : MOV dword ptr [ESP + 0x18],EAX
00560ec6 : CMP EAX,ECX
00560ec8 : JA 0x00560e88
00560eca : LEA EBP,[EAX + EAX*0x2]
00560ecd : LEA EDX,[EDX + EBP*0x4 + 0x8]
00560ed1 : CMP dword ptr [EDX],-0x2
00560ed4 : JNZ 0x00560e88
00560ed6 : INC EAX
00560ed7 : ADD EDX,0xc
00560eda : MOV dword ptr [ESP + 0x18],EAX
00560ede : CMP EAX,ECX
00560ee0 : JBE 0x00560ed1
00560ee2 : JMP 0x00560e88
00560ee4 : CMP byte ptr [ESP + 0x20],0x0
00560ee9 : POP EBP
00560eea : JNZ 0x00560f0f
00560eec : MOV EAX,dword ptr [EDI]
00560eee : TEST EAX,EAX
00560ef0 : JZ 0x00560ef4
00560ef2 : MOV EAX,dword ptr [EAX]
00560ef4 : MOV ECX,dword ptr [EDI]
00560ef6 : LEA EAX,[EAX + EAX*0x4]
00560ef9 : SHR EAX,0x2
00560efc : TEST ECX,ECX
00560efe : JZ 0x00560f02
00560f00 : MOV ECX,dword ptr [ECX]
00560f02 : CMP EAX,ECX
00560f04 : JBE 0x00560f0f
00560f06 : PUSH EAX
00560f07 : PUSH EDI
00560f08 : MOV ECX,EDI
00560f0a : CALL 0x00560650
00560f0f : MOV EAX,dword ptr [EDI]
00560f11 : TEST EAX,EAX
00560f13 : JZ 0x00560f17
00560f15 : MOV EAX,dword ptr [EAX]
00560f17 : CMP EAX,dword ptr [EBX + 0x14]
00560f1a : MOV EAX,dword ptr [EDI]
00560f1c : JC 0x00560f36
00560f1e : TEST EAX,EAX
00560f20 : JNZ 0x00560f2c
00560f22 : MOV EAX,0xa
00560f27 : MOV dword ptr [EBX + 0x14],EAX
00560f2a : JMP 0x00560f46
00560f2c : MOV EAX,dword ptr [EAX]
00560f2e : ADD EAX,0xa
00560f31 : MOV dword ptr [EBX + 0x14],EAX
00560f34 : JMP 0x00560f46
00560f36 : TEST EAX,EAX
00560f38 : JZ 0x00560f3f
00560f3a : CMP dword ptr [EAX],0x64
00560f3d : JA 0x00560f46
00560f3f : MOV dword ptr [EBX + 0x14],0x64
00560f46 : MOV EAX,dword ptr [EDI]
00560f48 : POP EDI
00560f49 : POP ESI
00560f4a : POP EBX
00560f4b : TEST EAX,EAX
00560f4d : JNZ 0x00560f5f
00560f4f : XOR ECX,ECX
00560f51 : CMP dword ptr [ESP],EAX
00560f54 : SETNZ CL
00560f57 : MOV AL,CL
00560f59 : ADD ESP,0xc
00560f5c : RET 0x4
00560f5f : MOV EAX,dword ptr [EAX]
00560f61 : XOR ECX,ECX
00560f63 : CMP dword ptr [ESP],EAX
00560f66 : SETNZ CL
00560f69 : MOV AL,CL
00560f6b : ADD ESP,0xc
00560f6e : RET 0x4
