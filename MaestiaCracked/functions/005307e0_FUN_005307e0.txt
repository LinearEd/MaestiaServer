PROGRAM  : Maestia.exe
FUNCTION : FUN_005307e0
ENTRY    : 005307e0
BODY     : [[005307e0, 00530906]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x005308e6) */

int FUN_005307e0(int *param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int *piVar3;
  int iVar4;
  int local_c;
  int iStack_8;
  byte bStack_4;
  
  iVar1 = *param_1;
  piVar3 = (int *)(iVar1 + 8);
  *piVar3 = *piVar3 + 1;
  puVar2 = (undefined4 *)FUN_00530480(iVar1);
  if (puVar2 != (undefined4 *)0x0) {
    piVar3 = puVar2 + 1;
    if (puVar2[1] == 0) {
      piVar3 = (int *)(*(code *)*puVar2)(&local_c);
      iVar1 = *piVar3;
      if (iVar1 != 0) {
        *(int *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1;
        *(uint *)(iVar1 + 8) = *(uint *)(iVar1 + 8) & 0x8fffffff;
      }
      if (piVar3[1] != 0) {
        FUN_005686c0(piVar3[1],*(byte *)(piVar3 + 2) & 1);
      }
      if (((bStack_4 & 2) == 0) && (local_c != 0)) {
        FUN_00503db0();
      }
      local_c = 0;
      if (((bStack_4 & 1) == 0) && (iStack_8 != 0)) {
        FUN_00503db0();
      }
      iVar4 = *param_1;
      piVar3 = (int *)(iVar4 + 8);
      *piVar3 = *piVar3 + 1;
      iVar4 = FUN_00530480(iVar4);
      piVar3 = (int *)(iVar4 + 4);
      if (iVar1 != 0) {
        *(int *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1;
        *(uint *)(iVar1 + 8) = *(uint *)(iVar1 + 8) & 0x8fffffff;
      }
      if (*piVar3 != 0) {
        FUN_00503db0();
      }
      *piVar3 = iVar1;
      if (iVar1 != 0) {
        FUN_00503db0();
      }
    }
    return *piVar3;
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
005307e0 : SUB ESP,0x18
005307e3 : PUSH EBX
005307e4 : PUSH EBP
005307e5 : MOV EBP,dword ptr [ESP + 0x24]
005307e9 : MOV EAX,dword ptr [EBP]
005307ec : PUSH ESI
005307ed : PUSH EDI
005307ee : PUSH ECX
005307ef : MOV ESI,ECX
005307f1 : MOV ECX,ESP
005307f3 : MOV dword ptr [ECX],EAX
005307f5 : INC dword ptr [EAX + 0x8]
005307f8 : MOV ECX,ESI
005307fa : CALL 0x00530480
005307ff : XOR EBX,EBX
00530801 : CMP EAX,EBX
00530803 : JZ 0x005308fb
00530809 : CMP dword ptr [EAX + 0x4],EBX
0053080c : LEA EDI,[EAX + 0x4]
0053080f : JNZ 0x005308ef
00530815 : MOV EDX,dword ptr [EAX]
00530817 : LEA ECX,[ESP + 0x1c]
0053081b : PUSH ESI
0053081c : PUSH ECX
0053081d : CALL EDX
0053081f : MOV byte ptr [ESP + 0x20],BL
00530823 : MOV ECX,dword ptr [EAX]
00530825 : ADD ESP,0x8
00530828 : MOV dword ptr [ESP + 0x10],ECX
0053082c : CMP ECX,EBX
0053082e : JZ 0x0053083c
00530830 : INC dword ptr [ECX + 0x8]
00530833 : ADD ECX,0x8
00530836 : AND dword ptr [ECX],0x8fffffff
0053083c : MOV dword ptr [ESP + 0x14],EBX
00530840 : MOV ECX,dword ptr [EAX + 0x4]
00530843 : CMP ECX,EBX
00530845 : JZ 0x0053085a
00530847 : MOV AL,byte ptr [EAX + 0x8]
0053084a : AND AL,0x1
0053084c : MOVZX EDX,AL
0053084f : PUSH EDX
00530850 : PUSH ECX
00530851 : LEA ECX,[ESP + 0x18]
00530855 : CALL 0x005686c0
0053085a : TEST byte ptr [ESP + 0x24],0x2
0053085f : JNZ 0x0053086e
00530861 : MOV ECX,dword ptr [ESP + 0x1c]
00530865 : CMP ECX,EBX
00530867 : JZ 0x0053086e
00530869 : CALL 0x00503db0
0053086e : TEST byte ptr [ESP + 0x24],0x1
00530873 : MOV dword ptr [ESP + 0x1c],EBX
00530877 : JNZ 0x00530886
00530879 : MOV ECX,dword ptr [ESP + 0x20]
0053087d : CMP ECX,EBX
0053087f : JZ 0x00530886
00530881 : CALL 0x00503db0
00530886 : MOV EAX,dword ptr [EBP]
00530889 : PUSH ECX
0053088a : MOV ECX,ESP
0053088c : MOV dword ptr [ECX],EAX
0053088e : INC dword ptr [EAX + 0x8]
00530891 : MOV ECX,ESI
00530893 : CALL 0x00530480
00530898 : MOV ECX,dword ptr [ESP + 0x10]
0053089c : MOV ESI,ECX
0053089e : LEA EDI,[EAX + 0x4]
005308a1 : CMP ECX,EBX
005308a3 : JZ 0x005308b2
005308a5 : INC dword ptr [ECX + 0x8]
005308a8 : AND dword ptr [ECX + 0x8],0x8fffffff
005308af : LEA EAX,[ECX + 0x8]
005308b2 : MOV ECX,dword ptr [EDI]
005308b4 : CMP ECX,EBX
005308b6 : JZ 0x005308bd
005308b8 : CALL 0x00503db0
005308bd : MOV dword ptr [EDI],ESI
005308bf : TEST byte ptr [ESP + 0x18],0x2
005308c4 : JNZ 0x005308d3
005308c6 : MOV ECX,dword ptr [ESP + 0x10]
005308ca : CMP ECX,EBX
005308cc : JZ 0x005308d3
005308ce : CALL 0x00503db0
005308d3 : TEST byte ptr [ESP + 0x18],0x1
005308d8 : MOV dword ptr [ESP + 0x10],EBX
005308dc : JNZ 0x005308eb
005308de : MOV ECX,dword ptr [ESP + 0x14]
005308e2 : CMP ECX,EBX
005308e4 : JZ 0x005308eb
005308e6 : CALL 0x00503db0
005308eb : MOV dword ptr [ESP + 0x14],EBX
005308ef : MOV EAX,dword ptr [EDI]
005308f1 : POP EDI
005308f2 : POP ESI
005308f3 : POP EBP
005308f4 : POP EBX
005308f5 : ADD ESP,0x18
005308f8 : RET 0x4
005308fb : POP EDI
005308fc : POP ESI
005308fd : POP EBP
005308fe : XOR EAX,EAX
00530900 : POP EBX
00530901 : ADD ESP,0x18
00530904 : RET 0x4
