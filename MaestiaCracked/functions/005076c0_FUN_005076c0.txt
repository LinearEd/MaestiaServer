PROGRAM  : Maestia.exe
FUNCTION : FUN_005076c0
ENTRY    : 005076c0
BODY     : [[005076c0, 005078ab]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005076c0(void)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  int in_ECX;
  int iVar4;
  int iStack_6c;
  int iStack_68;
  undefined4 uStack_64;
  undefined1 auStack_60 [4];
  int iStack_5c;
  undefined4 uStack_40;
  undefined4 uStack_3c;
  int iStack_38;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined2 uStack_28;
  undefined1 uStack_26;
  undefined1 uStack_25;
  undefined1 uStack_24;
  undefined1 uStack_23;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined1 uStack_18;
  code *pcStack_14;
  undefined4 uStack_10;
  undefined4 uStack_c;
  undefined4 uStack_8;
  undefined4 uStack_4;
  
  iVar4 = in_ECX + -0xd8;
  (**(code **)(*(int *)(in_ECX + -0xd8) + 0x5c))();
  uStack_30 = 0;
  uStack_2c = 0;
  uStack_28 = 0;
  uStack_26 = 0;
  uStack_25 = 0xff;
  uStack_24 = 0;
  uStack_23 = 0;
  uStack_18 = 0;
  uStack_20 = 0;
  uStack_1c = 0;
  uStack_10 = 0;
  uStack_c = 0;
  uStack_8 = 0;
  uStack_40 = 0;
  uStack_4 = 0;
  uStack_3c = 4;
  *(int *)(in_ECX + -0xd4) = *(int *)(in_ECX + -0xd4) + 1;
  uStack_34 = 0;
  pcStack_14 = FUN_00502d30;
  iStack_38 = iVar4;
  FUN_005296a0();
  iVar2 = FUN_0056b6b0(4,&uStack_40);
  if (iVar2 == 0) {
    iStack_6c = 0;
    iStack_68 = 0;
    uStack_64 = 0;
    iVar2 = FUN_00525380("onScroller",10,0);
    *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1;
    auStack_60[0] = 5;
    *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1;
    iStack_5c = iVar2;
    FUN_005034e0(&iStack_6c,1);
    if (iStack_68 * 0x10 + -0x10 + iStack_6c != 0) {
      FUN_005266c0(auStack_60);
    }
    FUN_00526bc0();
    piVar1 = (int *)(iVar2 + 8);
    *piVar1 = *piVar1 + -1;
    if (*piVar1 == 0) {
      FUN_00525340();
    }
    uVar3 = FUN_00526090(iVar4);
    FUN_005034e0(&iStack_6c,iStack_68 + 1);
    if (iStack_68 * 0x10 + -0x10 + iStack_6c != 0) {
      FUN_005266c0(uVar3);
    }
    FUN_00526bc0();
    FUN_005296a0();
    iVar2 = FUN_00571c40(4);
    *(undefined4 *)(iVar2 + 4) = 4;
    *(int *)(in_ECX + -0xd4) = *(int *)(in_ECX + -0xd4) + 1;
    if (*(GRefCountNTSImpl **)(iVar2 + 8) != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(iVar2 + 8));
    }
    *(int *)(iVar2 + 8) = iVar4;
    if (*(GRefCountNTSImpl **)(iVar2 + 0xc) != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(iVar2 + 0xc));
    }
    *(undefined4 *)(iVar2 + 0xc) = 0;
    *(code **)(iVar2 + 0x2c) = FUN_00502d30;
    FUN_00504fd0(&iStack_6c);
    for (iVar4 = iStack_68; iVar4 != 0; iVar4 = iVar4 + -1) {
      FUN_00526bc0();
    }
    FUN_00515cf0(iStack_6c);
  }
  FUN_00505540();
  return;
}



============================================================
DISASSEMBLY
============================================================
005076c0 : SUB ESP,0x70
005076c3 : MOV EAX,dword ptr [ECX + 0xffffff28]
005076c9 : MOV EDX,dword ptr [EAX + 0x5c]
005076cc : PUSH EBX
005076cd : PUSH EBP
005076ce : PUSH ESI
005076cf : LEA ESI,[ECX + 0xffffff28]
005076d5 : MOV ECX,ESI
005076d7 : CALL EDX
005076d9 : XOR EBX,EBX
005076db : MOV EBP,EAX
005076dd : XOR EAX,EAX
005076df : MOV dword ptr [ESP + 0x44],EBX
005076e3 : MOV dword ptr [ESP + 0x48],EBX
005076e7 : MOV dword ptr [ESP + 0x4c],EBX
005076eb : MOV dword ptr [ESP + 0x50],EBX
005076ef : MOV word ptr [ESP + 0x54],AX
005076f4 : MOV byte ptr [ESP + 0x56],BL
005076f8 : MOV byte ptr [ESP + 0x57],0xff
005076fd : MOV byte ptr [ESP + 0x58],BL
00507701 : MOV byte ptr [ESP + 0x59],BL
00507705 : MOV byte ptr [ESP + 0x64],BL
00507709 : MOV dword ptr [ESP + 0x5c],EBX
0050770d : MOV dword ptr [ESP + 0x60],EBX
00507711 : MOV dword ptr [ESP + 0x6c],EBX
00507715 : MOV dword ptr [ESP + 0x70],EBX
00507719 : MOV dword ptr [ESP + 0x74],EBX
0050771d : MOV dword ptr [ESP + 0x3c],EBX
00507721 : MOV dword ptr [ESP + 0x78],EBX
00507725 : MOV dword ptr [ESP + 0x40],0x4
0050772d : INC dword ptr [ESI + 0x4]
00507730 : MOV ECX,EBP
00507732 : MOV dword ptr [ESP + 0x44],ESI
00507736 : MOV dword ptr [ESP + 0x48],EBX
0050773a : MOV dword ptr [ESP + 0x68],0x502d30
00507742 : CALL 0x005296a0
00507747 : LEA ECX,[ESP + 0x3c]
0050774b : PUSH ECX
0050774c : PUSH 0x4
0050774e : LEA ECX,[EAX + 0xa2c]
00507754 : CALL 0x0056b6b0
00507759 : TEST EAX,EAX
0050775b : JNZ 0x0050789a
00507761 : MOV EAX,dword ptr [EBP + 0x78]
00507764 : PUSH EDI
00507765 : PUSH EBX
00507766 : PUSH 0xa
00507768 : PUSH 0xb86688
0050776d : LEA ECX,[EAX + 0x254]
00507773 : MOV dword ptr [ESP + 0x20],EBX
00507777 : MOV dword ptr [ESP + 0x24],EBX
0050777b : MOV dword ptr [ESP + 0x28],EBX
0050777f : CALL 0x00525380
00507784 : MOV EDI,EAX
00507786 : MOV EAX,0x1
0050778b : ADD dword ptr [EDI + 0x8],EAX
0050778e : LEA EDX,[ESP + 0x14]
00507792 : PUSH EAX
00507793 : MOV byte ptr [ESP + 0x24],0x5
00507798 : MOV dword ptr [ESP + 0x28],EDI
0050779c : ADD dword ptr [EDI + 0x8],EAX
0050779f : PUSH EDX
005077a0 : MOV ECX,EDX
005077a2 : CALL 0x005034e0
005077a7 : MOV EAX,dword ptr [ESP + 0x18]
005077ab : MOV ECX,dword ptr [ESP + 0x14]
005077af : SHL EAX,0x4
005077b2 : LEA ECX,[EAX + ECX*0x1 + -0x10]
005077b6 : CMP ECX,EBX
005077b8 : JZ 0x005077c4
005077ba : LEA EDX,[ESP + 0x20]
005077be : PUSH EDX
005077bf : CALL 0x005266c0
005077c4 : LEA ECX,[ESP + 0x20]
005077c8 : CALL 0x00526bc0
005077cd : ADD dword ptr [EDI + 0x8],-0x1
005077d1 : JNZ 0x005077da
005077d3 : MOV ECX,EDI
005077d5 : CALL 0x00525340
005077da : PUSH ESI
005077db : LEA ECX,[ESP + 0x34]
005077df : CALL 0x00526090
005077e4 : MOV EDI,EAX
005077e6 : MOV EAX,dword ptr [ESP + 0x18]
005077ea : INC EAX
005077eb : PUSH EAX
005077ec : LEA ECX,[ESP + 0x18]
005077f0 : PUSH ECX
005077f1 : CALL 0x005034e0
005077f6 : MOV EDX,dword ptr [ESP + 0x18]
005077fa : MOV EAX,dword ptr [ESP + 0x14]
005077fe : SHL EDX,0x4
00507801 : LEA ECX,[EDX + EAX*0x1 + -0x10]
00507805 : MOV dword ptr [ESP + 0x10],ECX
00507809 : CMP ECX,EBX
0050780b : JZ 0x00507813
0050780d : PUSH EDI
0050780e : CALL 0x005266c0
00507813 : LEA ECX,[ESP + 0x30]
00507817 : CALL 0x00526bc0
0050781c : MOV ECX,EBP
0050781e : CALL 0x005296a0
00507823 : PUSH 0x4
00507825 : LEA ECX,[EAX + 0xa2c]
0050782b : CALL 0x00571c40
00507830 : MOV EDI,EAX
00507832 : MOV dword ptr [EDI + 0x4],0x4
00507839 : INC dword ptr [ESI + 0x4]
0050783c : MOV ECX,dword ptr [EDI + 0x8]
0050783f : CMP ECX,EBX
00507841 : JZ 0x00507848
00507843 : CALL 0x004ff7c0
00507848 : MOV dword ptr [EDI + 0x8],ESI
0050784b : MOV ECX,dword ptr [EDI + 0xc]
0050784e : CMP ECX,EBX
00507850 : JZ 0x00507857
00507852 : CALL 0x004ff7c0
00507857 : LEA ECX,[ESP + 0x14]
0050785b : PUSH ECX
0050785c : MOV dword ptr [EDI + 0xc],EBX
0050785f : LEA ECX,[EDI + 0x30]
00507862 : MOV dword ptr [EDI + 0x2c],0x502d30
00507869 : CALL 0x00504fd0
0050786e : MOV EDI,dword ptr [ESP + 0x18]
00507872 : MOV ESI,dword ptr [ESP + 0x10]
00507876 : CMP EDI,EBX
00507878 : JBE 0x0050788f
0050787a : LEA EBX,[EBX]
00507880 : MOV ECX,ESI
00507882 : CALL 0x00526bc0
00507887 : SUB ESI,0x10
0050788a : SUB EDI,0x1
0050788d : JNZ 0x00507880
0050788f : MOV EDX,dword ptr [ESP + 0x14]
00507893 : PUSH EDX
00507894 : CALL 0x00515cf0
00507899 : POP EDI
0050789a : LEA ECX,[ESP + 0x3c]
0050789e : CALL 0x00505540
005078a3 : POP ESI
005078a4 : POP EBP
005078a5 : POP EBX
005078a6 : ADD ESP,0x70
005078a9 : RET 0x4
