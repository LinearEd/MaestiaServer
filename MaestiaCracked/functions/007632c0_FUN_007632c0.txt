PROGRAM  : Maestia.exe
FUNCTION : FUN_007632c0
ENTRY    : 007632c0
BODY     : [[007632c0, 00763438]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0076336e) */

int FUN_007632c0(int param_1,int *param_2)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint unaff_EBX;
  undefined4 unaff_ESI;
  uint uVar5;
  int unaff_EDI;
  undefined8 uVar6;
  undefined1 *puStack_58;
  undefined1 *puStack_54;
  undefined8 uStack_40;
  longlong lStack_38;
  undefined1 local_30 [4];
  uint uStack_2c;
  uint uStack_28;
  undefined1 local_20 [4];
  undefined1 auStack_1c [24];
  
  if (param_2 == (int *)0x0) {
    return -0x7fffbffd;
  }
  puStack_54 = local_30;
  puStack_58 = local_20;
  iVar1 = (**(code **)(*param_2 + 0x14))(param_2);
  if (-1 < iVar1) {
    uVar6 = __alldiv(uStack_2c,uStack_28,FUN_00989680,0);
    uStack_40._0_4_ = (undefined4)((ulonglong)uVar6 >> 0x20);
    uVar2 = __alldiv(uStack_40._4_4_ - uStack_2c,
                     ((int)lStack_38 - uStack_28) - (uint)(uStack_40._4_4_ < uStack_2c),FUN_00989680
                     ,0);
    lStack_38 = (**(code **)(**(int **)(*(int *)(param_1 + 0xa4) + 0x18) + 0xc))(auStack_1c);
    uStack_28 = uVar2 + unaff_EBX;
    iVar1 = ((int)uVar2 >> 0x1f) + (int)uVar6 + (uint)CARRY4(uVar2,unaff_EBX);
    uStack_40 = CONCAT44(uStack_40._4_4_,(undefined4)uStack_40);
    if (lStack_38 < CONCAT44(iVar1,uStack_28)) {
      unaff_EDI = (**(code **)(**(int **)(*(int *)(param_1 + 0xa4) + 0x18) + 0x10))();
      iVar3 = (int)(lStack_38 + unaff_EDI);
      uVar5 = (int)((ulonglong)(lStack_38 + unaff_EDI) >> 0x20) - (uint)(iVar3 == 0) &
              (int)~(unaff_EDI - 1U) >> 0x1f;
      uVar4 = iVar3 - 1U & ~(unaff_EDI - 1U);
      uStack_40 = CONCAT44(uStack_40._4_4_,(undefined4)uStack_40);
      if (((int)uVar5 <= iVar1) &&
         (((int)uVar5 < iVar1 ||
          (uStack_40 = CONCAT44(uStack_40._4_4_,(undefined4)uStack_40), uVar4 < uStack_28)))) {
        uVar2 = uVar4 - unaff_EBX;
        uStack_40 = __allmul(uVar4,uVar5,FUN_00989680,0);
        (**(code **)(*param_2 + 0x18))(param_2,local_30,&uStack_40);
      }
    }
    iVar1 = (**(code **)(*param_2 + 0xc))(param_2,&stack0xffffffb4);
    if (-1 < iVar1) {
      iVar1 = FUN_0072e070(unaff_EDI,unaff_ESI,uVar2,puStack_54,&puStack_58,param_2);
      (**(code **)(*param_2 + 0x30))(param_2,puStack_58);
    }
  }
  return iVar1;
}



============================================================
DISASSEMBLY
============================================================
007632c0 : PUSH EBP
007632c1 : MOV EBP,ESP
007632c3 : AND ESP,0xfffffff8
007632c6 : SUB ESP,0x3c
007632c9 : PUSH EBX
007632ca : PUSH ESI
007632cb : MOV ESI,dword ptr [EBP + 0xc]
007632ce : PUSH EDI
007632cf : TEST ESI,ESI
007632d1 : JNZ 0x007632e1
007632d3 : MOV EAX,0x80004003
007632d8 : POP EDI
007632d9 : POP ESI
007632da : POP EBX
007632db : MOV ESP,EBP
007632dd : POP EBP
007632de : RET 0x8
007632e1 : MOV EAX,dword ptr [ESI]
007632e3 : MOV EAX,dword ptr [EAX + 0x14]
007632e6 : LEA ECX,[ESP + 0x20]
007632ea : PUSH ECX
007632eb : LEA EDX,[ESP + 0x34]
007632ef : PUSH EDX
007632f0 : PUSH ESI
007632f1 : CALL EAX
007632f3 : TEST EAX,EAX
007632f5 : JL 0x00763430
007632fb : MOV EDI,dword ptr [ESP + 0x34]
007632ff : MOV EBX,dword ptr [ESP + 0x30]
00763303 : PUSH 0x0
00763305 : PUSH 0x989680
0076330a : PUSH EDI
0076330b : PUSH EBX
0076330c : CALL 0x0063c760
00763311 : MOV ECX,dword ptr [ESP + 0x20]
00763315 : MOV dword ptr [ESP + 0x1c],EDX
00763319 : MOV EDX,dword ptr [ESP + 0x24]
0076331d : PUSH 0x0
0076331f : SUB ECX,EBX
00763321 : PUSH 0x989680
00763326 : SBB EDX,EDI
00763328 : PUSH EDX
00763329 : PUSH ECX
0076332a : MOV dword ptr [ESP + 0x28],EAX
0076332e : CALL 0x0063c760
00763333 : MOV EBX,EAX
00763335 : MOV EAX,dword ptr [EBP + 0x8]
00763338 : MOV EAX,dword ptr [EAX + 0xa4]
0076333e : MOV ECX,dword ptr [EAX + 0x18]
00763341 : MOV EDX,dword ptr [ECX]
00763343 : MOV EDX,dword ptr [EDX + 0xc]
00763346 : LEA EAX,[ESP + 0x40]
0076334a : PUSH EAX
0076334b : CALL EDX
0076334d : MOV dword ptr [ESP + 0x28],EAX
00763351 : MOV ECX,EDX
00763353 : MOV EAX,EBX
00763355 : CDQ
00763356 : ADD EAX,dword ptr [ESP + 0x18]
0076335a : MOV EDI,EDX
0076335c : ADC EDI,dword ptr [ESP + 0x1c]
00763360 : MOV dword ptr [ESP + 0x2c],ECX
00763364 : CMP EDI,ECX
00763366 : MOV dword ptr [ESP + 0x38],EAX
0076336a : JL 0x007633ea
0076336c : JG 0x00763374
0076336e : CMP EAX,dword ptr [ESP + 0x28]
00763372 : JBE 0x007633ea
00763374 : MOV EAX,dword ptr [EBP + 0x8]
00763377 : MOV EAX,dword ptr [EAX + 0xa4]
0076337d : MOV ECX,dword ptr [EAX + 0x18]
00763380 : MOV EDX,dword ptr [ECX]
00763382 : MOV EAX,dword ptr [EDX + 0x10]
00763385 : CALL EAX
00763387 : MOV dword ptr [ESP + 0x10],EAX
0076338b : CDQ
0076338c : MOV ECX,EAX
0076338e : ADD ECX,dword ptr [ESP + 0x28]
00763392 : MOV EAX,dword ptr [ESP + 0x10]
00763396 : MOV ESI,EDX
00763398 : ADC ESI,dword ptr [ESP + 0x2c]
0076339c : SUB ECX,0x1
0076339f : SBB ESI,0x0
007633a2 : DEC EAX
007633a3 : NOT EAX
007633a5 : CDQ
007633a6 : AND ESI,EDX
007633a8 : AND ECX,EAX
007633aa : CMP EDI,ESI
007633ac : JL 0x007633e7
007633ae : JG 0x007633b6
007633b0 : CMP dword ptr [ESP + 0x38],ECX
007633b4 : JBE 0x007633e7
007633b6 : PUSH 0x0
007633b8 : PUSH 0x989680
007633bd : PUSH ESI
007633be : MOV EBX,ECX
007633c0 : SUB EBX,dword ptr [ESP + 0x24]
007633c4 : PUSH ECX
007633c5 : CALL 0x0063c720
007633ca : MOV dword ptr [ESP + 0x24],EDX
007633ce : LEA EDX,[ESP + 0x20]
007633d2 : PUSH EDX
007633d3 : MOV dword ptr [ESP + 0x24],EAX
007633d7 : MOV EAX,dword ptr [EBP + 0xc]
007633da : MOV ECX,dword ptr [EAX]
007633dc : LEA EDX,[ESP + 0x34]
007633e0 : PUSH EDX
007633e1 : PUSH EAX
007633e2 : MOV EAX,dword ptr [ECX + 0x18]
007633e5 : CALL EAX
007633e7 : MOV ESI,dword ptr [EBP + 0xc]
007633ea : MOV ECX,dword ptr [ESI]
007633ec : MOV EAX,dword ptr [ECX + 0xc]
007633ef : LEA EDX,[ESP + 0x14]
007633f3 : PUSH EDX
007633f4 : PUSH ESI
007633f5 : CALL EAX
007633f7 : TEST EAX,EAX
007633f9 : JL 0x00763430
007633fb : MOV EDX,dword ptr [ESP + 0x14]
007633ff : MOV EAX,dword ptr [ESP + 0x1c]
00763403 : PUSH ESI
00763404 : LEA ECX,[ESP + 0x14]
00763408 : PUSH ECX
00763409 : MOV ECX,dword ptr [ESP + 0x20]
0076340d : PUSH EDX
0076340e : MOV EDX,dword ptr [EBP + 0x8]
00763411 : PUSH EBX
00763412 : PUSH EAX
00763413 : MOV EAX,dword ptr [EDX + 0xa4]
00763419 : PUSH ECX
0076341a : CALL 0x0072e070
0076341f : MOV ECX,dword ptr [ESP + 0x10]
00763423 : MOV EDI,EAX
00763425 : MOV EAX,dword ptr [ESI]
00763427 : MOV EDX,dword ptr [EAX + 0x30]
0076342a : PUSH ECX
0076342b : PUSH ESI
0076342c : CALL EDX
0076342e : MOV EAX,EDI
00763430 : POP EDI
00763431 : POP ESI
00763432 : POP EBX
00763433 : MOV ESP,EBP
00763435 : POP EBP
00763436 : RET 0x8
