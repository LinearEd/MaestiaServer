PROGRAM  : Maestia.exe
FUNCTION : FUN_007a4510
ENTRY    : 007a4510
BODY     : [[007a4510, 007a4739]]

============================================================
DECOMPILED C CODE
============================================================

undefined4
FUN_007a4510(undefined4 param_1,undefined4 param_2,int param_3,undefined4 param_4,undefined4 param_5
            )

{
  int *piVar1;
  int *piVar2;
  char cVar3;
  code *pcVar4;
  short sVar5;
  int *in_ECX;
  short sVar6;
  
  if ((*(byte *)(in_ECX + 0x15) & 1) == 0) {
    return 0;
  }
  if (((uint)in_ECX[0x15] >> 1 & 1) == 0) {
    return 0;
  }
  sVar6 = (short)param_5;
  sVar5 = (short)((uint)param_5 >> 0x10);
  if (in_ECX[0x42d] != 0) {
    if ((((in_ECX[0x429] <= (int)sVar6) && ((int)sVar6 < in_ECX[0x42b])) &&
        (in_ECX[0x42a] <= (int)sVar5)) && ((int)sVar5 < in_ECX[0x42c])) {
      FUN_007cb680();
    }
  }
  if (((code *)in_ECX[0x1f] != (code *)0x0) &&
     (cVar3 = (*(code *)in_ECX[0x1f])(param_1,param_2,param_3,param_4,param_5), cVar3 == '\0')) {
    return 0;
  }
  switch(param_3) {
  case 0x200:
    pcVar4 = *(code **)(*in_ECX + 0x4c);
    break;
  case 0x201:
    pcVar4 = *(code **)(*in_ECX + 0x38);
    break;
  case 0x202:
    pcVar4 = *(code **)(*in_ECX + 0x3c);
    break;
  case 0x203:
    pcVar4 = *(code **)(*in_ECX + 0x34);
    break;
  case 0x204:
    pcVar4 = *(code **)(*in_ECX + 0x58);
    break;
  case 0x205:
    pcVar4 = *(code **)(*in_ECX + 0x5c);
    break;
  default:
    goto switchD_007a45ae_default;
  }
  cVar3 = (*pcVar4)(param_4,(int)sVar6,(int)sVar5);
  if (cVar3 != '\0') {
    return 1;
  }
switchD_007a45ae_default:
  piVar1 = (int *)in_ECX[0x433];
  piVar2 = (int *)*piVar1;
  while (piVar2 != piVar1) {
    cVar3 = FUN_007a3c20(param_1,param_2,param_3,param_4,param_5);
    if (cVar3 != '\0') {
      return 1;
    }
    FUN_00416210();
  }
  if ((in_ECX[0x42d] != 0) && ((char)in_ECX[0x437] != '\0')) {
    if ((param_3 == 0x201) || (((param_3 == 0x202 || (param_3 == 0x204)) || (param_3 == 0x205)))) {
      if ((((in_ECX[0x429] <= (int)sVar6) && ((int)sVar6 < in_ECX[0x42b])) &&
          (in_ECX[0x42a] <= (int)sVar5)) && ((int)sVar5 < in_ECX[0x42c])) {
        (**(code **)(*in_ECX + 0x1c))();
        return 1;
      }
    }
    else if ((param_3 == 0x200) && (cVar3 = FUN_0047a250(), cVar3 != '\0')) {
      return 1;
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
007a4510 : PUSH EBP
007a4511 : MOV EBP,ESP
007a4513 : AND ESP,0xfffffff8
007a4516 : SUB ESP,0xc
007a4519 : PUSH EBX
007a451a : MOV EBX,ECX
007a451c : TEST byte ptr [EBX + 0x54],0x1
007a4520 : PUSH ESI
007a4521 : PUSH EDI
007a4522 : JZ 0x007a472f
007a4528 : MOV EAX,dword ptr [EBX + 0x54]
007a452b : SHR EAX,0x1
007a452d : TEST AL,0x1
007a452f : JZ 0x007a472f
007a4535 : CMP dword ptr [EBX + 0x10b4],0x0
007a453c : MOV EDI,dword ptr [EBP + 0x18]
007a453f : JZ 0x007a4577
007a4541 : MOVSX EAX,DI
007a4544 : MOV ECX,EDI
007a4546 : SHR ECX,0x10
007a4549 : CMP dword ptr [EBX + 0x10a4],EAX
007a454f : MOVSX ECX,CX
007a4552 : JG 0x007a4577
007a4554 : CMP EAX,dword ptr [EBX + 0x10ac]
007a455a : JGE 0x007a4577
007a455c : CMP dword ptr [EBX + 0x10a8],ECX
007a4562 : JG 0x007a4577
007a4564 : CMP ECX,dword ptr [EBX + 0x10b0]
007a456a : JGE 0x007a4577
007a456c : MOV ESI,dword ptr [0x017251d0]
007a4572 : CALL 0x007cb680
007a4577 : MOV EAX,dword ptr [EBX + 0x7c]
007a457a : MOV ESI,dword ptr [EBP + 0x14]
007a457d : TEST EAX,EAX
007a457f : JZ 0x007a459c
007a4581 : MOV EDX,dword ptr [EBP + 0x10]
007a4584 : MOV ECX,dword ptr [EBP + 0xc]
007a4587 : PUSH EDI
007a4588 : PUSH ESI
007a4589 : PUSH EDX
007a458a : MOV EDX,dword ptr [EBP + 0x8]
007a458d : PUSH ECX
007a458e : PUSH EDX
007a458f : CALL EAX
007a4591 : ADD ESP,0x14
007a4594 : TEST AL,AL
007a4596 : JZ 0x007a472f
007a459c : MOV ECX,dword ptr [EBP + 0x10]
007a459f : LEA EAX,[ECX + 0xfffffe00]
007a45a5 : CMP EAX,0x5
007a45a8 : JA 0x007a463b
007a45ae : JMP dword ptr [EAX*0x4 + 0x7a473c]
007a45b5 : MOV EDX,dword ptr [EBX]
007a45b7 : MOV ECX,EDI
007a45b9 : SHR ECX,0x10
007a45bc : MOVSX ECX,CX
007a45bf : MOVSX EAX,DI
007a45c2 : PUSH ECX
007a45c3 : PUSH EAX
007a45c4 : MOV EAX,dword ptr [EDX + 0x38]
007a45c7 : JMP 0x007a462b
007a45c9 : MOV EDX,dword ptr [EBX]
007a45cb : MOV ECX,EDI
007a45cd : SHR ECX,0x10
007a45d0 : MOVSX ECX,CX
007a45d3 : MOVSX EAX,DI
007a45d6 : PUSH ECX
007a45d7 : PUSH EAX
007a45d8 : MOV EAX,dword ptr [EDX + 0x3c]
007a45db : JMP 0x007a462b
007a45dd : MOV EDX,dword ptr [EBX]
007a45df : MOV ECX,EDI
007a45e1 : SHR ECX,0x10
007a45e4 : MOVSX ECX,CX
007a45e7 : MOVSX EAX,DI
007a45ea : PUSH ECX
007a45eb : PUSH EAX
007a45ec : MOV EAX,dword ptr [EDX + 0x4c]
007a45ef : JMP 0x007a462b
007a45f1 : MOV EDX,dword ptr [EBX]
007a45f3 : MOV ECX,EDI
007a45f5 : SHR ECX,0x10
007a45f8 : MOVSX ECX,CX
007a45fb : MOVSX EAX,DI
007a45fe : PUSH ECX
007a45ff : PUSH EAX
007a4600 : MOV EAX,dword ptr [EDX + 0x58]
007a4603 : JMP 0x007a462b
007a4605 : MOV EDX,dword ptr [EBX]
007a4607 : MOV ECX,EDI
007a4609 : SHR ECX,0x10
007a460c : MOVSX ECX,CX
007a460f : MOVSX EAX,DI
007a4612 : PUSH ECX
007a4613 : PUSH EAX
007a4614 : MOV EAX,dword ptr [EDX + 0x5c]
007a4617 : JMP 0x007a462b
007a4619 : MOV EDX,dword ptr [EBX]
007a461b : MOV ECX,EDI
007a461d : SHR ECX,0x10
007a4620 : MOVSX ECX,CX
007a4623 : MOVSX EAX,DI
007a4626 : PUSH ECX
007a4627 : PUSH EAX
007a4628 : MOV EAX,dword ptr [EDX + 0x34]
007a462b : PUSH ESI
007a462c : MOV ECX,EBX
007a462e : CALL EAX
007a4630 : TEST AL,AL
007a4632 : JNZ 0x007a4724
007a4638 : MOV ECX,dword ptr [EBP + 0x10]
007a463b : MOV EDX,dword ptr [EBX + 0x10cc]
007a4641 : MOV EAX,dword ptr [EDX]
007a4643 : MOV dword ptr [ESP + 0x10],EDX
007a4647 : MOV dword ptr [ESP + 0xc],EAX
007a464b : CMP EAX,EDX
007a464d : JZ 0x007a4681
007a464f : NOP
007a4650 : MOV EDX,dword ptr [EBP + 0x8]
007a4653 : MOV EAX,dword ptr [EAX + 0x10]
007a4656 : PUSH EDI
007a4657 : PUSH ESI
007a4658 : PUSH ECX
007a4659 : MOV ECX,dword ptr [EBP + 0xc]
007a465c : PUSH ECX
007a465d : PUSH EDX
007a465e : CALL 0x007a3c20
007a4663 : TEST AL,AL
007a4665 : JNZ 0x007a4724
007a466b : LEA EDX,[ESP + 0xc]
007a466f : CALL 0x00416210
007a4674 : MOV EAX,dword ptr [ESP + 0xc]
007a4678 : MOV ECX,dword ptr [EBP + 0x10]
007a467b : CMP EAX,dword ptr [ESP + 0x10]
007a467f : JNZ 0x007a4650
007a4681 : CMP dword ptr [EBX + 0x10b4],0x0
007a4688 : JZ 0x007a472f
007a468e : CMP byte ptr [EBX + 0x10dc],0x0
007a4695 : JZ 0x007a472f
007a469b : CMP ECX,0x201
007a46a1 : JZ 0x007a46f2
007a46a3 : CMP ECX,0x202
007a46a9 : JZ 0x007a46f2
007a46ab : CMP ECX,0x204
007a46b1 : JZ 0x007a46f2
007a46b3 : CMP ECX,0x205
007a46b9 : JZ 0x007a46f2
007a46bb : CMP ECX,0x200
007a46c1 : JNZ 0x007a472f
007a46c3 : MOVSX EAX,DI
007a46c6 : SHR EDI,0x10
007a46c9 : MOVSX ECX,DI
007a46cc : MOV dword ptr [ESP + 0x10],EAX
007a46d0 : LEA EAX,[EBX + 0x10a4]
007a46d6 : LEA EDX,[ESP + 0x10]
007a46da : MOV dword ptr [ESP + 0x14],ECX
007a46de : CALL 0x0047a250
007a46e3 : TEST AL,AL
007a46e5 : JZ 0x007a472f
007a46e7 : MOV AL,0x1
007a46e9 : POP EDI
007a46ea : POP ESI
007a46eb : POP EBX
007a46ec : MOV ESP,EBP
007a46ee : POP EBP
007a46ef : RET 0x14
007a46f2 : MOVSX EAX,DI
007a46f5 : SHR EDI,0x10
007a46f8 : CMP dword ptr [EBX + 0x10a4],EAX
007a46fe : MOVSX ECX,DI
007a4701 : JG 0x007a472f
007a4703 : CMP EAX,dword ptr [EBX + 0x10ac]
007a4709 : JGE 0x007a472f
007a470b : CMP dword ptr [EBX + 0x10a8],ECX
007a4711 : JG 0x007a472f
007a4713 : CMP ECX,dword ptr [EBX + 0x10b0]
007a4719 : JGE 0x007a472f
007a471b : MOV EDX,dword ptr [EBX]
007a471d : MOV EAX,dword ptr [EDX + 0x1c]
007a4720 : MOV ECX,EBX
007a4722 : CALL EAX
007a4724 : MOV AL,0x1
007a4726 : POP EDI
007a4727 : POP ESI
007a4728 : POP EBX
007a4729 : MOV ESP,EBP
007a472b : POP EBP
007a472c : RET 0x14
007a472f : POP EDI
007a4730 : POP ESI
007a4731 : XOR AL,AL
007a4733 : POP EBX
007a4734 : MOV ESP,EBP
007a4736 : POP EBP
007a4737 : RET 0x14
