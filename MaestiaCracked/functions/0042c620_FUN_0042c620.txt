PROGRAM  : Maestia.exe
FUNCTION : FUN_0042c620
ENTRY    : 0042c620
BODY     : [[0042c620, 0042c71d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0042c620(int param_1)

{
  rsize_t _DstSize;
  void *_Dst;
  int iVar1;
  char cVar2;
  int in_EAX;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  uint uVar6;
  
  if (in_EAX != param_1) {
    uVar3 = *(int *)(param_1 + 8) - *(int *)(param_1 + 4) >> 2;
    if (uVar3 == 0) {
      FUN_0042d2e0(in_EAX);
      return;
    }
    _Dst = *(void **)(in_EAX + 4);
    if (uVar3 <= (uint)(*(int *)(in_EAX + 8) - (int)_Dst >> 2)) {
      iVar5 = *(int *)(param_1 + 8) - (int)*(void **)(param_1 + 4) >> 2;
      if (0 < iVar5) {
        _DstSize = iVar5 * 4;
        _memmove_s(_Dst,_DstSize,*(void **)(param_1 + 4),_DstSize);
      }
      *(int *)(in_EAX + 8) =
           *(int *)(in_EAX + 4) + (*(int *)(param_1 + 8) - *(int *)(param_1 + 4) >> 2) * 4;
      return;
    }
    if (_Dst == (void *)0x0) {
      uVar6 = 0;
    }
    else {
      uVar6 = *(int *)(in_EAX + 0xc) - (int)_Dst >> 2;
    }
    if (uVar3 <= uVar6) {
      FUN_0042ccb0();
      uVar4 = FUN_00461070();
      *(undefined4 *)(in_EAX + 8) = uVar4;
      return;
    }
    if (_Dst != (void *)0x0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    iVar5 = *(int *)(param_1 + 8);
    iVar1 = *(int *)(param_1 + 4);
    *(undefined4 *)(in_EAX + 4) = 0;
    *(undefined4 *)(in_EAX + 8) = 0;
    *(undefined4 *)(in_EAX + 0xc) = 0;
    if ((iVar5 - iVar1 >> 2 != 0) && (cVar2 = FUN_00411d10(), cVar2 != '\0')) {
      uVar4 = FUN_00461070();
      *(undefined4 *)(in_EAX + 8) = uVar4;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0042c620 : PUSH EBP
0042c621 : MOV EBP,ESP
0042c623 : PUSH EBX
0042c624 : MOV EBX,dword ptr [EBP + 0x8]
0042c627 : PUSH ESI
0042c628 : MOV ESI,EAX
0042c62a : PUSH EDI
0042c62b : CMP ESI,EBX
0042c62d : JZ 0x0042c717
0042c633 : MOV EDI,dword ptr [EBX + 0x8]
0042c636 : MOV ECX,dword ptr [EBX + 0x4]
0042c639 : MOV EAX,EDI
0042c63b : SUB EAX,ECX
0042c63d : SAR EAX,0x2
0042c640 : TEST EAX,EAX
0042c642 : JNZ 0x0042c653
0042c644 : PUSH ESI
0042c645 : CALL 0x0042d2e0
0042c64a : MOV EAX,ESI
0042c64c : POP EDI
0042c64d : POP ESI
0042c64e : POP EBX
0042c64f : POP EBP
0042c650 : RET 0x4
0042c653 : MOV ECX,dword ptr [ESI + 0x4]
0042c656 : MOV EDX,dword ptr [ESI + 0x8]
0042c659 : SUB EDX,ECX
0042c65b : SAR EDX,0x2
0042c65e : CMP EAX,EDX
0042c660 : JA 0x0042c69c
0042c662 : MOV EDX,dword ptr [EBX + 0x4]
0042c665 : SUB EDI,EDX
0042c667 : SAR EDI,0x2
0042c66a : TEST EDI,EDI
0042c66c : JLE 0x0042c681
0042c66e : LEA EAX,[EDI*0x4 + 0x0]
0042c675 : PUSH EAX
0042c676 : PUSH EDX
0042c677 : PUSH EAX
0042c678 : PUSH ECX
0042c679 : CALL 0x00634101
0042c67e : ADD ESP,0x10
0042c681 : MOV EAX,dword ptr [EBX + 0x8]
0042c684 : SUB EAX,dword ptr [EBX + 0x4]
0042c687 : MOV ECX,dword ptr [ESI + 0x4]
0042c68a : SAR EAX,0x2
0042c68d : LEA EDX,[ECX + EAX*0x4]
0042c690 : MOV dword ptr [ESI + 0x8],EDX
0042c693 : MOV EAX,ESI
0042c695 : POP EDI
0042c696 : POP ESI
0042c697 : POP EBX
0042c698 : POP EBP
0042c699 : RET 0x4
0042c69c : TEST ECX,ECX
0042c69e : JNZ 0x0042c6a4
0042c6a0 : XOR EDI,EDI
0042c6a2 : JMP 0x0042c6ac
0042c6a4 : MOV EDI,dword ptr [ESI + 0xc]
0042c6a7 : SUB EDI,ECX
0042c6a9 : SAR EDI,0x2
0042c6ac : CMP EAX,EDI
0042c6ae : JA 0x0042c6da
0042c6b0 : MOV EDI,dword ptr [EBX + 0x4]
0042c6b3 : LEA EAX,[EDI + EDX*0x4]
0042c6b6 : MOV EDX,ECX
0042c6b8 : MOV dword ptr [EBP + 0x8],EAX
0042c6bb : CALL 0x0042ccb0
0042c6c0 : MOV EDX,dword ptr [ESI + 0x8]
0042c6c3 : MOV EDI,dword ptr [EBP + 0x8]
0042c6c6 : MOV EAX,dword ptr [EBX + 0x8]
0042c6c9 : CALL 0x00461070
0042c6ce : MOV dword ptr [ESI + 0x8],EAX
0042c6d1 : MOV EAX,ESI
0042c6d3 : POP EDI
0042c6d4 : POP ESI
0042c6d5 : POP EBX
0042c6d6 : POP EBP
0042c6d7 : RET 0x4
0042c6da : TEST ECX,ECX
0042c6dc : JZ 0x0042c6e3
0042c6de : CALL 0x006f04e0
0042c6e3 : MOV EDI,dword ptr [EBX + 0x8]
0042c6e6 : SUB EDI,dword ptr [EBX + 0x4]
0042c6e9 : XOR EAX,EAX
0042c6eb : SAR EDI,0x2
0042c6ee : MOV dword ptr [ESI + 0x4],EAX
0042c6f1 : MOV dword ptr [ESI + 0x8],EAX
0042c6f4 : MOV dword ptr [ESI + 0xc],EAX
0042c6f7 : CMP EDI,EAX
0042c6f9 : JZ 0x0042c715
0042c6fb : CALL 0x00411d10
0042c700 : TEST AL,AL
0042c702 : JZ 0x0042c715
0042c704 : MOV EDX,dword ptr [ESI + 0x4]
0042c707 : MOV EDI,dword ptr [EBX + 0x4]
0042c70a : MOV EAX,dword ptr [EBX + 0x8]
0042c70d : CALL 0x00461070
0042c712 : MOV dword ptr [ESI + 0x8],EAX
0042c715 : MOV EAX,ESI
0042c717 : POP EDI
0042c718 : POP ESI
0042c719 : POP EBX
0042c71a : POP EBP
0042c71b : RET 0x4
