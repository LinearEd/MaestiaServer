PROGRAM  : Maestia.exe
FUNCTION : FUN_007c8320
ENTRY    : 007c8320
BODY     : [[007c8320, 007c841b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007c8320(void)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  int unaff_EDI;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b48236;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(unaff_EDI + 0xe0);
  local_18 = 0;
  local_20 = ".\\Resource\\AvaTerrainTxtrMgr.cpp";
  local_1c = 0xb1;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  local_8 = 0;
  piVar4 = (int *)**(int **)(unaff_EDI + 0x18);
  if (piVar4 != *(int **)(unaff_EDI + 0x18)) {
    do {
      FUN_00a64d90(piVar4[9]);
      piVar4 = (int *)*piVar4;
    } while (piVar4 != (int *)*(int *)(unaff_EDI + 0x18));
  }
  piVar4 = (int *)**(int **)(unaff_EDI + 0x40);
  if (piVar4 != *(int **)(unaff_EDI + 0x40)) {
    do {
      FUN_00a64d90(piVar4[3]);
      if (*(char *)((int)piVar4 + 0x2d) == '\0') {
        piVar2 = (int *)piVar4[2];
        if (*(char *)((int)piVar2 + 0x2d) == '\0') {
          cVar1 = *(char *)(*piVar2 + 0x2d);
          piVar4 = piVar2;
          piVar2 = (int *)*piVar2;
          while (cVar1 == '\0') {
            cVar1 = *(char *)(*piVar2 + 0x2d);
            piVar4 = piVar2;
            piVar2 = (int *)*piVar2;
          }
        }
        else {
          cVar1 = *(char *)(piVar4[1] + 0x2d);
          piVar3 = (int *)piVar4[1];
          piVar2 = piVar4;
          while ((piVar4 = piVar3, cVar1 == '\0' && (piVar2 == (int *)piVar4[2]))) {
            cVar1 = *(char *)(piVar4[1] + 0x2d);
            piVar3 = (int *)piVar4[1];
            piVar2 = piVar4;
          }
        }
      }
    } while (piVar4 != *(int **)(unaff_EDI + 0x40));
  }
  local_8 = 0xffffffff;
  if (local_18 != 0) {
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007c8320 : PUSH EBP
007c8321 : MOV EBP,ESP
007c8323 : PUSH -0x1
007c8325 : PUSH 0xb48236
007c832a : MOV EAX,FS:[0x0]
007c8330 : PUSH EAX
007c8331 : SUB ESP,0x14
007c8334 : PUSH ESI
007c8335 : MOV EAX,[0x00d66fa0]
007c833a : XOR EAX,EBP
007c833c : PUSH EAX
007c833d : LEA EAX,[EBP + -0xc]
007c8340 : MOV FS:[0x0],EAX
007c8346 : LEA ECX,[EBP + -0x20]
007c8349 : LEA EAX,[EDI + 0xe0]
007c834f : PUSH ECX
007c8350 : MOV dword ptr [EBP + -0x14],0x0
007c8357 : MOV dword ptr [EBP + -0x20],EAX
007c835a : MOV dword ptr [EBP + -0x1c],0xc1daec
007c8361 : MOV dword ptr [EBP + -0x18],0xb1
007c8368 : MOV dword ptr [EBP + -0x10],0x1
007c836f : CALL 0x006ef1a0
007c8374 : MOV dword ptr [EBP + -0x4],0x0
007c837b : MOV EAX,dword ptr [EDI + 0x18]
007c837e : MOV ESI,dword ptr [EAX]
007c8380 : CMP ESI,EAX
007c8382 : JZ 0x007c8394
007c8384 : MOV EAX,dword ptr [ESI + 0x24]
007c8387 : PUSH EAX
007c8388 : CALL 0x00a64d90
007c838d : MOV ESI,dword ptr [ESI]
007c838f : CMP ESI,dword ptr [EDI + 0x18]
007c8392 : JNZ 0x007c8384
007c8394 : MOV EAX,dword ptr [EDI + 0x40]
007c8397 : MOV ESI,dword ptr [EAX]
007c8399 : CMP ESI,EAX
007c839b : JZ 0x007c83ee
007c839d : LEA ECX,[ECX]
007c83a0 : MOV EAX,dword ptr [ESI + 0xc]
007c83a3 : PUSH EAX
007c83a4 : CALL 0x00a64d90
007c83a9 : CMP byte ptr [ESI + 0x2d],0x0
007c83ad : JNZ 0x007c83e9
007c83af : MOV EAX,dword ptr [ESI + 0x8]
007c83b2 : CMP byte ptr [EAX + 0x2d],0x0
007c83b6 : JNZ 0x007c83ce
007c83b8 : MOV ESI,EAX
007c83ba : MOV EAX,dword ptr [ESI]
007c83bc : CMP byte ptr [EAX + 0x2d],0x0
007c83c0 : JNZ 0x007c83e9
007c83c2 : MOV ESI,EAX
007c83c4 : MOV EAX,dword ptr [ESI]
007c83c6 : CMP byte ptr [EAX + 0x2d],0x0
007c83ca : JZ 0x007c83c2
007c83cc : JMP 0x007c83e9
007c83ce : MOV EAX,dword ptr [ESI + 0x4]
007c83d1 : CMP byte ptr [EAX + 0x2d],0x0
007c83d5 : JNZ 0x007c83e7
007c83d7 : CMP ESI,dword ptr [EAX + 0x8]
007c83da : JNZ 0x007c83e7
007c83dc : MOV ESI,EAX
007c83de : MOV EAX,dword ptr [EAX + 0x4]
007c83e1 : CMP byte ptr [EAX + 0x2d],0x0
007c83e5 : JZ 0x007c83d7
007c83e7 : MOV ESI,EAX
007c83e9 : CMP ESI,dword ptr [EDI + 0x40]
007c83ec : JNZ 0x007c83a0
007c83ee : MOV dword ptr [EBP + -0x4],0xffffffff
007c83f5 : CMP dword ptr [EBP + -0x14],0x0
007c83f9 : JZ 0x007c840c
007c83fb : MOV EDX,dword ptr [EBP + -0x20]
007c83fe : PUSH EDX
007c83ff : CALL dword ptr [0x00b8511c]
007c8405 : MOV dword ptr [EBP + -0x14],0x0
007c840c : MOV ECX,dword ptr [EBP + -0xc]
007c840f : MOV dword ptr FS:[0x0],ECX
007c8416 : POP ECX
007c8417 : POP ESI
007c8418 : MOV ESP,EBP
007c841a : POP EBP
007c841b : RET
