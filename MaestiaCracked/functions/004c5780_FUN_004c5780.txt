PROGRAM  : Maestia.exe
FUNCTION : FUN_004c5780
ENTRY    : 004c5780
BODY     : [[004c5780, 004c5937] [004c5940, 004c5ab3]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004c58af) */
/* WARNING: Removing unreachable block (ram,0x004c58bf) */
/* WARNING: Removing unreachable block (ram,0x004c58cb) */
/* WARNING: Removing unreachable block (ram,0x004c58ce) */
/* WARNING: Removing unreachable block (ram,0x004c58bb) */
/* WARNING: Removing unreachable block (ram,0x004c58db) */
/* WARNING: Removing unreachable block (ram,0x004c58eb) */
/* WARNING: Removing unreachable block (ram,0x004c58f6) */
/* WARNING: Removing unreachable block (ram,0x004c58f2) */
/* WARNING: Removing unreachable block (ram,0x004c58e6) */
/* WARNING: Removing unreachable block (ram,0x004c58f9) */
/* WARNING: Removing unreachable block (ram,0x004c590e) */
/* WARNING: Removing unreachable block (ram,0x004c5916) */

void FUN_004c5780(int param_1,undefined4 param_2,int *param_3)

{
  int *piVar1;
  undefined4 uVar2;
  int *piVar3;
  int *piVar4;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 *local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7ad85;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x9d) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_004c6c40(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar4 = (int *)*param_3;
  if (*(char *)((int)piVar4 + 0x9d) == '\0') {
    if (*(char *)(param_3[2] + 0x9d) == '\0') {
      piVar4 = (int *)param_3[2];
    }
  }
  else {
    piVar4 = (int *)param_3[2];
  }
  piVar3 = (int *)param_3[1];
  if (*(char *)((int)piVar4 + 0x9d) == '\0') {
    piVar4[1] = (int)piVar3;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar4;
  }
  else if ((int *)*piVar3 == param_3) {
    *piVar3 = (int)piVar4;
  }
  else {
    piVar3[2] = (int)piVar4;
  }
  local_1c = *(undefined4 **)(param_1 + 4);
  if ((int *)*local_1c == param_3) {
    piVar1 = piVar3;
    if (*(char *)((int)piVar4 + 0x9d) == '\0') {
      piVar1 = (int *)FUN_004c6200();
    }
    *local_1c = piVar1;
  }
  local_1c = *(undefined4 **)(param_1 + 4);
  if (*(int **)((int)local_1c + 8) == param_3) {
    if (*(char *)((int)piVar4 + 0x9d) == '\0') {
      uVar2 = FUN_004c61e0();
      *(undefined4 *)((int)local_1c + 8) = uVar2;
    }
    else {
      *(int **)((int)local_1c + 8) = piVar3;
    }
  }
  if ((char)local_18[0x27] == '\x01') {
    if (piVar4 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar1 = piVar3;
        if ((char)piVar4[0x27] != '\x01') break;
        piVar3 = (int *)*piVar1;
        if (piVar4 == piVar3) {
          piVar3 = (int *)piVar1[2];
          if ((char)piVar3[0x27] == '\0') {
            *(undefined1 *)(piVar3 + 0x27) = 1;
            *(undefined1 *)(piVar1 + 0x27) = 0;
            FUN_004c6180(param_1);
            piVar3 = (int *)piVar1[2];
          }
          if (*(char *)((int)piVar3 + 0x9d) == '\0') {
            if ((*(char *)(*piVar3 + 0x9c) != '\x01') || (*(char *)(piVar3[2] + 0x9c) != '\x01')) {
              if (*(char *)(piVar3[2] + 0x9c) == '\x01') {
                *(undefined1 *)(*piVar3 + 0x9c) = 1;
                *(undefined1 *)(piVar3 + 0x27) = 0;
                FUN_004c6220(param_1);
                piVar3 = (int *)piVar1[2];
              }
              *(char *)(piVar3 + 0x27) = (char)piVar1[0x27];
              *(undefined1 *)(piVar1 + 0x27) = 1;
              *(undefined1 *)(piVar3[2] + 0x9c) = 1;
              FUN_004c6180(param_1);
              break;
            }
LAB_004c5a32:
            *(undefined1 *)(piVar3 + 0x27) = 0;
          }
        }
        else {
          if ((char)piVar3[0x27] == '\0') {
            *(undefined1 *)(piVar3 + 0x27) = 1;
            *(undefined1 *)(piVar1 + 0x27) = 0;
            FUN_004c6220(param_1);
            piVar3 = (int *)*piVar1;
          }
          if (*(char *)((int)piVar3 + 0x9d) == '\0') {
            if ((*(char *)(piVar3[2] + 0x9c) == '\x01') && (*(char *)(*piVar3 + 0x9c) == '\x01'))
            goto LAB_004c5a32;
            if (*(char *)(*piVar3 + 0x9c) == '\x01') {
              *(undefined1 *)(piVar3[2] + 0x9c) = 1;
              *(undefined1 *)(piVar3 + 0x27) = 0;
              FUN_004c6180(param_1);
              piVar3 = (int *)*piVar1;
            }
            *(char *)(piVar3 + 0x27) = (char)piVar1[0x27];
            *(undefined1 *)(piVar1 + 0x27) = 1;
            *(undefined1 *)(*piVar3 + 0x9c) = 1;
            FUN_004c6220(param_1);
            break;
          }
        }
        piVar3 = (int *)piVar1[1];
        piVar4 = piVar1;
      } while (piVar1 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar4 + 0x27) = 1;
  }
  local_8 = 0xffffffff;
  FUN_0044cb00(local_18 + 3);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004c5780 : PUSH EBP
004c5781 : MOV EBP,ESP
004c5783 : PUSH -0x1
004c5785 : PUSH 0xb7ad85
004c578a : MOV EAX,FS:[0x0]
004c5790 : PUSH EAX
004c5791 : SUB ESP,0x50
004c5794 : PUSH EBX
004c5795 : PUSH ESI
004c5796 : PUSH EDI
004c5797 : MOV EAX,[0x00d66fa0]
004c579c : XOR EAX,EBP
004c579e : PUSH EAX
004c579f : LEA EAX,[EBP + -0xc]
004c57a2 : MOV FS:[0x0],EAX
004c57a8 : MOV EAX,dword ptr [EBP + 0x10]
004c57ab : CMP byte ptr [EAX + 0x9d],0x0
004c57b2 : JZ 0x004c57f0
004c57b4 : PUSH 0x1b
004c57b6 : XOR ESI,ESI
004c57b8 : PUSH 0xcca4a8
004c57bd : LEA ECX,[EBP + -0x34]
004c57c0 : MOV dword ptr [EBP + -0x1c],0xf
004c57c7 : MOV dword ptr [EBP + -0x20],ESI
004c57ca : MOV byte ptr [EBP + -0x30],0x0
004c57ce : CALL 0x00404b50
004c57d3 : MOV dword ptr [EBP + -0x4],ESI
004c57d6 : LEA EAX,[EBP + -0x34]
004c57d9 : PUSH EAX
004c57da : LEA ECX,[EBP + -0x5c]
004c57dd : CALL 0x00403c10
004c57e2 : PUSH 0xced890
004c57e7 : LEA ECX,[EBP + -0x5c]
004c57ea : PUSH ECX
004c57eb : CALL 0x006409eb
004c57f0 : MOV EBX,EAX
004c57f2 : LEA EDX,[EBP + 0x10]
004c57f5 : MOV dword ptr [EBP + -0x14],EBX
004c57f8 : CALL 0x004c6c40
004c57fd : MOV ECX,dword ptr [EBX]
004c57ff : CMP byte ptr [ECX + 0x9d],0x0
004c5806 : JZ 0x004c580d
004c5808 : MOV EDI,dword ptr [EBX + 0x8]
004c580b : JMP 0x004c582e
004c580d : MOV EDX,dword ptr [EBX + 0x8]
004c5810 : CMP byte ptr [EDX + 0x9d],0x0
004c5817 : JZ 0x004c581d
004c5819 : MOV EDI,ECX
004c581b : JMP 0x004c582e
004c581d : MOV EAX,dword ptr [EBP + 0x10]
004c5820 : MOV EDI,dword ptr [EAX + 0x8]
004c5823 : LEA EDX,[EAX + 0x8]
004c5826 : CMP EAX,EBX
004c5828 : JNZ 0x004c58af
004c582e : CMP byte ptr [EDI + 0x9d],0x0
004c5835 : MOV ESI,dword ptr [EBX + 0x4]
004c5838 : JNZ 0x004c583d
004c583a : MOV dword ptr [EDI + 0x4],ESI
004c583d : MOV EDX,dword ptr [EBP + 0x8]
004c5840 : MOV EAX,dword ptr [EDX + 0x4]
004c5843 : CMP dword ptr [EAX + 0x4],EBX
004c5846 : JNZ 0x004c584d
004c5848 : MOV dword ptr [EAX + 0x4],EDI
004c584b : JMP 0x004c5858
004c584d : CMP dword ptr [ESI],EBX
004c584f : JNZ 0x004c5855
004c5851 : MOV dword ptr [ESI],EDI
004c5853 : JMP 0x004c5858
004c5855 : MOV dword ptr [ESI + 0x8],EDI
004c5858 : MOV ECX,dword ptr [EDX + 0x4]
004c585b : MOV dword ptr [EBP + -0x18],ECX
004c585e : CMP dword ptr [ECX],EBX
004c5860 : JNZ 0x004c587e
004c5862 : CMP byte ptr [EDI + 0x9d],0x0
004c5869 : JZ 0x004c586f
004c586b : MOV EAX,ESI
004c586d : JMP 0x004c587c
004c586f : MOV EAX,EDI
004c5871 : CALL 0x004c6200
004c5876 : MOV EDX,dword ptr [EBP + 0x8]
004c5879 : MOV ECX,dword ptr [EBP + -0x18]
004c587c : MOV dword ptr [ECX],EAX
004c587e : MOV ECX,dword ptr [EDX + 0x4]
004c5881 : MOV dword ptr [EBP + -0x18],ECX
004c5884 : CMP dword ptr [ECX + 0x8],EBX
004c5887 : JNZ 0x004c5919
004c588d : CMP byte ptr [EDI + 0x9d],0x0
004c5894 : JZ 0x004c589d
004c5896 : MOV EAX,ESI
004c5898 : MOV dword ptr [ECX + 0x8],EAX
004c589b : JMP 0x004c5919
004c589d : MOV EAX,EDI
004c589f : CALL 0x004c61e0
004c58a4 : MOV ECX,dword ptr [EBP + -0x18]
004c58a7 : MOV EDX,dword ptr [EBP + 0x8]
004c58aa : MOV dword ptr [ECX + 0x8],EAX
004c58ad : JMP 0x004c5919
004c58af : MOV dword ptr [ECX + 0x4],EAX
004c58b2 : MOV ECX,dword ptr [EBX]
004c58b4 : MOV dword ptr [EAX],ECX
004c58b6 : CMP EAX,dword ptr [EBX + 0x8]
004c58b9 : JNZ 0x004c58bf
004c58bb : MOV ESI,EAX
004c58bd : JMP 0x004c58db
004c58bf : CMP byte ptr [EDI + 0x9d],0x0
004c58c6 : MOV ESI,dword ptr [EAX + 0x4]
004c58c9 : JNZ 0x004c58ce
004c58cb : MOV dword ptr [EDI + 0x4],ESI
004c58ce : MOV dword ptr [ESI],EDI
004c58d0 : MOV ECX,dword ptr [EBX + 0x8]
004c58d3 : MOV dword ptr [EDX],ECX
004c58d5 : MOV EDX,dword ptr [EBX + 0x8]
004c58d8 : MOV dword ptr [EDX + 0x4],EAX
004c58db : MOV ECX,dword ptr [EBP + 0x8]
004c58de : MOV ECX,dword ptr [ECX + 0x4]
004c58e1 : CMP dword ptr [ECX + 0x4],EBX
004c58e4 : JNZ 0x004c58eb
004c58e6 : MOV dword ptr [ECX + 0x4],EAX
004c58e9 : JMP 0x004c58f9
004c58eb : MOV ECX,dword ptr [EBX + 0x4]
004c58ee : CMP dword ptr [ECX],EBX
004c58f0 : JNZ 0x004c58f6
004c58f2 : MOV dword ptr [ECX],EAX
004c58f4 : JMP 0x004c58f9
004c58f6 : MOV dword ptr [ECX + 0x8],EAX
004c58f9 : MOV EDX,dword ptr [EBX + 0x4]
004c58fc : MOV dword ptr [EAX + 0x4],EDX
004c58ff : LEA ECX,[EBX + 0x9c]
004c5905 : ADD EAX,0x9c
004c590a : CMP EAX,ECX
004c590c : JZ 0x004c5916
004c590e : MOV BL,byte ptr [ECX]
004c5910 : MOV DL,byte ptr [EAX]
004c5912 : MOV byte ptr [EAX],BL
004c5914 : MOV byte ptr [ECX],DL
004c5916 : MOV EDX,dword ptr [EBP + 0x8]
004c5919 : MOV EAX,dword ptr [EBP + -0x14]
004c591c : MOV BL,0x1
004c591e : CMP byte ptr [EAX + 0x9c],BL
004c5924 : JNZ 0x004c5a99
004c592a : MOV ECX,dword ptr [EDX + 0x4]
004c592d : CMP EDI,dword ptr [ECX + 0x4]
004c5930 : JZ 0x004c5a93
004c5936 : JMP 0x004c5940
004c5940 : CMP byte ptr [EDI + 0x9c],BL
004c5946 : JNZ 0x004c5a93
004c594c : MOV ECX,dword ptr [ESI]
004c594e : CMP EDI,ECX
004c5950 : JNZ 0x004c59f1
004c5956 : MOV ECX,dword ptr [ESI + 0x8]
004c5959 : CMP byte ptr [ECX + 0x9c],0x0
004c5960 : JNZ 0x004c597d
004c5962 : MOV byte ptr [ECX + 0x9c],BL
004c5968 : PUSH EDX
004c5969 : MOV ECX,ESI
004c596b : MOV byte ptr [ESI + 0x9c],0x0
004c5972 : CALL 0x004c6180
004c5977 : MOV ECX,dword ptr [ESI + 0x8]
004c597a : MOV EDX,dword ptr [EBP + 0x8]
004c597d : CMP byte ptr [ECX + 0x9d],0x0
004c5984 : JNZ 0x004c5a39
004c598a : MOV EAX,dword ptr [ECX]
004c598c : CMP byte ptr [EAX + 0x9c],BL
004c5992 : JNZ 0x004c59a3
004c5994 : MOV EAX,dword ptr [ECX + 0x8]
004c5997 : CMP byte ptr [EAX + 0x9c],BL
004c599d : JZ 0x004c5a32
004c59a3 : MOV EAX,dword ptr [ECX + 0x8]
004c59a6 : CMP byte ptr [EAX + 0x9c],BL
004c59ac : JNZ 0x004c59c9
004c59ae : MOV EAX,dword ptr [ECX]
004c59b0 : MOV byte ptr [EAX + 0x9c],BL
004c59b6 : PUSH EDX
004c59b7 : MOV byte ptr [ECX + 0x9c],0x0
004c59be : CALL 0x004c6220
004c59c3 : MOV ECX,dword ptr [ESI + 0x8]
004c59c6 : MOV EDX,dword ptr [EBP + 0x8]
004c59c9 : MOV AL,byte ptr [ESI + 0x9c]
004c59cf : MOV byte ptr [ECX + 0x9c],AL
004c59d5 : MOV byte ptr [ESI + 0x9c],BL
004c59db : MOV ECX,dword ptr [ECX + 0x8]
004c59de : MOV byte ptr [ECX + 0x9c],BL
004c59e4 : PUSH EDX
004c59e5 : MOV ECX,ESI
004c59e7 : CALL 0x004c6180
004c59ec : JMP 0x004c5a93
004c59f1 : CMP byte ptr [ECX + 0x9c],0x0
004c59f8 : JNZ 0x004c5a14
004c59fa : MOV byte ptr [ECX + 0x9c],BL
004c5a00 : PUSH EDX
004c5a01 : MOV ECX,ESI
004c5a03 : MOV byte ptr [ESI + 0x9c],0x0
004c5a0a : CALL 0x004c6220
004c5a0f : MOV ECX,dword ptr [ESI]
004c5a11 : MOV EDX,dword ptr [EBP + 0x8]
004c5a14 : CMP byte ptr [ECX + 0x9d],0x0
004c5a1b : JNZ 0x004c5a39
004c5a1d : MOV EAX,dword ptr [ECX + 0x8]
004c5a20 : CMP byte ptr [EAX + 0x9c],BL
004c5a26 : JNZ 0x004c5a4c
004c5a28 : MOV EAX,dword ptr [ECX]
004c5a2a : CMP byte ptr [EAX + 0x9c],BL
004c5a30 : JNZ 0x004c5a4c
004c5a32 : MOV byte ptr [ECX + 0x9c],0x0
004c5a39 : MOV ECX,dword ptr [EDX + 0x4]
004c5a3c : MOV EDI,ESI
004c5a3e : MOV ESI,dword ptr [ESI + 0x4]
004c5a41 : CMP EDI,dword ptr [ECX + 0x4]
004c5a44 : JNZ 0x004c5940
004c5a4a : JMP 0x004c5a93
004c5a4c : MOV EAX,dword ptr [ECX]
004c5a4e : CMP byte ptr [EAX + 0x9c],BL
004c5a54 : JNZ 0x004c5a71
004c5a56 : MOV EAX,dword ptr [ECX + 0x8]
004c5a59 : MOV byte ptr [EAX + 0x9c],BL
004c5a5f : PUSH EDX
004c5a60 : MOV byte ptr [ECX + 0x9c],0x0
004c5a67 : CALL 0x004c6180
004c5a6c : MOV ECX,dword ptr [ESI]
004c5a6e : MOV EDX,dword ptr [EBP + 0x8]
004c5a71 : MOV AL,byte ptr [ESI + 0x9c]
004c5a77 : MOV byte ptr [ECX + 0x9c],AL
004c5a7d : MOV byte ptr [ESI + 0x9c],BL
004c5a83 : MOV ECX,dword ptr [ECX]
004c5a85 : MOV byte ptr [ECX + 0x9c],BL
004c5a8b : PUSH EDX
004c5a8c : MOV ECX,ESI
004c5a8e : CALL 0x004c6220
004c5a93 : MOV byte ptr [EDI + 0x9c],BL
004c5a99 : MOV dword ptr [EBP + -0x4],0xffffffff
004c5aa0 : MOV EDX,dword ptr [EBP + -0x14]
004c5aa3 : ADD EDX,0xc
004c5aa6 : PUSH EDX
004c5aa7 : CALL 0x0044cb00
004c5aac : MOV ECX,dword ptr [EBP + -0x14]
004c5aaf : CALL 0x006f04e0
