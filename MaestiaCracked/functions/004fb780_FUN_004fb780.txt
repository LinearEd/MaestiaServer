PROGRAM  : Maestia.exe
FUNCTION : FUN_004fb780
ENTRY    : 004fb780
BODY     : [[004fb780, 004fb834]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int FUN_004fb780(uint *param_1)

{
  int in_EAX;
  uint *puVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  
  uVar4 = 0;
  if (*(uint *)(in_EAX + 4) != 0) {
    uVar3 = *(uint *)(in_EAX + 4);
    do {
      if (*param_1 == *(uint *)(*(int *)(in_EAX + 0x10) + uVar3)) {
        if (uVar3 != 0) goto LAB_004fb818;
        break;
      }
      if (uVar3 == 0) {
        puVar1 = (uint *)0x0;
      }
      else {
        puVar1 = (uint *)(*(int *)(in_EAX + 0x10) + uVar3);
      }
      if (*param_1 < *puVar1) {
        uVar5 = _DAT_00000008;
        if (uVar3 != 0) {
          uVar5 = *(uint *)(*(int *)(in_EAX + 0x10) + uVar3 + 8);
        }
      }
      else {
        if (uVar3 == 0) {
          iVar2 = 0;
        }
        else {
          iVar2 = *(int *)(in_EAX + 0x10) + uVar3;
        }
        uVar5 = *(uint *)(iVar2 + 0xc);
      }
      uVar4 = uVar3;
      uVar3 = uVar5;
    } while (uVar5 != 0);
  }
  uVar3 = FUN_004fcfb0(in_EAX,param_1,uVar4);
  if (uVar4 == 0) {
    *(uint *)(in_EAX + 4) = uVar3;
  }
  else {
    puVar1 = (uint *)(*(int *)(in_EAX + 0x10) + uVar4);
    if (*param_1 < *puVar1) {
      puVar1[2] = uVar3;
    }
    else {
      puVar1[3] = uVar3;
    }
  }
  FUN_004fcbf0();
  *(int *)(in_EAX + 8) = *(int *)(in_EAX + 8) + 1;
  if (uVar3 == 0) {
    return 4;
  }
LAB_004fb818:
  return *(int *)(in_EAX + 0x10) + uVar3 + 4;
}



============================================================
DISASSEMBLY
============================================================
004fb780 : PUSH EBX
004fb781 : PUSH EBP
004fb782 : MOV EBP,dword ptr [ESP + 0xc]
004fb786 : PUSH ESI
004fb787 : PUSH EDI
004fb788 : MOV EDI,EAX
004fb78a : MOV ESI,dword ptr [EDI + 0x4]
004fb78d : XOR EBX,EBX
004fb78f : TEST ESI,ESI
004fb791 : JZ 0x004fb7e1
004fb793 : MOV ECX,dword ptr [EBP]
004fb796 : MOV EAX,dword ptr [EDI + 0x10]
004fb799 : ADD EAX,ESI
004fb79b : CMP ECX,dword ptr [EAX]
004fb79d : JZ 0x004fb7dd
004fb79f : MOV EBX,ESI
004fb7a1 : TEST ESI,ESI
004fb7a3 : JZ 0x004fb7ac
004fb7a5 : MOV EAX,dword ptr [EDI + 0x10]
004fb7a8 : ADD EAX,ESI
004fb7aa : JMP 0x004fb7ae
004fb7ac : XOR EAX,EAX
004fb7ae : CMP ECX,dword ptr [EAX]
004fb7b0 : JNC 0x004fb7c7
004fb7b2 : TEST ESI,ESI
004fb7b4 : JZ 0x004fb7c0
004fb7b6 : MOV EAX,dword ptr [EDI + 0x10]
004fb7b9 : ADD EAX,ESI
004fb7bb : MOV ESI,dword ptr [EAX + 0x8]
004fb7be : JMP 0x004fb7d7
004fb7c0 : XOR EAX,EAX
004fb7c2 : MOV ESI,dword ptr [EAX + 0x8]
004fb7c5 : JMP 0x004fb7d7
004fb7c7 : TEST ESI,ESI
004fb7c9 : JZ 0x004fb7d2
004fb7cb : MOV EAX,dword ptr [EDI + 0x10]
004fb7ce : ADD EAX,ESI
004fb7d0 : JMP 0x004fb7d4
004fb7d2 : XOR EAX,EAX
004fb7d4 : MOV ESI,dword ptr [EAX + 0xc]
004fb7d7 : TEST ESI,ESI
004fb7d9 : JNZ 0x004fb796
004fb7db : JMP 0x004fb7e1
004fb7dd : TEST ESI,ESI
004fb7df : JNZ 0x004fb818
004fb7e1 : PUSH EBX
004fb7e2 : PUSH EBP
004fb7e3 : PUSH EDI
004fb7e4 : CALL 0x004fcfb0
004fb7e9 : MOV ESI,EAX
004fb7eb : TEST EBX,EBX
004fb7ed : JNZ 0x004fb7f4
004fb7ef : MOV dword ptr [EDI + 0x4],ESI
004fb7f2 : JMP 0x004fb808
004fb7f4 : MOV EAX,dword ptr [EDI + 0x10]
004fb7f7 : MOV ECX,dword ptr [EBP]
004fb7fa : ADD EAX,EBX
004fb7fc : CMP ECX,dword ptr [EAX]
004fb7fe : JNC 0x004fb805
004fb800 : MOV dword ptr [EAX + 0x8],ESI
004fb803 : JMP 0x004fb808
004fb805 : MOV dword ptr [EAX + 0xc],ESI
004fb808 : MOV EAX,EBX
004fb80a : MOV EDX,EDI
004fb80c : CALL 0x004fcbf0
004fb811 : INC dword ptr [EDI + 0x8]
004fb814 : TEST ESI,ESI
004fb816 : JZ 0x004fb827
004fb818 : MOV EDI,dword ptr [EDI + 0x10]
004fb81b : ADD EDI,ESI
004fb81d : LEA EAX,[EDI + 0x4]
004fb820 : POP EDI
004fb821 : POP ESI
004fb822 : POP EBP
004fb823 : POP EBX
004fb824 : RET 0x4
004fb827 : POP EDI
004fb828 : POP ESI
004fb829 : POP EBP
004fb82a : XOR EAX,EAX
004fb82c : MOV EAX,0x4
004fb831 : POP EBX
004fb832 : RET 0x4
