PROGRAM  : Maestia.exe
FUNCTION : FUN_00746900
ENTRY    : 00746900
BODY     : [[00746900, 00746993]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00746900(void)

{
  uint uVar1;
  int iVar2;
  LPCRITICAL_SECTION unaff_ESI;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b104ad;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  EnterCriticalSection(unaff_ESI);
  local_8 = 0;
  if ((*(char *)((int)&unaff_ESI[0xf].LockCount + 2) != '\0') &&
     (*(char *)((int)&unaff_ESI[0xf].LockCount + 3) != '\0')) {
    iVar2 = (int)&(unaff_ESI[2].DebugInfo)->Type + unaff_ESI[2].LockCount;
    FUN_004c1820(iVar2 - (int)unaff_ESI[2].DebugInfo,FUN_00746890,unaff_ESI[1].DebugInfo,
                 unaff_ESI[2].DebugInfo,unaff_ESI[1].DebugInfo,iVar2,uVar1);
    *(undefined1 *)((int)&unaff_ESI[0xf].LockCount + 3) = 0;
  }
  local_8 = 0xffffffff;
  LeaveCriticalSection(unaff_ESI);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00746900 : PUSH EBP
00746901 : MOV EBP,ESP
00746903 : PUSH -0x1
00746905 : PUSH 0xb104ad
0074690a : MOV EAX,FS:[0x0]
00746910 : PUSH EAX
00746911 : SUB ESP,0x8
00746914 : PUSH EBX
00746915 : PUSH EDI
00746916 : MOV EAX,[0x00d66fa0]
0074691b : XOR EAX,EBP
0074691d : PUSH EAX
0074691e : LEA EAX,[EBP + -0xc]
00746921 : MOV FS:[0x0],EAX
00746927 : PUSH ESI
00746928 : MOV dword ptr [EBP + -0x10],ESI
0074692b : CALL dword ptr [0x00b85118]
00746931 : MOV dword ptr [EBP + -0x4],0x0
00746938 : CMP byte ptr [ESI + 0x16e],0x0
0074693f : JZ 0x00746975
00746941 : CMP byte ptr [ESI + 0x16f],0x0
00746948 : JZ 0x00746975
0074694a : MOV EAX,dword ptr [ESI + 0x34]
0074694d : ADD EAX,dword ptr [ESI + 0x30]
00746950 : MOV EDI,dword ptr [ESI + 0x18]
00746953 : MOV EDX,dword ptr [ESI + 0x30]
00746956 : PUSH EAX
00746957 : PUSH EDI
00746958 : PUSH EDX
00746959 : MOV EBX,EDI
0074695b : MOV ECX,EAX
0074695d : PUSH EBX
0074695e : SUB ECX,EDX
00746960 : PUSH 0x746890
00746965 : PUSH ECX
00746966 : CALL 0x004c1820
0074696b : ADD ESP,0x18
0074696e : MOV byte ptr [ESI + 0x16f],0x0
00746975 : MOV dword ptr [EBP + -0x4],0xffffffff
0074697c : PUSH ESI
0074697d : CALL dword ptr [0x00b8511c]
00746983 : MOV ECX,dword ptr [EBP + -0xc]
00746986 : MOV dword ptr FS:[0x0],ECX
0074698d : POP ECX
0074698e : POP EDI
0074698f : POP EBX
00746990 : MOV ESP,EBP
00746992 : POP EBP
00746993 : RET
