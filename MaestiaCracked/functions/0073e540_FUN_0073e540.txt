PROGRAM  : Maestia.exe
FUNCTION : FUN_0073e540
ENTRY    : 0073e540
BODY     : [[0073e540, 0073e650]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0073e540(int param_1)

{
  int *piVar1;
  int iVar2;
  int unaff_EDI;
  
  if ((*(char *)(unaff_EDI + 0x58) != '\0') || (*(int *)(unaff_EDI + 0x14) == 0)) {
    if (*(int *)(unaff_EDI + 0x14) != 0) {
      piVar1 = *(int **)(*(int *)(unaff_EDI + 0x14) + 0x1c);
      (**(code **)(*piVar1 + 0xd0))(piVar1,"texSrc",0);
      *(undefined4 *)(unaff_EDI + 0x44) = 0;
      if (*(int *)(*(int *)(unaff_EDI + 0x14) + 0x1c) == 0) {
        return 0;
      }
      piVar1 = *(int **)(*(int *)(unaff_EDI + 0x14) + 0x1c);
      iVar2 = (**(code **)(*piVar1 + 0x108))(piVar1);
      if (iVar2 < 0) {
        return 0;
      }
      if (*(int *)(*(int *)(unaff_EDI + 0x14) + 0x1c) == 0) {
        return 0;
      }
      piVar1 = *(int **)(*(int *)(unaff_EDI + 0x14) + 0x1c);
      iVar2 = (**(code **)(*piVar1 + 0x10c))(piVar1);
      if (iVar2 < 0) {
        return 0;
      }
      *(undefined4 *)(unaff_EDI + 0x14) = 0;
    }
    iVar2 = FUN_007bfcc0(3);
    *(int *)(unaff_EDI + 0x14) = iVar2;
    if (iVar2 == 0) {
      return 0;
    }
    iVar2 = (**(code **)(**(int **)(iVar2 + 0x1c) + 0xe8))(*(int **)(iVar2 + 0x1c),"Tech0");
    if (iVar2 < 0) {
      FUN_008018d0(L"AvaFxRenderGroup::SetEffectShader m_pShaderData->GetFX()->SetTechnique Failed (%d)"
                   ,iVar2);
    }
    piVar1 = *(int **)(*(int *)(unaff_EDI + 0x14) + 0x1c);
    iVar2 = (**(code **)(*piVar1 + 0xfc))(piVar1,0,0);
    if (iVar2 < 0) {
      FUN_008018d0(L"AvaFxRenderGroup::SetEffectShader m_pShaderData->GetFX()->Begin Failed (%d)",
                   iVar2);
    }
    *(undefined1 *)(unaff_EDI + 0x58) = 0;
  }
  *(undefined4 *)(unaff_EDI + 0x50) = *(undefined4 *)(param_1 + 0x148);
  *(undefined4 *)(unaff_EDI + 0x54) = *(undefined4 *)(param_1 + 0x14c);
  return 1;
}



============================================================
DISASSEMBLY
============================================================
0073e540 : PUSH EBP
0073e541 : MOV EBP,ESP
0073e543 : CMP byte ptr [EDI + 0x58],0x0
0073e547 : PUSH ESI
0073e548 : JNZ 0x0073e554
0073e54a : CMP dword ptr [EDI + 0x14],0x0
0073e54e : JNZ 0x0073e635
0073e554 : MOV EAX,dword ptr [EDI + 0x14]
0073e557 : TEST EAX,EAX
0073e559 : JZ 0x0073e5c5
0073e55b : MOV EAX,dword ptr [EAX + 0x1c]
0073e55e : MOV ECX,dword ptr [EAX]
0073e560 : MOV EDX,dword ptr [ECX + 0xd0]
0073e566 : PUSH 0x0
0073e568 : PUSH 0xc068c0
0073e56d : PUSH EAX
0073e56e : CALL EDX
0073e570 : MOV EAX,dword ptr [EDI + 0x14]
0073e573 : MOV dword ptr [EDI + 0x44],0x0
0073e57a : CMP dword ptr [EAX + 0x1c],0x0
0073e57e : JZ 0x0073e597
0073e580 : MOV EAX,dword ptr [EAX + 0x1c]
0073e583 : MOV ECX,dword ptr [EAX]
0073e585 : MOV EDX,dword ptr [ECX + 0x108]
0073e58b : PUSH EAX
0073e58c : CALL EDX
0073e58e : TEST EAX,EAX
0073e590 : SETGE AL
0073e593 : TEST AL,AL
0073e595 : JNZ 0x0073e59e
0073e597 : XOR AL,AL
0073e599 : POP ESI
0073e59a : POP EBP
0073e59b : RET 0x4
0073e59e : MOV EAX,dword ptr [EDI + 0x14]
0073e5a1 : CMP dword ptr [EAX + 0x1c],0x0
0073e5a5 : JZ 0x0073e597
0073e5a7 : MOV EAX,dword ptr [EAX + 0x1c]
0073e5aa : MOV ECX,dword ptr [EAX]
0073e5ac : MOV EDX,dword ptr [ECX + 0x10c]
0073e5b2 : PUSH EAX
0073e5b3 : CALL EDX
0073e5b5 : TEST EAX,EAX
0073e5b7 : SETGE AL
0073e5ba : TEST AL,AL
0073e5bc : JZ 0x0073e597
0073e5be : MOV dword ptr [EDI + 0x14],0x0
0073e5c5 : MOV ESI,dword ptr [0x01725204]
0073e5cb : PUSH 0x3
0073e5cd : CALL 0x007bfcc0
0073e5d2 : MOV dword ptr [EDI + 0x14],EAX
0073e5d5 : TEST EAX,EAX
0073e5d7 : JZ 0x0073e597
0073e5d9 : MOV EAX,dword ptr [EAX + 0x1c]
0073e5dc : MOV ECX,dword ptr [EAX]
0073e5de : MOV EDX,dword ptr [ECX + 0xe8]
0073e5e4 : PUSH 0xc068c8
0073e5e9 : PUSH EAX
0073e5ea : CALL EDX
0073e5ec : TEST EAX,EAX
0073e5ee : JGE 0x0073e604
0073e5f0 : MOV ESI,dword ptr [0x00da98e8]
0073e5f6 : PUSH EAX
0073e5f7 : PUSH 0xc068d0
0073e5fc : CALL 0x008018d0
0073e601 : ADD ESP,0x8
0073e604 : MOV EAX,dword ptr [EDI + 0x14]
0073e607 : MOV EAX,dword ptr [EAX + 0x1c]
0073e60a : MOV ECX,dword ptr [EAX]
0073e60c : MOV EDX,dword ptr [ECX + 0xfc]
0073e612 : PUSH 0x0
0073e614 : PUSH 0x0
0073e616 : PUSH EAX
0073e617 : CALL EDX
0073e619 : TEST EAX,EAX
0073e61b : JGE 0x0073e631
0073e61d : MOV ESI,dword ptr [0x00da98e8]
0073e623 : PUSH EAX
0073e624 : PUSH 0xc06978
0073e629 : CALL 0x008018d0
0073e62e : ADD ESP,0x8
0073e631 : MOV byte ptr [EDI + 0x58],0x0
0073e635 : MOV EAX,dword ptr [EBP + 0x8]
0073e638 : MOV ECX,dword ptr [EAX + 0x148]
0073e63e : MOV dword ptr [EDI + 0x50],ECX
0073e641 : MOV EDX,dword ptr [EAX + 0x14c]
0073e647 : MOV dword ptr [EDI + 0x54],EDX
0073e64a : MOV AL,0x1
0073e64c : POP ESI
0073e64d : POP EBP
0073e64e : RET 0x4
