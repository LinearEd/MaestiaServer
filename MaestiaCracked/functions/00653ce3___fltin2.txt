PROGRAM  : Maestia.exe
FUNCTION : __fltin2
ENTRY    : 00653ce3
BODY     : [[00653ce3, 00653d89]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    __fltin2
   
   Library: Visual Studio 2008 Release */

FLT __cdecl __fltin2(FLT _Flt,char *_Str,_locale_t _Locale)

{
  INTRNCVT_STATUS IVar1;
  FLT p_Var2;
  uint uVar3;
  int local_28;
  char *local_24;
  _CRT_DOUBLE local_20;
  uint local_18;
  _LDBL12 local_14;
  uint local_8;
  
  local_8 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_24 = _Str;
  uVar3 = 0;
  local_18 = FUN_00653d8a(&local_14,&local_28,_Str,0,0,0,0);
  if ((local_18 & 4) == 0) {
    IVar1 = __ld12tod(&local_14,&local_20);
    if (((local_18 & 2) != 0) || (IVar1 == INTRNCVT_OVERFLOW)) {
      uVar3 = 0x80;
    }
    if (((local_18 & 1) != 0) || (IVar1 == INTRNCVT_UNDERFLOW)) {
      uVar3 = uVar3 | 0x100;
    }
  }
  else {
    uVar3 = 0x200;
    local_20.x._0_4_ = 0;
    local_20.x._4_4_ = 0;
  }
  _Flt->nbytes = local_28 - (int)local_24;
  *(undefined4 *)&_Flt->dval = local_20.x._0_4_;
  *(undefined4 *)((int)&_Flt->dval + 4) = local_20.x._4_4_;
  _Flt->flags = uVar3;
  p_Var2 = (FLT)__security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return p_Var2;
}



============================================================
DISASSEMBLY
============================================================
00653ce3 : MOV EDI,EDI
00653ce5 : PUSH EBP
00653ce6 : MOV EBP,ESP
00653ce8 : SUB ESP,0x24
00653ceb : MOV EAX,[0x00d66fa0]
00653cf0 : XOR EAX,EBP
00653cf2 : MOV dword ptr [EBP + -0x4],EAX
00653cf5 : MOV EAX,dword ptr [EBP + 0x1c]
00653cf8 : MOV ECX,dword ptr [EBP + 0xc]
00653cfb : PUSH EBX
00653cfc : PUSH ESI
00653cfd : MOV ESI,dword ptr [EBP + 0x8]
00653d00 : PUSH EDI
00653d01 : PUSH EAX
00653d02 : XOR EDI,EDI
00653d04 : PUSH EDI
00653d05 : PUSH EDI
00653d06 : PUSH EDI
00653d07 : PUSH EDI
00653d08 : PUSH ECX
00653d09 : LEA EAX,[EBP + -0x24]
00653d0c : PUSH EAX
00653d0d : LEA EAX,[EBP + -0x10]
00653d10 : PUSH EAX
00653d11 : MOV dword ptr [EBP + -0x20],ECX
00653d14 : XOR EBX,EBX
00653d16 : CALL 0x00653d8a
00653d1b : ADD ESP,0x20
00653d1e : MOV dword ptr [EBP + -0x14],EAX
00653d21 : TEST AL,0x4
00653d23 : JZ 0x00653d32
00653d25 : MOV EBX,0x200
00653d2a : MOV dword ptr [EBP + -0x1c],EDI
00653d2d : MOV dword ptr [EBP + -0x18],EDI
00653d30 : JMP 0x00653d62
00653d32 : LEA EAX,[EBP + -0x1c]
00653d35 : PUSH EAX
00653d36 : LEA EAX,[EBP + -0x10]
00653d39 : PUSH EAX
00653d3a : CALL 0x0065e157
00653d3f : TEST byte ptr [EBP + -0x14],0x2
00653d43 : POP ECX
00653d44 : POP ECX
00653d45 : JNZ 0x00653d4c
00653d47 : CMP EAX,0x1
00653d4a : JNZ 0x00653d51
00653d4c : MOV EBX,0x80
00653d51 : TEST byte ptr [EBP + -0x14],0x1
00653d55 : JNZ 0x00653d5c
00653d57 : CMP EAX,0x2
00653d5a : JNZ 0x00653d62
00653d5c : OR EBX,0x100
00653d62 : MOV EAX,dword ptr [EBP + -0x24]
00653d65 : SUB EAX,dword ptr [EBP + -0x20]
00653d68 : MOV ECX,dword ptr [EBP + -0x4]
00653d6b : MOV dword ptr [ESI + 0x4],EAX
00653d6e : MOV EAX,dword ptr [EBP + -0x1c]
00653d71 : MOV dword ptr [ESI + 0x10],EAX
00653d74 : MOV EAX,dword ptr [EBP + -0x18]
00653d77 : MOV dword ptr [ESI + 0x14],EAX
00653d7a : POP EDI
00653d7b : MOV dword ptr [ESI],EBX
00653d7d : MOV EAX,ESI
00653d7f : POP ESI
00653d80 : XOR ECX,EBP
00653d82 : POP EBX
00653d83 : CALL 0x00633e6b
00653d88 : LEAVE
00653d89 : RET
