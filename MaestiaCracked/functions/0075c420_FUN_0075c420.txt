PROGRAM  : Maestia.exe
FUNCTION : FUN_0075c420
ENTRY    : 0075c420
BODY     : [[0075c420, 0075c6ed]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0075c420(void)

{
  undefined4 *puVar1;
  short sVar2;
  int iVar3;
  undefined4 uVar4;
  int *piVar5;
  int unaff_EDI;
  wchar_t *pwVar6;
  undefined4 uVar7;
  uint local_18;
  short *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar3 = DAT_017251ac;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b18c31;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  piVar5 = *(int **)(DAT_017251ac + 0x18);
  *(undefined4 *)(unaff_EDI + 0x10) = 0;
  *(undefined1 *)(unaff_EDI + 0x14) = 0;
  *(undefined4 *)(unaff_EDI + 0xc) = 0;
  (**(code **)(*piVar5 + 0x68))
            (piVar5,0x180000,(-(uint)(*(int *)(iVar3 + 0x20) != 0) & 0xfffffff8) + 8,0,
             (*(int *)(iVar3 + 0x20) != 0) + '\x01');
  puVar1 = (undefined4 *)(unaff_EDI + 4);
  (**(code **)(*piVar5 + 0x6c))(piVar5,0x30000,8,0x65,*(int *)(DAT_017251ac + 0x20) == 0,puVar1,0);
  (**(code **)(*piVar5 + 0x6c))
            (piVar5,0x30000,8,0x65,*(int *)(DAT_017251ac + 0x20) == 0,unaff_EDI + 8,0);
  local_14 = (short *)0x0;
  iVar3 = (**(code **)(*(int *)*puVar1 + 0x2c))((int *)*puVar1,0,0x30000,&local_14,0);
  if (iVar3 < 0) {
    uVar4 = FUN_00404750(L"[FrkGeomDisplayList::FrkGeomDisplayList] m_pIBDxQuad Lock Fail(%d)",iVar3
                        );
    local_8 = 1;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                (L"FrkGeomDisplayList::FrkGeomDisplayList",0x4a,uVar4);
    }
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
LAB_0075c601:
    local_8 = 0xffffffff;
    local_18 = 7;
  }
  else {
    iVar3 = 0x4000;
    sVar2 = 0;
    do {
      *local_14 = sVar2;
      local_14[1] = sVar2;
      local_14[2] = sVar2 + 1;
      local_14[3] = sVar2 + 2;
      local_14[4] = sVar2 + 3;
      local_14[5] = sVar2 + 3;
      local_14 = local_14 + 6;
      iVar3 = iVar3 + -1;
      sVar2 = sVar2 + 4;
    } while (iVar3 != 0);
    iVar3 = (**(code **)(*(int *)*puVar1 + 0x30))((int *)*puVar1);
    if (iVar3 < 0) {
      uVar4 = FUN_00404750(L"[FrkGeomDisplayList::FrkGeomDisplayList] m_pIBDxQuad Unlock Fail(%d)",
                           iVar3);
      local_8 = 0;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                  (L"FrkGeomDisplayList::FrkGeomDisplayList",0x45,uVar4);
      }
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      goto LAB_0075c601;
    }
  }
  iVar3 = (**(code **)(**(int **)(unaff_EDI + 8) + 0x2c))
                    (*(int **)(unaff_EDI + 8),0,0x30000,&local_14,0);
  if (iVar3 < 0) {
    uVar4 = FUN_00404750(L"[FrkGeomDisplayList::FrkGeomDisplayList] m_pIBDxMisc Lock Fail(%d)",iVar3
                        );
    local_8 = 3;
    piVar5 = (int *)*DAT_00da98e8;
    if (piVar5 == (int *)0x0) goto LAB_0075c6b6;
    uVar7 = 0x5c;
    pwVar6 = L"FrkGeomDisplayList::FrkGeomDisplayList";
  }
  else {
    iVar3 = 0;
    do {
      *local_14 = (short)iVar3;
      local_14 = local_14 + 1;
      iVar3 = iVar3 + 1;
    } while (iVar3 < 0x4000);
    iVar3 = (**(code **)(**(int **)(unaff_EDI + 8) + 0x30))(*(int **)(unaff_EDI + 8));
    if (-1 < iVar3) {
      ExceptionList = local_10;
      return;
    }
    uVar4 = FUN_00404750(L"[FrkGeomDisplayList::FrkGeomDisplayList] m_pIBDxMisc Unlock Fail(%d)",
                         iVar3);
    local_8 = 2;
    piVar5 = (int *)*DAT_00da98e8;
    if (piVar5 == (int *)0x0) goto LAB_0075c6b6;
    uVar7 = 0x57;
    pwVar6 = L"FrkGeomDisplayList::FrkGeomDisplayList";
  }
  (**(code **)(*piVar5 + 0x14))(pwVar6,uVar7,uVar4);
LAB_0075c6b6:
  local_8 = 0xffffffff;
  if (local_18 < 8) {
    ExceptionList = local_10;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0075c420 : PUSH EBP
0075c421 : MOV EBP,ESP
0075c423 : PUSH -0x1
0075c425 : PUSH 0xb18c31
0075c42a : MOV EAX,FS:[0x0]
0075c430 : PUSH EAX
0075c431 : SUB ESP,0x20
0075c434 : PUSH EBX
0075c435 : PUSH ESI
0075c436 : MOV EAX,[0x00d66fa0]
0075c43b : XOR EAX,EBP
0075c43d : PUSH EAX
0075c43e : LEA EAX,[EBP + -0xc]
0075c441 : MOV FS:[0x0],EAX
0075c447 : MOV EAX,[0x017251ac]
0075c44c : MOV ESI,dword ptr [EAX + 0x18]
0075c44f : XOR ECX,ECX
0075c451 : MOV dword ptr [EDI + 0x10],ECX
0075c454 : MOV byte ptr [EDI + 0x14],CL
0075c457 : MOV dword ptr [EDI + 0xc],ECX
0075c45a : MOV EAX,dword ptr [EAX + 0x20]
0075c45d : MOV EDX,dword ptr [ESI]
0075c45f : XOR EBX,EBX
0075c461 : CMP EAX,ECX
0075c463 : SETNZ BL
0075c466 : PUSH ECX
0075c467 : PUSH EDI
0075c468 : INC EBX
0075c469 : NEG EAX
0075c46b : SBB EAX,EAX
0075c46d : PUSH EBX
0075c46e : AND EAX,0xfffffff8
0075c471 : PUSH ECX
0075c472 : ADD EAX,0x8
0075c475 : PUSH EAX
0075c476 : MOV EAX,dword ptr [EDX + 0x68]
0075c479 : PUSH 0x180000
0075c47e : PUSH ESI
0075c47f : CALL EAX
0075c481 : MOV ECX,dword ptr [0x017251ac]
0075c487 : MOV EAX,dword ptr [ECX + 0x20]
0075c48a : MOV EDX,dword ptr [ESI]
0075c48c : MOV EDX,dword ptr [EDX + 0x6c]
0075c48f : XOR ECX,ECX
0075c491 : TEST EAX,EAX
0075c493 : PUSH 0x0
0075c495 : SETZ CL
0075c498 : LEA EBX,[EDI + 0x4]
0075c49b : PUSH EBX
0075c49c : PUSH ECX
0075c49d : PUSH 0x65
0075c49f : PUSH 0x8
0075c4a1 : PUSH 0x30000
0075c4a6 : PUSH ESI
0075c4a7 : CALL EDX
0075c4a9 : MOV EAX,[0x017251ac]
0075c4ae : MOV EAX,dword ptr [EAX + 0x20]
0075c4b1 : MOV EDX,dword ptr [ESI]
0075c4b3 : MOV EDX,dword ptr [EDX + 0x6c]
0075c4b6 : PUSH 0x0
0075c4b8 : LEA ECX,[EDI + 0x8]
0075c4bb : PUSH ECX
0075c4bc : XOR ECX,ECX
0075c4be : TEST EAX,EAX
0075c4c0 : SETZ CL
0075c4c3 : PUSH ECX
0075c4c4 : PUSH 0x65
0075c4c6 : PUSH 0x8
0075c4c8 : PUSH 0x30000
0075c4cd : PUSH ESI
0075c4ce : CALL EDX
0075c4d0 : MOV EAX,dword ptr [EBX]
0075c4d2 : PUSH 0x0
0075c4d4 : LEA EDX,[EBP + -0x10]
0075c4d7 : PUSH EDX
0075c4d8 : PUSH 0x30000
0075c4dd : MOV dword ptr [EBP + -0x10],0x0
0075c4e4 : MOV ECX,dword ptr [EAX]
0075c4e6 : PUSH 0x0
0075c4e8 : PUSH EAX
0075c4e9 : MOV EAX,dword ptr [ECX + 0x2c]
0075c4ec : CALL EAX
0075c4ee : TEST EAX,EAX
0075c4f0 : JL 0x0075c5b2
0075c4f6 : XOR EAX,EAX
0075c4f8 : MOV ESI,0x4000
0075c4fd : LEA ECX,[ECX]
0075c500 : MOV EDX,dword ptr [EBP + -0x10]
0075c503 : MOVZX ECX,AX
0075c506 : MOV word ptr [EDX],CX
0075c509 : MOV EDX,dword ptr [EBP + -0x10]
0075c50c : ADD EDX,0x2
0075c50f : MOV dword ptr [EBP + -0x10],EDX
0075c512 : MOV word ptr [EDX],CX
0075c515 : MOV ECX,dword ptr [EBP + -0x10]
0075c518 : ADD ECX,0x2
0075c51b : MOV dword ptr [EBP + -0x10],ECX
0075c51e : INC EAX
0075c51f : MOV word ptr [ECX],AX
0075c522 : MOV ECX,dword ptr [EBP + -0x10]
0075c525 : ADD ECX,0x2
0075c528 : MOV dword ptr [EBP + -0x10],ECX
0075c52b : INC EAX
0075c52c : MOV word ptr [ECX],AX
0075c52f : MOV ECX,dword ptr [EBP + -0x10]
0075c532 : ADD ECX,0x2
0075c535 : MOV dword ptr [EBP + -0x10],ECX
0075c538 : INC EAX
0075c539 : MOV word ptr [ECX],AX
0075c53c : MOV ECX,dword ptr [EBP + -0x10]
0075c53f : ADD ECX,0x2
0075c542 : INC EAX
0075c543 : MOV dword ptr [EBP + -0x10],ECX
0075c546 : LEA EDX,[EAX + -0x1]
0075c549 : MOV word ptr [ECX],DX
0075c54c : ADD dword ptr [EBP + -0x10],0x2
0075c550 : SUB ESI,0x1
0075c553 : JNZ 0x0075c500
0075c555 : MOV EBX,dword ptr [EBX]
0075c557 : MOV EAX,dword ptr [EBX]
0075c559 : MOV ECX,dword ptr [EAX + 0x30]
0075c55c : PUSH EBX
0075c55d : CALL ECX
0075c55f : TEST EAX,EAX
0075c561 : JGE 0x0075c60e
0075c567 : PUSH EAX
0075c568 : PUSH 0xc0ba28
0075c56d : LEA ESI,[EBP + -0x2c]
0075c570 : CALL 0x00404750
0075c575 : ADD ESP,0x8
0075c578 : XOR ESI,ESI
0075c57a : MOV dword ptr [EBP + -0x4],ESI
0075c57d : MOV EDX,dword ptr [0x00da98e8]
0075c583 : MOV ECX,dword ptr [EDX]
0075c585 : CMP ECX,ESI
0075c587 : JZ 0x0075c598
0075c589 : MOV EDX,dword ptr [ECX]
0075c58b : PUSH EAX
0075c58c : MOV EAX,dword ptr [EDX + 0x14]
0075c58f : PUSH 0x45
0075c591 : PUSH 0xc0bab8
0075c596 : CALL EAX
0075c598 : MOV dword ptr [EBP + -0x4],0xffffffff
0075c59f : CMP dword ptr [EBP + -0x14],0x8
0075c5a3 : JC 0x0075c5ad
0075c5a5 : MOV ECX,dword ptr [EBP + -0x28]
0075c5a8 : CALL 0x006f04e0
0075c5ad : MOV dword ptr [EBP + -0x18],ESI
0075c5b0 : JMP 0x0075c601
0075c5b2 : PUSH EAX
0075c5b3 : PUSH 0xc0bb08
0075c5b8 : LEA ESI,[EBP + -0x2c]
0075c5bb : CALL 0x00404750
0075c5c0 : ADD ESP,0x8
0075c5c3 : MOV dword ptr [EBP + -0x4],0x1
0075c5ca : MOV EDX,dword ptr [0x00da98e8]
0075c5d0 : MOV ECX,dword ptr [EDX]
0075c5d2 : TEST ECX,ECX
0075c5d4 : JZ 0x0075c5e5
0075c5d6 : MOV EDX,dword ptr [ECX]
0075c5d8 : PUSH EAX
0075c5d9 : MOV EAX,dword ptr [EDX + 0x14]
0075c5dc : PUSH 0x4a
0075c5de : PUSH 0xc0bb90
0075c5e3 : CALL EAX
0075c5e5 : MOV dword ptr [EBP + -0x4],0xffffffff
0075c5ec : CMP dword ptr [EBP + -0x14],0x8
0075c5f0 : JC 0x0075c5fa
0075c5f2 : MOV ECX,dword ptr [EBP + -0x28]
0075c5f5 : CALL 0x006f04e0
0075c5fa : MOV dword ptr [EBP + -0x18],0x0
0075c601 : XOR ECX,ECX
0075c603 : MOV word ptr [EBP + -0x28],CX
0075c607 : MOV dword ptr [EBP + -0x14],0x7
0075c60e : MOV EAX,dword ptr [EDI + 0x8]
0075c611 : MOV EDX,dword ptr [EAX]
0075c613 : MOV EDX,dword ptr [EDX + 0x2c]
0075c616 : PUSH 0x0
0075c618 : LEA ECX,[EBP + -0x10]
0075c61b : PUSH ECX
0075c61c : PUSH 0x30000
0075c621 : PUSH 0x0
0075c623 : PUSH EAX
0075c624 : CALL EDX
0075c626 : TEST EAX,EAX
0075c628 : JL 0x0075c683
0075c62a : XOR EAX,EAX
0075c62c : LEA ESP,[ESP]
0075c630 : MOV ECX,dword ptr [EBP + -0x10]
0075c633 : MOV word ptr [ECX],AX
0075c636 : ADD dword ptr [EBP + -0x10],0x2
0075c63a : INC EAX
0075c63b : CMP EAX,0x4000
0075c640 : JL 0x0075c630
0075c642 : MOV EAX,dword ptr [EDI + 0x8]
0075c645 : MOV EDX,dword ptr [EAX]
0075c647 : PUSH EAX
0075c648 : MOV EAX,dword ptr [EDX + 0x30]
0075c64b : CALL EAX
0075c64d : TEST EAX,EAX
0075c64f : JGE 0x0075c6db
0075c655 : PUSH EAX
0075c656 : PUSH 0xc0bbe0
0075c65b : LEA ESI,[EBP + -0x2c]
0075c65e : CALL 0x00404750
0075c663 : ADD ESP,0x8
0075c666 : MOV dword ptr [EBP + -0x4],0x2
0075c66d : MOV ECX,dword ptr [0x00da98e8]
0075c673 : MOV ECX,dword ptr [ECX]
0075c675 : TEST ECX,ECX
0075c677 : JZ 0x0075c6b6
0075c679 : PUSH EAX
0075c67a : PUSH 0x57
0075c67c : PUSH 0xc0bc70
0075c681 : JMP 0x0075c6af
0075c683 : PUSH EAX
0075c684 : PUSH 0xc0bcc0
0075c689 : LEA ESI,[EBP + -0x2c]
0075c68c : CALL 0x00404750
0075c691 : ADD ESP,0x8
0075c694 : MOV dword ptr [EBP + -0x4],0x3
0075c69b : MOV EDX,dword ptr [0x00da98e8]
0075c6a1 : MOV ECX,dword ptr [EDX]
0075c6a3 : TEST ECX,ECX
0075c6a5 : JZ 0x0075c6b6
0075c6a7 : PUSH EAX
0075c6a8 : PUSH 0x5c
0075c6aa : PUSH 0xc0bd48
0075c6af : MOV EDX,dword ptr [ECX]
0075c6b1 : MOV EAX,dword ptr [EDX + 0x14]
0075c6b4 : CALL EAX
0075c6b6 : MOV dword ptr [EBP + -0x4],0xffffffff
0075c6bd : CMP dword ptr [EBP + -0x14],0x8
0075c6c1 : JC 0x0075c6cb
0075c6c3 : MOV ECX,dword ptr [EBP + -0x28]
0075c6c6 : CALL 0x006f04e0
0075c6cb : XOR ECX,ECX
0075c6cd : MOV word ptr [EBP + -0x28],CX
0075c6d1 : MOV dword ptr [EBP + -0x18],ECX
0075c6d4 : MOV dword ptr [EBP + -0x14],0x7
0075c6db : MOV EAX,EDI
0075c6dd : MOV ECX,dword ptr [EBP + -0xc]
0075c6e0 : MOV dword ptr FS:[0x0],ECX
0075c6e7 : POP ECX
0075c6e8 : POP ESI
0075c6e9 : POP EBX
0075c6ea : MOV ESP,EBP
0075c6ec : POP EBP
0075c6ed : RET
