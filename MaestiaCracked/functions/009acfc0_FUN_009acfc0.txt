PROGRAM  : Maestia.exe
FUNCTION : FUN_009acfc0
ENTRY    : 009acfc0
BODY     : [[009acfc0, 009ad131]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009acfc0(void)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int in_ECX;
  undefined4 ***pppuVar4;
  int iVar5;
  undefined *puVar6;
  undefined4 **local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b215e8;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar5 = 0;
  local_18 = 7;
  local_1c = 0;
  local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
  local_14 = uVar2;
  FUN_00406360(&DAT_00c8b4b4,0);
  local_8 = 0;
  uVar1 = *(uint *)(in_ECX + 0x40);
  do {
    uVar3 = __aullshr(uVar2);
    if ((uVar3 & 1) == 0) {
      puVar6 = &DAT_00c8b4c0;
    }
    else {
      puVar6 = &DAT_00c8b4b8;
    }
    FUN_00404870(puVar6,2);
    if (iVar5 == 0x10) {
      *(bool *)(in_ECX + 0x48) = (uVar1 >> 0x10 & 1) != 0;
    }
    iVar5 = iVar5 + 1;
  } while (iVar5 < 0x40);
  iVar5 = *DAT_00da9894;
  if ((iVar5 != 0) && (*(int *)(iVar5 + 0x114) != 0)) {
    (**(code **)(**(int **)(iVar5 + 0x114) + 4))
              (*(int **)(iVar5 + 0x114),"SetChatBackVisible",&DAT_00c8b4c8,(uVar1 & 1) == 0);
  }
  iVar5 = *DAT_00da9894;
  if ((iVar5 != 0) && (*(int *)(iVar5 + 0x114) != 0)) {
    pppuVar4 = (undefined4 ***)local_2c[0];
    if (local_18 < 8) {
      pppuVar4 = local_2c;
    }
    (**(code **)(**(int **)(iVar5 + 0x114) + 4))
              (*(int **)(iVar5 + 0x114),"SelectedChatOption",&DAT_00c8b4e0,pppuVar4);
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009acfc0 : PUSH EBP
009acfc1 : MOV EBP,ESP
009acfc3 : PUSH -0x1
009acfc5 : PUSH 0xb215e8
009acfca : MOV EAX,FS:[0x0]
009acfd0 : PUSH EAX
009acfd1 : SUB ESP,0x34
009acfd4 : MOV EAX,[0x00d66fa0]
009acfd9 : XOR EAX,EBP
009acfdb : MOV dword ptr [EBP + -0x10],EAX
009acfde : PUSH EBX
009acfdf : PUSH ESI
009acfe0 : PUSH EDI
009acfe1 : PUSH EAX
009acfe2 : LEA EAX,[EBP + -0xc]
009acfe5 : MOV FS:[0x0],EAX
009acfeb : XOR EBX,EBX
009acfed : MOV ESI,ECX
009acfef : PUSH EBX
009acff0 : XOR EAX,EAX
009acff2 : PUSH 0xc8b4b4
009acff7 : LEA ECX,[EBP + -0x2c]
009acffa : MOV dword ptr [EBP + -0x30],ESI
009acffd : MOV dword ptr [EBP + -0x14],0x7
009ad004 : MOV dword ptr [EBP + -0x18],EBX
009ad007 : MOV word ptr [EBP + -0x28],AX
009ad00b : CALL 0x00406360
009ad010 : MOV dword ptr [EBP + -0x4],EBX
009ad013 : MOV ECX,dword ptr [ESI + 0x44]
009ad016 : MOV EDI,dword ptr [ESI + 0x40]
009ad019 : MOV dword ptr [EBP + -0x34],ECX
009ad01c : MOV EDX,dword ptr [EBP + -0x34]
009ad01f : MOVSX ECX,BX
009ad022 : MOV EAX,EDI
009ad024 : CALL 0x0065fce0
009ad029 : AND EAX,0x1
009ad02c : XOR EDX,EDX
009ad02e : MOV dword ptr [EBP + -0x3c],EDX
009ad031 : PUSH 0x2
009ad033 : LEA ESI,[EBP + -0x2c]
009ad036 : TEST EAX,EAX
009ad038 : JZ 0x009ad041
009ad03a : PUSH 0xc8b4b8
009ad03f : JMP 0x009ad046
009ad041 : PUSH 0xc8b4c0
009ad046 : CALL 0x00404870
009ad04b : CMP EBX,0x10
009ad04e : JNZ 0x009ad06e
009ad050 : MOV EAX,dword ptr [EBP + -0x34]
009ad053 : MOV EDX,EDI
009ad055 : SHRD EDX,EAX,0x10
009ad059 : MOV EAX,EDX
009ad05b : MOV EDX,dword ptr [EBP + -0x30]
009ad05e : AND EAX,0x1
009ad061 : SETNZ CL
009ad064 : MOV dword ptr [EBP + -0x3c],0x0
009ad06b : MOV byte ptr [EDX + 0x48],CL
009ad06e : INC EBX
009ad06f : CMP EBX,0x40
009ad072 : JL 0x009ad01c
009ad074 : MOV EAX,[0x00da9894]
009ad079 : MOV EAX,dword ptr [EAX]
009ad07b : XOR ESI,ESI
009ad07d : CMP EAX,ESI
009ad07f : JZ 0x009ad0b2
009ad081 : CMP dword ptr [EAX + 0x114],ESI
009ad087 : JZ 0x009ad0b2
009ad089 : MOV EAX,dword ptr [EAX + 0x114]
009ad08f : MOV ECX,dword ptr [EAX]
009ad091 : XOR EDX,EDX
009ad093 : AND EDI,0x1
009ad096 : CMP EDI,ESI
009ad098 : SETZ DL
009ad09b : MOV dword ptr [EBP + -0x3c],ESI
009ad09e : PUSH EDX
009ad09f : PUSH 0xc8b4c8
009ad0a4 : PUSH 0xc8b4cc
009ad0a9 : PUSH EAX
009ad0aa : MOV EAX,dword ptr [ECX + 0x4]
009ad0ad : CALL EAX
009ad0af : ADD ESP,0x10
009ad0b2 : MOV ECX,dword ptr [0x00da9894]
009ad0b8 : MOV EAX,dword ptr [ECX]
009ad0ba : MOV EDI,0x8
009ad0bf : CMP EAX,ESI
009ad0c1 : JZ 0x009ad0f2
009ad0c3 : CMP dword ptr [EAX + 0x114],ESI
009ad0c9 : JZ 0x009ad0f2
009ad0cb : MOV EAX,dword ptr [EAX + 0x114]
009ad0d1 : MOV ECX,dword ptr [EBP + -0x28]
009ad0d4 : CMP dword ptr [EBP + -0x14],EDI
009ad0d7 : JNC 0x009ad0dc
009ad0d9 : LEA ECX,[EBP + -0x28]
009ad0dc : MOV EDX,dword ptr [EAX]
009ad0de : PUSH ECX
009ad0df : PUSH 0xc8b4e0
009ad0e4 : PUSH 0xc8b4e4
009ad0e9 : PUSH EAX
009ad0ea : MOV EAX,dword ptr [EDX + 0x4]
009ad0ed : CALL EAX
009ad0ef : ADD ESP,0x10
009ad0f2 : MOV dword ptr [EBP + -0x4],0xffffffff
009ad0f9 : CMP dword ptr [EBP + -0x14],EDI
009ad0fc : JC 0x009ad106
009ad0fe : MOV ECX,dword ptr [EBP + -0x28]
009ad101 : CALL 0x006f04e0
009ad106 : XOR ECX,ECX
009ad108 : MOV dword ptr [EBP + -0x14],0x7
009ad10f : MOV dword ptr [EBP + -0x18],ESI
009ad112 : MOV word ptr [EBP + -0x28],CX
009ad116 : MOV ECX,dword ptr [EBP + -0xc]
009ad119 : MOV dword ptr FS:[0x0],ECX
009ad120 : POP ECX
009ad121 : POP EDI
009ad122 : POP ESI
009ad123 : POP EBX
009ad124 : MOV ECX,dword ptr [EBP + -0x10]
009ad127 : XOR ECX,EBP
009ad129 : CALL 0x00633e6b
009ad12e : MOV ESP,EBP
009ad130 : POP EBP
009ad131 : RET
