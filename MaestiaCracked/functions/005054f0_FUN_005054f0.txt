PROGRAM  : Maestia.exe
FUNCTION : FUN_005054f0
ENTRY    : 005054f0
BODY     : [[005054f0, 0050553b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005054f0(uint param_1)

{
  LONG LVar1;
  int in_ECX;
  uint uVar2;
  
  if (*(int *)(in_ECX + 0xec) != 0) {
    FUN_0051c480(param_1);
    FUN_00503f30(&param_1);
    uVar2 = param_1 & 0xfffffffc;
    LVar1 = InterlockedExchangeAdd((LONG *)(uVar2 + 4),-1);
    if (LVar1 == 1) {
      FUN_00515cf0(uVar2);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005054f0 : PUSH ESI
005054f1 : MOV ESI,ECX
005054f3 : CMP dword ptr [ESI + 0xec],0x0
005054fa : JZ 0x00505538
005054fc : MOV EAX,dword ptr [ESP + 0x8]
00505500 : PUSH EAX
00505501 : LEA ECX,[ESP + 0xc]
00505505 : CALL 0x0051c480
0050550a : LEA ECX,[ESP + 0x8]
0050550e : PUSH ECX
0050550f : MOV ECX,dword ptr [ESI + 0xec]
00505515 : CALL 0x00503f30
0050551a : MOV ESI,dword ptr [ESP + 0x8]
0050551e : AND ESI,0xfffffffc
00505521 : PUSH -0x1
00505523 : LEA EDX,[ESI + 0x4]
00505526 : PUSH EDX
00505527 : CALL dword ptr [0x00b851cc]
0050552d : SUB EAX,0x1
00505530 : JNZ 0x00505538
00505532 : PUSH ESI
00505533 : CALL 0x00515cf0
00505538 : POP ESI
00505539 : RET 0x4
