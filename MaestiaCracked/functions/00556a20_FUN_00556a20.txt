PROGRAM  : Maestia.exe
FUNCTION : FUN_00556a20
ENTRY    : 00556a20
BODY     : [[00556a20, 00556a9d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00556a20(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0xa0);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 0x103;
  iVar1 = FUN_00515d60(param_1,uVar2 * 0xa0,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00556a20 : MOV EAX,dword ptr [ESP + 0x8]
00556a24 : PUSH EDI
00556a25 : MOV EDI,ECX
00556a27 : TEST EAX,EAX
00556a29 : JNZ 0x00556a48
00556a2b : MOV EAX,dword ptr [EDI]
00556a2d : TEST EAX,EAX
00556a2f : JZ 0x00556a3d
00556a31 : PUSH EAX
00556a32 : CALL 0x00515cf0
00556a37 : MOV dword ptr [EDI],0x0
00556a3d : MOV dword ptr [EDI + 0x8],0x0
00556a44 : POP EDI
00556a45 : RET 0x8
00556a48 : PUSH ESI
00556a49 : LEA ESI,[EAX + 0x3]
00556a4c : MOV EAX,dword ptr [EDI]
00556a4e : SHR ESI,0x2
00556a51 : ADD ESI,ESI
00556a53 : ADD ESI,ESI
00556a55 : TEST EAX,EAX
00556a57 : JZ 0x00556a73
00556a59 : LEA ECX,[ESI + ESI*0x4]
00556a5c : ADD ECX,ECX
00556a5e : ADD ECX,ECX
00556a60 : ADD ECX,ECX
00556a62 : PUSH ECX
00556a63 : PUSH EAX
00556a64 : CALL 0x00515c80
00556a69 : MOV dword ptr [EDI + 0x8],ESI
00556a6c : POP ESI
00556a6d : MOV dword ptr [EDI],EAX
00556a6f : POP EDI
00556a70 : RET 0x8
00556a73 : MOV ECX,dword ptr [ESP + 0xc]
00556a77 : LEA EAX,[ESI + ESI*0x4]
00556a7a : ADD EAX,EAX
00556a7c : LEA EDX,[ESP + 0x10]
00556a80 : ADD EAX,EAX
00556a82 : PUSH EDX
00556a83 : ADD EAX,EAX
00556a85 : PUSH EAX
00556a86 : PUSH ECX
00556a87 : MOV dword ptr [ESP + 0x1c],0x103
00556a8f : CALL 0x00515d60
00556a94 : MOV dword ptr [EDI + 0x8],ESI
00556a97 : POP ESI
00556a98 : MOV dword ptr [EDI],EAX
00556a9a : POP EDI
00556a9b : RET 0x8
