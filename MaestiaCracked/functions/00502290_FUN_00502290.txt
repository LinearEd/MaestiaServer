PROGRAM  : Maestia.exe
FUNCTION : FUN_00502290
ENTRY    : 00502290
BODY     : [[00502290, 005022f0]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_00502290(int *param_1,int *param_2)

{
  GRefCountImpl *this;
  int in_ECX;
  
  *param_1 = 0;
  param_1[1] = 0;
  if (*param_2 == 1) {
    FUN_00502240(param_1,param_2[1]);
    return param_1;
  }
  param_1[1] = in_ECX;
  if (*param_2 == 0) {
    this = (GRefCountImpl *)param_2[1];
    if (this != (GRefCountImpl *)0x0) {
      GRefCountImpl::AddRef(this);
      if (*param_1 != 0) {
        FUN_00524240();
      }
    }
    *param_1 = (int)this;
    return param_1;
  }
  *param_1 = 0;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00502290 : MOV EAX,dword ptr [ESP + 0x8]
00502294 : PUSH ESI
00502295 : MOV ESI,dword ptr [ESP + 0x8]
00502299 : MOV dword ptr [ESI],0x0
0050229f : MOV dword ptr [ESI + 0x4],0x0
005022a6 : CMP dword ptr [EAX],0x1
005022a9 : JNZ 0x005022bb
005022ab : MOV EAX,dword ptr [EAX + 0x4]
005022ae : PUSH EAX
005022af : PUSH ESI
005022b0 : CALL 0x00502240
005022b5 : MOV EAX,ESI
005022b7 : POP ESI
005022b8 : RET 0x8
005022bb : MOV dword ptr [ESI + 0x4],ECX
005022be : CMP dword ptr [EAX],0x0
005022c1 : PUSH EDI
005022c2 : JNZ 0x005022e6
005022c4 : MOV EDI,dword ptr [EAX + 0x4]
005022c7 : TEST EDI,EDI
005022c9 : JZ 0x005022dd
005022cb : MOV ECX,EDI
005022cd : CALL 0x00523dd0
005022d2 : MOV ECX,dword ptr [ESI]
005022d4 : TEST ECX,ECX
005022d6 : JZ 0x005022dd
005022d8 : CALL 0x00524240
005022dd : MOV dword ptr [ESI],EDI
005022df : POP EDI
005022e0 : MOV EAX,ESI
005022e2 : POP ESI
005022e3 : RET 0x8
005022e6 : XOR EDI,EDI
005022e8 : MOV dword ptr [ESI],EDI
005022ea : POP EDI
005022eb : MOV EAX,ESI
005022ed : POP ESI
005022ee : RET 0x8
