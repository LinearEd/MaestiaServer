PROGRAM  : Maestia.exe
FUNCTION : FUN_00436b10
ENTRY    : 00436b10
BODY     : [[00436b10, 00436bd7]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00436b10(int param_1,uint param_2)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  int *unaff_FS_OFFSET;
  int local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7ec90;
  local_10 = *unaff_FS_OFFSET;
  *unaff_FS_OFFSET = (int)&local_10;
  uVar3 = (*(int *)(param_2 + 8) - *(int *)(param_2 + 4)) / 0x1c;
  *(undefined4 *)(param_1 + 4) = 0;
  *(undefined4 *)(param_1 + 8) = 0;
  *(undefined4 *)(param_1 + 0xc) = 0;
  if (uVar3 != 0) {
    if (0x9249249 < uVar3) {
      FUN_00452880();
    }
    iVar4 = FUN_0043c030();
    *(int *)(param_1 + 4) = iVar4;
    *(int *)(param_1 + 8) = iVar4;
    *(uint *)(param_1 + 0xc) = iVar4 + uVar3 * 0x1c;
    local_8 = 0;
    puVar1 = (undefined4 *)(param_2 + 8);
    puVar2 = (undefined4 *)(param_2 + 4);
    param_2 = param_2 & 0xffffff00;
    uVar5 = FUN_004388d0(*puVar2,*puVar1,*(undefined4 *)(param_1 + 4),param_1,param_2);
    *(undefined4 *)(param_1 + 8) = uVar5;
  }
  *unaff_FS_OFFSET = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00436b10 : PUSH EBP
00436b11 : MOV EBP,ESP
00436b13 : PUSH -0x1
00436b15 : PUSH 0xb7ec90
00436b1a : MOV EAX,FS:[0x0]
00436b20 : PUSH EAX
00436b21 : PUSH ECX
00436b22 : PUSH EBX
00436b23 : PUSH ESI
00436b24 : PUSH EDI
00436b25 : MOV EAX,[0x00d66fa0]
00436b2a : XOR EAX,EBP
00436b2c : PUSH EAX
00436b2d : LEA EAX,[EBP + -0xc]
00436b30 : MOV FS:[0x0],EAX
00436b36 : MOV dword ptr [EBP + -0x10],ESP
00436b39 : MOV EBX,dword ptr [EBP + 0xc]
00436b3c : MOV ESI,dword ptr [EBP + 0x8]
00436b3f : MOV ECX,dword ptr [EBX + 0x8]
00436b42 : SUB ECX,dword ptr [EBX + 0x4]
00436b45 : MOV EAX,0x92492493
00436b4a : IMUL ECX
00436b4c : ADD EDX,ECX
00436b4e : SAR EDX,0x4
00436b51 : MOV EDI,EDX
00436b53 : SHR EDI,0x1f
00436b56 : ADD EDI,EDX
00436b58 : MOV EAX,0x0
00436b5d : MOV dword ptr [ESI + 0x4],EAX
00436b60 : MOV dword ptr [ESI + 0x8],EAX
00436b63 : MOV dword ptr [ESI + 0xc],EAX
00436b66 : JZ 0x00436bc2
00436b68 : CMP EDI,0x9249249
00436b6e : JBE 0x00436b75
00436b70 : CALL 0x00452880
00436b75 : MOV ECX,EDI
00436b77 : CALL 0x0043c030
00436b7c : MOV dword ptr [ESI + 0x4],EAX
00436b7f : MOV dword ptr [ESI + 0x8],EAX
00436b82 : LEA ECX,[EDI*0x8 + 0x0]
00436b89 : SUB ECX,EDI
00436b8b : LEA EDX,[EAX + ECX*0x4]
00436b8e : MOV dword ptr [ESI + 0xc],EDX
00436b91 : MOV dword ptr [EBP + -0x4],0x0
00436b98 : MOV EAX,dword ptr [EBX + 0x8]
00436b9b : MOV EBX,dword ptr [EBX + 0x4]
00436b9e : MOV ECX,dword ptr [ESI + 0x4]
00436ba1 : MOV byte ptr [EBP + 0xc],0x0
00436ba5 : MOV EDX,dword ptr [EBP + 0xc]
00436ba8 : PUSH EDX
00436ba9 : MOV EDX,dword ptr [EBP + 0x8]
00436bac : PUSH EDX
00436bad : PUSH ECX
00436bae : PUSH EAX
00436baf : PUSH EBX
00436bb0 : CALL 0x004388d0
00436bb5 : ADD ESP,0x14
00436bb8 : MOV dword ptr [ESI + 0x8],EAX
00436bbb : MOV dword ptr [EBP + -0x4],0xffffffff
00436bc2 : MOV EAX,ESI
00436bc4 : MOV ECX,dword ptr [EBP + -0xc]
00436bc7 : MOV dword ptr FS:[0x0],ECX
00436bce : POP ECX
00436bcf : POP EDI
00436bd0 : POP ESI
00436bd1 : POP EBX
00436bd2 : MOV ESP,EBP
00436bd4 : POP EBP
00436bd5 : RET 0x8
