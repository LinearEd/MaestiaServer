PROGRAM  : Maestia.exe
FUNCTION : FUN_009183e0
ENTRY    : 009183e0
BODY     : [[009183e0, 009184f8] [00918500, 00918623]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009183e0(uint param_1)

{
  undefined4 *puVar1;
  short sVar2;
  int in_EAX;
  int iVar3;
  int iVar4;
  uint uVar5;
  int local_18;
  int local_14;
  int local_10;
  uint local_c;
  undefined4 *local_8;
  
  if ((param_1 & 0xffff) == 2) {
    local_c = 0;
    if (*(int *)(in_EAX + 0x1cc) - *(int *)(in_EAX + 0x1c8) >> 3 != 0) {
      do {
        uVar5 = local_c;
        puVar1 = *(undefined4 **)(*(int *)(in_EAX + 0x1c8) + local_c * 8);
        local_8 = puVar1;
        FUN_004437f0(&local_8);
        if ((local_10 != *(int *)(in_EAX + 0x8c)) && (*(int *)(local_10 + 0x10) != 0)) {
          iVar3 = *(int *)(DAT_0172491c + 0x17c);
          if (*(undefined4 **)(iVar3 + 0x18a4) != puVar1) {
            iVar3 = FUN_00a1cd50();
          }
          if (iVar3 != 0) {
            local_8 = (undefined4 *)(iVar3 + 0x1ae4);
            FUN_00484470(local_8);
            iVar4 = local_14;
            if ((local_14 != *(int *)(iVar3 + 0x1aec)) && (*(int **)(local_14 + 0x10) != (int *)0x0)
               ) {
              (**(code **)(**(int **)(local_14 + 0x10) + 0x24))();
              (**(code **)(**(int **)(iVar4 + 0x10) + 0x18))();
            }
            *local_8 = 0;
            uVar5 = local_c;
          }
        }
        local_c = uVar5 + 1;
      } while (local_c < (uint)(*(int *)(in_EAX + 0x1cc) - *(int *)(in_EAX + 0x1c8) >> 3));
    }
  }
  else if (((param_1 & 0xffff) == 1) &&
          (local_c = 0, *(int *)(in_EAX + 0x1dc) - *(int *)(in_EAX + 0x1d8) >> 3 != 0)) {
    do {
      uVar5 = local_c;
      iVar3 = *(int *)(*(int *)(in_EAX + 0x1d8) + local_c * 8);
      local_14 = iVar3;
      FUN_004437f0(&local_14);
      if ((local_10 != *(int *)(in_EAX + 0x8c)) && (*(int *)(local_10 + 0x10) != 0)) {
        iVar4 = *(int *)(DAT_0172491c + 0x17c);
        if (*(int *)(iVar4 + 0x18a4) != iVar3) {
          iVar4 = FUN_00a1cd50();
        }
        if (iVar4 != 0) {
          local_8 = (undefined4 *)(iVar4 + 0x1ae4);
          FUN_00484470(local_8);
          if ((local_18 != *(int *)(iVar4 + 0x1aec)) && (*(int **)(local_18 + 0x10) != (int *)0x0))
          {
            (**(code **)(**(int **)(local_18 + 0x10) + 0x24))();
            (**(code **)(**(int **)(local_18 + 0x10) + 0x18))();
          }
          *local_8 = 0;
          uVar5 = local_c;
        }
      }
      local_c = uVar5 + 1;
    } while (local_c < (uint)(*(int *)(in_EAX + 0x1dc) - *(int *)(in_EAX + 0x1d8) >> 3));
  }
  iVar3 = *(int *)(DAT_0172491c + 0x17c);
  sVar2 = *(short *)(iVar3 + 0x80);
  if (sVar2 == 0) {
    sVar2 = *(short *)(iVar3 + 0x7c);
  }
  if (sVar2 == (short)param_1) {
    FUN_00484470((undefined4 *)(iVar3 + 0x1ae4));
    if ((param_1 != *(uint *)(iVar3 + 0x1aec)) && (*(int **)(param_1 + 0x10) != (int *)0x0)) {
      (**(code **)(**(int **)(param_1 + 0x10) + 0x24))();
      (**(code **)(**(int **)(param_1 + 0x10) + 0x18))();
    }
    *(undefined4 *)(iVar3 + 0x1ae4) = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009183e0 : PUSH EBP
009183e1 : MOV EBP,ESP
009183e3 : SUB ESP,0x14
009183e6 : PUSH EBX
009183e7 : PUSH ESI
009183e8 : PUSH EDI
009183e9 : MOV EDI,EAX
009183eb : MOVZX EAX,word ptr [EBP + 0x8]
009183ef : CMP EAX,0x2
009183f2 : JNZ 0x009184d2
009183f8 : MOV EAX,dword ptr [EDI + 0x1cc]
009183fe : SUB EAX,dword ptr [EDI + 0x1c8]
00918404 : XOR EBX,EBX
00918406 : SAR EAX,0x3
00918409 : MOV dword ptr [EBP + -0x8],EBX
0091840c : TEST EAX,EAX
0091840e : JBE 0x009185b9
00918414 : MOV ECX,dword ptr [EDI + 0x1c8]
0091841a : MOV ESI,dword ptr [ECX + EBX*0x8]
0091841d : LEA EDX,[EBP + -0x4]
00918420 : PUSH EDX
00918421 : LEA EAX,[EBP + -0xc]
00918424 : LEA ECX,[EDI + 0x88]
0091842a : MOV dword ptr [EBP + -0x4],ESI
0091842d : CALL 0x004437f0
00918432 : MOV EAX,dword ptr [EBP + -0xc]
00918435 : CMP EAX,dword ptr [EDI + 0x8c]
0091843b : JZ 0x009184b2
0091843d : MOV ECX,dword ptr [EAX + 0x10]
00918440 : TEST ECX,ECX
00918442 : JZ 0x009184b2
00918444 : MOV EAX,[0x0172491c]
00918449 : MOV EAX,dword ptr [EAX + 0x17c]
0091844f : CMP dword ptr [EAX + 0x18a4],ESI
00918455 : JZ 0x00918465
00918457 : LEA EDX,[ECX + 0x8]
0091845a : MOV ECX,dword ptr [0x00da93ec]
00918460 : CALL 0x00a1cd50
00918465 : MOV ESI,EAX
00918467 : TEST ESI,ESI
00918469 : JZ 0x009184b2
0091846b : LEA EAX,[ESI + 0x1ae4]
00918471 : MOV dword ptr [EBP + -0x4],EAX
00918474 : PUSH EAX
00918475 : LEA ECX,[ESI + 0x1ae8]
0091847b : LEA EAX,[EBP + -0x10]
0091847e : CALL 0x00484470
00918483 : MOV EBX,dword ptr [EBP + -0x10]
00918486 : CMP EBX,dword ptr [ESI + 0x1aec]
0091848c : JZ 0x009184a6
0091848e : MOV ECX,dword ptr [EBX + 0x10]
00918491 : TEST ECX,ECX
00918493 : JZ 0x009184a6
00918495 : MOV EDX,dword ptr [ECX]
00918497 : MOV EAX,dword ptr [EDX + 0x24]
0091849a : CALL EAX
0091849c : MOV ECX,dword ptr [EBX + 0x10]
0091849f : MOV EDX,dword ptr [ECX]
009184a1 : MOV EAX,dword ptr [EDX + 0x18]
009184a4 : CALL EAX
009184a6 : MOV ECX,dword ptr [EBP + -0x4]
009184a9 : MOV EBX,dword ptr [EBP + -0x8]
009184ac : MOV dword ptr [ECX],0x0
009184b2 : MOV EDX,dword ptr [EDI + 0x1cc]
009184b8 : SUB EDX,dword ptr [EDI + 0x1c8]
009184be : INC EBX
009184bf : SAR EDX,0x3
009184c2 : MOV dword ptr [EBP + -0x8],EBX
009184c5 : CMP EBX,EDX
009184c7 : JC 0x00918414
009184cd : JMP 0x009185b9
009184d2 : CMP EAX,0x1
009184d5 : JNZ 0x009185b9
009184db : MOV EAX,dword ptr [EDI + 0x1dc]
009184e1 : SUB EAX,dword ptr [EDI + 0x1d8]
009184e7 : XOR EBX,EBX
009184e9 : SAR EAX,0x3
009184ec : MOV dword ptr [EBP + -0x8],EBX
009184ef : TEST EAX,EAX
009184f1 : JBE 0x009185b9
009184f7 : JMP 0x00918500
00918500 : MOV ECX,dword ptr [EDI + 0x1d8]
00918506 : MOV ESI,dword ptr [ECX + EBX*0x8]
00918509 : LEA EDX,[EBP + -0x10]
0091850c : PUSH EDX
0091850d : LEA EAX,[EBP + -0xc]
00918510 : LEA ECX,[EDI + 0x88]
00918516 : MOV dword ptr [EBP + -0x10],ESI
00918519 : CALL 0x004437f0
0091851e : MOV EAX,dword ptr [EBP + -0xc]
00918521 : CMP EAX,dword ptr [EDI + 0x8c]
00918527 : JZ 0x0091859e
00918529 : MOV ECX,dword ptr [EAX + 0x10]
0091852c : TEST ECX,ECX
0091852e : JZ 0x0091859e
00918530 : MOV EAX,[0x0172491c]
00918535 : MOV EAX,dword ptr [EAX + 0x17c]
0091853b : CMP dword ptr [EAX + 0x18a4],ESI
00918541 : JZ 0x00918551
00918543 : LEA EDX,[ECX + 0x8]
00918546 : MOV ECX,dword ptr [0x00da93ec]
0091854c : CALL 0x00a1cd50
00918551 : MOV ESI,EAX
00918553 : TEST ESI,ESI
00918555 : JZ 0x0091859e
00918557 : LEA EAX,[ESI + 0x1ae4]
0091855d : MOV dword ptr [EBP + -0x4],EAX
00918560 : PUSH EAX
00918561 : LEA ECX,[ESI + 0x1ae8]
00918567 : LEA EAX,[EBP + -0x14]
0091856a : CALL 0x00484470
0091856f : MOV EBX,dword ptr [EBP + -0x14]
00918572 : CMP EBX,dword ptr [ESI + 0x1aec]
00918578 : JZ 0x00918592
0091857a : MOV ECX,dword ptr [EBX + 0x10]
0091857d : TEST ECX,ECX
0091857f : JZ 0x00918592
00918581 : MOV EDX,dword ptr [ECX]
00918583 : MOV EAX,dword ptr [EDX + 0x24]
00918586 : CALL EAX
00918588 : MOV ECX,dword ptr [EBX + 0x10]
0091858b : MOV EDX,dword ptr [ECX]
0091858d : MOV EAX,dword ptr [EDX + 0x18]
00918590 : CALL EAX
00918592 : MOV ECX,dword ptr [EBP + -0x4]
00918595 : MOV EBX,dword ptr [EBP + -0x8]
00918598 : MOV dword ptr [ECX],0x0
0091859e : MOV EDX,dword ptr [EDI + 0x1dc]
009185a4 : SUB EDX,dword ptr [EDI + 0x1d8]
009185aa : INC EBX
009185ab : SAR EDX,0x3
009185ae : MOV dword ptr [EBP + -0x8],EBX
009185b1 : CMP EBX,EDX
009185b3 : JC 0x00918500
009185b9 : MOV EAX,[0x0172491c]
009185be : MOV ESI,dword ptr [EAX + 0x17c]
009185c4 : MOVZX EAX,word ptr [ESI + 0x80]
009185cb : TEST AX,AX
009185ce : MOVZX EAX,AX
009185d1 : JNZ 0x009185d7
009185d3 : MOVZX EAX,word ptr [ESI + 0x7c]
009185d7 : CMP AX,word ptr [EBP + 0x8]
009185db : JNZ 0x0091861b
009185dd : LEA EBX,[ESI + 0x1ae4]
009185e3 : PUSH EBX
009185e4 : LEA ECX,[ESI + 0x1ae8]
009185ea : LEA EAX,[EBP + 0x8]
009185ed : CALL 0x00484470
009185f2 : MOV EDI,dword ptr [EBP + 0x8]
009185f5 : CMP EDI,dword ptr [ESI + 0x1aec]
009185fb : JZ 0x00918615
009185fd : MOV ECX,dword ptr [EDI + 0x10]
00918600 : TEST ECX,ECX
00918602 : JZ 0x00918615
00918604 : MOV EDX,dword ptr [ECX]
00918606 : MOV EAX,dword ptr [EDX + 0x24]
00918609 : CALL EAX
0091860b : MOV ECX,dword ptr [EDI + 0x10]
0091860e : MOV EDX,dword ptr [ECX]
00918610 : MOV EAX,dword ptr [EDX + 0x18]
00918613 : CALL EAX
00918615 : MOV dword ptr [EBX],0x0
0091861b : POP EDI
0091861c : POP ESI
0091861d : POP EBX
0091861e : MOV ESP,EBP
00918620 : POP EBP
00918621 : RET 0x4
