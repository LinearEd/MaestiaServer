PROGRAM  : Maestia.exe
FUNCTION : FUN_0075dc20
ENTRY    : 0075dc20
BODY     : [[0075dc20, 0075de98]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0075dc20(char *param_1)

{
  uint uVar1;
  int iVar2;
  undefined4 uVar3;
  int in_ECX;
  undefined4 *puVar4;
  LPCRITICAL_SECTION local_164;
  char *local_160;
  undefined4 local_15c;
  int local_158;
  undefined4 local_154;
  int local_150 [2];
  undefined2 local_148;
  undefined4 local_138;
  uint local_134;
  undefined4 local_12c;
  undefined4 local_11c;
  uint local_118;
  undefined1 local_114 [256];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4bad1;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar1;
  local_150[0] = FUN_0075ca10(in_ECX,param_1);
  if (local_150[0] == 0) {
    FUN_00404350(param_1,uVar1);
    local_8 = 0;
    local_150[0] = FUN_007c3460();
    if (local_150[0] == 0) {
      FUN_00410870(&DAT_00c0bda0,&DAT_00d8aae8,param_1);
      FUN_00404350(local_114);
      local_8._0_1_ = 1;
      local_164 = (LPCRITICAL_SECTION)(DAT_017251ac + 0x424);
      local_158 = 0;
      local_160 = ".\\Frk\\FrkDataServer.cpp";
      local_15c = 0x1df;
      local_154 = 1;
      FUN_006ef1a0(&local_164);
      local_8._0_1_ = 2;
      puVar4 = local_12c;
      if (local_118 < 8) {
        puVar4 = &local_12c;
      }
      iVar2 = D3DXCreateTextureFromFileW(*(undefined4 *)(DAT_017251ac + 0x18),puVar4,local_150);
      if (iVar2 != 0) {
        FUN_00410870("%snull3.tga",&DAT_00d8aae8);
        uVar3 = FUN_00404350(local_114);
        local_8._0_1_ = 3;
        FUN_00405eb0(uVar3,0,0xffffffff);
        local_8._0_1_ = 2;
        FUN_00406560();
        puVar4 = local_12c;
        if (local_118 < 8) {
          puVar4 = &local_12c;
        }
        D3DXCreateTextureFromFileW(*(undefined4 *)(DAT_017251ac + 0x18),puVar4,local_150);
      }
      local_8._0_1_ = 1;
      if (local_158 != 0) {
        LeaveCriticalSection(local_164);
        local_158 = 0;
      }
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_118) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_118 = 7;
      local_11c = 0;
      local_12c = (undefined4 *)((uint)local_12c._2_2_ << 0x10);
    }
    _strcpy_s((char *)(*(int *)(in_ECX + 4) * 0x104 + 0x18 + in_ECX),0x100,param_1);
    *(int *)(*(int *)(in_ECX + 4) * 0x104 + 0x118 + in_ECX) = local_150[0];
    *(int *)(in_ECX + 4) = *(int *)(in_ECX + 4) + 1;
    local_8 = 0xffffffff;
    if (7 < local_134) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_134 = 7;
    local_138 = 0;
    local_148 = 0;
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0075dc20 : PUSH EBP
0075dc21 : MOV EBP,ESP
0075dc23 : PUSH -0x1
0075dc25 : PUSH 0xb4bad1
0075dc2a : MOV EAX,FS:[0x0]
0075dc30 : PUSH EAX
0075dc31 : SUB ESP,0x170
0075dc37 : MOV EAX,[0x00d66fa0]
0075dc3c : XOR EAX,EBP
0075dc3e : MOV dword ptr [EBP + -0x10],EAX
0075dc41 : PUSH EBX
0075dc42 : PUSH ESI
0075dc43 : PUSH EDI
0075dc44 : PUSH EAX
0075dc45 : LEA EAX,[EBP + -0xc]
0075dc48 : MOV FS:[0x0],EAX
0075dc4e : MOV EBX,dword ptr [EBP + 0x8]
0075dc51 : MOV EDI,ECX
0075dc53 : PUSH EBX
0075dc54 : PUSH EDI
0075dc55 : CALL 0x0075ca10
0075dc5a : MOV dword ptr [EBP + 0xfffffeb4],EAX
0075dc60 : TEST EAX,EAX
0075dc62 : JNZ 0x0075de7b
0075dc68 : PUSH EBX
0075dc69 : LEA ESI,[EBP + 0xfffffeb8]
0075dc6f : CALL 0x00404350
0075dc74 : ADD ESP,0x4
0075dc77 : MOV dword ptr [EBP + -0x4],0x0
0075dc7e : MOV ECX,dword ptr [0x017251fc]
0075dc84 : MOV EDX,ESI
0075dc86 : CALL 0x007c3460
0075dc8b : MOV dword ptr [EBP + 0xfffffeb4],EAX
0075dc91 : TEST EAX,EAX
0075dc93 : JNZ 0x0075de06
0075dc99 : PUSH EBX
0075dc9a : PUSH 0xd8aae8
0075dc9f : PUSH 0xc0bda0
0075dca4 : LEA EDX,[EBP + 0xfffffef0]
0075dcaa : CALL 0x00410870
0075dcaf : LEA EAX,[EBP + 0xfffffef0]
0075dcb5 : PUSH EAX
0075dcb6 : LEA ESI,[EBP + 0xfffffed4]
0075dcbc : CALL 0x00404350
0075dcc1 : ADD ESP,0x10
0075dcc4 : MOV byte ptr [EBP + -0x4],0x1
0075dcc8 : MOV ECX,dword ptr [0x017251ac]
0075dcce : LEA EDX,[EBP + 0xfffffea0]
0075dcd4 : ADD ECX,0x424
0075dcda : XOR ESI,ESI
0075dcdc : PUSH EDX
0075dcdd : MOV dword ptr [EBP + 0xfffffeac],ESI
0075dce3 : MOV dword ptr [EBP + 0xfffffea0],ECX
0075dce9 : MOV dword ptr [EBP + 0xfffffea4],0xc0bda8
0075dcf3 : MOV dword ptr [EBP + 0xfffffea8],0x1df
0075dcfd : MOV dword ptr [EBP + 0xfffffeb0],0x1
0075dd07 : CALL 0x006ef1a0
0075dd0c : MOV byte ptr [EBP + -0x4],0x2
0075dd10 : CMP dword ptr [EBP + 0xfffffeec],0x8
0075dd17 : MOV ECX,dword ptr [EBP + 0xfffffed8]
0075dd1d : JNC 0x0075dd25
0075dd1f : LEA ECX,[EBP + 0xfffffed8]
0075dd25 : MOV EAX,[0x017251ac]
0075dd2a : MOV EAX,dword ptr [EAX + 0x18]
0075dd2d : LEA EDX,[EBP + 0xfffffeb4]
0075dd33 : PUSH EDX
0075dd34 : PUSH ECX
0075dd35 : PUSH EAX
0075dd36 : CALL 0x00664d20
0075dd3b : TEST EAX,EAX
0075dd3d : JZ 0x0075ddb6
0075dd3f : PUSH 0xd8aae8
0075dd44 : PUSH 0xc0bdc0
0075dd49 : LEA EDX,[EBP + 0xfffffef0]
0075dd4f : CALL 0x00410870
0075dd54 : LEA EAX,[EBP + 0xfffffef0]
0075dd5a : PUSH EAX
0075dd5b : LEA ESI,[EBP + 0xfffffe84]
0075dd61 : CALL 0x00404350
0075dd66 : ADD ESP,0xc
0075dd69 : MOV byte ptr [EBP + -0x4],0x3
0075dd6d : PUSH -0x1
0075dd6f : PUSH 0x0
0075dd71 : PUSH EAX
0075dd72 : LEA ECX,[EBP + 0xfffffed4]
0075dd78 : CALL 0x00405eb0
0075dd7d : MOV byte ptr [EBP + -0x4],0x2
0075dd81 : MOV ECX,ESI
0075dd83 : CALL 0x00406560
0075dd88 : CMP dword ptr [EBP + 0xfffffeec],0x8
0075dd8f : MOV ECX,dword ptr [EBP + 0xfffffed8]
0075dd95 : JNC 0x0075dd9d
0075dd97 : LEA ECX,[EBP + 0xfffffed8]
0075dd9d : MOV EDX,dword ptr [0x017251ac]
0075dda3 : MOV EAX,dword ptr [EDX + 0x18]
0075dda6 : LEA EDX,[EBP + 0xfffffeb4]
0075ddac : PUSH EDX
0075ddad : PUSH ECX
0075ddae : PUSH EAX
0075ddaf : CALL 0x00664d20
0075ddb4 : XOR ESI,ESI
0075ddb6 : MOV byte ptr [EBP + -0x4],0x1
0075ddba : CMP dword ptr [EBP + 0xfffffeac],ESI
0075ddc0 : JZ 0x0075ddd5
0075ddc2 : MOV EAX,dword ptr [EBP + 0xfffffea0]
0075ddc8 : PUSH EAX
0075ddc9 : CALL dword ptr [0x00b8511c]
0075ddcf : MOV dword ptr [EBP + 0xfffffeac],ESI
0075ddd5 : MOV byte ptr [EBP + -0x4],0x0
0075ddd9 : CMP dword ptr [EBP + 0xfffffeec],0x8
0075dde0 : JC 0x0075dded
0075dde2 : MOV ECX,dword ptr [EBP + 0xfffffed8]
0075dde8 : CALL 0x006f04e0
0075dded : XOR ECX,ECX
0075ddef : MOV dword ptr [EBP + 0xfffffeec],0x7
0075ddf9 : MOV dword ptr [EBP + 0xfffffee8],ESI
0075ddff : MOV word ptr [EBP + 0xfffffed8],CX
0075de06 : MOV EDX,dword ptr [EDI + 0x4]
0075de09 : IMUL EDX,EDX,0x104
0075de0f : PUSH EBX
0075de10 : LEA EAX,[EDX + EDI*0x1 + 0x18]
0075de14 : PUSH 0x100
0075de19 : PUSH EAX
0075de1a : CALL 0x00638300
0075de1f : MOV EAX,dword ptr [EDI + 0x4]
0075de22 : MOV ECX,dword ptr [EBP + 0xfffffeb4]
0075de28 : IMUL EAX,EAX,0x104
0075de2e : MOV dword ptr [EAX + EDI*0x1 + 0x118],ECX
0075de35 : INC dword ptr [EDI + 0x4]
0075de38 : MOV ESI,dword ptr [EBP + 0xfffffeb4]
0075de3e : ADD ESP,0xc
0075de41 : MOV dword ptr [EBP + -0x4],0xffffffff
0075de48 : CMP dword ptr [EBP + 0xfffffed0],0x8
0075de4f : JC 0x0075de5c
0075de51 : MOV ECX,dword ptr [EBP + 0xfffffebc]
0075de57 : CALL 0x006f04e0
0075de5c : XOR EDX,EDX
0075de5e : MOV dword ptr [EBP + 0xfffffed0],0x7
0075de68 : MOV dword ptr [EBP + 0xfffffecc],0x0
0075de72 : MOV word ptr [EBP + 0xfffffebc],DX
0075de79 : MOV EAX,ESI
0075de7b : MOV ECX,dword ptr [EBP + -0xc]
0075de7e : MOV dword ptr FS:[0x0],ECX
0075de85 : POP ECX
0075de86 : POP EDI
0075de87 : POP ESI
0075de88 : POP EBX
0075de89 : MOV ECX,dword ptr [EBP + -0x10]
0075de8c : XOR ECX,EBP
0075de8e : CALL 0x00633e6b
0075de93 : MOV ESP,EBP
0075de95 : POP EBP
0075de96 : RET 0x4
