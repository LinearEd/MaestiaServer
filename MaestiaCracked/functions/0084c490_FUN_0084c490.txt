PROGRAM  : Maestia.exe
FUNCTION : FUN_0084c490
ENTRY    : 0084c490
BODY     : [[0084c490, 0084c5f5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0084c490(float *param_1,char param_2)

{
  int iVar1;
  undefined4 uVar2;
  int in_ECX;
  undefined **local_38;
  int *piStack_34;
  float fStack_30;
  undefined1 auStack_2c [4];
  int iStack_28;
  float fStack_24;
  float fStack_20;
  float fStack_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b0f52c;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (*(int *)(in_ECX + 0x168 + (uint)(param_2 == '\0') * 4) != 0) {
    uVar2 = (**(code **)(*DAT_017251e0 + 4))
                      (&local_38,in_ECX + 0x18c,DAT_00d66fa0 ^ (uint)&stack0xffffffc0);
    uStack_c = 0;
    FUN_0043e530(auStack_2c,uVar2);
    uStack_c = CONCAT31(uStack_c._1_3_,2);
    local_38 = &PTR_FUN_00cd4964;
    if (piStack_34 != (int *)0x0) {
      (**(code **)(*piStack_34 + 0x30))();
      piStack_34 = (int *)0x0;
    }
    if ((iStack_28 != 0) && (*(char *)(iStack_28 + 0x4b) != '\0')) {
      fStack_24 = *param_1 * *(float *)(iStack_28 + 0x4c);
      fStack_20 = param_1[1] * *(float *)(iStack_28 + 0x50);
      iVar1 = *(int *)(*(int *)(in_ECX + 0x168 + (uint)(param_2 == '\0') * 4) + 0x1d4);
      fStack_1c = param_1[2] * *(float *)(iStack_28 + 0x54);
      local_38 = (undefined **)(*param_1 * *(float *)(iStack_28 + 0x58));
      piStack_34 = (int *)(param_1[1] * *(float *)(iStack_28 + 0x5c));
      fStack_30 = param_1[2] * *(float *)(iStack_28 + 0x60);
      if (iVar1 != 0) {
        FUN_0078c660(iVar1);
      }
    }
    uStack_c = 0xffffffff;
    FUN_0043a010();
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
0084c490 : PUSH EBP
0084c491 : MOV EBP,ESP
0084c493 : AND ESP,0xfffffff8
0084c496 : PUSH -0x1
0084c498 : PUSH 0xb0f52c
0084c49d : MOV EAX,FS:[0x0]
0084c4a3 : PUSH EAX
0084c4a4 : SUB ESP,0x24
0084c4a7 : PUSH ESI
0084c4a8 : PUSH EDI
0084c4a9 : MOV EAX,[0x00d66fa0]
0084c4ae : XOR EAX,ESP
0084c4b0 : PUSH EAX
0084c4b1 : LEA EAX,[ESP + 0x30]
0084c4b5 : MOV FS:[0x0],EAX
0084c4bb : MOV ESI,ECX
0084c4bd : XOR EDI,EDI
0084c4bf : CMP byte ptr [EBP + 0xc],0x0
0084c4c3 : JNZ 0x0084c4ca
0084c4c5 : MOV EDI,0x1
0084c4ca : CMP dword ptr [ESI + EDI*0x4 + 0x168],0x0
0084c4d2 : JZ 0x0084c5e2
0084c4d8 : MOV ECX,dword ptr [0x017251e0]
0084c4de : MOV EAX,dword ptr [ECX]
0084c4e0 : MOV EAX,dword ptr [EAX + 0x4]
0084c4e3 : LEA EDX,[ESI + 0x18c]
0084c4e9 : PUSH EDX
0084c4ea : LEA EDX,[ESP + 0x10]
0084c4ee : PUSH EDX
0084c4ef : CALL EAX
0084c4f1 : MOV dword ptr [ESP + 0x38],0x0
0084c4f9 : PUSH EAX
0084c4fa : LEA ECX,[ESP + 0x1c]
0084c4fe : PUSH ECX
0084c4ff : CALL 0x0043e530
0084c504 : MOV byte ptr [ESP + 0x38],0x2
0084c509 : MOV ECX,dword ptr [ESP + 0x10]
0084c50d : MOV dword ptr [ESP + 0xc],0xcd4964
0084c515 : TEST ECX,ECX
0084c517 : JZ 0x0084c528
0084c519 : MOV EDX,dword ptr [ECX]
0084c51b : MOV EAX,dword ptr [EDX + 0x30]
0084c51e : CALL EAX
0084c520 : MOV dword ptr [ESP + 0x10],0x0
0084c528 : MOV EAX,dword ptr [ESP + 0x1c]
0084c52c : TEST EAX,EAX
0084c52e : JZ 0x0084c5d1
0084c534 : CMP byte ptr [EAX + 0x4b],0x0
0084c538 : JZ 0x0084c5d1
0084c53e : MOVSS XMM1,dword ptr [EAX + 0x4c]
0084c543 : MOVSS XMM2,dword ptr [EAX + 0x50]
0084c548 : MOVSS XMM3,dword ptr [EAX + 0x54]
0084c54d : MOVSS XMM4,dword ptr [EAX + 0x58]
0084c552 : MOVSS XMM5,dword ptr [EAX + 0x5c]
0084c557 : MOVSS XMM6,dword ptr [EAX + 0x60]
0084c55c : MOV EAX,dword ptr [EBP + 0x8]
0084c55f : MOVSS XMM0,dword ptr [EAX]
0084c563 : MOV ECX,dword ptr [ESI + EDI*0x4 + 0x168]
0084c56a : MOVAPS XMM7,XMM0
0084c56d : MULSS XMM7,XMM1
0084c571 : MOVSS XMM1,dword ptr [EAX + 0x4]
0084c576 : MOVSS dword ptr [ESP + 0x20],XMM7
0084c57c : MOVAPS XMM7,XMM1
0084c57f : MULSS XMM7,XMM2
0084c583 : MOVSS XMM2,dword ptr [EAX + 0x8]
0084c588 : MOV EAX,dword ptr [ECX + 0x1d4]
0084c58e : MOVSS dword ptr [ESP + 0x24],XMM7
0084c594 : MOVAPS XMM7,XMM2
0084c597 : MULSS XMM7,XMM3
0084c59b : MULSS XMM0,XMM4
0084c59f : MULSS XMM1,XMM5
0084c5a3 : MULSS XMM2,XMM6
0084c5a7 : MOVSS dword ptr [ESP + 0x28],XMM7
0084c5ad : MOVSS dword ptr [ESP + 0xc],XMM0
0084c5b3 : MOVSS dword ptr [ESP + 0x10],XMM1
0084c5b9 : MOVSS dword ptr [ESP + 0x14],XMM2
0084c5bf : TEST EAX,EAX
0084c5c1 : JZ 0x0084c5d1
0084c5c3 : PUSH EAX
0084c5c4 : LEA ECX,[ESP + 0x10]
0084c5c8 : LEA EDX,[ESP + 0x24]
0084c5cc : CALL 0x0078c660
0084c5d1 : MOV dword ptr [ESP + 0x38],0xffffffff
0084c5d9 : LEA ECX,[ESP + 0x18]
0084c5dd : CALL 0x0043a010
0084c5e2 : MOV ECX,dword ptr [ESP + 0x30]
0084c5e6 : MOV dword ptr FS:[0x0],ECX
0084c5ed : POP ECX
0084c5ee : POP EDI
0084c5ef : POP ESI
0084c5f0 : MOV ESP,EBP
0084c5f2 : POP EBP
0084c5f3 : RET 0x8
