PROGRAM  : Maestia.exe
FUNCTION : FUN_0043ea30
ENTRY    : 0043ea30
BODY     : [[0043ea30, 0043eadc] [0043eae0, 0043eb14]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0043ea30(undefined4 *param_1,undefined4 param_2,int param_3,undefined4 param_4,int param_5)

{
  undefined4 uVar1;
  undefined4 *in_EAX;
  int iVar2;
  undefined1 local_1c [4];
  int local_18;
  uint local_14;
  uint local_10;
  int local_c;
  
  uVar1 = *in_EAX;
  local_10 = param_3 - in_EAX[6];
  local_c = param_5 - param_3;
  local_18 = in_EAX[6] + in_EAX[7];
  local_14 = local_14 & 0xffffff00;
  if (local_10 < (uint)(local_18 - param_5)) {
    FUN_0043eb30(uVar1,in_EAX[6],uVar1,param_3,uVar1,param_5);
    if (local_c != 0) {
      iVar2 = in_EAX[7];
      do {
        if (iVar2 != 0) {
          in_EAX[6] = in_EAX[6] + 1;
          if ((uint)(in_EAX[5] * 4) <= (uint)in_EAX[6]) {
            in_EAX[6] = 0;
          }
          iVar2 = iVar2 + -1;
          if (iVar2 == 0) {
            in_EAX[6] = 0;
          }
        }
        local_c = local_c + -1;
      } while (local_c != 0);
      in_EAX[7] = iVar2;
    }
  }
  else {
    FUN_0040c8e0(local_1c,uVar1,param_5,uVar1,local_18,uVar1,param_3,param_1,param_1,local_14);
    if (local_c != 0) {
      iVar2 = in_EAX[7];
      do {
        if ((iVar2 != 0) && (iVar2 = iVar2 + -1, iVar2 == 0)) {
          in_EAX[6] = 0;
        }
        local_c = local_c + -1;
      } while (local_c != 0);
      in_EAX[7] = iVar2;
    }
  }
  iVar2 = in_EAX[6];
  *param_1 = *in_EAX;
  param_1[1] = iVar2 + local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0043ea30 : PUSH EBP
0043ea31 : MOV EBP,ESP
0043ea33 : SUB ESP,0x18
0043ea36 : MOV ECX,dword ptr [EBP + 0x10]
0043ea39 : MOV EDX,dword ptr [EBP + 0x18]
0043ea3c : PUSH EBX
0043ea3d : PUSH ESI
0043ea3e : PUSH EDI
0043ea3f : MOV ESI,EAX
0043ea41 : MOV EDI,dword ptr [ESI + 0x18]
0043ea44 : MOV EAX,dword ptr [ESI]
0043ea46 : MOV EBX,ECX
0043ea48 : SUB EBX,EDI
0043ea4a : MOV dword ptr [EBP + -0xc],EBX
0043ea4d : MOV EBX,EDX
0043ea4f : SUB EBX,ECX
0043ea51 : MOV dword ptr [EBP + -0x8],EBX
0043ea54 : MOV EBX,dword ptr [ESI + 0x1c]
0043ea57 : ADD EDI,EBX
0043ea59 : MOV dword ptr [EBP + -0x14],EDI
0043ea5c : SUB EDI,EDX
0043ea5e : XOR EBX,EBX
0043ea60 : CMP dword ptr [EBP + -0xc],EDI
0043ea63 : MOV byte ptr [EBP + -0x10],BL
0043ea66 : MOV EDI,dword ptr [EBP + -0x10]
0043ea69 : PUSH EDI
0043ea6a : MOV EDI,dword ptr [EBP + 0x8]
0043ea6d : PUSH EDI
0043ea6e : MOV EDI,dword ptr [EBP + 0x8]
0043ea71 : PUSH EDI
0043ea72 : JNC 0x0043eabc
0043ea74 : PUSH EDX
0043ea75 : PUSH EAX
0043ea76 : PUSH ECX
0043ea77 : MOV ECX,dword ptr [ESI + 0x18]
0043ea7a : PUSH EAX
0043ea7b : PUSH ECX
0043ea7c : PUSH EAX
0043ea7d : LEA EAX,[EBP + -0x18]
0043ea80 : CALL 0x0043eb30
0043ea85 : MOV EDX,dword ptr [EBP + -0x8]
0043ea88 : ADD ESP,0x24
0043ea8b : CMP EDX,EBX
0043ea8d : JBE 0x0043eaf4
0043ea8f : MOV ECX,dword ptr [ESI + 0x1c]
0043ea92 : CMP ECX,EBX
0043ea94 : JZ 0x0043eab2
0043ea96 : MOV EDI,dword ptr [ESI + 0x14]
0043ea99 : INC dword ptr [ESI + 0x18]
0043ea9c : MOV EAX,dword ptr [ESI + 0x18]
0043ea9f : ADD EDI,EDI
0043eaa1 : ADD EDI,EDI
0043eaa3 : CMP EDI,EAX
0043eaa5 : JA 0x0043eaaa
0043eaa7 : MOV dword ptr [ESI + 0x18],EBX
0043eaaa : SUB ECX,0x1
0043eaad : JNZ 0x0043eab2
0043eaaf : MOV dword ptr [ESI + 0x18],EBX
0043eab2 : SUB EDX,0x1
0043eab5 : JNZ 0x0043ea92
0043eab7 : MOV dword ptr [ESI + 0x1c],ECX
0043eaba : JMP 0x0043eaf4
0043eabc : PUSH ECX
0043eabd : MOV ECX,dword ptr [EBP + -0x14]
0043eac0 : PUSH EAX
0043eac1 : PUSH ECX
0043eac2 : PUSH EAX
0043eac3 : PUSH EDX
0043eac4 : PUSH EAX
0043eac5 : LEA EDX,[EBP + -0x18]
0043eac8 : PUSH EDX
0043eac9 : CALL 0x0040c8e0
0043eace : MOV ECX,dword ptr [EBP + -0x8]
0043ead1 : ADD ESP,0x28
0043ead4 : CMP ECX,EBX
0043ead6 : JBE 0x0043eaf4
0043ead8 : MOV EAX,dword ptr [ESI + 0x1c]
0043eadb : JMP 0x0043eae0
0043eae0 : CMP EAX,EBX
0043eae2 : JZ 0x0043eaec
0043eae4 : SUB EAX,0x1
0043eae7 : JNZ 0x0043eaec
0043eae9 : MOV dword ptr [ESI + 0x18],EBX
0043eaec : SUB ECX,0x1
0043eaef : JNZ 0x0043eae0
0043eaf1 : MOV dword ptr [ESI + 0x1c],EAX
0043eaf4 : MOV EAX,dword ptr [ESI]
0043eaf6 : MOV ESI,dword ptr [ESI + 0x18]
0043eaf9 : MOV ECX,EAX
0043eafb : MOV EAX,dword ptr [EBP + -0xc]
0043eafe : LEA EDX,[ESI + EAX*0x1]
0043eb01 : MOV EAX,dword ptr [EBP + 0x8]
0043eb04 : POP EDI
0043eb05 : MOV dword ptr [EBP + 0x10],ESI
0043eb08 : POP ESI
0043eb09 : MOV dword ptr [EAX],ECX
0043eb0b : MOV dword ptr [EAX + 0x4],EDX
0043eb0e : POP EBX
0043eb0f : MOV ESP,EBP
0043eb11 : POP EBP
0043eb12 : RET 0x14
