PROGRAM  : Maestia.exe
FUNCTION : FUN_004d12b0
ENTRY    : 004d12b0
BODY     : [[004d12b0, 004d135a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004d12b0(uint param_1,undefined4 param_2)

{
  int in_ECX;
  uint uVar1;
  
  if (-*(int *)(in_ECX + 0x14) - 1U <= param_1) {
    FUN_00622ecf();
  }
  if (param_1 != 0) {
    uVar1 = *(int *)(in_ECX + 0x14) + param_1;
    if (uVar1 == 0xffffffff) {
      FUN_00622ecf();
    }
    if (*(uint *)(in_ECX + 0x18) < uVar1) {
      FUN_00404ef0(uVar1,*(undefined4 *)(in_ECX + 0x14));
    }
    else if (uVar1 == 0) {
      *(undefined4 *)(in_ECX + 0x14) = 0;
      if (*(uint *)(in_ECX + 0x18) < 0x10) {
        *(undefined1 *)(in_ECX + 4) = 0;
        return;
      }
      **(undefined1 **)(in_ECX + 4) = 0;
      return;
    }
    if (uVar1 != 0) {
      FUN_00438ab0(*(undefined4 *)(in_ECX + 0x14),param_1,param_2);
      *(uint *)(in_ECX + 0x14) = uVar1;
      if (0xf < *(uint *)(in_ECX + 0x18)) {
        *(undefined1 *)(*(int *)(in_ECX + 4) + uVar1) = 0;
        return;
      }
      *(undefined1 *)(in_ECX + 4 + uVar1) = 0;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
004d12b0 : PUSH EBP
004d12b1 : MOV EBP,ESP
004d12b3 : PUSH EBX
004d12b4 : MOV EBX,dword ptr [EBP + 0x8]
004d12b7 : PUSH ESI
004d12b8 : OR EAX,0xffffffff
004d12bb : MOV ESI,ECX
004d12bd : SUB EAX,dword ptr [ESI + 0x14]
004d12c0 : CMP EAX,EBX
004d12c2 : JA 0x004d12c9
004d12c4 : CALL 0x00622ecf
004d12c9 : TEST EBX,EBX
004d12cb : JBE 0x004d1353
004d12d1 : PUSH EDI
004d12d2 : MOV EDI,dword ptr [ESI + 0x14]
004d12d5 : ADD EDI,EBX
004d12d7 : CMP EDI,-0x2
004d12da : JBE 0x004d12e1
004d12dc : CALL 0x00622ecf
004d12e1 : MOV EAX,dword ptr [ESI + 0x18]
004d12e4 : CMP EAX,EDI
004d12e6 : JNC 0x004d1321
004d12e8 : MOV ECX,dword ptr [ESI + 0x14]
004d12eb : PUSH ECX
004d12ec : PUSH EDI
004d12ed : MOV ECX,ESI
004d12ef : CALL 0x00404ef0
004d12f4 : TEST EDI,EDI
004d12f6 : JBE 0x004d1352
004d12f8 : MOV EDX,dword ptr [EBP + 0xc]
004d12fb : MOV EAX,dword ptr [ESI + 0x14]
004d12fe : PUSH EDX
004d12ff : PUSH EBX
004d1300 : PUSH EAX
004d1301 : MOV ECX,ESI
004d1303 : CALL 0x00438ab0
004d1308 : CMP dword ptr [ESI + 0x18],0x10
004d130c : MOV dword ptr [ESI + 0x14],EDI
004d130f : JC 0x004d134b
004d1311 : MOV EAX,dword ptr [ESI + 0x4]
004d1314 : MOV byte ptr [EAX + EDI*0x1],0x0
004d1318 : POP EDI
004d1319 : MOV EAX,ESI
004d131b : POP ESI
004d131c : POP EBX
004d131d : POP EBP
004d131e : RET 0x8
004d1321 : TEST EDI,EDI
004d1323 : JNZ 0x004d12f6
004d1325 : MOV dword ptr [ESI + 0x14],EDI
004d1328 : CMP EAX,0x10
004d132b : JC 0x004d133c
004d132d : MOV EAX,dword ptr [ESI + 0x4]
004d1330 : POP EDI
004d1331 : MOV byte ptr [EAX],0x0
004d1334 : MOV EAX,ESI
004d1336 : POP ESI
004d1337 : POP EBX
004d1338 : POP EBP
004d1339 : RET 0x8
004d133c : LEA EAX,[ESI + 0x4]
004d133f : POP EDI
004d1340 : MOV byte ptr [EAX],0x0
004d1343 : MOV EAX,ESI
004d1345 : POP ESI
004d1346 : POP EBX
004d1347 : POP EBP
004d1348 : RET 0x8
004d134b : LEA EAX,[ESI + 0x4]
004d134e : MOV byte ptr [EAX + EDI*0x1],0x0
004d1352 : POP EDI
004d1353 : MOV EAX,ESI
004d1355 : POP ESI
004d1356 : POP EBX
004d1357 : POP EBP
004d1358 : RET 0x8
