PROGRAM  : Maestia.exe
FUNCTION : FUN_004fdfd0
ENTRY    : 004fdfd0
BODY     : [[004fdfd0, 004fe09a]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint * FUN_004fdfd0(uint param_1)

{
  uint *puVar1;
  size_t _Size;
  uint uVar2;
  void *local_c;
  undefined1 *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00b7308a;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  _Size = param_1 * 0x140 + 4;
  if (DAT_00da98c8 == (int *)0x0) {
    puVar1 = _malloc(_Size);
  }
  else {
    puVar1 = (uint *)(**(code **)(*DAT_00da98c8 + 4))(_Size,DAT_00d66fa0 ^ (uint)&stack0xffffffdc);
  }
  if (puVar1 != (uint *)0x0) {
    uVar2 = 0;
    *puVar1 = param_1;
    if (param_1 != 0) {
      do {
        local_4 = 0;
        if (puVar1 + 1 + uVar2 * 0x50 != (uint *)0x0) {
          FUN_00a67130();
        }
        uVar2 = uVar2 + 1;
      } while (uVar2 < param_1);
    }
    _DAT_00da98cc = _DAT_00da98cc + _Size;
    _DAT_00da98d0 = _DAT_00da98d0 + 1;
    ExceptionList = local_c;
    return puVar1 + 1;
  }
  ExceptionList = local_c;
  return (uint *)0x0;
}



============================================================
DISASSEMBLY
============================================================
004fdfd0 : PUSH -0x1
004fdfd2 : PUSH 0xb7308a
004fdfd7 : MOV EAX,FS:[0x0]
004fdfdd : PUSH EAX
004fdfde : SUB ESP,0x8
004fdfe1 : PUSH EBX
004fdfe2 : PUSH EBP
004fdfe3 : PUSH ESI
004fdfe4 : PUSH EDI
004fdfe5 : MOV EAX,[0x00d66fa0]
004fdfea : XOR EAX,ESP
004fdfec : PUSH EAX
004fdfed : LEA EAX,[ESP + 0x1c]
004fdff1 : MOV FS:[0x0],EAX
004fdff7 : MOV EBX,dword ptr [ESP + 0x2c]
004fdffb : MOV ECX,dword ptr [0x00da98c8]
004fe001 : LEA EBP,[EBX + EBX*0x4]
004fe004 : SHL EBP,0x6
004fe007 : ADD EBP,0x4
004fe00a : PUSH EBP
004fe00b : TEST ECX,ECX
004fe00d : JZ 0x004fe018
004fe00f : MOV EAX,dword ptr [ECX]
004fe011 : MOV EDX,dword ptr [EAX + 0x4]
004fe014 : CALL EDX
004fe016 : JMP 0x004fe020
004fe018 : CALL 0x00636043
004fe01d : ADD ESP,0x4
004fe020 : TEST EAX,EAX
004fe022 : JZ 0x004fe085
004fe024 : XOR ESI,ESI
004fe026 : LEA EDI,[EAX + 0x4]
004fe029 : MOV dword ptr [EAX],EBX
004fe02b : MOV dword ptr [ESP + 0x14],EDI
004fe02f : MOV dword ptr [ESP + 0x2c],ESI
004fe033 : TEST EBX,EBX
004fe035 : JBE 0x004fe063
004fe037 : LEA ECX,[ESI + ESI*0x4]
004fe03a : SHL ECX,0x6
004fe03d : ADD ECX,EDI
004fe03f : MOV dword ptr [ESP + 0x18],ECX
004fe043 : MOV dword ptr [ESP + 0x24],0x0
004fe04b : JZ 0x004fe052
004fe04d : CALL 0x00a67130
004fe052 : MOV dword ptr [ESP + 0x24],0xffffffff
004fe05a : INC ESI
004fe05b : MOV dword ptr [ESP + 0x2c],ESI
004fe05f : CMP ESI,EBX
004fe061 : JC 0x004fe037
004fe063 : ADD dword ptr [0x00da98cc],EBP
004fe069 : INC dword ptr [0x00da98d0]
004fe06f : MOV EAX,EDI
004fe071 : MOV ECX,dword ptr [ESP + 0x1c]
004fe075 : MOV dword ptr FS:[0x0],ECX
004fe07c : POP ECX
004fe07d : POP EDI
004fe07e : POP ESI
004fe07f : POP EBP
004fe080 : POP EBX
004fe081 : ADD ESP,0x14
004fe084 : RET
004fe085 : XOR EAX,EAX
004fe087 : MOV ECX,dword ptr [ESP + 0x1c]
004fe08b : MOV dword ptr FS:[0x0],ECX
004fe092 : POP ECX
004fe093 : POP EDI
004fe094 : POP ESI
004fe095 : POP EBP
004fe096 : POP EBX
004fe097 : ADD ESP,0x14
004fe09a : RET
