PROGRAM  : Maestia.exe
FUNCTION : FUN_00412650
ENTRY    : 00412650
BODY     : [[00412650, 004126cd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00412650(void)

{
  int unaff_ESI;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7e898;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(unaff_ESI + 0x34);
  local_18 = 0;
  local_20 = 
  "d:\\maestiaproject\\maestiasrc\\client\\main\\client\\avatars\\network\\AvaBaseCltNet.h";
  local_1c = 0x3a;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  *(undefined4 *)(unaff_ESI + 8) = 0;
  local_8 = 0xffffffff;
  if (local_18 != 0) {
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00412650 : PUSH EBP
00412651 : MOV EBP,ESP
00412653 : PUSH -0x1
00412655 : PUSH 0xb7e898
0041265a : MOV EAX,FS:[0x0]
00412660 : PUSH EAX
00412661 : SUB ESP,0x14
00412664 : PUSH EDI
00412665 : MOV EAX,[0x00d66fa0]
0041266a : XOR EAX,EBP
0041266c : PUSH EAX
0041266d : LEA EAX,[EBP + -0xc]
00412670 : MOV FS:[0x0],EAX
00412676 : LEA ECX,[EBP + -0x20]
00412679 : LEA EAX,[ESI + 0x34]
0041267c : XOR EDI,EDI
0041267e : PUSH ECX
0041267f : MOV dword ptr [EBP + -0x14],EDI
00412682 : MOV dword ptr [EBP + -0x20],EAX
00412685 : MOV dword ptr [EBP + -0x1c],0xcca878
0041268c : MOV dword ptr [EBP + -0x18],0x3a
00412693 : MOV dword ptr [EBP + -0x10],0x1
0041269a : CALL 0x006ef1a0
0041269f : MOV dword ptr [EBP + -0x4],EDI
004126a2 : MOV dword ptr [ESI + 0x8],EDI
004126a5 : MOV dword ptr [EBP + -0x4],0xffffffff
004126ac : CMP dword ptr [EBP + -0x14],EDI
004126af : JZ 0x004126be
004126b1 : MOV EDX,dword ptr [EBP + -0x20]
004126b4 : PUSH EDX
004126b5 : CALL dword ptr [0x00b8511c]
004126bb : MOV dword ptr [EBP + -0x14],EDI
004126be : MOV ECX,dword ptr [EBP + -0xc]
004126c1 : MOV dword ptr FS:[0x0],ECX
004126c8 : POP ECX
004126c9 : POP EDI
004126ca : MOV ESP,EBP
004126cc : POP EBP
004126cd : RET
