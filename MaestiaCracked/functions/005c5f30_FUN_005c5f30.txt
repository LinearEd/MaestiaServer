PROGRAM  : Maestia.exe
FUNCTION : FUN_005c5f30
ENTRY    : 005c5f30
BODY     : [[005c5f30, 005c6066]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005c5f30(int *param_1,uint param_2)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  int local_18;
  undefined1 local_14;
  
  iVar2 = param_2;
  uVar6 = 0;
  local_18 = param_2;
  local_14 = 8;
  puVar3 = (undefined4 *)FUN_00515840(0x38,0);
  if (puVar3 == (undefined4 *)0x0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    FUN_00568960(&local_18,&LAB_005c4e00);
    *puVar3 = &PTR_LAB_00b91e00;
    puVar3[4] = &PTR_LAB_00b91da8;
    puVar3[0xd] = 0;
    FUN_00530a70(puVar3 + 4,&local_18,&PTR_s_getLocal_00b91c58,7);
  }
  puVar1 = param_1;
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = (int)puVar3;
  param_1[1] = 0;
  iVar4 = FUN_00515840(0x58,0);
  if (iVar4 != 0) {
    puVar3 = puVar1;
    uVar5 = FUN_00530910(1);
    uVar6 = FUN_005c5320(&local_18,uVar5,puVar3);
    if (uVar6 != 0) {
      *(uint *)(uVar6 + 8) = *(int *)(uVar6 + 8) + 1U & 0x8fffffff;
    }
  }
  param_1 = (int *)0x2a;
  param_2 = uVar6;
  FUN_0050ff10(&param_1,&param_2);
  if (param_2 != 0) {
    FUN_00503db0();
  }
  param_1 = (int *)(*(int *)(iVar2 + 0x2a0) + 0x10);
  param_2 = param_2 & 0xffffff00;
  iVar4 = *param_1;
  puVar3 = &param_2;
  uVar5 = FUN_00526210(puVar1);
  (**(code **)(iVar4 + 0x28))(&local_18,iVar2 + 0xb0,uVar5,puVar3);
  FUN_00526bc0();
  if (uVar6 != 0) {
    FUN_00503db0();
  }
  return puVar1;
}



============================================================
DISASSEMBLY
============================================================
005c5f30 : SUB ESP,0x18
005c5f33 : PUSH EBX
005c5f34 : PUSH EBP
005c5f35 : PUSH ESI
005c5f36 : MOV ESI,dword ptr [ESP + 0x2c]
005c5f3a : MOV ECX,dword ptr [ESI + 0x288]
005c5f40 : PUSH EDI
005c5f41 : XOR EBX,EBX
005c5f43 : PUSH EBX
005c5f44 : PUSH 0x38
005c5f46 : MOV dword ptr [ESP + 0x18],ESI
005c5f4a : MOV byte ptr [ESP + 0x1c],0x8
005c5f4f : CALL 0x00515840
005c5f54 : MOV EDI,EAX
005c5f56 : CMP EDI,EBX
005c5f58 : JZ 0x005c5f94
005c5f5a : PUSH 0x5c4e00
005c5f5f : LEA EAX,[ESP + 0x14]
005c5f63 : PUSH EAX
005c5f64 : MOV ECX,EDI
005c5f66 : CALL 0x00568960
005c5f6b : PUSH 0x7
005c5f6d : PUSH 0xb91c58
005c5f72 : LEA ECX,[ESP + 0x18]
005c5f76 : LEA EAX,[EDI + 0x10]
005c5f79 : PUSH ECX
005c5f7a : MOV dword ptr [EDI],0xb91e00
005c5f80 : MOV dword ptr [EAX],0xb91da8
005c5f86 : PUSH EAX
005c5f87 : MOV dword ptr [EDI + 0x34],EBX
005c5f8a : CALL 0x00530a70
005c5f8f : ADD ESP,0x10
005c5f92 : JMP 0x005c5f96
005c5f94 : XOR EDI,EDI
005c5f96 : MOV EBP,dword ptr [ESP + 0x2c]
005c5f9a : PUSH EBX
005c5f9b : MOV byte ptr [EBP + 0x8],BL
005c5f9e : MOV dword ptr [EBP],EDI
005c5fa1 : MOV dword ptr [EBP + 0x4],EBX
005c5fa4 : MOV ECX,dword ptr [ESI + 0x288]
005c5faa : PUSH 0x58
005c5fac : CALL 0x00515840
005c5fb1 : MOV EDI,EAX
005c5fb3 : CMP EDI,EBX
005c5fb5 : JZ 0x005c5fe0
005c5fb7 : PUSH EBP
005c5fb8 : PUSH 0x1
005c5fba : MOV ECX,ESI
005c5fbc : CALL 0x00530910
005c5fc1 : PUSH EAX
005c5fc2 : LEA EDX,[ESP + 0x18]
005c5fc6 : PUSH EDX
005c5fc7 : MOV ECX,EDI
005c5fc9 : CALL 0x005c5320
005c5fce : MOV EBX,EAX
005c5fd0 : TEST EBX,EBX
005c5fd2 : JZ 0x005c5fe0
005c5fd4 : MOV EAX,dword ptr [EBX + 0x8]
005c5fd7 : INC EAX
005c5fd8 : AND EAX,0x8fffffff
005c5fdd : MOV dword ptr [EBX + 0x8],EAX
005c5fe0 : LEA ECX,[ESP + 0x30]
005c5fe4 : PUSH ECX
005c5fe5 : LEA EDX,[ESP + 0x30]
005c5fe9 : PUSH EDX
005c5fea : LEA ECX,[ESI + 0x278]
005c5ff0 : MOV dword ptr [ESP + 0x38],EBX
005c5ff4 : MOV dword ptr [ESP + 0x34],0x2a
005c5ffc : CALL 0x0050ff10
005c6001 : MOV ECX,dword ptr [ESP + 0x30]
005c6005 : TEST ECX,ECX
005c6007 : JZ 0x005c600e
005c6009 : CALL 0x00503db0
005c600e : MOV EAX,dword ptr [ESI + 0x2a0]
005c6014 : ADD EAX,0x10
005c6017 : MOV byte ptr [ESP + 0x30],0x0
005c601c : MOV EDI,dword ptr [EAX]
005c601e : MOV dword ptr [ESP + 0x2c],EAX
005c6022 : LEA EAX,[ESP + 0x30]
005c6026 : PUSH EAX
005c6027 : PUSH EBP
005c6028 : LEA ECX,[ESP + 0x20]
005c602c : ADD EDI,0x28
005c602f : CALL 0x00526210
005c6034 : MOV EDX,dword ptr [EDI]
005c6036 : PUSH EAX
005c6037 : ADD ESI,0xb0
005c603d : PUSH ESI
005c603e : LEA ECX,[ESP + 0x1c]
005c6042 : PUSH ECX
005c6043 : MOV ECX,dword ptr [ESP + 0x3c]
005c6047 : CALL EDX
005c6049 : LEA ECX,[ESP + 0x18]
005c604d : CALL 0x00526bc0
005c6052 : TEST EBX,EBX
005c6054 : JZ 0x005c605d
005c6056 : MOV ECX,EBX
005c6058 : CALL 0x00503db0
005c605d : POP EDI
005c605e : POP ESI
005c605f : MOV EAX,EBP
005c6061 : POP EBP
005c6062 : POP EBX
005c6063 : ADD ESP,0x18
005c6066 : RET
