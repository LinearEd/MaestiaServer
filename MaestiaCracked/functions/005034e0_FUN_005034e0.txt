PROGRAM  : Maestia.exe
FUNCTION : FUN_005034e0
ENTRY    : 005034e0
BODY     : [[005034e0, 00503552]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005034e0(undefined4 param_1,uint param_2)

{
  int iVar1;
  int in_ECX;
  
  if (param_2 < *(uint *)(in_ECX + 4)) {
    for (iVar1 = *(uint *)(in_ECX + 4) - param_2; iVar1 != 0; iVar1 = iVar1 + -1) {
      FUN_00526bc0();
    }
    if (param_2 < *(uint *)(in_ECX + 8) >> 1) {
      FUN_00502cb0(param_1,param_2);
      *(uint *)(in_ECX + 4) = param_2;
      return;
    }
  }
  else if (*(uint *)(in_ECX + 8) <= param_2) {
    FUN_00502cb0(param_1,(param_2 >> 2) + param_2);
  }
  *(uint *)(in_ECX + 4) = param_2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005034e0 : PUSH ESI
005034e1 : MOV ESI,dword ptr [ESP + 0xc]
005034e5 : PUSH EDI
005034e6 : MOV EDI,ECX
005034e8 : MOV EAX,dword ptr [EDI + 0x4]
005034eb : CMP ESI,EAX
005034ed : JNC 0x00503534
005034ef : MOV EDX,dword ptr [EDI]
005034f1 : SUB EAX,ESI
005034f3 : LEA ECX,[EAX + ESI*0x1]
005034f6 : SHL ECX,0x4
005034f9 : PUSH EBX
005034fa : LEA EBX,[ECX + EDX*0x1 + -0x10]
005034fe : TEST EAX,EAX
00503500 : JBE 0x00503515
00503502 : PUSH EBP
00503503 : MOV EBP,EAX
00503505 : MOV ECX,EBX
00503507 : CALL 0x00526bc0
0050350c : SUB EBX,0x10
0050350f : SUB EBP,0x1
00503512 : JNZ 0x00503505
00503514 : POP EBP
00503515 : MOV EAX,dword ptr [EDI + 0x8]
00503518 : SHR EAX,0x1
0050351a : POP EBX
0050351b : CMP ESI,EAX
0050351d : JNC 0x0050354b
0050351f : MOV ECX,dword ptr [ESP + 0xc]
00503523 : PUSH ESI
00503524 : PUSH ECX
00503525 : MOV ECX,EDI
00503527 : CALL 0x00502cb0
0050352c : MOV dword ptr [EDI + 0x4],ESI
0050352f : POP EDI
00503530 : POP ESI
00503531 : RET 0x8
00503534 : CMP ESI,dword ptr [EDI + 0x8]
00503537 : JC 0x0050354b
00503539 : MOV EAX,dword ptr [ESP + 0xc]
0050353d : MOV EDX,ESI
0050353f : SHR EDX,0x2
00503542 : ADD EDX,ESI
00503544 : PUSH EDX
00503545 : PUSH EAX
00503546 : CALL 0x00502cb0
0050354b : MOV dword ptr [EDI + 0x4],ESI
0050354e : POP EDI
0050354f : POP ESI
00503550 : RET 0x8
