PROGRAM  : Maestia.exe
FUNCTION : FUN_00a467c0
ENTRY    : 00a467c0
BODY     : [[00a467c0, 00a46956]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a467c0(uint param_1,undefined4 param_2)

{
  undefined4 *puVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  DWORD DVar5;
  int *piVar6;
  int iVar7;
  
  uVar2 = param_1;
  iVar4 = *DAT_00da9894;
  iVar7 = *(int *)(iVar4 + 300);
  piVar6 = DAT_00da9894;
  if ((iVar7 != 0) && (*(int *)(iVar7 + 0x18) != 0)) {
    if (iVar7 == 0) {
      iVar7 = 0;
    }
    else {
      iVar7 = *(int *)(iVar7 + 0x18);
    }
    if ((iVar4 != 0) && (*(undefined4 **)(iVar4 + 0x114) != (undefined4 *)0x0)) {
      (**(code **)**(undefined4 **)(iVar4 + 0x114))("MinimapcheckPoint");
    }
    if ((*DAT_00da9894 != 0) &&
       (puVar1 = *(undefined4 **)(*DAT_00da9894 + 0x114), puVar1 != (undefined4 *)0x0)) {
      (**(code **)*puVar1)("ZoneMapcheckPoint");
    }
    if (*(int *)(iVar7 + 0x138) != *(int *)(iVar7 + 0x13c)) {
      param_1 = param_1 & 0xffffff00;
      uVar3 = FUN_00424ee0(param_2,param_2,param_1);
      *(undefined4 *)(iVar7 + 0x13c) = uVar3;
    }
    piVar6 = DAT_00da9894;
    *(undefined4 *)(iVar7 + 0x144) = 0;
    if (*(int *)(*piVar6 + 300) == 0) {
      iVar4 = 0;
    }
    else {
      iVar4 = *(int *)(*(int *)(*piVar6 + 300) + 0x18);
    }
    *(undefined2 *)(iVar4 + 0x70) = 0xffff;
  }
  iVar4 = *piVar6;
  if (((*(int *)(iVar4 + 0x134) != 0) && (iVar4 != 0)) &&
     (*(undefined4 **)(iVar4 + 0x114) != (undefined4 *)0x0)) {
    (**(code **)**(undefined4 **)(iVar4 + 0x114))("ClearGameNoticeText");
  }
  FUN_00a44630(uVar2,*(undefined4 *)(DAT_0172491c + 0x168),*(int *)(uVar2 + 0xac) + 0x1f3c,0,
               *(char *)(DAT_0172491c + 0x170) != '\0');
  FUN_008018d0(L"AvaGameZone::MoveZone( BYTE eAddminLevel )::Move Zone Proto %dn",
               *(undefined4 *)(DAT_0172491c + 0x168));
  *(undefined1 *)(*(int *)(uVar2 + 0xac) + 0x18a0) = (undefined1)param_2;
  *(undefined1 *)(uVar2 + 0x4c0) = 0;
  DVar5 = timeGetTime();
  *(undefined4 *)(uVar2 + 0x3c8) = 0;
  *(undefined4 *)(uVar2 + 0x3cc) = 0;
  *(DWORD *)(uVar2 + 0x4c4) = DVar5;
  *(undefined1 *)(uVar2 + 0x21a) = 0;
  *(undefined1 *)(uVar2 + 0x219) = 0;
  *(undefined1 *)(uVar2 + 0x21c) = 0;
  *(undefined1 *)(uVar2 + 0x21b) = 0;
  *(undefined1 *)(uVar2 + 0x218) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a467c0 : PUSH EBP
00a467c1 : MOV EBP,ESP
00a467c3 : PUSH ECX
00a467c4 : MOV EDX,dword ptr [0x00da9894]
00a467ca : MOV EAX,dword ptr [EDX]
00a467cc : MOV ECX,dword ptr [EAX + 0x12c]
00a467d2 : PUSH EBX
00a467d3 : MOV EBX,dword ptr [EBP + 0x8]
00a467d6 : PUSH ESI
00a467d7 : PUSH EDI
00a467d8 : XOR EDI,EDI
00a467da : CMP ECX,EDI
00a467dc : JZ 0x00a4688c
00a467e2 : CMP dword ptr [ECX + 0x18],EDI
00a467e5 : JZ 0x00a4688c
00a467eb : CMP ECX,EDI
00a467ed : JNZ 0x00a467f3
00a467ef : XOR ESI,ESI
00a467f1 : JMP 0x00a467f6
00a467f3 : MOV ESI,dword ptr [ECX + 0x18]
00a467f6 : CMP EAX,EDI
00a467f8 : JZ 0x00a46811
00a467fa : MOV EAX,dword ptr [EAX + 0x114]
00a46800 : CMP EAX,EDI
00a46802 : JZ 0x00a46811
00a46804 : MOV EDX,dword ptr [EAX]
00a46806 : MOV ECX,EAX
00a46808 : MOV EAX,dword ptr [EDX]
00a4680a : PUSH 0xc80224
00a4680f : CALL EAX
00a46811 : MOV ECX,dword ptr [0x00da9894]
00a46817 : MOV EAX,dword ptr [ECX]
00a46819 : CMP EAX,EDI
00a4681b : JZ 0x00a46832
00a4681d : MOV ECX,dword ptr [EAX + 0x114]
00a46823 : CMP ECX,EDI
00a46825 : JZ 0x00a46832
00a46827 : MOV EDX,dword ptr [ECX]
00a46829 : MOV EAX,dword ptr [EDX]
00a4682b : PUSH 0xc80238
00a46830 : CALL EAX
00a46832 : MOV ECX,dword ptr [ESI + 0x13c]
00a46838 : MOV EAX,dword ptr [ESI + 0x138]
00a4683e : CMP EAX,ECX
00a46840 : JZ 0x00a46864
00a46842 : MOV byte ptr [EBP + 0x8],0x0
00a46846 : MOV EDX,dword ptr [EBP + 0x8]
00a46849 : PUSH EDX
00a4684a : MOV EDX,dword ptr [EBP + 0xc]
00a4684d : PUSH EDX
00a4684e : MOV EDX,dword ptr [EBP + 0xc]
00a46851 : PUSH EDX
00a46852 : MOV EDI,ECX
00a46854 : CALL 0x00424ee0
00a46859 : ADD ESP,0xc
00a4685c : MOV dword ptr [ESI + 0x13c],EAX
00a46862 : XOR EDI,EDI
00a46864 : MOV EDX,dword ptr [0x00da9894]
00a4686a : MOV dword ptr [ESI + 0x144],EDI
00a46870 : MOV EAX,dword ptr [EDX]
00a46872 : MOV EAX,dword ptr [EAX + 0x12c]
00a46878 : CMP EAX,EDI
00a4687a : JNZ 0x00a46880
00a4687c : XOR EAX,EAX
00a4687e : JMP 0x00a46883
00a46880 : MOV EAX,dword ptr [EAX + 0x18]
00a46883 : MOV ECX,0xffff
00a46888 : MOV word ptr [EAX + 0x70],CX
00a4688c : MOV EAX,dword ptr [EDX]
00a4688e : CMP dword ptr [EAX + 0x134],EDI
00a46894 : JZ 0x00a468b1
00a46896 : CMP EAX,EDI
00a46898 : JZ 0x00a468b1
00a4689a : MOV EAX,dword ptr [EAX + 0x114]
00a468a0 : CMP EAX,EDI
00a468a2 : JZ 0x00a468b1
00a468a4 : MOV EDX,dword ptr [EAX]
00a468a6 : MOV ECX,EAX
00a468a8 : MOV EAX,dword ptr [EDX]
00a468aa : PUSH 0xc7bc18
00a468af : CALL EAX
00a468b1 : MOV EAX,[0x0172491c]
00a468b6 : CMP byte ptr [EAX + 0x170],0x0
00a468bd : SETNZ CL
00a468c0 : MOVZX EDX,CL
00a468c3 : MOV ECX,dword ptr [EBX + 0xac]
00a468c9 : PUSH EDX
00a468ca : MOV EDX,dword ptr [EAX + 0x168]
00a468d0 : PUSH EDI
00a468d1 : ADD ECX,0x1f3c
00a468d7 : PUSH ECX
00a468d8 : PUSH EDX
00a468d9 : PUSH EBX
00a468da : CALL 0x00a44630
00a468df : MOV EAX,[0x0172491c]
00a468e4 : MOV ECX,dword ptr [EAX + 0x168]
00a468ea : MOV ESI,dword ptr [0x00da98e8]
00a468f0 : PUSH ECX
00a468f1 : PUSH 0xcc1d00
00a468f6 : CALL 0x008018d0
00a468fb : MOV EDX,dword ptr [EBX + 0xac]
00a46901 : MOV AL,byte ptr [EBP + 0xc]
00a46904 : MOV byte ptr [EDX + 0x18a0],AL
00a4690a : ADD ESP,0x8
00a4690d : MOV byte ptr [EBX + 0x4c0],0x0
00a46914 : CALL dword ptr [0x00b85598]
00a4691a : MOV dword ptr [EBX + 0x3c8],EDI
00a46920 : MOV dword ptr [EBX + 0x3cc],EDI
00a46926 : POP EDI
00a46927 : POP ESI
00a46928 : MOV dword ptr [EBX + 0x4c4],EAX
00a4692e : MOV byte ptr [EBX + 0x21a],0x0
00a46935 : MOV byte ptr [EBX + 0x219],0x0
00a4693c : MOV byte ptr [EBX + 0x21c],0x0
00a46943 : MOV byte ptr [EBX + 0x21b],0x0
00a4694a : MOV byte ptr [EBX + 0x218],0x0
00a46951 : POP EBX
00a46952 : POP ECX
00a46953 : POP EBP
00a46954 : RET 0x8
