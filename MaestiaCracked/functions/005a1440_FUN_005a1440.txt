PROGRAM  : Maestia.exe
FUNCTION : FUN_005a1440
ENTRY    : 005a1440
BODY     : [[005a1440, 005a1499] [005a14a0, 005a160c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005a1440(void)

{
  int iVar1;
  int in_ECX;
  int *piVar2;
  uint uVar3;
  int iStack_4;
  
  uVar3 = 0;
  iStack_4 = in_ECX;
  if (*(int *)(in_ECX + 0x300) != 0) {
    do {
      (**(code **)**(undefined4 **)(*(int *)(in_ECX + 0x2fc) + uVar3 * 4))(0);
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(in_ECX + 0x300));
  }
  uVar3 = 0;
  if (*(int *)(in_ECX + 0x2f4) != 0) {
    do {
      (**(code **)**(undefined4 **)(*(int *)(in_ECX + 0x2f0) + uVar3 * 4))(0);
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(in_ECX + 0x2f4));
  }
  uVar3 = 0;
  if (*(int *)(in_ECX + 0x30c) != 0) {
    do {
      (**(code **)**(undefined4 **)(*(int *)(in_ECX + 0x308) + uVar3 * 4))(0);
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(in_ECX + 0x30c));
  }
  piVar2 = (int *)(in_ECX + 0x2fc);
  if (*(int *)(in_ECX + 0x300) == 0) {
    if (*(int *)(in_ECX + 0x304) == 0) {
      FUN_0052aa10(piVar2,0);
    }
  }
  else if ((*(uint *)(in_ECX + 0x304) & 0xfffffffe) != 0) {
    if (*piVar2 == 0) {
      iStack_4 = 2;
      iVar1 = FUN_00515840(0x80,&iStack_4);
      *piVar2 = iVar1;
      *(undefined4 *)(in_ECX + 0x304) = 0x20;
    }
    else {
      iVar1 = FUN_00515c80(*piVar2,0x80);
      *piVar2 = iVar1;
      *(undefined4 *)(in_ECX + 0x304) = 0x20;
    }
  }
  *(undefined4 *)(in_ECX + 0x300) = 0;
  piVar2 = (int *)(in_ECX + 0x2f0);
  if (*(int *)(in_ECX + 0x2f4) == 0) {
    if (*(int *)(in_ECX + 0x2f8) == 0) {
      FUN_0052aa10(piVar2,0);
    }
  }
  else if ((*(uint *)(in_ECX + 0x2f8) & 0xfffffffe) != 0) {
    if (*piVar2 == 0) {
      iStack_4 = 2;
      iVar1 = FUN_00515840(0x80,&iStack_4);
      *piVar2 = iVar1;
      *(undefined4 *)(in_ECX + 0x2f8) = 0x20;
    }
    else {
      iVar1 = FUN_00515c80(*piVar2,0x80);
      *piVar2 = iVar1;
      *(undefined4 *)(in_ECX + 0x2f8) = 0x20;
    }
  }
  piVar2 = (int *)(in_ECX + 0x308);
  *(undefined4 *)(in_ECX + 0x2f4) = 0;
  if (*(int *)(in_ECX + 0x30c) == 0) {
    if (*(int *)(in_ECX + 0x310) == 0) {
      FUN_0052aa10(piVar2,0);
    }
  }
  else if ((*(uint *)(in_ECX + 0x310) & 0xfffffffe) != 0) {
    if (*piVar2 == 0) {
      iStack_4 = 2;
      iVar1 = FUN_00515840(0x80,&iStack_4);
      *(undefined4 *)(in_ECX + 0x30c) = 0;
      *piVar2 = iVar1;
      *(undefined4 *)(in_ECX + 0x310) = 0x20;
      return;
    }
    iVar1 = FUN_00515c80(*piVar2,0x80);
    *(undefined4 *)(in_ECX + 0x30c) = 0;
    *piVar2 = iVar1;
    *(undefined4 *)(in_ECX + 0x310) = 0x20;
    return;
  }
  *(undefined4 *)(in_ECX + 0x30c) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
005a1440 : PUSH ECX
005a1441 : PUSH EBX
005a1442 : PUSH ESI
005a1443 : PUSH EDI
005a1444 : MOV ESI,ECX
005a1446 : XOR EBX,EBX
005a1448 : XOR EDI,EDI
005a144a : CMP dword ptr [ESI + 0x300],EBX
005a1450 : JBE 0x005a146b
005a1452 : MOV EAX,dword ptr [ESI + 0x2fc]
005a1458 : MOV ECX,dword ptr [EAX + EDI*0x4]
005a145b : MOV EDX,dword ptr [ECX]
005a145d : MOV EAX,dword ptr [EDX]
005a145f : PUSH EBX
005a1460 : CALL EAX
005a1462 : INC EDI
005a1463 : CMP EDI,dword ptr [ESI + 0x300]
005a1469 : JC 0x005a1452
005a146b : XOR EDI,EDI
005a146d : CMP dword ptr [ESI + 0x2f4],EBX
005a1473 : JBE 0x005a148e
005a1475 : MOV ECX,dword ptr [ESI + 0x2f0]
005a147b : MOV ECX,dword ptr [ECX + EDI*0x4]
005a147e : MOV EDX,dword ptr [ECX]
005a1480 : MOV EAX,dword ptr [EDX]
005a1482 : PUSH EBX
005a1483 : CALL EAX
005a1485 : INC EDI
005a1486 : CMP EDI,dword ptr [ESI + 0x2f4]
005a148c : JC 0x005a1475
005a148e : XOR EDI,EDI
005a1490 : CMP dword ptr [ESI + 0x30c],EBX
005a1496 : JBE 0x005a14b9
005a1498 : JMP 0x005a14a0
005a14a0 : MOV ECX,dword ptr [ESI + 0x308]
005a14a6 : MOV ECX,dword ptr [ECX + EDI*0x4]
005a14a9 : MOV EDX,dword ptr [ECX]
005a14ab : MOV EAX,dword ptr [EDX]
005a14ad : PUSH EBX
005a14ae : CALL EAX
005a14b0 : INC EDI
005a14b1 : CMP EDI,dword ptr [ESI + 0x30c]
005a14b7 : JC 0x005a14a0
005a14b9 : MOV EAX,dword ptr [ESI + 0x300]
005a14bf : LEA EDI,[ESI + 0x2fc]
005a14c5 : CMP EAX,EBX
005a14c7 : JBE 0x005a1516
005a14c9 : TEST dword ptr [EDI + 0x8],0xfffffffe
005a14d0 : JBE 0x005a1524
005a14d2 : MOV EAX,dword ptr [EDI]
005a14d4 : CMP EAX,EBX
005a14d6 : JZ 0x005a14ee
005a14d8 : PUSH 0x80
005a14dd : PUSH EAX
005a14de : CALL 0x00515c80
005a14e3 : MOV dword ptr [EDI],EAX
005a14e5 : MOV dword ptr [EDI + 0x8],0x20
005a14ec : JMP 0x005a1524
005a14ee : LEA ECX,[ESP + 0xc]
005a14f2 : PUSH ECX
005a14f3 : MOV ECX,dword ptr [0x00d73250]
005a14f9 : PUSH 0x80
005a14fe : MOV dword ptr [ESP + 0x14],0x2
005a1506 : CALL 0x00515840
005a150b : MOV dword ptr [EDI],EAX
005a150d : MOV dword ptr [EDI + 0x8],0x20
005a1514 : JMP 0x005a1524
005a1516 : CMP dword ptr [EDI + 0x8],EBX
005a1519 : JA 0x005a1524
005a151b : PUSH EBX
005a151c : PUSH EDI
005a151d : MOV ECX,EDI
005a151f : CALL 0x0052aa10
005a1524 : MOV dword ptr [EDI + 0x4],EBX
005a1527 : CMP dword ptr [ESI + 0x2f4],EBX
005a152d : LEA EDI,[ESI + 0x2f0]
005a1533 : JBE 0x005a1582
005a1535 : TEST dword ptr [EDI + 0x8],0xfffffffe
005a153c : JBE 0x005a1590
005a153e : MOV EAX,dword ptr [EDI]
005a1540 : CMP EAX,EBX
005a1542 : JZ 0x005a155a
005a1544 : PUSH 0x80
005a1549 : PUSH EAX
005a154a : CALL 0x00515c80
005a154f : MOV dword ptr [EDI],EAX
005a1551 : MOV dword ptr [EDI + 0x8],0x20
005a1558 : JMP 0x005a1590
005a155a : MOV ECX,dword ptr [0x00d73250]
005a1560 : LEA EDX,[ESP + 0xc]
005a1564 : PUSH EDX
005a1565 : PUSH 0x80
005a156a : MOV dword ptr [ESP + 0x14],0x2
005a1572 : CALL 0x00515840
005a1577 : MOV dword ptr [EDI],EAX
005a1579 : MOV dword ptr [EDI + 0x8],0x20
005a1580 : JMP 0x005a1590
005a1582 : CMP dword ptr [EDI + 0x8],EBX
005a1585 : JA 0x005a1590
005a1587 : PUSH EBX
005a1588 : PUSH EDI
005a1589 : MOV ECX,EDI
005a158b : CALL 0x0052aa10
005a1590 : ADD ESI,0x308
005a1596 : MOV dword ptr [EDI + 0x4],EBX
005a1599 : CMP dword ptr [ESI + 0x4],EBX
005a159c : JBE 0x005a15f7
005a159e : TEST dword ptr [ESI + 0x8],0xfffffffe
005a15a5 : JBE 0x005a1605
005a15a7 : MOV EAX,dword ptr [ESI]
005a15a9 : CMP EAX,EBX
005a15ab : JZ 0x005a15c9
005a15ad : PUSH 0x80
005a15b2 : PUSH EAX
005a15b3 : CALL 0x00515c80
005a15b8 : POP EDI
005a15b9 : MOV dword ptr [ESI + 0x4],EBX
005a15bc : MOV dword ptr [ESI],EAX
005a15be : MOV dword ptr [ESI + 0x8],0x20
005a15c5 : POP ESI
005a15c6 : POP EBX
005a15c7 : POP ECX
005a15c8 : RET
005a15c9 : MOV ECX,dword ptr [0x00d73250]
005a15cf : LEA EAX,[ESP + 0xc]
005a15d3 : PUSH EAX
005a15d4 : PUSH 0x80
005a15d9 : MOV dword ptr [ESP + 0x14],0x2
005a15e1 : CALL 0x00515840
005a15e6 : POP EDI
005a15e7 : MOV dword ptr [ESI + 0x4],EBX
005a15ea : MOV dword ptr [ESI],EAX
005a15ec : MOV dword ptr [ESI + 0x8],0x20
005a15f3 : POP ESI
005a15f4 : POP EBX
005a15f5 : POP ECX
005a15f6 : RET
005a15f7 : CMP dword ptr [ESI + 0x8],EBX
005a15fa : JA 0x005a1605
005a15fc : PUSH EBX
005a15fd : PUSH ESI
005a15fe : MOV ECX,ESI
005a1600 : CALL 0x0052aa10
005a1605 : POP EDI
005a1606 : MOV dword ptr [ESI + 0x4],EBX
005a1609 : POP ESI
005a160a : POP EBX
005a160b : POP ECX
005a160c : RET
