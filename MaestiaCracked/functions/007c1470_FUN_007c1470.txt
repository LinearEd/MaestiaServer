PROGRAM  : Maestia.exe
FUNCTION : FUN_007c1470
ENTRY    : 007c1470
BODY     : [[007c1470, 007c167b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007c1470(int param_1)

{
  uint uVar1;
  char cVar2;
  int iVar3;
  int *in_ECX;
  int iVar4;
  undefined4 *puVar5;
  undefined4 local_168;
  undefined1 local_130 [4];
  undefined4 ***local_12c [4];
  uint local_11c;
  uint local_118;
  undefined4 local_114 [64];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4808c;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if ((char)in_ECX[9] == '\0') {
    (**(code **)(*in_ECX + 0x28))(local_14);
    FUN_00405eb0(param_1,0,0xffffffff);
    FUN_0070d390();
    local_8 = 0;
    cVar2 = FUN_008036f0(DAT_01725204,param_1);
    if (cVar2 == '\0') {
      FUN_0070d4c0();
    }
    else {
      FUN_0040e420(param_1,local_130);
      local_8._0_1_ = 1;
      FUN_0070c1f0();
      if (local_118 < 8) {
        local_12c[0] = local_12c;
      }
      iVar3 = FUN_00405b70(local_12c[0]);
      if (((iVar3 == 0) && (2 < local_11c)) && (local_11c == 3)) {
        in_ECX[0x16] = 0;
      }
      iVar3 = FUN_007b4450(*(undefined4 *)(DAT_017251ac + 0x18),local_168,0xffffffff,0xffffffff,0,0,
                           *(int *)(DAT_017251ac + 0x20) == 0,1,5,in_ECX[0x16],in_ECX + 0xf,
                           in_ECX + 0xe,1);
      if (-1 < iVar3) {
        FUN_0070d4c0();
        *(undefined1 *)(in_ECX + 9) = 1;
        local_8 = (uint)local_8._1_3_ << 8;
        FUN_00406560();
        local_8 = 0xffffffff;
        FUN_0070d710();
        goto LAB_007c165e;
      }
      uVar1 = *(uint *)(param_1 + 0x18);
      puVar5 = local_114;
      for (iVar4 = 0x40; iVar4 != 0; iVar4 = iVar4 + -1) {
        *puVar5 = 0;
        puVar5 = puVar5 + 1;
      }
      if (uVar1 < 8) {
        param_1 = param_1 + 4;
      }
      else {
        param_1 = *(int *)(param_1 + 4);
      }
      FUN_0040e4a0(L"[AvaShaderTxtr::Load] Failed CreateTextureFromFileInMemoryEx Name : %s , (%d)",
                   param_1,iVar3);
      FUN_008018d0(local_114);
      FUN_0070d4c0();
      local_8 = (uint)local_8._1_3_ << 8;
      FUN_00406560();
    }
    local_8 = 0xffffffff;
    FUN_0070d710();
  }
LAB_007c165e:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
007c1470 : PUSH EBP
007c1471 : MOV EBP,ESP
007c1473 : PUSH -0x1
007c1475 : PUSH 0xb4808c
007c147a : MOV EAX,FS:[0x0]
007c1480 : PUSH EAX
007c1481 : SUB ESP,0x174
007c1487 : MOV EAX,[0x00d66fa0]
007c148c : XOR EAX,EBP
007c148e : MOV dword ptr [EBP + -0x10],EAX
007c1491 : PUSH EBX
007c1492 : PUSH ESI
007c1493 : PUSH EDI
007c1494 : PUSH EAX
007c1495 : LEA EAX,[EBP + -0xc]
007c1498 : MOV FS:[0x0],EAX
007c149e : MOV EBX,dword ptr [EBP + 0x8]
007c14a1 : MOV ESI,ECX
007c14a3 : CMP byte ptr [ESI + 0x24],0x0
007c14a7 : JNZ 0x007c1502
007c14a9 : MOV EAX,dword ptr [ESI]
007c14ab : MOV EDX,dword ptr [EAX + 0x28]
007c14ae : CALL EDX
007c14b0 : PUSH -0x1
007c14b2 : PUSH 0x0
007c14b4 : PUSH EBX
007c14b5 : LEA ECX,[ESI + 0x4]
007c14b8 : CALL 0x00405eb0
007c14bd : LEA ECX,[EBP + 0xfffffe80]
007c14c3 : CALL 0x0070d390
007c14c8 : MOV dword ptr [EBP + -0x4],0x0
007c14cf : MOV EAX,[0x01725204]
007c14d4 : PUSH EBX
007c14d5 : PUSH EAX
007c14d6 : LEA ECX,[EBP + 0xfffffe80]
007c14dc : CALL 0x008036f0
007c14e1 : TEST AL,AL
007c14e3 : JNZ 0x007c1509
007c14e5 : LEA ECX,[EBP + 0xfffffe80]
007c14eb : CALL 0x0070d4c0
007c14f0 : MOV dword ptr [EBP + -0x4],0xffffffff
007c14f7 : LEA ECX,[EBP + 0xfffffe80]
007c14fd : CALL 0x0070d710
007c1502 : XOR AL,AL
007c1504 : JMP 0x007c165e
007c1509 : MOV ECX,dword ptr [EBX + 0x14]
007c150c : LEA EAX,[EBP + 0xfffffed4]
007c1512 : PUSH EAX
007c1513 : LEA EDX,[ECX + -0x3]
007c1516 : PUSH EBX
007c1517 : CALL 0x0040e420
007c151c : MOV byte ptr [EBP + -0x4],0x1
007c1520 : LEA ECX,[EBP + 0xfffffed4]
007c1526 : CALL 0x0070c1f0
007c152b : MOV EDI,dword ptr [EBP + 0xfffffee8]
007c1531 : MOV EDX,EDI
007c1533 : CMP EDI,0x3
007c1536 : JC 0x007c153d
007c1538 : MOV EDX,0x3
007c153d : CMP dword ptr [EBP + 0xfffffeec],0x8
007c1544 : MOV EAX,dword ptr [EBP + 0xfffffed8]
007c154a : JNC 0x007c1552
007c154c : LEA EAX,[EBP + 0xfffffed8]
007c1552 : PUSH EAX
007c1553 : MOV ECX,0xc1c1d8
007c1558 : CALL 0x00405b70
007c155d : ADD ESP,0x4
007c1560 : TEST EAX,EAX
007c1562 : JNZ 0x007c1576
007c1564 : CMP EDI,0x3
007c1567 : JC 0x007c1576
007c1569 : CMP EDI,0x3
007c156c : SETNZ AL
007c156f : TEST EAX,EAX
007c1571 : JNZ 0x007c1576
007c1573 : MOV dword ptr [ESI + 0x58],EAX
007c1576 : MOV EAX,[0x017251ac]
007c157b : MOV ECX,dword ptr [EAX + 0x20]
007c157e : PUSH 0x1
007c1580 : MOV EAX,dword ptr [EAX + 0x18]
007c1583 : LEA EDX,[ESI + 0x38]
007c1586 : PUSH EDX
007c1587 : LEA EDX,[ESI + 0x3c]
007c158a : PUSH EDX
007c158b : MOV EDX,dword ptr [ESI + 0x58]
007c158e : PUSH EDX
007c158f : XOR EDX,EDX
007c1591 : TEST ECX,ECX
007c1593 : MOV ECX,dword ptr [EBP + 0xfffffe9c]
007c1599 : PUSH 0x5
007c159b : SETZ DL
007c159e : PUSH 0x1
007c15a0 : PUSH EDX
007c15a1 : PUSH 0x0
007c15a3 : PUSH 0x0
007c15a5 : PUSH -0x1
007c15a7 : PUSH -0x1
007c15a9 : PUSH ECX
007c15aa : MOV ECX,dword ptr [EBP + 0xfffffea0]
007c15b0 : PUSH EAX
007c15b1 : CALL 0x007b4450
007c15b6 : MOV EDX,EAX
007c15b8 : ADD ESP,0x34
007c15bb : TEST EDX,EDX
007c15bd : JGE 0x007c162c
007c15bf : XOR EAX,EAX
007c15c1 : MOVZX ESI,AX
007c15c4 : MOV EAX,ESI
007c15c6 : SHL ESI,0x10
007c15c9 : OR EAX,ESI
007c15cb : CMP dword ptr [EBX + 0x18],0x8
007c15cf : MOV ECX,0x40
007c15d4 : LEA EDI,[EBP + 0xfffffef0]
007c15da : STOSD.REP ES:EDI
007c15dc : JC 0x007c15e3
007c15de : MOV EBX,dword ptr [EBX + 0x4]
007c15e1 : JMP 0x007c15e6
007c15e3 : ADD EBX,0x4
007c15e6 : PUSH EDX
007c15e7 : PUSH EBX
007c15e8 : PUSH 0xc1c1e0
007c15ed : LEA EDX,[EBP + 0xfffffef0]
007c15f3 : CALL 0x0040e4a0
007c15f8 : MOV ESI,dword ptr [0x00da98e8]
007c15fe : LEA EDX,[EBP + 0xfffffef0]
007c1604 : PUSH EDX
007c1605 : CALL 0x008018d0
007c160a : ADD ESP,0x10
007c160d : LEA ECX,[EBP + 0xfffffe80]
007c1613 : CALL 0x0070d4c0
007c1618 : MOV byte ptr [EBP + -0x4],0x0
007c161c : LEA ECX,[EBP + 0xfffffed4]
007c1622 : CALL 0x00406560
007c1627 : JMP 0x007c14f0
007c162c : LEA ECX,[EBP + 0xfffffe80]
007c1632 : CALL 0x0070d4c0
007c1637 : MOV byte ptr [ESI + 0x24],0x1
007c163b : MOV byte ptr [EBP + -0x4],0x0
007c163f : LEA ECX,[EBP + 0xfffffed4]
007c1645 : CALL 0x00406560
007c164a : MOV dword ptr [EBP + -0x4],0xffffffff
007c1651 : LEA ECX,[EBP + 0xfffffe80]
007c1657 : CALL 0x0070d710
007c165c : MOV AL,0x1
007c165e : MOV ECX,dword ptr [EBP + -0xc]
007c1661 : MOV dword ptr FS:[0x0],ECX
007c1668 : POP ECX
007c1669 : POP EDI
007c166a : POP ESI
007c166b : POP EBX
007c166c : MOV ECX,dword ptr [EBP + -0x10]
007c166f : XOR ECX,EBP
007c1671 : CALL 0x00633e6b
007c1676 : MOV ESP,EBP
007c1678 : POP EBP
007c1679 : RET 0x4
