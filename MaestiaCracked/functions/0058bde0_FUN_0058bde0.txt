PROGRAM  : Maestia.exe
FUNCTION : FUN_0058bde0
ENTRY    : 0058bde0
BODY     : [[0058bde0, 0058be76]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058bde0(int param_1)

{
  undefined1 *puVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  
  puVar1 = *(undefined1 **)(param_1 + 4);
  FUN_00526400();
  *puVar1 = 0;
  if (*(int **)(param_1 + 8) == (int *)0x0) {
    iVar3 = *(int *)(*(int *)(param_1 + 0x18) + 0x74);
  }
  else {
    iVar3 = (**(code **)(**(int **)(param_1 + 8) + 8))();
    if (iVar3 != 2) {
      return;
    }
    if (*(int *)(param_1 + 8) == 0) {
      return;
    }
    iVar3 = *(int *)(param_1 + 8) + -0x68;
  }
  if ((iVar3 != 0) && (0 < *(int *)(param_1 + 0x1c))) {
    uVar5 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(0);
    FUN_00527730(uVar5);
    iVar4 = FUN_0063b380();
    iVar4 = FUN_005ecc20(iVar4 + 0x4000);
    if ((iVar4 != -1) && (uVar2 = *(uint *)(*(int *)(iVar3 + 0xa8) + iVar4 * 4), uVar2 != 0)) {
      FUN_00526c80(-(uint)((*(byte *)(uVar2 + 0x66) & 0x80) != 0) & uVar2);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0058bde0 : PUSH ESI
0058bde1 : MOV ESI,dword ptr [ESP + 0x8]
0058bde5 : PUSH EDI
0058bde6 : MOV EDI,dword ptr [ESI + 0x4]
0058bde9 : MOV ECX,EDI
0058bdeb : CALL 0x00526400
0058bdf0 : MOV byte ptr [EDI],0x0
0058bdf3 : MOV ECX,dword ptr [ESI + 0x8]
0058bdf6 : TEST ECX,ECX
0058bdf8 : JNZ 0x0058be02
0058bdfa : MOV EAX,dword ptr [ESI + 0x18]
0058bdfd : MOV EDI,dword ptr [EAX + 0x74]
0058be00 : JMP 0x0058be18
0058be02 : MOV EDX,dword ptr [ECX]
0058be04 : MOV EAX,dword ptr [EDX + 0x8]
0058be07 : CALL EAX
0058be09 : CMP EAX,0x2
0058be0c : JNZ 0x0058be74
0058be0e : MOV EAX,dword ptr [ESI + 0x8]
0058be11 : TEST EAX,EAX
0058be13 : JZ 0x0058be74
0058be15 : LEA EDI,[EAX + -0x68]
0058be18 : TEST EDI,EDI
0058be1a : JZ 0x0058be74
0058be1c : CMP dword ptr [ESI + 0x1c],0x1
0058be20 : JL 0x0058be74
0058be22 : MOV ECX,dword ptr [ESI + 0x18]
0058be25 : PUSH ECX
0058be26 : PUSH 0x0
0058be28 : MOV ECX,ESI
0058be2a : CALL 0x00526260
0058be2f : MOV ECX,EAX
0058be31 : CALL 0x00527730
0058be36 : CALL 0x0063b380
0058be3b : ADD EAX,0x4000
0058be40 : ADD EDI,0xa8
0058be46 : PUSH EAX
0058be47 : MOV ECX,EDI
0058be49 : CALL 0x005ecc20
0058be4e : CMP EAX,-0x1
0058be51 : JZ 0x0058be74
0058be53 : MOV EDX,dword ptr [EDI]
0058be55 : MOV EAX,dword ptr [EDX + EAX*0x4]
0058be58 : TEST EAX,EAX
0058be5a : JZ 0x0058be74
0058be5c : MOV CL,byte ptr [EAX + 0x66]
0058be5f : AND CL,0x80
0058be62 : MOVZX EDX,CL
0058be65 : MOV ECX,dword ptr [ESI + 0x4]
0058be68 : NEG EDX
0058be6a : SBB EDX,EDX
0058be6c : AND EDX,EAX
0058be6e : PUSH EDX
0058be6f : CALL 0x00526c80
0058be74 : POP EDI
0058be75 : POP ESI
0058be76 : RET
