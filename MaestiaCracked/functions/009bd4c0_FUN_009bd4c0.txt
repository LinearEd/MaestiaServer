PROGRAM  : Maestia.exe
FUNCTION : FUN_009bd4c0
ENTRY    : 009bd4c0
BODY     : [[009bd4c0, 009bd576]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009bd4c0(ushort *param_1)

{
  int iVar1;
  uint uVar2;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_10;
  undefined1 local_c;
  int local_8;
  
  uVar2 = (*param_1 & 0x1fff) - 5;
  iVar1 = (int)param_1 + 5;
  local_8 = 0;
  if ((char)param_1[2] != '\0') {
    do {
      if ((iVar1 == 0) || (uVar2 < 4)) {
LAB_009bd53c:
        uVar2 = 0;
        iVar1 = 0;
      }
      else {
        if (((undefined4 *)(iVar1 + 4) == (undefined4 *)0x0) || (uVar2 - 4 < 4)) goto LAB_009bd53c;
        local_10 = *(undefined4 *)(iVar1 + 4);
        if (((undefined1 *)(iVar1 + 8) == (undefined1 *)0x0) || (uVar2 == 8)) goto LAB_009bd53c;
        local_c = *(undefined1 *)(iVar1 + 8);
        if (((undefined4 *)(iVar1 + 9) == (undefined4 *)0x0) || (uVar2 - 9 < 8)) goto LAB_009bd53c;
        local_18 = *(undefined4 *)(iVar1 + 0xd);
        local_1c = *(undefined4 *)(iVar1 + 9);
        uVar2 = uVar2 - 0x11;
        iVar1 = iVar1 + 0x11;
      }
      FUN_00a4b010(DAT_00d7c550,local_10,local_c,local_1c,local_18);
      local_8 = local_8 + 1;
    } while (local_8 < (int)(uint)(byte)param_1[2]);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009bd4c0 : PUSH EBP
009bd4c1 : MOV EBP,ESP
009bd4c3 : SUB ESP,0x18
009bd4c6 : MOV EAX,dword ptr [EBP + 0x8]
009bd4c9 : PUSH EBX
009bd4ca : PUSH ESI
009bd4cb : PUSH EDI
009bd4cc : MOVZX EDI,word ptr [EAX]
009bd4cf : AND EDI,0x1fff
009bd4d5 : SUB EDI,0x5
009bd4d8 : CMP byte ptr [EAX + 0x4],0x0
009bd4dc : LEA ESI,[EAX + 0x5]
009bd4df : MOV dword ptr [EBP + -0x4],0x0
009bd4e6 : JBE 0x009bd56e
009bd4ec : MOV EBX,dword ptr [EBP + -0x18]
009bd4ef : TEST ESI,ESI
009bd4f1 : JZ 0x009bd53c
009bd4f3 : CMP EDI,0x4
009bd4f6 : JC 0x009bd53c
009bd4f8 : MOV EAX,dword ptr [ESI]
009bd4fa : SUB EDI,0x4
009bd4fd : ADD ESI,0x4
009bd500 : MOV dword ptr [EBP + -0x10],EAX
009bd503 : JZ 0x009bd53c
009bd505 : CMP EDI,0x4
009bd508 : JC 0x009bd53c
009bd50a : MOV ECX,dword ptr [ESI]
009bd50c : SUB EDI,0x4
009bd50f : ADD ESI,0x4
009bd512 : MOV dword ptr [EBP + -0xc],ECX
009bd515 : JZ 0x009bd53c
009bd517 : CMP EDI,0x1
009bd51a : JC 0x009bd53c
009bd51c : MOV DL,byte ptr [ESI]
009bd51e : DEC EDI
009bd51f : ADD ESI,0x1
009bd522 : MOV byte ptr [EBP + -0x8],DL
009bd525 : JZ 0x009bd53c
009bd527 : CMP EDI,0x8
009bd52a : JC 0x009bd53c
009bd52c : MOV EAX,dword ptr [ESI + 0x4]
009bd52f : MOV EBX,dword ptr [ESI]
009bd531 : SUB EDI,0x8
009bd534 : MOV dword ptr [EBP + -0x14],EAX
009bd537 : ADD ESI,0x8
009bd53a : JMP 0x009bd540
009bd53c : XOR EDI,EDI
009bd53e : XOR ESI,ESI
009bd540 : MOV ECX,dword ptr [EBP + -0x14]
009bd543 : MOV EDX,dword ptr [EBP + -0x8]
009bd546 : MOV EAX,dword ptr [EBP + -0xc]
009bd549 : PUSH ECX
009bd54a : MOV ECX,dword ptr [0x00d7c550]
009bd550 : PUSH EBX
009bd551 : PUSH EDX
009bd552 : PUSH EAX
009bd553 : PUSH ECX
009bd554 : MOV ECX,dword ptr [EBP + -0x10]
009bd557 : CALL 0x00a4b010
009bd55c : MOV EDX,dword ptr [EBP + 0x8]
009bd55f : MOV EAX,dword ptr [EBP + -0x4]
009bd562 : MOVZX ECX,byte ptr [EDX + 0x4]
009bd566 : INC EAX
009bd567 : CMP EAX,ECX
009bd569 : MOV dword ptr [EBP + -0x4],EAX
009bd56c : JL 0x009bd4ef
009bd56e : POP EDI
009bd56f : POP ESI
009bd570 : POP EBX
009bd571 : MOV ESP,EBP
009bd573 : POP EBP
009bd574 : RET 0x4
