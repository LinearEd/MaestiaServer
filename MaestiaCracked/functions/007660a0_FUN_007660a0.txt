PROGRAM  : Maestia.exe
FUNCTION : FUN_007660a0
ENTRY    : 007660a0
BODY     : [[007660a0, 00766212]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007660a0(undefined4 param_1,undefined4 param_2,undefined4 param_3,uint param_4,
                 undefined4 param_5,int param_6,undefined4 param_7)

{
  int *piVar1;
  int in_EAX;
  int iVar2;
  int in_ECX;
  int unaff_ESI;
  
  if (((in_ECX != 0) && (3 < param_4)) && (2 < param_6)) {
    DAT_00da9af8 = DAT_00da9af8 + 1;
    piVar1 = *(int **)(DAT_017251ac + 0x18);
    *(undefined4 *)(unaff_ESI + 0x14) = param_3;
    *(undefined4 *)(unaff_ESI + 8) = param_1;
    *(int *)(unaff_ESI + 0x10) = in_EAX;
    *(undefined4 *)(unaff_ESI + 0xc) = param_2;
    *(int *)(unaff_ESI + 4) = in_ECX;
    if (in_EAX != *(int *)(unaff_ESI + 0x24)) {
      (**(code **)(*piVar1 + 0x10c))(piVar1,0,1);
    }
    if (*(int *)(unaff_ESI + 0x14) != *(int *)(unaff_ESI + 0x28)) {
      (**(code **)(*piVar1 + 0x10c))(piVar1,0,4,*(int *)(unaff_ESI + 0x14));
    }
    if (*(int *)(unaff_ESI + 8) != *(int *)(unaff_ESI + 0x1c)) {
      (**(code **)(*piVar1 + 0xe4))(piVar1,0x13,*(int *)(unaff_ESI + 8));
    }
    iVar2 = *(int *)(unaff_ESI + 0xc);
    if (iVar2 != *(int *)(unaff_ESI + 0x20)) {
      if ((((iVar2 == 7) || (iVar2 == 8)) &&
          ((*(char *)(DAT_017251ac + 4) != '\0' &&
           ((*(char *)(DAT_017251ac + 0x324) != '\0' && (*(int *)(DAT_017251ac + 0x1a4) != 0))))))
         && (*(char *)(*(int *)(DAT_017251ac + 0x1a4) + 0xa0) != '\0')) {
        *(undefined4 *)(unaff_ESI + 0xc) = 2;
      }
      (**(code **)(*piVar1 + 0xe4))(piVar1,0x14,*(undefined4 *)(unaff_ESI + 0xc));
    }
    if (*(int *)(unaff_ESI + 4) != *(int *)(unaff_ESI + 0x18)) {
      (**(code **)(*piVar1 + 0x104))(piVar1,0,*(int *)(unaff_ESI + 4));
    }
    *(undefined4 *)(unaff_ESI + 0x18) = *(undefined4 *)(unaff_ESI + 4);
    FUN_00765d40(param_5);
    FUN_00765e90(param_6,param_7);
    iVar2 = (**(code **)(*piVar1 + 0x1a0))(piVar1,*(undefined4 *)(unaff_ESI + 0x30));
    if (-1 < iVar2) {
      iVar2 = (**(code **)(*piVar1 + 400))(piVar1,0,*(undefined4 *)(unaff_ESI + 0x34),0,0x18);
      if (-1 < iVar2) {
        (**(code **)(*piVar1 + 0x148))(piVar1,4,0,0,*(undefined4 *)(unaff_ESI + 0x38),0,param_6 / 3)
        ;
      }
    }
    *(undefined4 *)(unaff_ESI + 0x38) = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007660a0 : PUSH EBP
007660a1 : MOV EBP,ESP
007660a3 : PUSH EDI
007660a4 : MOV EDI,dword ptr [EBP + 0x14]
007660a7 : TEST ECX,ECX
007660a9 : JZ 0x0076620e
007660af : CMP EDI,0x4
007660b2 : JC 0x0076620e
007660b8 : CMP dword ptr [EBP + 0x1c],0x3
007660bc : JL 0x0076620e
007660c2 : MOV EDX,dword ptr [0x017251ac]
007660c8 : INC dword ptr [0x00da9af8]
007660ce : PUSH EBX
007660cf : MOV EBX,dword ptr [EDX + 0x18]
007660d2 : MOV EDX,dword ptr [EBP + 0x10]
007660d5 : MOV dword ptr [ESI + 0x14],EDX
007660d8 : MOV EDX,dword ptr [EBP + 0x8]
007660db : MOV dword ptr [ESI + 0x8],EDX
007660de : MOV EDX,dword ptr [EBP + 0xc]
007660e1 : MOV dword ptr [ESI + 0x10],EAX
007660e4 : MOV dword ptr [ESI + 0xc],EDX
007660e7 : MOV dword ptr [ESI + 0x4],ECX
007660ea : CMP EAX,dword ptr [ESI + 0x24]
007660ed : JZ 0x007660ff
007660ef : MOV ECX,dword ptr [EBX]
007660f1 : MOV EDX,dword ptr [ECX + 0x10c]
007660f7 : PUSH EAX
007660f8 : PUSH 0x1
007660fa : PUSH 0x0
007660fc : PUSH EBX
007660fd : CALL EDX
007660ff : MOV EAX,dword ptr [ESI + 0x14]
00766102 : CMP EAX,dword ptr [ESI + 0x28]
00766105 : JZ 0x00766117
00766107 : MOV ECX,dword ptr [EBX]
00766109 : MOV EDX,dword ptr [ECX + 0x10c]
0076610f : PUSH EAX
00766110 : PUSH 0x4
00766112 : PUSH 0x0
00766114 : PUSH EBX
00766115 : CALL EDX
00766117 : MOV EAX,dword ptr [ESI + 0x8]
0076611a : CMP EAX,dword ptr [ESI + 0x1c]
0076611d : JZ 0x0076612d
0076611f : MOV ECX,dword ptr [EBX]
00766121 : MOV EDX,dword ptr [ECX + 0xe4]
00766127 : PUSH EAX
00766128 : PUSH 0x13
0076612a : PUSH EBX
0076612b : CALL EDX
0076612d : MOV EAX,dword ptr [ESI + 0xc]
00766130 : CMP EAX,dword ptr [ESI + 0x20]
00766133 : JZ 0x0076617e
00766135 : CMP EAX,0x7
00766138 : JZ 0x0076613f
0076613a : CMP EAX,0x8
0076613d : JNZ 0x0076616d
0076613f : MOV EAX,[0x017251ac]
00766144 : CMP byte ptr [EAX + 0x4],0x0
00766148 : JZ 0x0076616d
0076614a : CMP byte ptr [EAX + 0x324],0x0
00766151 : JZ 0x0076616d
00766153 : MOV EAX,dword ptr [EAX + 0x1a4]
00766159 : TEST EAX,EAX
0076615b : JZ 0x0076616d
0076615d : CMP byte ptr [EAX + 0xa0],0x0
00766164 : JZ 0x0076616d
00766166 : MOV dword ptr [ESI + 0xc],0x2
0076616d : MOV ECX,dword ptr [ESI + 0xc]
00766170 : MOV EAX,dword ptr [EBX]
00766172 : MOV EDX,dword ptr [EAX + 0xe4]
00766178 : PUSH ECX
00766179 : PUSH 0x14
0076617b : PUSH EBX
0076617c : CALL EDX
0076617e : MOV EAX,dword ptr [ESI + 0x4]
00766181 : CMP EAX,dword ptr [ESI + 0x18]
00766184 : JZ 0x00766194
00766186 : MOV ECX,dword ptr [EBX]
00766188 : MOV EDX,dword ptr [ECX + 0x104]
0076618e : PUSH EAX
0076618f : PUSH 0x0
00766191 : PUSH EBX
00766192 : CALL EDX
00766194 : MOV ECX,dword ptr [EBP + 0x18]
00766197 : MOV EAX,dword ptr [ESI + 0x4]
0076619a : PUSH ECX
0076619b : MOV ECX,ESI
0076619d : MOV dword ptr [ESI + 0x18],EAX
007661a0 : CALL 0x00765d40
007661a5 : MOV EDX,dword ptr [EBP + 0x20]
007661a8 : MOV EDI,dword ptr [EBP + 0x1c]
007661ab : PUSH EDX
007661ac : PUSH EDI
007661ad : MOV ECX,ESI
007661af : CALL 0x00765e90
007661b4 : MOV ECX,dword ptr [ESI + 0x30]
007661b7 : MOV EAX,dword ptr [EBX]
007661b9 : MOV EDX,dword ptr [EAX + 0x1a0]
007661bf : PUSH ECX
007661c0 : PUSH EBX
007661c1 : CALL EDX
007661c3 : TEST EAX,EAX
007661c5 : JL 0x00766206
007661c7 : MOV ECX,dword ptr [ESI + 0x34]
007661ca : MOV EAX,dword ptr [EBX]
007661cc : MOV EDX,dword ptr [EAX + 0x190]
007661d2 : PUSH 0x18
007661d4 : PUSH 0x0
007661d6 : PUSH ECX
007661d7 : PUSH 0x0
007661d9 : PUSH EBX
007661da : CALL EDX
007661dc : TEST EAX,EAX
007661de : JL 0x00766206
007661e0 : MOV ECX,dword ptr [EBX]
007661e2 : MOV EAX,0x55555556
007661e7 : IMUL EDI
007661e9 : MOV EAX,EDX
007661eb : SHR EAX,0x1f
007661ee : ADD EAX,EDX
007661f0 : MOV EDX,dword ptr [ESI + 0x38]
007661f3 : PUSH EAX
007661f4 : MOV EAX,dword ptr [ECX + 0x148]
007661fa : PUSH 0x0
007661fc : PUSH EDX
007661fd : PUSH 0x0
007661ff : PUSH 0x0
00766201 : PUSH 0x4
00766203 : PUSH EBX
00766204 : CALL EAX
00766206 : MOV dword ptr [ESI + 0x38],0x0
0076620d : POP EBX
0076620e : POP EDI
0076620f : POP EBP
00766210 : RET 0x1c
