PROGRAM  : Maestia.exe
FUNCTION : FUN_00689ba0
ENTRY    : 00689ba0
BODY     : [[00689ba0, 00689bfe]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00689ba0(int param_1,int param_2)

{
  int iVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  
  if (param_1 == 0) {
    return 0x21;
  }
  if (param_2 != 0) {
    piVar3 = (int *)(param_1 + 0x1c);
    piVar2 = piVar3 + *(int *)(param_1 + 0x18);
    for (; piVar3 < piVar2; piVar3 = piVar3 + 1) {
      if (*piVar3 == param_2) {
        piVar2 = piVar2 + -1;
        *(int *)(param_1 + 0x18) = *(int *)(param_1 + 0x18) + -1;
        if (piVar3 < piVar2) {
          piVar4 = piVar3;
          for (iVar1 = ((uint)((int)piVar2 + (-1 - (int)piVar3)) >> 2) + 1; piVar3 = piVar3 + 1,
              iVar1 != 0; iVar1 = iVar1 + -1) {
            *piVar4 = *piVar3;
            piVar4 = piVar4 + 1;
          }
        }
        *piVar2 = 0;
        FUN_00689b30();
        return 0;
      }
    }
  }
  return 0x22;
}



============================================================
DISASSEMBLY
============================================================
00689ba0 : MOV ECX,dword ptr [ESP + 0x4]
00689ba4 : TEST ECX,ECX
00689ba6 : JNZ 0x00689bac
00689ba8 : LEA EAX,[ECX + 0x21]
00689bab : RET
00689bac : MOV EAX,dword ptr [ESP + 0x8]
00689bb0 : PUSH ESI
00689bb1 : PUSH EDI
00689bb2 : TEST EAX,EAX
00689bb4 : JZ 0x00689bce
00689bb6 : MOV ESI,dword ptr [ECX + 0x18]
00689bb9 : LEA EDI,[ECX + 0x1c]
00689bbc : LEA EDX,[EDI + ESI*0x4]
00689bbf : CMP EDI,EDX
00689bc1 : JNC 0x00689bce
00689bc3 : CMP dword ptr [EDI],EAX
00689bc5 : JZ 0x00689bd6
00689bc7 : ADD EDI,0x4
00689bca : CMP EDI,EDX
00689bcc : JC 0x00689bc3
00689bce : POP EDI
00689bcf : MOV EAX,0x22
00689bd4 : POP ESI
00689bd5 : RET
00689bd6 : DEC ESI
00689bd7 : SUB EDX,0x4
00689bda : MOV dword ptr [ECX + 0x18],ESI
00689bdd : CMP EDI,EDX
00689bdf : JNC 0x00689bef
00689be1 : MOV ECX,EDX
00689be3 : SUB ECX,EDI
00689be5 : DEC ECX
00689be6 : SHR ECX,0x2
00689be9 : LEA ESI,[EDI + 0x4]
00689bec : INC ECX
00689bed : MOVSD.REP ES:EDI,ESI
00689bef : MOV dword ptr [EDX],0x0
00689bf5 : CALL 0x00689b30
00689bfa : POP EDI
00689bfb : XOR EAX,EAX
00689bfd : POP ESI
00689bfe : RET
