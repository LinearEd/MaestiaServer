PROGRAM  : Maestia.exe
FUNCTION : FUN_00a997e0
ENTRY    : 00a997e0
BODY     : [[00a997e0, 00a99851]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_00a997e0(ushort param_1)

{
  short unaff_DI;
  int local_10;
  int local_c;
  undefined1 local_8 [4];
  
  if (DAT_017247b4 != 0) {
    local_10 = -(uint)(*(int *)(DAT_017247b4 + 0x28) != 0);
    while (local_10 != 0) {
      local_c = 0;
      FUN_00404160(&local_10,local_8,&local_c);
      if ((unaff_DI == *(short *)(local_c + 0x17a)) &&
         (param_1 + 2 == (uint)*(ushort *)(local_c + 0x17c))) {
        return (uint)*(ushort *)(local_c + 0x178);
      }
    }
  }
  return 0xffffffff;
}



============================================================
DISASSEMBLY
============================================================
00a997e0 : PUSH EBP
00a997e1 : MOV EBP,ESP
00a997e3 : SUB ESP,0xc
00a997e6 : PUSH ESI
00a997e7 : MOV ESI,dword ptr [0x017247b4]
00a997ed : TEST ESI,ESI
00a997ef : JZ 0x00a9983e
00a997f1 : MOV EAX,dword ptr [ESI + 0x28]
00a997f4 : NEG EAX
00a997f6 : SBB EAX,EAX
00a997f8 : MOV dword ptr [EBP + -0xc],EAX
00a997fb : JZ 0x00a9983e
00a997fd : LEA ECX,[ECX]
00a99800 : LEA EAX,[EBP + -0x8]
00a99803 : PUSH EAX
00a99804 : LEA ECX,[EBP + -0x4]
00a99807 : PUSH ECX
00a99808 : LEA EDX,[EBP + -0xc]
00a9980b : PUSH EDX
00a9980c : MOV EAX,ESI
00a9980e : MOV dword ptr [EBP + -0x8],0x0
00a99815 : CALL 0x00404160
00a9981a : MOV EAX,dword ptr [EBP + -0x8]
00a9981d : CMP DI,word ptr [EAX + 0x17a]
00a99824 : JNZ 0x00a99838
00a99826 : MOVZX EDX,word ptr [EBP + 0x8]
00a9982a : MOVZX ECX,word ptr [EAX + 0x17c]
00a99831 : ADD EDX,0x2
00a99834 : CMP EDX,ECX
00a99836 : JZ 0x00a99846
00a99838 : CMP dword ptr [EBP + -0xc],0x0
00a9983c : JNZ 0x00a99800
00a9983e : OR EAX,0xffffffff
00a99841 : POP ESI
00a99842 : MOV ESP,EBP
00a99844 : POP EBP
00a99845 : RET
00a99846 : MOVZX EAX,word ptr [EAX + 0x178]
00a9984d : POP ESI
00a9984e : MOV ESP,EBP
00a99850 : POP EBP
00a99851 : RET
