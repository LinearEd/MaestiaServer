PROGRAM  : Maestia.exe
FUNCTION : FUN_006b4270
ENTRY    : 006b4270
BODY     : [[006b4270, 006b42f3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006b4270(int param_1,int param_2,ushort param_3,undefined4 param_4)

{
  int *piVar1;
  int iVar2;
  byte *pbVar3;
  
  if (*(short *)(param_1 + 0x12a) != 0) {
    piVar1 = (int *)(*(int *)(param_2 + 0x10) + (uint)param_3 * 8);
    iVar2 = FUN_00685d60(param_4,(int)*(short *)(param_1 + 0x12a) << 0x10,
                         *(undefined4 *)(param_1 + 0x234));
    *piVar1 = *piVar1 + iVar2;
    pbVar3 = (byte *)((uint)param_3 + *(int *)(param_2 + 0x18));
    *pbVar3 = *pbVar3 | 8;
  }
  if (*(short *)(param_1 + 300) != 0) {
    piVar1 = (int *)(*(int *)(param_2 + 0x10) + 4 + (uint)param_3 * 8);
    iVar2 = FUN_00685d60(param_4,(int)*(short *)(param_1 + 300) << 0x10,
                         *(undefined4 *)(param_1 + 0x234));
    *piVar1 = *piVar1 + iVar2;
    pbVar3 = (byte *)(*(int *)(param_2 + 0x18) + (uint)param_3);
    *pbVar3 = *pbVar3 | 0x10;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006b4270 : PUSH EBX
006b4271 : PUSH EBP
006b4272 : PUSH ESI
006b4273 : MOV ESI,dword ptr [ESP + 0x14]
006b4277 : PUSH EDI
006b4278 : MOV EDI,dword ptr [ESP + 0x14]
006b427c : MOVSX EAX,word ptr [EDI + 0x12a]
006b4283 : TEST EAX,EAX
006b4285 : JZ 0x006b42b5
006b4287 : MOV EDX,dword ptr [EDI + 0x234]
006b428d : MOVZX EBX,word ptr [ESP + 0x1c]
006b4292 : MOV ECX,dword ptr [ESI + 0x10]
006b4295 : PUSH EDX
006b4296 : SHL EAX,0x10
006b4299 : PUSH EAX
006b429a : MOV EAX,dword ptr [ESP + 0x28]
006b429e : PUSH EAX
006b429f : LEA EBP,[ECX + EBX*0x8]
006b42a2 : CALL 0x00685d60
006b42a7 : ADD dword ptr [EBP],EAX
006b42aa : MOV ECX,dword ptr [ESI + 0x18]
006b42ad : ADD EBX,ECX
006b42af : ADD ESP,0xc
006b42b2 : OR byte ptr [EBX],0x8
006b42b5 : MOVSX EAX,word ptr [EDI + 0x12c]
006b42bc : TEST EAX,EAX
006b42be : JZ 0x006b42ef
006b42c0 : MOVZX EBX,word ptr [ESP + 0x1c]
006b42c5 : MOV EDX,dword ptr [ESI + 0x10]
006b42c8 : MOV ECX,dword ptr [EDI + 0x234]
006b42ce : PUSH ECX
006b42cf : SHL EAX,0x10
006b42d2 : LEA EBP,[EDX + EBX*0x8 + 0x4]
006b42d6 : MOV EDX,dword ptr [ESP + 0x24]
006b42da : PUSH EAX
006b42db : PUSH EDX
006b42dc : CALL 0x00685d60
006b42e1 : ADD dword ptr [EBP],EAX
006b42e4 : MOV EAX,dword ptr [ESI + 0x18]
006b42e7 : ADD EAX,EBX
006b42e9 : ADD ESP,0xc
006b42ec : OR byte ptr [EAX],0x10
006b42ef : POP EDI
006b42f0 : POP ESI
006b42f1 : POP EBP
006b42f2 : POP EBX
006b42f3 : RET
