PROGRAM  : Maestia.exe
FUNCTION : FUN_0052f680
ENTRY    : 0052f680
BODY     : [[0052f680, 0052f6dd]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_0052f680(undefined4 *param_1,int *param_2)

{
  int *piVar1;
  int iVar2;
  int *in_ECX;
  
  piVar1 = param_2;
  if (*(int *)(*param_2 + 4) == 0) {
    FUN_00525a80();
  }
  if (*in_ECX != 0) {
    iVar2 = FUN_0052b0e0(&param_2,*(uint *)(*piVar1 + 0xc) & *(uint *)(*in_ECX + 4));
    if (-1 < iVar2) {
      *param_1 = in_ECX;
      param_1[1] = iVar2;
      return param_1;
    }
  }
  *param_1 = 0;
  param_1[1] = 0;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
0052f680 : PUSH ESI
0052f681 : PUSH EDI
0052f682 : MOV EDI,dword ptr [ESP + 0x10]
0052f686 : MOV ESI,ECX
0052f688 : MOV ECX,dword ptr [EDI]
0052f68a : CMP dword ptr [ECX + 0x4],0x0
0052f68e : MOV dword ptr [ESP + 0x10],EDI
0052f692 : JNZ 0x0052f699
0052f694 : CALL 0x00525a80
0052f699 : MOV ECX,dword ptr [ESI]
0052f69b : TEST ECX,ECX
0052f69d : JZ 0x0052f6c8
0052f69f : MOV EAX,dword ptr [EDI]
0052f6a1 : MOV EAX,dword ptr [EAX + 0xc]
0052f6a4 : AND EAX,dword ptr [ECX + 0x4]
0052f6a7 : LEA ECX,[ESP + 0x10]
0052f6ab : PUSH EAX
0052f6ac : PUSH ECX
0052f6ad : MOV ECX,ESI
0052f6af : CALL 0x0052b0e0
0052f6b4 : TEST EAX,EAX
0052f6b6 : JL 0x0052f6c8
0052f6b8 : MOV ECX,dword ptr [ESP + 0xc]
0052f6bc : POP EDI
0052f6bd : MOV dword ptr [ECX],ESI
0052f6bf : MOV dword ptr [ECX + 0x4],EAX
0052f6c2 : MOV EAX,ECX
0052f6c4 : POP ESI
0052f6c5 : RET 0x8
0052f6c8 : MOV EAX,dword ptr [ESP + 0xc]
0052f6cc : POP EDI
0052f6cd : MOV dword ptr [EAX],0x0
0052f6d3 : MOV dword ptr [EAX + 0x4],0x0
0052f6da : POP ESI
0052f6db : RET 0x8
