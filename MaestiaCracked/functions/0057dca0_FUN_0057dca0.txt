PROGRAM  : Maestia.exe
FUNCTION : FUN_0057dca0
ENTRY    : 0057dca0
BODY     : [[0057dca0, 0057ddde]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0057dca0(undefined4 param_1,undefined4 *param_2,uint param_3)

{
  uint *puVar1;
  int iVar2;
  int *piVar3;
  uint *puVar4;
  int *in_ECX;
  uint uVar5;
  uint uVar6;
  int iVar7;
  
  piVar3 = (int *)*in_ECX;
  if (piVar3 == (int *)0x0) {
    iVar7 = 8;
  }
  else {
    if ((uint)(*piVar3 * 5) <= piVar3[1] * 4 + 4U) goto LAB_0057dcdb;
    iVar7 = piVar3[1] * 2 + 2;
  }
  FUN_0057d470(param_1,iVar7);
LAB_0057dcdb:
  piVar3 = (int *)*in_ECX;
  param_3 = param_3 & piVar3[1];
  *piVar3 = *piVar3 + 1;
  iVar7 = *in_ECX;
  puVar1 = (uint *)(iVar7 + 8 + param_3 * 0x14);
  if (*puVar1 == 0xfffffffe) {
    *puVar1 = 0xffffffff;
    puVar4 = (uint *)*param_2;
    puVar1[1] = *puVar4;
    FUN_0051c2c0(puVar4 + 1);
    puVar1[3] = puVar4[2];
    puVar1[4] = *(uint *)param_2[1];
    return;
  }
  uVar6 = param_3;
  do {
    uVar6 = uVar6 + 1 & *(uint *)(iVar7 + 4);
  } while (*(int *)(iVar7 + 8 + uVar6 * 0x14) != -2);
  uVar5 = puVar1[3] & *(uint *)(iVar7 + 4);
  iVar2 = iVar7 + 8 + uVar6 * 0x14;
  if (uVar5 != param_3) {
    puVar4 = (uint *)(iVar7 + 8 + uVar5 * 0x14);
    for (uVar5 = *(uint *)(iVar7 + 8 + uVar5 * 0x14); uVar5 != param_3;
        uVar5 = *(uint *)(iVar7 + 8 + uVar5 * 0x14)) {
      uVar5 = *puVar4;
      puVar4 = (uint *)(iVar7 + 8 + uVar5 * 0x14);
    }
    if (iVar2 != 0) {
      FUN_0057ceb0(puVar1);
    }
    *puVar4 = uVar6;
    puVar4 = (uint *)*param_2;
    puVar1[1] = *puVar4;
    FUN_0051bc20(puVar4 + 1);
    puVar1[3] = puVar4[2];
    puVar1[4] = *(uint *)param_2[1];
    *puVar1 = 0xffffffff;
    return;
  }
  if (iVar2 != 0) {
    FUN_0057ceb0(puVar1);
  }
  puVar4 = (uint *)*param_2;
  puVar1[1] = *puVar4;
  FUN_0051bc20(puVar4 + 1);
  puVar1[3] = puVar4[2];
  puVar1[4] = *(uint *)param_2[1];
  *puVar1 = uVar6;
  return;
}



============================================================
DISASSEMBLY
============================================================
0057dca0 : PUSH EBX
0057dca1 : PUSH ESI
0057dca2 : MOV ESI,ECX
0057dca4 : MOV EAX,dword ptr [ESI]
0057dca6 : PUSH EDI
0057dca7 : TEST EAX,EAX
0057dca9 : JNZ 0x0057dcb4
0057dcab : MOV EAX,dword ptr [ESP + 0x10]
0057dcaf : PUSH 0x8
0057dcb1 : PUSH EAX
0057dcb2 : JMP 0x0057dcd6
0057dcb4 : MOV ECX,dword ptr [EAX + 0x4]
0057dcb7 : LEA EDX,[ECX*0x4 + 0x4]
0057dcbe : MOV ECX,dword ptr [EAX]
0057dcc0 : LEA ECX,[ECX + ECX*0x4]
0057dcc3 : CMP ECX,EDX
0057dcc5 : JBE 0x0057dcdb
0057dcc7 : MOV EDX,dword ptr [EAX + 0x4]
0057dcca : MOV ECX,dword ptr [ESP + 0x10]
0057dcce : LEA EAX,[EDX + EDX*0x1 + 0x2]
0057dcd2 : PUSH EAX
0057dcd3 : PUSH ECX
0057dcd4 : MOV ECX,ESI
0057dcd6 : CALL 0x0057d470
0057dcdb : MOV ECX,dword ptr [ESI]
0057dcdd : MOV EAX,dword ptr [ESP + 0x18]
0057dce1 : AND EAX,dword ptr [ECX + 0x4]
0057dce4 : INC dword ptr [ECX]
0057dce6 : MOV EDX,dword ptr [ESI]
0057dce8 : LEA ECX,[EAX + EAX*0x4]
0057dceb : LEA ESI,[EDX + ECX*0x4 + 0x8]
0057dcef : MOV ECX,0xfffffffe
0057dcf4 : CMP dword ptr [ESI],ECX
0057dcf6 : JNZ 0x0057dd29
0057dcf8 : MOV EBX,dword ptr [ESP + 0x14]
0057dcfc : MOV dword ptr [ESI],0xffffffff
0057dd02 : MOV EDI,dword ptr [EBX]
0057dd04 : MOV EDX,dword ptr [EDI]
0057dd06 : LEA EAX,[EDI + 0x4]
0057dd09 : PUSH EAX
0057dd0a : LEA ECX,[ESI + 0x8]
0057dd0d : MOV dword ptr [ESI + 0x4],EDX
0057dd10 : CALL 0x0051c2c0
0057dd15 : MOV ECX,dword ptr [EDI + 0x8]
0057dd18 : MOV dword ptr [ESI + 0xc],ECX
0057dd1b : MOV EDX,dword ptr [EBX + 0x4]
0057dd1e : MOV EAX,dword ptr [EDX]
0057dd20 : POP EDI
0057dd21 : MOV dword ptr [ESI + 0x10],EAX
0057dd24 : POP ESI
0057dd25 : POP EBX
0057dd26 : RET 0xc
0057dd29 : PUSH EBP
0057dd2a : MOV EBP,dword ptr [EDX + 0x4]
0057dd2d : MOV EDI,EAX
0057dd2f : NOP
0057dd30 : INC EDI
0057dd31 : AND EDI,EBP
0057dd33 : LEA EBX,[EDI + EDI*0x4]
0057dd36 : CMP dword ptr [EDX + EBX*0x4 + 0x8],ECX
0057dd3a : JNZ 0x0057dd30
0057dd3c : MOV EBX,dword ptr [ESI + 0xc]
0057dd3f : AND EBX,EBP
0057dd41 : LEA ECX,[EDI + EDI*0x4]
0057dd44 : LEA ECX,[EDX + ECX*0x4 + 0x8]
0057dd48 : CMP EBX,EAX
0057dd4a : JNZ 0x0057dd85
0057dd4c : TEST ECX,ECX
0057dd4e : JZ 0x0057dd56
0057dd50 : PUSH ESI
0057dd51 : CALL 0x0057ceb0
0057dd56 : MOV EBP,dword ptr [ESP + 0x18]
0057dd5a : MOV EBX,dword ptr [EBP]
0057dd5d : MOV EDX,dword ptr [EBX]
0057dd5f : LEA EAX,[EBX + 0x4]
0057dd62 : PUSH EAX
0057dd63 : LEA ECX,[ESI + 0x8]
0057dd66 : MOV dword ptr [ESI + 0x4],EDX
0057dd69 : CALL 0x0051bc20
0057dd6e : MOV ECX,dword ptr [EBX + 0x8]
0057dd71 : MOV dword ptr [ESI + 0xc],ECX
0057dd74 : MOV EDX,dword ptr [EBP + 0x4]
0057dd77 : MOV EAX,dword ptr [EDX]
0057dd79 : POP EBP
0057dd7a : MOV dword ptr [ESI + 0x10],EAX
0057dd7d : MOV dword ptr [ESI],EDI
0057dd7f : POP EDI
0057dd80 : POP ESI
0057dd81 : POP EBX
0057dd82 : RET 0xc
0057dd85 : LEA EBX,[EBX + EBX*0x4]
0057dd88 : CMP dword ptr [EDX + EBX*0x4 + 0x8],EAX
0057dd8c : LEA EBX,[EDX + EBX*0x4 + 0x8]
0057dd90 : JZ 0x0057dda1
0057dd92 : MOV EBX,dword ptr [EBX]
0057dd94 : LEA EBX,[EBX + EBX*0x4]
0057dd97 : CMP dword ptr [EDX + EBX*0x4 + 0x8],EAX
0057dd9b : LEA EBX,[EDX + EBX*0x4 + 0x8]
0057dd9f : JNZ 0x0057dd92
0057dda1 : TEST ECX,ECX
0057dda3 : JZ 0x0057ddab
0057dda5 : PUSH ESI
0057dda6 : CALL 0x0057ceb0
0057ddab : MOV dword ptr [EBX],EDI
0057ddad : MOV EBX,dword ptr [ESP + 0x18]
0057ddb1 : MOV EDI,dword ptr [EBX]
0057ddb3 : MOV ECX,dword ptr [EDI]
0057ddb5 : LEA EDX,[EDI + 0x4]
0057ddb8 : MOV dword ptr [ESI + 0x4],ECX
0057ddbb : PUSH EDX
0057ddbc : LEA ECX,[ESI + 0x8]
0057ddbf : CALL 0x0051bc20
0057ddc4 : MOV EAX,dword ptr [EDI + 0x8]
0057ddc7 : MOV dword ptr [ESI + 0xc],EAX
0057ddca : MOV ECX,dword ptr [EBX + 0x4]
0057ddcd : MOV EDX,dword ptr [ECX]
0057ddcf : POP EBP
0057ddd0 : MOV dword ptr [ESI + 0x10],EDX
0057ddd3 : POP EDI
0057ddd4 : MOV dword ptr [ESI],0xffffffff
0057ddda : POP ESI
0057dddb : POP EBX
0057dddc : RET 0xc
