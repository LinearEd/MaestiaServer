PROGRAM  : Maestia.exe
FUNCTION : FUN_008d2ed0
ENTRY    : 008d2ed0
BODY     : [[008d2ed0, 008d3318]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_008d2ed0(void)

{
  undefined4 uVar1;
  int iVar2;
  char cVar3;
  int iVar4;
  DWORD DVar5;
  int iVar6;
  int unaff_EDI;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  uVar1 = *(undefined4 *)(unaff_EDI + 0xf0);
  iVar4 = FUN_00a1a840(uVar1);
  if ((((iVar4 != 0) || (iVar4 = FUN_00a1a6d0(uVar1), iVar4 != 0)) ||
      (iVar4 = FUN_00a1a780(uVar1), iVar4 != 0)) && (cVar3 = FUN_008896f0(), cVar3 != '\0')) {
    *(undefined1 *)(*(int *)(unaff_EDI + 0xb8) + 2) = 0;
    *(undefined1 *)(*(int *)(unaff_EDI + 0xb8) + 3) = 0;
    if (*(int *)(unaff_EDI + 0xe4) == 0) {
      DVar5 = timeGetTime();
      *(DWORD *)(unaff_EDI + 0xe4) = DVar5;
    }
  }
  cVar3 = FUN_008d0810(unaff_EDI);
  if (cVar3 != '\0') {
    iVar4 = FUN_008d0b90(unaff_EDI);
    if (iVar4 == *(int *)(unaff_EDI + 0xf0)) {
      if ((iVar4 != -1) && (*(int *)(DAT_00da93ec + 0x24c) == -1)) {
        FUN_00a364b0(*(int *)(unaff_EDI + 0xf0),0);
        FUN_00a0d390(DAT_017247d4,5);
      }
    }
    else if (iVar4 != -1) {
      *(int *)(unaff_EDI + 0xf0) = iVar4;
      FUN_00a364b0(iVar4,0);
      FUN_00a0d390(DAT_017247d4,5);
      FUN_008018d0(L"[AutoGameLOG] Setting targets to attack me");
    }
  }
  uVar1 = *(undefined4 *)(unaff_EDI + 0xf0);
  iVar4 = FUN_00a1a840(uVar1);
  if ((iVar4 == 0) && (iVar4 = FUN_00a1a6d0(uVar1), iVar4 == 0)) {
    iVar4 = FUN_00a1a780(uVar1);
  }
  cVar3 = FUN_008d0990(unaff_EDI);
  if ((((cVar3 == '\0') || (iVar4 == 0)) && (cVar3 = FUN_008d0690(unaff_EDI), cVar3 != '\0')) &&
     (iVar6 = FUN_008d0b90(unaff_EDI), iVar6 != -1)) {
    *(int *)(unaff_EDI + 0xf0) = iVar6;
    FUN_00a364b0(iVar6,0);
    FUN_00a0d390(DAT_017247d4,5);
    uVar1 = *(undefined4 *)(unaff_EDI + 0xf0);
    iVar4 = FUN_00a1a840(uVar1);
    if ((iVar4 == 0) && (iVar4 = FUN_00a1a6d0(uVar1), iVar4 == 0)) {
      iVar4 = FUN_00a1a780(uVar1);
    }
  }
  cVar3 = FUN_008d0990(unaff_EDI);
  iVar6 = DAT_00da93ec;
  if ((cVar3 == '\0') || (iVar4 == 0)) {
    *(undefined1 *)(unaff_EDI + 0xf4) = 1;
    if (iVar6 != 0) {
      FUN_00a364b0(0xffffffff,0);
      FUN_00a0d390(DAT_017247d4,0);
      *(undefined4 *)(unaff_EDI + 0xf0) = 0xffffffff;
    }
    *(undefined1 *)(*(int *)(unaff_EDI + 0xb8) + 3) = 0;
    *(undefined1 *)(*(int *)(unaff_EDI + 0xb8) + 2) = 0;
    *(undefined1 *)(unaff_EDI + 0xc9) = 0;
  }
  else {
    cVar3 = FUN_0086dad0();
    if ((cVar3 != '\0') || (*(char *)(iVar4 + 0x3ad) == '\0')) {
      FUN_008d24e0(unaff_EDI);
      *(undefined1 *)(unaff_EDI + 0xf4) = 1;
      return;
    }
    cVar3 = FUN_0086dad0();
    if ((((cVar3 == '\0') && (iVar6 = FUN_00a1a840(*(undefined4 *)(iVar4 + 4)), iVar6 != 0)) &&
        (iVar6 = FUN_004049b0(*(undefined4 *)(DAT_00da93ec + 0x450)), iVar6 != 0)) &&
       ((*(byte *)(iVar6 + 0x40) & 0x20) != 0)) {
      *(undefined1 *)(unaff_EDI + 0xf4) = 1;
      FUN_008d24e0(unaff_EDI);
      *(undefined1 *)(*(int *)(unaff_EDI + 0xb8) + 2) = 0;
      *(undefined1 *)(*(int *)(unaff_EDI + 0xb8) + 3) = 0;
      if (*(int *)(unaff_EDI + 0xe4) == 0) {
        DVar5 = timeGetTime();
        *(DWORD *)(unaff_EDI + 0xe4) = DVar5;
        return;
      }
    }
    else {
      cVar3 = FUN_008896f0();
      if (((cVar3 == '\0') || (**(char **)(unaff_EDI + 0xb8) != '\0')) ||
         (*(char *)(iVar4 + 0x1400) == '\0')) {
        cVar3 = FUN_008896f0();
        if ((cVar3 != '\0') && (*(char *)(iVar4 + 0x1400) == '\0')) {
          FUN_008d24e0(unaff_EDI);
        }
      }
      else {
        FUN_00a0d390(DAT_017247d4,2);
        *(undefined1 *)(unaff_EDI + 0xc9) = 1;
      }
      if (*(char *)(*(int *)(*DAT_00da9894 + 0x16c) + 0x32) == '\0') {
        FUN_008d24e0(unaff_EDI);
      }
      *(undefined1 *)(unaff_EDI + 0xf4) = 0;
      DVar5 = timeGetTime();
      if (5999 < DVar5 - _DAT_017248b0) {
        if (*(int *)(unaff_EDI + 0xfc) == *(int *)(iVar4 + 0xa4)) {
          *(undefined1 *)(*(int *)(unaff_EDI + 0xb8) + 2) = 0;
          *(undefined1 *)(*(int *)(unaff_EDI + 0xb8) + 3) = 0;
          iVar2 = DAT_00da93ec;
          iVar6 = *(int *)(unaff_EDI + 0xb8);
          *(undefined1 *)(unaff_EDI + 0xc9) = 0;
          local_20 = *(undefined4 *)(iVar6 + 0x20);
          local_1c = *(undefined4 *)(iVar6 + 0x24);
          local_18 = *(undefined4 *)(iVar6 + 0x28);
          iVar6 = *(int *)(DAT_0172491c + 0x17c);
          local_14 = *(undefined4 *)(iVar6 + 0x1a4);
          local_10 = *(undefined4 *)(iVar6 + 0x1a8);
          local_c = *(undefined4 *)(iVar6 + 0x1ac);
          FUN_00a2db00(iVar2,&local_20,0,0);
          FUN_008d24e0(unaff_EDI);
        }
        *(undefined4 *)(unaff_EDI + 0xfc) = *(undefined4 *)(iVar4 + 0xa4);
        _DAT_017248b0 = timeGetTime();
        return;
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
008d2ed0 : PUSH EBP
008d2ed1 : MOV EBP,ESP
008d2ed3 : AND ESP,0xfffffff8
008d2ed6 : MOV ECX,dword ptr [0x00da93ec]
008d2edc : SUB ESP,0x20
008d2edf : PUSH EBX
008d2ee0 : PUSH ESI
008d2ee1 : MOV ESI,dword ptr [EDI + 0xf0]
008d2ee7 : PUSH ESI
008d2ee8 : MOV EBX,ECX
008d2eea : CALL 0x00a1a840
008d2eef : TEST EAX,EAX
008d2ef1 : JNZ 0x008d2f0b
008d2ef3 : PUSH ESI
008d2ef4 : MOV ECX,EBX
008d2ef6 : CALL 0x00a1a6d0
008d2efb : TEST EAX,EAX
008d2efd : JNZ 0x008d2f0b
008d2eff : PUSH ESI
008d2f00 : MOV ECX,EBX
008d2f02 : CALL 0x00a1a780
008d2f07 : TEST EAX,EAX
008d2f09 : JZ 0x008d2f3d
008d2f0b : CALL 0x008896f0
008d2f10 : TEST AL,AL
008d2f12 : JZ 0x008d2f3d
008d2f14 : MOV EAX,dword ptr [EDI + 0xb8]
008d2f1a : MOV byte ptr [EAX + 0x2],0x0
008d2f1e : MOV ECX,dword ptr [EDI + 0xb8]
008d2f24 : MOV byte ptr [ECX + 0x3],0x0
008d2f28 : CMP dword ptr [EDI + 0xe4],0x0
008d2f2f : JNZ 0x008d2f3d
008d2f31 : CALL dword ptr [0x00b85598]
008d2f37 : MOV dword ptr [EDI + 0xe4],EAX
008d2f3d : PUSH EDI
008d2f3e : CALL 0x008d0810
008d2f43 : TEST AL,AL
008d2f45 : JZ 0x008d2fcd
008d2f4b : PUSH EDI
008d2f4c : CALL 0x008d0b90
008d2f51 : MOV ECX,dword ptr [EDI + 0xf0]
008d2f57 : CMP EAX,ECX
008d2f59 : JZ 0x008d2f9d
008d2f5b : CMP EAX,-0x1
008d2f5e : JZ 0x008d2fcd
008d2f60 : MOV ECX,dword ptr [0x00da93ec]
008d2f66 : PUSH 0x0
008d2f68 : PUSH EAX
008d2f69 : MOV dword ptr [EDI + 0xf0],EAX
008d2f6f : CALL 0x00a364b0
008d2f74 : MOV EDX,dword ptr [0x017247d4]
008d2f7a : MOV ECX,dword ptr [EDI + 0xf0]
008d2f80 : PUSH 0x5
008d2f82 : PUSH EDX
008d2f83 : CALL 0x00a0d390
008d2f88 : MOV ESI,dword ptr [0x00da98e8]
008d2f8e : PUSH 0xc546e8
008d2f93 : CALL 0x008018d0
008d2f98 : ADD ESP,0x4
008d2f9b : JMP 0x008d2fcd
008d2f9d : CMP EAX,-0x1
008d2fa0 : JZ 0x008d2fcd
008d2fa2 : MOV EAX,[0x00da93ec]
008d2fa7 : CMP dword ptr [EAX + 0x24c],-0x1
008d2fae : JNZ 0x008d2fcd
008d2fb0 : PUSH 0x0
008d2fb2 : PUSH ECX
008d2fb3 : MOV ECX,EAX
008d2fb5 : CALL 0x00a364b0
008d2fba : MOV EAX,[0x017247d4]
008d2fbf : MOV ECX,dword ptr [EDI + 0xf0]
008d2fc5 : PUSH 0x5
008d2fc7 : PUSH EAX
008d2fc8 : CALL 0x00a0d390
008d2fcd : MOV EBX,dword ptr [EDI + 0xf0]
008d2fd3 : MOV ECX,dword ptr [0x00da93ec]
008d2fd9 : PUSH EBX
008d2fda : MOV dword ptr [ESP + 0x10],ECX
008d2fde : CALL 0x00a1a840
008d2fe3 : MOV ESI,EAX
008d2fe5 : TEST ESI,ESI
008d2fe7 : JNZ 0x008d3005
008d2fe9 : MOV ECX,dword ptr [ESP + 0xc]
008d2fed : PUSH EBX
008d2fee : CALL 0x00a1a6d0
008d2ff3 : MOV ESI,EAX
008d2ff5 : TEST ESI,ESI
008d2ff7 : JNZ 0x008d3005
008d2ff9 : MOV ECX,dword ptr [ESP + 0xc]
008d2ffd : PUSH EBX
008d2ffe : CALL 0x00a1a780
008d3003 : MOV ESI,EAX
008d3005 : PUSH EDI
008d3006 : MOV EBX,ESI
008d3008 : CALL 0x008d0990
008d300d : TEST AL,AL
008d300f : JZ 0x008d3015
008d3011 : TEST ESI,ESI
008d3013 : JNZ 0x008d3080
008d3015 : PUSH EDI
008d3016 : CALL 0x008d0690
008d301b : TEST AL,AL
008d301d : JZ 0x008d3080
008d301f : PUSH EDI
008d3020 : CALL 0x008d0b90
008d3025 : CMP EAX,-0x1
008d3028 : JZ 0x008d3080
008d302a : MOV ECX,dword ptr [0x00da93ec]
008d3030 : PUSH 0x0
008d3032 : PUSH EAX
008d3033 : MOV dword ptr [EDI + 0xf0],EAX
008d3039 : CALL 0x00a364b0
008d303e : MOV ECX,dword ptr [0x017247d4]
008d3044 : PUSH 0x5
008d3046 : PUSH ECX
008d3047 : MOV ECX,dword ptr [EDI + 0xf0]
008d304d : CALL 0x00a0d390
008d3052 : MOV ESI,dword ptr [EDI + 0xf0]
008d3058 : MOV ECX,dword ptr [0x00da93ec]
008d305e : PUSH ESI
008d305f : MOV EBX,ECX
008d3061 : CALL 0x00a1a840
008d3066 : TEST EAX,EAX
008d3068 : JNZ 0x008d307e
008d306a : PUSH ESI
008d306b : MOV ECX,EBX
008d306d : CALL 0x00a1a6d0
008d3072 : TEST EAX,EAX
008d3074 : JNZ 0x008d307e
008d3076 : PUSH ESI
008d3077 : MOV ECX,EBX
008d3079 : CALL 0x00a1a780
008d307e : MOV EBX,EAX
008d3080 : PUSH EDI
008d3081 : CALL 0x008d0990
008d3086 : TEST AL,AL
008d3088 : JZ 0x008d32c3
008d308e : TEST EBX,EBX
008d3090 : JZ 0x008d32c3
008d3096 : MOVZX EAX,word ptr [EBX + 0x80]
008d309d : MOVZX ESI,AX
008d30a0 : TEST AX,AX
008d30a3 : JNZ 0x008d30a9
008d30a5 : MOVZX ESI,word ptr [EBX + 0x7c]
008d30a9 : MOV EDX,dword ptr [0x0172491c]
008d30af : MOV ECX,dword ptr [EDX + 0x17c]
008d30b5 : MOV dword ptr [ESP + 0xc],ECX
008d30b9 : CALL 0x0086dad0
008d30be : TEST AL,AL
008d30c0 : JNZ 0x008d32b0
008d30c6 : CMP byte ptr [EBX + 0x3ad],AL
008d30cc : JZ 0x008d32b0
008d30d2 : MOVZX EAX,word ptr [EBX + 0x80]
008d30d9 : MOVZX ESI,AX
008d30dc : TEST AX,AX
008d30df : JNZ 0x008d30e5
008d30e1 : MOVZX ESI,word ptr [EBX + 0x7c]
008d30e5 : MOV ECX,dword ptr [ESP + 0xc]
008d30e9 : CALL 0x0086dad0
008d30ee : TEST AL,AL
008d30f0 : JNZ 0x008d3163
008d30f2 : MOV EAX,dword ptr [EBX + 0x4]
008d30f5 : MOV ECX,dword ptr [0x00da93ec]
008d30fb : PUSH EAX
008d30fc : CALL 0x00a1a840
008d3101 : TEST EAX,EAX
008d3103 : JZ 0x008d3163
008d3105 : MOV EAX,[0x00da93ec]
008d310a : MOV ECX,dword ptr [EAX + 0x450]
008d3110 : PUSH ECX
008d3111 : CALL 0x004049b0
008d3116 : ADD ESP,0x4
008d3119 : TEST EAX,EAX
008d311b : JZ 0x008d3163
008d311d : TEST byte ptr [EAX + 0x40],0x20
008d3121 : JZ 0x008d3163
008d3123 : PUSH EDI
008d3124 : MOV byte ptr [EDI + 0xf4],0x1
008d312b : CALL 0x008d24e0
008d3130 : MOV EDX,dword ptr [EDI + 0xb8]
008d3136 : MOV byte ptr [EDX + 0x2],0x0
008d313a : MOV EAX,dword ptr [EDI + 0xb8]
008d3140 : MOV byte ptr [EAX + 0x3],0x0
008d3144 : CMP dword ptr [EDI + 0xe4],0x0
008d314b : JNZ 0x008d3313
008d3151 : CALL dword ptr [0x00b85598]
008d3157 : MOV dword ptr [EDI + 0xe4],EAX
008d315d : POP ESI
008d315e : POP EBX
008d315f : MOV ESP,EBP
008d3161 : POP EBP
008d3162 : RET
008d3163 : MOV EAX,EBX
008d3165 : CALL 0x008896f0
008d316a : TEST AL,AL
008d316c : JZ 0x008d319f
008d316e : MOV ECX,dword ptr [EDI + 0xb8]
008d3174 : CMP byte ptr [ECX],0x0
008d3177 : JNZ 0x008d319f
008d3179 : CMP byte ptr [EBX + 0x1400],0x0
008d3180 : JZ 0x008d319f
008d3182 : MOV EDX,dword ptr [0x017247d4]
008d3188 : MOV ECX,dword ptr [EDI + 0xf0]
008d318e : PUSH 0x2
008d3190 : PUSH EDX
008d3191 : CALL 0x00a0d390
008d3196 : MOV byte ptr [EDI + 0xc9],0x1
008d319d : JMP 0x008d31b9
008d319f : MOV EAX,EBX
008d31a1 : CALL 0x008896f0
008d31a6 : TEST AL,AL
008d31a8 : JZ 0x008d31b9
008d31aa : CMP byte ptr [EBX + 0x1400],0x0
008d31b1 : JNZ 0x008d31b9
008d31b3 : PUSH EDI
008d31b4 : CALL 0x008d24e0
008d31b9 : MOV EAX,[0x00da9894]
008d31be : MOV ECX,dword ptr [EAX]
008d31c0 : MOV EDX,dword ptr [ECX + 0x16c]
008d31c6 : CMP byte ptr [EDX + 0x32],0x0
008d31ca : JNZ 0x008d31d2
008d31cc : PUSH EDI
008d31cd : CALL 0x008d24e0
008d31d2 : MOV ESI,dword ptr [0x00b85598]
008d31d8 : MOV byte ptr [EDI + 0xf4],0x0
008d31df : CALL ESI
008d31e1 : SUB EAX,dword ptr [0x017248b0]
008d31e7 : CMP EAX,0x1770
008d31ec : JC 0x008d3313
008d31f2 : MOV EAX,dword ptr [EDI + 0xfc]
008d31f8 : CMP EAX,dword ptr [EBX + 0xa4]
008d31fe : JNZ 0x008d3297
008d3204 : MOV ECX,dword ptr [EDI + 0xb8]
008d320a : MOV byte ptr [ECX + 0x2],0x0
008d320e : MOV EDX,dword ptr [EDI + 0xb8]
008d3214 : MOV byte ptr [EDX + 0x3],0x0
008d3218 : MOV EAX,dword ptr [EDI + 0xb8]
008d321e : MOV EDX,dword ptr [0x00da93ec]
008d3224 : ADD EAX,0x20
008d3227 : MOV byte ptr [EDI + 0xc9],0x0
008d322e : MOVSS XMM0,dword ptr [EAX]
008d3232 : MOVSS dword ptr [ESP + 0x10],XMM0
008d3238 : MOVSS XMM0,dword ptr [EAX + 0x4]
008d323d : MOVSS dword ptr [ESP + 0x14],XMM0
008d3243 : MOVSS XMM0,dword ptr [EAX + 0x8]
008d3248 : MOV EAX,[0x0172491c]
008d324d : MOV EAX,dword ptr [EAX + 0x17c]
008d3253 : ADD EAX,0x1a4
008d3258 : MOVSS dword ptr [ESP + 0x18],XMM0
008d325e : MOVSS XMM0,dword ptr [EAX]
008d3262 : PUSH 0x0
008d3264 : MOVSS dword ptr [ESP + 0x20],XMM0
008d326a : MOVSS XMM0,dword ptr [EAX + 0x4]
008d326f : PUSH 0x0
008d3271 : LEA ECX,[ESP + 0x18]
008d3275 : MOVSS dword ptr [ESP + 0x28],XMM0
008d327b : MOVSS XMM0,dword ptr [EAX + 0x8]
008d3280 : PUSH ECX
008d3281 : PUSH EDX
008d3282 : LEA EAX,[ESP + 0x2c]
008d3286 : MOVSS dword ptr [ESP + 0x34],XMM0
008d328c : CALL 0x00a2db00
008d3291 : PUSH EDI
008d3292 : CALL 0x008d24e0
008d3297 : MOV EAX,dword ptr [EBX + 0xa4]
008d329d : MOV dword ptr [EDI + 0xfc],EAX
008d32a3 : CALL ESI
008d32a5 : MOV [0x017248b0],EAX
008d32aa : POP ESI
008d32ab : POP EBX
008d32ac : MOV ESP,EBP
008d32ae : POP EBP
008d32af : RET
008d32b0 : PUSH EDI
008d32b1 : CALL 0x008d24e0
008d32b6 : MOV byte ptr [EDI + 0xf4],0x1
008d32bd : POP ESI
008d32be : POP EBX
008d32bf : MOV ESP,EBP
008d32c1 : POP EBP
008d32c2 : RET
008d32c3 : MOV ECX,dword ptr [0x00da93ec]
008d32c9 : MOV byte ptr [EDI + 0xf4],0x1
008d32d0 : TEST ECX,ECX
008d32d2 : JZ 0x008d32f8
008d32d4 : PUSH 0x0
008d32d6 : PUSH -0x1
008d32d8 : CALL 0x00a364b0
008d32dd : MOV ECX,dword ptr [0x017247d4]
008d32e3 : PUSH 0x0
008d32e5 : PUSH ECX
008d32e6 : OR ECX,0xffffffff
008d32e9 : CALL 0x00a0d390
008d32ee : MOV dword ptr [EDI + 0xf0],0xffffffff
008d32f8 : MOV EDX,dword ptr [EDI + 0xb8]
008d32fe : MOV byte ptr [EDX + 0x3],0x0
008d3302 : MOV EAX,dword ptr [EDI + 0xb8]
008d3308 : MOV byte ptr [EAX + 0x2],0x0
008d330c : MOV byte ptr [EDI + 0xc9],0x0
008d3313 : POP ESI
008d3314 : POP EBX
008d3315 : MOV ESP,EBP
008d3317 : POP EBP
008d3318 : RET
