PROGRAM  : Maestia.exe
FUNCTION : FUN_00940840
ENTRY    : 00940840
BODY     : [[00940840, 00940998]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00940840(undefined4 param_1,ushort param_2,ushort param_3)

{
  int *piVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  DWORD DVar5;
  uint uVar6;
  uint uVar7;
  undefined4 uVar8;
  int in_ECX;
  
  iVar4 = *(int *)(in_ECX + 0x3c);
  iVar3 = *(int *)(iVar4 + 0xc) * (uint)param_3 + (uint)param_2;
  if ((((iVar3 < *(int *)(iVar4 + 8) * *(int *)(iVar4 + 0xc)) && (-1 < iVar3)) &&
      (iVar4 = *(int *)(*(int *)(iVar4 + 0x10) + iVar3 * 4), iVar4 != 0)) &&
     (*(char *)(in_ECX + 8) != '\0')) {
    FUN_009088d0(param_1);
    iVar4 = *(int *)(iVar4 + 8);
    if (iVar4 != 0) {
      iVar4 = FUN_009f2740(*(undefined4 *)(iVar4 + 0x10));
      if (iVar4 != 0) {
        DVar5 = timeGetTime();
        uVar6 = DVar5 - *(int *)(iVar4 + 0xd8);
        uVar7 = FUN_009ea720();
        if (uVar6 < uVar7) {
          cVar2 = FUN_008ebff0();
          if (cVar2 == '\0') {
            if ((*DAT_00da9894 != 0) &&
               (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
              iVar4 = *piVar1;
              iVar3 = FUN_009ea720(*(undefined2 *)(in_ECX + 0x70));
              uVar8 = FUN_009ea720(iVar3 - uVar6);
              (**(code **)(iVar4 + 4))
                        (piVar1,"PocketBeginCoolDown","%d,%d,%d,%d,%d",param_2,param_3,uVar8);
            }
          }
          else if ((*DAT_00da9894 != 0) &&
                  (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
            iVar4 = *piVar1;
            iVar3 = FUN_009ea720(0);
            uVar8 = FUN_009ea720(iVar3 - uVar6);
            (**(code **)(iVar4 + 4))
                      (piVar1,"PocketBeginCoolDown","%d,%d,%d,%d,%d",param_2,param_3,uVar8);
            return;
          }
        }
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00940840 : PUSH EBP
00940841 : MOV EBP,ESP
00940843 : PUSH ECX
00940844 : PUSH EBX
00940845 : MOV EBX,ECX
00940847 : MOV ECX,dword ptr [EBX + 0x3c]
0094084a : MOV EDX,dword ptr [ECX + 0xc]
0094084d : PUSH ESI
0094084e : MOVZX ESI,word ptr [EBP + 0x10]
00940852 : MOV EAX,EDX
00940854 : IMUL EAX,ESI
00940857 : MOV ESI,dword ptr [ECX + 0x8]
0094085a : IMUL ESI,EDX
0094085d : PUSH EDI
0094085e : MOVZX EDI,word ptr [EBP + 0xc]
00940862 : ADD EAX,EDI
00940864 : CMP EAX,ESI
00940866 : MOV dword ptr [EBP + -0x4],EBX
00940869 : JGE 0x00940990
0094086f : TEST EAX,EAX
00940871 : JL 0x00940990
00940877 : MOV ECX,dword ptr [ECX + 0x10]
0094087a : MOV ESI,dword ptr [ECX + EAX*0x4]
0094087d : TEST ESI,ESI
0094087f : JZ 0x00940990
00940885 : CMP byte ptr [EBX + 0x8],0x0
00940889 : JZ 0x00940990
0094088f : MOV EDX,dword ptr [EBP + 0x8]
00940892 : PUSH EDX
00940893 : XOR EAX,EAX
00940895 : MOV ECX,ESI
00940897 : CALL 0x009088d0
0094089c : MOV ESI,dword ptr [ESI + 0x8]
0094089f : TEST ESI,ESI
009408a1 : JZ 0x00940990
009408a7 : MOV ESI,dword ptr [ESI + 0x10]
009408aa : MOV ECX,dword ptr [0x017247f0]
009408b0 : PUSH ESI
009408b1 : CALL 0x009f2740
009408b6 : MOV ESI,EAX
009408b8 : TEST ESI,ESI
009408ba : JZ 0x00940990
009408c0 : CALL dword ptr [0x00b85598]
009408c6 : SUB EAX,dword ptr [ESI + 0xd8]
009408cc : MOV EDI,EAX
009408ce : MOV dword ptr [EBP + 0x8],EDI
009408d1 : CALL 0x009ea720
009408d6 : CMP EDI,EAX
009408d8 : JNC 0x00940990
009408de : MOV EAX,dword ptr [EBX + 0x5c]
009408e1 : CALL 0x008ebff0
009408e6 : TEST AL,AL
009408e8 : JZ 0x00940942
009408ea : MOV EAX,[0x00da9894]
009408ef : MOV EAX,dword ptr [EAX]
009408f1 : TEST EAX,EAX
009408f3 : JZ 0x00940990
009408f9 : MOV EBX,dword ptr [EAX + 0x114]
009408ff : TEST EBX,EBX
00940901 : JZ 0x00940990
00940907 : MOV EDI,dword ptr [EBX]
00940909 : PUSH 0x0
0094090b : ADD EDI,0x4
0094090e : CALL 0x009ea720
00940913 : SUB EAX,dword ptr [EBP + 0x8]
00940916 : PUSH EAX
00940917 : CALL 0x009ea720
0094091c : MOV ECX,dword ptr [EDI]
0094091e : PUSH EAX
0094091f : MOVZX EAX,word ptr [EBP + 0x10]
00940923 : PUSH EAX
00940924 : MOVZX EAX,word ptr [EBP + 0xc]
00940928 : PUSH EAX
00940929 : PUSH 0xc721e8
0094092e : PUSH 0xc721f8
00940933 : PUSH EBX
00940934 : CALL ECX
00940936 : ADD ESP,0x20
00940939 : POP EDI
0094093a : POP ESI
0094093b : POP EBX
0094093c : MOV ESP,EBP
0094093e : POP EBP
0094093f : RET 0x10
00940942 : MOV EDX,dword ptr [0x00da9894]
00940948 : MOV EAX,dword ptr [EDX]
0094094a : TEST EAX,EAX
0094094c : JZ 0x00940990
0094094e : MOV EBX,dword ptr [EAX + 0x114]
00940954 : TEST EBX,EBX
00940956 : JZ 0x00940990
00940958 : MOV EAX,dword ptr [EBP + -0x4]
0094095b : MOVZX ECX,word ptr [EAX + 0x70]
0094095f : MOV EDI,dword ptr [EBX]
00940961 : PUSH ECX
00940962 : ADD EDI,0x4
00940965 : CALL 0x009ea720
0094096a : SUB EAX,dword ptr [EBP + 0x8]
0094096d : PUSH EAX
0094096e : CALL 0x009ea720
00940973 : MOV EDX,dword ptr [EDI]
00940975 : PUSH EAX
00940976 : MOVZX EAX,word ptr [EBP + 0x10]
0094097a : PUSH EAX
0094097b : MOVZX EAX,word ptr [EBP + 0xc]
0094097f : PUSH EAX
00940980 : PUSH 0xc7220c
00940985 : PUSH 0xc7221c
0094098a : PUSH EBX
0094098b : CALL EDX
0094098d : ADD ESP,0x20
00940990 : POP EDI
00940991 : POP ESI
00940992 : POP EBX
00940993 : MOV ESP,EBP
00940995 : POP EBP
00940996 : RET 0x10
