PROGRAM  : Maestia.exe
FUNCTION : FUN_00662830
ENTRY    : 00662830
BODY     : [[00662830, 0066287c]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00662830(int param_1,int param_2)

{
  int iVar1;
  
  if (*(int *)(param_1 + 0x3c) != 0) {
    FUN_00664670(*(int *)(param_1 + 0x3c));
    *(undefined4 *)(param_1 + 0x3c) = 0;
  }
  if (param_2 == 0) {
    *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) & 0xfffffff7;
    return 0;
  }
  iVar1 = FUN_006646c0(param_2);
  *(int *)(param_1 + 0x3c) = iVar1;
  if (iVar1 == 0) {
    *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) & 0xfffffff7;
    return 0x8007000e;
  }
  *(uint *)(param_1 + 4) = *(uint *)(param_1 + 4) | 8;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00662830 : PUSH ESI
00662831 : MOV ESI,dword ptr [ESP + 0x8]
00662835 : MOV EAX,dword ptr [ESI + 0x3c]
00662838 : TEST EAX,EAX
0066283a : JZ 0x00662849
0066283c : PUSH EAX
0066283d : CALL 0x00664670
00662842 : MOV dword ptr [ESI + 0x3c],0x0
00662849 : MOV EAX,dword ptr [ESP + 0xc]
0066284d : TEST EAX,EAX
0066284f : JNZ 0x00662859
00662851 : AND dword ptr [ESI + 0x4],0xfffffff7
00662855 : POP ESI
00662856 : RET 0x8
00662859 : PUSH EAX
0066285a : CALL 0x006646c0
0066285f : MOV dword ptr [ESI + 0x3c],EAX
00662862 : TEST EAX,EAX
00662864 : JNZ 0x00662873
00662866 : AND dword ptr [ESI + 0x4],0xfffffff7
0066286a : MOV EAX,0x8007000e
0066286f : POP ESI
00662870 : RET 0x8
00662873 : OR dword ptr [ESI + 0x4],0x8
00662877 : XOR EAX,EAX
00662879 : POP ESI
0066287a : RET 0x8
