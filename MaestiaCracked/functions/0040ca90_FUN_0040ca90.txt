PROGRAM  : Maestia.exe
FUNCTION : FUN_0040ca90
ENTRY    : 0040ca90
BODY     : [[0040ca90, 0040cb9e] [0040cba1, 0040cbe7]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0040ca90(int param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  char cVar4;
  int in_EAX;
  undefined4 uVar5;
  uint uVar6;
  int iVar7;
  
  if (in_EAX != param_1) {
    uVar2 = (*(int *)(param_1 + 8) - *(int *)(param_1 + 4)) / 0x14;
    if (uVar2 == 0) {
      if (*(int *)(in_EAX + 4) != *(int *)(in_EAX + 8)) {
        uVar5 = FUN_0040d160(*(int *)(in_EAX + 4));
        *(undefined4 *)(in_EAX + 8) = uVar5;
        return;
      }
    }
    else {
      iVar1 = *(int *)(in_EAX + 4);
      uVar3 = (*(int *)(in_EAX + 8) - iVar1) / 0x14;
      if (uVar2 <= uVar3) {
        FUN_0040d160(iVar1);
        *(int *)(in_EAX + 8) =
             *(int *)(in_EAX + 4) + ((*(int *)(param_1 + 8) - *(int *)(param_1 + 4)) / 0x14) * 0x14;
        return;
      }
      if (iVar1 == 0) {
        uVar6 = 0;
      }
      else {
        uVar6 = (*(int *)(in_EAX + 0xc) - iVar1) / 0x14;
      }
      if (uVar2 <= uVar6) {
        iVar7 = *(int *)(param_1 + 4);
        FUN_0040d160(iVar1);
        uVar5 = FUN_0042a200(iVar7 + uVar3 * 0x14,*(undefined4 *)(param_1 + 8));
        *(undefined4 *)(in_EAX + 8) = uVar5;
        return;
      }
      if (iVar1 != 0) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      iVar7 = *(int *)(param_1 + 8) - *(int *)(param_1 + 4);
      iVar1 = iVar7 >> 0x1f;
      *(undefined4 *)(in_EAX + 4) = 0;
      *(undefined4 *)(in_EAX + 8) = 0;
      *(undefined4 *)(in_EAX + 0xc) = 0;
      if ((iVar7 / 0x14 + iVar1 != iVar1) && (cVar4 = FUN_0040ddb0(), cVar4 != '\0')) {
        uVar5 = FUN_0042a200(*(undefined4 *)(param_1 + 4),*(undefined4 *)(param_1 + 8));
        *(undefined4 *)(in_EAX + 8) = uVar5;
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0040ca90 : PUSH EBP
0040ca91 : MOV EBP,ESP
0040ca93 : PUSH EBX
0040ca94 : MOV EBX,dword ptr [EBP + 0x8]
0040ca97 : PUSH ESI
0040ca98 : PUSH EDI
0040ca99 : MOV EDI,EAX
0040ca9b : CMP EDI,EBX
0040ca9d : JZ 0x0040cbe1
0040caa3 : MOV EAX,dword ptr [EBX + 0x4]
0040caa6 : MOV ECX,dword ptr [EBX + 0x8]
0040caa9 : SUB ECX,EAX
0040caab : MOV EAX,0x66666667
0040cab0 : IMUL ECX
0040cab2 : MOV ECX,dword ptr [EDI + 0x8]
0040cab5 : SAR EDX,0x3
0040cab8 : MOV EAX,EDX
0040caba : SHR EAX,0x1f
0040cabd : ADD EAX,EDX
0040cabf : MOV dword ptr [EBP + 0x8],EAX
0040cac2 : JNZ 0x0040cae6
0040cac4 : MOV EAX,dword ptr [EDI + 0x4]
0040cac7 : CMP EAX,ECX
0040cac9 : JZ 0x0040cbdf
0040cacf : PUSH EAX
0040cad0 : MOV EDX,ECX
0040cad2 : CALL 0x0040d160
0040cad7 : MOV dword ptr [EDI + 0x8],EAX
0040cada : ADD ESP,0x4
0040cadd : MOV EAX,EDI
0040cadf : POP EDI
0040cae0 : POP ESI
0040cae1 : POP EBX
0040cae2 : POP EBP
0040cae3 : RET 0x4
0040cae6 : MOV ESI,dword ptr [EDI + 0x4]
0040cae9 : SUB ECX,ESI
0040caeb : MOV EAX,0x66666667
0040caf0 : IMUL ECX
0040caf2 : SAR EDX,0x3
0040caf5 : MOV ECX,EDX
0040caf7 : SHR ECX,0x1f
0040cafa : ADD ECX,EDX
0040cafc : CMP dword ptr [EBP + 0x8],ECX
0040caff : JA 0x0040cb3c
0040cb01 : MOV EDX,dword ptr [EBX + 0x8]
0040cb04 : MOV ECX,dword ptr [EBX + 0x4]
0040cb07 : PUSH ESI
0040cb08 : CALL 0x0040d160
0040cb0d : MOV ECX,dword ptr [EBX + 0x8]
0040cb10 : SUB ECX,dword ptr [EBX + 0x4]
0040cb13 : MOV EAX,0x66666667
0040cb18 : IMUL ECX
0040cb1a : MOV ECX,dword ptr [EDI + 0x4]
0040cb1d : SAR EDX,0x3
0040cb20 : MOV EAX,EDX
0040cb22 : SHR EAX,0x1f
0040cb25 : ADD ESP,0x4
0040cb28 : ADD EAX,EDX
0040cb2a : LEA EAX,[EAX + EAX*0x4]
0040cb2d : LEA EDX,[ECX + EAX*0x4]
0040cb30 : MOV dword ptr [EDI + 0x8],EDX
0040cb33 : MOV EAX,EDI
0040cb35 : POP EDI
0040cb36 : POP ESI
0040cb37 : POP EBX
0040cb38 : POP EBP
0040cb39 : RET 0x4
0040cb3c : TEST ESI,ESI
0040cb3e : JNZ 0x0040cb44
0040cb40 : XOR EAX,EAX
0040cb42 : JMP 0x0040cb5a
0040cb44 : MOV EDX,dword ptr [EDI + 0xc]
0040cb47 : SUB EDX,ESI
0040cb49 : MOV EAX,0x66666667
0040cb4e : IMUL EDX
0040cb50 : SAR EDX,0x3
0040cb53 : MOV EAX,EDX
0040cb55 : SHR EAX,0x1f
0040cb58 : ADD EAX,EDX
0040cb5a : CMP dword ptr [EBP + 0x8],EAX
0040cb5d : JA 0x0040cb92
0040cb5f : MOV EAX,dword ptr [EBX + 0x4]
0040cb62 : LEA ECX,[ECX + ECX*0x4]
0040cb65 : LEA EDX,[EAX + ECX*0x4]
0040cb68 : PUSH ESI
0040cb69 : MOV ECX,EAX
0040cb6b : MOV dword ptr [EBP + 0x8],EDX
0040cb6e : CALL 0x0040d160
0040cb73 : MOV EDX,dword ptr [EBX + 0x8]
0040cb76 : MOV EAX,dword ptr [EBP + 0x8]
0040cb79 : ADD ESP,0x4
0040cb7c : PUSH EDX
0040cb7d : MOV EDX,dword ptr [EDI + 0x8]
0040cb80 : PUSH EAX
0040cb81 : CALL 0x0042a200
0040cb86 : MOV dword ptr [EDI + 0x8],EAX
0040cb89 : MOV EAX,EDI
0040cb8b : POP EDI
0040cb8c : POP ESI
0040cb8d : POP EBX
0040cb8e : POP EBP
0040cb8f : RET 0x4
0040cb92 : XOR ECX,ECX
0040cb94 : CMP ESI,ECX
0040cb96 : JZ 0x0040cba1
0040cb98 : MOV ECX,ESI
0040cb9a : CALL 0x006f04e0
0040cba1 : MOV EDX,dword ptr [EBX + 0x8]
0040cba4 : SUB EDX,dword ptr [EBX + 0x4]
0040cba7 : MOV EAX,0x66666667
0040cbac : IMUL EDX
0040cbae : SAR EDX,0x3
0040cbb1 : MOV ESI,EDX
0040cbb3 : SHR ESI,0x1f
0040cbb6 : ADD ESI,EDX
0040cbb8 : MOV dword ptr [EDI + 0x4],ECX
0040cbbb : MOV dword ptr [EDI + 0x8],ECX
0040cbbe : MOV dword ptr [EDI + 0xc],ECX
0040cbc1 : JZ 0x0040cbdf
0040cbc3 : CALL 0x0040ddb0
0040cbc8 : TEST AL,AL
0040cbca : JZ 0x0040cbdf
0040cbcc : MOV ECX,dword ptr [EBX + 0x8]
0040cbcf : MOV EDX,dword ptr [EBX + 0x4]
0040cbd2 : PUSH ECX
0040cbd3 : PUSH EDX
0040cbd4 : MOV EDX,dword ptr [EDI + 0x4]
0040cbd7 : CALL 0x0042a200
0040cbdc : MOV dword ptr [EDI + 0x8],EAX
0040cbdf : MOV EAX,EDI
0040cbe1 : POP EDI
0040cbe2 : POP ESI
0040cbe3 : POP EBX
0040cbe4 : POP EBP
0040cbe5 : RET 0x4
