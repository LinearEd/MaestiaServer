PROGRAM  : Maestia.exe
FUNCTION : FUN_00690ce0
ENTRY    : 00690ce0
BODY     : [[00690ce0, 00690ef2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00690ce0(int param_1,undefined4 param_2)

{
  int *piVar1;
  int iVar2;
  undefined1 local_4c;
  undefined1 local_4b;
  undefined2 local_4a;
  undefined1 local_48;
  undefined1 local_47;
  undefined2 local_46;
  undefined1 local_44;
  undefined1 local_43;
  undefined2 local_42;
  undefined1 local_40;
  undefined1 local_3f;
  undefined2 local_3e;
  undefined1 local_3c;
  undefined1 local_3b;
  undefined2 local_3a;
  undefined1 local_38;
  undefined1 local_37;
  undefined2 local_36;
  undefined1 local_34;
  undefined1 local_33;
  undefined2 local_32;
  undefined1 local_30;
  undefined1 local_2f;
  undefined2 local_2e;
  undefined1 local_2c;
  undefined1 local_2b;
  undefined2 local_2a;
  undefined1 local_28;
  undefined1 local_27;
  undefined2 local_26;
  undefined1 local_24;
  undefined1 local_23;
  undefined2 local_22;
  undefined1 local_20;
  undefined1 local_1f;
  undefined2 local_1e;
  undefined1 local_1c;
  undefined1 local_1b;
  undefined2 local_1a;
  undefined1 local_18;
  undefined1 local_17;
  undefined2 local_16;
  undefined1 local_14;
  undefined1 local_13;
  undefined2 local_12;
  undefined1 local_10;
  undefined1 local_f;
  undefined2 local_e;
  undefined1 local_c;
  undefined1 local_b;
  undefined2 local_a;
  undefined1 local_8;
  undefined1 local_7;
  undefined2 local_6;
  undefined1 local_4;
  undefined1 local_3;
  undefined2 local_2;
  
  local_42 = 4;
  local_3e = 0;
  local_3a = 0x1a;
  local_36 = 6;
  local_32 = 8;
  local_2e = 10;
  local_46 = 0;
  local_2a = 0xc;
  local_26 = 0xe;
  local_22 = 0x10;
  local_1e = 0x12;
  local_1a = 0x14;
  local_16 = 0x16;
  local_4a = 6;
  local_12 = 0x18;
  local_43 = 2;
  local_37 = 2;
  local_33 = 2;
  local_2f = 2;
  local_2b = 2;
  local_27 = 2;
  local_23 = 2;
  local_1f = 2;
  local_1b = 2;
  local_17 = 2;
  local_13 = 2;
  local_f = 2;
  local_e = 0x1a;
  local_b = 2;
  local_7 = 2;
  piVar1 = (int *)(param_1 + 0x104);
  local_4c = 4;
  local_4b = 0;
  local_48 = 0x11;
  local_47 = 4;
  local_44 = 0xc;
  local_40 = 0;
  local_3f = 0;
  local_3c = 4;
  local_3b = 0;
  local_38 = 0xc;
  local_34 = 0xc;
  local_30 = 0xc;
  local_2c = 0xc;
  local_28 = 0xc;
  local_24 = 0xc;
  local_20 = 0xc;
  local_1c = 0xc;
  local_18 = 0xc;
  local_14 = 0xc;
  local_10 = 0xc;
  local_c = 0xc;
  local_a = 0x1c;
  local_8 = 0xc;
  local_6 = 0x1e;
  local_4 = 0;
  local_3 = 0;
  local_2 = 0;
  iVar2 = (**(code **)(param_1 + 0x1fc))(param_1,0x6d617870,param_2,0);
  if (iVar2 == 0) {
    iVar2 = FUN_006889e0(param_2,&local_4c,piVar1);
    if (iVar2 == 0) {
      *(undefined2 *)(param_1 + 0x10a) = 0;
      *(undefined2 *)(param_1 + 0x10c) = 0;
      *(undefined2 *)(param_1 + 0x10e) = 0;
      *(undefined2 *)(param_1 + 0x110) = 0;
      *(undefined2 *)(param_1 + 0x112) = 0;
      *(undefined2 *)(param_1 + 0x114) = 0;
      *(undefined2 *)(param_1 + 0x116) = 0;
      *(undefined2 *)(param_1 + 0x118) = 0;
      *(undefined2 *)(param_1 + 0x11a) = 0;
      *(undefined2 *)(param_1 + 0x11c) = 0;
      *(undefined2 *)(param_1 + 0x11e) = 0;
      *(undefined2 *)(param_1 + 0x120) = 0;
      *(undefined2 *)(param_1 + 0x122) = 0;
      if (0xffff < *piVar1) {
        iVar2 = FUN_006889e0(param_2,&local_3c,piVar1);
        if (iVar2 == 0) {
          if (*(short *)(param_1 + 0x118) == 0) {
            *(undefined2 *)(param_1 + 0x118) = 0x40;
          }
          if (0xfffb < *(ushort *)(param_1 + 0x114)) {
            *(undefined2 *)(param_1 + 0x114) = 0xfffb;
          }
        }
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00690ce0 : SUB ESP,0x4c
00690ce3 : PUSH EBX
00690ce4 : PUSH ESI
00690ce5 : PUSH EDI
00690ce6 : XOR EBX,EBX
00690ce8 : MOV EDI,0x4
00690ced : MOV word ptr [ESP + 0x16],DI
00690cf2 : XOR ECX,ECX
00690cf4 : XOR EDI,EDI
00690cf6 : MOV word ptr [ESP + 0x1a],DI
00690cfb : MOV EDI,0x1a
00690d00 : MOV word ptr [ESP + 0x1e],DI
00690d05 : MOV EDI,0x6
00690d0a : MOV word ptr [ESP + 0x22],DI
00690d0f : MOV EDX,dword ptr [ESP + 0x5c]
00690d13 : MOV EDI,0x8
00690d18 : MOV word ptr [ESP + 0x26],DI
00690d1d : MOV EDI,0xa
00690d22 : MOV word ptr [ESP + 0x2a],DI
00690d27 : MOV word ptr [ESP + 0x12],CX
00690d2c : MOV ECX,0xc
00690d31 : MOV EDI,ECX
00690d33 : MOV word ptr [ESP + 0x2e],DI
00690d38 : MOV EDI,0xe
00690d3d : MOV word ptr [ESP + 0x32],DI
00690d42 : MOV EDI,0x10
00690d47 : MOV word ptr [ESP + 0x36],DI
00690d4c : MOV EDI,0x12
00690d51 : MOV word ptr [ESP + 0x3a],DI
00690d56 : MOV EDI,0x14
00690d5b : MOV word ptr [ESP + 0x3e],DI
00690d60 : MOV EDI,0x16
00690d65 : MOV word ptr [ESP + 0x42],DI
00690d6a : MOV EAX,0x6
00690d6f : MOV EDI,0x18
00690d74 : MOV word ptr [ESP + 0xe],AX
00690d79 : MOV AL,0x2
00690d7b : MOV word ptr [ESP + 0x46],DI
00690d80 : MOV EDI,0x1a
00690d85 : MOV byte ptr [ESP + 0x15],AL
00690d89 : MOV byte ptr [ESP + 0x21],AL
00690d8d : MOV byte ptr [ESP + 0x25],AL
00690d91 : MOV byte ptr [ESP + 0x29],AL
00690d95 : MOV byte ptr [ESP + 0x2d],AL
00690d99 : MOV byte ptr [ESP + 0x31],AL
00690d9d : MOV byte ptr [ESP + 0x35],AL
00690da1 : MOV byte ptr [ESP + 0x39],AL
00690da5 : MOV byte ptr [ESP + 0x3d],AL
00690da9 : MOV byte ptr [ESP + 0x41],AL
00690dad : MOV byte ptr [ESP + 0x45],AL
00690db1 : MOV byte ptr [ESP + 0x49],AL
00690db5 : MOV word ptr [ESP + 0x4a],DI
00690dba : MOV byte ptr [ESP + 0x4d],AL
00690dbe : MOV byte ptr [ESP + 0x51],AL
00690dc2 : MOV EDI,0x1c
00690dc7 : MOV EAX,0x1e
00690dcc : LEA ESI,[EDX + 0x104]
00690dd2 : MOV byte ptr [ESP + 0xc],0x4
00690dd7 : MOV byte ptr [ESP + 0xd],BL
00690ddb : MOV byte ptr [ESP + 0x10],0x11
00690de0 : MOV byte ptr [ESP + 0x11],0x4
00690de5 : MOV byte ptr [ESP + 0x14],CL
00690de9 : MOV byte ptr [ESP + 0x18],BL
00690ded : MOV byte ptr [ESP + 0x19],BL
00690df1 : MOV byte ptr [ESP + 0x1c],0x4
00690df6 : MOV byte ptr [ESP + 0x1d],BL
00690dfa : MOV byte ptr [ESP + 0x20],CL
00690dfe : MOV byte ptr [ESP + 0x24],CL
00690e02 : MOV byte ptr [ESP + 0x28],CL
00690e06 : MOV byte ptr [ESP + 0x2c],CL
00690e0a : MOV byte ptr [ESP + 0x30],CL
00690e0e : MOV byte ptr [ESP + 0x34],CL
00690e12 : MOV byte ptr [ESP + 0x38],CL
00690e16 : MOV byte ptr [ESP + 0x3c],CL
00690e1a : MOV byte ptr [ESP + 0x40],CL
00690e1e : MOV byte ptr [ESP + 0x44],CL
00690e22 : MOV byte ptr [ESP + 0x48],CL
00690e26 : MOV byte ptr [ESP + 0x4c],CL
00690e2a : MOV word ptr [ESP + 0x4e],DI
00690e2f : MOV byte ptr [ESP + 0x50],CL
00690e33 : MOV word ptr [ESP + 0x52],AX
00690e38 : MOV byte ptr [ESP + 0x54],BL
00690e3c : MOV EDI,dword ptr [ESP + 0x60]
00690e40 : PUSH EBX
00690e41 : PUSH EDI
00690e42 : PUSH 0x6d617870
00690e47 : XOR ECX,ECX
00690e49 : PUSH EDX
00690e4a : MOV EDX,dword ptr [EDX + 0x1fc]
00690e50 : MOV byte ptr [ESP + 0x65],BL
00690e54 : MOV word ptr [ESP + 0x66],CX
00690e59 : CALL EDX
00690e5b : ADD ESP,0x10
00690e5e : CMP EAX,EBX
00690e60 : JNZ 0x00690eec
00690e66 : PUSH ESI
00690e67 : LEA EAX,[ESP + 0x10]
00690e6b : PUSH EAX
00690e6c : PUSH EDI
00690e6d : CALL 0x006889e0
00690e72 : ADD ESP,0xc
00690e75 : CMP EAX,EBX
00690e77 : JNZ 0x00690eec
00690e79 : XOR ECX,ECX
00690e7b : XOR EDX,EDX
00690e7d : CMP dword ptr [ESI],0x10000
00690e83 : MOV word ptr [ESI + 0x6],CX
00690e87 : MOV word ptr [ESI + 0x8],DX
00690e8b : MOV word ptr [ESI + 0xa],CX
00690e8f : MOV word ptr [ESI + 0xc],DX
00690e93 : MOV word ptr [ESI + 0xe],CX
00690e97 : MOV word ptr [ESI + 0x10],DX
00690e9b : MOV word ptr [ESI + 0x12],CX
00690e9f : MOV word ptr [ESI + 0x14],DX
00690ea3 : MOV word ptr [ESI + 0x16],CX
00690ea7 : MOV word ptr [ESI + 0x18],DX
00690eab : MOV word ptr [ESI + 0x1a],CX
00690eaf : MOV word ptr [ESI + 0x1c],DX
00690eb3 : MOV word ptr [ESI + 0x1e],CX
00690eb7 : JL 0x00690eec
00690eb9 : PUSH ESI
00690eba : LEA EDX,[ESP + 0x20]
00690ebe : PUSH EDX
00690ebf : PUSH EDI
00690ec0 : CALL 0x006889e0
00690ec5 : ADD ESP,0xc
00690ec8 : CMP EAX,EBX
00690eca : JNZ 0x00690eec
00690ecc : CMP word ptr [ESI + 0x14],BX
00690ed0 : JNZ 0x00690edb
00690ed2 : MOV ECX,0x40
00690ed7 : MOV word ptr [ESI + 0x14],CX
00690edb : MOV EDX,0xfffb
00690ee0 : CMP word ptr [ESI + 0x10],DX
00690ee4 : JBE 0x00690eec
00690ee6 : MOV ECX,EDX
00690ee8 : MOV word ptr [ESI + 0x10],CX
00690eec : POP EDI
00690eed : POP ESI
00690eee : POP EBX
00690eef : ADD ESP,0x4c
00690ef2 : RET
