PROGRAM  : Maestia.exe
FUNCTION : FUN_005b4770
ENTRY    : 005b4770
BODY     : [[005b4770, 005b484d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005b4770(int param_1)

{
  char cVar1;
  undefined1 uVar2;
  int iVar3;
  undefined1 *puVar4;
  int *piVar5;
  undefined4 uVar6;
  undefined1 auStack_20 [16];
  undefined1 auStack_10 [16];
  
  uVar2 = 0;
  if (*(int *)(param_1 + 8) != 0) {
    iVar3 = (**(code **)(**(int **)(param_1 + 8) + 8))();
    if (iVar3 == 10) {
      cVar1 = (**(code **)(**(int **)(param_1 + 8) + 0x40))();
      if (cVar1 == '\0') {
        if (*(int *)(param_1 + 8) == 0) {
          piVar5 = (int *)0x0;
        }
        else {
          piVar5 = (int *)(*(int *)(param_1 + 8) + -0x10);
        }
        iVar3 = *(int *)(param_1 + 0x1c);
        if (iVar3 < 1) {
          auStack_10[0] = 0;
          puVar4 = auStack_10;
        }
        else {
          puVar4 = (undefined1 *)FUN_00526260(0);
        }
        FUN_005266c0(puVar4);
        if (iVar3 < 1) {
          FUN_00526bc0();
        }
        (**(code **)(*piVar5 + 0xc))(*(undefined4 *)(param_1 + 0x18),auStack_20);
        FUN_005268b0(&stack0xffffffd8);
        FUN_00526bc0();
        return;
      }
    }
  }
  if (*(int *)(param_1 + 0x1c) != 0) {
    uVar6 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(0);
    uVar2 = FUN_00526120(uVar6);
  }
  puVar4 = *(undefined1 **)(param_1 + 4);
  FUN_00526400();
  puVar4[4] = uVar2;
  *puVar4 = 2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005b4770 : SUB ESP,0x24
005b4773 : PUSH EBX
005b4774 : PUSH ESI
005b4775 : MOV ESI,dword ptr [ESP + 0x30]
005b4779 : XOR EBX,EBX
005b477b : MOV dword ptr [ESP + 0x8],EBX
005b477f : CMP dword ptr [ESI + 0x8],EBX
005b4782 : JZ 0x005b481d
005b4788 : MOV ECX,dword ptr [ESI + 0x8]
005b478b : MOV EAX,dword ptr [ECX]
005b478d : MOV EDX,dword ptr [EAX + 0x8]
005b4790 : CALL EDX
005b4792 : CMP EAX,0xa
005b4795 : JNZ 0x005b481d
005b479b : MOV ECX,dword ptr [ESI + 0x8]
005b479e : MOV EAX,dword ptr [ECX]
005b47a0 : MOV EDX,dword ptr [EAX + 0x40]
005b47a3 : CALL EDX
005b47a5 : TEST AL,AL
005b47a7 : JNZ 0x005b481d
005b47a9 : MOV EAX,dword ptr [ESI + 0x8]
005b47ac : PUSH EDI
005b47ad : TEST EAX,EAX
005b47af : JZ 0x005b47b6
005b47b1 : LEA EDI,[EAX + -0x10]
005b47b4 : JMP 0x005b47b8
005b47b6 : XOR EDI,EDI
005b47b8 : CMP dword ptr [ESI + 0x1c],EBX
005b47bb : JLE 0x005b47c8
005b47bd : PUSH 0x0
005b47bf : MOV ECX,ESI
005b47c1 : CALL 0x00526260
005b47c6 : JMP 0x005b47d6
005b47c8 : MOV EBX,0x1
005b47cd : MOV byte ptr [ESP + 0x20],0x0
005b47d2 : LEA EAX,[ESP + 0x20]
005b47d6 : PUSH EAX
005b47d7 : LEA ECX,[ESP + 0x14]
005b47db : CALL 0x005266c0
005b47e0 : TEST BL,0x1
005b47e3 : JZ 0x005b47ee
005b47e5 : LEA ECX,[ESP + 0x20]
005b47e9 : CALL 0x00526bc0
005b47ee : MOV EAX,dword ptr [EDI]
005b47f0 : MOV EDX,dword ptr [ESI + 0x18]
005b47f3 : MOV EAX,dword ptr [EAX + 0xc]
005b47f6 : LEA ECX,[ESP + 0x10]
005b47fa : PUSH ECX
005b47fb : PUSH EDX
005b47fc : MOV ECX,EDI
005b47fe : CALL EAX
005b4800 : LEA ECX,[ESP + 0x10]
005b4804 : PUSH ECX
005b4805 : MOV ECX,dword ptr [ESI + 0x4]
005b4808 : CALL 0x005268b0
005b480d : LEA ECX,[ESP + 0x10]
005b4811 : CALL 0x00526bc0
005b4816 : POP EDI
005b4817 : POP ESI
005b4818 : POP EBX
005b4819 : ADD ESP,0x24
005b481c : RET
005b481d : CMP dword ptr [ESI + 0x1c],EBX
005b4820 : JZ 0x005b4838
005b4822 : MOV EDX,dword ptr [ESI + 0x18]
005b4825 : PUSH EDX
005b4826 : PUSH 0x0
005b4828 : MOV ECX,ESI
005b482a : CALL 0x00526260
005b482f : MOV ECX,EAX
005b4831 : CALL 0x00526120
005b4836 : MOV BL,AL
005b4838 : MOV ESI,dword ptr [ESI + 0x4]
005b483b : MOV ECX,ESI
005b483d : CALL 0x00526400
005b4842 : MOV byte ptr [ESI + 0x4],BL
005b4845 : MOV byte ptr [ESI],0x2
005b4848 : POP ESI
005b4849 : POP EBX
005b484a : ADD ESP,0x24
005b484d : RET
