PROGRAM  : Maestia.exe
FUNCTION : FUN_009a0410
ENTRY    : 009a0410
BODY     : [[009a0410, 009a047c] [009a0480, 009a053f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009a0410(int *param_1,int param_2,int param_3,uint param_4)

{
  uint uVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  int *in_ECX;
  int iVar5;
  
  if ((char)param_4 == '\0') {
    iVar5 = 0;
    do {
      iVar3 = (**(code **)(*param_1 + 0x74))(iVar5,0);
      if (iVar3 != 0) {
        uVar1 = *(uint *)(iVar3 + 0x10);
        param_4 = uVar1 & 0xffff;
        FUN_0041c060(&param_4);
        if (in_ECX == DAT_017289d8) {
          sVar2 = 0;
        }
        else {
          sVar2 = *(short *)((int)in_ECX + 0xe);
        }
        if (sVar2 == (short)param_2) {
          *(short *)(param_3 + iVar5 * 2) = (short)uVar1;
        }
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < 0xc);
    iVar5 = 0x14;
    do {
      iVar3 = (**(code **)(*param_1 + 0x74))(iVar5,0);
      if (iVar3 != 0) {
        uVar1 = *(uint *)(iVar3 + 0x10);
        param_4 = uVar1 & 0xffff;
        FUN_0041c060(&param_4);
        if (param_1 == DAT_017289d8) {
          sVar2 = 0;
        }
        else {
          sVar2 = *(short *)((int)param_1 + 0xe);
        }
        if (sVar2 == (short)param_2) {
          *(short *)(param_3 + iVar5 * 2) = (short)uVar1;
        }
      }
      iVar5 = iVar5 + 1;
    } while (iVar5 < 0x1e);
    return;
  }
  iVar5 = 0x14;
  do {
    iVar4 = (**(code **)(*param_1 + 0x74))(iVar5,0);
    iVar3 = DAT_00d7c54c;
    if (iVar4 != 0) {
      uVar1 = *(uint *)(iVar4 + 0x10);
      param_4 = uVar1;
      FUN_004437f0(&param_4);
      if (((param_2 != *(int *)(iVar3 + 0x44)) && (*(int *)(param_2 + 0x10) != 0)) &&
         ((*(uint *)(*(int *)(param_2 + 0x10) + 0x4c) & 0x18000) != 0)) {
        *(short *)(param_3 + iVar5 * 2) = (short)uVar1;
      }
    }
    iVar5 = iVar5 + 1;
  } while (iVar5 < 0x1e);
  return;
}



============================================================
DISASSEMBLY
============================================================
009a0410 : PUSH EBP
009a0411 : MOV EBP,ESP
009a0413 : PUSH ECX
009a0414 : CMP byte ptr [EBP + 0x14],0x0
009a0418 : PUSH EBX
009a0419 : PUSH ESI
009a041a : PUSH EDI
009a041b : JNZ 0x009a04d9
009a0421 : XOR ESI,ESI
009a0423 : MOV EBX,dword ptr [EBP + 0x8]
009a0426 : MOV EAX,dword ptr [EBX]
009a0428 : MOV EDX,dword ptr [EAX + 0x74]
009a042b : PUSH 0x0
009a042d : PUSH ESI
009a042e : MOV ECX,EBX
009a0430 : CALL EDX
009a0432 : TEST EAX,EAX
009a0434 : JZ 0x009a0470
009a0436 : MOV EDI,dword ptr [EAX + 0x10]
009a0439 : MOVZX EAX,DI
009a043c : LEA ECX,[EBP + 0x14]
009a043f : MOV dword ptr [EBP + 0x14],EAX
009a0442 : PUSH ECX
009a0443 : LEA EAX,[EBP + -0x4]
009a0446 : MOV ECX,0x17289d4
009a044b : CALL 0x0041c060
009a0450 : MOV EAX,dword ptr [EBP + -0x4]
009a0453 : CMP EAX,dword ptr [0x017289d8]
009a0459 : JZ 0x009a0461
009a045b : MOVZX EAX,word ptr [EAX + 0xe]
009a045f : JMP 0x009a0463
009a0461 : XOR EAX,EAX
009a0463 : CMP AX,word ptr [EBP + 0xc]
009a0467 : JNZ 0x009a0470
009a0469 : MOV EDX,dword ptr [EBP + 0x10]
009a046c : MOV word ptr [EDX + ESI*0x2],DI
009a0470 : INC ESI
009a0471 : CMP ESI,0xb
009a0474 : JLE 0x009a0423
009a0476 : MOV ESI,0x14
009a047b : JMP 0x009a0480
009a0480 : MOV EAX,dword ptr [EBX]
009a0482 : MOV EDX,dword ptr [EAX + 0x74]
009a0485 : PUSH 0x0
009a0487 : PUSH ESI
009a0488 : MOV ECX,EBX
009a048a : CALL EDX
009a048c : TEST EAX,EAX
009a048e : JZ 0x009a04ca
009a0490 : MOV EDI,dword ptr [EAX + 0x10]
009a0493 : MOVZX EAX,DI
009a0496 : LEA ECX,[EBP + 0x14]
009a0499 : MOV dword ptr [EBP + 0x14],EAX
009a049c : PUSH ECX
009a049d : LEA EAX,[EBP + 0x8]
009a04a0 : MOV ECX,0x17289d4
009a04a5 : CALL 0x0041c060
009a04aa : MOV EAX,dword ptr [EBP + 0x8]
009a04ad : CMP EAX,dword ptr [0x017289d8]
009a04b3 : JZ 0x009a04bb
009a04b5 : MOVZX EAX,word ptr [EAX + 0xe]
009a04b9 : JMP 0x009a04bd
009a04bb : XOR EAX,EAX
009a04bd : CMP AX,word ptr [EBP + 0xc]
009a04c1 : JNZ 0x009a04ca
009a04c3 : MOV EDX,dword ptr [EBP + 0x10]
009a04c6 : MOV word ptr [EDX + ESI*0x2],DI
009a04ca : INC ESI
009a04cb : CMP ESI,0x1d
009a04ce : JLE 0x009a0480
009a04d0 : POP EDI
009a04d1 : POP ESI
009a04d2 : POP EBX
009a04d3 : MOV ESP,EBP
009a04d5 : POP EBP
009a04d6 : RET 0x10
009a04d9 : MOV EBX,0x14
009a04de : MOV EDI,EDI
009a04e0 : MOV ECX,dword ptr [EBP + 0x8]
009a04e3 : MOV EAX,dword ptr [ECX]
009a04e5 : MOV EDX,dword ptr [EAX + 0x74]
009a04e8 : PUSH 0x0
009a04ea : PUSH EBX
009a04eb : CALL EDX
009a04ed : TEST EAX,EAX
009a04ef : JZ 0x009a0531
009a04f1 : MOV EDI,dword ptr [EAX + 0x10]
009a04f4 : MOV ESI,dword ptr [0x00d7c54c]
009a04fa : LEA EAX,[EBP + 0x14]
009a04fd : PUSH EAX
009a04fe : LEA ECX,[ESI + 0x40]
009a0501 : LEA EAX,[EBP + 0xc]
009a0504 : MOV dword ptr [EBP + 0x14],EDI
009a0507 : CALL 0x004437f0
009a050c : MOV EAX,dword ptr [EBP + 0xc]
009a050f : CMP EAX,dword ptr [ESI + 0x44]
009a0512 : JZ 0x009a0531
009a0514 : MOV EAX,dword ptr [EAX + 0x10]
009a0517 : TEST EAX,EAX
009a0519 : JZ 0x009a0531
009a051b : MOV ECX,dword ptr [EAX + 0x4c]
009a051e : AND ECX,0x18000
009a0524 : XOR EAX,EAX
009a0526 : OR EAX,ECX
009a0528 : JZ 0x009a0531
009a052a : MOV ECX,dword ptr [EBP + 0x10]
009a052d : MOV word ptr [ECX + EBX*0x2],DI
009a0531 : INC EBX
009a0532 : CMP EBX,0x1d
009a0535 : JLE 0x009a04e0
009a0537 : POP EDI
009a0538 : POP ESI
009a0539 : POP EBX
009a053a : MOV ESP,EBP
009a053c : POP EBP
009a053d : RET 0x10
