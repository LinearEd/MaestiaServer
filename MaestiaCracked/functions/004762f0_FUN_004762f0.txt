PROGRAM  : Maestia.exe
FUNCTION : FUN_004762f0
ENTRY    : 004762f0
BODY     : [[004762f0, 00476380]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004762f0(undefined4 *param_1)

{
  undefined4 *puVar1;
  int in_EAX;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  
  if (((*(int *)(in_EAX + 0x18) + *(int *)(in_EAX + 0x1c) & 3U) == 0) &&
     (*(uint *)(in_EAX + 0x14) <= *(int *)(in_EAX + 0x1c) + 4U >> 2)) {
    FUN_004764f0();
  }
  uVar3 = *(int *)(in_EAX + 0x18) + *(int *)(in_EAX + 0x1c);
  uVar4 = uVar3 >> 2;
  if (*(uint *)(in_EAX + 0x14) <= uVar4) {
    uVar4 = uVar4 - *(uint *)(in_EAX + 0x14);
  }
  if (*(int *)(*(int *)(in_EAX + 0x10) + uVar4 * 4) == 0) {
    uVar2 = FUN_006f0760(0x10,"",0,(DAT_01725270 >> 3 & 1) == 0);
    *(undefined4 *)(*(int *)(in_EAX + 0x10) + uVar4 * 4) = uVar2;
  }
  puVar1 = (undefined4 *)(*(int *)(*(int *)(in_EAX + 0x10) + uVar4 * 4) + (uVar3 & 3) * 4);
  if (puVar1 != (undefined4 *)0x0) {
    *puVar1 = *param_1;
  }
  *(int *)(in_EAX + 0x1c) = *(int *)(in_EAX + 0x1c) + 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
004762f0 : PUSH EBP
004762f1 : MOV EBP,ESP
004762f3 : PUSH ECX
004762f4 : PUSH EBX
004762f5 : PUSH ESI
004762f6 : MOV ESI,EAX
004762f8 : MOV EAX,dword ptr [ESI + 0x1c]
004762fb : MOV ECX,dword ptr [ESI + 0x18]
004762fe : ADD ECX,EAX
00476300 : PUSH EDI
00476301 : TEST CL,0x3
00476304 : JNZ 0x00476316
00476306 : ADD EAX,0x4
00476309 : SHR EAX,0x2
0047630c : CMP dword ptr [ESI + 0x14],EAX
0047630f : JA 0x00476316
00476311 : CALL 0x004764f0
00476316 : MOV EBX,dword ptr [ESI + 0x18]
00476319 : ADD EBX,dword ptr [ESI + 0x1c]
0047631c : MOV EAX,dword ptr [ESI + 0x14]
0047631f : MOV EDI,EBX
00476321 : SHR EDI,0x2
00476324 : CMP EAX,EDI
00476326 : JA 0x0047632a
00476328 : SUB EDI,EAX
0047632a : MOV EDX,dword ptr [ESI + 0x10]
0047632d : CMP dword ptr [EDX + EDI*0x4],0x0
00476331 : JNZ 0x0047635e
00476333 : MOV EAX,[0x01725270]
00476338 : SHR EAX,0x3
0047633b : MOV ECX,0x0
00476340 : AND EAX,0x1
00476343 : SETZ CL
00476346 : PUSH ECX
00476347 : PUSH 0x0
00476349 : PUSH 0xbf1a4a
0047634e : PUSH 0x10
00476350 : CALL 0x006f0760
00476355 : MOV EDX,dword ptr [ESI + 0x10]
00476358 : ADD ESP,0x10
0047635b : MOV dword ptr [EDX + EDI*0x4],EAX
0047635e : MOV EAX,dword ptr [ESI + 0x10]
00476361 : MOV ECX,dword ptr [EAX + EDI*0x4]
00476364 : AND EBX,0x3
00476367 : LEA EBX,[ECX + EBX*0x4]
0047636a : TEST EBX,EBX
0047636c : JZ 0x00476375
0047636e : MOV EDX,dword ptr [EBP + 0x8]
00476371 : MOV EAX,dword ptr [EDX]
00476373 : MOV dword ptr [EBX],EAX
00476375 : INC dword ptr [ESI + 0x1c]
00476378 : POP EDI
00476379 : POP ESI
0047637a : POP EBX
0047637b : MOV ESP,EBP
0047637d : POP EBP
0047637e : RET 0x4
