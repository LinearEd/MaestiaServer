PROGRAM  : Maestia.exe
FUNCTION : FUN_00955b30
ENTRY    : 00955b30
BODY     : [[00955b30, 00955c6f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00955b30(int param_1)

{
  int *piVar1;
  uint uVar2;
  undefined4 uVar3;
  int *unaff_ESI;
  uint local_30;
  undefined1 local_2c [4];
  undefined2 local_28;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  piVar1 = DAT_00da9894;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2004b;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 4) == param_1) {
    *(undefined1 *)(*(int *)(DAT_0172491c + 0x17c) + 0x1874) = 0;
    *(undefined1 *)(unaff_ESI[0xe] + 0x60) = 0;
    unaff_ESI[0x14] = 3;
    (**(code **)(**(int **)(*piVar1 + 0x114) + 4))
              (*(int **)(*piVar1 + 0x114),"SetTradeMyLock",&DAT_00c762a4,0,uVar2);
  }
  else if (unaff_ESI[0x13] == param_1) {
    FUN_009556e0(unaff_ESI,0);
  }
  local_14 = 7;
  local_18 = 0;
  local_28 = 0;
  FUN_00406360(L"IDS_PCTRADE_TRADE_CANCEL",0x18);
  local_8 = 0;
  piVar1 = *(int **)(unaff_ESI[1] + 0x1a8);
  uVar3 = FUN_0081d120(local_2c);
  local_8._0_1_ = 1;
  (**(code **)(*piVar1 + 0x44))(uVar3,2);
  local_8 = (uint)local_8._1_3_ << 8;
  if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_8 = 0xffffffff;
  if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_28 = 0;
  local_14 = 7;
  local_18 = 0;
  (**(code **)(*unaff_ESI + 0x20))();
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00955b30 : PUSH EBP
00955b31 : MOV EBP,ESP
00955b33 : PUSH -0x1
00955b35 : PUSH 0xb2004b
00955b3a : MOV EAX,FS:[0x0]
00955b40 : PUSH EAX
00955b41 : SUB ESP,0x38
00955b44 : PUSH EBX
00955b45 : PUSH EDI
00955b46 : MOV EAX,[0x00d66fa0]
00955b4b : XOR EAX,EBP
00955b4d : PUSH EAX
00955b4e : LEA EAX,[EBP + -0xc]
00955b51 : MOV FS:[0x0],EAX
00955b57 : MOV EAX,dword ptr [EBP + 0x8]
00955b5a : MOV ECX,dword ptr [0x0172491c]
00955b60 : MOV ECX,dword ptr [ECX + 0x17c]
00955b66 : MOV EDX,dword ptr [ECX + 0x4]
00955b69 : CMP EDX,EAX
00955b6b : JNZ 0x00955ba9
00955b6d : MOV EDX,dword ptr [0x00da9894]
00955b73 : MOV byte ptr [ECX + 0x1874],0x0
00955b7a : MOV EAX,dword ptr [ESI + 0x38]
00955b7d : MOV byte ptr [EAX + 0x60],0x0
00955b81 : MOV dword ptr [ESI + 0x50],0x3
00955b88 : MOV EAX,dword ptr [EDX]
00955b8a : MOV EAX,dword ptr [EAX + 0x114]
00955b90 : MOV ECX,dword ptr [EAX]
00955b92 : MOV EDX,dword ptr [ECX + 0x4]
00955b95 : PUSH 0x0
00955b97 : PUSH 0xc762a4
00955b9c : PUSH 0xc762a8
00955ba1 : PUSH EAX
00955ba2 : CALL EDX
00955ba4 : ADD ESP,0x10
00955ba7 : JMP 0x00955bb6
00955ba9 : CMP dword ptr [ESI + 0x4c],EAX
00955bac : JNZ 0x00955bb6
00955bae : PUSH 0x0
00955bb0 : PUSH ESI
00955bb1 : CALL 0x009556e0
00955bb6 : PUSH 0x18
00955bb8 : XOR EAX,EAX
00955bba : XOR EDI,EDI
00955bbc : PUSH 0xc765f4
00955bc1 : LEA ECX,[EBP + -0x28]
00955bc4 : MOV dword ptr [EBP + -0x10],0x7
00955bcb : MOV dword ptr [EBP + -0x14],EDI
00955bce : MOV word ptr [EBP + -0x24],AX
00955bd2 : CALL 0x00406360
00955bd7 : MOV dword ptr [EBP + -0x4],EDI
00955bda : MOV ECX,dword ptr [ESI + 0x4]
00955bdd : MOV EBX,dword ptr [ECX + 0x1a8]
00955be3 : MOV ECX,dword ptr [0x0172491c]
00955be9 : LEA EDX,[EBP + -0x28]
00955bec : PUSH EDX
00955bed : LEA EDI,[EBP + -0x44]
00955bf0 : CALL 0x0081d120
00955bf5 : MOV byte ptr [EBP + -0x4],0x1
00955bf9 : MOV EDX,dword ptr [EBX]
00955bfb : PUSH 0x2
00955bfd : PUSH EAX
00955bfe : MOV EAX,dword ptr [EDX + 0x44]
00955c01 : MOV ECX,EBX
00955c03 : CALL EAX
00955c05 : MOV byte ptr [EBP + -0x4],0x0
00955c09 : MOV EDI,0x8
00955c0e : CMP dword ptr [EBP + -0x2c],EDI
00955c11 : JC 0x00955c1b
00955c13 : MOV ECX,dword ptr [EBP + -0x40]
00955c16 : CALL 0x006f04e0
00955c1b : MOV EBX,0x7
00955c20 : XOR ECX,ECX
00955c22 : MOV dword ptr [EBP + -0x2c],EBX
00955c25 : MOV dword ptr [EBP + -0x30],0x0
00955c2c : MOV word ptr [EBP + -0x40],CX
00955c30 : MOV dword ptr [EBP + -0x4],0xffffffff
00955c37 : CMP dword ptr [EBP + -0x10],EDI
00955c3a : JC 0x00955c44
00955c3c : MOV ECX,dword ptr [EBP + -0x24]
00955c3f : CALL 0x006f04e0
00955c44 : MOV EAX,dword ptr [ESI]
00955c46 : XOR EDX,EDX
00955c48 : MOV word ptr [EBP + -0x24],DX
00955c4c : MOV EDX,dword ptr [EAX + 0x20]
00955c4f : MOV ECX,ESI
00955c51 : MOV dword ptr [EBP + -0x10],EBX
00955c54 : MOV dword ptr [EBP + -0x14],0x0
00955c5b : CALL EDX
00955c5d : MOV ECX,dword ptr [EBP + -0xc]
00955c60 : MOV dword ptr FS:[0x0],ECX
00955c67 : POP ECX
00955c68 : POP EDI
00955c69 : POP EBX
00955c6a : MOV ESP,EBP
00955c6c : POP EBP
00955c6d : RET 0x4
