PROGRAM  : Maestia.exe
FUNCTION : FUN_005931a0
ENTRY    : 005931a0
BODY     : [[005931a0, 00593246]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005931a0(void)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int in_ECX;
  int *piVar5;
  
  iVar2 = *(int *)(in_ECX + 0x1ac);
  if (iVar2 != 0) {
    FUN_00590720();
    FUN_00515cf0(iVar2);
  }
  *(undefined4 *)(in_ECX + 0x1ac) = 0;
  uVar3 = *(uint *)(*(int *)(in_ECX + 0xa0) + 0xa9c);
  if ((*(int *)(in_ECX + 0x1b8) != 0) && (uVar4 = 0, uVar3 != 0)) {
    piVar5 = *(int **)(*(int *)(in_ECX + 0xa0) + 0xa98);
    do {
      if (*piVar5 == in_ECX) {
        if (-1 < (int)uVar4) {
          FUN_00592440(uVar4);
        }
        break;
      }
      uVar4 = uVar4 + 1;
      piVar5 = piVar5 + 1;
    } while (uVar4 < uVar3);
  }
  puVar1 = (uint *)(*(int *)(in_ECX + 0xa0) + 0xb00);
  *puVar1 = *puVar1 | 0x400;
  FUN_005ed030();
  FUN_0051f170();
  (**(code **)(*(int *)(in_ECX + 0x68) + 0x34))(in_ECX + 0x144,0);
  return;
}



============================================================
DISASSEMBLY
============================================================
005931a0 : PUSH ESI
005931a1 : MOV ESI,ECX
005931a3 : PUSH EDI
005931a4 : MOV EDI,dword ptr [ESI + 0x1ac]
005931aa : TEST EDI,EDI
005931ac : JZ 0x005931bb
005931ae : MOV ECX,EDI
005931b0 : CALL 0x00590720
005931b5 : PUSH EDI
005931b6 : CALL 0x00515cf0
005931bb : CMP dword ptr [ESI + 0x1b8],0x0
005931c2 : MOV ECX,dword ptr [ESI + 0xa0]
005931c8 : MOV dword ptr [ESI + 0x1ac],0x0
005931d2 : MOV EDI,dword ptr [ECX + 0xa9c]
005931d8 : JZ 0x00593209
005931da : XOR EAX,EAX
005931dc : TEST EDI,EDI
005931de : JBE 0x00593209
005931e0 : MOV EDX,dword ptr [ECX + 0xa98]
005931e6 : ADD ECX,0xa98
005931ec : LEA ESP,[ESP]
005931f0 : CMP dword ptr [EDX],ESI
005931f2 : JZ 0x005931fe
005931f4 : INC EAX
005931f5 : ADD EDX,0x4
005931f8 : CMP EAX,EDI
005931fa : JC 0x005931f0
005931fc : JMP 0x00593209
005931fe : CMP EAX,-0x1
00593201 : JLE 0x00593209
00593203 : PUSH EAX
00593204 : CALL 0x00592440
00593209 : MOV EAX,dword ptr [ESI + 0xa0]
0059320f : OR dword ptr [EAX + 0xb00],0x400
00593219 : ADD EAX,0xb00
0059321e : LEA ECX,[ESI + 0xa8]
00593224 : CALL 0x005ed030
00593229 : MOV ECX,ESI
0059322b : CALL 0x0051f170
00593230 : MOV EAX,dword ptr [ESI + 0x68]
00593233 : MOV EDX,dword ptr [EAX + 0x34]
00593236 : LEA ECX,[ESI + 0x68]
00593239 : PUSH 0x0
0059323b : ADD ESI,0x144
00593241 : PUSH ESI
00593242 : CALL EDX
00593244 : POP EDI
00593245 : POP ESI
00593246 : RET
