PROGRAM  : Maestia.exe
FUNCTION : FUN_009a7640
ENTRY    : 009a7640
BODY     : [[009a7640, 009a76f5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009a7640(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  int *in_ECX;
  int *piVar2;
  
  piVar1 = (int *)in_ECX[0x1f];
  if (piVar1 == (int *)0x0) {
    if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
      if ((uint)in_ECX[0x16] < 8) {
        piVar2 = in_ECX + 0x11;
      }
      else {
        piVar2 = (int *)in_ECX[0x11];
      }
      (**(code **)(*piVar1 + 4))(piVar1,"MsgDlgOpen","%ls, %d",piVar2,in_ECX[0x27]);
    }
  }
  else {
    if ((uint)in_ECX[0x16] < 8) {
      piVar2 = in_ECX + 0x11;
    }
    else {
      piVar2 = (int *)in_ECX[0x11];
    }
    (**(code **)(*piVar1 + 4))(piVar1,"MsgDlgOpen","%ls, %d",piVar2,in_ECX[0x27]);
    (**(code **)(*(int *)in_ECX[0x1f] + 0x18))(1);
  }
  in_ECX[0x1e] = 0;
  FUN_008f7770(param_1,param_2);
  (**(code **)(*in_ECX + 4))(0);
  DAT_00da9851 = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
009a7640 : PUSH EBP
009a7641 : MOV EBP,ESP
009a7643 : PUSH ESI
009a7644 : MOV ESI,ECX
009a7646 : MOV EAX,dword ptr [ESI + 0x7c]
009a7649 : PUSH EDI
009a764a : TEST EAX,EAX
009a764c : JZ 0x009a7687
009a764e : CMP dword ptr [ESI + 0x58],0x8
009a7652 : JC 0x009a7659
009a7654 : MOV ECX,dword ptr [ESI + 0x44]
009a7657 : JMP 0x009a765c
009a7659 : LEA ECX,[ESI + 0x44]
009a765c : MOV EDI,dword ptr [ESI + 0x9c]
009a7662 : MOV EDX,dword ptr [EAX]
009a7664 : PUSH EDI
009a7665 : PUSH ECX
009a7666 : PUSH 0xc89fb4
009a766b : PUSH 0xc89fbc
009a7670 : PUSH EAX
009a7671 : MOV EAX,dword ptr [EDX + 0x4]
009a7674 : CALL EAX
009a7676 : MOV ECX,dword ptr [ESI + 0x7c]
009a7679 : MOV EDX,dword ptr [ECX]
009a767b : MOV EAX,dword ptr [EDX + 0x18]
009a767e : ADD ESP,0x14
009a7681 : PUSH 0x1
009a7683 : CALL EAX
009a7685 : JMP 0x009a76c8
009a7687 : MOV ECX,dword ptr [0x00da9894]
009a768d : MOV EAX,dword ptr [ECX]
009a768f : TEST EAX,EAX
009a7691 : JZ 0x009a76c8
009a7693 : MOV EAX,dword ptr [EAX + 0x114]
009a7699 : TEST EAX,EAX
009a769b : JZ 0x009a76c8
009a769d : CMP dword ptr [ESI + 0x58],0x8
009a76a1 : JC 0x009a76a8
009a76a3 : MOV ECX,dword ptr [ESI + 0x44]
009a76a6 : JMP 0x009a76ab
009a76a8 : LEA ECX,[ESI + 0x44]
009a76ab : MOV EDI,dword ptr [ESI + 0x9c]
009a76b1 : MOV EDX,dword ptr [EAX]
009a76b3 : PUSH EDI
009a76b4 : PUSH ECX
009a76b5 : PUSH 0xc89fc8
009a76ba : PUSH 0xc89fd0
009a76bf : PUSH EAX
009a76c0 : MOV EAX,dword ptr [EDX + 0x4]
009a76c3 : CALL EAX
009a76c5 : ADD ESP,0x14
009a76c8 : MOV ECX,dword ptr [EBP + 0xc]
009a76cb : MOV EDX,dword ptr [EBP + 0x8]
009a76ce : PUSH ECX
009a76cf : PUSH EDX
009a76d0 : MOV ECX,ESI
009a76d2 : MOV dword ptr [ESI + 0x78],0x0
009a76d9 : CALL 0x008f7770
009a76de : MOV EAX,dword ptr [ESI]
009a76e0 : MOV EDX,dword ptr [EAX + 0x4]
009a76e3 : PUSH 0x0
009a76e5 : MOV ECX,ESI
009a76e7 : CALL EDX
009a76e9 : POP EDI
009a76ea : MOV byte ptr [0x00da9851],0x1
009a76f1 : POP ESI
009a76f2 : POP EBP
009a76f3 : RET 0x8
