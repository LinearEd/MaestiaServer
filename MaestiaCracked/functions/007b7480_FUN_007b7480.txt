PROGRAM  : Maestia.exe
FUNCTION : FUN_007b7480
ENTRY    : 007b7480
BODY     : [[007b7480, 007b7557]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_007b7480(int param_1)

{
  int *piVar1;
  int local_10;
  int local_c;
  
  *(undefined1 *)(param_1 + 0xa9ba) = 0;
  *(undefined1 *)(param_1 + 0x9961) = 0;
  FUN_00468010();
  while (local_10 != 0) {
    piVar1 = (int *)FUN_004680f0(&local_10,local_10,local_c);
    local_c = piVar1[1];
    local_10 = *piVar1;
  }
  if (*(int *)(param_1 + 0x7660) != 0) {
    FUN_0046d1b0(param_1 + 0x765c);
    *(undefined4 *)(*(int *)(param_1 + 0x7670) + *(int *)(param_1 + 0x7678) * 4) =
         *(undefined4 *)(param_1 + 0x7660);
    *(int *)(param_1 + 0x7678) = *(int *)(param_1 + 0x7678) + 1;
    *(undefined4 *)(param_1 + 0x7660) = 0;
  }
  *(undefined4 *)(param_1 + 0x7664) = 0;
  FUN_006eb860(param_1,0);
  FUN_006e9f20();
  if (*(int *)(param_1 + 0xaddc) != 0) {
    FUN_008018d0(L"CSpeedTreeRenderer::ClearForest() Error !!!!!!");
  }
  if (param_1 != -0x768c) {
    *(undefined4 *)(param_1 + 0x7734) = 0;
  }
  return 1;
}



============================================================
DISASSEMBLY
============================================================
007b7480 : PUSH EBP
007b7481 : MOV EBP,ESP
007b7483 : AND ESP,0xfffffff8
007b7486 : SUB ESP,0xc
007b7489 : PUSH EBX
007b748a : MOV EBX,dword ptr [EBP + 0x8]
007b748d : PUSH ESI
007b748e : LEA ESI,[EBX + 0xadd4]
007b7494 : PUSH EDI
007b7495 : LEA EAX,[ESP + 0x10]
007b7499 : MOV ECX,ESI
007b749b : MOV byte ptr [EBX + 0xa9ba],0x0
007b74a2 : MOV byte ptr [EBX + 0x9961],0x0
007b74a9 : CALL 0x00468010
007b74ae : MOV ECX,dword ptr [ESP + 0x10]
007b74b2 : XOR EDI,EDI
007b74b4 : CMP ECX,EDI
007b74b6 : JZ 0x007b74e1
007b74b8 : MOV EDX,dword ptr [ESP + 0x14]
007b74bc : LEA ESP,[ESP]
007b74c0 : SUB ESP,0x8
007b74c3 : MOV EAX,ESP
007b74c5 : MOV dword ptr [EAX],ECX
007b74c7 : MOV dword ptr [EAX + 0x4],EDX
007b74ca : LEA EAX,[ESP + 0x18]
007b74ce : PUSH EAX
007b74cf : MOV EDI,ESI
007b74d1 : CALL 0x004680f0
007b74d6 : MOV ECX,dword ptr [EAX]
007b74d8 : MOV EDX,dword ptr [EAX + 0x4]
007b74db : TEST ECX,ECX
007b74dd : JNZ 0x007b74c0
007b74df : XOR EDI,EDI
007b74e1 : MOV EAX,dword ptr [EBX + 0x7660]
007b74e7 : LEA ESI,[EBX + 0x765c]
007b74ed : CMP EAX,EDI
007b74ef : JZ 0x007b750e
007b74f1 : MOV ECX,dword ptr [ESI + 0x10]
007b74f4 : PUSH ESI
007b74f5 : ADD ECX,EAX
007b74f7 : CALL 0x0046d1b0
007b74fc : MOV ECX,dword ptr [ESI + 0x1c]
007b74ff : MOV EAX,dword ptr [ESI + 0x4]
007b7502 : MOV EDX,dword ptr [ESI + 0x14]
007b7505 : MOV dword ptr [EDX + ECX*0x4],EAX
007b7508 : INC dword ptr [ESI + 0x1c]
007b750b : MOV dword ptr [ESI + 0x4],EDI
007b750e : PUSH EDI
007b750f : PUSH EBX
007b7510 : MOV dword ptr [ESI + 0x8],EDI
007b7513 : CALL 0x006eb860
007b7518 : MOV EDI,EBX
007b751a : CALL 0x006e9f20
007b751f : CMP dword ptr [EBX + 0xaddc],0x0
007b7526 : JZ 0x007b753b
007b7528 : MOV ESI,dword ptr [0x00da98e8]
007b752e : PUSH 0xc18580
007b7533 : CALL 0x008018d0
007b7538 : ADD ESP,0x4
007b753b : ADD EBX,0x768c
007b7541 : MOV AL,0x1
007b7543 : JZ 0x007b754f
007b7545 : MOV dword ptr [EBX + 0xa8],0x0
007b754f : POP EDI
007b7550 : POP ESI
007b7551 : POP EBX
007b7552 : MOV ESP,EBP
007b7554 : POP EBP
007b7555 : RET 0x4
