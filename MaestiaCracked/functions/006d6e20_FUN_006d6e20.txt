PROGRAM  : Maestia.exe
FUNCTION : FUN_006d6e20
ENTRY    : 006d6e20
BODY     : [[006d6e20, 006d6ef1]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006d6e20(int *param_1)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  
  if (param_1[5] == 0xca) {
    FUN_006d9ce0(param_1);
    if ((char)param_1[0x10] != '\0') {
      param_1[5] = 0xcf;
      return 1;
    }
    param_1[5] = 0xcb;
  }
  if (param_1[5] == 0xcb) {
    if (*(char *)(param_1[100] + 0x10) != '\0') {
      while( true ) {
        if ((undefined4 *)param_1[2] != (undefined4 *)0x0) {
          (**(code **)param_1[2])(param_1);
        }
        iVar2 = (**(code **)param_1[100])(param_1);
        if (iVar2 == 0) {
          return 0;
        }
        if (iVar2 == 2) break;
        if ((param_1[2] != 0) && ((iVar2 == 3 || (iVar2 == 1)))) {
          piVar1 = (int *)(param_1[2] + 4);
          *piVar1 = *piVar1 + 1;
          iVar2 = param_1[2];
          if (*(int *)(iVar2 + 8) <= *(int *)(iVar2 + 4)) {
            *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + param_1[0x47];
          }
        }
      }
    }
    param_1[0x21] = param_1[0x1f];
    uVar3 = FUN_006d6cb0();
    return uVar3;
  }
  if (param_1[5] != 0xcc) {
    *(undefined4 *)(*param_1 + 0x14) = 0x14;
    *(int *)(*param_1 + 0x18) = param_1[5];
    (**(code **)*param_1)(param_1);
  }
  uVar3 = FUN_006d6cb0();
  return uVar3;
}



============================================================
DISASSEMBLY
============================================================
006d6e20 : PUSH ESI
006d6e21 : MOV ESI,dword ptr [ESP + 0x8]
006d6e25 : CMP dword ptr [ESI + 0x14],0xca
006d6e2c : JNZ 0x006d6e4f
006d6e2e : PUSH ESI
006d6e2f : CALL 0x006d9ce0
006d6e34 : ADD ESP,0x4
006d6e37 : CMP byte ptr [ESI + 0x40],0x0
006d6e3b : JZ 0x006d6e48
006d6e3d : MOV dword ptr [ESI + 0x14],0xcf
006d6e44 : MOV AL,0x1
006d6e46 : POP ESI
006d6e47 : RET
006d6e48 : MOV dword ptr [ESI + 0x14],0xcb
006d6e4f : MOV EAX,dword ptr [ESI + 0x14]
006d6e52 : CMP EAX,0xcb
006d6e57 : JNZ 0x006d6ec9
006d6e59 : MOV EAX,dword ptr [ESI + 0x190]
006d6e5f : CMP byte ptr [EAX + 0x10],0x0
006d6e63 : JZ 0x006d6eb9
006d6e65 : MOV EAX,dword ptr [ESI + 0x8]
006d6e68 : TEST EAX,EAX
006d6e6a : JZ 0x006d6e74
006d6e6c : MOV ECX,dword ptr [EAX]
006d6e6e : PUSH ESI
006d6e6f : CALL ECX
006d6e71 : ADD ESP,0x4
006d6e74 : MOV EDX,dword ptr [ESI + 0x190]
006d6e7a : MOV EAX,dword ptr [EDX]
006d6e7c : PUSH ESI
006d6e7d : CALL EAX
006d6e7f : ADD ESP,0x4
006d6e82 : TEST EAX,EAX
006d6e84 : JZ 0x006d6eb5
006d6e86 : CMP EAX,0x2
006d6e89 : JZ 0x006d6eb9
006d6e8b : MOV ECX,dword ptr [ESI + 0x8]
006d6e8e : TEST ECX,ECX
006d6e90 : JZ 0x006d6e65
006d6e92 : CMP EAX,0x3
006d6e95 : JZ 0x006d6e9c
006d6e97 : CMP EAX,0x1
006d6e9a : JNZ 0x006d6e65
006d6e9c : INC dword ptr [ECX + 0x4]
006d6e9f : MOV EAX,dword ptr [ESI + 0x8]
006d6ea2 : MOV ECX,dword ptr [EAX + 0x4]
006d6ea5 : CMP ECX,dword ptr [EAX + 0x8]
006d6ea8 : JL 0x006d6e65
006d6eaa : MOV EDX,dword ptr [ESI + 0x11c]
006d6eb0 : ADD dword ptr [EAX + 0x8],EDX
006d6eb3 : JMP 0x006d6e65
006d6eb5 : XOR AL,AL
006d6eb7 : POP ESI
006d6eb8 : RET
006d6eb9 : MOV EAX,dword ptr [ESI + 0x7c]
006d6ebc : MOV dword ptr [ESI + 0x84],EAX
006d6ec2 : CALL 0x006d6cb0
006d6ec7 : POP ESI
006d6ec8 : RET
006d6ec9 : CMP EAX,0xcc
006d6ece : JZ 0x006d6eeb
006d6ed0 : MOV ECX,dword ptr [ESI]
006d6ed2 : MOV dword ptr [ECX + 0x14],0x14
006d6ed9 : MOV EDX,dword ptr [ESI]
006d6edb : MOV EAX,dword ptr [ESI + 0x14]
006d6ede : MOV dword ptr [EDX + 0x18],EAX
006d6ee1 : MOV ECX,dword ptr [ESI]
006d6ee3 : MOV EDX,dword ptr [ECX]
006d6ee5 : PUSH ESI
006d6ee6 : CALL EDX
006d6ee8 : ADD ESP,0x4
006d6eeb : CALL 0x006d6cb0
006d6ef0 : POP ESI
006d6ef1 : RET
