PROGRAM  : Maestia.exe
FUNCTION : FUN_005c10d0
ENTRY    : 005c10d0
BODY     : [[005c10d0, 005c1173]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005c10d0(void)

{
  int iVar1;
  int iVar2;
  char cVar3;
  uint uVar4;
  int in_ECX;
  int iVar5;
  int iVar6;
  
  uVar4 = *(uint *)(in_ECX + 0x5c);
  iVar2 = *(int *)(in_ECX + 0x54);
  iVar5 = *(int *)(in_ECX + 0x50) - uVar4;
  *(uint *)(in_ECX + 0x30) = *(uint *)(in_ECX + 0x48) - uVar4;
  *(int *)(in_ECX + 0x38) = iVar5;
  *(uint *)(in_ECX + 0x34) =
       (*(int *)(in_ECX + 0x4c) - ((int)uVar4 >> 0x1f)) - (uint)(*(uint *)(in_ECX + 0x48) < uVar4);
  *(int *)(in_ECX + 0x40) = *(int *)(in_ECX + 0x58);
  *(int *)(in_ECX + 0x3c) = iVar2;
  if ((86399999 < iVar5) || (iVar5 < 0)) {
    iVar1 = (iVar5 + 864000000) / 86400000 + -10;
    iVar6 = *(int *)(in_ECX + 0x58) + iVar1;
    *(int *)(in_ECX + 0x38) = iVar5 + iVar1 * -86400000;
    *(int *)(in_ECX + 0x40) = iVar6;
    cVar3 = FUN_005c0f80();
    iVar5 = (cVar3 != '\0') + 0x16d;
    if (iVar5 <= iVar6) {
      *(int *)(in_ECX + 0x40) = iVar6 - iVar5;
      *(int *)(in_ECX + 0x3c) = iVar2 + 1;
      return;
    }
    if (iVar6 < 0) {
      *(int *)(in_ECX + 0x3c) = iVar2 + -1;
      uVar4 = FUN_005c0f80();
      *(uint *)(in_ECX + 0x40) = (uVar4 & 0xff) + iVar6;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005c10d0 : PUSH EBX
005c10d1 : PUSH ESI
005c10d2 : MOV ESI,ECX
005c10d4 : MOV EAX,dword ptr [ESI + 0x5c]
005c10d7 : MOV ECX,dword ptr [ESI + 0x50]
005c10da : MOV EBX,dword ptr [ESI + 0x54]
005c10dd : SUB ECX,EAX
005c10df : PUSH EDI
005c10e0 : MOV EDI,dword ptr [ESI + 0x48]
005c10e3 : CDQ
005c10e4 : SUB EDI,EAX
005c10e6 : MOV EAX,dword ptr [ESI + 0x4c]
005c10e9 : SBB EAX,EDX
005c10eb : CMP ECX,0x5265c00
005c10f1 : MOV dword ptr [ESI + 0x30],EDI
005c10f4 : MOV EDI,dword ptr [ESI + 0x58]
005c10f7 : MOV dword ptr [ESI + 0x38],ECX
005c10fa : MOV dword ptr [ESI + 0x34],EAX
005c10fd : MOV dword ptr [ESI + 0x40],EDI
005c1100 : MOV dword ptr [ESI + 0x3c],EBX
005c1103 : JGE 0x005c1109
005c1105 : TEST ECX,ECX
005c1107 : JGE 0x005c1170
005c1109 : LEA EDX,[ECX + 0x337f9800]
005c110f : MOV EAX,0x31b5d43b
005c1114 : IMUL EDX
005c1116 : SAR EDX,0x18
005c1119 : MOV EAX,EDX
005c111b : SHR EAX,0x1f
005c111e : LEA EAX,[EDX + EAX*0x1 + -0xa]
005c1122 : ADD EDI,EAX
005c1124 : IMUL EAX,EAX,0x5265c00
005c112a : SUB ECX,EAX
005c112c : MOV dword ptr [ESI + 0x38],ECX
005c112f : MOV ECX,EBX
005c1131 : MOV dword ptr [ESI + 0x40],EDI
005c1134 : CALL 0x005c0f80
005c1139 : XOR ECX,ECX
005c113b : TEST AL,AL
005c113d : SETNZ CL
005c1140 : ADD ECX,0x16d
005c1146 : MOV EAX,ECX
005c1148 : CMP EDI,EAX
005c114a : JL 0x005c1159
005c114c : SUB EDI,EAX
005c114e : MOV dword ptr [ESI + 0x40],EDI
005c1151 : INC EBX
005c1152 : POP EDI
005c1153 : MOV dword ptr [ESI + 0x3c],EBX
005c1156 : POP ESI
005c1157 : POP EBX
005c1158 : RET
005c1159 : TEST EDI,EDI
005c115b : JGE 0x005c1170
005c115d : LEA ECX,[EBX + -0x1]
005c1160 : MOV dword ptr [ESI + 0x3c],ECX
005c1163 : CALL 0x005c0f80
005c1168 : MOVZX EDX,AL
005c116b : ADD EDX,EDI
005c116d : MOV dword ptr [ESI + 0x40],EDX
005c1170 : POP EDI
005c1171 : POP ESI
005c1172 : POP EBX
005c1173 : RET
