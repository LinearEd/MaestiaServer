PROGRAM  : Maestia.exe
FUNCTION : FUN_007dc020
ENTRY    : 007dc020
BODY     : [[007dc020, 007dc23f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007dc020(float param_1,float param_2)

{
  int iVar1;
  int unaff_ESI;
  float fVar2;
  float fVar3;
  double dVar4;
  
  if (*(float *)(unaff_ESI + 0x10) <= 10.0 && *(float *)(unaff_ESI + 0x10) != 10.0) {
    *(undefined4 *)(unaff_ESI + 0x10) = 0x41200000;
  }
  switch(*(undefined4 *)(unaff_ESI + 4)) {
  case 0:
    *(float *)(unaff_ESI + 0x44) = *(float *)(unaff_ESI + 0x94) * param_2;
    *(float *)(unaff_ESI + 0x48) = *(float *)(unaff_ESI + 0x98) * param_2;
    *(float *)(unaff_ESI + 0x4c) = *(float *)(unaff_ESI + 0x9c) * param_2;
    return;
  case 1:
    iVar1 = _rand();
    fVar2 = ((float)(iVar1 % 3) + 1.0) * param_1 + *(float *)(unaff_ESI + 0x3c);
    *(float *)(unaff_ESI + 0x3c) = fVar2;
    dVar4 = (double)(fVar2 * 3.0);
    FUN_0063ef0d();
    *(float *)(unaff_ESI + 0xc) = ((float)dVar4 * 0.1 + 0.9) * *(float *)(unaff_ESI + 0x10);
    return;
  case 2:
    iVar1 = _rand();
    fVar2 = ((float)(iVar1 % 3) + 1.0) * param_1 + *(float *)(unaff_ESI + 0x3c);
    *(float *)(unaff_ESI + 0x3c) = fVar2;
    fVar2 = fVar2 * 2.0;
    dVar4 = (double)fVar2;
    FUN_0063ed62();
    fVar3 = (float)dVar4 * DAT_00d72c24 + 1.0;
    *(float *)(unaff_ESI + 0x44) = *(float *)(unaff_ESI + 0x94) * fVar3;
    *(float *)(unaff_ESI + 0x48) = *(float *)(unaff_ESI + 0x98) * fVar3;
    dVar4 = (double)fVar2;
    *(float *)(unaff_ESI + 0x4c) = *(float *)(unaff_ESI + 0x9c) * fVar3;
    FUN_0063ef0d();
    *(float *)(unaff_ESI + 0xc) = ((float)dVar4 * 0.1 + 0.9) * *(float *)(unaff_ESI + 0x10);
  case 3:
    fVar2 = *(float *)(unaff_ESI + 0x3c);
    fVar3 = *(float *)(unaff_ESI + 0x40);
    if (fVar3 < fVar2) {
      *(undefined1 *)(unaff_ESI + 0xe0) = 1;
      return;
    }
    if (fVar2 == 0.0) {
      fVar2 = 1e-06;
    }
    else {
      fVar2 = fVar2 + param_1;
    }
    *(float *)(unaff_ESI + 0x3c) = fVar2;
    fVar3 = (fVar3 - *(float *)(unaff_ESI + 0x3c)) / fVar3;
    fVar3 = fVar3 * fVar3;
    *(float *)(unaff_ESI + 0xc) = fVar3 * *(float *)(unaff_ESI + 0x10);
    *(float *)(unaff_ESI + 0x44) = *(float *)(unaff_ESI + 0x94) * fVar3 * 8.0;
    *(float *)(unaff_ESI + 0x48) = *(float *)(unaff_ESI + 0x98) * fVar3 * 8.0;
    *(float *)(unaff_ESI + 0x4c) = *(float *)(unaff_ESI + 0x9c) * fVar3 * 8.0;
  default:
    return;
  }
}



============================================================
DISASSEMBLY
============================================================
007dc020 : PUSH EBP
007dc021 : MOV EBP,ESP
007dc023 : AND ESP,0xfffffff8
007dc026 : MOVSS XMM0,dword ptr [0x00c18874]
007dc02e : SUB ESP,0x8
007dc031 : COMISS XMM0,dword ptr [ESI + 0x10]
007dc035 : JBE 0x007dc03c
007dc037 : MOVSS dword ptr [ESI + 0x10],XMM0
007dc03c : MOV EAX,dword ptr [ESI + 0x4]
007dc03f : CMP EAX,0x3
007dc042 : JA 0x007dc23a
007dc048 : JMP dword ptr [EAX*0x4 + 0x7dc240]
007dc04f : MOVSS XMM0,dword ptr [EBP + 0xc]
007dc054 : MOVSS XMM1,dword ptr [ESI + 0x94]
007dc05c : MULSS XMM1,XMM0
007dc060 : MOVSS dword ptr [ESI + 0x44],XMM1
007dc065 : MOVSS XMM1,dword ptr [ESI + 0x98]
007dc06d : MULSS XMM1,XMM0
007dc071 : MOVSS dword ptr [ESI + 0x48],XMM1
007dc076 : MOVSS XMM1,dword ptr [ESI + 0x9c]
007dc07e : MULSS XMM1,XMM0
007dc082 : MOVSS dword ptr [ESI + 0x4c],XMM1
007dc087 : MOV ESP,EBP
007dc089 : POP EBP
007dc08a : RET 0x8
007dc08d : CALL 0x00635d2f
007dc092 : CDQ
007dc093 : MOV ECX,0x3
007dc098 : IDIV ECX
007dc09a : CVTSI2SS XMM0,EDX
007dc09e : ADDSS XMM0,dword ptr [0x00c10fc4]
007dc0a6 : MULSS XMM0,dword ptr [EBP + 0x8]
007dc0ab : ADDSS XMM0,dword ptr [ESI + 0x3c]
007dc0b0 : MOVSS dword ptr [ESI + 0x3c],XMM0
007dc0b5 : MULSS XMM0,dword ptr [0x00cdf19c]
007dc0bd : CVTSS2SD XMM0,XMM0
007dc0c1 : CALL 0x0063ef0d
007dc0c6 : CVTSD2SS XMM0,XMM0
007dc0ca : MULSS XMM0,dword ptr [0x00cdf0f0]
007dc0d2 : ADDSS XMM0,dword ptr [0x00cdf1c4]
007dc0da : MULSS XMM0,dword ptr [ESI + 0x10]
007dc0df : MOVSS dword ptr [ESI + 0xc],XMM0
007dc0e4 : MOV ESP,EBP
007dc0e6 : POP EBP
007dc0e7 : RET 0x8
007dc0ea : CALL 0x00635d2f
007dc0ef : CDQ
007dc0f0 : MOV ECX,0x3
007dc0f5 : IDIV ECX
007dc0f7 : CVTSI2SS XMM0,EDX
007dc0fb : ADDSS XMM0,dword ptr [0x00c10fc4]
007dc103 : MULSS XMM0,dword ptr [EBP + 0x8]
007dc108 : ADDSS XMM0,dword ptr [ESI + 0x3c]
007dc10d : MOVSS dword ptr [ESI + 0x3c],XMM0
007dc112 : MULSS XMM0,dword ptr [0x00cdf144]
007dc11a : MOVSS dword ptr [ESP + 0x4],XMM0
007dc120 : CVTSS2SD XMM0,XMM0
007dc124 : CALL 0x0063ed62
007dc129 : MOVSS XMM1,dword ptr [ESI + 0x94]
007dc131 : CVTSD2SS XMM0,XMM0
007dc135 : MULSS XMM0,dword ptr [0x00d72c24]
007dc13d : ADDSS XMM0,dword ptr [0x00c10fc4]
007dc145 : MULSS XMM1,XMM0
007dc149 : MOVSS dword ptr [ESI + 0x44],XMM1
007dc14e : MOVSS XMM1,dword ptr [ESI + 0x98]
007dc156 : MULSS XMM1,XMM0
007dc15a : MOVSS dword ptr [ESI + 0x48],XMM1
007dc15f : MOVSS XMM1,dword ptr [ESI + 0x9c]
007dc167 : MULSS XMM1,XMM0
007dc16b : CVTSS2SD XMM0,dword ptr [ESP + 0x4]
007dc171 : MOVSS dword ptr [ESI + 0x4c],XMM1
007dc176 : CALL 0x0063ef0d
007dc17b : CVTSD2SS XMM0,XMM0
007dc17f : MULSS XMM0,dword ptr [0x00cdf0f0]
007dc187 : ADDSS XMM0,dword ptr [0x00cdf1c4]
007dc18f : MULSS XMM0,dword ptr [ESI + 0x10]
007dc194 : MOVSS dword ptr [ESI + 0xc],XMM0
007dc199 : MOVSS XMM0,dword ptr [ESI + 0x3c]
007dc19e : MOVSS XMM1,dword ptr [ESI + 0x40]
007dc1a3 : COMISS XMM0,XMM1
007dc1a6 : JBE 0x007dc1b5
007dc1a8 : MOV byte ptr [ESI + 0xe0],0x1
007dc1af : MOV ESP,EBP
007dc1b1 : POP EBP
007dc1b2 : RET 0x8
007dc1b5 : UCOMISS XMM0,dword ptr [0x00b9b0b4]
007dc1bc : LAHF
007dc1bd : TEST AH,0x44
007dc1c0 : JP 0x007dc1cc
007dc1c2 : MOVSS XMM0,dword ptr [0x00cdf414]
007dc1ca : JMP 0x007dc1d1
007dc1cc : ADDSS XMM0,dword ptr [EBP + 0x8]
007dc1d1 : MOVSS XMM2,dword ptr [ESI + 0x94]
007dc1d9 : MOVSS dword ptr [ESI + 0x3c],XMM0
007dc1de : MOVAPS XMM0,XMM1
007dc1e1 : SUBSS XMM0,dword ptr [ESI + 0x3c]
007dc1e6 : DIVSS XMM0,XMM1
007dc1ea : MULSS XMM0,XMM0
007dc1ee : MULSS XMM2,XMM0
007dc1f2 : MOVAPS XMM1,XMM0
007dc1f5 : MULSS XMM1,dword ptr [ESI + 0x10]
007dc1fa : MOVSS dword ptr [ESI + 0xc],XMM1
007dc1ff : MOVSS XMM1,dword ptr [0x00cdf15c]
007dc207 : MULSS XMM2,XMM1
007dc20b : MOVSS dword ptr [ESI + 0x44],XMM2
007dc210 : MOVSS XMM2,dword ptr [ESI + 0x98]
007dc218 : MULSS XMM2,XMM0
007dc21c : MULSS XMM2,XMM1
007dc220 : MOVSS dword ptr [ESI + 0x48],XMM2
007dc225 : MOVSS XMM2,dword ptr [ESI + 0x9c]
007dc22d : MULSS XMM2,XMM0
007dc231 : MULSS XMM2,XMM1
007dc235 : MOVSS dword ptr [ESI + 0x4c],XMM2
007dc23a : MOV ESP,EBP
007dc23c : POP EBP
007dc23d : RET 0x8
