PROGRAM  : Maestia.exe
FUNCTION : SkipBytes
ENTRY    : 005e9ee0
BODY     : [[005e9ee0, 005e9f42]]

============================================================
DECOMPILED C CODE
============================================================

/* public: virtual int __thiscall GBufferedFile::SkipBytes(int) */

int __thiscall GBufferedFile::SkipBytes(GBufferedFile *this,int param_1)

{
  GBufferedFile *pGVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  
                    /* 0x1e9ee0  149  ?SkipBytes@GBufferedFile@@UAEHH@Z */
  iVar4 = 0;
  if (*(int *)(this + 0x10) == 1) {
    iVar4 = *(int *)(this + 0x18) - *(int *)(this + 0x14);
    if (param_1 <= iVar4) {
      iVar4 = param_1;
    }
    *(int *)(this + 0x14) = *(int *)(this + 0x14) + iVar4;
    param_1 = param_1 - iVar4;
  }
  if (param_1 != 0) {
    uVar3 = (**(code **)(**(int **)(this + 8) + 0x2c))(param_1);
    if (uVar3 == 0xffffffff) {
      if (iVar4 < 1) {
        return -1;
      }
    }
    else {
      iVar4 = iVar4 + uVar3;
      pGVar1 = this + 0x20;
      uVar2 = *(uint *)pGVar1;
      *(uint *)pGVar1 = *(uint *)pGVar1 + uVar3;
      *(undefined4 *)(this + 0x18) = 0;
      *(undefined4 *)(this + 0x14) = 0;
      *(uint *)(this + 0x24) =
           *(int *)(this + 0x24) + ((int)uVar3 >> 0x1f) + (uint)CARRY4(uVar2,uVar3);
    }
  }
  return iVar4;
}



============================================================
DISASSEMBLY
============================================================
005e9ee0 : MOV EAX,dword ptr [ESP + 0x4]
005e9ee4 : PUSH ESI
005e9ee5 : PUSH EDI
005e9ee6 : MOV ESI,ECX
005e9ee8 : XOR EDI,EDI
005e9eea : CMP dword ptr [ESI + 0x10],0x1
005e9eee : JNZ 0x005e9f05
005e9ef0 : MOV ECX,dword ptr [ESI + 0x14]
005e9ef3 : MOV EDI,dword ptr [ESI + 0x18]
005e9ef6 : SUB EDI,ECX
005e9ef8 : CMP EDI,EAX
005e9efa : JL 0x005e9efe
005e9efc : MOV EDI,EAX
005e9efe : ADD ECX,EDI
005e9f00 : MOV dword ptr [ESI + 0x14],ECX
005e9f03 : SUB EAX,EDI
005e9f05 : TEST EAX,EAX
005e9f07 : JZ 0x005e9f30
005e9f09 : MOV ECX,dword ptr [ESI + 0x8]
005e9f0c : MOV EDX,dword ptr [ECX]
005e9f0e : PUSH EAX
005e9f0f : MOV EAX,dword ptr [EDX + 0x2c]
005e9f12 : CALL EAX
005e9f14 : CMP EAX,-0x1
005e9f17 : JZ 0x005e9f37
005e9f19 : ADD EDI,EAX
005e9f1b : CDQ
005e9f1c : ADD dword ptr [ESI + 0x20],EAX
005e9f1f : MOV dword ptr [ESI + 0x18],0x0
005e9f26 : MOV dword ptr [ESI + 0x14],0x0
005e9f2d : ADC dword ptr [ESI + 0x24],EDX
005e9f30 : MOV EAX,EDI
005e9f32 : POP EDI
005e9f33 : POP ESI
005e9f34 : RET 0x4
005e9f37 : TEST EDI,EDI
005e9f39 : JG 0x005e9f30
005e9f3b : POP EDI
005e9f3c : OR EAX,0xffffffff
005e9f3f : POP ESI
005e9f40 : RET 0x4
