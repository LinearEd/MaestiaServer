PROGRAM  : Maestia.exe
FUNCTION : FUN_0070c740
ENTRY    : 0070c740
BODY     : [[0070c740, 0070c7fe]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0070c740(int param_1)

{
  wchar_t *_FullPath;
  wchar_t local_a20 [1024];
  wchar_t local_220 [128];
  wchar_t local_120 [128];
  wchar_t local_20 [6];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b177a4;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(uint *)(param_1 + 0x14) < 0x401) {
    if (*(uint *)(param_1 + 0x18) < 8) {
      _FullPath = (wchar_t *)(param_1 + 4);
    }
    else {
      _FullPath = *(wchar_t **)(param_1 + 4);
    }
    __wsplitpath(_FullPath,local_20,local_a20,local_220,local_120);
    FUN_00406460(local_120);
  }
  else {
    FUN_00406460(&DAT_00bfd764);
  }
  local_8 = 0;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0070c740 : PUSH EBP
0070c741 : MOV EBP,ESP
0070c743 : PUSH -0x1
0070c745 : PUSH 0xb177a4
0070c74a : MOV EAX,FS:[0x0]
0070c750 : PUSH EAX
0070c751 : SUB ESP,0xa18
0070c757 : MOV EAX,[0x00d66fa0]
0070c75c : XOR EAX,EBP
0070c75e : MOV dword ptr [EBP + -0x10],EAX
0070c761 : PUSH EAX
0070c762 : LEA EAX,[EBP + -0xc]
0070c765 : MOV FS:[0x0],EAX
0070c76b : MOV EAX,dword ptr [EBP + 0x8]
0070c76e : MOV dword ptr [EBP + 0xfffff5e0],0x0
0070c778 : CMP dword ptr [EAX + 0x14],0x400
0070c77f : MOV dword ptr [EBP + 0xfffff5dc],ESI
0070c785 : JBE 0x0070c795
0070c787 : PUSH 0xbfd764
0070c78c : MOV ECX,ESI
0070c78e : CALL 0x00406460
0070c793 : JMP 0x0070c7d3
0070c795 : CMP dword ptr [EAX + 0x18],0x8
0070c799 : JC 0x0070c7a0
0070c79b : MOV EAX,dword ptr [EAX + 0x4]
0070c79e : JMP 0x0070c7a3
0070c7a0 : ADD EAX,0x4
0070c7a3 : LEA ECX,[EBP + 0xfffffee4]
0070c7a9 : PUSH ECX
0070c7aa : LEA EDX,[EBP + 0xfffffde4]
0070c7b0 : PUSH EDX
0070c7b1 : LEA ECX,[EBP + 0xfffff5e4]
0070c7b7 : PUSH ECX
0070c7b8 : LEA EDX,[EBP + -0x1c]
0070c7bb : PUSH EDX
0070c7bc : PUSH EAX
0070c7bd : CALL 0x00636e00
0070c7c2 : ADD ESP,0x14
0070c7c5 : LEA EAX,[EBP + 0xfffffee4]
0070c7cb : PUSH EAX
0070c7cc : MOV ECX,ESI
0070c7ce : CALL 0x00406460
0070c7d3 : MOV dword ptr [EBP + -0x4],0x0
0070c7da : MOV dword ptr [EBP + 0xfffff5e0],0x1
0070c7e4 : MOV EAX,ESI
0070c7e6 : MOV ECX,dword ptr [EBP + -0xc]
0070c7e9 : MOV dword ptr FS:[0x0],ECX
0070c7f0 : POP ECX
0070c7f1 : MOV ECX,dword ptr [EBP + -0x10]
0070c7f4 : XOR ECX,EBP
0070c7f6 : CALL 0x00633e6b
0070c7fb : MOV ESP,EBP
0070c7fd : POP EBP
0070c7fe : RET
