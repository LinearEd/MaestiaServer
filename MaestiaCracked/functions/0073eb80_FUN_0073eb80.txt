PROGRAM  : Maestia.exe
FUNCTION : FUN_0073eb80
ENTRY    : 0073eb80
BODY     : [[0073eb80, 0073edff]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_0073eb80(int param_1)

{
  int *piVar1;
  int iVar2;
  int in_ECX;
  wchar_t *pwVar3;
  
  iVar2 = *(int *)(in_ECX + 0x14);
  if (iVar2 == 0) {
    iVar2 = FUN_007bfcc0(*(undefined4 *)(param_1 + 0x148));
    *(int *)(in_ECX + 0x14) = iVar2;
    if (iVar2 != 0) {
      FUN_0073ba80();
      piVar1 = *(int **)(*(int *)(in_ECX + 0x14) + 0x1c);
      _DAT_00da9b18 = (**(code **)(*piVar1 + 0xe8))(piVar1,"Tech0");
      if (_DAT_00da9b18 < 0) {
        FUN_008018d0(L"AvaTransparentRenderGroup::SetEffectShader effect->SetTechnique Failed (%d)",
                     _DAT_00da9b18);
      }
      _DAT_00da9b18 = (**(code **)(*piVar1 + 0xfc))(piVar1,0,0);
      if (_DAT_00da9b18 < 0) {
        FUN_008018d0(L"AvaTransparentRenderGroup::SetEffectShader effect->Begin Failed (%d)",
                     _DAT_00da9b18);
      }
      _DAT_00da9b18 = (**(code **)(*piVar1 + 0x100))(piVar1,*(undefined4 *)(param_1 + 0x14c));
      if (_DAT_00da9b18 < 0) {
        FUN_008018d0(L"AvaTransparentRenderGroup::SetEffectShader effect->BeginPass Failed (%d)",
                     _DAT_00da9b18);
      }
      *(undefined4 *)(in_ECX + 0x44) = 0;
      return 1;
    }
    return 0;
  }
  if (*(int *)(in_ECX + 0xd0) == *(int *)(param_1 + 0x148)) {
    if (*(int *)(in_ECX + 0xd4) == *(int *)(param_1 + 0x14c)) {
      return 1;
    }
    piVar1 = *(int **)(iVar2 + 0x1c);
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0x108))(piVar1);
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaTransparentRenderGroup::SetEffectShader effect->EndPass2 Failed (%d)",
                   _DAT_00da9b18);
    }
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0x100))(piVar1,*(undefined4 *)(param_1 + 0x14c));
    if (-1 < _DAT_00da9b18) {
      return 1;
    }
    pwVar3 = L"AvaTransparentRenderGroup::SetEffectShader effect->BeginPass2 Failed (%d)";
  }
  else {
    piVar1 = *(int **)(iVar2 + 0x1c);
    FUN_0077c620();
    *(undefined4 *)(in_ECX + 0x44) = 0;
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0x108))(piVar1);
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaTransparentRenderGroup::SetEffectShader effect->EndPass Failed (%d)",
                   _DAT_00da9b18);
    }
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0x10c))(piVar1);
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaTransparentRenderGroup::SetEffectShader effect->End Failed (%d)",
                   _DAT_00da9b18);
    }
    iVar2 = FUN_007bfcc0(*(undefined4 *)(param_1 + 0x148));
    *(int *)(in_ECX + 0x14) = iVar2;
    if (iVar2 == 0) {
      return 0;
    }
    FUN_0073ba80();
    piVar1 = *(int **)(*(int *)(in_ECX + 0x14) + 0x1c);
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0xe8))(piVar1,"Tech0");
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaTransparentRenderGroup::SetEffectShader effect->SetTechnique Failed (%d)",
                   _DAT_00da9b18);
    }
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0xfc))(piVar1,0,0);
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaTransparentRenderGroup::SetEffectShader effect->Begin2 Failed (%d)",
                   _DAT_00da9b18);
    }
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0x100))(piVar1,*(undefined4 *)(param_1 + 0x14c));
    if (-1 < _DAT_00da9b18) {
      return 1;
    }
    pwVar3 = L"AvaTransparentRenderGroup::SetEffectShader effect->BeginPass2 Failed (%d)";
  }
  FUN_008018d0(pwVar3,_DAT_00da9b18);
  return 1;
}



============================================================
DISASSEMBLY
============================================================
0073eb80 : PUSH EBP
0073eb81 : MOV EBP,ESP
0073eb83 : AND ESP,0xfffffff8
0073eb86 : PUSH ECX
0073eb87 : PUSH EBX
0073eb88 : PUSH ESI
0073eb89 : PUSH EDI
0073eb8a : MOV EDI,ECX
0073eb8c : MOV EAX,dword ptr [EDI + 0x14]
0073eb8f : TEST EAX,EAX
0073eb91 : JNZ 0x0073ec69
0073eb97 : MOV EAX,dword ptr [EBP + 0x8]
0073eb9a : MOV ECX,dword ptr [EAX + 0x148]
0073eba0 : MOV ESI,dword ptr [0x01725204]
0073eba6 : PUSH ECX
0073eba7 : CALL 0x007bfcc0
0073ebac : MOV dword ptr [EDI + 0x14],EAX
0073ebaf : TEST EAX,EAX
0073ebb1 : JNZ 0x0073ebbe
0073ebb3 : XOR AL,AL
0073ebb5 : POP EDI
0073ebb6 : POP ESI
0073ebb7 : POP EBX
0073ebb8 : MOV ESP,EBP
0073ebba : POP EBP
0073ebbb : RET 0xc
0073ebbe : MOV EAX,dword ptr [EBP + 0xc]
0073ebc1 : CALL 0x0073ba80
0073ebc6 : MOV EDX,dword ptr [EDI + 0x14]
0073ebc9 : MOV EBX,dword ptr [EDX + 0x1c]
0073ebcc : MOV EAX,dword ptr [EBX]
0073ebce : MOV ECX,dword ptr [EAX + 0xe8]
0073ebd4 : PUSH 0xc05a84
0073ebd9 : PUSH EBX
0073ebda : CALL ECX
0073ebdc : MOV [0x00da9b18],EAX
0073ebe1 : TEST EAX,EAX
0073ebe3 : JGE 0x0073ebf9
0073ebe5 : MOV ESI,dword ptr [0x00da98e8]
0073ebeb : PUSH EAX
0073ebec : PUSH 0xc05a90
0073ebf1 : CALL 0x008018d0
0073ebf6 : ADD ESP,0x8
0073ebf9 : MOV EDX,dword ptr [EBX]
0073ebfb : MOV EAX,dword ptr [EDX + 0xfc]
0073ec01 : PUSH 0x0
0073ec03 : PUSH 0x0
0073ec05 : PUSH EBX
0073ec06 : CALL EAX
0073ec08 : MOV [0x00da9b18],EAX
0073ec0d : TEST EAX,EAX
0073ec0f : JGE 0x0073ec25
0073ec11 : MOV ESI,dword ptr [0x00da98e8]
0073ec17 : PUSH EAX
0073ec18 : PUSH 0xc05b28
0073ec1d : CALL 0x008018d0
0073ec22 : ADD ESP,0x8
0073ec25 : MOV ECX,dword ptr [EBP + 0x8]
0073ec28 : MOV EAX,dword ptr [ECX + 0x14c]
0073ec2e : MOV EDX,dword ptr [EBX]
0073ec30 : PUSH EAX
0073ec31 : MOV EAX,dword ptr [EDX + 0x100]
0073ec37 : PUSH EBX
0073ec38 : CALL EAX
0073ec3a : MOV [0x00da9b18],EAX
0073ec3f : TEST EAX,EAX
0073ec41 : JGE 0x0073ec57
0073ec43 : MOV ESI,dword ptr [0x00da98e8]
0073ec49 : PUSH EAX
0073ec4a : PUSH 0xc05bb8
0073ec4f : CALL 0x008018d0
0073ec54 : ADD ESP,0x8
0073ec57 : MOV dword ptr [EDI + 0x44],0x0
0073ec5e : MOV AL,0x1
0073ec60 : POP EDI
0073ec61 : POP ESI
0073ec62 : POP EBX
0073ec63 : MOV ESP,EBP
0073ec65 : POP EBP
0073ec66 : RET 0xc
0073ec69 : MOV EDX,dword ptr [EDI + 0xd0]
0073ec6f : MOV ECX,dword ptr [EBP + 0x8]
0073ec72 : CMP EDX,dword ptr [ECX + 0x148]
0073ec78 : JZ 0x0073ed8a
0073ec7e : MOV EBX,dword ptr [EAX + 0x1c]
0073ec81 : CALL 0x0077c620
0073ec86 : MOV dword ptr [EDI + 0x44],0x0
0073ec8d : MOV EAX,dword ptr [EBX]
0073ec8f : MOV ECX,dword ptr [EAX + 0x108]
0073ec95 : PUSH EBX
0073ec96 : CALL ECX
0073ec98 : MOV [0x00da9b18],EAX
0073ec9d : TEST EAX,EAX
0073ec9f : JGE 0x0073ecb5
0073eca1 : MOV ESI,dword ptr [0x00da98e8]
0073eca7 : PUSH EAX
0073eca8 : PUSH 0xc05c50
0073ecad : CALL 0x008018d0
0073ecb2 : ADD ESP,0x8
0073ecb5 : MOV EDX,dword ptr [EBX]
0073ecb7 : MOV EAX,dword ptr [EDX + 0x10c]
0073ecbd : PUSH EBX
0073ecbe : CALL EAX
0073ecc0 : MOV [0x00da9b18],EAX
0073ecc5 : TEST EAX,EAX
0073ecc7 : JGE 0x0073ecdd
0073ecc9 : MOV ESI,dword ptr [0x00da98e8]
0073eccf : PUSH EAX
0073ecd0 : PUSH 0xc05ce0
0073ecd5 : CALL 0x008018d0
0073ecda : ADD ESP,0x8
0073ecdd : MOV ECX,dword ptr [EBP + 0x8]
0073ece0 : MOV EDX,dword ptr [ECX + 0x148]
0073ece6 : MOV ESI,dword ptr [0x01725204]
0073ecec : PUSH EDX
0073eced : CALL 0x007bfcc0
0073ecf2 : MOV dword ptr [EDI + 0x14],EAX
0073ecf5 : TEST EAX,EAX
0073ecf7 : JZ 0x0073ebb3
0073ecfd : MOV EAX,dword ptr [EBP + 0xc]
0073ed00 : CALL 0x0073ba80
0073ed05 : MOV EAX,dword ptr [EDI + 0x14]
0073ed08 : MOV EDI,dword ptr [EAX + 0x1c]
0073ed0b : MOV ECX,dword ptr [EDI]
0073ed0d : MOV EDX,dword ptr [ECX + 0xe8]
0073ed13 : PUSH 0xc05d68
0073ed18 : PUSH EDI
0073ed19 : CALL EDX
0073ed1b : MOV [0x00da9b18],EAX
0073ed20 : TEST EAX,EAX
0073ed22 : JGE 0x0073ed38
0073ed24 : MOV ESI,dword ptr [0x00da98e8]
0073ed2a : PUSH EAX
0073ed2b : PUSH 0xc05d70
0073ed30 : CALL 0x008018d0
0073ed35 : ADD ESP,0x8
0073ed38 : MOV EAX,dword ptr [EDI]
0073ed3a : MOV ECX,dword ptr [EAX + 0xfc]
0073ed40 : PUSH 0x0
0073ed42 : PUSH 0x0
0073ed44 : PUSH EDI
0073ed45 : CALL ECX
0073ed47 : MOV [0x00da9b18],EAX
0073ed4c : TEST EAX,EAX
0073ed4e : JGE 0x0073ed64
0073ed50 : MOV ESI,dword ptr [0x00da98e8]
0073ed56 : PUSH EAX
0073ed57 : PUSH 0xc05e08
0073ed5c : CALL 0x008018d0
0073ed61 : ADD ESP,0x8
0073ed64 : MOV EDX,dword ptr [EBP + 0x8]
0073ed67 : MOV EAX,dword ptr [EDX + 0x14c]
0073ed6d : MOV ECX,dword ptr [EDI]
0073ed6f : MOV EDX,dword ptr [ECX + 0x100]
0073ed75 : PUSH EAX
0073ed76 : PUSH EDI
0073ed77 : CALL EDX
0073ed79 : MOV [0x00da9b18],EAX
0073ed7e : TEST EAX,EAX
0073ed80 : JGE 0x0073edf5
0073ed82 : PUSH EAX
0073ed83 : PUSH 0xc05ea0
0073ed88 : JMP 0x0073ede7
0073ed8a : MOV EDX,dword ptr [EDI + 0xd4]
0073ed90 : CMP EDX,dword ptr [ECX + 0x14c]
0073ed96 : JZ 0x0073edf5
0073ed98 : MOV EDI,dword ptr [EAX + 0x1c]
0073ed9b : MOV EAX,dword ptr [EDI]
0073ed9d : MOV ECX,dword ptr [EAX + 0x108]
0073eda3 : PUSH EDI
0073eda4 : CALL ECX
0073eda6 : MOV [0x00da9b18],EAX
0073edab : TEST EAX,EAX
0073edad : JGE 0x0073edc3
0073edaf : MOV ESI,dword ptr [0x00da98e8]
0073edb5 : PUSH EAX
0073edb6 : PUSH 0xc05f58
0073edbb : CALL 0x008018d0
0073edc0 : ADD ESP,0x8
0073edc3 : MOV EDX,dword ptr [EBP + 0x8]
0073edc6 : MOV EAX,dword ptr [EDX + 0x14c]
0073edcc : MOV ECX,dword ptr [EDI]
0073edce : MOV EDX,dword ptr [ECX + 0x100]
0073edd4 : PUSH EAX
0073edd5 : PUSH EDI
0073edd6 : CALL EDX
0073edd8 : MOV [0x00da9b18],EAX
0073eddd : TEST EAX,EAX
0073eddf : JGE 0x0073edf5
0073ede1 : PUSH EAX
0073ede2 : PUSH 0xc05fe8
0073ede7 : MOV ESI,dword ptr [0x00da98e8]
0073eded : CALL 0x008018d0
0073edf2 : ADD ESP,0x8
0073edf5 : POP EDI
0073edf6 : POP ESI
0073edf7 : MOV AL,0x1
0073edf9 : POP EBX
0073edfa : MOV ESP,EBP
0073edfc : POP EBP
0073edfd : RET 0xc
