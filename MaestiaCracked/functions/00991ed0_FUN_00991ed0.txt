PROGRAM  : Maestia.exe
FUNCTION : FUN_00991ed0
ENTRY    : 00991ed0
BODY     : [[00991ed0, 00991efc] [00991f00, 00991f1c] [00991f20, 00991f7d]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00991ed0(ushort *param_1,ushort *param_2)

{
  ushort uVar1;
  ushort uVar2;
  int iVar3;
  int iVar4;
  int in_ECX;
  ushort uVar5;
  ushort uVar6;
  
  uVar1 = *(ushort *)(*(int *)(in_ECX + 0x3c) + 0xc);
  uVar2 = *(ushort *)(*(int *)(in_ECX + 0x3c) + 8);
  uVar6 = 0;
  if (uVar2 != 0) {
    do {
      uVar5 = 0;
      if (uVar1 != 0) {
        iVar3 = *(int *)(in_ECX + 0x3c);
        do {
          iVar4 = (uint)uVar5 + (uint)uVar6 * *(int *)(iVar3 + 0xc);
          if ((((iVar4 < *(int *)(iVar3 + 8) * *(int *)(iVar3 + 0xc)) && (-1 < iVar4)) &&
              (iVar4 = *(int *)(*(int *)(iVar3 + 0x10) + iVar4 * 4), iVar4 != 0)) &&
             (*(int *)(iVar4 + 8) == 0)) {
            *param_1 = uVar5;
            *param_2 = uVar6;
            return 1;
          }
          uVar5 = uVar5 + 1;
        } while (uVar5 < uVar1);
      }
      uVar6 = uVar6 + 1;
    } while (uVar6 < uVar2);
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00991ed0 : PUSH EBP
00991ed1 : MOV EBP,ESP
00991ed3 : SUB ESP,0x10
00991ed6 : PUSH EBX
00991ed7 : MOV EDX,ECX
00991ed9 : MOV EAX,dword ptr [EDX + 0x3c]
00991edc : MOVZX ECX,word ptr [EAX + 0xc]
00991ee0 : PUSH ESI
00991ee1 : PUSH EDI
00991ee2 : MOVZX EDI,word ptr [EAX + 0x8]
00991ee6 : XOR ESI,ESI
00991ee8 : XOR EAX,EAX
00991eea : MOV dword ptr [EBP + -0x10],EDX
00991eed : MOV dword ptr [EBP + -0xc],EDI
00991ef0 : MOV dword ptr [EBP + -0x8],ECX
00991ef3 : MOV dword ptr [EBP + -0x4],ESI
00991ef6 : CMP AX,DI
00991ef9 : JNC 0x00991f58
00991efb : JMP 0x00991f00
00991f00 : XOR EAX,EAX
00991f02 : XOR EBX,EBX
00991f04 : CMP AX,CX
00991f07 : JNC 0x00991f4f
00991f09 : MOV EDX,dword ptr [EDX + 0x3c]
00991f0c : MOV EAX,dword ptr [EDX + 0xc]
00991f0f : MOV EDI,dword ptr [EDX + 0x8]
00991f12 : MOVZX ESI,SI
00991f15 : IMUL ESI,EAX
00991f18 : IMUL EDI,EAX
00991f1b : JMP 0x00991f20
00991f20 : MOVZX EAX,BX
00991f23 : ADD EAX,ESI
00991f25 : CMP EAX,EDI
00991f27 : JGE 0x00991f40
00991f29 : TEST EAX,EAX
00991f2b : JL 0x00991f40
00991f2d : MOV ECX,dword ptr [EDX + 0x10]
00991f30 : MOV EAX,dword ptr [ECX + EAX*0x4]
00991f33 : TEST EAX,EAX
00991f35 : JZ 0x00991f3d
00991f37 : CMP dword ptr [EAX + 0x8],0x0
00991f3b : JZ 0x00991f63
00991f3d : MOV ECX,dword ptr [EBP + -0x8]
00991f40 : INC EBX
00991f41 : CMP BX,CX
00991f44 : JC 0x00991f20
00991f46 : MOV EDI,dword ptr [EBP + -0xc]
00991f49 : MOV ESI,dword ptr [EBP + -0x4]
00991f4c : MOV EDX,dword ptr [EBP + -0x10]
00991f4f : INC ESI
00991f50 : MOV dword ptr [EBP + -0x4],ESI
00991f53 : CMP SI,DI
00991f56 : JC 0x00991f00
00991f58 : POP EDI
00991f59 : POP ESI
00991f5a : XOR AL,AL
00991f5c : POP EBX
00991f5d : MOV ESP,EBP
00991f5f : POP EBP
00991f60 : RET 0x8
00991f63 : MOV EDX,dword ptr [EBP + 0x8]
00991f66 : MOV EAX,dword ptr [EBP + 0xc]
00991f69 : MOV CX,word ptr [EBP + -0x4]
00991f6d : POP EDI
00991f6e : MOV word ptr [EDX],BX
00991f71 : POP ESI
00991f72 : MOV word ptr [EAX],CX
00991f75 : MOV AL,0x1
00991f77 : POP EBX
00991f78 : MOV ESP,EBP
00991f7a : POP EBP
00991f7b : RET 0x8
