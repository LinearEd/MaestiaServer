PROGRAM  : Maestia.exe
FUNCTION : FUN_00576c50
ENTRY    : 00576c50
BODY     : [[00576c50, 00576ca3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00576c50(void)

{
  int *piVar1;
  undefined4 *puVar2;
  int *in_ECX;
  int iVar3;
  int iVar4;
  
  if (*in_ECX != 0) {
    iVar4 = 0;
    iVar3 = *(int *)(*in_ECX + 4) + 1;
    do {
      puVar2 = (undefined4 *)(iVar4 + 8 + *in_ECX);
      if (*(int *)(iVar4 + 8 + *in_ECX) != -2) {
        FUN_00572600();
        piVar1 = (int *)(puVar2[1] + 8);
        *piVar1 = *piVar1 + -1;
        if (*piVar1 == 0) {
          FUN_00525340();
        }
        *puVar2 = 0xfffffffe;
      }
      iVar4 = iVar4 + 0x1c;
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
    FUN_00515cf0(*in_ECX);
    *in_ECX = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00576c50 : PUSH EBX
00576c51 : MOV EBX,ECX
00576c53 : MOV EAX,dword ptr [EBX]
00576c55 : TEST EAX,EAX
00576c57 : JZ 0x00576ca2
00576c59 : MOV EAX,dword ptr [EAX + 0x4]
00576c5c : PUSH EBP
00576c5d : PUSH ESI
00576c5e : PUSH EDI
00576c5f : XOR EDI,EDI
00576c61 : LEA EBP,[EAX + 0x1]
00576c64 : MOV EAX,dword ptr [EBX]
00576c66 : CMP dword ptr [EDI + EAX*0x1 + 0x8],-0x2
00576c6b : LEA ESI,[EDI + EAX*0x1 + 0x8]
00576c6f : JZ 0x00576c8d
00576c71 : LEA ECX,[ESI + 0x8]
00576c74 : CALL 0x00572600
00576c79 : MOV ECX,dword ptr [ESI + 0x4]
00576c7c : ADD dword ptr [ECX + 0x8],-0x1
00576c80 : JNZ 0x00576c87
00576c82 : CALL 0x00525340
00576c87 : MOV dword ptr [ESI],0xfffffffe
00576c8d : ADD EDI,0x1c
00576c90 : SUB EBP,0x1
00576c93 : JNZ 0x00576c64
00576c95 : MOV ECX,dword ptr [EBX]
00576c97 : PUSH ECX
00576c98 : CALL 0x00515cf0
00576c9d : POP EDI
00576c9e : POP ESI
00576c9f : MOV dword ptr [EBX],EBP
00576ca1 : POP EBP
00576ca2 : POP EBX
00576ca3 : RET
