PROGRAM  : Maestia.exe
FUNCTION : FUN_0040d520
ENTRY    : 0040d520
BODY     : [[0040d520, 0040d5eb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0040d520(undefined4 *param_1,undefined4 *param_2,code *param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  int iVar5;
  undefined4 local_18;
  undefined4 local_14;
  uint local_c;
  
  puVar3 = param_1;
  if (param_1 != param_2) {
    while (puVar3 = puVar3 + 2, puVar3 != param_2) {
      local_18 = *puVar3;
      local_14 = puVar3[1];
      iVar5 = (*param_3)(&local_18,param_1);
      if (iVar5 == 0) {
        iVar5 = (*param_3)(&local_18,puVar3 + -2);
        puVar4 = puVar3 + -2;
        puVar2 = puVar3;
        while (puVar1 = puVar4, iVar5 != 0) {
          *puVar2 = *puVar1;
          puVar2[1] = puVar1[1];
          iVar5 = (*param_3)(&local_18,puVar1 + -2);
          puVar4 = puVar1 + -2;
          puVar2 = puVar1;
        }
        *puVar2 = local_18;
        puVar2[1] = local_14;
      }
      else {
        local_c = local_c & 0xffffff00;
        FUN_0040dae0(param_1,puVar3,puVar3 + 2,param_1,param_1,local_c);
        *param_1 = local_18;
        param_1[1] = local_14;
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0040d520 : PUSH EBP
0040d521 : MOV EBP,ESP
0040d523 : MOV EAX,dword ptr [EBP + 0x8]
0040d526 : MOV ECX,dword ptr [EBP + 0xc]
0040d529 : SUB ESP,0x18
0040d52c : PUSH EBX
0040d52d : PUSH ESI
0040d52e : PUSH EDI
0040d52f : CMP EAX,ECX
0040d531 : JZ 0x0040d5e5
0040d537 : LEA EBX,[EAX + 0x8]
0040d53a : CMP EBX,ECX
0040d53c : JZ 0x0040d5e5
0040d542 : JMP 0x0040d547
0040d544 : MOV EAX,dword ptr [EBP + 0x8]
0040d547 : MOV ECX,dword ptr [EBX]
0040d549 : MOV EDX,dword ptr [EBX + 0x4]
0040d54c : PUSH EAX
0040d54d : LEA EAX,[EBP + -0x14]
0040d550 : PUSH EAX
0040d551 : MOV EDI,EBX
0040d553 : MOV dword ptr [EBP + -0x14],ECX
0040d556 : MOV dword ptr [EBP + -0x10],EDX
0040d559 : CALL dword ptr [EBP + 0x10]
0040d55c : ADD ESP,0x8
0040d55f : TEST EAX,EAX
0040d561 : JZ 0x0040d59a
0040d563 : MOV EDX,dword ptr [EBP + 0x8]
0040d566 : MOV byte ptr [EBP + -0x8],0x0
0040d56a : MOV ECX,dword ptr [EBP + -0x8]
0040d56d : PUSH ECX
0040d56e : MOV ECX,dword ptr [EBP + 0x8]
0040d571 : PUSH EDX
0040d572 : MOV EDX,dword ptr [EBP + 0x8]
0040d575 : PUSH ECX
0040d576 : LEA EAX,[EBX + 0x8]
0040d579 : PUSH EAX
0040d57a : PUSH EBX
0040d57b : PUSH EDX
0040d57c : LEA EAX,[EBP + -0xc]
0040d57f : CALL 0x0040dae0
0040d584 : MOV EAX,dword ptr [EBP + -0x14]
0040d587 : MOV ECX,dword ptr [EBP + 0x8]
0040d58a : MOV dword ptr [ECX],EAX
0040d58c : MOV EDX,dword ptr [EBP + -0x10]
0040d58f : MOV EAX,dword ptr [EBP + 0x8]
0040d592 : ADD ESP,0x18
0040d595 : MOV dword ptr [EAX + 0x4],EDX
0040d598 : JMP 0x0040d5d9
0040d59a : LEA ESI,[EBX + -0x8]
0040d59d : LEA ECX,[EBP + -0x14]
0040d5a0 : PUSH ESI
0040d5a1 : PUSH ECX
0040d5a2 : CALL dword ptr [EBP + 0x10]
0040d5a5 : ADD ESP,0x8
0040d5a8 : TEST EAX,EAX
0040d5aa : JZ 0x0040d5ce
0040d5ac : LEA ESP,[ESP]
0040d5b0 : MOV EDX,dword ptr [ESI]
0040d5b2 : MOV dword ptr [EDI],EDX
0040d5b4 : MOV EAX,dword ptr [ESI + 0x4]
0040d5b7 : MOV dword ptr [EDI + 0x4],EAX
0040d5ba : MOV EDI,ESI
0040d5bc : SUB ESI,0x8
0040d5bf : LEA ECX,[EBP + -0x14]
0040d5c2 : PUSH ESI
0040d5c3 : PUSH ECX
0040d5c4 : CALL dword ptr [EBP + 0x10]
0040d5c7 : ADD ESP,0x8
0040d5ca : TEST EAX,EAX
0040d5cc : JNZ 0x0040d5b0
0040d5ce : MOV EDX,dword ptr [EBP + -0x14]
0040d5d1 : MOV EAX,dword ptr [EBP + -0x10]
0040d5d4 : MOV dword ptr [EDI],EDX
0040d5d6 : MOV dword ptr [EDI + 0x4],EAX
0040d5d9 : ADD EBX,0x8
0040d5dc : CMP EBX,dword ptr [EBP + 0xc]
0040d5df : JNZ 0x0040d544
0040d5e5 : POP EDI
0040d5e6 : POP ESI
0040d5e7 : POP EBX
0040d5e8 : MOV ESP,EBP
0040d5ea : POP EBP
0040d5eb : RET
