PROGRAM  : Maestia.exe
FUNCTION : FUN_005a1d10
ENTRY    : 005a1d10
BODY     : [[005a1d10, 005a1d2c] [005a1d30, 005a1e1a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005a1d10(void)

{
  uint uVar1;
  LONG LVar2;
  GRefCountImplCore *in_ECX;
  int iVar3;
  int *piVar4;
  
  *(undefined ***)in_ECX = &PTR_FUN_00b8f140;
  iVar3 = *(int *)(in_ECX + 0x4c);
  piVar4 = (int *)(*(int *)(in_ECX + 0x48) + -4 + iVar3 * 4);
  for (; iVar3 != 0; iVar3 = iVar3 + -1) {
    if (*piVar4 != 0) {
      FUN_00524240();
    }
    piVar4 = piVar4 + -1;
  }
  FUN_00515cf0(*(undefined4 *)(in_ECX + 0x48));
  uVar1 = *(uint *)(in_ECX + 0x40);
  LVar2 = InterlockedExchangeAdd((LONG *)((uVar1 & 0xfffffffc) + 4),-1);
  if (LVar2 == 1) {
    FUN_00515cf0(uVar1 & 0xfffffffc);
  }
  if (*(GRefCountImpl **)(in_ECX + 0x3c) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x3c));
  }
  if (*(GRefCountImpl **)(in_ECX + 0x38) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x38));
  }
  if (*(GRefCountImpl **)(in_ECX + 0x34) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x34));
  }
  if (*(GRefCountImpl **)(in_ECX + 0x30) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x30));
  }
  if (*(GRefCountImpl **)(in_ECX + 0x2c) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x2c));
  }
  if (*(GRefCountImpl **)(in_ECX + 0x28) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x28));
  }
  if (*(GRefCountImpl **)(in_ECX + 0x24) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x24));
  }
  if (*(GRefCountImpl **)(in_ECX + 0x20) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x20));
  }
  if (*(GRefCountImpl **)(in_ECX + 0x1c) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x1c));
  }
  if (*(GRefCountImpl **)(in_ECX + 0x18) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x18));
  }
  if (*(GRefCountImpl **)(in_ECX + 0x14) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x14));
  }
  if (*(GRefCountImpl **)(in_ECX + 0x10) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x10));
  }
  if (*(GRefCountImpl **)(in_ECX + 0xc) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0xc));
  }
  if (*(GRefCountImpl **)(in_ECX + 8) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 8));
  }
  GRefCountImplCore::~GRefCountImplCore(in_ECX);
  return;
}



============================================================
DISASSEMBLY
============================================================
005a1d10 : PUSH ESI
005a1d11 : MOV ESI,ECX
005a1d13 : MOV dword ptr [ESI],0xb8f140
005a1d19 : MOV EAX,dword ptr [ESI + 0x4c]
005a1d1c : MOV ECX,dword ptr [ESI + 0x48]
005a1d1f : PUSH EDI
005a1d20 : LEA EDI,[ECX + EAX*0x4 + -0x4]
005a1d24 : TEST EAX,EAX
005a1d26 : JBE 0x005a1d44
005a1d28 : PUSH EBX
005a1d29 : MOV EBX,EAX
005a1d2b : JMP 0x005a1d30
005a1d30 : MOV ECX,dword ptr [EDI]
005a1d32 : TEST ECX,ECX
005a1d34 : JZ 0x005a1d3b
005a1d36 : CALL 0x00524240
005a1d3b : SUB EDI,0x4
005a1d3e : SUB EBX,0x1
005a1d41 : JNZ 0x005a1d30
005a1d43 : POP EBX
005a1d44 : MOV EDX,dword ptr [ESI + 0x48]
005a1d47 : PUSH EDX
005a1d48 : CALL 0x00515cf0
005a1d4d : MOV EDI,dword ptr [ESI + 0x40]
005a1d50 : AND EDI,0xfffffffc
005a1d53 : PUSH -0x1
005a1d55 : LEA EAX,[EDI + 0x4]
005a1d58 : PUSH EAX
005a1d59 : CALL dword ptr [0x00b851cc]
005a1d5f : SUB EAX,0x1
005a1d62 : JNZ 0x005a1d6a
005a1d64 : PUSH EDI
005a1d65 : CALL 0x00515cf0
005a1d6a : MOV ECX,dword ptr [ESI + 0x3c]
005a1d6d : TEST ECX,ECX
005a1d6f : JZ 0x005a1d76
005a1d71 : CALL 0x004ff7e0
005a1d76 : MOV ECX,dword ptr [ESI + 0x38]
005a1d79 : TEST ECX,ECX
005a1d7b : JZ 0x005a1d82
005a1d7d : CALL 0x004ff7e0
005a1d82 : MOV ECX,dword ptr [ESI + 0x34]
005a1d85 : TEST ECX,ECX
005a1d87 : JZ 0x005a1d8e
005a1d89 : CALL 0x004ff7e0
005a1d8e : MOV ECX,dword ptr [ESI + 0x30]
005a1d91 : TEST ECX,ECX
005a1d93 : JZ 0x005a1d9a
005a1d95 : CALL 0x004ff7e0
005a1d9a : MOV ECX,dword ptr [ESI + 0x2c]
005a1d9d : TEST ECX,ECX
005a1d9f : JZ 0x005a1da6
005a1da1 : CALL 0x004ff7e0
005a1da6 : MOV ECX,dword ptr [ESI + 0x28]
005a1da9 : TEST ECX,ECX
005a1dab : JZ 0x005a1db2
005a1dad : CALL 0x004ff7e0
005a1db2 : MOV ECX,dword ptr [ESI + 0x24]
005a1db5 : TEST ECX,ECX
005a1db7 : JZ 0x005a1dbe
005a1db9 : CALL 0x004ff7e0
005a1dbe : MOV ECX,dword ptr [ESI + 0x20]
005a1dc1 : TEST ECX,ECX
005a1dc3 : JZ 0x005a1dca
005a1dc5 : CALL 0x004ff7e0
005a1dca : MOV ECX,dword ptr [ESI + 0x1c]
005a1dcd : TEST ECX,ECX
005a1dcf : JZ 0x005a1dd6
005a1dd1 : CALL 0x004ff7e0
005a1dd6 : MOV ECX,dword ptr [ESI + 0x18]
005a1dd9 : TEST ECX,ECX
005a1ddb : JZ 0x005a1de2
005a1ddd : CALL 0x004ff7e0
005a1de2 : MOV ECX,dword ptr [ESI + 0x14]
005a1de5 : TEST ECX,ECX
005a1de7 : JZ 0x005a1dee
005a1de9 : CALL 0x004ff7e0
005a1dee : MOV ECX,dword ptr [ESI + 0x10]
005a1df1 : TEST ECX,ECX
005a1df3 : JZ 0x005a1dfa
005a1df5 : CALL 0x004ff7e0
005a1dfa : MOV ECX,dword ptr [ESI + 0xc]
005a1dfd : TEST ECX,ECX
005a1dff : JZ 0x005a1e06
005a1e01 : CALL 0x004ff7e0
005a1e06 : MOV ECX,dword ptr [ESI + 0x8]
005a1e09 : TEST ECX,ECX
005a1e0b : JZ 0x005a1e12
005a1e0d : CALL 0x004ff7e0
005a1e12 : POP EDI
005a1e13 : MOV ECX,ESI
005a1e15 : POP ESI
005a1e16 : JMP 0x004ff7b0
