PROGRAM  : Maestia.exe
FUNCTION : FUN_008ed950
ENTRY    : 008ed950
BODY     : [[008ed950, 008edadd]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x008eda93) */

void FUN_008ed950(void)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  undefined4 in_ECX;
  int in_EDX;
  uint local_38;
  undefined1 local_34 [4];
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  int local_18;
  undefined1 local_14 [4];
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  iVar2 = DAT_00d7c54c;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2c221;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if ((((char)((uint)in_ECX >> 0x18) == '\x06') &&
      (((DAT_00da93ec == 0 || (*(char *)(DAT_00da93ec + 0x4c0) == '\0')) &&
       (FUN_004437f0(local_14), local_18 != *(int *)(iVar2 + 0x44))))) &&
     (*(int *)(local_18 + 0x10) != 0)) {
    FUN_00406460(L"IDS_PRESENT_OF_GOD");
    local_8 = 0;
    uVar4 = FUN_0081d120(local_34);
    local_8._0_1_ = 1;
    FUN_0096b1e0(uVar4,0xfff8fb07,0x12);
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0(uVar3);
    }
    local_8 = 0xffffffff;
    if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0(uVar3);
    }
    local_30 = 0;
    local_1c = 7;
    local_20 = 0;
    FUN_00406460(L"IDS_PRESENT_OF_GOD");
    local_8 = 2;
    piVar1 = *(int **)(in_EDX + 0x1a8);
    uVar4 = FUN_0081d120(local_34);
    local_8._0_1_ = 3;
    (**(code **)(*piVar1 + 0x44))(uVar4,1);
    local_8 = 0xffffffff;
    if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
008ed950 : PUSH EBP
008ed951 : MOV EBP,ESP
008ed953 : PUSH -0x1
008ed955 : PUSH 0xb2c221
008ed95a : MOV EAX,FS:[0x0]
008ed960 : PUSH EAX
008ed961 : SUB ESP,0x40
008ed964 : PUSH EBX
008ed965 : PUSH ESI
008ed966 : PUSH EDI
008ed967 : MOV EAX,[0x00d66fa0]
008ed96c : XOR EAX,EBP
008ed96e : PUSH EAX
008ed96f : LEA EAX,[EBP + -0xc]
008ed972 : MOV FS:[0x0],EAX
008ed978 : MOV ESI,EDX
008ed97a : MOV EAX,ECX
008ed97c : SHR EAX,0x18
008ed97f : CMP AL,0x6
008ed981 : JNZ 0x008edacc
008ed987 : MOV EAX,[0x00da93ec]
008ed98c : XOR EBX,EBX
008ed98e : CMP EAX,EBX
008ed990 : JZ 0x008ed99e
008ed992 : CMP byte ptr [EAX + 0x4c0],BL
008ed998 : JNZ 0x008edacc
008ed99e : MOV EDI,dword ptr [0x00d7c54c]
008ed9a4 : MOV dword ptr [EBP + -0x10],ECX
008ed9a7 : LEA ECX,[EBP + -0x10]
008ed9aa : PUSH ECX
008ed9ab : LEA ECX,[EDI + 0x40]
008ed9ae : LEA EAX,[EBP + -0x14]
008ed9b1 : CALL 0x004437f0
008ed9b6 : MOV EDI,dword ptr [EDI + 0x44]
008ed9b9 : MOV EAX,dword ptr [EBP + -0x14]
008ed9bc : CMP EAX,EDI
008ed9be : JZ 0x008edacc
008ed9c4 : CMP dword ptr [EAX + 0x10],EBX
008ed9c7 : JZ 0x008edacc
008ed9cd : PUSH 0xc5dde4
008ed9d2 : LEA ECX,[EBP + -0x30]
008ed9d5 : CALL 0x00406460
008ed9da : MOV dword ptr [EBP + -0x4],EBX
008ed9dd : MOV ECX,dword ptr [0x0172491c]
008ed9e3 : LEA EDX,[EBP + -0x30]
008ed9e6 : PUSH EDX
008ed9e7 : LEA EDI,[EBP + -0x4c]
008ed9ea : CALL 0x0081d120
008ed9ef : MOV byte ptr [EBP + -0x4],0x1
008ed9f3 : MOV ECX,dword ptr [ESI + 0x134]
008ed9f9 : PUSH 0x12
008ed9fb : PUSH 0xfff8fb07
008eda00 : PUSH EAX
008eda01 : CALL 0x0096b1e0
008eda06 : MOV byte ptr [EBP + -0x4],BL
008eda09 : CMP dword ptr [EBP + -0x34],0x8
008eda0d : JC 0x008eda17
008eda0f : MOV ECX,dword ptr [EBP + -0x48]
008eda12 : CALL 0x006f04e0
008eda17 : MOV EDI,0x7
008eda1c : XOR EAX,EAX
008eda1e : MOV dword ptr [EBP + -0x34],EDI
008eda21 : MOV dword ptr [EBP + -0x38],EBX
008eda24 : MOV word ptr [EBP + -0x48],AX
008eda28 : MOV dword ptr [EBP + -0x4],0xffffffff
008eda2f : CMP dword ptr [EBP + -0x18],0x8
008eda33 : JC 0x008eda3d
008eda35 : MOV ECX,dword ptr [EBP + -0x2c]
008eda38 : CALL 0x006f04e0
008eda3d : XOR ECX,ECX
008eda3f : MOV word ptr [EBP + -0x2c],CX
008eda43 : PUSH 0xc5de0c
008eda48 : LEA ECX,[EBP + -0x30]
008eda4b : MOV dword ptr [EBP + -0x18],EDI
008eda4e : MOV dword ptr [EBP + -0x1c],EBX
008eda51 : CALL 0x00406460
008eda56 : MOV dword ptr [EBP + -0x4],0x2
008eda5d : MOV ECX,dword ptr [0x0172491c]
008eda63 : MOV ESI,dword ptr [ESI + 0x1a8]
008eda69 : LEA EDX,[EBP + -0x30]
008eda6c : PUSH EDX
008eda6d : LEA EDI,[EBP + -0x4c]
008eda70 : CALL 0x0081d120
008eda75 : MOV byte ptr [EBP + -0x4],0x3
008eda79 : MOV EDX,dword ptr [ESI]
008eda7b : PUSH 0x1
008eda7d : PUSH EAX
008eda7e : MOV EAX,dword ptr [EDX + 0x44]
008eda81 : MOV ECX,ESI
008eda83 : CALL EAX
008eda85 : MOV byte ptr [EBP + -0x4],0x2
008eda89 : MOV ESI,0x8
008eda8e : CMP dword ptr [EBP + -0x34],ESI
008eda91 : JC 0x008eda9b
008eda93 : MOV ECX,dword ptr [EBP + -0x48]
008eda96 : CALL 0x006f04e0
008eda9b : MOV EDI,0x7
008edaa0 : XOR ECX,ECX
008edaa2 : MOV dword ptr [EBP + -0x34],EDI
008edaa5 : MOV dword ptr [EBP + -0x38],EBX
008edaa8 : MOV word ptr [EBP + -0x48],CX
008edaac : MOV dword ptr [EBP + -0x4],0xffffffff
008edab3 : CMP dword ptr [EBP + -0x18],ESI
008edab6 : JC 0x008edac0
008edab8 : MOV ECX,dword ptr [EBP + -0x2c]
008edabb : CALL 0x006f04e0
008edac0 : XOR EDX,EDX
008edac2 : MOV dword ptr [EBP + -0x18],EDI
008edac5 : MOV dword ptr [EBP + -0x1c],EBX
008edac8 : MOV word ptr [EBP + -0x2c],DX
008edacc : MOV ECX,dword ptr [EBP + -0xc]
008edacf : MOV dword ptr FS:[0x0],ECX
008edad6 : POP ECX
008edad7 : POP EDI
008edad8 : POP ESI
008edad9 : POP EBX
008edada : MOV ESP,EBP
008edadc : POP EBP
008edadd : RET
