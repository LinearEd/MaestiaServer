PROGRAM  : Maestia.exe
FUNCTION : FUN_008062a0
ENTRY    : 008062a0
BODY     : [[008062a0, 008066d1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008062a0(float param_1)

{
  int iVar1;
  float *unaff_ESI;
  float10 fVar2;
  float10 fVar3;
  float fVar4;
  float fVar5;
  double dVar6;
  float fVar7;
  float fVar8;
  float local_24;
  
  fVar5 = unaff_ESI[0x15];
  fVar8 = unaff_ESI[0x2a];
  if (fVar8 == 0.0) {
    if (((unaff_ESI[0x2a4] <= param_1 && param_1 != unaff_ESI[0x2a4]) ||
        ((param_1 < unaff_ESI[0x2a7] && (unaff_ESI[0x2a3] <= param_1 && param_1 != unaff_ESI[0x2a3])
         ))) && (fVar2 = (float10)FUN_00806260(0,unaff_ESI[0x2a0]),
                fVar2 < (float10)unaff_ESI[0x2a0] * (float10)(fVar5 * 0.01))) {
      fVar2 = (float10)FUN_00806260(unaff_ESI[0x18],unaff_ESI[0x19]);
      unaff_ESI[0x2a2] = (float)fVar2;
      goto LAB_008063a5;
    }
  }
  else if (((unaff_ESI[0x2a4] <= param_1 && param_1 != unaff_ESI[0x2a4]) ||
           ((param_1 < unaff_ESI[0x2a7] &&
            (unaff_ESI[0x2a3] <= param_1 && param_1 != unaff_ESI[0x2a3])))) &&
          ((param_1 < *(float *)((int)fVar8 + 0xa9c) || param_1 == *(float *)((int)fVar8 + 0xa9c) &&
           (0.0 < *(float *)((int)fVar8 + 0xa88))))) {
    unaff_ESI[0x2a2] = *(float *)((int)fVar8 + 0xa88);
LAB_008063a5:
    unaff_ESI[0x2a5] = param_1;
    fVar5 = unaff_ESI[0x2a1];
    unaff_ESI[0x2a6] = fVar5;
    fVar8 = 1.0 - unaff_ESI[0x26];
    if (fVar8 < unaff_ESI[0x2a2]) {
      unaff_ESI[0x2a2] = fVar8;
    }
    fVar8 = *unaff_ESI;
    fVar4 = fVar8 * DAT_00d72c24;
    fVar7 = unaff_ESI[0x2a2];
    fVar2 = (float10)FUN_0040e8d0(fVar7 - unaff_ESI[0x26]);
    fVar3 = (float10)fVar4;
    fVar3 = fVar2 * ((float10)fVar8 - fVar3) + fVar3;
    if (fVar7 <= fVar5) {
      fVar5 = (float)fVar3;
    }
    else {
      fVar5 = (float)fVar3 * DAT_00d72c24;
    }
    local_24 = (float)(fVar3 + fVar3);
    fVar2 = (float10)FUN_00806260(fVar5,(float)(fVar3 + fVar3));
    fVar5 = unaff_ESI[0x1a];
    fVar8 = unaff_ESI[0x1b];
    unaff_ESI[0x2a3] = (float)(fVar2 + (float10)param_1);
    iVar1 = FUN_004571e0();
    fVar7 = (float)iVar1;
    if (iVar1 < 0) {
      fVar7 = fVar7 + 4.2949673e+09;
    }
    unaff_ESI[0x2a7] =
         (fVar8 - fVar5) * (fVar7 + DAT_00d72c24) * 2.3283064e-10 + fVar5 + unaff_ESI[0x2a3];
    iVar1 = FUN_004571e0();
    fVar5 = (float)iVar1;
    if (iVar1 < 0) {
      fVar5 = fVar5 + 4.2949673e+09;
    }
    unaff_ESI[0x2a4] =
         ((float)fVar3 * 3.0 - local_24) * (fVar5 + DAT_00d72c24) * 2.3283064e-10 + local_24 +
         unaff_ESI[0x2a7];
  }
  if (unaff_ESI[0x2a3] <= param_1) {
    fVar5 = unaff_ESI[0x2a7];
    if (((param_1 <= fVar5) || (fVar8 = unaff_ESI[0x2a4], fVar8 <= 0.0)) || (fVar8 <= fVar5))
    goto LAB_0080669c;
    fVar8 = (param_1 - fVar5) / (fVar8 - fVar5);
    dVar6 = (double)-(fVar8 * 12.0 - 6.0);
    FUN_00b0a982();
    fVar5 = unaff_ESI[0x2a2];
    fVar7 = 1.0 / ((float)dVar6 + 1.0);
    fVar7 = (fVar8 - fVar7) * DAT_00d72c24 + fVar7;
    fVar8 = -fVar5;
  }
  else {
    fVar8 = (param_1 - unaff_ESI[0x2a5]) / (unaff_ESI[0x2a3] - unaff_ESI[0x2a5]);
    dVar6 = (double)-(fVar8 * 12.0 - 6.0);
    FUN_00b0a982();
    fVar5 = unaff_ESI[0x2a6];
    fVar7 = 1.0 / ((float)dVar6 + 1.0);
    fVar7 = (fVar8 - fVar7) * 0.0 + fVar7;
    fVar8 = unaff_ESI[0x2a2] - fVar5;
  }
  unaff_ESI[0x2a1] = fVar7 * fVar8 + fVar5;
LAB_0080669c:
  fVar5 = unaff_ESI[0x2a1];
  fVar8 = 1.0;
  if ((fVar5 <= 1.0) && (fVar8 = fVar5, fVar5 < 0.0)) {
    unaff_ESI[0x2a1] = 0.0;
    return;
  }
  unaff_ESI[0x2a1] = fVar8;
  return;
}



============================================================
DISASSEMBLY
============================================================
008062a0 : PUSH EBP
008062a1 : MOV EBP,ESP
008062a3 : AND ESP,0xfffffff0
008062a6 : SUB ESP,0x1c
008062a9 : MOVSS XMM0,dword ptr [ESI + 0x54]
008062ae : MULSS XMM0,dword ptr [0x00cdf23c]
008062b6 : MOV EAX,dword ptr [ESI + 0xa8]
008062bc : MOVSS XMM2,dword ptr [0x00c10fc4]
008062c4 : MOVSS dword ptr [ESP + 0xc],XMM0
008062ca : MOVSS XMM0,dword ptr [EBP + 0x8]
008062cf : PUSH EDI
008062d0 : TEST EAX,EAX
008062d2 : JZ 0x00806327
008062d4 : COMISS XMM0,dword ptr [ESI + 0xa90]
008062db : JA 0x008062fb
008062dd : MOVSS XMM1,dword ptr [ESI + 0xa9c]
008062e5 : COMISS XMM1,XMM0
008062e8 : JBE 0x00806561
008062ee : COMISS XMM0,dword ptr [ESI + 0xa8c]
008062f5 : JBE 0x00806561
008062fb : COMISS XMM0,dword ptr [EAX + 0xa9c]
00806302 : JA 0x00806561
00806308 : MOVSS XMM1,dword ptr [EAX + 0xa88]
00806310 : COMISS XMM1,dword ptr [0x00b9b0b4]
00806317 : JBE 0x00806561
0080631d : MOVSS dword ptr [ESI + 0xa88],XMM1
00806325 : JMP 0x008063a5
00806327 : COMISS XMM0,dword ptr [ESI + 0xa90]
0080632e : JA 0x0080634e
00806330 : MOVSS XMM1,dword ptr [ESI + 0xa9c]
00806338 : COMISS XMM1,XMM0
0080633b : JBE 0x00806561
00806341 : COMISS XMM0,dword ptr [ESI + 0xa8c]
00806348 : JBE 0x00806561
0080634e : FLD float ptr [ESI + 0xa80]
00806354 : SUB ESP,0x8
00806357 : FSTP float ptr [ESP + 0x4]
0080635b : MOV EAX,ESI
0080635d : FLDZ
0080635f : FSTP float ptr [ESP]
00806362 : CALL 0x00806260
00806367 : FLD float ptr [ESI + 0xa80]
0080636d : FMUL float ptr [ESP + 0x10]
00806371 : FCOMIP ST0,ST1
00806373 : FSTP ST0
00806375 : JBE 0x00806554
0080637b : FLD float ptr [ESI + 0x64]
0080637e : SUB ESP,0x8
00806381 : FSTP float ptr [ESP + 0x4]
00806385 : MOV EAX,ESI
00806387 : FLD float ptr [ESI + 0x60]
0080638a : FSTP float ptr [ESP]
0080638d : CALL 0x00806260
00806392 : MOVSS XMM0,dword ptr [EBP + 0x8]
00806397 : FSTP float ptr [ESI + 0xa88]
0080639d : MOVSS XMM2,dword ptr [0x00c10fc4]
008063a5 : MOVSS XMM1,dword ptr [ESI + 0x98]
008063ad : MOVSS dword ptr [ESI + 0xa94],XMM0
008063b5 : MOVSS XMM0,dword ptr [ESI + 0xa84]
008063bd : MOVSS dword ptr [ESP + 0x18],XMM0
008063c3 : MOVSS dword ptr [ESI + 0xa98],XMM0
008063cb : MOVSS XMM0,dword ptr [ESI + 0xa88]
008063d3 : SUBSS XMM2,XMM1
008063d7 : COMISS XMM0,XMM2
008063da : JBE 0x008063e4
008063dc : MOVSS dword ptr [ESI + 0xa88],XMM2
008063e4 : MOVSS XMM0,dword ptr [ESI]
008063e8 : MOVSS dword ptr [ESP + 0x10],XMM0
008063ee : MULSS XMM0,dword ptr [0x00d72c24]
008063f6 : MOVSS dword ptr [ESP + 0xc],XMM0
008063fc : MOVSS XMM0,dword ptr [ESI + 0xa88]
00806404 : MOVSS dword ptr [ESP + 0x14],XMM0
0080640a : PUSH ECX
0080640b : SUBSS XMM0,XMM1
0080640f : MOVSS dword ptr [ESP],XMM0
00806414 : CALL 0x0040e8d0
00806419 : FLD float ptr [ESP + 0x14]
0080641d : FLD float ptr [ESP + 0x10]
00806421 : MOVSS XMM0,dword ptr [ESP + 0x18]
00806427 : FSUB ST1,ST0
00806429 : ADD ESP,0x4
0080642c : FXCH ST2
0080642e : SUB ESP,0x8
00806431 : COMISS XMM0,dword ptr [ESP + 0x20]
00806436 : FMULP
00806438 : MOV EAX,ESI
0080643a : FADDP
0080643c : FST float ptr [ESP + 0x18]
00806440 : JBE 0x00806461
00806442 : MOVSS XMM0,dword ptr [ESP + 0x18]
00806448 : FADD ST0,ST0
0080644a : MULSS XMM0,dword ptr [0x00d72c24]
00806452 : FST float ptr [ESP + 0x14]
00806456 : FSTP float ptr [ESP + 0x4]
0080645a : MOVSS dword ptr [ESP],XMM0
0080645f : JMP 0x00806470
00806461 : FLD ST0
00806463 : FADD ST0,ST1
00806465 : FST float ptr [ESP + 0x14]
00806469 : FSTP float ptr [ESP + 0x4]
0080646d : FSTP float ptr [ESP]
00806470 : CALL 0x00806260
00806475 : FADD float ptr [EBP + 0x8]
00806478 : MOVSS XMM0,dword ptr [ESI + 0x68]
0080647d : MOVSS dword ptr [ESP + 0x14],XMM0
00806483 : MOVSS XMM0,dword ptr [ESI + 0x6c]
00806488 : FSTP float ptr [ESI + 0xa8c]
0080648e : LEA EDI,[ESI + 0xac]
00806494 : MOV EAX,EDI
00806496 : MOVSS dword ptr [ESP + 0x18],XMM0
0080649c : CALL 0x004571e0
008064a1 : MOV dword ptr [ESP + 0x1c],EAX
008064a5 : FILD dword ptr [ESP + 0x1c]
008064a9 : TEST EAX,EAX
008064ab : JGE 0x008064b3
008064ad : FADD float ptr [0x00cdf0e0]
008064b3 : FADD float ptr [0x00d72c24]
008064b9 : MOVSS XMM1,dword ptr [ESP + 0x14]
008064bf : MOVSS XMM0,dword ptr [ESP + 0x18]
008064c5 : SUBSS XMM0,XMM1
008064c9 : FMUL float ptr [0x00cdf324]
008064cf : MOV EAX,EDI
008064d1 : FSTP float ptr [ESP + 0x1c]
008064d5 : MULSS XMM0,dword ptr [ESP + 0x1c]
008064db : ADDSS XMM0,XMM1
008064df : ADDSS XMM0,dword ptr [ESI + 0xa8c]
008064e7 : MOVSS dword ptr [ESI + 0xa9c],XMM0
008064ef : MOVSS XMM0,dword ptr [ESP + 0xc]
008064f5 : MOVSS dword ptr [ESP + 0x1c],XMM0
008064fb : CALL 0x004571e0
00806500 : MOV dword ptr [ESP + 0x18],EAX
00806504 : FILD dword ptr [ESP + 0x18]
00806508 : TEST EAX,EAX
0080650a : JGE 0x00806512
0080650c : FADD float ptr [0x00cdf0e0]
00806512 : FADD float ptr [0x00d72c24]
00806518 : MOVSS XMM0,dword ptr [ESP + 0x10]
0080651e : MULSS XMM0,dword ptr [0x00cdf19c]
00806526 : MOVSS XMM1,dword ptr [ESP + 0x1c]
0080652c : FMUL float ptr [0x00cdf324]
00806532 : SUBSS XMM0,XMM1
00806536 : FSTP float ptr [ESP + 0x18]
0080653a : MULSS XMM0,dword ptr [ESP + 0x18]
00806540 : ADDSS XMM0,XMM1
00806544 : ADDSS XMM0,dword ptr [ESI + 0xa9c]
0080654c : MOVSS dword ptr [ESI + 0xa90],XMM0
00806554 : MOVSS XMM2,dword ptr [0x00c10fc4]
0080655c : MOVSS XMM0,dword ptr [EBP + 0x8]
00806561 : MOVSS XMM1,dword ptr [ESI + 0xa8c]
00806569 : COMISS XMM1,XMM0
0080656c : JBE 0x008065ed
0080656e : MOVSS XMM2,dword ptr [ESI + 0xa94]
00806576 : SUBSS XMM0,XMM2
0080657a : SUBSS XMM1,XMM2
0080657e : DIVSS XMM0,XMM1
00806582 : MOVSS dword ptr [ESP + 0x1c],XMM0
00806588 : MULSS XMM0,dword ptr [0x00cdf460]
00806590 : SUBSS XMM0,dword ptr [0x00cdf148]
00806598 : XORPS XMM0,xmmword ptr [0x00cdf0c0]
0080659f : CVTPS2PD XMM0,XMM0
008065a2 : CALL 0x00b0a982
008065a7 : MOVSS XMM2,dword ptr [0x00c10fc4]
008065af : MOVSS XMM3,dword ptr [ESI + 0xa98]
008065b7 : CVTSD2SS XMM0,XMM0
008065bb : ADDSS XMM0,XMM2
008065bf : MOVAPS XMM1,XMM2
008065c2 : DIVSS XMM1,XMM0
008065c6 : MOVSS XMM0,dword ptr [ESP + 0x1c]
008065cc : SUBSS XMM0,XMM1
008065d0 : MULSS XMM0,dword ptr [0x00b9b0b4]
008065d8 : ADDSS XMM0,XMM1
008065dc : MOVSS XMM1,dword ptr [ESI + 0xa88]
008065e4 : SUBSS XMM1,XMM3
008065e8 : JMP 0x0080668c
008065ed : MOVSS XMM3,dword ptr [ESI + 0xa9c]
008065f5 : COMISS XMM0,XMM3
008065f8 : JBE 0x0080669c
008065fe : MOVSS XMM1,dword ptr [ESI + 0xa90]
00806606 : COMISS XMM1,dword ptr [0x00b9b0b4]
0080660d : JBE 0x0080669c
00806613 : COMISS XMM1,XMM3
00806616 : JBE 0x0080669c
0080661c : SUBSS XMM0,XMM3
00806620 : SUBSS XMM1,XMM3
00806624 : DIVSS XMM0,XMM1
00806628 : MOVSS dword ptr [ESP + 0x1c],XMM0
0080662e : MULSS XMM0,dword ptr [0x00cdf460]
00806636 : SUBSS XMM0,dword ptr [0x00cdf148]
0080663e : XORPS XMM0,xmmword ptr [0x00cdf0c0]
00806645 : CVTPS2PD XMM0,XMM0
00806648 : CALL 0x00b0a982
0080664d : MOVSS XMM2,dword ptr [0x00c10fc4]
00806655 : MOVSS XMM3,dword ptr [ESI + 0xa88]
0080665d : CVTSD2SS XMM0,XMM0
00806661 : ADDSS XMM0,XMM2
00806665 : MOVAPS XMM1,XMM2
00806668 : DIVSS XMM1,XMM0
0080666c : MOVSS XMM0,dword ptr [ESP + 0x1c]
00806672 : SUBSS XMM0,XMM1
00806676 : MULSS XMM0,dword ptr [0x00d72c24]
0080667e : ADDSS XMM0,XMM1
00806682 : MOVAPS XMM1,XMM3
00806685 : XORPS XMM1,xmmword ptr [0x00cdf0c0]
0080668c : MULSS XMM0,XMM1
00806690 : ADDSS XMM0,XMM3
00806694 : MOVSS dword ptr [ESI + 0xa84],XMM0
0080669c : MOVSS XMM0,dword ptr [ESI + 0xa84]
008066a4 : COMISS XMM0,XMM2
008066a7 : JA 0x008066c3
008066a9 : MOVAPS XMM2,XMM0
008066ac : XORPS XMM0,XMM0
008066af : COMISS XMM0,XMM2
008066b2 : JBE 0x008066c3
008066b4 : MOVSS dword ptr [ESI + 0xa84],XMM0
008066bc : POP EDI
008066bd : MOV ESP,EBP
008066bf : POP EBP
008066c0 : RET 0x4
008066c3 : MOVSS dword ptr [ESI + 0xa84],XMM2
008066cb : POP EDI
008066cc : MOV ESP,EBP
008066ce : POP EBP
008066cf : RET 0x4
