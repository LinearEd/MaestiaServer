PROGRAM  : Maestia.exe
FUNCTION : FUN_007d03e0
ENTRY    : 007d03e0
BODY     : [[007d03e0, 007d04ad]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d03e0(undefined4 param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int in_ECX;
  uint uVar3;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1a124;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(in_ECX + 0x234);
  local_18 = 0;
  local_20 = ".\\Resource\\AvaExportedData.cpp";
  local_1c = 0x65;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  local_8 = 0;
  iVar1 = *(int *)(in_ECX + 0xd8);
  if (iVar1 == 0) {
    uVar3 = 0;
  }
  else {
    uVar3 = *(int *)(in_ECX + 0xe0) - iVar1 >> 2;
  }
  puVar2 = *(undefined4 **)(in_ECX + 0xdc);
  if ((uint)((int)puVar2 - iVar1 >> 2) < uVar3) {
    *puVar2 = param_1;
    *(undefined4 **)(in_ECX + 0xdc) = puVar2 + 1;
  }
  else {
    FUN_0042fe80(in_ECX + 0xd4,puVar2,&param_1);
  }
  local_8 = 0xffffffff;
  if (local_18 != 0) {
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d03e0 : PUSH EBP
007d03e1 : MOV EBP,ESP
007d03e3 : PUSH -0x1
007d03e5 : PUSH 0xb1a124
007d03ea : MOV EAX,FS:[0x0]
007d03f0 : PUSH EAX
007d03f1 : SUB ESP,0x14
007d03f4 : PUSH EBX
007d03f5 : PUSH ESI
007d03f6 : MOV EAX,[0x00d66fa0]
007d03fb : XOR EAX,EBP
007d03fd : PUSH EAX
007d03fe : LEA EAX,[EBP + -0xc]
007d0401 : MOV FS:[0x0],EAX
007d0407 : MOV ESI,ECX
007d0409 : LEA ECX,[EBP + -0x20]
007d040c : LEA EAX,[ESI + 0x234]
007d0412 : PUSH ECX
007d0413 : MOV dword ptr [EBP + -0x14],0x0
007d041a : MOV dword ptr [EBP + -0x20],EAX
007d041d : MOV dword ptr [EBP + -0x1c],0xc1f980
007d0424 : MOV dword ptr [EBP + -0x18],0x65
007d042b : MOV dword ptr [EBP + -0x10],0x1
007d0432 : CALL 0x006ef1a0
007d0437 : MOV dword ptr [EBP + -0x4],0x0
007d043e : LEA EAX,[ESI + 0xd4]
007d0444 : MOV ESI,dword ptr [EAX + 0x4]
007d0447 : TEST ESI,ESI
007d0449 : JNZ 0x007d044f
007d044b : XOR ECX,ECX
007d044d : JMP 0x007d0457
007d044f : MOV ECX,dword ptr [EAX + 0xc]
007d0452 : SUB ECX,ESI
007d0454 : SAR ECX,0x2
007d0457 : MOV EDX,dword ptr [EAX + 0x8]
007d045a : MOV EBX,EDX
007d045c : SUB EBX,ESI
007d045e : SAR EBX,0x2
007d0461 : CMP EBX,ECX
007d0463 : JNC 0x007d0472
007d0465 : MOV ECX,dword ptr [EBP + 0x8]
007d0468 : MOV dword ptr [EDX],ECX
007d046a : ADD EDX,0x4
007d046d : MOV dword ptr [EAX + 0x8],EDX
007d0470 : JMP 0x007d047d
007d0472 : LEA ECX,[EBP + 0x8]
007d0475 : PUSH ECX
007d0476 : PUSH EDX
007d0477 : PUSH EAX
007d0478 : CALL 0x0042fe80
007d047d : MOV dword ptr [EBP + -0x4],0xffffffff
007d0484 : CMP dword ptr [EBP + -0x14],0x0
007d0488 : JZ 0x007d049b
007d048a : MOV EDX,dword ptr [EBP + -0x20]
007d048d : PUSH EDX
007d048e : CALL dword ptr [0x00b8511c]
007d0494 : MOV dword ptr [EBP + -0x14],0x0
007d049b : MOV ECX,dword ptr [EBP + -0xc]
007d049e : MOV dword ptr FS:[0x0],ECX
007d04a5 : POP ECX
007d04a6 : POP ESI
007d04a7 : POP EBX
007d04a8 : MOV ESP,EBP
007d04aa : POP EBP
007d04ab : RET 0x4
