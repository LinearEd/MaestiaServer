PROGRAM  : Maestia.exe
FUNCTION : FUN_00780d60
ENTRY    : 00780d60
BODY     : [[00780d60, 00780e73]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00780d60(void)

{
  int iVar1;
  float fVar2;
  float fVar3;
  int in_ECX;
  undefined4 local_10;
  
  iVar1 = *(int *)(in_ECX + 4);
  fVar2 = (float)*(int *)(iVar1 + 0x20);
  if (*(int *)(iVar1 + 0x20) < 0) {
    fVar2 = fVar2 + 4.2949673e+09;
  }
  fVar3 = (float)*(int *)(iVar1 + 0x24);
  if (*(int *)(iVar1 + 0x24) < 0) {
    fVar3 = fVar3 + 4.2949673e+09;
  }
  if (*(char *)(in_ECX + 0x42) == '\0') {
    local_10 = (undefined4)(longlong)ROUND(*(float *)(in_ECX + 0x24) * fVar2);
    *(undefined4 *)(in_ECX + 0x34) = local_10;
    local_10 = (undefined4)(longlong)ROUND(*(float *)(in_ECX + 0x20) * fVar3);
    *(undefined4 *)(in_ECX + 0x30) = local_10;
    local_10 = (undefined4)(longlong)ROUND(*(float *)(in_ECX + 0x28) * fVar2);
    *(undefined4 *)(in_ECX + 0x38) = local_10;
    local_10 = (undefined4)(longlong)ROUND(fVar3 * *(float *)(in_ECX + 0x2c));
    *(undefined4 *)(in_ECX + 0x3c) = local_10;
    *(undefined1 *)(in_ECX + 0x40) = 1;
    iVar1 = *(int *)(in_ECX + 8);
    if (iVar1 != 0) {
      *(undefined1 *)(iVar1 + 0x155) = 1;
      *(float *)(iVar1 + 0x50) = fVar2 / fVar3;
      return;
    }
  }
  else {
    *(undefined1 *)(in_ECX + 0x40) = 1;
    iVar1 = *(int *)(in_ECX + 8);
    if (iVar1 != 0) {
      *(undefined1 *)(iVar1 + 0x155) = 1;
      *(undefined4 *)(iVar1 + 0x50) = 0x3f19999a;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00780d60 : PUSH EBP
00780d61 : MOV EBP,ESP
00780d63 : MOV EAX,dword ptr [ECX + 0x4]
00780d66 : MOV EDX,dword ptr [EAX + 0x20]
00780d69 : FILD dword ptr [EAX + 0x20]
00780d6c : SUB ESP,0x14
00780d6f : TEST EDX,EDX
00780d71 : JGE 0x00780d79
00780d73 : FADD float ptr [0x00cdf0e0]
00780d79 : MOV EAX,dword ptr [EAX + 0x24]
00780d7c : FST float ptr [EBP + -0x10]
00780d7f : MOV dword ptr [EBP + -0x14],EAX
00780d82 : FILD dword ptr [EBP + -0x14]
00780d85 : TEST EAX,EAX
00780d87 : JGE 0x00780d8f
00780d89 : FADD float ptr [0x00cdf0e0]
00780d8f : CMP byte ptr [ECX + 0x42],0x0
00780d93 : FST float ptr [EBP + -0x14]
00780d96 : JNZ 0x00780e4d
00780d9c : FLD float ptr [ECX + 0x24]
00780d9f : FNSTCW word ptr [EBP + -0x2]
00780da2 : MOVZX EAX,word ptr [EBP + -0x2]
00780da6 : FMUL ST2
00780da8 : OR EAX,0xc00
00780dad : MOV dword ptr [EBP + -0x8],EAX
00780db0 : FLDCW word ptr [EBP + -0x8]
00780db3 : FISTP qword ptr [EBP + -0xc]
00780db6 : MOV EDX,dword ptr [EBP + -0xc]
00780db9 : MOV dword ptr [ECX + 0x34],EDX
00780dbc : FLDCW word ptr [EBP + -0x2]
00780dbf : FLD float ptr [ECX + 0x20]
00780dc2 : FNSTCW word ptr [EBP + -0x2]
00780dc5 : FMUL ST1
00780dc7 : MOVZX EAX,word ptr [EBP + -0x2]
00780dcb : OR EAX,0xc00
00780dd0 : MOV dword ptr [EBP + -0x8],EAX
00780dd3 : FLDCW word ptr [EBP + -0x8]
00780dd6 : FISTP qword ptr [EBP + -0xc]
00780dd9 : MOV EAX,dword ptr [EBP + -0xc]
00780ddc : MOV dword ptr [ECX + 0x30],EAX
00780ddf : FLDCW word ptr [EBP + -0x2]
00780de2 : FLD float ptr [ECX + 0x28]
00780de5 : FNSTCW word ptr [EBP + -0x2]
00780de8 : FMULP ST2
00780dea : MOVZX EAX,word ptr [EBP + -0x2]
00780dee : FXCH
00780df0 : OR EAX,0xc00
00780df5 : MOV dword ptr [EBP + -0x8],EAX
00780df8 : FLDCW word ptr [EBP + -0x8]
00780dfb : FISTP qword ptr [EBP + -0xc]
00780dfe : MOV EDX,dword ptr [EBP + -0xc]
00780e01 : MOV dword ptr [ECX + 0x38],EDX
00780e04 : FLDCW word ptr [EBP + -0x2]
00780e07 : FMUL float ptr [ECX + 0x2c]
00780e0a : FNSTCW word ptr [EBP + -0x2]
00780e0d : MOVZX EAX,word ptr [EBP + -0x2]
00780e11 : OR EAX,0xc00
00780e16 : MOV dword ptr [EBP + -0x8],EAX
00780e19 : FLDCW word ptr [EBP + -0x8]
00780e1c : FISTP qword ptr [EBP + -0xc]
00780e1f : MOV EAX,dword ptr [EBP + -0xc]
00780e22 : MOV dword ptr [ECX + 0x3c],EAX
00780e25 : MOV AL,0x1
00780e27 : FLDCW word ptr [EBP + -0x2]
00780e2a : MOV byte ptr [ECX + 0x40],AL
00780e2d : MOV ECX,dword ptr [ECX + 0x8]
00780e30 : TEST ECX,ECX
00780e32 : JZ 0x00780e70
00780e34 : MOVSS XMM0,dword ptr [EBP + -0x10]
00780e39 : DIVSS XMM0,dword ptr [EBP + -0x14]
00780e3e : MOV byte ptr [ECX + 0x155],AL
00780e44 : MOVSS dword ptr [ECX + 0x50],XMM0
00780e49 : MOV ESP,EBP
00780e4b : POP EBP
00780e4c : RET
00780e4d : MOV AL,0x1
00780e4f : FSTP ST1
00780e51 : MOV byte ptr [ECX + 0x40],AL
00780e54 : FSTP ST0
00780e56 : MOV ECX,dword ptr [ECX + 0x8]
00780e59 : TEST ECX,ECX
00780e5b : JZ 0x00780e70
00780e5d : MOVSS XMM0,dword ptr [0x00cdf304]
00780e65 : MOV byte ptr [ECX + 0x155],AL
00780e6b : MOVSS dword ptr [ECX + 0x50],XMM0
00780e70 : MOV ESP,EBP
00780e72 : POP EBP
00780e73 : RET
