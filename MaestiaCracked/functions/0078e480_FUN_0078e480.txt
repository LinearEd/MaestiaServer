PROGRAM  : Maestia.exe
FUNCTION : FUN_0078e480
ENTRY    : 0078e480
BODY     : [[0078e480, 0078e64f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0078e480(void)

{
  char cVar1;
  int iVar2;
  undefined4 uVar3;
  int in_ECX;
  undefined4 local_b4 [6];
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined1 auStack_94 [4];
  undefined4 ***apppuStack_90 [5];
  uint uStack_7c;
  undefined4 uStack_5c;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  int iStack_c;
  
  iStack_c = 0xffffffff;
  puStack_10 = &LAB_00b47d4b;
  local_14 = ExceptionList;
  local_1c = DAT_00d66fa0 ^ (uint)local_b4;
  ExceptionList = &local_14;
  if ((((DAT_00d6ab01 != '\0') && (*(int *)(in_ECX + 0x38) != 0)) &&
      (*(char *)(in_ECX + 0x24) != '\0')) &&
     (((*(char *)(in_ECX + 0x5d) == '\0' && (*(int *)(in_ECX + 100) == 0)) &&
      (iVar2 = (**(code **)(**(int **)(in_ECX + 0x38) + 0x44))
                         (*(int **)(in_ECX + 0x38),0,local_b4,DAT_00d66fa0 ^ (uint)&stack0xffffff40)
      , -1 < iVar2)))) {
    uVar3 = (**(code **)(**(int **)(in_ECX + 0x38) + 0x34))(*(int **)(in_ECX + 0x38));
    FUN_00405660(in_ECX + 4);
    iStack_c = 0;
    FUN_0070d390();
    iStack_c._0_1_ = 1;
    cVar1 = FUN_008036f0(DAT_017251c8,auStack_94);
    if (cVar1 != '\0') {
      iVar2 = FUN_007b4450(*(undefined4 *)(DAT_017251ac + 0x18),uStack_5c,uStack_9c,uStack_98,uVar3,
                           local_b4[0],2,1,5,*(undefined4 *)(in_ECX + 0x58),0,in_ECX + 100,1);
      if (-1 < iVar2) {
        FUN_0070d4c0();
        iStack_c = (uint)iStack_c._1_3_ << 8;
        FUN_0070d710();
        iStack_c = 0xffffffff;
        FUN_00406560();
        goto LAB_0078e5fa;
      }
      if (uStack_7c < 8) {
        apppuStack_90[0] = apppuStack_90;
      }
      FUN_008018d0(L"[AvaMeshTxtr::ConvertToDynamicTex] Failed CreateTextureFromFileInMemoryEx Name : %s, (%d)"
                   ,apppuStack_90[0],iVar2);
    }
    FUN_0070d4c0();
    iStack_c = (uint)iStack_c._1_3_ << 8;
    FUN_0070d710();
    iStack_c = 0xffffffff;
    FUN_00406560();
  }
LAB_0078e5fa:
  ExceptionList = local_14;
  __security_check_cookie(local_1c ^ (uint)local_b4);
  return;
}



============================================================
DISASSEMBLY
============================================================
0078e480 : PUSH EBP
0078e481 : MOV EBP,ESP
0078e483 : AND ESP,0xfffffff8
0078e486 : PUSH -0x1
0078e488 : PUSH 0xb47d4b
0078e48d : MOV EAX,FS:[0x0]
0078e493 : PUSH EAX
0078e494 : SUB ESP,0xa0
0078e49a : MOV EAX,[0x00d66fa0]
0078e49f : XOR EAX,ESP
0078e4a1 : MOV dword ptr [ESP + 0x98],EAX
0078e4a8 : PUSH EBX
0078e4a9 : PUSH ESI
0078e4aa : PUSH EDI
0078e4ab : MOV EAX,[0x00d66fa0]
0078e4b0 : XOR EAX,ESP
0078e4b2 : PUSH EAX
0078e4b3 : LEA EAX,[ESP + 0xb0]
0078e4ba : MOV FS:[0x0],EAX
0078e4c0 : CMP byte ptr [0x00d6ab01],0x0
0078e4c7 : MOV ESI,ECX
0078e4c9 : JZ 0x0078e5f8
0078e4cf : CMP dword ptr [ESI + 0x38],0x0
0078e4d3 : JZ 0x0078e5f8
0078e4d9 : CMP byte ptr [ESI + 0x24],0x0
0078e4dd : JZ 0x0078e5f8
0078e4e3 : CMP byte ptr [ESI + 0x5d],0x0
0078e4e7 : JNZ 0x0078e5f8
0078e4ed : CMP dword ptr [ESI + 0x64],0x0
0078e4f1 : LEA EBX,[ESI + 0x64]
0078e4f4 : JNZ 0x0078e64c
0078e4fa : MOV EAX,dword ptr [ESI + 0x38]
0078e4fd : MOV ECX,dword ptr [EAX]
0078e4ff : LEA EDX,[ESP + 0x10]
0078e503 : PUSH EDX
0078e504 : PUSH 0x0
0078e506 : PUSH EAX
0078e507 : MOV EAX,dword ptr [ECX + 0x44]
0078e50a : CALL EAX
0078e50c : TEST EAX,EAX
0078e50e : JL 0x0078e5f8
0078e514 : MOV EAX,dword ptr [ESI + 0x38]
0078e517 : MOV ECX,dword ptr [EAX]
0078e519 : MOV EDX,dword ptr [ECX + 0x34]
0078e51c : PUSH EAX
0078e51d : CALL EDX
0078e51f : MOV EDI,EAX
0078e521 : LEA EAX,[ESI + 0x4]
0078e524 : PUSH EAX
0078e525 : LEA ECX,[ESP + 0x34]
0078e529 : CALL 0x00405660
0078e52e : MOV dword ptr [ESP + 0xb8],0x0
0078e539 : LEA ECX,[ESP + 0x4c]
0078e53d : CALL 0x0070d390
0078e542 : MOV byte ptr [ESP + 0xb8],0x1
0078e54a : MOV EDX,dword ptr [0x017251c8]
0078e550 : LEA ECX,[ESP + 0x30]
0078e554 : PUSH ECX
0078e555 : PUSH EDX
0078e556 : LEA ECX,[ESP + 0x54]
0078e55a : CALL 0x008036f0
0078e55f : TEST AL,AL
0078e561 : JZ 0x0078e5ca
0078e563 : MOV ECX,dword ptr [ESI + 0x58]
0078e566 : MOV EDX,dword ptr [ESP + 0x10]
0078e56a : MOV EAX,[0x017251ac]
0078e56f : MOV EAX,dword ptr [EAX + 0x18]
0078e572 : PUSH 0x1
0078e574 : PUSH EBX
0078e575 : PUSH 0x0
0078e577 : PUSH ECX
0078e578 : MOV ECX,dword ptr [ESP + 0x3c]
0078e57c : PUSH 0x5
0078e57e : PUSH 0x1
0078e580 : PUSH 0x2
0078e582 : PUSH EDX
0078e583 : MOV EDX,dword ptr [ESP + 0x48]
0078e587 : PUSH EDI
0078e588 : PUSH ECX
0078e589 : MOV ECX,dword ptr [ESP + 0x90]
0078e590 : PUSH EDX
0078e591 : PUSH ECX
0078e592 : MOV ECX,dword ptr [ESP + 0x9c]
0078e599 : PUSH EAX
0078e59a : CALL 0x007b4450
0078e59f : ADD ESP,0x34
0078e5a2 : TEST EAX,EAX
0078e5a4 : JGE 0x0078e61e
0078e5a6 : CMP dword ptr [ESP + 0x48],0x8
0078e5ab : MOV ECX,dword ptr [ESP + 0x34]
0078e5af : JNC 0x0078e5b5
0078e5b1 : LEA ECX,[ESP + 0x34]
0078e5b5 : MOV ESI,dword ptr [0x00da98e8]
0078e5bb : PUSH EAX
0078e5bc : PUSH ECX
0078e5bd : PUSH 0xc13af0
0078e5c2 : CALL 0x008018d0
0078e5c7 : ADD ESP,0xc
0078e5ca : LEA ECX,[ESP + 0x4c]
0078e5ce : CALL 0x0070d4c0
0078e5d3 : MOV byte ptr [ESP + 0xb8],0x0
0078e5db : LEA ECX,[ESP + 0x4c]
0078e5df : CALL 0x0070d710
0078e5e4 : MOV dword ptr [ESP + 0xb8],0xffffffff
0078e5ef : LEA ECX,[ESP + 0x30]
0078e5f3 : CALL 0x00406560
0078e5f8 : XOR AL,AL
0078e5fa : MOV ECX,dword ptr [ESP + 0xb0]
0078e601 : MOV dword ptr FS:[0x0],ECX
0078e608 : POP ECX
0078e609 : POP EDI
0078e60a : POP ESI
0078e60b : POP EBX
0078e60c : MOV ECX,dword ptr [ESP + 0x98]
0078e613 : XOR ECX,ESP
0078e615 : CALL 0x00633e6b
0078e61a : MOV ESP,EBP
0078e61c : POP EBP
0078e61d : RET
0078e61e : LEA ECX,[ESP + 0x4c]
0078e622 : CALL 0x0070d4c0
0078e627 : MOV byte ptr [ESP + 0xb8],0x0
0078e62f : LEA ECX,[ESP + 0x4c]
0078e633 : CALL 0x0070d710
0078e638 : MOV dword ptr [ESP + 0xb8],0xffffffff
0078e643 : LEA ECX,[ESP + 0x30]
0078e647 : CALL 0x00406560
0078e64c : MOV AL,0x1
0078e64e : JMP 0x0078e5fa
