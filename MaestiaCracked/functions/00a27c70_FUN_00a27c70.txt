PROGRAM  : Maestia.exe
FUNCTION : FUN_00a27c70
ENTRY    : 00a27c70
BODY     : [[00a27c70, 00a27f37]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a27c70(undefined4 param_1,undefined4 param_2,int *param_3,int param_4)

{
  code *pcVar1;
  int iVar2;
  char cVar3;
  int iVar4;
  int in_ECX;
  int *piVar5;
  float10 fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  int local_3c;
  int *local_38;
  int local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b393a1;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(short *)(in_ECX + 0x5ea) = *(short *)(in_ECX + 0x5ea) + 1;
  local_38 = param_3;
  FUN_00404750(L"RepeatObj_%d",*(undefined2 *)(in_ECX + 0x5ea),local_14);
  piVar5 = (int *)0x0;
  local_8 = 0;
  if (60000 < *(ushort *)(in_ECX + 0x5ea)) {
    *(undefined2 *)(in_ECX + 0x5ea) = 0;
  }
  local_3c = FUN_006f0760(0xf0,".\\Flow\\AvaGameZone.cpp",0x11eb,0);
  local_8._0_1_ = 1;
  if (local_3c != 0) {
    piVar5 = (int *)FUN_00878490(local_3c);
  }
  local_8 = (uint)local_8._1_3_ << 8;
  local_48 = 0x3f800000;
  local_44 = 0x3f800000;
  local_40 = 0x3f800000;
  local_64 = 0;
  local_60 = 0;
  local_5c = 0;
  local_58 = 0x3f800000;
  local_54 = 0;
  local_50 = 0;
  local_4c = 0;
  local_3c = (**(code **)(**(int **)(in_ECX + 0x164) + 0x20))
                       (local_30,&local_54,&local_64,&local_48);
  local_34 = FUN_00a1a840(param_2);
  if (local_34 == 0) {
    local_34 = FUN_00a1a6d0(param_2);
    if (local_34 == 0) {
      local_34 = FUN_00a1a780(param_2);
    }
  }
  iVar4 = FUN_00a1a840(param_1);
  if (iVar4 == 0) {
    iVar4 = FUN_00a1a6d0(param_1);
    if (iVar4 == 0) {
      iVar4 = FUN_00a1a780(param_1);
      if (iVar4 == 0) goto LAB_00a27eef;
    }
  }
  cVar3 = FUN_008896f0();
  if ((cVar3 == '\0') && (local_34 != 0)) {
    cVar3 = FUN_008896f0();
    if (cVar3 == '\0') {
      fVar7 = *(float *)(local_34 + 0x1a4) - *(float *)(iVar4 + 0x1a4);
      fVar8 = *(float *)(local_34 + 0x1a8) - *(float *)(iVar4 + 0x1a8);
      fVar9 = *(float *)(local_34 + 0x1ac) - *(float *)(iVar4 + 0x1ac);
      fVar6 = (float10)FUN_0040f460(fVar7 * fVar7 + fVar8 * fVar8 + fVar9 * fVar9);
      FUN_00877110(0x41a00000,(float)fVar6,0,0);
      piVar5[0x12] = local_3c;
      if (local_3c != 0) {
        FUN_008783c0(piVar5);
      }
      piVar5[0xb] = 4;
      FUN_0040e930(piVar5);
      piVar5[0x37] = param_4;
      FUN_0040e880(piVar5);
      FUN_0040e830(piVar5);
      iVar2 = DAT_00d72a88;
      pcVar1 = *(code **)(*piVar5 + 0xc);
      piVar5[0x39] = 3;
      piVar5[0x38] = iVar2;
      (*pcVar1)(iVar4);
      local_38 = piVar5;
      FUN_00449730();
    }
  }
LAB_00a27eef:
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = 0;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a27c70 : PUSH EBP
00a27c71 : MOV EBP,ESP
00a27c73 : PUSH -0x1
00a27c75 : PUSH 0xb393a1
00a27c7a : MOV EAX,FS:[0x0]
00a27c80 : PUSH EAX
00a27c81 : SUB ESP,0x54
00a27c84 : MOV EAX,[0x00d66fa0]
00a27c89 : XOR EAX,EBP
00a27c8b : MOV dword ptr [EBP + -0x10],EAX
00a27c8e : PUSH EBX
00a27c8f : PUSH ESI
00a27c90 : PUSH EDI
00a27c91 : PUSH EAX
00a27c92 : LEA EAX,[EBP + -0xc]
00a27c95 : MOV FS:[0x0],EAX
00a27c9b : MOV EAX,dword ptr [EBP + 0x10]
00a27c9e : MOV EDI,ECX
00a27ca0 : INC word ptr [EDI + 0x5ea]
00a27ca7 : MOV dword ptr [EBP + -0x34],EAX
00a27caa : MOVZX EAX,word ptr [EDI + 0x5ea]
00a27cb1 : MOVZX ECX,AX
00a27cb4 : PUSH ECX
00a27cb5 : PUSH 0xcc0770
00a27cba : LEA ESI,[EBP + -0x2c]
00a27cbd : CALL 0x00404750
00a27cc2 : ADD ESP,0x8
00a27cc5 : XOR ESI,ESI
00a27cc7 : MOV dword ptr [EBP + -0x4],ESI
00a27cca : MOV EDX,0xea60
00a27ccf : CMP word ptr [EDI + 0x5ea],DX
00a27cd6 : JBE 0x00a27ce1
00a27cd8 : XOR EAX,EAX
00a27cda : MOV word ptr [EDI + 0x5ea],AX
00a27ce1 : PUSH ESI
00a27ce2 : PUSH 0x11eb
00a27ce7 : PUSH 0xcc078c
00a27cec : PUSH 0xf0
00a27cf1 : CALL 0x006f0760
00a27cf6 : ADD ESP,0x10
00a27cf9 : MOV dword ptr [EBP + -0x38],EAX
00a27cfc : MOV byte ptr [EBP + -0x4],0x1
00a27d00 : CMP EAX,ESI
00a27d02 : JZ 0x00a27d0c
00a27d04 : PUSH EAX
00a27d05 : CALL 0x00878490
00a27d0a : MOV ESI,EAX
00a27d0c : MOV byte ptr [EBP + -0x4],0x0
00a27d10 : XORPS XMM0,XMM0
00a27d13 : MOVSS XMM1,dword ptr [0x00c10fc4]
00a27d1b : MOV ECX,dword ptr [EDI + 0x164]
00a27d21 : LEA EAX,[EBP + -0x44]
00a27d24 : PUSH EAX
00a27d25 : LEA EAX,[EBP + -0x60]
00a27d28 : PUSH EAX
00a27d29 : LEA EAX,[EBP + -0x50]
00a27d2c : PUSH EAX
00a27d2d : MOVSS dword ptr [EBP + -0x44],XMM1
00a27d32 : MOVSS dword ptr [EBP + -0x40],XMM1
00a27d37 : MOVSS dword ptr [EBP + -0x3c],XMM1
00a27d3c : MOVSS dword ptr [EBP + -0x60],XMM0
00a27d41 : MOVSS dword ptr [EBP + -0x5c],XMM0
00a27d46 : MOVSS dword ptr [EBP + -0x58],XMM0
00a27d4b : MOVSS dword ptr [EBP + -0x54],XMM1
00a27d50 : MOVSS dword ptr [EBP + -0x50],XMM0
00a27d55 : MOVSS dword ptr [EBP + -0x4c],XMM0
00a27d5a : MOVSS dword ptr [EBP + -0x48],XMM0
00a27d5f : MOV EDX,dword ptr [ECX]
00a27d61 : MOV EDX,dword ptr [EDX + 0x20]
00a27d64 : LEA EAX,[EBP + -0x2c]
00a27d67 : PUSH EAX
00a27d68 : CALL EDX
00a27d6a : MOV EBX,dword ptr [EBP + 0xc]
00a27d6d : PUSH EBX
00a27d6e : MOV ECX,EDI
00a27d70 : MOV dword ptr [EBP + -0x38],EAX
00a27d73 : CALL 0x00a1a840
00a27d78 : MOV dword ptr [EBP + -0x30],EAX
00a27d7b : TEST EAX,EAX
00a27d7d : JNZ 0x00a27d99
00a27d7f : PUSH EBX
00a27d80 : MOV ECX,EDI
00a27d82 : CALL 0x00a1a6d0
00a27d87 : MOV dword ptr [EBP + -0x30],EAX
00a27d8a : TEST EAX,EAX
00a27d8c : JNZ 0x00a27d99
00a27d8e : PUSH EBX
00a27d8f : MOV ECX,EDI
00a27d91 : CALL 0x00a1a780
00a27d96 : MOV dword ptr [EBP + -0x30],EAX
00a27d99 : MOV EAX,dword ptr [EBP + 0x8]
00a27d9c : PUSH EAX
00a27d9d : MOV ECX,EDI
00a27d9f : CALL 0x00a1a840
00a27da4 : MOV EBX,EAX
00a27da6 : TEST EBX,EBX
00a27da8 : JNZ 0x00a27dd0
00a27daa : MOV ECX,dword ptr [EBP + 0x8]
00a27dad : PUSH ECX
00a27dae : MOV ECX,EDI
00a27db0 : CALL 0x00a1a6d0
00a27db5 : MOV EBX,EAX
00a27db7 : TEST EBX,EBX
00a27db9 : JNZ 0x00a27dd0
00a27dbb : MOV EDX,dword ptr [EBP + 0x8]
00a27dbe : PUSH EDX
00a27dbf : MOV ECX,EDI
00a27dc1 : CALL 0x00a1a780
00a27dc6 : MOV EBX,EAX
00a27dc8 : TEST EBX,EBX
00a27dca : JZ 0x00a27eef
00a27dd0 : MOV EAX,EBX
00a27dd2 : CALL 0x008896f0
00a27dd7 : TEST AL,AL
00a27dd9 : JNZ 0x00a27eef
00a27ddf : MOV EAX,dword ptr [EBP + -0x30]
00a27de2 : TEST EAX,EAX
00a27de4 : JZ 0x00a27eef
00a27dea : CALL 0x008896f0
00a27def : TEST AL,AL
00a27df1 : JNZ 0x00a27eef
00a27df7 : MOV EAX,dword ptr [EBP + -0x30]
00a27dfa : MOVSS XMM3,dword ptr [EBX + 0x1a4]
00a27e02 : MOVSS XMM0,dword ptr [EAX + 0x1a4]
00a27e0a : MOVSS XMM4,dword ptr [EBX + 0x1a8]
00a27e12 : MOVSS XMM1,dword ptr [EAX + 0x1a8]
00a27e1a : MOVSS XMM5,dword ptr [EBX + 0x1ac]
00a27e22 : MOVSS XMM2,dword ptr [EAX + 0x1ac]
00a27e2a : SUBSS XMM0,XMM3
00a27e2e : MOVAPS XMM3,XMM0
00a27e31 : MULSS XMM3,XMM0
00a27e35 : SUBSS XMM1,XMM4
00a27e39 : MOVAPS XMM0,XMM1
00a27e3c : MULSS XMM0,XMM1
00a27e40 : ADDSS XMM3,XMM0
00a27e44 : SUBSS XMM2,XMM5
00a27e48 : MOVAPS XMM0,XMM2
00a27e4b : MULSS XMM0,XMM2
00a27e4f : PUSH ECX
00a27e50 : ADDSS XMM3,XMM0
00a27e54 : MOVSS dword ptr [ESP],XMM3
00a27e59 : CALL 0x0040f460
00a27e5e : FLDZ
00a27e60 : ADD ESP,0x4
00a27e63 : PUSH 0x0
00a27e65 : SUB ESP,0xc
00a27e68 : FSTP float ptr [ESP + 0x8]
00a27e6c : MOV CL,0x1
00a27e6e : MOV EAX,ESI
00a27e70 : FSTP float ptr [ESP + 0x4]
00a27e74 : FLD float ptr [0x00cdf140]
00a27e7a : FSTP float ptr [ESP]
00a27e7d : CALL 0x00877110
00a27e82 : MOV EAX,dword ptr [EBP + -0x38]
00a27e85 : MOV dword ptr [ESI + 0x48],EAX
00a27e88 : TEST EAX,EAX
00a27e8a : JZ 0x00a27e98
00a27e8c : MOV EAX,dword ptr [EBP + 0xc]
00a27e8f : MOV ECX,dword ptr [EBP + -0x34]
00a27e92 : PUSH ESI
00a27e93 : CALL 0x008783c0
00a27e98 : PUSH ESI
00a27e99 : MOV dword ptr [ESI + 0x2c],0x4
00a27ea0 : CALL 0x0040e930
00a27ea5 : MOV EAX,dword ptr [EBP + 0x14]
00a27ea8 : PUSH ESI
00a27ea9 : MOV dword ptr [ESI + 0xdc],EAX
00a27eaf : CALL 0x0040e880
00a27eb4 : PUSH ESI
00a27eb5 : CALL 0x0040e830
00a27eba : MOV EDX,dword ptr [ESI]
00a27ebc : MOVSS XMM0,dword ptr [0x00d72a88]
00a27ec4 : MOV EAX,dword ptr [EDX + 0xc]
00a27ec7 : PUSH EBX
00a27ec8 : MOV ECX,ESI
00a27eca : MOV dword ptr [ESI + 0xe4],0x3
00a27ed4 : MOVSS dword ptr [ESI + 0xe0],XMM0
00a27edc : CALL EAX
00a27ede : LEA EDX,[EDI + 0x17c]
00a27ee4 : LEA EDI,[EBP + -0x34]
00a27ee7 : MOV dword ptr [EBP + -0x34],ESI
00a27eea : CALL 0x00449730
00a27eef : MOV dword ptr [EBP + -0x4],0xffffffff
00a27ef6 : CMP dword ptr [EBP + -0x14],0x8
00a27efa : JC 0x00a27f04
00a27efc : MOV ECX,dword ptr [EBP + -0x28]
00a27eff : CALL 0x006f04e0
00a27f04 : XOR ECX,ECX
00a27f06 : MOV dword ptr [EBP + -0x14],0x7
00a27f0d : MOV dword ptr [EBP + -0x18],0x0
00a27f14 : MOV word ptr [EBP + -0x28],CX
00a27f18 : MOV EAX,ESI
00a27f1a : MOV ECX,dword ptr [EBP + -0xc]
00a27f1d : MOV dword ptr FS:[0x0],ECX
00a27f24 : POP ECX
00a27f25 : POP EDI
00a27f26 : POP ESI
00a27f27 : POP EBX
00a27f28 : MOV ECX,dword ptr [EBP + -0x10]
00a27f2b : XOR ECX,EBP
00a27f2d : CALL 0x00633e6b
00a27f32 : MOV ESP,EBP
00a27f34 : POP EBP
00a27f35 : RET 0x10
