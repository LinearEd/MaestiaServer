PROGRAM  : Maestia.exe
FUNCTION : Getcat
ENTRY    : 00630af0
BODY     : [[00630af0, 00630b89]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* Library Function - Multiple Matches With Same Base Name
    public: static unsigned int __cdecl std::collate<char>::_Getcat(class std::locale::facet const *
   *,class std::locale const *)
    public: static unsigned int __cdecl std::collate<unsigned short>::_Getcat(class
   std::locale::facet const * *,class std::locale const *)
    public: static unsigned int __cdecl std::collate<wchar_t>::_Getcat(class std::locale::facet
   const * *,class std::locale const *)
   
   Library: Visual Studio 2008 Release */

undefined4 Getcat(int *param_1)

{
  collate<char> *this;
  undefined4 uVar1;
  _Locinfo *p_Var2;
  int iVar3;
  undefined1 local_30 [28];
  uint local_14;
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x94;
  local_8 = 0x630aff;
  local_14 = 0;
  if ((param_1 != (int *)0x0) && (*param_1 == 0)) {
    this = (collate<char> *)FUN_006f0300(0x10);
    local_8 = 0;
    if (this == (collate<char> *)0x0) {
      iVar3 = 0;
    }
    else {
      uVar1 = FUN_004d04c0(local_30);
      local_8 = CONCAT31(local_8._1_3_,1);
      local_14 = 1;
      p_Var2 = (_Locinfo *)FUN_004d02f0(uVar1);
      local_14 = 3;
      iVar3 = std::collate<char>::collate<char>(this,p_Var2,0);
    }
    local_8 = 2;
    *param_1 = iVar3;
    if ((local_14 & 2) != 0) {
      local_14 = local_14 & 0xfffffffd;
      FUN_00451500();
    }
    if ((local_14 & 1) != 0) {
      FUN_00405260(1,0);
    }
  }
  return 1;
}



============================================================
DISASSEMBLY
============================================================
00630af0 : PUSH 0x94
00630af5 : MOV EAX,0xb0b930
00630afa : CALL 0x00640e1d
00630aff : XOR EDI,EDI
00630b01 : XOR EBX,EBX
00630b03 : MOV dword ptr [EBP + -0x10],EDI
00630b06 : MOV ESI,dword ptr [EBP + 0x8]
00630b09 : INC EBX
00630b0a : CMP ESI,EDI
00630b0c : JZ 0x00630b82
00630b0e : CMP dword ptr [ESI],EDI
00630b10 : JNZ 0x00630b82
00630b12 : PUSH 0x10
00630b14 : CALL 0x006f0300
00630b19 : POP ECX
00630b1a : MOV dword ptr [EBP + 0x8],EAX
00630b1d : MOV dword ptr [EBP + -0x4],EDI
00630b20 : CMP EAX,EDI
00630b22 : JZ 0x00630b55
00630b24 : MOV ECX,dword ptr [EBP + 0xc]
00630b27 : LEA EAX,[EBP + -0x2c]
00630b2a : PUSH EAX
00630b2b : CALL 0x004d04c0
00630b30 : PUSH EAX
00630b31 : LEA ECX,[EBP + 0xffffff60]
00630b37 : MOV byte ptr [EBP + -0x4],BL
00630b3a : MOV dword ptr [EBP + -0x10],EBX
00630b3d : CALL 0x004d02f0
00630b42 : MOV ECX,dword ptr [EBP + 0x8]
00630b45 : PUSH EDI
00630b46 : PUSH EAX
00630b47 : MOV dword ptr [EBP + -0x10],0x3
00630b4e : CALL 0x006304e8
00630b53 : JMP 0x00630b57
00630b55 : XOR EAX,EAX
00630b57 : PUSH 0x2
00630b59 : POP ECX
00630b5a : MOV dword ptr [EBP + -0x4],ECX
00630b5d : MOV dword ptr [ESI],EAX
00630b5f : TEST byte ptr [EBP + -0x10],CL
00630b62 : JZ 0x00630b73
00630b64 : AND dword ptr [EBP + -0x10],0xfffffffd
00630b68 : LEA ECX,[EBP + 0xffffff60]
00630b6e : CALL 0x00451500
00630b73 : TEST byte ptr [EBP + -0x10],BL
00630b76 : JZ 0x00630b82
00630b78 : PUSH EDI
00630b79 : PUSH EBX
00630b7a : LEA ECX,[EBP + -0x2c]
00630b7d : CALL 0x00405260
00630b82 : MOV EAX,EBX
00630b84 : CALL 0x00640ebc
00630b89 : RET
