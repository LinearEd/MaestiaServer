PROGRAM  : Maestia.exe
FUNCTION : FUN_00457900
ENTRY    : 00457900
BODY     : [[00457900, 004579cf]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint * FUN_00457900(uint param_1)

{
  uint *puVar1;
  uint *puVar2;
  size_t _Size;
  uint uVar3;
  void *local_c;
  undefined1 *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00b72f0a;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  _Size = param_1 * 0x69c + 4;
  if (DAT_00da98c8 == (int *)0x0) {
    puVar2 = _malloc(_Size);
  }
  else {
    puVar2 = (uint *)(**(code **)(*DAT_00da98c8 + 4))(_Size,DAT_00d66fa0 ^ (uint)&stack0xffffffdc);
  }
  if (puVar2 != (uint *)0x0) {
    uVar3 = 0;
    puVar1 = puVar2 + 1;
    *puVar2 = param_1;
    if (param_1 != 0) {
      do {
        local_4 = 0;
        if (puVar1 + uVar3 * 0x1a7 != (uint *)0x0) {
          FUN_00a66fb0(puVar1 + uVar3 * 0x1a7);
        }
        uVar3 = uVar3 + 1;
      } while (uVar3 < param_1);
    }
    _DAT_00da98cc = _DAT_00da98cc + _Size;
    _DAT_00da98d0 = _DAT_00da98d0 + 1;
    ExceptionList = local_c;
    return puVar1;
  }
  ExceptionList = local_c;
  return (uint *)0x0;
}



============================================================
DISASSEMBLY
============================================================
00457900 : PUSH -0x1
00457902 : PUSH 0xb72f0a
00457907 : MOV EAX,FS:[0x0]
0045790d : PUSH EAX
0045790e : SUB ESP,0x8
00457911 : PUSH EBX
00457912 : PUSH EBP
00457913 : PUSH ESI
00457914 : PUSH EDI
00457915 : MOV EAX,[0x00d66fa0]
0045791a : XOR EAX,ESP
0045791c : PUSH EAX
0045791d : LEA EAX,[ESP + 0x1c]
00457921 : MOV FS:[0x0],EAX
00457927 : MOV EBP,dword ptr [ESP + 0x2c]
0045792b : MOV ECX,dword ptr [0x00da98c8]
00457931 : MOV EBX,EBP
00457933 : IMUL EBX,EBX,0x69c
00457939 : ADD EBX,0x4
0045793c : PUSH EBX
0045793d : TEST ECX,ECX
0045793f : JZ 0x0045794a
00457941 : MOV EAX,dword ptr [ECX]
00457943 : MOV EDX,dword ptr [EAX + 0x4]
00457946 : CALL EDX
00457948 : JMP 0x00457952
0045794a : CALL 0x00636043
0045794f : ADD ESP,0x4
00457952 : TEST EAX,EAX
00457954 : JZ 0x004579ba
00457956 : XOR ESI,ESI
00457958 : LEA EDI,[EAX + 0x4]
0045795b : MOV dword ptr [EAX],EBP
0045795d : MOV dword ptr [ESP + 0x14],EDI
00457961 : MOV dword ptr [ESP + 0x2c],ESI
00457965 : TEST EBP,EBP
00457967 : JBE 0x00457998
00457969 : MOV EAX,ESI
0045796b : IMUL EAX,EAX,0x69c
00457971 : ADD EAX,EDI
00457973 : MOV dword ptr [ESP + 0x18],EAX
00457977 : MOV dword ptr [ESP + 0x24],0x0
0045797f : JZ 0x00457987
00457981 : PUSH EAX
00457982 : CALL 0x00a66fb0
00457987 : MOV dword ptr [ESP + 0x24],0xffffffff
0045798f : INC ESI
00457990 : MOV dword ptr [ESP + 0x2c],ESI
00457994 : CMP ESI,EBP
00457996 : JC 0x00457969
00457998 : ADD dword ptr [0x00da98cc],EBX
0045799e : INC dword ptr [0x00da98d0]
004579a4 : MOV EAX,EDI
004579a6 : MOV ECX,dword ptr [ESP + 0x1c]
004579aa : MOV dword ptr FS:[0x0],ECX
004579b1 : POP ECX
004579b2 : POP EDI
004579b3 : POP ESI
004579b4 : POP EBP
004579b5 : POP EBX
004579b6 : ADD ESP,0x14
004579b9 : RET
004579ba : XOR EAX,EAX
004579bc : MOV ECX,dword ptr [ESP + 0x1c]
004579c0 : MOV dword ptr FS:[0x0],ECX
004579c7 : POP ECX
004579c8 : POP EDI
004579c9 : POP ESI
004579ca : POP EBP
004579cb : POP EBX
004579cc : ADD ESP,0x14
004579cf : RET
