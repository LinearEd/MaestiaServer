PROGRAM  : Maestia.exe
FUNCTION : FUN_0070b210
ENTRY    : 0070b210
BODY     : [[0070b210, 0070b2f6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0070b210(int param_1)

{
  LPCWSTR **pppWVar1;
  int unaff_ESI;
  undefined1 local_2c [4];
  LPCWSTR *local_28 [4];
  size_t local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b17645;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (0 < param_1) {
    do {
      local_8 = 0xffffffff;
      local_14 = 7;
      local_18 = 0;
      local_28[0] = (LPCWSTR *)((uint)local_28[0] & 0xffff0000);
      FUN_00406360(&DAT_00bfd078,1);
      local_8 = 0;
      if (*(FILE **)(unaff_ESI + 0x20) != (FILE *)0x0) {
        pppWVar1 = (LPCWSTR **)local_28[0];
        if (local_14 < 8) {
          pppWVar1 = local_28;
        }
        _fwrite(pppWVar1,2,local_18,*(FILE **)(unaff_ESI + 0x20));
      }
      if (*(char *)(unaff_ESI + 0x5c) != '\0') {
        pppWVar1 = (LPCWSTR **)local_28[0];
        if (local_14 < 8) {
          pppWVar1 = local_28;
        }
        OutputDebugStringW((LPCWSTR)pppWVar1);
      }
      if (*(char *)(unaff_ESI + 0x5d) != '\0') {
        FUN_00704fe0(local_2c);
      }
      local_8 = 0xffffffff;
      if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      param_1 = param_1 + -1;
      local_28[0] = (LPCWSTR *)((uint)local_28[0] & 0xffff0000);
    } while (param_1 != 0);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0070b210 : PUSH EBP
0070b211 : MOV EBP,ESP
0070b213 : PUSH -0x1
0070b215 : PUSH 0xb17645
0070b21a : MOV EAX,FS:[0x0]
0070b220 : PUSH EAX
0070b221 : SUB ESP,0x1c
0070b224 : PUSH EBX
0070b225 : PUSH EDI
0070b226 : MOV EAX,[0x00d66fa0]
0070b22b : XOR EAX,EBP
0070b22d : PUSH EAX
0070b22e : LEA EAX,[EBP + -0xc]
0070b231 : MOV FS:[0x0],EAX
0070b237 : MOV EAX,dword ptr [EBP + 0x8]
0070b23a : XOR EBX,EBX
0070b23c : CMP EAX,EBX
0070b23e : JLE 0x0070b2e4
0070b244 : MOV dword ptr [EBP + 0x8],EAX
0070b247 : PUSH 0x1
0070b249 : XOR EAX,EAX
0070b24b : PUSH 0xbfd078
0070b250 : LEA ECX,[EBP + -0x28]
0070b253 : MOV dword ptr [EBP + -0x10],0x7
0070b25a : MOV dword ptr [EBP + -0x14],EBX
0070b25d : MOV word ptr [EBP + -0x24],AX
0070b261 : CALL 0x00406360
0070b266 : MOV dword ptr [EBP + -0x4],EBX
0070b269 : MOV EAX,dword ptr [ESI + 0x20]
0070b26c : CMP EAX,EBX
0070b26e : JZ 0x0070b28c
0070b270 : CMP dword ptr [EBP + -0x10],0x8
0070b274 : MOV ECX,dword ptr [EBP + -0x24]
0070b277 : JNC 0x0070b27c
0070b279 : LEA ECX,[EBP + -0x24]
0070b27c : MOV EDX,dword ptr [EBP + -0x14]
0070b27f : PUSH EAX
0070b280 : PUSH EDX
0070b281 : PUSH 0x2
0070b283 : PUSH ECX
0070b284 : CALL 0x006376ef
0070b289 : ADD ESP,0x10
0070b28c : CMP byte ptr [ESI + 0x5c],BL
0070b28f : JZ 0x0070b2a4
0070b291 : CMP dword ptr [EBP + -0x10],0x8
0070b295 : MOV EAX,dword ptr [EBP + -0x24]
0070b298 : JNC 0x0070b29d
0070b29a : LEA EAX,[EBP + -0x24]
0070b29d : PUSH EAX
0070b29e : CALL dword ptr [0x00b8512c]
0070b2a4 : CMP byte ptr [ESI + 0x5d],BL
0070b2a7 : JZ 0x0070b2b5
0070b2a9 : LEA EAX,[EBP + -0x28]
0070b2ac : PUSH EAX
0070b2ad : LEA EDI,[ESI + 0x60]
0070b2b0 : CALL 0x00704fe0
0070b2b5 : MOV dword ptr [EBP + -0x4],0xffffffff
0070b2bc : CMP dword ptr [EBP + -0x10],0x8
0070b2c0 : JC 0x0070b2ca
0070b2c2 : MOV ECX,dword ptr [EBP + -0x24]
0070b2c5 : CALL 0x006f04e0
0070b2ca : XOR ECX,ECX
0070b2cc : SUB dword ptr [EBP + 0x8],0x1
0070b2d0 : MOV dword ptr [EBP + -0x10],0x7
0070b2d7 : MOV dword ptr [EBP + -0x14],EBX
0070b2da : MOV word ptr [EBP + -0x24],CX
0070b2de : JNZ 0x0070b247
0070b2e4 : MOV ECX,dword ptr [EBP + -0xc]
0070b2e7 : MOV dword ptr FS:[0x0],ECX
0070b2ee : POP ECX
0070b2ef : POP EDI
0070b2f0 : POP EBX
0070b2f1 : MOV ESP,EBP
0070b2f3 : POP EBP
0070b2f4 : RET 0x4
