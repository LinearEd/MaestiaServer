PROGRAM  : Maestia.exe
FUNCTION : FUN_0058a800
ENTRY    : 0058a800
BODY     : [[0058a800, 0058a881]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058a800(void *param_1,int param_2)

{
  byte *pbVar1;
  int iVar2;
  undefined4 uVar3;
  int in_ECX;
  
  if (*(int *)(in_ECX + 0x1c0) == 0) {
    iVar2 = FUN_00515840(0x5c,0);
    if (iVar2 == 0) {
      uVar3 = 0;
    }
    else {
      uVar3 = FUN_00589ad0(in_ECX + 0x144);
    }
    *(undefined4 *)(in_ECX + 0x1c0) = uVar3;
  }
  pbVar1 = (byte *)(*(int *)(in_ECX + 0x1c0) + 0x58);
  *pbVar1 = *pbVar1 | 3;
  _memcpy((void *)(*(int *)(in_ECX + 0x1c0) + 8),param_1,param_2 * 4);
  *(int *)(*(int *)(in_ECX + 0x1c0) + 0x50) = *(int *)(in_ECX + 0x1c0) + 8;
  *(int *)(*(int *)(in_ECX + 0x1c0) + 0x54) = param_2;
  return;
}



============================================================
DISASSEMBLY
============================================================
0058a800 : PUSH ESI
0058a801 : MOV ESI,ECX
0058a803 : CMP dword ptr [ESI + 0x1c0],0x0
0058a80a : PUSH EDI
0058a80b : JNZ 0x0058a83b
0058a80d : MOV EAX,dword ptr [ESI + 0xa0]
0058a813 : MOV ECX,dword ptr [EAX + 0x14]
0058a816 : PUSH 0x0
0058a818 : PUSH 0x5c
0058a81a : CALL 0x00515840
0058a81f : TEST EAX,EAX
0058a821 : JZ 0x0058a833
0058a823 : LEA ECX,[ESI + 0x144]
0058a829 : PUSH ECX
0058a82a : MOV ECX,EAX
0058a82c : CALL 0x00589ad0
0058a831 : JMP 0x0058a835
0058a833 : XOR EAX,EAX
0058a835 : MOV dword ptr [ESI + 0x1c0],EAX
0058a83b : MOV EAX,dword ptr [ESI + 0x1c0]
0058a841 : MOV EDI,dword ptr [ESP + 0x10]
0058a845 : OR byte ptr [EAX + 0x58],0x3
0058a849 : MOV EAX,dword ptr [ESP + 0xc]
0058a84d : MOV ECX,dword ptr [ESI + 0x1c0]
0058a853 : LEA EDX,[EDI*0x4 + 0x0]
0058a85a : PUSH EDX
0058a85b : PUSH EAX
0058a85c : ADD ECX,0x8
0058a85f : PUSH ECX
0058a860 : CALL 0x0063ae40
0058a865 : MOV EAX,dword ptr [ESI + 0x1c0]
0058a86b : LEA EDX,[EAX + 0x8]
0058a86e : MOV dword ptr [EAX + 0x50],EDX
0058a871 : MOV EAX,dword ptr [ESI + 0x1c0]
0058a877 : ADD ESP,0xc
0058a87a : MOV dword ptr [EAX + 0x54],EDI
0058a87d : POP EDI
0058a87e : POP ESI
0058a87f : RET 0x8
