PROGRAM  : Maestia.exe
FUNCTION : FUN_0096bb20
ENTRY    : 0096bb20
BODY     : [[0096bb20, 0096bc71]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0096bb20(void)

{
  int in_ECX;
  float10 fVar1;
  float fVar2;
  float fVar3;
  undefined1 auStack_bc [24];
  float local_a4;
  undefined1 local_a0 [4];
  undefined2 local_9c;
  undefined4 uStack_8c;
  uint local_88;
  uint local_84;
  void *local_4c;
  undefined1 *puStack_48;
  undefined4 local_44;
  
  local_44 = 0xffffffff;
  puStack_48 = &LAB_00b20ad5;
  local_4c = ExceptionList;
  local_84 = DAT_00d66fa0 ^ (uint)auStack_bc;
  ExceptionList = &local_4c;
  fVar3 = (float)in_ECX * 0.6666667;
  if (fVar3 - (float)(int)fVar3 < DAT_00d72c24) {
    fVar2 = (float)((uint)fVar3 & 0x80000000 | 0x4b000000);
    fVar2 = (fVar3 + fVar2) - fVar2;
    fVar2 = fVar2 - (float)(-(uint)((float)((uint)fVar3 & 0x80000000) < fVar2 - fVar3) & 0x3f800000)
    ;
  }
  else {
    fVar1 = (float10)FUN_00638370((double)fVar3,DAT_00d66fa0 ^ (uint)&stack0xffffff40);
    fVar2 = (float)fVar1;
    local_a4 = fVar2;
  }
  if (0x42 < (int)fVar2) {
    FUN_00404750(L"PASSIVE_STAT_COUNT Over!! eType : %d");
    local_44 = 0;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                (L"AvaGuiMyStatusList::StatusStat2PassiveStat",0x462,local_a0);
    }
    local_44 = 0xffffffff;
    if (7 < local_88) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_9c = 0;
    local_88 = 7;
    uStack_8c = 0;
  }
  ExceptionList = local_4c;
  __security_check_cookie(local_84 ^ (uint)auStack_bc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0096bb20 : PUSH EBP
0096bb21 : MOV EBP,ESP
0096bb23 : AND ESP,0xffffffc0
0096bb26 : PUSH -0x1
0096bb28 : PUSH 0xb20ad5
0096bb2d : MOV EAX,FS:[0x0]
0096bb33 : PUSH EAX
0096bb34 : SUB ESP,0x70
0096bb37 : MOV EAX,[0x00d66fa0]
0096bb3c : XOR EAX,ESP
0096bb3e : MOV dword ptr [ESP + 0x38],EAX
0096bb42 : PUSH ESI
0096bb43 : MOV EAX,[0x00d66fa0]
0096bb48 : XOR EAX,ESP
0096bb4a : PUSH EAX
0096bb4b : LEA EAX,[ESP + 0x78]
0096bb4f : MOV FS:[0x0],EAX
0096bb55 : MOV ESI,ECX
0096bb57 : CVTSI2SS XMM3,ESI
0096bb5b : MULSS XMM3,dword ptr [0x00cdf314]
0096bb63 : CVTTSS2SI EAX,XMM3
0096bb67 : CVTSI2SS XMM0,EAX
0096bb6b : MOVAPS XMM1,XMM3
0096bb6e : SUBSS XMM1,XMM0
0096bb72 : COMISS XMM1,dword ptr [0x00d72c24]
0096bb79 : JC 0x0096bb9b
0096bb7b : SUB ESP,0x8
0096bb7e : CVTSS2SD XMM0,XMM3
0096bb82 : MOVSD qword ptr [ESP],XMM0
0096bb87 : CALL 0x00638370
0096bb8c : FSTP float ptr [ESP + 0x28]
0096bb90 : MOVSS XMM0,dword ptr [ESP + 0x28]
0096bb96 : ADD ESP,0x8
0096bb99 : JMP 0x0096bbd7
0096bb9b : MOVSS XMM1,dword ptr [0x00cdf60c]
0096bba3 : MOVSS XMM2,dword ptr [0x00cdf608]
0096bbab : MOVSS XMM4,dword ptr [0x00c10fc4]
0096bbb3 : ANDPS XMM1,XMM3
0096bbb6 : ORPS XMM2,XMM1
0096bbb9 : MOVAPS XMM0,XMM3
0096bbbc : ADDSS XMM0,XMM2
0096bbc0 : SUBSS XMM0,XMM2
0096bbc4 : MOVAPS XMM2,XMM0
0096bbc7 : SUBSS XMM2,XMM3
0096bbcb : CMPNLESS XMM2,XMM1
0096bbd0 : ANDPS XMM2,XMM4
0096bbd3 : SUBSS XMM0,XMM2
0096bbd7 : CVTTSS2SI EAX,XMM0
0096bbdb : CMP EAX,0x42
0096bbde : JLE 0x0096bc56
0096bbe0 : PUSH ESI
0096bbe1 : PUSH 0xc7f6d0
0096bbe6 : LEA ESI,[ESP + 0x2c]
0096bbea : CALL 0x00404750
0096bbef : ADD ESP,0x8
0096bbf2 : MOV dword ptr [ESP + 0x80],0x0
0096bbfd : MOV ECX,dword ptr [0x00da98e8]
0096bc03 : MOV ECX,dword ptr [ECX]
0096bc05 : TEST ECX,ECX
0096bc07 : JZ 0x0096bc1d
0096bc09 : MOV EDX,dword ptr [ECX]
0096bc0b : MOV EDX,dword ptr [EDX + 0x14]
0096bc0e : MOV EAX,ESI
0096bc10 : PUSH EAX
0096bc11 : PUSH 0x462
0096bc16 : PUSH 0xc7f720
0096bc1b : CALL EDX
0096bc1d : MOV ESI,0x41
0096bc22 : MOV dword ptr [ESP + 0x80],0xffffffff
0096bc2d : CMP dword ptr [ESP + 0x3c],0x8
0096bc32 : JC 0x0096bc3d
0096bc34 : MOV ECX,dword ptr [ESP + 0x28]
0096bc38 : CALL 0x006f04e0
0096bc3d : XOR EAX,EAX
0096bc3f : MOV word ptr [ESP + 0x28],AX
0096bc44 : MOV dword ptr [ESP + 0x3c],0x7
0096bc4c : MOV dword ptr [ESP + 0x38],0x0
0096bc54 : MOV EAX,ESI
0096bc56 : MOV ECX,dword ptr [ESP + 0x78]
0096bc5a : MOV dword ptr FS:[0x0],ECX
0096bc61 : POP ECX
0096bc62 : POP ESI
0096bc63 : MOV ECX,dword ptr [ESP + 0x38]
0096bc67 : XOR ECX,ESP
0096bc69 : CALL 0x00633e6b
0096bc6e : MOV ESP,EBP
0096bc70 : POP EBP
0096bc71 : RET
