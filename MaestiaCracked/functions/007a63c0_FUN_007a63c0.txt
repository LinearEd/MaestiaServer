PROGRAM  : Maestia.exe
FUNCTION : FUN_007a63c0
ENTRY    : 007a63c0
BODY     : [[007a63c0, 007a655f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007a63c0(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  wchar_t *in_ECX;
  wchar_t *pwVar4;
  LPCRITICAL_SECTION local_84;
  char *local_80;
  undefined4 local_7c;
  int local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  wchar_t local_68 [32];
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b281d9;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar1;
  if (DAT_017251ac == 0) {
    pwVar4 = L"[AvaUIFontMgr::CreateD3DFontNode] pRender is NULL";
  }
  else {
    iVar3 = *(int *)(DAT_017251ac + 0x18);
    if (iVar3 != 0) {
      local_70 = 0;
      local_78 = 0;
      local_84 = (LPCRITICAL_SECTION)(DAT_017251ac + 0x424);
      local_80 = ".\\Gui\\AvaUIFontMgr.cpp";
      local_7c = 0x9a;
      local_74 = 1;
      FUN_006ef1a0(&local_84);
      local_8 = 0;
      iVar2 = D3DXCreateFontW(iVar3,param_2,0,param_3,0,0,1,0,5,0,in_ECX,&local_70);
      if ((iVar2 < 0) &&
         (iVar3 = D3DXCreateFontW(iVar3,param_2,0,param_3,0,0,1,0,4,0,in_ECX,&local_70), iVar3 < 0))
      {
        FUN_008018d0(L"[AvaUIFontMgr::CreateD3DFontNode] Failed D3DXCreateFont",uVar1);
        local_8 = 0xffffffff;
        if (local_78 != 0) {
          LeaveCriticalSection(local_84);
          local_78 = 0;
        }
      }
      else {
        _memset(&local_6c,0,0x54);
        _wcsncpy(local_68,in_ECX,0x20);
        local_6c = local_70;
        local_28 = param_2;
        local_24 = 0;
        local_20 = param_3;
        local_1c = param_4;
        FUN_00478910(&local_6c);
        local_8 = 0xffffffff;
        if (local_78 != 0) {
          LeaveCriticalSection(local_84);
          local_78 = 0;
        }
      }
      goto LAB_007a6542;
    }
    pwVar4 = L"[AvaUIFontMgr::CreateD3DFontNode] pDevice is NULL";
  }
  FUN_008018d0(pwVar4,uVar1);
LAB_007a6542:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
007a63c0 : PUSH EBP
007a63c1 : MOV EBP,ESP
007a63c3 : PUSH -0x1
007a63c5 : PUSH 0xb281d9
007a63ca : MOV EAX,FS:[0x0]
007a63d0 : PUSH EAX
007a63d1 : SUB ESP,0x7c
007a63d4 : MOV EAX,[0x00d66fa0]
007a63d9 : XOR EAX,EBP
007a63db : MOV dword ptr [EBP + -0x10],EAX
007a63de : PUSH EBX
007a63df : PUSH ESI
007a63e0 : PUSH EDI
007a63e1 : PUSH EAX
007a63e2 : LEA EAX,[EBP + -0xc]
007a63e5 : MOV FS:[0x0],EAX
007a63eb : MOV EBX,dword ptr [EBP + 0x10]
007a63ee : MOV EAX,dword ptr [EBP + 0x8]
007a63f1 : MOV dword ptr [EBP + 0xffffff7c],EAX
007a63f7 : MOV EAX,[0x017251ac]
007a63fc : MOV ESI,ECX
007a63fe : XOR ECX,ECX
007a6400 : CMP EAX,ECX
007a6402 : JNZ 0x007a641e
007a6404 : PUSH 0xc16680
007a6409 : MOV ESI,dword ptr [0x00da98e8]
007a640f : CALL 0x008018d0
007a6414 : ADD ESP,0x4
007a6417 : XOR AL,AL
007a6419 : JMP 0x007a6542
007a641e : MOV EDI,dword ptr [EAX + 0x18]
007a6421 : CMP EDI,ECX
007a6423 : JNZ 0x007a642c
007a6425 : PUSH 0xc16718
007a642a : JMP 0x007a6409
007a642c : MOV dword ptr [EBP + -0x6c],ECX
007a642f : MOV dword ptr [EBP + -0x74],ECX
007a6432 : LEA ECX,[EBP + -0x80]
007a6435 : ADD EAX,0x424
007a643a : PUSH ECX
007a643b : MOV dword ptr [EBP + -0x80],EAX
007a643e : MOV dword ptr [EBP + -0x7c],0xc1677c
007a6445 : MOV dword ptr [EBP + -0x78],0x9a
007a644c : MOV dword ptr [EBP + -0x70],0x1
007a6453 : CALL 0x006ef1a0
007a6458 : MOV dword ptr [EBP + -0x4],0x0
007a645f : MOV EAX,dword ptr [EBP + 0xc]
007a6462 : LEA EDX,[EBP + -0x6c]
007a6465 : PUSH EDX
007a6466 : PUSH ESI
007a6467 : PUSH 0x0
007a6469 : PUSH 0x5
007a646b : PUSH 0x0
007a646d : PUSH 0x1
007a646f : PUSH 0x0
007a6471 : PUSH 0x0
007a6473 : PUSH EBX
007a6474 : PUSH 0x0
007a6476 : PUSH EAX
007a6477 : PUSH EDI
007a6478 : CALL 0x00664cea
007a647d : TEST EAX,EAX
007a647f : JGE 0x007a64dc
007a6481 : MOV EDX,dword ptr [EBP + 0xc]
007a6484 : LEA ECX,[EBP + -0x6c]
007a6487 : PUSH ECX
007a6488 : PUSH ESI
007a6489 : PUSH 0x0
007a648b : PUSH 0x4
007a648d : PUSH 0x0
007a648f : PUSH 0x1
007a6491 : PUSH 0x0
007a6493 : PUSH 0x0
007a6495 : PUSH EBX
007a6496 : PUSH 0x0
007a6498 : PUSH EDX
007a6499 : PUSH EDI
007a649a : CALL 0x00664cea
007a649f : TEST EAX,EAX
007a64a1 : JGE 0x007a64dc
007a64a3 : MOV ESI,dword ptr [0x00da98e8]
007a64a9 : PUSH 0xc16798
007a64ae : CALL 0x008018d0
007a64b3 : ADD ESP,0x4
007a64b6 : MOV dword ptr [EBP + -0x4],0xffffffff
007a64bd : CMP dword ptr [EBP + -0x74],0x0
007a64c1 : JZ 0x007a6417
007a64c7 : MOV EAX,dword ptr [EBP + -0x80]
007a64ca : PUSH EAX
007a64cb : CALL dword ptr [0x00b8511c]
007a64d1 : MOV dword ptr [EBP + -0x74],0x0
007a64d8 : XOR AL,AL
007a64da : JMP 0x007a6542
007a64dc : PUSH 0x54
007a64de : LEA ECX,[EBP + -0x68]
007a64e1 : PUSH 0x0
007a64e3 : PUSH ECX
007a64e4 : CALL 0x0063b700
007a64e9 : ADD ESP,0xc
007a64ec : PUSH 0x20
007a64ee : LEA EDX,[EBP + -0x64]
007a64f1 : PUSH ESI
007a64f2 : PUSH EDX
007a64f3 : CALL 0x00634e39
007a64f8 : MOV EAX,dword ptr [EBP + -0x6c]
007a64fb : MOV ECX,dword ptr [EBP + 0xc]
007a64fe : MOV EDX,dword ptr [EBP + 0x14]
007a6501 : MOV dword ptr [EBP + -0x68],EAX
007a6504 : ADD ESP,0xc
007a6507 : LEA EAX,[EBP + -0x68]
007a650a : PUSH EAX
007a650b : MOV EAX,dword ptr [EBP + 0xffffff7c]
007a6511 : XOR ESI,ESI
007a6513 : ADD EAX,0x4
007a6516 : MOV dword ptr [EBP + -0x24],ECX
007a6519 : MOV dword ptr [EBP + -0x20],ESI
007a651c : MOV dword ptr [EBP + -0x1c],EBX
007a651f : MOV dword ptr [EBP + -0x18],EDX
007a6522 : CALL 0x00478910
007a6527 : MOV dword ptr [EBP + -0x4],0xffffffff
007a652e : CMP dword ptr [EBP + -0x74],ESI
007a6531 : JZ 0x007a6540
007a6533 : MOV ECX,dword ptr [EBP + -0x80]
007a6536 : PUSH ECX
007a6537 : CALL dword ptr [0x00b8511c]
007a653d : MOV dword ptr [EBP + -0x74],ESI
007a6540 : MOV AL,0x1
007a6542 : MOV ECX,dword ptr [EBP + -0xc]
007a6545 : MOV dword ptr FS:[0x0],ECX
007a654c : POP ECX
007a654d : POP EDI
007a654e : POP ESI
007a654f : POP EBX
007a6550 : MOV ECX,dword ptr [EBP + -0x10]
007a6553 : XOR ECX,EBP
007a6555 : CALL 0x00633e6b
007a655a : MOV ESP,EBP
007a655c : POP EBP
007a655d : RET 0x10
