PROGRAM  : Maestia.exe
FUNCTION : FUN_008c61c0
ENTRY    : 008c61c0
BODY     : [[008c61c0, 008c626b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008c61c0(void)

{
  undefined4 *puVar1;
  int *piVar2;
  int in_EAX;
  int iVar3;
  
  FUN_008c5290(in_EAX);
  if ((*DAT_00da9894 != 0) &&
     (puVar1 = *(undefined4 **)(*DAT_00da9894 + 0x114), puVar1 != (undefined4 *)0x0)) {
    (**(code **)*puVar1)("RepairPopupDeleteAllItem");
  }
  piVar2 = DAT_00da9894;
  iVar3 = *(int *)(in_EAX + 0x40) - *(int *)(in_EAX + 0x3c) >> 2;
  *(int *)(in_EAX + 0x54) = iVar3;
  if ((*piVar2 != 0) && (piVar2 = *(int **)(*piVar2 + 0x114), piVar2 != (int *)0x0)) {
    (**(code **)(*piVar2 + 4))(piVar2,"mc_RepairPopup.SetMaxRepairListNum",&DAT_00c4fa64,iVar3);
  }
  *(undefined4 *)(in_EAX + 0x4c) = 0;
  FUN_008c5a60(in_EAX);
  FUN_008c6140(0);
  FUN_008c60c0(0);
  iVar3 = *(int *)(in_EAX + 0x3c);
  if (iVar3 != *(int *)(in_EAX + 0x40)) {
    do {
      iVar3 = iVar3 + 4;
    } while (iVar3 != *(int *)(in_EAX + 0x40));
  }
  FUN_008c4e30(in_EAX);
  return;
}



============================================================
DISASSEMBLY
============================================================
008c61c0 : PUSH ECX
008c61c1 : PUSH ESI
008c61c2 : PUSH EDI
008c61c3 : MOV ESI,EAX
008c61c5 : PUSH ESI
008c61c6 : CALL 0x008c5290
008c61cb : MOV EAX,[0x00da9894]
008c61d0 : MOV EAX,dword ptr [EAX]
008c61d2 : TEST EAX,EAX
008c61d4 : JZ 0x008c61ed
008c61d6 : MOV EAX,dword ptr [EAX + 0x114]
008c61dc : TEST EAX,EAX
008c61de : JZ 0x008c61ed
008c61e0 : MOV EDX,dword ptr [EAX]
008c61e2 : MOV ECX,EAX
008c61e4 : MOV EAX,dword ptr [EDX]
008c61e6 : PUSH 0xc4f9f8
008c61eb : CALL EAX
008c61ed : MOV EAX,dword ptr [ESI + 0x40]
008c61f0 : SUB EAX,dword ptr [ESI + 0x3c]
008c61f3 : MOV ECX,dword ptr [0x00da9894]
008c61f9 : SAR EAX,0x2
008c61fc : MOV dword ptr [ESI + 0x54],EAX
008c61ff : MOV ECX,dword ptr [ECX]
008c6201 : TEST ECX,ECX
008c6203 : JZ 0x008c6225
008c6205 : MOV ECX,dword ptr [ECX + 0x114]
008c620b : TEST ECX,ECX
008c620d : JZ 0x008c6225
008c620f : MOV EDX,dword ptr [ECX]
008c6211 : PUSH EAX
008c6212 : MOV EAX,dword ptr [EDX + 0x4]
008c6215 : PUSH 0xc4fa64
008c621a : PUSH 0xc4fa68
008c621f : PUSH ECX
008c6220 : CALL EAX
008c6222 : ADD ESP,0x10
008c6225 : PUSH ESI
008c6226 : XOR ECX,ECX
008c6228 : MOV dword ptr [ESI + 0x4c],0x0
008c622f : CALL 0x008c5a60
008c6234 : PUSH 0x0
008c6236 : CALL 0x008c6140
008c623b : PUSH 0x0
008c623d : MOV EAX,ESI
008c623f : CALL 0x008c60c0
008c6244 : MOV EAX,dword ptr [ESI + 0x3c]
008c6247 : XOR ECX,ECX
008c6249 : CMP EAX,dword ptr [ESI + 0x40]
008c624c : JZ 0x008c6262
008c624e : MOV EDI,dword ptr [ESI + 0x40]
008c6251 : MOV EDX,dword ptr [EAX]
008c6253 : CMP byte ptr [EDX],0x0
008c6256 : JZ 0x008c625b
008c6258 : ADD ECX,dword ptr [EDX + 0x4]
008c625b : ADD EAX,0x4
008c625e : CMP EAX,EDI
008c6260 : JNZ 0x008c6251
008c6262 : PUSH ESI
008c6263 : CALL 0x008c4e30
008c6268 : POP EDI
008c6269 : POP ESI
008c626a : POP ECX
008c626b : RET
