PROGRAM  : Maestia.exe
FUNCTION : FUN_007cd1c0
ENTRY    : 007cd1c0
BODY     : [[007cd1c0, 007cd31f]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_007cd1c0(int param_1,undefined4 *param_2,undefined8 *param_3,undefined4 *param_4)

{
  uint uVar1;
  int iVar2;
  int *in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1104a;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (in_ECX[2] != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  iVar2 = param_1;
  local_8 = 0;
  FUN_0044f270(in_ECX + 0xc,&param_1,param_1);
  if (param_1 == in_ECX[0xe]) {
    local_8 = 0xffffffff;
    if (in_ECX[2] != 0) {
      LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
    }
    iVar2 = (**(code **)(*in_ECX + 0x10))(iVar2,uVar1);
    *(undefined4 *)(iVar2 + 0x68) = *param_2;
    *(undefined4 *)(iVar2 + 0x6c) = param_2[1];
    *(undefined4 *)(iVar2 + 0x70) = param_2[2];
    *(undefined1 *)(iVar2 + 0x5d) = 1;
    *(undefined1 *)(iVar2 + 0x134) = 1;
    *(undefined1 *)(iVar2 + 0x5c) = 1;
    if (*(int **)(iVar2 + 0x2c) != (int *)0x0) {
      (**(code **)(**(int **)(iVar2 + 0x2c) + 0x60))(iVar2);
    }
    *(undefined8 *)(iVar2 + 0x74) = *param_3;
    *(undefined8 *)(iVar2 + 0x7c) = param_3[1];
    *(undefined1 *)(iVar2 + 0x5d) = 1;
    *(undefined1 *)(iVar2 + 0x134) = 1;
    *(undefined1 *)(iVar2 + 0x5c) = 1;
    if (*(int **)(iVar2 + 0x2c) != (int *)0x0) {
      (**(code **)(**(int **)(iVar2 + 0x2c) + 0x60))(iVar2);
    }
    *(undefined4 *)(iVar2 + 0x84) = *param_4;
    *(undefined4 *)(iVar2 + 0x88) = param_4[1];
    *(undefined4 *)(iVar2 + 0x8c) = param_4[2];
    *(undefined1 *)(iVar2 + 0x5d) = 1;
    *(undefined1 *)(iVar2 + 0x134) = 1;
    *(undefined1 *)(iVar2 + 0x5c) = 1;
    if (*(int **)(iVar2 + 0x2c) != (int *)0x0) {
      (**(code **)(**(int **)(iVar2 + 0x2c) + 0x60))(iVar2);
    }
    (**(code **)(*in_ECX + 0x24))(iVar2);
  }
  else {
    iVar2 = *(int *)(param_1 + 0x24);
    local_8 = 0xffffffff;
    if (in_ECX[2] != 0) {
      LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
    }
  }
  ExceptionList = local_10;
  return iVar2;
}



============================================================
DISASSEMBLY
============================================================
007cd1c0 : PUSH EBP
007cd1c1 : MOV EBP,ESP
007cd1c3 : PUSH -0x1
007cd1c5 : PUSH 0xb1104a
007cd1ca : MOV EAX,FS:[0x0]
007cd1d0 : PUSH EAX
007cd1d1 : PUSH ECX
007cd1d2 : PUSH EBX
007cd1d3 : PUSH ESI
007cd1d4 : PUSH EDI
007cd1d5 : MOV EAX,[0x00d66fa0]
007cd1da : XOR EAX,EBP
007cd1dc : PUSH EAX
007cd1dd : LEA EAX,[EBP + -0xc]
007cd1e0 : MOV FS:[0x0],EAX
007cd1e6 : MOV EDI,ECX
007cd1e8 : MOV EAX,dword ptr [EDI + 0x8]
007cd1eb : MOV dword ptr [EBP + -0x10],EDI
007cd1ee : TEST EAX,EAX
007cd1f0 : JZ 0x007cd1fc
007cd1f2 : ADD EAX,0x4
007cd1f5 : PUSH EAX
007cd1f6 : CALL dword ptr [0x00b85118]
007cd1fc : MOV dword ptr [EBP + -0x4],0x0
007cd203 : MOV ESI,dword ptr [EBP + 0x8]
007cd206 : PUSH ESI
007cd207 : LEA EAX,[EBP + 0x8]
007cd20a : PUSH EAX
007cd20b : LEA ECX,[EDI + 0x30]
007cd20e : PUSH ECX
007cd20f : CALL 0x0044f270
007cd214 : MOV EAX,dword ptr [EDI + 0x38]
007cd217 : MOV ECX,dword ptr [EBP + 0x8]
007cd21a : CMP ECX,EAX
007cd21c : JZ 0x007cd242
007cd21e : MOV ESI,dword ptr [ECX + 0x24]
007cd221 : MOV dword ptr [EBP + -0x4],0xffffffff
007cd228 : MOV EDI,dword ptr [EDI + 0x8]
007cd22b : TEST EDI,EDI
007cd22d : JZ 0x007cd30a
007cd233 : ADD EDI,0x4
007cd236 : PUSH EDI
007cd237 : CALL dword ptr [0x00b8511c]
007cd23d : JMP 0x007cd30a
007cd242 : MOV dword ptr [EBP + -0x4],0xffffffff
007cd249 : MOV EAX,dword ptr [EDI + 0x8]
007cd24c : TEST EAX,EAX
007cd24e : JZ 0x007cd25a
007cd250 : ADD EAX,0x4
007cd253 : PUSH EAX
007cd254 : CALL dword ptr [0x00b8511c]
007cd25a : MOV EDX,dword ptr [EDI]
007cd25c : MOV EAX,dword ptr [EDX + 0x10]
007cd25f : PUSH ESI
007cd260 : MOV ECX,EDI
007cd262 : CALL EAX
007cd264 : MOV ESI,EAX
007cd266 : MOV EAX,dword ptr [EBP + 0xc]
007cd269 : FLD float ptr [EAX]
007cd26b : MOV BL,0x1
007cd26d : FSTP float ptr [ESI + 0x68]
007cd270 : FLD float ptr [EAX + 0x4]
007cd273 : FSTP float ptr [ESI + 0x6c]
007cd276 : FLD float ptr [EAX + 0x8]
007cd279 : FSTP float ptr [ESI + 0x70]
007cd27c : MOV ECX,dword ptr [ESI + 0x2c]
007cd27f : MOV byte ptr [ESI + 0x5d],BL
007cd282 : MOV byte ptr [ESI + 0x134],BL
007cd288 : MOV byte ptr [ESI + 0x5c],BL
007cd28b : TEST ECX,ECX
007cd28d : JZ 0x007cd297
007cd28f : MOV EDX,dword ptr [ECX]
007cd291 : MOV EAX,dword ptr [EDX + 0x60]
007cd294 : PUSH ESI
007cd295 : CALL EAX
007cd297 : MOV EAX,dword ptr [EBP + 0x10]
007cd29a : MOVQ XMM0,qword ptr [EAX]
007cd29e : MOV ECX,dword ptr [ESI + 0x2c]
007cd2a1 : MOVQ qword ptr [ESI + 0x74],XMM0
007cd2a6 : MOVQ XMM0,qword ptr [EAX + 0x8]
007cd2ab : MOVQ qword ptr [ESI + 0x7c],XMM0
007cd2b0 : MOV byte ptr [ESI + 0x5d],BL
007cd2b3 : MOV byte ptr [ESI + 0x134],BL
007cd2b9 : MOV byte ptr [ESI + 0x5c],BL
007cd2bc : TEST ECX,ECX
007cd2be : JZ 0x007cd2c8
007cd2c0 : MOV EDX,dword ptr [ECX]
007cd2c2 : MOV EAX,dword ptr [EDX + 0x60]
007cd2c5 : PUSH ESI
007cd2c6 : CALL EAX
007cd2c8 : MOV EAX,dword ptr [EBP + 0x14]
007cd2cb : FLD float ptr [EAX]
007cd2cd : FSTP float ptr [ESI + 0x84]
007cd2d3 : FLD float ptr [EAX + 0x4]
007cd2d6 : FSTP float ptr [ESI + 0x88]
007cd2dc : FLD float ptr [EAX + 0x8]
007cd2df : FSTP float ptr [ESI + 0x8c]
007cd2e5 : MOV ECX,dword ptr [ESI + 0x2c]
007cd2e8 : MOV byte ptr [ESI + 0x5d],BL
007cd2eb : MOV byte ptr [ESI + 0x134],BL
007cd2f1 : MOV byte ptr [ESI + 0x5c],BL
007cd2f4 : TEST ECX,ECX
007cd2f6 : JZ 0x007cd300
007cd2f8 : MOV EDX,dword ptr [ECX]
007cd2fa : MOV EAX,dword ptr [EDX + 0x60]
007cd2fd : PUSH ESI
007cd2fe : CALL EAX
007cd300 : MOV EDX,dword ptr [EDI]
007cd302 : MOV EAX,dword ptr [EDX + 0x24]
007cd305 : PUSH ESI
007cd306 : MOV ECX,EDI
007cd308 : CALL EAX
007cd30a : MOV EAX,ESI
007cd30c : MOV ECX,dword ptr [EBP + -0xc]
007cd30f : MOV dword ptr FS:[0x0],ECX
007cd316 : POP ECX
007cd317 : POP EDI
007cd318 : POP ESI
007cd319 : POP EBX
007cd31a : MOV ESP,EBP
007cd31c : POP EBP
007cd31d : RET 0x10
