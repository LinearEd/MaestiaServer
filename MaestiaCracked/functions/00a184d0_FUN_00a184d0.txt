PROGRAM  : Maestia.exe
FUNCTION : FUN_00a184d0
ENTRY    : 00a184d0
BODY     : [[00a184d0, 00a1868c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a184d0(void)

{
  char cVar1;
  int iVar2;
  int unaff_ESI;
  int unaff_EDI;
  float fVar3;
  float fVar4;
  
  iVar2 = *(int *)(unaff_ESI + 0x74);
  fVar3 = *(float *)(unaff_ESI + 0x224);
  cVar1 = *(char *)(unaff_ESI + 0x533);
  *(undefined1 *)(unaff_ESI + 0x533) = 0;
  fVar4 = DAT_00d72a88;
  if (*(float *)(iVar2 + 0x1f8) < fVar3) goto LAB_00a18559;
  fVar4 = *(float *)(iVar2 + 500);
  if (fVar3 < fVar4) {
    fVar4 = 1.0;
    goto LAB_00a18559;
  }
  fVar3 = (fVar3 - fVar4) / (*(float *)(iVar2 + 0x1f8) - fVar4);
  if (fVar3 < 0.0) {
LAB_00a18541:
    fVar3 = 0.0;
  }
  else if (1.0 <= fVar3) {
    fVar3 = 1.0;
  }
  else if (fVar3 < 0.0) goto LAB_00a18541;
  fVar4 = fVar3 * fVar3 * 6.0 + 1.0;
LAB_00a18559:
  fVar4 = (float)unaff_EDI * fVar4 * 0.015;
  fVar3 = *(float *)(unaff_ESI + 0x224) - fVar4;
  *(float *)(unaff_ESI + 0x224) = fVar3;
  if (fVar3 <= *(float *)(iVar2 + 0x1f8)) {
    if (fVar3 < *(float *)(iVar2 + 500)) {
      *(float *)(unaff_ESI + 0x224) = *(float *)(iVar2 + 500);
      *(undefined1 *)(unaff_ESI + 0x533) = 1;
      if ((*(int **)(unaff_ESI + 0xac) != (int *)0x0) && (cVar1 != '\x01')) {
        (**(code **)(**(int **)(unaff_ESI + 0xac) + 0x4ac))(1);
      }
    }
  }
  else {
    *(float *)(unaff_ESI + 0x224) = *(float *)(iVar2 + 0x1f8);
  }
  if (((*(int **)(unaff_ESI + 0xac) != (int *)0x0) && (*(char *)(unaff_ESI + 0x533) == '\0')) &&
     (cVar1 != '\0')) {
    (**(code **)(**(int **)(unaff_ESI + 0xac) + 0x4ac))(0);
  }
  if ((*(char *)(*(int *)(DAT_0172491c + 0x94) + 5) != '\0') && (unaff_EDI != 0)) {
    *(float *)(unaff_ESI + 0x224) = *(float *)(*(int *)(unaff_ESI + 0x74) + 0x208) - fVar4;
  }
  iVar2 = *(int *)(unaff_ESI + 0x74);
  fVar3 = *(float *)(unaff_ESI + 0x224);
  if ((*(char *)(iVar2 + 0x1e8) == '\0') && (*(char *)(iVar2 + 0x210) == '\0')) {
    fVar4 = *(float *)(iVar2 + 500);
    if ((fVar3 < fVar4) || (fVar4 = *(float *)(iVar2 + 0x1f8), fVar4 < fVar3)) {
      *(float *)(iVar2 + 0x1fc) = fVar4;
    }
    else {
      *(float *)(iVar2 + 0x1fc) = fVar3;
    }
    *(undefined1 *)(iVar2 + 0x154) = 1;
  }
  *(undefined4 *)(*(int *)(unaff_ESI + 0x74) + 0x200) = *(undefined4 *)(unaff_ESI + 0x224);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a184d0 : PUSH EBP
00a184d1 : MOV EBP,ESP
00a184d3 : PUSH ECX
00a184d4 : MOV EAX,dword ptr [ESI + 0x74]
00a184d7 : MOVSS XMM0,dword ptr [ESI + 0x224]
00a184df : PUSH EBX
00a184e0 : MOV BL,byte ptr [ESI + 0x533]
00a184e6 : MOV byte ptr [ESI + 0x533],0x0
00a184ed : MOVSS XMM1,dword ptr [EAX + 0x1f8]
00a184f5 : COMISS XMM0,XMM1
00a184f8 : JBE 0x00a18504
00a184fa : MOVSS XMM0,dword ptr [0x00d72a88]
00a18502 : JMP 0x00a18559
00a18504 : MOVSS XMM2,dword ptr [EAX + 0x1f4]
00a1850c : COMISS XMM2,XMM0
00a1850f : JBE 0x00a1851b
00a18511 : MOVSS XMM0,dword ptr [0x00c10fc4]
00a18519 : JMP 0x00a18559
00a1851b : SUBSS XMM1,XMM2
00a1851f : SUBSS XMM0,XMM2
00a18523 : MOVSS XMM2,dword ptr [0x00c10fc4]
00a1852b : DIVSS XMM0,XMM1
00a1852f : XORPS XMM1,XMM1
00a18532 : COMISS XMM1,XMM0
00a18535 : JA 0x00a18541
00a18537 : COMISS XMM2,XMM0
00a1853a : JBE 0x00a18546
00a1853c : COMISS XMM1,XMM0
00a1853f : JBE 0x00a18549
00a18541 : MOVAPS XMM0,XMM1
00a18544 : JMP 0x00a18549
00a18546 : MOVAPS XMM0,XMM2
00a18549 : MULSS XMM0,XMM0
00a1854d : MULSS XMM0,dword ptr [0x00cdf148]
00a18555 : ADDSS XMM0,XMM2
00a18559 : MULSS XMM0,dword ptr [0x00cdf36c]
00a18561 : CVTSI2SS XMM1,EDI
00a18565 : MULSS XMM1,XMM0
00a18569 : MOVSS XMM0,dword ptr [ESI + 0x224]
00a18571 : SUBSS XMM0,XMM1
00a18575 : MOVSS dword ptr [ESI + 0x224],XMM0
00a1857d : MOVSS XMM2,dword ptr [EAX + 0x1f8]
00a18585 : COMISS XMM0,XMM2
00a18588 : MOVSS dword ptr [EBP + -0x4],XMM1
00a1858d : JBE 0x00a18599
00a1858f : MOVSS dword ptr [ESI + 0x224],XMM2
00a18597 : JMP 0x00a185d5
00a18599 : MOVSS XMM2,dword ptr [EAX + 0x1f4]
00a185a1 : COMISS XMM2,XMM0
00a185a4 : JBE 0x00a185d5
00a185a6 : MOV ECX,dword ptr [ESI + 0xac]
00a185ac : MOVSS dword ptr [ESI + 0x224],XMM2
00a185b4 : MOV byte ptr [ESI + 0x533],0x1
00a185bb : TEST ECX,ECX
00a185bd : JZ 0x00a185d5
00a185bf : CMP BL,0x1
00a185c2 : JZ 0x00a185d5
00a185c4 : MOV EAX,dword ptr [ECX]
00a185c6 : MOV EDX,dword ptr [EAX + 0x4ac]
00a185cc : PUSH 0x1
00a185ce : CALL EDX
00a185d0 : MOVSS XMM1,dword ptr [EBP + -0x4]
00a185d5 : MOV ECX,dword ptr [ESI + 0xac]
00a185db : TEST ECX,ECX
00a185dd : JZ 0x00a185fd
00a185df : CMP byte ptr [ESI + 0x533],0x0
00a185e6 : JNZ 0x00a185fd
00a185e8 : TEST BL,BL
00a185ea : JZ 0x00a185fd
00a185ec : MOV EAX,dword ptr [ECX]
00a185ee : MOV EDX,dword ptr [EAX + 0x4ac]
00a185f4 : PUSH 0x0
00a185f6 : CALL EDX
00a185f8 : MOVSS XMM1,dword ptr [EBP + -0x4]
00a185fd : MOV EAX,[0x0172491c]
00a18602 : MOV ECX,dword ptr [EAX + 0x94]
00a18608 : CMP byte ptr [ECX + 0x5],0x0
00a1860c : POP EBX
00a1860d : JZ 0x00a1862a
00a1860f : TEST EDI,EDI
00a18611 : JZ 0x00a1862a
00a18613 : MOV EDX,dword ptr [ESI + 0x74]
00a18616 : MOVSS XMM0,dword ptr [EDX + 0x208]
00a1861e : SUBSS XMM0,XMM1
00a18622 : MOVSS dword ptr [ESI + 0x224],XMM0
00a1862a : MOV EAX,dword ptr [ESI + 0x74]
00a1862d : CMP byte ptr [EAX + 0x1e8],0x0
00a18634 : MOVSS XMM0,dword ptr [ESI + 0x224]
00a1863c : JNZ 0x00a1867a
00a1863e : CMP byte ptr [EAX + 0x210],0x0
00a18645 : JNZ 0x00a1867a
00a18647 : MOVSS XMM1,dword ptr [EAX + 0x1f4]
00a1864f : COMISS XMM1,XMM0
00a18652 : JA 0x00a18661
00a18654 : MOVSS XMM1,dword ptr [EAX + 0x1f8]
00a1865c : COMISS XMM0,XMM1
00a1865f : JBE 0x00a1866b
00a18661 : MOVSS dword ptr [EAX + 0x1fc],XMM1
00a18669 : JMP 0x00a18673
00a1866b : MOVSS dword ptr [EAX + 0x1fc],XMM0
00a18673 : MOV byte ptr [EAX + 0x154],0x1
00a1867a : MOV EAX,dword ptr [ESI + 0x74]
00a1867d : FLD float ptr [ESI + 0x224]
00a18683 : FSTP float ptr [EAX + 0x200]
00a18689 : MOV ESP,EBP
00a1868b : POP EBP
00a1868c : RET
