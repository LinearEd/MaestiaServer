PROGRAM  : Maestia.exe
FUNCTION : FUN_006b8780
ENTRY    : 006b8780
BODY     : [[006b8780, 006b888b]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006b8780(uint *param_1,uint param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int *in_EAX;
  int iVar3;
  undefined4 uVar4;
  int in_EDX;
  int iVar5;
  undefined4 uVar6;
  uint local_8;
  
  uVar6 = 0x10000;
  local_8 = 0;
  if (*param_1 == 0) {
    return 0x10000;
  }
  iVar5 = in_EDX - (int)in_EAX;
  param_3 = param_3 - (int)in_EAX;
  do {
    iVar1 = *in_EAX;
    if (iVar1 != 0) {
      iVar3 = *(int *)(param_1[1] + local_8 * 4);
      if (((iVar3 == 0) || ((iVar3 < 0 && (0 < iVar1)))) || ((0 < iVar3 && (iVar1 < 0)))) {
        return 0;
      }
      if ((param_2 & 0x4000) == 0) {
        if (iVar3 < 1) {
          iVar3 = -iVar3;
        }
        uVar6 = FUN_00685d60(uVar6,iVar3,0x10000);
      }
      else {
        if (iVar3 <= *(int *)(iVar5 + (int)in_EAX)) {
          return 0;
        }
        if (*(int *)((int)in_EAX + param_3) <= iVar3) {
          return 0;
        }
        if (iVar3 < iVar1) {
          iVar2 = *(int *)(iVar5 + (int)in_EAX);
          uVar4 = FUN_00685d60(iVar3 - iVar2,0x10000,iVar1 - iVar2);
          uVar6 = FUN_00685d60(uVar6,uVar4,0x10000);
        }
        else {
          iVar2 = *(int *)((int)in_EAX + param_3);
          uVar4 = FUN_00685d60(iVar2 - iVar3,0x10000,iVar2 - iVar1);
          uVar6 = FUN_00685d60(uVar6,uVar4,0x10000);
        }
      }
    }
    local_8 = local_8 + 1;
    in_EAX = in_EAX + 1;
    if (*param_1 <= local_8) {
      return uVar6;
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
006b8780 : SUB ESP,0x8
006b8783 : MOV ECX,dword ptr [ESP + 0xc]
006b8787 : PUSH ESI
006b8788 : PUSH EDI
006b8789 : MOV EDI,EAX
006b878b : XOR EAX,EAX
006b878d : MOV ESI,0x10000
006b8792 : MOV dword ptr [ESP + 0x8],EAX
006b8796 : CMP dword ptr [ECX],EAX
006b8798 : JBE 0x006b8884
006b879e : PUSH EBX
006b879f : PUSH EBP
006b87a0 : MOV EBP,dword ptr [ESP + 0x24]
006b87a4 : MOV EBX,EDX
006b87a6 : SUB EBX,EDI
006b87a8 : SUB EBP,EDI
006b87aa : MOV dword ptr [ESP + 0x14],EBP
006b87ae : MOV EDI,EDI
006b87b0 : MOV EDX,dword ptr [EDI]
006b87b2 : TEST EDX,EDX
006b87b4 : JZ 0x006b8858
006b87ba : MOV ECX,dword ptr [ECX + 0x4]
006b87bd : MOV EAX,dword ptr [ECX + EAX*0x4]
006b87c0 : TEST EAX,EAX
006b87c2 : JZ 0x006b887a
006b87c8 : JGE 0x006b87d2
006b87ca : TEST EDX,EDX
006b87cc : JG 0x006b887a
006b87d2 : TEST EAX,EAX
006b87d4 : JLE 0x006b87de
006b87d6 : TEST EDX,EDX
006b87d8 : JL 0x006b887a
006b87de : TEST dword ptr [ESP + 0x20],0x4000
006b87e6 : JNZ 0x006b87ff
006b87e8 : TEST EAX,EAX
006b87ea : JG 0x006b87ee
006b87ec : NEG EAX
006b87ee : PUSH 0x10000
006b87f3 : PUSH EAX
006b87f4 : PUSH ESI
006b87f5 : CALL 0x00685d60
006b87fa : ADD ESP,0xc
006b87fd : JMP 0x006b8856
006b87ff : CMP EAX,dword ptr [EBX + EDI*0x1]
006b8802 : JLE 0x006b887a
006b8804 : CMP EAX,dword ptr [EDI + EBP*0x1]
006b8807 : JGE 0x006b887a
006b8809 : CMP EAX,EDX
006b880b : JGE 0x006b882e
006b880d : MOV ECX,dword ptr [EBX + EDI*0x1]
006b8810 : SUB EDX,ECX
006b8812 : PUSH EDX
006b8813 : SUB EAX,ECX
006b8815 : PUSH 0x10000
006b881a : PUSH EAX
006b881b : CALL 0x00685d60
006b8820 : PUSH 0x10000
006b8825 : PUSH EAX
006b8826 : PUSH ESI
006b8827 : CALL 0x00685d60
006b882c : JMP 0x006b8853
006b882e : MOV ECX,dword ptr [EDI + EBP*0x1]
006b8831 : MOV EBP,ECX
006b8833 : SUB EBP,EDX
006b8835 : PUSH EBP
006b8836 : SUB ECX,EAX
006b8838 : PUSH 0x10000
006b883d : PUSH ECX
006b883e : CALL 0x00685d60
006b8843 : PUSH 0x10000
006b8848 : PUSH EAX
006b8849 : PUSH ESI
006b884a : CALL 0x00685d60
006b884f : MOV EBP,dword ptr [ESP + 0x2c]
006b8853 : ADD ESP,0x18
006b8856 : MOV ESI,EAX
006b8858 : MOV EAX,dword ptr [ESP + 0x10]
006b885c : MOV ECX,dword ptr [ESP + 0x1c]
006b8860 : INC EAX
006b8861 : ADD EDI,0x4
006b8864 : MOV dword ptr [ESP + 0x10],EAX
006b8868 : CMP EAX,dword ptr [ECX]
006b886a : JC 0x006b87b0
006b8870 : POP EBP
006b8871 : POP EBX
006b8872 : POP EDI
006b8873 : MOV EAX,ESI
006b8875 : POP ESI
006b8876 : ADD ESP,0x8
006b8879 : RET
006b887a : POP EBP
006b887b : POP EBX
006b887c : POP EDI
006b887d : XOR EAX,EAX
006b887f : POP ESI
006b8880 : ADD ESP,0x8
006b8883 : RET
006b8884 : POP EDI
006b8885 : MOV EAX,ESI
006b8887 : POP ESI
006b8888 : ADD ESP,0x8
006b888b : RET
