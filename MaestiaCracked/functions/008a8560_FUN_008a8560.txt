PROGRAM  : Maestia.exe
FUNCTION : FUN_008a8560
ENTRY    : 008a8560
BODY     : [[008a8560, 008a857c] [008a8580, 008a8605]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_008a8560(int param_1,int param_2)

{
  short *psVar1;
  short sVar2;
  ushort uVar3;
  ushort uVar4;
  short *psVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  
  if (*(uint *)(param_2 + 0x38) < 8) {
    psVar5 = (short *)(param_2 + 0x24);
  }
  else {
    psVar5 = *(short **)(param_2 + 0x24);
  }
  psVar1 = psVar5 + 1;
  do {
    sVar2 = *psVar5;
    psVar5 = psVar5 + 1;
  } while (sVar2 != 0);
  iVar6 = (int)psVar5 - (int)psVar1 >> 1;
  iVar8 = 0;
  if (iVar6 < 1) {
    return 0;
  }
  do {
    if (*(uint *)(param_1 + 0x38) < 8) {
      iVar7 = param_1 + 0x24;
    }
    else {
      iVar7 = *(int *)(param_1 + 0x24);
    }
    uVar3 = *(ushort *)(iVar7 + iVar8 * 2);
    if (*(uint *)(param_2 + 0x38) < 8) {
      iVar7 = param_2 + 0x24;
    }
    else {
      iVar7 = *(int *)(param_2 + 0x24);
    }
    uVar4 = *(ushort *)(iVar7 + iVar8 * 2);
    if (DAT_00d6c93e == '\0') {
      if (uVar3 < uVar4) {
        return 0;
      }
      if (uVar3 != uVar4) {
        return 1;
      }
    }
    else {
      if (uVar3 < uVar4) {
        return 1;
      }
      if (uVar4 < uVar3) {
        return 0;
      }
    }
    iVar8 = iVar8 + 1;
    if (iVar6 <= iVar8) {
      return 0;
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
008a8560 : PUSH EBP
008a8561 : MOV EBP,ESP
008a8563 : PUSH ECX
008a8564 : PUSH EBX
008a8565 : MOV EBX,dword ptr [EBP + 0xc]
008a8568 : CMP dword ptr [EBX + 0x38],0x8
008a856c : PUSH ESI
008a856d : PUSH EDI
008a856e : JC 0x008a8575
008a8570 : MOV EAX,dword ptr [EBX + 0x24]
008a8573 : JMP 0x008a8578
008a8575 : LEA EAX,[EBX + 0x24]
008a8578 : LEA EDX,[EAX + 0x2]
008a857b : JMP 0x008a8580
008a8580 : MOV CX,word ptr [EAX]
008a8583 : ADD EAX,0x2
008a8586 : TEST CX,CX
008a8589 : JNZ 0x008a8580
008a858b : SUB EAX,EDX
008a858d : SAR EAX,0x1
008a858f : XOR ESI,ESI
008a8591 : TEST EAX,EAX
008a8593 : JLE 0x008a85dc
008a8595 : MOV ECX,dword ptr [EBP + 0x8]
008a8598 : MOV EDX,dword ptr [ECX + 0x38]
008a859b : MOV EDI,dword ptr [EBX + 0x38]
008a859e : MOV dword ptr [EBP + -0x4],EDX
008a85a1 : JMP 0x008a85a9
008a85a3 : MOV ECX,dword ptr [EBP + 0x8]
008a85a6 : MOV EBX,dword ptr [EBP + 0xc]
008a85a9 : CMP dword ptr [EBP + -0x4],0x8
008a85ad : JC 0x008a85b4
008a85af : MOV ECX,dword ptr [ECX + 0x24]
008a85b2 : JMP 0x008a85b7
008a85b4 : ADD ECX,0x24
008a85b7 : MOVZX EDX,word ptr [ECX + ESI*0x2]
008a85bb : CMP EDI,0x8
008a85be : JC 0x008a85c5
008a85c0 : MOV ECX,dword ptr [EBX + 0x24]
008a85c3 : JMP 0x008a85c8
008a85c5 : LEA ECX,[EBX + 0x24]
008a85c8 : CMP byte ptr [0x00d6c93e],0x0
008a85cf : MOVZX ECX,word ptr [ECX + ESI*0x2]
008a85d3 : JZ 0x008a85e5
008a85d5 : CMP DX,CX
008a85d8 : JC 0x008a85fa
008a85da : JBE 0x008a85ec
008a85dc : POP EDI
008a85dd : POP ESI
008a85de : XOR EAX,EAX
008a85e0 : POP EBX
008a85e1 : MOV ESP,EBP
008a85e3 : POP EBP
008a85e4 : RET
008a85e5 : CMP DX,CX
008a85e8 : JC 0x008a85dc
008a85ea : JA 0x008a85fa
008a85ec : INC ESI
008a85ed : CMP ESI,EAX
008a85ef : JL 0x008a85a3
008a85f1 : POP EDI
008a85f2 : POP ESI
008a85f3 : XOR EAX,EAX
008a85f5 : POP EBX
008a85f6 : MOV ESP,EBP
008a85f8 : POP EBP
008a85f9 : RET
008a85fa : POP EDI
008a85fb : POP ESI
008a85fc : MOV EAX,0x1
008a8601 : POP EBX
008a8602 : MOV ESP,EBP
008a8604 : POP EBP
008a8605 : RET
