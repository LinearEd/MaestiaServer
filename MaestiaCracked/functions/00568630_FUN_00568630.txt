PROGRAM  : Maestia.exe
FUNCTION : FUN_00568630
ENTRY    : 00568630
BODY     : [[00568630, 005686b8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00568630(void)

{
  int *piVar1;
  int iVar2;
  int *in_ECX;
  uint uVar3;
  uint uVar4;
  
  iVar2 = in_ECX[7];
  if (iVar2 == 0) {
    iVar2 = FUN_00515d60(in_ECX,0x84,0);
  }
  else {
    in_ECX[7] = *(int *)(iVar2 + 0x80);
  }
  if (iVar2 == 0) {
    *in_ECX = *in_ECX + -4;
    return;
  }
  uVar3 = in_ECX[5] + 1;
  if (uVar3 < (uint)in_ECX[5]) {
    uVar4 = uVar3;
    if ((uint)in_ECX[6] >> 1 <= uVar3) goto LAB_00568688;
  }
  else {
    if (uVar3 < (uint)in_ECX[6]) goto LAB_00568688;
    uVar4 = (uVar3 >> 2) + uVar3;
  }
  FUN_005b5ef0(in_ECX + 4,uVar4);
LAB_00568688:
  in_ECX[5] = uVar3;
  piVar1 = (int *)(in_ECX[4] + -4 + uVar3 * 4);
  if (piVar1 != (int *)0x0) {
    *piVar1 = iVar2;
  }
  in_ECX[1] = iVar2;
  *in_ECX = iVar2;
  in_ECX[3] = in_ECX[2] + -4;
  in_ECX[2] = iVar2 + 0x80;
  return;
}



============================================================
DISASSEMBLY
============================================================
00568630 : PUSH EBX
00568631 : MOV EBX,ECX
00568633 : PUSH EBP
00568634 : MOV EBP,dword ptr [EBX + 0x1c]
00568637 : TEST EBP,EBP
00568639 : JZ 0x00568646
0056863b : MOV EAX,dword ptr [EBP + 0x80]
00568641 : MOV dword ptr [EBX + 0x1c],EAX
00568644 : JMP 0x00568655
00568646 : PUSH 0x0
00568648 : PUSH 0x84
0056864d : PUSH EBX
0056864e : CALL 0x00515d60
00568653 : MOV EBP,EAX
00568655 : TEST EBP,EBP
00568657 : JZ 0x005686b3
00568659 : PUSH ESI
0056865a : MOV ESI,dword ptr [EBX + 0x14]
0056865d : PUSH EDI
0056865e : LEA EDI,[EBX + 0x10]
00568661 : INC ESI
00568662 : CMP ESI,dword ptr [EDI + 0x4]
00568665 : JNC 0x00568673
00568667 : MOV ECX,dword ptr [EDI + 0x8]
0056866a : SHR ECX,0x1
0056866c : CMP ESI,ECX
0056866e : JNC 0x00568688
00568670 : PUSH ESI
00568671 : JMP 0x00568680
00568673 : CMP ESI,dword ptr [EDI + 0x8]
00568676 : JC 0x00568688
00568678 : MOV EDX,ESI
0056867a : SHR EDX,0x2
0056867d : ADD EDX,ESI
0056867f : PUSH EDX
00568680 : PUSH EDI
00568681 : MOV ECX,EDI
00568683 : CALL 0x005b5ef0
00568688 : MOV EAX,dword ptr [EDI]
0056868a : MOV dword ptr [EDI + 0x4],ESI
0056868d : LEA EAX,[EAX + ESI*0x4 + -0x4]
00568691 : POP EDI
00568692 : POP ESI
00568693 : TEST EAX,EAX
00568695 : JZ 0x00568699
00568697 : MOV dword ptr [EAX],EBP
00568699 : MOV ECX,dword ptr [EBX + 0x8]
0056869c : MOV dword ptr [EBX + 0x4],EBP
0056869f : LEA EDX,[EBP + 0x80]
005686a5 : MOV dword ptr [EBX],EBP
005686a7 : SUB ECX,0x4
005686aa : POP EBP
005686ab : MOV dword ptr [EBX + 0xc],ECX
005686ae : MOV dword ptr [EBX + 0x8],EDX
005686b1 : POP EBX
005686b2 : RET
005686b3 : ADD dword ptr [EBX],-0x4
005686b6 : POP EBP
005686b7 : POP EBX
005686b8 : RET
