PROGRAM  : Maestia.exe
FUNCTION : FUN_0095c380
ENTRY    : 0095c380
BODY     : [[0095c380, 0095c49c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0095c380(uint param_1)

{
  uint uVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  int in_ECX;
  undefined4 ***pppuVar5;
  undefined4 **local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b203d8;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  uVar1 = *(uint *)(in_ECX + 0x78);
  if (uVar1 < param_1) {
    *(uint *)(in_ECX + 0x70) = uVar1;
  }
  else {
    *(uint *)(in_ECX + 0x70) = param_1;
  }
  iVar2 = *(int *)(in_ECX + 0x70);
  fVar3 = (float)iVar2;
  if (iVar2 < 0) {
    fVar3 = fVar3 + 4.2949673e+09;
  }
  fVar4 = (float)(int)uVar1;
  if ((int)uVar1 < 0) {
    fVar4 = fVar4 + 4.2949673e+09;
  }
  FUN_00404750(L"%d/%d",iVar2,uVar1,local_14);
  local_8 = 0;
  iVar2 = *DAT_00da9894;
  if ((iVar2 != 0) && (*(int *)(iVar2 + 0x114) != 0)) {
    pppuVar5 = (undefined4 ***)local_2c[0];
    if (local_18 < 8) {
      pppuVar5 = local_2c;
    }
    (**(code **)(**(int **)(iVar2 + 0x114) + 4))
              (*(int **)(iVar2 + 0x114),"mc_party.SetPartyHpScale","%d,%f,%ls",
               *(undefined4 *)(in_ECX + 0x80),(double)((fVar3 / fVar4) * 100.0),pppuVar5);
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0095c380 : PUSH EBP
0095c381 : MOV EBP,ESP
0095c383 : PUSH -0x1
0095c385 : PUSH 0xb203d8
0095c38a : MOV EAX,FS:[0x0]
0095c390 : PUSH EAX
0095c391 : SUB ESP,0x24
0095c394 : MOV EAX,[0x00d66fa0]
0095c399 : XOR EAX,EBP
0095c39b : MOV dword ptr [EBP + -0x10],EAX
0095c39e : PUSH ESI
0095c39f : PUSH EDI
0095c3a0 : PUSH EAX
0095c3a1 : LEA EAX,[EBP + -0xc]
0095c3a4 : MOV FS:[0x0],EAX
0095c3aa : MOV EDI,ECX
0095c3ac : MOV EAX,dword ptr [EDI + 0x78]
0095c3af : MOV ECX,dword ptr [EBP + 0x8]
0095c3b2 : CMP EAX,ECX
0095c3b4 : JNC 0x0095c3bb
0095c3b6 : MOV dword ptr [EDI + 0x70],EAX
0095c3b9 : JMP 0x0095c3be
0095c3bb : MOV dword ptr [EDI + 0x70],ECX
0095c3be : MOV ECX,dword ptr [EDI + 0x70]
0095c3c1 : MOV EDX,ECX
0095c3c3 : MOV dword ptr [EBP + -0x30],EDX
0095c3c6 : FILD dword ptr [EBP + -0x30]
0095c3c9 : TEST EDX,EDX
0095c3cb : JGE 0x0095c3d3
0095c3cd : FADD float ptr [0x00cdf0e0]
0095c3d3 : MOV EDX,EAX
0095c3d5 : MOV dword ptr [EBP + -0x30],EDX
0095c3d8 : FILD dword ptr [EBP + -0x30]
0095c3db : TEST EDX,EDX
0095c3dd : JGE 0x0095c3e5
0095c3df : FADD float ptr [0x00cdf0e0]
0095c3e5 : FDIVP
0095c3e7 : PUSH EAX
0095c3e8 : PUSH ECX
0095c3e9 : PUSH 0xc77238
0095c3ee : LEA ESI,[EBP + -0x2c]
0095c3f1 : FSTP float ptr [EBP + -0x30]
0095c3f4 : CALL 0x00404750
0095c3f9 : ADD ESP,0xc
0095c3fc : XOR ESI,ESI
0095c3fe : MOV dword ptr [EBP + -0x4],ESI
0095c401 : MOV EAX,[0x00da9894]
0095c406 : MOV EAX,dword ptr [EAX]
0095c408 : CMP EAX,ESI
0095c40a : JZ 0x0095c45b
0095c40c : CMP dword ptr [EAX + 0x114],ESI
0095c412 : JZ 0x0095c45b
0095c414 : CMP dword ptr [EBP + -0x14],0x8
0095c418 : MOV EAX,dword ptr [EAX + 0x114]
0095c41e : MOV ECX,dword ptr [EBP + -0x28]
0095c421 : JNC 0x0095c426
0095c423 : LEA ECX,[EBP + -0x28]
0095c426 : MOVSS XMM0,dword ptr [EBP + -0x30]
0095c42b : MULSS XMM0,dword ptr [0x00cdf230]
0095c433 : MOV EDX,dword ptr [EAX]
0095c435 : MOV EDX,dword ptr [EDX + 0x4]
0095c438 : PUSH ECX
0095c439 : MOV ECX,dword ptr [EDI + 0x80]
0095c43f : SUB ESP,0x8
0095c442 : CVTPS2PD XMM0,XMM0
0095c445 : MOVSD qword ptr [ESP],XMM0
0095c44a : PUSH ECX
0095c44b : PUSH 0xc77244
0095c450 : PUSH 0xc77250
0095c455 : PUSH EAX
0095c456 : CALL EDX
0095c458 : ADD ESP,0x1c
0095c45b : MOV dword ptr [EBP + -0x4],0xffffffff
0095c462 : CMP dword ptr [EBP + -0x14],0x8
0095c466 : JC 0x0095c470
0095c468 : MOV ECX,dword ptr [EBP + -0x28]
0095c46b : CALL 0x006f04e0
0095c470 : XOR EAX,EAX
0095c472 : MOV dword ptr [EBP + -0x14],0x7
0095c479 : MOV dword ptr [EBP + -0x18],ESI
0095c47c : MOV word ptr [EBP + -0x28],AX
0095c480 : MOV ECX,dword ptr [EBP + -0xc]
0095c483 : MOV dword ptr FS:[0x0],ECX
0095c48a : POP ECX
0095c48b : POP EDI
0095c48c : POP ESI
0095c48d : MOV ECX,dword ptr [EBP + -0x10]
0095c490 : XOR ECX,EBP
0095c492 : CALL 0x00633e6b
0095c497 : MOV ESP,EBP
0095c499 : POP EBP
0095c49a : RET 0x4
