PROGRAM  : Maestia.exe
FUNCTION : FUN_00962540
ENTRY    : 00962540
BODY     : [[00962540, 00962627]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00962540(void)

{
  int iVar1;
  int in_EAX;
  int iVar2;
  short *psVar3;
  int local_c;
  undefined4 local_8;
  
  iVar1 = DAT_00d7c54c;
  local_8 = *(undefined4 *)(in_EAX + 0x10);
  FUN_004437f0(&local_8);
  if (((local_c != *(int *)(iVar1 + 0x44)) && (iVar1 = *(int *)(local_c + 0x10), iVar1 != 0)) &&
     (iVar2 = FUN_00703c00(0x700), iVar2 != 0)) {
    psVar3 = *(short **)(iVar2 + 0x238);
    if (psVar3 != *(short **)(iVar2 + 0x23c)) {
      while (*psVar3 != (short)*(undefined4 *)(*(int *)(DAT_0172491c + 0x17c) + 0x16d8)) {
        psVar3 = psVar3 + 4;
        if (psVar3 == *(short **)(iVar2 + 0x23c)) {
          return 0;
        }
      }
      if ((*(int *)(psVar3 + 2) != 0) &&
         ((uint)*(ushort *)(iVar1 + 0x178) <= *(uint *)(*(int *)(DAT_0172491c + 0x17c) + 0xa0))) {
        iVar2 = FUN_008413b0(CONCAT22(*(undefined2 *)(iVar2 + 4),*(undefined2 *)(iVar2 + 6)),0);
        if (iVar2 == 0) {
          if (*(short *)(iVar1 + 0x17c) == 1) {
            return 1;
          }
        }
        else if ((ushort)*(byte *)(iVar2 + 8) < *(ushort *)(iVar1 + 0x17c)) {
          return 1;
        }
      }
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00962540 : PUSH EBP
00962541 : MOV EBP,ESP
00962543 : SUB ESP,0x8
00962546 : MOV ECX,dword ptr [EAX + 0x10]
00962549 : PUSH EBX
0096254a : PUSH ESI
0096254b : MOV ESI,dword ptr [0x00d7c54c]
00962551 : PUSH EDI
00962552 : LEA EDX,[EBP + -0x4]
00962555 : MOV dword ptr [EBP + -0x4],ECX
00962558 : PUSH EDX
00962559 : LEA ECX,[ESI + 0x40]
0096255c : LEA EAX,[EBP + -0x8]
0096255f : CALL 0x004437f0
00962564 : MOV EAX,dword ptr [EBP + -0x8]
00962567 : CMP EAX,dword ptr [ESI + 0x44]
0096256a : JZ 0x0096260c
00962570 : MOV EBX,dword ptr [EAX + 0x10]
00962573 : TEST EBX,EBX
00962575 : JZ 0x0096260c
0096257b : MOV DI,word ptr [EBX + 0x17a]
00962582 : PUSH 0x700
00962587 : CALL 0x00703c00
0096258c : ADD ESP,0x4
0096258f : TEST EAX,EAX
00962591 : JZ 0x0096260c
00962593 : MOV ECX,dword ptr [0x0172491c]
00962599 : MOV EDI,dword ptr [ECX + 0x17c]
0096259f : MOV ECX,dword ptr [EAX + 0x238]
009625a5 : MOV EDX,dword ptr [EAX + 0x23c]
009625ab : MOV ESI,dword ptr [EDI + 0x16d8]
009625b1 : CMP ECX,EDX
009625b3 : JZ 0x0096260c
009625b5 : CMP word ptr [ECX],SI
009625b8 : JZ 0x009625ca
009625ba : ADD ECX,0x8
009625bd : CMP ECX,EDX
009625bf : JNZ 0x009625b5
009625c1 : XOR AL,AL
009625c3 : POP EDI
009625c4 : POP ESI
009625c5 : POP EBX
009625c6 : MOV ESP,EBP
009625c8 : POP EBP
009625c9 : RET
009625ca : CMP dword ptr [ECX + 0x4],0x0
009625ce : JZ 0x0096260c
009625d0 : MOVZX EDX,word ptr [EBX + 0x178]
009625d7 : CMP EDX,dword ptr [EDI + 0xa0]
009625dd : JA 0x0096260c
009625df : MOVZX ECX,word ptr [EAX + 0x4]
009625e3 : MOVZX EAX,word ptr [EAX + 0x6]
009625e7 : SHL ECX,0x10
009625ea : OR ECX,EAX
009625ec : PUSH 0x0
009625ee : PUSH ECX
009625ef : MOV ECX,dword ptr [0x01724910]
009625f5 : CALL 0x008413b0
009625fa : TEST EAX,EAX
009625fc : JZ 0x00962615
009625fe : MOVZX CX,byte ptr [EAX + 0x8]
00962603 : CMP CX,word ptr [EBX + 0x17c]
0096260a : JC 0x0096261f
0096260c : XOR AL,AL
0096260e : POP EDI
0096260f : POP ESI
00962610 : POP EBX
00962611 : MOV ESP,EBP
00962613 : POP EBP
00962614 : RET
00962615 : CMP word ptr [EBX + 0x17c],0x1
0096261d : JNZ 0x0096260c
0096261f : POP EDI
00962620 : POP ESI
00962621 : MOV AL,0x1
00962623 : POP EBX
00962624 : MOV ESP,EBP
00962626 : POP EBP
00962627 : RET
