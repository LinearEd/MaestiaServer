PROGRAM  : Maestia.exe
FUNCTION : FUN_0043a9f0
ENTRY    : 0043a9f0
BODY     : [[0043a9f0, 0043ac9d]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0043ab10) */
/* WARNING: Removing unreachable block (ram,0x0043ab20) */
/* WARNING: Removing unreachable block (ram,0x0043ab29) */
/* WARNING: Removing unreachable block (ram,0x0043ab2c) */
/* WARNING: Removing unreachable block (ram,0x0043ab1c) */
/* WARNING: Removing unreachable block (ram,0x0043ab39) */
/* WARNING: Removing unreachable block (ram,0x0043ab49) */
/* WARNING: Removing unreachable block (ram,0x0043ab54) */
/* WARNING: Removing unreachable block (ram,0x0043ab50) */
/* WARNING: Removing unreachable block (ram,0x0043ab44) */
/* WARNING: Removing unreachable block (ram,0x0043ab57) */
/* WARNING: Removing unreachable block (ram,0x0043ab67) */
/* WARNING: Removing unreachable block (ram,0x0043ab6f) */

void FUN_0043a9f0(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7ad85;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x2d) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_00430160(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x2d) == '\0') {
    if (*(char *)(param_3[2] + 0x2d) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x2d) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x2d) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x2d);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x2d);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int *)(param_1 + 4);
  if (*(int **)(local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x2d) == '\0') {
      uVar4 = FUN_00439bf0();
      *(undefined4 *)(local_1c + 8) = uVar4;
    }
    else {
      *(int **)(local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[0xb] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0xb] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0xb] == '\0') {
            *(undefined1 *)(piVar6 + 0xb) = 1;
            *(undefined1 *)(piVar5 + 0xb) = 0;
            FUN_004021f0(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x2d) == '\0') {
            if ((*(char *)(*piVar6 + 0x2c) != '\x01') || (*(char *)(piVar6[2] + 0x2c) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x2c) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x2c) = 1;
                *(undefined1 *)(piVar6 + 0xb) = 0;
                FUN_00422be0(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0xb) = (char)piVar5[0xb];
              *(undefined1 *)(piVar5 + 0xb) = 1;
              *(undefined1 *)(piVar6[2] + 0x2c) = 1;
              FUN_004021f0(param_1);
              break;
            }
LAB_0043ac37:
            *(undefined1 *)(piVar6 + 0xb) = 0;
          }
        }
        else {
          if ((char)piVar6[0xb] == '\0') {
            *(undefined1 *)(piVar6 + 0xb) = 1;
            *(undefined1 *)(piVar5 + 0xb) = 0;
            FUN_00422be0(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x2d) == '\0') {
            if ((*(char *)(piVar6[2] + 0x2c) == '\x01') && (*(char *)(*piVar6 + 0x2c) == '\x01'))
            goto LAB_0043ac37;
            if (*(char *)(*piVar6 + 0x2c) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x2c) = 1;
              *(undefined1 *)(piVar6 + 0xb) = 0;
              FUN_004021f0(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0xb) = (char)piVar5[0xb];
            *(undefined1 *)(piVar5 + 0xb) = 1;
            *(undefined1 *)(*piVar6 + 0x2c) = 1;
            FUN_00422be0(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 0xb) = 1;
  }
  local_8 = 0xffffffff;
  FUN_0044cb00(local_18 + 3);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0043a9f0 : PUSH EBP
0043a9f1 : MOV EBP,ESP
0043a9f3 : PUSH -0x1
0043a9f5 : PUSH 0xb7ad85
0043a9fa : MOV EAX,FS:[0x0]
0043aa00 : PUSH EAX
0043aa01 : SUB ESP,0x50
0043aa04 : PUSH EBX
0043aa05 : PUSH ESI
0043aa06 : PUSH EDI
0043aa07 : MOV EAX,[0x00d66fa0]
0043aa0c : XOR EAX,EBP
0043aa0e : PUSH EAX
0043aa0f : LEA EAX,[EBP + -0xc]
0043aa12 : MOV FS:[0x0],EAX
0043aa18 : MOV EAX,dword ptr [EBP + 0x10]
0043aa1b : CMP byte ptr [EAX + 0x2d],0x0
0043aa1f : JZ 0x0043aa5d
0043aa21 : PUSH 0x1b
0043aa23 : XOR ESI,ESI
0043aa25 : PUSH 0xcca4a8
0043aa2a : LEA ECX,[EBP + -0x34]
0043aa2d : MOV dword ptr [EBP + -0x1c],0xf
0043aa34 : MOV dword ptr [EBP + -0x20],ESI
0043aa37 : MOV byte ptr [EBP + -0x30],0x0
0043aa3b : CALL 0x00404b50
0043aa40 : MOV dword ptr [EBP + -0x4],ESI
0043aa43 : LEA EAX,[EBP + -0x34]
0043aa46 : PUSH EAX
0043aa47 : LEA ECX,[EBP + -0x5c]
0043aa4a : CALL 0x00403c10
0043aa4f : PUSH 0xced890
0043aa54 : LEA ECX,[EBP + -0x5c]
0043aa57 : PUSH ECX
0043aa58 : CALL 0x006409eb
0043aa5d : MOV EBX,EAX
0043aa5f : LEA EDX,[EBP + 0x10]
0043aa62 : MOV dword ptr [EBP + -0x14],EBX
0043aa65 : CALL 0x00430160
0043aa6a : MOV ECX,dword ptr [EBX]
0043aa6c : CMP byte ptr [ECX + 0x2d],0x0
0043aa70 : JZ 0x0043aa77
0043aa72 : MOV EDI,dword ptr [EBX + 0x8]
0043aa75 : JMP 0x0043aa91
0043aa77 : MOV EDX,dword ptr [EBX + 0x8]
0043aa7a : CMP byte ptr [EDX + 0x2d],0x0
0043aa7e : JZ 0x0043aa84
0043aa80 : MOV EDI,ECX
0043aa82 : JMP 0x0043aa91
0043aa84 : MOV EAX,dword ptr [EBP + 0x10]
0043aa87 : MOV EDI,dword ptr [EAX + 0x8]
0043aa8a : LEA EDX,[EAX + 0x8]
0043aa8d : CMP EAX,EBX
0043aa8f : JNZ 0x0043ab10
0043aa91 : CMP byte ptr [EDI + 0x2d],0x0
0043aa95 : MOV ESI,dword ptr [EBX + 0x4]
0043aa98 : JNZ 0x0043aa9d
0043aa9a : MOV dword ptr [EDI + 0x4],ESI
0043aa9d : MOV EDX,dword ptr [EBP + 0x8]
0043aaa0 : MOV EAX,dword ptr [EDX + 0x4]
0043aaa3 : CMP dword ptr [EAX + 0x4],EBX
0043aaa6 : JNZ 0x0043aaad
0043aaa8 : MOV dword ptr [EAX + 0x4],EDI
0043aaab : JMP 0x0043aab8
0043aaad : CMP dword ptr [ESI],EBX
0043aaaf : JNZ 0x0043aab5
0043aab1 : MOV dword ptr [ESI],EDI
0043aab3 : JMP 0x0043aab8
0043aab5 : MOV dword ptr [ESI + 0x8],EDI
0043aab8 : MOV EAX,dword ptr [EDX + 0x4]
0043aabb : CMP dword ptr [EAX],EBX
0043aabd : JNZ 0x0043aae2
0043aabf : CMP byte ptr [EDI + 0x2d],0x0
0043aac3 : JZ 0x0043aac9
0043aac5 : MOV ECX,ESI
0043aac7 : JMP 0x0043aadd
0043aac9 : MOV EAX,dword ptr [EDI]
0043aacb : CMP byte ptr [EAX + 0x2d],0x0
0043aacf : MOV ECX,EDI
0043aad1 : JNZ 0x0043aadd
0043aad3 : MOV ECX,EAX
0043aad5 : MOV EAX,dword ptr [ECX]
0043aad7 : CMP byte ptr [EAX + 0x2d],0x0
0043aadb : JZ 0x0043aad3
0043aadd : MOV EAX,dword ptr [EDX + 0x4]
0043aae0 : MOV dword ptr [EAX],ECX
0043aae2 : MOV ECX,dword ptr [EDX + 0x4]
0043aae5 : MOV dword ptr [EBP + -0x18],ECX
0043aae8 : CMP dword ptr [ECX + 0x8],EBX
0043aaeb : JNZ 0x0043ab72
0043aaf1 : CMP byte ptr [EDI + 0x2d],0x0
0043aaf5 : JZ 0x0043aafe
0043aaf7 : MOV EAX,ESI
0043aaf9 : MOV dword ptr [ECX + 0x8],EAX
0043aafc : JMP 0x0043ab72
0043aafe : MOV EAX,EDI
0043ab00 : CALL 0x00439bf0
0043ab05 : MOV ECX,dword ptr [EBP + -0x18]
0043ab08 : MOV EDX,dword ptr [EBP + 0x8]
0043ab0b : MOV dword ptr [ECX + 0x8],EAX
0043ab0e : JMP 0x0043ab72
0043ab10 : MOV dword ptr [ECX + 0x4],EAX
0043ab13 : MOV ECX,dword ptr [EBX]
0043ab15 : MOV dword ptr [EAX],ECX
0043ab17 : CMP EAX,dword ptr [EBX + 0x8]
0043ab1a : JNZ 0x0043ab20
0043ab1c : MOV ESI,EAX
0043ab1e : JMP 0x0043ab39
0043ab20 : CMP byte ptr [EDI + 0x2d],0x0
0043ab24 : MOV ESI,dword ptr [EAX + 0x4]
0043ab27 : JNZ 0x0043ab2c
0043ab29 : MOV dword ptr [EDI + 0x4],ESI
0043ab2c : MOV dword ptr [ESI],EDI
0043ab2e : MOV ECX,dword ptr [EBX + 0x8]
0043ab31 : MOV dword ptr [EDX],ECX
0043ab33 : MOV EDX,dword ptr [EBX + 0x8]
0043ab36 : MOV dword ptr [EDX + 0x4],EAX
0043ab39 : MOV ECX,dword ptr [EBP + 0x8]
0043ab3c : MOV ECX,dword ptr [ECX + 0x4]
0043ab3f : CMP dword ptr [ECX + 0x4],EBX
0043ab42 : JNZ 0x0043ab49
0043ab44 : MOV dword ptr [ECX + 0x4],EAX
0043ab47 : JMP 0x0043ab57
0043ab49 : MOV ECX,dword ptr [EBX + 0x4]
0043ab4c : CMP dword ptr [ECX],EBX
0043ab4e : JNZ 0x0043ab54
0043ab50 : MOV dword ptr [ECX],EAX
0043ab52 : JMP 0x0043ab57
0043ab54 : MOV dword ptr [ECX + 0x8],EAX
0043ab57 : MOV EDX,dword ptr [EBX + 0x4]
0043ab5a : MOV dword ptr [EAX + 0x4],EDX
0043ab5d : LEA ECX,[EBX + 0x2c]
0043ab60 : ADD EAX,0x2c
0043ab63 : CMP EAX,ECX
0043ab65 : JZ 0x0043ab6f
0043ab67 : MOV BL,byte ptr [ECX]
0043ab69 : MOV DL,byte ptr [EAX]
0043ab6b : MOV byte ptr [EAX],BL
0043ab6d : MOV byte ptr [ECX],DL
0043ab6f : MOV EDX,dword ptr [EBP + 0x8]
0043ab72 : MOV EAX,dword ptr [EBP + -0x14]
0043ab75 : MOV BL,0x1
0043ab77 : CMP byte ptr [EAX + 0x2c],BL
0043ab7a : JNZ 0x0043ac83
0043ab80 : MOV ECX,dword ptr [EDX + 0x4]
0043ab83 : CMP EDI,dword ptr [ECX + 0x4]
0043ab86 : JZ 0x0043ac80
0043ab8c : LEA ESP,[ESP]
0043ab90 : CMP byte ptr [EDI + 0x2c],BL
0043ab93 : JNZ 0x0043ac80
0043ab99 : MOV ECX,dword ptr [ESI]
0043ab9b : CMP EDI,ECX
0043ab9d : JNZ 0x0043ac08
0043ab9f : MOV ECX,dword ptr [ESI + 0x8]
0043aba2 : CMP byte ptr [ECX + 0x2c],0x0
0043aba6 : JNZ 0x0043abbd
0043aba8 : MOV byte ptr [ECX + 0x2c],BL
0043abab : PUSH EDX
0043abac : MOV ECX,ESI
0043abae : MOV byte ptr [ESI + 0x2c],0x0
0043abb2 : CALL 0x004021f0
0043abb7 : MOV ECX,dword ptr [ESI + 0x8]
0043abba : MOV EDX,dword ptr [EBP + 0x8]
0043abbd : CMP byte ptr [ECX + 0x2d],0x0
0043abc1 : JNZ 0x0043ac3b
0043abc3 : MOV EAX,dword ptr [ECX]
0043abc5 : CMP byte ptr [EAX + 0x2c],BL
0043abc8 : JNZ 0x0043abd2
0043abca : MOV EAX,dword ptr [ECX + 0x8]
0043abcd : CMP byte ptr [EAX + 0x2c],BL
0043abd0 : JZ 0x0043ac37
0043abd2 : MOV EAX,dword ptr [ECX + 0x8]
0043abd5 : CMP byte ptr [EAX + 0x2c],BL
0043abd8 : JNZ 0x0043abef
0043abda : MOV EAX,dword ptr [ECX]
0043abdc : MOV byte ptr [EAX + 0x2c],BL
0043abdf : PUSH EDX
0043abe0 : MOV byte ptr [ECX + 0x2c],0x0
0043abe4 : CALL 0x00422be0
0043abe9 : MOV ECX,dword ptr [ESI + 0x8]
0043abec : MOV EDX,dword ptr [EBP + 0x8]
0043abef : MOV AL,byte ptr [ESI + 0x2c]
0043abf2 : MOV byte ptr [ECX + 0x2c],AL
0043abf5 : MOV byte ptr [ESI + 0x2c],BL
0043abf8 : MOV ECX,dword ptr [ECX + 0x8]
0043abfb : MOV byte ptr [ECX + 0x2c],BL
0043abfe : PUSH EDX
0043abff : MOV ECX,ESI
0043ac01 : CALL 0x004021f0
0043ac06 : JMP 0x0043ac80
0043ac08 : CMP byte ptr [ECX + 0x2c],0x0
0043ac0c : JNZ 0x0043ac22
0043ac0e : MOV byte ptr [ECX + 0x2c],BL
0043ac11 : PUSH EDX
0043ac12 : MOV ECX,ESI
0043ac14 : MOV byte ptr [ESI + 0x2c],0x0
0043ac18 : CALL 0x00422be0
0043ac1d : MOV ECX,dword ptr [ESI]
0043ac1f : MOV EDX,dword ptr [EBP + 0x8]
0043ac22 : CMP byte ptr [ECX + 0x2d],0x0
0043ac26 : JNZ 0x0043ac3b
0043ac28 : MOV EAX,dword ptr [ECX + 0x8]
0043ac2b : CMP byte ptr [EAX + 0x2c],BL
0043ac2e : JNZ 0x0043ac4e
0043ac30 : MOV EAX,dword ptr [ECX]
0043ac32 : CMP byte ptr [EAX + 0x2c],BL
0043ac35 : JNZ 0x0043ac4e
0043ac37 : MOV byte ptr [ECX + 0x2c],0x0
0043ac3b : MOV ECX,dword ptr [EDX + 0x4]
0043ac3e : MOV EDI,ESI
0043ac40 : MOV ESI,dword ptr [ESI + 0x4]
0043ac43 : CMP EDI,dword ptr [ECX + 0x4]
0043ac46 : JNZ 0x0043ab90
0043ac4c : JMP 0x0043ac80
0043ac4e : MOV EAX,dword ptr [ECX]
0043ac50 : CMP byte ptr [EAX + 0x2c],BL
0043ac53 : JNZ 0x0043ac6a
0043ac55 : MOV EAX,dword ptr [ECX + 0x8]
0043ac58 : MOV byte ptr [EAX + 0x2c],BL
0043ac5b : PUSH EDX
0043ac5c : MOV byte ptr [ECX + 0x2c],0x0
0043ac60 : CALL 0x004021f0
0043ac65 : MOV ECX,dword ptr [ESI]
0043ac67 : MOV EDX,dword ptr [EBP + 0x8]
0043ac6a : MOV AL,byte ptr [ESI + 0x2c]
0043ac6d : MOV byte ptr [ECX + 0x2c],AL
0043ac70 : MOV byte ptr [ESI + 0x2c],BL
0043ac73 : MOV ECX,dword ptr [ECX]
0043ac75 : MOV byte ptr [ECX + 0x2c],BL
0043ac78 : PUSH EDX
0043ac79 : MOV ECX,ESI
0043ac7b : CALL 0x00422be0
0043ac80 : MOV byte ptr [EDI + 0x2c],BL
0043ac83 : MOV dword ptr [EBP + -0x4],0xffffffff
0043ac8a : MOV EDX,dword ptr [EBP + -0x14]
0043ac8d : ADD EDX,0xc
0043ac90 : PUSH EDX
0043ac91 : CALL 0x0044cb00
0043ac96 : MOV ECX,dword ptr [EBP + -0x14]
0043ac99 : CALL 0x006f04e0
