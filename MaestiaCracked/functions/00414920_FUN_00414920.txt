PROGRAM  : Maestia.exe
FUNCTION : FUN_00414920
ENTRY    : 00414920
BODY     : [[00414920, 00414a8a]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00414983) */

void FUN_00414920(int param_1,undefined4 *param_2,int param_3)

{
  uint uVar1;
  ushort *puVar2;
  undefined4 *puVar3;
  int iVar4;
  ushort *puVar5;
  uint uVar6;
  undefined4 *puVar7;
  bool bVar8;
  uint local_c [2];
  
  puVar3 = *(undefined4 **)(param_1 + 4);
  bVar8 = true;
  if (*(char *)((int)puVar3[1] + 0x45) == '\0') {
    uVar1 = *(uint *)(param_3 + 0x14);
    local_c[0] = *(uint *)(param_3 + 0x18);
    puVar7 = (undefined4 *)puVar3[1];
    do {
      puVar3 = puVar7;
      if ((uint)puVar3[9] < 8) {
        puVar2 = (ushort *)(puVar3 + 4);
      }
      else {
        puVar2 = (ushort *)puVar3[4];
      }
      uVar6 = puVar3[8];
      if (uVar1 < (uint)puVar3[8]) {
        uVar6 = uVar1;
      }
      if (local_c[0] < 8) {
        puVar5 = (ushort *)(param_3 + 4);
      }
      else {
        puVar5 = *(ushort **)(param_3 + 4);
      }
      for (; uVar6 != 0; uVar6 = uVar6 - 1) {
        if (*puVar5 != *puVar2) {
          uVar6 = (-(uint)(*puVar5 < *puVar2) & 0xfffffffe) + 1;
          if (uVar6 != 0) goto LAB_004149e0;
          break;
        }
        puVar5 = puVar5 + 1;
        puVar2 = puVar2 + 1;
      }
      if (uVar1 < (uint)puVar3[8]) {
        uVar6 = 0xffffffff;
      }
      else {
        uVar6 = (uint)(uVar1 != puVar3[8]);
      }
LAB_004149e0:
      bVar8 = (int)uVar6 < 0;
      if (bVar8) {
        puVar7 = (undefined4 *)*puVar3;
      }
      else {
        puVar7 = (undefined4 *)puVar3[2];
      }
    } while (*(char *)((int)puVar7 + 0x45) == '\0');
  }
  if (bVar8) {
    if (puVar3 == (undefined4 *)**(int **)(param_1 + 4)) {
      bVar8 = true;
      goto LAB_00414a1e;
    }
    FUN_00462360();
  }
  if (*(uint *)(param_3 + 0x18) < 8) {
    iVar4 = param_3 + 4;
  }
  else {
    iVar4 = *(int *)(param_3 + 4);
  }
  iVar4 = FUN_00405bb0(iVar4);
  if (-1 < iVar4) {
    *param_2 = puVar3;
    *(undefined1 *)(param_2 + 1) = 0;
    return;
  }
LAB_00414a1e:
  puVar3 = (undefined4 *)FUN_00414fa0(local_c,bVar8,param_3);
  *param_2 = *puVar3;
  *(undefined1 *)(param_2 + 1) = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00414920 : PUSH EBP
00414921 : MOV EBP,ESP
00414923 : AND ESP,0xfffffff8
00414926 : SUB ESP,0x14
00414929 : PUSH EBX
0041492a : MOV EBX,dword ptr [EBP + 0x10]
0041492d : PUSH ESI
0041492e : PUSH EDI
0041492f : MOV EDI,dword ptr [EBP + 0x8]
00414932 : MOV EAX,dword ptr [EDI + 0x4]
00414935 : MOV ESI,dword ptr [EAX + 0x4]
00414938 : CMP byte ptr [ESI + 0x45],0x0
0041493c : MOV ECX,EAX
0041493e : MOV AL,0x1
00414940 : MOV dword ptr [ESP + 0xc],ECX
00414944 : MOV byte ptr [ESP + 0x14],AL
00414948 : JNZ 0x00414a05
0041494e : MOV EAX,dword ptr [EBX + 0x14]
00414951 : MOV EDX,dword ptr [EBX + 0x18]
00414954 : MOV ECX,EAX
00414956 : MOV dword ptr [ESP + 0x18],EAX
0041495a : MOV dword ptr [ESP + 0x10],ECX
0041495e : MOV dword ptr [ESP + 0x1c],EDX
00414962 : JMP 0x00414968
00414964 : MOV ECX,dword ptr [ESP + 0x10]
00414968 : CMP dword ptr [ESI + 0x24],0x8
0041496c : MOV EDX,dword ptr [ESI + 0x20]
0041496f : MOV dword ptr [ESP + 0xc],ESI
00414973 : JC 0x0041497a
00414975 : MOV EAX,dword ptr [ESI + 0x10]
00414978 : JMP 0x0041497d
0041497a : LEA EAX,[ESI + 0x10]
0041497d : MOV EDI,dword ptr [ESP + 0x18]
00414981 : CMP ECX,EDI
00414983 : CMOVC EDI,ECX
00414986 : CMP EDI,EDX
00414988 : JNC 0x0041498c
0041498a : MOV EDX,EDI
0041498c : CMP dword ptr [ESP + 0x1c],0x8
00414991 : JC 0x00414998
00414993 : MOV ECX,dword ptr [EBX + 0x4]
00414996 : JMP 0x0041499b
00414998 : LEA ECX,[EBX + 0x4]
0041499b : TEST EDX,EDX
0041499d : JBE 0x004149b6
0041499f : NOP
004149a0 : MOV BX,word ptr [ECX]
004149a3 : CMP BX,word ptr [EAX]
004149a6 : JNZ 0x004149c2
004149a8 : ADD ECX,0x2
004149ab : ADD EAX,0x2
004149ae : SUB EDX,0x1
004149b1 : JNZ 0x004149a0
004149b3 : MOV EBX,dword ptr [EBP + 0x10]
004149b6 : MOV EAX,dword ptr [ESI + 0x20]
004149b9 : CMP EDI,EAX
004149bb : JNC 0x004149d7
004149bd : OR EAX,0xffffffff
004149c0 : JMP 0x004149e0
004149c2 : MOV CX,BX
004149c5 : CMP CX,word ptr [EAX]
004149c8 : SBB EAX,EAX
004149ca : AND EAX,0xfffffffe
004149cd : ADD EAX,0x1
004149d0 : JZ 0x004149b3
004149d2 : MOV EBX,dword ptr [EBP + 0x10]
004149d5 : JMP 0x004149e0
004149d7 : XOR EDX,EDX
004149d9 : CMP EDI,EAX
004149db : SETNZ DL
004149de : MOV EAX,EDX
004149e0 : TEST EAX,EAX
004149e2 : SETL AL
004149e5 : MOV byte ptr [ESP + 0x14],AL
004149e9 : TEST AL,AL
004149eb : JZ 0x004149f1
004149ed : MOV ESI,dword ptr [ESI]
004149ef : JMP 0x004149f4
004149f1 : MOV ESI,dword ptr [ESI + 0x8]
004149f4 : CMP byte ptr [ESI + 0x45],0x0
004149f8 : JZ 0x00414964
004149fe : MOV EDI,dword ptr [EBP + 0x8]
00414a01 : MOV ECX,dword ptr [ESP + 0xc]
00414a05 : MOV ESI,ECX
00414a07 : MOV dword ptr [ESP + 0x10],ESI
00414a0b : TEST AL,AL
00414a0d : JZ 0x00414a44
00414a0f : MOV EAX,dword ptr [EDI + 0x4]
00414a12 : CMP ECX,dword ptr [EAX]
00414a14 : JNZ 0x00414a37
00414a16 : PUSH EBX
00414a17 : PUSH 0x1
00414a19 : LEA EDX,[ESP + 0x24]
00414a1d : PUSH EDX
00414a1e : CALL 0x00414fa0
00414a23 : MOV ECX,dword ptr [EAX]
00414a25 : MOV EAX,dword ptr [EBP + 0xc]
00414a28 : MOV dword ptr [EAX],ECX
00414a2a : MOV byte ptr [EAX + 0x4],0x1
00414a2e : POP EDI
00414a2f : POP ESI
00414a30 : POP EBX
00414a31 : MOV ESP,EBP
00414a33 : POP EBP
00414a34 : RET 0xc
00414a37 : LEA EDX,[ESP + 0x10]
00414a3b : CALL 0x00462360
00414a40 : MOV ESI,dword ptr [ESP + 0x10]
00414a44 : CMP dword ptr [EBX + 0x18],0x8
00414a48 : MOV EDI,dword ptr [EBX + 0x14]
00414a4b : LEA ECX,[ESI + 0xc]
00414a4e : JC 0x00414a55
00414a50 : MOV EAX,dword ptr [EBX + 0x4]
00414a53 : JMP 0x00414a58
00414a55 : LEA EAX,[EBX + 0x4]
00414a58 : PUSH EAX
00414a59 : MOV EAX,dword ptr [ECX + 0x14]
00414a5c : CALL 0x00405bb0
00414a61 : TEST EAX,EAX
00414a63 : JGE 0x00414a79
00414a65 : MOV EDX,dword ptr [ESP + 0x14]
00414a69 : MOV ECX,dword ptr [ESP + 0xc]
00414a6d : MOV EDI,dword ptr [EBP + 0x8]
00414a70 : PUSH EBX
00414a71 : PUSH EDX
00414a72 : LEA EAX,[ESP + 0x24]
00414a76 : PUSH EAX
00414a77 : JMP 0x00414a1e
00414a79 : MOV EAX,dword ptr [EBP + 0xc]
00414a7c : POP EDI
00414a7d : MOV dword ptr [EAX],ESI
00414a7f : POP ESI
00414a80 : MOV byte ptr [EAX + 0x4],0x0
00414a84 : POP EBX
00414a85 : MOV ESP,EBP
00414a87 : POP EBP
00414a88 : RET 0xc
