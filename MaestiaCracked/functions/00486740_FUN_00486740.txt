PROGRAM  : Maestia.exe
FUNCTION : FUN_00486740
ENTRY    : 00486740
BODY     : [[00486740, 004867b4]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00486740(undefined4 param_1,int *param_2)

{
  int *piVar1;
  int unaff_ESI;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b71cd8;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_8 = 0;
  piVar1 = *(int **)(unaff_ESI + 0x1c);
  if (piVar1 != param_2) {
    if (piVar1 != (int *)0x0) {
      (**(code **)(*piVar1 + 0x30))(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    }
    if (param_2 != (int *)0x0) {
      InterlockedIncrement(param_2 + 0xb);
    }
    *(int **)(unaff_ESI + 0x1c) = param_2;
  }
  local_8 = 0xffffffff;
  FUN_0045f5a0();
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00486740 : PUSH EBP
00486741 : MOV EBP,ESP
00486743 : PUSH -0x1
00486745 : PUSH 0xb71cd8
0048674a : MOV EAX,FS:[0x0]
00486750 : PUSH EAX
00486751 : MOV EAX,[0x00d66fa0]
00486756 : XOR EAX,EBP
00486758 : PUSH EAX
00486759 : LEA EAX,[EBP + -0xc]
0048675c : MOV FS:[0x0],EAX
00486762 : MOV dword ptr [EBP + -0x4],0x0
00486769 : MOV ECX,dword ptr [ESI + 0x1c]
0048676c : MOV EAX,dword ptr [EBP + 0xc]
0048676f : CMP ECX,EAX
00486771 : JZ 0x00486795
00486773 : TEST ECX,ECX
00486775 : JZ 0x00486781
00486777 : MOV EAX,dword ptr [ECX]
00486779 : MOV EDX,dword ptr [EAX + 0x30]
0048677c : CALL EDX
0048677e : MOV EAX,dword ptr [EBP + 0xc]
00486781 : TEST EAX,EAX
00486783 : JZ 0x00486792
00486785 : ADD EAX,0x2c
00486788 : PUSH EAX
00486789 : CALL dword ptr [0x00b850dc]
0048678f : MOV EAX,dword ptr [EBP + 0xc]
00486792 : MOV dword ptr [ESI + 0x1c],EAX
00486795 : MOV dword ptr [EBP + -0x4],0xffffffff
0048679c : LEA ECX,[EBP + 0x8]
0048679f : CALL 0x0045f5a0
004867a4 : MOV ECX,dword ptr [EBP + -0xc]
004867a7 : MOV dword ptr FS:[0x0],ECX
004867ae : POP ECX
004867af : MOV ESP,EBP
004867b1 : POP EBP
004867b2 : RET 0x8
