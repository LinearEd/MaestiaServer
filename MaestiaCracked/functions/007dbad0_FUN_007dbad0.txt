PROGRAM  : Maestia.exe
FUNCTION : FUN_007dbad0
ENTRY    : 007dbad0
BODY     : [[007dbad0, 007dbdf4]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007dbad0(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 *puVar1;
  char cVar2;
  uint uVar3;
  int iVar4;
  int *piVar5;
  undefined4 uVar6;
  undefined4 ******ppppppuVar7;
  int iVar8;
  int unaff_EDI;
  uint local_3c;
  undefined4 local_34;
  undefined1 local_30 [4];
  undefined4 *****local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4d702;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar8 = 0;
  local_18 = 7;
  local_1c = 0;
  local_2c[0] = (undefined4 *****)((uint)local_2c[0] & 0xffff0000);
  local_14 = uVar3;
  FUN_00406360(&DAT_00c20304,0);
  local_8 = 0;
  if (param_1 == 0) {
    FUN_00406360(L"LOD_NONE",8);
  }
  else if (param_1 == 1) {
    iVar8 = 0;
    FUN_00406360(L"LOD_100",7);
    if (*(int *)(unaff_EDI + 0x2b8) == 0) {
      FUN_007db6c0(2);
      FUN_007db6c0(1);
LAB_007dbb67:
      local_8 = 0xffffffff;
      FUN_00406560(uVar3);
      goto LAB_007dbdd8;
    }
  }
  else if (param_1 == 2) {
    iVar8 = 1;
    FUN_00405c00(local_30);
  }
  else if (param_1 == 3) goto LAB_007dbb67;
  puVar1 = *(undefined4 **)(unaff_EDI + 0x2b4 + iVar8 * 4);
  local_34 = 0;
  if (puVar1 != (undefined4 *)0x0) {
    local_34 = puVar1[0x6f];
    (**(code **)*puVar1)(1);
    *(undefined4 *)(unaff_EDI + 0x2b4 + iVar8 * 4) = 0;
  }
  iVar4 = FUN_006f0760(0x3fc,".\\World\\AvaSceneNode.cpp",0xec3,0);
  local_8._0_1_ = 1;
  if (iVar4 == 0) {
    piVar5 = (int *)0x0;
  }
  else {
    piVar5 = (int *)FUN_00769900(iVar4);
  }
  local_8._0_1_ = 0;
  *(int **)(unaff_EDI + 0x2b4 + iVar8 * 4) = piVar5;
  (**(code **)(*piVar5 + 0xc))();
  ppppppuVar7 = (undefined4 ******)local_2c[0];
  if (local_18 < 8) {
    ppppppuVar7 = local_2c;
  }
  if (*(uint *)(unaff_EDI + 0x24) < 8) {
    iVar4 = unaff_EDI + 0x10;
  }
  else {
    iVar4 = *(int *)(unaff_EDI + 0x10);
  }
  uVar6 = FUN_00404750(L"%s_MergeMeshEntity_%s",iVar4,ppppppuVar7);
  local_8._0_1_ = 2;
  (**(code **)(**(int **)(unaff_EDI + 0x2b4 + iVar8 * 4) + 8))(uVar6);
  local_8 = (uint)local_8._1_3_ << 8;
  if (7 < local_3c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *(undefined4 *)(*(int *)(unaff_EDI + 0x2b4 + iVar8 * 4) + 0x1ec) =
       *(undefined4 *)(unaff_EDI + 0x288);
  (**(code **)(**(int **)(unaff_EDI + 0x2b4 + iVar8 * 4) + 100))
            (*(undefined1 *)(unaff_EDI + 0x255),*(undefined2 *)(unaff_EDI + 0x256));
  cVar2 = FUN_0076ef40(*(undefined4 *)(unaff_EDI + 0x2b4 + iVar8 * 4),param_1,param_2,param_3,
                       param_4);
  if (cVar2 == '\0') {
    if (*(undefined4 **)(unaff_EDI + 0x2b8) != (undefined4 *)0x0) {
      (**(code **)**(undefined4 **)(unaff_EDI + 0x2b8))(1);
      *(undefined4 *)(unaff_EDI + 0x2b8) = 0;
    }
    if (*(undefined4 **)(unaff_EDI + 0x2b4) != (undefined4 *)0x0) {
      (**(code **)**(undefined4 **)(unaff_EDI + 0x2b4))(1);
      *(undefined4 *)(unaff_EDI + 0x2b4) = 0;
    }
    FUN_007cd400(0);
    *(undefined1 *)(unaff_EDI + 700) = 0;
    FUN_007db6c0(1);
    FUN_007db6c0(2);
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  else {
    if (((iVar8 == 1) && (*(int *)(unaff_EDI + 0x2b8) != 0)) &&
       (*(undefined4 **)(unaff_EDI + 0x2b4) != (undefined4 *)0x0)) {
      (**(code **)**(undefined4 **)(unaff_EDI + 0x2b4))(1);
      *(undefined4 *)(unaff_EDI + 0x2b4) = 0;
    }
    *(undefined4 *)(*(int *)(unaff_EDI + 0x2b4 + iVar8 * 4) + 0x1bc) = local_34;
    if (*(int *)(unaff_EDI + 0x2b4 + iVar8 * 4) != 0) {
      FUN_007d34c0(unaff_EDI);
    }
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  local_8 = 0xffffffff;
  local_1c = 0;
  local_2c[0] = (undefined4 *****)((uint)local_2c[0] & 0xffff0000);
  local_18 = 7;
LAB_007dbdd8:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
007dbad0 : PUSH EBP
007dbad1 : MOV EBP,ESP
007dbad3 : PUSH -0x1
007dbad5 : PUSH 0xb4d702
007dbada : MOV EAX,FS:[0x0]
007dbae0 : PUSH EAX
007dbae1 : SUB ESP,0x48
007dbae4 : MOV EAX,[0x00d66fa0]
007dbae9 : XOR EAX,EBP
007dbaeb : MOV dword ptr [EBP + -0x10],EAX
007dbaee : PUSH EBX
007dbaef : PUSH ESI
007dbaf0 : PUSH EAX
007dbaf1 : LEA EAX,[EBP + -0xc]
007dbaf4 : MOV FS:[0x0],EAX
007dbafa : XOR ESI,ESI
007dbafc : PUSH ESI
007dbafd : XOR EAX,EAX
007dbaff : PUSH 0xc20304
007dbb04 : LEA ECX,[EBP + -0x2c]
007dbb07 : XOR EBX,EBX
007dbb09 : MOV dword ptr [EBP + -0x14],0x7
007dbb10 : MOV dword ptr [EBP + -0x18],ESI
007dbb13 : MOV word ptr [EBP + -0x28],AX
007dbb17 : CALL 0x00406360
007dbb1c : MOV dword ptr [EBP + -0x4],ESI
007dbb1f : MOV EAX,dword ptr [EBP + 0x8]
007dbb22 : CMP EAX,ESI
007dbb24 : JNZ 0x007dbb37
007dbb26 : PUSH 0x8
007dbb28 : PUSH 0xc203bc
007dbb2d : LEA ECX,[EBP + -0x2c]
007dbb30 : CALL 0x00406360
007dbb35 : JMP 0x007dbb9a
007dbb37 : CMP EAX,0x1
007dbb3a : JNZ 0x007dbb7d
007dbb3c : PUSH 0x7
007dbb3e : PUSH 0xc20438
007dbb43 : LEA ECX,[EBP + -0x2c]
007dbb46 : XOR EBX,EBX
007dbb48 : CALL 0x00406360
007dbb4d : CMP dword ptr [EDI + 0x2b8],ESI
007dbb53 : JNZ 0x007dbb9a
007dbb55 : PUSH 0x2
007dbb57 : MOV ECX,EDI
007dbb59 : CALL 0x007db6c0
007dbb5e : PUSH 0x1
007dbb60 : MOV ECX,EDI
007dbb62 : CALL 0x007db6c0
007dbb67 : MOV dword ptr [EBP + -0x4],0xffffffff
007dbb6e : LEA ECX,[EBP + -0x2c]
007dbb71 : CALL 0x00406560
007dbb76 : XOR AL,AL
007dbb78 : JMP 0x007dbdd8
007dbb7d : CMP EAX,0x2
007dbb80 : JNZ 0x007dbb95
007dbb82 : LEA ECX,[EBP + -0x2c]
007dbb85 : PUSH ECX
007dbb86 : MOV EDX,0xc20448
007dbb8b : LEA EBX,[EAX + -0x1]
007dbb8e : CALL 0x00405c00
007dbb93 : JMP 0x007dbb9a
007dbb95 : CMP EAX,0x3
007dbb98 : JZ 0x007dbb67
007dbb9a : MOV ECX,dword ptr [EDI + EBX*0x4 + 0x2b4]
007dbba1 : MOV dword ptr [EBP + -0x30],ESI
007dbba4 : CMP ECX,ESI
007dbba6 : JZ 0x007dbbc0
007dbba8 : MOV EDX,dword ptr [ECX + 0x1bc]
007dbbae : MOV EAX,dword ptr [ECX]
007dbbb0 : MOV dword ptr [EBP + -0x30],EDX
007dbbb3 : MOV EDX,dword ptr [EAX]
007dbbb5 : PUSH 0x1
007dbbb7 : CALL EDX
007dbbb9 : MOV dword ptr [EDI + EBX*0x4 + 0x2b4],ESI
007dbbc0 : PUSH ESI
007dbbc1 : PUSH 0xec3
007dbbc6 : PUSH 0xc20458
007dbbcb : PUSH 0x3fc
007dbbd0 : CALL 0x006f0760
007dbbd5 : ADD ESP,0x10
007dbbd8 : MOV dword ptr [EBP + -0x34],EAX
007dbbdb : MOV byte ptr [EBP + -0x4],0x1
007dbbdf : CMP EAX,ESI
007dbbe1 : JZ 0x007dbbeb
007dbbe3 : PUSH EAX
007dbbe4 : CALL 0x00769900
007dbbe9 : JMP 0x007dbbed
007dbbeb : XOR EAX,EAX
007dbbed : MOV byte ptr [EBP + -0x4],0x0
007dbbf1 : MOV dword ptr [EDI + EBX*0x4 + 0x2b4],EAX
007dbbf8 : MOV EDX,dword ptr [EAX]
007dbbfa : MOV ECX,EAX
007dbbfc : MOV EAX,dword ptr [EDX + 0xc]
007dbbff : PUSH EDI
007dbc00 : CALL EAX
007dbc02 : MOV ECX,dword ptr [EBP + -0x28]
007dbc05 : MOV EAX,0x8
007dbc0a : CMP dword ptr [EBP + -0x14],EAX
007dbc0d : JNC 0x007dbc12
007dbc0f : LEA ECX,[EBP + -0x28]
007dbc12 : CMP dword ptr [EDI + 0x24],EAX
007dbc15 : JC 0x007dbc1c
007dbc17 : MOV EAX,dword ptr [EDI + 0x10]
007dbc1a : JMP 0x007dbc1f
007dbc1c : LEA EAX,[EDI + 0x10]
007dbc1f : PUSH ECX
007dbc20 : PUSH EAX
007dbc21 : PUSH 0xc20490
007dbc26 : LEA ESI,[EBP + -0x50]
007dbc29 : CALL 0x00404750
007dbc2e : ADD ESP,0xc
007dbc31 : MOV byte ptr [EBP + -0x4],0x2
007dbc35 : MOV ECX,dword ptr [EDI + EBX*0x4 + 0x2b4]
007dbc3c : MOV EDX,dword ptr [ECX]
007dbc3e : PUSH EAX
007dbc3f : MOV EAX,dword ptr [EDX + 0x8]
007dbc42 : CALL EAX
007dbc44 : MOV byte ptr [EBP + -0x4],0x0
007dbc48 : CMP dword ptr [EBP + -0x38],0x8
007dbc4c : JC 0x007dbc56
007dbc4e : MOV ECX,dword ptr [EBP + -0x4c]
007dbc51 : CALL 0x006f04e0
007dbc56 : MOV EAX,dword ptr [EDI + 0x288]
007dbc5c : XOR ECX,ECX
007dbc5e : MOV word ptr [EBP + -0x4c],CX
007dbc62 : MOV ECX,dword ptr [EDI + EBX*0x4 + 0x2b4]
007dbc69 : MOV dword ptr [ECX + 0x1ec],EAX
007dbc6f : MOVZX EAX,word ptr [EDI + 0x256]
007dbc76 : MOV ECX,dword ptr [EDI + EBX*0x4 + 0x2b4]
007dbc7d : MOV EDX,dword ptr [ECX]
007dbc7f : MOV EDX,dword ptr [EDX + 0x64]
007dbc82 : PUSH EAX
007dbc83 : MOVZX EAX,byte ptr [EDI + 0x255]
007dbc8a : PUSH EAX
007dbc8b : MOV dword ptr [EBP + -0x38],0x7
007dbc92 : MOV dword ptr [EBP + -0x3c],0x0
007dbc99 : CALL EDX
007dbc9b : MOV ESI,dword ptr [EBP + 0x8]
007dbc9e : XOR ECX,ECX
007dbca0 : CMP ESI,0x1
007dbca3 : JNZ 0x007dbccf
007dbca5 : MOV EAX,dword ptr [EDI + 0x2b8]
007dbcab : TEST EAX,EAX
007dbcad : JZ 0x007dbccf
007dbcaf : MOV ECX,dword ptr [EAX + 0x30c]
007dbcb5 : SUB ECX,dword ptr [EAX + 0x308]
007dbcbb : MOV EAX,0x2aaaaaab
007dbcc0 : IMUL ECX
007dbcc2 : SAR EDX,0x3
007dbcc5 : MOV EAX,EDX
007dbcc7 : SHR EAX,0x1f
007dbcca : ADD EAX,EDX
007dbccc : MOVZX ECX,AX
007dbccf : MOV EDX,dword ptr [EBP + 0x14]
007dbcd2 : MOV EAX,dword ptr [EBP + 0x10]
007dbcd5 : PUSH EDX
007dbcd6 : MOV EDX,dword ptr [EBP + 0xc]
007dbcd9 : PUSH EAX
007dbcda : MOV EAX,dword ptr [EDI + EBX*0x4 + 0x2b4]
007dbce1 : PUSH EDX
007dbce2 : PUSH ESI
007dbce3 : PUSH EAX
007dbce4 : CALL 0x0076ef40
007dbce9 : TEST AL,AL
007dbceb : JNZ 0x007dbd62
007dbced : MOV ECX,dword ptr [EDI + 0x2b8]
007dbcf3 : XOR ESI,ESI
007dbcf5 : CMP ECX,ESI
007dbcf7 : JZ 0x007dbd07
007dbcf9 : MOV EDX,dword ptr [ECX]
007dbcfb : MOV EAX,dword ptr [EDX]
007dbcfd : PUSH 0x1
007dbcff : CALL EAX
007dbd01 : MOV dword ptr [EDI + 0x2b8],ESI
007dbd07 : MOV ECX,dword ptr [EDI + 0x2b4]
007dbd0d : CMP ECX,ESI
007dbd0f : JZ 0x007dbd1f
007dbd11 : MOV EDX,dword ptr [ECX]
007dbd13 : MOV EAX,dword ptr [EDX]
007dbd15 : PUSH 0x1
007dbd17 : CALL EAX
007dbd19 : MOV dword ptr [EDI + 0x2b4],ESI
007dbd1f : PUSH ESI
007dbd20 : MOV ECX,EDI
007dbd22 : CALL 0x007cd400
007dbd27 : PUSH 0x1
007dbd29 : MOV ECX,EDI
007dbd2b : MOV byte ptr [EDI + 0x2bc],0x0
007dbd32 : CALL 0x007db6c0
007dbd37 : PUSH 0x2
007dbd39 : MOV ECX,EDI
007dbd3b : CALL 0x007db6c0
007dbd40 : MOV dword ptr [EBP + -0x4],0xffffffff
007dbd47 : CMP dword ptr [EBP + -0x14],0x8
007dbd4b : JC 0x007dbd55
007dbd4d : MOV ECX,dword ptr [EBP + -0x28]
007dbd50 : CALL 0x006f04e0
007dbd55 : XOR ECX,ECX
007dbd57 : MOV dword ptr [EBP + -0x18],ESI
007dbd5a : MOV word ptr [EBP + -0x28],CX
007dbd5e : XOR AL,AL
007dbd60 : JMP 0x007dbdd1
007dbd62 : CMP EBX,0x1
007dbd65 : JNZ 0x007dbd8b
007dbd67 : CMP dword ptr [EDI + 0x2b8],0x0
007dbd6e : JZ 0x007dbd8b
007dbd70 : MOV ECX,dword ptr [EDI + 0x2b4]
007dbd76 : TEST ECX,ECX
007dbd78 : JZ 0x007dbd8b
007dbd7a : MOV EDX,dword ptr [ECX]
007dbd7c : MOV EAX,dword ptr [EDX]
007dbd7e : PUSH EBX
007dbd7f : CALL EAX
007dbd81 : MOV dword ptr [EDI + 0x2b4],0x0
007dbd8b : MOV EAX,dword ptr [EDI + EBX*0x4 + 0x2b4]
007dbd92 : MOV ECX,dword ptr [EBP + -0x30]
007dbd95 : MOV dword ptr [EAX + 0x1bc],ECX
007dbd9b : CMP dword ptr [EDI + EBX*0x4 + 0x2b4],0x0
007dbda3 : JZ 0x007dbdad
007dbda5 : PUSH EDI
007dbda6 : MOV ECX,EDI
007dbda8 : CALL 0x007d34c0
007dbdad : MOV dword ptr [EBP + -0x4],0xffffffff
007dbdb4 : CMP dword ptr [EBP + -0x14],0x8
007dbdb8 : JC 0x007dbdc2
007dbdba : MOV ECX,dword ptr [EBP + -0x28]
007dbdbd : CALL 0x006f04e0
007dbdc2 : XOR EDX,EDX
007dbdc4 : MOV dword ptr [EBP + -0x18],0x0
007dbdcb : MOV word ptr [EBP + -0x28],DX
007dbdcf : MOV AL,0x1
007dbdd1 : MOV dword ptr [EBP + -0x14],0x7
007dbdd8 : MOV ECX,dword ptr [EBP + -0xc]
007dbddb : MOV dword ptr FS:[0x0],ECX
007dbde2 : POP ECX
007dbde3 : POP ESI
007dbde4 : POP EBX
007dbde5 : MOV ECX,dword ptr [EBP + -0x10]
007dbde8 : XOR ECX,EBP
007dbdea : CALL 0x00633e6b
007dbdef : MOV ESP,EBP
007dbdf1 : POP EBP
007dbdf2 : RET 0x10
