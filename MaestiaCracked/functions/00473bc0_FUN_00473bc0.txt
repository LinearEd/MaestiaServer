PROGRAM  : Maestia.exe
FUNCTION : FUN_00473bc0
ENTRY    : 00473bc0
BODY     : [[00473bc0, 00473c6e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00473bc0(int param_1,uint param_2)

{
  void *_Dst;
  void *_Dst_00;
  uint uVar1;
  
  if (param_2 != *(uint *)(param_1 + 0xc)) {
    _Dst = (void *)FUN_00471930();
    _Dst_00 = (void *)FUN_00455db0();
    if (*(void **)(param_1 + 4) != (void *)0x0) {
      _memcpy(_Dst,*(void **)(param_1 + 4),*(int *)(param_1 + 0x14) * *(int *)(param_1 + 0xc));
      FUN_00455c80();
    }
    if (*(void **)(param_1 + 8) != (void *)0x0) {
      if (*(int *)(param_1 + 0x10) != 0) {
        _memcpy(_Dst_00,*(void **)(param_1 + 8),*(int *)(param_1 + 0x10) * 4);
      }
      FUN_004fdc30();
    }
    for (uVar1 = *(uint *)(param_1 + 0xc); uVar1 < param_2; uVar1 = uVar1 + 1) {
      *(uint *)((int)_Dst_00 + *(int *)(param_1 + 0x10) * 4) = *(int *)(param_1 + 0x14) * uVar1 + 4;
      *(int *)(param_1 + 0x10) = *(int *)(param_1 + 0x10) + 1;
    }
    *(void **)(param_1 + 8) = _Dst_00;
    *(void **)(param_1 + 4) = _Dst;
    *(uint *)(param_1 + 0xc) = param_2;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00473bc0 : PUSH EBP
00473bc1 : MOV EBP,ESP
00473bc3 : PUSH EBX
00473bc4 : MOV EBX,dword ptr [EBP + 0x8]
00473bc7 : PUSH ESI
00473bc8 : MOV ESI,dword ptr [EBP + 0xc]
00473bcb : CMP ESI,dword ptr [EBX + 0xc]
00473bce : JZ 0x00473c69
00473bd4 : PUSH EDI
00473bd5 : MOV EDI,dword ptr [EBX + 0x14]
00473bd8 : IMUL EDI,ESI
00473bdb : ADD EDI,0x4
00473bde : CALL 0x00471930
00473be3 : MOV EDI,ESI
00473be5 : MOV dword ptr [EBP + 0x8],EAX
00473be8 : CALL 0x00455db0
00473bed : MOV EDI,EAX
00473bef : MOV EAX,dword ptr [EBX + 0x4]
00473bf2 : TEST EAX,EAX
00473bf4 : JZ 0x00473c16
00473bf6 : MOV ECX,dword ptr [EBX + 0x14]
00473bf9 : IMUL ECX,dword ptr [EBX + 0xc]
00473bfd : MOV EDX,dword ptr [EBP + 0x8]
00473c00 : PUSH ECX
00473c01 : PUSH EAX
00473c02 : PUSH EDX
00473c03 : CALL 0x0063ae40
00473c08 : ADD ESP,0xc
00473c0b : LEA ESI,[EBX + 0x4]
00473c0e : CALL 0x00455c80
00473c13 : MOV ESI,dword ptr [EBP + 0xc]
00473c16 : MOV EAX,dword ptr [EBX + 0x8]
00473c19 : TEST EAX,EAX
00473c1b : JZ 0x00473c3e
00473c1d : MOV ECX,dword ptr [EBX + 0x10]
00473c20 : TEST ECX,ECX
00473c22 : JBE 0x00473c33
00473c24 : ADD ECX,ECX
00473c26 : ADD ECX,ECX
00473c28 : PUSH ECX
00473c29 : PUSH EAX
00473c2a : PUSH EDI
00473c2b : CALL 0x0063ae40
00473c30 : ADD ESP,0xc
00473c33 : LEA ESI,[EBX + 0x8]
00473c36 : CALL 0x004fdc30
00473c3b : MOV ESI,dword ptr [EBP + 0xc]
00473c3e : MOV EAX,dword ptr [EBX + 0xc]
00473c41 : CMP EAX,ESI
00473c43 : JNC 0x00473c5c
00473c45 : MOV EDX,dword ptr [EBX + 0x14]
00473c48 : MOV ECX,dword ptr [EBX + 0x10]
00473c4b : IMUL EDX,EAX
00473c4e : ADD EDX,0x4
00473c51 : MOV dword ptr [EDI + ECX*0x4],EDX
00473c54 : INC dword ptr [EBX + 0x10]
00473c57 : INC EAX
00473c58 : CMP EAX,ESI
00473c5a : JC 0x00473c45
00473c5c : MOV EDX,dword ptr [EBP + 0x8]
00473c5f : MOV dword ptr [EBX + 0x8],EDI
00473c62 : MOV dword ptr [EBX + 0x4],EDX
00473c65 : MOV dword ptr [EBX + 0xc],ESI
00473c68 : POP EDI
00473c69 : POP ESI
00473c6a : POP EBX
00473c6b : POP EBP
00473c6c : RET 0x8
