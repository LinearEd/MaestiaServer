PROGRAM  : Maestia.exe
FUNCTION : FUN_006e8560
ENTRY    : 006e8560
BODY     : [[006e8560, 006e8673]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006e8560(int param_1,int param_2)

{
  undefined4 uVar1;
  char cVar2;
  int iVar3;
  int *piVar4;
  int local_14;
  int local_10;
  undefined1 local_c [12];
  
  cVar2 = FUN_004fd180(param_2);
  if (cVar2 == '\0') {
    *(undefined4 *)(param_2 + 8) = *(undefined4 *)(param_2 + 0xc);
  }
  else {
    *(undefined4 *)(param_2 + 8) = 0;
  }
  FUN_0046e830();
  do {
    while( true ) {
      if (local_14 == 0) {
        return;
      }
      if ((local_10 == 0) || (local_14 == 0)) {
        iVar3 = 0;
      }
      else {
        iVar3 = *(int *)(local_10 + 4) + local_14;
      }
      if (*(int *)(iVar3 + 0x14) != *(int *)(param_1 + 0xb68)) break;
      FUN_0046e880();
    }
    if ((local_10 == 0) || (local_14 == 0)) {
      iVar3 = 0;
    }
    else {
      iVar3 = *(int *)(local_10 + 4) + local_14;
    }
    uVar1 = *(undefined4 *)(iVar3 + 0x40);
    if (*(char *)(param_2 + 0x10) == '\0') {
      if (*(uint *)(param_2 + 8) == *(uint *)(param_2 + 0xc)) {
        if (*(uint *)(param_2 + 0xc) < 8) {
          *(undefined4 *)(param_2 + 0xc) = 8;
        }
        FUN_004fd180(param_2);
      }
      *(undefined4 *)(*(int *)(param_2 + 4) + *(int *)(param_2 + 8) * 4) = uVar1;
LAB_006e8621:
      *(int *)(param_2 + 8) = *(int *)(param_2 + 8) + 1;
    }
    else if (*(uint *)(param_2 + 8) < *(uint *)(param_2 + 0xc)) {
      *(undefined4 *)(*(int *)(param_2 + 4) + *(uint *)(param_2 + 8) * 4) = uVar1;
      goto LAB_006e8621;
    }
    piVar4 = (int *)FUN_004fe760(local_c,local_14,local_10);
    local_14 = *piVar4;
    local_10 = piVar4[1];
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
006e8560 : SUB ESP,0x14
006e8563 : PUSH EBX
006e8564 : MOV EBX,dword ptr [ESP + 0x20]
006e8568 : PUSH EBP
006e8569 : PUSH ESI
006e856a : PUSH EDI
006e856b : PUSH EBX
006e856c : XOR EAX,EAX
006e856e : CALL 0x004fd180
006e8573 : TEST AL,AL
006e8575 : JZ 0x006e8580
006e8577 : MOV dword ptr [EBX + 0x8],0x0
006e857e : JMP 0x006e8586
006e8580 : MOV EAX,dword ptr [EBX + 0xc]
006e8583 : MOV dword ptr [EBX + 0x8],EAX
006e8586 : MOV ECX,dword ptr [ESP + 0x28]
006e858a : ADD ECX,0xb6c
006e8590 : LEA EAX,[ESP + 0x10]
006e8594 : CALL 0x0046e830
006e8599 : MOV EDI,dword ptr [ESP + 0x10]
006e859d : TEST EDI,EDI
006e859f : JZ 0x006e866a
006e85a5 : MOV EBP,dword ptr [ESP + 0x14]
006e85a9 : TEST EBP,EBP
006e85ab : JZ 0x006e85b8
006e85ad : TEST EDI,EDI
006e85af : JZ 0x006e85b8
006e85b1 : MOV EAX,dword ptr [EBP + 0x4]
006e85b4 : ADD EAX,EDI
006e85b6 : JMP 0x006e85ba
006e85b8 : XOR EAX,EAX
006e85ba : MOV ECX,dword ptr [EAX + 0x14]
006e85bd : MOV EDX,dword ptr [ESP + 0x28]
006e85c1 : CMP ECX,dword ptr [EDX + 0xb68]
006e85c7 : JZ 0x006e8651
006e85cd : TEST EBP,EBP
006e85cf : JZ 0x006e85dc
006e85d1 : TEST EDI,EDI
006e85d3 : JZ 0x006e85dc
006e85d5 : MOV EAX,dword ptr [EBP + 0x4]
006e85d8 : ADD EAX,EDI
006e85da : JMP 0x006e85de
006e85dc : XOR EAX,EAX
006e85de : CMP byte ptr [EBX + 0x10],0x0
006e85e2 : MOV ESI,dword ptr [EAX + 0x40]
006e85e5 : JZ 0x006e85f7
006e85e7 : MOV EAX,dword ptr [EBX + 0x8]
006e85ea : CMP EAX,dword ptr [EBX + 0xc]
006e85ed : JNC 0x006e8624
006e85ef : MOV ECX,dword ptr [EBX + 0x4]
006e85f2 : MOV dword ptr [ECX + EAX*0x4],ESI
006e85f5 : JMP 0x006e8621
006e85f7 : MOV EAX,dword ptr [EBX + 0xc]
006e85fa : CMP dword ptr [EBX + 0x8],EAX
006e85fd : JNZ 0x006e8618
006e85ff : CMP EAX,0x8
006e8602 : JNC 0x006e860b
006e8604 : MOV dword ptr [EBX + 0xc],0x8
006e860b : MOV EAX,dword ptr [EBX + 0xc]
006e860e : LEA EAX,[EAX + EAX*0x1 + 0x1]
006e8612 : PUSH EBX
006e8613 : CALL 0x004fd180
006e8618 : MOV EDX,dword ptr [EBX + 0x8]
006e861b : MOV EAX,dword ptr [EBX + 0x4]
006e861e : MOV dword ptr [EAX + EDX*0x4],ESI
006e8621 : INC dword ptr [EBX + 0x8]
006e8624 : SUB ESP,0x8
006e8627 : MOV EAX,ESP
006e8629 : MOV dword ptr [EAX],EDI
006e862b : MOV EDI,dword ptr [ESP + 0x30]
006e862f : LEA ECX,[ESP + 0x20]
006e8633 : PUSH ECX
006e8634 : ADD EDI,0xb6c
006e863a : MOV dword ptr [EAX + 0x4],EBP
006e863d : CALL 0x004fe760
006e8642 : MOV EDI,dword ptr [EAX]
006e8644 : MOV EBP,dword ptr [EAX + 0x4]
006e8647 : MOV dword ptr [ESP + 0x10],EDI
006e864b : MOV dword ptr [ESP + 0x14],EBP
006e864f : JMP 0x006e8662
006e8651 : LEA ESI,[ESP + 0x10]
006e8655 : CALL 0x0046e880
006e865a : MOV EBP,dword ptr [ESP + 0x14]
006e865e : MOV EDI,dword ptr [ESP + 0x10]
006e8662 : TEST EDI,EDI
006e8664 : JNZ 0x006e85a9
006e866a : POP EDI
006e866b : POP ESI
006e866c : POP EBP
006e866d : POP EBX
006e866e : ADD ESP,0x14
006e8671 : RET 0x8
