PROGRAM  : Maestia.exe
FUNCTION : FUN_0073db90
ENTRY    : 0073db90
BODY     : [[0073db90, 0073ddae]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_0073db90(int param_1,undefined4 param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  char cVar3;
  int *in_ECX;
  wchar_t *pwVar4;
  
  iVar2 = in_ECX[5];
  cVar3 = '\0';
  if (iVar2 == 0) {
    iVar2 = FUN_007bfcc0(in_ECX[4]);
    in_ECX[5] = iVar2;
    if (iVar2 == 0) {
      return 0;
    }
    (**(code **)(*in_ECX + 0x38))(param_2);
    piVar1 = *(int **)(in_ECX[5] + 0x1c);
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0xe8))(piVar1,"ObjectGlow");
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaGlowRenderGroup::SetEffectShader effect->SetTechnique Failed (%d)",
                   _DAT_00da9b18);
    }
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0xfc))(piVar1,0,0);
    if (_DAT_00da9b18 < 0) {
      pwVar4 = L"AvaGlowRenderGroup::SetEffectShader effect->Begin Failed (%d)";
LAB_0073dc22:
      FUN_008018d0(pwVar4,_DAT_00da9b18);
    }
LAB_0073dc30:
    cVar3 = *(char *)(param_3 + 10);
  }
  else {
    if (in_ECX[0x34] != *(int *)(param_1 + 0x148)) {
      piVar1 = *(int **)(iVar2 + 0x1c);
      FUN_0077c620();
      in_ECX[0x11] = 0;
      _DAT_00da9b18 = (**(code **)(*piVar1 + 0x108))(piVar1);
      if (_DAT_00da9b18 < 0) {
        FUN_008018d0(L"AvaGlowRenderGroup::SetEffectShader effect->EndPass Failed (%d)",
                     _DAT_00da9b18);
      }
      _DAT_00da9b18 = (**(code **)(*piVar1 + 0x10c))(piVar1);
      if (_DAT_00da9b18 < 0) {
        FUN_008018d0(L"AvaGlowRenderGroup::SetEffectShader effect->End Failed (%d)",_DAT_00da9b18);
      }
      iVar2 = FUN_007bfcc0(*(undefined4 *)(param_1 + 0x148));
      in_ECX[5] = iVar2;
      if (iVar2 == 0) {
        return 0;
      }
      (**(code **)(*in_ECX + 0x38))(param_2);
      _DAT_00da9b18 = (**(code **)(*piVar1 + 0xe8))(piVar1,"ObjectGlow");
      if (_DAT_00da9b18 < 0) {
        FUN_008018d0(L"AvaGlowRenderGroup::SetEffectShader effect->SetTechnique2 Failed (%d)",
                     _DAT_00da9b18);
      }
      _DAT_00da9b18 = (**(code **)(*piVar1 + 0xfc))(piVar1,0,0);
      if (_DAT_00da9b18 < 0) {
        pwVar4 = L"AvaGlowRenderGroup::SetEffectShader effect->Begin2 Failed (%d)";
        goto LAB_0073dc22;
      }
      goto LAB_0073dc30;
    }
    if (in_ECX[0x35] == *(int *)(param_1 + 0x14c)) goto LAB_0073dd77;
    _DAT_00da9b18 = (**(code **)(**(int **)(iVar2 + 0x1c) + 0x108))(*(int **)(iVar2 + 0x1c));
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaGlowRenderGroup::SetEffectShader effect->EndPass3 Failed (%d)",_DAT_00da9b18
                  );
    }
    cVar3 = *(char *)(param_3 + 10);
  }
  cVar3 = (cVar3 != '\0') + '\x01';
LAB_0073dd77:
  _DAT_00da9b18 =
       (**(code **)(**(int **)(in_ECX[5] + 0x1c) + 0x100))(*(int **)(in_ECX[5] + 0x1c),cVar3);
  if (_DAT_00da9b18 < 0) {
    FUN_008018d0(L"AvaGlowRenderGroup::SetEffectShader effect->BeginPass3 Failed (%d)",_DAT_00da9b18
                );
  }
  return 1;
}



============================================================
DISASSEMBLY
============================================================
0073db90 : PUSH EBP
0073db91 : MOV EBP,ESP
0073db93 : PUSH EBX
0073db94 : PUSH ESI
0073db95 : PUSH EDI
0073db96 : MOV EDI,ECX
0073db98 : MOV EAX,dword ptr [EDI + 0x14]
0073db9b : XOR ECX,ECX
0073db9d : TEST EAX,EAX
0073db9f : JNZ 0x0073dc3d
0073dba5 : MOV EAX,dword ptr [EDI + 0x10]
0073dba8 : MOV ESI,dword ptr [0x01725204]
0073dbae : PUSH EAX
0073dbaf : CALL 0x007bfcc0
0073dbb4 : MOV dword ptr [EDI + 0x14],EAX
0073dbb7 : TEST EAX,EAX
0073dbb9 : JNZ 0x0073dbc4
0073dbbb : POP EDI
0073dbbc : POP ESI
0073dbbd : XOR AL,AL
0073dbbf : POP EBX
0073dbc0 : POP EBP
0073dbc1 : RET 0xc
0073dbc4 : MOV EDX,dword ptr [EDI]
0073dbc6 : MOV EAX,dword ptr [EBP + 0xc]
0073dbc9 : MOV EDX,dword ptr [EDX + 0x38]
0073dbcc : PUSH EAX
0073dbcd : MOV ECX,EDI
0073dbcf : CALL EDX
0073dbd1 : MOV EAX,dword ptr [EDI + 0x14]
0073dbd4 : MOV EBX,dword ptr [EAX + 0x1c]
0073dbd7 : MOV ECX,dword ptr [EBX]
0073dbd9 : MOV EDX,dword ptr [ECX + 0xe8]
0073dbdf : PUSH 0xc0672c
0073dbe4 : PUSH EBX
0073dbe5 : CALL EDX
0073dbe7 : MOV [0x00da9b18],EAX
0073dbec : TEST EAX,EAX
0073dbee : JGE 0x0073dc04
0073dbf0 : MOV ESI,dword ptr [0x00da98e8]
0073dbf6 : PUSH EAX
0073dbf7 : PUSH 0xc077d0
0073dbfc : CALL 0x008018d0
0073dc01 : ADD ESP,0x8
0073dc04 : MOV EAX,dword ptr [EBX]
0073dc06 : MOV ECX,dword ptr [EAX + 0xfc]
0073dc0c : PUSH 0x0
0073dc0e : PUSH 0x0
0073dc10 : PUSH EBX
0073dc11 : CALL ECX
0073dc13 : MOV [0x00da9b18],EAX
0073dc18 : TEST EAX,EAX
0073dc1a : JGE 0x0073dc30
0073dc1c : PUSH EAX
0073dc1d : PUSH 0xc07860
0073dc22 : MOV ESI,dword ptr [0x00da98e8]
0073dc28 : CALL 0x008018d0
0073dc2d : ADD ESP,0x8
0073dc30 : MOV EDX,dword ptr [EBP + 0x10]
0073dc33 : XOR ECX,ECX
0073dc35 : CMP byte ptr [EDX + 0xa],CL
0073dc38 : JMP 0x0073dd73
0073dc3d : MOV ESI,dword ptr [EDI + 0xd0]
0073dc43 : MOV EDX,dword ptr [EBP + 0x8]
0073dc46 : CMP ESI,dword ptr [EDX + 0x148]
0073dc4c : JZ 0x0073dd32
0073dc52 : MOV EBX,dword ptr [EAX + 0x1c]
0073dc55 : CALL 0x0077c620
0073dc5a : MOV dword ptr [EDI + 0x44],0x0
0073dc61 : MOV EAX,dword ptr [EBX]
0073dc63 : MOV ECX,dword ptr [EAX + 0x108]
0073dc69 : PUSH EBX
0073dc6a : CALL ECX
0073dc6c : MOV [0x00da9b18],EAX
0073dc71 : TEST EAX,EAX
0073dc73 : JGE 0x0073dc89
0073dc75 : MOV ESI,dword ptr [0x00da98e8]
0073dc7b : PUSH EAX
0073dc7c : PUSH 0xc07910
0073dc81 : CALL 0x008018d0
0073dc86 : ADD ESP,0x8
0073dc89 : MOV EDX,dword ptr [EBX]
0073dc8b : MOV EAX,dword ptr [EDX + 0x10c]
0073dc91 : PUSH EBX
0073dc92 : CALL EAX
0073dc94 : MOV [0x00da9b18],EAX
0073dc99 : TEST EAX,EAX
0073dc9b : JGE 0x0073dcb1
0073dc9d : MOV ESI,dword ptr [0x00da98e8]
0073dca3 : PUSH EAX
0073dca4 : PUSH 0xc07990
0073dca9 : CALL 0x008018d0
0073dcae : ADD ESP,0x8
0073dcb1 : MOV ECX,dword ptr [EBP + 0x8]
0073dcb4 : MOV EDX,dword ptr [ECX + 0x148]
0073dcba : MOV ESI,dword ptr [0x01725204]
0073dcc0 : PUSH EDX
0073dcc1 : CALL 0x007bfcc0
0073dcc6 : MOV dword ptr [EDI + 0x14],EAX
0073dcc9 : TEST EAX,EAX
0073dccb : JZ 0x0073dbbb
0073dcd1 : MOV ECX,dword ptr [EBP + 0xc]
0073dcd4 : MOV EAX,dword ptr [EDI]
0073dcd6 : MOV EDX,dword ptr [EAX + 0x38]
0073dcd9 : PUSH ECX
0073dcda : MOV ECX,EDI
0073dcdc : CALL EDX
0073dcde : MOV EAX,dword ptr [EBX]
0073dce0 : MOV ECX,dword ptr [EAX + 0xe8]
0073dce6 : PUSH 0xc06ca4
0073dceb : PUSH EBX
0073dcec : CALL ECX
0073dcee : MOV [0x00da9b18],EAX
0073dcf3 : TEST EAX,EAX
0073dcf5 : JGE 0x0073dd0b
0073dcf7 : MOV ESI,dword ptr [0x00da98e8]
0073dcfd : PUSH EAX
0073dcfe : PUSH 0xc07a08
0073dd03 : CALL 0x008018d0
0073dd08 : ADD ESP,0x8
0073dd0b : MOV EDX,dword ptr [EBX]
0073dd0d : MOV EAX,dword ptr [EDX + 0xfc]
0073dd13 : PUSH 0x0
0073dd15 : PUSH 0x0
0073dd17 : PUSH EBX
0073dd18 : CALL EAX
0073dd1a : MOV [0x00da9b18],EAX
0073dd1f : TEST EAX,EAX
0073dd21 : JGE 0x0073dc30
0073dd27 : PUSH EAX
0073dd28 : PUSH 0xc07ab8
0073dd2d : JMP 0x0073dc22
0073dd32 : MOV ESI,dword ptr [EDI + 0xd4]
0073dd38 : CMP ESI,dword ptr [EDX + 0x14c]
0073dd3e : JZ 0x0073dd77
0073dd40 : MOV EAX,dword ptr [EAX + 0x1c]
0073dd43 : MOV ECX,dword ptr [EAX]
0073dd45 : MOV EDX,dword ptr [ECX + 0x108]
0073dd4b : PUSH EAX
0073dd4c : CALL EDX
0073dd4e : MOV [0x00da9b18],EAX
0073dd53 : TEST EAX,EAX
0073dd55 : JGE 0x0073dd6b
0073dd57 : MOV ESI,dword ptr [0x00da98e8]
0073dd5d : PUSH EAX
0073dd5e : PUSH 0xc07b38
0073dd63 : CALL 0x008018d0
0073dd68 : ADD ESP,0x8
0073dd6b : MOV EAX,dword ptr [EBP + 0x10]
0073dd6e : XOR ECX,ECX
0073dd70 : CMP byte ptr [EAX + 0xa],CL
0073dd73 : SETNZ CL
0073dd76 : INC ECX
0073dd77 : MOV EDX,dword ptr [EDI + 0x14]
0073dd7a : MOV EAX,dword ptr [EDX + 0x1c]
0073dd7d : MOV EDX,dword ptr [EAX]
0073dd7f : PUSH ECX
0073dd80 : PUSH EAX
0073dd81 : MOV EAX,dword ptr [EDX + 0x100]
0073dd87 : CALL EAX
0073dd89 : MOV [0x00da9b18],EAX
0073dd8e : TEST EAX,EAX
0073dd90 : JGE 0x0073dda6
0073dd92 : MOV ESI,dword ptr [0x00da98e8]
0073dd98 : PUSH EAX
0073dd99 : PUSH 0xc07bc0
0073dd9e : CALL 0x008018d0
0073dda3 : ADD ESP,0x8
0073dda6 : POP EDI
0073dda7 : POP ESI
0073dda8 : MOV AL,0x1
0073ddaa : POP EBX
0073ddab : POP EBP
0073ddac : RET 0xc
