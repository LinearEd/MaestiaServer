PROGRAM  : Maestia.exe
FUNCTION : FUN_007d2bc0
ENTRY    : 007d2bc0
BODY     : [[007d2bc0, 007d2e2a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d2bc0(undefined4 param_1,uint param_2)

{
  void **ppvVar1;
  uint uVar2;
  int iVar3;
  int *unaff_ESI;
  undefined4 *puVar4;
  undefined1 local_44 [4];
  undefined2 local_40;
  undefined4 local_30;
  uint local_2c;
  int local_28;
  uint local_24;
  int local_20;
  undefined4 *local_1c;
  int local_18;
  char local_11;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3c921;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_18 = param_2 - 8;
  ppvVar1 = &local_10;
  local_10 = ExceptionList;
  do {
    ExceptionList = ppvVar1;
    if (local_18 < 1) {
      ExceptionList = local_10;
      return;
    }
    local_20 = (**(code **)(*unaff_ESI + 0xc))(&local_28,4,1,uVar2);
    iVar3 = (**(code **)(*unaff_ESI + 0xc))(&local_24,4,1);
    local_20 = local_20 + iVar3;
    if (local_28 == 0x50531000) {
      param_2 = FUN_006f0760(0x250,".\\Resource\\AvaMeshData.cpp",0xd3,0);
      local_8 = 0;
      if (param_2 == 0) {
        iVar3 = 0;
      }
      else {
        iVar3 = FUN_007d04b0(param_2);
      }
      local_8 = 0xffffffff;
      local_11 = '\0';
      (**(code **)(*unaff_ESI + 0xc))(&local_11,1,1);
      if (local_11 == '\x02') {
        *(undefined4 *)(iVar3 + 0x54) = 2;
      }
      FUN_007d2200(param_1,local_24 - 1);
      FUN_007d1070(iVar3);
    }
    else if (local_28 == 0x50541000) {
      param_2 = param_2 & 0xffffff;
      (**(code **)(*unaff_ESI + 0xc))((int)&param_2 + 3,1,1);
      local_1c = (undefined4 *)FUN_006f0760(0x1c,"",0,(DAT_01725270 >> 3 & 1) == 0);
      if (local_1c == (undefined4 *)0x0) {
        puVar4 = (undefined4 *)0x0;
      }
      else {
        *local_1c = &PTR_FUN_00cd8174;
        *(undefined2 *)(local_1c + 1) = 0;
        *(undefined2 *)((int)local_1c + 6) = 0;
        local_1c[2] = 0;
        local_1c[3] = 0;
        local_1c[5] = 0;
        local_1c[4] = 0;
        *(undefined1 *)(local_1c + 6) = 0;
        *(undefined1 *)((int)local_1c + 0x19) = 1;
        puVar4 = local_1c;
      }
      local_8 = 0xffffffff;
      FUN_007d1da0(local_24 - 1);
      if (param_2._3_1_ == '\x01') {
        FUN_007d1c40(puVar4);
      }
      else if (param_2._3_1_ == '\x02') {
        FUN_007d1bf0(puVar4);
      }
      else {
        local_2c = 7;
        local_30 = 0;
        local_40 = 0;
        FUN_00406360(L"[AvaMeshData::ReadMeshList] invaild index NFMesh",0x30);
        local_8 = 2;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"AvaLib::AvaMeshData::ReadMeshList",0xf8,local_44);
        }
        local_8 = 0xffffffff;
        if (7 < local_2c) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_2c = 7;
        local_30 = 0;
        local_40 = 0;
        if (puVar4 != (undefined4 *)0x0) {
          (**(code **)*puVar4)(1);
        }
      }
    }
    else {
      if (0x6400000 < local_24) {
        ExceptionList = local_10;
        return;
      }
      (**(code **)(*unaff_ESI + 0x24))(local_24);
    }
    local_18 = local_18 - local_24;
    ppvVar1 = ExceptionList;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
007d2bc0 : PUSH EBP
007d2bc1 : MOV EBP,ESP
007d2bc3 : PUSH -0x1
007d2bc5 : PUSH 0xb3c921
007d2bca : MOV EAX,FS:[0x0]
007d2bd0 : PUSH EAX
007d2bd1 : SUB ESP,0x38
007d2bd4 : PUSH EBX
007d2bd5 : PUSH EDI
007d2bd6 : MOV EAX,[0x00d66fa0]
007d2bdb : XOR EAX,EBP
007d2bdd : PUSH EAX
007d2bde : LEA EAX,[EBP + -0xc]
007d2be1 : MOV FS:[0x0],EAX
007d2be7 : MOV EAX,dword ptr [EBP + 0xc]
007d2bea : ADD EAX,-0x8
007d2bed : XOR EBX,EBX
007d2bef : CMP EAX,EBX
007d2bf1 : MOV dword ptr [EBP + -0x14],EAX
007d2bf4 : JLE 0x007d2e18
007d2bfa : LEA EBX,[EBX]
007d2c00 : MOV EAX,dword ptr [ESI]
007d2c02 : MOV EDX,dword ptr [EAX + 0xc]
007d2c05 : PUSH 0x1
007d2c07 : PUSH 0x4
007d2c09 : LEA ECX,[EBP + -0x24]
007d2c0c : PUSH ECX
007d2c0d : MOV ECX,ESI
007d2c0f : CALL EDX
007d2c11 : PUSH 0x1
007d2c13 : MOV dword ptr [EBP + -0x1c],EAX
007d2c16 : MOV EAX,dword ptr [ESI]
007d2c18 : MOV EDX,dword ptr [EAX + 0xc]
007d2c1b : PUSH 0x4
007d2c1d : LEA ECX,[EBP + -0x20]
007d2c20 : PUSH ECX
007d2c21 : MOV ECX,ESI
007d2c23 : CALL EDX
007d2c25 : ADD dword ptr [EBP + -0x1c],EAX
007d2c28 : MOV EAX,dword ptr [EBP + -0x24]
007d2c2b : CMP EAX,0x50531000
007d2c30 : JZ 0x007d2d94
007d2c36 : CMP EAX,0x50541000
007d2c3b : JZ 0x007d2c5a
007d2c3d : MOV EAX,dword ptr [EBP + -0x20]
007d2c40 : CMP EAX,0x6400000
007d2c45 : JA 0x007d2e18
007d2c4b : MOV EDX,dword ptr [ESI]
007d2c4d : PUSH EAX
007d2c4e : MOV EAX,dword ptr [EDX + 0x24]
007d2c51 : MOV ECX,ESI
007d2c53 : CALL EAX
007d2c55 : JMP 0x007d2e07
007d2c5a : MOV EDX,dword ptr [ESI]
007d2c5c : MOV EDX,dword ptr [EDX + 0xc]
007d2c5f : PUSH 0x1
007d2c61 : PUSH 0x1
007d2c63 : LEA EAX,[EBP + 0xf]
007d2c66 : PUSH EAX
007d2c67 : MOV ECX,ESI
007d2c69 : MOV byte ptr [EBP + 0xf],0x0
007d2c6d : CALL EDX
007d2c6f : MOV EAX,[0x01725270]
007d2c74 : SHR EAX,0x3
007d2c77 : MOV ECX,0x0
007d2c7c : AND EAX,0x1
007d2c7f : SETZ CL
007d2c82 : PUSH ECX
007d2c83 : PUSH EBX
007d2c84 : PUSH 0xbf1a4a
007d2c89 : PUSH 0x1c
007d2c8b : CALL 0x006f0760
007d2c90 : ADD ESP,0x10
007d2c93 : MOV dword ptr [EBP + -0x18],EAX
007d2c96 : MOV dword ptr [EBP + -0x4],0x1
007d2c9d : CMP EAX,EBX
007d2c9f : JZ 0x007d2cca
007d2ca1 : XOR EDX,EDX
007d2ca3 : XOR ECX,ECX
007d2ca5 : MOV dword ptr [EAX],0xcd8174
007d2cab : MOV word ptr [EAX + 0x4],DX
007d2caf : MOV word ptr [EAX + 0x6],CX
007d2cb3 : MOV dword ptr [EAX + 0x8],EBX
007d2cb6 : MOV dword ptr [EAX + 0xc],EBX
007d2cb9 : MOV dword ptr [EAX + 0x14],EBX
007d2cbc : MOV dword ptr [EAX + 0x10],EBX
007d2cbf : MOV byte ptr [EAX + 0x18],CL
007d2cc2 : MOV byte ptr [EAX + 0x19],0x1
007d2cc6 : MOV EDI,EAX
007d2cc8 : JMP 0x007d2ccc
007d2cca : XOR EDI,EDI
007d2ccc : MOV dword ptr [EBP + -0x4],0xffffffff
007d2cd3 : MOV EAX,dword ptr [EBP + -0x20]
007d2cd6 : DEC EAX
007d2cd7 : PUSH EAX
007d2cd8 : MOV EAX,EDI
007d2cda : MOV ECX,ESI
007d2cdc : CALL 0x007d1da0
007d2ce1 : MOVZX EAX,byte ptr [EBP + 0xf]
007d2ce5 : SUB EAX,0x1
007d2ce8 : JZ 0x007d2d89
007d2cee : SUB EAX,0x1
007d2cf1 : JZ 0x007d2d7e
007d2cf7 : PUSH 0x30
007d2cf9 : XOR EDX,EDX
007d2cfb : MOV EBX,0x7
007d2d00 : PUSH 0xc1fb50
007d2d05 : LEA ECX,[EBP + -0x40]
007d2d08 : MOV dword ptr [EBP + -0x28],EBX
007d2d0b : MOV dword ptr [EBP + -0x2c],0x0
007d2d12 : MOV word ptr [EBP + -0x3c],DX
007d2d16 : CALL 0x00406360
007d2d1b : MOV dword ptr [EBP + -0x4],0x2
007d2d22 : MOV EAX,[0x00da98e8]
007d2d27 : MOV ECX,dword ptr [EAX]
007d2d29 : TEST ECX,ECX
007d2d2b : JZ 0x007d2d42
007d2d2d : MOV EDX,dword ptr [ECX]
007d2d2f : MOV EDX,dword ptr [EDX + 0x14]
007d2d32 : LEA EAX,[EBP + -0x40]
007d2d35 : PUSH EAX
007d2d36 : PUSH 0xf8
007d2d3b : PUSH 0xc1fbb8
007d2d40 : CALL EDX
007d2d42 : MOV dword ptr [EBP + -0x4],0xffffffff
007d2d49 : CMP dword ptr [EBP + -0x28],0x8
007d2d4d : JC 0x007d2d57
007d2d4f : MOV ECX,dword ptr [EBP + -0x3c]
007d2d52 : CALL 0x006f04e0
007d2d57 : XOR EAX,EAX
007d2d59 : MOV dword ptr [EBP + -0x28],EBX
007d2d5c : MOV dword ptr [EBP + -0x2c],0x0
007d2d63 : MOV word ptr [EBP + -0x3c],AX
007d2d67 : TEST EDI,EDI
007d2d69 : JZ 0x007d2e05
007d2d6f : MOV EDX,dword ptr [EDI]
007d2d71 : MOV EAX,dword ptr [EDX]
007d2d73 : PUSH 0x1
007d2d75 : MOV ECX,EDI
007d2d77 : CALL EAX
007d2d79 : JMP 0x007d2e05
007d2d7e : MOV EAX,dword ptr [EBP + 0x8]
007d2d81 : PUSH EDI
007d2d82 : CALL 0x007d1bf0
007d2d87 : JMP 0x007d2e07
007d2d89 : MOV EAX,dword ptr [EBP + 0x8]
007d2d8c : PUSH EDI
007d2d8d : CALL 0x007d1c40
007d2d92 : JMP 0x007d2e07
007d2d94 : PUSH EBX
007d2d95 : PUSH 0xd3
007d2d9a : PUSH 0xc1fad4
007d2d9f : PUSH 0x250
007d2da4 : CALL 0x006f0760
007d2da9 : ADD ESP,0x10
007d2dac : MOV dword ptr [EBP + 0xc],EAX
007d2daf : MOV dword ptr [EBP + -0x4],EBX
007d2db2 : CMP EAX,EBX
007d2db4 : JZ 0x007d2dc0
007d2db6 : PUSH EAX
007d2db7 : CALL 0x007d04b0
007d2dbc : MOV EDI,EAX
007d2dbe : JMP 0x007d2dc2
007d2dc0 : XOR EDI,EDI
007d2dc2 : MOV dword ptr [EBP + -0x4],0xffffffff
007d2dc9 : MOV EDX,dword ptr [ESI]
007d2dcb : MOV EDX,dword ptr [EDX + 0xc]
007d2dce : PUSH 0x1
007d2dd0 : PUSH 0x1
007d2dd2 : LEA EAX,[EBP + -0xd]
007d2dd5 : PUSH EAX
007d2dd6 : MOV ECX,ESI
007d2dd8 : MOV byte ptr [EBP + -0xd],0x0
007d2ddc : CALL EDX
007d2dde : MOV EAX,0x2
007d2de3 : CMP byte ptr [EBP + -0xd],AL
007d2de6 : JNZ 0x007d2deb
007d2de8 : MOV dword ptr [EDI + 0x54],EAX
007d2deb : MOV EAX,dword ptr [EBP + -0x20]
007d2dee : MOV EBX,dword ptr [EBP + 0x8]
007d2df1 : DEC EAX
007d2df2 : PUSH EAX
007d2df3 : PUSH EBX
007d2df4 : MOV EDX,EDI
007d2df6 : MOV ECX,ESI
007d2df8 : CALL 0x007d2200
007d2dfd : PUSH EDI
007d2dfe : MOV EDI,EBX
007d2e00 : CALL 0x007d1070
007d2e05 : XOR EBX,EBX
007d2e07 : MOV EAX,dword ptr [EBP + -0x14]
007d2e0a : SUB EAX,dword ptr [EBP + -0x20]
007d2e0d : CMP EAX,EBX
007d2e0f : MOV dword ptr [EBP + -0x14],EAX
007d2e12 : JG 0x007d2c00
007d2e18 : MOV ECX,dword ptr [EBP + -0xc]
007d2e1b : MOV dword ptr FS:[0x0],ECX
007d2e22 : POP ECX
007d2e23 : POP EDI
007d2e24 : POP EBX
007d2e25 : MOV ESP,EBP
007d2e27 : POP EBP
007d2e28 : RET 0x8
