PROGRAM  : Maestia.exe
FUNCTION : FUN_0054f340
ENTRY    : 0054f340
BODY     : [[0054f340, 0054f3aa]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_0054f340(undefined4 *param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  int *in_ECX;
  uint *puVar3;
  
  iVar1 = *in_ECX;
  puVar3 = (uint *)(iVar1 + 8 + param_2 * 0x18);
  if ((*(int *)(iVar1 + 8 + param_2 * 0x18) != -2) &&
     (uVar2 = param_2, (*(uint *)(puVar3[1] + 0xc) & *(uint *)(iVar1 + 4)) == param_2)) {
    while (((*(uint *)(puVar3[1] + 0xc) & *(uint *)(iVar1 + 4)) != param_2 ||
           (puVar3[1] != *(uint *)*param_1))) {
      uVar2 = *puVar3;
      if (uVar2 == 0xffffffff) {
        return 0xffffffff;
      }
      puVar3 = (uint *)(iVar1 + 8 + uVar2 * 0x18);
    }
    return uVar2;
  }
  return 0xffffffff;
}



============================================================
DISASSEMBLY
============================================================
0054f340 : PUSH EBX
0054f341 : PUSH ESI
0054f342 : MOV ESI,dword ptr [ESP + 0x10]
0054f346 : PUSH EDI
0054f347 : MOV EDI,dword ptr [ECX]
0054f349 : LEA ECX,[ESI + ESI*0x2]
0054f34c : CMP dword ptr [EDI + ECX*0x8 + 0x8],-0x2
0054f351 : LEA ECX,[EDI + ECX*0x8 + 0x8]
0054f355 : MOV EAX,ESI
0054f357 : JZ 0x0054f3a2
0054f359 : MOV EDX,dword ptr [ECX + 0x4]
0054f35c : MOV EBX,dword ptr [EDI + 0x4]
0054f35f : MOV EDX,dword ptr [EDX + 0xc]
0054f362 : AND EDX,EBX
0054f364 : CMP EDX,ESI
0054f366 : JNZ 0x0054f3a2
0054f368 : PUSH EBP
0054f369 : LEA ESP,[ESP]
0054f370 : MOV EDX,dword ptr [ECX + 0x4]
0054f373 : MOV EBP,dword ptr [EDX + 0xc]
0054f376 : AND EBP,EBX
0054f378 : CMP EBP,ESI
0054f37a : JNZ 0x0054f388
0054f37c : MOV EBP,dword ptr [ESP + 0x14]
0054f380 : MOV EBP,dword ptr [EBP]
0054f383 : CMP EDX,dword ptr [EBP]
0054f386 : JZ 0x0054f39b
0054f388 : MOV EAX,dword ptr [ECX]
0054f38a : CMP EAX,-0x1
0054f38d : JZ 0x0054f398
0054f38f : LEA ECX,[EAX + EAX*0x2]
0054f392 : LEA ECX,[EDI + ECX*0x8 + 0x8]
0054f396 : JMP 0x0054f370
0054f398 : OR EAX,0xffffffff
0054f39b : POP EBP
0054f39c : POP EDI
0054f39d : POP ESI
0054f39e : POP EBX
0054f39f : RET 0x8
0054f3a2 : POP EDI
0054f3a3 : POP ESI
0054f3a4 : OR EAX,0xffffffff
0054f3a7 : POP EBX
0054f3a8 : RET 0x8
