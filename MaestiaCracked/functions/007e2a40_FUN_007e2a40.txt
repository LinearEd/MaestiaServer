PROGRAM  : Maestia.exe
FUNCTION : FUN_007e2a40
ENTRY    : 007e2a40
BODY     : [[007e2a40, 007e2b34]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007e2a40(int param_1,int param_2)

{
  int iVar1;
  int *piVar2;
  undefined4 *in_EAX;
  uint uVar3;
  uint uVar4;
  int local_1c;
  uint local_18;
  int local_14;
  int local_10;
  int local_c;
  uint local_8;
  
  FUN_007de700(*in_EAX,in_EAX[2],&local_c);
  local_18 = local_c - 1;
  local_10 = -1;
  do {
    uVar3 = local_10 + local_14;
    local_c = 3;
    uVar4 = local_18;
    local_8 = uVar3;
    do {
      iVar1 = *(int *)(param_1 + 0x9c);
      if (((iVar1 != 0) && (uVar3 < *(uint *)(iVar1 + 0x60))) && (uVar4 < *(uint *)(iVar1 + 0x5c)))
      {
        if ((uVar3 < *(uint *)(param_1 + 0x16c)) && (uVar4 < *(uint *)(param_1 + 0x170))) {
          local_1c = (*(uint *)(param_1 + 0x170) * uVar3 + uVar4) * 0x2df8 +
                     *(int *)(param_1 + 0x88);
        }
        else {
          local_1c = 0;
        }
        if (local_1c != 0) {
          iVar1 = *(int *)(param_2 + 4);
          if (iVar1 == 0) {
            uVar3 = 0;
          }
          else {
            uVar3 = *(int *)(param_2 + 0xc) - iVar1 >> 2;
          }
          piVar2 = *(int **)(param_2 + 8);
          if ((uint)((int)piVar2 - iVar1 >> 2) < uVar3) {
            *piVar2 = local_1c;
            *(int **)(param_2 + 8) = piVar2 + 1;
            uVar3 = local_8;
          }
          else {
            FUN_004d2c60(param_2,piVar2,&local_1c);
            uVar3 = local_8;
          }
        }
      }
      uVar4 = uVar4 + 1;
      local_c = local_c + -1;
    } while (local_c != 0);
    local_10 = local_10 + 1;
  } while (local_10 < 2);
  return;
}



============================================================
DISASSEMBLY
============================================================
007e2a40 : PUSH EBP
007e2a41 : MOV EBP,ESP
007e2a43 : SUB ESP,0x1c
007e2a46 : FLD float ptr [EAX + 0x8]
007e2a49 : PUSH EBX
007e2a4a : MOV EBX,dword ptr [EBP + 0xc]
007e2a4d : PUSH ESI
007e2a4e : PUSH EDI
007e2a4f : LEA ECX,[EBP + -0x8]
007e2a52 : PUSH ECX
007e2a53 : MOV ECX,dword ptr [EBP + 0x8]
007e2a56 : SUB ESP,0x8
007e2a59 : FSTP float ptr [ESP + 0x4]
007e2a5d : LEA ESI,[EBP + -0x10]
007e2a60 : FLD float ptr [EAX]
007e2a62 : FSTP float ptr [ESP]
007e2a65 : CALL 0x007de700
007e2a6a : MOV EAX,dword ptr [EBP + -0x8]
007e2a6d : OR EDX,0xffffffff
007e2a70 : DEC EAX
007e2a71 : MOV dword ptr [EBP + -0xc],EDX
007e2a74 : MOV dword ptr [EBP + -0x14],EAX
007e2a77 : MOV ECX,dword ptr [EBP + -0x10]
007e2a7a : MOV EDI,dword ptr [EBP + -0x14]
007e2a7d : ADD EDX,ECX
007e2a7f : MOV dword ptr [EBP + -0x4],EDX
007e2a82 : MOV dword ptr [EBP + -0x8],0x3
007e2a89 : LEA ESP,[ESP]
007e2a90 : MOV ECX,dword ptr [EBP + 0x8]
007e2a93 : MOV EAX,dword ptr [ECX + 0x9c]
007e2a99 : TEST EAX,EAX
007e2a9b : JZ 0x007e2b11
007e2a9d : CMP EDX,dword ptr [EAX + 0x60]
007e2aa0 : JNC 0x007e2b11
007e2aa2 : CMP EDI,dword ptr [EAX + 0x5c]
007e2aa5 : JNC 0x007e2b11
007e2aa7 : CMP EDX,dword ptr [ECX + 0x16c]
007e2aad : JNC 0x007e2acc
007e2aaf : MOV EAX,dword ptr [ECX + 0x170]
007e2ab5 : CMP EDI,EAX
007e2ab7 : JNC 0x007e2acc
007e2ab9 : IMUL EAX,EDX
007e2abc : ADD EAX,EDI
007e2abe : IMUL EAX,EAX,0x2df8
007e2ac4 : ADD EAX,dword ptr [ECX + 0x88]
007e2aca : JMP 0x007e2ace
007e2acc : XOR EAX,EAX
007e2ace : MOV dword ptr [EBP + -0x18],EAX
007e2ad1 : TEST EAX,EAX
007e2ad3 : JZ 0x007e2b11
007e2ad5 : MOV ESI,dword ptr [EBX + 0x4]
007e2ad8 : TEST ESI,ESI
007e2ada : JNZ 0x007e2ae0
007e2adc : XOR ECX,ECX
007e2ade : JMP 0x007e2ae8
007e2ae0 : MOV ECX,dword ptr [EBX + 0xc]
007e2ae3 : SUB ECX,ESI
007e2ae5 : SAR ECX,0x2
007e2ae8 : MOV EDX,dword ptr [EBX + 0x8]
007e2aeb : MOV EBX,EDX
007e2aed : SUB EBX,ESI
007e2aef : SAR EBX,0x2
007e2af2 : CMP EBX,ECX
007e2af4 : MOV EBX,dword ptr [EBP + 0xc]
007e2af7 : JNC 0x007e2b03
007e2af9 : MOV dword ptr [EDX],EAX
007e2afb : ADD EDX,0x4
007e2afe : MOV dword ptr [EBX + 0x8],EDX
007e2b01 : JMP 0x007e2b0e
007e2b03 : LEA EAX,[EBP + -0x18]
007e2b06 : PUSH EAX
007e2b07 : PUSH EDX
007e2b08 : PUSH EBX
007e2b09 : CALL 0x004d2c60
007e2b0e : MOV EDX,dword ptr [EBP + -0x4]
007e2b11 : INC EDI
007e2b12 : SUB dword ptr [EBP + -0x8],0x1
007e2b16 : JNZ 0x007e2a90
007e2b1c : MOV EDX,dword ptr [EBP + -0xc]
007e2b1f : INC EDX
007e2b20 : CMP EDX,0x1
007e2b23 : MOV dword ptr [EBP + -0xc],EDX
007e2b26 : JLE 0x007e2a77
007e2b2c : POP EDI
007e2b2d : POP ESI
007e2b2e : POP EBX
007e2b2f : MOV ESP,EBP
007e2b31 : POP EBP
007e2b32 : RET 0x8
