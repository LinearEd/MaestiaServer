PROGRAM  : Maestia.exe
FUNCTION : FUN_007694d0
ENTRY    : 007694d0
BODY     : [[007694d0, 0076965f]]

============================================================
DECOMPILED C CODE
============================================================

undefined4
FUN_007694d0(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
            undefined4 param_5,undefined4 param_6,undefined4 param_7,char param_8,undefined4 param_9
            )

{
  char cVar1;
  int in_ECX;
  int unaff_EDI;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2780d;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (in_ECX == 0) {
    FUN_008018d0(L"[AvaMergeMeshEntity::_CopySurface] Error lpSrcTex is Null",
                 DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    ExceptionList = local_10;
    return 0;
  }
  if ((unaff_EDI < 0) || (param_8 != '\0')) {
    local_24 = (LPCRITICAL_SECTION)(DAT_017251ac + 0x424);
    local_18 = 0;
    local_20 = ".\\Mesh\\AvaMergeMeshEntity.cpp";
    local_1c = 0x5d0;
    local_14 = 1;
    FUN_006ef1a0(&local_24);
    local_8 = 0;
    cVar1 = FUN_00768ab0(in_ECX,param_2,param_3,param_4,param_5,param_6,param_7,param_9);
    local_8 = 0xffffffff;
    if (local_18 != 0) {
      LeaveCriticalSection(local_24);
    }
    if (cVar1 == '\0') {
      ExceptionList = local_10;
      return 0;
    }
  }
  else {
    local_18 = 0;
    local_24 = (LPCRITICAL_SECTION)(DAT_017251ac + 0x424);
    local_20 = ".\\Mesh\\AvaMergeMeshEntity.cpp";
    local_1c = 0x5e0;
    local_14 = 1;
    FUN_006ef1a0(&local_24);
    local_8 = 1;
    cVar1 = FUN_00768850(in_ECX,param_2,unaff_EDI,param_4,param_5,param_7,param_9);
    local_8 = 0xffffffff;
    if (local_18 != 0) {
      LeaveCriticalSection(local_24);
    }
    if (cVar1 == '\0') {
      ExceptionList = local_10;
      return 0;
    }
  }
  ExceptionList = local_10;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
007694d0 : PUSH EBP
007694d1 : MOV EBP,ESP
007694d3 : PUSH -0x1
007694d5 : PUSH 0xb2780d
007694da : MOV EAX,FS:[0x0]
007694e0 : PUSH EAX
007694e1 : SUB ESP,0x14
007694e4 : PUSH EBX
007694e5 : PUSH ESI
007694e6 : MOV EAX,[0x00d66fa0]
007694eb : XOR EAX,EBP
007694ed : PUSH EAX
007694ee : LEA EAX,[EBP + -0xc]
007694f1 : MOV FS:[0x0],EAX
007694f7 : MOV EBX,dword ptr [EBP + 0x28]
007694fa : MOV ESI,ECX
007694fc : XOR EAX,EAX
007694fe : CMP ESI,EAX
00769500 : JNZ 0x0076952a
00769502 : MOV ESI,dword ptr [0x00da98e8]
00769508 : PUSH 0xc0df20
0076950d : CALL 0x008018d0
00769512 : ADD ESP,0x4
00769515 : XOR AL,AL
00769517 : MOV ECX,dword ptr [EBP + -0xc]
0076951a : MOV dword ptr FS:[0x0],ECX
00769521 : POP ECX
00769522 : POP ESI
00769523 : POP EBX
00769524 : MOV ESP,EBP
00769526 : POP EBP
00769527 : RET 0x24
0076952a : CMP EDI,EAX
0076952c : JL 0x007695c8
00769532 : CMP byte ptr [EBP + 0x24],AL
00769535 : JNZ 0x007695c8
0076953b : MOV dword ptr [EBP + -0x14],EAX
0076953e : MOV EAX,[0x017251ac]
00769543 : LEA ECX,[EBP + -0x20]
00769546 : ADD EAX,0x424
0076954b : PUSH ECX
0076954c : MOV dword ptr [EBP + -0x20],EAX
0076954f : MOV dword ptr [EBP + -0x1c],0xc0dfb4
00769556 : MOV dword ptr [EBP + -0x18],0x5e0
0076955d : MOV dword ptr [EBP + -0x10],0x1
00769564 : CALL 0x006ef1a0
00769569 : MOV dword ptr [EBP + -0x4],0x1
00769570 : MOV EDX,dword ptr [EBP + 0x20]
00769573 : MOV EAX,dword ptr [EBP + 0x18]
00769576 : MOV ECX,dword ptr [EBP + 0x14]
00769579 : PUSH EBX
0076957a : PUSH EDX
0076957b : MOV EDX,dword ptr [EBP + 0xc]
0076957e : PUSH EAX
0076957f : PUSH ECX
00769580 : MOV ECX,dword ptr [EBP + 0x8]
00769583 : PUSH EDI
00769584 : PUSH EDX
00769585 : PUSH ESI
00769586 : CALL 0x00768850
0076958b : MOV BL,AL
0076958d : MOV dword ptr [EBP + -0x4],0xffffffff
00769594 : CMP dword ptr [EBP + -0x14],0x0
00769598 : JZ 0x007695ab
0076959a : MOV EAX,dword ptr [EBP + -0x20]
0076959d : PUSH EAX
0076959e : CALL dword ptr [0x00b8511c]
007695a4 : MOV dword ptr [EBP + -0x14],0x0
007695ab : TEST BL,BL
007695ad : JNZ 0x0076964b
007695b3 : XOR AL,AL
007695b5 : MOV ECX,dword ptr [EBP + -0xc]
007695b8 : MOV dword ptr FS:[0x0],ECX
007695bf : POP ECX
007695c0 : POP ESI
007695c1 : POP EBX
007695c2 : MOV ESP,EBP
007695c4 : POP EBP
007695c5 : RET 0x24
007695c8 : MOV ECX,dword ptr [0x017251ac]
007695ce : LEA EDX,[EBP + -0x20]
007695d1 : ADD ECX,0x424
007695d7 : PUSH EDX
007695d8 : MOV dword ptr [EBP + -0x14],EAX
007695db : MOV dword ptr [EBP + -0x20],ECX
007695de : MOV dword ptr [EBP + -0x1c],0xc0df94
007695e5 : MOV dword ptr [EBP + -0x18],0x5d0
007695ec : MOV dword ptr [EBP + -0x10],0x1
007695f3 : CALL 0x006ef1a0
007695f8 : MOV dword ptr [EBP + -0x4],0x0
007695ff : MOV EAX,dword ptr [EBP + 0x20]
00769602 : MOV ECX,dword ptr [EBP + 0x1c]
00769605 : MOV EDX,dword ptr [EBP + 0x18]
00769608 : PUSH EBX
00769609 : PUSH EAX
0076960a : MOV EAX,dword ptr [EBP + 0x14]
0076960d : PUSH ECX
0076960e : MOV ECX,dword ptr [EBP + 0x10]
00769611 : PUSH EDX
00769612 : MOV EDX,dword ptr [EBP + 0xc]
00769615 : PUSH EAX
00769616 : PUSH ECX
00769617 : MOV ECX,dword ptr [EBP + 0x8]
0076961a : PUSH EDX
0076961b : PUSH ESI
0076961c : MOV EDX,EDI
0076961e : CALL 0x00768ab0
00769623 : MOV BL,AL
00769625 : MOV dword ptr [EBP + -0x4],0xffffffff
0076962c : CMP dword ptr [EBP + -0x14],0x0
00769630 : JZ 0x00769643
00769632 : MOV EAX,dword ptr [EBP + -0x20]
00769635 : PUSH EAX
00769636 : CALL dword ptr [0x00b8511c]
0076963c : MOV dword ptr [EBP + -0x14],0x0
00769643 : TEST BL,BL
00769645 : JZ 0x00769515
0076964b : MOV AL,0x1
0076964d : MOV ECX,dword ptr [EBP + -0xc]
00769650 : MOV dword ptr FS:[0x0],ECX
00769657 : POP ECX
00769658 : POP ESI
00769659 : POP EBX
0076965a : MOV ESP,EBP
0076965c : POP EBP
0076965d : RET 0x24
