PROGRAM  : Maestia.exe
FUNCTION : FUN_005f8f40
ENTRY    : 005f8f40
BODY     : [[005f8f40, 005f8fba]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_005f8f40(int *param_1)

{
  uint uVar1;
  int iVar2;
  uint *in_ECX;
  
  if (in_ECX[1] <= *in_ECX) {
    FUN_005f8e00(*in_ECX + 0x10,0);
  }
  uVar1 = *in_ECX;
  if (uVar1 < in_ECX[1]) {
    *in_ECX = uVar1 + 1;
    iVar2 = *(int *)(in_ECX[3] + 8);
    *param_1 = uVar1 * *(int *)(in_ECX[3] + 4) + in_ECX[2];
    param_1[1] = iVar2;
    return;
  }
  if ((_DAT_00d7b3a0 & 1) == 0) {
    _DAT_00d7b3a0 = _DAT_00d7b3a0 | 1;
    _DAT_00d7b39c = &PTR_LAB_00b95678;
    _atexit((_func_4879 *)&LAB_00b84d70);
  }
  *param_1 = 0;
  param_1[1] = (int)&DAT_00d7b39c;
  return;
}



============================================================
DISASSEMBLY
============================================================
005f8f40 : PUSH ESI
005f8f41 : MOV ESI,ECX
005f8f43 : MOV EAX,dword ptr [ESI]
005f8f45 : CMP dword ptr [ESI + 0x4],EAX
005f8f48 : JA 0x005f8f55
005f8f4a : PUSH 0x0
005f8f4c : ADD EAX,0x10
005f8f4f : PUSH EAX
005f8f50 : CALL 0x005f8e00
005f8f55 : MOV EAX,dword ptr [ESI]
005f8f57 : CMP dword ptr [ESI + 0x4],EAX
005f8f5a : JBE 0x005f8f7c
005f8f5c : MOV ECX,dword ptr [ESI + 0xc]
005f8f5f : INC EAX
005f8f60 : MOV dword ptr [ESI],EAX
005f8f62 : DEC EAX
005f8f63 : MOV EDX,EAX
005f8f65 : IMUL EDX,dword ptr [ECX + 0x4]
005f8f69 : ADD EDX,dword ptr [ESI + 0x8]
005f8f6c : MOV EAX,dword ptr [ESP + 0x8]
005f8f70 : MOV ECX,dword ptr [ECX + 0x8]
005f8f73 : MOV dword ptr [EAX],EDX
005f8f75 : MOV dword ptr [EAX + 0x4],ECX
005f8f78 : POP ESI
005f8f79 : RET 0x4
005f8f7c : MOV EAX,0x1
005f8f81 : TEST byte ptr [0x00d7b3a0],AL
005f8f87 : JNZ 0x005f8fa6
005f8f89 : OR dword ptr [0x00d7b3a0],EAX
005f8f8f : PUSH 0xb84d70
005f8f94 : MOV dword ptr [0x00d7b39c],0xb95678
005f8f9e : CALL 0x006356bc
005f8fa3 : ADD ESP,0x4
005f8fa6 : MOV EAX,dword ptr [ESP + 0x8]
005f8faa : MOV dword ptr [EAX],0x0
005f8fb0 : MOV dword ptr [EAX + 0x4],0xd7b39c
005f8fb7 : POP ESI
005f8fb8 : RET 0x4
