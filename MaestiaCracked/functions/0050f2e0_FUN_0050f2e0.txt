PROGRAM  : Maestia.exe
FUNCTION : FUN_0050f2e0
ENTRY    : 0050f2e0
BODY     : [[0050f2e0, 0050f439]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0050f2e0(undefined4 param_1)

{
  int iVar1;
  int *in_ECX;
  int iStack_2c;
  int iStack_28;
  undefined4 uStack_24;
  undefined1 auStack_20 [4];
  undefined4 uStack_1c;
  undefined1 auStack_10 [4];
  undefined4 uStack_c;
  
  iVar1 = (**(code **)(*in_ECX + 0x40))();
  if (((iVar1 != 0) && (iVar1 = *(int *)(in_ECX[0x28] + 0x118), iVar1 != 0)) &&
     (((*(byte *)(iVar1 + 0x68) & 1) == 0 || ((*(byte *)(iVar1 + 0x68) >> 1 & 1) != 0)))) {
    iStack_2c = 0;
    iStack_28 = 0;
    uStack_24 = 0;
    auStack_20[0] = 4;
    uStack_1c = 2;
    FUN_005034e0(&iStack_2c,1);
    iVar1 = iStack_28;
    if (iStack_28 * 0x10 + -0x10 + iStack_2c != 0) {
      FUN_005266c0(auStack_20);
    }
    FUN_00526bc0();
    uStack_c = param_1;
    auStack_10[0] = 4;
    FUN_005034e0(&iStack_2c,iVar1 + 1);
    if (iStack_28 * 0x10 + -0x10 + iStack_2c != 0) {
      FUN_005266c0(auStack_10);
    }
    FUN_00526bc0();
    iVar1 = FUN_00571c40(4);
    *(undefined4 *)(iVar1 + 4) = 4;
    in_ECX[1] = in_ECX[1] + 1;
    if (*(GRefCountNTSImpl **)(iVar1 + 8) != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(iVar1 + 8));
    }
    *(int **)(iVar1 + 8) = in_ECX;
    if (*(GRefCountNTSImpl **)(iVar1 + 0xc) != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(iVar1 + 0xc));
    }
    *(undefined4 *)(iVar1 + 0xc) = 0;
    *(undefined1 **)(iVar1 + 0x2c) = &LAB_0050c550;
    FUN_00504fd0(&iStack_2c);
    for (iVar1 = iStack_28; iVar1 != 0; iVar1 = iVar1 + -1) {
      FUN_00526bc0();
    }
    FUN_00515cf0(iStack_2c);
  }
  return 1;
}



============================================================
DISASSEMBLY
============================================================
0050f2e0 : SUB ESP,0x34
0050f2e3 : PUSH EBP
0050f2e4 : PUSH EDI
0050f2e5 : MOV EDI,ECX
0050f2e7 : MOV EAX,dword ptr [EDI]
0050f2e9 : MOV EDX,dword ptr [EAX + 0x40]
0050f2ec : CALL EDX
0050f2ee : XOR EBP,EBP
0050f2f0 : MOV dword ptr [ESP + 0xc],EAX
0050f2f4 : CMP EAX,EBP
0050f2f6 : JZ 0x0050f430
0050f2fc : MOV EAX,dword ptr [EDI + 0xa0]
0050f302 : MOV EAX,dword ptr [EAX + 0x118]
0050f308 : CMP EAX,EBP
0050f30a : JZ 0x0050f430
0050f310 : MOV CL,byte ptr [EAX + 0x68]
0050f313 : AND CL,0x1
0050f316 : JZ 0x0050f326
0050f318 : MOV DL,byte ptr [EAX + 0x68]
0050f31b : SHR DL,0x1
0050f31d : AND DL,0x1
0050f320 : JZ 0x0050f430
0050f326 : PUSH ESI
0050f327 : LEA EAX,[ESP + 0x14]
0050f32b : PUSH 0x1
0050f32d : PUSH EAX
0050f32e : MOV ECX,EAX
0050f330 : MOV dword ptr [ESP + 0x1c],EBP
0050f334 : MOV dword ptr [ESP + 0x20],EBP
0050f338 : MOV dword ptr [ESP + 0x24],EBP
0050f33c : MOV byte ptr [ESP + 0x28],0x4
0050f341 : MOV dword ptr [ESP + 0x2c],0x2
0050f349 : CALL 0x005034e0
0050f34e : MOV ESI,dword ptr [ESP + 0x18]
0050f352 : MOV EDX,dword ptr [ESP + 0x14]
0050f356 : MOV ECX,ESI
0050f358 : SHL ECX,0x4
0050f35b : LEA ECX,[ECX + EDX*0x1 + -0x10]
0050f35f : CMP ECX,EBP
0050f361 : JZ 0x0050f36d
0050f363 : LEA EAX,[ESP + 0x20]
0050f367 : PUSH EAX
0050f368 : CALL 0x005266c0
0050f36d : LEA ECX,[ESP + 0x20]
0050f371 : CALL 0x00526bc0
0050f376 : MOV ECX,dword ptr [ESP + 0x44]
0050f37a : INC ESI
0050f37b : LEA EDX,[ESP + 0x14]
0050f37f : PUSH ESI
0050f380 : MOV dword ptr [ESP + 0x38],ECX
0050f384 : PUSH EDX
0050f385 : MOV ECX,EDX
0050f387 : MOV byte ptr [ESP + 0x38],0x4
0050f38c : CALL 0x005034e0
0050f391 : MOV EAX,dword ptr [ESP + 0x18]
0050f395 : MOV ECX,dword ptr [ESP + 0x14]
0050f399 : SHL EAX,0x4
0050f39c : LEA EBP,[EAX + ECX*0x1 + -0x10]
0050f3a0 : TEST EBP,EBP
0050f3a2 : JZ 0x0050f3b0
0050f3a4 : LEA EDX,[ESP + 0x30]
0050f3a8 : PUSH EDX
0050f3a9 : MOV ECX,EBP
0050f3ab : CALL 0x005266c0
0050f3b0 : LEA ECX,[ESP + 0x30]
0050f3b4 : CALL 0x00526bc0
0050f3b9 : MOV ECX,dword ptr [ESP + 0x10]
0050f3bd : PUSH 0x4
0050f3bf : ADD ECX,0xa2c
0050f3c5 : CALL 0x00571c40
0050f3ca : MOV ESI,EAX
0050f3cc : MOV dword ptr [ESI + 0x4],0x4
0050f3d3 : INC dword ptr [EDI + 0x4]
0050f3d6 : MOV ECX,dword ptr [ESI + 0x8]
0050f3d9 : TEST ECX,ECX
0050f3db : JZ 0x0050f3e2
0050f3dd : CALL 0x004ff7c0
0050f3e2 : MOV dword ptr [ESI + 0x8],EDI
0050f3e5 : MOV ECX,dword ptr [ESI + 0xc]
0050f3e8 : TEST ECX,ECX
0050f3ea : JZ 0x0050f3f1
0050f3ec : CALL 0x004ff7c0
0050f3f1 : LEA EAX,[ESP + 0x14]
0050f3f5 : MOV dword ptr [ESI + 0xc],0x0
0050f3fc : PUSH EAX
0050f3fd : LEA ECX,[ESI + 0x30]
0050f400 : MOV dword ptr [ESI + 0x2c],0x50c550
0050f407 : CALL 0x00504fd0
0050f40c : MOV EDI,dword ptr [ESP + 0x18]
0050f410 : MOV ESI,EBP
0050f412 : TEST EDI,EDI
0050f414 : JBE 0x0050f425
0050f416 : MOV ECX,ESI
0050f418 : CALL 0x00526bc0
0050f41d : SUB ESI,0x10
0050f420 : SUB EDI,0x1
0050f423 : JNZ 0x0050f416
0050f425 : MOV ECX,dword ptr [ESP + 0x14]
0050f429 : PUSH ECX
0050f42a : CALL 0x00515cf0
0050f42f : POP ESI
0050f430 : POP EDI
0050f431 : MOV AL,0x1
0050f433 : POP EBP
0050f434 : ADD ESP,0x34
0050f437 : RET 0x4
