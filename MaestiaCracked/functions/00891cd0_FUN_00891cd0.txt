PROGRAM  : Maestia.exe
FUNCTION : FUN_00891cd0
ENTRY    : 00891cd0
BODY     : [[00891cd0, 00891e4e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00891cd0(char param_1)

{
  int iVar1;
  undefined1 uVar2;
  int *piVar3;
  int *piVar4;
  int *in_ECX;
  LPCRITICAL_SECTION local_2c;
  char *local_28;
  undefined4 local_24;
  int local_20;
  undefined4 local_1c;
  int *local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b493fc;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(char *)((int)in_ECX + 0x1471) == '\0') {
    *(char *)((int)in_ECX + 0x1471) = param_1;
    if (param_1 == '\0') {
      local_18 = in_ECX;
      (**(code **)(*in_ECX + 0x200))(local_14);
      iVar1 = in_ECX[0xe3];
      local_2c = (LPCRITICAL_SECTION)(iVar1 + 0x70);
      local_20 = 0;
      local_28 = ".\\Objects\\AvaEffectMgr.cpp";
      local_24 = 0x22b;
      local_1c = 1;
      FUN_006ef1a0(&local_2c);
      local_8 = 0xffffffff;
      if (local_20 != 0) {
        LeaveCriticalSection(local_2c);
        local_20 = 0;
      }
      piVar3 = (int *)FUN_00a6bba0(0x191);
      if (piVar3 == (int *)0x0) {
        piVar3 = (int *)FUN_00a6bad0(0x191);
        if (piVar3 != (int *)0x0) {
          piVar4 = (int *)FUN_00a6b6b0();
          if (piVar4 == (int *)0x0) {
            FUN_00a6c940();
            piVar4 = piVar3;
          }
          in_ECX = local_18;
          if (*(char *)(iVar1 + 0x5c) != '\0') {
            (**(code **)(*piVar4 + 0xd4))();
            FUN_00a6b5d0();
            in_ECX = local_18;
          }
        }
      }
      else {
        piVar4 = (int *)FUN_00a6b780();
        if (piVar4 == (int *)0x0) {
          FUN_00a6d020(iVar1,0);
          piVar4 = piVar3;
        }
        in_ECX = local_18;
        if (*(char *)(iVar1 + 0x5c) != '\0') {
          (**(code **)(*piVar4 + 0x24))();
          FUN_00a6c0d0();
          in_ECX = local_18;
        }
      }
    }
    else {
      uVar2 = (**(code **)(*in_ECX + 0x200))();
      FUN_00a6d180(in_ECX[0xe3],1,0,uVar2);
    }
    FUN_0088ba40(0,0);
    if (*(char *)((int)in_ECX + 0x1471) == '\x01') {
      *(undefined1 *)((int)in_ECX + 0x1471) = 0;
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00891cd0 : PUSH EBP
00891cd1 : MOV EBP,ESP
00891cd3 : PUSH -0x1
00891cd5 : PUSH 0xb493fc
00891cda : MOV EAX,FS:[0x0]
00891ce0 : PUSH EAX
00891ce1 : SUB ESP,0x1c
00891ce4 : MOV EAX,[0x00d66fa0]
00891ce9 : XOR EAX,EBP
00891ceb : MOV dword ptr [EBP + -0x10],EAX
00891cee : PUSH EBX
00891cef : PUSH ESI
00891cf0 : PUSH EDI
00891cf1 : PUSH EAX
00891cf2 : LEA EAX,[EBP + -0xc]
00891cf5 : MOV FS:[0x0],EAX
00891cfb : MOV AL,byte ptr [EBP + 0x8]
00891cfe : MOV ESI,ECX
00891d00 : CMP byte ptr [ESI + 0x1471],0x0
00891d07 : MOV dword ptr [EBP + -0x14],ESI
00891d0a : JNZ 0x00891e31
00891d10 : MOV byte ptr [ESI + 0x1471],AL
00891d16 : TEST AL,AL
00891d18 : JZ 0x00891d42
00891d1a : MOV EAX,dword ptr [ESI]
00891d1c : MOV EDX,dword ptr [EAX + 0x200]
00891d22 : CALL EDX
00891d24 : MOV ECX,dword ptr [ESI + 0x38c]
00891d2a : MOVZX EAX,AL
00891d2d : PUSH EAX
00891d2e : PUSH 0x0
00891d30 : PUSH 0x1
00891d32 : PUSH ECX
00891d33 : MOV ECX,0x191
00891d38 : CALL 0x00a6d180
00891d3d : JMP 0x00891e18
00891d42 : MOV EDX,dword ptr [ESI]
00891d44 : MOV EAX,dword ptr [EDX + 0x200]
00891d4a : CALL EAX
00891d4c : MOV EBX,dword ptr [ESI + 0x38c]
00891d52 : LEA EDX,[EBP + -0x28]
00891d55 : LEA ECX,[EBX + 0x70]
00891d58 : XOR EDI,EDI
00891d5a : PUSH EDX
00891d5b : MOV dword ptr [EBP + -0x1c],EDI
00891d5e : MOV dword ptr [EBP + -0x28],ECX
00891d61 : MOV dword ptr [EBP + -0x24],0xc43e84
00891d68 : MOV dword ptr [EBP + -0x20],0x22b
00891d6f : MOV dword ptr [EBP + -0x18],0x1
00891d76 : CALL 0x006ef1a0
00891d7b : MOV dword ptr [EBP + -0x4],0xffffffff
00891d82 : CMP dword ptr [EBP + -0x1c],EDI
00891d85 : JZ 0x00891d94
00891d87 : MOV EAX,dword ptr [EBP + -0x28]
00891d8a : PUSH EAX
00891d8b : CALL dword ptr [0x00b8511c]
00891d91 : MOV dword ptr [EBP + -0x1c],EDI
00891d94 : PUSH 0x191
00891d99 : MOV ECX,EBX
00891d9b : CALL 0x00a6bba0
00891da0 : MOV EDI,EAX
00891da2 : MOV ECX,EBX
00891da4 : TEST EDI,EDI
00891da6 : JZ 0x00891dd6
00891da8 : CALL 0x00a6b780
00891dad : MOV ESI,EAX
00891daf : TEST ESI,ESI
00891db1 : JNZ 0x00891dbc
00891db3 : PUSH EAX
00891db4 : PUSH EBX
00891db5 : CALL 0x00a6d020
00891dba : MOV ESI,EDI
00891dbc : CMP byte ptr [EBX + 0x5c],0x0
00891dc0 : JZ 0x00891e15
00891dc2 : MOV EDX,dword ptr [ESI]
00891dc4 : MOV EAX,dword ptr [EDX + 0x24]
00891dc7 : MOV ECX,ESI
00891dc9 : CALL EAX
00891dcb : MOV ECX,ESI
00891dcd : MOV EDX,EBX
00891dcf : CALL 0x00a6c0d0
00891dd4 : JMP 0x00891e15
00891dd6 : PUSH 0x191
00891ddb : CALL 0x00a6bad0
00891de0 : MOV EDI,EAX
00891de2 : TEST EDI,EDI
00891de4 : JZ 0x00891e18
00891de6 : MOV ECX,EBX
00891de8 : CALL 0x00a6b6b0
00891ded : MOV ESI,EAX
00891def : TEST ESI,ESI
00891df1 : JNZ 0x00891dfc
00891df3 : MOV ESI,EBX
00891df5 : CALL 0x00a6c940
00891dfa : MOV ESI,EDI
00891dfc : CMP byte ptr [EBX + 0x5c],0x0
00891e00 : JZ 0x00891e15
00891e02 : MOV EDX,dword ptr [ESI]
00891e04 : MOV EAX,dword ptr [EDX + 0xd4]
00891e0a : MOV ECX,ESI
00891e0c : CALL EAX
00891e0e : MOV ECX,EBX
00891e10 : CALL 0x00a6b5d0
00891e15 : MOV ESI,dword ptr [EBP + -0x14]
00891e18 : PUSH 0x0
00891e1a : PUSH 0x0
00891e1c : CALL 0x0088ba40
00891e21 : CMP byte ptr [ESI + 0x1471],0x1
00891e28 : JNZ 0x00891e31
00891e2a : MOV byte ptr [ESI + 0x1471],0x0
00891e31 : MOV ECX,dword ptr [EBP + -0xc]
00891e34 : MOV dword ptr FS:[0x0],ECX
00891e3b : POP ECX
00891e3c : POP EDI
00891e3d : POP ESI
00891e3e : POP EBX
00891e3f : MOV ECX,dword ptr [EBP + -0x10]
00891e42 : XOR ECX,EBP
00891e44 : CALL 0x00633e6b
00891e49 : MOV ESP,EBP
00891e4b : POP EBP
00891e4c : RET 0x4
