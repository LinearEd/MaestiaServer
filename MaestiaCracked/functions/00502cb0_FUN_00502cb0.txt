PROGRAM  : Maestia.exe
FUNCTION : FUN_00502cb0
ENTRY    : 00502cb0
BODY     : [[00502cb0, 00502d26]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00502cb0(undefined4 param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  int *in_ECX;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar1 = param_2 + 3U & 0xfffffffc;
  if (*in_ECX != 0) {
    iVar2 = FUN_00515c80(*in_ECX,uVar1 << 4);
    in_ECX[2] = uVar1;
    *in_ECX = iVar2;
    return;
  }
  param_2 = 2;
  iVar2 = FUN_00515840(uVar1 << 4,&param_2);
  in_ECX[2] = uVar1;
  *in_ECX = iVar2;
  return;
}



============================================================
DISASSEMBLY
============================================================
00502cb0 : MOV EAX,dword ptr [ESP + 0x8]
00502cb4 : PUSH EDI
00502cb5 : MOV EDI,ECX
00502cb7 : TEST EAX,EAX
00502cb9 : JNZ 0x00502cd8
00502cbb : MOV EAX,dword ptr [EDI]
00502cbd : TEST EAX,EAX
00502cbf : JZ 0x00502ccd
00502cc1 : PUSH EAX
00502cc2 : CALL 0x00515cf0
00502cc7 : MOV dword ptr [EDI],0x0
00502ccd : MOV dword ptr [EDI + 0x8],0x0
00502cd4 : POP EDI
00502cd5 : RET 0x8
00502cd8 : PUSH ESI
00502cd9 : LEA ESI,[EAX + 0x3]
00502cdc : MOV EAX,dword ptr [EDI]
00502cde : SHR ESI,0x2
00502ce1 : ADD ESI,ESI
00502ce3 : ADD ESI,ESI
00502ce5 : TEST EAX,EAX
00502ce7 : JZ 0x00502cff
00502ce9 : MOV ECX,ESI
00502ceb : SHL ECX,0x4
00502cee : PUSH ECX
00502cef : PUSH EAX
00502cf0 : CALL 0x00515c80
00502cf5 : MOV dword ptr [EDI + 0x8],ESI
00502cf8 : POP ESI
00502cf9 : MOV dword ptr [EDI],EAX
00502cfb : POP EDI
00502cfc : RET 0x8
00502cff : MOV ECX,dword ptr [0x00d73250]
00502d05 : LEA EDX,[ESP + 0x10]
00502d09 : MOV EAX,ESI
00502d0b : PUSH EDX
00502d0c : SHL EAX,0x4
00502d0f : PUSH EAX
00502d10 : MOV dword ptr [ESP + 0x18],0x2
00502d18 : CALL 0x00515840
00502d1d : MOV dword ptr [EDI + 0x8],ESI
00502d20 : POP ESI
00502d21 : MOV dword ptr [EDI],EAX
00502d23 : POP EDI
00502d24 : RET 0x8
