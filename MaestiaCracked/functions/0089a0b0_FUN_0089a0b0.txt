PROGRAM  : Maestia.exe
FUNCTION : FUN_0089a0b0
ENTRY    : 0089a0b0
BODY     : [[0089a0b0, 0089a27c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0089a0b0(int *param_1,int *param_2)

{
  char cVar1;
  int iVar2;
  int *in_ECX;
  int *piVar3;
  undefined4 uVar4;
  int local_c;
  int *local_8;
  
  iVar2 = DAT_00d7c54c;
  *(undefined1 *)(in_ECX + 0x164) = 1;
  *(undefined1 *)((int)in_ECX + 0x4cb) = 0;
  *(undefined1 *)(in_ECX + 0x133) = 0;
  local_8 = param_1;
  FUN_004437f0(&local_8);
  if (local_c == *(int *)(iVar2 + 0x44)) {
    local_8 = (int *)0x0;
  }
  else {
    local_8 = *(int **)(local_c + 0x10);
  }
  piVar3 = local_8;
  if (*(char *)((int)in_ECX + 0x4c9) == '\0') {
    if (local_8 == (int *)0x0) {
      return;
    }
    iVar2 = (**(code **)(*local_8 + 0x40))();
    if (iVar2 == 0) {
      return;
    }
    if (*(char *)((int)piVar3 + 0xa5e) != '\x02') {
      return;
    }
    *(undefined1 *)((int)in_ECX + 0x4cd) = 1;
    *(undefined1 *)((int)in_ECX + 0x4d2) = 1;
    in_ECX[0x136] = *param_2;
    in_ECX[0x137] = param_2[1];
    in_ECX[0x138] = param_2[2];
    (**(code **)(*in_ECX + 0x284))();
  }
  if ((short)param_1 != 0x138a) {
    if ((char)in_ECX[0x109] != '\0') {
      return;
    }
    cVar1 = FUN_00876040();
    piVar3 = local_8;
    if (cVar1 != '\0') {
      FUN_0090c160();
      return;
    }
  }
  FUN_00896ec0();
  in_ECX[0x38] = (int)param_1;
  if ((piVar3 == (int *)0x0) || ((piVar3[0x10] & 0x800U) == 0)) {
    cVar1 = FUN_0040df60();
    if (cVar1 != '\0') {
      iVar2 = *(int *)(*(int *)(in_ECX[0x4e] + 4) + 0x13c + (int)in_ECX);
      if ((iVar2 != 0) && (*(char *)(iVar2 + 5) == '\0')) {
        (**(code **)(*(int *)(*(int *)(in_ECX[0x4e] + 4) + 0x138 + (int)in_ECX) + 0x10))
                  (in_ECX + 0x392,1,1,0);
        return;
      }
    }
    iVar2 = *(int *)(in_ECX[0x4e] + 4);
    uVar4 = 1;
    piVar3 = in_ECX + 0x392;
  }
  else {
    iVar2 = *(int *)(in_ECX[0x4e] + 4);
    uVar4 = 0;
    piVar3 = in_ECX + 0x3ae;
  }
  (**(code **)(*(int *)(iVar2 + 0x138 + (int)in_ECX) + 0x10))(piVar3,1,1,uVar4);
  return;
}



============================================================
DISASSEMBLY
============================================================
0089a0b0 : PUSH EBP
0089a0b1 : MOV EBP,ESP
0089a0b3 : SUB ESP,0x8
0089a0b6 : PUSH EBX
0089a0b7 : PUSH ESI
0089a0b8 : MOV ESI,dword ptr [0x00d7c54c]
0089a0be : PUSH EDI
0089a0bf : MOV EDI,dword ptr [EBP + 0x8]
0089a0c2 : MOV EBX,ECX
0089a0c4 : LEA EAX,[EBP + -0x4]
0089a0c7 : PUSH EAX
0089a0c8 : LEA ECX,[ESI + 0x40]
0089a0cb : LEA EAX,[EBP + -0x8]
0089a0ce : MOV byte ptr [EBX + 0x590],0x1
0089a0d5 : MOV byte ptr [EBX + 0x4cb],0x0
0089a0dc : MOV byte ptr [EBX + 0x4cc],0x0
0089a0e3 : MOV dword ptr [EBP + -0x4],EDI
0089a0e6 : CALL 0x004437f0
0089a0eb : MOV EAX,dword ptr [EBP + -0x8]
0089a0ee : CMP EAX,dword ptr [ESI + 0x44]
0089a0f1 : JZ 0x0089a0fb
0089a0f3 : MOV ESI,dword ptr [EAX + 0x10]
0089a0f6 : MOV dword ptr [EBP + -0x4],ESI
0089a0f9 : JMP 0x0089a105
0089a0fb : MOV dword ptr [EBP + -0x4],0x0
0089a102 : MOV ESI,dword ptr [EBP + -0x4]
0089a105 : CMP byte ptr [EBX + 0x4c9],0x0
0089a10c : JNZ 0x0089a16b
0089a10e : TEST ESI,ESI
0089a110 : JZ 0x0089a274
0089a116 : MOV EDX,dword ptr [ESI]
0089a118 : MOV EAX,dword ptr [EDX + 0x40]
0089a11b : MOV ECX,ESI
0089a11d : CALL EAX
0089a11f : TEST EAX,EAX
0089a121 : JZ 0x0089a274
0089a127 : CMP byte ptr [ESI + 0xa5e],0x2
0089a12e : JNZ 0x0089a274
0089a134 : MOV EAX,dword ptr [EBP + 0xc]
0089a137 : MOV byte ptr [EBX + 0x4cd],0x1
0089a13e : MOV byte ptr [EBX + 0x4d2],0x1
0089a145 : FLD float ptr [EAX]
0089a147 : FSTP float ptr [EBX + 0x4d8]
0089a14d : MOV ECX,EBX
0089a14f : FLD float ptr [EAX + 0x4]
0089a152 : FSTP float ptr [EBX + 0x4dc]
0089a158 : FLD float ptr [EAX + 0x8]
0089a15b : FSTP float ptr [EBX + 0x4e0]
0089a161 : MOV EDX,dword ptr [EBX]
0089a163 : MOV EAX,dword ptr [EDX + 0x284]
0089a169 : CALL EAX
0089a16b : MOV ECX,0x138a
0089a170 : CMP DI,CX
0089a173 : JZ 0x0089a1c3
0089a175 : CMP byte ptr [EBX + 0x424],0x0
0089a17c : JNZ 0x0089a274
0089a182 : MOV EDX,dword ptr [EBX + 0x138]
0089a188 : MOV EAX,dword ptr [EDX + 0x4]
0089a18b : LEA ESI,[EBX + 0x1158]
0089a191 : LEA EDI,[EAX + EBX*0x1 + 0x138]
0089a198 : CALL 0x00876040
0089a19d : TEST AL,AL
0089a19f : JZ 0x0089a1bd
0089a1a1 : MOV ECX,dword ptr [0x00da9894]
0089a1a7 : MOV EDX,dword ptr [ECX]
0089a1a9 : MOV ESI,dword ptr [EDX + 0x18c]
0089a1af : CALL 0x0090c160
0089a1b4 : POP EDI
0089a1b5 : POP ESI
0089a1b6 : POP EBX
0089a1b7 : MOV ESP,EBP
0089a1b9 : POP EBP
0089a1ba : RET 0x10
0089a1bd : MOV EDI,dword ptr [EBP + 0x8]
0089a1c0 : MOV ESI,dword ptr [EBP + -0x4]
0089a1c3 : MOV EAX,dword ptr [EBP + 0x14]
0089a1c6 : MOV ECX,dword ptr [EBP + 0x10]
0089a1c9 : PUSH EAX
0089a1ca : PUSH ECX
0089a1cb : PUSH EDI
0089a1cc : PUSH EBX
0089a1cd : CALL 0x00896ec0
0089a1d2 : MOV dword ptr [EBX + 0xe0],EDI
0089a1d8 : TEST ESI,ESI
0089a1da : JZ 0x0089a1ff
0089a1dc : TEST dword ptr [ESI + 0x40],0x800
0089a1e3 : JZ 0x0089a1ff
0089a1e5 : MOV EDX,dword ptr [EBX + 0x138]
0089a1eb : MOV EAX,dword ptr [EDX + 0x4]
0089a1ee : LEA ECX,[EAX + EBX*0x1 + 0x138]
0089a1f5 : PUSH 0x0
0089a1f7 : ADD EBX,0xeb8
0089a1fd : JMP 0x0089a268
0089a1ff : MOV EAX,EBX
0089a201 : CALL 0x0040df60
0089a206 : TEST AL,AL
0089a208 : JZ 0x0089a250
0089a20a : MOV EAX,dword ptr [EBX + 0x138]
0089a210 : MOV ECX,dword ptr [EAX + 0x4]
0089a213 : MOV ECX,dword ptr [ECX + EBX*0x1 + 0x13c]
0089a21a : TEST ECX,ECX
0089a21c : JZ 0x0089a250
0089a21e : CMP byte ptr [ECX + 0x5],0x0
0089a222 : JNZ 0x0089a250
0089a224 : MOV EDX,dword ptr [EAX + 0x4]
0089a227 : MOV EAX,dword ptr [EDX + EBX*0x1 + 0x138]
0089a22e : PUSH 0x0
0089a230 : LEA ECX,[EDX + EBX*0x1 + 0x138]
0089a237 : MOV EDX,dword ptr [EAX + 0x10]
0089a23a : PUSH 0x1
0089a23c : PUSH 0x1
0089a23e : ADD EBX,0xe48
0089a244 : PUSH EBX
0089a245 : CALL EDX
0089a247 : POP EDI
0089a248 : POP ESI
0089a249 : POP EBX
0089a24a : MOV ESP,EBP
0089a24c : POP EBP
0089a24d : RET 0x10
0089a250 : MOV EAX,dword ptr [EBX + 0x138]
0089a256 : MOV ECX,dword ptr [EAX + 0x4]
0089a259 : LEA ECX,[ECX + EBX*0x1 + 0x138]
0089a260 : PUSH 0x1
0089a262 : ADD EBX,0xe48
0089a268 : MOV EDX,dword ptr [ECX]
0089a26a : MOV EAX,dword ptr [EDX + 0x10]
0089a26d : PUSH 0x1
0089a26f : PUSH 0x1
0089a271 : PUSH EBX
0089a272 : CALL EAX
0089a274 : POP EDI
0089a275 : POP ESI
0089a276 : POP EBX
0089a277 : MOV ESP,EBP
0089a279 : POP EBP
0089a27a : RET 0x10
