PROGRAM  : Maestia.exe
FUNCTION : FUN_00432920
ENTRY    : 00432920
BODY     : [[00432920, 00432b80]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00432920(int param_1,int param_2,code *param_3,int *param_4,int param_5)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  void **ppvVar4;
  char cVar5;
  int iVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  undefined1 auStack_60 [32];
  undefined4 uStack_40;
  undefined4 *puStack_3c;
  undefined4 uStack_38;
  undefined1 *puStack_34;
  uint uStack_30;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  iVar3 = param_1;
  puStack_c = &LAB_00b78ef4;
  uStack_30 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_8 = 0;
  ppvVar4 = &local_10;
  local_10 = ExceptionList;
  while( true ) {
    ExceptionList = ppvVar4;
    iVar8 = param_1 * 2 + 2;
    if (param_2 <= iVar8) break;
    uVar9 = param_5 + iVar8;
    uVar7 = uVar9 - 1;
    if (param_4 == (int *)0x0) {
      iVar6 = 0;
    }
    else {
      iVar6 = *param_4;
    }
    if (*(uint *)(iVar6 + 0x14) <= uVar7) {
      if (param_4 == (int *)0x0) {
        iVar6 = 0;
      }
      else {
        iVar6 = *param_4;
      }
      uVar7 = uVar7 - *(int *)(iVar6 + 0x14);
    }
    if (param_4 == (int *)0x0) {
      iVar6 = 0;
    }
    else {
      iVar6 = *param_4;
    }
    puStack_34 = *(undefined1 **)(*(int *)(iVar6 + 0x10) + uVar7 * 4);
    if (param_4 == (int *)0x0) {
      iVar6 = 0;
    }
    else {
      iVar6 = *param_4;
    }
    if (*(uint *)(iVar6 + 0x14) <= uVar9) {
      if (param_4 == (int *)0x0) {
        iVar6 = 0;
      }
      else {
        iVar6 = *param_4;
      }
      uVar9 = uVar9 - *(int *)(iVar6 + 0x14);
    }
    if (param_4 == (int *)0x0) {
      iVar6 = 0;
    }
    else {
      iVar6 = *param_4;
    }
    uStack_38 = *(undefined4 *)(*(int *)(iVar6 + 0x10) + uVar9 * 4);
    puStack_3c = (undefined4 *)0x4329dc;
    cVar5 = (*param_3)();
    if (cVar5 != '\0') {
      iVar8 = param_1 * 2 + 1;
    }
    uVar7 = param_5 + iVar8;
    if (param_4 == (int *)0x0) {
      iVar6 = 0;
    }
    else {
      iVar6 = *param_4;
    }
    if (*(uint *)(iVar6 + 0x14) <= uVar7) {
      if (param_4 == (int *)0x0) {
        iVar6 = 0;
      }
      else {
        iVar6 = *param_4;
      }
      uVar7 = uVar7 - *(int *)(iVar6 + 0x14);
    }
    if (param_4 == (int *)0x0) {
      iVar6 = 0;
    }
    else {
      iVar6 = *param_4;
    }
    puVar1 = *(undefined4 **)(*(int *)(iVar6 + 0x10) + uVar7 * 4);
    uVar7 = param_5 + param_1;
    if (param_4 == (int *)0x0) {
      iVar6 = 0;
    }
    else {
      iVar6 = *param_4;
    }
    if (*(uint *)(iVar6 + 0x14) <= uVar7) {
      if (param_4 == (int *)0x0) {
        iVar6 = 0;
      }
      else {
        iVar6 = *param_4;
      }
      uVar7 = uVar7 - *(int *)(iVar6 + 0x14);
    }
    if (param_4 == (int *)0x0) {
      iVar6 = 0;
    }
    else {
      iVar6 = *param_4;
    }
    puVar2 = *(undefined4 **)(*(int *)(iVar6 + 0x10) + uVar7 * 4);
    puStack_34 = (undefined1 *)0xffffffff;
    *puVar2 = *puVar1;
    uStack_38 = 0;
    puStack_3c = puVar1 + 2;
    puVar2[1] = puVar1[1];
    uStack_40 = 0x432a6a;
    FUN_00405eb0();
    puVar2[9] = puVar1[9];
    *(undefined1 *)(puVar2 + 10) = *(undefined1 *)(puVar1 + 10);
    ppvVar4 = ExceptionList;
    param_1 = iVar8;
  }
  if (iVar8 == param_2) {
    uVar7 = param_5 + -1 + param_2;
    if (param_4 == (int *)0x0) {
      iVar8 = 0;
    }
    else {
      iVar8 = *param_4;
    }
    if (*(uint *)(iVar8 + 0x14) <= uVar7) {
      if (param_4 == (int *)0x0) {
        iVar8 = 0;
      }
      else {
        iVar8 = *param_4;
      }
      uVar7 = uVar7 - *(int *)(iVar8 + 0x14);
    }
    if (param_4 == (int *)0x0) {
      iVar8 = 0;
    }
    else {
      iVar8 = *param_4;
    }
    puVar1 = *(undefined4 **)(*(int *)(iVar8 + 0x10) + uVar7 * 4);
    uVar7 = param_5 + param_1;
    if (param_4 == (int *)0x0) {
      iVar8 = 0;
    }
    else {
      iVar8 = *param_4;
    }
    if (*(uint *)(iVar8 + 0x14) <= uVar7) {
      if (param_4 == (int *)0x0) {
        iVar8 = 0;
      }
      else {
        iVar8 = *param_4;
      }
      uVar7 = uVar7 - *(int *)(iVar8 + 0x14);
    }
    if (param_4 == (int *)0x0) {
      iVar8 = 0;
    }
    else {
      iVar8 = *param_4;
    }
    puVar2 = *(undefined4 **)(*(int *)(iVar8 + 0x10) + uVar7 * 4);
    puStack_34 = (undefined1 *)0xffffffff;
    *puVar2 = *puVar1;
    uStack_38 = 0;
    puStack_3c = puVar1 + 2;
    puVar2[1] = puVar1[1];
    uStack_40 = 0x432b18;
    FUN_00405eb0();
    puVar2[9] = puVar1[9];
    param_1 = param_2 + -1;
    *(undefined1 *)(puVar2 + 10) = *(undefined1 *)(puVar1 + 10);
  }
  FUN_00430d40(auStack_60);
  local_8 = local_8 & 0xffffff00;
  FUN_00433070(param_1,iVar3,param_3,param_4,param_5);
  local_8 = 0xffffffff;
  uStack_38 = 0x432b6f;
  puStack_34 = &stack0x00000018;
  FUN_00401300();
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00432920 : PUSH EBP
00432921 : MOV EBP,ESP
00432923 : PUSH -0x1
00432925 : PUSH 0xb78ef4
0043292a : MOV EAX,FS:[0x0]
00432930 : PUSH EAX
00432931 : SUB ESP,0x10
00432934 : PUSH EBX
00432935 : PUSH ESI
00432936 : PUSH EDI
00432937 : MOV EAX,[0x00d66fa0]
0043293c : XOR EAX,EBP
0043293e : PUSH EAX
0043293f : LEA EAX,[EBP + -0xc]
00432942 : MOV FS:[0x0],EAX
00432948 : MOV EAX,dword ptr [EBP + 0x10]
0043294b : MOV dword ptr [EBP + -0x18],EAX
0043294e : MOV dword ptr [EBP + -0x4],0x0
00432955 : MOV ESI,dword ptr [EBP + 0x8]
00432958 : MOV EDX,dword ptr [EBP + 0xc]
0043295b : LEA EBX,[ESI + ESI*0x1 + 0x2]
0043295f : CMP EBX,EDX
00432961 : MOV dword ptr [EBP + -0x1c],ESI
00432964 : JGE 0x00432a8e
0043296a : MOV ESI,dword ptr [EBP + 0x18]
0043296d : MOV EAX,dword ptr [EBP + 0x14]
00432970 : LEA EDI,[ESI + EBX*0x1]
00432973 : MOV dword ptr [EBP + -0x10],ESI
00432976 : LEA ECX,[EDI + -0x1]
00432979 : TEST EAX,EAX
0043297b : JZ 0x00432981
0043297d : MOV EDX,dword ptr [EAX]
0043297f : JMP 0x00432983
00432981 : XOR EDX,EDX
00432983 : CMP dword ptr [EDX + 0x14],ECX
00432986 : JA 0x00432995
00432988 : TEST EAX,EAX
0043298a : JZ 0x00432990
0043298c : MOV EDX,dword ptr [EAX]
0043298e : JMP 0x00432992
00432990 : XOR EDX,EDX
00432992 : SUB ECX,dword ptr [EDX + 0x14]
00432995 : TEST EAX,EAX
00432997 : JZ 0x0043299d
00432999 : MOV EDX,dword ptr [EAX]
0043299b : JMP 0x0043299f
0043299d : XOR EDX,EDX
0043299f : MOV EAX,dword ptr [EBP + 0x14]
004329a2 : MOV EDX,dword ptr [EDX + 0x10]
004329a5 : MOV ECX,dword ptr [EDX + ECX*0x4]
004329a8 : MOV dword ptr [EBP + -0x10],ESI
004329ab : TEST EAX,EAX
004329ad : JZ 0x004329b3
004329af : MOV EDX,dword ptr [EAX]
004329b1 : JMP 0x004329b5
004329b3 : XOR EDX,EDX
004329b5 : CMP dword ptr [EDX + 0x14],EDI
004329b8 : JA 0x004329c7
004329ba : TEST EAX,EAX
004329bc : JZ 0x004329c2
004329be : MOV EDX,dword ptr [EAX]
004329c0 : JMP 0x004329c4
004329c2 : XOR EDX,EDX
004329c4 : SUB EDI,dword ptr [EDX + 0x14]
004329c7 : TEST EAX,EAX
004329c9 : JZ 0x004329cf
004329cb : MOV EAX,dword ptr [EAX]
004329cd : JMP 0x004329d1
004329cf : XOR EAX,EAX
004329d1 : MOV EAX,dword ptr [EAX + 0x10]
004329d4 : MOV EDI,dword ptr [EAX + EDI*0x4]
004329d7 : PUSH ECX
004329d8 : PUSH EDI
004329d9 : CALL dword ptr [EBP + -0x18]
004329dc : ADD ESP,0x8
004329df : TEST AL,AL
004329e1 : JZ 0x004329e4
004329e3 : DEC EBX
004329e4 : MOV EAX,dword ptr [EBP + 0x14]
004329e7 : MOV ECX,dword ptr [EBP + 0x18]
004329ea : MOV dword ptr [EBP + -0x10],ECX
004329ed : LEA ESI,[ECX + EBX*0x1]
004329f0 : TEST EAX,EAX
004329f2 : JZ 0x004329f8
004329f4 : MOV EDX,dword ptr [EAX]
004329f6 : JMP 0x004329fa
004329f8 : XOR EDX,EDX
004329fa : CMP dword ptr [EDX + 0x14],ESI
004329fd : JA 0x00432a0c
004329ff : TEST EAX,EAX
00432a01 : JZ 0x00432a07
00432a03 : MOV EDX,dword ptr [EAX]
00432a05 : JMP 0x00432a09
00432a07 : XOR EDX,EDX
00432a09 : SUB ESI,dword ptr [EDX + 0x14]
00432a0c : TEST EAX,EAX
00432a0e : JZ 0x00432a14
00432a10 : MOV EDX,dword ptr [EAX]
00432a12 : JMP 0x00432a16
00432a14 : XOR EDX,EDX
00432a16 : MOV EDX,dword ptr [EDX + 0x10]
00432a19 : MOV EDI,dword ptr [EDX + ESI*0x4]
00432a1c : MOV EDX,dword ptr [EBP + 0x8]
00432a1f : MOV dword ptr [EBP + -0x10],ECX
00432a22 : ADD ECX,EDX
00432a24 : TEST EAX,EAX
00432a26 : JZ 0x00432a2c
00432a28 : MOV EDX,dword ptr [EAX]
00432a2a : JMP 0x00432a2e
00432a2c : XOR EDX,EDX
00432a2e : CMP dword ptr [EDX + 0x14],ECX
00432a31 : JA 0x00432a40
00432a33 : TEST EAX,EAX
00432a35 : JZ 0x00432a3b
00432a37 : MOV EDX,dword ptr [EAX]
00432a39 : JMP 0x00432a3d
00432a3b : XOR EDX,EDX
00432a3d : SUB ECX,dword ptr [EDX + 0x14]
00432a40 : TEST EAX,EAX
00432a42 : JZ 0x00432a48
00432a44 : MOV EAX,dword ptr [EAX]
00432a46 : JMP 0x00432a4a
00432a48 : XOR EAX,EAX
00432a4a : MOV EAX,dword ptr [EAX + 0x10]
00432a4d : MOV ESI,dword ptr [EAX + ECX*0x4]
00432a50 : MOV ECX,dword ptr [EDI]
00432a52 : PUSH -0x1
00432a54 : MOV dword ptr [ESI],ECX
00432a56 : MOV EDX,dword ptr [EDI + 0x4]
00432a59 : PUSH 0x0
00432a5b : LEA EAX,[EDI + 0x8]
00432a5e : PUSH EAX
00432a5f : LEA ECX,[ESI + 0x8]
00432a62 : MOV dword ptr [ESI + 0x4],EDX
00432a65 : CALL 0x00405eb0
00432a6a : MOV ECX,dword ptr [EDI + 0x24]
00432a6d : MOV dword ptr [EBP + 0x8],EBX
00432a70 : MOV dword ptr [ESI + 0x24],ECX
00432a73 : MOV DL,byte ptr [EDI + 0x28]
00432a76 : LEA EBX,[EBX + EBX*0x1 + 0x2]
00432a7a : CMP EBX,dword ptr [EBP + 0xc]
00432a7d : MOV byte ptr [ESI + 0x28],DL
00432a80 : JL 0x0043296a
00432a86 : MOV EDX,dword ptr [EBP + 0xc]
00432a89 : MOV ESI,dword ptr [EBP + 0x8]
00432a8c : CMP EBX,EDX
00432a8e : JNZ 0x00432b2b
00432a94 : MOV EAX,dword ptr [EBP + 0x14]
00432a97 : MOV ECX,dword ptr [EBP + 0x18]
00432a9a : MOV dword ptr [EBP + -0x10],ECX
00432a9d : LEA EDI,[ECX + EDX*0x1 + -0x1]
00432aa1 : TEST EAX,EAX
00432aa3 : JZ 0x00432aa9
00432aa5 : MOV EDX,dword ptr [EAX]
00432aa7 : JMP 0x00432aab
00432aa9 : XOR EDX,EDX
00432aab : CMP dword ptr [EDX + 0x14],EDI
00432aae : JA 0x00432abd
00432ab0 : TEST EAX,EAX
00432ab2 : JZ 0x00432ab8
00432ab4 : MOV EDX,dword ptr [EAX]
00432ab6 : JMP 0x00432aba
00432ab8 : XOR EDX,EDX
00432aba : SUB EDI,dword ptr [EDX + 0x14]
00432abd : TEST EAX,EAX
00432abf : JZ 0x00432ac5
00432ac1 : MOV EDX,dword ptr [EAX]
00432ac3 : JMP 0x00432ac7
00432ac5 : XOR EDX,EDX
00432ac7 : MOV EDX,dword ptr [EDX + 0x10]
00432aca : MOV EDI,dword ptr [EDX + EDI*0x4]
00432acd : MOV dword ptr [EBP + -0x10],ECX
00432ad0 : ADD ECX,ESI
00432ad2 : TEST EAX,EAX
00432ad4 : JZ 0x00432ada
00432ad6 : MOV EDX,dword ptr [EAX]
00432ad8 : JMP 0x00432adc
00432ada : XOR EDX,EDX
00432adc : CMP dword ptr [EDX + 0x14],ECX
00432adf : JA 0x00432aee
00432ae1 : TEST EAX,EAX
00432ae3 : JZ 0x00432ae9
00432ae5 : MOV EDX,dword ptr [EAX]
00432ae7 : JMP 0x00432aeb
00432ae9 : XOR EDX,EDX
00432aeb : SUB ECX,dword ptr [EDX + 0x14]
00432aee : TEST EAX,EAX
00432af0 : JZ 0x00432af6
00432af2 : MOV EAX,dword ptr [EAX]
00432af4 : JMP 0x00432af8
00432af6 : XOR EAX,EAX
00432af8 : MOV EAX,dword ptr [EAX + 0x10]
00432afb : MOV ESI,dword ptr [EAX + ECX*0x4]
00432afe : MOV ECX,dword ptr [EDI]
00432b00 : PUSH -0x1
00432b02 : MOV dword ptr [ESI],ECX
00432b04 : MOV EDX,dword ptr [EDI + 0x4]
00432b07 : PUSH 0x0
00432b09 : LEA EAX,[EDI + 0x8]
00432b0c : PUSH EAX
00432b0d : LEA ECX,[ESI + 0x8]
00432b10 : MOV dword ptr [ESI + 0x4],EDX
00432b13 : CALL 0x00405eb0
00432b18 : MOV ECX,dword ptr [EDI + 0x24]
00432b1b : MOV EAX,dword ptr [EBP + 0xc]
00432b1e : MOV dword ptr [ESI + 0x24],ECX
00432b21 : MOV DL,byte ptr [EDI + 0x28]
00432b24 : DEC EAX
00432b25 : MOV byte ptr [ESI + 0x28],DL
00432b28 : MOV dword ptr [EBP + 0x8],EAX
00432b2b : SUB ESP,0x30
00432b2e : MOV ECX,ESP
00432b30 : MOV dword ptr [EBP + -0x10],ESP
00432b33 : PUSH ECX
00432b34 : LEA EDI,[EBP + 0x1c]
00432b37 : CALL 0x00430d40
00432b3c : MOV byte ptr [EBP + -0x4],0x1
00432b40 : MOV EDX,dword ptr [EBP + 0x18]
00432b43 : MOV EAX,dword ptr [EBP + 0x14]
00432b46 : MOV ECX,dword ptr [EBP + -0x18]
00432b49 : PUSH EDX
00432b4a : MOV EDX,dword ptr [EBP + -0x1c]
00432b4d : PUSH EAX
00432b4e : MOV EAX,dword ptr [EBP + 0x8]
00432b51 : PUSH ECX
00432b52 : PUSH EDX
00432b53 : PUSH EAX
00432b54 : MOV byte ptr [EBP + -0x4],0x0
00432b58 : CALL 0x00433070
00432b5d : ADD ESP,0x44
00432b60 : MOV dword ptr [EBP + -0x4],0xffffffff
00432b67 : MOV ECX,EDI
00432b69 : PUSH ECX
00432b6a : CALL 0x00401300
00432b6f : MOV ECX,dword ptr [EBP + -0xc]
00432b72 : MOV dword ptr FS:[0x0],ECX
00432b79 : POP ECX
00432b7a : POP EDI
00432b7b : POP ESI
00432b7c : POP EBX
00432b7d : MOV ESP,EBP
00432b7f : POP EBP
00432b80 : RET
