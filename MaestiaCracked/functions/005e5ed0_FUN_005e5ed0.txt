PROGRAM  : Maestia.exe
FUNCTION : FUN_005e5ed0
ENTRY    : 005e5ed0
BODY     : [[005e5ed0, 005e6027]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005e5ed0(undefined4 param_1,int param_2,uint param_3)

{
  uint *puVar1;
  int iVar2;
  uint *puVar3;
  int *piVar4;
  uint uVar5;
  int *in_ECX;
  uint uVar6;
  int iVar7;
  
  piVar4 = (int *)*in_ECX;
  if (piVar4 == (int *)0x0) {
    iVar7 = 8;
  }
  else {
    if ((uint)(*piVar4 * 5) <= piVar4[1] * 4 + 4U) goto LAB_005e5f0c;
    iVar7 = piVar4[1] * 2 + 2;
  }
  FUN_005e5d10(param_1,iVar7);
LAB_005e5f0c:
  piVar4 = (int *)*in_ECX;
  param_3 = param_3 & piVar4[1];
  *piVar4 = *piVar4 + 1;
  iVar7 = *in_ECX;
  puVar1 = (uint *)(iVar7 + 8 + param_3 * 0x18);
  if (*puVar1 == 0xfffffffe) {
    *puVar1 = 0xffffffff;
    FUN_0051c2c0(param_2);
    FUN_0051c600(param_2 + 4);
    puVar1[4] = *(uint *)(param_2 + 8);
    puVar1[5] = *(uint *)(param_2 + 0xc);
    puVar1[1] = param_3;
    return;
  }
  uVar6 = param_3;
  do {
    uVar6 = uVar6 + 1 & *(uint *)(iVar7 + 4);
  } while (*(int *)(iVar7 + 8 + uVar6 * 0x18) != -2);
  uVar5 = puVar1[1];
  iVar2 = iVar7 + 8 + uVar6 * 0x18;
  if (uVar5 != param_3) {
    puVar3 = (uint *)(iVar7 + 8 + uVar5 * 0x18);
    for (uVar5 = *(uint *)(iVar7 + 8 + uVar5 * 0x18); uVar5 != param_3;
        uVar5 = *(uint *)(iVar7 + 8 + uVar5 * 0x18)) {
      uVar5 = *puVar3;
      puVar3 = (uint *)(iVar7 + 8 + uVar5 * 0x18);
    }
    if (iVar2 != 0) {
      FUN_005e5b00(puVar1);
    }
    *puVar3 = uVar6;
    FUN_0051bc20(param_2);
    FUN_0051bc20(param_2 + 4);
    puVar1[4] = *(uint *)(param_2 + 8);
    puVar1[5] = *(uint *)(param_2 + 0xc);
    puVar1[1] = param_3;
    *puVar1 = 0xffffffff;
    return;
  }
  if (iVar2 != 0) {
    FUN_005e5b00(puVar1);
  }
  FUN_0051bc20(param_2);
  FUN_0051bc20(param_2 + 4);
  puVar1[4] = *(uint *)(param_2 + 8);
  puVar1[5] = *(uint *)(param_2 + 0xc);
  puVar1[1] = param_3;
  *puVar1 = uVar6;
  return;
}



============================================================
DISASSEMBLY
============================================================
005e5ed0 : PUSH EBX
005e5ed1 : PUSH EBP
005e5ed2 : PUSH ESI
005e5ed3 : MOV ESI,ECX
005e5ed5 : MOV EAX,dword ptr [ESI]
005e5ed7 : PUSH EDI
005e5ed8 : TEST EAX,EAX
005e5eda : JNZ 0x005e5ee5
005e5edc : MOV EAX,dword ptr [ESP + 0x14]
005e5ee0 : PUSH 0x8
005e5ee2 : PUSH EAX
005e5ee3 : JMP 0x005e5f07
005e5ee5 : MOV ECX,dword ptr [EAX + 0x4]
005e5ee8 : LEA EDX,[ECX*0x4 + 0x4]
005e5eef : MOV ECX,dword ptr [EAX]
005e5ef1 : LEA ECX,[ECX + ECX*0x4]
005e5ef4 : CMP ECX,EDX
005e5ef6 : JBE 0x005e5f0c
005e5ef8 : MOV EDX,dword ptr [EAX + 0x4]
005e5efb : MOV ECX,dword ptr [ESP + 0x14]
005e5eff : LEA EAX,[EDX + EDX*0x1 + 0x2]
005e5f03 : PUSH EAX
005e5f04 : PUSH ECX
005e5f05 : MOV ECX,ESI
005e5f07 : CALL 0x005e5d10
005e5f0c : MOV EAX,dword ptr [ESI]
005e5f0e : MOV EDI,dword ptr [ESP + 0x1c]
005e5f12 : AND EDI,dword ptr [EAX + 0x4]
005e5f15 : INC dword ptr [EAX]
005e5f17 : MOV EAX,dword ptr [ESI]
005e5f19 : LEA EDX,[EDI + EDI*0x2]
005e5f1c : LEA ESI,[EAX + EDX*0x8 + 0x8]
005e5f20 : MOV EDX,0xfffffffe
005e5f25 : CMP dword ptr [ESI],EDX
005e5f27 : JNZ 0x005e5f62
005e5f29 : MOV EBX,dword ptr [ESP + 0x18]
005e5f2d : LEA EBP,[ESI + 0x8]
005e5f30 : PUSH EBX
005e5f31 : MOV ECX,EBP
005e5f33 : MOV dword ptr [ESI],0xffffffff
005e5f39 : CALL 0x0051c2c0
005e5f3e : ADD EBX,0x4
005e5f41 : ADD EBP,0x4
005e5f44 : PUSH EBX
005e5f45 : MOV ECX,EBP
005e5f47 : CALL 0x0051c600
005e5f4c : FLD float ptr [EBX + 0x4]
005e5f4f : FSTP float ptr [EBP + 0x4]
005e5f52 : MOV EAX,dword ptr [EBX + 0x8]
005e5f55 : MOV dword ptr [EBP + 0x8],EAX
005e5f58 : MOV dword ptr [ESI + 0x4],EDI
005e5f5b : POP EDI
005e5f5c : POP ESI
005e5f5d : POP EBP
005e5f5e : POP EBX
005e5f5f : RET 0xc
005e5f62 : MOV ECX,dword ptr [EAX + 0x4]
005e5f65 : MOV EBX,EDI
005e5f67 : INC EBX
005e5f68 : AND EBX,ECX
005e5f6a : LEA EBP,[EBX + EBX*0x2]
005e5f6d : CMP dword ptr [EAX + EBP*0x8 + 0x8],EDX
005e5f71 : JNZ 0x005e5f67
005e5f73 : MOV EDX,dword ptr [ESI + 0x4]
005e5f76 : LEA ECX,[EBX + EBX*0x2]
005e5f79 : LEA ECX,[EAX + ECX*0x8 + 0x8]
005e5f7d : CMP EDX,EDI
005e5f7f : JNZ 0x005e5fc4
005e5f81 : TEST ECX,ECX
005e5f83 : JZ 0x005e5f8b
005e5f85 : PUSH ESI
005e5f86 : CALL 0x005e5b00
005e5f8b : MOV EBP,dword ptr [ESP + 0x18]
005e5f8f : LEA ECX,[ESI + 0x8]
005e5f92 : PUSH EBP
005e5f93 : CALL 0x0051bc20
005e5f98 : ADD EBP,0x4
005e5f9b : LEA ECX,[ESI + 0xc]
005e5f9e : PUSH EBP
005e5f9f : MOV dword ptr [ESP + 0x1c],ECX
005e5fa3 : CALL 0x0051bc20
005e5fa8 : FLD float ptr [EBP + 0x4]
005e5fab : MOV EAX,dword ptr [ESP + 0x18]
005e5faf : FSTP float ptr [EAX + 0x4]
005e5fb2 : MOV EDX,dword ptr [EBP + 0x8]
005e5fb5 : MOV dword ptr [EAX + 0x8],EDX
005e5fb8 : MOV dword ptr [ESI + 0x4],EDI
005e5fbb : POP EDI
005e5fbc : MOV dword ptr [ESI],EBX
005e5fbe : POP ESI
005e5fbf : POP EBP
005e5fc0 : POP EBX
005e5fc1 : RET 0xc
005e5fc4 : LEA EDX,[EDX + EDX*0x2]
005e5fc7 : CMP dword ptr [EAX + EDX*0x8 + 0x8],EDI
005e5fcb : LEA EBP,[EAX + EDX*0x8 + 0x8]
005e5fcf : JZ 0x005e5fe2
005e5fd1 : MOV EBP,dword ptr [EBP]
005e5fd4 : LEA EDX,[EBP + EBP*0x2]
005e5fd8 : CMP dword ptr [EAX + EDX*0x8 + 0x8],EDI
005e5fdc : LEA EBP,[EAX + EDX*0x8 + 0x8]
005e5fe0 : JNZ 0x005e5fd1
005e5fe2 : TEST ECX,ECX
005e5fe4 : JZ 0x005e5fec
005e5fe6 : PUSH ESI
005e5fe7 : CALL 0x005e5b00
005e5fec : MOV dword ptr [EBP],EBX
005e5fef : MOV EBX,dword ptr [ESP + 0x18]
005e5ff3 : LEA EBP,[ESI + 0x8]
005e5ff6 : PUSH EBX
005e5ff7 : MOV ECX,EBP
005e5ff9 : CALL 0x0051bc20
005e5ffe : ADD EBX,0x4
005e6001 : ADD EBP,0x4
005e6004 : PUSH EBX
005e6005 : MOV ECX,EBP
005e6007 : CALL 0x0051bc20
005e600c : FLD float ptr [EBX + 0x4]
005e600f : FSTP float ptr [EBP + 0x4]
005e6012 : MOV EAX,dword ptr [EBX + 0x8]
005e6015 : MOV dword ptr [EBP + 0x8],EAX
005e6018 : MOV dword ptr [ESI + 0x4],EDI
005e601b : POP EDI
005e601c : MOV dword ptr [ESI],0xffffffff
005e6022 : POP ESI
005e6023 : POP EBP
005e6024 : POP EBX
005e6025 : RET 0xc
