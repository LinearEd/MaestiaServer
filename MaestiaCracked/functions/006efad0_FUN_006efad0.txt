PROGRAM  : Maestia.exe
FUNCTION : FUN_006efad0
ENTRY    : 006efad0
BODY     : [[006efad0, 006efb89]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_006efad0(undefined4 *param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  undefined4 uVar4;
  BOOL BVar5;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b36811;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_00cd083c;
  local_8 = 0;
  uVar2 = DAT_01725270 >> 3;
  *param_1 = &PTR_FUN_00cdec90;
  iVar3 = FUN_006f0760(4,"",0,(uVar2 & 1) == 0,uVar1);
  local_8._0_1_ = 1;
  if (iVar3 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = FUN_004f7be0();
  }
  local_8 = (uint)local_8._1_3_ << 8;
  param_1[1] = uVar4;
  param_1[2] = &PTR_FUN_00cdec94;
  BVar5 = InitializeCriticalSectionAndSpinCount((LPCRITICAL_SECTION)(param_1 + 3),4000);
  if (BVar5 == 0) {
    InitializeCriticalSection((LPCRITICAL_SECTION)(param_1 + 3));
  }
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
006efad0 : PUSH EBP
006efad1 : MOV EBP,ESP
006efad3 : PUSH -0x1
006efad5 : PUSH 0xb36811
006efada : MOV EAX,FS:[0x0]
006efae0 : PUSH EAX
006efae1 : PUSH ECX
006efae2 : PUSH ESI
006efae3 : PUSH EDI
006efae4 : MOV EAX,[0x00d66fa0]
006efae9 : XOR EAX,EBP
006efaeb : PUSH EAX
006efaec : LEA EAX,[EBP + -0xc]
006efaef : MOV FS:[0x0],EAX
006efaf5 : MOV EDI,dword ptr [EBP + 0x8]
006efaf8 : MOV dword ptr [EDI],0xcd083c
006efafe : MOV dword ptr [EBP + -0x4],0x0
006efb05 : MOV EAX,[0x01725270]
006efb0a : SHR EAX,0x3
006efb0d : MOV ECX,0x0
006efb12 : AND EAX,0x1
006efb15 : SETZ CL
006efb18 : MOV dword ptr [EDI],0xcdec90
006efb1e : PUSH ECX
006efb1f : PUSH 0x0
006efb21 : PUSH 0xbf1a4a
006efb26 : PUSH 0x4
006efb28 : CALL 0x006f0760
006efb2d : ADD ESP,0x10
006efb30 : MOV dword ptr [EBP + -0x10],EAX
006efb33 : MOV byte ptr [EBP + -0x4],0x1
006efb37 : TEST EAX,EAX
006efb39 : JZ 0x006efb44
006efb3b : MOV ESI,EAX
006efb3d : CALL 0x004f7be0
006efb42 : JMP 0x006efb46
006efb44 : XOR EAX,EAX
006efb46 : MOV byte ptr [EBP + -0x4],0x0
006efb4a : PUSH 0xfa0
006efb4f : LEA ESI,[EDI + 0xc]
006efb52 : MOV dword ptr [EDI + 0x4],EAX
006efb55 : PUSH ESI
006efb56 : MOV dword ptr [EDI + 0x8],0xcdec94
006efb5d : CALL dword ptr [0x00b85110]
006efb63 : TEST EAX,EAX
006efb65 : JNZ 0x006efb6e
006efb67 : PUSH ESI
006efb68 : CALL dword ptr [0x00b85114]
006efb6e : MOV dword ptr [EBP + -0x4],0xffffffff
006efb75 : MOV EAX,EDI
006efb77 : MOV ECX,dword ptr [EBP + -0xc]
006efb7a : MOV dword ptr FS:[0x0],ECX
006efb81 : POP ECX
006efb82 : POP EDI
006efb83 : POP ESI
006efb84 : MOV ESP,EBP
006efb86 : POP EBP
006efb87 : RET 0x4
