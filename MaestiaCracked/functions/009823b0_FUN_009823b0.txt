PROGRAM  : Maestia.exe
FUNCTION : FUN_009823b0
ENTRY    : 009823b0
BODY     : [[009823b0, 00982463] [00982470, 009826c3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009823b0(int param_1,int param_2)

{
  int iVar1;
  undefined4 ****ppppuVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  undefined1 auStack_f4 [48];
  int local_c4;
  int local_c0;
  int local_bc;
  undefined4 uStack_b8;
  undefined4 uStack_b4;
  undefined4 uStack_b0;
  float fStack_ac;
  float fStack_a8;
  undefined4 uStack_a4;
  undefined4 ***apppuStack_9c [4];
  undefined4 uStack_8c;
  uint uStack_88;
  uint local_84;
  void *local_4c;
  undefined1 *puStack_48;
  undefined4 uStack_44;
  
  uStack_44 = 0xffffffff;
  puStack_48 = &LAB_00b40728;
  local_4c = ExceptionList;
  local_84 = DAT_00d66fa0 ^ (uint)auStack_f4;
  ExceptionList = &local_4c;
  if (*(char *)(param_1 + 0x32) != '\0') {
    if ((param_2 == 0) ||
       (iVar4 = *(int *)(DAT_00da93ec + 0x390) - *(int *)(DAT_00da93ec + 0x38c),
       iVar1 = iVar4 >> 0x1f, iVar3 = DAT_00da93ec, iVar4 / 0x30 + iVar1 == iVar1)) {
      iVar1 = *DAT_00da9894;
      if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
        (**(code **)**(undefined4 **)(iVar1 + 0x114))
                  ("mc_minimap_large.minimapL.ClearAllRvRTowerPos",
                   DAT_00d66fa0 ^ (uint)&stack0xffffff00);
      }
      iVar3 = DAT_00da93ec;
      iVar1 = *(int *)(DAT_00da93ec + 0x38c);
      if (iVar1 != *(int *)(DAT_00da93ec + 0x390)) {
        do {
          *(undefined4 *)(iVar1 + 0x1c) = 0xffffffff;
          iVar1 = iVar1 + 0x30;
        } while (iVar1 != *(int *)(iVar3 + 0x390));
      }
    }
    piVar5 = *(int **)(iVar3 + 0x38c);
    iVar1 = 0;
    if (piVar5 != *(int **)(iVar3 + 0x390)) {
      do {
        piVar5[7] = iVar1;
        iVar1 = iVar1 + 1;
        local_c0 = 0;
        local_c4 = 0;
        local_bc = iVar1;
        if (((char)piVar5[2] != '\x01') || (*piVar5 != 0)) {
          fStack_ac = (float)(*(ushort *)((int)piVar5 + 10) + 5);
          fStack_a8 = (float)(*(ushort *)(piVar5 + 3) + 5);
          uStack_b8 = 0;
          uStack_b4 = 0;
          uStack_b0 = 0;
          uStack_a4 = 0;
          FUN_007e9290(*(undefined4 *)(*(int *)(DAT_0172491c + 0x90) + 0xf0));
          iVar4 = FUN_00a1c1f0((short)piVar5[1]);
          iVar3 = DAT_00da93ec;
          if (iVar4 != 0) {
            FUN_00404750(&DAT_00c8056c,piVar5[7] + 1);
            uStack_44 = 0;
            if (param_2 == 0) {
              FUN_009802e0(param_1);
              iVar1 = *DAT_00da9894;
              local_c0 = (int)(((float)local_c0 - 256.0) + 256.0);
              if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
                ppppuVar2 = (undefined4 ****)apppuStack_9c[0];
                if (uStack_88 < 8) {
                  ppppuVar2 = apppuStack_9c;
                }
                (**(code **)(**(int **)(iVar1 + 0x114) + 4))
                          (*(int **)(iVar1 + 0x114),"mc_minimap_large.minimapL.AddRvRTowerPos",
                           "%d,%d,%ls,%f,%f,%b,%d",piVar5[7],*(undefined2 *)((int)piVar5 + 6),
                           ppppuVar2,(double)(int)(((float)local_c4 - 256.0) + 256.0),
                           (double)local_c0,piVar5[5] != 0,(char)piVar5[2]);
              }
            }
            else {
              iVar1 = *DAT_00da9894;
              if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
                (**(code **)(**(int **)(iVar1 + 0x114) + 4))();
              }
            }
            uStack_44 = 0xffffffff;
            if (7 < uStack_88) {
                    /* WARNING: Subroutine does not return */
              FUN_006f04e0();
            }
            uStack_88 = 7;
            uStack_8c = 0;
            apppuStack_9c[0] = (undefined4 ***)((uint)apppuStack_9c[0] & 0xffff0000);
            iVar3 = DAT_00da93ec;
            iVar1 = local_bc;
          }
        }
        piVar5 = piVar5 + 0xc;
      } while (piVar5 != *(int **)(iVar3 + 0x390));
    }
  }
  ExceptionList = local_4c;
  __security_check_cookie(local_84 ^ (uint)auStack_f4);
  return;
}



============================================================
DISASSEMBLY
============================================================
009823b0 : PUSH EBP
009823b1 : MOV EBP,ESP
009823b3 : AND ESP,0xffffffc0
009823b6 : PUSH -0x1
009823b8 : PUSH 0xb40728
009823bd : MOV EAX,FS:[0x0]
009823c3 : PUSH EAX
009823c4 : SUB ESP,0xa8
009823ca : MOV EAX,[0x00d66fa0]
009823cf : XOR EAX,ESP
009823d1 : MOV dword ptr [ESP + 0x70],EAX
009823d5 : PUSH EBX
009823d6 : PUSH ESI
009823d7 : PUSH EDI
009823d8 : MOV EAX,[0x00d66fa0]
009823dd : XOR EAX,ESP
009823df : PUSH EAX
009823e0 : LEA EAX,[ESP + 0xb8]
009823e7 : MOV FS:[0x0],EAX
009823ed : MOV EAX,dword ptr [EBP + 0x8]
009823f0 : MOV AL,byte ptr [EAX + 0x32]
009823f3 : XOR EBX,EBX
009823f5 : CMP AL,BL
009823f7 : JZ 0x009826a1
009823fd : MOV ECX,dword ptr [0x00da93ec]
00982403 : CMP dword ptr [EBP + 0xc],EBX
00982406 : JZ 0x00982427
00982408 : MOV EDX,dword ptr [ECX + 0x390]
0098240e : SUB EDX,dword ptr [ECX + 0x38c]
00982414 : MOV EAX,0x2aaaaaab
00982419 : IMUL EDX
0098241b : SAR EDX,0x3
0098241e : MOV EAX,EDX
00982420 : SHR EAX,0x1f
00982423 : ADD EAX,EDX
00982425 : JNZ 0x00982482
00982427 : MOV EDX,dword ptr [0x00da9894]
0098242d : MOV EAX,dword ptr [EDX]
0098242f : CMP EAX,EBX
00982431 : JZ 0x00982454
00982433 : CMP dword ptr [EAX + 0x114],EBX
00982439 : JZ 0x00982454
0098243b : MOV EAX,dword ptr [EAX + 0x114]
00982441 : MOV EDX,dword ptr [EAX]
00982443 : MOV ECX,EAX
00982445 : MOV EAX,dword ptr [EDX]
00982447 : PUSH 0xc8053c
0098244c : CALL EAX
0098244e : MOV ECX,dword ptr [0x00da93ec]
00982454 : MOV EAX,dword ptr [ECX + 0x38c]
0098245a : CMP EAX,dword ptr [ECX + 0x390]
00982460 : JZ 0x00982482
00982462 : JMP 0x00982470
00982470 : MOV dword ptr [EAX + 0x1c],0xffffffff
00982477 : ADD EAX,0x30
0098247a : CMP EAX,dword ptr [ECX + 0x390]
00982480 : JNZ 0x00982470
00982482 : MOV EDI,dword ptr [ECX + 0x38c]
00982488 : XOR ESI,ESI
0098248a : CMP EDI,dword ptr [ECX + 0x390]
00982490 : JZ 0x009826a1
00982496 : XORPS XMM0,XMM0
00982499 : LEA ESP,[ESP]
009824a0 : MOV dword ptr [EDI + 0x1c],ESI
009824a3 : INC ESI
009824a4 : CMP byte ptr [EDI + 0x8],0x1
009824a8 : MOV dword ptr [ESP + 0x44],EBX
009824ac : MOV dword ptr [ESP + 0x40],EBX
009824b0 : MOV dword ptr [ESP + 0x48],ESI
009824b4 : JNZ 0x009824be
009824b6 : CMP dword ptr [EDI],EBX
009824b8 : JZ 0x00982692
009824be : MOVZX ECX,word ptr [EDI + 0xa]
009824c2 : MOVZX EDX,word ptr [EDI + 0xc]
009824c6 : MOV EAX,[0x0172491c]
009824cb : MOV EAX,dword ptr [EAX + 0x90]
009824d1 : MOV EAX,dword ptr [EAX + 0xf0]
009824d7 : ADD ECX,0x5
009824da : ADD EDX,0x5
009824dd : CVTSI2SS XMM1,ECX
009824e1 : CVTSI2SS XMM2,EDX
009824e5 : PUSH EAX
009824e6 : LEA EDX,[ESP + 0x50]
009824ea : LEA ECX,[ESP + 0x5c]
009824ee : MOVSS dword ptr [ESP + 0x50],XMM0
009824f4 : MOVSS dword ptr [ESP + 0x54],XMM0
009824fa : MOVSS dword ptr [ESP + 0x58],XMM0
00982500 : MOVSS dword ptr [ESP + 0x5c],XMM1
00982506 : MOVSS dword ptr [ESP + 0x60],XMM2
0098250c : MOVSS dword ptr [ESP + 0x64],XMM0
00982512 : CALL 0x007e9290
00982517 : MOVZX ECX,word ptr [EDI + 0x4]
0098251b : MOV EAX,[0x00da93ec]
00982520 : PUSH ECX
00982521 : CALL 0x00a1c1f0
00982526 : CMP EAX,EBX
00982528 : JZ 0x00982689
0098252e : MOV EDX,dword ptr [EDI + 0x1c]
00982531 : INC EDX
00982532 : PUSH EDX
00982533 : PUSH 0xc8056c
00982538 : LEA ESI,[ESP + 0x6c]
0098253c : CALL 0x00404750
00982541 : ADD ESP,0x8
00982544 : MOV dword ptr [ESP + 0xc0],EBX
0098254b : CMP dword ptr [EBP + 0xc],EBX
0098254e : JZ 0x0098259f
00982550 : MOV EAX,[0x00da9894]
00982555 : MOV EAX,dword ptr [EAX]
00982557 : CMP EAX,EBX
00982559 : JZ 0x00982657
0098255f : CMP dword ptr [EAX + 0x114],EBX
00982565 : JZ 0x00982657
0098256b : CMP dword ptr [ESP + 0x7c],0x8
00982570 : MOV EAX,dword ptr [EAX + 0x114]
00982576 : MOV ECX,dword ptr [ESP + 0x68]
0098257a : JNC 0x00982580
0098257c : LEA ECX,[ESP + 0x68]
00982580 : MOV EDX,dword ptr [EAX]
00982582 : MOV EDX,dword ptr [EDX + 0x4]
00982585 : PUSH ECX
00982586 : MOV ECX,dword ptr [EDI + 0x1c]
00982589 : PUSH ECX
0098258a : PUSH 0xc80574
0098258f : PUSH 0xc8057c
00982594 : PUSH EAX
00982595 : CALL EDX
00982597 : ADD ESP,0x14
0098259a : JMP 0x00982657
0098259f : MOV EAX,dword ptr [EBP + 0x8]
009825a2 : PUSH EAX
009825a3 : LEA ECX,[ESP + 0x44]
009825a7 : LEA EDX,[ESP + 0x50]
009825ab : CALL 0x009802e0
009825b0 : MOVSS XMM0,dword ptr [0x00cdf208]
009825b8 : CVTSI2SS XMM1,dword ptr [ESP + 0x40]
009825be : MOV EAX,[0x00da9894]
009825c3 : MOV EAX,dword ptr [EAX]
009825c5 : SUBSS XMM1,XMM0
009825c9 : ADDSS XMM1,XMM0
009825cd : CVTTSS2SI EDX,XMM1
009825d1 : CVTSI2SS XMM1,dword ptr [ESP + 0x44]
009825d7 : SUBSS XMM1,XMM0
009825db : ADDSS XMM1,XMM0
009825df : CVTTSS2SI ECX,XMM1
009825e3 : MOV dword ptr [ESP + 0x44],ECX
009825e7 : CMP EAX,EBX
009825e9 : JZ 0x00982657
009825eb : CMP dword ptr [EAX + 0x114],EBX
009825f1 : JZ 0x00982657
009825f3 : CMP dword ptr [ESP + 0x7c],0x8
009825f8 : MOV EAX,dword ptr [EAX + 0x114]
009825fe : MOV ECX,dword ptr [ESP + 0x68]
00982602 : JNC 0x00982608
00982604 : LEA ECX,[ESP + 0x68]
00982608 : MOVZX EBX,byte ptr [EDI + 0x8]
0098260c : CVTSI2SS XMM0,dword ptr [ESP + 0x44]
00982612 : PUSH EBX
00982613 : MOV ESI,dword ptr [EAX]
00982615 : XOR EBX,EBX
00982617 : CMP EBX,dword ptr [EDI + 0x14]
0098261a : CVTPS2PD XMM0,XMM0
0098261d : SBB EBX,EBX
0098261f : NEG EBX
00982621 : PUSH EBX
00982622 : SUB ESP,0x10
00982625 : MOVSD qword ptr [ESP + 0x8],XMM0
0098262b : CVTSI2SS XMM0,EDX
0098262f : MOV EDX,dword ptr [EDI + 0x1c]
00982632 : CVTSS2SD XMM0,XMM0
00982636 : MOVSD qword ptr [ESP],XMM0
0098263b : PUSH ECX
0098263c : MOVZX ECX,word ptr [EDI + 0x6]
00982640 : PUSH ECX
00982641 : PUSH EDX
00982642 : PUSH 0xc805ac
00982647 : PUSH 0xc805c4
0098264c : PUSH EAX
0098264d : MOV EAX,dword ptr [ESI + 0x4]
00982650 : CALL EAX
00982652 : ADD ESP,0x30
00982655 : XOR EBX,EBX
00982657 : MOV dword ptr [ESP + 0xc0],0xffffffff
00982662 : CMP dword ptr [ESP + 0x7c],0x8
00982667 : JC 0x00982672
00982669 : MOV ECX,dword ptr [ESP + 0x68]
0098266d : CALL 0x006f04e0
00982672 : MOV ESI,dword ptr [ESP + 0x48]
00982676 : XOR ECX,ECX
00982678 : MOV dword ptr [ESP + 0x7c],0x7
00982680 : MOV dword ptr [ESP + 0x78],EBX
00982684 : MOV word ptr [ESP + 0x68],CX
00982689 : XORPS XMM0,XMM0
0098268c : MOV ECX,dword ptr [0x00da93ec]
00982692 : ADD EDI,0x30
00982695 : CMP EDI,dword ptr [ECX + 0x390]
0098269b : JNZ 0x009824a0
009826a1 : MOV ECX,dword ptr [ESP + 0xb8]
009826a8 : MOV dword ptr FS:[0x0],ECX
009826af : POP ECX
009826b0 : POP EDI
009826b1 : POP ESI
009826b2 : POP EBX
009826b3 : MOV ECX,dword ptr [ESP + 0x70]
009826b7 : XOR ECX,ESP
009826b9 : CALL 0x00633e6b
009826be : MOV ESP,EBP
009826c0 : POP EBP
009826c1 : RET 0x8
