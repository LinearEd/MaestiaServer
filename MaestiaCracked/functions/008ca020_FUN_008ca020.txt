PROGRAM  : Maestia.exe
FUNCTION : FUN_008ca020
ENTRY    : 008ca020
BODY     : [[008ca020, 008ca1f8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008ca020(undefined4 param_1,undefined4 param_2)

{
  wchar_t wVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  int in_ECX;
  wchar_t *pwVar5;
  wchar_t *pwVar6;
  wchar_t *pwVar7;
  bool bVar8;
  uint local_40;
  undefined1 local_3c [4];
  undefined2 local_38;
  undefined4 local_28;
  uint local_24;
  undefined1 local_20 [4];
  int local_1c;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b6cbbe;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_24 = 7;
  local_28 = 0;
  local_38 = 0;
  FUN_00406360(&DAT_00c51f00,1);
  local_8 = 0;
  uVar3 = FUN_00404350(param_2,uVar2);
  local_8._0_1_ = 1;
  FUN_0070cd60(local_20,uVar3,local_3c,0);
  local_8 = CONCAT31(local_8._1_3_,3);
  if (7 < local_40) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_8 = CONCAT31(local_8._1_3_,4);
  if (7 < local_24) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_24 = 7;
  uVar2 = *(uint *)(in_ECX + 0x18);
  pwVar7 = (wchar_t *)(in_ECX + 4);
  local_28 = 0;
  local_38 = 0;
  pwVar6 = pwVar7;
  if (7 < uVar2) {
    pwVar6 = *(wchar_t **)pwVar7;
  }
  pwVar5 = L"onInit";
  do {
    wVar1 = *pwVar6;
    bVar8 = (ushort)wVar1 < (ushort)*pwVar5;
    if (wVar1 != *pwVar5) {
LAB_008ca10e:
      iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
      goto LAB_008ca113;
    }
    if (wVar1 == L'\0') break;
    wVar1 = pwVar6[1];
    bVar8 = (ushort)wVar1 < (ushort)pwVar5[1];
    if (wVar1 != pwVar5[1]) goto LAB_008ca10e;
    pwVar6 = pwVar6 + 2;
    pwVar5 = pwVar5 + 2;
  } while (wVar1 != L'\0');
  iVar4 = 0;
LAB_008ca113:
  if (iVar4 == 0) {
    FUN_008c9890(param_1);
  }
  else {
    pwVar6 = pwVar7;
    if (7 < uVar2) {
      pwVar6 = *(wchar_t **)pwVar7;
    }
    pwVar5 = L"DrawTooltip";
    do {
      wVar1 = *pwVar6;
      bVar8 = (ushort)wVar1 < (ushort)*pwVar5;
      if (wVar1 != *pwVar5) {
LAB_008ca15b:
        iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
        goto LAB_008ca160;
      }
      if (wVar1 == L'\0') break;
      wVar1 = pwVar6[1];
      bVar8 = (ushort)wVar1 < (ushort)pwVar5[1];
      if (wVar1 != pwVar5[1]) goto LAB_008ca15b;
      pwVar6 = pwVar6 + 2;
      pwVar5 = pwVar5 + 2;
    } while (wVar1 != L'\0');
    iVar4 = 0;
LAB_008ca160:
    if (iVar4 == 0) {
      FUN_008c9ab0(param_1);
    }
    else {
      if (7 < uVar2) {
        pwVar7 = *(wchar_t **)pwVar7;
      }
      pwVar6 = L"ClearTooltip";
      do {
        wVar1 = *pwVar7;
        bVar8 = (ushort)wVar1 < (ushort)*pwVar6;
        if (wVar1 != *pwVar6) {
LAB_008ca1a6:
          iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
          goto LAB_008ca1ab;
        }
        if (wVar1 == L'\0') break;
        wVar1 = pwVar7[1];
        bVar8 = (ushort)wVar1 < (ushort)pwVar6[1];
        if (wVar1 != pwVar6[1]) goto LAB_008ca1a6;
        pwVar7 = pwVar7 + 2;
        pwVar6 = pwVar6 + 2;
      } while (wVar1 != L'\0');
      iVar4 = 0;
LAB_008ca1ab:
      if (iVar4 == 0) {
        FUN_008c9550();
      }
    }
  }
  local_8 = 0xffffffff;
  if (local_1c == 0) {
    ExceptionList = local_10;
    return;
  }
  FUN_00405450(param_1);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
008ca020 : PUSH EBP
008ca021 : MOV EBP,ESP
008ca023 : PUSH -0x1
008ca025 : PUSH 0xb6cbbe
008ca02a : MOV EAX,FS:[0x0]
008ca030 : PUSH EAX
008ca031 : SUB ESP,0x4c
008ca034 : PUSH EBX
008ca035 : PUSH ESI
008ca036 : PUSH EDI
008ca037 : MOV EAX,[0x00d66fa0]
008ca03c : XOR EAX,EBP
008ca03e : PUSH EAX
008ca03f : LEA EAX,[EBP + -0xc]
008ca042 : MOV FS:[0x0],EAX
008ca048 : MOV EDI,ECX
008ca04a : PUSH 0x1
008ca04c : XOR EAX,EAX
008ca04e : MOV EBX,0x7
008ca053 : XOR ESI,ESI
008ca055 : PUSH 0xc51f00
008ca05a : LEA ECX,[EBP + -0x38]
008ca05d : MOV dword ptr [EBP + -0x20],EBX
008ca060 : MOV dword ptr [EBP + -0x24],ESI
008ca063 : MOV word ptr [EBP + -0x34],AX
008ca067 : CALL 0x00406360
008ca06c : MOV dword ptr [EBP + -0x4],ESI
008ca06f : MOV ECX,dword ptr [EBP + 0xc]
008ca072 : PUSH ECX
008ca073 : LEA ESI,[EBP + -0x54]
008ca076 : CALL 0x00404350
008ca07b : ADD ESP,0x4
008ca07e : MOV byte ptr [EBP + -0x4],0x1
008ca082 : XOR ESI,ESI
008ca084 : PUSH ESI
008ca085 : LEA EDX,[EBP + -0x38]
008ca088 : PUSH EDX
008ca089 : PUSH EAX
008ca08a : LEA EAX,[EBP + -0x1c]
008ca08d : PUSH EAX
008ca08e : CALL 0x0070cd60
008ca093 : ADD ESP,0x10
008ca096 : MOV byte ptr [EBP + -0x4],0x3
008ca09a : CMP dword ptr [EBP + -0x3c],0x8
008ca09e : JC 0x008ca0a8
008ca0a0 : MOV ECX,dword ptr [EBP + -0x50]
008ca0a3 : CALL 0x006f04e0
008ca0a8 : XOR ECX,ECX
008ca0aa : MOV dword ptr [EBP + -0x3c],EBX
008ca0ad : MOV dword ptr [EBP + -0x40],ESI
008ca0b0 : MOV word ptr [EBP + -0x50],CX
008ca0b4 : MOV byte ptr [EBP + -0x4],0x4
008ca0b8 : CMP dword ptr [EBP + -0x20],0x8
008ca0bc : JC 0x008ca0c6
008ca0be : MOV ECX,dword ptr [EBP + -0x34]
008ca0c1 : CALL 0x006f04e0
008ca0c6 : MOV dword ptr [EBP + -0x20],EBX
008ca0c9 : MOV EBX,dword ptr [EDI + 0x18]
008ca0cc : XOR EDX,EDX
008ca0ce : ADD EDI,0x4
008ca0d1 : MOV dword ptr [EBP + -0x24],ESI
008ca0d4 : MOV word ptr [EBP + -0x34],DX
008ca0d8 : CMP EBX,0x8
008ca0db : JC 0x008ca0e1
008ca0dd : MOV EAX,dword ptr [EDI]
008ca0df : JMP 0x008ca0e3
008ca0e1 : MOV EAX,EDI
008ca0e3 : MOV ECX,0xc51f04
008ca0e8 : MOV DX,word ptr [EAX]
008ca0eb : CMP DX,word ptr [ECX]
008ca0ee : JNZ 0x008ca10e
008ca0f0 : CMP DX,SI
008ca0f3 : JZ 0x008ca10a
008ca0f5 : MOV DX,word ptr [EAX + 0x2]
008ca0f9 : CMP DX,word ptr [ECX + 0x2]
008ca0fd : JNZ 0x008ca10e
008ca0ff : ADD EAX,0x4
008ca102 : ADD ECX,0x4
008ca105 : CMP DX,SI
008ca108 : JNZ 0x008ca0e8
008ca10a : XOR EAX,EAX
008ca10c : JMP 0x008ca113
008ca10e : SBB EAX,EAX
008ca110 : SBB EAX,-0x1
008ca113 : CMP EAX,ESI
008ca115 : JNZ 0x008ca125
008ca117 : MOV EAX,dword ptr [EBP + 0x8]
008ca11a : PUSH EAX
008ca11b : CALL 0x008c9890
008ca120 : JMP 0x008ca1b7
008ca125 : CMP EBX,0x8
008ca128 : JC 0x008ca12e
008ca12a : MOV EAX,dword ptr [EDI]
008ca12c : JMP 0x008ca130
008ca12e : MOV EAX,EDI
008ca130 : MOV ECX,0xc51f14
008ca135 : MOV DX,word ptr [EAX]
008ca138 : CMP DX,word ptr [ECX]
008ca13b : JNZ 0x008ca15b
008ca13d : CMP DX,SI
008ca140 : JZ 0x008ca157
008ca142 : MOV DX,word ptr [EAX + 0x2]
008ca146 : CMP DX,word ptr [ECX + 0x2]
008ca14a : JNZ 0x008ca15b
008ca14c : ADD EAX,0x4
008ca14f : ADD ECX,0x4
008ca152 : CMP DX,SI
008ca155 : JNZ 0x008ca135
008ca157 : XOR EAX,EAX
008ca159 : JMP 0x008ca160
008ca15b : SBB EAX,EAX
008ca15d : SBB EAX,-0x1
008ca160 : CMP EAX,ESI
008ca162 : JNZ 0x008ca16f
008ca164 : MOV ECX,dword ptr [EBP + 0x8]
008ca167 : PUSH ECX
008ca168 : CALL 0x008c9ab0
008ca16d : JMP 0x008ca1b7
008ca16f : CMP EBX,0x8
008ca172 : JC 0x008ca178
008ca174 : MOV EAX,dword ptr [EDI]
008ca176 : JMP 0x008ca17a
008ca178 : MOV EAX,EDI
008ca17a : MOV ECX,0xc51f2c
008ca17f : NOP
008ca180 : MOV DX,word ptr [EAX]
008ca183 : CMP DX,word ptr [ECX]
008ca186 : JNZ 0x008ca1a6
008ca188 : CMP DX,SI
008ca18b : JZ 0x008ca1a2
008ca18d : MOV DX,word ptr [EAX + 0x2]
008ca191 : CMP DX,word ptr [ECX + 0x2]
008ca195 : JNZ 0x008ca1a6
008ca197 : ADD EAX,0x4
008ca19a : ADD ECX,0x4
008ca19d : CMP DX,SI
008ca1a0 : JNZ 0x008ca180
008ca1a2 : XOR EAX,EAX
008ca1a4 : JMP 0x008ca1ab
008ca1a6 : SBB EAX,EAX
008ca1a8 : SBB EAX,-0x1
008ca1ab : CMP EAX,ESI
008ca1ad : JNZ 0x008ca1b7
008ca1af : MOV EAX,dword ptr [EBP + 0x8]
008ca1b2 : CALL 0x008c9550
008ca1b7 : MOV dword ptr [EBP + -0x4],0xffffffff
008ca1be : MOV EAX,dword ptr [EBP + -0x18]
008ca1c1 : CMP EAX,ESI
008ca1c3 : JZ 0x008ca1dc
008ca1c5 : MOV EDX,dword ptr [EBP + 0x8]
008ca1c8 : MOV EDI,dword ptr [EBP + -0x14]
008ca1cb : PUSH EDX
008ca1cc : CALL 0x00405450
008ca1d1 : MOV ECX,dword ptr [EBP + -0x18]
008ca1d4 : ADD ESP,0x4
008ca1d7 : CALL 0x006f04e0
008ca1dc : MOV dword ptr [EBP + -0x18],ESI
008ca1df : MOV dword ptr [EBP + -0x14],ESI
008ca1e2 : MOV dword ptr [EBP + -0x10],ESI
008ca1e5 : MOV ECX,dword ptr [EBP + -0xc]
008ca1e8 : MOV dword ptr FS:[0x0],ECX
008ca1ef : POP ECX
008ca1f0 : POP EDI
008ca1f1 : POP ESI
008ca1f2 : POP EBX
008ca1f3 : MOV ESP,EBP
008ca1f5 : POP EBP
008ca1f6 : RET 0x8
