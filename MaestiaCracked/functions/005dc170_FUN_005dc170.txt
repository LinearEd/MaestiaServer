PROGRAM  : Maestia.exe
FUNCTION : FUN_005dc170
ENTRY    : 005dc170
BODY     : [[005dc170, 005dc1ed]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005dc170(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0xa0);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 0x83;
  iVar1 = FUN_00515d60(param_1,uVar2 * 0xa0,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
005dc170 : MOV EAX,dword ptr [ESP + 0x8]
005dc174 : PUSH EDI
005dc175 : MOV EDI,ECX
005dc177 : TEST EAX,EAX
005dc179 : JNZ 0x005dc198
005dc17b : MOV EAX,dword ptr [EDI]
005dc17d : TEST EAX,EAX
005dc17f : JZ 0x005dc18d
005dc181 : PUSH EAX
005dc182 : CALL 0x00515cf0
005dc187 : MOV dword ptr [EDI],0x0
005dc18d : MOV dword ptr [EDI + 0x8],0x0
005dc194 : POP EDI
005dc195 : RET 0x8
005dc198 : PUSH ESI
005dc199 : LEA ESI,[EAX + 0x3]
005dc19c : MOV EAX,dword ptr [EDI]
005dc19e : SHR ESI,0x2
005dc1a1 : ADD ESI,ESI
005dc1a3 : ADD ESI,ESI
005dc1a5 : TEST EAX,EAX
005dc1a7 : JZ 0x005dc1c3
005dc1a9 : LEA ECX,[ESI + ESI*0x4]
005dc1ac : ADD ECX,ECX
005dc1ae : ADD ECX,ECX
005dc1b0 : ADD ECX,ECX
005dc1b2 : PUSH ECX
005dc1b3 : PUSH EAX
005dc1b4 : CALL 0x00515c80
005dc1b9 : MOV dword ptr [EDI + 0x8],ESI
005dc1bc : POP ESI
005dc1bd : MOV dword ptr [EDI],EAX
005dc1bf : POP EDI
005dc1c0 : RET 0x8
005dc1c3 : MOV ECX,dword ptr [ESP + 0xc]
005dc1c7 : LEA EAX,[ESI + ESI*0x4]
005dc1ca : ADD EAX,EAX
005dc1cc : LEA EDX,[ESP + 0x10]
005dc1d0 : ADD EAX,EAX
005dc1d2 : PUSH EDX
005dc1d3 : ADD EAX,EAX
005dc1d5 : PUSH EAX
005dc1d6 : PUSH ECX
005dc1d7 : MOV dword ptr [ESP + 0x1c],0x83
005dc1df : CALL 0x00515d60
005dc1e4 : MOV dword ptr [EDI + 0x8],ESI
005dc1e7 : POP ESI
005dc1e8 : MOV dword ptr [EDI],EAX
005dc1ea : POP EDI
005dc1eb : RET 0x8
