PROGRAM  : Maestia.exe
FUNCTION : FUN_00a73300
ENTRY    : 00a73300
BODY     : [[00a73300, 00a734f5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a73300(int param_1)

{
  char cVar1;
  undefined2 uVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  int *piVar6;
  undefined4 *puVar7;
  uint uVar8;
  int iVar9;
  int *in_ECX;
  short sVar10;
  int iVar11;
  int local_20;
  int *local_1c;
  int local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b63723;
  local_10 = ExceptionList;
  uVar8 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_20 = param_1 + 5;
  local_18 = 0;
  local_1c = in_ECX;
  local_14 = uVar8;
  if (*(char *)(param_1 + 4) != '\0') {
    do {
      iVar11 = 0;
      iVar9 = FUN_006f0760(0x68,"",0,(DAT_01725270 >> 3 & 1) == 0,uVar8);
      local_8 = 0;
      if (iVar9 != 0) {
        iVar11 = FUN_00430210(iVar9);
      }
      local_8 = 0xffffffff;
      FUN_00a6f640(iVar11,&local_20);
      FUN_008a8e10(*(undefined4 *)(iVar11 + 4),iVar11);
      local_18 = local_18 + 1;
      in_ECX = local_1c;
    } while (local_18 < (int)(uint)*(byte *)(param_1 + 4));
  }
  FUN_008a8ba0(in_ECX[4]);
  iVar9 = in_ECX[4];
  DAT_00d6c93e = *(int *)(iVar9 + 0x120) != 2 || DAT_00d6c93e == '\0';
  *(undefined4 *)(iVar9 + 0x120) = 2;
  *(char *)(iVar9 + 0x124) = DAT_00d6c93e;
  FUN_008a8610();
  piVar6 = DAT_00da9894;
  puVar3 = *(undefined4 **)(in_ECX[4] + 0xb4);
  puVar4 = (undefined4 *)*puVar3;
  uVar2 = *(undefined2 *)(in_ECX[4] + 0xb8);
  sVar10 = 0;
  while (puVar4 != puVar3) {
    if (*(int *)(puVar4[4] + 0x10) != 0) {
      sVar10 = sVar10 + 1;
    }
    if (*(char *)((int)puVar4 + 0x15) == '\0') {
      puVar5 = (undefined4 *)puVar4[2];
      if (*(char *)((int)puVar5 + 0x15) == '\0') {
        cVar1 = *(char *)((int)*puVar5 + 0x15);
        puVar4 = puVar5;
        puVar5 = (undefined4 *)*puVar5;
        while (cVar1 == '\0') {
          cVar1 = *(char *)((int)*puVar5 + 0x15);
          puVar4 = puVar5;
          puVar5 = (undefined4 *)*puVar5;
        }
      }
      else {
        cVar1 = *(char *)((int)puVar4[1] + 0x15);
        puVar7 = (undefined4 *)puVar4[1];
        puVar5 = puVar4;
        while ((puVar4 = puVar7, cVar1 == '\0' && (puVar5 == (undefined4 *)puVar4[2]))) {
          cVar1 = *(char *)((int)puVar4[1] + 0x15);
          puVar7 = (undefined4 *)puVar4[1];
          puVar5 = puVar4;
        }
      }
    }
  }
  *(short *)(*in_ECX + 0xb4) = sVar10;
  (**(code **)(**(int **)(*piVar6 + 0x114) + 4))
            (*(int **)(*piVar6 + 0x114),"SetGuildConnectPlayer",&DAT_00c4b414,sVar10);
  piVar6 = DAT_00da9894;
  *(undefined2 *)(*in_ECX + 0xb6) = uVar2;
  (**(code **)(**(int **)(*piVar6 + 0x114) + 4))
            (*(int **)(*piVar6 + 0x114),"SetGuildTotalPlayer",&DAT_00c4b430,uVar2);
  FUN_008ab400();
  FUN_00a72c40(in_ECX);
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a73300 : PUSH EBP
00a73301 : MOV EBP,ESP
00a73303 : PUSH -0x1
00a73305 : PUSH 0xb63723
00a7330a : MOV EAX,FS:[0x0]
00a73310 : PUSH EAX
00a73311 : SUB ESP,0x18
00a73314 : MOV EAX,[0x00d66fa0]
00a73319 : XOR EAX,EBP
00a7331b : MOV dword ptr [EBP + -0x10],EAX
00a7331e : PUSH EBX
00a7331f : PUSH ESI
00a73320 : PUSH EDI
00a73321 : PUSH EAX
00a73322 : LEA EAX,[EBP + -0xc]
00a73325 : MOV FS:[0x0],EAX
00a7332b : MOV EBX,dword ptr [EBP + 0x8]
00a7332e : MOV ESI,ECX
00a73330 : MOVZX ECX,word ptr [EBX]
00a73333 : AND ECX,0x1fff
00a73339 : SUB ECX,0x5
00a7333c : CMP byte ptr [EBX + 0x4],0x0
00a73340 : LEA EAX,[EBX + 0x5]
00a73343 : MOV dword ptr [EBP + -0x18],ESI
00a73346 : MOV dword ptr [EBP + -0x1c],EAX
00a73349 : MOV dword ptr [EBP + -0x20],ECX
00a7334c : MOV dword ptr [EBP + -0x14],0x0
00a73353 : JBE 0x00a733c7
00a73355 : MOV EDX,dword ptr [0x01725270]
00a7335b : SHR EDX,0x3
00a7335e : MOV EAX,0x0
00a73363 : AND EDX,0x1
00a73366 : SETZ AL
00a73369 : XOR EDI,EDI
00a7336b : PUSH EAX
00a7336c : PUSH EDI
00a7336d : PUSH 0xbf1a4a
00a73372 : PUSH 0x68
00a73374 : CALL 0x006f0760
00a73379 : ADD ESP,0x10
00a7337c : MOV dword ptr [EBP + -0x24],EAX
00a7337f : MOV dword ptr [EBP + -0x4],EDI
00a73382 : CMP EAX,EDI
00a73384 : JZ 0x00a7338e
00a73386 : PUSH EAX
00a73387 : CALL 0x00430210
00a7338c : MOV EDI,EAX
00a7338e : MOV dword ptr [EBP + -0x4],0xffffffff
00a73395 : LEA ECX,[EBP + -0x1c]
00a73398 : PUSH ECX
00a73399 : PUSH EDI
00a7339a : LEA ESI,[EBP + -0x20]
00a7339d : CALL 0x00a6f640
00a733a2 : MOV EDX,dword ptr [EDI + 0x4]
00a733a5 : MOV EAX,dword ptr [EBP + -0x18]
00a733a8 : MOV ESI,dword ptr [EAX + 0x10]
00a733ab : ADD ESP,0x8
00a733ae : PUSH EDI
00a733af : PUSH EDX
00a733b0 : CALL 0x008a8e10
00a733b5 : MOV EAX,dword ptr [EBP + -0x14]
00a733b8 : MOVZX ECX,byte ptr [EBX + 0x4]
00a733bc : INC EAX
00a733bd : CMP EAX,ECX
00a733bf : MOV dword ptr [EBP + -0x14],EAX
00a733c2 : JL 0x00a73355
00a733c4 : MOV ESI,dword ptr [EBP + -0x18]
00a733c7 : MOV EDX,dword ptr [ESI + 0x10]
00a733ca : PUSH EDX
00a733cb : CALL 0x008a8ba0
00a733d0 : MOV EAX,dword ptr [ESI + 0x10]
00a733d3 : MOV EDX,0x2
00a733d8 : CMP dword ptr [EAX + 0x120],EDX
00a733de : JNZ 0x00a733ec
00a733e0 : CMP byte ptr [0x00d6c93e],0x0
00a733e7 : SETZ CL
00a733ea : JMP 0x00a733ee
00a733ec : MOV CL,0x1
00a733ee : MOV dword ptr [EAX + 0x120],EDX
00a733f4 : MOV byte ptr [EAX + 0x124],CL
00a733fa : MOV EAX,dword ptr [ESI + 0x10]
00a733fd : MOV byte ptr [0x00d6c93e],CL
00a73403 : CALL 0x008a8610
00a73408 : MOV EAX,dword ptr [ESI + 0x10]
00a7340b : MOV EDX,dword ptr [EAX + 0xb4]
00a73411 : MOV ECX,dword ptr [EDX]
00a73413 : MOVZX EBX,word ptr [EAX + 0xb8]
00a7341a : XOR EDI,EDI
00a7341c : CMP ECX,EDX
00a7341e : JZ 0x00a7346e
00a73420 : MOV EAX,dword ptr [ECX + 0x10]
00a73423 : CMP dword ptr [EAX + 0x10],0x0
00a73427 : JBE 0x00a7342a
00a73429 : INC EDI
00a7342a : CMP byte ptr [ECX + 0x15],0x0
00a7342e : JNZ 0x00a7346a
00a73430 : MOV EAX,dword ptr [ECX + 0x8]
00a73433 : CMP byte ptr [EAX + 0x15],0x0
00a73437 : JNZ 0x00a7344f
00a73439 : MOV ECX,EAX
00a7343b : MOV EAX,dword ptr [ECX]
00a7343d : CMP byte ptr [EAX + 0x15],0x0
00a73441 : JNZ 0x00a7346a
00a73443 : MOV ECX,EAX
00a73445 : MOV EAX,dword ptr [ECX]
00a73447 : CMP byte ptr [EAX + 0x15],0x0
00a7344b : JZ 0x00a73443
00a7344d : JMP 0x00a7346a
00a7344f : MOV EAX,dword ptr [ECX + 0x4]
00a73452 : CMP byte ptr [EAX + 0x15],0x0
00a73456 : JNZ 0x00a73468
00a73458 : CMP ECX,dword ptr [EAX + 0x8]
00a7345b : JNZ 0x00a73468
00a7345d : MOV ECX,EAX
00a7345f : MOV EAX,dword ptr [EAX + 0x4]
00a73462 : CMP byte ptr [EAX + 0x15],0x0
00a73466 : JZ 0x00a73458
00a73468 : MOV ECX,EAX
00a7346a : CMP ECX,EDX
00a7346c : JNZ 0x00a73420
00a7346e : MOV ECX,dword ptr [ESI]
00a73470 : MOV EDX,dword ptr [0x00da9894]
00a73476 : MOV word ptr [ECX + 0xb4],DI
00a7347d : MOV EAX,dword ptr [EDX]
00a7347f : MOV EAX,dword ptr [EAX + 0x114]
00a73485 : MOV ECX,dword ptr [EAX]
00a73487 : MOVZX EDX,DI
00a7348a : PUSH EDX
00a7348b : PUSH 0xc4b414
00a73490 : PUSH 0xc4b418
00a73495 : PUSH EAX
00a73496 : MOV EAX,dword ptr [ECX + 0x4]
00a73499 : CALL EAX
00a7349b : MOV ECX,dword ptr [ESI]
00a7349d : MOV EDX,dword ptr [0x00da9894]
00a734a3 : MOV word ptr [ECX + 0xb6],BX
00a734aa : MOV EAX,dword ptr [EDX]
00a734ac : MOV EAX,dword ptr [EAX + 0x114]
00a734b2 : MOV ECX,dword ptr [EAX]
00a734b4 : MOVZX EDX,BX
00a734b7 : PUSH EDX
00a734b8 : PUSH 0xc4b430
00a734bd : PUSH 0xc4b434
00a734c2 : PUSH EAX
00a734c3 : MOV EAX,dword ptr [ECX + 0x4]
00a734c6 : CALL EAX
00a734c8 : MOV EDI,dword ptr [ESI]
00a734ca : ADD ESP,0x20
00a734cd : CALL 0x008ab400
00a734d2 : PUSH ESI
00a734d3 : CALL 0x00a72c40
00a734d8 : MOV ECX,dword ptr [EBP + -0xc]
00a734db : MOV dword ptr FS:[0x0],ECX
00a734e2 : POP ECX
00a734e3 : POP EDI
00a734e4 : POP ESI
00a734e5 : POP EBX
00a734e6 : MOV ECX,dword ptr [EBP + -0x10]
00a734e9 : XOR ECX,EBP
00a734eb : CALL 0x00633e6b
00a734f0 : MOV ESP,EBP
00a734f2 : POP EBP
00a734f3 : RET 0x4
