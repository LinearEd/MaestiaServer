PROGRAM  : Maestia.exe
FUNCTION : FUN_005e6c40
ENTRY    : 005e6c40
BODY     : [[005e6c40, 005e6cfc]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005e6c40(int param_1)

{
  int iVar1;
  int iVar2;
  GThread *this;
  
  iVar2 = *(int *)(param_1 + 0x314);
  if (iVar2 == 0) {
    iVar2 = param_1 + 0x28;
  }
  *(undefined1 *)(iVar2 + 0x15) = 0;
  if (*(int *)(iVar2 + 0x30) - *(int *)(iVar2 + 0x2c) < 2) {
    FUN_00539fb0(2);
  }
  iVar1 = *(int *)(iVar2 + 0x2c);
  this = (GThread *)
         (uint)CONCAT11(*(undefined1 *)(*(int *)(iVar2 + 0x3c) + 1 + iVar1),
                        *(undefined1 *)(*(int *)(iVar2 + 0x3c) + iVar1));
  *(int *)(iVar2 + 0x2c) = iVar1 + 2;
  GThread::OnExit(this);
  iVar2 = FUN_00515840(0x38,0);
  if (iVar2 == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_00594040(*(undefined4 *)(param_1 + 0x24));
  }
  FUN_0058ffa0(param_1,this);
  *(GThread **)(iVar2 + 0xc) = this;
  FUN_00566b90(this,iVar2);
  if (iVar2 != 0) {
    FUN_00524240();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005e6c40 : PUSH EBX
005e6c41 : PUSH ESI
005e6c42 : PUSH EDI
005e6c43 : MOV EDI,dword ptr [ESP + 0x10]
005e6c47 : MOV ESI,dword ptr [EDI + 0x314]
005e6c4d : TEST ESI,ESI
005e6c4f : JNZ 0x005e6c54
005e6c51 : LEA ESI,[EDI + 0x28]
005e6c54 : MOV EAX,dword ptr [ESI + 0x30]
005e6c57 : SUB EAX,dword ptr [ESI + 0x2c]
005e6c5a : MOV byte ptr [ESI + 0x15],0x0
005e6c5e : CMP EAX,0x2
005e6c61 : JGE 0x005e6c6c
005e6c63 : PUSH 0x2
005e6c65 : MOV ECX,ESI
005e6c67 : CALL 0x00539fb0
005e6c6c : MOV EAX,dword ptr [ESI + 0x2c]
005e6c6f : MOV ECX,dword ptr [ESI + 0x3c]
005e6c72 : MOVZX DX,byte ptr [ECX + EAX*0x1 + 0x1]
005e6c78 : ADD ECX,EAX
005e6c7a : MOVZX CX,byte ptr [ECX]
005e6c7e : SHL DX,0x8
005e6c82 : OR DX,CX
005e6c85 : MOVZX ECX,DX
005e6c88 : ADD EAX,0x2
005e6c8b : MOV dword ptr [ESI + 0x2c],EAX
005e6c8e : MOVZX ESI,CX
005e6c91 : MOVZX EDX,SI
005e6c94 : PUSH EDX
005e6c95 : LEA EAX,[EDI + 0x14]
005e6c98 : PUSH 0xb9403c
005e6c9d : PUSH EAX
005e6c9e : CALL 0x0051d420
005e6ca3 : MOV EAX,dword ptr [EDI + 0x20]
005e6ca6 : MOV EAX,dword ptr [EAX + 0x1c]
005e6ca9 : ADD ESP,0xc
005e6cac : PUSH 0x0
005e6cae : PUSH 0x38
005e6cb0 : MOV ECX,EAX
005e6cb2 : CALL 0x00515840
005e6cb7 : TEST EAX,EAX
005e6cb9 : JZ 0x005e6cca
005e6cbb : MOV ECX,dword ptr [EDI + 0x24]
005e6cbe : PUSH ECX
005e6cbf : MOV ECX,EAX
005e6cc1 : CALL 0x00594040
005e6cc6 : MOV EBX,EAX
005e6cc8 : JMP 0x005e6ccc
005e6cca : XOR EBX,EBX
005e6ccc : PUSH ECX
005e6ccd : MOV EAX,ESP
005e6ccf : PUSH EDI
005e6cd0 : MOV ECX,EBX
005e6cd2 : MOV dword ptr [EAX],ESI
005e6cd4 : CALL 0x0058ffa0
005e6cd9 : MOV EDI,dword ptr [EDI + 0x20]
005e6cdc : PUSH EBX
005e6cdd : PUSH ECX
005e6cde : MOV EAX,ESP
005e6ce0 : MOV dword ptr [EBX + 0xc],ESI
005e6ce3 : MOV ECX,EDI
005e6ce5 : MOV dword ptr [EAX],ESI
005e6ce7 : CALL 0x00566b90
005e6cec : TEST EBX,EBX
005e6cee : JZ 0x005e6cf7
005e6cf0 : MOV ECX,EBX
005e6cf2 : CALL 0x00524240
005e6cf7 : POP EDI
005e6cf8 : POP ESI
005e6cf9 : POP EBX
005e6cfa : RET 0x8
