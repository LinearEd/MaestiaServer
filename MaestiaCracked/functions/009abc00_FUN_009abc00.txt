PROGRAM  : Maestia.exe
FUNCTION : FUN_009abc00
ENTRY    : 009abc00
BODY     : [[009abc00, 009abd88]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009abc00(int param_1,int param_2)

{
  short sVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  uint local_10;
  undefined4 local_c;
  uint local_8;
  
  if ((((DAT_00da93ec != 0) && (*(char *)(DAT_00da93ec + 0x788) != '\0')) &&
      (*(int *)(*DAT_00da9894 + 0x14c) != 0)) &&
     ((*(int *)(*(int *)(*DAT_00da9894 + 0x14c) + 0x6c) != -1 &&
      (*(int *)(param_2 + 0x18) + *(int *)(param_2 + 0x14) != 0)))) {
    piVar2 = (int *)FUN_00a1ba80();
    if (piVar2 == (int *)0x0) {
      FUN_00483f90(L"AvaGuiDamageMeter::AddDamage",*(undefined4 *)(param_2 + 0x10));
      return;
    }
    iVar3 = FUN_00a1ba80();
    if (iVar3 == 0) {
      FUN_00483f90(L"AvaGuiDamageMeter::AddDamage",*(undefined4 *)(param_2 + 0xc));
      return;
    }
    local_8 = local_8 & 0xffffff00;
    sVar1 = (**(code **)(*piVar2 + 0x1e4))();
    if (sVar1 == 0) {
      local_c = *(undefined4 *)(param_2 + 0x10);
    }
    else {
      local_c = *(undefined4 *)(param_2 + 0xc);
    }
    iVar3 = *(int *)(*DAT_00da9894 + 0x14c);
    FUN_004437f0(&local_c);
    if ((local_10 == *(uint *)(iVar3 + 0x3c)) || (*(int *)(local_10 + 0x10) == 0)) {
      FUN_00483f90(L"AvaGuiDamageMeter::AddDamage",*(undefined4 *)(param_2 + 0x10));
    }
    else {
      local_10 = FUN_0092b5a0(*(undefined4 *)(*(int *)(local_10 + 0x10) + 0x4c));
      local_10 = local_10 & 0xffff;
      piVar4 = (int *)FUN_004437f0(&local_10);
      iVar3 = *piVar4;
      sVar1 = (**(code **)(*piVar2 + 0x1e4))();
      if (sVar1 != 0) {
        local_8 = CONCAT31(local_8._1_3_,1);
      }
      if ((iVar3 != *(int *)(param_1 + 0x3c)) && (iVar3 = *(int *)(iVar3 + 0x10), iVar3 != 0)) {
        FUN_009ab760(param_1,local_8,iVar3,piVar2);
        return;
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009abc00 : PUSH EBP
009abc01 : MOV EBP,ESP
009abc03 : SUB ESP,0x14
009abc06 : PUSH EBX
009abc07 : PUSH ESI
009abc08 : PUSH EDI
009abc09 : MOV EDI,dword ptr [0x00da93ec]
009abc0f : TEST EDI,EDI
009abc11 : JZ 0x009abd80
009abc17 : CMP byte ptr [EDI + 0x788],0x0
009abc1e : JZ 0x009abd80
009abc24 : MOV EAX,[0x00da9894]
009abc29 : MOV ECX,dword ptr [EAX]
009abc2b : MOV EAX,dword ptr [ECX + 0x14c]
009abc31 : TEST EAX,EAX
009abc33 : JZ 0x009abd80
009abc39 : CMP dword ptr [EAX + 0x6c],-0x1
009abc3d : JZ 0x009abd80
009abc43 : MOV EAX,dword ptr [EBP + 0xc]
009abc46 : MOV EDX,dword ptr [EAX + 0x18]
009abc49 : ADD EDX,dword ptr [EAX + 0x14]
009abc4c : JZ 0x009abd80
009abc52 : MOV ESI,dword ptr [EAX + 0x10]
009abc55 : CALL 0x00a1ba80
009abc5a : MOV EBX,EAX
009abc5c : TEST EBX,EBX
009abc5e : JNZ 0x009abc7d
009abc60 : MOV EAX,dword ptr [EBP + 0xc]
009abc63 : MOV ECX,dword ptr [EAX + 0x10]
009abc66 : PUSH ECX
009abc67 : PUSH 0xc8aa5c
009abc6c : CALL 0x00483f90
009abc71 : ADD ESP,0x8
009abc74 : POP EDI
009abc75 : POP ESI
009abc76 : POP EBX
009abc77 : MOV ESP,EBP
009abc79 : POP EBP
009abc7a : RET 0x8
009abc7d : MOV EDX,dword ptr [EBP + 0xc]
009abc80 : MOV ESI,dword ptr [EDX + 0xc]
009abc83 : MOV EDI,dword ptr [0x00da93ec]
009abc89 : CALL 0x00a1ba80
009abc8e : MOV dword ptr [EBP + -0x10],EAX
009abc91 : TEST EAX,EAX
009abc93 : JNZ 0x009abcb2
009abc95 : MOV EAX,dword ptr [EBP + 0xc]
009abc98 : MOV ECX,dword ptr [EAX + 0xc]
009abc9b : PUSH ECX
009abc9c : PUSH 0xc8aae0
009abca1 : CALL 0x00483f90
009abca6 : ADD ESP,0x8
009abca9 : POP EDI
009abcaa : POP ESI
009abcab : POP EBX
009abcac : MOV ESP,EBP
009abcae : POP EBP
009abcaf : RET 0x8
009abcb2 : MOV EDX,dword ptr [EBX]
009abcb4 : MOV EAX,dword ptr [EDX + 0x1e4]
009abcba : MOV ECX,EBX
009abcbc : MOV byte ptr [EBP + -0x4],0x0
009abcc0 : CALL EAX
009abcc2 : TEST AX,AX
009abcc5 : JNZ 0x009abccf
009abcc7 : MOV ECX,dword ptr [EBP + 0xc]
009abcca : MOV EAX,dword ptr [ECX + 0x10]
009abccd : JMP 0x009abcd5
009abccf : MOV EDX,dword ptr [EBP + 0xc]
009abcd2 : MOV EAX,dword ptr [EDX + 0xc]
009abcd5 : MOV ECX,dword ptr [0x00da9894]
009abcdb : MOV ESI,dword ptr [ECX]
009abcdd : MOV EDI,dword ptr [ESI + 0x14c]
009abce3 : LEA EDX,[EBP + -0x8]
009abce6 : MOV dword ptr [EBP + -0x8],EAX
009abce9 : PUSH EDX
009abcea : LEA ECX,[EDI + 0x38]
009abced : LEA EAX,[EBP + -0xc]
009abcf0 : CALL 0x004437f0
009abcf5 : MOV EAX,dword ptr [EBP + -0xc]
009abcf8 : CMP EAX,dword ptr [EDI + 0x3c]
009abcfb : JZ 0x009abd6c
009abcfd : MOV EAX,dword ptr [EAX + 0x10]
009abd00 : TEST EAX,EAX
009abd02 : JZ 0x009abd6c
009abd04 : MOV ECX,dword ptr [EAX + 0x4c]
009abd07 : MOV EDI,dword ptr [EAX + 0x50]
009abd0a : MOV EAX,dword ptr [ESI + 0x28c]
009abd10 : PUSH ECX
009abd11 : CALL 0x0092b5a0
009abd16 : MOV ESI,dword ptr [EBP + 0x8]
009abd19 : MOVZX EDX,AX
009abd1c : LEA EAX,[EBP + -0xc]
009abd1f : PUSH EAX
009abd20 : LEA ECX,[ESI + 0x38]
009abd23 : LEA EAX,[EBP + 0x8]
009abd26 : MOV dword ptr [EBP + -0xc],EDX
009abd29 : CALL 0x004437f0
009abd2e : MOV EDX,dword ptr [EBX]
009abd30 : MOV EDI,dword ptr [EAX]
009abd32 : MOV EAX,dword ptr [EDX + 0x1e4]
009abd38 : MOV ECX,EBX
009abd3a : CALL EAX
009abd3c : TEST AX,AX
009abd3f : JZ 0x009abd45
009abd41 : MOV byte ptr [EBP + -0x4],0x1
009abd45 : CMP EDI,dword ptr [ESI + 0x3c]
009abd48 : JZ 0x009abd80
009abd4a : MOV EAX,dword ptr [EDI + 0x10]
009abd4d : TEST EAX,EAX
009abd4f : JZ 0x009abd80
009abd51 : MOV ECX,dword ptr [EBP + -0x4]
009abd54 : MOV EDX,dword ptr [EBP + 0xc]
009abd57 : PUSH EBX
009abd58 : PUSH EAX
009abd59 : PUSH ECX
009abd5a : MOV ECX,dword ptr [EBP + -0x10]
009abd5d : PUSH ESI
009abd5e : CALL 0x009ab760
009abd63 : POP EDI
009abd64 : POP ESI
009abd65 : POP EBX
009abd66 : MOV ESP,EBP
009abd68 : POP EBP
009abd69 : RET 0x8
009abd6c : MOV EDX,dword ptr [EBP + 0xc]
009abd6f : MOV EAX,dword ptr [EDX + 0x10]
009abd72 : PUSH EAX
009abd73 : PUSH 0xc8ab68
009abd78 : CALL 0x00483f90
009abd7d : ADD ESP,0x8
009abd80 : POP EDI
009abd81 : POP ESI
009abd82 : POP EBX
009abd83 : MOV ESP,EBP
009abd85 : POP EBP
009abd86 : RET 0x8
