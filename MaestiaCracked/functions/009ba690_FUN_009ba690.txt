PROGRAM  : Maestia.exe
FUNCTION : FUN_009ba690
ENTRY    : 009ba690
BODY     : [[009ba690, 009ba80f]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x009ba716) */

void FUN_009ba690(void)

{
  uint uVar1;
  LPCWSTR pWVar2;
  int unaff_EDI;
  undefined4 local_42c;
  int local_41c;
  uint local_418;
  WCHAR local_414 [512];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2189d;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar1;
  FUN_00406360(L"roominvite",10);
  local_8 = 0;
  FUN_0081cce0(DAT_0172491c);
  local_8 = CONCAT31(local_8._1_3_,2);
  if (local_41c == 0) {
    FUN_00406360(L"%s invites you from chatroom.\nRoom: %d\nTitle: %s",0x30);
  }
  pWVar2 = local_42c;
  if (local_418 < 8) {
    pWVar2 = (LPCWSTR)&local_42c;
  }
  wsprintfW(local_414,pWVar2,unaff_EDI + 0x56,(uint)*(ushort *)(unaff_EDI + 4),unaff_EDI + 6,uVar1);
  (**(code **)(**(int **)(*DAT_00da9894 + 0x114) + 4))
            (*(int **)(*DAT_00da9894 + 0x114),"OnChatRoomInvite","%d,%ls",
             *(undefined2 *)(unaff_EDI + 4),local_414);
  FUN_00483f90(*(undefined2 *)(unaff_EDI + 4),unaff_EDI + 0x56,unaff_EDI + 6);
  local_8 = 0xffffffff;
  if (local_418 < 8) {
    local_418 = 7;
    local_41c = 0;
    local_42c = (LPCWSTR)((uint)local_42c._2_2_ << 0x10);
    ExceptionList = local_10;
    __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
009ba690 : PUSH EBP
009ba691 : MOV EBP,ESP
009ba693 : PUSH -0x1
009ba695 : PUSH 0xb2189d
009ba69a : MOV EAX,FS:[0x0]
009ba6a0 : PUSH EAX
009ba6a1 : SUB ESP,0x43c
009ba6a7 : MOV EAX,[0x00d66fa0]
009ba6ac : XOR EAX,EBP
009ba6ae : MOV dword ptr [EBP + -0x10],EAX
009ba6b1 : PUSH EBX
009ba6b2 : PUSH ESI
009ba6b3 : PUSH EAX
009ba6b4 : LEA EAX,[EBP + -0xc]
009ba6b7 : MOV FS:[0x0],EAX
009ba6bd : PUSH 0xa
009ba6bf : XOR EAX,EAX
009ba6c1 : XOR EBX,EBX
009ba6c3 : PUSH 0xc8e3c0
009ba6c8 : LEA ECX,[EBP + 0xfffffbb8]
009ba6ce : MOV dword ptr [EBP + 0xfffffbd0],0x7
009ba6d8 : MOV dword ptr [EBP + 0xfffffbcc],EBX
009ba6de : MOV word ptr [EBP + 0xfffffbbc],AX
009ba6e5 : CALL 0x00406360
009ba6ea : MOV dword ptr [EBP + -0x4],EBX
009ba6ed : MOV ECX,dword ptr [0x0172491c]
009ba6f3 : PUSH ECX
009ba6f4 : LEA ECX,[EBP + 0xfffffbb8]
009ba6fa : LEA ESI,[EBP + 0xfffffbd4]
009ba700 : CALL 0x0081cce0
009ba705 : MOV byte ptr [EBP + -0x4],0x2
009ba709 : MOV ESI,0x8
009ba70e : CMP dword ptr [EBP + 0xfffffbd0],ESI
009ba714 : JC 0x009ba721
009ba716 : MOV ECX,dword ptr [EBP + 0xfffffbbc]
009ba71c : CALL 0x006f04e0
009ba721 : XOR EDX,EDX
009ba723 : MOV dword ptr [EBP + 0xfffffbd0],0x7
009ba72d : MOV dword ptr [EBP + 0xfffffbcc],EBX
009ba733 : MOV word ptr [EBP + 0xfffffbbc],DX
009ba73a : CMP dword ptr [EBP + 0xfffffbe8],EBX
009ba740 : JNZ 0x009ba754
009ba742 : PUSH 0x30
009ba744 : PUSH 0xc8e3d8
009ba749 : LEA ECX,[EBP + 0xfffffbd4]
009ba74f : CALL 0x00406360
009ba754 : MOV EAX,dword ptr [EBP + 0xfffffbd8]
009ba75a : CMP dword ptr [EBP + 0xfffffbec],ESI
009ba760 : JNC 0x009ba768
009ba762 : LEA EAX,[EBP + 0xfffffbd8]
009ba768 : MOVZX ECX,word ptr [EDI + 0x4]
009ba76c : LEA ESI,[EDI + 0x6]
009ba76f : PUSH ESI
009ba770 : PUSH ECX
009ba771 : LEA EBX,[EDI + 0x56]
009ba774 : PUSH EBX
009ba775 : PUSH EAX
009ba776 : LEA EDX,[EBP + 0xfffffbf0]
009ba77c : PUSH EDX
009ba77d : CALL dword ptr [0x00b85434]
009ba783 : MOV EAX,[0x00da9894]
009ba788 : MOV EAX,dword ptr [EAX]
009ba78a : MOV EAX,dword ptr [EAX + 0x114]
009ba790 : MOV ECX,dword ptr [EAX]
009ba792 : LEA EDX,[EBP + 0xfffffbf0]
009ba798 : PUSH EDX
009ba799 : MOVZX EDX,word ptr [EDI + 0x4]
009ba79d : PUSH EDX
009ba79e : PUSH 0xc8e43c
009ba7a3 : PUSH 0xc8e444
009ba7a8 : PUSH EAX
009ba7a9 : MOV EAX,dword ptr [ECX + 0x4]
009ba7ac : CALL EAX
009ba7ae : MOVZX ECX,word ptr [EDI + 0x4]
009ba7b2 : PUSH ESI
009ba7b3 : PUSH EBX
009ba7b4 : PUSH ECX
009ba7b5 : CALL 0x00483f90
009ba7ba : ADD ESP,0x34
009ba7bd : MOV dword ptr [EBP + -0x4],0xffffffff
009ba7c4 : CMP dword ptr [EBP + 0xfffffbec],0x8
009ba7cb : JC 0x009ba7d8
009ba7cd : MOV ECX,dword ptr [EBP + 0xfffffbd8]
009ba7d3 : CALL 0x006f04e0
009ba7d8 : XOR EDX,EDX
009ba7da : MOV dword ptr [EBP + 0xfffffbec],0x7
009ba7e4 : MOV dword ptr [EBP + 0xfffffbe8],0x0
009ba7ee : MOV word ptr [EBP + 0xfffffbd8],DX
009ba7f5 : MOV ECX,dword ptr [EBP + -0xc]
009ba7f8 : MOV dword ptr FS:[0x0],ECX
009ba7ff : POP ECX
009ba800 : POP ESI
009ba801 : POP EBX
009ba802 : MOV ECX,dword ptr [EBP + -0x10]
009ba805 : XOR ECX,EBP
009ba807 : CALL 0x00633e6b
009ba80c : MOV ESP,EBP
009ba80e : POP EBP
009ba80f : RET
