PROGRAM  : Maestia.exe
FUNCTION : FUN_00784ad0
ENTRY    : 00784ad0
BODY     : [[00784ad0, 00784e3a]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00784e23) */

void FUN_00784ad0(int param_1,int *param_2)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  int *piVar4;
  int *piVar5;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  int local_8;
  
  if ((*(int *)(param_1 + 0x7c) - *(int *)(param_1 + 0x78) & 0xfffffffcU) != 0) {
    piVar1 = *(int **)(DAT_017251ac + 0x18);
    local_8 = param_1 + 0x74;
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x89,0);
    (**(code **)(*piVar1 + 0xe4))(piVar1,0xe,0);
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x1b,1);
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x13,5);
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x14,6);
    (**(code **)(*piVar1 + 0x10c))(piVar1,0,1,2);
    (**(code **)(*piVar1 + 0x10c))(piVar1,0,2,2);
    (**(code **)(*piVar1 + 0x10c))(piVar1,0,3,0);
    (**(code **)(*piVar1 + 0x10c))(piVar1,0,4,4);
    (**(code **)(*piVar1 + 0x10c))(piVar1,0,5,2);
    (**(code **)(*piVar1 + 0x10c))(piVar1,0,6,0);
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x16,1);
    piVar4 = (int *)0x0;
    iVar2 = FUN_00786ed0();
    if (iVar2 == 0) {
      FUN_0042d2e0(param_1 + 0x74);
      return;
    }
    if (*(char *)(DAT_017251ac + 0x154) == '\0') {
      (**(code **)(*piVar1 + 0x164))(piVar1,0x102);
      (**(code **)(*piVar1 + 0x170))(piVar1,0);
      (**(code **)(*piVar1 + 0x1ac))(piVar1,0);
      local_14 = 0;
      local_18 = 0;
      local_1c = 0;
      local_20 = 0;
      local_28 = 0;
      local_2c = 0;
      local_30 = 0;
      local_34 = 0;
      local_3c = 0;
      local_40 = 0;
      local_44 = 0;
      local_48 = 0;
      local_10 = 0x3f800000;
      local_24 = 0x3f800000;
      local_38 = 0x3f800000;
      local_4c = 0x3f800000;
      (**(code **)(*piVar1 + 0xb0))(piVar1,0x100,&local_4c);
      iVar2 = *piVar1;
      uVar3 = FUN_00786ed0();
      (**(code **)(iVar2 + 0x104))(piVar1,0,uVar3);
    }
    else {
      iVar2 = FUN_007bfcc0(10);
      if (iVar2 == 0) {
        return;
      }
      piVar4 = *(int **)(iVar2 + 0x1c);
      if (piVar4 == (int *)0x0) {
        return;
      }
      (**(code **)(*piVar4 + 0xe8))(piVar4,"TechShadow");
      (**(code **)(*piVar4 + 0xfc))(piVar4,0,0);
      (**(code **)(*piVar4 + 0x100))(piVar4,0);
      (**(code **)(*piVar1 + 0x15c))(piVar1,*(undefined4 *)(DAT_01725204 + 0x1b0));
      local_4c = 0;
      (**(code **)(*param_2 + 0x1c))();
      uVar3 = FUN_007f1710();
      D3DXMatrixMultiply(&local_4c,param_2 + 0x2d,uVar3);
      (**(code **)(*piVar4 + 0x98))(piVar4,"matWVP",&local_4c);
      iVar2 = *piVar4;
      uVar3 = FUN_00786ed0();
      (**(code **)(iVar2 + 0xd0))(piVar4,"srcTex",uVar3);
      (**(code **)(*piVar4 + 0x104))(piVar4);
    }
    piVar5 = *(int **)(param_1 + 0x78);
    if (piVar5 != *(int **)(param_1 + 0x7c)) {
      do {
        if (*(float *)(*piVar5 + 0x250) != 0.0) {
          FUN_007db5a0();
        }
        piVar5 = piVar5 + 1;
      } while (piVar5 != *(int **)(param_1 + 0x7c));
    }
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x1b,0);
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x89,1);
    (**(code **)(*piVar1 + 0xe4))(piVar1,0xe,1);
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x16,3);
    if (piVar4 != (int *)0x0) {
      (**(code **)(*piVar4 + 0xd0))(piVar4,"srcTex",0);
      (**(code **)(*piVar4 + 0x108))(piVar4);
      (**(code **)(*piVar4 + 0x10c))(piVar4);
    }
    if (*(int *)(local_8 + 4) != *(int *)(local_8 + 8)) {
      *(int *)(local_8 + 8) = *(int *)(local_8 + 4);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00784ad0 : PUSH EBP
00784ad1 : MOV EBP,ESP
00784ad3 : SUB ESP,0x4c
00784ad6 : PUSH EBX
00784ad7 : PUSH ESI
00784ad8 : MOV ESI,dword ptr [EBP + 0x8]
00784adb : MOV EAX,dword ptr [ESI + 0x7c]
00784ade : SUB EAX,dword ptr [ESI + 0x78]
00784ae1 : ADD ESI,0x74
00784ae4 : PUSH EDI
00784ae5 : MOV dword ptr [EBP + -0x4],ESI
00784ae8 : TEST EAX,0xfffffffc
00784aed : JZ 0x00784e32
00784af3 : MOV ECX,dword ptr [0x017251ac]
00784af9 : MOV EDI,dword ptr [ECX + 0x18]
00784afc : MOV EDX,dword ptr [EDI]
00784afe : MOV EAX,dword ptr [EDX + 0xe4]
00784b04 : PUSH 0x0
00784b06 : PUSH 0x89
00784b0b : PUSH EDI
00784b0c : CALL EAX
00784b0e : MOV ECX,dword ptr [EDI]
00784b10 : MOV EDX,dword ptr [ECX + 0xe4]
00784b16 : PUSH 0x0
00784b18 : PUSH 0xe
00784b1a : PUSH EDI
00784b1b : CALL EDX
00784b1d : MOV EAX,dword ptr [EDI]
00784b1f : MOV ECX,dword ptr [EAX + 0xe4]
00784b25 : PUSH 0x1
00784b27 : PUSH 0x1b
00784b29 : PUSH EDI
00784b2a : CALL ECX
00784b2c : MOV EDX,dword ptr [EDI]
00784b2e : MOV EAX,dword ptr [EDX + 0xe4]
00784b34 : PUSH 0x5
00784b36 : PUSH 0x13
00784b38 : PUSH EDI
00784b39 : CALL EAX
00784b3b : MOV ECX,dword ptr [EDI]
00784b3d : MOV EDX,dword ptr [ECX + 0xe4]
00784b43 : PUSH 0x6
00784b45 : PUSH 0x14
00784b47 : PUSH EDI
00784b48 : CALL EDX
00784b4a : MOV EAX,dword ptr [EDI]
00784b4c : MOV ECX,dword ptr [EAX + 0x10c]
00784b52 : PUSH 0x2
00784b54 : PUSH 0x1
00784b56 : PUSH 0x0
00784b58 : PUSH EDI
00784b59 : CALL ECX
00784b5b : MOV EDX,dword ptr [EDI]
00784b5d : MOV EAX,dword ptr [EDX + 0x10c]
00784b63 : PUSH 0x2
00784b65 : PUSH 0x2
00784b67 : PUSH 0x0
00784b69 : PUSH EDI
00784b6a : CALL EAX
00784b6c : MOV ECX,dword ptr [EDI]
00784b6e : MOV EDX,dword ptr [ECX + 0x10c]
00784b74 : PUSH 0x0
00784b76 : PUSH 0x3
00784b78 : PUSH 0x0
00784b7a : PUSH EDI
00784b7b : CALL EDX
00784b7d : MOV EAX,dword ptr [EDI]
00784b7f : MOV ECX,dword ptr [EAX + 0x10c]
00784b85 : PUSH 0x4
00784b87 : PUSH 0x4
00784b89 : PUSH 0x0
00784b8b : PUSH EDI
00784b8c : CALL ECX
00784b8e : MOV EDX,dword ptr [EDI]
00784b90 : MOV EAX,dword ptr [EDX + 0x10c]
00784b96 : PUSH 0x2
00784b98 : PUSH 0x5
00784b9a : PUSH 0x0
00784b9c : PUSH EDI
00784b9d : CALL EAX
00784b9f : MOV ECX,dword ptr [EDI]
00784ba1 : MOV EDX,dword ptr [ECX + 0x10c]
00784ba7 : PUSH 0x0
00784ba9 : PUSH 0x6
00784bab : PUSH 0x0
00784bad : PUSH EDI
00784bae : CALL EDX
00784bb0 : MOV EAX,dword ptr [EDI]
00784bb2 : MOV ECX,dword ptr [EAX + 0xe4]
00784bb8 : PUSH 0x1
00784bba : PUSH 0x16
00784bbc : PUSH EDI
00784bbd : CALL ECX
00784bbf : XOR EBX,EBX
00784bc1 : CALL 0x00786ed0
00784bc6 : TEST EAX,EAX
00784bc8 : JNZ 0x00784bd9
00784bca : PUSH ESI
00784bcb : CALL 0x0042d2e0
00784bd0 : POP EDI
00784bd1 : POP ESI
00784bd2 : POP EBX
00784bd3 : MOV ESP,EBP
00784bd5 : POP EBP
00784bd6 : RET 0x8
00784bd9 : MOV EDX,dword ptr [0x017251ac]
00784bdf : CMP byte ptr [EDX + 0x154],BL
00784be5 : JZ 0x00784cb7
00784beb : MOV ESI,dword ptr [0x01725204]
00784bf1 : PUSH 0xa
00784bf3 : CALL 0x007bfcc0
00784bf8 : TEST EAX,EAX
00784bfa : JZ 0x00784e32
00784c00 : MOV EBX,dword ptr [EAX + 0x1c]
00784c03 : TEST EBX,EBX
00784c05 : JZ 0x00784e32
00784c0b : MOV EAX,dword ptr [EBX]
00784c0d : MOV ECX,dword ptr [EAX + 0xe8]
00784c13 : PUSH 0xc111f0
00784c18 : PUSH EBX
00784c19 : CALL ECX
00784c1b : MOV EDX,dword ptr [EBX]
00784c1d : MOV EAX,dword ptr [EDX + 0xfc]
00784c23 : PUSH 0x0
00784c25 : PUSH 0x0
00784c27 : PUSH EBX
00784c28 : CALL EAX
00784c2a : MOV ECX,dword ptr [EBX]
00784c2c : MOV EDX,dword ptr [ECX + 0x100]
00784c32 : PUSH 0x0
00784c34 : PUSH EBX
00784c35 : CALL EDX
00784c37 : MOV ECX,dword ptr [0x01725204]
00784c3d : MOV EDX,dword ptr [ECX + 0x1b0]
00784c43 : MOV EAX,dword ptr [EDI]
00784c45 : MOV EAX,dword ptr [EAX + 0x15c]
00784c4b : PUSH EDX
00784c4c : PUSH EDI
00784c4d : CALL EAX
00784c4f : MOV ESI,dword ptr [EBP + 0xc]
00784c52 : MOV EDX,dword ptr [ESI]
00784c54 : XORPS XMM0,XMM0
00784c57 : MOV EAX,dword ptr [EDX + 0x1c]
00784c5a : MOV ECX,ESI
00784c5c : MOVSS dword ptr [EBP + -0x48],XMM0
00784c61 : CALL EAX
00784c63 : CALL 0x007f1710
00784c68 : PUSH EAX
00784c69 : MOV ECX,ESI
00784c6b : ADD ECX,0xb4
00784c71 : PUSH ECX
00784c72 : LEA EDX,[EBP + -0x48]
00784c75 : PUSH EDX
00784c76 : CALL 0x004ff752
00784c7b : MOV EAX,dword ptr [EBX]
00784c7d : MOV EDX,dword ptr [EAX + 0x98]
00784c83 : LEA ECX,[EBP + -0x48]
00784c86 : PUSH ECX
00784c87 : PUSH 0xc111fc
00784c8c : PUSH EBX
00784c8d : CALL EDX
00784c8f : MOV ESI,dword ptr [EBX]
00784c91 : ADD ESI,0xd0
00784c97 : CALL 0x00786ed0
00784c9c : PUSH EAX
00784c9d : MOV EAX,dword ptr [ESI]
00784c9f : PUSH 0xc11204
00784ca4 : PUSH EBX
00784ca5 : CALL EAX
00784ca7 : MOV ECX,dword ptr [EBX]
00784ca9 : MOV EDX,dword ptr [ECX + 0x104]
00784caf : PUSH EBX
00784cb0 : CALL EDX
00784cb2 : JMP 0x00784d65
00784cb7 : MOV EAX,dword ptr [EDI]
00784cb9 : MOV ECX,dword ptr [EAX + 0x164]
00784cbf : PUSH 0x102
00784cc4 : PUSH EDI
00784cc5 : CALL ECX
00784cc7 : MOV EDX,dword ptr [EDI]
00784cc9 : MOV EAX,dword ptr [EDX + 0x170]
00784ccf : PUSH 0x0
00784cd1 : PUSH EDI
00784cd2 : CALL EAX
00784cd4 : MOV ECX,dword ptr [EDI]
00784cd6 : MOV EDX,dword ptr [ECX + 0x1ac]
00784cdc : PUSH 0x0
00784cde : PUSH EDI
00784cdf : CALL EDX
00784ce1 : XORPS XMM0,XMM0
00784ce4 : MOV EAX,dword ptr [EDI]
00784ce6 : MOV EDX,dword ptr [EAX + 0xb0]
00784cec : LEA ECX,[EBP + -0x48]
00784cef : PUSH ECX
00784cf0 : PUSH 0x100
00784cf5 : MOVSS dword ptr [EBP + -0x10],XMM0
00784cfa : MOVSS dword ptr [EBP + -0x14],XMM0
00784cff : MOVSS dword ptr [EBP + -0x18],XMM0
00784d04 : MOVSS dword ptr [EBP + -0x1c],XMM0
00784d09 : MOVSS dword ptr [EBP + -0x24],XMM0
00784d0e : MOVSS dword ptr [EBP + -0x28],XMM0
00784d13 : MOVSS dword ptr [EBP + -0x2c],XMM0
00784d18 : MOVSS dword ptr [EBP + -0x30],XMM0
00784d1d : MOVSS dword ptr [EBP + -0x38],XMM0
00784d22 : MOVSS dword ptr [EBP + -0x3c],XMM0
00784d27 : MOVSS dword ptr [EBP + -0x40],XMM0
00784d2c : MOVSS dword ptr [EBP + -0x44],XMM0
00784d31 : MOVSS XMM0,dword ptr [0x00c10fc4]
00784d39 : PUSH EDI
00784d3a : MOVSS dword ptr [EBP + -0xc],XMM0
00784d3f : MOVSS dword ptr [EBP + -0x20],XMM0
00784d44 : MOVSS dword ptr [EBP + -0x34],XMM0
00784d49 : MOVSS dword ptr [EBP + -0x48],XMM0
00784d4e : CALL EDX
00784d50 : MOV ESI,dword ptr [EDI]
00784d52 : ADD ESI,0x104
00784d58 : CALL 0x00786ed0
00784d5d : PUSH EAX
00784d5e : MOV EAX,dword ptr [ESI]
00784d60 : PUSH 0x0
00784d62 : PUSH EDI
00784d63 : CALL EAX
00784d65 : MOV ECX,dword ptr [EBP + 0x8]
00784d68 : MOV ESI,dword ptr [ECX + 0x78]
00784d6b : MOV EDX,ECX
00784d6d : CMP ESI,dword ptr [EDX + 0x7c]
00784d70 : JZ 0x00784d96
00784d72 : MOV ECX,dword ptr [ESI]
00784d74 : XORPS XMM0,XMM0
00784d77 : UCOMISS XMM0,dword ptr [ECX + 0x250]
00784d7e : LAHF
00784d7f : TEST AH,0x44
00784d82 : JNP 0x00784d8b
00784d84 : MOV EAX,ECX
00784d86 : CALL 0x007db5a0
00784d8b : MOV EAX,dword ptr [EBP + 0x8]
00784d8e : ADD ESI,0x4
00784d91 : CMP ESI,dword ptr [EAX + 0x7c]
00784d94 : JNZ 0x00784d72
00784d96 : MOV ECX,dword ptr [EDI]
00784d98 : MOV EDX,dword ptr [ECX + 0xe4]
00784d9e : PUSH 0x0
00784da0 : PUSH 0x1b
00784da2 : PUSH EDI
00784da3 : CALL EDX
00784da5 : MOV EAX,dword ptr [EDI]
00784da7 : MOV ECX,dword ptr [EAX + 0xe4]
00784dad : PUSH 0x1
00784daf : PUSH 0x89
00784db4 : PUSH EDI
00784db5 : CALL ECX
00784db7 : MOV EDX,dword ptr [EDI]
00784db9 : MOV EAX,dword ptr [EDX + 0xe4]
00784dbf : PUSH 0x1
00784dc1 : PUSH 0xe
00784dc3 : PUSH EDI
00784dc4 : CALL EAX
00784dc6 : MOV ECX,dword ptr [EDI]
00784dc8 : MOV EDX,dword ptr [ECX + 0xe4]
00784dce : PUSH 0x3
00784dd0 : PUSH 0x16
00784dd2 : PUSH EDI
00784dd3 : CALL EDX
00784dd5 : TEST EBX,EBX
00784dd7 : JZ 0x00784e01
00784dd9 : MOV EAX,dword ptr [EBX]
00784ddb : MOV ECX,dword ptr [EAX + 0xd0]
00784de1 : PUSH 0x0
00784de3 : PUSH 0xc1120c
00784de8 : PUSH EBX
00784de9 : CALL ECX
00784deb : MOV EDX,dword ptr [EBX]
00784ded : MOV EAX,dword ptr [EDX + 0x108]
00784df3 : PUSH EBX
00784df4 : CALL EAX
00784df6 : MOV ECX,dword ptr [EBX]
00784df8 : MOV EDX,dword ptr [ECX + 0x10c]
00784dfe : PUSH EBX
00784dff : CALL EDX
00784e01 : MOV EBX,dword ptr [EBP + -0x4]
00784e04 : MOV ECX,dword ptr [EBX + 0x8]
00784e07 : MOV ESI,dword ptr [EBX + 0x4]
00784e0a : CMP ESI,ECX
00784e0c : JZ 0x00784e32
00784e0e : MOV EAX,ECX
00784e10 : SUB EAX,ECX
00784e12 : SAR EAX,0x2
00784e15 : LEA EDX,[EAX*0x4 + 0x0]
00784e1c : LEA EDI,[EDX + ESI*0x1]
00784e1f : TEST EAX,EAX
00784e21 : JLE 0x00784e2f
00784e23 : PUSH EDX
00784e24 : PUSH ECX
00784e25 : PUSH EDX
00784e26 : PUSH ESI
00784e27 : CALL 0x00634101
00784e2c : ADD ESP,0x10
00784e2f : MOV dword ptr [EBX + 0x8],EDI
00784e32 : POP EDI
00784e33 : POP ESI
00784e34 : POP EBX
00784e35 : MOV ESP,EBP
00784e37 : POP EBP
00784e38 : RET 0x8
