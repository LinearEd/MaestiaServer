PROGRAM  : Maestia.exe
FUNCTION : FUN_005f4190
ENTRY    : 005f4190
BODY     : [[005f4190, 005f423f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005f4190(undefined4 *param_1)

{
  undefined2 uVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 *in_ECX;
  undefined4 local_4;
  
  puVar3 = (undefined4 *)in_ECX[3];
  if (puVar3 == (undefined4 *)0x0) {
    uVar2 = in_ECX[2];
    if (uVar2 < 0x7f) {
      puVar3 = (undefined4 *)(in_ECX[1] + uVar2 * 0x24);
      in_ECX[2] = uVar2 + 1;
    }
    else {
      local_4 = 0xc3;
      puVar3 = (undefined4 *)FUN_00515d60(in_ECX[4],0x11e0,&local_4);
      puVar3[0x477] = 0;
      if (in_ECX[1] == 0) {
        *in_ECX = puVar3;
      }
      else {
        *(undefined4 **)(in_ECX[1] + 0x11dc) = puVar3;
      }
      in_ECX[1] = puVar3;
      in_ECX[2] = 1;
    }
  }
  else {
    in_ECX[3] = *puVar3;
  }
  *puVar3 = *param_1;
  puVar3[1] = param_1[1];
  puVar3[2] = param_1[2];
  puVar3[3] = param_1[3];
  puVar3[4] = param_1[4];
  puVar3[5] = param_1[5];
  puVar3[6] = param_1[6];
  puVar3[7] = param_1[7];
  uVar1 = *(undefined2 *)((int)param_1 + 0x22);
  *(undefined2 *)(puVar3 + 8) = *(undefined2 *)(param_1 + 8);
  *(undefined2 *)((int)puVar3 + 0x22) = uVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
005f4190 : PUSH ECX
005f4191 : PUSH ESI
005f4192 : MOV ESI,ECX
005f4194 : MOV EAX,dword ptr [ESI + 0xc]
005f4197 : TEST EAX,EAX
005f4199 : JZ 0x005f41a2
005f419b : MOV ECX,dword ptr [EAX]
005f419d : MOV dword ptr [ESI + 0xc],ECX
005f41a0 : JMP 0x005f41f9
005f41a2 : MOV ECX,dword ptr [ESI + 0x8]
005f41a5 : CMP ECX,0x7f
005f41a8 : JNC 0x005f41b9
005f41aa : MOV EAX,dword ptr [ESI + 0x4]
005f41ad : LEA EDX,[ECX + ECX*0x8]
005f41b0 : INC ECX
005f41b1 : LEA EAX,[EAX + EDX*0x4]
005f41b4 : MOV dword ptr [ESI + 0x8],ECX
005f41b7 : JMP 0x005f41f9
005f41b9 : MOV EAX,dword ptr [ESI + 0x10]
005f41bc : LEA ECX,[ESP + 0x4]
005f41c0 : PUSH ECX
005f41c1 : PUSH 0x11e0
005f41c6 : PUSH EAX
005f41c7 : MOV dword ptr [ESP + 0x10],0xc3
005f41cf : CALL 0x00515d60
005f41d4 : MOV dword ptr [EAX + 0x11dc],0x0
005f41de : MOV ECX,dword ptr [ESI + 0x4]
005f41e1 : TEST ECX,ECX
005f41e3 : JZ 0x005f41ed
005f41e5 : MOV dword ptr [ECX + 0x11dc],EAX
005f41eb : JMP 0x005f41ef
005f41ed : MOV dword ptr [ESI],EAX
005f41ef : MOV dword ptr [ESI + 0x4],EAX
005f41f2 : MOV dword ptr [ESI + 0x8],0x1
005f41f9 : MOV ECX,dword ptr [ESP + 0xc]
005f41fd : MOV EDX,dword ptr [ECX]
005f41ff : MOV dword ptr [EAX],EDX
005f4201 : MOV EDX,dword ptr [ECX + 0x4]
005f4204 : MOV dword ptr [EAX + 0x4],EDX
005f4207 : MOV EDX,dword ptr [ECX + 0x8]
005f420a : MOV dword ptr [EAX + 0x8],EDX
005f420d : MOV EDX,dword ptr [ECX + 0xc]
005f4210 : MOV dword ptr [EAX + 0xc],EDX
005f4213 : MOV EDX,dword ptr [ECX + 0x10]
005f4216 : MOV dword ptr [EAX + 0x10],EDX
005f4219 : MOV EDX,dword ptr [ECX + 0x14]
005f421c : MOV dword ptr [EAX + 0x14],EDX
005f421f : MOV EDX,dword ptr [ECX + 0x18]
005f4222 : MOV dword ptr [EAX + 0x18],EDX
005f4225 : MOV EDX,dword ptr [ECX + 0x1c]
005f4228 : MOV dword ptr [EAX + 0x1c],EDX
005f422b : MOVZX EDX,word ptr [ECX + 0x22]
005f422f : MOV CX,word ptr [ECX + 0x20]
005f4233 : MOV word ptr [EAX + 0x20],CX
005f4237 : MOV word ptr [EAX + 0x22],DX
005f423b : POP ESI
005f423c : POP ECX
005f423d : RET 0x4
