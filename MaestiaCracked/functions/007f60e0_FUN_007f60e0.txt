PROGRAM  : Maestia.exe
FUNCTION : FUN_007f60e0
ENTRY    : 007f60e0
BODY     : [[007f60e0, 007f61b3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007f60e0(int param_1)

{
  int *piVar1;
  uint uVar2;
  int *piVar3;
  LPCRITICAL_SECTION local_28;
  char *local_24;
  undefined4 local_20;
  int local_1c;
  undefined4 local_18;
  DWORD local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0d94c;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = GetTickCount();
  piVar3 = (int *)(param_1 + 0xc);
  param_1 = 0x20;
  do {
    piVar1 = (int *)*piVar3;
    if (piVar1 != (int *)0x0) {
      if (piVar1[1] == 3) {
        if (piVar1 != (int *)0x0) {
          (**(code **)(*piVar1 + 0x34))(1);
          *piVar3 = 0;
        }
      }
      else if (piVar1[1] == 2) {
        local_28 = (LPCRITICAL_SECTION)(piVar1 + 3);
        local_1c = 0;
        local_24 = ".\\World\\AvaWorld.cpp";
        local_20 = 0xfbc;
        local_18 = 1;
        FUN_006ef1a0(&local_28);
        local_8 = 0;
        (**(code **)(*piVar1 + 0x30))(local_14,0,uVar2);
        local_8 = 0xffffffff;
        if (local_1c != 0) {
          LeaveCriticalSection(local_28);
          local_1c = 0;
        }
      }
    }
    piVar3 = piVar3 + 1;
    param_1 = param_1 + -1;
  } while (param_1 != 0);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007f60e0 : PUSH EBP
007f60e1 : MOV EBP,ESP
007f60e3 : PUSH -0x1
007f60e5 : PUSH 0xb0d94c
007f60ea : MOV EAX,FS:[0x0]
007f60f0 : PUSH EAX
007f60f1 : SUB ESP,0x18
007f60f4 : PUSH EBX
007f60f5 : PUSH ESI
007f60f6 : PUSH EDI
007f60f7 : MOV EAX,[0x00d66fa0]
007f60fc : XOR EAX,EBP
007f60fe : PUSH EAX
007f60ff : LEA EAX,[EBP + -0xc]
007f6102 : MOV FS:[0x0],EAX
007f6108 : CALL dword ptr [0x00b850d8]
007f610e : MOV EBX,dword ptr [EBP + 0x8]
007f6111 : ADD EBX,0xc
007f6114 : MOV dword ptr [EBP + -0x10],EAX
007f6117 : MOV dword ptr [EBP + 0x8],0x20
007f611e : XOR EDI,EDI
007f6120 : MOV ESI,dword ptr [EBX]
007f6122 : CMP ESI,EDI
007f6124 : JZ 0x007f6197
007f6126 : MOV EAX,dword ptr [ESI + 0x4]
007f6129 : CMP EAX,0x3
007f612c : JNZ 0x007f6141
007f612e : CMP ESI,EDI
007f6130 : JZ 0x007f6197
007f6132 : MOV EAX,dword ptr [ESI]
007f6134 : MOV EDX,dword ptr [EAX + 0x34]
007f6137 : PUSH 0x1
007f6139 : MOV ECX,ESI
007f613b : CALL EDX
007f613d : MOV dword ptr [EBX],EDI
007f613f : JMP 0x007f6197
007f6141 : CMP EAX,0x2
007f6144 : JNZ 0x007f6197
007f6146 : LEA ECX,[EBP + -0x24]
007f6149 : LEA EAX,[ESI + 0xc]
007f614c : PUSH ECX
007f614d : MOV dword ptr [EBP + -0x18],EDI
007f6150 : MOV dword ptr [EBP + -0x24],EAX
007f6153 : MOV dword ptr [EBP + -0x20],0xc25ac4
007f615a : MOV dword ptr [EBP + -0x1c],0xfbc
007f6161 : MOV dword ptr [EBP + -0x14],0x1
007f6168 : CALL 0x006ef1a0
007f616d : MOV dword ptr [EBP + -0x4],EDI
007f6170 : MOV EDX,dword ptr [ESI]
007f6172 : MOV EAX,dword ptr [EBP + -0x10]
007f6175 : MOV EDX,dword ptr [EDX + 0x30]
007f6178 : PUSH EDI
007f6179 : PUSH EAX
007f617a : MOV ECX,ESI
007f617c : CALL EDX
007f617e : MOV dword ptr [EBP + -0x4],0xffffffff
007f6185 : CMP dword ptr [EBP + -0x18],EDI
007f6188 : JZ 0x007f6197
007f618a : MOV EAX,dword ptr [EBP + -0x24]
007f618d : PUSH EAX
007f618e : CALL dword ptr [0x00b8511c]
007f6194 : MOV dword ptr [EBP + -0x18],EDI
007f6197 : ADD EBX,0x4
007f619a : SUB dword ptr [EBP + 0x8],0x1
007f619e : JNZ 0x007f6120
007f61a0 : MOV ECX,dword ptr [EBP + -0xc]
007f61a3 : MOV dword ptr FS:[0x0],ECX
007f61aa : POP ECX
007f61ab : POP EDI
007f61ac : POP ESI
007f61ad : POP EBX
007f61ae : MOV ESP,EBP
007f61b0 : POP EBP
007f61b1 : RET 0x4
