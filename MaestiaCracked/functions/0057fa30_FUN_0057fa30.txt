PROGRAM  : Maestia.exe
FUNCTION : FUN_0057fa30
ENTRY    : 0057fa30
BODY     : [[0057fa30, 0057fdcb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0057fa30(uint param_1,int param_2)

{
  int *piVar1;
  uint uVar2;
  ushort uVar3;
  int iVar4;
  undefined1 *puVar5;
  int iVar6;
  undefined4 uVar7;
  int in_ECX;
  char *pcVar8;
  uint uVar9;
  bool bVar10;
  undefined1 local_20 [16];
  undefined1 local_10 [4];
  double local_c;
  
  iVar6 = param_2;
  FUN_0055ee10(param_2);
  uVar2 = param_1;
  local_20[0] = 1;
  if ((*(byte *)(iVar6 + 0x16) & 1) == 0) {
    param_2 = in_ECX + 0x10;
    FUN_00500670(param_1,"align",local_20);
  }
  else {
    uVar3 = *(ushort *)(iVar6 + 0x16) >> 9 & 3;
    pcVar8 = "left";
    if (uVar3 == 1) {
      pcVar8 = "right";
    }
    else if (uVar3 == 2) {
      pcVar8 = "justify";
    }
    else if (uVar3 == 3) {
      pcVar8 = "center";
    }
    iVar4 = FUN_00525530(pcVar8);
    *(int *)(iVar4 + 8) = *(int *)(iVar4 + 8) + 1;
    local_10[0] = 5;
    local_c = (double)CONCAT44(local_c._4_4_,iVar4);
    *(int *)(iVar4 + 8) = *(int *)(iVar4 + 8) + 1;
    param_2 = in_ECX + 0x10;
    FUN_00500670(uVar2,"align",local_10);
    FUN_00526bc0();
    piVar1 = (int *)(iVar4 + 8);
    *piVar1 = *piVar1 + -1;
    if (*piVar1 == 0) {
      FUN_00525340();
    }
  }
  bVar10 = -1 < (char)*(undefined2 *)(iVar6 + 0x16);
  if (bVar10) {
    puVar5 = local_20;
  }
  else {
    local_c = (double)CONCAT71(local_c._1_7_,(byte)((ushort)*(undefined2 *)(iVar6 + 0x16) >> 0xf));
    local_10[0] = 2;
    puVar5 = local_10;
  }
  FUN_00500670(uVar2,"bullet",puVar5);
  if (!bVar10) {
    FUN_00526bc0();
  }
  bVar10 = (*(byte *)(iVar6 + 0x16) >> 1 & 1) == 0;
  if (bVar10) {
    puVar5 = local_20;
  }
  else {
    param_1 = (uint)*(ushort *)(iVar6 + 0xc);
    local_c = (double)param_1;
    local_10[0] = 3;
    puVar5 = local_10;
  }
  FUN_00500670(uVar2,"blockIndent",puVar5);
  if (!bVar10) {
    FUN_00526bc0();
  }
  bVar10 = (*(byte *)(iVar6 + 0x16) >> 2 & 1) == 0;
  if (bVar10) {
    puVar5 = local_20;
  }
  else {
    param_1 = (uint)*(short *)(iVar6 + 0xe);
    local_c = (double)(int)param_1;
    local_10[0] = 3;
    puVar5 = local_10;
  }
  FUN_00500670(uVar2,"indent",puVar5);
  if (!bVar10) {
    FUN_00526bc0();
  }
  bVar10 = (*(byte *)(iVar6 + 0x16) >> 3 & 1) == 0;
  if (bVar10) {
    puVar5 = local_20;
  }
  else {
    param_1 = (uint)*(short *)(iVar6 + 0x10);
    local_c = (double)(int)param_1;
    local_10[0] = 3;
    puVar5 = local_10;
  }
  FUN_00500670(uVar2,"leading",puVar5);
  if (!bVar10) {
    FUN_00526bc0();
  }
  bVar10 = (*(byte *)(iVar6 + 0x16) >> 4 & 1) == 0;
  if (bVar10) {
    puVar5 = local_20;
  }
  else {
    param_1 = (uint)*(ushort *)(iVar6 + 0x12);
    local_c = (double)param_1;
    local_10[0] = 3;
    puVar5 = local_10;
  }
  FUN_00500670(uVar2,"leftMargin",puVar5);
  if (!bVar10) {
    FUN_00526bc0();
  }
  bVar10 = (*(byte *)(iVar6 + 0x16) >> 5 & 1) == 0;
  if (bVar10) {
    puVar5 = local_20;
  }
  else {
    param_1 = (uint)*(ushort *)(iVar6 + 0x14);
    local_c = (double)param_1;
    local_10[0] = 3;
    puVar5 = local_10;
  }
  FUN_00500670(uVar2,"rightMargin",puVar5);
  if (!bVar10) {
    FUN_00526bc0();
  }
  if ((*(byte *)(iVar6 + 0x16) >> 6 & 1) == 0) {
    FUN_00500670(uVar2,"tabStops",local_20);
  }
  else {
    uVar9 = 0;
    param_1 = 0;
    iVar6 = FUN_0055e770(&param_1);
    iVar4 = FUN_00515840(0x48,0);
    if (iVar4 == 0) {
      iVar4 = 0;
    }
    else {
      iVar4 = FUN_005851a0(uVar2);
    }
    FUN_00585260(param_1);
    if (param_1 != 0) {
      do {
        local_c = (double)*(int *)(iVar6 + uVar9 * 4);
        local_10[0] = 3;
        if (*(int *)(iVar6 + uVar9 * 4) < 0) {
          local_c = local_c + 4294967296.0;
        }
        FUN_005848f0(uVar9,local_10);
        FUN_00526bc0();
        uVar9 = uVar9 + 1;
      } while (uVar9 < param_1);
    }
    uVar7 = FUN_00526a90(iVar4);
    FUN_00500670(uVar2,"tabStops",uVar7);
    FUN_00526bc0();
    if (iVar4 != 0) {
      FUN_00503db0();
      FUN_00526bc0();
      return;
    }
  }
  FUN_00526bc0();
  return;
}



============================================================
DISASSEMBLY
============================================================
0057fa30 : SUB ESP,0x28
0057fa33 : PUSH EBX
0057fa34 : PUSH EBP
0057fa35 : PUSH ESI
0057fa36 : PUSH EDI
0057fa37 : MOV EDI,dword ptr [ESP + 0x40]
0057fa3b : MOV ESI,ECX
0057fa3d : XOR EBX,EBX
0057fa3f : PUSH EDI
0057fa40 : LEA ECX,[ESI + 0x5c]
0057fa43 : MOV dword ptr [ESP + 0x14],ESI
0057fa47 : MOV dword ptr [ESP + 0x18],EBX
0057fa4b : CALL 0x0055ee10
0057fa50 : TEST byte ptr [EDI + 0x16],0x1
0057fa54 : MOV byte ptr [ESP + 0x18],0x1
0057fa59 : JZ 0x0057fb18
0057fa5f : MOVZX EAX,word ptr [EDI + 0x16]
0057fa63 : SHR EAX,0x9
0057fa66 : AND EAX,0x3
0057fa69 : SUB EAX,0x1
0057fa6c : MOV ECX,0xb86c34
0057fa71 : JZ 0x0057fa8b
0057fa73 : SUB EAX,0x1
0057fa76 : JZ 0x0057fa84
0057fa78 : SUB EAX,0x1
0057fa7b : JNZ 0x0057fa90
0057fa7d : MOV ECX,0xb86c44
0057fa82 : JMP 0x0057fa90
0057fa84 : MOV ECX,0xb8d6b4
0057fa89 : JMP 0x0057fa90
0057fa8b : MOV ECX,0xb86c3c
0057fa90 : MOV EBP,dword ptr [ESP + 0x3c]
0057fa94 : MOV EAX,dword ptr [EBP]
0057fa97 : ADD EAX,0x8
0057fa9a : PUSH ECX
0057fa9b : LEA ECX,[EAX + 0x24c]
0057faa1 : CALL 0x00525530
0057faa6 : MOV ECX,dword ptr [ESP + 0x10]
0057faaa : MOV ESI,EAX
0057faac : MOV EAX,0x1
0057fab1 : ADD dword ptr [ESI + 0x8],EAX
0057fab4 : MOV byte ptr [ESP + 0x28],0x5
0057fab9 : MOV dword ptr [ESP + 0x2c],ESI
0057fabd : ADD dword ptr [ESI + 0x8],EAX
0057fac0 : LEA EAX,[ESP + 0x28]
0057fac4 : PUSH EAX
0057fac5 : PUSH 0xb8d7e8
0057faca : ADD ECX,0x10
0057facd : PUSH EBP
0057face : MOV dword ptr [ESP + 0x4c],ECX
0057fad2 : CALL 0x00500670
0057fad7 : LEA ECX,[ESP + 0x28]
0057fadb : CALL 0x00526bc0
0057fae0 : ADD dword ptr [ESI + 0x8],-0x1
0057fae4 : JNZ 0x0057faed
0057fae6 : MOV ECX,ESI
0057fae8 : CALL 0x00525340
0057faed : MOV ESI,dword ptr [ESP + 0x40]
0057faf1 : MOVZX EAX,word ptr [EDI + 0x16]
0057faf5 : MOV DL,AL
0057faf7 : SHR DL,0x7
0057fafa : TEST DL,0x1
0057fafd : JZ 0x0057fb37
0057faff : SHR EAX,0xf
0057fb02 : MOV EBX,0x1
0057fb07 : AND EAX,EBX
0057fb09 : MOV byte ptr [ESP + 0x2c],AL
0057fb0d : MOV byte ptr [ESP + 0x28],0x2
0057fb12 : LEA EAX,[ESP + 0x28]
0057fb16 : JMP 0x0057fb3b
0057fb18 : MOV EBP,dword ptr [ESP + 0x3c]
0057fb1c : LEA ECX,[ESP + 0x18]
0057fb20 : PUSH ECX
0057fb21 : ADD ESI,0x10
0057fb24 : PUSH 0xb8d7e8
0057fb29 : PUSH EBP
0057fb2a : MOV ECX,ESI
0057fb2c : MOV dword ptr [ESP + 0x4c],ESI
0057fb30 : CALL 0x00500670
0057fb35 : JMP 0x0057faf1
0057fb37 : LEA EAX,[ESP + 0x18]
0057fb3b : PUSH EAX
0057fb3c : PUSH 0xb8d7d4
0057fb41 : PUSH EBP
0057fb42 : MOV ECX,ESI
0057fb44 : CALL 0x00500670
0057fb49 : TEST BL,0x1
0057fb4c : JZ 0x0057fb5a
0057fb4e : LEA ECX,[ESP + 0x28]
0057fb52 : AND EBX,0xfffffffe
0057fb55 : CALL 0x00526bc0
0057fb5a : MOV AL,byte ptr [EDI + 0x16]
0057fb5d : SHR AL,0x1
0057fb5f : TEST AL,0x1
0057fb61 : JZ 0x0057fb81
0057fb63 : MOVZX ECX,word ptr [EDI + 0xc]
0057fb67 : MOV dword ptr [ESP + 0x3c],ECX
0057fb6b : OR EBX,0x2
0057fb6e : FILD dword ptr [ESP + 0x3c]
0057fb72 : MOV byte ptr [ESP + 0x28],0x3
0057fb77 : LEA EAX,[ESP + 0x28]
0057fb7b : FSTP double ptr [ESP + 0x2c]
0057fb7f : JMP 0x0057fb85
0057fb81 : LEA EAX,[ESP + 0x18]
0057fb85 : PUSH EAX
0057fb86 : PUSH 0xb8d7dc
0057fb8b : PUSH EBP
0057fb8c : MOV ECX,ESI
0057fb8e : CALL 0x00500670
0057fb93 : TEST BL,0x2
0057fb96 : JZ 0x0057fba4
0057fb98 : LEA ECX,[ESP + 0x28]
0057fb9c : AND EBX,0xfffffffd
0057fb9f : CALL 0x00526bc0
0057fba4 : MOV DL,byte ptr [EDI + 0x16]
0057fba7 : SHR DL,0x2
0057fbaa : TEST DL,0x1
0057fbad : JZ 0x0057fbcd
0057fbaf : MOVSX EAX,word ptr [EDI + 0xe]
0057fbb3 : MOV dword ptr [ESP + 0x3c],EAX
0057fbb7 : OR EBX,0x4
0057fbba : FILD dword ptr [ESP + 0x3c]
0057fbbe : MOV byte ptr [ESP + 0x28],0x3
0057fbc3 : LEA EAX,[ESP + 0x28]
0057fbc7 : FSTP double ptr [ESP + 0x2c]
0057fbcb : JMP 0x0057fbd1
0057fbcd : LEA EAX,[ESP + 0x18]
0057fbd1 : PUSH EAX
0057fbd2 : PUSH 0xb8d7c4
0057fbd7 : PUSH EBP
0057fbd8 : MOV ECX,ESI
0057fbda : CALL 0x00500670
0057fbdf : TEST BL,0x4
0057fbe2 : JZ 0x0057fbf0
0057fbe4 : LEA ECX,[ESP + 0x28]
0057fbe8 : AND EBX,0xfffffffb
0057fbeb : CALL 0x00526bc0
0057fbf0 : MOV CL,byte ptr [EDI + 0x16]
0057fbf3 : SHR CL,0x3
0057fbf6 : TEST CL,0x1
0057fbf9 : JZ 0x0057fc19
0057fbfb : MOVSX EDX,word ptr [EDI + 0x10]
0057fbff : MOV dword ptr [ESP + 0x3c],EDX
0057fc03 : OR EBX,0x8
0057fc06 : FILD dword ptr [ESP + 0x3c]
0057fc0a : MOV byte ptr [ESP + 0x28],0x3
0057fc0f : LEA EAX,[ESP + 0x28]
0057fc13 : FSTP double ptr [ESP + 0x2c]
0057fc17 : JMP 0x0057fc1d
0057fc19 : LEA EAX,[ESP + 0x18]
0057fc1d : PUSH EAX
0057fc1e : PUSH 0xb8655c
0057fc23 : PUSH EBP
0057fc24 : MOV ECX,ESI
0057fc26 : CALL 0x00500670
0057fc2b : TEST BL,0x8
0057fc2e : JZ 0x0057fc3c
0057fc30 : LEA ECX,[ESP + 0x28]
0057fc34 : AND EBX,0xfffffff7
0057fc37 : CALL 0x00526bc0
0057fc3c : MOV AL,byte ptr [EDI + 0x16]
0057fc3f : SHR AL,0x4
0057fc42 : TEST AL,0x1
0057fc44 : JZ 0x0057fc64
0057fc46 : MOVZX ECX,word ptr [EDI + 0x12]
0057fc4a : MOV dword ptr [ESP + 0x3c],ECX
0057fc4e : OR EBX,0x10
0057fc51 : FILD dword ptr [ESP + 0x3c]
0057fc55 : MOV byte ptr [ESP + 0x28],0x3
0057fc5a : LEA EAX,[ESP + 0x28]
0057fc5e : FSTP double ptr [ESP + 0x2c]
0057fc62 : JMP 0x0057fc68
0057fc64 : LEA EAX,[ESP + 0x18]
0057fc68 : PUSH EAX
0057fc69 : PUSH 0xb8d7b8
0057fc6e : PUSH EBP
0057fc6f : MOV ECX,ESI
0057fc71 : CALL 0x00500670
0057fc76 : TEST BL,0x10
0057fc79 : JZ 0x0057fc87
0057fc7b : LEA ECX,[ESP + 0x28]
0057fc7f : AND EBX,0xffffffef
0057fc82 : CALL 0x00526bc0
0057fc87 : MOV DL,byte ptr [EDI + 0x16]
0057fc8a : SHR DL,0x5
0057fc8d : TEST DL,0x1
0057fc90 : JZ 0x0057fcb0
0057fc92 : MOVZX EAX,word ptr [EDI + 0x14]
0057fc96 : MOV dword ptr [ESP + 0x3c],EAX
0057fc9a : OR EBX,0x20
0057fc9d : FILD dword ptr [ESP + 0x3c]
0057fca1 : MOV byte ptr [ESP + 0x28],0x3
0057fca6 : LEA EAX,[ESP + 0x28]
0057fcaa : FSTP double ptr [ESP + 0x2c]
0057fcae : JMP 0x0057fcb4
0057fcb0 : LEA EAX,[ESP + 0x18]
0057fcb4 : PUSH EAX
0057fcb5 : PUSH 0xb8d7ac
0057fcba : PUSH EBP
0057fcbb : MOV ECX,ESI
0057fcbd : CALL 0x00500670
0057fcc2 : TEST BL,0x20
0057fcc5 : JZ 0x0057fcd0
0057fcc7 : LEA ECX,[ESP + 0x28]
0057fccb : CALL 0x00526bc0
0057fcd0 : MOV CL,byte ptr [EDI + 0x16]
0057fcd3 : SHR CL,0x6
0057fcd6 : TEST CL,0x1
0057fcd9 : JZ 0x0057fda7
0057fcdf : LEA EDX,[ESP + 0x3c]
0057fce3 : XOR ESI,ESI
0057fce5 : PUSH EDX
0057fce6 : MOV ECX,EDI
0057fce8 : MOV dword ptr [ESP + 0x40],ESI
0057fcec : CALL 0x0055e770
0057fcf1 : MOV EBX,EAX
0057fcf3 : MOV EAX,dword ptr [EBP]
0057fcf6 : MOV ECX,dword ptr [EAX + 0x288]
0057fcfc : PUSH ESI
0057fcfd : PUSH 0x48
0057fcff : CALL 0x00515840
0057fd04 : CMP EAX,ESI
0057fd06 : JZ 0x0057fd14
0057fd08 : PUSH EBP
0057fd09 : MOV ECX,EAX
0057fd0b : CALL 0x005851a0
0057fd10 : MOV EDI,EAX
0057fd12 : JMP 0x0057fd16
0057fd14 : XOR EDI,EDI
0057fd16 : MOV ECX,dword ptr [ESP + 0x3c]
0057fd1a : PUSH ECX
0057fd1b : MOV ECX,EDI
0057fd1d : CALL 0x00585260
0057fd22 : CMP dword ptr [ESP + 0x3c],0x0
0057fd27 : JBE 0x0057fd66
0057fd29 : LEA ESP,[ESP]
0057fd30 : MOV EDX,dword ptr [EBX + ESI*0x4]
0057fd33 : FILD dword ptr [EBX + ESI*0x4]
0057fd36 : MOV byte ptr [ESP + 0x28],0x3
0057fd3b : TEST EDX,EDX
0057fd3d : JGE 0x0057fd45
0057fd3f : FADD double ptr [0x00cdf6f8]
0057fd45 : LEA EAX,[ESP + 0x28]
0057fd49 : FSTP double ptr [ESP + 0x2c]
0057fd4d : PUSH EAX
0057fd4e : PUSH ESI
0057fd4f : MOV ECX,EDI
0057fd51 : CALL 0x005848f0
0057fd56 : LEA ECX,[ESP + 0x28]
0057fd5a : CALL 0x00526bc0
0057fd5f : INC ESI
0057fd60 : CMP ESI,dword ptr [ESP + 0x3c]
0057fd64 : JC 0x0057fd30
0057fd66 : PUSH EDI
0057fd67 : LEA ECX,[ESP + 0x2c]
0057fd6b : CALL 0x00526a90
0057fd70 : MOV ECX,dword ptr [ESP + 0x40]
0057fd74 : PUSH EAX
0057fd75 : PUSH 0xb8d798
0057fd7a : PUSH EBP
0057fd7b : CALL 0x00500670
0057fd80 : LEA ECX,[ESP + 0x28]
0057fd84 : CALL 0x00526bc0
0057fd89 : TEST EDI,EDI
0057fd8b : JZ 0x0057fdb9
0057fd8d : MOV ECX,EDI
0057fd8f : CALL 0x00503db0
0057fd94 : LEA ECX,[ESP + 0x18]
0057fd98 : CALL 0x00526bc0
0057fd9d : POP EDI
0057fd9e : POP ESI
0057fd9f : POP EBP
0057fda0 : POP EBX
0057fda1 : ADD ESP,0x28
0057fda4 : RET 0x8
0057fda7 : LEA ECX,[ESP + 0x18]
0057fdab : PUSH ECX
0057fdac : PUSH 0xb8d798
0057fdb1 : PUSH EBP
0057fdb2 : MOV ECX,ESI
0057fdb4 : CALL 0x00500670
0057fdb9 : LEA ECX,[ESP + 0x18]
0057fdbd : CALL 0x00526bc0
0057fdc2 : POP EDI
0057fdc3 : POP ESI
0057fdc4 : POP EBP
0057fdc5 : POP EBX
0057fdc6 : ADD ESP,0x28
0057fdc9 : RET 0x8
