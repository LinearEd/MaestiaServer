PROGRAM  : Maestia.exe
FUNCTION : FUN_0097f0f0
ENTRY    : 0097f0f0
BODY     : [[0097f0f0, 0097f3fc] [0097f400, 0097f4cd] [0097f4d4, 0097f4da]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0097f0f0(int param_1,int param_2)

{
  undefined4 uVar1;
  DWORD DVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  int *piVar6;
  int *piVar7;
  uint *puVar8;
  bool bVar9;
  undefined1 local_90 [28];
  int local_74;
  int *local_70;
  int local_6c;
  undefined1 local_68 [4];
  undefined2 local_64;
  undefined4 local_54;
  uint local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined4 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar3 = DAT_00d7c54c;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b5ada9;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_74 = param_1;
  if (param_2 == 0) {
    FUN_008018d0(L"%d : [%s] Status is Null",0xdd,L"AvaGuiMyStatusList::BeginStatus",local_14);
    goto LAB_0097f49d;
  }
  piVar7 = *(int **)(param_2 + 8);
  local_70 = piVar7;
  FUN_004437f0(&local_70);
  if ((local_6c != *(int *)(iVar3 + 0x44)) &&
     (iVar3 = *(int *)(local_6c + 0x10), local_6c = iVar3, iVar3 != 0)) {
    if (((uint)piVar7 >> 0x10 == 0x143e) ||
       ((*(int *)(param_2 + 0xc) == 0 && (*(char *)(param_2 + 0x12) != '\0')))) goto LAB_0097f49d;
    local_70 = (int *)FUN_006f0760(0x658,".\\Gui\\AvaGuiMyStatusList.cpp",0xea,0);
    piVar7 = (int *)0x0;
    local_8 = 0;
    if (local_70 != (int *)0x0) {
      piVar7 = (int *)FUN_00425260(local_70);
    }
    local_8 = 0xffffffff;
    *piVar7 = *(int *)(param_2 + 4);
    piVar7[1] = *(int *)(param_2 + 8);
    piVar7[2] = *(int *)(param_2 + 0xc);
    local_70 = piVar7;
    uVar1 = FUN_00404350(iVar3 + 0x40);
    local_8 = 1;
    FUN_00405eb0(uVar1,0,0xffffffff);
    local_8 = 0xffffffff;
    FUN_00406560();
    FUN_00406460(&DAT_00c7bdb8);
    local_8 = 2;
    FUN_0096c1d0(piVar7,1);
    FUN_0096ce40(piVar7);
    FUN_00405eb0(local_68,0,0xffffffff);
    DVar2 = timeGetTime();
    piVar7[4] = DVar2;
    bVar9 = *(char *)(param_2 + 0x12) == '\0';
    *(bool *)(piVar7 + 6) = bVar9;
    if (bVar9) {
      piVar7[2] = 0;
    }
    FUN_00824a20(DAT_0172491c,0);
    local_8._0_1_ = 3;
    FUN_00406460(&DAT_00c7bdbc);
    local_8._0_1_ = 4;
    if (*(char *)(param_2 + 0x11) == '\0') {
      if (*(short *)(local_6c + 0x14e) != 0) {
        local_6c = 0x28;
        iVar3 = FUN_00407c10(&local_6c,1);
        local_6c = 0x29;
        iVar4 = FUN_00407c10(&local_6c,1);
        if ((iVar3 != -1) && (iVar4 != -1)) {
          FUN_00405e10(iVar3,iVar4);
        }
      }
      FUN_00406460(L"IDS_GUI_APPLY_STATUS");
      local_8._0_1_ = 5;
      iVar3 = FUN_0081d120(local_90);
      local_8._0_1_ = 6;
      puVar5 = local_2c;
      if (local_18 < 8) {
        puVar5 = &local_2c;
      }
      if (*(uint *)(iVar3 + 0x18) < 8) {
        iVar3 = iVar3 + 4;
      }
      else {
        iVar3 = *(int *)(iVar3 + 4);
      }
      uVar1 = FUN_00404750(iVar3,puVar5);
      local_8._0_1_ = 7;
      FUN_00405eb0(uVar1,0,0xffffffff);
      local_8._0_1_ = 6;
      FUN_00406560();
      local_8._0_1_ = 5;
      FUN_00406560();
      local_8._0_1_ = 4;
      FUN_00406560();
    }
    else {
      FUN_00405c00(local_4c);
    }
    iVar3 = local_74;
    (**(code **)(**(int **)(*(int *)(local_74 + 4) + 0x1a8) + 0x44))(local_4c,0x15);
    if (*(char *)(param_2 + 0x10) == '\0') {
      *(undefined1 *)(piVar7 + 3) = 0;
      puVar8 = *(uint **)(iVar3 + 0x50);
      if (puVar8 != *(uint **)(iVar3 + 0x54)) {
        do {
          piVar6 = (int *)*puVar8;
          if (*piVar7 == *piVar6) goto LAB_0097f4bb;
          puVar8 = puVar8 + 1;
        } while (puVar8 != *(uint **)(iVar3 + 0x54));
      }
    }
    else {
      *(undefined1 *)(piVar7 + 3) = 1;
      puVar8 = *(uint **)(iVar3 + 0x40);
      if (puVar8 != *(uint **)(iVar3 + 0x44)) {
        do {
          piVar6 = (int *)*puVar8;
          if (*piVar7 == *piVar6) goto LAB_0097f4bb;
          puVar8 = puVar8 + 1;
        } while (puVar8 != *(uint **)(iVar3 + 0x44));
      }
    }
    FUN_00449730();
    goto LAB_0097f41c;
  }
  goto LAB_0097f48c;
LAB_0097f4bb:
  if (piVar6 != (int *)0x0) {
    FUN_00406bd0(piVar6);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *puVar8 = (uint)piVar7;
LAB_0097f41c:
  local_8 = CONCAT31(local_8._1_3_,3);
  if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_34 = 7;
  local_38 = 0;
  local_48 = 0;
  local_8 = CONCAT31(local_8._1_3_,2);
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
  local_8 = 0xffffffff;
  if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_50 = 7;
  local_54 = 0;
  local_64 = 0;
LAB_0097f48c:
  FUN_0096be40();
  FUN_0096b8d0();
LAB_0097f49d:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0097f0f0 : PUSH EBP
0097f0f1 : MOV EBP,ESP
0097f0f3 : PUSH -0x1
0097f0f5 : PUSH 0xb5ada9
0097f0fa : MOV EAX,FS:[0x0]
0097f100 : PUSH EAX
0097f101 : SUB ESP,0xb8
0097f107 : MOV EAX,[0x00d66fa0]
0097f10c : XOR EAX,EBP
0097f10e : MOV dword ptr [EBP + -0x10],EAX
0097f111 : PUSH EBX
0097f112 : PUSH ESI
0097f113 : PUSH EDI
0097f114 : PUSH EAX
0097f115 : LEA EAX,[EBP + -0xc]
0097f118 : MOV FS:[0x0],EAX
0097f11e : MOV EDI,dword ptr [EBP + 0xc]
0097f121 : MOV EAX,dword ptr [EBP + 0x8]
0097f124 : MOV dword ptr [EBP + -0x70],EAX
0097f127 : TEST EDI,EDI
0097f129 : JNZ 0x0097f14d
0097f12b : MOV ESI,dword ptr [0x00da98e8]
0097f131 : PUSH 0xc7bd38
0097f136 : PUSH 0xdd
0097f13b : PUSH 0xc7bd04
0097f140 : CALL 0x008018d0
0097f145 : ADD ESP,0xc
0097f148 : JMP 0x0097f49d
0097f14d : MOV ESI,dword ptr [0x00d7c54c]
0097f153 : MOV EBX,dword ptr [EDI + 0x8]
0097f156 : LEA ECX,[EBP + -0x6c]
0097f159 : PUSH ECX
0097f15a : LEA ECX,[ESI + 0x40]
0097f15d : LEA EAX,[EBP + -0x68]
0097f160 : MOV dword ptr [EBP + -0x6c],EBX
0097f163 : CALL 0x004437f0
0097f168 : MOV ESI,dword ptr [ESI + 0x44]
0097f16b : MOV EAX,dword ptr [EBP + -0x68]
0097f16e : CMP EAX,ESI
0097f170 : JZ 0x0097f48c
0097f176 : MOV ESI,dword ptr [EAX + 0x10]
0097f179 : MOV dword ptr [EBP + -0x68],ESI
0097f17c : TEST ESI,ESI
0097f17e : JZ 0x0097f48c
0097f184 : SHR EBX,0x10
0097f187 : CMP EBX,0x143e
0097f18d : JZ 0x0097f49d
0097f193 : CMP dword ptr [EDI + 0xc],0x0
0097f197 : JNZ 0x0097f1a3
0097f199 : CMP byte ptr [EDI + 0x12],0x0
0097f19d : JNZ 0x0097f49d
0097f1a3 : PUSH 0x0
0097f1a5 : PUSH 0xea
0097f1aa : PUSH 0xc7bd78
0097f1af : PUSH 0x658
0097f1b4 : CALL 0x006f0760
0097f1b9 : ADD ESP,0x10
0097f1bc : MOV dword ptr [EBP + -0x6c],EAX
0097f1bf : XOR EBX,EBX
0097f1c1 : MOV dword ptr [EBP + -0x4],EBX
0097f1c4 : CMP EAX,EBX
0097f1c6 : JZ 0x0097f1d0
0097f1c8 : PUSH EAX
0097f1c9 : CALL 0x00425260
0097f1ce : MOV EBX,EAX
0097f1d0 : MOV dword ptr [EBP + -0x4],0xffffffff
0097f1d7 : MOV EDX,dword ptr [EDI + 0x4]
0097f1da : MOV dword ptr [EBX],EDX
0097f1dc : MOV EAX,dword ptr [EDI + 0x8]
0097f1df : MOV dword ptr [EBX + 0x4],EAX
0097f1e2 : MOV EAX,dword ptr [EDI + 0xc]
0097f1e5 : ADD ESI,0x40
0097f1e8 : PUSH ESI
0097f1e9 : LEA ESI,[EBP + 0xffffff74]
0097f1ef : MOV dword ptr [EBP + -0x6c],EBX
0097f1f2 : MOV dword ptr [EBX + 0x8],EAX
0097f1f5 : CALL 0x00404350
0097f1fa : ADD ESP,0x4
0097f1fd : MOV dword ptr [EBP + -0x4],0x1
0097f204 : PUSH -0x1
0097f206 : PUSH 0x0
0097f208 : LEA ECX,[EBX + 0x1c]
0097f20b : PUSH EAX
0097f20c : CALL 0x00405eb0
0097f211 : MOV dword ptr [EBP + -0x4],0xffffffff
0097f218 : MOV ECX,ESI
0097f21a : CALL 0x00406560
0097f21f : PUSH 0xc7bdb8
0097f224 : LEA ECX,[EBP + -0x64]
0097f227 : CALL 0x00406460
0097f22c : MOV dword ptr [EBP + -0x4],0x2
0097f233 : PUSH 0x1
0097f235 : PUSH EBX
0097f236 : CALL 0x0096c1d0
0097f23b : PUSH EBX
0097f23c : LEA ECX,[EBP + -0x64]
0097f23f : CALL 0x0096ce40
0097f244 : ADD ESP,0xc
0097f247 : PUSH -0x1
0097f249 : PUSH 0x0
0097f24b : LEA EAX,[EBP + -0x64]
0097f24e : LEA ECX,[EBX + 0x38]
0097f251 : PUSH EAX
0097f252 : CALL 0x00405eb0
0097f257 : CALL dword ptr [0x00b85598]
0097f25d : MOV dword ptr [EBX + 0x10],EAX
0097f260 : CMP byte ptr [EDI + 0x12],0x0
0097f264 : SETZ AL
0097f267 : MOV byte ptr [EBX + 0x18],AL
0097f26a : TEST AL,AL
0097f26c : JZ 0x0097f275
0097f26e : MOV dword ptr [EBX + 0x8],0x0
0097f275 : MOV ECX,dword ptr [0x0172491c]
0097f27b : MOV EDX,dword ptr [EBP + -0x68]
0097f27e : PUSH 0x0
0097f280 : ADD EDX,0x18
0097f283 : PUSH ECX
0097f284 : LEA ESI,[EBP + -0x2c]
0097f287 : CALL 0x00824a20
0097f28c : MOV byte ptr [EBP + -0x4],0x3
0097f290 : PUSH 0xc7bdbc
0097f295 : LEA ECX,[EBP + -0x48]
0097f298 : CALL 0x00406460
0097f29d : MOV byte ptr [EBP + -0x4],0x4
0097f2a1 : MOV AL,byte ptr [EDI + 0x11]
0097f2a4 : TEST AL,AL
0097f2a6 : JZ 0x0097f2bb
0097f2a8 : LEA EDX,[EBP + -0x48]
0097f2ab : PUSH EDX
0097f2ac : MOV EDX,0xc7bdc0
0097f2b1 : CALL 0x00405c00
0097f2b6 : JMP 0x0097f3a6
0097f2bb : MOV EAX,dword ptr [EBP + -0x68]
0097f2be : CMP word ptr [EAX + 0x14e],0x0
0097f2c6 : JZ 0x0097f30c
0097f2c8 : PUSH 0x1
0097f2ca : LEA ECX,[EBP + -0x68]
0097f2cd : PUSH ECX
0097f2ce : XOR EAX,EAX
0097f2d0 : LEA EDX,[EBP + -0x2c]
0097f2d3 : MOV dword ptr [EBP + -0x68],0x28
0097f2da : CALL 0x00407c10
0097f2df : PUSH 0x1
0097f2e1 : LEA EDX,[EBP + -0x68]
0097f2e4 : MOV ESI,EAX
0097f2e6 : PUSH EDX
0097f2e7 : XOR EAX,EAX
0097f2e9 : LEA EDX,[EBP + -0x2c]
0097f2ec : MOV dword ptr [EBP + -0x68],0x29
0097f2f3 : CALL 0x00407c10
0097f2f8 : CMP ESI,-0x1
0097f2fb : JZ 0x0097f30c
0097f2fd : CMP EAX,-0x1
0097f300 : JZ 0x0097f30c
0097f302 : PUSH EAX
0097f303 : PUSH ESI
0097f304 : LEA ECX,[EBP + -0x2c]
0097f307 : CALL 0x00405e10
0097f30c : PUSH 0xc7bdc4
0097f311 : LEA ECX,[EBP + 0xffffff74]
0097f317 : CALL 0x00406460
0097f31c : MOV byte ptr [EBP + -0x4],0x5
0097f320 : MOV ECX,dword ptr [0x0172491c]
0097f326 : LEA EAX,[EBP + 0xffffff74]
0097f32c : PUSH EAX
0097f32d : LEA EDI,[EBP + 0xffffff3c]
0097f333 : CALL 0x0081d120
0097f338 : MOV byte ptr [EBP + -0x4],0x6
0097f33c : MOV ECX,dword ptr [EBP + -0x28]
0097f33f : MOV EDX,0x8
0097f344 : CMP dword ptr [EBP + -0x14],EDX
0097f347 : JNC 0x0097f34c
0097f349 : LEA ECX,[EBP + -0x28]
0097f34c : CMP dword ptr [EAX + 0x18],EDX
0097f34f : JC 0x0097f356
0097f351 : MOV EAX,dword ptr [EAX + 0x4]
0097f354 : JMP 0x0097f359
0097f356 : ADD EAX,0x4
0097f359 : PUSH ECX
0097f35a : PUSH EAX
0097f35b : LEA ESI,[EBP + 0xffffff58]
0097f361 : CALL 0x00404750
0097f366 : ADD ESP,0x8
0097f369 : MOV byte ptr [EBP + -0x4],0x7
0097f36d : PUSH -0x1
0097f36f : PUSH 0x0
0097f371 : PUSH EAX
0097f372 : LEA ECX,[EBP + -0x48]
0097f375 : CALL 0x00405eb0
0097f37a : MOV byte ptr [EBP + -0x4],0x6
0097f37e : MOV ECX,ESI
0097f380 : CALL 0x00406560
0097f385 : MOV byte ptr [EBP + -0x4],0x5
0097f389 : LEA ECX,[EBP + 0xffffff3c]
0097f38f : CALL 0x00406560
0097f394 : MOV byte ptr [EBP + -0x4],0x4
0097f398 : LEA ECX,[EBP + 0xffffff74]
0097f39e : CALL 0x00406560
0097f3a3 : MOV EDI,dword ptr [EBP + 0xc]
0097f3a6 : MOV ESI,dword ptr [EBP + -0x70]
0097f3a9 : MOV ECX,dword ptr [ESI + 0x4]
0097f3ac : MOV ECX,dword ptr [ECX + 0x1a8]
0097f3b2 : MOV EDX,dword ptr [ECX]
0097f3b4 : MOV EDX,dword ptr [EDX + 0x44]
0097f3b7 : PUSH 0x15
0097f3b9 : LEA EAX,[EBP + -0x48]
0097f3bc : PUSH EAX
0097f3bd : CALL EDX
0097f3bf : CMP byte ptr [EDI + 0x10],0x0
0097f3c3 : JZ 0x0097f3eb
0097f3c5 : MOV byte ptr [EBX + 0xc],0x1
0097f3c9 : MOV EDI,dword ptr [ESI + 0x40]
0097f3cc : MOV EAX,dword ptr [ESI + 0x44]
0097f3cf : CMP EDI,EAX
0097f3d1 : JZ 0x0097f3e6
0097f3d3 : MOV ECX,dword ptr [EBX]
0097f3d5 : MOV EDX,dword ptr [EDI]
0097f3d7 : CMP ECX,dword ptr [EDX]
0097f3d9 : JZ 0x0097f4bb
0097f3df : ADD EDI,0x4
0097f3e2 : CMP EDI,EAX
0097f3e4 : JNZ 0x0097f3d5
0097f3e6 : LEA EDX,[ESI + 0x3c]
0097f3e9 : JMP 0x0097f414
0097f3eb : MOV byte ptr [EBX + 0xc],0x0
0097f3ef : MOV EDI,dword ptr [ESI + 0x50]
0097f3f2 : MOV EAX,dword ptr [ESI + 0x54]
0097f3f5 : CMP EDI,EAX
0097f3f7 : JZ 0x0097f411
0097f3f9 : MOV ECX,dword ptr [EBX]
0097f3fb : JMP 0x0097f400
0097f400 : MOV EDX,dword ptr [EDI]
0097f402 : CMP ECX,dword ptr [EDX]
0097f404 : JZ 0x0097f4bb
0097f40a : ADD EDI,0x4
0097f40d : CMP EDI,EAX
0097f40f : JNZ 0x0097f400
0097f411 : LEA EDX,[ESI + 0x4c]
0097f414 : LEA EDI,[EBP + -0x6c]
0097f417 : CALL 0x00449730
0097f41c : MOV byte ptr [EBP + -0x4],0x3
0097f420 : MOV EDI,0x8
0097f425 : CMP dword ptr [EBP + -0x30],EDI
0097f428 : JC 0x0097f432
0097f42a : MOV ECX,dword ptr [EBP + -0x44]
0097f42d : CALL 0x006f04e0
0097f432 : MOV ESI,0x7
0097f437 : XOR EAX,EAX
0097f439 : MOV dword ptr [EBP + -0x30],ESI
0097f43c : MOV dword ptr [EBP + -0x34],0x0
0097f443 : MOV word ptr [EBP + -0x44],AX
0097f447 : MOV byte ptr [EBP + -0x4],0x2
0097f44b : CMP dword ptr [EBP + -0x14],EDI
0097f44e : JC 0x0097f458
0097f450 : MOV ECX,dword ptr [EBP + -0x28]
0097f453 : CALL 0x006f04e0
0097f458 : XOR ECX,ECX
0097f45a : MOV dword ptr [EBP + -0x14],ESI
0097f45d : MOV dword ptr [EBP + -0x18],0x0
0097f464 : MOV word ptr [EBP + -0x28],CX
0097f468 : MOV dword ptr [EBP + -0x4],0xffffffff
0097f46f : CMP dword ptr [EBP + -0x4c],EDI
0097f472 : JC 0x0097f47c
0097f474 : MOV ECX,dword ptr [EBP + -0x60]
0097f477 : CALL 0x006f04e0
0097f47c : XOR EDX,EDX
0097f47e : MOV dword ptr [EBP + -0x4c],ESI
0097f481 : MOV dword ptr [EBP + -0x50],0x0
0097f488 : MOV word ptr [EBP + -0x60],DX
0097f48c : MOV ESI,dword ptr [EBP + -0x70]
0097f48f : MOV ECX,ESI
0097f491 : CALL 0x0096be40
0097f496 : MOV ECX,ESI
0097f498 : CALL 0x0096b8d0
0097f49d : MOV ECX,dword ptr [EBP + -0xc]
0097f4a0 : MOV dword ptr FS:[0x0],ECX
0097f4a7 : POP ECX
0097f4a8 : POP EDI
0097f4a9 : POP ESI
0097f4aa : POP EBX
0097f4ab : MOV ECX,dword ptr [EBP + -0x10]
0097f4ae : XOR ECX,EBP
0097f4b0 : CALL 0x00633e6b
0097f4b5 : MOV ESP,EBP
0097f4b7 : POP EBP
0097f4b8 : RET 0x8
0097f4bb : MOV ESI,EDX
0097f4bd : TEST ESI,ESI
0097f4bf : JZ 0x0097f4d4
0097f4c1 : PUSH ESI
0097f4c2 : CALL 0x00406bd0
0097f4c7 : MOV ECX,ESI
0097f4c9 : CALL 0x006f04e0
0097f4d4 : MOV dword ptr [EDI],EBX
0097f4d6 : JMP 0x0097f41c
