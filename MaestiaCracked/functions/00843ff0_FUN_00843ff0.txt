PROGRAM  : Maestia.exe
FUNCTION : FUN_00843ff0
ENTRY    : 00843ff0
BODY     : [[00843ff0, 008440da]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00843ff0(int param_1,undefined1 param_2)

{
  uint uVar1;
  DWORD DVar2;
  int iVar3;
  undefined1 local_38 [4];
  int local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2a05c;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(undefined4 *)(param_1 + 8) = 2;
  local_14 = uVar1;
  FUN_004437f0(local_38);
  if (local_34 == DAT_017245e4) {
    iVar3 = 0;
  }
  else {
    iVar3 = *(int *)(local_34 + 0x10);
  }
  DVar2 = timeGetTime();
  FUN_00483f90(DVar2,uVar1);
  if (iVar3 != 0) {
    FUN_006f0c10(local_30,1);
    local_8 = 0;
    FUN_009604a0(param_2);
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00843ff0 : PUSH EBP
00843ff1 : MOV EBP,ESP
00843ff3 : PUSH -0x1
00843ff5 : PUSH 0xb2a05c
00843ffa : MOV EAX,FS:[0x0]
00844000 : PUSH EAX
00844001 : SUB ESP,0x28
00844004 : MOV EAX,[0x00d66fa0]
00844009 : XOR EAX,EBP
0084400b : MOV dword ptr [EBP + -0x10],EAX
0084400e : PUSH ESI
0084400f : PUSH EDI
00844010 : PUSH EAX
00844011 : LEA EAX,[EBP + -0xc]
00844014 : MOV FS:[0x0],EAX
0084401a : MOV ESI,ECX
0084401c : MOV EAX,dword ptr [EBP + 0x8]
0084401f : MOV dword ptr [EAX + 0x8],0x2
00844026 : LEA EAX,[EBP + -0x34]
00844029 : PUSH EAX
0084402a : LEA EAX,[EBP + -0x30]
0084402d : MOV ECX,0x17245e0
00844032 : MOV dword ptr [EBP + -0x34],ESI
00844035 : CALL 0x004437f0
0084403a : MOV EAX,dword ptr [EBP + -0x30]
0084403d : CMP EAX,dword ptr [0x017245e4]
00844043 : JZ 0x0084404a
00844045 : MOV EDI,dword ptr [EAX + 0x10]
00844048 : JMP 0x0084404c
0084404a : XOR EDI,EDI
0084404c : CALL dword ptr [0x00b85598]
00844052 : PUSH EAX
00844053 : CALL 0x00483f90
00844058 : ADD ESP,0x4
0084405b : TEST EDI,EDI
0084405d : JZ 0x008440be
0084405f : MOV EDX,dword ptr [EDI + 0x8]
00844062 : PUSH 0x1
00844064 : LEA ECX,[EBP + -0x2c]
00844067 : PUSH ECX
00844068 : MOV ECX,0x1724628
0084406d : CALL 0x006f0c10
00844072 : MOV dword ptr [EBP + -0x4],0x0
00844079 : MOV EDX,dword ptr [0x00da9894]
0084407f : MOVZX CX,byte ptr [EBP + 0xc]
00844084 : MOV EAX,dword ptr [EDX]
00844086 : MOV EAX,dword ptr [EAX + 0x20c]
0084408c : MOVZX EDX,CX
0084408f : PUSH EDX
00844090 : CALL 0x009604a0
00844095 : MOV dword ptr [EBP + -0x4],0xffffffff
0084409c : CMP dword ptr [EBP + -0x14],0x8
008440a0 : JC 0x008440aa
008440a2 : MOV ECX,dword ptr [EBP + -0x28]
008440a5 : CALL 0x006f04e0
008440aa : XOR EAX,EAX
008440ac : MOV dword ptr [EBP + -0x14],0x7
008440b3 : MOV dword ptr [EBP + -0x18],0x0
008440ba : MOV word ptr [EBP + -0x28],AX
008440be : MOV ECX,dword ptr [EBP + -0xc]
008440c1 : MOV dword ptr FS:[0x0],ECX
008440c8 : POP ECX
008440c9 : POP EDI
008440ca : POP ESI
008440cb : MOV ECX,dword ptr [EBP + -0x10]
008440ce : XOR ECX,EBP
008440d0 : CALL 0x00633e6b
008440d5 : MOV ESP,EBP
008440d7 : POP EBP
008440d8 : RET 0x8
