PROGRAM  : Maestia.exe
FUNCTION : FUN_0060a020
ENTRY    : 0060a020
BODY     : [[0060a020, 0060a087]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0060a020(undefined4 *param_1,int param_2)

{
  char cVar1;
  int *in_ECX;
  int *piVar2;
  int iVar3;
  
  piVar2 = (int *)(*in_ECX + 8 + param_2 * 0x14);
  if ((*(int *)(*in_ECX + 8 + param_2 * 0x14) != -2) && (iVar3 = param_2, piVar2[1] == param_2)) {
    while( true ) {
      if (piVar2[1] == param_2) {
        cVar1 = FUN_00609310(piVar2[4],*param_1,param_1[2]);
        if (cVar1 != '\0') {
          return iVar3;
        }
      }
      iVar3 = *piVar2;
      if (iVar3 == -1) break;
      piVar2 = (int *)(*in_ECX + 8 + iVar3 * 0x14);
    }
  }
  return -1;
}



============================================================
DISASSEMBLY
============================================================
0060a020 : PUSH EBX
0060a021 : MOV EBX,dword ptr [ESP + 0xc]
0060a025 : PUSH EBP
0060a026 : MOV EBP,ECX
0060a028 : MOV ECX,dword ptr [EBP]
0060a02b : PUSH ESI
0060a02c : LEA EAX,[EBX + EBX*0x4]
0060a02f : CMP dword ptr [ECX + EAX*0x4 + 0x8],-0x2
0060a034 : LEA ESI,[ECX + EAX*0x4 + 0x8]
0060a038 : PUSH EDI
0060a039 : MOV EDI,EBX
0060a03b : JZ 0x0060a07e
0060a03d : CMP dword ptr [ESI + 0x4],EBX
0060a040 : JNZ 0x0060a07e
0060a042 : CMP dword ptr [ESI + 0x4],EBX
0060a045 : JNZ 0x0060a062
0060a047 : MOV EAX,dword ptr [ESP + 0x14]
0060a04b : MOV EDX,dword ptr [EAX + 0x8]
0060a04e : MOV EAX,dword ptr [EAX]
0060a050 : MOV ECX,dword ptr [ESI + 0x10]
0060a053 : PUSH EDX
0060a054 : PUSH EAX
0060a055 : PUSH ECX
0060a056 : MOV ECX,dword ptr [ESI + 0x8]
0060a059 : CALL 0x00609310
0060a05e : TEST AL,AL
0060a060 : JNZ 0x0060a075
0060a062 : MOV EDI,dword ptr [ESI]
0060a064 : CMP EDI,-0x1
0060a067 : JZ 0x0060a07e
0060a069 : MOV EAX,dword ptr [EBP]
0060a06c : LEA EDX,[EDI + EDI*0x4]
0060a06f : LEA ESI,[EAX + EDX*0x4 + 0x8]
0060a073 : JMP 0x0060a042
0060a075 : MOV EAX,EDI
0060a077 : POP EDI
0060a078 : POP ESI
0060a079 : POP EBP
0060a07a : POP EBX
0060a07b : RET 0x8
0060a07e : POP EDI
0060a07f : POP ESI
0060a080 : POP EBP
0060a081 : OR EAX,0xffffffff
0060a084 : POP EBX
0060a085 : RET 0x8
