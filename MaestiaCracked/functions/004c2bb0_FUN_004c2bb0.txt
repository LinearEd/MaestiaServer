PROGRAM  : Maestia.exe
FUNCTION : FUN_004c2bb0
ENTRY    : 004c2bb0
BODY     : [[004c2bb0, 004c2d21]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004c2bb0(int param_1,int param_2,undefined4 param_3,code *param_4,int *param_5,int param_6)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  
  while (param_2 < param_1) {
    iVar4 = (param_1 + -1) / 2;
    uVar2 = (uint)(param_6 + iVar4) >> 2;
    if (param_5 == (int *)0x0) {
      iVar1 = 0;
    }
    else {
      iVar1 = *param_5;
    }
    if (*(uint *)(iVar1 + 0x14) <= uVar2) {
      if (param_5 == (int *)0x0) {
        iVar1 = 0;
      }
      else {
        iVar1 = *param_5;
      }
      uVar2 = uVar2 - *(int *)(iVar1 + 0x14);
    }
    if (param_5 == (int *)0x0) {
      iVar1 = 0;
    }
    else {
      iVar1 = *param_5;
    }
    iVar1 = (*param_4)(*(undefined4 *)
                        (*(int *)(*(int *)(iVar1 + 0x10) + uVar2 * 4) + (param_6 + iVar4 & 3U) * 4),
                       param_3);
    if (iVar1 == 0) break;
    uVar2 = (uint)(param_6 + iVar4) >> 2;
    if (param_5 == (int *)0x0) {
      iVar1 = 0;
    }
    else {
      iVar1 = *param_5;
    }
    if (*(uint *)(iVar1 + 0x14) <= uVar2) {
      if (param_5 == (int *)0x0) {
        iVar1 = 0;
      }
      else {
        iVar1 = *param_5;
      }
      uVar2 = uVar2 - *(int *)(iVar1 + 0x14);
    }
    if (param_5 == (int *)0x0) {
      iVar1 = 0;
    }
    else {
      iVar1 = *param_5;
    }
    uVar3 = (uint)(param_1 + param_6) >> 2;
    if (param_5 == (int *)0x0) {
      iVar5 = 0;
    }
    else {
      iVar5 = *param_5;
    }
    if (*(uint *)(iVar5 + 0x14) <= uVar3) {
      if (param_5 == (int *)0x0) {
        iVar5 = 0;
      }
      else {
        iVar5 = *param_5;
      }
      uVar3 = uVar3 - *(int *)(iVar5 + 0x14);
    }
    if (param_5 == (int *)0x0) {
      iVar5 = 0;
    }
    else {
      iVar5 = *param_5;
    }
    *(undefined4 *)(*(int *)(*(int *)(iVar5 + 0x10) + uVar3 * 4) + (param_1 + param_6 & 3U) * 4) =
         *(undefined4 *)(*(int *)(*(int *)(iVar1 + 0x10) + uVar2 * 4) + (param_6 + iVar4 & 3U) * 4);
    param_1 = iVar4;
  }
  uVar3 = (uint)(param_6 + param_1) >> 2;
  uVar2 = param_6 + param_1 & 3;
  if (param_5 == (int *)0x0) {
    iVar4 = 0;
  }
  else {
    iVar4 = *param_5;
  }
  if (*(uint *)(iVar4 + 0x14) <= uVar3) {
    if (param_5 == (int *)0x0) {
      iVar4 = 0;
    }
    else {
      iVar4 = *param_5;
    }
    uVar3 = uVar3 - *(int *)(iVar4 + 0x14);
  }
  if (param_5 == (int *)0x0) {
    *(undefined4 *)(*(int *)(iRam00000010 + uVar3 * 4) + uVar2 * 4) = param_3;
    return;
  }
  *(undefined4 *)(*(int *)(*(int *)(*param_5 + 0x10) + uVar3 * 4) + uVar2 * 4) = param_3;
  return;
}



============================================================
DISASSEMBLY
============================================================
004c2bb0 : PUSH EBP
004c2bb1 : MOV EBP,ESP
004c2bb3 : MOV ECX,dword ptr [EBP + 0x8]
004c2bb6 : LEA EAX,[ECX + -0x1]
004c2bb9 : SUB ESP,0xc
004c2bbc : CDQ
004c2bbd : PUSH EBX
004c2bbe : SUB EAX,EDX
004c2bc0 : MOV EBX,EAX
004c2bc2 : PUSH ESI
004c2bc3 : SAR EBX,0x1
004c2bc5 : CMP dword ptr [EBP + 0xc],ECX
004c2bc8 : PUSH EDI
004c2bc9 : JGE 0x004c2cc2
004c2bcf : MOV EAX,dword ptr [EBP + 0x1c]
004c2bd2 : MOV EDX,dword ptr [EBP + 0x18]
004c2bd5 : MOV dword ptr [EBP + -0x4],EAX
004c2bd8 : ADD EAX,EBX
004c2bda : MOV ECX,EAX
004c2bdc : SHR ECX,0x2
004c2bdf : AND EAX,0x3
004c2be2 : TEST EDX,EDX
004c2be4 : JZ 0x004c2bea
004c2be6 : MOV ESI,dword ptr [EDX]
004c2be8 : JMP 0x004c2bec
004c2bea : XOR ESI,ESI
004c2bec : CMP dword ptr [ESI + 0x14],ECX
004c2bef : JA 0x004c2bfe
004c2bf1 : TEST EDX,EDX
004c2bf3 : JZ 0x004c2bf9
004c2bf5 : MOV ESI,dword ptr [EDX]
004c2bf7 : JMP 0x004c2bfb
004c2bf9 : XOR ESI,ESI
004c2bfb : SUB ECX,dword ptr [ESI + 0x14]
004c2bfe : TEST EDX,EDX
004c2c00 : JZ 0x004c2c06
004c2c02 : MOV EDX,dword ptr [EDX]
004c2c04 : JMP 0x004c2c08
004c2c06 : XOR EDX,EDX
004c2c08 : MOV EDX,dword ptr [EDX + 0x10]
004c2c0b : MOV ECX,dword ptr [EDX + ECX*0x4]
004c2c0e : MOV EDX,dword ptr [EBP + 0x10]
004c2c11 : LEA EAX,[ECX + EAX*0x4]
004c2c14 : MOV EAX,dword ptr [EAX]
004c2c16 : PUSH EDX
004c2c17 : PUSH EAX
004c2c18 : CALL dword ptr [EBP + 0x14]
004c2c1b : ADD ESP,0x8
004c2c1e : TEST EAX,EAX
004c2c20 : JZ 0x004c2cc2
004c2c26 : MOV EDX,dword ptr [EBP + 0x1c]
004c2c29 : MOV ESI,dword ptr [EBP + 0x18]
004c2c2c : LEA EAX,[EDX + EBX*0x1]
004c2c2f : MOV ECX,EAX
004c2c31 : SHR ECX,0x2
004c2c34 : AND EAX,0x3
004c2c37 : MOV dword ptr [EBP + -0x4],EDX
004c2c3a : TEST ESI,ESI
004c2c3c : JZ 0x004c2c42
004c2c3e : MOV EDI,dword ptr [ESI]
004c2c40 : JMP 0x004c2c44
004c2c42 : XOR EDI,EDI
004c2c44 : CMP dword ptr [EDI + 0x14],ECX
004c2c47 : JA 0x004c2c56
004c2c49 : TEST ESI,ESI
004c2c4b : JZ 0x004c2c51
004c2c4d : MOV EDI,dword ptr [ESI]
004c2c4f : JMP 0x004c2c53
004c2c51 : XOR EDI,EDI
004c2c53 : SUB ECX,dword ptr [EDI + 0x14]
004c2c56 : TEST ESI,ESI
004c2c58 : JZ 0x004c2c5e
004c2c5a : MOV EDI,dword ptr [ESI]
004c2c5c : JMP 0x004c2c60
004c2c5e : XOR EDI,EDI
004c2c60 : MOV EDI,dword ptr [EDI + 0x10]
004c2c63 : MOV ECX,dword ptr [EDI + ECX*0x4]
004c2c66 : LEA EDI,[ECX + EAX*0x4]
004c2c69 : MOV EAX,dword ptr [EBP + 0x8]
004c2c6c : ADD EAX,EDX
004c2c6e : MOV ECX,EAX
004c2c70 : SHR ECX,0x2
004c2c73 : AND EAX,0x3
004c2c76 : MOV dword ptr [EBP + -0x4],EDX
004c2c79 : TEST ESI,ESI
004c2c7b : JZ 0x004c2c81
004c2c7d : MOV EDX,dword ptr [ESI]
004c2c7f : JMP 0x004c2c83
004c2c81 : XOR EDX,EDX
004c2c83 : CMP dword ptr [EDX + 0x14],ECX
004c2c86 : JA 0x004c2c95
004c2c88 : TEST ESI,ESI
004c2c8a : JZ 0x004c2c90
004c2c8c : MOV EDX,dword ptr [ESI]
004c2c8e : JMP 0x004c2c92
004c2c90 : XOR EDX,EDX
004c2c92 : SUB ECX,dword ptr [EDX + 0x14]
004c2c95 : TEST ESI,ESI
004c2c97 : JZ 0x004c2c9d
004c2c99 : MOV ESI,dword ptr [ESI]
004c2c9b : JMP 0x004c2c9f
004c2c9d : XOR ESI,ESI
004c2c9f : MOV EDX,dword ptr [ESI + 0x10]
004c2ca2 : MOV ECX,dword ptr [EDX + ECX*0x4]
004c2ca5 : MOV EDX,dword ptr [EDI]
004c2ca7 : MOV dword ptr [ECX + EAX*0x4],EDX
004c2caa : LEA EAX,[EBX + -0x1]
004c2cad : CDQ
004c2cae : MOV ECX,EBX
004c2cb0 : SUB EAX,EDX
004c2cb2 : SAR EAX,0x1
004c2cb4 : CMP dword ptr [EBP + 0xc],ECX
004c2cb7 : MOV dword ptr [EBP + 0x8],ECX
004c2cba : MOV EBX,EAX
004c2cbc : JL 0x004c2bcf
004c2cc2 : MOV EAX,dword ptr [EBP + 0x1c]
004c2cc5 : MOV ECX,dword ptr [EBP + 0x8]
004c2cc8 : MOV EDX,dword ptr [EBP + 0x18]
004c2ccb : MOV dword ptr [EBP + -0x4],EAX
004c2cce : ADD EAX,ECX
004c2cd0 : MOV ECX,EAX
004c2cd2 : SHR ECX,0x2
004c2cd5 : AND EAX,0x3
004c2cd8 : TEST EDX,EDX
004c2cda : JZ 0x004c2ce0
004c2cdc : MOV ESI,dword ptr [EDX]
004c2cde : JMP 0x004c2ce2
004c2ce0 : XOR ESI,ESI
004c2ce2 : CMP dword ptr [ESI + 0x14],ECX
004c2ce5 : JA 0x004c2cf4
004c2ce7 : TEST EDX,EDX
004c2ce9 : JZ 0x004c2cef
004c2ceb : MOV ESI,dword ptr [EDX]
004c2ced : JMP 0x004c2cf1
004c2cef : XOR ESI,ESI
004c2cf1 : SUB ECX,dword ptr [ESI + 0x14]
004c2cf4 : TEST EDX,EDX
004c2cf6 : JZ 0x004c2d0d
004c2cf8 : MOV EDX,dword ptr [EDX]
004c2cfa : MOV EDX,dword ptr [EDX + 0x10]
004c2cfd : MOV ECX,dword ptr [EDX + ECX*0x4]
004c2d00 : MOV EDX,dword ptr [EBP + 0x10]
004c2d03 : MOV dword ptr [ECX + EAX*0x4],EDX
004c2d06 : POP EDI
004c2d07 : POP ESI
004c2d08 : POP EBX
004c2d09 : MOV ESP,EBP
004c2d0b : POP EBP
004c2d0c : RET
004c2d0d : XOR EDX,EDX
004c2d0f : MOV EDX,dword ptr [EDX + 0x10]
004c2d12 : MOV ECX,dword ptr [EDX + ECX*0x4]
004c2d15 : MOV EDX,dword ptr [EBP + 0x10]
004c2d18 : POP EDI
004c2d19 : POP ESI
004c2d1a : MOV dword ptr [ECX + EAX*0x4],EDX
004c2d1d : POP EBX
004c2d1e : MOV ESP,EBP
004c2d20 : POP EBP
004c2d21 : RET
