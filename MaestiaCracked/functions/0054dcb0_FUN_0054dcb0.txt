PROGRAM  : Maestia.exe
FUNCTION : FUN_0054dcb0
ENTRY    : 0054dcb0
BODY     : [[0054dcb0, 0054dd96]]

============================================================
DECOMPILED C CODE
============================================================

undefined1 FUN_0054dcb0(int param_1)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  byte bVar4;
  int in_ECX;
  ushort uVar5;
  uint uVar6;
  uint uVar7;
  uint local_c;
  uint local_8;
  ushort local_4;
  
  iVar3 = param_1;
  if (param_1 == 0) {
    return 0;
  }
  bVar4 = (byte)*(undefined2 *)(in_ECX + 0x68);
  if ((bVar4 >> 5 & 1) != 0) {
    return 0;
  }
  iVar1 = *(int *)(in_ECX + 8);
  uVar2 = *(uint *)(iVar1 + 0x20);
  uVar6 = *(uint *)(iVar1 + 0x24);
  uVar7 = *(uint *)(in_ECX + 0x18);
  param_1._0_1_ = 0;
  if ((*(byte *)(in_ECX + 0x68) & 1) != 0) {
    return 0;
  }
  uVar5 = (ushort)iVar3;
  if (uVar5 < 0x20) {
    return 0;
  }
  if (uVar2 == uVar6) {
    if ((char)bVar4 < '\0') {
      uVar6 = uVar6 + 1;
    }
    if (uVar2 == uVar6) {
      local_8 = CONCAT22(local_8._2_2_,uVar5);
      local_c = uVar7;
      iVar3 = FUN_00546e40(0,&local_c);
      uVar7 = uVar7 + iVar3;
      goto LAB_0054dd51;
    }
  }
  local_c = uVar2;
  local_8 = uVar6;
  local_4 = uVar5;
  iVar3 = FUN_00546e40(5,&local_c);
  uVar7 = uVar2;
  if (uVar6 <= uVar2) {
    uVar7 = uVar6;
  }
  uVar7 = uVar7 + iVar3;
LAB_0054dd51:
  if (((*(uint *)(in_ECX + 0x18) != uVar7) || (uVar2 != uVar7)) || (uVar6 != uVar7)) {
    FUN_0054d5a0(uVar7,0);
    param_1._0_1_ = 1;
  }
  if (*(int **)(iVar1 + 0x14) != (int *)0x0) {
    (**(code **)(**(int **)(iVar1 + 0x14) + 0x20))();
  }
  return (undefined1)param_1;
}



============================================================
DISASSEMBLY
============================================================
0054dcb0 : MOV EDX,dword ptr [ESP + 0x4]
0054dcb4 : SUB ESP,0x10
0054dcb7 : PUSH ESI
0054dcb8 : MOV ESI,ECX
0054dcba : TEST EDX,EDX
0054dcbc : JZ 0x0054dd8e
0054dcc2 : MOVZX ECX,word ptr [ESI + 0x68]
0054dcc6 : MOV AL,CL
0054dcc8 : SHR AL,0x5
0054dccb : TEST AL,0x1
0054dccd : JNZ 0x0054dd8e
0054dcd3 : TEST byte ptr [ESI + 0x68],0x1
0054dcd7 : MOV EAX,dword ptr [ESI + 0x8]
0054dcda : PUSH EBX
0054dcdb : MOV EBX,dword ptr [EAX + 0x20]
0054dcde : PUSH EBP
0054dcdf : MOV EBP,dword ptr [EAX + 0x24]
0054dce2 : PUSH EDI
0054dce3 : MOV EDI,dword ptr [ESI + 0x18]
0054dce6 : MOV dword ptr [ESP + 0x10],EAX
0054dcea : MOV byte ptr [ESP + 0x24],0x0
0054dcef : JNZ 0x0054dd80
0054dcf5 : CMP DX,0x20
0054dcf9 : JC 0x0054dd80
0054dcff : CMP EBX,EBP
0054dd01 : JNZ 0x0054dd2b
0054dd03 : SHR CL,0x7
0054dd06 : TEST CL,0x1
0054dd09 : JZ 0x0054dd0c
0054dd0b : INC EBP
0054dd0c : CMP EBX,EBP
0054dd0e : JNZ 0x0054dd2b
0054dd10 : MOV word ptr [ESP + 0x18],DX
0054dd15 : LEA EDX,[ESP + 0x14]
0054dd19 : PUSH EDX
0054dd1a : MOV ECX,EAX
0054dd1c : PUSH 0x0
0054dd1e : MOV dword ptr [ESP + 0x1c],EDI
0054dd22 : CALL 0x00546e40
0054dd27 : ADD EDI,EAX
0054dd29 : JMP 0x0054dd51
0054dd2b : MOV ECX,EAX
0054dd2d : LEA EAX,[ESP + 0x14]
0054dd31 : PUSH EAX
0054dd32 : PUSH 0x5
0054dd34 : MOV dword ptr [ESP + 0x1c],EBX
0054dd38 : MOV dword ptr [ESP + 0x20],EBP
0054dd3c : MOV word ptr [ESP + 0x24],DX
0054dd41 : CALL 0x00546e40
0054dd46 : MOV ECX,EBX
0054dd48 : CMP EBX,EBP
0054dd4a : JC 0x0054dd4e
0054dd4c : MOV ECX,EBP
0054dd4e : LEA EDI,[ECX + EAX*0x1]
0054dd51 : CMP dword ptr [ESI + 0x18],EDI
0054dd54 : JNZ 0x0054dd5e
0054dd56 : CMP EBX,EDI
0054dd58 : JNZ 0x0054dd5e
0054dd5a : CMP EBP,EDI
0054dd5c : JZ 0x0054dd6d
0054dd5e : PUSH 0x0
0054dd60 : PUSH EDI
0054dd61 : MOV ECX,ESI
0054dd63 : CALL 0x0054d5a0
0054dd68 : MOV byte ptr [ESP + 0x24],0x1
0054dd6d : MOV ECX,dword ptr [ESP + 0x10]
0054dd71 : MOV ECX,dword ptr [ECX + 0x14]
0054dd74 : TEST ECX,ECX
0054dd76 : JZ 0x0054dd80
0054dd78 : MOV EDX,dword ptr [ECX]
0054dd7a : MOV EAX,dword ptr [EDX + 0x20]
0054dd7d : PUSH ESI
0054dd7e : CALL EAX
0054dd80 : MOV AL,byte ptr [ESP + 0x24]
0054dd84 : POP EDI
0054dd85 : POP EBP
0054dd86 : POP EBX
0054dd87 : POP ESI
0054dd88 : ADD ESP,0x10
0054dd8b : RET 0x4
0054dd8e : XOR AL,AL
0054dd90 : POP ESI
0054dd91 : ADD ESP,0x10
0054dd94 : RET 0x4
