PROGRAM  : Maestia.exe
FUNCTION : FUN_00486480
ENTRY    : 00486480
BODY     : [[00486480, 00486524]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00486480(undefined4 param_1,undefined4 param_2)

{
  int unaff_ESI;
  LPCRITICAL_SECTION local_34;
  char *local_30;
  undefined4 local_2c;
  int local_28;
  undefined4 local_24;
  undefined1 local_20 [8];
  undefined4 local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7e838;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_34 = (LPCRITICAL_SECTION)(unaff_ESI + 0x2eef0);
  local_28 = 0;
  local_30 = 
  "d:\\maestiaproject\\maestiasrc\\client\\main\\client\\avalib\\terrain\\AvaPathFinder.inl";
  local_2c = 0x22;
  local_24 = 1;
  FUN_006ef1a0(&local_34);
  local_8 = 0;
  local_18 = param_1;
  local_14 = param_2;
  FUN_00451e00(local_20,&local_18);
  local_8 = 0xffffffff;
  if (local_28 != 0) {
    LeaveCriticalSection(local_34);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00486480 : PUSH EBP
00486481 : MOV EBP,ESP
00486483 : PUSH -0x1
00486485 : PUSH 0xb7e838
0048648a : MOV EAX,FS:[0x0]
00486490 : PUSH EAX
00486491 : SUB ESP,0x28
00486494 : MOV EAX,[0x00d66fa0]
00486499 : XOR EAX,EBP
0048649b : PUSH EAX
0048649c : LEA EAX,[EBP + -0xc]
0048649f : MOV FS:[0x0],EAX
004864a5 : LEA ECX,[EBP + -0x30]
004864a8 : LEA EAX,[ESI + 0x2eef0]
004864ae : PUSH ECX
004864af : MOV dword ptr [EBP + -0x24],0x0
004864b6 : MOV dword ptr [EBP + -0x30],EAX
004864b9 : MOV dword ptr [EBP + -0x2c],0xcd4908
004864c0 : MOV dword ptr [EBP + -0x28],0x22
004864c7 : MOV dword ptr [EBP + -0x20],0x1
004864ce : CALL 0x006ef1a0
004864d3 : MOV dword ptr [EBP + -0x4],0x0
004864da : MOV EDX,dword ptr [EBP + 0x8]
004864dd : MOV EAX,dword ptr [EBP + 0xc]
004864e0 : LEA ECX,[EBP + -0x14]
004864e3 : MOV dword ptr [EBP + -0x14],EDX
004864e6 : PUSH ECX
004864e7 : LEA EDX,[EBP + -0x1c]
004864ea : MOV dword ptr [EBP + -0x10],EAX
004864ed : PUSH EDX
004864ee : LEA EAX,[ESI + 0x4]
004864f1 : CALL 0x00451e00
004864f6 : MOV dword ptr [EBP + -0x4],0xffffffff
004864fd : CMP dword ptr [EBP + -0x24],0x0
00486501 : JZ 0x00486514
00486503 : MOV EAX,dword ptr [EBP + -0x30]
00486506 : PUSH EAX
00486507 : CALL dword ptr [0x00b8511c]
0048650d : MOV dword ptr [EBP + -0x24],0x0
00486514 : MOV ECX,dword ptr [EBP + -0xc]
00486517 : MOV dword ptr FS:[0x0],ECX
0048651e : POP ECX
0048651f : MOV ESP,EBP
00486521 : POP EBP
00486522 : RET 0x8
