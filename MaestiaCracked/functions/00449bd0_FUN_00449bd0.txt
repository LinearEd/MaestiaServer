PROGRAM  : Maestia.exe
FUNCTION : FUN_00449bd0
ENTRY    : 00449bd0
BODY     : [[00449bd0, 00449da3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00449bd0(undefined4 *param_1,undefined4 *param_2,undefined4 *param_3,code *param_4)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  undefined4 *local_c;
  undefined4 *local_8;
  
  puVar8 = param_2 + (((int)param_3 - (int)param_2 >> 2) - ((int)param_3 - (int)param_2 >> 0x1f) >>
                     1);
  FUN_00449db0(param_2,puVar8,param_3 + -1);
  puVar7 = puVar8;
  while (puVar4 = puVar7, param_2 < puVar4) {
    puVar7 = puVar4 + -1;
    iVar3 = (*param_4)(puVar7,puVar4);
    if ((iVar3 != 0) || (iVar3 = (*param_4)(puVar4,puVar7), iVar3 != 0)) break;
  }
  do {
    puVar8 = puVar8 + 1;
    puVar7 = puVar8;
    local_c = puVar8;
    local_8 = puVar4;
    puVar6 = puVar4;
    if (param_3 <= puVar8) break;
    iVar3 = (*param_4)(puVar8,puVar4);
    if ((iVar3 != 0) || (iVar3 = (*param_4)(puVar4,puVar8), iVar3 != 0)) break;
  } while( true );
joined_r0x00449c6b:
  puVar5 = puVar6;
  puVar2 = puVar7;
  puVar7 = puVar4;
  if (param_3 <= puVar2) {
joined_r0x00449caa:
    while (param_2 < puVar4) {
      puVar7 = puVar7 + -1;
      iVar3 = (*param_4)(puVar7,puVar5);
      puVar8 = local_c;
      if (iVar3 == 0) {
        iVar3 = (*param_4)(puVar5,puVar7);
        puVar4 = local_8;
        if (iVar3 != 0) break;
        puVar5 = puVar5 + -1;
        if (puVar5 != puVar7) {
          uVar1 = *puVar5;
          *puVar5 = *puVar7;
          *puVar7 = uVar1;
        }
      }
      local_8 = local_8 + -1;
      puVar4 = local_8;
    }
    if (puVar4 == param_2) {
      if (puVar2 == param_3) {
        param_1[1] = puVar8;
        *param_1 = puVar5;
        return;
      }
      if ((puVar8 != puVar2) && (puVar5 != puVar8)) {
        uVar1 = *puVar5;
        *puVar5 = *puVar8;
        *puVar8 = uVar1;
      }
      puVar8 = puVar8 + 1;
      puVar7 = puVar2 + 1;
      local_c = puVar8;
      puVar6 = puVar5 + 1;
      if (puVar5 != puVar2) {
        uVar1 = *puVar5;
        *puVar5 = *puVar2;
        *puVar2 = uVar1;
      }
    }
    else {
      puVar4 = puVar4 + -1;
      local_8 = puVar4;
      if (puVar2 == param_3) {
        puVar6 = puVar5 + -1;
        if (puVar4 != puVar6) {
          uVar1 = *puVar4;
          *puVar4 = *puVar6;
          *puVar6 = uVar1;
        }
        puVar8 = puVar8 + -1;
        puVar7 = puVar2;
        local_c = puVar8;
        if (puVar6 != puVar8) {
          uVar1 = *puVar6;
          *puVar6 = *puVar8;
          *puVar8 = uVar1;
        }
      }
      else {
        puVar7 = puVar2 + 1;
        puVar6 = puVar5;
        if (puVar2 != puVar4) {
          uVar1 = *puVar2;
          *puVar2 = *puVar4;
          *puVar4 = uVar1;
        }
      }
    }
    goto joined_r0x00449c6b;
  }
  iVar3 = (*param_4)(puVar5,puVar2);
  puVar6 = puVar8;
  puVar4 = local_8;
  if (iVar3 == 0) {
    iVar3 = (*param_4)(puVar2,puVar5);
    puVar7 = local_8;
    if (iVar3 != 0) goto joined_r0x00449caa;
    puVar6 = puVar8 + 1;
    local_c = puVar6;
    if (puVar8 != puVar2) {
      uVar1 = *puVar8;
      *puVar8 = *puVar2;
      *puVar2 = uVar1;
    }
  }
  puVar7 = puVar2 + 1;
  puVar8 = puVar6;
  puVar6 = puVar5;
  goto joined_r0x00449c6b;
}



============================================================
DISASSEMBLY
============================================================
00449bd0 : PUSH EBP
00449bd1 : MOV EBP,ESP
00449bd3 : SUB ESP,0x10
00449bd6 : MOV ECX,dword ptr [EBP + 0xc]
00449bd9 : PUSH EBX
00449bda : MOV EBX,dword ptr [EBP + 0x14]
00449bdd : PUSH ESI
00449bde : PUSH EDI
00449bdf : MOV EDI,dword ptr [EBP + 0x10]
00449be2 : MOV EAX,EDI
00449be4 : SUB EAX,ECX
00449be6 : SAR EAX,0x2
00449be9 : CDQ
00449bea : SUB EAX,EDX
00449bec : SAR EAX,0x1
00449bee : LEA ESI,[ECX + EAX*0x4]
00449bf1 : LEA EAX,[EDI + -0x4]
00449bf4 : PUSH EAX
00449bf5 : PUSH ESI
00449bf6 : PUSH ECX
00449bf7 : MOV EDI,EBX
00449bf9 : CALL 0x00449db0
00449bfe : ADD ESP,0xc
00449c01 : LEA EDI,[ESI + 0x4]
00449c04 : MOV dword ptr [EBP + -0x8],EDI
00449c07 : CMP dword ptr [EBP + 0xc],ESI
00449c0a : JNC 0x00449c37
00449c0c : LEA ESP,[ESP]
00449c10 : LEA EAX,[ESI + -0x4]
00449c13 : PUSH ESI
00449c14 : PUSH EAX
00449c15 : MOV dword ptr [EBP + -0x4],EAX
00449c18 : CALL EBX
00449c1a : ADD ESP,0x8
00449c1d : TEST EAX,EAX
00449c1f : JNZ 0x00449c37
00449c21 : MOV EAX,dword ptr [EBP + -0x4]
00449c24 : PUSH EAX
00449c25 : PUSH ESI
00449c26 : CALL EBX
00449c28 : ADD ESP,0x8
00449c2b : TEST EAX,EAX
00449c2d : JNZ 0x00449c37
00449c2f : MOV ESI,dword ptr [EBP + -0x4]
00449c32 : CMP dword ptr [EBP + 0xc],ESI
00449c35 : JC 0x00449c10
00449c37 : CMP EDI,dword ptr [EBP + 0x10]
00449c3a : JNC 0x00449c61
00449c3c : LEA ESP,[ESP]
00449c40 : PUSH ESI
00449c41 : PUSH EDI
00449c42 : CALL EBX
00449c44 : ADD ESP,0x8
00449c47 : TEST EAX,EAX
00449c49 : JNZ 0x00449c61
00449c4b : PUSH EDI
00449c4c : PUSH ESI
00449c4d : CALL EBX
00449c4f : ADD ESP,0x8
00449c52 : TEST EAX,EAX
00449c54 : JNZ 0x00449c61
00449c56 : ADD EDI,0x4
00449c59 : MOV dword ptr [EBP + -0x8],EDI
00449c5c : CMP EDI,dword ptr [EBP + 0x10]
00449c5f : JC 0x00449c40
00449c61 : MOV EAX,ESI
00449c63 : MOV EBX,EDI
00449c65 : MOV dword ptr [EBP + -0x4],EAX
00449c68 : CMP EBX,dword ptr [EBP + 0x10]
00449c6b : JNC 0x00449ca7
00449c6d : LEA ECX,[ECX]
00449c70 : PUSH EBX
00449c71 : PUSH ESI
00449c72 : CALL dword ptr [EBP + 0x14]
00449c75 : ADD ESP,0x8
00449c78 : TEST EAX,EAX
00449c7a : JNZ 0x00449c9c
00449c7c : PUSH ESI
00449c7d : PUSH EBX
00449c7e : CALL dword ptr [EBP + 0x14]
00449c81 : ADD ESP,0x8
00449c84 : TEST EAX,EAX
00449c86 : JNZ 0x00449ca4
00449c88 : MOV EAX,EDI
00449c8a : ADD EDI,0x4
00449c8d : MOV dword ptr [EBP + -0x8],EDI
00449c90 : CMP EAX,EBX
00449c92 : JZ 0x00449c9c
00449c94 : MOV EDX,dword ptr [EBX]
00449c96 : MOV ECX,dword ptr [EAX]
00449c98 : MOV dword ptr [EAX],EDX
00449c9a : MOV dword ptr [EBX],ECX
00449c9c : ADD EBX,0x4
00449c9f : CMP EBX,dword ptr [EBP + 0x10]
00449ca2 : JC 0x00449c70
00449ca4 : MOV EAX,dword ptr [EBP + -0x4]
00449ca7 : CMP EAX,dword ptr [EBP + 0xc]
00449caa : JBE 0x00449cf1
00449cac : LEA EDI,[EAX + -0x4]
00449caf : NOP
00449cb0 : PUSH ESI
00449cb1 : PUSH EDI
00449cb2 : CALL dword ptr [EBP + 0x14]
00449cb5 : ADD ESP,0x8
00449cb8 : TEST EAX,EAX
00449cba : JNZ 0x00449cd7
00449cbc : PUSH EDI
00449cbd : PUSH ESI
00449cbe : CALL dword ptr [EBP + 0x14]
00449cc1 : ADD ESP,0x8
00449cc4 : TEST EAX,EAX
00449cc6 : JNZ 0x00449ce8
00449cc8 : SUB ESI,0x4
00449ccb : CMP ESI,EDI
00449ccd : JZ 0x00449cd7
00449ccf : MOV ECX,dword ptr [EDI]
00449cd1 : MOV EAX,dword ptr [ESI]
00449cd3 : MOV dword ptr [ESI],ECX
00449cd5 : MOV dword ptr [EDI],EAX
00449cd7 : MOV EAX,dword ptr [EBP + -0x4]
00449cda : SUB EAX,0x4
00449cdd : SUB EDI,0x4
00449ce0 : MOV dword ptr [EBP + -0x4],EAX
00449ce3 : CMP dword ptr [EBP + 0xc],EAX
00449ce6 : JC 0x00449cb0
00449ce8 : MOV EAX,dword ptr [EBP + -0x4]
00449ceb : MOV EDI,dword ptr [EBP + -0x8]
00449cee : CMP EAX,dword ptr [EBP + 0xc]
00449cf1 : JNZ 0x00449d40
00449cf3 : CMP EBX,dword ptr [EBP + 0x10]
00449cf6 : JZ 0x00449d95
00449cfc : CMP EDI,EBX
00449cfe : JZ 0x00449d0c
00449d00 : CMP ESI,EDI
00449d02 : JZ 0x00449d0c
00449d04 : MOV EDX,dword ptr [EDI]
00449d06 : MOV ECX,dword ptr [ESI]
00449d08 : MOV dword ptr [ESI],EDX
00449d0a : MOV dword ptr [EDI],ECX
00449d0c : MOV EDX,EBX
00449d0e : MOV ECX,ESI
00449d10 : ADD EDI,0x4
00449d13 : ADD EBX,0x4
00449d16 : ADD ESI,0x4
00449d19 : MOV dword ptr [EBP + -0x8],EDI
00449d1c : MOV dword ptr [EBP + -0xc],EDX
00449d1f : CMP ECX,EDX
00449d21 : JZ 0x00449c68
00449d27 : MOV EDX,dword ptr [ECX]
00449d29 : MOV dword ptr [EBP + -0x10],EDX
00449d2c : MOV EDX,dword ptr [EBP + -0xc]
00449d2f : MOV EDX,dword ptr [EDX]
00449d31 : MOV dword ptr [ECX],EDX
00449d33 : MOV ECX,dword ptr [EBP + -0x10]
00449d36 : MOV EDX,dword ptr [EBP + -0xc]
00449d39 : MOV dword ptr [EDX],ECX
00449d3b : JMP 0x00449c68
00449d40 : SUB EAX,0x4
00449d43 : MOV dword ptr [EBP + -0x4],EAX
00449d46 : CMP EBX,dword ptr [EBP + 0x10]
00449d49 : JNZ 0x00449d75
00449d4b : SUB ESI,0x4
00449d4e : CMP EAX,ESI
00449d50 : JZ 0x00449d5a
00449d52 : MOV EDX,dword ptr [ESI]
00449d54 : MOV ECX,dword ptr [EAX]
00449d56 : MOV dword ptr [EAX],EDX
00449d58 : MOV dword ptr [ESI],ECX
00449d5a : SUB EDI,0x4
00449d5d : MOV dword ptr [EBP + -0x8],EDI
00449d60 : CMP ESI,EDI
00449d62 : JZ 0x00449c68
00449d68 : MOV EDX,dword ptr [EDI]
00449d6a : MOV ECX,dword ptr [ESI]
00449d6c : MOV dword ptr [ESI],EDX
00449d6e : MOV dword ptr [EDI],ECX
00449d70 : JMP 0x00449c68
00449d75 : MOV ECX,EBX
00449d77 : ADD EBX,0x4
00449d7a : CMP ECX,EAX
00449d7c : JZ 0x00449c68
00449d82 : MOV EDX,dword ptr [ECX]
00449d84 : MOV dword ptr [EBP + -0x10],EDX
00449d87 : MOV EDX,dword ptr [EAX]
00449d89 : MOV dword ptr [ECX],EDX
00449d8b : MOV ECX,dword ptr [EBP + -0x10]
00449d8e : MOV dword ptr [EAX],ECX
00449d90 : JMP 0x00449c68
00449d95 : MOV EAX,dword ptr [EBP + 0x8]
00449d98 : MOV dword ptr [EAX + 0x4],EDI
00449d9b : POP EDI
00449d9c : MOV dword ptr [EAX],ESI
00449d9e : POP ESI
00449d9f : POP EBX
00449da0 : MOV ESP,EBP
00449da2 : POP EBP
00449da3 : RET
