PROGRAM  : Maestia.exe
FUNCTION : FUN_00551600
ENTRY    : 00551600
BODY     : [[00551600, 00551677]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00551600(undefined4 *param_1,int *param_2,char param_3)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  int *in_ECX;
  undefined4 local_8;
  int local_4;
  
  if (param_3 == '\0') {
    puVar2 = (undefined4 *)FUN_00550ef0(&local_8,param_2);
  }
  else {
    if (*in_ECX != 0) {
      local_4 = FUN_0054f420(param_2,*(uint *)(*param_2 + 0xc) & *(uint *)(*in_ECX + 4));
      if (-1 < local_4) {
        puVar2 = &local_8;
        goto LAB_00551661;
      }
    }
    local_8 = 0;
    local_4 = 0;
    puVar2 = &local_8;
  }
LAB_00551661:
  uVar1 = *puVar2;
  param_1[1] = puVar2[1];
  *param_1 = uVar1;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00551600 : SUB ESP,0x8
00551603 : CMP byte ptr [ESP + 0x14],0x0
00551608 : PUSH ESI
00551609 : MOV ESI,ECX
0055160b : JZ 0x00551650
0055160d : MOV EAX,dword ptr [ESI]
0055160f : TEST EAX,EAX
00551611 : JZ 0x0055163a
00551613 : MOV ECX,dword ptr [ESP + 0x14]
00551617 : MOV EDX,dword ptr [ECX]
00551619 : MOV EDX,dword ptr [EDX + 0xc]
0055161c : AND EDX,dword ptr [EAX + 0x4]
0055161f : PUSH EDX
00551620 : PUSH ECX
00551621 : MOV ECX,ESI
00551623 : CALL 0x0054f420
00551628 : TEST EAX,EAX
0055162a : JL 0x0055163a
0055162c : MOV dword ptr [ESP + 0x8],EAX
00551630 : MOV dword ptr [ESP + 0x4],ESI
00551634 : LEA EAX,[ESP + 0x4]
00551638 : JMP 0x00551661
0055163a : MOV dword ptr [ESP + 0x4],0x0
00551642 : MOV dword ptr [ESP + 0x8],0x0
0055164a : LEA EAX,[ESP + 0x4]
0055164e : JMP 0x00551661
00551650 : MOV EAX,dword ptr [ESP + 0x14]
00551654 : PUSH EAX
00551655 : LEA ECX,[ESP + 0x8]
00551659 : PUSH ECX
0055165a : MOV ECX,ESI
0055165c : CALL 0x00550ef0
00551661 : MOV EDX,dword ptr [EAX]
00551663 : MOV ECX,dword ptr [ESP + 0x10]
00551667 : MOV EAX,dword ptr [EAX + 0x4]
0055166a : MOV dword ptr [ECX + 0x4],EAX
0055166d : MOV dword ptr [ECX],EDX
0055166f : MOV EAX,ECX
00551671 : POP ESI
00551672 : ADD ESP,0x8
00551675 : RET 0xc
