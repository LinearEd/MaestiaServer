PROGRAM  : Maestia.exe
FUNCTION : FUN_0055c080
ENTRY    : 0055c080
BODY     : [[0055c080, 0055c237]]

============================================================
DECOMPILED C CODE
============================================================

byte FUN_0055c080(float *param_1,char param_2,int param_3)

{
  char cVar1;
  byte bVar2;
  float *pfVar3;
  int *in_ECX;
  GRefCountNTSImpl *this;
  float local_44;
  float local_40;
  float local_3c;
  float local_38;
  undefined1 local_34 [16];
  undefined1 auStack_24 [36];
  
  this = (GRefCountNTSImpl *)0x0;
  if ((param_3 != 0) && ((*(byte *)(param_3 + 0x66) & 1) != 0)) {
    this = (GRefCountNTSImpl *)FUN_0051d4a0(0x3f800000);
    if (this != (GRefCountNTSImpl *)0x0) {
      FUN_005ac2c0();
    }
  }
  local_44 = (float)in_ECX[1];
  local_40 = (float)in_ECX[2];
  local_3c = (float)in_ECX[3];
  local_38 = (float)in_ECX[4];
  if ((*(byte *)(in_ECX + 9) & 0x10) == 0) {
    (**(code **)(*in_ECX + 0x14))(&local_44);
  }
  if (this != (GRefCountNTSImpl *)0x0) {
    pfVar3 = (float *)FUN_005acfa0(local_34,&local_44);
    local_40 = pfVar3[1];
    local_3c = pfVar3[2];
    local_38 = pfVar3[3];
    local_44 = *pfVar3;
  }
  if (*param_1 <= local_3c) {
    if (local_44 < *param_1 != (local_44 == *param_1)) {
      if (param_1[1] <= local_38) {
        if (local_40 < param_1[1] != (local_40 == param_1[1])) {
          if (param_2 == '\0') {
            if (this != (GRefCountNTSImpl *)0x0) {
              GRefCountNTSImpl::Release(this);
            }
            return 1;
          }
          if ((param_3 != 0) && (this == (GRefCountNTSImpl *)0x0)) {
            cVar1 = FUN_0051cff0(*param_1,param_1[1]);
            if (cVar1 != '\0') {
              return *(byte *)(param_3 + 0x66) >> 3 & 1;
            }
          }
          FUN_005548f0(in_ECX);
          bVar2 = FUN_0055a780(auStack_24,this,*param_1,param_1[1]);
          if (param_3 != 0) {
            FUN_0051d030(*param_1,param_1[1],bVar2);
          }
          if (this != (GRefCountNTSImpl *)0x0) {
            GRefCountNTSImpl::Release(this);
          }
          return bVar2;
        }
      }
    }
  }
  if (this != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(this);
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0055c080 : SUB ESP,0x4c
0055c083 : PUSH EBX
0055c084 : PUSH EBP
0055c085 : MOV EBP,dword ptr [ESP + 0x60]
0055c089 : PUSH ESI
0055c08a : XOR ESI,ESI
0055c08c : PUSH EDI
0055c08d : MOV EBX,ECX
0055c08f : TEST EBP,EBP
0055c091 : JZ 0x0055c0b3
0055c093 : TEST byte ptr [EBP + 0x66],0x1
0055c097 : JZ 0x0055c0b3
0055c099 : FLD1
0055c09b : PUSH ECX
0055c09c : MOV ECX,EBP
0055c09e : FSTP float ptr [ESP]
0055c0a1 : CALL 0x0051d4a0
0055c0a6 : MOV ESI,EAX
0055c0a8 : TEST ESI,ESI
0055c0aa : JZ 0x0055c0b3
0055c0ac : MOV ECX,ESI
0055c0ae : CALL 0x005ac2c0
0055c0b3 : TEST byte ptr [EBX + 0x24],0x10
0055c0b7 : FLD float ptr [EBX + 0x4]
0055c0ba : FSTP float ptr [ESP + 0x18]
0055c0be : FLD float ptr [EBX + 0x8]
0055c0c1 : FSTP float ptr [ESP + 0x1c]
0055c0c5 : FLD float ptr [EBX + 0xc]
0055c0c8 : FSTP float ptr [ESP + 0x20]
0055c0cc : FLD float ptr [EBX + 0x10]
0055c0cf : FSTP float ptr [ESP + 0x24]
0055c0d3 : JNZ 0x0055c0e3
0055c0d5 : MOV EAX,dword ptr [EBX]
0055c0d7 : MOV EDX,dword ptr [EAX + 0x14]
0055c0da : LEA ECX,[ESP + 0x18]
0055c0de : PUSH ECX
0055c0df : MOV ECX,EBX
0055c0e1 : CALL EDX
0055c0e3 : TEST ESI,ESI
0055c0e5 : JZ 0x0055c12b
0055c0e7 : LEA EAX,[ESP + 0x18]
0055c0eb : PUSH EAX
0055c0ec : LEA ECX,[ESP + 0x2c]
0055c0f0 : PUSH ECX
0055c0f1 : MOV ECX,ESI
0055c0f3 : CALL 0x005acfa0
0055c0f8 : FLD float ptr [EAX + 0x4]
0055c0fb : FSTP float ptr [ESP + 0x68]
0055c0ff : FLD float ptr [EAX + 0x8]
0055c102 : FSTP float ptr [ESP + 0x10]
0055c106 : FLD float ptr [EAX + 0xc]
0055c109 : FSTP float ptr [ESP + 0x14]
0055c10d : FLD float ptr [EAX]
0055c10f : FSTP float ptr [ESP + 0x18]
0055c113 : FLD float ptr [ESP + 0x68]
0055c117 : FSTP float ptr [ESP + 0x1c]
0055c11b : FLD float ptr [ESP + 0x10]
0055c11f : FSTP float ptr [ESP + 0x20]
0055c123 : FLD float ptr [ESP + 0x14]
0055c127 : FSTP float ptr [ESP + 0x24]
0055c12b : MOV EDI,dword ptr [ESP + 0x60]
0055c12f : FLD float ptr [EDI]
0055c131 : FLD float ptr [ESP + 0x20]
0055c135 : FCOMPP
0055c137 : FNSTSW AX
0055c139 : TEST AH,0x1
0055c13c : JNZ 0x0055c16d
0055c13e : FLD float ptr [EDI]
0055c140 : FLD float ptr [ESP + 0x18]
0055c144 : FCOMPP
0055c146 : FNSTSW AX
0055c148 : TEST AH,0x41
0055c14b : JP 0x0055c16d
0055c14d : FLD float ptr [EDI + 0x4]
0055c150 : FLD float ptr [ESP + 0x24]
0055c154 : FCOMPP
0055c156 : FNSTSW AX
0055c158 : TEST AH,0x1
0055c15b : JNZ 0x0055c16d
0055c15d : FLD float ptr [EDI + 0x4]
0055c160 : FLD float ptr [ESP + 0x1c]
0055c164 : FCOMPP
0055c166 : FNSTSW AX
0055c168 : TEST AH,0x41
0055c16b : JNP 0x0055c184
0055c16d : TEST ESI,ESI
0055c16f : JZ 0x0055c178
0055c171 : MOV ECX,ESI
0055c173 : CALL 0x004ff7c0
0055c178 : POP EDI
0055c179 : POP ESI
0055c17a : POP EBP
0055c17b : XOR AL,AL
0055c17d : POP EBX
0055c17e : ADD ESP,0x4c
0055c181 : RET 0xc
0055c184 : CMP byte ptr [ESP + 0x64],0x0
0055c189 : JNZ 0x0055c1a2
0055c18b : TEST ESI,ESI
0055c18d : JZ 0x0055c196
0055c18f : MOV ECX,ESI
0055c191 : CALL 0x004ff7c0
0055c196 : POP EDI
0055c197 : POP ESI
0055c198 : POP EBP
0055c199 : MOV AL,0x1
0055c19b : POP EBX
0055c19c : ADD ESP,0x4c
0055c19f : RET 0xc
0055c1a2 : TEST EBP,EBP
0055c1a4 : JZ 0x0055c1d6
0055c1a6 : TEST ESI,ESI
0055c1a8 : JNZ 0x0055c1d6
0055c1aa : FLD float ptr [EDI + 0x4]
0055c1ad : SUB ESP,0x8
0055c1b0 : FSTP float ptr [ESP + 0x4]
0055c1b4 : MOV ECX,EBP
0055c1b6 : FLD float ptr [EDI]
0055c1b8 : FSTP float ptr [ESP]
0055c1bb : CALL 0x0051cff0
0055c1c0 : TEST AL,AL
0055c1c2 : JZ 0x0055c1d6
0055c1c4 : MOV AL,byte ptr [EBP + 0x66]
0055c1c7 : POP EDI
0055c1c8 : POP ESI
0055c1c9 : SHR AL,0x3
0055c1cc : POP EBP
0055c1cd : AND AL,0x1
0055c1cf : POP EBX
0055c1d0 : ADD ESP,0x4c
0055c1d3 : RET 0xc
0055c1d6 : PUSH EBX
0055c1d7 : LEA ECX,[ESP + 0x3c]
0055c1db : CALL 0x005548f0
0055c1e0 : FLD float ptr [EDI + 0x4]
0055c1e3 : SUB ESP,0x8
0055c1e6 : FSTP float ptr [ESP + 0x4]
0055c1ea : LEA EDX,[ESP + 0x40]
0055c1ee : FLD float ptr [EDI]
0055c1f0 : MOV ECX,EBX
0055c1f2 : FSTP float ptr [ESP]
0055c1f5 : PUSH ESI
0055c1f6 : PUSH EDX
0055c1f7 : CALL 0x0055a780
0055c1fc : MOV BL,AL
0055c1fe : MOV byte ptr [ESP + 0x64],BL
0055c202 : TEST EBP,EBP
0055c204 : JZ 0x0055c221
0055c206 : MOV EAX,dword ptr [ESP + 0x64]
0055c20a : FLD float ptr [EDI + 0x4]
0055c20d : PUSH EAX
0055c20e : SUB ESP,0x8
0055c211 : FSTP float ptr [ESP + 0x4]
0055c215 : MOV ECX,EBP
0055c217 : FLD float ptr [EDI]
0055c219 : FSTP float ptr [ESP]
0055c21c : CALL 0x0051d030
0055c221 : TEST ESI,ESI
0055c223 : JZ 0x0055c22c
0055c225 : MOV ECX,ESI
0055c227 : CALL 0x004ff7c0
0055c22c : POP EDI
0055c22d : POP ESI
0055c22e : POP EBP
0055c22f : MOV AL,BL
0055c231 : POP EBX
0055c232 : ADD ESP,0x4c
0055c235 : RET 0xc
