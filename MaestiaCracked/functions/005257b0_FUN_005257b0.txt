PROGRAM  : Maestia.exe
FUNCTION : FUN_005257b0
ENTRY    : 005257b0
BODY     : [[005257b0, 00525849]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_005257b0(int *param_1,int param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  uint *in_ECX;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint local_4;
  
  if (param_2 == param_3) {
    iVar4 = *(int *)(*(int *)(*in_ECX & 0xfffffc00) + 0x18);
    piVar1 = (int *)(iVar4 + 8);
    *piVar1 = *piVar1 + 1;
    *param_1 = iVar4;
    return param_1;
  }
  uVar5 = *(uint *)*in_ECX;
  iVar4 = 0;
  uVar3 = uVar5;
  local_4 = uVar5;
  do {
    if (iVar4 == param_2) {
      uVar3 = local_4;
    }
    iVar2 = FUN_0051aa70(&local_4);
    iVar4 = iVar4 + 1;
    if (iVar4 == param_3) goto LAB_00525819;
  } while (iVar2 != 0);
  if (iVar4 < param_3) {
LAB_00525819:
    uVar5 = local_4;
  }
  if (uVar5 < uVar3) {
    uVar5 = uVar3;
  }
  iVar4 = FUN_00525450(uVar3,uVar5 - uVar3);
  *(int *)(iVar4 + 8) = *(int *)(iVar4 + 8) + 1;
  *param_1 = iVar4;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
005257b0 : PUSH ECX
005257b1 : MOV EAX,dword ptr [ESP + 0xc]
005257b5 : PUSH EBP
005257b6 : MOV EBP,ECX
005257b8 : CMP EAX,dword ptr [ESP + 0x14]
005257bc : JNZ 0x005257da
005257be : MOV ECX,dword ptr [EBP]
005257c1 : MOV EAX,dword ptr [ESP + 0xc]
005257c5 : AND ECX,0xfffffc00
005257cb : MOV EDX,dword ptr [ECX]
005257cd : MOV ECX,dword ptr [EDX + 0x18]
005257d0 : INC dword ptr [ECX + 0x8]
005257d3 : MOV dword ptr [EAX],ECX
005257d5 : POP EBP
005257d6 : POP ECX
005257d7 : RET 0xc
005257da : MOV EAX,dword ptr [EBP]
005257dd : MOV EAX,dword ptr [EAX]
005257df : PUSH EBX
005257e0 : PUSH ESI
005257e1 : PUSH EDI
005257e2 : XOR ESI,ESI
005257e4 : MOV dword ptr [ESP + 0x10],EAX
005257e8 : MOV EBX,EAX
005257ea : MOV EDI,EAX
005257ec : LEA ESP,[ESP]
005257f0 : CMP ESI,dword ptr [ESP + 0x1c]
005257f4 : JNZ 0x005257f8
005257f6 : MOV EBX,EAX
005257f8 : LEA ECX,[ESP + 0x10]
005257fc : PUSH ECX
005257fd : CALL 0x0051aa70
00525802 : MOV ECX,dword ptr [ESP + 0x20]
00525806 : INC ESI
00525807 : CMP ESI,ECX
00525809 : JZ 0x00525819
0052580b : TEST EAX,EAX
0052580d : JZ 0x00525815
0052580f : MOV EAX,dword ptr [ESP + 0x10]
00525813 : JMP 0x005257f0
00525815 : CMP ESI,ECX
00525817 : JGE 0x0052581d
00525819 : MOV EDI,dword ptr [ESP + 0x10]
0052581d : CMP EDI,EBX
0052581f : JNC 0x00525823
00525821 : MOV EDI,EBX
00525823 : MOV EDX,dword ptr [EBP]
00525826 : SUB EDI,EBX
00525828 : AND EDX,0xfffffc00
0052582e : MOV ECX,dword ptr [EDX]
00525830 : PUSH EDI
00525831 : PUSH EBX
00525832 : CALL 0x00525450
00525837 : MOV ECX,dword ptr [ESP + 0x18]
0052583b : INC dword ptr [EAX + 0x8]
0052583e : POP EDI
0052583f : POP ESI
00525840 : POP EBX
00525841 : MOV dword ptr [ECX],EAX
00525843 : MOV EAX,ECX
00525845 : POP EBP
00525846 : POP ECX
00525847 : RET 0xc
