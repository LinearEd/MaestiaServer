PROGRAM  : Maestia.exe
FUNCTION : FUN_0086ea90
ENTRY    : 0086ea90
BODY     : [[0086ea90, 0086ec0c]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_0086ea90(int *param_1)

{
  int *piVar1;
  code *pcVar2;
  bool bVar3;
  uint uVar4;
  DWORD DVar5;
  uint uVar6;
  int iVar7;
  undefined1 local_2c [28];
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1be8f;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  DVar5 = timeGetTime();
  iVar7 = DAT_0172491c;
  uVar6 = DVar5 - _DAT_00d7c564;
  bVar3 = DAT_01724530 < uVar6;
  *(bool *)((int)param_1 + 0x1fe2) = bVar3;
  if ((iVar7 != 0) && (*(char *)(iVar7 + 0x4e4) != '\0')) {
    ExceptionList = local_10;
    return CONCAT31((int3)(uVar6 >> 8),1);
  }
  if ((bVar3) && (*(char *)((int)param_1 + 0x1fe3) == '\0')) {
    if (*(int *)(*DAT_00da9894 + 0x118) != 0) {
      FUN_00406460(L"IDS_PACKET_RECV_TIME_OVER");
      local_8 = 0;
      piVar1 = *(int **)(*DAT_00da9894 + 0x118);
      iVar7 = FUN_0081d120(local_2c);
      local_8._0_1_ = 1;
      if (*(uint *)(iVar7 + 0x18) < 8) {
        iVar7 = iVar7 + 4;
      }
      else {
        iVar7 = *(int *)(iVar7 + 4);
      }
      (**(code **)(*piVar1 + 4))(piVar1,"SetNoticeText",&DAT_00c42eac,iVar7,uVar4);
      local_8 = (uint)local_8._1_3_ << 8;
      FUN_00406560();
      local_8 = 0xffffffff;
      FUN_00406560();
      (**(code **)**(undefined4 **)(*DAT_00da9894 + 0x118))("NoticeDlgOpen");
    }
    pcVar2 = *(code **)(*param_1 + 0x338);
    *(undefined1 *)((int)param_1 + 0x1fe3) = 1;
    (*pcVar2)(1);
  }
  if (((char)param_1[0x7f0] == '\0') && (*(char *)((int)param_1 + 0x1fe2) == '\0')) {
    ExceptionList = local_10;
    return 0;
  }
  ExceptionList = local_10;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
0086ea90 : PUSH EBP
0086ea91 : MOV EBP,ESP
0086ea93 : PUSH -0x1
0086ea95 : PUSH 0xb1be8f
0086ea9a : MOV EAX,FS:[0x0]
0086eaa0 : PUSH EAX
0086eaa1 : SUB ESP,0x38
0086eaa4 : PUSH EBX
0086eaa5 : PUSH ESI
0086eaa6 : PUSH EDI
0086eaa7 : MOV EAX,[0x00d66fa0]
0086eaac : XOR EAX,EBP
0086eaae : PUSH EAX
0086eaaf : LEA EAX,[EBP + -0xc]
0086eab2 : MOV FS:[0x0],EAX
0086eab8 : MOV EBX,dword ptr [EBP + 0x8]
0086eabb : CALL dword ptr [0x00b85598]
0086eac1 : SUB EAX,dword ptr [0x00d7c564]
0086eac7 : MOV ECX,dword ptr [0x0172491c]
0086eacd : CMP EAX,dword ptr [0x01724530]
0086ead3 : SETA AL
0086ead6 : MOV byte ptr [EBX + 0x1fe2],AL
0086eadc : TEST ECX,ECX
0086eade : JZ 0x0086eaff
0086eae0 : CMP byte ptr [ECX + 0x4e4],0x0
0086eae7 : JZ 0x0086eaff
0086eae9 : MOV AL,0x1
0086eaeb : MOV ECX,dword ptr [EBP + -0xc]
0086eaee : MOV dword ptr FS:[0x0],ECX
0086eaf5 : POP ECX
0086eaf6 : POP EDI
0086eaf7 : POP ESI
0086eaf8 : POP EBX
0086eaf9 : MOV ESP,EBP
0086eafb : POP EBP
0086eafc : RET 0x4
0086eaff : TEST AL,AL
0086eb01 : JZ 0x0086ebcc
0086eb07 : CMP byte ptr [EBX + 0x1fe3],0x0
0086eb0e : JNZ 0x0086ebcc
0086eb14 : MOV EAX,[0x00da9894]
0086eb19 : MOV EAX,dword ptr [EAX]
0086eb1b : CMP dword ptr [EAX + 0x118],0x0
0086eb22 : JZ 0x0086ebb7
0086eb28 : PUSH 0xc42e78
0086eb2d : LEA ECX,[EBP + -0x28]
0086eb30 : CALL 0x00406460
0086eb35 : MOV dword ptr [EBP + -0x4],0x0
0086eb3c : MOV ECX,dword ptr [0x00da9894]
0086eb42 : MOV EAX,dword ptr [ECX]
0086eb44 : MOV ECX,dword ptr [0x0172491c]
0086eb4a : MOV ESI,dword ptr [EAX + 0x118]
0086eb50 : LEA EDX,[EBP + -0x28]
0086eb53 : PUSH EDX
0086eb54 : LEA EDI,[EBP + -0x44]
0086eb57 : CALL 0x0081d120
0086eb5c : MOV byte ptr [EBP + -0x4],0x1
0086eb60 : CMP dword ptr [EAX + 0x18],0x8
0086eb64 : JC 0x0086eb6b
0086eb66 : MOV EAX,dword ptr [EAX + 0x4]
0086eb69 : JMP 0x0086eb6e
0086eb6b : ADD EAX,0x4
0086eb6e : MOV ECX,dword ptr [ESI]
0086eb70 : MOV EDX,dword ptr [ECX + 0x4]
0086eb73 : PUSH EAX
0086eb74 : PUSH 0xc42eac
0086eb79 : PUSH 0xc42eb0
0086eb7e : PUSH ESI
0086eb7f : CALL EDX
0086eb81 : ADD ESP,0x10
0086eb84 : MOV byte ptr [EBP + -0x4],0x0
0086eb88 : LEA ECX,[EBP + -0x44]
0086eb8b : CALL 0x00406560
0086eb90 : MOV dword ptr [EBP + -0x4],0xffffffff
0086eb97 : LEA ECX,[EBP + -0x28]
0086eb9a : CALL 0x00406560
0086eb9f : MOV EAX,[0x00da9894]
0086eba4 : MOV ECX,dword ptr [EAX]
0086eba6 : MOV ECX,dword ptr [ECX + 0x118]
0086ebac : MOV EDX,dword ptr [ECX]
0086ebae : MOV EAX,dword ptr [EDX]
0086ebb0 : PUSH 0xc42ec0
0086ebb5 : CALL EAX
0086ebb7 : MOV EDX,dword ptr [EBX]
0086ebb9 : MOV EAX,dword ptr [EDX + 0x338]
0086ebbf : PUSH 0x1
0086ebc1 : MOV ECX,EBX
0086ebc3 : MOV byte ptr [EBX + 0x1fe3],0x1
0086ebca : CALL EAX
0086ebcc : CMP byte ptr [EBX + 0x1fc0],0x0
0086ebd3 : JNZ 0x0086ebf4
0086ebd5 : CMP byte ptr [EBX + 0x1fe2],0x0
0086ebdc : JNZ 0x0086ebf4
0086ebde : XOR EAX,EAX
0086ebe0 : MOV ECX,dword ptr [EBP + -0xc]
0086ebe3 : MOV dword ptr FS:[0x0],ECX
0086ebea : POP ECX
0086ebeb : POP EDI
0086ebec : POP ESI
0086ebed : POP EBX
0086ebee : MOV ESP,EBP
0086ebf0 : POP EBP
0086ebf1 : RET 0x4
0086ebf4 : MOV EAX,0x1
0086ebf9 : MOV ECX,dword ptr [EBP + -0xc]
0086ebfc : MOV dword ptr FS:[0x0],ECX
0086ec03 : POP ECX
0086ec04 : POP EDI
0086ec05 : POP ESI
0086ec06 : POP EBX
0086ec07 : MOV ESP,EBP
0086ec09 : POP EBP
0086ec0a : RET 0x4
