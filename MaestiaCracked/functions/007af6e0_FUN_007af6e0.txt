PROGRAM  : Maestia.exe
FUNCTION : FUN_007af6e0
ENTRY    : 007af6e0
BODY     : [[007af6e0, 007af76c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007af6e0(void)

{
  uint uVar1;
  DWORD DVar2;
  int in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3c61e;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0x2458));
  local_8 = 0;
  DVar2 = GetTickCount();
  if ((*(uint *)(*(int *)(in_ECX + 0x278) + 0x104) < DVar2 - *(int *)(in_ECX + 0x2c4)) &&
     (*(char *)(*(int *)(in_ECX + 0x278) + 0x2ab4) == '\0')) {
    FUN_007abeb0(uVar1);
    FUN_007ae330(in_ECX);
  }
  local_8 = 0xffffffff;
  LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0x2458));
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007af6e0 : PUSH EBP
007af6e1 : MOV EBP,ESP
007af6e3 : PUSH -0x1
007af6e5 : PUSH 0xb3c61e
007af6ea : MOV EAX,FS:[0x0]
007af6f0 : PUSH EAX
007af6f1 : PUSH ECX
007af6f2 : PUSH ESI
007af6f3 : PUSH EDI
007af6f4 : MOV EAX,[0x00d66fa0]
007af6f9 : XOR EAX,EBP
007af6fb : PUSH EAX
007af6fc : LEA EAX,[EBP + -0xc]
007af6ff : MOV FS:[0x0],EAX
007af705 : MOV ESI,ECX
007af707 : LEA EDI,[ESI + 0x2458]
007af70d : PUSH EDI
007af70e : MOV dword ptr [EBP + -0x10],EDI
007af711 : CALL dword ptr [0x00b85118]
007af717 : MOV dword ptr [EBP + -0x4],0x0
007af71e : CALL dword ptr [0x00b850d8]
007af724 : MOV ECX,dword ptr [ESI + 0x278]
007af72a : SUB EAX,dword ptr [ESI + 0x2c4]
007af730 : MOV EDX,dword ptr [ECX + 0x104]
007af736 : CMP EAX,EDX
007af738 : JBE 0x007af74e
007af73a : CMP byte ptr [ECX + 0x2ab4],0x0
007af741 : JNZ 0x007af74e
007af743 : CALL 0x007abeb0
007af748 : PUSH ESI
007af749 : CALL 0x007ae330
007af74e : MOV dword ptr [EBP + -0x4],0xffffffff
007af755 : PUSH EDI
007af756 : CALL dword ptr [0x00b8511c]
007af75c : MOV ECX,dword ptr [EBP + -0xc]
007af75f : MOV dword ptr FS:[0x0],ECX
007af766 : POP ECX
007af767 : POP EDI
007af768 : POP ESI
007af769 : MOV ESP,EBP
007af76b : POP EBP
007af76c : RET
