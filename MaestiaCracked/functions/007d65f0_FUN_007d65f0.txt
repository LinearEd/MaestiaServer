PROGRAM  : Maestia.exe
FUNCTION : FUN_007d65f0
ENTRY    : 007d65f0
BODY     : [[007d65f0, 007d66fb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d65f0(int param_1)

{
  int iVar1;
  uint uVar2;
  int in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b148a4;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(in_ECX + 8) != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  local_8 = 0;
  FUN_0044f270(in_ECX + 0x180,&param_1,param_1);
  iVar1 = param_1;
  if (param_1 == *(int *)(in_ECX + 0x188)) {
    local_8 = 0xffffffff;
    if (*(int *)(in_ECX + 8) != 0) {
      LeaveCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
      ExceptionList = local_10;
      return;
    }
  }
  else {
    (**(code **)(**(int **)(param_1 + 0x24) + 0xc))(0,uVar2);
    if (*(undefined4 **)(iVar1 + 0x24) != (undefined4 *)0x0) {
      (**(code **)**(undefined4 **)(iVar1 + 0x24))(1);
    }
    *(undefined4 *)(iVar1 + 0x24) = 0;
    FUN_00462670(&param_1,iVar1);
    local_8 = 0xffffffff;
    if (*(int *)(in_ECX + 8) != 0) {
      LeaveCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
    }
    *(undefined1 *)(in_ECX + 0x5d) = 1;
    *(undefined1 *)(in_ECX + 0x134) = 1;
    *(undefined1 *)(in_ECX + 0x5c) = 1;
    if (*(int **)(in_ECX + 0x2c) != (int *)0x0) {
      (**(code **)(**(int **)(in_ECX + 0x2c) + 0x60))();
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d65f0 : PUSH EBP
007d65f1 : MOV EBP,ESP
007d65f3 : PUSH -0x1
007d65f5 : PUSH 0xb148a4
007d65fa : MOV EAX,FS:[0x0]
007d6600 : PUSH EAX
007d6601 : PUSH ECX
007d6602 : PUSH EBX
007d6603 : PUSH ESI
007d6604 : PUSH EDI
007d6605 : MOV EAX,[0x00d66fa0]
007d660a : XOR EAX,EBP
007d660c : PUSH EAX
007d660d : LEA EAX,[EBP + -0xc]
007d6610 : MOV FS:[0x0],EAX
007d6616 : MOV ESI,ECX
007d6618 : MOV EAX,dword ptr [ESI + 0x8]
007d661b : MOV dword ptr [EBP + -0x10],ESI
007d661e : TEST EAX,EAX
007d6620 : JZ 0x007d662c
007d6622 : ADD EAX,0x4
007d6625 : PUSH EAX
007d6626 : CALL dword ptr [0x00b85118]
007d662c : MOV dword ptr [EBP + -0x4],0x0
007d6633 : MOV EAX,dword ptr [EBP + 0x8]
007d6636 : PUSH EAX
007d6637 : LEA ECX,[EBP + 0x8]
007d663a : PUSH ECX
007d663b : LEA EBX,[ESI + 0x180]
007d6641 : PUSH EBX
007d6642 : CALL 0x0044f270
007d6647 : MOV EAX,dword ptr [ESI + 0x188]
007d664d : MOV EDI,dword ptr [EBP + 0x8]
007d6650 : CMP EDI,EAX
007d6652 : JNZ 0x007d6684
007d6654 : MOV dword ptr [EBP + -0x4],0xffffffff
007d665b : MOV ESI,dword ptr [ESI + 0x8]
007d665e : TEST ESI,ESI
007d6660 : JZ 0x007d66e8
007d6666 : ADD ESI,0x4
007d6669 : PUSH ESI
007d666a : CALL dword ptr [0x00b8511c]
007d6670 : MOV ECX,dword ptr [EBP + -0xc]
007d6673 : MOV dword ptr FS:[0x0],ECX
007d667a : POP ECX
007d667b : POP EDI
007d667c : POP ESI
007d667d : POP EBX
007d667e : MOV ESP,EBP
007d6680 : POP EBP
007d6681 : RET 0x4
007d6684 : MOV ECX,dword ptr [EDI + 0x24]
007d6687 : MOV EDX,dword ptr [ECX]
007d6689 : MOV EAX,dword ptr [EDX + 0xc]
007d668c : PUSH 0x0
007d668e : CALL EAX
007d6690 : MOV ECX,dword ptr [EDI + 0x24]
007d6693 : TEST ECX,ECX
007d6695 : JZ 0x007d669f
007d6697 : MOV EDX,dword ptr [ECX]
007d6699 : MOV EAX,dword ptr [EDX]
007d669b : PUSH 0x1
007d669d : CALL EAX
007d669f : PUSH EDI
007d66a0 : LEA ECX,[EBP + 0x8]
007d66a3 : PUSH ECX
007d66a4 : MOV ECX,EBX
007d66a6 : MOV dword ptr [EDI + 0x24],0x0
007d66ad : CALL 0x00462670
007d66b2 : MOV dword ptr [EBP + -0x4],0xffffffff
007d66b9 : MOV EAX,dword ptr [ESI + 0x8]
007d66bc : TEST EAX,EAX
007d66be : JZ 0x007d66ca
007d66c0 : ADD EAX,0x4
007d66c3 : PUSH EAX
007d66c4 : CALL dword ptr [0x00b8511c]
007d66ca : MOV ECX,dword ptr [ESI + 0x2c]
007d66cd : MOV byte ptr [ESI + 0x5d],0x1
007d66d1 : MOV byte ptr [ESI + 0x134],0x1
007d66d8 : MOV byte ptr [ESI + 0x5c],0x1
007d66dc : TEST ECX,ECX
007d66de : JZ 0x007d66e8
007d66e0 : MOV EDX,dword ptr [ECX]
007d66e2 : MOV EAX,dword ptr [EDX + 0x60]
007d66e5 : PUSH ESI
007d66e6 : CALL EAX
007d66e8 : MOV ECX,dword ptr [EBP + -0xc]
007d66eb : MOV dword ptr FS:[0x0],ECX
007d66f2 : POP ECX
007d66f3 : POP EDI
007d66f4 : POP ESI
007d66f5 : POP EBX
007d66f6 : MOV ESP,EBP
007d66f8 : POP EBP
007d66f9 : RET 0x4
