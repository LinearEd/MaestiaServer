PROGRAM  : Maestia.exe
FUNCTION : FUN_005991b0
ENTRY    : 005991b0
BODY     : [[005991b0, 00599233]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005991b0(uint param_1,int param_2)

{
  uint *puVar1;
  undefined4 in_ECX;
  
  puVar1 = (uint *)FUN_00515d60(in_ECX,param_1,0);
  *puVar1 = *puVar1 ^ (*puVar1 ^ param_1) & 0xfffffff;
  if (param_2 == 0) {
    *puVar1 = *puVar1 & 0xfffffff | 0xc0000000;
    *(undefined1 *)(puVar1 + 7) = 0;
    *(undefined1 *)((int)puVar1 + 0x1d) = 0;
    *(undefined2 *)((int)puVar1 + 0x1a) = 0;
    *(undefined2 *)((int)puVar1 + 0x16) = 0;
    *(undefined2 *)(puVar1 + 5) = 0;
    puVar1[3] = 0;
    puVar1[4] = 0;
    puVar1[2] = 0;
    return;
  }
  *puVar1 = *puVar1 & 0xfffffff | 0x40000000;
  puVar1[1] = 0;
  puVar1[6] = 0;
  puVar1[5] = 0;
  puVar1[8] = 0;
  *(undefined2 *)((int)puVar1 + 0x26) = 0;
  *(undefined2 *)(puVar1 + 10) = 0;
  puVar1[3] = 0;
  puVar1[4] = 0;
  puVar1[2] = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
005991b0 : PUSH EBX
005991b1 : PUSH ESI
005991b2 : MOV ESI,dword ptr [ESP + 0xc]
005991b6 : XOR EBX,EBX
005991b8 : PUSH EBX
005991b9 : PUSH ESI
005991ba : PUSH ECX
005991bb : CALL 0x00515d60
005991c0 : MOV ECX,dword ptr [EAX]
005991c2 : XOR ECX,ESI
005991c4 : AND ECX,0xfffffff
005991ca : XOR dword ptr [EAX],ECX
005991cc : MOV ECX,dword ptr [EAX]
005991ce : AND ECX,0xfffffff
005991d4 : CMP dword ptr [ESP + 0x10],EBX
005991d8 : JNZ 0x00599206
005991da : OR ECX,0xc0000000
005991e0 : MOV dword ptr [EAX],ECX
005991e2 : XOR EDX,EDX
005991e4 : MOV byte ptr [EAX + 0x1c],BL
005991e7 : MOV byte ptr [EAX + 0x1d],BL
005991ea : MOV word ptr [EAX + 0x1a],DX
005991ee : XOR ECX,ECX
005991f0 : MOV word ptr [EAX + 0x16],CX
005991f4 : MOV word ptr [EAX + 0x14],DX
005991f8 : MOV dword ptr [EAX + 0xc],EBX
005991fb : MOV dword ptr [EAX + 0x10],EBX
005991fe : POP ESI
005991ff : MOV dword ptr [EAX + 0x8],EBX
00599202 : POP EBX
00599203 : RET 0x8
00599206 : OR ECX,0x40000000
0059920c : MOV dword ptr [EAX],ECX
0059920e : MOV dword ptr [EAX + 0x4],EBX
00599211 : MOV dword ptr [EAX + 0x18],EBX
00599214 : MOV dword ptr [EAX + 0x14],EBX
00599217 : MOV dword ptr [EAX + 0x20],EBX
0059921a : XOR ECX,ECX
0059921c : MOV word ptr [EAX + 0x26],CX
00599220 : XOR EDX,EDX
00599222 : MOV word ptr [EAX + 0x28],DX
00599226 : MOV dword ptr [EAX + 0xc],EBX
00599229 : MOV dword ptr [EAX + 0x10],EBX
0059922c : POP ESI
0059922d : MOV dword ptr [EAX + 0x8],EBX
00599230 : POP EBX
00599231 : RET 0x8
