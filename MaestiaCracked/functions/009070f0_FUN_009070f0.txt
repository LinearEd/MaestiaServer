PROGRAM  : Maestia.exe
FUNCTION : FUN_009070f0
ENTRY    : 009070f0
BODY     : [[009070f0, 0090727d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009070f0(short param_1)

{
  int iVar1;
  int in_ECX;
  undefined4 *puVar2;
  int local_3c;
  undefined1 local_38 [4];
  undefined4 local_34;
  undefined4 uStack_24;
  uint local_20;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b60219;
  local_14 = ExceptionList;
  local_1c = DAT_00d66fa0 ^ (uint)&local_3c;
  ExceptionList = &local_14;
  FUN_00404750(&DAT_00c645f0,param_1,DAT_00d66fa0 ^ (uint)&stack0xffffffb8);
  local_c = 0;
  local_3c = *(int *)(*(int *)(DAT_0172491c + 0x17c) + 4);
  iVar1 = *DAT_00da9894;
  if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
    puVar2 = local_34;
    if (local_20 < 8) {
      puVar2 = &local_34;
    }
    (**(code **)(**(int **)(iVar1 + 0x114) + 4))
              (*(int **)(iVar1 + 0x114),"SetStatusLevel",&DAT_00c645f8,puVar2);
  }
  iVar1 = *DAT_00da9894;
  if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
    puVar2 = local_34;
    if (local_20 < 8) {
      puVar2 = &local_34;
    }
    (**(code **)(**(int **)(iVar1 + 0x114) + 4))
              (*(int **)(iVar1 + 0x114),"SetCharData","%s,%ls","SetCharLevel",puVar2);
  }
  FUN_00405eb0(local_38,0,0xffffffff);
  if ((((*(int *)(in_ECX + 0x80) == 0) && (param_1 == 1)) &&
      (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 0x1ec8) == 0)) ||
     (((local_3c == *(int *)(in_ECX + 0x80) && (param_1 == 1)) &&
      (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 0x1ec8) == 0)))) {
    FUN_00a328c0();
  }
  local_c = 0xffffffff;
  if (7 < local_20) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_20 = 7;
  uStack_24 = 0;
  local_34 = (undefined4 *)((uint)local_34._2_2_ << 0x10);
  ExceptionList = local_14;
  __security_check_cookie(local_1c ^ (uint)&local_3c);
  return;
}



============================================================
DISASSEMBLY
============================================================
009070f0 : PUSH EBP
009070f1 : MOV EBP,ESP
009070f3 : AND ESP,0xfffffff8
009070f6 : PUSH -0x1
009070f8 : PUSH 0xb60219
009070fd : MOV EAX,FS:[0x0]
00907103 : PUSH EAX
00907104 : SUB ESP,0x28
00907107 : MOV EAX,[0x00d66fa0]
0090710c : XOR EAX,ESP
0090710e : MOV dword ptr [ESP + 0x20],EAX
00907112 : PUSH EBX
00907113 : PUSH ESI
00907114 : PUSH EDI
00907115 : MOV EAX,[0x00d66fa0]
0090711a : XOR EAX,ESP
0090711c : PUSH EAX
0090711d : LEA EAX,[ESP + 0x38]
00907121 : MOV FS:[0x0],EAX
00907127 : MOV BX,word ptr [EBP + 0x8]
0090712b : MOVZX EAX,BX
0090712e : PUSH EAX
0090712f : PUSH 0xc645f0
00907134 : LEA ESI,[ESP + 0x1c]
00907138 : MOV EDI,ECX
0090713a : CALL 0x00404750
0090713f : ADD ESP,0x8
00907142 : XOR ESI,ESI
00907144 : MOV dword ptr [ESP + 0x40],ESI
00907148 : MOV ECX,dword ptr [0x0172491c]
0090714e : MOV EAX,dword ptr [ECX + 0x17c]
00907154 : MOV EDX,dword ptr [EAX + 0x4]
00907157 : MOV EAX,[0x00da9894]
0090715c : MOV EAX,dword ptr [EAX]
0090715e : MOV dword ptr [ESP + 0x10],EDX
00907162 : CMP EAX,ESI
00907164 : JZ 0x00907199
00907166 : CMP dword ptr [EAX + 0x114],ESI
0090716c : JZ 0x00907199
0090716e : CMP dword ptr [ESP + 0x2c],0x8
00907173 : MOV EAX,dword ptr [EAX + 0x114]
00907179 : MOV ECX,dword ptr [ESP + 0x18]
0090717d : JNC 0x00907183
0090717f : LEA ECX,[ESP + 0x18]
00907183 : MOV EDX,dword ptr [EAX]
00907185 : PUSH ECX
00907186 : PUSH 0xc645f8
0090718b : PUSH 0xc645fc
00907190 : PUSH EAX
00907191 : MOV EAX,dword ptr [EDX + 0x4]
00907194 : CALL EAX
00907196 : ADD ESP,0x10
00907199 : MOV ECX,dword ptr [0x00da9894]
0090719f : MOV EAX,dword ptr [ECX]
009071a1 : CMP EAX,ESI
009071a3 : JZ 0x009071dd
009071a5 : CMP dword ptr [EAX + 0x114],ESI
009071ab : JZ 0x009071dd
009071ad : CMP dword ptr [ESP + 0x2c],0x8
009071b2 : MOV EAX,dword ptr [EAX + 0x114]
009071b8 : MOV ECX,dword ptr [ESP + 0x18]
009071bc : JNC 0x009071c2
009071be : LEA ECX,[ESP + 0x18]
009071c2 : MOV EDX,dword ptr [EAX]
009071c4 : PUSH ECX
009071c5 : PUSH 0xc6460c
009071ca : PUSH 0xc6461c
009071cf : PUSH 0xc64624
009071d4 : PUSH EAX
009071d5 : MOV EAX,dword ptr [EDX + 0x4]
009071d8 : CALL EAX
009071da : ADD ESP,0x14
009071dd : PUSH -0x1
009071df : PUSH ESI
009071e0 : LEA ECX,[ESP + 0x1c]
009071e4 : PUSH ECX
009071e5 : LEA ECX,[EDI + 0xf4]
009071eb : CALL 0x00405eb0
009071f0 : MOV EAX,dword ptr [EDI + 0x80]
009071f6 : MOV EDX,dword ptr [0x0172491c]
009071fc : CMP EAX,ESI
009071fe : JNZ 0x00907214
00907200 : CMP BX,0x1
00907204 : JNZ 0x00907214
00907206 : MOV ECX,dword ptr [EDX + 0x17c]
0090720c : CMP dword ptr [ECX + 0x1ec8],ESI
00907212 : JZ 0x0090722e
00907214 : CMP dword ptr [ESP + 0x10],EAX
00907218 : JNZ 0x00907233
0090721a : CMP BX,0x1
0090721e : JNZ 0x00907233
00907220 : MOV EAX,dword ptr [EDX + 0x17c]
00907226 : CMP dword ptr [EAX + 0x1ec8],ESI
0090722c : JNZ 0x00907233
0090722e : CALL 0x00a328c0
00907233 : MOV dword ptr [ESP + 0x40],0xffffffff
0090723b : CMP dword ptr [ESP + 0x2c],0x8
00907240 : JC 0x0090724b
00907242 : MOV ECX,dword ptr [ESP + 0x18]
00907246 : CALL 0x006f04e0
0090724b : XOR EDX,EDX
0090724d : MOV dword ptr [ESP + 0x2c],0x7
00907255 : MOV dword ptr [ESP + 0x28],ESI
00907259 : MOV word ptr [ESP + 0x18],DX
0090725e : MOV ECX,dword ptr [ESP + 0x38]
00907262 : MOV dword ptr FS:[0x0],ECX
00907269 : POP ECX
0090726a : POP EDI
0090726b : POP ESI
0090726c : POP EBX
0090726d : MOV ECX,dword ptr [ESP + 0x20]
00907271 : XOR ECX,ESP
00907273 : CALL 0x00633e6b
00907278 : MOV ESP,EBP
0090727a : POP EBP
0090727b : RET 0x4
