PROGRAM  : Maestia.exe
FUNCTION : FUN_00926ee0
ENTRY    : 00926ee0
BODY     : [[00926ee0, 0092703b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00926ee0(int param_1)

{
  int iVar1;
  int *piVar2;
  uint uVar3;
  uint8_t *packet;
  undefined4 uVar4;
  byte bVar5;
  uint local_30;
  undefined1 local_2c [24];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3fa61;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(param_1 + 100) != 0) {
    iVar1 = *(int *)ThreadLocalStoragePointer;
    bVar5 = (byte)((ulonglong)(*(byte *)(iVar1 + 0x18) + 1) % 3);
    *(byte *)(iVar1 + 0x18) = bVar5;
    packet = (uint8_t *)((uint)bVar5 * 0x2000 + 0x122cb8 + iVar1);
    if (packet == (uint8_t *)0x0) {
      packet = (uint8_t *)0x0;
    }
    else {
      packet[0] = '\0';
      packet[1] = '\0';
      packet[2] = '6';
      packet[3] = 0x8c;
      packet[4] = '\x02';
      packet[5] = '\0';
      packet[6] = '\0';
      packet[7] = '\0';
      packet[8] = '\0';
    }
    local_8 = 0xffffffff;
    if ((*(int *)(DAT_017247d4 + 4) != 0) && (*(char *)(DAT_017247d4 + 8) != '\0')) {
      FUN_00a0dd40(*(int *)(DAT_017247d4 + 4),9,packet);
    }
    *(undefined4 *)(param_1 + 0x6c) = 0;
    ExceptionList = local_10;
    return;
  }
  FUN_00406460(L"IDS_NOT_ITEM_IN_SLOT");
  local_8 = 1;
  piVar2 = *(int **)(*DAT_00da9894 + 0x1a8);
  uVar4 = FUN_0081d120(local_2c);
  local_8._0_1_ = 2;
  (**(code **)(*piVar2 + 0x44))(uVar4,3,uVar3);
  local_8 = CONCAT31(local_8._1_3_,1);
  if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_8 = 0xffffffff;
  if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *(undefined4 *)(param_1 + 0x6c) = 0;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00926ee0 : PUSH EBP
00926ee1 : MOV EBP,ESP
00926ee3 : PUSH -0x1
00926ee5 : PUSH 0xb3fa61
00926eea : MOV EAX,FS:[0x0]
00926ef0 : PUSH EAX
00926ef1 : SUB ESP,0x38
00926ef4 : PUSH EBX
00926ef5 : PUSH ESI
00926ef6 : PUSH EDI
00926ef7 : MOV EAX,[0x00d66fa0]
00926efc : XOR EAX,EBP
00926efe : PUSH EAX
00926eff : LEA EAX,[EBP + -0xc]
00926f02 : MOV FS:[0x0],EAX
00926f08 : MOV ESI,dword ptr [EBP + 0x8]
00926f0b : XOR EBX,EBX
00926f0d : CMP dword ptr [ESI + 0x64],EBX
00926f10 : JZ 0x00926f97
00926f16 : MOV EAX,FS:[0x2c]
00926f1c : MOV ECX,dword ptr [EAX]
00926f1e : MOVZX EAX,byte ptr [ECX + 0x18]
00926f22 : INC EAX
00926f23 : CDQ
00926f24 : MOV EDI,0x3
00926f29 : IDIV EDI
00926f2b : MOV byte ptr [ECX + 0x18],DL
00926f2e : MOVZX EDX,DL
00926f31 : SHL EDX,0xd
00926f34 : LEA EAX,[EDX + ECX*0x1 + 0x122cb8]
00926f3b : MOV dword ptr [EBP + 0x8],EAX
00926f3e : MOV dword ptr [EBP + -0x4],EBX
00926f41 : CMP EAX,EBX
00926f43 : JZ 0x00926f5b
00926f45 : XOR ECX,ECX
00926f47 : MOV word ptr [EAX],CX
00926f4a : MOV byte ptr [EAX + 0x2],0x36
00926f4e : MOV byte ptr [EAX + 0x3],0x8c
00926f52 : MOV byte ptr [EAX + 0x4],0x2
00926f56 : MOV dword ptr [EAX + 0x5],EBX
00926f59 : JMP 0x00926f5d
00926f5b : XOR EAX,EAX
00926f5d : MOV dword ptr [EBP + -0x4],0xffffffff
00926f64 : MOV EDX,dword ptr [0x017247d4]
00926f6a : MOV ECX,dword ptr [EDX + 0x4]
00926f6d : CMP ECX,EBX
00926f6f : JZ 0x00926f80
00926f71 : CMP byte ptr [EDX + 0x8],BL
00926f74 : JZ 0x00926f80
00926f76 : PUSH 0x9
00926f78 : PUSH ECX
00926f79 : MOV EDI,EAX
00926f7b : CALL 0x00a0dd40
00926f80 : MOV dword ptr [ESI + 0x6c],EBX
00926f83 : MOV ECX,dword ptr [EBP + -0xc]
00926f86 : MOV dword ptr FS:[0x0],ECX
00926f8d : POP ECX
00926f8e : POP EDI
00926f8f : POP ESI
00926f90 : POP EBX
00926f91 : MOV ESP,EBP
00926f93 : POP EBP
00926f94 : RET 0x4
00926f97 : PUSH 0xc6b010
00926f9c : LEA ECX,[EBP + -0x28]
00926f9f : CALL 0x00406460
00926fa4 : MOV dword ptr [EBP + -0x4],0x1
00926fab : MOV EDX,dword ptr [0x00da9894]
00926fb1 : MOV EAX,dword ptr [EDX]
00926fb3 : MOV ESI,dword ptr [EAX + 0x1a8]
00926fb9 : MOV ECX,dword ptr [0x0172491c]
00926fbf : LEA EAX,[EBP + -0x28]
00926fc2 : PUSH EAX
00926fc3 : LEA EDI,[EBP + -0x44]
00926fc6 : CALL 0x0081d120
00926fcb : MOV byte ptr [EBP + -0x4],0x2
00926fcf : MOV EDX,dword ptr [ESI]
00926fd1 : PUSH 0x3
00926fd3 : PUSH EAX
00926fd4 : MOV EAX,dword ptr [EDX + 0x44]
00926fd7 : MOV ECX,ESI
00926fd9 : CALL EAX
00926fdb : MOV byte ptr [EBP + -0x4],0x1
00926fdf : MOV ESI,0x8
00926fe4 : CMP dword ptr [EBP + -0x2c],ESI
00926fe7 : JC 0x00926ff1
00926fe9 : MOV ECX,dword ptr [EBP + -0x40]
00926fec : CALL 0x006f04e0
00926ff1 : MOV EDI,0x7
00926ff6 : XOR ECX,ECX
00926ff8 : MOV dword ptr [EBP + -0x2c],EDI
00926ffb : MOV dword ptr [EBP + -0x30],EBX
00926ffe : MOV word ptr [EBP + -0x40],CX
00927002 : MOV dword ptr [EBP + -0x4],0xffffffff
00927009 : CMP dword ptr [EBP + -0x10],ESI
0092700c : JC 0x00927016
0092700e : MOV ECX,dword ptr [EBP + -0x24]
00927011 : CALL 0x006f04e0
00927016 : MOV EAX,dword ptr [EBP + 0x8]
00927019 : XOR EDX,EDX
0092701b : MOV dword ptr [EBP + -0x10],EDI
0092701e : MOV dword ptr [EBP + -0x14],EBX
00927021 : MOV word ptr [EBP + -0x24],DX
00927025 : MOV dword ptr [EAX + 0x6c],EBX
00927028 : MOV ECX,dword ptr [EBP + -0xc]
0092702b : MOV dword ptr FS:[0x0],ECX
00927032 : POP ECX
00927033 : POP EDI
00927034 : POP ESI
00927035 : POP EBX
00927036 : MOV ESP,EBP
00927038 : POP EBP
00927039 : RET 0x4
