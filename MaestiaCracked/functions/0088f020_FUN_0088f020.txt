PROGRAM  : Maestia.exe
FUNCTION : FUN_0088f020
ENTRY    : 0088f020
BODY     : [[0088f020, 0088f3bd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0088f020(int param_1,undefined4 param_2,int param_3,short param_4,LONG *param_5,
                 int *param_6)

{
  char cVar1;
  int iVar2;
  LONG LVar3;
  int iVar4;
  short *psVar5;
  int local_7c;
  undefined1 local_58 [68];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b34a36;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (((*(int *)(param_1 + 1000) != 0) &&
      ((*(int *)(param_3 + 8) - *(int *)(param_3 + 4) & 0xffffffc0U) != 0)) &&
     (*(int *)(*(int *)(param_1 + 1000) + 0x288) != 0)) {
    *param_6 = *(int *)(param_1 + 200);
    iVar2 = FUN_00a1a840();
    if (((((iVar2 != 0) || (iVar2 = FUN_00a1a6d0(), iVar2 != 0)) ||
         (iVar2 = FUN_00a1a780(), iVar2 != 0)) &&
        ((cVar1 = FUN_008896f0(), cVar1 == '\0' && (*(int *)(iVar2 + 1000) != 0)))) &&
       (*(int *)(*(int *)(iVar2 + 1000) + 0x288) != 0)) {
      FUN_00405660(param_2);
      local_8 = 0xffffffff;
      iVar2 = FUN_00a664c0();
      if (iVar2 != 0) {
        LVar3 = InterlockedIncrement((LONG *)(param_1 + 0x614));
        *param_5 = LVar3;
        FUN_00404750();
        local_8 = 1;
        iVar2 = (*(int *)(param_1 + 0x60c) - *(int *)(param_1 + 0x608)) / 0x1c;
        iVar4 = 0;
        if (0 < iVar2) {
          psVar5 = (short *)(*(int *)(param_1 + 0x608) + 8);
          do {
            if ((*param_6 == *(int *)(psVar5 + -2)) && (param_4 == *psVar5)) goto LAB_0088f391;
            iVar4 = iVar4 + 1;
            psVar5 = psVar5 + 0xe;
          } while (iVar4 < iVar2);
        }
        iVar2 = FUN_007ce980();
        if (iVar2 == 0) {
          FUN_00406460();
          local_8._0_1_ = 2;
          if ((int *)*DAT_00da98e8 != (int *)0x0) {
            (**(code **)(*(int *)*DAT_00da98e8 + 0x14))();
          }
          local_8 = CONCAT31(local_8._1_3_,1);
          FUN_00406560();
        }
        else {
          timeGetTime();
          local_7c = *(int *)(param_3 + 8) - *(int *)(param_3 + 4) >> 6;
          if (0 < local_7c) {
            do {
              FUN_0043d400();
              local_8._0_1_ = 3;
              FUN_00405660(local_58);
              local_8._0_1_ = 3;
              iVar4 = FUN_00a664c0();
              if (iVar4 != 0) {
                FUN_007977c0(iVar2);
              }
              local_8 = CONCAT31(local_8._1_3_,1);
              FUN_0044ca10();
              local_7c = local_7c + -1;
            } while (local_7c != 0);
          }
          FUN_00797aa0();
          FUN_0043a710();
          FUN_00796fa0();
        }
LAB_0088f391:
        local_8 = 0xffffffff;
        FUN_00406560();
      }
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0088f020 : PUSH EBP
0088f021 : MOV EBP,ESP
0088f023 : PUSH -0x1
0088f025 : PUSH 0xb34a36
0088f02a : MOV EAX,FS:[0x0]
0088f030 : PUSH EAX
0088f031 : SUB ESP,0xa4
0088f037 : MOV EAX,[0x00d66fa0]
0088f03c : XOR EAX,EBP
0088f03e : MOV dword ptr [EBP + -0x10],EAX
0088f041 : PUSH EBX
0088f042 : PUSH ESI
0088f043 : PUSH EDI
0088f044 : PUSH EAX
0088f045 : LEA EAX,[EBP + -0xc]
0088f048 : MOV FS:[0x0],EAX
0088f04e : MOV EAX,dword ptr [EBP + 0xc]
0088f051 : MOV EBX,dword ptr [EBP + 0x8]
0088f054 : MOV dword ptr [EBP + -0x7c],EAX
0088f057 : MOV EAX,dword ptr [EBP + 0x18]
0088f05a : MOV dword ptr [EBP + -0x78],EAX
0088f05d : MOV EAX,dword ptr [EBX + 0x3e8]
0088f063 : MOV dword ptr [EBP + 0xffffff54],ECX
0088f069 : MOV ECX,dword ptr [EBP + 0x10]
0088f06c : MOV dword ptr [EBP + 0xffffff50],EDX
0088f072 : MOV EDX,dword ptr [EBP + 0x1c]
0088f075 : MOV dword ptr [EBP + 0xffffff78],ECX
0088f07b : MOV dword ptr [EBP + -0x80],EDX
0088f07e : TEST EAX,EAX
0088f080 : JZ 0x0088f3a0
0088f086 : MOV ESI,dword ptr [ECX + 0x8]
0088f089 : SUB ESI,dword ptr [ECX + 0x4]
0088f08c : TEST ESI,0xffffffc0
0088f092 : JZ 0x0088f3a0
0088f098 : MOV EAX,dword ptr [EAX + 0x288]
0088f09e : MOV dword ptr [EBP + 0xffffff7c],EAX
0088f0a4 : TEST EAX,EAX
0088f0a6 : JZ 0x0088f3a0
0088f0ac : MOV ESI,dword ptr [EBX + 0xc8]
0088f0b2 : MOV ECX,dword ptr [0x00da93ec]
0088f0b8 : PUSH ESI
0088f0b9 : MOV dword ptr [EDX],ESI
0088f0bb : MOV dword ptr [EBP + -0x74],ECX
0088f0be : CALL 0x00a1a840
0088f0c3 : MOV EDI,EAX
0088f0c5 : TEST EDI,EDI
0088f0c7 : JNZ 0x0088f0eb
0088f0c9 : MOV ECX,dword ptr [EBP + -0x74]
0088f0cc : PUSH ESI
0088f0cd : CALL 0x00a1a6d0
0088f0d2 : MOV EDI,EAX
0088f0d4 : TEST EDI,EDI
0088f0d6 : JNZ 0x0088f0eb
0088f0d8 : MOV ECX,dword ptr [EBP + -0x74]
0088f0db : PUSH ESI
0088f0dc : CALL 0x00a1a780
0088f0e1 : MOV EDI,EAX
0088f0e3 : TEST EDI,EDI
0088f0e5 : JZ 0x0088f3a0
0088f0eb : MOV EAX,EDI
0088f0ed : CALL 0x008896f0
0088f0f2 : TEST AL,AL
0088f0f4 : JNZ 0x0088f3a0
0088f0fa : MOV EDI,dword ptr [EDI + 0x3e8]
0088f100 : TEST EDI,EDI
0088f102 : JZ 0x0088f3a0
0088f108 : MOV EDI,dword ptr [EDI + 0x288]
0088f10e : MOV dword ptr [EBP + 0xffffff58],EDI
0088f114 : TEST EDI,EDI
0088f116 : JZ 0x0088f3a0
0088f11c : MOV EDX,dword ptr [EBP + -0x7c]
0088f11f : SUB ESP,0x1c
0088f122 : MOV ECX,ESP
0088f124 : MOV dword ptr [EBP + -0x74],ESP
0088f127 : PUSH EDX
0088f128 : CALL 0x00405660
0088f12d : MOV dword ptr [EBP + -0x4],0x0
0088f134 : MOV dword ptr [EBP + -0x4],0xffffffff
0088f13b : MOV EDI,dword ptr [EBP + 0xffffff7c]
0088f141 : CALL 0x00a664c0
0088f146 : MOV dword ptr [EBP + -0x74],EAX
0088f149 : TEST EAX,EAX
0088f14b : JZ 0x0088f3a0
0088f151 : LEA EAX,[EBX + 0x614]
0088f157 : PUSH EAX
0088f158 : CALL dword ptr [0x00b850dc]
0088f15e : MOV ECX,dword ptr [EBP + -0x78]
0088f161 : MOV EDX,dword ptr [EBP + -0x80]
0088f164 : PUSH EAX
0088f165 : MOV dword ptr [ECX],EAX
0088f167 : MOV EAX,dword ptr [EDX]
0088f169 : PUSH EAX
0088f16a : PUSH 0xc46c14
0088f16f : LEA ESI,[EBP + -0x2c]
0088f172 : CALL 0x00404750
0088f177 : ADD ESP,0xc
0088f17a : MOV dword ptr [EBP + -0x4],0x1
0088f181 : MOV ECX,dword ptr [EBX + 0x60c]
0088f187 : SUB ECX,dword ptr [EBX + 0x608]
0088f18d : LEA EDI,[EBX + 0x604]
0088f193 : MOV EAX,0x92492493
0088f198 : IMUL ECX
0088f19a : ADD EDX,ECX
0088f19c : SAR EDX,0x4
0088f19f : MOV EAX,EDX
0088f1a1 : SHR EAX,0x1f
0088f1a4 : ADD EAX,EDX
0088f1a6 : XOR ESI,ESI
0088f1a8 : XOR ECX,ECX
0088f1aa : CMP EAX,ESI
0088f1ac : MOV dword ptr [EBP + -0x7c],EDI
0088f1af : JLE 0x0088f1e5
0088f1b1 : MOV EDX,dword ptr [EBP + -0x80]
0088f1b4 : MOV EDX,dword ptr [EDX]
0088f1b6 : MOV EBX,dword ptr [EBX + 0x608]
0088f1bc : MOV dword ptr [EBP + 0xffffff7c],EDX
0088f1c2 : ADD EBX,0x8
0088f1c5 : MOV EDX,dword ptr [EBP + 0xffffff7c]
0088f1cb : CMP EDX,dword ptr [EBX + -0x4]
0088f1ce : JNZ 0x0088f1dd
0088f1d0 : MOV DX,word ptr [EBP + 0x14]
0088f1d4 : CMP DX,word ptr [EBX]
0088f1d7 : JZ 0x0088f391
0088f1dd : INC ECX
0088f1de : ADD EBX,0x1c
0088f1e1 : CMP ECX,EAX
0088f1e3 : JL 0x0088f1c5
0088f1e5 : MOV ECX,dword ptr [0x0172491c]
0088f1eb : MOV EDX,dword ptr [EBP + -0x74]
0088f1ee : XOR EAX,EAX
0088f1f0 : MOV word ptr [EBP + 0xffffff64],AX
0088f1f7 : MOV EAX,dword ptr [ECX + 0x90]
0088f1fd : MOV EAX,dword ptr [EAX + 0xec]
0088f203 : PUSH EAX
0088f204 : LEA ECX,[EBP + -0x2c]
0088f207 : MOV dword ptr [EBP + 0xffffff60],ESI
0088f20d : MOV dword ptr [EBP + 0xffffff68],ESI
0088f213 : MOV dword ptr [EBP + 0xffffff6c],ESI
0088f219 : MOV dword ptr [EBP + 0xffffff70],ESI
0088f21f : MOV dword ptr [EBP + 0xffffff74],ESI
0088f225 : CALL 0x007ce980
0088f22a : MOV EBX,EAX
0088f22c : MOV dword ptr [EBP + 0xffffff5c],EBX
0088f232 : CMP EBX,ESI
0088f234 : JNZ 0x0088f282
0088f236 : PUSH 0xc46c34
0088f23b : LEA ECX,[EBP + 0xffffff5c]
0088f241 : CALL 0x00406460
0088f246 : MOV byte ptr [EBP + -0x4],0x2
0088f24a : MOV EDX,dword ptr [0x00da98e8]
0088f250 : MOV ECX,dword ptr [EDX]
0088f252 : CMP ECX,ESI
0088f254 : JZ 0x0088f26e
0088f256 : MOV EAX,dword ptr [ECX]
0088f258 : MOV EAX,dword ptr [EAX + 0x14]
0088f25b : LEA EDX,[EBP + 0xffffff5c]
0088f261 : PUSH EDX
0088f262 : PUSH 0x16bd
0088f267 : PUSH 0xc46c50
0088f26c : CALL EAX
0088f26e : MOV byte ptr [EBP + -0x4],0x1
0088f272 : LEA ECX,[EBP + 0xffffff5c]
0088f278 : CALL 0x00406560
0088f27d : JMP 0x0088f391
0088f282 : MOV ECX,dword ptr [EBP + -0x80]
0088f285 : MOV EDX,dword ptr [ECX]
0088f287 : MOV ECX,dword ptr [EBP + -0x78]
0088f28a : MOV AX,word ptr [EBP + 0x14]
0088f28e : MOV dword ptr [EBP + 0xffffff60],EDX
0088f294 : MOV EDX,dword ptr [ECX]
0088f296 : MOV word ptr [EBP + 0xffffff64],AX
0088f29d : MOV dword ptr [EBP + 0xffffff68],ESI
0088f2a3 : MOV dword ptr [EBP + 0xffffff6c],EDX
0088f2a9 : CALL dword ptr [0x00b85598]
0088f2af : MOV ESI,dword ptr [EBP + 0xffffff78]
0088f2b5 : MOV dword ptr [EBP + 0xffffff70],EAX
0088f2bb : MOV EAX,dword ptr [ESI + 0x8]
0088f2be : SUB EAX,dword ptr [ESI + 0x4]
0088f2c1 : SAR EAX,0x6
0088f2c4 : TEST EAX,EAX
0088f2c6 : JLE 0x0088f366
0088f2cc : XOR EBX,EBX
0088f2ce : MOV dword ptr [EBP + -0x78],EAX
0088f2d1 : MOV EAX,dword ptr [ESI + 0x4]
0088f2d4 : ADD EAX,EBX
0088f2d6 : PUSH EAX
0088f2d7 : LEA EAX,[EBP + -0x70]
0088f2da : PUSH EAX
0088f2db : CALL 0x0043d400
0088f2e0 : MOV byte ptr [EBP + -0x4],0x3
0088f2e4 : SUB ESP,0x1c
0088f2e7 : LEA EDX,[EBP + -0x54]
0088f2ea : MOV ECX,ESP
0088f2ec : MOV dword ptr [EBP + 0xffffff78],ESP
0088f2f2 : PUSH EDX
0088f2f3 : CALL 0x00405660
0088f2f8 : MOV byte ptr [EBP + -0x4],0x4
0088f2fc : MOV byte ptr [EBP + -0x4],0x3
0088f300 : MOV EDI,dword ptr [EBP + 0xffffff58]
0088f306 : CALL 0x00a664c0
0088f30b : TEST EAX,EAX
0088f30d : JNZ 0x0088f319
0088f30f : MOV byte ptr [EBP + -0x4],0x1
0088f313 : LEA EAX,[EBP + -0x70]
0088f316 : PUSH EAX
0088f317 : JMP 0x0088f34b
0088f319 : FLD1
0088f31b : MOV EDX,dword ptr [EBP + -0x38]
0088f31e : PUSH ECX
0088f31f : FSTP float ptr [ESP]
0088f322 : MOV ECX,dword ptr [EBP + 0x14]
0088f325 : FLD float ptr [EBP + -0x34]
0088f328 : PUSH ECX
0088f329 : PUSH EDX
0088f32a : MOV EDX,dword ptr [EBP + -0x74]
0088f32d : PUSH ECX
0088f32e : FSTP float ptr [ESP]
0088f331 : LEA ECX,[EBP + -0x70]
0088f334 : PUSH ECX
0088f335 : PUSH EAX
0088f336 : MOV EAX,dword ptr [EBP + 0xffffff5c]
0088f33c : PUSH EDX
0088f33d : PUSH EAX
0088f33e : CALL 0x007977c0
0088f343 : MOV byte ptr [EBP + -0x4],0x1
0088f347 : LEA ECX,[EBP + -0x70]
0088f34a : PUSH ECX
0088f34b : CALL 0x0044ca10
0088f350 : ADD EBX,0x40
0088f353 : SUB dword ptr [EBP + -0x78],0x1
0088f357 : JNZ 0x0088f2d1
0088f35d : MOV EDI,dword ptr [EBP + -0x7c]
0088f360 : MOV EBX,dword ptr [EBP + 0xffffff5c]
0088f366 : MOV EDX,dword ptr [EBP + 0xffffff50]
0088f36c : MOV EAX,dword ptr [EBP + 0xffffff54]
0088f372 : PUSH EDX
0088f373 : PUSH EAX
0088f374 : PUSH EBX
0088f375 : CALL 0x00797aa0
0088f37a : LEA ECX,[EBP + 0xffffff5c]
0088f380 : PUSH ECX
0088f381 : MOV EAX,EDI
0088f383 : CALL 0x0043a710
0088f388 : PUSH 0x1
0088f38a : MOV EDI,EBX
0088f38c : CALL 0x00796fa0
0088f391 : MOV dword ptr [EBP + -0x4],0xffffffff
0088f398 : LEA ECX,[EBP + -0x2c]
0088f39b : CALL 0x00406560
0088f3a0 : MOV ECX,dword ptr [EBP + -0xc]
0088f3a3 : MOV dword ptr FS:[0x0],ECX
0088f3aa : POP ECX
0088f3ab : POP EDI
0088f3ac : POP ESI
0088f3ad : POP EBX
0088f3ae : MOV ECX,dword ptr [EBP + -0x10]
0088f3b1 : XOR ECX,EBP
0088f3b3 : CALL 0x00633e6b
0088f3b8 : MOV ESP,EBP
0088f3ba : POP EBP
0088f3bb : RET 0x18
