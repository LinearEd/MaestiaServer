PROGRAM  : Maestia.exe
FUNCTION : FUN_004783e0
ENTRY    : 004783e0
BODY     : [[004783e0, 00478438] [00478440, 00478469]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_004783e0(undefined4 *param_1,int *param_2,int *param_3)

{
  int *piVar1;
  int unaff_ESI;
  
  piVar1 = *(int **)(unaff_ESI + 4);
  if ((param_2 == (int *)*piVar1) && (param_3 == piVar1)) {
    FUN_00477d00(piVar1[1]);
    *(int *)(*(int *)(unaff_ESI + 4) + 4) = *(int *)(unaff_ESI + 4);
    *(undefined4 *)(unaff_ESI + 8) = 0;
    *(undefined4 *)*(undefined4 *)(unaff_ESI + 4) = *(undefined4 *)(unaff_ESI + 4);
    *(int *)(*(int *)(unaff_ESI + 4) + 8) = *(int *)(unaff_ESI + 4);
    *param_1 = **(undefined4 **)(unaff_ESI + 4);
    return param_1;
  }
  while (param_2 != param_3) {
    FUN_00478380();
    FUN_00478000();
  }
  *param_1 = param_2;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
004783e0 : PUSH EBP
004783e1 : MOV EBP,ESP
004783e3 : AND ESP,0xfffffff8
004783e6 : MOV ECX,dword ptr [ESI + 0x4]
004783e9 : MOV EAX,dword ptr [EBP + 0xc]
004783ec : MOV EDX,dword ptr [EBP + 0x10]
004783ef : SUB ESP,0x8
004783f2 : PUSH EBX
004783f3 : MOV EBX,dword ptr [EBP + 0x8]
004783f6 : PUSH EDI
004783f7 : CMP EAX,dword ptr [ECX]
004783f9 : JNZ 0x00478433
004783fb : CMP EDX,ECX
004783fd : JNZ 0x00478433
004783ff : MOV EAX,dword ptr [ECX + 0x4]
00478402 : PUSH EAX
00478403 : MOV ECX,ESI
00478405 : CALL 0x00477d00
0047840a : MOV EAX,dword ptr [ESI + 0x4]
0047840d : MOV dword ptr [EAX + 0x4],EAX
00478410 : MOV EAX,dword ptr [ESI + 0x4]
00478413 : MOV dword ptr [ESI + 0x8],0x0
0047841a : MOV dword ptr [EAX],EAX
0047841c : MOV EAX,dword ptr [ESI + 0x4]
0047841f : MOV dword ptr [EAX + 0x8],EAX
00478422 : MOV ECX,dword ptr [ESI + 0x4]
00478425 : MOV EDX,dword ptr [ECX]
00478427 : MOV dword ptr [EBX],EDX
00478429 : MOV EAX,EBX
0047842b : POP EDI
0047842c : POP EBX
0047842d : MOV ESP,EBP
0047842f : POP EBP
00478430 : RET 0xc
00478433 : CMP EAX,EDX
00478435 : JZ 0x0047845e
00478437 : JMP 0x00478440
00478440 : LEA EDX,[EBP + 0xc]
00478443 : MOV EDI,EAX
00478445 : CALL 0x00478380
0047844a : PUSH EDI
0047844b : LEA EAX,[ESP + 0x10]
0047844f : PUSH EAX
00478450 : PUSH ESI
00478451 : CALL 0x00478000
00478456 : MOV EAX,dword ptr [EBP + 0xc]
00478459 : CMP EAX,dword ptr [EBP + 0x10]
0047845c : JNZ 0x00478440
0047845e : MOV dword ptr [EBX],EAX
00478460 : POP EDI
00478461 : MOV EAX,EBX
00478463 : POP EBX
00478464 : MOV ESP,EBP
00478466 : POP EBP
00478467 : RET 0xc
