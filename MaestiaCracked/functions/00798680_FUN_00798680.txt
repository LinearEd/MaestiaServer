PROGRAM  : Maestia.exe
FUNCTION : FUN_00798680
ENTRY    : 00798680
BODY     : [[00798680, 0079877d]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_00798680(undefined4 param_1,int *param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  int *in_ECX;
  int *piVar4;
  
  if ((in_ECX[0xba] != 1) && (*(char *)((int)in_ECX + 0x259) != '\0')) {
    _DAT_00da9adc = _DAT_00da9adc + 1;
    if (param_3 == 2) {
      param_3 = FUN_007f2d40();
    }
    if (param_3 != 0) {
      (**(code **)(*in_ECX + 0x140))();
      piVar4 = *(int **)in_ECX[0x62];
      if (piVar4 != (int *)in_ECX[0x62]) {
        do {
          piVar1 = (int *)piVar4[9];
          if (piVar1 != (int *)0x0) {
            iVar2 = (**(code **)(*piVar1 + 4))();
            if (iVar2 == 0xf) {
switchD_00798731_caseD_3:
              if ((piVar1[0x6f] == 0) || (piVar1[0x6f] == 1)) {
                (**(code **)(*param_2 + 0x10))(piVar1,param_1,0);
              }
            }
            else if (*(char *)((int)piVar1 + 0x71) != '\0') {
              iVar2 = param_3;
              if (param_3 == 2) {
                iVar2 = FUN_007f2d40();
              }
              if (iVar2 != 0) {
                uVar3 = (**(code **)(*piVar1 + 4))();
                switch(uVar3) {
                case 2:
                case 8:
                case 10:
                case 0x12:
                  (**(code **)(*piVar1 + 0x28))(param_1);
                  break;
                default:
                  goto switchD_00798731_caseD_3;
                case 9:
                  break;
                }
              }
            }
          }
          piVar4 = (int *)*piVar4;
        } while (piVar4 != (int *)in_ECX[0x62]);
      }
      return 1;
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00798680 : PUSH EBP
00798681 : MOV EBP,ESP
00798683 : PUSH EDI
00798684 : MOV EDI,ECX
00798686 : MOV EAX,0x1
0079868b : CMP dword ptr [EDI + 0x2e8],EAX
00798691 : JNZ 0x0079869a
00798693 : XOR AL,AL
00798695 : POP EDI
00798696 : POP EBP
00798697 : RET 0xc
0079869a : CMP byte ptr [EDI + 0x259],0x0
007986a1 : JZ 0x00798693
007986a3 : ADD dword ptr [0x00da9adc],EAX
007986a9 : CMP dword ptr [EBP + 0x10],0x2
007986ad : JNZ 0x007986c0
007986af : MOV EDX,dword ptr [EBP + 0x8]
007986b2 : LEA EAX,[EDI + 0x1ac]
007986b8 : CALL 0x007f2d40
007986bd : MOV dword ptr [EBP + 0x10],EAX
007986c0 : CMP dword ptr [EBP + 0x10],0x0
007986c4 : JZ 0x00798693
007986c6 : MOV EAX,dword ptr [EDI]
007986c8 : MOV EDX,dword ptr [EAX + 0x140]
007986ce : PUSH EBX
007986cf : MOV ECX,EDI
007986d1 : CALL EDX
007986d3 : MOV EAX,dword ptr [EDI + 0x188]
007986d9 : MOV EBX,dword ptr [EAX]
007986db : CMP EBX,EAX
007986dd : JZ 0x00798776
007986e3 : PUSH ESI
007986e4 : MOV ESI,dword ptr [EBX + 0x24]
007986e7 : TEST ESI,ESI
007986e9 : JZ 0x00798767
007986eb : MOV EAX,dword ptr [ESI]
007986ed : MOV EDX,dword ptr [EAX + 0x4]
007986f0 : MOV ECX,ESI
007986f2 : CALL EDX
007986f4 : CMP EAX,0xf
007986f7 : JZ 0x00798747
007986f9 : CMP byte ptr [ESI + 0x71],0x0
007986fd : JZ 0x00798767
007986ff : MOV EAX,dword ptr [EBP + 0x10]
00798702 : CMP EAX,0x2
00798705 : JNZ 0x00798715
00798707 : MOV EDX,dword ptr [EBP + 0x8]
0079870a : LEA EAX,[EDI + 0x1ac]
00798710 : CALL 0x007f2d40
00798715 : TEST EAX,EAX
00798717 : JZ 0x00798767
00798719 : MOV EAX,dword ptr [ESI]
0079871b : MOV EDX,dword ptr [EAX + 0x4]
0079871e : MOV ECX,ESI
00798720 : CALL EDX
00798722 : ADD EAX,-0x2
00798725 : CMP EAX,0x10
00798728 : JA 0x00798747
0079872a : MOVZX EAX,byte ptr [EAX + 0x79878c]
00798731 : JMP dword ptr [EAX*0x4 + 0x798780]
00798738 : MOV EDX,dword ptr [ESI]
0079873a : MOV EAX,dword ptr [EBP + 0x8]
0079873d : MOV EDX,dword ptr [EDX + 0x28]
00798740 : PUSH EAX
00798741 : MOV ECX,ESI
00798743 : CALL EDX
00798745 : JMP 0x00798767
00798747 : MOV EAX,dword ptr [ESI + 0x1bc]
0079874d : TEST EAX,EAX
0079874f : JZ 0x00798756
00798751 : CMP EAX,0x1
00798754 : JNZ 0x00798767
00798756 : MOV ECX,dword ptr [EBP + 0xc]
00798759 : MOV EDX,dword ptr [EBP + 0x8]
0079875c : MOV EAX,dword ptr [ECX]
0079875e : MOV EAX,dword ptr [EAX + 0x10]
00798761 : PUSH 0x0
00798763 : PUSH EDX
00798764 : PUSH ESI
00798765 : CALL EAX
00798767 : MOV EBX,dword ptr [EBX]
00798769 : CMP EBX,dword ptr [EDI + 0x188]
0079876f : JNZ 0x007986e4
00798775 : POP ESI
00798776 : POP EBX
00798777 : MOV AL,0x1
00798779 : POP EDI
0079877a : POP EBP
0079877b : RET 0xc
