PROGRAM  : Maestia.exe
FUNCTION : FUN_009ec670
ENTRY    : 009ec670
BODY     : [[009ec670, 009ec8dd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009ec670(uint param_1)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  DWORD DVar7;
  int in_ECX;
  int *piVar8;
  undefined1 local_34 [4];
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  uint local_18;
  char local_11;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2f4bb;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(uint *)(in_ECX + 0xdc) = param_1;
  uVar5 = FUN_009ea720(uVar4);
  local_11 = uVar5 < param_1;
  if ((bool)local_11) {
    iVar6 = FUN_009ea720(uVar4);
    iVar6 = param_1 - iVar6;
    DVar7 = timeGetTime();
  }
  else {
    iVar6 = FUN_009ea720(uVar4);
    iVar6 = iVar6 - param_1;
    DVar7 = timeGetTime();
    DVar7 = DVar7 - iVar6;
  }
  *(DWORD *)(in_ECX + 0xd8) = DVar7;
  local_18 = **(int **)(in_ECX + 0xc);
  if ((int *)local_18 != *(int **)(in_ECX + 0xc)) {
    do {
      if ((*(undefined4 **)(local_18 + 0x10))[2] == 0x12345668) {
        (**(code **)**(undefined4 **)(local_18 + 0x10))(param_1);
      }
      else {
        local_30 = 0;
        local_1c = 7;
        local_20 = 0;
        FUN_00406360(L"dangling pointer",0x10);
        local_8 = 0;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"AvaItemTypeIcon::BeginCoolDown",0x40d,local_34);
        }
        local_8 = 0xffffffff;
        if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_1c = 7;
        local_20 = 0;
        local_30 = 0;
      }
      FUN_00416210();
    } while (local_18 != *(uint *)(in_ECX + 0xc));
  }
  if (*(int *)(in_ECX + 0x18) == 2) {
    local_18 = 0;
    FUN_00841330(*(undefined4 *)(in_ECX + 0x1c),0x46,*(undefined4 *)(in_ECX + 0xd4),&local_18);
    uVar4 = local_18 + *(int *)(in_ECX + 0xd4);
    local_18 = ((int)uVar4 < 0) - 1 & uVar4;
  }
  else {
    local_18 = *(uint *)(in_ECX + 0xd4);
  }
  if (local_11 != '\0') {
    local_18 = local_18 + iVar6;
  }
  piVar8 = (int *)**(int **)(in_ECX + 0xbc);
  if (piVar8 != *(int **)(in_ECX + 0xbc)) {
    do {
      *(uint *)(piVar8[4] + 0xec) = local_18;
      FUN_009088d0(param_1);
      if (*(char *)((int)piVar8 + 0x15) == '\0') {
        piVar2 = (int *)piVar8[2];
        if (*(char *)((int)piVar2 + 0x15) == '\0') {
          cVar1 = *(char *)(*piVar2 + 0x15);
          piVar8 = piVar2;
          piVar2 = (int *)*piVar2;
          while (cVar1 == '\0') {
            cVar1 = *(char *)(*piVar2 + 0x15);
            piVar8 = piVar2;
            piVar2 = (int *)*piVar2;
          }
        }
        else {
          cVar1 = *(char *)(piVar8[1] + 0x15);
          piVar3 = (int *)piVar8[1];
          piVar2 = piVar8;
          while ((piVar8 = piVar3, cVar1 == '\0' && (piVar2 == (int *)piVar8[2]))) {
            cVar1 = *(char *)(piVar8[1] + 0x15);
            piVar3 = (int *)piVar8[1];
            piVar2 = piVar8;
          }
        }
      }
    } while (piVar8 != *(int **)(in_ECX + 0xbc));
  }
  piVar8 = (int *)**(int **)(in_ECX + 200);
  if (piVar8 != *(int **)(in_ECX + 200)) {
    do {
      *(uint *)(piVar8[4] + 0xec) = local_18;
      FUN_009088d0(param_1);
      if (*(char *)((int)piVar8 + 0x15) == '\0') {
        piVar2 = (int *)piVar8[2];
        if (*(char *)((int)piVar2 + 0x15) == '\0') {
          cVar1 = *(char *)(*piVar2 + 0x15);
          piVar8 = piVar2;
          piVar2 = (int *)*piVar2;
          while (cVar1 == '\0') {
            cVar1 = *(char *)(*piVar2 + 0x15);
            piVar8 = piVar2;
            piVar2 = (int *)*piVar2;
          }
        }
        else {
          cVar1 = *(char *)(piVar8[1] + 0x15);
          piVar3 = (int *)piVar8[1];
          piVar2 = piVar8;
          while ((piVar8 = piVar3, cVar1 == '\0' && (piVar2 == (int *)piVar8[2]))) {
            cVar1 = *(char *)(piVar8[1] + 0x15);
            piVar3 = (int *)piVar8[1];
            piVar2 = piVar8;
          }
        }
      }
    } while (piVar8 != *(int **)(in_ECX + 200));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
009ec670 : PUSH EBP
009ec671 : MOV EBP,ESP
009ec673 : PUSH -0x1
009ec675 : PUSH 0xb2f4bb
009ec67a : MOV EAX,FS:[0x0]
009ec680 : PUSH EAX
009ec681 : SUB ESP,0x24
009ec684 : PUSH EBX
009ec685 : PUSH ESI
009ec686 : PUSH EDI
009ec687 : MOV EAX,[0x00d66fa0]
009ec68c : XOR EAX,EBP
009ec68e : PUSH EAX
009ec68f : LEA EAX,[EBP + -0xc]
009ec692 : MOV FS:[0x0],EAX
009ec698 : MOV ESI,ECX
009ec69a : MOV EDI,dword ptr [EBP + 0x8]
009ec69d : MOV dword ptr [ESI + 0xdc],EDI
009ec6a3 : CALL 0x009ea720
009ec6a8 : CMP EAX,EDI
009ec6aa : SETC AL
009ec6ad : MOV byte ptr [EBP + -0xd],AL
009ec6b0 : TEST AL,AL
009ec6b2 : JZ 0x009ec6c5
009ec6b4 : CALL 0x009ea720
009ec6b9 : MOV EBX,EDI
009ec6bb : SUB EBX,EAX
009ec6bd : CALL dword ptr [0x00b85598]
009ec6c3 : JMP 0x009ec6d6
009ec6c5 : CALL 0x009ea720
009ec6ca : MOV EBX,EAX
009ec6cc : SUB EBX,EDI
009ec6ce : CALL dword ptr [0x00b85598]
009ec6d4 : SUB EAX,EBX
009ec6d6 : MOV ECX,dword ptr [ESI + 0xc]
009ec6d9 : MOV dword ptr [ESI + 0xd8],EAX
009ec6df : MOV EAX,dword ptr [ECX]
009ec6e1 : MOV dword ptr [EBP + -0x14],EAX
009ec6e4 : CMP EAX,ECX
009ec6e6 : JZ 0x009ec789
009ec6ec : MOV EDI,0x7
009ec6f1 : MOV ECX,dword ptr [EAX + 0x10]
009ec6f4 : CMP dword ptr [ECX + 0x8],0x12345668
009ec6fb : JNZ 0x009ec709
009ec6fd : MOV EAX,dword ptr [ECX]
009ec6ff : MOV EDX,dword ptr [EBP + 0x8]
009ec702 : MOV EAX,dword ptr [EAX]
009ec704 : PUSH EDX
009ec705 : CALL EAX
009ec707 : JMP 0x009ec775
009ec709 : XOR ECX,ECX
009ec70b : PUSH 0x10
009ec70d : MOV word ptr [EBP + -0x2c],CX
009ec711 : PUSH 0xc9ff8c
009ec716 : LEA ECX,[EBP + -0x30]
009ec719 : MOV dword ptr [EBP + -0x18],EDI
009ec71c : MOV dword ptr [EBP + -0x1c],0x0
009ec723 : CALL 0x00406360
009ec728 : MOV dword ptr [EBP + -0x4],0x0
009ec72f : MOV EDX,dword ptr [0x00da98e8]
009ec735 : MOV ECX,dword ptr [EDX]
009ec737 : TEST ECX,ECX
009ec739 : JZ 0x009ec750
009ec73b : MOV EAX,dword ptr [ECX]
009ec73d : MOV EAX,dword ptr [EAX + 0x14]
009ec740 : LEA EDX,[EBP + -0x30]
009ec743 : PUSH EDX
009ec744 : PUSH 0x40d
009ec749 : PUSH 0xca0130
009ec74e : CALL EAX
009ec750 : MOV dword ptr [EBP + -0x4],0xffffffff
009ec757 : CMP dword ptr [EBP + -0x18],0x8
009ec75b : JC 0x009ec765
009ec75d : MOV ECX,dword ptr [EBP + -0x2c]
009ec760 : CALL 0x006f04e0
009ec765 : XOR ECX,ECX
009ec767 : MOV dword ptr [EBP + -0x18],EDI
009ec76a : MOV dword ptr [EBP + -0x1c],0x0
009ec771 : MOV word ptr [EBP + -0x2c],CX
009ec775 : LEA EDX,[EBP + -0x14]
009ec778 : CALL 0x00416210
009ec77d : MOV EAX,dword ptr [EBP + -0x14]
009ec780 : CMP EAX,dword ptr [ESI + 0xc]
009ec783 : JNZ 0x009ec6f1
009ec789 : CMP dword ptr [ESI + 0x18],0x2
009ec78d : JNZ 0x009ec7cc
009ec78f : MOV EAX,dword ptr [ESI + 0xd4]
009ec795 : MOV ECX,dword ptr [ESI + 0x1c]
009ec798 : LEA EDX,[EBP + -0x14]
009ec79b : PUSH EDX
009ec79c : PUSH EAX
009ec79d : PUSH 0x46
009ec79f : PUSH ECX
009ec7a0 : MOV ECX,dword ptr [0x01724910]
009ec7a6 : MOV dword ptr [EBP + -0x14],0x0
009ec7ad : CALL 0x00841330
009ec7b2 : MOV EAX,dword ptr [EBP + -0x14]
009ec7b5 : MOV EDX,dword ptr [ESI + 0xd4]
009ec7bb : ADD EAX,EDX
009ec7bd : XOR ECX,ECX
009ec7bf : TEST EAX,EAX
009ec7c1 : SETL CL
009ec7c4 : DEC ECX
009ec7c5 : AND ECX,EAX
009ec7c7 : MOV dword ptr [EBP + -0x14],ECX
009ec7ca : JMP 0x009ec7d5
009ec7cc : MOV EDX,dword ptr [ESI + 0xd4]
009ec7d2 : MOV dword ptr [EBP + -0x14],EDX
009ec7d5 : CMP byte ptr [EBP + -0xd],0x0
009ec7d9 : JZ 0x009ec7de
009ec7db : ADD dword ptr [EBP + -0x14],EBX
009ec7de : MOV EAX,dword ptr [ESI + 0xbc]
009ec7e4 : MOV EDI,dword ptr [EAX]
009ec7e6 : CMP EDI,EAX
009ec7e8 : JZ 0x009ec852
009ec7ea : MOV EAX,dword ptr [EDI + 0x10]
009ec7ed : MOV ECX,dword ptr [EBP + -0x14]
009ec7f0 : MOV EBX,dword ptr [EBP + 0x8]
009ec7f3 : MOV dword ptr [EAX + 0xec],ECX
009ec7f9 : MOV EAX,dword ptr [ESI + 0xd8]
009ec7ff : MOV ECX,dword ptr [EDI + 0x10]
009ec802 : PUSH EBX
009ec803 : CALL 0x009088d0
009ec808 : CMP byte ptr [EDI + 0x15],0x0
009ec80c : JNZ 0x009ec848
009ec80e : MOV EAX,dword ptr [EDI + 0x8]
009ec811 : CMP byte ptr [EAX + 0x15],0x0
009ec815 : JNZ 0x009ec82d
009ec817 : MOV EDI,EAX
009ec819 : MOV EAX,dword ptr [EDI]
009ec81b : CMP byte ptr [EAX + 0x15],0x0
009ec81f : JNZ 0x009ec848
009ec821 : MOV EDI,EAX
009ec823 : MOV EAX,dword ptr [EDI]
009ec825 : CMP byte ptr [EAX + 0x15],0x0
009ec829 : JZ 0x009ec821
009ec82b : JMP 0x009ec848
009ec82d : MOV EAX,dword ptr [EDI + 0x4]
009ec830 : CMP byte ptr [EAX + 0x15],0x0
009ec834 : JNZ 0x009ec846
009ec836 : CMP EDI,dword ptr [EAX + 0x8]
009ec839 : JNZ 0x009ec846
009ec83b : MOV EDI,EAX
009ec83d : MOV EAX,dword ptr [EAX + 0x4]
009ec840 : CMP byte ptr [EAX + 0x15],0x0
009ec844 : JZ 0x009ec836
009ec846 : MOV EDI,EAX
009ec848 : CMP EDI,dword ptr [ESI + 0xbc]
009ec84e : JNZ 0x009ec7ea
009ec850 : JMP 0x009ec855
009ec852 : MOV EBX,dword ptr [EBP + 0x8]
009ec855 : MOV EAX,dword ptr [ESI + 0xc8]
009ec85b : MOV EDI,dword ptr [EAX]
009ec85d : CMP EDI,EAX
009ec85f : JZ 0x009ec8ca
009ec861 : MOV EDX,dword ptr [EDI + 0x10]
009ec864 : MOV EAX,dword ptr [EBP + -0x14]
009ec867 : MOV dword ptr [EDX + 0xec],EAX
009ec86d : MOV EAX,dword ptr [ESI + 0xd8]
009ec873 : MOV ECX,dword ptr [EDI + 0x10]
009ec876 : PUSH EBX
009ec877 : CALL 0x009088d0
009ec87c : CMP byte ptr [EDI + 0x15],0x0
009ec880 : JNZ 0x009ec8c2
009ec882 : MOV EAX,dword ptr [EDI + 0x8]
009ec885 : CMP byte ptr [EAX + 0x15],0x0
009ec889 : JNZ 0x009ec8a1
009ec88b : MOV EDI,EAX
009ec88d : MOV EAX,dword ptr [EDI]
009ec88f : CMP byte ptr [EAX + 0x15],0x0
009ec893 : JNZ 0x009ec8c2
009ec895 : MOV EDI,EAX
009ec897 : MOV EAX,dword ptr [EDI]
009ec899 : CMP byte ptr [EAX + 0x15],0x0
009ec89d : JZ 0x009ec895
009ec89f : JMP 0x009ec8c2
009ec8a1 : MOV EAX,dword ptr [EDI + 0x4]
009ec8a4 : CMP byte ptr [EAX + 0x15],0x0
009ec8a8 : JNZ 0x009ec8c0
009ec8aa : LEA EBX,[EBX]
009ec8b0 : CMP EDI,dword ptr [EAX + 0x8]
009ec8b3 : JNZ 0x009ec8c0
009ec8b5 : MOV EDI,EAX
009ec8b7 : MOV EAX,dword ptr [EAX + 0x4]
009ec8ba : CMP byte ptr [EAX + 0x15],0x0
009ec8be : JZ 0x009ec8b0
009ec8c0 : MOV EDI,EAX
009ec8c2 : CMP EDI,dword ptr [ESI + 0xc8]
009ec8c8 : JNZ 0x009ec861
009ec8ca : MOV ECX,dword ptr [EBP + -0xc]
009ec8cd : MOV dword ptr FS:[0x0],ECX
009ec8d4 : POP ECX
009ec8d5 : POP EDI
009ec8d6 : POP ESI
009ec8d7 : POP EBX
009ec8d8 : MOV ESP,EBP
009ec8da : POP EBP
009ec8db : RET 0x4
