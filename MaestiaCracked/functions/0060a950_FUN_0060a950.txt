PROGRAM  : Maestia.exe
FUNCTION : FUN_0060a950
ENTRY    : 0060a950
BODY     : [[0060a950, 0060aa6b]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0060a950(int param_1)

{
  uint *puVar1;
  undefined4 *in_ECX;
  undefined1 uVar2;
  uint uVar3;
  
  puVar1 = (uint *)*in_ECX;
  uVar3 = *puVar1 >> 0xc;
  uVar2 = (undefined1)(param_1 >> 4);
  if (param_1 + 0x800U < 0x1000) {
    if (puVar1[1] <= uVar3) {
      FUN_00609600(uVar3);
    }
    *(byte *)((*puVar1 & 0xfff) + *(int *)(puVar1[3] + uVar3 * 4)) = (char)param_1 << 4 | 2;
    *puVar1 = *puVar1 + 1;
    puVar1 = (uint *)*in_ECX;
    uVar3 = *puVar1 >> 0xc;
    if (puVar1[1] <= uVar3) {
      FUN_00609600(uVar3);
    }
    *(undefined1 *)((*puVar1 & 0xfff) + *(int *)(puVar1[3] + uVar3 * 4)) = uVar2;
    *puVar1 = *puVar1 + 1;
    return 2;
  }
  if (puVar1[1] <= uVar3) {
    FUN_00609600(uVar3);
  }
  *(byte *)((*puVar1 & 0xfff) + *(int *)(puVar1[3] + uVar3 * 4)) = (char)param_1 << 4 | 3;
  *puVar1 = *puVar1 + 1;
  puVar1 = (uint *)*in_ECX;
  uVar3 = *puVar1 >> 0xc;
  if (puVar1[1] <= uVar3) {
    FUN_00609600(uVar3);
  }
  *(undefined1 *)((*puVar1 & 0xfff) + *(int *)(puVar1[3] + uVar3 * 4)) = uVar2;
  *puVar1 = *puVar1 + 1;
  puVar1 = (uint *)*in_ECX;
  uVar3 = *puVar1 >> 0xc;
  if (puVar1[1] <= uVar3) {
    FUN_00609600(uVar3);
  }
  *(char *)((*puVar1 & 0xfff) + *(int *)(puVar1[3] + uVar3 * 4)) = (char)(param_1 >> 0xc);
  *puVar1 = *puVar1 + 1;
  return 3;
}



============================================================
DISASSEMBLY
============================================================
0060a950 : PUSH EBX
0060a951 : MOV EBX,dword ptr [ESP + 0x8]
0060a955 : PUSH EBP
0060a956 : PUSH ESI
0060a957 : MOV EBP,ECX
0060a959 : MOV ESI,dword ptr [EBP]
0060a95c : PUSH EDI
0060a95d : MOV EDI,dword ptr [ESI]
0060a95f : LEA EAX,[EBX + 0x800]
0060a965 : SHR EDI,0xc
0060a968 : CMP EAX,0xfff
0060a96d : MOV AL,BL
0060a96f : JA 0x0060a9d4
0060a971 : SHL AL,0x4
0060a974 : OR AL,0x2
0060a976 : MOV byte ptr [ESP + 0x14],AL
0060a97a : CMP EDI,dword ptr [ESI + 0x4]
0060a97d : JC 0x0060a98b
0060a97f : PUSH EDI
0060a980 : MOV ECX,ESI
0060a982 : CALL 0x00609600
0060a987 : MOV AL,byte ptr [ESP + 0x14]
0060a98b : MOV EDX,dword ptr [ESI]
0060a98d : MOV ECX,dword ptr [ESI + 0xc]
0060a990 : MOV ECX,dword ptr [ECX + EDI*0x4]
0060a993 : AND EDX,0xfff
0060a999 : MOV byte ptr [EDX + ECX*0x1],AL
0060a99c : INC dword ptr [ESI]
0060a99e : MOV ESI,dword ptr [EBP]
0060a9a1 : MOV EDI,dword ptr [ESI]
0060a9a3 : SHR EDI,0xc
0060a9a6 : SAR EBX,0x4
0060a9a9 : CMP EDI,dword ptr [ESI + 0x4]
0060a9ac : JC 0x0060a9b6
0060a9ae : PUSH EDI
0060a9af : MOV ECX,ESI
0060a9b1 : CALL 0x00609600
0060a9b6 : MOV EDX,dword ptr [ESI + 0xc]
0060a9b9 : MOV EAX,dword ptr [ESI]
0060a9bb : MOV ECX,dword ptr [EDX + EDI*0x4]
0060a9be : AND EAX,0xfff
0060a9c3 : MOV byte ptr [EAX + ECX*0x1],BL
0060a9c6 : INC dword ptr [ESI]
0060a9c8 : POP EDI
0060a9c9 : POP ESI
0060a9ca : POP EBP
0060a9cb : MOV EAX,0x2
0060a9d0 : POP EBX
0060a9d1 : RET 0x4
0060a9d4 : SHL AL,0x4
0060a9d7 : OR AL,0x3
0060a9d9 : MOV byte ptr [ESP + 0x14],AL
0060a9dd : CMP EDI,dword ptr [ESI + 0x4]
0060a9e0 : JC 0x0060a9ee
0060a9e2 : PUSH EDI
0060a9e3 : MOV ECX,ESI
0060a9e5 : CALL 0x00609600
0060a9ea : MOV AL,byte ptr [ESP + 0x14]
0060a9ee : MOV ECX,dword ptr [ESI]
0060a9f0 : MOV EDX,dword ptr [ESI + 0xc]
0060a9f3 : MOV EDX,dword ptr [EDX + EDI*0x4]
0060a9f6 : AND ECX,0xfff
0060a9fc : MOV byte ptr [ECX + EDX*0x1],AL
0060a9ff : INC dword ptr [ESI]
0060aa01 : MOV ESI,dword ptr [EBP]
0060aa04 : MOV EDI,dword ptr [ESI]
0060aa06 : MOV EAX,EBX
0060aa08 : SAR EAX,0x4
0060aa0b : SHR EDI,0xc
0060aa0e : MOV byte ptr [ESP + 0x14],AL
0060aa12 : CMP EDI,dword ptr [ESI + 0x4]
0060aa15 : JC 0x0060aa23
0060aa17 : PUSH EDI
0060aa18 : MOV ECX,ESI
0060aa1a : CALL 0x00609600
0060aa1f : MOV AL,byte ptr [ESP + 0x14]
0060aa23 : MOV EDX,dword ptr [ESI]
0060aa25 : MOV ECX,dword ptr [ESI + 0xc]
0060aa28 : MOV ECX,dword ptr [ECX + EDI*0x4]
0060aa2b : AND EDX,0xfff
0060aa31 : MOV byte ptr [EDX + ECX*0x1],AL
0060aa34 : INC dword ptr [ESI]
0060aa36 : MOV ESI,dword ptr [EBP]
0060aa39 : MOV EDI,dword ptr [ESI]
0060aa3b : SHR EDI,0xc
0060aa3e : SAR EBX,0xc
0060aa41 : CMP EDI,dword ptr [ESI + 0x4]
0060aa44 : JC 0x0060aa4e
0060aa46 : PUSH EDI
0060aa47 : MOV ECX,ESI
0060aa49 : CALL 0x00609600
0060aa4e : MOV EDX,dword ptr [ESI + 0xc]
0060aa51 : MOV EAX,dword ptr [ESI]
0060aa53 : MOV ECX,dword ptr [EDX + EDI*0x4]
0060aa56 : AND EAX,0xfff
0060aa5b : MOV byte ptr [EAX + ECX*0x1],BL
0060aa5e : INC dword ptr [ESI]
0060aa60 : POP EDI
0060aa61 : POP ESI
0060aa62 : POP EBP
0060aa63 : MOV EAX,0x3
0060aa68 : POP EBX
0060aa69 : RET 0x4
