PROGRAM  : Maestia.exe
FUNCTION : FUN_00797aa0
ENTRY    : 00797aa0
BODY     : [[00797aa0, 00797b98] [00797ba0, 00797c1e]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00797b67) */

void FUN_00797aa0(int param_1,undefined4 param_2,int param_3)

{
  undefined4 *puVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  uint uVar5;
  int *local_c;
  int local_8;
  
  iVar3 = FUN_00405bb0(&DAT_00c156f4);
  if (((iVar3 != 0) && (*(int *)(param_1 + 0x2e8) != 0)) &&
     (local_8 = **(int **)(param_1 + 0x2e4), (int *)local_8 != *(int **)(param_1 + 0x2e4))) {
    do {
      piVar4 = (int *)FUN_007cecc0();
      local_c = piVar4;
      if (piVar4 != (int *)0x0) {
        (**(code **)(*piVar4 + 0x14))(*(undefined4 *)(local_8 + 0xc));
        iVar3 = *(int *)(param_1 + 0x2fc);
        if (iVar3 == 0) {
          uVar5 = 0;
        }
        else {
          uVar5 = *(int *)(param_1 + 0x304) - iVar3 >> 2;
        }
        puVar1 = *(undefined4 **)(param_1 + 0x300);
        if ((uint)((int)puVar1 - iVar3 >> 2) < uVar5) {
          *puVar1 = piVar4;
          *(undefined4 **)(param_1 + 0x300) = puVar1 + 1;
        }
        else {
          FUN_0042fe80(param_1 + 0x2f8,puVar1,&local_c);
        }
      }
      FUN_0045d060();
    } while (local_8 != *(int *)(param_1 + 0x2e4));
  }
  if ((*(int *)(param_3 + 0x14) != 0) && (*(int *)(param_1 + 0x2f4) != 0)) {
    piVar4 = *(int **)(param_1 + 0x2f0);
    piVar2 = (int *)*piVar4;
    while (piVar2 != piVar4) {
      piVar4 = (int *)FUN_007cecc0();
      local_c = piVar4;
      if (piVar4 != (int *)0x0) {
        (**(code **)(*piVar4 + 0x14))(piVar2[3]);
        iVar3 = *(int *)(param_1 + 0x30c);
        if (iVar3 == 0) {
          uVar5 = 0;
        }
        else {
          uVar5 = *(int *)(param_1 + 0x314) - iVar3 >> 2;
        }
        puVar1 = *(undefined4 **)(param_1 + 0x310);
        if ((uint)((int)puVar1 - iVar3 >> 2) < uVar5) {
          *puVar1 = piVar4;
          *(undefined4 **)(param_1 + 0x310) = puVar1 + 1;
        }
        else {
          FUN_0042fe80(param_1 + 0x308,puVar1,&local_c);
        }
      }
      FUN_0045d060();
      piVar4 = *(int **)(param_1 + 0x2f0);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00797aa0 : PUSH EBP
00797aa1 : MOV EBP,ESP
00797aa3 : SUB ESP,0x8
00797aa6 : PUSH EBX
00797aa7 : MOV EBX,dword ptr [EBP + 0x8]
00797aaa : PUSH ESI
00797aab : MOV ESI,dword ptr [EBP + 0xc]
00797aae : MOV EAX,dword ptr [ESI + 0x14]
00797ab1 : PUSH EDI
00797ab2 : PUSH 0xc156f4
00797ab7 : XOR EDI,EDI
00797ab9 : MOV ECX,ESI
00797abb : CALL 0x00405bb0
00797ac0 : TEST EAX,EAX
00797ac2 : JZ 0x00797b5d
00797ac8 : CMP dword ptr [EBX + 0x2e8],EDI
00797ace : JZ 0x00797b5d
00797ad4 : MOV EAX,dword ptr [EBX + 0x2e4]
00797ada : MOV ECX,dword ptr [EAX]
00797adc : MOV dword ptr [EBP + -0x4],ECX
00797adf : CMP ECX,EAX
00797ae1 : JZ 0x00797b5d
00797ae3 : JMP 0x00797ae8
00797ae5 : MOV ESI,dword ptr [EBP + 0xc]
00797ae8 : MOV EDI,ESI
00797aea : CALL 0x007cecc0
00797aef : MOV ESI,EAX
00797af1 : MOV dword ptr [EBP + -0x8],ESI
00797af4 : TEST ESI,ESI
00797af6 : JZ 0x00797b4a
00797af8 : MOV ECX,dword ptr [EBP + -0x4]
00797afb : MOV EDX,dword ptr [ECX + 0xc]
00797afe : MOV EAX,dword ptr [ESI]
00797b00 : MOV EAX,dword ptr [EAX + 0x14]
00797b03 : PUSH EDX
00797b04 : MOV ECX,ESI
00797b06 : CALL EAX
00797b08 : MOV EDX,dword ptr [EBX + 0x2fc]
00797b0e : LEA EAX,[EBX + 0x2f8]
00797b14 : TEST EDX,EDX
00797b16 : JNZ 0x00797b1c
00797b18 : XOR ECX,ECX
00797b1a : JMP 0x00797b24
00797b1c : MOV ECX,dword ptr [EAX + 0xc]
00797b1f : SUB ECX,EDX
00797b21 : SAR ECX,0x2
00797b24 : MOV EDI,dword ptr [EAX + 0x8]
00797b27 : MOV EBX,EDI
00797b29 : SUB EBX,EDX
00797b2b : SAR EBX,0x2
00797b2e : CMP EBX,ECX
00797b30 : JNC 0x00797b3c
00797b32 : MOV dword ptr [EDI],ESI
00797b34 : ADD EDI,0x4
00797b37 : MOV dword ptr [EAX + 0x8],EDI
00797b3a : JMP 0x00797b47
00797b3c : LEA ECX,[EBP + -0x8]
00797b3f : PUSH ECX
00797b40 : PUSH EDI
00797b41 : PUSH EAX
00797b42 : CALL 0x0042fe80
00797b47 : MOV EBX,dword ptr [EBP + 0x8]
00797b4a : LEA EDX,[EBP + -0x4]
00797b4d : CALL 0x0045d060
00797b52 : MOV EDX,dword ptr [EBP + -0x4]
00797b55 : CMP EDX,dword ptr [EBX + 0x2e4]
00797b5b : JNZ 0x00797ae5
00797b5d : MOV EDI,dword ptr [EBP + 0x10]
00797b60 : MOV EAX,dword ptr [EDI + 0x14]
00797b63 : MOV ECX,EAX
00797b65 : CMP ECX,EAX
00797b67 : CMOVC EAX,ECX
00797b6a : XOR ECX,ECX
00797b6c : TEST EAX,EAX
00797b6e : SETNZ CL
00797b71 : MOV EAX,ECX
00797b73 : TEST EAX,EAX
00797b75 : JZ 0x00797c16
00797b7b : CMP dword ptr [EBX + 0x2f4],0x0
00797b82 : JZ 0x00797c16
00797b88 : MOV EAX,dword ptr [EBX + 0x2f0]
00797b8e : MOV ECX,dword ptr [EAX]
00797b90 : MOV dword ptr [EBP + 0xc],ECX
00797b93 : CMP ECX,EAX
00797b95 : JZ 0x00797c16
00797b97 : JMP 0x00797ba3
00797ba0 : MOV EDI,dword ptr [EBP + 0x10]
00797ba3 : CALL 0x007cecc0
00797ba8 : MOV ESI,EAX
00797baa : MOV dword ptr [EBP + -0x8],ESI
00797bad : TEST ESI,ESI
00797baf : JZ 0x00797c03
00797bb1 : MOV EAX,dword ptr [EBP + 0xc]
00797bb4 : MOV ECX,dword ptr [EAX + 0xc]
00797bb7 : MOV EDX,dword ptr [ESI]
00797bb9 : MOV EDX,dword ptr [EDX + 0x14]
00797bbc : PUSH ECX
00797bbd : MOV ECX,ESI
00797bbf : CALL EDX
00797bc1 : MOV EDX,dword ptr [EBX + 0x30c]
00797bc7 : LEA EAX,[EBX + 0x308]
00797bcd : TEST EDX,EDX
00797bcf : JNZ 0x00797bd5
00797bd1 : XOR ECX,ECX
00797bd3 : JMP 0x00797bdd
00797bd5 : MOV ECX,dword ptr [EAX + 0xc]
00797bd8 : SUB ECX,EDX
00797bda : SAR ECX,0x2
00797bdd : MOV EDI,dword ptr [EAX + 0x8]
00797be0 : MOV EBX,EDI
00797be2 : SUB EBX,EDX
00797be4 : SAR EBX,0x2
00797be7 : CMP EBX,ECX
00797be9 : JNC 0x00797bf5
00797beb : MOV dword ptr [EDI],ESI
00797bed : ADD EDI,0x4
00797bf0 : MOV dword ptr [EAX + 0x8],EDI
00797bf3 : JMP 0x00797c00
00797bf5 : LEA ECX,[EBP + -0x8]
00797bf8 : PUSH ECX
00797bf9 : PUSH EDI
00797bfa : PUSH EAX
00797bfb : CALL 0x0042fe80
00797c00 : MOV EBX,dword ptr [EBP + 0x8]
00797c03 : LEA EDX,[EBP + 0xc]
00797c06 : CALL 0x0045d060
00797c0b : MOV EDX,dword ptr [EBP + 0xc]
00797c0e : CMP EDX,dword ptr [EBX + 0x2f0]
00797c14 : JNZ 0x00797ba0
00797c16 : POP EDI
00797c17 : POP ESI
00797c18 : POP EBX
00797c19 : MOV ESP,EBP
00797c1b : POP EBP
00797c1c : RET 0xc
