PROGRAM  : Maestia.exe
FUNCTION : FUN_0090bf30
ENTRY    : 0090bf30
BODY     : [[0090bf30, 0090c133]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0090bf30(undefined4 param_1)

{
  uint uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 in_ECX;
  int iVar4;
  undefined1 local_60 [4];
  int local_5c;
  int local_58;
  undefined1 local_50 [4];
  undefined2 local_4c;
  undefined4 local_3c;
  uint local_38;
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b6b21e;
  local_14 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffff88;
  ExceptionList = &local_14;
  local_38 = 7;
  local_3c = 0;
  local_4c = 0;
  FUN_00406360(&DAT_00c64d34,1);
  local_c = 0;
  uVar2 = FUN_00404350(param_1,uVar1);
  local_c._0_1_ = 1;
  FUN_0070cd60(local_60,uVar2,local_50,0);
  local_c = CONCAT31(local_c._1_3_,3);
  if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_1c = 7;
  local_20 = 0;
  local_30 = 0;
  local_c = CONCAT31(local_c._1_3_,4);
  if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_4c = 0;
  iVar4 = local_58 - local_5c >> 0x1f;
  local_38 = 7;
  local_3c = 0;
  if ((local_58 - local_5c) / 0x1c + iVar4 != iVar4) {
    if (*(uint *)(local_5c + 0x18) < 8) {
      iVar4 = local_5c + 4;
    }
    else {
      iVar4 = *(int *)(local_5c + 4);
    }
    uVar2 = FUN_00634f4d(iVar4);
    if ((uint)((local_58 - local_5c) / 0x1c) < 2) {
      uVar3 = 0;
    }
    else if (*(uint *)(local_5c + 0x34) < 8) {
      uVar3 = FUN_00634f4d(local_5c + 0x20);
    }
    else {
      uVar3 = FUN_00634f4d(*(undefined4 *)(local_5c + 0x20));
    }
    iVar4 = DAT_0172489c;
    *(undefined4 *)(DAT_0172489c + 4) = 0x2000;
    *(undefined4 *)(iVar4 + 8) = 0xc;
    *(undefined4 *)(iVar4 + 0x1c) = 0xffffff;
    *(undefined4 *)(iVar4 + 0x10) = 0;
    *(undefined4 *)(iVar4 + 0x14) = 0;
    *(undefined4 *)(iVar4 + 0x18) = 300;
    *(undefined1 *)(iVar4 + 1) = 0;
    *(undefined4 *)(iVar4 + 0x20) = 0;
    *(undefined4 *)(iVar4 + 0xc) = 0;
    *(undefined1 *)(iVar4 + 2) = 0;
    *(undefined1 *)(iVar4 + 0x30) = 1;
    *(undefined4 *)(iVar4 + 0x2c) = 0xffffffff;
    FUN_00993700(in_ECX,uVar2,uVar3);
  }
  if (local_5c == 0) {
    ExceptionList = local_14;
    return;
  }
  local_c = 0xffffffff;
  FUN_00405450(in_ECX);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0090bf30 : PUSH EBP
0090bf31 : MOV EBP,ESP
0090bf33 : AND ESP,0xfffffff8
0090bf36 : PUSH -0x1
0090bf38 : PUSH 0xb6b21e
0090bf3d : MOV EAX,FS:[0x0]
0090bf43 : PUSH EAX
0090bf44 : SUB ESP,0x58
0090bf47 : PUSH EBX
0090bf48 : PUSH ESI
0090bf49 : PUSH EDI
0090bf4a : MOV EAX,[0x00d66fa0]
0090bf4f : XOR EAX,ESP
0090bf51 : PUSH EAX
0090bf52 : LEA EAX,[ESP + 0x68]
0090bf56 : MOV FS:[0x0],EAX
0090bf5c : MOV dword ptr [ESP + 0x18],ECX
0090bf60 : PUSH 0x1
0090bf62 : XOR EAX,EAX
0090bf64 : MOV EDI,0x7
0090bf69 : XOR EBX,EBX
0090bf6b : PUSH 0xc64d34
0090bf70 : LEA ECX,[ESP + 0x34]
0090bf74 : MOV dword ptr [ESP + 0x4c],EDI
0090bf78 : MOV dword ptr [ESP + 0x48],EBX
0090bf7c : MOV word ptr [ESP + 0x38],AX
0090bf81 : CALL 0x00406360
0090bf86 : MOV dword ptr [ESP + 0x70],EBX
0090bf8a : MOV ECX,dword ptr [EBP + 0x8]
0090bf8d : PUSH ECX
0090bf8e : LEA ESI,[ESP + 0x4c]
0090bf92 : CALL 0x00404350
0090bf97 : ADD ESP,0x4
0090bf9a : MOV byte ptr [ESP + 0x70],0x1
0090bf9f : PUSH EBX
0090bfa0 : LEA EDX,[ESP + 0x30]
0090bfa4 : PUSH EDX
0090bfa5 : PUSH EAX
0090bfa6 : LEA EAX,[ESP + 0x28]
0090bfaa : PUSH EAX
0090bfab : CALL 0x0070cd60
0090bfb0 : ADD ESP,0x10
0090bfb3 : MOV byte ptr [ESP + 0x70],0x3
0090bfb8 : MOV ESI,0x8
0090bfbd : CMP dword ptr [ESP + 0x60],ESI
0090bfc1 : JC 0x0090bfcc
0090bfc3 : MOV ECX,dword ptr [ESP + 0x4c]
0090bfc7 : CALL 0x006f04e0
0090bfcc : XOR ECX,ECX
0090bfce : MOV dword ptr [ESP + 0x60],EDI
0090bfd2 : MOV dword ptr [ESP + 0x5c],EBX
0090bfd6 : MOV word ptr [ESP + 0x4c],CX
0090bfdb : MOV byte ptr [ESP + 0x70],0x4
0090bfe0 : CMP dword ptr [ESP + 0x44],ESI
0090bfe4 : JC 0x0090bfef
0090bfe6 : MOV ECX,dword ptr [ESP + 0x30]
0090bfea : CALL 0x006f04e0
0090bfef : MOV ECX,dword ptr [ESP + 0x24]
0090bff3 : MOV ESI,dword ptr [ESP + 0x20]
0090bff7 : XOR EDX,EDX
0090bff9 : SUB ECX,ESI
0090bffb : MOV word ptr [ESP + 0x30],DX
0090c000 : MOV EAX,0x92492493
0090c005 : IMUL ECX
0090c007 : ADD EDX,ECX
0090c009 : SAR EDX,0x4
0090c00c : MOV EAX,EDX
0090c00e : SHR EAX,0x1f
0090c011 : ADD EAX,EDX
0090c013 : MOV dword ptr [ESP + 0x44],EDI
0090c017 : MOV dword ptr [ESP + 0x40],EBX
0090c01b : MOV dword ptr [ESP + 0x14],EBX
0090c01f : JNZ 0x0090c03f
0090c021 : MOV dword ptr [ESP + 0x70],0xffffffff
0090c029 : MOV EAX,dword ptr [ESP + 0x20]
0090c02d : CMP EAX,EBX
0090c02f : JZ 0x0090c113
0090c035 : MOV ECX,dword ptr [ESP + 0x18]
0090c039 : PUSH ECX
0090c03a : JMP 0x0090c0fe
0090c03f : CMP dword ptr [ESI + 0x18],0x8
0090c043 : JC 0x0090c04a
0090c045 : MOV ESI,dword ptr [ESI + 0x4]
0090c048 : JMP 0x0090c04d
0090c04a : ADD ESI,0x4
0090c04d : PUSH ESI
0090c04e : CALL 0x00634f4d
0090c053 : MOV ECX,dword ptr [ESP + 0x28]
0090c057 : MOV ESI,dword ptr [ESP + 0x24]
0090c05b : MOV EDI,EAX
0090c05d : SUB ECX,ESI
0090c05f : MOV EAX,0x92492493
0090c064 : IMUL ECX
0090c066 : ADD EDX,ECX
0090c068 : SAR EDX,0x4
0090c06b : MOV EAX,EDX
0090c06d : SHR EAX,0x1f
0090c070 : ADD EAX,EDX
0090c072 : ADD ESP,0x4
0090c075 : CMP EAX,0x1
0090c078 : JBE 0x0090c0a0
0090c07a : CMP dword ptr [ESI + 0x34],0x8
0090c07e : JC 0x0090c090
0090c080 : MOV ESI,dword ptr [ESI + 0x20]
0090c083 : PUSH ESI
0090c084 : CALL 0x00634f4d
0090c089 : ADD ESP,0x4
0090c08c : MOV ECX,EAX
0090c08e : JMP 0x0090c0a4
0090c090 : ADD ESI,0x20
0090c093 : PUSH ESI
0090c094 : CALL 0x00634f4d
0090c099 : ADD ESP,0x4
0090c09c : MOV ECX,EAX
0090c09e : JMP 0x0090c0a4
0090c0a0 : MOV ECX,dword ptr [ESP + 0x14]
0090c0a4 : MOV EAX,[0x0172489c]
0090c0a9 : PUSH ECX
0090c0aa : MOV ECX,dword ptr [ESP + 0x1c]
0090c0ae : PUSH EDI
0090c0af : OR ESI,0xffffffff
0090c0b2 : PUSH ECX
0090c0b3 : MOV dword ptr [EAX + 0x4],0x2000
0090c0ba : MOV dword ptr [EAX + 0x8],0xc
0090c0c1 : MOV dword ptr [EAX + 0x1c],0xffffff
0090c0c8 : MOV dword ptr [EAX + 0x10],EBX
0090c0cb : MOV dword ptr [EAX + 0x14],EBX
0090c0ce : MOV dword ptr [EAX + 0x18],0x12c
0090c0d5 : MOV byte ptr [EAX + 0x1],BL
0090c0d8 : MOV dword ptr [EAX + 0x20],EBX
0090c0db : MOV dword ptr [EAX + 0xc],EBX
0090c0de : MOV byte ptr [EAX + 0x2],BL
0090c0e1 : MOV byte ptr [EAX + 0x30],0x1
0090c0e5 : MOV dword ptr [EAX + 0x2c],ESI
0090c0e8 : CALL 0x00993700
0090c0ed : MOV dword ptr [ESP + 0x70],ESI
0090c0f1 : MOV EAX,dword ptr [ESP + 0x20]
0090c0f5 : CMP EAX,EBX
0090c0f7 : JZ 0x0090c113
0090c0f9 : MOV EDX,dword ptr [ESP + 0x18]
0090c0fd : PUSH EDX
0090c0fe : MOV EDI,dword ptr [ESP + 0x28]
0090c102 : CALL 0x00405450
0090c107 : MOV ECX,dword ptr [ESP + 0x24]
0090c10b : ADD ESP,0x4
0090c10e : CALL 0x006f04e0
0090c113 : MOV dword ptr [ESP + 0x28],EBX
0090c117 : MOV dword ptr [ESP + 0x24],EBX
0090c11b : MOV dword ptr [ESP + 0x20],EBX
0090c11f : MOV ECX,dword ptr [ESP + 0x68]
0090c123 : MOV dword ptr FS:[0x0],ECX
0090c12a : POP ECX
0090c12b : POP EDI
0090c12c : POP ESI
0090c12d : POP EBX
0090c12e : MOV ESP,EBP
0090c130 : POP EBP
0090c131 : RET 0x4
