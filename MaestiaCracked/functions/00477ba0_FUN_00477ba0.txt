PROGRAM  : Maestia.exe
FUNCTION : FUN_00477ba0
ENTRY    : 00477ba0
BODY     : [[00477ba0, 00477c0c] [00477c10, 00477c5b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00477ba0(int *param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int unaff_ESI;
  undefined4 *unaff_EDI;
  
  piVar2 = *(int **)(unaff_ESI + 4);
  if ((param_1 == (int *)*piVar2) && (param_2 == piVar2)) {
    FUN_00477760(piVar2[1]);
    *(int *)(*(int *)(unaff_ESI + 4) + 4) = *(int *)(unaff_ESI + 4);
    *(undefined4 *)(unaff_ESI + 8) = 0;
    *(undefined4 *)*(undefined4 *)(unaff_ESI + 4) = *(undefined4 *)(unaff_ESI + 4);
    *(int *)(*(int *)(unaff_ESI + 4) + 8) = *(int *)(unaff_ESI + 4);
    *unaff_EDI = **(undefined4 **)(unaff_ESI + 4);
    return;
  }
  while (param_1 != param_2) {
    if (*(char *)((int)param_1 + 0x25) == '\0') {
      piVar2 = (int *)param_1[2];
      if (*(char *)((int)piVar2 + 0x25) == '\0') {
        cVar1 = *(char *)(*piVar2 + 0x25);
        param_1 = piVar2;
        piVar2 = (int *)*piVar2;
        while (cVar1 == '\0') {
          cVar1 = *(char *)(*piVar2 + 0x25);
          param_1 = piVar2;
          piVar2 = (int *)*piVar2;
        }
      }
      else {
        cVar1 = *(char *)(param_1[1] + 0x25);
        piVar3 = (int *)param_1[1];
        piVar2 = param_1;
        while ((param_1 = piVar3, cVar1 == '\0' && (piVar2 == (int *)param_1[2]))) {
          cVar1 = *(char *)(param_1[1] + 0x25);
          piVar3 = (int *)param_1[1];
          piVar2 = param_1;
        }
      }
    }
    FUN_00477880();
  }
  *unaff_EDI = param_1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00477ba0 : PUSH EBP
00477ba1 : MOV EBP,ESP
00477ba3 : AND ESP,0xfffffff8
00477ba6 : MOV EAX,dword ptr [ESI + 0x4]
00477ba9 : MOV ECX,dword ptr [EBP + 0x8]
00477bac : MOV EDX,dword ptr [EBP + 0xc]
00477baf : SUB ESP,0x8
00477bb2 : CMP ECX,dword ptr [EAX]
00477bb4 : JNZ 0x00477bec
00477bb6 : CMP EDX,EAX
00477bb8 : JNZ 0x00477bec
00477bba : MOV EAX,dword ptr [EAX + 0x4]
00477bbd : PUSH EAX
00477bbe : MOV ECX,ESI
00477bc0 : CALL 0x00477760
00477bc5 : MOV EAX,dword ptr [ESI + 0x4]
00477bc8 : MOV dword ptr [EAX + 0x4],EAX
00477bcb : MOV EAX,dword ptr [ESI + 0x4]
00477bce : MOV dword ptr [ESI + 0x8],0x0
00477bd5 : MOV dword ptr [EAX],EAX
00477bd7 : MOV EAX,dword ptr [ESI + 0x4]
00477bda : MOV dword ptr [EAX + 0x8],EAX
00477bdd : MOV ECX,dword ptr [ESI + 0x4]
00477be0 : MOV EDX,dword ptr [ECX]
00477be2 : MOV dword ptr [EDI],EDX
00477be4 : MOV EAX,EDI
00477be6 : MOV ESP,EBP
00477be8 : POP EBP
00477be9 : RET 0x8
00477bec : CMP ECX,EDX
00477bee : JZ 0x00477c52
00477bf0 : CMP byte ptr [ECX + 0x25],0x0
00477bf4 : MOV EDX,ECX
00477bf6 : JNZ 0x00477c3e
00477bf8 : MOV EAX,dword ptr [ECX + 0x8]
00477bfb : CMP byte ptr [EAX + 0x25],0x0
00477bff : JNZ 0x00477c1f
00477c01 : MOV ECX,EAX
00477c03 : MOV EAX,dword ptr [ECX]
00477c05 : CMP byte ptr [EAX + 0x25],0x0
00477c09 : JNZ 0x00477c1a
00477c0b : JMP 0x00477c10
00477c10 : MOV ECX,EAX
00477c12 : MOV EAX,dword ptr [ECX]
00477c14 : CMP byte ptr [EAX + 0x25],0x0
00477c18 : JZ 0x00477c10
00477c1a : MOV dword ptr [EBP + 0x8],ECX
00477c1d : JMP 0x00477c3e
00477c1f : MOV EAX,dword ptr [ECX + 0x4]
00477c22 : CMP byte ptr [EAX + 0x25],0x0
00477c26 : JNZ 0x00477c3b
00477c28 : CMP ECX,dword ptr [EAX + 0x8]
00477c2b : JNZ 0x00477c3b
00477c2d : MOV ECX,EAX
00477c2f : MOV dword ptr [EBP + 0x8],ECX
00477c32 : MOV EAX,dword ptr [EAX + 0x4]
00477c35 : CMP byte ptr [EAX + 0x25],0x0
00477c39 : JZ 0x00477c28
00477c3b : MOV dword ptr [EBP + 0x8],EAX
00477c3e : PUSH EDX
00477c3f : LEA EAX,[ESP + 0x8]
00477c43 : PUSH EAX
00477c44 : PUSH ESI
00477c45 : CALL 0x00477880
00477c4a : MOV ECX,dword ptr [EBP + 0x8]
00477c4d : CMP ECX,dword ptr [EBP + 0xc]
00477c50 : JNZ 0x00477bf0
00477c52 : MOV dword ptr [EDI],ECX
00477c54 : MOV EAX,EDI
00477c56 : MOV ESP,EBP
00477c58 : POP EBP
00477c59 : RET 0x8
