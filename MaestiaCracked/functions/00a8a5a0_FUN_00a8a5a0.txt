PROGRAM  : Maestia.exe
FUNCTION : FUN_00a8a5a0
ENTRY    : 00a8a5a0
BODY     : [[00a8a5a0, 00a8a5da] [00a8a5de, 00a8a66d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a8a5a0(void)

{
  uint uVar1;
  int *in_ECX;
  undefined1 local_2c [4];
  undefined2 local_28;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4562b;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(in_ECX[0xf] + 0x10) != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *(undefined4 *)(in_ECX[0xf] + 0xc) = 5;
  *(undefined4 *)(in_ECX[0xf] + 8) = 2;
  FUN_00908190(uVar1);
  local_14 = 7;
  local_18 = 0;
  local_28 = 0;
  FUN_00406360(L"StorageSmall",0xc);
  local_8 = 0;
  FUN_00405eb0(local_2c,0,0xffffffff);
  local_8 = 0xffffffff;
  if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_28 = 0;
  local_14 = 7;
  local_18 = 0;
  (**(code **)(*in_ECX + 0x14))(0x40);
  *(undefined1 *)(in_ECX + 2) = 1;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a8a5a0 : PUSH EBP
00a8a5a1 : MOV EBP,ESP
00a8a5a3 : PUSH -0x1
00a8a5a5 : PUSH 0xb4562b
00a8a5aa : MOV EAX,FS:[0x0]
00a8a5b0 : PUSH EAX
00a8a5b1 : SUB ESP,0x1c
00a8a5b4 : PUSH EBX
00a8a5b5 : PUSH ESI
00a8a5b6 : PUSH EDI
00a8a5b7 : MOV EAX,[0x00d66fa0]
00a8a5bc : XOR EAX,EBP
00a8a5be : PUSH EAX
00a8a5bf : LEA EAX,[EBP + -0xc]
00a8a5c2 : MOV FS:[0x0],EAX
00a8a5c8 : MOV ESI,ECX
00a8a5ca : MOV EDI,dword ptr [ESI + 0x3c]
00a8a5cd : MOV ECX,dword ptr [EDI + 0x10]
00a8a5d0 : XOR EBX,EBX
00a8a5d2 : CMP ECX,EBX
00a8a5d4 : JZ 0x00a8a5de
00a8a5d6 : CALL 0x006f04e0
00a8a5de : MOV EAX,dword ptr [ESI + 0x3c]
00a8a5e1 : MOV dword ptr [EAX + 0xc],0x5
00a8a5e8 : MOV EAX,dword ptr [ESI + 0x3c]
00a8a5eb : MOV dword ptr [EAX + 0x8],0x2
00a8a5f2 : MOV EDI,dword ptr [ESI + 0x3c]
00a8a5f5 : CALL 0x00908190
00a8a5fa : PUSH 0xc
00a8a5fc : XOR EAX,EAX
00a8a5fe : MOV EDI,0x7
00a8a603 : PUSH 0xc63de0
00a8a608 : LEA ECX,[EBP + -0x28]
00a8a60b : MOV dword ptr [EBP + -0x10],EDI
00a8a60e : MOV dword ptr [EBP + -0x14],EBX
00a8a611 : MOV word ptr [EBP + -0x24],AX
00a8a615 : CALL 0x00406360
00a8a61a : MOV dword ptr [EBP + -0x4],EBX
00a8a61d : PUSH -0x1
00a8a61f : PUSH EBX
00a8a620 : LEA ECX,[EBP + -0x28]
00a8a623 : PUSH ECX
00a8a624 : LEA ECX,[ESI + 0xc]
00a8a627 : CALL 0x00405eb0
00a8a62c : MOV dword ptr [EBP + -0x4],0xffffffff
00a8a633 : CMP dword ptr [EBP + -0x10],0x8
00a8a637 : JC 0x00a8a641
00a8a639 : MOV ECX,dword ptr [EBP + -0x24]
00a8a63c : CALL 0x006f04e0
00a8a641 : MOV EAX,dword ptr [ESI]
00a8a643 : XOR EDX,EDX
00a8a645 : MOV word ptr [EBP + -0x24],DX
00a8a649 : MOV EDX,dword ptr [EAX + 0x14]
00a8a64c : PUSH 0x40
00a8a64e : MOV ECX,ESI
00a8a650 : MOV dword ptr [EBP + -0x10],EDI
00a8a653 : MOV dword ptr [EBP + -0x14],EBX
00a8a656 : CALL EDX
00a8a658 : MOV byte ptr [ESI + 0x8],0x1
00a8a65c : MOV ECX,dword ptr [EBP + -0xc]
00a8a65f : MOV dword ptr FS:[0x0],ECX
00a8a666 : POP ECX
00a8a667 : POP EDI
00a8a668 : POP ESI
00a8a669 : POP EBX
00a8a66a : MOV ESP,EBP
00a8a66c : POP EBP
00a8a66d : RET
