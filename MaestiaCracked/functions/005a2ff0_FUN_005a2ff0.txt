PROGRAM  : Maestia.exe
FUNCTION : FUN_005a2ff0
ENTRY    : 005a2ff0
BODY     : [[005a2ff0, 005a3049]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_005a2ff0(int *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int *in_ECX;
  int *piVar3;
  
  iVar1 = *in_ECX;
  piVar3 = (int *)(param_2 * 0x20 + 8 + iVar1);
  if ((*(int *)(param_2 * 0x20 + 8 + iVar1) != -2) && (iVar2 = param_2, piVar3[1] == param_2)) {
    while (((piVar3[1] != param_2 || (piVar3[2] != *param_1)) || (piVar3[3] != param_1[1]))) {
      iVar2 = *piVar3;
      if (iVar2 == -1) {
        return -1;
      }
      piVar3 = (int *)(iVar2 * 0x20 + 8 + iVar1);
    }
    return iVar2;
  }
  return -1;
}



============================================================
DISASSEMBLY
============================================================
005a2ff0 : MOV EDX,dword ptr [ESP + 0x8]
005a2ff4 : PUSH ESI
005a2ff5 : MOV ESI,dword ptr [ECX]
005a2ff7 : MOV ECX,EDX
005a2ff9 : SHL ECX,0x5
005a2ffc : CMP dword ptr [ECX + ESI*0x1 + 0x8],-0x2
005a3001 : LEA ECX,[ECX + ESI*0x1 + 0x8]
005a3005 : MOV EAX,EDX
005a3007 : JZ 0x005a3043
005a3009 : CMP dword ptr [ECX + 0x4],EDX
005a300c : JNZ 0x005a3043
005a300e : PUSH EDI
005a300f : MOV EDI,dword ptr [ESP + 0xc]
005a3013 : PUSH EBX
005a3014 : CMP dword ptr [ECX + 0x4],EDX
005a3017 : JNZ 0x005a3028
005a3019 : MOV EBX,dword ptr [ECX + 0x8]
005a301c : CMP EBX,dword ptr [EDI]
005a301e : JNZ 0x005a3028
005a3020 : MOV EBX,dword ptr [ECX + 0xc]
005a3023 : CMP EBX,dword ptr [EDI + 0x4]
005a3026 : JZ 0x005a303d
005a3028 : MOV EAX,dword ptr [ECX]
005a302a : CMP EAX,-0x1
005a302d : JZ 0x005a303a
005a302f : MOV ECX,EAX
005a3031 : SHL ECX,0x5
005a3034 : LEA ECX,[ECX + ESI*0x1 + 0x8]
005a3038 : JMP 0x005a3014
005a303a : OR EAX,0xffffffff
005a303d : POP EBX
005a303e : POP EDI
005a303f : POP ESI
005a3040 : RET 0x8
005a3043 : OR EAX,0xffffffff
005a3046 : POP ESI
005a3047 : RET 0x8
