PROGRAM  : Maestia.exe
FUNCTION : FUN_00586d40
ENTRY    : 00586d40
BODY     : [[00586d40, 00586da3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00586d40(void)

{
  uint uVar1;
  LONG LVar2;
  undefined4 *in_ECX;
  
  *in_ECX = &PTR_LAB_00b8e058;
  in_ECX[4] = &PTR_LAB_00b8e000;
  in_ECX[0x12] = &PTR_LAB_00b8e054;
  FUN_00552980();
  *in_ECX = &PTR_LAB_00b8df94;
  in_ECX[4] = &PTR_LAB_00b8df40;
  FUN_00585260(0);
  uVar1 = in_ECX[0x10];
  LVar2 = InterlockedExchangeAdd((LONG *)((uVar1 & 0xfffffffc) + 4),-1);
  if (LVar2 == 1) {
    FUN_00515cf0(uVar1 & 0xfffffffc);
  }
  FUN_00515cf0(in_ECX[0xd]);
  FUN_00552060();
  return;
}



============================================================
DISASSEMBLY
============================================================
00586d40 : PUSH ESI
00586d41 : MOV ESI,ECX
00586d43 : LEA ECX,[ESI + 0x48]
00586d46 : PUSH EDI
00586d47 : MOV dword ptr [ESI],0xb8e058
00586d4d : MOV dword ptr [ESI + 0x10],0xb8e000
00586d54 : MOV dword ptr [ECX],0xb8e054
00586d5a : CALL 0x00552980
00586d5f : PUSH 0x0
00586d61 : MOV ECX,ESI
00586d63 : MOV dword ptr [ESI],0xb8df94
00586d69 : MOV dword ptr [ESI + 0x10],0xb8df40
00586d70 : CALL 0x00585260
00586d75 : MOV EDI,dword ptr [ESI + 0x40]
00586d78 : AND EDI,0xfffffffc
00586d7b : PUSH -0x1
00586d7d : LEA EAX,[EDI + 0x4]
00586d80 : PUSH EAX
00586d81 : CALL dword ptr [0x00b851cc]
00586d87 : SUB EAX,0x1
00586d8a : JNZ 0x00586d92
00586d8c : PUSH EDI
00586d8d : CALL 0x00515cf0
00586d92 : MOV ECX,dword ptr [ESI + 0x34]
00586d95 : PUSH ECX
00586d96 : CALL 0x00515cf0
00586d9b : POP EDI
00586d9c : MOV ECX,ESI
00586d9e : POP ESI
00586d9f : JMP 0x00552060
