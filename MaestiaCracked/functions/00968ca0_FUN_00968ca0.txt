PROGRAM  : Maestia.exe
FUNCTION : FUN_00968ca0
ENTRY    : 00968ca0
BODY     : [[00968ca0, 00968d8a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00968ca0(void)

{
  int iVar1;
  uint uVar2;
  undefined4 uVar3;
  int unaff_ESI;
  undefined1 local_38 [24];
  uint local_20;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  puStack_c = &LAB_00b2d275;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8 = 0;
  *(undefined4 *)(unaff_ESI + 0x18) = 7;
  *(undefined4 *)(unaff_ESI + 0x14) = 0;
  *(undefined2 *)(unaff_ESI + 4) = 0;
  FUN_00406360(&DAT_00c7b844,0);
  local_8 = 0;
  local_14 = 0;
  if (*(int *)(DAT_0172491c + 0x17c) != 0) {
    local_14 = *(undefined4 *)(*(int *)(DAT_0172491c + 0x17c) + 0xa0);
  }
  iVar1 = *(int *)(DAT_0172491c + 0x144);
  if (iVar1 != 0) {
    uVar3 = FUN_00812460(0);
    uVar3 = FUN_008143f0(iVar1,local_38,*(undefined4 *)(DAT_017248c8 + 0x150),local_14,uVar3);
    local_8 = 1;
    FUN_00405eb0(uVar3,0,0xffffffff);
    local_8 = local_8 & 0xffffff00;
    if (7 < local_20) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0(uVar2);
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00968ca0 : PUSH EBP
00968ca1 : MOV EBP,ESP
00968ca3 : PUSH -0x1
00968ca5 : PUSH 0xb2d275
00968caa : MOV EAX,FS:[0x0]
00968cb0 : PUSH EAX
00968cb1 : SUB ESP,0x28
00968cb4 : PUSH EBX
00968cb5 : PUSH EDI
00968cb6 : MOV EAX,[0x00d66fa0]
00968cbb : XOR EAX,EBP
00968cbd : PUSH EAX
00968cbe : LEA EAX,[EBP + -0xc]
00968cc1 : MOV FS:[0x0],EAX
00968cc7 : XOR EBX,EBX
00968cc9 : MOV dword ptr [EBP + -0x4],EBX
00968ccc : MOV dword ptr [EBP + -0x14],EBX
00968ccf : PUSH EBX
00968cd0 : XOR EAX,EAX
00968cd2 : MOV dword ptr [ESI + 0x18],0x7
00968cd9 : MOV dword ptr [ESI + 0x14],EBX
00968cdc : PUSH 0xc7b844
00968ce1 : MOV ECX,ESI
00968ce3 : MOV dword ptr [EBP + -0x18],ESI
00968ce6 : MOV word ptr [ESI + 0x4],AX
00968cea : CALL 0x00406360
00968cef : MOV dword ptr [EBP + -0x4],EBX
00968cf2 : MOV ECX,dword ptr [0x0172491c]
00968cf8 : MOV EAX,dword ptr [ECX + 0x17c]
00968cfe : MOV dword ptr [EBP + -0x14],0x1
00968d05 : MOV dword ptr [EBP + -0x10],EBX
00968d08 : CMP EAX,EBX
00968d0a : JZ 0x00968d15
00968d0c : MOV EDX,dword ptr [EAX + 0xa0]
00968d12 : MOV dword ptr [EBP + -0x10],EDX
00968d15 : MOV EDI,dword ptr [ECX + 0x144]
00968d1b : CMP EDI,EBX
00968d1d : JZ 0x00968d78
00968d1f : PUSH EBX
00968d20 : MOV AL,0x1
00968d22 : MOV ECX,EDI
00968d24 : CALL 0x00812460
00968d29 : MOV ECX,dword ptr [0x017248c8]
00968d2f : MOV EDX,dword ptr [EBP + -0x10]
00968d32 : MOV ECX,dword ptr [ECX + 0x150]
00968d38 : PUSH EAX
00968d39 : PUSH EDX
00968d3a : PUSH ECX
00968d3b : LEA EAX,[EBP + -0x34]
00968d3e : PUSH EAX
00968d3f : PUSH EDI
00968d40 : CALL 0x008143f0
00968d45 : MOV dword ptr [EBP + -0x4],0x1
00968d4c : PUSH -0x1
00968d4e : PUSH EBX
00968d4f : PUSH EAX
00968d50 : MOV ECX,ESI
00968d52 : CALL 0x00405eb0
00968d57 : MOV byte ptr [EBP + -0x4],BL
00968d5a : CMP dword ptr [EBP + -0x1c],0x8
00968d5e : JC 0x00968d68
00968d60 : MOV ECX,dword ptr [EBP + -0x30]
00968d63 : CALL 0x006f04e0
00968d68 : XOR ECX,ECX
00968d6a : MOV dword ptr [EBP + -0x1c],0x7
00968d71 : MOV dword ptr [EBP + -0x20],EBX
00968d74 : MOV word ptr [EBP + -0x30],CX
00968d78 : MOV EAX,ESI
00968d7a : MOV ECX,dword ptr [EBP + -0xc]
00968d7d : MOV dword ptr FS:[0x0],ECX
00968d84 : POP ECX
00968d85 : POP EDI
00968d86 : POP EBX
00968d87 : MOV ESP,EBP
00968d89 : POP EBP
00968d8a : RET
