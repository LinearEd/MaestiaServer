PROGRAM  : Maestia.exe
FUNCTION : FUN_008c4be0
ENTRY    : 008c4be0
BODY     : [[008c4be0, 008c4e24]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008c4be0(void)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  undefined1 *puVar6;
  int *piVar7;
  int iVar8;
  float fVar9;
  float fVar10;
  int local_24;
  int local_1c;
  undefined4 local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1d195;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = 0;
  do {
    if (*(int *)(*DAT_00da9894 + 0x130) == 0) {
      piVar7 = (int *)0x0;
    }
    else {
      piVar7 = *(int **)(*(int *)(*DAT_00da9894 + 0x130) + 0x3c);
    }
    iVar5 = (**(code **)(*piVar7 + 0x74))(local_14,0,uVar4);
    iVar8 = DAT_00d7c54c;
    if (iVar5 != 0) {
      uVar1 = *(undefined4 *)(iVar5 + 0x10);
      local_18 = uVar1;
      FUN_004437f0(&local_18);
      iVar8 = *(int *)(iVar8 + 0x44);
      if (((local_1c == iVar8) || (*(int *)(local_1c + 0x10) == 0)) ||
         ((*(uint *)(*(int *)(local_1c + 0x10) + 0x48) & 0x400000) == 0)) {
        iVar2 = *(int *)(iVar5 + 0xb0);
        iVar3 = *(int *)(iVar5 + 0xb8);
        if ((iVar2 < iVar3) && ((char)((uint)uVar1 >> 0x10) != -0x74)) {
          local_18 = uVar1;
          FUN_004437f0(&local_18);
          if ((local_24 != iVar8) && (*(int *)(local_24 + 0x10) != 0)) {
            iVar8 = *(int *)(*(int *)(local_24 + 0x10) + 0x54);
            fVar10 = (float)iVar8;
            if (iVar8 < 0) {
              fVar10 = fVar10 + 4.2949673e+09;
            }
            fVar9 = (float)((iVar3 * 10) / 1000 - (iVar2 * 10) / 1000) * fVar10 * 0.01;
            if (fVar9 < 0.0) {
              fVar9 = fVar9 - DAT_00d72c24;
            }
            else {
              fVar9 = fVar9 + DAT_00d72c24;
            }
            if ((int)fVar9 / 10 < 1) {
              iVar8 = 1;
            }
            else {
              fVar10 = (float)((iVar3 * 10) / 1000 - (iVar2 * 10) / 1000) * fVar10 * 0.01;
              if (fVar10 < 0.0) {
                fVar10 = fVar10 - DAT_00d72c24;
              }
              else {
                fVar10 = fVar10 + DAT_00d72c24;
              }
              iVar8 = (int)fVar10 / 10;
            }
            puVar6 = (undefined1 *)FUN_006f0300(0xc);
            if (puVar6 == (undefined1 *)0x0) {
              puVar6 = (undefined1 *)0x0;
            }
            else {
              *puVar6 = 0;
              *(undefined4 *)(puVar6 + 4) = 0;
              *(undefined4 *)(puVar6 + 8) = 0;
            }
            local_8 = 0xffffffff;
            *(int *)(puVar6 + 8) = iVar5;
            *puVar6 = 0;
            *(int *)(puVar6 + 4) = iVar8;
            FUN_00449730();
          }
        }
      }
    }
    local_14 = local_14 + 1;
  } while (local_14 < 0xe);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
008c4be0 : PUSH EBP
008c4be1 : MOV EBP,ESP
008c4be3 : PUSH -0x1
008c4be5 : PUSH 0xb1d195
008c4bea : MOV EAX,FS:[0x0]
008c4bf0 : PUSH EAX
008c4bf1 : SUB ESP,0x20
008c4bf4 : PUSH EBX
008c4bf5 : PUSH ESI
008c4bf6 : PUSH EDI
008c4bf7 : MOV EAX,[0x00d66fa0]
008c4bfc : XOR EAX,EBP
008c4bfe : PUSH EAX
008c4bff : LEA EAX,[EBP + -0xc]
008c4c02 : MOV FS:[0x0],EAX
008c4c08 : XOR EDX,EDX
008c4c0a : MOV dword ptr [EBP + -0x10],EDX
008c4c0d : MOV EAX,[0x00da9894]
008c4c12 : MOV EAX,dword ptr [EAX]
008c4c14 : MOV EAX,dword ptr [EAX + 0x130]
008c4c1a : TEST EAX,EAX
008c4c1c : JNZ 0x008c4c22
008c4c1e : XOR ECX,ECX
008c4c20 : JMP 0x008c4c25
008c4c22 : MOV ECX,dword ptr [EAX + 0x3c]
008c4c25 : MOV EAX,dword ptr [ECX]
008c4c27 : PUSH 0x0
008c4c29 : PUSH EDX
008c4c2a : MOV EDX,dword ptr [EAX + 0x74]
008c4c2d : CALL EDX
008c4c2f : MOV EDI,EAX
008c4c31 : MOV dword ptr [EBP + -0x28],EDI
008c4c34 : TEST EDI,EDI
008c4c36 : JZ 0x008c4e01
008c4c3c : MOV ESI,dword ptr [0x00d7c54c]
008c4c42 : MOV EBX,dword ptr [EDI + 0x10]
008c4c45 : LEA EAX,[EBP + -0x14]
008c4c48 : LEA ECX,[ESI + 0x40]
008c4c4b : PUSH EAX
008c4c4c : LEA EAX,[EBP + -0x18]
008c4c4f : MOV dword ptr [EBP + -0x14],EBX
008c4c52 : MOV dword ptr [EBP + -0x1c],ECX
008c4c55 : CALL 0x004437f0
008c4c5a : MOV ESI,dword ptr [ESI + 0x44]
008c4c5d : MOV EAX,dword ptr [EBP + -0x18]
008c4c60 : MOV dword ptr [EBP + -0x24],ESI
008c4c63 : CMP EAX,ESI
008c4c65 : JZ 0x008c4c80
008c4c67 : MOV EAX,dword ptr [EAX + 0x10]
008c4c6a : TEST EAX,EAX
008c4c6c : JZ 0x008c4c80
008c4c6e : MOV EAX,dword ptr [EAX + 0x48]
008c4c71 : AND EAX,0x400000
008c4c76 : XOR ECX,ECX
008c4c78 : OR EAX,ECX
008c4c7a : JNZ 0x008c4e01
008c4c80 : MOV ESI,dword ptr [EDI + 0xb0]
008c4c86 : MOV EDI,dword ptr [EDI + 0xb8]
008c4c8c : CMP ESI,EDI
008c4c8e : JGE 0x008c4e01
008c4c94 : MOV ECX,EBX
008c4c96 : SHR ECX,0x10
008c4c99 : CMP CL,0x8c
008c4c9c : JZ 0x008c4e01
008c4ca2 : MOV ECX,dword ptr [EBP + -0x1c]
008c4ca5 : LEA EDX,[EBP + -0x14]
008c4ca8 : PUSH EDX
008c4ca9 : LEA EAX,[EBP + -0x20]
008c4cac : MOV dword ptr [EBP + -0x14],EBX
008c4caf : CALL 0x004437f0
008c4cb4 : MOV EAX,dword ptr [EBP + -0x20]
008c4cb7 : CMP EAX,dword ptr [EBP + -0x24]
008c4cba : JZ 0x008c4e01
008c4cc0 : MOV EAX,dword ptr [EAX + 0x10]
008c4cc3 : TEST EAX,EAX
008c4cc5 : JZ 0x008c4e01
008c4ccb : MOV EAX,dword ptr [EAX + 0x54]
008c4cce : MOV dword ptr [EBP + -0x24],EAX
008c4cd1 : FILD dword ptr [EBP + -0x24]
008c4cd4 : TEST EAX,EAX
008c4cd6 : JGE 0x008c4cde
008c4cd8 : FADD float ptr [0x00cdf0e0]
008c4cde : LEA ECX,[ESI + ESI*0x4]
008c4ce1 : FMUL float ptr [0x00cdf23c]
008c4ce7 : ADD ECX,ECX
008c4ce9 : MOV EAX,0x10624dd3
008c4cee : IMUL ECX
008c4cf0 : FSTP float ptr [EBP + -0x24]
008c4cf3 : SAR EDX,0x6
008c4cf6 : MOV ECX,EDX
008c4cf8 : SHR ECX,0x1f
008c4cfb : ADD ECX,EDX
008c4cfd : MOVSS XMM2,dword ptr [EBP + -0x24]
008c4d02 : XORPS XMM3,XMM3
008c4d05 : MOVSS XMM1,dword ptr [0x00d72c24]
008c4d0d : MOV EBX,ECX
008c4d0f : LEA ECX,[EDI + EDI*0x4]
008c4d12 : ADD ECX,ECX
008c4d14 : MOV EAX,0x10624dd3
008c4d19 : IMUL ECX
008c4d1b : SAR EDX,0x6
008c4d1e : MOV EAX,EDX
008c4d20 : SHR EAX,0x1f
008c4d23 : ADD EAX,EDX
008c4d25 : SUB EAX,EBX
008c4d27 : CVTSI2SS XMM0,EAX
008c4d2b : MULSS XMM0,XMM2
008c4d2f : COMISS XMM0,XMM3
008c4d32 : JC 0x008c4d3a
008c4d34 : ADDSS XMM0,XMM1
008c4d38 : JMP 0x008c4d3e
008c4d3a : SUBSS XMM0,XMM1
008c4d3e : CVTTSS2SI ECX,XMM0
008c4d42 : MOV EAX,0x66666667
008c4d47 : IMUL ECX
008c4d49 : SAR EDX,0x2
008c4d4c : MOV ECX,EDX
008c4d4e : SHR ECX,0x1f
008c4d51 : ADD ECX,EDX
008c4d53 : CMP ECX,0x1
008c4d56 : JGE 0x008c4d5f
008c4d58 : MOV ESI,0x1
008c4d5d : JMP 0x008c4dbb
008c4d5f : LEA ECX,[ESI + ESI*0x4]
008c4d62 : ADD ECX,ECX
008c4d64 : MOV EAX,0x10624dd3
008c4d69 : IMUL ECX
008c4d6b : SAR EDX,0x6
008c4d6e : MOV EAX,EDX
008c4d70 : SHR EAX,0x1f
008c4d73 : ADD EAX,EDX
008c4d75 : MOV ESI,EAX
008c4d77 : LEA ECX,[EDI + EDI*0x4]
008c4d7a : ADD ECX,ECX
008c4d7c : MOV EAX,0x10624dd3
008c4d81 : IMUL ECX
008c4d83 : SAR EDX,0x6
008c4d86 : MOV ECX,EDX
008c4d88 : SHR ECX,0x1f
008c4d8b : ADD ECX,EDX
008c4d8d : SUB ECX,ESI
008c4d8f : CVTSI2SS XMM0,ECX
008c4d93 : MULSS XMM0,XMM2
008c4d97 : COMISS XMM0,XMM3
008c4d9a : JC 0x008c4da2
008c4d9c : ADDSS XMM0,XMM1
008c4da0 : JMP 0x008c4da6
008c4da2 : SUBSS XMM0,XMM1
008c4da6 : MOV EAX,0x66666667
008c4dab : CVTTSS2SI ECX,XMM0
008c4daf : IMUL ECX
008c4db1 : SAR EDX,0x2
008c4db4 : MOV ESI,EDX
008c4db6 : SHR ESI,0x1f
008c4db9 : ADD ESI,EDX
008c4dbb : PUSH 0xc
008c4dbd : CALL 0x006f0300
008c4dc2 : ADD ESP,0x4
008c4dc5 : MOV dword ptr [EBP + -0x24],EAX
008c4dc8 : XOR ECX,ECX
008c4dca : MOV dword ptr [EBP + -0x4],ECX
008c4dcd : CMP EAX,ECX
008c4dcf : JZ 0x008c4ddb
008c4dd1 : MOV byte ptr [EAX],CL
008c4dd3 : MOV dword ptr [EAX + 0x4],ECX
008c4dd6 : MOV dword ptr [EAX + 0x8],ECX
008c4dd9 : JMP 0x008c4ddd
008c4ddb : XOR EAX,EAX
008c4ddd : MOV dword ptr [EBP + -0x4],0xffffffff
008c4de4 : MOV EDX,dword ptr [EBP + -0x28]
008c4de7 : MOV dword ptr [EAX + 0x8],EDX
008c4dea : MOV EDX,dword ptr [EBP + 0x8]
008c4ded : MOV byte ptr [EAX],0x0
008c4df0 : ADD EDX,0x38
008c4df3 : LEA EDI,[EBP + -0x24]
008c4df6 : MOV dword ptr [EBP + -0x24],EAX
008c4df9 : MOV dword ptr [EAX + 0x4],ESI
008c4dfc : CALL 0x00449730
008c4e01 : MOV EDX,dword ptr [EBP + -0x10]
008c4e04 : INC EDX
008c4e05 : CMP EDX,0xd
008c4e08 : MOV dword ptr [EBP + -0x10],EDX
008c4e0b : JLE 0x008c4c0d
008c4e11 : MOV ECX,dword ptr [EBP + -0xc]
008c4e14 : MOV dword ptr FS:[0x0],ECX
008c4e1b : POP ECX
008c4e1c : POP EDI
008c4e1d : POP ESI
008c4e1e : POP EBX
008c4e1f : MOV ESP,EBP
008c4e21 : POP EBP
008c4e22 : RET 0x4
