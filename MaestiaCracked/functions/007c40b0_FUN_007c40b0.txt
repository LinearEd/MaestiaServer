PROGRAM  : Maestia.exe
FUNCTION : FUN_007c40b0
ENTRY    : 007c40b0
BODY     : [[007c40b0, 007c4219] [007c424d, 007c428d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007c40b0(int param_1,float param_2)

{
  float fVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  LPCRITICAL_SECTION local_44;
  char *local_40;
  undefined4 local_3c;
  int local_38;
  undefined4 local_34;
  int local_30;
  char *local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  int *local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3707d;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if ((*(int *)(param_1 + 0xd0) != 0) && (*(char *)(DAT_017251ac + 0x360) == '\0')) {
    FUN_007c35a0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    (**(code **)(**(int **)(param_1 + 0xd0) + 4))(param_2);
    local_44 = (LPCRITICAL_SECTION)(param_1 + 0x114);
    local_38 = 0;
    local_40 = ".\\Frk\\FrkMgr.cpp";
    local_3c = 0x1d5;
    local_34 = 1;
    FUN_006ef1a0(&local_44);
    local_8 = 0;
    local_18 = *(int **)(param_1 + 0xe0);
    local_14 = (int *)*local_18;
    if (local_14 != local_18) {
      do {
        piVar2 = (int *)local_14[4];
        if ((piVar2 != (int *)0x0) && (iVar3 = *piVar2, iVar3 != 0)) {
          *(undefined1 *)(iVar3 + 0x1a8) = 0;
          if (((*piVar2 != 0) &&
              (((iVar4 = *(int *)(*piVar2 + 0x184), iVar4 != 0 && (iVar4 != 2)) &&
               ((float)piVar2[9] < 1000.0)))) &&
             (fVar1 = (float)piVar2[8], piVar2[8] = (int)(fVar1 + param_2),
             (float)piVar2[9] <= fVar1 + param_2)) {
            local_30 = param_1 + 0xf8;
            local_24 = 0;
            local_2c = ".\\Frk\\FrkMgr.cpp";
            local_28 = 499;
            local_20 = 1;
            FUN_006ef1a0(&local_30);
            local_8 = CONCAT31(local_8._1_3_,1);
            *(undefined4 *)(iVar3 + 0x184) = 2;
            *(undefined4 *)(iVar3 + 0x17c) = 0;
            FUN_007958c0();
            FUN_0075b610();
            FUN_0075b440(piVar2);
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
        }
        FUN_00416210();
      } while (local_14 != local_18);
    }
    local_8 = 0xffffffff;
    if (local_38 != 0) {
      LeaveCriticalSection(local_44);
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007c40b0 : PUSH EBP
007c40b1 : MOV EBP,ESP
007c40b3 : PUSH -0x1
007c40b5 : PUSH 0xb3707d
007c40ba : MOV EAX,FS:[0x0]
007c40c0 : PUSH EAX
007c40c1 : SUB ESP,0x34
007c40c4 : PUSH EBX
007c40c5 : PUSH ESI
007c40c6 : PUSH EDI
007c40c7 : MOV EAX,[0x00d66fa0]
007c40cc : XOR EAX,EBP
007c40ce : PUSH EAX
007c40cf : LEA EAX,[EBP + -0xc]
007c40d2 : MOV FS:[0x0],EAX
007c40d8 : MOV ESI,dword ptr [EBP + 0x8]
007c40db : XOR EBX,EBX
007c40dd : CMP dword ptr [ESI + 0xd0],EBX
007c40e3 : JZ 0x007c427a
007c40e9 : MOV EAX,[0x017251ac]
007c40ee : CMP byte ptr [EAX + 0x360],BL
007c40f4 : JNZ 0x007c427a
007c40fa : CALL 0x007c35a0
007c40ff : FLD float ptr [EBP + 0xc]
007c4102 : MOV ECX,dword ptr [ESI + 0xd0]
007c4108 : MOV EDX,dword ptr [ECX]
007c410a : MOV EAX,dword ptr [EDX + 0x4]
007c410d : PUSH ECX
007c410e : FSTP float ptr [ESP]
007c4111 : CALL EAX
007c4113 : LEA EDX,[EBP + -0x40]
007c4116 : LEA ECX,[ESI + 0x114]
007c411c : PUSH EDX
007c411d : MOV dword ptr [EBP + -0x34],EBX
007c4120 : MOV dword ptr [EBP + -0x40],ECX
007c4123 : MOV dword ptr [EBP + -0x3c],0xc1c978
007c412a : MOV dword ptr [EBP + -0x38],0x1d5
007c4131 : MOV dword ptr [EBP + -0x30],0x1
007c4138 : CALL 0x006ef1a0
007c413d : MOV dword ptr [EBP + -0x4],EBX
007c4140 : MOV ESI,dword ptr [ESI + 0xe0]
007c4146 : MOV EAX,dword ptr [ESI]
007c4148 : MOV dword ptr [EBP + -0x14],ESI
007c414b : MOV dword ptr [EBP + -0x10],EAX
007c414e : CMP EAX,ESI
007c4150 : JZ 0x007c4261
007c4156 : JMP 0x007c415b
007c4158 : MOV EAX,dword ptr [EBP + -0x10]
007c415b : MOV EDI,dword ptr [EAX + 0x10]
007c415e : CMP EDI,EBX
007c4160 : JZ 0x007c424d
007c4166 : MOV ESI,dword ptr [EDI]
007c4168 : CMP ESI,EBX
007c416a : JZ 0x007c424d
007c4170 : MOV byte ptr [ESI + 0x1a8],BL
007c4176 : MOV EAX,dword ptr [EDI]
007c4178 : CMP EAX,EBX
007c417a : JZ 0x007c424d
007c4180 : MOV EAX,dword ptr [EAX + 0x184]
007c4186 : CMP EAX,EBX
007c4188 : JZ 0x007c424d
007c418e : CMP EAX,0x2
007c4191 : JZ 0x007c424d
007c4197 : MOVSS XMM1,dword ptr [EDI + 0x24]
007c419c : COMISS XMM1,dword ptr [0x00cdf16c]
007c41a3 : JNC 0x007c424d
007c41a9 : MOVSS XMM0,dword ptr [EDI + 0x20]
007c41ae : ADDSS XMM0,dword ptr [EBP + 0xc]
007c41b3 : COMISS XMM1,XMM0
007c41b6 : MOVSS dword ptr [EDI + 0x20],XMM0
007c41bb : JA 0x007c424d
007c41c1 : MOV EAX,dword ptr [EBP + 0x8]
007c41c4 : LEA ECX,[EBP + -0x2c]
007c41c7 : ADD EAX,0xf8
007c41cc : PUSH ECX
007c41cd : MOV dword ptr [EBP + -0x20],EBX
007c41d0 : MOV dword ptr [EBP + -0x2c],EAX
007c41d3 : MOV dword ptr [EBP + -0x28],0xc1c98c
007c41da : MOV dword ptr [EBP + -0x24],0x1f3
007c41e1 : MOV dword ptr [EBP + -0x1c],0x1
007c41e8 : CALL 0x006ef1a0
007c41ed : MOV byte ptr [EBP + -0x4],0x1
007c41f1 : MOV dword ptr [ESI + 0x184],0x2
007c41fb : MOV dword ptr [ESI + 0x17c],EBX
007c4201 : CALL 0x007958c0
007c4206 : MOV ESI,EDI
007c4208 : CALL 0x0075b610
007c420d : PUSH EDI
007c420e : CALL 0x0075b440
007c4213 : MOV ECX,EDI
007c4215 : CALL 0x006f04e0
007c424d : LEA EDX,[EBP + -0x10]
007c4250 : CALL 0x00416210
007c4255 : MOV ECX,dword ptr [EBP + -0x14]
007c4258 : CMP dword ptr [EBP + -0x10],ECX
007c425b : JNZ 0x007c4158
007c4261 : MOV dword ptr [EBP + -0x4],0xffffffff
007c4268 : CMP dword ptr [EBP + -0x34],EBX
007c426b : JZ 0x007c427a
007c426d : MOV EDX,dword ptr [EBP + -0x40]
007c4270 : PUSH EDX
007c4271 : CALL dword ptr [0x00b8511c]
007c4277 : MOV dword ptr [EBP + -0x34],EBX
007c427a : MOV ECX,dword ptr [EBP + -0xc]
007c427d : MOV dword ptr FS:[0x0],ECX
007c4284 : POP ECX
007c4285 : POP EDI
007c4286 : POP ESI
007c4287 : POP EBX
007c4288 : MOV ESP,EBP
007c428a : POP EBP
007c428b : RET 0x8
