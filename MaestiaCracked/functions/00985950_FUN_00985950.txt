PROGRAM  : Maestia.exe
FUNCTION : FUN_00985950
ENTRY    : 00985950
BODY     : [[00985950, 00985aa6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00985950(int param_1,int param_2,char param_3)

{
  int *piVar1;
  float fVar2;
  int in_EAX;
  int iVar3;
  undefined4 unaff_EDI;
  float fVar4;
  
  if (param_3 != '\0') {
    if (*(char *)(in_EAX + 0x32) == '\0') {
      FUN_00983a60();
      FUN_00983db0(in_EAX,unaff_EDI);
    }
    FUN_009857c0();
  }
  fVar4 = (float)param_1;
  if (param_1 < 0) {
    fVar4 = fVar4 + 4.2949673e+09;
  }
  fVar2 = (float)param_2;
  if (param_2 < 0) {
    fVar2 = fVar2 + 4.2949673e+09;
  }
  FUN_00423700();
  if (param_1 == *(int *)(in_EAX + 0x128)) {
    iVar3 = (int)((fVar4 / *(float *)(in_EAX + 0x40)) * 462.0);
    fVar4 = (*(float *)(in_EAX + 0x44) - fVar2) / *(float *)(in_EAX + 0x44);
  }
  else {
    iVar3 = *(int *)(param_1 + 0x34) * 0x140;
    fVar4 = (float)iVar3;
    if (iVar3 < 0) {
      fVar4 = fVar4 + 4.2949673e+09;
    }
    iVar3 = FUN_0063b380();
    fVar4 = (fVar4 - fVar2) / fVar4;
  }
  if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
    (**(code **)(*piVar1 + 4))
              (piVar1,"mc_minimap_large.SetPositionLink",&DAT_00c809e4,(double)iVar3,
               (double)(int)(fVar4 * 462.0));
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00985950 : PUSH EBP
00985951 : MOV EBP,ESP
00985953 : SUB ESP,0x10
00985956 : CMP byte ptr [EBP + 0x10],0x0
0098595a : PUSH ESI
0098595b : MOV ESI,EAX
0098595d : JZ 0x0098597a
0098595f : CMP byte ptr [ESI + 0x32],0x0
00985963 : JNZ 0x00985971
00985965 : CALL 0x00983a60
0098596a : PUSH EDI
0098596b : PUSH ESI
0098596c : CALL 0x00983db0
00985971 : MOV EAX,EDI
00985973 : MOV ECX,ESI
00985975 : CALL 0x009857c0
0098597a : MOV EAX,dword ptr [EBP + 0x8]
0098597d : FILD dword ptr [EBP + 0x8]
00985980 : TEST EAX,EAX
00985982 : JGE 0x0098598a
00985984 : FADD float ptr [0x00cdf0e0]
0098598a : MOV ECX,dword ptr [EBP + 0xc]
0098598d : FSTP float ptr [EBP + -0xc]
00985990 : FILD dword ptr [EBP + 0xc]
00985993 : TEST ECX,ECX
00985995 : JGE 0x0098599d
00985997 : FADD float ptr [0x00cdf0e0]
0098599d : MOVZX EDX,DI
009859a0 : FSTP float ptr [EBP + -0x4]
009859a3 : LEA EAX,[EBP + 0x10]
009859a6 : PUSH EAX
009859a7 : LEA ECX,[ESI + 0x124]
009859ad : LEA EAX,[EBP + 0x8]
009859b0 : MOV dword ptr [EBP + 0x10],EDX
009859b3 : CALL 0x00423700
009859b8 : MOV ECX,dword ptr [EBP + 0x8]
009859bb : CMP ECX,dword ptr [ESI + 0x128]
009859c1 : JZ 0x00985a25
009859c3 : MOV EAX,dword ptr [ECX + 0x34]
009859c6 : LEA EDX,[EAX + EAX*0x4]
009859c9 : SHL EDX,0x6
009859cc : MOV dword ptr [EBP + 0x10],EDX
009859cf : FILD dword ptr [EBP + 0x10]
009859d2 : TEST EDX,EDX
009859d4 : JGE 0x009859dc
009859d6 : FADD float ptr [0x00cdf0e0]
009859dc : MOV EAX,dword ptr [ECX + 0x30]
009859df : FSTP float ptr [EBP + 0x10]
009859e2 : LEA EAX,[EAX + EAX*0x4]
009859e5 : SHL EAX,0x6
009859e8 : MOV dword ptr [EBP + 0x8],EAX
009859eb : FILD dword ptr [EBP + 0x8]
009859ee : TEST EAX,EAX
009859f0 : JGE 0x009859f8
009859f2 : FADD float ptr [0x00cdf0e0]
009859f8 : FDIVR float ptr [EBP + -0xc]
009859fb : FMUL float ptr [0x00cdf34c]
00985a01 : CALL 0x0063b380
00985a06 : MOVSS XMM0,dword ptr [EBP + 0x10]
00985a0b : MOVAPS XMM1,XMM0
00985a0e : SUBSS XMM1,dword ptr [EBP + -0x4]
00985a13 : DIVSS XMM1,XMM0
00985a17 : MULSS XMM1,dword ptr [0x00cdf34c]
00985a1f : CVTTSS2SI EDX,XMM1
00985a23 : JMP 0x00985a58
00985a25 : MOVSS XMM0,dword ptr [EBP + -0xc]
00985a2a : DIVSS XMM0,dword ptr [ESI + 0x40]
00985a2f : MOVSS XMM1,dword ptr [0x00cdf34c]
00985a37 : MULSS XMM0,XMM1
00985a3b : CVTTSS2SI EAX,XMM0
00985a3f : MOVSS XMM0,dword ptr [ESI + 0x44]
00985a44 : MOVAPS XMM2,XMM0
00985a47 : SUBSS XMM2,dword ptr [EBP + -0x4]
00985a4c : DIVSS XMM2,XMM0
00985a50 : MULSS XMM2,XMM1
00985a54 : CVTTSS2SI EDX,XMM2
00985a58 : MOV ECX,dword ptr [0x00da9894]
00985a5e : MOV ECX,dword ptr [ECX]
00985a60 : TEST ECX,ECX
00985a62 : JZ 0x00985aa0
00985a64 : MOV ECX,dword ptr [ECX + 0x114]
00985a6a : TEST ECX,ECX
00985a6c : JZ 0x00985aa0
00985a6e : MOV ESI,dword ptr [ECX]
00985a70 : SUB ESP,0x10
00985a73 : CVTSI2SS XMM0,EDX
00985a77 : MOV EDX,dword ptr [ESI + 0x4]
00985a7a : CVTPS2PD XMM0,XMM0
00985a7d : MOVSD qword ptr [ESP + 0x8],XMM0
00985a83 : CVTSI2SS XMM0,EAX
00985a87 : CVTSS2SD XMM0,XMM0
00985a8b : MOVSD qword ptr [ESP],XMM0
00985a90 : PUSH 0xc809e4
00985a95 : PUSH 0xc809ec
00985a9a : PUSH ECX
00985a9b : CALL EDX
00985a9d : ADD ESP,0x1c
00985aa0 : POP ESI
00985aa1 : MOV ESP,EBP
00985aa3 : POP EBP
00985aa4 : RET 0xc
