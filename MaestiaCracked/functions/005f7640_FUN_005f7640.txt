PROGRAM  : Maestia.exe
FUNCTION : FUN_005f7640
ENTRY    : 005f7640
BODY     : [[005f7640, 005f76ad]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005f7640(void)

{
  long lVar1;
  int *piVar2;
  int in_ECX;
  
  lVar1 = _ftell(*(FILE **)(in_ECX + 0x10));
  if (lVar1 < 0) {
    piVar2 = __errno();
    if (*piVar2 == 2) {
      *(undefined4 *)(in_ECX + 0x18) = 0x1001;
      return;
    }
    piVar2 = __errno();
    if (*piVar2 != 0xd) {
      piVar2 = __errno();
      if (*piVar2 != 1) {
        piVar2 = __errno();
        *(uint *)(in_ECX + 0x18) = (*piVar2 == 0x1c) + 0x1003;
        return;
      }
    }
    *(undefined4 *)(in_ECX + 0x18) = 0x1002;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005f7640 : PUSH ESI
005f7641 : MOV ESI,ECX
005f7643 : MOV EAX,dword ptr [ESI + 0x10]
005f7646 : PUSH EDI
005f7647 : PUSH EAX
005f7648 : CALL 0x0063751f
005f764d : MOV EDI,EAX
005f764f : ADD ESP,0x4
005f7652 : TEST EDI,EDI
005f7654 : JGE 0x005f76a8
005f7656 : CALL 0x0063ab82
005f765b : CMP dword ptr [EAX],0x2
005f765e : JNZ 0x005f766e
005f7660 : MOV EAX,0x1001
005f7665 : MOV dword ptr [ESI + 0x18],EAX
005f7668 : MOV EAX,EDI
005f766a : POP EDI
005f766b : CDQ
005f766c : POP ESI
005f766d : RET
005f766e : CALL 0x0063ab82
005f7673 : CMP dword ptr [EAX],0xd
005f7676 : JZ 0x005f76a0
005f7678 : CALL 0x0063ab82
005f767d : CMP dword ptr [EAX],0x1
005f7680 : JZ 0x005f76a0
005f7682 : CALL 0x0063ab82
005f7687 : XOR ECX,ECX
005f7689 : CMP dword ptr [EAX],0x1c
005f768c : SETZ CL
005f768f : ADD ECX,0x1003
005f7695 : MOV EAX,ECX
005f7697 : MOV dword ptr [ESI + 0x18],EAX
005f769a : MOV EAX,EDI
005f769c : POP EDI
005f769d : CDQ
005f769e : POP ESI
005f769f : RET
005f76a0 : MOV EAX,0x1002
005f76a5 : MOV dword ptr [ESI + 0x18],EAX
005f76a8 : MOV EAX,EDI
005f76aa : POP EDI
005f76ab : CDQ
005f76ac : POP ESI
005f76ad : RET
