PROGRAM  : Maestia.exe
FUNCTION : FUN_009ec490
ENTRY    : 009ec490
BODY     : [[009ec490, 009ec57c] [009ec580, 009ec62c] [009ec630, 009ec663]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009ec490(int param_1)

{
  char cVar1;
  short sVar2;
  undefined4 uVar3;
  int iVar4;
  int *piVar5;
  int *piVar6;
  uint uVar7;
  short *psVar8;
  short *psVar9;
  int *piVar10;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2f498;
  local_10 = ExceptionList;
  uVar7 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = **(int **)(param_1 + 0xbc);
  if ((int *)local_14 != *(int **)(param_1 + 0xbc)) {
    do {
      iVar4 = local_14;
      if (*(uint *)(param_1 + 0x50) < 8) {
        psVar9 = (short *)(param_1 + 0x3c);
      }
      else {
        psVar9 = *(short **)(param_1 + 0x3c);
      }
      local_2c = 0;
      local_18 = 7;
      local_1c = 0;
      psVar8 = psVar9;
      do {
        sVar2 = *psVar8;
        psVar8 = psVar8 + 1;
      } while (sVar2 != 0);
      FUN_00406360(psVar9,(int)psVar8 - (int)(psVar9 + 1) >> 1);
      local_8 = 0;
      uVar3 = *(undefined4 *)(iVar4 + 0x10);
      FUN_00405eb0(local_30,0,0xffffffff);
      FUN_00908bc0(uVar3);
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0(uVar7);
      }
      local_2c = 0;
      local_18 = 7;
      local_1c = 0;
      FUN_00416210();
    } while (local_14 != *(int *)(param_1 + 0xbc));
  }
  piVar10 = (int *)**(int **)(param_1 + 200);
  if (piVar10 != *(int **)(param_1 + 200)) {
    do {
      if (*(uint *)(param_1 + 0x50) < 8) {
        psVar9 = (short *)(param_1 + 0x3c);
      }
      else {
        psVar9 = *(short **)(param_1 + 0x3c);
      }
      local_18 = 7;
      local_1c = 0;
      local_2c = 0;
      psVar8 = psVar9;
      do {
        sVar2 = *psVar8;
        psVar8 = psVar8 + 1;
      } while (sVar2 != 0);
      FUN_00406360(psVar9,(int)psVar8 - (int)(psVar9 + 1) >> 1);
      local_8 = 1;
      iVar4 = piVar10[4];
      FUN_00405eb0(local_30,0,0xffffffff);
      FUN_00908bc0(iVar4);
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      if (*(char *)((int)piVar10 + 0x15) == '\0') {
        piVar5 = (int *)piVar10[2];
        if (*(char *)((int)piVar5 + 0x15) == '\0') {
          cVar1 = *(char *)(*piVar5 + 0x15);
          piVar10 = piVar5;
          piVar5 = (int *)*piVar5;
          while (cVar1 == '\0') {
            cVar1 = *(char *)(*piVar5 + 0x15);
            piVar10 = piVar5;
            piVar5 = (int *)*piVar5;
          }
        }
        else {
          cVar1 = *(char *)(piVar10[1] + 0x15);
          piVar6 = (int *)piVar10[1];
          piVar5 = piVar10;
          while ((piVar10 = piVar6, cVar1 == '\0' && (piVar5 == (int *)piVar10[2]))) {
            cVar1 = *(char *)(piVar10[1] + 0x15);
            piVar6 = (int *)piVar10[1];
            piVar5 = piVar10;
          }
        }
      }
    } while (piVar10 != *(int **)(param_1 + 200));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
009ec490 : PUSH EBP
009ec491 : MOV EBP,ESP
009ec493 : PUSH -0x1
009ec495 : PUSH 0xb2f498
009ec49a : MOV EAX,FS:[0x0]
009ec4a0 : PUSH EAX
009ec4a1 : SUB ESP,0x20
009ec4a4 : PUSH EBX
009ec4a5 : PUSH ESI
009ec4a6 : PUSH EDI
009ec4a7 : MOV EAX,[0x00d66fa0]
009ec4ac : XOR EAX,EBP
009ec4ae : PUSH EAX
009ec4af : LEA EAX,[EBP + -0xc]
009ec4b2 : MOV FS:[0x0],EAX
009ec4b8 : MOV EDX,dword ptr [EBP + 0x8]
009ec4bb : MOV EAX,dword ptr [EDX + 0xbc]
009ec4c1 : MOV ESI,dword ptr [EAX]
009ec4c3 : XOR EBX,EBX
009ec4c5 : MOV dword ptr [EBP + -0x10],ESI
009ec4c8 : CMP ESI,EAX
009ec4ca : JZ 0x009ec56b
009ec4d0 : CMP dword ptr [EDX + 0x50],0x8
009ec4d4 : JC 0x009ec4db
009ec4d6 : MOV EDX,dword ptr [EDX + 0x3c]
009ec4d9 : JMP 0x009ec4de
009ec4db : ADD EDX,0x3c
009ec4de : XOR EAX,EAX
009ec4e0 : MOV word ptr [EBP + -0x28],AX
009ec4e4 : MOV EAX,EDX
009ec4e6 : MOV dword ptr [EBP + -0x14],0x7
009ec4ed : MOV dword ptr [EBP + -0x18],EBX
009ec4f0 : LEA EDI,[EAX + 0x2]
009ec4f3 : MOV CX,word ptr [EAX]
009ec4f6 : ADD EAX,0x2
009ec4f9 : CMP CX,BX
009ec4fc : JNZ 0x009ec4f3
009ec4fe : SUB EAX,EDI
009ec500 : SAR EAX,0x1
009ec502 : PUSH EAX
009ec503 : PUSH EDX
009ec504 : LEA ECX,[EBP + -0x2c]
009ec507 : CALL 0x00406360
009ec50c : MOV dword ptr [EBP + -0x4],EBX
009ec50f : MOV ESI,dword ptr [ESI + 0x10]
009ec512 : PUSH -0x1
009ec514 : PUSH EBX
009ec515 : LEA ECX,[EBP + -0x2c]
009ec518 : PUSH ECX
009ec519 : LEA ECX,[ESI + 0x3c]
009ec51c : CALL 0x00405eb0
009ec521 : PUSH ESI
009ec522 : CALL 0x00908bc0
009ec527 : MOV dword ptr [EBP + -0x4],0xffffffff
009ec52e : CMP dword ptr [EBP + -0x14],0x8
009ec532 : JC 0x009ec53c
009ec534 : MOV ECX,dword ptr [EBP + -0x28]
009ec537 : CALL 0x006f04e0
009ec53c : XOR EDX,EDX
009ec53e : MOV word ptr [EBP + -0x28],DX
009ec542 : LEA EDX,[EBP + -0x10]
009ec545 : MOV dword ptr [EBP + -0x14],0x7
009ec54c : MOV dword ptr [EBP + -0x18],EBX
009ec54f : CALL 0x00416210
009ec554 : MOV EAX,dword ptr [EBP + 0x8]
009ec557 : MOV EAX,dword ptr [EAX + 0xbc]
009ec55d : MOV ESI,dword ptr [EBP + -0x10]
009ec560 : MOV EDX,dword ptr [EBP + 0x8]
009ec563 : CMP ESI,EAX
009ec565 : JNZ 0x009ec4d0
009ec56b : MOV EAX,dword ptr [EDX + 0xc8]
009ec571 : MOV EDI,dword ptr [EAX]
009ec573 : CMP EDI,EAX
009ec575 : JZ 0x009ec650
009ec57b : JMP 0x009ec582
009ec580 : MOV EDX,ECX
009ec582 : CMP dword ptr [EDX + 0x50],0x8
009ec586 : JC 0x009ec58d
009ec588 : MOV EDX,dword ptr [EDX + 0x3c]
009ec58b : JMP 0x009ec590
009ec58d : ADD EDX,0x3c
009ec590 : XOR ECX,ECX
009ec592 : MOV EAX,EDX
009ec594 : MOV dword ptr [EBP + -0x14],0x7
009ec59b : MOV dword ptr [EBP + -0x18],EBX
009ec59e : MOV word ptr [EBP + -0x28],CX
009ec5a2 : LEA ESI,[EAX + 0x2]
009ec5a5 : MOV CX,word ptr [EAX]
009ec5a8 : ADD EAX,0x2
009ec5ab : CMP CX,BX
009ec5ae : JNZ 0x009ec5a5
009ec5b0 : SUB EAX,ESI
009ec5b2 : SAR EAX,0x1
009ec5b4 : PUSH EAX
009ec5b5 : PUSH EDX
009ec5b6 : LEA ECX,[EBP + -0x2c]
009ec5b9 : CALL 0x00406360
009ec5be : MOV dword ptr [EBP + -0x4],0x1
009ec5c5 : MOV ESI,dword ptr [EDI + 0x10]
009ec5c8 : PUSH -0x1
009ec5ca : PUSH EBX
009ec5cb : LEA EDX,[EBP + -0x2c]
009ec5ce : PUSH EDX
009ec5cf : LEA ECX,[ESI + 0x3c]
009ec5d2 : CALL 0x00405eb0
009ec5d7 : PUSH ESI
009ec5d8 : CALL 0x00908bc0
009ec5dd : MOV dword ptr [EBP + -0x4],0xffffffff
009ec5e4 : CMP dword ptr [EBP + -0x14],0x8
009ec5e8 : JC 0x009ec5f2
009ec5ea : MOV ECX,dword ptr [EBP + -0x28]
009ec5ed : CALL 0x006f04e0
009ec5f2 : XOR EAX,EAX
009ec5f4 : MOV dword ptr [EBP + -0x14],0x7
009ec5fb : MOV dword ptr [EBP + -0x18],EBX
009ec5fe : MOV word ptr [EBP + -0x28],AX
009ec602 : CMP byte ptr [EDI + 0x15],BL
009ec605 : JNZ 0x009ec641
009ec607 : MOV EAX,dword ptr [EDI + 0x8]
009ec60a : CMP byte ptr [EAX + 0x15],BL
009ec60d : JNZ 0x009ec623
009ec60f : MOV EDI,EAX
009ec611 : MOV EAX,dword ptr [EDI]
009ec613 : CMP byte ptr [EAX + 0x15],BL
009ec616 : JNZ 0x009ec641
009ec618 : MOV EDI,EAX
009ec61a : MOV EAX,dword ptr [EDI]
009ec61c : CMP byte ptr [EAX + 0x15],BL
009ec61f : JZ 0x009ec618
009ec621 : JMP 0x009ec641
009ec623 : MOV EAX,dword ptr [EDI + 0x4]
009ec626 : CMP byte ptr [EAX + 0x15],BL
009ec629 : JNZ 0x009ec63f
009ec62b : JMP 0x009ec630
009ec630 : CMP EDI,dword ptr [EAX + 0x8]
009ec633 : JNZ 0x009ec63f
009ec635 : MOV EDI,EAX
009ec637 : MOV EAX,dword ptr [EAX + 0x4]
009ec63a : CMP byte ptr [EAX + 0x15],BL
009ec63d : JZ 0x009ec630
009ec63f : MOV EDI,EAX
009ec641 : MOV ECX,dword ptr [EBP + 0x8]
009ec644 : CMP EDI,dword ptr [ECX + 0xc8]
009ec64a : JNZ 0x009ec580
009ec650 : MOV ECX,dword ptr [EBP + -0xc]
009ec653 : MOV dword ptr FS:[0x0],ECX
009ec65a : POP ECX
009ec65b : POP EDI
009ec65c : POP ESI
009ec65d : POP EBX
009ec65e : MOV ESP,EBP
009ec660 : POP EBP
009ec661 : RET 0x4
