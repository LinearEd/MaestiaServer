PROGRAM  : Maestia.exe
FUNCTION : FUN_009133a0
ENTRY    : 009133a0
BODY     : [[009133a0, 009134e9]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009133a0(int param_1,ushort param_2)

{
  float fVar1;
  int iVar2;
  ushort uVar3;
  int *piVar4;
  char *pcVar5;
  undefined *puVar6;
  float local_c;
  float local_8;
  
  uVar3 = param_2;
  local_8 = ((float)param_2 * 0.007 + 0.25) * 2240.0;
  local_c = ((float)param_2 * 0.007 + 0.3) * 2240.0;
  fVar1 = *(float *)(DAT_017251ac + 0x3cc);
  _param_2 = 2240.0;
  if (fVar1 - 50.0 < local_c) {
    local_c = fVar1 - 50.0;
  }
  if (fVar1 - 150.0 < local_8) {
    local_8 = fVar1 - 150.0;
  }
  if (fVar1 < 2240.0) {
    _param_2 = fVar1;
  }
  iVar2 = *(int *)(*(int *)(DAT_0172491c + 0x90) + 0x104);
  if ((iVar2 != 0) && (*(char *)(iVar2 + 0xa9ba) != '\0')) {
    FUN_007b6f50(0x43e00000,local_c,local_8,_param_2);
  }
  if ((DAT_00d7c550 == 0) || (piVar4 = *(int **)(DAT_00d7c550 + 0x38), piVar4 == (int *)0x0)) {
    piVar4 = *(int **)(*DAT_00da9894 + 0x114);
    if (piVar4 == (int *)0x0) {
      *(ushort *)(param_1 + 0x50) = uVar3;
      return;
    }
    puVar6 = &DAT_00c664d0;
    pcVar5 = "mc_settingpage.SetTreeDistance";
  }
  else {
    puVar6 = &DAT_00c664ac;
    pcVar5 = "mc_settingpage.SetTreeDistance";
  }
  (**(code **)(*piVar4 + 4))(piVar4,pcVar5,puVar6,uVar3);
  *(ushort *)(param_1 + 0x50) = uVar3;
  return;
}



============================================================
DISASSEMBLY
============================================================
009133a0 : PUSH EBP
009133a1 : MOV EBP,ESP
009133a3 : SUB ESP,0x8
009133a6 : MOVSD XMM1,qword ptr [0x00cdf5f0]
009133ae : MOV EAX,[0x017251ac]
009133b3 : MOVSS XMM4,dword ptr [0x00cdf5c8]
009133bb : PUSH EBX
009133bc : MOV BX,word ptr [EBP + 0xc]
009133c0 : PUSH ESI
009133c1 : MOVZX ESI,BX
009133c4 : CVTSI2SD XMM0,ESI
009133c8 : MULSD XMM0,qword ptr [0x00cdf850]
009133d0 : MOVAPD XMM2,XMM0
009133d4 : ADDSD XMM0,qword ptr [0x00cdf848]
009133dc : ADDSD XMM2,qword ptr [0x00cdf840]
009133e4 : MULSD XMM0,XMM1
009133e8 : MULSD XMM2,XMM1
009133ec : MOVSS XMM1,dword ptr [EAX + 0x3cc]
009133f4 : CVTSD2SS XMM3,XMM0
009133f8 : CVTSD2SS XMM2,XMM2
009133fc : MOVAPS XMM0,XMM1
009133ff : SUBSS XMM0,dword ptr [0x00cdf214]
00913407 : COMISS XMM2,XMM0
0091340a : PUSH EDI
0091340b : MOVSS dword ptr [EBP + -0x8],XMM2
00913410 : MOVSS dword ptr [EBP + -0x4],XMM3
00913415 : MOVSS dword ptr [EBP + 0xc],XMM4
0091341a : JBE 0x00913421
0091341c : MOVSS dword ptr [EBP + -0x8],XMM0
00913421 : MOVAPS XMM0,XMM1
00913424 : SUBSS XMM0,dword ptr [0x00cdf22c]
0091342c : COMISS XMM3,XMM0
0091342f : JBE 0x00913436
00913431 : MOVSS dword ptr [EBP + -0x4],XMM0
00913436 : COMISS XMM4,XMM1
00913439 : JBE 0x00913440
0091343b : MOVSS dword ptr [EBP + 0xc],XMM1
00913440 : MOV ECX,dword ptr [0x0172491c]
00913446 : MOV EDX,dword ptr [ECX + 0x90]
0091344c : MOV EDI,dword ptr [EDX + 0x104]
00913452 : TEST EDI,EDI
00913454 : JZ 0x00913485
00913456 : CMP byte ptr [EDI + 0xa9ba],0x0
0091345d : JZ 0x00913485
0091345f : FLD float ptr [EBP + 0xc]
00913462 : SUB ESP,0x10
00913465 : FSTP float ptr [ESP + 0xc]
00913469 : FLD float ptr [EBP + -0x4]
0091346c : FSTP float ptr [ESP + 0x8]
00913470 : FLD float ptr [EBP + -0x8]
00913473 : FSTP float ptr [ESP + 0x4]
00913477 : FLD float ptr [0x00cdf838]
0091347d : FSTP float ptr [ESP]
00913480 : CALL 0x007b6f50
00913485 : MOV EAX,[0x00d7c550]
0091348a : TEST EAX,EAX
0091348c : JZ 0x009134bb
0091348e : MOV EAX,dword ptr [EAX + 0x38]
00913491 : TEST EAX,EAX
00913493 : JZ 0x009134bb
00913495 : PUSH ESI
00913496 : PUSH 0xc664ac
0091349b : PUSH 0xc664b0
009134a0 : MOV ECX,dword ptr [EAX]
009134a2 : MOV EDX,dword ptr [ECX + 0x4]
009134a5 : PUSH EAX
009134a6 : CALL EDX
009134a8 : MOV EAX,dword ptr [EBP + 0x8]
009134ab : ADD ESP,0x10
009134ae : MOV word ptr [EAX + 0x50],BX
009134b2 : POP EDI
009134b3 : POP ESI
009134b4 : POP EBX
009134b5 : MOV ESP,EBP
009134b7 : POP EBP
009134b8 : RET 0x8
009134bb : MOV ECX,dword ptr [0x00da9894]
009134c1 : MOV EDX,dword ptr [ECX]
009134c3 : MOV EAX,dword ptr [EDX + 0x114]
009134c9 : TEST EAX,EAX
009134cb : JZ 0x009134da
009134cd : PUSH ESI
009134ce : PUSH 0xc664d0
009134d3 : PUSH 0xc664d4
009134d8 : JMP 0x009134a0
009134da : MOV ECX,dword ptr [EBP + 0x8]
009134dd : POP EDI
009134de : POP ESI
009134df : MOV word ptr [ECX + 0x50],BX
009134e3 : POP EBX
009134e4 : MOV ESP,EBP
009134e6 : POP EBP
009134e7 : RET 0x8
