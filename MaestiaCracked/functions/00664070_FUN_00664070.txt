PROGRAM  : Maestia.exe
FUNCTION : FUN_00664070
ENTRY    : 00664070
BODY     : [[00664070, 00664102]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00664070(int param_1,int *param_2)

{
  int iVar1;
  void *local_c;
  undefined1 *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00b0c83b;
  local_c = ExceptionList;
  if (param_2 == (int *)0x0) {
    return -0x7fffbffd;
  }
  ExceptionList = &local_c;
  iVar1 = FUN_006f0300(0x30,DAT_00d66fa0 ^ (uint)&stack0xfffffff0);
  local_4 = 0;
  if (iVar1 == 0) {
    iVar1 = 0;
  }
  else {
    iVar1 = FUN_006636f0(param_1 + -0xc,0);
  }
  *param_2 = iVar1;
  ExceptionList = local_c;
  return (-(uint)(iVar1 != 0) & 0x7ff8fff2) + 0x8007000e;
}



============================================================
DISASSEMBLY
============================================================
00664070 : PUSH -0x1
00664072 : PUSH 0xb0c83b
00664077 : MOV EAX,FS:[0x0]
0066407d : PUSH EAX
0066407e : PUSH ESI
0066407f : MOV EAX,[0x00d66fa0]
00664084 : XOR EAX,ESP
00664086 : PUSH EAX
00664087 : LEA EAX,[ESP + 0x8]
0066408b : MOV FS:[0x0],EAX
00664091 : MOV ESI,dword ptr [ESP + 0x1c]
00664095 : TEST ESI,ESI
00664097 : JNZ 0x006640b1
00664099 : MOV EAX,0x80004003
0066409e : MOV ECX,dword ptr [ESP + 0x8]
006640a2 : MOV dword ptr FS:[0x0],ECX
006640a9 : POP ECX
006640aa : POP ESI
006640ab : ADD ESP,0xc
006640ae : RET 0x8
006640b1 : PUSH 0x30
006640b3 : CALL 0x006f0300
006640b8 : ADD ESP,0x4
006640bb : MOV dword ptr [ESP + 0x1c],EAX
006640bf : MOV dword ptr [ESP + 0x10],0x0
006640c7 : TEST EAX,EAX
006640c9 : JZ 0x006640de
006640cb : MOV ECX,dword ptr [ESP + 0x18]
006640cf : ADD ECX,-0xc
006640d2 : PUSH 0x0
006640d4 : PUSH ECX
006640d5 : MOV ECX,EAX
006640d7 : CALL 0x006636f0
006640dc : JMP 0x006640e0
006640de : XOR EAX,EAX
006640e0 : MOV dword ptr [ESI],EAX
006640e2 : NEG EAX
006640e4 : SBB EAX,EAX
006640e6 : AND EAX,0x7ff8fff2
006640eb : ADD EAX,0x8007000e
006640f0 : MOV ECX,dword ptr [ESP + 0x8]
006640f4 : MOV dword ptr FS:[0x0],ECX
006640fb : POP ECX
006640fc : POP ESI
006640fd : ADD ESP,0xc
00664100 : RET 0x8
