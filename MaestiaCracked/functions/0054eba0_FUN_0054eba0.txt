PROGRAM  : Maestia.exe
FUNCTION : FUN_0054eba0
ENTRY    : 0054eba0
BODY     : [[0054eba0, 0054ec51]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0054eba0(void)

{
  GRefCountImplCore *in_ECX;
  int iVar1;
  undefined4 *puVar2;
  GRefCountImplCore *pGVar3;
  
  *(undefined ***)in_ECX = &PTR_FUN_00b8bf38;
  FUN_00546af0();
  pGVar3 = in_ECX + 0x98;
  iVar1 = 10;
  do {
    FUN_005d4500(*(undefined4 *)pGVar3);
    pGVar3 = pGVar3 + 4;
    iVar1 = iVar1 + -1;
  } while (iVar1 != 0);
  FUN_0053b3e0(*(undefined4 *)(in_ECX + 0x10));
  iVar1 = *(int *)(in_ECX + 0x28);
  if (iVar1 != 0) {
    puVar2 = (undefined4 *)(*(int *)(in_ECX + 0x24) + iVar1 * 0xc + -4);
    do {
      if ((GRefCountImpl *)*puVar2 != (GRefCountImpl *)0x0) {
        GRefCountImpl::Release((GRefCountImpl *)*puVar2);
      }
      puVar2 = puVar2 + -3;
      iVar1 = iVar1 + -1;
    } while (iVar1 != 0);
  }
  FUN_00515cf0(*(undefined4 *)(in_ECX + 0x24));
  if (*(GRefCountNTSImpl **)(in_ECX + 0x20) != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(in_ECX + 0x20));
  }
  GThread::OnExit((GThread *)(in_ECX + 0x14));
  if (*(GRefCountNTSImpl **)(in_ECX + 0x10) != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(in_ECX + 0x10));
  }
  if (*(GRefCountImpl **)(in_ECX + 8) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 8));
  }
  GRefCountImplCore::~GRefCountImplCore(in_ECX);
  return;
}



============================================================
DISASSEMBLY
============================================================
0054eba0 : PUSH EBX
0054eba1 : PUSH EBP
0054eba2 : PUSH ESI
0054eba3 : PUSH EDI
0054eba4 : MOV EDI,ECX
0054eba6 : MOV EAX,dword ptr [EDI + 0xc]
0054eba9 : MOV dword ptr [EDI],0xb8bf38
0054ebaf : MOV ECX,dword ptr [EAX + 0x8]
0054ebb2 : CALL 0x00546af0
0054ebb7 : MOV EBP,EAX
0054ebb9 : LEA ESI,[EDI + 0x98]
0054ebbf : MOV EBX,0xa
0054ebc4 : MOV ECX,dword ptr [ESI]
0054ebc6 : PUSH ECX
0054ebc7 : MOV ECX,EBP
0054ebc9 : CALL 0x005d4500
0054ebce : ADD ESI,0x4
0054ebd1 : SUB EBX,0x1
0054ebd4 : JNZ 0x0054ebc4
0054ebd6 : MOV EDX,dword ptr [EDI + 0x10]
0054ebd9 : LEA ESI,[EDI + 0x14]
0054ebdc : PUSH EDX
0054ebdd : MOV ECX,ESI
0054ebdf : CALL 0x0053b3e0
0054ebe4 : MOV EAX,dword ptr [ESI + 0x14]
0054ebe7 : MOV EDX,dword ptr [ESI + 0x10]
0054ebea : LEA ECX,[EAX + EAX*0x2]
0054ebed : LEA ECX,[EDX + ECX*0x4 + -0xc]
0054ebf1 : TEST EAX,EAX
0054ebf3 : JBE 0x0054ec13
0054ebf5 : LEA EBX,[ECX + 0x8]
0054ebf8 : MOV EBP,EAX
0054ebfa : LEA EBX,[EBX]
0054ec00 : MOV ECX,dword ptr [EBX]
0054ec02 : TEST ECX,ECX
0054ec04 : JZ 0x0054ec0b
0054ec06 : CALL 0x004ff7e0
0054ec0b : SUB EBX,0xc
0054ec0e : SUB EBP,0x1
0054ec11 : JNZ 0x0054ec00
0054ec13 : MOV EAX,dword ptr [ESI + 0x10]
0054ec16 : PUSH EAX
0054ec17 : CALL 0x00515cf0
0054ec1c : MOV ECX,dword ptr [ESI + 0xc]
0054ec1f : TEST ECX,ECX
0054ec21 : JZ 0x0054ec28
0054ec23 : CALL 0x004ff7c0
0054ec28 : MOV ECX,ESI
0054ec2a : CALL 0x0051d420
0054ec2f : MOV ECX,dword ptr [EDI + 0x10]
0054ec32 : TEST ECX,ECX
0054ec34 : JZ 0x0054ec3b
0054ec36 : CALL 0x004ff7c0
0054ec3b : MOV ECX,dword ptr [EDI + 0x8]
0054ec3e : TEST ECX,ECX
0054ec40 : JZ 0x0054ec47
0054ec42 : CALL 0x004ff7e0
0054ec47 : MOV ECX,EDI
0054ec49 : POP EDI
0054ec4a : POP ESI
0054ec4b : POP EBP
0054ec4c : POP EBX
0054ec4d : JMP 0x004ff7b0
