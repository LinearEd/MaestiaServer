PROGRAM  : Maestia.exe
FUNCTION : FUN_00a2ac90
ENTRY    : 00a2ac90
BODY     : [[00a2ac90, 00a2ae49]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a2ac90(undefined4 param_1,undefined4 param_2,undefined4 param_3,int param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7,undefined4 param_8,
                 undefined4 param_9,undefined4 param_10)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  int in_ECX;
  int iVar4;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  int local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3b199;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(short *)(in_ECX + 0x5ea) = *(short *)(in_ECX + 0x5ea) + 1;
  local_34 = param_4;
  FUN_00404750(L"Weapon_%d",*(undefined2 *)(in_ECX + 0x5ea),local_14);
  iVar4 = 0;
  local_8 = 0;
  if (60000 < *(ushort *)(in_ECX + 0x5ea)) {
    *(undefined2 *)(in_ECX + 0x5ea) = 0;
  }
  iVar2 = FUN_006f0760(0x11c,".\\Flow\\AvaGameZone.cpp",0x1183,0);
  local_8._0_1_ = 1;
  if (iVar2 != 0) {
    iVar4 = FUN_00acae70(iVar2);
  }
  local_8 = (uint)local_8._1_3_ << 8;
  local_40 = 0x3f800000;
  local_3c = 0x3f800000;
  local_38 = 0x3f800000;
  local_5c = 0;
  local_58 = 0;
  local_54 = 0;
  local_50 = 0x3f800000;
  local_4c = 0;
  local_48 = 0;
  local_44 = 0;
  iVar2 = (**(code **)(**(int **)(in_ECX + 0x164) + 0x20))(local_30,&local_4c,&local_5c,&local_40);
  *(int *)(iVar4 + 0x48) = iVar2;
  if (iVar2 != 0) {
    FUN_00acad50(param_1,param_2,local_34,param_5,param_6,param_7,param_8,param_9,param_10);
  }
  iVar2 = *(int *)(in_ECX + 0x180);
  if (iVar2 == 0) {
    uVar3 = 0;
  }
  else {
    uVar3 = *(int *)(in_ECX + 0x188) - iVar2 >> 2;
  }
  piVar1 = *(int **)(in_ECX + 0x184);
  local_34 = iVar4;
  if ((uint)((int)piVar1 - iVar2 >> 2) < uVar3) {
    *piVar1 = iVar4;
    *(int **)(in_ECX + 0x184) = piVar1 + 1;
  }
  else {
    FUN_0042fe80(in_ECX + 0x17c,piVar1,&local_34);
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = 0;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a2ac90 : PUSH EBP
00a2ac91 : MOV EBP,ESP
00a2ac93 : PUSH -0x1
00a2ac95 : PUSH 0xb3b199
00a2ac9a : MOV EAX,FS:[0x0]
00a2aca0 : PUSH EAX
00a2aca1 : SUB ESP,0x54
00a2aca4 : MOV EAX,[0x00d66fa0]
00a2aca9 : XOR EAX,EBP
00a2acab : MOV dword ptr [EBP + -0x10],EAX
00a2acae : PUSH EBX
00a2acaf : PUSH ESI
00a2acb0 : PUSH EDI
00a2acb1 : PUSH EAX
00a2acb2 : LEA EAX,[EBP + -0xc]
00a2acb5 : MOV FS:[0x0],EAX
00a2acbb : MOV EAX,dword ptr [EBP + 0x14]
00a2acbe : MOV EBX,dword ptr [EBP + 0x10]
00a2acc1 : MOV EDI,ECX
00a2acc3 : INC word ptr [EDI + 0x5ea]
00a2acca : MOV dword ptr [EBP + -0x30],EAX
00a2accd : MOVZX EAX,word ptr [EDI + 0x5ea]
00a2acd4 : MOVZX ECX,AX
00a2acd7 : PUSH ECX
00a2acd8 : PUSH 0xcc057c
00a2acdd : LEA ESI,[EBP + -0x2c]
00a2ace0 : CALL 0x00404750
00a2ace5 : ADD ESP,0x8
00a2ace8 : XOR ESI,ESI
00a2acea : MOV dword ptr [EBP + -0x4],ESI
00a2aced : MOV EDX,0xea60
00a2acf2 : CMP word ptr [EDI + 0x5ea],DX
00a2acf9 : JBE 0x00a2ad04
00a2acfb : XOR EAX,EAX
00a2acfd : MOV word ptr [EDI + 0x5ea],AX
00a2ad04 : PUSH ESI
00a2ad05 : PUSH 0x1183
00a2ad0a : PUSH 0xcc065c
00a2ad0f : PUSH 0x11c
00a2ad14 : CALL 0x006f0760
00a2ad19 : ADD ESP,0x10
00a2ad1c : MOV dword ptr [EBP + -0x5c],EAX
00a2ad1f : MOV byte ptr [EBP + -0x4],0x1
00a2ad23 : CMP EAX,ESI
00a2ad25 : JZ 0x00a2ad2f
00a2ad27 : PUSH EAX
00a2ad28 : CALL 0x00acae70
00a2ad2d : MOV ESI,EAX
00a2ad2f : MOV byte ptr [EBP + -0x4],0x0
00a2ad33 : XORPS XMM0,XMM0
00a2ad36 : MOVSS XMM1,dword ptr [0x00c10fc4]
00a2ad3e : MOV ECX,dword ptr [EDI + 0x164]
00a2ad44 : LEA EAX,[EBP + -0x3c]
00a2ad47 : PUSH EAX
00a2ad48 : LEA EAX,[EBP + -0x58]
00a2ad4b : PUSH EAX
00a2ad4c : LEA EAX,[EBP + -0x48]
00a2ad4f : PUSH EAX
00a2ad50 : MOVSS dword ptr [EBP + -0x3c],XMM1
00a2ad55 : MOVSS dword ptr [EBP + -0x38],XMM1
00a2ad5a : MOVSS dword ptr [EBP + -0x34],XMM1
00a2ad5f : MOVSS dword ptr [EBP + -0x58],XMM0
00a2ad64 : MOVSS dword ptr [EBP + -0x54],XMM0
00a2ad69 : MOVSS dword ptr [EBP + -0x50],XMM0
00a2ad6e : MOVSS dword ptr [EBP + -0x4c],XMM1
00a2ad73 : MOVSS dword ptr [EBP + -0x48],XMM0
00a2ad78 : MOVSS dword ptr [EBP + -0x44],XMM0
00a2ad7d : MOVSS dword ptr [EBP + -0x40],XMM0
00a2ad82 : MOV EDX,dword ptr [ECX]
00a2ad84 : MOV EDX,dword ptr [EDX + 0x20]
00a2ad87 : LEA EAX,[EBP + -0x2c]
00a2ad8a : PUSH EAX
00a2ad8b : CALL EDX
00a2ad8d : MOV dword ptr [ESI + 0x48],EAX
00a2ad90 : TEST EAX,EAX
00a2ad92 : JZ 0x00a2adbf
00a2ad94 : MOV EAX,dword ptr [EBP + 0x2c]
00a2ad97 : MOV ECX,dword ptr [EBP + 0x28]
00a2ad9a : MOV EDX,dword ptr [EBP + 0x24]
00a2ad9d : PUSH EAX
00a2ad9e : MOV EAX,dword ptr [EBP + 0x20]
00a2ada1 : PUSH ECX
00a2ada2 : MOV ECX,dword ptr [EBP + 0x1c]
00a2ada5 : PUSH EDX
00a2ada6 : MOV EDX,dword ptr [EBP + 0x18]
00a2ada9 : PUSH EAX
00a2adaa : MOV EAX,dword ptr [EBP + -0x30]
00a2adad : PUSH ECX
00a2adae : MOV ECX,dword ptr [EBP + 0xc]
00a2adb1 : PUSH EDX
00a2adb2 : MOV EDX,dword ptr [EBP + 0x8]
00a2adb5 : PUSH EAX
00a2adb6 : PUSH ECX
00a2adb7 : PUSH EDX
00a2adb8 : MOV EAX,EBX
00a2adba : CALL 0x00acad50
00a2adbf : MOV EDX,dword ptr [EDI + 0x180]
00a2adc5 : ADD EDI,0x17c
00a2adcb : MOV dword ptr [EBP + -0x30],ESI
00a2adce : TEST EDX,EDX
00a2add0 : JNZ 0x00a2add6
00a2add2 : XOR EAX,EAX
00a2add4 : JMP 0x00a2adde
00a2add6 : MOV EAX,dword ptr [EDI + 0xc]
00a2add9 : SUB EAX,EDX
00a2addb : SAR EAX,0x2
00a2adde : MOV ECX,dword ptr [EDI + 0x8]
00a2ade1 : MOV EBX,ECX
00a2ade3 : SUB EBX,EDX
00a2ade5 : SAR EBX,0x2
00a2ade8 : CMP EBX,EAX
00a2adea : JNC 0x00a2adf6
00a2adec : MOV dword ptr [ECX],ESI
00a2adee : ADD ECX,0x4
00a2adf1 : MOV dword ptr [EDI + 0x8],ECX
00a2adf4 : JMP 0x00a2ae01
00a2adf6 : LEA EAX,[EBP + -0x30]
00a2adf9 : PUSH EAX
00a2adfa : PUSH ECX
00a2adfb : PUSH EDI
00a2adfc : CALL 0x0042fe80
00a2ae01 : MOV dword ptr [EBP + -0x4],0xffffffff
00a2ae08 : CMP dword ptr [EBP + -0x14],0x8
00a2ae0c : JC 0x00a2ae16
00a2ae0e : MOV ECX,dword ptr [EBP + -0x28]
00a2ae11 : CALL 0x006f04e0
00a2ae16 : XOR ECX,ECX
00a2ae18 : MOV dword ptr [EBP + -0x14],0x7
00a2ae1f : MOV dword ptr [EBP + -0x18],0x0
00a2ae26 : MOV word ptr [EBP + -0x28],CX
00a2ae2a : MOV EAX,ESI
00a2ae2c : MOV ECX,dword ptr [EBP + -0xc]
00a2ae2f : MOV dword ptr FS:[0x0],ECX
00a2ae36 : POP ECX
00a2ae37 : POP EDI
00a2ae38 : POP ESI
00a2ae39 : POP EBX
00a2ae3a : MOV ECX,dword ptr [EBP + -0x10]
00a2ae3d : XOR ECX,EBP
00a2ae3f : CALL 0x00633e6b
00a2ae44 : MOV ESP,EBP
00a2ae46 : POP EBP
00a2ae47 : RET 0x28
