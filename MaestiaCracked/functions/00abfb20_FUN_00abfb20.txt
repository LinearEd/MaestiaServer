PROGRAM  : Maestia.exe
FUNCTION : FUN_00abfb20
ENTRY    : 00abfb20
BODY     : [[00abfb20, 00abfb5c] [00abfb60, 00abfbf6]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00abfb82) */

undefined4 FUN_00abfb20(int param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  uint uVar3;
  uint uVar4;
  char cVar5;
  int in_EAX;
  int iVar6;
  
  cVar5 = FUN_00abed10();
  if (cVar5 != '\0') {
    puVar1 = *(undefined4 **)(in_EAX + 0x14);
    for (puVar2 = (undefined4 *)*puVar1; puVar2 != puVar1; puVar2 = (undefined4 *)*puVar2) {
      iVar6 = puVar2[9];
      if (iVar6 != 0) {
        uVar3 = *(uint *)(param_1 + 0x14);
        uVar4 = *(uint *)(iVar6 + 0x1c);
        if (*(uint *)(iVar6 + 0x20) < 8) {
          iVar6 = iVar6 + 0xc;
        }
        else {
          iVar6 = *(int *)(iVar6 + 0xc);
        }
        iVar6 = FUN_00405b70(iVar6);
        if (((iVar6 == 0) && (uVar3 <= uVar4)) && (uVar4 == uVar3)) {
          return puVar2[9];
        }
      }
    }
    if (*(uint *)(param_1 + 0x18) < 8) {
      param_1 = param_1 + 4;
    }
    else {
      param_1 = *(int *)(param_1 + 4);
    }
    FUN_008018d0(L"[CRITICAL_ERROR] AvaAnimationTable::GetAnimEventChange() ChangeXML(%s)",param_1);
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00abfb20 : PUSH EBP
00abfb21 : MOV EBP,ESP
00abfb23 : SUB ESP,0x8
00abfb26 : PUSH EBX
00abfb27 : MOV EBX,dword ptr [EBP + 0x8]
00abfb2a : PUSH ESI
00abfb2b : MOV ESI,EAX
00abfb2d : PUSH EDI
00abfb2e : MOV EDX,EBX
00abfb30 : MOV ECX,ESI
00abfb32 : CALL 0x00abed10
00abfb37 : TEST AL,AL
00abfb39 : JZ 0x00abfbec
00abfb3f : MOV ESI,dword ptr [ESI + 0x14]
00abfb42 : MOV ECX,dword ptr [ESI]
00abfb44 : MOV dword ptr [EBP + -0x4],ESI
00abfb47 : MOV dword ptr [EBP + 0x8],ECX
00abfb4a : CMP ECX,ESI
00abfb4c : JNZ 0x00abfb63
00abfb4e : CMP dword ptr [EBX + 0x18],0x8
00abfb52 : JC 0x00abfbd5
00abfb58 : MOV EAX,dword ptr [EBX + 0x4]
00abfb5b : JMP 0x00abfbd8
00abfb60 : MOV ECX,dword ptr [EBP + 0x8]
00abfb63 : MOV EAX,dword ptr [ECX + 0x24]
00abfb66 : TEST EAX,EAX
00abfb68 : JZ 0x00abfbbb
00abfb6a : CMP dword ptr [EBX + 0x18],0x8
00abfb6e : MOV EDI,dword ptr [EBX + 0x14]
00abfb71 : JC 0x00abfb78
00abfb73 : MOV ECX,dword ptr [EBX + 0x4]
00abfb76 : JMP 0x00abfb7b
00abfb78 : LEA ECX,[EBX + 0x4]
00abfb7b : MOV ESI,dword ptr [EAX + 0x1c]
00abfb7e : MOV EDX,ESI
00abfb80 : CMP EDX,ESI
00abfb82 : CMOVC ESI,EDX
00abfb85 : MOV EDX,ESI
00abfb87 : CMP ESI,EDI
00abfb89 : JC 0x00abfb8d
00abfb8b : MOV EDX,EDI
00abfb8d : CMP dword ptr [EAX + 0x20],0x8
00abfb91 : JC 0x00abfb98
00abfb93 : MOV EAX,dword ptr [EAX + 0xc]
00abfb96 : JMP 0x00abfb9b
00abfb98 : ADD EAX,0xc
00abfb9b : PUSH EAX
00abfb9c : CALL 0x00405b70
00abfba1 : ADD ESP,0x4
00abfba4 : TEST EAX,EAX
00abfba6 : JNZ 0x00abfbb5
00abfba8 : CMP ESI,EDI
00abfbaa : JC 0x00abfbb5
00abfbac : CMP ESI,EDI
00abfbae : SETNZ AL
00abfbb1 : TEST EAX,EAX
00abfbb3 : JZ 0x00abfbc6
00abfbb5 : MOV ESI,dword ptr [EBP + -0x4]
00abfbb8 : MOV ECX,dword ptr [EBP + 0x8]
00abfbbb : MOV ECX,dword ptr [ECX]
00abfbbd : MOV dword ptr [EBP + 0x8],ECX
00abfbc0 : CMP ECX,ESI
00abfbc2 : JNZ 0x00abfb60
00abfbc4 : JMP 0x00abfb4e
00abfbc6 : MOV EAX,dword ptr [EBP + 0x8]
00abfbc9 : MOV EAX,dword ptr [EAX + 0x24]
00abfbcc : POP EDI
00abfbcd : POP ESI
00abfbce : POP EBX
00abfbcf : MOV ESP,EBP
00abfbd1 : POP EBP
00abfbd2 : RET 0x4
00abfbd5 : LEA EAX,[EBX + 0x4]
00abfbd8 : MOV ESI,dword ptr [0x00da98e8]
00abfbde : PUSH EAX
00abfbdf : PUSH 0xc48250
00abfbe4 : CALL 0x008018d0
00abfbe9 : ADD ESP,0x8
00abfbec : POP EDI
00abfbed : POP ESI
00abfbee : XOR EAX,EAX
00abfbf0 : POP EBX
00abfbf1 : MOV ESP,EBP
00abfbf3 : POP EBP
00abfbf4 : RET 0x4
