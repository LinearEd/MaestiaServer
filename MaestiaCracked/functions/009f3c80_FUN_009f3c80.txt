PROGRAM  : Maestia.exe
FUNCTION : FUN_009f3c80
ENTRY    : 009f3c80
BODY     : [[009f3c80, 009f3f7c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009f3c80(int param_1)

{
  uint uVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 *puVar4;
  int in_EDX;
  float fVar5;
  undefined1 auStack_f4 [16];
  float local_e4;
  undefined2 local_dc;
  undefined4 local_cc;
  uint local_c8;
  int local_c4;
  undefined2 local_b8;
  undefined4 local_a8;
  uint local_a4;
  undefined4 local_9c;
  undefined4 local_8c;
  uint local_88;
  uint local_84;
  void *local_4c;
  undefined1 *puStack_48;
  undefined4 local_44;
  
  local_44 = 0xffffffff;
  puStack_48 = &LAB_00b24a2f;
  local_4c = ExceptionList;
  local_84 = DAT_00d66fa0 ^ (uint)auStack_f4;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffff00;
  ExceptionList = &local_4c;
  local_c4 = in_EDX;
  uVar2 = FUN_00406360(&DAT_00ca7fbc,0);
  FUN_00405eb0(uVar2,0,0xffffffff);
  if (in_EDX == 0) {
    FUN_008018d0();
  }
  else {
    FUN_00406460();
    local_44 = 0;
    FUN_0081d120();
    local_44._0_1_ = 2;
    if (7 < local_c8) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0(uVar1);
    }
    fVar5 = 0.0;
    local_c8 = 7;
    local_cc = 0;
    local_dc = 0;
    if ((DAT_0172491c != 0) && (*(int *)(DAT_0172491c + 0x17c) != 0)) {
      iVar3 = FUN_004049b0();
      fVar5 = (float)*(int *)(iVar3 + 100);
      local_e4 = fVar5;
      if (*(int *)(iVar3 + 100) < 0) {
        fVar5 = fVar5 + 4.2949673e+09;
        local_e4 = fVar5;
      }
    }
    puVar4 = local_9c;
    if (local_88 < 8) {
      puVar4 = &local_9c;
    }
    uVar2 = FUN_00404750(L"@N%s : %.1f",puVar4,
                         (double)(((float)*(int *)(in_EDX + 0x29c) + fVar5) * 0.001));
    local_44._0_1_ = 3;
    FUN_00405eb0(uVar2,0,0xffffffff);
    local_44._0_1_ = 2;
    if (7 < local_c8) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_c8 = 7;
    local_cc = 0;
    local_dc = 0;
    FUN_00406460();
    local_44._0_1_ = 4;
    uVar2 = FUN_0081d120();
    local_44._0_1_ = 5;
    FUN_00405eb0(uVar2,0,0xffffffff);
    local_44 = CONCAT31(local_44._1_3_,4);
    if (7 < local_a4) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_a4 = 7;
    local_a8 = 0;
    local_b8 = 0;
    local_44._0_1_ = 2;
    if (7 < local_c8) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_c8 = 7;
    local_cc = 0;
    local_dc = 0;
    if (*(uint *)(param_1 + 0x18) < 8) {
      param_1 = param_1 + 4;
    }
    else {
      param_1 = *(int *)(param_1 + 4);
    }
    uVar2 = FUN_00404750(L"\n@N%s : %.1fm",param_1,
                         (double)((float)(int)*(short *)(local_c4 + 0x298) * 0.1));
    local_44._0_1_ = 6;
    FUN_00405eb0(uVar2,0,0xffffffff);
    local_44 = CONCAT31(local_44._1_3_,2);
    if (7 < local_a4) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_a4 = 7;
    local_a8 = 0;
    local_b8 = 0;
    local_44 = 0xffffffff;
    if (7 < local_88) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_88 = 7;
    local_8c = 0;
    local_9c = (undefined4 *)((uint)local_9c._2_2_ << 0x10);
  }
  ExceptionList = local_4c;
  __security_check_cookie(local_84 ^ (uint)auStack_f4);
  return;
}



============================================================
DISASSEMBLY
============================================================
009f3c80 : PUSH EBP
009f3c81 : MOV EBP,ESP
009f3c83 : AND ESP,0xffffffc0
009f3c86 : PUSH -0x1
009f3c88 : PUSH 0xb24a2f
009f3c8d : MOV EAX,FS:[0x0]
009f3c93 : PUSH EAX
009f3c94 : SUB ESP,0xa8
009f3c9a : MOV EAX,[0x00d66fa0]
009f3c9f : XOR EAX,ESP
009f3ca1 : MOV dword ptr [ESP + 0x70],EAX
009f3ca5 : PUSH EBX
009f3ca6 : PUSH ESI
009f3ca7 : PUSH EDI
009f3ca8 : MOV EAX,[0x00d66fa0]
009f3cad : XOR EAX,ESP
009f3caf : PUSH EAX
009f3cb0 : LEA EAX,[ESP + 0xb8]
009f3cb7 : MOV FS:[0x0],EAX
009f3cbd : MOV EBX,dword ptr [EBP + 0x8]
009f3cc0 : PUSH 0x0
009f3cc2 : MOV ESI,EDX
009f3cc4 : PUSH 0xca7fbc
009f3cc9 : MOV dword ptr [ESP + 0x48],ESI
009f3ccd : MOV dword ptr [ESP + 0x4c],ECX
009f3cd1 : CALL 0x00406360
009f3cd6 : PUSH -0x1
009f3cd8 : PUSH 0x0
009f3cda : PUSH EAX
009f3cdb : MOV ECX,EBX
009f3cdd : CALL 0x00405eb0
009f3ce2 : TEST ESI,ESI
009f3ce4 : JNZ 0x009f3cfe
009f3ce6 : MOV ESI,dword ptr [0x00da98e8]
009f3cec : PUSH 0xca7fc0
009f3cf1 : CALL 0x008018d0
009f3cf6 : ADD ESP,0x4
009f3cf9 : JMP 0x009f3f5c
009f3cfe : PUSH 0xca805c
009f3d03 : LEA ECX,[ESP + 0x28]
009f3d07 : CALL 0x00406460
009f3d0c : MOV dword ptr [ESP + 0xc0],0x0
009f3d17 : MOV ECX,dword ptr [0x0172491c]
009f3d1d : LEA EAX,[ESP + 0x24]
009f3d21 : PUSH EAX
009f3d22 : LEA EDI,[ESP + 0x68]
009f3d26 : CALL 0x0081d120
009f3d2b : MOV byte ptr [ESP + 0xc0],0x2
009f3d33 : MOV EDI,0x8
009f3d38 : CMP dword ptr [ESP + 0x3c],EDI
009f3d3c : JC 0x009f3d47
009f3d3e : MOV ECX,dword ptr [ESP + 0x28]
009f3d42 : CALL 0x006f04e0
009f3d47 : MOV EAX,[0x0172491c]
009f3d4c : XORPS XMM1,XMM1
009f3d4f : XOR ECX,ECX
009f3d51 : MOV dword ptr [ESP + 0x3c],0x7
009f3d59 : MOV dword ptr [ESP + 0x38],0x0
009f3d61 : MOV word ptr [ESP + 0x28],CX
009f3d66 : TEST EAX,EAX
009f3d68 : JZ 0x009f3d9a
009f3d6a : MOV EAX,dword ptr [EAX + 0x17c]
009f3d70 : TEST EAX,EAX
009f3d72 : JZ 0x009f3d9a
009f3d74 : MOV EAX,dword ptr [EAX + 0x8]
009f3d77 : PUSH EAX
009f3d78 : CALL 0x004049b0
009f3d7d : FILD dword ptr [EAX + 0x64]
009f3d80 : MOV EDX,dword ptr [EAX + 0x64]
009f3d83 : ADD ESP,0x4
009f3d86 : TEST EDX,EDX
009f3d88 : JGE 0x009f3d90
009f3d8a : FADD float ptr [0x00cdf0e0]
009f3d90 : FSTP float ptr [ESP + 0x20]
009f3d94 : MOVSS XMM1,dword ptr [ESP + 0x20]
009f3d9a : CVTSI2SS XMM0,dword ptr [ESI + 0x29c]
009f3da2 : MOV EAX,dword ptr [ESP + 0x68]
009f3da6 : ADDSS XMM0,XMM1
009f3daa : MULSS XMM0,dword ptr [0x00cdf128]
009f3db2 : CMP dword ptr [ESP + 0x7c],EDI
009f3db6 : JNC 0x009f3dbc
009f3db8 : LEA EAX,[ESP + 0x68]
009f3dbc : SUB ESP,0x8
009f3dbf : CVTSS2SD XMM0,XMM0
009f3dc3 : MOVSD qword ptr [ESP],XMM0
009f3dc8 : PUSH EAX
009f3dc9 : PUSH 0xca8090
009f3dce : LEA ESI,[ESP + 0x34]
009f3dd2 : CALL 0x00404750
009f3dd7 : ADD ESP,0x10
009f3dda : MOV byte ptr [ESP + 0xc0],0x3
009f3de2 : MOV ECX,dword ptr [ESP + 0x44]
009f3de6 : PUSH -0x1
009f3de8 : XOR ESI,ESI
009f3dea : PUSH ESI
009f3deb : PUSH EAX
009f3dec : CALL 0x00405eb0
009f3df1 : MOV byte ptr [ESP + 0xc0],0x2
009f3df9 : CMP dword ptr [ESP + 0x3c],EDI
009f3dfd : JC 0x009f3e08
009f3dff : MOV ECX,dword ptr [ESP + 0x28]
009f3e03 : CALL 0x006f04e0
009f3e08 : XOR EAX,EAX
009f3e0a : PUSH 0xca80a8
009f3e0f : LEA ECX,[ESP + 0x28]
009f3e13 : MOV dword ptr [ESP + 0x40],0x7
009f3e1b : MOV dword ptr [ESP + 0x3c],ESI
009f3e1f : MOV word ptr [ESP + 0x2c],AX
009f3e24 : CALL 0x00406460
009f3e29 : MOV byte ptr [ESP + 0xc0],0x4
009f3e31 : LEA ECX,[ESP + 0x24]
009f3e35 : PUSH ECX
009f3e36 : MOV ECX,dword ptr [0x0172491c]
009f3e3c : LEA EDI,[ESP + 0x4c]
009f3e40 : CALL 0x0081d120
009f3e45 : MOV byte ptr [ESP + 0xc0],0x5
009f3e4d : PUSH -0x1
009f3e4f : PUSH ESI
009f3e50 : PUSH EAX
009f3e51 : MOV ECX,EBX
009f3e53 : CALL 0x00405eb0
009f3e58 : MOV byte ptr [ESP + 0xc0],0x4
009f3e60 : MOV EDI,0x8
009f3e65 : CMP dword ptr [ESP + 0x60],EDI
009f3e69 : JC 0x009f3e74
009f3e6b : MOV ECX,dword ptr [ESP + 0x4c]
009f3e6f : CALL 0x006f04e0
009f3e74 : XOR EDX,EDX
009f3e76 : MOV dword ptr [ESP + 0x60],0x7
009f3e7e : MOV dword ptr [ESP + 0x5c],ESI
009f3e82 : MOV word ptr [ESP + 0x4c],DX
009f3e87 : MOV byte ptr [ESP + 0xc0],0x2
009f3e8f : CMP dword ptr [ESP + 0x3c],EDI
009f3e93 : JC 0x009f3e9e
009f3e95 : MOV ECX,dword ptr [ESP + 0x28]
009f3e99 : CALL 0x006f04e0
009f3e9e : XOR EAX,EAX
009f3ea0 : MOV dword ptr [ESP + 0x3c],0x7
009f3ea8 : MOV dword ptr [ESP + 0x38],ESI
009f3eac : MOV word ptr [ESP + 0x28],AX
009f3eb1 : CMP dword ptr [EBX + 0x18],EDI
009f3eb4 : JC 0x009f3ebb
009f3eb6 : MOV EAX,dword ptr [EBX + 0x4]
009f3eb9 : JMP 0x009f3ebe
009f3ebb : LEA EAX,[EBX + 0x4]
009f3ebe : MOV ECX,dword ptr [ESP + 0x40]
009f3ec2 : MOVSX EDX,word ptr [ECX + 0x298]
009f3ec9 : CVTSI2SS XMM0,EDX
009f3ecd : MULSS XMM0,dword ptr [0x00cdf0f0]
009f3ed5 : SUB ESP,0x8
009f3ed8 : CVTSS2SD XMM0,XMM0
009f3edc : MOVSD qword ptr [ESP],XMM0
009f3ee1 : PUSH EAX
009f3ee2 : PUSH 0xca80dc
009f3ee7 : LEA ESI,[ESP + 0x58]
009f3eeb : CALL 0x00404750
009f3ef0 : ADD ESP,0x10
009f3ef3 : MOV byte ptr [ESP + 0xc0],0x6
009f3efb : PUSH -0x1
009f3efd : XOR ESI,ESI
009f3eff : PUSH ESI
009f3f00 : PUSH EAX
009f3f01 : MOV ECX,EBX
009f3f03 : CALL 0x00405eb0
009f3f08 : MOV byte ptr [ESP + 0xc0],0x2
009f3f10 : CMP dword ptr [ESP + 0x60],EDI
009f3f14 : JC 0x009f3f1f
009f3f16 : MOV ECX,dword ptr [ESP + 0x4c]
009f3f1a : CALL 0x006f04e0
009f3f1f : MOV EBX,0x7
009f3f24 : XOR EAX,EAX
009f3f26 : MOV dword ptr [ESP + 0x60],EBX
009f3f2a : MOV dword ptr [ESP + 0x5c],ESI
009f3f2e : MOV word ptr [ESP + 0x4c],AX
009f3f33 : MOV dword ptr [ESP + 0xc0],0xffffffff
009f3f3e : CMP dword ptr [ESP + 0x7c],EDI
009f3f42 : JC 0x009f3f4d
009f3f44 : MOV ECX,dword ptr [ESP + 0x68]
009f3f48 : CALL 0x006f04e0
009f3f4d : XOR ECX,ECX
009f3f4f : MOV dword ptr [ESP + 0x7c],EBX
009f3f53 : MOV dword ptr [ESP + 0x78],ESI
009f3f57 : MOV word ptr [ESP + 0x68],CX
009f3f5c : MOV ECX,dword ptr [ESP + 0xb8]
009f3f63 : MOV dword ptr FS:[0x0],ECX
009f3f6a : POP ECX
009f3f6b : POP EDI
009f3f6c : POP ESI
009f3f6d : POP EBX
009f3f6e : MOV ECX,dword ptr [ESP + 0x70]
009f3f72 : XOR ECX,ESP
009f3f74 : CALL 0x00633e6b
009f3f79 : MOV ESP,EBP
009f3f7b : POP EBP
009f3f7c : RET
