PROGRAM  : Maestia.exe
FUNCTION : FUN_00618330
ENTRY    : 00618330
BODY     : [[00618330, 0061879b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00618330(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 *puVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  int local_4;
  
  iVar1 = *(int *)(param_1 + 0x164);
  iVar2 = *(int *)(param_1 + 0x2c0);
  iVar3 = *(int *)(iVar2 + 0x90);
  puVar4 = *(undefined4 **)(iVar2 + 0x78);
  if (puVar4 != (undefined4 *)0x0) {
    puVar4[2] = *(undefined4 *)(iVar1 + 0x10c);
    *puVar4 = *(undefined4 *)(*(int *)(param_1 + 0x164) + 0x68);
    puVar4[3] = *(undefined4 *)(*(int *)(param_1 + 0x164) + 300);
    puVar4[0x14] = *(int *)(iVar1 + 0xe8) >> 8 & 0xff;
    puVar6 = (undefined4 *)(param_1 + 0x110);
    puVar7 = puVar4 + 4;
    for (iVar5 = 0x10; iVar5 != 0; iVar5 = iVar5 + -1) {
      *puVar7 = *puVar6;
      puVar6 = puVar6 + 1;
      puVar7 = puVar7 + 1;
    }
    *(int *)(iVar2 + 0x78) = *(int *)(iVar2 + 0x78) + 0x80;
    if ((*(byte *)(iVar2 + 0xc) & 0x18) == 0) {
      if (*(int *)(param_1 + 0x104) != 0) {
        *(undefined4 *)(*(int *)(param_1 + 0x104) + 300) =
             *(undefined4 *)(*(int *)(param_1 + 0x104) + 0x124);
      }
      iVar3 = *(int *)(*(int *)(param_1 + 0x104) + 300);
      while (iVar3 != 0) {
        *(undefined4 *)(*(int *)(param_1 + 0x104) + 300) =
             **(undefined4 **)(*(int *)(param_1 + 0x104) + 300);
        puVar6 = *(undefined4 **)(iVar2 + 0x78);
        *puVar6 = *(undefined4 *)(iVar3 + 0x20);
        puVar6[1] = *(undefined4 *)(iVar3 + 0x24);
        puVar6[2] = *(undefined4 *)(iVar3 + 0x28);
        puVar6[0x15] = *(float *)(iVar1 + 0x98) * 0.017453292 + *(float *)(iVar3 + 0x58);
        puVar6[0x16] = *(float *)(iVar1 + 0x9c) * 0.017453292 + *(float *)(iVar3 + 0x58);
        puVar6[0x17] = *(float *)(iVar1 + 0xa0) * 0.017453292 + *(float *)(iVar3 + 0x58);
        puVar6[8] = *(undefined4 *)
                     (*(int *)(*(int *)(param_1 + 0x164) + 300) + 0x108 +
                     *(int *)(iVar3 + 0x5c) * 0x120);
        puVar6[10] = *(undefined4 *)
                      (*(int *)(*(int *)(param_1 + 0x164) + 300) + 0x110 +
                      *(int *)(iVar3 + 0x5c) * 0x120);
        puVar6[9] = *(undefined4 *)
                     (*(int *)(*(int *)(param_1 + 0x164) + 300) + 0x10c +
                     *(int *)(iVar3 + 0x5c) * 0x120);
        puVar6[0xb] = *(undefined4 *)
                       (*(int *)(*(int *)(param_1 + 0x164) + 300) + 0x114 +
                       *(int *)(iVar3 + 0x5c) * 0x120);
        puVar6[0xc] = *(float *)(iVar1 + 0x88) * *(float *)(iVar3 + 0x54);
        puVar6[0xd] = *(float *)(iVar1 + 0x8c) * *(float *)(iVar3 + 0x54);
        puVar6[0xe] = *(float *)(iVar3 + 0x54) * *(float *)(iVar1 + 0x90);
        puVar6[4] = *(float *)(iVar3 + 0x40) * *(float *)(iVar1 + 0xa8);
        puVar6[5] = *(float *)(iVar3 + 0x44) * *(float *)(iVar1 + 0xac);
        puVar6[6] = *(float *)(iVar3 + 0x48) * *(float *)(iVar1 + 0xb0);
        puVar6[7] = *(float *)(iVar3 + 0x4c) * *(float *)(iVar1 + 0xb4);
        puVar6[0x10] = *(undefined4 *)(iVar3 + 0x30);
        puVar6[0x11] = *(undefined4 *)(iVar3 + 0x34);
        puVar6[0x12] = *(undefined4 *)(iVar3 + 0x38);
        puVar6[0x13] = *(undefined4 *)(iVar3 + 0x3c);
        puVar6[0x14] = *(undefined4 *)
                        (*(int *)(*(int *)(param_1 + 0x164) + 300) + 0x118 +
                        *(int *)(iVar3 + 0x5c) * 0x120);
        puVar6[0x19] = *(undefined4 *)(iVar3 + 0x60);
        *(int *)(iVar2 + 0x78) = *(int *)(iVar2 + 0x78) + 0x70;
        iVar3 = *(int *)(*(int *)(param_1 + 0x104) + 300);
      }
    }
    else {
      local_4 = 0;
      if (0 < *(int *)(iVar3 + 0x18)) {
        do {
          iVar5 = *(int *)(*(int *)(iVar3 + 0x1c) + local_4 * 4);
          puVar6 = *(undefined4 **)(iVar2 + 0x78);
          *puVar6 = *(undefined4 *)(iVar5 + 0x20);
          puVar6[1] = *(undefined4 *)(iVar5 + 0x24);
          puVar6[2] = *(undefined4 *)(iVar5 + 0x28);
          puVar6[0x15] = *(float *)(iVar1 + 0x98) * 0.017453292 + *(float *)(iVar5 + 0x58);
          puVar6[0x16] = *(float *)(iVar1 + 0x9c) * 0.017453292 + *(float *)(iVar5 + 0x58);
          puVar6[0x17] = *(float *)(iVar1 + 0xa0) * 0.017453292 + *(float *)(iVar5 + 0x58);
          puVar6[8] = *(undefined4 *)
                       (*(int *)(*(int *)(param_1 + 0x164) + 300) + 0x108 +
                       *(int *)(iVar5 + 0x5c) * 0x120);
          puVar6[10] = *(undefined4 *)
                        (*(int *)(*(int *)(param_1 + 0x164) + 300) + 0x110 +
                        *(int *)(iVar5 + 0x5c) * 0x120);
          puVar6[9] = *(undefined4 *)
                       (*(int *)(*(int *)(param_1 + 0x164) + 300) + 0x10c +
                       *(int *)(iVar5 + 0x5c) * 0x120);
          puVar6[0xb] = *(undefined4 *)
                         (*(int *)(*(int *)(param_1 + 0x164) + 300) + 0x114 +
                         *(int *)(iVar5 + 0x5c) * 0x120);
          puVar6[0xc] = *(float *)(iVar1 + 0x88) * *(float *)(iVar5 + 0x54);
          puVar6[0xd] = *(float *)(iVar1 + 0x8c) * *(float *)(iVar5 + 0x54);
          puVar6[0xe] = *(float *)(iVar5 + 0x54) * *(float *)(iVar1 + 0x90);
          puVar6[4] = *(float *)(iVar5 + 0x40) * *(float *)(iVar1 + 0xa8);
          puVar6[5] = *(float *)(iVar5 + 0x44) * *(float *)(iVar1 + 0xac);
          puVar6[6] = *(float *)(iVar5 + 0x48) * *(float *)(iVar1 + 0xb0);
          puVar6[7] = *(float *)(iVar5 + 0x4c) * *(float *)(iVar1 + 0xb4);
          puVar6[0x10] = *(undefined4 *)(iVar5 + 0x30);
          puVar6[0x11] = *(undefined4 *)(iVar5 + 0x34);
          puVar6[0x12] = *(undefined4 *)(iVar5 + 0x38);
          puVar6[0x13] = *(undefined4 *)(iVar5 + 0x3c);
          puVar6[0x14] = *(undefined4 *)
                          (*(int *)(*(int *)(param_1 + 0x164) + 300) + 0x118 +
                          *(int *)(iVar5 + 0x5c) * 0x120);
          puVar6[0x19] = *(undefined4 *)(iVar5 + 0x60);
          *(int *)(iVar2 + 0x78) = *(int *)(iVar2 + 0x78) + 0x70;
          local_4 = local_4 + 1;
        } while (local_4 < *(int *)(iVar3 + 0x18));
      }
    }
    puVar4[1] = *(undefined4 *)(*(int *)(param_1 + 0x104) + 0x120);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00618330 : SUB ESP,0x8
00618333 : PUSH EBX
00618334 : MOV EBX,dword ptr [ESP + 0x10]
00618338 : MOV EDX,dword ptr [EBX + 0x164]
0061833e : PUSH EBP
0061833f : MOV EBP,dword ptr [EBX + 0x2c0]
00618345 : MOV EAX,dword ptr [EBP + 0x90]
0061834b : MOV dword ptr [ESP + 0x14],EAX
0061834f : MOV EAX,dword ptr [EBP + 0x78]
00618352 : MOV dword ptr [ESP + 0x8],EAX
00618356 : TEST EAX,EAX
00618358 : JZ 0x00618796
0061835e : MOV ECX,EDX
00618360 : MOV ECX,dword ptr [ECX + 0x10c]
00618366 : MOV dword ptr [EAX + 0x8],ECX
00618369 : MOV ECX,dword ptr [EBX + 0x164]
0061836f : MOV ECX,dword ptr [ECX + 0x68]
00618372 : MOV dword ptr [EAX],ECX
00618374 : MOV ECX,dword ptr [EBX + 0x164]
0061837a : MOV ECX,dword ptr [ECX + 0x12c]
00618380 : MOV dword ptr [EAX + 0xc],ECX
00618383 : MOV ECX,dword ptr [EDX + 0xe8]
00618389 : SAR ECX,0x8
0061838c : AND ECX,0xff
00618392 : PUSH ESI
00618393 : MOV dword ptr [EAX + 0x50],ECX
00618396 : PUSH EDI
00618397 : LEA ESI,[EBX + 0x110]
0061839d : LEA EDI,[EAX + 0x10]
006183a0 : MOV ECX,0x10
006183a5 : MOVSD.REP ES:EDI,ESI
006183a7 : SUB dword ptr [EBP + 0x78],-0x80
006183ab : TEST byte ptr [EBP + 0xc],0x18
006183af : JNZ 0x006185ae
006183b5 : CMP dword ptr [EBX + 0x104],0x0
006183bc : JZ 0x006183d0
006183be : MOV EAX,dword ptr [EBX + 0x104]
006183c4 : MOV ECX,dword ptr [EAX + 0x124]
006183ca : MOV dword ptr [EAX + 0x12c],ECX
006183d0 : MOV EAX,dword ptr [EBX + 0x104]
006183d6 : MOV EAX,dword ptr [EAX + 0x12c]
006183dc : TEST EAX,EAX
006183de : JZ 0x00618781
006183e4 : MOVSS XMM0,dword ptr [0x00cdf170]
006183ec : LEA ESP,[ESP]
006183f0 : MOV ECX,dword ptr [EBX + 0x104]
006183f6 : MOV ESI,dword ptr [ECX + 0x12c]
006183fc : MOV ESI,dword ptr [ESI]
006183fe : MOV dword ptr [ECX + 0x12c],ESI
00618404 : FLD float ptr [EAX + 0x20]
00618407 : MOV ECX,dword ptr [EBP + 0x78]
0061840a : FSTP float ptr [ECX]
0061840c : FLD float ptr [EAX + 0x24]
0061840f : FSTP float ptr [ECX + 0x4]
00618412 : FLD float ptr [EAX + 0x28]
00618415 : FSTP float ptr [ECX + 0x8]
00618418 : MOVSS XMM1,dword ptr [EDX + 0x98]
00618420 : MULSS XMM1,XMM0
00618424 : ADDSS XMM1,dword ptr [EAX + 0x58]
00618429 : MOVSS dword ptr [ECX + 0x54],XMM1
0061842e : MOVSS XMM1,dword ptr [EDX + 0x9c]
00618436 : MULSS XMM1,XMM0
0061843a : ADDSS XMM1,dword ptr [EAX + 0x58]
0061843f : MOVSS dword ptr [ECX + 0x58],XMM1
00618444 : MOVSS XMM1,dword ptr [EDX + 0xa0]
0061844c : MULSS XMM1,XMM0
00618450 : ADDSS XMM1,dword ptr [EAX + 0x58]
00618455 : MOVSS dword ptr [ECX + 0x5c],XMM1
0061845a : MOV ESI,dword ptr [EAX + 0x5c]
0061845d : MOV EDI,dword ptr [EBX + 0x164]
00618463 : MOV EDI,dword ptr [EDI + 0x12c]
00618469 : LEA ESI,[ESI + ESI*0x8]
0061846c : SHL ESI,0x5
0061846f : FLD float ptr [EDI + ESI*0x1 + 0x108]
00618476 : FSTP float ptr [ECX + 0x20]
00618479 : MOV ESI,dword ptr [EAX + 0x5c]
0061847c : MOV EDI,dword ptr [EBX + 0x164]
00618482 : MOV EDI,dword ptr [EDI + 0x12c]
00618488 : LEA ESI,[ESI + ESI*0x8]
0061848b : SHL ESI,0x5
0061848e : FLD float ptr [EDI + ESI*0x1 + 0x110]
00618495 : FSTP float ptr [ECX + 0x28]
00618498 : MOV ESI,dword ptr [EAX + 0x5c]
0061849b : MOV EDI,dword ptr [EBX + 0x164]
006184a1 : MOV EDI,dword ptr [EDI + 0x12c]
006184a7 : LEA ESI,[ESI + ESI*0x8]
006184aa : SHL ESI,0x5
006184ad : FLD float ptr [EDI + ESI*0x1 + 0x10c]
006184b4 : FSTP float ptr [ECX + 0x24]
006184b7 : MOV ESI,dword ptr [EAX + 0x5c]
006184ba : MOV EDI,dword ptr [EBX + 0x164]
006184c0 : MOV EDI,dword ptr [EDI + 0x12c]
006184c6 : LEA ESI,[ESI + ESI*0x8]
006184c9 : SHL ESI,0x5
006184cc : FLD float ptr [EDI + ESI*0x1 + 0x114]
006184d3 : FSTP float ptr [ECX + 0x2c]
006184d6 : MOVSS XMM1,dword ptr [EDX + 0x88]
006184de : MULSS XMM1,dword ptr [EAX + 0x54]
006184e3 : MOVSS dword ptr [ECX + 0x30],XMM1
006184e8 : MOVSS XMM1,dword ptr [EDX + 0x8c]
006184f0 : MULSS XMM1,dword ptr [EAX + 0x54]
006184f5 : MOVSS dword ptr [ECX + 0x34],XMM1
006184fa : MOVSS XMM1,dword ptr [EAX + 0x54]
006184ff : MULSS XMM1,dword ptr [EDX + 0x90]
00618507 : MOVSS dword ptr [ECX + 0x38],XMM1
0061850c : MOVSS XMM1,dword ptr [EAX + 0x40]
00618511 : MULSS XMM1,dword ptr [EDX + 0xa8]
00618519 : MOVSS dword ptr [ECX + 0x10],XMM1
0061851e : MOVSS XMM1,dword ptr [EAX + 0x44]
00618523 : MULSS XMM1,dword ptr [EDX + 0xac]
0061852b : MOVSS dword ptr [ECX + 0x14],XMM1
00618530 : MOVSS XMM1,dword ptr [EAX + 0x48]
00618535 : MULSS XMM1,dword ptr [EDX + 0xb0]
0061853d : MOVSS dword ptr [ECX + 0x18],XMM1
00618542 : MOVSS XMM1,dword ptr [EAX + 0x4c]
00618547 : MULSS XMM1,dword ptr [EDX + 0xb4]
0061854f : MOVSS dword ptr [ECX + 0x1c],XMM1
00618554 : FLD float ptr [EAX + 0x30]
00618557 : FSTP float ptr [ECX + 0x40]
0061855a : FLD float ptr [EAX + 0x34]
0061855d : FSTP float ptr [ECX + 0x44]
00618560 : FLD float ptr [EAX + 0x38]
00618563 : FSTP float ptr [ECX + 0x48]
00618566 : FLD float ptr [EAX + 0x3c]
00618569 : FSTP float ptr [ECX + 0x4c]
0061856c : MOV EDI,dword ptr [EBX + 0x164]
00618572 : MOV ESI,dword ptr [EAX + 0x5c]
00618575 : MOV EDI,dword ptr [EDI + 0x12c]
0061857b : LEA ESI,[ESI + ESI*0x8]
0061857e : SHL ESI,0x5
00618581 : MOV ESI,dword ptr [EDI + ESI*0x1 + 0x118]
00618588 : MOV dword ptr [ECX + 0x50],ESI
0061858b : FLD float ptr [EAX + 0x60]
0061858e : FSTP float ptr [ECX + 0x64]
00618591 : ADD dword ptr [EBP + 0x78],0x70
00618595 : MOV ECX,dword ptr [EBX + 0x104]
0061859b : MOV EAX,dword ptr [ECX + 0x12c]
006185a1 : TEST EAX,EAX
006185a3 : JNZ 0x006183f0
006185a9 : JMP 0x00618781
006185ae : MOV ESI,dword ptr [ESP + 0x1c]
006185b2 : XOR ECX,ECX
006185b4 : CMP dword ptr [ESI + 0x18],ECX
006185b7 : MOV dword ptr [ESP + 0x14],ECX
006185bb : JLE 0x00618785
006185c1 : MOVSS XMM0,dword ptr [0x00cdf170]
006185c9 : LEA ESP,[ESP]
006185d0 : MOV EAX,dword ptr [ESP + 0x1c]
006185d4 : MOV EAX,dword ptr [EAX + 0x1c]
006185d7 : MOV EAX,dword ptr [EAX + ECX*0x4]
006185da : MOV ECX,dword ptr [EBP + 0x78]
006185dd : FLD float ptr [EAX + 0x20]
006185e0 : FSTP float ptr [ECX]
006185e2 : FLD float ptr [EAX + 0x24]
006185e5 : FSTP float ptr [ECX + 0x4]
006185e8 : FLD float ptr [EAX + 0x28]
006185eb : FSTP float ptr [ECX + 0x8]
006185ee : MOVSS XMM1,dword ptr [EDX + 0x98]
006185f6 : MULSS XMM1,XMM0
006185fa : ADDSS XMM1,dword ptr [EAX + 0x58]
006185ff : MOVSS dword ptr [ECX + 0x54],XMM1
00618604 : MOVSS XMM1,dword ptr [EDX + 0x9c]
0061860c : MULSS XMM1,XMM0
00618610 : ADDSS XMM1,dword ptr [EAX + 0x58]
00618615 : MOVSS dword ptr [ECX + 0x58],XMM1
0061861a : MOVSS XMM1,dword ptr [EDX + 0xa0]
00618622 : MULSS XMM1,XMM0
00618626 : ADDSS XMM1,dword ptr [EAX + 0x58]
0061862b : MOVSS dword ptr [ECX + 0x5c],XMM1
00618630 : MOV ESI,dword ptr [EAX + 0x5c]
00618633 : MOV EDI,dword ptr [EBX + 0x164]
00618639 : MOV EDI,dword ptr [EDI + 0x12c]
0061863f : LEA ESI,[ESI + ESI*0x8]
00618642 : SHL ESI,0x5
00618645 : FLD float ptr [EDI + ESI*0x1 + 0x108]
0061864c : FSTP float ptr [ECX + 0x20]
0061864f : MOV ESI,dword ptr [EAX + 0x5c]
00618652 : MOV EDI,dword ptr [EBX + 0x164]
00618658 : MOV EDI,dword ptr [EDI + 0x12c]
0061865e : LEA ESI,[ESI + ESI*0x8]
00618661 : SHL ESI,0x5
00618664 : FLD float ptr [EDI + ESI*0x1 + 0x110]
0061866b : FSTP float ptr [ECX + 0x28]
0061866e : MOV ESI,dword ptr [EAX + 0x5c]
00618671 : MOV EDI,dword ptr [EBX + 0x164]
00618677 : MOV EDI,dword ptr [EDI + 0x12c]
0061867d : LEA ESI,[ESI + ESI*0x8]
00618680 : SHL ESI,0x5
00618683 : FLD float ptr [EDI + ESI*0x1 + 0x10c]
0061868a : FSTP float ptr [ECX + 0x24]
0061868d : MOV ESI,dword ptr [EAX + 0x5c]
00618690 : MOV EDI,dword ptr [EBX + 0x164]
00618696 : MOV EDI,dword ptr [EDI + 0x12c]
0061869c : LEA ESI,[ESI + ESI*0x8]
0061869f : SHL ESI,0x5
006186a2 : FLD float ptr [EDI + ESI*0x1 + 0x114]
006186a9 : FSTP float ptr [ECX + 0x2c]
006186ac : MOVSS XMM1,dword ptr [EDX + 0x88]
006186b4 : MULSS XMM1,dword ptr [EAX + 0x54]
006186b9 : MOVSS dword ptr [ECX + 0x30],XMM1
006186be : MOVSS XMM1,dword ptr [EDX + 0x8c]
006186c6 : MULSS XMM1,dword ptr [EAX + 0x54]
006186cb : MOVSS dword ptr [ECX + 0x34],XMM1
006186d0 : MOVSS XMM1,dword ptr [EAX + 0x54]
006186d5 : MULSS XMM1,dword ptr [EDX + 0x90]
006186dd : MOVSS dword ptr [ECX + 0x38],XMM1
006186e2 : MOVSS XMM1,dword ptr [EAX + 0x40]
006186e7 : MULSS XMM1,dword ptr [EDX + 0xa8]
006186ef : MOVSS dword ptr [ECX + 0x10],XMM1
006186f4 : MOVSS XMM1,dword ptr [EAX + 0x44]
006186f9 : MULSS XMM1,dword ptr [EDX + 0xac]
00618701 : MOVSS dword ptr [ECX + 0x14],XMM1
00618706 : MOVSS XMM1,dword ptr [EAX + 0x48]
0061870b : MULSS XMM1,dword ptr [EDX + 0xb0]
00618713 : MOVSS dword ptr [ECX + 0x18],XMM1
00618718 : MOVSS XMM1,dword ptr [EAX + 0x4c]
0061871d : MULSS XMM1,dword ptr [EDX + 0xb4]
00618725 : MOVSS dword ptr [ECX + 0x1c],XMM1
0061872a : FLD float ptr [EAX + 0x30]
0061872d : FSTP float ptr [ECX + 0x40]
00618730 : FLD float ptr [EAX + 0x34]
00618733 : FSTP float ptr [ECX + 0x44]
00618736 : FLD float ptr [EAX + 0x38]
00618739 : FSTP float ptr [ECX + 0x48]
0061873c : FLD float ptr [EAX + 0x3c]
0061873f : FSTP float ptr [ECX + 0x4c]
00618742 : MOV EDI,dword ptr [EBX + 0x164]
00618748 : MOV ESI,dword ptr [EAX + 0x5c]
0061874b : MOV EDI,dword ptr [EDI + 0x12c]
00618751 : LEA ESI,[ESI + ESI*0x8]
00618754 : SHL ESI,0x5
00618757 : MOV ESI,dword ptr [EDI + ESI*0x1 + 0x118]
0061875e : MOV dword ptr [ECX + 0x50],ESI
00618761 : FLD float ptr [EAX + 0x60]
00618764 : MOV EAX,dword ptr [ESP + 0x1c]
00618768 : FSTP float ptr [ECX + 0x64]
0061876b : MOV ECX,dword ptr [ESP + 0x14]
0061876f : ADD dword ptr [EBP + 0x78],0x70
00618773 : INC ECX
00618774 : CMP ECX,dword ptr [EAX + 0x18]
00618777 : MOV dword ptr [ESP + 0x14],ECX
0061877b : JL 0x006185d0
00618781 : MOV EAX,dword ptr [ESP + 0x10]
00618785 : MOV ECX,dword ptr [EBX + 0x104]
0061878b : MOV EDX,dword ptr [ECX + 0x120]
00618791 : POP EDI
00618792 : MOV dword ptr [EAX + 0x4],EDX
00618795 : POP ESI
00618796 : POP EBP
00618797 : POP EBX
00618798 : ADD ESP,0x8
0061879b : RET
