PROGRAM  : Maestia.exe
FUNCTION : FUN_0055c5d0
ENTRY    : 0055c5d0
BODY     : [[0055c5d0, 0055c650]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0055c5d0(undefined4 param_1)

{
  LONG LVar1;
  uint in_ECX;
  int iVar2;
  int *unaff_EDI;
  
  if (unaff_EDI != (int *)0x0) {
    FUN_0051c480(&DAT_00b8c6b4);
    iVar2 = 0;
    if (0 < *unaff_EDI) {
      do {
        FUN_0051b5d0((uint *)(in_ECX & 0xfffffffc) + 2,*(uint *)(in_ECX & 0xfffffffc) & 0x7fffffff);
        iVar2 = iVar2 + 1;
      } while (iVar2 < *unaff_EDI);
    }
    FUN_0051b5d0(param_1,0xffffffff);
    FUN_0051b5d0(&DAT_00b8b8fc,0xffffffff);
    LVar1 = InterlockedExchangeAdd((LONG *)((in_ECX & 0xfffffffc) + 4),-1);
    if (LVar1 == 1) {
      FUN_00515cf0(in_ECX & 0xfffffffc);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0055c5d0 : PUSH ECX
0055c5d1 : TEST EDI,EDI
0055c5d3 : JZ 0x0055c64f
0055c5d5 : PUSH ESI
0055c5d6 : PUSH 0xb8c6b4
0055c5db : LEA ECX,[ESP + 0x8]
0055c5df : CALL 0x0051c480
0055c5e4 : XOR ESI,ESI
0055c5e6 : CMP dword ptr [EDI],ESI
0055c5e8 : JLE 0x0055c611
0055c5ea : PUSH EBX
0055c5eb : LEA EBX,[EDI + 0x4]
0055c5ee : MOV EDI,EDI
0055c5f0 : MOV EAX,dword ptr [ESP + 0x8]
0055c5f4 : AND EAX,0xfffffffc
0055c5f7 : MOV ECX,dword ptr [EAX]
0055c5f9 : AND ECX,0x7fffffff
0055c5ff : PUSH ECX
0055c600 : ADD EAX,0x8
0055c603 : PUSH EAX
0055c604 : MOV ECX,EBX
0055c606 : CALL 0x0051b5d0
0055c60b : INC ESI
0055c60c : CMP ESI,dword ptr [EDI]
0055c60e : JL 0x0055c5f0
0055c610 : POP EBX
0055c611 : MOV EDX,dword ptr [ESP + 0xc]
0055c615 : PUSH -0x1
0055c617 : LEA ESI,[EDI + 0x4]
0055c61a : PUSH EDX
0055c61b : MOV ECX,ESI
0055c61d : CALL 0x0051b5d0
0055c622 : PUSH -0x1
0055c624 : PUSH 0xb8b8fc
0055c629 : MOV ECX,ESI
0055c62b : CALL 0x0051b5d0
0055c630 : MOV ESI,dword ptr [ESP + 0x4]
0055c634 : AND ESI,0xfffffffc
0055c637 : PUSH -0x1
0055c639 : LEA EAX,[ESI + 0x4]
0055c63c : PUSH EAX
0055c63d : CALL dword ptr [0x00b851cc]
0055c643 : SUB EAX,0x1
0055c646 : JNZ 0x0055c64e
0055c648 : PUSH ESI
0055c649 : CALL 0x00515cf0
0055c64e : POP ESI
0055c64f : POP ECX
0055c650 : RET
