PROGRAM  : Maestia.exe
FUNCTION : FUN_0070a170
ENTRY    : 0070a170
BODY     : [[0070a170, 0070a21f] [0070a23d, 0070a25a]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_0070a170(void)

{
  int *piVar1;
  uint uVar2;
  int *piVar3;
  DWORD DVar4;
  DWORD DVar5;
  uint local_8;
  
  DVar4 = _DAT_01725254;
  if ((DAT_00da9b31 != '\0') &&
     (DVar5 = GetTickCount(), piVar3 = DAT_017244e8, uVar2 = DAT_00da9b40, DVar4 = _DAT_01725254,
     999 < DVar5 - _DAT_01725254)) {
    local_8 = 5000;
    if (DAT_00da9b40 < 0x500001) {
      if (DAT_00da9b40 < 0x400001) {
        if (DAT_00da9b40 < 0x300001) {
          if (0x200000 < DAT_00da9b40) {
            local_8 = 4000;
          }
        }
        else {
          local_8 = 3000;
        }
      }
      else {
        local_8 = 2000;
      }
    }
    else {
      local_8 = 1000;
    }
    piVar1 = (int *)*DAT_017244e8;
    while (DVar4 = DVar5, piVar1 != piVar3) {
      if (local_8 < DVar5 - piVar1[6]) {
        if ((uint)piVar1[5] <= uVar2) {
          DAT_00da9b40 = uVar2 - piVar1[5];
        }
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      FUN_004192a0();
    }
  }
  _DAT_01725254 = DVar4;
  return;
}



============================================================
DISASSEMBLY
============================================================
0070a170 : PUSH EBP
0070a171 : MOV EBP,ESP
0070a173 : SUB ESP,0x14
0070a176 : CMP byte ptr [0x00da9b31],0x0
0070a17d : PUSH EBX
0070a17e : PUSH ESI
0070a17f : PUSH EDI
0070a180 : JZ 0x0070a254
0070a186 : CALL dword ptr [0x00b850d8]
0070a18c : MOV ECX,EAX
0070a18e : SUB ECX,dword ptr [0x01725254]
0070a194 : MOV dword ptr [EBP + -0xc],EAX
0070a197 : CMP ECX,0x3e8
0070a19d : JC 0x0070a254
0070a1a3 : MOV EDI,dword ptr [0x00da9b40]
0070a1a9 : MOV dword ptr [EBP + -0x4],0x1388
0070a1b0 : CMP EDI,0x500000
0070a1b6 : JBE 0x0070a1c1
0070a1b8 : MOV dword ptr [EBP + -0x4],0x3e8
0070a1bf : JMP 0x0070a1f2
0070a1c1 : CMP EDI,0x400000
0070a1c7 : JBE 0x0070a1d2
0070a1c9 : MOV dword ptr [EBP + -0x4],0x7d0
0070a1d0 : JMP 0x0070a1f2
0070a1d2 : CMP EDI,0x300000
0070a1d8 : JBE 0x0070a1e3
0070a1da : MOV dword ptr [EBP + -0x4],0xbb8
0070a1e1 : JMP 0x0070a1f2
0070a1e3 : CMP EDI,0x200000
0070a1e9 : JBE 0x0070a1f2
0070a1eb : MOV dword ptr [EBP + -0x4],0xfa0
0070a1f2 : MOV EBX,dword ptr [0x017244e8]
0070a1f8 : MOV ESI,dword ptr [EBX]
0070a1fa : MOV dword ptr [EBP + -0x8],ESI
0070a1fd : CMP ESI,EBX
0070a1ff : JZ 0x0070a24f
0070a201 : SUB EAX,dword ptr [ESI + 0x18]
0070a204 : CMP EAX,dword ptr [EBP + -0x4]
0070a207 : JBE 0x0070a23d
0070a209 : MOV EAX,dword ptr [ESI + 0x14]
0070a20c : CMP EDI,EAX
0070a20e : JC 0x0070a218
0070a210 : SUB EDI,EAX
0070a212 : MOV dword ptr [0x00da9b40],EDI
0070a218 : MOV ECX,dword ptr [ESI + 0x10]
0070a21b : CALL 0x006f04e0
0070a23d : LEA EDX,[EBP + -0x8]
0070a240 : CALL 0x004192a0
0070a245 : MOV ESI,dword ptr [EBP + -0x8]
0070a248 : MOV EAX,dword ptr [EBP + -0xc]
0070a24b : CMP ESI,EBX
0070a24d : JNZ 0x0070a201
0070a24f : MOV [0x01725254],EAX
0070a254 : POP EDI
0070a255 : POP ESI
0070a256 : POP EBX
0070a257 : MOV ESP,EBP
0070a259 : POP EBP
0070a25a : RET
