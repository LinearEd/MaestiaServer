PROGRAM  : Maestia.exe
FUNCTION : FUN_00468f90
ENTRY    : 00468f90
BODY     : [[00468f90, 00469008] [00469010, 00469140]]

============================================================
DECOMPILED C CODE
============================================================

byte FUN_00468f90(int param_1)

{
  int iVar1;
  int iVar2;
  char cVar3;
  byte bVar4;
  int iVar5;
  byte bVar6;
  float local_88 [6];
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  float local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  float local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_34;
  undefined4 local_30;
  undefined2 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined2 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined2 local_14;
  int local_10;
  byte local_9;
  
  local_30 = 10;
  local_24 = 10;
  local_18 = 10;
  local_2c = 3;
  local_14 = 0;
  bVar6 = 0;
  local_34 = 0;
  local_28 = 8;
  local_20 = 2;
  local_1c = 0x11;
  cVar3 = FUN_00471510();
  if (cVar3 != '\0') {
    iVar5 = 0;
    local_9 = 1;
    if (0 < *(int *)(param_1 + 0x1414)) {
      do {
        iVar2 = *(int *)(param_1 + 0x673c);
        iVar1 = iVar5 + 1;
        local_10 = iVar2 + *(int *)(param_1 + 0x6748) * 4;
        local_88[0] = 1.0 - (((float)iVar1 + 1.0) * 0.015 + (float)iVar5 * 0.2);
        local_60 = 1.0 - ((float)iVar1 * 0.215 + 0.015);
        local_88[1] = 0.015;
        local_88[2] = 0.0;
        local_88[3] = 0.0;
        local_88[4] = 0.0;
        local_70 = 0x3ea147ae;
        local_6c = 0;
        local_68 = 0;
        local_64 = 0x3f800000;
        local_5c = 0x3c75c28f;
        local_58 = 0;
        local_54 = 0x3f800000;
        local_50 = 0;
        local_48 = 0x3ea147ae;
        local_44 = 0;
        local_40 = 0x3f800000;
        local_3c = 0x3f800000;
        local_88[5] = local_88[0];
        local_4c = local_60;
        cVar3 = FUN_00471970(param_1 + 0x6734,local_10);
        if (cVar3 == '\0') {
          *(undefined4 *)(param_1 + 0x673c) = *(undefined4 *)(param_1 + 0x6740);
        }
        else {
          *(int *)(param_1 + 0x673c) = local_10;
        }
        _memcpy((void *)(*(int *)(param_1 + 0x6738) + iVar2),local_88,*(int *)(param_1 + 0x6748) * 4
               );
        *(int *)(param_1 + 0x674c) = *(int *)(param_1 + 0x674c) + 4;
        local_9 = local_9 & 1;
        iVar5 = iVar1;
      } while (iVar1 < *(int *)(param_1 + 0x1414));
    }
    bVar6 = local_9;
    bVar4 = FUN_004728f0();
    bVar6 = bVar6 & bVar4;
  }
  return bVar6;
}



============================================================
DISASSEMBLY
============================================================
00468f90 : PUSH EBP
00468f91 : MOV EBP,ESP
00468f93 : SUB ESP,0x88
00468f99 : PUSH EBX
00468f9a : MOV EAX,0xa
00468f9f : PUSH ESI
00468fa0 : MOV ESI,dword ptr [EBP + 0x8]
00468fa3 : MOV dword ptr [EBP + -0x2c],EAX
00468fa6 : MOV dword ptr [EBP + -0x20],EAX
00468fa9 : MOV dword ptr [EBP + -0x14],EAX
00468fac : XOR EAX,EAX
00468fae : PUSH EDI
00468faf : MOV ECX,0x3
00468fb4 : MOV word ptr [EBP + -0x28],CX
00468fb8 : MOV EDX,0x2
00468fbd : MOV word ptr [EBP + -0x10],AX
00468fc1 : LEA EDI,[ESI + 0x6710]
00468fc7 : LEA ECX,[EBP + -0x30]
00468fca : MOV EAX,EDI
00468fcc : XOR BL,BL
00468fce : MOV dword ptr [EBP + -0x30],0x0
00468fd5 : MOV dword ptr [EBP + -0x24],0x8
00468fdc : MOV word ptr [EBP + -0x1c],DX
00468fe0 : MOV dword ptr [EBP + -0x18],0x11
00468fe7 : CALL 0x00471510
00468fec : TEST AL,AL
00468fee : JZ 0x00469136
00468ff4 : XOR EAX,EAX
00468ff6 : CMP dword ptr [ESI + 0x1414],EAX
00468ffc : MOV BL,0x1
00468ffe : MOV byte ptr [EBP + -0x5],BL
00469001 : JLE 0x0046912f
00469007 : JMP 0x00469010
00469010 : MOVSS XMM1,dword ptr [0x00c10fc4]
00469018 : MOVSS XMM5,dword ptr [0x00cdf36c]
00469020 : XORPS XMM0,XMM0
00469023 : MOV EBX,dword ptr [EDI + 0x2c]
00469026 : MOV ECX,dword ptr [EDI + 0x38]
00469029 : MOVSS XMM6,dword ptr [0x00cdf830]
00469031 : LEA ESI,[EAX + 0x1]
00469034 : CVTSI2SS XMM2,ESI
00469038 : MOVAPS XMM3,XMM2
0046903b : MULSS XMM2,dword ptr [0x00cdf82c]
00469043 : ADDSS XMM3,XMM1
00469047 : CVTSI2SS XMM4,EAX
0046904b : MULSS XMM4,dword ptr [0x00cdf0e4]
00469053 : MULSS XMM3,XMM5
00469057 : ADDSS XMM3,XMM4
0046905b : LEA EAX,[EBX + ECX*0x4]
0046905e : PUSH EAX
0046905f : MOVAPS XMM4,XMM1
00469062 : SUBSS XMM4,XMM3
00469066 : MOV dword ptr [EBP + -0xc],EAX
00469069 : LEA EAX,[EDI + 0x24]
0046906c : ADDSS XMM2,XMM5
00469070 : MOVAPS XMM3,XMM1
00469073 : SUBSS XMM3,XMM2
00469077 : PUSH EAX
00469078 : MOVSS dword ptr [EBP + 0xffffff7c],XMM4
00469080 : MOVSS dword ptr [EBP + -0x80],XMM5
00469085 : MOVSS dword ptr [EBP + -0x7c],XMM0
0046908a : MOVSS dword ptr [EBP + -0x78],XMM0
0046908f : MOVSS dword ptr [EBP + -0x74],XMM0
00469094 : MOVSS dword ptr [EBP + -0x70],XMM4
00469099 : MOVSS dword ptr [EBP + -0x6c],XMM6
0046909e : MOVSS dword ptr [EBP + -0x68],XMM0
004690a3 : MOVSS dword ptr [EBP + -0x64],XMM0
004690a8 : MOVSS dword ptr [EBP + -0x60],XMM1
004690ad : MOVSS dword ptr [EBP + -0x5c],XMM3
004690b2 : MOVSS dword ptr [EBP + -0x58],XMM5
004690b7 : MOVSS dword ptr [EBP + -0x54],XMM0
004690bc : MOVSS dword ptr [EBP + -0x50],XMM1
004690c1 : MOVSS dword ptr [EBP + -0x4c],XMM0
004690c6 : MOVSS dword ptr [EBP + -0x48],XMM3
004690cb : MOVSS dword ptr [EBP + -0x44],XMM6
004690d0 : MOVSS dword ptr [EBP + -0x40],XMM0
004690d5 : MOVSS dword ptr [EBP + -0x3c],XMM1
004690da : MOVSS dword ptr [EBP + -0x38],XMM1
004690df : CALL 0x00471970
004690e4 : TEST AL,AL
004690e6 : JZ 0x004690f0
004690e8 : MOV EDX,dword ptr [EBP + -0xc]
004690eb : MOV dword ptr [EDI + 0x2c],EDX
004690ee : JMP 0x004690f6
004690f0 : MOV EAX,dword ptr [EDI + 0x30]
004690f3 : MOV dword ptr [EDI + 0x2c],EAX
004690f6 : MOV ECX,dword ptr [EDI + 0x38]
004690f9 : MOV EAX,dword ptr [EDI + 0x28]
004690fc : ADD ECX,ECX
004690fe : ADD ECX,ECX
00469100 : PUSH ECX
00469101 : LEA EDX,[EBP + 0xffffff7c]
00469107 : PUSH EDX
00469108 : ADD EAX,EBX
0046910a : PUSH EAX
0046910b : CALL 0x0063ae40
00469110 : MOV ECX,dword ptr [EBP + 0x8]
00469113 : ADD dword ptr [EDI + 0x3c],0x4
00469117 : AND byte ptr [EBP + -0x5],0x1
0046911b : MOV EAX,ESI
0046911d : ADD ESP,0xc
00469120 : CMP EAX,dword ptr [ECX + 0x1414]
00469126 : JL 0x00469010
0046912c : MOV BL,byte ptr [EBP + -0x5]
0046912f : CALL 0x004728f0
00469134 : AND BL,AL
00469136 : POP EDI
00469137 : POP ESI
00469138 : MOV AL,BL
0046913a : POP EBX
0046913b : MOV ESP,EBP
0046913d : POP EBP
0046913e : RET 0x4
