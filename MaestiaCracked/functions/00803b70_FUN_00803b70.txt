PROGRAM  : Maestia.exe
FUNCTION : FUN_00803b70
ENTRY    : 00803b70
BODY     : [[00803b70, 00803be0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00803b70(void)

{
  int *piVar1;
  int *piVar2;
  undefined4 *puVar3;
  int unaff_EDI;
  
  FUN_008018d0(L"[AvaVDiskMgr::DeleteAll]");
  piVar1 = *(int **)(unaff_EDI + 8);
  piVar2 = (int *)*piVar1;
  while (piVar2 != piVar1) {
    puVar3 = (undefined4 *)piVar2[10];
    if (puVar3 != (undefined4 *)0x0) {
      (**(code **)*puVar3)(1);
    }
    FUN_00430160();
    piVar1 = *(int **)(unaff_EDI + 8);
  }
  FUN_0044c480(*(undefined4 *)(*(int *)(unaff_EDI + 8) + 4));
  *(int *)(*(int *)(unaff_EDI + 8) + 4) = *(int *)(unaff_EDI + 8);
  *(undefined4 *)(unaff_EDI + 0xc) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 8) = *(undefined4 *)(unaff_EDI + 8);
  *(int *)(*(int *)(unaff_EDI + 8) + 8) = *(int *)(unaff_EDI + 8);
  return;
}



============================================================
DISASSEMBLY
============================================================
00803b70 : PUSH EBP
00803b71 : MOV EBP,ESP
00803b73 : PUSH ECX
00803b74 : PUSH ESI
00803b75 : MOV ESI,dword ptr [0x00da98e8]
00803b7b : PUSH 0xc28c74
00803b80 : CALL 0x008018d0
00803b85 : MOV ECX,dword ptr [EDI + 0x8]
00803b88 : MOV EAX,dword ptr [ECX]
00803b8a : ADD ESP,0x4
00803b8d : MOV dword ptr [EBP + -0x4],EAX
00803b90 : CMP EAX,ECX
00803b92 : JZ 0x00803bb3
00803b94 : MOV ECX,dword ptr [EAX + 0x28]
00803b97 : TEST ECX,ECX
00803b99 : JZ 0x00803ba3
00803b9b : MOV EAX,dword ptr [ECX]
00803b9d : MOV EDX,dword ptr [EAX]
00803b9f : PUSH 0x1
00803ba1 : CALL EDX
00803ba3 : LEA EDX,[EBP + -0x4]
00803ba6 : CALL 0x00430160
00803bab : MOV EAX,dword ptr [EBP + -0x4]
00803bae : CMP EAX,dword ptr [EDI + 0x8]
00803bb1 : JNZ 0x00803b94
00803bb3 : MOV EAX,dword ptr [EDI + 0x8]
00803bb6 : MOV ECX,dword ptr [EAX + 0x4]
00803bb9 : LEA ESI,[EDI + 0x4]
00803bbc : PUSH ECX
00803bbd : MOV ECX,ESI
00803bbf : CALL 0x0044c480
00803bc4 : MOV EAX,dword ptr [ESI + 0x4]
00803bc7 : MOV dword ptr [EAX + 0x4],EAX
00803bca : MOV EAX,dword ptr [ESI + 0x4]
00803bcd : MOV dword ptr [ESI + 0x8],0x0
00803bd4 : MOV dword ptr [EAX],EAX
00803bd6 : MOV ESI,dword ptr [ESI + 0x4]
00803bd9 : MOV dword ptr [ESI + 0x8],ESI
00803bdc : POP ESI
00803bdd : MOV ESP,EBP
00803bdf : POP EBP
00803be0 : RET
