PROGRAM  : Maestia.exe
FUNCTION : FUN_008cb470
ENTRY    : 008cb470
BODY     : [[008cb470, 008cb58f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008cb470(uint param_1)

{
  int iVar1;
  int iVar2;
  int in_ECX;
  undefined1 local_30 [24];
  uint local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar1 = param_1;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1d418;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (in_ECX != 0) {
    iVar2 = FUN_00703c00(0xa800,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    if (iVar2 != 0) {
      param_1 = ((uint)*(byte *)(iVar2 + 0x19) * 100 + (uint)(*(byte *)(iVar2 + 0x1a) >> 4)) * 100 +
                (*(byte *)(iVar2 + 0x1a) & 0xf);
      FUN_004437f0(&param_1);
      if (local_14 != *(int *)(iVar1 + 0x48)) {
        param_1 = (uint)*(ushort *)(in_ECX + 4);
        iVar1 = *(int *)(local_14 + 0x10);
        FUN_0042e0e0(&param_1);
        if (local_14 != *(int *)(iVar1 + 4)) {
          *(undefined4 *)(local_14 + 0x18) = 1;
        }
      }
    }
    ExceptionList = local_10;
    return;
  }
  FUN_00406460(L"Packetdata NULL");
  local_8 = 0;
  if ((int *)*DAT_00da98e8 != (int *)0x0) {
    (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiCraft::ReceiveCraftSuccess",0x33a,local_30);
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
008cb470 : PUSH EBP
008cb471 : MOV EBP,ESP
008cb473 : PUSH -0x1
008cb475 : PUSH 0xb1d418
008cb47a : MOV EAX,FS:[0x0]
008cb480 : PUSH EAX
008cb481 : SUB ESP,0x20
008cb484 : PUSH EBX
008cb485 : PUSH ESI
008cb486 : PUSH EDI
008cb487 : MOV EAX,[0x00d66fa0]
008cb48c : XOR EAX,EBP
008cb48e : PUSH EAX
008cb48f : LEA EAX,[EBP + -0xc]
008cb492 : MOV FS:[0x0],EAX
008cb498 : MOV ESI,ECX
008cb49a : MOV EBX,dword ptr [EBP + 0x8]
008cb49d : XOR EDI,EDI
008cb49f : CMP ESI,EDI
008cb4a1 : JNZ 0x008cb50c
008cb4a3 : PUSH 0xc53b94
008cb4a8 : LEA ECX,[EBP + -0x2c]
008cb4ab : CALL 0x00406460
008cb4b0 : MOV dword ptr [EBP + -0x4],EDI
008cb4b3 : MOV EAX,[0x00da98e8]
008cb4b8 : MOV ECX,dword ptr [EAX]
008cb4ba : CMP ECX,EDI
008cb4bc : JZ 0x008cb4d3
008cb4be : MOV EDX,dword ptr [ECX]
008cb4c0 : MOV EDX,dword ptr [EDX + 0x14]
008cb4c3 : LEA EAX,[EBP + -0x2c]
008cb4c6 : PUSH EAX
008cb4c7 : PUSH 0x33a
008cb4cc : PUSH 0xc53bd8
008cb4d1 : CALL EDX
008cb4d3 : MOV dword ptr [EBP + -0x4],0xffffffff
008cb4da : CMP dword ptr [EBP + -0x14],0x8
008cb4de : JC 0x008cb4e8
008cb4e0 : MOV ECX,dword ptr [EBP + -0x28]
008cb4e3 : CALL 0x006f04e0
008cb4e8 : XOR EAX,EAX
008cb4ea : MOV dword ptr [EBP + -0x14],0x7
008cb4f1 : MOV dword ptr [EBP + -0x18],EDI
008cb4f4 : MOV word ptr [EBP + -0x28],AX
008cb4f8 : MOV ECX,dword ptr [EBP + -0xc]
008cb4fb : MOV dword ptr FS:[0x0],ECX
008cb502 : POP ECX
008cb503 : POP EDI
008cb504 : POP ESI
008cb505 : POP EBX
008cb506 : MOV ESP,EBP
008cb508 : POP EBP
008cb509 : RET 0x4
008cb50c : MOV DI,word ptr [ESI + 0x4]
008cb510 : PUSH 0xa800
008cb515 : CALL 0x00703c00
008cb51a : ADD ESP,0x4
008cb51d : TEST EAX,EAX
008cb51f : JZ 0x008cb57c
008cb521 : MOVZX EDX,byte ptr [EAX + 0x19]
008cb525 : MOVZX ECX,byte ptr [EAX + 0x1a]
008cb529 : IMUL EDX,EDX,0x64
008cb52c : MOV EAX,ECX
008cb52e : SHR EAX,0x4
008cb531 : ADD EDX,EAX
008cb533 : IMUL EDX,EDX,0x64
008cb536 : AND ECX,0xf
008cb539 : ADD EDX,ECX
008cb53b : LEA ECX,[EBP + 0x8]
008cb53e : PUSH ECX
008cb53f : LEA ECX,[EBX + 0x44]
008cb542 : LEA EAX,[EBP + -0x10]
008cb545 : MOV dword ptr [EBP + 0x8],EDX
008cb548 : CALL 0x004437f0
008cb54d : MOV EAX,dword ptr [EBP + -0x10]
008cb550 : CMP EAX,dword ptr [EBX + 0x48]
008cb553 : JZ 0x008cb57c
008cb555 : MOVZX EDX,word ptr [ESI + 0x4]
008cb559 : MOV ESI,dword ptr [EAX + 0x10]
008cb55c : LEA EAX,[EBP + 0x8]
008cb55f : PUSH EAX
008cb560 : LEA EAX,[EBP + -0x10]
008cb563 : MOV ECX,ESI
008cb565 : MOV dword ptr [EBP + 0x8],EDX
008cb568 : CALL 0x0042e0e0
008cb56d : MOV EAX,dword ptr [EBP + -0x10]
008cb570 : CMP EAX,dword ptr [ESI + 0x4]
008cb573 : JZ 0x008cb57c
008cb575 : MOV dword ptr [EAX + 0x18],0x1
008cb57c : MOV ECX,dword ptr [EBP + -0xc]
008cb57f : MOV dword ptr FS:[0x0],ECX
008cb586 : POP ECX
008cb587 : POP EDI
008cb588 : POP ESI
008cb589 : POP EBX
008cb58a : MOV ESP,EBP
008cb58c : POP EBP
008cb58d : RET 0x4
