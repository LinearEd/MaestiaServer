PROGRAM  : Maestia.exe
FUNCTION : FUN_005cade0
ENTRY    : 005cade0
BODY     : [[005cade0, 005cb11c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005cade0(int param_1)

{
  int *piVar1;
  byte *pbVar2;
  char cVar3;
  int iVar4;
  undefined1 *local_38;
  undefined4 local_34;
  undefined4 *local_20;
  undefined4 *local_1c;
  undefined4 *local_18;
  undefined4 *local_14;
  undefined4 *local_10;
  undefined4 *local_c;
  undefined4 *local_8;
  undefined4 *local_4;
  
  cVar3 = FUN_00526030(0x12);
  if (cVar3 == '\0') {
    FUN_00526050("ColorTransform",0,0);
    return;
  }
  FUN_005272e0(&local_20,*(undefined4 *)(param_1 + 0x18),6,0);
  FUN_00526bc0();
  FUN_005272e0(&local_1c,*(undefined4 *)(param_1 + 0x18),6,0);
  FUN_00526bc0();
  FUN_005272e0(&local_18,*(undefined4 *)(param_1 + 0x18),6,0);
  FUN_00526bc0();
  FUN_005272e0(&local_14,*(undefined4 *)(param_1 + 0x18),6,0);
  FUN_00526bc0();
  FUN_005272e0(&local_10,*(undefined4 *)(param_1 + 0x18),6,0);
  FUN_00526bc0();
  FUN_005272e0(&local_c,*(undefined4 *)(param_1 + 0x18),6,0);
  FUN_00526bc0();
  FUN_005272e0(&local_8,*(undefined4 *)(param_1 + 0x18),6,0);
  FUN_00526bc0();
  FUN_005272e0(&local_4,*(undefined4 *)(param_1 + 0x18),6,0);
  FUN_00526bc0();
  FUN_0051b3b0(DAT_00d73250);
  FUN_0051b5d0("(redMultiplier=",0xffffffff);
  FUN_0051b5d0(*local_20,0xffffffff);
  FUN_0051b5d0(", greenMultiplier=",0xffffffff);
  FUN_0051b5d0(*local_1c,0xffffffff);
  FUN_0051b5d0(", blueMultiplier=",0xffffffff);
  FUN_0051b5d0(*local_18,0xffffffff);
  FUN_0051b5d0(", alphaMultiplier=",0xffffffff);
  FUN_0051b5d0(*local_14,0xffffffff);
  FUN_0051b5d0(", redOffset=",0xffffffff);
  FUN_0051b5d0(*local_10,0xffffffff);
  FUN_0051b5d0(", greenOffset=",0xffffffff);
  FUN_0051b5d0(*local_c,0xffffffff);
  FUN_0051b5d0(", blueOffset=",0xffffffff);
  FUN_0051b5d0(*local_8,0xffffffff);
  FUN_0051b5d0(", alphaOffset=",0xffffffff);
  FUN_0051b5d0(*local_4,0xffffffff);
  FUN_0051b5d0(&DAT_00b8db28,0xffffffff);
  if (local_38 == (undefined1 *)0x0) {
    local_38 = &DAT_00cca874;
  }
  iVar4 = FUN_00525450(local_38,local_34);
  *(int *)(iVar4 + 8) = *(int *)(iVar4 + 8) + 1;
  pbVar2 = *(byte **)(param_1 + 4);
  if (4 < *pbVar2) {
    FUN_00526400();
  }
  *pbVar2 = 5;
  *(int *)(pbVar2 + 4) = iVar4;
  *(int *)(iVar4 + 8) = *(int *)(iVar4 + 8) + 1;
  piVar1 = (int *)(iVar4 + 8);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    FUN_00525340();
  }
  FUN_0051b3d0();
  iVar4 = 7;
  do {
    piVar1 = (int *)((int)register0x00000010 + -4);
    register0x00000010 = (BADSPACEBASE *)((int)register0x00000010 + -4);
    piVar1 = (int *)(*piVar1 + 8);
    *piVar1 = *piVar1 + -1;
    if (*piVar1 == 0) {
      FUN_00525340();
    }
    iVar4 = iVar4 + -1;
  } while (-1 < iVar4);
  return;
}



============================================================
DISASSEMBLY
============================================================
005cade0 : SUB ESP,0x48
005cade3 : PUSH ESI
005cade4 : MOV ESI,dword ptr [ESP + 0x50]
005cade8 : PUSH 0x12
005cadea : MOV ECX,ESI
005cadec : CALL 0x00526030
005cadf1 : TEST AL,AL
005cadf3 : JNZ 0x005cae0a
005cadf5 : PUSH 0x0
005cadf7 : PUSH 0x0
005cadf9 : PUSH 0xb8fe1c
005cadfe : MOV ECX,ESI
005cae00 : CALL 0x00526050
005cae05 : POP ESI
005cae06 : ADD ESP,0x48
005cae09 : RET
005cae0a : MOV EAX,dword ptr [ESI + 0x8]
005cae0d : PUSH EBX
005cae0e : PUSH EDI
005cae0f : TEST EAX,EAX
005cae11 : JZ 0x005cae18
005cae13 : LEA EDI,[EAX + -0x10]
005cae16 : JMP 0x005cae1a
005cae18 : XOR EDI,EDI
005cae1a : MOV EAX,dword ptr [ESI + 0x18]
005cae1d : FLD float ptr [EDI + 0x30]
005cae20 : PUSH 0x0
005cae22 : FSTP double ptr [ESP + 0x14]
005cae26 : PUSH 0x6
005cae28 : PUSH EAX
005cae29 : LEA ECX,[ESP + 0x40]
005cae2d : PUSH ECX
005cae2e : MOV BL,0x3
005cae30 : LEA ECX,[ESP + 0x1c]
005cae34 : MOV byte ptr [ESP + 0x1c],BL
005cae38 : CALL 0x005272e0
005cae3d : LEA ECX,[ESP + 0xc]
005cae41 : CALL 0x00526bc0
005cae46 : FLD float ptr [EDI + 0x38]
005cae49 : MOV EDX,dword ptr [ESI + 0x18]
005cae4c : FSTP double ptr [ESP + 0x10]
005cae50 : PUSH 0x0
005cae52 : PUSH 0x6
005cae54 : PUSH EDX
005cae55 : LEA EAX,[ESP + 0x44]
005cae59 : PUSH EAX
005cae5a : LEA ECX,[ESP + 0x1c]
005cae5e : MOV byte ptr [ESP + 0x1c],BL
005cae62 : CALL 0x005272e0
005cae67 : LEA ECX,[ESP + 0xc]
005cae6b : CALL 0x00526bc0
005cae70 : FLD float ptr [EDI + 0x40]
005cae73 : MOV ECX,dword ptr [ESI + 0x18]
005cae76 : FSTP double ptr [ESP + 0x10]
005cae7a : PUSH 0x0
005cae7c : PUSH 0x6
005cae7e : PUSH ECX
005cae7f : LEA EDX,[ESP + 0x48]
005cae83 : PUSH EDX
005cae84 : LEA ECX,[ESP + 0x1c]
005cae88 : MOV byte ptr [ESP + 0x1c],BL
005cae8c : CALL 0x005272e0
005cae91 : LEA ECX,[ESP + 0xc]
005cae95 : CALL 0x00526bc0
005cae9a : FLD float ptr [EDI + 0x48]
005cae9d : MOV EAX,dword ptr [ESI + 0x18]
005caea0 : FSTP double ptr [ESP + 0x10]
005caea4 : PUSH 0x0
005caea6 : PUSH 0x6
005caea8 : PUSH EAX
005caea9 : LEA ECX,[ESP + 0x4c]
005caead : PUSH ECX
005caeae : LEA ECX,[ESP + 0x1c]
005caeb2 : MOV byte ptr [ESP + 0x1c],BL
005caeb6 : CALL 0x005272e0
005caebb : LEA ECX,[ESP + 0xc]
005caebf : CALL 0x00526bc0
005caec4 : FLD float ptr [EDI + 0x34]
005caec7 : MOV EDX,dword ptr [ESI + 0x18]
005caeca : FSTP double ptr [ESP + 0x10]
005caece : PUSH 0x0
005caed0 : PUSH 0x6
005caed2 : PUSH EDX
005caed3 : LEA EAX,[ESP + 0x50]
005caed7 : PUSH EAX
005caed8 : LEA ECX,[ESP + 0x1c]
005caedc : MOV byte ptr [ESP + 0x1c],BL
005caee0 : CALL 0x005272e0
005caee5 : LEA ECX,[ESP + 0xc]
005caee9 : CALL 0x00526bc0
005caeee : FLD float ptr [EDI + 0x3c]
005caef1 : MOV ECX,dword ptr [ESI + 0x18]
005caef4 : FSTP double ptr [ESP + 0x10]
005caef8 : PUSH 0x0
005caefa : PUSH 0x6
005caefc : PUSH ECX
005caefd : LEA EDX,[ESP + 0x54]
005caf01 : PUSH EDX
005caf02 : LEA ECX,[ESP + 0x1c]
005caf06 : MOV byte ptr [ESP + 0x1c],BL
005caf0a : CALL 0x005272e0
005caf0f : LEA ECX,[ESP + 0xc]
005caf13 : CALL 0x00526bc0
005caf18 : FLD float ptr [EDI + 0x44]
005caf1b : MOV byte ptr [ESP + 0xc],BL
005caf1f : MOV EAX,dword ptr [ESI + 0x18]
005caf22 : FSTP double ptr [ESP + 0x10]
005caf26 : PUSH 0x0
005caf28 : PUSH 0x6
005caf2a : PUSH EAX
005caf2b : LEA ECX,[ESP + 0x58]
005caf2f : PUSH ECX
005caf30 : LEA ECX,[ESP + 0x1c]
005caf34 : CALL 0x005272e0
005caf39 : LEA ECX,[ESP + 0xc]
005caf3d : CALL 0x00526bc0
005caf42 : FLD float ptr [EDI + 0x4c]
005caf45 : MOV EDX,dword ptr [ESI + 0x18]
005caf48 : FSTP double ptr [ESP + 0x10]
005caf4c : PUSH 0x0
005caf4e : PUSH 0x6
005caf50 : PUSH EDX
005caf51 : LEA EAX,[ESP + 0x5c]
005caf55 : PUSH EAX
005caf56 : LEA ECX,[ESP + 0x1c]
005caf5a : MOV byte ptr [ESP + 0x1c],BL
005caf5e : CALL 0x005272e0
005caf63 : LEA ECX,[ESP + 0xc]
005caf67 : CALL 0x00526bc0
005caf6c : MOV ECX,dword ptr [0x00d73250]
005caf72 : PUSH ECX
005caf73 : LEA ECX,[ESP + 0x20]
005caf77 : CALL 0x0051b3b0
005caf7c : PUSH -0x1
005caf7e : PUSH 0xb924cc
005caf83 : LEA ECX,[ESP + 0x24]
005caf87 : CALL 0x0051b5d0
005caf8c : MOV EDX,dword ptr [ESP + 0x34]
005caf90 : MOV EAX,dword ptr [EDX]
005caf92 : PUSH -0x1
005caf94 : PUSH EAX
005caf95 : LEA ECX,[ESP + 0x24]
005caf99 : CALL 0x0051b5d0
005caf9e : PUSH -0x1
005cafa0 : PUSH 0xb924b8
005cafa5 : LEA ECX,[ESP + 0x24]
005cafa9 : CALL 0x0051b5d0
005cafae : MOV ECX,dword ptr [ESP + 0x38]
005cafb2 : MOV EDX,dword ptr [ECX]
005cafb4 : PUSH -0x1
005cafb6 : PUSH EDX
005cafb7 : LEA ECX,[ESP + 0x24]
005cafbb : CALL 0x0051b5d0
005cafc0 : PUSH -0x1
005cafc2 : PUSH 0xb924a4
005cafc7 : LEA ECX,[ESP + 0x24]
005cafcb : CALL 0x0051b5d0
005cafd0 : MOV EAX,dword ptr [ESP + 0x3c]
005cafd4 : MOV ECX,dword ptr [EAX]
005cafd6 : PUSH -0x1
005cafd8 : PUSH ECX
005cafd9 : LEA ECX,[ESP + 0x24]
005cafdd : CALL 0x0051b5d0
005cafe2 : PUSH -0x1
005cafe4 : PUSH 0xb92490
005cafe9 : LEA ECX,[ESP + 0x24]
005cafed : CALL 0x0051b5d0
005caff2 : MOV EDX,dword ptr [ESP + 0x40]
005caff6 : MOV EAX,dword ptr [EDX]
005caff8 : PUSH -0x1
005caffa : PUSH EAX
005caffb : LEA ECX,[ESP + 0x24]
005cafff : CALL 0x0051b5d0
005cb004 : PUSH -0x1
005cb006 : PUSH 0xb92480
005cb00b : LEA ECX,[ESP + 0x24]
005cb00f : CALL 0x0051b5d0
005cb014 : MOV ECX,dword ptr [ESP + 0x44]
005cb018 : MOV EDX,dword ptr [ECX]
005cb01a : PUSH -0x1
005cb01c : PUSH EDX
005cb01d : LEA ECX,[ESP + 0x24]
005cb021 : CALL 0x0051b5d0
005cb026 : PUSH -0x1
005cb028 : PUSH 0xb92470
005cb02d : LEA ECX,[ESP + 0x24]
005cb031 : CALL 0x0051b5d0
005cb036 : MOV EAX,dword ptr [ESP + 0x48]
005cb03a : MOV ECX,dword ptr [EAX]
005cb03c : PUSH -0x1
005cb03e : PUSH ECX
005cb03f : LEA ECX,[ESP + 0x24]
005cb043 : CALL 0x0051b5d0
005cb048 : PUSH -0x1
005cb04a : PUSH 0xb92460
005cb04f : LEA ECX,[ESP + 0x24]
005cb053 : CALL 0x0051b5d0
005cb058 : MOV EDX,dword ptr [ESP + 0x4c]
005cb05c : MOV EAX,dword ptr [EDX]
005cb05e : PUSH -0x1
005cb060 : PUSH EAX
005cb061 : LEA ECX,[ESP + 0x24]
005cb065 : CALL 0x0051b5d0
005cb06a : PUSH -0x1
005cb06c : PUSH 0xb92450
005cb071 : LEA ECX,[ESP + 0x24]
005cb075 : CALL 0x0051b5d0
005cb07a : MOV ECX,dword ptr [ESP + 0x50]
005cb07e : MOV EDX,dword ptr [ECX]
005cb080 : PUSH -0x1
005cb082 : PUSH EDX
005cb083 : LEA ECX,[ESP + 0x24]
005cb087 : CALL 0x0051b5d0
005cb08c : PUSH -0x1
005cb08e : PUSH 0xb8db28
005cb093 : LEA ECX,[ESP + 0x24]
005cb097 : CALL 0x0051b5d0
005cb09c : MOV ECX,dword ptr [ESP + 0x1c]
005cb0a0 : TEST ECX,ECX
005cb0a2 : JNZ 0x005cb0a9
005cb0a4 : MOV ECX,0xcca874
005cb0a9 : MOV EDX,dword ptr [ESP + 0x20]
005cb0ad : MOV EAX,dword ptr [ESI + 0x18]
005cb0b0 : MOV EAX,dword ptr [EAX + 0x78]
005cb0b3 : PUSH EDX
005cb0b4 : PUSH ECX
005cb0b5 : LEA ECX,[EAX + 0x254]
005cb0bb : CALL 0x00525450
005cb0c0 : MOV EDI,EAX
005cb0c2 : MOV EBX,0x1
005cb0c7 : ADD dword ptr [EDI + 0x8],EBX
005cb0ca : MOV ESI,dword ptr [ESI + 0x4]
005cb0cd : CMP byte ptr [ESI],0x5
005cb0d0 : JC 0x005cb0d9
005cb0d2 : MOV ECX,ESI
005cb0d4 : CALL 0x00526400
005cb0d9 : MOV byte ptr [ESI],0x5
005cb0dc : MOV dword ptr [ESI + 0x4],EDI
005cb0df : ADD dword ptr [EDI + 0x8],EBX
005cb0e2 : ADD dword ptr [EDI + 0x8],-0x1
005cb0e6 : JNZ 0x005cb0ef
005cb0e8 : MOV ECX,EDI
005cb0ea : CALL 0x00525340
005cb0ef : LEA ECX,[ESP + 0x1c]
005cb0f3 : CALL 0x0051b3d0
005cb0f8 : LEA ESI,[ESP + 0x54]
005cb0fc : MOV EDI,0x7
005cb101 : MOV ECX,dword ptr [ESI + -0x4]
005cb104 : SUB ESI,0x4
005cb107 : ADD dword ptr [ECX + 0x8],-0x1
005cb10b : JNZ 0x005cb112
005cb10d : CALL 0x00525340
005cb112 : SUB EDI,EBX
005cb114 : JNS 0x005cb101
005cb116 : POP EDI
005cb117 : POP EBX
005cb118 : POP ESI
005cb119 : ADD ESP,0x48
005cb11c : RET
