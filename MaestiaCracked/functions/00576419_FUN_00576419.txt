PROGRAM  : Maestia.exe
FUNCTION : FUN_00576419
ENTRY    : 00576419
BODY     : [[00576419, 00576579]]

============================================================
DECOMPILED C CODE
============================================================

char FUN_00576419(int param_1,uint param_2,uint param_3,undefined1 param_4)

{
  uint *puVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  int *unaff_EDI;
  int iVar5;
  uint uVar6;
  undefined1 in_stack_00000020;
  char in_stack_00000034;
  undefined4 in_stack_00000038;
  int in_stack_0000003c;
  int in_stack_00000040;
  uint in_stack_00000044;
  
  __controlfp_s(&param_3,0,0);
  __controlfp_s(&param_2,0x10000,0x30000);
  param_4 = 0;
  uVar3 = (**(code **)(*unaff_EDI + 0x5c))();
  uVar6 = in_stack_00000044;
  iVar4 = in_stack_00000044 - 1;
  param_2 = uVar3;
  if (-1 < iVar4) {
    iVar5 = iVar4 * 0x10 + in_stack_00000040;
    puVar1 = (uint *)(uVar3 + 8);
    do {
      in_stack_00000020 = 0;
      FUN_00588880(iVar5,&stack0x00000020);
      *puVar1 = *puVar1 + 0x10;
      if (*(uint *)(uVar3 + 0x10) <= *puVar1) {
        FUN_00504050();
      }
      if (*puVar1 != 0) {
        FUN_005266c0(&stack0x00000020);
      }
      FUN_00526bc0();
      iVar4 = iVar4 + -1;
      iVar5 = iVar5 + -0x10;
    } while (-1 < iVar4);
  }
  uVar2 = in_stack_00000038;
  if ((*(int *)(param_1 + 0xa00) == 0) || (iVar4 = FUN_005760d0(in_stack_00000038), iVar4 == 0)) {
    in_stack_00000034 = FUN_0058cc90(uVar2,&param_4,uVar6);
  }
  else {
    in_stack_00000034 = FUN_00572430(uVar2,iVar4,&param_4,uVar6);
  }
  uVar3 = param_2;
  puVar1 = (uint *)(param_2 + 8);
  for (; uVar6 != 0; uVar6 = uVar6 - 1) {
    FUN_00526bc0();
    *puVar1 = *puVar1 - 0x10;
    if (*puVar1 < *(uint *)(uVar3 + 0xc)) {
      FUN_00504f30();
    }
  }
  if ((in_stack_00000034 != '\0') && (in_stack_0000003c != 0)) {
    FUN_00588cb0(uVar3,&param_4,in_stack_0000003c);
  }
  FUN_00526bc0();
  __controlfp_s(&stack0x00000044,param_3,0x30000);
  return in_stack_00000034;
}



============================================================
DISASSEMBLY
============================================================
00576419 : PUSH EBX
0057641a : PUSH EBP
0057641b : PUSH ESI
0057641c : PUSH 0x0
0057641e : LEA EAX,[ESP + 0x1c]
00576422 : PUSH 0x0
00576424 : PUSH EAX
00576425 : CALL 0x0063c57b
0057642a : PUSH 0x30000
0057642f : LEA ECX,[ESP + 0x24]
00576433 : PUSH 0x10000
00576438 : PUSH ECX
00576439 : CALL 0x0063c57b
0057643e : MOV EDX,dword ptr [EDI]
00576440 : MOV EAX,dword ptr [EDX + 0x5c]
00576443 : ADD ESP,0x18
00576446 : MOV ECX,EDI
00576448 : MOV byte ptr [ESP + 0x1c],0x0
0057644d : CALL EAX
0057644f : MOV EBX,dword ptr [ESP + 0x50]
00576453 : LEA EBP,[EBX + -0x1]
00576456 : MOV dword ptr [ESP + 0x14],EAX
0057645a : TEST EBP,EBP
0057645c : JL 0x005764ba
0057645e : MOV EDI,EBP
00576460 : SHL EDI,0x4
00576463 : ADD EDI,dword ptr [ESP + 0x4c]
00576467 : LEA ESI,[EAX + 0x8]
0057646a : LEA EBX,[EBX]
00576470 : LEA ECX,[ESP + 0x2c]
00576474 : PUSH ECX
00576475 : MOV ECX,dword ptr [ESP + 0x14]
00576479 : PUSH EDI
0057647a : MOV byte ptr [ESP + 0x34],0x0
0057647f : CALL 0x00588880
00576484 : ADD dword ptr [ESI],0x10
00576487 : MOV EAX,dword ptr [ESI]
00576489 : CMP EAX,dword ptr [ESI + 0x8]
0057648c : JC 0x00576495
0057648e : MOV ECX,ESI
00576490 : CALL 0x00504050
00576495 : MOV ECX,dword ptr [ESI]
00576497 : TEST ECX,ECX
00576499 : JZ 0x005764a5
0057649b : LEA EDX,[ESP + 0x2c]
0057649f : PUSH EDX
005764a0 : CALL 0x005266c0
005764a5 : LEA ECX,[ESP + 0x2c]
005764a9 : CALL 0x00526bc0
005764ae : DEC EBP
005764af : SUB EDI,0x10
005764b2 : TEST EBP,EBP
005764b4 : JGE 0x00576470
005764b6 : MOV EDI,dword ptr [ESP + 0x40]
005764ba : MOV EAX,dword ptr [ESP + 0x10]
005764be : CMP dword ptr [EAX + 0xa00],0x0
005764c5 : MOV ESI,dword ptr [ESP + 0x44]
005764c9 : JZ 0x005764ea
005764cb : MOV EBP,EAX
005764cd : PUSH ESI
005764ce : MOV ECX,EBP
005764d0 : CALL 0x005760d0
005764d5 : TEST EAX,EAX
005764d7 : JZ 0x005764ea
005764d9 : PUSH EBX
005764da : LEA ECX,[ESP + 0x20]
005764de : PUSH ECX
005764df : PUSH EAX
005764e0 : PUSH ESI
005764e1 : MOV ECX,EBP
005764e3 : CALL 0x00572430
005764e8 : JMP 0x005764f8
005764ea : PUSH EBX
005764eb : LEA EDX,[ESP + 0x20]
005764ef : PUSH EDX
005764f0 : PUSH ESI
005764f1 : MOV ECX,EDI
005764f3 : CALL 0x0058cc90
005764f8 : MOV EBP,dword ptr [ESP + 0x14]
005764fc : MOV byte ptr [ESP + 0x40],AL
00576500 : MOV EDI,EBX
00576502 : LEA ESI,[EBP + 0x8]
00576505 : TEST EBX,EBX
00576507 : JBE 0x0057652d
00576509 : LEA ESP,[ESP]
00576510 : MOV ECX,dword ptr [ESI]
00576512 : CALL 0x00526bc0
00576517 : ADD dword ptr [ESI],-0x10
0057651a : MOV EAX,dword ptr [ESI]
0057651c : CMP EAX,dword ptr [ESI + 0x4]
0057651f : JNC 0x00576528
00576521 : MOV ECX,ESI
00576523 : CALL 0x00504f30
00576528 : SUB EDI,0x1
0057652b : JNZ 0x00576510
0057652d : CMP byte ptr [ESP + 0x40],0x0
00576532 : JZ 0x0057654c
00576534 : MOV EAX,dword ptr [ESP + 0x48]
00576538 : TEST EAX,EAX
0057653a : JZ 0x0057654c
0057653c : MOV ECX,dword ptr [ESP + 0x10]
00576540 : PUSH EAX
00576541 : LEA EAX,[ESP + 0x20]
00576545 : PUSH EAX
00576546 : PUSH EBP
00576547 : CALL 0x00588cb0
0057654c : LEA ECX,[ESP + 0x1c]
00576550 : CALL 0x00526bc0
00576555 : MOV ECX,dword ptr [ESP + 0x18]
00576559 : PUSH 0x30000
0057655e : PUSH ECX
0057655f : LEA EDX,[ESP + 0x58]
00576563 : PUSH EDX
00576564 : CALL 0x0063c57b
00576569 : MOV AL,byte ptr [ESP + 0x4c]
0057656d : ADD ESP,0xc
00576570 : POP ESI
00576571 : POP EBP
00576572 : POP EBX
00576573 : POP EDI
00576574 : ADD ESP,0x2c
00576577 : RET 0x14
