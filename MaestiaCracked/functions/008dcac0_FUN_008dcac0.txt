PROGRAM  : Maestia.exe
FUNCTION : FUN_008dcac0
ENTRY    : 008dcac0
BODY     : [[008dcac0, 008dcc10]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008dcac0(void)

{
  short sVar1;
  uint uVar2;
  int iVar3;
  short *psVar4;
  short *psVar5;
  uint local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3522b;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_34 = 7;
  local_38 = 0;
  local_48 = 0;
  local_14 = uVar2;
  FUN_00406360(L"IDS_PREMIUM_CASH_REFILL_CHECK",0x1d);
  local_8 = 0;
  iVar3 = FUN_0081d120(local_4c);
  local_8._0_1_ = 1;
  if (*(uint *)(iVar3 + 0x18) < 8) {
    psVar5 = (short *)(iVar3 + 4);
  }
  else {
    psVar5 = *(short **)(iVar3 + 4);
  }
  local_2c = 0;
  local_18 = 7;
  local_1c = 0;
  psVar4 = psVar5;
  do {
    sVar1 = *psVar4;
    psVar4 = psVar4 + 1;
  } while (sVar1 != 0);
  FUN_00406360(psVar5,(int)psVar4 - (int)(psVar5 + 1) >> 1);
  local_8 = CONCAT31(local_8._1_3_,3);
  if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_8 = CONCAT31(local_8._1_3_,4);
  if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_48 = 0;
  local_34 = 7;
  local_38 = 0;
  iVar3 = FUN_008ede80(local_30,2);
  if (iVar3 != 0) {
    if (*(code **)(iVar3 + 0x60) != (code *)0x0) {
      (**(code **)(iVar3 + 0x60))(1,iVar3,uVar2);
    }
    *(code **)(iVar3 + 0x60) = FUN_008da930;
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = 0;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
008dcac0 : PUSH EBP
008dcac1 : MOV EBP,ESP
008dcac3 : PUSH -0x1
008dcac5 : PUSH 0xb3522b
008dcaca : MOV EAX,FS:[0x0]
008dcad0 : PUSH EAX
008dcad1 : SUB ESP,0x5c
008dcad4 : MOV EAX,[0x00d66fa0]
008dcad9 : XOR EAX,EBP
008dcadb : MOV dword ptr [EBP + -0x10],EAX
008dcade : PUSH EBX
008dcadf : PUSH ESI
008dcae0 : PUSH EDI
008dcae1 : PUSH EAX
008dcae2 : LEA EAX,[EBP + -0xc]
008dcae5 : MOV FS:[0x0],EAX
008dcaeb : PUSH 0x1d
008dcaed : XOR EAX,EAX
008dcaef : MOV ESI,0x7
008dcaf4 : XOR EBX,EBX
008dcaf6 : PUSH 0xc57974
008dcafb : LEA ECX,[EBP + -0x48]
008dcafe : MOV dword ptr [EBP + -0x30],ESI
008dcb01 : MOV dword ptr [EBP + -0x34],EBX
008dcb04 : MOV word ptr [EBP + -0x44],AX
008dcb08 : CALL 0x00406360
008dcb0d : MOV dword ptr [EBP + -0x4],EBX
008dcb10 : LEA ECX,[EBP + -0x48]
008dcb13 : PUSH ECX
008dcb14 : MOV ECX,dword ptr [0x0172491c]
008dcb1a : LEA EDI,[EBP + -0x64]
008dcb1d : CALL 0x0081d120
008dcb22 : MOV byte ptr [EBP + -0x4],0x1
008dcb26 : MOV EDI,0x8
008dcb2b : CMP dword ptr [EAX + 0x18],EDI
008dcb2e : JC 0x008dcb35
008dcb30 : MOV EDX,dword ptr [EAX + 0x4]
008dcb33 : JMP 0x008dcb38
008dcb35 : LEA EDX,[EAX + 0x4]
008dcb38 : XOR EAX,EAX
008dcb3a : MOV word ptr [EBP + -0x28],AX
008dcb3e : MOV EAX,EDX
008dcb40 : MOV dword ptr [EBP + -0x14],ESI
008dcb43 : MOV dword ptr [EBP + -0x18],EBX
008dcb46 : LEA ESI,[EAX + 0x2]
008dcb49 : LEA ESP,[ESP]
008dcb50 : MOV CX,word ptr [EAX]
008dcb53 : ADD EAX,0x2
008dcb56 : CMP CX,BX
008dcb59 : JNZ 0x008dcb50
008dcb5b : SUB EAX,ESI
008dcb5d : SAR EAX,0x1
008dcb5f : PUSH EAX
008dcb60 : PUSH EDX
008dcb61 : LEA ECX,[EBP + -0x2c]
008dcb64 : CALL 0x00406360
008dcb69 : MOV byte ptr [EBP + -0x4],0x3
008dcb6d : CMP dword ptr [EBP + -0x4c],EDI
008dcb70 : JC 0x008dcb7a
008dcb72 : MOV ECX,dword ptr [EBP + -0x60]
008dcb75 : CALL 0x006f04e0
008dcb7a : MOV EDI,0x7
008dcb7f : XOR ECX,ECX
008dcb81 : MOV dword ptr [EBP + -0x4c],EDI
008dcb84 : MOV dword ptr [EBP + -0x50],EBX
008dcb87 : MOV word ptr [EBP + -0x60],CX
008dcb8b : MOV byte ptr [EBP + -0x4],0x4
008dcb8f : CMP dword ptr [EBP + -0x30],0x8
008dcb93 : JC 0x008dcb9d
008dcb95 : MOV ECX,dword ptr [EBP + -0x44]
008dcb98 : CALL 0x006f04e0
008dcb9d : MOV EAX,[0x00da9894]
008dcba2 : XOR EDX,EDX
008dcba4 : MOV word ptr [EBP + -0x44],DX
008dcba8 : PUSH 0x2
008dcbaa : LEA EDX,[EBP + -0x2c]
008dcbad : MOV dword ptr [EBP + -0x30],EDI
008dcbb0 : MOV dword ptr [EBP + -0x34],EBX
008dcbb3 : MOV ECX,dword ptr [EAX]
008dcbb5 : PUSH EDX
008dcbb6 : CALL 0x008ede80
008dcbbb : MOV ESI,EAX
008dcbbd : CMP ESI,EBX
008dcbbf : JZ 0x008dcbd4
008dcbc1 : MOV EAX,dword ptr [ESI + 0x60]
008dcbc4 : CMP EAX,EBX
008dcbc6 : JZ 0x008dcbcd
008dcbc8 : PUSH ESI
008dcbc9 : PUSH 0x1
008dcbcb : CALL EAX
008dcbcd : MOV dword ptr [ESI + 0x60],0x8da930
008dcbd4 : MOV dword ptr [EBP + -0x4],0xffffffff
008dcbdb : CMP dword ptr [EBP + -0x14],0x8
008dcbdf : JC 0x008dcbe9
008dcbe1 : MOV ECX,dword ptr [EBP + -0x28]
008dcbe4 : CALL 0x006f04e0
008dcbe9 : XOR EAX,EAX
008dcbeb : MOV dword ptr [EBP + -0x14],EDI
008dcbee : MOV dword ptr [EBP + -0x18],EBX
008dcbf1 : MOV word ptr [EBP + -0x28],AX
008dcbf5 : MOV ECX,dword ptr [EBP + -0xc]
008dcbf8 : MOV dword ptr FS:[0x0],ECX
008dcbff : POP ECX
008dcc00 : POP EDI
008dcc01 : POP ESI
008dcc02 : POP EBX
008dcc03 : MOV ECX,dword ptr [EBP + -0x10]
008dcc06 : XOR ECX,EBP
008dcc08 : CALL 0x00633e6b
008dcc0d : MOV ESP,EBP
008dcc0f : POP EBP
008dcc10 : RET
