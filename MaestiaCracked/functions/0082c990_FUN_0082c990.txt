PROGRAM  : Maestia.exe
FUNCTION : FUN_0082c990
ENTRY    : 0082c990
BODY     : [[0082c990, 0082cb40]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0082c990(int param_1,int param_2)

{
  undefined4 uVar1;
  int iVar2;
  short sVar3;
  uint uVar4;
  int *piVar5;
  int in_ECX;
  undefined1 local_40 [4];
  undefined2 local_3c;
  undefined4 local_2c;
  uint local_28;
  undefined4 local_24;
  undefined4 local_20;
  int local_1c;
  undefined4 *local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1b24e;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(int *)(in_ECX + 0x5c) = param_1;
  local_14 = 0;
  if (0 < param_1) {
    local_18 = (undefined4 *)(in_ECX + 0xc);
    local_1c = in_ECX;
    do {
      *local_18 = *(undefined4 *)(param_2 + local_14 * 4);
      if (local_14 == 0x14) {
        ExceptionList = local_10;
        return;
      }
      uVar1 = *(undefined4 *)(param_2 + local_14 * 4);
      piVar5 = (int *)FUN_00a1a840(uVar1);
      if ((((piVar5 != (int *)0x0) || (piVar5 = (int *)FUN_00a1a6d0(uVar1), piVar5 != (int *)0x0))
          || (piVar5 = (int *)FUN_00a1a780(uVar1), piVar5 != (int *)0x0)) &&
         (sVar3 = (**(code **)(*piVar5 + 0x1e4))(uVar4), sVar3 == 0)) {
        if (piVar5[0x50] == 0x12345679) {
          iVar2 = piVar5[0x5fc];
          if (iVar2 != 0) {
            local_20 = CONCAT31(local_20._1_3_,*(undefined1 *)(local_1c + 0x80));
            uVar1 = local_20;
            if (*(int **)(iVar2 + 0x168) != (int *)0x0) {
              (**(code **)(**(int **)(iVar2 + 0x168) + 0x10))(local_20);
            }
            if (*(int **)(iVar2 + 0x16c) != (int *)0x0) {
              (**(code **)(**(int **)(iVar2 + 0x16c) + 0x10))(uVar1);
            }
          }
          iVar2 = piVar5[0x61c];
          if (iVar2 != 0) {
            local_24 = CONCAT31(local_24._1_3_,*(undefined1 *)(local_1c + 0x80));
            uVar1 = local_24;
            if (*(int **)(iVar2 + 0x168) != (int *)0x0) {
              (**(code **)(**(int **)(iVar2 + 0x168) + 0x10))(local_24);
            }
            if (*(int **)(iVar2 + 0x16c) != (int *)0x0) {
              (**(code **)(**(int **)(iVar2 + 0x16c) + 0x10))(uVar1);
            }
          }
        }
        else {
          FUN_00406460(L"dangling pointer");
          local_8 = 0;
          if ((int *)*DAT_00da98e8 != (int *)0x0) {
            (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaSwordTraceEffect::Play",0x399,local_40)
            ;
          }
          local_8 = 0xffffffff;
          if (7 < local_28) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
          local_28 = 7;
          local_2c = 0;
          local_3c = 0;
        }
      }
      local_18 = local_18 + 1;
      local_14 = local_14 + 1;
    } while (local_14 < param_1);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0082c990 : PUSH EBP
0082c991 : MOV EBP,ESP
0082c993 : PUSH -0x1
0082c995 : PUSH 0xb1b24e
0082c99a : MOV EAX,FS:[0x0]
0082c9a0 : PUSH EAX
0082c9a1 : SUB ESP,0x30
0082c9a4 : PUSH EBX
0082c9a5 : PUSH ESI
0082c9a6 : PUSH EDI
0082c9a7 : MOV EAX,[0x00d66fa0]
0082c9ac : XOR EAX,EBP
0082c9ae : PUSH EAX
0082c9af : LEA EAX,[EBP + -0xc]
0082c9b2 : MOV FS:[0x0],EAX
0082c9b8 : MOV dword ptr [EBP + -0x18],ECX
0082c9bb : MOV EDX,dword ptr [EBP + 0x8]
0082c9be : XOR EAX,EAX
0082c9c0 : MOV dword ptr [ECX + 0x5c],EDX
0082c9c3 : MOV dword ptr [EBP + -0x10],EAX
0082c9c6 : TEST EDX,EDX
0082c9c8 : JLE 0x0082cb2d
0082c9ce : ADD ECX,0xc
0082c9d1 : MOV dword ptr [EBP + -0x14],ECX
0082c9d4 : JMP 0x0082c9d9
0082c9d6 : MOV EAX,dword ptr [EBP + -0x10]
0082c9d9 : MOV EDX,dword ptr [EBP + 0xc]
0082c9dc : MOV ECX,dword ptr [EDX + EAX*0x4]
0082c9df : MOV ESI,dword ptr [EBP + -0x14]
0082c9e2 : MOV dword ptr [ESI],ECX
0082c9e4 : CMP EAX,0x14
0082c9e7 : JZ 0x0082cb2d
0082c9ed : MOV EDI,dword ptr [EDX + EAX*0x4]
0082c9f0 : MOV ECX,dword ptr [0x00da93ec]
0082c9f6 : PUSH EDI
0082c9f7 : MOV EBX,ECX
0082c9f9 : CALL 0x00a1a840
0082c9fe : MOV ESI,EAX
0082ca00 : TEST ESI,ESI
0082ca02 : JNZ 0x0082ca24
0082ca04 : PUSH EDI
0082ca05 : MOV ECX,EBX
0082ca07 : CALL 0x00a1a6d0
0082ca0c : MOV ESI,EAX
0082ca0e : TEST ESI,ESI
0082ca10 : JNZ 0x0082ca24
0082ca12 : PUSH EDI
0082ca13 : MOV ECX,EBX
0082ca15 : CALL 0x00a1a780
0082ca1a : MOV ESI,EAX
0082ca1c : TEST ESI,ESI
0082ca1e : JZ 0x0082cb19
0082ca24 : MOV EDX,dword ptr [ESI]
0082ca26 : MOV EAX,dword ptr [EDX + 0x1e4]
0082ca2c : MOV ECX,ESI
0082ca2e : CALL EAX
0082ca30 : TEST AX,AX
0082ca33 : JNZ 0x0082cb19
0082ca39 : CMP dword ptr [ESI + 0x140],0x12345679
0082ca43 : JZ 0x0082ca9f
0082ca45 : PUSH 0xc3565c
0082ca4a : LEA ECX,[EBP + -0x3c]
0082ca4d : CALL 0x00406460
0082ca52 : XOR ESI,ESI
0082ca54 : MOV dword ptr [EBP + -0x4],ESI
0082ca57 : MOV ECX,dword ptr [0x00da98e8]
0082ca5d : MOV ECX,dword ptr [ECX]
0082ca5f : CMP ECX,ESI
0082ca61 : JZ 0x0082ca78
0082ca63 : MOV EDX,dword ptr [ECX]
0082ca65 : MOV EDX,dword ptr [EDX + 0x14]
0082ca68 : LEA EAX,[EBP + -0x3c]
0082ca6b : PUSH EAX
0082ca6c : PUSH 0x399
0082ca71 : PUSH 0xc356e8
0082ca76 : CALL EDX
0082ca78 : MOV dword ptr [EBP + -0x4],0xffffffff
0082ca7f : CMP dword ptr [EBP + -0x24],0x8
0082ca83 : JC 0x0082ca8d
0082ca85 : MOV ECX,dword ptr [EBP + -0x38]
0082ca88 : CALL 0x006f04e0
0082ca8d : XOR EAX,EAX
0082ca8f : MOV dword ptr [EBP + -0x24],0x7
0082ca96 : MOV dword ptr [EBP + -0x28],ESI
0082ca99 : MOV word ptr [EBP + -0x38],AX
0082ca9d : JMP 0x0082cb19
0082ca9f : MOV EDI,dword ptr [ESI + 0x17f0]
0082caa5 : TEST EDI,EDI
0082caa7 : JZ 0x0082cadc
0082caa9 : MOV ECX,dword ptr [EBP + -0x18]
0082caac : MOV DL,byte ptr [ECX + 0x80]
0082cab2 : MOV ECX,dword ptr [EDI + 0x168]
0082cab8 : MOV byte ptr [EBP + -0x1c],DL
0082cabb : MOV EBX,dword ptr [EBP + -0x1c]
0082cabe : TEST ECX,ECX
0082cac0 : JZ 0x0082caca
0082cac2 : MOV EAX,dword ptr [ECX]
0082cac4 : MOV EDX,dword ptr [EAX + 0x10]
0082cac7 : PUSH EBX
0082cac8 : CALL EDX
0082caca : MOV ECX,dword ptr [EDI + 0x16c]
0082cad0 : TEST ECX,ECX
0082cad2 : JZ 0x0082cadc
0082cad4 : MOV EAX,dword ptr [ECX]
0082cad6 : MOV EDX,dword ptr [EAX + 0x10]
0082cad9 : PUSH EBX
0082cada : CALL EDX
0082cadc : MOV ESI,dword ptr [ESI + 0x1870]
0082cae2 : TEST ESI,ESI
0082cae4 : JZ 0x0082cb19
0082cae6 : MOV EAX,dword ptr [EBP + -0x18]
0082cae9 : MOV CL,byte ptr [EAX + 0x80]
0082caef : MOV byte ptr [EBP + -0x20],CL
0082caf2 : MOV ECX,dword ptr [ESI + 0x168]
0082caf8 : MOV EDI,dword ptr [EBP + -0x20]
0082cafb : TEST ECX,ECX
0082cafd : JZ 0x0082cb07
0082caff : MOV EDX,dword ptr [ECX]
0082cb01 : MOV EAX,dword ptr [EDX + 0x10]
0082cb04 : PUSH EDI
0082cb05 : CALL EAX
0082cb07 : MOV ECX,dword ptr [ESI + 0x16c]
0082cb0d : TEST ECX,ECX
0082cb0f : JZ 0x0082cb19
0082cb11 : MOV EDX,dword ptr [ECX]
0082cb13 : MOV EAX,dword ptr [EDX + 0x10]
0082cb16 : PUSH EDI
0082cb17 : CALL EAX
0082cb19 : MOV EAX,dword ptr [EBP + -0x10]
0082cb1c : ADD dword ptr [EBP + -0x14],0x4
0082cb20 : INC EAX
0082cb21 : CMP EAX,dword ptr [EBP + 0x8]
0082cb24 : MOV dword ptr [EBP + -0x10],EAX
0082cb27 : JL 0x0082c9d6
0082cb2d : MOV ECX,dword ptr [EBP + -0xc]
0082cb30 : MOV dword ptr FS:[0x0],ECX
0082cb37 : POP ECX
0082cb38 : POP EDI
0082cb39 : POP ESI
0082cb3a : POP EBX
0082cb3b : MOV ESP,EBP
0082cb3d : POP EBP
0082cb3e : RET 0xc
