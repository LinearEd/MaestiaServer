PROGRAM  : Maestia.exe
FUNCTION : FUN_006770c0
ENTRY    : 006770c0
BODY     : [[006770c0, 0067712b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006770c0(undefined4 param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  int *in_ECX;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar1 = param_2 + 3U & 0xfffffffc;
  if (*in_ECX != 0) {
    iVar2 = FUN_00515c80(*in_ECX,uVar1);
    in_ECX[2] = uVar1;
    *in_ECX = iVar2;
    return;
  }
  param_2 = 2;
  iVar2 = FUN_00515d60(param_1,uVar1,&param_2);
  in_ECX[2] = uVar1;
  *in_ECX = iVar2;
  return;
}



============================================================
DISASSEMBLY
============================================================
006770c0 : MOV EAX,dword ptr [ESP + 0x8]
006770c4 : PUSH EDI
006770c5 : MOV EDI,ECX
006770c7 : TEST EAX,EAX
006770c9 : JNZ 0x006770e8
006770cb : MOV EAX,dword ptr [EDI]
006770cd : TEST EAX,EAX
006770cf : JZ 0x006770dd
006770d1 : PUSH EAX
006770d2 : CALL 0x00515cf0
006770d7 : MOV dword ptr [EDI],0x0
006770dd : MOV dword ptr [EDI + 0x8],0x0
006770e4 : POP EDI
006770e5 : RET 0x8
006770e8 : PUSH ESI
006770e9 : LEA ESI,[EAX + 0x3]
006770ec : MOV EAX,dword ptr [EDI]
006770ee : SHR ESI,0x2
006770f1 : ADD ESI,ESI
006770f3 : ADD ESI,ESI
006770f5 : TEST EAX,EAX
006770f7 : JZ 0x0067710a
006770f9 : PUSH ESI
006770fa : PUSH EAX
006770fb : CALL 0x00515c80
00677100 : MOV dword ptr [EDI + 0x8],ESI
00677103 : POP ESI
00677104 : MOV dword ptr [EDI],EAX
00677106 : POP EDI
00677107 : RET 0x8
0067710a : MOV ECX,dword ptr [ESP + 0xc]
0067710e : LEA EAX,[ESP + 0x10]
00677112 : PUSH EAX
00677113 : PUSH ESI
00677114 : PUSH ECX
00677115 : MOV dword ptr [ESP + 0x1c],0x2
0067711d : CALL 0x00515d60
00677122 : MOV dword ptr [EDI + 0x8],ESI
00677125 : POP ESI
00677126 : MOV dword ptr [EDI],EAX
00677128 : POP EDI
00677129 : RET 0x8
