PROGRAM  : Maestia.exe
FUNCTION : FUN_00500c70
ENTRY    : 00500c70
BODY     : [[00500c70, 00500eef]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00500c70(int param_1)

{
  int iVar1;
  int iVar2;
  float10 fVar3;
  float10 fVar4;
  undefined4 uVar5;
  int iStack_8;
  
  if ((*(int *)(param_1 + 8) != 0) &&
     (iVar1 = (**(code **)(**(int **)(param_1 + 8) + 8))(), iVar1 == 4)) {
    if (*(int *)(param_1 + 8) == 0) {
      iVar1 = 0;
    }
    else {
      iVar1 = *(int *)(param_1 + 8) + -0x68;
    }
    if ((*(int **)(iVar1 + 0xd0) == (int *)0x0) || (**(int **)(iVar1 + 0xd0) == 0)) {
      iVar1 = *(int *)(param_1 + 0x1c);
      if (iVar1 == 1) {
        uVar5 = *(undefined4 *)(param_1 + 0x18);
        FUN_00526260(0);
        iVar1 = FUN_00526fa0(uVar5);
        if ((iVar1 != 0) && (iVar2 = (**(code **)(*(int *)(iVar1 + 0x10) + 8))(), iVar2 == 0x1e)) {
          FUN_005449c0(iVar1 + 0x30,0,0xffffffff);
          FUN_005449f0(iVar1 + 0x5c,0,0xffffffff);
          FUN_005009b0();
          return;
        }
      }
      else if (iVar1 == 2) {
        uVar5 = *(undefined4 *)(param_1 + 0x18);
        FUN_00526260(1);
        iVar1 = FUN_00526fa0(uVar5);
        if ((iVar1 != 0) && (iVar2 = (**(code **)(*(int *)(iVar1 + 0x10) + 8))(), iVar2 == 0x1e)) {
          uVar5 = *(undefined4 *)(param_1 + 0x18);
          FUN_00526260(0);
          fVar3 = (float10)FUN_00527730(uVar5);
          if ((float10)0 < fVar3 != ((float10)0 == fVar3)) {
            iStack_8 = (int)(longlong)ROUND(fVar3);
            FUN_005449c0(iVar1 + 0x30,iStack_8,iStack_8 + 1);
            FUN_005449f0(iVar1 + 0x5c,iStack_8,iStack_8 + 1);
            FUN_005009b0();
            return;
          }
        }
      }
      else if (2 < iVar1) {
        uVar5 = *(undefined4 *)(param_1 + 0x18);
        FUN_00526260(2);
        iVar1 = FUN_00526fa0(uVar5);
        if ((iVar1 != 0) && (iVar2 = (**(code **)(*(int *)(iVar1 + 0x10) + 8))(), iVar2 == 0x1e)) {
          uVar5 = *(undefined4 *)(param_1 + 0x18);
          FUN_00526260(0);
          fVar3 = (float10)FUN_00527730(uVar5);
          if (fVar3 < (float10)0) {
            fVar3 = (float10)0;
          }
          uVar5 = *(undefined4 *)(param_1 + 0x18);
          FUN_00526260(1);
          fVar4 = (float10)FUN_00527730(uVar5);
          if (fVar4 < (float10)0) {
            fVar4 = (float10)0;
          }
          fVar3 = (float10)(double)fVar3;
          if (fVar3 < fVar4 != (fVar3 == fVar4)) {
            iStack_8 = (int)(longlong)ROUND(fVar4);
            iVar2 = iStack_8;
            iStack_8 = (int)(longlong)ROUND(fVar3);
            FUN_005449c0(iVar1 + 0x30,iStack_8,iVar2);
            FUN_005449f0(iVar1 + 0x5c,iStack_8,iVar2);
            FUN_005009b0();
            return;
          }
        }
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00500c70 : SUB ESP,0x8
00500c73 : PUSH ESI
00500c74 : MOV ESI,dword ptr [ESP + 0x10]
00500c78 : CMP dword ptr [ESI + 0x8],0x0
00500c7c : JZ 0x00500eeb
00500c82 : MOV ECX,dword ptr [ESI + 0x8]
00500c85 : MOV EAX,dword ptr [ECX]
00500c87 : MOV EDX,dword ptr [EAX + 0x8]
00500c8a : CALL EDX
00500c8c : CMP EAX,0x4
00500c8f : JNZ 0x00500eeb
00500c95 : MOV EAX,dword ptr [ESI + 0x8]
00500c98 : PUSH EDI
00500c99 : TEST EAX,EAX
00500c9b : JZ 0x00500ca2
00500c9d : LEA EDI,[EAX + -0x68]
00500ca0 : JMP 0x00500ca4
00500ca2 : XOR EDI,EDI
00500ca4 : MOV EAX,dword ptr [EDI + 0xd0]
00500caa : TEST EAX,EAX
00500cac : JZ 0x00500cb7
00500cae : CMP dword ptr [EAX],0x0
00500cb1 : JNZ 0x00500eea
00500cb7 : MOV EAX,dword ptr [ESI + 0x1c]
00500cba : CMP EAX,0x1
00500cbd : JNZ 0x00500d23
00500cbf : MOV EAX,dword ptr [ESI + 0x18]
00500cc2 : PUSH EAX
00500cc3 : PUSH 0x0
00500cc5 : MOV ECX,ESI
00500cc7 : CALL 0x00526260
00500ccc : MOV ECX,EAX
00500cce : CALL 0x00526fa0
00500cd3 : MOV ESI,EAX
00500cd5 : TEST ESI,ESI
00500cd7 : JZ 0x00500eea
00500cdd : MOV EDX,dword ptr [ESI + 0x10]
00500ce0 : MOV EAX,dword ptr [EDX + 0x8]
00500ce3 : LEA ECX,[ESI + 0x10]
00500ce6 : CALL EAX
00500ce8 : CMP EAX,0x1e
00500ceb : JNZ 0x00500eea
00500cf1 : PUSH -0x1
00500cf3 : PUSH 0x0
00500cf5 : LEA ECX,[ESI + 0x30]
00500cf8 : PUSH ECX
00500cf9 : MOV ECX,dword ptr [EDI + 0xa0]
00500cff : CALL 0x005449c0
00500d04 : MOV ECX,dword ptr [EDI + 0xa0]
00500d0a : PUSH -0x1
00500d0c : PUSH 0x0
00500d0e : ADD ESI,0x5c
00500d11 : PUSH ESI
00500d12 : CALL 0x005449f0
00500d17 : MOV ECX,EDI
00500d19 : POP EDI
00500d1a : POP ESI
00500d1b : ADD ESP,0x8
00500d1e : JMP 0x005009b0
00500d23 : PUSH EBX
00500d24 : PUSH EBP
00500d25 : CMP EAX,0x2
00500d28 : JNZ 0x00500dd8
00500d2e : MOV EDX,dword ptr [ESI + 0x18]
00500d31 : PUSH EDX
00500d32 : PUSH 0x1
00500d34 : MOV ECX,ESI
00500d36 : CALL 0x00526260
00500d3b : MOV ECX,EAX
00500d3d : CALL 0x00526fa0
00500d42 : MOV EBX,EAX
00500d44 : TEST EBX,EBX
00500d46 : JZ 0x00500ee8
00500d4c : MOV EAX,dword ptr [EBX + 0x10]
00500d4f : MOV EDX,dword ptr [EAX + 0x8]
00500d52 : LEA ECX,[EBX + 0x10]
00500d55 : CALL EDX
00500d57 : CMP EAX,0x1e
00500d5a : JNZ 0x00500ee8
00500d60 : MOV EAX,dword ptr [ESI + 0x18]
00500d63 : PUSH EAX
00500d64 : PUSH 0x0
00500d66 : MOV ECX,ESI
00500d68 : CALL 0x00526260
00500d6d : MOV ECX,EAX
00500d6f : CALL 0x00527730
00500d74 : FLDZ
00500d76 : FCOMP
00500d78 : FNSTSW AX
00500d7a : TEST AH,0x41
00500d7d : JP 0x00500ee6
00500d83 : FNSTCW word ptr [ESP + 0x1c]
00500d87 : LEA ECX,[EBX + 0x30]
00500d8a : MOVZX EAX,word ptr [ESP + 0x1c]
00500d8f : OR EAX,0xc00
00500d94 : MOV dword ptr [ESP + 0x10],EAX
00500d98 : FLDCW word ptr [ESP + 0x10]
00500d9c : FISTP qword ptr [ESP + 0x10]
00500da0 : MOV ESI,dword ptr [ESP + 0x10]
00500da4 : LEA EBP,[ESI + 0x1]
00500da7 : PUSH EBP
00500da8 : FLDCW word ptr [ESP + 0x20]
00500dac : PUSH ESI
00500dad : PUSH ECX
00500dae : MOV ECX,dword ptr [EDI + 0xa0]
00500db4 : CALL 0x005449c0
00500db9 : MOV ECX,dword ptr [EDI + 0xa0]
00500dbf : PUSH EBP
00500dc0 : PUSH ESI
00500dc1 : ADD EBX,0x5c
00500dc4 : PUSH EBX
00500dc5 : CALL 0x005449f0
00500dca : POP EBP
00500dcb : POP EBX
00500dcc : MOV ECX,EDI
00500dce : POP EDI
00500dcf : POP ESI
00500dd0 : ADD ESP,0x8
00500dd3 : JMP 0x005009b0
00500dd8 : CMP EAX,0x3
00500ddb : JL 0x00500ee8
00500de1 : MOV EDX,dword ptr [ESI + 0x18]
00500de4 : PUSH EDX
00500de5 : PUSH 0x2
00500de7 : MOV ECX,ESI
00500de9 : CALL 0x00526260
00500dee : MOV ECX,EAX
00500df0 : CALL 0x00526fa0
00500df5 : MOV EBX,EAX
00500df7 : TEST EBX,EBX
00500df9 : JZ 0x00500ee8
00500dff : MOV EAX,dword ptr [EBX + 0x10]
00500e02 : MOV EDX,dword ptr [EAX + 0x8]
00500e05 : LEA ECX,[EBX + 0x10]
00500e08 : CALL EDX
00500e0a : CMP EAX,0x1e
00500e0d : JNZ 0x00500ee8
00500e13 : MOV EAX,dword ptr [ESI + 0x18]
00500e16 : PUSH EAX
00500e17 : PUSH 0x0
00500e19 : MOV ECX,ESI
00500e1b : CALL 0x00526260
00500e20 : MOV ECX,EAX
00500e22 : CALL 0x00527730
00500e27 : FLDZ
00500e29 : FCOM
00500e2b : FNSTSW AX
00500e2d : TEST AH,0x41
00500e30 : JNZ 0x00500e36
00500e32 : FSTP ST1
00500e34 : JMP 0x00500e38
00500e36 : FSTP ST0
00500e38 : MOV ECX,dword ptr [ESI + 0x18]
00500e3b : FSTP double ptr [ESP + 0x10]
00500e3f : PUSH ECX
00500e40 : PUSH 0x1
00500e42 : MOV ECX,ESI
00500e44 : CALL 0x00526260
00500e49 : MOV ECX,EAX
00500e4b : CALL 0x00527730
00500e50 : FLDZ
00500e52 : FCOM
00500e54 : FNSTSW AX
00500e56 : TEST AH,0x41
00500e59 : JNZ 0x00500e5f
00500e5b : FSTP ST1
00500e5d : JMP 0x00500e61
00500e5f : FSTP ST0
00500e61 : FLD double ptr [ESP + 0x10]
00500e65 : FCOM
00500e67 : FNSTSW AX
00500e69 : TEST AH,0x41
00500e6c : JP 0x00500ee4
00500e6e : FNSTCW word ptr [ESP + 0x1c]
00500e72 : LEA EDX,[EBX + 0x30]
00500e75 : MOVZX EAX,word ptr [ESP + 0x1c]
00500e7a : FXCH
00500e7c : OR EAX,0xc00
00500e81 : MOV dword ptr [ESP + 0x10],EAX
00500e85 : FLDCW word ptr [ESP + 0x10]
00500e89 : FISTP qword ptr [ESP + 0x10]
00500e8d : MOV ESI,dword ptr [ESP + 0x10]
00500e91 : PUSH ESI
00500e92 : FLDCW word ptr [ESP + 0x20]
00500e96 : FNSTCW word ptr [ESP + 0x20]
00500e9a : MOVZX EAX,word ptr [ESP + 0x20]
00500e9f : OR EAX,0xc00
00500ea4 : MOV dword ptr [ESP + 0x14],EAX
00500ea8 : FLDCW word ptr [ESP + 0x14]
00500eac : FISTP qword ptr [ESP + 0x14]
00500eb0 : MOV EBP,dword ptr [ESP + 0x14]
00500eb4 : MOV ECX,dword ptr [EDI + 0xa0]
00500eba : PUSH EBP
00500ebb : FLDCW word ptr [ESP + 0x24]
00500ebf : PUSH EDX
00500ec0 : CALL 0x005449c0
00500ec5 : MOV ECX,dword ptr [EDI + 0xa0]
00500ecb : PUSH ESI
00500ecc : PUSH EBP
00500ecd : ADD EBX,0x5c
00500ed0 : PUSH EBX
00500ed1 : CALL 0x005449f0
00500ed6 : POP EBP
00500ed7 : POP EBX
00500ed8 : MOV ECX,EDI
00500eda : POP EDI
00500edb : POP ESI
00500edc : ADD ESP,0x8
00500edf : JMP 0x005009b0
00500ee4 : FSTP ST1
00500ee6 : FSTP ST0
00500ee8 : POP EBP
00500ee9 : POP EBX
00500eea : POP EDI
00500eeb : POP ESI
00500eec : ADD ESP,0x8
00500eef : RET
