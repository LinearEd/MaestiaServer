PROGRAM  : Maestia.exe
FUNCTION : FUN_007a7e70
ENTRY    : 007a7e70
BODY     : [[007a7e70, 007a8039]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007a7e70(int param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  LPCRITICAL_SECTION local_28;
  char *local_24;
  undefined4 local_20;
  int local_1c;
  undefined4 local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar1 = param_2;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2827a;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(char *)(DAT_017251ac + 4) != '\0') {
    local_28 = (LPCRITICAL_SECTION)(param_1 + 0x1348);
    local_1c = 0;
    local_24 = ".\\Gui\\AvaUIStaticTextEx.cpp";
    local_20 = 0x1fd;
    local_18 = 1;
    FUN_006ef1a0(&local_28);
    local_8 = 0;
    if ((uint)(*(int *)(param_1 + 0x11c0) - *(int *)(param_1 + 0x11bc) >> 2) < 0x3e9) {
      FUN_004c05f0(uVar2);
      if ((*(char *)(param_2 + 0x71) != '\0') && (*(int *)(param_2 + 0x1f0) != 0)) {
        iVar4 = *(int *)(param_2 + 0x24);
        if ((iVar4 == 0) || (*(int *)(iVar4 + 0x2c) == 0)) {
          local_8 = 0xffffffff;
          FUN_006ef180();
          ExceptionList = local_10;
          return;
        }
        param_2 = 0;
        if ((*(int *)(*(int *)(iVar4 + 0x2c) + 0x288) != 0) && (*(int *)(iVar1 + 0x214) == 9)) {
          iVar3 = FUN_00a65540(7);
          if (iVar3 != 0) {
            param_2 = 1;
            iVar4 = iVar3;
          }
        }
        local_14 = CONCAT31(local_14._1_3_,*(undefined1 *)(iVar1 + 0x20e));
        FUN_0074e3f0(iVar1 + 0x1dc,*(undefined4 *)(iVar1 + 0x1f8),iVar4,param_2,
                     *(undefined4 *)(iVar1 + 0x1d8),*(undefined2 *)(iVar1 + 0x1fc),
                     *(undefined2 *)(iVar1 + 0x1fe),local_14,*(undefined4 *)(iVar1 + 0x214));
      }
      local_8 = 0xffffffff;
      if (local_1c != 0) {
        LeaveCriticalSection(local_28);
      }
    }
    else {
      FUN_008018d0(L"[AvaUINamePadContainer::LinkEntity]: RenderingBalloons size too big");
      local_8 = 0xffffffff;
      if (local_1c != 0) {
        LeaveCriticalSection(local_28);
        ExceptionList = local_10;
        return;
      }
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007a7e70 : PUSH EBP
007a7e71 : MOV EBP,ESP
007a7e73 : PUSH -0x1
007a7e75 : PUSH 0xb2827a
007a7e7a : MOV EAX,FS:[0x0]
007a7e80 : PUSH EAX
007a7e81 : SUB ESP,0x18
007a7e84 : PUSH EBX
007a7e85 : PUSH ESI
007a7e86 : PUSH EDI
007a7e87 : MOV EAX,[0x00d66fa0]
007a7e8c : XOR EAX,EBP
007a7e8e : PUSH EAX
007a7e8f : LEA EAX,[EBP + -0xc]
007a7e92 : MOV FS:[0x0],EAX
007a7e98 : MOV EBX,dword ptr [EBP + 0xc]
007a7e9b : MOV EAX,[0x017251ac]
007a7ea0 : MOV AL,byte ptr [EAX + 0x4]
007a7ea3 : TEST AL,AL
007a7ea5 : JZ 0x007a8026
007a7eab : MOV ESI,dword ptr [EBP + 0x8]
007a7eae : LEA EDX,[EBP + -0x24]
007a7eb1 : LEA ECX,[ESI + 0x1348]
007a7eb7 : XOR EDI,EDI
007a7eb9 : PUSH EDX
007a7eba : MOV dword ptr [EBP + -0x18],EDI
007a7ebd : MOV dword ptr [EBP + -0x24],ECX
007a7ec0 : MOV dword ptr [EBP + -0x20],0xc16e9c
007a7ec7 : MOV dword ptr [EBP + -0x1c],0x1fd
007a7ece : MOV dword ptr [EBP + -0x14],0x1
007a7ed5 : CALL 0x006ef1a0
007a7eda : MOV dword ptr [EBP + -0x4],EDI
007a7edd : MOV EAX,dword ptr [ESI + 0x11c0]
007a7ee3 : SUB EAX,dword ptr [ESI + 0x11bc]
007a7ee9 : LEA EDX,[ESI + 0x11b8]
007a7eef : SAR EAX,0x2
007a7ef2 : CMP EAX,0x3e8
007a7ef7 : JBE 0x007a7f3d
007a7ef9 : MOV ESI,dword ptr [0x00da98e8]
007a7eff : PUSH 0xc16eb8
007a7f04 : CALL 0x008018d0
007a7f09 : ADD ESP,0x4
007a7f0c : MOV dword ptr [EBP + -0x4],0xffffffff
007a7f13 : CMP dword ptr [EBP + -0x18],EDI
007a7f16 : JZ 0x007a8026
007a7f1c : MOV ECX,dword ptr [EBP + -0x24]
007a7f1f : PUSH ECX
007a7f20 : CALL dword ptr [0x00b8511c]
007a7f26 : MOV dword ptr [EBP + -0x18],EDI
007a7f29 : MOV ECX,dword ptr [EBP + -0xc]
007a7f2c : MOV dword ptr FS:[0x0],ECX
007a7f33 : POP ECX
007a7f34 : POP EDI
007a7f35 : POP ESI
007a7f36 : POP EBX
007a7f37 : MOV ESP,EBP
007a7f39 : POP EBP
007a7f3a : RET 0x8
007a7f3d : LEA EDI,[EBP + 0xc]
007a7f40 : CALL 0x004c05f0
007a7f45 : CMP byte ptr [EBX + 0x71],0x0
007a7f49 : JZ 0x007a8008
007a7f4f : CMP dword ptr [EBX + 0x1f0],0x0
007a7f56 : JBE 0x007a8008
007a7f5c : MOV EDI,dword ptr [EBX + 0x24]
007a7f5f : TEST EDI,EDI
007a7f61 : JNZ 0x007a7f86
007a7f63 : MOV dword ptr [EBP + -0x4],0xffffffff
007a7f6a : LEA ESI,[EBP + -0x24]
007a7f6d : CALL 0x006ef180
007a7f72 : MOV ECX,dword ptr [EBP + -0xc]
007a7f75 : MOV dword ptr FS:[0x0],ECX
007a7f7c : POP ECX
007a7f7d : POP EDI
007a7f7e : POP ESI
007a7f7f : POP EBX
007a7f80 : MOV ESP,EBP
007a7f82 : POP EBP
007a7f83 : RET 0x8
007a7f86 : MOV EAX,dword ptr [EDI + 0x2c]
007a7f89 : TEST EAX,EAX
007a7f8b : JZ 0x007a7f63
007a7f8d : MOV EAX,dword ptr [EAX + 0x288]
007a7f93 : MOV byte ptr [EBP + 0xc],0x0
007a7f97 : TEST EAX,EAX
007a7f99 : JZ 0x007a7fb7
007a7f9b : CMP dword ptr [EBX + 0x214],0x9
007a7fa2 : JNZ 0x007a7fb7
007a7fa4 : PUSH 0x7
007a7fa6 : MOV ESI,EAX
007a7fa8 : CALL 0x00a65540
007a7fad : TEST EAX,EAX
007a7faf : JZ 0x007a7fb7
007a7fb1 : MOV EDI,EAX
007a7fb3 : MOV byte ptr [EBP + 0xc],0x1
007a7fb7 : MOV DL,byte ptr [EBX + 0x20e]
007a7fbd : MOV EAX,dword ptr [EBX + 0x214]
007a7fc3 : MOVZX ECX,word ptr [EBX + 0x1fe]
007a7fca : MOV ESI,dword ptr [EBX + 0x1d8]
007a7fd0 : PUSH EAX
007a7fd1 : MOV byte ptr [EBP + -0x10],DL
007a7fd4 : MOV EAX,dword ptr [EBP + -0x10]
007a7fd7 : MOVZX EDX,word ptr [EBX + 0x1fc]
007a7fde : PUSH EAX
007a7fdf : PUSH ECX
007a7fe0 : MOV ECX,dword ptr [EBP + 0xc]
007a7fe3 : PUSH EDX
007a7fe4 : MOV EDX,dword ptr [EBX + 0x1f8]
007a7fea : PUSH ESI
007a7feb : PUSH ECX
007a7fec : MOV CL,byte ptr [EBX + 0x210]
007a7ff2 : PUSH EDI
007a7ff3 : PUSH EDX
007a7ff4 : LEA EAX,[EBX + 0x1dc]
007a7ffa : PUSH EAX
007a7ffb : MOV EAX,dword ptr [EBP + 0x8]
007a7ffe : ADD EAX,0x11e8
007a8003 : CALL 0x0074e3f0
007a8008 : MOV dword ptr [EBP + -0x4],0xffffffff
007a800f : CMP dword ptr [EBP + -0x18],0x0
007a8013 : JZ 0x007a8026
007a8015 : MOV ECX,dword ptr [EBP + -0x24]
007a8018 : PUSH ECX
007a8019 : CALL dword ptr [0x00b8511c]
007a801f : MOV dword ptr [EBP + -0x18],0x0
007a8026 : MOV ECX,dword ptr [EBP + -0xc]
007a8029 : MOV dword ptr FS:[0x0],ECX
007a8030 : POP ECX
007a8031 : POP EDI
007a8032 : POP ESI
007a8033 : POP EBX
007a8034 : MOV ESP,EBP
007a8036 : POP EBP
007a8037 : RET 0x8
