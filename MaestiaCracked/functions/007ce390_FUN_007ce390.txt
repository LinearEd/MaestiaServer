PROGRAM  : Maestia.exe
FUNCTION : FUN_007ce390
ENTRY    : 007ce390
BODY     : [[007ce390, 007ce483]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007ce390(void)

{
  uint uVar1;
  undefined4 *in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b28981;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *in_ECX = &PTR_LAB_00cd4b18;
  local_8 = 1;
  in_ECX[1] = 0;
  if (in_ECX[2] != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  local_8 = CONCAT31(local_8._1_3_,2);
  FUN_00458e80(in_ECX + 0xd);
  FUN_004402f0(uVar1);
  in_ECX[0x14] = 7;
  in_ECX[0x15] = 8;
  if ((undefined4 *)in_ECX[2] != (undefined4 *)0x0) {
    (*(code *)**(undefined4 **)in_ECX[2])(1);
  }
  in_ECX[2] = 0;
  local_8._0_1_ = 1;
  if (in_ECX[2] != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  local_8 = (uint)local_8._1_3_ << 8;
  FUN_004bd6c0(in_ECX + 0xc);
  local_8 = 0xffffffff;
  if (7 < (uint)in_ECX[9]) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  in_ECX[9] = 7;
  in_ECX[8] = 0;
  *(undefined2 *)(in_ECX + 4) = 0;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007ce390 : PUSH EBP
007ce391 : MOV EBP,ESP
007ce393 : PUSH -0x1
007ce395 : PUSH 0xb28981
007ce39a : MOV EAX,FS:[0x0]
007ce3a0 : PUSH EAX
007ce3a1 : SUB ESP,0xc
007ce3a4 : PUSH EBX
007ce3a5 : PUSH ESI
007ce3a6 : PUSH EDI
007ce3a7 : MOV EAX,[0x00d66fa0]
007ce3ac : XOR EAX,EBP
007ce3ae : PUSH EAX
007ce3af : LEA EAX,[EBP + -0xc]
007ce3b2 : MOV FS:[0x0],EAX
007ce3b8 : MOV EDI,ECX
007ce3ba : MOV dword ptr [EBP + -0x14],EDI
007ce3bd : MOV dword ptr [EDI],0xcd4b18
007ce3c3 : MOV dword ptr [EBP + -0x4],0x1
007ce3ca : MOV dword ptr [EDI + 0x4],0x0
007ce3d1 : MOV EAX,dword ptr [EDI + 0x8]
007ce3d4 : MOV dword ptr [EBP + -0x18],EDI
007ce3d7 : TEST EAX,EAX
007ce3d9 : JZ 0x007ce3e5
007ce3db : ADD EAX,0x4
007ce3de : PUSH EAX
007ce3df : CALL dword ptr [0x00b85118]
007ce3e5 : MOV byte ptr [EBP + -0x4],0x2
007ce3e9 : LEA EBX,[EDI + 0x30]
007ce3ec : LEA EAX,[EBX + 0x4]
007ce3ef : PUSH EAX
007ce3f0 : CALL 0x00458e80
007ce3f5 : MOV ECX,dword ptr [EBX + 0x8]
007ce3f8 : LEA ESI,[EBX + 0x10]
007ce3fb : LEA EAX,[EBP + -0x10]
007ce3fe : MOV dword ptr [EBP + -0x10],ECX
007ce401 : CALL 0x004402f0
007ce406 : MOV ESI,0x8
007ce40b : MOV dword ptr [EBX + 0x20],0x7
007ce412 : MOV dword ptr [EBX + 0x24],ESI
007ce415 : MOV ECX,dword ptr [EDI + 0x8]
007ce418 : TEST ECX,ECX
007ce41a : JZ 0x007ce424
007ce41c : MOV EDX,dword ptr [ECX]
007ce41e : MOV EAX,dword ptr [EDX]
007ce420 : PUSH 0x1
007ce422 : CALL EAX
007ce424 : MOV dword ptr [EDI + 0x8],0x0
007ce42b : MOV byte ptr [EBP + -0x4],0x1
007ce42f : MOV EAX,dword ptr [EDI + 0x8]
007ce432 : TEST EAX,EAX
007ce434 : JZ 0x007ce440
007ce436 : ADD EAX,0x4
007ce439 : PUSH EAX
007ce43a : CALL dword ptr [0x00b8511c]
007ce440 : MOV byte ptr [EBP + -0x4],0x0
007ce444 : PUSH EBX
007ce445 : CALL 0x004bd6c0
007ce44a : MOV dword ptr [EBP + -0x4],0xffffffff
007ce451 : CMP dword ptr [EDI + 0x24],ESI
007ce454 : JC 0x007ce45e
007ce456 : MOV ECX,dword ptr [EDI + 0x10]
007ce459 : CALL 0x006f04e0
007ce45e : XOR ECX,ECX
007ce460 : MOV dword ptr [EDI + 0x24],0x7
007ce467 : MOV dword ptr [EDI + 0x20],0x0
007ce46e : MOV word ptr [EDI + 0x10],CX
007ce472 : MOV ECX,dword ptr [EBP + -0xc]
007ce475 : MOV dword ptr FS:[0x0],ECX
007ce47c : POP ECX
007ce47d : POP EDI
007ce47e : POP ESI
007ce47f : POP EBX
007ce480 : MOV ESP,EBP
007ce482 : POP EBP
007ce483 : RET
