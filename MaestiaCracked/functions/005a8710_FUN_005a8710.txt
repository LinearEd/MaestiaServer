PROGRAM  : Maestia.exe
FUNCTION : FUN_005a8710
ENTRY    : 005a8710
BODY     : [[005a8710, 005a87cd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005a8710(uint param_1)

{
  uint uVar1;
  int iVar2;
  int in_ECX;
  uint uVar3;
  undefined1 local_4 [4];
  
  uVar3 = param_1;
  if (param_1 < 0x10) {
    uVar3 = 0x10;
  }
  uVar3 = *(uint *)(in_ECX + 0x14) + uVar3 & ~*(uint *)(in_ECX + 0x14);
  iVar2 = FUN_005f59e0(uVar3,&param_1);
  if (iVar2 == 0) {
    uVar1 = *(uint *)(in_ECX + 4);
    iVar2 = (((uVar1 - 1) + uVar3) / uVar1) * uVar1;
    if (iVar2 + (((uint)(*(int *)(in_ECX + 0x14) + iVar2) >>
                 ((byte)*(undefined4 *)(in_ECX + 0x10) & 0x1f)) + 0x1f >> 5) * -4 < uVar3) {
      do {
        iVar2 = iVar2 + *(int *)(in_ECX + 4);
      } while (iVar2 + (((uint)(*(int *)(in_ECX + 0x14) + iVar2) >>
                        ((byte)*(undefined4 *)(in_ECX + 0x10) & 0x1f)) + 0x1f >> 5) * -4 < uVar3);
    }
    param_1 = FUN_005a85e0(iVar2);
    if (param_1 == 0) {
      return;
    }
    FUN_005f59e0(uVar3,local_4);
  }
  *(int *)(param_1 + 0x10) = *(int *)(param_1 + 0x10) + 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
005a8710 : SUB ESP,0x8
005a8713 : PUSH EBX
005a8714 : MOV EBX,ECX
005a8716 : MOV ECX,dword ptr [ESP + 0x10]
005a871a : PUSH ESI
005a871b : PUSH EDI
005a871c : MOV dword ptr [ESP + 0xc],EBX
005a8720 : CMP ECX,0x10
005a8723 : JNC 0x005a872a
005a8725 : MOV ECX,0x10
005a872a : MOV EAX,dword ptr [EBX + 0x14]
005a872d : LEA EDI,[EBX + 0x10]
005a8730 : LEA ESI,[EAX + ECX*0x1]
005a8733 : NOT EAX
005a8735 : AND ESI,EAX
005a8737 : LEA EAX,[ESP + 0x18]
005a873b : PUSH EAX
005a873c : PUSH ESI
005a873d : MOV ECX,EDI
005a873f : CALL 0x005f59e0
005a8744 : TEST EAX,EAX
005a8746 : JNZ 0x005a87be
005a8748 : MOV ECX,dword ptr [EBX + 0x4]
005a874b : XOR EDX,EDX
005a874d : LEA EAX,[ECX + ESI*0x1 + -0x1]
005a8751 : DIV ECX
005a8753 : MOV EDX,dword ptr [EDI + 0x4]
005a8756 : IMUL EAX,ECX
005a8759 : MOV ECX,dword ptr [EDI]
005a875b : ADD EDX,EAX
005a875d : SHR EDX,CL
005a875f : MOV ECX,EAX
005a8761 : ADD EDX,0x1f
005a8764 : SHR EDX,0x5
005a8767 : ADD EDX,EDX
005a8769 : ADD EDX,EDX
005a876b : SUB ECX,EDX
005a876d : CMP ECX,ESI
005a876f : JNC 0x005a8798
005a8771 : MOV EDX,dword ptr [EBX + 0x4]
005a8774 : MOV EBX,dword ptr [EDI + 0x4]
005a8777 : PUSH EBP
005a8778 : MOV ECX,dword ptr [EDI]
005a877a : ADD EAX,EDX
005a877c : LEA EBP,[EBX + EAX*0x1]
005a877f : SHR EBP,CL
005a8781 : MOV ECX,EAX
005a8783 : ADD EBP,0x1f
005a8786 : SHR EBP,0x5
005a8789 : ADD EBP,EBP
005a878b : ADD EBP,EBP
005a878d : SUB ECX,EBP
005a878f : CMP ECX,ESI
005a8791 : JC 0x005a8778
005a8793 : MOV EBX,dword ptr [ESP + 0x10]
005a8797 : POP EBP
005a8798 : PUSH EAX
005a8799 : MOV ECX,EBX
005a879b : CALL 0x005a85e0
005a87a0 : MOV dword ptr [ESP + 0x18],EAX
005a87a4 : TEST EAX,EAX
005a87a6 : JNZ 0x005a87b1
005a87a8 : POP EDI
005a87a9 : POP ESI
005a87aa : POP EBX
005a87ab : ADD ESP,0x8
005a87ae : RET 0x4
005a87b1 : LEA EDX,[ESP + 0x10]
005a87b5 : PUSH EDX
005a87b6 : PUSH ESI
005a87b7 : MOV ECX,EDI
005a87b9 : CALL 0x005f59e0
005a87be : MOV ECX,dword ptr [ESP + 0x18]
005a87c2 : INC dword ptr [ECX + 0x10]
005a87c5 : POP EDI
005a87c6 : POP ESI
005a87c7 : POP EBX
005a87c8 : ADD ESP,0x8
005a87cb : RET 0x4
