PROGRAM  : Maestia.exe
FUNCTION : FUN_007761d0
ENTRY    : 007761d0
BODY     : [[007761d0, 007765bb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007761d0(undefined4 param_1,undefined2 param_2)

{
  int iVar1;
  char cVar2;
  uint uVar3;
  undefined4 uVar4;
  int in_ECX;
  undefined4 in_stack_00000018;
  uint in_stack_0000001c;
  char in_stack_00000020;
  undefined1 local_48 [4];
  undefined2 local_44;
  undefined4 local_34;
  uint local_30;
  undefined4 local_2c;
  undefined **local_28;
  undefined1 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  FILE *local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  puStack_c = &LAB_00b19112;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if ((in_stack_00000020 != '\0') &&
     (iVar1 = *(int *)(*(int *)(DAT_017251ac + 0x1a4) + 0xf0), iVar1 != 0)) {
    if (*(int *)(iVar1 + 0x9c) == 0) {
      uVar4 = *(undefined4 *)(iVar1 + 0x2c30);
    }
    else {
      uVar4 = *(undefined4 *)(*(int *)(iVar1 + 0x9c) + 0xa64);
    }
    *(undefined4 *)(in_ECX + 0xa64) = uVar4;
    if (*(int *)(iVar1 + 0x9c) == 0) {
      uVar4 = *(undefined4 *)(iVar1 + 0x2c34);
    }
    else {
      uVar4 = *(undefined4 *)(*(int *)(iVar1 + 0x9c) + 0xa68);
    }
    *(undefined4 *)(in_ECX + 0xa68) = uVar4;
    if (*(int *)(iVar1 + 0x9c) == 0) {
      uVar4 = *(undefined4 *)(iVar1 + 0x2c38);
    }
    else {
      uVar4 = *(undefined4 *)(*(int *)(iVar1 + 0x9c) + 0xa6c);
    }
    *(undefined4 *)(in_ECX + 0xa6c) = uVar4;
    if (*(int *)(iVar1 + 0x9c) == 0) {
      uVar4 = *(undefined4 *)(iVar1 + 0x2c3c);
    }
    else {
      uVar4 = *(undefined4 *)(*(int *)(iVar1 + 0x9c) + 0xa70);
    }
    *(undefined4 *)(in_ECX + 0xa70) = uVar4;
    if (*(int *)(iVar1 + 0x9c) == 0) {
      uVar4 = *(undefined4 *)(iVar1 + 0x2c40);
    }
    else {
      uVar4 = *(undefined4 *)(*(int *)(iVar1 + 0x9c) + 0xa74);
    }
    *(undefined4 *)(in_ECX + 0xa74) = uVar4;
    if (*(int *)(iVar1 + 0x9c) == 0) {
      uVar4 = *(undefined4 *)(iVar1 + 0x2c44);
    }
    else {
      uVar4 = *(undefined4 *)(*(int *)(iVar1 + 0x9c) + 0xa78);
    }
    *(undefined4 *)(in_ECX + 0xa78) = uVar4;
  }
  local_24 = 0;
  local_20 = 0;
  local_1c = 0;
  local_28 = &PTR_FUN_00cda538;
  local_18 = (FILE *)0x0;
  local_8._0_1_ = 1;
  local_8._1_3_ = 0;
  local_44 = 0;
  local_30 = 7;
  local_34 = 0;
  FUN_00406360(&PTR_LAB_00c0fe08,2);
  local_8._0_1_ = 2;
  cVar2 = FUN_0070a9a0(&param_1,local_48);
  local_8 = CONCAT31(local_8._1_3_,1);
  if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar3);
  }
  local_30 = 7;
  local_34 = 0;
  local_44 = 0;
  if (cVar2 == '\0') {
    local_8 = (uint)local_8._1_3_ << 8;
    local_28 = &PTR_FUN_00cda538;
    if (local_18 != (FILE *)0x0) {
      _fflush(local_18);
      _fclose(local_18);
      local_18 = (FILE *)0x0;
    }
    local_8 = 0xffffffff;
    if (7 < in_stack_0000001c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0(uVar3);
    }
  }
  else {
    local_14 = 0;
    local_2c = 0x9090808;
    FUN_0070a6d0(0x5000,&local_14);
    if (local_18 != (FILE *)0x0) {
      _fwrite(&local_2c,4,1,local_18);
    }
    FUN_0070a670(local_14);
    FUN_0070a6d0(0x5010,&local_14);
    if (local_18 != (FILE *)0x0) {
      _fwrite((void *)(in_ECX + 0xa64),4,1,local_18);
    }
    FUN_0070a670(local_14);
    FUN_0070a6d0(0x5011,&local_14);
    if (local_18 != (FILE *)0x0) {
      _fwrite((void *)(in_ECX + 0xa68),4,1,local_18);
    }
    FUN_0070a670(local_14);
    FUN_0070a6d0(0x50012,&local_14);
    if (local_18 != (FILE *)0x0) {
      _fwrite((void *)(in_ECX + 0xa6c),4,1,local_18);
    }
    FUN_0070a670(local_14);
    FUN_0070a6d0(0x50013,&local_14);
    if (local_18 != (FILE *)0x0) {
      _fwrite((void *)(in_ECX + 0xa70),4,1,local_18);
    }
    FUN_0070a670(local_14);
    FUN_0070a6d0(0x50014,&local_14);
    if (local_18 != (FILE *)0x0) {
      _fwrite((void *)(in_ECX + 0xa74),4,1,local_18);
    }
    FUN_0070a670(local_14);
    FUN_0070a6d0(0x50015,&local_14);
    if (local_18 != (FILE *)0x0) {
      _fwrite((void *)(in_ECX + 0xa78),4,1,local_18);
    }
    FUN_0070a670(local_14);
    if (local_18 != (FILE *)0x0) {
      _fflush(local_18);
      _fclose(local_18);
      local_18 = (FILE *)0x0;
    }
    local_8 = local_8 & 0xffffff00;
    local_28 = &PTR_FUN_00cda538;
    if (local_18 != (FILE *)0x0) {
      _fflush(local_18);
      _fclose(local_18);
      local_18 = (FILE *)0x0;
    }
    local_8 = 0xffffffff;
    if (7 < in_stack_0000001c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007761d0 : PUSH EBP
007761d1 : MOV EBP,ESP
007761d3 : PUSH -0x1
007761d5 : PUSH 0xb19112
007761da : MOV EAX,FS:[0x0]
007761e0 : PUSH EAX
007761e1 : SUB ESP,0x38
007761e4 : PUSH EBX
007761e5 : PUSH ESI
007761e6 : PUSH EDI
007761e7 : MOV EAX,[0x00d66fa0]
007761ec : XOR EAX,EBP
007761ee : PUSH EAX
007761ef : LEA EAX,[EBP + -0xc]
007761f2 : MOV FS:[0x0],EAX
007761f8 : MOV ESI,ECX
007761fa : XOR EDI,EDI
007761fc : MOV dword ptr [EBP + -0x4],EDI
007761ff : CMP byte ptr [EBP + 0x24],0x0
00776203 : JZ 0x007762ee
00776209 : MOV EAX,[0x017251ac]
0077620e : MOV EAX,dword ptr [EAX + 0x1a4]
00776214 : MOV EAX,dword ptr [EAX + 0xf0]
0077621a : CMP EAX,EDI
0077621c : JZ 0x007762ee
00776222 : MOV ECX,dword ptr [EAX + 0x9c]
00776228 : CMP ECX,EDI
0077622a : JNZ 0x00776236
0077622c : MOVSS XMM0,dword ptr [EAX + 0x2c30]
00776234 : JMP 0x0077623e
00776236 : MOVSS XMM0,dword ptr [ECX + 0xa64]
0077623e : MOVSS dword ptr [ESI + 0xa64],XMM0
00776246 : MOV ECX,dword ptr [EAX + 0x9c]
0077624c : CMP ECX,EDI
0077624e : JNZ 0x0077625a
00776250 : MOVSS XMM0,dword ptr [EAX + 0x2c34]
00776258 : JMP 0x00776262
0077625a : MOVSS XMM0,dword ptr [ECX + 0xa68]
00776262 : MOVSS dword ptr [ESI + 0xa68],XMM0
0077626a : MOV ECX,dword ptr [EAX + 0x9c]
00776270 : CMP ECX,EDI
00776272 : JNZ 0x0077627e
00776274 : MOVSS XMM0,dword ptr [EAX + 0x2c38]
0077627c : JMP 0x00776286
0077627e : MOVSS XMM0,dword ptr [ECX + 0xa6c]
00776286 : MOVSS dword ptr [ESI + 0xa6c],XMM0
0077628e : MOV ECX,dword ptr [EAX + 0x9c]
00776294 : CMP ECX,EDI
00776296 : JNZ 0x007762a2
00776298 : MOVSS XMM0,dword ptr [EAX + 0x2c3c]
007762a0 : JMP 0x007762aa
007762a2 : MOVSS XMM0,dword ptr [ECX + 0xa70]
007762aa : MOVSS dword ptr [ESI + 0xa70],XMM0
007762b2 : MOV ECX,dword ptr [EAX + 0x9c]
007762b8 : CMP ECX,EDI
007762ba : JNZ 0x007762c4
007762bc : MOV ECX,dword ptr [EAX + 0x2c40]
007762c2 : JMP 0x007762ca
007762c4 : MOV ECX,dword ptr [ECX + 0xa74]
007762ca : MOV dword ptr [ESI + 0xa74],ECX
007762d0 : MOV ECX,dword ptr [EAX + 0x9c]
007762d6 : CMP ECX,EDI
007762d8 : JNZ 0x007762e2
007762da : MOV EAX,dword ptr [EAX + 0x2c44]
007762e0 : JMP 0x007762e8
007762e2 : MOV EAX,dword ptr [ECX + 0xa78]
007762e8 : MOV dword ptr [ESI + 0xa78],EAX
007762ee : MOV dword ptr [EBP + -0x24],0xcd4c80
007762f5 : MOV byte ptr [EBP + -0x20],0x0
007762f9 : MOV dword ptr [EBP + -0x1c],EDI
007762fc : MOV dword ptr [EBP + -0x18],EDI
007762ff : MOV dword ptr [EBP + -0x24],0xcda538
00776306 : MOV dword ptr [EBP + -0x14],EDI
00776309 : MOV byte ptr [EBP + -0x4],0x1
0077630d : XOR ECX,ECX
0077630f : PUSH 0x2
00776311 : MOV word ptr [EBP + -0x40],CX
00776315 : PUSH 0xc0fe08
0077631a : LEA ECX,[EBP + -0x44]
0077631d : MOV dword ptr [EBP + -0x2c],0x7
00776324 : MOV dword ptr [EBP + -0x30],EDI
00776327 : CALL 0x00406360
0077632c : MOV byte ptr [EBP + -0x4],0x2
00776330 : LEA EDX,[EBP + -0x44]
00776333 : PUSH EDX
00776334 : LEA EAX,[EBP + 0x8]
00776337 : PUSH EAX
00776338 : LEA ECX,[EBP + -0x24]
0077633b : CALL 0x0070a9a0
00776340 : TEST AL,AL
00776342 : SETZ BL
00776345 : MOV byte ptr [EBP + -0x4],0x1
00776349 : CMP dword ptr [EBP + -0x2c],0x8
0077634d : JC 0x00776357
0077634f : MOV ECX,dword ptr [EBP + -0x40]
00776352 : CALL 0x006f04e0
00776357 : XOR ECX,ECX
00776359 : MOV dword ptr [EBP + -0x2c],0x7
00776360 : MOV dword ptr [EBP + -0x30],EDI
00776363 : MOV word ptr [EBP + -0x40],CX
00776367 : TEST BL,BL
00776369 : JZ 0x007763b1
0077636b : MOV byte ptr [EBP + -0x4],CL
0077636e : MOV EAX,dword ptr [EBP + -0x14]
00776371 : MOV dword ptr [EBP + -0x24],0xcda538
00776378 : CMP EAX,EDI
0077637a : JZ 0x00776391
0077637c : PUSH EAX
0077637d : CALL 0x006395f7
00776382 : MOV EDX,dword ptr [EBP + -0x14]
00776385 : PUSH EDX
00776386 : CALL 0x006366db
0077638b : ADD ESP,0x8
0077638e : MOV dword ptr [EBP + -0x14],EDI
00776391 : MOV dword ptr [EBP + -0x4],0xffffffff
00776398 : CMP dword ptr [EBP + 0x20],0x8
0077639c : JC 0x007763a6
0077639e : MOV ECX,dword ptr [EBP + 0xc]
007763a1 : CALL 0x006f04e0
007763a6 : XOR EAX,EAX
007763a8 : MOV word ptr [EBP + 0xc],AX
007763ac : JMP 0x0077659e
007763b1 : LEA ECX,[EBP + -0x10]
007763b4 : PUSH ECX
007763b5 : PUSH 0x5000
007763ba : LEA ECX,[EBP + -0x24]
007763bd : MOV dword ptr [EBP + -0x10],EDI
007763c0 : MOV dword ptr [EBP + -0x28],0x9090808
007763c7 : CALL 0x0070a6d0
007763cc : MOV EAX,dword ptr [EBP + -0x14]
007763cf : CMP EAX,EDI
007763d1 : JZ 0x007763e4
007763d3 : PUSH EAX
007763d4 : PUSH 0x1
007763d6 : LEA EDX,[EBP + -0x28]
007763d9 : PUSH 0x4
007763db : PUSH EDX
007763dc : CALL 0x006376ef
007763e1 : ADD ESP,0x10
007763e4 : MOV EAX,dword ptr [EBP + -0x10]
007763e7 : PUSH EAX
007763e8 : LEA ECX,[EBP + -0x24]
007763eb : CALL 0x0070a670
007763f0 : LEA ECX,[EBP + -0x10]
007763f3 : PUSH ECX
007763f4 : PUSH 0x5010
007763f9 : LEA ECX,[EBP + -0x24]
007763fc : CALL 0x0070a6d0
00776401 : MOV EAX,dword ptr [EBP + -0x14]
00776404 : CMP EAX,EDI
00776406 : JZ 0x0077641c
00776408 : PUSH EAX
00776409 : PUSH 0x1
0077640b : LEA EDX,[ESI + 0xa64]
00776411 : PUSH 0x4
00776413 : PUSH EDX
00776414 : CALL 0x006376ef
00776419 : ADD ESP,0x10
0077641c : MOV EAX,dword ptr [EBP + -0x10]
0077641f : PUSH EAX
00776420 : LEA ECX,[EBP + -0x24]
00776423 : CALL 0x0070a670
00776428 : LEA ECX,[EBP + -0x10]
0077642b : PUSH ECX
0077642c : PUSH 0x5011
00776431 : LEA ECX,[EBP + -0x24]
00776434 : CALL 0x0070a6d0
00776439 : MOV EAX,dword ptr [EBP + -0x14]
0077643c : CMP EAX,EDI
0077643e : JZ 0x00776454
00776440 : PUSH EAX
00776441 : PUSH 0x1
00776443 : LEA EDX,[ESI + 0xa68]
00776449 : PUSH 0x4
0077644b : PUSH EDX
0077644c : CALL 0x006376ef
00776451 : ADD ESP,0x10
00776454 : MOV EAX,dword ptr [EBP + -0x10]
00776457 : PUSH EAX
00776458 : LEA ECX,[EBP + -0x24]
0077645b : CALL 0x0070a670
00776460 : LEA ECX,[EBP + -0x10]
00776463 : PUSH ECX
00776464 : PUSH 0x50012
00776469 : LEA ECX,[EBP + -0x24]
0077646c : CALL 0x0070a6d0
00776471 : MOV EAX,dword ptr [EBP + -0x14]
00776474 : CMP EAX,EDI
00776476 : JZ 0x0077648c
00776478 : PUSH EAX
00776479 : PUSH 0x1
0077647b : LEA EDX,[ESI + 0xa6c]
00776481 : PUSH 0x4
00776483 : PUSH EDX
00776484 : CALL 0x006376ef
00776489 : ADD ESP,0x10
0077648c : MOV EAX,dword ptr [EBP + -0x10]
0077648f : PUSH EAX
00776490 : LEA ECX,[EBP + -0x24]
00776493 : CALL 0x0070a670
00776498 : LEA ECX,[EBP + -0x10]
0077649b : PUSH ECX
0077649c : PUSH 0x50013
007764a1 : LEA ECX,[EBP + -0x24]
007764a4 : CALL 0x0070a6d0
007764a9 : MOV EAX,dword ptr [EBP + -0x14]
007764ac : CMP EAX,EDI
007764ae : JZ 0x007764c4
007764b0 : PUSH EAX
007764b1 : PUSH 0x1
007764b3 : LEA EDX,[ESI + 0xa70]
007764b9 : PUSH 0x4
007764bb : PUSH EDX
007764bc : CALL 0x006376ef
007764c1 : ADD ESP,0x10
007764c4 : MOV EAX,dword ptr [EBP + -0x10]
007764c7 : PUSH EAX
007764c8 : LEA ECX,[EBP + -0x24]
007764cb : CALL 0x0070a670
007764d0 : LEA ECX,[EBP + -0x10]
007764d3 : PUSH ECX
007764d4 : PUSH 0x50014
007764d9 : LEA ECX,[EBP + -0x24]
007764dc : CALL 0x0070a6d0
007764e1 : MOV EAX,dword ptr [EBP + -0x14]
007764e4 : CMP EAX,EDI
007764e6 : JZ 0x007764fc
007764e8 : PUSH EAX
007764e9 : PUSH 0x1
007764eb : LEA EDX,[ESI + 0xa74]
007764f1 : PUSH 0x4
007764f3 : PUSH EDX
007764f4 : CALL 0x006376ef
007764f9 : ADD ESP,0x10
007764fc : MOV EAX,dword ptr [EBP + -0x10]
007764ff : PUSH EAX
00776500 : LEA ECX,[EBP + -0x24]
00776503 : CALL 0x0070a670
00776508 : LEA ECX,[EBP + -0x10]
0077650b : PUSH ECX
0077650c : PUSH 0x50015
00776511 : LEA ECX,[EBP + -0x24]
00776514 : CALL 0x0070a6d0
00776519 : MOV EAX,dword ptr [EBP + -0x14]
0077651c : CMP EAX,EDI
0077651e : JZ 0x00776534
00776520 : PUSH EAX
00776521 : PUSH 0x1
00776523 : PUSH 0x4
00776525 : ADD ESI,0xa78
0077652b : PUSH ESI
0077652c : CALL 0x006376ef
00776531 : ADD ESP,0x10
00776534 : MOV EDX,dword ptr [EBP + -0x10]
00776537 : PUSH EDX
00776538 : LEA ECX,[EBP + -0x24]
0077653b : CALL 0x0070a670
00776540 : MOV EAX,dword ptr [EBP + -0x14]
00776543 : CMP EAX,EDI
00776545 : JZ 0x0077655c
00776547 : PUSH EAX
00776548 : CALL 0x006395f7
0077654d : MOV EAX,dword ptr [EBP + -0x14]
00776550 : PUSH EAX
00776551 : CALL 0x006366db
00776556 : ADD ESP,0x8
00776559 : MOV dword ptr [EBP + -0x14],EDI
0077655c : MOV byte ptr [EBP + -0x4],0x0
00776560 : MOV EAX,dword ptr [EBP + -0x14]
00776563 : MOV dword ptr [EBP + -0x24],0xcda538
0077656a : CMP EAX,EDI
0077656c : JZ 0x00776583
0077656e : PUSH EAX
0077656f : CALL 0x006395f7
00776574 : MOV ECX,dword ptr [EBP + -0x14]
00776577 : PUSH ECX
00776578 : CALL 0x006366db
0077657d : ADD ESP,0x8
00776580 : MOV dword ptr [EBP + -0x14],EDI
00776583 : MOV dword ptr [EBP + -0x4],0xffffffff
0077658a : CMP dword ptr [EBP + 0x20],0x8
0077658e : JC 0x00776598
00776590 : MOV ECX,dword ptr [EBP + 0xc]
00776593 : CALL 0x006f04e0
00776598 : XOR EDX,EDX
0077659a : MOV word ptr [EBP + 0xc],DX
0077659e : MOV dword ptr [EBP + 0x1c],EDI
007765a1 : MOV dword ptr [EBP + 0x20],0x7
007765a8 : MOV ECX,dword ptr [EBP + -0xc]
007765ab : MOV dword ptr FS:[0x0],ECX
007765b2 : POP ECX
007765b3 : POP EDI
007765b4 : POP ESI
007765b5 : POP EBX
007765b6 : MOV ESP,EBP
007765b8 : POP EBP
007765b9 : RET 0x20
