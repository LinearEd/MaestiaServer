PROGRAM  : Maestia.exe
FUNCTION : FUN_00552980
ENTRY    : 00552980
BODY     : [[00552980, 00552a32]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00552980(void)

{
  int *piVar1;
  undefined4 *in_ECX;
  int iVar2;
  int *piVar3;
  
  piVar1 = (int *)in_ECX[7];
  *in_ECX = &PTR_FUN_00b86554;
  if (piVar1 != (int *)0x0) {
    iVar2 = piVar1[1];
    piVar3 = (int *)(*piVar1 + -4 + iVar2 * 4);
    for (; iVar2 != 0; iVar2 = iVar2 + -1) {
      if (*piVar3 != 0) {
        FUN_00503db0();
      }
      piVar3 = piVar3 + -1;
    }
    FUN_00515cf0(*piVar1);
    FUN_00515cf0(piVar1);
  }
  if (((*(byte *)(in_ECX + 6) & 2) == 0) && (in_ECX[4] != 0)) {
    FUN_00503db0();
  }
  in_ECX[4] = 0;
  if (((*(byte *)(in_ECX + 6) & 1) == 0) && (in_ECX[5] != 0)) {
    FUN_00503db0();
  }
  in_ECX[5] = 0;
  if (((*(byte *)(in_ECX + 3) & 2) == 0) && (in_ECX[1] != 0)) {
    FUN_00503db0();
  }
  in_ECX[1] = 0;
  if (((*(byte *)(in_ECX + 3) & 1) == 0) && (in_ECX[2] != 0)) {
    FUN_00503db0();
    in_ECX[2] = 0;
    return;
  }
  in_ECX[2] = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
00552980 : PUSH EBX
00552981 : PUSH EBP
00552982 : PUSH ESI
00552983 : MOV ESI,ECX
00552985 : MOV EBP,dword ptr [ESI + 0x1c]
00552988 : MOV dword ptr [ESI],0xb86554
0055298e : TEST EBP,EBP
00552990 : JZ 0x005529c6
00552992 : MOV EAX,dword ptr [EBP + 0x4]
00552995 : MOV ECX,dword ptr [EBP]
00552998 : PUSH EDI
00552999 : LEA EDI,[ECX + EAX*0x4 + -0x4]
0055299d : TEST EAX,EAX
0055299f : JBE 0x005529b6
005529a1 : MOV EBX,EAX
005529a3 : MOV ECX,dword ptr [EDI]
005529a5 : TEST ECX,ECX
005529a7 : JZ 0x005529ae
005529a9 : CALL 0x00503db0
005529ae : SUB EDI,0x4
005529b1 : SUB EBX,0x1
005529b4 : JNZ 0x005529a3
005529b6 : MOV EDX,dword ptr [EBP]
005529b9 : PUSH EDX
005529ba : CALL 0x00515cf0
005529bf : PUSH EBP
005529c0 : CALL 0x00515cf0
005529c5 : POP EDI
005529c6 : MOV BL,0x2
005529c8 : TEST byte ptr [ESI + 0x18],BL
005529cb : JNZ 0x005529d9
005529cd : MOV ECX,dword ptr [ESI + 0x10]
005529d0 : TEST ECX,ECX
005529d2 : JZ 0x005529d9
005529d4 : CALL 0x00503db0
005529d9 : TEST byte ptr [ESI + 0x18],0x1
005529dd : MOV dword ptr [ESI + 0x10],0x0
005529e4 : JNZ 0x005529f2
005529e6 : MOV ECX,dword ptr [ESI + 0x14]
005529e9 : TEST ECX,ECX
005529eb : JZ 0x005529f2
005529ed : CALL 0x00503db0
005529f2 : MOV dword ptr [ESI + 0x14],0x0
005529f9 : TEST byte ptr [ESI + 0xc],BL
005529fc : JNZ 0x00552a0a
005529fe : MOV ECX,dword ptr [ESI + 0x4]
00552a01 : TEST ECX,ECX
00552a03 : JZ 0x00552a0a
00552a05 : CALL 0x00503db0
00552a0a : XOR EAX,EAX
00552a0c : TEST byte ptr [ESI + 0xc],0x1
00552a10 : MOV dword ptr [ESI + 0x4],EAX
00552a13 : JNZ 0x00552a2c
00552a15 : MOV ECX,dword ptr [ESI + 0x8]
00552a18 : CMP ECX,EAX
00552a1a : JZ 0x00552a2c
00552a1c : CALL 0x00503db0
00552a21 : MOV dword ptr [ESI + 0x8],0x0
00552a28 : POP ESI
00552a29 : POP EBP
00552a2a : POP EBX
00552a2b : RET
00552a2c : MOV dword ptr [ESI + 0x8],EAX
00552a2f : POP ESI
00552a30 : POP EBP
00552a31 : POP EBX
00552a32 : RET
