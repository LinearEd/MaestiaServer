PROGRAM  : Maestia.exe
FUNCTION : FUN_0044fe80
ENTRY    : 0044fe80
BODY     : [[0044fe80, 0044febb] [0044fec0, 0044ffd5]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0044fedc) */

void FUN_0044fe80(int param_1,undefined4 *param_2,undefined4 *param_3)

{
  uint uVar1;
  int iVar2;
  ushort *puVar3;
  undefined4 *puVar4;
  int iVar5;
  ushort *puVar6;
  uint uVar7;
  undefined4 *puVar8;
  bool bVar9;
  
  iVar2 = (int)param_3;
  puVar4 = *(undefined4 **)(param_1 + 4);
  bVar9 = true;
  if (*(char *)((int)puVar4[1] + 0x2d) == '\0') {
    uVar1 = *(uint *)((int)param_3 + 0x14);
    puVar8 = (undefined4 *)puVar4[1];
    do {
      puVar4 = puVar8;
      if ((uint)puVar4[9] < 8) {
        puVar3 = (ushort *)(puVar4 + 4);
      }
      else {
        puVar3 = (ushort *)puVar4[4];
      }
      uVar7 = puVar4[8];
      if (uVar1 < (uint)puVar4[8]) {
        uVar7 = uVar1;
      }
      if (*(uint *)((int)param_3 + 0x18) < 8) {
        puVar6 = (ushort *)((int)param_3 + 4);
      }
      else {
        puVar6 = *(ushort **)((int)param_3 + 4);
      }
      for (; uVar7 != 0; uVar7 = uVar7 - 1) {
        if (*puVar6 != *puVar3) {
          uVar7 = (-(uint)(*puVar6 < *puVar3) & 0xfffffffe) + 1;
          if (uVar7 != 0) goto LAB_0044ff37;
          break;
        }
        puVar6 = puVar6 + 1;
        puVar3 = puVar3 + 1;
      }
      if (uVar1 < (uint)puVar4[8]) {
        uVar7 = 0xffffffff;
      }
      else {
        uVar7 = (uint)(uVar1 != puVar4[8]);
      }
LAB_0044ff37:
      bVar9 = (int)uVar7 < 0;
      if (bVar9) {
        puVar8 = (undefined4 *)*puVar4;
      }
      else {
        puVar8 = (undefined4 *)puVar4[2];
      }
    } while (*(char *)((int)puVar8 + 0x2d) == '\0');
  }
  param_3 = puVar4;
  if (bVar9) {
    if (puVar4 == (undefined4 *)**(int **)(param_1 + 4)) {
      bVar9 = true;
      goto LAB_0044ff71;
    }
    FUN_004d6300();
  }
  puVar4 = param_3;
  if (*(uint *)(iVar2 + 0x18) < 8) {
    iVar5 = iVar2 + 4;
  }
  else {
    iVar5 = *(int *)(iVar2 + 4);
  }
  iVar5 = FUN_00405bb0(iVar5);
  if (-1 < iVar5) {
    *param_2 = puVar4;
    *(undefined1 *)(param_2 + 1) = 0;
    return;
  }
LAB_0044ff71:
  puVar4 = (undefined4 *)FUN_00450290(&param_3,bVar9,iVar2);
  *param_2 = *puVar4;
  *(undefined1 *)(param_2 + 1) = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0044fe80 : PUSH EBP
0044fe81 : MOV EBP,ESP
0044fe83 : SUB ESP,0x18
0044fe86 : PUSH EBX
0044fe87 : MOV EBX,dword ptr [EBP + 0x10]
0044fe8a : PUSH ESI
0044fe8b : PUSH EDI
0044fe8c : MOV EDI,dword ptr [EBP + 0x8]
0044fe8f : MOV EAX,dword ptr [EDI + 0x4]
0044fe92 : MOV ESI,dword ptr [EAX + 0x4]
0044fe95 : CMP byte ptr [ESI + 0x2d],0x0
0044fe99 : MOV ECX,EAX
0044fe9b : MOV AL,0x1
0044fe9d : MOV dword ptr [EBP + -0x4],ECX
0044fea0 : MOV byte ptr [EBP + -0x8],AL
0044fea3 : JNZ 0x0044ff5a
0044fea9 : MOV EAX,dword ptr [EBX + 0x14]
0044feac : MOV EDX,dword ptr [EBX + 0x18]
0044feaf : MOV ECX,EAX
0044feb1 : MOV dword ptr [EBP + -0x10],EAX
0044feb4 : MOV dword ptr [EBP + -0xc],ECX
0044feb7 : MOV dword ptr [EBP + -0x14],EDX
0044feba : JMP 0x0044fec3
0044fec0 : MOV ECX,dword ptr [EBP + -0xc]
0044fec3 : CMP dword ptr [ESI + 0x24],0x8
0044fec7 : MOV EDX,dword ptr [ESI + 0x20]
0044feca : MOV dword ptr [EBP + -0x4],ESI
0044fecd : JC 0x0044fed4
0044fecf : MOV EAX,dword ptr [ESI + 0x10]
0044fed2 : JMP 0x0044fed7
0044fed4 : LEA EAX,[ESI + 0x10]
0044fed7 : MOV EDI,dword ptr [EBP + -0x10]
0044feda : CMP ECX,EDI
0044fedc : CMOVC EDI,ECX
0044fedf : CMP EDI,EDX
0044fee1 : JNC 0x0044fee5
0044fee3 : MOV EDX,EDI
0044fee5 : CMP dword ptr [EBP + -0x14],0x8
0044fee9 : JC 0x0044fef0
0044feeb : MOV ECX,dword ptr [EBX + 0x4]
0044feee : JMP 0x0044fef3
0044fef0 : LEA ECX,[EBX + 0x4]
0044fef3 : TEST EDX,EDX
0044fef5 : JBE 0x0044ff0d
0044fef7 : MOV BX,word ptr [ECX]
0044fefa : CMP BX,word ptr [EAX]
0044fefd : JNZ 0x0044ff19
0044feff : ADD ECX,0x2
0044ff02 : ADD EAX,0x2
0044ff05 : SUB EDX,0x1
0044ff08 : JNZ 0x0044fef7
0044ff0a : MOV EBX,dword ptr [EBP + 0x10]
0044ff0d : MOV EAX,dword ptr [ESI + 0x20]
0044ff10 : CMP EDI,EAX
0044ff12 : JNC 0x0044ff2e
0044ff14 : OR EAX,0xffffffff
0044ff17 : JMP 0x0044ff37
0044ff19 : MOV CX,BX
0044ff1c : CMP CX,word ptr [EAX]
0044ff1f : SBB EAX,EAX
0044ff21 : AND EAX,0xfffffffe
0044ff24 : ADD EAX,0x1
0044ff27 : JZ 0x0044ff0a
0044ff29 : MOV EBX,dword ptr [EBP + 0x10]
0044ff2c : JMP 0x0044ff37
0044ff2e : XOR EDX,EDX
0044ff30 : CMP EDI,EAX
0044ff32 : SETNZ DL
0044ff35 : MOV EAX,EDX
0044ff37 : TEST EAX,EAX
0044ff39 : SETL AL
0044ff3c : MOV byte ptr [EBP + -0x8],AL
0044ff3f : TEST AL,AL
0044ff41 : JZ 0x0044ff47
0044ff43 : MOV ESI,dword ptr [ESI]
0044ff45 : JMP 0x0044ff4a
0044ff47 : MOV ESI,dword ptr [ESI + 0x8]
0044ff4a : CMP byte ptr [ESI + 0x2d],0x0
0044ff4e : JZ 0x0044fec0
0044ff54 : MOV EDI,dword ptr [EBP + 0x8]
0044ff57 : MOV ECX,dword ptr [EBP + -0x4]
0044ff5a : MOV ESI,ECX
0044ff5c : MOV dword ptr [EBP + 0x10],ESI
0044ff5f : TEST AL,AL
0044ff61 : JZ 0x0044ff92
0044ff63 : MOV EAX,dword ptr [EDI + 0x4]
0044ff66 : LEA EDX,[EBP + 0x10]
0044ff69 : CMP ECX,dword ptr [EAX]
0044ff6b : JNZ 0x0044ff8a
0044ff6d : PUSH EBX
0044ff6e : PUSH 0x1
0044ff70 : PUSH EDX
0044ff71 : CALL 0x00450290
0044ff76 : MOV ECX,dword ptr [EAX]
0044ff78 : MOV EAX,dword ptr [EBP + 0xc]
0044ff7b : MOV dword ptr [EAX],ECX
0044ff7d : MOV byte ptr [EAX + 0x4],0x1
0044ff81 : POP EDI
0044ff82 : POP ESI
0044ff83 : POP EBX
0044ff84 : MOV ESP,EBP
0044ff86 : POP EBP
0044ff87 : RET 0xc
0044ff8a : CALL 0x004d6300
0044ff8f : MOV ESI,dword ptr [EBP + 0x10]
0044ff92 : CMP dword ptr [EBX + 0x18],0x8
0044ff96 : MOV EDI,dword ptr [EBX + 0x14]
0044ff99 : LEA ECX,[ESI + 0xc]
0044ff9c : JC 0x0044ffa3
0044ff9e : MOV EAX,dword ptr [EBX + 0x4]
0044ffa1 : JMP 0x0044ffa6
0044ffa3 : LEA EAX,[EBX + 0x4]
0044ffa6 : PUSH EAX
0044ffa7 : MOV EAX,dword ptr [ECX + 0x14]
0044ffaa : CALL 0x00405bb0
0044ffaf : TEST EAX,EAX
0044ffb1 : JGE 0x0044ffc4
0044ffb3 : MOV EDX,dword ptr [EBP + -0x8]
0044ffb6 : MOV ECX,dword ptr [EBP + -0x4]
0044ffb9 : MOV EDI,dword ptr [EBP + 0x8]
0044ffbc : PUSH EBX
0044ffbd : PUSH EDX
0044ffbe : LEA EAX,[EBP + 0x10]
0044ffc1 : PUSH EAX
0044ffc2 : JMP 0x0044ff71
0044ffc4 : MOV EAX,dword ptr [EBP + 0xc]
0044ffc7 : POP EDI
0044ffc8 : MOV dword ptr [EAX],ESI
0044ffca : POP ESI
0044ffcb : MOV byte ptr [EAX + 0x4],0x0
0044ffcf : POP EBX
0044ffd0 : MOV ESP,EBP
0044ffd2 : POP EBP
0044ffd3 : RET 0xc
