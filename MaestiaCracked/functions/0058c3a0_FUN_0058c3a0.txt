PROGRAM  : Maestia.exe
FUNCTION : FUN_0058c3a0
ENTRY    : 0058c3a0
BODY     : [[0058c3a0, 0058c419]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058c3a0(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0x10);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 0x146;
  iVar1 = FUN_00515d60(param_1,uVar2 * 0x10,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0058c3a0 : MOV EAX,dword ptr [ESP + 0x8]
0058c3a4 : PUSH EDI
0058c3a5 : MOV EDI,ECX
0058c3a7 : TEST EAX,EAX
0058c3a9 : JNZ 0x0058c3c8
0058c3ab : MOV EAX,dword ptr [EDI]
0058c3ad : TEST EAX,EAX
0058c3af : JZ 0x0058c3bd
0058c3b1 : PUSH EAX
0058c3b2 : CALL 0x00515cf0
0058c3b7 : MOV dword ptr [EDI],0x0
0058c3bd : MOV dword ptr [EDI + 0x8],0x0
0058c3c4 : POP EDI
0058c3c5 : RET 0x8
0058c3c8 : PUSH ESI
0058c3c9 : LEA ESI,[EAX + 0x3]
0058c3cc : MOV EAX,dword ptr [EDI]
0058c3ce : SHR ESI,0x2
0058c3d1 : ADD ESI,ESI
0058c3d3 : ADD ESI,ESI
0058c3d5 : TEST EAX,EAX
0058c3d7 : JZ 0x0058c3f1
0058c3d9 : LEA ECX,[ESI*0x4 + 0x0]
0058c3e0 : PUSH ECX
0058c3e1 : PUSH EAX
0058c3e2 : CALL 0x00515c80
0058c3e7 : MOV dword ptr [EDI + 0x8],ESI
0058c3ea : POP ESI
0058c3eb : MOV dword ptr [EDI],EAX
0058c3ed : POP EDI
0058c3ee : RET 0x8
0058c3f1 : MOV ECX,dword ptr [ESP + 0xc]
0058c3f5 : LEA EDX,[ESP + 0x10]
0058c3f9 : PUSH EDX
0058c3fa : LEA EAX,[ESI*0x4 + 0x0]
0058c401 : PUSH EAX
0058c402 : PUSH ECX
0058c403 : MOV dword ptr [ESP + 0x1c],0x146
0058c40b : CALL 0x00515d60
0058c410 : MOV dword ptr [EDI + 0x8],ESI
0058c413 : POP ESI
0058c414 : MOV dword ptr [EDI],EAX
0058c416 : POP EDI
0058c417 : RET 0x8
