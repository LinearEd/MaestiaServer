PROGRAM  : Maestia.exe
FUNCTION : FUN_0050aaf0
ENTRY    : 0050aaf0
BODY     : [[0050aaf0, 0050ab33]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0050aaf0(void)

{
  int iVar1;
  GRefCountImpl *this;
  int in_ECX;
  
  iVar1 = (**(code **)(*(int *)(in_ECX + -0xd8) + 0x40))();
  this = (GRefCountImpl *)(**(code **)(*(int *)(iVar1 + 8) + 0xc))(3);
  if ((this == (GRefCountImpl *)0x0) || (*(int *)(this + 0xc) == 0)) {
    *(byte *)(in_ECX + 8) = *(byte *)(in_ECX + 8) & 0xfe;
  }
  else {
    *(byte *)(in_ECX + 8) = *(byte *)(in_ECX + 8) | 1;
  }
  if (this != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(this);
    return;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0050aaf0 : PUSH ESI
0050aaf1 : MOV ESI,ECX
0050aaf3 : MOV EAX,dword ptr [ESI + 0xffffff28]
0050aaf9 : MOV EDX,dword ptr [EAX + 0x40]
0050aafc : LEA ECX,[ESI + 0xffffff28]
0050ab02 : CALL EDX
0050ab04 : MOV EDX,dword ptr [EAX + 0x8]
0050ab07 : ADD EAX,0x8
0050ab0a : MOV ECX,EAX
0050ab0c : MOV EAX,dword ptr [EDX + 0xc]
0050ab0f : PUSH 0x3
0050ab11 : CALL EAX
0050ab13 : TEST EAX,EAX
0050ab15 : JZ 0x0050ab23
0050ab17 : CMP dword ptr [EAX + 0xc],0x0
0050ab1b : JZ 0x0050ab23
0050ab1d : OR byte ptr [ESI + 0x8],0x1
0050ab21 : JMP 0x0050ab27
0050ab23 : AND byte ptr [ESI + 0x8],0xfe
0050ab27 : POP ESI
0050ab28 : TEST EAX,EAX
0050ab2a : JZ 0x0050ab33
0050ab2c : MOV ECX,EAX
0050ab2e : JMP 0x004ff7e0
0050ab33 : RET
