PROGRAM  : Maestia.exe
FUNCTION : FUN_00463000
ENTRY    : 00463000
BODY     : [[00463000, 00463179] [00463180, 004631a4] [004631f4, 00463290] [004632ae, 0046332b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00463000(int param_1,int param_2,uint param_3)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  int extraout_ECX;
  int iVar5;
  uint uStack_78;
  uint local_5c;
  uint local_58;
  undefined1 local_54 [60];
  uint local_18;
  undefined1 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7a754;
  local_10 = ExceptionList;
  uStack_78 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_14 = (undefined1 *)&uStack_78;
  ExceptionList = &local_10;
  iVar2 = *(int *)(param_1 + 4);
  if (iVar2 == 0) {
    local_5c = 0;
  }
  else {
    local_5c = (*(int *)(param_1 + 0xc) - iVar2) / 0x3c;
  }
  iVar5 = *(int *)(param_1 + 8);
  iVar2 = (iVar5 - iVar2) / 0x3c;
  local_18 = uStack_78;
  puVar1 = &uStack_78;
  if (iVar2 == 0x4444444) {
    iVar2 = FUN_00429be0();
    iVar5 = extraout_ECX;
    puVar1 = (uint *)local_14;
  }
  local_14 = (undefined1 *)puVar1;
  uVar3 = iVar2 + 1;
  if (local_5c < uVar3) {
    if (0x4444444 - (local_5c >> 1) < local_5c) {
      local_5c = 0;
    }
    else {
      local_5c = local_5c + (local_5c >> 1);
    }
    if (local_5c < uVar3) {
      local_5c = uVar3;
    }
    iVar2 = FUN_00463400();
    local_8 = 0;
    FUN_00462fb0(param_3);
    FUN_004633d0(*(undefined4 *)(param_1 + 4),param_2);
    FUN_004633d0(param_2,*(undefined4 *)(param_1 + 8));
    local_8 = 0xffffffff;
    if (*(int *)(param_1 + 4) != 0) {
      FUN_00462fe0();
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(uint *)(param_1 + 0xc) = iVar2 + local_5c * 0x3c;
    *(int *)(param_1 + 8) =
         iVar2 + ((*(int *)(param_1 + 8) - *(int *)(param_1 + 4)) / 0x3c + 1) * 0x3c;
    *(int *)(param_1 + 4) = iVar2;
  }
  else {
    iVar2 = iVar5 - param_2 >> 0x1f;
    if ((iVar5 - param_2) / 0x3c + iVar2 == iVar2) {
      FUN_00463330(local_54);
      local_8 = 2;
      FUN_004633d0(param_2,*(undefined4 *)(param_1 + 8));
      local_8 = CONCAT31(local_8._1_3_,3);
      FUN_00462fb0(local_54);
      local_8 = 2;
      *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x3c;
      FUN_00463570(*(int *)(param_1 + 8) + -0x3c);
    }
    else {
      FUN_00463330(local_54);
      local_8 = 5;
      uVar4 = FUN_004633d0(*(int *)(param_1 + 8) + -0x3c,*(int *)(param_1 + 8));
      *(undefined4 *)(param_1 + 8) = uVar4;
      local_58 = param_3 & 0xffffff00;
      FUN_004635b0(param_2,local_58,local_58,local_58);
      FUN_00463570(param_2 + 0x3c);
    }
    local_8 = 0xffffffff;
    FUN_00462c40(local_54);
  }
  ExceptionList = local_10;
  __security_check_cookie(local_18 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00463000 : PUSH EBP
00463001 : MOV EBP,ESP
00463003 : PUSH -0x1
00463005 : PUSH 0xb7a754
0046300a : MOV EAX,FS:[0x0]
00463010 : PUSH EAX
00463011 : SUB ESP,0x58
00463014 : MOV EAX,[0x00d66fa0]
00463019 : XOR EAX,EBP
0046301b : MOV dword ptr [EBP + -0x14],EAX
0046301e : PUSH EBX
0046301f : PUSH ESI
00463020 : PUSH EDI
00463021 : PUSH EAX
00463022 : LEA EAX,[EBP + -0xc]
00463025 : MOV FS:[0x0],EAX
0046302b : MOV dword ptr [EBP + -0x10],ESP
0046302e : MOV EBX,dword ptr [EBP + 0x8]
00463031 : MOV dword ptr [EBP + -0x5c],EBX
00463034 : MOV EAX,dword ptr [EBP + 0x10]
00463037 : MOV dword ptr [EBP + -0x54],EAX
0046303a : MOV EDI,dword ptr [EBX + 0x4]
0046303d : TEST EDI,EDI
0046303f : JNZ 0x00463046
00463041 : MOV dword ptr [EBP + -0x58],EDI
00463044 : JMP 0x00463061
00463046 : MOV ECX,dword ptr [EBX + 0xc]
00463049 : SUB ECX,EDI
0046304b : MOV EAX,0x88888889
00463050 : IMUL ECX
00463052 : ADD EDX,ECX
00463054 : SAR EDX,0x5
00463057 : MOV EAX,EDX
00463059 : SHR EAX,0x1f
0046305c : ADD EAX,EDX
0046305e : MOV dword ptr [EBP + -0x58],EAX
00463061 : MOV ECX,dword ptr [EBX + 0x8]
00463064 : MOV ESI,ECX
00463066 : SUB ESI,EDI
00463068 : MOV EAX,0x88888889
0046306d : IMUL ESI
0046306f : ADD EDX,ESI
00463071 : SAR EDX,0x5
00463074 : MOV EAX,EDX
00463076 : SHR EAX,0x1f
00463079 : ADD EAX,EDX
0046307b : MOV EDX,0x4444444
00463080 : SUB EDX,EAX
00463082 : CMP EDX,0x1
00463085 : JNC 0x0046308c
00463087 : CALL 0x00429be0
0046308c : INC EAX
0046308d : MOV EDX,dword ptr [EBP + -0x58]
00463090 : CMP EDX,EAX
00463092 : JNC 0x004631f4
00463098 : MOV ECX,EDX
0046309a : SHR ECX,0x1
0046309c : MOV ESI,0x4444444
004630a1 : SUB ESI,ECX
004630a3 : CMP ESI,EDX
004630a5 : JNC 0x004630b0
004630a7 : XOR EDI,EDI
004630a9 : MOV dword ptr [EBP + -0x58],EDI
004630ac : MOV EDX,EDI
004630ae : JMP 0x004630b7
004630b0 : ADD EDX,ECX
004630b2 : MOV dword ptr [EBP + -0x58],EDX
004630b5 : XOR EDI,EDI
004630b7 : CMP EDX,EAX
004630b9 : JNC 0x004630c0
004630bb : MOV dword ptr [EBP + -0x58],EAX
004630be : MOV EDX,EAX
004630c0 : MOV ECX,EDX
004630c2 : CALL 0x00463400
004630c7 : MOV ESI,EAX
004630c9 : MOV dword ptr [EBP + -0x64],ESI
004630cc : MOV ECX,dword ptr [EBP + 0xc]
004630cf : SUB ECX,dword ptr [EBX + 0x4]
004630d2 : MOV EAX,0x88888889
004630d7 : IMUL ECX
004630d9 : ADD EDX,ECX
004630db : SAR EDX,0x5
004630de : MOV EAX,EDX
004630e0 : SHR EAX,0x1f
004630e3 : ADD EAX,EDX
004630e5 : MOV dword ptr [EBP + -0x5c],EAX
004630e8 : MOV dword ptr [EBP + -0x60],EDI
004630eb : MOV dword ptr [EBP + -0x4],EDI
004630ee : MOV ECX,dword ptr [EBP + -0x54]
004630f1 : PUSH ECX
004630f2 : MOV EDX,EAX
004630f4 : SHL EDX,0x4
004630f7 : SUB EDX,EAX
004630f9 : LEA EDI,[ESI + EDX*0x4]
004630fc : MOV ESI,0x1
00463101 : CALL 0x00462fb0
00463106 : MOV dword ptr [EBP + -0x60],ESI
00463109 : MOV EAX,dword ptr [EBP + 0xc]
0046310c : PUSH EAX
0046310d : MOV ECX,dword ptr [EBX + 0x4]
00463110 : PUSH ECX
00463111 : MOV EDI,dword ptr [EBP + -0x64]
00463114 : MOV EDX,EDI
00463116 : CALL 0x004633d0
0046311b : MOV dword ptr [EBP + -0x60],0x2
00463122 : MOV EAX,dword ptr [EBP + -0x5c]
00463125 : INC EAX
00463126 : MOV EDX,EAX
00463128 : SHL EDX,0x4
0046312b : SUB EDX,EAX
0046312d : LEA EDX,[EDI + EDX*0x4]
00463130 : MOV EAX,dword ptr [EBX + 0x8]
00463133 : PUSH EAX
00463134 : MOV ECX,dword ptr [EBP + 0xc]
00463137 : PUSH ECX
00463138 : CALL 0x004633d0
0046313d : MOV dword ptr [EBP + -0x4],0xffffffff
00463144 : MOV ECX,dword ptr [EBX + 0x8]
00463147 : MOV ESI,dword ptr [EBX + 0x4]
0046314a : SUB ECX,ESI
0046314c : MOV EAX,0x88888889
00463151 : IMUL ECX
00463153 : ADD EDX,ECX
00463155 : SAR EDX,0x5
00463158 : MOV EAX,EDX
0046315a : SHR EAX,0x1f
0046315d : LEA EDX,[EDX + EAX*0x1 + 0x1]
00463161 : MOV dword ptr [EBP + -0x54],EDX
00463164 : TEST ESI,ESI
00463166 : JZ 0x00463180
00463168 : MOV EDI,dword ptr [EBX + 0x8]
0046316b : MOV EAX,ESI
0046316d : CALL 0x00462fe0
00463172 : MOV ECX,dword ptr [EBX + 0x4]
00463175 : CALL 0x006f04e0
00463180 : MOV EAX,dword ptr [EBP + -0x58]
00463183 : MOV ECX,EAX
00463185 : SHL ECX,0x4
00463188 : SUB ECX,EAX
0046318a : LEA EAX,[EDI + ECX*0x4]
0046318d : MOV dword ptr [EBX + 0xc],EAX
00463190 : MOV ECX,EDX
00463192 : SHL ECX,0x4
00463195 : SUB ECX,EDX
00463197 : LEA EDX,[EDI + ECX*0x4]
0046319a : MOV dword ptr [EBX + 0x8],EDX
0046319d : MOV dword ptr [EBX + 0x4],EDI
004631a0 : JMP 0x0046330e
004631f4 : SUB ECX,dword ptr [EBP + 0xc]
004631f7 : MOV EAX,0x88888889
004631fc : IMUL ECX
004631fe : ADD EDX,ECX
00463200 : SAR EDX,0x5
00463203 : MOV EAX,EDX
00463205 : SHR EAX,0x1f
00463208 : ADD EAX,EDX
0046320a : MOV EDI,dword ptr [EBP + -0x54]
0046320d : CMP EAX,0x1
00463210 : JNC 0x004632ae
00463216 : LEA ECX,[EBP + -0x50]
00463219 : PUSH ECX
0046321a : CALL 0x00463330
0046321f : MOV dword ptr [EBP + -0x4],0x2
00463226 : MOV EAX,dword ptr [EBP + 0xc]
00463229 : LEA EDX,[EAX + 0x3c]
0046322c : MOV ECX,dword ptr [EBX + 0x8]
0046322f : PUSH ECX
00463230 : PUSH EAX
00463231 : CALL 0x004633d0
00463236 : MOV byte ptr [EBP + -0x4],0x3
0046323a : MOV EDI,dword ptr [EBX + 0x8]
0046323d : LEA EDX,[EBP + -0x50]
00463240 : PUSH EDX
00463241 : MOV ECX,EDI
00463243 : SUB ECX,dword ptr [EBP + 0xc]
00463246 : MOV EAX,0x88888889
0046324b : IMUL ECX
0046324d : ADD EDX,ECX
0046324f : SAR EDX,0x5
00463252 : MOV EAX,EDX
00463254 : SHR EAX,0x1f
00463257 : ADD EAX,EDX
00463259 : MOV ESI,0x1
0046325e : SUB ESI,EAX
00463260 : CALL 0x00462fb0
00463265 : MOV dword ptr [EBP + -0x4],0x2
0046326c : ADD dword ptr [EBX + 0x8],0x3c
00463270 : MOV EBX,dword ptr [EBX + 0x8]
00463273 : LEA EAX,[EBX + -0x3c]
00463276 : PUSH EAX
00463277 : LEA EDI,[EBP + -0x50]
0046327a : MOV EAX,dword ptr [EBP + 0xc]
0046327d : CALL 0x00463570
00463282 : ADD ESP,0x4
00463285 : MOV dword ptr [EBP + -0x4],0xffffffff
0046328c : MOV ECX,EDI
0046328e : PUSH ECX
0046328f : JMP 0x00463309
004632ae : LEA EAX,[EBP + -0x50]
004632b1 : PUSH EAX
004632b2 : CALL 0x00463330
004632b7 : MOV dword ptr [EBP + -0x4],0x5
004632be : MOV ESI,dword ptr [EBX + 0x8]
004632c1 : LEA EDI,[ESI + -0x3c]
004632c4 : PUSH ESI
004632c5 : PUSH EDI
004632c6 : MOV EDX,ESI
004632c8 : CALL 0x004633d0
004632cd : MOV dword ptr [EBX + 0x8],EAX
004632d0 : MOV byte ptr [EBP + -0x54],0x0
004632d4 : MOV ECX,dword ptr [EBP + -0x54]
004632d7 : PUSH ECX
004632d8 : MOV EDX,dword ptr [EBP + -0x54]
004632db : PUSH EDX
004632dc : MOV EAX,dword ptr [EBP + -0x54]
004632df : PUSH EAX
004632e0 : MOV ECX,dword ptr [EBP + 0xc]
004632e3 : PUSH ECX
004632e4 : MOV EAX,ESI
004632e6 : MOV ECX,EDI
004632e8 : CALL 0x004635b0
004632ed : MOV EAX,dword ptr [EBP + 0xc]
004632f0 : LEA EDX,[EAX + 0x3c]
004632f3 : PUSH EDX
004632f4 : LEA EDI,[EBP + -0x50]
004632f7 : CALL 0x00463570
004632fc : ADD ESP,0x14
004632ff : MOV dword ptr [EBP + -0x4],0xffffffff
00463306 : MOV EAX,EDI
00463308 : PUSH EAX
00463309 : CALL 0x00462c40
0046330e : MOV ECX,dword ptr [EBP + -0xc]
00463311 : MOV dword ptr FS:[0x0],ECX
00463318 : POP ECX
00463319 : POP EDI
0046331a : POP ESI
0046331b : POP EBX
0046331c : MOV ECX,dword ptr [EBP + -0x14]
0046331f : XOR ECX,EBP
00463321 : CALL 0x00633e6b
00463326 : MOV ESP,EBP
00463328 : POP EBP
00463329 : RET 0xc
