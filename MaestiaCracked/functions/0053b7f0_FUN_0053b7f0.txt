PROGRAM  : Maestia.exe
FUNCTION : FUN_0053b7f0
ENTRY    : 0053b7f0
BODY     : [[0053b7f0, 0053b84a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0053b7f0(void *param_1,int param_2)

{
  int iVar1;
  undefined4 uVar2;
  int in_ECX;
  
  if (*(uint *)(in_ECX + 0x20) < (uint)(*(int *)(in_ECX + 0x24) + param_2)) {
    iVar1 = *(uint *)(in_ECX + 0x20) + param_2;
    *(int *)(in_ECX + 0x20) = iVar1;
    iVar1 = iVar1 * 2;
    if (*(int *)(in_ECX + 0x1c) == 0) {
      uVar2 = FUN_00515840(iVar1,0);
    }
    else {
      uVar2 = FUN_00515c80(*(int *)(in_ECX + 0x1c),iVar1);
    }
    *(undefined4 *)(in_ECX + 0x1c) = uVar2;
  }
  _memcpy((void *)(*(int *)(in_ECX + 0x1c) + *(int *)(in_ECX + 0x24) * 2),param_1,param_2 * 2);
  *(int *)(in_ECX + 0x24) = *(int *)(in_ECX + 0x24) + param_2;
  return;
}



============================================================
DISASSEMBLY
============================================================
0053b7f0 : PUSH ESI
0053b7f1 : MOV ESI,ECX
0053b7f3 : MOV ECX,dword ptr [ESI + 0x24]
0053b7f6 : MOV EAX,dword ptr [ESI + 0x20]
0053b7f9 : PUSH EDI
0053b7fa : MOV EDI,dword ptr [ESP + 0x10]
0053b7fe : ADD ECX,EDI
0053b800 : CMP ECX,EAX
0053b802 : JBE 0x0053b828
0053b804 : MOV ECX,dword ptr [ESI + 0x1c]
0053b807 : ADD EAX,EDI
0053b809 : MOV dword ptr [ESI + 0x20],EAX
0053b80c : ADD EAX,EAX
0053b80e : TEST ECX,ECX
0053b810 : JNZ 0x0053b81e
0053b812 : MOV ECX,dword ptr [ESI]
0053b814 : PUSH 0x0
0053b816 : PUSH EAX
0053b817 : CALL 0x00515840
0053b81c : JMP 0x0053b825
0053b81e : PUSH EAX
0053b81f : PUSH ECX
0053b820 : CALL 0x00515c80
0053b825 : MOV dword ptr [ESI + 0x1c],EAX
0053b828 : MOV EAX,dword ptr [ESP + 0xc]
0053b82c : MOV ECX,dword ptr [ESI + 0x24]
0053b82f : LEA EDX,[EDI + EDI*0x1]
0053b832 : PUSH EDX
0053b833 : MOV EDX,dword ptr [ESI + 0x1c]
0053b836 : PUSH EAX
0053b837 : LEA EAX,[EDX + ECX*0x2]
0053b83a : PUSH EAX
0053b83b : CALL 0x0063ae40
0053b840 : ADD dword ptr [ESI + 0x24],EDI
0053b843 : ADD ESP,0xc
0053b846 : POP EDI
0053b847 : POP ESI
0053b848 : RET 0x8
