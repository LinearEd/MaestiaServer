PROGRAM  : Maestia.exe
FUNCTION : FUN_005ba0a0
ENTRY    : 005ba0a0
BODY     : [[005ba0a0, 005ba151]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005ba0a0(int param_1,undefined4 param_2)

{
  uint *puVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int in_ECX;
  int iVar6;
  
  iVar5 = param_1;
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x10;
  puVar1 = (uint *)(param_1 + 8);
  if (*(uint *)(param_1 + 0x10) <= *(uint *)(param_1 + 8)) {
    FUN_00504050();
  }
  if (*puVar1 != 0) {
    FUN_00526090(param_2);
  }
  if (in_ECX == 0) {
    iVar6 = 0;
  }
  else {
    iVar6 = in_ECX + 0x10;
  }
  uVar2 = *puVar1;
  iVar3 = *(int *)(iVar5 + 0xc);
  iVar4 = *(int *)(iVar5 + 0x1c);
  param_1 = FUN_00525380("onLoadInit",10,0);
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 1;
  FUN_0057bb40(iVar5,iVar6,&param_1,1,((int)(uVar2 - iVar3) >> 4) + -0x20 + iVar4 * 0x20);
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + -1;
  if (*(int *)(param_1 + 8) == 0) {
    FUN_00525340();
  }
  FUN_00526bc0();
  *puVar1 = *puVar1 - 0x10;
  if (*puVar1 < *(uint *)(iVar5 + 0xc)) {
    FUN_00504f30();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005ba0a0 : PUSH EBX
005ba0a1 : MOV EBX,dword ptr [ESP + 0x8]
005ba0a5 : ADD dword ptr [EBX + 0x8],0x10
005ba0a9 : MOV EAX,dword ptr [EBX + 0x8]
005ba0ac : PUSH EBP
005ba0ad : PUSH ESI
005ba0ae : LEA ESI,[EBX + 0x8]
005ba0b1 : PUSH EDI
005ba0b2 : MOV EDI,ECX
005ba0b4 : CMP EAX,dword ptr [ESI + 0x8]
005ba0b7 : JC 0x005ba0c0
005ba0b9 : MOV ECX,ESI
005ba0bb : CALL 0x00504050
005ba0c0 : MOV ECX,dword ptr [ESI]
005ba0c2 : TEST ECX,ECX
005ba0c4 : JZ 0x005ba0d0
005ba0c6 : MOV EAX,dword ptr [ESP + 0x18]
005ba0ca : PUSH EAX
005ba0cb : CALL 0x00526090
005ba0d0 : TEST EDI,EDI
005ba0d2 : JZ 0x005ba0d9
005ba0d4 : LEA EBP,[EDI + 0x10]
005ba0d7 : JMP 0x005ba0db
005ba0d9 : XOR EBP,EBP
005ba0db : MOV ECX,dword ptr [ESI]
005ba0dd : SUB ECX,dword ptr [ESI + 0x4]
005ba0e0 : MOV EDX,dword ptr [ESI + 0x14]
005ba0e3 : MOV EAX,dword ptr [EBX + 0x78]
005ba0e6 : PUSH 0x0
005ba0e8 : SAR ECX,0x4
005ba0eb : SHL EDX,0x5
005ba0ee : PUSH 0xa
005ba0f0 : LEA EDI,[ECX + EDX*0x1 + -0x20]
005ba0f4 : PUSH 0xb8fa58
005ba0f9 : LEA ECX,[EAX + 0x254]
005ba0ff : CALL 0x00525380
005ba104 : PUSH EDI
005ba105 : MOV dword ptr [ESP + 0x18],EAX
005ba109 : INC dword ptr [EAX + 0x8]
005ba10c : PUSH 0x1
005ba10e : LEA EAX,[ESP + 0x1c]
005ba112 : PUSH EAX
005ba113 : PUSH EBP
005ba114 : PUSH EBX
005ba115 : CALL 0x0057bb40
005ba11a : MOV EAX,dword ptr [ESP + 0x28]
005ba11e : DEC dword ptr [EAX + 0x8]
005ba121 : MOV ECX,EAX
005ba123 : ADD EAX,0x8
005ba126 : ADD ESP,0x14
005ba129 : CMP dword ptr [EAX],0x0
005ba12c : JNZ 0x005ba133
005ba12e : CALL 0x00525340
005ba133 : MOV ECX,dword ptr [ESI]
005ba135 : CALL 0x00526bc0
005ba13a : ADD dword ptr [ESI],-0x10
005ba13d : MOV EAX,dword ptr [ESI]
005ba13f : CMP EAX,dword ptr [ESI + 0x4]
005ba142 : JNC 0x005ba14b
005ba144 : MOV ECX,ESI
005ba146 : CALL 0x00504f30
005ba14b : POP EDI
005ba14c : POP ESI
005ba14d : POP EBP
005ba14e : POP EBX
005ba14f : RET 0x8
