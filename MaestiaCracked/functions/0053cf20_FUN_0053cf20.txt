PROGRAM  : Maestia.exe
FUNCTION : FUN_0053cf20
ENTRY    : 0053cf20
BODY     : [[0053cf20, 0053cfc6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0053cf20(int param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  undefined4 *in_ECX;
  
  *in_ECX = 0;
  in_ECX[1] = 0;
  *(undefined2 *)(in_ECX + 2) = 0;
  in_ECX[3] = param_1 + 0x10;
  uVar3 = FUN_0053bc40(param_2);
  in_ECX[4] = param_1 + 0x10;
  in_ECX[5] = 0;
  if ((int)uVar3 < 0) {
    in_ECX[5] = 0;
  }
  else if (uVar3 < *(uint *)(param_1 + 0x14)) {
    in_ECX[5] = uVar3;
  }
  else {
    in_ECX[5] = *(uint *)(param_1 + 0x14) - 1;
  }
  in_ECX[6] = param_1;
  in_ECX[7] = param_2;
  uVar3 = in_ECX[5];
  if ((-1 < (int)uVar3) && (uVar3 < (uint)((int *)in_ECX[4])[1])) {
    piVar1 = (int *)(*(int *)in_ECX[4] + uVar3 * 0xc);
    iVar2 = *piVar1;
    if (((param_2 < iVar2) || (piVar1[1] + -1 + iVar2 < param_2)) &&
       ((*(int *)(*(int *)in_ECX[4] + in_ECX[5] * 0xc) < param_2 &&
        ((int)in_ECX[5] < ((int *)in_ECX[4])[1])))) {
      in_ECX[5] = in_ECX[5] + 1;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0053cf20 : PUSH EBX
0053cf21 : MOV EBX,dword ptr [ESP + 0xc]
0053cf25 : PUSH EBP
0053cf26 : MOV EBP,dword ptr [ESP + 0xc]
0053cf2a : PUSH ESI
0053cf2b : MOV ESI,ECX
0053cf2d : PUSH EDI
0053cf2e : LEA EDI,[EBP + 0x10]
0053cf31 : XOR EAX,EAX
0053cf33 : PUSH EBX
0053cf34 : MOV ECX,EDI
0053cf36 : MOV dword ptr [ESI],0x0
0053cf3c : MOV dword ptr [ESI + 0x4],0x0
0053cf43 : MOV word ptr [ESI + 0x8],AX
0053cf47 : MOV dword ptr [ESI + 0xc],EDI
0053cf4a : CALL 0x0053bc40
0053cf4f : XOR ECX,ECX
0053cf51 : CMP EAX,ECX
0053cf53 : MOV dword ptr [ESI + 0x10],EDI
0053cf56 : MOV dword ptr [ESI + 0x14],ECX
0053cf59 : JGE 0x0053cf60
0053cf5b : MOV dword ptr [ESI + 0x14],ECX
0053cf5e : JMP 0x0053cf70
0053cf60 : MOV EDI,dword ptr [EDI + 0x4]
0053cf63 : CMP EAX,EDI
0053cf65 : JC 0x0053cf6d
0053cf67 : DEC EDI
0053cf68 : MOV dword ptr [ESI + 0x14],EDI
0053cf6b : JMP 0x0053cf70
0053cf6d : MOV dword ptr [ESI + 0x14],EAX
0053cf70 : MOV dword ptr [ESI + 0x18],EBP
0053cf73 : MOV dword ptr [ESI + 0x1c],EBX
0053cf76 : MOV EAX,dword ptr [ESI + 0x14]
0053cf79 : CMP EAX,ECX
0053cf7b : JL 0x0053cfbe
0053cf7d : MOV ECX,dword ptr [ESI + 0x10]
0053cf80 : CMP EAX,dword ptr [ECX + 0x4]
0053cf83 : JNC 0x0053cfbe
0053cf85 : LEA EDX,[EAX + EAX*0x2]
0053cf88 : MOV EAX,ECX
0053cf8a : MOV ECX,dword ptr [EAX]
0053cf8c : LEA EAX,[ECX + EDX*0x4]
0053cf8f : MOV ECX,dword ptr [EAX]
0053cf91 : CMP EBX,ECX
0053cf93 : JL 0x0053cfa0
0053cf95 : MOV EDX,dword ptr [EAX + 0x4]
0053cf98 : LEA EAX,[EDX + ECX*0x1 + -0x1]
0053cf9c : CMP EBX,EAX
0053cf9e : JLE 0x0053cfbe
0053cfa0 : MOV EAX,dword ptr [ESI + 0x14]
0053cfa3 : MOV EDX,dword ptr [ESI + 0x10]
0053cfa6 : LEA ECX,[EAX + EAX*0x2]
0053cfa9 : MOV EAX,dword ptr [EDX]
0053cfab : CMP EBX,dword ptr [EAX + ECX*0x4]
0053cfae : JLE 0x0053cfbe
0053cfb0 : MOV EAX,dword ptr [ESI + 0x14]
0053cfb3 : MOV ECX,EDX
0053cfb5 : CMP EAX,dword ptr [ECX + 0x4]
0053cfb8 : JGE 0x0053cfbe
0053cfba : INC EAX
0053cfbb : MOV dword ptr [ESI + 0x14],EAX
0053cfbe : POP EDI
0053cfbf : MOV EAX,ESI
0053cfc1 : POP ESI
0053cfc2 : POP EBP
0053cfc3 : POP EBX
0053cfc4 : RET 0x8
