PROGRAM  : Maestia.exe
FUNCTION : FUN_00a6e080
ENTRY    : 00a6e080
BODY     : [[00a6e080, 00a6e4e0]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00a6e12f) */
/* WARNING: Removing unreachable block (ram,0x00a6e282) */
/* WARNING: Removing unreachable block (ram,0x00a6e484) */

void FUN_00a6e080(int param_1)

{
  code *pcVar1;
  uint uVar2;
  int *piVar3;
  int *piVar4;
  int iVar5;
  int *local_70;
  char local_64;
  char local_5c;
  int local_20;
  int local_1c;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b5f5c8;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_70 = (int *)**(int **)(param_1 + 0x54);
  if (local_70 != *(int **)(param_1 + 0x54)) {
    do {
      FUN_00440460();
      local_8 = 0;
      if (local_64 == '\0') {
        FUN_00405eb0();
        local_8._1_3_ = (undefined3)(local_8 >> 8);
        local_8._0_1_ = 4;
        FUN_006ef1a0();
        local_8._0_1_ = 4;
        piVar3 = (int *)FUN_00a6bd50();
        if (piVar3 == (int *)0x0) {
          FUN_00405b70();
          piVar3 = (int *)FUN_00a6c6a0();
          if (piVar3 == (int *)0x0) {
            piVar3 = (int *)FUN_00a6bc70();
            if (piVar3 == (int *)0x0) {
              FUN_00405b70();
              piVar3 = (int *)FUN_00a6d690();
              if (piVar3 == (int *)0x0) goto LAB_00a6e4a2;
            }
            piVar4 = (int *)FUN_00a6b6b0();
            if (piVar4 == (int *)0x0) {
              FUN_00a6c940();
              piVar4 = piVar3;
            }
            if (local_1c != 0) {
              FUN_00405eb0(piVar3 + 3,0,0xffffffff);
              local_8._0_1_ = 4;
              iVar5 = FUN_007c3890();
              if ((iVar5 != 0) || (local_20 != 0)) {
                FUN_00796260();
              }
            }
            if (*(char *)(param_1 + 0x5c) != '\0') {
              (**(code **)(*piVar4 + 0xd4))();
              FUN_00a6b5d0();
            }
            goto LAB_00a6e4a2;
          }
        }
        piVar4 = (int *)FUN_00a6b780();
        if (piVar4 == (int *)0x0) {
          FUN_00a6d020();
          piVar4 = piVar3;
        }
        if (local_1c != 0) {
          if ((char)piVar4[0x15] == '\0') {
            FUN_00405660(piVar4 + 0xd);
            local_8._0_1_ = 4;
            iVar5 = FUN_00a664c0();
          }
          else {
            iVar5 = FUN_00a66e70();
          }
          if ((iVar5 != 0) || (local_20 != 0)) {
            pcVar1 = *(code **)(*piVar4 + 0x14);
            *(undefined1 *)((int)piVar4 + 6) = 1;
            (*pcVar1)();
          }
        }
        if (*(char *)(param_1 + 0x5c) != '\0') {
          (**(code **)(*piVar4 + 0x24))();
          FUN_00a6c0d0();
        }
      }
      else {
        FUN_006ef1a0();
        local_8 = local_8 & 0xffffff00;
        piVar3 = (int *)FUN_00a6bba0();
        if (piVar3 == (int *)0x0) {
          piVar3 = (int *)FUN_00a6bad0();
          if (piVar3 != (int *)0x0) {
            piVar4 = (int *)FUN_00a6b6b0();
            if (piVar4 == (int *)0x0) {
              FUN_00a6c940();
              piVar4 = piVar3;
            }
            if ((((piVar4[0x5f] != 0) && (1000.0 <= *(float *)(piVar4[0x5f] + 0x24))) ||
                (local_5c != '\0')) && (*(char *)(param_1 + 0x5c) != '\0')) {
              (**(code **)(*piVar4 + 0xd4))();
              FUN_00a6b5d0();
            }
          }
        }
        else {
          piVar4 = (int *)FUN_00a6b780();
          if (piVar4 == (int *)0x0) {
            FUN_00a6d020();
            piVar4 = piVar3;
          }
          if (((*(char *)((int)piVar4 + 5) != '\0') || (local_5c != '\0')) &&
             (*(char *)(param_1 + 0x5c) != '\0')) {
            (**(code **)(*piVar4 + 0x24))();
            FUN_00a6c0d0();
          }
        }
      }
LAB_00a6e4a2:
      local_8 = 0xffffffff;
      FUN_004403d0();
      local_70 = (int *)*local_70;
    } while (local_70 != (int *)*(int *)(param_1 + 0x54));
  }
  ExceptionList = local_10;
  __security_check_cookie(uVar2 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a6e080 : PUSH EBP
00a6e081 : MOV EBP,ESP
00a6e083 : PUSH -0x1
00a6e085 : PUSH 0xb5f5c8
00a6e08a : MOV EAX,FS:[0x0]
00a6e090 : PUSH EAX
00a6e091 : SUB ESP,0xb8
00a6e097 : MOV EAX,[0x00d66fa0]
00a6e09c : XOR EAX,EBP
00a6e09e : MOV dword ptr [EBP + -0x10],EAX
00a6e0a1 : PUSH EBX
00a6e0a2 : PUSH ESI
00a6e0a3 : PUSH EDI
00a6e0a4 : PUSH EAX
00a6e0a5 : LEA EAX,[EBP + -0xc]
00a6e0a8 : MOV FS:[0x0],EAX
00a6e0ae : MOV EBX,dword ptr [EBP + 0x8]
00a6e0b1 : MOV EAX,dword ptr [EBX + 0x54]
00a6e0b4 : MOV EDI,dword ptr [EAX]
00a6e0b6 : MOV dword ptr [EBP + -0x6c],EDI
00a6e0b9 : CMP EDI,EAX
00a6e0bb : JZ 0x00a6e4c3
00a6e0c1 : JMP 0x00a6e0c6
00a6e0c3 : MOV EDI,dword ptr [EBP + -0x6c]
00a6e0c6 : LEA EAX,[EBP + -0x60]
00a6e0c9 : ADD EDI,0x8
00a6e0cc : PUSH EAX
00a6e0cd : CALL 0x00440460
00a6e0d2 : XOR EDI,EDI
00a6e0d4 : MOV dword ptr [EBP + -0x4],EDI
00a6e0d7 : CMP byte ptr [EBP + -0x60],0x0
00a6e0db : JZ 0x00a6e201
00a6e0e1 : MOV CL,byte ptr [EBP + -0x58]
00a6e0e4 : MOV ESI,dword ptr [EBP + -0x5c]
00a6e0e7 : LEA EDX,[EBP + 0xffffff44]
00a6e0ed : LEA EAX,[EBX + 0x70]
00a6e0f0 : PUSH EDX
00a6e0f1 : MOV byte ptr [EBP + -0x64],CL
00a6e0f4 : MOV dword ptr [EBP + 0xffffff50],EDI
00a6e0fa : MOV dword ptr [EBP + 0xffffff44],EAX
00a6e100 : MOV dword ptr [EBP + 0xffffff48],0xc43e84
00a6e10a : MOV dword ptr [EBP + 0xffffff4c],0x22b
00a6e114 : MOV dword ptr [EBP + 0xffffff54],0x1
00a6e11e : CALL 0x006ef1a0
00a6e123 : MOV byte ptr [EBP + -0x4],0x0
00a6e127 : CMP dword ptr [EBP + 0xffffff50],EDI
00a6e12d : JZ 0x00a6e142
00a6e12f : MOV EAX,dword ptr [EBP + 0xffffff44]
00a6e135 : PUSH EAX
00a6e136 : CALL dword ptr [0x00b8511c]
00a6e13c : MOV dword ptr [EBP + 0xffffff50],EDI
00a6e142 : PUSH ESI
00a6e143 : MOV ECX,EBX
00a6e145 : CALL 0x00a6bba0
00a6e14a : MOV EDI,EAX
00a6e14c : MOV ECX,EBX
00a6e14e : TEST EDI,EDI
00a6e150 : JZ 0x00a6e197
00a6e152 : CALL 0x00a6b780
00a6e157 : MOV ESI,EAX
00a6e159 : TEST ESI,ESI
00a6e15b : JNZ 0x00a6e166
00a6e15d : PUSH EAX
00a6e15e : PUSH EBX
00a6e15f : CALL 0x00a6d020
00a6e164 : MOV ESI,EDI
00a6e166 : CMP byte ptr [ESI + 0x5],0x0
00a6e16a : JNZ 0x00a6e176
00a6e16c : CMP byte ptr [EBP + -0x64],0x0
00a6e170 : JZ 0x00a6e4a2
00a6e176 : CMP byte ptr [EBX + 0x5c],0x0
00a6e17a : JZ 0x00a6e4a2
00a6e180 : MOV EDX,dword ptr [ESI]
00a6e182 : MOV EAX,dword ptr [EDX + 0x24]
00a6e185 : MOV ECX,ESI
00a6e187 : CALL EAX
00a6e189 : MOV ECX,ESI
00a6e18b : MOV EDX,EBX
00a6e18d : CALL 0x00a6c0d0
00a6e192 : JMP 0x00a6e4a2
00a6e197 : PUSH ESI
00a6e198 : CALL 0x00a6bad0
00a6e19d : MOV EDI,EAX
00a6e19f : TEST EDI,EDI
00a6e1a1 : JZ 0x00a6e4a2
00a6e1a7 : MOV ECX,EBX
00a6e1a9 : CALL 0x00a6b6b0
00a6e1ae : MOV ESI,EAX
00a6e1b0 : TEST ESI,ESI
00a6e1b2 : JNZ 0x00a6e1bd
00a6e1b4 : MOV ESI,EBX
00a6e1b6 : CALL 0x00a6c940
00a6e1bb : MOV ESI,EDI
00a6e1bd : MOV EAX,dword ptr [ESI + 0x17c]
00a6e1c3 : TEST EAX,EAX
00a6e1c5 : JZ 0x00a6e1d5
00a6e1c7 : MOVSS XMM0,dword ptr [EAX + 0x24]
00a6e1cc : COMISS XMM0,dword ptr [0x00cdf16c]
00a6e1d3 : JNC 0x00a6e1df
00a6e1d5 : CMP byte ptr [EBP + -0x64],0x0
00a6e1d9 : JZ 0x00a6e4a2
00a6e1df : CMP byte ptr [EBX + 0x5c],0x0
00a6e1e3 : JZ 0x00a6e4a2
00a6e1e9 : MOV EDX,dword ptr [ESI]
00a6e1eb : MOV EAX,dword ptr [EDX + 0xd4]
00a6e1f1 : MOV ECX,ESI
00a6e1f3 : CALL EAX
00a6e1f5 : MOV ECX,EBX
00a6e1f7 : CALL 0x00a6b5d0
00a6e1fc : JMP 0x00a6e4a2
00a6e201 : PUSH -0x1
00a6e203 : XOR ECX,ECX
00a6e205 : PUSH EDI
00a6e206 : LEA EDX,[EBP + -0x38]
00a6e209 : MOV word ptr [EBP + 0xffffff74],CX
00a6e210 : PUSH EDX
00a6e211 : LEA ECX,[EBP + 0xffffff70]
00a6e217 : MOV dword ptr [EBP + -0x78],0x7
00a6e21e : MOV dword ptr [EBP + -0x7c],EDI
00a6e221 : CALL 0x00405eb0
00a6e226 : MOV byte ptr [EBP + -0x4],0x3
00a6e22a : MOV EAX,dword ptr [EBP + -0x18]
00a6e22d : MOV ECX,dword ptr [EBP + -0x1c]
00a6e230 : MOV dword ptr [EBP + -0x68],EAX
00a6e233 : MOV dword ptr [EBP + 0xffffff6c],ECX
00a6e239 : MOV byte ptr [EBP + -0x4],0x4
00a6e23d : LEA EDX,[EBP + 0xffffff58]
00a6e243 : LEA EAX,[EBX + 0x70]
00a6e246 : PUSH EDX
00a6e247 : MOV dword ptr [EBP + 0xffffff64],EDI
00a6e24d : MOV dword ptr [EBP + 0xffffff58],EAX
00a6e253 : MOV dword ptr [EBP + 0xffffff5c],0xc43ec4
00a6e25d : MOV dword ptr [EBP + 0xffffff60],0x30f
00a6e267 : MOV dword ptr [EBP + 0xffffff68],0x1
00a6e271 : CALL 0x006ef1a0
00a6e276 : MOV byte ptr [EBP + -0x4],0x4
00a6e27a : CMP dword ptr [EBP + 0xffffff64],EDI
00a6e280 : JZ 0x00a6e295
00a6e282 : MOV EAX,dword ptr [EBP + 0xffffff58]
00a6e288 : PUSH EAX
00a6e289 : CALL dword ptr [0x00b8511c]
00a6e28f : MOV dword ptr [EBP + 0xffffff64],EDI
00a6e295 : LEA ECX,[EBP + -0x54]
00a6e298 : PUSH ECX
00a6e299 : MOV ECX,EBX
00a6e29b : CALL 0x00a6bd50
00a6e2a0 : MOV EDI,EAX
00a6e2a2 : TEST EDI,EDI
00a6e2a4 : JNZ 0x00a6e2fe
00a6e2a6 : MOV EAX,dword ptr [EBP + 0xffffff74]
00a6e2ac : MOV ESI,0x8
00a6e2b1 : CMP dword ptr [EBP + -0x78],ESI
00a6e2b4 : JNC 0x00a6e2bc
00a6e2b6 : LEA EAX,[EBP + 0xffffff74]
00a6e2bc : PUSH EAX
00a6e2bd : XOR EDX,EDX
00a6e2bf : MOV ECX,0xc43ee0
00a6e2c4 : CALL 0x00405b70
00a6e2c9 : ADD ESP,0x4
00a6e2cc : TEST EAX,EAX
00a6e2ce : JNZ 0x00a6e2e3
00a6e2d0 : CMP dword ptr [EBP + -0x7c],EAX
00a6e2d3 : SETNZ AL
00a6e2d6 : TEST EAX,EAX
00a6e2d8 : JNZ 0x00a6e2e3
00a6e2da : LEA EDX,[EBP + -0x54]
00a6e2dd : PUSH EDX
00a6e2de : MOV EAX,EDX
00a6e2e0 : PUSH EAX
00a6e2e1 : JMP 0x00a6e2ee
00a6e2e3 : LEA ECX,[EBP + 0xffffff70]
00a6e2e9 : PUSH ECX
00a6e2ea : LEA EDX,[EBP + -0x54]
00a6e2ed : PUSH EDX
00a6e2ee : PUSH EBX
00a6e2ef : CALL 0x00a6c6a0
00a6e2f4 : MOV EDI,EAX
00a6e2f6 : TEST EDI,EDI
00a6e2f8 : JZ 0x00a6e389
00a6e2fe : MOV ECX,EBX
00a6e300 : CALL 0x00a6b780
00a6e305 : MOV ESI,EAX
00a6e307 : TEST ESI,ESI
00a6e309 : JNZ 0x00a6e314
00a6e30b : PUSH EAX
00a6e30c : PUSH EBX
00a6e30d : CALL 0x00a6d020
00a6e312 : MOV ESI,EDI
00a6e314 : MOV EDI,dword ptr [EBP + -0x68]
00a6e317 : TEST EDI,EDI
00a6e319 : JZ 0x00a6e368
00a6e31b : CMP byte ptr [ESI + 0x54],0x0
00a6e31f : MOV EAX,dword ptr [ESI + 0x50]
00a6e322 : JZ 0x00a6e32e
00a6e324 : PUSH EAX
00a6e325 : MOV ECX,EDI
00a6e327 : CALL 0x00a66e70
00a6e32c : JMP 0x00a6e34c
00a6e32e : SUB ESP,0x1c
00a6e331 : LEA EAX,[ESI + 0x34]
00a6e334 : MOV ECX,ESP
00a6e336 : MOV dword ptr [EBP + -0x68],ESP
00a6e339 : PUSH EAX
00a6e33a : CALL 0x00405660
00a6e33f : MOV byte ptr [EBP + -0x4],0x7
00a6e343 : MOV byte ptr [EBP + -0x4],0x4
00a6e347 : CALL 0x00a664c0
00a6e34c : TEST EAX,EAX
00a6e34e : JNZ 0x00a6e35a
00a6e350 : MOV EAX,dword ptr [EBP + 0xffffff6c]
00a6e356 : TEST EAX,EAX
00a6e358 : JZ 0x00a6e368
00a6e35a : MOV EDX,dword ptr [ESI]
00a6e35c : PUSH EAX
00a6e35d : MOV EAX,dword ptr [EDX + 0x14]
00a6e360 : MOV ECX,ESI
00a6e362 : MOV byte ptr [ESI + 0x6],0x1
00a6e366 : CALL EAX
00a6e368 : CMP byte ptr [EBX + 0x5c],0x0
00a6e36c : JZ 0x00a6e47a
00a6e372 : MOV EDX,dword ptr [ESI]
00a6e374 : MOV EAX,dword ptr [EDX + 0x24]
00a6e377 : MOV ECX,ESI
00a6e379 : CALL EAX
00a6e37b : MOV ECX,ESI
00a6e37d : MOV EDX,EBX
00a6e37f : CALL 0x00a6c0d0
00a6e384 : JMP 0x00a6e47a
00a6e389 : LEA ECX,[EBP + -0x54]
00a6e38c : PUSH ECX
00a6e38d : MOV ECX,EBX
00a6e38f : CALL 0x00a6bc70
00a6e394 : MOV EDI,EAX
00a6e396 : TEST EDI,EDI
00a6e398 : JNZ 0x00a6e3f4
00a6e39a : MOV EAX,dword ptr [EBP + 0xffffff74]
00a6e3a0 : CMP dword ptr [EBP + -0x78],ESI
00a6e3a3 : JNC 0x00a6e3ab
00a6e3a5 : LEA EAX,[EBP + 0xffffff74]
00a6e3ab : PUSH EAX
00a6e3ac : XOR EDX,EDX
00a6e3ae : MOV ECX,0xc43ee8
00a6e3b3 : CALL 0x00405b70
00a6e3b8 : ADD ESP,0x4
00a6e3bb : TEST EAX,EAX
00a6e3bd : JNZ 0x00a6e3d2
00a6e3bf : CMP dword ptr [EBP + -0x7c],EAX
00a6e3c2 : SETNZ AL
00a6e3c5 : TEST EAX,EAX
00a6e3c7 : JNZ 0x00a6e3d2
00a6e3c9 : LEA EDX,[EBP + -0x54]
00a6e3cc : PUSH EDX
00a6e3cd : MOV EAX,EDX
00a6e3cf : PUSH EAX
00a6e3d0 : JMP 0x00a6e3dd
00a6e3d2 : LEA ECX,[EBP + 0xffffff70]
00a6e3d8 : PUSH ECX
00a6e3d9 : LEA EDX,[EBP + -0x54]
00a6e3dc : PUSH EDX
00a6e3dd : PUSH EBX
00a6e3de : CALL 0x00a6d690
00a6e3e3 : MOV EDI,EAX
00a6e3e5 : TEST EDI,EDI
00a6e3e7 : JNZ 0x00a6e3f4
00a6e3e9 : MOV byte ptr [EBP + -0x4],AL
00a6e3ec : CMP dword ptr [EBP + -0x78],ESI
00a6e3ef : JMP 0x00a6e482
00a6e3f4 : MOV ECX,EBX
00a6e3f6 : CALL 0x00a6b6b0
00a6e3fb : MOV ESI,EAX
00a6e3fd : TEST ESI,ESI
00a6e3ff : JNZ 0x00a6e40a
00a6e401 : MOV ESI,EBX
00a6e403 : CALL 0x00a6c940
00a6e408 : MOV ESI,EDI
00a6e40a : CMP dword ptr [EBP + -0x68],0x0
00a6e40e : JZ 0x00a6e461
00a6e410 : SUB ESP,0x1c
00a6e413 : MOV ECX,ESP
00a6e415 : MOV dword ptr [EBP + 0xffffff40],ESP
00a6e41b : XOR EDX,EDX
00a6e41d : PUSH -0x1
00a6e41f : LEA EAX,[EDI + 0xc]
00a6e422 : PUSH EDX
00a6e423 : MOV dword ptr [ECX + 0x18],0x7
00a6e42a : MOV dword ptr [ECX + 0x14],0x0
00a6e431 : PUSH EAX
00a6e432 : MOV word ptr [ECX + 0x4],DX
00a6e436 : CALL 0x00405eb0
00a6e43b : MOV byte ptr [EBP + -0x4],0x8
00a6e43f : MOV byte ptr [EBP + -0x4],0x4
00a6e443 : MOV ECX,dword ptr [EBP + -0x68]
00a6e446 : CALL 0x007c3890
00a6e44b : TEST EAX,EAX
00a6e44d : JNZ 0x00a6e459
00a6e44f : MOV EAX,dword ptr [EBP + 0xffffff6c]
00a6e455 : TEST EAX,EAX
00a6e457 : JZ 0x00a6e461
00a6e459 : PUSH EAX
00a6e45a : MOV ECX,ESI
00a6e45c : CALL 0x00796260
00a6e461 : CMP byte ptr [EBX + 0x5c],0x0
00a6e465 : JZ 0x00a6e47a
00a6e467 : MOV EAX,dword ptr [ESI]
00a6e469 : MOV EDX,dword ptr [EAX + 0xd4]
00a6e46f : MOV ECX,ESI
00a6e471 : CALL EDX
00a6e473 : MOV ECX,EBX
00a6e475 : CALL 0x00a6b5d0
00a6e47a : MOV byte ptr [EBP + -0x4],0x0
00a6e47e : CMP dword ptr [EBP + -0x78],0x8
00a6e482 : JC 0x00a6e48f
00a6e484 : MOV ECX,dword ptr [EBP + 0xffffff74]
00a6e48a : CALL 0x006f04e0
00a6e48f : XOR EAX,EAX
00a6e491 : MOV word ptr [EBP + 0xffffff74],AX
00a6e498 : MOV dword ptr [EBP + -0x7c],EAX
00a6e49b : MOV dword ptr [EBP + -0x78],0x7
00a6e4a2 : MOV dword ptr [EBP + -0x4],0xffffffff
00a6e4a9 : LEA ECX,[EBP + -0x60]
00a6e4ac : PUSH ECX
00a6e4ad : CALL 0x004403d0
00a6e4b2 : MOV EDX,dword ptr [EBP + -0x6c]
00a6e4b5 : MOV EAX,dword ptr [EDX]
00a6e4b7 : MOV dword ptr [EBP + -0x6c],EAX
00a6e4ba : CMP EAX,dword ptr [EBX + 0x54]
00a6e4bd : JNZ 0x00a6e0c3
00a6e4c3 : MOV ECX,dword ptr [EBP + -0xc]
00a6e4c6 : MOV dword ptr FS:[0x0],ECX
00a6e4cd : POP ECX
00a6e4ce : POP EDI
00a6e4cf : POP ESI
00a6e4d0 : POP EBX
00a6e4d1 : MOV ECX,dword ptr [EBP + -0x10]
00a6e4d4 : XOR ECX,EBP
00a6e4d6 : CALL 0x00633e6b
00a6e4db : MOV ESP,EBP
00a6e4dd : POP EBP
00a6e4de : RET 0x4
