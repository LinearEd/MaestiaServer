PROGRAM  : Maestia.exe
FUNCTION : FUN_00a99860
ENTRY    : 00a99860
BODY     : [[00a99860, 00a999ba]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a99860(int param_1,undefined1 *param_2)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  bool bVar4;
  int iVar5;
  byte bVar6;
  int iVar7;
  int local_c;
  undefined4 local_8;
  
  iVar5 = DAT_00d7c54c;
  iVar7 = *(int *)(DAT_0172491c + 0x17c);
  bVar4 = false;
  if (*(int *)(iVar7 + 0x17f4) == 0) {
    local_8 = 0;
  }
  else {
    local_8 = *(undefined4 *)(iVar7 + 0x16ec);
  }
  iVar1 = DAT_00d7c54c + 0x40;
  FUN_004437f0(&local_8);
  iVar2 = *(int *)(iVar5 + 0x44);
  if (((local_c != iVar2) && (*(int *)(local_c + 0x10) != 0)) &&
     ((*(byte *)(*(int *)(local_c + 0x10) + 0x18c) & 2) != 0)) {
    bVar4 = true;
  }
  bVar6 = FUN_0086e2d0();
  uVar3 = *(uint *)(param_1 + 0x4d4);
  if (((*(int *)(iVar7 + 0x17f0) != 0) && (*(int *)(iVar7 + 0x16e8) != 0)) &&
     ((bVar4 && ((uVar3 & 8) != 0)))) {
    *param_2 = 1;
    return;
  }
  if (((uVar3 >> (bVar6 & 0x1f) & 1) != 0) && ((uVar3 & 8) == 0)) {
LAB_00a999a1:
    *param_2 = 1;
    return;
  }
  if ((*(uint *)(param_1 + 0x40) & 0x80000000) == 0) {
    *param_2 = 0;
  }
  else {
    if (*(int *)(iVar7 + 0x17f0) == 0) {
      param_1 = 0;
    }
    else {
      param_1 = *(undefined4 *)(iVar7 + 0x16e8);
    }
    FUN_004437f0(&param_1);
    if (((iVar1 != iVar2) && (iVar7 = *(int *)(iVar5 + 0x50), iVar7 != 0)) &&
       ((*(uint *)(iVar7 + 0x4c) & 0x100000) != 0)) {
      iVar7 = FUN_009a0330(0);
      if ((iVar7 != 0) && (*(int *)(iVar7 + 0xb0) == 0)) {
        *param_2 = 0;
        return;
      }
      goto LAB_00a999a1;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a99860 : PUSH EBP
00a99861 : MOV EBP,ESP
00a99863 : MOV EAX,[0x0172491c]
00a99868 : SUB ESP,0xc
00a9986b : PUSH EBX
00a9986c : PUSH ESI
00a9986d : MOV ESI,dword ptr [EAX + 0x17c]
00a99873 : XOR BL,BL
00a99875 : CMP dword ptr [ESI + 0x17f4],0x0
00a9987c : PUSH EDI
00a9987d : JZ 0x00a99887
00a9987f : MOV EAX,dword ptr [ESI + 0x16ec]
00a99885 : JMP 0x00a99889
00a99887 : XOR EAX,EAX
00a99889 : MOV EDI,dword ptr [0x00d7c54c]
00a9988f : LEA EDX,[EBP + -0x4]
00a99892 : MOV dword ptr [EBP + -0x4],EAX
00a99895 : LEA ECX,[EDI + 0x40]
00a99898 : PUSH EDX
00a99899 : LEA EAX,[EBP + -0x8]
00a9989c : MOV dword ptr [EBP + -0xc],ECX
00a9989f : CALL 0x004437f0
00a998a4 : MOV EDI,dword ptr [EDI + 0x44]
00a998a7 : MOV EAX,dword ptr [EBP + -0x8]
00a998aa : CMP EAX,EDI
00a998ac : JZ 0x00a998c0
00a998ae : MOV EAX,dword ptr [EAX + 0x10]
00a998b1 : TEST EAX,EAX
00a998b3 : JZ 0x00a998c0
00a998b5 : TEST byte ptr [EAX + 0x18c],0x2
00a998bc : JZ 0x00a998c0
00a998be : MOV BL,0x1
00a998c0 : MOV EAX,ESI
00a998c2 : CALL 0x0086e2d0
00a998c7 : CMP dword ptr [ESI + 0x17f0],0x0
00a998ce : MOV ECX,dword ptr [EBP + 0x8]
00a998d1 : MOV EDX,dword ptr [ECX + 0x4d4]
00a998d7 : JZ 0x00a998f8
00a998d9 : CMP dword ptr [ESI + 0x16e8],0x0
00a998e0 : JZ 0x00a998f8
00a998e2 : TEST BL,BL
00a998e4 : JZ 0x00a998f8
00a998e6 : TEST DL,0x8
00a998e9 : JZ 0x00a998f8
00a998eb : MOV EDX,dword ptr [EBP + 0xc]
00a998ee : POP EDI
00a998ef : POP ESI
00a998f0 : MOV byte ptr [EDX],0x1
00a998f3 : POP EBX
00a998f4 : MOV ESP,EBP
00a998f6 : POP EBP
00a998f7 : RET
00a998f8 : MOV EBX,EDX
00a998fa : MOV CL,AL
00a998fc : SHR EBX,CL
00a998fe : TEST BL,0x1
00a99901 : JZ 0x00a9990c
00a99903 : TEST DL,0x8
00a99906 : JZ 0x00a999a1
00a9990c : MOV ECX,dword ptr [EBP + 0x8]
00a9990f : TEST dword ptr [ECX + 0x40],0x80000000
00a99916 : JZ 0x00a999ae
00a9991c : CMP dword ptr [ESI + 0x17f0],0x0
00a99923 : JZ 0x00a9992d
00a99925 : MOV ESI,dword ptr [ESI + 0x16e8]
00a9992b : JMP 0x00a9992f
00a9992d : XOR ESI,ESI
00a9992f : MOV ECX,dword ptr [EBP + -0xc]
00a99932 : LEA EDX,[EBP + 0x8]
00a99935 : PUSH EDX
00a99936 : LEA EAX,[EBP + -0xc]
00a99939 : MOV dword ptr [EBP + 0x8],ESI
00a9993c : CALL 0x004437f0
00a99941 : MOV EAX,dword ptr [EBP + -0xc]
00a99944 : CMP EAX,EDI
00a99946 : JZ 0x00a999b4
00a99948 : MOV EAX,dword ptr [EAX + 0x10]
00a9994b : TEST EAX,EAX
00a9994d : JZ 0x00a999b4
00a9994f : MOV EDX,dword ptr [EAX + 0x4c]
00a99952 : AND EDX,0x100000
00a99958 : XOR ECX,ECX
00a9995a : OR ECX,EDX
00a9995c : JZ 0x00a999b4
00a9995e : MOVZX EDI,word ptr [EAX + 0x4]
00a99962 : MOVZX EAX,word ptr [EAX + 0x6]
00a99966 : MOV ECX,dword ptr [0x00da9894]
00a9996c : SHL EDI,0x10
00a9996f : OR EDI,EAX
00a99971 : MOV EAX,dword ptr [ECX]
00a99973 : MOV EAX,dword ptr [EAX + 0x130]
00a99979 : TEST EAX,EAX
00a9997b : JZ 0x00a99980
00a9997d : MOV EAX,dword ptr [EAX + 0x3c]
00a99980 : PUSH 0x0
00a99982 : CALL 0x009a0330
00a99987 : TEST EAX,EAX
00a99989 : JZ 0x00a999a1
00a9998b : CMP dword ptr [EAX + 0xb0],0x0
00a99992 : JNZ 0x00a999a1
00a99994 : MOV EDX,dword ptr [EBP + 0xc]
00a99997 : POP EDI
00a99998 : POP ESI
00a99999 : MOV byte ptr [EDX],0x0
00a9999c : POP EBX
00a9999d : MOV ESP,EBP
00a9999f : POP EBP
00a999a0 : RET
00a999a1 : MOV EAX,dword ptr [EBP + 0xc]
00a999a4 : POP EDI
00a999a5 : POP ESI
00a999a6 : MOV byte ptr [EAX],0x1
00a999a9 : POP EBX
00a999aa : MOV ESP,EBP
00a999ac : POP EBP
00a999ad : RET
00a999ae : MOV ECX,dword ptr [EBP + 0xc]
00a999b1 : MOV byte ptr [ECX],0x0
00a999b4 : POP EDI
00a999b5 : POP ESI
00a999b6 : POP EBX
00a999b7 : MOV ESP,EBP
00a999b9 : POP EBP
00a999ba : RET
