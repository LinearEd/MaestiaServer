PROGRAM  : Maestia.exe
FUNCTION : FUN_007a5340
ENTRY    : 007a5340
BODY     : [[007a5340, 007a545b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007a5340(void)

{
  int *piVar1;
  int *piVar2;
  undefined4 *puVar3;
  uint uVar4;
  undefined4 *in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b281b6;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *in_ECX = &PTR_FUN_00cd68a0;
  local_8 = 3;
  FUN_007a4c40(uVar4);
  piVar1 = (int *)in_ECX[0x433];
  piVar2 = (int *)*piVar1;
  while (piVar2 != piVar1) {
    puVar3 = (undefined4 *)piVar2[4];
    if (puVar3 != (undefined4 *)0x0) {
      (**(code **)*puVar3)(1);
    }
    FUN_00416210();
  }
  FUN_00401c00(*(undefined4 *)(in_ECX[0x433] + 4));
  *(undefined4 *)(in_ECX[0x433] + 4) = in_ECX[0x433];
  in_ECX[0x434] = 0;
  *(undefined4 *)in_ECX[0x433] = in_ECX[0x433];
  *(undefined4 *)(in_ECX[0x433] + 8) = in_ECX[0x433];
  local_8 = CONCAT31(local_8._1_3_,2);
  if ((uint)in_ECX[0x43e] < 8) {
    in_ECX[0x43e] = 7;
    in_ECX[0x43d] = 0;
    *(undefined2 *)(in_ECX + 0x439) = 0;
    local_8._0_1_ = 1;
    FUN_0047a120(in_ECX + 0x432);
    local_8 = (uint)local_8._1_3_ << 8;
    if (in_ECX[0x42f] == 0) {
      in_ECX[0x42f] = 0;
      in_ECX[0x430] = 0;
      in_ECX[0x431] = 0;
      local_8 = 0xffffffff;
      FUN_007a5ae0();
      ExceptionList = local_10;
      return;
    }
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
007a5340 : PUSH EBP
007a5341 : MOV EBP,ESP
007a5343 : PUSH -0x1
007a5345 : PUSH 0xb281b6
007a534a : MOV EAX,FS:[0x0]
007a5350 : PUSH EAX
007a5351 : SUB ESP,0xc
007a5354 : PUSH EBX
007a5355 : PUSH ESI
007a5356 : PUSH EDI
007a5357 : MOV EAX,[0x00d66fa0]
007a535c : XOR EAX,EBP
007a535e : PUSH EAX
007a535f : LEA EAX,[EBP + -0xc]
007a5362 : MOV FS:[0x0],EAX
007a5368 : MOV ESI,ECX
007a536a : MOV dword ptr [EBP + -0x14],ESI
007a536d : MOV dword ptr [ESI],0xcd68a0
007a5373 : MOV dword ptr [EBP + -0x4],0x3
007a537a : MOV EAX,ESI
007a537c : CALL 0x007a4c40
007a5381 : MOV EDI,dword ptr [ESI + 0x10cc]
007a5387 : MOV EAX,dword ptr [EDI]
007a5389 : XOR EBX,EBX
007a538b : MOV dword ptr [EBP + -0x10],EAX
007a538e : CMP EAX,EDI
007a5390 : JZ 0x007a53b2
007a5392 : MOV EAX,dword ptr [EAX + 0x10]
007a5395 : CMP EAX,EBX
007a5397 : JZ 0x007a53a3
007a5399 : MOV EDX,dword ptr [EAX]
007a539b : MOV ECX,EAX
007a539d : MOV EAX,dword ptr [EDX]
007a539f : PUSH 0x1
007a53a1 : CALL EAX
007a53a3 : LEA EDX,[EBP + -0x10]
007a53a6 : CALL 0x00416210
007a53ab : MOV EAX,dword ptr [EBP + -0x10]
007a53ae : CMP EAX,EDI
007a53b0 : JNZ 0x007a5392
007a53b2 : MOV ECX,dword ptr [ESI + 0x10cc]
007a53b8 : MOV EDX,dword ptr [ECX + 0x4]
007a53bb : LEA EDI,[ESI + 0x10c8]
007a53c1 : PUSH EDX
007a53c2 : MOV ECX,EDI
007a53c4 : CALL 0x00401c00
007a53c9 : MOV EAX,dword ptr [EDI + 0x4]
007a53cc : MOV dword ptr [EAX + 0x4],EAX
007a53cf : MOV EAX,dword ptr [EDI + 0x4]
007a53d2 : MOV dword ptr [EDI + 0x8],EBX
007a53d5 : MOV dword ptr [EAX],EAX
007a53d7 : MOV EAX,dword ptr [EDI + 0x4]
007a53da : MOV dword ptr [EAX + 0x8],EAX
007a53dd : MOV byte ptr [EBP + -0x4],0x2
007a53e1 : CMP dword ptr [ESI + 0x10f8],0x8
007a53e8 : JC 0x007a53f5
007a53ea : MOV ECX,dword ptr [ESI + 0x10e4]
007a53f0 : CALL 0x006f04e0
007a53f5 : MOV dword ptr [ESI + 0x10f8],0x7
007a53ff : MOV dword ptr [ESI + 0x10f4],EBX
007a5405 : XOR EAX,EAX
007a5407 : MOV word ptr [ESI + 0x10e4],AX
007a540e : MOV byte ptr [EBP + -0x4],0x1
007a5412 : PUSH EDI
007a5413 : CALL 0x0047a120
007a5418 : MOV byte ptr [EBP + -0x4],BL
007a541b : MOV ECX,dword ptr [ESI + 0x10bc]
007a5421 : CMP ECX,EBX
007a5423 : JZ 0x007a542a
007a5425 : CALL 0x006f04e0
007a542a : MOV dword ptr [ESI + 0x10bc],EBX
007a5430 : MOV dword ptr [ESI + 0x10c0],EBX
007a5436 : MOV dword ptr [ESI + 0x10c4],EBX
007a543c : MOV dword ptr [EBP + -0x4],0xffffffff
007a5443 : MOV ECX,ESI
007a5445 : CALL 0x007a5ae0
007a544a : MOV ECX,dword ptr [EBP + -0xc]
007a544d : MOV dword ptr FS:[0x0],ECX
007a5454 : POP ECX
007a5455 : POP EDI
007a5456 : POP ESI
007a5457 : POP EBX
007a5458 : MOV ESP,EBP
007a545a : POP EBP
007a545b : RET
