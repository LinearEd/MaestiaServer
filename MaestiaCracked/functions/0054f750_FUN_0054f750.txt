PROGRAM  : Maestia.exe
FUNCTION : FUN_0054f750
ENTRY    : 0054f750
BODY     : [[0054f750, 0054f81c] [0054f820, 0054f85a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0054f750(void)

{
  int iVar1;
  uint uVar2;
  undefined4 *puVar3;
  uint uVar4;
  int *piVar5;
  int in_ECX;
  int *piVar6;
  undefined1 local_8 [8];
  
  iVar1 = *(int *)(in_ECX + 0x18);
  piVar6 = (int *)(in_ECX + 0x18);
  if (iVar1 == 0) {
    uVar4 = 0;
    piVar6 = (int *)0x0;
  }
  else {
    uVar4 = 0;
    piVar5 = (int *)(iVar1 + 8);
    do {
      if (*piVar5 != -2) break;
      uVar4 = uVar4 + 1;
      piVar5 = piVar5 + 6;
    } while (uVar4 <= *(uint *)(iVar1 + 4));
  }
  do {
    if (((piVar6 == (int *)0x0) || (*piVar6 == 0)) || (*(int *)(*piVar6 + 4) < (int)uVar4)) break;
    FUN_005262a0();
    uVar2 = *(uint *)(*piVar6 + 4);
    if (((int)uVar4 <= (int)uVar2) && (uVar4 = uVar4 + 1, uVar4 <= uVar2)) {
      piVar5 = (int *)(*piVar6 + 8 + uVar4 * 0x18);
      do {
        if (*piVar5 != -2) break;
        uVar4 = uVar4 + 1;
        piVar5 = piVar5 + 6;
      } while (uVar4 <= uVar2);
    }
  } while( true );
  FUN_005684e0();
  if (*(int *)(in_ECX + 0x28) == 0) {
LAB_0054f830:
    puVar3 = *(undefined4 **)(in_ECX + 0x14);
    if (puVar3 != (undefined4 *)0x0) {
      puVar3[2] = puVar3[2] + 1;
      if ((puVar3[2] & 0x70000000) != 0) {
        puVar3[2] = puVar3[2] & 0x8fffffff;
        (**(code **)*puVar3)(2);
      }
    }
    return;
  }
  piVar5 = (int *)FUN_0054f300(local_8);
  piVar6 = (int *)*piVar5;
  uVar4 = piVar5[1];
  do {
    if (((piVar6 == (int *)0x0) || (*piVar6 == 0)) || (*(int *)(*piVar6 + 4) < (int)uVar4))
    goto LAB_0054f830;
    FUN_005684e0();
    FUN_005262a0();
    uVar2 = *(uint *)(*piVar6 + 4);
    if (((int)uVar4 <= (int)uVar2) && (uVar4 = uVar4 + 1, uVar4 <= uVar2)) {
      piVar5 = (int *)(*piVar6 + 8 + uVar4 * 0x24);
      do {
        if (*piVar5 != -2) break;
        uVar4 = uVar4 + 1;
        piVar5 = piVar5 + 9;
      } while (uVar4 <= uVar2);
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
0054f750 : SUB ESP,0x8
0054f753 : PUSH EBP
0054f754 : MOV EBP,ECX
0054f756 : MOV ECX,dword ptr [EBP + 0x18]
0054f759 : PUSH ESI
0054f75a : LEA ESI,[EBP + 0x18]
0054f75d : PUSH EDI
0054f75e : TEST ECX,ECX
0054f760 : JNZ 0x0054f766
0054f762 : XOR EAX,EAX
0054f764 : JMP 0x0054f77f
0054f766 : MOV EDX,dword ptr [ECX + 0x4]
0054f769 : XOR EAX,EAX
0054f76b : ADD ECX,0x8
0054f76e : MOV EDI,EDI
0054f770 : CMP dword ptr [ECX],-0x2
0054f773 : JNZ 0x0054f77d
0054f775 : INC EAX
0054f776 : ADD ECX,0x18
0054f779 : CMP EAX,EDX
0054f77b : JBE 0x0054f770
0054f77d : MOV ECX,ESI
0054f77f : MOV EDI,ECX
0054f781 : MOV ESI,EAX
0054f783 : TEST EDI,EDI
0054f785 : JZ 0x0054f7c2
0054f787 : MOV EAX,dword ptr [EDI]
0054f789 : TEST EAX,EAX
0054f78b : JZ 0x0054f7c2
0054f78d : CMP ESI,dword ptr [EAX + 0x4]
0054f790 : JG 0x0054f7c2
0054f792 : LEA ECX,[ESI + ESI*0x2]
0054f795 : LEA ECX,[EAX + ECX*0x8 + 0x10]
0054f799 : CALL 0x005262a0
0054f79e : MOV ECX,dword ptr [EDI]
0054f7a0 : MOV EAX,dword ptr [ECX + 0x4]
0054f7a3 : CMP ESI,EAX
0054f7a5 : JG 0x0054f783
0054f7a7 : INC ESI
0054f7a8 : CMP ESI,EAX
0054f7aa : JA 0x0054f783
0054f7ac : LEA EDX,[ESI + ESI*0x2]
0054f7af : LEA ECX,[ECX + EDX*0x8 + 0x8]
0054f7b3 : CMP dword ptr [ECX],-0x2
0054f7b6 : JNZ 0x0054f783
0054f7b8 : INC ESI
0054f7b9 : ADD ECX,0x18
0054f7bc : CMP ESI,EAX
0054f7be : JBE 0x0054f7b3
0054f7c0 : JMP 0x0054f783
0054f7c2 : LEA ECX,[EBP + 0x1c]
0054f7c5 : CALL 0x005684e0
0054f7ca : MOV ECX,dword ptr [EBP + 0x28]
0054f7cd : TEST ECX,ECX
0054f7cf : JZ 0x0054f830
0054f7d1 : PUSH EBX
0054f7d2 : LEA EAX,[ESP + 0x10]
0054f7d6 : PUSH EAX
0054f7d7 : CALL 0x0054f300
0054f7dc : MOV EBX,dword ptr [EAX]
0054f7de : MOV ESI,dword ptr [EAX + 0x4]
0054f7e1 : TEST EBX,EBX
0054f7e3 : JZ 0x0054f82f
0054f7e5 : MOV EAX,dword ptr [EBX]
0054f7e7 : TEST EAX,EAX
0054f7e9 : JZ 0x0054f82f
0054f7eb : CMP ESI,dword ptr [EAX + 0x4]
0054f7ee : JG 0x0054f82f
0054f7f0 : LEA ECX,[ESI + ESI*0x8]
0054f7f3 : LEA EDI,[EAX + ECX*0x4 + 0x10]
0054f7f7 : MOV ECX,EDI
0054f7f9 : CALL 0x005684e0
0054f7fe : LEA ECX,[EDI + 0xc]
0054f801 : CALL 0x005262a0
0054f806 : MOV ECX,dword ptr [EBX]
0054f808 : MOV EAX,dword ptr [ECX + 0x4]
0054f80b : CMP ESI,EAX
0054f80d : JG 0x0054f7e1
0054f80f : INC ESI
0054f810 : CMP ESI,EAX
0054f812 : JA 0x0054f7e1
0054f814 : LEA EDX,[ESI + ESI*0x8]
0054f817 : LEA ECX,[ECX + EDX*0x4 + 0x8]
0054f81b : JMP 0x0054f820
0054f820 : CMP dword ptr [ECX],-0x2
0054f823 : JNZ 0x0054f7e1
0054f825 : INC ESI
0054f826 : ADD ECX,0x24
0054f829 : CMP ESI,EAX
0054f82b : JBE 0x0054f820
0054f82d : JMP 0x0054f7e1
0054f82f : POP EBX
0054f830 : MOV ECX,dword ptr [EBP + 0x14]
0054f833 : POP EDI
0054f834 : POP ESI
0054f835 : POP EBP
0054f836 : TEST ECX,ECX
0054f838 : JZ 0x0054f857
0054f83a : INC dword ptr [ECX + 0x8]
0054f83d : MOV EAX,dword ptr [ECX + 0x8]
0054f840 : TEST EAX,0x70000000
0054f845 : JZ 0x0054f857
0054f847 : AND EAX,0x8fffffff
0054f84c : MOV dword ptr [ECX + 0x8],EAX
0054f84f : MOV EAX,dword ptr [ECX]
0054f851 : MOV EDX,dword ptr [EAX]
0054f853 : PUSH 0x2
0054f855 : CALL EDX
0054f857 : ADD ESP,0x8
0054f85a : RET
