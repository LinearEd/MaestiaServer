PROGRAM  : Maestia.exe
FUNCTION : do_get_time
ENTRY    : 00632785
BODY     : [[00632785, 00632842]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    protected: virtual class std::istreambuf_iterator<char,struct std::char_traits<char> >
   __thiscall std::time_get<char,class std::istreambuf_iterator<char,struct std::char_traits<char> >
   >::do_get_time(class std::istreambuf_iterator<char,struct std::char_traits<char> >,class
   std::istreambuf_iterator<char,struct std::char_traits<char> >,class std::ios_base &,int &,struct
   tm *)const 
   
   Library: Visual Studio 2008 Release */

void __thiscall
std::time_get<char,class_std::istreambuf_iterator<char,struct_std::char_traits<char>_>_>::
do_get_time(time_get<char,class_std::istreambuf_iterator<char,struct_std::char_traits<char>_>_>
            *this,undefined4 *param_2,undefined4 param_3,undefined4 param_4)

{
  uint *puVar1;
  uint uVar2;
  time_get<char,class_std::istreambuf_iterator<char,struct_std::char_traits<char>_>_> *this_00;
  time_get<char,class_std::istreambuf_iterator<char,struct_std::char_traits<char>_>_> *this_01;
  uint *in_stack_0000001c;
  undefined4 in_stack_00000020;
  
  uVar2 = _Getint(this,(istreambuf_iterator<char,struct_std::char_traits<char>_> *)this,
                  (istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_3,
                  (int)&stack0x00000010,0,(int *)0x17);
  puVar1 = in_stack_0000001c;
  *in_stack_0000001c = *in_stack_0000001c | uVar2;
  if (*in_stack_0000001c == 0) {
    if ((char)param_4 == '\0') {
      istreambuf_iterator<char,struct_std::char_traits<char>_>::_Peek
                ((istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_3);
    }
    if (param_4._1_1_ != ':') goto LAB_006327ee;
    istreambuf_iterator<char,struct_std::char_traits<char>_>::_Inc
              ((istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_3);
    uVar2 = _Getint(this_00,(istreambuf_iterator<char,struct_std::char_traits<char>_> *)this,
                    (istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_3,
                    (int)&stack0x00000010,0,(int *)0x3b);
    *puVar1 = *puVar1 | uVar2;
  }
  else {
LAB_006327ee:
    *puVar1 = *puVar1 | 2;
  }
  if (*puVar1 == 0) {
    if ((char)param_4 == '\0') {
      istreambuf_iterator<char,struct_std::char_traits<char>_>::_Peek
                ((istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_3);
    }
    if (param_4._1_1_ == ':') {
      istreambuf_iterator<char,struct_std::char_traits<char>_>::_Inc
                ((istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_3);
      uVar2 = _Getint(this_01,(istreambuf_iterator<char,struct_std::char_traits<char>_> *)this,
                      (istreambuf_iterator<char,struct_std::char_traits<char>_> *)&param_3,
                      (int)&stack0x00000010,0,(int *)0x3b);
      *puVar1 = *puVar1 | uVar2;
      goto LAB_0063282e;
    }
  }
  *puVar1 = *puVar1 | 2;
LAB_0063282e:
  *param_2 = param_3;
  param_2[1] = param_4;
  return;
}



============================================================
DISASSEMBLY
============================================================
00632785 : MOV EDI,EDI
00632787 : PUSH EBP
00632788 : MOV EBP,ESP
0063278a : PUSH ECX
0063278b : PUSH EBX
0063278c : PUSH ESI
0063278d : PUSH EDI
0063278e : MOV EDI,dword ptr [EBP + 0x24]
00632791 : LEA EAX,[EDI + 0x8]
00632794 : PUSH EAX
00632795 : PUSH 0x17
00632797 : XOR EBX,EBX
00632799 : PUSH EBX
0063279a : LEA EAX,[EBP + 0x14]
0063279d : PUSH EAX
0063279e : LEA EAX,[EBP + 0xc]
006327a1 : PUSH EAX
006327a2 : PUSH ECX
006327a3 : MOV dword ptr [EBP + -0x4],ECX
006327a6 : CALL 0x0063263a
006327ab : MOV ESI,dword ptr [EBP + 0x20]
006327ae : ADD ESP,0x18
006327b1 : OR dword ptr [ESI],EAX
006327b3 : JNZ 0x006327ee
006327b5 : CMP byte ptr [EBP + 0x10],BL
006327b8 : JNZ 0x006327c2
006327ba : LEA ECX,[EBP + 0xc]
006327bd : CALL 0x006230fd
006327c2 : CMP byte ptr [EBP + 0x11],0x3a
006327c6 : JNZ 0x006327ee
006327c8 : LEA ECX,[EBP + 0xc]
006327cb : CALL 0x006230d9
006327d0 : LEA EAX,[EDI + 0x4]
006327d3 : PUSH EAX
006327d4 : PUSH 0x3b
006327d6 : PUSH EBX
006327d7 : LEA EAX,[EBP + 0x14]
006327da : PUSH EAX
006327db : LEA EAX,[EBP + 0xc]
006327de : PUSH EAX
006327df : PUSH dword ptr [EBP + -0x4]
006327e2 : CALL 0x0063263a
006327e7 : ADD ESP,0x18
006327ea : OR dword ptr [ESI],EAX
006327ec : JMP 0x006327f1
006327ee : OR dword ptr [ESI],0x2
006327f1 : CMP dword ptr [ESI],EBX
006327f3 : JNZ 0x0063282b
006327f5 : CMP byte ptr [EBP + 0x10],BL
006327f8 : JNZ 0x00632802
006327fa : LEA ECX,[EBP + 0xc]
006327fd : CALL 0x006230fd
00632802 : CMP byte ptr [EBP + 0x11],0x3a
00632806 : JNZ 0x0063282b
00632808 : LEA ECX,[EBP + 0xc]
0063280b : CALL 0x006230d9
00632810 : PUSH EDI
00632811 : PUSH 0x3b
00632813 : PUSH EBX
00632814 : LEA EAX,[EBP + 0x14]
00632817 : PUSH EAX
00632818 : LEA EAX,[EBP + 0xc]
0063281b : PUSH EAX
0063281c : PUSH dword ptr [EBP + -0x4]
0063281f : CALL 0x0063263a
00632824 : ADD ESP,0x18
00632827 : OR dword ptr [ESI],EAX
00632829 : JMP 0x0063282e
0063282b : OR dword ptr [ESI],0x2
0063282e : MOV ECX,dword ptr [EBP + 0xc]
00632831 : MOV EAX,dword ptr [EBP + 0x8]
00632834 : POP EDI
00632835 : MOV dword ptr [EAX],ECX
00632837 : MOV ECX,dword ptr [EBP + 0x10]
0063283a : POP ESI
0063283b : MOV dword ptr [EAX + 0x4],ECX
0063283e : POP EBX
0063283f : LEAVE
00632840 : RET 0x20
