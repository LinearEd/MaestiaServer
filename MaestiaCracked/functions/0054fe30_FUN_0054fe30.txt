PROGRAM  : Maestia.exe
FUNCTION : FUN_0054fe30
ENTRY    : 0054fe30
BODY     : [[0054fe30, 0054fefc] [0054ff00, 0054ff25]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0054fe30(void)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  int *piVar4;
  int in_ECX;
  int *piVar5;
  undefined1 local_8 [8];
  
  iVar1 = *(int *)(in_ECX + 0x18);
  piVar5 = (int *)(in_ECX + 0x18);
  if (iVar1 == 0) {
    uVar3 = 0;
    piVar5 = (int *)0x0;
  }
  else {
    uVar3 = 0;
    piVar4 = (int *)(iVar1 + 8);
    do {
      if (*piVar4 != -2) break;
      uVar3 = uVar3 + 1;
      piVar4 = piVar4 + 6;
    } while (uVar3 <= *(uint *)(iVar1 + 4));
  }
  do {
    if (((piVar5 == (int *)0x0) || (*piVar5 == 0)) || (*(int *)(*piVar5 + 4) < (int)uVar3)) break;
    FUN_005264f0();
    uVar2 = *(uint *)(*piVar5 + 4);
    if (((int)uVar3 <= (int)uVar2) && (uVar3 = uVar3 + 1, uVar3 <= uVar2)) {
      piVar4 = (int *)(*piVar5 + 8 + uVar3 * 0x18);
      do {
        if (*piVar4 != -2) break;
        uVar3 = uVar3 + 1;
        piVar4 = piVar4 + 6;
      } while (uVar3 <= uVar2);
    }
  } while( true );
  FUN_00568730();
  if (*(int *)(in_ECX + 0x28) == 0) {
LAB_0054ff10:
    if (*(int *)(in_ECX + 0x14) == 0) {
      return;
    }
    FUN_005035f0();
    return;
  }
  piVar4 = (int *)FUN_0054f300(local_8);
  piVar5 = (int *)*piVar4;
  uVar3 = piVar4[1];
  do {
    if (((piVar5 == (int *)0x0) || (*piVar5 == 0)) || (*(int *)(*piVar5 + 4) < (int)uVar3))
    goto LAB_0054ff10;
    FUN_00568730();
    FUN_005264f0();
    uVar2 = *(uint *)(*piVar5 + 4);
    if (((int)uVar3 <= (int)uVar2) && (uVar3 = uVar3 + 1, uVar3 <= uVar2)) {
      piVar4 = (int *)(*piVar5 + 8 + uVar3 * 0x24);
      do {
        if (*piVar4 != -2) break;
        uVar3 = uVar3 + 1;
        piVar4 = piVar4 + 9;
      } while (uVar3 <= uVar2);
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
0054fe30 : SUB ESP,0x8
0054fe33 : PUSH EBP
0054fe34 : MOV EBP,ECX
0054fe36 : MOV ECX,dword ptr [EBP + 0x18]
0054fe39 : PUSH ESI
0054fe3a : LEA ESI,[EBP + 0x18]
0054fe3d : PUSH EDI
0054fe3e : TEST ECX,ECX
0054fe40 : JNZ 0x0054fe46
0054fe42 : XOR EAX,EAX
0054fe44 : JMP 0x0054fe5f
0054fe46 : MOV EDX,dword ptr [ECX + 0x4]
0054fe49 : XOR EAX,EAX
0054fe4b : ADD ECX,0x8
0054fe4e : MOV EDI,EDI
0054fe50 : CMP dword ptr [ECX],-0x2
0054fe53 : JNZ 0x0054fe5d
0054fe55 : INC EAX
0054fe56 : ADD ECX,0x18
0054fe59 : CMP EAX,EDX
0054fe5b : JBE 0x0054fe50
0054fe5d : MOV ECX,ESI
0054fe5f : MOV EDI,ECX
0054fe61 : MOV ESI,EAX
0054fe63 : TEST EDI,EDI
0054fe65 : JZ 0x0054fea2
0054fe67 : MOV EAX,dword ptr [EDI]
0054fe69 : TEST EAX,EAX
0054fe6b : JZ 0x0054fea2
0054fe6d : CMP ESI,dword ptr [EAX + 0x4]
0054fe70 : JG 0x0054fea2
0054fe72 : LEA ECX,[ESI + ESI*0x2]
0054fe75 : LEA ECX,[EAX + ECX*0x8 + 0x10]
0054fe79 : CALL 0x005264f0
0054fe7e : MOV ECX,dword ptr [EDI]
0054fe80 : MOV EAX,dword ptr [ECX + 0x4]
0054fe83 : CMP ESI,EAX
0054fe85 : JG 0x0054fe63
0054fe87 : INC ESI
0054fe88 : CMP ESI,EAX
0054fe8a : JA 0x0054fe63
0054fe8c : LEA EDX,[ESI + ESI*0x2]
0054fe8f : LEA ECX,[ECX + EDX*0x8 + 0x8]
0054fe93 : CMP dword ptr [ECX],-0x2
0054fe96 : JNZ 0x0054fe63
0054fe98 : INC ESI
0054fe99 : ADD ECX,0x18
0054fe9c : CMP ESI,EAX
0054fe9e : JBE 0x0054fe93
0054fea0 : JMP 0x0054fe63
0054fea2 : LEA ECX,[EBP + 0x1c]
0054fea5 : CALL 0x00568730
0054feaa : MOV ECX,dword ptr [EBP + 0x28]
0054fead : TEST ECX,ECX
0054feaf : JZ 0x0054ff10
0054feb1 : PUSH EBX
0054feb2 : LEA EAX,[ESP + 0x10]
0054feb6 : PUSH EAX
0054feb7 : CALL 0x0054f300
0054febc : MOV EBX,dword ptr [EAX]
0054febe : MOV ESI,dword ptr [EAX + 0x4]
0054fec1 : TEST EBX,EBX
0054fec3 : JZ 0x0054ff0f
0054fec5 : MOV EAX,dword ptr [EBX]
0054fec7 : TEST EAX,EAX
0054fec9 : JZ 0x0054ff0f
0054fecb : CMP ESI,dword ptr [EAX + 0x4]
0054fece : JG 0x0054ff0f
0054fed0 : LEA ECX,[ESI + ESI*0x8]
0054fed3 : LEA EDI,[EAX + ECX*0x4 + 0x10]
0054fed7 : MOV ECX,EDI
0054fed9 : CALL 0x00568730
0054fede : LEA ECX,[EDI + 0xc]
0054fee1 : CALL 0x005264f0
0054fee6 : MOV ECX,dword ptr [EBX]
0054fee8 : MOV EAX,dword ptr [ECX + 0x4]
0054feeb : CMP ESI,EAX
0054feed : JG 0x0054fec1
0054feef : INC ESI
0054fef0 : CMP ESI,EAX
0054fef2 : JA 0x0054fec1
0054fef4 : LEA EDX,[ESI + ESI*0x8]
0054fef7 : LEA ECX,[ECX + EDX*0x4 + 0x8]
0054fefb : JMP 0x0054ff00
0054ff00 : CMP dword ptr [ECX],-0x2
0054ff03 : JNZ 0x0054fec1
0054ff05 : INC ESI
0054ff06 : ADD ECX,0x24
0054ff09 : CMP ESI,EAX
0054ff0b : JBE 0x0054ff00
0054ff0d : JMP 0x0054fec1
0054ff0f : POP EBX
0054ff10 : MOV ECX,dword ptr [EBP + 0x14]
0054ff13 : POP EDI
0054ff14 : POP ESI
0054ff15 : POP EBP
0054ff16 : TEST ECX,ECX
0054ff18 : JZ 0x0054ff22
0054ff1a : ADD ESP,0x8
0054ff1d : JMP 0x005035f0
0054ff22 : ADD ESP,0x8
0054ff25 : RET
