PROGRAM  : Maestia.exe
FUNCTION : FUN_00a553a0
ENTRY    : 00a553a0
BODY     : [[00a553a0, 00a554db]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a553a0(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int in_ECX;
  undefined1 local_24 [24];
  uint local_c;
  uint local_8;
  
  iVar3 = DAT_0172491c;
  local_8 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  *(undefined1 *)(in_ECX + 0x11c) = 0;
  iVar3 = FUN_007f91b0(*(undefined4 *)(iVar3 + 0x90),in_ECX,1);
  *(int *)(in_ECX + 0x3c) = iVar3;
  if (iVar3 == 0) {
    FUN_008018d0(L"[AvaGameLobby::InitSelectServer] Flash file not found.\n");
    __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
    return;
  }
  FUN_00a48f10();
  (**(code **)(**(int **)(in_ECX + 0x3c) + 0x14))(1);
  (**(code **)(**(int **)(in_ECX + 0x3c) + 0xc))(1);
  piVar1 = *(int **)(in_ECX + 0x114);
  piVar2 = (int *)*piVar1;
  while( true ) {
    if (piVar2 == piVar1) {
      if (*(undefined4 **)(in_ECX + 0x50) != (undefined4 *)0x0) {
        (**(code **)**(undefined4 **)(in_ECX + 0x50))("NoticeDlgClose");
      }
      FUN_00a52530(in_ECX);
      piVar1 = *(int **)(in_ECX + 0x34);
      if (piVar1 != (int *)0x0) {
        (**(code **)(*piVar1 + 4))(piVar1,"LobbyBackUIBGVisible",&DAT_00cc60c8,0);
        (**(code **)(**(int **)(in_ECX + 0x34) + 4))
                  (*(int **)(in_ECX + 0x34),"LobbyBackVisible",&DAT_00cc60e4,1);
      }
      (**(code **)(**(int **)(in_ECX + 0x3c) + 4))
                (*(int **)(in_ECX + 0x3c),"SetNoticeMsg",&DAT_00cc6100,&DAT_00cc60fc);
      __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
      return;
    }
    FUN_00403380(local_24,piVar2 + 10);
    if (7 < local_c) break;
    FUN_00402980();
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00a553a0 : PUSH EBP
00a553a1 : MOV EBP,ESP
00a553a3 : SUB ESP,0x24
00a553a6 : MOV EAX,[0x00d66fa0]
00a553ab : XOR EAX,EBP
00a553ad : MOV dword ptr [EBP + -0x4],EAX
00a553b0 : MOV EAX,[0x0172491c]
00a553b5 : PUSH ESI
00a553b6 : PUSH EDI
00a553b7 : MOV ESI,ECX
00a553b9 : PUSH 0x1
00a553bb : MOV byte ptr [ESI + 0x11c],0x0
00a553c2 : MOV EAX,dword ptr [EAX + 0x90]
00a553c8 : PUSH ESI
00a553c9 : PUSH EAX
00a553ca : MOV ECX,0xcc6038
00a553cf : CALL 0x007f91b0
00a553d4 : MOV dword ptr [ESI + 0x3c],EAX
00a553d7 : TEST EAX,EAX
00a553d9 : JNZ 0x00a553fe
00a553db : MOV ESI,dword ptr [0x00da98e8]
00a553e1 : PUSH 0xcc6048
00a553e6 : CALL 0x008018d0
00a553eb : ADD ESP,0x4
00a553ee : POP EDI
00a553ef : POP ESI
00a553f0 : MOV ECX,dword ptr [EBP + -0x4]
00a553f3 : XOR ECX,EBP
00a553f5 : CALL 0x00633e6b
00a553fa : MOV ESP,EBP
00a553fc : POP EBP
00a553fd : RET
00a553fe : CALL 0x00a48f10
00a55403 : MOV ECX,dword ptr [ESI + 0x3c]
00a55406 : MOV EDX,dword ptr [ECX]
00a55408 : MOV EAX,dword ptr [EDX + 0x14]
00a5540b : PUSH 0x1
00a5540d : CALL EAX
00a5540f : MOV ECX,dword ptr [ESI + 0x3c]
00a55412 : MOV EDX,dword ptr [ECX]
00a55414 : MOV EAX,dword ptr [EDX + 0xc]
00a55417 : PUSH 0x1
00a55419 : CALL EAX
00a5541b : MOV EDI,dword ptr [ESI + 0x114]
00a55421 : MOV EAX,dword ptr [EDI]
00a55423 : MOV dword ptr [EBP + -0x24],EAX
00a55426 : CMP EAX,EDI
00a55428 : JZ 0x00a55462
00a5542a : LEA EBX,[EBX]
00a55430 : ADD EAX,0x28
00a55433 : PUSH EAX
00a55434 : LEA ECX,[EBP + -0x20]
00a55437 : PUSH ECX
00a55438 : MOV EDX,0xcc60b8
00a5543d : CALL 0x00403380
00a55442 : ADD ESP,0x8
00a55445 : CMP dword ptr [EBP + -0x8],0x8
00a55449 : JC 0x00a55453
00a5544b : MOV ECX,dword ptr [EBP + -0x1c]
00a5544e : CALL 0x006f04e0
00a55453 : LEA EDX,[EBP + -0x24]
00a55456 : CALL 0x00402980
00a5545b : MOV EAX,dword ptr [EBP + -0x24]
00a5545e : CMP EAX,EDI
00a55460 : JNZ 0x00a55430
00a55462 : MOV ECX,dword ptr [ESI + 0x50]
00a55465 : TEST ECX,ECX
00a55467 : JZ 0x00a55474
00a55469 : MOV EDX,dword ptr [ECX]
00a5546b : MOV EAX,dword ptr [EDX]
00a5546d : PUSH 0xcc6ba0
00a55472 : CALL EAX
00a55474 : PUSH ESI
00a55475 : CALL 0x00a52530
00a5547a : MOV EAX,dword ptr [ESI + 0x34]
00a5547d : TEST EAX,EAX
00a5547f : JZ 0x00a554af
00a55481 : MOV ECX,dword ptr [EAX]
00a55483 : MOV EDX,dword ptr [ECX + 0x4]
00a55486 : PUSH 0x0
00a55488 : PUSH 0xcc60c8
00a5548d : PUSH 0xcc60cc
00a55492 : PUSH EAX
00a55493 : CALL EDX
00a55495 : MOV EAX,dword ptr [ESI + 0x34]
00a55498 : MOV ECX,dword ptr [EAX]
00a5549a : MOV EDX,dword ptr [ECX + 0x4]
00a5549d : PUSH 0x1
00a5549f : PUSH 0xcc60e4
00a554a4 : PUSH 0xcc60e8
00a554a9 : PUSH EAX
00a554aa : CALL EDX
00a554ac : ADD ESP,0x20
00a554af : MOV ESI,dword ptr [ESI + 0x3c]
00a554b2 : MOV EAX,dword ptr [ESI]
00a554b4 : MOV ECX,dword ptr [EAX + 0x4]
00a554b7 : PUSH 0xcc60fc
00a554bc : PUSH 0xcc6100
00a554c1 : PUSH 0xcc6104
00a554c6 : PUSH ESI
00a554c7 : CALL ECX
00a554c9 : MOV ECX,dword ptr [EBP + -0x4]
00a554cc : ADD ESP,0x10
00a554cf : POP EDI
00a554d0 : XOR ECX,EBP
00a554d2 : POP ESI
00a554d3 : CALL 0x00633e6b
00a554d8 : MOV ESP,EBP
00a554da : POP EBP
00a554db : RET
