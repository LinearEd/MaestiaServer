PROGRAM  : Maestia.exe
FUNCTION : FUN_005693d0
ENTRY    : 005693d0
BODY     : [[005693d0, 00569432]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005693d0(void)

{
  int *piVar1;
  int in_ECX;
  
  piVar1 = (int *)(*(int *)(in_ECX + 0x60) + 8);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    FUN_00525340();
  }
  FUN_005684a0();
  FUN_00515cf0(*(undefined4 *)(in_ECX + 0x3c));
  if (*(GRefCountNTSImpl **)(in_ECX + 0x38) != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(in_ECX + 0x38));
  }
  *(undefined4 *)(in_ECX + 0x38) = 0;
  piVar1 = *(int **)(in_ECX + 0x34);
  if ((piVar1 != (int *)0x0) && (*piVar1 = *piVar1 + -1, *piVar1 < 1)) {
    FUN_0051d070();
    FUN_00515cf0(piVar1);
  }
  *(undefined4 *)(in_ECX + 0x34) = 0;
  FUN_00551950();
  return;
}



============================================================
DISASSEMBLY
============================================================
005693d0 : PUSH ESI
005693d1 : MOV ESI,ECX
005693d3 : MOV ECX,dword ptr [ESI + 0x60]
005693d6 : ADD dword ptr [ECX + 0x8],-0x1
005693da : PUSH EDI
005693db : LEA EDI,[ESI + 0x50]
005693de : JNZ 0x005693e5
005693e0 : CALL 0x00525340
005693e5 : MOV ECX,EDI
005693e7 : CALL 0x005684a0
005693ec : MOV EAX,dword ptr [ESI + 0x3c]
005693ef : PUSH EAX
005693f0 : CALL 0x00515cf0
005693f5 : MOV ECX,dword ptr [ESI + 0x38]
005693f8 : TEST ECX,ECX
005693fa : JZ 0x00569401
005693fc : CALL 0x004ff7c0
00569401 : MOV dword ptr [ESI + 0x38],0x0
00569408 : MOV EDI,dword ptr [ESI + 0x34]
0056940b : TEST EDI,EDI
0056940d : JZ 0x00569423
0056940f : DEC dword ptr [EDI]
00569411 : CMP dword ptr [EDI],0x0
00569414 : JG 0x00569423
00569416 : MOV ECX,EDI
00569418 : CALL 0x0051d070
0056941d : PUSH EDI
0056941e : CALL 0x00515cf0
00569423 : POP EDI
00569424 : MOV dword ptr [ESI + 0x34],0x0
0056942b : MOV ECX,ESI
0056942d : POP ESI
0056942e : JMP 0x00551950
