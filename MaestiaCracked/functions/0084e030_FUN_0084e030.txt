PROGRAM  : Maestia.exe
FUNCTION : FUN_0084e030
ENTRY    : 0084e030
BODY     : [[0084e030, 0084e20a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0084e030(undefined4 param_1)

{
  undefined1 uVar1;
  short sVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  int *in_ECX;
  undefined1 local_3c [28];
  int local_20;
  LONG local_1c;
  int local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar4 = DAT_017251b8;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b34499;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_1c = 0;
  local_14 = uVar3;
  FUN_00484470(&local_1c);
  if (local_18 == *(int *)(iVar4 + 0x50)) {
    local_18 = 0;
  }
  else {
    local_18 = *(int *)(local_18 + 0x10);
  }
  if (((in_ECX != (int *)0x0) && (local_18 != 0)) && (*(int *)(iVar4 + 0x60) == 0)) {
    local_1c = InterlockedIncrement((LONG *)&DAT_00da9888);
    local_20 = FUN_006f0760(0x11c,".\\Loading\\AvaBaseBackgroundLoader.cpp",0xf3,0,uVar3);
    local_8 = 9;
    if (local_20 == 0) {
      iVar4 = 0;
    }
    else {
      iVar4 = FUN_00793c50(local_20);
    }
    local_8 = 0xffffffff;
    *(undefined4 *)(iVar4 + 0x2c) = 0;
    *(undefined4 *)(iVar4 + 0xec) = 0;
    *(undefined4 *)(iVar4 + 0x10c) = 0;
    FUN_00406460(L"rqst_additional_load_mesh");
    local_8 = 0xb;
    FUN_00405eb0(local_3c,0,0xffffffff);
    local_8 = 0xffffffff;
    FUN_00406560();
    *(undefined4 *)(iVar4 + 0x110) = param_1;
    uVar5 = FUN_00404750(L"%d_%d_100",in_ECX[1],local_1c);
    local_8 = 0xc;
    FUN_00405eb0(uVar5,0,0xffffffff);
    local_8 = 0xffffffff;
    FUN_00406560();
    *(int *)(iVar4 + 0xe4) = in_ECX[1];
    *(int *)(iVar4 + 0x8c) = *(int *)(in_ECX[0x4e] + 8) + 0x138 + (int)in_ECX;
    if (DAT_00da93ec == 0) {
      iVar6 = 0;
    }
    else {
      iVar6 = DAT_00da93ec + 0x10;
    }
    *(int *)(iVar4 + 0xe8) = iVar6;
    *(LONG *)(iVar4 + 0x114) = local_1c;
    *(undefined1 *)(iVar4 + 0x118) = 1;
    uVar1 = (**(code **)(*in_ECX + 0x1d8))();
    *(undefined1 *)(iVar4 + 0x119) = uVar1;
    sVar2 = (**(code **)(*in_ECX + 0x1e4))();
    if (sVar2 == 0) {
      FUN_00858190(1);
    }
    FUN_00792980();
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0084e030 : PUSH EBP
0084e031 : MOV EBP,ESP
0084e033 : PUSH -0x1
0084e035 : PUSH 0xb34499
0084e03a : MOV EAX,FS:[0x0]
0084e040 : PUSH EAX
0084e041 : SUB ESP,0x30
0084e044 : MOV EAX,[0x00d66fa0]
0084e049 : XOR EAX,EBP
0084e04b : MOV dword ptr [EBP + -0x10],EAX
0084e04e : PUSH EBX
0084e04f : PUSH ESI
0084e050 : PUSH EDI
0084e051 : PUSH EAX
0084e052 : LEA EAX,[EBP + -0xc]
0084e055 : MOV FS:[0x0],EAX
0084e05b : MOV EBX,dword ptr [0x017251b8]
0084e061 : LEA EAX,[EBP + -0x18]
0084e064 : MOV EDI,ECX
0084e066 : PUSH EAX
0084e067 : XOR ESI,ESI
0084e069 : LEA ECX,[EBX + 0x4c]
0084e06c : LEA EAX,[EBP + -0x14]
0084e06f : MOV dword ptr [EBP + -0x18],ESI
0084e072 : CALL 0x00484470
0084e077 : MOV EAX,dword ptr [EBX + 0x50]
0084e07a : MOV ECX,dword ptr [EBP + -0x14]
0084e07d : CMP ECX,EAX
0084e07f : JNZ 0x0084e086
0084e081 : MOV dword ptr [EBP + -0x14],ESI
0084e084 : JMP 0x0084e08c
0084e086 : MOV ECX,dword ptr [ECX + 0x10]
0084e089 : MOV dword ptr [EBP + -0x14],ECX
0084e08c : CMP EDI,ESI
0084e08e : JZ 0x0084e1ed
0084e094 : CMP dword ptr [EBP + -0x14],ESI
0084e097 : JZ 0x0084e1ed
0084e09d : CMP dword ptr [EBX + 0x60],ESI
0084e0a0 : JNZ 0x0084e1ed
0084e0a6 : PUSH 0xda9888
0084e0ab : CALL dword ptr [0x00b850dc]
0084e0b1 : PUSH ESI
0084e0b2 : PUSH 0xf3
0084e0b7 : PUSH 0xc15494
0084e0bc : PUSH 0x11c
0084e0c1 : MOV dword ptr [EBP + -0x18],EAX
0084e0c4 : CALL 0x006f0760
0084e0c9 : ADD ESP,0x10
0084e0cc : MOV dword ptr [EBP + -0x1c],EAX
0084e0cf : MOV dword ptr [EBP + -0x4],0x9
0084e0d6 : CMP EAX,ESI
0084e0d8 : JZ 0x0084e0e4
0084e0da : PUSH EAX
0084e0db : CALL 0x00793c50
0084e0e0 : MOV EBX,EAX
0084e0e2 : JMP 0x0084e0e6
0084e0e4 : XOR EBX,EBX
0084e0e6 : MOV dword ptr [EBP + -0x4],0xffffffff
0084e0ed : PUSH 0xc3c9cc
0084e0f2 : LEA ECX,[EBP + -0x38]
0084e0f5 : MOV dword ptr [EBX + 0x2c],ESI
0084e0f8 : MOV dword ptr [EBX + 0xec],ESI
0084e0fe : MOV dword ptr [EBX + 0x10c],ESI
0084e104 : CALL 0x00406460
0084e109 : MOV dword ptr [EBP + -0x4],0xb
0084e110 : PUSH -0x1
0084e112 : PUSH ESI
0084e113 : LEA EDX,[EBP + -0x38]
0084e116 : PUSH EDX
0084e117 : LEA ECX,[EBX + 0xf0]
0084e11d : CALL 0x00405eb0
0084e122 : MOV dword ptr [EBP + -0x4],0xffffffff
0084e129 : LEA ECX,[EBP + -0x38]
0084e12c : CALL 0x00406560
0084e131 : MOV EAX,dword ptr [EBP + 0x8]
0084e134 : MOV ECX,dword ptr [EBP + -0x18]
0084e137 : MOV dword ptr [EBX + 0x110],EAX
0084e13d : MOV EAX,dword ptr [EDI + 0x4]
0084e140 : PUSH ECX
0084e141 : PUSH EAX
0084e142 : PUSH 0xc3ca00
0084e147 : LEA ESI,[EBP + -0x38]
0084e14a : CALL 0x00404750
0084e14f : ADD ESP,0xc
0084e152 : MOV dword ptr [EBP + -0x4],0xc
0084e159 : PUSH -0x1
0084e15b : PUSH 0x0
0084e15d : PUSH EAX
0084e15e : LEA ECX,[EBX + 0xc]
0084e161 : CALL 0x00405eb0
0084e166 : MOV dword ptr [EBP + -0x4],0xffffffff
0084e16d : MOV ECX,ESI
0084e16f : CALL 0x00406560
0084e174 : MOV EDX,dword ptr [EDI + 0x4]
0084e177 : MOV dword ptr [EBX + 0xe4],EDX
0084e17d : MOV EAX,dword ptr [EDI + 0x138]
0084e183 : MOV ECX,dword ptr [EAX + 0x8]
0084e186 : LEA EAX,[ECX + EDI*0x1 + 0x138]
0084e18d : MOV dword ptr [EBX + 0x8c],EAX
0084e193 : MOV EAX,[0x00da93ec]
0084e198 : TEST EAX,EAX
0084e19a : JZ 0x0084e1a1
0084e19c : ADD EAX,0x10
0084e19f : JMP 0x0084e1a3
0084e1a1 : XOR EAX,EAX
0084e1a3 : MOV ESI,dword ptr [EBP + -0x18]
0084e1a6 : MOV dword ptr [EBX + 0xe8],EAX
0084e1ac : MOV dword ptr [EBX + 0x114],ESI
0084e1b2 : MOV byte ptr [EBX + 0x118],0x1
0084e1b9 : MOV EDX,dword ptr [EDI]
0084e1bb : MOV EAX,dword ptr [EDX + 0x1d8]
0084e1c1 : MOV ECX,EDI
0084e1c3 : CALL EAX
0084e1c5 : MOV byte ptr [EBX + 0x119],AL
0084e1cb : MOV EDX,dword ptr [EDI]
0084e1cd : MOV EAX,dword ptr [EDX + 0x1e4]
0084e1d3 : MOV ECX,EDI
0084e1d5 : CALL EAX
0084e1d7 : TEST AX,AX
0084e1da : JNZ 0x0084e1e3
0084e1dc : PUSH 0x1
0084e1de : CALL 0x00858190
0084e1e3 : MOV ESI,dword ptr [EBP + -0x14]
0084e1e6 : MOV EDI,EBX
0084e1e8 : CALL 0x00792980
0084e1ed : MOV ECX,dword ptr [EBP + -0xc]
0084e1f0 : MOV dword ptr FS:[0x0],ECX
0084e1f7 : POP ECX
0084e1f8 : POP EDI
0084e1f9 : POP ESI
0084e1fa : POP EBX
0084e1fb : MOV ECX,dword ptr [EBP + -0x10]
0084e1fe : XOR ECX,EBP
0084e200 : CALL 0x00633e6b
0084e205 : MOV ESP,EBP
0084e207 : POP EBP
0084e208 : RET 0x4
