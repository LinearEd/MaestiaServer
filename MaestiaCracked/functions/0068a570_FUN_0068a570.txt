PROGRAM  : Maestia.exe
FUNCTION : FUN_0068a570
ENTRY    : 0068a570
BODY     : [[0068a570, 0068a651]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0068a570(undefined4 *param_1,undefined4 param_2,int *param_3,undefined4 *param_4)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int local_8;
  undefined4 local_4;
  
  local_8 = 0;
  if (((param_1 == (undefined4 *)0x0) || (param_3 == (int *)0x0)) || (iVar1 = *param_3, iVar1 == 0))
  {
    return 6;
  }
  local_4 = *(undefined4 *)(iVar1 + 100);
  piVar2 = (int *)FUN_00688c00(local_4,*param_1,&local_8);
  if (local_8 != 0) goto LAB_0068a633;
  *piVar2 = *param_3;
  piVar2[1] = param_3[1];
  piVar2[2] = param_3[2];
  piVar2[3] = (int)param_1;
  if ((code *)param_1[1] == (code *)0x0) {
LAB_0068a5f6:
    iVar3 = FUN_0068a220(local_4,4,*(int *)(iVar1 + 0x24),*(int *)(iVar1 + 0x24) + 1,
                         *(undefined4 *)(iVar1 + 0x28),&local_8);
    *(int *)(iVar1 + 0x28) = iVar3;
    if (local_8 == 0) {
      *(int **)(iVar3 + *(int *)(iVar1 + 0x24) * 4) = piVar2;
      *(int *)(iVar1 + 0x24) = *(int *)(iVar1 + 0x24) + 1;
      goto LAB_0068a633;
    }
  }
  else {
    local_8 = (*(code *)param_1[1])(piVar2,param_2);
    if (local_8 == 0) goto LAB_0068a5f6;
  }
  iVar1 = local_8;
  FUN_00688590();
  piVar2 = (int *)0x0;
  local_8 = iVar1;
LAB_0068a633:
  if (param_4 != (undefined4 *)0x0) {
    *param_4 = piVar2;
  }
  return local_8;
}



============================================================
DISASSEMBLY
============================================================
0068a570 : SUB ESP,0x8
0068a573 : MOV ECX,dword ptr [ESP + 0xc]
0068a577 : PUSH EBX
0068a578 : PUSH EDI
0068a579 : MOV dword ptr [ESP + 0x8],0x0
0068a581 : TEST ECX,ECX
0068a583 : JZ 0x0068a647
0068a589 : MOV EBX,dword ptr [ESP + 0x1c]
0068a58d : TEST EBX,EBX
0068a58f : JZ 0x0068a647
0068a595 : MOV EDI,dword ptr [EBX]
0068a597 : TEST EDI,EDI
0068a599 : JZ 0x0068a647
0068a59f : MOV ECX,dword ptr [ECX]
0068a5a1 : MOV EAX,dword ptr [EDI + 0x64]
0068a5a4 : PUSH EBP
0068a5a5 : PUSH ESI
0068a5a6 : LEA EDX,[ESP + 0x10]
0068a5aa : PUSH EDX
0068a5ab : PUSH ECX
0068a5ac : PUSH EAX
0068a5ad : MOV dword ptr [ESP + 0x20],EAX
0068a5b1 : CALL 0x00688c00
0068a5b6 : MOV EBP,dword ptr [ESP + 0x1c]
0068a5ba : ADD ESP,0xc
0068a5bd : MOV ESI,EAX
0068a5bf : TEST EBP,EBP
0068a5c1 : JNZ 0x0068a633
0068a5c3 : MOV EDX,dword ptr [EBX]
0068a5c5 : MOV dword ptr [ESI],EDX
0068a5c7 : MOV EAX,dword ptr [EBX + 0x4]
0068a5ca : MOV dword ptr [ESI + 0x4],EAX
0068a5cd : MOV ECX,dword ptr [EBX + 0x8]
0068a5d0 : MOV EAX,dword ptr [ESP + 0x1c]
0068a5d4 : MOV dword ptr [ESI + 0x8],ECX
0068a5d7 : MOV dword ptr [ESI + 0xc],EAX
0068a5da : MOV EAX,dword ptr [EAX + 0x4]
0068a5dd : TEST EAX,EAX
0068a5df : JZ 0x0068a5f6
0068a5e1 : MOV EDX,dword ptr [ESP + 0x20]
0068a5e5 : PUSH EDX
0068a5e6 : PUSH ESI
0068a5e7 : CALL EAX
0068a5e9 : MOV EBP,EAX
0068a5eb : ADD ESP,0x8
0068a5ee : MOV dword ptr [ESP + 0x10],EBP
0068a5f2 : TEST EBP,EBP
0068a5f4 : JNZ 0x0068a621
0068a5f6 : MOV EAX,dword ptr [EDI + 0x24]
0068a5f9 : MOV EDX,dword ptr [EDI + 0x28]
0068a5fc : LEA ECX,[ESP + 0x10]
0068a600 : PUSH ECX
0068a601 : PUSH EDX
0068a602 : MOV EDX,dword ptr [ESP + 0x1c]
0068a606 : LEA ECX,[EAX + 0x1]
0068a609 : PUSH ECX
0068a60a : PUSH EAX
0068a60b : PUSH 0x4
0068a60d : PUSH EDX
0068a60e : CALL 0x0068a220
0068a613 : MOV EBP,dword ptr [ESP + 0x28]
0068a617 : ADD ESP,0x18
0068a61a : MOV dword ptr [EDI + 0x28],EAX
0068a61d : TEST EBP,EBP
0068a61f : JZ 0x0068a62a
0068a621 : CALL 0x00688590
0068a626 : XOR ESI,ESI
0068a628 : JMP 0x0068a633
0068a62a : MOV ECX,dword ptr [EDI + 0x24]
0068a62d : MOV dword ptr [EAX + ECX*0x4],ESI
0068a630 : INC dword ptr [EDI + 0x24]
0068a633 : MOV EAX,dword ptr [ESP + 0x28]
0068a637 : TEST EAX,EAX
0068a639 : JZ 0x0068a63d
0068a63b : MOV dword ptr [EAX],ESI
0068a63d : POP ESI
0068a63e : MOV EAX,EBP
0068a640 : POP EBP
0068a641 : POP EDI
0068a642 : POP EBX
0068a643 : ADD ESP,0x8
0068a646 : RET
0068a647 : POP EDI
0068a648 : MOV EAX,0x6
0068a64d : POP EBX
0068a64e : ADD ESP,0x8
0068a651 : RET
