PROGRAM  : Maestia.exe
FUNCTION : FUN_005d28d0
ENTRY    : 005d28d0
BODY     : [[005d28d0, 005d294d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005d28d0(int param_1)

{
  undefined1 *puVar1;
  undefined1 uVar2;
  undefined4 uVar3;
  int iVar4;
  
  if (*(int *)(param_1 + 0x1c) < 1) {
    FUN_0052e440(*(undefined4 *)(param_1 + 0x18),
                 "Error: KeyIsDown needs one Argument (the key code)\n");
    return;
  }
  uVar3 = *(undefined4 *)(param_1 + 0x18);
  FUN_00526260(0);
  uVar3 = FUN_00527990(uVar3);
  if (*(int *)(param_1 + 8) == 0) {
    iVar4 = 0;
  }
  else {
    iVar4 = *(int *)(param_1 + 8) + -0x10;
  }
  if (*(int *)(*(int *)(iVar4 + 0x44) + 0x9e4) != 0) {
    uVar2 = FUN_005b08f0(uVar3);
    puVar1 = *(undefined1 **)(param_1 + 4);
    FUN_00526400();
    puVar1[4] = uVar2;
    *puVar1 = 2;
    return;
  }
  puVar1 = *(undefined1 **)(param_1 + 4);
  FUN_00526400();
  puVar1[4] = 0;
  *puVar1 = 2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005d28d0 : PUSH ESI
005d28d1 : MOV ESI,dword ptr [ESP + 0x8]
005d28d5 : CMP dword ptr [ESI + 0x1c],0x1
005d28d9 : JGE 0x005d28ee
005d28db : MOV EAX,dword ptr [ESI + 0x18]
005d28de : PUSH 0xb935d4
005d28e3 : PUSH EAX
005d28e4 : CALL 0x0052e440
005d28e9 : ADD ESP,0x8
005d28ec : POP ESI
005d28ed : RET
005d28ee : MOV ECX,dword ptr [ESI + 0x18]
005d28f1 : PUSH ECX
005d28f2 : PUSH 0x0
005d28f4 : MOV ECX,ESI
005d28f6 : CALL 0x00526260
005d28fb : MOV ECX,EAX
005d28fd : CALL 0x00527990
005d2902 : MOV ECX,dword ptr [ESI + 0x8]
005d2905 : TEST ECX,ECX
005d2907 : JZ 0x005d290e
005d2909 : ADD ECX,-0x10
005d290c : JMP 0x005d2910
005d290e : XOR ECX,ECX
005d2910 : MOV EDX,dword ptr [ECX + 0x44]
005d2913 : MOV ECX,dword ptr [EDX + 0x9e4]
005d2919 : PUSH EBX
005d291a : TEST ECX,ECX
005d291c : JZ 0x005d2939
005d291e : PUSH EAX
005d291f : CALL 0x005b08f0
005d2924 : MOV ESI,dword ptr [ESI + 0x4]
005d2927 : MOV ECX,ESI
005d2929 : MOV BL,AL
005d292b : CALL 0x00526400
005d2930 : MOV byte ptr [ESI + 0x4],BL
005d2933 : POP EBX
005d2934 : MOV byte ptr [ESI],0x2
005d2937 : POP ESI
005d2938 : RET
005d2939 : MOV ESI,dword ptr [ESI + 0x4]
005d293c : MOV ECX,ESI
005d293e : XOR BL,BL
005d2940 : CALL 0x00526400
005d2945 : MOV byte ptr [ESI + 0x4],BL
005d2948 : POP EBX
005d2949 : MOV byte ptr [ESI],0x2
005d294c : POP ESI
005d294d : RET
