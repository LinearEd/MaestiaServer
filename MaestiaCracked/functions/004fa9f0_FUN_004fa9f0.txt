PROGRAM  : Maestia.exe
FUNCTION : FUN_004fa9f0
ENTRY    : 004fa9f0
BODY     : [[004fa9f0, 004fac56]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_004fa9f0(void)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float *in_EAX;
  uint uVar13;
  float *in_ECX;
  float *unaff_ESI;
  undefined8 *unaff_EDI;
  float10 extraout_ST0;
  float fVar14;
  float fVar15;
  float fVar16;
  float fVar17;
  
  fVar1 = *unaff_ESI;
  fVar2 = in_ECX[2];
  fVar3 = in_EAX[1];
  fVar4 = in_EAX[2];
  fVar5 = in_ECX[1];
  fVar6 = *in_ECX;
  fVar7 = *in_EAX;
  fVar8 = unaff_ESI[1];
  fVar9 = unaff_ESI[2];
  fVar10 = unaff_ESI[3];
  fVar11 = in_ECX[3];
  fVar12 = in_EAX[3];
  fVar14 = fVar4 * fVar5 - fVar3 * fVar2;
  fVar15 = fVar2 * fVar7 - fVar4 * fVar6;
  fVar16 = fVar3 * fVar6 - fVar5 * fVar7;
  fVar17 = fVar16 * fVar9 + fVar15 * fVar8 + fVar14 * fVar1;
  uVar13 = FUN_0040e8d0(fVar17);
  if ((float10)1e-07 < extraout_ST0) {
    fVar17 = -1.0 / fVar17;
    fVar16 = (fVar16 * fVar10 + (fVar7 * fVar8 - fVar3 * fVar1) * fVar11 +
             (fVar5 * fVar1 - fVar6 * fVar8) * fVar12) * fVar17;
    *unaff_EDI = CONCAT44((fVar15 * fVar10 + (fVar4 * fVar1 - fVar7 * fVar9) * fVar11 +
                          (fVar6 * fVar9 - fVar2 * fVar1) * fVar12) * fVar17,
                          (fVar14 * fVar10 + (fVar3 * fVar9 - fVar4 * fVar8) * fVar11 +
                          (fVar2 * fVar8 - fVar5 * fVar9) * fVar12) * fVar17);
    *(float *)(unaff_EDI + 1) = fVar16;
    return CONCAT31((int3)((uint)fVar16 >> 8),1);
  }
  return uVar13 & 0xffffff00;
}



============================================================
DISASSEMBLY
============================================================
004fa9f0 : SUB ESP,0x48
004fa9f3 : PUSH EBX
004fa9f4 : MOVSS XMM0,dword ptr [ESI]
004fa9f8 : MOVSS XMM2,dword ptr [ECX + 0x8]
004fa9fd : MOVSS XMM6,dword ptr [EAX + 0x4]
004faa02 : MOVSS XMM7,dword ptr [EAX + 0x8]
004faa07 : MOVSS XMM4,dword ptr [ECX + 0x4]
004faa0c : MOVSS XMM3,dword ptr [ECX]
004faa10 : MOVSS XMM5,dword ptr [EAX]
004faa14 : MOVSS dword ptr [ESP + 0x24],XMM0
004faa1a : MOVSS XMM0,dword ptr [ESI + 0x4]
004faa1f : MOVSS dword ptr [ESP + 0x28],XMM0
004faa25 : MOVSS XMM0,dword ptr [ESI + 0x8]
004faa2a : MOVSS dword ptr [ESP + 0x2c],XMM0
004faa30 : MOVSS XMM0,dword ptr [ESI + 0xc]
004faa35 : MOVSS dword ptr [ESP + 0x20],XMM0
004faa3b : MOVSS XMM0,dword ptr [ECX + 0xc]
004faa40 : MOVSS dword ptr [ESP + 0x10],XMM0
004faa46 : MOVSS XMM0,dword ptr [EAX + 0xc]
004faa4b : MOVSS dword ptr [ESP + 0xc],XMM0
004faa51 : MOVAPS XMM0,XMM7
004faa54 : MULSS XMM0,XMM4
004faa58 : MOVAPS XMM1,XMM6
004faa5b : MULSS XMM1,XMM2
004faa5f : SUBSS XMM0,XMM1
004faa63 : MOVAPS XMM1,XMM0
004faa66 : MULSS XMM1,dword ptr [ESP + 0x24]
004faa6c : MOVSS dword ptr [ESP + 0x14],XMM0
004faa72 : MOVAPS XMM0,XMM2
004faa75 : MULSS XMM0,XMM5
004faa79 : MOVSS dword ptr [ESP + 0x44],XMM7
004faa7f : MULSS XMM7,XMM3
004faa83 : SUBSS XMM0,XMM7
004faa87 : MOVSS dword ptr [ESP + 0x18],XMM0
004faa8d : MOVSS dword ptr [ESP + 0x38],XMM2
004faa93 : MOVAPS XMM2,XMM0
004faa96 : MULSS XMM2,dword ptr [ESP + 0x28]
004faa9c : MOVSS dword ptr [ESP + 0x30],XMM3
004faaa2 : MOVAPS XMM0,XMM6
004faaa5 : MULSS XMM0,XMM3
004faaa9 : MOVAPS XMM3,XMM4
004faaac : MULSS XMM3,XMM5
004faab0 : SUBSS XMM0,XMM3
004faab4 : MOVSS dword ptr [ESP + 0x1c],XMM0
004faaba : MULSS XMM0,dword ptr [ESP + 0x2c]
004faac0 : ADDSS XMM0,XMM2
004faac4 : ADDSS XMM0,XMM1
004faac8 : MOVSS dword ptr [ESP + 0x8],XMM0
004faace : FLD float ptr [ESP + 0x8]
004faad2 : PUSH ECX
004faad3 : FSTP float ptr [ESP]
004faad6 : XOR BL,BL
004faad8 : MOVSS dword ptr [ESP + 0x38],XMM4
004faade : MOVSS dword ptr [ESP + 0x40],XMM5
004faae4 : MOVSS dword ptr [ESP + 0x44],XMM6
004faaea : CALL 0x0040e8d0
004faaef : FLD float ptr [0x00cdf390]
004faaf5 : FXCH
004faaf7 : ADD ESP,0x4
004faafa : FCOMIP ST0,ST1
004faafc : FSTP ST0
004faafe : JBE 0x004fac50
004fab04 : MOVSS XMM6,dword ptr [ESP + 0x28]
004fab0a : MOVSS XMM7,dword ptr [ESP + 0x2c]
004fab10 : MOVSS XMM4,dword ptr [ESP + 0x38]
004fab16 : MOVSS XMM2,dword ptr [ESP + 0x34]
004fab1c : MOVSS XMM5,dword ptr [ESP + 0x24]
004fab22 : MOVSS XMM3,dword ptr [ESP + 0x30]
004fab28 : MOVAPS XMM1,XMM2
004fab2b : MULSS XMM1,XMM7
004fab2f : MOVAPS XMM0,XMM4
004fab32 : MULSS XMM0,XMM6
004fab36 : SUBSS XMM0,XMM1
004fab3a : MULSS XMM2,XMM5
004fab3e : MULSS XMM4,XMM5
004fab42 : MOVAPS XMM1,XMM3
004fab45 : MULSS XMM3,XMM6
004fab49 : SUBSS XMM2,XMM3
004fab4d : MOVSS XMM3,dword ptr [ESP + 0xc]
004fab53 : MULSS XMM0,XMM3
004fab57 : MULSS XMM1,XMM7
004fab5b : SUBSS XMM1,XMM4
004fab5f : MOVSS XMM4,dword ptr [ESP + 0x44]
004fab65 : MOVSS dword ptr [ESP + 0x30],XMM0
004fab6b : MULSS XMM2,XMM3
004fab6f : MULSS XMM1,XMM3
004fab73 : MOVSS XMM3,dword ptr [ESP + 0x3c]
004fab79 : MOVSS dword ptr [ESP + 0x38],XMM2
004fab7f : MOVSS dword ptr [ESP + 0x34],XMM1
004fab85 : MOVSS XMM1,dword ptr [ESP + 0x40]
004fab8b : MOVAPS XMM0,XMM4
004fab8e : MULSS XMM0,XMM6
004fab92 : MULSS XMM4,XMM5
004fab96 : MOVAPS XMM2,XMM1
004fab99 : MULSS XMM2,XMM7
004fab9d : SUBSS XMM2,XMM0
004faba1 : MOVAPS XMM0,XMM3
004faba4 : MULSS XMM0,XMM7
004faba8 : MOVSS XMM7,dword ptr [ESP + 0x1c]
004fabae : MULSS XMM3,XMM6
004fabb2 : MOVSS XMM6,dword ptr [ESP + 0x18]
004fabb8 : SUBSS XMM4,XMM0
004fabbc : MOVSS XMM0,dword ptr [ESP + 0x10]
004fabc2 : MULSS XMM1,XMM5
004fabc6 : MOVSS XMM5,dword ptr [ESP + 0x14]
004fabcc : MULSS XMM2,XMM0
004fabd0 : MULSS XMM4,XMM0
004fabd4 : SUBSS XMM3,XMM1
004fabd8 : MULSS XMM3,XMM0
004fabdc : MOVSS XMM0,dword ptr [ESP + 0x20]
004fabe2 : MULSS XMM5,XMM0
004fabe6 : MULSS XMM6,XMM0
004fabea : MULSS XMM7,XMM0
004fabee : MOVSS XMM0,dword ptr [0x00cdf0d0]
004fabf6 : DIVSS XMM0,dword ptr [ESP + 0x8]
004fabfc : ADDSS XMM5,XMM2
004fac00 : ADDSS XMM5,dword ptr [ESP + 0x30]
004fac06 : ADDSS XMM6,XMM4
004fac0a : ADDSS XMM6,dword ptr [ESP + 0x34]
004fac10 : ADDSS XMM7,XMM3
004fac14 : ADDSS XMM7,dword ptr [ESP + 0x38]
004fac1a : MULSS XMM5,XMM0
004fac1e : MULSS XMM6,XMM0
004fac22 : MULSS XMM7,XMM0
004fac26 : MOVSS dword ptr [ESP + 0x3c],XMM5
004fac2c : MOVSS dword ptr [ESP + 0x40],XMM6
004fac32 : MOVQ XMM0,qword ptr [ESP + 0x3c]
004fac38 : MOVSS dword ptr [ESP + 0x44],XMM7
004fac3e : MOV EAX,dword ptr [ESP + 0x44]
004fac42 : MOVQ qword ptr [EDI],XMM0
004fac46 : MOV dword ptr [EDI + 0x8],EAX
004fac49 : MOV AL,0x1
004fac4b : POP EBX
004fac4c : ADD ESP,0x48
004fac4f : RET
004fac50 : MOV AL,BL
004fac52 : POP EBX
004fac53 : ADD ESP,0x48
004fac56 : RET
