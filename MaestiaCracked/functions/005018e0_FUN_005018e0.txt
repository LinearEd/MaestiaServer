PROGRAM  : Maestia.exe
FUNCTION : FUN_005018e0
ENTRY    : 005018e0
BODY     : [[005018e0, 005019a0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005018e0(int param_1)

{
  byte *pbVar1;
  double dVar2;
  int iVar3;
  
  if (((*(int *)(param_1 + 8) != 0) &&
      (iVar3 = (**(code **)(**(int **)(param_1 + 8) + 8))(), iVar3 == 4)) &&
     (0 < *(int *)(param_1 + 0x1c))) {
    FUN_00526260(0);
    FUN_00527730();
    iVar3 = FUN_0063b380();
    if (iVar3 < 0) {
      pbVar1 = *(byte **)(param_1 + 4);
      if (4 < *pbVar1) {
        FUN_00526400();
      }
      pbVar1[4] = 0;
      pbVar1[5] = 0;
      pbVar1[6] = 0;
      pbVar1[7] = 0;
      pbVar1[8] = 0;
      pbVar1[9] = 0;
      pbVar1[10] = 0xf0;
      pbVar1[0xb] = 0xbf;
      *pbVar1 = 3;
      return;
    }
    iVar3 = FUN_00545050();
    if (iVar3 == -1) {
      dVar2 = -1.0;
    }
    else {
      dVar2 = (double)iVar3;
      if (iVar3 < 0) {
        FUN_004ffd60(dVar2 + 4294967296.0);
        return;
      }
    }
    FUN_004ffd60(dVar2);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005018e0 : PUSH ESI
005018e1 : MOV ESI,dword ptr [ESP + 0x8]
005018e5 : CMP dword ptr [ESI + 0x8],0x0
005018e9 : JZ 0x0050199f
005018ef : MOV ECX,dword ptr [ESI + 0x8]
005018f2 : MOV EAX,dword ptr [ECX]
005018f4 : MOV EDX,dword ptr [EAX + 0x8]
005018f7 : CALL EDX
005018f9 : CMP EAX,0x4
005018fc : JNZ 0x0050199f
00501902 : MOV EAX,dword ptr [ESI + 0x8]
00501905 : PUSH EDI
00501906 : TEST EAX,EAX
00501908 : JZ 0x0050190f
0050190a : LEA EDI,[EAX + -0x68]
0050190d : JMP 0x00501911
0050190f : XOR EDI,EDI
00501911 : CMP dword ptr [ESI + 0x1c],0x1
00501915 : JL 0x0050199e
0050191b : MOV EAX,dword ptr [ESI + 0x18]
0050191e : PUSH EAX
0050191f : PUSH 0x0
00501921 : MOV ECX,ESI
00501923 : CALL 0x00526260
00501928 : MOV ECX,EAX
0050192a : CALL 0x00527730
0050192f : CALL 0x0063b380
00501934 : TEST EAX,EAX
00501936 : JGE 0x00501956
00501938 : MOV ESI,dword ptr [ESI + 0x4]
0050193b : CMP byte ptr [ESI],0x5
0050193e : JC 0x00501947
00501940 : MOV ECX,ESI
00501942 : CALL 0x00526400
00501947 : FLD double ptr [0x00b86090]
0050194d : POP EDI
0050194e : FSTP double ptr [ESI + 0x4]
00501951 : MOV byte ptr [ESI],0x3
00501954 : POP ESI
00501955 : RET
00501956 : MOV ECX,dword ptr [EDI + 0xa0]
0050195c : PUSH EAX
0050195d : CALL 0x00545050
00501962 : CMP EAX,-0x1
00501965 : JZ 0x0050198a
00501967 : MOV dword ptr [ESP + 0xc],EAX
0050196b : FILD dword ptr [ESP + 0xc]
0050196f : TEST EAX,EAX
00501971 : JGE 0x00501990
00501973 : FADD double ptr [0x00cdf6f8]
00501979 : MOV ECX,dword ptr [ESI + 0x4]
0050197c : SUB ESP,0x8
0050197f : FSTP double ptr [ESP]
00501982 : CALL 0x004ffd60
00501987 : POP EDI
00501988 : POP ESI
00501989 : RET
0050198a : FLD double ptr [0x00b86090]
00501990 : MOV ECX,dword ptr [ESI + 0x4]
00501993 : SUB ESP,0x8
00501996 : FSTP double ptr [ESP]
00501999 : CALL 0x004ffd60
0050199e : POP EDI
0050199f : POP ESI
005019a0 : RET
