PROGRAM  : Maestia.exe
FUNCTION : FUN_0044b5b0
ENTRY    : 0044b5b0
BODY     : [[0044b5b0, 0044b623]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0044b5b0(void)

{
  int *piVar1;
  uint uVar2;
  int unaff_ESI;
  int iVar3;
  
  iVar3 = *(int *)(unaff_ESI + 0x1c);
  while (iVar3 != 0) {
    if (*(int *)(unaff_ESI + 0x1c) != 0) {
      uVar2 = *(int *)(unaff_ESI + 0x1c) + -1 + *(int *)(unaff_ESI + 0x18);
      if (*(uint *)(unaff_ESI + 0x14) <= uVar2) {
        uVar2 = uVar2 - *(uint *)(unaff_ESI + 0x14);
      }
      FUN_0044c830(*(undefined4 *)(*(int *)(unaff_ESI + 0x10) + uVar2 * 4));
      piVar1 = (int *)(unaff_ESI + 0x1c);
      *piVar1 = *piVar1 + -1;
      if (*piVar1 == 0) {
        *(undefined4 *)(unaff_ESI + 0x18) = 0;
      }
    }
    iVar3 = *(int *)(unaff_ESI + 0x1c);
  }
  iVar3 = *(int *)(unaff_ESI + 0x14);
  while (iVar3 != 0) {
    iVar3 = iVar3 + -1;
    if (*(int *)(*(int *)(unaff_ESI + 0x10) + iVar3 * 4) != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  if (*(int *)(unaff_ESI + 0x10) == 0) {
    *(undefined4 *)(unaff_ESI + 0x10) = 0;
    *(undefined4 *)(unaff_ESI + 0x14) = 0;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0044b5b0 : PUSH ECX
0044b5b1 : PUSH EBX
0044b5b2 : XOR EBX,EBX
0044b5b4 : PUSH EDI
0044b5b5 : CMP dword ptr [ESI + 0x1c],EBX
0044b5b8 : JZ 0x0044b5f0
0044b5ba : OR EDI,0xffffffff
0044b5bd : LEA ECX,[ECX]
0044b5c0 : MOV EAX,dword ptr [ESI + 0x1c]
0044b5c3 : CMP EAX,EBX
0044b5c5 : JZ 0x0044b5eb
0044b5c7 : MOV ECX,dword ptr [ESI + 0x18]
0044b5ca : LEA EAX,[EAX + ECX*0x1 + -0x1]
0044b5ce : MOV ECX,dword ptr [ESI + 0x14]
0044b5d1 : CMP ECX,EAX
0044b5d3 : JA 0x0044b5d7
0044b5d5 : SUB EAX,ECX
0044b5d7 : MOV EDX,dword ptr [ESI + 0x10]
0044b5da : MOV EAX,dword ptr [EDX + EAX*0x4]
0044b5dd : PUSH EAX
0044b5de : CALL 0x0044c830
0044b5e3 : ADD dword ptr [ESI + 0x1c],EDI
0044b5e6 : JNZ 0x0044b5eb
0044b5e8 : MOV dword ptr [ESI + 0x18],EBX
0044b5eb : CMP dword ptr [ESI + 0x1c],EBX
0044b5ee : JNZ 0x0044b5c0
0044b5f0 : MOV EDI,dword ptr [ESI + 0x14]
0044b5f3 : CMP EDI,EBX
0044b5f5 : JBE 0x0044b60e
0044b5f7 : MOV ECX,dword ptr [ESI + 0x10]
0044b5fa : DEC EDI
0044b5fb : CMP dword ptr [ECX + EDI*0x4],EBX
0044b5fe : LEA EAX,[ECX + EDI*0x4]
0044b601 : JZ 0x0044b60a
0044b603 : MOV ECX,dword ptr [EAX]
0044b605 : CALL 0x006f04e0
0044b60a : CMP EDI,EBX
0044b60c : JA 0x0044b5f7
0044b60e : MOV ECX,dword ptr [ESI + 0x10]
0044b611 : CMP ECX,EBX
0044b613 : JZ 0x0044b61a
0044b615 : CALL 0x006f04e0
0044b61a : POP EDI
0044b61b : MOV dword ptr [ESI + 0x10],EBX
0044b61e : MOV dword ptr [ESI + 0x14],EBX
0044b621 : POP EBX
0044b622 : POP ECX
0044b623 : RET
