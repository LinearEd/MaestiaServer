PROGRAM  : Maestia.exe
FUNCTION : FUN_00683f70
ENTRY    : 00683f70
BODY     : [[00683f70, 00684065]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00683f70(undefined4 param_1)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 *in_ECX;
  
  uVar3 = param_1;
  FUN_00680410(param_1);
  *in_ECX = &PTR_FUN_00bd8220;
  FUN_0051b6e0();
  piVar1 = in_ECX + 8;
  in_ECX[0xb] = 0;
  in_ECX[0xc] = 0;
  if ((uint)in_ECX[9] < 0x101) {
    if ((uint)in_ECX[10] < 0x101) {
      FUN_005da0e0(piVar1,0x140);
    }
  }
  else if (0x200 < (in_ECX[10] & 0xfffffffe)) {
    if (*piVar1 == 0) {
      param_1 = 2;
      iVar2 = FUN_00515d60(piVar1,0x200,&param_1);
      *piVar1 = iVar2;
      in_ECX[10] = 0x100;
    }
    else {
      iVar2 = FUN_00515c80(*piVar1,0x200);
      *piVar1 = iVar2;
      in_ECX[10] = 0x100;
    }
  }
  in_ECX[9] = 0x100;
  *(undefined2 *)*piVar1 = 0;
  in_ECX[0xd] = 0;
  in_ECX[0x22] = 1;
  iVar2 = FUN_00515840(0x54,0);
  if (iVar2 != 0) {
    uVar3 = FUN_006855c0(in_ECX,uVar3);
    in_ECX[0x1e] = uVar3;
    FUN_00685230();
    return;
  }
  in_ECX[0x1e] = 0;
  FUN_00685230();
  return;
}



============================================================
DISASSEMBLY
============================================================
00683f70 : PUSH EBP
00683f71 : MOV EBP,dword ptr [ESP + 0x8]
00683f75 : PUSH ESI
00683f76 : PUSH EDI
00683f77 : PUSH EBP
00683f78 : MOV ESI,ECX
00683f7a : CALL 0x00680410
00683f7f : LEA ECX,[ESI + 0x68]
00683f82 : MOV dword ptr [ESI],0xbd8220
00683f88 : CALL 0x0051b6e0
00683f8d : LEA EDI,[ESI + 0x20]
00683f90 : MOV dword ptr [ESI + 0x2c],0x0
00683f97 : MOV dword ptr [ESI + 0x30],0x0
00683f9e : MOV EAX,dword ptr [EDI + 0x4]
00683fa1 : CMP EAX,0x100
00683fa6 : JBE 0x00683ff4
00683fa8 : MOV EAX,dword ptr [EDI + 0x8]
00683fab : AND EAX,0xfffffffe
00683fae : CMP EAX,0x200
00683fb3 : JBE 0x0068400a
00683fb5 : MOV EAX,dword ptr [EDI]
00683fb7 : TEST EAX,EAX
00683fb9 : JZ 0x00683fd1
00683fbb : PUSH 0x200
00683fc0 : PUSH EAX
00683fc1 : CALL 0x00515c80
00683fc6 : MOV dword ptr [EDI],EAX
00683fc8 : MOV dword ptr [EDI + 0x8],0x100
00683fcf : JMP 0x0068400a
00683fd1 : LEA ECX,[ESP + 0x10]
00683fd5 : PUSH ECX
00683fd6 : PUSH 0x200
00683fdb : PUSH EDI
00683fdc : MOV dword ptr [ESP + 0x1c],0x2
00683fe4 : CALL 0x00515d60
00683fe9 : MOV dword ptr [EDI],EAX
00683feb : MOV dword ptr [EDI + 0x8],0x100
00683ff2 : JMP 0x0068400a
00683ff4 : CMP dword ptr [EDI + 0x8],0x100
00683ffb : JA 0x0068400a
00683ffd : PUSH 0x140
00684002 : PUSH EDI
00684003 : MOV ECX,EDI
00684005 : CALL 0x005da0e0
0068400a : MOV dword ptr [EDI + 0x4],0x100
00684011 : MOV EDX,dword ptr [EDI]
00684013 : XOR EAX,EAX
00684015 : MOV word ptr [EDX],AX
00684018 : PUSH EAX
00684019 : MOV dword ptr [ESI + 0x34],EAX
0068401c : MOV dword ptr [ESI + 0x88],0x1
00684026 : MOV ECX,dword ptr [0x00d73250]
0068402c : PUSH 0x54
0068402e : CALL 0x00515840
00684033 : TEST EAX,EAX
00684035 : JZ 0x00684052
00684037 : PUSH EBP
00684038 : PUSH ESI
00684039 : MOV ECX,EAX
0068403b : CALL 0x006855c0
00684040 : MOV ECX,EAX
00684042 : MOV dword ptr [ESI + 0x78],EAX
00684045 : CALL 0x00685230
0068404a : POP EDI
0068404b : MOV EAX,ESI
0068404d : POP ESI
0068404e : POP EBP
0068404f : RET 0x4
00684052 : XOR EAX,EAX
00684054 : MOV ECX,EAX
00684056 : MOV dword ptr [ESI + 0x78],EAX
00684059 : CALL 0x00685230
0068405e : POP EDI
0068405f : MOV EAX,ESI
00684061 : POP ESI
00684062 : POP EBP
00684063 : RET 0x4
