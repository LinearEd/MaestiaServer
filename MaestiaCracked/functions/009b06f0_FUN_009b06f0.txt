PROGRAM  : Maestia.exe
FUNCTION : FUN_009b06f0
ENTRY    : 009b06f0
BODY     : [[009b06f0, 009b0873]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009b06f0(void)

{
  uint uVar1;
  int iVar2;
  undefined1 local_6c [4];
  undefined2 local_68;
  undefined4 local_58;
  uint local_54;
  int local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b464ee;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_54 = 7;
  local_58 = 0;
  local_68 = 0;
  local_14 = uVar1;
  FUN_00406360(L"IDS_CHATTING_WORLDMSG",0x15);
  local_8 = 0;
  FUN_0081d120(local_6c);
  local_8 = CONCAT31(local_8._1_3_,2);
  if (7 < local_54) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar1);
  }
  local_68 = 0;
  local_54 = 7;
  local_58 = 0;
  FUN_008edae0(local_4c,0xa0,1,0);
  iVar2 = *DAT_00da9894;
  FUN_0044f270(iVar2 + 0x94,&local_50,local_4c);
  if (local_50 != *(int *)(iVar2 + 0x9c)) {
    FUN_00484470(local_50 + 0x24);
    if (local_50 != *(int *)(iVar2 + 0x60)) {
      iVar2 = *(int *)(local_50 + 0x10);
      goto LAB_009b07d0;
    }
  }
  iVar2 = 0;
LAB_009b07d0:
  if ((*(int *)(iVar2 + 100) != 0) && (*(code **)(iVar2 + 0x60) != (code *)0x0)) {
    (**(code **)(iVar2 + 0x60))(1,iVar2);
  }
  *(code **)(iVar2 + 100) = FUN_009aebe0;
  local_2c = 0;
  local_18 = 7;
  local_1c = 0;
  FUN_00406360(L"$worldchat",10);
  local_8._0_1_ = 3;
  FUN_009a6a20();
  local_8 = CONCAT31(local_8._1_3_,2);
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = 0;
  local_8 = 0xffffffff;
  if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_34 = 7;
  local_38 = 0;
  local_48 = 0;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009b06f0 : PUSH EBP
009b06f1 : MOV EBP,ESP
009b06f3 : PUSH -0x1
009b06f5 : PUSH 0xb464ee
009b06fa : MOV EAX,FS:[0x0]
009b0700 : PUSH EAX
009b0701 : SUB ESP,0x5c
009b0704 : MOV EAX,[0x00d66fa0]
009b0709 : XOR EAX,EBP
009b070b : MOV dword ptr [EBP + -0x10],EAX
009b070e : PUSH EBX
009b070f : PUSH ESI
009b0710 : PUSH EDI
009b0711 : PUSH EAX
009b0712 : LEA EAX,[EBP + -0xc]
009b0715 : MOV FS:[0x0],EAX
009b071b : PUSH 0x15
009b071d : XOR EAX,EAX
009b071f : MOV ESI,0x7
009b0724 : XOR EBX,EBX
009b0726 : PUSH 0xc8dac8
009b072b : LEA ECX,[EBP + -0x68]
009b072e : MOV dword ptr [EBP + -0x50],ESI
009b0731 : MOV dword ptr [EBP + -0x54],EBX
009b0734 : MOV word ptr [EBP + -0x64],AX
009b0738 : CALL 0x00406360
009b073d : MOV dword ptr [EBP + -0x4],EBX
009b0740 : LEA ECX,[EBP + -0x68]
009b0743 : PUSH ECX
009b0744 : MOV ECX,dword ptr [0x0172491c]
009b074a : LEA EDI,[EBP + -0x48]
009b074d : CALL 0x0081d120
009b0752 : MOV byte ptr [EBP + -0x4],0x2
009b0756 : CMP dword ptr [EBP + -0x50],0x8
009b075a : JC 0x009b0764
009b075c : MOV ECX,dword ptr [EBP + -0x64]
009b075f : CALL 0x006f04e0
009b0764 : MOV EAX,[0x00da9894]
009b0769 : PUSH EBX
009b076a : XOR EDX,EDX
009b076c : PUSH 0x1
009b076e : MOV word ptr [EBP + -0x64],DX
009b0772 : PUSH 0xa0
009b0777 : LEA EDX,[EBP + -0x48]
009b077a : MOV dword ptr [EBP + -0x50],ESI
009b077d : MOV dword ptr [EBP + -0x54],EBX
009b0780 : MOV ECX,dword ptr [EAX]
009b0782 : PUSH EDX
009b0783 : CALL 0x008edae0
009b0788 : MOV EAX,[0x00da9894]
009b078d : MOV ESI,dword ptr [EAX]
009b078f : LEA ECX,[EBP + -0x48]
009b0792 : PUSH ECX
009b0793 : LEA EDX,[EBP + -0x4c]
009b0796 : PUSH EDX
009b0797 : LEA EAX,[ESI + 0x94]
009b079d : PUSH EAX
009b079e : CALL 0x0044f270
009b07a3 : MOV EAX,dword ptr [ESI + 0x9c]
009b07a9 : MOV ECX,dword ptr [EBP + -0x4c]
009b07ac : CMP ECX,EAX
009b07ae : JZ 0x009b07ce
009b07b0 : ADD ECX,0x24
009b07b3 : PUSH ECX
009b07b4 : LEA ECX,[ESI + 0x5c]
009b07b7 : LEA EAX,[EBP + -0x4c]
009b07ba : CALL 0x00484470
009b07bf : MOV ESI,dword ptr [ESI + 0x60]
009b07c2 : MOV EAX,dword ptr [EBP + -0x4c]
009b07c5 : CMP EAX,ESI
009b07c7 : JZ 0x009b07ce
009b07c9 : MOV ESI,dword ptr [EAX + 0x10]
009b07cc : JMP 0x009b07d0
009b07ce : XOR ESI,ESI
009b07d0 : CMP dword ptr [ESI + 0x64],EBX
009b07d3 : JZ 0x009b07e1
009b07d5 : MOV EAX,dword ptr [ESI + 0x60]
009b07d8 : CMP EAX,EBX
009b07da : JZ 0x009b07e1
009b07dc : PUSH ESI
009b07dd : PUSH 0x1
009b07df : CALL EAX
009b07e1 : MOV dword ptr [ESI + 0x64],0x9aebe0
009b07e8 : XOR ECX,ECX
009b07ea : PUSH 0xa
009b07ec : MOV word ptr [EBP + -0x28],CX
009b07f0 : MOV EDI,0x7
009b07f5 : PUSH 0xc8daf4
009b07fa : LEA ECX,[EBP + -0x2c]
009b07fd : MOV dword ptr [EBP + -0x14],EDI
009b0800 : MOV dword ptr [EBP + -0x18],EBX
009b0803 : CALL 0x00406360
009b0808 : MOV byte ptr [EBP + -0x4],0x3
009b080c : LEA ECX,[EBP + -0x2c]
009b080f : MOV EAX,ESI
009b0811 : CALL 0x009a6a20
009b0816 : MOV byte ptr [EBP + -0x4],0x2
009b081a : MOV ESI,0x8
009b081f : CMP dword ptr [EBP + -0x14],ESI
009b0822 : JC 0x009b082c
009b0824 : MOV ECX,dword ptr [EBP + -0x28]
009b0827 : CALL 0x006f04e0
009b082c : XOR EDX,EDX
009b082e : MOV dword ptr [EBP + -0x14],EDI
009b0831 : MOV dword ptr [EBP + -0x18],EBX
009b0834 : MOV word ptr [EBP + -0x28],DX
009b0838 : MOV dword ptr [EBP + -0x4],0xffffffff
009b083f : CMP dword ptr [EBP + -0x30],ESI
009b0842 : JC 0x009b084c
009b0844 : MOV ECX,dword ptr [EBP + -0x44]
009b0847 : CALL 0x006f04e0
009b084c : XOR EAX,EAX
009b084e : MOV dword ptr [EBP + -0x30],EDI
009b0851 : MOV dword ptr [EBP + -0x34],EBX
009b0854 : MOV word ptr [EBP + -0x44],AX
009b0858 : MOV ECX,dword ptr [EBP + -0xc]
009b085b : MOV dword ptr FS:[0x0],ECX
009b0862 : POP ECX
009b0863 : POP EDI
009b0864 : POP ESI
009b0865 : POP EBX
009b0866 : MOV ECX,dword ptr [EBP + -0x10]
009b0869 : XOR ECX,EBP
009b086b : CALL 0x00633e6b
009b0870 : MOV ESP,EBP
009b0872 : POP EBP
009b0873 : RET
