PROGRAM  : Maestia.exe
FUNCTION : FUN_00a4c910
ENTRY    : 00a4c910
BODY     : [[00a4c910, 00a4ca87]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a4c910(undefined4 param_1,int param_2)

{
  uint uVar1;
  undefined4 uVar2;
  int iVar3;
  uint local_68;
  uint local_4c;
  undefined1 local_48 [4];
  undefined2 local_44;
  undefined4 local_34;
  uint local_30;
  undefined1 local_2c [4];
  undefined2 local_28;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b30091;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(param_2 + 4) == 1) {
    FUN_00406460(L"IDS_LOBBY_CHAR_CHANGE_PASSWORD_SUCCESS");
    local_8 = 0;
    uVar2 = FUN_0081d120(local_2c);
    local_8._0_1_ = 1;
    iVar3 = FUN_008ede80(uVar2,0);
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_4c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = 0xffffffff;
    if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_14 = 7;
    local_18 = 0;
    local_28 = 0;
  }
  else {
    FUN_00406460(L"IDS_LOBBY_CHAR_CHANGE_PASSWORD_FAILED");
    local_8 = 2;
    uVar2 = FUN_0081d120(local_48);
    local_8._0_1_ = 3;
    iVar3 = FUN_008ede80(uVar2,0);
    local_8 = CONCAT31(local_8._1_3_,2);
    if (7 < local_68) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = 0xffffffff;
    if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_30 = 7;
    local_34 = 0;
    local_44 = 0;
  }
  local_8 = 0xffffffff;
  if (iVar3 != 0) {
    if (*(code **)(iVar3 + 0x60) != (code *)0x0) {
      (**(code **)(iVar3 + 0x60))(1,iVar3,uVar1);
    }
    *(undefined1 **)(iVar3 + 0x60) = &LAB_00a49980;
    FUN_00a49030();
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a4c910 : PUSH EBP
00a4c911 : MOV EBP,ESP
00a4c913 : PUSH -0x1
00a4c915 : PUSH 0xb30091
00a4c91a : MOV EAX,FS:[0x0]
00a4c920 : PUSH EAX
00a4c921 : SUB ESP,0x70
00a4c924 : PUSH EBX
00a4c925 : PUSH ESI
00a4c926 : PUSH EDI
00a4c927 : MOV EAX,[0x00d66fa0]
00a4c92c : XOR EAX,EBP
00a4c92e : PUSH EAX
00a4c92f : LEA EAX,[EBP + -0xc]
00a4c932 : MOV FS:[0x0],EAX
00a4c938 : MOV EAX,dword ptr [EBP + 0xc]
00a4c93b : CMP dword ptr [EAX + 0x4],0x1
00a4c93f : JNZ 0x00a4c9cc
00a4c945 : PUSH 0xcc6f98
00a4c94a : LEA ECX,[EBP + -0x28]
00a4c94d : CALL 0x00406460
00a4c952 : XOR EBX,EBX
00a4c954 : MOV dword ptr [EBP + -0x4],EBX
00a4c957 : LEA ECX,[EBP + -0x28]
00a4c95a : PUSH ECX
00a4c95b : MOV ECX,dword ptr [0x0172491c]
00a4c961 : LEA EDI,[EBP + -0x60]
00a4c964 : CALL 0x0081d120
00a4c969 : MOV byte ptr [EBP + -0x4],0x1
00a4c96d : MOV EDX,dword ptr [0x00da9894]
00a4c973 : MOV ECX,dword ptr [EDX]
00a4c975 : PUSH EBX
00a4c976 : PUSH EAX
00a4c977 : CALL 0x008ede80
00a4c97c : MOV ESI,EAX
00a4c97e : MOV byte ptr [EBP + -0x4],BL
00a4c981 : MOV EDI,0x8
00a4c986 : CMP dword ptr [EBP + -0x48],EDI
00a4c989 : JC 0x00a4c993
00a4c98b : MOV ECX,dword ptr [EBP + -0x5c]
00a4c98e : CALL 0x006f04e0
00a4c993 : XOR EAX,EAX
00a4c995 : MOV dword ptr [EBP + -0x48],0x7
00a4c99c : MOV dword ptr [EBP + -0x4c],EBX
00a4c99f : MOV word ptr [EBP + -0x5c],AX
00a4c9a3 : MOV dword ptr [EBP + -0x4],0xffffffff
00a4c9aa : CMP dword ptr [EBP + -0x10],EDI
00a4c9ad : JC 0x00a4c9b7
00a4c9af : MOV ECX,dword ptr [EBP + -0x24]
00a4c9b2 : CALL 0x006f04e0
00a4c9b7 : XOR ECX,ECX
00a4c9b9 : MOV dword ptr [EBP + -0x10],0x7
00a4c9c0 : MOV dword ptr [EBP + -0x14],EBX
00a4c9c3 : MOV word ptr [EBP + -0x24],CX
00a4c9c7 : JMP 0x00a4ca53
00a4c9cc : PUSH 0xcc6fe8
00a4c9d1 : LEA ECX,[EBP + -0x44]
00a4c9d4 : CALL 0x00406460
00a4c9d9 : MOV dword ptr [EBP + -0x4],0x2
00a4c9e0 : MOV ECX,dword ptr [0x0172491c]
00a4c9e6 : LEA EDX,[EBP + -0x44]
00a4c9e9 : PUSH EDX
00a4c9ea : LEA EDI,[EBP + -0x7c]
00a4c9ed : CALL 0x0081d120
00a4c9f2 : MOV byte ptr [EBP + -0x4],0x3
00a4c9f6 : MOV ECX,dword ptr [0x00da9894]
00a4c9fc : MOV ECX,dword ptr [ECX]
00a4c9fe : XOR EBX,EBX
00a4ca00 : PUSH EBX
00a4ca01 : PUSH EAX
00a4ca02 : CALL 0x008ede80
00a4ca07 : MOV ESI,EAX
00a4ca09 : MOV byte ptr [EBP + -0x4],0x2
00a4ca0d : MOV EDI,0x8
00a4ca12 : CMP dword ptr [EBP + -0x64],EDI
00a4ca15 : JC 0x00a4ca1f
00a4ca17 : MOV ECX,dword ptr [EBP + -0x78]
00a4ca1a : CALL 0x006f04e0
00a4ca1f : XOR EDX,EDX
00a4ca21 : MOV dword ptr [EBP + -0x64],0x7
00a4ca28 : MOV dword ptr [EBP + -0x68],EBX
00a4ca2b : MOV word ptr [EBP + -0x78],DX
00a4ca2f : MOV dword ptr [EBP + -0x4],0xffffffff
00a4ca36 : CMP dword ptr [EBP + -0x2c],EDI
00a4ca39 : JC 0x00a4ca43
00a4ca3b : MOV ECX,dword ptr [EBP + -0x40]
00a4ca3e : CALL 0x006f04e0
00a4ca43 : XOR EAX,EAX
00a4ca45 : MOV dword ptr [EBP + -0x2c],0x7
00a4ca4c : MOV dword ptr [EBP + -0x30],EBX
00a4ca4f : MOV word ptr [EBP + -0x40],AX
00a4ca53 : CMP ESI,EBX
00a4ca55 : JZ 0x00a4ca74
00a4ca57 : MOV EAX,dword ptr [ESI + 0x60]
00a4ca5a : CMP EAX,EBX
00a4ca5c : JZ 0x00a4ca63
00a4ca5e : PUSH ESI
00a4ca5f : PUSH 0x1
00a4ca61 : CALL EAX
00a4ca63 : MOV EAX,dword ptr [EBP + 0x8]
00a4ca66 : XOR DL,DL
00a4ca68 : MOV dword ptr [ESI + 0x60],0xa49980
00a4ca6f : CALL 0x00a49030
00a4ca74 : MOV ECX,dword ptr [EBP + -0xc]
00a4ca77 : MOV dword ptr FS:[0x0],ECX
00a4ca7e : POP ECX
00a4ca7f : POP EDI
00a4ca80 : POP ESI
00a4ca81 : POP EBX
00a4ca82 : MOV ESP,EBP
00a4ca84 : POP EBP
00a4ca85 : RET 0x8
