PROGRAM  : Maestia.exe
FUNCTION : FUN_004cf8c0
ENTRY    : 004cf8c0
BODY     : [[004cf8c0, 004cfb5b]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004cf9ef) */
/* WARNING: Removing unreachable block (ram,0x004cf9ff) */
/* WARNING: Removing unreachable block (ram,0x004cfa08) */
/* WARNING: Removing unreachable block (ram,0x004cfa0b) */
/* WARNING: Removing unreachable block (ram,0x004cf9fb) */
/* WARNING: Removing unreachable block (ram,0x004cfa18) */
/* WARNING: Removing unreachable block (ram,0x004cfa28) */
/* WARNING: Removing unreachable block (ram,0x004cfa33) */
/* WARNING: Removing unreachable block (ram,0x004cfa2f) */
/* WARNING: Removing unreachable block (ram,0x004cfa23) */
/* WARNING: Removing unreachable block (ram,0x004cfa36) */
/* WARNING: Removing unreachable block (ram,0x004cfa46) */

void FUN_004cf8c0(undefined4 param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_58 [40];
  undefined1 local_30 [4];
  undefined1 local_2c;
  undefined4 local_1c;
  undefined4 local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7c7a8;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_2 + 0x1d) != '\0') {
    local_18 = 0xf;
    local_1c = 0;
    local_2c = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_30);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_58,&DAT_00ced890);
  }
  local_14 = param_2;
  FUN_004192a0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_2;
  if (*(char *)((int)piVar7 + 0x1d) == '\0') {
    if (*(char *)(param_2[2] + 0x1d) == '\0') {
      piVar7 = (int *)param_2[2];
    }
  }
  else {
    piVar7 = (int *)param_2[2];
  }
  piVar6 = (int *)param_2[1];
  if (*(char *)((int)piVar7 + 0x1d) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if ((int *)DAT_017244dc[1] == param_2) {
    DAT_017244dc[1] = piVar7;
  }
  else if ((int *)*piVar6 == param_2) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)*DAT_017244dc == param_2) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x1d) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x1d);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x1d);
        piVar5 = piVar3;
      }
    }
    *DAT_017244dc = piVar5;
  }
  if ((int *)DAT_017244dc[2] == param_2) {
    if (*(char *)((int)piVar7 + 0x1d) == '\0') {
      uVar4 = FUN_00440bb0();
      DAT_017244dc[2] = uVar4;
    }
    else {
      DAT_017244dc[2] = piVar6;
    }
  }
  if ((char)local_14[7] == '\x01') {
    if (piVar7 != (int *)DAT_017244dc[1]) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[7] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[7] == '\0') {
            *(undefined1 *)(piVar6 + 7) = 1;
            *(undefined1 *)(piVar5 + 7) = 0;
            FUN_004cfee0();
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x1d) == '\0') {
            if ((*(char *)(*piVar6 + 0x1c) != '\x01') || (*(char *)(piVar6[2] + 0x1c) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x1c) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x1c) = 1;
                *(undefined1 *)(piVar6 + 7) = 0;
                FUN_004cff30();
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 7) = (char)piVar5[7];
              *(undefined1 *)(piVar5 + 7) = 1;
              *(undefined1 *)(piVar6[2] + 0x1c) = 1;
              FUN_004cfee0();
              break;
            }
LAB_004cfb0a:
            *(undefined1 *)(piVar6 + 7) = 0;
          }
        }
        else {
          if ((char)piVar6[7] == '\0') {
            *(undefined1 *)(piVar6 + 7) = 1;
            *(undefined1 *)(piVar5 + 7) = 0;
            FUN_004cff30();
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x1d) == '\0') {
            if ((*(char *)(piVar6[2] + 0x1c) == '\x01') && (*(char *)(*piVar6 + 0x1c) == '\x01'))
            goto LAB_004cfb0a;
            if (*(char *)(*piVar6 + 0x1c) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x1c) = 1;
              *(undefined1 *)(piVar6 + 7) = 0;
              FUN_004cfee0();
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 7) = (char)piVar5[7];
            *(undefined1 *)(piVar5 + 7) = 1;
            *(undefined1 *)(*piVar6 + 0x1c) = 1;
            FUN_004cff30();
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != (int *)DAT_017244dc[1]);
    }
    *(undefined1 *)(piVar7 + 7) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004cf8c0 : PUSH EBP
004cf8c1 : MOV EBP,ESP
004cf8c3 : PUSH -0x1
004cf8c5 : PUSH 0xb7c7a8
004cf8ca : MOV EAX,FS:[0x0]
004cf8d0 : PUSH EAX
004cf8d1 : SUB ESP,0x4c
004cf8d4 : PUSH EBX
004cf8d5 : PUSH ESI
004cf8d6 : PUSH EDI
004cf8d7 : MOV EAX,[0x00d66fa0]
004cf8dc : XOR EAX,EBP
004cf8de : PUSH EAX
004cf8df : LEA EAX,[EBP + -0xc]
004cf8e2 : MOV FS:[0x0],EAX
004cf8e8 : MOV EAX,dword ptr [EBP + 0xc]
004cf8eb : CMP byte ptr [EAX + 0x1d],0x0
004cf8ef : JZ 0x004cf92d
004cf8f1 : PUSH 0x1b
004cf8f3 : XOR ESI,ESI
004cf8f5 : PUSH 0xcca4a8
004cf8fa : LEA ECX,[EBP + -0x2c]
004cf8fd : MOV dword ptr [EBP + -0x14],0xf
004cf904 : MOV dword ptr [EBP + -0x18],ESI
004cf907 : MOV byte ptr [EBP + -0x28],0x0
004cf90b : CALL 0x00404b50
004cf910 : MOV dword ptr [EBP + -0x4],ESI
004cf913 : LEA EAX,[EBP + -0x2c]
004cf916 : PUSH EAX
004cf917 : LEA ECX,[EBP + -0x54]
004cf91a : CALL 0x00403c10
004cf91f : PUSH 0xced890
004cf924 : LEA ECX,[EBP + -0x54]
004cf927 : PUSH ECX
004cf928 : CALL 0x006409eb
004cf92d : MOV EBX,EAX
004cf92f : LEA EDX,[EBP + 0xc]
004cf932 : MOV dword ptr [EBP + -0x10],EBX
004cf935 : CALL 0x004192a0
004cf93a : MOV ECX,dword ptr [EBX]
004cf93c : CMP byte ptr [ECX + 0x1d],0x0
004cf940 : JZ 0x004cf947
004cf942 : MOV EDI,dword ptr [EBX + 0x8]
004cf945 : JMP 0x004cf965
004cf947 : MOV EDX,dword ptr [EBX + 0x8]
004cf94a : CMP byte ptr [EDX + 0x1d],0x0
004cf94e : JZ 0x004cf954
004cf950 : MOV EDI,ECX
004cf952 : JMP 0x004cf965
004cf954 : MOV EAX,dword ptr [EBP + 0xc]
004cf957 : MOV EDI,dword ptr [EAX + 0x8]
004cf95a : LEA EDX,[EAX + 0x8]
004cf95d : CMP EAX,EBX
004cf95f : JNZ 0x004cf9ef
004cf965 : CMP byte ptr [EDI + 0x1d],0x0
004cf969 : MOV ESI,dword ptr [EBX + 0x4]
004cf96c : JNZ 0x004cf971
004cf96e : MOV dword ptr [EDI + 0x4],ESI
004cf971 : MOV EAX,[0x017244dc]
004cf976 : CMP dword ptr [EAX + 0x4],EBX
004cf979 : JNZ 0x004cf980
004cf97b : MOV dword ptr [EAX + 0x4],EDI
004cf97e : JMP 0x004cf98b
004cf980 : CMP dword ptr [ESI],EBX
004cf982 : JNZ 0x004cf988
004cf984 : MOV dword ptr [ESI],EDI
004cf986 : JMP 0x004cf98b
004cf988 : MOV dword ptr [ESI + 0x8],EDI
004cf98b : MOV EDX,dword ptr [0x017244dc]
004cf991 : CMP dword ptr [EDX],EBX
004cf993 : JNZ 0x004cf9bc
004cf995 : CMP byte ptr [EDI + 0x1d],0x0
004cf999 : JZ 0x004cf99f
004cf99b : MOV ECX,ESI
004cf99d : JMP 0x004cf9ba
004cf99f : MOV EAX,dword ptr [EDI]
004cf9a1 : CMP byte ptr [EAX + 0x1d],0x0
004cf9a5 : MOV ECX,EDI
004cf9a7 : JNZ 0x004cf9ba
004cf9a9 : LEA ESP,[ESP]
004cf9b0 : MOV ECX,EAX
004cf9b2 : MOV EAX,dword ptr [ECX]
004cf9b4 : CMP byte ptr [EAX + 0x1d],0x0
004cf9b8 : JZ 0x004cf9b0
004cf9ba : MOV dword ptr [EDX],ECX
004cf9bc : MOV EAX,[0x017244dc]
004cf9c1 : CMP dword ptr [EAX + 0x8],EBX
004cf9c4 : JNZ 0x004cfa4e
004cf9ca : CMP byte ptr [EDI + 0x1d],0x0
004cf9ce : JZ 0x004cf9dd
004cf9d0 : MOV ECX,dword ptr [0x017244dc]
004cf9d6 : MOV EAX,ESI
004cf9d8 : MOV dword ptr [ECX + 0x8],EAX
004cf9db : JMP 0x004cfa4e
004cf9dd : MOV EAX,EDI
004cf9df : CALL 0x00440bb0
004cf9e4 : MOV ECX,dword ptr [0x017244dc]
004cf9ea : MOV dword ptr [ECX + 0x8],EAX
004cf9ed : JMP 0x004cfa4e
004cf9ef : MOV dword ptr [ECX + 0x4],EAX
004cf9f2 : MOV ECX,dword ptr [EBX]
004cf9f4 : MOV dword ptr [EAX],ECX
004cf9f6 : CMP EAX,dword ptr [EBX + 0x8]
004cf9f9 : JNZ 0x004cf9ff
004cf9fb : MOV ESI,EAX
004cf9fd : JMP 0x004cfa18
004cf9ff : CMP byte ptr [EDI + 0x1d],0x0
004cfa03 : MOV ESI,dword ptr [EAX + 0x4]
004cfa06 : JNZ 0x004cfa0b
004cfa08 : MOV dword ptr [EDI + 0x4],ESI
004cfa0b : MOV dword ptr [ESI],EDI
004cfa0d : MOV ECX,dword ptr [EBX + 0x8]
004cfa10 : MOV dword ptr [EDX],ECX
004cfa12 : MOV EDX,dword ptr [EBX + 0x8]
004cfa15 : MOV dword ptr [EDX + 0x4],EAX
004cfa18 : MOV ECX,dword ptr [0x017244dc]
004cfa1e : CMP dword ptr [ECX + 0x4],EBX
004cfa21 : JNZ 0x004cfa28
004cfa23 : MOV dword ptr [ECX + 0x4],EAX
004cfa26 : JMP 0x004cfa36
004cfa28 : MOV ECX,dword ptr [EBX + 0x4]
004cfa2b : CMP dword ptr [ECX],EBX
004cfa2d : JNZ 0x004cfa33
004cfa2f : MOV dword ptr [ECX],EAX
004cfa31 : JMP 0x004cfa36
004cfa33 : MOV dword ptr [ECX + 0x8],EAX
004cfa36 : MOV ECX,dword ptr [EBX + 0x4]
004cfa39 : MOV dword ptr [EAX + 0x4],ECX
004cfa3c : LEA ECX,[EBX + 0x1c]
004cfa3f : ADD EAX,0x1c
004cfa42 : CMP EAX,ECX
004cfa44 : JZ 0x004cfa4e
004cfa46 : MOV BL,byte ptr [ECX]
004cfa48 : MOV DL,byte ptr [EAX]
004cfa4a : MOV byte ptr [EAX],BL
004cfa4c : MOV byte ptr [ECX],DL
004cfa4e : MOV EDX,dword ptr [EBP + -0x10]
004cfa51 : MOV EBX,0x1
004cfa56 : CMP byte ptr [EDX + 0x1c],BL
004cfa59 : JNZ 0x004cfb54
004cfa5f : MOV EAX,[0x017244dc]
004cfa64 : CMP EDI,dword ptr [EAX + 0x4]
004cfa67 : JZ 0x004cfb51
004cfa6d : LEA ECX,[ECX]
004cfa70 : CMP byte ptr [EDI + 0x1c],BL
004cfa73 : JNZ 0x004cfb51
004cfa79 : MOV ECX,dword ptr [ESI]
004cfa7b : CMP EDI,ECX
004cfa7d : JNZ 0x004cfadf
004cfa7f : MOV ECX,dword ptr [ESI + 0x8]
004cfa82 : CMP byte ptr [ECX + 0x1c],0x0
004cfa86 : JNZ 0x004cfa99
004cfa88 : MOV byte ptr [ECX + 0x1c],BL
004cfa8b : MOV ECX,ESI
004cfa8d : MOV byte ptr [ESI + 0x1c],0x0
004cfa91 : CALL 0x004cfee0
004cfa96 : MOV ECX,dword ptr [ESI + 0x8]
004cfa99 : CMP byte ptr [ECX + 0x1d],0x0
004cfa9d : JNZ 0x004cfb0e
004cfa9f : MOV EDX,dword ptr [ECX]
004cfaa1 : CMP byte ptr [EDX + 0x1c],BL
004cfaa4 : JNZ 0x004cfaae
004cfaa6 : MOV EAX,dword ptr [ECX + 0x8]
004cfaa9 : CMP byte ptr [EAX + 0x1c],BL
004cfaac : JZ 0x004cfb0a
004cfaae : MOV EDX,dword ptr [ECX + 0x8]
004cfab1 : CMP byte ptr [EDX + 0x1c],BL
004cfab4 : JNZ 0x004cfac7
004cfab6 : MOV EAX,dword ptr [ECX]
004cfab8 : MOV byte ptr [EAX + 0x1c],BL
004cfabb : MOV byte ptr [ECX + 0x1c],0x0
004cfabf : CALL 0x004cff30
004cfac4 : MOV ECX,dword ptr [ESI + 0x8]
004cfac7 : MOV DL,byte ptr [ESI + 0x1c]
004cfaca : MOV byte ptr [ECX + 0x1c],DL
004cfacd : MOV byte ptr [ESI + 0x1c],BL
004cfad0 : MOV EAX,dword ptr [ECX + 0x8]
004cfad3 : MOV ECX,ESI
004cfad5 : MOV byte ptr [EAX + 0x1c],BL
004cfad8 : CALL 0x004cfee0
004cfadd : JMP 0x004cfb51
004cfadf : CMP byte ptr [ECX + 0x1c],0x0
004cfae3 : JNZ 0x004cfaf5
004cfae5 : MOV byte ptr [ECX + 0x1c],BL
004cfae8 : MOV ECX,ESI
004cfaea : MOV byte ptr [ESI + 0x1c],0x0
004cfaee : CALL 0x004cff30
004cfaf3 : MOV ECX,dword ptr [ESI]
004cfaf5 : CMP byte ptr [ECX + 0x1d],0x0
004cfaf9 : JNZ 0x004cfb0e
004cfafb : MOV EDX,dword ptr [ECX + 0x8]
004cfafe : CMP byte ptr [EDX + 0x1c],BL
004cfb01 : JNZ 0x004cfb24
004cfb03 : MOV EAX,dword ptr [ECX]
004cfb05 : CMP byte ptr [EAX + 0x1c],BL
004cfb08 : JNZ 0x004cfb24
004cfb0a : MOV byte ptr [ECX + 0x1c],0x0
004cfb0e : MOV ECX,dword ptr [0x017244dc]
004cfb14 : MOV EDI,ESI
004cfb16 : MOV ESI,dword ptr [ESI + 0x4]
004cfb19 : CMP EDI,dword ptr [ECX + 0x4]
004cfb1c : JNZ 0x004cfa70
004cfb22 : JMP 0x004cfb51
004cfb24 : MOV EDX,dword ptr [ECX]
004cfb26 : CMP byte ptr [EDX + 0x1c],BL
004cfb29 : JNZ 0x004cfb3c
004cfb2b : MOV EAX,dword ptr [ECX + 0x8]
004cfb2e : MOV byte ptr [EAX + 0x1c],BL
004cfb31 : MOV byte ptr [ECX + 0x1c],0x0
004cfb35 : CALL 0x004cfee0
004cfb3a : MOV ECX,dword ptr [ESI]
004cfb3c : MOV DL,byte ptr [ESI + 0x1c]
004cfb3f : MOV byte ptr [ECX + 0x1c],DL
004cfb42 : MOV byte ptr [ESI + 0x1c],BL
004cfb45 : MOV EAX,dword ptr [ECX]
004cfb47 : MOV ECX,ESI
004cfb49 : MOV byte ptr [EAX + 0x1c],BL
004cfb4c : CALL 0x004cff30
004cfb51 : MOV byte ptr [EDI + 0x1c],BL
004cfb54 : MOV ECX,dword ptr [EBP + -0x10]
004cfb57 : CALL 0x006f04e0
