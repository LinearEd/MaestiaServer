PROGRAM  : Maestia.exe
FUNCTION : FUN_00a2b930
ENTRY    : 00a2b930
BODY     : [[00a2b930, 00a2bb09]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a2b930(int param_1,float param_2)

{
  int *piVar1;
  int iVar2;
  char cVar3;
  float *pfVar4;
  int iVar5;
  float10 fVar6;
  undefined1 local_48 [12];
  undefined1 local_3c [12];
  float local_30;
  undefined4 local_2c;
  undefined4 local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  float local_10;
  float local_c;
  float local_8;
  
  iVar2 = param_1;
  local_2c = 0;
  local_28 = 0;
  local_30 = *(float *)(DAT_017248cc + 4) * param_2 * -0.05;
  FUN_007f2b50();
  pfVar4 = (float *)(**(code **)(**(int **)(iVar2 + 0x78) + 0x14))();
  local_14 = pfVar4[1];
  local_10 = pfVar4[2];
  local_18 = *pfVar4;
  piVar1 = *(int **)(iVar2 + 0x78);
  iVar5 = *(int *)(*(int *)(iVar2 + 0xac) + 1000);
  local_24 = *(float *)(iVar5 + 0x68);
  local_20 = *(float *)(iVar5 + 0x6c);
  local_1c = *(float *)(iVar5 + 0x70);
  pfVar4 = (float *)(**(code **)(*piVar1 + 8))(local_3c);
  local_c = *pfVar4;
  iVar5 = (**(code **)(*piVar1 + 8))(local_48);
  local_8 = *(float *)(iVar5 + 8);
  iVar5 = *(int *)(iVar2 + 0xac);
  *(float *)(iVar5 + 0x3b8) = local_c;
  *(float *)(iVar5 + 0x3bc) = local_8;
  fVar6 = (float10)FUN_0040f460((local_10 - local_1c) * (local_10 - local_1c) +
                                (local_14 - local_20) * (local_14 - local_20) +
                                (local_18 - local_24) * (local_18 - local_24));
  if ((float10)700.0 < fVar6) {
    FUN_00a2a580(&local_18);
    (**(code **)(**(int **)(iVar2 + 0x74) + 0xc))(&local_18);
    (**(code **)(**(int **)(iVar2 + 0x74) + 0x10))(&local_18);
    return;
  }
  param_1 = 0;
  iVar5 = FUN_007df230(local_18,local_10);
  if (iVar5 != 0) {
    local_c = local_18;
    local_8 = local_10;
    cVar3 = FUN_007ac0b0(iVar5,&local_c,&param_1,0,0);
    if (cVar3 != '\0') {
      local_14 = (float)param_1;
      (**(code **)(**(int **)(iVar2 + 0xac) + 0x2a0))(&local_18,1);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a2b930 : PUSH EBP
00a2b931 : MOV EBP,ESP
00a2b933 : SUB ESP,0x44
00a2b936 : XORPS XMM0,XMM0
00a2b939 : MOV EAX,[0x017248cc]
00a2b93e : PUSH EBX
00a2b93f : MOV EBX,dword ptr [EBP + 0x8]
00a2b942 : MOVSS dword ptr [EBP + -0x28],XMM0
00a2b947 : MOVSS dword ptr [EBP + -0x24],XMM0
00a2b94c : MOVSS XMM0,dword ptr [EAX + 0x4]
00a2b951 : MULSS XMM0,dword ptr [EBP + 0xc]
00a2b956 : MULSS XMM0,dword ptr [0x00cdf3b4]
00a2b95e : PUSH ESI
00a2b95f : MOV ESI,dword ptr [EBX + 0x78]
00a2b962 : PUSH EDI
00a2b963 : LEA EDI,[EBP + -0x2c]
00a2b966 : MOVSS dword ptr [EBP + -0x2c],XMM0
00a2b96b : CALL 0x007f2b50
00a2b970 : MOV ECX,dword ptr [EBX + 0x78]
00a2b973 : MOV EDX,dword ptr [ECX]
00a2b975 : MOV EAX,dword ptr [EDX + 0x14]
00a2b978 : CALL EAX
00a2b97a : MOVSS XMM0,dword ptr [EAX + 0x4]
00a2b97f : MOVSS XMM1,dword ptr [EAX + 0x8]
00a2b984 : MOVSS XMM2,dword ptr [EAX]
00a2b988 : MOV ECX,dword ptr [EBX + 0xac]
00a2b98e : MOV ESI,dword ptr [EBX + 0x78]
00a2b991 : MOVSS dword ptr [EBP + -0x14],XMM2
00a2b996 : MOVSS dword ptr [EBP + -0x10],XMM0
00a2b99b : MOVSS dword ptr [EBP + -0xc],XMM1
00a2b9a0 : MOV EAX,dword ptr [ECX + 0x3e8]
00a2b9a6 : MOVSS XMM0,dword ptr [EAX + 0x68]
00a2b9ab : MOV EDX,dword ptr [ESI]
00a2b9ad : MOV EDX,dword ptr [EDX + 0x8]
00a2b9b0 : ADD EAX,0x68
00a2b9b3 : MOVSS dword ptr [EBP + -0x20],XMM0
00a2b9b8 : MOVSS XMM0,dword ptr [EAX + 0x4]
00a2b9bd : MOVSS dword ptr [EBP + -0x1c],XMM0
00a2b9c2 : MOVSS XMM0,dword ptr [EAX + 0x8]
00a2b9c7 : LEA EAX,[EBP + -0x38]
00a2b9ca : PUSH EAX
00a2b9cb : MOV ECX,ESI
00a2b9cd : MOVSS dword ptr [EBP + -0x18],XMM0
00a2b9d2 : CALL EDX
00a2b9d4 : MOVSS XMM0,dword ptr [EAX]
00a2b9d8 : MOV EAX,dword ptr [ESI]
00a2b9da : MOV EDX,dword ptr [EAX + 0x8]
00a2b9dd : LEA ECX,[EBP + -0x44]
00a2b9e0 : PUSH ECX
00a2b9e1 : MOV ECX,ESI
00a2b9e3 : MOVSS dword ptr [EBP + -0x8],XMM0
00a2b9e8 : CALL EDX
00a2b9ea : MOVSS XMM0,dword ptr [EAX + 0x8]
00a2b9ef : MOV EAX,dword ptr [EBX + 0xac]
00a2b9f5 : MOV ECX,dword ptr [EBP + -0x8]
00a2b9f8 : MOVSS dword ptr [EBP + -0x4],XMM0
00a2b9fd : MOV EDX,dword ptr [EBP + -0x4]
00a2ba00 : MOV dword ptr [EAX + 0x3b8],ECX
00a2ba06 : MOV dword ptr [EAX + 0x3bc],EDX
00a2ba0c : MOVSS XMM2,dword ptr [EBP + -0xc]
00a2ba11 : SUBSS XMM2,dword ptr [EBP + -0x18]
00a2ba16 : MOVSS XMM1,dword ptr [EBP + -0x10]
00a2ba1b : SUBSS XMM1,dword ptr [EBP + -0x1c]
00a2ba20 : MOVSS XMM0,dword ptr [EBP + -0x14]
00a2ba25 : SUBSS XMM0,dword ptr [EBP + -0x20]
00a2ba2a : MOVAPS XMM3,XMM2
00a2ba2d : MULSS XMM3,XMM2
00a2ba31 : MOVAPS XMM2,XMM1
00a2ba34 : MULSS XMM2,XMM1
00a2ba38 : MOVAPS XMM1,XMM0
00a2ba3b : ADDSS XMM3,XMM2
00a2ba3f : MULSS XMM1,XMM0
00a2ba43 : PUSH ECX
00a2ba44 : ADDSS XMM3,XMM1
00a2ba48 : MOVSS dword ptr [ESP],XMM3
00a2ba4d : CALL 0x0040f460
00a2ba52 : FLD float ptr [0x00cdf64c]
00a2ba58 : FXCH
00a2ba5a : ADD ESP,0x4
00a2ba5d : FCOMIP ST0,ST1
00a2ba5f : FSTP ST0
00a2ba61 : JBE 0x00a2ba93
00a2ba63 : LEA EAX,[EBP + -0x14]
00a2ba66 : PUSH EAX
00a2ba67 : MOV ECX,EBX
00a2ba69 : CALL 0x00a2a580
00a2ba6e : MOV ECX,dword ptr [EBX + 0x74]
00a2ba71 : MOV EDX,dword ptr [ECX]
00a2ba73 : MOV EDX,dword ptr [EDX + 0xc]
00a2ba76 : LEA EAX,[EBP + -0x14]
00a2ba79 : PUSH EAX
00a2ba7a : CALL EDX
00a2ba7c : MOV ECX,dword ptr [EBX + 0x74]
00a2ba7f : MOV EAX,dword ptr [ECX]
00a2ba81 : MOV EAX,dword ptr [EAX + 0x10]
00a2ba84 : LEA EDX,[EBP + -0x14]
00a2ba87 : PUSH EDX
00a2ba88 : CALL EAX
00a2ba8a : POP EDI
00a2ba8b : POP ESI
00a2ba8c : POP EBX
00a2ba8d : MOV ESP,EBP
00a2ba8f : POP EBP
00a2ba90 : RET 0x8
00a2ba93 : FLD float ptr [EBP + -0xc]
00a2ba96 : XORPS XMM0,XMM0
00a2ba99 : MOV EDI,dword ptr [EBX + 0xc]
00a2ba9c : SUB ESP,0x8
00a2ba9f : FSTP float ptr [ESP + 0x4]
00a2baa3 : MOVSS dword ptr [EBP + 0x8],XMM0
00a2baa8 : FLD float ptr [EBP + -0x14]
00a2baab : FSTP float ptr [ESP]
00a2baae : CALL 0x007df230
00a2bab3 : TEST EAX,EAX
00a2bab5 : JZ 0x00a2bb01
00a2bab7 : MOVSS XMM0,dword ptr [EBP + -0x14]
00a2babc : PUSH 0x0
00a2babe : PUSH 0x0
00a2bac0 : LEA ECX,[EBP + 0x8]
00a2bac3 : PUSH ECX
00a2bac4 : LEA EDX,[EBP + -0x8]
00a2bac7 : PUSH EDX
00a2bac8 : MOVSS dword ptr [EBP + -0x8],XMM0
00a2bacd : MOVSS XMM0,dword ptr [EBP + -0xc]
00a2bad2 : PUSH EAX
00a2bad3 : MOVSS dword ptr [EBP + -0x4],XMM0
00a2bad8 : CALL 0x007ac0b0
00a2badd : TEST AL,AL
00a2badf : JZ 0x00a2bb01
00a2bae1 : MOVSS XMM0,dword ptr [EBP + 0x8]
00a2bae6 : MOV ECX,dword ptr [EBX + 0xac]
00a2baec : MOVSS dword ptr [EBP + -0x10],XMM0
00a2baf1 : MOV EAX,dword ptr [ECX]
00a2baf3 : MOV EAX,dword ptr [EAX + 0x2a0]
00a2baf9 : PUSH 0x1
00a2bafb : LEA EDX,[EBP + -0x14]
00a2bafe : PUSH EDX
00a2baff : CALL EAX
00a2bb01 : POP EDI
00a2bb02 : POP ESI
00a2bb03 : POP EBX
00a2bb04 : MOV ESP,EBP
00a2bb06 : POP EBP
00a2bb07 : RET 0x8
