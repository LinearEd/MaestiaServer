PROGRAM  : Maestia.exe
FUNCTION : FUN_009272f0
ENTRY    : 009272f0
BODY     : [[009272f0, 0092774d]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x009274c8) */
/* WARNING: Removing unreachable block (ram,0x00927450) */

void FUN_009272f0(int *param_1,int param_2)

{
  uint uVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  uint uStack_60;
  void *pvStack_20;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b52efc;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (param_2 == 0) {
    FUN_008018d0();
    ExceptionList = local_14;
    return;
  }
  (**(code **)(*param_1 + 0x94))();
  FUN_00926560();
  FUN_00405eb0(param_1 + 0x28,0,0xffffffff);
  FUN_008f75f0();
  FUN_00405eb0();
  if (uStack_60 < 8) {
    if (param_1[0x1b] != 0) {
      param_1[0x37] = 0;
    }
    if (param_1[0x3a] == 0) {
      iVar3 = FUN_004049b0();
      if (iVar3 == 0) {
        FUN_008018d0();
        ExceptionList = pvStack_20;
        return;
      }
      *(undefined2 *)(param_1 + 0x1e) = *(undefined2 *)(iVar3 + 0x180);
      iVar4 = FUN_00703c00();
      if (iVar4 == 0) {
        FUN_00406460();
        FUN_0081d120();
        FUN_00404750();
        FUN_00405eb0();
        FUN_00406560();
        FUN_00406560();
        FUN_00406560();
        *(undefined4 *)(iVar3 + 0x17c) = 0;
      }
      else {
        FUN_00824a20();
        FUN_00405eb0();
        FUN_00406560();
      }
      FUN_0070c2d0();
      FUN_00405eb0();
      FUN_00406560();
      param_1[0x20] = (uint)(*(int *)(iVar3 + 0x17c) != 0);
      *(undefined1 *)(param_1 + 0x39) = *(undefined1 *)(iVar3 + 0x65e);
    }
    else {
      *(undefined2 *)(param_1 + 0x1e) = 2;
      FUN_0070c2d0();
      FUN_00405eb0();
      uVar1 = param_1[0x37];
      param_1[0x37] = uVar1 + 1;
      param_1[0x20] = (uint)(uVar1 < 10);
      FUN_00404750();
      FUN_00405eb0();
      *(undefined1 *)(param_1 + 0x39) = 4;
    }
    param_1[0x17] = *(int *)(param_2 + 0xc);
    param_1[0x18] = *(int *)(param_2 + 0x10);
    if (param_1[0x1b] != 0) {
      FUN_00926200();
      if ((*DAT_00da9894 != 0) && (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0))
      {
        (**(code **)(*piVar2 + 4))();
      }
      *(undefined1 *)(param_1 + 0x36) = 2;
    }
    if ((*DAT_00da9894 != 0) && (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
      (**(code **)(*piVar2 + 4))();
    }
    param_1[0x19] = 1;
    ExceptionList = pvStack_20;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
009272f0 : PUSH EBP
009272f1 : MOV EBP,ESP
009272f3 : AND ESP,0xfffffff8
009272f6 : PUSH -0x1
009272f8 : PUSH 0xb52efc
009272fd : MOV EAX,FS:[0x0]
00927303 : PUSH EAX
00927304 : SUB ESP,0x60
00927307 : PUSH EBX
00927308 : PUSH ESI
00927309 : PUSH EDI
0092730a : MOV EAX,[0x00d66fa0]
0092730f : XOR EAX,ESP
00927311 : PUSH EAX
00927312 : LEA EAX,[ESP + 0x70]
00927316 : MOV FS:[0x0],EAX
0092731c : MOV EBX,dword ptr [EBP + 0x8]
0092731f : MOV ESI,dword ptr [EBP + 0xc]
00927322 : TEST ESI,ESI
00927324 : JNZ 0x0092734e
00927326 : MOV ESI,dword ptr [0x00da98e8]
0092732c : PUSH 0xc6b1c0
00927331 : CALL 0x008018d0
00927336 : ADD ESP,0x4
00927339 : MOV ECX,dword ptr [ESP + 0x70]
0092733d : MOV dword ptr FS:[0x0],ECX
00927344 : POP ECX
00927345 : POP EDI
00927346 : POP ESI
00927347 : POP EBX
00927348 : MOV ESP,EBP
0092734a : POP EBP
0092734b : RET 0x8
0092734e : MOV EAX,dword ptr [EBX]
00927350 : MOV EDX,dword ptr [EAX + 0x94]
00927356 : PUSH 0x0
00927358 : PUSH 0x0
0092735a : PUSH ESI
0092735b : MOV ECX,EBX
0092735d : CALL EDX
0092735f : MOV ECX,dword ptr [ESI + 0x10]
00927362 : LEA EDI,[EBX + 0xa0]
00927368 : CALL 0x00926560
0092736d : SUB ESP,0x1c
00927370 : MOV ECX,ESP
00927372 : MOV dword ptr [ESP + 0x30],ESP
00927376 : XOR EAX,EAX
00927378 : PUSH -0x1
0092737a : PUSH EAX
0092737b : MOV dword ptr [ECX + 0x18],0x7
00927382 : MOV dword ptr [ECX + 0x14],0x0
00927389 : PUSH EDI
0092738a : MOV word ptr [ECX + 0x4],AX
0092738e : CALL 0x00405eb0
00927393 : MOV dword ptr [ESP + 0x94],0x0
0092739e : MOV dword ptr [ESP + 0x94],0xffffffff
009273a9 : LEA ECX,[ESP + 0x34]
009273ad : CALL 0x008f75f0
009273b2 : ADD ESP,0x1c
009273b5 : MOV dword ptr [ESP + 0x78],0x1
009273bd : PUSH -0x1
009273bf : PUSH 0x0
009273c1 : PUSH EAX
009273c2 : MOV ECX,EDI
009273c4 : CALL 0x00405eb0
009273c9 : MOV dword ptr [ESP + 0x78],0xffffffff
009273d1 : CMP dword ptr [ESP + 0x30],0x8
009273d6 : JC 0x009273e1
009273d8 : MOV ECX,dword ptr [ESP + 0x1c]
009273dc : CALL 0x006f04e0
009273e1 : XOR EDI,EDI
009273e3 : XOR ECX,ECX
009273e5 : MOV dword ptr [ESP + 0x30],0x7
009273ed : MOV dword ptr [ESP + 0x2c],EDI
009273f1 : MOV word ptr [ESP + 0x1c],CX
009273f6 : CMP dword ptr [EBX + 0x6c],EDI
009273f9 : JZ 0x00927401
009273fb : MOV dword ptr [EBX + 0xdc],EDI
00927401 : CMP dword ptr [EBX + 0xe8],EDI
00927407 : JZ 0x009274f4
0092740d : MOV EAX,dword ptr [EBX + 0xec]
00927413 : MOV EDX,0x2
00927418 : PUSH EDI
00927419 : PUSH EAX
0092741a : LEA ECX,[ESP + 0x20]
0092741e : MOV word ptr [EBX + 0x78],DX
00927422 : CALL 0x0070c2d0
00927427 : ADD ESP,0x8
0092742a : MOV dword ptr [ESP + 0x78],0x2
00927432 : PUSH -0x1
00927434 : PUSH EDI
00927435 : PUSH EAX
00927436 : LEA ECX,[EBX + 0xbc]
0092743c : CALL 0x00405eb0
00927441 : MOV dword ptr [ESP + 0x78],0xffffffff
00927449 : CMP dword ptr [ESP + 0x30],0x8
0092744e : JC 0x00927459
00927450 : MOV ECX,dword ptr [ESP + 0x1c]
00927454 : CALL 0x006f04e0
00927459 : MOV EAX,dword ptr [EBX + 0xdc]
0092745f : XOR ECX,ECX
00927461 : MOV word ptr [ESP + 0x1c],CX
00927466 : LEA ECX,[EAX + 0x1]
00927469 : MOV dword ptr [ESP + 0x30],0x7
00927471 : MOV dword ptr [ESP + 0x2c],EDI
00927475 : MOV dword ptr [EBX + 0xdc],ECX
0092747b : CMP EAX,0xa
0092747e : JNC 0x00927487
00927480 : MOV EAX,0x1
00927485 : JMP 0x00927489
00927487 : XOR EAX,EAX
00927489 : PUSH ECX
0092748a : PUSH 0xc6b0e4
0092748f : LEA ESI,[ESP + 0x20]
00927493 : MOV dword ptr [EBX + 0x80],EAX
00927499 : CALL 0x00404750
0092749e : ADD ESP,0x8
009274a1 : MOV dword ptr [ESP + 0x78],0x3
009274a9 : PUSH -0x1
009274ab : PUSH 0x0
009274ad : PUSH EAX
009274ae : LEA ECX,[EBX + 0x84]
009274b4 : CALL 0x00405eb0
009274b9 : MOV dword ptr [ESP + 0x78],0xffffffff
009274c1 : CMP dword ptr [ESP + 0x30],0x8
009274c6 : JC 0x009274d1
009274c8 : MOV ECX,dword ptr [ESP + 0x1c]
009274cc : CALL 0x006f04e0
009274d1 : XOR EDX,EDX
009274d3 : MOV dword ptr [ESP + 0x30],0x7
009274db : MOV dword ptr [ESP + 0x2c],0x0
009274e3 : MOV word ptr [ESP + 0x1c],DX
009274e8 : MOV byte ptr [EBX + 0xe4],0x4
009274ef : JMP 0x00927690
009274f4 : MOV ESI,dword ptr [ESI + 0x10]
009274f7 : PUSH ESI
009274f8 : CALL 0x004049b0
009274fd : ADD ESP,0x4
00927500 : MOV dword ptr [ESP + 0x14],EAX
00927504 : CMP EAX,EDI
00927506 : JNZ 0x00927531
00927508 : PUSH ESI
00927509 : MOV ESI,dword ptr [0x00da98e8]
0092750f : PUSH 0xc6b220
00927514 : CALL 0x008018d0
00927519 : ADD ESP,0x8
0092751c : MOV ECX,dword ptr [ESP + 0x70]
00927520 : MOV dword ptr FS:[0x0],ECX
00927527 : POP ECX
00927528 : POP EDI
00927529 : POP ESI
0092752a : POP EBX
0092752b : MOV ESP,EBP
0092752d : POP EBP
0092752e : RET 0x8
00927531 : MOV CX,word ptr [EAX + 0x180]
00927538 : MOV word ptr [EBX + 0x78],CX
0092753c : MOV DI,word ptr [EAX + 0x184]
00927543 : PUSH 0x600
00927548 : CALL 0x00703c00
0092754d : ADD ESP,0x4
00927550 : TEST EAX,EAX
00927552 : JZ 0x00927598
00927554 : LEA EDX,[EAX + 0x18]
00927557 : MOV EAX,[0x0172491c]
0092755c : PUSH 0x0
0092755e : PUSH EAX
0092755f : LEA ESI,[ESP + 0x20]
00927563 : CALL 0x00824a20
00927568 : MOV dword ptr [ESP + 0x78],0x4
00927570 : PUSH -0x1
00927572 : PUSH 0x0
00927574 : PUSH EAX
00927575 : LEA ECX,[EBX + 0x84]
0092757b : CALL 0x00405eb0
00927580 : MOV dword ptr [ESP + 0x78],0xffffffff
00927588 : MOV ECX,ESI
0092758a : CALL 0x00406560
0092758f : MOV ESI,dword ptr [ESP + 0x14]
00927593 : JMP 0x00927635
00927598 : PUSH 0xc6b29c
0092759d : LEA ECX,[ESP + 0x1c]
009275a1 : CALL 0x00406460
009275a6 : MOV dword ptr [ESP + 0x78],0x5
009275ae : LEA ECX,[ESP + 0x18]
009275b2 : PUSH ECX
009275b3 : MOV ECX,dword ptr [0x0172491c]
009275b9 : LEA EDI,[ESP + 0x54]
009275bd : CALL 0x0081d120
009275c2 : MOV byte ptr [ESP + 0x78],0x6
009275c7 : CMP dword ptr [EAX + 0x18],0x8
009275cb : JC 0x009275d2
009275cd : MOV EAX,dword ptr [EAX + 0x4]
009275d0 : JMP 0x009275d5
009275d2 : ADD EAX,0x4
009275d5 : PUSH EAX
009275d6 : PUSH 0xc6b2b0
009275db : LEA ESI,[ESP + 0x3c]
009275df : CALL 0x00404750
009275e4 : ADD ESP,0x8
009275e7 : MOV byte ptr [ESP + 0x78],0x7
009275ec : PUSH -0x1
009275ee : PUSH 0x0
009275f0 : PUSH EAX
009275f1 : LEA ECX,[EBX + 0x84]
009275f7 : CALL 0x00405eb0
009275fc : MOV byte ptr [ESP + 0x78],0x6
00927601 : MOV ECX,ESI
00927603 : CALL 0x00406560
00927608 : MOV byte ptr [ESP + 0x78],0x5
0092760d : LEA ECX,[ESP + 0x50]
00927611 : CALL 0x00406560
00927616 : MOV dword ptr [ESP + 0x78],0xffffffff
0092761e : LEA ECX,[ESP + 0x18]
00927622 : CALL 0x00406560
00927627 : MOV ESI,dword ptr [ESP + 0x14]
0092762b : MOV dword ptr [ESI + 0x17c],0x0
00927635 : MOV EDX,dword ptr [ESI + 0x17c]
0092763b : PUSH 0x0
0092763d : PUSH EDX
0092763e : LEA ECX,[ESP + 0x58]
00927642 : CALL 0x0070c2d0
00927647 : ADD ESP,0x8
0092764a : MOV dword ptr [ESP + 0x78],0x8
00927652 : PUSH -0x1
00927654 : PUSH 0x0
00927656 : PUSH EAX
00927657 : LEA ECX,[EBX + 0xbc]
0092765d : CALL 0x00405eb0
00927662 : MOV dword ptr [ESP + 0x78],0xffffffff
0092766a : LEA ECX,[ESP + 0x50]
0092766e : CALL 0x00406560
00927673 : XOR EAX,EAX
00927675 : CMP dword ptr [ESI + 0x17c],EAX
0092767b : SETNZ AL
0092767e : MOV dword ptr [EBX + 0x80],EAX
00927684 : MOV CL,byte ptr [ESI + 0x65e]
0092768a : MOV byte ptr [EBX + 0xe4],CL
00927690 : CMP dword ptr [EBX + 0x6c],0x0
00927694 : MOV EAX,dword ptr [EBP + 0xc]
00927697 : MOV EDX,dword ptr [EAX + 0xc]
0092769a : MOV dword ptr [EBX + 0x5c],EDX
0092769d : MOV EAX,dword ptr [EAX + 0x10]
009276a0 : MOV dword ptr [EBX + 0x60],EAX
009276a3 : JZ 0x009276ef
009276a5 : MOVZX ECX,byte ptr [EBX + 0xe4]
009276ac : PUSH ECX
009276ad : MOV ECX,EBX
009276af : CALL 0x00926200
009276b4 : MOV EDX,dword ptr [0x00da9894]
009276ba : MOV EAX,dword ptr [EDX]
009276bc : TEST EAX,EAX
009276be : JZ 0x009276e8
009276c0 : MOV EAX,dword ptr [EAX + 0x114]
009276c6 : TEST EAX,EAX
009276c8 : JZ 0x009276e8
009276ca : MOV EDX,dword ptr [EBX + 0xe8]
009276d0 : MOV ECX,dword ptr [EAX]
009276d2 : PUSH EDX
009276d3 : PUSH 0x2
009276d5 : PUSH 0xc6b2b8
009276da : PUSH 0xc6b2c0
009276df : PUSH EAX
009276e0 : MOV EAX,dword ptr [ECX + 0x4]
009276e3 : CALL EAX
009276e5 : ADD ESP,0x14
009276e8 : MOV byte ptr [EBX + 0xd8],0x2
009276ef : MOV ECX,dword ptr [0x00da9894]
009276f5 : MOV EAX,dword ptr [ECX]
009276f7 : TEST EAX,EAX
009276f9 : JZ 0x00927732
009276fb : MOV EAX,dword ptr [EAX + 0x114]
00927701 : TEST EAX,EAX
00927703 : JZ 0x00927732
00927705 : CMP dword ptr [EBX + 0xb8],0x8
0092770c : JC 0x00927716
0092770e : MOV ECX,dword ptr [EBX + 0xa4]
00927714 : JMP 0x0092771c
00927716 : LEA ECX,[EBX + 0xa4]
0092771c : MOV EDX,dword ptr [EAX]
0092771e : PUSH ECX
0092771f : PUSH 0xc6b2cc
00927724 : PUSH 0xc6b2d0
00927729 : PUSH EAX
0092772a : MOV EAX,dword ptr [EDX + 0x4]
0092772d : CALL EAX
0092772f : ADD ESP,0x10
00927732 : MOV dword ptr [EBX + 0x64],0x1
00927739 : MOV ECX,dword ptr [ESP + 0x70]
0092773d : MOV dword ptr FS:[0x0],ECX
00927744 : POP ECX
00927745 : POP EDI
00927746 : POP ESI
00927747 : POP EBX
00927748 : MOV ESP,EBP
0092774a : POP EBP
0092774b : RET 0x8
