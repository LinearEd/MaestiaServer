PROGRAM  : Maestia.exe
FUNCTION : FUN_009c5f40
ENTRY    : 009c5f40
BODY     : [[009c5f40, 009c6127]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009c5f40(byte param_1)

{
  int iVar1;
  int in_ECX;
  undefined4 *puVar2;
  uint local_54;
  undefined1 local_50 [4];
  undefined2 local_4c;
  undefined4 local_3c;
  uint local_38;
  int local_34;
  undefined4 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b22256;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(uint *)(in_ECX + 0x3c) = (uint)param_1;
  *(ushort *)(in_ECX + 0x40) = (ushort)param_1;
  iVar1 = *DAT_00da9894;
  local_34 = in_ECX;
  if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
    (**(code **)(**(int **)(iVar1 + 0x114) + 4))
              (*(int **)(iVar1 + 0x114),"MyInfoSetChannelVisible",&DAT_00c91eac,0,local_14);
  }
  iVar1 = *DAT_00da9894;
  if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
    (**(code **)(**(int **)(iVar1 + 0x114) + 4))
              (*(int **)(iVar1 + 0x114),"SetChannelEnable",&DAT_00c91ec8,1);
  }
  local_4c = 0;
  local_38 = 7;
  local_3c = 0;
  FUN_00406360(L"IDS_CHANNEL",0xb);
  local_8 = 0;
  iVar1 = FUN_0081d120(local_50);
  local_8._0_1_ = 1;
  if (*(uint *)(iVar1 + 0x18) < 8) {
    iVar1 = iVar1 + 4;
  }
  else {
    iVar1 = *(int *)(iVar1 + 4);
  }
  FUN_00404750(iVar1,param_1 + 1);
  local_8 = CONCAT31(local_8._1_3_,3);
  if (7 < local_54) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_8 = CONCAT31(local_8._1_3_,4);
  if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_38 = 7;
  local_3c = 0;
  local_4c = 0;
  iVar1 = *DAT_00da9894;
  if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
    puVar2 = local_2c;
    if (local_18 < 8) {
      puVar2 = &local_2c;
    }
    (**(code **)(**(int **)(iVar1 + 0x114) + 4))
              (*(int **)(iVar1 + 0x114),"MyInfoSetMyChannel",&DAT_00c91ef8,puVar2);
  }
  iVar1 = *DAT_00da9894;
  if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
    (**(code **)(**(int **)(iVar1 + 0x114) + 4))
              (*(int **)(iVar1 + 0x114),"SetMyChannel",&DAT_00c91f10,
               *(undefined4 *)(local_34 + 0x3c));
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009c5f40 : PUSH EBP
009c5f41 : MOV EBP,ESP
009c5f43 : PUSH -0x1
009c5f45 : PUSH 0xb22256
009c5f4a : MOV EAX,FS:[0x0]
009c5f50 : PUSH EAX
009c5f51 : SUB ESP,0x5c
009c5f54 : MOV EAX,[0x00d66fa0]
009c5f59 : XOR EAX,EBP
009c5f5b : MOV dword ptr [EBP + -0x10],EAX
009c5f5e : PUSH EBX
009c5f5f : PUSH ESI
009c5f60 : PUSH EDI
009c5f61 : PUSH EAX
009c5f62 : LEA EAX,[EBP + -0xc]
009c5f65 : MOV FS:[0x0],EAX
009c5f6b : MOV AL,byte ptr [EBP + 0x8]
009c5f6e : MOVZX ESI,AL
009c5f71 : MOVZX AX,AL
009c5f75 : MOV dword ptr [ECX + 0x3c],ESI
009c5f78 : MOV word ptr [ECX + 0x40],AX
009c5f7c : MOV dword ptr [EBP + -0x30],ECX
009c5f7f : MOV ECX,dword ptr [0x00da9894]
009c5f85 : MOV EAX,dword ptr [ECX]
009c5f87 : XOR EBX,EBX
009c5f89 : CMP EAX,EBX
009c5f8b : JZ 0x009c5fb1
009c5f8d : CMP dword ptr [EAX + 0x114],EBX
009c5f93 : JZ 0x009c5fb1
009c5f95 : MOV EAX,dword ptr [EAX + 0x114]
009c5f9b : MOV EDX,dword ptr [EAX]
009c5f9d : PUSH EBX
009c5f9e : PUSH 0xc91eac
009c5fa3 : PUSH 0xc91eb0
009c5fa8 : PUSH EAX
009c5fa9 : MOV EAX,dword ptr [EDX + 0x4]
009c5fac : CALL EAX
009c5fae : ADD ESP,0x10
009c5fb1 : MOV ECX,dword ptr [0x00da9894]
009c5fb7 : MOV EAX,dword ptr [ECX]
009c5fb9 : CMP EAX,EBX
009c5fbb : JZ 0x009c5fe2
009c5fbd : CMP dword ptr [EAX + 0x114],EBX
009c5fc3 : JZ 0x009c5fe2
009c5fc5 : MOV EAX,dword ptr [EAX + 0x114]
009c5fcb : MOV EDX,dword ptr [EAX]
009c5fcd : PUSH 0x1
009c5fcf : PUSH 0xc91ec8
009c5fd4 : PUSH 0xc91ecc
009c5fd9 : PUSH EAX
009c5fda : MOV EAX,dword ptr [EDX + 0x4]
009c5fdd : CALL EAX
009c5fdf : ADD ESP,0x10
009c5fe2 : XOR ECX,ECX
009c5fe4 : PUSH 0xb
009c5fe6 : MOV word ptr [EBP + -0x48],CX
009c5fea : PUSH 0xc91ee0
009c5fef : LEA ECX,[EBP + -0x4c]
009c5ff2 : MOV dword ptr [EBP + -0x34],0x7
009c5ff9 : MOV dword ptr [EBP + -0x38],EBX
009c5ffc : CALL 0x00406360
009c6001 : MOV dword ptr [EBP + -0x4],EBX
009c6004 : MOV ECX,dword ptr [0x0172491c]
009c600a : LEA EDX,[EBP + -0x4c]
009c600d : PUSH EDX
009c600e : LEA EDI,[EBP + -0x68]
009c6011 : CALL 0x0081d120
009c6016 : MOV byte ptr [EBP + -0x4],0x1
009c601a : MOV EDI,0x8
009c601f : CMP dword ptr [EAX + 0x18],EDI
009c6022 : JC 0x009c6029
009c6024 : MOV EAX,dword ptr [EAX + 0x4]
009c6027 : JMP 0x009c602c
009c6029 : ADD EAX,0x4
009c602c : INC ESI
009c602d : PUSH ESI
009c602e : PUSH EAX
009c602f : LEA ESI,[EBP + -0x2c]
009c6032 : CALL 0x00404750
009c6037 : ADD ESP,0x8
009c603a : MOV byte ptr [EBP + -0x4],0x3
009c603e : CMP dword ptr [EBP + -0x50],EDI
009c6041 : JC 0x009c604b
009c6043 : MOV ECX,dword ptr [EBP + -0x64]
009c6046 : CALL 0x006f04e0
009c604b : MOV ESI,0x7
009c6050 : XOR EAX,EAX
009c6052 : MOV dword ptr [EBP + -0x50],ESI
009c6055 : MOV dword ptr [EBP + -0x54],EBX
009c6058 : MOV word ptr [EBP + -0x64],AX
009c605c : MOV byte ptr [EBP + -0x4],0x4
009c6060 : CMP dword ptr [EBP + -0x34],EDI
009c6063 : JC 0x009c606d
009c6065 : MOV ECX,dword ptr [EBP + -0x48]
009c6068 : CALL 0x006f04e0
009c606d : MOV EDX,dword ptr [0x00da9894]
009c6073 : XOR ECX,ECX
009c6075 : MOV dword ptr [EBP + -0x34],ESI
009c6078 : MOV dword ptr [EBP + -0x38],EBX
009c607b : MOV word ptr [EBP + -0x48],CX
009c607f : MOV EAX,dword ptr [EDX]
009c6081 : CMP EAX,EBX
009c6083 : JZ 0x009c60b4
009c6085 : CMP dword ptr [EAX + 0x114],EBX
009c608b : JZ 0x009c60b4
009c608d : MOV EAX,dword ptr [EAX + 0x114]
009c6093 : MOV ECX,dword ptr [EBP + -0x28]
009c6096 : CMP dword ptr [EBP + -0x14],EDI
009c6099 : JNC 0x009c609e
009c609b : LEA ECX,[EBP + -0x28]
009c609e : MOV EDX,dword ptr [EAX]
009c60a0 : PUSH ECX
009c60a1 : PUSH 0xc91ef8
009c60a6 : PUSH 0xc91efc
009c60ab : PUSH EAX
009c60ac : MOV EAX,dword ptr [EDX + 0x4]
009c60af : CALL EAX
009c60b1 : ADD ESP,0x10
009c60b4 : MOV ECX,dword ptr [0x00da9894]
009c60ba : MOV EAX,dword ptr [ECX]
009c60bc : CMP EAX,EBX
009c60be : JZ 0x009c60ea
009c60c0 : CMP dword ptr [EAX + 0x114],EBX
009c60c6 : JZ 0x009c60ea
009c60c8 : MOV ECX,dword ptr [EBP + -0x30]
009c60cb : MOV ECX,dword ptr [ECX + 0x3c]
009c60ce : MOV EAX,dword ptr [EAX + 0x114]
009c60d4 : MOV EDX,dword ptr [EAX]
009c60d6 : MOV EDX,dword ptr [EDX + 0x4]
009c60d9 : PUSH ECX
009c60da : PUSH 0xc91f10
009c60df : PUSH 0xc91f14
009c60e4 : PUSH EAX
009c60e5 : CALL EDX
009c60e7 : ADD ESP,0x10
009c60ea : MOV dword ptr [EBP + -0x4],0xffffffff
009c60f1 : CMP dword ptr [EBP + -0x14],EDI
009c60f4 : JC 0x009c60fe
009c60f6 : MOV ECX,dword ptr [EBP + -0x28]
009c60f9 : CALL 0x006f04e0
009c60fe : XOR EAX,EAX
009c6100 : MOV dword ptr [EBP + -0x14],ESI
009c6103 : MOV dword ptr [EBP + -0x18],EBX
009c6106 : MOV word ptr [EBP + -0x28],AX
009c610a : MOV ECX,dword ptr [EBP + -0xc]
009c610d : MOV dword ptr FS:[0x0],ECX
009c6114 : POP ECX
009c6115 : POP EDI
009c6116 : POP ESI
009c6117 : POP EBX
009c6118 : MOV ECX,dword ptr [EBP + -0x10]
009c611b : XOR ECX,EBP
009c611d : CALL 0x00633e6b
009c6122 : MOV ESP,EBP
009c6124 : POP EBP
009c6125 : RET 0x4
