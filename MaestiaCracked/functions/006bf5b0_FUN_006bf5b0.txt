PROGRAM  : Maestia.exe
FUNCTION : FUN_006bf5b0
ENTRY    : 006bf5b0
BODY     : [[006bf5b0, 006bf606]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006bf5b0(void)

{
  int iVar1;
  uint uVar2;
  undefined4 uVar3;
  int unaff_ESI;
  int local_4;
  
  uVar2 = *(uint *)(unaff_ESI + 0x60);
  if (uVar2 <= *(uint *)(unaff_ESI + 0x5c)) {
    iVar1 = (uVar2 >> 1) + 4 + uVar2;
    if (*(int *)(unaff_ESI + 0x58) == unaff_ESI + 100) {
      *(undefined4 *)(unaff_ESI + 0x58) = 0;
      uVar2 = 0;
    }
    uVar3 = FUN_0068a220(*(undefined4 *)(unaff_ESI + 0xa8),1,uVar2,iVar1,
                         *(undefined4 *)(unaff_ESI + 0x58),&local_4);
    *(undefined4 *)(unaff_ESI + 0x58) = uVar3;
    if (local_4 != 0) {
      return 0xffffffff;
    }
    *(int *)(unaff_ESI + 0x60) = iVar1;
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
006bf5b0 : PUSH ECX
006bf5b1 : MOV EAX,dword ptr [ESI + 0x60]
006bf5b4 : PUSH EDI
006bf5b5 : CMP dword ptr [ESI + 0x5c],EAX
006bf5b8 : JC 0x006bf602
006bf5ba : MOV ECX,dword ptr [ESI + 0xa8]
006bf5c0 : MOV EDX,EAX
006bf5c2 : SHR EDX,0x1
006bf5c4 : LEA EDI,[EDX + EAX*0x1 + 0x4]
006bf5c8 : LEA EDX,[ESI + 0x64]
006bf5cb : CMP dword ptr [ESI + 0x58],EDX
006bf5ce : JNZ 0x006bf5d9
006bf5d0 : MOV dword ptr [ESI + 0x58],0x0
006bf5d7 : XOR EAX,EAX
006bf5d9 : LEA EDX,[ESP + 0x4]
006bf5dd : PUSH EDX
006bf5de : MOV EDX,dword ptr [ESI + 0x58]
006bf5e1 : PUSH EDX
006bf5e2 : PUSH EDI
006bf5e3 : PUSH EAX
006bf5e4 : PUSH 0x1
006bf5e6 : PUSH ECX
006bf5e7 : CALL 0x0068a220
006bf5ec : ADD ESP,0x18
006bf5ef : CMP dword ptr [ESP + 0x4],0x0
006bf5f4 : MOV dword ptr [ESI + 0x58],EAX
006bf5f7 : JZ 0x006bf5ff
006bf5f9 : OR EAX,0xffffffff
006bf5fc : POP EDI
006bf5fd : POP ECX
006bf5fe : RET
006bf5ff : MOV dword ptr [ESI + 0x60],EDI
006bf602 : XOR EAX,EAX
006bf604 : POP EDI
006bf605 : POP ECX
006bf606 : RET
