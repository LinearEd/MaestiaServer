PROGRAM  : Maestia.exe
FUNCTION : FUN_007ba380
ENTRY    : 007ba380
BODY     : [[007ba380, 007ba5a1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007ba380(int param_1)

{
  int iVar1;
  int in_ECX;
  int *piVar2;
  int *piVar3;
  int local_18 [2];
  undefined1 local_10 [12];
  
  FUN_0045cd30(*(undefined4 *)(*(int *)(in_ECX + 0xbc) + 4));
  *(int *)(*(int *)(in_ECX + 0xbc) + 4) = *(int *)(in_ECX + 0xbc);
  *(undefined4 *)(in_ECX + 0xc0) = 0;
  *(undefined4 *)*(undefined4 *)(in_ECX + 0xbc) = *(undefined4 *)(in_ECX + 0xbc);
  *(int *)(*(int *)(in_ECX + 0xbc) + 8) = *(int *)(in_ECX + 0xbc);
  if ((*(int *)(*(int *)(in_ECX + 0x90) + 0x18c) != 0) &&
     (piVar3 = *(int **)(*(int *)(in_ECX + 0x90) + 0x188), piVar2 = (int *)*piVar3, piVar2 != piVar3
     )) {
    do {
      FUN_0045fe50(local_18,piVar2 + 9);
      piVar2 = (int *)*piVar2;
    } while (piVar2 != (int *)*(int *)(*(int *)(in_ECX + 0x90) + 0x188));
  }
  FUN_0045cd30(*(undefined4 *)(*(int *)(in_ECX + 200) + 4));
  *(int *)(*(int *)(in_ECX + 200) + 4) = *(int *)(in_ECX + 200);
  *(undefined4 *)(in_ECX + 0xcc) = 0;
  *(undefined4 *)*(undefined4 *)(in_ECX + 200) = *(undefined4 *)(in_ECX + 200);
  *(int *)(*(int *)(in_ECX + 200) + 8) = *(int *)(in_ECX + 200);
  if ((*(int *)(*(int *)(in_ECX + 0x94) + 0x18c) != 0) &&
     (piVar3 = *(int **)(*(int *)(in_ECX + 0x94) + 0x188), piVar2 = (int *)*piVar3, piVar2 != piVar3
     )) {
    do {
      FUN_0045fe50(local_18,piVar2 + 9);
      piVar2 = (int *)*piVar2;
    } while (piVar2 != (int *)*(int *)(*(int *)(in_ECX + 0x94) + 0x188));
  }
  if (*(char *)(*(int *)(*(int *)(param_1 + 0x48) + 0xf0) + 0x2ab4) == '\0') {
    FUN_0045cd30(*(undefined4 *)(*(int *)(in_ECX + 0xd4) + 4));
    *(int *)(*(int *)(in_ECX + 0xd4) + 4) = *(int *)(in_ECX + 0xd4);
    *(undefined4 *)(in_ECX + 0xd8) = 0;
    *(undefined4 *)*(undefined4 *)(in_ECX + 0xd4) = *(undefined4 *)(in_ECX + 0xd4);
    *(int *)(*(int *)(in_ECX + 0xd4) + 8) = *(int *)(in_ECX + 0xd4);
    FUN_007ba240(in_ECX);
  }
  else {
    FUN_0045cd30(*(undefined4 *)(*(int *)(in_ECX + 0xd4) + 4));
    *(int *)(*(int *)(in_ECX + 0xd4) + 4) = *(int *)(in_ECX + 0xd4);
    *(undefined4 *)(in_ECX + 0xd8) = 0;
    *(undefined4 *)*(undefined4 *)(in_ECX + 0xd4) = *(undefined4 *)(in_ECX + 0xd4);
    *(int *)(*(int *)(in_ECX + 0xd4) + 8) = *(int *)(in_ECX + 0xd4);
    if ((*(char *)(in_ECX + 0xe9) == '\0') && (*(char *)(in_ECX + 0xe8) == '\0')) {
      iVar1 = *(int *)(in_ECX + 0xa4);
    }
    else {
      iVar1 = *(int *)(in_ECX + 0x9c);
    }
    if (iVar1 == 0) {
      return;
    }
    piVar3 = (int *)**(int **)(iVar1 + 0x188);
    if (piVar3 != *(int **)(iVar1 + 0x188)) {
      do {
        local_18[0] = piVar3[9];
        FUN_0045fe50(local_10,local_18);
        piVar3 = (int *)*piVar3;
      } while (piVar3 != (int *)*(int *)(iVar1 + 0x188));
    }
  }
  piVar3 = *(int **)(*(int *)(in_ECX + 0xa8) + 0x188);
  piVar2 = (int *)*piVar3;
  if (piVar2 != piVar3) {
    do {
      FUN_0045fe50(local_10,piVar2 + 9);
      piVar2 = (int *)*piVar2;
    } while (piVar2 != (int *)*(int *)(*(int *)(in_ECX + 0xa8) + 0x188));
  }
  if (*(int *)(in_ECX + 0x8c) != 0) {
    (**(code **)(**(int **)(in_ECX + 0x8c) + 0x88))(param_1,in_ECX + 0xac,2);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007ba380 : PUSH EBP
007ba381 : MOV EBP,ESP
007ba383 : AND ESP,0xfffffff8
007ba386 : SUB ESP,0x14
007ba389 : PUSH EBX
007ba38a : PUSH ESI
007ba38b : PUSH EDI
007ba38c : MOV EDI,ECX
007ba38e : MOV EAX,dword ptr [EDI + 0xbc]
007ba394 : MOV ECX,dword ptr [EAX + 0x4]
007ba397 : LEA ESI,[EDI + 0xb8]
007ba39d : PUSH ECX
007ba39e : MOV ECX,ESI
007ba3a0 : CALL 0x0045cd30
007ba3a5 : MOV EAX,dword ptr [ESI + 0x4]
007ba3a8 : MOV dword ptr [EAX + 0x4],EAX
007ba3ab : MOV EAX,dword ptr [ESI + 0x4]
007ba3ae : MOV dword ptr [ESI + 0x8],0x0
007ba3b5 : MOV dword ptr [EAX],EAX
007ba3b7 : MOV EAX,dword ptr [ESI + 0x4]
007ba3ba : MOV dword ptr [EAX + 0x8],EAX
007ba3bd : MOV EAX,dword ptr [EDI + 0x90]
007ba3c3 : CMP dword ptr [EAX + 0x18c],0x0
007ba3ca : JZ 0x007ba3f8
007ba3cc : MOV EAX,dword ptr [EAX + 0x188]
007ba3d2 : MOV EBX,dword ptr [EAX]
007ba3d4 : CMP EBX,EAX
007ba3d6 : JZ 0x007ba3f8
007ba3d8 : LEA EDX,[EBX + 0x24]
007ba3db : PUSH EDX
007ba3dc : LEA EAX,[ESP + 0x14]
007ba3e0 : PUSH EAX
007ba3e1 : MOV EAX,ESI
007ba3e3 : CALL 0x0045fe50
007ba3e8 : MOV EBX,dword ptr [EBX]
007ba3ea : MOV ECX,dword ptr [EDI + 0x90]
007ba3f0 : CMP EBX,dword ptr [ECX + 0x188]
007ba3f6 : JNZ 0x007ba3d8
007ba3f8 : MOV EDX,dword ptr [EDI + 0xc8]
007ba3fe : MOV EAX,dword ptr [EDX + 0x4]
007ba401 : LEA ESI,[EDI + 0xc4]
007ba407 : PUSH EAX
007ba408 : MOV ECX,ESI
007ba40a : CALL 0x0045cd30
007ba40f : MOV EAX,dword ptr [ESI + 0x4]
007ba412 : MOV dword ptr [EAX + 0x4],EAX
007ba415 : MOV EAX,dword ptr [ESI + 0x4]
007ba418 : MOV dword ptr [ESI + 0x8],0x0
007ba41f : MOV dword ptr [EAX],EAX
007ba421 : MOV EAX,dword ptr [ESI + 0x4]
007ba424 : MOV dword ptr [EAX + 0x8],EAX
007ba427 : MOV EAX,dword ptr [EDI + 0x94]
007ba42d : CMP dword ptr [EAX + 0x18c],0x0
007ba434 : JZ 0x007ba462
007ba436 : MOV EAX,dword ptr [EAX + 0x188]
007ba43c : MOV EBX,dword ptr [EAX]
007ba43e : CMP EBX,EAX
007ba440 : JZ 0x007ba462
007ba442 : LEA ECX,[EBX + 0x24]
007ba445 : PUSH ECX
007ba446 : LEA EDX,[ESP + 0x14]
007ba44a : PUSH EDX
007ba44b : MOV EAX,ESI
007ba44d : CALL 0x0045fe50
007ba452 : MOV EBX,dword ptr [EBX]
007ba454 : MOV EAX,dword ptr [EDI + 0x94]
007ba45a : CMP EBX,dword ptr [EAX + 0x188]
007ba460 : JNZ 0x007ba442
007ba462 : MOV EBX,dword ptr [EBP + 0x8]
007ba465 : MOV ECX,dword ptr [EBX + 0x48]
007ba468 : MOV EDX,dword ptr [ECX + 0xf0]
007ba46e : CMP byte ptr [EDX + 0x2ab4],0x0
007ba475 : LEA ESI,[EDI + 0xd0]
007ba47b : JZ 0x007ba50d
007ba481 : MOV EAX,dword ptr [ESI + 0x4]
007ba484 : MOV ECX,dword ptr [EAX + 0x4]
007ba487 : PUSH ECX
007ba488 : MOV ECX,ESI
007ba48a : CALL 0x0045cd30
007ba48f : MOV EAX,dword ptr [ESI + 0x4]
007ba492 : MOV dword ptr [EAX + 0x4],EAX
007ba495 : MOV EAX,dword ptr [ESI + 0x4]
007ba498 : MOV dword ptr [ESI + 0x8],0x0
007ba49f : MOV dword ptr [EAX],EAX
007ba4a1 : MOV EAX,dword ptr [ESI + 0x4]
007ba4a4 : MOV dword ptr [EAX + 0x8],EAX
007ba4a7 : CMP byte ptr [EDI + 0xe9],0x0
007ba4ae : JNZ 0x007ba4c5
007ba4b0 : CMP byte ptr [EDI + 0xe8],0x0
007ba4b7 : JNZ 0x007ba4c5
007ba4b9 : MOV EAX,dword ptr [EDI + 0xa4]
007ba4bf : MOV dword ptr [ESP + 0xc],EAX
007ba4c3 : JMP 0x007ba4d1
007ba4c5 : MOV EDX,dword ptr [EDI + 0x9c]
007ba4cb : MOV dword ptr [ESP + 0xc],EDX
007ba4cf : MOV EAX,EDX
007ba4d1 : TEST EAX,EAX
007ba4d3 : JZ 0x007ba599
007ba4d9 : MOV EAX,dword ptr [EAX + 0x188]
007ba4df : MOV EBX,dword ptr [EAX]
007ba4e1 : CMP EBX,EAX
007ba4e3 : JZ 0x007ba53b
007ba4e5 : MOV EAX,dword ptr [EBX + 0x24]
007ba4e8 : LEA ECX,[ESP + 0x10]
007ba4ec : PUSH ECX
007ba4ed : LEA EDX,[ESP + 0x1c]
007ba4f1 : MOV dword ptr [ESP + 0x14],EAX
007ba4f5 : PUSH EDX
007ba4f6 : MOV EAX,ESI
007ba4f8 : CALL 0x0045fe50
007ba4fd : MOV EBX,dword ptr [EBX]
007ba4ff : MOV EAX,dword ptr [ESP + 0xc]
007ba503 : CMP EBX,dword ptr [EAX + 0x188]
007ba509 : JNZ 0x007ba4e5
007ba50b : JMP 0x007ba53b
007ba50d : MOV ECX,dword ptr [ESI + 0x4]
007ba510 : MOV EDX,dword ptr [ECX + 0x4]
007ba513 : PUSH EDX
007ba514 : MOV ECX,ESI
007ba516 : CALL 0x0045cd30
007ba51b : MOV EAX,dword ptr [ESI + 0x4]
007ba51e : MOV dword ptr [EAX + 0x4],EAX
007ba521 : MOV EAX,dword ptr [ESI + 0x4]
007ba524 : MOV dword ptr [ESI + 0x8],0x0
007ba52b : MOV dword ptr [EAX],EAX
007ba52d : MOV ESI,dword ptr [ESI + 0x4]
007ba530 : MOV dword ptr [ESI + 0x8],ESI
007ba533 : PUSH EDI
007ba534 : MOV ESI,EBX
007ba536 : CALL 0x007ba240
007ba53b : MOV EAX,dword ptr [EDI + 0xa8]
007ba541 : MOV EAX,dword ptr [EAX + 0x188]
007ba547 : MOV ESI,dword ptr [EAX]
007ba549 : CMP ESI,EAX
007ba54b : JZ 0x007ba573
007ba54d : LEA EBX,[EDI + 0xdc]
007ba553 : LEA ECX,[ESI + 0x24]
007ba556 : PUSH ECX
007ba557 : LEA EDX,[ESP + 0x1c]
007ba55b : PUSH EDX
007ba55c : MOV EAX,EBX
007ba55e : CALL 0x0045fe50
007ba563 : MOV ESI,dword ptr [ESI]
007ba565 : MOV EAX,dword ptr [EDI + 0xa8]
007ba56b : CMP ESI,dword ptr [EAX + 0x188]
007ba571 : JNZ 0x007ba553
007ba573 : CMP dword ptr [EDI + 0x8c],0x0
007ba57a : JZ 0x007ba599
007ba57c : MOV ECX,dword ptr [EDI + 0x8c]
007ba582 : MOV EDX,dword ptr [ECX]
007ba584 : MOV EAX,dword ptr [EBP + 0x8]
007ba587 : MOV EDX,dword ptr [EDX + 0x88]
007ba58d : PUSH 0x2
007ba58f : ADD EDI,0xac
007ba595 : PUSH EDI
007ba596 : PUSH EAX
007ba597 : CALL EDX
007ba599 : POP EDI
007ba59a : POP ESI
007ba59b : POP EBX
007ba59c : MOV ESP,EBP
007ba59e : POP EBP
007ba59f : RET 0x4
