PROGRAM  : Maestia.exe
FUNCTION : FUN_00a29340
ENTRY    : 00a29340
BODY     : [[00a29340, 00a29436]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a29340(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  char cVar4;
  short sVar5;
  uint uVar6;
  int iVar7;
  int in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3af84;
  local_10 = ExceptionList;
  uVar6 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar7 = *(int *)(*(int *)(DAT_0172491c + 0x90) + 0xf0);
  if (iVar7 != 0) {
    FUN_0040dcc0(iVar7);
    if (in_ECX == 0) {
      iVar7 = 0;
    }
    else {
      iVar7 = in_ECX + 0x18;
    }
    EnterCriticalSection((LPCRITICAL_SECTION)(iVar7 + 4));
    local_8 = 0;
    piVar1 = *(int **)(in_ECX + 0xcc);
    piVar2 = (int *)*piVar1;
    while (piVar2 != piVar1) {
      if (((((int *)piVar2[4] != (int *)0x0) &&
           (cVar4 = (**(code **)(*(int *)piVar2[4] + 0x200))(uVar6), cVar4 == '\0')) &&
          (sVar5 = (**(code **)(*(int *)piVar2[4] + 0x1e4))(), sVar5 == 6)) &&
         ((iVar3 = *(int *)(piVar2[4] + 1000), iVar3 != 0 &&
          (cVar4 = FUN_007d5bf0(iVar3), cVar4 != '\0')))) {
        FUN_0040dc70(iVar3);
      }
      FUN_00416210();
    }
    local_8 = 0xffffffff;
    LeaveCriticalSection((LPCRITICAL_SECTION)(iVar7 + 4));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a29340 : PUSH EBP
00a29341 : MOV EBP,ESP
00a29343 : PUSH -0x1
00a29345 : PUSH 0xb3af84
00a2934a : MOV EAX,FS:[0x0]
00a29350 : PUSH EAX
00a29351 : SUB ESP,0xc
00a29354 : PUSH EBX
00a29355 : PUSH ESI
00a29356 : PUSH EDI
00a29357 : MOV EAX,[0x00d66fa0]
00a2935c : XOR EAX,EBP
00a2935e : PUSH EAX
00a2935f : LEA EAX,[EBP + -0xc]
00a29362 : MOV FS:[0x0],EAX
00a29368 : MOV ESI,ECX
00a2936a : MOV EAX,[0x0172491c]
00a2936f : MOV EAX,dword ptr [EAX + 0x90]
00a29375 : MOV EAX,dword ptr [EAX + 0xf0]
00a2937b : MOV dword ptr [EBP + -0x14],EAX
00a2937e : TEST EAX,EAX
00a29380 : JZ 0x00a29425
00a29386 : PUSH EAX
00a29387 : CALL 0x0040dcc0
00a2938c : TEST ESI,ESI
00a2938e : JZ 0x00a29395
00a29390 : LEA EAX,[ESI + 0x18]
00a29393 : JMP 0x00a29397
00a29395 : XOR EAX,EAX
00a29397 : LEA EBX,[EAX + 0x4]
00a2939a : PUSH EBX
00a2939b : MOV dword ptr [EBP + -0x18],EAX
00a2939e : CALL dword ptr [0x00b85118]
00a293a4 : MOV dword ptr [EBP + -0x4],0x0
00a293ab : MOV EDI,dword ptr [ESI + 0xcc]
00a293b1 : MOV ESI,dword ptr [EDI]
00a293b3 : MOV dword ptr [EBP + -0x10],ESI
00a293b6 : CMP ESI,EDI
00a293b8 : JZ 0x00a29417
00a293ba : LEA EBX,[EBX]
00a293c0 : MOV ECX,dword ptr [ESI + 0x10]
00a293c3 : TEST ECX,ECX
00a293c5 : JZ 0x00a29408
00a293c7 : MOV EDX,dword ptr [ECX]
00a293c9 : MOV EAX,dword ptr [EDX + 0x200]
00a293cf : CALL EAX
00a293d1 : TEST AL,AL
00a293d3 : JNZ 0x00a29408
00a293d5 : MOV ECX,dword ptr [ESI + 0x10]
00a293d8 : MOV EDX,dword ptr [ECX]
00a293da : MOV EAX,dword ptr [EDX + 0x1e4]
00a293e0 : CALL EAX
00a293e2 : CMP AX,0x6
00a293e6 : JNZ 0x00a29408
00a293e8 : MOV ECX,dword ptr [ESI + 0x10]
00a293eb : MOV ESI,dword ptr [ECX + 0x3e8]
00a293f1 : TEST ESI,ESI
00a293f3 : JZ 0x00a29408
00a293f5 : PUSH ESI
00a293f6 : CALL 0x007d5bf0
00a293fb : TEST AL,AL
00a293fd : JZ 0x00a29408
00a293ff : MOV EAX,dword ptr [EBP + -0x14]
00a29402 : PUSH ESI
00a29403 : CALL 0x0040dc70
00a29408 : LEA EDX,[EBP + -0x10]
00a2940b : CALL 0x00416210
00a29410 : MOV ESI,dword ptr [EBP + -0x10]
00a29413 : CMP ESI,EDI
00a29415 : JNZ 0x00a293c0
00a29417 : MOV dword ptr [EBP + -0x4],0xffffffff
00a2941e : PUSH EBX
00a2941f : CALL dword ptr [0x00b8511c]
00a29425 : MOV ECX,dword ptr [EBP + -0xc]
00a29428 : MOV dword ptr FS:[0x0],ECX
00a2942f : POP ECX
00a29430 : POP EDI
00a29431 : POP ESI
00a29432 : POP EBX
00a29433 : MOV ESP,EBP
00a29435 : POP EBP
00a29436 : RET
