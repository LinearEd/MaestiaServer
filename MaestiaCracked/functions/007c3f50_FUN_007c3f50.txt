PROGRAM  : Maestia.exe
FUNCTION : FUN_007c3f50
ENTRY    : 007c3f50
BODY     : [[007c3f50, 007c40ae]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007c3f50(int param_1)

{
  undefined4 *puVar1;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b31d27;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_00463c60(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  FUN_00463c60();
  _strncpy(&DAT_00d8aae8,"D:\\HomageV3\\Bin\\Data\\FPData\\",0x100);
  puVar1 = (undefined4 *)FUN_006f0760(0xc,"",0,(DAT_01725270 >> 3 & 1) == 0);
  if (puVar1 == (undefined4 *)0x0) {
    puVar1 = (undefined4 *)0x0;
  }
  else {
    *puVar1 = 0;
    puVar1[1] = 0;
    puVar1[2] = 0;
  }
  local_8 = 0xffffffff;
  *(undefined4 **)(param_1 + 0xd4) = puVar1;
  FUN_0075c800();
  puVar1 = (undefined4 *)FUN_006f0760(8,"",0,(DAT_01725270 >> 3 & 1) == 0);
  if (puVar1 == (undefined4 *)0x0) {
    puVar1 = (undefined4 *)0x0;
  }
  else {
    *puVar1 = &PTR_LAB_00cd858c;
    puVar1[1] = 0;
  }
  local_8 = 0xffffffff;
  *(undefined4 **)(param_1 + 0xd0) = puVar1;
  FUN_00618160(puVar1 + 1,"ParticleSystem",0x4000);
  FUN_00401c00(*(undefined4 *)(*(int *)(param_1 + 0xe0) + 4));
  *(int *)(*(int *)(param_1 + 0xe0) + 4) = *(int *)(param_1 + 0xe0);
  *(undefined4 *)(param_1 + 0xe4) = 0;
  *(undefined4 *)*(undefined4 *)(param_1 + 0xe0) = *(undefined4 *)(param_1 + 0xe0);
  *(int *)(*(int *)(param_1 + 0xe0) + 8) = *(int *)(param_1 + 0xe0);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007c3f50 : PUSH EBP
007c3f51 : MOV EBP,ESP
007c3f53 : PUSH -0x1
007c3f55 : PUSH 0xb31d27
007c3f5a : MOV EAX,FS:[0x0]
007c3f60 : PUSH EAX
007c3f61 : SUB ESP,0x1c
007c3f64 : PUSH EBX
007c3f65 : PUSH ESI
007c3f66 : PUSH EDI
007c3f67 : MOV EAX,[0x00d66fa0]
007c3f6c : XOR EAX,EBP
007c3f6e : PUSH EAX
007c3f6f : LEA EAX,[EBP + -0xc]
007c3f72 : MOV FS:[0x0],EAX
007c3f78 : MOV EBX,dword ptr [EBP + 0x8]
007c3f7b : CALL 0x00463c60
007c3f80 : CALL 0x00463c60
007c3f85 : MOV ESI,0x100
007c3f8a : PUSH ESI
007c3f8b : PUSH 0xc1c428
007c3f90 : PUSH 0xd8aae8
007c3f95 : CALL 0x00636e50
007c3f9a : MOV EAX,[0x01725270]
007c3f9f : MOV dword ptr [EBP + -0x24],ESI
007c3fa2 : MOV dword ptr [EBP + -0x18],ESI
007c3fa5 : MOV dword ptr [EBP + -0x14],ESI
007c3fa8 : XOR ESI,ESI
007c3faa : SHR EAX,0x3
007c3fad : MOV ECX,ESI
007c3faf : AND EAX,0x1
007c3fb2 : SETZ CL
007c3fb5 : MOV dword ptr [EBP + -0x28],0x1
007c3fbc : MOV dword ptr [EBP + -0x20],0x4000
007c3fc3 : MOV dword ptr [EBP + -0x1c],0x40
007c3fca : MOV dword ptr [EBP + -0x10],ESI
007c3fcd : PUSH ECX
007c3fce : PUSH ESI
007c3fcf : PUSH 0xbf1a4a
007c3fd4 : PUSH 0xc
007c3fd6 : CALL 0x006f0760
007c3fdb : ADD ESP,0x1c
007c3fde : MOV dword ptr [EBP + 0x8],EAX
007c3fe1 : MOV dword ptr [EBP + -0x4],ESI
007c3fe4 : CMP EAX,ESI
007c3fe6 : JZ 0x007c3ff2
007c3fe8 : MOV dword ptr [EAX],ESI
007c3fea : MOV dword ptr [EAX + 0x4],ESI
007c3fed : MOV dword ptr [EAX + 0x8],ESI
007c3ff0 : JMP 0x007c3ff4
007c3ff2 : XOR EAX,EAX
007c3ff4 : MOV dword ptr [EBP + -0x4],0xffffffff
007c3ffb : LEA ESI,[EBP + -0x28]
007c3ffe : MOV EDI,EAX
007c4000 : MOV dword ptr [EBX + 0xd4],EAX
007c4006 : CALL 0x0075c800
007c400b : MOV EDX,dword ptr [0x01725270]
007c4011 : SHR EDX,0x3
007c4014 : MOV EAX,0x0
007c4019 : AND EDX,0x1
007c401c : SETZ AL
007c401f : XOR EDI,EDI
007c4021 : PUSH EAX
007c4022 : PUSH EDI
007c4023 : PUSH 0xbf1a4a
007c4028 : PUSH 0x8
007c402a : CALL 0x006f0760
007c402f : ADD ESP,0x10
007c4032 : MOV dword ptr [EBP + 0x8],EAX
007c4035 : MOV dword ptr [EBP + -0x4],0x1
007c403c : CMP EAX,EDI
007c403e : JZ 0x007c404b
007c4040 : MOV dword ptr [EAX],0xcd858c
007c4046 : MOV dword ptr [EAX + 0x4],EDI
007c4049 : JMP 0x007c404d
007c404b : XOR EAX,EAX
007c404d : MOV dword ptr [EBP + -0x4],0xffffffff
007c4054 : PUSH 0x4000
007c4059 : MOV dword ptr [EBX + 0xd0],EAX
007c405f : ADD EAX,0x4
007c4062 : PUSH 0xc1c448
007c4067 : PUSH EAX
007c4068 : CALL 0x00618160
007c406d : MOV ECX,dword ptr [EBX + 0xe0]
007c4073 : MOV EDX,dword ptr [ECX + 0x4]
007c4076 : LEA ESI,[EBX + 0xdc]
007c407c : ADD ESP,0xc
007c407f : PUSH EDX
007c4080 : MOV ECX,ESI
007c4082 : CALL 0x00401c00
007c4087 : MOV EAX,dword ptr [ESI + 0x4]
007c408a : MOV dword ptr [EAX + 0x4],EAX
007c408d : MOV EAX,dword ptr [ESI + 0x4]
007c4090 : MOV dword ptr [ESI + 0x8],EDI
007c4093 : MOV dword ptr [EAX],EAX
007c4095 : MOV ESI,dword ptr [ESI + 0x4]
007c4098 : MOV dword ptr [ESI + 0x8],ESI
007c409b : MOV ECX,dword ptr [EBP + -0xc]
007c409e : MOV dword ptr FS:[0x0],ECX
007c40a5 : POP ECX
007c40a6 : POP EDI
007c40a7 : POP ESI
007c40a8 : POP EBX
007c40a9 : MOV ESP,EBP
007c40ab : POP EBP
007c40ac : RET 0x4
