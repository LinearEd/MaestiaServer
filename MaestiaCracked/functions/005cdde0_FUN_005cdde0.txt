PROGRAM  : Maestia.exe
FUNCTION : FUN_005cdde0
ENTRY    : 005cdde0
BODY     : [[005cdde0, 005cdf90]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005cdde0(int param_1)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  char cVar5;
  int iVar6;
  uint *puVar7;
  int unaff_EDI;
  int local_38 [6];
  undefined1 local_20 [4];
  undefined1 auStack_1c [12];
  undefined1 local_10;
  int iStack_8;
  int *piStack_4;
  
  piVar1 = (int *)(param_1 + 0x78);
  local_10 = 0;
  local_20[0] = 0;
  local_38[0] = FUN_00525380("System",6,0);
  *(int *)(local_38[0] + 8) = *(int *)(local_38[0] + 8) + 1;
  cVar5 = (**(code **)(*(int *)(*(int *)(*piVar1 + 0x2a0) + 0x10) + 0x2c))(piVar1,local_38,local_20)
  ;
  if (cVar5 != '\0') {
    iVar6 = FUN_00526fa0(param_1);
    cVar5 = (**(code **)(*(int *)(iVar6 + 0x10) + 0x2c))(piVar1,*piVar1 + 0x60,auStack_1c);
    if (((cVar5 != '\0') && (iVar6 = FUN_00526fa0(param_1), iVar6 != 0)) && (iVar6 + 0x10 != 0)) {
      iVar2 = *piStack_4;
      if (*(int *)(iVar2 + 0x10) == 0) {
        *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x10;
        if (*(uint *)(param_1 + 0x10) <= *(uint *)(param_1 + 8)) {
          FUN_00504050();
        }
        if (*(undefined1 **)(param_1 + 8) != (undefined1 *)0x0) {
          **(undefined1 **)(param_1 + 8) = 1;
        }
      }
      else {
        *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1;
        *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x10;
        local_38[0] = iVar2;
        if (*(uint *)(param_1 + 0x10) <= *(uint *)(param_1 + 8)) {
          FUN_00504050();
        }
        if (*(int *)(param_1 + 8) != 0) {
          FUN_005266c0(&stack0xffffffc4);
        }
        FUN_00526bc0();
      }
      puVar7 = (uint *)(param_1 + 8);
      uVar3 = *puVar7;
      iVar2 = *(int *)(param_1 + 0xc);
      iVar4 = *(int *)(param_1 + 0x1c);
      iStack_8 = FUN_00525380("onIMEComposition",0x10,0);
      *(int *)(iStack_8 + 8) = *(int *)(iStack_8 + 8) + 1;
      FUN_0057bb40(param_1,iVar6 + 0x10,&iStack_8,1,
                   ((int)(uVar3 - iVar2) >> 4) + -0x20 + iVar4 * 0x20);
      *(int *)(iStack_8 + 8) = *(int *)(iStack_8 + 8) + -1;
      if (*(int *)(iStack_8 + 8) == 0) {
        FUN_00525340();
      }
      FUN_00526bc0();
      *puVar7 = *puVar7 - 0x10;
      if (*puVar7 < *(uint *)(param_1 + 0xc)) {
        FUN_00504f30();
      }
    }
  }
  *(int *)(unaff_EDI + 8) = *(int *)(unaff_EDI + 8) + -1;
  if (*(int *)(unaff_EDI + 8) == 0) {
    FUN_00525340();
  }
  FUN_00526bc0();
  FUN_00526bc0();
  return;
}



============================================================
DISASSEMBLY
============================================================
005cdde0 : SUB ESP,0x38
005cdde3 : PUSH EBP
005cdde4 : MOV EBP,dword ptr [ESP + 0x40]
005cdde8 : MOV EAX,dword ptr [EBP + 0x78]
005cddeb : PUSH ESI
005cddec : PUSH EDI
005cdded : PUSH 0x0
005cddef : LEA EDI,[EBP + 0x78]
005cddf2 : PUSH 0x6
005cddf4 : PUSH 0xb86464
005cddf9 : LEA ECX,[EAX + 0x254]
005cddff : MOV byte ptr [ESP + 0x40],0x0
005cde04 : MOV byte ptr [ESP + 0x30],0x0
005cde09 : CALL 0x00525380
005cde0e : MOV dword ptr [ESP + 0xc],EAX
005cde12 : MOV ESI,0x1
005cde17 : ADD dword ptr [EAX + 0x8],ESI
005cde1a : MOV EAX,dword ptr [EDI]
005cde1c : MOV EAX,dword ptr [EAX + 0x2a0]
005cde22 : MOV EDX,dword ptr [EAX + 0x10]
005cde25 : MOV EDX,dword ptr [EDX + 0x2c]
005cde28 : LEA ECX,[EAX + 0x10]
005cde2b : LEA EAX,[ESP + 0x24]
005cde2f : PUSH EAX
005cde30 : LEA EAX,[ESP + 0x10]
005cde34 : PUSH EAX
005cde35 : PUSH EDI
005cde36 : CALL EDX
005cde38 : TEST AL,AL
005cde3a : JZ 0x005cdf62
005cde40 : PUSH EBX
005cde41 : PUSH EBP
005cde42 : LEA ECX,[ESP + 0x2c]
005cde46 : CALL 0x00526fa0
005cde4b : MOV EDX,dword ptr [EDI]
005cde4d : LEA ECX,[EAX + 0x10]
005cde50 : MOV EAX,dword ptr [ECX]
005cde52 : LEA EBX,[ESP + 0x38]
005cde56 : PUSH EBX
005cde57 : ADD EDX,0x60
005cde5a : PUSH EDX
005cde5b : MOV EDX,dword ptr [EAX + 0x2c]
005cde5e : PUSH EDI
005cde5f : CALL EDX
005cde61 : TEST AL,AL
005cde63 : JZ 0x005cdf61
005cde69 : PUSH EBP
005cde6a : MOV ECX,EBX
005cde6c : CALL 0x00526fa0
005cde71 : TEST EAX,EAX
005cde73 : JZ 0x005cdf61
005cde79 : ADD EAX,0x10
005cde7c : MOV dword ptr [ESP + 0x14],EAX
005cde80 : JZ 0x005cdf61
005cde86 : MOV EAX,dword ptr [ESP + 0x50]
005cde8a : MOV EAX,dword ptr [EAX]
005cde8c : CMP dword ptr [EAX + 0x10],0x0
005cde90 : JZ 0x005cdecf
005cde92 : MOV dword ptr [ESP + 0x1c],EAX
005cde96 : MOV byte ptr [ESP + 0x18],0x5
005cde9b : ADD dword ptr [EAX + 0x8],ESI
005cde9e : ADD dword ptr [EBP + 0x8],0x10
005cdea2 : MOV EAX,dword ptr [EBP + 0x8]
005cdea5 : CMP EAX,dword ptr [EBP + 0x10]
005cdea8 : LEA ESI,[EBP + 0x8]
005cdeab : JC 0x005cdeb4
005cdead : MOV ECX,ESI
005cdeaf : CALL 0x00504050
005cdeb4 : MOV ECX,dword ptr [ESI]
005cdeb6 : TEST ECX,ECX
005cdeb8 : JZ 0x005cdec4
005cdeba : LEA EDX,[ESP + 0x18]
005cdebe : PUSH EDX
005cdebf : CALL 0x005266c0
005cdec4 : LEA ECX,[ESP + 0x18]
005cdec8 : CALL 0x00526bc0
005cdecd : JMP 0x005cdeee
005cdecf : ADD dword ptr [EBP + 0x8],0x10
005cded3 : MOV EAX,dword ptr [EBP + 0x8]
005cded6 : CMP EAX,dword ptr [EBP + 0x10]
005cded9 : LEA ESI,[EBP + 0x8]
005cdedc : JC 0x005cdee5
005cdede : MOV ECX,ESI
005cdee0 : CALL 0x00504050
005cdee5 : MOV EAX,dword ptr [ESI]
005cdee7 : TEST EAX,EAX
005cdee9 : JZ 0x005cdeee
005cdeeb : MOV byte ptr [EAX],0x1
005cdeee : MOV EAX,dword ptr [ESI]
005cdef0 : SUB EAX,dword ptr [ESI + 0x4]
005cdef3 : MOV ECX,dword ptr [ESI + 0x14]
005cdef6 : MOV EDI,dword ptr [EDI]
005cdef8 : PUSH 0x0
005cdefa : SHL ECX,0x5
005cdefd : SAR EAX,0x4
005cdf00 : PUSH 0x10
005cdf02 : LEA EBX,[EAX + ECX*0x1 + -0x20]
005cdf06 : PUSH 0xb92bcc
005cdf0b : LEA ECX,[EDI + 0x254]
005cdf11 : CALL 0x00525380
005cdf16 : PUSH EBX
005cdf17 : MOV dword ptr [ESP + 0x50],EAX
005cdf1b : INC dword ptr [EAX + 0x8]
005cdf1e : MOV EAX,dword ptr [ESP + 0x18]
005cdf22 : PUSH 0x1
005cdf24 : LEA EDX,[ESP + 0x54]
005cdf28 : PUSH EDX
005cdf29 : PUSH EAX
005cdf2a : PUSH EBP
005cdf2b : CALL 0x0057bb40
005cdf30 : MOV EAX,dword ptr [ESP + 0x60]
005cdf34 : DEC dword ptr [EAX + 0x8]
005cdf37 : MOV ECX,EAX
005cdf39 : ADD EAX,0x8
005cdf3c : ADD ESP,0x14
005cdf3f : CMP dword ptr [EAX],0x0
005cdf42 : JNZ 0x005cdf49
005cdf44 : CALL 0x00525340
005cdf49 : MOV ECX,dword ptr [ESI]
005cdf4b : CALL 0x00526bc0
005cdf50 : ADD dword ptr [ESI],-0x10
005cdf53 : MOV EAX,dword ptr [ESI]
005cdf55 : CMP EAX,dword ptr [ESI + 0x4]
005cdf58 : JNC 0x005cdf61
005cdf5a : MOV ECX,ESI
005cdf5c : CALL 0x00504f30
005cdf61 : POP EBX
005cdf62 : MOV EAX,dword ptr [ESP + 0xc]
005cdf66 : DEC dword ptr [EAX + 0x8]
005cdf69 : MOV ECX,EAX
005cdf6b : ADD EAX,0x8
005cdf6e : CMP dword ptr [EAX],0x0
005cdf71 : POP EDI
005cdf72 : POP ESI
005cdf73 : POP EBP
005cdf74 : JNZ 0x005cdf7b
005cdf76 : CALL 0x00525340
005cdf7b : LEA ECX,[ESP + 0x18]
005cdf7f : CALL 0x00526bc0
005cdf84 : LEA ECX,[ESP + 0x28]
005cdf88 : CALL 0x00526bc0
005cdf8d : ADD ESP,0x38
005cdf90 : RET
