PROGRAM  : Maestia.exe
FUNCTION : FUN_008201d0
ENTRY    : 008201d0
BODY     : [[008201d0, 00820284]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008201d0(int param_1)

{
  int *piVar1;
  DWORD DVar2;
  int iVar3;
  float in_XMM0_Da;
  tagMSG atStack_5c [3];
  
  piVar1 = *(int **)(param_1 + 0x368);
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 4))(piVar1,"SetProgPercent",&DAT_00c32728,(double)in_XMM0_Da);
  }
  *(undefined1 *)(DAT_017251ac + 0x360) = 1;
  FUN_007fd100();
  FUN_00800e90();
  *(undefined1 *)(DAT_017251ac + 0x360) = 0;
  DVar2 = timeGetTime();
  if (500 < DVar2 - *(int *)(param_1 + 0x244)) {
    FUN_00a0d4b0();
    DVar2 = timeGetTime();
    iVar3 = _rand();
    *(DWORD *)(param_1 + 0x244) = iVar3 % 500 + DVar2;
  }
  PeekMessageW(atStack_5c,(HWND)0x0,0,0,1);
  return;
}



============================================================
DISASSEMBLY
============================================================
008201d0 : PUSH EBP
008201d1 : MOV EBP,ESP
008201d3 : AND ESP,0xffffffc0
008201d6 : SUB ESP,0x34
008201d9 : PUSH EBX
008201da : MOV EBX,dword ptr [EBP + 0x8]
008201dd : MOV EAX,dword ptr [EBX + 0x368]
008201e3 : PUSH ESI
008201e4 : PUSH EDI
008201e5 : TEST EAX,EAX
008201e7 : JZ 0x0082020a
008201e9 : MOV ECX,dword ptr [EAX]
008201eb : MOV EDX,dword ptr [ECX + 0x4]
008201ee : SUB ESP,0x8
008201f1 : CVTSS2SD XMM0,XMM0
008201f5 : MOVSD qword ptr [ESP],XMM0
008201fa : PUSH 0xc32728
008201ff : PUSH 0xc3272c
00820204 : PUSH EAX
00820205 : CALL EDX
00820207 : ADD ESP,0x14
0082020a : MOV EDI,dword ptr [0x017251ac]
00820210 : MOV byte ptr [EDI + 0x360],0x1
00820217 : CALL 0x007fd100
0082021c : LEA ECX,[EBX + 0x4]
0082021f : CALL 0x00800e90
00820224 : MOV EAX,[0x017251ac]
00820229 : MOV EDI,dword ptr [0x00b85598]
0082022f : MOV byte ptr [EAX + 0x360],0x0
00820236 : CALL EDI
00820238 : SUB EAX,dword ptr [EBX + 0x244]
0082023e : CMP EAX,0x1f4
00820243 : JBE 0x00820269
00820245 : MOV ESI,dword ptr [0x017247d4]
0082024b : CALL 0x00a0d4b0
00820250 : CALL EDI
00820252 : MOV ESI,EAX
00820254 : CALL 0x00635d2f
00820259 : CDQ
0082025a : MOV ECX,0x1f4
0082025f : IDIV ECX
00820261 : ADD EDX,ESI
00820263 : MOV dword ptr [EBX + 0x244],EDX
00820269 : PUSH 0x1
0082026b : PUSH 0x0
0082026d : PUSH 0x0
0082026f : PUSH 0x0
00820271 : LEA EDX,[ESP + 0x34]
00820275 : PUSH EDX
00820276 : CALL dword ptr [0x00b8549c]
0082027c : POP EDI
0082027d : POP ESI
0082027e : POP EBX
0082027f : MOV ESP,EBP
00820281 : POP EBP
00820282 : RET 0x4
