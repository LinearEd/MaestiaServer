PROGRAM  : Maestia.exe
FUNCTION : FUN_006afc00
ENTRY    : 006afc00
BODY     : [[006afc00, 006afd03]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006afc00(int param_1,int param_2)

{
  int iVar1;
  undefined2 extraout_var;
  undefined4 local_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  int iStack_c;
  int iStack_8;
  int iStack_4;
  
  iVar1 = (**(code **)(param_2 + 0x34))(param_2,6,&local_18,3);
  if (iVar1 < 0) {
    *(undefined4 *)(param_2 + 0xc) = 3;
    return;
  }
  iVar1 = iStack_c;
  if (iStack_c < 0) {
    iVar1 = -iStack_c;
  }
  if (iVar1 != 0) {
    FUN_00685f30(0x3e80000,iVar1);
    *(undefined2 *)(param_1 + 0x44) = extraout_var;
    if (iVar1 != 0x10000) {
      local_18 = FUN_00685f30(local_18,iVar1);
      uStack_14 = FUN_00685f30(uStack_14,iVar1);
      uStack_10 = FUN_00685f30(uStack_10,iVar1);
      iStack_8 = FUN_00685f30(iStack_8,iVar1);
      iStack_4 = FUN_00685f30(iStack_4,iVar1);
      iStack_c = 0x10000;
    }
    *(undefined4 *)(param_1 + 0x1b0) = local_18;
    *(int *)(param_1 + 0x1bc) = iStack_c;
    *(undefined4 *)(param_1 + 0x1b8) = uStack_14;
    *(undefined4 *)(param_1 + 0x1b4) = uStack_10;
    *(int *)(param_1 + 0x1c0) = iStack_8 >> 0x10;
    *(int *)(param_1 + 0x1c4) = iStack_4 >> 0x10;
    return;
  }
  *(undefined4 *)(param_2 + 0xc) = 3;
  return;
}



============================================================
DISASSEMBLY
============================================================
006afc00 : SUB ESP,0x18
006afc03 : PUSH EBX
006afc04 : MOV EBX,dword ptr [ESP + 0x24]
006afc08 : MOV ECX,dword ptr [EBX + 0x34]
006afc0b : PUSH EDI
006afc0c : MOV EDI,dword ptr [ESP + 0x24]
006afc10 : PUSH 0x3
006afc12 : LEA EAX,[ESP + 0xc]
006afc16 : PUSH EAX
006afc17 : PUSH 0x6
006afc19 : PUSH EBX
006afc1a : CALL ECX
006afc1c : ADD ESP,0x10
006afc1f : TEST EAX,EAX
006afc21 : JGE 0x006afc30
006afc23 : POP EDI
006afc24 : MOV dword ptr [EBX + 0xc],0x3
006afc2b : POP EBX
006afc2c : ADD ESP,0x18
006afc2f : RET
006afc30 : PUSH ESI
006afc31 : MOV ESI,dword ptr [ESP + 0x18]
006afc35 : TEST ESI,ESI
006afc37 : JGE 0x006afc3d
006afc39 : NEG ESI
006afc3b : TEST ESI,ESI
006afc3d : JNZ 0x006afc4d
006afc3f : POP ESI
006afc40 : POP EDI
006afc41 : MOV dword ptr [EBX + 0xc],0x3
006afc48 : POP EBX
006afc49 : ADD ESP,0x18
006afc4c : RET
006afc4d : PUSH ESI
006afc4e : PUSH 0x3e80000
006afc53 : CALL 0x00685f30
006afc58 : SAR EAX,0x10
006afc5b : ADD ESP,0x8
006afc5e : MOV word ptr [EDI + 0x44],AX
006afc62 : CMP ESI,0x10000
006afc68 : JZ 0x006afcbb
006afc6a : MOV EDX,dword ptr [ESP + 0xc]
006afc6e : PUSH ESI
006afc6f : PUSH EDX
006afc70 : CALL 0x00685f30
006afc75 : MOV dword ptr [ESP + 0x14],EAX
006afc79 : MOV EAX,dword ptr [ESP + 0x18]
006afc7d : PUSH ESI
006afc7e : PUSH EAX
006afc7f : CALL 0x00685f30
006afc84 : MOV ECX,dword ptr [ESP + 0x24]
006afc88 : PUSH ESI
006afc89 : PUSH ECX
006afc8a : MOV dword ptr [ESP + 0x28],EAX
006afc8e : CALL 0x00685f30
006afc93 : MOV EDX,dword ptr [ESP + 0x34]
006afc97 : PUSH ESI
006afc98 : PUSH EDX
006afc99 : MOV dword ptr [ESP + 0x34],EAX
006afc9d : CALL 0x00685f30
006afca2 : MOV dword ptr [ESP + 0x3c],EAX
006afca6 : MOV EAX,dword ptr [ESP + 0x40]
006afcaa : PUSH ESI
006afcab : PUSH EAX
006afcac : CALL 0x00685f30
006afcb1 : ADD ESP,0x28
006afcb4 : MOV ECX,0x10000
006afcb9 : JMP 0x006afcc3
006afcbb : MOV EAX,dword ptr [ESP + 0x20]
006afcbf : MOV ECX,dword ptr [ESP + 0x18]
006afcc3 : MOV EDX,dword ptr [ESP + 0xc]
006afcc7 : MOV dword ptr [EDI + 0x1b0],EDX
006afccd : MOV EDX,dword ptr [ESP + 0x10]
006afcd1 : MOV dword ptr [EDI + 0x1bc],ECX
006afcd7 : MOV ECX,dword ptr [ESP + 0x1c]
006afcdb : MOV dword ptr [EDI + 0x1b8],EDX
006afce1 : MOV EDX,dword ptr [ESP + 0x14]
006afce5 : SAR ECX,0x10
006afce8 : MOV dword ptr [EDI + 0x1b4],EDX
006afcee : SAR EAX,0x10
006afcf1 : POP ESI
006afcf2 : MOV dword ptr [EDI + 0x1c0],ECX
006afcf8 : MOV dword ptr [EDI + 0x1c4],EAX
006afcfe : POP EDI
006afcff : POP EBX
006afd00 : ADD ESP,0x18
006afd03 : RET
