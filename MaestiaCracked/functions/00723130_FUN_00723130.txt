PROGRAM  : Maestia.exe
FUNCTION : FUN_00723130
ENTRY    : 00723130
BODY     : [[00723130, 0072322b]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00723130(int param_1,int param_2)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  undefined1 local_2c [28];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b26e35;
  local_10 = ExceptionList;
  puVar3 = (undefined4 *)0x0;
  if (((param_1 != 0) && (param_2 != 0)) && (*(int *)(param_1 + 0x30) == 8)) {
    ExceptionList = &local_10;
    iVar1 = FUN_006f0300(0x98,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    local_8 = 0;
    if (iVar1 != 0) {
      puVar3 = (undefined4 *)FUN_007221f0(iVar1);
    }
    local_8 = 0xffffffff;
    puVar3[0x24] = param_2 + 0x284;
    puVar3[0x25] = param_1 + 0x54;
    *(undefined1 *)(puVar3 + 4) = 1;
    *(undefined1 *)((int)puVar3 + 0x11) = *(undefined1 *)(param_1 + 0x11);
    *(undefined1 *)((int)puVar3 + 0x12) = *(undefined1 *)(param_1 + 0x12);
    *(undefined1 *)((int)puVar3 + 0x13) = *(undefined1 *)(param_1 + 0x13);
    uVar2 = FUN_004c0550(param_1,local_2c);
    local_8 = 1;
    FUN_00405eb0(uVar2,0,0xffffffff);
    local_8 = 0xffffffff;
    FUN_00406560();
    puVar3[2] = *(undefined4 *)(param_1 + 8);
    (**(code **)*puVar3)();
    puVar3[1] = *(undefined4 *)(param_1 + 4);
    ExceptionList = local_10;
    return puVar3;
  }
  return (undefined4 *)0x0;
}



============================================================
DISASSEMBLY
============================================================
00723130 : PUSH EBP
00723131 : MOV EBP,ESP
00723133 : PUSH -0x1
00723135 : PUSH 0xb26e35
0072313a : MOV EAX,FS:[0x0]
00723140 : PUSH EAX
00723141 : SUB ESP,0x1c
00723144 : PUSH EBX
00723145 : PUSH ESI
00723146 : PUSH EDI
00723147 : MOV EAX,[0x00d66fa0]
0072314c : XOR EAX,EBP
0072314e : PUSH EAX
0072314f : LEA EAX,[EBP + -0xc]
00723152 : MOV FS:[0x0],EAX
00723158 : MOV EDI,dword ptr [EBP + 0x8]
0072315b : XOR ESI,ESI
0072315d : CMP EDI,ESI
0072315f : JNZ 0x00723177
00723161 : XOR EAX,EAX
00723163 : MOV ECX,dword ptr [EBP + -0xc]
00723166 : MOV dword ptr FS:[0x0],ECX
0072316d : POP ECX
0072316e : POP EDI
0072316f : POP ESI
00723170 : POP EBX
00723171 : MOV ESP,EBP
00723173 : POP EBP
00723174 : RET 0x8
00723177 : MOV EBX,dword ptr [EBP + 0xc]
0072317a : CMP EBX,ESI
0072317c : JZ 0x00723161
0072317e : CMP dword ptr [EDI + 0x30],0x8
00723182 : JNZ 0x00723161
00723184 : PUSH 0x98
00723189 : CALL 0x006f0300
0072318e : ADD ESP,0x4
00723191 : MOV dword ptr [EBP + 0x8],EAX
00723194 : MOV dword ptr [EBP + -0x4],ESI
00723197 : CMP EAX,ESI
00723199 : JZ 0x007231a3
0072319b : PUSH EAX
0072319c : CALL 0x007221f0
007231a1 : MOV ESI,EAX
007231a3 : MOV dword ptr [EBP + -0x4],0xffffffff
007231aa : ADD EBX,0x284
007231b0 : MOV dword ptr [ESI + 0x90],EBX
007231b6 : LEA EAX,[EDI + 0x54]
007231b9 : MOV dword ptr [ESI + 0x94],EAX
007231bf : MOV EBX,0x1
007231c4 : MOV byte ptr [ESI + 0x10],BL
007231c7 : MOV AL,byte ptr [EDI + 0x11]
007231ca : MOV byte ptr [ESI + 0x11],AL
007231cd : MOV AL,byte ptr [EDI + 0x12]
007231d0 : LEA ECX,[EBP + -0x28]
007231d3 : MOV byte ptr [ESI + 0x12],AL
007231d6 : MOV AL,byte ptr [EDI + 0x13]
007231d9 : PUSH ECX
007231da : PUSH EDI
007231db : MOV byte ptr [ESI + 0x13],AL
007231de : CALL 0x004c0550
007231e3 : MOV dword ptr [EBP + -0x4],EBX
007231e6 : PUSH -0x1
007231e8 : PUSH 0x0
007231ea : PUSH EAX
007231eb : LEA ECX,[ESI + 0x14]
007231ee : CALL 0x00405eb0
007231f3 : MOV dword ptr [EBP + -0x4],0xffffffff
007231fa : LEA ECX,[EBP + -0x28]
007231fd : CALL 0x00406560
00723202 : MOV EDX,dword ptr [EDI + 0x8]
00723205 : MOV EAX,dword ptr [ESI]
00723207 : MOV dword ptr [ESI + 0x8],EDX
0072320a : MOV EDX,dword ptr [EAX]
0072320c : MOV ECX,ESI
0072320e : CALL EDX
00723210 : MOV EAX,dword ptr [EDI + 0x4]
00723213 : MOV dword ptr [ESI + 0x4],EAX
00723216 : MOV EAX,ESI
00723218 : MOV ECX,dword ptr [EBP + -0xc]
0072321b : MOV dword ptr FS:[0x0],ECX
00723222 : POP ECX
00723223 : POP EDI
00723224 : POP ESI
00723225 : POP EBX
00723226 : MOV ESP,EBP
00723228 : POP EBP
00723229 : RET 0x8
