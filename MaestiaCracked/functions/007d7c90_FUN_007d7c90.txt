PROGRAM  : Maestia.exe
FUNCTION : FUN_007d7c90
ENTRY    : 007d7c90
BODY     : [[007d7c90, 007d7d78] [007d7d80, 007d7dcc] [007d7dd0, 007d7e5d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d7c90(int *param_1)

{
  char cVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  uint uVar6;
  int *piVar7;
  int iVar8;
  undefined **local_38;
  int *piStack_34;
  undefined1 local_30 [4];
  int *local_2c;
  undefined1 auStack_24 [4];
  undefined4 *puStack_20;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b28dc8;
  local_14 = ExceptionList;
  uVar6 = DAT_00d66fa0 ^ (uint)&stack0xffffffb8;
  ExceptionList = &local_14;
  if (param_1[0xa2] != 0) {
    if (param_1[0xa3] != 0) {
      FUN_00445580(local_30,param_1[0xa2] + 8);
      local_c = 0;
      piVar7 = (int *)*local_2c;
      while (piVar7 != local_2c) {
        FUN_0079d9a0(piVar7[4] + 0xc);
        FUN_00416210();
      }
      local_c = 0xffffffff;
      FUN_0040f3f0(local_30);
    }
    FUN_004615e0(param_1[0xa2],&local_38);
    local_c = 1;
    FUN_00445770(auStack_24,piStack_34 + 0xe);
    local_c = CONCAT31(local_c._1_3_,3);
    puVar2 = (undefined4 *)*puStack_20;
    while (puVar2 != puStack_20) {
      iVar3 = puVar2[4];
      if (*(short *)(iVar3 + 0x12) == -1) {
        iVar8 = *param_1;
LAB_007d7da9:
        (**(code **)(iVar8 + 0x2c))(iVar3 + 0x14);
      }
      else {
        piVar7 = (int *)(**(code **)(*param_1 + 0x40))(iVar3 + 0x30,uVar6);
        if (piVar7 != (int *)0x0) {
          iVar8 = *piVar7;
          goto LAB_007d7da9;
        }
      }
      if (*(char *)((int)puVar2 + 0x15) == '\0') {
        puVar4 = (undefined4 *)puVar2[2];
        if (*(char *)((int)puVar4 + 0x15) == '\0') {
          cVar1 = *(char *)((int)*puVar4 + 0x15);
          puVar2 = puVar4;
          puVar4 = (undefined4 *)*puVar4;
          while (cVar1 == '\0') {
            cVar1 = *(char *)((int)*puVar4 + 0x15);
            puVar2 = puVar4;
            puVar4 = (undefined4 *)*puVar4;
          }
        }
        else {
          cVar1 = *(char *)((int)puVar2[1] + 0x15);
          puVar5 = (undefined4 *)puVar2[1];
          puVar4 = puVar2;
          while ((puVar2 = puVar5, cVar1 == '\0' && (puVar4 == (undefined4 *)puVar2[2]))) {
            cVar1 = *(char *)((int)puVar2[1] + 0x15);
            puVar5 = (undefined4 *)puVar2[1];
            puVar4 = puVar2;
          }
        }
      }
    }
    if ((undefined4 *)param_1[0xa2] != (undefined4 *)0x0) {
      (*(code *)**(undefined4 **)param_1[0xa2])(1);
      param_1[0xa2] = 0;
    }
    local_c = CONCAT31(local_c._1_3_,1);
    FUN_0040f3f0(auStack_24);
    local_c = 0xffffffff;
    local_38 = &PTR_FUN_00cd4964;
    if (piStack_34 != (int *)0x0) {
      (**(code **)(*piStack_34 + 0x30))();
    }
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d7c90 : PUSH EBP
007d7c91 : MOV EBP,ESP
007d7c93 : AND ESP,0xfffffff8
007d7c96 : PUSH -0x1
007d7c98 : PUSH 0xb28dc8
007d7c9d : MOV EAX,FS:[0x0]
007d7ca3 : PUSH EAX
007d7ca4 : SUB ESP,0x28
007d7ca7 : PUSH EBX
007d7ca8 : PUSH ESI
007d7ca9 : PUSH EDI
007d7caa : MOV EAX,[0x00d66fa0]
007d7caf : XOR EAX,ESP
007d7cb1 : PUSH EAX
007d7cb2 : LEA EAX,[ESP + 0x38]
007d7cb6 : MOV FS:[0x0],EAX
007d7cbc : MOV EBX,dword ptr [EBP + 0x8]
007d7cbf : MOV EAX,dword ptr [EBX + 0x288]
007d7cc5 : XOR EDI,EDI
007d7cc7 : CMP EAX,EDI
007d7cc9 : JZ 0x007d7e49
007d7ccf : CMP dword ptr [EBX + 0x28c],EDI
007d7cd5 : JZ 0x007d7d35
007d7cd7 : ADD EAX,0x8
007d7cda : PUSH EAX
007d7cdb : LEA EAX,[ESP + 0x20]
007d7cdf : PUSH EAX
007d7ce0 : CALL 0x00445580
007d7ce5 : MOV dword ptr [ESP + 0x40],EDI
007d7ce9 : MOV ECX,dword ptr [ESP + 0x20]
007d7ced : MOV EAX,dword ptr [ECX]
007d7cef : MOV ESI,ECX
007d7cf1 : MOV dword ptr [ESP + 0x10],EAX
007d7cf5 : CMP EAX,ECX
007d7cf7 : JZ 0x007d7d23
007d7cf9 : LEA ESP,[ESP]
007d7d00 : MOV EAX,dword ptr [EAX + 0x10]
007d7d03 : MOV ECX,dword ptr [EBX + 0x28c]
007d7d09 : ADD EAX,0xc
007d7d0c : PUSH EAX
007d7d0d : CALL 0x0079d9a0
007d7d12 : LEA EDX,[ESP + 0x10]
007d7d16 : CALL 0x00416210
007d7d1b : MOV EAX,dword ptr [ESP + 0x10]
007d7d1f : CMP EAX,ESI
007d7d21 : JNZ 0x007d7d00
007d7d23 : MOV dword ptr [ESP + 0x40],0xffffffff
007d7d2b : LEA ECX,[ESP + 0x1c]
007d7d2f : PUSH ECX
007d7d30 : CALL 0x0040f3f0
007d7d35 : MOV EAX,dword ptr [EBX + 0x288]
007d7d3b : LEA EDX,[ESP + 0x14]
007d7d3f : PUSH EDX
007d7d40 : PUSH EAX
007d7d41 : CALL 0x004615e0
007d7d46 : MOV dword ptr [ESP + 0x40],0x1
007d7d4e : MOV EAX,dword ptr [ESP + 0x18]
007d7d52 : ADD EAX,0x38
007d7d55 : PUSH EAX
007d7d56 : LEA ECX,[ESP + 0x2c]
007d7d5a : PUSH ECX
007d7d5b : CALL 0x00445770
007d7d60 : MOV byte ptr [ESP + 0x40],0x3
007d7d65 : MOV EAX,dword ptr [ESP + 0x2c]
007d7d69 : MOV ESI,dword ptr [EAX]
007d7d6b : MOV dword ptr [ESP + 0x10],EAX
007d7d6f : CMP ESI,EAX
007d7d71 : JZ 0x007d7dff
007d7d77 : JMP 0x007d7d80
007d7d80 : MOV EDI,dword ptr [ESI + 0x10]
007d7d83 : MOV EDX,0xffff
007d7d88 : CMP word ptr [EDI + 0x12],DX
007d7d8c : JZ 0x007d7da5
007d7d8e : MOV EAX,dword ptr [EBX]
007d7d90 : MOV EDX,dword ptr [EAX + 0x40]
007d7d93 : LEA ECX,[EDI + 0x30]
007d7d96 : PUSH ECX
007d7d97 : MOV ECX,EBX
007d7d99 : CALL EDX
007d7d9b : TEST EAX,EAX
007d7d9d : JZ 0x007d7db2
007d7d9f : MOV EDX,dword ptr [EAX]
007d7da1 : MOV ECX,EAX
007d7da3 : JMP 0x007d7da9
007d7da5 : MOV EDX,dword ptr [EBX]
007d7da7 : MOV ECX,EBX
007d7da9 : MOV EAX,dword ptr [EDX + 0x2c]
007d7dac : ADD EDI,0x14
007d7daf : PUSH EDI
007d7db0 : CALL EAX
007d7db2 : CMP byte ptr [ESI + 0x15],0x0
007d7db6 : JNZ 0x007d7df7
007d7db8 : MOV EAX,dword ptr [ESI + 0x8]
007d7dbb : CMP byte ptr [EAX + 0x15],0x0
007d7dbf : JNZ 0x007d7ddc
007d7dc1 : MOV ESI,EAX
007d7dc3 : MOV EAX,dword ptr [ESI]
007d7dc5 : CMP byte ptr [EAX + 0x15],0x0
007d7dc9 : JNZ 0x007d7df7
007d7dcb : JMP 0x007d7dd0
007d7dd0 : MOV ESI,EAX
007d7dd2 : MOV EAX,dword ptr [ESI]
007d7dd4 : CMP byte ptr [EAX + 0x15],0x0
007d7dd8 : JZ 0x007d7dd0
007d7dda : JMP 0x007d7df7
007d7ddc : MOV EAX,dword ptr [ESI + 0x4]
007d7ddf : CMP byte ptr [EAX + 0x15],0x0
007d7de3 : JNZ 0x007d7df5
007d7de5 : CMP ESI,dword ptr [EAX + 0x8]
007d7de8 : JNZ 0x007d7df5
007d7dea : MOV ESI,EAX
007d7dec : MOV EAX,dword ptr [EAX + 0x4]
007d7def : CMP byte ptr [EAX + 0x15],0x0
007d7df3 : JZ 0x007d7de5
007d7df5 : MOV ESI,EAX
007d7df7 : CMP ESI,dword ptr [ESP + 0x10]
007d7dfb : JNZ 0x007d7d80
007d7dfd : XOR EDI,EDI
007d7dff : MOV ECX,dword ptr [EBX + 0x288]
007d7e05 : CMP ECX,EDI
007d7e07 : JZ 0x007d7e17
007d7e09 : MOV EDX,dword ptr [ECX]
007d7e0b : MOV EAX,dword ptr [EDX]
007d7e0d : PUSH 0x1
007d7e0f : CALL EAX
007d7e11 : MOV dword ptr [EBX + 0x288],EDI
007d7e17 : MOV byte ptr [ESP + 0x40],0x1
007d7e1c : LEA ECX,[ESP + 0x28]
007d7e20 : PUSH ECX
007d7e21 : CALL 0x0040f3f0
007d7e26 : MOV dword ptr [ESP + 0x40],0xffffffff
007d7e2e : MOV ECX,dword ptr [ESP + 0x18]
007d7e32 : MOV dword ptr [ESP + 0x14],0xcd4964
007d7e3a : CMP ECX,EDI
007d7e3c : JZ 0x007d7e49
007d7e3e : MOV EDX,dword ptr [ECX]
007d7e40 : MOV EAX,dword ptr [EDX + 0x30]
007d7e43 : CALL EAX
007d7e45 : MOV dword ptr [ESP + 0x18],EDI
007d7e49 : MOV ECX,dword ptr [ESP + 0x38]
007d7e4d : MOV dword ptr FS:[0x0],ECX
007d7e54 : POP ECX
007d7e55 : POP EDI
007d7e56 : POP ESI
007d7e57 : POP EBX
007d7e58 : MOV ESP,EBP
007d7e5a : POP EBP
007d7e5b : RET 0x4
