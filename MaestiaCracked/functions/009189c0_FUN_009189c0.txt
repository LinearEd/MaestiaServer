PROGRAM  : Maestia.exe
FUNCTION : FUN_009189c0
ENTRY    : 009189c0
BODY     : [[009189c0, 00918b99]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009189c0(int param_1,ushort param_2)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  void **ppvVar4;
  uint uVar5;
  undefined4 uVar6;
  undefined4 *****pppppuVar7;
  uint local_58;
  uint local_3c;
  undefined4 ****local_2c [4];
  int local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1f041;
  uVar5 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  piVar1 = *(int **)(param_1 + 0x80);
  piVar2 = (int *)*piVar1;
  local_14 = uVar5;
  ppvVar4 = &local_10;
  local_10 = ExceptionList;
  do {
    ExceptionList = ppvVar4;
    if (piVar2 == piVar1) {
LAB_00918b7c:
      ExceptionList = local_10;
      __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
      return;
    }
    if (*(uint *)piVar2[4] == (uint)param_2) {
      local_18 = 7;
      local_1c = 0;
      local_2c[0] = (undefined4 ****)((uint)local_2c[0] & 0xffff0000);
      FUN_00406360(&DAT_00c68cbc,0);
      local_8 = 0;
      if (*(short *)(piVar2[4] + 4) == 1) {
        uVar6 = FUN_0081cbe0(DAT_0172491c);
        local_8._0_1_ = 1;
        FUN_00405eb0(uVar6,0,0xffffffff);
        local_8 = (uint)local_8._1_3_ << 8;
        if (7 < local_3c) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_3c = 7;
      }
      else if (*(short *)(piVar2[4] + 4) == 2) {
        uVar6 = FUN_0081cbe0(DAT_0172491c);
        local_8._0_1_ = 2;
        FUN_00405eb0(uVar6,0,0xffffffff);
        local_8 = (uint)local_8._1_3_ << 8;
        if (7 < local_58) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_58 = 7;
      }
      if (local_1c == 0) {
        local_8 = 0xffffffff;
        if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_18 = 7;
        local_1c = 0;
        local_2c[0] = (undefined4 ****)((uint)local_2c[0] & 0xffff0000);
        goto LAB_00918b7c;
      }
      iVar3 = *DAT_00da9894;
      if ((iVar3 != 0) && (*(int *)(iVar3 + 0x114) != 0)) {
        pppppuVar7 = (undefined4 *****)local_2c[0];
        if (local_18 < 8) {
          pppppuVar7 = local_2c;
        }
        (**(code **)(**(int **)(iVar3 + 0x114) + 4))
                  (*(int **)(iVar3 + 0x114),"SetTooltip","%d,%ls,%d",0,pppppuVar7,0);
      }
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_18 = 7;
      local_1c = 0;
      local_2c[0] = (undefined4 ****)((uint)local_2c[0] & 0xffff0000);
    }
    FUN_00416210(uVar5);
    ppvVar4 = ExceptionList;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
009189c0 : PUSH EBP
009189c1 : MOV EBP,ESP
009189c3 : PUSH -0x1
009189c5 : PUSH 0xb1f041
009189ca : MOV EAX,FS:[0x0]
009189d0 : PUSH EAX
009189d1 : SUB ESP,0x60
009189d4 : MOV EAX,[0x00d66fa0]
009189d9 : XOR EAX,EBP
009189db : MOV dword ptr [EBP + -0x10],EAX
009189de : PUSH EBX
009189df : PUSH ESI
009189e0 : PUSH EDI
009189e1 : PUSH EAX
009189e2 : LEA EAX,[EBP + -0xc]
009189e5 : MOV FS:[0x0],EAX
009189eb : MOV EAX,dword ptr [EBP + 0x8]
009189ee : MOV EAX,dword ptr [EAX + 0x80]
009189f4 : MOV ESI,dword ptr [EAX]
009189f6 : MOV dword ptr [EBP + -0x34],EAX
009189f9 : MOV dword ptr [EBP + -0x30],ESI
009189fc : CMP ESI,EAX
009189fe : JZ 0x00918b7c
00918a04 : XOR EBX,EBX
00918a06 : LEA EDI,[EBX + 0x8]
00918a09 : LEA ESP,[ESP]
00918a10 : MOVZX EAX,word ptr [EBP + 0xc]
00918a14 : MOV ECX,dword ptr [ESI + 0x10]
00918a17 : CMP dword ptr [ECX],EAX
00918a19 : JNZ 0x00918b42
00918a1f : PUSH EBX
00918a20 : XOR EDX,EDX
00918a22 : PUSH 0xc68cbc
00918a27 : LEA ECX,[EBP + -0x2c]
00918a2a : MOV dword ptr [EBP + -0x14],0x7
00918a31 : MOV dword ptr [EBP + -0x18],EBX
00918a34 : MOV word ptr [EBP + -0x28],DX
00918a38 : CALL 0x00406360
00918a3d : MOV dword ptr [EBP + -0x4],EBX
00918a40 : MOV EAX,dword ptr [ESI + 0x10]
00918a43 : MOVZX EAX,word ptr [EAX + 0x4]
00918a47 : CMP AX,0x1
00918a4b : JNZ 0x00918a93
00918a4d : MOV ECX,dword ptr [0x0172491c]
00918a53 : PUSH ECX
00918a54 : MOV ECX,0xc68cc0
00918a59 : LEA ESI,[EBP + -0x50]
00918a5c : CALL 0x0081cbe0
00918a61 : MOV byte ptr [EBP + -0x4],0x1
00918a65 : PUSH -0x1
00918a67 : PUSH EBX
00918a68 : PUSH EAX
00918a69 : LEA ECX,[EBP + -0x2c]
00918a6c : CALL 0x00405eb0
00918a71 : MOV byte ptr [EBP + -0x4],BL
00918a74 : CMP dword ptr [EBP + -0x38],EDI
00918a77 : JC 0x00918a81
00918a79 : MOV ECX,dword ptr [EBP + -0x4c]
00918a7c : CALL 0x006f04e0
00918a81 : XOR EDX,EDX
00918a83 : MOV dword ptr [EBP + -0x38],0x7
00918a8a : MOV dword ptr [EBP + -0x3c],EBX
00918a8d : MOV word ptr [EBP + -0x4c],DX
00918a91 : JMP 0x00918adc
00918a93 : CMP AX,0x2
00918a97 : JNZ 0x00918adc
00918a99 : MOV EAX,[0x0172491c]
00918a9e : PUSH EAX
00918a9f : MOV ECX,0xc68cd8
00918aa4 : LEA ESI,[EBP + -0x6c]
00918aa7 : CALL 0x0081cbe0
00918aac : MOV byte ptr [EBP + -0x4],0x2
00918ab0 : PUSH -0x1
00918ab2 : PUSH EBX
00918ab3 : PUSH EAX
00918ab4 : LEA ECX,[EBP + -0x2c]
00918ab7 : CALL 0x00405eb0
00918abc : MOV byte ptr [EBP + -0x4],BL
00918abf : CMP dword ptr [EBP + -0x54],EDI
00918ac2 : JC 0x00918acc
00918ac4 : MOV ECX,dword ptr [EBP + -0x68]
00918ac7 : CALL 0x006f04e0
00918acc : XOR ECX,ECX
00918ace : MOV dword ptr [EBP + -0x54],0x7
00918ad5 : MOV dword ptr [EBP + -0x58],EBX
00918ad8 : MOV word ptr [EBP + -0x68],CX
00918adc : CMP dword ptr [EBP + -0x18],EBX
00918adf : JZ 0x00918b58
00918ae1 : MOV EDX,dword ptr [0x00da9894]
00918ae7 : MOV EAX,dword ptr [EDX]
00918ae9 : CMP EAX,EBX
00918aeb : JZ 0x00918b1e
00918aed : CMP dword ptr [EAX + 0x114],EBX
00918af3 : JZ 0x00918b1e
00918af5 : MOV EAX,dword ptr [EAX + 0x114]
00918afb : MOV ECX,dword ptr [EBP + -0x28]
00918afe : CMP dword ptr [EBP + -0x14],EDI
00918b01 : JNC 0x00918b06
00918b03 : LEA ECX,[EBP + -0x28]
00918b06 : MOV EDX,dword ptr [EAX]
00918b08 : PUSH EBX
00918b09 : PUSH ECX
00918b0a : PUSH EBX
00918b0b : PUSH 0xc68cec
00918b10 : PUSH 0xc68cf8
00918b15 : PUSH EAX
00918b16 : MOV EAX,dword ptr [EDX + 0x4]
00918b19 : CALL EAX
00918b1b : ADD ESP,0x18
00918b1e : MOV dword ptr [EBP + -0x4],0xffffffff
00918b25 : CMP dword ptr [EBP + -0x14],EDI
00918b28 : JC 0x00918b32
00918b2a : MOV ECX,dword ptr [EBP + -0x28]
00918b2d : CALL 0x006f04e0
00918b32 : XOR ECX,ECX
00918b34 : MOV dword ptr [EBP + -0x14],0x7
00918b3b : MOV dword ptr [EBP + -0x18],EBX
00918b3e : MOV word ptr [EBP + -0x28],CX
00918b42 : LEA EDX,[EBP + -0x30]
00918b45 : CALL 0x00416210
00918b4a : MOV ESI,dword ptr [EBP + -0x30]
00918b4d : CMP ESI,dword ptr [EBP + -0x34]
00918b50 : JNZ 0x00918a10
00918b56 : JMP 0x00918b7c
00918b58 : MOV dword ptr [EBP + -0x4],0xffffffff
00918b5f : CMP dword ptr [EBP + -0x14],EDI
00918b62 : JC 0x00918b6c
00918b64 : MOV ECX,dword ptr [EBP + -0x28]
00918b67 : CALL 0x006f04e0
00918b6c : XOR EDX,EDX
00918b6e : MOV dword ptr [EBP + -0x14],0x7
00918b75 : MOV dword ptr [EBP + -0x18],EBX
00918b78 : MOV word ptr [EBP + -0x28],DX
00918b7c : MOV ECX,dword ptr [EBP + -0xc]
00918b7f : MOV dword ptr FS:[0x0],ECX
00918b86 : POP ECX
00918b87 : POP EDI
00918b88 : POP ESI
00918b89 : POP EBX
00918b8a : MOV ECX,dword ptr [EBP + -0x10]
00918b8d : XOR ECX,EBP
00918b8f : CALL 0x00633e6b
00918b94 : MOV ESP,EBP
00918b96 : POP EBP
00918b97 : RET 0x8
