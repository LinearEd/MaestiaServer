PROGRAM  : Maestia.exe
FUNCTION : FUN_00a63400
ENTRY    : 00a63400
BODY     : [[00a63400, 00a6341c] [00a63420, 00a634cb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a63400(int param_1)

{
  int *piVar1;
  int *in_EAX;
  int iVar2;
  int in_ECX;
  uint uVar3;
  int iVar4;
  int local_1c;
  int local_18;
  int local_14;
  int local_10;
  int local_c;
  int local_8;
  
  for (iVar4 = in_ECX + -8; 0 < iVar4; iVar4 = iVar4 - local_18) {
    local_8 = iVar4;
    local_14 = (**(code **)(*in_EAX + 0xc))(&local_1c,4,1);
    iVar2 = (**(code **)(*in_EAX + 0xc))(&local_18,4,1);
    local_14 = local_14 + iVar2;
    if (local_1c == 0x20101000) {
      local_c = FUN_00a63190(local_18);
      if (local_c != 0) {
        iVar4 = *(int *)(param_1 + 0x3c);
        if (iVar4 == 0) {
          uVar3 = 0;
        }
        else {
          uVar3 = *(int *)(param_1 + 0x44) - iVar4 >> 2;
        }
        piVar1 = *(int **)(param_1 + 0x40);
        local_10 = local_c;
        if ((uint)((int)piVar1 - iVar4 >> 2) < uVar3) {
          *piVar1 = local_c;
          *(int **)(param_1 + 0x40) = piVar1 + 1;
          iVar4 = local_8;
        }
        else {
          FUN_0042fe80(param_1 + 0x38,piVar1,&local_10);
          iVar4 = local_8;
        }
      }
    }
    else {
      (**(code **)(*in_EAX + 0x24))(local_18);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a63400 : PUSH EBP
00a63401 : MOV EBP,ESP
00a63403 : SUB ESP,0x18
00a63406 : PUSH ESI
00a63407 : PUSH EDI
00a63408 : MOV EDI,ECX
00a6340a : ADD EDI,-0x8
00a6340d : MOV ESI,EAX
00a6340f : MOV dword ptr [EBP + -0x4],EDI
00a63412 : TEST EDI,EDI
00a63414 : JLE 0x00a634c4
00a6341a : PUSH EBX
00a6341b : JMP 0x00a63420
00a63420 : MOV EAX,dword ptr [ESI]
00a63422 : MOV EDX,dword ptr [EAX + 0xc]
00a63425 : PUSH 0x1
00a63427 : PUSH 0x4
00a63429 : LEA ECX,[EBP + -0x18]
00a6342c : PUSH ECX
00a6342d : MOV ECX,ESI
00a6342f : CALL EDX
00a63431 : PUSH 0x1
00a63433 : MOV dword ptr [EBP + -0x10],EAX
00a63436 : MOV EAX,dword ptr [ESI]
00a63438 : MOV EDX,dword ptr [EAX + 0xc]
00a6343b : PUSH 0x4
00a6343d : LEA ECX,[EBP + -0x14]
00a63440 : PUSH ECX
00a63441 : MOV ECX,ESI
00a63443 : CALL EDX
00a63445 : ADD dword ptr [EBP + -0x10],EAX
00a63448 : CMP dword ptr [EBP + -0x18],0x20101000
00a6344f : JZ 0x00a63460
00a63451 : MOV ECX,dword ptr [EBP + -0x14]
00a63454 : MOV EAX,dword ptr [ESI]
00a63456 : MOV EDX,dword ptr [EAX + 0x24]
00a63459 : PUSH ECX
00a6345a : MOV ECX,ESI
00a6345c : CALL EDX
00a6345e : JMP 0x00a634b5
00a63460 : MOV EAX,dword ptr [EBP + -0x14]
00a63463 : PUSH EAX
00a63464 : CALL 0x00a63190
00a63469 : MOV dword ptr [EBP + -0x8],EAX
00a6346c : TEST EAX,EAX
00a6346e : JZ 0x00a634b5
00a63470 : MOV ECX,dword ptr [EBP + 0x8]
00a63473 : ADD ECX,0x38
00a63476 : MOV dword ptr [EBP + -0xc],EAX
00a63479 : MOV EAX,dword ptr [ECX + 0x4]
00a6347c : TEST EAX,EAX
00a6347e : JNZ 0x00a63484
00a63480 : XOR EDX,EDX
00a63482 : JMP 0x00a6348c
00a63484 : MOV EDX,dword ptr [ECX + 0xc]
00a63487 : SUB EDX,EAX
00a63489 : SAR EDX,0x2
00a6348c : MOV EDI,dword ptr [ECX + 0x8]
00a6348f : MOV EBX,EDI
00a63491 : SUB EBX,EAX
00a63493 : SAR EBX,0x2
00a63496 : CMP EBX,EDX
00a63498 : JNC 0x00a634a7
00a6349a : MOV EDX,dword ptr [EBP + -0x8]
00a6349d : MOV dword ptr [EDI],EDX
00a6349f : ADD EDI,0x4
00a634a2 : MOV dword ptr [ECX + 0x8],EDI
00a634a5 : JMP 0x00a634b2
00a634a7 : LEA EAX,[EBP + -0xc]
00a634aa : PUSH EAX
00a634ab : PUSH EDI
00a634ac : PUSH ECX
00a634ad : CALL 0x0042fe80
00a634b2 : MOV EDI,dword ptr [EBP + -0x4]
00a634b5 : SUB EDI,dword ptr [EBP + -0x14]
00a634b8 : MOV dword ptr [EBP + -0x4],EDI
00a634bb : TEST EDI,EDI
00a634bd : JG 0x00a63420
00a634c3 : POP EBX
00a634c4 : POP EDI
00a634c5 : POP ESI
00a634c6 : MOV ESP,EBP
00a634c8 : POP EBP
00a634c9 : RET 0x4
