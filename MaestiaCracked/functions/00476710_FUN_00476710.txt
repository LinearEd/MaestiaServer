PROGRAM  : Maestia.exe
FUNCTION : FUN_00476710
ENTRY    : 00476710
BODY     : [[00476710, 0047677c] [00476780, 004767cb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00476710(int *param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int unaff_ESI;
  undefined4 *unaff_EDI;
  
  piVar2 = *(int **)(unaff_ESI + 4);
  if ((param_1 == (int *)*piVar2) && (param_2 == piVar2)) {
    FUN_0042cc20(piVar2[1]);
    *(int *)(*(int *)(unaff_ESI + 4) + 4) = *(int *)(unaff_ESI + 4);
    *(undefined4 *)(unaff_ESI + 8) = 0;
    *(undefined4 *)*(undefined4 *)(unaff_ESI + 4) = *(undefined4 *)(unaff_ESI + 4);
    *(int *)(*(int *)(unaff_ESI + 4) + 8) = *(int *)(unaff_ESI + 4);
    *unaff_EDI = **(undefined4 **)(unaff_ESI + 4);
    return;
  }
  while (param_1 != param_2) {
    if (*(char *)((int)param_1 + 0x19) == '\0') {
      piVar2 = (int *)param_1[2];
      if (*(char *)((int)piVar2 + 0x19) == '\0') {
        cVar1 = *(char *)(*piVar2 + 0x19);
        param_1 = piVar2;
        piVar2 = (int *)*piVar2;
        while (cVar1 == '\0') {
          cVar1 = *(char *)(*piVar2 + 0x19);
          param_1 = piVar2;
          piVar2 = (int *)*piVar2;
        }
      }
      else {
        cVar1 = *(char *)(param_1[1] + 0x19);
        piVar3 = (int *)param_1[1];
        piVar2 = param_1;
        while ((param_1 = piVar3, cVar1 == '\0' && (piVar2 == (int *)param_1[2]))) {
          cVar1 = *(char *)(param_1[1] + 0x19);
          piVar3 = (int *)param_1[1];
          piVar2 = param_1;
        }
      }
    }
    FUN_00476900();
  }
  *unaff_EDI = param_1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00476710 : PUSH EBP
00476711 : MOV EBP,ESP
00476713 : AND ESP,0xfffffff8
00476716 : MOV EAX,dword ptr [ESI + 0x4]
00476719 : MOV ECX,dword ptr [EBP + 0x8]
0047671c : MOV EDX,dword ptr [EBP + 0xc]
0047671f : SUB ESP,0x8
00476722 : CMP ECX,dword ptr [EAX]
00476724 : JNZ 0x0047675c
00476726 : CMP EDX,EAX
00476728 : JNZ 0x0047675c
0047672a : MOV EAX,dword ptr [EAX + 0x4]
0047672d : PUSH EAX
0047672e : MOV ECX,ESI
00476730 : CALL 0x0042cc20
00476735 : MOV EAX,dword ptr [ESI + 0x4]
00476738 : MOV dword ptr [EAX + 0x4],EAX
0047673b : MOV EAX,dword ptr [ESI + 0x4]
0047673e : MOV dword ptr [ESI + 0x8],0x0
00476745 : MOV dword ptr [EAX],EAX
00476747 : MOV EAX,dword ptr [ESI + 0x4]
0047674a : MOV dword ptr [EAX + 0x8],EAX
0047674d : MOV ECX,dword ptr [ESI + 0x4]
00476750 : MOV EDX,dword ptr [ECX]
00476752 : MOV dword ptr [EDI],EDX
00476754 : MOV EAX,EDI
00476756 : MOV ESP,EBP
00476758 : POP EBP
00476759 : RET 0x8
0047675c : CMP ECX,EDX
0047675e : JZ 0x004767c2
00476760 : CMP byte ptr [ECX + 0x19],0x0
00476764 : MOV EDX,ECX
00476766 : JNZ 0x004767ae
00476768 : MOV EAX,dword ptr [ECX + 0x8]
0047676b : CMP byte ptr [EAX + 0x19],0x0
0047676f : JNZ 0x0047678f
00476771 : MOV ECX,EAX
00476773 : MOV EAX,dword ptr [ECX]
00476775 : CMP byte ptr [EAX + 0x19],0x0
00476779 : JNZ 0x0047678a
0047677b : JMP 0x00476780
00476780 : MOV ECX,EAX
00476782 : MOV EAX,dword ptr [ECX]
00476784 : CMP byte ptr [EAX + 0x19],0x0
00476788 : JZ 0x00476780
0047678a : MOV dword ptr [EBP + 0x8],ECX
0047678d : JMP 0x004767ae
0047678f : MOV EAX,dword ptr [ECX + 0x4]
00476792 : CMP byte ptr [EAX + 0x19],0x0
00476796 : JNZ 0x004767ab
00476798 : CMP ECX,dword ptr [EAX + 0x8]
0047679b : JNZ 0x004767ab
0047679d : MOV ECX,EAX
0047679f : MOV dword ptr [EBP + 0x8],ECX
004767a2 : MOV EAX,dword ptr [EAX + 0x4]
004767a5 : CMP byte ptr [EAX + 0x19],0x0
004767a9 : JZ 0x00476798
004767ab : MOV dword ptr [EBP + 0x8],EAX
004767ae : PUSH EDX
004767af : LEA EAX,[ESP + 0x8]
004767b3 : PUSH EAX
004767b4 : PUSH ESI
004767b5 : CALL 0x00476900
004767ba : MOV ECX,dword ptr [EBP + 0x8]
004767bd : CMP ECX,dword ptr [EBP + 0xc]
004767c0 : JNZ 0x00476760
004767c2 : MOV dword ptr [EDI],ECX
004767c4 : MOV EAX,EDI
004767c6 : MOV ESP,EBP
004767c8 : POP EBP
004767c9 : RET 0x8
