PROGRAM  : Maestia.exe
FUNCTION : FUN_005d52d0
ENTRY    : 005d52d0
BODY     : [[005d52d0, 005d537b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005d52d0(byte param_1,GRefCountImpl *param_2,undefined4 *param_3)

{
  byte *in_ECX;
  
  if (((*in_ECX & 0x10) != 0) && (*(GRefCountImpl **)(in_ECX + 4) != (GRefCountImpl *)0x0)) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 4));
  }
  *in_ECX = param_1;
  in_ECX[1] = 2;
  *(undefined4 *)(in_ECX + 0x10) = *param_3;
  *(undefined4 *)(in_ECX + 0x14) = param_3[1];
  *(undefined4 *)(in_ECX + 0x18) = param_3[2];
  *(undefined4 *)(in_ECX + 0x1c) = param_3[3];
  *(undefined4 *)(in_ECX + 0x20) = param_3[4];
  *(undefined4 *)(in_ECX + 0x24) = param_3[5];
  *(float *)(in_ECX + 0x10) = *(float *)(in_ECX + 0x10) * 20.0;
  *(float *)(in_ECX + 0x14) = *(float *)(in_ECX + 0x14) * 20.0;
  *(float *)(in_ECX + 0x18) = *(float *)(in_ECX + 0x18) * 20.0;
  *(float *)(in_ECX + 0x1c) = *(float *)(in_ECX + 0x1c) * 20.0;
  *(float *)(in_ECX + 0x20) = *(float *)(in_ECX + 0x20) * 20.0;
  *(float *)(in_ECX + 0x24) = *(float *)(in_ECX + 0x24) * 20.0;
  if (param_2 != (GRefCountImpl *)0x0) {
    GRefCountImpl::AddRef(param_2);
  }
  if ((*(int *)(in_ECX + 8) == 0) && (*(int *)(in_ECX + 0xc) != 0)) {
    FUN_00524240();
  }
  *(GRefCountImpl **)(in_ECX + 0xc) = param_2;
  in_ECX[8] = 0;
  in_ECX[9] = 0;
  in_ECX[10] = 0;
  in_ECX[0xb] = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
005d52d0 : PUSH ESI
005d52d1 : MOV ESI,ECX
005d52d3 : TEST byte ptr [ESI],0x10
005d52d6 : PUSH EDI
005d52d7 : JZ 0x005d52e5
005d52d9 : MOV ECX,dword ptr [ESI + 0x4]
005d52dc : TEST ECX,ECX
005d52de : JZ 0x005d52e5
005d52e0 : CALL 0x004ff7e0
005d52e5 : MOV AL,byte ptr [ESP + 0xc]
005d52e9 : MOV byte ptr [ESI],AL
005d52eb : MOV EAX,dword ptr [ESP + 0x14]
005d52ef : MOV byte ptr [ESI + 0x1],0x2
005d52f3 : FLD float ptr [EAX]
005d52f5 : FSTP float ptr [ESI + 0x10]
005d52f8 : MOV EDI,dword ptr [ESP + 0x10]
005d52fc : FLD float ptr [EAX + 0x4]
005d52ff : FSTP float ptr [ESI + 0x14]
005d5302 : FLD float ptr [EAX + 0x8]
005d5305 : FSTP float ptr [ESI + 0x18]
005d5308 : FLD float ptr [EAX + 0xc]
005d530b : FSTP float ptr [ESI + 0x1c]
005d530e : FLD float ptr [EAX + 0x10]
005d5311 : FSTP float ptr [ESI + 0x20]
005d5314 : FLD float ptr [EAX + 0x14]
005d5317 : FSTP float ptr [ESI + 0x24]
005d531a : FLD float ptr [ESI + 0x10]
005d531d : FLD double ptr [0x00b86058]
005d5323 : FMUL ST1
005d5325 : FXCH
005d5327 : FSTP float ptr [ESI + 0x10]
005d532a : FLD float ptr [ESI + 0x14]
005d532d : FMUL ST1
005d532f : FSTP float ptr [ESI + 0x14]
005d5332 : FLD float ptr [ESI + 0x18]
005d5335 : FMUL ST1
005d5337 : FSTP float ptr [ESI + 0x18]
005d533a : FLD float ptr [ESI + 0x1c]
005d533d : FMUL ST1
005d533f : FSTP float ptr [ESI + 0x1c]
005d5342 : FLD float ptr [ESI + 0x20]
005d5345 : FMUL ST1
005d5347 : FSTP float ptr [ESI + 0x20]
005d534a : FMUL float ptr [ESI + 0x24]
005d534d : FSTP float ptr [ESI + 0x24]
005d5350 : TEST EDI,EDI
005d5352 : JZ 0x005d535b
005d5354 : MOV ECX,EDI
005d5356 : CALL 0x00523dd0
005d535b : CMP dword ptr [ESI + 0x8],0x0
005d535f : JNZ 0x005d536d
005d5361 : MOV ECX,dword ptr [ESI + 0xc]
005d5364 : TEST ECX,ECX
005d5366 : JZ 0x005d536d
005d5368 : CALL 0x00524240
005d536d : MOV dword ptr [ESI + 0xc],EDI
005d5370 : POP EDI
005d5371 : MOV dword ptr [ESI + 0x8],0x0
005d5378 : POP ESI
005d5379 : RET 0xc
