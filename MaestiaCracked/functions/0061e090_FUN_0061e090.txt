PROGRAM  : Maestia.exe
FUNCTION : FUN_0061e090
ENTRY    : 0061e090
BODY     : [[0061e090, 0061e146] [0061e150, 0061e1e4] [0061e1f0, 0061e34b]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0061e090(int param_1)

{
  float *pfVar1;
  float *pfVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  float *pfVar9;
  int iVar10;
  float fVar11;
  double dVar12;
  float fVar13;
  float fVar14;
  float fVar15;
  float fVar16;
  float fVar17;
  float fVar18;
  int local_38;
  int local_34;
  float local_30;
  int local_2c;
  
  piVar3 = *(int **)(param_1 + 0x17c);
  iVar5 = FUN_0061b940(*piVar3 * 0xc,0,0,DAT_00d7b3ec);
  piVar3[2] = iVar5;
  iVar5 = FUN_0061b940(*piVar3 * 0xc,0,0,DAT_00d7b3ec);
  piVar3[3] = iVar5;
  iVar4 = *piVar3;
  iVar8 = *(int *)(param_1 + 0x174);
  *(undefined4 *)piVar3[2] = **(undefined4 **)(param_1 + 0x178);
  *(undefined4 *)(piVar3[2] + 4) = *(undefined4 *)(*(int *)(param_1 + 0x178) + 4);
  *(undefined4 *)(piVar3[2] + 8) = *(undefined4 *)(*(int *)(param_1 + 0x178) + 8);
  iVar8 = iVar8 + -1;
  piVar3[1] = 0;
  local_2c = 1;
  iVar5 = iVar4;
  if (1 < iVar4) {
    iVar10 = 0xc;
    do {
      local_30 = 1.0;
      fVar13 = 1.0 - (float)local_2c / (float)iVar4;
      dVar12 = (double)fVar13;
      FUN_0063f0c5();
      fVar17 = 0.0;
      fVar16 = 0.0;
      fVar15 = 0.0;
      fVar18 = (float)dVar12;
      local_38 = 0;
      if (-1 < iVar8) {
        pfVar9 = *(float **)(param_1 + 0x178);
        local_34 = iVar8;
        do {
          fVar11 = fVar18 * local_30;
          local_30 = local_30 * ((float)local_2c / (float)iVar4);
          fVar18 = (1.0 / fVar13) * fVar18;
          iVar5 = iVar8;
          iVar6 = local_38;
          iVar7 = local_34;
          while (0 < iVar5) {
            fVar14 = (float)iVar5;
            iVar5 = iVar5 + -1;
            fVar11 = fVar14 * fVar11;
            if (1 < iVar6) {
              fVar11 = fVar11 / (float)iVar6;
              iVar6 = iVar6 + -1;
            }
            if (1 < iVar7) {
              fVar11 = fVar11 / (float)iVar7;
              iVar7 = iVar7 + -1;
            }
          }
          fVar14 = *pfVar9;
          pfVar1 = pfVar9 + 1;
          pfVar2 = pfVar9 + 2;
          local_34 = local_34 + -1;
          local_38 = local_38 + 1;
          pfVar9 = pfVar9 + 3;
          fVar15 = fVar14 * fVar11 + fVar15;
          fVar16 = *pfVar1 * fVar11 + fVar16;
          fVar17 = *pfVar2 * fVar11 + fVar17;
        } while (local_38 <= iVar8);
      }
      *(float *)(iVar10 + piVar3[2]) = fVar15;
      *(float *)(iVar10 + 4 + piVar3[2]) = fVar16;
      *(float *)(iVar10 + 8 + piVar3[2]) = fVar17;
      *(float *)(iVar10 + piVar3[3]) = fVar15 - *(float *)(iVar10 + -0xc + piVar3[2]);
      *(float *)(iVar10 + 4 + piVar3[3]) = fVar16 - *(float *)(iVar10 + -8 + piVar3[2]);
      *(float *)(iVar10 + 8 + piVar3[3]) = fVar17 - *(float *)(iVar10 + -4 + piVar3[2]);
      iVar5 = piVar3[3];
      pfVar9 = (float *)(iVar10 + iVar5);
      fVar17 = *(float *)(iVar10 + 4 + iVar5);
      fVar16 = *(float *)(iVar10 + 8 + iVar5);
      iVar5 = iVar10 + iVar5;
      local_2c = local_2c + 1;
      iVar10 = iVar10 + 0xc;
      piVar3[1] = (int)(SQRT(*pfVar9 * *pfVar9 + fVar17 * fVar17 + fVar16 * fVar16) +
                       (float)piVar3[1]);
    } while (local_2c < iVar4);
  }
  return iVar5;
}



============================================================
DISASSEMBLY
============================================================
0061e090 : SUB ESP,0x38
0061e093 : MOV EAX,[0x00d7b3ec]
0061e098 : PUSH EBX
0061e099 : PUSH EBP
0061e09a : PUSH ESI
0061e09b : PUSH EDI
0061e09c : MOV EDI,dword ptr [ESP + 0x4c]
0061e0a0 : MOV ESI,dword ptr [EDI + 0x17c]
0061e0a6 : PUSH EAX
0061e0a7 : MOV EAX,dword ptr [ESI]
0061e0a9 : LEA ECX,[EAX + EAX*0x2]
0061e0ac : PUSH 0x0
0061e0ae : ADD ECX,ECX
0061e0b0 : ADD ECX,ECX
0061e0b2 : PUSH 0x0
0061e0b4 : PUSH ECX
0061e0b5 : CALL 0x0061b940
0061e0ba : MOV dword ptr [ESI + 0x8],EAX
0061e0bd : MOV EDX,dword ptr [0x00d7b3ec]
0061e0c3 : MOV EAX,dword ptr [ESI]
0061e0c5 : PUSH EDX
0061e0c6 : LEA EAX,[EAX + EAX*0x2]
0061e0c9 : PUSH 0x0
0061e0cb : ADD EAX,EAX
0061e0cd : ADD EAX,EAX
0061e0cf : PUSH 0x0
0061e0d1 : PUSH EAX
0061e0d2 : CALL 0x0061b940
0061e0d7 : MOV EDX,dword ptr [ESI + 0x8]
0061e0da : XORPS XMM0,XMM0
0061e0dd : MOV dword ptr [ESI + 0xc],EAX
0061e0e0 : MOV ECX,dword ptr [EDI + 0x178]
0061e0e6 : FLD float ptr [ECX]
0061e0e8 : MOV EAX,dword ptr [ESI]
0061e0ea : MOV EBX,dword ptr [EDI + 0x174]
0061e0f0 : FSTP float ptr [EDX]
0061e0f2 : MOV ECX,dword ptr [EDI + 0x178]
0061e0f8 : FLD float ptr [ECX + 0x4]
0061e0fb : MOV EDX,dword ptr [ESI + 0x8]
0061e0fe : FSTP float ptr [EDX + 0x4]
0061e101 : MOV ECX,dword ptr [EDI + 0x178]
0061e107 : FLD float ptr [ECX + 0x8]
0061e10a : MOV EDX,dword ptr [ESI + 0x8]
0061e10d : MOV EBP,0x1
0061e112 : FSTP float ptr [EDX + 0x8]
0061e115 : ADD ESP,0x20
0061e118 : DEC EBX
0061e119 : CMP EAX,EBP
0061e11b : MOV dword ptr [ESP + 0x30],EAX
0061e11f : MOVSS dword ptr [ESI + 0x4],XMM0
0061e124 : MOV dword ptr [ESP + 0x1c],EBP
0061e128 : JLE 0x0061e344
0061e12e : CVTSI2SS XMM1,EAX
0061e132 : MOVSS dword ptr [ESP + 0x20],XMM1
0061e138 : CVTSI2SD XMM1,EBX
0061e13c : MOVSD qword ptr [ESP + 0x34],XMM1
0061e142 : LEA EDI,[EBP + 0xb]
0061e145 : JMP 0x0061e153
0061e150 : XORPS XMM0,XMM0
0061e153 : MOVSS XMM1,dword ptr [0x00b86060]
0061e15b : MOVSS dword ptr [ESP + 0x3c],XMM0
0061e161 : MOVSS dword ptr [ESP + 0x40],XMM0
0061e167 : MOVSS dword ptr [ESP + 0x44],XMM0
0061e16d : CVTSI2SS XMM0,EBP
0061e171 : DIVSS XMM0,dword ptr [ESP + 0x20]
0061e177 : MOVSS dword ptr [ESP + 0x18],XMM1
0061e17d : SUBSS XMM1,XMM0
0061e181 : MOVSS dword ptr [ESP + 0x2c],XMM0
0061e187 : MOVSS dword ptr [ESP + 0x24],XMM1
0061e18d : CVTPS2PD XMM0,XMM1
0061e190 : MOVSD XMM1,qword ptr [ESP + 0x34]
0061e196 : CALL 0x0063f0c5
0061e19b : MOVSS XMM6,dword ptr [ESP + 0x44]
0061e1a1 : MOVSS XMM5,dword ptr [ESP + 0x40]
0061e1a7 : MOVSS XMM4,dword ptr [ESP + 0x3c]
0061e1ad : CVTSD2SS XMM7,XMM0
0061e1b1 : MOV dword ptr [ESP + 0x10],0x0
0061e1b9 : TEST EBX,EBX
0061e1bb : JL 0x0061e2a1
0061e1c1 : MOVSS XMM2,dword ptr [0x00b86060]
0061e1c9 : MOV EAX,dword ptr [ESP + 0x4c]
0061e1cd : DIVSS XMM2,dword ptr [ESP + 0x24]
0061e1d3 : MOV EBP,dword ptr [EAX + 0x178]
0061e1d9 : MOVSS dword ptr [ESP + 0x28],XMM2
0061e1df : MOV dword ptr [ESP + 0x14],EBX
0061e1e3 : JMP 0x0061e1f6
0061e1f0 : MOVSS XMM2,dword ptr [ESP + 0x28]
0061e1f6 : CMP EBX,0x1
0061e1f9 : MOVSS XMM1,dword ptr [ESP + 0x18]
0061e1ff : MOV ECX,dword ptr [ESP + 0x10]
0061e203 : MOV EDX,dword ptr [ESP + 0x14]
0061e207 : MOVAPS XMM0,XMM7
0061e20a : MULSS XMM0,XMM1
0061e20e : MULSS XMM1,dword ptr [ESP + 0x2c]
0061e214 : MOVSS dword ptr [ESP + 0x18],XMM1
0061e21a : MOVAPS XMM1,XMM2
0061e21d : MULSS XMM1,XMM7
0061e221 : MOV EAX,EBX
0061e223 : MOVAPS XMM7,XMM1
0061e226 : JL 0x0061e255
0061e228 : CVTSI2SS XMM1,EAX
0061e22c : DEC EAX
0061e22d : CMP ECX,0x1
0061e230 : MULSS XMM1,XMM0
0061e234 : MOVAPS XMM0,XMM1
0061e237 : JLE 0x0061e242
0061e239 : CVTSI2SS XMM1,ECX
0061e23d : DIVSS XMM0,XMM1
0061e241 : DEC ECX
0061e242 : CMP EDX,0x1
0061e245 : JLE 0x0061e250
0061e247 : CVTSI2SS XMM1,EDX
0061e24b : DIVSS XMM0,XMM1
0061e24f : DEC EDX
0061e250 : CMP EAX,0x1
0061e253 : JGE 0x0061e228
0061e255 : MOV EAX,dword ptr [ESP + 0x10]
0061e259 : MOVSS XMM1,dword ptr [EBP]
0061e25e : MOVSS XMM2,dword ptr [EBP + 0x4]
0061e263 : MOVSS XMM3,dword ptr [EBP + 0x8]
0061e268 : DEC dword ptr [ESP + 0x14]
0061e26c : INC EAX
0061e26d : MULSS XMM1,XMM0
0061e271 : MULSS XMM2,XMM0
0061e275 : MULSS XMM3,XMM0
0061e279 : ADD EBP,0xc
0061e27c : CMP EAX,EBX
0061e27e : ADDSS XMM1,XMM4
0061e282 : ADDSS XMM2,XMM5
0061e286 : ADDSS XMM3,XMM6
0061e28a : MOVAPS XMM4,XMM1
0061e28d : MOVAPS XMM5,XMM2
0061e290 : MOVAPS XMM6,XMM3
0061e293 : MOV dword ptr [ESP + 0x10],EAX
0061e297 : JLE 0x0061e1f0
0061e29d : MOV EBP,dword ptr [ESP + 0x1c]
0061e2a1 : MOV ECX,dword ptr [ESI + 0x8]
0061e2a4 : MOVSS dword ptr [EDI + ECX*0x1],XMM4
0061e2a9 : MOV EDX,dword ptr [ESI + 0x8]
0061e2ac : MOVSS dword ptr [EDI + EDX*0x1 + 0x4],XMM5
0061e2b2 : MOV EAX,dword ptr [ESI + 0x8]
0061e2b5 : MOVSS dword ptr [EDI + EAX*0x1 + 0x8],XMM6
0061e2bb : MOV ECX,dword ptr [ESI + 0x8]
0061e2be : SUBSS XMM4,dword ptr [EDI + ECX*0x1 + -0xc]
0061e2c4 : MOV EDX,dword ptr [ESI + 0xc]
0061e2c7 : MOVSS dword ptr [EDI + EDX*0x1],XMM4
0061e2cc : MOV EAX,dword ptr [ESI + 0x8]
0061e2cf : SUBSS XMM5,dword ptr [EDI + EAX*0x1 + -0x8]
0061e2d5 : MOV ECX,dword ptr [ESI + 0xc]
0061e2d8 : MOVSS dword ptr [EDI + ECX*0x1 + 0x4],XMM5
0061e2de : MOV EDX,dword ptr [ESI + 0x8]
0061e2e1 : SUBSS XMM6,dword ptr [EDI + EDX*0x1 + -0x4]
0061e2e7 : MOV EAX,dword ptr [ESI + 0xc]
0061e2ea : MOVSS dword ptr [EDI + EAX*0x1 + 0x8],XMM6
0061e2f0 : MOV ECX,dword ptr [ESI + 0xc]
0061e2f3 : MOVSS XMM2,dword ptr [EDI + ECX*0x1]
0061e2f8 : MOVSS XMM1,dword ptr [EDI + ECX*0x1 + 0x4]
0061e2fe : MOVSS XMM0,dword ptr [EDI + ECX*0x1 + 0x8]
0061e304 : LEA EAX,[EDI + ECX*0x1]
0061e307 : MOVAPS XMM3,XMM2
0061e30a : MULSS XMM3,XMM2
0061e30e : MOVAPS XMM2,XMM1
0061e311 : MULSS XMM2,XMM1
0061e315 : MOVAPS XMM1,XMM0
0061e318 : MULSS XMM1,XMM0
0061e31c : ADDSS XMM3,XMM2
0061e320 : INC EBP
0061e321 : ADDSS XMM3,XMM1
0061e325 : SQRTSS XMM0,XMM3
0061e329 : ADDSS XMM0,dword ptr [ESI + 0x4]
0061e32e : ADD EDI,0xc
0061e331 : CMP EBP,dword ptr [ESP + 0x30]
0061e335 : MOVSS dword ptr [ESI + 0x4],XMM0
0061e33a : MOV dword ptr [ESP + 0x1c],EBP
0061e33e : JL 0x0061e150
0061e344 : POP EDI
0061e345 : POP ESI
0061e346 : POP EBP
0061e347 : POP EBX
0061e348 : ADD ESP,0x38
0061e34b : RET
