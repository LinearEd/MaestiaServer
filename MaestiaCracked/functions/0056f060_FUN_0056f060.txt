PROGRAM  : Maestia.exe
FUNCTION : FUN_0056f060
ENTRY    : 0056f060
BODY     : [[0056f060, 0056f0d1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0056f060(void)

{
  uint uVar1;
  LONG LVar2;
  GRefCountImplCore *in_ECX;
  
  uVar1 = *(uint *)(in_ECX + 0x1c);
  LVar2 = InterlockedExchangeAdd((LONG *)((uVar1 & 0xfffffffc) + 4),-1);
  if (LVar2 == 1) {
    FUN_00515cf0(uVar1 & 0xfffffffc);
  }
  uVar1 = *(uint *)(in_ECX + 0x18);
  LVar2 = InterlockedExchangeAdd((LONG *)((uVar1 & 0xfffffffc) + 4),-1);
  if (LVar2 == 1) {
    FUN_00515cf0(uVar1 & 0xfffffffc);
  }
  uVar1 = *(uint *)(in_ECX + 0x14);
  LVar2 = InterlockedExchangeAdd((LONG *)((uVar1 & 0xfffffffc) + 4),-1);
  if (LVar2 == 1) {
    FUN_00515cf0(uVar1 & 0xfffffffc);
  }
  if (*(GRefCountImpl **)(in_ECX + 0x10) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x10));
  }
  *(undefined ***)in_ECX = &PTR_FUN_00b86dd8;
  GRefCountImplCore::~GRefCountImplCore(in_ECX);
  return;
}



============================================================
DISASSEMBLY
============================================================
0056f060 : PUSH EBX
0056f061 : MOV EBX,dword ptr [0x00b851cc]
0056f067 : PUSH ESI
0056f068 : PUSH EDI
0056f069 : MOV ESI,ECX
0056f06b : MOV EDI,dword ptr [ESI + 0x1c]
0056f06e : AND EDI,0xfffffffc
0056f071 : PUSH -0x1
0056f073 : LEA EAX,[EDI + 0x4]
0056f076 : PUSH EAX
0056f077 : CALL EBX
0056f079 : SUB EAX,0x1
0056f07c : JNZ 0x0056f084
0056f07e : PUSH EDI
0056f07f : CALL 0x00515cf0
0056f084 : MOV EDI,dword ptr [ESI + 0x18]
0056f087 : AND EDI,0xfffffffc
0056f08a : PUSH -0x1
0056f08c : LEA ECX,[EDI + 0x4]
0056f08f : PUSH ECX
0056f090 : CALL EBX
0056f092 : SUB EAX,0x1
0056f095 : JNZ 0x0056f09d
0056f097 : PUSH EDI
0056f098 : CALL 0x00515cf0
0056f09d : MOV EDI,dword ptr [ESI + 0x14]
0056f0a0 : AND EDI,0xfffffffc
0056f0a3 : PUSH -0x1
0056f0a5 : LEA EDX,[EDI + 0x4]
0056f0a8 : PUSH EDX
0056f0a9 : CALL EBX
0056f0ab : SUB EAX,0x1
0056f0ae : JNZ 0x0056f0b6
0056f0b0 : PUSH EDI
0056f0b1 : CALL 0x00515cf0
0056f0b6 : MOV ECX,dword ptr [ESI + 0x10]
0056f0b9 : TEST ECX,ECX
0056f0bb : JZ 0x0056f0c2
0056f0bd : CALL 0x004ff7e0
0056f0c2 : POP EDI
0056f0c3 : MOV dword ptr [ESI],0xb86dd8
0056f0c9 : MOV ECX,ESI
0056f0cb : POP ESI
0056f0cc : POP EBX
0056f0cd : JMP 0x004ff7b0
