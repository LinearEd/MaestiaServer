PROGRAM  : Maestia.exe
FUNCTION : FUN_00780990
ENTRY    : 00780990
BODY     : [[00780990, 00780afd]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00780990(void)

{
  int *piVar1;
  int in_ECX;
  undefined4 uVar2;
  undefined4 uVar3;
  
  piVar1 = *(int **)(in_ECX + 0x18);
  if (*(int *)(*(int *)(in_ECX + 0x30) + 8) == 0) {
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x1b,0);
    (**(code **)(**(int **)(in_ECX + 0x18) + 0xe4))(*(int **)(in_ECX + 0x18),0x13,5);
    (**(code **)(**(int **)(in_ECX + 0x18) + 0xe4))(*(int **)(in_ECX + 0x18),0x14,6);
    (**(code **)(**(int **)(in_ECX + 0x18) + 0xe4))(*(int **)(in_ECX + 0x18),0xf,1);
    (**(code **)(**(int **)(in_ECX + 0x18) + 0xe4))(*(int **)(in_ECX + 0x18),0x19,7);
    uVar3 = 0x80;
    uVar2 = 0x18;
  }
  else {
    (**(code **)(*piVar1 + 0xe4))(piVar1,0x1b,0);
    (**(code **)(**(int **)(in_ECX + 0x18) + 0xe4))(*(int **)(in_ECX + 0x18),0x13,5);
    (**(code **)(**(int **)(in_ECX + 0x18) + 0xe4))(*(int **)(in_ECX + 0x18),0x14,6);
    uVar3 = 1;
    uVar2 = 0xf;
  }
  (**(code **)(**(int **)(in_ECX + 0x18) + 0xe4))(*(int **)(in_ECX + 0x18),uVar2,uVar3);
  (**(code **)(**(int **)(in_ECX + 0x18) + 0x10c))(*(int **)(in_ECX + 0x18),0,1,2);
  (**(code **)(**(int **)(in_ECX + 0x18) + 0x10c))(*(int **)(in_ECX + 0x18),0,2,2);
  (**(code **)(**(int **)(in_ECX + 0x18) + 0x10c))(*(int **)(in_ECX + 0x18),0,3,0);
  (**(code **)(**(int **)(in_ECX + 0x18) + 0x10c))(*(int **)(in_ECX + 0x18),0,4,2);
  (**(code **)(**(int **)(in_ECX + 0x18) + 0x10c))(*(int **)(in_ECX + 0x18),0,5,2);
  (**(code **)(**(int **)(in_ECX + 0x18) + 0x10c))(*(int **)(in_ECX + 0x18),0,6,0);
  (**(code **)(**(int **)(in_ECX + 0x18) + 0x104))(*(int **)(in_ECX + 0x18),0,0);
  *(undefined4 *)(in_ECX + 0x2c) = 0;
  *(undefined4 *)(in_ECX + 0x24) = 0;
  piVar1 = *(int **)(*(int *)(*(int *)(in_ECX + 0x14) + 0x14) + 0x1c);
  if (piVar1 != (int *)0x0) {
    _DAT_00da9aec = (**(code **)(*piVar1 + 0x100))(piVar1,0);
    if (_DAT_00da9aec < 0) {
      FUN_008018d0(L"AvaGpuRenderCell::BeginStateBlock() (%d)",_DAT_00da9aec);
    }
    *(undefined4 *)(in_ECX + 0x20) = 0xffffffff;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00780990 : PUSH ESI
00780991 : PUSH EDI
00780992 : MOV EDI,ECX
00780994 : MOV EAX,dword ptr [EDI + 0x30]
00780997 : XOR ESI,ESI
00780999 : CMP dword ptr [EAX + 0x8],ESI
0078099c : MOV EAX,dword ptr [EDI + 0x18]
0078099f : MOV ECX,dword ptr [EAX]
007809a1 : MOV EDX,dword ptr [ECX + 0xe4]
007809a7 : PUSH ESI
007809a8 : PUSH 0x1b
007809aa : PUSH EAX
007809ab : JNZ 0x00780a00
007809ad : CALL EDX
007809af : MOV EAX,dword ptr [EDI + 0x18]
007809b2 : MOV ECX,dword ptr [EAX]
007809b4 : MOV EDX,dword ptr [ECX + 0xe4]
007809ba : PUSH 0x5
007809bc : PUSH 0x13
007809be : PUSH EAX
007809bf : CALL EDX
007809c1 : MOV EAX,dword ptr [EDI + 0x18]
007809c4 : MOV ECX,dword ptr [EAX]
007809c6 : MOV EDX,dword ptr [ECX + 0xe4]
007809cc : PUSH 0x6
007809ce : PUSH 0x14
007809d0 : PUSH EAX
007809d1 : CALL EDX
007809d3 : MOV EAX,dword ptr [EDI + 0x18]
007809d6 : MOV ECX,dword ptr [EAX]
007809d8 : MOV EDX,dword ptr [ECX + 0xe4]
007809de : PUSH 0x1
007809e0 : PUSH 0xf
007809e2 : PUSH EAX
007809e3 : CALL EDX
007809e5 : MOV EAX,dword ptr [EDI + 0x18]
007809e8 : MOV ECX,dword ptr [EAX]
007809ea : MOV EDX,dword ptr [ECX + 0xe4]
007809f0 : PUSH 0x7
007809f2 : PUSH 0x19
007809f4 : PUSH EAX
007809f5 : CALL EDX
007809f7 : PUSH 0x80
007809fc : PUSH 0x18
007809fe : JMP 0x00780a2a
00780a00 : CALL EDX
00780a02 : MOV EAX,dword ptr [EDI + 0x18]
00780a05 : MOV ECX,dword ptr [EAX]
00780a07 : MOV EDX,dword ptr [ECX + 0xe4]
00780a0d : PUSH 0x5
00780a0f : PUSH 0x13
00780a11 : PUSH EAX
00780a12 : CALL EDX
00780a14 : MOV EAX,dword ptr [EDI + 0x18]
00780a17 : MOV ECX,dword ptr [EAX]
00780a19 : MOV EDX,dword ptr [ECX + 0xe4]
00780a1f : PUSH 0x6
00780a21 : PUSH 0x14
00780a23 : PUSH EAX
00780a24 : CALL EDX
00780a26 : PUSH 0x1
00780a28 : PUSH 0xf
00780a2a : MOV EAX,dword ptr [EDI + 0x18]
00780a2d : MOV ECX,dword ptr [EAX]
00780a2f : MOV EDX,dword ptr [ECX + 0xe4]
00780a35 : PUSH EAX
00780a36 : CALL EDX
00780a38 : MOV EAX,dword ptr [EDI + 0x18]
00780a3b : MOV ECX,dword ptr [EAX]
00780a3d : MOV EDX,dword ptr [ECX + 0x10c]
00780a43 : PUSH 0x2
00780a45 : PUSH 0x1
00780a47 : PUSH ESI
00780a48 : PUSH EAX
00780a49 : CALL EDX
00780a4b : MOV EAX,dword ptr [EDI + 0x18]
00780a4e : MOV ECX,dword ptr [EAX]
00780a50 : MOV EDX,dword ptr [ECX + 0x10c]
00780a56 : PUSH 0x2
00780a58 : PUSH 0x2
00780a5a : PUSH ESI
00780a5b : PUSH EAX
00780a5c : CALL EDX
00780a5e : MOV EAX,dword ptr [EDI + 0x18]
00780a61 : MOV ECX,dword ptr [EAX]
00780a63 : MOV EDX,dword ptr [ECX + 0x10c]
00780a69 : PUSH ESI
00780a6a : PUSH 0x3
00780a6c : PUSH ESI
00780a6d : PUSH EAX
00780a6e : CALL EDX
00780a70 : MOV EAX,dword ptr [EDI + 0x18]
00780a73 : MOV ECX,dword ptr [EAX]
00780a75 : MOV EDX,dword ptr [ECX + 0x10c]
00780a7b : PUSH 0x2
00780a7d : PUSH 0x4
00780a7f : PUSH ESI
00780a80 : PUSH EAX
00780a81 : CALL EDX
00780a83 : MOV EAX,dword ptr [EDI + 0x18]
00780a86 : MOV ECX,dword ptr [EAX]
00780a88 : MOV EDX,dword ptr [ECX + 0x10c]
00780a8e : PUSH 0x2
00780a90 : PUSH 0x5
00780a92 : PUSH ESI
00780a93 : PUSH EAX
00780a94 : CALL EDX
00780a96 : MOV EAX,dword ptr [EDI + 0x18]
00780a99 : MOV ECX,dword ptr [EAX]
00780a9b : MOV EDX,dword ptr [ECX + 0x10c]
00780aa1 : PUSH ESI
00780aa2 : PUSH 0x6
00780aa4 : PUSH ESI
00780aa5 : PUSH EAX
00780aa6 : CALL EDX
00780aa8 : MOV EAX,dword ptr [EDI + 0x18]
00780aab : MOV ECX,dword ptr [EAX]
00780aad : MOV EDX,dword ptr [ECX + 0x104]
00780ab3 : PUSH ESI
00780ab4 : PUSH ESI
00780ab5 : PUSH EAX
00780ab6 : CALL EDX
00780ab8 : MOV EAX,dword ptr [EDI + 0x14]
00780abb : MOV dword ptr [EDI + 0x2c],ESI
00780abe : MOV dword ptr [EDI + 0x24],ESI
00780ac1 : MOV ECX,dword ptr [EAX + 0x14]
00780ac4 : MOV EAX,dword ptr [ECX + 0x1c]
00780ac7 : CMP EAX,ESI
00780ac9 : JZ 0x00780afb
00780acb : MOV EDX,dword ptr [EAX]
00780acd : PUSH ESI
00780ace : PUSH EAX
00780acf : MOV EAX,dword ptr [EDX + 0x100]
00780ad5 : CALL EAX
00780ad7 : CMP EAX,ESI
00780ad9 : MOV [0x00da9aec],EAX
00780ade : JGE 0x00780af4
00780ae0 : MOV ESI,dword ptr [0x00da98e8]
00780ae6 : PUSH EAX
00780ae7 : PUSH 0xc10a80
00780aec : CALL 0x008018d0
00780af1 : ADD ESP,0x8
00780af4 : MOV dword ptr [EDI + 0x20],0xffffffff
00780afb : POP EDI
00780afc : POP ESI
00780afd : RET
