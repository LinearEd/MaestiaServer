PROGRAM  : Maestia.exe
FUNCTION : FUN_00581530
ENTRY    : 00581530
BODY     : [[00581530, 0058167e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00581530(int param_1)

{
  undefined1 *puVar1;
  char cVar2;
  undefined4 uVar3;
  undefined1 uVar4;
  float10 fVar5;
  float10 fVar6;
  double local_20;
  double local_18;
  double local_10;
  double local_8;
  
  uVar4 = 1;
  if (*(int *)(param_1 + 0x1c) < 2) {
    puVar1 = *(undefined1 **)(param_1 + 4);
    FUN_00526400();
    *puVar1 = 2;
    puVar1[4] = 0;
    return;
  }
  uVar3 = FUN_00526260(0);
  FUN_005266c0(uVar3);
  uVar3 = FUN_00526260(1);
  FUN_005266c0(uVar3);
  cVar2 = FUN_00526030(0x11);
  if (cVar2 == '\0') {
    FUN_00526050("Rectangle",0,0);
  }
  else {
    local_20 = 0.0;
    local_18 = 0.0;
    local_10 = 0.0;
    local_8 = 0.0;
    FUN_00581440(*(undefined4 *)(param_1 + 0x18),&local_20);
    fVar5 = (float10)FUN_00527730(*(undefined4 *)(param_1 + 0x18));
    fVar6 = (float10)FUN_00527730(*(undefined4 *)(param_1 + 0x18));
    fVar5 = (float10)(double)fVar5;
    if (fVar5 == (float10)local_10) {
      fVar5 = fVar5 + (float10)1;
    }
    if ((float10)local_8 == fVar6) {
      fVar6 = fVar6 + (float10)1;
    }
    if (((((float10)local_10 < fVar5) || (fVar5 < (float10)local_20)) || ((float10)local_8 < fVar6))
       || (fVar6 < (float10)local_18)) {
      uVar4 = 0;
    }
    puVar1 = *(undefined1 **)(param_1 + 4);
    FUN_00526400();
    *puVar1 = 2;
    puVar1[4] = uVar4;
  }
  FUN_00526bc0();
  FUN_00526bc0();
  return;
}



============================================================
DISASSEMBLY
============================================================
00581530 : SUB ESP,0x48
00581533 : PUSH EBX
00581534 : PUSH ESI
00581535 : MOV ESI,dword ptr [ESP + 0x54]
00581539 : MOV EBX,0x1
0058153e : CMP dword ptr [ESI + 0x1c],EBX
00581541 : JLE 0x00581668
00581547 : PUSH 0x0
00581549 : MOV ECX,ESI
0058154b : CALL 0x00526260
00581550 : PUSH EAX
00581551 : LEA ECX,[ESP + 0x24]
00581555 : CALL 0x005266c0
0058155a : PUSH EBX
0058155b : MOV ECX,ESI
0058155d : CALL 0x00526260
00581562 : PUSH EAX
00581563 : LEA ECX,[ESP + 0x14]
00581567 : CALL 0x005266c0
0058156c : PUSH 0x11
0058156e : MOV ECX,ESI
00581570 : CALL 0x00526030
00581575 : TEST AL,AL
00581577 : JNZ 0x0058158e
00581579 : PUSH 0x0
0058157b : PUSH 0x0
0058157d : PUSH 0xb8db1c
00581582 : MOV ECX,ESI
00581584 : CALL 0x00526050
00581589 : JMP 0x00581650
0058158e : MOV EAX,dword ptr [ESI + 0x8]
00581591 : TEST EAX,EAX
00581593 : JZ 0x0058159a
00581595 : LEA ECX,[EAX + -0x10]
00581598 : JMP 0x0058159c
0058159a : XOR ECX,ECX
0058159c : FLDZ
0058159e : MOV EDX,dword ptr [ESI + 0x18]
005815a1 : LEA EAX,[ESP + 0x30]
005815a5 : FST double ptr [ESP + 0x30]
005815a9 : FST double ptr [ESP + 0x38]
005815ad : PUSH EAX
005815ae : FST double ptr [ESP + 0x44]
005815b2 : PUSH EDX
005815b3 : FSTP double ptr [ESP + 0x50]
005815b7 : CALL 0x00581440
005815bc : MOV EAX,dword ptr [ESI + 0x18]
005815bf : PUSH EAX
005815c0 : LEA ECX,[ESP + 0x24]
005815c4 : CALL 0x00527730
005815c9 : FSTP double ptr [ESP + 0x8]
005815cd : MOV ECX,dword ptr [ESI + 0x18]
005815d0 : PUSH ECX
005815d1 : LEA ECX,[ESP + 0x14]
005815d5 : CALL 0x00527730
005815da : FLD double ptr [ESP + 0x40]
005815de : FLD ST0
005815e0 : FLD double ptr [ESP + 0x8]
005815e4 : FUCOM
005815e6 : FNSTSW AX
005815e8 : FSTP ST1
005815ea : FLD1
005815ec : TEST AH,0x44
005815ef : JP 0x005815f3
005815f1 : FADD ST1,ST0
005815f3 : FLD double ptr [ESP + 0x48]
005815f7 : FLD ST0
005815f9 : FUCOMP ST5
005815fb : FNSTSW AX
005815fd : TEST AH,0x44
00581600 : JP 0x00581634
00581602 : FXCH ST4
00581604 : FADDP
00581606 : FXCH ST3
00581608 : FXCH ST2
0058160a : FCOMP
0058160c : FNSTSW AX
0058160e : TEST AH,0x1
00581611 : JNZ 0x00581638
00581613 : FCOMP double ptr [ESP + 0x30]
00581617 : FNSTSW AX
00581619 : TEST AH,0x1
0058161c : JNZ 0x0058163a
0058161e : FCOMP
00581620 : FNSTSW AX
00581622 : TEST AH,0x1
00581625 : JNZ 0x0058163c
00581627 : FCOMP double ptr [ESP + 0x38]
0058162b : FNSTSW AX
0058162d : TEST AH,0x1
00581630 : JNZ 0x0058163e
00581632 : JMP 0x00581640
00581634 : FSTP ST1
00581636 : JMP 0x00581608
00581638 : FSTP ST2
0058163a : FSTP ST1
0058163c : FSTP ST0
0058163e : XOR EBX,EBX
00581640 : MOV ESI,dword ptr [ESI + 0x4]
00581643 : MOV ECX,ESI
00581645 : CALL 0x00526400
0058164a : MOV byte ptr [ESI],0x2
0058164d : MOV byte ptr [ESI + 0x4],BL
00581650 : LEA ECX,[ESP + 0x10]
00581654 : CALL 0x00526bc0
00581659 : LEA ECX,[ESP + 0x20]
0058165d : CALL 0x00526bc0
00581662 : POP ESI
00581663 : POP EBX
00581664 : ADD ESP,0x48
00581667 : RET
00581668 : MOV ESI,dword ptr [ESI + 0x4]
0058166b : MOV ECX,ESI
0058166d : CALL 0x00526400
00581672 : MOV byte ptr [ESI],0x2
00581675 : MOV byte ptr [ESI + 0x4],0x0
00581679 : POP ESI
0058167a : POP EBX
0058167b : ADD ESP,0x48
0058167e : RET
