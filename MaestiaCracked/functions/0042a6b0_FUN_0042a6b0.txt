PROGRAM  : Maestia.exe
FUNCTION : FUN_0042a6b0
ENTRY    : 0042a6b0
BODY     : [[0042a6b0, 0042a6f8]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0042a6b0(int *param_1)

{
  int iVar1;
  uint *in_ECX;
  short *in_EDX;
  
  if (((in_EDX != (short *)0x0) && (1 < *in_ECX)) && (-1 < *in_EDX)) {
    iVar1 = (int)*in_EDX;
    if (iVar1 + 2 <= (int)*in_ECX) {
      *param_1 = (int)(in_EDX + 1);
      *in_ECX = *in_ECX + (-2 - iVar1);
      return iVar1 + 2 + (int)in_EDX;
    }
  }
  *param_1 = 0;
  *in_ECX = 0;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0042a6b0 : PUSH EBP
0042a6b1 : MOV EBP,ESP
0042a6b3 : PUSH ESI
0042a6b4 : MOV ESI,dword ptr [EBP + 0x8]
0042a6b7 : PUSH EDI
0042a6b8 : TEST EDX,EDX
0042a6ba : JZ 0x0042a6eb
0042a6bc : MOV EDI,dword ptr [ECX]
0042a6be : CMP EDI,0x2
0042a6c1 : JC 0x0042a6eb
0042a6c3 : MOVZX EAX,word ptr [EDX]
0042a6c6 : TEST AX,AX
0042a6c9 : JL 0x0042a6eb
0042a6cb : CWDE
0042a6cc : PUSH EBX
0042a6cd : LEA EBX,[EAX + 0x2]
0042a6d0 : CMP EDI,EBX
0042a6d2 : POP EBX
0042a6d3 : JL 0x0042a6eb
0042a6d5 : LEA EDI,[EDX + 0x2]
0042a6d8 : MOV dword ptr [ESI],EDI
0042a6da : MOV ESI,0xfffffffe
0042a6df : SUB ESI,EAX
0042a6e1 : ADD dword ptr [ECX],ESI
0042a6e3 : POP EDI
0042a6e4 : LEA EAX,[EAX + EDX*0x1 + 0x2]
0042a6e8 : POP ESI
0042a6e9 : POP EBP
0042a6ea : RET
0042a6eb : MOV dword ptr [ESI],0x0
0042a6f1 : XOR EAX,EAX
0042a6f3 : POP EDI
0042a6f4 : MOV dword ptr [ECX],EAX
0042a6f6 : POP ESI
0042a6f7 : POP EBP
0042a6f8 : RET
