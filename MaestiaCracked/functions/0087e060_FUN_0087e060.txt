PROGRAM  : Maestia.exe
FUNCTION : FUN_0087e060
ENTRY    : 0087e060
BODY     : [[0087e060, 0087e1c2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0087e060(int param_1)

{
  float fVar1;
  int in_EAX;
  float *pfVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint local_c;
  
  if (in_EAX < 0) {
    in_EAX = 0;
  }
  else if (10 < in_EAX) {
    in_EAX = 10;
  }
  pfVar2 = (float *)(in_EAX * 0x10 + *(int *)(param_1 + 0x58));
  fVar1 = *pfVar2;
  if (fVar1 < 1.0) {
    if (0.0 < fVar1) {
      local_c = (uint)(longlong)ROUND(fVar1 * 255.0 + DAT_00d72c24);
      uVar5 = local_c;
    }
    else {
      uVar5 = 0;
    }
  }
  else {
    uVar5 = 0xff;
  }
  fVar1 = pfVar2[1];
  if (fVar1 < 1.0) {
    if (0.0 < fVar1) {
      local_c = (uint)(longlong)ROUND(fVar1 * 255.0 + DAT_00d72c24);
      uVar4 = local_c;
    }
    else {
      uVar4 = 0;
    }
  }
  else {
    uVar4 = 0xff;
  }
  fVar1 = pfVar2[2];
  if (fVar1 < 1.0) {
    if (0.0 < fVar1) {
      local_c = (uint)(longlong)ROUND(fVar1 * 255.0 + DAT_00d72c24);
      uVar3 = local_c;
    }
    else {
      uVar3 = 0;
    }
  }
  else {
    uVar3 = 0xff;
  }
  fVar1 = pfVar2[3];
  if (fVar1 < 1.0) {
    if (0.0 < fVar1) {
      local_c = (uint)(longlong)ROUND(DAT_00d72c24 + fVar1 * 255.0);
    }
    else {
      local_c = 0;
    }
  }
  else {
    local_c = 0xff;
  }
  *(uint *)(param_1 + 0x2c) = ((local_c << 8 | uVar5) << 8 | uVar4) << 8 | uVar3;
  return;
}



============================================================
DISASSEMBLY
============================================================
0087e060 : PUSH EBP
0087e061 : MOV EBP,ESP
0087e063 : SUB ESP,0x8
0087e066 : PUSH EBX
0087e067 : MOV EBX,dword ptr [EBP + 0x8]
0087e06a : PUSH EDI
0087e06b : TEST EAX,EAX
0087e06d : JGE 0x0087e073
0087e06f : XOR EAX,EAX
0087e071 : JMP 0x0087e07d
0087e073 : CMP EAX,0xb
0087e076 : JL 0x0087e07d
0087e078 : MOV EAX,0xa
0087e07d : MOVSS XMM1,dword ptr [0x00c10fc4]
0087e085 : FLD float ptr [0x00cdf130]
0087e08b : FLD float ptr [0x00d72c24]
0087e091 : XORPS XMM2,XMM2
0087e094 : SHL EAX,0x4
0087e097 : ADD EAX,dword ptr [EBX + 0x58]
0087e09a : PUSH ESI
0087e09b : MOV ESI,EAX
0087e09d : MOVSS XMM0,dword ptr [ESI]
0087e0a1 : COMISS XMM0,XMM1
0087e0a4 : MOVSS dword ptr [EBP + 0x8],XMM0
0087e0a9 : JC 0x0087e0b2
0087e0ab : MOV EDI,0xff
0087e0b0 : JMP 0x0087e0dd
0087e0b2 : COMISS XMM2,XMM0
0087e0b5 : JC 0x0087e0bb
0087e0b7 : XOR EDI,EDI
0087e0b9 : JMP 0x0087e0dd
0087e0bb : FLD float ptr [EBP + 0x8]
0087e0be : FNSTCW word ptr [EBP + 0xa]
0087e0c1 : MOVZX EAX,word ptr [EBP + 0xa]
0087e0c5 : FMUL ST2
0087e0c7 : OR EAX,0xc00
0087e0cc : MOV dword ptr [EBP + -0x4],EAX
0087e0cf : FADD ST0,ST1
0087e0d1 : FLDCW word ptr [EBP + -0x4]
0087e0d4 : FISTP qword ptr [EBP + -0x8]
0087e0d7 : MOV EDI,dword ptr [EBP + -0x8]
0087e0da : FLDCW word ptr [EBP + 0xa]
0087e0dd : MOVSS XMM0,dword ptr [ESI + 0x4]
0087e0e2 : COMISS XMM0,XMM1
0087e0e5 : MOVSS dword ptr [EBP + 0x8],XMM0
0087e0ea : JC 0x0087e0f3
0087e0ec : MOV EDX,0xff
0087e0f1 : JMP 0x0087e11e
0087e0f3 : COMISS XMM2,XMM0
0087e0f6 : JC 0x0087e0fc
0087e0f8 : XOR EDX,EDX
0087e0fa : JMP 0x0087e11e
0087e0fc : FLD float ptr [EBP + 0x8]
0087e0ff : FNSTCW word ptr [EBP + 0xa]
0087e102 : MOVZX EAX,word ptr [EBP + 0xa]
0087e106 : FMUL ST2
0087e108 : OR EAX,0xc00
0087e10d : MOV dword ptr [EBP + -0x4],EAX
0087e110 : FADD ST0,ST1
0087e112 : FLDCW word ptr [EBP + -0x4]
0087e115 : FISTP qword ptr [EBP + -0x8]
0087e118 : MOV EDX,dword ptr [EBP + -0x8]
0087e11b : FLDCW word ptr [EBP + 0xa]
0087e11e : MOVSS XMM0,dword ptr [ESI + 0x8]
0087e123 : COMISS XMM0,XMM1
0087e126 : MOVSS dword ptr [EBP + 0x8],XMM0
0087e12b : JC 0x0087e134
0087e12d : MOV ECX,0xff
0087e132 : JMP 0x0087e15f
0087e134 : COMISS XMM2,XMM0
0087e137 : JC 0x0087e13d
0087e139 : XOR ECX,ECX
0087e13b : JMP 0x0087e15f
0087e13d : FLD float ptr [EBP + 0x8]
0087e140 : FNSTCW word ptr [EBP + 0xa]
0087e143 : MOVZX EAX,word ptr [EBP + 0xa]
0087e147 : FMUL ST2
0087e149 : OR EAX,0xc00
0087e14e : MOV dword ptr [EBP + -0x4],EAX
0087e151 : FADD ST0,ST1
0087e153 : FLDCW word ptr [EBP + -0x4]
0087e156 : FISTP qword ptr [EBP + -0x8]
0087e159 : MOV ECX,dword ptr [EBP + -0x8]
0087e15c : FLDCW word ptr [EBP + 0xa]
0087e15f : MOVSS XMM0,dword ptr [ESI + 0xc]
0087e164 : COMISS XMM0,XMM1
0087e167 : MOVSS dword ptr [EBP + 0x8],XMM0
0087e16c : POP ESI
0087e16d : JC 0x0087e17a
0087e16f : FSTP ST1
0087e171 : MOV EAX,0xff
0087e176 : FSTP ST0
0087e178 : JMP 0x0087e1a9
0087e17a : COMISS XMM2,XMM0
0087e17d : JC 0x0087e187
0087e17f : FSTP ST1
0087e181 : XOR EAX,EAX
0087e183 : FSTP ST0
0087e185 : JMP 0x0087e1a9
0087e187 : FLD float ptr [EBP + 0x8]
0087e18a : FNSTCW word ptr [EBP + 0xa]
0087e18d : MOVZX EAX,word ptr [EBP + 0xa]
0087e191 : FMULP ST2
0087e193 : OR EAX,0xc00
0087e198 : MOV dword ptr [EBP + -0x4],EAX
0087e19b : FADDP
0087e19d : FLDCW word ptr [EBP + -0x4]
0087e1a0 : FISTP qword ptr [EBP + -0x8]
0087e1a3 : MOV EAX,dword ptr [EBP + -0x8]
0087e1a6 : FLDCW word ptr [EBP + 0xa]
0087e1a9 : SHL EAX,0x8
0087e1ac : OR EAX,EDI
0087e1ae : SHL EAX,0x8
0087e1b1 : OR EAX,EDX
0087e1b3 : SHL EAX,0x8
0087e1b6 : OR EAX,ECX
0087e1b8 : POP EDI
0087e1b9 : MOV dword ptr [EBX + 0x2c],EAX
0087e1bc : POP EBX
0087e1bd : MOV ESP,EBP
0087e1bf : POP EBP
0087e1c0 : RET 0x4
