PROGRAM  : Maestia.exe
FUNCTION : FUN_00a38330
ENTRY    : 00a38330
BODY     : [[00a38330, 00a383e9] [00a383f0, 00a3841d] [00a38424, 00a38434]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a38330(int param_1,int param_2)

{
  int iVar1;
  int *piVar2;
  char cVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  int local_8;
  
  if ((*(int *)(param_2 + 8) - *(int *)(param_2 + 4) & 0xfffffff8U) != 0) {
    FUN_00443a00();
    FUN_0040c500(*(int *)(param_2 + 4),*(int *)(param_2 + 8),
                 *(int *)(param_2 + 8) - *(int *)(param_2 + 4) >> 3,param_1);
    iVar5 = *(int *)(param_2 + 4);
    local_8 = 0;
    if (iVar5 != *(int *)(param_2 + 8)) {
      do {
        if (9 < local_8) break;
        iVar1 = *(int *)(param_1 + 0x474);
        iVar4 = FUN_004f8390(iVar1,*(undefined4 *)(iVar1 + 4));
        FUN_004093f0();
        local_8 = local_8 + 1;
        *(int *)(iVar1 + 4) = iVar4;
        **(int **)(iVar4 + 4) = iVar4;
        iVar5 = iVar5 + 8;
      } while (iVar5 != *(int *)(param_2 + 8));
    }
    if ((*(int *)(param_1 + 0x478) != 0) &&
       (piVar6 = (int *)**(int **)(param_1 + 0x474), piVar6 != *(int **)(param_1 + 0x474))) {
      do {
        cVar3 = FUN_00a38280();
        if (cVar3 != '\0') {
          return;
        }
        piVar2 = (int *)*piVar6;
        if (piVar6 != *(int **)(param_1 + 0x474)) {
          *(int *)piVar6[1] = *piVar6;
          *(int *)(*piVar6 + 4) = piVar6[1];
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        piVar6 = piVar2;
      } while (piVar2 != (int *)*(int *)(param_1 + 0x474));
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a38330 : PUSH EBP
00a38331 : MOV EBP,ESP
00a38333 : PUSH ECX
00a38334 : PUSH EBX
00a38335 : MOV EBX,dword ptr [EBP + 0xc]
00a38338 : MOV EAX,dword ptr [EBX + 0x8]
00a3833b : SUB EAX,dword ptr [EBX + 0x4]
00a3833e : PUSH ESI
00a3833f : PUSH EDI
00a38340 : TEST EAX,0xfffffff8
00a38345 : JZ 0x00a3842c
00a3834b : MOV EDI,dword ptr [EBP + 0x8]
00a3834e : LEA ESI,[EDI + 0x470]
00a38354 : CALL 0x00443a00
00a38359 : MOV EAX,dword ptr [EBX + 0x8]
00a3835c : MOV EDX,dword ptr [EBP + 0x8]
00a3835f : MOV ECX,dword ptr [EBX + 0x4]
00a38362 : PUSH EDX
00a38363 : MOV EDX,EAX
00a38365 : SUB EDX,ECX
00a38367 : SAR EDX,0x3
00a3836a : PUSH EDX
00a3836b : PUSH EAX
00a3836c : PUSH ECX
00a3836d : CALL 0x0040c500
00a38372 : MOV EBX,dword ptr [EBX + 0x4]
00a38375 : MOV EAX,dword ptr [EBP + 0xc]
00a38378 : ADD ESP,0x10
00a3837b : MOV dword ptr [EBP + -0x4],0x0
00a38382 : CMP EBX,dword ptr [EAX + 0x8]
00a38385 : JZ 0x00a383d3
00a38387 : CMP dword ptr [EBP + -0x4],0xa
00a3838b : JGE 0x00a383d3
00a3838d : MOV ESI,dword ptr [EDI + 0x474]
00a38393 : MOV ECX,dword ptr [ESI + 0x4]
00a38396 : LEA EAX,[EDI + 0x470]
00a3839c : PUSH ECX
00a3839d : PUSH ESI
00a3839e : MOV ECX,EBX
00a383a0 : CALL 0x004f8390
00a383a5 : MOV EDX,dword ptr [EBP + 0x8]
00a383a8 : MOV ECX,0x1
00a383ad : ADD EDX,0x470
00a383b3 : MOV EDI,EAX
00a383b5 : CALL 0x004093f0
00a383ba : MOV EAX,dword ptr [EBP + 0xc]
00a383bd : INC dword ptr [EBP + -0x4]
00a383c0 : MOV dword ptr [ESI + 0x4],EDI
00a383c3 : MOV EDX,dword ptr [EDI + 0x4]
00a383c6 : MOV dword ptr [EDX],EDI
00a383c8 : MOV EDI,dword ptr [EBP + 0x8]
00a383cb : ADD EBX,0x8
00a383ce : CMP EBX,dword ptr [EAX + 0x8]
00a383d1 : JNZ 0x00a38387
00a383d3 : CMP dword ptr [EDI + 0x478],0x0
00a383da : JZ 0x00a3842c
00a383dc : MOV EAX,dword ptr [EDI + 0x474]
00a383e2 : MOV EBX,dword ptr [EAX]
00a383e4 : CMP EBX,EAX
00a383e6 : JZ 0x00a3842c
00a383e8 : JMP 0x00a383f0
00a383f0 : LEA EAX,[EBX + 0x8]
00a383f3 : MOV ESI,EDI
00a383f5 : CALL 0x00a38280
00a383fa : TEST AL,AL
00a383fc : JNZ 0x00a3842c
00a383fe : MOV ECX,EBX
00a38400 : MOV EBX,dword ptr [EBX]
00a38402 : CMP ECX,dword ptr [EDI + 0x474]
00a38408 : JZ 0x00a38424
00a3840a : MOV EDX,dword ptr [ECX + 0x4]
00a3840d : MOV EAX,dword ptr [ECX]
00a3840f : MOV dword ptr [EDX],EAX
00a38411 : MOV EDX,dword ptr [ECX]
00a38413 : MOV EAX,dword ptr [ECX + 0x4]
00a38416 : MOV dword ptr [EDX + 0x4],EAX
00a38419 : CALL 0x006f04e0
00a38424 : CMP EBX,dword ptr [EDI + 0x474]
00a3842a : JNZ 0x00a383f0
00a3842c : POP EDI
00a3842d : POP ESI
00a3842e : POP EBX
00a3842f : MOV ESP,EBP
00a38431 : POP EBP
00a38432 : RET 0x8
