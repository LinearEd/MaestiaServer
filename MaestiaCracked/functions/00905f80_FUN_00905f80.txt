PROGRAM  : Maestia.exe
FUNCTION : FUN_00905f80
ENTRY    : 00905f80
BODY     : [[00905f80, 00906095]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00905f80(int param_1)

{
  code *pcVar1;
  uint uVar2;
  int *piVar3;
  int unaff_EDI;
  int local_24;
  int *local_20;
  undefined1 local_1c [4];
  int local_18 [2];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4a797;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_18[0] = param_1;
  FUN_004437f0(local_18);
  if ((local_20 != (int *)*(int *)(unaff_EDI + 0x40)) && (*(int *)((int)local_20 + 0x10) != 0)) {
    ExceptionList = local_10;
    return;
  }
  if (param_1 == 0x40) {
    local_20 = (int *)FUN_006f0300(100,uVar2);
    local_8 = 0;
    if (local_20 != (int *)0x0) {
      piVar3 = (int *)FUN_00a8a790(local_20);
      goto LAB_00906052;
    }
  }
  else if (param_1 == 0x41) {
    local_20 = (int *)FUN_006f0300(100,uVar2);
    local_8 = 1;
    if (local_20 != (int *)0x0) {
      piVar3 = (int *)FUN_00a8a730(local_20);
      goto LAB_00906052;
    }
  }
  else {
    if (param_1 != 0x42) {
      ExceptionList = local_10;
      return;
    }
    local_20 = (int *)FUN_006f0300(100,uVar2);
    local_8 = 2;
    if (local_20 != (int *)0x0) {
      piVar3 = (int *)FUN_00a8a6d0(local_20);
      goto LAB_00906052;
    }
  }
  piVar3 = (int *)0x0;
LAB_00906052:
  local_8 = 0xffffffff;
  if (piVar3 != (int *)0x0) {
    pcVar1 = *(code **)(*piVar3 + 0xc);
    piVar3[0x18] = unaff_EDI;
    (*pcVar1)();
    local_24 = param_1;
    local_20 = piVar3;
    FUN_00451e00(local_1c,&local_24);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00905f80 : PUSH EBP
00905f81 : MOV EBP,ESP
00905f83 : PUSH -0x1
00905f85 : PUSH 0xb4a797
00905f8a : MOV EAX,FS:[0x0]
00905f90 : PUSH EAX
00905f91 : SUB ESP,0x14
00905f94 : PUSH EBX
00905f95 : PUSH ESI
00905f96 : MOV EAX,[0x00d66fa0]
00905f9b : XOR EAX,EBP
00905f9d : PUSH EAX
00905f9e : LEA EAX,[EBP + -0xc]
00905fa1 : MOV FS:[0x0],EAX
00905fa7 : MOV ESI,dword ptr [EBP + 0x8]
00905faa : LEA EAX,[EBP + -0x14]
00905fad : LEA EBX,[EDI + 0x3c]
00905fb0 : PUSH EAX
00905fb1 : LEA EAX,[EBP + -0x1c]
00905fb4 : MOV ECX,EBX
00905fb6 : MOV dword ptr [EBP + -0x14],ESI
00905fb9 : CALL 0x004437f0
00905fbe : MOV EAX,dword ptr [EDI + 0x40]
00905fc1 : MOV ECX,dword ptr [EBP + -0x1c]
00905fc4 : CMP ECX,EAX
00905fc6 : JZ 0x00905fd2
00905fc8 : CMP dword ptr [ECX + 0x10],0x0
00905fcc : JNZ 0x00906083
00905fd2 : MOV EAX,ESI
00905fd4 : SUB EAX,0x40
00905fd7 : JZ 0x0090602d
00905fd9 : SUB EAX,0x1
00905fdc : JZ 0x0090600a
00905fde : SUB EAX,0x1
00905fe1 : JNZ 0x00906083
00905fe7 : PUSH 0x64
00905fe9 : CALL 0x006f0300
00905fee : ADD ESP,0x4
00905ff1 : MOV dword ptr [EBP + -0x1c],EAX
00905ff4 : MOV dword ptr [EBP + -0x4],0x2
00905ffb : TEST EAX,EAX
00905ffd : JZ 0x00906050
00905fff : MOV ECX,dword ptr [EDI + 0x4]
00906002 : PUSH EAX
00906003 : CALL 0x00a8a6d0
00906008 : JMP 0x00906052
0090600a : PUSH 0x64
0090600c : CALL 0x006f0300
00906011 : ADD ESP,0x4
00906014 : MOV dword ptr [EBP + -0x1c],EAX
00906017 : MOV dword ptr [EBP + -0x4],0x1
0090601e : TEST EAX,EAX
00906020 : JZ 0x00906050
00906022 : MOV ECX,dword ptr [EDI + 0x4]
00906025 : PUSH EAX
00906026 : CALL 0x00a8a730
0090602b : JMP 0x00906052
0090602d : PUSH 0x64
0090602f : CALL 0x006f0300
00906034 : ADD ESP,0x4
00906037 : MOV dword ptr [EBP + -0x1c],EAX
0090603a : MOV dword ptr [EBP + -0x4],0x0
00906041 : TEST EAX,EAX
00906043 : JZ 0x00906050
00906045 : MOV ECX,dword ptr [EDI + 0x4]
00906048 : PUSH EAX
00906049 : CALL 0x00a8a790
0090604e : JMP 0x00906052
00906050 : XOR EAX,EAX
00906052 : MOV dword ptr [EBP + -0x4],0xffffffff
00906059 : MOV ESI,EAX
0090605b : TEST ESI,ESI
0090605d : JZ 0x00906083
0090605f : MOV EDX,dword ptr [ESI]
00906061 : MOV EAX,dword ptr [EDX + 0xc]
00906064 : MOV ECX,ESI
00906066 : MOV dword ptr [ESI + 0x60],EDI
00906069 : CALL EAX
0090606b : MOV ECX,dword ptr [EBP + 0x8]
0090606e : LEA EDX,[EBP + -0x20]
00906071 : PUSH EDX
00906072 : LEA EAX,[EBP + -0x18]
00906075 : PUSH EAX
00906076 : MOV EAX,EBX
00906078 : MOV dword ptr [EBP + -0x20],ECX
0090607b : MOV dword ptr [EBP + -0x1c],ESI
0090607e : CALL 0x00451e00
00906083 : MOV ECX,dword ptr [EBP + -0xc]
00906086 : MOV dword ptr FS:[0x0],ECX
0090608d : POP ECX
0090608e : POP ESI
0090608f : POP EBX
00906090 : MOV ESP,EBP
00906092 : POP EBP
00906093 : RET 0x4
