PROGRAM  : Maestia.exe
FUNCTION : FUN_007b93a0
ENTRY    : 007b93a0
BODY     : [[007b93a0, 007b9683]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007b93a0(void)

{
  int *piVar1;
  undefined1 *puVar2;
  int iVar3;
  undefined4 uVar4;
  int unaff_EDI;
  undefined1 local_f0 [64];
  undefined8 local_b0;
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined8 local_9c;
  undefined4 local_94;
  undefined4 local_90;
  undefined4 local_8c;
  undefined8 local_88;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined8 local_74;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined1 local_5c [4];
  int local_58;
  undefined1 local_54 [4];
  int *local_50;
  undefined4 local_4c;
  undefined4 uStack_48;
  undefined4 local_44;
  undefined1 local_40 [28];
  uint local_24;
  undefined1 *puStack_20;
  void *local_1c;
  undefined1 *puStack_18;
  uint local_14;
  
  puStack_20 = &stack0xfffffffc;
  local_14 = 0xffffffff;
  puStack_18 = &LAB_00b120a6;
  local_1c = ExceptionList;
  local_24 = DAT_00d66fa0 ^ (uint)&stack0xfffffff0;
  ExceptionList = &local_1c;
  puVar2 = &stack0xfffffffc;
  if (((DAT_017251ac != 0) && (puVar2 = &stack0xfffffffc, *(int *)(DAT_017251ac + 0x1a4) != 0)) &&
     (puVar2 = &stack0xfffffffc, *(int *)(*(int *)(DAT_017251ac + 0x1a4) + 0xf0) != 0)) {
    iVar3 = FUN_007de7e0(local_24);
    puVar2 = puStack_20;
    if ((iVar3 != 0) && (*(int *)(iVar3 + 0x2490) != 0)) {
      FUN_00405660(*(int *)(iVar3 + 0x2490) + 0x14);
      local_14 = 0;
      uVar4 = (**(code **)(*DAT_017251d8 + 4))(local_5c,local_40);
      local_14._0_1_ = 1;
      FUN_00463a90(local_54,uVar4);
      local_14 = CONCAT31(local_14._1_3_,3);
      FUN_0045f640();
      if (local_50 != (int *)0x0) {
        (**(code **)(*local_50 + 0x20))();
        local_58 = local_50[0xe];
        piVar1 = *(int **)(DAT_017251ac + 0x18);
        local_a8 = *(undefined4 *)(unaff_EDI + 0x104);
        local_80 = *(undefined4 *)(unaff_EDI + 0xf8);
        local_a4 = 0;
        local_a0 = 0;
        local_8c = 0;
        local_68 = 0;
        uStack_48 = *(undefined4 *)(unaff_EDI + 0x174);
        local_90 = 0x3f800000;
        local_7c = 0x3f800000;
        local_78 = 0x3f800000;
        local_64 = 0x3f800000;
        local_4c = *(undefined4 *)(unaff_EDI + 0xf0);
        local_b0 = CONCAT44(uStack_48,local_4c);
        local_9c = CONCAT44(uStack_48,*(undefined4 *)(unaff_EDI + 0xfc));
        local_88 = CONCAT44(uStack_48,*(undefined4 *)(unaff_EDI + 0xfc));
        local_74 = CONCAT44(uStack_48,local_4c);
        local_94 = local_a8;
        local_6c = local_80;
        local_44 = local_80;
        (**(code **)(*piVar1 + 0x114))(piVar1,0,1,1);
        (**(code **)(*piVar1 + 0x114))(piVar1,0,2,1);
        (**(code **)(*piVar1 + 0x10c))(piVar1,0,0xb,0);
        (**(code **)(*piVar1 + 0x10c))(piVar1,0,0x18,2);
        D3DXMatrixScaling(local_f0,0x43a00000,0x43a00000,0x3f800000);
        (**(code **)(*piVar1 + 0xb0))(piVar1,0x10,local_f0);
        (**(code **)(*piVar1 + 0x104))(piVar1,0,local_58);
        (**(code **)(*piVar1 + 0x164))(piVar1,0x102);
        (**(code **)(*piVar1 + 0x14c))(piVar1,6,2,&local_b0,0x14);
        (**(code **)(*piVar1 + 0xe4))(piVar1,0x1b,0);
        (**(code **)(*piVar1 + 0x10c))(piVar1,0,0x18,0);
      }
      local_14 = local_14 & 0xffffff00;
      FUN_0045f5a0();
      local_14 = 0xffffffff;
      FUN_00406560();
      puVar2 = puStack_20;
    }
  }
  puStack_20 = puVar2;
  ExceptionList = local_1c;
  __security_check_cookie(local_24 ^ (uint)&stack0xfffffff0);
  return;
}



============================================================
DISASSEMBLY
============================================================
007b93a0 : PUSH EBX
007b93a1 : MOV EBX,ESP
007b93a3 : SUB ESP,0x8
007b93a6 : AND ESP,0xfffffff0
007b93a9 : ADD ESP,0x4
007b93ac : PUSH EBP
007b93ad : MOV EBP,dword ptr [EBX + 0x4]
007b93b0 : MOV dword ptr [ESP + 0x4],EBP
007b93b4 : MOV EBP,ESP
007b93b6 : PUSH -0x1
007b93b8 : PUSH 0xb120a6
007b93bd : MOV EAX,FS:[0x0]
007b93c3 : PUSH EAX
007b93c4 : PUSH EBX
007b93c5 : SUB ESP,0xdc
007b93cb : MOV EAX,[0x00d66fa0]
007b93d0 : XOR EAX,EBP
007b93d2 : MOV dword ptr [EBP + -0x14],EAX
007b93d5 : PUSH ESI
007b93d6 : PUSH EAX
007b93d7 : LEA EAX,[EBP + -0xc]
007b93da : MOV FS:[0x0],EAX
007b93e0 : MOV EAX,[0x017251ac]
007b93e5 : TEST EAX,EAX
007b93e7 : JZ 0x007b9667
007b93ed : MOV EAX,dword ptr [EAX + 0x1a4]
007b93f3 : TEST EAX,EAX
007b93f5 : JZ 0x007b9667
007b93fb : CMP dword ptr [EAX + 0xf0],0x0
007b9402 : JZ 0x007b9667
007b9408 : MOV EAX,dword ptr [EAX + 0xf0]
007b940e : XOR EDX,EDX
007b9410 : XOR ESI,ESI
007b9412 : MOV ECX,EAX
007b9414 : CALL 0x007de7e0
007b9419 : TEST EAX,EAX
007b941b : JZ 0x007b9667
007b9421 : MOV EAX,dword ptr [EAX + 0x2490]
007b9427 : TEST EAX,EAX
007b9429 : JZ 0x007b9667
007b942f : ADD EAX,0x14
007b9432 : PUSH EAX
007b9433 : LEA ECX,[EBP + -0x30]
007b9436 : CALL 0x00405660
007b943b : MOV dword ptr [EBP + -0x4],ESI
007b943e : MOV ECX,dword ptr [0x017251d8]
007b9444 : MOV EAX,dword ptr [ECX]
007b9446 : MOV EAX,dword ptr [EAX + 0x4]
007b9449 : LEA EDX,[EBP + -0x30]
007b944c : PUSH EDX
007b944d : LEA EDX,[EBP + -0x4c]
007b9450 : PUSH EDX
007b9451 : CALL EAX
007b9453 : MOV byte ptr [EBP + -0x4],0x1
007b9457 : PUSH EAX
007b9458 : LEA ECX,[EBP + -0x44]
007b945b : PUSH ECX
007b945c : CALL 0x00463a90
007b9461 : MOV byte ptr [EBP + -0x4],0x3
007b9465 : LEA ECX,[EBP + -0x4c]
007b9468 : CALL 0x0045f640
007b946d : MOV ECX,dword ptr [EBP + -0x40]
007b9470 : TEST ECX,ECX
007b9472 : JZ 0x007b964c
007b9478 : MOV EDX,dword ptr [ECX]
007b947a : MOV EAX,dword ptr [EDX + 0x20]
007b947d : MOV ESI,ECX
007b947f : CALL EAX
007b9481 : MOV ECX,dword ptr [ESI + 0x38]
007b9484 : XORPS XMM0,XMM0
007b9487 : MOVSS XMM1,dword ptr [0x00c10fc4]
007b948f : MOV EDX,dword ptr [0x017251ac]
007b9495 : MOV ESI,dword ptr [EDX + 0x18]
007b9498 : MOVSS XMM4,dword ptr [EDI + 0x104]
007b94a0 : MOVSS XMM3,dword ptr [EDI + 0xfc]
007b94a8 : MOVSS XMM2,dword ptr [EDI + 0xf8]
007b94b0 : MOVSS dword ptr [EBP + 0xffffff6c],XMM0
007b94b8 : MOVSS dword ptr [EBP + 0xffffff70],XMM0
007b94c0 : MOVSS dword ptr [EBP + -0x7c],XMM0
007b94c5 : MOVSS dword ptr [EBP + -0x58],XMM0
007b94ca : MOVSS XMM0,dword ptr [EDI + 0x174]
007b94d2 : MOVSS dword ptr [EBP + -0x38],XMM0
007b94d7 : MOVSS dword ptr [EBP + -0x80],XMM1
007b94dc : MOVSS dword ptr [EBP + -0x6c],XMM1
007b94e1 : MOVSS dword ptr [EBP + -0x68],XMM1
007b94e6 : MOVSS dword ptr [EBP + -0x54],XMM1
007b94eb : MOVSS XMM1,dword ptr [EDI + 0xf0]
007b94f3 : MOVSS dword ptr [EBP + -0x3c],XMM1
007b94f8 : MOVQ XMM5,qword ptr [EBP + -0x3c]
007b94fd : MOVSS dword ptr [EBP + -0x34],XMM4
007b9502 : MOV EAX,dword ptr [EBP + -0x34]
007b9505 : MOVSS dword ptr [EBP + -0x3c],XMM3
007b950a : MOVSS dword ptr [EBP + -0x38],XMM0
007b950f : MOVSS dword ptr [EBP + -0x34],XMM4
007b9514 : MOVQ XMM4,qword ptr [EBP + -0x3c]
007b9519 : MOV dword ptr [EBP + -0x48],ECX
007b951c : MOV ECX,dword ptr [EBP + -0x34]
007b951f : MOVSS dword ptr [EBP + -0x3c],XMM3
007b9524 : MOVSS dword ptr [EBP + -0x38],XMM0
007b9529 : MOVQ XMM3,qword ptr [EBP + -0x3c]
007b952e : MOVSS dword ptr [EBP + -0x34],XMM2
007b9533 : MOV EDX,dword ptr [EBP + -0x34]
007b9536 : PUSH 0x1
007b9538 : MOV dword ptr [EBP + 0xffffff68],EAX
007b953e : MOVSS dword ptr [EBP + -0x34],XMM2
007b9543 : MOV EAX,dword ptr [EBP + -0x34]
007b9546 : MOVSS dword ptr [EBP + -0x3c],XMM1
007b954b : MOVSS dword ptr [EBP + -0x38],XMM0
007b9550 : MOVQ XMM0,qword ptr [EBP + -0x3c]
007b9555 : PUSH 0x1
007b9557 : MOV dword ptr [EBP + -0x70],EDX
007b955a : MOVQ qword ptr [EBP + 0xffffff60],XMM5
007b9562 : MOVQ qword ptr [EBP + 0xffffff74],XMM4
007b956a : MOV dword ptr [EBP + 0xffffff7c],ECX
007b9570 : MOVQ qword ptr [EBP + -0x78],XMM3
007b9575 : MOVQ qword ptr [EBP + -0x64],XMM0
007b957a : MOV dword ptr [EBP + -0x5c],EAX
007b957d : MOV ECX,dword ptr [ESI]
007b957f : MOV EDX,dword ptr [ECX + 0x114]
007b9585 : PUSH 0x0
007b9587 : PUSH ESI
007b9588 : CALL EDX
007b958a : MOV EAX,dword ptr [ESI]
007b958c : MOV ECX,dword ptr [EAX + 0x114]
007b9592 : PUSH 0x1
007b9594 : PUSH 0x2
007b9596 : PUSH 0x0
007b9598 : PUSH ESI
007b9599 : CALL ECX
007b959b : MOV EDX,dword ptr [ESI]
007b959d : MOV EAX,dword ptr [EDX + 0x10c]
007b95a3 : PUSH 0x0
007b95a5 : PUSH 0xb
007b95a7 : PUSH 0x0
007b95a9 : PUSH ESI
007b95aa : CALL EAX
007b95ac : MOV ECX,dword ptr [ESI]
007b95ae : MOV EDX,dword ptr [ECX + 0x10c]
007b95b4 : PUSH 0x2
007b95b6 : PUSH 0x18
007b95b8 : PUSH 0x0
007b95ba : PUSH ESI
007b95bb : CALL EDX
007b95bd : FLD1
007b95bf : SUB ESP,0xc
007b95c2 : FSTP float ptr [ESP + 0x8]
007b95c6 : LEA EAX,[EBP + 0xffffff20]
007b95cc : FLD float ptr [0x00cdf558]
007b95d2 : FST float ptr [ESP + 0x4]
007b95d6 : FSTP float ptr [ESP]
007b95d9 : PUSH EAX
007b95da : CALL 0x00664c90
007b95df : MOV ECX,dword ptr [ESI]
007b95e1 : MOV EAX,dword ptr [ECX + 0xb0]
007b95e7 : LEA EDX,[EBP + 0xffffff20]
007b95ed : PUSH EDX
007b95ee : PUSH 0x10
007b95f0 : PUSH ESI
007b95f1 : CALL EAX
007b95f3 : MOV EDX,dword ptr [EBP + -0x48]
007b95f6 : MOV ECX,dword ptr [ESI]
007b95f8 : MOV EAX,dword ptr [ECX + 0x104]
007b95fe : PUSH EDX
007b95ff : PUSH 0x0
007b9601 : PUSH ESI
007b9602 : CALL EAX
007b9604 : MOV ECX,dword ptr [ESI]
007b9606 : MOV EDX,dword ptr [ECX + 0x164]
007b960c : PUSH 0x102
007b9611 : PUSH ESI
007b9612 : CALL EDX
007b9614 : MOV EAX,dword ptr [ESI]
007b9616 : MOV EDX,dword ptr [EAX + 0x14c]
007b961c : PUSH 0x14
007b961e : LEA ECX,[EBP + 0xffffff60]
007b9624 : PUSH ECX
007b9625 : PUSH 0x2
007b9627 : PUSH 0x6
007b9629 : PUSH ESI
007b962a : CALL EDX
007b962c : MOV EAX,dword ptr [ESI]
007b962e : MOV ECX,dword ptr [EAX + 0xe4]
007b9634 : PUSH 0x0
007b9636 : PUSH 0x1b
007b9638 : PUSH ESI
007b9639 : CALL ECX
007b963b : MOV EDX,dword ptr [ESI]
007b963d : MOV EAX,dword ptr [EDX + 0x10c]
007b9643 : PUSH 0x0
007b9645 : PUSH 0x18
007b9647 : PUSH 0x0
007b9649 : PUSH ESI
007b964a : CALL EAX
007b964c : MOV byte ptr [EBP + -0x4],0x0
007b9650 : LEA ECX,[EBP + -0x44]
007b9653 : CALL 0x0045f5a0
007b9658 : MOV dword ptr [EBP + -0x4],0xffffffff
007b965f : LEA ECX,[EBP + -0x30]
007b9662 : CALL 0x00406560
007b9667 : MOV ECX,dword ptr [EBP + -0xc]
007b966a : MOV dword ptr FS:[0x0],ECX
007b9671 : POP ECX
007b9672 : POP ESI
007b9673 : MOV ECX,dword ptr [EBP + -0x14]
007b9676 : XOR ECX,EBP
007b9678 : CALL 0x00633e6b
007b967d : MOV ESP,EBP
007b967f : POP EBP
007b9680 : MOV ESP,EBX
007b9682 : POP EBX
007b9683 : RET
