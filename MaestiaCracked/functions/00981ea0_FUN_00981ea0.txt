PROGRAM  : Maestia.exe
FUNCTION : FUN_00981ea0
ENTRY    : 00981ea0
BODY     : [[00981ea0, 00981f7b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00981ea0(short param_1)

{
  int *piVar1;
  int *piVar2;
  uint uVar3;
  int unaff_ESI;
  int iVar4;
  LPCRITICAL_SECTION local_38;
  char *local_34;
  undefined4 local_30;
  int local_2c;
  undefined4 local_28;
  undefined1 local_24 [8];
  int local_1c;
  undefined4 local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2d39d;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar4 = 0;
  if (param_1 != 0) {
    *(short *)(unaff_ESI + 0x90) = param_1;
    local_38 = (LPCRITICAL_SECTION)(unaff_ESI + 0xa4);
    local_2c = 0;
    local_34 = ".\\Gui\\AvaGuiMinimap.cpp";
    local_30 = 0x14c;
    local_28 = 1;
    FUN_006ef1a0(&local_38);
    local_8 = 0;
    piVar1 = *(int **)(unaff_ESI + 0x88);
    piVar2 = (int *)*piVar1;
    while (piVar2 != piVar1) {
      local_18 = piVar2[3];
      local_1c = iVar4;
      FUN_00451f10(local_24,&local_1c);
      FUN_00424440(uVar3);
      iVar4 = iVar4 + 1;
      piVar1 = *(int **)(unaff_ESI + 0x88);
    }
    local_8 = 0xffffffff;
    if (local_2c != 0) {
      LeaveCriticalSection(local_38);
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00981ea0 : PUSH EBP
00981ea1 : MOV EBP,ESP
00981ea3 : PUSH -0x1
00981ea5 : PUSH 0xb2d39d
00981eaa : MOV EAX,FS:[0x0]
00981eb0 : PUSH EAX
00981eb1 : SUB ESP,0x2c
00981eb4 : PUSH EBX
00981eb5 : PUSH EDI
00981eb6 : MOV EAX,[0x00d66fa0]
00981ebb : XOR EAX,EBP
00981ebd : PUSH EAX
00981ebe : LEA EAX,[EBP + -0xc]
00981ec1 : MOV FS:[0x0],EAX
00981ec7 : MOV AX,word ptr [EBP + 0x8]
00981ecb : XOR EDI,EDI
00981ecd : CMP AX,DI
00981ed0 : JZ 0x00981f69
00981ed6 : MOV word ptr [ESI + 0x90],AX
00981edd : LEA ECX,[EBP + -0x34]
00981ee0 : LEA EAX,[ESI + 0xa4]
00981ee6 : PUSH ECX
00981ee7 : MOV dword ptr [EBP + -0x28],EDI
00981eea : MOV dword ptr [EBP + -0x34],EAX
00981eed : MOV dword ptr [EBP + -0x30],0xc7fc70
00981ef4 : MOV dword ptr [EBP + -0x2c],0x14c
00981efb : MOV dword ptr [EBP + -0x24],0x1
00981f02 : CALL 0x006ef1a0
00981f07 : MOV dword ptr [EBP + -0x4],EDI
00981f0a : MOV ECX,dword ptr [ESI + 0x88]
00981f10 : MOV EAX,dword ptr [ECX]
00981f12 : MOV dword ptr [EBP + 0x8],EAX
00981f15 : CMP EAX,ECX
00981f17 : JZ 0x00981f50
00981f19 : LEA EBX,[ESI + 0x94]
00981f1f : NOP
00981f20 : MOV EDX,dword ptr [EAX + 0xc]
00981f23 : LEA EAX,[EBP + -0x18]
00981f26 : PUSH EAX
00981f27 : LEA ECX,[EBP + -0x20]
00981f2a : PUSH ECX
00981f2b : MOV EAX,EBX
00981f2d : MOV dword ptr [EBP + -0x18],EDI
00981f30 : MOV dword ptr [EBP + -0x14],EDX
00981f33 : CALL 0x00451f10
00981f38 : LEA EDX,[EBP + 0x8]
00981f3b : CALL 0x00424440
00981f40 : MOV ECX,dword ptr [ESI + 0x88]
00981f46 : MOV EAX,dword ptr [EBP + 0x8]
00981f49 : INC EDI
00981f4a : CMP EAX,ECX
00981f4c : JNZ 0x00981f20
00981f4e : XOR EDI,EDI
00981f50 : MOV dword ptr [EBP + -0x4],0xffffffff
00981f57 : CMP dword ptr [EBP + -0x28],EDI
00981f5a : JZ 0x00981f69
00981f5c : MOV EDX,dword ptr [EBP + -0x34]
00981f5f : PUSH EDX
00981f60 : CALL dword ptr [0x00b8511c]
00981f66 : MOV dword ptr [EBP + -0x28],EDI
00981f69 : MOV ECX,dword ptr [EBP + -0xc]
00981f6c : MOV dword ptr FS:[0x0],ECX
00981f73 : POP ECX
00981f74 : POP EDI
00981f75 : POP EBX
00981f76 : MOV ESP,EBP
00981f78 : POP EBP
00981f79 : RET 0x4
