PROGRAM  : Maestia.exe
FUNCTION : FUN_0058cba0
ENTRY    : 0058cba0
BODY     : [[0058cba0, 0058cc8e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058cba0(uint param_1)

{
  int *piVar1;
  char cVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  int in_ECX;
  uint uVar6;
  uint unaff_ESI;
  int unaff_EDI;
  undefined1 local_8 [4];
  undefined4 uStack_4;
  
  uVar6 = param_1;
  if (param_1 != 0xffffffff) {
    iVar5 = *(int *)(in_ECX + 0x1a4);
    if ((iVar5 == 0) || (*(char *)(iVar5 + 0x18) != '\0')) {
      uVar3 = (**(code **)(**(int **)(in_ECX + 0x9c) + 0x28))();
    }
    else {
      uVar3 = *(uint *)(iVar5 + 0x10);
    }
    if (uVar6 < uVar3) {
      uVar4 = FUN_0056a470(&param_1);
      (**(code **)(**(int **)(in_ECX + 0x9c) + 0x2c))(local_8,uVar6);
      uVar6 = 0;
      if (unaff_ESI != 0) {
        do {
          piVar1 = *(int **)(unaff_EDI + uVar6 * 4);
          cVar2 = (**(code **)(*piVar1 + 0x10))();
          if (cVar2 != '\0') {
            (**(code **)(*piVar1 + 4))();
          }
          uVar6 = uVar6 + 1;
        } while (uVar6 < unaff_ESI);
      }
      *(undefined4 *)(*(int *)(in_ECX + 0xa0) + 0xa7c) = uStack_4;
      FUN_00575df0(uVar4);
      return;
    }
  }
  iVar5 = *(int *)(in_ECX + 0x80);
  if (iVar5 == 0) {
    iVar5 = FUN_00520df0();
  }
  FUN_0058c450(in_ECX + 0xc,"Error: %s, CallFrame(\'%d\') - unknown frame\n",
               **(undefined4 **)(iVar5 + 0xc),uVar6);
  return;
}



============================================================
DISASSEMBLY
============================================================
0058cba0 : SUB ESP,0x8
0058cba3 : PUSH ESI
0058cba4 : PUSH EDI
0058cba5 : MOV EDI,dword ptr [ESP + 0x14]
0058cba9 : MOV ESI,ECX
0058cbab : CMP EDI,-0x1
0058cbae : JZ 0x0058cc5e
0058cbb4 : MOV EAX,dword ptr [ESI + 0x1a4]
0058cbba : TEST EAX,EAX
0058cbbc : JZ 0x0058cbc9
0058cbbe : CMP byte ptr [EAX + 0x18],0x0
0058cbc2 : JNZ 0x0058cbc9
0058cbc4 : MOV EAX,dword ptr [EAX + 0x10]
0058cbc7 : JMP 0x0058cbd6
0058cbc9 : MOV ECX,dword ptr [ESI + 0x9c]
0058cbcf : MOV EAX,dword ptr [ECX]
0058cbd1 : MOV EDX,dword ptr [EAX + 0x28]
0058cbd4 : CALL EDX
0058cbd6 : CMP EDI,EAX
0058cbd8 : JNC 0x0058cc5e
0058cbde : MOV ECX,dword ptr [ESI + 0xa0]
0058cbe4 : PUSH EBX
0058cbe5 : PUSH EBP
0058cbe6 : LEA EAX,[ESP + 0x1c]
0058cbea : PUSH EAX
0058cbeb : ADD ECX,0xa2c
0058cbf1 : CALL 0x0056a470
0058cbf6 : MOV ECX,dword ptr [ESI + 0x9c]
0058cbfc : MOV EDX,dword ptr [ECX]
0058cbfe : MOV EDX,dword ptr [EDX + 0x2c]
0058cc01 : MOV EBP,EAX
0058cc03 : PUSH EDI
0058cc04 : LEA EAX,[ESP + 0x14]
0058cc08 : PUSH EAX
0058cc09 : CALL EDX
0058cc0b : XOR EBX,EBX
0058cc0d : CMP dword ptr [ESP + 0x14],EBX
0058cc11 : JBE 0x0058cc38
0058cc13 : MOV EAX,dword ptr [ESP + 0x10]
0058cc17 : MOV EDI,dword ptr [EAX + EBX*0x4]
0058cc1a : MOV EDX,dword ptr [EDI]
0058cc1c : MOV EAX,dword ptr [EDX + 0x10]
0058cc1f : MOV ECX,EDI
0058cc21 : CALL EAX
0058cc23 : TEST AL,AL
0058cc25 : JZ 0x0058cc31
0058cc27 : MOV EDX,dword ptr [EDI]
0058cc29 : MOV EAX,dword ptr [EDX + 0x4]
0058cc2c : PUSH ESI
0058cc2d : MOV ECX,EDI
0058cc2f : CALL EAX
0058cc31 : INC EBX
0058cc32 : CMP EBX,dword ptr [ESP + 0x14]
0058cc36 : JC 0x0058cc13
0058cc38 : MOV ECX,dword ptr [ESI + 0xa0]
0058cc3e : MOV EDX,dword ptr [ESP + 0x1c]
0058cc42 : MOV dword ptr [ECX + 0xa7c],EDX
0058cc48 : MOV ECX,dword ptr [ESI + 0xa0]
0058cc4e : PUSH EBP
0058cc4f : CALL 0x00575df0
0058cc54 : POP EBP
0058cc55 : POP EBX
0058cc56 : POP EDI
0058cc57 : POP ESI
0058cc58 : ADD ESP,0x8
0058cc5b : RET 0x4
0058cc5e : MOV EAX,dword ptr [ESI + 0x80]
0058cc64 : TEST EAX,EAX
0058cc66 : JNZ 0x0058cc6f
0058cc68 : MOV ECX,ESI
0058cc6a : CALL 0x00520df0
0058cc6f : MOV EAX,dword ptr [EAX + 0xc]
0058cc72 : MOV ECX,dword ptr [EAX]
0058cc74 : PUSH EDI
0058cc75 : PUSH ECX
0058cc76 : PUSH 0xb8e648
0058cc7b : ADD ESI,0xc
0058cc7e : PUSH ESI
0058cc7f : CALL 0x0058c450
0058cc84 : ADD ESP,0x10
0058cc87 : POP EDI
0058cc88 : POP ESI
0058cc89 : ADD ESP,0x8
0058cc8c : RET 0x4
