PROGRAM  : Maestia.exe
FUNCTION : FUN_006d9fd0
ENTRY    : 006d9fd0
BODY     : [[006d9fd0, 006da1a5]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006d9fd0(int param_1)

{
  int iVar1;
  int iVar2;
  char cVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  int iVar10;
  int *piVar11;
  int *local_2c;
  int *local_28;
  int iStack_24;
  int local_20;
  int aiStack_10 [4];
  
  iVar1 = *(int *)(param_1 + 0x188);
  iVar10 = 0;
  if (0 < *(int *)(param_1 + 0x124)) {
    local_2c = (int *)(param_1 + 0x128);
    do {
      iVar4 = *(int *)(*local_2c + 0xc);
      iVar4 = (**(code **)(*(int *)(param_1 + 4) + 0x20))
                        (param_1,*(undefined4 *)(iVar1 + 0x48 + *(int *)(*local_2c + 4) * 4),
                         *(int *)(param_1 + 0x80) * iVar4,iVar4,1);
      local_2c = local_2c + 1;
      aiStack_10[iVar10] = iVar4;
      iVar10 = iVar10 + 1;
    } while (iVar10 < *(int *)(param_1 + 0x124));
  }
  iVar10 = *(int *)(iVar1 + 0x18);
  if (iVar10 < *(int *)(iVar1 + 0x1c)) {
    do {
      local_2c = *(int **)(iVar1 + 0x14);
      if (local_2c < *(uint *)(param_1 + 0x138)) {
        do {
          iVar4 = 0;
          local_20 = 0;
          if (0 < *(int *)(param_1 + 0x124)) {
            local_28 = (int *)(param_1 + 0x128);
            do {
              iVar2 = *local_28;
              iVar7 = *(int *)(iVar2 + 0x34);
              iVar5 = iVar7 * (int)local_2c;
              iStack_24 = 0;
              if (0 < *(int *)(iVar2 + 0x38)) {
                piVar9 = (int *)(aiStack_10[local_20] + iVar10 * 4);
                do {
                  iVar6 = *piVar9 + iVar5 * 0x80;
                  iVar8 = 0;
                  if (0 < iVar7) {
                    piVar11 = (int *)(iVar1 + 0x20 + iVar4 * 4);
                    do {
                      *piVar11 = iVar6;
                      iVar7 = *(int *)(iVar2 + 0x34);
                      iVar8 = iVar8 + 1;
                      iVar4 = iVar4 + 1;
                      piVar11 = piVar11 + 1;
                      iVar6 = iVar6 + 0x80;
                    } while (iVar8 < iVar7);
                  }
                  iStack_24 = iStack_24 + 1;
                  piVar9 = piVar9 + 1;
                } while (iStack_24 < *(int *)(iVar2 + 0x38));
              }
              local_28 = local_28 + 1;
              local_20 = local_20 + 1;
            } while (local_20 < *(int *)(param_1 + 0x124));
          }
          cVar3 = (**(code **)(*(int *)(param_1 + 0x198) + 4))(param_1,iVar1 + 0x20);
          if (cVar3 == '\0') {
            *(int *)(iVar1 + 0x18) = iVar10;
            *(int **)(iVar1 + 0x14) = local_2c;
            return 0;
          }
          local_2c = (int *)((int)local_2c + 1);
        } while (local_2c < *(uint *)(param_1 + 0x138));
      }
      iVar10 = iVar10 + 1;
      *(undefined4 *)(iVar1 + 0x14) = 0;
    } while (iVar10 < *(int *)(iVar1 + 0x1c));
  }
  *(int *)(param_1 + 0x80) = *(int *)(param_1 + 0x80) + 1;
  if (*(uint *)(param_1 + 0x11c) <= *(uint *)(param_1 + 0x80)) {
    (**(code **)(*(int *)(param_1 + 400) + 0xc))(param_1);
    return 4;
  }
  FUN_006d9d20();
  return 3;
}



============================================================
DISASSEMBLY
============================================================
006d9fd0 : SUB ESP,0x2c
006d9fd3 : PUSH EBX
006d9fd4 : PUSH EBP
006d9fd5 : MOV EBP,dword ptr [ESP + 0x38]
006d9fd9 : PUSH ESI
006d9fda : PUSH EDI
006d9fdb : MOV EDI,dword ptr [EBP + 0x188]
006d9fe1 : XOR ESI,ESI
006d9fe3 : CMP dword ptr [EBP + 0x124],ESI
006d9fe9 : MOV dword ptr [ESP + 0x20],EDI
006d9fed : JLE 0x006da03c
006d9fef : LEA EAX,[EBP + 0x128]
006d9ff5 : MOV dword ptr [ESP + 0x10],EAX
006d9ff9 : LEA ESP,[ESP]
006da000 : MOV ECX,dword ptr [ESP + 0x10]
006da004 : MOV EAX,dword ptr [ECX]
006da006 : MOV ECX,dword ptr [EAX + 0xc]
006da009 : MOV EBX,dword ptr [EBP + 0x80]
006da00f : MOV EAX,dword ptr [EAX + 0x4]
006da012 : IMUL EBX,ECX
006da015 : MOV EDX,dword ptr [EBP + 0x4]
006da018 : MOV EDX,dword ptr [EDX + 0x20]
006da01b : PUSH 0x1
006da01d : PUSH ECX
006da01e : MOV ECX,dword ptr [EDI + EAX*0x4 + 0x48]
006da022 : PUSH EBX
006da023 : PUSH ECX
006da024 : PUSH EBP
006da025 : CALL EDX
006da027 : ADD dword ptr [ESP + 0x24],0x4
006da02c : MOV dword ptr [ESP + ESI*0x4 + 0x40],EAX
006da030 : INC ESI
006da031 : ADD ESP,0x14
006da034 : CMP ESI,dword ptr [EBP + 0x124]
006da03a : JL 0x006da000
006da03c : MOV ESI,dword ptr [EDI + 0x18]
006da03f : CMP ESI,dword ptr [EDI + 0x1c]
006da042 : MOV dword ptr [ESP + 0x24],ESI
006da046 : JGE 0x006da14e
006da04c : LEA ESP,[ESP]
006da050 : MOV EAX,dword ptr [EDI + 0x14]
006da053 : MOV dword ptr [ESP + 0x10],EAX
006da057 : CMP EAX,dword ptr [EBP + 0x138]
006da05d : JNC 0x006da139
006da063 : XOR EDX,EDX
006da065 : XOR EBX,EBX
006da067 : CMP dword ptr [EBP + 0x124],EDX
006da06d : MOV dword ptr [ESP + 0x1c],EDX
006da071 : JLE 0x006da10d
006da077 : LEA EAX,[EBP + 0x128]
006da07d : MOV dword ptr [ESP + 0x14],EAX
006da081 : MOV ECX,dword ptr [ESP + 0x14]
006da085 : MOV EDI,dword ptr [ECX]
006da087 : MOV ECX,dword ptr [EDI + 0x34]
006da08a : MOV EAX,ECX
006da08c : IMUL EAX,dword ptr [ESP + 0x10]
006da091 : CMP dword ptr [EDI + 0x38],0x0
006da095 : MOV dword ptr [ESP + 0x18],0x0
006da09d : JLE 0x006da0f3
006da09f : MOV EDX,dword ptr [ESP + EDX*0x4 + 0x2c]
006da0a3 : SHL EAX,0x7
006da0a6 : MOV dword ptr [ESP + 0x28],EAX
006da0aa : LEA EBP,[EDX + ESI*0x4]
006da0ad : LEA ECX,[ECX]
006da0b0 : MOV EAX,dword ptr [EBP]
006da0b3 : ADD EAX,dword ptr [ESP + 0x28]
006da0b7 : XOR EDX,EDX
006da0b9 : TEST ECX,ECX
006da0bb : JLE 0x006da0d6
006da0bd : MOV ECX,dword ptr [ESP + 0x20]
006da0c1 : LEA ESI,[ECX + EBX*0x4 + 0x20]
006da0c5 : MOV dword ptr [ESI],EAX
006da0c7 : MOV ECX,dword ptr [EDI + 0x34]
006da0ca : INC EDX
006da0cb : INC EBX
006da0cc : ADD ESI,0x4
006da0cf : SUB EAX,-0x80
006da0d2 : CMP EDX,ECX
006da0d4 : JL 0x006da0c5
006da0d6 : MOV EAX,dword ptr [ESP + 0x18]
006da0da : INC EAX
006da0db : ADD EBP,0x4
006da0de : CMP EAX,dword ptr [EDI + 0x38]
006da0e1 : MOV dword ptr [ESP + 0x18],EAX
006da0e5 : JL 0x006da0b0
006da0e7 : MOV EBP,dword ptr [ESP + 0x40]
006da0eb : MOV EDX,dword ptr [ESP + 0x1c]
006da0ef : MOV ESI,dword ptr [ESP + 0x24]
006da0f3 : ADD dword ptr [ESP + 0x14],0x4
006da0f8 : INC EDX
006da0f9 : CMP EDX,dword ptr [EBP + 0x124]
006da0ff : MOV dword ptr [ESP + 0x1c],EDX
006da103 : JL 0x006da081
006da109 : MOV EDI,dword ptr [ESP + 0x20]
006da10d : MOV EDX,dword ptr [EBP + 0x198]
006da113 : LEA EAX,[EDI + 0x20]
006da116 : PUSH EAX
006da117 : MOV EAX,dword ptr [EDX + 0x4]
006da11a : PUSH EBP
006da11b : CALL EAX
006da11d : ADD ESP,0x8
006da120 : TEST AL,AL
006da122 : JZ 0x006da176
006da124 : MOV EAX,dword ptr [ESP + 0x10]
006da128 : INC EAX
006da129 : MOV dword ptr [ESP + 0x10],EAX
006da12d : CMP EAX,dword ptr [EBP + 0x138]
006da133 : JC 0x006da063
006da139 : INC ESI
006da13a : MOV dword ptr [EDI + 0x14],0x0
006da141 : CMP ESI,dword ptr [EDI + 0x1c]
006da144 : MOV dword ptr [ESP + 0x24],ESI
006da148 : JL 0x006da050
006da14e : INC dword ptr [EBP + 0x80]
006da154 : MOV EAX,dword ptr [EBP + 0x80]
006da15a : CMP EAX,dword ptr [EBP + 0x11c]
006da160 : JNC 0x006da18a
006da162 : MOV ECX,EBP
006da164 : CALL 0x006d9d20
006da169 : POP EDI
006da16a : POP ESI
006da16b : POP EBP
006da16c : MOV EAX,0x3
006da171 : POP EBX
006da172 : ADD ESP,0x2c
006da175 : RET
006da176 : MOV ECX,dword ptr [ESP + 0x10]
006da17a : MOV dword ptr [EDI + 0x18],ESI
006da17d : MOV dword ptr [EDI + 0x14],ECX
006da180 : POP EDI
006da181 : POP ESI
006da182 : POP EBP
006da183 : XOR EAX,EAX
006da185 : POP EBX
006da186 : ADD ESP,0x2c
006da189 : RET
006da18a : MOV EDX,dword ptr [EBP + 0x190]
006da190 : MOV EAX,dword ptr [EDX + 0xc]
006da193 : PUSH EBP
006da194 : CALL EAX
006da196 : ADD ESP,0x4
006da199 : POP EDI
006da19a : POP ESI
006da19b : POP EBP
006da19c : MOV EAX,0x4
006da1a1 : POP EBX
006da1a2 : ADD ESP,0x2c
006da1a5 : RET
