PROGRAM  : Maestia.exe
FUNCTION : FUN_00ab6fc0
ENTRY    : 00ab6fc0
BODY     : [[00ab6fc0, 00ab70ac] [00ab70b4, 00ab7195]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00ab6fc0(undefined4 param_1)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  int *piVar4;
  int in_ECX;
  LPCRITICAL_SECTION local_28;
  char *local_24;
  undefined4 local_20;
  int local_1c;
  undefined4 local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1bd8f;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  if (DAT_00da93ec == 0) {
    return;
  }
  ExceptionList = &local_10;
  FUN_008018d0(L"[AvaMyParty::DelPlayer]",uVar3);
  local_28 = (LPCRITICAL_SECTION)(in_ECX + 8);
  local_1c = 0;
  local_24 = ".\\Objects\\AvaMyParty.cpp";
  local_20 = 0x1da;
  local_18 = 1;
  FUN_006ef1a0(&local_28);
  local_8 = 0;
  FUN_004437f0(&param_1);
  if (local_14 != *(int *)(in_ECX + 0x2c)) {
    if (*(int *)(local_14 + 0x10) == 0) {
      FUN_0042b2c0(in_ECX + 0x28,&local_14,local_14);
      uVar2 = param_1;
      piVar4 = (int *)FUN_00a1a840(param_1);
      if (((piVar4 != (int *)0x0) || (piVar4 = (int *)FUN_00a1a6d0(uVar2), piVar4 != (int *)0x0)) ||
         (piVar4 = (int *)FUN_00a1a780(uVar2), piVar4 != (int *)0x0)) {
        FUN_00857f90(piVar4);
        if ((*(int *)(DAT_0172491c + 0x17c) != 0) &&
           (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 4) != piVar4[1])) {
          (**(code **)(*piVar4 + 0x1c0))(0,piVar4[0x2d]);
        }
        iVar1 = *DAT_00da9894;
        if ((*(int *)(iVar1 + 0x16c) != 0) &&
           (*(int *)(*(int *)(iVar1 + 0x16c) + 0x7c) == piVar4[1])) {
          FUN_009003c0(*(undefined4 *)(iVar1 + 0x16c),0,piVar4[0x2d]);
        }
      }
      local_8 = 0xffffffff;
      if (local_1c != 0) {
        LeaveCriticalSection(local_28);
        local_1c = 0;
      }
      FUN_00a1b780();
      ExceptionList = local_10;
      return;
    }
    FUN_00406bd0(*(int *)(local_14 + 0x10));
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  FUN_008018d0(L"[AvaMyParty::DelPlayer] invalide Partyplayer",uVar3);
  local_8 = 0xffffffff;
  if (local_1c == 0) {
    ExceptionList = local_10;
    return;
  }
  LeaveCriticalSection(local_28);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00ab6fc0 : PUSH EBP
00ab6fc1 : MOV EBP,ESP
00ab6fc3 : PUSH -0x1
00ab6fc5 : PUSH 0xb1bd8f
00ab6fca : MOV EAX,FS:[0x0]
00ab6fd0 : PUSH EAX
00ab6fd1 : SUB ESP,0x18
00ab6fd4 : PUSH EBX
00ab6fd5 : PUSH ESI
00ab6fd6 : PUSH EDI
00ab6fd7 : MOV EAX,[0x00d66fa0]
00ab6fdc : XOR EAX,EBP
00ab6fde : PUSH EAX
00ab6fdf : LEA EAX,[EBP + -0xc]
00ab6fe2 : MOV FS:[0x0],EAX
00ab6fe8 : MOV EDI,ECX
00ab6fea : XOR EBX,EBX
00ab6fec : CMP dword ptr [0x00da93ec],EBX
00ab6ff2 : JZ 0x00ab7182
00ab6ff8 : MOV ESI,dword ptr [0x00da98e8]
00ab6ffe : PUSH 0xc41b04
00ab7003 : CALL 0x008018d0
00ab7008 : ADD ESP,0x4
00ab700b : LEA ECX,[EBP + -0x24]
00ab700e : LEA EAX,[EDI + 0x8]
00ab7011 : PUSH ECX
00ab7012 : MOV dword ptr [EBP + -0x18],EBX
00ab7015 : MOV dword ptr [EBP + -0x24],EAX
00ab7018 : MOV dword ptr [EBP + -0x20],0xc41b34
00ab701f : MOV dword ptr [EBP + -0x1c],0x1da
00ab7026 : MOV dword ptr [EBP + -0x14],0x1
00ab702d : CALL 0x006ef1a0
00ab7032 : MOV dword ptr [EBP + -0x4],EBX
00ab7035 : LEA EDX,[EBP + 0x8]
00ab7038 : LEA EBX,[EDI + 0x28]
00ab703b : PUSH EDX
00ab703c : LEA EAX,[EBP + -0x10]
00ab703f : MOV ECX,EBX
00ab7041 : CALL 0x004437f0
00ab7046 : MOV EDI,dword ptr [EDI + 0x2c]
00ab7049 : MOV ESI,dword ptr [EBP + -0x10]
00ab704c : CMP ESI,EDI
00ab704e : JNZ 0x00ab7099
00ab7050 : MOV ESI,dword ptr [0x00da98e8]
00ab7056 : PUSH 0xc41b50
00ab705b : CALL 0x008018d0
00ab7060 : ADD ESP,0x4
00ab7063 : MOV dword ptr [EBP + -0x4],0xffffffff
00ab706a : CMP dword ptr [EBP + -0x18],0x0
00ab706e : JZ 0x00ab7182
00ab7074 : MOV EAX,dword ptr [EBP + -0x24]
00ab7077 : PUSH EAX
00ab7078 : CALL dword ptr [0x00b8511c]
00ab707e : MOV dword ptr [EBP + -0x18],0x0
00ab7085 : MOV ECX,dword ptr [EBP + -0xc]
00ab7088 : MOV dword ptr FS:[0x0],ECX
00ab708f : POP ECX
00ab7090 : POP EDI
00ab7091 : POP ESI
00ab7092 : POP EBX
00ab7093 : MOV ESP,EBP
00ab7095 : POP EBP
00ab7096 : RET 0x4
00ab7099 : MOV EDI,dword ptr [ESI + 0x10]
00ab709c : TEST EDI,EDI
00ab709e : JZ 0x00ab70b4
00ab70a0 : PUSH EDI
00ab70a1 : CALL 0x00406bd0
00ab70a6 : MOV ECX,EDI
00ab70a8 : CALL 0x006f04e0
00ab70b4 : PUSH ESI
00ab70b5 : LEA ECX,[EBP + -0x10]
00ab70b8 : PUSH ECX
00ab70b9 : PUSH EBX
00ab70ba : CALL 0x0042b2c0
00ab70bf : MOV ECX,dword ptr [0x00da93ec]
00ab70c5 : MOV EBX,dword ptr [EBP + 0x8]
00ab70c8 : PUSH EBX
00ab70c9 : MOV EDI,ECX
00ab70cb : CALL 0x00a1a840
00ab70d0 : MOV ESI,EAX
00ab70d2 : TEST ESI,ESI
00ab70d4 : JNZ 0x00ab70f2
00ab70d6 : PUSH EBX
00ab70d7 : MOV ECX,EDI
00ab70d9 : CALL 0x00a1a6d0
00ab70de : MOV ESI,EAX
00ab70e0 : TEST ESI,ESI
00ab70e2 : JNZ 0x00ab70f2
00ab70e4 : PUSH EBX
00ab70e5 : MOV ECX,EDI
00ab70e7 : CALL 0x00a1a780
00ab70ec : MOV ESI,EAX
00ab70ee : TEST ESI,ESI
00ab70f0 : JZ 0x00ab7159
00ab70f2 : PUSH ESI
00ab70f3 : CALL 0x00857f90
00ab70f8 : MOV EDX,dword ptr [0x0172491c]
00ab70fe : MOV EAX,dword ptr [EDX + 0x17c]
00ab7104 : TEST EAX,EAX
00ab7106 : JZ 0x00ab7125
00ab7108 : MOV EAX,dword ptr [EAX + 0x4]
00ab710b : CMP EAX,dword ptr [ESI + 0x4]
00ab710e : JZ 0x00ab7125
00ab7110 : MOV EAX,dword ptr [ESI + 0xb4]
00ab7116 : MOV EDX,dword ptr [ESI]
00ab7118 : PUSH EAX
00ab7119 : MOV EAX,dword ptr [EDX + 0x1c0]
00ab711f : PUSH 0x0
00ab7121 : MOV ECX,ESI
00ab7123 : CALL EAX
00ab7125 : MOV ECX,dword ptr [0x00da9894]
00ab712b : MOV EAX,dword ptr [ECX]
00ab712d : CMP dword ptr [EAX + 0x16c],0x0
00ab7134 : JZ 0x00ab7159
00ab7136 : MOV ECX,dword ptr [EAX + 0x16c]
00ab713c : MOV ECX,dword ptr [ECX + 0x7c]
00ab713f : CMP ECX,dword ptr [ESI + 0x4]
00ab7142 : JNZ 0x00ab7159
00ab7144 : MOV ESI,dword ptr [ESI + 0xb4]
00ab714a : MOV EAX,dword ptr [EAX + 0x16c]
00ab7150 : PUSH ESI
00ab7151 : PUSH 0x0
00ab7153 : PUSH EAX
00ab7154 : CALL 0x009003c0
00ab7159 : MOV dword ptr [EBP + -0x4],0xffffffff
00ab7160 : CMP dword ptr [EBP + -0x18],0x0
00ab7164 : JZ 0x00ab7177
00ab7166 : MOV EDX,dword ptr [EBP + -0x24]
00ab7169 : PUSH EDX
00ab716a : CALL dword ptr [0x00b8511c]
00ab7170 : MOV dword ptr [EBP + -0x18],0x0
00ab7177 : MOV EDI,dword ptr [0x00da93ec]
00ab717d : CALL 0x00a1b780
00ab7182 : MOV ECX,dword ptr [EBP + -0xc]
00ab7185 : MOV dword ptr FS:[0x0],ECX
00ab718c : POP ECX
00ab718d : POP EDI
00ab718e : POP ESI
00ab718f : POP EBX
00ab7190 : MOV ESP,EBP
00ab7192 : POP EBP
00ab7193 : RET 0x4
