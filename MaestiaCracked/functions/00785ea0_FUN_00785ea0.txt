PROGRAM  : Maestia.exe
FUNCTION : FUN_00785ea0
ENTRY    : 00785ea0
BODY     : [[00785ea0, 007860fc] [00786100, 0078612c] [00786130, 00786154]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00785ea0(float *param_1,float *param_2,undefined4 param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  int *piVar4;
  char cVar5;
  int iVar6;
  int in_ECX;
  int *piVar7;
  int *piVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  undefined1 local_18 [8];
  int *local_10;
  int local_c;
  
  local_30 = *(float *)(in_ECX + 0x40);
  local_2c = *(float *)(in_ECX + 0x44);
  local_28 = *(float *)(in_ECX + 0x48);
  local_24 = *(float *)(in_ECX + 0x4c);
  local_20 = *(float *)(in_ECX + 0x50);
  local_1c = *(float *)(in_ECX + 0x54);
  if (*(char *)(*(int *)(*(int *)(DAT_017251ac + 0x1a4) + 0xf0) + 0x2ab4) == '\0') {
    fVar10 = param_1[1];
    fVar1 = *param_2;
    fVar2 = param_2[1];
    fVar3 = param_2[2];
    fVar12 = fVar1 + *param_1 * 1500.0;
    fVar9 = fVar2 + fVar10 * 1500.0;
    fVar11 = fVar3 + param_1[2] * 1500.0;
    if ((fVar10 == 1.0) || (fVar10 == -1.0)) {
      fVar10 = fVar12;
      if (fVar12 < fVar1) {
        fVar10 = fVar1;
      }
      if (fVar10 < local_30) {
        return;
      }
      fVar10 = fVar11;
      if (fVar11 < fVar3) {
        fVar10 = fVar3;
      }
      if (fVar10 < local_28) {
        return;
      }
      if (fVar1 < fVar12) {
        fVar12 = fVar1;
      }
      if (local_24 < fVar12) {
        return;
      }
      if (fVar3 < fVar11) {
        fVar11 = fVar3;
      }
      if (local_1c < fVar11) {
        return;
      }
    }
    else {
      fVar10 = fVar12;
      if (fVar12 < fVar1) {
        fVar10 = fVar1;
      }
      if (fVar10 < local_30) {
        return;
      }
      fVar10 = fVar9;
      if (fVar9 < fVar2) {
        fVar10 = fVar2;
      }
      if (fVar10 < local_2c) {
        return;
      }
      fVar10 = fVar11;
      if (fVar11 < fVar3) {
        fVar10 = fVar3;
      }
      if (fVar10 < local_28) {
        return;
      }
      if (fVar1 < fVar12) {
        fVar12 = fVar1;
      }
      if (local_24 < fVar12) {
        return;
      }
      if (fVar2 < fVar9) {
        fVar9 = fVar2;
      }
      if (local_20 < fVar9) {
        return;
      }
      if (fVar3 < fVar11) {
        fVar11 = fVar3;
      }
      if (local_1c < fVar11) {
        return;
      }
    }
  }
  local_c = in_ECX;
  iVar6 = D3DXBoxBoundProbe(&local_30,&local_24,param_2,param_1);
  if (iVar6 != 0) {
    piVar7 = (int *)**(int **)(in_ECX + 8);
    if (piVar7 != *(int **)(in_ECX + 8)) {
      do {
        iVar6 = piVar7[10];
        piVar4 = *(int **)(iVar6 + 0x188);
        piVar8 = (int *)*piVar4;
        if (piVar8 != piVar4) {
          do {
            local_10 = (int *)piVar8[9];
            if ((local_10[1] != 0xf) &&
               (cVar5 = (**(code **)(*local_10 + 0x4c))(param_2,param_1), cVar5 != '\0')) {
              FUN_0045fe50(local_18,&local_10);
            }
            piVar8 = (int *)*piVar8;
          } while (piVar8 != (int *)*(int *)(iVar6 + 0x188));
        }
        if (*(char *)((int)piVar7 + 0x2d) == '\0') {
          piVar4 = (int *)piVar7[2];
          if (*(char *)((int)piVar4 + 0x2d) == '\0') {
            cVar5 = *(char *)(*piVar4 + 0x2d);
            piVar7 = piVar4;
            piVar4 = (int *)*piVar4;
            while (cVar5 == '\0') {
              cVar5 = *(char *)(*piVar4 + 0x2d);
              piVar7 = piVar4;
              piVar4 = (int *)*piVar4;
            }
          }
          else {
            cVar5 = *(char *)(piVar7[1] + 0x2d);
            piVar8 = (int *)piVar7[1];
            piVar4 = piVar7;
            while ((piVar7 = piVar8, cVar5 == '\0' && (piVar4 == (int *)piVar7[2]))) {
              cVar5 = *(char *)(piVar7[1] + 0x2d);
              piVar8 = (int *)piVar7[1];
              piVar4 = piVar7;
            }
          }
        }
        in_ECX = local_c;
      } while (piVar7 != *(int **)(local_c + 8));
    }
    piVar7 = (int *)(in_ECX + 0x18);
    iVar6 = 4;
    do {
      if (*piVar7 != 0) {
        FUN_00785ea0(param_1,param_2,param_3);
      }
      piVar7 = piVar7 + 1;
      iVar6 = iVar6 + -1;
    } while (iVar6 != 0);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00785ea0 : PUSH EBP
00785ea1 : MOV EBP,ESP
00785ea3 : SUB ESP,0x30
00785ea6 : MOV EAX,[0x017251ac]
00785eab : PUSH EBX
00785eac : MOV EBX,ECX
00785eae : MOVSS XMM0,dword ptr [EBX + 0x40]
00785eb3 : MOV ECX,dword ptr [EAX + 0x1a4]
00785eb9 : MOVSS dword ptr [EBP + -0x2c],XMM0
00785ebe : MOVSS XMM0,dword ptr [EBX + 0x44]
00785ec3 : MOVSS dword ptr [EBP + -0x28],XMM0
00785ec8 : MOVSS XMM0,dword ptr [EBX + 0x48]
00785ecd : MOVSS dword ptr [EBP + -0x24],XMM0
00785ed2 : MOVSS XMM0,dword ptr [EBX + 0x4c]
00785ed7 : MOVSS dword ptr [EBP + -0x20],XMM0
00785edc : MOVSS XMM0,dword ptr [EBX + 0x50]
00785ee1 : MOVSS dword ptr [EBP + -0x1c],XMM0
00785ee6 : MOVSS XMM0,dword ptr [EBX + 0x54]
00785eeb : MOVSS dword ptr [EBP + -0x18],XMM0
00785ef0 : MOV EDX,dword ptr [ECX + 0xf0]
00785ef6 : CMP byte ptr [EDX + 0x2ab4],0x0
00785efd : MOV ECX,dword ptr [EBP + 0xc]
00785f00 : PUSH ESI
00785f01 : PUSH EDI
00785f02 : MOV EDI,dword ptr [EBP + 0x8]
00785f05 : MOV dword ptr [EBP + -0x8],EBX
00785f08 : JNZ 0x00786061
00785f0e : MOVSS XMM3,dword ptr [0x00cdf158]
00785f16 : MOVSS XMM4,dword ptr [EDI + 0x4]
00785f1b : MOVSS XMM0,dword ptr [EDI]
00785f1f : MOVSS XMM2,dword ptr [EDI + 0x8]
00785f24 : MOVSS XMM5,dword ptr [ECX]
00785f28 : UCOMISS XMM4,dword ptr [0x00c10fc4]
00785f2f : MOVSS XMM6,dword ptr [ECX + 0x4]
00785f34 : MOVSS XMM7,dword ptr [ECX + 0x8]
00785f39 : MULSS XMM0,XMM3
00785f3d : MULSS XMM2,XMM3
00785f41 : MOVAPS XMM1,XMM4
00785f44 : MULSS XMM1,XMM3
00785f48 : MOVAPS XMM3,XMM5
00785f4b : ADDSS XMM3,XMM0
00785f4f : LAHF
00785f50 : MOVAPS XMM0,XMM6
00785f53 : ADDSS XMM0,XMM1
00785f57 : MOVAPS XMM1,XMM7
00785f5a : ADDSS XMM1,XMM2
00785f5e : TEST AH,0x44
00785f61 : JNP 0x00786007
00785f67 : MOVAPS XMM2,XMM4
00785f6a : UCOMISS XMM2,dword ptr [0x00cdf0d0]
00785f71 : LAHF
00785f72 : TEST AH,0x44
00785f75 : JNP 0x00786007
00785f7b : COMISS XMM5,XMM3
00785f7e : JBE 0x00785f85
00785f80 : MOVAPS XMM2,XMM5
00785f83 : JMP 0x00785f88
00785f85 : MOVAPS XMM2,XMM3
00785f88 : MOVSS XMM4,dword ptr [EBP + -0x2c]
00785f8d : COMISS XMM4,XMM2
00785f90 : JA 0x0078614c
00785f96 : COMISS XMM6,XMM0
00785f99 : JBE 0x00785fa0
00785f9b : MOVAPS XMM2,XMM6
00785f9e : JMP 0x00785fa3
00785fa0 : MOVAPS XMM2,XMM0
00785fa3 : MOVSS XMM4,dword ptr [EBP + -0x28]
00785fa8 : COMISS XMM4,XMM2
00785fab : JA 0x0078614c
00785fb1 : COMISS XMM7,XMM1
00785fb4 : JBE 0x00785fbb
00785fb6 : MOVAPS XMM2,XMM7
00785fb9 : JMP 0x00785fbe
00785fbb : MOVAPS XMM2,XMM1
00785fbe : MOVSS XMM4,dword ptr [EBP + -0x24]
00785fc3 : COMISS XMM4,XMM2
00785fc6 : JA 0x0078614c
00785fcc : COMISS XMM3,XMM5
00785fcf : JBE 0x00785fd4
00785fd1 : MOVAPS XMM3,XMM5
00785fd4 : COMISS XMM3,dword ptr [EBP + -0x20]
00785fd8 : JA 0x0078614c
00785fde : COMISS XMM0,XMM6
00785fe1 : JBE 0x00785fe6
00785fe3 : MOVAPS XMM0,XMM6
00785fe6 : COMISS XMM0,dword ptr [EBP + -0x1c]
00785fea : JA 0x0078614c
00785ff0 : COMISS XMM1,XMM7
00785ff3 : JBE 0x00785ff8
00785ff5 : MOVAPS XMM1,XMM7
00785ff8 : COMISS XMM1,dword ptr [EBP + -0x18]
00785ffc : JBE 0x00786061
00785ffe : POP EDI
00785fff : POP ESI
00786000 : POP EBX
00786001 : MOV ESP,EBP
00786003 : POP EBP
00786004 : RET 0xc
00786007 : COMISS XMM5,XMM3
0078600a : JBE 0x00786011
0078600c : MOVAPS XMM0,XMM5
0078600f : JMP 0x00786014
00786011 : MOVAPS XMM0,XMM3
00786014 : MOVSS XMM2,dword ptr [EBP + -0x2c]
00786019 : COMISS XMM2,XMM0
0078601c : JA 0x0078614c
00786022 : COMISS XMM7,XMM1
00786025 : JBE 0x0078602c
00786027 : MOVAPS XMM0,XMM7
0078602a : JMP 0x0078602f
0078602c : MOVAPS XMM0,XMM1
0078602f : MOVSS XMM2,dword ptr [EBP + -0x24]
00786034 : COMISS XMM2,XMM0
00786037 : JA 0x0078614c
0078603d : COMISS XMM3,XMM5
00786040 : JBE 0x00786045
00786042 : MOVAPS XMM3,XMM5
00786045 : COMISS XMM3,dword ptr [EBP + -0x20]
00786049 : JA 0x0078614c
0078604f : COMISS XMM1,XMM7
00786052 : JBE 0x00786057
00786054 : MOVAPS XMM1,XMM7
00786057 : COMISS XMM1,dword ptr [EBP + -0x18]
0078605b : JA 0x0078614c
00786061 : PUSH EDI
00786062 : PUSH ECX
00786063 : LEA EAX,[EBP + -0x20]
00786066 : PUSH EAX
00786067 : LEA ECX,[EBP + -0x2c]
0078606a : PUSH ECX
0078606b : CALL 0x00664cae
00786070 : TEST EAX,EAX
00786072 : JZ 0x0078614c
00786078 : MOV EAX,dword ptr [EBX + 0x8]
0078607b : MOV ESI,dword ptr [EAX]
0078607d : CMP ESI,EAX
0078607f : JZ 0x00786123
00786085 : MOV EBX,dword ptr [ESI + 0x28]
00786088 : MOV EAX,dword ptr [EBX + 0x188]
0078608e : MOV EDI,dword ptr [EAX]
00786090 : CMP EDI,EAX
00786092 : JZ 0x007860cd
00786094 : MOV ECX,dword ptr [EDI + 0x24]
00786097 : CMP dword ptr [ECX + 0x4],0xf
0078609b : MOV dword ptr [EBP + -0xc],ECX
0078609e : JZ 0x007860c3
007860a0 : MOV EAX,dword ptr [EBP + 0x8]
007860a3 : MOV EDX,dword ptr [ECX]
007860a5 : MOV EDX,dword ptr [EDX + 0x4c]
007860a8 : PUSH EAX
007860a9 : MOV EAX,dword ptr [EBP + 0xc]
007860ac : PUSH EAX
007860ad : CALL EDX
007860af : TEST AL,AL
007860b1 : JZ 0x007860c3
007860b3 : LEA EAX,[EBP + -0xc]
007860b6 : PUSH EAX
007860b7 : MOV EAX,dword ptr [EBP + 0x10]
007860ba : LEA ECX,[EBP + -0x14]
007860bd : PUSH ECX
007860be : CALL 0x0045fe50
007860c3 : MOV EDI,dword ptr [EDI]
007860c5 : CMP EDI,dword ptr [EBX + 0x188]
007860cb : JNZ 0x00786094
007860cd : CMP byte ptr [ESI + 0x2d],0x0
007860d1 : JNZ 0x00786112
007860d3 : MOV EAX,dword ptr [ESI + 0x8]
007860d6 : CMP byte ptr [EAX + 0x2d],0x0
007860da : JNZ 0x007860f2
007860dc : MOV ESI,EAX
007860de : MOV EAX,dword ptr [ESI]
007860e0 : CMP byte ptr [EAX + 0x2d],0x0
007860e4 : JNZ 0x00786112
007860e6 : MOV ESI,EAX
007860e8 : MOV EAX,dword ptr [ESI]
007860ea : CMP byte ptr [EAX + 0x2d],0x0
007860ee : JZ 0x007860e6
007860f0 : JMP 0x00786112
007860f2 : MOV EAX,dword ptr [ESI + 0x4]
007860f5 : CMP byte ptr [EAX + 0x2d],0x0
007860f9 : JNZ 0x00786110
007860fb : JMP 0x00786100
00786100 : CMP ESI,dword ptr [EAX + 0x8]
00786103 : JNZ 0x00786110
00786105 : MOV ESI,EAX
00786107 : MOV EAX,dword ptr [EAX + 0x4]
0078610a : CMP byte ptr [EAX + 0x2d],0x0
0078610e : JZ 0x00786100
00786110 : MOV ESI,EAX
00786112 : MOV EDX,dword ptr [EBP + -0x8]
00786115 : CMP ESI,dword ptr [EDX + 0x8]
00786118 : JNZ 0x00786085
0078611e : MOV EDI,dword ptr [EBP + 0x8]
00786121 : MOV EBX,EDX
00786123 : LEA ESI,[EBX + 0x18]
00786126 : MOV EBX,0x4
0078612b : JMP 0x00786130
00786130 : MOV ECX,dword ptr [ESI]
00786132 : TEST ECX,ECX
00786134 : JZ 0x00786144
00786136 : MOV EAX,dword ptr [EBP + 0x10]
00786139 : MOV EDX,dword ptr [EBP + 0xc]
0078613c : PUSH EAX
0078613d : PUSH EDX
0078613e : PUSH EDI
0078613f : CALL 0x00785ea0
00786144 : ADD ESI,0x4
00786147 : SUB EBX,0x1
0078614a : JNZ 0x00786130
0078614c : POP EDI
0078614d : POP ESI
0078614e : POP EBX
0078614f : MOV ESP,EBP
00786151 : POP EBP
00786152 : RET 0xc
