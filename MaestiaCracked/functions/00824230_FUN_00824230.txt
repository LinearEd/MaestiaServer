PROGRAM  : Maestia.exe
FUNCTION : FUN_00824230
ENTRY    : 00824230
BODY     : [[00824230, 00824330]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00824230(int param_1,undefined4 param_2)

{
  uint uVar1;
  undefined4 uVar2;
  int unaff_EDI;
  bool bVar3;
  uint local_38;
  uint local_1c;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b4d951;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8 = 0;
  bVar3 = *(int *)(param_1 + 0x144) != 0;
  if (bVar3) {
    uVar2 = FUN_0081b3a0(param_2);
    local_8 = 2;
  }
  else {
    uVar2 = FUN_00406460(&DAT_00c341f4);
    local_8 = 1;
  }
  *(undefined4 *)(unaff_EDI + 0x18) = 7;
  *(undefined4 *)(unaff_EDI + 0x14) = 0;
  *(undefined2 *)(unaff_EDI + 4) = 0;
  FUN_00405eb0(uVar2,0,0xffffffff);
  local_8 = 1;
  if ((bVar3) && (7 < local_1c)) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar1);
  }
  local_8 = 0;
  if ((!bVar3) && (7 < local_38)) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar1);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00824230 : PUSH EBP
00824231 : MOV EBP,ESP
00824233 : PUSH -0x1
00824235 : PUSH 0xb4d951
0082423a : MOV EAX,FS:[0x0]
00824240 : PUSH EAX
00824241 : SUB ESP,0x40
00824244 : PUSH EBX
00824245 : PUSH ESI
00824246 : MOV EAX,[0x00d66fa0]
0082424b : XOR EAX,EBP
0082424d : PUSH EAX
0082424e : LEA EAX,[EBP + -0xc]
00824251 : MOV FS:[0x0],EAX
00824257 : XOR ESI,ESI
00824259 : MOV dword ptr [EBP + -0x4],ESI
0082425c : MOV EAX,dword ptr [EBP + 0x8]
0082425f : MOV dword ptr [EBP + -0x10],ESI
00824262 : MOV ECX,dword ptr [EAX + 0x144]
00824268 : MOV dword ptr [EBP + -0x14],EDI
0082426b : CMP ECX,ESI
0082426d : JNZ 0x00824286
0082426f : PUSH 0xc341f4
00824274 : LEA ECX,[EBP + -0x4c]
00824277 : CALL 0x00406460
0082427c : MOV EBX,0x1
00824281 : MOV dword ptr [EBP + -0x4],EBX
00824284 : JMP 0x0082429c
00824286 : MOV EAX,dword ptr [EBP + 0xc]
00824289 : PUSH EAX
0082428a : LEA ESI,[EBP + -0x30]
0082428d : CALL 0x0081b3a0
00824292 : MOV EBX,0x2
00824297 : MOV dword ptr [EBP + -0x4],EBX
0082429a : XOR ESI,ESI
0082429c : MOV dword ptr [EBP + -0x10],EBX
0082429f : PUSH -0x1
008242a1 : XOR ECX,ECX
008242a3 : MOV dword ptr [EDI + 0x18],0x7
008242aa : MOV dword ptr [EDI + 0x14],ESI
008242ad : PUSH ESI
008242ae : MOV word ptr [EDI + 0x4],CX
008242b2 : PUSH EAX
008242b3 : MOV ECX,EDI
008242b5 : CALL 0x00405eb0
008242ba : OR EBX,0x4
008242bd : MOV dword ptr [EBP + -0x10],EBX
008242c0 : MOV dword ptr [EBP + -0x4],0x1
008242c7 : TEST BL,0x2
008242ca : JZ 0x008242f0
008242cc : AND EBX,0xfffffffd
008242cf : MOV dword ptr [EBP + -0x10],EBX
008242d2 : CMP dword ptr [EBP + -0x18],0x8
008242d6 : JC 0x008242e0
008242d8 : MOV ECX,dword ptr [EBP + -0x2c]
008242db : CALL 0x006f04e0
008242e0 : XOR EDX,EDX
008242e2 : MOV dword ptr [EBP + -0x18],0x7
008242e9 : MOV dword ptr [EBP + -0x1c],ESI
008242ec : MOV word ptr [EBP + -0x2c],DX
008242f0 : MOV dword ptr [EBP + -0x4],ESI
008242f3 : TEST BL,0x1
008242f6 : JZ 0x0082431c
008242f8 : AND EBX,0xfffffffe
008242fb : MOV dword ptr [EBP + -0x10],EBX
008242fe : CMP dword ptr [EBP + -0x34],0x8
00824302 : JC 0x0082430c
00824304 : MOV ECX,dword ptr [EBP + -0x48]
00824307 : CALL 0x006f04e0
0082430c : XOR EAX,EAX
0082430e : MOV dword ptr [EBP + -0x34],0x7
00824315 : MOV dword ptr [EBP + -0x38],ESI
00824318 : MOV word ptr [EBP + -0x48],AX
0082431c : MOV EAX,EDI
0082431e : MOV ECX,dword ptr [EBP + -0xc]
00824321 : MOV dword ptr FS:[0x0],ECX
00824328 : POP ECX
00824329 : POP ESI
0082432a : POP EBX
0082432b : MOV ESP,EBP
0082432d : POP EBP
0082432e : RET 0x8
