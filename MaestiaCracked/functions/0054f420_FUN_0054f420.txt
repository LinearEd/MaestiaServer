PROGRAM  : Maestia.exe
FUNCTION : FUN_0054f420
ENTRY    : 0054f420
BODY     : [[0054f420, 0054f487]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_0054f420(uint *param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  int *in_ECX;
  uint *puVar3;
  
  iVar1 = *in_ECX;
  puVar3 = (uint *)(iVar1 + 8 + param_2 * 0x24);
  if ((*(int *)(iVar1 + 8 + param_2 * 0x24) != -2) &&
     (uVar2 = param_2, (*(uint *)(puVar3[1] + 0xc) & *(uint *)(iVar1 + 4)) == param_2)) {
    while (((*(uint *)(puVar3[1] + 0xc) & *(uint *)(iVar1 + 4)) != param_2 ||
           (puVar3[1] != *param_1))) {
      uVar2 = *puVar3;
      if (uVar2 == 0xffffffff) {
        return 0xffffffff;
      }
      puVar3 = (uint *)(iVar1 + 8 + uVar2 * 0x24);
    }
    return uVar2;
  }
  return 0xffffffff;
}



============================================================
DISASSEMBLY
============================================================
0054f420 : PUSH EBX
0054f421 : PUSH ESI
0054f422 : MOV ESI,dword ptr [ESP + 0x10]
0054f426 : PUSH EDI
0054f427 : MOV EDI,dword ptr [ECX]
0054f429 : LEA ECX,[ESI + ESI*0x8]
0054f42c : CMP dword ptr [EDI + ECX*0x4 + 0x8],-0x2
0054f431 : LEA ECX,[EDI + ECX*0x4 + 0x8]
0054f435 : MOV EAX,ESI
0054f437 : JZ 0x0054f47f
0054f439 : MOV EDX,dword ptr [ECX + 0x4]
0054f43c : MOV EBX,dword ptr [EDI + 0x4]
0054f43f : MOV EDX,dword ptr [EDX + 0xc]
0054f442 : AND EDX,EBX
0054f444 : CMP EDX,ESI
0054f446 : JNZ 0x0054f47f
0054f448 : PUSH EBP
0054f449 : LEA ESP,[ESP]
0054f450 : MOV EDX,dword ptr [ECX + 0x4]
0054f453 : MOV EBP,dword ptr [EDX + 0xc]
0054f456 : AND EBP,EBX
0054f458 : CMP EBP,ESI
0054f45a : JNZ 0x0054f465
0054f45c : MOV EBP,dword ptr [ESP + 0x14]
0054f460 : CMP EDX,dword ptr [EBP]
0054f463 : JZ 0x0054f478
0054f465 : MOV EAX,dword ptr [ECX]
0054f467 : CMP EAX,-0x1
0054f46a : JZ 0x0054f475
0054f46c : LEA ECX,[EAX + EAX*0x8]
0054f46f : LEA ECX,[EDI + ECX*0x4 + 0x8]
0054f473 : JMP 0x0054f450
0054f475 : OR EAX,0xffffffff
0054f478 : POP EBP
0054f479 : POP EDI
0054f47a : POP ESI
0054f47b : POP EBX
0054f47c : RET 0x8
0054f47f : POP EDI
0054f480 : POP ESI
0054f481 : OR EAX,0xffffffff
0054f484 : POP EBX
0054f485 : RET 0x8
