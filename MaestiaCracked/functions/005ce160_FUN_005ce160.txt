PROGRAM  : Maestia.exe
FUNCTION : FUN_005ce160
ENTRY    : 005ce160
BODY     : [[005ce160, 005ce310]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005ce160(int param_1)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  char cVar5;
  int iVar6;
  uint *puVar7;
  int unaff_EDI;
  int local_38 [6];
  undefined1 local_20 [4];
  undefined1 auStack_1c [12];
  undefined1 local_10;
  int iStack_8;
  int *piStack_4;
  
  piVar1 = (int *)(param_1 + 0x78);
  local_10 = 0;
  local_20[0] = 0;
  local_38[0] = FUN_00525380("System",6,0);
  *(int *)(local_38[0] + 8) = *(int *)(local_38[0] + 8) + 1;
  cVar5 = (**(code **)(*(int *)(*(int *)(*piVar1 + 0x2a0) + 0x10) + 0x2c))(piVar1,local_38,local_20)
  ;
  if (cVar5 != '\0') {
    iVar6 = FUN_00526fa0(param_1);
    cVar5 = (**(code **)(*(int *)(iVar6 + 0x10) + 0x2c))(piVar1,*piVar1 + 0x60,auStack_1c);
    if (((cVar5 != '\0') && (iVar6 = FUN_00526fa0(param_1), iVar6 != 0)) && (iVar6 + 0x10 != 0)) {
      iVar2 = *piStack_4;
      if (*(int *)(iVar2 + 0x10) == 0) {
        *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x10;
        if (*(uint *)(param_1 + 0x10) <= *(uint *)(param_1 + 8)) {
          FUN_00504050();
        }
        if (*(undefined1 **)(param_1 + 8) != (undefined1 *)0x0) {
          **(undefined1 **)(param_1 + 8) = 1;
        }
      }
      else {
        *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1;
        *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x10;
        local_38[0] = iVar2;
        if (*(uint *)(param_1 + 0x10) <= *(uint *)(param_1 + 8)) {
          FUN_00504050();
        }
        if (*(int *)(param_1 + 8) != 0) {
          FUN_005266c0(&stack0xffffffc4);
        }
        FUN_00526bc0();
      }
      puVar7 = (uint *)(param_1 + 8);
      uVar3 = *puVar7;
      iVar2 = *(int *)(param_1 + 0xc);
      iVar4 = *(int *)(param_1 + 0x1c);
      iStack_8 = FUN_00525380("onSetSupportedLanguages",0x17,0);
      *(int *)(iStack_8 + 8) = *(int *)(iStack_8 + 8) + 1;
      FUN_0057bb40(param_1,iVar6 + 0x10,&iStack_8,1,
                   ((int)(uVar3 - iVar2) >> 4) + -0x20 + iVar4 * 0x20);
      *(int *)(iStack_8 + 8) = *(int *)(iStack_8 + 8) + -1;
      if (*(int *)(iStack_8 + 8) == 0) {
        FUN_00525340();
      }
      FUN_00526bc0();
      *puVar7 = *puVar7 - 0x10;
      if (*puVar7 < *(uint *)(param_1 + 0xc)) {
        FUN_00504f30();
      }
    }
  }
  *(int *)(unaff_EDI + 8) = *(int *)(unaff_EDI + 8) + -1;
  if (*(int *)(unaff_EDI + 8) == 0) {
    FUN_00525340();
  }
  FUN_00526bc0();
  FUN_00526bc0();
  return;
}



============================================================
DISASSEMBLY
============================================================
005ce160 : SUB ESP,0x38
005ce163 : PUSH EBP
005ce164 : MOV EBP,dword ptr [ESP + 0x40]
005ce168 : MOV EAX,dword ptr [EBP + 0x78]
005ce16b : PUSH ESI
005ce16c : PUSH EDI
005ce16d : PUSH 0x0
005ce16f : LEA EDI,[EBP + 0x78]
005ce172 : PUSH 0x6
005ce174 : PUSH 0xb86464
005ce179 : LEA ECX,[EAX + 0x254]
005ce17f : MOV byte ptr [ESP + 0x40],0x0
005ce184 : MOV byte ptr [ESP + 0x30],0x0
005ce189 : CALL 0x00525380
005ce18e : MOV dword ptr [ESP + 0xc],EAX
005ce192 : MOV ESI,0x1
005ce197 : ADD dword ptr [EAX + 0x8],ESI
005ce19a : MOV EAX,dword ptr [EDI]
005ce19c : MOV ECX,dword ptr [EAX + 0x2a0]
005ce1a2 : MOV EDX,dword ptr [ECX + 0x10]
005ce1a5 : MOV EDX,dword ptr [EDX + 0x2c]
005ce1a8 : LEA EAX,[ESP + 0x24]
005ce1ac : PUSH EAX
005ce1ad : ADD ECX,0x10
005ce1b0 : LEA EAX,[ESP + 0x10]
005ce1b4 : PUSH EAX
005ce1b5 : PUSH EDI
005ce1b6 : CALL EDX
005ce1b8 : TEST AL,AL
005ce1ba : JZ 0x005ce2e2
005ce1c0 : PUSH EBX
005ce1c1 : PUSH EBP
005ce1c2 : LEA ECX,[ESP + 0x2c]
005ce1c6 : CALL 0x00526fa0
005ce1cb : MOV EDX,dword ptr [EDI]
005ce1cd : LEA ECX,[EAX + 0x10]
005ce1d0 : MOV EAX,dword ptr [ECX]
005ce1d2 : LEA EBX,[ESP + 0x38]
005ce1d6 : PUSH EBX
005ce1d7 : ADD EDX,0x60
005ce1da : PUSH EDX
005ce1db : MOV EDX,dword ptr [EAX + 0x2c]
005ce1de : PUSH EDI
005ce1df : CALL EDX
005ce1e1 : TEST AL,AL
005ce1e3 : JZ 0x005ce2e1
005ce1e9 : PUSH EBP
005ce1ea : MOV ECX,EBX
005ce1ec : CALL 0x00526fa0
005ce1f1 : TEST EAX,EAX
005ce1f3 : JZ 0x005ce2e1
005ce1f9 : ADD EAX,0x10
005ce1fc : MOV dword ptr [ESP + 0x14],EAX
005ce200 : JZ 0x005ce2e1
005ce206 : MOV EAX,dword ptr [ESP + 0x50]
005ce20a : MOV EAX,dword ptr [EAX]
005ce20c : CMP dword ptr [EAX + 0x10],0x0
005ce210 : JZ 0x005ce24f
005ce212 : MOV dword ptr [ESP + 0x1c],EAX
005ce216 : MOV byte ptr [ESP + 0x18],0x5
005ce21b : ADD dword ptr [EAX + 0x8],ESI
005ce21e : ADD dword ptr [EBP + 0x8],0x10
005ce222 : MOV EAX,dword ptr [EBP + 0x8]
005ce225 : CMP EAX,dword ptr [EBP + 0x10]
005ce228 : LEA ESI,[EBP + 0x8]
005ce22b : JC 0x005ce234
005ce22d : MOV ECX,ESI
005ce22f : CALL 0x00504050
005ce234 : MOV ECX,dword ptr [ESI]
005ce236 : TEST ECX,ECX
005ce238 : JZ 0x005ce244
005ce23a : LEA EDX,[ESP + 0x18]
005ce23e : PUSH EDX
005ce23f : CALL 0x005266c0
005ce244 : LEA ECX,[ESP + 0x18]
005ce248 : CALL 0x00526bc0
005ce24d : JMP 0x005ce26e
005ce24f : ADD dword ptr [EBP + 0x8],0x10
005ce253 : MOV EAX,dword ptr [EBP + 0x8]
005ce256 : CMP EAX,dword ptr [EBP + 0x10]
005ce259 : LEA ESI,[EBP + 0x8]
005ce25c : JC 0x005ce265
005ce25e : MOV ECX,ESI
005ce260 : CALL 0x00504050
005ce265 : MOV EAX,dword ptr [ESI]
005ce267 : TEST EAX,EAX
005ce269 : JZ 0x005ce26e
005ce26b : MOV byte ptr [EAX],0x1
005ce26e : MOV EAX,dword ptr [ESI]
005ce270 : SUB EAX,dword ptr [ESI + 0x4]
005ce273 : MOV ECX,dword ptr [ESI + 0x14]
005ce276 : MOV EDI,dword ptr [EDI]
005ce278 : PUSH 0x0
005ce27a : SHL ECX,0x5
005ce27d : SAR EAX,0x4
005ce280 : PUSH 0x17
005ce282 : LEA EBX,[EAX + ECX*0x1 + -0x20]
005ce286 : PUSH 0xb92bf4
005ce28b : LEA ECX,[EDI + 0x254]
005ce291 : CALL 0x00525380
005ce296 : PUSH EBX
005ce297 : MOV dword ptr [ESP + 0x50],EAX
005ce29b : INC dword ptr [EAX + 0x8]
005ce29e : MOV EAX,dword ptr [ESP + 0x18]
005ce2a2 : PUSH 0x1
005ce2a4 : LEA EDX,[ESP + 0x54]
005ce2a8 : PUSH EDX
005ce2a9 : PUSH EAX
005ce2aa : PUSH EBP
005ce2ab : CALL 0x0057bb40
005ce2b0 : MOV EAX,dword ptr [ESP + 0x60]
005ce2b4 : DEC dword ptr [EAX + 0x8]
005ce2b7 : MOV ECX,EAX
005ce2b9 : ADD EAX,0x8
005ce2bc : ADD ESP,0x14
005ce2bf : CMP dword ptr [EAX],0x0
005ce2c2 : JNZ 0x005ce2c9
005ce2c4 : CALL 0x00525340
005ce2c9 : MOV ECX,dword ptr [ESI]
005ce2cb : CALL 0x00526bc0
005ce2d0 : ADD dword ptr [ESI],-0x10
005ce2d3 : MOV EAX,dword ptr [ESI]
005ce2d5 : CMP EAX,dword ptr [ESI + 0x4]
005ce2d8 : JNC 0x005ce2e1
005ce2da : MOV ECX,ESI
005ce2dc : CALL 0x00504f30
005ce2e1 : POP EBX
005ce2e2 : MOV EAX,dword ptr [ESP + 0xc]
005ce2e6 : DEC dword ptr [EAX + 0x8]
005ce2e9 : MOV ECX,EAX
005ce2eb : ADD EAX,0x8
005ce2ee : CMP dword ptr [EAX],0x0
005ce2f1 : POP EDI
005ce2f2 : POP ESI
005ce2f3 : POP EBP
005ce2f4 : JNZ 0x005ce2fb
005ce2f6 : CALL 0x00525340
005ce2fb : LEA ECX,[ESP + 0x18]
005ce2ff : CALL 0x00526bc0
005ce304 : LEA ECX,[ESP + 0x28]
005ce308 : CALL 0x00526bc0
005ce30d : ADD ESP,0x38
005ce310 : RET
