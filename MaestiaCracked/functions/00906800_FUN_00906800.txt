PROGRAM  : Maestia.exe
FUNCTION : FUN_00906800
ENTRY    : 00906800
BODY     : [[00906800, 00906980]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00906800(uint param_1)

{
  int *piVar1;
  float fVar2;
  float fVar3;
  uint uVar4;
  int iVar5;
  int in_ECX;
  uint uVar6;
  uint local_38;
  uint local_18;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1ebf2;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (param_1 != 0) {
    *(uint *)(in_ECX + 0x7c) = param_1;
    if (param_1 < *(uint *)(in_ECX + 0x74)) {
      *(uint *)(in_ECX + 0x74) = param_1;
    }
    iVar5 = *(int *)(in_ECX + 0x74);
    fVar2 = (float)iVar5;
    if (iVar5 < 0) {
      fVar2 = fVar2 + 4.2949673e+09;
    }
    fVar3 = (float)(int)param_1;
    if ((int)param_1 < 0) {
      fVar3 = fVar3 + 4.2949673e+09;
    }
    *(float *)(in_ECX + 0x1b8) = fVar2 / fVar3;
    if (*(float *)(in_ECX + 0x1b4) == 0.0) {
      *(float *)(in_ECX + 0x1b4) = fVar2 / fVar3;
    }
    uVar6 = uVar4;
    FUN_00404750(L" %d / %d",iVar5,param_1,uVar4);
    local_8 = 0;
    piVar1 = *(int **)(*DAT_00da9894 + 0x114);
    if (piVar1 != (int *)0x0) {
      iVar5 = FUN_00404750(L"%d / %d ",*(undefined4 *)(in_ECX + 0x74),*(undefined4 *)(in_ECX + 0x7c)
                           ,uVar6);
      local_8._0_1_ = 1;
      if (*(uint *)(iVar5 + 0x18) < 8) {
        iVar5 = iVar5 + 4;
      }
      else {
        iVar5 = *(int *)(iVar5 + 4);
      }
      (**(code **)(*piVar1 + 4))(piVar1,"SetMaxDp",&DAT_00c646a4,iVar5);
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    *(undefined1 *)(in_ECX + 0x1c6) = 1;
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  local_8 = 0xffffffff;
  ExceptionList = local_10;
  __security_check_cookie(uVar4 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00906800 : PUSH EBP
00906801 : MOV EBP,ESP
00906803 : PUSH -0x1
00906805 : PUSH 0xb1ebf2
0090680a : MOV EAX,FS:[0x0]
00906810 : PUSH EAX
00906811 : SUB ESP,0x40
00906814 : MOV EAX,[0x00d66fa0]
00906819 : XOR EAX,EBP
0090681b : MOV dword ptr [EBP + -0x10],EAX
0090681e : PUSH EBX
0090681f : PUSH ESI
00906820 : PUSH EDI
00906821 : PUSH EAX
00906822 : LEA EAX,[EBP + -0xc]
00906825 : MOV FS:[0x0],EAX
0090682b : MOV EDI,ECX
0090682d : MOV ECX,dword ptr [EBP + 0x8]
00906830 : TEST ECX,ECX
00906832 : JZ 0x00906963
00906838 : MOV dword ptr [EDI + 0x7c],ECX
0090683b : CMP ECX,dword ptr [EDI + 0x74]
0090683e : JNC 0x00906843
00906840 : MOV dword ptr [EDI + 0x74],ECX
00906843 : MOV EDX,dword ptr [EDI + 0x74]
00906846 : MOV EAX,EDX
00906848 : MOV dword ptr [EBP + -0x30],EAX
0090684b : FILD dword ptr [EBP + -0x30]
0090684e : TEST EAX,EAX
00906850 : JGE 0x00906858
00906852 : FADD float ptr [0x00cdf0e0]
00906858 : MOV EAX,ECX
0090685a : MOV dword ptr [EBP + -0x30],EAX
0090685d : FILD dword ptr [EBP + -0x30]
00906860 : TEST EAX,EAX
00906862 : JGE 0x0090686a
00906864 : FADD float ptr [0x00cdf0e0]
0090686a : FDIVP
0090686c : MOVSS XMM0,dword ptr [EDI + 0x1b4]
00906874 : UCOMISS XMM0,dword ptr [0x00b9b0b4]
0090687b : LAHF
0090687c : FST float ptr [EBP + -0x30]
0090687f : FSTP float ptr [EDI + 0x1b8]
00906885 : TEST AH,0x44
00906888 : JP 0x00906897
0090688a : MOVSS XMM0,dword ptr [EBP + -0x30]
0090688f : MOVSS dword ptr [EDI + 0x1b4],XMM0
00906897 : PUSH ECX
00906898 : PUSH EDX
00906899 : PUSH 0xc6467c
0090689e : LEA ESI,[EBP + -0x2c]
009068a1 : CALL 0x00404750
009068a6 : ADD ESP,0xc
009068a9 : MOV dword ptr [EBP + -0x4],0x0
009068b0 : MOV ECX,dword ptr [0x00da9894]
009068b6 : MOV EAX,dword ptr [ECX]
009068b8 : MOV ECX,dword ptr [EAX + 0x114]
009068be : TEST ECX,ECX
009068c0 : JZ 0x0090692f
009068c2 : MOV EDX,dword ptr [EDI + 0x7c]
009068c5 : MOV EAX,dword ptr [EDI + 0x74]
009068c8 : PUSH EDX
009068c9 : PUSH EAX
009068ca : PUSH 0xc64690
009068cf : LEA ESI,[EBP + -0x4c]
009068d2 : MOV EBX,ECX
009068d4 : CALL 0x00404750
009068d9 : ADD ESP,0xc
009068dc : MOV byte ptr [EBP + -0x4],0x1
009068e0 : MOV ESI,0x8
009068e5 : CMP dword ptr [EAX + 0x18],ESI
009068e8 : JC 0x009068ef
009068ea : MOV EAX,dword ptr [EAX + 0x4]
009068ed : JMP 0x009068f2
009068ef : ADD EAX,0x4
009068f2 : MOV ECX,dword ptr [EBX]
009068f4 : MOV EDX,dword ptr [ECX + 0x4]
009068f7 : PUSH EAX
009068f8 : PUSH 0xc646a4
009068fd : PUSH 0xc646a8
00906902 : PUSH EBX
00906903 : CALL EDX
00906905 : ADD ESP,0x10
00906908 : MOV byte ptr [EBP + -0x4],0x0
0090690c : CMP dword ptr [EBP + -0x34],ESI
0090690f : JC 0x00906919
00906911 : MOV ECX,dword ptr [EBP + -0x48]
00906914 : CALL 0x006f04e0
00906919 : XOR EAX,EAX
0090691b : MOV dword ptr [EBP + -0x34],0x7
00906922 : MOV dword ptr [EBP + -0x38],0x0
00906929 : MOV word ptr [EBP + -0x48],AX
0090692d : JMP 0x00906934
0090692f : MOV ESI,0x8
00906934 : MOV byte ptr [EDI + 0x1c6],0x1
0090693b : MOV dword ptr [EBP + -0x4],0xffffffff
00906942 : CMP dword ptr [EBP + -0x14],ESI
00906945 : JC 0x0090694f
00906947 : MOV ECX,dword ptr [EBP + -0x28]
0090694a : CALL 0x006f04e0
0090694f : XOR ECX,ECX
00906951 : MOV dword ptr [EBP + -0x14],0x7
00906958 : MOV dword ptr [EBP + -0x18],0x0
0090695f : MOV word ptr [EBP + -0x28],CX
00906963 : MOV ECX,dword ptr [EBP + -0xc]
00906966 : MOV dword ptr FS:[0x0],ECX
0090696d : POP ECX
0090696e : POP EDI
0090696f : POP ESI
00906970 : POP EBX
00906971 : MOV ECX,dword ptr [EBP + -0x10]
00906974 : XOR ECX,EBP
00906976 : CALL 0x00633e6b
0090697b : MOV ESP,EBP
0090697d : POP EBP
0090697e : RET 0x4
