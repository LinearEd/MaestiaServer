PROGRAM  : Maestia.exe
FUNCTION : FUN_0040b240
ENTRY    : 0040b240
BODY     : [[0040b240, 0040b4ee]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0040b36f) */
/* WARNING: Removing unreachable block (ram,0x0040b37f) */
/* WARNING: Removing unreachable block (ram,0x0040b388) */
/* WARNING: Removing unreachable block (ram,0x0040b38b) */
/* WARNING: Removing unreachable block (ram,0x0040b37b) */
/* WARNING: Removing unreachable block (ram,0x0040b398) */
/* WARNING: Removing unreachable block (ram,0x0040b3a8) */
/* WARNING: Removing unreachable block (ram,0x0040b3b3) */
/* WARNING: Removing unreachable block (ram,0x0040b3af) */
/* WARNING: Removing unreachable block (ram,0x0040b3a3) */
/* WARNING: Removing unreachable block (ram,0x0040b3b6) */
/* WARNING: Removing unreachable block (ram,0x0040b3c6) */

void FUN_0040b240(undefined4 param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_58 [40];
  undefined1 local_30 [4];
  undefined1 local_2c;
  undefined4 local_1c;
  undefined4 local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7c785;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_2 + 0x2d) != '\0') {
    local_18 = 0xf;
    local_1c = 0;
    local_2c = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_30);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_58,&DAT_00ced890);
  }
  local_14 = param_2;
  FUN_00430160(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_2;
  if (*(char *)((int)piVar7 + 0x2d) == '\0') {
    if (*(char *)(param_2[2] + 0x2d) == '\0') {
      piVar7 = (int *)param_2[2];
    }
  }
  else {
    piVar7 = (int *)param_2[2];
  }
  piVar6 = (int *)param_2[1];
  if (*(char *)((int)piVar7 + 0x2d) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if ((int *)DAT_0172792c[1] == param_2) {
    DAT_0172792c[1] = piVar7;
  }
  else if ((int *)*piVar6 == param_2) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)*DAT_0172792c == param_2) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x2d) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x2d);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x2d);
        piVar5 = piVar3;
      }
    }
    *DAT_0172792c = piVar5;
  }
  if ((int *)DAT_0172792c[2] == param_2) {
    if (*(char *)((int)piVar7 + 0x2d) == '\0') {
      uVar4 = FUN_00439bf0();
      DAT_0172792c[2] = uVar4;
    }
    else {
      DAT_0172792c[2] = piVar6;
    }
  }
  if ((char)local_14[0xb] == '\x01') {
    if (piVar7 != (int *)DAT_0172792c[1]) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0xb] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0xb] == '\0') {
            *(undefined1 *)(piVar6 + 0xb) = 1;
            *(undefined1 *)(piVar5 + 0xb) = 0;
            FUN_0040bb40();
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x2d) == '\0') {
            if ((*(char *)(*piVar6 + 0x2c) != '\x01') || (*(char *)(piVar6[2] + 0x2c) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x2c) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x2c) = 1;
                *(undefined1 *)(piVar6 + 0xb) = 0;
                FUN_0040bb90();
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0xb) = (char)piVar5[0xb];
              *(undefined1 *)(piVar5 + 0xb) = 1;
              *(undefined1 *)(piVar6[2] + 0x2c) = 1;
              FUN_0040bb40();
              break;
            }
LAB_0040b48a:
            *(undefined1 *)(piVar6 + 0xb) = 0;
          }
        }
        else {
          if ((char)piVar6[0xb] == '\0') {
            *(undefined1 *)(piVar6 + 0xb) = 1;
            *(undefined1 *)(piVar5 + 0xb) = 0;
            FUN_0040bb90();
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x2d) == '\0') {
            if ((*(char *)(piVar6[2] + 0x2c) == '\x01') && (*(char *)(*piVar6 + 0x2c) == '\x01'))
            goto LAB_0040b48a;
            if (*(char *)(*piVar6 + 0x2c) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x2c) = 1;
              *(undefined1 *)(piVar6 + 0xb) = 0;
              FUN_0040bb40();
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0xb) = (char)piVar5[0xb];
            *(undefined1 *)(piVar5 + 0xb) = 1;
            *(undefined1 *)(*piVar6 + 0x2c) = 1;
            FUN_0040bb90();
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != (int *)DAT_0172792c[1]);
    }
    *(undefined1 *)(piVar7 + 0xb) = 1;
  }
  local_8 = 0xffffffff;
  FUN_004427d0(local_14 + 3);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0040b240 : PUSH EBP
0040b241 : MOV EBP,ESP
0040b243 : PUSH -0x1
0040b245 : PUSH 0xb7c785
0040b24a : MOV EAX,FS:[0x0]
0040b250 : PUSH EAX
0040b251 : SUB ESP,0x4c
0040b254 : PUSH EBX
0040b255 : PUSH ESI
0040b256 : PUSH EDI
0040b257 : MOV EAX,[0x00d66fa0]
0040b25c : XOR EAX,EBP
0040b25e : PUSH EAX
0040b25f : LEA EAX,[EBP + -0xc]
0040b262 : MOV FS:[0x0],EAX
0040b268 : MOV EAX,dword ptr [EBP + 0xc]
0040b26b : CMP byte ptr [EAX + 0x2d],0x0
0040b26f : JZ 0x0040b2ad
0040b271 : PUSH 0x1b
0040b273 : XOR ESI,ESI
0040b275 : PUSH 0xcca4a8
0040b27a : LEA ECX,[EBP + -0x2c]
0040b27d : MOV dword ptr [EBP + -0x14],0xf
0040b284 : MOV dword ptr [EBP + -0x18],ESI
0040b287 : MOV byte ptr [EBP + -0x28],0x0
0040b28b : CALL 0x00404b50
0040b290 : MOV dword ptr [EBP + -0x4],ESI
0040b293 : LEA EAX,[EBP + -0x2c]
0040b296 : PUSH EAX
0040b297 : LEA ECX,[EBP + -0x54]
0040b29a : CALL 0x00403c10
0040b29f : PUSH 0xced890
0040b2a4 : LEA ECX,[EBP + -0x54]
0040b2a7 : PUSH ECX
0040b2a8 : CALL 0x006409eb
0040b2ad : MOV EBX,EAX
0040b2af : LEA EDX,[EBP + 0xc]
0040b2b2 : MOV dword ptr [EBP + -0x10],EBX
0040b2b5 : CALL 0x00430160
0040b2ba : MOV ECX,dword ptr [EBX]
0040b2bc : CMP byte ptr [ECX + 0x2d],0x0
0040b2c0 : JZ 0x0040b2c7
0040b2c2 : MOV EDI,dword ptr [EBX + 0x8]
0040b2c5 : JMP 0x0040b2e5
0040b2c7 : MOV EDX,dword ptr [EBX + 0x8]
0040b2ca : CMP byte ptr [EDX + 0x2d],0x0
0040b2ce : JZ 0x0040b2d4
0040b2d0 : MOV EDI,ECX
0040b2d2 : JMP 0x0040b2e5
0040b2d4 : MOV EAX,dword ptr [EBP + 0xc]
0040b2d7 : MOV EDI,dword ptr [EAX + 0x8]
0040b2da : LEA EDX,[EAX + 0x8]
0040b2dd : CMP EAX,EBX
0040b2df : JNZ 0x0040b36f
0040b2e5 : CMP byte ptr [EDI + 0x2d],0x0
0040b2e9 : MOV ESI,dword ptr [EBX + 0x4]
0040b2ec : JNZ 0x0040b2f1
0040b2ee : MOV dword ptr [EDI + 0x4],ESI
0040b2f1 : MOV EAX,[0x0172792c]
0040b2f6 : CMP dword ptr [EAX + 0x4],EBX
0040b2f9 : JNZ 0x0040b300
0040b2fb : MOV dword ptr [EAX + 0x4],EDI
0040b2fe : JMP 0x0040b30b
0040b300 : CMP dword ptr [ESI],EBX
0040b302 : JNZ 0x0040b308
0040b304 : MOV dword ptr [ESI],EDI
0040b306 : JMP 0x0040b30b
0040b308 : MOV dword ptr [ESI + 0x8],EDI
0040b30b : MOV EDX,dword ptr [0x0172792c]
0040b311 : CMP dword ptr [EDX],EBX
0040b313 : JNZ 0x0040b33c
0040b315 : CMP byte ptr [EDI + 0x2d],0x0
0040b319 : JZ 0x0040b31f
0040b31b : MOV ECX,ESI
0040b31d : JMP 0x0040b33a
0040b31f : MOV EAX,dword ptr [EDI]
0040b321 : CMP byte ptr [EAX + 0x2d],0x0
0040b325 : MOV ECX,EDI
0040b327 : JNZ 0x0040b33a
0040b329 : LEA ESP,[ESP]
0040b330 : MOV ECX,EAX
0040b332 : MOV EAX,dword ptr [ECX]
0040b334 : CMP byte ptr [EAX + 0x2d],0x0
0040b338 : JZ 0x0040b330
0040b33a : MOV dword ptr [EDX],ECX
0040b33c : MOV EAX,[0x0172792c]
0040b341 : CMP dword ptr [EAX + 0x8],EBX
0040b344 : JNZ 0x0040b3ce
0040b34a : CMP byte ptr [EDI + 0x2d],0x0
0040b34e : JZ 0x0040b35d
0040b350 : MOV ECX,dword ptr [0x0172792c]
0040b356 : MOV EAX,ESI
0040b358 : MOV dword ptr [ECX + 0x8],EAX
0040b35b : JMP 0x0040b3ce
0040b35d : MOV EAX,EDI
0040b35f : CALL 0x00439bf0
0040b364 : MOV ECX,dword ptr [0x0172792c]
0040b36a : MOV dword ptr [ECX + 0x8],EAX
0040b36d : JMP 0x0040b3ce
0040b36f : MOV dword ptr [ECX + 0x4],EAX
0040b372 : MOV ECX,dword ptr [EBX]
0040b374 : MOV dword ptr [EAX],ECX
0040b376 : CMP EAX,dword ptr [EBX + 0x8]
0040b379 : JNZ 0x0040b37f
0040b37b : MOV ESI,EAX
0040b37d : JMP 0x0040b398
0040b37f : CMP byte ptr [EDI + 0x2d],0x0
0040b383 : MOV ESI,dword ptr [EAX + 0x4]
0040b386 : JNZ 0x0040b38b
0040b388 : MOV dword ptr [EDI + 0x4],ESI
0040b38b : MOV dword ptr [ESI],EDI
0040b38d : MOV ECX,dword ptr [EBX + 0x8]
0040b390 : MOV dword ptr [EDX],ECX
0040b392 : MOV EDX,dword ptr [EBX + 0x8]
0040b395 : MOV dword ptr [EDX + 0x4],EAX
0040b398 : MOV ECX,dword ptr [0x0172792c]
0040b39e : CMP dword ptr [ECX + 0x4],EBX
0040b3a1 : JNZ 0x0040b3a8
0040b3a3 : MOV dword ptr [ECX + 0x4],EAX
0040b3a6 : JMP 0x0040b3b6
0040b3a8 : MOV ECX,dword ptr [EBX + 0x4]
0040b3ab : CMP dword ptr [ECX],EBX
0040b3ad : JNZ 0x0040b3b3
0040b3af : MOV dword ptr [ECX],EAX
0040b3b1 : JMP 0x0040b3b6
0040b3b3 : MOV dword ptr [ECX + 0x8],EAX
0040b3b6 : MOV ECX,dword ptr [EBX + 0x4]
0040b3b9 : MOV dword ptr [EAX + 0x4],ECX
0040b3bc : LEA ECX,[EBX + 0x2c]
0040b3bf : ADD EAX,0x2c
0040b3c2 : CMP EAX,ECX
0040b3c4 : JZ 0x0040b3ce
0040b3c6 : MOV BL,byte ptr [ECX]
0040b3c8 : MOV DL,byte ptr [EAX]
0040b3ca : MOV byte ptr [EAX],BL
0040b3cc : MOV byte ptr [ECX],DL
0040b3ce : MOV EDX,dword ptr [EBP + -0x10]
0040b3d1 : MOV EBX,0x1
0040b3d6 : CMP byte ptr [EDX + 0x2c],BL
0040b3d9 : JNZ 0x0040b4d4
0040b3df : MOV EAX,[0x0172792c]
0040b3e4 : CMP EDI,dword ptr [EAX + 0x4]
0040b3e7 : JZ 0x0040b4d1
0040b3ed : LEA ECX,[ECX]
0040b3f0 : CMP byte ptr [EDI + 0x2c],BL
0040b3f3 : JNZ 0x0040b4d1
0040b3f9 : MOV ECX,dword ptr [ESI]
0040b3fb : CMP EDI,ECX
0040b3fd : JNZ 0x0040b45f
0040b3ff : MOV ECX,dword ptr [ESI + 0x8]
0040b402 : CMP byte ptr [ECX + 0x2c],0x0
0040b406 : JNZ 0x0040b419
0040b408 : MOV byte ptr [ECX + 0x2c],BL
0040b40b : MOV ECX,ESI
0040b40d : MOV byte ptr [ESI + 0x2c],0x0
0040b411 : CALL 0x0040bb40
0040b416 : MOV ECX,dword ptr [ESI + 0x8]
0040b419 : CMP byte ptr [ECX + 0x2d],0x0
0040b41d : JNZ 0x0040b48e
0040b41f : MOV EDX,dword ptr [ECX]
0040b421 : CMP byte ptr [EDX + 0x2c],BL
0040b424 : JNZ 0x0040b42e
0040b426 : MOV EAX,dword ptr [ECX + 0x8]
0040b429 : CMP byte ptr [EAX + 0x2c],BL
0040b42c : JZ 0x0040b48a
0040b42e : MOV EDX,dword ptr [ECX + 0x8]
0040b431 : CMP byte ptr [EDX + 0x2c],BL
0040b434 : JNZ 0x0040b447
0040b436 : MOV EAX,dword ptr [ECX]
0040b438 : MOV byte ptr [EAX + 0x2c],BL
0040b43b : MOV byte ptr [ECX + 0x2c],0x0
0040b43f : CALL 0x0040bb90
0040b444 : MOV ECX,dword ptr [ESI + 0x8]
0040b447 : MOV DL,byte ptr [ESI + 0x2c]
0040b44a : MOV byte ptr [ECX + 0x2c],DL
0040b44d : MOV byte ptr [ESI + 0x2c],BL
0040b450 : MOV EAX,dword ptr [ECX + 0x8]
0040b453 : MOV ECX,ESI
0040b455 : MOV byte ptr [EAX + 0x2c],BL
0040b458 : CALL 0x0040bb40
0040b45d : JMP 0x0040b4d1
0040b45f : CMP byte ptr [ECX + 0x2c],0x0
0040b463 : JNZ 0x0040b475
0040b465 : MOV byte ptr [ECX + 0x2c],BL
0040b468 : MOV ECX,ESI
0040b46a : MOV byte ptr [ESI + 0x2c],0x0
0040b46e : CALL 0x0040bb90
0040b473 : MOV ECX,dword ptr [ESI]
0040b475 : CMP byte ptr [ECX + 0x2d],0x0
0040b479 : JNZ 0x0040b48e
0040b47b : MOV EDX,dword ptr [ECX + 0x8]
0040b47e : CMP byte ptr [EDX + 0x2c],BL
0040b481 : JNZ 0x0040b4a4
0040b483 : MOV EAX,dword ptr [ECX]
0040b485 : CMP byte ptr [EAX + 0x2c],BL
0040b488 : JNZ 0x0040b4a4
0040b48a : MOV byte ptr [ECX + 0x2c],0x0
0040b48e : MOV ECX,dword ptr [0x0172792c]
0040b494 : MOV EDI,ESI
0040b496 : MOV ESI,dword ptr [ESI + 0x4]
0040b499 : CMP EDI,dword ptr [ECX + 0x4]
0040b49c : JNZ 0x0040b3f0
0040b4a2 : JMP 0x0040b4d1
0040b4a4 : MOV EDX,dword ptr [ECX]
0040b4a6 : CMP byte ptr [EDX + 0x2c],BL
0040b4a9 : JNZ 0x0040b4bc
0040b4ab : MOV EAX,dword ptr [ECX + 0x8]
0040b4ae : MOV byte ptr [EAX + 0x2c],BL
0040b4b1 : MOV byte ptr [ECX + 0x2c],0x0
0040b4b5 : CALL 0x0040bb40
0040b4ba : MOV ECX,dword ptr [ESI]
0040b4bc : MOV DL,byte ptr [ESI + 0x2c]
0040b4bf : MOV byte ptr [ECX + 0x2c],DL
0040b4c2 : MOV byte ptr [ESI + 0x2c],BL
0040b4c5 : MOV EAX,dword ptr [ECX]
0040b4c7 : MOV ECX,ESI
0040b4c9 : MOV byte ptr [EAX + 0x2c],BL
0040b4cc : CALL 0x0040bb90
0040b4d1 : MOV byte ptr [EDI + 0x2c],BL
0040b4d4 : MOV dword ptr [EBP + -0x4],0xffffffff
0040b4db : MOV ECX,dword ptr [EBP + -0x10]
0040b4de : ADD ECX,0xc
0040b4e1 : PUSH ECX
0040b4e2 : CALL 0x004427d0
0040b4e7 : MOV ECX,dword ptr [EBP + -0x10]
0040b4ea : CALL 0x006f04e0
