PROGRAM  : Maestia.exe
FUNCTION : FUN_00988940
ENTRY    : 00988940
BODY     : [[00988940, 00988a71]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00988940(int *param_1,int param_2)

{
  undefined2 uVar1;
  undefined2 uVar2;
  int iVar3;
  char cVar4;
  int iVar5;
  undefined4 uVar6;
  int *piVar7;
  
  if (((char)param_1[2] != '\0') && (iVar3 = *(int *)(param_1[1] + 0x128), iVar3 != 0)) {
    if (param_2 == -1) {
      param_2 = 0;
      do {
        iVar5 = (**(code **)(*param_1 + 0x74))(param_2,0);
        if (iVar5 == 0) {
          if (param_2 != -1) goto LAB_00988999;
          break;
        }
        param_2 = param_2 + 1;
      } while (param_2 < 8);
      param_2 = 0;
    }
LAB_00988999:
    iVar5 = (**(code **)(*param_1 + 0x74))(param_2,0);
    if ((*(int *)(iVar3 + 0x40) != 0x19) || (cVar4 = FUN_00993510(param_1,0), cVar4 == '\0')) {
      if (*(int *)(iVar3 + 0x40) == -1) {
        if ((iVar5 != 0) && (*(char *)(iVar3 + 0x59) == '\0')) {
          *(undefined2 *)(iVar3 + 0x46) = 0;
          *(undefined4 *)(iVar3 + 0x40) = 0x19;
          *(short *)(iVar3 + 0x44) = (short)param_2;
          *(undefined2 *)(iVar3 + 0x48) = 0xffff;
          FUN_0097fac0();
        }
      }
      else {
        iVar5 = FUN_008eb580();
        if (iVar5 != 0) {
          uVar1 = *(undefined2 *)(iVar3 + 0x44);
          uVar2 = *(undefined2 *)(iVar3 + 0x46);
          if (*(int *)(iVar3 + 0x4c) == 0) {
            uVar6 = 0;
          }
          else {
            uVar6 = *(undefined4 *)(*(int *)(iVar3 + 0x4c) + 0x10);
          }
          piVar7 = (int *)FUN_004049b0(uVar6);
          if (piVar7 != (int *)0x0) {
            iVar5 = (**(code **)(*piVar7 + 0x40))();
            if (iVar5 != 0) {
              FUN_008efa90(*(undefined4 *)(iVar3 + 0x40),uVar1,uVar2,0x19,param_2,0);
              return;
            }
            FUN_0097fa60();
            return;
          }
        }
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00988940 : PUSH EBP
00988941 : MOV EBP,ESP
00988943 : PUSH ECX
00988944 : PUSH EBX
00988945 : MOV EBX,dword ptr [EBP + 0x8]
00988948 : CMP byte ptr [EBX + 0x8],0x0
0098894c : PUSH ESI
0098894d : PUSH EDI
0098894e : JZ 0x00988a69
00988954 : MOV EAX,dword ptr [EBX + 0x4]
00988957 : MOV ESI,dword ptr [EAX + 0x128]
0098895d : TEST ESI,ESI
0098895f : JZ 0x00988a69
00988965 : MOV EDI,dword ptr [EBP + 0xc]
00988968 : CMP EDI,-0x1
0098896b : JNZ 0x00988999
0098896d : XOR EDI,EDI
0098896f : MOV EDX,dword ptr [EBX]
00988971 : MOV EAX,dword ptr [EDX + 0x74]
00988974 : PUSH 0x0
00988976 : PUSH EDI
00988977 : MOV ECX,EBX
00988979 : CALL EAX
0098897b : TEST EAX,EAX
0098897d : JZ 0x00988987
0098897f : INC EDI
00988980 : CMP EDI,0x8
00988983 : JL 0x0098896f
00988985 : JMP 0x0098898f
00988987 : MOV dword ptr [EBP + 0xc],EDI
0098898a : CMP EDI,-0x1
0098898d : JNZ 0x00988996
0098898f : MOV dword ptr [EBP + 0xc],0x0
00988996 : MOV EDI,dword ptr [EBP + 0xc]
00988999 : MOV EDX,dword ptr [EBX]
0098899b : MOV EAX,dword ptr [EDX + 0x74]
0098899e : PUSH 0x0
009889a0 : PUSH EDI
009889a1 : MOV ECX,EBX
009889a3 : CALL EAX
009889a5 : CMP dword ptr [ESI + 0x40],0x19
009889a9 : MOV dword ptr [EBP + -0x4],EAX
009889ac : JNZ 0x009889c5
009889ae : PUSH 0x0
009889b0 : PUSH EBX
009889b1 : MOV EDX,EDI
009889b3 : MOV ECX,ESI
009889b5 : CALL 0x00993510
009889ba : TEST AL,AL
009889bc : JNZ 0x00988a69
009889c2 : MOV EAX,dword ptr [EBP + -0x4]
009889c5 : MOV ECX,dword ptr [ESI + 0x40]
009889c8 : CMP ECX,-0x1
009889cb : JZ 0x00988a3e
009889cd : MOV EAX,dword ptr [EBX + 0x4]
009889d0 : MOV EDI,ECX
009889d2 : CALL 0x008eb580
009889d7 : TEST EAX,EAX
009889d9 : JZ 0x00988a69
009889df : MOV EAX,dword ptr [ESI + 0x4c]
009889e2 : MOVZX EDI,word ptr [ESI + 0x44]
009889e6 : MOVZX EBX,word ptr [ESI + 0x46]
009889ea : TEST EAX,EAX
009889ec : JZ 0x009889f3
009889ee : MOV EAX,dword ptr [EAX + 0x10]
009889f1 : JMP 0x009889f5
009889f3 : XOR EAX,EAX
009889f5 : PUSH EAX
009889f6 : CALL 0x004049b0
009889fb : ADD ESP,0x4
009889fe : TEST EAX,EAX
00988a00 : JZ 0x00988a69
00988a02 : MOV EDX,dword ptr [EAX]
00988a04 : MOV ECX,EAX
00988a06 : MOV EAX,dword ptr [EDX + 0x40]
00988a09 : CALL EAX
00988a0b : TEST EAX,EAX
00988a0d : JNZ 0x00988a1f
00988a0f : MOV ECX,ESI
00988a11 : CALL 0x0097fa60
00988a16 : POP EDI
00988a17 : POP ESI
00988a18 : POP EBX
00988a19 : MOV ESP,EBP
00988a1b : POP EBP
00988a1c : RET 0x8
00988a1f : MOV ECX,dword ptr [EBP + 0xc]
00988a22 : MOV EDX,dword ptr [ESI + 0x40]
00988a25 : PUSH 0x0
00988a27 : PUSH ECX
00988a28 : PUSH 0x19
00988a2a : PUSH EBX
00988a2b : PUSH EDI
00988a2c : PUSH EDX
00988a2d : CALL 0x008efa90
00988a32 : ADD ESP,0x18
00988a35 : POP EDI
00988a36 : POP ESI
00988a37 : POP EBX
00988a38 : MOV ESP,EBP
00988a3a : POP EBP
00988a3b : RET 0x8
00988a3e : TEST EAX,EAX
00988a40 : JZ 0x00988a69
00988a42 : CMP byte ptr [ESI + 0x59],0x0
00988a46 : JNZ 0x00988a69
00988a48 : XOR ECX,ECX
00988a4a : MOV word ptr [ESI + 0x46],CX
00988a4e : MOV EDX,0xffff
00988a53 : MOV ECX,ESI
00988a55 : MOV dword ptr [ESI + 0x40],0x19
00988a5c : MOV word ptr [ESI + 0x44],DI
00988a60 : MOV word ptr [ESI + 0x48],DX
00988a64 : CALL 0x0097fac0
00988a69 : POP EDI
00988a6a : POP ESI
00988a6b : POP EBX
00988a6c : MOV ESP,EBP
00988a6e : POP EBP
00988a6f : RET 0x8
