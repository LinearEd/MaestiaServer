PROGRAM  : Maestia.exe
FUNCTION : FUN_0044b520
ENTRY    : 0044b520
BODY     : [[0044b520, 0044b5ab]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0044b520(void)

{
  int *piVar1;
  uint uVar2;
  int unaff_ESI;
  int iVar3;
  
  iVar3 = *(int *)(unaff_ESI + 0x1c);
  while (iVar3 != 0) {
    if (*(int *)(unaff_ESI + 0x1c) != 0) {
      uVar2 = *(int *)(unaff_ESI + 0x1c) + -1 + *(int *)(unaff_ESI + 0x18);
      if (*(uint *)(unaff_ESI + 0x14) <= uVar2) {
        uVar2 = uVar2 - *(uint *)(unaff_ESI + 0x14);
      }
      iVar3 = *(int *)(*(int *)(unaff_ESI + 0x10) + uVar2 * 4);
      if (7 < *(uint *)(iVar3 + 0x18)) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      *(undefined4 *)(iVar3 + 0x18) = 7;
      *(undefined4 *)(iVar3 + 0x14) = 0;
      *(undefined2 *)(iVar3 + 4) = 0;
      piVar1 = (int *)(unaff_ESI + 0x1c);
      *piVar1 = *piVar1 + -1;
      if (*piVar1 == 0) {
        *(undefined4 *)(unaff_ESI + 0x18) = 0;
      }
    }
    iVar3 = *(int *)(unaff_ESI + 0x1c);
  }
  iVar3 = *(int *)(unaff_ESI + 0x14);
  while (iVar3 != 0) {
    iVar3 = iVar3 + -1;
    if (*(int *)(*(int *)(unaff_ESI + 0x10) + iVar3 * 4) != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  if (*(int *)(unaff_ESI + 0x10) == 0) {
    *(undefined4 *)(unaff_ESI + 0x10) = 0;
    *(undefined4 *)(unaff_ESI + 0x14) = 0;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0044b520 : PUSH EBX
0044b521 : XOR EBX,EBX
0044b523 : PUSH EDI
0044b524 : CMP dword ptr [ESI + 0x1c],EBX
0044b527 : JZ 0x0044b579
0044b529 : LEA ESP,[ESP]
0044b530 : MOV EAX,dword ptr [ESI + 0x1c]
0044b533 : CMP EAX,EBX
0044b535 : JZ 0x0044b574
0044b537 : MOV ECX,dword ptr [ESI + 0x18]
0044b53a : LEA EAX,[EAX + ECX*0x1 + -0x1]
0044b53e : MOV ECX,dword ptr [ESI + 0x14]
0044b541 : CMP ECX,EAX
0044b543 : JA 0x0044b547
0044b545 : SUB EAX,ECX
0044b547 : MOV EDX,dword ptr [ESI + 0x10]
0044b54a : MOV EDI,dword ptr [EDX + EAX*0x4]
0044b54d : CMP dword ptr [EDI + 0x18],0x8
0044b551 : JC 0x0044b55b
0044b553 : MOV ECX,dword ptr [EDI + 0x4]
0044b556 : CALL 0x006f04e0
0044b55b : XOR EAX,EAX
0044b55d : MOV dword ptr [EDI + 0x18],0x7
0044b564 : MOV dword ptr [EDI + 0x14],EBX
0044b567 : MOV word ptr [EDI + 0x4],AX
0044b56b : ADD dword ptr [ESI + 0x1c],-0x1
0044b56f : JNZ 0x0044b574
0044b571 : MOV dword ptr [ESI + 0x18],EBX
0044b574 : CMP dword ptr [ESI + 0x1c],EBX
0044b577 : JNZ 0x0044b530
0044b579 : MOV EDI,dword ptr [ESI + 0x14]
0044b57c : CMP EDI,EBX
0044b57e : JBE 0x0044b597
0044b580 : MOV ECX,dword ptr [ESI + 0x10]
0044b583 : DEC EDI
0044b584 : CMP dword ptr [ECX + EDI*0x4],EBX
0044b587 : LEA EAX,[ECX + EDI*0x4]
0044b58a : JZ 0x0044b593
0044b58c : MOV ECX,dword ptr [EAX]
0044b58e : CALL 0x006f04e0
0044b593 : CMP EDI,EBX
0044b595 : JA 0x0044b580
0044b597 : MOV ECX,dword ptr [ESI + 0x10]
0044b59a : CMP ECX,EBX
0044b59c : JZ 0x0044b5a3
0044b59e : CALL 0x006f04e0
0044b5a3 : POP EDI
0044b5a4 : MOV dword ptr [ESI + 0x10],EBX
0044b5a7 : MOV dword ptr [ESI + 0x14],EBX
0044b5aa : POP EBX
0044b5ab : RET
