PROGRAM  : Maestia.exe
FUNCTION : FUN_0090b930
ENTRY    : 0090b930
BODY     : [[0090b930, 0090ba5d]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0090b930(short param_1)

{
  int iVar1;
  short *psVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int *in_ECX;
  int iVar6;
  int iVar7;
  undefined4 *puVar8;
  undefined1 local_28 [4];
  undefined4 *puStack_24;
  undefined4 *puStack_20;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b2c8b4;
  local_14 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xffffffc0;
  ExceptionList = &local_14;
  iVar5 = *(int *)(in_ECX[0xf] + 8);
  iVar1 = *(int *)(in_ECX[0xf] + 0xc);
  iVar6 = 0;
  if (0 < iVar5) {
    do {
      iVar7 = 0;
      if (0 < iVar1) {
        do {
          iVar4 = (**(code **)(*in_ECX + 0x74))(iVar7,iVar6,uVar3);
          if ((iVar4 != 0) && (*(short *)(iVar4 + 0x10) == param_1)) {
            ExceptionList = local_14;
            return iVar4;
          }
          iVar7 = iVar7 + 1;
        } while (iVar7 < iVar1);
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 < iVar5);
  }
  FUN_0047bc90(local_28,*(int *)(in_ECX[0x17] + 0x38) * 0x10 + 4 + DAT_01724910);
  uStack_c = 0;
  puVar8 = puStack_24;
  if (puStack_24 != puStack_20) {
    do {
      psVar2 = (short *)*puVar8;
      if (((psVar2 != (short *)0x0) && (*psVar2 == param_1)) &&
         (iVar5 = FUN_009f2a00(*(undefined4 *)(psVar2 + 2)), iVar5 != 0)) {
        uStack_c = 0xffffffff;
        if (puStack_24 == (undefined4 *)0x0) {
          ExceptionList = local_14;
          return iVar5;
        }
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      puVar8 = puVar8 + 1;
    } while (puVar8 != puStack_20);
  }
  uStack_c = 0xffffffff;
  if (puStack_24 == (undefined4 *)0x0) {
    ExceptionList = local_14;
    return 0;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0090b930 : PUSH EBP
0090b931 : MOV EBP,ESP
0090b933 : AND ESP,0xfffffff8
0090b936 : PUSH -0x1
0090b938 : PUSH 0xb2c8b4
0090b93d : MOV EAX,FS:[0x0]
0090b943 : PUSH EAX
0090b944 : SUB ESP,0x20
0090b947 : PUSH EBX
0090b948 : PUSH ESI
0090b949 : PUSH EDI
0090b94a : MOV EAX,[0x00d66fa0]
0090b94f : XOR EAX,ESP
0090b951 : PUSH EAX
0090b952 : LEA EAX,[ESP + 0x30]
0090b956 : MOV FS:[0x0],EAX
0090b95c : MOV EDI,ECX
0090b95e : MOV EAX,dword ptr [EDI + 0x3c]
0090b961 : MOV ECX,dword ptr [EAX + 0x8]
0090b964 : MOV EAX,dword ptr [EAX + 0xc]
0090b967 : XOR EBX,EBX
0090b969 : MOV dword ptr [ESP + 0x18],ECX
0090b96d : MOV dword ptr [ESP + 0x14],EAX
0090b971 : TEST ECX,ECX
0090b973 : JLE 0x0090b9ad
0090b975 : XOR ESI,ESI
0090b977 : CMP dword ptr [ESP + 0x14],ESI
0090b97b : JLE 0x0090b9a8
0090b97d : LEA ECX,[ECX]
0090b980 : MOV EDX,dword ptr [EDI]
0090b982 : MOV EAX,dword ptr [EDX + 0x74]
0090b985 : PUSH EBX
0090b986 : PUSH ESI
0090b987 : MOV ECX,EDI
0090b989 : CALL EAX
0090b98b : TEST EAX,EAX
0090b98d : JZ 0x0090b99d
0090b98f : MOV CX,word ptr [EBP + 0x8]
0090b993 : CMP word ptr [EAX + 0x10],CX
0090b997 : JZ 0x0090ba30
0090b99d : INC ESI
0090b99e : CMP ESI,dword ptr [ESP + 0x14]
0090b9a2 : JL 0x0090b980
0090b9a4 : MOV ECX,dword ptr [ESP + 0x18]
0090b9a8 : INC EBX
0090b9a9 : CMP EBX,ECX
0090b9ab : JL 0x0090b975
0090b9ad : MOV EDX,dword ptr [EDI + 0x5c]
0090b9b0 : MOV EAX,dword ptr [EDX + 0x38]
0090b9b3 : MOV ECX,dword ptr [0x01724910]
0090b9b9 : SHL EAX,0x4
0090b9bc : LEA EAX,[EAX + ECX*0x1 + 0x4]
0090b9c0 : PUSH EAX
0090b9c1 : LEA EDX,[ESP + 0x20]
0090b9c5 : PUSH EDX
0090b9c6 : CALL 0x0047bc90
0090b9cb : MOV dword ptr [ESP + 0x38],0x0
0090b9d3 : MOV ESI,dword ptr [ESP + 0x20]
0090b9d7 : MOV EDI,ESI
0090b9d9 : CMP ESI,dword ptr [ESP + 0x24]
0090b9dd : JZ 0x0090ba0d
0090b9df : NOP
0090b9e0 : MOV EAX,dword ptr [EDI]
0090b9e2 : TEST EAX,EAX
0090b9e4 : JZ 0x0090ba04
0090b9e6 : MOV CX,word ptr [EBP + 0x8]
0090b9ea : CMP word ptr [EAX],CX
0090b9ed : JNZ 0x0090ba04
0090b9ef : MOV EAX,dword ptr [EAX + 0x4]
0090b9f2 : MOV ECX,dword ptr [0x017247f0]
0090b9f8 : PUSH EAX
0090b9f9 : CALL 0x009f2a00
0090b9fe : MOV EBX,EAX
0090ba00 : TEST EBX,EBX
0090ba02 : JNZ 0x0090ba45
0090ba04 : ADD EDI,0x4
0090ba07 : CMP EDI,dword ptr [ESP + 0x24]
0090ba0b : JNZ 0x0090b9e0
0090ba0d : MOV dword ptr [ESP + 0x38],0xffffffff
0090ba15 : XOR EDI,EDI
0090ba17 : CMP ESI,EDI
0090ba19 : JZ 0x0090ba22
0090ba1b : MOV ECX,ESI
0090ba1d : CALL 0x006f04e0
0090ba22 : XOR EAX,EAX
0090ba24 : MOV dword ptr [ESP + 0x28],EDI
0090ba28 : MOV dword ptr [ESP + 0x24],EDI
0090ba2c : MOV dword ptr [ESP + 0x20],EDI
0090ba30 : MOV ECX,dword ptr [ESP + 0x30]
0090ba34 : MOV dword ptr FS:[0x0],ECX
0090ba3b : POP ECX
0090ba3c : POP EDI
0090ba3d : POP ESI
0090ba3e : POP EBX
0090ba3f : MOV ESP,EBP
0090ba41 : POP EBP
0090ba42 : RET 0x4
0090ba45 : MOV dword ptr [ESP + 0x38],0xffffffff
0090ba4d : XOR EDI,EDI
0090ba4f : CMP ESI,EDI
0090ba51 : JZ 0x0090ba5a
0090ba53 : MOV ECX,ESI
0090ba55 : CALL 0x006f04e0
0090ba5a : MOV EAX,EBX
0090ba5c : JMP 0x0090ba24
