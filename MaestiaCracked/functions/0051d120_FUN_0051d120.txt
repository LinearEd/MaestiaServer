PROGRAM  : Maestia.exe
FUNCTION : FUN_0051d120
ENTRY    : 0051d120
BODY     : [[0051d120, 0051d158]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0051d120(int param_1)

{
  byte *pbVar1;
  int iVar2;
  
  iVar2 = FUN_0054ecd0();
  if (iVar2 == 0) {
    iVar2 = *(int *)(*(int *)(param_1 + 0x18) + 0x74);
  }
  pbVar1 = *(byte **)(param_1 + 4);
  iVar2 = *(int *)(iVar2 + 0x14);
  if (4 < *pbVar1) {
    FUN_00526400();
  }
  *(int *)(pbVar1 + 4) = iVar2 + -0x4000;
  *pbVar1 = 4;
  return;
}



============================================================
DISASSEMBLY
============================================================
0051d120 : PUSH ESI
0051d121 : MOV ESI,dword ptr [ESP + 0x8]
0051d125 : MOV ECX,dword ptr [ESI + 0x8]
0051d128 : PUSH EDI
0051d129 : CALL 0x0054ecd0
0051d12e : TEST EAX,EAX
0051d130 : JNZ 0x0051d138
0051d132 : MOV EAX,dword ptr [ESI + 0x18]
0051d135 : MOV EAX,dword ptr [EAX + 0x74]
0051d138 : MOV ESI,dword ptr [ESI + 0x4]
0051d13b : CMP byte ptr [ESI],0x5
0051d13e : MOV EDI,dword ptr [EAX + 0x14]
0051d141 : JC 0x0051d14a
0051d143 : MOV ECX,ESI
0051d145 : CALL 0x00526400
0051d14a : ADD EDI,0xffffc000
0051d150 : MOV dword ptr [ESI + 0x4],EDI
0051d153 : POP EDI
0051d154 : MOV byte ptr [ESI],0x4
0051d157 : POP ESI
0051d158 : RET
