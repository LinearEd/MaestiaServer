PROGRAM  : Maestia.exe
FUNCTION : FUN_00526a90
ENTRY    : 00526a90
BODY     : [[00526a90, 00526b60]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00526a90(int param_1)

{
  int iVar1;
  int *piVar2;
  undefined1 *in_ECX;
  int unaff_EBP;
  int iStack_c;
  byte bStack_8;
  
  if (param_1 != 0) {
    iVar1 = (**(code **)(*(int *)(param_1 + 0x10) + 8))();
    if (iVar1 == 0x17) {
      *in_ECX = 8;
      piVar2 = (int *)(**(code **)(*(int *)(param_1 + 0x10) + 0x30))(&iStack_c);
      in_ECX[0xc] = 0;
      iVar1 = *piVar2;
      *(int *)(in_ECX + 4) = iVar1;
      if (iVar1 != 0) {
        *(uint *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1U & 0x8fffffff;
      }
      *(undefined4 *)(in_ECX + 8) = 0;
      if (piVar2[1] != 0) {
        FUN_005686c0(piVar2[1],*(byte *)(piVar2 + 2) & 1);
      }
      if (((bStack_8 & 2) == 0) && (unaff_EBP != 0)) {
        FUN_00503db0();
      }
      if ((bStack_8 & 1) != 0) {
        return;
      }
      if (iStack_c == 0) {
        return;
      }
      FUN_00503db0();
      return;
    }
  }
  *in_ECX = 6;
  *(int *)(in_ECX + 4) = param_1;
  if (param_1 == 0) {
    return;
  }
  *(uint *)(param_1 + 8) = *(int *)(param_1 + 8) + 1U & 0x8fffffff;
  return;
}



============================================================
DISASSEMBLY
============================================================
00526a90 : SUB ESP,0xc
00526a93 : PUSH EBP
00526a94 : MOV EBP,dword ptr [ESP + 0x14]
00526a98 : PUSH ESI
00526a99 : PUSH EDI
00526a9a : MOV EDI,ECX
00526a9c : TEST EBP,EBP
00526a9e : JZ 0x00526b3f
00526aa4 : MOV EAX,dword ptr [EBP + 0x10]
00526aa7 : MOV EDX,dword ptr [EAX + 0x8]
00526aaa : LEA ESI,[EBP + 0x10]
00526aad : MOV ECX,ESI
00526aaf : CALL EDX
00526ab1 : CMP EAX,0x17
00526ab4 : JNZ 0x00526b3f
00526aba : MOV byte ptr [EDI],0x8
00526abd : MOV EAX,dword ptr [ESI]
00526abf : MOV EDX,dword ptr [EAX + 0x30]
00526ac2 : LEA ECX,[ESP + 0xc]
00526ac6 : PUSH ECX
00526ac7 : MOV ECX,ESI
00526ac9 : CALL EDX
00526acb : LEA ECX,[EDI + 0x4]
00526ace : MOV byte ptr [ECX + 0x8],0x0
00526ad2 : MOV EDX,dword ptr [EAX]
00526ad4 : MOV dword ptr [ECX],EDX
00526ad6 : TEST EDX,EDX
00526ad8 : JZ 0x00526ae7
00526ada : MOV ESI,dword ptr [EDX + 0x8]
00526add : INC ESI
00526ade : AND ESI,0x8fffffff
00526ae4 : MOV dword ptr [EDX + 0x8],ESI
00526ae7 : MOV dword ptr [ECX + 0x4],0x0
00526aee : MOV EDX,dword ptr [EAX + 0x4]
00526af1 : TEST EDX,EDX
00526af3 : JZ 0x00526b04
00526af5 : MOV AL,byte ptr [EAX + 0x8]
00526af8 : AND AL,0x1
00526afa : MOVZX EAX,AL
00526afd : PUSH EAX
00526afe : PUSH EDX
00526aff : CALL 0x005686c0
00526b04 : TEST byte ptr [ESP + 0x14],0x2
00526b09 : JNZ 0x00526b18
00526b0b : MOV ECX,dword ptr [ESP + 0xc]
00526b0f : TEST ECX,ECX
00526b11 : JZ 0x00526b18
00526b13 : CALL 0x00503db0
00526b18 : TEST byte ptr [ESP + 0x14],0x1
00526b1d : MOV dword ptr [ESP + 0xc],0x0
00526b25 : JNZ 0x00526b34
00526b27 : MOV ECX,dword ptr [ESP + 0x10]
00526b2b : TEST ECX,ECX
00526b2d : JZ 0x00526b34
00526b2f : CALL 0x00503db0
00526b34 : MOV EAX,EDI
00526b36 : POP EDI
00526b37 : POP ESI
00526b38 : POP EBP
00526b39 : ADD ESP,0xc
00526b3c : RET 0x4
00526b3f : MOV byte ptr [EDI],0x6
00526b42 : MOV dword ptr [EDI + 0x4],EBP
00526b45 : MOV EAX,EDI
00526b47 : TEST EBP,EBP
00526b49 : JZ 0x00526b36
00526b4b : MOV ECX,dword ptr [EBP + 0x8]
00526b4e : INC ECX
00526b4f : POP EDI
00526b50 : AND ECX,0x8fffffff
00526b56 : POP ESI
00526b57 : MOV dword ptr [EBP + 0x8],ECX
00526b5a : POP EBP
00526b5b : ADD ESP,0xc
00526b5e : RET 0x4
