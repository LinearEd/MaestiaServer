PROGRAM  : Maestia.exe
FUNCTION : FUN_0072c990
ENTRY    : 0072c990
BODY     : [[0072c990, 0072cbee]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0072c990(int param_1,int param_2,undefined1 *param_3)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  short *psVar6;
  int iVar7;
  int in_ECX;
  uint local_64;
  uint local_48;
  uint local_2c;
  int local_20;
  int local_1c;
  int local_18;
  undefined1 local_11;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b15ece;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_11 = 0;
  iVar3 = FUN_0072c3d0(in_ECX,&local_18,&local_1c,&DAT_00c02a88);
  uVar4 = FUN_0072c830(iVar3);
  local_8 = 0;
  iVar5 = FUN_0072c790(uVar4);
  local_8 = 0xffffffff;
  if (7 < local_2c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar2);
  }
  local_20 = 0;
  iVar3 = iVar3 + local_1c * 2;
  iVar1 = in_ECX * 2;
  do {
    local_8 = 0xffffffff;
    psVar6 = (short *)FUN_0072c3d0((iVar1 - iVar3) + param_2 >> 1,&local_18,&local_1c,&DAT_00c02a90)
    ;
    if (psVar6 == (short *)0x0) break;
    if ((local_18 == 1) && (*psVar6 == 0x2f)) {
      local_11 = 1;
      break;
    }
    iVar3 = FUN_006f0760(0x3c,"",0,(DAT_01725270 >> 3 & 1) == 0);
    local_8 = 1;
    if (iVar3 == 0) {
      iVar7 = 0;
    }
    else {
      iVar7 = FUN_00439c10(iVar3);
    }
    local_8 = 0xffffffff;
    *(undefined4 *)(iVar7 + 0x38) = 0;
    uVar4 = FUN_0072c830(psVar6);
    local_8 = 2;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8 = 0xffffffff;
    if (7 < local_48) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_48 = 7;
    psVar6 = (short *)FUN_0072c3d0((iVar1 - (int)(psVar6 + local_1c)) + param_2 >> 1,&local_18,
                                   &local_1c,&DAT_00c02a98);
    if (*psVar6 != 0x3d) {
      *(undefined **)(param_1 + 0x48) = &DAT_00c02aa0;
      ExceptionList = local_10;
      return 0;
    }
    iVar3 = FUN_0072c3d0((iVar1 - (int)(psVar6 + local_1c)) + param_2 >> 1,&local_18,&local_1c,
                         &DAT_00c02aec);
    uVar4 = FUN_0072c830(iVar3);
    local_8 = 3;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8 = 0xffffffff;
    if (7 < local_64) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    iVar3 = iVar3 + local_1c * 2;
    local_64 = 7;
    if (local_20 == 0) {
      *(int *)(iVar5 + 0x44) = iVar7;
    }
    else {
      *(int *)(local_20 + 0x38) = iVar7;
    }
    *(undefined4 *)(iVar7 + 0x38) = 0;
    local_20 = iVar7;
  } while (iVar3 != 0);
  *param_3 = local_11;
  ExceptionList = local_10;
  return iVar5;
}



============================================================
DISASSEMBLY
============================================================
0072c990 : PUSH EBP
0072c991 : MOV EBP,ESP
0072c993 : PUSH -0x1
0072c995 : PUSH 0xb15ece
0072c99a : MOV EAX,FS:[0x0]
0072c9a0 : PUSH EAX
0072c9a1 : SUB ESP,0x6c
0072c9a4 : PUSH EBX
0072c9a5 : PUSH ESI
0072c9a6 : PUSH EDI
0072c9a7 : MOV EAX,[0x00d66fa0]
0072c9ac : XOR EAX,EBP
0072c9ae : PUSH EAX
0072c9af : LEA EAX,[EBP + -0xc]
0072c9b2 : MOV FS:[0x0],EAX
0072c9b8 : MOV EDI,ECX
0072c9ba : PUSH 0xc02a88
0072c9bf : LEA EAX,[EBP + -0x18]
0072c9c2 : PUSH EAX
0072c9c3 : MOV EAX,dword ptr [EBP + 0xc]
0072c9c6 : LEA ECX,[EBP + -0x14]
0072c9c9 : PUSH ECX
0072c9ca : PUSH EDI
0072c9cb : MOV byte ptr [EBP + -0xd],0x0
0072c9cf : CALL 0x0072c3d0
0072c9d4 : MOV EDX,dword ptr [EBP + -0x14]
0072c9d7 : MOV ESI,EAX
0072c9d9 : PUSH ESI
0072c9da : LEA ECX,[EBP + -0x40]
0072c9dd : CALL 0x0072c830
0072c9e2 : XOR EBX,EBX
0072c9e4 : MOV dword ptr [EBP + -0x4],EBX
0072c9e7 : PUSH EAX
0072c9e8 : CALL 0x0072c790
0072c9ed : MOV dword ptr [EBP + -0x20],EAX
0072c9f0 : MOV dword ptr [EBP + -0x4],0xffffffff
0072c9f7 : CMP dword ptr [EBP + -0x28],0x8
0072c9fb : JC 0x0072ca05
0072c9fd : MOV ECX,dword ptr [EBP + -0x3c]
0072ca00 : CALL 0x006f04e0
0072ca05 : MOV EAX,dword ptr [EBP + -0x18]
0072ca08 : XOR EDX,EDX
0072ca0a : MOV dword ptr [EBP + -0x2c],EBX
0072ca0d : MOV dword ptr [EBP + -0x1c],EBX
0072ca10 : MOV dword ptr [EBP + -0x28],0x7
0072ca17 : MOV word ptr [EBP + -0x3c],DX
0072ca1b : LEA EAX,[ESI + EAX*0x2]
0072ca1e : LEA EBX,[EDI + EDI*0x1]
0072ca21 : PUSH 0xc02a90
0072ca26 : LEA ECX,[EBP + -0x18]
0072ca29 : PUSH ECX
0072ca2a : MOV ECX,EBX
0072ca2c : SUB ECX,EAX
0072ca2e : ADD ECX,dword ptr [EBP + 0xc]
0072ca31 : LEA EDX,[EBP + -0x14]
0072ca34 : PUSH EDX
0072ca35 : SAR ECX,0x1
0072ca37 : PUSH ECX
0072ca38 : CALL 0x0072c3d0
0072ca3d : MOV EDI,EAX
0072ca3f : TEST EDI,EDI
0072ca41 : JZ 0x0072cbaa
0072ca47 : MOV ESI,0x1
0072ca4c : CMP dword ptr [EBP + -0x14],ESI
0072ca4f : JNZ 0x0072ca5b
0072ca51 : CMP word ptr [EDI],0x2f
0072ca55 : JZ 0x0072cbc9
0072ca5b : MOV EDX,dword ptr [0x01725270]
0072ca61 : SHR EDX,0x3
0072ca64 : MOV EAX,0x0
0072ca69 : AND EDX,ESI
0072ca6b : SETZ AL
0072ca6e : PUSH EAX
0072ca6f : PUSH 0x0
0072ca71 : PUSH 0xbf1a4a
0072ca76 : PUSH 0x3c
0072ca78 : CALL 0x006f0760
0072ca7d : ADD ESP,0x10
0072ca80 : MOV dword ptr [EBP + -0x24],EAX
0072ca83 : MOV dword ptr [EBP + -0x4],ESI
0072ca86 : TEST EAX,EAX
0072ca88 : JZ 0x0072ca94
0072ca8a : PUSH EAX
0072ca8b : CALL 0x00439c10
0072ca90 : MOV ESI,EAX
0072ca92 : JMP 0x0072ca96
0072ca94 : XOR ESI,ESI
0072ca96 : MOV dword ptr [EBP + -0x4],0xffffffff
0072ca9d : MOV EDX,dword ptr [EBP + -0x14]
0072caa0 : PUSH EDI
0072caa1 : LEA ECX,[EBP + -0x5c]
0072caa4 : MOV dword ptr [ESI + 0x38],0x0
0072caab : CALL 0x0072c830
0072cab0 : MOV dword ptr [EBP + -0x4],0x2
0072cab7 : PUSH -0x1
0072cab9 : PUSH 0x0
0072cabb : PUSH EAX
0072cabc : MOV ECX,ESI
0072cabe : CALL 0x00405eb0
0072cac3 : MOV dword ptr [EBP + -0x4],0xffffffff
0072caca : CMP dword ptr [EBP + -0x44],0x8
0072cace : JC 0x0072cad8
0072cad0 : MOV ECX,dword ptr [EBP + -0x58]
0072cad3 : CALL 0x006f04e0
0072cad8 : MOV EDX,dword ptr [EBP + -0x18]
0072cadb : XOR ECX,ECX
0072cadd : MOV word ptr [EBP + -0x58],CX
0072cae1 : PUSH 0xc02a98
0072cae6 : LEA ECX,[EBP + -0x18]
0072cae9 : PUSH ECX
0072caea : LEA EAX,[EDI + EDX*0x2]
0072caed : MOV EDI,dword ptr [EBP + 0xc]
0072caf0 : MOV ECX,EBX
0072caf2 : SUB ECX,EAX
0072caf4 : LEA EDX,[EBP + -0x14]
0072caf7 : ADD ECX,EDI
0072caf9 : PUSH EDX
0072cafa : SAR ECX,0x1
0072cafc : PUSH ECX
0072cafd : MOV dword ptr [EBP + -0x44],0x7
0072cb04 : MOV dword ptr [EBP + -0x48],0x0
0072cb0b : CALL 0x0072c3d0
0072cb10 : CMP word ptr [EAX],0x3d
0072cb14 : JNZ 0x0072cbcf
0072cb1a : MOV EDX,dword ptr [EBP + -0x18]
0072cb1d : PUSH 0xc02aec
0072cb22 : LEA ECX,[EBP + -0x18]
0072cb25 : PUSH ECX
0072cb26 : LEA EAX,[EAX + EDX*0x2]
0072cb29 : MOV ECX,EBX
0072cb2b : SUB ECX,EAX
0072cb2d : LEA EDX,[EBP + -0x14]
0072cb30 : ADD ECX,EDI
0072cb32 : PUSH EDX
0072cb33 : SAR ECX,0x1
0072cb35 : PUSH ECX
0072cb36 : CALL 0x0072c3d0
0072cb3b : MOV EDX,dword ptr [EBP + -0x14]
0072cb3e : MOV EDI,EAX
0072cb40 : PUSH EDI
0072cb41 : LEA ECX,[EBP + -0x78]
0072cb44 : CALL 0x0072c830
0072cb49 : MOV dword ptr [EBP + -0x4],0x3
0072cb50 : PUSH -0x1
0072cb52 : PUSH 0x0
0072cb54 : PUSH EAX
0072cb55 : LEA ECX,[ESI + 0x1c]
0072cb58 : CALL 0x00405eb0
0072cb5d : MOV dword ptr [EBP + -0x4],0xffffffff
0072cb64 : CMP dword ptr [EBP + -0x60],0x8
0072cb68 : JC 0x0072cb72
0072cb6a : MOV ECX,dword ptr [EBP + -0x74]
0072cb6d : CALL 0x006f04e0
0072cb72 : MOV ECX,dword ptr [EBP + -0x18]
0072cb75 : XOR EAX,EAX
0072cb77 : MOV word ptr [EBP + -0x74],AX
0072cb7b : XOR EDX,EDX
0072cb7d : LEA EAX,[EDI + ECX*0x2]
0072cb80 : MOV ECX,dword ptr [EBP + -0x1c]
0072cb83 : MOV dword ptr [EBP + -0x60],0x7
0072cb8a : MOV dword ptr [EBP + -0x64],EDX
0072cb8d : CMP ECX,EDX
0072cb8f : JNZ 0x0072cb99
0072cb91 : MOV ECX,dword ptr [EBP + -0x20]
0072cb94 : MOV dword ptr [ECX + 0x44],ESI
0072cb97 : JMP 0x0072cb9c
0072cb99 : MOV dword ptr [ECX + 0x38],ESI
0072cb9c : MOV dword ptr [ESI + 0x38],EDX
0072cb9f : MOV dword ptr [EBP + -0x1c],ESI
0072cba2 : CMP EAX,EDX
0072cba4 : JNZ 0x0072ca21
0072cbaa : MOV EAX,dword ptr [EBP + 0x10]
0072cbad : MOV CL,byte ptr [EBP + -0xd]
0072cbb0 : MOV byte ptr [EAX],CL
0072cbb2 : MOV EAX,dword ptr [EBP + -0x20]
0072cbb5 : MOV ECX,dword ptr [EBP + -0xc]
0072cbb8 : MOV dword ptr FS:[0x0],ECX
0072cbbf : POP ECX
0072cbc0 : POP EDI
0072cbc1 : POP ESI
0072cbc2 : POP EBX
0072cbc3 : MOV ESP,EBP
0072cbc5 : POP EBP
0072cbc6 : RET 0xc
0072cbc9 : MOV byte ptr [EBP + -0xd],0x1
0072cbcd : JMP 0x0072cbaa
0072cbcf : MOV EDX,dword ptr [EBP + 0x8]
0072cbd2 : MOV dword ptr [EDX + 0x48],0xc02aa0
0072cbd9 : XOR EAX,EAX
0072cbdb : MOV ECX,dword ptr [EBP + -0xc]
0072cbde : MOV dword ptr FS:[0x0],ECX
0072cbe5 : POP ECX
0072cbe6 : POP EDI
0072cbe7 : POP ESI
0072cbe8 : POP EBX
0072cbe9 : MOV ESP,EBP
0072cbeb : POP EBP
0072cbec : RET 0xc
