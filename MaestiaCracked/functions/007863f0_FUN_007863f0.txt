PROGRAM  : Maestia.exe
FUNCTION : FUN_007863f0
ENTRY    : 007863f0
BODY     : [[007863f0, 007865a0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007863f0(undefined4 param_1,undefined4 param_2,int param_3)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  undefined4 uVar4;
  int *in_ECX;
  int *piVar5;
  undefined **local_b8 [33];
  undefined1 local_34 [8];
  LPCRITICAL_SECTION local_2c;
  char *local_28;
  undefined4 local_24;
  int local_20;
  undefined4 local_1c;
  int local_18 [2];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b27cb9;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_2c = (LPCRITICAL_SECTION)(in_ECX + 0x54);
  local_20 = 0;
  local_28 = ".\\Terrain\\AvaQuadNode.cpp";
  local_24 = 0x179;
  local_1c = 1;
  FUN_006ef1a0(&local_2c);
  local_8._0_1_ = 0;
  local_8._1_3_ = 0;
  if ((char)in_ECX[0x52] != '\0') {
    if (in_ECX[0x51] == 0) {
      local_18[0] = FUN_006f0760(0x1d8,"",0,(DAT_01725270 >> 3 & 1) == 0,uVar2);
      local_8._0_1_ = 1;
      if (local_18[0] == 0) {
        iVar3 = 0;
      }
      else {
        iVar3 = FUN_00484270(local_18[0]);
      }
      in_ECX[0x51] = iVar3;
    }
    local_8._0_1_ = 0;
    uVar4 = (**(code **)(*in_ECX + 8))(local_b8);
    local_8._0_1_ = 2;
    (**(code **)(*(int *)in_ECX[0x51] + 0x30))(uVar4);
    local_8._0_1_ = 0;
    *(short *)(in_ECX[0x51] + 0x1d4) = (short)in_ECX[10];
    local_18[0] = in_ECX[0x51];
    local_b8[0] = &PTR_FUN_00cd083c;
    FUN_0045fe50(local_34,local_18);
  }
  iVar3 = param_3;
  if (param_3 == 2) {
    iVar3 = FUN_007f2d40();
  }
  if (iVar3 != 0) {
    piVar1 = (int *)in_ECX[2];
    piVar5 = (int *)*piVar1;
    while (piVar5 != piVar1) {
      (**(code **)(*(int *)piVar5[10] + 0x88))(param_1,param_2,iVar3);
      FUN_00430160();
      piVar1 = (int *)in_ECX[2];
    }
    piVar5 = in_ECX + 6;
    param_3 = 4;
    do {
      if (*piVar5 != 0) {
        FUN_007863f0(param_1,param_2,iVar3);
      }
      piVar5 = piVar5 + 1;
      param_3 = param_3 + -1;
    } while (param_3 != 0);
  }
  local_8 = 0xffffffff;
  if (local_20 != 0) {
    LeaveCriticalSection(local_2c);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007863f0 : PUSH EBP
007863f1 : MOV EBP,ESP
007863f3 : PUSH -0x1
007863f5 : PUSH 0xb27cb9
007863fa : MOV EAX,FS:[0x0]
00786400 : PUSH EAX
00786401 : SUB ESP,0xa8
00786407 : PUSH EBX
00786408 : PUSH ESI
00786409 : PUSH EDI
0078640a : MOV EAX,[0x00d66fa0]
0078640f : XOR EAX,EBP
00786411 : PUSH EAX
00786412 : LEA EAX,[EBP + -0xc]
00786415 : MOV FS:[0x0],EAX
0078641b : MOV ESI,ECX
0078641d : LEA ECX,[EBP + -0x28]
00786420 : LEA EAX,[ESI + 0x150]
00786426 : XOR EDI,EDI
00786428 : PUSH ECX
00786429 : MOV dword ptr [EBP + -0x1c],EDI
0078642c : MOV dword ptr [EBP + -0x28],EAX
0078642f : MOV dword ptr [EBP + -0x24],0xc113b8
00786436 : MOV dword ptr [EBP + -0x20],0x179
0078643d : MOV dword ptr [EBP + -0x18],0x1
00786444 : CALL 0x006ef1a0
00786449 : MOV dword ptr [EBP + -0x4],EDI
0078644c : CMP byte ptr [ESI + 0x148],0x0
00786453 : JZ 0x007864ff
00786459 : CMP dword ptr [ESI + 0x144],EDI
0078645f : JNZ 0x007864a5
00786461 : MOV EDX,dword ptr [0x01725270]
00786467 : SHR EDX,0x3
0078646a : MOV EAX,EDI
0078646c : AND EDX,0x1
0078646f : SETZ AL
00786472 : PUSH EAX
00786473 : PUSH EDI
00786474 : PUSH 0xbf1a4a
00786479 : PUSH 0x1d8
0078647e : CALL 0x006f0760
00786483 : ADD ESP,0x10
00786486 : MOV dword ptr [EBP + -0x14],EAX
00786489 : MOV byte ptr [EBP + -0x4],0x1
0078648d : CMP EAX,EDI
0078648f : JZ 0x00786499
00786491 : PUSH EAX
00786492 : CALL 0x00484270
00786497 : JMP 0x0078649b
00786499 : XOR EAX,EAX
0078649b : MOV byte ptr [EBP + -0x4],0x0
0078649f : MOV dword ptr [ESI + 0x144],EAX
007864a5 : MOV EDX,dword ptr [ESI]
007864a7 : MOV EDX,dword ptr [EDX + 0x8]
007864aa : LEA EAX,[EBP + 0xffffff4c]
007864b0 : PUSH EAX
007864b1 : MOV ECX,ESI
007864b3 : CALL EDX
007864b5 : MOV byte ptr [EBP + -0x4],0x2
007864b9 : MOV ECX,dword ptr [ESI + 0x144]
007864bf : MOV EDX,dword ptr [ECX]
007864c1 : PUSH EAX
007864c2 : MOV EAX,dword ptr [EDX + 0x30]
007864c5 : CALL EAX
007864c7 : MOV byte ptr [EBP + -0x4],0x0
007864cb : MOVZX EAX,word ptr [ESI + 0x28]
007864cf : MOV ECX,dword ptr [ESI + 0x144]
007864d5 : MOV word ptr [ECX + 0x1d4],AX
007864dc : MOV ECX,dword ptr [ESI + 0x144]
007864e2 : LEA EDX,[EBP + -0x14]
007864e5 : PUSH EDX
007864e6 : LEA EAX,[EBP + -0x30]
007864e9 : PUSH EAX
007864ea : MOV EAX,dword ptr [EBP + 0xc]
007864ed : MOV dword ptr [EBP + 0xffffff4c],0xcd083c
007864f7 : MOV dword ptr [EBP + -0x14],ECX
007864fa : CALL 0x0045fe50
007864ff : MOV EDI,dword ptr [EBP + 0x10]
00786502 : MOV EBX,dword ptr [EBP + 0x8]
00786505 : CMP EDI,0x2
00786508 : JNZ 0x00786516
0078650a : LEA EAX,[ESI + 0x3c]
0078650d : MOV EDX,EBX
0078650f : CALL 0x007f2d40
00786514 : MOV EDI,EAX
00786516 : TEST EDI,EDI
00786518 : JZ 0x0078656f
0078651a : MOV ECX,dword ptr [ESI + 0x8]
0078651d : MOV EAX,dword ptr [ECX]
0078651f : MOV dword ptr [EBP + 0x10],EAX
00786522 : CMP EAX,ECX
00786524 : JZ 0x0078654b
00786526 : MOV ECX,dword ptr [EAX + 0x28]
00786529 : MOV EAX,dword ptr [EBP + 0xc]
0078652c : MOV EDX,dword ptr [ECX]
0078652e : MOV EDX,dword ptr [EDX + 0x88]
00786534 : PUSH EDI
00786535 : PUSH EAX
00786536 : PUSH EBX
00786537 : CALL EDX
00786539 : LEA EDX,[EBP + 0x10]
0078653c : CALL 0x00430160
00786541 : MOV ECX,dword ptr [ESI + 0x8]
00786544 : MOV EAX,dword ptr [EBP + 0x10]
00786547 : CMP EAX,ECX
00786549 : JNZ 0x00786526
0078654b : ADD ESI,0x18
0078654e : MOV dword ptr [EBP + 0x10],0x4
00786555 : MOV ECX,dword ptr [ESI]
00786557 : TEST ECX,ECX
00786559 : JZ 0x00786566
0078655b : MOV EAX,dword ptr [EBP + 0xc]
0078655e : PUSH EDI
0078655f : PUSH EAX
00786560 : PUSH EBX
00786561 : CALL 0x007863f0
00786566 : ADD ESI,0x4
00786569 : SUB dword ptr [EBP + 0x10],0x1
0078656d : JNZ 0x00786555
0078656f : MOV dword ptr [EBP + -0x4],0xffffffff
00786576 : CMP dword ptr [EBP + -0x1c],0x0
0078657a : JZ 0x0078658d
0078657c : MOV ECX,dword ptr [EBP + -0x28]
0078657f : PUSH ECX
00786580 : CALL dword ptr [0x00b8511c]
00786586 : MOV dword ptr [EBP + -0x1c],0x0
0078658d : MOV ECX,dword ptr [EBP + -0xc]
00786590 : MOV dword ptr FS:[0x0],ECX
00786597 : POP ECX
00786598 : POP EDI
00786599 : POP ESI
0078659a : POP EBX
0078659b : MOV ESP,EBP
0078659d : POP EBP
0078659e : RET 0xc
