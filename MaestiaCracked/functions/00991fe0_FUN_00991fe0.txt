PROGRAM  : Maestia.exe
FUNCTION : FUN_00991fe0
ENTRY    : 00991fe0
BODY     : [[00991fe0, 00992389]]

============================================================
DECOMPILED C CODE
============================================================

byte * FUN_00991fe0(char *param_1,int param_2,int param_3)

{
  byte bVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  char cVar5;
  int iVar6;
  byte *pbVar7;
  char *pcVar8;
  byte *pbVar9;
  bool bVar10;
  
  iVar4 = (int)param_1;
  iVar6 = *(int *)((int)param_1 + 0x3c);
  param_2 = *(int *)(iVar6 + 0xc) * param_3 + param_2;
  param_1 = (char *)((int)L".\\Source\\Texture.cpp" + 0x2b);
  if (((param_2 < *(int *)(iVar6 + 8) * *(int *)(iVar6 + 0xc)) && (-1 < param_2)) &&
     (iVar6 = *(int *)(*(int *)(iVar6 + 0x10) + param_2 * 4), iVar6 != 0)) {
    piVar2 = *(int **)(iVar6 + 8);
    if (piVar2 == (int *)0x0) {
      return (byte *)((int)L".\\Source\\Texture.cpp" + 0x2b);
    }
    iVar6 = piVar2[4];
    piVar3 = *(int **)(*DAT_00da9894 + 0x114);
    if (*(uint *)(iVar4 + 0x58) < 8) {
      param_1 = (char *)(iVar4 + 0x44);
    }
    else {
      param_1 = *(char **)(iVar4 + 0x44);
    }
    iVar4 = *piVar3;
    cVar5 = (**(code **)(*piVar2 + 0x30))();
    param_1 = (char *)(**(code **)(iVar4 + 4))
                                (piVar3,"CheckAutoUseItem","%ls,%d,%d",param_1,iVar6,cVar5 != '\0');
    if ((byte *)param_1 == (byte *)0x0) {
      return (byte *)"$rclick_use";
    }
    iVar6 = FUN_00405bb0(L"Pocket");
    if (iVar6 == 0) {
      pcVar8 = "$rclick_use";
      pbVar7 = (byte *)param_1;
      do {
        bVar1 = *pbVar7;
        bVar10 = bVar1 < (byte)*pcVar8;
        if (bVar1 != *pcVar8) {
LAB_009920f0:
          iVar6 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
          goto LAB_009920f5;
        }
        if (bVar1 == 0) break;
        bVar1 = pbVar7[1];
        bVar10 = bVar1 < ((byte *)pcVar8)[1];
        if (bVar1 != ((byte *)pcVar8)[1]) goto LAB_009920f0;
        pbVar7 = pbVar7 + 2;
        pcVar8 = (char *)((byte *)pcVar8 + 2);
      } while (bVar1 != 0);
      iVar6 = 0;
LAB_009920f5:
      if (iVar6 != 0) {
        pbVar9 = &DAT_00c85ba0;
        pbVar7 = (byte *)param_1;
        do {
          bVar1 = *pbVar7;
          bVar10 = bVar1 < *pbVar9;
          if (bVar1 != *pbVar9) {
LAB_00992124:
            iVar6 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
            goto LAB_00992129;
          }
          if (bVar1 == 0) break;
          bVar1 = pbVar7[1];
          bVar10 = bVar1 < pbVar9[1];
          if (bVar1 != pbVar9[1]) goto LAB_00992124;
          pbVar7 = pbVar7 + 2;
          pbVar9 = pbVar9 + 2;
        } while (bVar1 != 0);
        iVar6 = 0;
LAB_00992129:
        if (iVar6 != 0) {
          pcVar8 = "$rclick_sell";
          pbVar7 = (byte *)param_1;
          do {
            bVar1 = *pbVar7;
            bVar10 = bVar1 < (byte)*pcVar8;
            if (bVar1 != *pcVar8) {
LAB_00992154:
              iVar6 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
              goto LAB_00992159;
            }
            if (bVar1 == 0) break;
            bVar1 = pbVar7[1];
            bVar10 = bVar1 < ((byte *)pcVar8)[1];
            if (bVar1 != ((byte *)pcVar8)[1]) goto LAB_00992154;
            pbVar7 = pbVar7 + 2;
            pcVar8 = (char *)((byte *)pcVar8 + 2);
          } while (bVar1 != 0);
          iVar6 = 0;
LAB_00992159:
          if (iVar6 != 0) {
            return (byte *)param_1;
          }
          iVar6 = FUN_004049b0(piVar2[4]);
          if (iVar6 == 0) {
            return (byte *)param_1;
          }
          if ((*(uint *)(iVar6 + 0x48) & 8) == 0) {
            return (byte *)param_1;
          }
          return (byte *)"$rclick_nonsell";
        }
      }
      bVar1 = *(byte *)((int)piVar2 + 0x12);
      iVar6 = (**(code **)(*piVar2 + 0x20))();
      if ((iVar6 == 0) || (iVar6 = (**(code **)(*piVar2 + 0x20))(), iVar6 == 4)) {
        return (byte *)"$rclick_equip";
      }
      if (bVar1 == 0x56) {
        return (byte *)"$rclick_opengamblebox";
      }
      if (bVar1 == 0x70) {
        return (byte *)"$rclick_openenchant";
      }
      if ((((0x45 < bVar1) && (bVar1 < 0x50)) || ((0x3b < bVar1 && (bVar1 < 0x46)))) ||
         (bVar1 == 0x74)) {
        return (byte *)"$rclick_use";
      }
      if (bVar1 == 0x71) {
        return (byte *)"$rclick_learnskill";
      }
      if (bVar1 != 0x57) {
        if (bVar1 == 0x6f) {
          return (byte *)"$rclick_recipe";
        }
        if (bVar1 != 0x8e) {
          return (byte *)param_1;
        }
        return (byte *)"$rclick_randombox";
      }
      return (byte *)"$rclick_vecicle";
    }
    cVar5 = FUN_00403810();
    if (cVar5 == '\0') {
      cVar5 = FUN_00403810();
      if (cVar5 == '\0') {
        cVar5 = FUN_00403810();
        if (cVar5 != '\0') {
          pbVar9 = &DAT_00c85cbc;
          pbVar7 = (byte *)param_1;
          do {
            bVar1 = *pbVar7;
            bVar10 = bVar1 < *pbVar9;
            if (bVar1 != *pbVar9) {
LAB_00992370:
              iVar6 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
              goto LAB_00992375;
            }
            if (bVar1 == 0) break;
            bVar1 = pbVar7[1];
            bVar10 = bVar1 < pbVar9[1];
            if (bVar1 != pbVar9[1]) goto LAB_00992370;
            pbVar7 = pbVar7 + 2;
            pbVar9 = pbVar9 + 2;
          } while (bVar1 != 0);
          iVar6 = 0;
LAB_00992375:
          if (iVar6 == 0) {
            param_1 = "$rclick_pocketopen";
          }
        }
      }
      else {
        pbVar9 = &DAT_00c85c90;
        pbVar7 = (byte *)param_1;
        do {
          bVar1 = *pbVar7;
          bVar10 = bVar1 < *pbVar9;
          if (bVar1 != *pbVar9) {
LAB_00992317:
            iVar6 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
            goto LAB_0099231c;
          }
          if (bVar1 == 0) break;
          bVar1 = pbVar7[1];
          bVar10 = bVar1 < pbVar9[1];
          if (bVar1 != pbVar9[1]) goto LAB_00992317;
          pbVar7 = pbVar7 + 2;
          pbVar9 = pbVar9 + 2;
        } while (bVar1 != 0);
        iVar6 = 0;
LAB_0099231c:
        if (iVar6 == 0) {
          return (byte *)"$rclick_use";
        }
      }
    }
    else {
      pbVar9 = &DAT_00c85c64;
      pbVar7 = (byte *)param_1;
      do {
        bVar1 = *pbVar7;
        bVar10 = bVar1 < *pbVar9;
        if (bVar1 != *pbVar9) {
LAB_009922c1:
          iVar6 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
          goto LAB_009922c6;
        }
        if (bVar1 == 0) break;
        bVar1 = pbVar7[1];
        bVar10 = bVar1 < pbVar9[1];
        if (bVar1 != pbVar9[1]) goto LAB_009922c1;
        pbVar7 = pbVar7 + 2;
        pbVar9 = pbVar9 + 2;
      } while (bVar1 != 0);
      iVar6 = 0;
LAB_009922c6:
      if (iVar6 == 0) {
        return (byte *)"$rclick_quickslot";
      }
    }
  }
  return (byte *)param_1;
}



============================================================
DISASSEMBLY
============================================================
00991fe0 : PUSH EBP
00991fe1 : MOV EBP,ESP
00991fe3 : PUSH EBX
00991fe4 : MOV EBX,dword ptr [EBP + 0x8]
00991fe7 : MOV ECX,dword ptr [EBX + 0x3c]
00991fea : MOV EDX,dword ptr [ECX + 0xc]
00991fed : PUSH ESI
00991fee : MOV ESI,dword ptr [ECX + 0x8]
00991ff1 : MOV EAX,EDX
00991ff3 : IMUL ESI,EDX
00991ff6 : IMUL EAX,dword ptr [EBP + 0x10]
00991ffa : ADD EAX,dword ptr [EBP + 0xc]
00991ffd : PUSH EDI
00991ffe : CMP EAX,ESI
00992000 : MOV dword ptr [EBP + 0x8],0xbf25f3
00992007 : JGE 0x00992380
0099200d : TEST EAX,EAX
0099200f : JL 0x00992380
00992015 : MOV ECX,dword ptr [ECX + 0x10]
00992018 : MOV EAX,dword ptr [ECX + EAX*0x4]
0099201b : TEST EAX,EAX
0099201d : JZ 0x00992380
00992023 : MOV ECX,dword ptr [EAX + 0x8]
00992026 : MOV dword ptr [EBP + 0x10],ECX
00992029 : TEST ECX,ECX
0099202b : JNZ 0x00992039
0099202d : POP EDI
0099202e : POP ESI
0099202f : MOV EAX,0xbf25f3
00992034 : POP EBX
00992035 : POP EBP
00992036 : RET 0xc
00992039 : MOV EDX,dword ptr [0x00da9894]
0099203f : MOV EAX,dword ptr [EDX]
00992041 : MOV EDX,dword ptr [ECX + 0x10]
00992044 : MOV ESI,dword ptr [EAX + 0x114]
0099204a : ADD EBX,0x40
0099204d : CMP dword ptr [EBX + 0x18],0x8
00992051 : MOV dword ptr [EBP + 0xc],EDX
00992054 : JC 0x0099205e
00992056 : MOV EAX,dword ptr [EBX + 0x4]
00992059 : MOV dword ptr [EBP + 0x8],EAX
0099205c : JMP 0x00992064
0099205e : LEA EDX,[EBX + 0x4]
00992061 : MOV dword ptr [EBP + 0x8],EDX
00992064 : MOV EAX,dword ptr [ECX]
00992066 : MOV EDX,dword ptr [EAX + 0x30]
00992069 : MOV EDI,dword ptr [ESI]
0099206b : CALL EDX
0099206d : MOV EDX,dword ptr [EBP + 0xc]
00992070 : XOR ECX,ECX
00992072 : TEST AL,AL
00992074 : MOV EAX,dword ptr [EBP + 0x8]
00992077 : SETNZ CL
0099207a : PUSH ECX
0099207b : MOV ECX,dword ptr [EDI + 0x4]
0099207e : PUSH EDX
0099207f : PUSH EAX
00992080 : PUSH 0xc85b58
00992085 : PUSH 0xc85b64
0099208a : PUSH ESI
0099208b : CALL ECX
0099208d : ADD ESP,0x18
00992090 : MOV dword ptr [EBP + 0x8],EAX
00992093 : TEST EAX,EAX
00992095 : JNZ 0x009920a3
00992097 : POP EDI
00992098 : POP ESI
00992099 : MOV EAX,0xc85b78
0099209e : POP EBX
0099209f : POP EBP
009920a0 : RET 0xc
009920a3 : MOV EAX,dword ptr [EBX + 0x14]
009920a6 : PUSH 0xc85b84
009920ab : MOV EDI,0x6
009920b0 : MOV ECX,EBX
009920b2 : CALL 0x00405bb0
009920b7 : TEST EAX,EAX
009920b9 : JNZ 0x00992289
009920bf : MOV ESI,dword ptr [EBP + 0x8]
009920c2 : MOV ECX,0xc85b94
009920c7 : MOV EAX,ESI
009920c9 : LEA ESP,[ESP]
009920d0 : MOV DL,byte ptr [EAX]
009920d2 : CMP DL,byte ptr [ECX]
009920d4 : JNZ 0x009920f0
009920d6 : TEST DL,DL
009920d8 : JZ 0x009920ec
009920da : MOV DL,byte ptr [EAX + 0x1]
009920dd : CMP DL,byte ptr [ECX + 0x1]
009920e0 : JNZ 0x009920f0
009920e2 : ADD EAX,0x2
009920e5 : ADD ECX,0x2
009920e8 : TEST DL,DL
009920ea : JNZ 0x009920d0
009920ec : XOR EAX,EAX
009920ee : JMP 0x009920f5
009920f0 : SBB EAX,EAX
009920f2 : SBB EAX,-0x1
009920f5 : TEST EAX,EAX
009920f7 : JZ 0x00992199
009920fd : MOV ECX,0xc85ba0
00992102 : MOV EAX,ESI
00992104 : MOV DL,byte ptr [EAX]
00992106 : CMP DL,byte ptr [ECX]
00992108 : JNZ 0x00992124
0099210a : TEST DL,DL
0099210c : JZ 0x00992120
0099210e : MOV DL,byte ptr [EAX + 0x1]
00992111 : CMP DL,byte ptr [ECX + 0x1]
00992114 : JNZ 0x00992124
00992116 : ADD EAX,0x2
00992119 : ADD ECX,0x2
0099211c : TEST DL,DL
0099211e : JNZ 0x00992104
00992120 : XOR EAX,EAX
00992122 : JMP 0x00992129
00992124 : SBB EAX,EAX
00992126 : SBB EAX,-0x1
00992129 : TEST EAX,EAX
0099212b : JZ 0x00992199
0099212d : MOV ECX,0xc85c38
00992132 : MOV EAX,ESI
00992134 : MOV DL,byte ptr [EAX]
00992136 : CMP DL,byte ptr [ECX]
00992138 : JNZ 0x00992154
0099213a : TEST DL,DL
0099213c : JZ 0x00992150
0099213e : MOV DL,byte ptr [EAX + 0x1]
00992141 : CMP DL,byte ptr [ECX + 0x1]
00992144 : JNZ 0x00992154
00992146 : ADD EAX,0x2
00992149 : ADD ECX,0x2
0099214c : TEST DL,DL
0099214e : JNZ 0x00992134
00992150 : XOR EAX,EAX
00992152 : JMP 0x00992159
00992154 : SBB EAX,EAX
00992156 : SBB EAX,-0x1
00992159 : TEST EAX,EAX
0099215b : JNZ 0x00992380
00992161 : MOV EDX,dword ptr [EBP + 0x10]
00992164 : MOV EAX,dword ptr [EDX + 0x10]
00992167 : PUSH EAX
00992168 : CALL 0x004049b0
0099216d : ADD ESP,0x4
00992170 : TEST EAX,EAX
00992172 : JZ 0x00992380
00992178 : MOV EAX,dword ptr [EAX + 0x48]
0099217b : AND EAX,0x8
0099217e : XOR ECX,ECX
00992180 : OR EAX,ECX
00992182 : JZ 0x00992380
00992188 : POP EDI
00992189 : MOV dword ptr [EBP + 0x8],0xc85c48
00992190 : MOV EAX,dword ptr [EBP + 0x8]
00992193 : POP ESI
00992194 : POP EBX
00992195 : POP EBP
00992196 : RET 0xc
00992199 : MOV EDI,dword ptr [EBP + 0x10]
0099219c : MOV EDX,dword ptr [EDI]
0099219e : MOV EAX,dword ptr [EDX + 0x20]
009921a1 : MOVZX ESI,byte ptr [EDI + 0x12]
009921a5 : MOV ECX,EDI
009921a7 : CALL EAX
009921a9 : TEST EAX,EAX
009921ab : JZ 0x00992278
009921b1 : MOV EDX,dword ptr [EDI]
009921b3 : MOV EAX,dword ptr [EDX + 0x20]
009921b6 : MOV ECX,EDI
009921b8 : CALL EAX
009921ba : CMP EAX,0x4
009921bd : JZ 0x00992278
009921c3 : CMP ESI,0x56
009921c6 : JNZ 0x009921d9
009921c8 : POP EDI
009921c9 : MOV dword ptr [EBP + 0x8],0xc85bb8
009921d0 : MOV EAX,dword ptr [EBP + 0x8]
009921d3 : POP ESI
009921d4 : POP EBX
009921d5 : POP EBP
009921d6 : RET 0xc
009921d9 : CMP ESI,0x70
009921dc : JNZ 0x009921ef
009921de : POP EDI
009921df : MOV dword ptr [EBP + 0x8],0xc85bd0
009921e6 : MOV EAX,dword ptr [EBP + 0x8]
009921e9 : POP ESI
009921ea : POP EBX
009921eb : POP EBP
009921ec : RET 0xc
009921ef : CMP ESI,0x46
009921f2 : JL 0x009921f9
009921f4 : CMP ESI,0x50
009921f7 : JL 0x00992208
009921f9 : CMP ESI,0x3c
009921fc : JL 0x00992203
009921fe : CMP ESI,0x46
00992201 : JL 0x00992208
00992203 : CMP ESI,0x74
00992206 : JNZ 0x00992219
00992208 : POP EDI
00992209 : MOV dword ptr [EBP + 0x8],0xc85be4
00992210 : MOV EAX,dword ptr [EBP + 0x8]
00992213 : POP ESI
00992214 : POP EBX
00992215 : POP EBP
00992216 : RET 0xc
00992219 : CMP ESI,0x71
0099221c : JNZ 0x0099222f
0099221e : POP EDI
0099221f : MOV dword ptr [EBP + 0x8],0xc85bf0
00992226 : MOV EAX,dword ptr [EBP + 0x8]
00992229 : POP ESI
0099222a : POP EBX
0099222b : POP EBP
0099222c : RET 0xc
0099222f : CMP ESI,0x57
00992232 : JNZ 0x00992245
00992234 : POP EDI
00992235 : MOV dword ptr [EBP + 0x8],0xc85c04
0099223c : MOV EAX,dword ptr [EBP + 0x8]
0099223f : POP ESI
00992240 : POP EBX
00992241 : POP EBP
00992242 : RET 0xc
00992245 : CMP ESI,0x6f
00992248 : JNZ 0x0099225b
0099224a : POP EDI
0099224b : MOV dword ptr [EBP + 0x8],0xc85c14
00992252 : MOV EAX,dword ptr [EBP + 0x8]
00992255 : POP ESI
00992256 : POP EBX
00992257 : POP EBP
00992258 : RET 0xc
0099225b : CMP ESI,0x8e
00992261 : JNZ 0x00992380
00992267 : POP EDI
00992268 : MOV dword ptr [EBP + 0x8],0xc85c24
0099226f : MOV EAX,dword ptr [EBP + 0x8]
00992272 : POP ESI
00992273 : POP EBX
00992274 : POP EBP
00992275 : RET 0xc
00992278 : POP EDI
00992279 : MOV dword ptr [EBP + 0x8],0xc85ba8
00992280 : MOV EAX,dword ptr [EBP + 0x8]
00992283 : POP ESI
00992284 : POP EBX
00992285 : POP EBP
00992286 : RET 0xc
00992289 : MOV ESI,0xc85c58
0099228e : MOV ECX,EBX
00992290 : CALL 0x00403810
00992295 : TEST AL,AL
00992297 : JZ 0x009922df
00992299 : MOV EAX,dword ptr [EBP + 0x8]
0099229c : MOV ECX,0xc85c64
009922a1 : MOV DL,byte ptr [EAX]
009922a3 : CMP DL,byte ptr [ECX]
009922a5 : JNZ 0x009922c1
009922a7 : TEST DL,DL
009922a9 : JZ 0x009922bd
009922ab : MOV DL,byte ptr [EAX + 0x1]
009922ae : CMP DL,byte ptr [ECX + 0x1]
009922b1 : JNZ 0x009922c1
009922b3 : ADD EAX,0x2
009922b6 : ADD ECX,0x2
009922b9 : TEST DL,DL
009922bb : JNZ 0x009922a1
009922bd : XOR EAX,EAX
009922bf : JMP 0x009922c6
009922c1 : SBB EAX,EAX
009922c3 : SBB EAX,-0x1
009922c6 : TEST EAX,EAX
009922c8 : JNZ 0x00992380
009922ce : POP EDI
009922cf : MOV dword ptr [EBP + 0x8],0xc85c6c
009922d6 : MOV EAX,dword ptr [EBP + 0x8]
009922d9 : POP ESI
009922da : POP EBX
009922db : POP EBP
009922dc : RET 0xc
009922df : MOV ESI,0xc85c80
009922e4 : MOV ECX,EBX
009922e6 : CALL 0x00403810
009922eb : TEST AL,AL
009922ed : JZ 0x00992331
009922ef : MOV EAX,dword ptr [EBP + 0x8]
009922f2 : MOV ECX,0xc85c90
009922f7 : MOV DL,byte ptr [EAX]
009922f9 : CMP DL,byte ptr [ECX]
009922fb : JNZ 0x00992317
009922fd : TEST DL,DL
009922ff : JZ 0x00992313
00992301 : MOV DL,byte ptr [EAX + 0x1]
00992304 : CMP DL,byte ptr [ECX + 0x1]
00992307 : JNZ 0x00992317
00992309 : ADD EAX,0x2
0099230c : ADD ECX,0x2
0099230f : TEST DL,DL
00992311 : JNZ 0x009922f7
00992313 : XOR EAX,EAX
00992315 : JMP 0x0099231c
00992317 : SBB EAX,EAX
00992319 : SBB EAX,-0x1
0099231c : TEST EAX,EAX
0099231e : JNZ 0x00992380
00992320 : POP EDI
00992321 : MOV dword ptr [EBP + 0x8],0xc85c98
00992328 : MOV EAX,dword ptr [EBP + 0x8]
0099232b : POP ESI
0099232c : POP EBX
0099232d : POP EBP
0099232e : RET 0xc
00992331 : MOV ESI,0xc85ca4
00992336 : MOV ECX,EBX
00992338 : CALL 0x00403810
0099233d : TEST AL,AL
0099233f : JZ 0x00992380
00992341 : MOV EAX,dword ptr [EBP + 0x8]
00992344 : MOV ECX,0xc85cbc
00992349 : LEA ESP,[ESP]
00992350 : MOV DL,byte ptr [EAX]
00992352 : CMP DL,byte ptr [ECX]
00992354 : JNZ 0x00992370
00992356 : TEST DL,DL
00992358 : JZ 0x0099236c
0099235a : MOV DL,byte ptr [EAX + 0x1]
0099235d : CMP DL,byte ptr [ECX + 0x1]
00992360 : JNZ 0x00992370
00992362 : ADD EAX,0x2
00992365 : ADD ECX,0x2
00992368 : TEST DL,DL
0099236a : JNZ 0x00992350
0099236c : XOR EAX,EAX
0099236e : JMP 0x00992375
00992370 : SBB EAX,EAX
00992372 : SBB EAX,-0x1
00992375 : TEST EAX,EAX
00992377 : JNZ 0x00992380
00992379 : MOV dword ptr [EBP + 0x8],0xc85cc4
00992380 : MOV EAX,dword ptr [EBP + 0x8]
00992383 : POP EDI
00992384 : POP ESI
00992385 : POP EBX
00992386 : POP EBP
00992387 : RET 0xc
