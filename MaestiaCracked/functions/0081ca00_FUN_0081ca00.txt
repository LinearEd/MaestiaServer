PROGRAM  : Maestia.exe
FUNCTION : FUN_0081ca00
ENTRY    : 0081ca00
BODY     : [[0081ca00, 0081cada]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0081ca40) */

void FUN_0081ca00(ushort *param_1)

{
  int in_EAX;
  int iVar1;
  int iVar2;
  ushort *puVar3;
  uint uVar4;
  undefined2 local_18;
  undefined2 local_16;
  undefined1 local_14;
  int local_10;
  uint local_c;
  uint local_8;
  
  iVar1 = *(int *)(in_EAX + 0x3b8) - *(int *)(in_EAX + 0x3b4);
  local_10 = in_EAX + 0x3b0;
  iVar2 = iVar1 >> 0x1f;
  if ((iVar1 / 6 + iVar2 != iVar2) && (*(int *)(in_EAX + 0x3b4) != *(int *)(in_EAX + 0x3b8))) {
    *(int *)(in_EAX + 0x3b8) = *(int *)(in_EAX + 0x3b4);
  }
  iVar2 = 0;
  uVar4 = (*param_1 & 0x1fff) - 6;
  local_8 = 0;
  puVar3 = param_1 + 3;
  if (param_1[2] != 0) {
    do {
      if ((puVar3 == (ushort *)0x0) || (uVar4 < 2)) {
LAB_0081caa2:
        uVar4 = 0;
        puVar3 = (ushort *)0x0;
      }
      else {
        local_c = (uint)*puVar3;
        if ((puVar3 + 1 == (ushort *)0x0) || (uVar4 - 2 < 2)) goto LAB_0081caa2;
        local_8 = (uint)puVar3[1];
        uVar4 = uVar4 - 4;
        puVar3 = puVar3 + 2;
      }
      local_18 = (undefined2)local_c;
      local_16 = (undefined2)local_8;
      local_14 = 0;
      FUN_0044ffe0(&local_18);
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)(uint)param_1[2]);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0081ca00 : PUSH EBP
0081ca01 : MOV EBP,ESP
0081ca03 : SUB ESP,0x18
0081ca06 : PUSH EBX
0081ca07 : PUSH ESI
0081ca08 : MOV ESI,EAX
0081ca0a : MOV ECX,dword ptr [ESI + 0x3b8]
0081ca10 : SUB ECX,dword ptr [ESI + 0x3b4]
0081ca16 : ADD ESI,0x3b0
0081ca1c : MOV EAX,0x2aaaaaab
0081ca21 : IMUL ECX
0081ca23 : MOV EAX,EDX
0081ca25 : SHR EAX,0x1f
0081ca28 : ADD EAX,EDX
0081ca2a : PUSH EDI
0081ca2b : MOV dword ptr [EBP + -0xc],ESI
0081ca2e : JZ 0x0081ca59
0081ca30 : MOV ECX,dword ptr [ESI + 0x4]
0081ca33 : MOV EDX,dword ptr [ESI + 0x8]
0081ca36 : CMP ECX,EDX
0081ca38 : JZ 0x0081ca59
0081ca3a : MOV EAX,EDX
0081ca3c : CMP EDX,EDX
0081ca3e : JZ 0x0081ca56
0081ca40 : MOV EDI,dword ptr [EAX]
0081ca42 : MOV dword ptr [ECX],EDI
0081ca44 : MOV DI,word ptr [EAX + 0x4]
0081ca48 : MOV word ptr [ECX + 0x4],DI
0081ca4c : ADD EAX,0x6
0081ca4f : ADD ECX,0x6
0081ca52 : CMP EAX,EDX
0081ca54 : JNZ 0x0081ca40
0081ca56 : MOV dword ptr [ESI + 0x8],ECX
0081ca59 : MOV EAX,dword ptr [EBP + 0x8]
0081ca5c : MOVZX EDI,word ptr [EAX]
0081ca5f : AND EDI,0x1fff
0081ca65 : XOR EBX,EBX
0081ca67 : XOR ECX,ECX
0081ca69 : SUB EDI,0x6
0081ca6c : MOV dword ptr [EBP + -0x4],EBX
0081ca6f : LEA ESI,[EAX + 0x6]
0081ca72 : CMP CX,word ptr [EAX + 0x4]
0081ca76 : JNC 0x0081cad2
0081ca78 : TEST ESI,ESI
0081ca7a : JZ 0x0081caa2
0081ca7c : CMP EDI,0x2
0081ca7f : JC 0x0081caa2
0081ca81 : MOVZX EDX,word ptr [ESI]
0081ca84 : SUB EDI,0x2
0081ca87 : ADD ESI,0x2
0081ca8a : MOV dword ptr [EBP + -0x8],EDX
0081ca8d : JZ 0x0081caa2
0081ca8f : CMP EDI,0x2
0081ca92 : JC 0x0081caa2
0081ca94 : MOVZX EAX,word ptr [ESI]
0081ca97 : SUB EDI,0x2
0081ca9a : MOV dword ptr [EBP + -0x4],EAX
0081ca9d : ADD ESI,0x2
0081caa0 : JMP 0x0081caa6
0081caa2 : XOR EDI,EDI
0081caa4 : XOR ESI,ESI
0081caa6 : MOV CX,word ptr [EBP + -0x8]
0081caaa : MOV DX,word ptr [EBP + -0x4]
0081caae : LEA EAX,[EBP + -0x14]
0081cab1 : PUSH EAX
0081cab2 : MOV EAX,dword ptr [EBP + -0xc]
0081cab5 : MOV word ptr [EBP + -0x14],CX
0081cab9 : MOV word ptr [EBP + -0x12],DX
0081cabd : MOV byte ptr [EBP + -0x10],0x0
0081cac1 : CALL 0x0044ffe0
0081cac6 : MOV ECX,dword ptr [EBP + 0x8]
0081cac9 : MOVZX EDX,word ptr [ECX + 0x4]
0081cacd : INC EBX
0081cace : CMP EBX,EDX
0081cad0 : JL 0x0081ca78
0081cad2 : POP EDI
0081cad3 : POP ESI
0081cad4 : POP EBX
0081cad5 : MOV ESP,EBP
0081cad7 : POP EBP
0081cad8 : RET 0x4
