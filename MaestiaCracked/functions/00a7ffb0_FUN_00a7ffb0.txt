PROGRAM  : Maestia.exe
FUNCTION : FUN_00a7ffb0
ENTRY    : 00a7ffb0
BODY     : [[00a7ffb0, 00a80081]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00a7ffb0(void)

{
  int iVar1;
  char cVar2;
  int iVar3;
  int *piVar4;
  int unaff_EDI;
  
  iVar1 = *(int *)(*(int *)(unaff_EDI + 0x6c) + 0x1bc);
  iVar3 = 0;
  if (iVar1 == 0) {
    piVar4 = *(int **)(unaff_EDI + 0x3c);
    if (piVar4 != *(int **)(unaff_EDI + 0x40)) {
      do {
        if (((*(char *)(*piVar4 + 0xf0) != '\0') && (*piVar4 != 0)) &&
           (cVar2 = FUN_008da580(1), cVar2 != '\0')) {
          iVar3 = iVar3 + (uint)*(ushort *)(*piVar4 + 0xd2);
        }
        piVar4 = piVar4 + 1;
      } while (piVar4 != *(int **)(unaff_EDI + 0x40));
      return iVar3;
    }
  }
  else if (iVar1 == 1) {
    piVar4 = *(int **)(unaff_EDI + 0x4c);
    if (piVar4 != *(int **)(unaff_EDI + 0x50)) {
      do {
        if (((*(char *)(*piVar4 + 0xf0) != '\0') && (*piVar4 != 0)) &&
           (cVar2 = FUN_008da580(1), cVar2 != '\0')) {
          iVar3 = iVar3 + (uint)*(ushort *)(*piVar4 + 0xd2);
        }
        piVar4 = piVar4 + 1;
      } while (piVar4 != *(int **)(unaff_EDI + 0x50));
      return iVar3;
    }
  }
  else if ((iVar1 == 2) &&
          (piVar4 = *(int **)(unaff_EDI + 0x5c), piVar4 != *(int **)(unaff_EDI + 0x60))) {
    do {
      if ((*(char *)(*piVar4 + 0xf0) != '\0') &&
         ((*piVar4 != 0 && (cVar2 = FUN_008da580(1), cVar2 != '\0')))) {
        iVar3 = iVar3 + (uint)*(ushort *)(*piVar4 + 0xd2);
      }
      piVar4 = piVar4 + 1;
    } while (piVar4 != *(int **)(unaff_EDI + 0x60));
  }
  return iVar3;
}



============================================================
DISASSEMBLY
============================================================
00a7ffb0 : MOV EAX,dword ptr [EDI + 0x6c]
00a7ffb3 : MOV EAX,dword ptr [EAX + 0x1bc]
00a7ffb9 : PUSH EBX
00a7ffba : XOR EBX,EBX
00a7ffbc : PUSH ESI
00a7ffbd : TEST EAX,EAX
00a7ffbf : JNZ 0x00a80002
00a7ffc1 : MOV ESI,dword ptr [EDI + 0x3c]
00a7ffc4 : CMP ESI,dword ptr [EDI + 0x40]
00a7ffc7 : JZ 0x00a8007d
00a7ffcd : LEA ECX,[ECX]
00a7ffd0 : MOV EDX,dword ptr [ESI]
00a7ffd2 : CMP byte ptr [EDX + 0xf0],0x0
00a7ffd9 : JZ 0x00a7fff5
00a7ffdb : TEST EDX,EDX
00a7ffdd : JZ 0x00a7fff5
00a7ffdf : PUSH 0x1
00a7ffe1 : CALL 0x008da580
00a7ffe6 : TEST AL,AL
00a7ffe8 : JZ 0x00a7fff5
00a7ffea : MOV ECX,dword ptr [ESI]
00a7ffec : MOVZX EDX,word ptr [ECX + 0xd2]
00a7fff3 : ADD EBX,EDX
00a7fff5 : ADD ESI,0x4
00a7fff8 : CMP ESI,dword ptr [EDI + 0x40]
00a7fffb : JNZ 0x00a7ffd0
00a7fffd : POP ESI
00a7fffe : MOV EAX,EBX
00a80000 : POP EBX
00a80001 : RET
00a80002 : CMP EAX,0x1
00a80005 : JNZ 0x00a80042
00a80007 : MOV ESI,dword ptr [EDI + 0x4c]
00a8000a : CMP ESI,dword ptr [EDI + 0x50]
00a8000d : JZ 0x00a8007d
00a8000f : NOP
00a80010 : MOV EDX,dword ptr [ESI]
00a80012 : CMP byte ptr [EDX + 0xf0],0x0
00a80019 : JZ 0x00a80035
00a8001b : TEST EDX,EDX
00a8001d : JZ 0x00a80035
00a8001f : PUSH 0x1
00a80021 : CALL 0x008da580
00a80026 : TEST AL,AL
00a80028 : JZ 0x00a80035
00a8002a : MOV EAX,dword ptr [ESI]
00a8002c : MOVZX ECX,word ptr [EAX + 0xd2]
00a80033 : ADD EBX,ECX
00a80035 : ADD ESI,0x4
00a80038 : CMP ESI,dword ptr [EDI + 0x50]
00a8003b : JNZ 0x00a80010
00a8003d : POP ESI
00a8003e : MOV EAX,EBX
00a80040 : POP EBX
00a80041 : RET
00a80042 : CMP EAX,0x2
00a80045 : JNZ 0x00a8007d
00a80047 : MOV ESI,dword ptr [EDI + 0x5c]
00a8004a : CMP ESI,dword ptr [EDI + 0x60]
00a8004d : JZ 0x00a8007d
00a8004f : NOP
00a80050 : MOV EDX,dword ptr [ESI]
00a80052 : CMP byte ptr [EDX + 0xf0],0x0
00a80059 : JZ 0x00a80075
00a8005b : TEST EDX,EDX
00a8005d : JZ 0x00a80075
00a8005f : PUSH 0x1
00a80061 : CALL 0x008da580
00a80066 : TEST AL,AL
00a80068 : JZ 0x00a80075
00a8006a : MOV EDX,dword ptr [ESI]
00a8006c : MOVZX EAX,word ptr [EDX + 0xd2]
00a80073 : ADD EBX,EAX
00a80075 : ADD ESI,0x4
00a80078 : CMP ESI,dword ptr [EDI + 0x60]
00a8007b : JNZ 0x00a80050
00a8007d : POP ESI
00a8007e : MOV EAX,EBX
00a80080 : POP EBX
00a80081 : RET
