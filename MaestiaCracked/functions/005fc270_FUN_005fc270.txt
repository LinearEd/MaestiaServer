PROGRAM  : Maestia.exe
FUNCTION : FUN_005fc270
ENTRY    : 005fc270
BODY     : [[005fc270, 005fc8b1]]

============================================================
DECOMPILED C CODE
============================================================

byte FUN_005fc270(float param_1,float param_2,int param_3,int param_4)

{
  float *pfVar1;
  void *_Src;
  undefined4 *puVar2;
  float fVar3;
  int *piVar4;
  uint *puVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  undefined4 uVar9;
  int in_ECX;
  int iVar10;
  uint uVar11;
  byte bVar12;
  uint local_1c;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  float local_4;
  
  bVar12 = param_4 != 0;
  *(undefined4 *)(in_ECX + 0xd8) = 0x3fffffff;
  *(undefined4 *)(in_ECX + 0xdc) = 0;
  *(undefined4 *)(in_ECX + 0xa8) = 0;
  local_1c = 0;
  if (*(int *)(in_ECX + 0x90) != 0) {
    do {
      piVar4 = *(int **)(*(int *)(in_ECX + 0x8c) + local_1c * 4);
      piVar4[0xb] = piVar4[0xb] & 0xfffffff7;
      iVar10 = *piVar4;
      if (param_1 ==
          *(float *)(*(int *)(*(int *)(in_ECX + 0x3c) + (*(uint *)(iVar10 + 4) >> 10) * 4) + 4 +
                    (*(uint *)(iVar10 + 4) & 0x3ff) * 8)) {
        puVar5 = *(uint **)(iVar10 + 0xc);
        if (puVar5 == (uint *)0x0) {
          bVar12 = bVar12 | 2;
          piVar4[2] = piVar4[3];
          piVar4[0xb] = piVar4[0xb] | 2;
          piVar4[0xb] = piVar4[0xb] | 8;
        }
        else {
          *piVar4 = (int)puVar5;
          pfVar1 = (float *)(*(int *)(*(int *)(in_ECX + 0x3c) + (puVar5[1] >> 10) * 4) +
                            (puVar5[1] & 0x3ff) * 8);
          piVar4[2] = *(int *)(*(int *)(*(int *)(in_ECX + 0x3c) + (*puVar5 >> 10) * 4) +
                              (*puVar5 & 0x3ff) * 8);
          if (param_2 == pfVar1[1]) {
            fVar3 = *pfVar1;
          }
          else {
            uVar11 = *(uint *)*piVar4;
            iVar10 = *(int *)(*(int *)(in_ECX + 0x3c) + (uVar11 >> 10) * 4);
            uVar11 = uVar11 & 0x3ff;
            fVar3 = (param_2 - *(float *)(iVar10 + 4 + uVar11 * 8)) * (float)((uint *)*piVar4)[2] +
                    *(float *)(iVar10 + uVar11 * 8);
          }
          uVar11 = piVar4[5];
          uVar6 = piVar4[6];
          piVar4[3] = (int)fVar3;
          if (uVar11 != 0) {
            if (uVar11 < *(uint *)(in_ECX + 0xd8)) {
              *(uint *)(in_ECX + 0xd8) = uVar11;
            }
            if (*(uint *)(in_ECX + 0xdc) < uVar11) {
              *(uint *)(in_ECX + 0xdc) = uVar11;
            }
          }
          if (uVar6 != 0) {
            if (uVar6 < *(uint *)(in_ECX + 0xd8)) {
              *(uint *)(in_ECX + 0xd8) = uVar6;
            }
            if (*(uint *)(in_ECX + 0xdc) < uVar6) {
              *(uint *)(in_ECX + 0xdc) = uVar6;
            }
          }
          iVar10 = *(int *)(in_ECX + 0xa8);
          *(int *)(in_ECX + 0xa8) = iVar10 + 1;
          *(uint *)(*(int *)(in_ECX + 0xa4) + iVar10 * 4) = local_1c;
          piVar4[0xb] = piVar4[0xb] | 8;
        }
      }
      else {
        uVar11 = *(uint *)(iVar10 + 4);
        iVar10 = *(int *)(*(int *)(in_ECX + 0x3c) + (uVar11 >> 10) * 4);
        piVar4[2] = piVar4[3];
        uVar11 = uVar11 & 0x3ff;
        if (param_2 == *(float *)(iVar10 + 4 + uVar11 * 8)) {
          fVar3 = *(float *)(iVar10 + uVar11 * 8);
        }
        else {
          uVar11 = *(uint *)*piVar4;
          iVar10 = *(int *)(*(int *)(in_ECX + 0x3c) + (uVar11 >> 10) * 4);
          uVar11 = uVar11 & 0x3ff;
          fVar3 = (param_2 - *(float *)(iVar10 + 4 + uVar11 * 8)) * (float)((uint *)*piVar4)[2] +
                  *(float *)(iVar10 + uVar11 * 8);
        }
        uVar11 = piVar4[5];
        piVar4[3] = (int)fVar3;
        uVar6 = piVar4[6];
        if (uVar11 != 0) {
          if (uVar11 < *(uint *)(in_ECX + 0xd8)) {
            *(uint *)(in_ECX + 0xd8) = uVar11;
          }
          if (*(uint *)(in_ECX + 0xdc) < uVar11) {
            *(uint *)(in_ECX + 0xdc) = uVar11;
          }
        }
        if (uVar6 != 0) {
          if (uVar6 < *(uint *)(in_ECX + 0xd8)) {
            *(uint *)(in_ECX + 0xd8) = uVar6;
          }
          if (*(uint *)(in_ECX + 0xdc) < uVar6) {
            *(uint *)(in_ECX + 0xdc) = uVar6;
          }
        }
        iVar10 = *(int *)(in_ECX + 0xa8);
        *(int *)(in_ECX + 0xa8) = iVar10 + 1;
        *(uint *)(*(int *)(in_ECX + 0xa4) + iVar10 * 4) = local_1c;
      }
      local_1c = local_1c + 1;
    } while (local_1c < *(uint *)(in_ECX + 0x90));
  }
  if (param_4 != 0) {
    param_3 = param_3 * 4;
    do {
      piVar4 = *(int **)(param_3 + *(int *)(in_ECX + 0x70));
      puVar5 = (uint *)*piVar4;
      param_3 = param_3 + 4;
      pfVar1 = (float *)(*(int *)(*(int *)(in_ECX + 0x3c) + (puVar5[1] >> 10) * 4) +
                        (puVar5[1] & 0x3ff) * 8);
      iVar10 = *(int *)(*(int *)(*(int *)(in_ECX + 0x3c) + (*puVar5 >> 10) * 4) +
                       (*puVar5 & 0x3ff) * 8);
      piVar4[0xb] = 8;
      piVar4[2] = iVar10;
      if (param_2 == pfVar1[1]) {
        fVar3 = *pfVar1;
      }
      else {
        iVar10 = *(int *)(*(int *)(in_ECX + 0x3c) + (*puVar5 >> 10) * 4);
        uVar11 = *puVar5 & 0x3ff;
        fVar3 = (param_2 - *(float *)(iVar10 + 4 + uVar11 * 8)) * (float)puVar5[2] +
                *(float *)(iVar10 + uVar11 * 8);
      }
      uVar11 = 0;
      piVar4[3] = (int)fVar3;
      iVar10 = *(int *)(in_ECX + 0x90);
joined_r0x005fc564:
      while (iVar8 = iVar10, 0 < iVar8) {
        iVar10 = iVar8 >> 1;
        iVar7 = *(int *)(*(int *)(in_ECX + 0x8c) + (iVar10 + uVar11) * 4);
        if (*(float *)(iVar7 + 8) == (float)piVar4[2]) goto LAB_005fc5ca;
        if (*(float *)(iVar7 + 8) <= (float)piVar4[2]) goto LAB_005fc59c;
      }
      uVar6 = *(uint *)(in_ECX + 0x90);
      if (uVar11 < uVar6) {
        _Src = (void *)(*(int *)(in_ECX + 0x8c) + uVar11 * 4);
        _memmove((void *)((int)_Src + 4),_Src,(uVar6 - uVar11) * 4);
        *(int **)(*(int *)(in_ECX + 0x8c) + uVar11 * 4) = piVar4;
        *(int *)(in_ECX + 0x90) = *(int *)(in_ECX + 0x90) + 1;
      }
      else {
        *(uint *)(in_ECX + 0x90) = uVar6 + 1;
        *(int **)(*(int *)(in_ECX + 0x8c) + uVar6 * 4) = piVar4;
      }
      uVar11 = piVar4[5];
      uVar6 = piVar4[6];
      if (uVar11 != 0) {
        if (uVar11 < *(uint *)(in_ECX + 0xd8)) {
          *(uint *)(in_ECX + 0xd8) = uVar11;
        }
        if (*(uint *)(in_ECX + 0xdc) < uVar11) {
          *(uint *)(in_ECX + 0xdc) = uVar11;
        }
      }
      if (uVar6 != 0) {
        if (uVar6 < *(uint *)(in_ECX + 0xd8)) {
          *(uint *)(in_ECX + 0xd8) = uVar6;
        }
        if (*(uint *)(in_ECX + 0xdc) < uVar6) {
          *(uint *)(in_ECX + 0xdc) = uVar6;
        }
      }
      param_4 = param_4 + -1;
    } while (param_4 != 0);
  }
  uVar11 = 0;
  puVar5 = (uint *)(in_ECX + 0xbc);
  *puVar5 = 0;
  if (((bVar12 & 1) != 0) && (*(undefined4 *)(in_ECX + 0xa8) = 0, *(int *)(in_ECX + 0x90) != 0)) {
    do {
      if ((*(byte *)(*(int *)(*(int *)(in_ECX + 0x8c) + uVar11 * 4) + 0x2c) & 2) == 0) {
        iVar10 = *(int *)(in_ECX + 0xa8);
        *(int *)(in_ECX + 0xa8) = iVar10 + 1;
        *(uint *)(*(int *)(in_ECX + 0xa4) + iVar10 * 4) = uVar11;
      }
      uVar11 = uVar11 + 1;
    } while (uVar11 < *(uint *)(in_ECX + 0x90));
  }
  if (1 < *(uint *)(in_ECX + 0xa8)) {
    param_3 = 0;
    iVar10 = param_3;
joined_r0x005fc6db:
    do {
      if (-1 < iVar10) {
        iVar8 = *(int *)(*(int *)(in_ECX + 0x8c) +
                        *(int *)(*(int *)(in_ECX + 0xa4) + iVar10 * 4) * 4);
        iVar7 = *(int *)(*(int *)(in_ECX + 0x8c) +
                        *(int *)(*(int *)(in_ECX + 0xa4) + iVar10 * 4 + 4) * 4);
        if (*(float *)(iVar7 + 0xc) < *(float *)(iVar8 + 0xc)) {
          if (*puVar5 == 0) {
            FUN_005fb980();
          }
          local_c = *(undefined4 *)(iVar8 + 0x30);
          local_8 = *(undefined4 *)(iVar7 + 0x30);
          fVar3 = ((*(float *)(iVar7 + 0xc) - *(float *)(iVar7 + 8)) - *(float *)(iVar8 + 0xc)) +
                  *(float *)(iVar8 + 8);
          local_4 = param_1;
          if (fVar3 != 0.0) {
            local_4 = ((*(float *)(iVar8 + 8) - *(float *)(iVar7 + 8)) * (param_2 - param_1)) /
                      fVar3 + param_1;
          }
          if (local_4 < param_1) {
            local_4 = param_1;
          }
          if (param_2 < local_4) {
            local_4 = param_2;
          }
          uVar11 = *puVar5 >> 6;
          if (*(uint *)(in_ECX + 0xc0) <= uVar11) {
            if (*(uint *)(in_ECX + 0xc4) <= uVar11) {
              if (*(int *)(in_ECX + 200) == 0) {
                local_14 = 0x85;
                uVar9 = FUN_00515d60(puVar5,0x100,&local_14);
              }
              else {
                uVar9 = FUN_00515c80(*(int *)(in_ECX + 200),*(uint *)(in_ECX + 0xc4) * 4 + 0x100);
              }
              *(int *)(in_ECX + 0xc4) = *(int *)(in_ECX + 0xc4) + 0x40;
              *(undefined4 *)(in_ECX + 200) = uVar9;
            }
            local_10 = 0x85;
            uVar9 = FUN_00515d60(puVar5,0x300,&local_10);
            *(undefined4 *)(*(int *)(in_ECX + 200) + uVar11 * 4) = uVar9;
            *(int *)(in_ECX + 0xc0) = *(int *)(in_ECX + 0xc0) + 1;
          }
          uVar6 = *puVar5;
          iVar8 = *(int *)(*(int *)(in_ECX + 200) + uVar11 * 4);
          *(undefined4 *)(iVar8 + (uVar6 & 0x3f) * 0xc) = local_c;
          iVar8 = iVar8 + (uVar6 & 0x3f) * 0xc;
          *(undefined4 *)(iVar8 + 4) = local_8;
          *(float *)(iVar8 + 8) = local_4;
          *puVar5 = *puVar5 + 1;
          iVar8 = *(int *)(in_ECX + 0x8c);
          piVar4 = (int *)(*(int *)(in_ECX + 0xa4) + iVar10 * 4);
          iVar7 = piVar4[1];
          puVar2 = (undefined4 *)(iVar8 + *piVar4 * 4);
          uVar9 = *puVar2;
          *puVar2 = *(undefined4 *)(iVar8 + iVar7 * 4);
          *(undefined4 *)(iVar8 + iVar7 * 4) = uVar9;
          iVar10 = iVar10 + -1;
          goto joined_r0x005fc6db;
        }
      }
      iVar10 = param_3 + 1;
      uVar11 = param_3 + 2;
      param_3 = iVar10;
    } while (uVar11 < *(uint *)(in_ECX + 0xa8));
  }
  if (1 < *puVar5) {
    FUN_005fa5f0(puVar5,0,*puVar5,&LAB_005f91e0);
  }
  return bVar12;
LAB_005fc5ca:
  if (*(float *)(iVar7 + 0xc) <= fVar3) {
LAB_005fc59c:
    uVar11 = iVar10 + uVar11 + 1;
    iVar10 = iVar8 + (-1 - iVar10);
  }
  goto joined_r0x005fc564;
}



============================================================
DISASSEMBLY
============================================================
005fc270 : SUB ESP,0x20
005fc273 : PUSH EBX
005fc274 : PUSH EBP
005fc275 : XOR EAX,EAX
005fc277 : PUSH ESI
005fc278 : PUSH EDI
005fc279 : MOV ESI,ECX
005fc27b : MOV dword ptr [ESP + 0x10],EAX
005fc27f : CMP dword ptr [ESP + 0x40],EAX
005fc283 : JZ 0x005fc28d
005fc285 : MOV dword ptr [ESP + 0x10],0x1
005fc28d : FLD float ptr [ESP + 0x38]
005fc291 : MOV dword ptr [ESI + 0xd8],0x3fffffff
005fc29b : FLD float ptr [ESP + 0x34]
005fc29f : MOV dword ptr [ESI + 0xdc],EAX
005fc2a5 : MOV dword ptr [ESI + 0xa8],EAX
005fc2ab : MOV dword ptr [ESP + 0x14],EAX
005fc2af : CMP dword ptr [ESI + 0x90],EAX
005fc2b5 : JBE 0x005fc4c2
005fc2bb : MOV ECX,dword ptr [ESI + 0x8c]
005fc2c1 : MOV ECX,dword ptr [ECX + EAX*0x4]
005fc2c4 : AND dword ptr [ECX + 0x2c],0xfffffff7
005fc2c8 : MOV EDX,dword ptr [ECX]
005fc2ca : MOV EAX,dword ptr [EDX + 0x4]
005fc2cd : MOV EDI,dword ptr [ESI + 0x3c]
005fc2d0 : MOV EBP,dword ptr [ECX + 0x2c]
005fc2d3 : MOV EBX,EAX
005fc2d5 : SHR EBX,0xa
005fc2d8 : MOV EBX,dword ptr [EDI + EBX*0x4]
005fc2db : AND EAX,0x3ff
005fc2e0 : FLD float ptr [EBX + EAX*0x8 + 0x4]
005fc2e4 : FLD ST1
005fc2e6 : FUCOMPP
005fc2e8 : FNSTSW AX
005fc2ea : TEST AH,0x44
005fc2ed : JP 0x005fc3f4
005fc2f3 : MOV EDX,dword ptr [EDX + 0xc]
005fc2f6 : TEST EDX,EDX
005fc2f8 : JZ 0x005fc3d6
005fc2fe : MOV dword ptr [ECX],EDX
005fc300 : MOV EAX,dword ptr [EDX]
005fc302 : MOV EDX,dword ptr [EDX + 0x4]
005fc305 : MOV EDI,dword ptr [ESI + 0x3c]
005fc308 : MOV EBX,EDX
005fc30a : SHR EBX,0xa
005fc30d : MOV EBX,dword ptr [EDI + EBX*0x4]
005fc310 : AND EDX,0x3ff
005fc316 : LEA EDX,[EBX + EDX*0x8]
005fc319 : MOV EBX,EAX
005fc31b : SHR EBX,0xa
005fc31e : MOV EDI,dword ptr [EDI + EBX*0x4]
005fc321 : AND EAX,0x3ff
005fc326 : FLD float ptr [EDI + EAX*0x8]
005fc329 : FSTP float ptr [ECX + 0x8]
005fc32c : FLD float ptr [EDX + 0x4]
005fc32f : FLD ST2
005fc331 : FUCOMPP
005fc333 : FNSTSW AX
005fc335 : TEST AH,0x44
005fc338 : JP 0x005fc33e
005fc33a : FLD float ptr [EDX]
005fc33c : JMP 0x005fc360
005fc33e : MOV EDX,dword ptr [ECX]
005fc340 : FLD ST1
005fc342 : MOV EAX,dword ptr [EDX]
005fc344 : MOV EBX,dword ptr [ESI + 0x3c]
005fc347 : MOV EDI,EAX
005fc349 : SHR EDI,0xa
005fc34c : MOV EDI,dword ptr [EBX + EDI*0x4]
005fc34f : AND EAX,0x3ff
005fc354 : FSUB float ptr [EDI + EAX*0x8 + 0x4]
005fc358 : LEA EAX,[EDI + EAX*0x8]
005fc35b : FMUL float ptr [EDX + 0x8]
005fc35e : FADD float ptr [EAX]
005fc360 : MOV EAX,dword ptr [ECX + 0x14]
005fc363 : FSTP float ptr [ESP + 0x18]
005fc367 : FLD float ptr [ESP + 0x18]
005fc36b : MOV EDX,dword ptr [ECX + 0x18]
005fc36e : FSTP float ptr [ECX + 0xc]
005fc371 : TEST EAX,EAX
005fc373 : JZ 0x005fc391
005fc375 : CMP EAX,dword ptr [ESI + 0xd8]
005fc37b : JNC 0x005fc383
005fc37d : MOV dword ptr [ESI + 0xd8],EAX
005fc383 : CMP EAX,dword ptr [ESI + 0xdc]
005fc389 : JBE 0x005fc391
005fc38b : MOV dword ptr [ESI + 0xdc],EAX
005fc391 : TEST EDX,EDX
005fc393 : JZ 0x005fc3b1
005fc395 : CMP EDX,dword ptr [ESI + 0xd8]
005fc39b : JNC 0x005fc3a3
005fc39d : MOV dword ptr [ESI + 0xd8],EDX
005fc3a3 : CMP EDX,dword ptr [ESI + 0xdc]
005fc3a9 : JBE 0x005fc3b1
005fc3ab : MOV dword ptr [ESI + 0xdc],EDX
005fc3b1 : MOV EAX,dword ptr [ESI + 0xa8]
005fc3b7 : MOV EDX,dword ptr [ESI + 0xa4]
005fc3bd : LEA EDX,[EDX + EAX*0x4]
005fc3c0 : INC EAX
005fc3c1 : MOV dword ptr [ESI + 0xa8],EAX
005fc3c7 : MOV EAX,dword ptr [ESP + 0x14]
005fc3cb : MOV dword ptr [EDX],EAX
005fc3cd : OR dword ptr [ECX + 0x2c],0x8
005fc3d1 : JMP 0x005fc4af
005fc3d6 : FLD float ptr [ECX + 0xc]
005fc3d9 : OR dword ptr [ESP + 0x10],0x2
005fc3de : MOV EAX,dword ptr [ESP + 0x14]
005fc3e2 : FSTP float ptr [ECX + 0x8]
005fc3e5 : OR EBP,0x2
005fc3e8 : MOV dword ptr [ECX + 0x2c],EBP
005fc3eb : OR dword ptr [ECX + 0x2c],0x8
005fc3ef : JMP 0x005fc4af
005fc3f4 : MOV EAX,dword ptr [EDX + 0x4]
005fc3f7 : FLD float ptr [ECX + 0xc]
005fc3fa : MOV EDX,EAX
005fc3fc : SHR EDX,0xa
005fc3ff : MOV EDX,dword ptr [EDI + EDX*0x4]
005fc402 : FSTP float ptr [ECX + 0x8]
005fc405 : AND EAX,0x3ff
005fc40a : FLD float ptr [EDX + EAX*0x8 + 0x4]
005fc40e : LEA EDX,[EDX + EAX*0x8]
005fc411 : FLD ST2
005fc413 : FUCOMPP
005fc415 : FNSTSW AX
005fc417 : TEST AH,0x44
005fc41a : JP 0x005fc420
005fc41c : FLD float ptr [EDX]
005fc41e : JMP 0x005fc442
005fc420 : MOV EDX,dword ptr [ECX]
005fc422 : FLD ST1
005fc424 : MOV EAX,dword ptr [EDX]
005fc426 : MOV EBX,dword ptr [ESI + 0x3c]
005fc429 : MOV EDI,EAX
005fc42b : SHR EDI,0xa
005fc42e : MOV EDI,dword ptr [EBX + EDI*0x4]
005fc431 : AND EAX,0x3ff
005fc436 : FSUB float ptr [EDI + EAX*0x8 + 0x4]
005fc43a : LEA EAX,[EDI + EAX*0x8]
005fc43d : FMUL float ptr [EDX + 0x8]
005fc440 : FADD float ptr [EAX]
005fc442 : MOV EAX,dword ptr [ECX + 0x14]
005fc445 : FSTP float ptr [ESP + 0x18]
005fc449 : FLD float ptr [ESP + 0x18]
005fc44d : FSTP float ptr [ECX + 0xc]
005fc450 : MOV ECX,dword ptr [ECX + 0x18]
005fc453 : TEST EAX,EAX
005fc455 : JZ 0x005fc473
005fc457 : CMP EAX,dword ptr [ESI + 0xd8]
005fc45d : JNC 0x005fc465
005fc45f : MOV dword ptr [ESI + 0xd8],EAX
005fc465 : CMP EAX,dword ptr [ESI + 0xdc]
005fc46b : JBE 0x005fc473
005fc46d : MOV dword ptr [ESI + 0xdc],EAX
005fc473 : TEST ECX,ECX
005fc475 : JZ 0x005fc493
005fc477 : CMP ECX,dword ptr [ESI + 0xd8]
005fc47d : JNC 0x005fc485
005fc47f : MOV dword ptr [ESI + 0xd8],ECX
005fc485 : CMP ECX,dword ptr [ESI + 0xdc]
005fc48b : JBE 0x005fc493
005fc48d : MOV dword ptr [ESI + 0xdc],ECX
005fc493 : MOV EAX,dword ptr [ESI + 0xa8]
005fc499 : MOV ECX,dword ptr [ESI + 0xa4]
005fc49f : LEA ECX,[ECX + EAX*0x4]
005fc4a2 : INC EAX
005fc4a3 : MOV dword ptr [ESI + 0xa8],EAX
005fc4a9 : MOV EAX,dword ptr [ESP + 0x14]
005fc4ad : MOV dword ptr [ECX],EAX
005fc4af : INC EAX
005fc4b0 : MOV dword ptr [ESP + 0x14],EAX
005fc4b4 : CMP EAX,dword ptr [ESI + 0x90]
005fc4ba : JC 0x005fc2bb
005fc4c0 : XOR EAX,EAX
005fc4c2 : CMP dword ptr [ESP + 0x40],EAX
005fc4c6 : JZ 0x005fc665
005fc4cc : MOV EAX,dword ptr [ESP + 0x3c]
005fc4d0 : ADD EAX,EAX
005fc4d2 : ADD EAX,EAX
005fc4d4 : JMP 0x005fc4da
005fc4d6 : MOV EAX,dword ptr [ESP + 0x18]
005fc4da : MOV EDX,dword ptr [ESI + 0x70]
005fc4dd : MOV EDI,dword ptr [EAX + EDX*0x1]
005fc4e0 : MOV EDX,dword ptr [EDI]
005fc4e2 : MOV ECX,dword ptr [EDX + 0x4]
005fc4e5 : MOV EBX,dword ptr [ESI + 0x3c]
005fc4e8 : ADD EAX,0x4
005fc4eb : MOV EBP,ECX
005fc4ed : SHR EBP,0xa
005fc4f0 : MOV EBP,dword ptr [EBX + EBP*0x4]
005fc4f3 : MOV dword ptr [ESP + 0x18],EAX
005fc4f7 : MOV EAX,dword ptr [EDX]
005fc4f9 : AND ECX,0x3ff
005fc4ff : LEA ECX,[EBP + ECX*0x8]
005fc503 : MOV EBP,EAX
005fc505 : SHR EBP,0xa
005fc508 : MOV EBX,dword ptr [EBX + EBP*0x4]
005fc50b : AND EAX,0x3ff
005fc510 : FLD float ptr [EBX + EAX*0x8]
005fc513 : MOV dword ptr [EDI + 0x2c],0x8
005fc51a : FSTP float ptr [EDI + 0x8]
005fc51d : FLD float ptr [ECX + 0x4]
005fc520 : FLD ST2
005fc522 : FUCOMPP
005fc524 : FNSTSW AX
005fc526 : TEST AH,0x44
005fc529 : JP 0x005fc52f
005fc52b : FLD float ptr [ECX]
005fc52d : JMP 0x005fc54f
005fc52f : MOV EAX,dword ptr [EDX]
005fc531 : FLD ST1
005fc533 : MOV EBX,dword ptr [ESI + 0x3c]
005fc536 : MOV ECX,EAX
005fc538 : SHR ECX,0xa
005fc53b : MOV ECX,dword ptr [EBX + ECX*0x4]
005fc53e : AND EAX,0x3ff
005fc543 : FSUB float ptr [ECX + EAX*0x8 + 0x4]
005fc547 : LEA EAX,[ECX + EAX*0x8]
005fc54a : FMUL float ptr [EDX + 0x8]
005fc54d : FADD float ptr [EAX]
005fc54f : FSTP float ptr [ESP + 0x3c]
005fc553 : XOR EBX,EBX
005fc555 : FLD float ptr [ESP + 0x3c]
005fc559 : FST float ptr [EDI + 0xc]
005fc55c : MOV EDX,dword ptr [ESI + 0x90]
005fc562 : TEST EDX,EDX
005fc564 : JLE 0x005fc5aa
005fc566 : MOV EAX,dword ptr [ESI + 0x8c]
005fc56c : FLD float ptr [EDI + 0x8]
005fc56f : MOV ECX,EDX
005fc571 : SAR ECX,0x1
005fc573 : LEA EBP,[ECX + EBX*0x1]
005fc576 : MOV EAX,dword ptr [EAX + EBP*0x4]
005fc579 : FLD float ptr [EAX + 0x8]
005fc57c : MOV dword ptr [ESP + 0x3c],EAX
005fc580 : FUCOMPP
005fc582 : FNSTSW AX
005fc584 : TEST AH,0x44
005fc587 : MOV EAX,dword ptr [ESP + 0x3c]
005fc58b : JNP 0x005fc5ca
005fc58d : FLD float ptr [EDI + 0x8]
005fc590 : FLD float ptr [EAX + 0x8]
005fc593 : FCOMPP
005fc595 : FNSTSW AX
005fc597 : TEST AH,0x41
005fc59a : JZ 0x005fc5d6
005fc59c : OR EAX,0xffffffff
005fc59f : SUB EAX,ECX
005fc5a1 : LEA EBX,[EBP + 0x1]
005fc5a4 : ADD EDX,EAX
005fc5a6 : TEST EDX,EDX
005fc5a8 : JG 0x005fc566
005fc5aa : MOV EAX,dword ptr [ESI + 0x90]
005fc5b0 : FSTP ST0
005fc5b2 : CMP EBX,EAX
005fc5b4 : JC 0x005fc5da
005fc5b6 : MOV ECX,dword ptr [ESI + 0x8c]
005fc5bc : LEA ECX,[ECX + EAX*0x4]
005fc5bf : INC EAX
005fc5c0 : MOV dword ptr [ESI + 0x90],EAX
005fc5c6 : MOV dword ptr [ECX],EDI
005fc5c8 : JMP 0x005fc612
005fc5ca : FLD float ptr [EAX + 0xc]
005fc5cd : FCOMP
005fc5cf : FNSTSW AX
005fc5d1 : TEST AH,0x41
005fc5d4 : JNZ 0x005fc59c
005fc5d6 : MOV EDX,ECX
005fc5d8 : JMP 0x005fc5a6
005fc5da : MOV EDX,dword ptr [ESI + 0x8c]
005fc5e0 : FSTP ST0
005fc5e2 : SUB EAX,EBX
005fc5e4 : FSTP ST0
005fc5e6 : ADD EAX,EAX
005fc5e8 : ADD EAX,EAX
005fc5ea : LEA ECX,[EDX + EBX*0x4]
005fc5ed : PUSH EAX
005fc5ee : PUSH ECX
005fc5ef : ADD ECX,0x4
005fc5f2 : PUSH ECX
005fc5f3 : CALL 0x00636880
005fc5f8 : FLD float ptr [ESP + 0x44]
005fc5fc : MOV EAX,dword ptr [ESI + 0x8c]
005fc602 : FLD float ptr [ESP + 0x40]
005fc606 : ADD ESP,0xc
005fc609 : MOV dword ptr [EAX + EBX*0x4],EDI
005fc60c : INC dword ptr [ESI + 0x90]
005fc612 : MOV EAX,dword ptr [EDI + 0x14]
005fc615 : MOV EDI,dword ptr [EDI + 0x18]
005fc618 : TEST EAX,EAX
005fc61a : JZ 0x005fc638
005fc61c : CMP EAX,dword ptr [ESI + 0xd8]
005fc622 : JNC 0x005fc62a
005fc624 : MOV dword ptr [ESI + 0xd8],EAX
005fc62a : CMP EAX,dword ptr [ESI + 0xdc]
005fc630 : JBE 0x005fc638
005fc632 : MOV dword ptr [ESI + 0xdc],EAX
005fc638 : TEST EDI,EDI
005fc63a : JZ 0x005fc658
005fc63c : CMP EDI,dword ptr [ESI + 0xd8]
005fc642 : JNC 0x005fc64a
005fc644 : MOV dword ptr [ESI + 0xd8],EDI
005fc64a : CMP EDI,dword ptr [ESI + 0xdc]
005fc650 : JBE 0x005fc658
005fc652 : MOV dword ptr [ESI + 0xdc],EDI
005fc658 : SUB dword ptr [ESP + 0x40],0x1
005fc65d : JNZ 0x005fc4d6
005fc663 : XOR EAX,EAX
005fc665 : MOV EBX,dword ptr [ESP + 0x10]
005fc669 : LEA EDI,[ESI + 0xbc]
005fc66f : MOV dword ptr [EDI],EAX
005fc671 : TEST BL,0x1
005fc674 : JZ 0x005fc6b4
005fc676 : MOV dword ptr [ESI + 0xa8],EAX
005fc67c : CMP dword ptr [ESI + 0x90],EAX
005fc682 : JBE 0x005fc6b4
005fc684 : MOV ECX,dword ptr [ESI + 0x8c]
005fc68a : MOV EDX,dword ptr [ECX + EAX*0x4]
005fc68d : TEST byte ptr [EDX + 0x2c],0x2
005fc691 : JNZ 0x005fc6ab
005fc693 : MOV ECX,dword ptr [ESI + 0xa8]
005fc699 : MOV EDX,dword ptr [ESI + 0xa4]
005fc69f : LEA EDX,[EDX + ECX*0x4]
005fc6a2 : INC ECX
005fc6a3 : MOV dword ptr [ESI + 0xa8],ECX
005fc6a9 : MOV dword ptr [EDX],EAX
005fc6ab : INC EAX
005fc6ac : CMP EAX,dword ptr [ESI + 0x90]
005fc6b2 : JC 0x005fc684
005fc6b4 : CMP dword ptr [ESI + 0xa8],0x1
005fc6bb : FLD ST1
005fc6bd : FSUB ST0,ST1
005fc6bf : FSTP float ptr [ESP + 0x14]
005fc6c3 : JBE 0x005fc88a
005fc6c9 : MOV dword ptr [ESP + 0x3c],0x0
005fc6d1 : MOV EAX,dword ptr [ESP + 0x3c]
005fc6d5 : MOV dword ptr [ESP + 0x40],EAX
005fc6d9 : TEST EAX,EAX
005fc6db : JL 0x005fc870
005fc6e1 : MOV ECX,dword ptr [ESP + 0x40]
005fc6e5 : MOV EAX,dword ptr [ESI + 0xa4]
005fc6eb : MOV EDX,dword ptr [EAX + ECX*0x4]
005fc6ee : LEA EAX,[EAX + ECX*0x4]
005fc6f1 : MOV ECX,dword ptr [ESI + 0x8c]
005fc6f7 : MOV EAX,dword ptr [EAX + 0x4]
005fc6fa : MOV EBP,dword ptr [ECX + EDX*0x4]
005fc6fd : MOV EBX,dword ptr [ECX + EAX*0x4]
005fc700 : FLD float ptr [EBP + 0xc]
005fc703 : FLD float ptr [EBX + 0xc]
005fc706 : FCOMPP
005fc708 : FNSTSW AX
005fc70a : TEST AH,0x1
005fc70d : JZ 0x005fc870
005fc713 : CMP dword ptr [EDI],0x0
005fc716 : JNZ 0x005fc72b
005fc718 : FSTP ST0
005fc71a : MOV ECX,ESI
005fc71c : FSTP ST0
005fc71e : CALL 0x005fb980
005fc723 : FLD float ptr [ESP + 0x38]
005fc727 : FLD float ptr [ESP + 0x34]
005fc72b : FLD float ptr [EBX + 0xc]
005fc72e : MOV ECX,dword ptr [EBP + 0x30]
005fc731 : FSUB float ptr [EBX + 0x8]
005fc734 : MOV EDX,dword ptr [EBX + 0x30]
005fc737 : MOV dword ptr [ESP + 0x24],ECX
005fc73b : MOV dword ptr [ESP + 0x28],EDX
005fc73f : FSUB float ptr [EBP + 0xc]
005fc742 : FADD float ptr [EBP + 0x8]
005fc745 : FSTP float ptr [ESP + 0x18]
005fc749 : FLDZ
005fc74b : FLD float ptr [ESP + 0x18]
005fc74f : FUCOM
005fc751 : FNSTSW AX
005fc753 : FSTP ST1
005fc755 : TEST AH,0x44
005fc758 : JP 0x005fc760
005fc75a : FSTP ST0
005fc75c : FLD ST0
005fc75e : JMP 0x005fc776
005fc760 : FLD float ptr [EBP + 0x8]
005fc763 : FSUB float ptr [EBX + 0x8]
005fc766 : FSTP float ptr [ESP + 0x18]
005fc76a : FLD float ptr [ESP + 0x18]
005fc76e : FMUL float ptr [ESP + 0x14]
005fc772 : FDIVRP
005fc774 : FADD ST0,ST1
005fc776 : FSTP float ptr [ESP + 0x2c]
005fc77a : FLD float ptr [ESP + 0x2c]
005fc77e : FCOMP
005fc780 : FNSTSW AX
005fc782 : TEST AH,0x5
005fc785 : JP 0x005fc78b
005fc787 : FST float ptr [ESP + 0x2c]
005fc78b : FLD float ptr [ESP + 0x2c]
005fc78f : FCOMP ST2
005fc791 : FNSTSW AX
005fc793 : TEST AH,0x41
005fc796 : JNZ 0x005fc7a0
005fc798 : FXCH
005fc79a : FST float ptr [ESP + 0x2c]
005fc79e : FXCH
005fc7a0 : MOV EBP,dword ptr [EDI]
005fc7a2 : SHR EBP,0x6
005fc7a5 : CMP EBP,dword ptr [EDI + 0x4]
005fc7a8 : JC 0x005fc814
005fc7aa : MOV ECX,dword ptr [EDI + 0x8]
005fc7ad : FSTP ST0
005fc7af : FSTP ST0
005fc7b1 : CMP EBP,ECX
005fc7b3 : JC 0x005fc7eb
005fc7b5 : MOV EAX,dword ptr [EDI + 0xc]
005fc7b8 : TEST EAX,EAX
005fc7ba : JZ 0x005fc7cc
005fc7bc : LEA ECX,[ECX*0x4 + 0x100]
005fc7c3 : PUSH ECX
005fc7c4 : PUSH EAX
005fc7c5 : CALL 0x00515c80
005fc7ca : JMP 0x005fc7e4
005fc7cc : LEA EAX,[ESP + 0x1c]
005fc7d0 : PUSH EAX
005fc7d1 : PUSH 0x100
005fc7d6 : PUSH EDI
005fc7d7 : MOV dword ptr [ESP + 0x28],0x85
005fc7df : CALL 0x00515d60
005fc7e4 : ADD dword ptr [EDI + 0x8],0x40
005fc7e8 : MOV dword ptr [EDI + 0xc],EAX
005fc7eb : LEA ECX,[ESP + 0x20]
005fc7ef : PUSH ECX
005fc7f0 : PUSH 0x300
005fc7f5 : PUSH EDI
005fc7f6 : MOV dword ptr [ESP + 0x2c],0x85
005fc7fe : CALL 0x00515d60
005fc803 : FLD float ptr [ESP + 0x38]
005fc807 : MOV EDX,dword ptr [EDI + 0xc]
005fc80a : FLD float ptr [ESP + 0x34]
005fc80e : MOV dword ptr [EDX + EBP*0x4],EAX
005fc811 : INC dword ptr [EDI + 0x4]
005fc814 : MOV EAX,dword ptr [EDI]
005fc816 : MOV ECX,dword ptr [EDI + 0xc]
005fc819 : MOV EBX,dword ptr [ESP + 0x40]
005fc81d : AND EAX,0x3f
005fc820 : LEA EDX,[EAX + EAX*0x2]
005fc823 : MOV EAX,dword ptr [ECX + EBP*0x4]
005fc826 : MOV ECX,dword ptr [ESP + 0x24]
005fc82a : MOV dword ptr [EAX + EDX*0x4],ECX
005fc82d : MOV ECX,dword ptr [ESP + 0x2c]
005fc831 : LEA EAX,[EAX + EDX*0x4]
005fc834 : MOV EDX,dword ptr [ESP + 0x28]
005fc838 : MOV dword ptr [EAX + 0x4],EDX
005fc83b : MOV dword ptr [EAX + 0x8],ECX
005fc83e : INC dword ptr [EDI]
005fc840 : MOV EDX,dword ptr [ESI + 0xa4]
005fc846 : MOV ECX,dword ptr [ESI + 0x8c]
005fc84c : LEA EAX,[EDX + EBX*0x4]
005fc84f : MOV EDX,dword ptr [EAX + 0x4]
005fc852 : MOV EAX,dword ptr [EAX]
005fc854 : MOV EBP,dword ptr [ECX + EDX*0x4]
005fc857 : LEA EDX,[ECX + EDX*0x4]
005fc85a : LEA EAX,[ECX + EAX*0x4]
005fc85d : MOV ECX,dword ptr [EAX]
005fc85f : SUB EBX,0x1
005fc862 : MOV dword ptr [EAX],EBP
005fc864 : MOV dword ptr [EDX],ECX
005fc866 : MOV dword ptr [ESP + 0x40],EBX
005fc86a : JNS 0x005fc6e1
005fc870 : MOV EAX,dword ptr [ESP + 0x3c]
005fc874 : INC EAX
005fc875 : MOV dword ptr [ESP + 0x3c],EAX
005fc879 : INC EAX
005fc87a : CMP EAX,dword ptr [ESI + 0xa8]
005fc880 : JC 0x005fc6d1
005fc886 : MOV EBX,dword ptr [ESP + 0x10]
005fc88a : CMP dword ptr [EDI],0x1
005fc88d : FSTP ST0
005fc88f : FSTP ST0
005fc891 : JBE 0x005fc8a6
005fc893 : MOV ECX,dword ptr [EDI]
005fc895 : PUSH 0x5f91e0
005fc89a : PUSH ECX
005fc89b : PUSH 0x0
005fc89d : PUSH EDI
005fc89e : CALL 0x005fa5f0
005fc8a3 : ADD ESP,0x10
005fc8a6 : POP EDI
005fc8a7 : POP ESI
005fc8a8 : POP EBP
005fc8a9 : MOV EAX,EBX
005fc8ab : POP EBX
005fc8ac : ADD ESP,0x20
005fc8af : RET 0x10
