PROGRAM  : Maestia.exe
FUNCTION : FUN_007d0250
ENTRY    : 007d0250
BODY     : [[007d0250, 007d02e1] [007d02e8, 007d03db]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x007d0336) */

void FUN_007d0250(void)

{
  uint uVar1;
  undefined4 *in_ECX;
  int *piVar2;
  LPCRITICAL_SECTION local_28;
  char *local_24;
  undefined4 local_20;
  int local_1c;
  undefined4 local_18;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b14881;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *in_ECX = &PTR_FUN_00cd4aec;
  local_8 = 4;
  local_28 = (LPCRITICAL_SECTION)(in_ECX + 0x8d);
  local_1c = 0;
  local_24 = ".\\Resource\\AvaExportedData.cpp";
  local_20 = 0x44;
  local_18 = 1;
  FUN_006ef1a0(&local_28);
  local_8 = CONCAT31(local_8._1_3_,5);
  if ((int *)in_ECX[0x34] != (int *)0x0) {
    (**(code **)(*(int *)in_ECX[0x34] + 4))(1,uVar1);
    in_ECX[0x34] = 0;
  }
  if (in_ECX[0x3a] != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  piVar2 = (int *)in_ECX[0x36];
  if (piVar2 != (int *)in_ECX[0x37]) {
    do {
      if ((undefined4 *)*piVar2 != (undefined4 *)0x0) {
        (*(code *)**(undefined4 **)*piVar2)(1);
        *piVar2 = 0;
      }
      piVar2 = piVar2 + 1;
    } while (piVar2 != (int *)in_ECX[0x37]);
  }
  if (in_ECX[0x36] != in_ECX[0x37]) {
    in_ECX[0x37] = in_ECX[0x36];
  }
  local_8._0_1_ = 4;
  if (local_1c != 0) {
    LeaveCriticalSection(local_28);
    local_1c = 0;
  }
  local_8._0_1_ = 3;
  in_ECX[0x8c] = &PTR_FUN_00cdec94;
  DeleteCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0x8d));
  in_ECX[0x5c] = &PTR_FUN_00cd083c;
  in_ECX[0x3b] = &PTR_FUN_00cd083c;
  local_8 = (uint)local_8._1_3_ << 8;
  if (in_ECX[0x36] == 0) {
    in_ECX[0x36] = 0;
    in_ECX[0x37] = 0;
    in_ECX[0x38] = 0;
    local_8 = 0xffffffff;
    FUN_007cff20();
    ExceptionList = local_10;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
007d0250 : PUSH EBP
007d0251 : MOV EBP,ESP
007d0253 : PUSH -0x1
007d0255 : PUSH 0xb14881
007d025a : MOV EAX,FS:[0x0]
007d0260 : PUSH EAX
007d0261 : SUB ESP,0x18
007d0264 : PUSH EBX
007d0265 : PUSH ESI
007d0266 : PUSH EDI
007d0267 : MOV EAX,[0x00d66fa0]
007d026c : XOR EAX,EBP
007d026e : PUSH EAX
007d026f : LEA EAX,[EBP + -0xc]
007d0272 : MOV FS:[0x0],EAX
007d0278 : MOV ESI,ECX
007d027a : MOV dword ptr [EBP + -0x10],ESI
007d027d : MOV dword ptr [ESI],0xcd4aec
007d0283 : MOV dword ptr [EBP + -0x4],0x4
007d028a : LEA ECX,[EBP + -0x24]
007d028d : LEA EAX,[ESI + 0x234]
007d0293 : XOR EBX,EBX
007d0295 : PUSH ECX
007d0296 : MOV dword ptr [EBP + -0x18],EBX
007d0299 : MOV dword ptr [EBP + -0x24],EAX
007d029c : MOV dword ptr [EBP + -0x20],0xc1f940
007d02a3 : MOV dword ptr [EBP + -0x1c],0x44
007d02aa : MOV dword ptr [EBP + -0x14],0x1
007d02b1 : CALL 0x006ef1a0
007d02b6 : MOV byte ptr [EBP + -0x4],0x5
007d02ba : MOV ECX,dword ptr [ESI + 0xd0]
007d02c0 : CMP ECX,EBX
007d02c2 : JZ 0x007d02d3
007d02c4 : MOV EDX,dword ptr [ECX]
007d02c6 : MOV EAX,dword ptr [EDX + 0x4]
007d02c9 : PUSH 0x1
007d02cb : CALL EAX
007d02cd : MOV dword ptr [ESI + 0xd0],EBX
007d02d3 : MOV ECX,dword ptr [ESI + 0xe8]
007d02d9 : CMP ECX,EBX
007d02db : JZ 0x007d02e8
007d02dd : CALL 0x006f04e0
007d02e8 : MOV EDI,dword ptr [ESI + 0xd8]
007d02ee : CMP EDI,dword ptr [ESI + 0xdc]
007d02f4 : JZ 0x007d0311
007d02f6 : MOV ECX,dword ptr [EDI]
007d02f8 : CMP ECX,EBX
007d02fa : JZ 0x007d0306
007d02fc : MOV EDX,dword ptr [ECX]
007d02fe : MOV EAX,dword ptr [EDX]
007d0300 : PUSH 0x1
007d0302 : CALL EAX
007d0304 : MOV dword ptr [EDI],EBX
007d0306 : ADD EDI,0x4
007d0309 : CMP EDI,dword ptr [ESI + 0xdc]
007d030f : JNZ 0x007d02f6
007d0311 : MOV ECX,dword ptr [ESI + 0xdc]
007d0317 : MOV EDI,dword ptr [ESI + 0xd8]
007d031d : CMP EDI,ECX
007d031f : JZ 0x007d034a
007d0321 : MOV EAX,ECX
007d0323 : SUB EAX,ECX
007d0325 : SAR EAX,0x2
007d0328 : LEA EDX,[EAX*0x4 + 0x0]
007d032f : LEA EBX,[EDX + EDI*0x1]
007d0332 : TEST EAX,EAX
007d0334 : JLE 0x007d0342
007d0336 : PUSH EDX
007d0337 : PUSH ECX
007d0338 : PUSH EDX
007d0339 : PUSH EDI
007d033a : CALL 0x00634101
007d033f : ADD ESP,0x10
007d0342 : MOV dword ptr [ESI + 0xdc],EBX
007d0348 : XOR EBX,EBX
007d034a : MOV byte ptr [EBP + -0x4],0x4
007d034e : CMP dword ptr [EBP + -0x18],EBX
007d0351 : JZ 0x007d0360
007d0353 : MOV ECX,dword ptr [EBP + -0x24]
007d0356 : PUSH ECX
007d0357 : CALL dword ptr [0x00b8511c]
007d035d : MOV dword ptr [EBP + -0x18],EBX
007d0360 : MOV byte ptr [EBP + -0x4],0x3
007d0364 : LEA EDX,[ESI + 0x234]
007d036a : PUSH EDX
007d036b : MOV dword ptr [ESI + 0x230],0xcdec94
007d0375 : CALL dword ptr [0x00b850fc]
007d037b : MOV byte ptr [EBP + -0x4],0x2
007d037f : MOV dword ptr [ESI + 0x170],0xcd083c
007d0389 : MOV byte ptr [EBP + -0x4],0x1
007d038d : MOV dword ptr [ESI + 0xec],0xcd083c
007d0397 : MOV byte ptr [EBP + -0x4],0x0
007d039b : MOV ECX,dword ptr [ESI + 0xd8]
007d03a1 : CMP ECX,EBX
007d03a3 : JZ 0x007d03aa
007d03a5 : CALL 0x006f04e0
007d03aa : MOV dword ptr [ESI + 0xd8],EBX
007d03b0 : MOV dword ptr [ESI + 0xdc],EBX
007d03b6 : MOV dword ptr [ESI + 0xe0],EBX
007d03bc : MOV dword ptr [EBP + -0x4],0xffffffff
007d03c3 : MOV ECX,ESI
007d03c5 : CALL 0x007cff20
007d03ca : MOV ECX,dword ptr [EBP + -0xc]
007d03cd : MOV dword ptr FS:[0x0],ECX
007d03d4 : POP ECX
007d03d5 : POP EDI
007d03d6 : POP ESI
007d03d7 : POP EBX
007d03d8 : MOV ESP,EBP
007d03da : POP EBP
007d03db : RET
