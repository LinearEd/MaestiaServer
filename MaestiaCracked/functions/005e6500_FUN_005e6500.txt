PROGRAM  : Maestia.exe
FUNCTION : FUN_005e6500
ENTRY    : 005e6500
BODY     : [[005e6500, 005e657f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005e6500(int param_1)

{
  LONG LVar1;
  code *pcVar2;
  uint uVar3;
  undefined1 local_8 [8];
  
  FUN_0051c350(*(undefined4 *)(*(int *)(param_1 + 0x20) + 0x1c));
  FUN_0053b190(local_8);
  uVar3 = *(uint *)(*(int *)(param_1 + 0x10) + 0xc);
  if (*(int *)(param_1 + 0x2e8) == 1) {
    pcVar2 = *(code **)(**(int **)(param_1 + 0x2ec) + 0x48);
  }
  else {
    pcVar2 = *(code **)(**(int **)(param_1 + 0x20) + 4);
  }
  (*pcVar2)(local_8);
  LVar1 = InterlockedExchangeAdd((LONG *)((uVar3 & 0xfffffffc) + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(uVar3 & 0xfffffffc);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005e6500 : SUB ESP,0x8
005e6503 : PUSH ESI
005e6504 : MOV ESI,dword ptr [ESP + 0x10]
005e6508 : MOV EAX,dword ptr [ESI + 0x20]
005e650b : MOV ECX,dword ptr [EAX + 0x1c]
005e650e : PUSH ECX
005e650f : LEA ECX,[ESP + 0x8]
005e6513 : CALL 0x0051c350
005e6518 : MOV ECX,dword ptr [ESI + 0x314]
005e651e : TEST ECX,ECX
005e6520 : JNZ 0x005e6525
005e6522 : LEA ECX,[ESI + 0x28]
005e6525 : LEA EDX,[ESP + 0x4]
005e6529 : PUSH EDX
005e652a : CALL 0x0053b190
005e652f : CMP dword ptr [ESI + 0x2e8],0x1
005e6536 : MOV EAX,dword ptr [ESI + 0x10]
005e6539 : MOV EAX,dword ptr [EAX + 0xc]
005e653c : PUSH EAX
005e653d : LEA EAX,[ESP + 0x8]
005e6541 : PUSH EAX
005e6542 : JNZ 0x005e6551
005e6544 : MOV ECX,dword ptr [ESI + 0x2ec]
005e654a : MOV EDX,dword ptr [ECX]
005e654c : MOV EDX,dword ptr [EDX + 0x48]
005e654f : JMP 0x005e6559
005e6551 : MOV ECX,dword ptr [ESI + 0x20]
005e6554 : MOV EDX,dword ptr [ECX]
005e6556 : MOV EDX,dword ptr [EDX + 0x4]
005e6559 : CALL EDX
005e655b : MOV ESI,dword ptr [ESP + 0x4]
005e655f : AND ESI,0xfffffffc
005e6562 : PUSH -0x1
005e6564 : LEA EAX,[ESI + 0x4]
005e6567 : PUSH EAX
005e6568 : CALL dword ptr [0x00b851cc]
005e656e : SUB EAX,0x1
005e6571 : JNZ 0x005e6579
005e6573 : PUSH ESI
005e6574 : CALL 0x00515cf0
005e6579 : POP ESI
005e657a : ADD ESP,0x8
005e657d : RET 0x8
