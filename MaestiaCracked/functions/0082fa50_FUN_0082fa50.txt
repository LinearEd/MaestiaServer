PROGRAM  : Maestia.exe
FUNCTION : FUN_0082fa50
ENTRY    : 0082fa50
BODY     : [[0082fa50, 0082fb4c] [0082fb50, 0082fdcf]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0082fa50(undefined4 param_1,undefined2 param_2)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int in_EDX;
  undefined4 in_stack_00000018;
  uint in_stack_0000001c;
  undefined1 auStack_128 [4];
  undefined2 local_124;
  undefined4 local_114;
  int local_110;
  undefined1 auStack_10c [12];
  undefined4 uStack_100;
  undefined1 *puStack_fc;
  undefined1 *puStack_f8;
  undefined1 *puStack_f4;
  uint local_f0;
  undefined1 local_dc [56];
  undefined1 local_a4 [56];
  undefined1 local_6c [8];
  undefined1 *local_64;
  undefined1 *local_60;
  uint local_5c;
  int local_58;
  int local_54;
  int local_50;
  undefined1 local_4c [40];
  undefined1 local_24 [12];
  uint local_18;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b43fcc;
  local_10 = ExceptionList;
  local_f0 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8 = 0;
  puStack_f4 = local_4c;
  puStack_f8 = (undefined1 *)0x82fa98;
  local_58 = in_EDX;
  local_18 = local_f0;
  FUN_0044c9a0();
  local_8._0_1_ = 1;
  puStack_f4 = (undefined1 *)&param_1;
  puStack_f8 = (undefined1 *)0x82faa5;
  iVar2 = FUN_0082d930();
  if (iVar2 != 0) {
    if ((uint)((*(int *)(in_EDX + 8) - *(int *)(in_EDX + 4)) / 0x1c) <
        (*(int *)(iVar2 + 0x34) - *(int *)(iVar2 + 0x30)) / 0x1c + 2U) {
      *(undefined4 *)(local_50 + 0xc4) = 1;
      local_8 = (uint)local_8._1_3_ << 8;
      puStack_f4 = local_4c;
      puStack_f8 = (undefined1 *)0x82fb01;
      FUN_0044c830();
      local_8 = 0xffffffff;
      if (7 < in_stack_0000001c) {
                    /* WARNING: Subroutine does not return */
        puStack_f4 = (undefined1 *)0x82fb16;
        FUN_006f04e0();
      }
      goto LAB_0082fda4;
    }
    iVar5 = *(int *)(iVar2 + 0x34) - *(int *)(iVar2 + 0x30);
    iVar4 = iVar5 >> 0x1f;
    local_5c = 0;
    if (iVar5 / 0x1c + iVar4 != iVar4) {
      local_54 = 0;
      do {
        iVar4 = local_54;
        puStack_f4 = (undefined1 *)0x82fb60;
        FUN_0070c170();
        local_60 = auStack_10c;
        local_110 = iVar4 + 0x38 + *(int *)(in_EDX + 4);
        local_114 = 0x82fb78;
        FUN_0082db50();
        local_8._0_1_ = 2;
        local_64 = auStack_128;
        local_110 = 7;
        local_114 = 0;
        local_124 = 0;
        FUN_00405eb0(*(int *)(iVar2 + 0x30) + iVar4,0,0xffffffff);
        local_8._0_1_ = 1;
        FUN_0044dd20();
        local_8._0_1_ = 4;
        puStack_f4 = local_a4;
        puStack_f8 = (undefined1 *)0x82fbce;
        FUN_00416e00();
        local_8._0_1_ = 5;
        puStack_f4 = local_a4;
        puStack_f8 = local_6c;
        puStack_fc = local_24;
        uStack_100 = 0x82fbe6;
        FUN_00414920();
        local_8._0_1_ = 4;
        puStack_f4 = local_a4;
        puStack_f8 = (undefined1 *)0x82fbf6;
        FUN_0044ca10();
        local_8._0_1_ = 1;
        puStack_f8 = (undefined1 *)0x82fc02;
        puStack_f4 = local_dc;
        FUN_0044ca10();
        local_54 = local_54 + 0x1c;
        local_5c = local_5c + 1;
        in_EDX = local_58;
      } while (local_5c < (uint)((*(int *)(iVar2 + 0x34) - *(int *)(iVar2 + 0x30)) / 0x1c));
    }
  }
  puStack_f4 = local_4c;
  puStack_f8 = (undefined1 *)0x82fc42;
  FUN_0044cf80();
  iVar4 = *(int *)(local_50 + 0xf0);
  if (iVar4 != 0) {
    *(int *)(iVar4 + 0x20) = *(int *)(iVar4 + 0x24);
    *(int *)(iVar4 + 0x24) = *(int *)(iVar4 + 0x24) + 1;
  }
  piVar1 = *(int **)(local_50 + 0xd0);
  uVar3 = *(uint *)(local_50 + 0xe8);
  if (piVar1 == (int *)0x0) {
    iVar4 = 0;
  }
  else {
    iVar4 = *piVar1;
  }
  if (*(uint *)(iVar4 + 0x14) <= uVar3) {
    if (piVar1 == (int *)0x0) {
      iVar4 = 0;
    }
    else {
      iVar4 = *piVar1;
    }
    uVar3 = uVar3 - *(int *)(iVar4 + 0x14);
  }
  if (piVar1 == (int *)0x0) {
    iVar4 = 0;
  }
  else {
    iVar4 = *piVar1;
  }
  iVar4 = *(int *)(*(int *)(iVar4 + 0x10) + uVar3 * 4);
  *(int *)(local_50 + 0xf0) = iVar4;
  *(undefined4 *)(local_50 + 200) = 0;
  if (iVar2 != 0) {
    iVar5 = *(int *)(iVar2 + 4);
    *(undefined4 *)(iVar4 + 0x20) = *(undefined4 *)(iVar4 + 0x24);
    *(int *)(iVar4 + 0x24) = iVar5 + 1;
    do {
      puStack_f4 = (undefined1 *)0x82fcb7;
      iVar4 = FUN_0082ec10();
      if (((iVar4 == 0) || (*(int *)(iVar2 + 8) <= *(int *)(*(int *)(local_50 + 0xf0) + 0x24))) ||
         (*(int *)(local_50 + 0xc4) != 0)) break;
    } while (*(int *)(local_50 + 0x74) == 0);
  }
  *(undefined4 *)(local_50 + 200) = 0;
  if (*(int *)(local_50 + 0xec) != 0) {
    puStack_f4 = *(undefined1 **)(*(int *)(local_50 + 0xe0) + *(int *)(local_50 + 0xe8) * 4);
    puStack_f8 = (undefined1 *)0x82fcf7;
    FUN_0044c830();
    *(int *)(local_50 + 0xe8) = *(int *)(local_50 + 0xe8) + 1;
    if (*(uint *)(local_50 + 0xe4) <= *(uint *)(local_50 + 0xe8)) {
      *(undefined4 *)(local_50 + 0xe8) = 0;
    }
    piVar1 = (int *)(local_50 + 0xec);
    *piVar1 = *piVar1 + -1;
    if (*piVar1 == 0) {
      *(undefined4 *)(local_50 + 0xe8) = 0;
    }
  }
  if (*(int *)(local_50 + 0xec) == 0) {
    *(undefined4 *)(local_50 + 0xf0) = 0;
  }
  else {
    uVar3 = *(uint *)(local_50 + 0xe8);
    piVar1 = *(int **)(local_50 + 0xd0);
    if (piVar1 == (int *)0x0) {
      iVar2 = 0;
    }
    else {
      iVar2 = *piVar1;
    }
    if (*(uint *)(iVar2 + 0x14) <= uVar3) {
      if (piVar1 == (int *)0x0) {
        iVar2 = 0;
      }
      else {
        iVar2 = *piVar1;
      }
      uVar3 = uVar3 - *(int *)(iVar2 + 0x14);
    }
    if (piVar1 == (int *)0x0) {
      iVar2 = 0;
    }
    else {
      iVar2 = *piVar1;
    }
    *(undefined4 *)(local_50 + 0xf0) = *(undefined4 *)(*(int *)(iVar2 + 0x10) + uVar3 * 4);
  }
  local_8 = (uint)local_8._1_3_ << 8;
  puStack_f4 = local_4c;
  puStack_f8 = (undefined1 *)0x82fd87;
  FUN_0044c830();
  local_8 = 0xffffffff;
  if (7 < in_stack_0000001c) {
                    /* WARNING: Subroutine does not return */
    puStack_f4 = (undefined1 *)0x82fd9c;
    FUN_006f04e0();
  }
LAB_0082fda4:
  local_8 = 0xffffffff;
  param_2 = 0;
  in_stack_00000018 = 0;
  in_stack_0000001c = 7;
  ExceptionList = local_10;
  __security_check_cookie(local_18 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0082fa50 : PUSH EBP
0082fa51 : MOV EBP,ESP
0082fa53 : PUSH -0x1
0082fa55 : PUSH 0xb43fcc
0082fa5a : MOV EAX,FS:[0x0]
0082fa60 : PUSH EAX
0082fa61 : SUB ESP,0xd0
0082fa67 : MOV EAX,[0x00d66fa0]
0082fa6c : XOR EAX,EBP
0082fa6e : MOV dword ptr [EBP + -0x14],EAX
0082fa71 : PUSH EBX
0082fa72 : PUSH ESI
0082fa73 : PUSH EDI
0082fa74 : PUSH EAX
0082fa75 : LEA EAX,[EBP + -0xc]
0082fa78 : MOV FS:[0x0],EAX
0082fa7e : MOV EDI,ECX
0082fa80 : MOV ESI,EDX
0082fa82 : MOV dword ptr [EBP + -0x4c],EDI
0082fa85 : MOV dword ptr [EBP + -0x54],ESI
0082fa88 : MOV dword ptr [EBP + -0x4],0x0
0082fa8f : LEA EAX,[EBP + -0x48]
0082fa92 : PUSH EAX
0082fa93 : CALL 0x0044c9a0
0082fa98 : MOV byte ptr [EBP + -0x4],0x1
0082fa9c : LEA ECX,[EBP + 0x8]
0082fa9f : PUSH ECX
0082faa0 : CALL 0x0082d930
0082faa5 : MOV EBX,EAX
0082faa7 : TEST EBX,EBX
0082faa9 : JZ 0x0082fc2e
0082faaf : MOV ECX,dword ptr [EBX + 0x34]
0082fab2 : SUB ECX,dword ptr [EBX + 0x30]
0082fab5 : MOV EAX,0x92492493
0082faba : IMUL ECX
0082fabc : ADD EDX,ECX
0082fabe : MOV ECX,dword ptr [ESI + 0x8]
0082fac1 : SUB ECX,dword ptr [ESI + 0x4]
0082fac4 : SAR EDX,0x4
0082fac7 : MOV EAX,EDX
0082fac9 : SHR EAX,0x1f
0082facc : LEA EDI,[EDX + EAX*0x1 + 0x2]
0082fad0 : MOV EAX,0x92492493
0082fad5 : IMUL ECX
0082fad7 : ADD EDX,ECX
0082fad9 : SAR EDX,0x4
0082fadc : MOV ECX,EDX
0082fade : SHR ECX,0x1f
0082fae1 : ADD ECX,EDX
0082fae3 : CMP ECX,EDI
0082fae5 : JNC 0x0082fb24
0082fae7 : MOV EDX,dword ptr [EBP + -0x4c]
0082faea : MOV dword ptr [EDX + 0xc4],0x1
0082faf4 : MOV byte ptr [EBP + -0x4],0x0
0082faf8 : LEA EAX,[EBP + -0x48]
0082fafb : PUSH EAX
0082fafc : CALL 0x0044c830
0082fb01 : MOV dword ptr [EBP + -0x4],0xffffffff
0082fb08 : CMP dword ptr [EBP + 0x20],0x8
0082fb0c : JC 0x0082fb16
0082fb0e : MOV ECX,dword ptr [EBP + 0xc]
0082fb11 : CALL 0x006f04e0
0082fb16 : XOR ECX,ECX
0082fb18 : MOV word ptr [EBP + 0xc],CX
0082fb1c : LEA EAX,[ECX + 0x1]
0082fb1f : JMP 0x0082fda4
0082fb24 : MOV ECX,dword ptr [EBX + 0x34]
0082fb27 : SUB ECX,dword ptr [EBX + 0x30]
0082fb2a : MOV EAX,0x92492493
0082fb2f : IMUL ECX
0082fb31 : ADD EDX,ECX
0082fb33 : SAR EDX,0x4
0082fb36 : MOV EAX,EDX
0082fb38 : XOR EDI,EDI
0082fb3a : SHR EAX,0x1f
0082fb3d : ADD EAX,EDX
0082fb3f : MOV dword ptr [EBP + -0x58],EDI
0082fb42 : JZ 0x0082fc2e
0082fb48 : MOV dword ptr [EBP + -0x50],EDI
0082fb4b : JMP 0x0082fb56
0082fb50 : MOV EDI,dword ptr [EBP + -0x50]
0082fb53 : MOV ESI,dword ptr [EBP + -0x54]
0082fb56 : MOV ECX,dword ptr [EBX + 0x30]
0082fb59 : ADD ECX,EDI
0082fb5b : CALL 0x0070c170
0082fb60 : MOV ECX,dword ptr [ESI + 0x4]
0082fb63 : SUB ESP,0x1c
0082fb66 : LEA EAX,[EDI + ECX*0x1 + 0x38]
0082fb6a : MOV ECX,dword ptr [EBP + -0x4c]
0082fb6d : MOV ESI,ESP
0082fb6f : MOV dword ptr [EBP + -0x5c],ESP
0082fb72 : PUSH EAX
0082fb73 : CALL 0x0082db50
0082fb78 : MOV byte ptr [EBP + -0x4],0x2
0082fb7c : MOV EAX,dword ptr [EBX + 0x30]
0082fb7f : SUB ESP,0x1c
0082fb82 : MOV ECX,ESP
0082fb84 : MOV dword ptr [EBP + -0x60],ESP
0082fb87 : XOR EDX,EDX
0082fb89 : PUSH -0x1
0082fb8b : ADD EAX,EDI
0082fb8d : PUSH EDX
0082fb8e : MOV dword ptr [ECX + 0x18],0x7
0082fb95 : MOV dword ptr [ECX + 0x14],0x0
0082fb9c : PUSH EAX
0082fb9d : MOV word ptr [ECX + 0x4],DX
0082fba1 : CALL 0x00405eb0
0082fba6 : MOV byte ptr [EBP + -0x4],0x3
0082fbaa : MOV byte ptr [EBP + -0x4],0x1
0082fbae : LEA ESI,[EBP + 0xffffff28]
0082fbb4 : CALL 0x0044dd20
0082fbb9 : ADD ESP,0x38
0082fbbc : MOV byte ptr [EBP + -0x4],0x4
0082fbc0 : LEA ECX,[EBP + 0xffffff60]
0082fbc6 : PUSH ECX
0082fbc7 : MOV EDI,EAX
0082fbc9 : CALL 0x00416e00
0082fbce : MOV byte ptr [EBP + -0x4],0x5
0082fbd2 : LEA EDX,[EBP + 0xffffff60]
0082fbd8 : PUSH EDX
0082fbd9 : LEA EAX,[EBP + -0x68]
0082fbdc : PUSH EAX
0082fbdd : LEA ECX,[EBP + -0x20]
0082fbe0 : PUSH ECX
0082fbe1 : CALL 0x00414920
0082fbe6 : MOV byte ptr [EBP + -0x4],0x4
0082fbea : LEA EDX,[EBP + 0xffffff60]
0082fbf0 : PUSH EDX
0082fbf1 : CALL 0x0044ca10
0082fbf6 : MOV byte ptr [EBP + -0x4],0x1
0082fbfa : MOV EAX,ESI
0082fbfc : PUSH EAX
0082fbfd : CALL 0x0044ca10
0082fc02 : MOV ECX,dword ptr [EBX + 0x34]
0082fc05 : SUB ECX,dword ptr [EBX + 0x30]
0082fc08 : MOV ESI,dword ptr [EBP + -0x58]
0082fc0b : ADD dword ptr [EBP + -0x50],0x1c
0082fc0f : MOV EAX,0x92492493
0082fc14 : IMUL ECX
0082fc16 : ADD EDX,ECX
0082fc18 : SAR EDX,0x4
0082fc1b : MOV ECX,EDX
0082fc1d : SHR ECX,0x1f
0082fc20 : INC ESI
0082fc21 : ADD ECX,EDX
0082fc23 : MOV dword ptr [EBP + -0x58],ESI
0082fc26 : CMP ESI,ECX
0082fc28 : JC 0x0082fb50
0082fc2e : MOV ESI,dword ptr [EBP + -0x4c]
0082fc31 : LEA EDX,[EBP + -0x48]
0082fc34 : LEA EDI,[ESI + 0xd0]
0082fc3a : PUSH EDX
0082fc3b : MOV EAX,EDI
0082fc3d : CALL 0x0044cf80
0082fc42 : MOV EAX,dword ptr [ESI + 0xf0]
0082fc48 : TEST EAX,EAX
0082fc4a : JZ 0x0082fc58
0082fc4c : MOV ECX,dword ptr [EAX + 0x24]
0082fc4f : LEA EDX,[ECX + 0x1]
0082fc52 : MOV dword ptr [EAX + 0x20],ECX
0082fc55 : MOV dword ptr [EAX + 0x24],EDX
0082fc58 : MOV ECX,dword ptr [EDI]
0082fc5a : MOV EAX,dword ptr [EDI + 0x18]
0082fc5d : TEST ECX,ECX
0082fc5f : JZ 0x0082fc65
0082fc61 : MOV EDX,dword ptr [ECX]
0082fc63 : JMP 0x0082fc67
0082fc65 : XOR EDX,EDX
0082fc67 : CMP dword ptr [EDX + 0x14],EAX
0082fc6a : JA 0x0082fc79
0082fc6c : TEST ECX,ECX
0082fc6e : JZ 0x0082fc74
0082fc70 : MOV EDX,dword ptr [ECX]
0082fc72 : JMP 0x0082fc76
0082fc74 : XOR EDX,EDX
0082fc76 : SUB EAX,dword ptr [EDX + 0x14]
0082fc79 : TEST ECX,ECX
0082fc7b : JZ 0x0082fc81
0082fc7d : MOV ECX,dword ptr [ECX]
0082fc7f : JMP 0x0082fc83
0082fc81 : XOR ECX,ECX
0082fc83 : MOV ECX,dword ptr [ECX + 0x10]
0082fc86 : MOV EDX,dword ptr [ECX + EAX*0x4]
0082fc89 : MOV dword ptr [ESI + 0xf0],EDX
0082fc8f : MOV dword ptr [ESI + 0xc8],0x0
0082fc99 : TEST EBX,EBX
0082fc9b : JZ 0x0082fcd8
0082fc9d : MOV EAX,dword ptr [EBX + 0x4]
0082fca0 : MOV ECX,EDX
0082fca2 : MOV EDX,dword ptr [ECX + 0x24]
0082fca5 : INC EAX
0082fca6 : MOV dword ptr [ECX + 0x20],EDX
0082fca9 : MOV dword ptr [ECX + 0x24],EAX
0082fcac : LEA ESP,[ESP]
0082fcb0 : MOV ECX,ESI
0082fcb2 : CALL 0x0082ec10
0082fcb7 : TEST EAX,EAX
0082fcb9 : JZ 0x0082fcd8
0082fcbb : MOV EAX,dword ptr [ESI + 0xf0]
0082fcc1 : MOV EAX,dword ptr [EAX + 0x24]
0082fcc4 : CMP EAX,dword ptr [EBX + 0x8]
0082fcc7 : JGE 0x0082fcd8
0082fcc9 : CMP dword ptr [ESI + 0xc4],0x0
0082fcd0 : JNZ 0x0082fcd8
0082fcd2 : CMP dword ptr [ESI + 0x74],0x0
0082fcd6 : JZ 0x0082fcb0
0082fcd8 : MOV dword ptr [ESI + 0xc8],0x0
0082fce2 : CMP dword ptr [EDI + 0x1c],0x0
0082fce6 : JZ 0x0082fd16
0082fce8 : MOV EAX,dword ptr [EDI + 0x18]
0082fceb : MOV ECX,dword ptr [EDI + 0x10]
0082fcee : MOV EAX,dword ptr [ECX + EAX*0x4]
0082fcf1 : PUSH EAX
0082fcf2 : CALL 0x0044c830
0082fcf7 : INC dword ptr [EDI + 0x18]
0082fcfa : MOV EAX,dword ptr [EDI + 0x18]
0082fcfd : CMP dword ptr [EDI + 0x14],EAX
0082fd00 : JA 0x0082fd09
0082fd02 : MOV dword ptr [EDI + 0x18],0x0
0082fd09 : ADD dword ptr [EDI + 0x1c],-0x1
0082fd0d : JNZ 0x0082fd16
0082fd0f : MOV dword ptr [EDI + 0x18],0x0
0082fd16 : CMP dword ptr [ESI + 0xec],0x0
0082fd1d : JNZ 0x0082fd2b
0082fd1f : MOV dword ptr [ESI + 0xf0],0x0
0082fd29 : JMP 0x0082fd62
0082fd2b : MOV EAX,dword ptr [EDI + 0x18]
0082fd2e : MOV EDI,dword ptr [EDI]
0082fd30 : TEST EDI,EDI
0082fd32 : JZ 0x0082fd38
0082fd34 : MOV ECX,dword ptr [EDI]
0082fd36 : JMP 0x0082fd3a
0082fd38 : XOR ECX,ECX
0082fd3a : CMP dword ptr [ECX + 0x14],EAX
0082fd3d : JA 0x0082fd4c
0082fd3f : TEST EDI,EDI
0082fd41 : JZ 0x0082fd47
0082fd43 : MOV ECX,dword ptr [EDI]
0082fd45 : JMP 0x0082fd49
0082fd47 : XOR ECX,ECX
0082fd49 : SUB EAX,dword ptr [ECX + 0x14]
0082fd4c : TEST EDI,EDI
0082fd4e : JZ 0x0082fd54
0082fd50 : MOV EDI,dword ptr [EDI]
0082fd52 : JMP 0x0082fd56
0082fd54 : XOR EDI,EDI
0082fd56 : MOV EDX,dword ptr [EDI + 0x10]
0082fd59 : MOV EAX,dword ptr [EDX + EAX*0x4]
0082fd5c : MOV dword ptr [ESI + 0xf0],EAX
0082fd62 : CMP dword ptr [ESI + 0xc4],0x0
0082fd69 : JNZ 0x0082fd75
0082fd6b : CMP dword ptr [ESI + 0x74],0x0
0082fd6f : JNZ 0x0082fd75
0082fd71 : XOR ESI,ESI
0082fd73 : JMP 0x0082fd7a
0082fd75 : MOV ESI,0x1
0082fd7a : MOV byte ptr [EBP + -0x4],0x0
0082fd7e : LEA ECX,[EBP + -0x48]
0082fd81 : PUSH ECX
0082fd82 : CALL 0x0044c830
0082fd87 : MOV dword ptr [EBP + -0x4],0xffffffff
0082fd8e : CMP dword ptr [EBP + 0x20],0x8
0082fd92 : JC 0x0082fd9c
0082fd94 : MOV ECX,dword ptr [EBP + 0xc]
0082fd97 : CALL 0x006f04e0
0082fd9c : XOR EDX,EDX
0082fd9e : MOV word ptr [EBP + 0xc],DX
0082fda2 : MOV EAX,ESI
0082fda4 : MOV dword ptr [EBP + 0x1c],0x0
0082fdab : MOV dword ptr [EBP + 0x20],0x7
0082fdb2 : MOV ECX,dword ptr [EBP + -0xc]
0082fdb5 : MOV dword ptr FS:[0x0],ECX
0082fdbc : POP ECX
0082fdbd : POP EDI
0082fdbe : POP ESI
0082fdbf : POP EBX
0082fdc0 : MOV ECX,dword ptr [EBP + -0x14]
0082fdc3 : XOR ECX,EBP
0082fdc5 : CALL 0x00633e6b
0082fdca : MOV ESP,EBP
0082fdcc : POP EBP
0082fdcd : RET 0x1c
