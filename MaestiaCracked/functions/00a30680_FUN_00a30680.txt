PROGRAM  : Maestia.exe
FUNCTION : FUN_00a30680
ENTRY    : 00a30680
BODY     : [[00a30680, 00a307d6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a30680(undefined4 param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  bool bVar1;
  short sVar2;
  int iVar3;
  int *piVar4;
  int in_ECX;
  
  bVar1 = false;
  if ((*(int *)(in_ECX + 0xac) != 0) && (*(int *)(*(int *)(in_ECX + 0xac) + 0x1f54) != 0)) {
    iVar3 = FUN_00ab6640(param_4);
    if (iVar3 != 0) {
      FUN_00a909b0(param_1,param_2);
      bVar1 = true;
    }
  }
  if ((*(int *)(in_ECX + 0xac) == 0) || (*(int *)(*(int *)(in_ECX + 0xac) + 4) != param_4)) {
    piVar4 = (int *)FUN_00a1a840(param_4);
    if (piVar4 == (int *)0x0) {
      piVar4 = (int *)FUN_00a1a6d0(param_4);
      if (piVar4 == (int *)0x0) {
        piVar4 = (int *)FUN_00a1a780(param_4);
        if (piVar4 == (int *)0x0) goto LAB_00a30785;
      }
    }
    sVar2 = (**(code **)(*piVar4 + 0x1e4))();
    if (sVar2 == 0) {
      (**(code **)(*piVar4 + 0x1c0))(param_1,param_2);
    }
  }
  else {
    FUN_00872100(param_2,param_3);
    piVar4 = DAT_00da9894;
    if ((*(int *)(*DAT_00da9894 + 0x140) != 0) &&
       (iVar3 = *(int *)(*(int *)(*DAT_00da9894 + 0x140) + 0x38), iVar3 != 0)) {
      *(undefined4 *)(iVar3 + 0x4ec) = param_2;
    }
    if ((*(int *)(*piVar4 + 0x140) != 0) && (*(int *)(*(int *)(*piVar4 + 0x140) + 0x38) != 0)) {
      FUN_009c0990(3);
    }
  }
LAB_00a30785:
  if ((*(int *)(*(int *)(*DAT_00da9894 + 0x16c) + 0x7c) == param_4) && (bVar1)) {
    FUN_009003c0(*(int *)(*DAT_00da9894 + 0x16c),param_1,param_2);
  }
  if (*(int *)(*(int *)(*DAT_00da9894 + 0x16c) + 0xe0) == param_4) {
    FUN_00900050(param_1,param_2);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a30680 : PUSH EBP
00a30681 : MOV EBP,ESP
00a30683 : PUSH ECX
00a30684 : PUSH EBX
00a30685 : MOV EBX,dword ptr [EBP + 0x14]
00a30688 : PUSH ESI
00a30689 : MOV ESI,ECX
00a3068b : MOV EAX,dword ptr [ESI + 0xac]
00a30691 : PUSH EDI
00a30692 : MOV byte ptr [EBP + -0x1],0x0
00a30696 : TEST EAX,EAX
00a30698 : JZ 0x00a306d6
00a3069a : CMP dword ptr [EAX + 0x1f54],0x0
00a306a1 : JZ 0x00a306d6
00a306a3 : MOV EAX,dword ptr [EAX + 0x1f54]
00a306a9 : PUSH EBX
00a306aa : MOV ECX,EAX
00a306ac : CALL 0x00ab6640
00a306b1 : TEST EAX,EAX
00a306b3 : JZ 0x00a306d6
00a306b5 : MOV EAX,dword ptr [EBP + 0xc]
00a306b8 : MOV ECX,dword ptr [EBP + 0x8]
00a306bb : MOV EDX,dword ptr [0x00da9894]
00a306c1 : PUSH EAX
00a306c2 : PUSH ECX
00a306c3 : MOV ECX,dword ptr [EDX]
00a306c5 : MOV EDI,dword ptr [ECX + 0x14c]
00a306cb : MOV EAX,EBX
00a306cd : CALL 0x00a909b0
00a306d2 : MOV byte ptr [EBP + -0x1],0x1
00a306d6 : MOV EDI,dword ptr [ESI + 0xac]
00a306dc : TEST EDI,EDI
00a306de : JZ 0x00a30736
00a306e0 : CMP dword ptr [EDI + 0x4],EBX
00a306e3 : JNZ 0x00a30736
00a306e5 : MOV EDX,dword ptr [EBP + 0x10]
00a306e8 : MOV EAX,dword ptr [EBP + 0xc]
00a306eb : MOV ESI,dword ptr [EBP + 0x8]
00a306ee : PUSH EDX
00a306ef : PUSH EAX
00a306f0 : CALL 0x00872100
00a306f5 : MOV ECX,dword ptr [0x00da9894]
00a306fb : MOV EDX,dword ptr [ECX]
00a306fd : MOV EAX,dword ptr [EDX + 0x140]
00a30703 : TEST EAX,EAX
00a30705 : JZ 0x00a30717
00a30707 : MOV EAX,dword ptr [EAX + 0x38]
00a3070a : TEST EAX,EAX
00a3070c : JZ 0x00a30717
00a3070e : MOV EDX,dword ptr [EBP + 0xc]
00a30711 : MOV dword ptr [EAX + 0x4ec],EDX
00a30717 : MOV EAX,dword ptr [ECX]
00a30719 : MOV EAX,dword ptr [EAX + 0x140]
00a3071f : TEST EAX,EAX
00a30721 : JZ 0x00a30785
00a30723 : MOV EAX,dword ptr [EAX + 0x38]
00a30726 : TEST EAX,EAX
00a30728 : JZ 0x00a30785
00a3072a : PUSH 0x3
00a3072c : LEA ECX,[EAX + 0x38]
00a3072f : CALL 0x009c0990
00a30734 : JMP 0x00a30785
00a30736 : PUSH EBX
00a30737 : MOV ECX,ESI
00a30739 : CALL 0x00a1a840
00a3073e : MOV EDI,EAX
00a30740 : TEST EDI,EDI
00a30742 : JNZ 0x00a30760
00a30744 : PUSH EBX
00a30745 : MOV ECX,ESI
00a30747 : CALL 0x00a1a6d0
00a3074c : MOV EDI,EAX
00a3074e : TEST EDI,EDI
00a30750 : JNZ 0x00a30760
00a30752 : PUSH EBX
00a30753 : MOV ECX,ESI
00a30755 : CALL 0x00a1a780
00a3075a : MOV EDI,EAX
00a3075c : TEST EDI,EDI
00a3075e : JZ 0x00a30785
00a30760 : MOV EDX,dword ptr [EDI]
00a30762 : MOV EAX,dword ptr [EDX + 0x1e4]
00a30768 : MOV ECX,EDI
00a3076a : CALL EAX
00a3076c : TEST AX,AX
00a3076f : JNZ 0x00a30785
00a30771 : MOV EAX,dword ptr [EBP + 0xc]
00a30774 : MOV ECX,dword ptr [EBP + 0x8]
00a30777 : MOV EDX,dword ptr [EDI]
00a30779 : MOV EDX,dword ptr [EDX + 0x1c0]
00a3077f : PUSH EAX
00a30780 : PUSH ECX
00a30781 : MOV ECX,EDI
00a30783 : CALL EDX
00a30785 : MOV EAX,[0x00da9894]
00a3078a : MOV ECX,dword ptr [EAX]
00a3078c : MOV EAX,dword ptr [ECX + 0x16c]
00a30792 : CMP dword ptr [EAX + 0x7c],EBX
00a30795 : JNZ 0x00a307ab
00a30797 : CMP byte ptr [EBP + -0x1],0x0
00a3079b : JZ 0x00a307ab
00a3079d : MOV EDX,dword ptr [EBP + 0xc]
00a307a0 : MOV ECX,dword ptr [EBP + 0x8]
00a307a3 : PUSH EDX
00a307a4 : PUSH ECX
00a307a5 : PUSH EAX
00a307a6 : CALL 0x009003c0
00a307ab : MOV EDX,dword ptr [0x00da9894]
00a307b1 : MOV EAX,dword ptr [EDX]
00a307b3 : MOV EAX,dword ptr [EAX + 0x16c]
00a307b9 : CMP dword ptr [EAX + 0xe0],EBX
00a307bf : POP EDI
00a307c0 : POP ESI
00a307c1 : POP EBX
00a307c2 : JNZ 0x00a307d1
00a307c4 : MOV ECX,dword ptr [EBP + 0xc]
00a307c7 : MOV EDX,dword ptr [EBP + 0x8]
00a307ca : PUSH ECX
00a307cb : PUSH EDX
00a307cc : CALL 0x00900050
00a307d1 : MOV ESP,EBP
00a307d3 : POP EBP
00a307d4 : RET 0x10
