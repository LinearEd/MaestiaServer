PROGRAM  : Maestia.exe
FUNCTION : FUN_00901220
ENTRY    : 00901220
BODY     : [[00901220, 00901534]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00901501) */

void FUN_00901220(void)

{
  uint uVar1;
  int in_ECX;
  int iVar2;
  int *piVar3;
  uint local_94;
  uint local_78;
  uint local_5c;
  uint local_40;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1ea18;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  FUN_00406360();
  local_8 = 0;
  piVar3 = *(int **)(in_ECX + 0x60);
  if (piVar3 != *(int **)(in_ECX + 100)) {
    do {
      iVar2 = *piVar3;
      if (iVar2 != 0) {
        if (*(char *)(iVar2 + 0x18) == '\0') {
          timeGetTime();
          iVar2 = *piVar3;
        }
        FUN_00405eb0(iVar2 + 0x1c,0,0xffffffff);
        local_8 = local_8 & 0xffffff00;
        FUN_008f75f0();
        local_8._0_1_ = 2;
        FUN_00404750();
        local_8._0_1_ = 3;
        FUN_00405c30();
        local_8 = CONCAT31(local_8._1_3_,2);
        if (7 < local_40) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_40 = 7;
        local_8 = (uint)local_8._1_3_ << 8;
        if (7 < local_78) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_78 = 7;
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(in_ECX + 100));
  }
  piVar3 = *(int **)(in_ECX + 0x70);
  if (piVar3 != *(int **)(in_ECX + 0x74)) {
    do {
      iVar2 = *piVar3;
      if (iVar2 != 0) {
        if (*(char *)(iVar2 + 0x18) == '\0') {
          timeGetTime();
          iVar2 = *piVar3;
        }
        FUN_00405eb0(iVar2 + 0x1c,0,0xffffffff);
        local_8 = local_8 & 0xffffff00;
        FUN_008f75f0();
        local_8._0_1_ = 5;
        FUN_00404750();
        local_8._0_1_ = 6;
        FUN_00405c30();
        local_8 = CONCAT31(local_8._1_3_,5);
        if (7 < local_5c) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_5c = 7;
        local_8 = (uint)local_8._1_3_ << 8;
        if (7 < local_94) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_94 = 7;
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(in_ECX + 0x74));
  }
  iVar2 = *DAT_00da9894;
  if ((iVar2 != 0) && (*(int *)(iVar2 + 0x114) != 0)) {
    (**(code **)(**(int **)(iVar2 + 0x114) + 4))();
  }
  local_8 = 0xffffffff;
  ExceptionList = local_10;
  __security_check_cookie(uVar1 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00901220 : PUSH EBP
00901221 : MOV EBP,ESP
00901223 : PUSH -0x1
00901225 : PUSH 0xb1ea18
0090122a : MOV EAX,FS:[0x0]
00901230 : PUSH EAX
00901231 : SUB ESP,0x9c
00901237 : MOV EAX,[0x00d66fa0]
0090123c : XOR EAX,EBP
0090123e : MOV dword ptr [EBP + -0x10],EAX
00901241 : PUSH EBX
00901242 : PUSH ESI
00901243 : PUSH EDI
00901244 : PUSH EAX
00901245 : LEA EAX,[EBP + -0xc]
00901248 : MOV FS:[0x0],EAX
0090124e : XOR EBX,EBX
00901250 : MOV ESI,ECX
00901252 : PUSH EBX
00901253 : XOR EAX,EAX
00901255 : PUSH 0xc6315c
0090125a : LEA ECX,[EBP + -0x2c]
0090125d : MOV dword ptr [EBP + -0x34],ESI
00901260 : MOV dword ptr [EBP + -0x14],0x7
00901267 : MOV dword ptr [EBP + -0x18],EBX
0090126a : MOV word ptr [EBP + -0x28],AX
0090126e : CALL 0x00406360
00901273 : MOV dword ptr [EBP + -0x4],EBX
00901276 : MOV EDI,dword ptr [ESI + 0x60]
00901279 : MOV EAX,dword ptr [ESI + 0x64]
0090127c : CMP EDI,EAX
0090127e : JZ 0x0090138f
00901284 : MOV ECX,dword ptr [EDI]
00901286 : CMP ECX,EBX
00901288 : JZ 0x00901383
0090128e : CMP byte ptr [ECX + 0x18],BL
00901291 : JNZ 0x009012b5
00901293 : CALL dword ptr [0x00b85598]
00901299 : MOV ECX,dword ptr [EDI]
0090129b : MOV EDX,EAX
0090129d : SUB EDX,dword ptr [ECX + 0x10]
009012a0 : MOV EAX,0x51eb851f
009012a5 : MUL EDX
009012a7 : MOV EAX,dword ptr [ECX + 0x8]
009012aa : SHR EDX,0x5
009012ad : CMP EAX,EDX
009012af : JBE 0x009012b5
009012b1 : SUB EAX,EDX
009012b3 : JMP 0x009012b7
009012b5 : XOR EAX,EAX
009012b7 : MOV ESI,0x8
009012bc : CMP dword ptr [ECX + 0x50],ESI
009012bf : JC 0x009012c6
009012c1 : MOV EDX,dword ptr [ECX + 0x3c]
009012c4 : JMP 0x009012c9
009012c6 : LEA EDX,[ECX + 0x3c]
009012c9 : PUSH EDX
009012ca : MOV EDX,dword ptr [ECX]
009012cc : PUSH EAX
009012cd : PUSH EAX
009012ce : PUSH EDX
009012cf : SUB ESP,0x1c
009012d2 : LEA EAX,[ECX + 0x1c]
009012d5 : MOV ECX,ESP
009012d7 : MOV dword ptr [EBP + -0x30],ESP
009012da : PUSH -0x1
009012dc : PUSH EBX
009012dd : XOR EDX,EDX
009012df : MOV dword ptr [ECX + 0x18],0x7
009012e6 : MOV dword ptr [ECX + 0x14],EBX
009012e9 : PUSH EAX
009012ea : MOV word ptr [ECX + 0x4],DX
009012ee : CALL 0x00405eb0
009012f3 : MOV byte ptr [EBP + -0x4],0x1
009012f7 : MOV byte ptr [EBP + -0x4],BL
009012fa : LEA ECX,[EBP + 0xffffff74]
00901300 : CALL 0x008f75f0
00901305 : ADD ESP,0x1c
00901308 : MOV byte ptr [EBP + -0x4],0x2
0090130c : CMP dword ptr [EAX + 0x18],ESI
0090130f : JC 0x00901316
00901311 : MOV EAX,dword ptr [EAX + 0x4]
00901314 : JMP 0x00901319
00901316 : ADD EAX,0x4
00901319 : PUSH EAX
0090131a : PUSH 0xc63160
0090131f : LEA ESI,[EBP + -0x54]
00901322 : CALL 0x00404750
00901327 : ADD ESP,0x18
0090132a : MOV byte ptr [EBP + -0x4],0x3
0090132e : PUSH -0x1
00901330 : PUSH EBX
00901331 : PUSH EAX
00901332 : LEA ECX,[EBP + -0x2c]
00901335 : CALL 0x00405c30
0090133a : MOV byte ptr [EBP + -0x4],0x2
0090133e : CMP dword ptr [EBP + -0x3c],0x8
00901342 : JC 0x0090134c
00901344 : MOV ECX,dword ptr [EBP + -0x50]
00901347 : CALL 0x006f04e0
0090134c : MOV ESI,0x7
00901351 : XOR EAX,EAX
00901353 : MOV dword ptr [EBP + -0x3c],ESI
00901356 : MOV dword ptr [EBP + -0x40],EBX
00901359 : MOV word ptr [EBP + -0x50],AX
0090135d : MOV byte ptr [EBP + -0x4],BL
00901360 : CMP dword ptr [EBP + -0x74],0x8
00901364 : JC 0x00901371
00901366 : MOV ECX,dword ptr [EBP + 0xffffff78]
0090136c : CALL 0x006f04e0
00901371 : XOR ECX,ECX
00901373 : MOV dword ptr [EBP + -0x74],ESI
00901376 : MOV ESI,dword ptr [EBP + -0x34]
00901379 : MOV dword ptr [EBP + -0x78],EBX
0090137c : MOV word ptr [EBP + 0xffffff78],CX
00901383 : ADD EDI,0x4
00901386 : CMP EDI,dword ptr [ESI + 0x64]
00901389 : JNZ 0x00901284
0090138f : MOV EDI,dword ptr [ESI + 0x70]
00901392 : MOV dword ptr [EBP + -0x30],EDI
00901395 : CMP EDI,dword ptr [ESI + 0x74]
00901398 : JZ 0x009014b8
0090139e : MOV EDI,EDI
009013a0 : MOV ECX,dword ptr [EDI]
009013a2 : CMP ECX,EBX
009013a4 : JZ 0x009014a9
009013aa : CMP byte ptr [ECX + 0x18],BL
009013ad : JNZ 0x009013d1
009013af : CALL dword ptr [0x00b85598]
009013b5 : MOV ECX,dword ptr [EDI]
009013b7 : MOV EDX,EAX
009013b9 : SUB EDX,dword ptr [ECX + 0x10]
009013bc : MOV EAX,0x51eb851f
009013c1 : MUL EDX
009013c3 : MOV EAX,dword ptr [ECX + 0x8]
009013c6 : SHR EDX,0x5
009013c9 : CMP EAX,EDX
009013cb : JBE 0x009013d1
009013cd : SUB EAX,EDX
009013cf : JMP 0x009013d3
009013d1 : XOR EAX,EAX
009013d3 : MOV EDI,0x8
009013d8 : CMP dword ptr [ECX + 0x50],EDI
009013db : JC 0x009013e2
009013dd : MOV EDX,dword ptr [ECX + 0x3c]
009013e0 : JMP 0x009013e5
009013e2 : LEA EDX,[ECX + 0x3c]
009013e5 : PUSH EDX
009013e6 : MOV EDX,dword ptr [ECX]
009013e8 : PUSH EAX
009013e9 : PUSH EAX
009013ea : PUSH EDX
009013eb : SUB ESP,0x1c
009013ee : LEA EAX,[ECX + 0x1c]
009013f1 : MOV ECX,ESP
009013f3 : MOV dword ptr [EBP + -0x38],ESP
009013f6 : PUSH -0x1
009013f8 : PUSH EBX
009013f9 : XOR EDX,EDX
009013fb : MOV dword ptr [ECX + 0x18],0x7
00901402 : MOV dword ptr [ECX + 0x14],EBX
00901405 : PUSH EAX
00901406 : MOV word ptr [ECX + 0x4],DX
0090140a : CALL 0x00405eb0
0090140f : MOV byte ptr [EBP + -0x4],0x4
00901413 : MOV byte ptr [EBP + -0x4],BL
00901416 : LEA ECX,[EBP + 0xffffff58]
0090141c : CALL 0x008f75f0
00901421 : ADD ESP,0x1c
00901424 : MOV byte ptr [EBP + -0x4],0x5
00901428 : CMP dword ptr [EAX + 0x18],EDI
0090142b : JC 0x00901432
0090142d : MOV EAX,dword ptr [EAX + 0x4]
00901430 : JMP 0x00901435
00901432 : ADD EAX,0x4
00901435 : PUSH EAX
00901436 : PUSH 0xc63180
0090143b : LEA ESI,[EBP + -0x70]
0090143e : CALL 0x00404750
00901443 : ADD ESP,0x18
00901446 : MOV byte ptr [EBP + -0x4],0x6
0090144a : PUSH -0x1
0090144c : PUSH EBX
0090144d : PUSH EAX
0090144e : LEA ECX,[EBP + -0x2c]
00901451 : CALL 0x00405c30
00901456 : MOV byte ptr [EBP + -0x4],0x5
0090145a : CMP dword ptr [EBP + -0x58],EDI
0090145d : JC 0x00901467
0090145f : MOV ECX,dword ptr [EBP + -0x6c]
00901462 : CALL 0x006f04e0
00901467 : MOV ESI,0x7
0090146c : XOR EAX,EAX
0090146e : MOV dword ptr [EBP + -0x58],ESI
00901471 : MOV dword ptr [EBP + -0x5c],EBX
00901474 : MOV word ptr [EBP + -0x6c],AX
00901478 : MOV byte ptr [EBP + -0x4],BL
0090147b : CMP dword ptr [EBP + 0xffffff70],EDI
00901481 : JC 0x0090148e
00901483 : MOV ECX,dword ptr [EBP + 0xffffff5c]
00901489 : CALL 0x006f04e0
0090148e : MOV EDI,dword ptr [EBP + -0x30]
00901491 : XOR ECX,ECX
00901493 : MOV dword ptr [EBP + 0xffffff70],ESI
00901499 : MOV ESI,dword ptr [EBP + -0x34]
0090149c : MOV dword ptr [EBP + 0xffffff6c],EBX
009014a2 : MOV word ptr [EBP + 0xffffff5c],CX
009014a9 : ADD EDI,0x4
009014ac : MOV dword ptr [EBP + -0x30],EDI
009014af : CMP EDI,dword ptr [ESI + 0x74]
009014b2 : JNZ 0x009013a0
009014b8 : MOV EDX,dword ptr [0x00da9894]
009014be : MOV EAX,dword ptr [EDX]
009014c0 : CMP EAX,EBX
009014c2 : JZ 0x009014f4
009014c4 : CMP dword ptr [EAX + 0x114],EBX
009014ca : JZ 0x009014f4
009014cc : CMP dword ptr [EBP + -0x14],0x8
009014d0 : MOV EAX,dword ptr [EAX + 0x114]
009014d6 : MOV ECX,dword ptr [EBP + -0x28]
009014d9 : JNC 0x009014de
009014db : LEA ECX,[EBP + -0x28]
009014de : MOV EDX,dword ptr [EAX]
009014e0 : PUSH ECX
009014e1 : PUSH 0xc631a0
009014e6 : PUSH 0xc631a4
009014eb : PUSH EAX
009014ec : MOV EAX,dword ptr [EDX + 0x4]
009014ef : CALL EAX
009014f1 : ADD ESP,0x10
009014f4 : MOV dword ptr [EBP + -0x4],0xffffffff
009014fb : CMP dword ptr [EBP + -0x14],0x8
009014ff : JC 0x00901509
00901501 : MOV ECX,dword ptr [EBP + -0x28]
00901504 : CALL 0x006f04e0
00901509 : XOR ECX,ECX
0090150b : MOV dword ptr [EBP + -0x14],0x7
00901512 : MOV dword ptr [EBP + -0x18],EBX
00901515 : MOV word ptr [EBP + -0x28],CX
00901519 : MOV ECX,dword ptr [EBP + -0xc]
0090151c : MOV dword ptr FS:[0x0],ECX
00901523 : POP ECX
00901524 : POP EDI
00901525 : POP ESI
00901526 : POP EBX
00901527 : MOV ECX,dword ptr [EBP + -0x10]
0090152a : XOR ECX,EBP
0090152c : CALL 0x00633e6b
00901531 : MOV ESP,EBP
00901533 : POP EBP
00901534 : RET
