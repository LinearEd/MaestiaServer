PROGRAM  : Maestia.exe
FUNCTION : FUN_005e6d00
ENTRY    : 005e6d00
BODY     : [[005e6d00, 005e6dbb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005e6d00(int param_1,undefined4 *param_2)

{
  int iVar1;
  int iVar2;
  GThread *this;
  
  iVar2 = *(int *)(param_1 + 0x314);
  if (iVar2 == 0) {
    iVar2 = param_1 + 0x28;
  }
  *(undefined1 *)(iVar2 + 0x15) = 0;
  if (*(int *)(iVar2 + 0x30) - *(int *)(iVar2 + 0x2c) < 2) {
    FUN_00539fb0(2);
  }
  iVar1 = *(int *)(iVar2 + 0x2c);
  this = (GThread *)
         (uint)CONCAT11(*(undefined1 *)(*(int *)(iVar2 + 0x3c) + 1 + iVar1),
                        *(undefined1 *)(*(int *)(iVar2 + 0x3c) + iVar1));
  *(int *)(iVar2 + 0x2c) = iVar1 + 2;
  GThread::OnExit(this);
  iVar2 = FUN_00515840(0x34,0);
  if (iVar2 == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_005b8fd0();
  }
  FUN_005b9070(param_1,*param_2);
  if (*(int *)(param_1 + 0x2e8) == 0) {
    FUN_00566b90(this,iVar2);
  }
  if (iVar2 != 0) {
    FUN_00524240();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005e6d00 : PUSH EBX
005e6d01 : PUSH ESI
005e6d02 : PUSH EDI
005e6d03 : MOV EDI,dword ptr [ESP + 0x10]
005e6d07 : MOV ESI,dword ptr [EDI + 0x314]
005e6d0d : TEST ESI,ESI
005e6d0f : JNZ 0x005e6d14
005e6d11 : LEA ESI,[EDI + 0x28]
005e6d14 : MOV EAX,dword ptr [ESI + 0x30]
005e6d17 : SUB EAX,dword ptr [ESI + 0x2c]
005e6d1a : MOV byte ptr [ESI + 0x15],0x0
005e6d1e : CMP EAX,0x2
005e6d21 : JGE 0x005e6d2c
005e6d23 : PUSH 0x2
005e6d25 : MOV ECX,ESI
005e6d27 : CALL 0x00539fb0
005e6d2c : MOV EAX,dword ptr [ESI + 0x2c]
005e6d2f : MOV ECX,dword ptr [ESI + 0x3c]
005e6d32 : MOVZX DX,byte ptr [ECX + EAX*0x1 + 0x1]
005e6d38 : ADD ECX,EAX
005e6d3a : MOVZX CX,byte ptr [ECX]
005e6d3e : SHL DX,0x8
005e6d42 : OR DX,CX
005e6d45 : MOVZX ECX,DX
005e6d48 : ADD EAX,0x2
005e6d4b : MOV dword ptr [ESI + 0x2c],EAX
005e6d4e : MOVZX ESI,CX
005e6d51 : PUSH ESI
005e6d52 : LEA EDX,[EDI + 0x14]
005e6d55 : PUSH 0xb94058
005e6d5a : PUSH EDX
005e6d5b : CALL 0x0051d420
005e6d60 : MOV EAX,dword ptr [EDI + 0x20]
005e6d63 : MOV EAX,dword ptr [EAX + 0x1c]
005e6d66 : ADD ESP,0xc
005e6d69 : PUSH 0x0
005e6d6b : PUSH 0x34
005e6d6d : MOV ECX,EAX
005e6d6f : CALL 0x00515840
005e6d74 : TEST EAX,EAX
005e6d76 : JZ 0x005e6d83
005e6d78 : MOV ECX,EAX
005e6d7a : CALL 0x005b8fd0
005e6d7f : MOV EBX,EAX
005e6d81 : JMP 0x005e6d85
005e6d83 : XOR EBX,EBX
005e6d85 : MOV EAX,dword ptr [ESP + 0x14]
005e6d89 : MOV ECX,dword ptr [EAX]
005e6d8b : PUSH ECX
005e6d8c : PUSH EDI
005e6d8d : MOV ECX,EBX
005e6d8f : CALL 0x005b9070
005e6d94 : CMP dword ptr [EDI + 0x2e8],0x0
005e6d9b : JNZ 0x005e6dab
005e6d9d : PUSH EBX
005e6d9e : PUSH ECX
005e6d9f : MOV EAX,ESP
005e6da1 : MOV dword ptr [EAX],ESI
005e6da3 : MOV ECX,dword ptr [EDI + 0x20]
005e6da6 : CALL 0x00566b90
005e6dab : TEST EBX,EBX
005e6dad : JZ 0x005e6db6
005e6daf : MOV ECX,EBX
005e6db1 : CALL 0x00524240
005e6db6 : POP EDI
005e6db7 : POP ESI
005e6db8 : POP EBX
005e6db9 : RET 0x8
