PROGRAM  : Maestia.exe
FUNCTION : FUN_0051fd30
ENTRY    : 0051fd30
BODY     : [[0051fd30, 00520578]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0051fd30(int param_1,undefined1 *param_2,char param_3)

{
  GRefCountNTSImpl *pGVar1;
  uint uVar2;
  int iVar3;
  GRefCountNTSImpl *this;
  int *piVar4;
  char cVar5;
  GRefCountNTSImpl *in_ECX;
  GRefCountNTSImpl *pGVar6;
  char *pcVar7;
  float10 fVar8;
  int iStack_228;
  int iStack_224;
  undefined4 uStack_220;
  char *pcStack_21c;
  uint uStack_218;
  int iStack_214;
  int iStack_210;
  int iStack_20c;
  undefined4 uStack_208;
  undefined4 uStack_204;
  undefined4 uStack_200;
  int iStack_1fc;
  undefined4 uStack_1f8;
  int iStack_1f4;
  undefined4 uStack_1f0;
  undefined4 uStack_1ec;
  GPoint<float> aGStack_1e8 [4];
  float fStack_1e4;
  float afStack_1e0 [2];
  undefined1 *puStack_1d8;
  undefined4 uStack_1d4;
  float fStack_1ac;
  undefined1 auStack_1a8 [4];
  float fStack_1a4;
  float fStack_1a0;
  float afStack_198 [4];
  GMatrix2D aGStack_188 [24];
  GMatrix2D aGStack_170 [364];
  
  if ((param_3 != '\0') && ((param_1 < 0 || (0x15 < param_1)))) {
    (**(code **)(*(int *)in_ECX + 0x58))("Invalid GetProperty query, property number %d\n",param_1);
    FUN_0052e440();
    return 0;
  }
  if (param_1 == -1) {
    return 0;
  }
  if (0x1f < param_1) {
    return 0;
  }
  uVar2 = (**(code **)(*(int *)in_ECX + 0xf8))();
  if ((1 << ((byte)param_1 & 0x1f) & uVar2) == 0) {
    return 0;
  }
  switch(param_1) {
  case 0:
    FUN_0050a2e0();
    piVar4 = (int *)FUN_0051d750();
    fVar8 = (float10)*piVar4 / (float10)20.0;
    break;
  case 1:
    FUN_0050a2e0();
    iVar3 = FUN_0051d750();
    FUN_004ffd60((double)*(int *)(iVar3 + 4) / 20.0);
    return 1;
  case 2:
    FUN_0050a2e0();
    iVar3 = FUN_0051d750();
    FUN_004ffd60(*(undefined8 *)(iVar3 + 8));
    return 1;
  case 3:
    FUN_0050a2e0();
    iVar3 = FUN_0051d750();
    FUN_004ffd60(*(undefined8 *)(iVar3 + 0x10));
    return 1;
  default:
    return 0;
  case 6:
    fVar8 = (float10)*(float *)(in_ECX + 0x3c) * (float10)100.0;
    break;
  case 7:
    (**(code **)(*(int *)in_ECX + 8))();
    FUN_004ffd80();
    return 1;
  case 8:
    (**(code **)(*(int *)in_ECX + 0x28))(afStack_198,in_ECX + 0x44);
    fVar8 = (float10)FUN_0063bc90((double)(afStack_198[0] - fStack_1a0));
    FUN_004ffd60((double)(fVar8 / (float10)20.0));
    return 1;
  case 9:
    (**(code **)(*(int *)in_ECX + 0x28))(auStack_1a8,in_ECX + 0x44);
    fVar8 = (float10)FUN_0063bc90((double)(fStack_1a4 - fStack_1ac));
    FUN_004ffd60((double)(fVar8 / (float10)20.0));
    return 1;
  case 10:
    FUN_0050a2e0();
    iVar3 = FUN_0051d750();
    FUN_004ffd60(*(undefined8 *)(iVar3 + 0x18));
    return 1;
  case 0xb:
    FUN_0051b3b0();
    this = (GRefCountNTSImpl *)(**(code **)(*(int *)in_ECX + 0x54))();
    pGVar6 = in_ECX;
    if (this != (GRefCountNTSImpl *)0x0) {
      *(int *)(this + 4) = *(int *)(this + 4) + 1;
    }
    do {
      if (pGVar6 == this) break;
      iVar3 = *(int *)(pGVar6 + 0x80);
      if ((iVar3 == 0) && (iVar3 = FUN_00520df0(), iVar3 == 0)) {
        iVar3 = (**(code **)(*(int *)pGVar6 + 0x58))();
        iVar3 = *(int *)(iVar3 + 0x78);
      }
      FUN_0051b620(**(undefined4 **)(iVar3 + 8),0,0xffffffff);
      FUN_0051b620(&DAT_00b8ab7c,0,0xffffffff);
      pGVar1 = pGVar6 + 0x20;
      pGVar6 = *(GRefCountNTSImpl **)pGVar1;
    } while (*(GRefCountNTSImpl **)pGVar1 != (GRefCountNTSImpl *)0x0);
    (**(code **)(*(int *)in_ECX + 0x58))();
    iVar3 = FUN_00525450();
    *(int *)(iVar3 + 8) = *(int *)(iVar3 + 8) + 1;
    iStack_224 = iVar3;
    FUN_004ffd40(&iStack_224);
    piVar4 = (int *)(iVar3 + 8);
    *piVar4 = *piVar4 + -1;
    if (*piVar4 == 0) {
      FUN_00525340();
    }
    if (this != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(this);
    }
    FUN_0051b3d0();
    return 1;
  case 0xd:
    if ((*(int *)(in_ECX + 0x80) == 0) && (iVar3 = FUN_00520df0(), iVar3 == 0)) {
      (**(code **)(*(int *)in_ECX + 0x58))();
    }
    FUN_004ffd40();
    return 1;
  case 0xe:
    FUN_00526400();
    *param_2 = 0;
    (**(code **)(*(int *)in_ECX + 0x58))();
    iVar3 = FUN_005296a0();
    uStack_220 = *(undefined4 *)(iVar3 + 0x95c);
    uStack_1f0 = *(undefined4 *)(iVar3 + 0x958);
    uStack_1ec = uStack_220;
    piVar4 = (int *)FUN_0056cfd0();
    FUN_0051b3b0();
    for (; piVar4 != (int *)0x0; piVar4 = (int *)piVar4[8]) {
      if ((piVar4[0x20] == 0) && (iVar3 = FUN_00520df0(), iVar3 == 0)) {
        (**(code **)(*piVar4 + 0x58))();
      }
      FUN_0051b620();
      FUN_0051b620();
    }
    if (puStack_1d8 == (undefined1 *)0x0) {
      puStack_1d8 = &DAT_00cca874;
    }
    (**(code **)(*(int *)in_ECX + 0x58))();
    iVar3 = FUN_00525450(puStack_1d8,uStack_1d4);
    *(int *)(iVar3 + 8) = *(int *)(iVar3 + 8) + 1;
    pcStack_21c = (char *)iVar3;
    FUN_004ffd40();
    piVar4 = (int *)(iVar3 + 8);
    *piVar4 = *piVar4 + -1;
    if (*piVar4 == 0) {
      FUN_00525340();
    }
    FUN_0051b3d0();
    return 1;
  case 0xf:
    iVar3 = 0;
    iStack_20c = 0;
    uStack_208 = 0;
    uStack_204 = 0;
    piVar4 = (int *)(**(code **)(*(int *)in_ECX + 0x48))();
    pcStack_21c = (char *)(**(code **)(*piVar4 + 0x30))();
    if (pcStack_21c != (char *)0x0) {
      pcVar7 = pcStack_21c;
      do {
        cVar5 = *pcVar7;
        pcVar7 = pcVar7 + 1;
      } while (cVar5 != '\0');
      iVar3 = (int)pcVar7 - (int)(pcStack_21c + 1);
    }
    FUN_0058fd10();
    if (iVar3 != 0) {
      pcVar7 = pcStack_21c;
      iStack_228 = iVar3;
      do {
        cVar5 = *pcVar7;
        if (cVar5 == '\\') {
          cVar5 = '/';
        }
        pcVar7[iStack_20c - (int)pcStack_21c] = cVar5;
        pcVar7 = pcVar7 + 1;
        iStack_228 = iStack_228 + -1;
      } while (iStack_228 != 0);
    }
    *(undefined1 *)(iStack_20c + iVar3) = 0;
    FUN_0051b6e0();
    FUN_00529450();
    (**(code **)(*(int *)in_ECX + 0x58))();
    iVar3 = FUN_00525450((uStack_218 & 0xfffffffc) + 8,
                         *(uint *)(uStack_218 & 0xfffffffc) & 0x7fffffff);
    *(int *)(iVar3 + 8) = *(int *)(iVar3 + 8) + 1;
    iStack_214 = iVar3;
    FUN_004ffd40();
    piVar4 = (int *)(iVar3 + 8);
    *piVar4 = *piVar4 + -1;
    if (*piVar4 == 0) {
      FUN_00525340();
    }
    FUN_0045b730();
    FUN_00515cf0();
    return 1;
  case 0x10:
    FUN_004ffd80();
    return 1;
  case 0x11:
    if ((*(uint *)(in_ECX + 0x8c) & 0x180) == 0) {
      FUN_00526400();
      *param_2 = 1;
      return 1;
    }
    FUN_004ffd80();
    return 1;
  case 0x12:
    fVar8 = (float10)0;
    break;
  case 0x13:
    (**(code **)(*(int *)in_ECX + 0x58))();
    iVar3 = FUN_00525530();
    *(int *)(iVar3 + 8) = *(int *)(iVar3 + 8) + 1;
    iStack_224 = iVar3;
    FUN_004ffd40();
    piVar4 = (int *)(iVar3 + 8);
    *piVar4 = *piVar4 + -1;
    if (*piVar4 == 0) {
      FUN_00525340();
      return 1;
    }
    return 1;
  case 0x14:
    iVar3 = (**(code **)(*(int *)in_ECX + 0x40))();
    iStack_224 = *(int *)(iVar3 + 0x95c);
    uStack_200 = *(undefined4 *)(iVar3 + 0x958);
    iStack_1fc = iStack_224;
    FUN_0050aa60();
    GMatrix2D::TransformByInverse
              (aGStack_188,(GPoint<float> *)afStack_1e0,(GPoint<float> *)&uStack_200);
    fStack_1e4 = afStack_1e0[0];
    goto LAB_0052049a;
  case 0x15:
    iVar3 = (**(code **)(*(int *)in_ECX + 0x40))();
    iStack_224 = *(int *)(iVar3 + 0x95c);
    uStack_1f8 = *(undefined4 *)(iVar3 + 0x958);
    iStack_1f4 = iStack_224;
    FUN_0050aa60();
    GMatrix2D::TransformByInverse(aGStack_170,aGStack_1e8,(GPoint<float> *)&uStack_1f8);
LAB_0052049a:
    fVar8 = (float10)FUN_0063bc90((double)(fStack_1e4 + 0.5));
    fVar8 = fVar8 / (float10)20.0;
    break;
  case 0x16:
    if (*(int *)(in_ECX + 0x20) != 0) {
      FUN_00526c80();
      return 1;
    }
    goto LAB_00520181;
  case 0x17:
    (**(code **)(*(int *)in_ECX + 0xc))();
    (**(code **)(*(int *)in_ECX + 0x58))();
    iVar3 = FUN_00525530();
    *(int *)(iVar3 + 8) = *(int *)(iVar3 + 8) + 1;
    iStack_210 = iVar3;
    FUN_004ffd40();
    piVar4 = (int *)(iVar3 + 8);
    *piVar4 = *piVar4 + -1;
    if (*piVar4 == 0) {
      FUN_00525340();
      return 1;
    }
    return 1;
  case 0x1a:
    FUN_004ffd80();
    return 1;
  case 0x1b:
    FUN_004ffd80();
    return 1;
  case 0x1d:
    if ((*(uint *)(in_ECX + 0x8c) & 0x60) != 0) {
      FUN_004ffd80();
      return 1;
    }
LAB_00520181:
    FUN_00526400();
    *param_2 = 0;
    return 1;
  case 0x1e:
    iStack_224 = (int)*(short *)(in_ECX + 0x90);
    fVar8 = (float10)iStack_224;
    break;
  case 0x1f:
    if ((*(uint *)(in_ECX + 0x8c) & 0x600) == 0) {
      return 0;
    }
    FUN_004ffd80();
    return 1;
  }
  FUN_004ffd60((double)fVar8);
  return 1;
}



============================================================
DISASSEMBLY
============================================================
0051fd30 : PUSH EBP
0051fd31 : MOV EBP,ESP
0051fd33 : AND ESP,0xffffffc0
0051fd36 : SUB ESP,0x1f4
0051fd3c : CMP byte ptr [EBP + 0x10],0x0
0051fd40 : PUSH EBX
0051fd41 : PUSH ESI
0051fd42 : PUSH EDI
0051fd43 : MOV EDI,dword ptr [EBP + 0x8]
0051fd46 : MOV ESI,ECX
0051fd48 : JZ 0x0051fd74
0051fd4a : TEST EDI,EDI
0051fd4c : JL 0x0051fd53
0051fd4e : CMP EDI,0x15
0051fd51 : JLE 0x0051fd74
0051fd53 : MOV EAX,dword ptr [ESI]
0051fd55 : MOV EDX,dword ptr [EAX + 0x58]
0051fd58 : PUSH EDI
0051fd59 : PUSH 0xb8ab80
0051fd5e : CALL EDX
0051fd60 : PUSH EAX
0051fd61 : CALL 0x0052e440
0051fd66 : ADD ESP,0xc
0051fd69 : XOR AL,AL
0051fd6b : POP EDI
0051fd6c : POP ESI
0051fd6d : POP EBX
0051fd6e : MOV ESP,EBP
0051fd70 : POP EBP
0051fd71 : RET 0xc
0051fd74 : CMP EDI,-0x1
0051fd77 : JZ 0x0051fd69
0051fd79 : CMP EDI,0x1f
0051fd7c : JG 0x0051fd69
0051fd7e : MOV EAX,dword ptr [ESI]
0051fd80 : MOV EDX,dword ptr [EAX + 0xf8]
0051fd86 : CALL EDX
0051fd88 : MOV EBX,0x1
0051fd8d : MOV EDX,EBX
0051fd8f : MOV ECX,EDI
0051fd91 : SHL EDX,CL
0051fd93 : TEST EDX,EAX
0051fd95 : JZ 0x0051fd69
0051fd97 : CMP EDI,0x1f
0051fd9a : JA 0x0051fd69
0051fd9c : JMP dword ptr [EDI*0x4 + 0x52057c]
0051fda3 : LEA ECX,[ESP + 0x190]
0051fdaa : CALL 0x0050a2e0
0051fdaf : LEA EAX,[ESP + 0x190]
0051fdb6 : PUSH EAX
0051fdb7 : MOV ECX,ESI
0051fdb9 : CALL 0x0051d750
0051fdbe : FILD dword ptr [EAX]
0051fdc0 : FDIV double ptr [0x00b86058]
0051fdc6 : SUB ESP,0x8
0051fdc9 : MOV ECX,dword ptr [EBP + 0xc]
0051fdcc : FSTP double ptr [ESP]
0051fdcf : CALL 0x004ffd60
0051fdd4 : MOV AL,BL
0051fdd6 : POP EDI
0051fdd7 : POP ESI
0051fdd8 : POP EBX
0051fdd9 : MOV ESP,EBP
0051fddb : POP EBP
0051fddc : RET 0xc
0051fddf : LEA ECX,[ESP + 0xe8]
0051fde6 : CALL 0x0050a2e0
0051fdeb : LEA ECX,[ESP + 0xe8]
0051fdf2 : PUSH ECX
0051fdf3 : MOV ECX,ESI
0051fdf5 : CALL 0x0051d750
0051fdfa : FILD dword ptr [EAX + 0x4]
0051fdfd : MOV ECX,dword ptr [EBP + 0xc]
0051fe00 : SUB ESP,0x8
0051fe03 : FDIV double ptr [0x00b86058]
0051fe09 : FSTP double ptr [ESP]
0051fe0c : CALL 0x004ffd60
0051fe11 : MOV AL,BL
0051fe13 : POP EDI
0051fe14 : POP ESI
0051fe15 : POP EBX
0051fe16 : MOV ESP,EBP
0051fe18 : POP EBP
0051fe19 : RET 0xc
0051fe1c : LEA ECX,[ESP + 0x120]
0051fe23 : CALL 0x0050a2e0
0051fe28 : LEA EDX,[ESP + 0x120]
0051fe2f : PUSH EDX
0051fe30 : MOV ECX,ESI
0051fe32 : CALL 0x0051d750
0051fe37 : FLD double ptr [EAX + 0x8]
0051fe3a : MOV ECX,dword ptr [EBP + 0xc]
0051fe3d : SUB ESP,0x8
0051fe40 : FSTP double ptr [ESP]
0051fe43 : CALL 0x004ffd60
0051fe48 : MOV AL,BL
0051fe4a : POP EDI
0051fe4b : POP ESI
0051fe4c : POP EBX
0051fe4d : MOV ESP,EBP
0051fe4f : POP EBP
0051fe50 : RET 0xc
0051fe53 : LEA ECX,[ESP + 0x158]
0051fe5a : CALL 0x0050a2e0
0051fe5f : LEA EAX,[ESP + 0x158]
0051fe66 : PUSH EAX
0051fe67 : MOV ECX,ESI
0051fe69 : CALL 0x0051d750
0051fe6e : FLD double ptr [EAX + 0x10]
0051fe71 : MOV ECX,dword ptr [EBP + 0xc]
0051fe74 : SUB ESP,0x8
0051fe77 : FSTP double ptr [ESP]
0051fe7a : CALL 0x004ffd60
0051fe7f : MOV AL,BL
0051fe81 : POP EDI
0051fe82 : POP ESI
0051fe83 : POP EBX
0051fe84 : MOV ESP,EBP
0051fe86 : POP EBP
0051fe87 : RET 0xc
0051fe8a : MOV EDX,dword ptr [ESI]
0051fe8c : MOV EDX,dword ptr [EDX + 0x28]
0051fe8f : LEA EAX,[ESI + 0x44]
0051fe92 : PUSH EAX
0051fe93 : LEA ECX,[ESP + 0xac]
0051fe9a : PUSH ECX
0051fe9b : MOV ECX,ESI
0051fe9d : CALL EDX
0051fe9f : FLD float ptr [ESP + 0xb0]
0051fea6 : FSUB float ptr [ESP + 0xa8]
0051fead : SUB ESP,0x8
0051feb0 : FSTP float ptr [ESP + 0x20]
0051feb4 : FLD float ptr [ESP + 0x20]
0051feb8 : FSTP double ptr [ESP]
0051febb : CALL 0x0063bc90
0051fec0 : FDIV double ptr [0x00b86058]
0051fec6 : MOV ECX,dword ptr [EBP + 0xc]
0051fec9 : FSTP double ptr [ESP]
0051fecc : CALL 0x004ffd60
0051fed1 : MOV AL,BL
0051fed3 : POP EDI
0051fed4 : POP ESI
0051fed5 : POP EBX
0051fed6 : MOV ESP,EBP
0051fed8 : POP EBP
0051fed9 : RET 0xc
0051fedc : MOV EAX,dword ptr [ESI]
0051fede : MOV EAX,dword ptr [EAX + 0x28]
0051fee1 : LEA ECX,[ESI + 0x44]
0051fee4 : PUSH ECX
0051fee5 : LEA EDX,[ESP + 0x9c]
0051feec : PUSH EDX
0051feed : MOV ECX,ESI
0051feef : CALL EAX
0051fef1 : FLD float ptr [ESP + 0xa4]
0051fef8 : FSUB float ptr [ESP + 0x9c]
0051feff : SUB ESP,0x8
0051ff02 : FSTP float ptr [ESP + 0x20]
0051ff06 : FLD float ptr [ESP + 0x20]
0051ff0a : FSTP double ptr [ESP]
0051ff0d : CALL 0x0063bc90
0051ff12 : FDIV double ptr [0x00b86058]
0051ff18 : MOV ECX,dword ptr [EBP + 0xc]
0051ff1b : FSTP double ptr [ESP]
0051ff1e : CALL 0x004ffd60
0051ff23 : MOV AL,BL
0051ff25 : POP EDI
0051ff26 : POP ESI
0051ff27 : POP EBX
0051ff28 : MOV ESP,EBP
0051ff2a : POP EBP
0051ff2b : RET 0xc
0051ff2e : LEA ECX,[ESP + 0x1c8]
0051ff35 : CALL 0x0050a2e0
0051ff3a : LEA ECX,[ESP + 0x1c8]
0051ff41 : PUSH ECX
0051ff42 : MOV ECX,ESI
0051ff44 : CALL 0x0051d750
0051ff49 : FLD double ptr [EAX + 0x18]
0051ff4c : MOV ECX,dword ptr [EBP + 0xc]
0051ff4f : SUB ESP,0x8
0051ff52 : FSTP double ptr [ESP]
0051ff55 : CALL 0x004ffd60
0051ff5a : MOV AL,BL
0051ff5c : POP EDI
0051ff5d : POP ESI
0051ff5e : POP EBX
0051ff5f : MOV ESP,EBP
0051ff61 : POP EBP
0051ff62 : RET 0xc
0051ff65 : FLD float ptr [ESI + 0x3c]
0051ff68 : FMUL double ptr [0x00cdf2a8]
0051ff6e : JMP 0x0051fdc6
0051ff73 : MOV EDX,dword ptr [ESI]
0051ff75 : MOV EAX,dword ptr [EDX + 0x8]
0051ff78 : MOV ECX,ESI
0051ff7a : CALL EAX
0051ff7c : MOVZX ECX,AL
0051ff7f : PUSH ECX
0051ff80 : MOV ECX,dword ptr [EBP + 0xc]
0051ff83 : CALL 0x004ffd80
0051ff88 : MOV AL,BL
0051ff8a : POP EDI
0051ff8b : POP ESI
0051ff8c : POP EBX
0051ff8d : MOV ESP,EBP
0051ff8f : POP EBP
0051ff90 : RET 0xc
0051ff93 : MOV EDX,dword ptr [ESI]
0051ff95 : MOV EAX,dword ptr [EDX + 0xc]
0051ff98 : MOV ECX,ESI
0051ff9a : CALL EAX
0051ff9c : MOV EDX,dword ptr [ESI]
0051ff9e : MOV EDI,dword ptr [EAX*0x4 + 0xd6565c]
0051ffa5 : MOV EAX,dword ptr [EDX + 0x58]
0051ffa8 : MOV ECX,ESI
0051ffaa : CALL EAX
0051ffac : MOV EAX,dword ptr [EAX + 0x78]
0051ffaf : PUSH EDI
0051ffb0 : LEA ECX,[EAX + 0x254]
0051ffb6 : CALL 0x00525530
0051ffbb : LEA ECX,[ESP + 0x30]
0051ffbf : MOV ESI,EAX
0051ffc1 : ADD dword ptr [ESI + 0x8],EBX
0051ffc4 : PUSH ECX
0051ffc5 : MOV ECX,dword ptr [EBP + 0xc]
0051ffc8 : MOV dword ptr [ESP + 0x34],ESI
0051ffcc : CALL 0x004ffd40
0051ffd1 : ADD dword ptr [ESI + 0x8],-0x1
0051ffd5 : JNZ 0x0051fdd4
0051ffdb : MOV ECX,ESI
0051ffdd : CALL 0x00525340
0051ffe2 : MOV AL,BL
0051ffe4 : POP EDI
0051ffe5 : POP ESI
0051ffe6 : POP EBX
0051ffe7 : MOV ESP,EBP
0051ffe9 : POP EBP
0051ffea : RET 0xc
0051ffed : MOV EAX,dword ptr [ESI + 0x80]
0051fff3 : TEST EAX,EAX
0051fff5 : JNZ 0x0052000e
0051fff7 : MOV ECX,ESI
0051fff9 : CALL 0x00520df0
0051fffe : TEST EAX,EAX
00520000 : JNZ 0x0052000e
00520002 : MOV EDX,dword ptr [ESI]
00520004 : MOV EAX,dword ptr [EDX + 0x58]
00520007 : MOV ECX,ESI
00520009 : CALL EAX
0052000b : MOV EAX,dword ptr [EAX + 0x78]
0052000e : MOV ECX,dword ptr [EBP + 0xc]
00520011 : ADD EAX,0x8
00520014 : PUSH EAX
00520015 : CALL 0x004ffd40
0052001a : MOV AL,BL
0052001c : POP EDI
0052001d : POP ESI
0052001e : POP EBX
0052001f : MOV ESP,EBP
00520021 : POP EBP
00520022 : RET 0xc
00520025 : MOV ECX,dword ptr [ESI + 0x8c]
0052002b : SHR ECX,0x4
0052002e : AND CL,BL
00520030 : MOVZX EDX,CL
00520033 : MOV ECX,dword ptr [EBP + 0xc]
00520036 : PUSH EDX
00520037 : CALL 0x004ffd80
0052003c : MOV AL,BL
0052003e : POP EDI
0052003f : POP ESI
00520040 : POP EBX
00520041 : MOV ESP,EBP
00520043 : POP EBP
00520044 : RET 0xc
00520047 : MOV EAX,dword ptr [ESI + 0x8c]
0052004d : SHR EAX,0xd
00520050 : AND AL,0x1
00520052 : MOVZX ECX,AL
00520055 : PUSH ECX
00520056 : MOV ECX,dword ptr [EBP + 0xc]
00520059 : CALL 0x004ffd80
0052005e : MOV AL,BL
00520060 : POP EDI
00520061 : POP ESI
00520062 : POP EBX
00520063 : MOV ESP,EBP
00520065 : POP EBP
00520066 : RET 0xc
00520069 : MOV EDX,dword ptr [0x00d73250]
0052006f : PUSH EDX
00520070 : LEA ECX,[ESP + 0x84]
00520077 : CALL 0x0051b3b0
0052007c : MOV EAX,dword ptr [ESI]
0052007e : MOV EDX,dword ptr [EAX + 0x54]
00520081 : PUSH 0x0
00520083 : MOV ECX,ESI
00520085 : CALL EDX
00520087 : MOV dword ptr [ESP + 0x18],EAX
0052008b : TEST EAX,EAX
0052008d : JZ 0x00520092
0052008f : ADD dword ptr [EAX + 0x4],EBX
00520092 : MOV EDI,ESI
00520094 : MOV EBX,EAX
00520096 : CMP EDI,EBX
00520098 : JZ 0x005200ef
0052009a : MOV EAX,dword ptr [EDI + 0x80]
005200a0 : TEST EAX,EAX
005200a2 : JNZ 0x005200bb
005200a4 : MOV ECX,EDI
005200a6 : CALL 0x00520df0
005200ab : TEST EAX,EAX
005200ad : JNZ 0x005200bb
005200af : MOV EAX,dword ptr [EDI]
005200b1 : MOV EDX,dword ptr [EAX + 0x58]
005200b4 : MOV ECX,EDI
005200b6 : CALL EDX
005200b8 : MOV EAX,dword ptr [EAX + 0x78]
005200bb : ADD EAX,0x8
005200be : MOV EAX,dword ptr [EAX]
005200c0 : MOV ECX,dword ptr [EAX]
005200c2 : PUSH -0x1
005200c4 : PUSH 0x0
005200c6 : PUSH ECX
005200c7 : LEA ECX,[ESP + 0x8c]
005200ce : CALL 0x0051b620
005200d3 : PUSH -0x1
005200d5 : PUSH 0x0
005200d7 : PUSH 0xb8ab7c
005200dc : LEA ECX,[ESP + 0x8c]
005200e3 : CALL 0x0051b620
005200e8 : MOV EDI,dword ptr [EDI + 0x20]
005200eb : TEST EDI,EDI
005200ed : JNZ 0x00520096
005200ef : MOV EDI,dword ptr [ESP + 0x80]
005200f6 : MOV EBX,dword ptr [ESP + 0x84]
005200fd : TEST EDI,EDI
005200ff : JNZ 0x00520106
00520101 : MOV EDI,0xcca874
00520106 : MOV EDX,dword ptr [ESI]
00520108 : MOV EAX,dword ptr [EDX + 0x58]
0052010b : MOV ECX,ESI
0052010d : CALL EAX
0052010f : MOV EAX,dword ptr [EAX + 0x78]
00520112 : PUSH EBX
00520113 : PUSH EDI
00520114 : LEA ECX,[EAX + 0x254]
0052011a : CALL 0x00525450
0052011f : LEA ECX,[ESP + 0x20]
00520123 : MOV ESI,EAX
00520125 : INC dword ptr [ESI + 0x8]
00520128 : PUSH ECX
00520129 : MOV ECX,dword ptr [EBP + 0xc]
0052012c : MOV dword ptr [ESP + 0x24],ESI
00520130 : CALL 0x004ffd40
00520135 : ADD dword ptr [ESI + 0x8],-0x1
00520139 : JNZ 0x00520142
0052013b : MOV ECX,ESI
0052013d : CALL 0x00525340
00520142 : MOV ECX,dword ptr [ESP + 0x18]
00520146 : TEST ECX,ECX
00520148 : JZ 0x0052014f
0052014a : CALL 0x004ff7c0
0052014f : LEA ECX,[ESP + 0x80]
00520156 : CALL 0x0051b3d0
0052015b : MOV AL,0x1
0052015d : POP EDI
0052015e : POP ESI
0052015f : POP EBX
00520160 : MOV ESP,EBP
00520162 : POP EBP
00520163 : RET 0xc
00520166 : MOV ESI,dword ptr [ESI + 0x20]
00520169 : TEST ESI,ESI
0052016b : JZ 0x00520181
0052016d : MOV ECX,dword ptr [EBP + 0xc]
00520170 : PUSH ESI
00520171 : CALL 0x00526c80
00520176 : MOV AL,BL
00520178 : POP EDI
00520179 : POP ESI
0052017a : POP EBX
0052017b : MOV ESP,EBP
0052017d : POP EBP
0052017e : RET 0xc
00520181 : MOV ESI,dword ptr [EBP + 0xc]
00520184 : MOV ECX,ESI
00520186 : CALL 0x00526400
0052018b : MOV byte ptr [ESI],0x0
0052018e : MOV AL,BL
00520190 : POP EDI
00520191 : POP ESI
00520192 : POP EBX
00520193 : MOV ESP,EBP
00520195 : POP EBP
00520196 : RET 0xc
00520199 : MOV EDI,dword ptr [EBP + 0xc]
0052019c : MOV ECX,EDI
0052019e : CALL 0x00526400
005201a3 : MOV byte ptr [EDI],0x0
005201a6 : MOV EDX,dword ptr [ESI]
005201a8 : MOV EAX,dword ptr [EDX + 0x58]
005201ab : MOV ECX,ESI
005201ad : CALL EAX
005201af : MOV ECX,EAX
005201b1 : CALL 0x005296a0
005201b6 : FLD float ptr [EAX + 0x95c]
005201bc : FSTP float ptr [ESP + 0x20]
005201c0 : PUSH ESI
005201c1 : FLD float ptr [EAX + 0x958]
005201c7 : PUSH EBX
005201c8 : FSTP float ptr [ESP + 0x58]
005201cc : LEA ECX,[ESP + 0x58]
005201d0 : FLD float ptr [ESP + 0x28]
005201d4 : PUSH ECX
005201d5 : MOV ECX,EAX
005201d7 : FSTP float ptr [ESP + 0x60]
005201db : CALL 0x0056cfd0
005201e0 : MOV EDX,dword ptr [0x00d73250]
005201e6 : PUSH EDX
005201e7 : LEA ECX,[ESP + 0x6c]
005201eb : MOV EDI,EAX
005201ed : CALL 0x0051b3b0
005201f2 : TEST EDI,EDI
005201f4 : JZ 0x00520245
005201f6 : MOV EAX,dword ptr [EDI + 0x80]
005201fc : TEST EAX,EAX
005201fe : JNZ 0x00520217
00520200 : MOV ECX,EDI
00520202 : CALL 0x00520df0
00520207 : TEST EAX,EAX
00520209 : JNZ 0x00520217
0052020b : MOV EAX,dword ptr [EDI]
0052020d : MOV EDX,dword ptr [EAX + 0x58]
00520210 : MOV ECX,EDI
00520212 : CALL EDX
00520214 : MOV EAX,dword ptr [EAX + 0x78]
00520217 : ADD EAX,0x8
0052021a : MOV EAX,dword ptr [EAX]
0052021c : MOV ECX,dword ptr [EAX]
0052021e : PUSH -0x1
00520220 : PUSH 0x0
00520222 : PUSH ECX
00520223 : LEA ECX,[ESP + 0x74]
00520227 : CALL 0x0051b620
0052022c : PUSH -0x1
0052022e : PUSH 0x0
00520230 : PUSH 0xb8ab7c
00520235 : LEA ECX,[ESP + 0x74]
00520239 : CALL 0x0051b620
0052023e : MOV EDI,dword ptr [EDI + 0x20]
00520241 : TEST EDI,EDI
00520243 : JNZ 0x005201f6
00520245 : MOV EDI,dword ptr [ESP + 0x68]
00520249 : MOV EBX,dword ptr [ESP + 0x6c]
0052024d : TEST EDI,EDI
0052024f : JNZ 0x00520256
00520251 : MOV EDI,0xcca874
00520256 : MOV EDX,dword ptr [ESI]
00520258 : MOV EAX,dword ptr [EDX + 0x58]
0052025b : MOV ECX,ESI
0052025d : CALL EAX
0052025f : MOV EAX,dword ptr [EAX + 0x78]
00520262 : PUSH EBX
00520263 : PUSH EDI
00520264 : LEA ECX,[EAX + 0x254]
0052026a : CALL 0x00525450
0052026f : LEA ECX,[ESP + 0x24]
00520273 : MOV ESI,EAX
00520275 : INC dword ptr [ESI + 0x8]
00520278 : PUSH ECX
00520279 : MOV ECX,dword ptr [EBP + 0xc]
0052027c : MOV dword ptr [ESP + 0x28],ESI
00520280 : CALL 0x004ffd40
00520285 : ADD dword ptr [ESI + 0x8],-0x1
00520289 : JNZ 0x00520292
0052028b : MOV ECX,ESI
0052028d : CALL 0x00525340
00520292 : LEA ECX,[ESP + 0x68]
00520296 : CALL 0x0051b3d0
0052029b : MOV AL,0x1
0052029d : POP EDI
0052029e : POP ESI
0052029f : POP EBX
005202a0 : MOV ESP,EBP
005202a2 : POP EBP
005202a3 : RET 0xc
005202a6 : MOV EDX,dword ptr [ESI]
005202a8 : MOV EAX,dword ptr [EDX + 0x48]
005202ab : XOR EDI,EDI
005202ad : MOV ECX,ESI
005202af : MOV dword ptr [ESP + 0x34],EDI
005202b3 : MOV dword ptr [ESP + 0x38],EDI
005202b7 : MOV dword ptr [ESP + 0x3c],EDI
005202bb : CALL EAX
005202bd : MOV EDX,dword ptr [EAX]
005202bf : MOV ECX,EAX
005202c1 : MOV EAX,dword ptr [EDX + 0x30]
005202c4 : CALL EAX
005202c6 : MOV dword ptr [ESP + 0x24],EAX
005202ca : CMP EAX,EDI
005202cc : JZ 0x005202dc
005202ce : MOV EDI,EAX
005202d0 : LEA ECX,[EDI + 0x1]
005202d3 : MOV AL,byte ptr [EDI]
005202d5 : INC EDI
005202d6 : TEST AL,AL
005202d8 : JNZ 0x005202d3
005202da : SUB EDI,ECX
005202dc : LEA ECX,[EDI + 0x1]
005202df : PUSH ECX
005202e0 : LEA ECX,[ESP + 0x38]
005202e4 : CALL 0x0058fd10
005202e9 : MOV EBX,dword ptr [ESP + 0x34]
005202ed : TEST EDI,EDI
005202ef : JBE 0x00520314
005202f1 : MOV EAX,dword ptr [ESP + 0x24]
005202f5 : MOV EDX,EBX
005202f7 : SUB EDX,EAX
005202f9 : MOV dword ptr [ESP + 0x18],EDI
005202fd : LEA ECX,[ECX]
00520300 : MOV CL,byte ptr [EAX]
00520302 : CMP CL,0x5c
00520305 : JNZ 0x00520309
00520307 : MOV CL,0x2f
00520309 : MOV byte ptr [EDX + EAX*0x1],CL
0052030c : INC EAX
0052030d : SUB dword ptr [ESP + 0x18],0x1
00520312 : JNZ 0x00520300
00520314 : LEA ECX,[ESP + 0x28]
00520318 : MOV byte ptr [EBX + EDI*0x1],0x0
0052031c : CALL 0x0051b6e0
00520321 : LEA EDX,[ESP + 0x28]
00520325 : PUSH EDX
00520326 : PUSH EDI
00520327 : PUSH EBX
00520328 : CALL 0x00529450
0052032d : MOV EAX,dword ptr [ESI]
0052032f : MOV EDX,dword ptr [EAX + 0x58]
00520332 : ADD ESP,0xc
00520335 : MOV ECX,ESI
00520337 : CALL EDX
00520339 : MOV EDX,dword ptr [EAX + 0x78]
0052033c : MOV EAX,dword ptr [ESP + 0x28]
00520340 : MOV ECX,EAX
00520342 : AND ECX,0xfffffffc
00520345 : MOV ECX,dword ptr [ECX]
00520347 : AND ECX,0x7fffffff
0052034d : AND EAX,0xfffffffc
00520350 : PUSH ECX
00520351 : ADD EAX,0x8
00520354 : PUSH EAX
00520355 : LEA ECX,[EDX + 0x254]
0052035b : CALL 0x00525450
00520360 : MOV ECX,dword ptr [EBP + 0xc]
00520363 : MOV ESI,EAX
00520365 : INC dword ptr [ESI + 0x8]
00520368 : LEA EDX,[ESP + 0x2c]
0052036c : PUSH EDX
0052036d : MOV dword ptr [ESP + 0x30],ESI
00520371 : CALL 0x004ffd40
00520376 : ADD dword ptr [ESI + 0x8],-0x1
0052037a : JNZ 0x00520383
0052037c : MOV ECX,ESI
0052037e : CALL 0x00525340
00520383 : LEA ECX,[ESP + 0x28]
00520387 : CALL 0x0045b730
0052038c : PUSH EBX
0052038d : CALL 0x00515cf0
00520392 : MOV AL,0x1
00520394 : POP EDI
00520395 : POP ESI
00520396 : POP EBX
00520397 : MOV ESP,EBP
00520399 : POP EBP
0052039a : RET 0xc
0052039d : MOV ECX,dword ptr [EBP + 0xc]
005203a0 : PUSH EBX
005203a1 : CALL 0x004ffd80
005203a6 : MOV AL,BL
005203a8 : POP EDI
005203a9 : POP ESI
005203aa : POP EBX
005203ab : MOV ESP,EBP
005203ad : POP EBP
005203ae : RET 0xc
005203b1 : MOV EAX,dword ptr [ESI]
005203b3 : MOV EDX,dword ptr [EAX + 0x58]
005203b6 : MOV ECX,ESI
005203b8 : CALL EDX
005203ba : MOV EAX,dword ptr [EAX + 0x78]
005203bd : PUSH 0xb8ab74
005203c2 : LEA ECX,[EAX + 0x254]
005203c8 : CALL 0x00525530
005203cd : MOV ECX,dword ptr [EBP + 0xc]
005203d0 : MOV ESI,EAX
005203d2 : ADD dword ptr [ESI + 0x8],EBX
005203d5 : LEA EAX,[ESP + 0x1c]
005203d9 : PUSH EAX
005203da : MOV dword ptr [ESP + 0x20],ESI
005203de : CALL 0x004ffd40
005203e3 : ADD dword ptr [ESI + 0x8],-0x1
005203e7 : JNZ 0x0051fdd4
005203ed : MOV ECX,ESI
005203ef : CALL 0x00525340
005203f4 : MOV AL,BL
005203f6 : POP EDI
005203f7 : POP ESI
005203f8 : POP EBX
005203f9 : MOV ESP,EBP
005203fb : POP EBP
005203fc : RET 0xc
005203ff : MOV ESI,dword ptr [ESI + 0x8c]
00520405 : AND ESI,0x180
0052040b : JZ 0x0052042d
0052040d : CMP ESI,0x180
00520413 : SETZ CL
00520416 : MOVZX EDX,CL
00520419 : MOV ECX,dword ptr [EBP + 0xc]
0052041c : PUSH EDX
0052041d : CALL 0x004ffd80
00520422 : MOV AL,BL
00520424 : POP EDI
00520425 : POP ESI
00520426 : POP EBX
00520427 : MOV ESP,EBP
00520429 : POP EBP
0052042a : RET 0xc
0052042d : MOV ESI,dword ptr [EBP + 0xc]
00520430 : MOV ECX,ESI
00520432 : CALL 0x00526400
00520437 : MOV byte ptr [ESI],BL
00520439 : MOV AL,BL
0052043b : POP EDI
0052043c : POP ESI
0052043d : POP EBX
0052043e : MOV ESP,EBP
00520440 : POP EBP
00520441 : RET 0xc
00520444 : FLDZ
00520446 : JMP 0x0051fdc6
0052044b : MOV EAX,dword ptr [ESI]
0052044d : MOV EDX,dword ptr [EAX + 0x40]
00520450 : MOV ECX,ESI
00520452 : CALL EDX
00520454 : FLD float ptr [EAX + 0x95c]
0052045a : ADD EAX,0x958
0052045f : FSTP float ptr [ESP + 0x1c]
00520463 : FLD float ptr [EAX]
00520465 : LEA EAX,[ESP + 0xb8]
0052046c : FSTP float ptr [ESP + 0x40]
00520470 : PUSH EAX
00520471 : FLD float ptr [ESP + 0x20]
00520475 : MOV ECX,ESI
00520477 : FSTP float ptr [ESP + 0x48]
0052047b : CALL 0x0050aa60
00520480 : LEA ECX,[ESP + 0x40]
00520484 : PUSH ECX
00520485 : LEA EDX,[ESP + 0x64]
00520489 : PUSH EDX
0052048a : LEA ECX,[ESP + 0xc0]
00520491 : CALL 0x00522fa0
00520496 : FLD float ptr [ESP + 0x60]
0052049a : FADD double ptr [0x00cdf120]
005204a0 : SUB ESP,0x8
005204a3 : FSTP double ptr [ESP]
005204a6 : CALL 0x0063bc90
005204ab : FDIV double ptr [0x00b86058]
005204b1 : JMP 0x0051fdc9
005204b6 : MOV EAX,dword ptr [ESI]
005204b8 : MOV EDX,dword ptr [EAX + 0x40]
005204bb : MOV ECX,ESI
005204bd : CALL EDX
005204bf : FLD float ptr [EAX + 0x95c]
005204c5 : ADD EAX,0x958
005204ca : FSTP float ptr [ESP + 0x1c]
005204ce : FLD float ptr [EAX]
005204d0 : LEA EAX,[ESP + 0xd0]
005204d7 : FSTP float ptr [ESP + 0x48]
005204db : PUSH EAX
005204dc : FLD float ptr [ESP + 0x20]
005204e0 : MOV ECX,ESI
005204e2 : FSTP float ptr [ESP + 0x50]
005204e6 : CALL 0x0050aa60
005204eb : LEA ECX,[ESP + 0x48]
005204ef : PUSH ECX
005204f0 : LEA EDX,[ESP + 0x5c]
005204f4 : PUSH EDX
005204f5 : LEA ECX,[ESP + 0xd8]
005204fc : CALL 0x00522fa0
00520501 : FLD float ptr [ESP + 0x5c]
00520505 : JMP 0x0052049a
00520507 : MOV ESI,dword ptr [ESI + 0x8c]
0052050d : AND ESI,0x60
00520510 : JZ 0x00520181
00520516 : CMP ESI,0x60
00520519 : SETZ AL
0052051c : MOVZX ECX,AL
0052051f : PUSH ECX
00520520 : MOV ECX,dword ptr [EBP + 0xc]
00520523 : CALL 0x004ffd80
00520528 : MOV AL,BL
0052052a : POP EDI
0052052b : POP ESI
0052052c : POP EBX
0052052d : MOV ESP,EBP
0052052f : POP EBP
00520530 : RET 0xc
00520533 : MOVSX EDX,word ptr [ESI + 0x90]
0052053a : MOV dword ptr [ESP + 0x1c],EDX
0052053e : FILD dword ptr [ESP + 0x1c]
00520542 : JMP 0x0051fdc6
00520547 : MOV ESI,dword ptr [ESI + 0x8c]
0052054d : AND ESI,0x600
00520553 : JZ 0x0051fd69
00520559 : CMP ESI,0x600
0052055f : SETZ AL
00520562 : MOVZX ECX,AL
00520565 : PUSH ECX
00520566 : MOV ECX,dword ptr [EBP + 0xc]
00520569 : CALL 0x004ffd80
0052056e : POP EDI
0052056f : POP ESI
00520570 : MOV AL,BL
00520572 : POP EBX
00520573 : MOV ESP,EBP
00520575 : POP EBP
00520576 : RET 0xc
