PROGRAM  : Maestia.exe
FUNCTION : FUN_00500140
ENTRY    : 00500140
BODY     : [[00500140, 00500189]]

============================================================
DECOMPILED C CODE
============================================================

undefined2 FUN_00500140(void)

{
  undefined2 uVar1;
  int in_ECX;
  int iVar2;
  
  iVar2 = *(int *)(in_ECX + 0x314);
  if (iVar2 == 0) {
    iVar2 = in_ECX + 0x28;
  }
  *(undefined1 *)(iVar2 + 0x15) = 0;
  if (*(int *)(iVar2 + 0x30) - *(int *)(iVar2 + 0x2c) < 2) {
    FUN_00539fb0(2);
  }
  uVar1 = *(undefined2 *)(*(int *)(iVar2 + 0x3c) + *(int *)(iVar2 + 0x2c));
  *(int *)(iVar2 + 0x2c) = *(int *)(iVar2 + 0x2c) + 2;
  return uVar1;
}



============================================================
DISASSEMBLY
============================================================
00500140 : PUSH ESI
00500141 : MOV ESI,dword ptr [ECX + 0x314]
00500147 : TEST ESI,ESI
00500149 : JNZ 0x0050014e
0050014b : LEA ESI,[ECX + 0x28]
0050014e : MOV EAX,dword ptr [ESI + 0x30]
00500151 : SUB EAX,dword ptr [ESI + 0x2c]
00500154 : MOV byte ptr [ESI + 0x15],0x0
00500158 : CMP EAX,0x2
0050015b : JGE 0x00500166
0050015d : PUSH 0x2
0050015f : MOV ECX,ESI
00500161 : CALL 0x00539fb0
00500166 : MOV ECX,dword ptr [ESI + 0x2c]
00500169 : MOV EDX,dword ptr [ESI + 0x3c]
0050016c : LEA EAX,[EDX + ECX*0x1]
0050016f : MOVZX DX,byte ptr [EAX + 0x1]
00500174 : MOVZX AX,byte ptr [EAX]
00500178 : SHL DX,0x8
0050017c : ADD ECX,0x2
0050017f : OR DX,AX
00500182 : MOV dword ptr [ESI + 0x2c],ECX
00500185 : MOVZX EAX,DX
00500188 : POP ESI
00500189 : RET
