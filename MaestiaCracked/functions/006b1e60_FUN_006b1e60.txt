PROGRAM  : Maestia.exe
FUNCTION : FUN_006b1e60
ENTRY    : 006b1e60
BODY     : [[006b1e60, 006b1ef4]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006b1e60(int param_1,int param_2,int param_3,int *param_4)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  int local_4;
  
  iVar1 = *(int *)(param_1 + 0x1e8);
  if (iVar1 != 0) {
    local_4 = 0;
    if (0 < *(int *)(iVar1 + 0x20)) {
      param_1 = 0;
      do {
        piVar3 = (int *)(*(int *)(iVar1 + 0x1c) + param_1);
        if (*piVar3 == param_3) {
          if (param_2 < piVar3[1]) {
            *param_4 = piVar3[2];
          }
          else {
            if (piVar3[3] < param_2) {
              iVar2 = piVar3[4];
            }
            else {
              iVar2 = FUN_00685d60(param_2 - piVar3[1],piVar3[4] - piVar3[2],piVar3[3] - piVar3[1]);
              iVar2 = iVar2 + piVar3[2];
            }
            *param_4 = iVar2;
          }
        }
        param_1 = param_1 + 0x14;
        local_4 = local_4 + 1;
      } while (local_4 < *(int *)(iVar1 + 0x20));
    }
    return 0;
  }
  return 6;
}



============================================================
DISASSEMBLY
============================================================
006b1e60 : PUSH ECX
006b1e61 : MOV EAX,dword ptr [ESP + 0x8]
006b1e65 : PUSH EDI
006b1e66 : MOV EDI,dword ptr [EAX + 0x1e8]
006b1e6c : XOR EAX,EAX
006b1e6e : CMP EDI,EAX
006b1e70 : JNZ 0x006b1e7a
006b1e72 : MOV EAX,0x6
006b1e77 : POP EDI
006b1e78 : POP ECX
006b1e79 : RET
006b1e7a : CMP dword ptr [EDI + 0x20],EAX
006b1e7d : MOV dword ptr [ESP + 0x4],EAX
006b1e81 : JLE 0x006b1ef0
006b1e83 : PUSH EBX
006b1e84 : MOV EBX,dword ptr [ESP + 0x14]
006b1e88 : PUSH EBP
006b1e89 : MOV EBP,dword ptr [ESP + 0x20]
006b1e8d : PUSH ESI
006b1e8e : MOV dword ptr [ESP + 0x18],EAX
006b1e92 : MOV ESI,dword ptr [EDI + 0x1c]
006b1e95 : ADD ESI,dword ptr [ESP + 0x18]
006b1e99 : MOV ECX,dword ptr [ESP + 0x20]
006b1e9d : CMP dword ptr [ESI],ECX
006b1e9f : JNZ 0x006b1eda
006b1ea1 : CMP EBX,dword ptr [ESI + 0x4]
006b1ea4 : JGE 0x006b1eae
006b1ea6 : MOV EDX,dword ptr [ESI + 0x8]
006b1ea9 : MOV dword ptr [EBP],EDX
006b1eac : JMP 0x006b1eda
006b1eae : MOV EAX,dword ptr [ESI + 0xc]
006b1eb1 : CMP EBX,EAX
006b1eb3 : JLE 0x006b1eba
006b1eb5 : MOV EAX,dword ptr [ESI + 0x10]
006b1eb8 : JMP 0x006b1ed7
006b1eba : MOV ECX,dword ptr [ESI + 0x4]
006b1ebd : MOV EDX,dword ptr [ESI + 0x10]
006b1ec0 : SUB EDX,dword ptr [ESI + 0x8]
006b1ec3 : SUB EAX,ECX
006b1ec5 : PUSH EAX
006b1ec6 : MOV EAX,EBX
006b1ec8 : PUSH EDX
006b1ec9 : SUB EAX,ECX
006b1ecb : PUSH EAX
006b1ecc : CALL 0x00685d60
006b1ed1 : ADD ESP,0xc
006b1ed4 : ADD EAX,dword ptr [ESI + 0x8]
006b1ed7 : MOV dword ptr [EBP],EAX
006b1eda : MOV EAX,dword ptr [ESP + 0x10]
006b1ede : ADD dword ptr [ESP + 0x18],0x14
006b1ee3 : INC EAX
006b1ee4 : CMP EAX,dword ptr [EDI + 0x20]
006b1ee7 : MOV dword ptr [ESP + 0x10],EAX
006b1eeb : JL 0x006b1e92
006b1eed : POP ESI
006b1eee : POP EBP
006b1eef : POP EBX
006b1ef0 : XOR EAX,EAX
006b1ef2 : POP EDI
006b1ef3 : POP ECX
006b1ef4 : RET
