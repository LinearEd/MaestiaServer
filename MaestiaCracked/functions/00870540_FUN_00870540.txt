PROGRAM  : Maestia.exe
FUNCTION : FUN_00870540
ENTRY    : 00870540
BODY     : [[00870540, 00870b77]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00870540(void)

{
  int iVar1;
  char cVar2;
  uint uVar3;
  DWORD DVar4;
  int *piVar5;
  int iVar6;
  int *in_ECX;
  undefined4 uVar7;
  float unaff_EDI;
  float fVar8;
  double dVar9;
  undefined4 *puVar10;
  float local_144 [6];
  float local_12c;
  float local_128;
  int iStack_124;
  undefined4 uStack_120;
  undefined4 uStack_11c;
  undefined4 uStack_118;
  undefined1 uStack_111;
  undefined4 uStack_110;
  float fStack_10c;
  undefined4 uStack_108;
  undefined4 uStack_104;
  int local_100;
  int local_fc;
  int local_f8;
  undefined4 uStack_f4;
  float fStack_f0;
  undefined4 uStack_e8;
  undefined4 uStack_e4;
  undefined4 uStack_e0;
  undefined **appuStack_dc [38];
  void *pvStack_44;
  void *local_1c;
  undefined1 *puStack_18;
  undefined4 uStack_14;
  
  uStack_14 = 0xffffffff;
  puStack_18 = &LAB_00b49082;
  local_1c = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffeb0;
  ExceptionList = &local_1c;
  local_128 = (float)in_ECX[0x11f];
  DVar4 = timeGetTime();
  in_ECX[0x11f] = DVar4;
  if (in_ECX[0x62a] != 0) {
    if (*(char *)(in_ECX[0x62a] + 0x20) == '\0') {
      puVar10 = &DAT_00d720f0;
    }
    else {
      cVar2 = FUN_00876040(uVar3);
      if (cVar2 == '\0') {
        if (*(char *)(in_ECX[0x62a] + 0xec) == '\0') {
          if (*(int *)(in_ECX[0x62a] + 0x30) == 0) goto LAB_00870781;
          local_100 = in_ECX[0x560];
          local_fc = in_ECX[0x561];
          local_f8 = in_ECX[0x562];
          D3DXVec3Normalize(&local_100,&local_100);
          uStack_120 = 0;
          uStack_11c = 0xbf800000;
          uStack_118 = 0;
          iVar6 = FUN_007d5b60(appuStack_dc);
          uStack_110 = *(undefined4 *)(iVar6 + 0x20);
          uStack_108 = *(undefined4 *)(iVar6 + 0x28);
          uStack_14 = 0xffffffff;
          fStack_10c = *(float *)(iVar6 + 0x24) + DAT_00d72c20;
          uStack_e8 = 0;
          uStack_e4 = 0;
          uStack_e0 = 0;
          uStack_104 = 0;
          appuStack_dc[0] = &PTR_FUN_00cd083c;
          fStack_f0 = 0.0;
          iVar6 = FUN_007e9d70(*(undefined4 *)(DAT_00da93ec + 0xc),&uStack_120,&uStack_f4,&uStack_e8
                               ,&uStack_104);
          local_144[0] = 0.0;
          local_144[1] = 0.0;
          local_144[2] = 0.0;
          FUN_007e3cb0(*(undefined4 *)(in_ECX[0xfa] + 0x68),*(undefined4 *)(in_ECX[0xfa] + 0x70),
                       local_144 + 5,&uStack_111,local_144);
          if ((iVar6 == 0) || (fStack_f0 <= local_144[5])) {
            D3DXVec3Normalize(local_144,local_144);
            puVar10 = &uStack_f4;
            FUN_00855280(local_144);
          }
          else {
            puVar10 = &DAT_00d720f0;
          }
        }
        else {
          puVar10 = &DAT_00d720f0;
        }
      }
      else {
        puVar10 = &DAT_00d720f0;
      }
    }
    FUN_00856310(puVar10);
  }
LAB_00870781:
  local_144[3] = 0.0;
  local_144[4] = 0.0;
  if (in_ECX[0xfa] != 0) {
    local_144[0] = 0.0;
    local_144[1] = 0.0;
    local_144[2] = -1.0;
    FUN_0043d620(local_144);
    local_144[5] = local_144[0];
    local_144[3] = local_144[0];
    local_12c = local_144[2];
    local_144[4] = local_144[2];
    D3DXVec2Normalize(local_144 + 3,local_144 + 3);
  }
  local_144[5] = (float)in_ECX[0x11e] * local_144[3] - (float)in_ECX[0x11d] * local_144[4];
  fVar8 = (float)in_ECX[0x11e] * local_144[4] + (float)in_ECX[0x11d] * local_144[3];
  if (-1.0 < fVar8) {
    if (fVar8 < 1.0) {
      dVar9 = (double)fVar8;
      FUN_00b0abbf();
      fVar8 = (float)dVar9;
    }
    else {
      fVar8 = 0.0;
    }
  }
  else {
    fVar8 = 3.1415927;
  }
  in_ECX[0x123] = (int)fVar8;
  if (0.0 < local_144[5]) {
    in_ECX[0x123] = in_ECX[0x123] ^ 0x80000000;
  }
  uStack_120 = 0;
  uStack_11c = 0x3f800000;
  uStack_118 = 0;
  FUN_007cc610(in_ECX[0x123]);
  if (in_ECX[0xfa] != 0) {
    local_144[0] = 0.0;
    local_144[1] = 0.0;
    local_144[2] = -1.0;
    FUN_0043d620(local_144);
    local_144[5] = local_144[0];
    local_144[3] = local_144[0];
    local_12c = local_144[2];
    local_144[4] = local_144[2];
    D3DXVec2Normalize(local_144 + 3,local_144 + 3);
  }
  FUN_007cc680();
  in_ECX[0x123] = 0;
  in_ECX[0x124] = 0;
  if ((float)in_ECX[0x11c] <= 1e-05) {
    in_ECX[0x11c] = in_ECX[0x11b];
  }
  fVar8 = (float)(in_ECX[0x11f] - (int)local_128);
  if (in_ECX[0x11f] - (int)local_128 < 0) {
    fVar8 = fVar8 + 4.2949673e+09;
  }
  local_128 = fVar8 * (float)in_ECX[0x11c];
  if (local_128 < (float)in_ECX[0x7a7]) {
    iVar6 = in_ECX[0xfa];
    uStack_11c = *(undefined4 *)(iVar6 + 0x6c);
    uStack_118 = *(undefined4 *)(iVar6 + 0x70);
    uStack_120 = *(undefined4 *)(iVar6 + 0x68);
    FUN_0085f410(in_ECX,local_128,in_ECX + 0x11d);
    (**(code **)(*in_ECX + 0x188))(7,0,0,0,0,0x3f800000);
    (**(code **)(*in_ECX + 0x19c))(7);
    (**(code **)(*in_ECX + 0x254))(1,in_ECX + 1,0);
    in_ECX[0x7a7] = (int)((float)in_ECX[0x7a7] - unaff_EDI);
    ExceptionList = pvStack_44;
    return 0;
  }
  iVar6 = in_ECX[0x167];
  iStack_124 = in_ECX[0x16d];
  if (in_ECX[0x16e] != 0) {
    local_128 = (float)iVar6;
    if (((*DAT_00da9894 != 0) && (iVar1 = *(int *)(*DAT_00da9894 + 300), iVar1 != 0)) &&
       (*(int *)(iVar1 + 0x18) != 0)) {
      if (iVar1 == 0) {
        uVar7 = 0;
      }
      else {
        uVar7 = *(undefined4 *)(iVar1 + 0x18);
      }
      FUN_009809e0(uVar7);
    }
    if ((iVar6 != in_ECX[0x167]) || (iStack_124 != in_ECX[0x16e] + in_ECX[0x16d])) {
      piVar5 = (int *)FUN_004c9510();
      in_ECX[0x806] = *piVar5;
      in_ECX[0x807] = piVar5[1];
      in_ECX[0x808] = piVar5[2];
      (**(code **)(*in_ECX + 0x38))();
      if (in_ECX[0x16e] != 0) {
        in_ECX[0x16d] = in_ECX[0x16d] + 1;
        if ((uint)in_ECX[0x16c] <= (uint)in_ECX[0x16d]) {
          in_ECX[0x16d] = 0;
        }
        iVar6 = in_ECX[0x16e] + -1;
        in_ECX[0x16e] = iVar6;
        if (iVar6 == 0) {
          in_ECX[0x16d] = 0;
        }
      }
      ExceptionList = local_1c;
      return 0;
    }
    (**(code **)(*in_ECX + 0x2a0))(in_ECX + 0x806,1);
  }
  ExceptionList = local_1c;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
00870540 : PUSH EBP
00870541 : MOV EBP,ESP
00870543 : AND ESP,0xfffffff0
00870546 : PUSH -0x1
00870548 : PUSH 0xb49082
0087054d : MOV EAX,FS:[0x0]
00870553 : PUSH EAX
00870554 : SUB ESP,0x128
0087055a : PUSH EBX
0087055b : PUSH ESI
0087055c : PUSH EDI
0087055d : MOV EAX,[0x00d66fa0]
00870562 : XOR EAX,ESP
00870564 : PUSH EAX
00870565 : LEA EAX,[ESP + 0x138]
0087056c : MOV FS:[0x0],EAX
00870572 : MOV EBX,ECX
00870574 : MOV EAX,dword ptr [EBX + 0x47c]
0087057a : MOV dword ptr [ESP + 0x2c],EAX
0087057e : CALL dword ptr [0x00b85598]
00870584 : MOV dword ptr [EBX + 0x47c],EAX
0087058a : MOV EAX,dword ptr [EBX + 0x18a8]
00870590 : TEST EAX,EAX
00870592 : JZ 0x00870781
00870598 : CMP byte ptr [EAX + 0x20],0x0
0087059c : JNZ 0x008705a8
0087059e : PUSH 0xd720f0
008705a3 : JMP 0x0087077a
008705a8 : MOV ECX,dword ptr [EBX + 0x138]
008705ae : MOV EDX,dword ptr [ECX + 0x4]
008705b1 : LEA ESI,[EBX + 0x1c58]
008705b7 : LEA EDI,[EDX + EBX*0x1 + 0x138]
008705be : CALL 0x00876040
008705c3 : TEST AL,AL
008705c5 : JZ 0x008705d1
008705c7 : PUSH 0xd720f0
008705cc : JMP 0x0087077a
008705d1 : MOV EAX,dword ptr [EBX + 0x18a8]
008705d7 : CMP byte ptr [EAX + 0xec],0x0
008705de : JZ 0x008705ea
008705e0 : PUSH 0xd720f0
008705e5 : JMP 0x0087077a
008705ea : CMP dword ptr [EAX + 0x30],0x0
008705ee : JZ 0x00870781
008705f4 : MOVSS XMM0,dword ptr [EBX + 0x1580]
008705fc : MOVSS XMM1,dword ptr [EBX + 0x1584]
00870604 : MOVSS XMM2,dword ptr [EBX + 0x1588]
0087060c : LEA EAX,[ESP + 0x54]
00870610 : PUSH EAX
00870611 : MOV ECX,EAX
00870613 : PUSH ECX
00870614 : MOVSS dword ptr [ESP + 0x5c],XMM0
0087061a : MOVSS dword ptr [ESP + 0x60],XMM1
00870620 : MOVSS dword ptr [ESP + 0x64],XMM2
00870626 : CALL 0x004ff722
0087062b : XORPS XMM0,XMM0
0087062e : MOVSS XMM1,dword ptr [0x00cdf0d0]
00870636 : MOV ECX,dword ptr [EBX + 0x3e8]
0087063c : LEA EDX,[ESP + 0x78]
00870640 : PUSH EDX
00870641 : MOVSS dword ptr [ESP + 0x38],XMM0
00870647 : MOVSS dword ptr [ESP + 0x3c],XMM1
0087064d : MOVSS dword ptr [ESP + 0x40],XMM0
00870653 : CALL 0x007d5b60
00870658 : MOV dword ptr [ESP + 0x140],0x0
00870663 : MOVSS XMM0,dword ptr [EAX + 0x20]
00870668 : MOVSS XMM1,dword ptr [EAX + 0x24]
0087066d : MOVSS XMM2,dword ptr [EAX + 0x28]
00870672 : MOVSS dword ptr [ESP + 0x44],XMM0
00870678 : MOVSS dword ptr [ESP + 0x48],XMM1
0087067e : MOVSS dword ptr [ESP + 0x4c],XMM2
00870684 : MOV dword ptr [ESP + 0x140],0xffffffff
0087068f : MOVSS XMM0,dword ptr [ESP + 0x48]
00870695 : ADDSS XMM0,dword ptr [0x00d72c20]
0087069d : MOV EAX,[0x00da93ec]
008706a2 : LEA ECX,[ESP + 0x50]
008706a6 : PUSH ECX
008706a7 : LEA EDX,[ESP + 0x70]
008706ab : PUSH EDX
008706ac : MOVSS dword ptr [ESP + 0x50],XMM0
008706b2 : XORPS XMM0,XMM0
008706b5 : LEA ECX,[ESP + 0x68]
008706b9 : PUSH ECX
008706ba : LEA EDX,[ESP + 0x40]
008706be : MOVSS dword ptr [ESP + 0x78],XMM0
008706c4 : MOVSS dword ptr [ESP + 0x7c],XMM0
008706ca : MOVSS dword ptr [ESP + 0x80],XMM0
008706d3 : MOVSS dword ptr [ESP + 0x5c],XMM0
008706d9 : MOV dword ptr [ESP + 0x84],0xcd083c
008706e4 : MOV EAX,dword ptr [EAX + 0xc]
008706e7 : PUSH EDX
008706e8 : PUSH EAX
008706e9 : LEA EDI,[ESP + 0x58]
008706ed : MOVSS dword ptr [ESP + 0x78],XMM0
008706f3 : CALL 0x007e9d70
008706f8 : XORPS XMM0,XMM0
008706fb : LEA ECX,[ESP + 0x10]
008706ff : PUSH ECX
00870700 : LEA EDX,[ESP + 0x47]
00870704 : PUSH EDX
00870705 : MOV EDX,dword ptr [0x00da93ec]
0087070b : LEA ECX,[ESP + 0x2c]
0087070f : MOV ESI,EAX
00870711 : MOV EAX,dword ptr [EBX + 0x3e8]
00870717 : MOVSS dword ptr [ESP + 0x18],XMM0
0087071d : MOVSS dword ptr [ESP + 0x1c],XMM0
00870723 : MOVSS dword ptr [ESP + 0x20],XMM0
00870729 : FLD float ptr [EAX + 0x70]
0087072c : MOV EDI,dword ptr [EDX + 0xc]
0087072f : PUSH ECX
00870730 : SUB ESP,0x8
00870733 : FSTP float ptr [ESP + 0x4]
00870737 : FLD float ptr [EAX + 0x68]
0087073a : FSTP float ptr [ESP]
0087073d : CALL 0x007e3cb0
00870742 : TEST ESI,ESI
00870744 : JZ 0x0087075a
00870746 : MOVSS XMM0,dword ptr [ESP + 0x64]
0087074c : COMISS XMM0,dword ptr [ESP + 0x24]
00870751 : JBE 0x0087075a
00870753 : PUSH 0xd720f0
00870758 : JMP 0x0087077a
0087075a : LEA EAX,[ESP + 0x10]
0087075e : PUSH EAX
0087075f : MOV ECX,EAX
00870761 : PUSH ECX
00870762 : CALL 0x004ff722
00870767 : LEA EDX,[ESP + 0x10]
0087076b : PUSH EDX
0087076c : LEA EDI,[ESP + 0x64]
00870770 : MOV EAX,EBX
00870772 : CALL 0x00855280
00870777 : MOV EAX,EDI
00870779 : PUSH EAX
0087077a : MOV ESI,EBX
0087077c : CALL 0x00856310
00870781 : XORPS XMM2,XMM2
00870784 : MOV EAX,dword ptr [EBX + 0x3e8]
0087078a : MOVAPS XMM3,XMM2
0087078d : MOVSS dword ptr [ESP + 0x1c],XMM3
00870793 : MOVSS dword ptr [ESP + 0x20],XMM2
00870799 : TEST EAX,EAX
0087079b : JZ 0x0087080a
0087079d : MOVSS XMM0,dword ptr [0x00cdf0d0]
008707a5 : LEA EDX,[ESP + 0x10]
008707a9 : LEA ECX,[EAX + 0x74]
008707ac : PUSH EDX
008707ad : MOV EAX,EDX
008707af : MOVSS dword ptr [ESP + 0x14],XMM2
008707b5 : MOVSS dword ptr [ESP + 0x18],XMM2
008707bb : MOVSS dword ptr [ESP + 0x1c],XMM0
008707c1 : CALL 0x0043d620
008707c6 : MOVSS XMM0,dword ptr [ESP + 0x14]
008707cc : MOVSS dword ptr [ESP + 0x28],XMM0
008707d2 : MOV EAX,dword ptr [ESP + 0x28]
008707d6 : MOVSS XMM0,dword ptr [ESP + 0x1c]
008707dc : ADD ESP,0x4
008707df : LEA EDX,[ESP + 0x1c]
008707e3 : MOV dword ptr [ESP + 0x1c],EAX
008707e7 : MOVSS dword ptr [ESP + 0x28],XMM0
008707ed : MOV ECX,dword ptr [ESP + 0x28]
008707f1 : PUSH EDX
008707f2 : MOV EAX,EDX
008707f4 : PUSH EAX
008707f5 : MOV dword ptr [ESP + 0x28],ECX
008707f9 : CALL 0x004ff71c
008707fe : MOVSS XMM2,dword ptr [ESP + 0x20]
00870804 : MOVSS XMM3,dword ptr [ESP + 0x1c]
0087080a : MOVSS XMM1,dword ptr [EBX + 0x478]
00870812 : MOVSS XMM0,dword ptr [EBX + 0x474]
0087081a : LEA EDI,[EBX + 0x474]
00870820 : MULSS XMM0,XMM2
00870824 : MULSS XMM1,XMM3
00870828 : SUBSS XMM1,XMM0
0087082c : MOVSS XMM0,dword ptr [EDI + 0x4]
00870831 : MULSS XMM0,XMM2
00870835 : MOVSS XMM2,dword ptr [EDI]
00870839 : MULSS XMM2,XMM3
0087083d : ADDSS XMM0,XMM2
00870841 : MOVSS XMM2,dword ptr [0x00cdf0d0]
00870849 : COMISS XMM2,XMM0
0087084c : MOVSS dword ptr [ESP + 0x24],XMM1
00870852 : JC 0x0087085e
00870854 : MOVSS XMM0,dword ptr [0x00c187b4]
0087085c : JMP 0x0087087e
0087085e : COMISS XMM0,dword ptr [0x00c10fc4]
00870865 : JC 0x0087086c
00870867 : XORPS XMM0,XMM0
0087086a : JMP 0x0087087e
0087086c : CVTPS2PD XMM0,XMM0
0087086f : CALL 0x00b0abbf
00870874 : MOVSS XMM1,dword ptr [ESP + 0x24]
0087087a : CVTSD2SS XMM0,XMM0
0087087e : MOVSS dword ptr [EBX + 0x48c],XMM0
00870886 : XORPS XMM0,XMM0
00870889 : COMISS XMM1,XMM0
0087088c : JBE 0x008708a5
0087088e : MOVSS XMM1,dword ptr [EBX + 0x48c]
00870896 : XORPS XMM1,xmmword ptr [0x00cdf0c0]
0087089d : MOVSS dword ptr [EBX + 0x48c],XMM1
008708a5 : FLD float ptr [EBX + 0x48c]
008708ab : MOVSS XMM1,dword ptr [0x00c10fc4]
008708b3 : MOV ESI,dword ptr [EBX + 0x3e8]
008708b9 : PUSH ECX
008708ba : LEA EAX,[ESP + 0x38]
008708be : FSTP float ptr [ESP]
008708c1 : MOVSS dword ptr [ESP + 0x38],XMM0
008708c7 : MOVSS dword ptr [ESP + 0x3c],XMM1
008708cd : MOVSS dword ptr [ESP + 0x40],XMM0
008708d3 : CALL 0x007cc610
008708d8 : MOV EAX,dword ptr [EBX + 0x3e8]
008708de : TEST EAX,EAX
008708e0 : JZ 0x00870946
008708e2 : XORPS XMM0,XMM0
008708e5 : LEA EDX,[ESP + 0x10]
008708e9 : MOVSS dword ptr [ESP + 0x10],XMM0
008708ef : MOVSS dword ptr [ESP + 0x14],XMM0
008708f5 : MOVSS XMM0,dword ptr [0x00cdf0d0]
008708fd : LEA ECX,[EAX + 0x74]
00870900 : PUSH EDX
00870901 : MOV EAX,EDX
00870903 : MOVSS dword ptr [ESP + 0x1c],XMM0
00870909 : CALL 0x0043d620
0087090e : MOVSS XMM0,dword ptr [ESP + 0x14]
00870914 : MOVSS dword ptr [ESP + 0x28],XMM0
0087091a : MOV EAX,dword ptr [ESP + 0x28]
0087091e : MOVSS XMM0,dword ptr [ESP + 0x1c]
00870924 : ADD ESP,0x4
00870927 : LEA EDX,[ESP + 0x1c]
0087092b : MOV dword ptr [ESP + 0x1c],EAX
0087092f : MOVSS dword ptr [ESP + 0x28],XMM0
00870935 : MOV ECX,dword ptr [ESP + 0x28]
00870939 : PUSH EDX
0087093a : MOV EAX,EDX
0087093c : PUSH EAX
0087093d : MOV dword ptr [ESP + 0x28],ECX
00870941 : CALL 0x004ff71c
00870946 : MOV ESI,dword ptr [EBX + 0x3e8]
0087094c : LEA EAX,[ESP + 0x1c]
00870950 : CALL 0x007cc680
00870955 : XORPS XMM0,XMM0
00870958 : MOVSS dword ptr [EBX + 0x48c],XMM0
00870960 : MOVSS dword ptr [EBX + 0x490],XMM0
00870968 : MOVSS XMM0,dword ptr [0x00cdf32c]
00870970 : COMISS XMM0,dword ptr [EBX + 0x470]
00870977 : JC 0x00870985
00870979 : FLD float ptr [EBX + 0x46c]
0087097f : FSTP float ptr [EBX + 0x470]
00870985 : MOV ECX,dword ptr [EBX + 0x47c]
0087098b : SUB ECX,dword ptr [ESP + 0x2c]
0087098f : MOV dword ptr [ESP + 0x2c],ECX
00870993 : FILD dword ptr [ESP + 0x2c]
00870997 : TEST ECX,ECX
00870999 : JGE 0x008709a1
0087099b : FADD float ptr [0x00cdf0e0]
008709a1 : FMUL float ptr [EBX + 0x470]
008709a7 : FST float ptr [ESP + 0x2c]
008709ab : FLD float ptr [EBX + 0x1e9c]
008709b1 : FCOMIP ST0,ST1
008709b3 : JBE 0x00870a5e
008709b9 : MOV EAX,dword ptr [EBX + 0x3e8]
008709bf : MOVSS XMM0,dword ptr [EAX + 0x6c]
008709c4 : MOVSS XMM1,dword ptr [EAX + 0x70]
008709c9 : MOVSS XMM2,dword ptr [EAX + 0x68]
008709ce : ADD EAX,0x68
008709d1 : PUSH EDI
008709d2 : PUSH ECX
008709d3 : FSTP float ptr [ESP]
008709d6 : PUSH EBX
008709d7 : LEA EAX,[ESP + 0x40]
008709db : MOVSS dword ptr [ESP + 0x40],XMM2
008709e1 : MOVSS dword ptr [ESP + 0x44],XMM0
008709e7 : MOVSS dword ptr [ESP + 0x48],XMM1
008709ed : CALL 0x0085f410
008709f2 : FLD1
008709f4 : MOV EDX,dword ptr [EBX]
008709f6 : MOV EAX,dword ptr [EDX + 0x188]
008709fc : PUSH ECX
008709fd : FSTP float ptr [ESP]
00870a00 : PUSH 0x0
00870a02 : PUSH 0x0
00870a04 : PUSH 0x0
00870a06 : PUSH 0x0
00870a08 : PUSH 0x7
00870a0a : MOV ECX,EBX
00870a0c : CALL EAX
00870a0e : MOV EDX,dword ptr [EBX]
00870a10 : MOV EAX,dword ptr [EDX + 0x19c]
00870a16 : PUSH 0x7
00870a18 : MOV ECX,EBX
00870a1a : CALL EAX
00870a1c : MOV EDX,dword ptr [EBX]
00870a1e : MOV EDX,dword ptr [EDX + 0x254]
00870a24 : PUSH 0x0
00870a26 : LEA EAX,[EBX + 0x4]
00870a29 : PUSH EAX
00870a2a : PUSH 0x1
00870a2c : MOV ECX,EBX
00870a2e : CALL EDX
00870a30 : MOVSS XMM0,dword ptr [EBX + 0x1e9c]
00870a38 : SUBSS XMM0,dword ptr [ESP + 0x2c]
00870a3e : MOVSS dword ptr [EBX + 0x1e9c],XMM0
00870a46 : XOR AL,AL
00870a48 : MOV ECX,dword ptr [ESP + 0x138]
00870a4f : MOV dword ptr FS:[0x0],ECX
00870a56 : POP ECX
00870a57 : POP EDI
00870a58 : POP ESI
00870a59 : POP EBX
00870a5a : MOV ESP,EBP
00870a5c : POP EBP
00870a5d : RET
00870a5e : MOV ESI,dword ptr [EBX + 0x59c]
00870a64 : FSTP ST0
00870a66 : MOV EAX,dword ptr [EBX + 0x5b4]
00870a6c : XOR EDI,EDI
00870a6e : MOV dword ptr [ESP + 0x2c],ESI
00870a72 : MOV dword ptr [ESP + 0x30],EAX
00870a76 : CMP dword ptr [EBX + 0x5b8],EDI
00870a7c : JZ 0x00870b60
00870a82 : MOV ECX,dword ptr [0x00da9894]
00870a88 : MOV ECX,dword ptr [ECX]
00870a8a : CMP ECX,EDI
00870a8c : JZ 0x00870ab6
00870a8e : MOV EAX,dword ptr [ECX + 0x12c]
00870a94 : CMP EAX,EDI
00870a96 : JZ 0x00870ab6
00870a98 : CMP dword ptr [EAX + 0x18],EDI
00870a9b : JZ 0x00870ab6
00870a9d : MOV ECX,EAX
00870a9f : CMP ECX,EDI
00870aa1 : JNZ 0x00870aa7
00870aa3 : XOR ECX,ECX
00870aa5 : JMP 0x00870aaa
00870aa7 : MOV ECX,dword ptr [ECX + 0x18]
00870aaa : LEA EDX,[EBX + 0x2018]
00870ab0 : PUSH ECX
00870ab1 : CALL 0x009809e0
00870ab6 : MOV EAX,dword ptr [EBX + 0x5b8]
00870abc : MOV ECX,dword ptr [EBX + 0x59c]
00870ac2 : ADD EAX,dword ptr [EBX + 0x5b4]
00870ac8 : CMP ESI,ECX
00870aca : JNZ 0x00870ad2
00870acc : CMP dword ptr [ESP + 0x30],EAX
00870ad0 : JZ 0x00870b4b
00870ad2 : LEA EAX,[ESP + 0x2c]
00870ad6 : CALL 0x004c9510
00870adb : FLD float ptr [EAX]
00870add : FSTP float ptr [EBX + 0x2018]
00870ae3 : MOV ECX,EBX
00870ae5 : FLD float ptr [EAX + 0x4]
00870ae8 : FSTP float ptr [EBX + 0x201c]
00870aee : FLD float ptr [EAX + 0x8]
00870af1 : FSTP float ptr [EBX + 0x2020]
00870af7 : MOV EDX,dword ptr [EBX]
00870af9 : MOV EAX,dword ptr [EDX + 0x38]
00870afc : CALL EAX
00870afe : MOV EAX,dword ptr [EBX + 0x5b8]
00870b04 : CMP EAX,EDI
00870b06 : JZ 0x00870b33
00870b08 : INC dword ptr [EBX + 0x5b4]
00870b0e : MOV ECX,dword ptr [EBX + 0x5b4]
00870b14 : CMP dword ptr [EBX + 0x5b0],ECX
00870b1a : JA 0x00870b22
00870b1c : MOV dword ptr [EBX + 0x5b4],EDI
00870b22 : DEC EAX
00870b23 : MOV dword ptr [EBX + 0x5b8],EAX
00870b29 : CMP EAX,EDI
00870b2b : JNZ 0x00870b33
00870b2d : MOV dword ptr [EBX + 0x5b4],EDI
00870b33 : XOR AL,AL
00870b35 : MOV ECX,dword ptr [ESP + 0x138]
00870b3c : MOV dword ptr FS:[0x0],ECX
00870b43 : POP ECX
00870b44 : POP EDI
00870b45 : POP ESI
00870b46 : POP EBX
00870b47 : MOV ESP,EBP
00870b49 : POP EBP
00870b4a : RET
00870b4b : MOV EDX,dword ptr [EBX]
00870b4d : MOV EDX,dword ptr [EDX + 0x2a0]
00870b53 : PUSH 0x1
00870b55 : LEA EAX,[EBX + 0x2018]
00870b5b : PUSH EAX
00870b5c : MOV ECX,EBX
00870b5e : CALL EDX
00870b60 : MOV AL,0x1
00870b62 : MOV ECX,dword ptr [ESP + 0x138]
00870b69 : MOV dword ptr FS:[0x0],ECX
00870b70 : POP ECX
00870b71 : POP EDI
00870b72 : POP ESI
00870b73 : POP EBX
00870b74 : MOV ESP,EBP
00870b76 : POP EBP
00870b77 : RET
