PROGRAM  : Maestia.exe
FUNCTION : FUN_006ded50
ENTRY    : 006ded50
BODY     : [[006ded50, 006dee32]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006ded50(void)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  int *unaff_ESI;
  int *piVar5;
  
  if (unaff_ESI[0x2b] != 0) {
    piVar1 = (int *)(unaff_ESI[0x2b] + *(int *)(unaff_ESI[0x4f] + 0x1c) * 0x24);
    unaff_ESI[0x39] = *piVar1;
    iVar2 = 0;
    if (0 < *piVar1) {
      piVar5 = unaff_ESI + 0x3a;
      piVar4 = piVar1;
      do {
        piVar4 = piVar4 + 1;
        iVar2 = iVar2 + 1;
        *piVar5 = *piVar4 * 0x54 + unaff_ESI[0x11];
        piVar5 = piVar5 + 1;
      } while (iVar2 < *piVar1);
    }
    unaff_ESI[0x4b] = piVar1[5];
    unaff_ESI[0x4c] = piVar1[6];
    unaff_ESI[0x4d] = piVar1[7];
    unaff_ESI[0x4e] = piVar1[8];
    return;
  }
  if (4 < unaff_ESI[0xf]) {
    *(undefined4 *)(*unaff_ESI + 0x14) = 0x1a;
    *(int *)(*unaff_ESI + 0x18) = unaff_ESI[0xf];
    *(undefined4 *)(*unaff_ESI + 0x1c) = 4;
    (**(code **)*unaff_ESI)();
  }
  iVar2 = 0;
  unaff_ESI[0x39] = unaff_ESI[0xf];
  if (0 < unaff_ESI[0xf]) {
    iVar3 = 0;
    piVar1 = unaff_ESI + 0x3a;
    do {
      *piVar1 = unaff_ESI[0x11] + iVar3;
      iVar2 = iVar2 + 1;
      piVar1 = piVar1 + 1;
      iVar3 = iVar3 + 0x54;
    } while (iVar2 < unaff_ESI[0xf]);
  }
  unaff_ESI[0x4b] = 0;
  unaff_ESI[0x4d] = 0;
  unaff_ESI[0x4e] = 0;
  unaff_ESI[0x4c] = 0x3f;
  return;
}



============================================================
DISASSEMBLY
============================================================
006ded50 : MOV ECX,dword ptr [ESI + 0xac]
006ded56 : PUSH EBX
006ded57 : PUSH EDI
006ded58 : XOR EDI,EDI
006ded5a : CMP ECX,EDI
006ded5c : JZ 0x006dedc0
006ded5e : MOV EAX,dword ptr [ESI + 0x13c]
006ded64 : MOV EAX,dword ptr [EAX + 0x1c]
006ded67 : LEA EDX,[EAX + EAX*0x8]
006ded6a : LEA EAX,[ECX + EDX*0x4]
006ded6d : MOV ECX,dword ptr [EAX]
006ded6f : MOV dword ptr [ESI + 0xe4],ECX
006ded75 : XOR ECX,ECX
006ded77 : CMP dword ptr [EAX],EDI
006ded79 : JLE 0x006ded99
006ded7b : LEA EDI,[ESI + 0xe8]
006ded81 : LEA EDX,[EAX + 0x4]
006ded84 : MOV EBX,dword ptr [EDX]
006ded86 : IMUL EBX,EBX,0x54
006ded89 : ADD EBX,dword ptr [ESI + 0x44]
006ded8c : INC ECX
006ded8d : MOV dword ptr [EDI],EBX
006ded8f : ADD EDX,0x4
006ded92 : ADD EDI,0x4
006ded95 : CMP ECX,dword ptr [EAX]
006ded97 : JL 0x006ded84
006ded99 : MOV EDX,dword ptr [EAX + 0x14]
006ded9c : MOV dword ptr [ESI + 0x12c],EDX
006deda2 : MOV ECX,dword ptr [EAX + 0x18]
006deda5 : MOV dword ptr [ESI + 0x130],ECX
006dedab : MOV EDX,dword ptr [EAX + 0x1c]
006dedae : MOV dword ptr [ESI + 0x134],EDX
006dedb4 : MOV EAX,dword ptr [EAX + 0x20]
006dedb7 : POP EDI
006dedb8 : MOV dword ptr [ESI + 0x138],EAX
006dedbe : POP EBX
006dedbf : RET
006dedc0 : CMP dword ptr [ESI + 0x3c],0x4
006dedc4 : JLE 0x006dedea
006dedc6 : MOV ECX,dword ptr [ESI]
006dedc8 : MOV dword ptr [ECX + 0x14],0x1a
006dedcf : MOV EDX,dword ptr [ESI]
006dedd1 : MOV EAX,dword ptr [ESI + 0x3c]
006dedd4 : MOV dword ptr [EDX + 0x18],EAX
006dedd7 : MOV ECX,dword ptr [ESI]
006dedd9 : MOV dword ptr [ECX + 0x1c],0x4
006dede0 : MOV EDX,dword ptr [ESI]
006dede2 : MOV EAX,dword ptr [EDX]
006dede4 : PUSH ESI
006dede5 : CALL EAX
006dede7 : ADD ESP,0x4
006dedea : MOV EAX,dword ptr [ESI + 0x3c]
006deded : XOR EDX,EDX
006dedef : CMP EAX,EDI
006dedf1 : MOV dword ptr [ESI + 0xe4],EAX
006dedf7 : JLE 0x006dee14
006dedf9 : XOR ECX,ECX
006dedfb : LEA EAX,[ESI + 0xe8]
006dee01 : MOV EBX,dword ptr [ESI + 0x44]
006dee04 : ADD EBX,ECX
006dee06 : MOV dword ptr [EAX],EBX
006dee08 : INC EDX
006dee09 : ADD EAX,0x4
006dee0c : ADD ECX,0x54
006dee0f : CMP EDX,dword ptr [ESI + 0x3c]
006dee12 : JL 0x006dee01
006dee14 : MOV dword ptr [ESI + 0x12c],EDI
006dee1a : MOV dword ptr [ESI + 0x134],EDI
006dee20 : MOV dword ptr [ESI + 0x138],EDI
006dee26 : POP EDI
006dee27 : MOV dword ptr [ESI + 0x130],0x3f
006dee31 : POP EBX
006dee32 : RET
