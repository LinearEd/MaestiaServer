PROGRAM  : Maestia.exe
FUNCTION : FUN_00412db0
ENTRY    : 00412db0
BODY     : [[00412db0, 00412e37]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00412db0(short *param_1,int param_2)

{
  int *piVar1;
  uint uVar2;
  int in_EAX;
  int *piVar3;
  int *piVar4;
  short *psVar5;
  short *psVar6;
  uint in_EDX;
  int iVar7;
  
  if (in_EDX < *(uint *)(in_EAX + 0x14)) {
    uVar2 = *(uint *)(in_EAX + 0x18);
    piVar1 = (int *)(in_EAX + 4);
    piVar3 = piVar1;
    if (7 < uVar2) {
      piVar3 = (int *)*piVar1;
    }
    piVar4 = piVar1;
    if (7 < uVar2) {
      piVar4 = (int *)*piVar1;
    }
    for (psVar5 = (short *)((int)piVar4 + in_EDX * 2);
        psVar5 < (short *)((int)piVar3 + *(uint *)(in_EAX + 0x14) * 2); psVar5 = psVar5 + 1) {
      if (param_2 == 0) {
LAB_00412e01:
        if (7 < uVar2) {
          return (int)psVar5 - *piVar1 >> 1;
        }
        return (int)psVar5 - (int)piVar1 >> 1;
      }
      psVar6 = param_1;
      iVar7 = param_2;
      while (*psVar6 != *psVar5) {
        psVar6 = psVar6 + 1;
        iVar7 = iVar7 + -1;
        if (iVar7 == 0) goto LAB_00412e01;
      }
    }
  }
  return -1;
}



============================================================
DISASSEMBLY
============================================================
00412db0 : PUSH EBP
00412db1 : MOV EBP,ESP
00412db3 : PUSH ECX
00412db4 : MOV ECX,dword ptr [EAX + 0x14]
00412db7 : PUSH EBX
00412db8 : PUSH ESI
00412db9 : PUSH EDI
00412dba : CMP EDX,ECX
00412dbc : JNC 0x00412e1d
00412dbe : MOV ESI,dword ptr [EAX + 0x18]
00412dc1 : MOV dword ptr [EBP + -0x4],ESI
00412dc4 : LEA EBX,[EAX + 0x4]
00412dc7 : CMP ESI,0x8
00412dca : JC 0x00412dd0
00412dcc : MOV EAX,dword ptr [EBX]
00412dce : JMP 0x00412dd2
00412dd0 : MOV EAX,EBX
00412dd2 : LEA EDI,[EAX + ECX*0x2]
00412dd5 : CMP ESI,0x8
00412dd8 : JC 0x00412dde
00412dda : MOV EAX,dword ptr [EBX]
00412ddc : JMP 0x00412de0
00412dde : MOV EAX,EBX
00412de0 : LEA EAX,[EAX + EDX*0x2]
00412de3 : CMP EAX,EDI
00412de5 : JNC 0x00412e1d
00412de7 : MOV EDX,dword ptr [EBP + 0xc]
00412dea : MOV ECX,dword ptr [EBP + 0x8]
00412ded : TEST EDX,EDX
00412def : JBE 0x00412e01
00412df1 : MOVZX ESI,word ptr [EAX]
00412df4 : CMP word ptr [ECX],SI
00412df7 : JZ 0x00412e16
00412df9 : ADD ECX,0x2
00412dfc : SUB EDX,0x1
00412dff : JNZ 0x00412df4
00412e01 : CMP dword ptr [EBP + -0x4],0x8
00412e05 : JC 0x00412e29
00412e07 : MOV ECX,dword ptr [EBX]
00412e09 : POP EDI
00412e0a : SUB EAX,ECX
00412e0c : POP ESI
00412e0d : SAR EAX,0x1
00412e0f : POP EBX
00412e10 : MOV ESP,EBP
00412e12 : POP EBP
00412e13 : RET 0x8
00412e16 : ADD EAX,0x2
00412e19 : CMP EAX,EDI
00412e1b : JC 0x00412de7
00412e1d : POP EDI
00412e1e : POP ESI
00412e1f : OR EAX,0xffffffff
00412e22 : POP EBX
00412e23 : MOV ESP,EBP
00412e25 : POP EBP
00412e26 : RET 0x8
00412e29 : MOV ECX,EBX
00412e2b : POP EDI
00412e2c : SUB EAX,ECX
00412e2e : POP ESI
00412e2f : SAR EAX,0x1
00412e31 : POP EBX
00412e32 : MOV ESP,EBP
00412e34 : POP EBP
00412e35 : RET 0x8
