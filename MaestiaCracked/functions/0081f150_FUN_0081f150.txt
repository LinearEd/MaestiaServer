PROGRAM  : Maestia.exe
FUNCTION : FUN_0081f150
ENTRY    : 0081f150
BODY     : [[0081f150, 0081f324]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0081f150(char param_1)

{
  int *piVar1;
  int iVar2;
  int in_ECX;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b29cb5;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (param_1 == '\0') {
    FUN_008018d0(L"[AvaGame::ShowLoading] OFF",DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    if (*(int *)(in_ECX + 0x368) != 0) {
      FUN_007f5b60();
      *(undefined4 *)(in_ECX + 0x368) = 0;
      FUN_007f5b60();
      *(undefined4 *)(in_ECX + 0x36c) = 0;
    }
    ExceptionList = local_10;
    return;
  }
  FUN_008018d0(L"[AvaGame::ShowLoading] ON",DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar1 = (int *)FUN_007f91b0(*(undefined4 *)(DAT_0172491c + 0x90),in_ECX,0);
  *(int **)(in_ECX + 0x36c) = piVar1;
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 0x2c))(2);
    (**(code **)(**(int **)(in_ECX + 0x36c) + 0x14))(1);
    (**(code **)(**(int **)(in_ECX + 0x36c) + 0xc))(1);
  }
  piVar1 = (int *)FUN_007f91b0(*(undefined4 *)(DAT_0172491c + 0x90),in_ECX,0);
  *(int **)(in_ECX + 0x368) = piVar1;
  if (piVar1 == (int *)0x0) {
    iVar2 = FUN_00404750(L"  m_pProgressMain is NULL ");
    local_8 = 0;
    if (*(uint *)(iVar2 + 0x18) < 8) {
      iVar2 = iVar2 + 4;
    }
    else {
      iVar2 = *(int *)(iVar2 + 4);
    }
    FUN_008018d0(iVar2);
    local_8 = 0xffffffff;
    if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    ExceptionList = local_10;
    return;
  }
  (**(code **)(*piVar1 + 0x2c))(1);
  (**(code **)(**(int **)(in_ECX + 0x368) + 0x14))(2);
  (**(code **)(**(int **)(in_ECX + 0x368) + 0xc))(1);
  (**(code **)(**(int **)(in_ECX + 0x368) + 4))
            (*(int **)(in_ECX + 0x368),"SetVisible",&DAT_00c32e4c,1);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0081f150 : PUSH EBP
0081f151 : MOV EBP,ESP
0081f153 : PUSH -0x1
0081f155 : PUSH 0xb29cb5
0081f15a : MOV EAX,FS:[0x0]
0081f160 : PUSH EAX
0081f161 : SUB ESP,0x1c
0081f164 : PUSH EBX
0081f165 : PUSH ESI
0081f166 : PUSH EDI
0081f167 : MOV EAX,[0x00d66fa0]
0081f16c : XOR EAX,EBP
0081f16e : PUSH EAX
0081f16f : LEA EAX,[EBP + -0xc]
0081f172 : MOV FS:[0x0],EAX
0081f178 : MOV EDI,ECX
0081f17a : MOV ESI,dword ptr [0x00da98e8]
0081f180 : XOR EBX,EBX
0081f182 : CMP byte ptr [EBP + 0x8],BL
0081f185 : JZ 0x0081f2cc
0081f18b : PUSH 0xc32dc4
0081f190 : CALL 0x008018d0
0081f195 : MOV EAX,[0x0172491c]
0081f19a : MOV EAX,dword ptr [EAX + 0x90]
0081f1a0 : ADD ESP,0x4
0081f1a3 : PUSH EBX
0081f1a4 : PUSH EDI
0081f1a5 : PUSH EAX
0081f1a6 : MOV ECX,0xc32df8
0081f1ab : CALL 0x007f91b0
0081f1b0 : MOV dword ptr [EDI + 0x36c],EAX
0081f1b6 : CMP EAX,EBX
0081f1b8 : JZ 0x0081f1e3
0081f1ba : MOV EDX,dword ptr [EAX]
0081f1bc : MOV ECX,EAX
0081f1be : MOV EAX,dword ptr [EDX + 0x2c]
0081f1c1 : PUSH 0x2
0081f1c3 : CALL EAX
0081f1c5 : MOV ECX,dword ptr [EDI + 0x36c]
0081f1cb : MOV EDX,dword ptr [ECX]
0081f1cd : MOV EAX,dword ptr [EDX + 0x14]
0081f1d0 : PUSH 0x1
0081f1d2 : CALL EAX
0081f1d4 : MOV ECX,dword ptr [EDI + 0x36c]
0081f1da : MOV EDX,dword ptr [ECX]
0081f1dc : MOV EAX,dword ptr [EDX + 0xc]
0081f1df : PUSH 0x1
0081f1e1 : CALL EAX
0081f1e3 : MOV ECX,dword ptr [0x0172491c]
0081f1e9 : MOV EAX,dword ptr [ECX + 0x90]
0081f1ef : PUSH EBX
0081f1f0 : PUSH EDI
0081f1f1 : PUSH EAX
0081f1f2 : MOV ECX,0xc32e08
0081f1f7 : CALL 0x007f91b0
0081f1fc : MOV dword ptr [EDI + 0x368],EAX
0081f202 : CMP EAX,EBX
0081f204 : JNZ 0x0081f272
0081f206 : PUSH 0xc32e14
0081f20b : LEA ESI,[EBP + -0x28]
0081f20e : CALL 0x00404750
0081f213 : ADD ESP,0x4
0081f216 : MOV dword ptr [EBP + -0x4],EBX
0081f219 : MOV EDI,0x8
0081f21e : CMP dword ptr [EAX + 0x18],EDI
0081f221 : JC 0x0081f228
0081f223 : MOV EAX,dword ptr [EAX + 0x4]
0081f226 : JMP 0x0081f22b
0081f228 : ADD EAX,0x4
0081f22b : MOV ESI,dword ptr [0x00da98e8]
0081f231 : PUSH EAX
0081f232 : CALL 0x008018d0
0081f237 : ADD ESP,0x4
0081f23a : MOV dword ptr [EBP + -0x4],0xffffffff
0081f241 : CMP dword ptr [EBP + -0x10],EDI
0081f244 : JC 0x0081f24e
0081f246 : MOV ECX,dword ptr [EBP + -0x24]
0081f249 : CALL 0x006f04e0
0081f24e : XOR EDX,EDX
0081f250 : MOV dword ptr [EBP + -0x10],0x7
0081f257 : MOV dword ptr [EBP + -0x14],EBX
0081f25a : MOV word ptr [EBP + -0x24],DX
0081f25e : MOV ECX,dword ptr [EBP + -0xc]
0081f261 : MOV dword ptr FS:[0x0],ECX
0081f268 : POP ECX
0081f269 : POP EDI
0081f26a : POP ESI
0081f26b : POP EBX
0081f26c : MOV ESP,EBP
0081f26e : POP EBP
0081f26f : RET 0x4
0081f272 : MOV EDX,dword ptr [EAX]
0081f274 : MOV ECX,EAX
0081f276 : MOV EAX,dword ptr [EDX + 0x2c]
0081f279 : PUSH 0x1
0081f27b : CALL EAX
0081f27d : MOV ECX,dword ptr [EDI + 0x368]
0081f283 : MOV EDX,dword ptr [ECX]
0081f285 : MOV EAX,dword ptr [EDX + 0x14]
0081f288 : PUSH 0x2
0081f28a : CALL EAX
0081f28c : MOV ECX,dword ptr [EDI + 0x368]
0081f292 : MOV EDX,dword ptr [ECX]
0081f294 : MOV EAX,dword ptr [EDX + 0xc]
0081f297 : PUSH 0x1
0081f299 : CALL EAX
0081f29b : MOV EDI,dword ptr [EDI + 0x368]
0081f2a1 : MOV ECX,dword ptr [EDI]
0081f2a3 : MOV EDX,dword ptr [ECX + 0x4]
0081f2a6 : PUSH 0x1
0081f2a8 : PUSH 0xc32e4c
0081f2ad : PUSH 0xc32e50
0081f2b2 : PUSH EDI
0081f2b3 : CALL EDX
0081f2b5 : ADD ESP,0x10
0081f2b8 : MOV ECX,dword ptr [EBP + -0xc]
0081f2bb : MOV dword ptr FS:[0x0],ECX
0081f2c2 : POP ECX
0081f2c3 : POP EDI
0081f2c4 : POP ESI
0081f2c5 : POP EBX
0081f2c6 : MOV ESP,EBP
0081f2c8 : POP EBP
0081f2c9 : RET 0x4
0081f2cc : PUSH 0xc32e5c
0081f2d1 : CALL 0x008018d0
0081f2d6 : MOV EDX,dword ptr [EDI + 0x368]
0081f2dc : ADD ESP,0x4
0081f2df : CMP EDX,EBX
0081f2e1 : JZ 0x0081f311
0081f2e3 : MOV ESI,dword ptr [0x0172491c]
0081f2e9 : MOV ECX,dword ptr [ESI + 0x90]
0081f2ef : CALL 0x007f5b60
0081f2f4 : MOV EDX,dword ptr [EDI + 0x36c]
0081f2fa : MOV dword ptr [EDI + 0x368],EBX
0081f300 : MOV ECX,dword ptr [ESI + 0x90]
0081f306 : CALL 0x007f5b60
0081f30b : MOV dword ptr [EDI + 0x36c],EBX
0081f311 : MOV ECX,dword ptr [EBP + -0xc]
0081f314 : MOV dword ptr FS:[0x0],ECX
0081f31b : POP ECX
0081f31c : POP EDI
0081f31d : POP ESI
0081f31e : POP EBX
0081f31f : MOV ESP,EBP
0081f321 : POP EBP
0081f322 : RET 0x4
