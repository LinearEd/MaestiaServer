PROGRAM  : Maestia.exe
FUNCTION : FUN_004d1ee0
ENTRY    : 004d1ee0
BODY     : [[004d1ee0, 004d20c5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004d1ee0(undefined4 param_1,undefined4 param_2,undefined4 param_3,int param_4,
                 undefined4 param_5,double param_6)

{
  double dVar1;
  int iVar2;
  char *pcVar3;
  int iVar4;
  char cVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  undefined1 auStack_f4 [40];
  undefined4 local_cc;
  int local_c8;
  undefined4 local_c4;
  char local_c0 [8];
  char local_b8 [116];
  uint local_44;
  
  dVar1 = param_6;
  local_44 = DAT_00d66fa0 ^ (uint)auStack_f4;
  local_c4 = param_1;
  iVar2 = *(int *)(param_4 + 0x14);
  local_c8 = param_4;
  if ((iVar2 < 1) && ((*(uint *)(param_4 + 0x10) & 0x2000) == 0)) {
    iVar2 = 6;
  }
  iVar4 = 0x24;
  if (iVar2 < 0x25) {
    iVar4 = iVar2;
  }
  uVar6 = *(uint *)(param_4 + 0x10);
  iVar2 = iVar2 - iVar4;
  uVar7 = 0;
  uVar8 = 0;
  if (((uVar6 & 0x3000) == 0x2000) && (param_6 * 0.5 != param_6)) {
    if (param_6 < 0.0) {
      param_6 = -param_6;
    }
    for (; (1e+35 <= param_6 && (uVar7 < 5000)); uVar7 = uVar7 + 10) {
      param_6 = param_6 * 1e-10;
    }
    if (0.0 < param_6) {
      for (; ((9 < iVar2 && (param_6 <= 1e-35)) && (uVar8 < 5000)); uVar8 = uVar8 + 10) {
        iVar2 = iVar2 + -10;
        param_6 = param_6 * 10000000000.0;
      }
    }
    if (dVar1 < 0.0) {
      param_6 = -param_6;
    }
  }
  local_c0[0] = '%';
  pcVar3 = local_c0 + 1;
  if ((uVar6 & 0x20) != 0) {
    local_c0[1] = 0x2b;
    pcVar3 = local_c0 + 2;
  }
  if ((uVar6 & 0x10) != 0) {
    *pcVar3 = '#';
    pcVar3 = pcVar3 + 1;
  }
  *pcVar3 = '.';
  pcVar3[1] = '*';
  uVar6 = uVar6 & 0x3000;
  if (uVar6 == 0x2000) {
    cVar5 = 'f';
  }
  else if (uVar6 == 0x3000) {
    cVar5 = 'a';
  }
  else {
    cVar5 = (uVar6 != 0x1000) * '\x02' + 'e';
  }
  pcVar3[2] = cVar5;
  pcVar3[3] = '\0';
  iVar4 = _sprintf_s(local_b8,0x6c,local_c0,iVar4,param_6);
  FUN_004d2e50(local_cc,local_c4,param_2,param_3,local_c8,param_5,local_b8,uVar7,uVar8,iVar2,iVar4);
  __security_check_cookie(local_44 ^ (uint)auStack_f4);
  return;
}



============================================================
DISASSEMBLY
============================================================
004d1ee0 : PUSH EBP
004d1ee1 : MOV EBP,ESP
004d1ee3 : AND ESP,0xffffffc0
004d1ee6 : SUB ESP,0xb4
004d1eec : MOV EAX,[0x00d66fa0]
004d1ef1 : XOR EAX,ESP
004d1ef3 : MOV dword ptr [ESP + 0xb0],EAX
004d1efa : MOV EAX,dword ptr [EBP + 0x8]
004d1efd : MOV dword ptr [ESP + 0x28],ECX
004d1f01 : MOV ECX,dword ptr [EBP + 0x14]
004d1f04 : PUSH EBX
004d1f05 : MOV dword ptr [ESP + 0x34],EAX
004d1f09 : MOV EAX,dword ptr [ECX + 0x14]
004d1f0c : PUSH ESI
004d1f0d : PUSH EDI
004d1f0e : MOV dword ptr [ESP + 0x38],ECX
004d1f12 : TEST EAX,EAX
004d1f14 : JG 0x004d1f24
004d1f16 : TEST dword ptr [ECX + 0x10],0x2000
004d1f1d : JNZ 0x004d1f24
004d1f1f : MOV EAX,0x6
004d1f24 : MOV ESI,EAX
004d1f26 : CMP ESI,0x24
004d1f29 : MOV EDX,0x24
004d1f2e : JG 0x004d1f32
004d1f30 : MOV EDX,ESI
004d1f32 : MOV ECX,dword ptr [ECX + 0x10]
004d1f35 : MOV EAX,ECX
004d1f37 : AND EAX,0x3000
004d1f3c : SUB ESI,EDX
004d1f3e : XOR EBX,EBX
004d1f40 : XOR EDI,EDI
004d1f42 : CMP EAX,0x2000
004d1f47 : JNZ 0x004d2006
004d1f4d : MOVSD XMM0,qword ptr [EBP + 0x1c]
004d1f52 : MOVAPD XMM1,XMM0
004d1f56 : MULSD XMM1,qword ptr [0x00cdf120]
004d1f5e : UCOMISD XMM1,XMM0
004d1f62 : LAHF
004d1f63 : TEST AH,0x44
004d1f66 : JNP 0x004d2006
004d1f6c : XORPS XMM3,XMM3
004d1f6f : COMISD XMM3,XMM0
004d1f73 : MOVSD XMM4,qword ptr [0x00cdf790]
004d1f7b : JBE 0x004d2040
004d1f81 : XORPD XMM0,XMM4
004d1f85 : MOV AL,0x1
004d1f87 : MOVSD qword ptr [EBP + 0x1c],XMM0
004d1f8c : MOVSD XMM1,qword ptr [0x00cdf788]
004d1f94 : COMISD XMM0,XMM1
004d1f98 : JC 0x004d1fbc
004d1f9a : MOVSD XMM2,qword ptr [0x00cdf780]
004d1fa2 : CMP EBX,0x1388
004d1fa8 : JNC 0x004d1fb7
004d1faa : MULSD XMM0,XMM2
004d1fae : ADD EBX,0xa
004d1fb1 : COMISD XMM0,XMM1
004d1fb5 : JNC 0x004d1fa2
004d1fb7 : MOVSD qword ptr [EBP + 0x1c],XMM0
004d1fbc : COMISD XMM0,XMM3
004d1fc0 : JBE 0x004d1ff9
004d1fc2 : CMP ESI,0xa
004d1fc5 : JL 0x004d1ff9
004d1fc7 : MOVSD XMM1,qword ptr [0x00cdf778]
004d1fcf : MOVSD XMM2,qword ptr [0x00cdf770]
004d1fd7 : COMISD XMM1,XMM0
004d1fdb : JC 0x004d1ff4
004d1fdd : CMP EDI,0x1388
004d1fe3 : JNC 0x004d1ff4
004d1fe5 : SUB ESI,0xa
004d1fe8 : ADD EDI,0xa
004d1feb : CMP ESI,0xa
004d1fee : MULSD XMM0,XMM2
004d1ff2 : JGE 0x004d1fd7
004d1ff4 : MOVSD qword ptr [EBP + 0x1c],XMM0
004d1ff9 : TEST AL,AL
004d1ffb : JZ 0x004d2006
004d1ffd : XORPD XMM0,XMM4
004d2001 : MOVSD qword ptr [EBP + 0x1c],XMM0
004d2006 : MOV byte ptr [ESP + 0x40],0x25
004d200b : LEA EAX,[ESP + 0x41]
004d200f : TEST CL,0x20
004d2012 : JZ 0x004d201d
004d2014 : MOV byte ptr [ESP + 0x41],0x2b
004d2019 : LEA EAX,[ESP + 0x42]
004d201d : TEST CL,0x10
004d2020 : JZ 0x004d2026
004d2022 : MOV byte ptr [EAX],0x23
004d2025 : INC EAX
004d2026 : MOV byte ptr [EAX],0x2e
004d2029 : INC EAX
004d202a : MOV byte ptr [EAX],0x2a
004d202d : AND ECX,0x3000
004d2033 : INC EAX
004d2034 : CMP ECX,0x2000
004d203a : JNZ 0x004d2047
004d203c : MOV CL,0x66
004d203e : JMP 0x004d2060
004d2040 : XOR AL,AL
004d2042 : JMP 0x004d1f8c
004d2047 : CMP ECX,0x3000
004d204d : JNZ 0x004d2053
004d204f : MOV CL,0x61
004d2051 : JMP 0x004d2060
004d2053 : CMP ECX,0x1000
004d2059 : SETNZ CL
004d205c : LEA ECX,[ECX + ECX*0x1 + 0x65]
004d2060 : FLD double ptr [EBP + 0x1c]
004d2063 : SUB ESP,0x8
004d2066 : FSTP double ptr [ESP]
004d2069 : PUSH EDX
004d206a : MOV byte ptr [EAX],CL
004d206c : LEA ECX,[ESP + 0x4c]
004d2070 : PUSH ECX
004d2071 : LEA EDX,[ESP + 0x58]
004d2075 : PUSH 0x6c
004d2077 : PUSH EDX
004d2078 : MOV byte ptr [EAX + 0x1],0x0
004d207c : CALL 0x00637e58
004d2081 : MOV ECX,dword ptr [EBP + 0x18]
004d2084 : MOV EDX,dword ptr [ESP + 0x50]
004d2088 : PUSH EAX
004d2089 : PUSH ESI
004d208a : MOV ESI,dword ptr [ESP + 0x5c]
004d208e : PUSH EDI
004d208f : PUSH EBX
004d2090 : LEA EAX,[ESP + 0x70]
004d2094 : PUSH EAX
004d2095 : MOV EAX,dword ptr [EBP + 0x10]
004d2098 : PUSH ECX
004d2099 : MOV ECX,dword ptr [EBP + 0xc]
004d209c : PUSH EDX
004d209d : MOV EDX,dword ptr [ESP + 0x68]
004d20a1 : PUSH EAX
004d20a2 : PUSH ECX
004d20a3 : PUSH ESI
004d20a4 : PUSH EDX
004d20a5 : CALL 0x004d2e50
004d20aa : MOV ECX,dword ptr [ESP + 0x100]
004d20b1 : ADD ESP,0x44
004d20b4 : POP EDI
004d20b5 : MOV EAX,ESI
004d20b7 : POP ESI
004d20b8 : POP EBX
004d20b9 : XOR ECX,ESP
004d20bb : CALL 0x00633e6b
004d20c0 : MOV ESP,EBP
004d20c2 : POP EBP
004d20c3 : RET 0x1c
