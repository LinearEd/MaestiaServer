PROGRAM  : Maestia.exe
FUNCTION : FUN_0040f980
ENTRY    : 0040f980
BODY     : [[0040f980, 0040fa8f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0040f980(int *param_1,int *param_2)

{
  int *piVar1;
  int in_EAX;
  undefined4 *puVar2;
  undefined4 *unaff_ESI;
  undefined1 local_c [8];
  
  if (*(int *)(in_EAX + 8) == 0) {
    FUN_0040fa90(unaff_ESI,1,param_2);
    return;
  }
  piVar1 = *(int **)(in_EAX + 4);
  if (param_1 == (int *)*piVar1) {
    if (*param_2 < param_1[3]) {
      FUN_0040fa90(unaff_ESI,1,param_2);
      return;
    }
LAB_0040fa76:
    puVar2 = (undefined4 *)FUN_0040f870(local_c,param_2);
    *unaff_ESI = *puVar2;
    return;
  }
  if (param_1 == piVar1) {
    if (*param_2 <= *(int *)(piVar1[2] + 0xc)) goto LAB_0040fa76;
  }
  else if ((*param_2 < param_1[3]) && (FUN_00410080(), param_1[3] < *param_2)) {
    if (*(char *)(param_1[2] + 0x39) == '\0') {
      FUN_0040fa90(unaff_ESI,1,param_2);
      return;
    }
  }
  else {
    if ((*param_2 <= param_1[3]) ||
       ((FUN_004100e0(), param_1 != *(int **)(in_EAX + 4) && (param_1[3] <= *param_2))))
    goto LAB_0040fa76;
    if (*(char *)(param_1[2] + 0x39) == '\0') {
      FUN_0040fa90(unaff_ESI,1,param_2);
      return;
    }
  }
  FUN_0040fa90(unaff_ESI,0,param_2);
  return;
}



============================================================
DISASSEMBLY
============================================================
0040f980 : PUSH EBP
0040f981 : MOV EBP,ESP
0040f983 : SUB ESP,0x8
0040f986 : PUSH EBX
0040f987 : MOV EBX,dword ptr [EBP + 0xc]
0040f98a : PUSH EDI
0040f98b : MOV EDI,EAX
0040f98d : CMP dword ptr [EDI + 0x8],0x0
0040f991 : JNZ 0x0040f9a9
0040f993 : MOV ECX,dword ptr [EDI + 0x4]
0040f996 : PUSH EBX
0040f997 : PUSH 0x1
0040f999 : PUSH ESI
0040f99a : CALL 0x0040fa90
0040f99f : MOV EAX,ESI
0040f9a1 : POP EDI
0040f9a2 : POP EBX
0040f9a3 : MOV ESP,EBP
0040f9a5 : POP EBP
0040f9a6 : RET 0x8
0040f9a9 : MOV EAX,dword ptr [EDI + 0x4]
0040f9ac : MOV ECX,dword ptr [EBP + 0x8]
0040f9af : CMP ECX,dword ptr [EAX]
0040f9b1 : JNZ 0x0040f9d1
0040f9b3 : MOV EAX,dword ptr [EBX]
0040f9b5 : CMP EAX,dword ptr [ECX + 0xc]
0040f9b8 : JGE 0x0040fa76
0040f9be : PUSH EBX
0040f9bf : PUSH 0x1
0040f9c1 : PUSH ESI
0040f9c2 : CALL 0x0040fa90
0040f9c7 : MOV EAX,ESI
0040f9c9 : POP EDI
0040f9ca : POP EBX
0040f9cb : MOV ESP,EBP
0040f9cd : POP EBP
0040f9ce : RET 0x8
0040f9d1 : CMP ECX,EAX
0040f9d3 : JNZ 0x0040f9f6
0040f9d5 : MOV ECX,dword ptr [EAX + 0x8]
0040f9d8 : MOV EDX,dword ptr [ECX + 0xc]
0040f9db : CMP EDX,dword ptr [EBX]
0040f9dd : JGE 0x0040fa76
0040f9e3 : PUSH EBX
0040f9e4 : PUSH 0x0
0040f9e6 : PUSH ESI
0040f9e7 : CALL 0x0040fa90
0040f9ec : MOV EAX,ESI
0040f9ee : POP EDI
0040f9ef : POP EBX
0040f9f0 : MOV ESP,EBP
0040f9f2 : POP EBP
0040f9f3 : RET 0x8
0040f9f6 : MOV EAX,dword ptr [EBX]
0040f9f8 : CMP EAX,dword ptr [ECX + 0xc]
0040f9fb : JGE 0x0040fa34
0040f9fd : LEA EDX,[EBP + 0xc]
0040fa00 : MOV dword ptr [EBP + 0xc],ECX
0040fa03 : CALL 0x00410080
0040fa08 : MOV ECX,dword ptr [EBP + 0xc]
0040fa0b : MOV EAX,dword ptr [EBX]
0040fa0d : CMP dword ptr [ECX + 0xc],EAX
0040fa10 : JGE 0x0040fa31
0040fa12 : MOV EAX,dword ptr [ECX + 0x8]
0040fa15 : CMP byte ptr [EAX + 0x39],0x0
0040fa19 : PUSH EBX
0040fa1a : JNZ 0x0040f9e4
0040fa1c : MOV ECX,dword ptr [EBP + 0x8]
0040fa1f : PUSH 0x1
0040fa21 : PUSH ESI
0040fa22 : CALL 0x0040fa90
0040fa27 : MOV EAX,ESI
0040fa29 : POP EDI
0040fa2a : POP EBX
0040fa2b : MOV ESP,EBP
0040fa2d : POP EBP
0040fa2e : RET 0x8
0040fa31 : MOV ECX,dword ptr [EBP + 0x8]
0040fa34 : MOV EAX,dword ptr [EBX]
0040fa36 : CMP dword ptr [ECX + 0xc],EAX
0040fa39 : JGE 0x0040fa76
0040fa3b : LEA EDX,[EBP + 0xc]
0040fa3e : MOV dword ptr [EBP + 0xc],ECX
0040fa41 : CALL 0x004100e0
0040fa46 : MOV EAX,dword ptr [EBP + 0xc]
0040fa49 : CMP EAX,dword ptr [EDI + 0x4]
0040fa4c : JZ 0x0040fa55
0040fa4e : MOV ECX,dword ptr [EBX]
0040fa50 : CMP ECX,dword ptr [EAX + 0xc]
0040fa53 : JGE 0x0040fa76
0040fa55 : MOV ECX,dword ptr [EBP + 0x8]
0040fa58 : MOV EDX,dword ptr [ECX + 0x8]
0040fa5b : CMP byte ptr [EDX + 0x39],0x0
0040fa5f : PUSH EBX
0040fa60 : JNZ 0x0040f9e4
0040fa62 : PUSH 0x1
0040fa64 : PUSH ESI
0040fa65 : MOV ECX,EAX
0040fa67 : CALL 0x0040fa90
0040fa6c : MOV EAX,ESI
0040fa6e : POP EDI
0040fa6f : POP EBX
0040fa70 : MOV ESP,EBP
0040fa72 : POP EBP
0040fa73 : RET 0x8
0040fa76 : PUSH EBX
0040fa77 : LEA EAX,[EBP + -0x8]
0040fa7a : PUSH EAX
0040fa7b : MOV EAX,EDI
0040fa7d : CALL 0x0040f870
0040fa82 : MOV ECX,dword ptr [EAX]
0040fa84 : POP EDI
0040fa85 : MOV dword ptr [ESI],ECX
0040fa87 : MOV EAX,ESI
0040fa89 : POP EBX
0040fa8a : MOV ESP,EBP
0040fa8c : POP EBP
0040fa8d : RET 0x8
