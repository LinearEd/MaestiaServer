PROGRAM  : Maestia.exe
FUNCTION : FUN_007ffdf0
ENTRY    : 007ffdf0
BODY     : [[007ffdf0, 0080024c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007ffdf0(int param_1)

{
  uint *puVar1;
  float fVar2;
  int *piVar3;
  char cVar4;
  uint uVar5;
  int iVar6;
  int *piVar7;
  uint uVar8;
  LPCRITICAL_SECTION local_34;
  char *local_30;
  undefined4 local_2c;
  int local_28;
  undefined4 local_24;
  undefined8 local_20;
  uint local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4d7d5;
  local_10 = ExceptionList;
  uVar5 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_34 = (LPCRITICAL_SECTION)(DAT_017251ac + 0x424);
  local_28 = 0;
  local_30 = ".\\Render\\AvaRender.cpp";
  local_2c = 0x6cc;
  local_24 = 1;
  FUN_006ef1a0(&local_34);
  local_8 = 0;
  FUN_008018d0(L"[AvaRender::Restore] Start",uVar5);
  piVar7 = *(int **)(param_1 + 0x26c);
  if (piVar7 != (int *)0x0) {
    (**(code **)(*piVar7 + 0x44))(piVar7);
  }
  piVar7 = *(int **)(param_1 + 0x268);
  if (piVar7 != (int *)0x0) {
    (**(code **)(*piVar7 + 0x44))(piVar7);
  }
  piVar7 = *(int **)(param_1 + 0x264);
  if (piVar7 != (int *)0x0) {
    (**(code **)(*piVar7 + 0x44))(piVar7);
  }
  piVar7 = *(int **)(param_1 + 0x270);
  if (piVar7 != (int *)0x0) {
    (**(code **)(*piVar7 + 0x44))(piVar7);
  }
  piVar3 = *(int **)(param_1 + 0xc);
  piVar7 = (int *)*piVar3;
  while (piVar7 != piVar3) {
    (**(code **)(*(int *)piVar7[10] + 0x20))();
    FUN_00430160();
    piVar3 = *(int **)(param_1 + 0xc);
  }
  if (param_1 == -0x1a8) {
    iVar6 = 0;
  }
  else {
    iVar6 = param_1 + 0x1ac;
  }
  (**(code **)(**(int **)(param_1 + 0x18) + 0xc4))(*(int **)(param_1 + 0x18),iVar6);
  fVar2 = *(float *)(param_1 + 0x1f8);
  if (fVar2 < 1.0) {
    if (0.0 < fVar2) {
      local_20 = (longlong)ROUND(fVar2 * 255.0 + DAT_00d72c24);
      uVar5 = (uint)local_20;
    }
    else {
      uVar5 = 0;
    }
  }
  else {
    uVar5 = 0xff;
  }
  fVar2 = *(float *)(param_1 + 0x1fc);
  if (fVar2 < 1.0) {
    if (0.0 < fVar2) {
      local_20 = (longlong)ROUND(fVar2 * 255.0 + DAT_00d72c24);
      local_18 = (uint)local_20;
    }
    else {
      local_18 = 0;
    }
  }
  else {
    local_18 = 0xff;
  }
  fVar2 = *(float *)(param_1 + 0x200);
  if (fVar2 < 1.0) {
    if (0.0 < fVar2) {
      local_20 = (longlong)ROUND(fVar2 * 255.0 + DAT_00d72c24);
      uVar8 = (uint)local_20;
    }
    else {
      uVar8 = 0;
    }
  }
  else {
    uVar8 = 0xff;
  }
  fVar2 = *(float *)(param_1 + 0x204);
  if (fVar2 < 1.0) {
    if (0.0 < fVar2) {
      local_20 = (longlong)ROUND(DAT_00d72c24 + fVar2 * 255.0);
      iVar6 = (uint)local_20;
    }
    else {
      iVar6 = 0;
    }
  }
  else {
    iVar6 = 0xff;
  }
  (**(code **)(**(int **)(param_1 + 0x18) + 0xe4))
            (*(int **)(param_1 + 0x18),0x8b,((iVar6 << 8 | uVar5) << 8 | local_18) << 8 | uVar8);
  iVar6 = (**(code **)(**(int **)(param_1 + 0x18) + 0xe4))(*(int **)(param_1 + 0x18),0x89,1);
  if (iVar6 < 0) {
    FUN_008018d0(L"AvaRender::SetLightEnable (%d)",iVar6);
  }
  *(undefined1 *)(param_1 + 0x1f0) = 1;
  (**(code **)(**(int **)(param_1 + 0x18) + 0xe4))(*(int **)(param_1 + 0x18),0x1c,1);
  (**(code **)(**(int **)(param_1 + 0x18) + 0xe4))
            (*(int **)(param_1 + 0x18),0x22,*(undefined4 *)(param_1 + 0x20c));
  (**(code **)(**(int **)(param_1 + 0x18) + 0xe4))
            (*(int **)(param_1 + 0x18),0x24,*(undefined4 *)(param_1 + 0x214));
  (**(code **)(**(int **)(param_1 + 0x18) + 0xe4))
            (*(int **)(param_1 + 0x18),0x25,*(undefined4 *)(param_1 + 0x218));
  (**(code **)(**(int **)(param_1 + 0x18) + 0xe4))(*(int **)(param_1 + 0x18),0x8c,0);
  (**(code **)(**(int **)(param_1 + 0x18) + 0xe4))(*(int **)(param_1 + 0x18),0x23,3);
  if (DAT_017251d0 != 0) {
    FUN_007cb320();
  }
  iVar6 = *(int *)(param_1 + 0x198);
  if (iVar6 != 0) {
    FUN_007662a0();
    iVar6 = *(int *)(iVar6 + 0x10);
    *(undefined1 *)(iVar6 + 4) = 0;
    if ((*(int *)(iVar6 + 8) != 0) && (cVar4 = FUN_0072eea0(), cVar4 != '\0')) {
      if (*(int *)(iVar6 + 0xc) != 0) {
        cVar4 = FUN_0072ea30(*(int *)(iVar6 + 0xc));
      }
      if (cVar4 != '\0') {
        *(undefined1 *)(iVar6 + 4) = 1;
      }
    }
  }
  uVar5 = 0;
  puVar1 = (uint *)(DAT_0172523c + 0x10);
  local_20._4_4_ = DAT_0172523c;
  if (*puVar1 != 0) {
    piVar7 = (int *)(DAT_0172523c + 0xc);
    do {
      FUN_00786fe0(local_20._4_4_,*(undefined4 *)(*piVar7 + uVar5 * 4));
      uVar5 = uVar5 + 1;
    } while (uVar5 < *puVar1);
  }
  if (DAT_01725204 != 0) {
    FUN_007c2a40(DAT_01725204);
  }
  FUN_007cf810(*(undefined4 *)(param_1 + 0x188));
  FUN_007c8320();
  FUN_007f0760();
  FUN_007c5130();
  if (*(int *)(param_1 + 0x1a4) != 0) {
    *(undefined1 *)(*(int *)(*(int *)(param_1 + 0x1a4) + 0x104) + 0xa9ba) = 1;
    iVar6 = *(int *)(*(int *)(param_1 + 0x1a4) + 0x104);
    if (iVar6 != 0) {
      FUN_007b7190(iVar6,1);
      iVar6 = *(int *)(*(int *)(param_1 + 0x1a4) + 0x104);
      *(int *)(iVar6 + 0x8794) = iVar6 + 0x1424;
      FUN_00467cd0(iVar6 + 0x7680);
    }
  }
  FUN_008018d0(L"[AvaRender::Restore] End");
  local_8 = 0xffffffff;
  if (local_28 != 0) {
    LeaveCriticalSection(local_34);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007ffdf0 : PUSH EBP
007ffdf1 : MOV EBP,ESP
007ffdf3 : PUSH -0x1
007ffdf5 : PUSH 0xb4d7d5
007ffdfa : MOV EAX,FS:[0x0]
007ffe00 : PUSH EAX
007ffe01 : SUB ESP,0x28
007ffe04 : PUSH EBX
007ffe05 : PUSH ESI
007ffe06 : PUSH EDI
007ffe07 : MOV EAX,[0x00d66fa0]
007ffe0c : XOR EAX,EBP
007ffe0e : PUSH EAX
007ffe0f : LEA EAX,[EBP + -0xc]
007ffe12 : MOV FS:[0x0],EAX
007ffe18 : MOV EBX,dword ptr [EBP + 0x8]
007ffe1b : MOV EAX,[0x017251ac]
007ffe20 : LEA ECX,[EBP + -0x30]
007ffe23 : ADD EAX,0x424
007ffe28 : XOR EDI,EDI
007ffe2a : PUSH ECX
007ffe2b : MOV dword ptr [EBP + -0x24],EDI
007ffe2e : MOV dword ptr [EBP + -0x30],EAX
007ffe31 : MOV dword ptr [EBP + -0x2c],0xc27ee4
007ffe38 : MOV dword ptr [EBP + -0x28],0x6cc
007ffe3f : MOV dword ptr [EBP + -0x20],0x1
007ffe46 : CALL 0x006ef1a0
007ffe4b : MOV dword ptr [EBP + -0x4],EDI
007ffe4e : MOV ESI,dword ptr [0x00da98e8]
007ffe54 : PUSH 0xc27efc
007ffe59 : CALL 0x008018d0
007ffe5e : MOV EAX,dword ptr [EBX + 0x26c]
007ffe64 : ADD ESP,0x4
007ffe67 : CMP EAX,EDI
007ffe69 : JZ 0x007ffe73
007ffe6b : MOV EDX,dword ptr [EAX]
007ffe6d : PUSH EAX
007ffe6e : MOV EAX,dword ptr [EDX + 0x44]
007ffe71 : CALL EAX
007ffe73 : MOV EAX,dword ptr [EBX + 0x268]
007ffe79 : CMP EAX,EDI
007ffe7b : JZ 0x007ffe85
007ffe7d : MOV ECX,dword ptr [EAX]
007ffe7f : MOV EDX,dword ptr [ECX + 0x44]
007ffe82 : PUSH EAX
007ffe83 : CALL EDX
007ffe85 : MOV EAX,dword ptr [EBX + 0x264]
007ffe8b : CMP EAX,EDI
007ffe8d : JZ 0x007ffe97
007ffe8f : MOV ECX,dword ptr [EAX]
007ffe91 : MOV EDX,dword ptr [ECX + 0x44]
007ffe94 : PUSH EAX
007ffe95 : CALL EDX
007ffe97 : MOV EAX,dword ptr [EBX + 0x270]
007ffe9d : CMP EAX,EDI
007ffe9f : JZ 0x007ffea9
007ffea1 : MOV ECX,dword ptr [EAX]
007ffea3 : MOV EDX,dword ptr [ECX + 0x44]
007ffea6 : PUSH EAX
007ffea7 : CALL EDX
007ffea9 : MOV ECX,dword ptr [EBX + 0xc]
007ffeac : MOV EAX,dword ptr [ECX]
007ffeae : MOV dword ptr [EBP + 0x8],EAX
007ffeb1 : CMP EAX,ECX
007ffeb3 : JZ 0x007ffed1
007ffeb5 : MOV ECX,dword ptr [EAX + 0x28]
007ffeb8 : MOV EAX,dword ptr [ECX]
007ffeba : MOV EDX,dword ptr [EAX + 0x20]
007ffebd : CALL EDX
007ffebf : LEA EDX,[EBP + 0x8]
007ffec2 : CALL 0x00430160
007ffec7 : MOV ECX,dword ptr [EBX + 0xc]
007ffeca : MOV EAX,dword ptr [EBP + 0x8]
007ffecd : CMP EAX,ECX
007ffecf : JNZ 0x007ffeb5
007ffed1 : LEA EAX,[EBX + 0x1a8]
007ffed7 : TEST EAX,EAX
007ffed9 : JZ 0x007ffee3
007ffedb : LEA ECX,[EBX + 0x1ac]
007ffee1 : JMP 0x007ffee5
007ffee3 : XOR ECX,ECX
007ffee5 : MOV EAX,dword ptr [EBX + 0x18]
007ffee8 : MOV EDX,dword ptr [EAX]
007ffeea : PUSH ECX
007ffeeb : PUSH EAX
007ffeec : MOV EAX,dword ptr [EDX + 0xc4]
007ffef2 : CALL EAX
007ffef4 : FLD float ptr [0x00cdf130]
007ffefa : MOVSS XMM0,dword ptr [EBX + 0x1f8]
007fff02 : FLD float ptr [0x00d72c24]
007fff08 : MOVSS XMM1,dword ptr [0x00c10fc4]
007fff10 : COMISS XMM0,XMM1
007fff13 : XORPS XMM2,XMM2
007fff16 : MOVSS dword ptr [EBP + 0x8],XMM0
007fff1b : JC 0x007fff24
007fff1d : MOV ESI,0xff
007fff22 : JMP 0x007fff4f
007fff24 : COMISS XMM2,XMM0
007fff27 : JC 0x007fff2d
007fff29 : XOR ESI,ESI
007fff2b : JMP 0x007fff4f
007fff2d : FLD float ptr [EBP + 0x8]
007fff30 : FNSTCW word ptr [EBP + 0xa]
007fff33 : MOVZX EAX,word ptr [EBP + 0xa]
007fff37 : FMUL ST2
007fff39 : OR EAX,0xc00
007fff3e : MOV dword ptr [EBP + -0x14],EAX
007fff41 : FADD ST0,ST1
007fff43 : FLDCW word ptr [EBP + -0x14]
007fff46 : FISTP qword ptr [EBP + -0x1c]
007fff49 : MOV ESI,dword ptr [EBP + -0x1c]
007fff4c : FLDCW word ptr [EBP + 0xa]
007fff4f : MOVSS XMM0,dword ptr [EBX + 0x1fc]
007fff57 : COMISS XMM0,XMM1
007fff5a : MOVSS dword ptr [EBP + 0x8],XMM0
007fff5f : JC 0x007fff6a
007fff61 : MOV dword ptr [EBP + -0x14],0xff
007fff68 : JMP 0x007fff99
007fff6a : COMISS XMM2,XMM0
007fff6d : JC 0x007fff74
007fff6f : MOV dword ptr [EBP + -0x14],EDI
007fff72 : JMP 0x007fff99
007fff74 : FLD float ptr [EBP + 0x8]
007fff77 : FNSTCW word ptr [EBP + 0xa]
007fff7a : MOVZX EAX,word ptr [EBP + 0xa]
007fff7e : FMUL ST2
007fff80 : OR EAX,0xc00
007fff85 : MOV dword ptr [EBP + -0x14],EAX
007fff88 : FADD ST0,ST1
007fff8a : FLDCW word ptr [EBP + -0x14]
007fff8d : FISTP qword ptr [EBP + -0x1c]
007fff90 : MOV ECX,dword ptr [EBP + -0x1c]
007fff93 : MOV dword ptr [EBP + -0x14],ECX
007fff96 : FLDCW word ptr [EBP + 0xa]
007fff99 : MOVSS XMM0,dword ptr [EBX + 0x200]
007fffa1 : COMISS XMM0,XMM1
007fffa4 : MOVSS dword ptr [EBP + 0x8],XMM0
007fffa9 : JC 0x007fffb2
007fffab : MOV EDX,0xff
007fffb0 : JMP 0x007fffdd
007fffb2 : COMISS XMM2,XMM0
007fffb5 : JC 0x007fffbb
007fffb7 : XOR EDX,EDX
007fffb9 : JMP 0x007fffdd
007fffbb : FLD float ptr [EBP + 0x8]
007fffbe : FNSTCW word ptr [EBP + 0xa]
007fffc1 : MOVZX EAX,word ptr [EBP + 0xa]
007fffc5 : FMUL ST2
007fffc7 : OR EAX,0xc00
007fffcc : MOV dword ptr [EBP + -0x18],EAX
007fffcf : FADD ST0,ST1
007fffd1 : FLDCW word ptr [EBP + -0x18]
007fffd4 : FISTP qword ptr [EBP + -0x1c]
007fffd7 : MOV EDX,dword ptr [EBP + -0x1c]
007fffda : FLDCW word ptr [EBP + 0xa]
007fffdd : MOVSS XMM0,dword ptr [EBX + 0x204]
007fffe5 : COMISS XMM0,XMM1
007fffe8 : MOVSS dword ptr [EBP + 0x8],XMM0
007fffed : JC 0x007ffffa
007fffef : FSTP ST1
007ffff1 : MOV EAX,0xff
007ffff6 : FSTP ST0
007ffff8 : JMP 0x00800029
007ffffa : COMISS XMM2,XMM0
007ffffd : JC 0x00800007
007fffff : FSTP ST1
00800001 : XOR EAX,EAX
00800003 : FSTP ST0
00800005 : JMP 0x00800029
00800007 : FLD float ptr [EBP + 0x8]
0080000a : FNSTCW word ptr [EBP + 0xa]
0080000d : MOVZX EAX,word ptr [EBP + 0xa]
00800011 : FMULP ST2
00800013 : OR EAX,0xc00
00800018 : MOV dword ptr [EBP + -0x18],EAX
0080001b : FADDP
0080001d : FLDCW word ptr [EBP + -0x18]
00800020 : FISTP qword ptr [EBP + -0x1c]
00800023 : MOV EAX,dword ptr [EBP + -0x1c]
00800026 : FLDCW word ptr [EBP + 0xa]
00800029 : MOV ECX,dword ptr [EBX + 0x18]
0080002c : MOV EDI,dword ptr [ECX]
0080002e : SHL EAX,0x8
00800031 : OR EAX,ESI
00800033 : SHL EAX,0x8
00800036 : OR EAX,dword ptr [EBP + -0x14]
00800039 : SHL EAX,0x8
0080003c : OR EAX,EDX
0080003e : MOV EDX,dword ptr [EDI + 0xe4]
00800044 : PUSH EAX
00800045 : PUSH 0x8b
0080004a : PUSH ECX
0080004b : CALL EDX
0080004d : MOV EAX,dword ptr [EBX + 0x18]
00800050 : MOV ECX,dword ptr [EAX]
00800052 : MOV EDX,dword ptr [ECX + 0xe4]
00800058 : PUSH 0x1
0080005a : PUSH 0x89
0080005f : PUSH EAX
00800060 : CALL EDX
00800062 : TEST EAX,EAX
00800064 : JGE 0x0080007a
00800066 : MOV ESI,dword ptr [0x00da98e8]
0080006c : PUSH EAX
0080006d : PUSH 0xc28024
00800072 : CALL 0x008018d0
00800077 : ADD ESP,0x8
0080007a : MOV EAX,dword ptr [EBX + 0x18]
0080007d : PUSH 0x1
0080007f : MOV byte ptr [EBX + 0x1f0],0x1
00800086 : MOV ECX,dword ptr [EAX]
00800088 : MOV EDX,dword ptr [ECX + 0xe4]
0080008e : PUSH 0x1c
00800090 : PUSH EAX
00800091 : CALL EDX
00800093 : MOV EDX,dword ptr [EBX + 0x20c]
00800099 : MOV EAX,dword ptr [EBX + 0x18]
0080009c : MOV ECX,dword ptr [EAX]
0080009e : PUSH EDX
0080009f : PUSH 0x22
008000a1 : PUSH EAX
008000a2 : MOV EAX,dword ptr [ECX + 0xe4]
008000a8 : CALL EAX
008000aa : MOV EDX,dword ptr [EBX + 0x214]
008000b0 : MOV EAX,dword ptr [EBX + 0x18]
008000b3 : MOV ECX,dword ptr [EAX]
008000b5 : PUSH EDX
008000b6 : PUSH 0x24
008000b8 : PUSH EAX
008000b9 : MOV EAX,dword ptr [ECX + 0xe4]
008000bf : CALL EAX
008000c1 : MOV EDX,dword ptr [EBX + 0x218]
008000c7 : MOV EAX,dword ptr [EBX + 0x18]
008000ca : MOV ECX,dword ptr [EAX]
008000cc : PUSH EDX
008000cd : PUSH 0x25
008000cf : PUSH EAX
008000d0 : MOV EAX,dword ptr [ECX + 0xe4]
008000d6 : CALL EAX
008000d8 : MOV EAX,dword ptr [EBX + 0x18]
008000db : MOV ECX,dword ptr [EAX]
008000dd : MOV EDX,dword ptr [ECX + 0xe4]
008000e3 : PUSH 0x0
008000e5 : PUSH 0x8c
008000ea : PUSH EAX
008000eb : CALL EDX
008000ed : MOV EAX,dword ptr [EBX + 0x18]
008000f0 : MOV ECX,dword ptr [EAX]
008000f2 : MOV EDX,dword ptr [ECX + 0xe4]
008000f8 : PUSH 0x3
008000fa : PUSH 0x23
008000fc : PUSH EAX
008000fd : CALL EDX
008000ff : MOV ECX,dword ptr [0x017251d0]
00800105 : TEST ECX,ECX
00800107 : JZ 0x0080010e
00800109 : CALL 0x007cb320
0080010e : MOV ESI,dword ptr [EBX + 0x198]
00800114 : TEST ESI,ESI
00800116 : JZ 0x0080014c
00800118 : MOV EAX,dword ptr [ESI + 0x8]
0080011b : CALL 0x007662a0
00800120 : MOV ESI,dword ptr [ESI + 0x10]
00800123 : MOV ECX,dword ptr [ESI + 0x8]
00800126 : MOV byte ptr [ESI + 0x4],0x0
0080012a : TEST ECX,ECX
0080012c : JZ 0x0080014c
0080012e : CALL 0x0072eea0
00800133 : TEST AL,AL
00800135 : JZ 0x0080014c
00800137 : MOV ECX,dword ptr [ESI + 0xc]
0080013a : TEST ECX,ECX
0080013c : JZ 0x00800144
0080013e : PUSH ECX
0080013f : CALL 0x0072ea30
00800144 : TEST AL,AL
00800146 : JZ 0x0080014c
00800148 : MOV byte ptr [ESI + 0x4],0x1
0080014c : MOV EAX,[0x0172523c]
00800151 : XOR ESI,ESI
00800153 : LEA EDI,[EAX + 0x10]
00800156 : MOV dword ptr [EBP + -0x18],EAX
00800159 : CMP dword ptr [EDI],ESI
0080015b : JBE 0x0080017a
0080015d : ADD EAX,0xc
00800160 : MOV dword ptr [EBP + 0x8],EAX
00800163 : MOV EAX,dword ptr [EBP + 0x8]
00800166 : MOV ECX,dword ptr [EAX]
00800168 : MOV EDX,dword ptr [ECX + ESI*0x4]
0080016b : MOV EAX,dword ptr [EBP + -0x18]
0080016e : PUSH EDX
0080016f : PUSH EAX
00800170 : CALL 0x00786fe0
00800175 : INC ESI
00800176 : CMP ESI,dword ptr [EDI]
00800178 : JC 0x00800163
0080017a : MOV EAX,[0x01725204]
0080017f : TEST EAX,EAX
00800181 : JZ 0x00800189
00800183 : PUSH EAX
00800184 : CALL 0x007c2a40
00800189 : MOV ECX,dword ptr [EBX + 0x188]
0080018f : PUSH ECX
00800190 : CALL 0x007cf810
00800195 : MOV EDI,dword ptr [EBX + 0x18c]
0080019b : CALL 0x007c8320
008001a0 : MOV EDI,dword ptr [EBX + 0x190]
008001a6 : CALL 0x007f0760
008001ab : MOV EDI,dword ptr [EBX + 0x194]
008001b1 : CALL 0x007c5130
008001b6 : MOV EAX,dword ptr [EBX + 0x1a4]
008001bc : TEST EAX,EAX
008001be : JZ 0x00800208
008001c0 : MOV EAX,dword ptr [EAX + 0x104]
008001c6 : MOV byte ptr [EAX + 0xa9ba],0x1
008001cd : MOV EDX,dword ptr [EBX + 0x1a4]
008001d3 : MOV EAX,dword ptr [EDX + 0x104]
008001d9 : TEST EAX,EAX
008001db : JZ 0x00800208
008001dd : PUSH 0x1
008001df : PUSH EAX
008001e0 : CALL 0x007b7190
008001e5 : MOV EAX,dword ptr [EBX + 0x1a4]
008001eb : MOV EAX,dword ptr [EAX + 0x104]
008001f1 : LEA ECX,[EAX + 0x1424]
008001f7 : MOV dword ptr [EAX + 0x8794],ECX
008001fd : ADD EAX,0x7680
00800202 : PUSH EAX
00800203 : CALL 0x00467cd0
00800208 : MOV ESI,dword ptr [0x00da98e8]
0080020e : PUSH 0xc27f34
00800213 : CALL 0x008018d0
00800218 : ADD ESP,0x4
0080021b : MOV dword ptr [EBP + -0x4],0xffffffff
00800222 : CMP dword ptr [EBP + -0x24],0x0
00800226 : JZ 0x00800239
00800228 : MOV EDX,dword ptr [EBP + -0x30]
0080022b : PUSH EDX
0080022c : CALL dword ptr [0x00b8511c]
00800232 : MOV dword ptr [EBP + -0x24],0x0
00800239 : MOV ECX,dword ptr [EBP + -0xc]
0080023c : MOV dword ptr FS:[0x0],ECX
00800243 : POP ECX
00800244 : POP EDI
00800245 : POP ESI
00800246 : POP EBX
00800247 : MOV ESP,EBP
00800249 : POP EBP
0080024a : RET 0x4
