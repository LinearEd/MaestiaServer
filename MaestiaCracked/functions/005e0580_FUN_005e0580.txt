PROGRAM  : Maestia.exe
FUNCTION : FUN_005e0580
ENTRY    : 005e0580
BODY     : [[005e0580, 005e06c2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005e0580(int param_1)

{
  int *piVar1;
  char cVar2;
  short sVar3;
  short sVar4;
  char *pcVar5;
  undefined4 uVar6;
  int in_ECX;
  char *pcVar7;
  undefined4 *puVar8;
  undefined4 local_18;
  undefined2 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined2 local_8;
  uint local_4;
  
  local_4 = DAT_00d66fa0 ^ (uint)&local_18;
  if (((*(int *)(in_ECX + 0xc) != 0) && (*(short *)(in_ECX + 0x28) == 0)) &&
     (*(short *)(in_ECX + 0x2a) == 0)) {
    local_10 = 0x54464548;
    local_18 = 0x7776787a;
    local_10._0_1_ = 'H';
    local_c = 0x58575655;
    local_8 = 0x5a;
    local_14 = 0x79;
    puVar8 = &local_10;
    cVar2 = (char)local_10;
    do {
      sVar3 = FUN_005e0500(cVar2);
      if (sVar3 != 0) {
        puVar8 = &local_18;
        cVar2 = (char)local_18;
        while (cVar2 != '\0') {
          sVar4 = FUN_005e0500(cVar2);
          if (sVar4 != 0) {
            *(short *)(in_ECX + 0x2a) = sVar3;
            *(short *)(in_ECX + 0x28) = sVar4;
            __security_check_cookie(local_4 ^ (uint)&local_18);
            return;
          }
          pcVar7 = (char *)((int)puVar8 + 1);
          puVar8 = (undefined4 *)((int)puVar8 + 1);
          cVar2 = *pcVar7;
        }
        break;
      }
      cVar2 = *(char *)((int)puVar8 + 1);
      puVar8 = (undefined4 *)((int)puVar8 + 1);
    } while (cVar2 != '\0');
  }
  if (param_1 != 0) {
    piVar1 = *(int **)(in_ECX + 0xc);
    pcVar7 = " Italic";
    if ((*(byte *)(piVar1 + 5) & 1) == 0) {
      pcVar7 = "";
    }
    pcVar5 = " Bold";
    if (((uint)piVar1[5] >> 1 & 1) == 0) {
      pcVar5 = "";
    }
    uVar6 = (**(code **)(*piVar1 + 0x3c))(pcVar5,pcVar7);
    FUN_0050a9f0(param_1 + 0xc,
                 "Warning: Font \'%s%s%s\': No hinting chars (any of \'HEFTUVWXZ\' and \'zxvwy\'). Auto-Hinting is disabled\n"
                 ,uVar6);
  }
  *(undefined2 *)(in_ECX + 0x28) = 0xffff;
  *(undefined2 *)(in_ECX + 0x2a) = 0xffff;
  __security_check_cookie(local_4 ^ (uint)&local_18);
  return;
}



============================================================
DISASSEMBLY
============================================================
005e0580 : SUB ESP,0x18
005e0583 : MOV EAX,[0x00d66fa0]
005e0588 : XOR EAX,ESP
005e058a : MOV dword ptr [ESP + 0x14],EAX
005e058e : PUSH EBX
005e058f : PUSH EBP
005e0590 : MOV EBP,dword ptr [ESP + 0x24]
005e0594 : PUSH ESI
005e0595 : MOV ESI,ECX
005e0597 : CMP dword ptr [ESI + 0xc],0x0
005e059b : PUSH EDI
005e059c : JZ 0x005e060f
005e059e : CMP word ptr [ESI + 0x28],0x0
005e05a3 : JNZ 0x005e060f
005e05a5 : CMP word ptr [ESI + 0x2a],0x0
005e05aa : JNZ 0x005e060f
005e05ac : MOV EAX,[0x00b93a28]
005e05b1 : MOV ECX,dword ptr [0x00b93a2c]
005e05b7 : MOV DX,word ptr [0x00b93a30]
005e05be : MOV dword ptr [ESP + 0x18],EAX
005e05c2 : MOV EAX,[0x00b93a20]
005e05c7 : MOV dword ptr [ESP + 0x10],EAX
005e05cb : MOV AL,byte ptr [ESP + 0x18]
005e05cf : MOV dword ptr [ESP + 0x1c],ECX
005e05d3 : MOV CX,word ptr [0x00b93a24]
005e05da : MOV word ptr [ESP + 0x20],DX
005e05df : MOV word ptr [ESP + 0x14],CX
005e05e4 : LEA EDI,[ESP + 0x18]
005e05e8 : TEST AL,AL
005e05ea : JZ 0x005e060f
005e05ec : LEA ESP,[ESP]
005e05f0 : MOVZX DX,AL
005e05f4 : MOVZX EAX,DX
005e05f7 : PUSH EAX
005e05f8 : MOV ECX,ESI
005e05fa : CALL 0x005e0500
005e05ff : MOVZX EBX,AX
005e0602 : TEST BX,BX
005e0605 : JNZ 0x005e0676
005e0607 : MOV AL,byte ptr [EDI + 0x1]
005e060a : INC EDI
005e060b : TEST AL,AL
005e060d : JNZ 0x005e05f0
005e060f : TEST EBP,EBP
005e0611 : JZ 0x005e0654
005e0613 : MOV ECX,dword ptr [ESI + 0xc]
005e0616 : TEST byte ptr [ECX + 0x14],0x1
005e061a : MOV EDX,0xb93a18
005e061f : JNZ 0x005e0626
005e0621 : MOV EDX,0xcca874
005e0626 : MOV EAX,dword ptr [ECX + 0x14]
005e0629 : SHR EAX,0x1
005e062b : TEST AL,0x1
005e062d : MOV EAX,0xb93a10
005e0632 : JNZ 0x005e0639
005e0634 : MOV EAX,0xcca874
005e0639 : PUSH EDX
005e063a : MOV EDX,dword ptr [ECX]
005e063c : PUSH EAX
005e063d : MOV EAX,dword ptr [EDX + 0x3c]
005e0640 : CALL EAX
005e0642 : PUSH EAX
005e0643 : PUSH 0xb939a8
005e0648 : ADD EBP,0xc
005e064b : PUSH EBP
005e064c : CALL 0x0050a9f0
005e0651 : ADD ESP,0x14
005e0654 : OR ECX,0xffffffff
005e0657 : POP EDI
005e0658 : OR EDX,ECX
005e065a : MOV word ptr [ESI + 0x28],CX
005e065e : MOV word ptr [ESI + 0x2a],DX
005e0662 : POP ESI
005e0663 : POP EBP
005e0664 : POP EBX
005e0665 : MOV ECX,dword ptr [ESP + 0x14]
005e0669 : XOR ECX,ESP
005e066b : CALL 0x00633e6b
005e0670 : ADD ESP,0x18
005e0673 : RET 0x4
005e0676 : MOV AL,byte ptr [ESP + 0x10]
005e067a : LEA EDI,[ESP + 0x10]
005e067e : TEST AL,AL
005e0680 : JZ 0x005e060f
005e0682 : MOVZX CX,AL
005e0686 : MOVZX EDX,CX
005e0689 : PUSH EDX
005e068a : MOV ECX,ESI
005e068c : CALL 0x005e0500
005e0691 : MOVZX EAX,AX
005e0694 : TEST AX,AX
005e0697 : JNZ 0x005e06a6
005e0699 : MOV AL,byte ptr [EDI + 0x1]
005e069c : INC EDI
005e069d : TEST AL,AL
005e069f : JNZ 0x005e0682
005e06a1 : JMP 0x005e060f
005e06a6 : MOV ECX,dword ptr [ESP + 0x24]
005e06aa : POP EDI
005e06ab : MOV word ptr [ESI + 0x2a],BX
005e06af : MOV word ptr [ESI + 0x28],AX
005e06b3 : POP ESI
005e06b4 : POP EBP
005e06b5 : POP EBX
005e06b6 : XOR ECX,ESP
005e06b8 : CALL 0x00633e6b
005e06bd : ADD ESP,0x18
005e06c0 : RET 0x4
