PROGRAM  : Maestia.exe
FUNCTION : FUN_006da340
ENTRY    : 006da340
BODY     : [[006da340, 006da49d]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_006da340(void)

{
  uint in_EAX;
  undefined4 uVar1;
  int *piVar2;
  undefined4 *puVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int unaff_EDI;
  undefined1 local_5;
  
  iVar4 = *(int *)(unaff_EDI + 0x188);
  local_5 = 0;
  if ((*(char *)(unaff_EDI + 200) == '\0') || (*(int *)(unaff_EDI + 0x8c) == 0)) {
    return in_EAX & 0xffffff00;
  }
  if (*(int *)(iVar4 + 0x70) == 0) {
    uVar1 = (*(code *)**(undefined4 **)(unaff_EDI + 4))();
    *(undefined4 *)(iVar4 + 0x70) = uVar1;
  }
  iVar4 = *(int *)(iVar4 + 0x70);
  puVar3 = *(undefined4 **)(unaff_EDI + 0xc4);
  iVar6 = 0;
  if (0 < *(int *)(unaff_EDI + 0x24)) {
    iVar5 = 0;
    puVar3 = puVar3 + 0x13;
    do {
      piVar2 = (int *)*puVar3;
      if (((((piVar2 == (int *)0x0) || ((short)*piVar2 == 0)) || (*(short *)((int)piVar2 + 2) == 0))
          || (((short)piVar2[4] == 0 || ((short)piVar2[8] == 0)))) ||
         ((*(short *)((int)piVar2 + 0x12) == 0 ||
          (((short)piVar2[1] == 0 ||
           (piVar2 = (int *)(*(int *)(unaff_EDI + 0x8c) + iVar5), *piVar2 < 0)))))) {
        return (uint)piVar2 & 0xffffff00;
      }
      *(int *)(iVar4 + 4) = piVar2[1];
      if (piVar2[1] != 0) {
        local_5 = 1;
      }
      *(int *)(iVar4 + 8) = piVar2[2];
      if (piVar2[2] != 0) {
        local_5 = 1;
      }
      *(int *)(iVar4 + 0xc) = piVar2[3];
      if (piVar2[3] != 0) {
        local_5 = 1;
      }
      *(int *)(iVar4 + 0x10) = piVar2[4];
      if (piVar2[4] != 0) {
        local_5 = 1;
      }
      *(int *)(iVar4 + 0x14) = piVar2[5];
      if (piVar2[5] != 0) {
        local_5 = 1;
      }
      iVar6 = iVar6 + 1;
      puVar3 = puVar3 + 0x15;
      iVar4 = iVar4 + 0x18;
      iVar5 = iVar5 + 0x100;
    } while (iVar6 < *(int *)(unaff_EDI + 0x24));
  }
  return CONCAT31((int3)((uint)puVar3 >> 8),local_5);
}



============================================================
DISASSEMBLY
============================================================
006da340 : SUB ESP,0x8
006da343 : CMP byte ptr [EDI + 0xc8],0x0
006da34a : PUSH ESI
006da34b : MOV ESI,dword ptr [EDI + 0x188]
006da351 : MOV byte ptr [ESP + 0x7],0x0
006da356 : JZ 0x006da497
006da35c : CMP dword ptr [EDI + 0x8c],0x0
006da363 : JZ 0x006da497
006da369 : CMP dword ptr [ESI + 0x70],0x0
006da36d : PUSH EBX
006da36e : MOV EBX,0x1
006da373 : JNZ 0x006da391
006da375 : MOV EAX,dword ptr [EDI + 0x24]
006da378 : MOV ECX,dword ptr [EDI + 0x4]
006da37b : LEA EDX,[EAX + EAX*0x2]
006da37e : MOV EAX,dword ptr [ECX]
006da380 : ADD EDX,EDX
006da382 : ADD EDX,EDX
006da384 : ADD EDX,EDX
006da386 : PUSH EDX
006da387 : PUSH EBX
006da388 : PUSH EDI
006da389 : CALL EAX
006da38b : ADD ESP,0xc
006da38e : MOV dword ptr [ESI + 0x70],EAX
006da391 : MOV EDX,dword ptr [ESI + 0x70]
006da394 : MOV EAX,dword ptr [EDI + 0xc4]
006da39a : XOR ESI,ESI
006da39c : CMP dword ptr [EDI + 0x24],ESI
006da39f : PUSH EBP
006da3a0 : JLE 0x006da483
006da3a6 : XOR EBP,EBP
006da3a8 : ADD EAX,0x4c
006da3ab : MOV dword ptr [ESP + 0x10],EAX
006da3af : NOP
006da3b0 : MOV EAX,dword ptr [EAX]
006da3b2 : TEST EAX,EAX
006da3b4 : JZ 0x006da48e
006da3ba : CMP word ptr [EAX],0x0
006da3be : JZ 0x006da48e
006da3c4 : CMP word ptr [EAX + 0x2],0x0
006da3c9 : JZ 0x006da48e
006da3cf : CMP word ptr [EAX + 0x10],0x0
006da3d4 : JZ 0x006da48e
006da3da : CMP word ptr [EAX + 0x20],0x0
006da3df : JZ 0x006da48e
006da3e5 : CMP word ptr [EAX + 0x12],0x0
006da3ea : JZ 0x006da48e
006da3f0 : CMP word ptr [EAX + 0x4],0x0
006da3f5 : JZ 0x006da48e
006da3fb : MOV EAX,dword ptr [EDI + 0x8c]
006da401 : ADD EAX,EBP
006da403 : CMP dword ptr [EAX],0x0
006da406 : JL 0x006da48e
006da40c : MOV ECX,dword ptr [EAX + 0x4]
006da40f : MOV dword ptr [EDX + 0x4],ECX
006da412 : CMP dword ptr [EAX + 0x4],0x0
006da416 : JZ 0x006da41c
006da418 : MOV byte ptr [ESP + 0xf],BL
006da41c : MOV ECX,0x8
006da421 : MOV EBX,dword ptr [ECX + EAX*0x1]
006da424 : MOV dword ptr [ECX + EDX*0x1],EBX
006da427 : CMP dword ptr [ECX + EAX*0x1],0x0
006da42b : LEA EBX,[ECX + -0x7]
006da42e : JZ 0x006da434
006da430 : MOV byte ptr [ESP + 0xf],BL
006da434 : MOV ECX,dword ptr [EAX + 0xc]
006da437 : MOV dword ptr [EDX + 0xc],ECX
006da43a : CMP dword ptr [EAX + 0xc],0x0
006da43e : JZ 0x006da444
006da440 : MOV byte ptr [ESP + 0xf],BL
006da444 : MOV ECX,dword ptr [EAX + 0x10]
006da447 : MOV dword ptr [EDX + 0x10],ECX
006da44a : CMP dword ptr [EAX + 0x10],0x0
006da44e : JZ 0x006da454
006da450 : MOV byte ptr [ESP + 0xf],BL
006da454 : MOV ECX,dword ptr [EAX + 0x14]
006da457 : MOV dword ptr [EDX + 0x14],ECX
006da45a : CMP dword ptr [EAX + 0x14],0x0
006da45e : JZ 0x006da464
006da460 : MOV byte ptr [ESP + 0xf],BL
006da464 : MOV EAX,dword ptr [ESP + 0x10]
006da468 : ADD ESI,EBX
006da46a : ADD EAX,0x54
006da46d : ADD EDX,0x18
006da470 : ADD EBP,0x100
006da476 : CMP ESI,dword ptr [EDI + 0x24]
006da479 : MOV dword ptr [ESP + 0x10],EAX
006da47d : JL 0x006da3b0
006da483 : MOV AL,byte ptr [ESP + 0xf]
006da487 : POP EBP
006da488 : POP EBX
006da489 : POP ESI
006da48a : ADD ESP,0x8
006da48d : RET
006da48e : POP EBP
006da48f : POP EBX
006da490 : XOR AL,AL
006da492 : POP ESI
006da493 : ADD ESP,0x8
006da496 : RET
006da497 : XOR AL,AL
006da499 : POP ESI
006da49a : ADD ESP,0x8
006da49d : RET
