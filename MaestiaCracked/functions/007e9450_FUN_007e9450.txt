PROGRAM  : Maestia.exe
FUNCTION : FUN_007e9450
ENTRY    : 007e9450
BODY     : [[007e9450, 007e97ad]]

============================================================
DECOMPILED C CODE
============================================================

undefined4
FUN_007e9450(undefined4 param_1,undefined4 param_2,undefined4 *param_3,ushort *param_4,byte *param_5
            ,undefined8 *param_6,char param_7)

{
  byte bVar1;
  ushort uVar2;
  char cVar3;
  uint uVar4;
  int iVar5;
  undefined8 *puVar6;
  int in_ECX;
  ushort *puVar7;
  byte *pbVar8;
  uint in_stack_ffffffa8;
  undefined4 uVar9;
  int local_44;
  uint local_40;
  ushort *local_34;
  int local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 uStack_24;
  undefined4 local_20;
  undefined4 uStack_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  puStack_10 = &LAB_00b4367e;
  local_14 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xffffffb0;
  ExceptionList = &local_14;
  local_34 = (ushort *)0x0;
  local_30 = 0;
  local_2c = 0;
  local_c = 0;
  FUN_004084e0(0,in_stack_ffffffa8 & 0xffffff00);
  local_44 = 0;
  if (param_6 != (undefined8 *)0x0) {
    local_28 = 0x3f800000;
    uStack_24 = 0x3f800000;
    local_20 = 0x3f800000;
    uStack_1c = 0x3f800000;
    *param_6 = 0x3f8000003f800000;
    param_6[1] = 0x3f8000003f800000;
  }
  iVar5 = FUN_007df230();
  if ((iVar5 == 0) || (cVar3 = FUN_007ae960(iVar5,param_1,param_2,&local_44), cVar3 == '\0')) {
    local_c = 0xffffffff;
    if (local_34 == (ushort *)0x0) {
      ExceptionList = local_14;
      return 0;
    }
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar4);
  }
  if ((local_30 - (int)local_34) / 9 != 0) {
    if (local_44 < 2) {
      uVar2 = *local_34;
      *param_3 = *(undefined4 *)((int)local_34 + 5);
      *param_5 = (byte)local_34[2];
      *param_4 = uVar2;
      if (param_6 != (undefined8 *)0x0) {
        puVar6 = (undefined8 *)FUN_007dfb60();
        *param_6 = *puVar6;
        param_6[1] = puVar6[1];
      }
      cVar3 = FUN_007de1f0(10);
      if (((cVar3 == '\0') && (cVar3 = FUN_007de1f0(0xb), cVar3 == '\0')) ||
         (cVar3 = FUN_007de610(), cVar3 != '\0')) {
        if (param_7 == '\0') {
          uVar9 = 4;
        }
        else {
          uVar9 = 0;
        }
        cVar3 = FUN_007de1f0(uVar9);
        if (cVar3 != '\0') {
          local_c = 0xffffffff;
          FUN_004f0ef0();
          ExceptionList = local_14;
          return 1;
        }
      }
      local_c = 0xffffffff;
      FUN_004f0ef0();
      ExceptionList = local_14;
      return 0;
    }
    iVar5 = local_44 + -1;
    local_40 = 0;
    puVar7 = local_34;
    if (-1 < iVar5) {
      pbVar8 = (byte *)((int)local_34 + local_44 + 3 + iVar5 * 8);
      local_44 = iVar5;
      do {
        uVar2 = *(ushort *)(pbVar8 + -4);
        uVar4 = (uint)uVar2;
        if ((ushort)local_40 < uVar2) {
          *param_3 = *(undefined4 *)(pbVar8 + 1);
          *param_5 = *pbVar8;
          *param_4 = uVar2;
          bVar1 = *param_5;
          local_40 = uVar4;
          if ((((*(byte *)(in_ECX + 0x274 + (uint)bVar1 * 0x28) == bVar1) &&
               ((*(uint *)(in_ECX + (uint)bVar1 * 0x28 + 0x294) >> 10 & 1) != 0)) ||
              ((*(byte *)(in_ECX + 0x274 + (uint)bVar1 * 0x28) == bVar1 &&
               ((*(uint *)(in_ECX + (uint)bVar1 * 0x28 + 0x294) >> 0xb & 1) != 0)))) &&
             (cVar3 = FUN_007de610(), cVar3 == '\0')) goto LAB_007e9589;
          if (param_7 == '\0') {
            uVar9 = 4;
          }
          else {
            uVar9 = 0;
          }
          cVar3 = FUN_007de1f0(uVar9);
          puVar7 = local_34;
          if (cVar3 == '\0') {
            local_c = 0xffffffff;
            FUN_004f0ef0();
            ExceptionList = local_14;
            return 0;
          }
        }
        local_44 = local_44 + -1;
        pbVar8 = pbVar8 + -9;
        iVar5 = local_44;
      } while (-1 < local_44);
    }
    local_44 = iVar5;
    local_c = 0xffffffff;
    if (puVar7 == (ushort *)0x0) {
      ExceptionList = local_14;
      return 1;
    }
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
LAB_007e9589:
  local_c = 0xffffffff;
  if (local_34 == (ushort *)0x0) {
    ExceptionList = local_14;
    return 0;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
007e9450 : PUSH EBP
007e9451 : MOV EBP,ESP
007e9453 : AND ESP,0xfffffff8
007e9456 : PUSH -0x1
007e9458 : PUSH 0xb4367e
007e945d : MOV EAX,FS:[0x0]
007e9463 : PUSH EAX
007e9464 : SUB ESP,0x30
007e9467 : PUSH EBX
007e9468 : PUSH ESI
007e9469 : PUSH EDI
007e946a : MOV EAX,[0x00d66fa0]
007e946f : XOR EAX,ESP
007e9471 : PUSH EAX
007e9472 : LEA EAX,[ESP + 0x40]
007e9476 : MOV FS:[0x0],EAX
007e947c : MOV EBX,dword ptr [EBP + 0x1c]
007e947f : MOV ESI,ECX
007e9481 : XOR EDI,EDI
007e9483 : MOV dword ptr [ESP + 0x20],EDI
007e9487 : MOV dword ptr [ESP + 0x24],EDI
007e948b : MOV dword ptr [ESP + 0x28],EDI
007e948f : MOV dword ptr [ESP + 0x48],EDI
007e9493 : SUB ESP,0xc
007e9496 : MOV EAX,ESP
007e9498 : PXOR XMM0,XMM0
007e949c : XOR CL,CL
007e949e : MOVQ qword ptr [EAX],XMM0
007e94a2 : MOV byte ptr [EAX + 0x8],CL
007e94a5 : LEA EAX,[ESP + 0x28]
007e94a9 : CALL 0x004084e0
007e94ae : MOV dword ptr [ESP + 0x10],EDI
007e94b2 : CMP EBX,EDI
007e94b4 : JZ 0x007e94eb
007e94b6 : MOVSS XMM0,dword ptr [0x00c10fc4]
007e94be : MOVSS dword ptr [ESP + 0x2c],XMM0
007e94c4 : MOVSS dword ptr [ESP + 0x30],XMM0
007e94ca : MOVSS dword ptr [ESP + 0x34],XMM0
007e94d0 : MOVSS dword ptr [ESP + 0x38],XMM0
007e94d6 : MOVQ XMM0,qword ptr [ESP + 0x2c]
007e94dc : MOVQ qword ptr [EBX],XMM0
007e94e0 : MOVQ XMM0,qword ptr [ESP + 0x34]
007e94e6 : MOVQ qword ptr [EBX + 0x8],XMM0
007e94eb : FLD float ptr [EBP + 0xc]
007e94ee : SUB ESP,0x8
007e94f1 : FSTP float ptr [ESP + 0x4]
007e94f5 : MOV EDI,ESI
007e94f7 : FLD float ptr [EBP + 0x8]
007e94fa : FSTP float ptr [ESP]
007e94fd : CALL 0x007df230
007e9502 : XOR EDI,EDI
007e9504 : CMP EAX,EDI
007e9506 : JZ 0x007e952d
007e9508 : FLD float ptr [EBP + 0xc]
007e950b : LEA ECX,[ESP + 0x10]
007e950f : PUSH ECX
007e9510 : SUB ESP,0x8
007e9513 : FSTP float ptr [ESP + 0x4]
007e9517 : LEA EDI,[ESP + 0x28]
007e951b : FLD float ptr [EBP + 0x8]
007e951e : FSTP float ptr [ESP]
007e9521 : PUSH EAX
007e9522 : CALL 0x007ae960
007e9527 : TEST AL,AL
007e9529 : JNZ 0x007e9565
007e952b : XOR EDI,EDI
007e952d : MOV dword ptr [ESP + 0x48],0xffffffff
007e9535 : MOV ECX,dword ptr [ESP + 0x20]
007e9539 : CMP ECX,EDI
007e953b : JZ 0x007e9542
007e953d : CALL 0x006f04e0
007e9542 : MOV dword ptr [ESP + 0x20],EDI
007e9546 : MOV dword ptr [ESP + 0x24],EDI
007e954a : MOV dword ptr [ESP + 0x28],EDI
007e954e : XOR AL,AL
007e9550 : MOV ECX,dword ptr [ESP + 0x40]
007e9554 : MOV dword ptr FS:[0x0],ECX
007e955b : POP ECX
007e955c : POP EDI
007e955d : POP ESI
007e955e : POP EBX
007e955f : MOV ESP,EBP
007e9561 : POP EBP
007e9562 : RET 0x1c
007e9565 : MOV EDX,dword ptr [ESP + 0x24]
007e9569 : MOV ECX,dword ptr [ESP + 0x20]
007e956d : SUB EDX,ECX
007e956f : MOV EAX,0x38e38e39
007e9574 : IMUL EDX
007e9576 : SAR EDX,0x1
007e9578 : MOV EAX,EDX
007e957a : SHR EAX,0x1f
007e957d : ADD EAX,EDX
007e957f : JNZ 0x007e95b7
007e9581 : MOV dword ptr [ESP + 0x48],0xffffffff
007e9589 : XOR ESI,ESI
007e958b : CMP ECX,ESI
007e958d : JZ 0x007e9594
007e958f : CALL 0x006f04e0
007e9594 : MOV dword ptr [ESP + 0x20],ESI
007e9598 : MOV dword ptr [ESP + 0x24],ESI
007e959c : MOV dword ptr [ESP + 0x28],ESI
007e95a0 : XOR AL,AL
007e95a2 : MOV ECX,dword ptr [ESP + 0x40]
007e95a6 : MOV dword ptr FS:[0x0],ECX
007e95ad : POP ECX
007e95ae : POP EDI
007e95af : POP ESI
007e95b0 : POP EBX
007e95b1 : MOV ESP,EBP
007e95b3 : POP EBP
007e95b4 : RET 0x1c
007e95b7 : MOV EDX,dword ptr [ESP + 0x10]
007e95bb : CMP EDX,0x1
007e95be : JG 0x007e968e
007e95c4 : FLD float ptr [ECX + 0x5]
007e95c7 : MOVZX EAX,word ptr [ECX]
007e95ca : MOV EDX,dword ptr [EBP + 0x10]
007e95cd : MOV EDI,dword ptr [EBP + 0x18]
007e95d0 : FSTP float ptr [EDX]
007e95d2 : MOV CL,byte ptr [ECX + 0x4]
007e95d5 : MOV EDX,dword ptr [EBP + 0x14]
007e95d8 : MOV byte ptr [EDI],CL
007e95da : MOV word ptr [EDX],AX
007e95dd : TEST EBX,EBX
007e95df : JZ 0x007e960e
007e95e1 : FLD float ptr [EBP + 0xc]
007e95e4 : SUB ESP,0x8
007e95e7 : FSTP float ptr [ESP + 0x4]
007e95eb : LEA EAX,[ESP + 0x34]
007e95ef : FLD float ptr [EBP + 0x8]
007e95f2 : MOV ECX,ESI
007e95f4 : FSTP float ptr [ESP]
007e95f7 : CALL 0x007dfb60
007e95fc : MOVQ XMM0,qword ptr [EAX]
007e9600 : MOVQ qword ptr [EBX],XMM0
007e9604 : MOVQ XMM0,qword ptr [EAX + 0x8]
007e9609 : MOVQ qword ptr [EBX + 0x8],XMM0
007e960e : MOV BL,byte ptr [EDI]
007e9610 : PUSH 0xa
007e9612 : MOV CL,BL
007e9614 : MOV EDX,ESI
007e9616 : CALL 0x007de1f0
007e961b : TEST AL,AL
007e961d : JNZ 0x007e962c
007e961f : PUSH 0xb
007e9621 : MOV CL,BL
007e9623 : CALL 0x007de1f0
007e9628 : TEST AL,AL
007e962a : JZ 0x007e9637
007e962c : MOV AL,BL
007e962e : CALL 0x007de610
007e9633 : TEST AL,AL
007e9635 : JZ 0x007e964c
007e9637 : CMP byte ptr [EBP + 0x20],0x0
007e963b : MOV CL,BL
007e963d : MOV EDX,ESI
007e963f : JNZ 0x007e9674
007e9641 : PUSH 0x4
007e9643 : CALL 0x007de1f0
007e9648 : TEST AL,AL
007e964a : JNZ 0x007e9678
007e964c : MOV dword ptr [ESP + 0x48],0xffffffff
007e9654 : LEA ESI,[ESP + 0x1c]
007e9658 : CALL 0x004f0ef0
007e965d : XOR AL,AL
007e965f : MOV ECX,dword ptr [ESP + 0x40]
007e9663 : MOV dword ptr FS:[0x0],ECX
007e966a : POP ECX
007e966b : POP EDI
007e966c : POP ESI
007e966d : POP EBX
007e966e : MOV ESP,EBP
007e9670 : POP EBP
007e9671 : RET 0x1c
007e9674 : PUSH 0x0
007e9676 : JMP 0x007e9643
007e9678 : MOV dword ptr [ESP + 0x48],0xffffffff
007e9680 : LEA ESI,[ESP + 0x1c]
007e9684 : CALL 0x004f0ef0
007e9689 : JMP 0x007e9770
007e968e : XOR EBX,EBX
007e9690 : DEC EDX
007e9691 : CMP EDX,EBX
007e9693 : MOV dword ptr [ESP + 0x14],EBX
007e9697 : MOV dword ptr [ESP + 0x10],EDX
007e969b : JL 0x007e9753
007e96a1 : LEA EAX,[ECX + EDX*0x8]
007e96a4 : LEA EDI,[EDX + EAX*0x1 + 0x4]
007e96a8 : MOVZX EAX,word ptr [EDI + -0x4]
007e96ac : CMP AX,word ptr [ESP + 0x14]
007e96b1 : JBE 0x007e9741
007e96b7 : FLD float ptr [EDI + 0x1]
007e96ba : MOV EDX,dword ptr [EBP + 0x10]
007e96bd : MOVZX ECX,AX
007e96c0 : FSTP float ptr [EDX]
007e96c2 : MOV DL,byte ptr [EDI]
007e96c4 : MOV dword ptr [ESP + 0x14],ECX
007e96c8 : MOV ECX,dword ptr [EBP + 0x18]
007e96cb : MOV byte ptr [ECX],DL
007e96cd : MOV EDX,dword ptr [EBP + 0x14]
007e96d0 : MOV word ptr [EDX],AX
007e96d3 : MOV BL,byte ptr [ECX]
007e96d5 : MOVZX EAX,BL
007e96d8 : LEA EAX,[EAX + EAX*0x4]
007e96db : CMP byte ptr [ESI + EAX*0x8 + 0x274],BL
007e96e2 : LEA EAX,[ESI + EAX*0x8]
007e96e5 : JNZ 0x007e96f5
007e96e7 : MOV ECX,dword ptr [EAX + 0x294]
007e96ed : SHR ECX,0xa
007e96f0 : AND ECX,0x1
007e96f3 : JNZ 0x007e9715
007e96f5 : MOVZX EAX,BL
007e96f8 : LEA EDX,[EAX + EAX*0x4]
007e96fb : CMP byte ptr [ESI + EDX*0x8 + 0x274],BL
007e9702 : LEA EAX,[ESI + EDX*0x8]
007e9705 : JNZ 0x007e9720
007e9707 : MOV EAX,dword ptr [EAX + 0x294]
007e970d : SHR EAX,0xb
007e9710 : AND EAX,0x1
007e9713 : JZ 0x007e9720
007e9715 : MOV AL,BL
007e9717 : CALL 0x007de610
007e971c : TEST AL,AL
007e971e : JZ 0x007e9787
007e9720 : CMP byte ptr [EBP + 0x20],0x0
007e9724 : MOV CL,BL
007e9726 : MOV EDX,ESI
007e9728 : JNZ 0x007e972e
007e972a : PUSH 0x4
007e972c : JMP 0x007e9730
007e972e : PUSH 0x0
007e9730 : CALL 0x007de1f0
007e9735 : TEST AL,AL
007e9737 : JZ 0x007e9798
007e9739 : MOV ECX,dword ptr [ESP + 0x20]
007e973d : MOV EDX,dword ptr [ESP + 0x10]
007e9741 : DEC EDX
007e9742 : XOR EBX,EBX
007e9744 : SUB EDI,0x9
007e9747 : CMP EDX,EBX
007e9749 : MOV dword ptr [ESP + 0x10],EDX
007e974d : JGE 0x007e96a8
007e9753 : MOV dword ptr [ESP + 0x48],0xffffffff
007e975b : CMP ECX,EBX
007e975d : JZ 0x007e9764
007e975f : CALL 0x006f04e0
007e9764 : MOV dword ptr [ESP + 0x20],EBX
007e9768 : MOV dword ptr [ESP + 0x24],EBX
007e976c : MOV dword ptr [ESP + 0x28],EBX
007e9770 : MOV AL,0x1
007e9772 : MOV ECX,dword ptr [ESP + 0x40]
007e9776 : MOV dword ptr FS:[0x0],ECX
007e977d : POP ECX
007e977e : POP EDI
007e977f : POP ESI
007e9780 : POP EBX
007e9781 : MOV ESP,EBP
007e9783 : POP EBP
007e9784 : RET 0x1c
007e9787 : MOV dword ptr [ESP + 0x48],0xffffffff
007e978f : MOV ECX,dword ptr [ESP + 0x20]
007e9793 : JMP 0x007e9589
007e9798 : MOV dword ptr [ESP + 0x48],0xffffffff
007e97a0 : LEA ESI,[ESP + 0x1c]
007e97a4 : CALL 0x004f0ef0
007e97a9 : JMP 0x007e95a0
