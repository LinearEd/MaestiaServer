PROGRAM  : Maestia.exe
FUNCTION : FUN_0091bc80
ENTRY    : 0091bc80
BODY     : [[0091bc80, 0091bd4d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0091bc80(void)

{
  int *piVar1;
  int iVar2;
  short in_AX;
  DWORD DVar3;
  int iVar4;
  int iVar5;
  int unaff_ESI;
  uint unaff_EDI;
  
  if (*(ushort *)(unaff_ESI + 0x1e8) != unaff_EDI) {
    if (in_AX != 0) {
      *(short *)(unaff_ESI + 0x1ea) = in_AX;
    }
    DVar3 = timeGetTime();
    *(DWORD *)(unaff_ESI + 0x1ec) = DVar3;
    *(short *)(unaff_ESI + 0x1e8) = (short)unaff_EDI;
    if (unaff_EDI == 1) {
      if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0))
      {
        (**(code **)(*piVar1 + 4))(piVar1,"RVRPetCount",&DAT_00c69994,0);
      }
      iVar2 = *DAT_00da9894;
      iVar5 = *(int *)(iVar2 + 300);
      if ((iVar5 != 0) && (*(int *)(iVar5 + 0x18) != 0)) {
        iVar4 = 0;
        if (iVar5 != 0) {
          iVar4 = *(int *)(iVar5 + 0x18);
        }
        if (*(char *)(iVar4 + 0x32) != '\0') {
          iVar5 = 0;
          if (*(int *)(iVar2 + 300) != 0) {
            iVar5 = *(int *)(*(int *)(iVar2 + 300) + 0x18);
          }
          if (*(short *)(iVar5 + 0x6e) == *(short *)(iVar5 + 0x6c)) {
            iVar5 = 0;
            if (*(int *)(iVar2 + 300) != 0) {
              iVar5 = *(int *)(*(int *)(iVar2 + 300) + 0x18);
            }
            if (*(int *)(iVar2 + 300) == 0) {
              FUN_00981f80(0,*(undefined2 *)(iVar5 + 0x6e));
              return;
            }
            FUN_00981f80(*(undefined4 *)(*(int *)(iVar2 + 300) + 0x18),*(undefined2 *)(iVar5 + 0x6e)
                        );
          }
        }
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0091bc80 : MOVZX ECX,word ptr [ESI + 0x1e8]
0091bc87 : CMP ECX,EDI
0091bc89 : JZ 0x0091bd4d
0091bc8f : XOR EDX,EDX
0091bc91 : CMP DX,AX
0091bc94 : JNC 0x0091bc9d
0091bc96 : MOV word ptr [ESI + 0x1ea],AX
0091bc9d : CALL dword ptr [0x00b85598]
0091bca3 : MOV dword ptr [ESI + 0x1ec],EAX
0091bca9 : MOV word ptr [ESI + 0x1e8],DI
0091bcb0 : CMP EDI,0x1
0091bcb3 : JNZ 0x0091bd4d
0091bcb9 : MOV EAX,[0x00da9894]
0091bcbe : MOV EAX,dword ptr [EAX]
0091bcc0 : TEST EAX,EAX
0091bcc2 : JZ 0x0091bce5
0091bcc4 : MOV EAX,dword ptr [EAX + 0x114]
0091bcca : TEST EAX,EAX
0091bccc : JZ 0x0091bce5
0091bcce : MOV ECX,dword ptr [EAX]
0091bcd0 : MOV EDX,dword ptr [ECX + 0x4]
0091bcd3 : PUSH 0x0
0091bcd5 : PUSH 0xc69994
0091bcda : PUSH 0xc69998
0091bcdf : PUSH EAX
0091bce0 : CALL EDX
0091bce2 : ADD ESP,0x10
0091bce5 : MOV EAX,[0x00da9894]
0091bcea : MOV EAX,dword ptr [EAX]
0091bcec : MOV ECX,dword ptr [EAX + 0x12c]
0091bcf2 : TEST ECX,ECX
0091bcf4 : JZ 0x0091bd4d
0091bcf6 : CMP dword ptr [ECX + 0x18],0x0
0091bcfa : JZ 0x0091bd4d
0091bcfc : TEST ECX,ECX
0091bcfe : JZ 0x0091bd03
0091bd00 : MOV ECX,dword ptr [ECX + 0x18]
0091bd03 : CMP byte ptr [ECX + 0x32],0x0
0091bd07 : JZ 0x0091bd4d
0091bd09 : MOV ECX,dword ptr [EAX + 0x12c]
0091bd0f : TEST ECX,ECX
0091bd11 : JZ 0x0091bd16
0091bd13 : MOV ECX,dword ptr [ECX + 0x18]
0091bd16 : MOV DX,word ptr [ECX + 0x6e]
0091bd1a : CMP DX,word ptr [ECX + 0x6c]
0091bd1e : JNZ 0x0091bd4d
0091bd20 : MOV ECX,dword ptr [EAX + 0x12c]
0091bd26 : TEST ECX,ECX
0091bd28 : JZ 0x0091bd2d
0091bd2a : MOV ECX,dword ptr [ECX + 0x18]
0091bd2d : MOV EAX,dword ptr [EAX + 0x12c]
0091bd33 : MOVZX ECX,word ptr [ECX + 0x6e]
0091bd37 : TEST EAX,EAX
0091bd39 : JNZ 0x0091bd43
0091bd3b : PUSH ECX
0091bd3c : PUSH EAX
0091bd3d : CALL 0x00981f80
0091bd42 : RET
0091bd43 : MOV EAX,dword ptr [EAX + 0x18]
0091bd46 : PUSH ECX
0091bd47 : PUSH EAX
0091bd48 : CALL 0x00981f80
0091bd4d : RET
