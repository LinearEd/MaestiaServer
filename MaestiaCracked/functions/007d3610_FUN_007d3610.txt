PROGRAM  : Maestia.exe
FUNCTION : FUN_007d3610
ENTRY    : 007d3610
BODY     : [[007d3610, 007d36f4]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d3610(int param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int *piVar3;
  uint uVar4;
  int iVar5;
  int *in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0ef05;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (in_ECX[2] != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  local_8 = 0;
  if ((in_ECX[0xa7] != 9) || ((param_1 != 8 && (param_1 != 3)))) {
    in_ECX[0xa7] = param_1;
    iVar5 = (**(code **)(*in_ECX + 0x44))(uVar4);
    if (iVar5 != 0) {
      puVar1 = (undefined4 *)in_ECX[0xe];
      for (puVar2 = (undefined4 *)*puVar1; puVar2 != puVar1; puVar2 = (undefined4 *)*puVar2) {
        piVar3 = (int *)puVar2[9];
        iVar5 = (**(code **)(*piVar3 + 0x1c))();
        if ((iVar5 - 2U < 8) || (iVar5 = (**(code **)(*piVar3 + 0x1c))(), iVar5 == 1)) {
          (**(code **)(*piVar3 + 0x9c))(param_1);
        }
      }
    }
  }
  local_8 = 0xffffffff;
  if (in_ECX[2] != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d3610 : PUSH EBP
007d3611 : MOV EBP,ESP
007d3613 : PUSH -0x1
007d3615 : PUSH 0xb0ef05
007d361a : MOV EAX,FS:[0x0]
007d3620 : PUSH EAX
007d3621 : SUB ESP,0x8
007d3624 : PUSH EBX
007d3625 : PUSH ESI
007d3626 : PUSH EDI
007d3627 : MOV EAX,[0x00d66fa0]
007d362c : XOR EAX,EBP
007d362e : PUSH EAX
007d362f : LEA EAX,[EBP + -0xc]
007d3632 : MOV FS:[0x0],EAX
007d3638 : MOV EBX,ECX
007d363a : MOV EAX,dword ptr [EBX + 0x8]
007d363d : MOV dword ptr [EBP + -0x14],EBX
007d3640 : TEST EAX,EAX
007d3642 : JZ 0x007d364e
007d3644 : ADD EAX,0x4
007d3647 : PUSH EAX
007d3648 : CALL dword ptr [0x00b85118]
007d364e : MOV dword ptr [EBP + -0x4],0x0
007d3655 : CMP dword ptr [EBX + 0x29c],0x9
007d365c : MOV EAX,dword ptr [EBP + 0x8]
007d365f : JNZ 0x007d366b
007d3661 : CMP EAX,0x8
007d3664 : JZ 0x007d36c9
007d3666 : CMP EAX,0x3
007d3669 : JZ 0x007d36c9
007d366b : MOV dword ptr [EBX + 0x29c],EAX
007d3671 : MOV EAX,dword ptr [EBX]
007d3673 : MOV EDX,dword ptr [EAX + 0x44]
007d3676 : MOV ECX,EBX
007d3678 : CALL EDX
007d367a : TEST EAX,EAX
007d367c : JZ 0x007d36c9
007d367e : MOV EAX,dword ptr [EBX + 0x38]
007d3681 : MOV EDI,dword ptr [EAX]
007d3683 : MOV dword ptr [EBP + -0x10],EAX
007d3686 : CMP EDI,EAX
007d3688 : JZ 0x007d36c9
007d368a : LEA EBX,[EBX]
007d3690 : MOV ESI,dword ptr [EDI + 0x24]
007d3693 : MOV EAX,dword ptr [ESI]
007d3695 : MOV EDX,dword ptr [EAX + 0x1c]
007d3698 : MOV ECX,ESI
007d369a : CALL EDX
007d369c : ADD EAX,-0x2
007d369f : CMP EAX,0x7
007d36a2 : JBE 0x007d36b2
007d36a4 : MOV EAX,dword ptr [ESI]
007d36a6 : MOV EDX,dword ptr [EAX + 0x1c]
007d36a9 : MOV ECX,ESI
007d36ab : CALL EDX
007d36ad : CMP EAX,0x1
007d36b0 : JNZ 0x007d36c2
007d36b2 : MOV ECX,dword ptr [EBP + 0x8]
007d36b5 : MOV EAX,dword ptr [ESI]
007d36b7 : MOV EDX,dword ptr [EAX + 0x9c]
007d36bd : PUSH ECX
007d36be : MOV ECX,ESI
007d36c0 : CALL EDX
007d36c2 : MOV EDI,dword ptr [EDI]
007d36c4 : CMP EDI,dword ptr [EBP + -0x10]
007d36c7 : JNZ 0x007d3690
007d36c9 : MOV dword ptr [EBP + -0x4],0xffffffff
007d36d0 : MOV EBX,dword ptr [EBX + 0x8]
007d36d3 : TEST EBX,EBX
007d36d5 : JZ 0x007d36e1
007d36d7 : ADD EBX,0x4
007d36da : PUSH EBX
007d36db : CALL dword ptr [0x00b8511c]
007d36e1 : MOV ECX,dword ptr [EBP + -0xc]
007d36e4 : MOV dword ptr FS:[0x0],ECX
007d36eb : POP ECX
007d36ec : POP EDI
007d36ed : POP ESI
007d36ee : POP EBX
007d36ef : MOV ESP,EBP
007d36f1 : POP EBP
007d36f2 : RET 0x4
