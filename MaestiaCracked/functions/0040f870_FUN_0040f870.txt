PROGRAM  : Maestia.exe
FUNCTION : FUN_0040f870
ENTRY    : 0040f870
BODY     : [[0040f870, 0040f90e]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_0040f870(undefined4 *param_1,int *param_2)

{
  int in_EAX;
  undefined4 *puVar1;
  undefined4 *puVar2;
  bool bVar3;
  
  puVar2 = *(undefined4 **)(in_EAX + 4);
  bVar3 = true;
  if (*(char *)((int)puVar2[1] + 0x39) == '\0') {
    puVar1 = (undefined4 *)puVar2[1];
    do {
      puVar2 = puVar1;
      bVar3 = *param_2 < (int)puVar2[3];
      if (bVar3) {
        puVar1 = (undefined4 *)*puVar2;
      }
      else {
        puVar1 = (undefined4 *)puVar2[2];
      }
    } while (*(char *)((int)puVar1 + 0x39) == '\0');
  }
  if (bVar3) {
    if (puVar2 == (undefined4 *)**(int **)(in_EAX + 4)) {
      bVar3 = true;
      goto LAB_0040f8c4;
    }
    FUN_00410080();
  }
  if (*param_2 <= (int)puVar2[3]) {
    *param_1 = puVar2;
    *(undefined1 *)(param_1 + 1) = 0;
    return param_1;
  }
LAB_0040f8c4:
  puVar2 = (undefined4 *)FUN_0040fa90(&param_2,bVar3,param_2);
  *param_1 = *puVar2;
  *(undefined1 *)(param_1 + 1) = 1;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
0040f870 : PUSH EBP
0040f871 : MOV EBP,ESP
0040f873 : PUSH ECX
0040f874 : PUSH EBX
0040f875 : MOV EBX,dword ptr [EBP + 0x8]
0040f878 : PUSH ESI
0040f879 : PUSH EDI
0040f87a : MOV EDI,EAX
0040f87c : MOV ESI,dword ptr [EDI + 0x4]
0040f87f : MOV EAX,dword ptr [ESI + 0x4]
0040f882 : CMP byte ptr [EAX + 0x39],0x0
0040f886 : MOV CL,0x1
0040f888 : MOV byte ptr [EBP + -0x4],CL
0040f88b : JNZ 0x0040f8ae
0040f88d : MOV ECX,dword ptr [EBP + 0xc]
0040f890 : MOV EDX,dword ptr [ECX]
0040f892 : CMP EDX,dword ptr [EAX + 0xc]
0040f895 : MOV ESI,EAX
0040f897 : SETL CL
0040f89a : MOV byte ptr [EBP + -0x4],CL
0040f89d : TEST CL,CL
0040f89f : JZ 0x0040f8a5
0040f8a1 : MOV EAX,dword ptr [EAX]
0040f8a3 : JMP 0x0040f8a8
0040f8a5 : MOV EAX,dword ptr [EAX + 0x8]
0040f8a8 : CMP byte ptr [EAX + 0x39],0x0
0040f8ac : JZ 0x0040f892
0040f8ae : MOV EAX,ESI
0040f8b0 : MOV dword ptr [EBP + 0x8],EAX
0040f8b3 : TEST CL,CL
0040f8b5 : JZ 0x0040f8ed
0040f8b7 : MOV EDX,dword ptr [EDI + 0x4]
0040f8ba : CMP ESI,dword ptr [EDX]
0040f8bc : JNZ 0x0040f8e2
0040f8be : MOV EAX,dword ptr [EBP + 0xc]
0040f8c1 : PUSH EAX
0040f8c2 : PUSH 0x1
0040f8c4 : LEA ECX,[EBP + 0xc]
0040f8c7 : PUSH ECX
0040f8c8 : MOV ECX,ESI
0040f8ca : CALL 0x0040fa90
0040f8cf : MOV EDX,dword ptr [EAX]
0040f8d1 : MOV dword ptr [EBX],EDX
0040f8d3 : MOV byte ptr [EBX + 0x4],0x1
0040f8d7 : MOV EAX,EBX
0040f8d9 : POP EDI
0040f8da : POP ESI
0040f8db : POP EBX
0040f8dc : MOV ESP,EBP
0040f8de : POP EBP
0040f8df : RET 0x8
0040f8e2 : LEA EDX,[EBP + 0x8]
0040f8e5 : CALL 0x00410080
0040f8ea : MOV EAX,dword ptr [EBP + 0x8]
0040f8ed : MOV EDX,dword ptr [EAX + 0xc]
0040f8f0 : MOV ECX,dword ptr [EBP + 0xc]
0040f8f3 : CMP EDX,dword ptr [ECX]
0040f8f5 : JGE 0x0040f8fe
0040f8f7 : MOV EAX,dword ptr [EBP + -0x4]
0040f8fa : PUSH ECX
0040f8fb : PUSH EAX
0040f8fc : JMP 0x0040f8c4
0040f8fe : POP EDI
0040f8ff : MOV dword ptr [EBX],EAX
0040f901 : POP ESI
0040f902 : MOV byte ptr [EBX + 0x4],0x0
0040f906 : MOV EAX,EBX
0040f908 : POP EBX
0040f909 : MOV ESP,EBP
0040f90b : POP EBP
0040f90c : RET 0x8
