PROGRAM  : Maestia.exe
FUNCTION : FUN_008d0b90
ENTRY    : 008d0b90
BODY     : [[008d0b90, 008d0bf9] [008d0c00, 008d0d3d] [008d0d6a, 008d0dd1]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_008d0b90(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  code *pcVar4;
  int *piVar5;
  uint uVar6;
  char cVar7;
  short sVar8;
  int *piVar9;
  int iVar10;
  bool bVar11;
  uint local_18;
  code *local_14;
  uint local_10;
  int local_8;
  
  local_8 = -1;
  local_10 = 0;
  local_14 = FUN_00989680;
  local_18 = 0;
  if (((70.0 < *(float *)(param_1 + 0xd0)) && (*(int *)(param_1 + 0xc4) != -1)) &&
     (local_8 = FUN_008d0470(param_1,1), local_8 != -1)) {
    return local_8;
  }
  piVar9 = *(int **)(param_1 + 0x9c);
  if (piVar9 != *(int **)(param_1 + 0xa0)) {
    do {
      uVar3 = *(undefined4 *)*piVar9;
      iVar10 = FUN_00a1a840(uVar3);
      if (((iVar10 == 0) && (iVar10 = FUN_00a1a6d0(uVar3), iVar10 == 0)) &&
         (iVar10 = FUN_00a1a780(uVar3), iVar10 == 0)) {
LAB_008d0d34:
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      iVar1 = iVar10 + 0x1158;
      iVar2 = *(int *)(*(int *)(iVar10 + 0x138) + 4) + 0x138 + iVar10;
      sVar8 = FUN_0043d970();
      if (sVar8 == 1000) {
        bVar11 = *(int *)(iVar2 + 4) == iVar1;
      }
      else if (sVar8 == 2000) {
        bVar11 = *(int *)(iVar2 + 8) == iVar1;
      }
      else {
        bVar11 = *(int *)(iVar2 + 0xc) == iVar1;
      }
      if (((bVar11) || (*(char *)(iVar10 + 0x3ad) == '\0')) ||
         (cVar7 = FUN_0086dad0(), cVar7 != '\0')) goto LAB_008d0d34;
      pcVar4 = *(code **)(iVar10 + 0xa4);
      if (pcVar4 < local_14) {
        piVar5 = (int *)*piVar9;
        local_8 = *piVar5;
        local_10 = piVar5[2];
        local_18 = piVar5[3];
        local_14 = pcVar4;
      }
      else if (local_14 == pcVar4) {
        piVar5 = (int *)*piVar9;
        uVar6 = piVar5[2];
        if (local_10 < uVar6) {
          local_8 = *piVar5;
          local_18 = piVar5[3];
          local_14 = pcVar4;
          local_10 = uVar6;
        }
        if ((local_10 == uVar6) && ((uint)piVar5[3] < local_18)) {
          local_8 = *piVar5;
          local_10 = piVar5[2];
          local_18 = piVar5[3];
          local_14 = pcVar4;
        }
      }
      piVar9 = piVar9 + 1;
    } while (piVar9 != *(int **)(param_1 + 0xa0));
  }
  if (((local_8 == -1) && (cVar7 = FUN_008d0690(param_1), cVar7 != '\0')) &&
     (*(int *)(*(int *)(param_1 + 0xb8) + 8) == 3)) {
    local_8 = FUN_008d0470(param_1,0);
    if (local_8 == -1) {
      return -1;
    }
    iVar10 = FUN_00a1ba80();
    if (*(int *)(iVar10 + 0xa4) == *(int *)(iVar10 + 0xb0)) {
      return -1;
    }
  }
  return local_8;
}



============================================================
DISASSEMBLY
============================================================
008d0b90 : PUSH EBP
008d0b91 : MOV EBP,ESP
008d0b93 : SUB ESP,0x18
008d0b96 : PUSH EBX
008d0b97 : PUSH ESI
008d0b98 : MOV ESI,dword ptr [EBP + 0x8]
008d0b9b : MOVSS XMM0,dword ptr [ESI + 0xd0]
008d0ba3 : XOR EAX,EAX
008d0ba5 : OR EBX,0xffffffff
008d0ba8 : COMISS XMM0,dword ptr [0x00cdf290]
008d0baf : MOV dword ptr [EBP + -0x4],EBX
008d0bb2 : MOV dword ptr [EBP + -0xc],EAX
008d0bb5 : MOV dword ptr [EBP + -0x10],0x989680
008d0bbc : MOV dword ptr [EBP + -0x14],EAX
008d0bbf : JBE 0x008d0bdc
008d0bc1 : CMP dword ptr [ESI + 0xc4],EBX
008d0bc7 : JZ 0x008d0bdc
008d0bc9 : PUSH 0x1
008d0bcb : PUSH ESI
008d0bcc : CALL 0x008d0470
008d0bd1 : MOV dword ptr [EBP + -0x4],EAX
008d0bd4 : CMP EAX,EBX
008d0bd6 : JNZ 0x008d0dca
008d0bdc : MOV EAX,dword ptr [ESI + 0x9c]
008d0be2 : PUSH EDI
008d0be3 : MOV dword ptr [EBP + -0x8],EAX
008d0be6 : CMP EAX,dword ptr [ESI + 0xa0]
008d0bec : JZ 0x008d0d7f
008d0bf2 : LEA ECX,[EAX + 0x4]
008d0bf5 : MOV dword ptr [EBP + -0x18],ECX
008d0bf8 : JMP 0x008d0c03
008d0c00 : MOV EAX,dword ptr [EBP + -0x8]
008d0c03 : MOV EDX,dword ptr [EAX]
008d0c05 : MOV ESI,dword ptr [EDX]
008d0c07 : MOV ECX,dword ptr [0x00da93ec]
008d0c0d : PUSH ESI
008d0c0e : MOV EBX,ECX
008d0c10 : CALL 0x00a1a840
008d0c15 : MOV EDI,EAX
008d0c17 : TEST EDI,EDI
008d0c19 : JNZ 0x008d0c3b
008d0c1b : PUSH ESI
008d0c1c : MOV ECX,EBX
008d0c1e : CALL 0x00a1a6d0
008d0c23 : MOV EDI,EAX
008d0c25 : TEST EDI,EDI
008d0c27 : JNZ 0x008d0c3b
008d0c29 : PUSH ESI
008d0c2a : MOV ECX,EBX
008d0c2c : CALL 0x00a1a780
008d0c31 : MOV EDI,EAX
008d0c33 : TEST EDI,EDI
008d0c35 : JZ 0x008d0d34
008d0c3b : MOV EAX,dword ptr [EDI + 0x138]
008d0c41 : MOV ECX,dword ptr [EAX + 0x4]
008d0c44 : MOV AX,word ptr [EDI + 0x1182]
008d0c4b : LEA ESI,[EDI + 0x1158]
008d0c51 : LEA EBX,[ECX + EDI*0x1 + 0x138]
008d0c58 : CALL 0x0043d970
008d0c5d : MOV EDX,0x3e8
008d0c62 : CMP AX,DX
008d0c65 : JNZ 0x008d0c6c
008d0c67 : CMP dword ptr [EBX + 0x4],ESI
008d0c6a : JMP 0x008d0c7e
008d0c6c : MOV ECX,0x7d0
008d0c71 : CMP AX,CX
008d0c74 : JNZ 0x008d0c7b
008d0c76 : CMP dword ptr [EBX + 0x8],ESI
008d0c79 : JMP 0x008d0c7e
008d0c7b : CMP dword ptr [EBX + 0xc],ESI
008d0c7e : SETZ AL
008d0c81 : TEST AL,AL
008d0c83 : JNZ 0x008d0d34
008d0c89 : CMP byte ptr [EDI + 0x3ad],AL
008d0c8f : JZ 0x008d0d34
008d0c95 : MOVZX EAX,word ptr [EDI + 0x80]
008d0c9c : MOVZX ESI,AX
008d0c9f : TEST AX,AX
008d0ca2 : JNZ 0x008d0ca8
008d0ca4 : MOVZX ESI,word ptr [EDI + 0x7c]
008d0ca8 : MOV EDX,dword ptr [0x0172491c]
008d0cae : MOV ECX,dword ptr [EDX + 0x17c]
008d0cb4 : CALL 0x0086dad0
008d0cb9 : TEST AL,AL
008d0cbb : JNZ 0x008d0d34
008d0cbd : MOV EDI,dword ptr [EDI + 0xa4]
008d0cc3 : MOV EAX,dword ptr [EBP + -0x10]
008d0cc6 : CMP EAX,EDI
008d0cc8 : JBE 0x008d0ce2
008d0cca : MOV EAX,dword ptr [EBP + -0x8]
008d0ccd : MOV EAX,dword ptr [EAX]
008d0ccf : MOV ECX,dword ptr [EAX]
008d0cd1 : MOV EDX,dword ptr [EAX + 0x8]
008d0cd4 : MOV EAX,dword ptr [EAX + 0xc]
008d0cd7 : MOV dword ptr [EBP + -0x4],ECX
008d0cda : MOV dword ptr [EBP + -0xc],EDX
008d0cdd : MOV dword ptr [EBP + -0x14],EAX
008d0ce0 : JMP 0x008d0d21
008d0ce2 : JNZ 0x008d0d24
008d0ce4 : MOV ECX,dword ptr [EBP + -0x8]
008d0ce7 : MOV EAX,dword ptr [ECX]
008d0ce9 : MOV ECX,dword ptr [EAX + 0x8]
008d0cec : CMP dword ptr [EBP + -0xc],ECX
008d0cef : JNC 0x008d0d06
008d0cf1 : MOV EDX,dword ptr [EAX]
008d0cf3 : MOV dword ptr [EBP + -0x4],EDX
008d0cf6 : MOV EDX,ECX
008d0cf8 : MOV dword ptr [EBP + -0xc],EDX
008d0cfb : MOV EDX,dword ptr [EAX + 0xc]
008d0cfe : MOV dword ptr [EBP + -0x10],EDI
008d0d01 : MOV dword ptr [EBP + -0x14],EDX
008d0d04 : CMP ECX,ECX
008d0d06 : JNZ 0x008d0d24
008d0d08 : MOV ECX,dword ptr [EBP + -0x14]
008d0d0b : CMP ECX,dword ptr [EAX + 0xc]
008d0d0e : JBE 0x008d0d24
008d0d10 : MOV EDX,dword ptr [EAX]
008d0d12 : MOV ECX,dword ptr [EAX + 0x8]
008d0d15 : MOV dword ptr [EBP + -0x4],EDX
008d0d18 : MOV EDX,dword ptr [EAX + 0xc]
008d0d1b : MOV dword ptr [EBP + -0xc],ECX
008d0d1e : MOV dword ptr [EBP + -0x14],EDX
008d0d21 : MOV dword ptr [EBP + -0x10],EDI
008d0d24 : MOV EDI,dword ptr [EBP + 0x8]
008d0d27 : MOV EAX,0x4
008d0d2c : ADD dword ptr [EBP + -0x8],EAX
008d0d2f : ADD dword ptr [EBP + -0x18],EAX
008d0d32 : JMP 0x008d0d6a
008d0d34 : MOV ESI,dword ptr [EBP + -0x8]
008d0d37 : MOV ECX,dword ptr [ESI]
008d0d39 : CALL 0x006f04e0
008d0d6a : MOV EAX,dword ptr [EBP + -0x8]
008d0d6d : CMP EAX,dword ptr [EDI + 0xa0]
008d0d73 : JNZ 0x008d0c00
008d0d79 : MOV ESI,dword ptr [EBP + 0x8]
008d0d7c : OR EBX,0xffffffff
008d0d7f : CMP dword ptr [EBP + -0x4],EBX
008d0d82 : JNZ 0x008d0dc6
008d0d84 : PUSH ESI
008d0d85 : CALL 0x008d0690
008d0d8a : TEST AL,AL
008d0d8c : JZ 0x008d0dc6
008d0d8e : MOV ECX,dword ptr [ESI + 0xb8]
008d0d94 : CMP dword ptr [ECX + 0x8],0x3
008d0d98 : JNZ 0x008d0dc6
008d0d9a : PUSH 0x0
008d0d9c : PUSH ESI
008d0d9d : CALL 0x008d0470
008d0da2 : MOV dword ptr [EBP + -0x4],EAX
008d0da5 : CMP EAX,EBX
008d0da7 : JZ 0x008d0dc9
008d0da9 : MOV EDI,dword ptr [0x00da93ec]
008d0daf : MOV ESI,EAX
008d0db1 : CALL 0x00a1ba80
008d0db6 : MOV EDX,dword ptr [EAX + 0xa4]
008d0dbc : CMP EDX,dword ptr [EAX + 0xb0]
008d0dc2 : MOV EAX,EBX
008d0dc4 : JZ 0x008d0dc9
008d0dc6 : MOV EAX,dword ptr [EBP + -0x4]
008d0dc9 : POP EDI
008d0dca : POP ESI
008d0dcb : POP EBX
008d0dcc : MOV ESP,EBP
008d0dce : POP EBP
008d0dcf : RET 0x4
