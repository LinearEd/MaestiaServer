PROGRAM  : Maestia.exe
FUNCTION : FUN_004c43d0
ENTRY    : 004c43d0
BODY     : [[004c43d0, 004c44cd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004c43d0(int param_1)

{
  rsize_t _DstSize;
  void *_Dst;
  int iVar1;
  char cVar2;
  int in_EAX;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  uint uVar6;
  
  if (in_EAX != param_1) {
    uVar3 = *(int *)(param_1 + 8) - *(int *)(param_1 + 4) >> 2;
    if (uVar3 == 0) {
      FUN_0042d2e0(in_EAX);
      return;
    }
    _Dst = *(void **)(in_EAX + 4);
    if (uVar3 <= (uint)(*(int *)(in_EAX + 8) - (int)_Dst >> 2)) {
      iVar5 = *(int *)(param_1 + 8) - (int)*(void **)(param_1 + 4) >> 2;
      if (0 < iVar5) {
        _DstSize = iVar5 * 4;
        _memmove_s(_Dst,_DstSize,*(void **)(param_1 + 4),_DstSize);
      }
      *(int *)(in_EAX + 8) =
           *(int *)(in_EAX + 4) + (*(int *)(param_1 + 8) - *(int *)(param_1 + 4) >> 2) * 4;
      return;
    }
    if (_Dst == (void *)0x0) {
      uVar6 = 0;
    }
    else {
      uVar6 = *(int *)(in_EAX + 0xc) - (int)_Dst >> 2;
    }
    if (uVar3 <= uVar6) {
      FUN_0042ccb0();
      uVar4 = FUN_00461070();
      *(undefined4 *)(in_EAX + 8) = uVar4;
      return;
    }
    if (_Dst != (void *)0x0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    iVar5 = *(int *)(param_1 + 8);
    iVar1 = *(int *)(param_1 + 4);
    *(undefined4 *)(in_EAX + 4) = 0;
    *(undefined4 *)(in_EAX + 8) = 0;
    *(undefined4 *)(in_EAX + 0xc) = 0;
    if ((iVar5 - iVar1 >> 2 != 0) && (cVar2 = FUN_00453360(), cVar2 != '\0')) {
      uVar4 = FUN_00461070();
      *(undefined4 *)(in_EAX + 8) = uVar4;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
004c43d0 : PUSH EBP
004c43d1 : MOV EBP,ESP
004c43d3 : PUSH EBX
004c43d4 : MOV EBX,dword ptr [EBP + 0x8]
004c43d7 : PUSH ESI
004c43d8 : MOV ESI,EAX
004c43da : CMP ESI,EBX
004c43dc : JZ 0x004c44c8
004c43e2 : MOV ECX,dword ptr [EBX + 0x4]
004c43e5 : PUSH EDI
004c43e6 : MOV EDI,dword ptr [EBX + 0x8]
004c43e9 : MOV EAX,EDI
004c43eb : SUB EAX,ECX
004c43ed : SAR EAX,0x2
004c43f0 : TEST EAX,EAX
004c43f2 : JNZ 0x004c4403
004c43f4 : PUSH ESI
004c43f5 : CALL 0x0042d2e0
004c43fa : POP EDI
004c43fb : MOV EAX,ESI
004c43fd : POP ESI
004c43fe : POP EBX
004c43ff : POP EBP
004c4400 : RET 0x4
004c4403 : MOV ECX,dword ptr [ESI + 0x4]
004c4406 : MOV EDX,dword ptr [ESI + 0x8]
004c4409 : SUB EDX,ECX
004c440b : SAR EDX,0x2
004c440e : CMP EAX,EDX
004c4410 : JA 0x004c444c
004c4412 : MOV EDX,dword ptr [EBX + 0x4]
004c4415 : SUB EDI,EDX
004c4417 : SAR EDI,0x2
004c441a : TEST EDI,EDI
004c441c : JLE 0x004c4431
004c441e : LEA EAX,[EDI*0x4 + 0x0]
004c4425 : PUSH EAX
004c4426 : PUSH EDX
004c4427 : PUSH EAX
004c4428 : PUSH ECX
004c4429 : CALL 0x00634101
004c442e : ADD ESP,0x10
004c4431 : MOV EAX,dword ptr [EBX + 0x8]
004c4434 : SUB EAX,dword ptr [EBX + 0x4]
004c4437 : MOV ECX,dword ptr [ESI + 0x4]
004c443a : SAR EAX,0x2
004c443d : LEA EDX,[ECX + EAX*0x4]
004c4440 : POP EDI
004c4441 : MOV dword ptr [ESI + 0x8],EDX
004c4444 : MOV EAX,ESI
004c4446 : POP ESI
004c4447 : POP EBX
004c4448 : POP EBP
004c4449 : RET 0x4
004c444c : TEST ECX,ECX
004c444e : JNZ 0x004c4454
004c4450 : XOR EDI,EDI
004c4452 : JMP 0x004c445c
004c4454 : MOV EDI,dword ptr [ESI + 0xc]
004c4457 : SUB EDI,ECX
004c4459 : SAR EDI,0x2
004c445c : CMP EAX,EDI
004c445e : JA 0x004c448a
004c4460 : MOV EDI,dword ptr [EBX + 0x4]
004c4463 : LEA EAX,[EDI + EDX*0x4]
004c4466 : MOV EDX,ECX
004c4468 : MOV dword ptr [EBP + 0x8],EAX
004c446b : CALL 0x0042ccb0
004c4470 : MOV EDX,dword ptr [ESI + 0x8]
004c4473 : MOV EDI,dword ptr [EBP + 0x8]
004c4476 : MOV EAX,dword ptr [EBX + 0x8]
004c4479 : CALL 0x00461070
004c447e : MOV dword ptr [ESI + 0x8],EAX
004c4481 : POP EDI
004c4482 : MOV EAX,ESI
004c4484 : POP ESI
004c4485 : POP EBX
004c4486 : POP EBP
004c4487 : RET 0x4
004c448a : TEST ECX,ECX
004c448c : JZ 0x004c4493
004c448e : CALL 0x006f04e0
004c4493 : MOV EDI,dword ptr [EBX + 0x8]
004c4496 : SUB EDI,dword ptr [EBX + 0x4]
004c4499 : XOR EAX,EAX
004c449b : SAR EDI,0x2
004c449e : MOV dword ptr [ESI + 0x4],EAX
004c44a1 : MOV dword ptr [ESI + 0x8],EAX
004c44a4 : MOV dword ptr [ESI + 0xc],EAX
004c44a7 : CMP EDI,EAX
004c44a9 : JZ 0x004c44c5
004c44ab : CALL 0x00453360
004c44b0 : TEST AL,AL
004c44b2 : JZ 0x004c44c5
004c44b4 : MOV EDX,dword ptr [ESI + 0x4]
004c44b7 : MOV EDI,dword ptr [EBX + 0x4]
004c44ba : MOV EAX,dword ptr [EBX + 0x8]
004c44bd : CALL 0x00461070
004c44c2 : MOV dword ptr [ESI + 0x8],EAX
004c44c5 : MOV EAX,ESI
004c44c7 : POP EDI
004c44c8 : POP ESI
004c44c9 : POP EBX
004c44ca : POP EBP
004c44cb : RET 0x4
