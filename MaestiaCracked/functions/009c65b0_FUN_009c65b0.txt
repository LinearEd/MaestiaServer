PROGRAM  : Maestia.exe
FUNCTION : FUN_009c65b0
ENTRY    : 009c65b0
BODY     : [[009c65b0, 009c689c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009c65b0(int param_1,undefined4 param_2)

{
  wchar_t wVar1;
  undefined2 uVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  wchar_t *pwVar6;
  int *in_ECX;
  wchar_t *pwVar7;
  wchar_t *pwVar8;
  bool bVar9;
  undefined1 local_60 [4];
  int local_5c;
  int local_58;
  undefined1 local_50 [4];
  undefined2 local_4c;
  undefined4 local_3c;
  uint local_38;
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b467d8;
  local_14 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xffffff90;
  ExceptionList = &local_14;
  local_38 = 7;
  local_3c = 0;
  local_4c = 0;
  FUN_00406360(&DAT_00c91fcc,1);
  local_c = 0;
  uVar4 = FUN_00404350(param_2,uVar3);
  local_c._0_1_ = 1;
  FUN_0070cd60(local_60,uVar4,local_50,0);
  local_c = CONCAT31(local_c._1_3_,3);
  if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_1c = 7;
  local_20 = 0;
  local_30 = 0;
  local_c = CONCAT31(local_c._1_3_,4);
  if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_38 = 7;
  uVar3 = *(uint *)(param_1 + 0x18);
  local_3c = 0;
  local_4c = 0;
  pwVar6 = (wchar_t *)(param_1 + 4);
  pwVar8 = pwVar6;
  if (7 < uVar3) {
    pwVar8 = *(wchar_t **)pwVar6;
  }
  pwVar7 = L"onInit";
  do {
    wVar1 = *pwVar8;
    bVar9 = (ushort)wVar1 < (ushort)*pwVar7;
    if (wVar1 != *pwVar7) {
LAB_009c66bc:
      iVar5 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
      goto LAB_009c66c1;
    }
    if (wVar1 == L'\0') break;
    wVar1 = pwVar8[1];
    bVar9 = (ushort)wVar1 < (ushort)pwVar7[1];
    if (wVar1 != pwVar7[1]) goto LAB_009c66bc;
    pwVar8 = pwVar8 + 2;
    pwVar7 = pwVar7 + 2;
  } while (wVar1 != L'\0');
  iVar5 = 0;
LAB_009c66c1:
  if (iVar5 == 0) {
    FUN_009c6410();
  }
  else {
    pwVar8 = pwVar6;
    if (7 < uVar3) {
      pwVar8 = *(wchar_t **)pwVar6;
    }
    pwVar7 = L"Clicked";
    do {
      wVar1 = *pwVar8;
      bVar9 = (ushort)wVar1 < (ushort)*pwVar7;
      if (wVar1 != *pwVar7) {
LAB_009c6706:
        iVar5 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
        goto LAB_009c670b;
      }
      if (wVar1 == L'\0') break;
      wVar1 = pwVar8[1];
      bVar9 = (ushort)wVar1 < (ushort)pwVar7[1];
      if (wVar1 != pwVar7[1]) goto LAB_009c6706;
      pwVar8 = pwVar8 + 2;
      pwVar7 = pwVar7 + 2;
    } while (wVar1 != L'\0');
    iVar5 = 0;
LAB_009c670b:
    if (iVar5 == 0) {
      iVar5 = local_58 - local_5c >> 0x1f;
      if ((local_58 - local_5c) / 0x1c + iVar5 != iVar5) {
        if (*(uint *)(local_5c + 0x18) < 8) {
          iVar5 = local_5c + 4;
        }
        else {
          iVar5 = *(int *)(local_5c + 4);
        }
        uVar2 = FUN_00634f4d(iVar5);
        *(undefined2 *)(in_ECX + 0x10) = uVar2;
      }
    }
    else {
      pwVar8 = pwVar6;
      if (7 < uVar3) {
        pwVar8 = *(wchar_t **)pwVar6;
      }
      pwVar7 = L"Open";
      do {
        wVar1 = *pwVar8;
        bVar9 = (ushort)wVar1 < (ushort)*pwVar7;
        if (wVar1 != *pwVar7) {
LAB_009c678c:
          iVar5 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
          goto LAB_009c6791;
        }
        if (wVar1 == L'\0') break;
        wVar1 = pwVar8[1];
        bVar9 = (ushort)wVar1 < (ushort)pwVar7[1];
        if (wVar1 != pwVar7[1]) goto LAB_009c678c;
        pwVar8 = pwVar8 + 2;
        pwVar7 = pwVar7 + 2;
      } while (wVar1 != L'\0');
      iVar5 = 0;
LAB_009c6791:
      if (iVar5 == 0) {
        FUN_009c6370();
      }
      else {
        pwVar8 = pwVar6;
        if (7 < uVar3) {
          pwVar8 = *(wchar_t **)pwVar6;
        }
        pwVar7 = L"SendMove";
        do {
          wVar1 = *pwVar8;
          bVar9 = (ushort)wVar1 < (ushort)*pwVar7;
          if (wVar1 != *pwVar7) {
LAB_009c67d6:
            iVar5 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
            goto LAB_009c67db;
          }
          if (wVar1 == L'\0') break;
          wVar1 = pwVar8[1];
          bVar9 = (ushort)wVar1 < (ushort)pwVar7[1];
          if (wVar1 != pwVar7[1]) goto LAB_009c67d6;
          pwVar8 = pwVar8 + 2;
          pwVar7 = pwVar7 + 2;
        } while (wVar1 != L'\0');
        iVar5 = 0;
LAB_009c67db:
        if (iVar5 == 0) {
          if ((uint)*(ushort *)(in_ECX + 0x10) != in_ECX[0xf]) {
            FUN_009c64b0(*(uint *)(DAT_00da93ec + 0x450) & 0xffff,(char)in_ECX[0x10],0);
          }
        }
        else {
          if (7 < uVar3) {
            pwVar6 = *(wchar_t **)pwVar6;
          }
          pwVar8 = L"Close";
          do {
            wVar1 = *pwVar6;
            bVar9 = (ushort)wVar1 < (ushort)*pwVar8;
            if (wVar1 != *pwVar8) {
LAB_009c683e:
              iVar5 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
              goto LAB_009c6843;
            }
            if (wVar1 == L'\0') break;
            wVar1 = pwVar6[1];
            bVar9 = (ushort)wVar1 < (ushort)pwVar8[1];
            if (wVar1 != pwVar8[1]) goto LAB_009c683e;
            pwVar6 = pwVar6 + 2;
            pwVar8 = pwVar8 + 2;
          } while (wVar1 != L'\0');
          iVar5 = 0;
LAB_009c6843:
          if (iVar5 == 0) {
            (**(code **)(*in_ECX + 0x20))();
          }
        }
      }
    }
  }
  local_c = 0xffffffff;
  if (local_5c == 0) {
    ExceptionList = local_14;
    return;
  }
  FUN_00405450(in_ECX);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
009c65b0 : PUSH EBP
009c65b1 : MOV EBP,ESP
009c65b3 : AND ESP,0xfffffff8
009c65b6 : PUSH -0x1
009c65b8 : PUSH 0xb467d8
009c65bd : MOV EAX,FS:[0x0]
009c65c3 : PUSH EAX
009c65c4 : SUB ESP,0x50
009c65c7 : PUSH EBX
009c65c8 : PUSH ESI
009c65c9 : PUSH EDI
009c65ca : MOV EAX,[0x00d66fa0]
009c65cf : XOR EAX,ESP
009c65d1 : PUSH EAX
009c65d2 : LEA EAX,[ESP + 0x60]
009c65d6 : MOV FS:[0x0],EAX
009c65dc : MOV dword ptr [ESP + 0x10],ECX
009c65e0 : PUSH 0x1
009c65e2 : XOR EAX,EAX
009c65e4 : MOV EDI,0x7
009c65e9 : XOR EBX,EBX
009c65eb : PUSH 0xc91fcc
009c65f0 : LEA ECX,[ESP + 0x2c]
009c65f4 : MOV dword ptr [ESP + 0x44],EDI
009c65f8 : MOV dword ptr [ESP + 0x40],EBX
009c65fc : MOV word ptr [ESP + 0x30],AX
009c6601 : CALL 0x00406360
009c6606 : MOV dword ptr [ESP + 0x68],EBX
009c660a : MOV ECX,dword ptr [EBP + 0xc]
009c660d : PUSH ECX
009c660e : LEA ESI,[ESP + 0x44]
009c6612 : CALL 0x00404350
009c6617 : ADD ESP,0x4
009c661a : MOV byte ptr [ESP + 0x68],0x1
009c661f : PUSH EBX
009c6620 : LEA EDX,[ESP + 0x28]
009c6624 : PUSH EDX
009c6625 : PUSH EAX
009c6626 : LEA EAX,[ESP + 0x20]
009c662a : PUSH EAX
009c662b : CALL 0x0070cd60
009c6630 : ADD ESP,0x10
009c6633 : MOV byte ptr [ESP + 0x68],0x3
009c6638 : MOV ESI,0x8
009c663d : CMP dword ptr [ESP + 0x58],ESI
009c6641 : JC 0x009c664c
009c6643 : MOV ECX,dword ptr [ESP + 0x44]
009c6647 : CALL 0x006f04e0
009c664c : XOR ECX,ECX
009c664e : MOV dword ptr [ESP + 0x58],EDI
009c6652 : MOV dword ptr [ESP + 0x54],EBX
009c6656 : MOV word ptr [ESP + 0x44],CX
009c665b : MOV byte ptr [ESP + 0x68],0x4
009c6660 : CMP dword ptr [ESP + 0x3c],ESI
009c6664 : JC 0x009c666f
009c6666 : MOV ECX,dword ptr [ESP + 0x28]
009c666a : CALL 0x006f04e0
009c666f : MOV EAX,dword ptr [EBP + 0x8]
009c6672 : MOV dword ptr [ESP + 0x3c],EDI
009c6676 : MOV EDI,dword ptr [EAX + 0x18]
009c6679 : XOR EDX,EDX
009c667b : CMP EDI,ESI
009c667d : MOV dword ptr [ESP + 0x38],EBX
009c6681 : MOV word ptr [ESP + 0x28],DX
009c6686 : LEA ESI,[EAX + 0x4]
009c6689 : JC 0x009c668f
009c668b : MOV EAX,dword ptr [ESI]
009c668d : JMP 0x009c6691
009c668f : MOV EAX,ESI
009c6691 : MOV ECX,0xc92018
009c6696 : MOV DX,word ptr [EAX]
009c6699 : CMP DX,word ptr [ECX]
009c669c : JNZ 0x009c66bc
009c669e : CMP DX,BX
009c66a1 : JZ 0x009c66b8
009c66a3 : MOV DX,word ptr [EAX + 0x2]
009c66a7 : CMP DX,word ptr [ECX + 0x2]
009c66ab : JNZ 0x009c66bc
009c66ad : ADD EAX,0x4
009c66b0 : ADD ECX,0x4
009c66b3 : CMP DX,BX
009c66b6 : JNZ 0x009c6696
009c66b8 : XOR EAX,EAX
009c66ba : JMP 0x009c66c1
009c66bc : SBB EAX,EAX
009c66be : SBB EAX,-0x1
009c66c1 : CMP EAX,EBX
009c66c3 : JNZ 0x009c66cf
009c66c5 : CALL 0x009c6410
009c66ca : JMP 0x009c6852
009c66cf : CMP EDI,0x8
009c66d2 : JC 0x009c66d8
009c66d4 : MOV EAX,dword ptr [ESI]
009c66d6 : JMP 0x009c66da
009c66d8 : MOV EAX,ESI
009c66da : MOV ECX,0xc92028
009c66df : NOP
009c66e0 : MOV DX,word ptr [EAX]
009c66e3 : CMP DX,word ptr [ECX]
009c66e6 : JNZ 0x009c6706
009c66e8 : CMP DX,BX
009c66eb : JZ 0x009c6702
009c66ed : MOV DX,word ptr [EAX + 0x2]
009c66f1 : CMP DX,word ptr [ECX + 0x2]
009c66f5 : JNZ 0x009c6706
009c66f7 : ADD EAX,0x4
009c66fa : ADD ECX,0x4
009c66fd : CMP DX,BX
009c6700 : JNZ 0x009c66e0
009c6702 : XOR EAX,EAX
009c6704 : JMP 0x009c670b
009c6706 : SBB EAX,EAX
009c6708 : SBB EAX,-0x1
009c670b : CMP EAX,EBX
009c670d : JNZ 0x009c6756
009c670f : MOV ECX,dword ptr [ESP + 0x1c]
009c6713 : MOV ESI,dword ptr [ESP + 0x18]
009c6717 : SUB ECX,ESI
009c6719 : MOV EAX,0x92492493
009c671e : IMUL ECX
009c6720 : ADD EDX,ECX
009c6722 : SAR EDX,0x4
009c6725 : MOV EAX,EDX
009c6727 : SHR EAX,0x1f
009c672a : ADD EAX,EDX
009c672c : JZ 0x009c6852
009c6732 : CMP dword ptr [ESI + 0x18],0x8
009c6736 : JC 0x009c673d
009c6738 : MOV ESI,dword ptr [ESI + 0x4]
009c673b : JMP 0x009c6740
009c673d : ADD ESI,0x4
009c6740 : PUSH ESI
009c6741 : CALL 0x00634f4d
009c6746 : MOV ECX,dword ptr [ESP + 0x14]
009c674a : ADD ESP,0x4
009c674d : MOV word ptr [ECX + 0x40],AX
009c6751 : JMP 0x009c6852
009c6756 : CMP EDI,0x8
009c6759 : JC 0x009c675f
009c675b : MOV EAX,dword ptr [ESI]
009c675d : JMP 0x009c6761
009c675f : MOV EAX,ESI
009c6761 : MOV ECX,0xc92038
009c6766 : MOV DX,word ptr [EAX]
009c6769 : CMP DX,word ptr [ECX]
009c676c : JNZ 0x009c678c
009c676e : CMP DX,BX
009c6771 : JZ 0x009c6788
009c6773 : MOV DX,word ptr [EAX + 0x2]
009c6777 : CMP DX,word ptr [ECX + 0x2]
009c677b : JNZ 0x009c678c
009c677d : ADD EAX,0x4
009c6780 : ADD ECX,0x4
009c6783 : CMP DX,BX
009c6786 : JNZ 0x009c6766
009c6788 : XOR EAX,EAX
009c678a : JMP 0x009c6791
009c678c : SBB EAX,EAX
009c678e : SBB EAX,-0x1
009c6791 : CMP EAX,EBX
009c6793 : JNZ 0x009c679f
009c6795 : CALL 0x009c6370
009c679a : JMP 0x009c6852
009c679f : CMP EDI,0x8
009c67a2 : JC 0x009c67a8
009c67a4 : MOV EAX,dword ptr [ESI]
009c67a6 : JMP 0x009c67aa
009c67a8 : MOV EAX,ESI
009c67aa : MOV ECX,0xc92044
009c67af : NOP
009c67b0 : MOV DX,word ptr [EAX]
009c67b3 : CMP DX,word ptr [ECX]
009c67b6 : JNZ 0x009c67d6
009c67b8 : CMP DX,BX
009c67bb : JZ 0x009c67d2
009c67bd : MOV DX,word ptr [EAX + 0x2]
009c67c1 : CMP DX,word ptr [ECX + 0x2]
009c67c5 : JNZ 0x009c67d6
009c67c7 : ADD EAX,0x4
009c67ca : ADD ECX,0x4
009c67cd : CMP DX,BX
009c67d0 : JNZ 0x009c67b0
009c67d2 : XOR EAX,EAX
009c67d4 : JMP 0x009c67db
009c67d6 : SBB EAX,EAX
009c67d8 : SBB EAX,-0x1
009c67db : CMP EAX,EBX
009c67dd : JNZ 0x009c6808
009c67df : MOV ECX,dword ptr [ESP + 0x10]
009c67e3 : MOVZX EDX,word ptr [ECX + 0x40]
009c67e7 : CMP EDX,dword ptr [ECX + 0x3c]
009c67ea : JZ 0x009c6852
009c67ec : MOV EAX,[0x00da93ec]
009c67f1 : MOV EAX,dword ptr [EAX + 0x450]
009c67f7 : MOVZX ECX,byte ptr [ECX + 0x40]
009c67fb : PUSH EBX
009c67fc : MOVZX EDX,AX
009c67ff : PUSH ECX
009c6800 : PUSH EDX
009c6801 : CALL 0x009c64b0
009c6806 : JMP 0x009c6852
009c6808 : CMP EDI,0x8
009c680b : JC 0x009c6811
009c680d : MOV EAX,dword ptr [ESI]
009c680f : JMP 0x009c6813
009c6811 : MOV EAX,ESI
009c6813 : MOV ECX,0xc92058
009c6818 : MOV DX,word ptr [EAX]
009c681b : CMP DX,word ptr [ECX]
009c681e : JNZ 0x009c683e
009c6820 : CMP DX,BX
009c6823 : JZ 0x009c683a
009c6825 : MOV DX,word ptr [EAX + 0x2]
009c6829 : CMP DX,word ptr [ECX + 0x2]
009c682d : JNZ 0x009c683e
009c682f : ADD EAX,0x4
009c6832 : ADD ECX,0x4
009c6835 : CMP DX,BX
009c6838 : JNZ 0x009c6818
009c683a : XOR EAX,EAX
009c683c : JMP 0x009c6843
009c683e : SBB EAX,EAX
009c6840 : SBB EAX,-0x1
009c6843 : CMP EAX,EBX
009c6845 : JNZ 0x009c6852
009c6847 : MOV ECX,dword ptr [ESP + 0x10]
009c684b : MOV EAX,dword ptr [ECX]
009c684d : MOV EDX,dword ptr [EAX + 0x20]
009c6850 : CALL EDX
009c6852 : MOV dword ptr [ESP + 0x68],0xffffffff
009c685a : MOV EAX,dword ptr [ESP + 0x18]
009c685e : CMP EAX,EBX
009c6860 : JZ 0x009c687c
009c6862 : MOV ECX,dword ptr [ESP + 0x10]
009c6866 : MOV EDI,dword ptr [ESP + 0x1c]
009c686a : PUSH ECX
009c686b : CALL 0x00405450
009c6870 : MOV ECX,dword ptr [ESP + 0x1c]
009c6874 : ADD ESP,0x4
009c6877 : CALL 0x006f04e0
009c687c : MOV dword ptr [ESP + 0x18],EBX
009c6880 : MOV dword ptr [ESP + 0x1c],EBX
009c6884 : MOV dword ptr [ESP + 0x20],EBX
009c6888 : MOV ECX,dword ptr [ESP + 0x60]
009c688c : MOV dword ptr FS:[0x0],ECX
009c6893 : POP ECX
009c6894 : POP EDI
009c6895 : POP ESI
009c6896 : POP EBX
009c6897 : MOV ESP,EBP
009c6899 : POP EBP
009c689a : RET 0x8
