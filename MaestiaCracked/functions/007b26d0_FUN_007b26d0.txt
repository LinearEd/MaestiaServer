PROGRAM  : Maestia.exe
FUNCTION : FUN_007b26d0
ENTRY    : 007b26d0
BODY     : [[007b26d0, 007b2a8e]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Function: __alloca_probe replaced with injection: alloca_probe */

void FUN_007b26d0(wchar_t *param_1)

{
  int iVar1;
  char cVar2;
  uint uVar3;
  int *piVar4;
  int in_ECX;
  undefined1 local_1678 [2668];
  wchar_t *local_c0c;
  undefined1 local_1b8 [28];
  undefined1 local_19c [4];
  undefined1 local_198 [4];
  int local_194;
  int local_190;
  int local_18c;
  undefined1 local_188 [4];
  undefined2 local_184;
  undefined4 local_174;
  undefined4 local_170;
  undefined2 local_168;
  undefined4 local_158;
  undefined4 local_154;
  undefined1 local_150 [4];
  undefined2 local_14c;
  undefined4 local_13c;
  undefined4 local_138;
  undefined2 local_130;
  undefined4 local_120;
  uint local_11c;
  undefined1 local_118 [256];
  uint local_18;
  undefined4 uStack_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b65ce0;
  local_10 = ExceptionList;
  uStack_14 = 0x7b26eb;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_18 = uVar3;
  if ((*(char *)(*(int *)(in_ECX + 0x278) + 0xa3) != '\0') &&
     (param_1 != L"le is not Tree Model!! ObjName : %s / ObjFile : %s ")) {
    local_18c = in_ECX;
    FUN_00406460(param_1);
    local_8 = 0;
    local_190 = in_ECX + 0x324;
    piVar4 = (int *)FUN_004761e0(local_190,local_198);
    local_194 = *piVar4;
    local_8 = 0xffffffff;
    if (7 < local_11c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_11c = 7;
    local_120 = 0;
    local_130 = 0;
    if (local_194 == *(int *)(in_ECX + 0x328)) {
      local_170 = 7;
      local_174 = 0;
      local_184 = 0;
      local_154 = 7;
      local_158 = 0;
      local_168 = 0;
      local_11c = 7;
      local_120 = 0;
      local_130 = 0;
      local_8._1_3_ = 0;
      local_138 = 7;
      local_13c = 0;
      local_14c = 0;
      local_8._0_1_ = 4;
      FUN_00406460(param_1 + 0x100);
      local_8._0_1_ = 5;
      FUN_0070c8c0(local_1b8,local_188,local_150,uVar3);
      local_8._0_1_ = 4;
      FUN_00406560();
      if ((*(int *)(param_1 + 0x500) == 1) || (*(int *)(param_1 + 0x500) == 0)) {
        cVar2 = FUN_004049e0();
        if (cVar2 != '\0') {
          param_1[0x500] = L'\x02';
          param_1[0x501] = L'\0';
          FUN_008018d0(L"%d : [%s] Error Data.. This File is not Tree Model!! ObjName : %s / ObjFile : %s "
                       ,0xd27,L"AvaLib::AvaPatch::AddObject",param_1,param_1 + 0x100);
        }
        FUN_00405c30(local_150,0,0xffffffff);
        if ((*(int *)(param_1 + 0x500) == 1) || (*(int *)(param_1 + 0x500) == 0)) {
          if ((*(char *)(*(int *)(in_ECX + 0x278) + 0x2ab7) != '\0') &&
             (cVar2 = FUN_007e0f30(), in_ECX = local_18c, cVar2 != '\0')) {
            FUN_0040e5e0();
            in_ECX = local_18c;
          }
          FUN_0070bda0(local_118);
          iVar1 = *(int *)(*(int *)(in_ECX + 0x278) + 0x20);
          if (*(int *)(iVar1 + 0x104) != 0) {
            FUN_007b8040(*(undefined4 *)(iVar1 + 0x104));
          }
        }
        FUN_007b03f0(param_1,1);
        FUN_0045c3f0();
        local_c0c = param_1;
        FUN_0045c3f0();
        FUN_0045dd80(local_1678);
        local_8._0_1_ = 6;
        FUN_0045c760(local_190,local_19c,local_1678);
      }
      else {
        FUN_007b03f0(param_1,1);
        FUN_0045c3f0();
        local_c0c = param_1;
        FUN_0045c3f0();
        FUN_0045dd80(local_1678);
        local_8._0_1_ = 7;
        FUN_0045c760(local_190,local_19c,local_1678);
      }
      local_8._0_1_ = 4;
      FUN_0044cb00(local_1678);
      local_8._0_1_ = 3;
      FUN_00406560();
      local_8._0_1_ = 2;
      FUN_00406560();
      local_8 = CONCAT31(local_8._1_3_,1);
      FUN_00406560();
      local_8 = 0xffffffff;
      FUN_00406560();
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_18 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
007b26d0 : PUSH EBP
007b26d1 : MOV EBP,ESP
007b26d3 : PUSH -0x1
007b26d5 : PUSH 0xb65ce0
007b26da : MOV EAX,FS:[0x0]
007b26e0 : PUSH EAX
007b26e1 : MOV EAX,0x20b8
007b26e6 : CALL 0x0063b780
007b26eb : MOV EAX,[0x00d66fa0]
007b26f0 : XOR EAX,EBP
007b26f2 : MOV dword ptr [EBP + -0x14],EAX
007b26f5 : PUSH EBX
007b26f6 : PUSH ESI
007b26f7 : PUSH EDI
007b26f8 : PUSH EAX
007b26f9 : LEA EAX,[EBP + -0xc]
007b26fc : MOV FS:[0x0],EAX
007b2702 : MOV EBX,dword ptr [EBP + 0x8]
007b2705 : MOV EDI,ECX
007b2707 : MOV EAX,dword ptr [EDI + 0x278]
007b270d : MOV AL,byte ptr [EAX + 0xa3]
007b2713 : MOV dword ptr [EBP + 0xfffffe78],EDI
007b2719 : TEST AL,AL
007b271b : JZ 0x007b2a71
007b2721 : LEA EAX,[EBX + 0x200]
007b2727 : CMP EAX,0xc178ac
007b272c : JZ 0x007b2a71
007b2732 : PUSH EBX
007b2733 : LEA ECX,[EBP + 0xfffffed0]
007b2739 : CALL 0x00406460
007b273e : MOV dword ptr [EBP + -0x4],0x0
007b2745 : LEA ECX,[EBP + 0xfffffe6c]
007b274b : LEA EAX,[EDI + 0x324]
007b2751 : PUSH ECX
007b2752 : PUSH EAX
007b2753 : LEA ESI,[EBP + 0xfffffed0]
007b2759 : MOV dword ptr [EBP + 0xfffffe74],EAX
007b275f : CALL 0x004761e0
007b2764 : MOV EDX,dword ptr [EAX]
007b2766 : MOV dword ptr [EBP + 0xfffffe70],EDX
007b276c : MOV dword ptr [EBP + -0x4],0xffffffff
007b2773 : CMP dword ptr [EBP + 0xfffffee8],0x8
007b277a : JC 0x007b2787
007b277c : MOV ECX,dword ptr [EBP + 0xfffffed4]
007b2782 : CALL 0x006f04e0
007b2787 : MOV EDX,dword ptr [EBP + 0xfffffe70]
007b278d : XOR ESI,ESI
007b278f : XOR ECX,ECX
007b2791 : MOV EAX,0x7
007b2796 : MOV dword ptr [EBP + 0xfffffee8],EAX
007b279c : MOV dword ptr [EBP + 0xfffffee4],ESI
007b27a2 : MOV word ptr [EBP + 0xfffffed4],CX
007b27a9 : CMP EDX,dword ptr [EDI + 0x328]
007b27af : JNZ 0x007b2a71
007b27b5 : MOV dword ptr [EBP + 0xfffffe94],EAX
007b27bb : MOV dword ptr [EBP + 0xfffffe90],ESI
007b27c1 : MOV word ptr [EBP + 0xfffffe80],CX
007b27c8 : MOV dword ptr [EBP + -0x4],0x1
007b27cf : XOR EDX,EDX
007b27d1 : MOV dword ptr [EBP + 0xfffffeb0],EAX
007b27d7 : MOV dword ptr [EBP + 0xfffffeac],ESI
007b27dd : MOV word ptr [EBP + 0xfffffe9c],DX
007b27e4 : MOV byte ptr [EBP + -0x4],0x2
007b27e8 : MOV dword ptr [EBP + 0xfffffee8],EAX
007b27ee : MOV dword ptr [EBP + 0xfffffee4],ESI
007b27f4 : MOV word ptr [EBP + 0xfffffed4],CX
007b27fb : MOV byte ptr [EBP + -0x4],0x3
007b27ff : MOV dword ptr [EBP + 0xfffffecc],EAX
007b2805 : MOV dword ptr [EBP + 0xfffffec8],ESI
007b280b : MOV word ptr [EBP + 0xfffffeb8],DX
007b2812 : MOV byte ptr [EBP + -0x4],0x4
007b2816 : LEA EAX,[EBX + 0x200]
007b281c : PUSH EAX
007b281d : LEA ECX,[EBP + 0xfffffe4c]
007b2823 : CALL 0x00406460
007b2828 : MOV byte ptr [EBP + -0x4],0x5
007b282c : LEA EAX,[EBP + 0xfffffeb4]
007b2832 : PUSH EAX
007b2833 : LEA ECX,[EBP + 0xfffffe7c]
007b2839 : PUSH ECX
007b283a : LEA EDX,[EBP + 0xfffffe4c]
007b2840 : PUSH EDX
007b2841 : LEA EDX,[EBP + 0xfffffed0]
007b2847 : LEA ECX,[EBP + 0xfffffe98]
007b284d : CALL 0x0070c8c0
007b2852 : ADD ESP,0xc
007b2855 : MOV byte ptr [EBP + -0x4],0x4
007b2859 : LEA ECX,[EBP + 0xfffffe4c]
007b285f : CALL 0x00406560
007b2864 : MOV EAX,dword ptr [EBX + 0xa00]
007b286a : CMP EAX,0x1
007b286d : JZ 0x007b28e1
007b286f : CMP EAX,ESI
007b2871 : JZ 0x007b28e1
007b2873 : PUSH 0x1
007b2875 : PUSH EBX
007b2876 : MOV ECX,EDI
007b2878 : CALL 0x007b03f0
007b287d : MOV EDX,EBX
007b287f : LEA EAX,[EBP + 0xffffdf3c]
007b2885 : CALL 0x0045c3f0
007b288a : LEA EDX,[EBP + 0xffffdf3c]
007b2890 : LEA EAX,[EBP + 0xfffff3fc]
007b2896 : MOV dword ptr [EBP + 0xfffff3f8],EBX
007b289c : CALL 0x0045c3f0
007b28a1 : LEA EAX,[EBP + 0xffffe98c]
007b28a7 : PUSH EAX
007b28a8 : LEA EDI,[EBP + 0xfffff3f8]
007b28ae : CALL 0x0045dd80
007b28b3 : MOV byte ptr [EBP + -0x4],0x7
007b28b7 : MOV EAX,dword ptr [EBP + 0xfffffe74]
007b28bd : LEA ECX,[EBP + 0xffffe98c]
007b28c3 : PUSH ECX
007b28c4 : LEA EDX,[EBP + 0xfffffe68]
007b28ca : PUSH EDX
007b28cb : PUSH EAX
007b28cc : CALL 0x0045c760
007b28d1 : MOV byte ptr [EBP + -0x4],0x4
007b28d5 : LEA ECX,[EBP + 0xffffe98c]
007b28db : PUSH ECX
007b28dc : JMP 0x007b2a2d
007b28e1 : MOV ESI,0xc178fc
007b28e6 : LEA ECX,[EBP + 0xfffffeb4]
007b28ec : CALL 0x004049e0
007b28f1 : TEST AL,AL
007b28f3 : JZ 0x007b2924
007b28f5 : MOV ESI,dword ptr [0x00da98e8]
007b28fb : LEA EAX,[EBX + 0x200]
007b2901 : PUSH EAX
007b2902 : PUSH EBX
007b2903 : PUSH 0xc179c4
007b2908 : PUSH 0xd27
007b290d : PUSH 0xc17a30
007b2912 : MOV dword ptr [EBX + 0xa00],0x2
007b291c : CALL 0x008018d0
007b2921 : ADD ESP,0x14
007b2924 : PUSH -0x1
007b2926 : PUSH 0x0
007b2928 : LEA EDX,[EBP + 0xfffffeb4]
007b292e : PUSH EDX
007b292f : LEA ECX,[EBP + 0xfffffed0]
007b2935 : CALL 0x00405c30
007b293a : MOV EAX,dword ptr [EBX + 0xa00]
007b2940 : CMP EAX,0x1
007b2943 : JZ 0x007b2949
007b2945 : TEST EAX,EAX
007b2947 : JNZ 0x007b29c4
007b2949 : MOV ECX,dword ptr [EDI + 0x278]
007b294f : CMP byte ptr [ECX + 0x2ab7],0x0
007b2956 : JZ 0x007b298f
007b2958 : LEA EAX,[EBP + 0xfffffed0]
007b295e : MOV EDI,ECX
007b2960 : CALL 0x007e0f30
007b2965 : TEST AL,AL
007b2967 : JZ 0x007b2989
007b2969 : CMP dword ptr [EBP + 0xfffffee8],0x8
007b2970 : MOV EAX,dword ptr [EBP + 0xfffffed4]
007b2976 : JNC 0x007b297e
007b2978 : LEA EAX,[EBP + 0xfffffed4]
007b297e : LEA ESI,[EBX + 0x200]
007b2984 : CALL 0x0040e5e0
007b2989 : MOV EDI,dword ptr [EBP + 0xfffffe78]
007b298f : LEA EAX,[EBP + 0xfffffeec]
007b2995 : PUSH EAX
007b2996 : LEA EDX,[EBX + 0x200]
007b299c : CALL 0x0070bda0
007b29a1 : MOV ECX,dword ptr [EDI + 0x278]
007b29a7 : MOV EAX,dword ptr [ECX + 0x20]
007b29aa : ADD ESP,0x4
007b29ad : CMP dword ptr [EAX + 0x104],0x0
007b29b4 : JZ 0x007b29c4
007b29b6 : MOV EAX,dword ptr [EAX + 0x104]
007b29bc : PUSH EAX
007b29bd : MOV ECX,EBX
007b29bf : CALL 0x007b8040
007b29c4 : PUSH 0x1
007b29c6 : PUSH EBX
007b29c7 : MOV ECX,EDI
007b29c9 : CALL 0x007b03f0
007b29ce : MOV EDX,EBX
007b29d0 : LEA EAX,[EBP + 0xffffdf3c]
007b29d6 : CALL 0x0045c3f0
007b29db : LEA EDX,[EBP + 0xffffdf3c]
007b29e1 : LEA EAX,[EBP + 0xfffff3fc]
007b29e7 : MOV dword ptr [EBP + 0xfffff3f8],EBX
007b29ed : CALL 0x0045c3f0
007b29f2 : LEA EDX,[EBP + 0xffffe98c]
007b29f8 : PUSH EDX
007b29f9 : LEA EDI,[EBP + 0xfffff3f8]
007b29ff : CALL 0x0045dd80
007b2a04 : MOV byte ptr [EBP + -0x4],0x6
007b2a08 : MOV EDX,dword ptr [EBP + 0xfffffe74]
007b2a0e : LEA EAX,[EBP + 0xffffe98c]
007b2a14 : PUSH EAX
007b2a15 : LEA ECX,[EBP + 0xfffffe68]
007b2a1b : PUSH ECX
007b2a1c : PUSH EDX
007b2a1d : CALL 0x0045c760
007b2a22 : MOV byte ptr [EBP + -0x4],0x4
007b2a26 : LEA EAX,[EBP + 0xffffe98c]
007b2a2c : PUSH EAX
007b2a2d : CALL 0x0044cb00
007b2a32 : MOV byte ptr [EBP + -0x4],0x3
007b2a36 : LEA ECX,[EBP + 0xfffffeb4]
007b2a3c : CALL 0x00406560
007b2a41 : MOV byte ptr [EBP + -0x4],0x2
007b2a45 : LEA ECX,[EBP + 0xfffffed0]
007b2a4b : CALL 0x00406560
007b2a50 : MOV byte ptr [EBP + -0x4],0x1
007b2a54 : LEA ECX,[EBP + 0xfffffe98]
007b2a5a : CALL 0x00406560
007b2a5f : MOV dword ptr [EBP + -0x4],0xffffffff
007b2a66 : LEA ECX,[EBP + 0xfffffe7c]
007b2a6c : CALL 0x00406560
007b2a71 : MOV ECX,dword ptr [EBP + -0xc]
007b2a74 : MOV dword ptr FS:[0x0],ECX
007b2a7b : POP ECX
007b2a7c : POP EDI
007b2a7d : POP ESI
007b2a7e : POP EBX
007b2a7f : MOV ECX,dword ptr [EBP + -0x14]
007b2a82 : XOR ECX,EBP
007b2a84 : CALL 0x00633e6b
007b2a89 : MOV ESP,EBP
007b2a8b : POP EBP
007b2a8c : RET 0x4
