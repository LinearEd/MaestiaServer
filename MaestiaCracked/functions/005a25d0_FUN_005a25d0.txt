PROGRAM  : Maestia.exe
FUNCTION : FUN_005a25d0
ENTRY    : 005a25d0
BODY     : [[005a25d0, 005a26f2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005a25d0(int *param_1)

{
  int *piVar1;
  int iVar2;
  GRefCountImpl *pGVar3;
  GRefCountImpl *pGVar4;
  int *in_ECX;
  
  piVar1 = param_1;
  iVar2 = *param_1;
  param_1 = (int *)(CONCAT31(param_1._1_3_,(byte)((uint)iVar2 >> 0x1c)) & 0xffffff01);
  in_ECX[3] = iVar2;
  iVar2 = FUN_00515840(0x14,0);
  if (iVar2 == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_00524b00(param_1);
  }
  in_ECX[2] = iVar2;
  iVar2 = FUN_00515840(0x40,0);
  if (iVar2 == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_00515380(in_ECX[2],param_1);
  }
  in_ECX[1] = iVar2;
  if (iVar2 != 0) {
    (**(code **)(*in_ECX + 8))(10,piVar1[1]);
    pGVar3 = (GRefCountImpl *)FUN_00515840(0x10,0);
    pGVar4 = (GRefCountImpl *)0x0;
    if (pGVar3 != (GRefCountImpl *)0x0) {
      *(undefined ***)pGVar3 = &PTR_FUN_00cd3f2c;
      *(undefined4 *)(pGVar3 + 0xc) = 0;
      *(undefined4 *)(pGVar3 + 4) = 1;
      *(undefined4 *)(pGVar3 + 8) = 0xd;
      *(undefined ***)pGVar3 = &PTR_FUN_00b8f230;
      pGVar4 = pGVar3;
    }
    (**(code **)(*in_ECX + 8))(0xd,pGVar4);
    if (pGVar4 != (GRefCountImpl *)0x0) {
      GRefCountImpl::Release(pGVar4);
    }
    (**(code **)(*in_ECX + 8))(0x1e,piVar1[2]);
    (**(code **)(*in_ECX + 8))(0x1d,piVar1[3]);
    iVar2 = FUN_00515840(0x18,0);
    if (iVar2 == 0) {
      pGVar4 = (GRefCountImpl *)0x0;
    }
    else {
      pGVar4 = (GRefCountImpl *)FUN_005d9ad0(param_1);
    }
    (**(code **)(*in_ECX + 8))(0x10,pGVar4);
    if (pGVar4 != (GRefCountImpl *)0x0) {
      GRefCountImpl::Release(pGVar4);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005a25d0 : PUSH EBX
005a25d1 : MOV EBX,dword ptr [ESP + 0x8]
005a25d5 : MOV EAX,dword ptr [EBX]
005a25d7 : PUSH EBP
005a25d8 : PUSH ESI
005a25d9 : MOV ESI,ECX
005a25db : PUSH EDI
005a25dc : MOV ECX,EAX
005a25de : SHR ECX,0x1c
005a25e1 : AND CL,0x1
005a25e4 : XOR EDI,EDI
005a25e6 : PUSH EDI
005a25e7 : MOV byte ptr [ESP + 0x18],CL
005a25eb : MOV dword ptr [ESI + 0xc],EAX
005a25ee : MOV ECX,dword ptr [0x00d73250]
005a25f4 : PUSH 0x14
005a25f6 : CALL 0x00515840
005a25fb : MOV EBP,dword ptr [ESP + 0x14]
005a25ff : CMP EAX,EDI
005a2601 : JZ 0x005a260d
005a2603 : PUSH EBP
005a2604 : MOV ECX,EAX
005a2606 : CALL 0x00524b00
005a260b : JMP 0x005a260f
005a260d : XOR EAX,EAX
005a260f : PUSH EDI
005a2610 : MOV dword ptr [ESI + 0x8],EAX
005a2613 : MOV ECX,dword ptr [0x00d73250]
005a2619 : PUSH 0x40
005a261b : CALL 0x00515840
005a2620 : CMP EAX,EDI
005a2622 : JZ 0x005a2632
005a2624 : MOV EDX,dword ptr [ESI + 0x8]
005a2627 : PUSH EBP
005a2628 : PUSH EDX
005a2629 : MOV ECX,EAX
005a262b : CALL 0x00515380
005a2630 : JMP 0x005a2634
005a2632 : XOR EAX,EAX
005a2634 : MOV dword ptr [ESI + 0x4],EAX
005a2637 : CMP EAX,EDI
005a2639 : JZ 0x005a26ec
005a263f : MOV ECX,dword ptr [EBX + 0x4]
005a2642 : MOV EAX,dword ptr [ESI]
005a2644 : MOV EDX,dword ptr [EAX + 0x8]
005a2647 : PUSH ECX
005a2648 : PUSH 0xa
005a264a : MOV ECX,ESI
005a264c : CALL EDX
005a264e : MOV ECX,dword ptr [0x00d73250]
005a2654 : PUSH EDI
005a2655 : PUSH 0x10
005a2657 : CALL 0x00515840
005a265c : CMP EAX,EDI
005a265e : JZ 0x005a267f
005a2660 : MOV dword ptr [EAX],0xcd3f2c
005a2666 : MOV dword ptr [EAX + 0xc],EDI
005a2669 : MOV dword ptr [EAX + 0x4],0x1
005a2670 : MOV dword ptr [EAX + 0x8],0xd
005a2677 : MOV dword ptr [EAX],0xb8f230
005a267d : MOV EDI,EAX
005a267f : MOV EAX,dword ptr [ESI]
005a2681 : MOV EDX,dword ptr [EAX + 0x8]
005a2684 : PUSH EDI
005a2685 : PUSH 0xd
005a2687 : MOV ECX,ESI
005a2689 : CALL EDX
005a268b : TEST EDI,EDI
005a268d : JZ 0x005a2696
005a268f : MOV ECX,EDI
005a2691 : CALL 0x004ff7e0
005a2696 : MOV ECX,dword ptr [EBX + 0x8]
005a2699 : MOV EAX,dword ptr [ESI]
005a269b : MOV EDX,dword ptr [EAX + 0x8]
005a269e : PUSH ECX
005a269f : PUSH 0x1e
005a26a1 : MOV ECX,ESI
005a26a3 : CALL EDX
005a26a5 : MOV ECX,dword ptr [EBX + 0xc]
005a26a8 : MOV EAX,dword ptr [ESI]
005a26aa : MOV EDX,dword ptr [EAX + 0x8]
005a26ad : PUSH ECX
005a26ae : PUSH 0x1d
005a26b0 : MOV ECX,ESI
005a26b2 : CALL EDX
005a26b4 : MOV ECX,dword ptr [0x00d73250]
005a26ba : PUSH 0x0
005a26bc : PUSH 0x18
005a26be : CALL 0x00515840
005a26c3 : TEST EAX,EAX
005a26c5 : JZ 0x005a26d3
005a26c7 : PUSH EBP
005a26c8 : MOV ECX,EAX
005a26ca : CALL 0x005d9ad0
005a26cf : MOV EDI,EAX
005a26d1 : JMP 0x005a26d5
005a26d3 : XOR EDI,EDI
005a26d5 : MOV EAX,dword ptr [ESI]
005a26d7 : MOV EDX,dword ptr [EAX + 0x8]
005a26da : PUSH EDI
005a26db : PUSH 0x10
005a26dd : MOV ECX,ESI
005a26df : CALL EDX
005a26e1 : TEST EDI,EDI
005a26e3 : JZ 0x005a26ec
005a26e5 : MOV ECX,EDI
005a26e7 : CALL 0x004ff7e0
005a26ec : POP EDI
005a26ed : POP ESI
005a26ee : POP EBP
005a26ef : POP EBX
005a26f0 : RET 0x4
