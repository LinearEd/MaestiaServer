PROGRAM  : Maestia.exe
FUNCTION : FUN_0060b9f0
ENTRY    : 0060b9f0
BODY     : [[0060b9f0, 0060ba76]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0060b9f0(short param_1,undefined2 param_2)

{
  uint *puVar1;
  uint uVar2;
  int iVar3;
  int in_ECX;
  uint uVar4;
  uint uVar5;
  uint *puVar6;
  
  puVar1 = (uint *)(in_ECX + 0x28);
  if (*(int *)(in_ECX + 0x28) != 0) {
    FUN_0060b6c0();
  }
  puVar6 = (uint *)(in_ECX + 0x18);
  uVar4 = *puVar1 >> 6;
  uVar5 = *puVar6;
  if (*(uint *)(in_ECX + 0x2c) <= uVar4) {
    FUN_00609580(uVar4);
  }
  uVar2 = *puVar1;
  iVar3 = *(int *)(*(int *)(in_ECX + 0x34) + uVar4 * 4);
  *(uint *)(iVar3 + (uVar2 & 0x3f) * 8) = uVar5;
  *(undefined4 *)(iVar3 + 4 + (uVar2 & 0x3f) * 8) = 1;
  *puVar1 = *puVar1 + 1;
  uVar5 = *puVar6 >> 6;
  _param_1 = CONCAT22(param_2,param_1 * 2);
  if (*(uint *)(in_ECX + 0x1c) <= uVar5) {
    FUN_00609500(uVar5);
  }
  *(undefined4 *)(*(int *)(*(int *)(in_ECX + 0x24) + uVar5 * 4) + (*puVar6 & 0x3f) * 4) = _param_1;
  *puVar6 = *puVar6 + 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0060b9f0 : PUSH ESI
0060b9f1 : PUSH EDI
0060b9f2 : MOV EDI,ECX
0060b9f4 : CMP dword ptr [EDI + 0x28],0x0
0060b9f8 : LEA ESI,[EDI + 0x28]
0060b9fb : JZ 0x0060ba02
0060b9fd : CALL 0x0060b6c0
0060ba02 : PUSH EBX
0060ba03 : MOV EBX,dword ptr [ESI]
0060ba05 : ADD EDI,0x18
0060ba08 : SHR EBX,0x6
0060ba0b : PUSH EBP
0060ba0c : MOV EBP,dword ptr [EDI]
0060ba0e : CMP EBX,dword ptr [ESI + 0x4]
0060ba11 : JC 0x0060ba1b
0060ba13 : PUSH EBX
0060ba14 : MOV ECX,ESI
0060ba16 : CALL 0x00609580
0060ba1b : MOV ECX,dword ptr [ESI + 0xc]
0060ba1e : MOV EAX,dword ptr [ESI]
0060ba20 : MOV EBX,dword ptr [ECX + EBX*0x4]
0060ba23 : MOV EDX,dword ptr [ESP + 0x14]
0060ba27 : AND EAX,0x3f
0060ba2a : MOV dword ptr [EBX + EAX*0x8],EBP
0060ba2d : MOV ECX,0x1
0060ba32 : MOV dword ptr [EBX + EAX*0x8 + 0x4],ECX
0060ba36 : INC dword ptr [ESI]
0060ba38 : MOV ESI,dword ptr [EDI]
0060ba3a : MOV CX,word ptr [ESP + 0x18]
0060ba3f : SHR ESI,0x6
0060ba42 : LEA EAX,[EDX + EDX*0x1]
0060ba45 : POP EBP
0060ba46 : MOV word ptr [ESP + 0x10],AX
0060ba4b : MOV word ptr [ESP + 0x12],CX
0060ba50 : POP EBX
0060ba51 : CMP ESI,dword ptr [EDI + 0x4]
0060ba54 : JC 0x0060ba5e
0060ba56 : PUSH ESI
0060ba57 : MOV ECX,EDI
0060ba59 : CALL 0x00609500
0060ba5e : MOV EDX,dword ptr [EDI + 0xc]
0060ba61 : MOV EAX,dword ptr [EDI]
0060ba63 : MOV ECX,dword ptr [EDX + ESI*0x4]
0060ba66 : MOV EDX,dword ptr [ESP + 0xc]
0060ba6a : AND EAX,0x3f
0060ba6d : MOV dword ptr [ECX + EAX*0x4],EDX
0060ba70 : INC dword ptr [EDI]
0060ba72 : POP EDI
0060ba73 : POP ESI
0060ba74 : RET 0x8
