PROGRAM  : Maestia.exe
FUNCTION : FUN_0060e010
ENTRY    : 0060e010
BODY     : [[0060e010, 0060e089]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0060e010(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0x90);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 2;
  iVar1 = FUN_00515d60(param_1,uVar2 * 0x90,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0060e010 : MOV EAX,dword ptr [ESP + 0x8]
0060e014 : PUSH EDI
0060e015 : MOV EDI,ECX
0060e017 : TEST EAX,EAX
0060e019 : JNZ 0x0060e038
0060e01b : MOV EAX,dword ptr [EDI]
0060e01d : TEST EAX,EAX
0060e01f : JZ 0x0060e02d
0060e021 : PUSH EAX
0060e022 : CALL 0x00515cf0
0060e027 : MOV dword ptr [EDI],0x0
0060e02d : MOV dword ptr [EDI + 0x8],0x0
0060e034 : POP EDI
0060e035 : RET 0x8
0060e038 : PUSH ESI
0060e039 : LEA ESI,[EAX + 0x3]
0060e03c : MOV EAX,dword ptr [EDI]
0060e03e : SHR ESI,0x2
0060e041 : ADD ESI,ESI
0060e043 : ADD ESI,ESI
0060e045 : TEST EAX,EAX
0060e047 : JZ 0x0060e061
0060e049 : LEA ECX,[ESI + ESI*0x8]
0060e04c : ADD ECX,ECX
0060e04e : ADD ECX,ECX
0060e050 : PUSH ECX
0060e051 : PUSH EAX
0060e052 : CALL 0x00515c80
0060e057 : MOV dword ptr [EDI + 0x8],ESI
0060e05a : POP ESI
0060e05b : MOV dword ptr [EDI],EAX
0060e05d : POP EDI
0060e05e : RET 0x8
0060e061 : MOV ECX,dword ptr [ESP + 0xc]
0060e065 : LEA EAX,[ESI + ESI*0x8]
0060e068 : LEA EDX,[ESP + 0x10]
0060e06c : ADD EAX,EAX
0060e06e : PUSH EDX
0060e06f : ADD EAX,EAX
0060e071 : PUSH EAX
0060e072 : PUSH ECX
0060e073 : MOV dword ptr [ESP + 0x1c],0x2
0060e07b : CALL 0x00515d60
0060e080 : MOV dword ptr [EDI + 0x8],ESI
0060e083 : POP ESI
0060e084 : MOV dword ptr [EDI],EAX
0060e086 : POP EDI
0060e087 : RET 0x8
