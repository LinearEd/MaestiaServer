PROGRAM  : Maestia.exe
FUNCTION : FUN_0081d120
ENTRY    : 0081d120
BODY     : [[0081d120, 0081d279]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0081d120(undefined4 param_1)

{
  char cVar1;
  uint uVar2;
  undefined4 uVar3;
  int in_ECX;
  int unaff_EDI;
  bool bVar4;
  uint local_40;
  undefined1 local_3c [4];
  undefined2 local_38;
  undefined4 local_28;
  uint local_24;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b1ae30;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8 = 0;
  bVar4 = *(int *)(in_ECX + 0x144) != 0;
  if (bVar4) {
    uVar3 = FUN_00814290(local_3c);
    local_8 = 2;
  }
  else {
    uVar3 = FUN_00406460(&DAT_00c341e0);
    local_8 = 1;
  }
  *(undefined4 *)(unaff_EDI + 0x18) = 7;
  *(undefined4 *)(unaff_EDI + 0x14) = 0;
  *(undefined2 *)(unaff_EDI + 4) = 0;
  FUN_00405eb0(uVar3,0,0xffffffff);
  local_8 = 1;
  if (bVar4) {
    if (7 < local_24) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_24 = 7;
    local_28 = 0;
    local_38 = 0;
  }
  local_8 = 0;
  if ((!bVar4) && (7 < local_40)) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if ((DAT_00da98b8 != '\0') && (*(int *)(unaff_EDI + 0x14) == 0)) {
    FUN_00405eb0(param_1,0,0xffffffff);
  }
  if ((((*(int *)(DAT_017248c8 + 0x150) != 0) && (*(int *)(in_ECX + 0x144) != 0)) &&
      (DAT_00da98b8 == '\0')) && (cVar1 = FUN_008123d0(uVar2), cVar1 != '\0')) {
    FUN_00405c00(unaff_EDI);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0081d120 : PUSH EBP
0081d121 : MOV EBP,ESP
0081d123 : PUSH -0x1
0081d125 : PUSH 0xb1ae30
0081d12a : MOV EAX,FS:[0x0]
0081d130 : PUSH EAX
0081d131 : SUB ESP,0x48
0081d134 : PUSH EBX
0081d135 : PUSH ESI
0081d136 : MOV EAX,[0x00d66fa0]
0081d13b : XOR EAX,EBP
0081d13d : PUSH EAX
0081d13e : LEA EAX,[EBP + -0xc]
0081d141 : MOV FS:[0x0],EAX
0081d147 : XOR ESI,ESI
0081d149 : MOV dword ptr [EBP + -0x4],ESI
0081d14c : MOV EAX,dword ptr [EBP + 0x8]
0081d14f : MOV dword ptr [EBP + -0x14],ECX
0081d152 : MOV dword ptr [EBP + -0x10],ESI
0081d155 : MOV ECX,dword ptr [ECX + 0x144]
0081d15b : MOV dword ptr [EBP + -0x1c],EDI
0081d15e : MOV dword ptr [EBP + -0x18],EAX
0081d161 : CMP ECX,ESI
0081d163 : JNZ 0x0081d17c
0081d165 : PUSH 0xc341e0
0081d16a : LEA ECX,[EBP + -0x54]
0081d16d : CALL 0x00406460
0081d172 : MOV EBX,0x1
0081d177 : MOV dword ptr [EBP + -0x4],EBX
0081d17a : JMP 0x0081d191
0081d17c : LEA EDX,[EBP + -0x38]
0081d17f : PUSH EDX
0081d180 : MOV ESI,EAX
0081d182 : CALL 0x00814290
0081d187 : MOV EBX,0x2
0081d18c : MOV dword ptr [EBP + -0x4],EBX
0081d18f : XOR ESI,ESI
0081d191 : MOV dword ptr [EBP + -0x10],EBX
0081d194 : PUSH -0x1
0081d196 : XOR ECX,ECX
0081d198 : MOV dword ptr [EDI + 0x18],0x7
0081d19f : MOV dword ptr [EDI + 0x14],ESI
0081d1a2 : PUSH ESI
0081d1a3 : MOV word ptr [EDI + 0x4],CX
0081d1a7 : PUSH EAX
0081d1a8 : MOV ECX,EDI
0081d1aa : CALL 0x00405eb0
0081d1af : OR EBX,0x4
0081d1b2 : MOV dword ptr [EBP + -0x10],EBX
0081d1b5 : MOV dword ptr [EBP + -0x4],0x1
0081d1bc : TEST BL,0x2
0081d1bf : JZ 0x0081d1e5
0081d1c1 : AND EBX,0xfffffffd
0081d1c4 : MOV dword ptr [EBP + -0x10],EBX
0081d1c7 : CMP dword ptr [EBP + -0x20],0x8
0081d1cb : JC 0x0081d1d5
0081d1cd : MOV ECX,dword ptr [EBP + -0x34]
0081d1d0 : CALL 0x006f04e0
0081d1d5 : XOR EDX,EDX
0081d1d7 : MOV dword ptr [EBP + -0x20],0x7
0081d1de : MOV dword ptr [EBP + -0x24],ESI
0081d1e1 : MOV word ptr [EBP + -0x34],DX
0081d1e5 : MOV dword ptr [EBP + -0x4],ESI
0081d1e8 : TEST BL,0x1
0081d1eb : JZ 0x0081d211
0081d1ed : AND EBX,0xfffffffe
0081d1f0 : MOV dword ptr [EBP + -0x10],EBX
0081d1f3 : CMP dword ptr [EBP + -0x3c],0x8
0081d1f7 : JC 0x0081d201
0081d1f9 : MOV ECX,dword ptr [EBP + -0x50]
0081d1fc : CALL 0x006f04e0
0081d201 : XOR EAX,EAX
0081d203 : MOV dword ptr [EBP + -0x3c],0x7
0081d20a : MOV dword ptr [EBP + -0x40],ESI
0081d20d : MOV word ptr [EBP + -0x50],AX
0081d211 : CMP byte ptr [0x00da98b8],0x0
0081d218 : JZ 0x0081d22d
0081d21a : CMP dword ptr [EDI + 0x14],ESI
0081d21d : JNZ 0x0081d22d
0081d21f : MOV ECX,dword ptr [EBP + -0x18]
0081d222 : PUSH -0x1
0081d224 : PUSH ESI
0081d225 : PUSH ECX
0081d226 : MOV ECX,EDI
0081d228 : CALL 0x00405eb0
0081d22d : MOV EDX,dword ptr [0x017248c8]
0081d233 : CMP dword ptr [EDX + 0x150],ESI
0081d239 : JZ 0x0081d265
0081d23b : MOV EAX,dword ptr [EBP + -0x14]
0081d23e : CMP dword ptr [EAX + 0x144],ESI
0081d244 : JZ 0x0081d265
0081d246 : CMP byte ptr [0x00da98b8],0x0
0081d24d : JNZ 0x0081d265
0081d24f : MOV EDX,EDI
0081d251 : CALL 0x008123d0
0081d256 : TEST AL,AL
0081d258 : JZ 0x0081d265
0081d25a : PUSH EDI
0081d25b : MOV EDX,0xc341e4
0081d260 : CALL 0x00405c00
0081d265 : MOV EAX,EDI
0081d267 : MOV ECX,dword ptr [EBP + -0xc]
0081d26a : MOV dword ptr FS:[0x0],ECX
0081d271 : POP ECX
0081d272 : POP ESI
0081d273 : POP EBX
0081d274 : MOV ESP,EBP
0081d276 : POP EBP
0081d277 : RET 0x4
