PROGRAM  : Maestia.exe
FUNCTION : FUN_0094d570
ENTRY    : 0094d570
BODY     : [[0094d570, 0094d6c3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0094d570(void)

{
  undefined4 *puVar1;
  int iVar2;
  uint uVar3;
  int *piVar4;
  DWORD DVar5;
  int in_ECX;
  uint uVar6;
  undefined1 local_34 [4];
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b63c6c;
  local_14 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xffffffb8;
  ExceptionList = &local_14;
  if (((*(int *)(in_ECX + 100) - *(int *)(in_ECX + 0x60) & 0xfffffffcU) != 0) &&
     (piVar4 = *(int **)(in_ECX + 0x60), piVar4 != *(int **)(in_ECX + 100))) {
    do {
      puVar1 = (undefined4 *)*piVar4;
      if (puVar1 == (undefined4 *)0x0) {
        local_30 = 0;
        local_1c = 7;
        local_20 = 0;
        FUN_00406360(L"Pet pointer is Null",0x13);
        local_c = 0;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiPetList::Run",0x5f9,local_34,uVar3);
        }
        local_c = 0xffffffff;
        if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_1c = 7;
        local_20 = 0;
        local_30 = 0;
      }
      else if (((*(char *)(puVar1 + 0x2e) != '\0') && (puVar1[0x2f] != 0)) && (puVar1[0x2d] != 0)) {
        DVar5 = timeGetTime();
        uVar6 = (DVar5 - puVar1[0x2f]) / 100;
        iVar2 = -(uint)((uint)puVar1[0x2d] < uVar6);
        if ((iVar2 < 1) && ((iVar2 < 0 || (puVar1[0x2d] == uVar6)))) {
          FUN_0094cdf0(*puVar1,0,0,0);
        }
      }
      piVar4 = piVar4 + 1;
    } while (piVar4 != *(int **)(in_ECX + 100));
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
0094d570 : PUSH EBP
0094d571 : MOV EBP,ESP
0094d573 : AND ESP,0xfffffff8
0094d576 : PUSH -0x1
0094d578 : PUSH 0xb63c6c
0094d57d : MOV EAX,FS:[0x0]
0094d583 : PUSH EAX
0094d584 : SUB ESP,0x28
0094d587 : PUSH EBX
0094d588 : PUSH ESI
0094d589 : PUSH EDI
0094d58a : MOV EAX,[0x00d66fa0]
0094d58f : XOR EAX,ESP
0094d591 : PUSH EAX
0094d592 : LEA EAX,[ESP + 0x38]
0094d596 : MOV FS:[0x0],EAX
0094d59c : MOV EDI,ECX
0094d59e : MOV dword ptr [ESP + 0x10],EDI
0094d5a2 : MOV EAX,dword ptr [EDI + 0x64]
0094d5a5 : SUB EAX,dword ptr [EDI + 0x60]
0094d5a8 : TEST EAX,0xfffffffc
0094d5ad : JZ 0x0094d6b1
0094d5b3 : MOV EAX,dword ptr [EDI + 0x60]
0094d5b6 : MOV dword ptr [ESP + 0x14],EAX
0094d5ba : CMP EAX,dword ptr [EDI + 0x64]
0094d5bd : JZ 0x0094d6b1
0094d5c3 : XOR EBX,EBX
0094d5c5 : MOV ESI,dword ptr [EAX]
0094d5c7 : CMP ESI,EBX
0094d5c9 : JNZ 0x0094d63e
0094d5cb : XOR ECX,ECX
0094d5cd : PUSH 0x13
0094d5cf : MOV word ptr [ESP + 0x20],CX
0094d5d4 : MOV ESI,0x7
0094d5d9 : PUSH 0xc742dc
0094d5de : LEA ECX,[ESP + 0x20]
0094d5e2 : MOV dword ptr [ESP + 0x38],ESI
0094d5e6 : MOV dword ptr [ESP + 0x34],EBX
0094d5ea : CALL 0x00406360
0094d5ef : MOV dword ptr [ESP + 0x40],EBX
0094d5f3 : MOV EDX,dword ptr [0x00da98e8]
0094d5f9 : MOV ECX,dword ptr [EDX]
0094d5fb : CMP ECX,EBX
0094d5fd : JZ 0x0094d615
0094d5ff : MOV EAX,dword ptr [ECX]
0094d601 : MOV EAX,dword ptr [EAX + 0x14]
0094d604 : LEA EDX,[ESP + 0x18]
0094d608 : PUSH EDX
0094d609 : PUSH 0x5f9
0094d60e : PUSH 0xc74304
0094d613 : CALL EAX
0094d615 : MOV dword ptr [ESP + 0x40],0xffffffff
0094d61d : CMP dword ptr [ESP + 0x30],0x8
0094d622 : JC 0x0094d62d
0094d624 : MOV ECX,dword ptr [ESP + 0x1c]
0094d628 : CALL 0x006f04e0
0094d62d : XOR ECX,ECX
0094d62f : MOV dword ptr [ESP + 0x30],ESI
0094d633 : MOV dword ptr [ESP + 0x2c],EBX
0094d637 : MOV word ptr [ESP + 0x1c],CX
0094d63c : JMP 0x0094d69d
0094d63e : CMP byte ptr [ESI + 0xb8],BL
0094d644 : JZ 0x0094d69d
0094d646 : CMP dword ptr [ESI + 0xbc],EBX
0094d64c : JBE 0x0094d69d
0094d64e : CMP dword ptr [ESI + 0xb4],EBX
0094d654 : JBE 0x0094d69d
0094d656 : CALL dword ptr [0x00b85598]
0094d65c : MOV ECX,EAX
0094d65e : SUB ECX,dword ptr [ESI + 0xbc]
0094d664 : MOV EAX,0x51eb851f
0094d669 : MUL ECX
0094d66b : MOV ECX,dword ptr [ESI + 0xb4]
0094d671 : SHR EDX,0x5
0094d674 : XOR EDI,EDI
0094d676 : XOR EAX,EAX
0094d678 : SUB ECX,EDX
0094d67a : SBB EAX,EDI
0094d67c : CMP EAX,EBX
0094d67e : JG 0x0094d699
0094d680 : JL 0x0094d686
0094d682 : CMP ECX,EBX
0094d684 : JA 0x0094d699
0094d686 : MOV EDX,dword ptr [ESI]
0094d688 : MOV EDI,dword ptr [ESP + 0x10]
0094d68c : PUSH EBX
0094d68d : PUSH EBX
0094d68e : PUSH EBX
0094d68f : PUSH EDX
0094d690 : MOV EAX,EDI
0094d692 : CALL 0x0094cdf0
0094d697 : JMP 0x0094d69d
0094d699 : MOV EDI,dword ptr [ESP + 0x10]
0094d69d : MOV EAX,dword ptr [ESP + 0x14]
0094d6a1 : ADD EAX,0x4
0094d6a4 : MOV dword ptr [ESP + 0x14],EAX
0094d6a8 : CMP EAX,dword ptr [EDI + 0x64]
0094d6ab : JNZ 0x0094d5c5
0094d6b1 : MOV ECX,dword ptr [ESP + 0x38]
0094d6b5 : MOV dword ptr FS:[0x0],ECX
0094d6bc : POP ECX
0094d6bd : POP EDI
0094d6be : POP ESI
0094d6bf : POP EBX
0094d6c0 : MOV ESP,EBP
0094d6c2 : POP EBP
0094d6c3 : RET
