PROGRAM  : Maestia.exe
FUNCTION : FUN_007cc380
ENTRY    : 007cc380
BODY     : [[007cc380, 007cc423]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007cc380(undefined4 param_1,undefined4 param_2)

{
  int *in_ECX;
  int *piVar1;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0ed87;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  (**(code **)(*in_ECX + 0x58))(param_1,param_2,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  if (in_ECX[0xf] != 0) {
    if (in_ECX[2] != 0) {
      EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
    }
    local_8 = 0;
    piVar1 = *(int **)in_ECX[0xe];
    if (piVar1 != (int *)in_ECX[0xe]) {
      do {
        (**(code **)(*(int *)piVar1[9] + 0x5c))(param_1,param_2);
        piVar1 = (int *)*piVar1;
      } while (piVar1 != (int *)in_ECX[0xe]);
    }
    local_8 = 0xffffffff;
    if (in_ECX[2] != 0) {
      LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007cc380 : PUSH EBP
007cc381 : MOV EBP,ESP
007cc383 : PUSH -0x1
007cc385 : PUSH 0xb0ed87
007cc38a : MOV EAX,FS:[0x0]
007cc390 : PUSH EAX
007cc391 : PUSH EBX
007cc392 : PUSH ESI
007cc393 : PUSH EDI
007cc394 : MOV EAX,[0x00d66fa0]
007cc399 : XOR EAX,EBP
007cc39b : PUSH EAX
007cc39c : LEA EAX,[EBP + -0xc]
007cc39f : MOV FS:[0x0],EAX
007cc3a5 : MOV EDI,ECX
007cc3a7 : MOV EBX,dword ptr [EBP + 0xc]
007cc3aa : MOV ECX,dword ptr [EBP + 0x8]
007cc3ad : MOV EAX,dword ptr [EDI]
007cc3af : MOV EDX,dword ptr [EAX + 0x58]
007cc3b2 : PUSH EBX
007cc3b3 : PUSH ECX
007cc3b4 : MOV ECX,EDI
007cc3b6 : CALL EDX
007cc3b8 : CMP dword ptr [EDI + 0x3c],0x0
007cc3bc : JZ 0x007cc410
007cc3be : MOV EAX,dword ptr [EDI + 0x8]
007cc3c1 : MOV dword ptr [EBP + 0xc],EDI
007cc3c4 : TEST EAX,EAX
007cc3c6 : JZ 0x007cc3d2
007cc3c8 : ADD EAX,0x4
007cc3cb : PUSH EAX
007cc3cc : CALL dword ptr [0x00b85118]
007cc3d2 : MOV dword ptr [EBP + -0x4],0x0
007cc3d9 : MOV EAX,dword ptr [EDI + 0x38]
007cc3dc : MOV ESI,dword ptr [EAX]
007cc3de : CMP ESI,EAX
007cc3e0 : JZ 0x007cc3f8
007cc3e2 : MOV ECX,dword ptr [ESI + 0x24]
007cc3e5 : MOV EAX,dword ptr [ECX]
007cc3e7 : MOV EDX,dword ptr [EBP + 0x8]
007cc3ea : MOV EAX,dword ptr [EAX + 0x5c]
007cc3ed : PUSH EBX
007cc3ee : PUSH EDX
007cc3ef : CALL EAX
007cc3f1 : MOV ESI,dword ptr [ESI]
007cc3f3 : CMP ESI,dword ptr [EDI + 0x38]
007cc3f6 : JNZ 0x007cc3e2
007cc3f8 : MOV dword ptr [EBP + -0x4],0xffffffff
007cc3ff : MOV EDI,dword ptr [EDI + 0x8]
007cc402 : TEST EDI,EDI
007cc404 : JZ 0x007cc410
007cc406 : ADD EDI,0x4
007cc409 : PUSH EDI
007cc40a : CALL dword ptr [0x00b8511c]
007cc410 : MOV ECX,dword ptr [EBP + -0xc]
007cc413 : MOV dword ptr FS:[0x0],ECX
007cc41a : POP ECX
007cc41b : POP EDI
007cc41c : POP ESI
007cc41d : POP EBX
007cc41e : MOV ESP,EBP
007cc420 : POP EBP
007cc421 : RET 0x8
