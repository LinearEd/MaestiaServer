PROGRAM  : Maestia.exe
FUNCTION : FUN_007f6ab0
ENTRY    : 007f6ab0
BODY     : [[007f6ab0, 007f6b84]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007f6ab0(int param_1)

{
  float fVar1;
  uint uVar2;
  int in_ECX;
  int iVar3;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0da41;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(in_ECX + 0xc);
  local_18 = 0;
  local_20 = ".\\World\\AvaWorld.cpp";
  local_1c = 0x7f3;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  local_8 = 0;
  if ((*(int *)(in_ECX + 4) == 2) && (*(int **)(in_ECX + 0x54) != (int *)0x0)) {
    iVar3 = param_1 - *(int *)(in_ECX + 0x58);
    fVar1 = (float)iVar3;
    if (iVar3 < 0) {
      fVar1 = fVar1 + 4.2949673e+09;
    }
    (**(code **)(**(int **)(in_ECX + 0x54) + 0x8c))(fVar1 * 0.001,2,uVar2);
    *(int *)(in_ECX + 0x58) = param_1;
  }
  if (local_18 != 0) {
    local_8 = 0xffffffff;
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007f6ab0 : PUSH EBP
007f6ab1 : MOV EBP,ESP
007f6ab3 : PUSH -0x1
007f6ab5 : PUSH 0xb0da41
007f6aba : MOV EAX,FS:[0x0]
007f6ac0 : PUSH EAX
007f6ac1 : SUB ESP,0x14
007f6ac4 : PUSH EBX
007f6ac5 : PUSH ESI
007f6ac6 : PUSH EDI
007f6ac7 : MOV EAX,[0x00d66fa0]
007f6acc : XOR EAX,EBP
007f6ace : PUSH EAX
007f6acf : LEA EAX,[EBP + -0xc]
007f6ad2 : MOV FS:[0x0],EAX
007f6ad8 : MOV ESI,ECX
007f6ada : LEA ECX,[EBP + -0x20]
007f6add : LEA EAX,[ESI + 0xc]
007f6ae0 : XOR EBX,EBX
007f6ae2 : PUSH ECX
007f6ae3 : MOV dword ptr [EBP + -0x14],EBX
007f6ae6 : MOV dword ptr [EBP + -0x20],EAX
007f6ae9 : MOV dword ptr [EBP + -0x1c],0xc256c4
007f6af0 : MOV dword ptr [EBP + -0x18],0x7f3
007f6af7 : MOV dword ptr [EBP + -0x10],0x1
007f6afe : CALL 0x006ef1a0
007f6b03 : MOV dword ptr [EBP + -0x4],EBX
007f6b06 : CMP dword ptr [ESI + 0x4],0x2
007f6b0a : JZ 0x007f6b1e
007f6b0c : MOV dword ptr [EBP + -0x4],0xffffffff
007f6b13 : CMP dword ptr [EBP + -0x14],EBX
007f6b16 : JZ 0x007f6b71
007f6b18 : MOV EDX,dword ptr [EBP + -0x20]
007f6b1b : PUSH EDX
007f6b1c : JMP 0x007f6b68
007f6b1e : MOV ECX,dword ptr [ESI + 0x54]
007f6b21 : CMP ECX,EBX
007f6b23 : JZ 0x007f6b58
007f6b25 : MOV EDI,dword ptr [EBP + 0x8]
007f6b28 : MOV EDX,EDI
007f6b2a : SUB EDX,dword ptr [ESI + 0x58]
007f6b2d : MOV dword ptr [EBP + 0x8],EDX
007f6b30 : FILD dword ptr [EBP + 0x8]
007f6b33 : TEST EDX,EDX
007f6b35 : JGE 0x007f6b3d
007f6b37 : FADD float ptr [0x00cdf0e0]
007f6b3d : FMUL float ptr [0x00cdf128]
007f6b43 : MOV EAX,dword ptr [ECX]
007f6b45 : MOV EDX,dword ptr [EAX + 0x8c]
007f6b4b : PUSH 0x2
007f6b4d : PUSH ECX
007f6b4e : FSTP float ptr [ESP]
007f6b51 : CALL EDX
007f6b53 : FSTP ST0
007f6b55 : MOV dword ptr [ESI + 0x58],EDI
007f6b58 : MOV dword ptr [EBP + -0x4],0xffffffff
007f6b5f : CMP dword ptr [EBP + -0x14],EBX
007f6b62 : JZ 0x007f6b71
007f6b64 : MOV EAX,dword ptr [EBP + -0x20]
007f6b67 : PUSH EAX
007f6b68 : CALL dword ptr [0x00b8511c]
007f6b6e : MOV dword ptr [EBP + -0x14],EBX
007f6b71 : MOV ECX,dword ptr [EBP + -0xc]
007f6b74 : MOV dword ptr FS:[0x0],ECX
007f6b7b : POP ECX
007f6b7c : POP EDI
007f6b7d : POP ESI
007f6b7e : POP EBX
007f6b7f : MOV ESP,EBP
007f6b81 : POP EBP
007f6b82 : RET 0x8
