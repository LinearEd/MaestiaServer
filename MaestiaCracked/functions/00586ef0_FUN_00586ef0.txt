PROGRAM  : Maestia.exe
FUNCTION : FUN_00586ef0
ENTRY    : 00586ef0
BODY     : [[00586ef0, 00586f48]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00586ef0(byte param_1)

{
  uint uVar1;
  LONG LVar2;
  undefined4 *in_ECX;
  
  *in_ECX = &PTR_LAB_00b8df94;
  in_ECX[4] = &PTR_LAB_00b8df40;
  FUN_00585260(0);
  uVar1 = in_ECX[0x10];
  LVar2 = InterlockedExchangeAdd((LONG *)((uVar1 & 0xfffffffc) + 4),-1);
  if (LVar2 == 1) {
    FUN_00515cf0(uVar1 & 0xfffffffc);
  }
  FUN_00515cf0(in_ECX[0xd]);
  FUN_00552060();
  if ((param_1 & 1) != 0) {
    FUN_00515cf0(in_ECX);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00586ef0 : PUSH ESI
00586ef1 : PUSH EDI
00586ef2 : MOV ESI,ECX
00586ef4 : PUSH 0x0
00586ef6 : MOV dword ptr [ESI],0xb8df94
00586efc : MOV dword ptr [ESI + 0x10],0xb8df40
00586f03 : CALL 0x00585260
00586f08 : MOV EDI,dword ptr [ESI + 0x40]
00586f0b : AND EDI,0xfffffffc
00586f0e : PUSH -0x1
00586f10 : LEA EAX,[EDI + 0x4]
00586f13 : PUSH EAX
00586f14 : CALL dword ptr [0x00b851cc]
00586f1a : SUB EAX,0x1
00586f1d : JNZ 0x00586f25
00586f1f : PUSH EDI
00586f20 : CALL 0x00515cf0
00586f25 : MOV ECX,dword ptr [ESI + 0x34]
00586f28 : PUSH ECX
00586f29 : CALL 0x00515cf0
00586f2e : MOV ECX,ESI
00586f30 : CALL 0x00552060
00586f35 : TEST byte ptr [ESP + 0xc],0x1
00586f3a : JZ 0x00586f42
00586f3c : PUSH ESI
00586f3d : CALL 0x00515cf0
00586f42 : POP EDI
00586f43 : MOV EAX,ESI
00586f45 : POP ESI
00586f46 : RET 0x4
