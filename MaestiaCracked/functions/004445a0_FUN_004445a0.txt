PROGRAM  : Maestia.exe
FUNCTION : FUN_004445a0
ENTRY    : 004445a0
BODY     : [[004445a0, 00444713] [00444725, 0044481f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004445a0(uint param_1,int param_2,uint param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  undefined4 uVar5;
  uint uVar6;
  uint extraout_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar2 = param_1;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7b190;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar3 = *(int *)(param_1 + 4);
  if (iVar3 == 0) {
    uVar6 = 0;
  }
  else {
    uVar6 = (*(int *)(param_1 + 0xc) - iVar3) / 0x18;
  }
  iVar1 = *(int *)(param_1 + 8);
  iVar3 = (iVar1 - iVar3) / 0x18;
  if (iVar3 == 0xaaaaaaa) {
    iVar3 = FUN_00429be0();
    uVar6 = extraout_ECX;
  }
  uVar4 = iVar3 + 1;
  if (uVar6 < uVar4) {
    if (0xaaaaaaa - (uVar6 >> 1) < uVar6) {
      param_1 = 0;
    }
    else {
      param_1 = uVar6 + (uVar6 >> 1);
    }
    if (param_1 < uVar4) {
      param_1 = uVar4;
    }
    iVar3 = FUN_00444a00();
    local_8 = 0;
    FUN_0041df90();
    FUN_004cb7f0(*(undefined4 *)(iVar2 + 4),param_2);
    FUN_004cb7f0(param_2,*(undefined4 *)(iVar2 + 8));
    local_8 = 0xffffffff;
    if (*(int *)(iVar2 + 4) != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(uint *)(iVar2 + 0xc) = iVar3 + param_1 * 0x18;
    *(int *)(iVar2 + 8) = iVar3 + ((*(int *)(iVar2 + 8) - *(int *)(iVar2 + 4)) / 0x18 + 1) * 0x18;
    *(int *)(iVar2 + 4) = iVar3;
    ExceptionList = local_10;
    return;
  }
  iVar3 = iVar1 - param_2 >> 0x1f;
  if ((iVar1 - param_2) / 0x18 + iVar3 == iVar3) {
    FUN_004cb7f0(param_2,iVar1);
    local_8 = 2;
    FUN_0041df90();
    local_8 = 0xffffffff;
    *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x18;
    FUN_00444bc0(param_2);
    ExceptionList = local_10;
    return;
  }
  uVar5 = FUN_004cb7f0(iVar1 + -0x18,iVar1);
  *(undefined4 *)(param_1 + 8) = uVar5;
  param_3 = param_3 & 0xffffff00;
  FUN_00444c50(param_2,param_2,param_2,param_3);
  FUN_00444bc0(param_2);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
004445a0 : PUSH EBP
004445a1 : MOV EBP,ESP
004445a3 : PUSH -0x1
004445a5 : PUSH 0xb7b190
004445aa : MOV EAX,FS:[0x0]
004445b0 : PUSH EAX
004445b1 : SUB ESP,0x30
004445b4 : PUSH EBX
004445b5 : PUSH ESI
004445b6 : PUSH EDI
004445b7 : MOV EAX,[0x00d66fa0]
004445bc : XOR EAX,EBP
004445be : PUSH EAX
004445bf : LEA EAX,[EBP + -0xc]
004445c2 : MOV FS:[0x0],EAX
004445c8 : MOV dword ptr [EBP + -0x10],ESP
004445cb : MOV EBX,dword ptr [EBP + 0x8]
004445ce : MOV ESI,dword ptr [EBX + 0x4]
004445d1 : TEST ESI,ESI
004445d3 : JNZ 0x004445d9
004445d5 : XOR ECX,ECX
004445d7 : JMP 0x004445f1
004445d9 : MOV ECX,dword ptr [EBX + 0xc]
004445dc : SUB ECX,ESI
004445de : MOV EAX,0x2aaaaaab
004445e3 : IMUL ECX
004445e5 : SAR EDX,0x2
004445e8 : MOV EAX,EDX
004445ea : SHR EAX,0x1f
004445ed : ADD EAX,EDX
004445ef : MOV ECX,EAX
004445f1 : MOV EDI,dword ptr [EBX + 0x8]
004445f4 : MOV EDX,EDI
004445f6 : SUB EDX,ESI
004445f8 : MOV EAX,0x2aaaaaab
004445fd : IMUL EDX
004445ff : SAR EDX,0x2
00444602 : MOV EAX,EDX
00444604 : SHR EAX,0x1f
00444607 : ADD EAX,EDX
00444609 : MOV EDX,0xaaaaaaa
0044460e : SUB EDX,EAX
00444610 : CMP EDX,0x1
00444613 : JNC 0x0044461a
00444615 : CALL 0x00429be0
0044461a : INC EAX
0044461b : CMP ECX,EAX
0044461d : JNC 0x00444725
00444623 : MOV EDX,ECX
00444625 : SHR EDX,0x1
00444627 : MOV ESI,0xaaaaaaa
0044462c : SUB ESI,EDX
0044462e : CMP ESI,ECX
00444630 : JNC 0x0044463e
00444632 : MOV dword ptr [EBP + 0x8],0x0
00444639 : MOV ECX,dword ptr [EBP + 0x8]
0044463c : JMP 0x00444643
0044463e : ADD ECX,EDX
00444640 : MOV dword ptr [EBP + 0x8],ECX
00444643 : CMP ECX,EAX
00444645 : JNC 0x0044464c
00444647 : MOV dword ptr [EBP + 0x8],EAX
0044464a : MOV ECX,EAX
0044464c : CALL 0x00444a00
00444651 : MOV ESI,EAX
00444653 : MOV dword ptr [EBP + -0x18],ESI
00444656 : MOV ECX,dword ptr [EBP + 0xc]
00444659 : SUB ECX,dword ptr [EBX + 0x4]
0044465c : MOV EAX,0x2aaaaaab
00444661 : IMUL ECX
00444663 : SAR EDX,0x2
00444666 : MOV EAX,EDX
00444668 : SHR EAX,0x1f
0044466b : ADD EAX,EDX
0044466d : MOV dword ptr [EBP + -0x20],EAX
00444670 : MOV dword ptr [EBP + -0x4],0x0
00444677 : LEA EAX,[EAX + EAX*0x2]
0044467a : LEA EDI,[ESI + EAX*0x8]
0044467d : MOV EDX,dword ptr [EBP + 0x10]
00444680 : MOV ESI,0x1
00444685 : CALL 0x0041df90
0044468a : MOV dword ptr [EBP + -0x1c],ESI
0044468d : MOV ECX,dword ptr [EBP + 0xc]
00444690 : PUSH ECX
00444691 : MOV EDX,dword ptr [EBX + 0x4]
00444694 : PUSH EDX
00444695 : MOV ESI,dword ptr [EBP + -0x18]
00444698 : MOV EDX,ESI
0044469a : CALL 0x004cb7f0
0044469f : MOV dword ptr [EBP + -0x1c],0x2
004446a6 : MOV EAX,dword ptr [EBP + -0x20]
004446a9 : LEA EAX,[EAX + EAX*0x2 + 0x3]
004446ad : LEA EDX,[ESI + EAX*0x8]
004446b0 : MOV ECX,dword ptr [EBX + 0x8]
004446b3 : PUSH ECX
004446b4 : MOV EAX,dword ptr [EBP + 0xc]
004446b7 : PUSH EAX
004446b8 : CALL 0x004cb7f0
004446bd : MOV dword ptr [EBP + -0x4],0xffffffff
004446c4 : MOV ECX,dword ptr [EBX + 0x4]
004446c7 : MOV EDX,dword ptr [EBX + 0x8]
004446ca : SUB EDX,ECX
004446cc : MOV EAX,0x2aaaaaab
004446d1 : IMUL EDX
004446d3 : SAR EDX,0x2
004446d6 : MOV EAX,EDX
004446d8 : SHR EAX,0x1f
004446db : LEA EDI,[EDX + EAX*0x1 + 0x1]
004446df : TEST ECX,ECX
004446e1 : JZ 0x004446e8
004446e3 : CALL 0x006f04e0
004446e8 : MOV EAX,dword ptr [EBP + 0x8]
004446eb : LEA ECX,[EAX + EAX*0x2]
004446ee : LEA EDX,[ESI + ECX*0x8]
004446f1 : MOV dword ptr [EBX + 0xc],EDX
004446f4 : LEA EAX,[EDI + EDI*0x2]
004446f7 : LEA ECX,[ESI + EAX*0x8]
004446fa : MOV dword ptr [EBX + 0x8],ECX
004446fd : MOV dword ptr [EBX + 0x4],ESI
00444700 : MOV ECX,dword ptr [EBP + -0xc]
00444703 : MOV dword ptr FS:[0x0],ECX
0044470a : POP ECX
0044470b : POP EDI
0044470c : POP ESI
0044470d : POP EBX
0044470e : MOV ESP,EBP
00444710 : POP EBP
00444711 : RET 0xc
00444725 : MOV ECX,EDI
00444727 : MOV ESI,dword ptr [EBP + 0xc]
0044472a : SUB ECX,ESI
0044472c : MOV EAX,0x2aaaaaab
00444731 : IMUL ECX
00444733 : SAR EDX,0x2
00444736 : MOV EAX,EDX
00444738 : SHR EAX,0x1f
0044473b : ADD EAX,EDX
0044473d : PUSH EDI
0044473e : CMP EAX,0x1
00444741 : MOV EAX,dword ptr [EBP + 0x10]
00444744 : MOVQ XMM0,qword ptr [EAX]
00444748 : MOVQ qword ptr [EBP + -0x38],XMM0
0044474d : MOVQ XMM0,qword ptr [EAX + 0x8]
00444752 : MOVQ qword ptr [EBP + -0x30],XMM0
00444757 : MOVQ XMM0,qword ptr [EAX + 0x10]
0044475c : MOVQ qword ptr [EBP + -0x28],XMM0
00444761 : JNC 0x004447cf
00444763 : LEA EDX,[ESI + 0x18]
00444766 : PUSH ESI
00444767 : CALL 0x004cb7f0
0044476c : MOV dword ptr [EBP + -0x4],0x2
00444773 : MOV EDI,dword ptr [EBX + 0x8]
00444776 : MOV ECX,EDI
00444778 : SUB ECX,dword ptr [EBP + 0xc]
0044477b : MOV EAX,0x2aaaaaab
00444780 : IMUL ECX
00444782 : SAR EDX,0x2
00444785 : MOV ECX,EDX
00444787 : SHR ECX,0x1f
0044478a : ADD ECX,EDX
0044478c : MOV ESI,0x1
00444791 : SUB ESI,ECX
00444793 : LEA EDX,[EBP + -0x38]
00444796 : CALL 0x0041df90
0044479b : MOV dword ptr [EBP + -0x4],0xffffffff
004447a2 : ADD dword ptr [EBX + 0x8],0x18
004447a6 : MOV EBX,dword ptr [EBX + 0x8]
004447a9 : LEA EDX,[EBX + -0x18]
004447ac : MOV EAX,dword ptr [EBP + 0xc]
004447af : PUSH EAX
004447b0 : LEA ECX,[EBP + -0x38]
004447b3 : CALL 0x00444bc0
004447b8 : ADD ESP,0x4
004447bb : MOV ECX,dword ptr [EBP + -0xc]
004447be : MOV dword ptr FS:[0x0],ECX
004447c5 : POP ECX
004447c6 : POP EDI
004447c7 : POP ESI
004447c8 : POP EBX
004447c9 : MOV ESP,EBP
004447cb : POP EBP
004447cc : RET 0xc
004447cf : LEA ESI,[EDI + -0x18]
004447d2 : PUSH ESI
004447d3 : MOV EDX,EDI
004447d5 : CALL 0x004cb7f0
004447da : MOV dword ptr [EBX + 0x8],EAX
004447dd : MOV byte ptr [EBP + 0x10],0x0
004447e1 : MOV ECX,dword ptr [EBP + 0x10]
004447e4 : PUSH ECX
004447e5 : MOV EDX,dword ptr [EBP + 0xc]
004447e8 : PUSH EDX
004447e9 : MOV EAX,dword ptr [EBP + 0xc]
004447ec : PUSH EAX
004447ed : MOV ECX,dword ptr [EBP + 0xc]
004447f0 : PUSH ECX
004447f1 : MOV EAX,EDI
004447f3 : MOV ECX,ESI
004447f5 : CALL 0x00444c50
004447fa : MOV EAX,dword ptr [EBP + 0xc]
004447fd : LEA EDX,[EAX + 0x18]
00444800 : PUSH EAX
00444801 : LEA ECX,[EBP + -0x38]
00444804 : CALL 0x00444bc0
00444809 : ADD ESP,0x14
0044480c : MOV ECX,dword ptr [EBP + -0xc]
0044480f : MOV dword ptr FS:[0x0],ECX
00444816 : POP ECX
00444817 : POP EDI
00444818 : POP ESI
00444819 : POP EBX
0044481a : MOV ESP,EBP
0044481c : POP EBP
0044481d : RET 0xc
