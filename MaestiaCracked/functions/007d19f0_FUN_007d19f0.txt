PROGRAM  : Maestia.exe
FUNCTION : FUN_007d19f0
ENTRY    : 007d19f0
BODY     : [[007d19f0, 007d1b29] [007d1b30, 007d1bea]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d19f0(int param_1)

{
  char cVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int *piVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  uint local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b31ed1;
  local_10 = ExceptionList;
  iVar8 = *(int *)(param_1 + 0x40) - *(int *)(param_1 + 0x3c) >> 2;
  iVar4 = 0;
  if (0 < iVar8) {
    piVar6 = *(int **)(param_1 + 0x3c);
    while ((*piVar6 == 0 || (*(char *)(*piVar6 + 0x22e) == '\0'))) {
      iVar4 = iVar4 + 1;
      piVar6 = piVar6 + 1;
      if (iVar8 <= iVar4) {
        return;
      }
    }
    ExceptionList = &local_10;
    iVar4 = FUN_006f0760(0x94,".\\Resource\\AvaMeshData.cpp",0x4d6,0,
                         DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    local_8 = 0;
    if (iVar4 == 0) {
      local_14 = (int *)0x0;
    }
    else {
      local_14 = (int *)FUN_007d1920(iVar4);
    }
    local_8 = 0xffffffff;
    cVar1 = (**(code **)(*local_14 + 4))(param_1 + 4);
    if (cVar1 != '\0') {
      local_18 = 0;
      do {
        iVar4 = *(int *)(*(int *)(param_1 + 0x3c) + local_18 * 4);
        if ((iVar4 != 0) && (*(char *)(iVar4 + 0x22e) != '\0')) {
          if (((local_14[0x10] - local_14[0xf] & 0xfffffffcU) == 0) ||
             (*(ushort *)(local_14 + 0x12) < (ushort)local_18)) {
            iVar9 = 0;
          }
          else {
            iVar9 = *(int *)(local_14[0xf] + (local_18 & 0xffff) * 4);
          }
          FUN_007cfe00(*(undefined4 *)(iVar9 + 0xd0));
          uVar5 = 0;
          *(undefined4 *)(iVar9 + 0xd0) = 0;
          uVar2 = *(int *)(iVar9 + 0xdc) - *(int *)(iVar9 + 0xd8) >> 2 & 0xffff;
          if (uVar2 != 0) {
            do {
              if (((*(int *)(iVar4 + 0xdc) - *(int *)(iVar4 + 0xd8) & 0xfffffffcU) == 0) ||
                 ((uint)(*(int *)(iVar4 + 0xdc) - *(int *)(iVar4 + 0xd8) >> 2) <= (uVar5 & 0xffff)))
              {
                iVar7 = 0;
              }
              else {
                iVar7 = *(int *)(*(int *)(iVar4 + 0xd8) + (uVar5 & 0xffff) * 4);
              }
              if (((*(int *)(iVar9 + 0xdc) - *(int *)(iVar9 + 0xd8) & 0xfffffffcU) == 0) ||
                 ((uint)(*(int *)(iVar9 + 0xdc) - *(int *)(iVar9 + 0xd8) >> 2) <= (uVar5 & 0xffff)))
              {
                iVar3 = 0;
              }
              else {
                iVar3 = *(int *)(*(int *)(iVar9 + 0xd8) + (uVar5 & 0xffff) * 4);
              }
              if ((iVar7 != 0) && (iVar3 != 0)) {
                *(undefined1 *)(iVar7 + 0x1a) = *(undefined1 *)(iVar3 + 0x1a);
              }
              uVar5 = uVar5 + 1;
            } while ((int)uVar5 < (int)uVar2);
          }
        }
        local_18 = local_18 + 1;
      } while ((int)local_18 < iVar8);
    }
    (**(code **)*local_14)(1);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d19f0 : PUSH EBP
007d19f1 : MOV EBP,ESP
007d19f3 : PUSH -0x1
007d19f5 : PUSH 0xb31ed1
007d19fa : MOV EAX,FS:[0x0]
007d1a00 : PUSH EAX
007d1a01 : SUB ESP,0x10
007d1a04 : PUSH EBX
007d1a05 : PUSH ESI
007d1a06 : PUSH EDI
007d1a07 : MOV EAX,[0x00d66fa0]
007d1a0c : XOR EAX,EBP
007d1a0e : PUSH EAX
007d1a0f : LEA EAX,[EBP + -0xc]
007d1a12 : MOV FS:[0x0],EAX
007d1a18 : MOV ESI,dword ptr [EBP + 0x8]
007d1a1b : MOV EDI,dword ptr [ESI + 0x40]
007d1a1e : SUB EDI,dword ptr [ESI + 0x3c]
007d1a21 : XOR EBX,EBX
007d1a23 : SAR EDI,0x2
007d1a26 : XOR ECX,ECX
007d1a28 : CMP EDI,EBX
007d1a2a : MOV dword ptr [EBP + -0x18],EDI
007d1a2d : JLE 0x007d1bd7
007d1a33 : MOV EDX,dword ptr [ESI + 0x3c]
007d1a36 : MOV EAX,dword ptr [EDX]
007d1a38 : CMP EAX,EBX
007d1a3a : JZ 0x007d1a44
007d1a3c : CMP byte ptr [EAX + 0x22e],BL
007d1a42 : JNZ 0x007d1a60
007d1a44 : INC ECX
007d1a45 : ADD EDX,0x4
007d1a48 : CMP ECX,EDI
007d1a4a : JL 0x007d1a36
007d1a4c : MOV ECX,dword ptr [EBP + -0xc]
007d1a4f : MOV dword ptr FS:[0x0],ECX
007d1a56 : POP ECX
007d1a57 : POP EDI
007d1a58 : POP ESI
007d1a59 : POP EBX
007d1a5a : MOV ESP,EBP
007d1a5c : POP EBP
007d1a5d : RET 0x4
007d1a60 : PUSH EBX
007d1a61 : PUSH 0x4d6
007d1a66 : PUSH 0xc1fce8
007d1a6b : PUSH 0x94
007d1a70 : CALL 0x006f0760
007d1a75 : ADD ESP,0x10
007d1a78 : MOV dword ptr [EBP + -0x1c],EAX
007d1a7b : MOV dword ptr [EBP + -0x4],EBX
007d1a7e : CMP EAX,EBX
007d1a80 : JZ 0x007d1a8f
007d1a82 : PUSH EAX
007d1a83 : CALL 0x007d1920
007d1a88 : MOV EBX,EAX
007d1a8a : MOV dword ptr [EBP + -0x10],EAX
007d1a8d : JMP 0x007d1a92
007d1a8f : MOV dword ptr [EBP + -0x10],EBX
007d1a92 : MOV dword ptr [EBP + -0x4],0xffffffff
007d1a99 : MOV EAX,dword ptr [EBX]
007d1a9b : MOV EDX,dword ptr [EAX + 0x4]
007d1a9e : LEA ECX,[ESI + 0x4]
007d1aa1 : PUSH ECX
007d1aa2 : MOV ECX,EBX
007d1aa4 : CALL EDX
007d1aa6 : TEST AL,AL
007d1aa8 : JZ 0x007d1bcd
007d1aae : XOR EAX,EAX
007d1ab0 : MOV dword ptr [EBP + -0x14],EAX
007d1ab3 : JMP 0x007d1ab8
007d1ab5 : MOV ESI,dword ptr [EBP + 0x8]
007d1ab8 : MOV ECX,dword ptr [ESI + 0x3c]
007d1abb : MOV ESI,dword ptr [ECX + EAX*0x4]
007d1abe : TEST ESI,ESI
007d1ac0 : JZ 0x007d1bc1
007d1ac6 : CMP byte ptr [ESI + 0x22e],0x0
007d1acd : JZ 0x007d1bc1
007d1ad3 : MOV EDX,dword ptr [EBX + 0x40]
007d1ad6 : SUB EDX,dword ptr [EBX + 0x3c]
007d1ad9 : TEST EDX,0xfffffffc
007d1adf : JZ 0x007d1af5
007d1ae1 : MOVZX EAX,AX
007d1ae4 : CMP AX,word ptr [EBX + 0x48]
007d1ae8 : JA 0x007d1af5
007d1aea : MOV ECX,dword ptr [EBX + 0x3c]
007d1aed : MOVZX EAX,AX
007d1af0 : MOV EDI,dword ptr [ECX + EAX*0x4]
007d1af3 : JMP 0x007d1af7
007d1af5 : XOR EDI,EDI
007d1af7 : MOV EDX,dword ptr [EDI + 0xd0]
007d1afd : PUSH EDX
007d1afe : CALL 0x007cfe00
007d1b03 : XOR ECX,ECX
007d1b05 : MOV dword ptr [EDI + 0xd0],ECX
007d1b0b : MOV EAX,dword ptr [EDI + 0xdc]
007d1b11 : SUB EAX,dword ptr [EDI + 0xd8]
007d1b17 : SAR EAX,0x2
007d1b1a : MOVZX EAX,AX
007d1b1d : CMP EAX,ECX
007d1b1f : MOV dword ptr [EBP + -0x1c],EAX
007d1b22 : JLE 0x007d1bbb
007d1b28 : JMP 0x007d1b30
007d1b30 : MOV EDX,dword ptr [ESI + 0xdc]
007d1b36 : SUB EDX,dword ptr [ESI + 0xd8]
007d1b3c : TEST EDX,0xfffffffc
007d1b42 : JZ 0x007d1b65
007d1b44 : MOV EDX,dword ptr [ESI + 0xdc]
007d1b4a : SUB EDX,dword ptr [ESI + 0xd8]
007d1b50 : MOVZX EAX,CX
007d1b53 : SAR EDX,0x2
007d1b56 : CMP EAX,EDX
007d1b58 : JNC 0x007d1b65
007d1b5a : MOV EDX,dword ptr [ESI + 0xd8]
007d1b60 : MOV EDX,dword ptr [EDX + EAX*0x4]
007d1b63 : JMP 0x007d1b67
007d1b65 : XOR EDX,EDX
007d1b67 : MOV EAX,dword ptr [EDI + 0xdc]
007d1b6d : SUB EAX,dword ptr [EDI + 0xd8]
007d1b73 : TEST EAX,0xfffffffc
007d1b78 : JZ 0x007d1ba1
007d1b7a : MOV EBX,dword ptr [EDI + 0xdc]
007d1b80 : SUB EBX,dword ptr [EDI + 0xd8]
007d1b86 : MOVZX EAX,CX
007d1b89 : SAR EBX,0x2
007d1b8c : CMP EAX,EBX
007d1b8e : JNC 0x007d1b9e
007d1b90 : MOV EBX,dword ptr [EDI + 0xd8]
007d1b96 : MOV EAX,dword ptr [EBX + EAX*0x4]
007d1b99 : MOV EBX,dword ptr [EBP + -0x10]
007d1b9c : JMP 0x007d1ba3
007d1b9e : MOV EBX,dword ptr [EBP + -0x10]
007d1ba1 : XOR EAX,EAX
007d1ba3 : TEST EDX,EDX
007d1ba5 : JZ 0x007d1bb1
007d1ba7 : TEST EAX,EAX
007d1ba9 : JZ 0x007d1bb1
007d1bab : MOV AL,byte ptr [EAX + 0x1a]
007d1bae : MOV byte ptr [EDX + 0x1a],AL
007d1bb1 : INC ECX
007d1bb2 : CMP ECX,dword ptr [EBP + -0x1c]
007d1bb5 : JL 0x007d1b30
007d1bbb : MOV EAX,dword ptr [EBP + -0x14]
007d1bbe : MOV EDI,dword ptr [EBP + -0x18]
007d1bc1 : INC EAX
007d1bc2 : CMP EAX,EDI
007d1bc4 : MOV dword ptr [EBP + -0x14],EAX
007d1bc7 : JL 0x007d1ab5
007d1bcd : MOV EDX,dword ptr [EBX]
007d1bcf : MOV EAX,dword ptr [EDX]
007d1bd1 : PUSH 0x1
007d1bd3 : MOV ECX,EBX
007d1bd5 : CALL EAX
007d1bd7 : MOV ECX,dword ptr [EBP + -0xc]
007d1bda : MOV dword ptr FS:[0x0],ECX
007d1be1 : POP ECX
007d1be2 : POP EDI
007d1be3 : POP ESI
007d1be4 : POP EBX
007d1be5 : MOV ESP,EBP
007d1be7 : POP EBP
007d1be8 : RET 0x4
