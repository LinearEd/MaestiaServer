PROGRAM  : Maestia.exe
FUNCTION : FUN_00516ed0
ENTRY    : 00516ed0
BODY     : [[00516ed0, 00516f3c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00516ed0(void)

{
  int iVar1;
  DWORD DVar2;
  undefined4 *in_ECX;
  
  *in_ECX = 0;
  GMutex::GMutex((GMutex *)(in_ECX + 1),true,false);
  iVar1 = FUN_00515840(0x24,0);
  if (iVar1 != 0) {
    FUN_005a2090(0);
    *(undefined4 *)(iVar1 + 0x18) = 0;
    *(undefined4 *)(iVar1 + 0x20) = 0;
    *(undefined4 *)(iVar1 + 0x1c) = 0;
    in_ECX[6] = iVar1;
    DVar2 = GetCurrentThreadId();
    in_ECX[7] = DVar2;
    return;
  }
  in_ECX[6] = 0;
  DVar2 = GetCurrentThreadId();
  in_ECX[7] = DVar2;
  return;
}



============================================================
DISASSEMBLY
============================================================
00516ed0 : PUSH ESI
00516ed1 : PUSH EDI
00516ed2 : MOV EDI,ECX
00516ed4 : PUSH 0x0
00516ed6 : PUSH 0x1
00516ed8 : LEA ECX,[EDI + 0x4]
00516edb : MOV dword ptr [EDI],0x0
00516ee1 : CALL 0x00516570
00516ee6 : MOV ECX,dword ptr [0x00d73250]
00516eec : PUSH 0x0
00516eee : PUSH 0x24
00516ef0 : CALL 0x00515840
00516ef5 : MOV ESI,EAX
00516ef7 : TEST ESI,ESI
00516ef9 : JZ 0x00516f2a
00516efb : PUSH 0x0
00516efd : MOV ECX,ESI
00516eff : CALL 0x005a2090
00516f04 : MOV dword ptr [ESI + 0x18],0x0
00516f0b : MOV dword ptr [ESI + 0x20],0x0
00516f12 : MOV dword ptr [ESI + 0x1c],0x0
00516f19 : MOV dword ptr [EDI + 0x18],ESI
00516f1c : CALL dword ptr [0x00b85168]
00516f22 : MOV dword ptr [EDI + 0x1c],EAX
00516f25 : MOV EAX,EDI
00516f27 : POP EDI
00516f28 : POP ESI
00516f29 : RET
00516f2a : XOR ESI,ESI
00516f2c : MOV dword ptr [EDI + 0x18],ESI
00516f2f : CALL dword ptr [0x00b85168]
00516f35 : MOV dword ptr [EDI + 0x1c],EAX
00516f38 : MOV EAX,EDI
00516f3a : POP EDI
00516f3b : POP ESI
00516f3c : RET
