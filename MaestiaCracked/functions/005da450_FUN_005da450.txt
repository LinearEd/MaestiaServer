PROGRAM  : Maestia.exe
FUNCTION : FUN_005da450
ENTRY    : 005da450
BODY     : [[005da450, 005da516]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005da450(undefined2 param_1,undefined2 param_2,undefined2 param_3)

{
  int *piVar1;
  undefined2 *puVar2;
  int in_ECX;
  uint uVar3;
  uint uVar4;
  
  piVar1 = (int *)(in_ECX + 0x14);
  uVar3 = *(int *)(in_ECX + 0x18) + 1;
  if (uVar3 < *(uint *)(in_ECX + 0x18)) {
    uVar4 = uVar3;
    if (uVar3 < *(uint *)(in_ECX + 0x1c) >> 1) {
LAB_005da477:
      FUN_005da0e0(piVar1,uVar4);
    }
  }
  else if (*(uint *)(in_ECX + 0x1c) <= uVar3) {
    uVar4 = (uVar3 >> 2) + uVar3;
    goto LAB_005da477;
  }
  puVar2 = (undefined2 *)(*piVar1 + -2 + uVar3 * 2);
  *(uint *)(in_ECX + 0x18) = uVar3;
  if (puVar2 != (undefined2 *)0x0) {
    *puVar2 = param_1;
  }
  uVar3 = *(int *)(in_ECX + 0x18) + 1;
  if (uVar3 < *(uint *)(in_ECX + 0x18)) {
    uVar4 = uVar3;
    if (uVar3 < *(uint *)(in_ECX + 0x1c) >> 1) {
LAB_005da4b6:
      FUN_005da0e0(piVar1,uVar4);
    }
  }
  else if (*(uint *)(in_ECX + 0x1c) <= uVar3) {
    uVar4 = (uVar3 >> 2) + uVar3;
    goto LAB_005da4b6;
  }
  puVar2 = (undefined2 *)(*piVar1 + -2 + uVar3 * 2);
  *(uint *)(in_ECX + 0x18) = uVar3;
  if (puVar2 != (undefined2 *)0x0) {
    *puVar2 = param_2;
  }
  uVar3 = *(int *)(in_ECX + 0x18) + 1;
  if (uVar3 < *(uint *)(in_ECX + 0x18)) {
    uVar4 = uVar3;
    if (*(uint *)(in_ECX + 0x1c) >> 1 <= uVar3) goto LAB_005da4fd;
  }
  else {
    if (uVar3 < *(uint *)(in_ECX + 0x1c)) goto LAB_005da4fd;
    uVar4 = (uVar3 >> 2) + uVar3;
  }
  FUN_005da0e0(piVar1,uVar4);
LAB_005da4fd:
  *(uint *)(in_ECX + 0x18) = uVar3;
  puVar2 = (undefined2 *)(*piVar1 + -2 + uVar3 * 2);
  if (puVar2 != (undefined2 *)0x0) {
    *puVar2 = param_3;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005da450 : PUSH ESI
005da451 : LEA ESI,[ECX + 0x14]
005da454 : PUSH EDI
005da455 : MOV EDI,dword ptr [ESI + 0x4]
005da458 : INC EDI
005da459 : CMP EDI,dword ptr [ESI + 0x4]
005da45c : JNC 0x005da46a
005da45e : MOV EAX,dword ptr [ESI + 0x8]
005da461 : SHR EAX,0x1
005da463 : CMP EDI,EAX
005da465 : JNC 0x005da47f
005da467 : PUSH EDI
005da468 : JMP 0x005da477
005da46a : CMP EDI,dword ptr [ESI + 0x8]
005da46d : JC 0x005da47f
005da46f : MOV ECX,EDI
005da471 : SHR ECX,0x2
005da474 : ADD ECX,EDI
005da476 : PUSH ECX
005da477 : PUSH ESI
005da478 : MOV ECX,ESI
005da47a : CALL 0x005da0e0
005da47f : MOV EDX,dword ptr [ESI]
005da481 : LEA EAX,[EDX + EDI*0x2 + -0x2]
005da485 : MOV dword ptr [ESI + 0x4],EDI
005da488 : TEST EAX,EAX
005da48a : JZ 0x005da494
005da48c : MOV CX,word ptr [ESP + 0xc]
005da491 : MOV word ptr [EAX],CX
005da494 : MOV EDI,dword ptr [ESI + 0x4]
005da497 : INC EDI
005da498 : CMP EDI,dword ptr [ESI + 0x4]
005da49b : JNC 0x005da4a9
005da49d : MOV EDX,dword ptr [ESI + 0x8]
005da4a0 : SHR EDX,0x1
005da4a2 : CMP EDI,EDX
005da4a4 : JNC 0x005da4be
005da4a6 : PUSH EDI
005da4a7 : JMP 0x005da4b6
005da4a9 : CMP EDI,dword ptr [ESI + 0x8]
005da4ac : JC 0x005da4be
005da4ae : MOV EAX,EDI
005da4b0 : SHR EAX,0x2
005da4b3 : ADD EAX,EDI
005da4b5 : PUSH EAX
005da4b6 : PUSH ESI
005da4b7 : MOV ECX,ESI
005da4b9 : CALL 0x005da0e0
005da4be : MOV ECX,dword ptr [ESI]
005da4c0 : LEA EAX,[ECX + EDI*0x2 + -0x2]
005da4c4 : MOV dword ptr [ESI + 0x4],EDI
005da4c7 : TEST EAX,EAX
005da4c9 : JZ 0x005da4d3
005da4cb : MOV DX,word ptr [ESP + 0x10]
005da4d0 : MOV word ptr [EAX],DX
005da4d3 : MOV EDI,dword ptr [ESI + 0x4]
005da4d6 : INC EDI
005da4d7 : CMP EDI,dword ptr [ESI + 0x4]
005da4da : JNC 0x005da4e8
005da4dc : MOV EAX,dword ptr [ESI + 0x8]
005da4df : SHR EAX,0x1
005da4e1 : CMP EDI,EAX
005da4e3 : JNC 0x005da4fd
005da4e5 : PUSH EDI
005da4e6 : JMP 0x005da4f5
005da4e8 : CMP EDI,dword ptr [ESI + 0x8]
005da4eb : JC 0x005da4fd
005da4ed : MOV ECX,EDI
005da4ef : SHR ECX,0x2
005da4f2 : ADD ECX,EDI
005da4f4 : PUSH ECX
005da4f5 : PUSH ESI
005da4f6 : MOV ECX,ESI
005da4f8 : CALL 0x005da0e0
005da4fd : MOV EDX,dword ptr [ESI]
005da4ff : MOV dword ptr [ESI + 0x4],EDI
005da502 : LEA EAX,[EDX + EDI*0x2 + -0x2]
005da506 : POP EDI
005da507 : POP ESI
005da508 : TEST EAX,EAX
005da50a : JZ 0x005da514
005da50c : MOV CX,word ptr [ESP + 0xc]
005da511 : MOV word ptr [EAX],CX
005da514 : RET 0xc
