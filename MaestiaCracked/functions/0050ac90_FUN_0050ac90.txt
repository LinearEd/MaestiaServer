PROGRAM  : Maestia.exe
FUNCTION : FUN_0050ac90
ENTRY    : 0050ac90
BODY     : [[0050ac90, 0050adcd]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_0050ac90(GPoint<float> *param_1,undefined4 param_2,int *param_3)

{
  int *piVar1;
  char cVar2;
  int iVar3;
  int *in_ECX;
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  char unaff_retaddr;
  GPoint<float> aGStack_20 [8];
  int iStack_18;
  int iStack_14;
  int iStack_10;
  int iStack_c;
  int iStack_8;
  int iStack_4;
  
  if ((((uint)in_ECX[0x23] >> 0xb & 1) != 0) ||
     (cVar2 = (**(code **)(*in_ECX + 8))(), cVar2 == '\0')) {
    return (int *)0x0;
  }
  if (param_3 != in_ECX) {
    iStack_18 = in_ECX[0x11];
    iStack_14 = in_ECX[0x12];
    iStack_10 = in_ECX[0x13];
    iStack_c = in_ECX[0x14];
    iStack_8 = in_ECX[0x15];
    iStack_4 = in_ECX[0x16];
    GMatrix2D::TransformByInverse((GMatrix2D *)&iStack_18,aGStack_20,param_1);
    if (((short)in_ECX[0x19] == 0) &&
       (cVar2 = (**(code **)(*in_ECX + 0x30))(aGStack_20,1), cVar2 != '\0')) {
      if (((unaff_retaddr != '\0') || (cVar2 = FUN_0050aac0(), cVar2 != '\0')) ||
         ((((cVar2 = FUN_0050aac0(), cVar2 == '\0' && ((*(byte *)(in_ECX + 0x32) >> 1 & 1) != 0)) &&
           ((*(byte *)(*(int *)(in_ECX[0x28] + 0xc) + 0x20) & 1) != 0)) &&
          (cVar2 = FUN_0054b0a0(unaff_EDI,unaff_ESI,0), cVar2 != '\0')))) {
        return in_ECX;
      }
      piVar1 = (int *)in_ECX[8];
      while ((piVar1 != (int *)0x0 && (iVar3 = (**(code **)(piVar1[0x1a] + 8))(), iVar3 == 2))) {
        cVar2 = FUN_0058cd00();
        if (cVar2 != '\0') {
          if (param_3 == (int *)0x0) {
            return piVar1;
          }
          if (piVar1 != param_3) {
            return piVar1;
          }
        }
        piVar1 = (int *)piVar1[8];
      }
    }
  }
  return (int *)0x0;
}



============================================================
DISASSEMBLY
============================================================
0050ac90 : SUB ESP,0x20
0050ac93 : PUSH ESI
0050ac94 : MOV ESI,ECX
0050ac96 : MOV EAX,dword ptr [ESI + 0x8c]
0050ac9c : SHR EAX,0xb
0050ac9f : TEST AL,0x1
0050aca1 : JNZ 0x0050adc5
0050aca7 : MOV EDX,dword ptr [ESI]
0050aca9 : MOV EAX,dword ptr [EDX + 0x8]
0050acac : CALL EAX
0050acae : TEST AL,AL
0050acb0 : JZ 0x0050adc5
0050acb6 : PUSH EDI
0050acb7 : MOV EDI,dword ptr [ESP + 0x34]
0050acbb : CMP EDI,ESI
0050acbd : JZ 0x0050adb1
0050acc3 : FLD float ptr [ESI + 0x44]
0050acc6 : MOV ECX,dword ptr [ESP + 0x2c]
0050acca : FSTP float ptr [ESP + 0x10]
0050acce : PUSH ECX
0050accf : FLD float ptr [ESI + 0x48]
0050acd2 : LEA EDX,[ESP + 0xc]
0050acd6 : FSTP float ptr [ESP + 0x18]
0050acda : PUSH EDX
0050acdb : FLD float ptr [ESI + 0x4c]
0050acde : LEA ECX,[ESP + 0x18]
0050ace2 : FSTP float ptr [ESP + 0x20]
0050ace6 : FLD float ptr [ESI + 0x50]
0050ace9 : FSTP float ptr [ESP + 0x24]
0050aced : FLD float ptr [ESI + 0x54]
0050acf0 : FSTP float ptr [ESP + 0x28]
0050acf4 : FLD float ptr [ESI + 0x58]
0050acf7 : FSTP float ptr [ESP + 0x2c]
0050acfb : CALL 0x00522fa0
0050ad00 : CMP word ptr [ESI + 0x64],0x0
0050ad05 : JNZ 0x0050adb1
0050ad0b : MOV EAX,dword ptr [ESI]
0050ad0d : MOV EDX,dword ptr [EAX + 0x30]
0050ad10 : PUSH 0x1
0050ad12 : LEA ECX,[ESP + 0xc]
0050ad16 : PUSH ECX
0050ad17 : MOV ECX,ESI
0050ad19 : CALL EDX
0050ad1b : TEST AL,AL
0050ad1d : JZ 0x0050adb1
0050ad23 : CMP byte ptr [ESP + 0x30],0x0
0050ad28 : JNZ 0x0050adbb
0050ad2e : MOV ECX,ESI
0050ad30 : CALL 0x0050aac0
0050ad35 : TEST AL,AL
0050ad37 : JNZ 0x0050adbb
0050ad3d : MOV ECX,ESI
0050ad3f : CALL 0x0050aac0
0050ad44 : TEST AL,AL
0050ad46 : JNZ 0x0050ad80
0050ad48 : MOV AL,byte ptr [ESI + 0xc8]
0050ad4e : SHR AL,0x1
0050ad50 : TEST AL,0x1
0050ad52 : JZ 0x0050ad80
0050ad54 : MOV ECX,dword ptr [ESI + 0xa0]
0050ad5a : MOV EDX,dword ptr [ECX + 0xc]
0050ad5d : TEST byte ptr [EDX + 0x20],0x1
0050ad61 : JZ 0x0050ad80
0050ad63 : FLD float ptr [ESP + 0xc]
0050ad67 : PUSH 0x0
0050ad69 : SUB ESP,0x8
0050ad6c : FSTP float ptr [ESP + 0x4]
0050ad70 : FLD float ptr [ESP + 0x14]
0050ad74 : FSTP float ptr [ESP]
0050ad77 : CALL 0x0054b0a0
0050ad7c : TEST AL,AL
0050ad7e : JNZ 0x0050adbb
0050ad80 : MOV ESI,dword ptr [ESI + 0x20]
0050ad83 : TEST ESI,ESI
0050ad85 : JZ 0x0050adb1
0050ad87 : MOV EAX,dword ptr [ESI + 0x68]
0050ad8a : MOV EDX,dword ptr [EAX + 0x8]
0050ad8d : LEA ECX,[ESI + 0x68]
0050ad90 : CALL EDX
0050ad92 : CMP EAX,0x2
0050ad95 : JNZ 0x0050adb1
0050ad97 : MOV ECX,ESI
0050ad99 : CALL 0x0058cd00
0050ad9e : TEST AL,AL
0050ada0 : JZ 0x0050adaa
0050ada2 : TEST EDI,EDI
0050ada4 : JZ 0x0050adbb
0050ada6 : CMP ESI,EDI
0050ada8 : JNZ 0x0050adbb
0050adaa : MOV ESI,dword ptr [ESI + 0x20]
0050adad : TEST ESI,ESI
0050adaf : JNZ 0x0050ad87
0050adb1 : POP EDI
0050adb2 : XOR EAX,EAX
0050adb4 : POP ESI
0050adb5 : ADD ESP,0x20
0050adb8 : RET 0xc
0050adbb : POP EDI
0050adbc : MOV EAX,ESI
0050adbe : POP ESI
0050adbf : ADD ESP,0x20
0050adc2 : RET 0xc
0050adc5 : XOR EAX,EAX
0050adc7 : POP ESI
0050adc8 : ADD ESP,0x20
0050adcb : RET 0xc
