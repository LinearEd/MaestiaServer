PROGRAM  : Maestia.exe
FUNCTION : FUN_0052a910
ENTRY    : 0052a910
BODY     : [[0052a910, 0052a989]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0052a910(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0x10);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 0x143;
  iVar1 = FUN_00515d60(param_1,uVar2 * 0x10,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0052a910 : MOV EAX,dword ptr [ESP + 0x8]
0052a914 : PUSH EDI
0052a915 : MOV EDI,ECX
0052a917 : TEST EAX,EAX
0052a919 : JNZ 0x0052a938
0052a91b : MOV EAX,dword ptr [EDI]
0052a91d : TEST EAX,EAX
0052a91f : JZ 0x0052a92d
0052a921 : PUSH EAX
0052a922 : CALL 0x00515cf0
0052a927 : MOV dword ptr [EDI],0x0
0052a92d : MOV dword ptr [EDI + 0x8],0x0
0052a934 : POP EDI
0052a935 : RET 0x8
0052a938 : PUSH ESI
0052a939 : LEA ESI,[EAX + 0x3]
0052a93c : MOV EAX,dword ptr [EDI]
0052a93e : SHR ESI,0x2
0052a941 : ADD ESI,ESI
0052a943 : ADD ESI,ESI
0052a945 : TEST EAX,EAX
0052a947 : JZ 0x0052a961
0052a949 : LEA ECX,[ESI*0x4 + 0x0]
0052a950 : PUSH ECX
0052a951 : PUSH EAX
0052a952 : CALL 0x00515c80
0052a957 : MOV dword ptr [EDI + 0x8],ESI
0052a95a : POP ESI
0052a95b : MOV dword ptr [EDI],EAX
0052a95d : POP EDI
0052a95e : RET 0x8
0052a961 : MOV ECX,dword ptr [ESP + 0xc]
0052a965 : LEA EDX,[ESP + 0x10]
0052a969 : PUSH EDX
0052a96a : LEA EAX,[ESI*0x4 + 0x0]
0052a971 : PUSH EAX
0052a972 : PUSH ECX
0052a973 : MOV dword ptr [ESP + 0x1c],0x143
0052a97b : CALL 0x00515d60
0052a980 : MOV dword ptr [EDI + 0x8],ESI
0052a983 : POP ESI
0052a984 : MOV dword ptr [EDI],EAX
0052a986 : POP EDI
0052a987 : RET 0x8
