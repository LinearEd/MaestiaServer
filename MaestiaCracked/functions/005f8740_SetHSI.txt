PROGRAM  : Maestia.exe
FUNCTION : SetHSI
ENTRY    : 005f8740
BODY     : [[005f8740, 005f881b]]

============================================================
DECOMPILED C CODE
============================================================

/* public: void __thiscall GColor::SetHSI(float,float,float) */

void __thiscall GColor::SetHSI(GColor *this,float param_1,float param_2,float param_3)

{
  undefined4 local_58;
  undefined4 uStack_54;
  double local_50;
  double local_48 [8];
  
                    /* 0x1f8740  143  ?SetHSI@GColor@@QAEXMMM@Z */
  ConvertHSIToRGB((double)param_1,(double)param_2,(double)param_3,(double *)&local_58,&local_50,
                  local_48);
  local_58._0_1_ = SUB41((int)ROUND((float)(double)CONCAT44(uStack_54,local_58) * 255.0),0);
  this[2] = local_58._0_1_;
  local_58._0_1_ = SUB41((int)ROUND((float)local_50 * 255.0),0);
  this[1] = local_58._0_1_;
  local_58._0_1_ = SUB41((int)ROUND((float)local_48[0] * 255.0),0);
  *this = local_58._0_1_;
  return;
}



============================================================
DISASSEMBLY
============================================================
005f8740 : PUSH EBP
005f8741 : MOV EBP,ESP
005f8743 : AND ESP,0xffffffc0
005f8746 : SUB ESP,0x3c
005f8749 : FLD float ptr [EBP + 0x10]
005f874c : PUSH ESI
005f874d : LEA EAX,[ESP + 0x38]
005f8751 : PUSH EAX
005f8752 : MOV ESI,ECX
005f8754 : LEA ECX,[ESP + 0x34]
005f8758 : PUSH ECX
005f8759 : LEA EDX,[ESP + 0x30]
005f875d : PUSH EDX
005f875e : SUB ESP,0x18
005f8761 : FSTP double ptr [ESP + 0x10]
005f8765 : FLD float ptr [EBP + 0xc]
005f8768 : FSTP double ptr [ESP + 0x8]
005f876c : FLD float ptr [EBP + 0x8]
005f876f : FSTP double ptr [ESP]
005f8772 : CALL 0x005f8220
005f8777 : FLD double ptr [ESP + 0x28]
005f877b : FSTP float ptr [ESP + 0x24]
005f877f : FLD float ptr [ESP + 0x24]
005f8783 : FLD double ptr [0x00b86b48]
005f8789 : FNSTCW word ptr [ESP + 0x24]
005f878d : MOVZX EAX,word ptr [ESP + 0x24]
005f8792 : FMUL ST1
005f8794 : OR EAX,0xc00
005f8799 : FXCH
005f879b : MOV dword ptr [ESP + 0x28],EAX
005f879f : FLDCW word ptr [ESP + 0x28]
005f87a3 : FISTP dword ptr [ESP + 0x28]
005f87a7 : MOV AL,byte ptr [ESP + 0x28]
005f87ab : MOV byte ptr [ESI + 0x2],AL
005f87ae : FLDCW word ptr [ESP + 0x24]
005f87b2 : FLD double ptr [ESP + 0x30]
005f87b6 : FNSTCW word ptr [ESP + 0x24]
005f87ba : FSTP float ptr [ESP + 0x28]
005f87be : MOVZX EAX,word ptr [ESP + 0x24]
005f87c3 : FLD float ptr [ESP + 0x28]
005f87c7 : FMUL ST1
005f87c9 : OR EAX,0xc00
005f87ce : MOV dword ptr [ESP + 0x28],EAX
005f87d2 : FLDCW word ptr [ESP + 0x28]
005f87d6 : FISTP dword ptr [ESP + 0x28]
005f87da : MOV CL,byte ptr [ESP + 0x28]
005f87de : MOV byte ptr [ESI + 0x1],CL
005f87e1 : FLDCW word ptr [ESP + 0x24]
005f87e5 : FLD double ptr [ESP + 0x38]
005f87e9 : FNSTCW word ptr [ESP + 0x24]
005f87ed : FSTP float ptr [ESP + 0x28]
005f87f1 : MOVZX EAX,word ptr [ESP + 0x24]
005f87f6 : OR EAX,0xc00
005f87fb : FMUL float ptr [ESP + 0x28]
005f87ff : MOV dword ptr [ESP + 0x28],EAX
005f8803 : FLDCW word ptr [ESP + 0x28]
005f8807 : FISTP dword ptr [ESP + 0x28]
005f880b : MOV DL,byte ptr [ESP + 0x28]
005f880f : MOV byte ptr [ESI],DL
005f8811 : POP ESI
005f8812 : FLDCW word ptr [ESP + 0x20]
005f8816 : MOV ESP,EBP
005f8818 : POP EBP
005f8819 : RET 0xc
