PROGRAM  : Maestia.exe
FUNCTION : FUN_005878f0
ENTRY    : 005878f0
BODY     : [[005878f0, 00587a1d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005878f0(undefined4 param_1,uint param_2,int *param_3,undefined4 param_4,undefined4 param_5
                 )

{
  int *piVar1;
  uint uVar2;
  uint uVar3;
  undefined4 uVar4;
  undefined4 *in_ECX;
  undefined4 *puVar5;
  int local_20;
  int local_14;
  int local_10;
  byte local_c;
  undefined4 local_8;
  undefined4 local_4;
  
  *in_ECX = param_1;
  in_ECX[1] = param_2;
  piVar1 = in_ECX + 4;
  in_ECX[2] = param_4;
  in_ECX[3] = param_5;
  *piVar1 = 0;
  in_ECX[5] = 0;
  in_ECX[6] = 0;
  uVar2 = param_3[1];
  uVar3 = in_ECX[5];
  FUN_005872e0(piVar1,uVar2);
  if (uVar3 < uVar2) {
    FUN_00586e30(*piVar1 + uVar3 * 0x1c,uVar2 - uVar3);
  }
  param_2 = 0;
  if (in_ECX[5] != 0) {
    local_20 = 0;
    do {
      uVar4 = *(undefined4 *)(*param_3 + param_2 * 4);
      puVar5 = (undefined4 *)(*piVar1 + local_20);
      local_8 = param_4;
      local_4 = param_5;
      local_c = 0;
      local_14 = 0;
      local_10 = 0;
      *puVar5 = param_1;
      puVar5[1] = uVar4;
      FUN_00568a50(&local_14);
      puVar5[5] = local_8;
      puVar5[6] = local_4;
      if (((local_c & 2) == 0) && (local_14 != 0)) {
        FUN_00503db0();
      }
      local_14 = 0;
      if (((local_c & 1) == 0) && (local_10 != 0)) {
        FUN_00503db0();
      }
      local_20 = local_20 + 0x1c;
      param_2 = param_2 + 1;
    } while (param_2 < (uint)in_ECX[5]);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005878f0 : SUB ESP,0x20
005878f3 : MOV EAX,dword ptr [ESP + 0x24]
005878f7 : MOV EDX,dword ptr [ESP + 0x30]
005878fb : PUSH EBX
005878fc : PUSH EBP
005878fd : MOV EBP,ECX
005878ff : MOV ECX,dword ptr [ESP + 0x30]
00587903 : MOV dword ptr [EBP],EAX
00587906 : MOV EAX,dword ptr [ESP + 0x3c]
0058790a : PUSH ESI
0058790b : MOV dword ptr [EBP + 0x4],ECX
0058790e : MOV ECX,dword ptr [ESP + 0x38]
00587912 : PUSH EDI
00587913 : LEA EDI,[EBP + 0x10]
00587916 : MOV dword ptr [EBP + 0x8],EDX
00587919 : MOV dword ptr [EBP + 0xc],EAX
0058791c : XOR EBX,EBX
0058791e : MOV dword ptr [EDI],EBX
00587920 : MOV dword ptr [EDI + 0x4],EBX
00587923 : MOV dword ptr [EDI + 0x8],EBX
00587926 : MOV ESI,dword ptr [ECX + 0x4]
00587929 : MOV EDX,dword ptr [EDI + 0x4]
0058792c : PUSH ESI
0058792d : PUSH EDI
0058792e : MOV ECX,EDI
00587930 : MOV dword ptr [ESP + 0x40],EDX
00587934 : CALL 0x005872e0
00587939 : MOV EAX,dword ptr [ESP + 0x38]
0058793d : CMP ESI,EAX
0058793f : JBE 0x0058795b
00587941 : MOV EDX,dword ptr [EDI]
00587943 : LEA ECX,[EAX*0x8 + 0x0]
0058794a : SUB ESI,EAX
0058794c : SUB ECX,EAX
0058794e : LEA EAX,[EDX + ECX*0x4]
00587951 : PUSH ESI
00587952 : PUSH EAX
00587953 : CALL 0x00586e30
00587958 : ADD ESP,0x8
0058795b : MOV dword ptr [ESP + 0x38],EBX
0058795f : CMP dword ptr [EBP + 0x14],EBX
00587962 : JBE 0x00587a12
00587968 : MOV dword ptr [ESP + 0x10],EBX
0058796c : LEA ESP,[ESP]
00587970 : MOV ECX,dword ptr [ESP + 0x3c]
00587974 : MOV EDX,dword ptr [ECX]
00587976 : MOV EAX,dword ptr [ESP + 0x38]
0058797a : MOV EAX,dword ptr [EDX + EAX*0x4]
0058797d : MOV ESI,dword ptr [EDI]
0058797f : MOV ECX,dword ptr [ESP + 0x34]
00587983 : ADD ESI,dword ptr [ESP + 0x10]
00587987 : MOV EDX,dword ptr [ESP + 0x40]
0058798b : MOV dword ptr [ESP + 0x18],EAX
0058798f : MOV EAX,dword ptr [ESP + 0x44]
00587993 : MOV dword ptr [ESP + 0x14],ECX
00587997 : MOV dword ptr [ESP + 0x28],EDX
0058799b : MOV dword ptr [ESP + 0x2c],EAX
0058799f : MOV byte ptr [ESP + 0x24],BL
005879a3 : MOV dword ptr [ESP + 0x1c],EBX
005879a7 : MOV dword ptr [ESP + 0x20],EBX
005879ab : MOV dword ptr [ESI],ECX
005879ad : MOV EDX,dword ptr [ESP + 0x18]
005879b1 : LEA EAX,[ESP + 0x1c]
005879b5 : PUSH EAX
005879b6 : LEA ECX,[ESI + 0x8]
005879b9 : MOV dword ptr [ESI + 0x4],EDX
005879bc : CALL 0x00568a50
005879c1 : MOV ECX,dword ptr [ESP + 0x28]
005879c5 : MOV dword ptr [ESI + 0x14],ECX
005879c8 : MOV EDX,dword ptr [ESP + 0x2c]
005879cc : MOV dword ptr [ESI + 0x18],EDX
005879cf : TEST byte ptr [ESP + 0x24],0x2
005879d4 : JNZ 0x005879e3
005879d6 : MOV ECX,dword ptr [ESP + 0x1c]
005879da : CMP ECX,EBX
005879dc : JZ 0x005879e3
005879de : CALL 0x00503db0
005879e3 : TEST byte ptr [ESP + 0x24],0x1
005879e8 : MOV dword ptr [ESP + 0x1c],EBX
005879ec : JNZ 0x005879fb
005879ee : MOV ECX,dword ptr [ESP + 0x20]
005879f2 : CMP ECX,EBX
005879f4 : JZ 0x005879fb
005879f6 : CALL 0x00503db0
005879fb : MOV EAX,dword ptr [ESP + 0x38]
005879ff : ADD dword ptr [ESP + 0x10],0x1c
00587a04 : INC EAX
00587a05 : MOV dword ptr [ESP + 0x38],EAX
00587a09 : CMP EAX,dword ptr [EBP + 0x14]
00587a0c : JC 0x00587970
00587a12 : POP EDI
00587a13 : POP ESI
00587a14 : MOV EAX,EBP
00587a16 : POP EBP
00587a17 : POP EBX
00587a18 : ADD ESP,0x20
00587a1b : RET 0x14
