PROGRAM  : Maestia.exe
FUNCTION : FUN_00458150
ENTRY    : 00458150
BODY     : [[00458150, 00458410]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00458283) */
/* WARNING: Removing unreachable block (ram,0x00458293) */
/* WARNING: Removing unreachable block (ram,0x0045829c) */
/* WARNING: Removing unreachable block (ram,0x0045829f) */
/* WARNING: Removing unreachable block (ram,0x0045828f) */
/* WARNING: Removing unreachable block (ram,0x004582ac) */
/* WARNING: Removing unreachable block (ram,0x004582bc) */
/* WARNING: Removing unreachable block (ram,0x004582c7) */
/* WARNING: Removing unreachable block (ram,0x004582c3) */
/* WARNING: Removing unreachable block (ram,0x004582b7) */
/* WARNING: Removing unreachable block (ram,0x004582ca) */
/* WARNING: Removing unreachable block (ram,0x004582da) */
/* WARNING: Removing unreachable block (ram,0x004582e2) */

void FUN_00458150(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  undefined4 uVar5;
  int *piVar6;
  int *piVar7;
  int *piVar8;
  undefined1 local_5c [4];
  undefined1 local_58;
  undefined4 local_48;
  undefined4 local_44;
  undefined1 local_40 [44];
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b7aa95;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (*(char *)((int)param_3 + 0x2d) != '\0') {
    local_44 = 0xf;
    local_48 = 0;
    local_58 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_c = 0;
    FUN_00403c10(local_5c);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_40,&DAT_00ced890);
  }
  FUN_00430160(DAT_00d66fa0 ^ (uint)&stack0xffffff90);
  piVar8 = (int *)*param_3;
  if (*(char *)((int)piVar8 + 0x2d) == '\0') {
    if (*(char *)(param_3[2] + 0x2d) == '\0') {
      piVar8 = (int *)param_3[2];
    }
  }
  else {
    piVar8 = (int *)param_3[2];
  }
  piVar7 = (int *)param_3[1];
  if (*(char *)((int)piVar8 + 0x2d) == '\0') {
    piVar8[1] = (int)piVar7;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar8;
  }
  else if ((int *)*piVar7 == param_3) {
    *piVar7 = (int)piVar8;
  }
  else {
    piVar7[2] = (int)piVar8;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar6 = piVar7;
    if (*(char *)((int)piVar8 + 0x2d) == '\0') {
      cVar1 = *(char *)(*piVar8 + 0x2d);
      piVar2 = (int *)*piVar8;
      piVar6 = piVar8;
      while (piVar4 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar4;
        cVar1 = *(char *)((int)piVar2 + 0x2d);
        piVar6 = piVar4;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar6;
  }
  iVar3 = *(int *)(param_1 + 4);
  if (*(int **)(iVar3 + 8) == param_3) {
    if (*(char *)((int)piVar8 + 0x2d) == '\0') {
      uVar5 = FUN_00439bf0();
      *(undefined4 *)(iVar3 + 8) = uVar5;
    }
    else {
      *(int **)(iVar3 + 8) = piVar7;
    }
  }
  if ((char)param_3[0xb] == '\x01') {
    if (piVar8 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar6 = piVar7;
        if ((char)piVar8[0xb] != '\x01') break;
        piVar7 = (int *)*piVar6;
        if (piVar8 == piVar7) {
          piVar7 = (int *)piVar6[2];
          if ((char)piVar7[0xb] == '\0') {
            *(undefined1 *)(piVar7 + 0xb) = 1;
            *(undefined1 *)(piVar6 + 0xb) = 0;
            FUN_004021f0(param_1);
            piVar7 = (int *)piVar6[2];
          }
          if (*(char *)((int)piVar7 + 0x2d) == '\0') {
            if ((*(char *)(*piVar7 + 0x2c) != '\x01') || (*(char *)(piVar7[2] + 0x2c) != '\x01')) {
              if (*(char *)(piVar7[2] + 0x2c) == '\x01') {
                *(undefined1 *)(*piVar7 + 0x2c) = 1;
                *(undefined1 *)(piVar7 + 0xb) = 0;
                FUN_00422be0(param_1);
                piVar7 = (int *)piVar6[2];
              }
              *(char *)(piVar7 + 0xb) = (char)piVar6[0xb];
              *(undefined1 *)(piVar6 + 0xb) = 1;
              *(undefined1 *)(piVar7[2] + 0x2c) = 1;
              FUN_004021f0(param_1);
              break;
            }
LAB_004583a7:
            *(undefined1 *)(piVar7 + 0xb) = 0;
          }
        }
        else {
          if ((char)piVar7[0xb] == '\0') {
            *(undefined1 *)(piVar7 + 0xb) = 1;
            *(undefined1 *)(piVar6 + 0xb) = 0;
            FUN_00422be0(param_1);
            piVar7 = (int *)*piVar6;
          }
          if (*(char *)((int)piVar7 + 0x2d) == '\0') {
            if ((*(char *)(piVar7[2] + 0x2c) == '\x01') && (*(char *)(*piVar7 + 0x2c) == '\x01'))
            goto LAB_004583a7;
            if (*(char *)(*piVar7 + 0x2c) == '\x01') {
              *(undefined1 *)(piVar7[2] + 0x2c) = 1;
              *(undefined1 *)(piVar7 + 0xb) = 0;
              FUN_004021f0(param_1);
              piVar7 = (int *)*piVar6;
            }
            *(char *)(piVar7 + 0xb) = (char)piVar6[0xb];
            *(undefined1 *)(piVar6 + 0xb) = 1;
            *(undefined1 *)(*piVar7 + 0x2c) = 1;
            FUN_00422be0(param_1);
            break;
          }
        }
        piVar7 = (int *)piVar6[1];
        piVar8 = piVar6;
      } while (piVar6 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar8 + 0xb) = 1;
  }
  local_c = 0xffffffff;
  FUN_0044cb00(param_3 + 3);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00458150 : PUSH EBP
00458151 : MOV EBP,ESP
00458153 : AND ESP,0xfffffff8
00458156 : PUSH -0x1
00458158 : PUSH 0xb7aa95
0045815d : MOV EAX,FS:[0x0]
00458163 : PUSH EAX
00458164 : SUB ESP,0x50
00458167 : PUSH EBX
00458168 : PUSH ESI
00458169 : PUSH EDI
0045816a : MOV EAX,[0x00d66fa0]
0045816f : XOR EAX,ESP
00458171 : PUSH EAX
00458172 : LEA EAX,[ESP + 0x60]
00458176 : MOV FS:[0x0],EAX
0045817c : MOV EAX,dword ptr [EBP + 0x10]
0045817f : CMP byte ptr [EAX + 0x2d],0x0
00458183 : JZ 0x004581c9
00458185 : PUSH 0x1b
00458187 : XOR ESI,ESI
00458189 : PUSH 0xcca4a8
0045818e : LEA ECX,[ESP + 0x20]
00458192 : MOV dword ptr [ESP + 0x38],0xf
0045819a : MOV dword ptr [ESP + 0x34],ESI
0045819e : MOV byte ptr [ESP + 0x24],0x0
004581a3 : CALL 0x00404b50
004581a8 : MOV dword ptr [ESP + 0x68],ESI
004581ac : LEA EAX,[ESP + 0x18]
004581b0 : PUSH EAX
004581b1 : LEA ECX,[ESP + 0x38]
004581b5 : CALL 0x00403c10
004581ba : PUSH 0xced890
004581bf : LEA ECX,[ESP + 0x38]
004581c3 : PUSH ECX
004581c4 : CALL 0x006409eb
004581c9 : MOV EBX,EAX
004581cb : LEA EDX,[EBP + 0x10]
004581ce : MOV dword ptr [ESP + 0x10],EBX
004581d2 : CALL 0x00430160
004581d7 : MOV ECX,dword ptr [EBX]
004581d9 : CMP byte ptr [ECX + 0x2d],0x0
004581dd : JZ 0x004581e4
004581df : MOV EDI,dword ptr [EBX + 0x8]
004581e2 : JMP 0x00458202
004581e4 : MOV EDX,dword ptr [EBX + 0x8]
004581e7 : CMP byte ptr [EDX + 0x2d],0x0
004581eb : JZ 0x004581f1
004581ed : MOV EDI,ECX
004581ef : JMP 0x00458202
004581f1 : MOV EAX,dword ptr [EBP + 0x10]
004581f4 : MOV EDI,dword ptr [EAX + 0x8]
004581f7 : LEA EDX,[EAX + 0x8]
004581fa : CMP EAX,EBX
004581fc : JNZ 0x00458283
00458202 : CMP byte ptr [EDI + 0x2d],0x0
00458206 : MOV ESI,dword ptr [EBX + 0x4]
00458209 : JNZ 0x0045820e
0045820b : MOV dword ptr [EDI + 0x4],ESI
0045820e : MOV EDX,dword ptr [EBP + 0x8]
00458211 : MOV EAX,dword ptr [EDX + 0x4]
00458214 : CMP dword ptr [EAX + 0x4],EBX
00458217 : JNZ 0x0045821e
00458219 : MOV dword ptr [EAX + 0x4],EDI
0045821c : JMP 0x00458229
0045821e : CMP dword ptr [ESI],EBX
00458220 : JNZ 0x00458226
00458222 : MOV dword ptr [ESI],EDI
00458224 : JMP 0x00458229
00458226 : MOV dword ptr [ESI + 0x8],EDI
00458229 : MOV EAX,dword ptr [EDX + 0x4]
0045822c : CMP dword ptr [EAX],EBX
0045822e : JNZ 0x00458253
00458230 : CMP byte ptr [EDI + 0x2d],0x0
00458234 : JZ 0x0045823a
00458236 : MOV ECX,ESI
00458238 : JMP 0x0045824e
0045823a : MOV EAX,dword ptr [EDI]
0045823c : CMP byte ptr [EAX + 0x2d],0x0
00458240 : MOV ECX,EDI
00458242 : JNZ 0x0045824e
00458244 : MOV ECX,EAX
00458246 : MOV EAX,dword ptr [ECX]
00458248 : CMP byte ptr [EAX + 0x2d],0x0
0045824c : JZ 0x00458244
0045824e : MOV EAX,dword ptr [EDX + 0x4]
00458251 : MOV dword ptr [EAX],ECX
00458253 : MOV ECX,dword ptr [EDX + 0x4]
00458256 : MOV dword ptr [ESP + 0x14],ECX
0045825a : CMP dword ptr [ECX + 0x8],EBX
0045825d : JNZ 0x004582e5
00458263 : CMP byte ptr [EDI + 0x2d],0x0
00458267 : JZ 0x00458270
00458269 : MOV EAX,ESI
0045826b : MOV dword ptr [ECX + 0x8],EAX
0045826e : JMP 0x004582e5
00458270 : MOV EAX,EDI
00458272 : CALL 0x00439bf0
00458277 : MOV ECX,dword ptr [ESP + 0x14]
0045827b : MOV EDX,dword ptr [EBP + 0x8]
0045827e : MOV dword ptr [ECX + 0x8],EAX
00458281 : JMP 0x004582e5
00458283 : MOV dword ptr [ECX + 0x4],EAX
00458286 : MOV ECX,dword ptr [EBX]
00458288 : MOV dword ptr [EAX],ECX
0045828a : CMP EAX,dword ptr [EBX + 0x8]
0045828d : JNZ 0x00458293
0045828f : MOV ESI,EAX
00458291 : JMP 0x004582ac
00458293 : CMP byte ptr [EDI + 0x2d],0x0
00458297 : MOV ESI,dword ptr [EAX + 0x4]
0045829a : JNZ 0x0045829f
0045829c : MOV dword ptr [EDI + 0x4],ESI
0045829f : MOV dword ptr [ESI],EDI
004582a1 : MOV ECX,dword ptr [EBX + 0x8]
004582a4 : MOV dword ptr [EDX],ECX
004582a6 : MOV EDX,dword ptr [EBX + 0x8]
004582a9 : MOV dword ptr [EDX + 0x4],EAX
004582ac : MOV ECX,dword ptr [EBP + 0x8]
004582af : MOV ECX,dword ptr [ECX + 0x4]
004582b2 : CMP dword ptr [ECX + 0x4],EBX
004582b5 : JNZ 0x004582bc
004582b7 : MOV dword ptr [ECX + 0x4],EAX
004582ba : JMP 0x004582ca
004582bc : MOV ECX,dword ptr [EBX + 0x4]
004582bf : CMP dword ptr [ECX],EBX
004582c1 : JNZ 0x004582c7
004582c3 : MOV dword ptr [ECX],EAX
004582c5 : JMP 0x004582ca
004582c7 : MOV dword ptr [ECX + 0x8],EAX
004582ca : MOV EDX,dword ptr [EBX + 0x4]
004582cd : MOV dword ptr [EAX + 0x4],EDX
004582d0 : LEA ECX,[EBX + 0x2c]
004582d3 : ADD EAX,0x2c
004582d6 : CMP EAX,ECX
004582d8 : JZ 0x004582e2
004582da : MOV BL,byte ptr [ECX]
004582dc : MOV DL,byte ptr [EAX]
004582de : MOV byte ptr [EAX],BL
004582e0 : MOV byte ptr [ECX],DL
004582e2 : MOV EDX,dword ptr [EBP + 0x8]
004582e5 : MOV EAX,dword ptr [ESP + 0x10]
004582e9 : MOV BL,0x1
004582eb : CMP byte ptr [EAX + 0x2c],BL
004582ee : JNZ 0x004583f3
004582f4 : MOV ECX,dword ptr [EDX + 0x4]
004582f7 : CMP EDI,dword ptr [ECX + 0x4]
004582fa : JZ 0x004583f0
00458300 : CMP byte ptr [EDI + 0x2c],BL
00458303 : JNZ 0x004583f0
00458309 : MOV ECX,dword ptr [ESI]
0045830b : CMP EDI,ECX
0045830d : JNZ 0x00458378
0045830f : MOV ECX,dword ptr [ESI + 0x8]
00458312 : CMP byte ptr [ECX + 0x2c],0x0
00458316 : JNZ 0x0045832d
00458318 : MOV byte ptr [ECX + 0x2c],BL
0045831b : PUSH EDX
0045831c : MOV ECX,ESI
0045831e : MOV byte ptr [ESI + 0x2c],0x0
00458322 : CALL 0x004021f0
00458327 : MOV ECX,dword ptr [ESI + 0x8]
0045832a : MOV EDX,dword ptr [EBP + 0x8]
0045832d : CMP byte ptr [ECX + 0x2d],0x0
00458331 : JNZ 0x004583ab
00458333 : MOV EAX,dword ptr [ECX]
00458335 : CMP byte ptr [EAX + 0x2c],BL
00458338 : JNZ 0x00458342
0045833a : MOV EAX,dword ptr [ECX + 0x8]
0045833d : CMP byte ptr [EAX + 0x2c],BL
00458340 : JZ 0x004583a7
00458342 : MOV EAX,dword ptr [ECX + 0x8]
00458345 : CMP byte ptr [EAX + 0x2c],BL
00458348 : JNZ 0x0045835f
0045834a : MOV EAX,dword ptr [ECX]
0045834c : MOV byte ptr [EAX + 0x2c],BL
0045834f : PUSH EDX
00458350 : MOV byte ptr [ECX + 0x2c],0x0
00458354 : CALL 0x00422be0
00458359 : MOV ECX,dword ptr [ESI + 0x8]
0045835c : MOV EDX,dword ptr [EBP + 0x8]
0045835f : MOV AL,byte ptr [ESI + 0x2c]
00458362 : MOV byte ptr [ECX + 0x2c],AL
00458365 : MOV byte ptr [ESI + 0x2c],BL
00458368 : MOV ECX,dword ptr [ECX + 0x8]
0045836b : MOV byte ptr [ECX + 0x2c],BL
0045836e : PUSH EDX
0045836f : MOV ECX,ESI
00458371 : CALL 0x004021f0
00458376 : JMP 0x004583f0
00458378 : CMP byte ptr [ECX + 0x2c],0x0
0045837c : JNZ 0x00458392
0045837e : MOV byte ptr [ECX + 0x2c],BL
00458381 : PUSH EDX
00458382 : MOV ECX,ESI
00458384 : MOV byte ptr [ESI + 0x2c],0x0
00458388 : CALL 0x00422be0
0045838d : MOV ECX,dword ptr [ESI]
0045838f : MOV EDX,dword ptr [EBP + 0x8]
00458392 : CMP byte ptr [ECX + 0x2d],0x0
00458396 : JNZ 0x004583ab
00458398 : MOV EAX,dword ptr [ECX + 0x8]
0045839b : CMP byte ptr [EAX + 0x2c],BL
0045839e : JNZ 0x004583be
004583a0 : MOV EAX,dword ptr [ECX]
004583a2 : CMP byte ptr [EAX + 0x2c],BL
004583a5 : JNZ 0x004583be
004583a7 : MOV byte ptr [ECX + 0x2c],0x0
004583ab : MOV ECX,dword ptr [EDX + 0x4]
004583ae : MOV EDI,ESI
004583b0 : MOV ESI,dword ptr [ESI + 0x4]
004583b3 : CMP EDI,dword ptr [ECX + 0x4]
004583b6 : JNZ 0x00458300
004583bc : JMP 0x004583f0
004583be : MOV EAX,dword ptr [ECX]
004583c0 : CMP byte ptr [EAX + 0x2c],BL
004583c3 : JNZ 0x004583da
004583c5 : MOV EAX,dword ptr [ECX + 0x8]
004583c8 : MOV byte ptr [EAX + 0x2c],BL
004583cb : PUSH EDX
004583cc : MOV byte ptr [ECX + 0x2c],0x0
004583d0 : CALL 0x004021f0
004583d5 : MOV ECX,dword ptr [ESI]
004583d7 : MOV EDX,dword ptr [EBP + 0x8]
004583da : MOV AL,byte ptr [ESI + 0x2c]
004583dd : MOV byte ptr [ECX + 0x2c],AL
004583e0 : MOV byte ptr [ESI + 0x2c],BL
004583e3 : MOV ECX,dword ptr [ECX]
004583e5 : MOV byte ptr [ECX + 0x2c],BL
004583e8 : PUSH EDX
004583e9 : MOV ECX,ESI
004583eb : CALL 0x00422be0
004583f0 : MOV byte ptr [EDI + 0x2c],BL
004583f3 : MOV dword ptr [ESP + 0x68],0xffffffff
004583fb : MOV EDX,dword ptr [ESP + 0x10]
004583ff : ADD EDX,0xc
00458402 : PUSH EDX
00458403 : CALL 0x0044cb00
00458408 : MOV ECX,dword ptr [ESP + 0x10]
0045840c : CALL 0x006f04e0
