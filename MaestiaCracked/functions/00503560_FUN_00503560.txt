PROGRAM  : Maestia.exe
FUNCTION : FUN_00503560
ENTRY    : 00503560
BODY     : [[00503560, 005035a4]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_00503560(undefined4 *param_1)

{
  undefined4 *puVar1;
  uint uVar2;
  uint *in_ECX;
  uint uVar3;
  
  uVar3 = *in_ECX >> 10;
  if (in_ECX[1] <= uVar3) {
    uVar2 = FUN_00500510(uVar3);
    if ((char)uVar2 == '\0') goto LAB_0050358d;
  }
  puVar1 = (undefined4 *)(*(int *)(in_ECX[3] + uVar3 * 4) + (*in_ECX & 0x3ff) * 4);
  uVar2 = 0;
  if (puVar1 != (undefined4 *)0x0) {
    *puVar1 = *param_1;
    *in_ECX = *in_ECX + 1;
    return CONCAT31((int3)((uint)puVar1 >> 8),1);
  }
LAB_0050358d:
  return uVar2 & 0xffffff00;
}



============================================================
DISASSEMBLY
============================================================
00503560 : PUSH ESI
00503561 : MOV ESI,ECX
00503563 : PUSH EDI
00503564 : MOV EDI,dword ptr [ESI]
00503566 : SHR EDI,0xa
00503569 : CMP EDI,dword ptr [ESI + 0x4]
0050356c : JC 0x00503578
0050356e : PUSH EDI
0050356f : CALL 0x00500510
00503574 : TEST AL,AL
00503576 : JZ 0x0050358d
00503578 : MOV EAX,dword ptr [ESI + 0xc]
0050357b : MOV ECX,dword ptr [ESI]
0050357d : MOV EDX,dword ptr [EAX + EDI*0x4]
00503580 : AND ECX,0x3ff
00503586 : LEA EAX,[EDX + ECX*0x4]
00503589 : TEST EAX,EAX
0050358b : JNZ 0x00503594
0050358d : POP EDI
0050358e : XOR AL,AL
00503590 : POP ESI
00503591 : RET 0x4
00503594 : MOV ECX,dword ptr [ESP + 0xc]
00503598 : MOV EDX,dword ptr [ECX]
0050359a : MOV dword ptr [EAX],EDX
0050359c : INC dword ptr [ESI]
0050359e : POP EDI
0050359f : MOV AL,0x1
005035a1 : POP ESI
005035a2 : RET 0x4
