PROGRAM  : Maestia.exe
FUNCTION : FUN_004d5db0
ENTRY    : 004d5db0
BODY     : [[004d5db0, 004d6056]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004d5ee4) */
/* WARNING: Removing unreachable block (ram,0x004d5ef5) */
/* WARNING: Removing unreachable block (ram,0x004d5efe) */
/* WARNING: Removing unreachable block (ram,0x004d5f01) */
/* WARNING: Removing unreachable block (ram,0x004d5ef1) */
/* WARNING: Removing unreachable block (ram,0x004d5f0e) */
/* WARNING: Removing unreachable block (ram,0x004d5f1e) */
/* WARNING: Removing unreachable block (ram,0x004d5f29) */
/* WARNING: Removing unreachable block (ram,0x004d5f25) */
/* WARNING: Removing unreachable block (ram,0x004d5f19) */
/* WARNING: Removing unreachable block (ram,0x004d5f2c) */
/* WARNING: Removing unreachable block (ram,0x004d5f3c) */

void FUN_004d5db0(undefined4 param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_50 [4];
  undefined1 local_4c;
  undefined4 local_3c;
  undefined4 local_38;
  undefined1 local_34 [40];
  void *local_c;
  undefined1 *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00b79cb5;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  if (*(char *)((int)param_2 + 0x2d) != '\0') {
    local_38 = 0xf;
    local_3c = 0;
    local_4c = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_4 = 0;
    FUN_00403c10(local_50);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_34,&DAT_00ced890);
  }
  FUN_00430160(DAT_00d66fa0 ^ (uint)&stack0xffffff98);
  piVar7 = (int *)*param_2;
  if (*(char *)((int)piVar7 + 0x2d) == '\0') {
    if (*(char *)(param_2[2] + 0x2d) == '\0') {
      piVar7 = (int *)param_2[2];
    }
  }
  else {
    piVar7 = (int *)param_2[2];
  }
  piVar6 = (int *)param_2[1];
  if (*(char *)((int)piVar7 + 0x2d) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if ((int *)DAT_017245c4[1] == param_2) {
    DAT_017245c4[1] = piVar7;
  }
  else if ((int *)*piVar6 == param_2) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)*DAT_017245c4 == param_2) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x2d) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x2d);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x2d);
        piVar5 = piVar3;
      }
    }
    *DAT_017245c4 = piVar5;
  }
  if ((int *)DAT_017245c4[2] == param_2) {
    if (*(char *)((int)piVar7 + 0x2d) == '\0') {
      uVar4 = FUN_00439bf0();
      DAT_017245c4[2] = uVar4;
    }
    else {
      DAT_017245c4[2] = piVar6;
    }
  }
  if ((char)param_2[0xb] == '\x01') {
    if (piVar7 != (int *)DAT_017245c4[1]) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0xb] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0xb] == '\0') {
            *(undefined1 *)(piVar6 + 0xb) = 1;
            *(undefined1 *)(piVar5 + 0xb) = 0;
            FUN_004d60d0();
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x2d) == '\0') {
            if ((*(char *)(*piVar6 + 0x2c) != '\x01') || (*(char *)(piVar6[2] + 0x2c) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x2c) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x2c) = 1;
                *(undefined1 *)(piVar6 + 0xb) = 0;
                FUN_004d6120();
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0xb) = (char)piVar5[0xb];
              *(undefined1 *)(piVar5 + 0xb) = 1;
              *(undefined1 *)(piVar6[2] + 0x2c) = 1;
              FUN_004d60d0();
              break;
            }
LAB_004d5ff9:
            *(undefined1 *)(piVar6 + 0xb) = 0;
          }
        }
        else {
          if ((char)piVar6[0xb] == '\0') {
            *(undefined1 *)(piVar6 + 0xb) = 1;
            *(undefined1 *)(piVar5 + 0xb) = 0;
            FUN_004d6120();
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x2d) == '\0') {
            if ((*(char *)(piVar6[2] + 0x2c) == '\x01') && (*(char *)(*piVar6 + 0x2c) == '\x01'))
            goto LAB_004d5ff9;
            if (*(char *)(*piVar6 + 0x2c) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x2c) = 1;
              *(undefined1 *)(piVar6 + 0xb) = 0;
              FUN_004d60d0();
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0xb) = (char)piVar5[0xb];
            *(undefined1 *)(piVar5 + 0xb) = 1;
            *(undefined1 *)(*piVar6 + 0x2c) = 1;
            FUN_004d6120();
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != (int *)DAT_017245c4[1]);
    }
    *(undefined1 *)(piVar7 + 0xb) = 1;
  }
  local_4 = 0xffffffff;
  FUN_004d53d0(param_2 + 3);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004d5db0 : PUSH -0x1
004d5db2 : PUSH 0xb79cb5
004d5db7 : MOV EAX,FS:[0x0]
004d5dbd : PUSH EAX
004d5dbe : SUB ESP,0x4c
004d5dc1 : PUSH EBX
004d5dc2 : PUSH EBP
004d5dc3 : PUSH ESI
004d5dc4 : PUSH EDI
004d5dc5 : MOV EAX,[0x00d66fa0]
004d5dca : XOR EAX,ESP
004d5dcc : PUSH EAX
004d5dcd : LEA EAX,[ESP + 0x60]
004d5dd1 : MOV FS:[0x0],EAX
004d5dd7 : MOV EAX,dword ptr [ESP + 0x74]
004d5ddb : CMP byte ptr [EAX + 0x2d],0x0
004d5ddf : JZ 0x004d5e25
004d5de1 : PUSH 0x1b
004d5de3 : XOR ESI,ESI
004d5de5 : PUSH 0xcca4a8
004d5dea : LEA ECX,[ESP + 0x24]
004d5dee : MOV dword ptr [ESP + 0x3c],0xf
004d5df6 : MOV dword ptr [ESP + 0x38],ESI
004d5dfa : MOV byte ptr [ESP + 0x28],0x0
004d5dff : CALL 0x00404b50
004d5e04 : LEA EAX,[ESP + 0x1c]
004d5e08 : PUSH EAX
004d5e09 : LEA ECX,[ESP + 0x3c]
004d5e0d : MOV dword ptr [ESP + 0x6c],ESI
004d5e11 : CALL 0x00403c10
004d5e16 : PUSH 0xced890
004d5e1b : LEA ECX,[ESP + 0x3c]
004d5e1f : PUSH ECX
004d5e20 : CALL 0x006409eb
004d5e25 : MOV EBP,EAX
004d5e27 : LEA EDX,[ESP + 0x74]
004d5e2b : MOV dword ptr [ESP + 0x18],EBP
004d5e2f : CALL 0x00430160
004d5e34 : MOV ECX,dword ptr [EBP]
004d5e37 : CMP byte ptr [ECX + 0x2d],0x0
004d5e3b : JZ 0x004d5e42
004d5e3d : MOV EDI,dword ptr [EBP + 0x8]
004d5e40 : JMP 0x004d5e61
004d5e42 : MOV EDX,dword ptr [EBP + 0x8]
004d5e45 : CMP byte ptr [EDX + 0x2d],0x0
004d5e49 : JZ 0x004d5e4f
004d5e4b : MOV EDI,ECX
004d5e4d : JMP 0x004d5e61
004d5e4f : MOV EAX,dword ptr [ESP + 0x74]
004d5e53 : MOV EDI,dword ptr [EAX + 0x8]
004d5e56 : LEA EDX,[EAX + 0x8]
004d5e59 : CMP EAX,EBP
004d5e5b : JNZ 0x004d5ee4
004d5e61 : CMP byte ptr [EDI + 0x2d],0x0
004d5e65 : MOV ESI,dword ptr [EBP + 0x4]
004d5e68 : JNZ 0x004d5e6d
004d5e6a : MOV dword ptr [EDI + 0x4],ESI
004d5e6d : MOV EAX,[0x017245c4]
004d5e72 : CMP dword ptr [EAX + 0x4],EBP
004d5e75 : JNZ 0x004d5e7c
004d5e77 : MOV dword ptr [EAX + 0x4],EDI
004d5e7a : JMP 0x004d5e87
004d5e7c : CMP dword ptr [ESI],EBP
004d5e7e : JNZ 0x004d5e84
004d5e80 : MOV dword ptr [ESI],EDI
004d5e82 : JMP 0x004d5e87
004d5e84 : MOV dword ptr [ESI + 0x8],EDI
004d5e87 : MOV EDX,dword ptr [0x017245c4]
004d5e8d : CMP dword ptr [EDX],EBP
004d5e8f : JNZ 0x004d5eb1
004d5e91 : CMP byte ptr [EDI + 0x2d],0x0
004d5e95 : JZ 0x004d5e9b
004d5e97 : MOV ECX,ESI
004d5e99 : JMP 0x004d5eaf
004d5e9b : MOV EAX,dword ptr [EDI]
004d5e9d : CMP byte ptr [EAX + 0x2d],0x0
004d5ea1 : MOV ECX,EDI
004d5ea3 : JNZ 0x004d5eaf
004d5ea5 : MOV ECX,EAX
004d5ea7 : MOV EAX,dword ptr [ECX]
004d5ea9 : CMP byte ptr [EAX + 0x2d],0x0
004d5ead : JZ 0x004d5ea5
004d5eaf : MOV dword ptr [EDX],ECX
004d5eb1 : MOV EAX,[0x017245c4]
004d5eb6 : CMP dword ptr [EAX + 0x8],EBP
004d5eb9 : JNZ 0x004d5f44
004d5ebf : CMP byte ptr [EDI + 0x2d],0x0
004d5ec3 : JZ 0x004d5ed2
004d5ec5 : MOV ECX,dword ptr [0x017245c4]
004d5ecb : MOV EAX,ESI
004d5ecd : MOV dword ptr [ECX + 0x8],EAX
004d5ed0 : JMP 0x004d5f44
004d5ed2 : MOV EAX,EDI
004d5ed4 : CALL 0x00439bf0
004d5ed9 : MOV ECX,dword ptr [0x017245c4]
004d5edf : MOV dword ptr [ECX + 0x8],EAX
004d5ee2 : JMP 0x004d5f44
004d5ee4 : MOV dword ptr [ECX + 0x4],EAX
004d5ee7 : MOV ECX,dword ptr [EBP]
004d5eea : MOV dword ptr [EAX],ECX
004d5eec : CMP EAX,dword ptr [EBP + 0x8]
004d5eef : JNZ 0x004d5ef5
004d5ef1 : MOV ESI,EAX
004d5ef3 : JMP 0x004d5f0e
004d5ef5 : CMP byte ptr [EDI + 0x2d],0x0
004d5ef9 : MOV ESI,dword ptr [EAX + 0x4]
004d5efc : JNZ 0x004d5f01
004d5efe : MOV dword ptr [EDI + 0x4],ESI
004d5f01 : MOV dword ptr [ESI],EDI
004d5f03 : MOV ECX,dword ptr [EBP + 0x8]
004d5f06 : MOV dword ptr [EDX],ECX
004d5f08 : MOV EDX,dword ptr [EBP + 0x8]
004d5f0b : MOV dword ptr [EDX + 0x4],EAX
004d5f0e : MOV ECX,dword ptr [0x017245c4]
004d5f14 : CMP dword ptr [ECX + 0x4],EBP
004d5f17 : JNZ 0x004d5f1e
004d5f19 : MOV dword ptr [ECX + 0x4],EAX
004d5f1c : JMP 0x004d5f2c
004d5f1e : MOV ECX,dword ptr [EBP + 0x4]
004d5f21 : CMP dword ptr [ECX],EBP
004d5f23 : JNZ 0x004d5f29
004d5f25 : MOV dword ptr [ECX],EAX
004d5f27 : JMP 0x004d5f2c
004d5f29 : MOV dword ptr [ECX + 0x8],EAX
004d5f2c : MOV ECX,dword ptr [EBP + 0x4]
004d5f2f : MOV dword ptr [EAX + 0x4],ECX
004d5f32 : LEA ECX,[EBP + 0x2c]
004d5f35 : ADD EAX,0x2c
004d5f38 : CMP EAX,ECX
004d5f3a : JZ 0x004d5f44
004d5f3c : MOV BL,byte ptr [ECX]
004d5f3e : MOV DL,byte ptr [EAX]
004d5f40 : MOV byte ptr [EAX],BL
004d5f42 : MOV byte ptr [ECX],DL
004d5f44 : MOV EBX,0x1
004d5f49 : CMP byte ptr [EBP + 0x2c],BL
004d5f4c : JNZ 0x004d603f
004d5f52 : MOV EDX,dword ptr [0x017245c4]
004d5f58 : CMP EDI,dword ptr [EDX + 0x4]
004d5f5b : JZ 0x004d603c
004d5f61 : CMP byte ptr [EDI + 0x2c],BL
004d5f64 : JNZ 0x004d603c
004d5f6a : MOV ECX,dword ptr [ESI]
004d5f6c : CMP EDI,ECX
004d5f6e : JNZ 0x004d5fce
004d5f70 : MOV ECX,dword ptr [ESI + 0x8]
004d5f73 : CMP byte ptr [ECX + 0x2c],0x0
004d5f77 : JNZ 0x004d5f8a
004d5f79 : MOV byte ptr [ECX + 0x2c],BL
004d5f7c : MOV ECX,ESI
004d5f7e : MOV byte ptr [ESI + 0x2c],0x0
004d5f82 : CALL 0x004d60d0
004d5f87 : MOV ECX,dword ptr [ESI + 0x8]
004d5f8a : CMP byte ptr [ECX + 0x2d],0x0
004d5f8e : JNZ 0x004d5ffd
004d5f90 : MOV EAX,dword ptr [ECX]
004d5f92 : CMP byte ptr [EAX + 0x2c],BL
004d5f95 : JNZ 0x004d5f9f
004d5f97 : MOV EDX,dword ptr [ECX + 0x8]
004d5f9a : CMP byte ptr [EDX + 0x2c],BL
004d5f9d : JZ 0x004d5ff9
004d5f9f : MOV EDX,dword ptr [ECX + 0x8]
004d5fa2 : CMP byte ptr [EDX + 0x2c],BL
004d5fa5 : JNZ 0x004d5fb6
004d5fa7 : MOV byte ptr [EAX + 0x2c],BL
004d5faa : MOV byte ptr [ECX + 0x2c],0x0
004d5fae : CALL 0x004d6120
004d5fb3 : MOV ECX,dword ptr [ESI + 0x8]
004d5fb6 : MOV DL,byte ptr [ESI + 0x2c]
004d5fb9 : MOV byte ptr [ECX + 0x2c],DL
004d5fbc : MOV byte ptr [ESI + 0x2c],BL
004d5fbf : MOV EAX,dword ptr [ECX + 0x8]
004d5fc2 : MOV ECX,ESI
004d5fc4 : MOV byte ptr [EAX + 0x2c],BL
004d5fc7 : CALL 0x004d60d0
004d5fcc : JMP 0x004d603c
004d5fce : CMP byte ptr [ECX + 0x2c],0x0
004d5fd2 : JNZ 0x004d5fe4
004d5fd4 : MOV byte ptr [ECX + 0x2c],BL
004d5fd7 : MOV ECX,ESI
004d5fd9 : MOV byte ptr [ESI + 0x2c],0x0
004d5fdd : CALL 0x004d6120
004d5fe2 : MOV ECX,dword ptr [ESI]
004d5fe4 : CMP byte ptr [ECX + 0x2d],0x0
004d5fe8 : JNZ 0x004d5ffd
004d5fea : MOV EAX,dword ptr [ECX + 0x8]
004d5fed : CMP byte ptr [EAX + 0x2c],BL
004d5ff0 : JNZ 0x004d6012
004d5ff2 : MOV EDX,dword ptr [ECX]
004d5ff4 : CMP byte ptr [EDX + 0x2c],BL
004d5ff7 : JNZ 0x004d6012
004d5ff9 : MOV byte ptr [ECX + 0x2c],0x0
004d5ffd : MOV EAX,[0x017245c4]
004d6002 : MOV EDI,ESI
004d6004 : MOV ESI,dword ptr [ESI + 0x4]
004d6007 : CMP EDI,dword ptr [EAX + 0x4]
004d600a : JNZ 0x004d5f61
004d6010 : JMP 0x004d603c
004d6012 : MOV EDX,dword ptr [ECX]
004d6014 : CMP byte ptr [EDX + 0x2c],BL
004d6017 : JNZ 0x004d6027
004d6019 : MOV byte ptr [EAX + 0x2c],BL
004d601c : MOV byte ptr [ECX + 0x2c],0x0
004d6020 : CALL 0x004d60d0
004d6025 : MOV ECX,dword ptr [ESI]
004d6027 : MOV DL,byte ptr [ESI + 0x2c]
004d602a : MOV byte ptr [ECX + 0x2c],DL
004d602d : MOV byte ptr [ESI + 0x2c],BL
004d6030 : MOV EAX,dword ptr [ECX]
004d6032 : MOV ECX,ESI
004d6034 : MOV byte ptr [EAX + 0x2c],BL
004d6037 : CALL 0x004d6120
004d603c : MOV byte ptr [EDI + 0x2c],BL
004d603f : LEA ECX,[EBP + 0xc]
004d6042 : PUSH ECX
004d6043 : MOV dword ptr [ESP + 0x6c],0xffffffff
004d604b : CALL 0x004d53d0
004d6050 : MOV ECX,EBP
004d6052 : CALL 0x006f04e0
