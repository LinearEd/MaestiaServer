PROGRAM  : Maestia.exe
FUNCTION : FUN_004274b0
ENTRY    : 004274b0
BODY     : [[004274b0, 0042775a]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004275e3) */
/* WARNING: Removing unreachable block (ram,0x004275f3) */
/* WARNING: Removing unreachable block (ram,0x004275fc) */
/* WARNING: Removing unreachable block (ram,0x004275ff) */
/* WARNING: Removing unreachable block (ram,0x004275ef) */
/* WARNING: Removing unreachable block (ram,0x0042760c) */
/* WARNING: Removing unreachable block (ram,0x0042761c) */
/* WARNING: Removing unreachable block (ram,0x00427627) */
/* WARNING: Removing unreachable block (ram,0x00427623) */
/* WARNING: Removing unreachable block (ram,0x00427617) */
/* WARNING: Removing unreachable block (ram,0x0042762a) */
/* WARNING: Removing unreachable block (ram,0x0042763a) */
/* WARNING: Removing unreachable block (ram,0x00427642) */

void FUN_004274b0(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  int *piVar5;
  int *piVar6;
  undefined1 local_5c [40];
  undefined1 local_34 [4];
  undefined1 local_30;
  undefined4 local_20;
  undefined4 local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7bad8;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x21) != '\0') {
    local_1c = 0xf;
    local_20 = 0;
    local_30 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_34);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_5c,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_00442590(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar6 = (int *)*param_3;
  if (*(char *)((int)piVar6 + 0x21) == '\0') {
    if (*(char *)(param_3[2] + 0x21) == '\0') {
      piVar6 = (int *)param_3[2];
    }
  }
  else {
    piVar6 = (int *)param_3[2];
  }
  piVar5 = (int *)param_3[1];
  if (*(char *)((int)piVar6 + 0x21) == '\0') {
    piVar6[1] = (int)piVar5;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar6;
  }
  else if ((int *)*piVar5 == param_3) {
    *piVar5 = (int)piVar6;
  }
  else {
    piVar5[2] = (int)piVar6;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar4 = piVar5;
    if (*(char *)((int)piVar6 + 0x21) == '\0') {
      cVar1 = *(char *)(*piVar6 + 0x21);
      piVar2 = (int *)*piVar6;
      piVar4 = piVar6;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x21);
        piVar4 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar4;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 8) == param_3) {
    if (*(char *)((int)piVar6 + 0x21) == '\0') {
      cVar1 = *(char *)(piVar6[2] + 0x21);
      piVar4 = (int *)piVar6[2];
      piVar2 = piVar6;
      while (piVar3 = piVar4, cVar1 == '\0') {
        piVar4 = (int *)piVar3[2];
        cVar1 = *(char *)((int)piVar4 + 0x21);
        piVar2 = piVar3;
      }
      *(int **)(*(int *)(param_1 + 4) + 8) = piVar2;
    }
    else {
      *(int **)(*(int *)(param_1 + 4) + 8) = piVar5;
    }
  }
  if ((char)local_18[8] == '\x01') {
    if (piVar6 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar4 = piVar5;
        if ((char)piVar6[8] != '\x01') break;
        piVar5 = (int *)*piVar4;
        if (piVar6 == piVar5) {
          piVar5 = (int *)piVar4[2];
          if ((char)piVar5[8] == '\0') {
            *(undefined1 *)(piVar5 + 8) = 1;
            *(undefined1 *)(piVar4 + 8) = 0;
            FUN_00427220(param_1);
            piVar5 = (int *)piVar4[2];
          }
          if (*(char *)((int)piVar5 + 0x21) == '\0') {
            if ((*(char *)(*piVar5 + 0x20) != '\x01') || (*(char *)(piVar5[2] + 0x20) != '\x01')) {
              if (*(char *)(piVar5[2] + 0x20) == '\x01') {
                *(undefined1 *)(*piVar5 + 0x20) = 1;
                *(undefined1 *)(piVar5 + 8) = 0;
                FUN_0042ce70(param_1);
                piVar5 = (int *)piVar4[2];
              }
              *(char *)(piVar5 + 8) = (char)piVar4[8];
              *(undefined1 *)(piVar4 + 8) = 1;
              *(undefined1 *)(piVar5[2] + 0x20) = 1;
              FUN_00427220(param_1);
              break;
            }
LAB_00427707:
            *(undefined1 *)(piVar5 + 8) = 0;
          }
        }
        else {
          if ((char)piVar5[8] == '\0') {
            *(undefined1 *)(piVar5 + 8) = 1;
            *(undefined1 *)(piVar4 + 8) = 0;
            FUN_0042ce70(param_1);
            piVar5 = (int *)*piVar4;
          }
          if (*(char *)((int)piVar5 + 0x21) == '\0') {
            if ((*(char *)(piVar5[2] + 0x20) == '\x01') && (*(char *)(*piVar5 + 0x20) == '\x01'))
            goto LAB_00427707;
            if (*(char *)(*piVar5 + 0x20) == '\x01') {
              *(undefined1 *)(piVar5[2] + 0x20) = 1;
              *(undefined1 *)(piVar5 + 8) = 0;
              FUN_00427220(param_1);
              piVar5 = (int *)*piVar4;
            }
            *(char *)(piVar5 + 8) = (char)piVar4[8];
            *(undefined1 *)(piVar4 + 8) = 1;
            *(undefined1 *)(*piVar5 + 0x20) = 1;
            FUN_0042ce70(param_1);
            break;
          }
        }
        piVar5 = (int *)piVar4[1];
        piVar6 = piVar4;
      } while (piVar4 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar6 + 8) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004274b0 : PUSH EBP
004274b1 : MOV EBP,ESP
004274b3 : PUSH -0x1
004274b5 : PUSH 0xb7bad8
004274ba : MOV EAX,FS:[0x0]
004274c0 : PUSH EAX
004274c1 : SUB ESP,0x50
004274c4 : PUSH EBX
004274c5 : PUSH ESI
004274c6 : PUSH EDI
004274c7 : MOV EAX,[0x00d66fa0]
004274cc : XOR EAX,EBP
004274ce : PUSH EAX
004274cf : LEA EAX,[EBP + -0xc]
004274d2 : MOV FS:[0x0],EAX
004274d8 : MOV EAX,dword ptr [EBP + 0x10]
004274db : CMP byte ptr [EAX + 0x21],0x0
004274df : JZ 0x0042751d
004274e1 : PUSH 0x1b
004274e3 : XOR ESI,ESI
004274e5 : PUSH 0xcca4a8
004274ea : LEA ECX,[EBP + -0x30]
004274ed : MOV dword ptr [EBP + -0x18],0xf
004274f4 : MOV dword ptr [EBP + -0x1c],ESI
004274f7 : MOV byte ptr [EBP + -0x2c],0x0
004274fb : CALL 0x00404b50
00427500 : MOV dword ptr [EBP + -0x4],ESI
00427503 : LEA EAX,[EBP + -0x30]
00427506 : PUSH EAX
00427507 : LEA ECX,[EBP + -0x58]
0042750a : CALL 0x00403c10
0042750f : PUSH 0xced890
00427514 : LEA ECX,[EBP + -0x58]
00427517 : PUSH ECX
00427518 : CALL 0x006409eb
0042751d : MOV EBX,EAX
0042751f : LEA EDX,[EBP + 0x10]
00427522 : MOV dword ptr [EBP + -0x14],EBX
00427525 : CALL 0x00442590
0042752a : MOV ECX,dword ptr [EBX]
0042752c : CMP byte ptr [ECX + 0x21],0x0
00427530 : JZ 0x00427537
00427532 : MOV EDI,dword ptr [EBX + 0x8]
00427535 : JMP 0x00427555
00427537 : MOV EDX,dword ptr [EBX + 0x8]
0042753a : CMP byte ptr [EDX + 0x21],0x0
0042753e : JZ 0x00427544
00427540 : MOV EDI,ECX
00427542 : JMP 0x00427555
00427544 : MOV EAX,dword ptr [EBP + 0x10]
00427547 : MOV EDI,dword ptr [EAX + 0x8]
0042754a : LEA EDX,[EAX + 0x8]
0042754d : CMP EAX,EBX
0042754f : JNZ 0x004275e3
00427555 : CMP byte ptr [EDI + 0x21],0x0
00427559 : MOV ESI,dword ptr [EBX + 0x4]
0042755c : JNZ 0x00427561
0042755e : MOV dword ptr [EDI + 0x4],ESI
00427561 : MOV EDX,dword ptr [EBP + 0x8]
00427564 : MOV EAX,dword ptr [EDX + 0x4]
00427567 : CMP dword ptr [EAX + 0x4],EBX
0042756a : JNZ 0x00427571
0042756c : MOV dword ptr [EAX + 0x4],EDI
0042756f : JMP 0x0042757c
00427571 : CMP dword ptr [ESI],EBX
00427573 : JNZ 0x00427579
00427575 : MOV dword ptr [ESI],EDI
00427577 : JMP 0x0042757c
00427579 : MOV dword ptr [ESI + 0x8],EDI
0042757c : MOV EAX,dword ptr [EDX + 0x4]
0042757f : CMP dword ptr [EAX],EBX
00427581 : JNZ 0x004275a6
00427583 : CMP byte ptr [EDI + 0x21],0x0
00427587 : JZ 0x0042758d
00427589 : MOV ECX,ESI
0042758b : JMP 0x004275a1
0042758d : MOV EAX,dword ptr [EDI]
0042758f : CMP byte ptr [EAX + 0x21],0x0
00427593 : MOV ECX,EDI
00427595 : JNZ 0x004275a1
00427597 : MOV ECX,EAX
00427599 : MOV EAX,dword ptr [ECX]
0042759b : CMP byte ptr [EAX + 0x21],0x0
0042759f : JZ 0x00427597
004275a1 : MOV EAX,dword ptr [EDX + 0x4]
004275a4 : MOV dword ptr [EAX],ECX
004275a6 : MOV EAX,dword ptr [EDX + 0x4]
004275a9 : CMP dword ptr [EAX + 0x8],EBX
004275ac : JNZ 0x00427645
004275b2 : CMP byte ptr [EDI + 0x21],0x0
004275b6 : JZ 0x004275c2
004275b8 : MOV ECX,ESI
004275ba : MOV dword ptr [EAX + 0x8],ECX
004275bd : JMP 0x00427645
004275c2 : MOV EAX,dword ptr [EDI + 0x8]
004275c5 : CMP byte ptr [EAX + 0x21],0x0
004275c9 : MOV ECX,EDI
004275cb : JNZ 0x004275db
004275cd : LEA ECX,[ECX]
004275d0 : MOV ECX,EAX
004275d2 : MOV EAX,dword ptr [ECX + 0x8]
004275d5 : CMP byte ptr [EAX + 0x21],0x0
004275d9 : JZ 0x004275d0
004275db : MOV EAX,dword ptr [EDX + 0x4]
004275de : MOV dword ptr [EAX + 0x8],ECX
004275e1 : JMP 0x00427645
004275e3 : MOV dword ptr [ECX + 0x4],EAX
004275e6 : MOV ECX,dword ptr [EBX]
004275e8 : MOV dword ptr [EAX],ECX
004275ea : CMP EAX,dword ptr [EBX + 0x8]
004275ed : JNZ 0x004275f3
004275ef : MOV ESI,EAX
004275f1 : JMP 0x0042760c
004275f3 : CMP byte ptr [EDI + 0x21],0x0
004275f7 : MOV ESI,dword ptr [EAX + 0x4]
004275fa : JNZ 0x004275ff
004275fc : MOV dword ptr [EDI + 0x4],ESI
004275ff : MOV dword ptr [ESI],EDI
00427601 : MOV ECX,dword ptr [EBX + 0x8]
00427604 : MOV dword ptr [EDX],ECX
00427606 : MOV EDX,dword ptr [EBX + 0x8]
00427609 : MOV dword ptr [EDX + 0x4],EAX
0042760c : MOV ECX,dword ptr [EBP + 0x8]
0042760f : MOV ECX,dword ptr [ECX + 0x4]
00427612 : CMP dword ptr [ECX + 0x4],EBX
00427615 : JNZ 0x0042761c
00427617 : MOV dword ptr [ECX + 0x4],EAX
0042761a : JMP 0x0042762a
0042761c : MOV ECX,dword ptr [EBX + 0x4]
0042761f : CMP dword ptr [ECX],EBX
00427621 : JNZ 0x00427627
00427623 : MOV dword ptr [ECX],EAX
00427625 : JMP 0x0042762a
00427627 : MOV dword ptr [ECX + 0x8],EAX
0042762a : MOV EDX,dword ptr [EBX + 0x4]
0042762d : MOV dword ptr [EAX + 0x4],EDX
00427630 : LEA ECX,[EBX + 0x20]
00427633 : ADD EAX,0x20
00427636 : CMP EAX,ECX
00427638 : JZ 0x00427642
0042763a : MOV BL,byte ptr [ECX]
0042763c : MOV DL,byte ptr [EAX]
0042763e : MOV byte ptr [EAX],BL
00427640 : MOV byte ptr [ECX],DL
00427642 : MOV EDX,dword ptr [EBP + 0x8]
00427645 : MOV EAX,dword ptr [EBP + -0x14]
00427648 : MOV BL,0x1
0042764a : CMP byte ptr [EAX + 0x20],BL
0042764d : JNZ 0x00427753
00427653 : MOV ECX,dword ptr [EDX + 0x4]
00427656 : CMP EDI,dword ptr [ECX + 0x4]
00427659 : JZ 0x00427750
0042765f : NOP
00427660 : CMP byte ptr [EDI + 0x20],BL
00427663 : JNZ 0x00427750
00427669 : MOV ECX,dword ptr [ESI]
0042766b : CMP EDI,ECX
0042766d : JNZ 0x004276d8
0042766f : MOV ECX,dword ptr [ESI + 0x8]
00427672 : CMP byte ptr [ECX + 0x20],0x0
00427676 : JNZ 0x0042768d
00427678 : MOV byte ptr [ECX + 0x20],BL
0042767b : PUSH EDX
0042767c : MOV ECX,ESI
0042767e : MOV byte ptr [ESI + 0x20],0x0
00427682 : CALL 0x00427220
00427687 : MOV ECX,dword ptr [ESI + 0x8]
0042768a : MOV EDX,dword ptr [EBP + 0x8]
0042768d : CMP byte ptr [ECX + 0x21],0x0
00427691 : JNZ 0x0042770b
00427693 : MOV EAX,dword ptr [ECX]
00427695 : CMP byte ptr [EAX + 0x20],BL
00427698 : JNZ 0x004276a2
0042769a : MOV EAX,dword ptr [ECX + 0x8]
0042769d : CMP byte ptr [EAX + 0x20],BL
004276a0 : JZ 0x00427707
004276a2 : MOV EAX,dword ptr [ECX + 0x8]
004276a5 : CMP byte ptr [EAX + 0x20],BL
004276a8 : JNZ 0x004276bf
004276aa : MOV EAX,dword ptr [ECX]
004276ac : MOV byte ptr [EAX + 0x20],BL
004276af : PUSH EDX
004276b0 : MOV byte ptr [ECX + 0x20],0x0
004276b4 : CALL 0x0042ce70
004276b9 : MOV ECX,dword ptr [ESI + 0x8]
004276bc : MOV EDX,dword ptr [EBP + 0x8]
004276bf : MOV AL,byte ptr [ESI + 0x20]
004276c2 : MOV byte ptr [ECX + 0x20],AL
004276c5 : MOV byte ptr [ESI + 0x20],BL
004276c8 : MOV ECX,dword ptr [ECX + 0x8]
004276cb : MOV byte ptr [ECX + 0x20],BL
004276ce : PUSH EDX
004276cf : MOV ECX,ESI
004276d1 : CALL 0x00427220
004276d6 : JMP 0x00427750
004276d8 : CMP byte ptr [ECX + 0x20],0x0
004276dc : JNZ 0x004276f2
004276de : MOV byte ptr [ECX + 0x20],BL
004276e1 : PUSH EDX
004276e2 : MOV ECX,ESI
004276e4 : MOV byte ptr [ESI + 0x20],0x0
004276e8 : CALL 0x0042ce70
004276ed : MOV ECX,dword ptr [ESI]
004276ef : MOV EDX,dword ptr [EBP + 0x8]
004276f2 : CMP byte ptr [ECX + 0x21],0x0
004276f6 : JNZ 0x0042770b
004276f8 : MOV EAX,dword ptr [ECX + 0x8]
004276fb : CMP byte ptr [EAX + 0x20],BL
004276fe : JNZ 0x0042771e
00427700 : MOV EAX,dword ptr [ECX]
00427702 : CMP byte ptr [EAX + 0x20],BL
00427705 : JNZ 0x0042771e
00427707 : MOV byte ptr [ECX + 0x20],0x0
0042770b : MOV ECX,dword ptr [EDX + 0x4]
0042770e : MOV EDI,ESI
00427710 : MOV ESI,dword ptr [ESI + 0x4]
00427713 : CMP EDI,dword ptr [ECX + 0x4]
00427716 : JNZ 0x00427660
0042771c : JMP 0x00427750
0042771e : MOV EAX,dword ptr [ECX]
00427720 : CMP byte ptr [EAX + 0x20],BL
00427723 : JNZ 0x0042773a
00427725 : MOV EAX,dword ptr [ECX + 0x8]
00427728 : MOV byte ptr [EAX + 0x20],BL
0042772b : PUSH EDX
0042772c : MOV byte ptr [ECX + 0x20],0x0
00427730 : CALL 0x00427220
00427735 : MOV ECX,dword ptr [ESI]
00427737 : MOV EDX,dword ptr [EBP + 0x8]
0042773a : MOV AL,byte ptr [ESI + 0x20]
0042773d : MOV byte ptr [ECX + 0x20],AL
00427740 : MOV byte ptr [ESI + 0x20],BL
00427743 : MOV ECX,dword ptr [ECX]
00427745 : MOV byte ptr [ECX + 0x20],BL
00427748 : PUSH EDX
00427749 : MOV ECX,ESI
0042774b : CALL 0x0042ce70
00427750 : MOV byte ptr [EDI + 0x20],BL
00427753 : MOV ECX,dword ptr [EBP + -0x14]
00427756 : CALL 0x006f04e0
