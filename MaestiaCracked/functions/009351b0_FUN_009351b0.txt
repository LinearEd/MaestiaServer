PROGRAM  : Maestia.exe
FUNCTION : FUN_009351b0
ENTRY    : 009351b0
BODY     : [[009351b0, 0093546d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009351b0(int param_1,int param_2)

{
  int iVar1;
  char cVar2;
  int *in_EAX;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int iVar6;
  
  if (in_EAX != (int *)0x0) {
    iVar6 = *DAT_00da9894;
    piVar3 = *(int **)(iVar6 + 0x114);
    if (piVar3 != (int *)0x0) {
      (**(code **)(*piVar3 + 4))(piVar3,"SetType",&DAT_00cce590,L"QuestList");
    }
    if (((*(char *)(*(int *)(iVar6 + 0x220) + 0x32) == '\0') && (param_2 == 10)) &&
       (*(int *)(param_1 + 0x38) == *in_EAX)) {
      piVar3 = (int *)FUN_00428dc0();
      (**(code **)(*piVar3 + 0x18))(0,300);
    }
    piVar3 = DAT_00da9894;
    *(int *)(param_1 + 0x38) = *in_EAX;
    iVar6 = *piVar3;
    piVar3 = *(int **)(iVar6 + 0x114);
    if (piVar3 != (int *)0x0) {
      (**(code **)(*piVar3 + 4))(piVar3,"SetType",&DAT_00cce590,L"QuestList");
    }
    if (*(char *)(*(int *)(iVar6 + 0x220) + 0x32) != '\0') {
      iVar6 = *DAT_00da9894;
      piVar3 = *(int **)(iVar6 + 0x114);
      if (piVar3 != (int *)0x0) {
        (**(code **)(*piVar3 + 4))(piVar3,"SetType",&DAT_00cce590,L"QuestList");
      }
      (**(code **)(**(int **)(iVar6 + 0x220) + 0x10))();
      iVar6 = *DAT_00da9894;
      piVar3 = *(int **)(iVar6 + 0x114);
      if (piVar3 != (int *)0x0) {
        (**(code **)(*piVar3 + 4))(piVar3,"SetType",&DAT_00cce590,L"QuestList");
      }
      (**(code **)(**(int **)(iVar6 + 0x220) + 0xb4))(*in_EAX);
      iVar6 = *DAT_00da9894;
      piVar3 = *(int **)(iVar6 + 0x114);
      if (piVar3 != (int *)0x0) {
        (**(code **)(*piVar3 + 4))(piVar3,"SetType",&DAT_00cce590,L"QuestList");
      }
      (**(code **)(**(int **)(iVar6 + 0x220) + 0xb8))();
      if ((*DAT_00da9894 != 0) && (piVar3 = *(int **)(*DAT_00da9894 + 0x114), piVar3 != (int *)0x0))
      {
        (**(code **)(*piVar3 + 4))
                  (piVar3,"UsableAutoQuestLevel",&DAT_00c6eae8,*(byte *)(in_EAX[1] + 0x98) < 0x55);
      }
    }
    uVar4 = 0;
    if (*(int *)(*DAT_00da9894 + 300) != 0) {
      uVar4 = *(undefined4 *)(*(int *)(*DAT_00da9894 + 300) + 0x18);
    }
    FUN_009847a0(uVar4);
    if ((*DAT_00da9894 != 0) && (piVar3 = *(int **)(*DAT_00da9894 + 0x114), piVar3 != (int *)0x0)) {
      (**(code **)(*piVar3 + 4))(piVar3,"QuestListSelected","%d,%b",in_EAX[0x43],1);
    }
    if ((*DAT_00da9894 != 0) && (piVar3 = *(int **)(*DAT_00da9894 + 0x114), piVar3 != (int *)0x0)) {
      if ((uint)in_EAX[0xe] < 8) {
        piVar5 = in_EAX + 9;
      }
      else {
        piVar5 = (int *)in_EAX[9];
      }
      (**(code **)(*piVar3 + 4))(piVar3,"SelectQuestByName",&DAT_00c6eb20,piVar5);
    }
    cVar2 = FUN_00934ef0();
    FUN_00a1adc0(cVar2);
    iVar6 = DAT_00da93ec;
    *(char *)(DAT_00da93ec + 0x2ac) = cVar2;
    if (cVar2 == '\0') {
      iVar1 = *(int *)(iVar6 + 0x1b0);
      *(undefined4 *)(iVar1 + 0x68) = 0xbf800000;
      *(undefined4 *)(iVar1 + 0x6c) = 0xc3960000;
      *(undefined4 *)(iVar1 + 0x70) = 0xc1200000;
      *(undefined1 *)(iVar1 + 0x5d) = 1;
      *(undefined1 *)(iVar1 + 0x134) = 1;
      *(undefined1 *)(iVar1 + 0x5c) = 1;
      if (*(int **)(iVar1 + 0x2c) != (int *)0x0) {
        (**(code **)(**(int **)(iVar1 + 0x2c) + 0x60))(iVar1);
        iVar6 = DAT_00da93ec;
      }
    }
    *(undefined1 *)(iVar6 + 0x2ae) = 1;
    FUN_00a1ae20();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009351b0 : PUSH EBP
009351b1 : MOV EBP,ESP
009351b3 : PUSH EBX
009351b4 : MOV EBX,dword ptr [EBP + 0x8]
009351b7 : PUSH ESI
009351b8 : PUSH EDI
009351b9 : MOV EDI,EAX
009351bb : TEST EDI,EDI
009351bd : JZ 0x00935467
009351c3 : MOV EAX,[0x00da9894]
009351c8 : MOV ESI,dword ptr [EAX]
009351ca : MOV EAX,dword ptr [ESI + 0x114]
009351d0 : TEST EAX,EAX
009351d2 : JZ 0x009351ee
009351d4 : MOV ECX,dword ptr [EAX]
009351d6 : MOV EDX,dword ptr [ECX + 0x4]
009351d9 : PUSH 0xcce59c
009351de : PUSH 0xcce590
009351e3 : PUSH 0xcce594
009351e8 : PUSH EAX
009351e9 : CALL EDX
009351eb : ADD ESP,0x10
009351ee : MOV EAX,dword ptr [ESI + 0x220]
009351f4 : CMP byte ptr [EAX + 0x32],0x0
009351f8 : JNZ 0x00935224
009351fa : CMP dword ptr [EBP + 0xc],0xa
009351fe : JNZ 0x00935224
00935200 : MOV ECX,dword ptr [EBX + 0x38]
00935203 : CMP ECX,dword ptr [EDI]
00935205 : JNZ 0x00935224
00935207 : MOV EDX,dword ptr [0x00da9894]
0093520d : MOV ESI,dword ptr [EDX]
0093520f : CALL 0x00428dc0
00935214 : MOV EDX,dword ptr [EAX]
00935216 : PUSH 0x12c
0093521b : MOV ECX,EAX
0093521d : MOV EAX,dword ptr [EDX + 0x18]
00935220 : PUSH 0x0
00935222 : CALL EAX
00935224 : MOV ECX,dword ptr [EDI]
00935226 : MOV EDX,dword ptr [0x00da9894]
0093522c : MOV dword ptr [EBX + 0x38],ECX
0093522f : MOV ESI,dword ptr [EDX]
00935231 : MOV EAX,dword ptr [ESI + 0x114]
00935237 : TEST EAX,EAX
00935239 : JZ 0x00935255
0093523b : MOV ECX,dword ptr [EAX]
0093523d : MOV EDX,dword ptr [ECX + 0x4]
00935240 : PUSH 0xcce59c
00935245 : PUSH 0xcce590
0093524a : PUSH 0xcce594
0093524f : PUSH EAX
00935250 : CALL EDX
00935252 : ADD ESP,0x10
00935255 : MOV EAX,dword ptr [ESI + 0x220]
0093525b : CMP byte ptr [EAX + 0x32],0x0
0093525f : JZ 0x00935357
00935265 : MOV ECX,dword ptr [0x00da9894]
0093526b : MOV ESI,dword ptr [ECX]
0093526d : MOV EAX,dword ptr [ESI + 0x114]
00935273 : TEST EAX,EAX
00935275 : JZ 0x00935291
00935277 : MOV EDX,dword ptr [EAX]
00935279 : PUSH 0xcce59c
0093527e : PUSH 0xcce590
00935283 : PUSH 0xcce594
00935288 : PUSH EAX
00935289 : MOV EAX,dword ptr [EDX + 0x4]
0093528c : CALL EAX
0093528e : ADD ESP,0x10
00935291 : MOV ECX,dword ptr [ESI + 0x220]
00935297 : MOV EDX,dword ptr [ECX]
00935299 : MOV EAX,dword ptr [EDX + 0x10]
0093529c : CALL EAX
0093529e : MOV ECX,dword ptr [0x00da9894]
009352a4 : MOV ESI,dword ptr [ECX]
009352a6 : MOV EAX,dword ptr [ESI + 0x114]
009352ac : TEST EAX,EAX
009352ae : JZ 0x009352ca
009352b0 : MOV EDX,dword ptr [EAX]
009352b2 : PUSH 0xcce59c
009352b7 : PUSH 0xcce590
009352bc : PUSH 0xcce594
009352c1 : PUSH EAX
009352c2 : MOV EAX,dword ptr [EDX + 0x4]
009352c5 : CALL EAX
009352c7 : ADD ESP,0x10
009352ca : MOV ECX,dword ptr [ESI + 0x220]
009352d0 : MOV EDX,dword ptr [ECX]
009352d2 : MOV EAX,dword ptr [EDI]
009352d4 : MOV EDX,dword ptr [EDX + 0xb4]
009352da : PUSH EAX
009352db : CALL EDX
009352dd : MOV EAX,[0x00da9894]
009352e2 : MOV ESI,dword ptr [EAX]
009352e4 : MOV EAX,dword ptr [ESI + 0x114]
009352ea : TEST EAX,EAX
009352ec : JZ 0x00935308
009352ee : MOV ECX,dword ptr [EAX]
009352f0 : MOV EDX,dword ptr [ECX + 0x4]
009352f3 : PUSH 0xcce59c
009352f8 : PUSH 0xcce590
009352fd : PUSH 0xcce594
00935302 : PUSH EAX
00935303 : CALL EDX
00935305 : ADD ESP,0x10
00935308 : MOV ECX,dword ptr [ESI + 0x220]
0093530e : MOV EAX,dword ptr [ECX]
00935310 : MOV EDX,dword ptr [EAX + 0xb8]
00935316 : CALL EDX
00935318 : MOV EAX,dword ptr [EDI + 0x4]
0093531b : CMP byte ptr [EAX + 0x98],0x54
00935322 : MOV CL,0x1
00935324 : JBE 0x00935328
00935326 : XOR CL,CL
00935328 : MOV EDX,dword ptr [0x00da9894]
0093532e : MOV EAX,dword ptr [EDX]
00935330 : TEST EAX,EAX
00935332 : JZ 0x00935357
00935334 : MOV EAX,dword ptr [EAX + 0x114]
0093533a : TEST EAX,EAX
0093533c : JZ 0x00935357
0093533e : MOV EDX,dword ptr [EAX]
00935340 : MOV EDX,dword ptr [EDX + 0x4]
00935343 : MOVZX ECX,CL
00935346 : PUSH ECX
00935347 : PUSH 0xc6eae8
0093534c : PUSH 0xc6eaec
00935351 : PUSH EAX
00935352 : CALL EDX
00935354 : ADD ESP,0x10
00935357 : MOV EAX,[0x00da9894]
0093535c : MOV EAX,dword ptr [EAX]
0093535e : MOV EAX,dword ptr [EAX + 0x12c]
00935364 : TEST EAX,EAX
00935366 : JZ 0x0093536b
00935368 : MOV EAX,dword ptr [EAX + 0x18]
0093536b : PUSH EAX
0093536c : MOV ECX,EDI
0093536e : CALL 0x009847a0
00935373 : MOV ECX,dword ptr [0x00da9894]
00935379 : MOV EAX,dword ptr [ECX]
0093537b : TEST EAX,EAX
0093537d : JZ 0x009353a7
0093537f : MOV EAX,dword ptr [EAX + 0x114]
00935385 : TEST EAX,EAX
00935387 : JZ 0x009353a7
00935389 : MOV ECX,dword ptr [EDI + 0x10c]
0093538f : MOV EDX,dword ptr [EAX]
00935391 : MOV EDX,dword ptr [EDX + 0x4]
00935394 : PUSH 0x1
00935396 : PUSH ECX
00935397 : PUSH 0xc6eb04
0093539c : PUSH 0xc6eb0c
009353a1 : PUSH EAX
009353a2 : CALL EDX
009353a4 : ADD ESP,0x14
009353a7 : MOV EAX,[0x00da9894]
009353ac : MOV EAX,dword ptr [EAX]
009353ae : TEST EAX,EAX
009353b0 : JZ 0x009353e0
009353b2 : MOV EAX,dword ptr [EAX + 0x114]
009353b8 : TEST EAX,EAX
009353ba : JZ 0x009353e0
009353bc : CMP dword ptr [EDI + 0x38],0x8
009353c0 : JC 0x009353c7
009353c2 : MOV ECX,dword ptr [EDI + 0x24]
009353c5 : JMP 0x009353ca
009353c7 : LEA ECX,[EDI + 0x24]
009353ca : MOV EDX,dword ptr [EAX]
009353cc : PUSH ECX
009353cd : PUSH 0xc6eb20
009353d2 : PUSH 0xc6eb24
009353d7 : PUSH EAX
009353d8 : MOV EAX,dword ptr [EDX + 0x4]
009353db : CALL EAX
009353dd : ADD ESP,0x10
009353e0 : MOV ECX,EDI
009353e2 : CALL 0x00934ef0
009353e7 : MOV BL,AL
009353e9 : MOV EAX,[0x00da93ec]
009353ee : MOV byte ptr [EBP + 0x8],BL
009353f1 : MOV ECX,dword ptr [EBP + 0x8]
009353f4 : PUSH ECX
009353f5 : CALL 0x00a1adc0
009353fa : MOV EDI,dword ptr [0x00da93ec]
00935400 : MOV byte ptr [EDI + 0x2ac],BL
00935406 : TEST BL,BL
00935408 : JNZ 0x0093545b
0093540a : MOV EAX,dword ptr [EDI + 0x1b0]
00935410 : MOVSS XMM0,dword ptr [0x00cdf0d0]
00935418 : MOVSS dword ptr [EAX + 0x68],XMM0
0093541d : MOVSS XMM0,dword ptr [0x00cdf4bc]
00935425 : MOVSS dword ptr [EAX + 0x6c],XMM0
0093542a : MOVSS XMM0,dword ptr [0x00cdf26c]
00935432 : MOVSS dword ptr [EAX + 0x70],XMM0
00935437 : MOV ECX,dword ptr [EAX + 0x2c]
0093543a : MOV byte ptr [EAX + 0x5d],0x1
0093543e : MOV byte ptr [EAX + 0x134],0x1
00935445 : MOV byte ptr [EAX + 0x5c],0x1
00935449 : TEST ECX,ECX
0093544b : JZ 0x0093545b
0093544d : MOV EDX,dword ptr [ECX]
0093544f : PUSH EAX
00935450 : MOV EAX,dword ptr [EDX + 0x60]
00935453 : CALL EAX
00935455 : MOV EDI,dword ptr [0x00da93ec]
0093545b : MOV byte ptr [EDI + 0x2ae],0x1
00935462 : CALL 0x00a1ae20
00935467 : POP EDI
00935468 : POP ESI
00935469 : POP EBX
0093546a : POP EBP
0093546b : RET 0x8
