PROGRAM  : Maestia.exe
FUNCTION : FUN_004808f0
ENTRY    : 004808f0
BODY     : [[004808f0, 00480994]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_004808f0(void)

{
  int iVar1;
  undefined4 uVar2;
  int in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b72d50;
  local_10 = ExceptionList;
  if (*(char *)(in_ECX + 0x11) == '\0') {
    return 0;
  }
  ExceptionList = &local_10;
  FUN_0047f350(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0x184));
  local_8 = 0;
  iVar1 = FUN_00515840(0x5c,0);
  local_8 = CONCAT31(local_8._1_3_,1);
  if (iVar1 == 0) {
    uVar2 = 0;
  }
  else {
    uVar2 = FUN_0047f230(iVar1);
  }
  local_8 = 0xffffffff;
  LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0x184));
  ExceptionList = local_10;
  return uVar2;
}



============================================================
DISASSEMBLY
============================================================
004808f0 : PUSH EBP
004808f1 : MOV EBP,ESP
004808f3 : PUSH -0x1
004808f5 : PUSH 0xb72d50
004808fa : MOV EAX,FS:[0x0]
00480900 : PUSH EAX
00480901 : SUB ESP,0x8
00480904 : PUSH ESI
00480905 : PUSH EDI
00480906 : MOV EAX,[0x00d66fa0]
0048090b : XOR EAX,EBP
0048090d : PUSH EAX
0048090e : LEA EAX,[EBP + -0xc]
00480911 : MOV FS:[0x0],EAX
00480917 : MOV EDI,ECX
00480919 : CMP byte ptr [EDI + 0x11],0x0
0048091d : JNZ 0x00480932
0048091f : XOR EAX,EAX
00480921 : MOV ECX,dword ptr [EBP + -0xc]
00480924 : MOV dword ptr FS:[0x0],ECX
0048092b : POP ECX
0048092c : POP EDI
0048092d : POP ESI
0048092e : MOV ESP,EBP
00480930 : POP EBP
00480931 : RET
00480932 : CALL 0x0047f350
00480937 : LEA ESI,[EDI + 0x184]
0048093d : PUSH ESI
0048093e : MOV dword ptr [EBP + -0x10],ESI
00480941 : CALL dword ptr [0x00b85118]
00480947 : MOV dword ptr [EBP + -0x4],0x0
0048094e : MOV ECX,dword ptr [0x00d73250]
00480954 : PUSH 0x0
00480956 : PUSH 0x5c
00480958 : CALL 0x00515840
0048095d : MOV dword ptr [EBP + -0x14],EAX
00480960 : MOV byte ptr [EBP + -0x4],0x1
00480964 : TEST EAX,EAX
00480966 : JZ 0x00480972
00480968 : PUSH EAX
00480969 : CALL 0x0047f230
0048096e : MOV EDI,EAX
00480970 : JMP 0x00480974
00480972 : XOR EDI,EDI
00480974 : MOV dword ptr [EBP + -0x4],0xffffffff
0048097b : PUSH ESI
0048097c : CALL dword ptr [0x00b8511c]
00480982 : MOV EAX,EDI
00480984 : MOV ECX,dword ptr [EBP + -0xc]
00480987 : MOV dword ptr FS:[0x0],ECX
0048098e : POP ECX
0048098f : POP EDI
00480990 : POP ESI
00480991 : MOV ESP,EBP
00480993 : POP EBP
00480994 : RET
