PROGRAM  : Maestia.exe
FUNCTION : FUN_00962690
ENTRY    : 00962690
BODY     : [[00962690, 00962982]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00962690(void)

{
  char cVar1;
  uint in_EAX;
  int *piVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  
  iVar5 = 0;
  cVar1 = (char)(in_EAX >> 0x18);
  if (cVar1 != '\x06') {
    FUN_00483f90(cVar1);
    return 0;
  }
  uVar4 = in_EAX >> 0x10 & 0xff;
  switch(uVar4) {
  case 0xb:
  case 0xc:
    iVar5 = 100;
    iVar3 = FUN_004049b0();
    switch(*(undefined1 *)(iVar3 + 0x288)) {
    case 1:
      return 0x6e;
    case 2:
      return 0x78;
    case 5:
      return 0x8c;
    case 6:
      return 0x82;
    case 7:
      return 0xa0;
    case 8:
      return 0x96;
    }
    break;
  default:
    FUN_00483f90(uVar4);
    break;
  case 0x1e:
    iVar5 = 200;
    iVar3 = FUN_004049b0();
    if (iVar3 != 0) {
      uVar4 = *(uint *)(iVar3 + 0x18c);
      if ((uVar4 & 4) != 0) {
        return 0xd2;
      }
      if ((uVar4 & 0x10) != 0) {
        return 0xdc;
      }
      if ((uVar4 & 0x200) != 0) {
        return 0xe6;
      }
      if ((uVar4 & 0x100) != 0) {
        return 0xf0;
      }
      if ((uVar4 & 0x20) != 0) {
        return 0xfa;
      }
      if ((char)uVar4 < '\0') {
        return 0x104;
      }
      if ((uVar4 & 2) != 0) {
        return 0x10e;
      }
      if ((uVar4 & 0x800) != 0) {
        return 0x118;
      }
    }
    break;
  case 0x32:
    iVar5 = 500;
    iVar3 = FUN_004049b0();
    if (iVar3 != 0) {
      if ((*(uint *)(iVar3 + 0x18c) & 0x40) != 0) {
        return 0x1fe;
      }
      if ((*(uint *)(iVar3 + 0x18c) & 8) != 0) {
        return 0x208;
      }
    }
    break;
  case 0x3e:
    return 0x44c;
  case 0x46:
    FUN_00483f90();
    return 0;
  case 0x49:
    return 0x4b0;
  case 0x4c:
    return 0x514;
  case 0x50:
    return 0x6a4;
  case 0x56:
    iVar5 = FUN_004049b0();
    if (iVar5 == 0) {
      FUN_008018d0(L"%d : [%s] Failed : Find Proto - %u",0x8a9,L"AvaGuiNpcShop::GetItemTypeIndex");
      return 0;
    }
    return (*(byte *)(iVar5 + 0x65e) + 0xb4) * 10;
  case 100:
    return 0x578;
  case 0x6f:
    return 0x5dc;
  case 0x70:
    return 0x640;
  case 0x71:
    iVar5 = FUN_004049b0();
    if ((iVar5 != 0) && (iVar5 = FUN_00703c00(0x700), iVar5 != 0)) {
      return (-(uint)((*(uint *)(iVar5 + 0x40) & 0x200) != 0) & 100) + 0x834;
    }
    return 0;
  case 0x74:
    iVar3 = FUN_004049b0();
    if (((iVar3 != 0) && ((*(uint *)(iVar3 + 0x48) & 0x404) != 0)) &&
       (*(int *)(iVar3 + 0x54) == 30000)) {
      iVar5 = 0x640;
    }
    iVar3 = FUN_004049b0();
    if (iVar3 == 0) {
      FUN_008018d0(L"SfItemNonEquipExData GetData proto : %d ");
      return iVar5;
    }
    if (*(short *)(iVar3 + 0x180) == 0x21) {
      return *(ushort *)(iVar3 + 0x182) + 0x76c;
    }
    break;
  case 0x8c:
    piVar2 = (int *)FUN_004049b0();
    iVar5 = (**(code **)(*piVar2 + 0x44))();
    return (-(uint)(iVar5 != 0) & 0xfffffff6) + 0x2d0;
  }
  return iVar5;
}



============================================================
DISASSEMBLY
============================================================
00962690 : PUSH ESI
00962691 : MOV ESI,EAX
00962693 : PUSH EDI
00962694 : SHR EAX,0x18
00962697 : XOR EDI,EDI
00962699 : CMP AL,0x6
0096269b : JZ 0x009626ae
0096269d : MOVZX EAX,AL
009626a0 : PUSH EAX
009626a1 : CALL 0x00483f90
009626a6 : ADD ESP,0x4
009626a9 : MOV EAX,EDI
009626ab : POP EDI
009626ac : POP ESI
009626ad : RET
009626ae : MOV EAX,ESI
009626b0 : SHR EAX,0x10
009626b3 : MOVZX ECX,AL
009626b6 : LEA EAX,[ECX + -0xb]
009626b9 : CMP EAX,0x81
009626be : JA 0x00962975
009626c4 : MOVZX EDX,byte ptr [EAX + 0x9629c4]
009626cb : JMP dword ptr [EDX*0x4 + 0x962984]
009626d2 : PUSH ESI
009626d3 : MOV EDI,0x64
009626d8 : CALL 0x004049b0
009626dd : MOVZX EAX,byte ptr [EAX + 0x288]
009626e4 : DEC EAX
009626e5 : ADD ESP,0x4
009626e8 : CMP EAX,0x7
009626eb : JA 0x0096297e
009626f1 : JMP dword ptr [EAX*0x4 + 0x962a48]
009626f8 : MOV EDI,0x6e
009626fd : MOV EAX,EDI
009626ff : POP EDI
00962700 : POP ESI
00962701 : RET
00962702 : MOV EDI,0x78
00962707 : MOV EAX,EDI
00962709 : POP EDI
0096270a : POP ESI
0096270b : RET
0096270c : MOV EDI,0x82
00962711 : MOV EAX,EDI
00962713 : POP EDI
00962714 : POP ESI
00962715 : RET
00962716 : MOV EDI,0x8c
0096271b : MOV EAX,EDI
0096271d : POP EDI
0096271e : POP ESI
0096271f : RET
00962720 : MOV EDI,0x96
00962725 : MOV EAX,EDI
00962727 : POP EDI
00962728 : POP ESI
00962729 : RET
0096272a : MOV EDI,0xa0
0096272f : MOV EAX,EDI
00962731 : POP EDI
00962732 : POP ESI
00962733 : RET
00962734 : PUSH ESI
00962735 : MOV EDI,0xc8
0096273a : CALL 0x004049b0
0096273f : ADD ESP,0x4
00962742 : TEST EAX,EAX
00962744 : JZ 0x0096297e
0096274a : MOV EAX,dword ptr [EAX + 0x18c]
00962750 : TEST AL,0x4
00962752 : JZ 0x0096275e
00962754 : MOV EDI,0xd2
00962759 : MOV EAX,EDI
0096275b : POP EDI
0096275c : POP ESI
0096275d : RET
0096275e : TEST AL,0x10
00962760 : JZ 0x0096276c
00962762 : MOV EDI,0xdc
00962767 : MOV EAX,EDI
00962769 : POP EDI
0096276a : POP ESI
0096276b : RET
0096276c : TEST EAX,0x200
00962771 : JZ 0x0096277d
00962773 : MOV EDI,0xe6
00962778 : MOV EAX,EDI
0096277a : POP EDI
0096277b : POP ESI
0096277c : RET
0096277d : TEST EAX,0x100
00962782 : JZ 0x0096278e
00962784 : MOV EDI,0xf0
00962789 : MOV EAX,EDI
0096278b : POP EDI
0096278c : POP ESI
0096278d : RET
0096278e : TEST AL,0x20
00962790 : JZ 0x0096279c
00962792 : MOV EDI,0xfa
00962797 : MOV EAX,EDI
00962799 : POP EDI
0096279a : POP ESI
0096279b : RET
0096279c : TEST AL,AL
0096279e : JNS 0x009627aa
009627a0 : MOV EDI,0x104
009627a5 : MOV EAX,EDI
009627a7 : POP EDI
009627a8 : POP ESI
009627a9 : RET
009627aa : TEST AL,0x2
009627ac : JZ 0x009627b8
009627ae : MOV EDI,0x10e
009627b3 : MOV EAX,EDI
009627b5 : POP EDI
009627b6 : POP ESI
009627b7 : RET
009627b8 : TEST EAX,0x800
009627bd : JZ 0x0096297e
009627c3 : MOV EDI,0x118
009627c8 : MOV EAX,EDI
009627ca : POP EDI
009627cb : POP ESI
009627cc : RET
009627cd : PUSH ESI
009627ce : MOV EDI,0x1f4
009627d3 : CALL 0x004049b0
009627d8 : ADD ESP,0x4
009627db : TEST EAX,EAX
009627dd : JZ 0x0096297e
009627e3 : MOV EAX,dword ptr [EAX + 0x18c]
009627e9 : TEST AL,0x40
009627eb : JZ 0x009627f7
009627ed : MOV EDI,0x1fe
009627f2 : MOV EAX,EDI
009627f4 : POP EDI
009627f5 : POP ESI
009627f6 : RET
009627f7 : TEST AL,0x8
009627f9 : JZ 0x0096297e
009627ff : MOV EDI,0x208
00962804 : MOV EAX,EDI
00962806 : POP EDI
00962807 : POP ESI
00962808 : RET
00962809 : PUSH ESI
0096280a : CALL 0x004049b0
0096280f : MOV EDX,dword ptr [EAX]
00962811 : MOV ECX,EAX
00962813 : MOV EAX,dword ptr [EDX + 0x44]
00962816 : ADD ESP,0x4
00962819 : CALL EAX
0096281b : MOV EDI,EAX
0096281d : NEG EDI
0096281f : SBB EDI,EDI
00962821 : AND EDI,0xfffffff6
00962824 : ADD EDI,0x2d0
0096282a : MOV EAX,EDI
0096282c : POP EDI
0096282d : POP ESI
0096282e : RET
0096282f : MOV EDI,0x44c
00962834 : MOV EAX,EDI
00962836 : POP EDI
00962837 : POP ESI
00962838 : RET
00962839 : MOV EDI,0x4b0
0096283e : MOV EAX,EDI
00962840 : POP EDI
00962841 : POP ESI
00962842 : RET
00962843 : MOV EDI,0x514
00962848 : MOV EAX,EDI
0096284a : POP EDI
0096284b : POP ESI
0096284c : RET
0096284d : MOV EDI,0x578
00962852 : MOV EAX,EDI
00962854 : POP EDI
00962855 : POP ESI
00962856 : RET
00962857 : MOV EDI,0x5dc
0096285c : MOV EAX,EDI
0096285e : POP EDI
0096285f : POP ESI
00962860 : RET
00962861 : PUSH ESI
00962862 : CALL 0x004049b0
00962867 : ADD ESP,0x4
0096286a : TEST EAX,EAX
0096286c : JZ 0x0096288b
0096286e : MOV ECX,dword ptr [EAX + 0x48]
00962871 : AND ECX,0x404
00962877 : XOR EDX,EDX
00962879 : OR ECX,EDX
0096287b : JZ 0x0096288b
0096287d : CMP dword ptr [EAX + 0x54],0x7530
00962884 : JNZ 0x0096288b
00962886 : MOV EDI,0x640
0096288b : PUSH ESI
0096288c : CALL 0x004049b0
00962891 : ADD ESP,0x4
00962894 : TEST EAX,EAX
00962896 : JZ 0x009628b8
00962898 : CMP word ptr [EAX + 0x180],0x21
009628a0 : JNZ 0x0096297e
009628a6 : MOVZX EDI,word ptr [EAX + 0x182]
009628ad : ADD EDI,0x76c
009628b3 : MOV EAX,EDI
009628b5 : POP EDI
009628b6 : POP ESI
009628b7 : RET
009628b8 : PUSH ESI
009628b9 : MOV ESI,dword ptr [0x00da98e8]
009628bf : PUSH 0xc7ac50
009628c4 : CALL 0x008018d0
009628c9 : ADD ESP,0x8
009628cc : MOV EAX,EDI
009628ce : POP EDI
009628cf : POP ESI
009628d0 : RET
009628d1 : MOV EDI,0x640
009628d6 : MOV EAX,EDI
009628d8 : POP EDI
009628d9 : POP ESI
009628da : RET
009628db : CALL 0x00483f90
009628e0 : MOV EAX,EDI
009628e2 : POP EDI
009628e3 : POP ESI
009628e4 : RET
009628e5 : MOV EDI,0x6a4
009628ea : MOV EAX,EDI
009628ec : POP EDI
009628ed : POP ESI
009628ee : RET
009628ef : PUSH ESI
009628f0 : CALL 0x004049b0
009628f5 : ADD ESP,0x4
009628f8 : TEST EAX,EAX
009628fa : JNZ 0x0096291f
009628fc : PUSH ESI
009628fd : MOV ESI,dword ptr [0x00da98e8]
00962903 : PUSH 0xc7aca8
00962908 : PUSH 0x8a9
0096290d : PUSH 0xc7ace8
00962912 : CALL 0x008018d0
00962917 : ADD ESP,0x10
0096291a : POP EDI
0096291b : XOR EAX,EAX
0096291d : POP ESI
0096291e : RET
0096291f : MOVZX EAX,byte ptr [EAX + 0x65e]
00962926 : ADD EAX,0xb4
0096292b : LEA EDI,[EAX + EAX*0x4]
0096292e : ADD EDI,EDI
00962930 : MOV EAX,EDI
00962932 : POP EDI
00962933 : POP ESI
00962934 : RET
00962935 : PUSH ESI
00962936 : CALL 0x004049b0
0096293b : ADD ESP,0x4
0096293e : TEST EAX,EAX
00962940 : JZ 0x0096291a
00962942 : MOV DI,word ptr [EAX + 0x17a]
00962949 : PUSH 0x700
0096294e : CALL 0x00703c00
00962953 : ADD ESP,0x4
00962956 : TEST EAX,EAX
00962958 : JZ 0x0096291a
0096295a : MOV EDI,dword ptr [EAX + 0x40]
0096295d : AND EDI,0x200
00962963 : NEG EDI
00962965 : SBB EDI,EDI
00962967 : AND EDI,0x64
0096296a : ADD EDI,0x834
00962970 : MOV EAX,EDI
00962972 : POP EDI
00962973 : POP ESI
00962974 : RET
00962975 : PUSH ECX
00962976 : CALL 0x00483f90
0096297b : ADD ESP,0x4
0096297e : MOV EAX,EDI
00962980 : POP EDI
00962981 : POP ESI
00962982 : RET
