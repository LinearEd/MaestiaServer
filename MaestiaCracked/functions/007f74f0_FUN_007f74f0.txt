PROGRAM  : Maestia.exe
FUNCTION : FUN_007f74f0
ENTRY    : 007f74f0
BODY     : [[007f74f0, 007f7619]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_007f74f0(int param_1,undefined4 param_2,WPARAM param_3)

{
  int iVar1;
  uint uVar2;
  BOOL BVar3;
  LPARAM in_ECX;
  UINT in_EDX;
  int *piVar4;
  int local_50;
  LPCRITICAL_SECTION local_4c;
  char *local_48;
  undefined4 local_44;
  int local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined1 local_34;
  undefined4 local_30;
  WPARAM local_28;
  undefined4 local_20;
  undefined4 local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b0f408;
  local_14 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xffffffa0;
  ExceptionList = &local_14;
  if (((in_EDX != 0x100) && (in_EDX != 0x101)) &&
     (BVar3 = ImmIsUIMessageW((HWND)0x0,in_EDX,param_3,in_ECX), BVar3 == 0)) {
    ExceptionList = local_14;
    return 0;
  }
  local_34 = 0;
  local_38 = 0xe;
  local_30 = 1;
  local_28 = param_3;
  local_20 = param_2;
  local_1c = 0;
  piVar4 = (int *)(param_1 + 0xc);
  local_50 = 0x20;
  do {
    iVar1 = *piVar4;
    if (((iVar1 != 0) && (*(int *)(iVar1 + 4) == 2)) &&
       ((0 < *(int *)(iVar1 + 0x60) && (*(int *)(iVar1 + 0x54) != 0)))) {
      local_4c = (LPCRITICAL_SECTION)(iVar1 + 0xc);
      local_40 = 0;
      local_48 = ".\\World\\AvaWorld.cpp";
      local_44 = 0xf50;
      local_3c = 1;
      FUN_006ef1a0(&local_4c);
      local_c = 0;
      (**(code **)(**(int **)(iVar1 + 0x54) + 0xa4))(&local_38,uVar2);
      local_c = 0xffffffff;
      if (local_40 != 0) {
        LeaveCriticalSection(local_4c);
      }
    }
    piVar4 = piVar4 + 1;
    local_50 = local_50 + -1;
  } while (local_50 != 0);
  ExceptionList = local_14;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
007f74f0 : PUSH EBP
007f74f1 : MOV EBP,ESP
007f74f3 : AND ESP,0xfffffff8
007f74f6 : PUSH -0x1
007f74f8 : PUSH 0xb0f408
007f74fd : MOV EAX,FS:[0x0]
007f7503 : PUSH EAX
007f7504 : SUB ESP,0x40
007f7507 : PUSH EBX
007f7508 : PUSH ESI
007f7509 : PUSH EDI
007f750a : MOV EAX,[0x00d66fa0]
007f750f : XOR EAX,ESP
007f7511 : PUSH EAX
007f7512 : LEA EAX,[ESP + 0x50]
007f7516 : MOV FS:[0x0],EAX
007f751c : MOV EDI,ECX
007f751e : MOV ESI,EDX
007f7520 : XOR EBX,EBX
007f7522 : CMP ESI,0x100
007f7528 : JZ 0x007f7546
007f752a : CMP ESI,0x101
007f7530 : JZ 0x007f7546
007f7532 : MOV EAX,dword ptr [EBP + 0x10]
007f7535 : PUSH EDI
007f7536 : PUSH EAX
007f7537 : PUSH ESI
007f7538 : PUSH EBX
007f7539 : CALL 0x00685b5a
007f753e : TEST EAX,EAX
007f7540 : JZ 0x007f7603
007f7546 : MOV ECX,dword ptr [EBP + 0x10]
007f7549 : MOV EDX,dword ptr [EBP + 0xc]
007f754c : MOV dword ptr [ESP + 0x40],EDI
007f7550 : MOV EDI,dword ptr [EBP + 0x8]
007f7553 : MOV EAX,0x1
007f7558 : MOV byte ptr [ESP + 0x30],BL
007f755c : MOV dword ptr [ESP + 0x2c],0xe
007f7564 : MOV dword ptr [ESP + 0x34],EAX
007f7568 : MOV dword ptr [ESP + 0x38],ESI
007f756c : MOV dword ptr [ESP + 0x3c],ECX
007f7570 : MOV dword ptr [ESP + 0x44],EDX
007f7574 : MOV dword ptr [ESP + 0x48],EBX
007f7578 : ADD EDI,0xc
007f757b : MOV dword ptr [ESP + 0x14],0x20
007f7583 : MOV ESI,dword ptr [EDI]
007f7585 : CMP ESI,EBX
007f7587 : JZ 0x007f75f5
007f7589 : CMP dword ptr [ESI + 0x4],0x2
007f758d : JNZ 0x007f75f5
007f758f : CMP dword ptr [ESI + 0x60],EBX
007f7592 : JLE 0x007f75f5
007f7594 : CMP dword ptr [ESI + 0x54],EBX
007f7597 : JZ 0x007f75f5
007f7599 : LEA EDX,[ESP + 0x18]
007f759d : LEA ECX,[ESI + 0xc]
007f75a0 : PUSH EDX
007f75a1 : MOV dword ptr [ESP + 0x28],EBX
007f75a5 : MOV dword ptr [ESP + 0x1c],ECX
007f75a9 : MOV dword ptr [ESP + 0x20],0xc25a94
007f75b1 : MOV dword ptr [ESP + 0x24],0xf50
007f75b9 : MOV dword ptr [ESP + 0x2c],EAX
007f75bd : CALL 0x006ef1a0
007f75c2 : MOV dword ptr [ESP + 0x58],EBX
007f75c6 : MOV ECX,dword ptr [ESI + 0x54]
007f75c9 : MOV EAX,dword ptr [ECX]
007f75cb : MOV EAX,dword ptr [EAX + 0xa4]
007f75d1 : LEA EDX,[ESP + 0x2c]
007f75d5 : PUSH EDX
007f75d6 : CALL EAX
007f75d8 : MOV dword ptr [ESP + 0x58],0xffffffff
007f75e0 : CMP dword ptr [ESP + 0x24],EBX
007f75e4 : JZ 0x007f75f5
007f75e6 : MOV ECX,dword ptr [ESP + 0x18]
007f75ea : PUSH ECX
007f75eb : CALL dword ptr [0x00b8511c]
007f75f1 : MOV dword ptr [ESP + 0x24],EBX
007f75f5 : MOV EAX,0x1
007f75fa : ADD EDI,0x4
007f75fd : SUB dword ptr [ESP + 0x14],EAX
007f7601 : JNZ 0x007f7583
007f7603 : XOR EAX,EAX
007f7605 : MOV ECX,dword ptr [ESP + 0x50]
007f7609 : MOV dword ptr FS:[0x0],ECX
007f7610 : POP ECX
007f7611 : POP EDI
007f7612 : POP ESI
007f7613 : POP EBX
007f7614 : MOV ESP,EBP
007f7616 : POP EBP
007f7617 : RET 0xc
