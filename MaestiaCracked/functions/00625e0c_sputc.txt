PROGRAM  : Maestia.exe
FUNCTION : sputc
ENTRY    : 00625e0c
BODY     : [[00625e0c, 00625e4b]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Multiple Matches With Same Base Name
    public: unsigned short __thiscall std::basic_streambuf<unsigned short,struct
   std::char_traits<unsigned short> >::sputc(unsigned short)
    public: unsigned short __thiscall std::basic_streambuf<wchar_t,struct std::char_traits<wchar_t>
   >::sputc(wchar_t)
   
   Library: Visual Studio 2008 Release */

uint sputc(uint param_1)

{
  undefined2 *puVar1;
  int iVar2;
  int *in_ECX;
  
  if (*(int *)in_ECX[9] == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = *(int *)in_ECX[0xd];
  }
  if (iVar2 < 1) {
    param_1 = (**(code **)(*in_ECX + 4))(param_1);
  }
  else {
    *(int *)in_ECX[0xd] = *(int *)in_ECX[0xd] + -1;
    puVar1 = *(undefined2 **)in_ECX[9];
    *(undefined2 **)in_ECX[9] = puVar1 + 1;
    *puVar1 = (short)param_1;
  }
  return param_1 & 0xffff;
}



============================================================
DISASSEMBLY
============================================================
00625e0c : MOV EDI,EDI
00625e0e : PUSH EBP
00625e0f : MOV EBP,ESP
00625e11 : MOV EAX,dword ptr [ECX + 0x24]
00625e14 : CMP dword ptr [EAX],0x0
00625e17 : JZ 0x00625e20
00625e19 : MOV EAX,dword ptr [ECX + 0x34]
00625e1c : MOV EAX,dword ptr [EAX]
00625e1e : JMP 0x00625e22
00625e20 : XOR EAX,EAX
00625e22 : TEST EAX,EAX
00625e24 : JLE 0x00625e3d
00625e26 : MOV EAX,dword ptr [ECX + 0x34]
00625e29 : DEC dword ptr [EAX]
00625e2b : MOV EAX,dword ptr [ECX + 0x24]
00625e2e : MOV ECX,dword ptr [EAX]
00625e30 : LEA EDX,[ECX + 0x2]
00625e33 : MOV dword ptr [EAX],EDX
00625e35 : MOV EAX,dword ptr [EBP + 0x8]
00625e38 : MOV word ptr [ECX],AX
00625e3b : JMP 0x00625e45
00625e3d : PUSH dword ptr [EBP + 0x8]
00625e40 : MOV EAX,dword ptr [ECX]
00625e42 : CALL dword ptr [EAX + 0x4]
00625e45 : MOVZX EAX,AX
00625e48 : POP EBP
00625e49 : RET 0x4
