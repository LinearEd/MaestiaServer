PROGRAM  : Maestia.exe
FUNCTION : FUN_00805ae0
ENTRY    : 00805ae0
BODY     : [[00805ae0, 00805c7f]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Function: __alloca_probe replaced with injection: alloca_probe */

undefined4 FUN_00805ae0(int *param_1,int param_2,undefined4 param_3)

{
  char cVar1;
  int in_ECX;
  int in_EDX;
  char *pcVar2;
  undefined1 local_3680 [3528];
  undefined1 local_28b8 [3528];
  undefined1 local_1af0 [3368];
  undefined1 local_dc8 [3524];
  undefined4 uStack_4;
  
  uStack_4 = 0x805aea;
  if (param_2 == 0) {
    pcVar2 = "CStParser::Parse, pMemBlock parameter was NULL";
  }
  else {
    if (in_ECX == 0) {
      FUN_00807d70("CStParser::Parse, buffer passed in is too short (%d bytes)");
      return 0;
    }
    if (in_EDX != 0) {
      *param_1 = param_2;
      param_1[1] = in_ECX;
      param_1[3] = in_EDX;
      param_1[2] = 0;
      FUN_00457480(local_dc8);
      FUN_00457480(local_28b8);
      FUN_00457480(local_3680);
      FUN_004574e0(local_1af0);
      cVar1 = FUN_00805950();
      if (cVar1 == '\0') {
        return 0;
      }
      cVar1 = FUN_008058c0();
      if (cVar1 == '\0') {
        return 0;
      }
      cVar1 = FUN_00804e80(param_1);
      if (cVar1 == '\0') {
        return 0;
      }
      cVar1 = FUN_00805a50(param_3);
      if (cVar1 == '\0') {
        return 0;
      }
      cVar1 = FUN_00805710(param_3);
      if (cVar1 == '\0') {
        return 0;
      }
      cVar1 = FUN_00804d90(param_3);
      if (cVar1 == '\0') {
        return 0;
      }
      cVar1 = FUN_00805110(param_1);
      if (cVar1 == '\0') {
        return 0;
      }
      cVar1 = FUN_00804170(local_28b8,local_3680,local_1af0);
      if (cVar1 == '\0') {
        return 0;
      }
      cVar1 = FUN_00804b20();
      if (cVar1 == '\0') {
        return 0;
      }
      cVar1 = FUN_00804960();
      if (cVar1 == '\0') {
        return 0;
      }
      cVar1 = FUN_00805020();
      if (cVar1 == '\0') {
        return 0;
      }
      FUN_00804330(local_dc8,local_28b8,local_3680,local_1af0);
      return 1;
    }
    pcVar2 = "CStParser::Parse, pGeometry pointer was NULL";
  }
  FUN_00807d70(pcVar2);
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00805ae0 : MOV EAX,0x3680
00805ae5 : CALL 0x0063b780
00805aea : MOV EAX,dword ptr [ESP + 0x3688]
00805af1 : PUSH EBX
00805af2 : PUSH EBP
00805af3 : MOV EBP,dword ptr [ESP + 0x3694]
00805afa : PUSH ESI
00805afb : MOV ESI,dword ptr [ESP + 0x3690]
00805b02 : XOR EBX,EBX
00805b04 : PUSH EDI
00805b05 : MOV EDI,EDX
00805b07 : CMP EAX,EBX
00805b09 : JZ 0x00805c64
00805b0f : CMP ECX,EBX
00805b11 : JBE 0x00805c47
00805b17 : CMP EDI,EBX
00805b19 : JZ 0x00805c40
00805b1f : MOV dword ptr [ESI],EAX
00805b21 : LEA EAX,[ESP + 0x28c8]
00805b28 : PUSH EAX
00805b29 : MOV dword ptr [ESI + 0x4],ECX
00805b2c : MOV dword ptr [ESI + 0xc],EDI
00805b2f : MOV dword ptr [ESI + 0x8],EBX
00805b32 : CALL 0x00457480
00805b37 : LEA ECX,[ESP + 0xdd8]
00805b3e : PUSH ECX
00805b3f : CALL 0x00457480
00805b44 : LEA EDX,[ESP + 0x10]
00805b48 : PUSH EDX
00805b49 : CALL 0x00457480
00805b4e : LEA EAX,[ESP + 0x1ba0]
00805b55 : PUSH EAX
00805b56 : CALL 0x004574e0
00805b5b : MOV ECX,ESI
00805b5d : CALL 0x00805950
00805b62 : TEST AL,AL
00805b64 : JZ 0x00805c71
00805b6a : CALL 0x008058c0
00805b6f : TEST AL,AL
00805b71 : JZ 0x00805c71
00805b77 : PUSH ESI
00805b78 : MOV EDI,EBP
00805b7a : CALL 0x00804e80
00805b7f : TEST AL,AL
00805b81 : JZ 0x00805c71
00805b87 : PUSH EBP
00805b88 : CALL 0x00805a50
00805b8d : TEST AL,AL
00805b8f : JZ 0x00805c71
00805b95 : PUSH EBP
00805b96 : MOV EAX,ESI
00805b98 : CALL 0x00805710
00805b9d : TEST AL,AL
00805b9f : JZ 0x00805c71
00805ba5 : PUSH EBP
00805ba6 : MOV EDX,ESI
00805ba8 : CALL 0x00804d90
00805bad : TEST AL,AL
00805baf : JZ 0x00805c71
00805bb5 : PUSH ESI
00805bb6 : CALL 0x00805110
00805bbb : TEST AL,AL
00805bbd : JZ 0x00805c71
00805bc3 : LEA ECX,[ESP + 0x1ba0]
00805bca : PUSH ECX
00805bcb : LEA EDX,[ESP + 0x14]
00805bcf : PUSH EDX
00805bd0 : LEA EAX,[ESP + 0xde0]
00805bd7 : PUSH EAX
00805bd8 : LEA EAX,[ESP + 0x28d4]
00805bdf : MOV ECX,ESI
00805be1 : CALL 0x00804170
00805be6 : TEST AL,AL
00805be8 : JZ 0x00805c71
00805bee : MOV EDI,ESI
00805bf0 : CALL 0x00804b20
00805bf5 : TEST AL,AL
00805bf7 : JZ 0x00805c71
00805bf9 : CALL 0x00804960
00805bfe : TEST AL,AL
00805c00 : JZ 0x00805c71
00805c02 : MOV EDI,EBP
00805c04 : CALL 0x00805020
00805c09 : TEST AL,AL
00805c0b : JZ 0x00805c71
00805c0d : LEA ECX,[ESP + 0x1ba0]
00805c14 : PUSH ECX
00805c15 : LEA EDX,[ESP + 0x14]
00805c19 : PUSH EDX
00805c1a : LEA EAX,[ESP + 0xde0]
00805c21 : PUSH EAX
00805c22 : LEA ECX,[ESP + 0x28d4]
00805c29 : PUSH ECX
00805c2a : CALL 0x00804330
00805c2f : MOV BL,0x1
00805c31 : MOV AL,BL
00805c33 : POP EDI
00805c34 : POP ESI
00805c35 : POP EBP
00805c36 : POP EBX
00805c37 : ADD ESP,0x3680
00805c3d : RET 0xc
00805c40 : PUSH 0xc28f2c
00805c45 : JMP 0x00805c69
00805c47 : PUSH ECX
00805c48 : PUSH 0xc28f5c
00805c4d : CALL 0x00807d70
00805c52 : ADD ESP,0x8
00805c55 : MOV AL,BL
00805c57 : POP EDI
00805c58 : POP ESI
00805c59 : POP EBP
00805c5a : POP EBX
00805c5b : ADD ESP,0x3680
00805c61 : RET 0xc
00805c64 : PUSH 0xc28f98
00805c69 : CALL 0x00807d70
00805c6e : ADD ESP,0x4
00805c71 : POP EDI
00805c72 : POP ESI
00805c73 : POP EBP
00805c74 : MOV AL,BL
00805c76 : POP EBX
00805c77 : ADD ESP,0x3680
00805c7d : RET 0xc
