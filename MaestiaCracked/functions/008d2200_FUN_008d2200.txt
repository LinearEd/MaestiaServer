PROGRAM  : Maestia.exe
FUNCTION : FUN_008d2200
ENTRY    : 008d2200
BODY     : [[008d2200, 008d24d5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008d2200(int param_1)

{
  byte bVar1;
  int *piVar2;
  undefined4 *puVar3;
  void **ppvVar4;
  char cVar5;
  uint uVar6;
  int iVar7;
  DWORD DVar8;
  int iVar9;
  int *piVar10;
  int iVar11;
  undefined4 uVar12;
  int *piVar13;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b637a3;
  local_14 = ExceptionList;
  uVar6 = DAT_00d66fa0 ^ (uint)&stack0xffffffb0;
  if ((*(char *)(*(int *)(param_1 + 0xb8) + 1) == '\0') && (*(char *)(param_1 + 0xca) == '\0')) {
    iVar9 = *(int *)(*DAT_00da9894 + 300);
    iVar11 = 0;
    if (iVar9 != 0) {
      iVar11 = *(int *)(iVar9 + 0xc);
    }
    iVar9 = *(int *)(*DAT_00da9894 + 300);
    iVar7 = 0;
    if (iVar9 != 0) {
      iVar7 = *(int *)(iVar9 + 0xc);
    }
    piVar2 = *(int **)(iVar7 + 0x4c + (uint)*(ushort *)(iVar11 + 0x5c) * 4);
    if ((piVar2 != (int *)0x0) &&
       (piVar13 = *(int **)(param_1 + 0x3c), ppvVar4 = &local_14,
       piVar13 != *(int **)(param_1 + 0x40))) {
      do {
        ExceptionList = ppvVar4;
        DVar8 = timeGetTime();
        puVar3 = (undefined4 *)*piVar13;
        if ((uint)puVar3[3] < DVar8 - puVar3[2]) {
          uVar12 = *puVar3;
          iVar9 = (**(code **)(*piVar2 + 0x98))(uVar12,uVar6);
          if ((((iVar9 != 0) && (*(int *)(iVar9 + 8) != 0)) &&
              (cVar5 = FUN_009082d0(), cVar5 == '\0')) &&
             (piVar10 = (int *)(**(code **)(*piVar2 + 0x74))(uVar12,piVar2[0x14]),
             piVar10 != (int *)0x0)) {
            if (piVar10[9] == 0) {
              cVar5 = '\0';
            }
            else {
              cVar5 = *(char *)(piVar10[9] + 0xb1);
            }
            iVar9 = (**(code **)(*piVar10 + 0x20))();
            if ((iVar9 == 2) && (cVar5 != '\0')) {
              iVar9 = FUN_008413b0(piVar10[4],0);
              piVar10 = (int *)FUN_004049b0(piVar10[4]);
              if ((iVar9 != 0) && (piVar10 != (int *)0x0)) {
                bVar1 = *(byte *)(iVar9 + 0xb);
                iVar9 = (**(code **)(*piVar10 + 0x38))();
                if (iVar9 != 0) {
                  iVar9 = (**(code **)(piVar10[(uint)bVar1 * 0xd + 0x129] + 4))();
                  piVar10 = DAT_00da9894;
                  while (iVar9 != 0) {
                    iVar11 = FUN_004f5680();
                    if (((iVar11 != 0) && ((*(byte *)(iVar11 + 0x144) & 1) != 0)) &&
                       ((*(int *)(*piVar10 + 300) != 0 &&
                        ((*(int *)(*(int *)(*piVar10 + 300) + 0x1c) != 0 &&
                         (cVar5 = FUN_0096b500(), cVar5 == '\0')))))) {
                      FUN_00a364b0(*(undefined4 *)(param_1 + 0xc0),0);
                      FUN_00a0d390(DAT_017247d4,1);
                      uVar12 = 0;
                      if (*(int *)(*DAT_00da9894 + 300) != 0) {
                        uVar12 = *(undefined4 *)(*(int *)(*DAT_00da9894 + 300) + 0xc);
                      }
                      FUN_00930240(uVar12,0);
                      DVar8 = timeGetTime();
                      *(DWORD *)(*piVar13 + 8) = DVar8;
                      uVar12 = FUN_00404750(L"[AutoGameLOG] himself to use buffskill proto ->",
                                            CONCAT22(*(undefined2 *)(iVar11 + 4),
                                                     *(undefined2 *)(iVar11 + 6)));
                      uStack_c = 0;
                      FUN_00801630(uVar12);
                      uStack_c = 0xffffffff;
                      FUN_00406560();
                      *(undefined1 *)(param_1 + 0xca) = 1;
                      DAT_00da9870 = timeGetTime();
                      ExceptionList = local_14;
                      return;
                    }
                  }
                }
              }
            }
          }
        }
        piVar13 = piVar13 + 1;
        ppvVar4 = ExceptionList;
        if (piVar13 == *(int **)(param_1 + 0x40)) {
          ExceptionList = local_14;
          return;
        }
      } while( true );
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
008d2200 : PUSH EBP
008d2201 : MOV EBP,ESP
008d2203 : AND ESP,0xfffffff8
008d2206 : PUSH -0x1
008d2208 : PUSH 0xb637a3
008d220d : MOV EAX,FS:[0x0]
008d2213 : PUSH EAX
008d2214 : SUB ESP,0x30
008d2217 : PUSH EBX
008d2218 : PUSH ESI
008d2219 : PUSH EDI
008d221a : MOV EAX,[0x00d66fa0]
008d221f : XOR EAX,ESP
008d2221 : PUSH EAX
008d2222 : LEA EAX,[ESP + 0x40]
008d2226 : MOV FS:[0x0],EAX
008d222c : MOV EBX,dword ptr [EBP + 0x8]
008d222f : MOV EAX,dword ptr [EBX + 0xb8]
008d2235 : MOV AL,byte ptr [EAX + 0x1]
008d2238 : TEST AL,AL
008d223a : JNZ 0x008d24c1
008d2240 : CMP byte ptr [EBX + 0xca],AL
008d2246 : JNZ 0x008d24c1
008d224c : MOV ECX,dword ptr [0x00da9894]
008d2252 : MOV ECX,dword ptr [ECX]
008d2254 : MOV EAX,dword ptr [ECX + 0x12c]
008d225a : TEST EAX,EAX
008d225c : JZ 0x008d2261
008d225e : MOV EAX,dword ptr [EAX + 0xc]
008d2261 : MOVZX EDX,word ptr [EAX + 0x5c]
008d2265 : MOV EAX,dword ptr [ECX + 0x12c]
008d226b : TEST EAX,EAX
008d226d : JZ 0x008d2272
008d226f : MOV EAX,dword ptr [EAX + 0xc]
008d2272 : MOVZX EDX,DX
008d2275 : MOV EDI,dword ptr [EAX + EDX*0x4 + 0x4c]
008d2279 : MOV dword ptr [ESP + 0x18],EDI
008d227d : TEST EDI,EDI
008d227f : JZ 0x008d24c1
008d2285 : MOV ESI,dword ptr [EBX + 0x3c]
008d2288 : MOV dword ptr [ESP + 0x10],ESI
008d228c : CMP ESI,dword ptr [EBX + 0x40]
008d228f : JZ 0x008d24c1
008d2295 : CALL dword ptr [0x00b85598]
008d229b : MOV ECX,dword ptr [ESI]
008d229d : SUB EAX,dword ptr [ECX + 0x8]
008d22a0 : CMP EAX,dword ptr [ECX + 0xc]
008d22a3 : JBE 0x008d23e9
008d22a9 : MOV EBX,dword ptr [ECX]
008d22ab : MOV EAX,dword ptr [EDI]
008d22ad : MOV EDX,dword ptr [EAX + 0x98]
008d22b3 : PUSH EBX
008d22b4 : MOV ECX,EDI
008d22b6 : MOV dword ptr [ESP + 0x20],EBX
008d22ba : CALL EDX
008d22bc : TEST EAX,EAX
008d22be : JZ 0x008d23e9
008d22c4 : CMP dword ptr [EAX + 0x8],0x0
008d22c8 : JZ 0x008d23e9
008d22ce : MOV ESI,EAX
008d22d0 : CALL 0x009082d0
008d22d5 : TEST AL,AL
008d22d7 : JNZ 0x008d23e9
008d22dd : MOV EAX,dword ptr [EDI + 0x50]
008d22e0 : MOV EDX,dword ptr [EDI]
008d22e2 : PUSH EAX
008d22e3 : MOV EAX,dword ptr [EDX + 0x74]
008d22e6 : PUSH EBX
008d22e7 : MOV ECX,EDI
008d22e9 : CALL EAX
008d22eb : MOV ESI,EAX
008d22ed : TEST ESI,ESI
008d22ef : JZ 0x008d23e9
008d22f5 : MOV EAX,dword ptr [ESI + 0x24]
008d22f8 : TEST EAX,EAX
008d22fa : JZ 0x008d2304
008d22fc : MOV BL,byte ptr [EAX + 0xb1]
008d2302 : JMP 0x008d2306
008d2304 : XOR BL,BL
008d2306 : MOV EDX,dword ptr [ESI]
008d2308 : MOV EAX,dword ptr [EDX + 0x20]
008d230b : MOV ECX,ESI
008d230d : CALL EAX
008d230f : CMP EAX,0x2
008d2312 : JNZ 0x008d23e9
008d2318 : TEST BL,BL
008d231a : JZ 0x008d23e9
008d2320 : MOV EAX,dword ptr [ESI + 0x10]
008d2323 : MOV ECX,dword ptr [0x01724910]
008d2329 : PUSH 0x0
008d232b : PUSH EAX
008d232c : CALL 0x008413b0
008d2331 : MOV ESI,dword ptr [ESI + 0x10]
008d2334 : PUSH ESI
008d2335 : MOV EDI,EAX
008d2337 : CALL 0x004049b0
008d233c : ADD ESP,0x4
008d233f : MOV ESI,EAX
008d2341 : TEST EDI,EDI
008d2343 : JZ 0x008d23e5
008d2349 : TEST ESI,ESI
008d234b : JZ 0x008d23e5
008d2351 : MOV EDX,dword ptr [ESI]
008d2353 : MOV EAX,dword ptr [EDX + 0x38]
008d2356 : MOVZX EDI,byte ptr [EDI + 0xb]
008d235a : MOV ECX,ESI
008d235c : CALL EAX
008d235e : TEST EAX,EAX
008d2360 : JZ 0x008d23e5
008d2366 : IMUL EDI,EDI,0x34
008d2369 : MOV EDX,dword ptr [EDI + ESI*0x1 + 0x4a4]
008d2370 : MOV EAX,dword ptr [EDX + 0x4]
008d2373 : LEA EDI,[EDI + ESI*0x1 + 0x4a4]
008d237a : MOV ECX,EDI
008d237c : CALL EAX
008d237e : MOV dword ptr [ESP + 0x14],EAX
008d2382 : TEST EAX,EAX
008d2384 : JZ 0x008d23e5
008d2386 : MOV EBX,dword ptr [0x00da9894]
008d238c : LEA ESP,[ESP]
008d2390 : LEA EDX,[ESP + 0x14]
008d2394 : MOV EAX,EDI
008d2396 : CALL 0x004f5680
008d239b : MOV ESI,EAX
008d239d : TEST ESI,ESI
008d239f : JZ 0x008d23de
008d23a1 : TEST byte ptr [ESI + 0x144],0x1
008d23a8 : JZ 0x008d23de
008d23aa : MOV EAX,dword ptr [EBX]
008d23ac : CMP dword ptr [EAX + 0x12c],0x0
008d23b3 : JZ 0x008d23de
008d23b5 : MOV ECX,dword ptr [EAX + 0x12c]
008d23bb : CMP dword ptr [ECX + 0x1c],0x0
008d23bf : JZ 0x008d23de
008d23c1 : MOVZX EDX,word ptr [ESI + 0x4]
008d23c5 : MOV EAX,ECX
008d23c7 : MOVZX ECX,word ptr [ESI + 0x6]
008d23cb : MOV EAX,dword ptr [EAX + 0x1c]
008d23ce : SHL EDX,0x10
008d23d1 : OR EDX,ECX
008d23d3 : MOV ECX,EAX
008d23d5 : CALL 0x0096b500
008d23da : TEST AL,AL
008d23dc : JZ 0x008d2415
008d23de : CMP dword ptr [ESP + 0x14],0x0
008d23e3 : JNZ 0x008d2390
008d23e5 : MOV EDI,dword ptr [ESP + 0x18]
008d23e9 : MOV ESI,dword ptr [ESP + 0x10]
008d23ed : MOV EDX,dword ptr [EBP + 0x8]
008d23f0 : ADD ESI,0x4
008d23f3 : MOV dword ptr [ESP + 0x10],ESI
008d23f7 : CMP ESI,dword ptr [EDX + 0x40]
008d23fa : JNZ 0x008d2295
008d2400 : MOV ECX,dword ptr [ESP + 0x40]
008d2404 : MOV dword ptr FS:[0x0],ECX
008d240b : POP ECX
008d240c : POP EDI
008d240d : POP ESI
008d240e : POP EBX
008d240f : MOV ESP,EBP
008d2411 : POP EBP
008d2412 : RET 0x4
008d2415 : MOV EBX,dword ptr [EBP + 0x8]
008d2418 : MOV EAX,dword ptr [EBX + 0xc0]
008d241e : MOV ECX,dword ptr [0x00da93ec]
008d2424 : PUSH 0x0
008d2426 : PUSH EAX
008d2427 : CALL 0x00a364b0
008d242c : MOV ECX,dword ptr [0x017247d4]
008d2432 : PUSH 0x1
008d2434 : PUSH ECX
008d2435 : MOV ECX,dword ptr [EBX + 0xc0]
008d243b : CALL 0x00a0d390
008d2440 : MOV EDX,dword ptr [0x00da9894]
008d2446 : MOV EAX,dword ptr [EDX]
008d2448 : MOV EAX,dword ptr [EAX + 0x12c]
008d244e : TEST EAX,EAX
008d2450 : JZ 0x008d2455
008d2452 : MOV EAX,dword ptr [EAX + 0xc]
008d2455 : PUSH 0x0
008d2457 : PUSH EAX
008d2458 : MOV EAX,dword ptr [ESP + 0x24]
008d245c : CALL 0x00930240
008d2461 : MOV EDI,dword ptr [0x00b85598]
008d2467 : CALL EDI
008d2469 : MOV ECX,dword ptr [ESP + 0x10]
008d246d : MOV EDX,dword ptr [ECX]
008d246f : MOV dword ptr [EDX + 0x8],EAX
008d2472 : MOVZX EAX,word ptr [ESI + 0x4]
008d2476 : MOVZX ECX,word ptr [ESI + 0x6]
008d247a : SHL EAX,0x10
008d247d : OR EAX,ECX
008d247f : PUSH EAX
008d2480 : PUSH 0xc54a68
008d2485 : LEA ESI,[ESP + 0x28]
008d2489 : CALL 0x00404750
008d248e : ADD ESP,0x8
008d2491 : MOV dword ptr [ESP + 0x48],0x0
008d2499 : PUSH EAX
008d249a : MOV EAX,[0x00da98e8]
008d249f : CALL 0x00801630
008d24a4 : MOV dword ptr [ESP + 0x48],0xffffffff
008d24ac : MOV ECX,ESI
008d24ae : CALL 0x00406560
008d24b3 : MOV byte ptr [EBX + 0xca],0x1
008d24ba : CALL EDI
008d24bc : MOV [0x00da9870],EAX
008d24c1 : MOV ECX,dword ptr [ESP + 0x40]
008d24c5 : MOV dword ptr FS:[0x0],ECX
008d24cc : POP ECX
008d24cd : POP EDI
008d24ce : POP ESI
008d24cf : POP EBX
008d24d0 : MOV ESP,EBP
008d24d2 : POP EBP
008d24d3 : RET 0x4
