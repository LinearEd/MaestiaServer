PROGRAM  : Maestia.exe
FUNCTION : FUN_00a2c6c0
ENTRY    : 00a2c6c0
BODY     : [[00a2c6c0, 00a2c907]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a2c6c0(int *param_1)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  DWORD DVar4;
  int iVar5;
  int in_ECX;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  int local_c;
  int local_8;
  
  iVar2 = (int)param_1;
  uVar1 = *(undefined4 *)((int)param_1 + 4);
  param_1 = (int *)FUN_00a1a840(uVar1);
  if ((param_1 == (int *)0x0) && (param_1 = (int *)FUN_00a1a6d0(uVar1), param_1 == (int *)0x0)) {
    param_1 = (int *)FUN_00a1a780(uVar1);
  }
  iVar5 = *(int *)(iVar2 + 0xc);
  if (iVar5 == -1) {
    if (param_1 == (int *)0x0) {
      return;
    }
  }
  else {
    iVar3 = FUN_00a1a840(iVar5);
    if ((iVar3 == 0) && (iVar3 = FUN_00a1a6d0(iVar5), iVar3 == 0)) {
      iVar3 = FUN_00a1a780(iVar5);
    }
    if (param_1 == (int *)0x0) {
      return;
    }
    if (iVar3 == 0) {
      return;
    }
  }
  DVar4 = timeGetTime();
  FUN_00483f90(DVar4,*(undefined4 *)(iVar2 + 8));
  if (param_1 == *(int **)(in_ECX + 0xac)) {
    local_8 = FUN_004049b0(*(undefined4 *)(iVar2 + 0x10));
    local_c = FUN_008413b0(*(undefined4 *)(iVar2 + 0x10),0);
    if ((local_c != 0) && (local_8 != 0)) {
      local_8 = (**(code **)(*(int *)((uint)*(byte *)(local_c + 0xb) * 0x34 + 0x4a4 + local_8) + 4))
                          ();
      do {
        if (local_8 == 0) goto LAB_00a2c809;
        iVar5 = FUN_004f5680();
      } while ((iVar5 == 0) || (*(short *)(iVar5 + 4) != 0x143e));
      *(undefined1 *)(local_c + 0x33) = 1;
      if ((*(int *)(in_ECX + 0xac) != 0) &&
         ((*DAT_00da9894 != 0 && (iVar5 = FUN_009f2740(*(undefined4 *)(iVar2 + 0x10)), iVar5 != 0)))
         ) {
        FUN_009e8040(1);
      }
    }
LAB_00a2c809:
    *(undefined4 *)(in_ECX + 0x558) = *(undefined4 *)(iVar2 + 0xc);
  }
  if (*(int *)(iVar2 + 0xc) == -1) {
    local_18 = 0;
    local_14 = 0;
    local_10 = 0;
    FUN_007e9290(*(undefined4 *)(in_ECX + 0xc));
    (**(code **)(*param_1 + 0x358))
              (*(undefined4 *)(iVar2 + 0x10),&local_18,*(undefined2 *)(iVar2 + 0x14),
               *(undefined4 *)(iVar2 + 0x1a));
    return;
  }
  iVar5 = *(int *)(iVar2 + 0x10);
  local_c = iVar5;
  FUN_004437f0(&local_c);
  if (((local_8 != *(int *)(DAT_00d7c54c + 0x44)) && (*(int *)(local_8 + 0x10) != 0)) &&
     (*(short *)(*(int *)(local_8 + 0x10) + 0x27a) == 0x7d1)) {
    (**(code **)(*param_1 + 0x360))
              (iVar5,*(undefined4 *)(iVar2 + 0xc),*(undefined2 *)(iVar2 + 0x14),
               *(undefined4 *)(iVar2 + 0x1a));
    return;
  }
  (**(code **)(*param_1 + 0x35c))
            (iVar5,*(undefined4 *)(iVar2 + 0xc),*(undefined2 *)(iVar2 + 0x14),
             *(undefined4 *)(iVar2 + 0x1a));
  return;
}



============================================================
DISASSEMBLY
============================================================
00a2c6c0 : PUSH EBP
00a2c6c1 : MOV EBP,ESP
00a2c6c3 : SUB ESP,0x20
00a2c6c6 : PUSH EBX
00a2c6c7 : PUSH ESI
00a2c6c8 : MOV ESI,dword ptr [EBP + 0x8]
00a2c6cb : PUSH EDI
00a2c6cc : MOV EDI,dword ptr [ESI + 0x4]
00a2c6cf : PUSH EDI
00a2c6d0 : MOV EBX,ECX
00a2c6d2 : CALL 0x00a1a840
00a2c6d7 : MOV dword ptr [EBP + 0x8],EAX
00a2c6da : TEST EAX,EAX
00a2c6dc : JNZ 0x00a2c6f8
00a2c6de : PUSH EDI
00a2c6df : MOV ECX,EBX
00a2c6e1 : CALL 0x00a1a6d0
00a2c6e6 : MOV dword ptr [EBP + 0x8],EAX
00a2c6e9 : TEST EAX,EAX
00a2c6eb : JNZ 0x00a2c6f8
00a2c6ed : PUSH EDI
00a2c6ee : MOV ECX,EBX
00a2c6f0 : CALL 0x00a1a780
00a2c6f5 : MOV dword ptr [EBP + 0x8],EAX
00a2c6f8 : MOV EDI,dword ptr [ESI + 0xc]
00a2c6fb : CMP EDI,-0x1
00a2c6fe : JZ 0x00a2c737
00a2c700 : PUSH EDI
00a2c701 : MOV ECX,EBX
00a2c703 : CALL 0x00a1a840
00a2c708 : TEST EAX,EAX
00a2c70a : JNZ 0x00a2c720
00a2c70c : PUSH EDI
00a2c70d : MOV ECX,EBX
00a2c70f : CALL 0x00a1a6d0
00a2c714 : TEST EAX,EAX
00a2c716 : JNZ 0x00a2c720
00a2c718 : PUSH EDI
00a2c719 : MOV ECX,EBX
00a2c71b : CALL 0x00a1a780
00a2c720 : CMP dword ptr [EBP + 0x8],0x0
00a2c724 : JZ 0x00a2c8ff
00a2c72a : TEST EAX,EAX
00a2c72c : JNZ 0x00a2c741
00a2c72e : POP EDI
00a2c72f : POP ESI
00a2c730 : POP EBX
00a2c731 : MOV ESP,EBP
00a2c733 : POP EBP
00a2c734 : RET 0x4
00a2c737 : CMP dword ptr [EBP + 0x8],0x0
00a2c73b : JZ 0x00a2c8ff
00a2c741 : CALL dword ptr [0x00b85598]
00a2c747 : MOV ECX,dword ptr [ESI + 0x8]
00a2c74a : PUSH ECX
00a2c74b : PUSH EAX
00a2c74c : CALL 0x00483f90
00a2c751 : MOV EDI,dword ptr [EBP + 0x8]
00a2c754 : ADD ESP,0x8
00a2c757 : CMP EDI,dword ptr [EBX + 0xac]
00a2c75d : JNZ 0x00a2c812
00a2c763 : MOV EAX,dword ptr [ESI + 0x10]
00a2c766 : PUSH EAX
00a2c767 : CALL 0x004049b0
00a2c76c : MOV ECX,dword ptr [0x01724910]
00a2c772 : ADD ESP,0x4
00a2c775 : MOV dword ptr [EBP + -0x4],EAX
00a2c778 : MOV EAX,dword ptr [ESI + 0x10]
00a2c77b : PUSH 0x0
00a2c77d : PUSH EAX
00a2c77e : CALL 0x008413b0
00a2c783 : MOV dword ptr [EBP + -0x8],EAX
00a2c786 : TEST EAX,EAX
00a2c788 : JZ 0x00a2c809
00a2c78a : MOV ECX,dword ptr [EBP + -0x4]
00a2c78d : TEST ECX,ECX
00a2c78f : JZ 0x00a2c809
00a2c791 : MOVZX EAX,byte ptr [EAX + 0xb]
00a2c795 : IMUL EAX,EAX,0x34
00a2c798 : MOV EDX,dword ptr [EAX + ECX*0x1 + 0x4a4]
00a2c79f : LEA EDI,[EAX + ECX*0x1 + 0x4a4]
00a2c7a6 : MOV EAX,dword ptr [EDX + 0x4]
00a2c7a9 : MOV ECX,EDI
00a2c7ab : CALL EAX
00a2c7ad : MOV dword ptr [EBP + -0x4],EAX
00a2c7b0 : CMP dword ptr [EBP + -0x4],0x0
00a2c7b4 : JZ 0x00a2c806
00a2c7b6 : LEA EDX,[EBP + -0x4]
00a2c7b9 : MOV EAX,EDI
00a2c7bb : CALL 0x004f5680
00a2c7c0 : TEST EAX,EAX
00a2c7c2 : JZ 0x00a2c7b0
00a2c7c4 : MOV ECX,0x143e
00a2c7c9 : CMP word ptr [EAX + 0x4],CX
00a2c7cd : JNZ 0x00a2c7b0
00a2c7cf : MOV EDX,dword ptr [EBP + -0x8]
00a2c7d2 : MOV byte ptr [EDX + 0x33],0x1
00a2c7d6 : CMP dword ptr [EBX + 0xac],0x0
00a2c7dd : JZ 0x00a2c806
00a2c7df : MOV ECX,dword ptr [0x00da9894]
00a2c7e5 : CMP dword ptr [ECX],0x0
00a2c7e8 : MOV EAX,dword ptr [ESI + 0x10]
00a2c7eb : JZ 0x00a2c806
00a2c7ed : MOV ECX,dword ptr [0x017247f0]
00a2c7f3 : PUSH EAX
00a2c7f4 : CALL 0x009f2740
00a2c7f9 : TEST EAX,EAX
00a2c7fb : JZ 0x00a2c806
00a2c7fd : PUSH 0x1
00a2c7ff : MOV EDI,EAX
00a2c801 : CALL 0x009e8040
00a2c806 : MOV EDI,dword ptr [EBP + 0x8]
00a2c809 : MOV EDX,dword ptr [ESI + 0xc]
00a2c80c : MOV dword ptr [EBX + 0x558],EDX
00a2c812 : MOV EAX,dword ptr [ESI + 0xc]
00a2c815 : CMP EAX,-0x1
00a2c818 : JZ 0x00a2c8a2
00a2c81e : MOV ECX,dword ptr [0x00d7c54c]
00a2c824 : MOV EBX,dword ptr [ESI + 0x10]
00a2c827 : LEA EAX,[EBP + -0x8]
00a2c82a : PUSH EAX
00a2c82b : ADD ECX,0x40
00a2c82e : LEA EAX,[EBP + -0x4]
00a2c831 : MOV dword ptr [EBP + -0x8],EBX
00a2c834 : CALL 0x004437f0
00a2c839 : MOV EAX,dword ptr [EBP + -0x4]
00a2c83c : MOV ECX,dword ptr [0x00d7c54c]
00a2c842 : CMP EAX,dword ptr [ECX + 0x44]
00a2c845 : JZ 0x00a2c87f
00a2c847 : MOV EAX,dword ptr [EAX + 0x10]
00a2c84a : TEST EAX,EAX
00a2c84c : JZ 0x00a2c87f
00a2c84e : MOV EDX,0x7d1
00a2c853 : CMP word ptr [EAX + 0x27a],DX
00a2c85a : JNZ 0x00a2c87f
00a2c85c : MOV ECX,dword ptr [ESI + 0x1a]
00a2c85f : MOVZX EDX,word ptr [ESI + 0x14]
00a2c863 : MOV EAX,dword ptr [EDI]
00a2c865 : PUSH ECX
00a2c866 : MOV ECX,dword ptr [ESI + 0xc]
00a2c869 : PUSH EDX
00a2c86a : MOV EDX,dword ptr [EAX + 0x360]
00a2c870 : PUSH ECX
00a2c871 : PUSH EBX
00a2c872 : MOV ECX,EDI
00a2c874 : CALL EDX
00a2c876 : POP EDI
00a2c877 : POP ESI
00a2c878 : POP EBX
00a2c879 : MOV ESP,EBP
00a2c87b : POP EBP
00a2c87c : RET 0x4
00a2c87f : MOV ECX,dword ptr [ESI + 0x1a]
00a2c882 : MOVZX EDX,word ptr [ESI + 0x14]
00a2c886 : MOV EAX,dword ptr [EDI]
00a2c888 : PUSH ECX
00a2c889 : MOV ECX,dword ptr [ESI + 0xc]
00a2c88c : PUSH EDX
00a2c88d : MOV EDX,dword ptr [EAX + 0x35c]
00a2c893 : PUSH ECX
00a2c894 : PUSH EBX
00a2c895 : MOV ECX,EDI
00a2c897 : CALL EDX
00a2c899 : POP EDI
00a2c89a : POP ESI
00a2c89b : POP EBX
00a2c89c : MOV ESP,EBP
00a2c89e : POP EBP
00a2c89f : RET 0x4
00a2c8a2 : MOVZX EAX,word ptr [ESI + 0x16]
00a2c8a6 : MOVZX ECX,word ptr [ESI + 0x18]
00a2c8aa : MOV EDX,dword ptr [EBX + 0xc]
00a2c8ad : XORPS XMM0,XMM0
00a2c8b0 : CVTSI2SS XMM1,EAX
00a2c8b4 : MOVSS dword ptr [EBP + -0x20],XMM1
00a2c8b9 : CVTSI2SS XMM1,ECX
00a2c8bd : PUSH EDX
00a2c8be : LEA EDX,[EBP + -0x14]
00a2c8c1 : LEA ECX,[EBP + -0x20]
00a2c8c4 : MOVSS dword ptr [EBP + -0x14],XMM0
00a2c8c9 : MOVSS dword ptr [EBP + -0x10],XMM0
00a2c8ce : MOVSS dword ptr [EBP + -0xc],XMM0
00a2c8d3 : MOVSS dword ptr [EBP + -0x1c],XMM1
00a2c8d8 : MOVSS dword ptr [EBP + -0x18],XMM0
00a2c8dd : CALL 0x007e9290
00a2c8e2 : MOV ECX,dword ptr [ESI + 0x1a]
00a2c8e5 : MOVZX EDX,word ptr [ESI + 0x14]
00a2c8e9 : MOV EAX,dword ptr [EDI]
00a2c8eb : MOV EAX,dword ptr [EAX + 0x358]
00a2c8f1 : PUSH ECX
00a2c8f2 : PUSH EDX
00a2c8f3 : MOV EDX,dword ptr [ESI + 0x10]
00a2c8f6 : LEA ECX,[EBP + -0x14]
00a2c8f9 : PUSH ECX
00a2c8fa : PUSH EDX
00a2c8fb : MOV ECX,EDI
00a2c8fd : CALL EAX
00a2c8ff : POP EDI
00a2c900 : POP ESI
00a2c901 : POP EBX
00a2c902 : MOV ESP,EBP
00a2c904 : POP EBP
00a2c905 : RET 0x4
