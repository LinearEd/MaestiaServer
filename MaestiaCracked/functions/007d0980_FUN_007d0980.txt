PROGRAM  : Maestia.exe
FUNCTION : FUN_007d0980
ENTRY    : 007d0980
BODY     : [[007d0980, 007d09ba] [007d09c2, 007d0b05]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x007d0a95) */
/* WARNING: Removing unreachable block (ram,0x007d0a45) */
/* WARNING: Removing unreachable block (ram,0x007d0ae5) */

void FUN_007d0980(void)

{
  int *piVar1;
  int iVar2;
  int in_ECX;
  int *piVar3;
  
  if (*(char *)(in_ECX + 0x24) != '\0') {
    piVar3 = *(int **)(in_ECX + 0x88);
    piVar1 = (int *)*piVar3;
    while (piVar1 != piVar3) {
      iVar2 = piVar1[4];
      if (iVar2 != 0) {
        FUN_00461770(iVar2);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      FUN_00416210();
    }
    FUN_00401c00(*(undefined4 *)(*(int *)(in_ECX + 0x88) + 4));
    *(int *)(*(int *)(in_ECX + 0x88) + 4) = *(int *)(in_ECX + 0x88);
    *(undefined4 *)(in_ECX + 0x8c) = 0;
    *(undefined4 *)*(undefined4 *)(in_ECX + 0x88) = *(undefined4 *)(in_ECX + 0x88);
    *(int *)(*(int *)(in_ECX + 0x88) + 8) = *(int *)(in_ECX + 0x88);
    piVar3 = *(int **)(in_ECX + 0x3c);
    if (piVar3 != *(int **)(in_ECX + 0x40)) {
      do {
        if ((undefined4 *)*piVar3 != (undefined4 *)0x0) {
          (*(code *)**(undefined4 **)*piVar3)(1);
        }
        piVar3 = piVar3 + 1;
      } while (piVar3 != *(int **)(in_ECX + 0x40));
    }
    if (*(int *)(in_ECX + 0x3c) != *(int *)(in_ECX + 0x40)) {
      *(int *)(in_ECX + 0x40) = *(int *)(in_ECX + 0x3c);
    }
    piVar3 = *(int **)(in_ECX + 0x68);
    if (piVar3 != *(int **)(in_ECX + 0x6c)) {
      do {
        if ((undefined4 *)*piVar3 != (undefined4 *)0x0) {
          (*(code *)**(undefined4 **)*piVar3)(1);
        }
        piVar3 = piVar3 + 1;
      } while (piVar3 != *(int **)(in_ECX + 0x6c));
    }
    if (*(int *)(in_ECX + 0x68) != *(int *)(in_ECX + 0x6c)) {
      *(int *)(in_ECX + 0x6c) = *(int *)(in_ECX + 0x68);
    }
    piVar3 = *(int **)(in_ECX + 0x78);
    if (piVar3 != *(int **)(in_ECX + 0x7c)) {
      do {
        if ((undefined4 *)*piVar3 != (undefined4 *)0x0) {
          (*(code *)**(undefined4 **)*piVar3)(1);
        }
        piVar3 = piVar3 + 1;
      } while (piVar3 != *(int **)(in_ECX + 0x7c));
    }
    if (*(int *)(in_ECX + 0x78) != *(int *)(in_ECX + 0x7c)) {
      *(int *)(in_ECX + 0x7c) = *(int *)(in_ECX + 0x78);
    }
    *(undefined1 *)(in_ECX + 0x24) = 0;
    *(undefined4 *)(in_ECX + 0x30) = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007d0980 : PUSH EBP
007d0981 : MOV EBP,ESP
007d0983 : SUB ESP,0x8
007d0986 : PUSH EDI
007d0987 : MOV EDI,ECX
007d0989 : CMP byte ptr [EDI + 0x24],0x0
007d098d : JZ 0x007d0b01
007d0993 : MOV EAX,dword ptr [EDI + 0x88]
007d0999 : PUSH EBX
007d099a : MOV EBX,dword ptr [EAX]
007d099c : PUSH ESI
007d099d : MOV dword ptr [EBP + -0x8],EAX
007d09a0 : MOV dword ptr [EBP + -0x4],EBX
007d09a3 : CMP EBX,EAX
007d09a5 : JZ 0x007d09d2
007d09a7 : MOV ESI,dword ptr [EBX + 0x10]
007d09aa : TEST ESI,ESI
007d09ac : JZ 0x007d09c2
007d09ae : PUSH ESI
007d09af : CALL 0x00461770
007d09b4 : MOV ECX,ESI
007d09b6 : CALL 0x006f04e0
007d09c2 : LEA EDX,[EBP + -0x4]
007d09c5 : CALL 0x00416210
007d09ca : MOV EBX,dword ptr [EBP + -0x4]
007d09cd : CMP EBX,dword ptr [EBP + -0x8]
007d09d0 : JNZ 0x007d09a7
007d09d2 : MOV EAX,dword ptr [EDI + 0x88]
007d09d8 : MOV ECX,dword ptr [EAX + 0x4]
007d09db : LEA ESI,[EDI + 0x84]
007d09e1 : PUSH ECX
007d09e2 : MOV ECX,ESI
007d09e4 : CALL 0x00401c00
007d09e9 : MOV EAX,dword ptr [ESI + 0x4]
007d09ec : MOV dword ptr [EAX + 0x4],EAX
007d09ef : MOV EAX,dword ptr [ESI + 0x4]
007d09f2 : MOV dword ptr [ESI + 0x8],0x0
007d09f9 : MOV dword ptr [EAX],EAX
007d09fb : MOV ESI,dword ptr [ESI + 0x4]
007d09fe : MOV dword ptr [ESI + 0x8],ESI
007d0a01 : MOV ESI,dword ptr [EDI + 0x3c]
007d0a04 : CMP ESI,dword ptr [EDI + 0x40]
007d0a07 : JZ 0x007d0a26
007d0a09 : LEA ESP,[ESP]
007d0a10 : MOV ECX,dword ptr [ESI]
007d0a12 : TEST ECX,ECX
007d0a14 : JZ 0x007d0a1e
007d0a16 : MOV EDX,dword ptr [ECX]
007d0a18 : MOV EAX,dword ptr [EDX]
007d0a1a : PUSH 0x1
007d0a1c : CALL EAX
007d0a1e : ADD ESI,0x4
007d0a21 : CMP ESI,dword ptr [EDI + 0x40]
007d0a24 : JNZ 0x007d0a10
007d0a26 : MOV ECX,dword ptr [EDI + 0x40]
007d0a29 : MOV ESI,dword ptr [EDI + 0x3c]
007d0a2c : CMP ESI,ECX
007d0a2e : JZ 0x007d0a54
007d0a30 : MOV EAX,ECX
007d0a32 : SUB EAX,ECX
007d0a34 : SAR EAX,0x2
007d0a37 : LEA EDX,[EAX*0x4 + 0x0]
007d0a3e : LEA EBX,[EDX + ESI*0x1]
007d0a41 : TEST EAX,EAX
007d0a43 : JLE 0x007d0a51
007d0a45 : PUSH EDX
007d0a46 : PUSH ECX
007d0a47 : PUSH EDX
007d0a48 : PUSH ESI
007d0a49 : CALL 0x00634101
007d0a4e : ADD ESP,0x10
007d0a51 : MOV dword ptr [EDI + 0x40],EBX
007d0a54 : MOV ESI,dword ptr [EDI + 0x68]
007d0a57 : CMP ESI,dword ptr [EDI + 0x6c]
007d0a5a : JZ 0x007d0a76
007d0a5c : LEA ESP,[ESP]
007d0a60 : MOV ECX,dword ptr [ESI]
007d0a62 : TEST ECX,ECX
007d0a64 : JZ 0x007d0a6e
007d0a66 : MOV EDX,dword ptr [ECX]
007d0a68 : MOV EAX,dword ptr [EDX]
007d0a6a : PUSH 0x1
007d0a6c : CALL EAX
007d0a6e : ADD ESI,0x4
007d0a71 : CMP ESI,dword ptr [EDI + 0x6c]
007d0a74 : JNZ 0x007d0a60
007d0a76 : MOV ECX,dword ptr [EDI + 0x6c]
007d0a79 : MOV ESI,dword ptr [EDI + 0x68]
007d0a7c : CMP ESI,ECX
007d0a7e : JZ 0x007d0aa4
007d0a80 : MOV EAX,ECX
007d0a82 : SUB EAX,ECX
007d0a84 : SAR EAX,0x2
007d0a87 : LEA EDX,[EAX*0x4 + 0x0]
007d0a8e : LEA EBX,[EDX + ESI*0x1]
007d0a91 : TEST EAX,EAX
007d0a93 : JLE 0x007d0aa1
007d0a95 : PUSH EDX
007d0a96 : PUSH ECX
007d0a97 : PUSH EDX
007d0a98 : PUSH ESI
007d0a99 : CALL 0x00634101
007d0a9e : ADD ESP,0x10
007d0aa1 : MOV dword ptr [EDI + 0x6c],EBX
007d0aa4 : MOV ESI,dword ptr [EDI + 0x78]
007d0aa7 : CMP ESI,dword ptr [EDI + 0x7c]
007d0aaa : JZ 0x007d0ac6
007d0aac : LEA ESP,[ESP]
007d0ab0 : MOV ECX,dword ptr [ESI]
007d0ab2 : TEST ECX,ECX
007d0ab4 : JZ 0x007d0abe
007d0ab6 : MOV EDX,dword ptr [ECX]
007d0ab8 : MOV EAX,dword ptr [EDX]
007d0aba : PUSH 0x1
007d0abc : CALL EAX
007d0abe : ADD ESI,0x4
007d0ac1 : CMP ESI,dword ptr [EDI + 0x7c]
007d0ac4 : JNZ 0x007d0ab0
007d0ac6 : MOV ECX,dword ptr [EDI + 0x7c]
007d0ac9 : MOV ESI,dword ptr [EDI + 0x78]
007d0acc : CMP ESI,ECX
007d0ace : JZ 0x007d0af4
007d0ad0 : MOV EAX,ECX
007d0ad2 : SUB EAX,ECX
007d0ad4 : SAR EAX,0x2
007d0ad7 : LEA EDX,[EAX*0x4 + 0x0]
007d0ade : LEA EBX,[EDX + ESI*0x1]
007d0ae1 : TEST EAX,EAX
007d0ae3 : JLE 0x007d0af1
007d0ae5 : PUSH EDX
007d0ae6 : PUSH ECX
007d0ae7 : PUSH EDX
007d0ae8 : PUSH ESI
007d0ae9 : CALL 0x00634101
007d0aee : ADD ESP,0x10
007d0af1 : MOV dword ptr [EDI + 0x7c],EBX
007d0af4 : POP ESI
007d0af5 : MOV byte ptr [EDI + 0x24],0x0
007d0af9 : MOV dword ptr [EDI + 0x30],0x0
007d0b00 : POP EBX
007d0b01 : POP EDI
007d0b02 : MOV ESP,EBP
007d0b04 : POP EBP
007d0b05 : RET
