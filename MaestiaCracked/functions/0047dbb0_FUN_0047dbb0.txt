PROGRAM  : Maestia.exe
FUNCTION : FUN_0047dbb0
ENTRY    : 0047dbb0
BODY     : [[0047dbb0, 0047dd74] [0047ddcd, 0047de6f] [0047de97, 0047df1a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0047dbb0(int param_1,int param_2,undefined4 param_3)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  uint uStack_458;
  uint local_434;
  undefined1 local_430 [1044];
  uint local_1c;
  undefined1 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7a4fa;
  local_10 = ExceptionList;
  uStack_458 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_14 = (undefined1 *)&uStack_458;
  ExceptionList = &local_10;
  iVar2 = *(int *)(param_1 + 4);
  if (iVar2 == 0) {
    local_434 = 0;
  }
  else {
    local_434 = (*(int *)(param_1 + 0xc) - iVar2) / 0x410;
  }
  iVar4 = *(int *)(param_1 + 8);
  iVar2 = (iVar4 - iVar2) / 0x410;
  local_1c = uStack_458;
  puVar1 = &uStack_458;
  if (iVar2 == 0x3f03f0) {
    iVar2 = FUN_00429be0();
    puVar1 = (uint *)local_14;
  }
  local_14 = (undefined1 *)puVar1;
  uVar3 = iVar2 + 1;
  if (local_434 < uVar3) {
    if (0x3f03f0 - (local_434 >> 1) < local_434) {
      local_434 = 0;
    }
    else {
      local_434 = local_434 + (local_434 >> 1);
    }
    if (local_434 < uVar3) {
      local_434 = uVar3;
    }
    iVar4 = FUN_0047e320();
    local_8 = 0;
    FUN_0047d7c0();
    FUN_0047e280(*(undefined4 *)(param_1 + 4),param_2);
    FUN_0047e280(param_2,*(undefined4 *)(param_1 + 8));
    local_8 = 0xffffffff;
    iVar2 = *(int *)(param_1 + 4);
    if (iVar2 != 0) {
      FUN_0047e4e0(iVar2,param_3);
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(uint *)(param_1 + 0xc) = local_434 * 0x410 + iVar4;
    *(int *)(param_1 + 8) = ((*(int *)(param_1 + 8) - iVar2) / 0x410 + 1) * 0x410 + iVar4;
    *(int *)(param_1 + 4) = iVar4;
  }
  else {
    iVar4 = iVar4 - param_2;
    iVar2 = iVar4 >> 0x1f;
    if (iVar4 / 0x410 + iVar2 == iVar2) {
      FUN_0047dfe0(local_430);
      local_8 = 2;
      FUN_0047e280(param_2,*(undefined4 *)(param_1 + 8));
      local_8 = CONCAT31(local_8._1_3_,3);
      FUN_0047d7c0();
      local_8 = 2;
      *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x410;
      FUN_0047e2b0(local_430);
    }
    else {
      FUN_0047dfe0(local_430);
      local_8 = 5;
      uVar5 = FUN_0047e280(*(int *)(param_1 + 8) + -0x410,*(int *)(param_1 + 8));
      *(undefined4 *)(param_1 + 8) = uVar5;
      FUN_0047e2e0(param_2);
      FUN_0047e2b0(local_430);
    }
    local_8 = 0xffffffff;
    FUN_0047e070(local_430);
  }
  ExceptionList = local_10;
  __security_check_cookie(local_1c ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0047dbb0 : PUSH EBP
0047dbb1 : MOV EBP,ESP
0047dbb3 : PUSH -0x1
0047dbb5 : PUSH 0xb7a4fa
0047dbba : MOV EAX,FS:[0x0]
0047dbc0 : PUSH EAX
0047dbc1 : SUB ESP,0x438
0047dbc7 : MOV EAX,[0x00d66fa0]
0047dbcc : XOR EAX,EBP
0047dbce : MOV dword ptr [EBP + -0x18],EAX
0047dbd1 : PUSH EBX
0047dbd2 : PUSH ESI
0047dbd3 : PUSH EDI
0047dbd4 : PUSH EAX
0047dbd5 : LEA EAX,[EBP + -0xc]
0047dbd8 : MOV FS:[0x0],EAX
0047dbde : MOV dword ptr [EBP + -0x10],ESP
0047dbe1 : MOV EBX,dword ptr [EBP + 0x8]
0047dbe4 : MOV dword ptr [EBP + 0xfffffbcc],EBX
0047dbea : MOV EAX,dword ptr [EBP + 0x10]
0047dbed : MOV dword ptr [EBP + 0xfffffbc4],EAX
0047dbf3 : MOV ECX,dword ptr [EBX + 0x4]
0047dbf6 : TEST ECX,ECX
0047dbf8 : JNZ 0x0047dbfe
0047dbfa : XOR ESI,ESI
0047dbfc : JMP 0x0047dc16
0047dbfe : MOV EDX,dword ptr [EBX + 0xc]
0047dc01 : SUB EDX,ECX
0047dc03 : MOV EAX,0x7e07e07f
0047dc08 : IMUL EDX
0047dc0a : SAR EDX,0x9
0047dc0d : MOV EAX,EDX
0047dc0f : SHR EAX,0x1f
0047dc12 : ADD EAX,EDX
0047dc14 : MOV ESI,EAX
0047dc16 : MOV EDI,dword ptr [EBX + 0x8]
0047dc19 : MOV EDX,EDI
0047dc1b : SUB EDX,ECX
0047dc1d : MOV EAX,0x7e07e07f
0047dc22 : IMUL EDX
0047dc24 : SAR EDX,0x9
0047dc27 : MOV EAX,EDX
0047dc29 : SHR EAX,0x1f
0047dc2c : ADD EAX,EDX
0047dc2e : MOV ECX,0x3f03f0
0047dc33 : SUB ECX,EAX
0047dc35 : CMP ECX,0x1
0047dc38 : JNC 0x0047dc3f
0047dc3a : CALL 0x00429be0
0047dc3f : INC EAX
0047dc40 : CMP ESI,EAX
0047dc42 : JNC 0x0047ddcd
0047dc48 : MOV ECX,ESI
0047dc4a : SHR ECX,0x1
0047dc4c : MOV EDX,0x3f03f0
0047dc51 : SUB EDX,ECX
0047dc53 : CMP EDX,ESI
0047dc55 : JNC 0x0047dc69
0047dc57 : MOV dword ptr [EBP + 0xfffffbd0],0x0
0047dc61 : MOV ESI,dword ptr [EBP + 0xfffffbd0]
0047dc67 : JMP 0x0047dc71
0047dc69 : ADD ESI,ECX
0047dc6b : MOV dword ptr [EBP + 0xfffffbd0],ESI
0047dc71 : CMP ESI,EAX
0047dc73 : JNC 0x0047dc7d
0047dc75 : MOV dword ptr [EBP + 0xfffffbd0],EAX
0047dc7b : MOV ESI,EAX
0047dc7d : MOV ECX,ESI
0047dc7f : CALL 0x0047e320
0047dc84 : MOV ESI,EAX
0047dc86 : MOV dword ptr [EBP + 0xfffffbc8],ESI
0047dc8c : MOV ECX,dword ptr [EBP + 0xc]
0047dc8f : SUB ECX,dword ptr [EBX + 0x4]
0047dc92 : MOV EAX,0x7e07e07f
0047dc97 : IMUL ECX
0047dc99 : SAR EDX,0x9
0047dc9c : MOV EDI,EDX
0047dc9e : SHR EDI,0x1f
0047dca1 : ADD EDI,EDX
0047dca3 : MOV dword ptr [EBP + 0xfffffbcc],EDI
0047dca9 : XOR EAX,EAX
0047dcab : MOV dword ptr [EBP + 0xfffffbc0],EAX
0047dcb1 : MOV dword ptr [EBP + -0x4],EAX
0047dcb4 : IMUL EDI,EDI,0x410
0047dcba : ADD EDI,ESI
0047dcbc : MOV EDX,dword ptr [EBP + 0xfffffbc4]
0047dcc2 : LEA ESI,[EAX + 0x1]
0047dcc5 : CALL 0x0047d7c0
0047dcca : MOV dword ptr [EBP + 0xfffffbc0],ESI
0047dcd0 : MOV EAX,dword ptr [EBP + 0xc]
0047dcd3 : PUSH EAX
0047dcd4 : MOV ECX,dword ptr [EBX + 0x4]
0047dcd7 : PUSH ECX
0047dcd8 : MOV ESI,dword ptr [EBP + 0xfffffbc8]
0047dcde : MOV EDX,ESI
0047dce0 : CALL 0x0047e280
0047dce5 : MOV dword ptr [EBP + 0xfffffbc0],0x2
0047dcef : MOV EDX,dword ptr [EBP + 0xfffffbcc]
0047dcf5 : INC EDX
0047dcf6 : IMUL EDX,EDX,0x410
0047dcfc : ADD EDX,ESI
0047dcfe : MOV EAX,dword ptr [EBX + 0x8]
0047dd01 : PUSH EAX
0047dd02 : MOV ECX,dword ptr [EBP + 0xc]
0047dd05 : PUSH ECX
0047dd06 : CALL 0x0047e280
0047dd0b : MOV dword ptr [EBP + -0x4],0xffffffff
0047dd12 : MOV ECX,dword ptr [EBX + 0x8]
0047dd15 : MOV ESI,dword ptr [EBX + 0x4]
0047dd18 : MOV EDX,ECX
0047dd1a : SUB EDX,ESI
0047dd1c : MOV EAX,0x7e07e07f
0047dd21 : IMUL EDX
0047dd23 : SAR EDX,0x9
0047dd26 : MOV EAX,EDX
0047dd28 : SHR EAX,0x1f
0047dd2b : LEA EDI,[EDX + EAX*0x1 + 0x1]
0047dd2f : TEST ESI,ESI
0047dd31 : JZ 0x0047dd4b
0047dd33 : MOV EDX,dword ptr [EBP + 0xfffffbc4]
0047dd39 : PUSH EDX
0047dd3a : PUSH ESI
0047dd3b : CALL 0x0047e4e0
0047dd40 : ADD ESP,0x8
0047dd43 : MOV ECX,dword ptr [EBX + 0x4]
0047dd46 : CALL 0x006f04e0
0047dd4b : MOV EAX,dword ptr [EBP + 0xfffffbd0]
0047dd51 : IMUL EAX,EAX,0x410
0047dd57 : MOV ECX,dword ptr [EBP + 0xfffffbc8]
0047dd5d : ADD EAX,ECX
0047dd5f : MOV dword ptr [EBX + 0xc],EAX
0047dd62 : IMUL EDI,EDI,0x410
0047dd68 : ADD EDI,ECX
0047dd6a : MOV dword ptr [EBX + 0x8],EDI
0047dd6d : MOV dword ptr [EBX + 0x4],ECX
0047dd70 : JMP 0x0047defd
0047ddcd : SUB EDI,dword ptr [EBP + 0xc]
0047ddd0 : MOV EAX,0x7e07e07f
0047ddd5 : IMUL EDI
0047ddd7 : SAR EDX,0x9
0047ddda : MOV EAX,EDX
0047dddc : SHR EAX,0x1f
0047dddf : ADD EAX,EDX
0047dde1 : CMP EAX,0x1
0047dde4 : JNC 0x0047de97
0047ddea : LEA ECX,[EBP + 0xfffffbd4]
0047ddf0 : PUSH ECX
0047ddf1 : MOV EDX,dword ptr [EBP + 0xfffffbc4]
0047ddf7 : CALL 0x0047dfe0
0047ddfc : MOV dword ptr [EBP + -0x4],0x2
0047de03 : MOV EAX,dword ptr [EBP + 0xc]
0047de06 : LEA EDX,[EAX + 0x410]
0047de0c : MOV ECX,dword ptr [EBX + 0x8]
0047de0f : PUSH ECX
0047de10 : PUSH EAX
0047de11 : CALL 0x0047e280
0047de16 : MOV byte ptr [EBP + -0x4],0x3
0047de1a : MOV EDI,dword ptr [EBX + 0x8]
0047de1d : MOV ECX,EDI
0047de1f : SUB ECX,dword ptr [EBP + 0xc]
0047de22 : MOV EAX,0x7e07e07f
0047de27 : IMUL ECX
0047de29 : SAR EDX,0x9
0047de2c : MOV EAX,EDX
0047de2e : SHR EAX,0x1f
0047de31 : ADD EAX,EDX
0047de33 : MOV ESI,0x1
0047de38 : SUB ESI,EAX
0047de3a : LEA EDX,[EBP + 0xfffffbd4]
0047de40 : CALL 0x0047d7c0
0047de45 : MOV dword ptr [EBP + -0x4],0x2
0047de4c : ADD dword ptr [EBX + 0x8],0x410
0047de53 : MOV EBX,dword ptr [EBX + 0x8]
0047de56 : LEA ECX,[EBP + 0xfffffbd4]
0047de5c : PUSH ECX
0047de5d : LEA EDI,[EBX + 0xfffffbf0]
0047de63 : MOV EAX,dword ptr [EBP + 0xc]
0047de66 : CALL 0x0047e2b0
0047de6b : ADD ESP,0x4
0047de6e : JMP 0x0047deea
0047de97 : LEA EDX,[EBP + 0xfffffbd4]
0047de9d : PUSH EDX
0047de9e : MOV EDX,dword ptr [EBP + 0xfffffbc4]
0047dea4 : CALL 0x0047dfe0
0047dea9 : MOV dword ptr [EBP + -0x4],0x5
0047deb0 : MOV ESI,dword ptr [EBX + 0x8]
0047deb3 : LEA EDI,[ESI + 0xfffffbf0]
0047deb9 : PUSH ESI
0047deba : PUSH EDI
0047debb : MOV EDX,ESI
0047debd : CALL 0x0047e280
0047dec2 : MOV dword ptr [EBX + 0x8],EAX
0047dec5 : MOV EAX,dword ptr [EBP + 0xc]
0047dec8 : PUSH EAX
0047dec9 : MOV ECX,ESI
0047decb : MOV EAX,EDI
0047decd : CALL 0x0047e2e0
0047ded2 : LEA ECX,[EBP + 0xfffffbd4]
0047ded8 : PUSH ECX
0047ded9 : MOV EAX,dword ptr [EBP + 0xc]
0047dedc : LEA EDI,[EAX + 0x410]
0047dee2 : CALL 0x0047e2b0
0047dee7 : ADD ESP,0x8
0047deea : MOV dword ptr [EBP + -0x4],0xffffffff
0047def1 : LEA EDX,[EBP + 0xfffffbd4]
0047def7 : PUSH EDX
0047def8 : CALL 0x0047e070
0047defd : MOV ECX,dword ptr [EBP + -0xc]
0047df00 : MOV dword ptr FS:[0x0],ECX
0047df07 : POP ECX
0047df08 : POP EDI
0047df09 : POP ESI
0047df0a : POP EBX
0047df0b : MOV ECX,dword ptr [EBP + -0x18]
0047df0e : XOR ECX,EBP
0047df10 : CALL 0x00633e6b
0047df15 : MOV ESP,EBP
0047df17 : POP EBP
0047df18 : RET 0xc
