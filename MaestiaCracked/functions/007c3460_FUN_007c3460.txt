PROGRAM  : Maestia.exe
FUNCTION : FUN_007c3460
ENTRY    : 007c3460
BODY     : [[007c3460, 007c3576]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007c3460(void)

{
  char cVar1;
  int iVar2;
  undefined4 in_ECX;
  int in_EDX;
  int iVar3;
  undefined1 local_88 [28];
  undefined4 local_6c [8];
  undefined4 local_4c;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b481e3;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_6c[0] = 0;
  FUN_0070d390(local_14);
  local_8 = 0;
  cVar1 = FUN_008036f0(in_ECX,in_EDX);
  if (cVar1 != '\0') {
    iVar2 = FUN_007b4450(*(undefined4 *)(DAT_017251ac + 0x18),local_4c,0xffffffff,0xffffffff,0,0,
                         *(int *)(DAT_017251ac + 0x20) == 0,0x70004,0x70004,0,local_88,local_6c,1);
    if (-1 < iVar2) {
      FUN_0070d4c0();
      local_8 = 0xffffffff;
      FUN_0070d710();
      goto LAB_007c355c;
    }
    if (*(uint *)(in_EDX + 0x18) < 8) {
      iVar3 = in_EDX + 4;
    }
    else {
      iVar3 = *(int *)(in_EDX + 4);
    }
    FUN_008018d0(L"[FrkTxtrMgr::LoadAndNoManaged] Failed CreateTextureFromFileInMemoryEx Name : %s , (%d)"
                 ,iVar3,iVar2);
    FUN_00664d50(iVar2);
  }
  FUN_0070d4c0();
  local_8 = 0xffffffff;
  FUN_0070d710();
LAB_007c355c:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
007c3460 : PUSH EBP
007c3461 : MOV EBP,ESP
007c3463 : PUSH -0x1
007c3465 : PUSH 0xb481e3
007c346a : MOV EAX,FS:[0x0]
007c3470 : PUSH EAX
007c3471 : SUB ESP,0x78
007c3474 : MOV EAX,[0x00d66fa0]
007c3479 : XOR EAX,EBP
007c347b : MOV dword ptr [EBP + -0x10],EAX
007c347e : PUSH ESI
007c347f : PUSH EDI
007c3480 : PUSH EAX
007c3481 : LEA EAX,[EBP + -0xc]
007c3484 : MOV FS:[0x0],EAX
007c348a : MOV EDI,ECX
007c348c : LEA ECX,[EBP + -0x64]
007c348f : MOV ESI,EDX
007c3491 : MOV dword ptr [EBP + -0x68],0x0
007c3498 : CALL 0x0070d390
007c349d : MOV dword ptr [EBP + -0x4],0x0
007c34a4 : PUSH ESI
007c34a5 : PUSH EDI
007c34a6 : LEA ECX,[EBP + -0x64]
007c34a9 : CALL 0x008036f0
007c34ae : TEST AL,AL
007c34b0 : JZ 0x007c3525
007c34b2 : MOV EAX,[0x017251ac]
007c34b7 : MOV ECX,dword ptr [EAX + 0x20]
007c34ba : PUSH 0x1
007c34bc : MOV EAX,dword ptr [EAX + 0x18]
007c34bf : LEA EDX,[EBP + -0x68]
007c34c2 : PUSH EDX
007c34c3 : LEA EDX,[EBP + 0xffffff7c]
007c34c9 : PUSH EDX
007c34ca : PUSH 0x0
007c34cc : XOR EDX,EDX
007c34ce : TEST ECX,ECX
007c34d0 : MOV ECX,dword ptr [EBP + -0x48]
007c34d3 : PUSH 0x70004
007c34d8 : SETZ DL
007c34db : PUSH 0x70004
007c34e0 : PUSH EDX
007c34e1 : PUSH 0x0
007c34e3 : PUSH 0x0
007c34e5 : PUSH -0x1
007c34e7 : PUSH -0x1
007c34e9 : PUSH ECX
007c34ea : MOV ECX,dword ptr [EBP + -0x44]
007c34ed : PUSH EAX
007c34ee : CALL 0x007b4450
007c34f3 : MOV EDI,EAX
007c34f5 : ADD ESP,0x34
007c34f8 : TEST EDI,EDI
007c34fa : JGE 0x007c3540
007c34fc : CMP dword ptr [ESI + 0x18],0x8
007c3500 : JC 0x007c3507
007c3502 : MOV ESI,dword ptr [ESI + 0x4]
007c3505 : JMP 0x007c350a
007c3507 : ADD ESI,0x4
007c350a : PUSH EDI
007c350b : PUSH ESI
007c350c : MOV ESI,dword ptr [0x00da98e8]
007c3512 : PUSH 0xc1c340
007c3517 : CALL 0x008018d0
007c351c : ADD ESP,0xc
007c351f : PUSH EDI
007c3520 : CALL 0x00664d50
007c3525 : LEA ECX,[EBP + -0x64]
007c3528 : CALL 0x0070d4c0
007c352d : MOV dword ptr [EBP + -0x4],0xffffffff
007c3534 : LEA ECX,[EBP + -0x64]
007c3537 : CALL 0x0070d710
007c353c : XOR EAX,EAX
007c353e : JMP 0x007c355c
007c3540 : LEA ECX,[EBP + -0x64]
007c3543 : CALL 0x0070d4c0
007c3548 : MOV ESI,dword ptr [EBP + -0x68]
007c354b : MOV dword ptr [EBP + -0x4],0xffffffff
007c3552 : LEA ECX,[EBP + -0x64]
007c3555 : CALL 0x0070d710
007c355a : MOV EAX,ESI
007c355c : MOV ECX,dword ptr [EBP + -0xc]
007c355f : MOV dword ptr FS:[0x0],ECX
007c3566 : POP ECX
007c3567 : POP EDI
007c3568 : POP ESI
007c3569 : MOV ECX,dword ptr [EBP + -0x10]
007c356c : XOR ECX,EBP
007c356e : CALL 0x00633e6b
007c3573 : MOV ESP,EBP
007c3575 : POP EBP
007c3576 : RET
