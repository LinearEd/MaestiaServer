PROGRAM  : Maestia.exe
FUNCTION : FUN_00888070
ENTRY    : 00888070
BODY     : [[00888070, 0088829c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00888070(void)

{
  char cVar1;
  int *in_ECX;
  undefined4 unaff_ESI;
  undefined4 *puVar2;
  undefined4 uStack_60;
  undefined4 uStack_5c;
  undefined4 uStack_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  undefined8 uStack_48;
  undefined8 uStack_40;
  undefined4 uStack_38;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  undefined4 uStack_c;
  
  cVar1 = (**(code **)(*in_ECX + 0x200))();
  if ((cVar1 == '\0') && ((char)in_ECX[0x109] == '\0')) {
    if ((char)in_ECX[0x56c] != '\0') {
      *(undefined1 *)((int)in_ECX + 0x15b2) = 0;
      *(undefined1 *)((int)in_ECX + 0x15b3) = 0;
      *(undefined1 *)(in_ECX + 0x56b) = 0;
      *(undefined1 *)(in_ECX + 0x56c) = 0;
      uStack_38 = 0;
      uStack_34 = 0;
      uStack_30 = 0;
      uStack_2c = 0x3f800000;
      uStack_60 = 0;
      uStack_5c = 0x3f800000;
      uStack_58 = 0;
      D3DXQuaternionRotationAxis(&uStack_38,&uStack_60,in_ECX[0x564]);
      FUN_004040f0();
      (**(code **)(*(int *)in_ECX[0xfa] + 0x68))(1,1);
      return;
    }
    if (((char)in_ECX[0x56b] != '\0') && (in_ECX[0xfa] != 0)) {
      timeGetTime();
      uStack_28 = 0;
      uStack_24 = 0;
      uStack_20 = 0;
      uStack_1c = 0x3f800000;
      uStack_18 = 0;
      uStack_14 = 0;
      uStack_10 = 0;
      uStack_c = 0x3f800000;
      uStack_54 = 0;
      uStack_50 = 0x3f800000;
      uStack_4c = 0;
      uStack_48 = *(undefined8 *)(in_ECX[0xfa] + 0x74);
      uStack_40 = *(undefined8 *)(in_ECX[0xfa] + 0x7c);
      D3DXQuaternionRotationAxis(&uStack_28,&uStack_54,in_ECX[0x564]);
      puVar2 = &uStack_54;
      D3DXQuaternionSlerp(&uStack_24,puVar2,&uStack_34,unaff_ESI);
      FUN_004040f0();
      (**(code **)(*(int *)in_ECX[0xfa] + 0x68))(1,1);
      if (1.0 <= (float)puVar2) {
        *(undefined1 *)((int)in_ECX + 0x15b2) = 0;
        *(undefined1 *)((int)in_ECX + 0x15b3) = 0;
        *(undefined1 *)(in_ECX + 0x56b) = 0;
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00888070 : PUSH EBP
00888071 : MOV EBP,ESP
00888073 : AND ESP,0xfffffff8
00888076 : SUB ESP,0x60
00888079 : PUSH EBX
0088807a : PUSH ESI
0088807b : MOV ESI,ECX
0088807d : MOV EAX,dword ptr [ESI]
0088807f : MOV EDX,dword ptr [EAX + 0x200]
00888085 : CALL EDX
00888087 : TEST AL,AL
00888089 : JNZ 0x00888297
0088808f : XOR EBX,EBX
00888091 : CMP byte ptr [ESI + 0x424],BL
00888097 : JNZ 0x00888297
0088809d : CMP byte ptr [ESI + 0x15b0],BL
008880a3 : JZ 0x00888135
008880a9 : FLD float ptr [ESI + 0x1590]
008880af : XORPS XMM0,XMM0
008880b2 : MOVSS XMM1,dword ptr [0x00c10fc4]
008880ba : PUSH ECX
008880bb : FSTP float ptr [ESP]
008880be : LEA EAX,[ESP + 0x14]
008880c2 : PUSH EAX
008880c3 : LEA ECX,[ESP + 0x40]
008880c7 : PUSH ECX
008880c8 : MOV byte ptr [ESI + 0x15b2],BL
008880ce : MOV byte ptr [ESI + 0x15b3],BL
008880d4 : MOV byte ptr [ESI + 0x15ac],BL
008880da : MOV byte ptr [ESI + 0x15b0],BL
008880e0 : MOVSS dword ptr [ESP + 0x44],XMM0
008880e6 : MOVSS dword ptr [ESP + 0x48],XMM0
008880ec : MOVSS dword ptr [ESP + 0x4c],XMM0
008880f2 : MOVSS dword ptr [ESP + 0x50],XMM1
008880f8 : MOVSS dword ptr [ESP + 0x1c],XMM0
008880fe : MOVSS dword ptr [ESP + 0x20],XMM1
00888104 : MOVSS dword ptr [ESP + 0x24],XMM0
0088810a : CALL 0x004ff710
0088810f : MOV EAX,dword ptr [ESI + 0x3e8]
00888115 : LEA ECX,[ESP + 0x38]
00888119 : CALL 0x004040f0
0088811e : MOV ECX,dword ptr [ESI + 0x3e8]
00888124 : MOV EDX,dword ptr [ECX]
00888126 : MOV EAX,dword ptr [EDX + 0x68]
00888129 : PUSH 0x1
0088812b : PUSH 0x1
0088812d : CALL EAX
0088812f : POP ESI
00888130 : POP EBX
00888131 : MOV ESP,EBP
00888133 : POP EBP
00888134 : RET
00888135 : CMP byte ptr [ESI + 0x15ac],BL
0088813b : JZ 0x00888297
00888141 : CMP dword ptr [ESI + 0x3e8],EBX
00888147 : JZ 0x00888297
0088814d : CALL dword ptr [0x00b85598]
00888153 : SUB EAX,dword ptr [ESI + 0x15a4]
00888159 : MOV ECX,EAX
0088815b : MOV EDX,ECX
0088815d : MOV dword ptr [ESP + 0xc],EDX
00888161 : FILD dword ptr [ESP + 0xc]
00888165 : TEST EDX,EDX
00888167 : JGE 0x0088816f
00888169 : FADD float ptr [0x00cdf0e0]
0088816f : FLD float ptr [0x00cdf16c]
00888175 : FXCH
00888177 : FCOMIP ST0,ST1
00888179 : FSTP ST0
0088817b : JBE 0x00888182
0088817d : MOV ECX,0x3e8
00888182 : MOV dword ptr [ESP + 0xc],ECX
00888186 : FILD dword ptr [ESP + 0xc]
0088818a : TEST ECX,ECX
0088818c : JGE 0x00888194
0088818e : FADD float ptr [0x00cdf0e0]
00888194 : XORPS XMM0,XMM0
00888197 : FMUL float ptr [0x00cdf128]
0088819d : MOVSS XMM1,dword ptr [0x00c10fc4]
008881a5 : MOV EAX,dword ptr [ESI + 0x3e8]
008881ab : ADD EAX,0x74
008881ae : FSTP float ptr [ESP + 0xc]
008881b2 : FLD float ptr [ESI + 0x1590]
008881b8 : MOVSS dword ptr [ESP + 0x28],XMM0
008881be : MOVSS dword ptr [ESP + 0x2c],XMM0
008881c4 : MOVSS dword ptr [ESP + 0x30],XMM0
008881ca : MOVSS dword ptr [ESP + 0x34],XMM1
008881d0 : MOVSS dword ptr [ESP + 0x48],XMM0
008881d6 : MOVSS dword ptr [ESP + 0x4c],XMM0
008881dc : MOVSS dword ptr [ESP + 0x50],XMM0
008881e2 : MOVSS dword ptr [ESP + 0x54],XMM1
008881e8 : MOVSS dword ptr [ESP + 0x58],XMM0
008881ee : MOVSS dword ptr [ESP + 0x5c],XMM0
008881f4 : MOVSS dword ptr [ESP + 0x60],XMM0
008881fa : MOVSS dword ptr [ESP + 0x64],XMM1
00888200 : MOVSS dword ptr [ESP + 0x1c],XMM0
00888206 : MOVSS dword ptr [ESP + 0x20],XMM1
0088820c : MOVSS dword ptr [ESP + 0x24],XMM0
00888212 : MOVQ XMM0,qword ptr [EAX]
00888216 : PUSH ECX
00888217 : MOVQ qword ptr [ESP + 0x2c],XMM0
0088821d : FSTP float ptr [ESP]
00888220 : MOVQ XMM0,qword ptr [EAX + 0x8]
00888225 : LEA EAX,[ESP + 0x20]
00888229 : PUSH EAX
0088822a : LEA ECX,[ESP + 0x50]
0088822e : PUSH ECX
0088822f : MOVQ qword ptr [ESP + 0x3c],XMM0
00888235 : CALL 0x004ff710
0088823a : FLD float ptr [ESP + 0xc]
0088823e : PUSH ECX
0088823f : FSTP float ptr [ESP]
00888242 : LEA EDX,[ESP + 0x4c]
00888246 : PUSH EDX
00888247 : LEA EAX,[ESP + 0x30]
0088824b : PUSH EAX
0088824c : LEA ECX,[ESP + 0x64]
00888250 : PUSH ECX
00888251 : CALL 0x004ff758
00888256 : MOV EAX,dword ptr [ESI + 0x3e8]
0088825c : LEA ECX,[ESP + 0x58]
00888260 : CALL 0x004040f0
00888265 : MOV ECX,dword ptr [ESI + 0x3e8]
0088826b : MOV EDX,dword ptr [ECX]
0088826d : MOV EAX,dword ptr [EDX + 0x68]
00888270 : PUSH 0x1
00888272 : PUSH 0x1
00888274 : CALL EAX
00888276 : MOVSS XMM0,dword ptr [ESP + 0xc]
0088827c : COMISS XMM0,dword ptr [0x00c10fc4]
00888283 : JC 0x00888297
00888285 : MOV byte ptr [ESI + 0x15b2],BL
0088828b : MOV byte ptr [ESI + 0x15b3],BL
00888291 : MOV byte ptr [ESI + 0x15ac],BL
00888297 : POP ESI
00888298 : POP EBX
00888299 : MOV ESP,EBP
0088829b : POP EBP
0088829c : RET
