PROGRAM  : Maestia.exe
FUNCTION : FUN_00590eb0
ENTRY    : 00590eb0
BODY     : [[00590eb0, 00590f42]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00590eb0(int param_1)

{
  GRefCountNTSImpl *this;
  int iVar1;
  int *piVar2;
  undefined4 uVar3;
  int local_c;
  int local_8;
  byte local_4;
  
  this = (GRefCountNTSImpl *)FUN_0054ed10();
  if (this != (GRefCountNTSImpl *)0x0) {
    *(int *)(this + 4) = *(int *)(this + 4) + 1;
  }
  uVar3 = *(undefined4 *)(param_1 + 0x18);
  piVar2 = &local_c;
  FUN_00526260(0);
  FUN_00527140(piVar2,uVar3);
  if (local_c == 0) {
    iVar1 = 0;
  }
  else {
    iVar1 = local_c + 0x10;
  }
  FUN_0051d250(iVar1);
  if (((local_4 & 2) == 0) && (local_c != 0)) {
    FUN_00503db0();
  }
  local_c = 0;
  if (((local_4 & 1) == 0) && (local_8 != 0)) {
    FUN_00503db0();
  }
  local_8 = 0;
  if (this != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(this);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00590eb0 : SUB ESP,0xc
00590eb3 : PUSH ESI
00590eb4 : PUSH EDI
00590eb5 : MOV EDI,dword ptr [ESP + 0x18]
00590eb9 : MOV ECX,dword ptr [EDI + 0x8]
00590ebc : CALL 0x0054ed10
00590ec1 : MOV ESI,EAX
00590ec3 : TEST ESI,ESI
00590ec5 : JZ 0x00590eca
00590ec7 : INC dword ptr [ESI + 0x4]
00590eca : MOV EAX,dword ptr [EDI + 0x18]
00590ecd : PUSH EAX
00590ece : LEA ECX,[ESP + 0xc]
00590ed2 : PUSH ECX
00590ed3 : PUSH 0x0
00590ed5 : MOV ECX,EDI
00590ed7 : CALL 0x00526260
00590edc : MOV ECX,EAX
00590ede : CALL 0x00527140
00590ee3 : MOV EAX,dword ptr [ESP + 0x8]
00590ee7 : TEST EAX,EAX
00590ee9 : JZ 0x00590ef0
00590eeb : ADD EAX,0x10
00590eee : JMP 0x00590ef2
00590ef0 : XOR EAX,EAX
00590ef2 : PUSH EAX
00590ef3 : MOV ECX,ESI
00590ef5 : CALL 0x0051d250
00590efa : TEST byte ptr [ESP + 0x10],0x2
00590eff : JNZ 0x00590f0e
00590f01 : MOV ECX,dword ptr [ESP + 0x8]
00590f05 : TEST ECX,ECX
00590f07 : JZ 0x00590f0e
00590f09 : CALL 0x00503db0
00590f0e : TEST byte ptr [ESP + 0x10],0x1
00590f13 : MOV dword ptr [ESP + 0x8],0x0
00590f1b : JNZ 0x00590f2a
00590f1d : MOV ECX,dword ptr [ESP + 0xc]
00590f21 : TEST ECX,ECX
00590f23 : JZ 0x00590f2a
00590f25 : CALL 0x00503db0
00590f2a : MOV dword ptr [ESP + 0xc],0x0
00590f32 : TEST ESI,ESI
00590f34 : JZ 0x00590f3d
00590f36 : MOV ECX,ESI
00590f38 : CALL 0x004ff7c0
00590f3d : POP EDI
00590f3e : POP ESI
00590f3f : ADD ESP,0xc
00590f42 : RET
