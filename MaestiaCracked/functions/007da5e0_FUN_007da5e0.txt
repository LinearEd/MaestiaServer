PROGRAM  : Maestia.exe
FUNCTION : FUN_007da5e0
ENTRY    : 007da5e0
BODY     : [[007da5e0, 007da8b9] [007da8c0, 007daa8c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007da5e0(int param_1,int param_2,int param_3,undefined4 param_4)

{
  code *pcVar1;
  char cVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  int *piVar6;
  undefined4 ***pppuVar7;
  int in_ECX;
  int iVar8;
  undefined4 local_278;
  undefined1 local_274 [4];
  int local_270;
  int local_26c;
  undefined4 local_268;
  undefined **local_264;
  int *local_260;
  undefined1 local_25c [4];
  int local_258;
  int local_254;
  undefined1 local_24d;
  undefined2 local_248;
  undefined4 local_238;
  uint local_234;
  undefined1 local_230 [4];
  undefined4 **local_22c [4];
  undefined4 local_21c;
  uint local_218;
  undefined1 local_214 [512];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3a54a;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar8 = 0;
  local_278 = 0;
  local_218 = 7;
  local_21c = 0;
  local_22c[0] = (undefined4 **)((uint)local_22c[0] & 0xffff0000);
  local_14 = uVar3;
  FUN_00405eb0(in_ECX,0,0xffffffff);
  local_8 = 0;
  local_254 = 0x2e;
  iVar4 = FUN_00407cc0(&local_254,1);
  if (iVar4 == -1) {
    if (7 < local_218) {
      local_8 = iVar4;
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0(uVar3);
    }
    local_218 = 7;
    local_21c = 0;
    local_22c[0] = (undefined4 **)((uint)local_22c[0] & 0xffff0000);
    local_8 = 0xffffffff;
  }
  else {
    if (param_2 == 2) {
      FUN_00405e10(iVar4,*(int *)(in_ECX + 0x14) - iVar4);
      FUN_00404870(L"_5.mmf",6);
    }
    else if (param_2 == 3) {
      FUN_00405e10(iVar4,*(int *)(in_ECX + 0x14) - iVar4);
      FUN_00404980(local_230);
    }
    uVar5 = FUN_007c77d0(local_230,0);
    local_8._0_1_ = 1;
    FUN_0043e530(local_25c,uVar5);
    local_8._0_1_ = 3;
    local_264 = &PTR_FUN_00cd4964;
    if (local_260 != (int *)0x0) {
      (**(code **)(*local_260 + 0x30))();
      local_260 = (int *)0x0;
    }
    if (local_258 == 0) {
      local_8 = (uint)local_8._1_3_ << 8;
      FUN_0043a010();
      local_8 = 0xffffffff;
      if (7 < local_218) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_218 = 7;
      local_21c = 0;
      local_22c[0] = (undefined4 **)((uint)local_22c[0] & 0xffff0000);
    }
    else {
      local_234 = 7;
      local_238 = 0;
      local_248 = 0;
      local_8._0_1_ = 4;
      FUN_0079fd70();
      local_8._0_1_ = 5;
      local_260 = (int *)FUN_006f0760(100,".\\World\\AvaSceneNode.cpp",0x222,0);
      local_8._0_1_ = 6;
      if (local_260 != (int *)0x0) {
        iVar8 = FUN_004616c0(local_260);
      }
      local_8._0_1_ = 5;
      if (iVar8 == 0) {
        local_8._0_1_ = 3;
        FUN_00406560();
        local_8 = (uint)local_8._1_3_ << 8;
        FUN_0043a010();
        local_8 = 0xffffffff;
        FUN_00406560();
      }
      else {
        *(int *)(iVar8 + 0x50) = param_2;
        *(undefined2 *)(iVar8 + 0x54) = 0;
        *(undefined1 *)(iVar8 + 0x5c) = 0;
        *(int *)(iVar8 + 0x58) = param_3;
        FUN_00405eb0(local_230,0,0xffffffff);
        FUN_00405eb0(in_ECX,0,0xffffffff);
        FUN_00463a60();
        FUN_0047bc90(local_274,local_258 + 0x38);
        local_8._0_1_ = 7;
        local_260 = (int *)(local_26c - local_270 >> 2);
        local_254 = 0;
        if (0 < (int)local_260) {
          local_24d = param_3 == 2;
          do {
            iVar4 = *(int *)(local_270 + local_254 * 4);
            *(undefined1 *)(iVar4 + 0x22c) = local_24d;
            if (*(char *)(iVar4 + 0x4c) != '\0') {
              local_278 = 3;
            }
            piVar6 = (int *)FUN_00b03620(local_278);
            if (piVar6 == (int *)0x0) {
              pppuVar7 = (undefined4 ***)local_22c[0];
              if (local_218 < 8) {
                pppuVar7 = local_22c;
              }
              FUN_0040e4a0(L"[AvaSceneNode::CreateMeshEntity] Create Failed [%s]",pppuVar7);
              FUN_008018d0(local_214);
              FUN_004451c0(iVar8);
                    /* WARNING: Subroutine does not return */
              FUN_006f04e0();
            }
            (**(code **)(*piVar6 + 8))(iVar4 + 0x14);
            pcVar1 = *(code **)(*piVar6 + 0xa0);
            piVar6[0x74] = param_2;
            *(undefined1 *)((int)piVar6 + 0x2da) = *(undefined1 *)(param_1 + 0x2bf);
            cVar2 = (*pcVar1)(iVar4,param_4,0);
            if (cVar2 == '\0') {
              (**(code **)*piVar6)(1);
            }
            else {
              *(int *)(iVar8 + 0x60) = *(int *)(iVar8 + 0x60) + 1;
              FUN_00449730();
            }
            local_254 = local_254 + 1;
          } while (local_254 < (int)local_260);
        }
        local_8 = CONCAT31(local_8._1_3_,5);
        if (local_270 != 0) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_270 = 0;
        local_26c = 0;
        local_268 = 0;
        local_8 = CONCAT31(local_8._1_3_,3);
        if (7 < local_234) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_234 = 7;
        local_238 = 0;
        local_248 = 0;
        local_8 = (uint)local_8._1_3_ << 8;
        FUN_0043a010();
        local_8 = 0xffffffff;
        if (7 < local_218) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_218 = 7;
        local_22c[0] = (undefined4 **)((uint)local_22c[0] & 0xffff0000);
        local_21c = 0;
      }
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
007da5e0 : PUSH EBP
007da5e1 : MOV EBP,ESP
007da5e3 : PUSH -0x1
007da5e5 : PUSH 0xb3a54a
007da5ea : MOV EAX,FS:[0x0]
007da5f0 : PUSH EAX
007da5f1 : SUB ESP,0x32c
007da5f7 : MOV EAX,[0x00d66fa0]
007da5fc : XOR EAX,EBP
007da5fe : MOV dword ptr [EBP + -0x10],EAX
007da601 : PUSH EBX
007da602 : PUSH ESI
007da603 : PUSH EDI
007da604 : PUSH EAX
007da605 : LEA EAX,[EBP + -0xc]
007da608 : MOV FS:[0x0],EAX
007da60e : XOR EBX,EBX
007da610 : PUSH -0x1
007da612 : MOV EDI,ECX
007da614 : PUSH EBX
007da615 : XOR EAX,EAX
007da617 : MOV ESI,0x7
007da61c : PUSH EDI
007da61d : LEA ECX,[EBP + 0xfffffdd4]
007da623 : MOV dword ptr [EBP + 0xfffffd8c],EBX
007da629 : MOV dword ptr [EBP + 0xfffffdec],ESI
007da62f : MOV dword ptr [EBP + 0xfffffde8],EBX
007da635 : MOV word ptr [EBP + 0xfffffdd8],AX
007da63c : CALL 0x00405eb0
007da641 : MOV dword ptr [EBP + -0x4],EBX
007da644 : PUSH 0x1
007da646 : LEA ECX,[EBP + 0xfffffdb0]
007da64c : PUSH ECX
007da64d : OR ECX,0xffffffff
007da650 : MOV dword ptr [EBP + 0xfffffdb0],0x2e
007da65a : CALL 0x00407cc0
007da65f : MOV ECX,dword ptr [EDI + 0x14]
007da662 : CMP EAX,-0x1
007da665 : JNZ 0x007da69a
007da667 : MOV dword ptr [EBP + -0x4],EAX
007da66a : CMP dword ptr [EBP + 0xfffffdec],0x8
007da671 : JC 0x007da67e
007da673 : MOV ECX,dword ptr [EBP + 0xfffffdd8]
007da679 : CALL 0x006f04e0
007da67e : XOR EDX,EDX
007da680 : MOV dword ptr [EBP + 0xfffffdec],ESI
007da686 : MOV dword ptr [EBP + 0xfffffde8],EBX
007da68c : MOV word ptr [EBP + 0xfffffdd8],DX
007da693 : XOR EAX,EAX
007da695 : JMP 0x007daa23
007da69a : MOV EDX,dword ptr [EBP + 0xc]
007da69d : CMP EDX,0x2
007da6a0 : JNZ 0x007da6ca
007da6a2 : SUB ECX,EAX
007da6a4 : PUSH ECX
007da6a5 : PUSH EAX
007da6a6 : LEA ECX,[EBP + 0xfffffdd4]
007da6ac : CALL 0x00405e10
007da6b1 : PUSH 0x6
007da6b3 : PUSH 0xc1fec0
007da6b8 : LEA ESI,[EBP + 0xfffffdd4]
007da6be : CALL 0x00404870
007da6c3 : MOV ESI,0x7
007da6c8 : JMP 0x007da6ef
007da6ca : CMP EDX,0x3
007da6cd : JNZ 0x007da6ef
007da6cf : SUB ECX,EAX
007da6d1 : PUSH ECX
007da6d2 : PUSH EAX
007da6d3 : LEA ECX,[EBP + 0xfffffdd4]
007da6d9 : CALL 0x00405e10
007da6de : LEA EAX,[EBP + 0xfffffdd4]
007da6e4 : PUSH EAX
007da6e5 : MOV EDX,0xc1fed0
007da6ea : CALL 0x00404980
007da6ef : PUSH EBX
007da6f0 : LEA ECX,[EBP + 0xfffffdd4]
007da6f6 : PUSH ECX
007da6f7 : MOV ECX,dword ptr [0x017251e0]
007da6fd : LEA EDX,[EBP + 0xfffffda0]
007da703 : CALL 0x007c77d0
007da708 : MOV byte ptr [EBP + -0x4],0x1
007da70c : PUSH EAX
007da70d : LEA EDX,[EBP + 0xfffffda8]
007da713 : PUSH EDX
007da714 : CALL 0x0043e530
007da719 : MOV byte ptr [EBP + -0x4],0x3
007da71d : MOV ECX,dword ptr [EBP + 0xfffffda4]
007da723 : MOV dword ptr [EBP + 0xfffffda0],0xcd4964
007da72d : CMP ECX,EBX
007da72f : JZ 0x007da73e
007da731 : MOV EAX,dword ptr [ECX]
007da733 : MOV EDX,dword ptr [EAX + 0x30]
007da736 : CALL EDX
007da738 : MOV dword ptr [EBP + 0xfffffda4],EBX
007da73e : CMP dword ptr [EBP + 0xfffffdac],EBX
007da744 : JNZ 0x007da78a
007da746 : MOV byte ptr [EBP + -0x4],0x0
007da74a : LEA ECX,[EBP + 0xfffffda8]
007da750 : CALL 0x0043a010
007da755 : MOV dword ptr [EBP + -0x4],0xffffffff
007da75c : CMP dword ptr [EBP + 0xfffffdec],0x8
007da763 : JC 0x007da770
007da765 : MOV ECX,dword ptr [EBP + 0xfffffdd8]
007da76b : CALL 0x006f04e0
007da770 : XOR EAX,EAX
007da772 : MOV dword ptr [EBP + 0xfffffdec],ESI
007da778 : MOV dword ptr [EBP + 0xfffffde8],EBX
007da77e : MOV word ptr [EBP + 0xfffffdd8],AX
007da785 : JMP 0x007daa23
007da78a : XOR ECX,ECX
007da78c : MOV dword ptr [EBP + 0xfffffdd0],ESI
007da792 : MOV dword ptr [EBP + 0xfffffdcc],EBX
007da798 : MOV word ptr [EBP + 0xfffffdbc],CX
007da79f : MOV byte ptr [EBP + -0x4],0x4
007da7a3 : LEA EAX,[EBP + 0xfffffcc8]
007da7a9 : CALL 0x0079fd70
007da7ae : MOV byte ptr [EBP + -0x4],0x5
007da7b2 : PUSH EBX
007da7b3 : PUSH 0x222
007da7b8 : PUSH 0xc1fee0
007da7bd : PUSH 0x64
007da7bf : CALL 0x006f0760
007da7c4 : ADD ESP,0x10
007da7c7 : MOV dword ptr [EBP + 0xfffffda4],EAX
007da7cd : MOV byte ptr [EBP + -0x4],0x6
007da7d1 : CMP EAX,EBX
007da7d3 : JZ 0x007da7dd
007da7d5 : PUSH EAX
007da7d6 : CALL 0x004616c0
007da7db : MOV EBX,EAX
007da7dd : MOV byte ptr [EBP + -0x4],0x5
007da7e1 : TEST EBX,EBX
007da7e3 : JNZ 0x007da829
007da7e5 : MOV byte ptr [EBP + -0x4],0x4
007da7e9 : MOV dword ptr [EBP + 0xfffffcc8],0xcd083c
007da7f3 : MOV byte ptr [EBP + -0x4],0x3
007da7f7 : LEA ECX,[EBP + 0xfffffdb8]
007da7fd : CALL 0x00406560
007da802 : MOV byte ptr [EBP + -0x4],BL
007da805 : LEA ECX,[EBP + 0xfffffda8]
007da80b : CALL 0x0043a010
007da810 : MOV dword ptr [EBP + -0x4],0xffffffff
007da817 : LEA ECX,[EBP + 0xfffffdd4]
007da81d : CALL 0x00406560
007da822 : XOR EAX,EAX
007da824 : JMP 0x007daa23
007da829 : MOV EDX,dword ptr [EBP + 0xc]
007da82c : MOV EAX,dword ptr [EBP + 0x10]
007da82f : XOR ECX,ECX
007da831 : PUSH -0x1
007da833 : MOV dword ptr [EBX + 0x50],EDX
007da836 : PUSH ECX
007da837 : LEA EDX,[EBP + 0xfffffdd4]
007da83d : MOV word ptr [EBX + 0x54],CX
007da841 : PUSH EDX
007da842 : LEA ECX,[EBX + 0x10]
007da845 : MOV byte ptr [EBX + 0x5c],0x0
007da849 : MOV dword ptr [EBX + 0x58],EAX
007da84c : CALL 0x00405eb0
007da851 : PUSH -0x1
007da853 : PUSH 0x0
007da855 : PUSH EDI
007da856 : LEA ECX,[EBX + 0x2c]
007da859 : CALL 0x00405eb0
007da85e : LEA EDI,[EBX + 0x48]
007da861 : LEA ESI,[EBP + 0xfffffda8]
007da867 : CALL 0x00463a60
007da86c : MOV EAX,dword ptr [EBP + 0xfffffdac]
007da872 : ADD EAX,0x38
007da875 : PUSH EAX
007da876 : LEA ECX,[EBP + 0xfffffd90]
007da87c : PUSH ECX
007da87d : CALL 0x0047bc90
007da882 : MOV byte ptr [EBP + -0x4],0x7
007da886 : MOV EAX,dword ptr [EBP + 0xfffffd98]
007da88c : MOV ECX,dword ptr [EBP + 0xfffffd94]
007da892 : SUB EAX,ECX
007da894 : SAR EAX,0x2
007da897 : XOR ESI,ESI
007da899 : CMP EAX,ESI
007da89b : MOV dword ptr [EBP + 0xfffffda4],EAX
007da8a1 : MOV dword ptr [EBP + 0xfffffdb0],ESI
007da8a7 : JLE 0x007da97e
007da8ad : CMP dword ptr [EBP + 0x10],0x2
007da8b1 : SETZ byte ptr [EBP + 0xfffffdb7]
007da8b8 : JMP 0x007da8c0
007da8c0 : MOV EDX,dword ptr [EBP + 0xfffffdb0]
007da8c6 : MOV EDI,dword ptr [ECX + EDX*0x4]
007da8c9 : CMP byte ptr [EDI + 0x4c],0x0
007da8cd : MOV AL,byte ptr [EBP + 0xfffffdb7]
007da8d3 : MOV byte ptr [EDI + 0x22c],AL
007da8d9 : JZ 0x007da8e5
007da8db : MOV dword ptr [EBP + 0xfffffd8c],0x3
007da8e5 : MOVZX ECX,word ptr [EBP + 0xfffffd8c]
007da8ec : PUSH ECX
007da8ed : CALL 0x00b03620
007da8f2 : MOV ESI,EAX
007da8f4 : ADD ESP,0x4
007da8f7 : MOV dword ptr [EBP + 0xfffffd88],ESI
007da8fd : TEST ESI,ESI
007da8ff : JZ 0x007daa41
007da905 : MOV EDX,dword ptr [ESI]
007da907 : MOV EDX,dword ptr [EDX + 0x8]
007da90a : LEA EAX,[EDI + 0x14]
007da90d : PUSH EAX
007da90e : MOV ECX,ESI
007da910 : CALL EDX
007da912 : MOV EAX,dword ptr [EBP + 0xc]
007da915 : MOV ECX,dword ptr [EBP + 0x8]
007da918 : MOV EDX,dword ptr [ESI]
007da91a : MOV EDX,dword ptr [EDX + 0xa0]
007da920 : MOV dword ptr [ESI + 0x1d0],EAX
007da926 : MOV AL,byte ptr [ECX + 0x2bf]
007da92c : MOV byte ptr [ESI + 0x2da],AL
007da932 : MOV EAX,dword ptr [EBP + 0x14]
007da935 : PUSH 0x0
007da937 : PUSH EAX
007da938 : PUSH EDI
007da939 : MOV ECX,ESI
007da93b : CALL EDX
007da93d : TEST AL,AL
007da93f : JZ 0x007da953
007da941 : INC dword ptr [EBX + 0x60]
007da944 : LEA EDI,[EBP + 0xfffffd88]
007da94a : MOV EDX,EBX
007da94c : CALL 0x00449730
007da951 : JMP 0x007da95d
007da953 : MOV EAX,dword ptr [ESI]
007da955 : MOV EDX,dword ptr [EAX]
007da957 : PUSH 0x1
007da959 : MOV ECX,ESI
007da95b : CALL EDX
007da95d : MOV EAX,dword ptr [EBP + 0xfffffdb0]
007da963 : MOV ECX,dword ptr [EBP + 0xfffffd94]
007da969 : INC EAX
007da96a : CMP EAX,dword ptr [EBP + 0xfffffda4]
007da970 : MOV dword ptr [EBP + 0xfffffdb0],EAX
007da976 : JL 0x007da8c0
007da97c : XOR ESI,ESI
007da97e : MOV byte ptr [EBP + -0x4],0x5
007da982 : CMP ECX,ESI
007da984 : JZ 0x007da98b
007da986 : CALL 0x006f04e0
007da98b : MOV dword ptr [EBP + 0xfffffd94],ESI
007da991 : MOV dword ptr [EBP + 0xfffffd98],ESI
007da997 : MOV dword ptr [EBP + 0xfffffd9c],ESI
007da99d : MOV byte ptr [EBP + -0x4],0x4
007da9a1 : MOV dword ptr [EBP + 0xfffffcc8],0xcd083c
007da9ab : MOV byte ptr [EBP + -0x4],0x3
007da9af : MOV EDI,0x8
007da9b4 : CMP dword ptr [EBP + 0xfffffdd0],EDI
007da9ba : JC 0x007da9c7
007da9bc : MOV ECX,dword ptr [EBP + 0xfffffdbc]
007da9c2 : CALL 0x006f04e0
007da9c7 : XOR EAX,EAX
007da9c9 : MOV dword ptr [EBP + 0xfffffdd0],0x7
007da9d3 : MOV dword ptr [EBP + 0xfffffdcc],ESI
007da9d9 : MOV word ptr [EBP + 0xfffffdbc],AX
007da9e0 : MOV byte ptr [EBP + -0x4],AL
007da9e3 : LEA ECX,[EBP + 0xfffffda8]
007da9e9 : CALL 0x0043a010
007da9ee : MOV dword ptr [EBP + -0x4],0xffffffff
007da9f5 : CMP dword ptr [EBP + 0xfffffdec],EDI
007da9fb : JC 0x007daa08
007da9fd : MOV ECX,dword ptr [EBP + 0xfffffdd8]
007daa03 : CALL 0x006f04e0
007daa08 : XOR ECX,ECX
007daa0a : MOV dword ptr [EBP + 0xfffffdec],0x7
007daa14 : MOV word ptr [EBP + 0xfffffdd8],CX
007daa1b : MOV EAX,EBX
007daa1d : MOV dword ptr [EBP + 0xfffffde8],ESI
007daa23 : MOV ECX,dword ptr [EBP + -0xc]
007daa26 : MOV dword ptr FS:[0x0],ECX
007daa2d : POP ECX
007daa2e : POP EDI
007daa2f : POP ESI
007daa30 : POP EBX
007daa31 : MOV ECX,dword ptr [EBP + -0x10]
007daa34 : XOR ECX,EBP
007daa36 : CALL 0x00633e6b
007daa3b : MOV ESP,EBP
007daa3d : POP EBP
007daa3e : RET 0x10
007daa41 : MOV EAX,dword ptr [EBP + 0xfffffdd8]
007daa47 : MOV EDI,0x8
007daa4c : CMP dword ptr [EBP + 0xfffffdec],EDI
007daa52 : JNC 0x007daa5a
007daa54 : LEA EAX,[EBP + 0xfffffdd8]
007daa5a : PUSH EAX
007daa5b : PUSH 0xc1ff18
007daa60 : LEA EDX,[EBP + 0xfffffdf0]
007daa66 : CALL 0x0040e4a0
007daa6b : MOV ESI,dword ptr [0x00da98e8]
007daa71 : LEA EAX,[EBP + 0xfffffdf0]
007daa77 : PUSH EAX
007daa78 : CALL 0x008018d0
007daa7d : ADD ESP,0xc
007daa80 : PUSH EBX
007daa81 : CALL 0x004451c0
007daa86 : MOV ECX,EBX
007daa88 : CALL 0x006f04e0
