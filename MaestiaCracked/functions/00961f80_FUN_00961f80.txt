PROGRAM  : Maestia.exe
FUNCTION : FUN_00961f80
ENTRY    : 00961f80
BODY     : [[00961f80, 00961ffa]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00961fe2) */

void FUN_00961f80(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  int unaff_ESI;
  
  puVar2 = *(undefined4 **)(unaff_ESI + 0x44);
  puVar1 = *(undefined4 **)(unaff_ESI + 0x48);
  while (puVar2 != puVar1) {
    if ((int *)puVar2[1] != (int *)0x0) {
      (**(code **)(*(int *)puVar2[1] + 0x18))(1);
      puVar2[1] = 0;
    }
    puVar1 = *(undefined4 **)(unaff_ESI + 0x48);
    puVar4 = puVar2;
    puVar3 = puVar2;
    while (puVar3 = puVar3 + 2, puVar3 != puVar1) {
      *puVar4 = *puVar3;
      puVar4[1] = puVar3[1];
      puVar4 = puVar4 + 2;
    }
    *(int *)(unaff_ESI + 0x48) = *(int *)(unaff_ESI + 0x48) + -8;
    puVar1 = *(undefined4 **)(unaff_ESI + 0x48);
  }
  if (*(int *)(unaff_ESI + 0x44) != *(int *)(unaff_ESI + 0x48)) {
    *(int *)(unaff_ESI + 0x48) = *(int *)(unaff_ESI + 0x44);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00961f80 : PUSH EDI
00961f81 : MOV EDI,dword ptr [ESI + 0x44]
00961f84 : CMP EDI,dword ptr [ESI + 0x48]
00961f87 : JZ 0x00961fd2
00961f89 : PUSH EBX
00961f8a : LEA EBX,[EBX]
00961f90 : MOV ECX,dword ptr [EDI + 0x4]
00961f93 : TEST ECX,ECX
00961f95 : JZ 0x00961fa7
00961f97 : MOV EAX,dword ptr [ECX]
00961f99 : MOV EDX,dword ptr [EAX + 0x18]
00961f9c : PUSH 0x1
00961f9e : CALL EDX
00961fa0 : MOV dword ptr [EDI + 0x4],0x0
00961fa7 : MOV EDX,dword ptr [ESI + 0x48]
00961faa : LEA EAX,[EDI + 0x8]
00961fad : CMP EAX,EDX
00961faf : JZ 0x00961fc8
00961fb1 : LEA ECX,[EAX + -0x8]
00961fb4 : MOV EBX,dword ptr [EAX]
00961fb6 : MOV dword ptr [ECX],EBX
00961fb8 : MOV EBX,dword ptr [EAX + 0x4]
00961fbb : MOV dword ptr [ECX + 0x4],EBX
00961fbe : ADD EAX,0x8
00961fc1 : ADD ECX,0x8
00961fc4 : CMP EAX,EDX
00961fc6 : JNZ 0x00961fb4
00961fc8 : ADD dword ptr [ESI + 0x48],-0x8
00961fcc : CMP EDI,dword ptr [ESI + 0x48]
00961fcf : JNZ 0x00961f90
00961fd1 : POP EBX
00961fd2 : MOV ECX,dword ptr [ESI + 0x44]
00961fd5 : MOV EDX,dword ptr [ESI + 0x48]
00961fd8 : CMP ECX,EDX
00961fda : JZ 0x00961ff9
00961fdc : MOV EAX,EDX
00961fde : CMP EDX,EDX
00961fe0 : JZ 0x00961ff6
00961fe2 : MOV EDI,dword ptr [EAX]
00961fe4 : MOV dword ptr [ECX],EDI
00961fe6 : MOV EDI,dword ptr [EAX + 0x4]
00961fe9 : MOV dword ptr [ECX + 0x4],EDI
00961fec : ADD EAX,0x8
00961fef : ADD ECX,0x8
00961ff2 : CMP EAX,EDX
00961ff4 : JNZ 0x00961fe2
00961ff6 : MOV dword ptr [ESI + 0x48],ECX
00961ff9 : POP EDI
00961ffa : RET
