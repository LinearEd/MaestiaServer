PROGRAM  : Maestia.exe
FUNCTION : FUN_00926920
ENTRY    : 00926920
BODY     : [[00926920, 00926ac2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00926920(int *param_1,undefined4 param_2,undefined2 param_3,uint param_4)

{
  char cVar1;
  uint uVar2;
  int iVar3;
  int *in_ECX;
  undefined8 uVar4;
  uint local_54;
  undefined1 local_50 [4];
  undefined2 local_4c;
  undefined4 local_3c;
  uint local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b38a10;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_34 = param_4 & 0xffff;
  local_14 = uVar2;
  cVar1 = FUN_00908130(in_ECX[0xf],param_2,param_1);
  if (cVar1 == '\0') {
    iVar3 = FUN_00404750(L"[AvaGuiRankUpGamble::_SetItemInSlot] Failed, x: %d, y: %d, key: %d",
                         param_3,local_34,param_1[3],uVar2);
    local_8 = 0;
    if (*(uint *)(iVar3 + 0x18) < 8) {
      iVar3 = iVar3 + 4;
    }
    else {
      iVar3 = *(int *)(iVar3 + 4);
    }
    FUN_00406460(iVar3);
    local_8._0_1_ = 1;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                (L"AvaGuiRankUpGamble::_SetItemInSlot",0x143,local_50);
    }
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_38 = 7;
    local_3c = 0;
    local_4c = 0;
    local_8 = 0xffffffff;
    if (7 < local_54) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = 0;
  local_8 = 2;
  (**(code **)(*in_ECX + 0x60))(param_1,local_30);
  uVar2 = local_34;
  local_34 = local_34 & 0xffffff00;
  if (param_1[9] != 0) {
    local_34 = CONCAT31(SUB43(uVar2,1),*(undefined1 *)(param_1[9] + 0xb1));
  }
  uVar2 = local_34;
  (**(code **)(*param_1 + 0xb0))();
  uVar4 = (**(code **)(*param_1 + 0x40))();
  in_ECX[0x3b] = (uint)uVar4 & 0xffff;
  local_8 = 0xffffffff;
  if (local_18 < 8) {
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
    ExceptionList = local_10;
    __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc,(int)((ulonglong)uVar4 >> 0x20),uVar2)
    ;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00926920 : PUSH EBP
00926921 : MOV EBP,ESP
00926923 : PUSH -0x1
00926925 : PUSH 0xb38a10
0092692a : MOV EAX,FS:[0x0]
00926930 : PUSH EAX
00926931 : SUB ESP,0x5c
00926934 : MOV EAX,[0x00d66fa0]
00926939 : XOR EAX,EBP
0092693b : MOV dword ptr [EBP + -0x10],EAX
0092693e : PUSH EBX
0092693f : PUSH ESI
00926940 : PUSH EDI
00926941 : PUSH EAX
00926942 : LEA EAX,[EBP + -0xc]
00926945 : MOV FS:[0x0],EAX
0092694b : MOV EDI,dword ptr [EBP + 0x8]
0092694e : MOV EAX,dword ptr [EBP + 0xc]
00926951 : MOVZX ESI,word ptr [EBP + 0x10]
00926955 : PUSH EDI
00926956 : MOV EBX,ECX
00926958 : MOVZX ECX,word ptr [EBP + 0x14]
0092695c : PUSH EAX
0092695d : MOV EAX,dword ptr [EBX + 0x3c]
00926960 : PUSH EAX
00926961 : MOV EDX,ESI
00926963 : MOV dword ptr [EBP + -0x30],ECX
00926966 : CALL 0x00908130
0092696b : TEST AL,AL
0092696d : JNZ 0x00926a16
00926973 : MOV EAX,dword ptr [EDI + 0xc]
00926976 : MOV ECX,dword ptr [EBP + -0x30]
00926979 : PUSH EAX
0092697a : PUSH ECX
0092697b : PUSH ESI
0092697c : PUSH 0xc6b0f0
00926981 : LEA ESI,[EBP + -0x68]
00926984 : CALL 0x00404750
00926989 : ADD ESP,0x10
0092698c : XOR ESI,ESI
0092698e : MOV dword ptr [EBP + -0x4],ESI
00926991 : CMP dword ptr [EAX + 0x18],0x8
00926995 : JC 0x0092699c
00926997 : MOV EAX,dword ptr [EAX + 0x4]
0092699a : JMP 0x0092699f
0092699c : ADD EAX,0x4
0092699f : PUSH EAX
009269a0 : LEA ECX,[EBP + -0x4c]
009269a3 : CALL 0x00406460
009269a8 : MOV byte ptr [EBP + -0x4],0x1
009269ac : MOV EDX,dword ptr [0x00da98e8]
009269b2 : MOV ECX,dword ptr [EDX]
009269b4 : CMP ECX,ESI
009269b6 : JZ 0x009269cd
009269b8 : MOV EAX,dword ptr [ECX]
009269ba : MOV EAX,dword ptr [EAX + 0x14]
009269bd : LEA EDX,[EBP + -0x4c]
009269c0 : PUSH EDX
009269c1 : PUSH 0x143
009269c6 : PUSH 0xc6b178
009269cb : CALL EAX
009269cd : MOV byte ptr [EBP + -0x4],0x0
009269d1 : CMP dword ptr [EBP + -0x34],0x8
009269d5 : JC 0x009269df
009269d7 : MOV ECX,dword ptr [EBP + -0x48]
009269da : CALL 0x006f04e0
009269df : XOR ECX,ECX
009269e1 : MOV dword ptr [EBP + -0x34],0x7
009269e8 : MOV dword ptr [EBP + -0x38],ESI
009269eb : MOV word ptr [EBP + -0x48],CX
009269ef : MOV dword ptr [EBP + -0x4],0xffffffff
009269f6 : CMP dword ptr [EBP + -0x50],0x8
009269fa : JC 0x00926a04
009269fc : MOV ECX,dword ptr [EBP + -0x64]
009269ff : CALL 0x006f04e0
00926a04 : XOR EDX,EDX
00926a06 : MOV dword ptr [EBP + -0x50],0x7
00926a0d : MOV dword ptr [EBP + -0x54],ESI
00926a10 : MOV word ptr [EBP + -0x64],DX
00926a14 : JMP 0x00926a18
00926a16 : XOR ESI,ESI
00926a18 : XOR EAX,EAX
00926a1a : MOV dword ptr [EBP + -0x14],0x7
00926a21 : MOV dword ptr [EBP + -0x18],ESI
00926a24 : MOV word ptr [EBP + -0x28],AX
00926a28 : MOV dword ptr [EBP + -0x4],0x2
00926a2f : MOV EDX,dword ptr [EBX]
00926a31 : MOV EDX,dword ptr [EDX + 0x60]
00926a34 : LEA EAX,[EBP + -0x2c]
00926a37 : PUSH EAX
00926a38 : PUSH EDI
00926a39 : MOV ECX,EBX
00926a3b : CALL EDX
00926a3d : MOV EAX,dword ptr [EDI + 0x24]
00926a40 : MOV byte ptr [EBP + -0x30],0x0
00926a44 : CMP EAX,ESI
00926a46 : JZ 0x00926a51
00926a48 : MOV AL,byte ptr [EAX + 0xb1]
00926a4e : MOV byte ptr [EBP + -0x30],AL
00926a51 : MOV EAX,dword ptr [EBP + -0x30]
00926a54 : MOV EDX,dword ptr [EDI]
00926a56 : MOV EDX,dword ptr [EDX + 0xb0]
00926a5c : PUSH EAX
00926a5d : MOV EAX,dword ptr [EBP + 0x14]
00926a60 : LEA ECX,[EBP + -0x2c]
00926a63 : PUSH ECX
00926a64 : MOV ECX,dword ptr [EBP + 0x10]
00926a67 : PUSH EAX
00926a68 : PUSH ECX
00926a69 : PUSH EBX
00926a6a : MOV ECX,EDI
00926a6c : CALL EDX
00926a6e : MOV EAX,dword ptr [EDI]
00926a70 : MOV EDX,dword ptr [EAX + 0x40]
00926a73 : MOV ECX,EDI
00926a75 : CALL EDX
00926a77 : MOVZX EAX,AX
00926a7a : MOV dword ptr [EBX + 0xec],EAX
00926a80 : MOV dword ptr [EBP + -0x4],0xffffffff
00926a87 : CMP dword ptr [EBP + -0x14],0x8
00926a8b : JC 0x00926a95
00926a8d : MOV ECX,dword ptr [EBP + -0x28]
00926a90 : CALL 0x006f04e0
00926a95 : XOR ECX,ECX
00926a97 : MOV dword ptr [EBP + -0x14],0x7
00926a9e : MOV dword ptr [EBP + -0x18],ESI
00926aa1 : MOV word ptr [EBP + -0x28],CX
00926aa5 : MOV ECX,dword ptr [EBP + -0xc]
00926aa8 : MOV dword ptr FS:[0x0],ECX
00926aaf : POP ECX
00926ab0 : POP EDI
00926ab1 : POP ESI
00926ab2 : POP EBX
00926ab3 : MOV ECX,dword ptr [EBP + -0x10]
00926ab6 : XOR ECX,EBP
00926ab8 : CALL 0x00633e6b
00926abd : MOV ESP,EBP
00926abf : POP EBP
00926ac0 : RET 0x10
