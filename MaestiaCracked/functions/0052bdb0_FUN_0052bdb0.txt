PROGRAM  : Maestia.exe
FUNCTION : FUN_0052bdb0
ENTRY    : 0052bdb0
BODY     : [[0052bdb0, 0052be59]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0052bdb0(void)

{
  int iVar1;
  uint uVar2;
  undefined4 *puVar3;
  uint uVar4;
  int in_ECX;
  int *piVar5;
  int *piVar6;
  
  iVar1 = *(int *)(in_ECX + 0x10);
  piVar6 = (int *)(in_ECX + 0x10);
  if (iVar1 == 0) {
    uVar4 = 0;
    piVar6 = (int *)0x0;
  }
  else {
    uVar4 = 0;
    piVar5 = (int *)(iVar1 + 8);
    do {
      if (*piVar5 != -2) break;
      uVar4 = uVar4 + 1;
      piVar5 = piVar5 + 6;
    } while (uVar4 <= *(uint *)(iVar1 + 4));
  }
  do {
    do {
      if (((piVar6 == (int *)0x0) || (*piVar6 == 0)) || (*(int *)(*piVar6 + 4) < (int)uVar4)) {
        puVar3 = *(undefined4 **)(in_ECX + 0x14);
        if (puVar3 != (undefined4 *)0x0) {
          puVar3[2] = puVar3[2] + 1;
          if ((puVar3[2] & 0x70000000) != 0) {
            puVar3[2] = puVar3[2] & 0x8fffffff;
            (**(code **)*puVar3)(2);
          }
        }
        FUN_005262a0();
        FUN_005262a0();
        return;
      }
      FUN_005262a0();
      uVar2 = *(uint *)(*piVar6 + 4);
    } while (((int)uVar2 < (int)uVar4) || (uVar4 = uVar4 + 1, uVar2 < uVar4));
    piVar5 = (int *)(*piVar6 + 8 + uVar4 * 0x18);
    do {
      if (*piVar5 != -2) break;
      uVar4 = uVar4 + 1;
      piVar5 = piVar5 + 6;
    } while (uVar4 <= uVar2);
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
0052bdb0 : PUSH EBX
0052bdb1 : MOV EBX,ECX
0052bdb3 : MOV ECX,dword ptr [EBX + 0x10]
0052bdb6 : PUSH ESI
0052bdb7 : LEA ESI,[EBX + 0x10]
0052bdba : TEST ECX,ECX
0052bdbc : JNZ 0x0052bdc2
0052bdbe : XOR EAX,EAX
0052bdc0 : JMP 0x0052bddf
0052bdc2 : MOV EDX,dword ptr [ECX + 0x4]
0052bdc5 : XOR EAX,EAX
0052bdc7 : ADD ECX,0x8
0052bdca : LEA EBX,[EBX]
0052bdd0 : CMP dword ptr [ECX],-0x2
0052bdd3 : JNZ 0x0052bddd
0052bdd5 : INC EAX
0052bdd6 : ADD ECX,0x18
0052bdd9 : CMP EAX,EDX
0052bddb : JBE 0x0052bdd0
0052bddd : MOV ECX,ESI
0052bddf : PUSH EDI
0052bde0 : MOV EDI,ECX
0052bde2 : MOV ESI,EAX
0052bde4 : TEST EDI,EDI
0052bde6 : JZ 0x0052be23
0052bde8 : MOV EAX,dword ptr [EDI]
0052bdea : TEST EAX,EAX
0052bdec : JZ 0x0052be23
0052bdee : CMP ESI,dword ptr [EAX + 0x4]
0052bdf1 : JG 0x0052be23
0052bdf3 : LEA ECX,[ESI + ESI*0x2]
0052bdf6 : LEA ECX,[EAX + ECX*0x8 + 0x10]
0052bdfa : CALL 0x005262a0
0052bdff : MOV ECX,dword ptr [EDI]
0052be01 : MOV EAX,dword ptr [ECX + 0x4]
0052be04 : CMP ESI,EAX
0052be06 : JG 0x0052bde4
0052be08 : INC ESI
0052be09 : CMP ESI,EAX
0052be0b : JA 0x0052bde4
0052be0d : LEA EDX,[ESI + ESI*0x2]
0052be10 : LEA ECX,[ECX + EDX*0x8 + 0x8]
0052be14 : CMP dword ptr [ECX],-0x2
0052be17 : JNZ 0x0052bde4
0052be19 : INC ESI
0052be1a : ADD ECX,0x18
0052be1d : CMP ESI,EAX
0052be1f : JBE 0x0052be14
0052be21 : JMP 0x0052bde4
0052be23 : MOV ECX,dword ptr [EBX + 0x14]
0052be26 : POP EDI
0052be27 : TEST ECX,ECX
0052be29 : JZ 0x0052be48
0052be2b : INC dword ptr [ECX + 0x8]
0052be2e : MOV EAX,dword ptr [ECX + 0x8]
0052be31 : TEST EAX,0x70000000
0052be36 : JZ 0x0052be48
0052be38 : AND EAX,0x8fffffff
0052be3d : MOV dword ptr [ECX + 0x8],EAX
0052be40 : MOV EAX,dword ptr [ECX]
0052be42 : MOV EDX,dword ptr [EAX]
0052be44 : PUSH 0x2
0052be46 : CALL EDX
0052be48 : LEA ECX,[EBX + 0x28]
0052be4b : CALL 0x005262a0
0052be50 : POP ESI
0052be51 : LEA ECX,[EBX + 0x38]
0052be54 : POP EBX
0052be55 : JMP 0x005262a0
