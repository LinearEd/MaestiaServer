PROGRAM  : Maestia.exe
FUNCTION : FUN_009cacc0
ENTRY    : 009cacc0
BODY     : [[009cacc0, 009caf0f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009cacc0(int param_1,int param_2)

{
  short sVar1;
  uint uVar2;
  short *psVar3;
  int iVar4;
  undefined4 ***pppuVar5;
  uint local_a4;
  uint local_88;
  undefined1 local_84 [4];
  undefined2 local_80;
  undefined4 local_70;
  uint local_6c;
  undefined1 local_68 [4];
  undefined2 local_64;
  undefined4 local_54;
  uint local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined4 **local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b228c9;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(uint *)(param_1 + 0x38) = (uint)*(byte *)(param_2 + 0x54);
  local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
  local_18 = 7;
  local_1c = 0;
  psVar3 = (short *)(param_2 + 4);
  do {
    sVar1 = *psVar3;
    psVar3 = psVar3 + 1;
  } while (sVar1 != 0);
  local_14 = uVar2;
  FUN_00406360((short *)(param_2 + 4),(int)psVar3 - (param_2 + 6) >> 1);
  local_8 = 0;
  if (*(int *)(param_1 + 0x38) == 1) {
    FUN_00406460(L"IDS_BATTLESTAGE_INVITED");
    local_8._0_1_ = 1;
    iVar4 = FUN_0081d120(local_68);
    local_8._0_1_ = 2;
    pppuVar5 = (undefined4 ***)local_2c[0];
    if (local_18 < 8) {
      pppuVar5 = local_2c;
    }
    if (*(uint *)(iVar4 + 0x18) < 8) {
      iVar4 = iVar4 + 4;
    }
    else {
      iVar4 = *(int *)(iVar4 + 4);
    }
    FUN_00404750(iVar4,pppuVar5,uVar2);
    local_8 = CONCAT31(local_8._1_3_,4);
    if (7 < local_a4) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8._0_1_ = 5;
    if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_50 = 7;
    local_54 = 0;
    local_64 = 0;
  }
  else {
    if (*(int *)(param_1 + 0x38) != 2) goto LAB_009caec9;
    FUN_00406460(L"IDS_BATTLESTAGE_INVITED_PARTY");
    local_8._0_1_ = 6;
    iVar4 = FUN_0081d120(local_84);
    local_8._0_1_ = 7;
    pppuVar5 = (undefined4 ***)local_2c[0];
    if (local_18 < 8) {
      pppuVar5 = local_2c;
    }
    if (*(uint *)(iVar4 + 0x18) < 8) {
      iVar4 = iVar4 + 4;
    }
    else {
      iVar4 = *(int *)(iVar4 + 4);
    }
    FUN_00404750(iVar4,pppuVar5,uVar2);
    local_8 = CONCAT31(local_8._1_3_,9);
    if (7 < local_88) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8._0_1_ = 10;
    if (7 < local_6c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_6c = 7;
    local_70 = 0;
    local_80 = 0;
  }
  (**(code **)(**(int **)(*(int *)(param_1 + 4) + 0x1a8) + 0x44))(local_4c,0x13);
  local_8 = (uint)local_8._1_3_ << 8;
  if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_48 = 0;
  local_38 = 0;
  local_34 = 7;
LAB_009caec9:
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009cacc0 : PUSH EBP
009cacc1 : MOV EBP,ESP
009cacc3 : PUSH -0x1
009cacc5 : PUSH 0xb228c9
009cacca : MOV EAX,FS:[0x0]
009cacd0 : PUSH EAX
009cacd1 : SUB ESP,0xac
009cacd7 : MOV EAX,[0x00d66fa0]
009cacdc : XOR EAX,EBP
009cacde : MOV dword ptr [EBP + -0x10],EAX
009cace1 : PUSH EBX
009cace2 : PUSH ESI
009cace3 : PUSH EDI
009cace4 : PUSH EAX
009cace5 : LEA EAX,[EBP + -0xc]
009cace8 : MOV FS:[0x0],EAX
009cacee : MOV EAX,dword ptr [EBP + 0xc]
009cacf1 : MOVZX ECX,byte ptr [EAX + 0x54]
009cacf5 : MOV EBX,dword ptr [EBP + 0x8]
009cacf8 : MOV dword ptr [EBX + 0x38],ECX
009cacfb : LEA ECX,[EAX + 0x4]
009cacfe : XOR EDI,EDI
009cad00 : XOR EAX,EAX
009cad02 : MOV word ptr [EBP + -0x28],AX
009cad06 : MOV EAX,ECX
009cad08 : MOV dword ptr [EBP + -0x14],0x7
009cad0f : MOV dword ptr [EBP + -0x18],EDI
009cad12 : LEA ESI,[EAX + 0x2]
009cad15 : MOV DX,word ptr [EAX]
009cad18 : ADD EAX,0x2
009cad1b : CMP DX,DI
009cad1e : JNZ 0x009cad15
009cad20 : SUB EAX,ESI
009cad22 : SAR EAX,0x1
009cad24 : PUSH EAX
009cad25 : PUSH ECX
009cad26 : LEA ECX,[EBP + -0x2c]
009cad29 : CALL 0x00406360
009cad2e : MOV dword ptr [EBP + -0x4],EDI
009cad31 : MOV EAX,dword ptr [EBX + 0x38]
009cad34 : SUB EAX,0x1
009cad37 : JZ 0x009cadf0
009cad3d : SUB EAX,0x1
009cad40 : JNZ 0x009caec9
009cad46 : PUSH 0xc929cc
009cad4b : LEA ECX,[EBP + -0x80]
009cad4e : CALL 0x00406460
009cad53 : MOV byte ptr [EBP + -0x4],0x6
009cad57 : LEA ECX,[EBP + -0x80]
009cad5a : PUSH ECX
009cad5b : MOV ECX,dword ptr [0x0172491c]
009cad61 : LEA EDI,[EBP + 0xffffff64]
009cad67 : CALL 0x0081d120
009cad6c : MOV byte ptr [EBP + -0x4],0x7
009cad70 : MOV ECX,dword ptr [EBP + -0x28]
009cad73 : MOV EDI,0x8
009cad78 : CMP dword ptr [EBP + -0x14],EDI
009cad7b : JNC 0x009cad80
009cad7d : LEA ECX,[EBP + -0x28]
009cad80 : CMP dword ptr [EAX + 0x18],EDI
009cad83 : JC 0x009cad8a
009cad85 : MOV EAX,dword ptr [EAX + 0x4]
009cad88 : JMP 0x009cad8d
009cad8a : ADD EAX,0x4
009cad8d : PUSH ECX
009cad8e : PUSH EAX
009cad8f : LEA ESI,[EBP + -0x48]
009cad92 : CALL 0x00404750
009cad97 : ADD ESP,0x8
009cad9a : MOV byte ptr [EBP + -0x4],0x9
009cad9e : CMP dword ptr [EBP + 0xffffff7c],EDI
009cada4 : JC 0x009cadb1
009cada6 : MOV ECX,dword ptr [EBP + 0xffffff68]
009cadac : CALL 0x006f04e0
009cadb1 : MOV EDI,0x7
009cadb6 : XOR ESI,ESI
009cadb8 : XOR EDX,EDX
009cadba : MOV dword ptr [EBP + 0xffffff7c],EDI
009cadc0 : MOV dword ptr [EBP + 0xffffff78],ESI
009cadc6 : MOV word ptr [EBP + 0xffffff68],DX
009cadcd : MOV byte ptr [EBP + -0x4],0xa
009cadd1 : CMP dword ptr [EBP + -0x68],0x8
009cadd5 : JC 0x009caddf
009cadd7 : MOV ECX,dword ptr [EBP + -0x7c]
009cadda : CALL 0x006f04e0
009caddf : XOR EAX,EAX
009cade1 : MOV dword ptr [EBP + -0x68],EDI
009cade4 : MOV dword ptr [EBP + -0x6c],ESI
009cade7 : MOV word ptr [EBP + -0x7c],AX
009cadeb : JMP 0x009cae95
009cadf0 : PUSH 0xc9299c
009cadf5 : LEA ECX,[EBP + -0x64]
009cadf8 : CALL 0x00406460
009cadfd : MOV byte ptr [EBP + -0x4],0x1
009cae01 : LEA ECX,[EBP + -0x64]
009cae04 : PUSH ECX
009cae05 : MOV ECX,dword ptr [0x0172491c]
009cae0b : LEA EDI,[EBP + 0xffffff48]
009cae11 : CALL 0x0081d120
009cae16 : MOV byte ptr [EBP + -0x4],0x2
009cae1a : MOV ECX,dword ptr [EBP + -0x28]
009cae1d : MOV EDI,0x8
009cae22 : CMP dword ptr [EBP + -0x14],EDI
009cae25 : JNC 0x009cae2a
009cae27 : LEA ECX,[EBP + -0x28]
009cae2a : CMP dword ptr [EAX + 0x18],EDI
009cae2d : JC 0x009cae34
009cae2f : MOV EAX,dword ptr [EAX + 0x4]
009cae32 : JMP 0x009cae37
009cae34 : ADD EAX,0x4
009cae37 : PUSH ECX
009cae38 : PUSH EAX
009cae39 : LEA ESI,[EBP + -0x48]
009cae3c : CALL 0x00404750
009cae41 : ADD ESP,0x8
009cae44 : MOV byte ptr [EBP + -0x4],0x4
009cae48 : CMP dword ptr [EBP + 0xffffff60],EDI
009cae4e : JC 0x009cae5b
009cae50 : MOV ECX,dword ptr [EBP + 0xffffff4c]
009cae56 : CALL 0x006f04e0
009cae5b : MOV EDI,0x7
009cae60 : XOR ESI,ESI
009cae62 : XOR EDX,EDX
009cae64 : MOV dword ptr [EBP + 0xffffff60],EDI
009cae6a : MOV dword ptr [EBP + 0xffffff5c],ESI
009cae70 : MOV word ptr [EBP + 0xffffff4c],DX
009cae77 : MOV byte ptr [EBP + -0x4],0x5
009cae7b : CMP dword ptr [EBP + -0x4c],0x8
009cae7f : JC 0x009cae89
009cae81 : MOV ECX,dword ptr [EBP + -0x60]
009cae84 : CALL 0x006f04e0
009cae89 : XOR EAX,EAX
009cae8b : MOV dword ptr [EBP + -0x4c],EDI
009cae8e : MOV dword ptr [EBP + -0x50],ESI
009cae91 : MOV word ptr [EBP + -0x60],AX
009cae95 : MOV ECX,dword ptr [EBX + 0x4]
009cae98 : MOV ECX,dword ptr [ECX + 0x1a8]
009cae9e : MOV EDX,dword ptr [ECX]
009caea0 : MOV EDX,dword ptr [EDX + 0x44]
009caea3 : PUSH 0x13
009caea5 : LEA EAX,[EBP + -0x48]
009caea8 : PUSH EAX
009caea9 : CALL EDX
009caeab : MOV byte ptr [EBP + -0x4],0x0
009caeaf : CMP dword ptr [EBP + -0x30],0x8
009caeb3 : JC 0x009caebd
009caeb5 : MOV ECX,dword ptr [EBP + -0x44]
009caeb8 : CALL 0x006f04e0
009caebd : XOR EAX,EAX
009caebf : MOV word ptr [EBP + -0x44],AX
009caec3 : MOV dword ptr [EBP + -0x34],ESI
009caec6 : MOV dword ptr [EBP + -0x30],EDI
009caec9 : MOV dword ptr [EBP + -0x4],0xffffffff
009caed0 : CMP dword ptr [EBP + -0x14],0x8
009caed4 : JC 0x009caede
009caed6 : MOV ECX,dword ptr [EBP + -0x28]
009caed9 : CALL 0x006f04e0
009caede : XOR ECX,ECX
009caee0 : MOV dword ptr [EBP + -0x14],0x7
009caee7 : MOV dword ptr [EBP + -0x18],0x0
009caeee : MOV word ptr [EBP + -0x28],CX
009caef2 : MOV ECX,dword ptr [EBP + -0xc]
009caef5 : MOV dword ptr FS:[0x0],ECX
009caefc : POP ECX
009caefd : POP EDI
009caefe : POP ESI
009caeff : POP EBX
009caf00 : MOV ECX,dword ptr [EBP + -0x10]
009caf03 : XOR ECX,EBP
009caf05 : CALL 0x00633e6b
009caf0a : MOV ESP,EBP
009caf0c : POP EBP
009caf0d : RET 0x8
