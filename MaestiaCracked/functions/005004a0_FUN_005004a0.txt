PROGRAM  : Maestia.exe
FUNCTION : FUN_005004a0
ENTRY    : 005004a0
BODY     : [[005004a0, 00500507]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005004a0(uint param_1)

{
  uint uVar1;
  undefined4 uVar2;
  int in_ECX;
  
  uVar1 = param_1;
  if (*(uint *)(in_ECX + 8) <= param_1) {
    if (*(int *)(in_ECX + 0xc) == 0) {
      param_1 = 2;
      uVar2 = FUN_00515d60(in_ECX,0x14,&param_1);
    }
    else {
      uVar2 = FUN_00515c80(*(int *)(in_ECX + 0xc),*(uint *)(in_ECX + 8) * 4 + 0x14);
    }
    *(int *)(in_ECX + 8) = *(int *)(in_ECX + 8) + 5;
    *(undefined4 *)(in_ECX + 0xc) = uVar2;
  }
  param_1 = 2;
  uVar2 = FUN_00515d60(in_ECX,0x1000,&param_1);
  *(undefined4 *)(*(int *)(in_ECX + 0xc) + uVar1 * 4) = uVar2;
  *(int *)(in_ECX + 4) = *(int *)(in_ECX + 4) + 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
005004a0 : PUSH ESI
005004a1 : MOV ESI,ECX
005004a3 : MOV EAX,dword ptr [ESI + 0x8]
005004a6 : PUSH EDI
005004a7 : MOV EDI,dword ptr [ESP + 0xc]
005004ab : CMP EDI,EAX
005004ad : JC 0x005004e2
005004af : MOV ECX,dword ptr [ESI + 0xc]
005004b2 : TEST ECX,ECX
005004b4 : JZ 0x005004c6
005004b6 : LEA EAX,[EAX*0x4 + 0x14]
005004bd : PUSH EAX
005004be : PUSH ECX
005004bf : CALL 0x00515c80
005004c4 : JMP 0x005004db
005004c6 : LEA EAX,[ESP + 0xc]
005004ca : PUSH EAX
005004cb : PUSH 0x14
005004cd : PUSH ESI
005004ce : MOV dword ptr [ESP + 0x18],0x2
005004d6 : CALL 0x00515d60
005004db : ADD dword ptr [ESI + 0x8],0x5
005004df : MOV dword ptr [ESI + 0xc],EAX
005004e2 : LEA ECX,[ESP + 0xc]
005004e6 : PUSH ECX
005004e7 : PUSH 0x1000
005004ec : PUSH ESI
005004ed : MOV dword ptr [ESP + 0x18],0x2
005004f5 : CALL 0x00515d60
005004fa : MOV EDX,dword ptr [ESI + 0xc]
005004fd : MOV dword ptr [EDX + EDI*0x4],EAX
00500500 : INC dword ptr [ESI + 0x4]
00500503 : POP EDI
00500504 : POP ESI
00500505 : RET 0x4
