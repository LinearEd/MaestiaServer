PROGRAM  : Maestia.exe
FUNCTION : FUN_0094ec20
ENTRY    : 0094ec20
BODY     : [[0094ec20, 0094ee9a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0094ec20(void)

{
  int iVar1;
  float fVar2;
  uint uVar3;
  int *piVar4;
  undefined4 uVar5;
  int in_ECX;
  int *unaff_EDI;
  undefined4 local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  undefined4 local_68;
  float local_64;
  float local_60;
  float local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  int local_48;
  int local_44;
  float fStack_40;
  int local_38;
  undefined1 local_30 [28];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b38b39;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  uVar5 = *(undefined4 *)(in_ECX + 0x80);
  iVar1 = *(int *)(*(int *)(DAT_0172491c + 0x90) + 0x110);
  local_4c = uVar5;
  local_48 = in_ECX;
  local_14 = uVar3;
  FUN_00484470(&local_4c);
  if ((((local_38 != *(int *)(iVar1 + 8)) && (*(int *)(local_38 + 0x10) != 0)) &&
      (local_38 = *(int *)(*(int *)(local_38 + 0x10) + 0x50), local_38 != 0)) &&
     (unaff_EDI != (int *)0x0)) {
    piVar4 = (int *)FUN_007c8780(uVar5);
    if ((piVar4 != (int *)0x0) && (piVar4[7] == 1)) {
      FUN_00404750(L"%u_PreviewPet",unaff_EDI[1],uVar3);
      local_8 = 0;
      local_58 = 0x3f800000;
      local_54 = 0x3f800000;
      local_50 = 0x3f800000;
      local_8c = 0;
      local_88 = 0;
      local_84 = 0;
      local_80 = 0x3f800000;
      local_70 = 0;
      local_6c = 0;
      local_68 = 0;
      uVar5 = (**(code **)(**(int **)(local_38 + 0x24) + 0x20))
                        (local_30,&local_70,&local_8c,&local_58);
      (**(code **)(*unaff_EDI + 0x1ec))(uVar5);
      (**(code **)(*unaff_EDI + 0x1e8))(0);
      (**(code **)(*unaff_EDI + 600))(1);
      FUN_0040ea60();
      local_7c = 0;
      local_78 = 0x40c00000;
      local_74 = 0xc1a00000;
      (**(code **)(*piVar4 + 0xc))(&local_7c);
      local_44 = (int)(longlong)ROUND((float)unaff_EDI[0x106]);
      fVar2 = (float)local_44;
      if (local_44 < 0) {
        fVar2 = fVar2 + 4.2949673e+09;
      }
      fVar2 = fVar2 * 0.1;
      _local_44 = CONCAT44(fVar2,local_44);
      local_64 = fVar2 * 0.0;
      local_60 = fVar2 * 2.0 - 4.0;
      local_5c = fVar2 * DAT_00d72c20 - 8.0;
      (**(code **)(*piVar4 + 0x10))(&local_64);
      FUN_007f1490();
      FUN_007f1ca0();
      *(undefined1 *)(local_48 + 0x44) = 1;
      local_8 = 0xffffffff;
      FUN_00406560();
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0094ec20 : PUSH EBP
0094ec21 : MOV EBP,ESP
0094ec23 : PUSH -0x1
0094ec25 : PUSH 0xb38b39
0094ec2a : MOV EAX,FS:[0x0]
0094ec30 : PUSH EAX
0094ec31 : SUB ESP,0x80
0094ec37 : MOV EAX,[0x00d66fa0]
0094ec3c : XOR EAX,EBP
0094ec3e : MOV dword ptr [EBP + -0x10],EAX
0094ec41 : PUSH EBX
0094ec42 : PUSH ESI
0094ec43 : PUSH EAX
0094ec44 : LEA EAX,[EBP + -0xc]
0094ec47 : MOV FS:[0x0],EAX
0094ec4d : MOV EBX,dword ptr [ECX + 0x80]
0094ec53 : MOV EAX,[0x0172491c]
0094ec58 : MOV EAX,dword ptr [EAX + 0x90]
0094ec5e : MOV ESI,dword ptr [EAX + 0x110]
0094ec64 : MOV dword ptr [EBP + -0x44],ECX
0094ec67 : LEA ECX,[EBP + -0x48]
0094ec6a : PUSH ECX
0094ec6b : LEA ECX,[ESI + 0x4]
0094ec6e : LEA EAX,[EBP + -0x34]
0094ec71 : MOV dword ptr [EBP + -0x48],EBX
0094ec74 : CALL 0x00484470
0094ec79 : MOV ESI,dword ptr [ESI + 0x8]
0094ec7c : MOV EAX,dword ptr [EBP + -0x34]
0094ec7f : CMP EAX,ESI
0094ec81 : JZ 0x0094ee80
0094ec87 : MOV EAX,dword ptr [EAX + 0x10]
0094ec8a : TEST EAX,EAX
0094ec8c : JZ 0x0094ee80
0094ec92 : MOV EAX,dword ptr [EAX + 0x50]
0094ec95 : MOV dword ptr [EBP + -0x34],EAX
0094ec98 : TEST EAX,EAX
0094ec9a : JZ 0x0094ee80
0094eca0 : TEST EDI,EDI
0094eca2 : JZ 0x0094ee80
0094eca8 : MOV EDX,dword ptr [0x0172491c]
0094ecae : MOV EAX,dword ptr [EDX + 0x90]
0094ecb4 : MOV EAX,dword ptr [EAX + 0x110]
0094ecba : PUSH EBX
0094ecbb : MOV ESI,EAX
0094ecbd : CALL 0x007c8780
0094ecc2 : MOV EBX,EAX
0094ecc4 : TEST EBX,EBX
0094ecc6 : JZ 0x0094ee80
0094eccc : MOV EAX,dword ptr [EBX + 0x1c]
0094eccf : CMP EAX,0x1
0094ecd2 : JNZ 0x0094ee80
0094ecd8 : MOV EAX,dword ptr [EDI + 0x4]
0094ecdb : PUSH EAX
0094ecdc : PUSH 0xc748a4
0094ece1 : LEA ESI,[EBP + -0x2c]
0094ece4 : CALL 0x00404750
0094ece9 : ADD ESP,0x8
0094ecec : MOV dword ptr [EBP + -0x4],0x0
0094ecf3 : MOV EAX,dword ptr [EBP + -0x34]
0094ecf6 : MOV ECX,dword ptr [EAX + 0x24]
0094ecf9 : XORPS XMM0,XMM0
0094ecfc : MOVSS XMM1,dword ptr [0x00c10fc4]
0094ed04 : LEA EAX,[EBP + -0x54]
0094ed07 : PUSH EAX
0094ed08 : LEA EAX,[EBP + 0xffffff78]
0094ed0e : PUSH EAX
0094ed0f : LEA EAX,[EBP + -0x6c]
0094ed12 : PUSH EAX
0094ed13 : MOVSS dword ptr [EBP + -0x54],XMM1
0094ed18 : MOVSS dword ptr [EBP + -0x50],XMM1
0094ed1d : MOVSS dword ptr [EBP + -0x4c],XMM1
0094ed22 : MOVSS dword ptr [EBP + 0xffffff78],XMM0
0094ed2a : MOVSS dword ptr [EBP + 0xffffff7c],XMM0
0094ed32 : MOVSS dword ptr [EBP + -0x80],XMM0
0094ed37 : MOVSS dword ptr [EBP + -0x7c],XMM1
0094ed3c : MOVSS dword ptr [EBP + -0x6c],XMM0
0094ed41 : MOVSS dword ptr [EBP + -0x68],XMM0
0094ed46 : MOVSS dword ptr [EBP + -0x64],XMM0
0094ed4b : MOV EDX,dword ptr [ECX]
0094ed4d : MOV EDX,dword ptr [EDX + 0x20]
0094ed50 : MOV EAX,ESI
0094ed52 : PUSH EAX
0094ed53 : CALL EDX
0094ed55 : MOV EDX,dword ptr [EDI]
0094ed57 : PUSH EAX
0094ed58 : MOV EAX,dword ptr [EDX + 0x1ec]
0094ed5e : MOV ECX,EDI
0094ed60 : CALL EAX
0094ed62 : MOV EDX,dword ptr [EDI]
0094ed64 : MOV EAX,dword ptr [EDX + 0x1e8]
0094ed6a : PUSH 0x0
0094ed6c : MOV ECX,EDI
0094ed6e : CALL EAX
0094ed70 : MOV EDX,dword ptr [EDI]
0094ed72 : MOV EAX,dword ptr [EDX + 0x258]
0094ed78 : PUSH 0x1
0094ed7a : MOV ECX,EDI
0094ed7c : CALL EAX
0094ed7e : MOV EAX,dword ptr [EDI + 0x3e8]
0094ed84 : MOVSS XMM0,dword ptr [0x00c10fc4]
0094ed8c : CALL 0x0040ea60
0094ed91 : XORPS XMM0,XMM0
0094ed94 : MOV EDX,dword ptr [EBX]
0094ed96 : MOV EDX,dword ptr [EDX + 0xc]
0094ed99 : MOVSS dword ptr [EBP + -0x78],XMM0
0094ed9e : MOVSS XMM0,dword ptr [0x00cdf148]
0094eda6 : LEA EAX,[EBP + -0x78]
0094eda9 : MOVSS dword ptr [EBP + -0x74],XMM0
0094edae : MOVSS XMM0,dword ptr [0x00cdf734]
0094edb6 : PUSH EAX
0094edb7 : MOV ECX,EBX
0094edb9 : MOVSS dword ptr [EBP + -0x70],XMM0
0094edbe : CALL EDX
0094edc0 : FLD float ptr [EDI + 0x418]
0094edc6 : FNSTCW word ptr [EBP + -0x2e]
0094edc9 : MOVZX EAX,word ptr [EBP + -0x2e]
0094edcd : OR EAX,0xc00
0094edd2 : MOV dword ptr [EBP + -0x3c],EAX
0094edd5 : FLDCW word ptr [EBP + -0x3c]
0094edd8 : FISTP qword ptr [EBP + -0x40]
0094eddb : MOV EAX,dword ptr [EBP + -0x40]
0094edde : FLDCW word ptr [EBP + -0x2e]
0094ede1 : FILD dword ptr [EBP + -0x40]
0094ede4 : TEST EAX,EAX
0094ede6 : JGE 0x0094edee
0094ede8 : FADD float ptr [0x00cdf0e0]
0094edee : FMUL float ptr [0x00cdf0f0]
0094edf4 : MOV EDX,dword ptr [EBX]
0094edf6 : MOV EDX,dword ptr [EDX + 0x10]
0094edf9 : LEA EAX,[EBP + -0x60]
0094edfc : FSTP float ptr [EBP + -0x3c]
0094edff : PUSH EAX
0094ee00 : MOVSS XMM1,dword ptr [EBP + -0x3c]
0094ee05 : MOVAPS XMM2,XMM1
0094ee08 : MULSS XMM2,dword ptr [0x00b9b0b4]
0094ee10 : MOVAPS XMM0,XMM1
0094ee13 : MULSS XMM0,dword ptr [0x00cdf144]
0094ee1b : MULSS XMM1,dword ptr [0x00d72c20]
0094ee23 : SUBSS XMM0,dword ptr [0x00cdf21c]
0094ee2b : SUBSS XMM1,dword ptr [0x00cdf15c]
0094ee33 : MOV ECX,EBX
0094ee35 : MOVSS dword ptr [EBP + -0x60],XMM2
0094ee3a : MOVSS dword ptr [EBP + -0x5c],XMM0
0094ee3f : MOVSS dword ptr [EBP + -0x58],XMM1
0094ee44 : CALL EDX
0094ee46 : MOVSS XMM1,dword ptr [0x00c10f24]
0094ee4e : MOVSS XMM2,dword ptr [0x00c10fc4]
0094ee56 : MOV EAX,EBX
0094ee58 : CALL 0x007f1490
0094ee5d : MOVSS XMM0,dword ptr [0x00c18874]
0094ee65 : CALL 0x007f1ca0
0094ee6a : MOV EAX,dword ptr [EBP + -0x44]
0094ee6d : MOV byte ptr [EAX + 0x44],0x1
0094ee71 : MOV dword ptr [EBP + -0x4],0xffffffff
0094ee78 : LEA ECX,[EBP + -0x2c]
0094ee7b : CALL 0x00406560
0094ee80 : MOV ECX,dword ptr [EBP + -0xc]
0094ee83 : MOV dword ptr FS:[0x0],ECX
0094ee8a : POP ECX
0094ee8b : POP ESI
0094ee8c : POP EBX
0094ee8d : MOV ECX,dword ptr [EBP + -0x10]
0094ee90 : XOR ECX,EBP
0094ee92 : CALL 0x00633e6b
0094ee97 : MOV ESP,EBP
0094ee99 : POP EBP
0094ee9a : RET
