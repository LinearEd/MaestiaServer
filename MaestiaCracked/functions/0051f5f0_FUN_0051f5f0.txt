PROGRAM  : Maestia.exe
FUNCTION : FUN_0051f5f0
ENTRY    : 0051f5f0
BODY     : [[0051f5f0, 0051f62c]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_0051f5f0(undefined4 *param_1)

{
  int iVar1;
  uint uVar2;
  int *in_ECX;
  int *piVar3;
  
  iVar1 = *in_ECX;
  if (iVar1 == 0) {
    param_1[1] = 0;
    *param_1 = 0;
    return param_1;
  }
  uVar2 = 0;
  piVar3 = (int *)(iVar1 + 8);
  do {
    if (*piVar3 != -2) break;
    uVar2 = uVar2 + 1;
    piVar3 = piVar3 + 9;
  } while (uVar2 <= *(uint *)(iVar1 + 4));
  param_1[1] = uVar2;
  *param_1 = in_ECX;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
0051f5f0 : MOV EDX,dword ptr [ECX]
0051f5f2 : TEST EDX,EDX
0051f5f4 : JNZ 0x0051f608
0051f5f6 : MOV EDX,dword ptr [ESP + 0x4]
0051f5fa : XOR ECX,ECX
0051f5fc : XOR EAX,EAX
0051f5fe : MOV dword ptr [EDX + 0x4],EAX
0051f601 : MOV dword ptr [EDX],ECX
0051f603 : MOV EAX,EDX
0051f605 : RET 0x4
0051f608 : PUSH ESI
0051f609 : MOV ESI,dword ptr [EDX + 0x4]
0051f60c : XOR EAX,EAX
0051f60e : ADD EDX,0x8
0051f611 : CMP dword ptr [EDX],-0x2
0051f614 : JNZ 0x0051f61e
0051f616 : INC EAX
0051f617 : ADD EDX,0x24
0051f61a : CMP EAX,ESI
0051f61c : JBE 0x0051f611
0051f61e : MOV EDX,dword ptr [ESP + 0x8]
0051f622 : MOV dword ptr [EDX + 0x4],EAX
0051f625 : POP ESI
0051f626 : MOV dword ptr [EDX],ECX
0051f628 : MOV EAX,EDX
0051f62a : RET 0x4
