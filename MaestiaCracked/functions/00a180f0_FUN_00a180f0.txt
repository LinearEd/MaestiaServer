PROGRAM  : Maestia.exe
FUNCTION : FUN_00a180f0
ENTRY    : 00a180f0
BODY     : [[00a180f0, 00a18249]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a180f0(void)

{
  DWORD DVar1;
  undefined4 *puVar2;
  float *pfVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  int unaff_ESI;
  float fVar8;
  float local_10;
  float local_c;
  float local_8;
  
  DVar1 = timeGetTime();
  if (0x31 < DVar1 - *(int *)(unaff_ESI + 0x238)) {
    DVar1 = timeGetTime();
    *(DWORD *)(unaff_ESI + 0x238) = DVar1;
    if (*(char *)(unaff_ESI + 0x23c) == '\0') {
      *(undefined1 *)(unaff_ESI + 0x23c) = 1;
      puVar2 = (undefined4 *)(**(code **)(**(int **)(unaff_ESI + 0x74) + 0x14))();
      *(undefined4 *)(unaff_ESI + 0x240) = *puVar2;
      *(undefined4 *)(unaff_ESI + 0x244) = puVar2[1];
      *(undefined4 *)(unaff_ESI + 0x248) = puVar2[2];
      pfVar3 = (float *)(**(code **)(**(int **)(unaff_ESI + 0x74) + 0x14))();
      local_c = pfVar3[1];
      local_8 = pfVar3[2];
      local_10 = *pfVar3;
      iVar4 = _rand();
      iVar5 = _rand();
      iVar6 = _rand();
      uVar7 = _rand();
      uVar7 = uVar7 & 0x80000001;
      if ((int)uVar7 < 0) {
        uVar7 = (uVar7 - 1 | 0xfffffffe) + 1;
      }
      fVar8 = (float)(int)((-(uint)(uVar7 != 0) & 2) - 1);
      local_10 = fVar8 * (float)(iVar4 % 5) + local_10;
      local_c = fVar8 * (float)(iVar5 % 5) + local_c;
      local_8 = fVar8 * (float)(iVar6 % 5) + local_8;
      (**(code **)(**(int **)(unaff_ESI + 0x74) + 0xc))(&local_10);
      *(char *)(unaff_ESI + 0x235) = *(char *)(unaff_ESI + 0x235) + -1;
      return;
    }
    (**(code **)(**(int **)(unaff_ESI + 0x74) + 0xc))(unaff_ESI + 0x240);
    *(undefined1 *)(unaff_ESI + 0x23c) = 0;
    if (*(char *)(unaff_ESI + 0x235) == '\0') {
      *(undefined1 *)(unaff_ESI + 0x234) = 0;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a180f0 : PUSH EBP
00a180f1 : MOV EBP,ESP
00a180f3 : SUB ESP,0x18
00a180f6 : PUSH EDI
00a180f7 : MOV EDI,dword ptr [0x00b85598]
00a180fd : CALL EDI
00a180ff : SUB EAX,dword ptr [ESI + 0x238]
00a18105 : CMP EAX,0x32
00a18108 : JC 0x00a18245
00a1810e : CALL EDI
00a18110 : CMP byte ptr [ESI + 0x23c],0x0
00a18117 : MOV ECX,dword ptr [ESI + 0x74]
00a1811a : MOV dword ptr [ESI + 0x238],EAX
00a18120 : JNZ 0x00a18220
00a18126 : MOV byte ptr [ESI + 0x23c],0x1
00a1812d : MOV EAX,dword ptr [ECX]
00a1812f : MOV EDX,dword ptr [EAX + 0x14]
00a18132 : CALL EDX
00a18134 : FLD float ptr [EAX]
00a18136 : FSTP float ptr [ESI + 0x240]
00a1813c : FLD float ptr [EAX + 0x4]
00a1813f : FSTP float ptr [ESI + 0x244]
00a18145 : FLD float ptr [EAX + 0x8]
00a18148 : FSTP float ptr [ESI + 0x248]
00a1814e : MOV ECX,dword ptr [ESI + 0x74]
00a18151 : MOV EAX,dword ptr [ECX]
00a18153 : MOV EDX,dword ptr [EAX + 0x14]
00a18156 : CALL EDX
00a18158 : MOVSS XMM0,dword ptr [EAX + 0x4]
00a1815d : MOVSS XMM1,dword ptr [EAX + 0x8]
00a18162 : MOVSS XMM2,dword ptr [EAX]
00a18166 : MOVSS dword ptr [EBP + -0xc],XMM2
00a1816b : MOVSS dword ptr [EBP + -0x8],XMM0
00a18170 : MOVSS dword ptr [EBP + -0x4],XMM1
00a18175 : CALL 0x00635d2f
00a1817a : CDQ
00a1817b : MOV ECX,0x5
00a18180 : IDIV ECX
00a18182 : CVTSI2SS XMM0,EDX
00a18186 : MOVSS dword ptr [EBP + -0x18],XMM0
00a1818b : CALL 0x00635d2f
00a18190 : CDQ
00a18191 : MOV ECX,0x5
00a18196 : IDIV ECX
00a18198 : CVTSI2SS XMM0,EDX
00a1819c : MOVSS dword ptr [EBP + -0x14],XMM0
00a181a1 : CALL 0x00635d2f
00a181a6 : CDQ
00a181a7 : MOV ECX,0x5
00a181ac : IDIV ECX
00a181ae : CVTSI2SS XMM0,EDX
00a181b2 : MOVSS dword ptr [EBP + -0x10],XMM0
00a181b7 : CALL 0x00635d2f
00a181bc : AND EAX,0x80000001
00a181c1 : JNS 0x00a181c8
00a181c3 : DEC EAX
00a181c4 : OR EAX,0xfffffffe
00a181c7 : INC EAX
00a181c8 : MOV ECX,dword ptr [ESI + 0x74]
00a181cb : NEG EAX
00a181cd : SBB EAX,EAX
00a181cf : AND EAX,0x2
00a181d2 : DEC EAX
00a181d3 : CVTSI2SS XMM0,EAX
00a181d7 : MOVAPS XMM1,XMM0
00a181da : MULSS XMM1,dword ptr [EBP + -0x18]
00a181df : ADDSS XMM1,dword ptr [EBP + -0xc]
00a181e4 : MOVSS dword ptr [EBP + -0xc],XMM1
00a181e9 : MOVAPS XMM1,XMM0
00a181ec : MULSS XMM1,dword ptr [EBP + -0x14]
00a181f1 : MULSS XMM0,dword ptr [EBP + -0x10]
00a181f6 : ADDSS XMM1,dword ptr [EBP + -0x8]
00a181fb : ADDSS XMM0,dword ptr [EBP + -0x4]
00a18200 : MOVSS dword ptr [EBP + -0x8],XMM1
00a18205 : MOVSS dword ptr [EBP + -0x4],XMM0
00a1820a : MOV EDX,dword ptr [ECX]
00a1820c : MOV EDX,dword ptr [EDX + 0xc]
00a1820f : LEA EAX,[EBP + -0xc]
00a18212 : PUSH EAX
00a18213 : CALL EDX
00a18215 : DEC byte ptr [ESI + 0x235]
00a1821b : POP EDI
00a1821c : MOV ESP,EBP
00a1821e : POP EBP
00a1821f : RET
00a18220 : MOV EAX,dword ptr [ECX]
00a18222 : MOV EAX,dword ptr [EAX + 0xc]
00a18225 : LEA EDX,[ESI + 0x240]
00a1822b : PUSH EDX
00a1822c : CALL EAX
00a1822e : CMP byte ptr [ESI + 0x235],0x0
00a18235 : MOV byte ptr [ESI + 0x23c],0x0
00a1823c : JNZ 0x00a18245
00a1823e : MOV byte ptr [ESI + 0x234],0x0
00a18245 : POP EDI
00a18246 : MOV ESP,EBP
00a18248 : POP EBP
00a18249 : RET
