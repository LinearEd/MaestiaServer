PROGRAM  : Maestia.exe
FUNCTION : FUN_00a67f00
ENTRY    : 00a67f00
BODY     : [[00a67f00, 00a68045]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_00a67f00(undefined4 param_1,int *param_2,undefined4 param_3)

{
  int iVar1;
  undefined4 *puVar2;
  int *piVar3;
  undefined4 *in_ECX;
  uint uVar4;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1b1d3;
  local_10 = ExceptionList;
  if (param_2 == (int *)0x0) {
    ExceptionList = &local_10;
    param_2 = (int *)FUN_006f0760(0x2c,".\\Event\\AvaAnimEventCtrl.cpp",0x26b,0,
                                  DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    local_8 = 0;
    if (param_2 != (int *)0x0) {
      piVar3 = (int *)FUN_0082c2a0(param_2);
      goto LAB_00a67fa4;
    }
  }
  else {
    if (param_2 != (int *)0x1) {
      return (int *)0x0;
    }
    ExceptionList = &local_10;
    param_2 = (int *)FUN_006f0760(0x30,".\\Event\\AvaAnimEventCtrl.cpp",0x271,0,
                                  DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    local_8 = 1;
    if (param_2 != (int *)0x0) {
      piVar3 = (int *)FUN_0082bf70(param_2);
      goto LAB_00a67fa4;
    }
  }
  piVar3 = (int *)0x0;
LAB_00a67fa4:
  local_8 = 0xffffffff;
  param_2 = piVar3;
  (**(code **)(*piVar3 + 8))(param_3);
  (**(code **)(*piVar3 + 0xc))(in_ECX + 2);
  (**(code **)(*piVar3 + 0x10))(param_1);
  (**(code **)(*piVar3 + 0x18))(*(undefined1 *)(in_ECX + 0x1d));
  (**(code **)(*piVar3 + 0x1c))(*in_ECX);
  iVar1 = in_ECX[0x26];
  if (iVar1 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = in_ECX[0x28] - iVar1 >> 2;
  }
  puVar2 = (undefined4 *)in_ECX[0x27];
  if ((uint)((int)puVar2 - iVar1 >> 2) < uVar4) {
    *puVar2 = piVar3;
    in_ECX[0x27] = puVar2 + 1;
  }
  else {
    FUN_0042fe80(in_ECX + 0x25,puVar2,&param_2);
  }
  ExceptionList = local_10;
  return piVar3;
}



============================================================
DISASSEMBLY
============================================================
00a67f00 : PUSH EBP
00a67f01 : MOV EBP,ESP
00a67f03 : PUSH -0x1
00a67f05 : PUSH 0xb1b1d3
00a67f0a : MOV EAX,FS:[0x0]
00a67f10 : PUSH EAX
00a67f11 : PUSH EBX
00a67f12 : PUSH ESI
00a67f13 : PUSH EDI
00a67f14 : MOV EAX,[0x00d66fa0]
00a67f19 : XOR EAX,EBP
00a67f1b : PUSH EAX
00a67f1c : LEA EAX,[EBP + -0xc]
00a67f1f : MOV FS:[0x0],EAX
00a67f25 : MOV EDI,ECX
00a67f27 : MOV EAX,dword ptr [EBP + 0xc]
00a67f2a : SUB EAX,0x0
00a67f2d : JZ 0x00a67f76
00a67f2f : SUB EAX,0x1
00a67f32 : JZ 0x00a67f4a
00a67f34 : XOR EAX,EAX
00a67f36 : MOV ECX,dword ptr [EBP + -0xc]
00a67f39 : MOV dword ptr FS:[0x0],ECX
00a67f40 : POP ECX
00a67f41 : POP EDI
00a67f42 : POP ESI
00a67f43 : POP EBX
00a67f44 : MOV ESP,EBP
00a67f46 : POP EBP
00a67f47 : RET 0xc
00a67f4a : PUSH 0x0
00a67f4c : PUSH 0x271
00a67f51 : PUSH 0xc35040
00a67f56 : PUSH 0x30
00a67f58 : CALL 0x006f0760
00a67f5d : ADD ESP,0x10
00a67f60 : MOV dword ptr [EBP + 0xc],EAX
00a67f63 : MOV dword ptr [EBP + -0x4],0x1
00a67f6a : TEST EAX,EAX
00a67f6c : JZ 0x00a67fa2
00a67f6e : PUSH EAX
00a67f6f : CALL 0x0082bf70
00a67f74 : JMP 0x00a67fa4
00a67f76 : PUSH 0x0
00a67f78 : PUSH 0x26b
00a67f7d : PUSH 0xc35000
00a67f82 : PUSH 0x2c
00a67f84 : CALL 0x006f0760
00a67f89 : ADD ESP,0x10
00a67f8c : MOV dword ptr [EBP + 0xc],EAX
00a67f8f : MOV dword ptr [EBP + -0x4],0x0
00a67f96 : TEST EAX,EAX
00a67f98 : JZ 0x00a67fa2
00a67f9a : PUSH EAX
00a67f9b : CALL 0x0082c2a0
00a67fa0 : JMP 0x00a67fa4
00a67fa2 : XOR EAX,EAX
00a67fa4 : MOV dword ptr [EBP + -0x4],0xffffffff
00a67fab : MOV ECX,dword ptr [EBP + 0x10]
00a67fae : MOV ESI,EAX
00a67fb0 : MOV EAX,dword ptr [ESI]
00a67fb2 : MOV EDX,dword ptr [EAX + 0x8]
00a67fb5 : PUSH ECX
00a67fb6 : MOV ECX,ESI
00a67fb8 : MOV dword ptr [EBP + 0xc],ESI
00a67fbb : CALL EDX
00a67fbd : MOV EAX,dword ptr [ESI]
00a67fbf : MOV EDX,dword ptr [EAX + 0xc]
00a67fc2 : LEA ECX,[EDI + 0x8]
00a67fc5 : PUSH ECX
00a67fc6 : MOV ECX,ESI
00a67fc8 : CALL EDX
00a67fca : MOV ECX,dword ptr [EBP + 0x8]
00a67fcd : MOV EAX,dword ptr [ESI]
00a67fcf : MOV EDX,dword ptr [EAX + 0x10]
00a67fd2 : PUSH ECX
00a67fd3 : MOV ECX,ESI
00a67fd5 : CALL EDX
00a67fd7 : MOVZX ECX,byte ptr [EDI + 0x74]
00a67fdb : MOV EAX,dword ptr [ESI]
00a67fdd : MOV EDX,dword ptr [EAX + 0x18]
00a67fe0 : PUSH ECX
00a67fe1 : MOV ECX,ESI
00a67fe3 : CALL EDX
00a67fe5 : MOV ECX,dword ptr [EDI]
00a67fe7 : MOV EAX,dword ptr [ESI]
00a67fe9 : MOV EDX,dword ptr [EAX + 0x1c]
00a67fec : PUSH ECX
00a67fed : MOV ECX,ESI
00a67fef : CALL EDX
00a67ff1 : MOV ECX,dword ptr [EDI + 0x98]
00a67ff7 : LEA EAX,[EDI + 0x94]
00a67ffd : TEST ECX,ECX
00a67fff : JNZ 0x00a68005
00a68001 : XOR EDX,EDX
00a68003 : JMP 0x00a6800d
00a68005 : MOV EDX,dword ptr [EAX + 0xc]
00a68008 : SUB EDX,ECX
00a6800a : SAR EDX,0x2
00a6800d : MOV EDI,dword ptr [EAX + 0x8]
00a68010 : MOV EBX,EDI
00a68012 : SUB EBX,ECX
00a68014 : SAR EBX,0x2
00a68017 : CMP EBX,EDX
00a68019 : JNC 0x00a68025
00a6801b : MOV dword ptr [EDI],ESI
00a6801d : ADD EDI,0x4
00a68020 : MOV dword ptr [EAX + 0x8],EDI
00a68023 : JMP 0x00a68030
00a68025 : LEA ECX,[EBP + 0xc]
00a68028 : PUSH ECX
00a68029 : PUSH EDI
00a6802a : PUSH EAX
00a6802b : CALL 0x0042fe80
00a68030 : MOV EAX,ESI
00a68032 : MOV ECX,dword ptr [EBP + -0xc]
00a68035 : MOV dword ptr FS:[0x0],ECX
00a6803c : POP ECX
00a6803d : POP EDI
00a6803e : POP ESI
00a6803f : POP EBX
00a68040 : MOV ESP,EBP
00a68042 : POP EBP
00a68043 : RET 0xc
