PROGRAM  : Maestia.exe
FUNCTION : FUN_005890a0
ENTRY    : 005890a0
BODY     : [[005890a0, 00589170]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005890a0(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int in_ECX;
  int iStack_1c;
  int iStack_18;
  byte bStack_14;
  undefined1 auStack_10 [16];
  
  iVar1 = (**(code **)(**(int **)(in_ECX + 0x68) + 0x5c))();
  auStack_10[0] = 0;
  iVar2 = FUN_00515840(0x38,0);
  if (iVar2 == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_00588bc0(iVar1 + 0x78,param_2,param_3);
  }
  bStack_14 = 0;
  if (iVar2 != 0) {
    *(uint *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1U & 0x8fffffff;
  }
  iStack_18 = 0;
  iStack_1c = iVar2;
  FUN_00526cd0(&iStack_1c);
  if (((bStack_14 & 2) == 0) && (iStack_1c != 0)) {
    FUN_00503db0();
  }
  iStack_1c = 0;
  if (((bStack_14 & 1) == 0) && (iStack_18 != 0)) {
    FUN_00503db0();
  }
  FUN_00588cb0(iVar1,auStack_10,param_1);
  if (iVar2 != 0) {
    FUN_00503db0();
  }
  FUN_00526bc0();
  return;
}



============================================================
DISASSEMBLY
============================================================
005890a0 : SUB ESP,0x1c
005890a3 : PUSH EBX
005890a4 : PUSH EBP
005890a5 : PUSH ESI
005890a6 : PUSH EDI
005890a7 : MOV EDI,ECX
005890a9 : MOV ECX,dword ptr [EDI + 0x68]
005890ac : MOV EAX,dword ptr [ECX]
005890ae : MOV EDX,dword ptr [EAX + 0x5c]
005890b1 : CALL EDX
005890b3 : MOV EBP,EAX
005890b5 : XOR EBX,EBX
005890b7 : MOV byte ptr [ESP + 0x1c],BL
005890bb : MOV EAX,dword ptr [EBP + 0x78]
005890be : MOV ECX,dword ptr [EAX + 0x288]
005890c4 : LEA ESI,[EBP + 0x78]
005890c7 : PUSH EBX
005890c8 : PUSH 0x38
005890ca : CALL 0x00515840
005890cf : CMP EAX,EBX
005890d1 : JZ 0x005890e9
005890d3 : MOV ECX,dword ptr [ESP + 0x38]
005890d7 : MOV EDX,dword ptr [ESP + 0x34]
005890db : PUSH ECX
005890dc : PUSH EDX
005890dd : PUSH ESI
005890de : MOV ECX,EAX
005890e0 : CALL 0x00588bc0
005890e5 : MOV ESI,EAX
005890e7 : JMP 0x005890eb
005890e9 : XOR ESI,ESI
005890eb : MOV byte ptr [ESP + 0x18],BL
005890ef : MOV dword ptr [ESP + 0x10],ESI
005890f3 : CMP ESI,EBX
005890f5 : JZ 0x00589103
005890f7 : MOV EAX,dword ptr [ESI + 0x8]
005890fa : INC EAX
005890fb : AND EAX,0x8fffffff
00589100 : MOV dword ptr [ESI + 0x8],EAX
00589103 : LEA ECX,[ESP + 0x10]
00589107 : PUSH ECX
00589108 : LEA ECX,[ESP + 0x20]
0058910c : MOV dword ptr [ESP + 0x18],EBX
00589110 : CALL 0x00526cd0
00589115 : TEST byte ptr [ESP + 0x18],0x2
0058911a : JNZ 0x00589129
0058911c : MOV ECX,dword ptr [ESP + 0x10]
00589120 : CMP ECX,EBX
00589122 : JZ 0x00589129
00589124 : CALL 0x00503db0
00589129 : TEST byte ptr [ESP + 0x18],0x1
0058912e : MOV dword ptr [ESP + 0x10],EBX
00589132 : JNZ 0x00589141
00589134 : MOV ECX,dword ptr [ESP + 0x14]
00589138 : CMP ECX,EBX
0058913a : JZ 0x00589141
0058913c : CALL 0x00503db0
00589141 : MOV EDX,dword ptr [ESP + 0x30]
00589145 : PUSH EDX
00589146 : LEA EAX,[ESP + 0x20]
0058914a : PUSH EAX
0058914b : PUSH EBP
0058914c : MOV ECX,EDI
0058914e : CALL 0x00588cb0
00589153 : CMP ESI,EBX
00589155 : JZ 0x0058915e
00589157 : MOV ECX,ESI
00589159 : CALL 0x00503db0
0058915e : LEA ECX,[ESP + 0x1c]
00589162 : CALL 0x00526bc0
00589167 : POP EDI
00589168 : POP ESI
00589169 : POP EBP
0058916a : POP EBX
0058916b : ADD ESP,0x1c
0058916e : RET 0xc
