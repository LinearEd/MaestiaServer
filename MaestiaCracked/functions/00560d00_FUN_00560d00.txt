PROGRAM  : Maestia.exe
FUNCTION : FUN_00560d00
ENTRY    : 00560d00
BODY     : [[00560d00, 00560e30]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_00560d00(char param_1)

{
  int *piVar1;
  uint *puVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  int in_ECX;
  int *piVar6;
  int *piVar7;
  int local_c;
  uint local_4;
  
  piVar1 = (int *)(in_ECX + 8);
  if (*(int **)(in_ECX + 8) == (int *)0x0) {
    local_c = 0;
  }
  else {
    local_c = **(int **)(in_ECX + 8);
  }
  iVar3 = *piVar1;
  local_4 = 0;
  piVar7 = (int *)0x0;
  if (iVar3 != 0) {
    piVar6 = (int *)(iVar3 + 8);
    do {
      piVar7 = piVar1;
      if (*piVar6 != -2) break;
      local_4 = local_4 + 1;
      piVar6 = piVar6 + 3;
    } while (local_4 <= *(uint *)(iVar3 + 4));
  }
  do {
    do {
      if (((piVar7 == (int *)0x0) || (*piVar7 == 0)) || (*(int *)(*piVar7 + 4) < (int)local_4)) {
        if (param_1 == '\0') {
          iVar3 = 0;
          if ((int *)*piVar1 != (int *)0x0) {
            iVar3 = *(int *)*piVar1;
          }
          uVar4 = (uint)(iVar3 * 5) >> 2;
          uVar5 = 0;
          if ((uint *)*piVar1 != (uint *)0x0) {
            uVar5 = *(uint *)*piVar1;
          }
          if (uVar5 < uVar4) {
            FUN_005604e0(piVar1,uVar4);
          }
        }
        uVar5 = 0;
        if ((uint *)*piVar1 != (uint *)0x0) {
          uVar5 = *(uint *)*piVar1;
        }
        puVar2 = (uint *)*piVar1;
        if (uVar5 < *(uint *)(in_ECX + 0x10)) {
          if ((puVar2 == (uint *)0x0) || (*puVar2 < 0x65)) {
            *(undefined4 *)(in_ECX + 0x10) = 100;
          }
        }
        else if (puVar2 == (uint *)0x0) {
          *(undefined4 *)(in_ECX + 0x10) = 10;
        }
        else {
          *(uint *)(in_ECX + 0x10) = *puVar2 + 10;
        }
        if ((int *)*piVar1 != (int *)0x0) {
          iVar3 = *(int *)*piVar1;
          return CONCAT31((int3)((uint)iVar3 >> 8),local_c != iVar3);
        }
        return (uint)(local_c != 0);
      }
      if (*(int *)(*(int *)(*piVar7 + 0x10 + local_4 * 0xc) + 4) == 1) {
        FUN_0055f6b0();
      }
      uVar5 = *(uint *)(*piVar7 + 4);
    } while (((int)uVar5 < (int)local_4) || (local_4 = local_4 + 1, uVar5 < local_4));
    piVar6 = (int *)(*piVar7 + 8 + local_4 * 0xc);
    do {
      if (*piVar6 != -2) break;
      local_4 = local_4 + 1;
      piVar6 = piVar6 + 3;
    } while (local_4 <= uVar5);
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00560d00 : SUB ESP,0xc
00560d03 : PUSH EBX
00560d04 : PUSH ESI
00560d05 : MOV EBX,ECX
00560d07 : MOV EAX,dword ptr [EBX + 0x8]
00560d0a : PUSH EDI
00560d0b : LEA EDI,[EBX + 0x8]
00560d0e : XOR ESI,ESI
00560d10 : CMP EAX,ESI
00560d12 : JNZ 0x00560d1a
00560d14 : MOV dword ptr [ESP + 0xc],ESI
00560d18 : JMP 0x00560d20
00560d1a : MOV EAX,dword ptr [EAX]
00560d1c : MOV dword ptr [ESP + 0xc],EAX
00560d20 : MOV ECX,dword ptr [EDI]
00560d22 : XOR EAX,EAX
00560d24 : CMP ECX,ESI
00560d26 : JZ 0x00560d3f
00560d28 : MOV EDX,dword ptr [ECX + 0x4]
00560d2b : ADD ECX,0x8
00560d2e : MOV EDI,EDI
00560d30 : CMP dword ptr [ECX],-0x2
00560d33 : JNZ 0x00560d3d
00560d35 : INC EAX
00560d36 : ADD ECX,0xc
00560d39 : CMP EAX,EDX
00560d3b : JBE 0x00560d30
00560d3d : MOV ESI,EDI
00560d3f : MOV dword ptr [ESP + 0x14],EAX
00560d43 : MOV dword ptr [ESP + 0x10],ESI
00560d47 : PUSH EBP
00560d48 : TEST ESI,ESI
00560d4a : JZ 0x00560da4
00560d4c : CMP dword ptr [ESI],0x0
00560d4f : JZ 0x00560da4
00560d51 : MOV ECX,dword ptr [ESI]
00560d53 : CMP EAX,dword ptr [ECX + 0x4]
00560d56 : JG 0x00560da4
00560d58 : LEA EDX,[EAX + EAX*0x2]
00560d5b : MOV ECX,dword ptr [ECX + EDX*0x4 + 0x10]
00560d5f : MOV EAX,dword ptr [ECX + 0x4]
00560d62 : CMP EAX,0x1
00560d65 : JNZ 0x00560d70
00560d67 : LEA ECX,[ESP + 0x14]
00560d6b : CALL 0x0055f6b0
00560d70 : MOV ESI,dword ptr [ESP + 0x14]
00560d74 : MOV EDX,dword ptr [ESI]
00560d76 : MOV ECX,dword ptr [EDX + 0x4]
00560d79 : MOV EAX,dword ptr [ESP + 0x18]
00560d7d : CMP EAX,ECX
00560d7f : JG 0x00560d48
00560d81 : INC EAX
00560d82 : MOV dword ptr [ESP + 0x18],EAX
00560d86 : CMP EAX,ECX
00560d88 : JA 0x00560d48
00560d8a : LEA EBP,[EAX + EAX*0x2]
00560d8d : LEA EDX,[EDX + EBP*0x4 + 0x8]
00560d91 : CMP dword ptr [EDX],-0x2
00560d94 : JNZ 0x00560d48
00560d96 : INC EAX
00560d97 : ADD EDX,0xc
00560d9a : MOV dword ptr [ESP + 0x18],EAX
00560d9e : CMP EAX,ECX
00560da0 : JBE 0x00560d91
00560da2 : JMP 0x00560d48
00560da4 : CMP byte ptr [ESP + 0x20],0x0
00560da9 : POP EBP
00560daa : JNZ 0x00560dcf
00560dac : MOV EAX,dword ptr [EDI]
00560dae : TEST EAX,EAX
00560db0 : JZ 0x00560db4
00560db2 : MOV EAX,dword ptr [EAX]
00560db4 : MOV ECX,dword ptr [EDI]
00560db6 : LEA EAX,[EAX + EAX*0x4]
00560db9 : SHR EAX,0x2
00560dbc : TEST ECX,ECX
00560dbe : JZ 0x00560dc2
00560dc0 : MOV ECX,dword ptr [ECX]
00560dc2 : CMP EAX,ECX
00560dc4 : JBE 0x00560dcf
00560dc6 : PUSH EAX
00560dc7 : PUSH EDI
00560dc8 : MOV ECX,EDI
00560dca : CALL 0x005604e0
00560dcf : MOV EAX,dword ptr [EDI]
00560dd1 : TEST EAX,EAX
00560dd3 : JZ 0x00560dd7
00560dd5 : MOV EAX,dword ptr [EAX]
00560dd7 : CMP EAX,dword ptr [EBX + 0x10]
00560dda : MOV EAX,dword ptr [EDI]
00560ddc : JC 0x00560df6
00560dde : TEST EAX,EAX
00560de0 : JNZ 0x00560dec
00560de2 : MOV EAX,0xa
00560de7 : MOV dword ptr [EBX + 0x10],EAX
00560dea : JMP 0x00560e06
00560dec : MOV EAX,dword ptr [EAX]
00560dee : ADD EAX,0xa
00560df1 : MOV dword ptr [EBX + 0x10],EAX
00560df4 : JMP 0x00560e06
00560df6 : TEST EAX,EAX
00560df8 : JZ 0x00560dff
00560dfa : CMP dword ptr [EAX],0x64
00560dfd : JA 0x00560e06
00560dff : MOV dword ptr [EBX + 0x10],0x64
00560e06 : MOV EAX,dword ptr [EDI]
00560e08 : POP EDI
00560e09 : POP ESI
00560e0a : POP EBX
00560e0b : TEST EAX,EAX
00560e0d : JNZ 0x00560e1f
00560e0f : XOR ECX,ECX
00560e11 : CMP dword ptr [ESP],EAX
00560e14 : SETNZ CL
00560e17 : MOV AL,CL
00560e19 : ADD ESP,0xc
00560e1c : RET 0x4
00560e1f : MOV EAX,dword ptr [EAX]
00560e21 : XOR ECX,ECX
00560e23 : CMP dword ptr [ESP],EAX
00560e26 : SETNZ CL
00560e29 : MOV AL,CL
00560e2b : ADD ESP,0xc
00560e2e : RET 0x4
