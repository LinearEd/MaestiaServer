PROGRAM  : Maestia.exe
FUNCTION : FUN_00486bb0
ENTRY    : 00486bb0
BODY     : [[00486bb0, 00486d44] [00486d94, 00486e29] [00486e30, 00486e66] [00486e8a, 00486ed9] [00486ee0, 00486f33]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00486bb0(int param_1,int param_2,uint param_3)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  uint extraout_ECX;
  uint uStack_c0;
  undefined1 local_b0 [132];
  undefined4 local_2c;
  int local_24;
  undefined4 local_20;
  uint local_1c;
  undefined1 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7a3ea;
  local_10 = ExceptionList;
  uStack_c0 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_14 = (undefined1 *)&uStack_c0;
  ExceptionList = &local_10;
  iVar2 = *(int *)(param_1 + 4);
  if (iVar2 == 0) {
    local_1c = 0;
  }
  else {
    local_1c = (*(int *)(param_1 + 0xc) - iVar2) / 0x88;
  }
  iVar4 = *(int *)(param_1 + 8);
  iVar2 = (iVar4 - iVar2) / 0x88;
  puVar1 = &uStack_c0;
  if (iVar2 == 0x1e1e1e1) {
    iVar2 = FUN_00429be0();
    local_1c = extraout_ECX;
    puVar1 = (uint *)local_14;
  }
  local_14 = (undefined1 *)puVar1;
  uVar3 = iVar2 + 1;
  if (uVar3 <= local_1c) {
    iVar4 = iVar4 - param_2;
    iVar2 = iVar4 >> 0x1f;
    if (iVar4 / 0x88 + iVar2 == iVar2) {
      FUN_0045c5c0(local_b0);
      local_8 = 2;
      FUN_004872b0(param_2,*(undefined4 *)(param_1 + 8));
      local_8 = CONCAT31(local_8._1_3_,3);
      FUN_00487280(local_b0);
      local_8 = 2;
      *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x88;
      iVar2 = *(int *)(param_1 + 8);
      for (; param_2 != iVar2 + -0x88; param_2 = param_2 + 0x88) {
        FUN_00439630();
        *(undefined4 *)(param_2 + 0x84) = local_2c;
      }
    }
    else {
      FUN_0045c5c0(local_b0);
      local_8 = 5;
      uVar5 = FUN_004872b0(*(int *)(param_1 + 8) + -0x88,*(int *)(param_1 + 8));
      *(undefined4 *)(param_1 + 8) = uVar5;
      param_3 = param_3 & 0xffffff00;
      FUN_00487050(param_2,param_2,param_2,param_3);
      iVar2 = param_2;
      if (param_2 != param_2 + 0x88) {
        do {
          FUN_00439630();
          *(undefined4 *)(iVar2 + 0x84) = local_2c;
          iVar2 = iVar2 + 0x88;
        } while (iVar2 != param_2 + 0x88);
      }
    }
    local_8 = 0xffffffff;
    FUN_0045c570(local_b0);
    ExceptionList = local_10;
    return;
  }
  if (0x1e1e1e1 - (local_1c >> 1) < local_1c) {
    local_1c = 0;
  }
  else {
    local_1c = local_1c + (local_1c >> 1);
  }
  if (local_1c < uVar3) {
    local_1c = uVar3;
  }
  iVar4 = FUN_00486f40();
  local_24 = (param_2 - *(int *)(param_1 + 4)) / 0x88;
  local_20 = 0;
  local_8 = 0;
  FUN_00487280(param_3);
  local_20 = 1;
  FUN_004872b0(*(undefined4 *)(param_1 + 4),param_2);
  local_20 = 2;
  FUN_004872b0(param_2,*(undefined4 *)(param_1 + 8));
  local_8 = 0xffffffff;
  iVar2 = *(int *)(param_1 + 4);
  if (iVar2 != 0) {
    FUN_00486ff0(iVar2,param_2);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *(uint *)(param_1 + 0xc) = local_1c * 0x88 + iVar4;
  *(int *)(param_1 + 8) = ((*(int *)(param_1 + 8) - iVar2) / 0x88 + 1) * 0x88 + iVar4;
  *(int *)(param_1 + 4) = iVar4;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00486bb0 : PUSH EBP
00486bb1 : MOV EBP,ESP
00486bb3 : PUSH -0x1
00486bb5 : PUSH 0xb7a3ea
00486bba : MOV EAX,FS:[0x0]
00486bc0 : PUSH EAX
00486bc1 : SUB ESP,0xa0
00486bc7 : PUSH EBX
00486bc8 : PUSH ESI
00486bc9 : PUSH EDI
00486bca : MOV EAX,[0x00d66fa0]
00486bcf : XOR EAX,EBP
00486bd1 : PUSH EAX
00486bd2 : LEA EAX,[EBP + -0xc]
00486bd5 : MOV FS:[0x0],EAX
00486bdb : MOV dword ptr [EBP + -0x10],ESP
00486bde : MOV EBX,dword ptr [EBP + 0x8]
00486be1 : MOV EDI,dword ptr [EBX + 0x4]
00486be4 : TEST EDI,EDI
00486be6 : JNZ 0x00486bec
00486be8 : XOR ECX,ECX
00486bea : JMP 0x00486c04
00486bec : MOV ECX,dword ptr [EBX + 0xc]
00486bef : SUB ECX,EDI
00486bf1 : MOV EAX,0x78787879
00486bf6 : IMUL ECX
00486bf8 : SAR EDX,0x6
00486bfb : MOV EAX,EDX
00486bfd : SHR EAX,0x1f
00486c00 : ADD EAX,EDX
00486c02 : MOV ECX,EAX
00486c04 : MOV ESI,dword ptr [EBX + 0x8]
00486c07 : MOV EDX,ESI
00486c09 : SUB EDX,EDI
00486c0b : MOV EAX,0x78787879
00486c10 : IMUL EDX
00486c12 : SAR EDX,0x6
00486c15 : MOV EAX,EDX
00486c17 : SHR EAX,0x1f
00486c1a : ADD EAX,EDX
00486c1c : MOV EDX,0x1e1e1e1
00486c21 : SUB EDX,EAX
00486c23 : CMP EDX,0x1
00486c26 : JNC 0x00486c2d
00486c28 : CALL 0x00429be0
00486c2d : INC EAX
00486c2e : CMP ECX,EAX
00486c30 : JNC 0x00486d94
00486c36 : MOV EDX,ECX
00486c38 : SHR EDX,0x1
00486c3a : MOV ESI,0x1e1e1e1
00486c3f : SUB ESI,EDX
00486c41 : CMP ESI,ECX
00486c43 : JNC 0x00486c4e
00486c45 : XOR EDI,EDI
00486c47 : MOV dword ptr [EBP + -0x18],EDI
00486c4a : MOV ECX,EDI
00486c4c : JMP 0x00486c55
00486c4e : ADD ECX,EDX
00486c50 : MOV dword ptr [EBP + -0x18],ECX
00486c53 : XOR EDI,EDI
00486c55 : CMP ECX,EAX
00486c57 : JNC 0x00486c5e
00486c59 : MOV dword ptr [EBP + -0x18],EAX
00486c5c : MOV ECX,EAX
00486c5e : CALL 0x00486f40
00486c63 : MOV ESI,EAX
00486c65 : MOV dword ptr [EBP + 0x8],ESI
00486c68 : MOV ECX,dword ptr [EBP + 0xc]
00486c6b : SUB ECX,dword ptr [EBX + 0x4]
00486c6e : MOV EAX,0x78787879
00486c73 : IMUL ECX
00486c75 : SAR EDX,0x6
00486c78 : MOV EAX,EDX
00486c7a : SHR EAX,0x1f
00486c7d : ADD EAX,EDX
00486c7f : MOV dword ptr [EBP + -0x20],EAX
00486c82 : MOV dword ptr [EBP + -0x1c],EDI
00486c85 : MOV dword ptr [EBP + -0x4],EDI
00486c88 : MOV ECX,dword ptr [EBP + 0x10]
00486c8b : PUSH ECX
00486c8c : MOV EDI,EAX
00486c8e : IMUL EDI,EDI,0x88
00486c94 : ADD EDI,ESI
00486c96 : MOV ESI,0x1
00486c9b : CALL 0x00487280
00486ca0 : MOV dword ptr [EBP + -0x1c],ESI
00486ca3 : MOV EDX,dword ptr [EBP + 0xc]
00486ca6 : PUSH EDX
00486ca7 : MOV EAX,dword ptr [EBX + 0x4]
00486caa : PUSH EAX
00486cab : MOV ESI,dword ptr [EBP + 0x8]
00486cae : MOV EDX,ESI
00486cb0 : CALL 0x004872b0
00486cb5 : MOV dword ptr [EBP + -0x1c],0x2
00486cbc : MOV EDX,dword ptr [EBP + -0x20]
00486cbf : INC EDX
00486cc0 : IMUL EDX,EDX,0x88
00486cc6 : ADD EDX,ESI
00486cc8 : MOV ECX,dword ptr [EBX + 0x8]
00486ccb : PUSH ECX
00486ccc : MOV EAX,dword ptr [EBP + 0xc]
00486ccf : PUSH EAX
00486cd0 : CALL 0x004872b0
00486cd5 : MOV dword ptr [EBP + -0x4],0xffffffff
00486cdc : MOV ECX,dword ptr [EBX + 0x8]
00486cdf : MOV ESI,dword ptr [EBX + 0x4]
00486ce2 : MOV EDX,ECX
00486ce4 : SUB EDX,ESI
00486ce6 : MOV EAX,0x78787879
00486ceb : IMUL EDX
00486ced : SAR EDX,0x6
00486cf0 : MOV EAX,EDX
00486cf2 : SHR EAX,0x1f
00486cf5 : LEA EDI,[EDX + EAX*0x1 + 0x1]
00486cf9 : TEST ESI,ESI
00486cfb : JZ 0x00486d12
00486cfd : MOV EDX,dword ptr [EBP + 0xc]
00486d00 : PUSH EDX
00486d01 : PUSH ESI
00486d02 : CALL 0x00486ff0
00486d07 : ADD ESP,0x8
00486d0a : MOV ECX,dword ptr [EBX + 0x4]
00486d0d : CALL 0x006f04e0
00486d12 : MOV EAX,dword ptr [EBP + -0x18]
00486d15 : IMUL EAX,EAX,0x88
00486d1b : MOV ECX,dword ptr [EBP + 0x8]
00486d1e : ADD EAX,ECX
00486d20 : MOV dword ptr [EBX + 0xc],EAX
00486d23 : IMUL EDI,EDI,0x88
00486d29 : ADD EDI,ECX
00486d2b : MOV dword ptr [EBX + 0x8],EDI
00486d2e : MOV dword ptr [EBX + 0x4],ECX
00486d31 : MOV ECX,dword ptr [EBP + -0xc]
00486d34 : MOV dword ptr FS:[0x0],ECX
00486d3b : POP ECX
00486d3c : POP EDI
00486d3d : POP ESI
00486d3e : POP EBX
00486d3f : MOV ESP,EBP
00486d41 : POP EBP
00486d42 : RET 0xc
00486d94 : SUB ESI,dword ptr [EBP + 0xc]
00486d97 : MOV EAX,0x78787879
00486d9c : IMUL ESI
00486d9e : SAR EDX,0x6
00486da1 : MOV EAX,EDX
00486da3 : SHR EAX,0x1f
00486da6 : ADD EAX,EDX
00486da8 : LEA ECX,[EBP + 0xffffff54]
00486dae : MOV EDI,dword ptr [EBP + 0x10]
00486db1 : PUSH ECX
00486db2 : CMP EAX,0x1
00486db5 : JNC 0x00486e8a
00486dbb : CALL 0x0045c5c0
00486dc0 : MOV dword ptr [EBP + -0x4],0x2
00486dc7 : MOV EAX,dword ptr [EBP + 0xc]
00486dca : LEA EDX,[EAX + 0x88]
00486dd0 : MOV ECX,dword ptr [EBX + 0x8]
00486dd3 : PUSH ECX
00486dd4 : PUSH EAX
00486dd5 : CALL 0x004872b0
00486dda : MOV byte ptr [EBP + -0x4],0x3
00486dde : MOV EDI,dword ptr [EBX + 0x8]
00486de1 : LEA EDX,[EBP + 0xffffff54]
00486de7 : PUSH EDX
00486de8 : MOV ECX,EDI
00486dea : SUB ECX,dword ptr [EBP + 0xc]
00486ded : MOV EAX,0x78787879
00486df2 : IMUL ECX
00486df4 : SAR EDX,0x6
00486df7 : MOV EAX,EDX
00486df9 : SHR EAX,0x1f
00486dfc : ADD EAX,EDX
00486dfe : MOV ESI,0x1
00486e03 : SUB ESI,EAX
00486e05 : CALL 0x00487280
00486e0a : MOV dword ptr [EBP + -0x4],0x2
00486e11 : ADD dword ptr [EBX + 0x8],0x88
00486e18 : MOV EBX,dword ptr [EBX + 0x8]
00486e1b : LEA EDI,[EBX + 0xffffff78]
00486e21 : MOV ESI,dword ptr [EBP + 0xc]
00486e24 : CMP ESI,EDI
00486e26 : JZ 0x00486e54
00486e28 : JMP 0x00486e30
00486e30 : LEA ECX,[EBP + 0xffffff54]
00486e36 : MOV EAX,ESI
00486e38 : CALL 0x00439630
00486e3d : MOVSS XMM0,dword ptr [EBP + -0x28]
00486e42 : MOVSS dword ptr [ESI + 0x84],XMM0
00486e4a : ADD ESI,0x88
00486e50 : CMP ESI,EDI
00486e52 : JNZ 0x00486e30
00486e54 : MOV dword ptr [EBP + -0x4],0xffffffff
00486e5b : LEA ECX,[EBP + 0xffffff54]
00486e61 : PUSH ECX
00486e62 : JMP 0x00486f1b
00486e8a : CALL 0x0045c5c0
00486e8f : MOV dword ptr [EBP + -0x4],0x5
00486e96 : MOV ESI,dword ptr [EBX + 0x8]
00486e99 : LEA EDI,[ESI + 0xffffff78]
00486e9f : PUSH ESI
00486ea0 : PUSH EDI
00486ea1 : MOV EDX,ESI
00486ea3 : CALL 0x004872b0
00486ea8 : MOV dword ptr [EBX + 0x8],EAX
00486eab : MOV byte ptr [EBP + 0x10],0x0
00486eaf : MOV EDX,dword ptr [EBP + 0x10]
00486eb2 : PUSH EDX
00486eb3 : MOV EAX,dword ptr [EBP + 0xc]
00486eb6 : PUSH EAX
00486eb7 : MOV ECX,dword ptr [EBP + 0xc]
00486eba : PUSH ECX
00486ebb : MOV EDX,dword ptr [EBP + 0xc]
00486ebe : PUSH EDX
00486ebf : MOV EAX,ESI
00486ec1 : MOV ECX,EDI
00486ec3 : CALL 0x00487050
00486ec8 : ADD ESP,0x10
00486ecb : MOV ESI,dword ptr [EBP + 0xc]
00486ece : LEA EAX,[ESI + 0x88]
00486ed4 : CMP ESI,EAX
00486ed6 : JZ 0x00486f0d
00486ed8 : JMP 0x00486ee0
00486ee0 : LEA ECX,[EBP + 0xffffff54]
00486ee6 : MOV EAX,ESI
00486ee8 : CALL 0x00439630
00486eed : MOVSS XMM0,dword ptr [EBP + -0x28]
00486ef2 : MOVSS dword ptr [ESI + 0x84],XMM0
00486efa : ADD ESI,0x88
00486f00 : MOV ECX,dword ptr [EBP + 0xc]
00486f03 : ADD ECX,0x88
00486f09 : CMP ESI,ECX
00486f0b : JNZ 0x00486ee0
00486f0d : MOV dword ptr [EBP + -0x4],0xffffffff
00486f14 : LEA EDX,[EBP + 0xffffff54]
00486f1a : PUSH EDX
00486f1b : CALL 0x0045c570
00486f20 : MOV ECX,dword ptr [EBP + -0xc]
00486f23 : MOV dword ptr FS:[0x0],ECX
00486f2a : POP ECX
00486f2b : POP EDI
00486f2c : POP ESI
00486f2d : POP EBX
00486f2e : MOV ESP,EBP
00486f30 : POP EBP
00486f31 : RET 0xc
