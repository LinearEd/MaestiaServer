PROGRAM  : Maestia.exe
FUNCTION : FUN_00408e40
ENTRY    : 00408e40
BODY     : [[00408e40, 00408ee2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00408e40(int *param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  int *unaff_ESI;
  undefined1 local_c [8];
  
  piVar2 = param_1;
  if ((param_1 == (int *)*DAT_0172106c) && (param_2 == DAT_0172106c)) {
    FUN_0040a720();
    *unaff_ESI = *DAT_0172106c;
    return;
  }
  while (piVar2 != param_2) {
    param_1 = piVar2;
    if (*(char *)((int)piVar2 + 0x51) == '\0') {
      param_1 = (int *)piVar2[2];
      if (*(char *)((int)param_1 + 0x51) == '\0') {
        cVar1 = *(char *)(*param_1 + 0x51);
        piVar3 = (int *)*param_1;
        while (cVar1 == '\0') {
          cVar1 = *(char *)(*piVar3 + 0x51);
          param_1 = piVar3;
          piVar3 = (int *)*piVar3;
        }
      }
      else {
        cVar1 = *(char *)(piVar2[1] + 0x51);
        piVar4 = (int *)piVar2[1];
        piVar3 = piVar2;
        while ((param_1 = piVar4, cVar1 == '\0' && (piVar3 == (int *)param_1[2]))) {
          cVar1 = *(char *)(param_1[1] + 0x51);
          piVar4 = (int *)param_1[1];
          piVar3 = param_1;
        }
      }
    }
    FUN_0040a430(local_c,piVar2);
    piVar2 = param_1;
  }
  *unaff_ESI = (int)piVar2;
  return;
}



============================================================
DISASSEMBLY
============================================================
00408e40 : PUSH EBP
00408e41 : MOV EBP,ESP
00408e43 : AND ESP,0xfffffff8
00408e46 : MOV ECX,dword ptr [EBP + 0x8]
00408e49 : MOV EAX,[0x0172106c]
00408e4e : MOV EDX,dword ptr [EBP + 0xc]
00408e51 : SUB ESP,0x8
00408e54 : CMP ECX,dword ptr [EAX]
00408e56 : JNZ 0x00408e72
00408e58 : CMP EDX,EAX
00408e5a : JNZ 0x00408e72
00408e5c : CALL 0x0040a720
00408e61 : MOV EAX,[0x0172106c]
00408e66 : MOV ECX,dword ptr [EAX]
00408e68 : MOV EAX,ESI
00408e6a : MOV dword ptr [ESI],ECX
00408e6c : MOV ESP,EBP
00408e6e : POP EBP
00408e6f : RET 0x8
00408e72 : CMP ECX,EDX
00408e74 : JZ 0x00408ed9
00408e76 : CMP byte ptr [ECX + 0x51],0x0
00408e7a : MOV EDX,ECX
00408e7c : JNZ 0x00408ec6
00408e7e : MOV EAX,dword ptr [ECX + 0x8]
00408e81 : CMP byte ptr [EAX + 0x51],0x0
00408e85 : JNZ 0x00408ea0
00408e87 : MOV ECX,EAX
00408e89 : MOV EAX,dword ptr [ECX]
00408e8b : CMP byte ptr [EAX + 0x51],0x0
00408e8f : JNZ 0x00408e9b
00408e91 : MOV ECX,EAX
00408e93 : MOV EAX,dword ptr [ECX]
00408e95 : CMP byte ptr [EAX + 0x51],0x0
00408e99 : JZ 0x00408e91
00408e9b : MOV dword ptr [EBP + 0x8],ECX
00408e9e : JMP 0x00408ec6
00408ea0 : MOV EAX,dword ptr [ECX + 0x4]
00408ea3 : CMP byte ptr [EAX + 0x51],0x0
00408ea7 : JNZ 0x00408ec3
00408ea9 : LEA ESP,[ESP]
00408eb0 : CMP ECX,dword ptr [EAX + 0x8]
00408eb3 : JNZ 0x00408ec3
00408eb5 : MOV ECX,EAX
00408eb7 : MOV dword ptr [EBP + 0x8],ECX
00408eba : MOV EAX,dword ptr [EAX + 0x4]
00408ebd : CMP byte ptr [EAX + 0x51],0x0
00408ec1 : JZ 0x00408eb0
00408ec3 : MOV dword ptr [EBP + 0x8],EAX
00408ec6 : PUSH EDX
00408ec7 : LEA EDX,[ESP + 0x8]
00408ecb : PUSH EDX
00408ecc : CALL 0x0040a430
00408ed1 : MOV ECX,dword ptr [EBP + 0x8]
00408ed4 : CMP ECX,dword ptr [EBP + 0xc]
00408ed7 : JNZ 0x00408e76
00408ed9 : MOV EAX,ESI
00408edb : MOV dword ptr [ESI],ECX
00408edd : MOV ESP,EBP
00408edf : POP EBP
00408ee0 : RET 0x8
