PROGRAM  : Maestia.exe
FUNCTION : FUN_00843b30
ENTRY    : 00843b30
BODY     : [[00843b30, 00843c29] [00843c30, 00843f85]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00843b30(int param_1,int param_2)

{
  short sVar1;
  int iVar2;
  int iVar3;
  short *psVar4;
  short *psVar5;
  undefined1 uVar6;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  iVar3 = param_2;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1b7ca;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *(undefined4 *)(param_1 + 0x34) = 0;
  *(int *)(param_1 + 0x28) = param_2;
  if (*(uint *)(param_2 + 0x24) < 8) {
    psVar5 = (short *)(param_2 + 0x10);
  }
  else {
    psVar5 = *(short **)(param_2 + 0x10);
  }
  psVar4 = psVar5;
  do {
    sVar1 = *psVar4;
    psVar4 = psVar4 + 1;
  } while (sVar1 != 0);
  FUN_00406360(psVar5,(int)psVar4 - (int)(psVar5 + 1) >> 1);
  iVar2 = DAT_00d7c54c;
  param_1 = *(undefined4 *)(iVar3 + 8);
  FUN_004437f0(&param_1);
  if (((local_14 != *(int *)(iVar2 + 0x44)) && (*(int *)(local_14 + 0x10) != 0)) &&
     (iVar3 = *(int *)(*(int *)(local_14 + 0x10) + 0x120), iVar3 != 0)) {
    sVar1 = *(short *)(iVar3 + 6);
    if (sVar1 == 1) {
      FUN_00406460(L"IDS_JOB_WARRIOR");
      local_8 = 0;
      iVar3 = FUN_0081d120(local_30);
      local_8._0_1_ = 1;
      if (*(uint *)(iVar3 + 0x18) < 8) {
        psVar5 = (short *)(iVar3 + 4);
      }
      else {
        psVar5 = *(short **)(iVar3 + 4);
      }
      psVar4 = psVar5;
      do {
        sVar1 = *psVar4;
        psVar4 = psVar4 + 1;
      } while (sVar1 != 0);
      FUN_00406360(psVar5,(int)psVar4 - (int)(psVar5 + 1) >> 1);
      local_8 = (uint)local_8._1_3_ << 8;
LAB_00843c4f:
      if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    else {
      if (sVar1 == 2) {
        FUN_00406460(L"IDS_JOB_WIZARD");
        local_8 = 2;
        iVar3 = FUN_0081d120(local_30);
        local_8._0_1_ = 3;
        if (*(uint *)(iVar3 + 0x18) < 8) {
          psVar5 = (short *)(iVar3 + 4);
        }
        else {
          psVar5 = *(short **)(iVar3 + 4);
        }
        psVar4 = psVar5;
        do {
          sVar1 = *psVar4;
          psVar4 = psVar4 + 1;
        } while (sVar1 != 0);
        FUN_00406360(psVar5,(int)psVar4 - (int)(psVar5 + 1) >> 1);
        local_8 = CONCAT31(local_8._1_3_,2);
        goto LAB_00843c4f;
      }
      if (sVar1 == 3) {
        FUN_00406460(L"IDS_JOB_RANGER");
        uVar6 = 4;
        local_8 = 4;
        iVar3 = FUN_0081d120(local_30);
        local_8._0_1_ = 5;
        if (*(uint *)(iVar3 + 0x18) < 8) {
          psVar5 = (short *)(iVar3 + 4);
          psVar4 = psVar5;
        }
        else {
          psVar5 = *(short **)(iVar3 + 4);
          psVar4 = psVar5;
        }
        do {
          sVar1 = *psVar5;
          psVar5 = psVar5 + 1;
        } while (sVar1 != 0);
      }
      else {
        if (sVar1 != 4) goto LAB_00843e00;
        FUN_00406460(L"IDS_JOB_PRIEST");
        uVar6 = 6;
        local_8 = 6;
        iVar3 = FUN_0081d120(local_30);
        local_8._0_1_ = 7;
        if (*(uint *)(iVar3 + 0x18) < 8) {
          psVar5 = (short *)(iVar3 + 4);
          psVar4 = psVar5;
        }
        else {
          psVar5 = *(short **)(iVar3 + 4);
          psVar4 = psVar5;
        }
        do {
          sVar1 = *psVar5;
          psVar5 = psVar5 + 1;
        } while (sVar1 != 0);
      }
      FUN_00406360(psVar4,(int)psVar5 - (int)(psVar4 + 1) >> 1);
      local_8 = CONCAT31(local_8._1_3_,uVar6);
      if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    local_8 = 0xffffffff;
    local_1c = 0;
    local_34 = 7;
    local_2c = 0;
    local_18 = 7;
  }
LAB_00843e00:
  if (*(short *)(param_2 + 0x7c) == 1) {
    FUN_00406460(L"IDS_SUPERION_GUARDIAN");
    local_8 = 8;
    iVar3 = FUN_0081d120(local_30);
    local_8._0_1_ = 9;
    if (*(uint *)(iVar3 + 0x18) < 8) {
      psVar5 = (short *)(iVar3 + 4);
    }
    else {
      psVar5 = *(short **)(iVar3 + 4);
    }
    psVar4 = psVar5;
    do {
      sVar1 = *psVar4;
      psVar4 = psVar4 + 1;
    } while (sVar1 != 0);
    FUN_00406360(psVar5,(int)psVar4 - (int)(psVar5 + 1) >> 1);
    local_8 = CONCAT31(local_8._1_3_,8);
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  else {
    if (*(short *)(param_2 + 0x7c) != 2) goto LAB_00843f5e;
    FUN_00406460(L"IDS_TEMPLE_KNIGHT");
    local_8 = 10;
    iVar3 = FUN_0081d120(local_30);
    local_8._0_1_ = 0xb;
    if (*(uint *)(iVar3 + 0x18) < 8) {
      psVar5 = (short *)(iVar3 + 4);
    }
    else {
      psVar5 = *(short **)(iVar3 + 4);
    }
    psVar4 = psVar5;
    do {
      sVar1 = *psVar4;
      psVar4 = psVar4 + 1;
    } while (sVar1 != 0);
    FUN_00406360(psVar5,(int)psVar4 - (int)(psVar5 + 1) >> 1);
    local_8 = CONCAT31(local_8._1_3_,10);
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  local_8 = 0xffffffff;
  local_18 = 7;
  local_1c = 0;
  local_2c = 0;
LAB_00843f5e:
  FUN_006f0da0(*(undefined4 *)(param_2 + 0xa0));
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00843b30 : PUSH EBP
00843b31 : MOV EBP,ESP
00843b33 : PUSH -0x1
00843b35 : PUSH 0xb1b7ca
00843b3a : MOV EAX,FS:[0x0]
00843b40 : PUSH EAX
00843b41 : SUB ESP,0x3c
00843b44 : PUSH EBX
00843b45 : PUSH ESI
00843b46 : PUSH EDI
00843b47 : MOV EAX,[0x00d66fa0]
00843b4c : XOR EAX,EBP
00843b4e : PUSH EAX
00843b4f : LEA EAX,[EBP + -0xc]
00843b52 : MOV FS:[0x0],EAX
00843b58 : MOV EAX,dword ptr [EBP + 0x8]
00843b5b : MOV EDI,dword ptr [EBP + 0xc]
00843b5e : XOR EBX,EBX
00843b60 : MOV dword ptr [EAX + 0x34],EBX
00843b63 : MOV dword ptr [EAX + 0x28],EDI
00843b66 : CMP dword ptr [EDI + 0x24],0x8
00843b6a : JC 0x00843b71
00843b6c : MOV EDX,dword ptr [EDI + 0x10]
00843b6f : JMP 0x00843b74
00843b71 : LEA EDX,[EDI + 0x10]
00843b74 : MOV EAX,EDX
00843b76 : LEA ESI,[EAX + 0x2]
00843b79 : LEA ESP,[ESP]
00843b80 : MOV CX,word ptr [EAX]
00843b83 : ADD EAX,0x2
00843b86 : CMP CX,BX
00843b89 : JNZ 0x00843b80
00843b8b : SUB EAX,ESI
00843b8d : SAR EAX,0x1
00843b8f : PUSH EAX
00843b90 : PUSH EDX
00843b91 : MOV ECX,0x1724630
00843b96 : CALL 0x00406360
00843b9b : MOV EAX,dword ptr [EDI + 0x8]
00843b9e : MOV ESI,dword ptr [0x00d7c54c]
00843ba4 : LEA ECX,[EBP + 0x8]
00843ba7 : MOV dword ptr [EBP + 0x8],EAX
00843baa : PUSH ECX
00843bab : LEA ECX,[ESI + 0x40]
00843bae : LEA EAX,[EBP + -0x10]
00843bb1 : CALL 0x004437f0
00843bb6 : MOV ESI,dword ptr [ESI + 0x44]
00843bb9 : MOV EAX,dword ptr [EBP + -0x10]
00843bbc : CMP EAX,ESI
00843bbe : JZ 0x00843e00
00843bc4 : MOV EAX,dword ptr [EAX + 0x10]
00843bc7 : CMP EAX,EBX
00843bc9 : JZ 0x00843e00
00843bcf : MOV EAX,dword ptr [EAX + 0x120]
00843bd5 : CMP EAX,EBX
00843bd7 : JZ 0x00843e00
00843bdd : MOVZX EAX,word ptr [EAX + 0x6]
00843be1 : CMP AX,0x1
00843be5 : JNZ 0x00843c8b
00843beb : PUSH 0xc3b73c
00843bf0 : LEA ECX,[EBP + -0x2c]
00843bf3 : CALL 0x00406460
00843bf8 : MOV dword ptr [EBP + -0x4],EBX
00843bfb : MOV ECX,dword ptr [0x0172491c]
00843c01 : LEA EDX,[EBP + -0x2c]
00843c04 : PUSH EDX
00843c05 : LEA EDI,[EBP + -0x48]
00843c08 : CALL 0x0081d120
00843c0d : MOV byte ptr [EBP + -0x4],0x1
00843c11 : MOV EDI,0x8
00843c16 : CMP dword ptr [EAX + 0x18],EDI
00843c19 : JC 0x00843c20
00843c1b : MOV EDX,dword ptr [EAX + 0x4]
00843c1e : JMP 0x00843c23
00843c20 : LEA EDX,[EAX + 0x4]
00843c23 : MOV EAX,EDX
00843c25 : LEA ESI,[EAX + 0x2]
00843c28 : JMP 0x00843c30
00843c30 : MOV CX,word ptr [EAX]
00843c33 : ADD EAX,0x2
00843c36 : CMP CX,BX
00843c39 : JNZ 0x00843c30
00843c3b : SUB EAX,ESI
00843c3d : SAR EAX,0x1
00843c3f : PUSH EAX
00843c40 : PUSH EDX
00843c41 : MOV ECX,0x172464c
00843c46 : CALL 0x00406360
00843c4b : MOV byte ptr [EBP + -0x4],0x0
00843c4f : CMP dword ptr [EBP + -0x30],EDI
00843c52 : JC 0x00843c5c
00843c54 : MOV ECX,dword ptr [EBP + -0x44]
00843c57 : CALL 0x006f04e0
00843c5c : MOV ESI,0x7
00843c61 : XOR EAX,EAX
00843c63 : MOV dword ptr [EBP + -0x30],ESI
00843c66 : MOV dword ptr [EBP + -0x34],EBX
00843c69 : MOV word ptr [EBP + -0x44],AX
00843c6d : MOV dword ptr [EBP + -0x4],0xffffffff
00843c74 : CMP dword ptr [EBP + -0x14],EDI
00843c77 : JC 0x00843c81
00843c79 : MOV ECX,dword ptr [EBP + -0x28]
00843c7c : CALL 0x006f04e0
00843c81 : MOV dword ptr [EBP + -0x18],EBX
00843c84 : XOR ECX,ECX
00843c86 : JMP 0x00843df9
00843c8b : CMP AX,0x2
00843c8f : JNZ 0x00843cf6
00843c91 : PUSH 0xc3b75c
00843c96 : LEA ECX,[EBP + -0x2c]
00843c99 : CALL 0x00406460
00843c9e : MOV dword ptr [EBP + -0x4],0x2
00843ca5 : MOV ECX,dword ptr [0x0172491c]
00843cab : LEA EDX,[EBP + -0x2c]
00843cae : PUSH EDX
00843caf : LEA EDI,[EBP + -0x48]
00843cb2 : CALL 0x0081d120
00843cb7 : MOV byte ptr [EBP + -0x4],0x3
00843cbb : MOV EDI,0x8
00843cc0 : CMP dword ptr [EAX + 0x18],EDI
00843cc3 : JC 0x00843cca
00843cc5 : MOV EDX,dword ptr [EAX + 0x4]
00843cc8 : JMP 0x00843ccd
00843cca : LEA EDX,[EAX + 0x4]
00843ccd : MOV EAX,EDX
00843ccf : LEA ESI,[EAX + 0x2]
00843cd2 : MOV CX,word ptr [EAX]
00843cd5 : ADD EAX,0x2
00843cd8 : CMP CX,BX
00843cdb : JNZ 0x00843cd2
00843cdd : SUB EAX,ESI
00843cdf : SAR EAX,0x1
00843ce1 : PUSH EAX
00843ce2 : PUSH EDX
00843ce3 : MOV ECX,0x172464c
00843ce8 : CALL 0x00406360
00843ced : MOV byte ptr [EBP + -0x4],0x2
00843cf1 : JMP 0x00843c4f
00843cf6 : CMP AX,0x3
00843cfa : JNZ 0x00843d4d
00843cfc : PUSH 0xc3b77c
00843d01 : LEA ECX,[EBP + -0x2c]
00843d04 : CALL 0x00406460
00843d09 : MOV EBX,0x4
00843d0e : MOV dword ptr [EBP + -0x4],EBX
00843d11 : MOV ECX,dword ptr [0x0172491c]
00843d17 : LEA EDX,[EBP + -0x2c]
00843d1a : PUSH EDX
00843d1b : LEA EDI,[EBP + -0x48]
00843d1e : CALL 0x0081d120
00843d23 : MOV byte ptr [EBP + -0x4],0x5
00843d27 : MOV EDI,0x8
00843d2c : CMP dword ptr [EAX + 0x18],EDI
00843d2f : JC 0x00843d36
00843d31 : MOV EDX,dword ptr [EAX + 0x4]
00843d34 : JMP 0x00843d39
00843d36 : LEA EDX,[EAX + 0x4]
00843d39 : MOV EAX,EDX
00843d3b : LEA ESI,[EAX + 0x2]
00843d3e : MOV EDI,EDI
00843d40 : MOV CX,word ptr [EAX]
00843d43 : ADD EAX,0x2
00843d46 : TEST CX,CX
00843d49 : JNZ 0x00843d40
00843d4b : JMP 0x00843dab
00843d4d : CMP AX,0x4
00843d51 : JNZ 0x00843e00
00843d57 : PUSH 0xc3b79c
00843d5c : LEA ECX,[EBP + -0x2c]
00843d5f : CALL 0x00406460
00843d64 : MOV EBX,0x6
00843d69 : MOV dword ptr [EBP + -0x4],EBX
00843d6c : MOV ECX,dword ptr [0x0172491c]
00843d72 : LEA EDX,[EBP + -0x2c]
00843d75 : PUSH EDX
00843d76 : LEA EDI,[EBP + -0x48]
00843d79 : CALL 0x0081d120
00843d7e : MOV byte ptr [EBP + -0x4],0x7
00843d82 : MOV EDI,0x8
00843d87 : CMP dword ptr [EAX + 0x18],EDI
00843d8a : JC 0x00843d91
00843d8c : MOV EDX,dword ptr [EAX + 0x4]
00843d8f : JMP 0x00843d94
00843d91 : LEA EDX,[EAX + 0x4]
00843d94 : MOV EAX,EDX
00843d96 : LEA ESI,[EAX + 0x2]
00843d99 : LEA ESP,[ESP]
00843da0 : MOV CX,word ptr [EAX]
00843da3 : ADD EAX,0x2
00843da6 : TEST CX,CX
00843da9 : JNZ 0x00843da0
00843dab : SUB EAX,ESI
00843dad : SAR EAX,0x1
00843daf : PUSH EAX
00843db0 : PUSH EDX
00843db1 : MOV ECX,0x172464c
00843db6 : CALL 0x00406360
00843dbb : MOV byte ptr [EBP + -0x4],BL
00843dbe : CMP dword ptr [EBP + -0x30],EDI
00843dc1 : JC 0x00843dcb
00843dc3 : MOV ECX,dword ptr [EBP + -0x44]
00843dc6 : CALL 0x006f04e0
00843dcb : MOV ESI,0x7
00843dd0 : XOR EBX,EBX
00843dd2 : XOR EAX,EAX
00843dd4 : MOV dword ptr [EBP + -0x30],ESI
00843dd7 : MOV dword ptr [EBP + -0x34],EBX
00843dda : MOV word ptr [EBP + -0x44],AX
00843dde : MOV dword ptr [EBP + -0x4],0xffffffff
00843de5 : CMP dword ptr [EBP + -0x14],EDI
00843de8 : JC 0x00843df2
00843dea : MOV ECX,dword ptr [EBP + -0x28]
00843ded : CALL 0x006f04e0
00843df2 : XOR ECX,ECX
00843df4 : MOV dword ptr [EBP + -0x18],EBX
00843df7 : XOR EBX,EBX
00843df9 : MOV word ptr [EBP + -0x28],CX
00843dfd : MOV dword ptr [EBP + -0x14],ESI
00843e00 : MOV EDX,dword ptr [EBP + 0xc]
00843e03 : MOVZX EAX,word ptr [EDX + 0x7c]
00843e07 : CMP AX,0x1
00843e0b : JNZ 0x00843eae
00843e11 : PUSH 0xc3abb4
00843e16 : LEA ECX,[EBP + -0x2c]
00843e19 : CALL 0x00406460
00843e1e : MOV dword ptr [EBP + -0x4],0x8
00843e25 : MOV ECX,dword ptr [0x0172491c]
00843e2b : LEA EAX,[EBP + -0x2c]
00843e2e : PUSH EAX
00843e2f : LEA EDI,[EBP + -0x48]
00843e32 : CALL 0x0081d120
00843e37 : MOV byte ptr [EBP + -0x4],0x9
00843e3b : MOV EDI,0x8
00843e40 : CMP dword ptr [EAX + 0x18],EDI
00843e43 : JC 0x00843e4a
00843e45 : MOV EDX,dword ptr [EAX + 0x4]
00843e48 : JMP 0x00843e4d
00843e4a : LEA EDX,[EAX + 0x4]
00843e4d : MOV EAX,EDX
00843e4f : LEA ESI,[EAX + 0x2]
00843e52 : MOV CX,word ptr [EAX]
00843e55 : ADD EAX,0x2
00843e58 : CMP CX,BX
00843e5b : JNZ 0x00843e52
00843e5d : SUB EAX,ESI
00843e5f : SAR EAX,0x1
00843e61 : PUSH EAX
00843e62 : PUSH EDX
00843e63 : MOV ECX,0x17246a0
00843e68 : CALL 0x00406360
00843e6d : MOV byte ptr [EBP + -0x4],0x8
00843e71 : CMP dword ptr [EBP + -0x30],EDI
00843e74 : JC 0x00843e7e
00843e76 : MOV ECX,dword ptr [EBP + -0x44]
00843e79 : CALL 0x006f04e0
00843e7e : MOV ESI,0x7
00843e83 : XOR ECX,ECX
00843e85 : MOV dword ptr [EBP + -0x30],ESI
00843e88 : MOV dword ptr [EBP + -0x34],EBX
00843e8b : MOV word ptr [EBP + -0x44],CX
00843e8f : MOV dword ptr [EBP + -0x4],0xffffffff
00843e96 : CMP dword ptr [EBP + -0x14],EDI
00843e99 : JC 0x00843ea3
00843e9b : MOV ECX,dword ptr [EBP + -0x28]
00843e9e : CALL 0x006f04e0
00843ea3 : MOV dword ptr [EBP + -0x14],ESI
00843ea6 : MOV dword ptr [EBP + -0x18],EBX
00843ea9 : JMP 0x00843f58
00843eae : CMP AX,0x2
00843eb2 : JNZ 0x00843f5e
00843eb8 : PUSH 0xc3ad9c
00843ebd : LEA ECX,[EBP + -0x2c]
00843ec0 : CALL 0x00406460
00843ec5 : MOV EBX,0xa
00843eca : MOV dword ptr [EBP + -0x4],EBX
00843ecd : MOV ECX,dword ptr [0x0172491c]
00843ed3 : LEA EAX,[EBP + -0x2c]
00843ed6 : PUSH EAX
00843ed7 : LEA EDI,[EBP + -0x48]
00843eda : CALL 0x0081d120
00843edf : MOV byte ptr [EBP + -0x4],0xb
00843ee3 : MOV EDI,0x8
00843ee8 : CMP dword ptr [EAX + 0x18],EDI
00843eeb : JC 0x00843ef2
00843eed : MOV EDX,dword ptr [EAX + 0x4]
00843ef0 : JMP 0x00843ef5
00843ef2 : LEA EDX,[EAX + 0x4]
00843ef5 : MOV EAX,EDX
00843ef7 : LEA ESI,[EAX + 0x2]
00843efa : LEA EBX,[EBX]
00843f00 : MOV CX,word ptr [EAX]
00843f03 : ADD EAX,0x2
00843f06 : TEST CX,CX
00843f09 : JNZ 0x00843f00
00843f0b : SUB EAX,ESI
00843f0d : SAR EAX,0x1
00843f0f : PUSH EAX
00843f10 : PUSH EDX
00843f11 : MOV ECX,0x17246a0
00843f16 : CALL 0x00406360
00843f1b : MOV byte ptr [EBP + -0x4],BL
00843f1e : CMP dword ptr [EBP + -0x30],EDI
00843f21 : JC 0x00843f2b
00843f23 : MOV ECX,dword ptr [EBP + -0x44]
00843f26 : CALL 0x006f04e0
00843f2b : MOV EBX,0x7
00843f30 : XOR ESI,ESI
00843f32 : XOR ECX,ECX
00843f34 : MOV dword ptr [EBP + -0x30],EBX
00843f37 : MOV dword ptr [EBP + -0x34],ESI
00843f3a : MOV word ptr [EBP + -0x44],CX
00843f3e : MOV dword ptr [EBP + -0x4],0xffffffff
00843f45 : CMP dword ptr [EBP + -0x14],EDI
00843f48 : JC 0x00843f52
00843f4a : MOV ECX,dword ptr [EBP + -0x28]
00843f4d : CALL 0x006f04e0
00843f52 : MOV dword ptr [EBP + -0x14],EBX
00843f55 : MOV dword ptr [EBP + -0x18],ESI
00843f58 : XOR EDX,EDX
00843f5a : MOV word ptr [EBP + -0x28],DX
00843f5e : MOV EAX,dword ptr [EBP + 0xc]
00843f61 : MOV ECX,dword ptr [EAX + 0xa0]
00843f67 : PUSH ECX
00843f68 : MOV ESI,0x1724628
00843f6d : CALL 0x006f0da0
00843f72 : MOV ECX,dword ptr [EBP + -0xc]
00843f75 : MOV dword ptr FS:[0x0],ECX
00843f7c : POP ECX
00843f7d : POP EDI
00843f7e : POP ESI
00843f7f : POP EBX
00843f80 : MOV ESP,EBP
00843f82 : POP EBP
00843f83 : RET 0x8
