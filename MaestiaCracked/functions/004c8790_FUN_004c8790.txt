PROGRAM  : Maestia.exe
FUNCTION : FUN_004c8790
ENTRY    : 004c8790
BODY     : [[004c8790, 004c8802]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004c8790(void)

{
  int *piVar1;
  uint uVar2;
  int unaff_ESI;
  int iVar3;
  
  iVar3 = *(int *)(unaff_ESI + 0x1c);
  while (iVar3 != 0) {
    if (*(int *)(unaff_ESI + 0x1c) != 0) {
      uVar2 = *(int *)(unaff_ESI + 0x1c) + -1 + *(int *)(unaff_ESI + 0x18);
      if (*(uint *)(unaff_ESI + 0x14) <= uVar2) {
        uVar2 = uVar2 - *(uint *)(unaff_ESI + 0x14);
      }
      FUN_0044cb00(*(undefined4 *)(*(int *)(unaff_ESI + 0x10) + uVar2 * 4));
      piVar1 = (int *)(unaff_ESI + 0x1c);
      *piVar1 = *piVar1 + -1;
      if (*piVar1 == 0) {
        *(undefined4 *)(unaff_ESI + 0x18) = 0;
      }
    }
    iVar3 = *(int *)(unaff_ESI + 0x1c);
  }
  iVar3 = *(int *)(unaff_ESI + 0x14);
  while (iVar3 != 0) {
    iVar3 = iVar3 + -1;
    if (*(int *)(*(int *)(unaff_ESI + 0x10) + iVar3 * 4) != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  if (*(int *)(unaff_ESI + 0x10) == 0) {
    *(undefined4 *)(unaff_ESI + 0x10) = 0;
    *(undefined4 *)(unaff_ESI + 0x14) = 0;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004c8790 : PUSH EBX
004c8791 : XOR EBX,EBX
004c8793 : PUSH EDI
004c8794 : CMP dword ptr [ESI + 0x1c],EBX
004c8797 : JZ 0x004c87d0
004c8799 : OR EDI,0xffffffff
004c879c : LEA ESP,[ESP]
004c87a0 : MOV EAX,dword ptr [ESI + 0x1c]
004c87a3 : CMP EAX,EBX
004c87a5 : JZ 0x004c87cb
004c87a7 : MOV ECX,dword ptr [ESI + 0x18]
004c87aa : LEA EAX,[EAX + ECX*0x1 + -0x1]
004c87ae : MOV ECX,dword ptr [ESI + 0x14]
004c87b1 : CMP ECX,EAX
004c87b3 : JA 0x004c87b7
004c87b5 : SUB EAX,ECX
004c87b7 : MOV EDX,dword ptr [ESI + 0x10]
004c87ba : MOV EAX,dword ptr [EDX + EAX*0x4]
004c87bd : PUSH EAX
004c87be : CALL 0x0044cb00
004c87c3 : ADD dword ptr [ESI + 0x1c],EDI
004c87c6 : JNZ 0x004c87cb
004c87c8 : MOV dword ptr [ESI + 0x18],EBX
004c87cb : CMP dword ptr [ESI + 0x1c],EBX
004c87ce : JNZ 0x004c87a0
004c87d0 : MOV EDI,dword ptr [ESI + 0x14]
004c87d3 : CMP EDI,EBX
004c87d5 : JBE 0x004c87ee
004c87d7 : MOV ECX,dword ptr [ESI + 0x10]
004c87da : DEC EDI
004c87db : CMP dword ptr [ECX + EDI*0x4],EBX
004c87de : LEA EAX,[ECX + EDI*0x4]
004c87e1 : JZ 0x004c87ea
004c87e3 : MOV ECX,dword ptr [EAX]
004c87e5 : CALL 0x006f04e0
004c87ea : CMP EDI,EBX
004c87ec : JA 0x004c87d7
004c87ee : MOV ECX,dword ptr [ESI + 0x10]
004c87f1 : CMP ECX,EBX
004c87f3 : JZ 0x004c87fa
004c87f5 : CALL 0x006f04e0
004c87fa : POP EDI
004c87fb : MOV dword ptr [ESI + 0x10],EBX
004c87fe : MOV dword ptr [ESI + 0x14],EBX
004c8801 : POP EBX
004c8802 : RET
