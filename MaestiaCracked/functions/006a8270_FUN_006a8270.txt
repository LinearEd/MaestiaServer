PROGRAM  : Maestia.exe
FUNCTION : FUN_006a8270
ENTRY    : 006a8270
BODY     : [[006a8270, 006a838a]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006a8270(int param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  int iVar3;
  int unaff_EBX;
  undefined4 *puVar4;
  int local_6c [22];
  undefined4 local_14;
  int local_10;
  
  uVar2 = *(undefined4 *)(unaff_EBX + 100);
  FUN_006a80f0();
  local_6c[0] = FUN_006a76f0(*(undefined4 *)(unaff_EBX + 0x88));
  if (local_6c[0] == 0) {
    local_6c[0] = FUN_006a7c50();
    if ((local_6c[0] == 0) && (-1 < param_1)) {
      puVar1 = (undefined4 *)FUN_00688c00(uVar2,0x28,local_6c);
      *(undefined4 **)(unaff_EBX + 0x148) = puVar1;
      if (local_6c[0] == 0) {
        if (local_10 == 0) {
          puVar4 = *(undefined4 **)(unaff_EBX + 0x68);
          for (iVar3 = 10; iVar3 != 0; iVar3 = iVar3 + -1) {
            *puVar1 = *puVar4;
            puVar4 = puVar4 + 1;
            puVar1 = puVar1 + 1;
          }
          *(undefined4 *)(unaff_EBX + 0x134) = local_14;
        }
        else {
          uVar2 = FUN_00688c00(uVar2,local_10,local_6c);
          *(undefined4 *)(unaff_EBX + 0x144) = uVar2;
          if (local_6c[0] != 0) goto LAB_006a8378;
          iVar3 = FUN_006a8110(local_10,local_14);
          if (iVar3 != 0) goto LAB_006a8378;
          FUN_00687780(*(undefined4 *)(unaff_EBX + 0x148),*(undefined4 *)(unaff_EBX + 0x144),
                       local_10);
          *(undefined4 *)(unaff_EBX + 0x134) = 0;
        }
        local_6c[0] = FUN_006a7da0();
      }
    }
  }
LAB_006a8378:
  thunk_FUN_006a79c0();
  return local_6c[0];
}



============================================================
DISASSEMBLY
============================================================
006a8270 : SUB ESP,0x6c
006a8273 : PUSH EBP
006a8274 : MOV EBP,dword ptr [EBX + 0x64]
006a8277 : PUSH ESI
006a8278 : LEA EAX,[ESP + 0xc]
006a827c : CALL 0x006a80f0
006a8281 : MOV EAX,dword ptr [EBX + 0x88]
006a8287 : MOV ECX,dword ptr [EBX + 0x68]
006a828a : PUSH EAX
006a828b : MOV EDX,EBP
006a828d : LEA ESI,[ESP + 0x10]
006a8291 : CALL 0x006a76f0
006a8296 : ADD ESP,0x4
006a8299 : MOV dword ptr [ESP + 0x8],EAX
006a829d : TEST EAX,EAX
006a829f : JNZ 0x006a8378
006a82a5 : MOV EAX,dword ptr [ESP + 0x5c]
006a82a9 : MOV ECX,dword ptr [ESP + 0x58]
006a82ad : PUSH EBX
006a82ae : MOV EDX,ESI
006a82b0 : CALL 0x006a7c50
006a82b5 : ADD ESP,0x4
006a82b8 : MOV dword ptr [ESP + 0x8],EAX
006a82bc : TEST EAX,EAX
006a82be : JNZ 0x006a8378
006a82c4 : CMP dword ptr [ESP + 0x78],EAX
006a82c8 : JL 0x006a8378
006a82ce : LEA ECX,[ESP + 0x8]
006a82d2 : PUSH ECX
006a82d3 : PUSH 0x28
006a82d5 : PUSH EBP
006a82d6 : CALL 0x00688c00
006a82db : ADD ESP,0xc
006a82de : CMP dword ptr [ESP + 0x8],0x0
006a82e3 : MOV dword ptr [EBX + 0x148],EAX
006a82e9 : JNZ 0x006a8378
006a82ef : MOV ECX,dword ptr [ESP + 0x64]
006a82f3 : TEST ECX,ECX
006a82f5 : JZ 0x006a8353
006a82f7 : LEA EDX,[ESP + 0x8]
006a82fb : PUSH EDX
006a82fc : PUSH ECX
006a82fd : PUSH EBP
006a82fe : CALL 0x00688c00
006a8303 : ADD ESP,0xc
006a8306 : CMP dword ptr [ESP + 0x8],0x0
006a830b : MOV dword ptr [EBX + 0x144],EAX
006a8311 : JNZ 0x006a8378
006a8313 : MOV ECX,dword ptr [ESP + 0x60]
006a8317 : MOV EDX,dword ptr [ESP + 0x64]
006a831b : PUSH EBX
006a831c : PUSH ECX
006a831d : PUSH EDX
006a831e : MOV ECX,EAX
006a8320 : CALL 0x006a8110
006a8325 : ADD ESP,0xc
006a8328 : TEST EAX,EAX
006a832a : JNZ 0x006a8378
006a832c : MOV EAX,dword ptr [ESP + 0x64]
006a8330 : MOV ECX,dword ptr [EBX + 0x144]
006a8336 : MOV EDX,dword ptr [EBX + 0x148]
006a833c : PUSH EAX
006a833d : PUSH ECX
006a833e : PUSH EDX
006a833f : CALL 0x00687780
006a8344 : ADD ESP,0xc
006a8347 : MOV dword ptr [EBX + 0x134],0x0
006a8351 : JMP 0x006a836b
006a8353 : MOV ESI,dword ptr [EBX + 0x68]
006a8356 : PUSH EDI
006a8357 : MOV EDI,EAX
006a8359 : MOV ECX,0xa
006a835e : MOVSD.REP ES:EDI,ESI
006a8360 : MOV EAX,dword ptr [ESP + 0x64]
006a8364 : MOV dword ptr [EBX + 0x134],EAX
006a836a : POP EDI
006a836b : PUSH EBX
006a836c : CALL 0x006a7da0
006a8371 : ADD ESP,0x4
006a8374 : MOV dword ptr [ESP + 0x8],EAX
006a8378 : LEA ESI,[ESP + 0xc]
006a837c : CALL 0x006a8100
006a8381 : MOV EAX,dword ptr [ESP + 0x8]
006a8385 : POP ESI
006a8386 : POP EBP
006a8387 : ADD ESP,0x6c
006a838a : RET
