PROGRAM  : Maestia.exe
FUNCTION : FUN_00586120
ENTRY    : 00586120
BODY     : [[00586120, 00586238]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00586120(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  undefined4 local_c [3];
  
  iVar3 = FUN_00515840(0x48);
  if (iVar3 == 0) {
    iVar3 = 0;
  }
  else {
    iVar3 = FUN_00585130();
  }
  iVar1 = *(int *)(param_1 + 0x18);
  local_c[0] = 0;
  iVar2 = *(int *)(iVar1 + 0x78);
  (**(code **)(*(int *)(iVar3 + 0x10) + 0xc))();
  FUN_00526bc0();
  FUN_0052e7f0(&stack0xffffffd4,2);
  piVar4 = (int *)(*(int *)(param_1 + 0x18) + 0x78);
  local_c[0] = CONCAT31(local_c[0]._1_3_,3);
  FUN_00526210(&stack0xffffffd4);
  (**(code **)(*(int *)(iVar3 + 0x10) + 0x28))(piVar4,*piVar4 + 0x138,&stack0xffffffe0,local_c);
  FUN_00526bc0();
  if (*(int *)(param_1 + 0x1c) != 0) {
    FUN_00584630(param_1);
  }
  FUN_005271c0(iVar3);
  if (iVar1 != 0) {
    FUN_00503db0();
  }
  if (iVar2 != -0x250) {
    FUN_00503db0();
  }
  FUN_00503db0();
  return;
}



============================================================
DISASSEMBLY
============================================================
00586120 : SUB ESP,0x1c
00586123 : PUSH EBP
00586124 : PUSH ESI
00586125 : MOV ESI,dword ptr [ESP + 0x28]
00586129 : MOV EAX,dword ptr [ESI + 0x18]
0058612c : MOV ECX,dword ptr [EAX + 0x78]
0058612f : MOV ECX,dword ptr [ECX + 0x288]
00586135 : PUSH EDI
00586136 : PUSH 0x0
00586138 : PUSH 0x48
0058613a : CALL 0x00515840
0058613f : TEST EAX,EAX
00586141 : JZ 0x00586152
00586143 : MOV EDX,dword ptr [ESI + 0x18]
00586146 : PUSH EDX
00586147 : MOV ECX,EAX
00586149 : CALL 0x00585130
0058614e : MOV EBP,EAX
00586150 : JMP 0x00586154
00586152 : XOR EBP,EBP
00586154 : MOV EAX,dword ptr [ESI + 0x18]
00586157 : MOV EDX,dword ptr [EBP + 0x10]
0058615a : MOV EDX,dword ptr [EDX + 0xc]
0058615d : PUSH EBX
0058615e : LEA ECX,[ESP + 0x30]
00586162 : PUSH ECX
00586163 : LEA ECX,[ESP + 0x20]
00586167 : PUSH ECX
00586168 : MOV byte ptr [ESP + 0x38],0x1
0058616d : MOV byte ptr [ESP + 0x24],0x4
00586172 : MOV dword ptr [ESP + 0x28],0x0
0058617a : MOV ECX,dword ptr [EAX + 0x78]
0058617d : ADD ECX,0x250
00586183 : LEA EDI,[EBP + 0x10]
00586186 : PUSH ECX
00586187 : PUSH EAX
00586188 : MOV ECX,EDI
0058618a : CALL EDX
0058618c : LEA ECX,[ESP + 0x1c]
00586190 : CALL 0x00526bc0
00586195 : MOV ECX,dword ptr [ESI + 0x18]
00586198 : PUSH 0x2
0058619a : LEA EAX,[ESP + 0x14]
0058619e : PUSH EAX
0058619f : CALL 0x0052e7f0
005861a4 : MOV EBX,dword ptr [ESI + 0x18]
005861a7 : LEA ECX,[ESP + 0x10]
005861ab : PUSH ECX
005861ac : LEA ECX,[ESP + 0x20]
005861b0 : ADD EBX,0x78
005861b3 : MOV byte ptr [ESP + 0x34],0x3
005861b8 : CALL 0x00526210
005861bd : MOV EDX,dword ptr [EDI]
005861bf : MOV EDX,dword ptr [EDX + 0x28]
005861c2 : LEA EAX,[ESP + 0x30]
005861c6 : PUSH EAX
005861c7 : MOV EAX,dword ptr [EBX]
005861c9 : LEA ECX,[ESP + 0x20]
005861cd : PUSH ECX
005861ce : ADD EAX,0x138
005861d3 : PUSH EAX
005861d4 : PUSH EBX
005861d5 : MOV ECX,EDI
005861d7 : CALL EDX
005861d9 : LEA ECX,[ESP + 0x1c]
005861dd : CALL 0x00526bc0
005861e2 : XOR EDI,EDI
005861e4 : POP EBX
005861e5 : CMP dword ptr [ESI + 0x1c],EDI
005861e8 : JZ 0x005861f2
005861ea : PUSH ESI
005861eb : MOV ECX,EBP
005861ed : CALL 0x00584630
005861f2 : MOV ECX,dword ptr [ESI + 0x4]
005861f5 : PUSH EBP
005861f6 : CALL 0x005271c0
005861fb : TEST byte ptr [ESP + 0x14],0x2
00586200 : JNZ 0x0058620f
00586202 : MOV ECX,dword ptr [ESP + 0xc]
00586206 : CMP ECX,EDI
00586208 : JZ 0x0058620f
0058620a : CALL 0x00503db0
0058620f : TEST byte ptr [ESP + 0x14],0x1
00586214 : MOV dword ptr [ESP + 0xc],EDI
00586218 : JNZ 0x00586227
0058621a : MOV ECX,dword ptr [ESP + 0x10]
0058621e : CMP ECX,EDI
00586220 : JZ 0x00586227
00586222 : CALL 0x00503db0
00586227 : MOV ECX,EBP
00586229 : MOV dword ptr [ESP + 0x10],EDI
0058622d : CALL 0x00503db0
00586232 : POP EDI
00586233 : POP ESI
00586234 : POP EBP
00586235 : ADD ESP,0x1c
00586238 : RET
