PROGRAM  : Maestia.exe
FUNCTION : FUN_0095db40
ENTRY    : 0095db40
BODY     : [[0095db40, 0095dd0f]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0095dca0) */

void FUN_0095db40(int *param_1,undefined4 param_2,undefined4 param_3)

{
  uint uVar1;
  undefined4 *puVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  DWORD DVar6;
  undefined4 *in_ECX;
  int *piVar7;
  uint local_1c;
  int local_18;
  undefined4 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b53a72;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if ((uint)in_ECX >> 0x10 != 0x143e) {
    puVar2 = (undefined4 *)FUN_0095aea0(in_ECX);
    if (puVar2 != (undefined4 *)0x0) {
      iVar3 = FUN_004049b0();
      if (iVar3 == 0) {
        ExceptionList = local_10;
        return;
      }
      FUN_0095bda0(*puVar2);
    }
    iVar3 = DAT_00d7c54c;
    local_14 = in_ECX;
    FUN_004437f0(&local_14);
    if (local_18 != *(int *)(iVar3 + 0x44)) {
      iVar3 = *(int *)(local_18 + 0x10);
      puVar2 = (undefined4 *)0x0;
      if (iVar3 != 0) {
        iVar4 = FUN_006f0300(0x658,uVar1);
        local_8 = 0;
        if (iVar4 != 0) {
          puVar2 = (undefined4 *)FUN_00425260(iVar4);
        }
        local_8 = 0xffffffff;
        *puVar2 = param_2;
        puVar2[1] = in_ECX;
        local_14 = puVar2;
        uVar5 = FUN_00404350(iVar3 + 0x80);
        local_8 = 1;
        FUN_00405eb0(uVar5,0,0xffffffff);
        local_8 = 0xffffffff;
        if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        DVar6 = timeGetTime();
        uVar5 = DAT_0172491c;
        puVar2[4] = DVar6;
        puVar2[2] = param_3;
        uVar5 = FUN_00824a20(uVar5,0);
        local_8 = 2;
        FUN_00405eb0(uVar5,0,0xffffffff);
        local_8 = 0xffffffff;
        piVar7 = param_1 + 0x5f;
        if ((*(byte *)(iVar3 + 0x144) & 1) == 0) {
          piVar7 = param_1 + 99;
        }
        iVar3 = piVar7[2];
        iVar4 = piVar7[1];
        FUN_00449730();
        (**(code **)(*param_1 + 0x44))();
        if (0x17 < (byte)(iVar3 - iVar4 >> 2)) {
          ExceptionList = local_10;
          return;
        }
      }
    }
    FUN_0095b900(param_1);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0095db40 : PUSH EBP
0095db41 : MOV EBP,ESP
0095db43 : PUSH -0x1
0095db45 : PUSH 0xb53a72
0095db4a : MOV EAX,FS:[0x0]
0095db50 : PUSH EAX
0095db51 : SUB ESP,0x28
0095db54 : PUSH EBX
0095db55 : PUSH ESI
0095db56 : PUSH EDI
0095db57 : MOV EAX,[0x00d66fa0]
0095db5c : XOR EAX,EBP
0095db5e : PUSH EAX
0095db5f : LEA EAX,[EBP + -0xc]
0095db62 : MOV FS:[0x0],EAX
0095db68 : MOV ESI,ECX
0095db6a : MOV EAX,ESI
0095db6c : SHR EAX,0x10
0095db6f : CMP EAX,0x143e
0095db74 : JZ 0x0095dcfc
0095db7a : MOV EBX,dword ptr [EBP + 0x8]
0095db7d : MOV EDI,dword ptr [EBP + 0xc]
0095db80 : PUSH ESI
0095db81 : MOV EAX,EBX
0095db83 : CALL 0x0095aea0
0095db88 : MOV EDI,EAX
0095db8a : TEST EDI,EDI
0095db8c : JZ 0x0095dba9
0095db8e : PUSH ESI
0095db8f : CALL 0x004049b0
0095db94 : ADD ESP,0x4
0095db97 : TEST EAX,EAX
0095db99 : JZ 0x0095dcfc
0095db9f : MOV ECX,dword ptr [EDI]
0095dba1 : PUSH ECX
0095dba2 : MOV EDI,EBX
0095dba4 : CALL 0x0095bda0
0095dba9 : MOV EDI,dword ptr [0x00d7c54c]
0095dbaf : LEA EDX,[EBP + -0x10]
0095dbb2 : PUSH EDX
0095dbb3 : LEA ECX,[EDI + 0x40]
0095dbb6 : LEA EAX,[EBP + -0x14]
0095dbb9 : MOV dword ptr [EBP + -0x10],ESI
0095dbbc : CALL 0x004437f0
0095dbc1 : MOV EDI,dword ptr [EDI + 0x44]
0095dbc4 : MOV EAX,dword ptr [EBP + -0x14]
0095dbc7 : CMP EAX,EDI
0095dbc9 : JZ 0x0095dcf3
0095dbcf : MOV EBX,dword ptr [EAX + 0x10]
0095dbd2 : XOR EDI,EDI
0095dbd4 : CMP EBX,EDI
0095dbd6 : JZ 0x0095dcf3
0095dbdc : PUSH 0x658
0095dbe1 : CALL 0x006f0300
0095dbe6 : ADD ESP,0x4
0095dbe9 : MOV dword ptr [EBP + -0x14],EAX
0095dbec : MOV dword ptr [EBP + -0x4],EDI
0095dbef : CMP EAX,EDI
0095dbf1 : JZ 0x0095dbfb
0095dbf3 : PUSH EAX
0095dbf4 : CALL 0x00425260
0095dbf9 : MOV EDI,EAX
0095dbfb : MOV dword ptr [EBP + -0x4],0xffffffff
0095dc02 : MOV EAX,dword ptr [EBP + 0xc]
0095dc05 : MOV dword ptr [EDI],EAX
0095dc07 : LEA ECX,[EBX + 0x80]
0095dc0d : MOV dword ptr [EDI + 0x4],ESI
0095dc10 : PUSH ECX
0095dc11 : LEA ESI,[EBP + -0x30]
0095dc14 : MOV dword ptr [EBP + -0x10],EDI
0095dc17 : CALL 0x00404350
0095dc1c : ADD ESP,0x4
0095dc1f : MOV dword ptr [EBP + -0x4],0x1
0095dc26 : PUSH -0x1
0095dc28 : PUSH 0x0
0095dc2a : LEA ECX,[EDI + 0x1c]
0095dc2d : PUSH EAX
0095dc2e : CALL 0x00405eb0
0095dc33 : MOV dword ptr [EBP + -0x4],0xffffffff
0095dc3a : CMP dword ptr [EBP + -0x18],0x8
0095dc3e : JC 0x0095dc48
0095dc40 : MOV ECX,dword ptr [EBP + -0x2c]
0095dc43 : CALL 0x006f04e0
0095dc48 : XOR EDX,EDX
0095dc4a : MOV dword ptr [EBP + -0x18],0x7
0095dc51 : MOV dword ptr [EBP + -0x1c],0x0
0095dc58 : MOV word ptr [EBP + -0x2c],DX
0095dc5c : CALL dword ptr [0x00b85598]
0095dc62 : MOV ECX,dword ptr [0x0172491c]
0095dc68 : MOV dword ptr [EDI + 0x10],EAX
0095dc6b : MOV EAX,dword ptr [EBP + 0x10]
0095dc6e : PUSH 0x0
0095dc70 : LEA EDX,[EBX + 0x18]
0095dc73 : PUSH ECX
0095dc74 : LEA ESI,[EBP + -0x30]
0095dc77 : MOV dword ptr [EDI + 0x8],EAX
0095dc7a : CALL 0x00824a20
0095dc7f : MOV dword ptr [EBP + -0x4],0x2
0095dc86 : PUSH -0x1
0095dc88 : PUSH 0x0
0095dc8a : LEA ECX,[EDI + 0x38]
0095dc8d : PUSH EAX
0095dc8e : CALL 0x00405eb0
0095dc93 : MOV dword ptr [EBP + -0x4],0xffffffff
0095dc9a : CMP dword ptr [EBP + -0x18],0x8
0095dc9e : JC 0x0095dca8
0095dca0 : MOV ECX,dword ptr [EBP + -0x2c]
0095dca3 : CALL 0x006f04e0
0095dca8 : MOV ESI,dword ptr [EBP + 0x8]
0095dcab : XOR EDX,EDX
0095dcad : TEST byte ptr [EBX + 0x144],0x1
0095dcb4 : MOV word ptr [EBP + -0x2c],DX
0095dcb8 : MOV dword ptr [EBP + -0x18],0x7
0095dcbf : MOV dword ptr [EBP + -0x1c],0x0
0095dcc6 : LEA EDI,[EBP + -0x10]
0095dcc9 : LEA EDX,[ESI + 0x17c]
0095dccf : JNZ 0x0095dcd7
0095dcd1 : LEA EDX,[ESI + 0x18c]
0095dcd7 : MOV EBX,dword ptr [EDX + 0x8]
0095dcda : SUB EBX,dword ptr [EDX + 0x4]
0095dcdd : SAR EBX,0x2
0095dce0 : CALL 0x00449730
0095dce5 : MOV EAX,dword ptr [ESI]
0095dce7 : MOV EDX,dword ptr [EAX + 0x44]
0095dcea : MOV ECX,ESI
0095dcec : CALL EDX
0095dcee : CMP BL,0x18
0095dcf1 : JNC 0x0095dcfc
0095dcf3 : MOV EAX,dword ptr [EBP + 0x8]
0095dcf6 : PUSH EAX
0095dcf7 : CALL 0x0095b900
0095dcfc : MOV ECX,dword ptr [EBP + -0xc]
0095dcff : MOV dword ptr FS:[0x0],ECX
0095dd06 : POP ECX
0095dd07 : POP EDI
0095dd08 : POP ESI
0095dd09 : POP EBX
0095dd0a : MOV ESP,EBP
0095dd0c : POP EBP
0095dd0d : RET 0xc
