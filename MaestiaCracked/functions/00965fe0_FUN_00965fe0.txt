PROGRAM  : Maestia.exe
FUNCTION : FUN_00965fe0
ENTRY    : 00965fe0
BODY     : [[00965fe0, 0096609c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00965fe0(int param_1,int param_2,undefined4 param_3,undefined4 param_4,int param_5)

{
  int iVar1;
  short in_AX;
  char in_CL;
  
  if ((in_AX != 1) && (param_5 != 0)) {
    iVar1 = *(int *)(param_1 + 0x78);
    *(undefined2 *)(iVar1 + 0x54) = *(undefined2 *)(param_1 + 0x76);
    *(int *)(iVar1 + 0x50) = param_1;
    *(char *)(iVar1 + 0x56) = in_CL;
    iVar1 = *(int *)(param_1 + 0x78);
    *(undefined2 *)(iVar1 + 0x38) = 1;
    *(short *)(iVar1 + 0x3a) = in_AX;
    if ((param_2 == 0x20) && (in_CL == '\0')) {
      FUN_009621f0(param_1,param_3);
      *(undefined1 *)(*(int *)(param_1 + 0x78) + 0x4e) = 1;
    }
    FUN_009ac1d0();
    (**(code **)(**(int **)(param_1 + 0x78) + 0x50))(param_2,param_3,param_4,0,0,0);
    return;
  }
  if (in_CL != '\0') {
    FUN_00965360(param_2,param_3,param_4,1);
    return;
  }
  FUN_009636b0(param_1,param_2,param_3,param_4,1);
  return;
}



============================================================
DISASSEMBLY
============================================================
00965fe0 : PUSH EBP
00965fe1 : MOV EBP,ESP
00965fe3 : PUSH EBX
00965fe4 : MOV EBX,dword ptr [EBP + 0x8]
00965fe7 : PUSH ESI
00965fe8 : PUSH EDI
00965fe9 : MOV DI,AX
00965fec : MOVZX ESI,DI
00965fef : TEST CL,CL
00965ff1 : JNZ 0x00965ff8
00965ff3 : MOV ESI,0x1
00965ff8 : CMP DI,0x1
00965ffc : JZ 0x00966004
00965ffe : CMP dword ptr [EBP + 0x18],0x0
00966002 : JNZ 0x00966031
00966004 : MOV EAX,dword ptr [EBP + 0x14]
00966007 : MOV EDX,dword ptr [EBP + 0xc]
0096600a : PUSH 0x1
0096600c : PUSH EAX
0096600d : TEST CL,CL
0096600f : MOV ECX,dword ptr [EBP + 0x10]
00966012 : PUSH ECX
00966013 : PUSH EDX
00966014 : JZ 0x00966024
00966016 : MOV ECX,EBX
00966018 : CALL 0x00965360
0096601d : POP EDI
0096601e : POP ESI
0096601f : POP EBX
00966020 : POP EBP
00966021 : RET 0x14
00966024 : PUSH EBX
00966025 : CALL 0x009636b0
0096602a : POP EDI
0096602b : POP ESI
0096602c : POP EBX
0096602d : POP EBP
0096602e : RET 0x14
00966031 : CMP dword ptr [EBP + 0xc],0x20
00966035 : MOVZX EDX,word ptr [EBX + 0x76]
00966039 : MOV EAX,dword ptr [EBX + 0x78]
0096603c : MOV word ptr [EAX + 0x54],DX
00966040 : MOV dword ptr [EAX + 0x50],EBX
00966043 : MOV byte ptr [EAX + 0x56],CL
00966046 : MOV EAX,dword ptr [EBX + 0x78]
00966049 : MOV EDX,0x1
0096604e : MOV word ptr [EAX + 0x38],DX
00966052 : MOV word ptr [EAX + 0x3a],DI
00966056 : JNZ 0x00966070
00966058 : TEST CL,CL
0096605a : JNZ 0x00966070
0096605c : MOV EAX,dword ptr [EBP + 0x10]
0096605f : MOV EDX,dword ptr [EBP + 0x14]
00966062 : PUSH EAX
00966063 : PUSH EBX
00966064 : CALL 0x009621f0
00966069 : MOV ECX,dword ptr [EBX + 0x78]
0096606c : MOV byte ptr [ECX + 0x4e],0x1
00966070 : MOV EDI,dword ptr [EBX + 0x78]
00966073 : CALL 0x009ac1d0
00966078 : MOV EAX,dword ptr [EBP + 0x14]
0096607b : MOV EBX,dword ptr [EBX + 0x78]
0096607e : MOV ECX,dword ptr [EBP + 0x10]
00966081 : MOV EDX,dword ptr [EBX]
00966083 : MOV EDX,dword ptr [EDX + 0x50]
00966086 : PUSH 0x0
00966088 : PUSH 0x0
0096608a : PUSH 0x0
0096608c : PUSH EAX
0096608d : MOV EAX,dword ptr [EBP + 0xc]
00966090 : PUSH ECX
00966091 : PUSH EAX
00966092 : MOV ECX,EBX
00966094 : CALL EDX
00966096 : POP EDI
00966097 : POP ESI
00966098 : POP EBX
00966099 : POP EBP
0096609a : RET 0x14
