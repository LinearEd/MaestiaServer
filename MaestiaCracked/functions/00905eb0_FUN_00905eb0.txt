PROGRAM  : Maestia.exe
FUNCTION : FUN_00905eb0
ENTRY    : 00905eb0
BODY     : [[00905eb0, 00905f7d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00905eb0(void)

{
  uint uVar1;
  int *piVar2;
  int unaff_EDI;
  undefined4 local_20;
  int *local_1c;
  undefined1 local_18 [4];
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4a75b;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = 0x94;
  FUN_004437f0(&local_14);
  if ((local_1c == (int *)*(int *)(unaff_EDI + 0x40)) || (*(int *)((int)local_1c + 0x10) == 0)) {
    piVar2 = (int *)0x0;
    local_1c = (int *)FUN_006f0760(0x68,"",0,(DAT_01725270 >> 3 & 1) == 0,uVar1);
    local_8 = 0;
    if (local_1c != (int *)0x0) {
      piVar2 = (int *)FUN_00a8a670(local_1c);
    }
    local_8 = 0xffffffff;
    piVar2[0x18] = unaff_EDI;
    if (piVar2[0xf] != 0) {
      (**(code **)(*piVar2 + 0xc))();
    }
    local_20 = 0x94;
    local_1c = piVar2;
    FUN_00451e00(local_18,&local_20);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00905eb0 : PUSH EBP
00905eb1 : MOV EBP,ESP
00905eb3 : PUSH -0x1
00905eb5 : PUSH 0xb4a75b
00905eba : MOV EAX,FS:[0x0]
00905ec0 : PUSH EAX
00905ec1 : SUB ESP,0x10
00905ec4 : PUSH EBX
00905ec5 : PUSH ESI
00905ec6 : MOV EAX,[0x00d66fa0]
00905ecb : XOR EAX,EBP
00905ecd : PUSH EAX
00905ece : LEA EAX,[EBP + -0xc]
00905ed1 : MOV FS:[0x0],EAX
00905ed7 : LEA EAX,[EBP + -0x10]
00905eda : LEA EBX,[EDI + 0x3c]
00905edd : PUSH EAX
00905ede : LEA EAX,[EBP + -0x18]
00905ee1 : MOV ECX,EBX
00905ee3 : MOV dword ptr [EBP + -0x10],0x94
00905eea : CALL 0x004437f0
00905eef : MOV EAX,dword ptr [EDI + 0x40]
00905ef2 : MOV ECX,dword ptr [EBP + -0x18]
00905ef5 : CMP ECX,EAX
00905ef7 : JZ 0x00905eff
00905ef9 : CMP dword ptr [ECX + 0x10],0x0
00905efd : JNZ 0x00905f6d
00905eff : MOV ECX,dword ptr [0x01725270]
00905f05 : SHR ECX,0x3
00905f08 : MOV EDX,0x0
00905f0d : AND ECX,0x1
00905f10 : SETZ DL
00905f13 : XOR ESI,ESI
00905f15 : PUSH EDX
00905f16 : PUSH ESI
00905f17 : PUSH 0xbf1a4a
00905f1c : PUSH 0x68
00905f1e : CALL 0x006f0760
00905f23 : ADD ESP,0x10
00905f26 : MOV dword ptr [EBP + -0x18],EAX
00905f29 : MOV dword ptr [EBP + -0x4],ESI
00905f2c : CMP EAX,ESI
00905f2e : JZ 0x00905f3b
00905f30 : MOV ECX,dword ptr [EDI + 0x4]
00905f33 : PUSH EAX
00905f34 : CALL 0x00a8a670
00905f39 : MOV ESI,EAX
00905f3b : MOV dword ptr [EBP + -0x4],0xffffffff
00905f42 : CMP dword ptr [ESI + 0x3c],0x0
00905f46 : MOV dword ptr [ESI + 0x60],EDI
00905f49 : JZ 0x00905f54
00905f4b : MOV EAX,dword ptr [ESI]
00905f4d : MOV EDX,dword ptr [EAX + 0xc]
00905f50 : MOV ECX,ESI
00905f52 : CALL EDX
00905f54 : LEA EAX,[EBP + -0x1c]
00905f57 : PUSH EAX
00905f58 : LEA ECX,[EBP + -0x14]
00905f5b : PUSH ECX
00905f5c : MOV EAX,EBX
00905f5e : MOV dword ptr [EBP + -0x1c],0x94
00905f65 : MOV dword ptr [EBP + -0x18],ESI
00905f68 : CALL 0x00451e00
00905f6d : MOV ECX,dword ptr [EBP + -0xc]
00905f70 : MOV dword ptr FS:[0x0],ECX
00905f77 : POP ECX
00905f78 : POP ESI
00905f79 : POP EBX
00905f7a : MOV ESP,EBP
00905f7c : POP EBP
00905f7d : RET
