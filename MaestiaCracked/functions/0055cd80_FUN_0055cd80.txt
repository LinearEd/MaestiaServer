PROGRAM  : Maestia.exe
FUNCTION : FUN_0055cd80
ENTRY    : 0055cd80
BODY     : [[0055cd80, 0055ce2c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0055cd80(void)

{
  int *piVar1;
  uint uVar2;
  uint uVar3;
  int in_ECX;
  int *piVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  
  piVar1 = (int *)(in_ECX + 8);
  iVar6 = *piVar1;
  if (iVar6 == 0) {
    uVar3 = 0;
    piVar7 = (int *)0x0;
  }
  else {
    uVar3 = 0;
    piVar4 = (int *)(iVar6 + 8);
    do {
      piVar7 = piVar1;
      if (*piVar4 != -2) break;
      uVar3 = uVar3 + 1;
      piVar4 = piVar4 + 3;
    } while (uVar3 <= *(uint *)(iVar6 + 4));
  }
  do {
    do {
      if (((piVar7 == (int *)0x0) || (iVar6 = *piVar7, iVar6 == 0)) ||
         (*(int *)(iVar6 + 4) < (int)uVar3)) {
        if (*piVar1 != 0) {
          iVar5 = 0;
          iVar6 = *(int *)(*piVar1 + 4) + 1;
          do {
            if (*(int *)(*piVar1 + 8 + iVar5) != -2) {
              *(undefined4 *)(*piVar1 + 8 + iVar5) = 0xfffffffe;
            }
            iVar5 = iVar5 + 0xc;
            iVar6 = iVar6 + -1;
          } while (iVar6 != 0);
          FUN_00515cf0(*piVar1);
          *piVar1 = 0;
        }
        return;
      }
      *(undefined4 *)(*(int *)(iVar6 + 0x10 + uVar3 * 0xc) + 4) = 0;
      uVar2 = *(uint *)(*piVar7 + 4);
    } while (((int)uVar2 < (int)uVar3) || (uVar3 = uVar3 + 1, uVar2 < uVar3));
    piVar4 = (int *)(*piVar7 + 8 + uVar3 * 0xc);
    do {
      if (*piVar4 != -2) break;
      uVar3 = uVar3 + 1;
      piVar4 = piVar4 + 3;
    } while (uVar3 <= uVar2);
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
0055cd80 : PUSH EBP
0055cd81 : PUSH ESI
0055cd82 : PUSH EDI
0055cd83 : LEA EDI,[ECX + 0x8]
0055cd86 : MOV ECX,dword ptr [EDI]
0055cd88 : TEST ECX,ECX
0055cd8a : JNZ 0x0055cd92
0055cd8c : XOR ESI,ESI
0055cd8e : XOR EAX,EAX
0055cd90 : JMP 0x0055cdb0
0055cd92 : MOV EDX,dword ptr [ECX + 0x4]
0055cd95 : XOR EAX,EAX
0055cd97 : ADD ECX,0x8
0055cd9a : LEA EBX,[EBX]
0055cda0 : CMP dword ptr [ECX],-0x2
0055cda3 : JNZ 0x0055cdad
0055cda5 : INC EAX
0055cda6 : ADD ECX,0xc
0055cda9 : CMP EAX,EDX
0055cdab : JBE 0x0055cda0
0055cdad : MOV ESI,EDI
0055cdaf : NOP
0055cdb0 : TEST ESI,ESI
0055cdb2 : JZ 0x0055cdf1
0055cdb4 : MOV ECX,dword ptr [ESI]
0055cdb6 : TEST ECX,ECX
0055cdb8 : JZ 0x0055cdf1
0055cdba : CMP EAX,dword ptr [ECX + 0x4]
0055cdbd : JG 0x0055cdf1
0055cdbf : LEA EDX,[EAX + EAX*0x2]
0055cdc2 : MOV ECX,dword ptr [ECX + EDX*0x4 + 0x10]
0055cdc6 : MOV dword ptr [ECX + 0x4],0x0
0055cdcd : MOV EDX,dword ptr [ESI]
0055cdcf : MOV ECX,dword ptr [EDX + 0x4]
0055cdd2 : CMP EAX,ECX
0055cdd4 : JG 0x0055cdb0
0055cdd6 : INC EAX
0055cdd7 : CMP EAX,ECX
0055cdd9 : JA 0x0055cdb0
0055cddb : LEA EBP,[EAX + EAX*0x2]
0055cdde : LEA EDX,[EDX + EBP*0x4 + 0x8]
0055cde2 : CMP dword ptr [EDX],-0x2
0055cde5 : JNZ 0x0055cdb0
0055cde7 : INC EAX
0055cde8 : ADD EDX,0xc
0055cdeb : CMP EAX,ECX
0055cded : JBE 0x0055cde2
0055cdef : JMP 0x0055cdb0
0055cdf1 : MOV EAX,dword ptr [EDI]
0055cdf3 : TEST EAX,EAX
0055cdf5 : JZ 0x0055ce29
0055cdf7 : MOV EAX,dword ptr [EAX + 0x4]
0055cdfa : XOR ECX,ECX
0055cdfc : LEA EDX,[EAX + 0x1]
0055cdff : NOP
0055ce00 : MOV EAX,dword ptr [EDI]
0055ce02 : CMP dword ptr [EAX + ECX*0x1 + 0x8],-0x2
0055ce07 : LEA EAX,[EAX + ECX*0x1 + 0x8]
0055ce0b : JZ 0x0055ce13
0055ce0d : MOV dword ptr [EAX],0xfffffffe
0055ce13 : ADD ECX,0xc
0055ce16 : SUB EDX,0x1
0055ce19 : JNZ 0x0055ce00
0055ce1b : MOV ECX,dword ptr [EDI]
0055ce1d : PUSH ECX
0055ce1e : CALL 0x00515cf0
0055ce23 : MOV dword ptr [EDI],0x0
0055ce29 : POP EDI
0055ce2a : POP ESI
0055ce2b : POP EBP
0055ce2c : RET
