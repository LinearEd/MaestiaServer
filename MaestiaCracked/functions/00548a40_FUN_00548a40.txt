PROGRAM  : Maestia.exe
FUNCTION : FUN_00548a40
ENTRY    : 00548a40
BODY     : [[00548a40, 00549acd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00548a40(void)

{
  ushort *puVar1;
  undefined2 *puVar2;
  float fVar3;
  byte bVar4;
  ushort uVar5;
  short sVar6;
  int *piVar7;
  float fVar8;
  char cVar9;
  undefined1 uVar10;
  undefined2 uVar11;
  int *piVar12;
  undefined4 uVar13;
  GRefCountNTSImpl *pGVar14;
  int iVar15;
  uint *puVar16;
  int iVar17;
  int *in_ECX;
  GRefCountNTSImpl *pGVar18;
  uint uVar19;
  uint uVar20;
  bool bVar21;
  float10 fVar22;
  undefined8 uVar23;
  undefined1 *puStack_88;
  float fStack_84;
  float fStack_80;
  int *piStack_7c;
  GRefCountNTSImpl *local_78;
  GRefCountNTSImpl *pGStack_74;
  uint uStack_70;
  undefined4 uStack_68;
  float fStack_64;
  float fStack_60;
  float fStack_5c;
  float fStack_58;
  float fStack_54;
  int iStack_4c;
  int iStack_48;
  undefined4 uStack_44;
  uint uStack_40;
  uint uStack_3c;
  undefined4 auStack_34 [2];
  undefined4 uStack_2c;
  float fStack_28;
  int iStack_24;
  int iStack_20;
  undefined1 *puStack_1c;
  
  local_78 = (GRefCountNTSImpl *)0x0;
  FUN_00547e20();
  in_ECX[0x23] = 0;
  uVar5 = *(ushort *)(in_ECX[2] + 0x16);
  if (((char)uVar5 < '\0') && ((uVar5 & 0x8000) != 0)) {
    puVar2 = (undefined2 *)(in_ECX[0x25] + in_ECX[0x27] * 8);
    puVar2[2] = 0;
    puVar2[3] = 0;
    piVar12 = (int *)FUN_00545e30();
    iVar15 = *piVar12;
    in_ECX[0x32] = iVar15;
    if (iVar15 != 0) {
      piVar12 = (int *)FUN_005484b0(in_ECX + 0x31,0);
      if (piVar12 != (int *)0x0) {
        *piVar12 = *piVar12 + 1;
      }
      uVar11 = (**(code **)(**(int **)(piVar12[5] + 0xc) + 0xc))();
      puVar2[3] = puVar2[3] & 0xffbf;
      *puVar2 = uVar11;
      puVar2[1] = 300;
      FUN_00544f10();
      FUN_005442d0();
      puVar2[2] = puVar2[2] & 0xfff;
      iVar15 = *(int *)(in_ECX[0x32] + 0x20);
      puVar1 = (ushort *)(in_ECX[0x25] + in_ECX[0x27] * 8 + 6);
      *puVar1 = *puVar1 | 0x4000;
      puVar1 = (ushort *)(in_ECX[0x25] + in_ECX[0x27] * 8 + 6);
      *puVar1 = *puVar1 | 0x2000;
      *(int **)(in_ECX[0x26] + in_ECX[0x29] * 4) = piVar12;
      in_ECX[0x29] = in_ECX[0x29] + 1;
      *piVar12 = *piVar12 + 1;
      puVar1 = (ushort *)(in_ECX[0x25] + in_ECX[0x27] * 8 + 6);
      *puVar1 = *puVar1 | 0x4000;
      puVar1 = (ushort *)(in_ECX[0x25] + in_ECX[0x27] * 8 + 6);
      *puVar1 = *puVar1 | 0x1000;
      *(int *)(in_ECX[0x26] + in_ECX[0x29] * 4) = iVar15;
      in_ECX[0x29] = in_ECX[0x29] + 1;
      if ((in_ECX[0x25] != 0) && ((uint)in_ECX[0x27] < (uint)in_ECX[0x28])) {
        in_ECX[0x27] = in_ECX[0x27] + 1;
      }
      *piVar12 = *piVar12 + 1;
      piVar7 = (int *)in_ECX[5];
      iStack_24 = iVar15;
      if ((piVar7 != (int *)0x0) && (*piVar7 = *piVar7 + -1, *piVar7 == 0)) {
        FUN_00500860();
        FUN_00515cf0();
      }
      in_ECX[5] = (int)piVar12;
      in_ECX[10] = iVar15;
      *piVar12 = *piVar12 + -1;
      if (*piVar12 == 0) {
        FUN_00500860();
        FUN_00515cf0();
      }
    }
    in_ECX[0x23] = 700;
    in_ECX[0x11] = 700;
    in_ECX[0x22] = -300;
  }
  else {
    in_ECX[0x22] = *(short *)(in_ECX[2] + 0xe) * 0x14;
  }
  iVar15 = in_ECX[2];
  in_ECX[0x23] = in_ECX[0x23] +
                 ((uint)*(ushort *)(iVar15 + 0x12) + (uint)*(ushort *)(iVar15 + 0xc)) * 0x14;
  in_ECX[0x24] = (uint)*(ushort *)(iVar15 + 0x14) * 0x14;
  iStack_48 = FUN_0055e770();
  pGVar18 = (GRefCountNTSImpl *)0x0;
  pGStack_74 = (GRefCountNTSImpl *)0x0;
  do {
    if ((in_ECX[0x1d] == 0) || (*(uint *)(in_ECX[0x1d] + 4) <= (uint)in_ECX[0x1e])) {
      if (in_ECX[3] != 0) {
        FUN_00546200();
      }
      if ((in_ECX[0x13e] != 0) && (in_ECX[0x13e] != (int)in_ECX + 0x2f6)) {
        iVar15 = *(int *)(*in_ECX + 0xc);
        if (*(int *)(iVar15 + 8) == 0) {
          uVar13 = FUN_00515dd0();
          iVar17 = FUN_00515840(0x50,0);
          if (iVar17 == 0) {
            uVar13 = 0;
          }
          else {
            uVar13 = FUN_00508200(uVar13,0);
          }
          if (*(GRefCountNTSImpl **)(iVar15 + 8) != (GRefCountNTSImpl *)0x0) {
            GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(iVar15 + 8));
          }
          *(undefined4 *)(iVar15 + 8) = uVar13;
        }
        FUN_00515cf0();
        pGVar18 = pGStack_74;
      }
      if (pGVar18 != (GRefCountNTSImpl *)0x0) {
        GRefCountNTSImpl::Release(pGVar18);
      }
      return;
    }
    piStack_7c = (int *)FUN_00545e30();
    if (in_ECX[0xba] == 1) {
      if ((((*(byte *)(*in_ECX + 0x141) & 8) != 0) && (pGVar18 == (GRefCountNTSImpl *)0x0)) &&
         (cVar9 = FUN_00544190(7,(short)in_ECX[6],(short)piStack_7c[2]), cVar9 != '\0')) {
        FUN_00545fe0();
      }
      if ((in_ECX[0xba] == 1) && ((char)in_ECX[0xbd] != '\0')) {
        fVar3 = (float)in_ECX[0xb6];
        if ((in_ECX[0x11] == 0) && (in_ECX[0x40] == 0)) {
          FUN_00545fe0();
        }
        if ((fVar3 * 0.5 < (float)in_ECX[0x11]) && (in_ECX[0x6b] == 0)) {
          FUN_00545fe0();
        }
      }
    }
    in_ECX[0xb9] = 1;
    if (pGVar18 != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(pGVar18);
    }
    pGStack_74 = (GRefCountNTSImpl *)0x0;
    if (*(int *)(*in_ECX + 0x1c) == 0) {
LAB_00548dab:
      pGVar18 = pGStack_74;
      pGVar14 = pGStack_74;
      if (((*piStack_7c != 0) && ((*(ushort *)(*piStack_7c + 0x2a) >> 9 & 1) != 0)) &&
         ((short)piStack_7c[2] != 0)) {
        pGVar14 = (GRefCountNTSImpl *)FUN_0053b9f0();
        if (pGVar14 != (GRefCountNTSImpl *)0x0) {
          *(int *)(pGVar14 + 4) = *(int *)(pGVar14 + 4) + 1;
        }
        if (pGVar18 != (GRefCountNTSImpl *)0x0) {
          GRefCountNTSImpl::Release(pGVar18);
        }
      }
    }
    else {
      uVar13 = FUN_0053b4e0();
      pGStack_74 = (GRefCountNTSImpl *)FUN_00545530(uVar13,uStack_44,&iStack_4c);
      if (pGStack_74 == (GRefCountNTSImpl *)0x0) goto LAB_00548dab;
      *(int *)(pGStack_74 + 4) = *(int *)(pGStack_74 + 4) + 1;
      in_ECX[0xb9] = iStack_4c;
      pGVar14 = pGStack_74;
    }
    pGStack_74 = pGVar14;
    pGVar18 = pGStack_74;
    in_ECX[0x140] = 0;
    in_ECX[0x142] = 0x3f800000;
    in_ECX[0x149] = -0x40800000;
    if (pGStack_74 == (GRefCountNTSImpl *)0x0) {
      bVar21 = (short)piStack_7c[2] == 0xa0;
      *(bool *)((int)in_ECX + 0x529) = bVar21;
      sVar6 = (short)piStack_7c[2];
      if ((sVar6 == 0) ||
         ((!bVar21 && (((sVar6 == 9 || (sVar6 == 0xd)) || ((sVar6 == 0x20 || (sVar6 == 0x3000)))))))
         ) {
        uVar10 = 1;
      }
      else {
        uVar10 = 0;
      }
      *(undefined1 *)(in_ECX + 0x14a) = uVar10;
      if ((in_ECX[0x34] != 0) && (in_ECX[0x32] == *piStack_7c)) {
        piVar12 = (int *)in_ECX[0x34];
        if (piVar12 != (int *)0x0) {
          *piVar12 = *piVar12 + 1;
        }
        piVar12 = (int *)in_ECX[0x141];
        if ((piVar12 != (int *)0x0) && (*piVar12 = *piVar12 + -1, *piVar12 == 0)) {
          FUN_00500860();
          FUN_00515cf0();
        }
        in_ECX[0x141] = in_ECX[0x34];
LAB_00548f09:
        in_ECX[0x140] = *(int *)(in_ECX[0x141] + 0x14);
        fVar22 = (float10)FUN_00544f10();
        in_ECX[0x149] = (int)(float)fVar22;
        in_ECX[0x142] = (int)((float)fVar22 * 20.0 * 0.0009765625);
        uVar5 = *(ushort *)(piStack_7c + 2);
        if ((uVar5 == (byte)((-((*(byte *)(*(int *)(*in_ECX + 0xc) + 0x20) & 2) != 0) & 3U) + 10))
           || (uVar5 == 0)) {
          iVar15 = (**(code **)(**(int **)(in_ECX[0x140] + 0xc) + 0xc))();
          in_ECX[0x143] = iVar15;
          fVar22 = (float10)(**(code **)(**(int **)(in_ECX[0x140] + 0xc) + 0x20))(iVar15);
          in_ECX[0x144] = (int)((float)in_ECX[0x142] * (float)fVar22 * 0.5);
        }
        else if (uVar5 == 9) {
          in_ECX[0x143] = -1;
          in_ECX[0x144] = 0;
        }
        else {
          iVar15 = (**(code **)(**(int **)(in_ECX[0x140] + 0xc) + 0xc))();
          in_ECX[0x143] = iVar15;
          if (((iVar15 == -1) && (in_ECX[0x24f] != 0)) && ((*(byte *)(*in_ECX + 0x143) & 0x10) == 0)
             ) {
            FUN_00544210(1);
            uVar11 = *(undefined2 *)(in_ECX[0x32] + 0x2a);
            uStack_3c = CONCAT31(uStack_3c._1_3_,*(byte *)(*in_ECX + 0x141) >> 5) & 0xffffff01;
            bVar4 = *(byte *)(in_ECX[0x32] + 0x28);
            fStack_54 = (float)(CONCAT31(fStack_54._1_3_,bVar4 >> 1) & 0xffffff01);
            uStack_40 = CONCAT31(uStack_40._1_3_,bVar4) & 0xffffff01;
            puVar16 = (uint *)FUN_0055ef50();
            piVar12 = (int *)FUN_00544230((*puVar16 & 0xfffffffc) + 8,uStack_40,fStack_54,uStack_3c,
                                          ((byte)((ushort)uVar11 >> 0xc) & 1) == 0,&iStack_20);
            if (*(int **)(*in_ECX + 0x14) == (int *)0x0) {
              piStack_7c = (int *)((uint)piStack_7c | 2);
              uVar13 = FUN_0051b6e0();
            }
            else {
              piStack_7c = (int *)((uint)piStack_7c | 1);
              uVar13 = (**(code **)(**(int **)(*in_ECX + 0x14) + 0x24))(auStack_34);
            }
            FUN_0051c600(uVar13);
            if (((uint)piStack_7c & 2) != 0) {
              piStack_7c = (int *)((uint)piStack_7c & 0xfffffffd);
              FUN_0045b730();
            }
            if (((uint)piStack_7c & 1) != 0) {
              piStack_7c = (int *)((uint)piStack_7c & 0xfffffffe);
              FUN_0045b730();
            }
            (**(code **)(**(int **)(in_ECX[0x140] + 0xc) + 0x44))(&pGStack_74);
            uVar13 = (**(code **)(**(int **)(in_ECX[0x140] + 0xc) + 0x38))();
            puStack_88 = puStack_1c;
            if (puStack_1c == (undefined1 *)0x0) {
              puStack_88 = &DAT_00cca874;
            }
            uVar20 = (uint)pGStack_74 & 0xfffffffc;
            uVar19 = uStack_70 & 0xfffffffc;
            puVar16 = (uint *)FUN_0055ef50();
            FUN_00500460(in_ECX[0x24f] + 0xc,
                         "Missing \"%s\" glyph \'%c\' (0x%x) in \"%s\".\nFont has %u glyphs, ranges %s.\nSearch log: \n%s"
                         ,(*puVar16 & 0xfffffffc) + 8,(int)*(char *)((int)fStack_80 + 8),
                         *(undefined2 *)((int)fStack_80 + 8),uVar19 + 8,uVar13,uVar20 + 8,puStack_88
                        );
            *(byte *)(*in_ECX + 0x143) = *(byte *)(*in_ECX + 0x143) | 0x10;
            FUN_0045b730();
            FUN_0045b730();
            if ((piVar12 != (int *)0x0) && (*piVar12 = *piVar12 + -1, *piVar12 == 0)) {
              FUN_00500860();
              FUN_00515cf0(piVar12);
            }
            FUN_0051b3d0();
            pGVar18 = local_78;
          }
          fVar22 = (float10)(**(code **)(**(int **)(in_ECX[0x140] + 0xc) + 0x20))(in_ECX[0x143]);
          in_ECX[0x144] = (int)((float)in_ECX[0x142] * (float)fVar22);
        }
        if (in_ECX[4] == 0) {
          iVar15 = FUN_0063b380();
        }
        else {
          fStack_84 = 0.0;
          if ((char)in_ECX[0x2d] != '\0') {
            if (in_ECX[4] == 0) {
              fStack_84 = 0.0;
            }
            else {
              fVar22 = (float10)(**(code **)(**(int **)(*(int *)(in_ECX[5] + 0x14) + 0xc) + 0x24))
                                          (in_ECX[6]);
              fStack_84 = (float)fVar22;
            }
            fStack_84 = (float)in_ECX[0x142] * fStack_84;
          }
          if ((float)in_ECX[8] + fStack_84 <= 0.0) {
            iVar15 = FUN_0063b380();
          }
          else {
            iVar15 = FUN_0063b380();
          }
        }
        in_ECX[0x145] = iVar15;
        uVar19 = FUN_0063b380();
        in_ECX[0x146] = uVar19;
        in_ECX[0x147] = uVar19 & ((char)in_ECX[0x14a] != '\0') - 1;
        goto LAB_005493bd;
      }
      in_ECX[0x32] = *piStack_7c;
      auStack_34[0] = CONCAT31(auStack_34[0]._1_3_,(short)piStack_7c[2] == 0);
      piVar12 = (int *)FUN_005484b0(in_ECX + 0x31,auStack_34[0]);
      if (piVar12 != (int *)0x0) {
        *piVar12 = *piVar12 + 1;
      }
      piVar7 = (int *)in_ECX[0x141];
      if ((piVar7 != (int *)0x0) && (*piVar7 = *piVar7 + -1, *piVar7 == 0)) {
        FUN_00500860();
        FUN_00515cf0();
      }
      in_ECX[0x141] = (int)piVar12;
      pGVar18 = pGStack_74;
      if (piVar12 != (int *)0x0) goto LAB_00548f09;
    }
    else {
      in_ECX[0x32] = *piStack_7c;
      fVar3 = (float)*(int *)(pGStack_74 + 0x18);
      if (*(int *)(pGStack_74 + 0x18) < 0) {
        fVar3 = fVar3 + 4.2949673e+09;
      }
      if (fVar3 <= 0.0) {
        iVar15 = FUN_0063b380();
      }
      else {
        iVar15 = FUN_0063b380();
      }
      in_ECX[0x146] = iVar15;
      in_ECX[0x144] = (int)((float)iVar15 + 40.0);
      iVar17 = FUN_0063b380();
      in_ECX[0x145] = iVar17;
      in_ECX[0x147] = iVar15;
      in_ECX[0x143] = -1;
      *(undefined1 *)(in_ECX + 0x14a) = 0;
      *(undefined1 *)((int)in_ECX + 0x529) = 0;
LAB_005493bd:
      in_ECX[0x148] = in_ECX[0x11] + in_ECX[0x145];
      cVar9 = FUN_005479f0();
      if (cVar9 == '\0') {
        iVar15 = in_ECX[4];
        if (iVar15 != 0) {
          iVar17 = in_ECX[0x145];
          if (iVar17 < 0) {
            iVar17 = -iVar17;
            *(ushort *)(iVar15 + 6) = *(ushort *)(iVar15 + 6) | 0x40;
          }
          else {
            *(ushort *)(iVar15 + 6) = *(ushort *)(iVar15 + 6) & 0xffbf;
          }
          *(short *)(iVar15 + 2) = (short)iVar17;
        }
        puVar2 = (undefined2 *)(in_ECX[0x25] + in_ECX[0x27] * 8);
        puVar2[2] = 0;
        puVar2[3] = 0;
        *puVar2 = (short)in_ECX[0x143];
        if (((in_ECX[0xb] != 0) && (iVar15 = FUN_0053b4b0(), iVar15 != 0)) &&
           ((iVar15 = FUN_0053cfd0(),
            *(uint *)(in_ECX[0xb] + 0x30) <=
            (uint)(*(int *)(in_ECX[0x10] + 0x1c) + *(int *)(iVar15 + 4)) &&
            (uVar19 = FUN_0053b4b0(), (uint)in_ECX[0xe] < uVar19)))) {
          puVar2[3] = puVar2[3] | 4;
        }
        if (pGVar18 == (GRefCountNTSImpl *)0x0) {
          iVar15 = *(int *)(in_ECX[0x32] + 0x20);
          FUN_005442d0();
          piVar12 = (int *)in_ECX[0x141];
          if (piVar12 != (int *)in_ECX[5]) {
            puVar1 = (ushort *)(in_ECX[0x25] + in_ECX[0x27] * 8 + 6);
            *puVar1 = *puVar1 | 0x4000;
            puVar1 = (ushort *)(in_ECX[0x25] + in_ECX[0x27] * 8 + 6);
            *puVar1 = *puVar1 | 0x2000;
            *(int **)(in_ECX[0x26] + in_ECX[0x29] * 4) = piVar12;
            in_ECX[0x29] = in_ECX[0x29] + 1;
            *piVar12 = *piVar12 + 1;
          }
          if (iVar15 != in_ECX[10]) {
            puVar1 = (ushort *)(in_ECX[0x25] + in_ECX[0x27] * 8 + 6);
            *puVar1 = *puVar1 | 0x4000;
            puVar1 = (ushort *)(in_ECX[0x25] + in_ECX[0x27] * 8 + 6);
            *puVar1 = *puVar1 | 0x1000;
            *(int *)(in_ECX[0x26] + in_ECX[0x29] * 4) = iVar15;
            in_ECX[0x29] = in_ECX[0x29] + 1;
            iStack_20 = iVar15;
          }
          uVar5 = *(ushort *)(piStack_7c + 2);
          if (uVar5 == (byte)((-((*(byte *)(*(int *)(*in_ECX + 0xc) + 0x20) & 2) != 0) & 3U) + 10))
          {
            if (uVar5 == 0) goto LAB_005497bc;
            puVar2[2] = puVar2[2] & 0xfff | 0x1000;
LAB_005497df:
            puVar2[3] = puVar2[3] | 0x300;
            in_ECX[0x146] = 0;
            *(undefined1 *)((int)in_ECX + 0xb5) = 1;
            if (piStack_7c[1] == 0) {
              uVar23 = CONCAT44(in_ECX[0x142],in_ECX[0x140]);
              goto LAB_00549810;
            }
          }
          else {
            if (uVar5 == 0) {
LAB_005497bc:
              puVar2[2] = puVar2[2] & 0xfff;
              goto LAB_005497df;
            }
            if (((char)in_ECX[0x14a] == '\0') && (*(char *)((int)in_ECX + 0x529) == '\0')) {
              in_ECX[0x12] = in_ECX[0x148] + in_ECX[0x147];
LAB_00549782:
              in_ECX[0x2b] = 0;
            }
            else {
              puVar2[3] = puVar2[3] | 2;
              if (in_ECX[0x143] < 0) {
                puVar2[3] = puVar2[3] | 0x200;
              }
              else {
                fStack_60 = 0.0;
                fStack_5c = 0.0;
                fStack_58 = 0.0;
                fStack_54 = 0.0;
                (**(code **)(**(int **)(in_ECX[0x140] + 0xc) + 0x30))(in_ECX[0x143]);
                if ((fStack_58 < fStack_60 != (fStack_58 == fStack_60)) ||
                   (fStack_54 < fStack_5c != (fStack_54 == fStack_5c))) {
                  puVar2[3] = puVar2[3] | 0x200;
                }
              }
              in_ECX[0x2a] = in_ECX[0x2a] + 1;
              if ((char)in_ECX[0x14a] == '\0') {
                in_ECX[0x12] = in_ECX[0x148] + in_ECX[0x147];
                goto LAB_00549782;
              }
              in_ECX[0x2b] = in_ECX[0x2b] + 1;
            }
            puVar2[2] = puVar2[2] & 0xfff | 0x1000;
            uVar23 = CONCAT44(in_ECX[0x142],in_ECX[0x140]);
LAB_00549810:
            FUN_00544e10(uVar23);
          }
          if ((*(byte *)(in_ECX[0x32] + 0x28) & 4) == 0) {
            puVar2[3] = puVar2[3] & 0xfbff;
          }
          else {
            puVar2[3] = puVar2[3] | 0x400;
          }
          if (((*(ushort *)(in_ECX[0x32] + 0x2a) & 0x100) == 0) ||
             (iVar17 = FUN_0051b1a0(), iVar17 == 0)) {
            puVar2[3] = puVar2[3] & 0xff7f;
          }
          else {
            puVar2[3] = puVar2[3] | 0x80;
          }
          piVar12 = (int *)in_ECX[0x141];
          if (piVar12 != (int *)0x0) {
            *piVar12 = *piVar12 + 1;
          }
          piVar12 = (int *)in_ECX[5];
          if ((piVar12 != (int *)0x0) && (*piVar12 = *piVar12 + -1, *piVar12 == 0)) {
            FUN_00500860();
            FUN_00515cf0();
          }
          in_ECX[5] = in_ECX[0x141];
          in_ECX[10] = iVar15;
          *(byte *)(in_ECX + 0x2d) = *(byte *)(in_ECX[0x32] + 0x28) >> 3 & 1;
          pGVar18 = pGStack_74;
        }
        else {
          puVar1 = (ushort *)(in_ECX[0x25] + in_ECX[0x27] * 8 + 6);
          *puVar1 = *puVar1 | 0x4000;
          puVar1 = (ushort *)(in_ECX[0x25] + in_ECX[0x27] * 8 + 6);
          *puVar1 = *puVar1 | 0x800;
          *(GRefCountNTSImpl **)(in_ECX[0x26] + in_ECX[0x29] * 4) = pGVar18;
          in_ECX[0x29] = in_ECX[0x29] + 1;
          *(int *)(pGVar18 + 4) = *(int *)(pGVar18 + 4) + 1;
          uStack_68 = 0;
          fStack_64 = 0.0;
          puVar2[2] = puVar2[2] & 0xfff | (short)in_ECX[0xb9] << 0xc;
          *(undefined1 *)(in_ECX + 0x2d) = 0;
          GMatrix2D::Transform
                    ((GMatrix2D *)(pGVar18 + 0x20),(GPoint<float> *)&uStack_2c,
                     (GPoint<float> *)&uStack_68);
          uStack_68 = uStack_2c;
          fStack_64 = fStack_28;
          fVar3 = -fStack_28;
          fVar8 = fVar3;
          if (fVar3 < (float)in_ECX[0x14]) {
            fVar8 = (float)in_ECX[0x14];
          }
          in_ECX[0x14] = (int)fVar8;
          fVar8 = (float)*(int *)(pGVar18 + 0x1c);
          if (*(int *)(pGVar18 + 0x1c) < 0) {
            fVar8 = fVar8 + 4.2949673e+09;
          }
          fVar8 = fVar8 - fVar3;
          if (fVar8 < (float)in_ECX[0x15]) {
            fVar8 = (float)in_ECX[0x15];
          }
          in_ECX[0x15] = (int)fVar8;
          in_ECX[0x2b] = 0;
          in_ECX[0x12] = in_ECX[0x148] + in_ECX[0x147];
          if (((*(ushort *)(in_ECX[0x32] + 0x2a) & 0x100) == 0) ||
             (iVar15 = FUN_0051b1a0(), iVar15 == 0)) {
            puVar2[3] = puVar2[3] & 0xff7f;
          }
          else {
            puVar2[3] = puVar2[3] | 0x80;
          }
        }
        if ((short)piStack_7c[2] == 9) {
          uVar19 = in_ECX[0xb8];
          if (uVar19 < (uint)in_ECX[0xb7]) {
            iVar15 = *(int *)(iStack_48 + uVar19 * 4);
            in_ECX[0xb8] = uVar19 + 1;
            iVar15 = iVar15 * 0x14;
            if (iVar15 <= in_ECX[0x148]) goto LAB_0054998f;
            fVar3 = (float)(iVar15 - in_ECX[0x148]);
          }
          else {
            fVar22 = (float10)FUN_0063bc90((double)(((float)in_ECX[0x149] + (float)in_ECX[0x149] +
                                                    8.0) * 0.125));
            fVar3 = (float)fVar22 * 8.0 * 20.0;
            iVar15 = in_ECX[0x148];
            fVar22 = (float10)FUN_0063bc90((double)((fVar3 + (float)iVar15) / fVar3));
            fVar3 = (float)fVar22 * fVar3 - (float)iVar15;
          }
          in_ECX[0x144] = (int)fVar3;
        }
LAB_0054998f:
        fStack_80 = (float)in_ECX[0x144];
        in_ECX[0x13] = in_ECX[0x13] + (uint)((ushort)puVar2[2] >> 0xc);
        in_ECX[4] = (int)puVar2;
        uVar5 = *(ushort *)(piStack_7c + 2);
        in_ECX[8] = (int)fStack_80;
        in_ECX[0x11] = in_ECX[0x148];
        in_ECX[6] = (uint)uVar5;
        in_ECX[7] = in_ECX[0x143];
        if ((*(byte *)(in_ECX[0x32] + 0x2a) >> 1 & 1) != 0) {
          fVar3 = ((float)(int)*(short *)(in_ECX[0x32] + 0x24) / 20.0) * 20.0;
          in_ECX[8] = (int)(fStack_80 + fVar3);
          fStack_80 = fVar3;
        }
        in_ECX[9] = in_ECX[0x146];
        if ((in_ECX[0x25] != 0) && ((uint)in_ECX[0x27] < (uint)in_ECX[0x28])) {
          in_ECX[0x27] = in_ECX[0x27] + 1;
        }
      }
    }
    FUN_00544d60();
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00548a40 : SUB ESP,0x88
00548a46 : MOV EAX,dword ptr [ESP + 0x8c]
00548a4d : PUSH EBX
00548a4e : PUSH EBP
00548a4f : PUSH ESI
00548a50 : PUSH EDI
00548a51 : XOR EBP,EBP
00548a53 : PUSH EAX
00548a54 : MOV ESI,ECX
00548a56 : MOV dword ptr [ESP + 0x24],EBP
00548a5a : CALL 0x00547e20
00548a5f : MOV EAX,dword ptr [ESI + 0x8]
00548a62 : MOV dword ptr [ESI + 0x8c],EBP
00548a68 : MOVZX ECX,word ptr [EAX + 0x16]
00548a6c : MOV DL,CL
00548a6e : SHR DL,0x7
00548a71 : TEST DL,0x1
00548a74 : JZ 0x00548c2b
00548a7a : TEST ECX,0x8000
00548a80 : JZ 0x00548c2b
00548a86 : MOV EAX,dword ptr [ESI + 0x9c]
00548a8c : MOV ECX,dword ptr [ESI + 0x94]
00548a92 : LEA EDI,[ECX + EAX*0x8]
00548a95 : XOR EDX,EDX
00548a97 : XOR EAX,EAX
00548a99 : LEA ECX,[ESI + 0x10]
00548a9c : MOV word ptr [EDI + 0x4],DX
00548aa0 : MOV word ptr [EDI + 0x6],AX
00548aa4 : CALL 0x00545e30
00548aa9 : MOV EAX,dword ptr [EAX]
00548aab : MOV dword ptr [ESI + 0xc8],EAX
00548ab1 : CMP EAX,EBP
00548ab3 : JZ 0x00548c11
00548ab9 : PUSH EBP
00548aba : LEA ECX,[ESI + 0xc4]
00548ac0 : PUSH ECX
00548ac1 : MOV ECX,dword ptr [ESI]
00548ac3 : CALL 0x005484b0
00548ac8 : MOV EBX,EAX
00548aca : TEST EBX,EBX
00548acc : JZ 0x00548ad0
00548ace : INC dword ptr [EBX]
00548ad0 : MOV EDX,dword ptr [EBX + 0x14]
00548ad3 : MOV ECX,dword ptr [EDX + 0xc]
00548ad6 : MOV EAX,dword ptr [ECX]
00548ad8 : MOV EDX,dword ptr [EAX + 0xc]
00548adb : PUSH 0x2022
00548ae0 : CALL EDX
00548ae2 : MOV ECX,0xffbf
00548ae7 : AND word ptr [EDI + 0x6],CX
00548aeb : MOV word ptr [EDI],AX
00548aee : MOV EAX,0x12c
00548af3 : MOV ECX,ESI
00548af5 : MOV word ptr [EDI + 0x2],AX
00548af9 : CALL 0x00544f10
00548afe : FADD ST0,ST0
00548b00 : PUSH ECX
00548b01 : MOV ECX,EDI
00548b03 : FDIV double ptr [0x00b8bee8]
00548b09 : FSTP float ptr [ESP + 0x14]
00548b0d : FLD float ptr [ESP + 0x14]
00548b11 : FSTP float ptr [ESP]
00548b14 : CALL 0x005442d0
00548b19 : MOV EDX,0xfff
00548b1e : AND word ptr [EDI + 0x4],DX
00548b22 : MOV EAX,dword ptr [ESI + 0xc8]
00548b28 : MOV EDI,dword ptr [EAX + 0x20]
00548b2b : MOV ECX,dword ptr [ESI + 0x9c]
00548b31 : MOV EDX,dword ptr [ESI + 0x94]
00548b37 : LEA EAX,[EDX + ECX*0x8]
00548b3a : MOV ECX,0x4000
00548b3f : OR word ptr [EAX + 0x6],CX
00548b43 : MOV EDX,dword ptr [ESI + 0x9c]
00548b49 : MOV EAX,dword ptr [ESI + 0x94]
00548b4f : LEA EAX,[EAX + EDX*0x8]
00548b52 : MOV ECX,0x2000
00548b57 : OR word ptr [EAX + 0x6],CX
00548b5b : MOV EDX,dword ptr [ESI + 0xa4]
00548b61 : MOV EAX,dword ptr [ESI + 0x98]
00548b67 : MOV dword ptr [EAX + EDX*0x4],EBX
00548b6a : MOV ECX,0x1
00548b6f : ADD dword ptr [ESI + 0xa4],ECX
00548b75 : ADD dword ptr [EBX],ECX
00548b77 : MOV EDX,dword ptr [ESI + 0x9c]
00548b7d : MOV EAX,dword ptr [ESI + 0x94]
00548b83 : LEA EAX,[EAX + EDX*0x8]
00548b86 : MOV EDX,0x4000
00548b8b : OR word ptr [EAX + 0x6],DX
00548b8f : MOV EDX,dword ptr [ESI + 0x94]
00548b95 : MOV EAX,dword ptr [ESI + 0x9c]
00548b9b : LEA EAX,[EDX + EAX*0x8]
00548b9e : MOV EDX,0x1000
00548ba3 : OR word ptr [EAX + 0x6],DX
00548ba7 : MOV EAX,dword ptr [ESI + 0xa4]
00548bad : MOV EDX,dword ptr [ESI + 0x98]
00548bb3 : MOV dword ptr [EDX + EAX*0x4],EDI
00548bb6 : ADD dword ptr [ESI + 0xa4],ECX
00548bbc : MOV dword ptr [ESP + 0x74],EDI
00548bc0 : CMP dword ptr [ESI + 0x94],EBP
00548bc6 : JZ 0x00548bdd
00548bc8 : MOV EAX,dword ptr [ESI + 0x9c]
00548bce : CMP EAX,dword ptr [ESI + 0xa0]
00548bd4 : JNC 0x00548bdd
00548bd6 : INC EAX
00548bd7 : MOV dword ptr [ESI + 0x9c],EAX
00548bdd : INC dword ptr [EBX]
00548bdf : MOV EBP,dword ptr [ESI + 0x14]
00548be2 : TEST EBP,EBP
00548be4 : JZ 0x00548bf9
00548be6 : ADD dword ptr [EBP],-0x1
00548bea : JNZ 0x00548bf9
00548bec : MOV ECX,EBP
00548bee : CALL 0x00500860
00548bf3 : PUSH EBP
00548bf4 : CALL 0x00515cf0
00548bf9 : MOV dword ptr [ESI + 0x14],EBX
00548bfc : MOV dword ptr [ESI + 0x28],EDI
00548bff : ADD dword ptr [EBX],-0x1
00548c02 : JNZ 0x00548c11
00548c04 : MOV ECX,EBX
00548c06 : CALL 0x00500860
00548c0b : PUSH EBX
00548c0c : CALL 0x00515cf0
00548c11 : MOV EAX,0x2bc
00548c16 : MOV dword ptr [ESI + 0x8c],EAX
00548c1c : MOV dword ptr [ESI + 0x44],EAX
00548c1f : MOV dword ptr [ESI + 0x88],0xfffffed4
00548c29 : JMP 0x00548c3c
00548c2b : MOVSX EAX,word ptr [EAX + 0xe]
00548c2f : LEA EAX,[EAX + EAX*0x4]
00548c32 : ADD EAX,EAX
00548c34 : ADD EAX,EAX
00548c36 : MOV dword ptr [ESI + 0x88],EAX
00548c3c : MOV ECX,dword ptr [ESI + 0x8]
00548c3f : MOVZX EDX,word ptr [ECX + 0xc]
00548c43 : MOVZX EAX,word ptr [ECX + 0x12]
00548c47 : ADD EAX,EDX
00548c49 : LEA EAX,[EAX + EAX*0x4]
00548c4c : ADD EAX,EAX
00548c4e : ADD EAX,EAX
00548c50 : ADD dword ptr [ESI + 0x8c],EAX
00548c56 : MOVZX EAX,word ptr [ECX + 0x14]
00548c5a : LEA EDX,[EAX + EAX*0x4]
00548c5d : ADD EDX,EDX
00548c5f : LEA EAX,[ESI + 0x2dc]
00548c65 : ADD EDX,EDX
00548c67 : PUSH EAX
00548c68 : MOV dword ptr [ESI + 0x90],EDX
00548c6e : CALL 0x0055e770
00548c73 : XOR EBX,EBX
00548c75 : MOV dword ptr [ESP + 0x50],EAX
00548c79 : MOV dword ptr [ESP + 0x24],EBX
00548c7d : LEA ECX,[ECX]
00548c80 : MOV EAX,dword ptr [ESI + 0x74]
00548c83 : LEA EDI,[ESI + 0x5c]
00548c86 : TEST EAX,EAX
00548c88 : JZ 0x00549a44
00548c8e : MOV ECX,dword ptr [EDI + 0x1c]
00548c91 : CMP ECX,dword ptr [EAX + 0x4]
00548c94 : JNC 0x00549a44
00548c9a : LEA EBP,[ESI + 0x10]
00548c9d : MOV ECX,EBP
00548c9f : CALL 0x00545e30
00548ca4 : CMP dword ptr [ESI + 0x2e8],0x1
00548cab : MOV dword ptr [ESP + 0x1c],EAX
00548caf : JNZ 0x00548d4b
00548cb5 : MOV EDX,dword ptr [ESI]
00548cb7 : TEST byte ptr [EDX + 0x141],0x8
00548cbe : JZ 0x00548ce9
00548cc0 : TEST EBX,EBX
00548cc2 : JNZ 0x00548ce9
00548cc4 : MOV ECX,dword ptr [ESP + 0x1c]
00548cc8 : MOVZX EDX,word ptr [ECX + 0x8]
00548ccc : MOVZX EAX,word ptr [ESI + 0x18]
00548cd0 : PUSH EDX
00548cd1 : PUSH EAX
00548cd2 : PUSH 0x7
00548cd4 : CALL 0x00544190
00548cd9 : TEST AL,AL
00548cdb : JZ 0x00548ce9
00548cdd : PUSH EBP
00548cde : LEA ECX,[ESI + 0x22c]
00548ce4 : CALL 0x00545fe0
00548ce9 : CMP dword ptr [ESI + 0x2e8],0x1
00548cf0 : JNZ 0x00548d4b
00548cf2 : CMP byte ptr [ESI + 0x2f4],0x0
00548cf9 : JZ 0x00548d4b
00548cfb : CMP dword ptr [ESI + 0x44],0x0
00548cff : FLD float ptr [ESI + 0x2d8]
00548d05 : FSTP float ptr [ESP + 0x10]
00548d09 : JNZ 0x00548d20
00548d0b : CMP dword ptr [ESI + 0x100],0x0
00548d12 : JNZ 0x00548d20
00548d14 : PUSH EBP
00548d15 : LEA ECX,[ESI + 0xd4]
00548d1b : CALL 0x00545fe0
00548d20 : FILD dword ptr [ESI + 0x44]
00548d23 : FLD float ptr [ESP + 0x10]
00548d27 : FMUL double ptr [0x00cdf120]
00548d2d : FCOMPP
00548d2f : FNSTSW AX
00548d31 : TEST AH,0x5
00548d34 : JP 0x00548d4b
00548d36 : CMP dword ptr [ESI + 0x1ac],0x0
00548d3d : JNZ 0x00548d4b
00548d3f : PUSH EBP
00548d40 : LEA ECX,[ESI + 0x180]
00548d46 : CALL 0x00545fe0
00548d4b : MOV dword ptr [ESI + 0x2e4],0x1
00548d55 : TEST EBX,EBX
00548d57 : JZ 0x00548d60
00548d59 : MOV ECX,EBX
00548d5b : CALL 0x004ff7c0
00548d60 : MOV EAX,dword ptr [ESI]
00548d62 : XOR EBX,EBX
00548d64 : MOV dword ptr [ESP + 0x24],EBX
00548d68 : CMP dword ptr [EAX + 0x1c],EBX
00548d6b : JZ 0x00548dab
00548d6d : LEA ECX,[ESP + 0x54]
00548d71 : PUSH ECX
00548d72 : MOV ECX,EDI
00548d74 : CALL 0x0053b4e0
00548d79 : MOV ECX,dword ptr [ESP + 0x54]
00548d7d : LEA EDX,[ESP + 0x4c]
00548d81 : PUSH EDX
00548d82 : MOV EDX,dword ptr [ESI]
00548d84 : PUSH ECX
00548d85 : MOV ECX,dword ptr [EDX + 0x1c]
00548d88 : PUSH EAX
00548d89 : CALL 0x00545530
00548d8e : TEST EAX,EAX
00548d90 : JZ 0x00548d95
00548d92 : INC dword ptr [EAX + 0x4]
00548d95 : MOV EBX,EAX
00548d97 : MOV dword ptr [ESP + 0x24],EBX
00548d9b : TEST EAX,EAX
00548d9d : JZ 0x00548dab
00548d9f : MOV EAX,dword ptr [ESP + 0x4c]
00548da3 : MOV dword ptr [ESI + 0x2e4],EAX
00548da9 : JMP 0x00548de8
00548dab : MOV EDI,dword ptr [ESP + 0x1c]
00548daf : MOV ECX,dword ptr [EDI]
00548db1 : TEST ECX,ECX
00548db3 : JZ 0x00548dec
00548db5 : MOV DX,word ptr [ECX + 0x2a]
00548db9 : SHR DX,0x9
00548dbd : TEST DL,0x1
00548dc0 : JZ 0x00548dec
00548dc2 : CMP word ptr [EDI + 0x8],0x0
00548dc7 : JZ 0x00548dec
00548dc9 : CALL 0x0053b9f0
00548dce : MOV EDI,EAX
00548dd0 : TEST EDI,EDI
00548dd2 : JZ 0x00548dd7
00548dd4 : INC dword ptr [EDI + 0x4]
00548dd7 : TEST EBX,EBX
00548dd9 : JZ 0x00548de2
00548ddb : MOV ECX,EBX
00548ddd : CALL 0x004ff7c0
00548de2 : MOV EBX,EDI
00548de4 : MOV dword ptr [ESP + 0x24],EBX
00548de8 : MOV EDI,dword ptr [ESP + 0x1c]
00548dec : FLD1
00548dee : MOV dword ptr [ESI + 0x500],0x0
00548df8 : FSTP float ptr [ESI + 0x508]
00548dfe : FLD float ptr [0x00cdf0d0]
00548e04 : FSTP float ptr [ESI + 0x524]
00548e0a : TEST EBX,EBX
00548e0c : JNZ 0x00549311
00548e12 : MOV EAX,0xa0
00548e17 : CMP word ptr [EDI + 0x8],AX
00548e1b : SETZ AL
00548e1e : MOV byte ptr [ESI + 0x529],AL
00548e24 : MOVZX ECX,word ptr [EDI + 0x8]
00548e28 : TEST CX,CX
00548e2b : JZ 0x00548e54
00548e2d : TEST AL,AL
00548e2f : JNZ 0x00548e50
00548e31 : MOVZX EAX,CX
00548e34 : CMP AX,0x9
00548e38 : JZ 0x00548e54
00548e3a : CMP AX,0xd
00548e3e : JZ 0x00548e54
00548e40 : CMP AX,0x20
00548e44 : JZ 0x00548e54
00548e46 : MOV ECX,0x3000
00548e4b : CMP AX,CX
00548e4e : JZ 0x00548e54
00548e50 : XOR EAX,EAX
00548e52 : JMP 0x00548e59
00548e54 : MOV EAX,0x1
00548e59 : CMP dword ptr [ESI + 0xd0],0x0
00548e60 : MOV byte ptr [ESI + 0x528],AL
00548e66 : JZ 0x00548ea8
00548e68 : MOV EDX,dword ptr [ESI + 0xc8]
00548e6e : CMP EDX,dword ptr [EDI]
00548e70 : JNZ 0x00548ea8
00548e72 : MOV EAX,dword ptr [ESI + 0xd0]
00548e78 : TEST EAX,EAX
00548e7a : JZ 0x00548e7e
00548e7c : INC dword ptr [EAX]
00548e7e : MOV EDI,dword ptr [ESI + 0x504]
00548e84 : TEST EDI,EDI
00548e86 : JZ 0x00548e9a
00548e88 : ADD dword ptr [EDI],-0x1
00548e8b : JNZ 0x00548e9a
00548e8d : MOV ECX,EDI
00548e8f : CALL 0x00500860
00548e94 : PUSH EDI
00548e95 : CALL 0x00515cf0
00548e9a : MOV EAX,dword ptr [ESI + 0xd0]
00548ea0 : MOV dword ptr [ESI + 0x504],EAX
00548ea6 : JMP 0x00548f09
00548ea8 : MOV EAX,dword ptr [ESP + 0x1c]
00548eac : MOV ECX,dword ptr [EAX]
00548eae : MOV dword ptr [ESI + 0xc8],ECX
00548eb4 : CMP word ptr [EAX + 0x8],0x0
00548eb9 : LEA ECX,[ESI + 0xc4]
00548ebf : SETZ DL
00548ec2 : MOV byte ptr [ESP + 0x64],DL
00548ec6 : MOV EAX,dword ptr [ESP + 0x64]
00548eca : PUSH EAX
00548ecb : PUSH ECX
00548ecc : MOV ECX,dword ptr [ESI]
00548ece : CALL 0x005484b0
00548ed3 : MOV EBX,EAX
00548ed5 : TEST EBX,EBX
00548ed7 : JZ 0x00548edb
00548ed9 : INC dword ptr [EBX]
00548edb : MOV EDI,dword ptr [ESI + 0x504]
00548ee1 : TEST EDI,EDI
00548ee3 : JZ 0x00548ef7
00548ee5 : ADD dword ptr [EDI],-0x1
00548ee8 : JNZ 0x00548ef7
00548eea : MOV ECX,EDI
00548eec : CALL 0x00500860
00548ef1 : PUSH EDI
00548ef2 : CALL 0x00515cf0
00548ef7 : MOV dword ptr [ESI + 0x504],EBX
00548efd : TEST EBX,EBX
00548eff : MOV EBX,dword ptr [ESP + 0x24]
00548f03 : JZ 0x00549a31
00548f09 : MOV EDX,dword ptr [ESI + 0x504]
00548f0f : MOV EAX,dword ptr [EDX + 0x14]
00548f12 : MOV ECX,ESI
00548f14 : MOV dword ptr [ESI + 0x500],EAX
00548f1a : CALL 0x00544f10
00548f1f : FSTP float ptr [ESP + 0x10]
00548f23 : FLD float ptr [ESP + 0x10]
00548f27 : MOV ECX,dword ptr [ESP + 0x1c]
00548f2b : MOV EDX,dword ptr [ESI]
00548f2d : FST float ptr [ESI + 0x524]
00548f33 : FMUL double ptr [0x00b86058]
00548f39 : FSTP float ptr [ESP + 0x10]
00548f3d : FLD float ptr [ESP + 0x10]
00548f41 : FMUL double ptr [0x00b8bee0]
00548f47 : FSTP float ptr [ESI + 0x508]
00548f4d : MOVZX EAX,word ptr [ECX + 0x8]
00548f51 : MOV ECX,dword ptr [EDX + 0xc]
00548f54 : MOV DL,byte ptr [ECX + 0x20]
00548f57 : AND DL,0x2
00548f5a : NEG DL
00548f5c : SBB DL,DL
00548f5e : AND DL,0x3
00548f61 : ADD DL,0xa
00548f64 : MOVZX CX,DL
00548f68 : CMP AX,CX
00548f6b : JZ 0x005491c8
00548f71 : TEST AX,AX
00548f74 : JZ 0x005491c8
00548f7a : CMP AX,0x9
00548f7e : JZ 0x005491ae
00548f84 : MOV EDX,dword ptr [ESI + 0x500]
00548f8a : MOV ECX,dword ptr [EDX + 0xc]
00548f8d : MOV EDX,dword ptr [ECX]
00548f8f : MOVZX EAX,AX
00548f92 : PUSH EAX
00548f93 : MOV EAX,dword ptr [EDX + 0xc]
00548f96 : CALL EAX
00548f98 : MOV dword ptr [ESI + 0x50c],EAX
00548f9e : CMP EAX,-0x1
00548fa1 : JNZ 0x00549179
00548fa7 : CMP dword ptr [ESI + 0x93c],0x0
00548fae : JZ 0x00549179
00548fb4 : MOV ECX,dword ptr [ESI]
00548fb6 : TEST byte ptr [ECX + 0x143],0x10
00548fbd : JNZ 0x00549179
00548fc3 : PUSH 0x1
00548fc5 : LEA ECX,[ESP + 0x80]
00548fcc : CALL 0x00544210
00548fd1 : MOV EDX,dword ptr [ESI]
00548fd3 : MOVZX EAX,byte ptr [EDX + 0x141]
00548fda : MOV EDI,dword ptr [ESI + 0xc8]
00548fe0 : MOV BX,word ptr [EDI + 0x2a]
00548fe4 : SHR AL,0x5
00548fe7 : AND AL,0x1
00548fe9 : MOV byte ptr [ESP + 0x60],AL
00548fed : MOV AL,byte ptr [EDI + 0x28]
00548ff0 : MOV CL,AL
00548ff2 : SHR CL,0x1
00548ff4 : AND CL,0x1
00548ff7 : MOV byte ptr [ESP + 0x48],CL
00548ffb : AND AL,0x1
00548ffd : SHR BX,0xc
00549001 : MOV ECX,EDI
00549003 : AND BL,0x1
00549006 : MOV byte ptr [ESP + 0x5c],AL
0054900a : CALL 0x0055ef50
0054900f : MOV EDX,dword ptr [ESI]
00549011 : MOV ECX,dword ptr [EDX + 0x10]
00549014 : MOV EAX,dword ptr [EAX]
00549016 : AND EAX,0xfffffffc
00549019 : LEA EDX,[ESP + 0x7c]
0054901d : PUSH EDX
0054901e : TEST BL,BL
00549020 : SETZ DL
00549023 : MOVZX EDX,DL
00549026 : PUSH EDX
00549027 : MOV EDX,dword ptr [ESP + 0x68]
0054902b : PUSH EDX
0054902c : MOV EDX,dword ptr [ESP + 0x54]
00549030 : PUSH EDX
00549031 : MOV EDX,dword ptr [ESP + 0x6c]
00549035 : PUSH EDX
00549036 : ADD EAX,0x8
00549039 : PUSH EAX
0054903a : CALL 0x00544230
0054903f : MOV EBX,EAX
00549041 : MOV EAX,dword ptr [ESI]
00549043 : MOV ECX,dword ptr [EAX + 0x14]
00549046 : TEST ECX,ECX
00549048 : JZ 0x0054905d
0054904a : MOV EDX,dword ptr [ECX]
0054904c : MOV EDX,dword ptr [EDX + 0x24]
0054904f : OR dword ptr [ESP + 0x20],0x1
00549054 : LEA EAX,[ESP + 0x68]
00549058 : PUSH EAX
00549059 : CALL EDX
0054905b : JMP 0x0054906b
0054905d : OR dword ptr [ESP + 0x20],0x2
00549062 : LEA ECX,[ESP + 0x58]
00549066 : CALL 0x0051b6e0
0054906b : PUSH EAX
0054906c : LEA ECX,[ESP + 0x30]
00549070 : CALL 0x0051c600
00549075 : TEST byte ptr [ESP + 0x20],0x2
0054907a : JZ 0x0054908a
0054907c : AND dword ptr [ESP + 0x20],0xfffffffd
00549081 : LEA ECX,[ESP + 0x58]
00549085 : CALL 0x0045b730
0054908a : TEST byte ptr [ESP + 0x20],0x1
0054908f : JZ 0x0054909f
00549091 : AND dword ptr [ESP + 0x20],0xfffffffe
00549096 : LEA ECX,[ESP + 0x68]
0054909a : CALL 0x0045b730
0054909f : MOV EAX,dword ptr [ESI + 0x500]
005490a5 : MOV ECX,dword ptr [EAX + 0xc]
005490a8 : MOV EDX,dword ptr [ECX]
005490aa : MOV EDX,dword ptr [EDX + 0x44]
005490ad : LEA EAX,[ESP + 0x28]
005490b1 : PUSH EAX
005490b2 : CALL EDX
005490b4 : MOV EAX,dword ptr [ESI + 0x500]
005490ba : MOV ECX,dword ptr [EAX + 0xc]
005490bd : MOV EDX,dword ptr [ECX]
005490bf : MOV EAX,dword ptr [EDX + 0x38]
005490c2 : CALL EAX
005490c4 : MOV dword ptr [ESP + 0x10],EAX
005490c8 : MOV EAX,dword ptr [ESP + 0x80]
005490cf : MOV dword ptr [ESP + 0x14],EAX
005490d3 : TEST EAX,EAX
005490d5 : JNZ 0x005490df
005490d7 : MOV dword ptr [ESP + 0x14],0xcca874
005490df : MOV EDI,dword ptr [ESP + 0x28]
005490e3 : MOV EBP,dword ptr [ESP + 0x2c]
005490e7 : MOV ECX,dword ptr [ESI + 0xc8]
005490ed : AND EDI,0xfffffffc
005490f0 : AND EBP,0xfffffffc
005490f3 : CALL 0x0055ef50
005490f8 : MOV ECX,dword ptr [ESP + 0x14]
005490fc : MOV EDX,dword ptr [ESP + 0x10]
00549100 : PUSH ECX
00549101 : MOV ECX,dword ptr [ESP + 0x20]
00549105 : ADD EDI,0x8
00549108 : PUSH EDI
00549109 : PUSH EDX
0054910a : MOVZX EDX,word ptr [ECX + 0x8]
0054910e : MOVSX ECX,byte ptr [ECX + 0x8]
00549112 : ADD EBP,0x8
00549115 : PUSH EBP
00549116 : PUSH EDX
00549117 : MOV EDX,dword ptr [EAX]
00549119 : MOV EAX,dword ptr [ESI + 0x93c]
0054911f : PUSH ECX
00549120 : AND EDX,0xfffffffc
00549123 : ADD EDX,0x8
00549126 : PUSH EDX
00549127 : ADD EAX,0xc
0054912a : PUSH 0xb8be88
0054912f : PUSH EAX
00549130 : CALL 0x00500460
00549135 : MOV EAX,dword ptr [ESI]
00549137 : OR byte ptr [EAX + 0x143],0x10
0054913e : ADD ESP,0x24
00549141 : LEA ECX,[ESP + 0x28]
00549145 : CALL 0x0045b730
0054914a : LEA ECX,[ESP + 0x2c]
0054914e : CALL 0x0045b730
00549153 : TEST EBX,EBX
00549155 : JZ 0x00549169
00549157 : ADD dword ptr [EBX],-0x1
0054915a : JNZ 0x00549169
0054915c : MOV ECX,EBX
0054915e : CALL 0x00500860
00549163 : PUSH EBX
00549164 : CALL 0x00515cf0
00549169 : LEA ECX,[ESP + 0x80]
00549170 : CALL 0x0051b3d0
00549175 : MOV EBX,dword ptr [ESP + 0x24]
00549179 : MOV ECX,dword ptr [ESI + 0x500]
0054917f : MOV EAX,dword ptr [ESI + 0x50c]
00549185 : MOV ECX,dword ptr [ECX + 0xc]
00549188 : MOV EDX,dword ptr [ECX]
0054918a : PUSH EAX
0054918b : MOV EAX,dword ptr [EDX + 0x20]
0054918e : CALL EAX
00549190 : FSTP float ptr [ESP + 0x10]
00549194 : FLD float ptr [ESI + 0x508]
0054919a : FMUL float ptr [ESP + 0x10]
0054919e : FSTP float ptr [ESI + 0x510]
005491a4 : FLDZ
005491a6 : FLD double ptr [0x00cdf120]
005491ac : JMP 0x00549215
005491ae : FLDZ
005491b0 : MOV dword ptr [ESI + 0x50c],0xffffffff
005491ba : FST float ptr [ESI + 0x510]
005491c0 : FLD double ptr [0x00cdf120]
005491c6 : JMP 0x00549215
005491c8 : MOV ECX,dword ptr [ESI + 0x500]
005491ce : MOV ECX,dword ptr [ECX + 0xc]
005491d1 : MOV EDX,dword ptr [ECX]
005491d3 : MOV EAX,dword ptr [EDX + 0xc]
005491d6 : PUSH 0x20
005491d8 : CALL EAX
005491da : MOV ECX,dword ptr [ESI + 0x500]
005491e0 : MOV dword ptr [ESI + 0x50c],EAX
005491e6 : MOV ECX,dword ptr [ECX + 0xc]
005491e9 : MOV EDX,dword ptr [ECX]
005491eb : PUSH EAX
005491ec : MOV EAX,dword ptr [EDX + 0x20]
005491ef : CALL EAX
005491f1 : FSTP float ptr [ESP + 0x10]
005491f5 : FLD float ptr [ESP + 0x10]
005491f9 : FLD double ptr [0x00cdf120]
005491ff : FMUL ST1
00549201 : FLD float ptr [ESI + 0x508]
00549207 : FMULP ST2
00549209 : FXCH
0054920b : FSTP float ptr [ESI + 0x510]
00549211 : FLDZ
00549213 : FXCH
00549215 : CMP dword ptr [ESI + 0x10],0x0
00549219 : LEA EBP,[ESI + 0x10]
0054921c : JZ 0x005492a7
00549222 : CMP byte ptr [ESI + 0xb4],0x0
00549229 : FXCH
0054922b : FST float ptr [ESP + 0x14]
0054922f : JZ 0x00549277
00549231 : CMP dword ptr [EBP],0x0
00549235 : MOV ECX,dword ptr [ESP + 0x1c]
00549239 : MOVZX EDX,word ptr [ECX + 0x8]
0054923d : JZ 0x00549298
0054923f : MOV ECX,dword ptr [EBP + 0x4]
00549242 : FSTP ST1
00549244 : MOV ECX,dword ptr [ECX + 0x14]
00549247 : FSTP ST0
00549249 : MOV EAX,dword ptr [EBP + 0x8]
0054924c : MOV ECX,dword ptr [ECX + 0xc]
0054924f : MOV EDI,dword ptr [ECX]
00549251 : MOVZX EDX,DX
00549254 : PUSH EDX
00549255 : PUSH EAX
00549256 : MOV EAX,dword ptr [EDI + 0x24]
00549259 : CALL EAX
0054925b : FSTP float ptr [ESP + 0x14]
0054925f : FLDZ
00549261 : FLD double ptr [0x00cdf120]
00549267 : FXCH
00549269 : FLD float ptr [ESI + 0x508]
0054926f : FMUL float ptr [ESP + 0x14]
00549273 : FSTP float ptr [ESP + 0x14]
00549277 : FLD float ptr [ESI + 0x20]
0054927a : FADD float ptr [ESP + 0x14]
0054927e : FSTP float ptr [ESP + 0x10]
00549282 : FLD float ptr [ESP + 0x10]
00549286 : FCOM
00549288 : FNSTSW AX
0054928a : TEST AH,0x41
0054928d : JNZ 0x0054929e
0054928f : FADD ST0,ST2
00549291 : CALL 0x0063b380
00549296 : JMP 0x005492c8
00549298 : FST float ptr [ESP + 0x14]
0054929c : JMP 0x00549269
0054929e : FSUB ST0,ST2
005492a0 : CALL 0x0063b380
005492a5 : JMP 0x005492c8
005492a7 : FLD float ptr [ESI + 0x20]
005492aa : FSTP float ptr [ESP + 0x10]
005492ae : FLD float ptr [ESP + 0x10]
005492b2 : FCOM ST2
005492b4 : FNSTSW AX
005492b6 : TEST AH,0x41
005492b9 : JNZ 0x005492bf
005492bb : FADD ST0,ST1
005492bd : JMP 0x005492c1
005492bf : FSUB ST0,ST1
005492c1 : CALL 0x0063b380
005492c6 : FXCH
005492c8 : FLD float ptr [ESI + 0x510]
005492ce : MOV dword ptr [ESI + 0x514],EAX
005492d4 : FSTP float ptr [ESP + 0x10]
005492d8 : FLD float ptr [ESP + 0x10]
005492dc : FCOM
005492de : FNSTSW AX
005492e0 : FSTP ST1
005492e2 : TEST AH,0x41
005492e5 : JNZ 0x005492eb
005492e7 : FADDP
005492e9 : JMP 0x005492ed
005492eb : FSUBRP
005492ed : CALL 0x0063b380
005492f2 : XOR ECX,ECX
005492f4 : CMP byte ptr [ESI + 0x528],CL
005492fa : MOV dword ptr [ESI + 0x518],EAX
00549300 : SETNZ CL
00549303 : DEC ECX
00549304 : AND EAX,ECX
00549306 : MOV dword ptr [ESI + 0x51c],EAX
0054930c : JMP 0x005493bd
00549311 : MOV EDX,dword ptr [EDI]
00549313 : MOV dword ptr [ESI + 0xc8],EDX
00549319 : FILD dword ptr [EBX + 0x18]
0054931c : MOV EAX,dword ptr [EBX + 0x18]
0054931f : TEST EAX,EAX
00549321 : JGE 0x00549329
00549323 : FADD float ptr [0x00cdf0e0]
00549329 : FSTP float ptr [ESP + 0x10]
0054932d : FLDZ
0054932f : FLD float ptr [ESP + 0x10]
00549333 : FCOM
00549335 : FNSTSW AX
00549337 : FLD double ptr [0x00cdf120]
0054933d : TEST AH,0x41
00549340 : JNZ 0x00549353
00549342 : FADD ST1,ST0
00549344 : FXCH
00549346 : CALL 0x0063b380
0054934b : MOV EDI,EAX
0054934d : MOV dword ptr [ESP + 0x14],EDI
00549351 : JMP 0x00549362
00549353 : FSUB ST1,ST0
00549355 : FXCH
00549357 : CALL 0x0063b380
0054935c : MOV EDI,EAX
0054935e : MOV dword ptr [ESP + 0x14],EAX
00549362 : FILD dword ptr [ESP + 0x14]
00549366 : MOV dword ptr [ESI + 0x518],EDI
0054936c : FADD double ptr [0x00b8be30]
00549372 : FSTP float ptr [ESI + 0x510]
00549378 : FLD float ptr [ESI + 0x20]
0054937b : FSTP float ptr [ESP + 0x10]
0054937f : FLD float ptr [ESP + 0x10]
00549383 : FCOM ST2
00549385 : FNSTSW AX
00549387 : FSTP ST2
00549389 : TEST AH,0x41
0054938c : JNZ 0x00549392
0054938e : FADDP
00549390 : JMP 0x00549394
00549392 : FSUBP
00549394 : CALL 0x0063b380
00549399 : MOV dword ptr [ESI + 0x514],EAX
0054939f : MOV dword ptr [ESI + 0x51c],EDI
005493a5 : MOV dword ptr [ESI + 0x50c],0xffffffff
005493af : MOV byte ptr [ESI + 0x528],0x0
005493b6 : MOV byte ptr [ESI + 0x529],0x0
005493bd : MOV ECX,dword ptr [ESI + 0x44]
005493c0 : ADD ECX,dword ptr [ESI + 0x514]
005493c6 : MOV dword ptr [ESI + 0x520],ECX
005493cc : MOV ECX,ESI
005493ce : CALL 0x005479f0
005493d3 : TEST AL,AL
005493d5 : JNZ 0x00549a31
005493db : MOV EAX,dword ptr [EBP]
005493de : TEST EAX,EAX
005493e0 : JZ 0x00549402
005493e2 : MOV ECX,dword ptr [ESI + 0x514]
005493e8 : TEST ECX,ECX
005493ea : JL 0x005493f7
005493ec : MOV EDX,0xffbf
005493f1 : AND word ptr [EAX + 0x6],DX
005493f5 : JMP 0x005493fe
005493f7 : NEG ECX
005493f9 : OR word ptr [EAX + 0x6],0x40
005493fe : MOV word ptr [EAX + 0x2],CX
00549402 : MOV EAX,dword ptr [ESI + 0x9c]
00549408 : MOV ECX,dword ptr [ESI + 0x94]
0054940e : LEA EDI,[ECX + EAX*0x8]
00549411 : XOR EAX,EAX
00549413 : XOR EDX,EDX
00549415 : MOV word ptr [EDI + 0x4],DX
00549419 : MOV word ptr [EDI + 0x6],AX
0054941d : MOV CX,word ptr [ESI + 0x50c]
00549424 : MOV word ptr [EDI],CX
00549427 : MOV EAX,dword ptr [EBP + 0x1c]
0054942a : TEST EAX,EAX
0054942c : JZ 0x00549465
0054942e : LEA ECX,[EAX + 0x14]
00549431 : CALL 0x0053b4b0
00549436 : TEST EAX,EAX
00549438 : JBE 0x00549465
0054943a : LEA ECX,[EBP + 0x4c]
0054943d : CALL 0x0053cfd0
00549442 : MOV EDX,dword ptr [EBP + 0x30]
00549445 : MOV EDX,dword ptr [EDX + 0x1c]
00549448 : ADD EDX,dword ptr [EAX + 0x4]
0054944b : MOV ECX,dword ptr [EBP + 0x1c]
0054944e : CMP EDX,dword ptr [ECX + 0x30]
00549451 : JC 0x00549465
00549453 : ADD ECX,0x14
00549456 : CALL 0x0053b4b0
0054945b : CMP dword ptr [EBP + 0x28],EAX
0054945e : JNC 0x00549465
00549460 : OR word ptr [EDI + 0x6],0x4
00549465 : TEST EBX,EBX
00549467 : JZ 0x005495d3
0054946d : MOV ECX,dword ptr [ESI + 0x94]
00549473 : FLDZ
00549475 : MOV EAX,dword ptr [ESI + 0x9c]
0054947b : LEA EAX,[ECX + EAX*0x8]
0054947e : MOV EDX,0x4000
00549483 : OR word ptr [EAX + 0x6],DX
00549487 : MOV ECX,dword ptr [ESI + 0x94]
0054948d : MOV EAX,dword ptr [ESI + 0x9c]
00549493 : LEA EAX,[ECX + EAX*0x8]
00549496 : MOV EDX,0x800
0054949b : OR word ptr [EAX + 0x6],DX
0054949f : MOV EAX,dword ptr [ESI + 0xa4]
005494a5 : MOV ECX,dword ptr [ESI + 0x98]
005494ab : MOV dword ptr [ECX + EAX*0x4],EBX
005494ae : MOV EAX,0x1
005494b3 : ADD dword ptr [ESI + 0xa4],EAX
005494b9 : ADD dword ptr [EBX + 0x4],EAX
005494bc : FST float ptr [ESP + 0x30]
005494c0 : MOV DX,word ptr [EDI + 0x4]
005494c4 : FSTP float ptr [ESP + 0x34]
005494c8 : MOV CX,word ptr [ESI + 0x2e4]
005494cf : MOV EAX,0xfff
005494d4 : AND DX,AX
005494d7 : SHL CX,0xc
005494db : OR DX,CX
005494de : MOV word ptr [EDI + 0x4],DX
005494e2 : LEA EDX,[ESP + 0x30]
005494e6 : PUSH EDX
005494e7 : LEA EAX,[ESP + 0x70]
005494eb : PUSH EAX
005494ec : LEA ECX,[EBX + 0x20]
005494ef : MOV byte ptr [ESI + 0xb4],0x0
005494f6 : CALL 0x00522c50
005494fb : FLD float ptr [ESP + 0x6c]
005494ff : FSTP float ptr [ESP + 0x30]
00549503 : FLD float ptr [ESP + 0x70]
00549507 : FST float ptr [ESP + 0x34]
0054950b : FLD float ptr [ESI + 0x50]
0054950e : FSTP float ptr [ESP + 0x14]
00549512 : FCHS
00549514 : FSTP float ptr [ESP + 0x10]
00549518 : FLD float ptr [ESP + 0x10]
0054951c : FST float ptr [ESP + 0x10]
00549520 : FLD float ptr [ESP + 0x10]
00549524 : FLD float ptr [ESP + 0x14]
00549528 : FCOM
0054952a : FNSTSW AX
0054952c : TEST AH,0x41
0054952f : JNZ 0x00549535
00549531 : FSTP ST1
00549533 : JMP 0x00549537
00549535 : FSTP ST0
00549537 : FSTP float ptr [ESP + 0x14]
0054953b : FLD float ptr [ESP + 0x14]
0054953f : FSTP float ptr [ESI + 0x50]
00549542 : MOV ECX,dword ptr [EBX + 0x1c]
00549545 : FLD float ptr [ESI + 0x54]
00549548 : FSTP float ptr [ESP + 0x14]
0054954c : FILD dword ptr [EBX + 0x1c]
0054954f : TEST ECX,ECX
00549551 : JGE 0x00549559
00549553 : FADD float ptr [0x00cdf0e0]
00549559 : FSUBRP
0054955b : FSTP float ptr [ESP + 0x10]
0054955f : FLD float ptr [ESP + 0x10]
00549563 : FLD float ptr [ESP + 0x14]
00549567 : FCOM
00549569 : FNSTSW AX
0054956b : TEST AH,0x41
0054956e : JNZ 0x00549574
00549570 : FSTP ST1
00549572 : JMP 0x00549576
00549574 : FSTP ST0
00549576 : MOV EDX,dword ptr [ESI + 0x520]
0054957c : FSTP float ptr [ESP + 0x14]
00549580 : ADD EDX,dword ptr [ESI + 0x51c]
00549586 : FLD float ptr [ESP + 0x14]
0054958a : MOV EAX,dword ptr [ESI + 0xc8]
00549590 : FSTP float ptr [ESI + 0x54]
00549593 : MOV ECX,0x100
00549598 : MOV dword ptr [ESI + 0xac],0x0
005495a2 : MOV dword ptr [ESI + 0x48],EDX
005495a5 : TEST word ptr [EAX + 0x2a],CX
005495a9 : JZ 0x005495c5
005495ab : LEA ECX,[EAX + 0x10]
005495ae : CALL 0x0051b1a0
005495b3 : TEST EAX,EAX
005495b5 : JZ 0x005495c5
005495b7 : MOV EDX,0x80
005495bc : OR word ptr [EDI + 0x6],DX
005495c0 : JMP 0x005498b2
005495c5 : MOV EAX,0xff7f
005495ca : AND word ptr [EDI + 0x6],AX
005495ce : JMP 0x005498b2
005495d3 : MOV ECX,dword ptr [ESI + 0xc8]
005495d9 : FLD float ptr [ESI + 0x524]
005495df : MOV EBP,dword ptr [ECX + 0x20]
005495e2 : PUSH ECX
005495e3 : MOV ECX,EDI
005495e5 : FSTP float ptr [ESP]
005495e8 : CALL 0x005442d0
005495ed : MOV EAX,dword ptr [ESI + 0x504]
005495f3 : CMP EAX,dword ptr [ESI + 0x14]
005495f6 : JZ 0x0054963f
005495f8 : MOV EDX,dword ptr [ESI + 0x9c]
005495fe : MOV ECX,dword ptr [ESI + 0x94]
00549604 : LEA ECX,[ECX + EDX*0x8]
00549607 : MOV EDX,0x4000
0054960c : OR word ptr [ECX + 0x6],DX
00549610 : MOV EDX,dword ptr [ESI + 0x94]
00549616 : MOV ECX,dword ptr [ESI + 0x9c]
0054961c : LEA ECX,[EDX + ECX*0x8]
0054961f : MOV EDX,0x2000
00549624 : OR word ptr [ECX + 0x6],DX
00549628 : MOV ECX,dword ptr [ESI + 0xa4]
0054962e : MOV EDX,dword ptr [ESI + 0x98]
00549634 : MOV dword ptr [EDX + ECX*0x4],EAX
00549637 : INC dword ptr [ESI + 0xa4]
0054963d : INC dword ptr [EAX]
0054963f : CMP EBP,dword ptr [ESI + 0x28]
00549642 : JZ 0x0054968d
00549644 : MOV ECX,dword ptr [ESI + 0x94]
0054964a : MOV EAX,dword ptr [ESI + 0x9c]
00549650 : LEA EAX,[ECX + EAX*0x8]
00549653 : MOV EDX,0x4000
00549658 : OR word ptr [EAX + 0x6],DX
0054965c : MOV ECX,dword ptr [ESI + 0x94]
00549662 : MOV EAX,dword ptr [ESI + 0x9c]
00549668 : LEA EAX,[ECX + EAX*0x8]
0054966b : MOV EDX,0x1000
00549670 : OR word ptr [EAX + 0x6],DX
00549674 : MOV EAX,dword ptr [ESI + 0xa4]
0054967a : MOV ECX,dword ptr [ESI + 0x98]
00549680 : MOV dword ptr [ECX + EAX*0x4],EBP
00549683 : INC dword ptr [ESI + 0xa4]
00549689 : MOV dword ptr [ESP + 0x78],EBP
0054968d : MOV EDX,dword ptr [ESI]
0054968f : MOV EDX,dword ptr [EDX + 0xc]
00549692 : MOV DL,byte ptr [EDX + 0x20]
00549695 : MOV ECX,dword ptr [ESP + 0x1c]
00549699 : MOVZX EAX,word ptr [ECX + 0x8]
0054969d : AND DL,0x2
005496a0 : NEG DL
005496a2 : SBB DL,DL
005496a4 : AND DL,0x3
005496a7 : ADD DL,0xa
005496aa : MOVZX DX,DL
005496ae : CMP AX,DX
005496b1 : JZ 0x005497b7
005496b7 : TEST AX,AX
005496ba : JZ 0x005497bc
005496c0 : CMP byte ptr [ESI + 0x528],0x0
005496c7 : JNZ 0x005496e6
005496c9 : CMP byte ptr [ESI + 0x529],0x0
005496d0 : JNZ 0x005496e6
005496d2 : MOV EAX,dword ptr [ESI + 0x520]
005496d8 : ADD EAX,dword ptr [ESI + 0x51c]
005496de : MOV dword ptr [ESI + 0x48],EAX
005496e1 : JMP 0x00549782
005496e6 : OR word ptr [EDI + 0x6],0x2
005496eb : MOV EDX,dword ptr [ESI + 0x50c]
005496f1 : MOVZX EAX,word ptr [EDI + 0x6]
005496f5 : TEST EDX,EDX
005496f7 : JGE 0x00549704
005496f9 : OR EAX,0x200
005496fe : MOV word ptr [EDI + 0x6],AX
00549702 : JMP 0x00549757
00549704 : FLDZ
00549706 : MOV ECX,dword ptr [ESI + 0x500]
0054970c : FST float ptr [ESP + 0x38]
00549710 : LEA EBX,[ESP + 0x38]
00549714 : FST float ptr [ESP + 0x3c]
00549718 : PUSH EBX
00549719 : FST float ptr [ESP + 0x44]
0054971d : PUSH EDX
0054971e : FSTP float ptr [ESP + 0x4c]
00549722 : MOV ECX,dword ptr [ECX + 0xc]
00549725 : MOV EAX,dword ptr [ECX]
00549727 : MOV EDX,dword ptr [EAX + 0x30]
0054972a : CALL EDX
0054972c : FLD float ptr [ESP + 0x38]
00549730 : FLD float ptr [ESP + 0x40]
00549734 : FCOMPP
00549736 : FNSTSW AX
00549738 : TEST AH,0x41
0054973b : JNP 0x0054974e
0054973d : FLD float ptr [ESP + 0x3c]
00549741 : FLD float ptr [ESP + 0x44]
00549745 : FCOMPP
00549747 : FNSTSW AX
00549749 : TEST AH,0x41
0054974c : JP 0x00549757
0054974e : MOV EAX,0x200
00549753 : OR word ptr [EDI + 0x6],AX
00549757 : MOV EAX,0x1
0054975c : ADD dword ptr [ESI + 0xa8],EAX
00549762 : CMP byte ptr [ESI + 0x528],0x0
00549769 : JZ 0x00549773
0054976b : ADD dword ptr [ESI + 0xac],EAX
00549771 : JMP 0x0054978c
00549773 : MOV ECX,dword ptr [ESI + 0x520]
00549779 : ADD ECX,dword ptr [ESI + 0x51c]
0054977f : MOV dword ptr [ESI + 0x48],ECX
00549782 : MOV dword ptr [ESI + 0xac],0x0
0054978c : MOV DX,word ptr [EDI + 0x4]
00549790 : MOV EAX,0xfff
00549795 : AND DX,AX
00549798 : MOV ECX,0x1000
0054979d : OR DX,CX
005497a0 : MOV word ptr [EDI + 0x4],DX
005497a4 : FLD float ptr [ESI + 0x508]
005497aa : MOV EDX,dword ptr [ESI + 0x500]
005497b0 : PUSH ECX
005497b1 : FSTP float ptr [ESP]
005497b4 : PUSH EDX
005497b5 : JMP 0x00549810
005497b7 : TEST AX,AX
005497ba : JNZ 0x005497c7
005497bc : MOV EAX,0xfff
005497c1 : AND word ptr [EDI + 0x4],AX
005497c5 : JMP 0x005497df
005497c7 : MOV DX,word ptr [EDI + 0x4]
005497cb : MOV EAX,0xfff
005497d0 : AND DX,AX
005497d3 : MOV EAX,0x1000
005497d8 : OR DX,AX
005497db : MOV word ptr [EDI + 0x4],DX
005497df : MOV EDX,0x300
005497e4 : OR word ptr [EDI + 0x6],DX
005497e8 : MOV dword ptr [ESI + 0x518],0x0
005497f2 : MOV byte ptr [ESI + 0xb5],0x1
005497f9 : CMP dword ptr [ECX + 0x4],0x0
005497fd : JNZ 0x00549818
005497ff : FLD float ptr [ESI + 0x508]
00549805 : MOV EAX,dword ptr [ESI + 0x500]
0054980b : PUSH ECX
0054980c : FSTP float ptr [ESP]
0054980f : PUSH EAX
00549810 : LEA ECX,[ESI + 0x10]
00549813 : CALL 0x00544e10
00549818 : MOV ECX,dword ptr [ESI + 0xc8]
0054981e : TEST byte ptr [ECX + 0x28],0x4
00549822 : JZ 0x0054982f
00549824 : MOV EDX,0x400
00549829 : OR word ptr [EDI + 0x6],DX
0054982d : JMP 0x00549838
0054982f : MOV EAX,0xfbff
00549834 : AND word ptr [EDI + 0x6],AX
00549838 : MOV EAX,dword ptr [ESI + 0xc8]
0054983e : MOV ECX,0x100
00549843 : TEST word ptr [EAX + 0x2a],CX
00549847 : JZ 0x00549860
00549849 : LEA ECX,[EAX + 0x10]
0054984c : CALL 0x0051b1a0
00549851 : TEST EAX,EAX
00549853 : JZ 0x00549860
00549855 : MOV EDX,0x80
0054985a : OR word ptr [EDI + 0x6],DX
0054985e : JMP 0x00549869
00549860 : MOV EAX,0xff7f
00549865 : AND word ptr [EDI + 0x6],AX
00549869 : MOV EAX,dword ptr [ESI + 0x504]
0054986f : TEST EAX,EAX
00549871 : JZ 0x00549875
00549873 : INC dword ptr [EAX]
00549875 : MOV EBX,dword ptr [ESI + 0x14]
00549878 : TEST EBX,EBX
0054987a : JZ 0x0054988e
0054987c : ADD dword ptr [EBX],-0x1
0054987f : JNZ 0x0054988e
00549881 : MOV ECX,EBX
00549883 : CALL 0x00500860
00549888 : PUSH EBX
00549889 : CALL 0x00515cf0
0054988e : MOV ECX,dword ptr [ESI + 0x504]
00549894 : MOV EBX,dword ptr [ESP + 0x24]
00549898 : MOV dword ptr [ESI + 0x14],ECX
0054989b : MOV EDX,dword ptr [ESI + 0xc8]
005498a1 : MOV dword ptr [ESI + 0x28],EBP
005498a4 : MOV AL,byte ptr [EDX + 0x28]
005498a7 : SHR AL,0x3
005498aa : AND AL,0x1
005498ac : MOV byte ptr [ESI + 0xb4],AL
005498b2 : MOV ECX,dword ptr [ESP + 0x1c]
005498b6 : CMP word ptr [ECX + 0x8],0x9
005498bb : JNZ 0x0054998f
005498c1 : MOV ECX,dword ptr [ESI + 0x2e0]
005498c7 : CMP ECX,dword ptr [ESI + 0x2dc]
005498cd : JNC 0x00549901
005498cf : MOV EDX,dword ptr [ESP + 0x50]
005498d3 : MOV EAX,dword ptr [EDX + ECX*0x4]
005498d6 : LEA EAX,[EAX + EAX*0x4]
005498d9 : INC ECX
005498da : ADD EAX,EAX
005498dc : MOV dword ptr [ESI + 0x2e0],ECX
005498e2 : MOV ECX,dword ptr [ESI + 0x520]
005498e8 : ADD EAX,EAX
005498ea : CMP EAX,ECX
005498ec : JLE 0x0054998f
005498f2 : SUB EAX,ECX
005498f4 : MOV dword ptr [ESP + 0x10],EAX
005498f8 : FILD dword ptr [ESP + 0x10]
005498fc : JMP 0x00549989
00549901 : FLD float ptr [ESI + 0x524]
00549907 : SUB ESP,0x8
0054990a : FADD ST0,ST0
0054990c : FADD double ptr [0x00b8be80]
00549912 : FMUL double ptr [0x00b8be78]
00549918 : FSTP float ptr [ESP + 0x18]
0054991c : FLD float ptr [ESP + 0x18]
00549920 : FSTP double ptr [ESP]
00549923 : CALL 0x0063bc90
00549928 : FSTP float ptr [ESP + 0x18]
0054992c : FLD float ptr [ESP + 0x18]
00549930 : FMUL double ptr [0x00b8be80]
00549936 : FSTP float ptr [ESP + 0x18]
0054993a : FLD float ptr [ESP + 0x18]
0054993e : FMUL double ptr [0x00b86058]
00549944 : FSTP float ptr [ESP + 0x1c]
00549948 : FILD dword ptr [ESI + 0x520]
0054994e : FSTP float ptr [ESP + 0x18]
00549952 : FLD float ptr [ESP + 0x1c]
00549956 : FLD ST0
00549958 : FADD float ptr [ESP + 0x18]
0054995c : FDIVRP
0054995e : FSTP float ptr [ESP + 0x20]
00549962 : FLD float ptr [ESP + 0x20]
00549966 : FSTP double ptr [ESP]
00549969 : CALL 0x0063bc90
0054996e : FSTP float ptr [ESP + 0x20]
00549972 : FLD float ptr [ESP + 0x20]
00549976 : ADD ESP,0x8
00549979 : FMUL float ptr [ESP + 0x14]
0054997d : FSTP float ptr [ESP + 0x18]
00549981 : FLD float ptr [ESP + 0x18]
00549985 : FSUB float ptr [ESP + 0x10]
00549989 : FSTP float ptr [ESI + 0x510]
0054998f : MOVZX EAX,word ptr [EDI + 0x4]
00549993 : FLD float ptr [ESI + 0x510]
00549999 : MOV ECX,dword ptr [ESP + 0x1c]
0054999d : FSTP float ptr [ESP + 0x18]
005499a1 : FLD float ptr [ESP + 0x18]
005499a5 : SHR EAX,0xc
005499a8 : ADD dword ptr [ESI + 0x4c],EAX
005499ab : MOV EAX,dword ptr [ESI + 0x520]
005499b1 : LEA EBP,[ESI + 0x10]
005499b4 : MOV dword ptr [EBP],EDI
005499b7 : MOVZX EDX,word ptr [ECX + 0x8]
005499bb : FST float ptr [ESI + 0x20]
005499be : MOV ECX,dword ptr [ESI + 0x50c]
005499c4 : MOV dword ptr [ESI + 0x44],EAX
005499c7 : MOV EAX,dword ptr [ESI + 0xc8]
005499cd : MOV dword ptr [ESI + 0x18],EDX
005499d0 : MOV dword ptr [ESI + 0x1c],ECX
005499d3 : MOV DL,byte ptr [EAX + 0x2a]
005499d6 : SHR DL,0x1
005499d8 : TEST DL,0x1
005499db : JZ 0x00549a08
005499dd : MOVSX EAX,word ptr [EAX + 0x24]
005499e1 : MOV dword ptr [ESP + 0x18],EAX
005499e5 : FILD dword ptr [ESP + 0x18]
005499e9 : FLD double ptr [0x00b86058]
005499ef : FDIV ST1,ST0
005499f1 : FXCH
005499f3 : FSTP float ptr [ESP + 0x18]
005499f7 : FMUL float ptr [ESP + 0x18]
005499fb : FSTP float ptr [ESP + 0x18]
005499ff : FADD float ptr [ESP + 0x18]
00549a03 : FSTP float ptr [ESI + 0x20]
00549a06 : JMP 0x00549a0a
00549a08 : FSTP ST0
00549a0a : MOV ECX,dword ptr [ESI + 0x518]
00549a10 : MOV dword ptr [ESI + 0x24],ECX
00549a13 : CMP dword ptr [ESI + 0x94],0x0
00549a1a : JZ 0x00549a31
00549a1c : MOV EAX,dword ptr [ESI + 0x9c]
00549a22 : CMP EAX,dword ptr [ESI + 0xa0]
00549a28 : JNC 0x00549a31
00549a2a : INC EAX
00549a2b : MOV dword ptr [ESI + 0x9c],EAX
00549a31 : MOV EDX,dword ptr [ESI + 0x2e4]
00549a37 : PUSH EDX
00549a38 : MOV ECX,EBP
00549a3a : CALL 0x00544d60
00549a3f : JMP 0x00548c80
00549a44 : CMP dword ptr [ESI + 0xc],0x0
00549a48 : JZ 0x00549a51
00549a4a : MOV ECX,ESI
00549a4c : CALL 0x00546200
00549a51 : MOV EAX,dword ptr [ESI + 0x4f8]
00549a57 : TEST EAX,EAX
00549a59 : JZ 0x00549ab6
00549a5b : LEA ECX,[ESI + 0x2f6]
00549a61 : CMP EAX,ECX
00549a63 : JZ 0x00549ab6
00549a65 : MOV EDX,dword ptr [ESI]
00549a67 : MOV EBX,dword ptr [EDX + 0xc]
00549a6a : CMP dword ptr [EBX + 0x8],0x0
00549a6e : JNZ 0x00549aa6
00549a70 : PUSH EBX
00549a71 : CALL 0x00515dd0
00549a76 : MOV EDI,EAX
00549a78 : PUSH 0x0
00549a7a : PUSH 0x50
00549a7c : MOV ECX,EDI
00549a7e : CALL 0x00515840
00549a83 : TEST EAX,EAX
00549a85 : JZ 0x00549a95
00549a87 : PUSH 0x0
00549a89 : PUSH EDI
00549a8a : MOV ECX,EAX
00549a8c : CALL 0x00508200
00549a91 : MOV EDI,EAX
00549a93 : JMP 0x00549a97
00549a95 : XOR EDI,EDI
00549a97 : MOV ECX,dword ptr [EBX + 0x8]
00549a9a : TEST ECX,ECX
00549a9c : JZ 0x00549aa3
00549a9e : CALL 0x004ff7c0
00549aa3 : MOV dword ptr [EBX + 0x8],EDI
00549aa6 : MOV EAX,dword ptr [ESI + 0x4f8]
00549aac : PUSH EAX
00549aad : CALL 0x00515cf0
00549ab2 : MOV EBX,dword ptr [ESP + 0x24]
00549ab6 : TEST EBX,EBX
00549ab8 : JZ 0x00549ac1
00549aba : MOV ECX,EBX
00549abc : CALL 0x004ff7c0
00549ac1 : POP EDI
00549ac2 : POP ESI
00549ac3 : POP EBP
00549ac4 : POP EBX
00549ac5 : ADD ESP,0x88
00549acb : RET 0x4
