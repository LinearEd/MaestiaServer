PROGRAM  : Maestia.exe
FUNCTION : FUN_007ac460
ENTRY    : 007ac460
BODY     : [[007ac460, 007ac57d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007ac460(void)

{
  float fVar1;
  float fVar2;
  int iVar3;
  int unaff_EDI;
  float local_20;
  float local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b31a8a;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (*(int *)(unaff_EDI + 0x424) == 0) {
    local_1c = (*(float *)(unaff_EDI + 0xc4) + *(float *)(unaff_EDI + 0xb8)) * DAT_00d72c24;
    fVar1 = *(float *)(unaff_EDI + 0xb0);
    fVar2 = *(float *)(unaff_EDI + 0xbc);
    local_20 = (*(float *)(unaff_EDI + 0xbc) + *(float *)(unaff_EDI + 0xb0)) * DAT_00d72c24;
    iVar3 = FUN_006f0760(0xb8,"",0,(DAT_01725270 >> 3 & 1) == 0,
                         DAT_00d66fa0 ^ (uint)&stack0xffffffd0);
    local_c = 0;
    if (iVar3 == 0) {
      iVar3 = 0;
    }
    else {
      iVar3 = FUN_00779b10(iVar3,&local_20,ABS(fVar1 - fVar2),3);
    }
    local_c = 0xffffffff;
    *(int *)(unaff_EDI + 0x424) = iVar3;
    if (*(int *)(iVar3 + 0x98) != 0) {
      FUN_0079eab0();
    }
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
007ac460 : PUSH EBP
007ac461 : MOV EBP,ESP
007ac463 : AND ESP,0xfffffff8
007ac466 : PUSH -0x1
007ac468 : PUSH 0xb31a8a
007ac46d : MOV EAX,FS:[0x0]
007ac473 : PUSH EAX
007ac474 : SUB ESP,0x18
007ac477 : PUSH ESI
007ac478 : MOV EAX,[0x00d66fa0]
007ac47d : XOR EAX,ESP
007ac47f : PUSH EAX
007ac480 : LEA EAX,[ESP + 0x20]
007ac484 : MOV FS:[0x0],EAX
007ac48a : CMP dword ptr [EDI + 0x424],0x0
007ac491 : JNZ 0x007ac56d
007ac497 : MOV EAX,[0x01725270]
007ac49c : MOVSS XMM0,dword ptr [EDI + 0xc4]
007ac4a4 : ADDSS XMM0,dword ptr [EDI + 0xb8]
007ac4ac : MOVSS XMM2,dword ptr [0x00d72c24]
007ac4b4 : MOVSS XMM1,dword ptr [EDI + 0xbc]
007ac4bc : ADDSS XMM1,dword ptr [EDI + 0xb0]
007ac4c4 : SHR EAX,0x3
007ac4c7 : MOV ECX,0x0
007ac4cc : AND EAX,0x1
007ac4cf : SETZ CL
007ac4d2 : LEA ESI,[EDI + 0xac]
007ac4d8 : MULSS XMM0,XMM2
007ac4dc : MOVSS dword ptr [ESP + 0x18],XMM0
007ac4e2 : MOVSS XMM0,dword ptr [EDI + 0xb0]
007ac4ea : SUBSS XMM0,dword ptr [EDI + 0xbc]
007ac4f2 : MULSS XMM1,XMM2
007ac4f6 : PUSH ECX
007ac4f7 : PUSH 0x0
007ac4f9 : MOVSS dword ptr [ESP + 0x1c],XMM1
007ac4ff : MOVSS XMM1,dword ptr [0x00cdf350]
007ac507 : PUSH 0xbf1a4a
007ac50c : ANDPS XMM0,XMM1
007ac50f : PUSH 0xb8
007ac514 : MOVSS dword ptr [ESP + 0x1c],XMM0
007ac51a : CALL 0x006f0760
007ac51f : ADD ESP,0x10
007ac522 : MOV dword ptr [ESP + 0x10],EAX
007ac526 : MOV dword ptr [ESP + 0x28],0x0
007ac52e : TEST EAX,EAX
007ac530 : JZ 0x007ac549
007ac532 : FLD float ptr [ESP + 0xc]
007ac536 : PUSH 0x3
007ac538 : PUSH ECX
007ac539 : FSTP float ptr [ESP]
007ac53c : LEA EDX,[ESP + 0x1c]
007ac540 : PUSH EDX
007ac541 : PUSH EAX
007ac542 : CALL 0x00779b10
007ac547 : JMP 0x007ac54b
007ac549 : XOR EAX,EAX
007ac54b : MOV dword ptr [ESP + 0x28],0xffffffff
007ac553 : MOV dword ptr [EDI + 0x424],EAX
007ac559 : MOV EAX,dword ptr [EAX + 0x98]
007ac55f : TEST EAX,EAX
007ac561 : JZ 0x007ac56d
007ac563 : ADD EAX,0x3c
007ac566 : MOV ECX,ESI
007ac568 : CALL 0x0079eab0
007ac56d : MOV ECX,dword ptr [ESP + 0x20]
007ac571 : MOV dword ptr FS:[0x0],ECX
007ac578 : POP ECX
007ac579 : POP ESI
007ac57a : MOV ESP,EBP
007ac57c : POP EBP
007ac57d : RET
