PROGRAM  : Maestia.exe
FUNCTION : FUN_006ac050
ENTRY    : 006ac050
BODY     : [[006ac050, 006ac0c3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006ac050(void)

{
  int *piVar1;
  short sVar2;
  short *psVar3;
  int in_EAX;
  int *piVar4;
  
  psVar3 = *(short **)(in_EAX + 0x14);
  if (psVar3 != (short *)0x0) {
    sVar2 = psVar3[1];
    if (1 < sVar2) {
      piVar4 = *(int **)(psVar3 + 2);
      piVar1 = piVar4 + sVar2 * 2 + -2;
      if (1 < *psVar3) {
        piVar4 = piVar4 + *(short *)(*(int *)(psVar3 + 6) + -4 + *psVar3 * 2) * 2 + 2;
      }
      if (((*piVar4 == *piVar1) && (piVar4[1] == piVar1[1])) &&
         (*(char *)(*(int *)(psVar3 + 4) + -1 + (int)sVar2) == '\x01')) {
        psVar3[1] = sVar2 + -1;
      }
    }
    if (0 < *psVar3) {
      *(short *)(*(int *)(psVar3 + 6) + -2 + *psVar3 * 2) = psVar3[1] + -1;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006ac050 : MOV EAX,dword ptr [EAX + 0x14]
006ac053 : TEST EAX,EAX
006ac055 : JZ 0x006ac0c3
006ac057 : PUSH ESI
006ac058 : MOVZX ESI,word ptr [EAX + 0x2]
006ac05c : CMP SI,0x1
006ac060 : JLE 0x006ac0a9
006ac062 : MOV ECX,dword ptr [EAX + 0x4]
006ac065 : MOVSX EDX,SI
006ac068 : PUSH EBX
006ac069 : MOV EBX,dword ptr [EAX + 0x8]
006ac06c : PUSH EDI
006ac06d : LEA EDI,[ECX + EDX*0x8 + -0x8]
006ac071 : LEA EBX,[EBX + EDX*0x1 + -0x1]
006ac075 : MOVZX EDX,word ptr [EAX]
006ac078 : CMP DX,0x1
006ac07c : JLE 0x006ac08f
006ac07e : PUSH EBP
006ac07f : MOV EBP,dword ptr [EAX + 0xc]
006ac082 : MOVSX EDX,DX
006ac085 : MOVSX EDX,word ptr [EBP + EDX*0x2 + -0x4]
006ac08a : LEA ECX,[ECX + EDX*0x8 + 0x8]
006ac08e : POP EBP
006ac08f : MOV EDX,dword ptr [ECX]
006ac091 : CMP EDX,dword ptr [EDI]
006ac093 : JNZ 0x006ac0a7
006ac095 : MOV ECX,dword ptr [ECX + 0x4]
006ac098 : CMP ECX,dword ptr [EDI + 0x4]
006ac09b : JNZ 0x006ac0a7
006ac09d : CMP byte ptr [EBX],0x1
006ac0a0 : JNZ 0x006ac0a7
006ac0a2 : DEC ESI
006ac0a3 : MOV word ptr [EAX + 0x2],SI
006ac0a7 : POP EDI
006ac0a8 : POP EBX
006ac0a9 : MOVZX ECX,word ptr [EAX]
006ac0ac : POP ESI
006ac0ad : TEST CX,CX
006ac0b0 : JLE 0x006ac0c3
006ac0b2 : MOV DX,word ptr [EAX + 0x2]
006ac0b6 : MOV EAX,dword ptr [EAX + 0xc]
006ac0b9 : MOVSX ECX,CX
006ac0bc : DEC DX
006ac0be : MOV word ptr [EAX + ECX*0x2 + -0x2],DX
006ac0c3 : RET
