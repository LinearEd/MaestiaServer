PROGRAM  : Maestia.exe
FUNCTION : FUN_0089c610
ENTRY    : 0089c610
BODY     : [[0089c610, 0089c7fe]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0089c610(int param_1)

{
  code *pcVar1;
  int iVar2;
  char cVar3;
  short sVar4;
  DWORD DVar5;
  int *piVar6;
  int *in_ECX;
  bool bVar7;
  
  cVar3 = *(char *)((int)in_ECX + 0x425);
  *(undefined1 *)((int)in_ECX + 0x425) = 1;
  if (cVar3 != '\0') {
    *(bool *)((int)in_ECX + 0x427) = param_1 != 0;
    DVar5 = timeGetTime();
    in_ECX[0x14f] = DVar5;
    return;
  }
  pcVar1 = *(code **)(*in_ECX + 0x1ac);
  *(bool *)((int)in_ECX + 0x427) = param_1 != 0;
  (*pcVar1)(in_ECX[0x29]);
  iVar2 = *(int *)(in_ECX[0x4e] + 4);
  piVar6 = in_ECX + 0x456;
  sVar4 = FUN_0043d970();
  if (sVar4 == 1000) {
    bVar7 = *(int **)((int)in_ECX + iVar2 + 0x13c) == piVar6;
  }
  else if (sVar4 == 2000) {
    bVar7 = *(int **)((int)in_ECX + iVar2 + 0x140) == piVar6;
  }
  else {
    bVar7 = *(int **)((int)in_ECX + iVar2 + 0x144) == piVar6;
  }
  if (((!bVar7) && (cVar3 = FUN_00876040(), cVar3 == '\0')) && (in_ECX[0x59c] == 0)) {
    (**(code **)(*(int *)(*(int *)(in_ECX[0x4e] + 4) + 0x138 + (int)in_ECX) + 0x10))
              (in_ECX + 0x456,1,1,0);
  }
  cVar3 = (**(code **)(*in_ECX + 0x1d0))();
  if (((cVar3 != '\0') && (*DAT_00da9894 != 0)) &&
     (piVar6 = *(int **)(*DAT_00da9894 + 0x114), piVar6 != (int *)0x0)) {
    (**(code **)(*piVar6 + 4))(piVar6,"mc_party.SetPetDeadState","%d,%d",in_ECX[1],1);
  }
  DVar5 = timeGetTime();
  in_ECX[0x14f] = DVar5;
  piVar6 = (int *)FUN_00a1a840(in_ECX[0x155]);
  sVar4 = (**(code **)(*in_ECX + 0x1e4))();
  if (sVar4 != 0) {
    if ((piVar6 != (int *)0x0) && (sVar4 = (**(code **)(*piVar6 + 0x1e4))(), sVar4 == 0)) {
      FUN_00a379a0(in_ECX[0x155],0x102,0xffffffff);
      return;
    }
    return;
  }
  if ((piVar6 != (int *)0x0) && (sVar4 = (**(code **)(*piVar6 + 0x1e4))(), sVar4 == 0)) {
    FUN_00a379a0(in_ECX[0x155],0x101,0xffffffff);
    FUN_00a379a0(in_ECX[1],0xfa,0xffffffff);
    return;
  }
  FUN_00a379a0(in_ECX[1],0xfc,0xffffffff);
  return;
}



============================================================
DISASSEMBLY
============================================================
0089c610 : PUSH EBP
0089c611 : MOV EBP,ESP
0089c613 : PUSH EBX
0089c614 : MOV EBX,ECX
0089c616 : CMP byte ptr [EBX + 0x425],0x0
0089c61d : MOV byte ptr [EBX + 0x425],0x1
0089c624 : JNZ 0x0089c7e1
0089c62a : CMP dword ptr [EBP + 0x8],0x0
0089c62e : MOV EDX,dword ptr [EBX]
0089c630 : MOV EDX,dword ptr [EDX + 0x1ac]
0089c636 : SETNZ AL
0089c639 : PUSH ESI
0089c63a : MOV byte ptr [EBX + 0x427],AL
0089c640 : MOV EAX,dword ptr [EBX + 0xa4]
0089c646 : PUSH EDI
0089c647 : PUSH EAX
0089c648 : CALL EDX
0089c64a : MOV EAX,dword ptr [EBX + 0x138]
0089c650 : MOV EAX,dword ptr [EAX + 0x4]
0089c653 : LEA ESI,[EBX + 0x1158]
0089c659 : LEA EDI,[EAX + EBX*0x1 + 0x138]
0089c660 : MOV AX,word ptr [ESI + 0x2a]
0089c664 : CALL 0x0043d970
0089c669 : MOV ECX,0x3e8
0089c66e : CMP AX,CX
0089c671 : JNZ 0x0089c678
0089c673 : CMP dword ptr [EDI + 0x4],ESI
0089c676 : JMP 0x0089c68a
0089c678 : MOV EDX,0x7d0
0089c67d : CMP AX,DX
0089c680 : JNZ 0x0089c687
0089c682 : CMP dword ptr [EDI + 0x8],ESI
0089c685 : JMP 0x0089c68a
0089c687 : CMP dword ptr [EDI + 0xc],ESI
0089c68a : SETZ AL
0089c68d : TEST AL,AL
0089c68f : JNZ 0x0089c6d2
0089c691 : LEA ESI,[EBX + 0x1238]
0089c697 : CALL 0x00876040
0089c69c : TEST AL,AL
0089c69e : JNZ 0x0089c6d2
0089c6a0 : CMP dword ptr [EBX + 0x1670],0x0
0089c6a7 : JNZ 0x0089c6d2
0089c6a9 : MOV EAX,dword ptr [EBX + 0x138]
0089c6af : MOV EAX,dword ptr [EAX + 0x4]
0089c6b2 : MOV EDX,dword ptr [EAX + EBX*0x1 + 0x138]
0089c6b9 : PUSH 0x0
0089c6bb : LEA ECX,[EAX + EBX*0x1 + 0x138]
0089c6c2 : PUSH 0x1
0089c6c4 : PUSH 0x1
0089c6c6 : LEA EAX,[EBX + 0x1158]
0089c6cc : PUSH EAX
0089c6cd : MOV EAX,dword ptr [EDX + 0x10]
0089c6d0 : CALL EAX
0089c6d2 : MOV EDX,dword ptr [EBX]
0089c6d4 : MOV EAX,dword ptr [EDX + 0x1d0]
0089c6da : MOV ECX,EBX
0089c6dc : CALL EAX
0089c6de : TEST AL,AL
0089c6e0 : JZ 0x0089c713
0089c6e2 : MOV ECX,dword ptr [0x00da9894]
0089c6e8 : MOV EAX,dword ptr [ECX]
0089c6ea : TEST EAX,EAX
0089c6ec : JZ 0x0089c713
0089c6ee : MOV EAX,dword ptr [EAX + 0x114]
0089c6f4 : TEST EAX,EAX
0089c6f6 : JZ 0x0089c713
0089c6f8 : MOV ECX,dword ptr [EBX + 0x4]
0089c6fb : MOV EDX,dword ptr [EAX]
0089c6fd : MOV EDX,dword ptr [EDX + 0x4]
0089c700 : PUSH 0x1
0089c702 : PUSH ECX
0089c703 : PUSH 0xc46d98
0089c708 : PUSH 0xc46da0
0089c70d : PUSH EAX
0089c70e : CALL EDX
0089c710 : ADD ESP,0x14
0089c713 : CALL dword ptr [0x00b85598]
0089c719 : MOV ECX,dword ptr [0x00da93ec]
0089c71f : MOV dword ptr [EBX + 0x53c],EAX
0089c725 : MOV EAX,dword ptr [EBX + 0x554]
0089c72b : PUSH EAX
0089c72c : CALL 0x00a1a840
0089c731 : MOV ESI,EAX
0089c733 : MOV EAX,dword ptr [EBX]
0089c735 : MOV EDX,dword ptr [EAX + 0x1e4]
0089c73b : MOV ECX,EBX
0089c73d : CALL EDX
0089c73f : TEST AX,AX
0089c742 : JNZ 0x0089c7ac
0089c744 : TEST ESI,ESI
0089c746 : JZ 0x0089c78f
0089c748 : MOV EAX,dword ptr [ESI]
0089c74a : MOV EDX,dword ptr [EAX + 0x1e4]
0089c750 : MOV ECX,ESI
0089c752 : CALL EDX
0089c754 : TEST AX,AX
0089c757 : JNZ 0x0089c78f
0089c759 : MOV EAX,dword ptr [EBX + 0x554]
0089c75f : MOV ECX,dword ptr [0x00da93ec]
0089c765 : PUSH -0x1
0089c767 : PUSH 0x101
0089c76c : PUSH EAX
0089c76d : CALL 0x00a379a0
0089c772 : MOV ECX,dword ptr [EBX + 0x4]
0089c775 : PUSH -0x1
0089c777 : PUSH 0xfa
0089c77c : PUSH ECX
0089c77d : MOV ECX,dword ptr [0x00da93ec]
0089c783 : CALL 0x00a379a0
0089c788 : POP EDI
0089c789 : POP ESI
0089c78a : POP EBX
0089c78b : POP EBP
0089c78c : RET 0x4
0089c78f : MOV EDX,dword ptr [EBX + 0x4]
0089c792 : MOV ECX,dword ptr [0x00da93ec]
0089c798 : PUSH -0x1
0089c79a : PUSH 0xfc
0089c79f : PUSH EDX
0089c7a0 : CALL 0x00a379a0
0089c7a5 : POP EDI
0089c7a6 : POP ESI
0089c7a7 : POP EBX
0089c7a8 : POP EBP
0089c7a9 : RET 0x4
0089c7ac : TEST ESI,ESI
0089c7ae : JZ 0x0089c788
0089c7b0 : MOV EAX,dword ptr [ESI]
0089c7b2 : MOV EDX,dword ptr [EAX + 0x1e4]
0089c7b8 : MOV ECX,ESI
0089c7ba : CALL EDX
0089c7bc : TEST AX,AX
0089c7bf : JNZ 0x0089c788
0089c7c1 : MOV EAX,dword ptr [EBX + 0x554]
0089c7c7 : MOV ECX,dword ptr [0x00da93ec]
0089c7cd : PUSH -0x1
0089c7cf : PUSH 0x102
0089c7d4 : PUSH EAX
0089c7d5 : CALL 0x00a379a0
0089c7da : POP EDI
0089c7db : POP ESI
0089c7dc : POP EBX
0089c7dd : POP EBP
0089c7de : RET 0x4
0089c7e1 : CMP dword ptr [EBP + 0x8],0x0
0089c7e5 : SETNZ CL
0089c7e8 : MOV byte ptr [EBX + 0x427],CL
0089c7ee : CALL dword ptr [0x00b85598]
0089c7f4 : MOV dword ptr [EBX + 0x53c],EAX
0089c7fa : POP EBX
0089c7fb : POP EBP
0089c7fc : RET 0x4
