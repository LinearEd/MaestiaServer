PROGRAM  : Maestia.exe
FUNCTION : FUN_005ca220
ENTRY    : 005ca220
BODY     : [[005ca220, 005ca358]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005ca220(int param_1)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  float10 fVar6;
  double local_40;
  double local_38;
  double local_30;
  double local_28;
  double local_20;
  double local_18;
  
  iVar2 = FUN_00515840(0x30,0);
  if (iVar2 == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_005c9e90(*(undefined4 *)(param_1 + 0x18));
  }
  bVar1 = false;
  if (2 < *(int *)(param_1 + 0x1c)) {
    uVar5 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(0);
    iVar3 = FUN_00526fa0(uVar5);
    uVar5 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(1);
    iVar4 = FUN_00526fa0(uVar5);
    uVar5 = FUN_00526260(2);
    FUN_005266c0(uVar5);
    if ((iVar3 != 0) && (iVar4 != 0)) {
      FUN_005c9880(*(undefined4 *)(param_1 + 0x18),iVar3,&local_40);
      FUN_005c9880(*(undefined4 *)(param_1 + 0x18),iVar4,&local_30);
      fVar6 = (float10)FUN_00527730(*(undefined4 *)(param_1 + 0x18));
      local_20 = (double)(((float10)local_40 - (float10)local_30) * fVar6 + (float10)local_30);
      local_18 = (double)((float10)local_28 + ((float10)local_38 - (float10)local_28) * fVar6);
      FUN_005c95f0(*(undefined4 *)(param_1 + 0x18),&local_20);
      bVar1 = true;
    }
    FUN_00526bc0();
    if (bVar1) goto LAB_005ca33b;
  }
  FUN_005c9590(*(int *)(param_1 + 0x18) + 0x78,&DAT_00d7b344);
LAB_005ca33b:
  FUN_005271c0(iVar2);
  if (iVar2 != 0) {
    FUN_00503db0();
    return;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005ca220 : SUB ESP,0x40
005ca223 : PUSH EBX
005ca224 : PUSH ESI
005ca225 : MOV ESI,dword ptr [ESP + 0x4c]
005ca229 : MOV EAX,dword ptr [ESI + 0x18]
005ca22c : MOV ECX,dword ptr [EAX + 0x78]
005ca22f : MOV ECX,dword ptr [ECX + 0x288]
005ca235 : PUSH 0x0
005ca237 : PUSH 0x30
005ca239 : CALL 0x00515840
005ca23e : TEST EAX,EAX
005ca240 : JZ 0x005ca251
005ca242 : MOV EDX,dword ptr [ESI + 0x18]
005ca245 : PUSH EDX
005ca246 : MOV ECX,EAX
005ca248 : CALL 0x005c9e90
005ca24d : MOV EBX,EAX
005ca24f : JMP 0x005ca253
005ca251 : XOR EBX,EBX
005ca253 : CMP dword ptr [ESI + 0x1c],0x2
005ca257 : MOV byte ptr [ESP + 0x4c],0x0
005ca25c : JLE 0x005ca328
005ca262 : MOV EAX,dword ptr [ESI + 0x18]
005ca265 : PUSH EBP
005ca266 : PUSH EDI
005ca267 : PUSH EAX
005ca268 : PUSH 0x0
005ca26a : MOV ECX,ESI
005ca26c : CALL 0x00526260
005ca271 : MOV ECX,EAX
005ca273 : CALL 0x00526fa0
005ca278 : MOV ECX,dword ptr [ESI + 0x18]
005ca27b : PUSH ECX
005ca27c : PUSH 0x1
005ca27e : MOV ECX,ESI
005ca280 : MOV EDI,EAX
005ca282 : CALL 0x00526260
005ca287 : MOV ECX,EAX
005ca289 : CALL 0x00526fa0
005ca28e : PUSH 0x2
005ca290 : MOV ECX,ESI
005ca292 : MOV EBP,EAX
005ca294 : CALL 0x00526260
005ca299 : PUSH EAX
005ca29a : LEA ECX,[ESP + 0x44]
005ca29e : CALL 0x005266c0
005ca2a3 : TEST EDI,EDI
005ca2a5 : JZ 0x005ca316
005ca2a7 : TEST EBP,EBP
005ca2a9 : JZ 0x005ca316
005ca2ab : MOV EAX,dword ptr [ESI + 0x18]
005ca2ae : LEA EDX,[ESP + 0x10]
005ca2b2 : PUSH EDX
005ca2b3 : PUSH EDI
005ca2b4 : PUSH EAX
005ca2b5 : CALL 0x005c9880
005ca2ba : MOV EDX,dword ptr [ESI + 0x18]
005ca2bd : LEA ECX,[ESP + 0x2c]
005ca2c1 : PUSH ECX
005ca2c2 : PUSH EBP
005ca2c3 : PUSH EDX
005ca2c4 : CALL 0x005c9880
005ca2c9 : MOV EAX,dword ptr [ESI + 0x18]
005ca2cc : ADD ESP,0x18
005ca2cf : PUSH EAX
005ca2d0 : LEA ECX,[ESP + 0x44]
005ca2d4 : CALL 0x00527730
005ca2d9 : FLD double ptr [ESP + 0x10]
005ca2dd : FLD double ptr [ESP + 0x20]
005ca2e1 : MOV EDX,dword ptr [ESI + 0x18]
005ca2e4 : FSUB ST1,ST0
005ca2e6 : LEA ECX,[ESP + 0x30]
005ca2ea : FXCH
005ca2ec : PUSH ECX
005ca2ed : PUSH EDX
005ca2ee : FMUL ST2
005ca2f0 : MOV ECX,EBX
005ca2f2 : FADDP
005ca2f4 : FSTP double ptr [ESP + 0x38]
005ca2f8 : FLD double ptr [ESP + 0x20]
005ca2fc : FLD double ptr [ESP + 0x30]
005ca300 : FSUB ST1,ST0
005ca302 : FXCH
005ca304 : FMULP ST2
005ca306 : FADDP
005ca308 : FSTP double ptr [ESP + 0x40]
005ca30c : CALL 0x005c95f0
005ca311 : MOV byte ptr [ESP + 0x54],0x1
005ca316 : LEA ECX,[ESP + 0x40]
005ca31a : CALL 0x00526bc0
005ca31f : CMP byte ptr [ESP + 0x54],0x0
005ca324 : POP EDI
005ca325 : POP EBP
005ca326 : JNZ 0x005ca33b
005ca328 : MOV EAX,dword ptr [ESI + 0x18]
005ca32b : PUSH 0xd7b344
005ca330 : ADD EAX,0x78
005ca333 : PUSH EAX
005ca334 : MOV ECX,EBX
005ca336 : CALL 0x005c9590
005ca33b : MOV ECX,dword ptr [ESI + 0x4]
005ca33e : PUSH EBX
005ca33f : CALL 0x005271c0
005ca344 : POP ESI
005ca345 : TEST EBX,EBX
005ca347 : JZ 0x005ca354
005ca349 : MOV ECX,EBX
005ca34b : POP EBX
005ca34c : ADD ESP,0x40
005ca34f : JMP 0x00503db0
005ca354 : POP EBX
005ca355 : ADD ESP,0x40
005ca358 : RET
