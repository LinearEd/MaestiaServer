PROGRAM  : Maestia.exe
FUNCTION : FUN_004f7280
ENTRY    : 004f7280
BODY     : [[004f7280, 004f72d0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004f7280(void)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  int iVar3;
  int unaff_ESI;
  
  puVar2 = *(undefined4 **)(unaff_ESI + 0xc);
  if (puVar2 == (undefined4 *)0x0) {
    if (*(int *)(unaff_ESI + 0x10) != 0) {
      puVar2 = _malloc(*(int *)(unaff_ESI + 0x10) * 0x10 + 4);
      if (puVar2 != (undefined4 *)0x0) {
        *puVar2 = *(undefined4 *)(unaff_ESI + 8);
        *(undefined4 **)(unaff_ESI + 8) = puVar2;
        iVar3 = *(int *)(unaff_ESI + 0x10);
        puVar2 = puVar2 + 1;
        do {
          *puVar2 = *(undefined4 *)(unaff_ESI + 0xc);
          *(undefined4 **)(unaff_ESI + 0xc) = puVar2;
          puVar2 = puVar2 + 4;
          iVar3 = iVar3 + -1;
        } while (iVar3 != 0);
      }
    }
    puVar2 = *(undefined4 **)(unaff_ESI + 0xc);
    if (puVar2 == (undefined4 *)0x0) {
      return;
    }
  }
  uVar1 = *puVar2;
  *(int *)(unaff_ESI + 4) = *(int *)(unaff_ESI + 4) + 1;
  *(undefined4 *)(unaff_ESI + 0xc) = uVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
004f7280 : MOV EAX,dword ptr [ESI + 0xc]
004f7283 : TEST EAX,EAX
004f7285 : JNZ 0x004f72c8
004f7287 : MOV EAX,dword ptr [ESI + 0x10]
004f728a : TEST EAX,EAX
004f728c : JBE 0x004f72c0
004f728e : SHL EAX,0x4
004f7291 : ADD EAX,0x4
004f7294 : PUSH EAX
004f7295 : CALL 0x00636043
004f729a : ADD ESP,0x4
004f729d : TEST EAX,EAX
004f729f : JZ 0x004f72c0
004f72a1 : MOV ECX,dword ptr [ESI + 0x8]
004f72a4 : MOV dword ptr [EAX],ECX
004f72a6 : MOV dword ptr [ESI + 0x8],EAX
004f72a9 : MOV ECX,dword ptr [ESI + 0x10]
004f72ac : ADD EAX,0x4
004f72af : NOP
004f72b0 : MOV EDX,dword ptr [ESI + 0xc]
004f72b3 : MOV dword ptr [EAX],EDX
004f72b5 : MOV dword ptr [ESI + 0xc],EAX
004f72b8 : ADD EAX,0x10
004f72bb : SUB ECX,0x1
004f72be : JNZ 0x004f72b0
004f72c0 : MOV EAX,dword ptr [ESI + 0xc]
004f72c3 : TEST EAX,EAX
004f72c5 : JNZ 0x004f72c8
004f72c7 : RET
004f72c8 : MOV ECX,dword ptr [EAX]
004f72ca : INC dword ptr [ESI + 0x4]
004f72cd : MOV dword ptr [ESI + 0xc],ECX
004f72d0 : RET
