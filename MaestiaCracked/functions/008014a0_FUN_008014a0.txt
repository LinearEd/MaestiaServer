PROGRAM  : Maestia.exe
FUNCTION : FUN_008014a0
ENTRY    : 008014a0
BODY     : [[008014a0, 008015a5]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_008014a0(void)

{
  int iVar1;
  DWORD DVar2;
  int *in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4876a;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar1 = FUN_006f0760(100,"",0,(DAT_01725270 >> 3 & 1) == 0,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  local_8 = 0;
  if (iVar1 == 0) {
    iVar1 = 0;
  }
  else {
    iVar1 = FUN_007f0d40(iVar1);
  }
  local_8 = 0xffffffff;
  in_ECX[2] = iVar1;
  in_ECX[3] = *(int *)(iVar1 + 0x10);
  (**(code **)(*in_ECX + 0xc))();
  iVar1 = in_ECX[3];
  if (iVar1 != 0) {
    *(undefined1 *)(iVar1 + 0x324) = *(undefined1 *)((int)in_ECX + 0x2e);
    *(undefined1 *)(iVar1 + 600) = 0;
  }
  *(undefined1 *)(in_ECX[3] + 0x318) = *(undefined1 *)((int)in_ECX + 0x26);
  *(int *)(in_ECX[3] + 0x31c) = in_ECX[10];
  if (*(int *)(in_ECX[2] + 0x10) != 0) {
    FUN_007ffc10();
  }
  DVar2 = timeGetTime();
  in_ECX[0xe] = DVar2;
  in_ECX[0xf] = DVar2;
  in_ECX[0x10] = 0;
  *(undefined1 *)(in_ECX + 0xd) = 1;
  DVar2 = timeGetTime();
  if ((char)in_ECX[0xd] != '\0') {
    in_ECX[0xe] = in_ECX[0xe] + (DVar2 - in_ECX[0x10]);
  }
  iVar1 = DAT_017251ac;
  in_ECX[0xf] = DVar2;
  in_ECX[0x10] = 0;
  *(undefined1 *)(in_ECX + 0xd) = 0;
  *(undefined1 *)(iVar1 + 0x278) = 1;
  ExceptionList = local_10;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
008014a0 : PUSH EBP
008014a1 : MOV EBP,ESP
008014a3 : PUSH -0x1
008014a5 : PUSH 0xb4876a
008014aa : MOV EAX,FS:[0x0]
008014b0 : PUSH EAX
008014b1 : PUSH ECX
008014b2 : PUSH EBX
008014b3 : PUSH ESI
008014b4 : PUSH EDI
008014b5 : MOV EAX,[0x00d66fa0]
008014ba : XOR EAX,EBP
008014bc : PUSH EAX
008014bd : LEA EAX,[EBP + -0xc]
008014c0 : MOV FS:[0x0],EAX
008014c6 : MOV EDI,ECX
008014c8 : MOV EAX,[0x01725270]
008014cd : SHR EAX,0x3
008014d0 : MOV ECX,0x0
008014d5 : AND EAX,0x1
008014d8 : SETZ CL
008014db : XOR EBX,EBX
008014dd : PUSH ECX
008014de : PUSH EBX
008014df : PUSH 0xbf1a4a
008014e4 : PUSH 0x64
008014e6 : CALL 0x006f0760
008014eb : ADD ESP,0x10
008014ee : MOV dword ptr [EBP + -0x10],EAX
008014f1 : MOV dword ptr [EBP + -0x4],EBX
008014f4 : CMP EAX,EBX
008014f6 : JZ 0x00801500
008014f8 : PUSH EAX
008014f9 : CALL 0x007f0d40
008014fe : JMP 0x00801502
00801500 : XOR EAX,EAX
00801502 : MOV dword ptr [EBP + -0x4],0xffffffff
00801509 : MOV dword ptr [EDI + 0x8],EAX
0080150c : MOV EDX,dword ptr [EAX + 0x10]
0080150f : MOV EAX,dword ptr [EDI]
00801511 : MOV dword ptr [EDI + 0xc],EDX
00801514 : MOV EDX,dword ptr [EAX + 0xc]
00801517 : MOV ECX,EDI
00801519 : CALL EDX
0080151b : MOV EAX,dword ptr [EDI + 0xc]
0080151e : CMP EAX,EBX
00801520 : JZ 0x00801531
00801522 : MOV CL,byte ptr [EDI + 0x2e]
00801525 : MOV byte ptr [EAX + 0x324],CL
0080152b : MOV byte ptr [EAX + 0x258],BL
00801531 : MOV EDX,dword ptr [EDI + 0xc]
00801534 : MOV AL,byte ptr [EDI + 0x26]
00801537 : MOV byte ptr [EDX + 0x318],AL
0080153d : MOV ECX,dword ptr [EDI + 0xc]
00801540 : MOV EDX,dword ptr [EDI + 0x28]
00801543 : MOV dword ptr [ECX + 0x31c],EDX
00801549 : MOV EAX,dword ptr [EDI + 0x8]
0080154c : MOV ESI,dword ptr [EAX + 0x10]
0080154f : CMP ESI,EBX
00801551 : JZ 0x00801558
00801553 : CALL 0x007ffc10
00801558 : MOV ESI,dword ptr [0x00b85598]
0080155e : CALL ESI
00801560 : MOV dword ptr [EDI + 0x38],EAX
00801563 : MOV dword ptr [EDI + 0x3c],EAX
00801566 : MOV dword ptr [EDI + 0x40],EBX
00801569 : MOV byte ptr [EDI + 0x34],0x1
0080156d : CALL ESI
0080156f : CMP byte ptr [EDI + 0x34],BL
00801572 : JZ 0x0080157c
00801574 : MOV ECX,EAX
00801576 : SUB ECX,dword ptr [EDI + 0x40]
00801579 : ADD dword ptr [EDI + 0x38],ECX
0080157c : MOV EDX,dword ptr [0x017251ac]
00801582 : MOV dword ptr [EDI + 0x3c],EAX
00801585 : MOV dword ptr [EDI + 0x40],EBX
00801588 : MOV byte ptr [EDI + 0x34],BL
0080158b : MOV byte ptr [EDX + 0x278],0x1
00801592 : MOV AL,0x1
00801594 : MOV ECX,dword ptr [EBP + -0xc]
00801597 : MOV dword ptr FS:[0x0],ECX
0080159e : POP ECX
0080159f : POP EDI
008015a0 : POP ESI
008015a1 : POP EBX
008015a2 : MOV ESP,EBP
008015a4 : POP EBP
008015a5 : RET
