PROGRAM  : Maestia.exe
FUNCTION : FUN_005fa570
ENTRY    : 005fa570
BODY     : [[005fa570, 005fa5e6]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_005fa570(code *param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  int *in_ECX;
  
  *(undefined1 *)(in_ECX + 8) = 0;
  if (in_ECX[2] != 0) {
    iVar3 = in_ECX[2] + -1;
    in_ECX[5] = in_ECX[6];
    uVar2 = in_ECX[1];
    uVar1 = uVar2 + 1;
    in_ECX[2] = iVar3;
    in_ECX[1] = uVar1;
    in_ECX[4] = *(int *)(*(int *)(*in_ECX + 0xc) + (uVar2 >> 4) * 4) + (uVar2 & 0xf) * 8;
    if (iVar3 == 0) {
      iVar3 = in_ECX[3];
    }
    else {
      iVar3 = *(int *)(*(int *)(*(int *)(*in_ECX + 0xc) + (uVar1 >> 4) * 4) + (uVar1 & 0xf) * 8);
    }
    in_ECX[6] = iVar3;
    iVar3 = (*param_1)(in_ECX[4]);
    in_ECX[7] = iVar3;
    return 1;
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
005fa570 : PUSH ESI
005fa571 : MOV ESI,ECX
005fa573 : MOV EAX,dword ptr [ESI + 0x8]
005fa576 : MOV byte ptr [ESI + 0x20],0x0
005fa57a : TEST EAX,EAX
005fa57c : JZ 0x005fa5e1
005fa57e : LEA EDX,[EAX + -0x1]
005fa581 : MOV EAX,dword ptr [ESI + 0x18]
005fa584 : PUSH EBX
005fa585 : MOV dword ptr [ESI + 0x14],EAX
005fa588 : MOV EAX,dword ptr [ESI + 0x4]
005fa58b : PUSH EBP
005fa58c : LEA ECX,[EAX + 0x1]
005fa58f : MOV EBX,EAX
005fa591 : PUSH EDI
005fa592 : MOV EDI,dword ptr [ESI]
005fa594 : MOV dword ptr [ESI + 0x8],EDX
005fa597 : MOV dword ptr [ESI + 0x4],ECX
005fa59a : MOV EBP,dword ptr [EDI + 0xc]
005fa59d : SHR EBX,0x4
005fa5a0 : MOV EBX,dword ptr [EBP + EBX*0x4]
005fa5a4 : AND EAX,0xf
005fa5a7 : LEA EAX,[EBX + EAX*0x8]
005fa5aa : MOV dword ptr [ESI + 0x10],EAX
005fa5ad : TEST EDX,EDX
005fa5af : JZ 0x005fa5c4
005fa5b1 : MOV EAX,dword ptr [EDI + 0xc]
005fa5b4 : MOV EDX,ECX
005fa5b6 : SHR EDX,0x4
005fa5b9 : MOV EDX,dword ptr [EAX + EDX*0x4]
005fa5bc : AND ECX,0xf
005fa5bf : MOV ECX,dword ptr [EDX + ECX*0x8]
005fa5c2 : JMP 0x005fa5c7
005fa5c4 : MOV ECX,dword ptr [ESI + 0xc]
005fa5c7 : MOV EAX,dword ptr [ESI + 0x10]
005fa5ca : PUSH EAX
005fa5cb : MOV dword ptr [ESI + 0x18],ECX
005fa5ce : CALL dword ptr [ESP + 0x18]
005fa5d2 : ADD ESP,0x4
005fa5d5 : POP EDI
005fa5d6 : POP EBP
005fa5d7 : MOV dword ptr [ESI + 0x1c],EAX
005fa5da : POP EBX
005fa5db : MOV AL,0x1
005fa5dd : POP ESI
005fa5de : RET 0x4
005fa5e1 : XOR AL,AL
005fa5e3 : POP ESI
005fa5e4 : RET 0x4
