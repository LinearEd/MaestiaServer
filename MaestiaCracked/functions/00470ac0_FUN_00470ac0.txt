PROGRAM  : Maestia.exe
FUNCTION : FUN_00470ac0
ENTRY    : 00470ac0
BODY     : [[00470ac0, 00470b44]]

============================================================
DECOMPILED C CODE
============================================================

bool FUN_00470ac0(uint param_1,uint param_2)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  
  iVar1 = param_1;
  if (*(char *)(param_1 + 0x10) == '\0') {
    if (*(uint *)(param_1 + 0xc) < param_2) {
      puVar2 = (undefined4 *)FUN_00470a70();
      if (*(int *)(param_1 + 8) != 0) {
        puVar5 = *(undefined4 **)(param_1 + 4);
        param_1 = 0;
        puVar3 = puVar2;
        do {
          puVar6 = puVar5;
          puVar7 = puVar3;
          for (iVar4 = 0xf; iVar4 != 0; iVar4 = iVar4 + -1) {
            *puVar7 = *puVar6;
            puVar6 = puVar6 + 1;
            puVar7 = puVar7 + 1;
          }
          param_1 = param_1 + 1;
          puVar3 = puVar3 + 0xf;
          puVar5 = puVar5 + 0xf;
        } while (param_1 < *(uint *)(iVar1 + 8));
      }
      FUN_00457040();
      *(undefined4 **)(iVar1 + 4) = puVar2;
      *(uint *)(iVar1 + 0xc) = param_2;
    }
    return true;
  }
  return param_2 <= *(uint *)(param_1 + 0xc);
}



============================================================
DISASSEMBLY
============================================================
00470ac0 : PUSH EBP
00470ac1 : MOV EBP,ESP
00470ac3 : PUSH ECX
00470ac4 : PUSH EBX
00470ac5 : MOV EBX,dword ptr [EBP + 0x8]
00470ac8 : CMP byte ptr [EBX + 0x10],0x0
00470acc : JZ 0x00470ade
00470ace : MOV EAX,dword ptr [EBP + 0xc]
00470ad1 : CMP dword ptr [EBX + 0xc],EAX
00470ad4 : POP EBX
00470ad5 : SBB EAX,EAX
00470ad7 : INC EAX
00470ad8 : MOV ESP,EBP
00470ada : POP EBP
00470adb : RET 0x8
00470ade : PUSH EDI
00470adf : MOV EDI,dword ptr [EBP + 0xc]
00470ae2 : CMP EDI,dword ptr [EBX + 0xc]
00470ae5 : JBE 0x00470b3b
00470ae7 : PUSH ESI
00470ae8 : CALL 0x00470a70
00470aed : MOV ECX,dword ptr [EBX + 0x8]
00470af0 : MOV EDI,EAX
00470af2 : MOV dword ptr [EBP + -0x4],EDI
00470af5 : TEST ECX,ECX
00470af7 : JBE 0x00470b23
00470af9 : MOV EDX,dword ptr [EBX + 0x4]
00470afc : MOV dword ptr [EBP + 0x8],0x0
00470b03 : MOV ESI,EDX
00470b05 : MOV EDI,EAX
00470b07 : MOV ECX,0xf
00470b0c : MOVSD.REP ES:EDI,ESI
00470b0e : MOV ECX,dword ptr [EBP + 0x8]
00470b11 : INC ECX
00470b12 : ADD EAX,0x3c
00470b15 : ADD EDX,0x3c
00470b18 : MOV dword ptr [EBP + 0x8],ECX
00470b1b : CMP ECX,dword ptr [EBX + 0x8]
00470b1e : JC 0x00470b03
00470b20 : MOV EDI,dword ptr [EBP + -0x4]
00470b23 : MOV ECX,dword ptr [EBX + 0x4]
00470b26 : LEA ESI,[EBP + 0x8]
00470b29 : MOV dword ptr [EBP + 0x8],ECX
00470b2c : CALL 0x00457040
00470b31 : MOV EDX,dword ptr [EBP + 0xc]
00470b34 : MOV dword ptr [EBX + 0x4],EDI
00470b37 : MOV dword ptr [EBX + 0xc],EDX
00470b3a : POP ESI
00470b3b : POP EDI
00470b3c : MOV AL,0x1
00470b3e : POP EBX
00470b3f : MOV ESP,EBP
00470b41 : POP EBP
00470b42 : RET 0x8
