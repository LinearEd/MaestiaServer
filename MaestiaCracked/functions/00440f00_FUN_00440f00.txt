PROGRAM  : Maestia.exe
FUNCTION : FUN_00440f00
ENTRY    : 00440f00
BODY     : [[00440f00, 0044106f] [00441081, 0044115d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00440f00(uint param_1,undefined8 *param_2)

{
  undefined8 *puVar1;
  undefined8 *puVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined4 uVar6;
  uint uVar7;
  uint extraout_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar3 = param_1;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7b2c0;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar4 = *(int *)(param_1 + 4);
  if (iVar4 == 0) {
    uVar7 = 0;
  }
  else {
    uVar7 = (*(int *)(param_1 + 0xc) - iVar4) / 0xc;
  }
  puVar1 = *(undefined8 **)(param_1 + 8);
  iVar4 = ((int)puVar1 - iVar4) / 0xc;
  if (iVar4 == 0x15555555) {
    iVar4 = FUN_00429be0();
    uVar7 = extraout_ECX;
  }
  uVar5 = iVar4 + 1;
  if (uVar7 < uVar5) {
    if (0x15555555 - (uVar7 >> 1) < uVar7) {
      param_1 = 0;
    }
    else {
      param_1 = uVar7 + (uVar7 >> 1);
    }
    if (param_1 < uVar5) {
      param_1 = uVar5;
    }
    iVar4 = FUN_0040dbb0();
    local_8 = 0;
    FUN_004c0630();
    FUN_004c0660(*(undefined4 *)(iVar3 + 4),param_2);
    FUN_004c0660(param_2,*(undefined4 *)(iVar3 + 8));
    local_8 = 0xffffffff;
    if (*(int *)(iVar3 + 4) != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(uint *)(iVar3 + 0xc) = iVar4 + param_1 * 0xc;
    *(int *)(iVar3 + 8) = iVar4 + ((*(int *)(iVar3 + 8) - *(int *)(iVar3 + 4)) / 0xc + 1) * 0xc;
    *(int *)(iVar3 + 4) = iVar4;
    ExceptionList = local_10;
    return;
  }
  iVar4 = (int)puVar1 - (int)param_2 >> 0x1f;
  if (((int)puVar1 - (int)param_2) / 0xc + iVar4 == iVar4) {
    FUN_004c0660(param_2,puVar1);
    local_8 = 2;
    FUN_004c0630();
    local_8 = 0xffffffff;
    *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0xc;
  }
  else {
    uVar6 = FUN_004c0660((undefined8 *)((int)puVar1 + -0xc),puVar1);
    *(undefined4 *)(param_1 + 8) = uVar6;
    puVar2 = (undefined8 *)((int)puVar1 + -0xc);
    while (param_2 != puVar2) {
      *(undefined8 *)((int)puVar1 + -0xc) = *(undefined8 *)((int)puVar2 + -0xc);
      *(undefined4 *)((int)puVar1 + -4) = *(undefined4 *)((int)puVar2 + -4);
      puVar1 = (undefined8 *)((int)puVar1 + -0xc);
      puVar2 = (undefined8 *)((int)puVar2 + -0xc);
    }
  }
  FUN_004cd730(param_2);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00440f00 : PUSH EBP
00440f01 : MOV EBP,ESP
00440f03 : PUSH -0x1
00440f05 : PUSH 0xb7b2c0
00440f0a : MOV EAX,FS:[0x0]
00440f10 : PUSH EAX
00440f11 : SUB ESP,0x20
00440f14 : PUSH EBX
00440f15 : PUSH ESI
00440f16 : PUSH EDI
00440f17 : MOV EAX,[0x00d66fa0]
00440f1c : XOR EAX,EBP
00440f1e : PUSH EAX
00440f1f : LEA EAX,[EBP + -0xc]
00440f22 : MOV FS:[0x0],EAX
00440f28 : MOV dword ptr [EBP + -0x10],ESP
00440f2b : MOV EBX,dword ptr [EBP + 0x8]
00440f2e : MOV ESI,dword ptr [EBX + 0x4]
00440f31 : TEST ESI,ESI
00440f33 : JNZ 0x00440f39
00440f35 : XOR ECX,ECX
00440f37 : JMP 0x00440f50
00440f39 : MOV ECX,dword ptr [EBX + 0xc]
00440f3c : SUB ECX,ESI
00440f3e : MOV EAX,0x2aaaaaab
00440f43 : IMUL ECX
00440f45 : SAR EDX,0x1
00440f47 : MOV EAX,EDX
00440f49 : SHR EAX,0x1f
00440f4c : ADD EAX,EDX
00440f4e : MOV ECX,EAX
00440f50 : MOV EDI,dword ptr [EBX + 0x8]
00440f53 : MOV EDX,EDI
00440f55 : SUB EDX,ESI
00440f57 : MOV EAX,0x2aaaaaab
00440f5c : IMUL EDX
00440f5e : SAR EDX,0x1
00440f60 : MOV EAX,EDX
00440f62 : SHR EAX,0x1f
00440f65 : ADD EAX,EDX
00440f67 : MOV EDX,0x15555555
00440f6c : SUB EDX,EAX
00440f6e : CMP EDX,0x1
00440f71 : JNC 0x00440f78
00440f73 : CALL 0x00429be0
00440f78 : INC EAX
00440f79 : CMP ECX,EAX
00440f7b : JNC 0x00441081
00440f81 : MOV EDX,ECX
00440f83 : SHR EDX,0x1
00440f85 : MOV ESI,0x15555555
00440f8a : SUB ESI,EDX
00440f8c : CMP ESI,ECX
00440f8e : JNC 0x00440f9c
00440f90 : MOV dword ptr [EBP + 0x8],0x0
00440f97 : MOV ECX,dword ptr [EBP + 0x8]
00440f9a : JMP 0x00440fa1
00440f9c : ADD ECX,EDX
00440f9e : MOV dword ptr [EBP + 0x8],ECX
00440fa1 : CMP ECX,EAX
00440fa3 : JNC 0x00440faa
00440fa5 : MOV dword ptr [EBP + 0x8],EAX
00440fa8 : MOV ECX,EAX
00440faa : CALL 0x0040dbb0
00440faf : MOV ESI,EAX
00440fb1 : MOV dword ptr [EBP + -0x18],ESI
00440fb4 : MOV ECX,dword ptr [EBP + 0xc]
00440fb7 : SUB ECX,dword ptr [EBX + 0x4]
00440fba : MOV EAX,0x2aaaaaab
00440fbf : IMUL ECX
00440fc1 : SAR EDX,0x1
00440fc3 : MOV EAX,EDX
00440fc5 : SHR EAX,0x1f
00440fc8 : ADD EAX,EDX
00440fca : MOV dword ptr [EBP + -0x20],EAX
00440fcd : MOV dword ptr [EBP + -0x4],0x0
00440fd4 : LEA EAX,[EAX + EAX*0x2]
00440fd7 : LEA EDI,[ESI + EAX*0x4]
00440fda : MOV EDX,dword ptr [EBP + 0x10]
00440fdd : MOV ESI,0x1
00440fe2 : CALL 0x004c0630
00440fe7 : MOV dword ptr [EBP + -0x1c],ESI
00440fea : MOV ECX,dword ptr [EBP + 0xc]
00440fed : PUSH ECX
00440fee : MOV EDX,dword ptr [EBX + 0x4]
00440ff1 : PUSH EDX
00440ff2 : MOV ESI,dword ptr [EBP + -0x18]
00440ff5 : MOV EDX,ESI
00440ff7 : CALL 0x004c0660
00440ffc : MOV dword ptr [EBP + -0x1c],0x2
00441003 : MOV EAX,dword ptr [EBP + -0x20]
00441006 : LEA EAX,[EAX + EAX*0x2 + 0x3]
0044100a : LEA EDX,[ESI + EAX*0x4]
0044100d : MOV ECX,dword ptr [EBX + 0x8]
00441010 : PUSH ECX
00441011 : MOV EAX,dword ptr [EBP + 0xc]
00441014 : PUSH EAX
00441015 : CALL 0x004c0660
0044101a : MOV dword ptr [EBP + -0x4],0xffffffff
00441021 : MOV ECX,dword ptr [EBX + 0x4]
00441024 : MOV EDX,dword ptr [EBX + 0x8]
00441027 : SUB EDX,ECX
00441029 : MOV EAX,0x2aaaaaab
0044102e : IMUL EDX
00441030 : SAR EDX,0x1
00441032 : MOV EAX,EDX
00441034 : SHR EAX,0x1f
00441037 : LEA EDI,[EDX + EAX*0x1 + 0x1]
0044103b : TEST ECX,ECX
0044103d : JZ 0x00441044
0044103f : CALL 0x006f04e0
00441044 : MOV EAX,dword ptr [EBP + 0x8]
00441047 : LEA ECX,[EAX + EAX*0x2]
0044104a : LEA EDX,[ESI + ECX*0x4]
0044104d : MOV dword ptr [EBX + 0xc],EDX
00441050 : LEA EAX,[EDI + EDI*0x2]
00441053 : LEA ECX,[ESI + EAX*0x4]
00441056 : MOV dword ptr [EBX + 0x8],ECX
00441059 : MOV dword ptr [EBX + 0x4],ESI
0044105c : MOV ECX,dword ptr [EBP + -0xc]
0044105f : MOV dword ptr FS:[0x0],ECX
00441066 : POP ECX
00441067 : POP EDI
00441068 : POP ESI
00441069 : POP EBX
0044106a : MOV ESP,EBP
0044106c : POP EBP
0044106d : RET 0xc
00441081 : MOV ECX,EDI
00441083 : MOV ESI,dword ptr [EBP + 0xc]
00441086 : SUB ECX,ESI
00441088 : MOV EAX,0x2aaaaaab
0044108d : IMUL ECX
0044108f : SAR EDX,0x1
00441091 : MOV EAX,EDX
00441093 : SHR EAX,0x1f
00441096 : ADD EAX,EDX
00441098 : PUSH EDI
00441099 : CMP EAX,0x1
0044109c : MOV EAX,dword ptr [EBP + 0x10]
0044109f : MOVQ XMM0,qword ptr [EAX]
004410a3 : MOVQ qword ptr [EBP + -0x2c],XMM0
004410a8 : JNC 0x004410fd
004410aa : MOV ECX,dword ptr [EAX + 0x8]
004410ad : MOV dword ptr [EBP + -0x24],ECX
004410b0 : LEA EDX,[ESI + 0xc]
004410b3 : PUSH ESI
004410b4 : CALL 0x004c0660
004410b9 : MOV dword ptr [EBP + -0x4],0x2
004410c0 : MOV EDI,dword ptr [EBX + 0x8]
004410c3 : MOV ECX,EDI
004410c5 : SUB ECX,dword ptr [EBP + 0xc]
004410c8 : MOV EAX,0x2aaaaaab
004410cd : IMUL ECX
004410cf : SAR EDX,0x1
004410d1 : MOV EAX,EDX
004410d3 : SHR EAX,0x1f
004410d6 : ADD EAX,EDX
004410d8 : MOV ESI,0x1
004410dd : SUB ESI,EAX
004410df : LEA EDX,[EBP + -0x2c]
004410e2 : CALL 0x004c0630
004410e7 : MOV dword ptr [EBP + -0x4],0xffffffff
004410ee : ADD dword ptr [EBX + 0x8],0xc
004410f2 : MOV EBX,dword ptr [EBX + 0x8]
004410f5 : LEA EDX,[EBX + -0xc]
004410f8 : MOV ECX,dword ptr [EBP + 0xc]
004410fb : JMP 0x0044113e
004410fd : MOV EDX,dword ptr [EAX + 0x8]
00441100 : MOV dword ptr [EBP + -0x24],EDX
00441103 : LEA ESI,[EDI + -0xc]
00441106 : PUSH ESI
00441107 : MOV EDX,EDI
00441109 : CALL 0x004c0660
0044110e : MOV dword ptr [EBX + 0x8],EAX
00441111 : MOV EAX,ESI
00441113 : MOV ECX,dword ptr [EBP + 0xc]
00441116 : MOV EDX,ECX
00441118 : CMP ECX,EAX
0044111a : JZ 0x0044113b
0044111c : LEA ECX,[EAX + 0xc]
0044111f : NOP
00441120 : SUB EAX,0xc
00441123 : SUB ECX,0xc
00441126 : MOVQ XMM0,qword ptr [EAX]
0044112a : MOVQ qword ptr [ECX],XMM0
0044112e : MOV ESI,dword ptr [EAX + 0x8]
00441131 : MOV dword ptr [ECX + 0x8],ESI
00441134 : CMP EAX,EDX
00441136 : JNZ 0x00441120
00441138 : MOV ECX,dword ptr [EBP + 0xc]
0044113b : LEA EDX,[ECX + 0xc]
0044113e : PUSH ECX
0044113f : LEA ECX,[EBP + -0x2c]
00441142 : CALL 0x004cd730
00441147 : ADD ESP,0x4
0044114a : MOV ECX,dword ptr [EBP + -0xc]
0044114d : MOV dword ptr FS:[0x0],ECX
00441154 : POP ECX
00441155 : POP EDI
00441156 : POP ESI
00441157 : POP EBX
00441158 : MOV ESP,EBP
0044115a : POP EBP
0044115b : RET 0xc
