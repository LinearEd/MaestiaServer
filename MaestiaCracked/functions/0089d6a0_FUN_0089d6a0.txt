PROGRAM  : Maestia.exe
FUNCTION : FUN_0089d6a0
ENTRY    : 0089d6a0
BODY     : [[0089d6a0, 0089d91a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0089d6a0(float *param_1)

{
  float fVar1;
  char cVar2;
  int iVar3;
  DWORD DVar4;
  int *in_ECX;
  int iVar5;
  float fVar6;
  uint local_18;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b68601;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  cVar2 = (**(code **)(*in_ECX + 0x200))();
  iVar5 = DAT_00da93ec;
  if ((cVar2 == '\0') && (iVar3 = in_ECX[0xfa], iVar3 != 0)) {
    in_ECX[0x591] = *(int *)(iVar3 + 0x68);
    in_ECX[0x592] = *(int *)(iVar3 + 0x6c);
    in_ECX[0x593] = *(int *)(iVar3 + 0x70);
    if ((iVar5 != 0) && (iVar3 = FUN_00a1a620(), iVar5 = DAT_00da93ec, iVar3 == 0)) {
      FUN_00a40ee0();
      iVar5 = DAT_00da93ec;
    }
    *(undefined1 *)((int)in_ECX + 0x1666) = 0;
    if (*(float *)(iVar5 + 0x460) == 0.0) {
      in_ECX[0x55c] = 0;
    }
    iVar3 = FUN_004049b0();
    if ((iVar3 != 0) && ((*(uint *)(iVar3 + 0x4c) & 0x100) != 0)) {
      in_ECX[0x55c] = 0;
    }
    fVar6 = (float)in_ECX[0x55c] * *(float *)(iVar5 + 0x460) * 0.7;
    in_ECX[0x594] = (int)fVar6;
    in_ECX[0x595] = (int)fVar6;
    (**(code **)(*(int *)in_ECX[0xfa] + 0x9c))();
    FUN_00406460();
    local_8 = 0;
    FUN_00406460(&DAT_00c47f2c);
    local_8 = local_8 & 0xffffff00;
    FUN_00a6d930(in_ECX[0xe3],1,*(undefined4 *)(in_ECX[0xfa] + 0x288),0);
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    if (in_ECX[0xfa] != 0) {
      FUN_007d48a0();
    }
    *(undefined1 *)(in_ECX + 0x59a) = 0;
    fVar6 = param_1[1];
    fVar1 = param_1[2];
    in_ECX[0x58e] = (int)((float)in_ECX[0x591] - *param_1);
    in_ECX[0x58f] = (int)((float)in_ECX[0x592] - fVar6);
    in_ECX[0x590] = (int)((float)in_ECX[0x593] - fVar1);
    D3DXVec3Normalize();
    in_ECX[0x58f] = 0;
    (**(code **)(*(int *)(*(int *)(in_ECX[0x4e] + 4) + 0x138 + (int)in_ECX) + 0x10))();
    DVar4 = timeGetTime();
    in_ECX[0x59c] = DVar4;
    DVar4 = timeGetTime();
    in_ECX[0x596] = in_ECX[0x592];
    iVar5 = DAT_00da93ec;
    in_ECX[0x59b] = DVar4;
    in_ECX[0x597] = 0x3d4ccccd;
    in_ECX[0x598] = *(int *)(iVar5 + 0x45c);
    *(undefined1 *)((int)in_ECX + 0x1667) = 1;
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0089d6a0 : PUSH EBP
0089d6a1 : MOV EBP,ESP
0089d6a3 : PUSH -0x1
0089d6a5 : PUSH 0xb68601
0089d6aa : MOV EAX,FS:[0x0]
0089d6b0 : PUSH EAX
0089d6b1 : SUB ESP,0x20
0089d6b4 : PUSH EBX
0089d6b5 : PUSH ESI
0089d6b6 : PUSH EDI
0089d6b7 : MOV EAX,[0x00d66fa0]
0089d6bc : XOR EAX,EBP
0089d6be : PUSH EAX
0089d6bf : LEA EAX,[EBP + -0xc]
0089d6c2 : MOV FS:[0x0],EAX
0089d6c8 : MOV ESI,ECX
0089d6ca : MOV EAX,dword ptr [ESI]
0089d6cc : MOV EDX,dword ptr [EAX + 0x200]
0089d6d2 : CALL EDX
0089d6d4 : TEST AL,AL
0089d6d6 : JNZ 0x0089d907
0089d6dc : MOV EAX,dword ptr [ESI + 0x3e8]
0089d6e2 : XOR EBX,EBX
0089d6e4 : CMP EAX,EBX
0089d6e6 : JZ 0x0089d907
0089d6ec : FLD float ptr [EAX + 0x68]
0089d6ef : MOV EDI,dword ptr [0x00da93ec]
0089d6f5 : FSTP float ptr [ESI + 0x1644]
0089d6fb : FLD float ptr [EAX + 0x6c]
0089d6fe : FSTP float ptr [ESI + 0x1648]
0089d704 : FLD float ptr [EAX + 0x70]
0089d707 : FSTP float ptr [ESI + 0x164c]
0089d70d : CMP EDI,EBX
0089d70f : JZ 0x0089d735
0089d711 : MOV EAX,dword ptr [ESI + 0x4]
0089d714 : PUSH EAX
0089d715 : MOV ECX,EDI
0089d717 : CALL 0x00a1a620
0089d71c : CMP EAX,EBX
0089d71e : JNZ 0x0089d72f
0089d720 : MOV EAX,dword ptr [ESI + 0x4]
0089d723 : PUSH EAX
0089d724 : MOV EAX,[0x00da93ec]
0089d729 : PUSH EAX
0089d72a : CALL 0x00a40ee0
0089d72f : MOV EDI,dword ptr [0x00da93ec]
0089d735 : XORPS XMM1,XMM1
0089d738 : MOV byte ptr [ESI + 0x1666],BL
0089d73e : MOVSS XMM0,dword ptr [EDI + 0x460]
0089d746 : UCOMISS XMM0,XMM1
0089d749 : LAHF
0089d74a : TEST AH,0x44
0089d74d : JP 0x0089d757
0089d74f : MOVSS dword ptr [ESI + 0x1570],XMM1
0089d757 : MOV EAX,dword ptr [ESI + 0x8]
0089d75a : PUSH EAX
0089d75b : CALL 0x004049b0
0089d760 : ADD ESP,0x4
0089d763 : CMP EAX,EBX
0089d765 : JZ 0x0089d77b
0089d767 : TEST dword ptr [EAX + 0x4c],0x100
0089d76e : JZ 0x0089d77b
0089d770 : XORPS XMM0,XMM0
0089d773 : MOVSS dword ptr [ESI + 0x1570],XMM0
0089d77b : MOVSS XMM1,dword ptr [EDI + 0x460]
0089d783 : MOVSS XMM0,dword ptr [ESI + 0x1570]
0089d78b : MOV ECX,dword ptr [ESI + 0x3e8]
0089d791 : MULSS XMM0,XMM1
0089d795 : MULSS XMM0,dword ptr [0x00cdf190]
0089d79d : MOVSS dword ptr [ESI + 0x1650],XMM0
0089d7a5 : MOVSS dword ptr [ESI + 0x1654],XMM0
0089d7ad : MOV EDX,dword ptr [ECX]
0089d7af : MOV EAX,dword ptr [EDX + 0x9c]
0089d7b5 : PUSH 0xa
0089d7b7 : CALL EAX
0089d7b9 : PUSH 0xc47f30
0089d7be : LEA ECX,[EBP + -0x2c]
0089d7c1 : CALL 0x00406460
0089d7c6 : MOV dword ptr [EBP + -0x4],EBX
0089d7c9 : PUSH EBX
0089d7ca : SUB ESP,0x1c
0089d7cd : MOV ECX,ESP
0089d7cf : MOV dword ptr [EBP + -0x10],ESP
0089d7d2 : PUSH 0xc47f2c
0089d7d7 : CALL 0x00406460
0089d7dc : MOV byte ptr [EBP + -0x4],0x1
0089d7e0 : MOV ECX,dword ptr [ESI + 0x3e8]
0089d7e6 : MOV EAX,dword ptr [ECX + 0x288]
0089d7ec : MOV EDX,dword ptr [ESI + 0x38c]
0089d7f2 : PUSH EBX
0089d7f3 : PUSH EAX
0089d7f4 : PUSH 0x1
0089d7f6 : PUSH EDX
0089d7f7 : MOV byte ptr [EBP + -0x4],BL
0089d7fa : MOV EDX,dword ptr [ESI + 0x3e8]
0089d800 : LEA ECX,[EBP + -0x2c]
0089d803 : CALL 0x00a6d930
0089d808 : MOV dword ptr [EBP + -0x4],0xffffffff
0089d80f : CMP dword ptr [EBP + -0x14],0x8
0089d813 : JC 0x0089d81d
0089d815 : MOV ECX,dword ptr [EBP + -0x28]
0089d818 : CALL 0x006f04e0
0089d81d : MOV ECX,dword ptr [ESI + 0x3e8]
0089d823 : XOR EAX,EAX
0089d825 : MOV dword ptr [EBP + -0x14],0x7
0089d82c : MOV dword ptr [EBP + -0x18],EBX
0089d82f : MOV word ptr [EBP + -0x28],AX
0089d833 : CMP ECX,EBX
0089d835 : JZ 0x0089d83e
0089d837 : PUSH EBX
0089d838 : PUSH EBX
0089d839 : CALL 0x007d48a0
0089d83e : MOV EAX,dword ptr [EBP + 0x8]
0089d841 : MOV byte ptr [ESI + 0x1668],BL
0089d847 : MOVSS XMM0,dword ptr [ESI + 0x1644]
0089d84f : MOVSS XMM1,dword ptr [ESI + 0x1648]
0089d857 : MOVSS XMM2,dword ptr [ESI + 0x164c]
0089d85f : SUBSS XMM0,dword ptr [EAX]
0089d863 : SUBSS XMM1,dword ptr [EAX + 0x4]
0089d868 : SUBSS XMM2,dword ptr [EAX + 0x8]
0089d86d : LEA EAX,[ESI + 0x1638]
0089d873 : PUSH EAX
0089d874 : PUSH EAX
0089d875 : MOVSS dword ptr [EAX],XMM0
0089d879 : MOVSS dword ptr [EAX + 0x4],XMM1
0089d87e : MOVSS dword ptr [EAX + 0x8],XMM2
0089d883 : CALL 0x004ff722
0089d888 : MOV ECX,dword ptr [ESI + 0x138]
0089d88e : XORPS XMM0,XMM0
0089d891 : MOVSS dword ptr [ESI + 0x163c],XMM0
0089d899 : MOV EDX,dword ptr [ECX + 0x4]
0089d89c : MOV EAX,dword ptr [EDX + ESI*0x1 + 0x138]
0089d8a3 : MOV EAX,dword ptr [EAX + 0x10]
0089d8a6 : PUSH 0x1
0089d8a8 : LEA ECX,[EDX + ESI*0x1 + 0x138]
0089d8af : PUSH 0x1
0089d8b1 : PUSH 0x1
0089d8b3 : LEA EDX,[ESI + 0x1238]
0089d8b9 : PUSH EDX
0089d8ba : CALL EAX
0089d8bc : MOV EDI,dword ptr [0x00b85598]
0089d8c2 : CALL EDI
0089d8c4 : MOV dword ptr [ESI + 0x1670],EAX
0089d8ca : CALL EDI
0089d8cc : FLD float ptr [ESI + 0x1648]
0089d8d2 : MOVSS XMM0,dword ptr [0x00cdf0f4]
0089d8da : FSTP float ptr [ESI + 0x1658]
0089d8e0 : MOV ECX,dword ptr [0x00da93ec]
0089d8e6 : MOV dword ptr [ESI + 0x166c],EAX
0089d8ec : MOVSS dword ptr [ESI + 0x165c],XMM0
0089d8f4 : FLD float ptr [ECX + 0x45c]
0089d8fa : FSTP float ptr [ESI + 0x1660]
0089d900 : MOV byte ptr [ESI + 0x1667],0x1
0089d907 : MOV ECX,dword ptr [EBP + -0xc]
0089d90a : MOV dword ptr FS:[0x0],ECX
0089d911 : POP ECX
0089d912 : POP EDI
0089d913 : POP ESI
0089d914 : POP EBX
0089d915 : MOV ESP,EBP
0089d917 : POP EBP
0089d918 : RET 0x8
