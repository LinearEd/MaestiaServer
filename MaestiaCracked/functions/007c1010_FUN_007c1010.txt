PROGRAM  : Maestia.exe
FUNCTION : FUN_007c1010
ENTRY    : 007c1010
BODY     : [[007c1010, 007c10ca] [007c10d5, 007c1194]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007c1010(void)

{
  uint uVar1;
  undefined4 *in_ECX;
  int *piVar2;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b39e66;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *in_ECX = &PTR_FUN_00cd4e44;
  local_8 = 7;
  FUN_00401c00(*(undefined4 *)(in_ECX[0x43] + 4));
  *(undefined4 *)(in_ECX[0x43] + 4) = in_ECX[0x43];
  in_ECX[0x44] = 0;
  *(undefined4 *)in_ECX[0x43] = in_ECX[0x43];
  *(undefined4 *)(in_ECX[0x43] + 8) = in_ECX[0x43];
  FUN_007c05e0(in_ECX);
  piVar2 = in_ECX + 0x66;
  local_14 = 6;
  do {
    if ((undefined4 *)*piVar2 != (undefined4 *)0x0) {
      (*(code *)**(undefined4 **)*piVar2)(1,uVar1);
      *piVar2 = 0;
    }
    piVar2 = piVar2 + 1;
    local_14 = local_14 + -1;
  } while (local_14 != 0);
  FUN_00802440();
  if (in_ECX[0x9c] != 0) {
    FUN_00782a20(in_ECX[0x9c]);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_8 = CONCAT31(local_8._1_3_,6);
  if (7 < (uint)in_ECX[0x7e]) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  in_ECX[0x7e] = 7;
  in_ECX[0x7d] = 0;
  *(undefined2 *)(in_ECX + 0x79) = 0;
  local_8._0_1_ = 5;
  FUN_00463de0(in_ECX + 0x4c);
  local_8._0_1_ = 4;
  FUN_0047a120(in_ECX + 0x45);
  local_8._0_1_ = 3;
  FUN_0047a120(in_ECX + 0x42);
  local_8._0_1_ = 2;
  FUN_0047a120(in_ECX + 0x3e);
  local_8 = CONCAT31(local_8._1_3_,1);
  in_ECX[0x37] = &PTR_FUN_00cdec94;
  DeleteCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0x38));
  DAT_01725204 = 0;
  *in_ECX = &PTR_FUN_00cd7c88;
  local_8 = 0xffffffff;
  FUN_00802a10();
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007c1010 : PUSH EBP
007c1011 : MOV EBP,ESP
007c1013 : PUSH -0x1
007c1015 : PUSH 0xb39e66
007c101a : MOV EAX,FS:[0x0]
007c1020 : PUSH EAX
007c1021 : SUB ESP,0x8
007c1024 : PUSH EBX
007c1025 : PUSH ESI
007c1026 : PUSH EDI
007c1027 : MOV EAX,[0x00d66fa0]
007c102c : XOR EAX,EBP
007c102e : PUSH EAX
007c102f : LEA EAX,[EBP + -0xc]
007c1032 : MOV FS:[0x0],EAX
007c1038 : MOV ESI,ECX
007c103a : MOV dword ptr [EBP + -0x14],ESI
007c103d : MOV dword ptr [ESI],0xcd4e44
007c1043 : MOV dword ptr [EBP + -0x4],0x7
007c104a : MOV EAX,dword ptr [ESI + 0x10c]
007c1050 : MOV ECX,dword ptr [EAX + 0x4]
007c1053 : LEA EDI,[ESI + 0x108]
007c1059 : PUSH ECX
007c105a : MOV ECX,EDI
007c105c : CALL 0x00401c00
007c1061 : MOV EAX,dword ptr [EDI + 0x4]
007c1064 : MOV dword ptr [EAX + 0x4],EAX
007c1067 : MOV EAX,dword ptr [EDI + 0x4]
007c106a : MOV dword ptr [EDI + 0x8],0x0
007c1071 : MOV dword ptr [EAX],EAX
007c1073 : MOV EAX,dword ptr [EDI + 0x4]
007c1076 : PUSH ESI
007c1077 : MOV dword ptr [EAX + 0x8],EAX
007c107a : CALL 0x007c05e0
007c107f : LEA EBX,[ESI + 0x198]
007c1085 : MOV dword ptr [EBP + -0x10],0x6
007c108c : LEA ESP,[ESP]
007c1090 : MOV ECX,dword ptr [EBX]
007c1092 : TEST ECX,ECX
007c1094 : JZ 0x007c10a4
007c1096 : MOV EDX,dword ptr [ECX]
007c1098 : MOV EAX,dword ptr [EDX]
007c109a : PUSH 0x1
007c109c : CALL EAX
007c109e : MOV dword ptr [EBX],0x0
007c10a4 : ADD EBX,0x4
007c10a7 : SUB dword ptr [EBP + -0x10],0x1
007c10ab : JNZ 0x007c1090
007c10ad : MOV ECX,ESI
007c10af : CALL 0x00802440
007c10b4 : MOV EBX,dword ptr [ESI + 0x270]
007c10ba : TEST EBX,EBX
007c10bc : JZ 0x007c10d5
007c10be : PUSH EBX
007c10bf : CALL 0x00782a20
007c10c4 : MOV ECX,EBX
007c10c6 : CALL 0x006f04e0
007c10d5 : MOV byte ptr [EBP + -0x4],0x6
007c10d9 : CMP dword ptr [ESI + 0x1f8],0x8
007c10e0 : JC 0x007c10ed
007c10e2 : MOV ECX,dword ptr [ESI + 0x1e4]
007c10e8 : CALL 0x006f04e0
007c10ed : MOV dword ptr [ESI + 0x1f8],0x7
007c10f7 : MOV dword ptr [ESI + 0x1f4],0x0
007c1101 : XOR ECX,ECX
007c1103 : MOV word ptr [ESI + 0x1e4],CX
007c110a : MOV byte ptr [EBP + -0x4],0x5
007c110e : LEA EDX,[ESI + 0x130]
007c1114 : PUSH EDX
007c1115 : CALL 0x00463de0
007c111a : MOV byte ptr [EBP + -0x4],0x4
007c111e : LEA EAX,[ESI + 0x114]
007c1124 : PUSH EAX
007c1125 : CALL 0x0047a120
007c112a : MOV byte ptr [EBP + -0x4],0x3
007c112e : PUSH EDI
007c112f : CALL 0x0047a120
007c1134 : MOV byte ptr [EBP + -0x4],0x2
007c1138 : LEA ECX,[ESI + 0xf8]
007c113e : PUSH ECX
007c113f : CALL 0x0047a120
007c1144 : MOV byte ptr [EBP + -0x4],0x1
007c1148 : LEA EDX,[ESI + 0xe0]
007c114e : PUSH EDX
007c114f : MOV dword ptr [ESI + 0xdc],0xcdec94
007c1159 : CALL dword ptr [0x00b850fc]
007c115f : MOV byte ptr [EBP + -0x4],0x0
007c1163 : OR EAX,0xffffffff
007c1166 : MOV dword ptr [0x01725204],0x0
007c1170 : MOV dword ptr [EBP + -0x4],EAX
007c1173 : MOV dword ptr [ESI],0xcd7c88
007c1179 : MOV dword ptr [EBP + -0x4],EAX
007c117c : MOV ECX,ESI
007c117e : CALL 0x00802a10
007c1183 : MOV ECX,dword ptr [EBP + -0xc]
007c1186 : MOV dword ptr FS:[0x0],ECX
007c118d : POP ECX
007c118e : POP EDI
007c118f : POP ESI
007c1190 : POP EBX
007c1191 : MOV ESP,EBP
007c1193 : POP EBP
007c1194 : RET
