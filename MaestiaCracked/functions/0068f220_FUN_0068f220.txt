PROGRAM  : Maestia.exe
FUNCTION : FUN_0068f220
ENTRY    : 0068f220
BODY     : [[0068f220, 0068f382]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0068f220(undefined4 param_1,int param_2,int param_3)

{
  int in_EAX;
  int iVar1;
  int iVar2;
  int iVar3;
  int in_EDX;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int unaff_ESI;
  int iVar8;
  int local_18;
  int local_14;
  int local_10;
  
  iVar8 = in_EDX >> 8;
  iVar7 = in_EAX - in_EDX;
  iVar4 = in_EDX + iVar8 * -0x100;
  iVar6 = in_EAX >> 8;
  iVar1 = in_EAX + iVar6 * -0x100;
  if (param_2 == param_3) {
    FUN_0068f160();
    return;
  }
  iVar5 = param_3 - param_2;
  if (iVar8 != iVar6) {
    local_10 = 0x100;
    local_14 = 1;
    iVar3 = 0x100 - iVar4;
    if (iVar7 < 0) {
      local_10 = 0;
      local_14 = -1;
      iVar7 = -iVar7;
      iVar3 = iVar4;
    }
    iVar2 = (iVar3 * iVar5) / iVar7;
    local_18 = (iVar3 * iVar5) % iVar7;
    if (local_18 < 0) {
      iVar2 = iVar2 + -1;
      local_18 = local_18 + iVar7;
    }
    iVar8 = iVar8 + local_14;
    *(int *)(unaff_ESI + 0x24) = *(int *)(unaff_ESI + 0x24) + iVar2;
    *(int *)(unaff_ESI + 0x20) = *(int *)(unaff_ESI + 0x20) + (local_10 + iVar4) * iVar2;
    FUN_0068f160();
    param_2 = param_2 + iVar2;
    if (iVar8 != iVar6) {
      iVar5 = ((iVar2 - param_2) + param_3) * 0x100;
      iVar4 = iVar5 / iVar7;
      iVar5 = iVar5 % iVar7;
      if (iVar5 < 0) {
        iVar4 = iVar4 + -1;
        iVar5 = iVar5 + iVar7;
      }
      local_18 = local_18 - iVar7;
      do {
        local_18 = local_18 + iVar5;
        iVar3 = iVar4;
        if (-1 < local_18) {
          local_18 = local_18 - iVar7;
          iVar3 = iVar4 + 1;
        }
        iVar8 = iVar8 + local_14;
        *(int *)(unaff_ESI + 0x24) = *(int *)(unaff_ESI + 0x24) + iVar3;
        param_2 = param_2 + iVar3;
        *(int *)(unaff_ESI + 0x20) = *(int *)(unaff_ESI + 0x20) + iVar3 * 0x100;
        FUN_0068f160();
      } while (iVar8 != iVar6);
    }
    *(int *)(unaff_ESI + 0x20) =
         *(int *)(unaff_ESI + 0x20) + ((iVar1 - local_10) + 0x100) * (param_3 - param_2);
    *(int *)(unaff_ESI + 0x24) = *(int *)(unaff_ESI + 0x24) + (param_3 - param_2);
    return;
  }
  *(int *)(unaff_ESI + 0x20) = *(int *)(unaff_ESI + 0x20) + (iVar1 + iVar4) * iVar5;
  *(int *)(unaff_ESI + 0x24) = *(int *)(unaff_ESI + 0x24) + iVar5;
  return;
}



============================================================
DISASSEMBLY
============================================================
0068f220 : SUB ESP,0x18
0068f223 : PUSH EBX
0068f224 : PUSH EBP
0068f225 : PUSH EDI
0068f226 : MOV EDI,EDX
0068f228 : SAR EDI,0x8
0068f22b : MOV EBP,EAX
0068f22d : SUB EBP,EDX
0068f22f : MOV ECX,EDI
0068f231 : SHL ECX,0x8
0068f234 : SUB EDX,ECX
0068f236 : MOV EBX,EAX
0068f238 : SAR EBX,0x8
0068f23b : MOV ECX,EDX
0068f23d : MOV EDX,EBX
0068f23f : SHL EDX,0x8
0068f242 : SUB EAX,EDX
0068f244 : MOV EDX,dword ptr [ESP + 0x30]
0068f248 : MOV dword ptr [ESP + 0x20],EAX
0068f24c : MOV EAX,dword ptr [ESP + 0x2c]
0068f250 : MOV dword ptr [ESP + 0x1c],EBX
0068f254 : CMP EAX,EDX
0068f256 : JNZ 0x0068f26b
0068f258 : MOV EAX,dword ptr [ESP + 0x28]
0068f25c : POP EDI
0068f25d : POP EBP
0068f25e : MOV ECX,EBX
0068f260 : MOV EDX,ESI
0068f262 : POP EBX
0068f263 : ADD ESP,0x18
0068f266 : JMP 0x0068f160
0068f26b : SUB EDX,EAX
0068f26d : CMP EDI,EBX
0068f26f : JNZ 0x0068f287
0068f271 : MOV EAX,dword ptr [ESP + 0x20]
0068f275 : ADD EAX,ECX
0068f277 : IMUL EAX,EDX
0068f27a : ADD dword ptr [ESI + 0x20],EAX
0068f27d : ADD dword ptr [ESI + 0x24],EDX
0068f280 : POP EDI
0068f281 : POP EBP
0068f282 : POP EBX
0068f283 : ADD ESP,0x18
0068f286 : RET
0068f287 : MOV EAX,0x100
0068f28c : SUB EAX,ECX
0068f28e : IMUL EAX,EDX
0068f291 : MOV dword ptr [ESP + 0x14],0x100
0068f299 : MOV dword ptr [ESP + 0x10],0x1
0068f2a1 : TEST EBP,EBP
0068f2a3 : JGE 0x0068f2bc
0068f2a5 : IMUL EDX,ECX
0068f2a8 : MOV EAX,EDX
0068f2aa : MOV dword ptr [ESP + 0x14],0x0
0068f2b2 : MOV dword ptr [ESP + 0x10],0xffffffff
0068f2ba : NEG EBP
0068f2bc : CDQ
0068f2bd : IDIV EBP
0068f2bf : MOV EBX,EAX
0068f2c1 : MOV EAX,EDX
0068f2c3 : MOV dword ptr [ESP + 0xc],EDX
0068f2c7 : TEST EAX,EAX
0068f2c9 : JGE 0x0068f2d2
0068f2cb : DEC EBX
0068f2cc : ADD EAX,EBP
0068f2ce : MOV dword ptr [ESP + 0xc],EAX
0068f2d2 : MOV EDX,dword ptr [ESP + 0x14]
0068f2d6 : ADD EDI,dword ptr [ESP + 0x10]
0068f2da : MOV EAX,dword ptr [ESP + 0x28]
0068f2de : ADD dword ptr [ESI + 0x24],EBX
0068f2e1 : ADD EDX,ECX
0068f2e3 : IMUL EDX,EBX
0068f2e6 : ADD dword ptr [ESI + 0x20],EDX
0068f2e9 : MOV ECX,EDI
0068f2eb : MOV EDX,ESI
0068f2ed : CALL 0x0068f160
0068f2f2 : ADD dword ptr [ESP + 0x2c],EBX
0068f2f6 : CMP EDI,dword ptr [ESP + 0x1c]
0068f2fa : JZ 0x0068f35e
0068f2fc : SUB EBX,dword ptr [ESP + 0x2c]
0068f300 : ADD EBX,dword ptr [ESP + 0x30]
0068f304 : SHL EBX,0x8
0068f307 : MOV EAX,EBX
0068f309 : CDQ
0068f30a : IDIV EBP
0068f30c : MOV ECX,EDX
0068f30e : MOV EBX,EAX
0068f310 : MOV dword ptr [ESP + 0x18],EDX
0068f314 : TEST ECX,ECX
0068f316 : JGE 0x0068f31f
0068f318 : DEC EBX
0068f319 : ADD ECX,EBP
0068f31b : MOV dword ptr [ESP + 0x18],ECX
0068f31f : SUB dword ptr [ESP + 0xc],EBP
0068f323 : JMP 0x0068f329
0068f325 : MOV ECX,dword ptr [ESP + 0x18]
0068f329 : ADD dword ptr [ESP + 0xc],ECX
0068f32d : MOV EAX,EBX
0068f32f : JS 0x0068f338
0068f331 : SUB dword ptr [ESP + 0xc],EBP
0068f335 : LEA EAX,[EBX + 0x1]
0068f338 : ADD EDI,dword ptr [ESP + 0x10]
0068f33c : ADD dword ptr [ESI + 0x24],EAX
0068f33f : ADD dword ptr [ESP + 0x2c],EAX
0068f343 : MOV ECX,EAX
0068f345 : MOV EAX,dword ptr [ESP + 0x28]
0068f349 : SHL ECX,0x8
0068f34c : ADD dword ptr [ESI + 0x20],ECX
0068f34f : MOV ECX,EDI
0068f351 : MOV EDX,ESI
0068f353 : CALL 0x0068f160
0068f358 : CMP EDI,dword ptr [ESP + 0x1c]
0068f35c : JNZ 0x0068f325
0068f35e : MOV EAX,dword ptr [ESP + 0x20]
0068f362 : SUB EAX,dword ptr [ESP + 0x14]
0068f366 : MOV ECX,dword ptr [ESP + 0x30]
0068f36a : SUB ECX,dword ptr [ESP + 0x2c]
0068f36e : ADD EAX,0x100
0068f373 : IMUL EAX,ECX
0068f376 : ADD dword ptr [ESI + 0x20],EAX
0068f379 : ADD dword ptr [ESI + 0x24],ECX
0068f37c : POP EDI
0068f37d : POP EBP
0068f37e : POP EBX
0068f37f : ADD ESP,0x18
0068f382 : RET
