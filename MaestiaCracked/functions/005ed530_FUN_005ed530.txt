PROGRAM  : Maestia.exe
FUNCTION : FUN_005ed530
ENTRY    : 005ed530
BODY     : [[005ed530, 005ed63d]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_005ed530(int param_1,undefined4 param_2,undefined4 param_3)

{
  char cVar1;
  int iVar2;
  int iVar3;
  int in_ECX;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  bool bVar8;
  int local_c;
  int local_8;
  int local_4;
  
  local_8 = FUN_0051aa70(&param_2);
  local_c = (*(uint *)(in_ECX + 0xc) & 0xfffffffc) + 8;
  iVar6 = 0;
  iVar2 = FUN_0051aa70(&local_c);
  if (iVar2 != 0) {
    cVar1 = (char)param_3;
    do {
      if (iVar6 < param_1) {
LAB_005ed580:
        if (iVar2 == 10) {
          iVar6 = iVar6 + -1;
        }
      }
      else {
        if (cVar1 == '\0') {
          iVar7 = iVar2 + -0x20;
          if (0x19 < iVar2 - 0x61U) {
            iVar7 = iVar2;
          }
          iVar3 = FUN_00528be0(local_8);
          if (iVar7 != iVar3) goto LAB_005ed580;
        }
        else if (iVar2 != local_8) goto LAB_005ed580;
        local_4 = local_c;
        param_3 = param_2;
        do {
          iVar7 = -1;
          iVar2 = FUN_0051aa70(&param_3);
          do {
            iVar3 = FUN_0051aa70(&local_4);
            iVar7 = iVar7 + 1;
          } while (iVar3 == 10);
          if (iVar3 == 0) break;
          if (iVar2 == 0) {
            return iVar6;
          }
          if (cVar1 == '\0') {
            iVar5 = iVar3 + -0x20;
            if (0x19 < iVar3 - 0x61U) {
              iVar5 = iVar3;
            }
            iVar4 = iVar2 + -0x20;
            if (0x19 < iVar2 - 0x61U) {
              iVar4 = iVar2;
            }
            bVar8 = iVar5 == iVar4;
          }
          else {
            bVar8 = iVar3 == iVar2;
          }
        } while (bVar8);
        if (iVar2 == 0) {
          return iVar6;
        }
        if (iVar3 == 0) {
          return -1;
        }
        iVar6 = iVar6 - iVar7;
      }
      iVar6 = iVar6 + 1;
      iVar2 = FUN_0051aa70(&local_c);
    } while (iVar2 != 0);
  }
  return -1;
}



============================================================
DISASSEMBLY
============================================================
005ed530 : SUB ESP,0xc
005ed533 : PUSH EBX
005ed534 : PUSH EBP
005ed535 : PUSH ESI
005ed536 : PUSH EDI
005ed537 : LEA EAX,[ESP + 0x24]
005ed53b : PUSH EAX
005ed53c : MOV ESI,ECX
005ed53e : CALL 0x0051aa70
005ed543 : MOV ECX,dword ptr [ESI + 0xc]
005ed546 : AND ECX,0xfffffffc
005ed549 : LEA EDX,[ESP + 0x10]
005ed54d : ADD ECX,0x8
005ed550 : PUSH EDX
005ed551 : MOV dword ptr [ESP + 0x18],EAX
005ed555 : MOV dword ptr [ESP + 0x14],ECX
005ed559 : XOR EBP,EBP
005ed55b : CALL 0x0051aa70
005ed560 : MOV ESI,EAX
005ed562 : TEST ESI,ESI
005ed564 : JZ 0x005ed597
005ed566 : MOV BL,byte ptr [ESP + 0x28]
005ed56a : LEA EBX,[EBX]
005ed570 : CMP EBP,dword ptr [ESP + 0x20]
005ed574 : JL 0x005ed580
005ed576 : TEST BL,BL
005ed578 : JZ 0x005ed5a4
005ed57a : CMP ESI,dword ptr [ESP + 0x14]
005ed57e : JZ 0x005ed5c2
005ed580 : CMP ESI,0xa
005ed583 : JNZ 0x005ed586
005ed585 : DEC EBP
005ed586 : LEA EDX,[ESP + 0x10]
005ed58a : PUSH EDX
005ed58b : INC EBP
005ed58c : CALL 0x0051aa70
005ed591 : MOV ESI,EAX
005ed593 : TEST ESI,ESI
005ed595 : JNZ 0x005ed570
005ed597 : POP EDI
005ed598 : POP ESI
005ed599 : POP EBP
005ed59a : OR EAX,0xffffffff
005ed59d : POP EBX
005ed59e : ADD ESP,0xc
005ed5a1 : RET 0xc
005ed5a4 : LEA EAX,[ESI + -0x61]
005ed5a7 : LEA EDI,[ESI + -0x20]
005ed5aa : CMP EAX,0x19
005ed5ad : JBE 0x005ed5b1
005ed5af : MOV EDI,ESI
005ed5b1 : MOV ECX,dword ptr [ESP + 0x14]
005ed5b5 : PUSH ECX
005ed5b6 : CALL 0x00528be0
005ed5bb : ADD ESP,0x4
005ed5be : CMP EDI,EAX
005ed5c0 : JNZ 0x005ed580
005ed5c2 : MOV EDX,dword ptr [ESP + 0x10]
005ed5c6 : MOV EAX,dword ptr [ESP + 0x24]
005ed5ca : MOV dword ptr [ESP + 0x18],EDX
005ed5ce : MOV dword ptr [ESP + 0x28],EAX
005ed5d2 : LEA ECX,[ESP + 0x28]
005ed5d6 : PUSH ECX
005ed5d7 : OR EDI,0xffffffff
005ed5da : CALL 0x0051aa70
005ed5df : MOV ESI,EAX
005ed5e1 : LEA EDX,[ESP + 0x18]
005ed5e5 : PUSH EDX
005ed5e6 : CALL 0x0051aa70
005ed5eb : INC EDI
005ed5ec : CMP EAX,0xa
005ed5ef : JZ 0x005ed5e1
005ed5f1 : TEST EAX,EAX
005ed5f3 : JZ 0x005ed61f
005ed5f5 : TEST ESI,ESI
005ed5f7 : JZ 0x005ed632
005ed5f9 : TEST BL,BL
005ed5fb : JZ 0x005ed601
005ed5fd : CMP EAX,ESI
005ed5ff : JMP 0x005ed61d
005ed601 : LEA ECX,[EAX + -0x61]
005ed604 : LEA EDX,[EAX + -0x20]
005ed607 : CMP ECX,0x19
005ed60a : JBE 0x005ed60e
005ed60c : MOV EDX,EAX
005ed60e : LEA ECX,[ESI + -0x61]
005ed611 : CMP ECX,0x19
005ed614 : LEA ECX,[ESI + -0x20]
005ed617 : JBE 0x005ed61b
005ed619 : MOV ECX,ESI
005ed61b : CMP EDX,ECX
005ed61d : JZ 0x005ed5d2
005ed61f : TEST ESI,ESI
005ed621 : JZ 0x005ed632
005ed623 : TEST EAX,EAX
005ed625 : JZ 0x005ed597
005ed62b : SUB EBP,EDI
005ed62d : JMP 0x005ed586
005ed632 : POP EDI
005ed633 : POP ESI
005ed634 : MOV EAX,EBP
005ed636 : POP EBP
005ed637 : POP EBX
005ed638 : ADD ESP,0xc
005ed63b : RET 0xc
