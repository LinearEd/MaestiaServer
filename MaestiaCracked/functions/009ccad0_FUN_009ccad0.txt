PROGRAM  : Maestia.exe
FUNCTION : FUN_009ccad0
ENTRY    : 009ccad0
BODY     : [[009ccad0, 009ccb2c] [009ccb30, 009ccbf1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009ccad0(void)

{
  undefined4 uVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  undefined1 local_14 [4];
  int local_10;
  int local_c [2];
  
  if (((int)DAT_017210ac - DAT_017210a8 & 0xfffffffcU) == 0) {
    FUN_0042d2e0(&DAT_017210a4);
    FUN_0042d2e0(&DAT_017210b4);
    if (DAT_01724818 != 0) {
      local_c[0] = -(uint)(*(int *)(DAT_01724818 + 0x28) != 0);
      piVar2 = DAT_017210ac;
      iVar3 = DAT_01724818;
      while ((local_c[0] != 0 && (iVar3 != 0))) {
        local_10 = 0;
        FUN_00404160(local_c,local_14,&local_10);
        if (local_10 == 0) break;
        if (*(short *)(local_10 + 6) == 0xff) {
          if (DAT_017210a8 == 0) {
            uVar4 = 0;
          }
          else {
            uVar4 = DAT_017210b0 - DAT_017210a8 >> 2;
          }
          if ((uint)((int)piVar2 - DAT_017210a8 >> 2) < uVar4) {
            *piVar2 = local_10;
            DAT_017210ac = piVar2 + 1;
            piVar2 = DAT_017210ac;
          }
          else {
            FUN_0042fe80(&DAT_017210a4,piVar2,&local_10);
            piVar2 = DAT_017210ac;
            iVar3 = DAT_01724818;
          }
        }
      }
    }
    uVar1 = *(undefined4 *)(*(int *)(DAT_0172491c + 0x17c) + 0xa0);
    FUN_009cc740(uVar1,1);
    FUN_009cc740(uVar1,0);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009ccad0 : PUSH EBP
009ccad1 : MOV EBP,ESP
009ccad3 : AND ESP,0xfffffff8
009ccad6 : MOV EAX,[0x017210ac]
009ccadb : SUB EAX,dword ptr [0x017210a8]
009ccae1 : SUB ESP,0xc
009ccae4 : PUSH EBX
009ccae5 : PUSH ESI
009ccae6 : PUSH EDI
009ccae7 : TEST EAX,0xfffffffc
009ccaec : JNZ 0x009ccbeb
009ccaf2 : PUSH 0x17210a4
009ccaf7 : CALL 0x0042d2e0
009ccafc : PUSH 0x17210b4
009ccb01 : CALL 0x0042d2e0
009ccb06 : MOV EDI,dword ptr [0x01724818]
009ccb0c : TEST EDI,EDI
009ccb0e : JZ 0x009ccbc6
009ccb14 : MOV EAX,dword ptr [EDI + 0x28]
009ccb17 : NEG EAX
009ccb19 : SBB EAX,EAX
009ccb1b : MOV dword ptr [ESP + 0x14],EAX
009ccb1f : JZ 0x009ccbc6
009ccb25 : MOV ESI,dword ptr [0x017210ac]
009ccb2b : JMP 0x009ccb30
009ccb30 : TEST EDI,EDI
009ccb32 : JZ 0x009ccbc6
009ccb38 : LEA ECX,[ESP + 0x10]
009ccb3c : PUSH ECX
009ccb3d : LEA EDX,[ESP + 0x10]
009ccb41 : PUSH EDX
009ccb42 : LEA EAX,[ESP + 0x1c]
009ccb46 : PUSH EAX
009ccb47 : MOV EAX,EDI
009ccb49 : MOV dword ptr [ESP + 0x1c],0x0
009ccb51 : CALL 0x00404160
009ccb56 : MOV ECX,dword ptr [ESP + 0x10]
009ccb5a : MOV dword ptr [ESP + 0x10],ECX
009ccb5e : TEST ECX,ECX
009ccb60 : JZ 0x009ccbc6
009ccb62 : MOV EDX,0xff
009ccb67 : CMP word ptr [ECX + 0x6],DX
009ccb6b : JNZ 0x009ccbbb
009ccb6d : MOV EDX,dword ptr [0x017210a8]
009ccb73 : TEST EDX,EDX
009ccb75 : JNZ 0x009ccb7b
009ccb77 : XOR EAX,EAX
009ccb79 : JMP 0x009ccb85
009ccb7b : MOV EAX,[0x017210b0]
009ccb80 : SUB EAX,EDX
009ccb82 : SAR EAX,0x2
009ccb85 : MOV EBX,ESI
009ccb87 : SUB EBX,EDX
009ccb89 : SAR EBX,0x2
009ccb8c : CMP EBX,EAX
009ccb8e : JNC 0x009ccb9f
009ccb90 : MOV EAX,ESI
009ccb92 : MOV dword ptr [ESI],ECX
009ccb94 : LEA ESI,[EAX + 0x4]
009ccb97 : MOV dword ptr [0x017210ac],ESI
009ccb9d : JMP 0x009ccbbb
009ccb9f : LEA EAX,[ESP + 0x10]
009ccba3 : PUSH EAX
009ccba4 : PUSH ESI
009ccba5 : PUSH 0x17210a4
009ccbaa : CALL 0x0042fe80
009ccbaf : MOV ESI,dword ptr [0x017210ac]
009ccbb5 : MOV EDI,dword ptr [0x01724818]
009ccbbb : CMP dword ptr [ESP + 0x14],0x0
009ccbc0 : JNZ 0x009ccb30
009ccbc6 : MOV ECX,dword ptr [0x0172491c]
009ccbcc : MOV EDX,dword ptr [ECX + 0x17c]
009ccbd2 : MOV ESI,dword ptr [EDX + 0xa0]
009ccbd8 : PUSH 0x1
009ccbda : PUSH ESI
009ccbdb : CALL 0x009cc740
009ccbe0 : PUSH 0x0
009ccbe2 : PUSH ESI
009ccbe3 : CALL 0x009cc740
009ccbe8 : ADD ESP,0x10
009ccbeb : POP EDI
009ccbec : POP ESI
009ccbed : POP EBX
009ccbee : MOV ESP,EBP
009ccbf0 : POP EBP
009ccbf1 : RET
