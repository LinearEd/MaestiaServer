PROGRAM  : Maestia.exe
FUNCTION : FUN_006d8b50
ENTRY    : 006d8b50
BODY     : [[006d8b50, 006d8bf8]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006d8b50(int *param_1,undefined4 param_2,int param_3,uint param_4)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  
  uVar1 = (uint)(0x3b9ac9f0 / (ulonglong)(uint)(param_3 * 0x80));
  iVar2 = param_1[1];
  if (uVar1 == 0) {
    *(undefined4 *)(*param_1 + 0x14) = 0x46;
    (**(code **)*param_1)(param_1);
  }
  if ((int)param_4 <= (int)uVar1) {
    uVar1 = param_4;
  }
  *(uint *)(iVar2 + 0x50) = uVar1;
  iVar2 = FUN_006d88d0(param_1,param_2,param_4 * 4);
  uVar5 = 0;
  if (param_4 != 0) {
    do {
      if (param_4 - uVar5 <= uVar1) {
        uVar1 = param_4 - uVar5;
      }
      iVar3 = FUN_006d8a00(param_1,param_2,uVar1 * param_3 * 0x80);
      for (uVar4 = uVar1; uVar4 != 0; uVar4 = uVar4 - 1) {
        *(int *)(iVar2 + uVar5 * 4) = iVar3;
        uVar5 = uVar5 + 1;
        iVar3 = iVar3 + param_3 * 0x80;
      }
    } while (uVar5 < param_4);
  }
  return iVar2;
}



============================================================
DISASSEMBLY
============================================================
006d8b50 : PUSH EBX
006d8b51 : MOV EBX,dword ptr [ESP + 0x10]
006d8b55 : SHL EBX,0x7
006d8b58 : XOR EDX,EDX
006d8b5a : MOV EAX,0x3b9ac9f0
006d8b5f : DIV EBX
006d8b61 : PUSH EBP
006d8b62 : PUSH ESI
006d8b63 : MOV ESI,dword ptr [ESP + 0x10]
006d8b67 : MOV EBP,dword ptr [ESI + 0x4]
006d8b6a : PUSH EDI
006d8b6b : MOV EDI,EAX
006d8b6d : TEST EDI,EDI
006d8b6f : JG 0x006d8b84
006d8b71 : MOV EAX,dword ptr [ESI]
006d8b73 : MOV dword ptr [EAX + 0x14],0x46
006d8b7a : MOV ECX,dword ptr [ESI]
006d8b7c : MOV EDX,dword ptr [ECX]
006d8b7e : PUSH ESI
006d8b7f : CALL EDX
006d8b81 : ADD ESP,0x4
006d8b84 : MOV EAX,dword ptr [ESP + 0x20]
006d8b88 : CMP EDI,EAX
006d8b8a : JL 0x006d8b8e
006d8b8c : MOV EDI,EAX
006d8b8e : MOV ECX,dword ptr [ESP + 0x18]
006d8b92 : ADD EAX,EAX
006d8b94 : ADD EAX,EAX
006d8b96 : PUSH EAX
006d8b97 : PUSH ECX
006d8b98 : PUSH ESI
006d8b99 : MOV dword ptr [EBP + 0x50],EDI
006d8b9c : CALL 0x006d88d0
006d8ba1 : XOR ESI,ESI
006d8ba3 : ADD ESP,0xc
006d8ba6 : MOV EBP,EAX
006d8ba8 : CMP dword ptr [ESP + 0x20],ESI
006d8bac : JBE 0x006d8bf2
006d8bae : MOV EDI,EDI
006d8bb0 : MOV EAX,dword ptr [ESP + 0x20]
006d8bb4 : SUB EAX,ESI
006d8bb6 : CMP EDI,EAX
006d8bb8 : JC 0x006d8bbc
006d8bba : MOV EDI,EAX
006d8bbc : MOV EAX,dword ptr [ESP + 0x18]
006d8bc0 : MOV ECX,dword ptr [ESP + 0x14]
006d8bc4 : MOV EDX,EDI
006d8bc6 : IMUL EDX,dword ptr [ESP + 0x1c]
006d8bcb : SHL EDX,0x7
006d8bce : PUSH EDX
006d8bcf : PUSH EAX
006d8bd0 : PUSH ECX
006d8bd1 : CALL 0x006d8a00
006d8bd6 : ADD ESP,0xc
006d8bd9 : MOV ECX,EDI
006d8bdb : TEST EDI,EDI
006d8bdd : JBE 0x006d8bec
006d8bdf : NOP
006d8be0 : MOV dword ptr [EBP + ESI*0x4],EAX
006d8be4 : INC ESI
006d8be5 : ADD EAX,EBX
006d8be7 : SUB ECX,0x1
006d8bea : JNZ 0x006d8be0
006d8bec : CMP ESI,dword ptr [ESP + 0x20]
006d8bf0 : JC 0x006d8bb0
006d8bf2 : POP EDI
006d8bf3 : POP ESI
006d8bf4 : MOV EAX,EBP
006d8bf6 : POP EBP
006d8bf7 : POP EBX
006d8bf8 : RET
