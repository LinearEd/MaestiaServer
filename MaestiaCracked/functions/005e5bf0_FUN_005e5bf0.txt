PROGRAM  : Maestia.exe
FUNCTION : FUN_005e5bf0
ENTRY    : 005e5bf0
BODY     : [[005e5bf0, 005e5c79]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_005e5bf0(int param_1,uint param_2)

{
  int iVar1;
  LONG LVar2;
  int in_ECX;
  uint uVar3;
  undefined4 *local_4;
  
  if (*(int *)(in_ECX + 0xc) == 0) {
    return 0;
  }
  FUN_0051c480(param_2);
  local_4 = &param_2;
  iVar1 = FUN_005e5b90(&local_4);
  if (iVar1 == 0) {
    iVar1 = 0;
  }
  else {
    iVar1 = iVar1 + 4;
  }
  uVar3 = param_2 & 0xfffffffc;
  LVar2 = InterlockedExchangeAdd((LONG *)(uVar3 + 4),-1);
  if (LVar2 == 1) {
    FUN_00515cf0(uVar3);
  }
  if (iVar1 != 0) {
    FUN_0051bc20(iVar1);
    *(undefined4 *)(param_1 + 4) = *(undefined4 *)(iVar1 + 4);
    *(undefined4 *)(param_1 + 8) = *(undefined4 *)(iVar1 + 8);
    return 1;
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
005e5bf0 : PUSH ECX
005e5bf1 : PUSH ESI
005e5bf2 : MOV ESI,ECX
005e5bf4 : CMP dword ptr [ESI + 0xc],0x0
005e5bf8 : JNZ 0x005e5c01
005e5bfa : XOR AL,AL
005e5bfc : POP ESI
005e5bfd : POP ECX
005e5bfe : RET 0x8
005e5c01 : MOV EAX,dword ptr [ESP + 0x10]
005e5c05 : PUSH EAX
005e5c06 : LEA ECX,[ESP + 0x14]
005e5c0a : CALL 0x0051c480
005e5c0f : MOV ECX,dword ptr [ESI + 0xc]
005e5c12 : LEA EAX,[ESP + 0x4]
005e5c16 : LEA EDX,[ESP + 0x10]
005e5c1a : PUSH EAX
005e5c1b : MOV dword ptr [ESP + 0x8],EDX
005e5c1f : CALL 0x005e5b90
005e5c24 : TEST EAX,EAX
005e5c26 : JZ 0x005e5c2d
005e5c28 : LEA ESI,[EAX + 0x4]
005e5c2b : JMP 0x005e5c2f
005e5c2d : XOR ESI,ESI
005e5c2f : PUSH EDI
005e5c30 : MOV EDI,dword ptr [ESP + 0x14]
005e5c34 : AND EDI,0xfffffffc
005e5c37 : PUSH -0x1
005e5c39 : LEA ECX,[EDI + 0x4]
005e5c3c : PUSH ECX
005e5c3d : CALL dword ptr [0x00b851cc]
005e5c43 : SUB EAX,0x1
005e5c46 : JNZ 0x005e5c4e
005e5c48 : PUSH EDI
005e5c49 : CALL 0x00515cf0
005e5c4e : TEST ESI,ESI
005e5c50 : JZ 0x005e5c72
005e5c52 : MOV EDI,dword ptr [ESP + 0x10]
005e5c56 : PUSH ESI
005e5c57 : MOV ECX,EDI
005e5c59 : CALL 0x0051bc20
005e5c5e : FLD float ptr [ESI + 0x4]
005e5c61 : FSTP float ptr [EDI + 0x4]
005e5c64 : MOV EDX,dword ptr [ESI + 0x8]
005e5c67 : MOV dword ptr [EDI + 0x8],EDX
005e5c6a : POP EDI
005e5c6b : MOV AL,0x1
005e5c6d : POP ESI
005e5c6e : POP ECX
005e5c6f : RET 0x8
005e5c72 : POP EDI
005e5c73 : XOR AL,AL
005e5c75 : POP ESI
005e5c76 : POP ECX
005e5c77 : RET 0x8
