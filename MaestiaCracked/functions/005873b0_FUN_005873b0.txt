PROGRAM  : Maestia.exe
FUNCTION : FUN_005873b0
ENTRY    : 005873b0
BODY     : [[005873b0, 0058768a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005873b0(int param_1)

{
  undefined4 *puVar1;
  byte *pbVar2;
  char cVar3;
  char *pcVar4;
  undefined4 uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  uint local_3c;
  int local_38;
  int local_34;
  int local_30;
  byte local_2c;
  int local_28;
  int local_24;
  byte local_20;
  undefined1 local_1c [8];
  int local_14;
  int local_10;
  byte local_c;
  
  cVar3 = FUN_00526030(7);
  if (cVar3 == '\0') {
    FUN_00526050("Array",0,0);
    return;
  }
  if (*(int *)(param_1 + 8) == 0) {
    local_38 = 0;
  }
  else {
    local_38 = *(int *)(param_1 + 8) + -0x10;
  }
  local_20 = 0;
  local_28 = 0;
  local_24 = 0;
  local_3c = 0;
  if (0 < *(int *)(param_1 + 0x1c)) {
    pcVar4 = (char *)FUN_00526260(0);
    if ((*pcVar4 == '\b') || (*pcVar4 == '\v')) {
      uVar5 = *(undefined4 *)(param_1 + 0x18);
      piVar9 = &local_34;
      FUN_00526260(0);
      uVar5 = FUN_00527140(piVar9,uVar5);
      FUN_00568a50(uVar5);
      if (((local_2c & 2) == 0) && (local_34 != 0)) {
        FUN_00503db0();
      }
      local_34 = 0;
      if (((local_2c & 1) == 0) && (local_30 != 0)) {
        FUN_00503db0();
      }
    }
    else {
      uVar5 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(0);
      FUN_00527730(uVar5);
      local_3c = FUN_0063b380();
    }
    if ((local_28 != 0) && (1 < *(int *)(param_1 + 0x1c))) {
      uVar5 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(1);
      FUN_00527730(uVar5);
      local_3c = FUN_0063b380();
    }
  }
  iVar6 = *(int *)(*(int *)(param_1 + 0x18) + 0x78);
  iVar6 = FUN_005324f0(*(undefined4 *)(iVar6 + 0x2a0),iVar6 + 0x10,0,0xffffffff);
  if (iVar6 != 0) {
    FUN_005852f0(local_38);
    FUN_005850c0(iVar6 + 0x10,local_3c,&local_28,*(undefined4 *)(param_1 + 0x18),
                 *(undefined4 *)(local_38 + 0x30));
    if (*(int *)(iVar6 + 0x38) != 0) {
      local_34 = *(int *)(iVar6 + 0x34);
      local_30 = *(int *)(iVar6 + 0x38);
      FUN_00586270(local_1c);
      FUN_00587350(&local_34);
    }
    if (((local_3c & 4) != 0) && (iVar8 = 1, 1 < *(int *)(iVar6 + 0x38))) {
      piVar9 = (int *)(iVar6 + 0x34);
      do {
        puVar1 = (undefined4 *)(*piVar9 + iVar8 * 4);
        iVar7 = FUN_005862d0(puVar1[-1],*puVar1);
        if (iVar7 == 0) {
          pbVar2 = *(byte **)(param_1 + 4);
          if (4 < *pbVar2) {
            FUN_00526400();
          }
          *pbVar2 = 4;
          pbVar2[4] = 0;
          pbVar2[5] = 0;
          pbVar2[6] = 0;
          pbVar2[7] = 0;
          if (*(int *)(iVar6 + 0x38) == 0) {
            if (*(int *)(iVar6 + 0x3c) == 0) {
              FUN_005b5ef0(piVar9,0);
            }
          }
          else if ((*(uint *)(iVar6 + 0x3c) & 0xfffffffe) != 0) {
            if (*piVar9 != 0) {
              FUN_00515cf0(*piVar9);
              *piVar9 = 0;
            }
            *(undefined4 *)(iVar6 + 0x3c) = 0;
          }
          *(undefined4 *)(iVar6 + 0x38) = 0;
          if (((local_c & 2) == 0) && (local_14 != 0)) {
            FUN_00503db0();
          }
          local_14 = 0;
          if (((local_c & 1) == 0) && (local_10 != 0)) {
            FUN_00503db0();
          }
          local_10 = 0;
          goto LAB_00587650;
        }
        iVar8 = iVar8 + 1;
      } while (iVar8 < *(int *)(iVar6 + 0x38));
    }
    if ((local_3c & 8) == 0) {
      FUN_005852f0(iVar6);
      FUN_005853f0();
    }
    else {
      FUN_005847d0(*(undefined4 *)(*(int *)(*(int *)(param_1 + 0x18) + 0x78) + 0x288));
      local_38 = iVar6;
    }
    FUN_005271c0(local_38);
    if (((local_c & 2) == 0) && (local_14 != 0)) {
      FUN_00503db0();
    }
    local_14 = 0;
    if (((local_c & 1) == 0) && (local_10 != 0)) {
      FUN_00503db0();
    }
LAB_00587650:
    FUN_00503db0();
  }
  if (((local_20 & 2) == 0) && (local_28 != 0)) {
    FUN_00503db0();
  }
  local_28 = 0;
  if (((local_20 & 1) == 0) && (local_24 != 0)) {
    FUN_00503db0();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005873b0 : SUB ESP,0x3c
005873b3 : PUSH EBX
005873b4 : PUSH EBP
005873b5 : PUSH ESI
005873b6 : MOV ESI,dword ptr [ESP + 0x4c]
005873ba : PUSH EDI
005873bb : PUSH 0x7
005873bd : MOV ECX,ESI
005873bf : CALL 0x00526030
005873c4 : TEST AL,AL
005873c6 : JNZ 0x005873e0
005873c8 : PUSH 0x0
005873ca : PUSH 0x0
005873cc : PUSH 0xb8df10
005873d1 : MOV ECX,ESI
005873d3 : CALL 0x00526050
005873d8 : POP EDI
005873d9 : POP ESI
005873da : POP EBP
005873db : POP EBX
005873dc : ADD ESP,0x3c
005873df : RET
005873e0 : MOV EAX,dword ptr [ESI + 0x8]
005873e3 : XOR EBX,EBX
005873e5 : CMP EAX,EBX
005873e7 : JZ 0x005873f2
005873e9 : LEA EDI,[EAX + -0x10]
005873ec : MOV dword ptr [ESP + 0x14],EDI
005873f0 : JMP 0x005873f8
005873f2 : MOV dword ptr [ESP + 0x14],EBX
005873f6 : MOV EDI,EBX
005873f8 : CMP dword ptr [ESI + 0x1c],0x1
005873fc : MOV byte ptr [ESP + 0x2c],BL
00587400 : MOV dword ptr [ESP + 0x24],EBX
00587404 : MOV dword ptr [ESP + 0x28],EBX
00587408 : MOV dword ptr [ESP + 0x10],EBX
0058740c : JL 0x005874b9
00587412 : PUSH EBX
00587413 : MOV ECX,ESI
00587415 : CALL 0x00526260
0058741a : MOV AL,byte ptr [EAX]
0058741c : CMP AL,0x8
0058741e : JZ 0x00587424
00587420 : CMP AL,0xb
00587422 : JNZ 0x00587474
00587424 : MOV EAX,dword ptr [ESI + 0x18]
00587427 : PUSH EAX
00587428 : LEA ECX,[ESP + 0x1c]
0058742c : PUSH ECX
0058742d : PUSH EBX
0058742e : MOV ECX,ESI
00587430 : CALL 0x00526260
00587435 : MOV ECX,EAX
00587437 : CALL 0x00527140
0058743c : PUSH EAX
0058743d : LEA ECX,[ESP + 0x28]
00587441 : CALL 0x00568a50
00587446 : TEST byte ptr [ESP + 0x20],0x2
0058744b : JNZ 0x0058745a
0058744d : MOV ECX,dword ptr [ESP + 0x18]
00587451 : CMP ECX,EBX
00587453 : JZ 0x0058745a
00587455 : CALL 0x00503db0
0058745a : TEST byte ptr [ESP + 0x20],0x1
0058745f : MOV dword ptr [ESP + 0x18],EBX
00587463 : JNZ 0x00587490
00587465 : MOV ECX,dword ptr [ESP + 0x1c]
00587469 : CMP ECX,EBX
0058746b : JZ 0x00587490
0058746d : CALL 0x00503db0
00587472 : JMP 0x00587490
00587474 : MOV EDX,dword ptr [ESI + 0x18]
00587477 : PUSH EDX
00587478 : PUSH EBX
00587479 : MOV ECX,ESI
0058747b : CALL 0x00526260
00587480 : MOV ECX,EAX
00587482 : CALL 0x00527730
00587487 : CALL 0x0063b380
0058748c : MOV dword ptr [ESP + 0x10],EAX
00587490 : CMP dword ptr [ESP + 0x24],EBX
00587494 : JZ 0x005874b9
00587496 : CMP dword ptr [ESI + 0x1c],0x2
0058749a : JL 0x005874b9
0058749c : MOV EAX,dword ptr [ESI + 0x18]
0058749f : PUSH EAX
005874a0 : PUSH 0x1
005874a2 : MOV ECX,ESI
005874a4 : CALL 0x00526260
005874a9 : MOV ECX,EAX
005874ab : CALL 0x00527730
005874b0 : CALL 0x0063b380
005874b5 : MOV dword ptr [ESP + 0x10],EAX
005874b9 : MOV ECX,dword ptr [ESI + 0x18]
005874bc : MOV EAX,dword ptr [ECX + 0x78]
005874bf : PUSH -0x1
005874c1 : MOV EDX,EAX
005874c3 : MOV EDX,dword ptr [EDX + 0x2a0]
005874c9 : PUSH EBX
005874ca : ADD EAX,0x10
005874cd : PUSH EAX
005874ce : PUSH EDX
005874cf : CALL 0x005324f0
005874d4 : MOV EBP,EAX
005874d6 : CMP EBP,EBX
005874d8 : JZ 0x00587657
005874de : PUSH EDI
005874df : MOV ECX,EBP
005874e1 : CALL 0x005852f0
005874e6 : MOV ECX,dword ptr [EDI + 0x30]
005874e9 : MOV EDX,dword ptr [ESI + 0x18]
005874ec : PUSH ECX
005874ed : PUSH EDX
005874ee : MOV EDX,dword ptr [ESP + 0x18]
005874f2 : LEA ECX,[ESP + 0x2c]
005874f6 : PUSH ECX
005874f7 : LEA EAX,[EBP + 0x10]
005874fa : PUSH EDX
005874fb : PUSH EAX
005874fc : LEA ECX,[ESP + 0x44]
00587500 : CALL 0x005850c0
00587505 : MOV EAX,dword ptr [EBP + 0x38]
00587508 : CMP EAX,EBX
0058750a : JBE 0x00587533
0058750c : MOV ECX,dword ptr [EBP + 0x34]
0058750f : SUB ESP,0x1c
00587512 : MOV dword ptr [ESP + 0x34],ECX
00587516 : LEA EDX,[ESP + 0x4c]
0058751a : MOV ECX,ESP
0058751c : PUSH EDX
0058751d : MOV dword ptr [ESP + 0x3c],EAX
00587521 : CALL 0x00586270
00587526 : LEA EAX,[ESP + 0x34]
0058752a : PUSH EAX
0058752b : CALL 0x00587350
00587530 : ADD ESP,0x20
00587533 : TEST byte ptr [ESP + 0x10],0x4
00587538 : JZ 0x0058756c
0058753a : MOV EBX,0x1
0058753f : CMP dword ptr [EBP + 0x38],EBX
00587542 : JLE 0x0058756a
00587544 : LEA EDI,[EBP + 0x34]
00587547 : MOV ECX,dword ptr [EDI]
00587549 : LEA EAX,[ECX + EBX*0x4]
0058754c : MOV ECX,dword ptr [EAX]
0058754e : MOV EAX,dword ptr [EAX + -0x4]
00587551 : PUSH ECX
00587552 : PUSH EAX
00587553 : LEA ECX,[ESP + 0x38]
00587557 : CALL 0x005862d0
0058755c : TEST EAX,EAX
0058755e : JZ 0x00587591
00587560 : INC EBX
00587561 : CMP EBX,dword ptr [EBP + 0x38]
00587564 : JL 0x00587547
00587566 : MOV EDI,dword ptr [ESP + 0x14]
0058756a : XOR EBX,EBX
0058756c : TEST byte ptr [ESP + 0x10],0x8
00587571 : JZ 0x0058760c
00587577 : MOV EDX,dword ptr [ESI + 0x18]
0058757a : MOV EAX,dword ptr [EDX + 0x78]
0058757d : MOV ECX,dword ptr [EAX + 0x288]
00587583 : PUSH ECX
00587584 : MOV ECX,EBP
00587586 : CALL 0x005847d0
0058758b : PUSH EBP
0058758c : JMP 0x0058761c
00587591 : MOV ESI,dword ptr [ESI + 0x4]
00587594 : CMP byte ptr [ESI],0x5
00587597 : JC 0x005875a0
00587599 : MOV ECX,ESI
0058759b : CALL 0x00526400
005875a0 : XOR EBX,EBX
005875a2 : MOV byte ptr [ESI],0x4
005875a5 : MOV dword ptr [ESI + 0x4],EBX
005875a8 : CMP dword ptr [EDI + 0x4],EBX
005875ab : JBE 0x005875c9
005875ad : TEST dword ptr [EDI + 0x8],0xfffffffe
005875b4 : JBE 0x005875d7
005875b6 : MOV EAX,dword ptr [EDI]
005875b8 : CMP EAX,EBX
005875ba : JZ 0x005875c4
005875bc : PUSH EAX
005875bd : CALL 0x00515cf0
005875c2 : MOV dword ptr [EDI],EBX
005875c4 : MOV dword ptr [EDI + 0x8],EBX
005875c7 : JMP 0x005875d7
005875c9 : CMP dword ptr [EDI + 0x8],EBX
005875cc : JA 0x005875d7
005875ce : PUSH EBX
005875cf : PUSH EDI
005875d0 : MOV ECX,EDI
005875d2 : CALL 0x005b5ef0
005875d7 : TEST byte ptr [ESP + 0x40],0x2
005875dc : MOV dword ptr [EDI + 0x4],EBX
005875df : JNZ 0x005875ee
005875e1 : MOV ECX,dword ptr [ESP + 0x38]
005875e5 : CMP ECX,EBX
005875e7 : JZ 0x005875ee
005875e9 : CALL 0x00503db0
005875ee : TEST byte ptr [ESP + 0x40],0x1
005875f3 : MOV dword ptr [ESP + 0x38],EBX
005875f7 : JNZ 0x00587606
005875f9 : MOV ECX,dword ptr [ESP + 0x3c]
005875fd : CMP ECX,EBX
005875ff : JZ 0x00587606
00587601 : CALL 0x00503db0
00587606 : MOV dword ptr [ESP + 0x3c],EBX
0058760a : JMP 0x00587650
0058760c : PUSH EBP
0058760d : MOV ECX,EDI
0058760f : CALL 0x005852f0
00587614 : MOV ECX,EBP
00587616 : CALL 0x005853f0
0058761b : PUSH EDI
0058761c : MOV ECX,dword ptr [ESI + 0x4]
0058761f : CALL 0x005271c0
00587624 : TEST byte ptr [ESP + 0x40],0x2
00587629 : JNZ 0x00587638
0058762b : MOV ECX,dword ptr [ESP + 0x38]
0058762f : CMP ECX,EBX
00587631 : JZ 0x00587638
00587633 : CALL 0x00503db0
00587638 : TEST byte ptr [ESP + 0x40],0x1
0058763d : MOV dword ptr [ESP + 0x38],EBX
00587641 : JNZ 0x00587650
00587643 : MOV ECX,dword ptr [ESP + 0x3c]
00587647 : CMP ECX,EBX
00587649 : JZ 0x00587650
0058764b : CALL 0x00503db0
00587650 : MOV ECX,EBP
00587652 : CALL 0x00503db0
00587657 : TEST byte ptr [ESP + 0x2c],0x2
0058765c : JNZ 0x0058766b
0058765e : MOV ECX,dword ptr [ESP + 0x24]
00587662 : CMP ECX,EBX
00587664 : JZ 0x0058766b
00587666 : CALL 0x00503db0
0058766b : TEST byte ptr [ESP + 0x2c],0x1
00587670 : MOV dword ptr [ESP + 0x24],EBX
00587674 : JNZ 0x00587683
00587676 : MOV ECX,dword ptr [ESP + 0x28]
0058767a : CMP ECX,EBX
0058767c : JZ 0x00587683
0058767e : CALL 0x00503db0
00587683 : POP EDI
00587684 : POP ESI
00587685 : POP EBP
00587686 : POP EBX
00587687 : ADD ESP,0x3c
0058768a : RET
