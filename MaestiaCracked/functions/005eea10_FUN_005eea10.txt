PROGRAM  : Maestia.exe
FUNCTION : FUN_005eea10
ENTRY    : 005eea10
BODY     : [[005eea10, 005eea9c]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005eea10(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int *in_ECX;
  uint uVar3;
  uint uVar4;
  undefined4 local_4;
  
  local_4 = 0x102;
  puVar2 = (undefined4 *)FUN_00515d60(in_ECX,0x28,&local_4);
  if (puVar2 == (undefined4 *)0x0) {
    return (undefined4 *)0x0;
  }
  *puVar2 = 0;
  puVar2[1] = 0;
  puVar2[2] = 0;
  puVar2[3] = 0;
  puVar2[4] = 0;
  puVar2[7] = 0;
  puVar2[6] = 0;
  *(undefined2 *)(puVar2 + 9) = 0;
  puVar2[8] = 0x3f800000;
  uVar3 = in_ECX[1] + 1;
  if (uVar3 < (uint)in_ECX[1]) {
    uVar4 = uVar3;
    if ((uint)in_ECX[2] >> 1 <= uVar3) goto LAB_005eea86;
  }
  else {
    if (uVar3 < (uint)in_ECX[2]) goto LAB_005eea86;
    uVar4 = (uVar3 >> 2) + uVar3;
  }
  FUN_005edac0(in_ECX,uVar4);
LAB_005eea86:
  puVar1 = (undefined4 *)(*in_ECX + -4 + uVar3 * 4);
  in_ECX[1] = uVar3;
  if (puVar1 != (undefined4 *)0x0) {
    *puVar1 = puVar2;
  }
  return puVar2;
}



============================================================
DISASSEMBLY
============================================================
005eea10 : PUSH ECX
005eea11 : PUSH EBX
005eea12 : PUSH EBP
005eea13 : PUSH ESI
005eea14 : LEA EAX,[ESP + 0xc]
005eea18 : PUSH EAX
005eea19 : MOV ESI,ECX
005eea1b : PUSH 0x28
005eea1d : PUSH ESI
005eea1e : MOV dword ptr [ESP + 0x18],0x102
005eea26 : CALL 0x00515d60
005eea2b : MOV EBX,EAX
005eea2d : XOR EBP,EBP
005eea2f : CMP EBX,EBP
005eea31 : JZ 0x005eea6a
005eea33 : FLDZ
005eea35 : MOV dword ptr [EBX],EBP
005eea37 : MOV dword ptr [EBX + 0x4],EBP
005eea3a : MOV dword ptr [EBX + 0x8],EBP
005eea3d : MOV dword ptr [EBX + 0xc],EBP
005eea40 : MOV dword ptr [EBX + 0x10],EBP
005eea43 : FST float ptr [EBX + 0x1c]
005eea46 : FSTP float ptr [EBX + 0x18]
005eea49 : XOR ECX,ECX
005eea4b : FLD1
005eea4d : MOV word ptr [EBX + 0x24],CX
005eea51 : FSTP float ptr [EBX + 0x20]
005eea54 : PUSH EDI
005eea55 : MOV EDI,dword ptr [ESI + 0x4]
005eea58 : INC EDI
005eea59 : CMP EDI,dword ptr [ESI + 0x4]
005eea5c : JNC 0x005eea71
005eea5e : MOV EDX,dword ptr [ESI + 0x8]
005eea61 : SHR EDX,0x1
005eea63 : CMP EDI,EDX
005eea65 : JNC 0x005eea86
005eea67 : PUSH EDI
005eea68 : JMP 0x005eea7e
005eea6a : POP ESI
005eea6b : POP EBP
005eea6c : XOR EAX,EAX
005eea6e : POP EBX
005eea6f : POP ECX
005eea70 : RET
005eea71 : CMP EDI,dword ptr [ESI + 0x8]
005eea74 : JC 0x005eea86
005eea76 : MOV EAX,EDI
005eea78 : SHR EAX,0x2
005eea7b : ADD EAX,EDI
005eea7d : PUSH EAX
005eea7e : PUSH ESI
005eea7f : MOV ECX,ESI
005eea81 : CALL 0x005edac0
005eea86 : MOV ECX,dword ptr [ESI]
005eea88 : LEA EAX,[ECX + EDI*0x4 + -0x4]
005eea8c : MOV dword ptr [ESI + 0x4],EDI
005eea8f : POP EDI
005eea90 : CMP EAX,EBP
005eea92 : JZ 0x005eea96
005eea94 : MOV dword ptr [EAX],EBX
005eea96 : POP ESI
005eea97 : POP EBP
005eea98 : MOV EAX,EBX
005eea9a : POP EBX
005eea9b : POP ECX
005eea9c : RET
