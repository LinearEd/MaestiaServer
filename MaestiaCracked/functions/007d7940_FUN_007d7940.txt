PROGRAM  : Maestia.exe
FUNCTION : FUN_007d7940
ENTRY    : 007d7940
BODY     : [[007d7940, 007d7aa1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d7940(void)

{
  int iVar1;
  uint uVar2;
  int *piVar3;
  int in_ECX;
  undefined1 local_28 [4];
  undefined1 local_24 [8];
  int local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b28d39;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(in_ECX + 8) != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  local_8 = 0;
  piVar3 = (int *)**(int **)(in_ECX + 0x188);
  if (piVar3 != *(int **)(in_ECX + 0x188)) {
    do {
      iVar1 = *(int *)(in_ECX + 0x17c);
      if (iVar1 != 0) {
        local_14 = *(undefined4 *)((int)piVar3 + 0x24);
        if (*(int *)(iVar1 + 0x84) == 0) {
          local_1c = iVar1 + 0x68;
          FUN_0047f190(&local_14);
          if (local_18 != *(int *)(iVar1 + 0x6c)) {
            FUN_0045d460(local_1c,local_24,local_18);
          }
        }
        else {
          (**(code **)(**(int **)(iVar1 + 0x84) + 0x14))(local_14,uVar2);
        }
      }
      (**(code **)(**(int **)((int)piVar3 + 0x24) + 0xc))(0);
      if (*(undefined4 **)((int)piVar3 + 0x24) != (undefined4 *)0x0) {
        (**(code **)**(undefined4 **)((int)piVar3 + 0x24))(1);
      }
      piVar3 = (int *)FUN_00462670(local_28,piVar3);
      piVar3 = (int *)*piVar3;
    } while (piVar3 != (int *)*(int *)(in_ECX + 0x188));
  }
  FUN_00458e80(in_ECX + 0x184);
  local_1c = *(undefined4 *)(in_ECX + 0x188);
  FUN_004402f0();
  *(undefined4 *)(in_ECX + 0x1a0) = 7;
  *(undefined4 *)(in_ECX + 0x1a4) = 8;
  local_8 = 0xffffffff;
  if (*(int *)(in_ECX + 8) != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  *(undefined1 *)(in_ECX + 0x5d) = 1;
  *(undefined1 *)(in_ECX + 0x134) = 1;
  *(undefined1 *)(in_ECX + 0x5c) = 1;
  if (*(int **)(in_ECX + 0x2c) != (int *)0x0) {
    (**(code **)(**(int **)(in_ECX + 0x2c) + 0x60))();
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d7940 : PUSH EBP
007d7941 : MOV EBP,ESP
007d7943 : PUSH -0x1
007d7945 : PUSH 0xb28d39
007d794a : MOV EAX,FS:[0x0]
007d7950 : PUSH EAX
007d7951 : SUB ESP,0x1c
007d7954 : PUSH EBX
007d7955 : PUSH ESI
007d7956 : PUSH EDI
007d7957 : MOV EAX,[0x00d66fa0]
007d795c : XOR EAX,EBP
007d795e : PUSH EAX
007d795f : LEA EAX,[EBP + -0xc]
007d7962 : MOV FS:[0x0],EAX
007d7968 : MOV EDI,ECX
007d796a : MOV EAX,dword ptr [EDI + 0x8]
007d796d : MOV dword ptr [EBP + -0x1c],EDI
007d7970 : TEST EAX,EAX
007d7972 : JZ 0x007d797e
007d7974 : ADD EAX,0x4
007d7977 : PUSH EAX
007d7978 : CALL dword ptr [0x00b85118]
007d797e : MOV dword ptr [EBP + -0x4],0x0
007d7985 : MOV EAX,dword ptr [EDI + 0x188]
007d798b : MOV ESI,dword ptr [EAX]
007d798d : CMP ESI,EAX
007d798f : JZ 0x007d7a23
007d7995 : MOV EBX,dword ptr [EDI + 0x17c]
007d799b : TEST EBX,EBX
007d799d : JZ 0x007d79ea
007d799f : CMP dword ptr [EBX + 0x84],0x0
007d79a6 : MOV EAX,dword ptr [ESI + 0x24]
007d79a9 : MOV dword ptr [EBP + -0x10],EAX
007d79ac : JZ 0x007d79c0
007d79ae : MOV EBX,dword ptr [EBX + 0x84]
007d79b4 : MOV EDX,dword ptr [EBX]
007d79b6 : PUSH EAX
007d79b7 : MOV EAX,dword ptr [EDX + 0x14]
007d79ba : MOV ECX,EBX
007d79bc : CALL EAX
007d79be : JMP 0x007d79ea
007d79c0 : LEA EDX,[EBP + -0x10]
007d79c3 : LEA ECX,[EBX + 0x68]
007d79c6 : PUSH EDX
007d79c7 : LEA EAX,[EBP + -0x14]
007d79ca : MOV dword ptr [EBP + -0x18],ECX
007d79cd : CALL 0x0047f190
007d79d2 : MOV EBX,dword ptr [EBX + 0x6c]
007d79d5 : MOV EAX,dword ptr [EBP + -0x14]
007d79d8 : CMP EAX,EBX
007d79da : JZ 0x007d79ea
007d79dc : MOV ECX,dword ptr [EBP + -0x18]
007d79df : PUSH EAX
007d79e0 : LEA EAX,[EBP + -0x20]
007d79e3 : PUSH EAX
007d79e4 : PUSH ECX
007d79e5 : CALL 0x0045d460
007d79ea : MOV ECX,dword ptr [ESI + 0x24]
007d79ed : MOV EDX,dword ptr [ECX]
007d79ef : MOV EAX,dword ptr [EDX + 0xc]
007d79f2 : PUSH 0x0
007d79f4 : CALL EAX
007d79f6 : MOV ECX,dword ptr [ESI + 0x24]
007d79f9 : TEST ECX,ECX
007d79fb : JZ 0x007d7a05
007d79fd : MOV EDX,dword ptr [ECX]
007d79ff : MOV EAX,dword ptr [EDX]
007d7a01 : PUSH 0x1
007d7a03 : CALL EAX
007d7a05 : PUSH ESI
007d7a06 : LEA ECX,[EBP + -0x24]
007d7a09 : PUSH ECX
007d7a0a : LEA ECX,[EDI + 0x180]
007d7a10 : CALL 0x00462670
007d7a15 : MOV ESI,dword ptr [EAX]
007d7a17 : CMP ESI,dword ptr [EDI + 0x188]
007d7a1d : JNZ 0x007d7995
007d7a23 : LEA EDX,[EDI + 0x184]
007d7a29 : PUSH EDX
007d7a2a : CALL 0x00458e80
007d7a2f : MOV EAX,dword ptr [EDI + 0x188]
007d7a35 : MOV dword ptr [EBP + -0x18],EAX
007d7a38 : LEA ESI,[EDI + 0x190]
007d7a3e : LEA EAX,[EBP + -0x18]
007d7a41 : CALL 0x004402f0
007d7a46 : MOV dword ptr [EDI + 0x1a0],0x7
007d7a50 : MOV dword ptr [EDI + 0x1a4],0x8
007d7a5a : MOV dword ptr [EBP + -0x4],0xffffffff
007d7a61 : MOV EAX,dword ptr [EDI + 0x8]
007d7a64 : TEST EAX,EAX
007d7a66 : JZ 0x007d7a72
007d7a68 : ADD EAX,0x4
007d7a6b : PUSH EAX
007d7a6c : CALL dword ptr [0x00b8511c]
007d7a72 : MOV ECX,dword ptr [EDI + 0x2c]
007d7a75 : MOV byte ptr [EDI + 0x5d],0x1
007d7a79 : MOV byte ptr [EDI + 0x134],0x1
007d7a80 : MOV byte ptr [EDI + 0x5c],0x1
007d7a84 : TEST ECX,ECX
007d7a86 : JZ 0x007d7a90
007d7a88 : MOV EDX,dword ptr [ECX]
007d7a8a : MOV EAX,dword ptr [EDX + 0x60]
007d7a8d : PUSH EDI
007d7a8e : CALL EAX
007d7a90 : MOV ECX,dword ptr [EBP + -0xc]
007d7a93 : MOV dword ptr FS:[0x0],ECX
007d7a9a : POP ECX
007d7a9b : POP EDI
007d7a9c : POP ESI
007d7a9d : POP EBX
007d7a9e : MOV ESP,EBP
007d7aa0 : POP EBP
007d7aa1 : RET
