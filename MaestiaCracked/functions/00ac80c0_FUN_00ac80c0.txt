PROGRAM  : Maestia.exe
FUNCTION : FUN_00ac80c0
ENTRY    : 00ac80c0
BODY     : [[00ac80c0, 00ac829d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00ac80c0(void)

{
  int *piVar1;
  int in_ECX;
  undefined1 local_2c [28];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b26b9d;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  piVar1 = *(int **)(in_ECX + 0x1e4);
  if ((piVar1 != (int *)0x0) && (*(int *)(DAT_017251cc + 8) != 0)) {
    if (*(char *)(in_ECX + 0x1ec) == '\0') {
      if (*(int *)(in_ECX + 0x220) == 0) {
        FUN_00406460(L"m_nVertexCount == 0");
        local_8 = 1;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"AvaLib::AvaFxParticleRenderEntity::Apply",0x303,local_2c);
        }
        local_8 = 0xffffffff;
        FUN_00406560();
        ExceptionList = local_10;
        return;
      }
      (**(code **)(*piVar1 + 0x20))(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
      FUN_00766220(piVar1[0xe],*(undefined4 *)(in_ECX + 0x1d4),*(undefined4 *)(in_ECX + 0x1d8),
                   *(undefined4 *)(in_ECX + 0x1dc),*(undefined4 *)(in_ECX + 0x1e0),
                   *(undefined4 *)(in_ECX + 0x220),*(undefined4 *)(in_ECX + 0x21c));
    }
    else if (*(int *)(in_ECX + 0x218) != 0) {
      if (*(int *)(in_ECX + 0x220) == 0) {
        FUN_00406460(L"m_nVertexCount == 0");
        local_8 = 0;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"AvaLib::AvaFxParticleRenderEntity::Apply",0x2f5,local_2c);
        }
        local_8 = 0xffffffff;
        FUN_00406560();
        ExceptionList = local_10;
        return;
      }
      (**(code **)(*piVar1 + 0x20))();
      FUN_007660a0(*(undefined4 *)(in_ECX + 0x1d4),*(undefined4 *)(in_ECX + 0x1d8),
                   *(undefined4 *)(in_ECX + 0x1e0),*(undefined4 *)(in_ECX + 0x220),
                   *(undefined4 *)(in_ECX + 0x21c),*(undefined4 *)(in_ECX + 0x218),
                   *(undefined4 *)(in_ECX + 0x214));
      *(undefined4 *)(in_ECX + 0x218) = 0;
      ExceptionList = local_10;
      return;
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00ac80c0 : PUSH EBP
00ac80c1 : MOV EBP,ESP
00ac80c3 : PUSH -0x1
00ac80c5 : PUSH 0xb26b9d
00ac80ca : MOV EAX,FS:[0x0]
00ac80d0 : PUSH EAX
00ac80d1 : SUB ESP,0x1c
00ac80d4 : PUSH EBX
00ac80d5 : PUSH ESI
00ac80d6 : PUSH EDI
00ac80d7 : MOV EAX,[0x00d66fa0]
00ac80dc : XOR EAX,EBP
00ac80de : PUSH EAX
00ac80df : LEA EAX,[EBP + -0xc]
00ac80e2 : MOV FS:[0x0],EAX
00ac80e8 : MOV EDI,ECX
00ac80ea : MOV ESI,dword ptr [EDI + 0x1e4]
00ac80f0 : TEST ESI,ESI
00ac80f2 : JZ 0x00ac828a
00ac80f8 : MOV EAX,[0x017251cc]
00ac80fd : MOV EBX,dword ptr [EAX + 0x8]
00ac8100 : TEST EBX,EBX
00ac8102 : JZ 0x00ac828a
00ac8108 : CMP byte ptr [EDI + 0x1ec],0x0
00ac810f : JZ 0x00ac81eb
00ac8115 : CMP dword ptr [EDI + 0x218],0x0
00ac811c : JZ 0x00ac828a
00ac8122 : CMP dword ptr [EDI + 0x220],0x0
00ac8129 : JNZ 0x00ac8183
00ac812b : PUSH 0xc01104
00ac8130 : LEA ECX,[EBP + -0x28]
00ac8133 : CALL 0x00406460
00ac8138 : MOV dword ptr [EBP + -0x4],0x0
00ac813f : MOV ECX,dword ptr [0x00da98e8]
00ac8145 : MOV ECX,dword ptr [ECX]
00ac8147 : TEST ECX,ECX
00ac8149 : JZ 0x00ac8160
00ac814b : MOV EDX,dword ptr [ECX]
00ac814d : MOV EDX,dword ptr [EDX + 0x14]
00ac8150 : LEA EAX,[EBP + -0x28]
00ac8153 : PUSH EAX
00ac8154 : PUSH 0x2f5
00ac8159 : PUSH 0xc01158
00ac815e : CALL EDX
00ac8160 : MOV dword ptr [EBP + -0x4],0xffffffff
00ac8167 : LEA ECX,[EBP + -0x28]
00ac816a : CALL 0x00406560
00ac816f : MOV ECX,dword ptr [EBP + -0xc]
00ac8172 : MOV dword ptr FS:[0x0],ECX
00ac8179 : POP ECX
00ac817a : POP EDI
00ac817b : POP ESI
00ac817c : POP EBX
00ac817d : MOV ESP,EBP
00ac817f : POP EBP
00ac8180 : RET 0x4
00ac8183 : MOV EAX,dword ptr [ESI]
00ac8185 : MOV EDX,dword ptr [EAX + 0x20]
00ac8188 : MOV ECX,ESI
00ac818a : CALL EDX
00ac818c : MOV EAX,dword ptr [EDI + 0x214]
00ac8192 : MOV ECX,dword ptr [EDI + 0x218]
00ac8198 : MOV EDX,dword ptr [EDI + 0x21c]
00ac819e : PUSH EAX
00ac819f : MOV EAX,dword ptr [EDI + 0x220]
00ac81a5 : PUSH ECX
00ac81a6 : MOV ECX,dword ptr [EDI + 0x1e0]
00ac81ac : PUSH EDX
00ac81ad : MOV EDX,dword ptr [EDI + 0x1d8]
00ac81b3 : PUSH EAX
00ac81b4 : MOV EAX,dword ptr [EDI + 0x1d4]
00ac81ba : PUSH ECX
00ac81bb : MOV ECX,dword ptr [ESI + 0x38]
00ac81be : PUSH EDX
00ac81bf : PUSH EAX
00ac81c0 : MOV EAX,dword ptr [EDI + 0x1dc]
00ac81c6 : MOV ESI,EBX
00ac81c8 : CALL 0x007660a0
00ac81cd : MOV dword ptr [EDI + 0x218],0x0
00ac81d7 : MOV ECX,dword ptr [EBP + -0xc]
00ac81da : MOV dword ptr FS:[0x0],ECX
00ac81e1 : POP ECX
00ac81e2 : POP EDI
00ac81e3 : POP ESI
00ac81e4 : POP EBX
00ac81e5 : MOV ESP,EBP
00ac81e7 : POP EBP
00ac81e8 : RET 0x4
00ac81eb : CMP dword ptr [EDI + 0x220],0x0
00ac81f2 : JNZ 0x00ac824c
00ac81f4 : PUSH 0xc011ac
00ac81f9 : LEA ECX,[EBP + -0x28]
00ac81fc : CALL 0x00406460
00ac8201 : MOV dword ptr [EBP + -0x4],0x1
00ac8208 : MOV ECX,dword ptr [0x00da98e8]
00ac820e : MOV ECX,dword ptr [ECX]
00ac8210 : TEST ECX,ECX
00ac8212 : JZ 0x00ac8229
00ac8214 : MOV EDX,dword ptr [ECX]
00ac8216 : MOV EDX,dword ptr [EDX + 0x14]
00ac8219 : LEA EAX,[EBP + -0x28]
00ac821c : PUSH EAX
00ac821d : PUSH 0x303
00ac8222 : PUSH 0xc01208
00ac8227 : CALL EDX
00ac8229 : MOV dword ptr [EBP + -0x4],0xffffffff
00ac8230 : LEA ECX,[EBP + -0x28]
00ac8233 : CALL 0x00406560
00ac8238 : MOV ECX,dword ptr [EBP + -0xc]
00ac823b : MOV dword ptr FS:[0x0],ECX
00ac8242 : POP ECX
00ac8243 : POP EDI
00ac8244 : POP ESI
00ac8245 : POP EBX
00ac8246 : MOV ESP,EBP
00ac8248 : POP EBP
00ac8249 : RET 0x4
00ac824c : MOV EAX,dword ptr [ESI]
00ac824e : MOV EDX,dword ptr [EAX + 0x20]
00ac8251 : MOV ECX,ESI
00ac8253 : CALL EDX
00ac8255 : MOV EAX,dword ptr [EDI + 0x21c]
00ac825b : MOV ECX,dword ptr [EDI + 0x220]
00ac8261 : MOV EDX,dword ptr [EDI + 0x1e0]
00ac8267 : PUSH EAX
00ac8268 : MOV EAX,dword ptr [EDI + 0x1dc]
00ac826e : PUSH ECX
00ac826f : MOV ECX,dword ptr [EDI + 0x1d8]
00ac8275 : PUSH EDX
00ac8276 : MOV EDX,dword ptr [EDI + 0x1d4]
00ac827c : PUSH EAX
00ac827d : MOV EAX,dword ptr [ESI + 0x38]
00ac8280 : PUSH ECX
00ac8281 : PUSH EDX
00ac8282 : PUSH EAX
00ac8283 : MOV ESI,EBX
00ac8285 : CALL 0x00766220
00ac828a : MOV ECX,dword ptr [EBP + -0xc]
00ac828d : MOV dword ptr FS:[0x0],ECX
00ac8294 : POP ECX
00ac8295 : POP EDI
00ac8296 : POP ESI
00ac8297 : POP EBX
00ac8298 : MOV ESP,EBP
00ac829a : POP EBP
00ac829b : RET 0x4
