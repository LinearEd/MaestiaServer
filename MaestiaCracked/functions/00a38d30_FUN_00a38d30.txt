PROGRAM  : Maestia.exe
FUNCTION : FUN_00a38d30
ENTRY    : 00a38d30
BODY     : [[00a38d30, 00a38f8c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a38d30(int param_1,int param_2)

{
  char cVar1;
  ushort uVar2;
  ushort uVar3;
  int in_EAX;
  int iVar4;
  uint uVar5;
  uint uVar6;
  undefined4 uVar7;
  
  cVar1 = FUN_00a31470();
  if (cVar1 != '\0') {
    return;
  }
  if (*(char *)(in_EAX + 0x550) == '\0') {
    iVar4 = FUN_00a248e0(in_EAX,param_1,param_2);
    if ((iVar4 != 0) ||
       (((iVar4 = *(int *)(in_EAX + 1000), iVar4 != 0 &&
         (uVar5 = *(int *)(in_EAX + 0x3f8) - param_1, uVar6 = (int)uVar5 >> 0x1f,
         (int)((uVar5 ^ uVar6) - uVar6) < 0x32)) &&
        (uVar5 = *(int *)(in_EAX + 0x3fc) - param_2, uVar6 = (int)uVar5 >> 0x1f,
        (int)((uVar5 ^ uVar6) - uVar6) < 0x32)))) {
      uVar2 = GetAsyncKeyState(0x12);
      uVar3 = GetAsyncKeyState(0x11);
      if ((uVar2 & uVar3 & 0x8000) != 0) {
        FUN_00954400(0,*(undefined4 *)(iVar4 + 4));
      }
      if (*(int *)(in_EAX + 0x24c) != *(int *)(iVar4 + 4)) {
        FUN_0040e4c0();
        uVar7 = *(undefined4 *)(iVar4 + 4);
        *(undefined4 *)(in_EAX + 0x468) = 0;
        *(undefined4 *)(in_EAX + 0x46c) = uVar7;
        FUN_00a364b0(*(undefined4 *)(iVar4 + 4),0);
        FUN_00a0d390(DAT_017247d4,1);
        return;
      }
      if ((*(int *)(in_EAX + 0xac) != 0) && (cVar1 = FUN_0040e110(), cVar1 != '\0')) {
        return;
      }
      cVar1 = FUN_0040e0c0();
      if (cVar1 != '\0') {
        return;
      }
      cVar1 = FUN_0040e070();
      if (cVar1 != '\0') {
        return;
      }
      cVar1 = FUN_00a1dfd0();
      if (cVar1 == '\0') {
        return;
      }
      FUN_0040e4c0();
      uVar7 = *(undefined4 *)(iVar4 + 4);
      *(undefined4 *)(in_EAX + 0x468) = 0;
      *(undefined4 *)(in_EAX + 0x46c) = uVar7;
      FUN_00a364b0(*(undefined4 *)(iVar4 + 4),0);
      FUN_00a0d390(DAT_017247d4,1);
      FUN_00a2dfb0(0,0);
      return;
    }
    if ((*(int *)(in_EAX + 0xac) == 0) || (*(char *)(*(int *)(in_EAX + 0xac) + 0x1f5a) == '\0'))
    goto LAB_00a38f7a;
    if (*(int *)(in_EAX + 600) == 0) {
      if (DAT_00da93ec != 0) {
        uVar7 = *(undefined4 *)(in_EAX + 0x254);
LAB_00a38f65:
        FUN_00902130(uVar7);
      }
    }
    else if (DAT_00da93ec != 0) {
      uVar7 = *(undefined4 *)(*(int *)(in_EAX + 600) + 4);
      goto LAB_00a38f65;
    }
    FUN_00a0d390(DAT_017247d4,1);
LAB_00a38f7a:
    *(undefined4 *)(in_EAX + 0x3c0) = 1;
    return;
  }
  if ((*(int *)(in_EAX + 0xac) == 0) || (*(char *)(*(int *)(in_EAX + 0xac) + 0x1f5a) == '\0'))
  goto LAB_00a38da4;
  if (*(int *)(in_EAX + 600) == 0) {
    if (DAT_00da93ec != 0) {
      uVar7 = *(undefined4 *)(in_EAX + 0x254);
LAB_00a38d8e:
      FUN_00902130(uVar7);
    }
  }
  else if (DAT_00da93ec != 0) {
    uVar7 = *(undefined4 *)(*(int *)(in_EAX + 600) + 4);
    goto LAB_00a38d8e;
  }
  FUN_00a0d390(DAT_017247d4,1);
LAB_00a38da4:
  FUN_00a30ec0(in_EAX);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a38d30 : PUSH EBP
00a38d31 : MOV EBP,ESP
00a38d33 : SUB ESP,0xc
00a38d36 : PUSH EBX
00a38d37 : MOV EBX,dword ptr [EBP + 0x8]
00a38d3a : PUSH ESI
00a38d3b : PUSH EDI
00a38d3c : MOV EDI,EAX
00a38d3e : CALL 0x00a31470
00a38d43 : TEST AL,AL
00a38d45 : JNZ 0x00a38f84
00a38d4b : CMP byte ptr [EDI + 0x550],AL
00a38d51 : JZ 0x00a38db8
00a38d53 : MOV EAX,dword ptr [EDI + 0xac]
00a38d59 : TEST EAX,EAX
00a38d5b : JZ 0x00a38da4
00a38d5d : CMP byte ptr [EAX + 0x1f5a],0x0
00a38d64 : JZ 0x00a38da4
00a38d66 : MOV EAX,dword ptr [EDI + 0x258]
00a38d6c : TEST EAX,EAX
00a38d6e : JNZ 0x00a38d81
00a38d70 : CMP dword ptr [0x00da93ec],EAX
00a38d76 : JZ 0x00a38d93
00a38d78 : MOV EAX,dword ptr [EDI + 0x254]
00a38d7e : PUSH EAX
00a38d7f : JMP 0x00a38d8e
00a38d81 : CMP dword ptr [0x00da93ec],0x0
00a38d88 : JZ 0x00a38d93
00a38d8a : MOV ECX,dword ptr [EAX + 0x4]
00a38d8d : PUSH ECX
00a38d8e : CALL 0x00902130
00a38d93 : MOV EDX,dword ptr [0x017247d4]
00a38d99 : PUSH 0x1
00a38d9b : PUSH EDX
00a38d9c : OR ECX,0xffffffff
00a38d9f : CALL 0x00a0d390
00a38da4 : MOV ECX,dword ptr [EBP + 0xc]
00a38da7 : PUSH EDI
00a38da8 : MOV EDX,EBX
00a38daa : CALL 0x00a30ec0
00a38daf : POP EDI
00a38db0 : POP ESI
00a38db1 : POP EBX
00a38db2 : MOV ESP,EBP
00a38db4 : POP EBP
00a38db5 : RET 0x8
00a38db8 : MOV EAX,dword ptr [EBP + 0xc]
00a38dbb : PUSH EAX
00a38dbc : PUSH EBX
00a38dbd : PUSH EDI
00a38dbe : CALL 0x00a248e0
00a38dc3 : MOV ESI,EAX
00a38dc5 : TEST ESI,ESI
00a38dc7 : JNZ 0x00a38e04
00a38dc9 : MOV ESI,dword ptr [EDI + 0x3e8]
00a38dcf : TEST ESI,ESI
00a38dd1 : JZ 0x00a38f2a
00a38dd7 : MOV EAX,dword ptr [EDI + 0x3f8]
00a38ddd : SUB EAX,EBX
00a38ddf : CDQ
00a38de0 : XOR EAX,EDX
00a38de2 : SUB EAX,EDX
00a38de4 : CMP EAX,0x32
00a38de7 : JGE 0x00a38f2a
00a38ded : MOV EAX,dword ptr [EDI + 0x3fc]
00a38df3 : SUB EAX,dword ptr [EBP + 0xc]
00a38df6 : CDQ
00a38df7 : XOR EAX,EDX
00a38df9 : SUB EAX,EDX
00a38dfb : CMP EAX,0x32
00a38dfe : JGE 0x00a38f2a
00a38e04 : MOV EBX,dword ptr [0x00b8542c]
00a38e0a : PUSH 0x12
00a38e0c : CALL EBX
00a38e0e : PUSH 0x11
00a38e10 : MOV word ptr [EBP + 0xe],AX
00a38e14 : CALL EBX
00a38e16 : MOV CX,word ptr [EBP + 0xe]
00a38e1a : AND CX,AX
00a38e1d : MOV EDX,0x8000
00a38e22 : TEST DX,CX
00a38e25 : JZ 0x00a38e40
00a38e27 : MOV ECX,dword ptr [0x00da9894]
00a38e2d : MOV EAX,dword ptr [ESI + 0x4]
00a38e30 : MOV EDX,dword ptr [ECX]
00a38e32 : MOV ECX,dword ptr [EDX + 0x254]
00a38e38 : PUSH EAX
00a38e39 : PUSH 0x0
00a38e3b : CALL 0x00954400
00a38e40 : MOV EAX,dword ptr [EDI + 0x24c]
00a38e46 : CMP EAX,dword ptr [ESI + 0x4]
00a38e49 : JNZ 0x00a38ee5
00a38e4f : MOV EBX,dword ptr [EDI + 0xac]
00a38e55 : TEST EBX,EBX
00a38e57 : JZ 0x00a38e68
00a38e59 : MOV EAX,EBX
00a38e5b : CALL 0x0040e110
00a38e60 : TEST AL,AL
00a38e62 : JNZ 0x00a38f84
00a38e68 : MOV EAX,EBX
00a38e6a : CALL 0x0040e0c0
00a38e6f : TEST AL,AL
00a38e71 : JNZ 0x00a38f84
00a38e77 : MOV EAX,EBX
00a38e79 : CALL 0x0040e070
00a38e7e : TEST AL,AL
00a38e80 : JNZ 0x00a38f84
00a38e86 : MOV EAX,EDI
00a38e88 : CALL 0x00a1dfd0
00a38e8d : TEST AL,AL
00a38e8f : JZ 0x00a38f84
00a38e95 : CALL 0x0040e4c0
00a38e9a : XORPS XMM0,XMM0
00a38e9d : MOV EAX,dword ptr [ESI + 0x4]
00a38ea0 : MOVSS dword ptr [EBP + -0x8],XMM0
00a38ea5 : MOV ECX,dword ptr [EBP + -0x8]
00a38ea8 : MOV dword ptr [EDI + 0x468],ECX
00a38eae : MOV dword ptr [EDI + 0x46c],EAX
00a38eb4 : MOV EDX,dword ptr [ESI + 0x4]
00a38eb7 : PUSH 0x0
00a38eb9 : PUSH EDX
00a38eba : MOV ECX,EDI
00a38ebc : CALL 0x00a364b0
00a38ec1 : MOV EAX,[0x017247d4]
00a38ec6 : MOV ECX,dword ptr [ESI + 0x4]
00a38ec9 : PUSH 0x1
00a38ecb : PUSH EAX
00a38ecc : CALL 0x00a0d390
00a38ed1 : PUSH 0x0
00a38ed3 : PUSH 0x0
00a38ed5 : MOV ECX,EDI
00a38ed7 : CALL 0x00a2dfb0
00a38edc : POP EDI
00a38edd : POP ESI
00a38ede : POP EBX
00a38edf : MOV ESP,EBP
00a38ee1 : POP EBP
00a38ee2 : RET 0x8
00a38ee5 : CALL 0x0040e4c0
00a38eea : XORPS XMM0,XMM0
00a38eed : MOV EAX,dword ptr [ESI + 0x4]
00a38ef0 : MOVSS dword ptr [EBP + -0x8],XMM0
00a38ef5 : MOV ECX,dword ptr [EBP + -0x8]
00a38ef8 : MOV dword ptr [EDI + 0x468],ECX
00a38efe : MOV dword ptr [EDI + 0x46c],EAX
00a38f04 : MOV EDX,dword ptr [ESI + 0x4]
00a38f07 : PUSH 0x0
00a38f09 : PUSH EDX
00a38f0a : MOV ECX,EDI
00a38f0c : CALL 0x00a364b0
00a38f11 : MOV EAX,[0x017247d4]
00a38f16 : MOV ECX,dword ptr [ESI + 0x4]
00a38f19 : PUSH 0x1
00a38f1b : PUSH EAX
00a38f1c : CALL 0x00a0d390
00a38f21 : POP EDI
00a38f22 : POP ESI
00a38f23 : POP EBX
00a38f24 : MOV ESP,EBP
00a38f26 : POP EBP
00a38f27 : RET 0x8
00a38f2a : MOV EAX,dword ptr [EDI + 0xac]
00a38f30 : TEST EAX,EAX
00a38f32 : JZ 0x00a38f7a
00a38f34 : CMP byte ptr [EAX + 0x1f5a],0x0
00a38f3b : JZ 0x00a38f7a
00a38f3d : MOV EAX,dword ptr [EDI + 0x258]
00a38f43 : TEST EAX,EAX
00a38f45 : JNZ 0x00a38f58
00a38f47 : CMP dword ptr [0x00da93ec],EAX
00a38f4d : JZ 0x00a38f6a
00a38f4f : MOV ECX,dword ptr [EDI + 0x254]
00a38f55 : PUSH ECX
00a38f56 : JMP 0x00a38f65
00a38f58 : CMP dword ptr [0x00da93ec],0x0
00a38f5f : JZ 0x00a38f6a
00a38f61 : MOV EDX,dword ptr [EAX + 0x4]
00a38f64 : PUSH EDX
00a38f65 : CALL 0x00902130
00a38f6a : MOV EAX,[0x017247d4]
00a38f6f : PUSH 0x1
00a38f71 : PUSH EAX
00a38f72 : OR ECX,0xffffffff
00a38f75 : CALL 0x00a0d390
00a38f7a : MOV dword ptr [EDI + 0x3c0],0x1
00a38f84 : POP EDI
00a38f85 : POP ESI
00a38f86 : POP EBX
00a38f87 : MOV ESP,EBP
00a38f89 : POP EBP
00a38f8a : RET 0x8
