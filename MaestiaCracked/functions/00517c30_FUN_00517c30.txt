PROGRAM  : Maestia.exe
FUNCTION : FUN_00517c30
ENTRY    : 00517c30
BODY     : [[00517c30, 00517c7d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00517c30(undefined4 *param_1)

{
  undefined4 *puVar1;
  int *in_ECX;
  uint uVar2;
  uint uVar3;
  
  uVar2 = in_ECX[1] + 1;
  if (uVar2 < (uint)in_ECX[1]) {
    uVar3 = uVar2;
    if ((uint)in_ECX[2] >> 1 <= uVar2) goto LAB_00517c5e;
  }
  else {
    if (uVar2 < (uint)in_ECX[2]) goto LAB_00517c5e;
    uVar3 = (uVar2 >> 2) + uVar2;
  }
  FUN_00517b00(in_ECX,uVar3);
LAB_00517c5e:
  in_ECX[1] = uVar2;
  puVar1 = (undefined4 *)(*in_ECX + -8 + uVar2 * 8);
  if (puVar1 != (undefined4 *)0x0) {
    *puVar1 = *param_1;
    puVar1[1] = param_1[1];
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00517c30 : PUSH ESI
00517c31 : PUSH EDI
00517c32 : MOV EDI,ECX
00517c34 : MOV ESI,dword ptr [EDI + 0x4]
00517c37 : INC ESI
00517c38 : CMP ESI,dword ptr [EDI + 0x4]
00517c3b : JNC 0x00517c49
00517c3d : MOV EAX,dword ptr [EDI + 0x8]
00517c40 : SHR EAX,0x1
00517c42 : CMP ESI,EAX
00517c44 : JNC 0x00517c5e
00517c46 : PUSH ESI
00517c47 : JMP 0x00517c58
00517c49 : CMP ESI,dword ptr [EDI + 0x8]
00517c4c : JC 0x00517c5e
00517c4e : MOV ECX,ESI
00517c50 : SHR ECX,0x2
00517c53 : ADD ECX,ESI
00517c55 : PUSH ECX
00517c56 : MOV ECX,EDI
00517c58 : PUSH EDI
00517c59 : CALL 0x00517b00
00517c5e : MOV EDX,dword ptr [EDI]
00517c60 : MOV dword ptr [EDI + 0x4],ESI
00517c63 : LEA EAX,[EDX + ESI*0x8 + -0x8]
00517c67 : POP EDI
00517c68 : POP ESI
00517c69 : TEST EAX,EAX
00517c6b : JZ 0x00517c7b
00517c6d : MOV ECX,dword ptr [ESP + 0x4]
00517c71 : MOV EDX,dword ptr [ECX]
00517c73 : MOV dword ptr [EAX],EDX
00517c75 : MOV ECX,dword ptr [ECX + 0x4]
00517c78 : MOV dword ptr [EAX + 0x4],ECX
00517c7b : RET 0x4
