PROGRAM  : Maestia.exe
FUNCTION : FUN_007cc680
ENTRY    : 007cc680
BODY     : [[007cc680, 007cc7ef]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007cc680(void)

{
  float fVar1;
  float fVar2;
  float *in_EAX;
  int unaff_ESI;
  float10 fVar3;
  float local_34;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  if (0.0001 <= *in_EAX * *in_EAX + in_EAX[1] * in_EAX[1]) {
    *(float *)(unaff_ESI + 0x140) = *in_EAX;
    *(float *)(unaff_ESI + 0x144) = in_EAX[1];
    fVar1 = in_EAX[1];
    fVar2 = *in_EAX;
    FUN_0040f460(in_EAX[1] * in_EAX[1] + fVar2 * fVar2);
    FUN_0040f460(0x3f800000);
    fVar3 = (float10)FUN_0063c8f0();
    local_34 = (float)fVar3;
    if (0.0 < fVar1 * 0.0 - fVar2 * -1.0) {
      local_34 = -local_34;
    }
    local_24 = 0;
    local_20 = 0x3f800000;
    local_1c = 0;
    local_18 = 0;
    local_14 = 0;
    local_10 = 0;
    local_c = 0x3f800000;
    D3DXQuaternionRotationAxis(&local_18,&local_24,local_34);
    *(ulonglong *)(unaff_ESI + 0x74) = CONCAT44(local_20,local_24);
    *(ulonglong *)(unaff_ESI + 0x7c) = CONCAT44(local_18,local_1c);
    *(undefined1 *)(unaff_ESI + 0x5d) = 1;
    *(undefined1 *)(unaff_ESI + 0x134) = 1;
    *(undefined1 *)(unaff_ESI + 0x5c) = 1;
    if (*(int **)(unaff_ESI + 0x2c) != (int *)0x0) {
      (**(code **)(**(int **)(unaff_ESI + 0x2c) + 0x60))();
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007cc680 : PUSH EBP
007cc681 : MOV EBP,ESP
007cc683 : AND ESP,0xfffffff8
007cc686 : MOVSS XMM1,dword ptr [EAX]
007cc68a : MOVSS XMM0,dword ptr [EAX + 0x4]
007cc68f : MOVAPS XMM2,XMM1
007cc692 : MULSS XMM2,XMM1
007cc696 : MOVAPS XMM1,XMM0
007cc699 : MULSS XMM1,XMM0
007cc69d : MOVSS XMM0,dword ptr [0x00cdf398]
007cc6a5 : SUB ESP,0x30
007cc6a8 : ADDSS XMM2,XMM1
007cc6ac : COMISS XMM0,XMM2
007cc6af : JA 0x007cc7ec
007cc6b5 : MOV ECX,dword ptr [EAX]
007cc6b7 : MOV dword ptr [ESI + 0x140],ECX
007cc6bd : MOV EDX,dword ptr [EAX + 0x4]
007cc6c0 : MOV dword ptr [ESI + 0x144],EDX
007cc6c6 : MOVSS XMM0,dword ptr [EAX + 0x4]
007cc6cb : MOVSS XMM1,dword ptr [EAX + 0x4]
007cc6d0 : MOVSS dword ptr [ESP + 0x8],XMM0
007cc6d6 : MOVSS XMM0,dword ptr [EAX]
007cc6da : MOVSS dword ptr [ESP + 0xc],XMM0
007cc6e0 : FLD float ptr [ESP + 0xc]
007cc6e4 : MOVAPS XMM2,XMM1
007cc6e7 : FMUL float ptr [0x00b9b0b4]
007cc6ed : MULSS XMM2,XMM1
007cc6f1 : FLD float ptr [ESP + 0x8]
007cc6f5 : MOVAPS XMM1,XMM0
007cc6f8 : FMUL float ptr [0x00c10fc4]
007cc6fe : MULSS XMM1,XMM0
007cc702 : PUSH ECX
007cc703 : ADDSS XMM2,XMM1
007cc707 : FSUBP
007cc709 : MOVSS dword ptr [ESP],XMM2
007cc70e : FSTP float ptr [ESP + 0x14]
007cc712 : CALL 0x0040f460
007cc717 : FSTP float ptr [ESP + 0x8]
007cc71b : FLD1
007cc71d : FSTP float ptr [ESP]
007cc720 : CALL 0x0040f460
007cc725 : FMUL float ptr [ESP + 0x8]
007cc729 : ADD ESP,0x4
007cc72c : FDIVR float ptr [ESP + 0x10]
007cc730 : CALL 0x0063c8f0
007cc735 : FSTP float ptr [ESP + 0x4]
007cc739 : XORPS XMM2,XMM2
007cc73c : MOVSS XMM0,dword ptr [ESP + 0x8]
007cc742 : MOVSS XMM1,dword ptr [ESP + 0xc]
007cc748 : MULSS XMM1,dword ptr [0x00cdf0d0]
007cc750 : MULSS XMM0,XMM2
007cc754 : SUBSS XMM0,XMM1
007cc758 : COMISS XMM0,XMM2
007cc75b : JBE 0x007cc770
007cc75d : MOVSS XMM0,dword ptr [ESP + 0x4]
007cc763 : XORPS XMM0,xmmword ptr [0x00cdf0c0]
007cc76a : MOVSS dword ptr [ESP + 0x4],XMM0
007cc770 : FLD float ptr [ESP + 0x4]
007cc774 : MOVSS XMM0,dword ptr [0x00c10fc4]
007cc77c : PUSH ECX
007cc77d : FSTP float ptr [ESP]
007cc780 : LEA EAX,[ESP + 0x18]
007cc784 : PUSH EAX
007cc785 : LEA ECX,[ESP + 0x28]
007cc789 : PUSH ECX
007cc78a : MOVSS dword ptr [ESP + 0x20],XMM2
007cc790 : MOVSS dword ptr [ESP + 0x24],XMM0
007cc796 : MOVSS dword ptr [ESP + 0x28],XMM2
007cc79c : MOVSS dword ptr [ESP + 0x2c],XMM2
007cc7a2 : MOVSS dword ptr [ESP + 0x30],XMM2
007cc7a8 : MOVSS dword ptr [ESP + 0x34],XMM2
007cc7ae : MOVSS dword ptr [ESP + 0x38],XMM0
007cc7b4 : CALL 0x004ff710
007cc7b9 : MOVQ XMM0,qword ptr [ESP + 0x20]
007cc7bf : MOV ECX,dword ptr [ESI + 0x2c]
007cc7c2 : MOV AL,0x1
007cc7c4 : MOVQ qword ptr [ESI + 0x74],XMM0
007cc7c9 : MOVQ XMM0,qword ptr [ESP + 0x28]
007cc7cf : MOVQ qword ptr [ESI + 0x7c],XMM0
007cc7d4 : MOV byte ptr [ESI + 0x5d],AL
007cc7d7 : MOV byte ptr [ESI + 0x134],AL
007cc7dd : MOV byte ptr [ESI + 0x5c],AL
007cc7e0 : TEST ECX,ECX
007cc7e2 : JZ 0x007cc7ec
007cc7e4 : MOV EDX,dword ptr [ECX]
007cc7e6 : MOV EAX,dword ptr [EDX + 0x60]
007cc7e9 : PUSH ESI
007cc7ea : CALL EAX
007cc7ec : MOV ESP,EBP
007cc7ee : POP EBP
007cc7ef : RET
