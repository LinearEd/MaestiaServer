PROGRAM  : Maestia.exe
FUNCTION : FUN_009c6130
ENTRY    : 009c6130
BODY     : [[009c6130, 009c62c0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009c6130(void)

{
  short sVar1;
  uint uVar2;
  int iVar3;
  short *psVar4;
  short *psVar5;
  uint local_4c;
  undefined1 local_48 [4];
  undefined2 local_44;
  undefined4 local_34;
  uint local_30;
  undefined1 local_2c [4];
  undefined2 local_28;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2d808;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_30 = 7;
  local_34 = 0;
  local_44 = 0;
  FUN_00406360(L"IDS_CHANNEL_ONECOUNT_NOT_OPEN",0x1d);
  local_8 = 0;
  iVar3 = FUN_0081d120(local_48);
  local_8._0_1_ = 1;
  if (*(uint *)(iVar3 + 0x18) < 8) {
    psVar5 = (short *)(iVar3 + 4);
  }
  else {
    psVar5 = *(short **)(iVar3 + 4);
  }
  local_28 = 0;
  local_14 = 7;
  local_18 = 0;
  psVar4 = psVar5;
  do {
    sVar1 = *psVar4;
    psVar4 = psVar4 + 1;
  } while (sVar1 != 0);
  FUN_00406360(psVar5,(int)psVar4 - (int)(psVar5 + 1) >> 1);
  local_8._0_1_ = 2;
  iVar3 = FUN_008ede80(local_2c,0);
  local_8 = CONCAT31(local_8._1_3_,1);
  if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar2);
  }
  local_14 = 7;
  local_18 = 0;
  local_28 = 0;
  local_8 = (uint)local_8._1_3_ << 8;
  if (7 < local_4c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar2);
  }
  local_8 = 0xffffffff;
  if (local_30 < 8) {
    local_30 = 7;
    local_34 = 0;
    local_44 = 0;
    if (iVar3 == 0) {
      FUN_00406460(L"ReceiveChannelCount AvaGuiMsgDlg NULL");
      local_8 = 3;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                  (L"AvaGuiChannel::ReceiveChannelCount",0x8f,local_48);
      }
      local_8 = 0xffffffff;
      if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    ExceptionList = local_10;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0(uVar2);
}



============================================================
DISASSEMBLY
============================================================
009c6130 : PUSH EBP
009c6131 : MOV EBP,ESP
009c6133 : PUSH -0x1
009c6135 : PUSH 0xb2d808
009c613a : MOV EAX,FS:[0x0]
009c6140 : PUSH EAX
009c6141 : SUB ESP,0x54
009c6144 : PUSH EBX
009c6145 : PUSH ESI
009c6146 : PUSH EDI
009c6147 : MOV EAX,[0x00d66fa0]
009c614c : XOR EAX,EBP
009c614e : PUSH EAX
009c614f : LEA EAX,[EBP + -0xc]
009c6152 : MOV FS:[0x0],EAX
009c6158 : PUSH 0x1d
009c615a : XOR EAX,EAX
009c615c : XOR EBX,EBX
009c615e : PUSH 0xc91f44
009c6163 : LEA ECX,[EBP + -0x44]
009c6166 : MOV dword ptr [EBP + -0x2c],0x7
009c616d : MOV dword ptr [EBP + -0x30],EBX
009c6170 : MOV word ptr [EBP + -0x40],AX
009c6174 : CALL 0x00406360
009c6179 : MOV dword ptr [EBP + -0x4],EBX
009c617c : LEA ECX,[EBP + -0x44]
009c617f : PUSH ECX
009c6180 : MOV ECX,dword ptr [0x0172491c]
009c6186 : LEA EDI,[EBP + -0x60]
009c6189 : CALL 0x0081d120
009c618e : MOV byte ptr [EBP + -0x4],0x1
009c6192 : MOV ESI,0x8
009c6197 : CMP dword ptr [EAX + 0x18],ESI
009c619a : JC 0x009c61a1
009c619c : MOV EDX,dword ptr [EAX + 0x4]
009c619f : JMP 0x009c61a4
009c61a1 : LEA EDX,[EAX + 0x4]
009c61a4 : XOR EAX,EAX
009c61a6 : MOV word ptr [EBP + -0x24],AX
009c61aa : MOV EAX,EDX
009c61ac : MOV dword ptr [EBP + -0x10],0x7
009c61b3 : MOV dword ptr [EBP + -0x14],EBX
009c61b6 : LEA EDI,[EAX + 0x2]
009c61b9 : LEA ESP,[ESP]
009c61c0 : MOV CX,word ptr [EAX]
009c61c3 : ADD EAX,0x2
009c61c6 : CMP CX,BX
009c61c9 : JNZ 0x009c61c0
009c61cb : SUB EAX,EDI
009c61cd : SAR EAX,0x1
009c61cf : PUSH EAX
009c61d0 : PUSH EDX
009c61d1 : LEA ECX,[EBP + -0x28]
009c61d4 : CALL 0x00406360
009c61d9 : MOV byte ptr [EBP + -0x4],0x2
009c61dd : MOV ECX,dword ptr [0x00da9894]
009c61e3 : MOV ECX,dword ptr [ECX]
009c61e5 : PUSH EBX
009c61e6 : LEA EDX,[EBP + -0x28]
009c61e9 : PUSH EDX
009c61ea : CALL 0x008ede80
009c61ef : MOV EDI,EAX
009c61f1 : MOV byte ptr [EBP + -0x4],0x1
009c61f5 : CMP dword ptr [EBP + -0x10],ESI
009c61f8 : JC 0x009c6202
009c61fa : MOV ECX,dword ptr [EBP + -0x24]
009c61fd : CALL 0x006f04e0
009c6202 : XOR EAX,EAX
009c6204 : MOV dword ptr [EBP + -0x10],0x7
009c620b : MOV dword ptr [EBP + -0x14],EBX
009c620e : MOV word ptr [EBP + -0x24],AX
009c6212 : MOV byte ptr [EBP + -0x4],BL
009c6215 : CMP dword ptr [EBP + -0x48],ESI
009c6218 : JC 0x009c6222
009c621a : MOV ECX,dword ptr [EBP + -0x5c]
009c621d : CALL 0x006f04e0
009c6222 : XOR ECX,ECX
009c6224 : OR ESI,0xffffffff
009c6227 : MOV dword ptr [EBP + -0x48],0x7
009c622e : MOV dword ptr [EBP + -0x4c],EBX
009c6231 : MOV word ptr [EBP + -0x5c],CX
009c6235 : MOV dword ptr [EBP + -0x4],ESI
009c6238 : CMP dword ptr [EBP + -0x2c],0x8
009c623c : JC 0x009c6246
009c623e : MOV ECX,dword ptr [EBP + -0x40]
009c6241 : CALL 0x006f04e0
009c6246 : XOR EDX,EDX
009c6248 : MOV dword ptr [EBP + -0x2c],0x7
009c624f : MOV dword ptr [EBP + -0x30],EBX
009c6252 : MOV word ptr [EBP + -0x40],DX
009c6256 : CMP EDI,EBX
009c6258 : JNZ 0x009c62af
009c625a : PUSH 0xc91f80
009c625f : LEA ECX,[EBP + -0x44]
009c6262 : CALL 0x00406460
009c6267 : MOV dword ptr [EBP + -0x4],0x3
009c626e : MOV EAX,[0x00da98e8]
009c6273 : MOV ECX,dword ptr [EAX]
009c6275 : CMP ECX,EBX
009c6277 : JZ 0x009c628e
009c6279 : MOV EDX,dword ptr [ECX]
009c627b : MOV EDX,dword ptr [EDX + 0x14]
009c627e : LEA EAX,[EBP + -0x44]
009c6281 : PUSH EAX
009c6282 : PUSH 0x8f
009c6287 : PUSH 0xc91fd0
009c628c : CALL EDX
009c628e : MOV dword ptr [EBP + -0x4],ESI
009c6291 : CMP dword ptr [EBP + -0x2c],0x8
009c6295 : JC 0x009c629f
009c6297 : MOV ECX,dword ptr [EBP + -0x40]
009c629a : CALL 0x006f04e0
009c629f : XOR EAX,EAX
009c62a1 : MOV dword ptr [EBP + -0x2c],0x7
009c62a8 : MOV dword ptr [EBP + -0x30],EBX
009c62ab : MOV word ptr [EBP + -0x40],AX
009c62af : MOV ECX,dword ptr [EBP + -0xc]
009c62b2 : MOV dword ptr FS:[0x0],ECX
009c62b9 : POP ECX
009c62ba : POP EDI
009c62bb : POP ESI
009c62bc : POP EBX
009c62bd : MOV ESP,EBP
009c62bf : POP EBP
009c62c0 : RET
