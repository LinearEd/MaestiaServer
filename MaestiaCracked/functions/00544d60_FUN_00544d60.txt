PROGRAM  : Maestia.exe
FUNCTION : FUN_00544d60
ENTRY    : 00544d60
BODY     : [[00544d60, 00544e0c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00544d60(uint param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int in_ECX;
  uint uVar6;
  
  if ((*(int *)(in_ECX + 0x1c) != 0) && (iVar1 = FUN_0053b4b0(), iVar1 != 0)) {
    uVar2 = *(int *)(*(int *)(in_ECX + 0x30) + 0x1c) + *(int *)(in_ECX + 0x68);
    uVar3 = *(uint *)(*(int *)(in_ECX + 0x1c) + 0x30);
    if ((uVar2 <= uVar3) && (uVar3 <= uVar2 + param_1)) {
      uVar6 = uVar3 - uVar2;
      if (param_1 <= uVar3 - uVar2) {
        uVar6 = param_1;
      }
      uVar3 = FUN_0053b4b0();
      uVar2 = (*(int *)(in_ECX + 0x28) - uVar6) + param_1;
      if (uVar3 < uVar2) {
        iVar4 = FUN_0053b4b0();
        iVar1 = *(int *)(in_ECX + 0x28);
        iVar5 = FUN_0053b4b0();
        *(int *)(in_ECX + 0xa8) = *(int *)(in_ECX + 0xa8) + iVar5;
        *(int *)(in_ECX + 0x28) = iVar5;
        param_1 = (iVar1 - iVar4) + param_1;
      }
      else {
        *(int *)(in_ECX + 0xa8) = *(int *)(in_ECX + 0xa8) + (param_1 - uVar6);
        *(uint *)(in_ECX + 0x28) = uVar2;
        param_1 = uVar6;
      }
    }
  }
  if (param_1 != 0) {
    FUN_0053d070(param_1);
    *(int *)(in_ECX + 0xa8) = *(int *)(in_ECX + 0xa8) + param_1;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00544d60 : PUSH EBX
00544d61 : PUSH ESI
00544d62 : MOV ESI,ECX
00544d64 : MOV EAX,dword ptr [ESI + 0x1c]
00544d67 : PUSH EDI
00544d68 : TEST EAX,EAX
00544d6a : JZ 0x00544df0
00544d70 : LEA ECX,[EAX + 0x14]
00544d73 : CALL 0x0053b4b0
00544d78 : TEST EAX,EAX
00544d7a : JBE 0x00544df0
00544d7c : MOV EAX,dword ptr [ESI + 0x30]
00544d7f : MOV EAX,dword ptr [EAX + 0x1c]
00544d82 : MOV EDX,dword ptr [ESI + 0x1c]
00544d85 : ADD EAX,dword ptr [ESI + 0x68]
00544d88 : MOV ECX,dword ptr [EDX + 0x30]
00544d8b : CMP EAX,ECX
00544d8d : JA 0x00544df0
00544d8f : MOV EBX,dword ptr [ESP + 0x10]
00544d93 : LEA EDI,[EAX + EBX*0x1]
00544d96 : CMP EDI,ECX
00544d98 : JC 0x00544df4
00544d9a : SUB ECX,EAX
00544d9c : MOV EDI,ECX
00544d9e : CMP ECX,EBX
00544da0 : JC 0x00544da4
00544da2 : MOV EDI,EBX
00544da4 : LEA ECX,[EDX + 0x14]
00544da7 : CALL 0x0053b4b0
00544dac : MOV ECX,dword ptr [ESI + 0x28]
00544daf : SUB ECX,EDI
00544db1 : ADD ECX,EBX
00544db3 : CMP ECX,EAX
00544db5 : JBE 0x00544de1
00544db7 : MOV EAX,dword ptr [ESI + 0x1c]
00544dba : LEA ECX,[EAX + 0x14]
00544dbd : CALL 0x0053b4b0
00544dc2 : MOV EDI,dword ptr [ESI + 0x28]
00544dc5 : SUB EDI,EAX
00544dc7 : MOV EAX,dword ptr [ESI + 0x1c]
00544dca : LEA ECX,[EAX + 0x14]
00544dcd : ADD EDI,EBX
00544dcf : CALL 0x0053b4b0
00544dd4 : ADD dword ptr [ESI + 0xa8],EAX
00544dda : MOV dword ptr [ESI + 0x28],EAX
00544ddd : MOV EBX,EDI
00544ddf : JMP 0x00544df4
00544de1 : SUB EBX,EDI
00544de3 : ADD dword ptr [ESI + 0xa8],EBX
00544de9 : MOV dword ptr [ESI + 0x28],ECX
00544dec : MOV EBX,EDI
00544dee : JMP 0x00544df4
00544df0 : MOV EBX,dword ptr [ESP + 0x10]
00544df4 : TEST EBX,EBX
00544df6 : JBE 0x00544e07
00544df8 : PUSH EBX
00544df9 : LEA ECX,[ESI + 0x4c]
00544dfc : CALL 0x0053d070
00544e01 : ADD dword ptr [ESI + 0xa8],EBX
00544e07 : POP EDI
00544e08 : POP ESI
00544e09 : POP EBX
00544e0a : RET 0x4
