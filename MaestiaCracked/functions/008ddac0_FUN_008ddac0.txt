PROGRAM  : Maestia.exe
FUNCTION : FUN_008ddac0
ENTRY    : 008ddac0
BODY     : [[008ddac0, 008ddb8c] [008ddb90, 008ddcf5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008ddac0(int param_1)

{
  int *piVar1;
  undefined4 *puVar2;
  int *piVar3;
  int *piVar4;
  int in_EAX;
  int iVar5;
  
  if (*(int *)(in_EAX + 0x1bc) == param_1) {
    FUN_008018d0(L"Premiumshop type same..");
    return;
  }
  piVar1 = *(int **)(in_EAX + 0x1d8);
  if ((piVar1 != (int *)0x0) && (*(char *)((int)piVar1 + 0x32) != '\0')) {
    (**(code **)(*piVar1 + 0x20))();
  }
  piVar1 = *(int **)(in_EAX + 0x1d0);
  if (piVar1 != (int *)0x0) {
    if (*(char *)((int)piVar1 + 0x32) != '\0') {
      (**(code **)(*piVar1 + 0x20))();
    }
    FUN_00a83b50();
  }
  piVar1 = *(int **)(in_EAX + 0x1dc);
  if ((piVar1 != (int *)0x0) && (*(char *)((int)piVar1 + 0x32) != '\0')) {
    (**(code **)(*piVar1 + 0x20))();
  }
  piVar1 = *(int **)(in_EAX + 0x1d4);
  if (piVar1 != (int *)0x0) {
    if (*(char *)((int)piVar1 + 0x32) != '\0') {
      (**(code **)(*piVar1 + 0x20))();
    }
    FUN_00a81f70();
  }
  if ((*DAT_00da9894 != 0) &&
     (puVar2 = *(undefined4 **)(*DAT_00da9894 + 0x114), puVar2 != (undefined4 *)0x0)) {
    (**(code **)*puVar2)("mc_premiumshop.PremiumitemInfoClose");
  }
  piVar1 = *(int **)(in_EAX + 0x3c);
  piVar3 = (int *)*piVar1;
  piVar4 = DAT_00da9894;
  while (DAT_00da9894 = piVar4, piVar3 != piVar1) {
    *(undefined2 *)(piVar3[4] + 0x60) = 0;
    FUN_00416210();
    piVar4 = DAT_00da9894;
    piVar1 = *(int **)(in_EAX + 0x3c);
  }
  *(int *)(in_EAX + 0x1bc) = param_1;
  if ((*piVar4 != 0) && (piVar1 = *(int **)(*piVar4 + 0x114), piVar1 != (int *)0x0)) {
    (**(code **)(*piVar1 + 4))(piVar1,"mc_premiumshop.ChangePremiumShop",&DAT_00c58564,param_1);
  }
  FUN_008da2f0();
  if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
    (**(code **)(*piVar1 + 4))(piVar1,"mc_premiumshop.SetMainTab",&DAT_00c5858c,0);
  }
  if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
    (**(code **)(*piVar1 + 4))(piVar1,"mc_premiumshop.SetSubTab",&DAT_00c585ac,0);
  }
  if (((*(int *)(in_EAX + 0x1b0) == 0) && (*DAT_00da9894 != 0)) &&
     (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
    (**(code **)(*piVar1 + 4))(piVar1,"mc_premiumshop.SetPreviewTab",&DAT_00c585cc,1);
  }
  if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
    (**(code **)(*piVar1 + 4))(piVar1,"mc_premiumshop.SetPreviewTab",&DAT_00c585f0,0);
  }
  if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
    if (*(uint *)(in_EAX + 0x1f8) < 8) {
      iVar5 = in_EAX + 0x1e4;
    }
    else {
      iVar5 = *(int *)(in_EAX + 0x1e4);
    }
    (**(code **)(*piVar1 + 4))(piVar1,"mc_premiumshop.SetVisibleMainTab",&DAT_00c58614,iVar5);
  }
  FUN_008dc720(in_EAX);
  FUN_008db0f0();
  FUN_008dd970(in_EAX);
  return;
}



============================================================
DISASSEMBLY
============================================================
008ddac0 : PUSH EBP
008ddac1 : MOV EBP,ESP
008ddac3 : PUSH EBX
008ddac4 : MOV EBX,dword ptr [EBP + 0x8]
008ddac7 : PUSH ESI
008ddac8 : MOV ESI,EAX
008ddaca : PUSH EDI
008ddacb : CMP dword ptr [ESI + 0x1bc],EBX
008ddad1 : JNZ 0x008ddaed
008ddad3 : MOV ESI,dword ptr [0x00da98e8]
008ddad9 : PUSH 0xc58510
008ddade : CALL 0x008018d0
008ddae3 : ADD ESP,0x4
008ddae6 : POP EDI
008ddae7 : POP ESI
008ddae8 : POP EBX
008ddae9 : POP EBP
008ddaea : RET 0x4
008ddaed : MOV ECX,dword ptr [ESI + 0x1d8]
008ddaf3 : TEST ECX,ECX
008ddaf5 : JZ 0x008ddb04
008ddaf7 : CMP byte ptr [ECX + 0x32],0x0
008ddafb : JZ 0x008ddb04
008ddafd : MOV EAX,dword ptr [ECX]
008ddaff : MOV EDX,dword ptr [EAX + 0x20]
008ddb02 : CALL EDX
008ddb04 : MOV ECX,dword ptr [ESI + 0x1d0]
008ddb0a : TEST ECX,ECX
008ddb0c : JZ 0x008ddb26
008ddb0e : CMP byte ptr [ECX + 0x32],0x0
008ddb12 : JZ 0x008ddb1b
008ddb14 : MOV EAX,dword ptr [ECX]
008ddb16 : MOV EDX,dword ptr [EAX + 0x20]
008ddb19 : CALL EDX
008ddb1b : MOV EDI,dword ptr [ESI + 0x1d0]
008ddb21 : CALL 0x00a83b50
008ddb26 : MOV ECX,dword ptr [ESI + 0x1dc]
008ddb2c : TEST ECX,ECX
008ddb2e : JZ 0x008ddb3d
008ddb30 : CMP byte ptr [ECX + 0x32],0x0
008ddb34 : JZ 0x008ddb3d
008ddb36 : MOV EAX,dword ptr [ECX]
008ddb38 : MOV EDX,dword ptr [EAX + 0x20]
008ddb3b : CALL EDX
008ddb3d : MOV ECX,dword ptr [ESI + 0x1d4]
008ddb43 : TEST ECX,ECX
008ddb45 : JZ 0x008ddb5f
008ddb47 : CMP byte ptr [ECX + 0x32],0x0
008ddb4b : JZ 0x008ddb54
008ddb4d : MOV EAX,dword ptr [ECX]
008ddb4f : MOV EDX,dword ptr [EAX + 0x20]
008ddb52 : CALL EDX
008ddb54 : MOV EDI,dword ptr [ESI + 0x1d4]
008ddb5a : CALL 0x00a81f70
008ddb5f : MOV EAX,[0x00da9894]
008ddb64 : MOV EAX,dword ptr [EAX]
008ddb66 : TEST EAX,EAX
008ddb68 : JZ 0x008ddb7f
008ddb6a : MOV ECX,dword ptr [EAX + 0x114]
008ddb70 : TEST ECX,ECX
008ddb72 : JZ 0x008ddb7f
008ddb74 : MOV EDX,dword ptr [ECX]
008ddb76 : MOV EAX,dword ptr [EDX]
008ddb78 : PUSH 0xc58540
008ddb7d : CALL EAX
008ddb7f : MOV ECX,dword ptr [ESI + 0x3c]
008ddb82 : MOV EAX,dword ptr [ECX]
008ddb84 : MOV dword ptr [EBP + 0x8],EAX
008ddb87 : CMP EAX,ECX
008ddb89 : JZ 0x008ddba9
008ddb8b : JMP 0x008ddb90
008ddb90 : MOV ECX,dword ptr [EAX + 0x10]
008ddb93 : XOR EDX,EDX
008ddb95 : MOV word ptr [ECX + 0x60],DX
008ddb99 : LEA EDX,[EBP + 0x8]
008ddb9c : CALL 0x00416210
008ddba1 : MOV EAX,dword ptr [EBP + 0x8]
008ddba4 : CMP EAX,dword ptr [ESI + 0x3c]
008ddba7 : JNZ 0x008ddb90
008ddba9 : MOV EAX,[0x00da9894]
008ddbae : MOV dword ptr [ESI + 0x1bc],EBX
008ddbb4 : MOV EAX,dword ptr [EAX]
008ddbb6 : TEST EAX,EAX
008ddbb8 : JZ 0x008ddbda
008ddbba : MOV EAX,dword ptr [EAX + 0x114]
008ddbc0 : TEST EAX,EAX
008ddbc2 : JZ 0x008ddbda
008ddbc4 : MOV ECX,dword ptr [EAX]
008ddbc6 : MOV EDX,dword ptr [ECX + 0x4]
008ddbc9 : PUSH EBX
008ddbca : PUSH 0xc58564
008ddbcf : PUSH 0xc58568
008ddbd4 : PUSH EAX
008ddbd5 : CALL EDX
008ddbd7 : ADD ESP,0x10
008ddbda : MOV ECX,ESI
008ddbdc : CALL 0x008da2f0
008ddbe1 : MOV EAX,[0x00da9894]
008ddbe6 : MOV EAX,dword ptr [EAX]
008ddbe8 : TEST EAX,EAX
008ddbea : JZ 0x008ddc0d
008ddbec : MOV EAX,dword ptr [EAX + 0x114]
008ddbf2 : TEST EAX,EAX
008ddbf4 : JZ 0x008ddc0d
008ddbf6 : MOV ECX,dword ptr [EAX]
008ddbf8 : MOV EDX,dword ptr [ECX + 0x4]
008ddbfb : PUSH 0x0
008ddbfd : PUSH 0xc5858c
008ddc02 : PUSH 0xc58590
008ddc07 : PUSH EAX
008ddc08 : CALL EDX
008ddc0a : ADD ESP,0x10
008ddc0d : MOV EAX,[0x00da9894]
008ddc12 : MOV EAX,dword ptr [EAX]
008ddc14 : TEST EAX,EAX
008ddc16 : JZ 0x008ddc39
008ddc18 : MOV EAX,dword ptr [EAX + 0x114]
008ddc1e : TEST EAX,EAX
008ddc20 : JZ 0x008ddc39
008ddc22 : MOV ECX,dword ptr [EAX]
008ddc24 : MOV EDX,dword ptr [ECX + 0x4]
008ddc27 : PUSH 0x0
008ddc29 : PUSH 0xc585ac
008ddc2e : PUSH 0xc585b0
008ddc33 : PUSH EAX
008ddc34 : CALL EDX
008ddc36 : ADD ESP,0x10
008ddc39 : CMP dword ptr [ESI + 0x1b0],0x0
008ddc40 : JNZ 0x008ddc6e
008ddc42 : MOV EAX,[0x00da9894]
008ddc47 : MOV EAX,dword ptr [EAX]
008ddc49 : TEST EAX,EAX
008ddc4b : JZ 0x008ddc6e
008ddc4d : MOV EAX,dword ptr [EAX + 0x114]
008ddc53 : TEST EAX,EAX
008ddc55 : JZ 0x008ddc6e
008ddc57 : MOV ECX,dword ptr [EAX]
008ddc59 : MOV EDX,dword ptr [ECX + 0x4]
008ddc5c : PUSH 0x1
008ddc5e : PUSH 0xc585cc
008ddc63 : PUSH 0xc585d0
008ddc68 : PUSH EAX
008ddc69 : CALL EDX
008ddc6b : ADD ESP,0x10
008ddc6e : MOV EAX,[0x00da9894]
008ddc73 : MOV EAX,dword ptr [EAX]
008ddc75 : TEST EAX,EAX
008ddc77 : JZ 0x008ddc9a
008ddc79 : MOV EAX,dword ptr [EAX + 0x114]
008ddc7f : TEST EAX,EAX
008ddc81 : JZ 0x008ddc9a
008ddc83 : MOV ECX,dword ptr [EAX]
008ddc85 : MOV EDX,dword ptr [ECX + 0x4]
008ddc88 : PUSH 0x0
008ddc8a : PUSH 0xc585f0
008ddc8f : PUSH 0xc585f4
008ddc94 : PUSH EAX
008ddc95 : CALL EDX
008ddc97 : ADD ESP,0x10
008ddc9a : MOV EAX,[0x00da9894]
008ddc9f : MOV EAX,dword ptr [EAX]
008ddca1 : TEST EAX,EAX
008ddca3 : JZ 0x008ddcdc
008ddca5 : MOV EAX,dword ptr [EAX + 0x114]
008ddcab : TEST EAX,EAX
008ddcad : JZ 0x008ddcdc
008ddcaf : CMP dword ptr [ESI + 0x1f8],0x8
008ddcb6 : JC 0x008ddcc0
008ddcb8 : MOV ECX,dword ptr [ESI + 0x1e4]
008ddcbe : JMP 0x008ddcc6
008ddcc0 : LEA ECX,[ESI + 0x1e4]
008ddcc6 : MOV EDX,dword ptr [EAX]
008ddcc8 : PUSH ECX
008ddcc9 : PUSH 0xc58614
008ddcce : PUSH 0xc58618
008ddcd3 : PUSH EAX
008ddcd4 : MOV EAX,dword ptr [EDX + 0x4]
008ddcd7 : CALL EAX
008ddcd9 : ADD ESP,0x10
008ddcdc : PUSH ESI
008ddcdd : CALL 0x008dc720
008ddce2 : MOV ECX,ESI
008ddce4 : CALL 0x008db0f0
008ddce9 : PUSH ESI
008ddcea : CALL 0x008dd970
008ddcef : POP EDI
008ddcf0 : POP ESI
008ddcf1 : POP EBX
008ddcf2 : POP EBP
008ddcf3 : RET 0x4
