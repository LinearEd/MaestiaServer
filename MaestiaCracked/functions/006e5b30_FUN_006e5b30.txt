PROGRAM  : Maestia.exe
FUNCTION : FUN_006e5b30
ENTRY    : 006e5b30
BODY     : [[006e5b30, 006e5c75]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006e5b30(int param_1,undefined4 *param_2,int *param_3,int param_4,int param_5)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  byte *pbVar9;
  undefined1 *puVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int local_18;
  
  param_5 = param_5 + -1;
  iVar4 = *(int *)(param_1 + 0x1c);
  iVar5 = *(int *)(*(int *)(param_1 + 0x150) + 8);
  if (-1 < param_5) {
    param_4 = param_4 * 4;
    do {
      pbVar9 = (byte *)*param_2;
      piVar1 = (int *)(param_4 + param_3[2]);
      param_2 = param_2 + 1;
      puVar10 = *(undefined1 **)(param_4 + *param_3);
      piVar2 = (int *)(param_4 + param_3[1]);
      piVar3 = (int *)(param_4 + param_3[3]);
      param_4 = param_4 + 4;
      if (iVar4 != 0) {
        iVar6 = *piVar3 - (int)puVar10;
        iVar12 = *piVar2 - (int)puVar10;
        iVar7 = *piVar1 - (int)puVar10;
        local_18 = iVar4;
        do {
          iVar8 = 0xff - (uint)*pbVar9;
          iVar11 = 0xff - (uint)pbVar9[1];
          iVar13 = 0xff - (uint)pbVar9[2];
          puVar10[iVar6] = pbVar9[3];
          pbVar9 = pbVar9 + 4;
          *puVar10 = (char)((uint)(*(int *)(iVar5 + 0x800 + iVar13 * 4) +
                                   *(int *)(iVar5 + 0x400 + iVar11 * 4) +
                                  *(int *)(iVar5 + iVar8 * 4)) >> 0x10);
          puVar10 = puVar10 + 1;
          puVar10[iVar12 + -1] =
               (char)((uint)(*(int *)(iVar5 + 0x1400 + iVar13 * 4) +
                             *(int *)(iVar5 + 0x1000 + iVar11 * 4) +
                            *(int *)(iVar5 + 0xc00 + iVar8 * 4)) >> 0x10);
          local_18 = local_18 + -1;
          puVar10[iVar7 + -1] =
               (char)((uint)(*(int *)(iVar5 + 0x1c00 + iVar13 * 4) +
                             *(int *)(iVar5 + 0x1800 + iVar11 * 4) +
                            *(int *)(iVar5 + 0x1400 + iVar8 * 4)) >> 0x10);
        } while (local_18 != 0);
      }
      param_5 = param_5 + -1;
    } while (-1 < param_5);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006e5b30 : SUB ESP,0x18
006e5b33 : SUB dword ptr [ESP + 0x2c],0x1
006e5b38 : MOV ECX,dword ptr [ESP + 0x1c]
006e5b3c : MOV EAX,dword ptr [ECX + 0x150]
006e5b42 : MOV ECX,dword ptr [ECX + 0x1c]
006e5b45 : MOV EAX,dword ptr [EAX + 0x8]
006e5b48 : MOV dword ptr [ESP + 0x4],ECX
006e5b4c : JS 0x006e5c72
006e5b52 : MOV ECX,dword ptr [ESP + 0x28]
006e5b56 : PUSH EBX
006e5b57 : PUSH EBP
006e5b58 : PUSH ESI
006e5b59 : MOV ESI,dword ptr [ESP + 0x30]
006e5b5d : ADD ECX,ECX
006e5b5f : PUSH EDI
006e5b60 : ADD ECX,ECX
006e5b62 : MOV EDI,dword ptr [ESP + 0x30]
006e5b66 : MOV EDX,dword ptr [EDI]
006e5b68 : MOV EBX,dword ptr [ESI + 0x8]
006e5b6b : MOV EBX,dword ptr [ECX + EBX*0x1]
006e5b6e : ADD EDI,0x4
006e5b71 : MOV dword ptr [ESP + 0x30],EDI
006e5b75 : MOV EDI,dword ptr [ESI]
006e5b77 : MOV EBP,dword ptr [ECX + EDI*0x1]
006e5b7a : MOV EDI,dword ptr [ESI + 0x4]
006e5b7d : MOV EDI,dword ptr [ECX + EDI*0x1]
006e5b80 : MOV dword ptr [ESP + 0x18],EBX
006e5b84 : MOV EBX,dword ptr [ESI + 0xc]
006e5b87 : MOV EBX,dword ptr [ECX + EBX*0x1]
006e5b8a : MOV dword ptr [ESP + 0x10],EBX
006e5b8e : MOV EBX,dword ptr [ESP + 0x14]
006e5b92 : ADD ECX,0x4
006e5b95 : MOV dword ptr [ESP + 0x2c],EDX
006e5b99 : MOV dword ptr [ESP + 0x24],ECX
006e5b9d : TEST EBX,EBX
006e5b9f : JBE 0x006e5c63
006e5ba5 : MOV ECX,dword ptr [ESP + 0x10]
006e5ba9 : SUB ECX,EBP
006e5bab : MOV dword ptr [ESP + 0x1c],ECX
006e5baf : MOV ECX,dword ptr [ESP + 0x18]
006e5bb3 : SUB EDI,EBP
006e5bb5 : SUB ECX,EBP
006e5bb7 : MOV dword ptr [ESP + 0x20],EDI
006e5bbb : MOV dword ptr [ESP + 0x18],ECX
006e5bbf : MOV dword ptr [ESP + 0x10],EBX
006e5bc3 : JMP 0x006e5bc9
006e5bc5 : MOV EDX,dword ptr [ESP + 0x2c]
006e5bc9 : MOVZX ESI,byte ptr [EDX]
006e5bcc : MOVZX EDI,byte ptr [EDX + 0x1]
006e5bd0 : MOVZX EBX,byte ptr [EDX + 0x2]
006e5bd4 : MOV DL,byte ptr [EDX + 0x3]
006e5bd7 : MOV ECX,0xff
006e5bdc : SUB ECX,ESI
006e5bde : MOV ESI,0xff
006e5be3 : SUB ESI,EDI
006e5be5 : MOV EDI,0xff
006e5bea : SUB EDI,EBX
006e5bec : MOV EBX,dword ptr [ESP + 0x1c]
006e5bf0 : MOV byte ptr [EBX + EBP*0x1],DL
006e5bf3 : MOV EDX,dword ptr [EAX + EDI*0x4 + 0x800]
006e5bfa : ADD EDX,dword ptr [EAX + ESI*0x4 + 0x400]
006e5c01 : MOV EBX,dword ptr [ESP + 0x20]
006e5c05 : ADD EDX,dword ptr [EAX + ECX*0x4]
006e5c08 : ADD dword ptr [ESP + 0x2c],0x4
006e5c0d : SAR EDX,0x10
006e5c10 : MOV byte ptr [EBP],DL
006e5c13 : MOV EDX,dword ptr [EAX + EDI*0x4 + 0x1400]
006e5c1a : ADD EDX,dword ptr [EAX + ESI*0x4 + 0x1000]
006e5c21 : INC EBP
006e5c22 : ADD EDX,dword ptr [EAX + ECX*0x4 + 0xc00]
006e5c29 : SAR EDX,0x10
006e5c2c : MOV byte ptr [EBX + EBP*0x1 + -0x1],DL
006e5c30 : MOV EDX,dword ptr [EAX + EDI*0x4 + 0x1c00]
006e5c37 : ADD EDX,dword ptr [EAX + ESI*0x4 + 0x1800]
006e5c3e : ADD EDX,dword ptr [EAX + ECX*0x4 + 0x1400]
006e5c45 : MOV ECX,dword ptr [ESP + 0x18]
006e5c49 : SAR EDX,0x10
006e5c4c : SUB dword ptr [ESP + 0x10],0x1
006e5c51 : MOV byte ptr [ECX + EBP*0x1 + -0x1],DL
006e5c55 : JNZ 0x006e5bc5
006e5c5b : MOV ESI,dword ptr [ESP + 0x34]
006e5c5f : MOV ECX,dword ptr [ESP + 0x24]
006e5c63 : SUB dword ptr [ESP + 0x3c],0x1
006e5c68 : JNS 0x006e5b62
006e5c6e : POP EDI
006e5c6f : POP ESI
006e5c70 : POP EBP
006e5c71 : POP EBX
006e5c72 : ADD ESP,0x18
006e5c75 : RET
