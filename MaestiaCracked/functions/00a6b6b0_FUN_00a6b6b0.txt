PROGRAM  : Maestia.exe
FUNCTION : FUN_00a6b6b0
ENTRY    : 00a6b6b0
BODY     : [[00a6b6b0, 00a6b778]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00a6b6b0(void)

{
  int iVar1;
  int in_ECX;
  int unaff_EDI;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0ddef;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(in_ECX + 0x70);
  local_18 = 0;
  local_20 = ".\\Objects\\AvaEffectMgr.cpp";
  local_1c = 0xab;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  iVar1 = *(int *)(in_ECX + 0x38);
  while( true ) {
    if (iVar1 == *(int *)(in_ECX + 0x3c)) {
      local_8 = 0xffffffff;
      if (local_18 != 0) {
        LeaveCriticalSection(local_24);
      }
      ExceptionList = local_10;
      return 0;
    }
    if ((*(char *)(iVar1 + 8) != '\0') && (*(int *)(iVar1 + 4) == unaff_EDI)) break;
    iVar1 = iVar1 + 0xc;
  }
  local_8 = 0xffffffff;
  if (local_18 != 0) {
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return unaff_EDI;
}



============================================================
DISASSEMBLY
============================================================
00a6b6b0 : PUSH EBP
00a6b6b1 : MOV EBP,ESP
00a6b6b3 : PUSH -0x1
00a6b6b5 : PUSH 0xb0ddef
00a6b6ba : MOV EAX,FS:[0x0]
00a6b6c0 : PUSH EAX
00a6b6c1 : SUB ESP,0x14
00a6b6c4 : PUSH EBX
00a6b6c5 : PUSH ESI
00a6b6c6 : MOV EAX,[0x00d66fa0]
00a6b6cb : XOR EAX,EBP
00a6b6cd : PUSH EAX
00a6b6ce : LEA EAX,[EBP + -0xc]
00a6b6d1 : MOV FS:[0x0],EAX
00a6b6d7 : MOV ESI,ECX
00a6b6d9 : LEA ECX,[EBP + -0x20]
00a6b6dc : LEA EAX,[ESI + 0x70]
00a6b6df : XOR EBX,EBX
00a6b6e1 : PUSH ECX
00a6b6e2 : MOV dword ptr [EBP + -0x14],EBX
00a6b6e5 : MOV dword ptr [EBP + -0x20],EAX
00a6b6e8 : MOV dword ptr [EBP + -0x1c],0xc43bf4
00a6b6ef : MOV dword ptr [EBP + -0x18],0xab
00a6b6f6 : MOV dword ptr [EBP + -0x10],0x1
00a6b6fd : CALL 0x006ef1a0
00a6b702 : MOV dword ptr [EBP + -0x4],EBX
00a6b705 : MOV EAX,dword ptr [ESI + 0x38]
00a6b708 : MOV ESI,dword ptr [ESI + 0x3c]
00a6b70b : CMP EAX,ESI
00a6b70d : JZ 0x00a6b721
00a6b70f : NOP
00a6b710 : CMP byte ptr [EAX + 0x8],BL
00a6b713 : JZ 0x00a6b71a
00a6b715 : CMP dword ptr [EAX + 0x4],EDI
00a6b718 : JZ 0x00a6b74d
00a6b71a : ADD EAX,0xc
00a6b71d : CMP EAX,ESI
00a6b71f : JNZ 0x00a6b710
00a6b721 : MOV dword ptr [EBP + -0x4],0xffffffff
00a6b728 : CMP dword ptr [EBP + -0x14],EBX
00a6b72b : JZ 0x00a6b73a
00a6b72d : MOV EAX,dword ptr [EBP + -0x20]
00a6b730 : PUSH EAX
00a6b731 : CALL dword ptr [0x00b8511c]
00a6b737 : MOV dword ptr [EBP + -0x14],EBX
00a6b73a : XOR EAX,EAX
00a6b73c : MOV ECX,dword ptr [EBP + -0xc]
00a6b73f : MOV dword ptr FS:[0x0],ECX
00a6b746 : POP ECX
00a6b747 : POP ESI
00a6b748 : POP EBX
00a6b749 : MOV ESP,EBP
00a6b74b : POP EBP
00a6b74c : RET
00a6b74d : MOV dword ptr [EBP + -0x4],0xffffffff
00a6b754 : CMP dword ptr [EBP + -0x14],EBX
00a6b757 : JZ 0x00a6b766
00a6b759 : MOV EDX,dword ptr [EBP + -0x20]
00a6b75c : PUSH EDX
00a6b75d : CALL dword ptr [0x00b8511c]
00a6b763 : MOV dword ptr [EBP + -0x14],EBX
00a6b766 : MOV EAX,EDI
00a6b768 : MOV ECX,dword ptr [EBP + -0xc]
00a6b76b : MOV dword ptr FS:[0x0],ECX
00a6b772 : POP ECX
00a6b773 : POP ESI
00a6b774 : POP EBX
00a6b775 : MOV ESP,EBP
00a6b777 : POP EBP
00a6b778 : RET
