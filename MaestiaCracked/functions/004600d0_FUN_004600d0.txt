PROGRAM  : Maestia.exe
FUNCTION : FUN_004600d0
ENTRY    : 004600d0
BODY     : [[004600d0, 0046015b] [0046015f, 00460177]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004600d0(int *param_1,int *param_2)

{
  undefined4 *puVar1;
  int *piVar2;
  int iVar3;
  int in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b773cd;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar3 = FUN_0044f3f0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar2 = *(int **)(*(int *)(in_ECX + 0x14) + iVar3 * 4);
  puVar1 = (undefined4 *)(*(int *)(in_ECX + 0x14) + iVar3 * 4);
  while ((piVar2 == param_2 && (*puVar1 = *(undefined4 *)*puVar1, iVar3 != 0))) {
    iVar3 = iVar3 + -1;
    piVar2 = *(int **)(*(int *)(in_ECX + 0x14) + iVar3 * 4);
    puVar1 = (undefined4 *)(*(int *)(in_ECX + 0x14) + iVar3 * 4);
  }
  if (param_2 == *(int **)(in_ECX + 8)) {
    *param_1 = *param_2;
    ExceptionList = local_10;
    return;
  }
  *(int *)param_2[1] = *param_2;
  *(int *)(*param_2 + 4) = param_2[1];
  local_8 = 0xffffffff;
  FUN_0045fde0(param_2 + 2);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004600d0 : PUSH EBP
004600d1 : MOV EBP,ESP
004600d3 : PUSH -0x1
004600d5 : PUSH 0xb773cd
004600da : MOV EAX,FS:[0x0]
004600e0 : PUSH EAX
004600e1 : PUSH ECX
004600e2 : PUSH EBX
004600e3 : PUSH ESI
004600e4 : PUSH EDI
004600e5 : MOV EAX,[0x00d66fa0]
004600ea : XOR EAX,EBP
004600ec : PUSH EAX
004600ed : LEA EAX,[EBP + -0xc]
004600f0 : MOV FS:[0x0],EAX
004600f6 : MOV ESI,ECX
004600f8 : MOV EAX,dword ptr [EBP + 0xc]
004600fb : ADD EAX,0x8
004600fe : CALL 0x0044f3f0
00460103 : MOV ECX,dword ptr [ESI + 0x14]
00460106 : MOV EDX,dword ptr [EBP + 0xc]
00460109 : CMP dword ptr [ECX + EAX*0x4],EDX
0046010c : LEA ECX,[ECX + EAX*0x4]
0046010f : JNZ 0x0046012a
00460111 : MOV EDX,dword ptr [ECX]
00460113 : MOV EDX,dword ptr [EDX]
00460115 : MOV dword ptr [ECX],EDX
00460117 : MOV EDX,dword ptr [EBP + 0xc]
0046011a : TEST EAX,EAX
0046011c : JZ 0x0046012a
0046011e : MOV ECX,dword ptr [ESI + 0x14]
00460121 : DEC EAX
00460122 : CMP dword ptr [ECX + EAX*0x4],EDX
00460125 : LEA ECX,[ECX + EAX*0x4]
00460128 : JZ 0x00460111
0046012a : MOV EBX,dword ptr [EDX]
0046012c : MOV EDI,EDX
0046012e : MOV dword ptr [EBP + -0x10],EDI
00460131 : CMP EDX,dword ptr [ESI + 0x8]
00460134 : JZ 0x0046015f
00460136 : MOV ECX,dword ptr [EDX + 0x4]
00460139 : LEA EAX,[EDX + 0x4]
0046013c : MOV dword ptr [ECX],EBX
0046013e : MOV EDX,dword ptr [EDI]
00460140 : MOV EAX,dword ptr [EAX]
00460142 : MOV dword ptr [EDX + 0x4],EAX
00460145 : MOV dword ptr [EBP + -0x4],0xffffffff
0046014c : LEA ECX,[EDI + 0x8]
0046014f : PUSH ECX
00460150 : CALL 0x0045fde0
00460155 : MOV ECX,EDI
00460157 : CALL 0x006f04e0
0046015f : MOV EAX,dword ptr [EBP + 0x8]
00460162 : MOV dword ptr [EAX],EBX
00460164 : MOV ECX,dword ptr [EBP + -0xc]
00460167 : MOV dword ptr FS:[0x0],ECX
0046016e : POP ECX
0046016f : POP EDI
00460170 : POP ESI
00460171 : POP EBX
00460172 : MOV ESP,EBP
00460174 : POP EBP
00460175 : RET 0x8
