PROGRAM  : Maestia.exe
FUNCTION : FUN_007bda30
ENTRY    : 007bda30
BODY     : [[007bda30, 007bdb9c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007bda30(void)

{
  uint uVar1;
  int unaff_EDI;
  uint local_30;
  LPCRITICAL_SECTION local_2c;
  char *local_28;
  undefined4 local_24;
  int local_20;
  undefined4 local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b19dc5;
  local_14 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffffc8;
  ExceptionList = &local_14;
  local_2c = (LPCRITICAL_SECTION)(unaff_EDI + 4);
  local_20 = 0;
  local_28 = ".\\mss\\AvaMssMgr.cpp";
  local_24 = 0xb4;
  local_1c = 1;
  FUN_006ef1a0(&local_2c);
  local_c = 0;
  if (*(int *)(unaff_EDI + 0x20) != 0) {
    if ((*(int *)(unaff_EDI + 0x54) - *(int *)(unaff_EDI + 0x50) & 0xfffffffcU) != 0) {
      local_30 = local_30 & 0xffffff00;
      FUN_004646b0(*(undefined4 *)(unaff_EDI + 0x50),*(undefined4 *)(unaff_EDI + 0x54),local_30,
                   uVar1);
    }
    if ((*(int *)(unaff_EDI + 0x44) - *(int *)(unaff_EDI + 0x40) & 0xfffffffcU) != 0) {
      local_30 = local_30 & 0xffffff00;
      FUN_004646b0(*(undefined4 *)(unaff_EDI + 0x40),*(undefined4 *)(unaff_EDI + 0x44),local_30,
                   uVar1);
    }
    if ((*(int *)(unaff_EDI + 100) - *(int *)(unaff_EDI + 0x60) & 0xfffffffcU) != 0) {
      local_30 = local_30 & 0xffffff00;
      FUN_004646b0(*(undefined4 *)(unaff_EDI + 0x60),*(undefined4 *)(unaff_EDI + 100),local_30,uVar1
                  );
    }
    if ((*(int *)(unaff_EDI + 0x74) - *(int *)(unaff_EDI + 0x70) & 0xfffffffcU) != 0) {
      local_30 = local_30 & 0xffffff00;
      FUN_004646b0(*(undefined4 *)(unaff_EDI + 0x70),*(undefined4 *)(unaff_EDI + 0x74),local_30,
                   uVar1);
    }
    if (*(int *)(unaff_EDI + 0x7c) != 0) {
      FUN_00754240();
    }
    if (*(int *)(unaff_EDI + 0x80) != 0) {
      FUN_00754240();
    }
    FUN_007bcf00(unaff_EDI);
    FUN_007bcc30(unaff_EDI);
  }
  if (local_20 != 0) {
    local_c = 0xffffffff;
    LeaveCriticalSection(local_2c);
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
007bda30 : PUSH EBP
007bda31 : MOV EBP,ESP
007bda33 : AND ESP,0xfffffff8
007bda36 : PUSH -0x1
007bda38 : PUSH 0xb19dc5
007bda3d : MOV EAX,FS:[0x0]
007bda43 : PUSH EAX
007bda44 : SUB ESP,0x1c
007bda47 : PUSH EBX
007bda48 : PUSH ESI
007bda49 : MOV EAX,[0x00d66fa0]
007bda4e : XOR EAX,ESP
007bda50 : PUSH EAX
007bda51 : LEA EAX,[ESP + 0x28]
007bda55 : MOV FS:[0x0],EAX
007bda5b : LEA ECX,[ESP + 0x10]
007bda5f : LEA EAX,[EDI + 0x4]
007bda62 : XOR EBX,EBX
007bda64 : PUSH ECX
007bda65 : MOV dword ptr [ESP + 0x20],EBX
007bda69 : MOV dword ptr [ESP + 0x14],EAX
007bda6d : MOV dword ptr [ESP + 0x18],0xc18c6c
007bda75 : MOV dword ptr [ESP + 0x1c],0xb4
007bda7d : MOV dword ptr [ESP + 0x24],0x1
007bda85 : CALL 0x006ef1a0
007bda8a : MOV dword ptr [ESP + 0x30],EBX
007bda8e : CMP dword ptr [EDI + 0x20],EBX
007bda91 : JNZ 0x007bdaaf
007bda93 : MOV dword ptr [ESP + 0x30],0xffffffff
007bda9b : CMP dword ptr [ESP + 0x1c],EBX
007bda9f : JZ 0x007bdb8b
007bdaa5 : MOV EDX,dword ptr [ESP + 0x10]
007bdaa9 : PUSH EDX
007bdaaa : JMP 0x007bdb81
007bdaaf : MOV EAX,dword ptr [EDI + 0x54]
007bdab2 : SUB EAX,dword ptr [EDI + 0x50]
007bdab5 : TEST EAX,0xfffffffc
007bdaba : JZ 0x007bdad5
007bdabc : MOV EAX,dword ptr [EDI + 0x54]
007bdabf : MOV ECX,dword ptr [EDI + 0x50]
007bdac2 : MOV byte ptr [ESP + 0xc],BL
007bdac6 : MOV EDX,dword ptr [ESP + 0xc]
007bdaca : PUSH EDX
007bdacb : PUSH EAX
007bdacc : PUSH ECX
007bdacd : CALL 0x004646b0
007bdad2 : ADD ESP,0xc
007bdad5 : MOV EAX,dword ptr [EDI + 0x44]
007bdad8 : SUB EAX,dword ptr [EDI + 0x40]
007bdadb : TEST EAX,0xfffffffc
007bdae0 : JZ 0x007bdafb
007bdae2 : MOV EAX,dword ptr [EDI + 0x44]
007bdae5 : MOV ECX,dword ptr [EDI + 0x40]
007bdae8 : MOV byte ptr [ESP + 0xc],BL
007bdaec : MOV EDX,dword ptr [ESP + 0xc]
007bdaf0 : PUSH EDX
007bdaf1 : PUSH EAX
007bdaf2 : PUSH ECX
007bdaf3 : CALL 0x004646b0
007bdaf8 : ADD ESP,0xc
007bdafb : MOV EAX,dword ptr [EDI + 0x64]
007bdafe : SUB EAX,dword ptr [EDI + 0x60]
007bdb01 : TEST EAX,0xfffffffc
007bdb06 : JZ 0x007bdb21
007bdb08 : MOV EAX,dword ptr [EDI + 0x64]
007bdb0b : MOV ECX,dword ptr [EDI + 0x60]
007bdb0e : MOV byte ptr [ESP + 0xc],BL
007bdb12 : MOV EDX,dword ptr [ESP + 0xc]
007bdb16 : PUSH EDX
007bdb17 : PUSH EAX
007bdb18 : PUSH ECX
007bdb19 : CALL 0x004646b0
007bdb1e : ADD ESP,0xc
007bdb21 : MOV EAX,dword ptr [EDI + 0x74]
007bdb24 : SUB EAX,dword ptr [EDI + 0x70]
007bdb27 : TEST EAX,0xfffffffc
007bdb2c : JZ 0x007bdb47
007bdb2e : MOV EAX,dword ptr [EDI + 0x74]
007bdb31 : MOV ECX,dword ptr [EDI + 0x70]
007bdb34 : MOV byte ptr [ESP + 0xc],BL
007bdb38 : MOV EDX,dword ptr [ESP + 0xc]
007bdb3c : PUSH EDX
007bdb3d : PUSH EAX
007bdb3e : PUSH ECX
007bdb3f : CALL 0x004646b0
007bdb44 : ADD ESP,0xc
007bdb47 : MOV ESI,dword ptr [EDI + 0x7c]
007bdb4a : CMP ESI,EBX
007bdb4c : JZ 0x007bdb53
007bdb4e : CALL 0x00754240
007bdb53 : MOV ESI,dword ptr [EDI + 0x80]
007bdb59 : CMP ESI,EBX
007bdb5b : JZ 0x007bdb62
007bdb5d : CALL 0x00754240
007bdb62 : PUSH EDI
007bdb63 : CALL 0x007bcf00
007bdb68 : PUSH EDI
007bdb69 : CALL 0x007bcc30
007bdb6e : MOV dword ptr [ESP + 0x30],0xffffffff
007bdb76 : CMP dword ptr [ESP + 0x1c],EBX
007bdb7a : JZ 0x007bdb8b
007bdb7c : MOV EAX,dword ptr [ESP + 0x10]
007bdb80 : PUSH EAX
007bdb81 : CALL dword ptr [0x00b8511c]
007bdb87 : MOV dword ptr [ESP + 0x1c],EBX
007bdb8b : MOV ECX,dword ptr [ESP + 0x28]
007bdb8f : MOV dword ptr FS:[0x0],ECX
007bdb96 : POP ECX
007bdb97 : POP ESI
007bdb98 : POP EBX
007bdb99 : MOV ESP,EBP
007bdb9b : POP EBP
007bdb9c : RET
