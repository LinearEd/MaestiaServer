PROGRAM  : Maestia.exe
FUNCTION : FUN_00a60bc0
ENTRY    : 00a60bc0
BODY     : [[00a60bc0, 00a60d33]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a60bc0(void)

{
  uint uVar1;
  int in_ECX;
  int *piVar2;
  uint local_34;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  puStack_10 = &LAB_00b0e491;
  local_14 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffffb8;
  ExceptionList = &local_14;
  local_34 = 0;
  if (*(int *)(in_ECX + 0x14) != 0) {
    piVar2 = (int *)(in_ECX + 0x104);
    do {
      local_c = 0;
      if ((int *)piVar2[-4] != (int *)0x0) {
        (**(code **)(*(int *)piVar2[-4] + 0x30))(uVar1);
        piVar2[-4] = 0;
      }
      local_c = 1;
      if ((int *)*piVar2 != (int *)0x0) {
        (**(code **)(*(int *)*piVar2 + 0x30))();
        *piVar2 = 0;
      }
      local_c = 2;
      if ((int *)piVar2[-2] != (int *)0x0) {
        (**(code **)(*(int *)piVar2[-2] + 0x30))();
        piVar2[-2] = 0;
      }
      local_34 = local_34 + 1;
      piVar2 = piVar2 + 6;
    } while (local_34 < *(uint *)(in_ECX + 0x14));
  }
  local_c = 3;
  if (*(int **)(in_ECX + 0x154) != (int *)0x0) {
    (**(code **)(**(int **)(in_ECX + 0x154) + 0x30))();
    *(undefined4 *)(in_ECX + 0x154) = 0;
  }
  local_c = 4;
  if (*(int **)(in_ECX + 0x15c) != (int *)0x0) {
    (**(code **)(**(int **)(in_ECX + 0x15c) + 0x30))();
    *(undefined4 *)(in_ECX + 0x15c) = 0;
  }
  *(undefined4 *)(in_ECX + 0x14) = 0;
  *(undefined1 *)(in_ECX + 4) = 0;
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a60bc0 : PUSH EBP
00a60bc1 : MOV EBP,ESP
00a60bc3 : AND ESP,0xfffffff8
00a60bc6 : PUSH -0x1
00a60bc8 : PUSH 0xb0e491
00a60bcd : MOV EAX,FS:[0x0]
00a60bd3 : PUSH EAX
00a60bd4 : SUB ESP,0x28
00a60bd7 : PUSH EBX
00a60bd8 : PUSH ESI
00a60bd9 : PUSH EDI
00a60bda : MOV EAX,[0x00d66fa0]
00a60bdf : XOR EAX,ESP
00a60be1 : PUSH EAX
00a60be2 : LEA EAX,[ESP + 0x38]
00a60be6 : MOV FS:[0x0],EAX
00a60bec : MOV dword ptr [ESP + 0x14],ECX
00a60bf0 : XOR EBX,EBX
00a60bf2 : MOV dword ptr [ESP + 0x18],EBX
00a60bf6 : MOV EDI,0xcd4964
00a60bfb : CMP dword ptr [ECX + 0x14],EBX
00a60bfe : JBE 0x00a60caa
00a60c04 : LEA ESI,[ECX + 0x104]
00a60c0a : LEA EBX,[EBX]
00a60c10 : MOV dword ptr [ESP + 0x1c],EDI
00a60c14 : MOV dword ptr [ESP + 0x20],EBX
00a60c18 : MOV dword ptr [ESP + 0x40],EBX
00a60c1c : MOV ECX,dword ptr [ESI + -0x10]
00a60c1f : CMP ECX,EBX
00a60c21 : JZ 0x00a60c2d
00a60c23 : MOV EAX,dword ptr [ECX]
00a60c25 : MOV EDX,dword ptr [EAX + 0x30]
00a60c28 : CALL EDX
00a60c2a : MOV dword ptr [ESI + -0x10],EBX
00a60c2d : MOV dword ptr [ESP + 0x40],0xffffffff
00a60c35 : MOV dword ptr [ESP + 0x1c],EDI
00a60c39 : MOV dword ptr [ESP + 0x24],EDI
00a60c3d : MOV dword ptr [ESP + 0x28],EBX
00a60c41 : MOV dword ptr [ESP + 0x40],0x1
00a60c49 : MOV ECX,dword ptr [ESI]
00a60c4b : CMP ECX,EBX
00a60c4d : JZ 0x00a60c58
00a60c4f : MOV EAX,dword ptr [ECX]
00a60c51 : MOV EDX,dword ptr [EAX + 0x30]
00a60c54 : CALL EDX
00a60c56 : MOV dword ptr [ESI],EBX
00a60c58 : MOV dword ptr [ESP + 0x40],0xffffffff
00a60c60 : MOV dword ptr [ESP + 0x24],EDI
00a60c64 : MOV dword ptr [ESP + 0x2c],EDI
00a60c68 : MOV dword ptr [ESP + 0x30],EBX
00a60c6c : MOV dword ptr [ESP + 0x40],0x2
00a60c74 : MOV ECX,dword ptr [ESI + -0x8]
00a60c77 : CMP ECX,EBX
00a60c79 : JZ 0x00a60c85
00a60c7b : MOV EAX,dword ptr [ECX]
00a60c7d : MOV EDX,dword ptr [EAX + 0x30]
00a60c80 : CALL EDX
00a60c82 : MOV dword ptr [ESI + -0x8],EBX
00a60c85 : MOV dword ptr [ESP + 0x40],0xffffffff
00a60c8d : MOV EAX,dword ptr [ESP + 0x18]
00a60c91 : MOV ECX,dword ptr [ESP + 0x14]
00a60c95 : INC EAX
00a60c96 : ADD ESI,0x18
00a60c99 : MOV dword ptr [ESP + 0x2c],EDI
00a60c9d : MOV dword ptr [ESP + 0x18],EAX
00a60ca1 : CMP EAX,dword ptr [ECX + 0x14]
00a60ca4 : JC 0x00a60c10
00a60caa : MOV dword ptr [ESP + 0x2c],EDI
00a60cae : MOV dword ptr [ESP + 0x30],EBX
00a60cb2 : MOV dword ptr [ESP + 0x40],0x3
00a60cba : MOV ECX,dword ptr [ECX + 0x154]
00a60cc0 : CMP ECX,EBX
00a60cc2 : JZ 0x00a60cd5
00a60cc4 : MOV EAX,dword ptr [ECX]
00a60cc6 : MOV EDX,dword ptr [EAX + 0x30]
00a60cc9 : CALL EDX
00a60ccb : MOV EAX,dword ptr [ESP + 0x14]
00a60ccf : MOV dword ptr [EAX + 0x154],EBX
00a60cd5 : OR ESI,0xffffffff
00a60cd8 : MOV dword ptr [ESP + 0x40],ESI
00a60cdc : MOV dword ptr [ESP + 0x2c],EDI
00a60ce0 : MOV dword ptr [ESP + 0x24],EDI
00a60ce4 : MOV dword ptr [ESP + 0x28],EBX
00a60ce8 : MOV dword ptr [ESP + 0x40],0x4
00a60cf0 : MOV ECX,dword ptr [ESP + 0x14]
00a60cf4 : MOV ECX,dword ptr [ECX + 0x15c]
00a60cfa : CMP ECX,EBX
00a60cfc : JZ 0x00a60d0f
00a60cfe : MOV EDX,dword ptr [ECX]
00a60d00 : MOV EAX,dword ptr [EDX + 0x30]
00a60d03 : CALL EAX
00a60d05 : MOV ECX,dword ptr [ESP + 0x14]
00a60d09 : MOV dword ptr [ECX + 0x15c],EBX
00a60d0f : MOV dword ptr [ESP + 0x40],ESI
00a60d13 : MOV EAX,dword ptr [ESP + 0x14]
00a60d17 : MOV dword ptr [ESP + 0x24],EDI
00a60d1b : MOV dword ptr [EAX + 0x14],EBX
00a60d1e : MOV byte ptr [EAX + 0x4],BL
00a60d21 : MOV ECX,dword ptr [ESP + 0x38]
00a60d25 : MOV dword ptr FS:[0x0],ECX
00a60d2c : POP ECX
00a60d2d : POP EDI
00a60d2e : POP ESI
00a60d2f : POP EBX
00a60d30 : MOV ESP,EBP
00a60d32 : POP EBP
00a60d33 : RET
