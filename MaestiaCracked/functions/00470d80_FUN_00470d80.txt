PROGRAM  : Maestia.exe
FUNCTION : FUN_00470d80
ENTRY    : 00470d80
BODY     : [[00470d80, 00470fae] [00470fb0, 00471035] [00471040, 004710cb] [004710d0, 004714da]]

============================================================
DECOMPILED C CODE
============================================================

byte FUN_00470d80(int param_1)

{
  char cVar1;
  byte bVar2;
  undefined1 uVar3;
  byte bVar4;
  uint uVar5;
  short *psVar6;
  int *piVar7;
  short sVar8;
  int in_ECX;
  float *pfVar9;
  int *piVar10;
  undefined8 *puVar11;
  int iVar12;
  int iVar13;
  float10 fVar14;
  float fVar15;
  undefined4 uVar16;
  float fVar17;
  undefined1 local_130 [4];
  int *local_12c;
  undefined1 local_114 [4];
  short *local_110;
  undefined4 local_f8;
  undefined4 local_f4;
  undefined2 local_f0;
  undefined4 local_ec;
  undefined4 local_e8;
  undefined2 local_e4;
  undefined4 local_e0;
  undefined4 local_dc;
  undefined2 local_d8;
  undefined4 local_d4;
  undefined4 local_d0;
  undefined2 local_cc;
  undefined4 local_c8;
  undefined4 local_c4;
  undefined2 local_c0;
  undefined4 local_bc;
  undefined4 local_b8;
  undefined2 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined2 local_a8;
  undefined1 local_9c [4];
  undefined8 *local_98;
  undefined4 local_94;
  char local_88;
  int local_84;
  float local_80 [8];
  int local_60;
  float local_5c;
  float local_58;
  float local_54;
  float local_50;
  int local_4c;
  float *local_48;
  int local_44;
  float *local_40;
  float local_3c;
  int local_38;
  float local_34;
  int local_30;
  int local_2c;
  int local_28;
  int local_24;
  float local_20;
  int local_1c;
  char local_16;
  byte local_15;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b82bc7;
  local_10 = ExceptionList;
  uVar5 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar13 = *(int *)(in_ECX + 0x20);
  local_20 = *(float *)(in_ECX + 0x24);
  local_1c = param_1 + 0xfa8;
  bVar2 = 1;
  local_15 = 1;
  if ((0 < iVar13) && (local_20 != 0.0)) {
    local_f4 = 10;
    local_f0 = 4;
    local_e4 = 4;
    local_d8 = 4;
    local_d4 = 10;
    local_cc = 4;
    local_c4 = 10;
    local_c0 = 4;
    local_b8 = 10;
    local_b4 = 4;
    local_ac = 10;
    local_f8 = 0;
    local_ec = 8;
    local_e8 = 0;
    local_e0 = 9;
    local_dc = 0;
    local_d0 = 0;
    local_c8 = 0xb;
    local_bc = 0xc;
    local_b0 = 0x11;
    local_a8 = 0;
    local_16 = '\0';
    local_60 = iVar13;
    if (*(char *)(param_1 + 0x1078) == '\0') {
      local_16 = FUN_00470860(local_20,iVar13);
      *(uint *)(param_1 + 0x1000) = (uint)((local_16 == '\0') != 0) * 2 + 2;
      *(uint *)(param_1 + 0xfbc) = (uint)(local_16 == '\0');
    }
    cVar1 = FUN_00471510(uVar5);
    if (cVar1 != '\0') {
      local_24 = 0;
      if (0 < *(int *)(in_ECX + 0x20)) {
        piVar10 = (int *)(*(int *)(in_ECX + 0x24) + 8);
        local_2c = *(int *)(in_ECX + 0x20);
        do {
          if (*(char *)(param_1 + 0x1078) == '\0') {
            local_24 = local_24 + *piVar10 * 6;
          }
          piVar10 = piVar10 + 0xf;
          local_2c = local_2c + -1;
        } while (local_2c != 0);
        local_2c = 0;
      }
      cVar1 = FUN_00471570(local_24);
      if (cVar1 != '\0') {
        FUN_004708e0(iVar13);
        local_4c = 0;
        if (0 < iVar13) {
          piVar10 = (int *)((int)local_20 + 0x18);
          do {
            iVar13 = local_4c;
            bVar2 = FUN_00470940(local_4c,piVar10 + -6);
            local_15 = local_15 & bVar2;
            cVar1 = FUN_00806e90();
            if (cVar1 != '\0') {
              FUN_00470b50(local_9c,piVar10[-4] * 4);
              local_8 = 0;
              local_44 = *(int *)(local_1c + 0x3c);
              local_28 = 0;
              if (0 < piVar10[-4]) {
                local_24 = 0;
                local_2c = 0;
                puVar11 = local_98;
                do {
                  iVar12 = 0;
                  iVar13 = local_28 * 8;
                  local_5c = *(float *)(piVar10[-2] + 4 + iVar13);
                  local_48 = (float *)(piVar10[-2] + iVar13);
                  local_40 = (float *)(*piVar10 + iVar13);
                  local_80[1] = (float)DAT_00d72c24;
                  local_80[2] = (float)DAT_00d72c24;
                  local_80[3] = (float)DAT_00d72c24;
                  local_80[4] = (float)DAT_00d72c24;
                  local_58 = *local_48;
                  local_54 = local_58 * *local_40;
                  local_50 = local_5c * local_40[1];
                  local_80[0] = -0.5;
                  local_80[5] = -0.5;
                  local_80[6] = -0.5;
                  local_80[7] = -0.5;
                  local_34 = 0.0;
                  do {
                    fVar15 = local_80[iVar12 * 2] * local_58 - local_54;
                    fVar17 = local_80[iVar12 * 2 + 1] * local_5c - local_50;
                    fVar14 = (float10)FUN_0040f460(fVar15 * fVar15 + fVar17 * fVar17);
                    local_20 = (float)fVar14;
                    if ((float10)local_34 <= fVar14) {
                      local_34 = local_20;
                    }
                    iVar12 = iVar12 + 1;
                  } while (iVar12 < 4);
                  local_38 = local_28 << 4;
                  iVar13 = 0;
                  local_20 = (float)(local_28 << 5);
                  local_30 = local_2c;
                  do {
                    iVar12 = piVar10[-3];
                    *puVar11 = *(undefined8 *)(iVar12 + local_2c);
                    *(undefined4 *)(puVar11 + 1) =
                         *(undefined4 *)((undefined8 *)(iVar12 + local_2c) + 1);
                    if (piVar10[7] == 0) {
                      *(undefined4 *)((int)puVar11 + 0xc) = 0;
                    }
                    else {
                      bVar2 = *(byte *)(local_24 + 4 + piVar10[7]);
                      if (bVar2 == 0x7f) {
                        *(undefined4 *)((int)puVar11 + 0xc) = 0;
                      }
                      else {
                        *(float *)((int)puVar11 + 0xc) = ((float)bVar2 * 0.007843138 - 1.0) * 10.0;
                      }
                    }
                    iVar12 = piVar10[1];
                    *(undefined2 *)(puVar11 + 2) = *(undefined2 *)(iVar12 + local_30);
                    *(undefined1 *)((int)puVar11 + 0x12) = *(undefined1 *)(iVar12 + local_30 + 2);
                    if (piVar10[5] == 0) {
                      uVar3 = 0xff;
                    }
                    else {
                      uVar3 = *(undefined1 *)(piVar10[5] + local_28);
                    }
                    *(undefined1 *)((int)puVar11 + 0x13) = uVar3;
                    iVar12 = piVar10[3];
                    *(undefined2 *)((int)puVar11 + 0x14) = *(undefined2 *)(iVar12 + local_30);
                    *(undefined1 *)((int)puVar11 + 0x16) =
                         *(undefined1 *)((undefined2 *)(iVar12 + local_30) + 1);
                    *(undefined1 *)((int)puVar11 + 0x17) = 0;
                    if (piVar10[7] == 0) {
                      *(undefined4 *)(puVar11 + 5) = 0;
                      *(undefined1 *)((int)puVar11 + 0x1b) = 0;
                      *(undefined1 *)((int)puVar11 + 0x1a) = 0;
                      *(undefined1 *)((int)puVar11 + 0x19) = 0;
                      *(undefined1 *)(puVar11 + 3) = 0;
                    }
                    else {
                      *(int *)(puVar11 + 5) = piVar10[6];
                      *(undefined4 *)(puVar11 + 3) = *(undefined4 *)(local_24 + piVar10[7]);
                    }
                    fVar15 = *(float *)(piVar10[-1] + 4 + local_28 * 8);
                    pfVar9 = (float *)(piVar10[-1] + local_28 * 8);
                    if (fVar15 == 0.0) {
                      *(undefined4 *)((int)puVar11 + 0x24) = 0;
                    }
                    else {
                      fVar17 = *pfVar9;
                      if (fVar17 == fVar15) {
                        fVar15 = 1.0;
                      }
                      else {
                        fVar15 = fVar15 / fVar17;
                      }
                      *(float *)((int)puVar11 + 0x24) = fVar15;
                    }
                    local_3c = *pfVar9;
                    cVar1 = (**(code **)(*(int *)PTR_DAT_00d6df20 + 8))();
                    if (cVar1 == '\0') {
                      *(float *)((int)puVar11 + 0x1c) =
                           (local_80[iVar13 * 2] - *local_40) * *local_48 * local_3c;
                      fVar15 = (local_80[iVar13 * 2 + 1] - local_40[1]) * local_3c * local_48[1];
                    }
                    else {
                      *(float *)((int)puVar11 + 0x1c) =
                           (local_80[iVar13 * 2 + 1] - local_40[1]) * local_3c * local_48[1];
                      fVar15 = (local_80[iVar13 * 2] - *local_40) * *local_48 * local_3c;
                    }
                    *(float *)(puVar11 + 4) = fVar15;
                    iVar12 = piVar10[4];
                    *(undefined4 *)((int)puVar11 + 0x2c) = *(undefined4 *)(iVar12 + (int)local_20);
                    *(undefined4 *)(puVar11 + 6) = ((undefined4 *)(iVar12 + (int)local_20))[1];
                    if (piVar10[8] == 0) {
                      uVar16 = 0;
                    }
                    else {
                      uVar16 = *(undefined4 *)(local_38 + piVar10[8]);
                    }
                    local_30 = local_30 + 3;
                    local_38 = local_38 + 4;
                    local_20 = (float)((int)local_20 + 8);
                    *(undefined4 *)((int)puVar11 + 0x34) = uVar16;
                    *(float *)(puVar11 + 7) = local_34;
                    iVar13 = iVar13 + 1;
                    puVar11 = (undefined8 *)((int)puVar11 + 0x3c);
                  } while (iVar13 < 4);
                  local_24 = local_24 + 5;
                  local_28 = local_28 + 1;
                  local_2c = local_30;
                } while (local_28 < piVar10[-4]);
              }
              bVar2 = FUN_00472820(local_98,local_94);
              local_15 = local_15 & bVar2;
              if (local_88 != '\0') {
                iVar13 = local_84 * 0x114;
                if ((&DAT_017212d0)[iVar13] == '\0') {
                  FUN_00807d70("CSharedHeapBlock::Unlock() called when buffer was not locked");
                }
                else {
                  (&DAT_017212d0)[iVar13] = 0;
                  *(undefined4 *)(&DAT_017211cc + iVar13) = 0;
                  (&DAT_017211d0)[iVar13] = 0;
                }
                local_88 = '\0';
              }
              if ((*(char *)(param_1 + 0x1078) == '\0') && (iVar13 = piVar10[-4], 0 < iVar13)) {
                if (local_16 == '\0') {
                  FUN_00474550(local_130,iVar13 * 6,"InitLeafCards32",1);
                  local_8._0_1_ = 2;
                  iVar13 = 0;
                  if (0 < piVar10[-4]) {
                    iVar12 = local_44 + 2;
                    piVar7 = local_12c;
                    do {
                      *piVar7 = iVar12 + -2;
                      piVar7[1] = iVar12 + -1;
                      piVar7[2] = iVar12;
                      piVar7[3] = iVar12 + -2;
                      piVar7[4] = iVar12;
                      piVar7[5] = iVar12 + 1;
                      iVar13 = iVar13 + 1;
                      piVar7 = piVar7 + 6;
                      iVar12 = iVar12 + 4;
                    } while (iVar13 < piVar10[-4]);
                  }
                  bVar2 = FUN_004743b0(local_12c,piVar10[-4] * 6);
                  local_15 = local_15 & bVar2;
                  local_8 = (uint)local_8._1_3_ << 8;
                  FUN_00474620(local_130);
                }
                else {
                  FUN_00471c00(local_114,iVar13 * 6,"InitLeafCards16",1);
                  local_8._0_1_ = 1;
                  iVar13 = 0;
                  psVar6 = local_110;
                  if (0 < piVar10[-4]) {
                    do {
                      sVar8 = (short)local_44 + (short)iVar13 * 4;
                      *psVar6 = sVar8;
                      psVar6[1] = sVar8 + 1;
                      psVar6[2] = sVar8 + 2;
                      psVar6[3] = sVar8;
                      psVar6[4] = sVar8 + 2;
                      psVar6[5] = sVar8 + 3;
                      iVar13 = iVar13 + 1;
                      psVar6 = psVar6 + 6;
                    } while (iVar13 < piVar10[-4]);
                  }
                  bVar2 = FUN_004743b0(local_110,piVar10[-4] * 6);
                  local_15 = local_15 & bVar2;
                  local_8 = (uint)local_8._1_3_ << 8;
                  FUN_00471da0(local_114);
                }
              }
              local_8 = 0xffffffff;
              FUN_00470cf0(local_9c);
              iVar13 = local_4c;
            }
            local_4c = iVar13 + 1;
            piVar10 = piVar10 + 0xf;
          } while (local_4c < local_60);
        }
      }
    }
    bVar2 = FUN_004728f0();
    bVar2 = local_15 & bVar2;
    if (*(char *)(param_1 + 0x1078) == '\0') {
      bVar4 = FUN_004744b0();
      bVar2 = bVar2 & bVar4;
    }
  }
  ExceptionList = local_10;
  return bVar2;
}



============================================================
DISASSEMBLY
============================================================
00470d80 : PUSH EBP
00470d81 : MOV EBP,ESP
00470d83 : PUSH -0x1
00470d85 : PUSH 0xb82bc7
00470d8a : MOV EAX,FS:[0x0]
00470d90 : PUSH EAX
00470d91 : SUB ESP,0x120
00470d97 : PUSH EBX
00470d98 : PUSH ESI
00470d99 : PUSH EDI
00470d9a : MOV EAX,[0x00d66fa0]
00470d9f : XOR EAX,EBP
00470da1 : PUSH EAX
00470da2 : LEA EAX,[EBP + -0xc]
00470da5 : MOV FS:[0x0],EAX
00470dab : MOV ESI,ECX
00470dad : MOV EBX,dword ptr [ESI + 0x20]
00470db0 : MOV EDI,dword ptr [EBP + 0x8]
00470db3 : MOV ECX,dword ptr [ESI + 0x24]
00470db6 : ADD EDI,0xfa8
00470dbc : MOV AL,0x1
00470dbe : MOV byte ptr [EBP + -0x11],AL
00470dc1 : MOV dword ptr [EBP + -0x5c],EBX
00470dc4 : MOV dword ptr [EBP + -0x1c],ECX
00470dc7 : MOV dword ptr [EBP + -0x18],EDI
00470dca : TEST EBX,EBX
00470dcc : JLE 0x004714c7
00470dd2 : TEST ECX,ECX
00470dd4 : JZ 0x004714c7
00470dda : MOV EDX,0x4
00470ddf : MOV EAX,0xa
00470de4 : MOV dword ptr [EBP + 0xffffff10],EAX
00470dea : MOV word ptr [EBP + 0xffffff14],DX
00470df1 : MOV word ptr [EBP + 0xffffff20],DX
00470df8 : MOV word ptr [EBP + 0xffffff2c],DX
00470dff : MOV dword ptr [EBP + 0xffffff30],EAX
00470e05 : MOV word ptr [EBP + 0xffffff38],DX
00470e0c : MOV dword ptr [EBP + 0xffffff40],EAX
00470e12 : MOV word ptr [EBP + 0xffffff44],DX
00470e19 : MOV dword ptr [EBP + 0xffffff4c],EAX
00470e1f : MOV word ptr [EBP + 0xffffff50],DX
00470e26 : MOV EDX,dword ptr [EBP + 0x8]
00470e29 : MOV dword ptr [EBP + 0xffffff58],EAX
00470e2f : XOR EAX,EAX
00470e31 : MOV dword ptr [EBP + 0xffffff0c],0x0
00470e3b : MOV dword ptr [EBP + 0xffffff18],0x8
00470e45 : MOV dword ptr [EBP + 0xffffff1c],0x0
00470e4f : MOV dword ptr [EBP + 0xffffff24],0x9
00470e59 : MOV dword ptr [EBP + 0xffffff28],0x0
00470e63 : MOV dword ptr [EBP + 0xffffff34],0x0
00470e6d : MOV dword ptr [EBP + 0xffffff3c],0xb
00470e77 : MOV dword ptr [EBP + 0xffffff48],0xc
00470e81 : MOV dword ptr [EBP + 0xffffff54],0x11
00470e8b : MOV word ptr [EBP + 0xffffff5c],AX
00470e92 : MOV byte ptr [EBP + -0x12],AL
00470e95 : CMP byte ptr [EDX + 0x1078],AL
00470e9b : JNZ 0x00470ec1
00470e9d : PUSH EBX
00470e9e : PUSH ECX
00470e9f : CALL 0x00470860
00470ea4 : XOR ECX,ECX
00470ea6 : TEST AL,AL
00470ea8 : SETZ CL
00470eab : MOV byte ptr [EBP + -0x12],AL
00470eae : XOR EDX,EDX
00470eb0 : MOV EAX,ECX
00470eb2 : TEST EAX,EAX
00470eb4 : SETNZ DL
00470eb7 : LEA EDX,[EDX + EDX*0x1 + 0x2]
00470ebb : MOV dword ptr [EDI + 0x58],EDX
00470ebe : MOV dword ptr [EDI + 0x14],EAX
00470ec1 : LEA ECX,[EBP + 0xffffff0c]
00470ec7 : MOV EAX,EDI
00470ec9 : CALL 0x00471510
00470ece : TEST AL,AL
00470ed0 : JZ 0x004714a5
00470ed6 : MOV EAX,dword ptr [ESI + 0x20]
00470ed9 : MOV ESI,dword ptr [ESI + 0x24]
00470edc : XOR ECX,ECX
00470ede : CMP EAX,ECX
00470ee0 : MOV dword ptr [EBP + -0x20],ECX
00470ee3 : JLE 0x00470f15
00470ee5 : MOV EDX,dword ptr [EBP + 0x8]
00470ee8 : MOV DL,byte ptr [EDX + 0x1078]
00470eee : ADD ESI,0x8
00470ef1 : MOV dword ptr [EBP + -0x28],EAX
00470ef4 : MOV EAX,dword ptr [ESI]
00470ef6 : LEA ECX,[ECX + EAX*0x4]
00470ef9 : TEST DL,DL
00470efb : JNZ 0x00470f09
00470efd : MOV EDI,dword ptr [EBP + -0x20]
00470f00 : LEA EAX,[EAX + EAX*0x2]
00470f03 : LEA EAX,[EDI + EAX*0x2]
00470f06 : MOV dword ptr [EBP + -0x20],EAX
00470f09 : ADD ESI,0x3c
00470f0c : SUB dword ptr [EBP + -0x28],0x1
00470f10 : JNZ 0x00470ef4
00470f12 : MOV EDI,dword ptr [EBP + -0x18]
00470f15 : MOV EDX,dword ptr [EBP + -0x20]
00470f18 : PUSH EDX
00470f19 : MOV ESI,EDI
00470f1b : CALL 0x00471570
00470f20 : TEST AL,AL
00470f22 : JZ 0x004714a5
00470f28 : MOV ESI,dword ptr [EBP + 0x8]
00470f2b : MOV ECX,dword ptr [EBP + -0x1c]
00470f2e : PUSH EBX
00470f2f : ADD ESI,0xe48
00470f35 : CALL 0x004708e0
00470f3a : XOR EDI,EDI
00470f3c : MOV dword ptr [EBP + -0x48],EDI
00470f3f : TEST EBX,EBX
00470f41 : JLE 0x004714a2
00470f47 : MOV EBX,dword ptr [EBP + -0x1c]
00470f4a : ADD EBX,0x18
00470f4d : LEA ECX,[ECX]
00470f50 : MOV ESI,dword ptr [EBP + 0x8]
00470f53 : LEA EAX,[EBX + -0x18]
00470f56 : PUSH EAX
00470f57 : PUSH EDI
00470f58 : CALL 0x00470940
00470f5d : AND byte ptr [EBP + -0x11],AL
00470f60 : LEA EAX,[EBX + -0x18]
00470f63 : CALL 0x00806e90
00470f68 : TEST AL,AL
00470f6a : JZ 0x00471492
00470f70 : MOV EAX,dword ptr [EBX + -0x10]
00470f73 : ADD EAX,EAX
00470f75 : ADD EAX,EAX
00470f77 : PUSH EAX
00470f78 : LEA ECX,[EBP + 0xffffff68]
00470f7e : PUSH ECX
00470f7f : CALL 0x00470b50
00470f84 : XOR EDI,EDI
00470f86 : MOV dword ptr [EBP + -0x4],EDI
00470f89 : CMP dword ptr [EBX + -0x10],EDI
00470f8c : MOV EDX,dword ptr [EBP + -0x18]
00470f8f : MOV EAX,dword ptr [EDX + 0x3c]
00470f92 : MOV ESI,dword ptr [EBP + 0xffffff6c]
00470f98 : MOV dword ptr [EBP + -0x40],EAX
00470f9b : MOV dword ptr [EBP + -0x24],EDI
00470f9e : JLE 0x004712d6
00470fa4 : XORPS XMM5,XMM5
00470fa7 : MOV dword ptr [EBP + -0x20],EDI
00470faa : MOV dword ptr [EBP + -0x28],EDI
00470fad : JMP 0x00470fb2
00470fb0 : XOR EDI,EDI
00470fb2 : MOV EDX,dword ptr [EBP + -0x24]
00470fb5 : MOVSS XMM1,dword ptr [0x00d72c24]
00470fbd : MOV EAX,dword ptr [EBX + -0x8]
00470fc0 : MOV ECX,dword ptr [EBX]
00470fc2 : MOVSS XMM0,dword ptr [0x00cdf160]
00470fca : ADD EDX,EDX
00470fcc : ADD EDX,EDX
00470fce : ADD EDX,EDX
00470fd0 : MOVSS XMM4,dword ptr [EAX + EDX*0x1 + 0x4]
00470fd6 : ADD EAX,EDX
00470fd8 : ADD ECX,EDX
00470fda : MOVSS dword ptr [EBP + -0x78],XMM1
00470fdf : MOVSS dword ptr [EBP + -0x74],XMM1
00470fe4 : MOVSS dword ptr [EBP + -0x70],XMM1
00470fe9 : MOVSS dword ptr [EBP + -0x6c],XMM1
00470fee : MOVSS XMM1,dword ptr [EAX]
00470ff2 : MOVAPS XMM2,XMM1
00470ff5 : MULSS XMM2,dword ptr [ECX]
00470ff9 : MOVAPS XMM3,XMM4
00470ffc : MULSS XMM3,dword ptr [ECX + 0x4]
00471001 : MOVSS dword ptr [EBP + -0x7c],XMM0
00471006 : MOVSS dword ptr [EBP + -0x68],XMM0
0047100b : MOVSS dword ptr [EBP + -0x64],XMM0
00471010 : MOVSS dword ptr [EBP + -0x60],XMM0
00471015 : MOV dword ptr [EBP + -0x44],EAX
00471018 : MOV dword ptr [EBP + -0x3c],ECX
0047101b : MOVSS dword ptr [EBP + -0x54],XMM1
00471020 : MOVSS dword ptr [EBP + -0x50],XMM2
00471025 : MOVSS dword ptr [EBP + -0x58],XMM4
0047102a : MOVSS dword ptr [EBP + -0x4c],XMM3
0047102f : MOVSS dword ptr [EBP + -0x30],XMM5
00471034 : JMP 0x00471054
00471040 : MOVSS XMM1,dword ptr [EBP + -0x54]
00471045 : MOVSS XMM4,dword ptr [EBP + -0x58]
0047104a : MOVSS XMM3,dword ptr [EBP + -0x4c]
0047104f : MOVSS XMM2,dword ptr [EBP + -0x50]
00471054 : MOVSS XMM0,dword ptr [EBP + EDI*0x8 + -0x7c]
0047105a : MULSS XMM0,XMM1
0047105e : MOVSS XMM1,dword ptr [EBP + EDI*0x8 + -0x78]
00471064 : SUBSS XMM0,XMM2
00471068 : MOVAPS XMM2,XMM0
0047106b : MULSS XMM2,XMM0
0047106f : MULSS XMM1,XMM4
00471073 : SUBSS XMM1,XMM3
00471077 : MOVAPS XMM0,XMM1
0047107a : MULSS XMM0,XMM1
0047107e : PUSH ECX
0047107f : ADDSS XMM2,XMM0
00471083 : MOVSS dword ptr [ESP],XMM2
00471088 : CALL 0x0040f460
0047108d : FST float ptr [EBP + -0x1c]
00471090 : FLD float ptr [EBP + -0x30]
00471093 : ADD ESP,0x4
00471096 : FCOMIP ST0,ST1
00471098 : FSTP ST0
0047109a : JA 0x004710a6
0047109c : MOVSS XMM0,dword ptr [EBP + -0x1c]
004710a1 : MOVSS dword ptr [EBP + -0x30],XMM0
004710a6 : INC EDI
004710a7 : CMP EDI,0x4
004710aa : JL 0x00471040
004710ac : MOV ECX,dword ptr [EBP + -0x24]
004710af : XORPS XMM5,XMM5
004710b2 : MOV EAX,ECX
004710b4 : SHL EAX,0x4
004710b7 : MOV dword ptr [EBP + -0x34],EAX
004710ba : MOV EAX,ECX
004710bc : MOV ECX,dword ptr [EBP + -0x28]
004710bf : XOR EDI,EDI
004710c1 : SHL EAX,0x5
004710c4 : MOV dword ptr [EBP + -0x1c],EAX
004710c7 : MOV dword ptr [EBP + -0x2c],ECX
004710ca : JMP 0x004710d3
004710d0 : MOV ECX,dword ptr [EBP + -0x2c]
004710d3 : MOV EAX,dword ptr [EBX + -0xc]
004710d6 : ADD EAX,dword ptr [EBP + -0x28]
004710d9 : MOVQ XMM0,qword ptr [EAX]
004710dd : MOVQ qword ptr [ESI],XMM0
004710e1 : MOV EDX,dword ptr [EAX + 0x8]
004710e4 : MOV dword ptr [ESI + 0x8],EDX
004710e7 : MOV EAX,dword ptr [EBX + 0x1c]
004710ea : TEST EAX,EAX
004710ec : JZ 0x00471131
004710ee : MOV EDX,dword ptr [EBP + -0x20]
004710f1 : MOV AL,byte ptr [EDX + EAX*0x1 + 0x4]
004710f5 : CMP AL,0x7f
004710f7 : JNZ 0x0047110b
004710f9 : MOVAPS XMM0,XMM5
004710fc : MULSS XMM0,dword ptr [0x00c18874]
00471104 : MOVSS dword ptr [ESI + 0xc],XMM0
00471109 : JMP 0x00471136
0047110b : MOVZX EAX,AL
0047110e : CVTSI2SS XMM0,EAX
00471112 : MULSS XMM0,dword ptr [0x00cdf198]
0047111a : SUBSS XMM0,dword ptr [0x00c10fc4]
00471122 : MULSS XMM0,dword ptr [0x00c18874]
0047112a : MOVSS dword ptr [ESI + 0xc],XMM0
0047112f : JMP 0x00471136
00471131 : MOVSS dword ptr [ESI + 0xc],XMM5
00471136 : MOV EAX,dword ptr [EBX + 0x4]
00471139 : MOV DX,word ptr [EAX + ECX*0x1]
0047113d : ADD EAX,ECX
0047113f : MOV word ptr [ESI + 0x10],DX
00471143 : MOV AL,byte ptr [EAX + 0x2]
00471146 : MOV byte ptr [ESI + 0x12],AL
00471149 : MOV EAX,dword ptr [EBX + 0x14]
0047114c : TEST EAX,EAX
0047114e : JZ 0x00471159
00471150 : MOV EDX,dword ptr [EBP + -0x24]
00471153 : MOVZX EAX,byte ptr [EAX + EDX*0x1]
00471157 : JMP 0x0047115e
00471159 : MOV EAX,0xff
0047115e : MOV byte ptr [ESI + 0x13],AL
00471161 : MOV EAX,dword ptr [EBX + 0xc]
00471164 : ADD EAX,ECX
00471166 : MOV CX,word ptr [EAX]
00471169 : MOV word ptr [ESI + 0x14],CX
0047116d : MOV DL,byte ptr [EAX + 0x2]
00471170 : MOV byte ptr [ESI + 0x16],DL
00471173 : MOV byte ptr [ESI + 0x17],0x0
00471177 : CMP dword ptr [EBX + 0x1c],0x0
0047117b : JZ 0x00471191
0047117d : FLD float ptr [EBX + 0x18]
00471180 : MOV ECX,dword ptr [EBP + -0x20]
00471183 : FSTP float ptr [ESI + 0x28]
00471186 : MOV EAX,dword ptr [EBX + 0x1c]
00471189 : MOV EDX,dword ptr [ECX + EAX*0x1]
0047118c : MOV dword ptr [ESI + 0x18],EDX
0047118f : JMP 0x004711a6
00471191 : MOVSS dword ptr [ESI + 0x28],XMM5
00471196 : MOV byte ptr [ESI + 0x1b],0x0
0047119a : MOV byte ptr [ESI + 0x1a],0x0
0047119e : MOV byte ptr [ESI + 0x19],0x0
004711a2 : MOV byte ptr [ESI + 0x18],0x0
004711a6 : MOV EAX,dword ptr [EBP + -0x24]
004711a9 : MOV ECX,dword ptr [EBX + -0x4]
004711ac : ADD EAX,EAX
004711ae : ADD EAX,EAX
004711b0 : ADD EAX,EAX
004711b2 : MOVSS XMM0,dword ptr [ECX + EAX*0x1 + 0x4]
004711b8 : ADD ECX,EAX
004711ba : UCOMISS XMM0,XMM5
004711bd : LAHF
004711be : TEST AH,0x44
004711c1 : JP 0x004711ca
004711c3 : MOVSS dword ptr [ESI + 0x24],XMM5
004711c8 : JMP 0x004711ea
004711ca : MOVSS XMM1,dword ptr [ECX]
004711ce : UCOMISS XMM1,XMM0
004711d1 : LAHF
004711d2 : TEST AH,0x44
004711d5 : JP 0x004711e1
004711d7 : MOVSS XMM0,dword ptr [0x00c10fc4]
004711df : JMP 0x004711e5
004711e1 : DIVSS XMM0,XMM1
004711e5 : MOVSS dword ptr [ESI + 0x24],XMM0
004711ea : MOVSS XMM0,dword ptr [ECX]
004711ee : MOV ECX,dword ptr [0x00d6df20]
004711f4 : MOV EAX,dword ptr [ECX]
004711f6 : MOV EDX,dword ptr [EAX + 0x8]
004711f9 : MOVSS dword ptr [EBP + -0x38],XMM0
004711fe : CALL EDX
00471200 : MOV ECX,dword ptr [EBP + -0x3c]
00471203 : MOVSS XMM0,dword ptr [EBP + -0x38]
00471208 : TEST AL,AL
0047120a : MOV EAX,dword ptr [EBP + -0x44]
0047120d : JZ 0x0047123c
0047120f : MOVSS XMM1,dword ptr [EBP + EDI*0x8 + -0x78]
00471215 : SUBSS XMM1,dword ptr [ECX + 0x4]
0047121a : MULSS XMM1,XMM0
0047121e : MULSS XMM1,dword ptr [EAX + 0x4]
00471223 : MOVSS dword ptr [ESI + 0x1c],XMM1
00471228 : MOVSS XMM1,dword ptr [EBP + EDI*0x8 + -0x7c]
0047122e : SUBSS XMM1,dword ptr [ECX]
00471232 : MULSS XMM1,dword ptr [EAX]
00471236 : MULSS XMM1,XMM0
0047123a : JMP 0x00471267
0047123c : MOVSS XMM1,dword ptr [EBP + EDI*0x8 + -0x7c]
00471242 : SUBSS XMM1,dword ptr [ECX]
00471246 : MULSS XMM1,dword ptr [EAX]
0047124a : MULSS XMM1,XMM0
0047124e : MOVSS dword ptr [ESI + 0x1c],XMM1
00471253 : MOVSS XMM1,dword ptr [EBP + EDI*0x8 + -0x78]
00471259 : SUBSS XMM1,dword ptr [ECX + 0x4]
0047125e : MULSS XMM1,XMM0
00471262 : MULSS XMM1,dword ptr [EAX + 0x4]
00471267 : XORPS XMM5,XMM5
0047126a : MOVSS dword ptr [ESI + 0x20],XMM1
0047126f : MOV EAX,dword ptr [EBX + 0x10]
00471272 : ADD EAX,dword ptr [EBP + -0x1c]
00471275 : FLD float ptr [EAX]
00471277 : FSTP float ptr [ESI + 0x2c]
0047127a : FLD float ptr [EAX + 0x4]
0047127d : FSTP float ptr [ESI + 0x30]
00471280 : MOV EAX,dword ptr [EBX + 0x20]
00471283 : TEST EAX,EAX
00471285 : JZ 0x00471291
00471287 : MOV ECX,dword ptr [EBP + -0x34]
0047128a : MOVSS XMM0,dword ptr [ECX + EAX*0x1]
0047128f : JMP 0x00471294
00471291 : MOVAPS XMM0,XMM5
00471294 : ADD dword ptr [EBP + -0x2c],0x3
00471298 : ADD dword ptr [EBP + -0x34],0x4
0047129c : ADD dword ptr [EBP + -0x1c],0x8
004712a0 : MOVSS dword ptr [ESI + 0x34],XMM0
004712a5 : MOVSS XMM0,dword ptr [EBP + -0x30]
004712aa : MOVSS dword ptr [ESI + 0x38],XMM0
004712af : INC EDI
004712b0 : ADD ESI,0x3c
004712b3 : CMP EDI,0x4
004712b6 : JL 0x004710d0
004712bc : MOV EAX,dword ptr [EBP + -0x24]
004712bf : MOV EDX,dword ptr [EBP + -0x2c]
004712c2 : ADD dword ptr [EBP + -0x20],0x5
004712c6 : INC EAX
004712c7 : CMP EAX,dword ptr [EBX + -0x10]
004712ca : MOV dword ptr [EBP + -0x24],EAX
004712cd : MOV dword ptr [EBP + -0x28],EDX
004712d0 : JL 0x00470fb0
004712d6 : MOV EAX,dword ptr [EBP + 0xffffff70]
004712dc : MOV ECX,dword ptr [EBP + 0xffffff6c]
004712e2 : MOV EDI,dword ptr [EBP + -0x18]
004712e5 : PUSH EAX
004712e6 : PUSH ECX
004712e7 : CALL 0x00472820
004712ec : AND byte ptr [EBP + -0x11],AL
004712ef : CMP byte ptr [EBP + 0xffffff7c],0x0
004712f6 : JZ 0x00471337
004712f8 : MOV EAX,dword ptr [EBP + -0x80]
004712fb : IMUL EAX,EAX,0x114
00471301 : ADD EAX,0x17211c0
00471306 : CMP byte ptr [EAX + 0x110],0x0
0047130d : JZ 0x00471323
0047130f : MOV byte ptr [EAX + 0x110],0x0
00471316 : MOV dword ptr [EAX + 0xc],0x0
0047131d : MOV byte ptr [EAX + 0x10],0x0
00471321 : JMP 0x00471330
00471323 : PUSH 0xcd4178
00471328 : CALL 0x00807d70
0047132d : ADD ESP,0x4
00471330 : MOV byte ptr [EBP + 0xffffff7c],0x0
00471337 : MOV EDX,dword ptr [EBP + 0x8]
0047133a : CMP byte ptr [EDX + 0x1078],0x0
00471341 : JNZ 0x0047147c
00471347 : MOV EAX,dword ptr [EBX + -0x10]
0047134a : TEST EAX,EAX
0047134c : JLE 0x0047147c
00471352 : CMP byte ptr [EBP + -0x12],0x0
00471356 : PUSH 0x1
00471358 : JZ 0x004713ef
0047135e : LEA EAX,[EAX + EAX*0x2]
00471361 : PUSH 0xcd61f8
00471366 : ADD EAX,EAX
00471368 : PUSH EAX
00471369 : LEA ECX,[EBP + 0xfffffef0]
0047136f : PUSH ECX
00471370 : CALL 0x00471c00
00471375 : MOV byte ptr [EBP + -0x4],0x1
00471379 : MOV EAX,dword ptr [EBP + 0xfffffef4]
0047137f : XOR EDX,EDX
00471381 : CMP dword ptr [EBX + -0x10],EDX
00471384 : JLE 0x004713bf
00471386 : MOV ECX,dword ptr [EBP + -0x40]
00471389 : LEA ECX,[ECX + EDX*0x4]
0047138c : MOV word ptr [EAX],CX
0047138f : ADD EAX,0x2
00471392 : LEA ESI,[ECX + 0x1]
00471395 : MOV word ptr [EAX],SI
00471398 : ADD EAX,0x2
0047139b : LEA ESI,[ECX + 0x2]
0047139e : MOV word ptr [EAX],SI
004713a1 : ADD EAX,0x2
004713a4 : MOV word ptr [EAX],CX
004713a7 : ADD EAX,0x2
004713aa : MOV word ptr [EAX],SI
004713ad : ADD EAX,0x2
004713b0 : ADD ECX,0x3
004713b3 : MOV word ptr [EAX],CX
004713b6 : INC EDX
004713b7 : ADD EAX,0x2
004713ba : CMP EDX,dword ptr [EBX + -0x10]
004713bd : JL 0x00471386
004713bf : MOV EAX,dword ptr [EBX + -0x10]
004713c2 : MOV ESI,dword ptr [EBP + -0x18]
004713c5 : LEA EDX,[EAX + EAX*0x2]
004713c8 : MOV EAX,dword ptr [EBP + 0xfffffef4]
004713ce : ADD EDX,EDX
004713d0 : PUSH EDX
004713d1 : PUSH EAX
004713d2 : CALL 0x004743b0
004713d7 : AND byte ptr [EBP + -0x11],AL
004713da : MOV byte ptr [EBP + -0x4],0x0
004713de : LEA ECX,[EBP + 0xfffffef0]
004713e4 : PUSH ECX
004713e5 : CALL 0x00471da0
004713ea : JMP 0x0047147c
004713ef : LEA EDX,[EAX + EAX*0x2]
004713f2 : PUSH 0xcd6208
004713f7 : ADD EDX,EDX
004713f9 : PUSH EDX
004713fa : LEA EAX,[EBP + 0xfffffed4]
00471400 : PUSH EAX
00471401 : CALL 0x00474550
00471406 : MOV byte ptr [EBP + -0x4],0x2
0047140a : MOV EAX,dword ptr [EBP + 0xfffffed8]
00471410 : XOR ESI,ESI
00471412 : CMP dword ptr [EBX + -0x10],ESI
00471415 : JLE 0x00471451
00471417 : MOV ECX,dword ptr [EBP + -0x40]
0047141a : ADD ECX,0x2
0047141d : LEA ECX,[ECX]
00471420 : LEA EDX,[ECX + -0x2]
00471423 : MOV dword ptr [EAX],EDX
00471425 : ADD EAX,0x4
00471428 : ADD EAX,0x4
0047142b : LEA EDI,[ECX + -0x1]
0047142e : MOV dword ptr [EAX + -0x4],EDI
00471431 : MOV dword ptr [EAX],ECX
00471433 : ADD EAX,0x4
00471436 : MOV dword ptr [EAX],EDX
00471438 : ADD EAX,0x4
0047143b : MOV dword ptr [EAX],ECX
0047143d : ADD EAX,0x4
00471440 : LEA EDX,[ECX + 0x1]
00471443 : MOV dword ptr [EAX],EDX
00471445 : INC ESI
00471446 : ADD EAX,0x4
00471449 : ADD ECX,0x4
0047144c : CMP ESI,dword ptr [EBX + -0x10]
0047144f : JL 0x00471420
00471451 : MOV EAX,dword ptr [EBX + -0x10]
00471454 : MOV ECX,dword ptr [EBP + 0xfffffed8]
0047145a : MOV ESI,dword ptr [EBP + -0x18]
0047145d : LEA EAX,[EAX + EAX*0x2]
00471460 : ADD EAX,EAX
00471462 : PUSH EAX
00471463 : PUSH ECX
00471464 : CALL 0x004743b0
00471469 : AND byte ptr [EBP + -0x11],AL
0047146c : MOV byte ptr [EBP + -0x4],0x0
00471470 : LEA EDX,[EBP + 0xfffffed4]
00471476 : PUSH EDX
00471477 : CALL 0x00474620
0047147c : MOV dword ptr [EBP + -0x4],0xffffffff
00471483 : LEA EAX,[EBP + 0xffffff68]
00471489 : PUSH EAX
0047148a : CALL 0x00470cf0
0047148f : MOV EDI,dword ptr [EBP + -0x48]
00471492 : INC EDI
00471493 : ADD EBX,0x3c
00471496 : CMP EDI,dword ptr [EBP + -0x5c]
00471499 : MOV dword ptr [EBP + -0x48],EDI
0047149c : JL 0x00470f50
004714a2 : MOV EDI,dword ptr [EBP + -0x18]
004714a5 : CALL 0x004728f0
004714aa : MOV BL,byte ptr [EBP + -0x11]
004714ad : MOV ECX,dword ptr [EBP + 0x8]
004714b0 : AND BL,AL
004714b2 : CMP byte ptr [ECX + 0x1078],0x0
004714b9 : JNZ 0x004714c5
004714bb : MOV EDI,dword ptr [EBP + -0x18]
004714be : CALL 0x004744b0
004714c3 : AND BL,AL
004714c5 : MOV AL,BL
004714c7 : MOV ECX,dword ptr [EBP + -0xc]
004714ca : MOV dword ptr FS:[0x0],ECX
004714d1 : POP ECX
004714d2 : POP EDI
004714d3 : POP ESI
004714d4 : POP EBX
004714d5 : MOV ESP,EBP
004714d7 : POP EBP
004714d8 : RET 0x4
