PROGRAM  : Maestia.exe
FUNCTION : FUN_00402a60
ENTRY    : 00402a60
BODY     : [[00402a60, 00402d15]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00402b80) */
/* WARNING: Removing unreachable block (ram,0x00402b90) */
/* WARNING: Removing unreachable block (ram,0x00402b99) */
/* WARNING: Removing unreachable block (ram,0x00402b9c) */
/* WARNING: Removing unreachable block (ram,0x00402b8c) */
/* WARNING: Removing unreachable block (ram,0x00402ba9) */
/* WARNING: Removing unreachable block (ram,0x00402bb9) */
/* WARNING: Removing unreachable block (ram,0x00402bc4) */
/* WARNING: Removing unreachable block (ram,0x00402bc0) */
/* WARNING: Removing unreachable block (ram,0x00402bb4) */
/* WARNING: Removing unreachable block (ram,0x00402bc7) */
/* WARNING: Removing unreachable block (ram,0x00402bd7) */
/* WARNING: Removing unreachable block (ram,0x00402bdf) */

void FUN_00402a60(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int *local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b79a42;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x49) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_00402980(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x49) == '\0') {
    if (*(char *)(param_3[2] + 0x49) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x49) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x49) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x49);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x49);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int **)(param_1 + 4);
  if (*(int **)((int)local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x49) == '\0') {
      uVar4 = FUN_00403340();
      *(undefined4 *)((int)local_1c + 8) = uVar4;
    }
    else {
      *(int **)((int)local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[0x12] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0x12] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0x12] == '\0') {
            *(undefined1 *)(piVar6 + 0x12) = 1;
            *(undefined1 *)(piVar5 + 0x12) = 0;
            FUN_00402310(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x49) == '\0') {
            if ((*(char *)(*piVar6 + 0x48) != '\x01') || (*(char *)(piVar6[2] + 0x48) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x48) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x48) = 1;
                *(undefined1 *)(piVar6 + 0x12) = 0;
                FUN_00402370(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0x12) = (char)piVar5[0x12];
              *(undefined1 *)(piVar5 + 0x12) = 1;
              *(undefined1 *)(piVar6[2] + 0x48) = 1;
              FUN_00402310(param_1);
              break;
            }
LAB_00402ca7:
            *(undefined1 *)(piVar6 + 0x12) = 0;
          }
        }
        else {
          if ((char)piVar6[0x12] == '\0') {
            *(undefined1 *)(piVar6 + 0x12) = 1;
            *(undefined1 *)(piVar5 + 0x12) = 0;
            FUN_00402370(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x49) == '\0') {
            if ((*(char *)(piVar6[2] + 0x48) == '\x01') && (*(char *)(*piVar6 + 0x48) == '\x01'))
            goto LAB_00402ca7;
            if (*(char *)(*piVar6 + 0x48) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x48) = 1;
              *(undefined1 *)(piVar6 + 0x12) = 0;
              FUN_00402310(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0x12) = (char)piVar5[0x12];
            *(undefined1 *)(piVar5 + 0x12) = 1;
            *(undefined1 *)(*piVar6 + 0x48) = 1;
            FUN_00402370(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 0x12) = 1;
  }
  local_1c = local_18 + 3;
  local_8 = 0xffffffff;
  FUN_00401190(local_18 + 4);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00402a60 : PUSH EBP
00402a61 : MOV EBP,ESP
00402a63 : PUSH -0x1
00402a65 : PUSH 0xb79a42
00402a6a : MOV EAX,FS:[0x0]
00402a70 : PUSH EAX
00402a71 : SUB ESP,0x50
00402a74 : PUSH EBX
00402a75 : PUSH ESI
00402a76 : PUSH EDI
00402a77 : MOV EAX,[0x00d66fa0]
00402a7c : XOR EAX,EBP
00402a7e : PUSH EAX
00402a7f : LEA EAX,[EBP + -0xc]
00402a82 : MOV FS:[0x0],EAX
00402a88 : MOV EAX,dword ptr [EBP + 0x10]
00402a8b : CMP byte ptr [EAX + 0x49],0x0
00402a8f : JZ 0x00402acd
00402a91 : PUSH 0x1b
00402a93 : XOR ESI,ESI
00402a95 : PUSH 0xcca4a8
00402a9a : LEA ECX,[EBP + -0x34]
00402a9d : MOV dword ptr [EBP + -0x1c],0xf
00402aa4 : MOV dword ptr [EBP + -0x20],ESI
00402aa7 : MOV byte ptr [EBP + -0x30],0x0
00402aab : CALL 0x00404b50
00402ab0 : MOV dword ptr [EBP + -0x4],ESI
00402ab3 : LEA EAX,[EBP + -0x34]
00402ab6 : PUSH EAX
00402ab7 : LEA ECX,[EBP + -0x5c]
00402aba : CALL 0x00403c10
00402abf : PUSH 0xced890
00402ac4 : LEA ECX,[EBP + -0x5c]
00402ac7 : PUSH ECX
00402ac8 : CALL 0x006409eb
00402acd : MOV EBX,EAX
00402acf : LEA EDX,[EBP + 0x10]
00402ad2 : MOV dword ptr [EBP + -0x14],EBX
00402ad5 : CALL 0x00402980
00402ada : MOV ECX,dword ptr [EBX]
00402adc : CMP byte ptr [ECX + 0x49],0x0
00402ae0 : JZ 0x00402ae7
00402ae2 : MOV EDI,dword ptr [EBX + 0x8]
00402ae5 : JMP 0x00402b01
00402ae7 : MOV EDX,dword ptr [EBX + 0x8]
00402aea : CMP byte ptr [EDX + 0x49],0x0
00402aee : JZ 0x00402af4
00402af0 : MOV EDI,ECX
00402af2 : JMP 0x00402b01
00402af4 : MOV EAX,dword ptr [EBP + 0x10]
00402af7 : MOV EDI,dword ptr [EAX + 0x8]
00402afa : LEA EDX,[EAX + 0x8]
00402afd : CMP EAX,EBX
00402aff : JNZ 0x00402b80
00402b01 : CMP byte ptr [EDI + 0x49],0x0
00402b05 : MOV ESI,dword ptr [EBX + 0x4]
00402b08 : JNZ 0x00402b0d
00402b0a : MOV dword ptr [EDI + 0x4],ESI
00402b0d : MOV EDX,dword ptr [EBP + 0x8]
00402b10 : MOV EAX,dword ptr [EDX + 0x4]
00402b13 : CMP dword ptr [EAX + 0x4],EBX
00402b16 : JNZ 0x00402b1d
00402b18 : MOV dword ptr [EAX + 0x4],EDI
00402b1b : JMP 0x00402b28
00402b1d : CMP dword ptr [ESI],EBX
00402b1f : JNZ 0x00402b25
00402b21 : MOV dword ptr [ESI],EDI
00402b23 : JMP 0x00402b28
00402b25 : MOV dword ptr [ESI + 0x8],EDI
00402b28 : MOV EAX,dword ptr [EDX + 0x4]
00402b2b : CMP dword ptr [EAX],EBX
00402b2d : JNZ 0x00402b52
00402b2f : CMP byte ptr [EDI + 0x49],0x0
00402b33 : JZ 0x00402b39
00402b35 : MOV ECX,ESI
00402b37 : JMP 0x00402b4d
00402b39 : MOV EAX,dword ptr [EDI]
00402b3b : CMP byte ptr [EAX + 0x49],0x0
00402b3f : MOV ECX,EDI
00402b41 : JNZ 0x00402b4d
00402b43 : MOV ECX,EAX
00402b45 : MOV EAX,dword ptr [ECX]
00402b47 : CMP byte ptr [EAX + 0x49],0x0
00402b4b : JZ 0x00402b43
00402b4d : MOV EAX,dword ptr [EDX + 0x4]
00402b50 : MOV dword ptr [EAX],ECX
00402b52 : MOV ECX,dword ptr [EDX + 0x4]
00402b55 : MOV dword ptr [EBP + -0x18],ECX
00402b58 : CMP dword ptr [ECX + 0x8],EBX
00402b5b : JNZ 0x00402be2
00402b61 : CMP byte ptr [EDI + 0x49],0x0
00402b65 : JZ 0x00402b6e
00402b67 : MOV EAX,ESI
00402b69 : MOV dword ptr [ECX + 0x8],EAX
00402b6c : JMP 0x00402be2
00402b6e : MOV EAX,EDI
00402b70 : CALL 0x00403340
00402b75 : MOV ECX,dword ptr [EBP + -0x18]
00402b78 : MOV EDX,dword ptr [EBP + 0x8]
00402b7b : MOV dword ptr [ECX + 0x8],EAX
00402b7e : JMP 0x00402be2
00402b80 : MOV dword ptr [ECX + 0x4],EAX
00402b83 : MOV ECX,dword ptr [EBX]
00402b85 : MOV dword ptr [EAX],ECX
00402b87 : CMP EAX,dword ptr [EBX + 0x8]
00402b8a : JNZ 0x00402b90
00402b8c : MOV ESI,EAX
00402b8e : JMP 0x00402ba9
00402b90 : CMP byte ptr [EDI + 0x49],0x0
00402b94 : MOV ESI,dword ptr [EAX + 0x4]
00402b97 : JNZ 0x00402b9c
00402b99 : MOV dword ptr [EDI + 0x4],ESI
00402b9c : MOV dword ptr [ESI],EDI
00402b9e : MOV ECX,dword ptr [EBX + 0x8]
00402ba1 : MOV dword ptr [EDX],ECX
00402ba3 : MOV EDX,dword ptr [EBX + 0x8]
00402ba6 : MOV dword ptr [EDX + 0x4],EAX
00402ba9 : MOV ECX,dword ptr [EBP + 0x8]
00402bac : MOV ECX,dword ptr [ECX + 0x4]
00402baf : CMP dword ptr [ECX + 0x4],EBX
00402bb2 : JNZ 0x00402bb9
00402bb4 : MOV dword ptr [ECX + 0x4],EAX
00402bb7 : JMP 0x00402bc7
00402bb9 : MOV ECX,dword ptr [EBX + 0x4]
00402bbc : CMP dword ptr [ECX],EBX
00402bbe : JNZ 0x00402bc4
00402bc0 : MOV dword ptr [ECX],EAX
00402bc2 : JMP 0x00402bc7
00402bc4 : MOV dword ptr [ECX + 0x8],EAX
00402bc7 : MOV EDX,dword ptr [EBX + 0x4]
00402bca : MOV dword ptr [EAX + 0x4],EDX
00402bcd : LEA ECX,[EBX + 0x48]
00402bd0 : ADD EAX,0x48
00402bd3 : CMP EAX,ECX
00402bd5 : JZ 0x00402bdf
00402bd7 : MOV BL,byte ptr [ECX]
00402bd9 : MOV DL,byte ptr [EAX]
00402bdb : MOV byte ptr [EAX],BL
00402bdd : MOV byte ptr [ECX],DL
00402bdf : MOV EDX,dword ptr [EBP + 0x8]
00402be2 : MOV EAX,dword ptr [EBP + -0x14]
00402be5 : MOV BL,0x1
00402be7 : CMP byte ptr [EAX + 0x48],BL
00402bea : JNZ 0x00402cf3
00402bf0 : MOV ECX,dword ptr [EDX + 0x4]
00402bf3 : CMP EDI,dword ptr [ECX + 0x4]
00402bf6 : JZ 0x00402cf0
00402bfc : LEA ESP,[ESP]
00402c00 : CMP byte ptr [EDI + 0x48],BL
00402c03 : JNZ 0x00402cf0
00402c09 : MOV ECX,dword ptr [ESI]
00402c0b : CMP EDI,ECX
00402c0d : JNZ 0x00402c78
00402c0f : MOV ECX,dword ptr [ESI + 0x8]
00402c12 : CMP byte ptr [ECX + 0x48],0x0
00402c16 : JNZ 0x00402c2d
00402c18 : MOV byte ptr [ECX + 0x48],BL
00402c1b : PUSH EDX
00402c1c : MOV ECX,ESI
00402c1e : MOV byte ptr [ESI + 0x48],0x0
00402c22 : CALL 0x00402310
00402c27 : MOV ECX,dword ptr [ESI + 0x8]
00402c2a : MOV EDX,dword ptr [EBP + 0x8]
00402c2d : CMP byte ptr [ECX + 0x49],0x0
00402c31 : JNZ 0x00402cab
00402c33 : MOV EAX,dword ptr [ECX]
00402c35 : CMP byte ptr [EAX + 0x48],BL
00402c38 : JNZ 0x00402c42
00402c3a : MOV EAX,dword ptr [ECX + 0x8]
00402c3d : CMP byte ptr [EAX + 0x48],BL
00402c40 : JZ 0x00402ca7
00402c42 : MOV EAX,dword ptr [ECX + 0x8]
00402c45 : CMP byte ptr [EAX + 0x48],BL
00402c48 : JNZ 0x00402c5f
00402c4a : MOV EAX,dword ptr [ECX]
00402c4c : MOV byte ptr [EAX + 0x48],BL
00402c4f : PUSH EDX
00402c50 : MOV byte ptr [ECX + 0x48],0x0
00402c54 : CALL 0x00402370
00402c59 : MOV ECX,dword ptr [ESI + 0x8]
00402c5c : MOV EDX,dword ptr [EBP + 0x8]
00402c5f : MOV AL,byte ptr [ESI + 0x48]
00402c62 : MOV byte ptr [ECX + 0x48],AL
00402c65 : MOV byte ptr [ESI + 0x48],BL
00402c68 : MOV ECX,dword ptr [ECX + 0x8]
00402c6b : MOV byte ptr [ECX + 0x48],BL
00402c6e : PUSH EDX
00402c6f : MOV ECX,ESI
00402c71 : CALL 0x00402310
00402c76 : JMP 0x00402cf0
00402c78 : CMP byte ptr [ECX + 0x48],0x0
00402c7c : JNZ 0x00402c92
00402c7e : MOV byte ptr [ECX + 0x48],BL
00402c81 : PUSH EDX
00402c82 : MOV ECX,ESI
00402c84 : MOV byte ptr [ESI + 0x48],0x0
00402c88 : CALL 0x00402370
00402c8d : MOV ECX,dword ptr [ESI]
00402c8f : MOV EDX,dword ptr [EBP + 0x8]
00402c92 : CMP byte ptr [ECX + 0x49],0x0
00402c96 : JNZ 0x00402cab
00402c98 : MOV EAX,dword ptr [ECX + 0x8]
00402c9b : CMP byte ptr [EAX + 0x48],BL
00402c9e : JNZ 0x00402cbe
00402ca0 : MOV EAX,dword ptr [ECX]
00402ca2 : CMP byte ptr [EAX + 0x48],BL
00402ca5 : JNZ 0x00402cbe
00402ca7 : MOV byte ptr [ECX + 0x48],0x0
00402cab : MOV ECX,dword ptr [EDX + 0x4]
00402cae : MOV EDI,ESI
00402cb0 : MOV ESI,dword ptr [ESI + 0x4]
00402cb3 : CMP EDI,dword ptr [ECX + 0x4]
00402cb6 : JNZ 0x00402c00
00402cbc : JMP 0x00402cf0
00402cbe : MOV EAX,dword ptr [ECX]
00402cc0 : CMP byte ptr [EAX + 0x48],BL
00402cc3 : JNZ 0x00402cda
00402cc5 : MOV EAX,dword ptr [ECX + 0x8]
00402cc8 : MOV byte ptr [EAX + 0x48],BL
00402ccb : PUSH EDX
00402ccc : MOV byte ptr [ECX + 0x48],0x0
00402cd0 : CALL 0x00402310
00402cd5 : MOV ECX,dword ptr [ESI]
00402cd7 : MOV EDX,dword ptr [EBP + 0x8]
00402cda : MOV AL,byte ptr [ESI + 0x48]
00402cdd : MOV byte ptr [ECX + 0x48],AL
00402ce0 : MOV byte ptr [ESI + 0x48],BL
00402ce3 : MOV ECX,dword ptr [ECX]
00402ce5 : MOV byte ptr [ECX + 0x48],BL
00402ce8 : PUSH EDX
00402ce9 : MOV ECX,ESI
00402ceb : CALL 0x00402370
00402cf0 : MOV byte ptr [EDI + 0x48],BL
00402cf3 : OR ECX,0xffffffff
00402cf6 : MOV dword ptr [EBP + -0x4],ECX
00402cf9 : MOV EAX,dword ptr [EBP + -0x14]
00402cfc : ADD EAX,0xc
00402cff : MOV dword ptr [EBP + -0x18],EAX
00402d02 : MOV dword ptr [EBP + -0x4],ECX
00402d05 : ADD EAX,0x4
00402d08 : PUSH EAX
00402d09 : CALL 0x00401190
00402d0e : MOV ECX,dword ptr [EBP + -0x14]
00402d11 : CALL 0x006f04e0
