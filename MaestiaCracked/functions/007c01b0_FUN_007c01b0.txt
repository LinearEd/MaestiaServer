PROGRAM  : Maestia.exe
FUNCTION : FUN_007c01b0
ENTRY    : 007c01b0
BODY     : [[007c01b0, 007c05aa]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_007c01b0(int param_1,int param_2,undefined1 *param_3)

{
  int *piVar1;
  undefined4 *in_EAX;
  int iVar2;
  int iVar3;
  undefined4 *in_EDX;
  undefined4 *puVar4;
  undefined4 *puVar5;
  wchar_t *pwVar6;
  undefined4 local_80 [14];
  undefined4 local_48 [14];
  undefined4 *local_10;
  undefined4 local_c;
  
  iVar2 = *(int *)(DAT_017251ac + 0x18);
  if ((iVar2 != 0) && (iVar3 = *(int *)(DAT_017251ac + 0x178), iVar3 != 0)) {
    local_c = *(undefined4 *)(iVar3 + 0xa8);
    local_10 = (undefined4 *)(iVar3 + 0x48);
    puVar4 = local_10;
    puVar5 = local_48;
    for (iVar3 = 0xe; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
    puVar4 = local_10;
    puVar5 = local_80;
    for (iVar3 = 0xe; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
    *param_3 = 0;
    switch(param_2) {
    case 0:
      *in_EAX = local_48[0];
      *in_EDX = local_80[1];
      if (*(int *)(param_1 + 0x13c) != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,local_80[1],1,1,local_c,0,(int *)(param_1 + 0x13c));
      if (-1 < iVar2) {
        *param_3 = 1;
        goto switchD_007c020f_default;
      }
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [BACKBUFFER_SRC] (%d)";
      break;
    case 1:
      *in_EAX = 0x200;
      *in_EDX = 0x200;
      if (*(int *)(param_1 + 0x140) != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,0x200,1,1,local_c,0,(int *)(param_1 + 0x140));
      if (-1 < iVar2) {
LAB_007c02be:
        *param_3 = 1;
        return *(undefined4 *)(param_1 + 0x13c + param_2 * 4);
      }
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [RT_SRC1] (%d)";
      break;
    case 2:
      *in_EAX = 0x200;
      *in_EDX = 0x200;
      if (*(int *)(param_1 + 0x144) != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,0x200,1,1,local_c,0,(int *)(param_1 + 0x144));
      if (-1 < iVar2) goto LAB_007c02be;
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [RT_SRC2] (%d)";
      break;
    case 3:
      *in_EAX = 0x200;
      *in_EDX = 0x200;
      if (*(int *)(param_1 + 0x148) != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,0x200,1,1,local_c,0,(int *)(param_1 + 0x148));
      if (-1 < iVar2) goto LAB_007c02be;
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [RT_SRC3] (%d)";
      break;
    case 4:
      *in_EAX = 0x200;
      *in_EDX = 0x200;
      if (*(int *)(param_1 + 0x14c) != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,0x200,1,1,local_c,0,(int *)(param_1 + 0x14c));
      if (-1 < iVar2) goto LAB_007c02be;
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [RT_SRC4] (%d)";
      break;
    case 5:
      *in_EAX = 0x200;
      *in_EDX = 0x200;
      if (*(int *)(param_1 + 0x150) != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,0x200,1,1,local_c,0,(int *)(param_1 + 0x150));
      if (-1 < iVar2) goto LAB_007c02be;
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [RT_SRC5] (%d)";
      break;
    case 6:
      *in_EAX = 0x400;
      *in_EDX = 0x400;
      if (*(int *)(param_1 + 0x154) != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,0x400,1,1,local_c,0,(int *)(param_1 + 0x154));
      if (-1 < iVar2) goto LAB_007c02be;
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [RT_SRC6] (%d)";
      break;
    case 7:
      *in_EAX = 0x200;
      *in_EDX = 0x200;
      if (*(int *)(param_1 + 0x158) != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,0x200,1,1,0x15,0,(int *)(param_1 + 0x158));
      if (-1 < iVar2) goto LAB_007c02be;
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [RT_SRC7] (%d)";
      break;
    case 8:
      *in_EAX = 0x200;
      *in_EDX = 0x200;
      if (*(int *)(param_1 + 0x15c) != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,0x200,1,1,0x15,0,(int *)(param_1 + 0x15c));
      if (-1 < iVar2) goto LAB_007c02be;
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [RT_SRC8] (%d)";
      break;
    case 9:
      *in_EAX = 0x200;
      *in_EDX = 0x200;
      if (*(int *)(param_1 + 0x160) != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,0x200,1,1,0x15,0,(int *)(param_1 + 0x160));
      if (-1 < iVar2) goto LAB_007c02be;
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [RT_SRC9] (%d)";
      break;
    case 10:
      *in_EAX = 0x200;
      *in_EDX = 0x200;
      if (*(int *)(param_1 + 0x164) != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,0x200,1,1,0x15,0,(int *)(param_1 + 0x164));
      if (-1 < iVar2) goto LAB_007c02be;
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [RT_SRC10] (%d)";
      break;
    case 0xb:
    case 0xc:
      *in_EAX = 0x200;
      piVar1 = (int *)(param_1 + 0x13c + param_2 * 4);
      *in_EDX = 0x200;
      if (*piVar1 != 0) goto switchD_007c020f_default;
      iVar2 = D3DXCreateTexture(iVar2,*in_EAX,0x200,1,1,0x15,0,piVar1);
      if (-1 < iVar2) goto LAB_007c02be;
      pwVar6 = L"ERROR - [AvaShaderMgr::GetTexPPRT] Failed D3DXCreateTexture [RT_SRC11] (%d)";
      break;
    default:
switchD_007c020f_default:
      return *(undefined4 *)(param_1 + 0x13c + param_2 * 4);
    }
    FUN_008018d0(pwVar6,iVar2);
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
007c01b0 : PUSH EBP
007c01b1 : MOV EBP,ESP
007c01b3 : MOV ECX,dword ptr [0x017251ac]
007c01b9 : SUB ESP,0x80
007c01bf : PUSH EBX
007c01c0 : MOV EBX,dword ptr [ECX + 0x18]
007c01c3 : PUSH ESI
007c01c4 : PUSH EDI
007c01c5 : TEST EBX,EBX
007c01c7 : JZ 0x007c025b
007c01cd : MOV ECX,dword ptr [ECX + 0x178]
007c01d3 : TEST ECX,ECX
007c01d5 : JZ 0x007c025b
007c01db : MOV ESI,dword ptr [ECX + 0xa8]
007c01e1 : MOV dword ptr [EBP + -0x8],ESI
007c01e4 : LEA ESI,[ECX + 0x48]
007c01e7 : MOV dword ptr [EBP + -0xc],ESI
007c01ea : MOV ECX,0xe
007c01ef : LEA EDI,[EBP + -0x44]
007c01f2 : MOVSD.REP ES:EDI,ESI
007c01f4 : MOV ESI,dword ptr [EBP + -0xc]
007c01f7 : MOV ECX,0xe
007c01fc : LEA EDI,[EBP + -0x7c]
007c01ff : MOVSD.REP ES:EDI,ESI
007c0201 : MOV ESI,dword ptr [EBP + 0xc]
007c0204 : MOV EDI,dword ptr [EBP + 0x10]
007c0207 : MOV byte ptr [EDI],0x0
007c020a : CMP ESI,0xc
007c020d : JA 0x007c026c
007c020f : JMP dword ptr [ESI*0x4 + 0x7c05ac]
007c0216 : MOV ECX,dword ptr [EBP + -0x44]
007c0219 : MOV ESI,dword ptr [EBP + -0x78]
007c021c : MOV dword ptr [EAX],ECX
007c021e : MOV ECX,dword ptr [EBP + 0x8]
007c0221 : ADD ECX,0x13c
007c0227 : MOV dword ptr [EDX],ESI
007c0229 : CMP dword ptr [ECX],0x0
007c022c : JNZ 0x007c0269
007c022e : MOV EDX,dword ptr [EBP + -0x8]
007c0231 : MOV EAX,dword ptr [EAX]
007c0233 : PUSH ECX
007c0234 : PUSH 0x0
007c0236 : PUSH EDX
007c0237 : PUSH 0x1
007c0239 : PUSH 0x1
007c023b : PUSH ESI
007c023c : PUSH EAX
007c023d : PUSH EBX
007c023e : CALL 0x00664ca2
007c0243 : TEST EAX,EAX
007c0245 : JGE 0x007c0266
007c0247 : PUSH EAX
007c0248 : PUSH 0xc1b958
007c024d : MOV ESI,dword ptr [0x00da98e8]
007c0253 : CALL 0x008018d0
007c0258 : ADD ESP,0x8
007c025b : XOR EAX,EAX
007c025d : POP EDI
007c025e : POP ESI
007c025f : POP EBX
007c0260 : MOV ESP,EBP
007c0262 : POP EBP
007c0263 : RET 0xc
007c0266 : MOV byte ptr [EDI],0x1
007c0269 : MOV ESI,dword ptr [EBP + 0xc]
007c026c : MOV EAX,dword ptr [EBP + 0x8]
007c026f : MOV EAX,dword ptr [EAX + ESI*0x4 + 0x13c]
007c0276 : POP EDI
007c0277 : POP ESI
007c0278 : POP EBX
007c0279 : MOV ESP,EBP
007c027b : POP EBP
007c027c : RET 0xc
007c027f : MOV ECX,dword ptr [EBP + 0x8]
007c0282 : MOV dword ptr [EAX],0x200
007c0288 : ADD ECX,0x140
007c028e : MOV dword ptr [EDX],0x200
007c0294 : CMP dword ptr [ECX],0x0
007c0297 : JNZ 0x007c026c
007c0299 : MOV EDX,dword ptr [EAX]
007c029b : PUSH ECX
007c029c : MOV ECX,dword ptr [EBP + -0x8]
007c029f : PUSH 0x0
007c02a1 : PUSH ECX
007c02a2 : PUSH 0x1
007c02a4 : PUSH 0x1
007c02a6 : PUSH 0x200
007c02ab : PUSH EDX
007c02ac : PUSH EBX
007c02ad : CALL 0x00664ca2
007c02b2 : TEST EAX,EAX
007c02b4 : JGE 0x007c02be
007c02b6 : PUSH EAX
007c02b7 : PUSH 0xc1ba18
007c02bc : JMP 0x007c024d
007c02be : MOV EAX,dword ptr [EBP + 0x8]
007c02c1 : MOV byte ptr [EDI],0x1
007c02c4 : MOV EAX,dword ptr [EAX + ESI*0x4 + 0x13c]
007c02cb : POP EDI
007c02cc : POP ESI
007c02cd : POP EBX
007c02ce : MOV ESP,EBP
007c02d0 : POP EBP
007c02d1 : RET 0xc
007c02d4 : MOV ECX,dword ptr [EBP + 0x8]
007c02d7 : MOV dword ptr [EAX],0x200
007c02dd : ADD ECX,0x144
007c02e3 : MOV dword ptr [EDX],0x200
007c02e9 : CMP dword ptr [ECX],0x0
007c02ec : JNZ 0x007c026c
007c02f2 : MOV EDX,dword ptr [EAX]
007c02f4 : PUSH ECX
007c02f5 : MOV ECX,dword ptr [EBP + -0x8]
007c02f8 : PUSH 0x0
007c02fa : PUSH ECX
007c02fb : PUSH 0x1
007c02fd : PUSH 0x1
007c02ff : PUSH 0x200
007c0304 : PUSH EDX
007c0305 : PUSH EBX
007c0306 : CALL 0x00664ca2
007c030b : TEST EAX,EAX
007c030d : JGE 0x007c02be
007c030f : PUSH EAX
007c0310 : PUSH 0xc1bab0
007c0315 : JMP 0x007c024d
007c031a : MOV ECX,dword ptr [EBP + 0x8]
007c031d : MOV dword ptr [EAX],0x200
007c0323 : ADD ECX,0x148
007c0329 : MOV dword ptr [EDX],0x200
007c032f : CMP dword ptr [ECX],0x0
007c0332 : JNZ 0x007c026c
007c0338 : MOV EDX,dword ptr [EAX]
007c033a : PUSH ECX
007c033b : MOV ECX,dword ptr [EBP + -0x8]
007c033e : PUSH 0x0
007c0340 : PUSH ECX
007c0341 : PUSH 0x1
007c0343 : PUSH 0x1
007c0345 : PUSH 0x200
007c034a : PUSH EDX
007c034b : PUSH EBX
007c034c : CALL 0x00664ca2
007c0351 : TEST EAX,EAX
007c0353 : JGE 0x007c02be
007c0359 : PUSH EAX
007c035a : PUSH 0xc1bb48
007c035f : JMP 0x007c024d
007c0364 : MOV ECX,dword ptr [EBP + 0x8]
007c0367 : MOV dword ptr [EAX],0x200
007c036d : ADD ECX,0x14c
007c0373 : MOV dword ptr [EDX],0x200
007c0379 : CMP dword ptr [ECX],0x0
007c037c : JNZ 0x007c026c
007c0382 : MOV EDX,dword ptr [EAX]
007c0384 : PUSH ECX
007c0385 : MOV ECX,dword ptr [EBP + -0x8]
007c0388 : PUSH 0x0
007c038a : PUSH ECX
007c038b : PUSH 0x1
007c038d : PUSH 0x1
007c038f : PUSH 0x200
007c0394 : PUSH EDX
007c0395 : PUSH EBX
007c0396 : CALL 0x00664ca2
007c039b : TEST EAX,EAX
007c039d : JGE 0x007c02be
007c03a3 : PUSH EAX
007c03a4 : PUSH 0xc1bbe0
007c03a9 : JMP 0x007c024d
007c03ae : MOV ECX,dword ptr [EBP + 0x8]
007c03b1 : MOV dword ptr [EAX],0x200
007c03b7 : ADD ECX,0x150
007c03bd : MOV dword ptr [EDX],0x200
007c03c3 : CMP dword ptr [ECX],0x0
007c03c6 : JNZ 0x007c026c
007c03cc : MOV EDX,dword ptr [EAX]
007c03ce : PUSH ECX
007c03cf : MOV ECX,dword ptr [EBP + -0x8]
007c03d2 : PUSH 0x0
007c03d4 : PUSH ECX
007c03d5 : PUSH 0x1
007c03d7 : PUSH 0x1
007c03d9 : PUSH 0x200
007c03de : PUSH EDX
007c03df : PUSH EBX
007c03e0 : CALL 0x00664ca2
007c03e5 : TEST EAX,EAX
007c03e7 : JGE 0x007c02be
007c03ed : PUSH EAX
007c03ee : PUSH 0xc1bc78
007c03f3 : JMP 0x007c024d
007c03f8 : MOV ECX,dword ptr [EBP + 0x8]
007c03fb : MOV dword ptr [EAX],0x400
007c0401 : ADD ECX,0x154
007c0407 : MOV dword ptr [EDX],0x400
007c040d : CMP dword ptr [ECX],0x0
007c0410 : JNZ 0x007c026c
007c0416 : MOV EDX,dword ptr [EAX]
007c0418 : PUSH ECX
007c0419 : MOV ECX,dword ptr [EBP + -0x8]
007c041c : PUSH 0x0
007c041e : PUSH ECX
007c041f : PUSH 0x1
007c0421 : PUSH 0x1
007c0423 : PUSH 0x400
007c0428 : PUSH EDX
007c0429 : PUSH EBX
007c042a : CALL 0x00664ca2
007c042f : TEST EAX,EAX
007c0431 : JGE 0x007c02be
007c0437 : PUSH EAX
007c0438 : PUSH 0xc1bd10
007c043d : JMP 0x007c024d
007c0442 : MOV ECX,dword ptr [EBP + 0x8]
007c0445 : MOV dword ptr [EAX],0x200
007c044b : ADD ECX,0x158
007c0451 : MOV dword ptr [EDX],0x200
007c0457 : CMP dword ptr [ECX],0x0
007c045a : JNZ 0x007c026c
007c0460 : MOV EAX,dword ptr [EAX]
007c0462 : PUSH ECX
007c0463 : PUSH 0x0
007c0465 : PUSH 0x15
007c0467 : PUSH 0x1
007c0469 : PUSH 0x1
007c046b : PUSH 0x200
007c0470 : PUSH EAX
007c0471 : PUSH EBX
007c0472 : CALL 0x00664ca2
007c0477 : TEST EAX,EAX
007c0479 : JGE 0x007c02be
007c047f : PUSH EAX
007c0480 : PUSH 0xc1bda8
007c0485 : JMP 0x007c024d
007c048a : MOV ECX,dword ptr [EBP + 0x8]
007c048d : MOV dword ptr [EAX],0x200
007c0493 : ADD ECX,0x15c
007c0499 : MOV dword ptr [EDX],0x200
007c049f : CMP dword ptr [ECX],0x0
007c04a2 : JNZ 0x007c026c
007c04a8 : PUSH ECX
007c04a9 : MOV ECX,dword ptr [EAX]
007c04ab : PUSH 0x0
007c04ad : PUSH 0x15
007c04af : PUSH 0x1
007c04b1 : PUSH 0x1
007c04b3 : PUSH 0x200
007c04b8 : PUSH ECX
007c04b9 : PUSH EBX
007c04ba : CALL 0x00664ca2
007c04bf : TEST EAX,EAX
007c04c1 : JGE 0x007c02be
007c04c7 : PUSH EAX
007c04c8 : PUSH 0xc1be40
007c04cd : JMP 0x007c024d
007c04d2 : MOV ECX,dword ptr [EBP + 0x8]
007c04d5 : MOV dword ptr [EAX],0x200
007c04db : ADD ECX,0x160
007c04e1 : MOV dword ptr [EDX],0x200
007c04e7 : CMP dword ptr [ECX],0x0
007c04ea : JNZ 0x007c026c
007c04f0 : MOV EDX,dword ptr [EAX]
007c04f2 : PUSH ECX
007c04f3 : PUSH 0x0
007c04f5 : PUSH 0x15
007c04f7 : PUSH 0x1
007c04f9 : PUSH 0x1
007c04fb : PUSH 0x200
007c0500 : PUSH EDX
007c0501 : PUSH EBX
007c0502 : CALL 0x00664ca2
007c0507 : TEST EAX,EAX
007c0509 : JGE 0x007c02be
007c050f : PUSH EAX
007c0510 : PUSH 0xc1bed8
007c0515 : JMP 0x007c024d
007c051a : MOV ECX,dword ptr [EBP + 0x8]
007c051d : MOV dword ptr [EAX],0x200
007c0523 : ADD ECX,0x164
007c0529 : MOV dword ptr [EDX],0x200
007c052f : CMP dword ptr [ECX],0x0
007c0532 : JNZ 0x007c026c
007c0538 : MOV EAX,dword ptr [EAX]
007c053a : PUSH ECX
007c053b : PUSH 0x0
007c053d : PUSH 0x15
007c053f : PUSH 0x1
007c0541 : PUSH 0x1
007c0543 : PUSH 0x200
007c0548 : PUSH EAX
007c0549 : PUSH EBX
007c054a : CALL 0x00664ca2
007c054f : TEST EAX,EAX
007c0551 : JGE 0x007c02be
007c0557 : PUSH EAX
007c0558 : PUSH 0xc1bf70
007c055d : JMP 0x007c024d
007c0562 : MOV ECX,dword ptr [EBP + 0x8]
007c0565 : MOV dword ptr [EAX],0x200
007c056b : LEA ECX,[ECX + ESI*0x4 + 0x13c]
007c0572 : MOV dword ptr [EDX],0x200
007c0578 : CMP dword ptr [ECX],0x0
007c057b : JNZ 0x007c026c
007c0581 : MOV EDX,dword ptr [EAX]
007c0583 : PUSH ECX
007c0584 : PUSH 0x0
007c0586 : PUSH 0x15
007c0588 : PUSH 0x1
007c058a : PUSH 0x1
007c058c : PUSH 0x200
007c0591 : PUSH EDX
007c0592 : PUSH EBX
007c0593 : CALL 0x00664ca2
007c0598 : TEST EAX,EAX
007c059a : JGE 0x007c02be
007c05a0 : PUSH EAX
007c05a1 : PUSH 0xc1c008
007c05a6 : JMP 0x007c024d
