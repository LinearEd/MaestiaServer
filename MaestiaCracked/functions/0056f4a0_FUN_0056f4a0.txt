PROGRAM  : Maestia.exe
FUNCTION : FUN_0056f4a0
ENTRY    : 0056f4a0
BODY     : [[0056f4a0, 0056f592]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0056f4a0(void)

{
  LONG LVar1;
  int in_ECX;
  uint unaff_EBX;
  uint unaff_ESI;
  uint uVar2;
  uint local_14;
  uint local_10;
  uint local_c [3];
  
  local_c[0] = 6;
  FUN_0051c600(in_ECX + 0x18);
  FUN_0051c600(in_ECX + 0x14);
  FUN_0051b6e0();
  FUN_005a03c0(&local_14,local_c);
  FUN_0051c480((local_14 & 0xfffffffc) + 8);
  (**(code **)(**(int **)(in_ECX + 0x1c) + 4))
            (&local_10,*(undefined4 *)(*(int *)(*(int *)(in_ECX + 0x10) + 8) + 8));
  LVar1 = InterlockedExchangeAdd((LONG *)((unaff_EBX & 0xfffffffc) + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(unaff_EBX & 0xfffffffc);
  }
  InterlockedExchange((LONG *)(in_ECX + 0x20),1);
  LVar1 = InterlockedExchangeAdd((LONG *)((unaff_ESI & 0xfffffffc) + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(unaff_ESI & 0xfffffffc);
  }
  uVar2 = local_c[0] & 0xfffffffc;
  LVar1 = InterlockedExchangeAdd((LONG *)(uVar2 + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(uVar2);
  }
  LVar1 = InterlockedExchangeAdd((LONG *)((local_10 & 0xfffffffc) + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(local_10 & 0xfffffffc);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0056f4a0 : SUB ESP,0x14
0056f4a3 : PUSH EBX
0056f4a4 : PUSH ESI
0056f4a5 : MOV ESI,ECX
0056f4a7 : PUSH EDI
0056f4a8 : LEA EAX,[ESI + 0x18]
0056f4ab : PUSH EAX
0056f4ac : LEA ECX,[ESP + 0x1c]
0056f4b0 : MOV dword ptr [ESP + 0x18],0x6
0056f4b8 : CALL 0x0051c600
0056f4bd : LEA ECX,[ESI + 0x14]
0056f4c0 : PUSH ECX
0056f4c1 : LEA ECX,[ESP + 0x20]
0056f4c5 : CALL 0x0051c600
0056f4ca : LEA ECX,[ESP + 0xc]
0056f4ce : CALL 0x0051b6e0
0056f4d3 : MOV ECX,dword ptr [ESI + 0x10]
0056f4d6 : LEA EDX,[ESP + 0x14]
0056f4da : PUSH EDX
0056f4db : LEA EAX,[ESP + 0x10]
0056f4df : PUSH EAX
0056f4e0 : CALL 0x005a03c0
0056f4e5 : MOV ECX,dword ptr [ESP + 0xc]
0056f4e9 : AND ECX,0xfffffffc
0056f4ec : ADD ECX,0x8
0056f4ef : PUSH ECX
0056f4f0 : LEA ECX,[ESP + 0x14]
0056f4f4 : CALL 0x0051c480
0056f4f9 : MOV EAX,dword ptr [ESI + 0x10]
0056f4fc : MOV EAX,dword ptr [EAX + 0x8]
0056f4ff : MOV EAX,dword ptr [EAX + 0x8]
0056f502 : MOV ECX,dword ptr [ESI + 0x1c]
0056f505 : MOV EDX,dword ptr [ECX]
0056f507 : MOV EDX,dword ptr [EDX + 0x4]
0056f50a : PUSH EAX
0056f50b : LEA EAX,[ESP + 0x14]
0056f50f : PUSH EAX
0056f510 : CALL EDX
0056f512 : MOV EDI,dword ptr [ESP + 0x10]
0056f516 : MOV EBX,dword ptr [0x00b851cc]
0056f51c : AND EDI,0xfffffffc
0056f51f : PUSH -0x1
0056f521 : LEA EAX,[EDI + 0x4]
0056f524 : PUSH EAX
0056f525 : CALL EBX
0056f527 : SUB EAX,0x1
0056f52a : JNZ 0x0056f532
0056f52c : PUSH EDI
0056f52d : CALL 0x00515cf0
0056f532 : PUSH 0x1
0056f534 : ADD ESI,0x20
0056f537 : PUSH ESI
0056f538 : CALL dword ptr [0x00b85108]
0056f53e : MOV ESI,dword ptr [ESP + 0xc]
0056f542 : AND ESI,0xfffffffc
0056f545 : PUSH -0x1
0056f547 : LEA ECX,[ESI + 0x4]
0056f54a : PUSH ECX
0056f54b : CALL EBX
0056f54d : SUB EAX,0x1
0056f550 : JNZ 0x0056f558
0056f552 : PUSH ESI
0056f553 : CALL 0x00515cf0
0056f558 : MOV ESI,dword ptr [ESP + 0x1c]
0056f55c : AND ESI,0xfffffffc
0056f55f : PUSH -0x1
0056f561 : LEA EDX,[ESI + 0x4]
0056f564 : PUSH EDX
0056f565 : CALL EBX
0056f567 : SUB EAX,0x1
0056f56a : JNZ 0x0056f572
0056f56c : PUSH ESI
0056f56d : CALL 0x00515cf0
0056f572 : MOV ESI,dword ptr [ESP + 0x18]
0056f576 : AND ESI,0xfffffffc
0056f579 : PUSH -0x1
0056f57b : LEA EAX,[ESI + 0x4]
0056f57e : PUSH EAX
0056f57f : CALL EBX
0056f581 : SUB EAX,0x1
0056f584 : JNZ 0x0056f58c
0056f586 : PUSH ESI
0056f587 : CALL 0x00515cf0
0056f58c : POP EDI
0056f58d : POP ESI
0056f58e : POP EBX
0056f58f : ADD ESP,0x14
0056f592 : RET
