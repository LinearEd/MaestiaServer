PROGRAM  : Maestia.exe
FUNCTION : FUN_00508480
ENTRY    : 00508480
BODY     : [[00508480, 005084d4]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00508480(undefined4 param_1,undefined4 param_2)

{
  int *in_ECX;
  undefined2 *puVar1;
  
  if ((GRefCountNTSImpl *)in_ECX[7] != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release((GRefCountNTSImpl *)in_ECX[7]);
    in_ECX[7] = 0;
  }
  FUN_004ffa30(param_1,param_2);
  puVar1 = (undefined2 *)in_ECX[3];
  if (puVar1 == (undefined2 *)0x0) {
    puVar1 = &DAT_00cca49c;
  }
  (**(code **)(*in_ECX + 4))(puVar1,in_ECX[4]);
  FUN_005083c0(param_1);
  return;
}



============================================================
DISASSEMBLY
============================================================
00508480 : PUSH ESI
00508481 : MOV ESI,ECX
00508483 : MOV ECX,dword ptr [ESI + 0x1c]
00508486 : PUSH EDI
00508487 : TEST ECX,ECX
00508489 : JZ 0x00508497
0050848b : CALL 0x004ff7c0
00508490 : MOV dword ptr [ESI + 0x1c],0x0
00508497 : MOV EAX,dword ptr [ESP + 0x10]
0050849b : MOV ECX,dword ptr [ESP + 0xc]
0050849f : PUSH EAX
005084a0 : LEA EDI,[ESI + 0xc]
005084a3 : PUSH ECX
005084a4 : MOV ECX,EDI
005084a6 : CALL 0x004ffa30
005084ab : MOV EDI,dword ptr [EDI]
005084ad : MOV EAX,dword ptr [ESI + 0x10]
005084b0 : TEST EDI,EDI
005084b2 : JNZ 0x005084b9
005084b4 : MOV EDI,0xcca49c
005084b9 : MOV EDX,dword ptr [ESI]
005084bb : PUSH EAX
005084bc : MOV EAX,dword ptr [EDX + 0x4]
005084bf : PUSH EDI
005084c0 : MOV ECX,ESI
005084c2 : CALL EAX
005084c4 : MOV ECX,dword ptr [ESP + 0x14]
005084c8 : PUSH ECX
005084c9 : MOV ECX,ESI
005084cb : CALL 0x005083c0
005084d0 : POP EDI
005084d1 : POP ESI
005084d2 : RET 0xc
