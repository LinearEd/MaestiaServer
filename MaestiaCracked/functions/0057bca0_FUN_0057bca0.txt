PROGRAM  : Maestia.exe
FUNCTION : FUN_0057bca0
ENTRY    : 0057bca0
BODY     : [[0057bca0, 0057bdd0]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_0057bca0(int *param_1,uint param_2)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  int local_18;
  undefined1 local_14;
  
  iVar2 = param_2;
  uVar6 = 0;
  local_18 = param_2;
  local_14 = 8;
  puVar3 = (undefined4 *)FUN_00515840(0x34,0);
  if (puVar3 == (undefined4 *)0x0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    FUN_00568960(&local_18,FUN_0057b8e0);
    *puVar3 = &PTR_LAB_00b8d630;
    puVar3[4] = &PTR_LAB_00b90510;
    FUN_00530a70(puVar3 + 4,&local_18,&PTR_s_initialize_00b8d540,7);
  }
  puVar1 = param_1;
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = (int)puVar3;
  param_1[1] = 0;
  iVar4 = FUN_00515840(0x50,0);
  if (iVar4 != 0) {
    puVar3 = puVar1;
    uVar5 = FUN_00530910(1);
    uVar6 = FUN_0057ba70(&local_18,uVar5,puVar3);
    if (uVar6 != 0) {
      *(uint *)(uVar6 + 8) = *(int *)(uVar6 + 8) + 1U & 0x8fffffff;
    }
  }
  param_1 = (int *)0x13;
  param_2 = uVar6;
  FUN_0050ff10(&param_1,&param_2);
  if (param_2 != 0) {
    FUN_00503db0();
  }
  param_1 = (int *)(*(int *)(iVar2 + 0x2a0) + 0x10);
  param_2 = param_2 & 0xffffff00;
  iVar4 = *param_1;
  puVar3 = &param_2;
  uVar5 = FUN_00526210(puVar1);
  (**(code **)(iVar4 + 0x28))(&local_18,iVar2 + 0x54,uVar5,puVar3);
  FUN_00526bc0();
  if (uVar6 != 0) {
    FUN_00503db0();
  }
  return puVar1;
}



============================================================
DISASSEMBLY
============================================================
0057bca0 : SUB ESP,0x18
0057bca3 : PUSH EBX
0057bca4 : PUSH EBP
0057bca5 : PUSH ESI
0057bca6 : MOV ESI,dword ptr [ESP + 0x2c]
0057bcaa : MOV ECX,dword ptr [ESI + 0x288]
0057bcb0 : PUSH EDI
0057bcb1 : XOR EBX,EBX
0057bcb3 : PUSH EBX
0057bcb4 : PUSH 0x34
0057bcb6 : MOV dword ptr [ESP + 0x18],ESI
0057bcba : MOV byte ptr [ESP + 0x1c],0x8
0057bcbf : CALL 0x00515840
0057bcc4 : MOV EDI,EAX
0057bcc6 : CMP EDI,EBX
0057bcc8 : JZ 0x0057bd01
0057bcca : PUSH 0x57b8e0
0057bccf : LEA EAX,[ESP + 0x14]
0057bcd3 : PUSH EAX
0057bcd4 : MOV ECX,EDI
0057bcd6 : CALL 0x00568960
0057bcdb : PUSH 0x7
0057bcdd : PUSH 0xb8d540
0057bce2 : LEA ECX,[ESP + 0x18]
0057bce6 : LEA EAX,[EDI + 0x10]
0057bce9 : PUSH ECX
0057bcea : PUSH EAX
0057bceb : MOV dword ptr [EDI],0xb8d630
0057bcf1 : MOV dword ptr [EAX],0xb90510
0057bcf7 : CALL 0x00530a70
0057bcfc : ADD ESP,0x10
0057bcff : JMP 0x0057bd03
0057bd01 : XOR EDI,EDI
0057bd03 : MOV EBP,dword ptr [ESP + 0x2c]
0057bd07 : PUSH EBX
0057bd08 : MOV byte ptr [EBP + 0x8],BL
0057bd0b : MOV dword ptr [EBP],EDI
0057bd0e : MOV dword ptr [EBP + 0x4],EBX
0057bd11 : MOV ECX,dword ptr [ESI + 0x288]
0057bd17 : PUSH 0x50
0057bd19 : CALL 0x00515840
0057bd1e : MOV EDI,EAX
0057bd20 : CMP EDI,EBX
0057bd22 : JZ 0x0057bd4d
0057bd24 : PUSH EBP
0057bd25 : PUSH 0x1
0057bd27 : MOV ECX,ESI
0057bd29 : CALL 0x00530910
0057bd2e : PUSH EAX
0057bd2f : LEA EDX,[ESP + 0x18]
0057bd33 : PUSH EDX
0057bd34 : MOV ECX,EDI
0057bd36 : CALL 0x0057ba70
0057bd3b : MOV EBX,EAX
0057bd3d : TEST EBX,EBX
0057bd3f : JZ 0x0057bd4d
0057bd41 : MOV EAX,dword ptr [EBX + 0x8]
0057bd44 : INC EAX
0057bd45 : AND EAX,0x8fffffff
0057bd4a : MOV dword ptr [EBX + 0x8],EAX
0057bd4d : LEA ECX,[ESP + 0x30]
0057bd51 : PUSH ECX
0057bd52 : LEA EDX,[ESP + 0x30]
0057bd56 : PUSH EDX
0057bd57 : LEA ECX,[ESI + 0x278]
0057bd5d : MOV dword ptr [ESP + 0x38],EBX
0057bd61 : MOV dword ptr [ESP + 0x34],0x13
0057bd69 : CALL 0x0050ff10
0057bd6e : MOV ECX,dword ptr [ESP + 0x30]
0057bd72 : TEST ECX,ECX
0057bd74 : JZ 0x0057bd7b
0057bd76 : CALL 0x00503db0
0057bd7b : MOV EAX,dword ptr [ESI + 0x2a0]
0057bd81 : ADD EAX,0x10
0057bd84 : MOV byte ptr [ESP + 0x30],0x0
0057bd89 : MOV EDI,dword ptr [EAX]
0057bd8b : MOV dword ptr [ESP + 0x2c],EAX
0057bd8f : LEA EAX,[ESP + 0x30]
0057bd93 : PUSH EAX
0057bd94 : PUSH EBP
0057bd95 : LEA ECX,[ESP + 0x20]
0057bd99 : ADD EDI,0x28
0057bd9c : CALL 0x00526210
0057bda1 : MOV EDX,dword ptr [EDI]
0057bda3 : PUSH EAX
0057bda4 : ADD ESI,0x54
0057bda7 : PUSH ESI
0057bda8 : LEA ECX,[ESP + 0x1c]
0057bdac : PUSH ECX
0057bdad : MOV ECX,dword ptr [ESP + 0x3c]
0057bdb1 : CALL EDX
0057bdb3 : LEA ECX,[ESP + 0x18]
0057bdb7 : CALL 0x00526bc0
0057bdbc : TEST EBX,EBX
0057bdbe : JZ 0x0057bdc7
0057bdc0 : MOV ECX,EBX
0057bdc2 : CALL 0x00503db0
0057bdc7 : POP EDI
0057bdc8 : POP ESI
0057bdc9 : MOV EAX,EBP
0057bdcb : POP EBP
0057bdcc : POP EBX
0057bdcd : ADD ESP,0x18
0057bdd0 : RET
