PROGRAM  : Maestia.exe
FUNCTION : FUN_00a1c960
ENTRY    : 00a1c960
BODY     : [[00a1c960, 00a1c9cc] [00a1c9d0, 00a1ca4b]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_00a1c960(int param_1)

{
  undefined2 *puVar1;
  ushort *puVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  uint in_ECX;
  
  iVar3 = param_1;
  iVar4 = FUN_00703c00(0x301);
  iVar5 = DAT_00d7c54c;
  uVar6 = 0;
  if (((iVar4 != 0) &&
      (param_1 = iVar3, FUN_004437f0(&param_1), uVar6 = in_ECX, in_ECX != *(uint *)(iVar5 + 0x44)))
     && (*(int *)(in_ECX + 0x10) != 0)) {
    iVar5 = (**(code **)(*(int *)(iVar4 + 0x29c) + 4))();
    uVar6 = 0;
    while (iVar5 != 0) {
      iVar4 = FUN_004f5680();
      param_1 = (**(code **)(*(int *)(iVar4 + 0x78) + 4))();
      uVar6 = 0;
      while (param_1 != 0) {
        uVar6 = FUN_004f5680();
        if (((uVar6 != 0) && (iVar4 = *(int *)(uVar6 + 0xf0), iVar4 != 0)) &&
           ((puVar1 = (undefined2 *)(uVar6 + 4), puVar2 = (ushort *)(uVar6 + 6),
            uVar6 = (uint)*puVar2, CONCAT22(*puVar1,*puVar2) == iVar3 ||
            (uVar6 = (uint)*(ushort *)(iVar4 + 6),
            CONCAT22(*(undefined2 *)(iVar4 + 4),*(ushort *)(iVar4 + 6)) == iVar3)))) {
          return CONCAT31((int3)(uVar6 >> 8),1);
        }
      }
      param_1 = 0;
    }
  }
  return uVar6 & 0xffffff00;
}



============================================================
DISASSEMBLY
============================================================
00a1c960 : PUSH EBP
00a1c961 : MOV EBP,ESP
00a1c963 : PUSH ECX
00a1c964 : PUSH EBX
00a1c965 : MOV EBX,dword ptr [EBP + 0x8]
00a1c968 : PUSH ESI
00a1c969 : PUSH EDI
00a1c96a : PUSH 0x301
00a1c96f : MOV EDI,EAX
00a1c971 : CALL 0x00703c00
00a1c976 : MOV ESI,EAX
00a1c978 : ADD ESP,0x4
00a1c97b : TEST ESI,ESI
00a1c97d : JZ 0x00a1ca36
00a1c983 : MOV EDI,dword ptr [0x00d7c54c]
00a1c989 : LEA EAX,[EBP + 0x8]
00a1c98c : PUSH EAX
00a1c98d : LEA ECX,[EDI + 0x40]
00a1c990 : LEA EAX,[EBP + -0x4]
00a1c993 : MOV dword ptr [EBP + 0x8],EBX
00a1c996 : CALL 0x004437f0
00a1c99b : MOV EAX,dword ptr [EBP + -0x4]
00a1c99e : CMP EAX,dword ptr [EDI + 0x44]
00a1c9a1 : JZ 0x00a1ca36
00a1c9a7 : CMP dword ptr [EAX + 0x10],0x0
00a1c9ab : JZ 0x00a1ca36
00a1c9b1 : MOV EDX,dword ptr [ESI + 0x29c]
00a1c9b7 : MOV EAX,dword ptr [EDX + 0x4]
00a1c9ba : LEA EDI,[ESI + 0x29c]
00a1c9c0 : MOV ECX,EDI
00a1c9c2 : CALL EAX
00a1c9c4 : MOV dword ptr [EBP + -0x4],EAX
00a1c9c7 : TEST EAX,EAX
00a1c9c9 : JZ 0x00a1ca36
00a1c9cb : JMP 0x00a1c9d0
00a1c9d0 : LEA EDX,[EBP + -0x4]
00a1c9d3 : MOV EAX,EDI
00a1c9d5 : CALL 0x004f5680
00a1c9da : MOV EDX,dword ptr [EAX + 0x78]
00a1c9dd : LEA ESI,[EAX + 0x78]
00a1c9e0 : MOV EAX,dword ptr [EDX + 0x4]
00a1c9e3 : MOV ECX,ESI
00a1c9e5 : CALL EAX
00a1c9e7 : MOV dword ptr [EBP + 0x8],EAX
00a1c9ea : TEST EAX,EAX
00a1c9ec : JZ 0x00a1ca30
00a1c9ee : MOV EDI,EDI
00a1c9f0 : LEA EDX,[EBP + 0x8]
00a1c9f3 : MOV EAX,ESI
00a1c9f5 : CALL 0x004f5680
00a1c9fa : TEST EAX,EAX
00a1c9fc : JZ 0x00a1ca2a
00a1c9fe : MOV ECX,dword ptr [EAX + 0xf0]
00a1ca04 : TEST ECX,ECX
00a1ca06 : JZ 0x00a1ca2a
00a1ca08 : MOVZX EDX,word ptr [EAX + 0x4]
00a1ca0c : MOVZX EAX,word ptr [EAX + 0x6]
00a1ca10 : SHL EDX,0x10
00a1ca13 : OR EDX,EAX
00a1ca15 : CMP EDX,EBX
00a1ca17 : JZ 0x00a1ca41
00a1ca19 : MOVZX EDX,word ptr [ECX + 0x4]
00a1ca1d : MOVZX EAX,word ptr [ECX + 0x6]
00a1ca21 : SHL EDX,0x10
00a1ca24 : OR EDX,EAX
00a1ca26 : CMP EDX,EBX
00a1ca28 : JZ 0x00a1ca41
00a1ca2a : CMP dword ptr [EBP + 0x8],0x0
00a1ca2e : JNZ 0x00a1c9f0
00a1ca30 : CMP dword ptr [EBP + -0x4],0x0
00a1ca34 : JNZ 0x00a1c9d0
00a1ca36 : POP EDI
00a1ca37 : POP ESI
00a1ca38 : XOR AL,AL
00a1ca3a : POP EBX
00a1ca3b : MOV ESP,EBP
00a1ca3d : POP EBP
00a1ca3e : RET 0x4
00a1ca41 : POP EDI
00a1ca42 : POP ESI
00a1ca43 : MOV AL,0x1
00a1ca45 : POP EBX
00a1ca46 : MOV ESP,EBP
00a1ca48 : POP EBP
00a1ca49 : RET 0x4
