PROGRAM  : Maestia.exe
FUNCTION : FUN_00450110
ENTRY    : 00450110
BODY     : [[00450110, 00450138] [00450140, 0045021a]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00450110(int param_1,undefined4 *param_2)

{
  char cVar1;
  undefined4 *puVar2;
  int in_EAX;
  undefined4 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  bool bVar6;
  
  puVar2 = param_2;
  puVar5 = (undefined4 *)(*(undefined4 **)(param_1 + 4))[1];
  bVar6 = true;
  cVar1 = *(char *)((int)puVar5 + 0x29);
  puVar3 = *(undefined4 **)(param_1 + 4);
  while (cVar1 == '\0') {
    if ((uint)puVar5[9] < 0x10) {
      puVar3 = puVar5 + 4;
    }
    else {
      puVar3 = (undefined4 *)puVar5[4];
    }
    param_2 = puVar5;
    iVar4 = FUN_00438a40(0,*(undefined4 *)(in_EAX + 0x14),puVar3,puVar5[8]);
    bVar6 = iVar4 < 0;
    if (bVar6) {
      puVar5 = (undefined4 *)*puVar5;
    }
    else {
      puVar5 = (undefined4 *)puVar5[2];
    }
    puVar3 = param_2;
    cVar1 = *(char *)((int)puVar5 + 0x29);
  }
  param_2 = puVar3;
  if (bVar6) {
    if (puVar3 == (undefined4 *)**(int **)(param_1 + 4)) {
      puVar5 = (undefined4 *)FUN_004504d0(&param_1,1,in_EAX);
      *puVar2 = *puVar5;
      *(undefined1 *)(puVar2 + 1) = 1;
      return puVar2;
    }
    FUN_00428ba0();
  }
  if (*(uint *)(in_EAX + 0x18) < 0x10) {
    iVar4 = in_EAX + 4;
  }
  else {
    iVar4 = *(int *)(in_EAX + 4);
  }
  iVar4 = FUN_00438a40(0,puVar3[8],iVar4,*(undefined4 *)(in_EAX + 0x14));
  if (iVar4 < 0) {
    puVar5 = (undefined4 *)FUN_004504d0(&param_1,bVar6,in_EAX);
    *puVar2 = *puVar5;
    *(undefined1 *)(puVar2 + 1) = 1;
    return puVar2;
  }
  *puVar2 = puVar3;
  *(undefined1 *)(puVar2 + 1) = 0;
  return puVar2;
}



============================================================
DISASSEMBLY
============================================================
00450110 : PUSH EBP
00450111 : MOV EBP,ESP
00450113 : SUB ESP,0xc
00450116 : MOV EDX,dword ptr [EBP + 0x8]
00450119 : PUSH EBX
0045011a : MOV EBX,dword ptr [EBP + 0xc]
0045011d : PUSH ESI
0045011e : PUSH EDI
0045011f : MOV EDI,EAX
00450121 : MOV EAX,dword ptr [EDX + 0x4]
00450124 : MOV ESI,dword ptr [EAX + 0x4]
00450127 : CMP byte ptr [ESI + 0x29],0x0
0045012b : MOV ECX,EAX
0045012d : MOV AL,0x1
0045012f : MOV dword ptr [EBP + 0xc],ECX
00450132 : MOV byte ptr [EBP + -0x8],AL
00450135 : JNZ 0x00450182
00450137 : JMP 0x00450140
00450140 : CMP dword ptr [ESI + 0x24],0x10
00450144 : MOV ECX,dword ptr [ESI + 0x20]
00450147 : MOV dword ptr [EBP + 0xc],ESI
0045014a : JC 0x00450151
0045014c : MOV EAX,dword ptr [ESI + 0x10]
0045014f : JMP 0x00450154
00450151 : LEA EAX,[ESI + 0x10]
00450154 : PUSH ECX
00450155 : PUSH EAX
00450156 : MOV EAX,dword ptr [EDI + 0x14]
00450159 : PUSH EAX
0045015a : PUSH 0x0
0045015c : MOV ECX,EDI
0045015e : CALL 0x00438a40
00450163 : TEST EAX,EAX
00450165 : SETL AL
00450168 : MOV byte ptr [EBP + -0x8],AL
0045016b : TEST AL,AL
0045016d : JZ 0x00450173
0045016f : MOV ESI,dword ptr [ESI]
00450171 : JMP 0x00450176
00450173 : MOV ESI,dword ptr [ESI + 0x8]
00450176 : CMP byte ptr [ESI + 0x29],0x0
0045017a : JZ 0x00450140
0045017c : MOV ECX,dword ptr [EBP + 0xc]
0045017f : MOV EDX,dword ptr [EBP + 0x8]
00450182 : MOV ESI,ECX
00450184 : MOV dword ptr [EBP + -0x4],ESI
00450187 : TEST AL,AL
00450189 : JZ 0x004501be
0045018b : MOV EAX,dword ptr [EDX + 0x4]
0045018e : CMP ECX,dword ptr [EAX]
00450190 : JNZ 0x004501b3
00450192 : PUSH EDI
00450193 : PUSH 0x1
00450195 : LEA EAX,[EBP + 0x8]
00450198 : PUSH EAX
00450199 : MOV EDI,EDX
0045019b : CALL 0x004504d0
004501a0 : MOV ECX,dword ptr [EAX]
004501a2 : MOV dword ptr [EBX],ECX
004501a4 : MOV byte ptr [EBX + 0x4],0x1
004501a8 : MOV EAX,EBX
004501aa : POP EDI
004501ab : POP ESI
004501ac : POP EBX
004501ad : MOV ESP,EBP
004501af : POP EBP
004501b0 : RET 0x8
004501b3 : LEA EDX,[EBP + -0x4]
004501b6 : CALL 0x00428ba0
004501bb : MOV ESI,dword ptr [EBP + -0x4]
004501be : CMP dword ptr [EDI + 0x18],0x10
004501c2 : MOV EDX,dword ptr [EDI + 0x14]
004501c5 : LEA ECX,[ESI + 0xc]
004501c8 : JC 0x004501cf
004501ca : MOV EAX,dword ptr [EDI + 0x4]
004501cd : JMP 0x004501d2
004501cf : LEA EAX,[EDI + 0x4]
004501d2 : PUSH EDX
004501d3 : MOV EDX,dword ptr [ECX + 0x14]
004501d6 : PUSH EAX
004501d7 : PUSH EDX
004501d8 : PUSH 0x0
004501da : CALL 0x00438a40
004501df : TEST EAX,EAX
004501e1 : JGE 0x0045020a
004501e3 : MOV EAX,dword ptr [EBP + -0x8]
004501e6 : PUSH EDI
004501e7 : MOV EDI,dword ptr [EBP + 0x8]
004501ea : PUSH EAX
004501eb : LEA ECX,[EBP + 0x8]
004501ee : PUSH ECX
004501ef : MOV ECX,dword ptr [EBP + 0xc]
004501f2 : CALL 0x004504d0
004501f7 : MOV EDX,dword ptr [EAX]
004501f9 : MOV dword ptr [EBX],EDX
004501fb : MOV byte ptr [EBX + 0x4],0x1
004501ff : MOV EAX,EBX
00450201 : POP EDI
00450202 : POP ESI
00450203 : POP EBX
00450204 : MOV ESP,EBP
00450206 : POP EBP
00450207 : RET 0x8
0045020a : POP EDI
0045020b : MOV dword ptr [EBX],ESI
0045020d : POP ESI
0045020e : MOV byte ptr [EBX + 0x4],0x0
00450212 : MOV EAX,EBX
00450214 : POP EBX
00450215 : MOV ESP,EBP
00450217 : POP EBP
00450218 : RET 0x8
