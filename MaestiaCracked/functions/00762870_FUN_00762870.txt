PROGRAM  : Maestia.exe
FUNCTION : FUN_00762870
ENTRY    : 00762870
BODY     : [[00762870, 00762a23]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 *
FUN_00762870(undefined4 *param_1,undefined4 *param_2,HWND param_3,int param_4,int *param_5)

{
  LPCRITICAL_SECTION lpCriticalSection;
  uint uVar1;
  BOOL BVar2;
  int iVar3;
  undefined4 uVar4;
  void *local_10;
  undefined1 *puStack_c;
  undefined1 local_8;
  undefined3 uStack_7;
  
  puStack_c = &LAB_00b18ee0;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  param_1[2] = param_3;
  *param_1 = &PTR_FUN_00cd83b4;
  param_1[1] = &PTR_LAB_00cd83d4;
  param_1[3] = 1;
  param_1[4] = param_4;
  param_1[5] = param_5;
  param_1[8] = 0;
  param_1[9] = 0;
  param_1[10] = 0;
  param_1[0xb] = 0;
  param_1[0xc] = 0;
  param_1[0xd] = &PTR_FUN_00cd9a40;
  param_1[0xe] = 0;
  param_1[0xf] = 0;
  param_1[0x10] = 0;
  param_1[0x14] = 0;
  param_1[0x15] = 0;
  param_1[0x16] = 0;
  param_1[0x1a] = 0;
  param_1[0x1b] = 0;
  param_1[0x1c] = 0;
  param_1[0x20] = 0;
  param_1[0x21] = 0;
  param_1[0x22] = 0;
  param_1[0x28] = 0;
  param_1[0x2a] = 0;
  param_1[0x11] = 0xffffffff;
  param_1[0x17] = 0xffffffff;
  param_1[0x1d] = 0xffffffff;
  param_1[0x23] = 0xffffffff;
  param_1[0x12] = 0;
  param_1[0x13] = 0;
  param_1[0x18] = 0;
  param_1[0x19] = 0x3f800000;
  param_1[0x1e] = 0x3f800000;
  param_1[0x1f] = 0;
  param_1[0x24] = 0x3f800000;
  param_1[0x25] = 0x3f800000;
  local_8 = 1;
  uStack_7 = 0;
  lpCriticalSection = (LPCRITICAL_SECTION)(param_1 + 0x30);
  InitializeCriticalSection(lpCriticalSection);
  local_8 = 2;
  EnterCriticalSection(lpCriticalSection);
  _local_8 = CONCAT31(uStack_7,3);
  BVar2 = IsWindow(param_3);
  if (BVar2 == 0) {
    *param_2 = 0x80070057;
  }
  else {
    if (param_4 == 0) {
      iVar3 = Direct3DCreate9(0x20);
      param_1[4] = iVar3;
      if (iVar3 == 0) {
        *param_2 = 0x80004005;
        goto LAB_007629fc;
      }
    }
    if (param_5 == (int *)0x0) {
      uVar4 = FUN_007623d0();
      *param_2 = uVar4;
    }
    else {
      (**(code **)(*param_5 + 0x98))(param_5,0,param_1 + 0xb,uVar1);
      *param_2 = 0;
    }
  }
LAB_007629fc:
  _local_8 = CONCAT31(uStack_7,2);
  LeaveCriticalSection(lpCriticalSection);
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00762870 : PUSH EBP
00762871 : MOV EBP,ESP
00762873 : PUSH -0x1
00762875 : PUSH 0xb18ee0
0076287a : MOV EAX,FS:[0x0]
00762880 : PUSH EAX
00762881 : SUB ESP,0x8
00762884 : PUSH EBX
00762885 : PUSH ESI
00762886 : PUSH EDI
00762887 : MOV EAX,[0x00d66fa0]
0076288c : XOR EAX,EBP
0076288e : PUSH EAX
0076288f : LEA EAX,[EBP + -0xc]
00762892 : MOV FS:[0x0],EAX
00762898 : MOV ESI,dword ptr [EBP + 0x8]
0076289b : MOV EAX,dword ptr [EBP + 0x10]
0076289e : MOV EDX,dword ptr [EBP + 0x14]
007628a1 : MOV dword ptr [ESI + 0x8],EAX
007628a4 : MOV EAX,dword ptr [EBP + 0x18]
007628a7 : XOR EDI,EDI
007628a9 : MOV dword ptr [ESI],0xcd83b4
007628af : MOV dword ptr [ESI + 0x4],0xcd83d4
007628b6 : MOV ECX,0x1
007628bb : MOV dword ptr [ESI + 0xc],ECX
007628be : MOV dword ptr [ESI + 0x10],EDX
007628c1 : MOV dword ptr [ESI + 0x14],EAX
007628c4 : MOV dword ptr [ESI + 0x20],EDI
007628c7 : MOV dword ptr [ESI + 0x24],EDI
007628ca : MOV dword ptr [ESI + 0x28],EDI
007628cd : MOV dword ptr [EBP + -0x4],EDI
007628d0 : XORPS XMM0,XMM0
007628d3 : MOVSS XMM1,dword ptr [0x00c10fc4]
007628db : MOV dword ptr [ESI + 0x2c],EDI
007628de : MOV dword ptr [ESI + 0x30],EDI
007628e1 : MOV dword ptr [ESI + 0x34],0xcd9a40
007628e8 : MOVSS dword ptr [ESI + 0x38],XMM0
007628ed : MOVSS dword ptr [ESI + 0x3c],XMM0
007628f2 : MOVSS dword ptr [ESI + 0x40],XMM0
007628f7 : MOVSS dword ptr [ESI + 0x50],XMM0
007628fc : MOVSS dword ptr [ESI + 0x54],XMM0
00762901 : MOVSS dword ptr [ESI + 0x58],XMM0
00762906 : MOVSS dword ptr [ESI + 0x68],XMM0
0076290b : MOVSS dword ptr [ESI + 0x6c],XMM0
00762910 : MOVSS dword ptr [ESI + 0x70],XMM0
00762915 : MOVSS dword ptr [ESI + 0x80],XMM0
0076291d : MOVSS dword ptr [ESI + 0x84],XMM0
00762925 : MOVSS dword ptr [ESI + 0x88],XMM0
0076292d : OR EAX,0xffffffff
00762930 : MOV dword ptr [ESI + 0xa0],EDI
00762936 : MOV dword ptr [ESI + 0xa8],EDI
0076293c : MOV dword ptr [ESI + 0x44],EAX
0076293f : MOV dword ptr [ESI + 0x5c],EAX
00762942 : MOV dword ptr [ESI + 0x74],EAX
00762945 : MOV dword ptr [ESI + 0x8c],EAX
0076294b : MOVSS dword ptr [ESI + 0x48],XMM0
00762950 : MOVSS dword ptr [ESI + 0x4c],XMM0
00762955 : MOVSS dword ptr [ESI + 0x60],XMM0
0076295a : MOVSS dword ptr [ESI + 0x64],XMM1
0076295f : MOVSS dword ptr [ESI + 0x78],XMM1
00762964 : MOVSS dword ptr [ESI + 0x7c],XMM0
00762969 : MOVSS dword ptr [ESI + 0x90],XMM1
00762971 : MOVSS dword ptr [ESI + 0x94],XMM1
00762979 : MOV byte ptr [EBP + -0x4],CL
0076297c : LEA EBX,[ESI + 0xc0]
00762982 : PUSH EBX
00762983 : CALL dword ptr [0x00b85114]
00762989 : MOV byte ptr [EBP + -0x4],0x2
0076298d : PUSH EBX
0076298e : MOV dword ptr [EBP + -0x10],EBX
00762991 : CALL dword ptr [0x00b85118]
00762997 : MOV byte ptr [EBP + -0x4],0x3
0076299b : MOV ECX,dword ptr [EBP + 0x10]
0076299e : PUSH ECX
0076299f : CALL dword ptr [0x00b854d0]
007629a5 : TEST EAX,EAX
007629a7 : JNZ 0x007629b4
007629a9 : MOV EDX,dword ptr [EBP + 0xc]
007629ac : MOV dword ptr [EDX],0x80070057
007629b2 : JMP 0x007629fc
007629b4 : CMP dword ptr [EBP + 0x14],EDI
007629b7 : JNZ 0x007629d2
007629b9 : PUSH 0x20
007629bb : CALL 0x00664c5a
007629c0 : MOV dword ptr [ESI + 0x10],EAX
007629c3 : CMP EAX,EDI
007629c5 : JNZ 0x007629d2
007629c7 : MOV EAX,dword ptr [EBP + 0xc]
007629ca : MOV dword ptr [EAX],0x80004005
007629d0 : JMP 0x007629fc
007629d2 : MOV EAX,dword ptr [EBP + 0x18]
007629d5 : CMP EAX,EDI
007629d7 : JNZ 0x007629e7
007629d9 : MOV EAX,ESI
007629db : CALL 0x007623d0
007629e0 : MOV ECX,dword ptr [EBP + 0xc]
007629e3 : MOV dword ptr [ECX],EAX
007629e5 : JMP 0x007629fc
007629e7 : MOV EDX,dword ptr [EAX]
007629e9 : LEA ECX,[ESI + 0x2c]
007629ec : PUSH ECX
007629ed : PUSH EDI
007629ee : PUSH EAX
007629ef : MOV EAX,dword ptr [EDX + 0x98]
007629f5 : CALL EAX
007629f7 : MOV ECX,dword ptr [EBP + 0xc]
007629fa : MOV dword ptr [ECX],EDI
007629fc : MOV byte ptr [EBP + -0x4],0x2
00762a00 : PUSH EBX
00762a01 : CALL dword ptr [0x00b8511c]
00762a07 : MOV dword ptr [EBP + -0x4],0xffffffff
00762a0e : MOV EAX,ESI
00762a10 : MOV ECX,dword ptr [EBP + -0xc]
00762a13 : MOV dword ptr FS:[0x0],ECX
00762a1a : POP ECX
00762a1b : POP EDI
00762a1c : POP ESI
00762a1d : POP EBX
00762a1e : MOV ESP,EBP
00762a20 : POP EBP
00762a21 : RET 0x14
