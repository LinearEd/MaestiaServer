PROGRAM  : Maestia.exe
FUNCTION : FUN_0052c470
ENTRY    : 0052c470
BODY     : [[0052c470, 0052c50e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0052c470(void)

{
  undefined4 *puVar1;
  uint uVar2;
  int in_ECX;
  undefined4 uVar3;
  
  FUN_0054f860();
  puVar1 = *(undefined4 **)(in_ECX + 0x30);
  if ((puVar1 != (undefined4 *)0x0) && (uVar2 = puVar1[2], (uVar2 & 0x70000000) == 0x10000000)) {
    if ((uVar2 & 0xfffffff) == 0) {
      uVar2 = uVar2 & 0xafffffff | 0x20000000;
      uVar3 = 4;
    }
    else {
      uVar2 = uVar2 & 0x8fffffff;
      uVar3 = 2;
    }
    puVar1[2] = uVar2;
    (**(code **)*puVar1)(uVar3);
  }
  puVar1 = *(undefined4 **)(in_ECX + 0x34);
  if ((puVar1 != (undefined4 *)0x0) && (uVar2 = puVar1[2], (uVar2 & 0x70000000) == 0x10000000)) {
    if ((uVar2 & 0xfffffff) != 0) {
      puVar1[2] = uVar2 & 0x8fffffff;
      (**(code **)*puVar1)(2);
      FUN_005685a0();
      return;
    }
    puVar1[2] = uVar2 & 0xafffffff | 0x20000000;
    (**(code **)*puVar1)(4);
  }
  FUN_005685a0();
  return;
}



============================================================
DISASSEMBLY
============================================================
0052c470 : PUSH ESI
0052c471 : MOV ESI,ECX
0052c473 : CALL 0x0054f860
0052c478 : MOV ECX,dword ptr [ESI + 0x30]
0052c47b : TEST ECX,ECX
0052c47d : JZ 0x0052c4b7
0052c47f : MOV EAX,dword ptr [ECX + 0x8]
0052c482 : MOV EDX,EAX
0052c484 : AND EDX,0x70000000
0052c48a : CMP EDX,0x10000000
0052c490 : JNZ 0x0052c4b7
0052c492 : TEST EAX,0xfffffff
0052c497 : JBE 0x0052c4a2
0052c499 : AND EAX,0x8fffffff
0052c49e : PUSH 0x2
0052c4a0 : JMP 0x0052c4ae
0052c4a2 : AND EAX,0xafffffff
0052c4a7 : OR EAX,0x20000000
0052c4ac : PUSH 0x4
0052c4ae : MOV dword ptr [ECX + 0x8],EAX
0052c4b1 : MOV EAX,dword ptr [ECX]
0052c4b3 : MOV EDX,dword ptr [EAX]
0052c4b5 : CALL EDX
0052c4b7 : MOV ECX,dword ptr [ESI + 0x34]
0052c4ba : TEST ECX,ECX
0052c4bc : JZ 0x0052c506
0052c4be : MOV EAX,dword ptr [ECX + 0x8]
0052c4c1 : MOV EDX,EAX
0052c4c3 : AND EDX,0x70000000
0052c4c9 : CMP EDX,0x10000000
0052c4cf : JNZ 0x0052c506
0052c4d1 : TEST EAX,0xfffffff
0052c4d6 : JBE 0x0052c4f1
0052c4d8 : AND EAX,0x8fffffff
0052c4dd : MOV dword ptr [ECX + 0x8],EAX
0052c4e0 : MOV EAX,dword ptr [ECX]
0052c4e2 : MOV EDX,dword ptr [EAX]
0052c4e4 : PUSH 0x2
0052c4e6 : CALL EDX
0052c4e8 : LEA ECX,[ESI + 0x3c]
0052c4eb : POP ESI
0052c4ec : JMP 0x005685a0
0052c4f1 : AND EAX,0xafffffff
0052c4f6 : OR EAX,0x20000000
0052c4fb : MOV dword ptr [ECX + 0x8],EAX
0052c4fe : MOV EAX,dword ptr [ECX]
0052c500 : MOV EDX,dword ptr [EAX]
0052c502 : PUSH 0x4
0052c504 : CALL EDX
0052c506 : LEA ECX,[ESI + 0x3c]
0052c509 : POP ESI
0052c50a : JMP 0x005685a0
