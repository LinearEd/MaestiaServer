PROGRAM  : Maestia.exe
FUNCTION : FUN_005f1950
ENTRY    : 005f1950
BODY     : [[005f1950, 005f1a0d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005f1950(int param_1,int param_2,int param_3,uint param_4,uint param_5)

{
  int iVar1;
  GImage *this;
  undefined4 uVar2;
  int in_ECX;
  uint uVar3;
  int local_4;
  
  iVar1 = *(int *)(in_ECX + 0x2d0);
  if (((iVar1 == 0) || (*(uint *)(iVar1 + 0xc) < param_4)) ||
     (local_4 = in_ECX, *(uint *)(iVar1 + 0x10) < param_5)) {
    local_4 = 3;
    this = (GImage *)FUN_00515d60(in_ECX,0x30,&local_4);
    if (this == (GImage *)0x0) {
      uVar2 = 0;
    }
    else {
      uVar2 = GImage::GImage(this,9,param_4 + 0x10,param_5 + 0x10);
    }
    if (*(GRefCountNTSImpl **)(in_ECX + 0x2d0) != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(in_ECX + 0x2d0));
    }
    *(undefined4 *)(in_ECX + 0x2d0) = uVar2;
  }
  uVar3 = 0;
  if (param_5 != 0) {
    do {
      _memcpy((void *)(*(int *)(*(int *)(in_ECX + 0x2d0) + 0x14) * uVar3 +
                      *(int *)(*(int *)(in_ECX + 0x2d0) + 0x18)),
              (void *)((uVar3 + param_3) * *(int *)(param_1 + 0x14) + *(int *)(param_1 + 0x18) +
                      param_2),param_4);
      uVar3 = uVar3 + 1;
    } while (uVar3 < param_5);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005f1950 : PUSH ECX
005f1951 : PUSH EBX
005f1952 : MOV EBX,ECX
005f1954 : MOV EAX,dword ptr [EBX + 0x2d0]
005f195a : PUSH ESI
005f195b : TEST EAX,EAX
005f195d : JZ 0x005f1971
005f195f : MOV ECX,dword ptr [EAX + 0xc]
005f1962 : CMP ECX,dword ptr [ESP + 0x1c]
005f1966 : JC 0x005f1971
005f1968 : MOV EDX,dword ptr [EAX + 0x10]
005f196b : CMP EDX,dword ptr [ESP + 0x20]
005f196f : JNC 0x005f19be
005f1971 : LEA EAX,[ESP + 0x8]
005f1975 : PUSH EAX
005f1976 : PUSH 0x30
005f1978 : PUSH EBX
005f1979 : MOV dword ptr [ESP + 0x14],0x3
005f1981 : CALL 0x00515d60
005f1986 : TEST EAX,EAX
005f1988 : JZ 0x005f19a7
005f198a : MOV ECX,dword ptr [ESP + 0x20]
005f198e : MOV EDX,dword ptr [ESP + 0x1c]
005f1992 : ADD ECX,0x10
005f1995 : PUSH ECX
005f1996 : ADD EDX,0x10
005f1999 : PUSH EDX
005f199a : PUSH 0x9
005f199c : MOV ECX,EAX
005f199e : CALL 0x005199d0
005f19a3 : MOV ESI,EAX
005f19a5 : JMP 0x005f19a9
005f19a7 : XOR ESI,ESI
005f19a9 : MOV ECX,dword ptr [EBX + 0x2d0]
005f19af : TEST ECX,ECX
005f19b1 : JZ 0x005f19b8
005f19b3 : CALL 0x004ff7c0
005f19b8 : MOV dword ptr [EBX + 0x2d0],ESI
005f19be : XOR ESI,ESI
005f19c0 : CMP dword ptr [ESP + 0x20],ESI
005f19c4 : JBE 0x005f1a08
005f19c6 : PUSH EBP
005f19c7 : MOV EBP,dword ptr [ESP + 0x1c]
005f19cb : PUSH EDI
005f19cc : MOV EDI,dword ptr [ESP + 0x18]
005f19d0 : MOV EAX,dword ptr [EBX + 0x2d0]
005f19d6 : MOV ECX,dword ptr [ESP + 0x24]
005f19da : PUSH ECX
005f19db : MOV ECX,dword ptr [EAX + 0x14]
005f19de : LEA EDX,[ESI + EBP*0x1]
005f19e1 : IMUL ECX,ESI
005f19e4 : IMUL EDX,dword ptr [EDI + 0x14]
005f19e8 : ADD EDX,dword ptr [EDI + 0x18]
005f19eb : ADD ECX,dword ptr [EAX + 0x18]
005f19ee : ADD EDX,dword ptr [ESP + 0x20]
005f19f2 : ADD EAX,0x8
005f19f5 : PUSH EDX
005f19f6 : PUSH ECX
005f19f7 : CALL 0x0063ae40
005f19fc : INC ESI
005f19fd : ADD ESP,0xc
005f1a00 : CMP ESI,dword ptr [ESP + 0x28]
005f1a04 : JC 0x005f19d0
005f1a06 : POP EDI
005f1a07 : POP EBP
005f1a08 : POP ESI
005f1a09 : POP EBX
005f1a0a : POP ECX
005f1a0b : RET 0x14
