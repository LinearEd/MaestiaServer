PROGRAM  : Maestia.exe
FUNCTION : FUN_0046f3f0
ENTRY    : 0046f3f0
BODY     : [[0046f3f0, 0046f4b6]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint * FUN_0046f3f0(uint param_1)

{
  uint *puVar1;
  size_t _Size;
  uint uVar2;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7597a;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  _Size = param_1 * 0x1128 + 4;
  if (DAT_00da98c8 == (int *)0x0) {
    puVar1 = _malloc(_Size);
  }
  else {
    puVar1 = (uint *)(**(code **)(*DAT_00da98c8 + 4))(_Size,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  }
  if (puVar1 != (uint *)0x0) {
    *puVar1 = param_1;
    uVar2 = 0;
    if (param_1 != 0) {
      do {
        local_8 = 0;
        if (puVar1 + 1 + uVar2 * 0x44a != (uint *)0x0) {
          FUN_0046f4c0();
        }
        uVar2 = uVar2 + 1;
      } while (uVar2 < param_1);
    }
    _DAT_00da98cc = _DAT_00da98cc + _Size;
    _DAT_00da98d0 = _DAT_00da98d0 + 1;
    ExceptionList = local_10;
    return puVar1 + 1;
  }
  ExceptionList = local_10;
  return (uint *)0x0;
}



============================================================
DISASSEMBLY
============================================================
0046f3f0 : PUSH EBP
0046f3f1 : MOV EBP,ESP
0046f3f3 : PUSH -0x1
0046f3f5 : PUSH 0xb7597a
0046f3fa : MOV EAX,FS:[0x0]
0046f400 : PUSH EAX
0046f401 : SUB ESP,0xc
0046f404 : PUSH EBX
0046f405 : PUSH ESI
0046f406 : PUSH EDI
0046f407 : MOV EAX,[0x00d66fa0]
0046f40c : XOR EAX,EBP
0046f40e : PUSH EAX
0046f40f : LEA EAX,[EBP + -0xc]
0046f412 : MOV FS:[0x0],EAX
0046f418 : MOV ESI,dword ptr [EBP + 0x8]
0046f41b : MOV ECX,dword ptr [0x00da98c8]
0046f421 : MOV EBX,ESI
0046f423 : IMUL EBX,EBX,0x1128
0046f429 : ADD EBX,0x4
0046f42c : PUSH EBX
0046f42d : TEST ECX,ECX
0046f42f : JZ 0x0046f43a
0046f431 : MOV EAX,dword ptr [ECX]
0046f433 : MOV EDX,dword ptr [EAX + 0x4]
0046f436 : CALL EDX
0046f438 : JMP 0x0046f442
0046f43a : CALL 0x00636043
0046f43f : ADD ESP,0x4
0046f442 : TEST EAX,EAX
0046f444 : JZ 0x0046f4a3
0046f446 : MOV dword ptr [EAX],ESI
0046f448 : XOR ESI,ESI
0046f44a : LEA EDI,[EAX + 0x4]
0046f44d : MOV dword ptr [EBP + -0x14],EDI
0046f450 : MOV dword ptr [EBP + -0x10],ESI
0046f453 : CMP dword ptr [EBP + 0x8],ESI
0046f456 : JBE 0x0046f483
0046f458 : MOV ECX,ESI
0046f45a : IMUL ECX,ECX,0x1128
0046f460 : ADD ECX,EDI
0046f462 : MOV dword ptr [EBP + -0x18],ECX
0046f465 : MOV dword ptr [EBP + -0x4],0x0
0046f46c : JZ 0x0046f473
0046f46e : CALL 0x0046f4c0
0046f473 : MOV dword ptr [EBP + -0x4],0xffffffff
0046f47a : INC ESI
0046f47b : MOV dword ptr [EBP + -0x10],ESI
0046f47e : CMP ESI,dword ptr [EBP + 0x8]
0046f481 : JC 0x0046f458
0046f483 : ADD dword ptr [0x00da98cc],EBX
0046f489 : INC dword ptr [0x00da98d0]
0046f48f : MOV EAX,EDI
0046f491 : MOV ECX,dword ptr [EBP + -0xc]
0046f494 : MOV dword ptr FS:[0x0],ECX
0046f49b : POP ECX
0046f49c : POP EDI
0046f49d : POP ESI
0046f49e : POP EBX
0046f49f : MOV ESP,EBP
0046f4a1 : POP EBP
0046f4a2 : RET
0046f4a3 : XOR EAX,EAX
0046f4a5 : MOV ECX,dword ptr [EBP + -0xc]
0046f4a8 : MOV dword ptr FS:[0x0],ECX
0046f4af : POP ECX
0046f4b0 : POP EDI
0046f4b1 : POP ESI
0046f4b2 : POP EBX
0046f4b3 : MOV ESP,EBP
0046f4b5 : POP EBP
0046f4b6 : RET
