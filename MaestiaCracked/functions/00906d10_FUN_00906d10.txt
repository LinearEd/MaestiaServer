PROGRAM  : Maestia.exe
FUNCTION : FUN_00906d10
ENTRY    : 00906d10
BODY     : [[00906d10, 0090701c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00906d10(int *param_1)

{
  int *piVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  int in_ECX;
  bool bVar5;
  undefined4 local_224;
  int local_220;
  int local_21c;
  uint local_218;
  undefined2 local_214;
  undefined1 local_212 [510];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  iVar4 = DAT_00d7c54c;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2c5cb;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_218 = 0;
  local_14 = uVar2;
  if ((char)param_1[2] != '\0') {
    local_224 = *(undefined4 *)(in_ECX + 8);
    local_21c = in_ECX;
    FUN_004437f0(&local_224);
    if ((local_220 != *(int *)(iVar4 + 0x44)) && (iVar4 = *(int *)(local_220 + 0x10), iVar4 != 0)) {
      bVar5 = *(char *)(iVar4 + 0x41) != '\0';
      iVar4 = *(int *)(iVar4 + 0x120);
      if (iVar4 != 0) {
        if (bVar5) {
          uVar3 = FUN_00404350(iVar4 + 0x80,uVar2);
          local_218 = 2;
        }
        else {
          uVar3 = FUN_00404350(iVar4 + 0x40,uVar2);
          local_218 = 1;
        }
        local_8 = (uint)bVar5;
        FUN_00405eb0(uVar3,0,0xffffffff);
        local_8 = 0;
        if ((local_218 & 2) != 0) {
          local_218 = local_218 & 0xfffffffd;
          FUN_00406560();
        }
        local_8 = 0xffffffff;
        in_ECX = local_21c;
        if ((local_218 & 1) != 0) {
          local_218 = local_218 & 0xfffffffe;
          FUN_00406560();
          in_ECX = local_21c;
        }
      }
    }
    (**(code **)(*param_1 + 100))(*(undefined2 *)(in_ECX + 0xa0));
    (**(code **)(*param_1 + 0x54))(*(undefined4 *)(in_ECX + 0xb0));
    (**(code **)(*param_1 + 0x58))(*(undefined4 *)(in_ECX + 0xa4));
    (**(code **)(*param_1 + 0x5c))(*(undefined4 *)(in_ECX + 0xb4));
    (**(code **)(*param_1 + 0x60))(*(undefined4 *)(in_ECX + 0xa8));
    FUN_009066c0(param_1);
    param_1[0x6a] = *(int *)(in_ECX + 0xac);
    if (*(uint *)(in_ECX + 0x24) < 8) {
      iVar4 = in_ECX + 0x10;
    }
    else {
      iVar4 = *(int *)(in_ECX + 0x10);
    }
    iVar4 = FUN_00405bb0(iVar4);
    if (iVar4 == 0) {
      if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0))
      {
        if (*(uint *)(in_ECX + 0x24) < 8) {
          iVar4 = in_ECX + 0x10;
        }
        else {
          iVar4 = *(int *)(in_ECX + 0x10);
        }
        (**(code **)(*piVar1 + 4))(piVar1,"SetName","%d%ls",*(undefined4 *)(in_ECX + 4),iVar4);
      }
      if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0))
      {
        (**(code **)(*piVar1 + 4))
                  (piVar1,"SetShow",&DAT_00c645c0,*(undefined1 *)(DAT_017248cc + 0x15));
      }
      if (DAT_00d7c560 != 0) {
        local_214 = 0;
        _memset(local_212,0,0x1fe);
        FUN_00a11e80(0x34,0);
        if ((*DAT_00da9894 != 0) &&
           (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
          (**(code **)(*piVar1 + 4))(piVar1,"mc_myinfo.ChangeShortcutText",&DAT_00c645cc,&local_214)
          ;
        }
      }
    }
    FUN_0095c4a0(in_ECX + 0xc);
    param_1[0x20] = *(int *)(in_ECX + 4);
    FUN_0095b270();
    (**(code **)(*param_1 + 0x70))(*(undefined4 *)(local_21c + 0x16d8));
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00906d10 : PUSH EBP
00906d11 : MOV EBP,ESP
00906d13 : PUSH -0x1
00906d15 : PUSH 0xb2c5cb
00906d1a : MOV EAX,FS:[0x0]
00906d20 : PUSH EAX
00906d21 : SUB ESP,0x24c
00906d27 : MOV EAX,[0x00d66fa0]
00906d2c : XOR EAX,EBP
00906d2e : MOV dword ptr [EBP + -0x10],EAX
00906d31 : PUSH EBX
00906d32 : PUSH ESI
00906d33 : PUSH EDI
00906d34 : PUSH EAX
00906d35 : LEA EAX,[EBP + -0xc]
00906d38 : MOV FS:[0x0],EAX
00906d3e : MOV EBX,dword ptr [EBP + 0x8]
00906d41 : MOV ESI,ECX
00906d43 : MOV dword ptr [EBP + 0xfffffdec],0x0
00906d4d : CMP byte ptr [EBX + 0x8],0x0
00906d51 : MOV dword ptr [EBP + 0xfffffde8],ESI
00906d57 : JZ 0x00906fff
00906d5d : MOV EAX,dword ptr [ESI + 0x8]
00906d60 : MOV EDI,dword ptr [0x00d7c54c]
00906d66 : LEA ECX,[EBP + 0xfffffde0]
00906d6c : MOV dword ptr [EBP + 0xfffffde0],EAX
00906d72 : PUSH ECX
00906d73 : LEA ECX,[EDI + 0x40]
00906d76 : LEA EAX,[EBP + 0xfffffde4]
00906d7c : CALL 0x004437f0
00906d81 : MOV EDI,dword ptr [EDI + 0x44]
00906d84 : MOV EAX,dword ptr [EBP + 0xfffffde4]
00906d8a : CMP EAX,EDI
00906d8c : JZ 0x00906e58
00906d92 : MOV EAX,dword ptr [EAX + 0x10]
00906d95 : TEST EAX,EAX
00906d97 : JZ 0x00906e58
00906d9d : CMP byte ptr [EAX + 0x41],0x0
00906da1 : MOV EAX,dword ptr [EAX + 0x120]
00906da7 : SETZ CL
00906daa : TEST EAX,EAX
00906dac : JZ 0x00906e58
00906db2 : TEST CL,CL
00906db4 : JZ 0x00906ddb
00906db6 : ADD EAX,0x40
00906db9 : PUSH EAX
00906dba : LEA ESI,[EBP + 0xfffffdc4]
00906dc0 : CALL 0x00404350
00906dc5 : ADD ESP,0x4
00906dc8 : MOV dword ptr [EBP + -0x4],0x0
00906dcf : MOV dword ptr [EBP + 0xfffffdec],0x1
00906dd9 : JMP 0x00906dfe
00906ddb : SUB EAX,-0x80
00906dde : PUSH EAX
00906ddf : LEA ESI,[EBP + 0xfffffda8]
00906de5 : CALL 0x00404350
00906dea : ADD ESP,0x4
00906ded : MOV dword ptr [EBP + -0x4],0x1
00906df4 : MOV dword ptr [EBP + 0xfffffdec],0x2
00906dfe : PUSH -0x1
00906e00 : PUSH 0x0
00906e02 : PUSH EAX
00906e03 : LEA ECX,[EBX + 0x84]
00906e09 : CALL 0x00405eb0
00906e0e : MOV dword ptr [EBP + -0x4],0x0
00906e15 : TEST byte ptr [EBP + 0xfffffdec],0x2
00906e1c : JZ 0x00906e30
00906e1e : AND dword ptr [EBP + 0xfffffdec],0xfffffffd
00906e25 : LEA ECX,[EBP + 0xfffffda8]
00906e2b : CALL 0x00406560
00906e30 : MOV dword ptr [EBP + -0x4],0xffffffff
00906e37 : TEST byte ptr [EBP + 0xfffffdec],0x1
00906e3e : JZ 0x00906e52
00906e40 : AND dword ptr [EBP + 0xfffffdec],0xfffffffe
00906e47 : LEA ECX,[EBP + 0xfffffdc4]
00906e4d : CALL 0x00406560
00906e52 : MOV ESI,dword ptr [EBP + 0xfffffde8]
00906e58 : MOVZX EAX,word ptr [ESI + 0xa0]
00906e5f : MOV EDX,dword ptr [EBX]
00906e61 : MOV EDX,dword ptr [EDX + 0x64]
00906e64 : PUSH EAX
00906e65 : MOV ECX,EBX
00906e67 : CALL EDX
00906e69 : MOV ECX,dword ptr [ESI + 0xb0]
00906e6f : MOV EAX,dword ptr [EBX]
00906e71 : MOV EDX,dword ptr [EAX + 0x54]
00906e74 : PUSH ECX
00906e75 : MOV ECX,EBX
00906e77 : CALL EDX
00906e79 : MOV ECX,dword ptr [ESI + 0xa4]
00906e7f : MOV EAX,dword ptr [EBX]
00906e81 : MOV EDX,dword ptr [EAX + 0x58]
00906e84 : PUSH ECX
00906e85 : MOV ECX,EBX
00906e87 : CALL EDX
00906e89 : MOV ECX,dword ptr [ESI + 0xb4]
00906e8f : MOV EAX,dword ptr [EBX]
00906e91 : MOV EDX,dword ptr [EAX + 0x5c]
00906e94 : PUSH ECX
00906e95 : MOV ECX,EBX
00906e97 : CALL EDX
00906e99 : MOV ECX,dword ptr [ESI + 0xa8]
00906e9f : MOV EAX,dword ptr [EBX]
00906ea1 : MOV EDX,dword ptr [EAX + 0x60]
00906ea4 : PUSH ECX
00906ea5 : MOV ECX,EBX
00906ea7 : CALL EDX
00906ea9 : MOV ECX,dword ptr [ESI + 0xb8]
00906eaf : PUSH EBX
00906eb0 : CALL 0x009066c0
00906eb5 : MOV EAX,dword ptr [ESI + 0xac]
00906ebb : MOV ECX,dword ptr [0x0172491c]
00906ec1 : MOV dword ptr [EBX + 0x1a8],EAX
00906ec7 : MOV ECX,dword ptr [ECX + 0x17c]
00906ecd : MOV EDI,dword ptr [ESI + 0x20]
00906ed0 : ADD ECX,0xc
00906ed3 : CMP dword ptr [ESI + 0x24],0x8
00906ed7 : JC 0x00906ede
00906ed9 : MOV EAX,dword ptr [ESI + 0x10]
00906edc : JMP 0x00906ee1
00906ede : LEA EAX,[ESI + 0x10]
00906ee1 : PUSH EAX
00906ee2 : MOV EAX,dword ptr [ECX + 0x14]
00906ee5 : CALL 0x00405bb0
00906eea : TEST EAX,EAX
00906eec : JNZ 0x00906fce
00906ef2 : MOV EDX,dword ptr [0x00da9894]
00906ef8 : MOV EAX,dword ptr [EDX]
00906efa : TEST EAX,EAX
00906efc : JZ 0x00906f30
00906efe : MOV EAX,dword ptr [EAX + 0x114]
00906f04 : TEST EAX,EAX
00906f06 : JZ 0x00906f30
00906f08 : CMP dword ptr [ESI + 0x24],0x8
00906f0c : JC 0x00906f13
00906f0e : MOV ECX,dword ptr [ESI + 0x10]
00906f11 : JMP 0x00906f16
00906f13 : LEA ECX,[ESI + 0x10]
00906f16 : MOV EDX,dword ptr [EAX]
00906f18 : MOV EDX,dword ptr [EDX + 0x4]
00906f1b : PUSH ECX
00906f1c : MOV ECX,dword ptr [ESI + 0x4]
00906f1f : PUSH ECX
00906f20 : PUSH 0xc645b0
00906f25 : PUSH 0xc645b8
00906f2a : PUSH EAX
00906f2b : CALL EDX
00906f2d : ADD ESP,0x14
00906f30 : MOV EAX,[0x00da9894]
00906f35 : MOV EAX,dword ptr [EAX]
00906f37 : TEST EAX,EAX
00906f39 : JZ 0x00906f65
00906f3b : MOV EAX,dword ptr [EAX + 0x114]
00906f41 : TEST EAX,EAX
00906f43 : JZ 0x00906f65
00906f45 : MOV EDX,dword ptr [0x017248cc]
00906f4b : MOVZX EDX,byte ptr [EDX + 0x15]
00906f4f : MOV ECX,dword ptr [EAX]
00906f51 : PUSH EDX
00906f52 : PUSH 0xc645c0
00906f57 : PUSH 0xc645c4
00906f5c : PUSH EAX
00906f5d : MOV EAX,dword ptr [ECX + 0x4]
00906f60 : CALL EAX
00906f62 : ADD ESP,0x10
00906f65 : CMP dword ptr [0x00d7c560],0x0
00906f6c : JZ 0x00906fce
00906f6e : XOR ECX,ECX
00906f70 : PUSH 0x1fe
00906f75 : PUSH ECX
00906f76 : LEA EDX,[EBP + 0xfffffdf2]
00906f7c : PUSH EDX
00906f7d : MOV word ptr [EBP + 0xfffffdf0],CX
00906f84 : CALL 0x0063b700
00906f89 : MOV ECX,dword ptr [0x00d7c560]
00906f8f : ADD ESP,0xc
00906f92 : PUSH 0x0
00906f94 : PUSH 0x34
00906f96 : LEA EDI,[EBP + 0xfffffdf0]
00906f9c : CALL 0x00a11e80
00906fa1 : MOV EAX,[0x00da9894]
00906fa6 : MOV EAX,dword ptr [EAX]
00906fa8 : TEST EAX,EAX
00906faa : JZ 0x00906fce
00906fac : MOV EAX,dword ptr [EAX + 0x114]
00906fb2 : TEST EAX,EAX
00906fb4 : JZ 0x00906fce
00906fb6 : MOV ECX,dword ptr [EAX]
00906fb8 : MOV EDX,EDI
00906fba : PUSH EDX
00906fbb : PUSH 0xc645cc
00906fc0 : PUSH 0xc645d0
00906fc5 : PUSH EAX
00906fc6 : MOV EAX,dword ptr [ECX + 0x4]
00906fc9 : CALL EAX
00906fcb : ADD ESP,0x10
00906fce : LEA EAX,[ESI + 0xc]
00906fd1 : PUSH EAX
00906fd2 : MOV ECX,EBX
00906fd4 : CALL 0x0095c4a0
00906fd9 : MOV ECX,dword ptr [ESI + 0x4]
00906fdc : MOV ESI,EBX
00906fde : MOV dword ptr [EBX + 0x80],ECX
00906fe4 : CALL 0x0095b270
00906fe9 : MOV EAX,dword ptr [EBP + 0xfffffde8]
00906fef : MOV ECX,dword ptr [EAX + 0x16d8]
00906ff5 : MOV EDX,dword ptr [EBX]
00906ff7 : MOV EDX,dword ptr [EDX + 0x70]
00906ffa : PUSH ECX
00906ffb : MOV ECX,EBX
00906ffd : CALL EDX
00906fff : MOV ECX,dword ptr [EBP + -0xc]
00907002 : MOV dword ptr FS:[0x0],ECX
00907009 : POP ECX
0090700a : POP EDI
0090700b : POP ESI
0090700c : POP EBX
0090700d : MOV ECX,dword ptr [EBP + -0x10]
00907010 : XOR ECX,EBP
00907012 : CALL 0x00633e6b
00907017 : MOV ESP,EBP
00907019 : POP EBP
0090701a : RET 0x4
