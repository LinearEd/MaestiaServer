PROGRAM  : Maestia.exe
FUNCTION : FUN_00464b40
ENTRY    : 00464b40
BODY     : [[00464b40, 00464c3a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00464b40(int param_1,int param_2,int param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  int local_c;
  int local_8;
  
  iVar2 = param_2 - param_1;
  do {
    iVar2 = iVar2 >> 2;
    if (iVar2 < 0x21) {
LAB_00464be8:
      if (1 < iVar2) {
        FUN_00464c90(param_1,param_2,param_4);
      }
      return;
    }
    if (param_3 < 1) {
      if (0x20 < iVar2) {
        if (4 < (int)(param_2 - param_1 & 0xfffffffcU)) {
          FUN_00464c40(param_1,param_2,param_4);
        }
        FUN_004280a0(param_1,param_2);
        return;
      }
      goto LAB_00464be8;
    }
    FUN_00427e10(&local_c,param_1,param_2,param_4);
    iVar1 = local_8;
    iVar2 = local_c;
    param_3 = param_3 / 2 + (param_3 / 2) / 2;
    if ((int)(local_c - param_1 & 0xfffffffcU) < (int)(param_2 - local_8 & 0xfffffffcU)) {
      FUN_00464b40(param_1,local_c,param_3,param_4);
      param_1 = iVar1;
    }
    else {
      FUN_00464b40(local_8,param_2,param_3,param_4);
      param_2 = iVar2;
    }
    iVar2 = param_2 - param_1;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00464b40 : PUSH EBP
00464b41 : MOV EBP,ESP
00464b43 : MOV ECX,dword ptr [EBP + 0xc]
00464b46 : MOV EDX,dword ptr [EBP + 0x8]
00464b49 : SUB ESP,0xc
00464b4c : MOV EAX,ECX
00464b4e : SUB EAX,EDX
00464b50 : PUSH EBX
00464b51 : SAR EAX,0x2
00464b54 : CMP EAX,0x20
00464b57 : PUSH ESI
00464b58 : PUSH EDI
00464b59 : JLE 0x00464be8
00464b5f : MOV EDI,dword ptr [EBP + 0x10]
00464b62 : TEST EDI,EDI
00464b64 : JLE 0x00464c02
00464b6a : MOV EAX,dword ptr [EBP + 0x14]
00464b6d : PUSH EAX
00464b6e : PUSH ECX
00464b6f : PUSH EDX
00464b70 : LEA ECX,[EBP + -0x8]
00464b73 : PUSH ECX
00464b74 : CALL 0x00427e10
00464b79 : MOV ESI,dword ptr [EBP + -0x8]
00464b7c : MOV EBX,dword ptr [EBP + -0x4]
00464b7f : MOV EAX,EDI
00464b81 : CDQ
00464b82 : SUB EAX,EDX
00464b84 : SAR EAX,0x1
00464b86 : MOV EDI,EAX
00464b88 : CDQ
00464b89 : SUB EAX,EDX
00464b8b : SAR EAX,0x1
00464b8d : ADD EDI,EAX
00464b8f : MOV EAX,dword ptr [EBP + 0xc]
00464b92 : MOV ECX,ESI
00464b94 : SUB ECX,dword ptr [EBP + 0x8]
00464b97 : MOV EDX,EAX
00464b99 : SUB EDX,EBX
00464b9b : AND EDX,0xfffffffc
00464b9e : AND ECX,0xfffffffc
00464ba1 : ADD ESP,0x10
00464ba4 : CMP ECX,EDX
00464ba6 : JGE 0x00464bc1
00464ba8 : MOV EDX,dword ptr [EBP + 0x14]
00464bab : MOV EAX,dword ptr [EBP + 0x8]
00464bae : PUSH EDX
00464baf : PUSH EDI
00464bb0 : PUSH ESI
00464bb1 : PUSH EAX
00464bb2 : CALL 0x00464b40
00464bb7 : MOV ECX,dword ptr [EBP + 0xc]
00464bba : MOV EDX,EBX
00464bbc : MOV dword ptr [EBP + 0x8],EDX
00464bbf : JMP 0x00464bd5
00464bc1 : MOV ECX,dword ptr [EBP + 0x14]
00464bc4 : PUSH ECX
00464bc5 : PUSH EDI
00464bc6 : PUSH EAX
00464bc7 : PUSH EBX
00464bc8 : CALL 0x00464b40
00464bcd : MOV EDX,dword ptr [EBP + 0x8]
00464bd0 : MOV ECX,ESI
00464bd2 : MOV dword ptr [EBP + 0xc],ECX
00464bd5 : MOV EAX,ECX
00464bd7 : SUB EAX,EDX
00464bd9 : SAR EAX,0x2
00464bdc : ADD ESP,0x10
00464bdf : CMP EAX,0x20
00464be2 : JG 0x00464b62
00464be8 : CMP EAX,0x1
00464beb : JLE 0x00464bfb
00464bed : MOV EAX,dword ptr [EBP + 0x14]
00464bf0 : PUSH EAX
00464bf1 : PUSH ECX
00464bf2 : PUSH EDX
00464bf3 : CALL 0x00464c90
00464bf8 : ADD ESP,0xc
00464bfb : POP EDI
00464bfc : POP ESI
00464bfd : POP EBX
00464bfe : MOV ESP,EBP
00464c00 : POP EBP
00464c01 : RET
00464c02 : CMP EAX,0x20
00464c05 : JLE 0x00464be8
00464c07 : MOV EAX,ECX
00464c09 : SUB EAX,EDX
00464c0b : AND EAX,0xfffffffc
00464c0e : CMP EAX,0x4
00464c11 : JLE 0x00464c27
00464c13 : MOV EAX,dword ptr [EBP + 0x14]
00464c16 : PUSH EAX
00464c17 : PUSH ECX
00464c18 : PUSH EDX
00464c19 : CALL 0x00464c40
00464c1e : MOV ECX,dword ptr [EBP + 0xc]
00464c21 : MOV EDX,dword ptr [EBP + 0x8]
00464c24 : ADD ESP,0xc
00464c27 : MOV ESI,dword ptr [EBP + 0x14]
00464c2a : PUSH ECX
00464c2b : PUSH EDX
00464c2c : CALL 0x004280a0
00464c31 : ADD ESP,0x8
00464c34 : POP EDI
00464c35 : POP ESI
00464c36 : POP EBX
00464c37 : MOV ESP,EBP
00464c39 : POP EBP
00464c3a : RET
