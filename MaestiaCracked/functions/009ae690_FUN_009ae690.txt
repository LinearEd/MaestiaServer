PROGRAM  : Maestia.exe
FUNCTION : FUN_009ae690
ENTRY    : 009ae690
BODY     : [[009ae690, 009ae71c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009ae690(void)

{
  int *piVar1;
  undefined4 *puVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  int *unaff_ESI;
  
  if (unaff_ESI[0x1d] != 0) {
    piVar1 = (int *)unaff_ESI[0x16];
    for (uVar5 = unaff_ESI[0x1c];
        (piVar1 != (int *)unaff_ESI[0x16] || (uVar5 != unaff_ESI[0x1c] + unaff_ESI[0x1d]));
        uVar5 = uVar5 + 1) {
      uVar3 = uVar5 >> 2;
      if (piVar1 == (int *)0x0) {
        iVar4 = 0;
      }
      else {
        iVar4 = *piVar1;
      }
      if (*(uint *)(iVar4 + 0x14) <= uVar3) {
        if (piVar1 == (int *)0x0) {
          iVar4 = 0;
        }
        else {
          iVar4 = *piVar1;
        }
        uVar3 = uVar3 - *(int *)(iVar4 + 0x14);
      }
      if (piVar1 == (int *)0x0) {
        iVar4 = 0;
      }
      else {
        iVar4 = *piVar1;
      }
      puVar2 = *(undefined4 **)(*(int *)(*(int *)(iVar4 + 0x10) + uVar3 * 4) + (uVar5 & 3) * 4);
      (**(code **)(*unaff_ESI + 0x48))
                (*puVar2,puVar2 + 1,puVar2 + 8,puVar2[0xf],puVar2[0x10],puVar2[0x11],
                 *(undefined2 *)(puVar2 + 0x12));
    }
    FUN_009ae560(unaff_ESI);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009ae690 : CMP dword ptr [ESI + 0x74],0x0
009ae694 : PUSH EBX
009ae695 : PUSH EDI
009ae696 : JZ 0x009ae71a
009ae69c : MOV EDI,dword ptr [ESI + 0x58]
009ae69f : MOV EBX,dword ptr [ESI + 0x70]
009ae6a2 : MOV EAX,dword ptr [ESI + 0x70]
009ae6a5 : MOV ECX,dword ptr [ESI + 0x58]
009ae6a8 : ADD EAX,dword ptr [ESI + 0x74]
009ae6ab : CMP EDI,ECX
009ae6ad : JNZ 0x009ae6b3
009ae6af : CMP EBX,EAX
009ae6b1 : JZ 0x009ae714
009ae6b3 : MOV EAX,EBX
009ae6b5 : MOV ECX,EBX
009ae6b7 : SHR EAX,0x2
009ae6ba : AND ECX,0x3
009ae6bd : TEST EDI,EDI
009ae6bf : JZ 0x009ae6c5
009ae6c1 : MOV EDX,dword ptr [EDI]
009ae6c3 : JMP 0x009ae6c7
009ae6c5 : XOR EDX,EDX
009ae6c7 : CMP dword ptr [EDX + 0x14],EAX
009ae6ca : JA 0x009ae6d9
009ae6cc : TEST EDI,EDI
009ae6ce : JZ 0x009ae6d4
009ae6d0 : MOV EDX,dword ptr [EDI]
009ae6d2 : JMP 0x009ae6d6
009ae6d4 : XOR EDX,EDX
009ae6d6 : SUB EAX,dword ptr [EDX + 0x14]
009ae6d9 : TEST EDI,EDI
009ae6db : JZ 0x009ae6e1
009ae6dd : MOV EDX,dword ptr [EDI]
009ae6df : JMP 0x009ae6e3
009ae6e1 : XOR EDX,EDX
009ae6e3 : MOV EDX,dword ptr [EDX + 0x10]
009ae6e6 : MOV EAX,dword ptr [EDX + EAX*0x4]
009ae6e9 : MOV EAX,dword ptr [EAX + ECX*0x4]
009ae6ec : MOVZX ECX,word ptr [EAX + 0x48]
009ae6f0 : MOV EDX,dword ptr [ESI]
009ae6f2 : MOV EDX,dword ptr [EDX + 0x48]
009ae6f5 : PUSH ECX
009ae6f6 : MOV ECX,dword ptr [EAX + 0x44]
009ae6f9 : PUSH ECX
009ae6fa : MOV ECX,dword ptr [EAX + 0x40]
009ae6fd : PUSH ECX
009ae6fe : MOV ECX,dword ptr [EAX + 0x3c]
009ae701 : PUSH ECX
009ae702 : LEA ECX,[EAX + 0x20]
009ae705 : PUSH ECX
009ae706 : LEA ECX,[EAX + 0x4]
009ae709 : MOV EAX,dword ptr [EAX]
009ae70b : PUSH ECX
009ae70c : PUSH EAX
009ae70d : MOV ECX,ESI
009ae70f : CALL EDX
009ae711 : INC EBX
009ae712 : JMP 0x009ae6a2
009ae714 : PUSH ESI
009ae715 : CALL 0x009ae560
009ae71a : POP EDI
009ae71b : POP EBX
009ae71c : RET
