PROGRAM  : Maestia.exe
FUNCTION : FUN_007c7ad0
ENTRY    : 007c7ad0
BODY     : [[007c7ad0, 007c7c16]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007c7ad0(char param_1)

{
  ushort uVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  int iVar5;
  int in_ECX;
  uint uVar6;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b37190;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0xb8));
  local_8 = 0;
  if (*(char *)(in_ECX + 0x111ec) != param_1) {
    *(char *)(in_ECX + 0x111ec) = param_1;
    puVar2 = *(undefined4 **)(in_ECX + 0x18);
    for (puVar3 = (undefined4 *)*puVar2; (puVar3 != puVar2 && (iVar4 = puVar3[9], iVar4 != 0));
        puVar3 = (undefined4 *)*puVar3) {
      uVar1 = *(ushort *)(iVar4 + 0x48);
      if (uVar1 != 0) {
        uVar6 = 0;
        do {
          if (((*(int *)(iVar4 + 0x40) - *(int *)(iVar4 + 0x3c) & 0xfffffffcU) == 0) ||
             (uVar1 < (ushort)uVar6)) {
            iVar5 = 0;
          }
          else {
            iVar5 = *(int *)(*(int *)(iVar4 + 0x3c) + (uVar6 & 0xffff) * 4);
          }
          if (*(int *)(iVar5 + 0xd0) != 0) {
            if (((*(int *)(iVar4 + 0x40) - *(int *)(iVar4 + 0x3c) & 0xfffffffcU) == 0) ||
               (uVar1 < (ushort)uVar6)) {
              iVar5 = 0;
            }
            else {
              iVar5 = *(int *)(*(int *)(iVar4 + 0x3c) + (uVar6 & 0xffff) * 4);
            }
            iVar5 = *(int *)(*(int *)(iVar5 + 0xd0) + 0x1c);
            if ((((iVar5 == 0x12) || (iVar5 == 0x13)) || (iVar5 == 0x14)) ||
               ((iVar5 == 0x15 || (iVar5 == 0x16)))) goto LAB_007c7be1;
          }
          uVar6 = uVar6 + 1;
        } while ((int)uVar6 < (int)(uint)uVar1);
      }
      FUN_007d19f0(iVar4);
LAB_007c7be1:
    }
  }
  local_8 = 0xffffffff;
  LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0xb8));
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007c7ad0 : PUSH EBP
007c7ad1 : MOV EBP,ESP
007c7ad3 : PUSH -0x1
007c7ad5 : PUSH 0xb37190
007c7ada : MOV EAX,FS:[0x0]
007c7ae0 : PUSH EAX
007c7ae1 : SUB ESP,0x8
007c7ae4 : PUSH EBX
007c7ae5 : PUSH ESI
007c7ae6 : PUSH EDI
007c7ae7 : MOV EAX,[0x00d66fa0]
007c7aec : XOR EAX,EBP
007c7aee : PUSH EAX
007c7aef : LEA EAX,[EBP + -0xc]
007c7af2 : MOV FS:[0x0],EAX
007c7af8 : MOV BL,byte ptr [EBP + 0x8]
007c7afb : MOV ESI,ECX
007c7afd : LEA EDI,[ESI + 0xb8]
007c7b03 : PUSH EDI
007c7b04 : MOV dword ptr [EBP + -0x10],EDI
007c7b07 : CALL dword ptr [0x00b85118]
007c7b0d : MOV dword ptr [EBP + -0x4],0x0
007c7b14 : CMP byte ptr [ESI + 0x111ec],BL
007c7b1a : JZ 0x007c7bf5
007c7b20 : MOV byte ptr [ESI + 0x111ec],BL
007c7b26 : MOV ESI,dword ptr [ESI + 0x18]
007c7b29 : MOV EAX,dword ptr [ESI]
007c7b2b : MOV dword ptr [EBP + -0x14],ESI
007c7b2e : MOV dword ptr [EBP + 0x8],EAX
007c7b31 : CMP EAX,ESI
007c7b33 : JZ 0x007c7bf5
007c7b39 : LEA ESP,[ESP]
007c7b40 : MOV EAX,dword ptr [EBP + 0x8]
007c7b43 : MOV EDX,dword ptr [EAX + 0x24]
007c7b46 : TEST EDX,EDX
007c7b48 : JZ 0x007c7bf5
007c7b4e : MOVZX EBX,word ptr [EDX + 0x48]
007c7b52 : MOVZX EAX,BX
007c7b55 : MOVZX ESI,AX
007c7b58 : XOR EDI,EDI
007c7b5a : TEST ESI,ESI
007c7b5c : JLE 0x007c7bdb
007c7b5e : MOV EDI,EDI
007c7b60 : MOV ECX,dword ptr [EDX + 0x40]
007c7b63 : SUB ECX,dword ptr [EDX + 0x3c]
007c7b66 : TEST ECX,0xfffffffc
007c7b6c : JZ 0x007c7b84
007c7b6e : MOVZX ECX,BX
007c7b71 : MOVZX EAX,DI
007c7b74 : CMP AX,CX
007c7b77 : JA 0x007c7b84
007c7b79 : MOV ECX,dword ptr [EDX + 0x3c]
007c7b7c : MOVZX EAX,AX
007c7b7f : MOV EAX,dword ptr [ECX + EAX*0x4]
007c7b82 : JMP 0x007c7b86
007c7b84 : XOR EAX,EAX
007c7b86 : CMP dword ptr [EAX + 0xd0],0x0
007c7b8d : JZ 0x007c7bd6
007c7b8f : MOV EAX,dword ptr [EDX + 0x40]
007c7b92 : SUB EAX,dword ptr [EDX + 0x3c]
007c7b95 : TEST EAX,0xfffffffc
007c7b9a : JZ 0x007c7bb2
007c7b9c : MOVZX ECX,BX
007c7b9f : MOVZX EAX,DI
007c7ba2 : CMP AX,CX
007c7ba5 : JA 0x007c7bb2
007c7ba7 : MOVZX ECX,AX
007c7baa : MOV EAX,dword ptr [EDX + 0x3c]
007c7bad : MOV EAX,dword ptr [EAX + ECX*0x4]
007c7bb0 : JMP 0x007c7bb4
007c7bb2 : XOR EAX,EAX
007c7bb4 : MOV EAX,dword ptr [EAX + 0xd0]
007c7bba : MOV EAX,dword ptr [EAX + 0x1c]
007c7bbd : CMP EAX,0x12
007c7bc0 : JZ 0x007c7be1
007c7bc2 : CMP EAX,0x13
007c7bc5 : JZ 0x007c7be1
007c7bc7 : CMP EAX,0x14
007c7bca : JZ 0x007c7be1
007c7bcc : CMP EAX,0x15
007c7bcf : JZ 0x007c7be1
007c7bd1 : CMP EAX,0x16
007c7bd4 : JZ 0x007c7be1
007c7bd6 : INC EDI
007c7bd7 : CMP EDI,ESI
007c7bd9 : JL 0x007c7b60
007c7bdb : PUSH EDX
007c7bdc : CALL 0x007d19f0
007c7be1 : MOV ECX,dword ptr [EBP + 0x8]
007c7be4 : MOV EAX,dword ptr [ECX]
007c7be6 : MOV EDI,dword ptr [EBP + -0x10]
007c7be9 : MOV dword ptr [EBP + 0x8],EAX
007c7bec : CMP EAX,dword ptr [EBP + -0x14]
007c7bef : JNZ 0x007c7b40
007c7bf5 : MOV dword ptr [EBP + -0x4],0xffffffff
007c7bfc : PUSH EDI
007c7bfd : CALL dword ptr [0x00b8511c]
007c7c03 : MOV ECX,dword ptr [EBP + -0xc]
007c7c06 : MOV dword ptr FS:[0x0],ECX
007c7c0d : POP ECX
007c7c0e : POP EDI
007c7c0f : POP ESI
007c7c10 : POP EBX
007c7c11 : MOV ESP,EBP
007c7c13 : POP EBP
007c7c14 : RET 0x4
