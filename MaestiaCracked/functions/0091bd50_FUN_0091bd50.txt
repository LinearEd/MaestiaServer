PROGRAM  : Maestia.exe
FUNCTION : FUN_0091bd50
ENTRY    : 0091bd50
BODY     : [[0091bd50, 0091bf55]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0091bd50(undefined4 param_1,undefined4 param_2,undefined2 param_3)

{
  int *piVar1;
  int iVar2;
  int in_ECX;
  undefined4 in_stack_0000001c;
  uint in_stack_00000020;
  uint local_30;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  puStack_c = &LAB_00b456ef;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_8 = 0;
  if (((char)param_1 == '\x01') && (*(char *)(*(int *)(DAT_00da93ec + 0xac) + 0x424) == '\x01')) {
    if ((DAT_0172491c != 0) && ((*DAT_00da9894 != 0 && (*(int *)(*DAT_00da9894 + 0x1a8) != 0)))) {
      FUN_00406460();
      local_8._0_1_ = 1;
      piVar1 = *(int **)(*DAT_00da9894 + 0x1a8);
      FUN_0081d120();
      local_8._0_1_ = 2;
      (**(code **)(*piVar1 + 0x44))();
      local_8._0_1_ = 1;
      FUN_00406560();
      local_8 = (uint)local_8._1_3_ << 8;
      FUN_00406560();
    }
    local_8 = 0xffffffff;
    if (in_stack_00000020 < 8) {
      ExceptionList = local_10;
      return;
    }
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if (*(short *)(in_ECX + 0x1b4) != 0) {
    if (*(short *)(in_ECX + 0x3c) != *(short *)(in_ECX + 0x1b4)) {
      FUN_00406460();
      local_8._0_1_ = 3;
      piVar1 = *(int **)(*DAT_00da9894 + 0x1a8);
      FUN_0081d120();
      local_8._0_1_ = 4;
      (**(code **)(*piVar1 + 0x44))();
      local_8 = CONCAT31(local_8._1_3_,3);
      if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      goto LAB_0091bf9d;
    }
    iVar2 = FUN_00917e80();
    if (iVar2 == 0) {
      FUN_008018d0();
      local_8 = 0xffffffff;
      FUN_00406560();
      ExceptionList = local_10;
      return;
    }
    if (*(int *)(iVar2 + 0x4c) != 0) {
      FUN_0091af80();
      local_8 = 0xffffffff;
      FUN_00406560();
      ExceptionList = local_10;
      return;
    }
  }
  FUN_00405eb0(&param_2,0,0xffffffff);
  local_8 = local_8 & 0xffffff00;
  FUN_0091b9d0(*(undefined2 *)(in_ECX + 0x3c),param_1);
LAB_0091bf9d:
  local_8 = 0xffffffff;
  if (in_stack_00000020 < 8) {
    ExceptionList = local_10;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0091bd50 : PUSH EBP
0091bd51 : MOV EBP,ESP
0091bd53 : PUSH -0x1
0091bd55 : PUSH 0xb456ef
0091bd5a : MOV EAX,FS:[0x0]
0091bd60 : PUSH EAX
0091bd61 : SUB ESP,0x3c
0091bd64 : PUSH EBX
0091bd65 : PUSH ESI
0091bd66 : PUSH EDI
0091bd67 : MOV EAX,[0x00d66fa0]
0091bd6c : XOR EAX,EBP
0091bd6e : PUSH EAX
0091bd6f : LEA EAX,[EBP + -0xc]
0091bd72 : MOV FS:[0x0],EAX
0091bd78 : MOV ESI,ECX
0091bd7a : XOR EBX,EBX
0091bd7c : MOV dword ptr [EBP + -0x4],EBX
0091bd7f : CMP byte ptr [EBP + 0x8],0x1
0091bd83 : JNZ 0x0091be3b
0091bd89 : MOV EAX,[0x00da93ec]
0091bd8e : MOV EAX,dword ptr [EAX + 0xac]
0091bd94 : CMP byte ptr [EAX + 0x424],0x1
0091bd9b : JNZ 0x0091be3b
0091bda1 : CMP dword ptr [0x0172491c],EBX
0091bda7 : JZ 0x0091be14
0091bda9 : MOV ECX,dword ptr [0x00da9894]
0091bdaf : MOV EAX,dword ptr [ECX]
0091bdb1 : CMP EAX,EBX
0091bdb3 : JZ 0x0091be14
0091bdb5 : CMP dword ptr [EAX + 0x1a8],EBX
0091bdbb : JZ 0x0091be14
0091bdbd : PUSH 0xc68f64
0091bdc2 : LEA ECX,[EBP + -0x44]
0091bdc5 : CALL 0x00406460
0091bdca : MOV byte ptr [EBP + -0x4],0x1
0091bdce : MOV EDX,dword ptr [0x00da9894]
0091bdd4 : MOV EAX,dword ptr [EDX]
0091bdd6 : MOV ESI,dword ptr [EAX + 0x1a8]
0091bddc : MOV ECX,dword ptr [0x0172491c]
0091bde2 : LEA EAX,[EBP + -0x44]
0091bde5 : PUSH EAX
0091bde6 : LEA EDI,[EBP + -0x28]
0091bde9 : CALL 0x0081d120
0091bdee : MOV byte ptr [EBP + -0x4],0x2
0091bdf2 : MOV EDX,dword ptr [ESI]
0091bdf4 : PUSH 0x3
0091bdf6 : PUSH EAX
0091bdf7 : MOV EAX,dword ptr [EDX + 0x44]
0091bdfa : MOV ECX,ESI
0091bdfc : CALL EAX
0091bdfe : MOV byte ptr [EBP + -0x4],0x1
0091be02 : MOV ECX,EDI
0091be04 : CALL 0x00406560
0091be09 : MOV byte ptr [EBP + -0x4],BL
0091be0c : LEA ECX,[EBP + -0x44]
0091be0f : CALL 0x00406560
0091be14 : MOV dword ptr [EBP + -0x4],0xffffffff
0091be1b : CMP dword ptr [EBP + 0x24],0x8
0091be1f : JC 0x0091be29
0091be21 : MOV ECX,dword ptr [EBP + 0x10]
0091be24 : CALL 0x006f04e0
0091be29 : XOR ECX,ECX
0091be2b : MOV dword ptr [EBP + 0x24],0x7
0091be32 : MOV word ptr [EBP + 0x10],CX
0091be36 : JMP 0x0091bfb0
0091be3b : MOVZX EDX,word ptr [ESI + 0x1b4]
0091be42 : CMP DX,BX
0091be45 : JZ 0x0091bf56
0091be4b : CMP word ptr [ESI + 0x3c],DX
0091be4f : JZ 0x0091bee8
0091be55 : PUSH 0xc68fa8
0091be5a : LEA ECX,[EBP + -0x28]
0091be5d : CALL 0x00406460
0091be62 : MOV byte ptr [EBP + -0x4],0x3
0091be66 : MOV EDX,dword ptr [0x00da9894]
0091be6c : MOV EAX,dword ptr [EDX]
0091be6e : MOV ESI,dword ptr [EAX + 0x1a8]
0091be74 : MOV ECX,dword ptr [0x0172491c]
0091be7a : LEA EAX,[EBP + -0x28]
0091be7d : PUSH EAX
0091be7e : LEA EDI,[EBP + -0x44]
0091be81 : CALL 0x0081d120
0091be86 : MOV byte ptr [EBP + -0x4],0x4
0091be8a : MOV EDX,dword ptr [ESI]
0091be8c : PUSH 0x3
0091be8e : PUSH EAX
0091be8f : MOV EAX,dword ptr [EDX + 0x44]
0091be92 : MOV ECX,ESI
0091be94 : CALL EAX
0091be96 : MOV byte ptr [EBP + -0x4],0x3
0091be9a : MOV ESI,0x8
0091be9f : CMP dword ptr [EBP + -0x2c],ESI
0091bea2 : JC 0x0091beac
0091bea4 : MOV ECX,dword ptr [EBP + -0x40]
0091bea7 : CALL 0x006f04e0
0091beac : MOV EDI,0x7
0091beb1 : XOR ECX,ECX
0091beb3 : MOV dword ptr [EBP + -0x2c],EDI
0091beb6 : MOV dword ptr [EBP + -0x30],EBX
0091beb9 : MOV word ptr [EBP + -0x40],CX
0091bebd : MOV byte ptr [EBP + -0x4],BL
0091bec0 : CMP dword ptr [EBP + -0x10],ESI
0091bec3 : JC 0x0091becd
0091bec5 : MOV ECX,dword ptr [EBP + -0x24]
0091bec8 : CALL 0x006f04e0
0091becd : XOR EDX,EDX
0091becf : MOV dword ptr [EBP + -0x10],EDI
0091bed2 : MOV dword ptr [EBP + -0x14],EBX
0091bed5 : MOV word ptr [EBP + -0x24],DX
0091bed9 : MOV dword ptr [EBP + -0x4],0xffffffff
0091bee0 : CMP dword ptr [EBP + 0x24],ESI
0091bee3 : JMP 0x0091bf9d
0091bee8 : MOV ECX,ESI
0091beea : CALL 0x00917e80
0091beef : CMP EAX,EBX
0091bef1 : JZ 0x0091bf20
0091bef3 : CMP dword ptr [EAX + 0x4c],EBX
0091bef6 : JBE 0x0091bf56
0091bef8 : CALL 0x0091af80
0091befd : MOV dword ptr [EBP + -0x4],0xffffffff
0091bf04 : LEA ECX,[EBP + 0xc]
0091bf07 : CALL 0x00406560
0091bf0c : MOV ECX,dword ptr [EBP + -0xc]
0091bf0f : MOV dword ptr FS:[0x0],ECX
0091bf16 : POP ECX
0091bf17 : POP EDI
0091bf18 : POP ESI
0091bf19 : POP EBX
0091bf1a : MOV ESP,EBP
0091bf1c : POP EBP
0091bf1d : RET 0x20
0091bf20 : MOV ESI,dword ptr [0x00da98e8]
0091bf26 : PUSH 0xc69030
0091bf2b : CALL 0x008018d0
0091bf30 : ADD ESP,0x4
0091bf33 : MOV dword ptr [EBP + -0x4],0xffffffff
0091bf3a : LEA ECX,[EBP + 0xc]
0091bf3d : CALL 0x00406560
0091bf42 : MOV ECX,dword ptr [EBP + -0xc]
0091bf45 : MOV dword ptr FS:[0x0],ECX
0091bf4c : POP ECX
0091bf4d : POP EDI
0091bf4e : POP ESI
0091bf4f : POP EBX
0091bf50 : MOV ESP,EBP
0091bf52 : POP EBP
0091bf53 : RET 0x20
