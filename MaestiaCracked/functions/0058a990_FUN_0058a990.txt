PROGRAM  : Maestia.exe
FUNCTION : FUN_0058a990
ENTRY    : 0058a990
BODY     : [[0058a990, 0058a9e1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058a990(void)

{
  int *piVar1;
  GRefCountImplCore *in_ECX;
  
  *(undefined ***)in_ECX = &PTR_FUN_00b8e59c;
  if (*(int **)(in_ECX + 8) != (int *)0x0) {
    (**(code **)(**(int **)(in_ECX + 8) + 0xc))();
  }
  if (*(int *)(in_ECX + 0x10) != 0) {
    piVar1 = (int *)(*(int *)(in_ECX + 0x10) + 0x1c);
    *piVar1 = *piVar1 + -1;
    if (*(int *)(*(int *)(in_ECX + 0x10) + 0x1c) < 1) {
      (**(code **)(**(int **)(*(int *)(in_ECX + 0x10) + 0xc) + 0x18))();
    }
    FUN_00524240();
  }
  if (*(GRefCountImpl **)(in_ECX + 8) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 8));
  }
  GRefCountImplCore::~GRefCountImplCore(in_ECX);
  return;
}



============================================================
DISASSEMBLY
============================================================
0058a990 : PUSH ESI
0058a991 : MOV ESI,ECX
0058a993 : MOV ECX,dword ptr [ESI + 0x8]
0058a996 : MOV dword ptr [ESI],0xb8e59c
0058a99c : TEST ECX,ECX
0058a99e : JZ 0x0058a9a7
0058a9a0 : MOV EAX,dword ptr [ECX]
0058a9a2 : MOV EDX,dword ptr [EAX + 0xc]
0058a9a5 : CALL EDX
0058a9a7 : MOV EAX,dword ptr [ESI + 0x10]
0058a9aa : TEST EAX,EAX
0058a9ac : JZ 0x0058a9ce
0058a9ae : DEC dword ptr [EAX + 0x1c]
0058a9b1 : MOV EAX,dword ptr [ESI + 0x10]
0058a9b4 : CMP dword ptr [EAX + 0x1c],0x0
0058a9b8 : JG 0x0058a9c6
0058a9ba : MOV EAX,dword ptr [EAX + 0xc]
0058a9bd : MOV EDX,dword ptr [EAX]
0058a9bf : MOV ECX,EAX
0058a9c1 : MOV EAX,dword ptr [EDX + 0x18]
0058a9c4 : CALL EAX
0058a9c6 : MOV ECX,dword ptr [ESI + 0x10]
0058a9c9 : CALL 0x00524240
0058a9ce : MOV ECX,dword ptr [ESI + 0x8]
0058a9d1 : TEST ECX,ECX
0058a9d3 : JZ 0x0058a9da
0058a9d5 : CALL 0x004ff7e0
0058a9da : MOV ECX,ESI
0058a9dc : POP ESI
0058a9dd : JMP 0x004ff7b0
