PROGRAM  : Maestia.exe
FUNCTION : FUN_005c79d0
ENTRY    : 005c79d0
BODY     : [[005c79d0, 005c7af8]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005c79d0(undefined4 *param_1,uint param_2)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  int local_18;
  undefined1 local_14;
  
  iVar2 = param_2;
  local_18 = param_2;
  local_14 = 8;
  puVar3 = (undefined4 *)FUN_00515840(0x34,0);
  if (puVar3 == (undefined4 *)0x0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    FUN_00568960(&local_18,FUN_005c7180);
    *puVar3 = &PTR_LAB_00b91f48;
    puVar3[4] = &PTR_LAB_00b90510;
  }
  puVar1 = param_1;
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = puVar3;
  param_1[1] = 0;
  iVar4 = FUN_00515840(100,0);
  if (iVar4 == 0) {
    uVar6 = 0;
  }
  else {
    puVar3 = puVar1;
    uVar5 = FUN_00530910(1);
    uVar6 = FUN_005c7740(&local_18,uVar5,puVar3);
    if (uVar6 != 0) {
      *(uint *)(uVar6 + 8) = *(int *)(uVar6 + 8) + 1U & 0x8fffffff;
    }
  }
  param_1 = (undefined4 *)0xc;
  param_2 = uVar6;
  FUN_0050ff10(&param_1,&param_2);
  if (param_2 != 0) {
    FUN_00503db0();
  }
  puVar3 = &param_2;
  param_2 = param_2 & 0xffffff00;
  iVar4 = *(int *)(*(int *)(iVar2 + 0x28c) + 0x10);
  uVar5 = FUN_00526210(puVar1);
  (**(code **)(iVar4 + 0x28))(&local_18,iVar2 + 0x38,uVar5,puVar3);
  FUN_00526bc0();
  if (uVar6 != 0) {
    FUN_00503db0();
  }
  return puVar1;
}



============================================================
DISASSEMBLY
============================================================
005c79d0 : SUB ESP,0x18
005c79d3 : PUSH EBP
005c79d4 : PUSH ESI
005c79d5 : MOV ESI,dword ptr [ESP + 0x28]
005c79d9 : MOV ECX,dword ptr [ESI + 0x288]
005c79df : PUSH EDI
005c79e0 : PUSH 0x0
005c79e2 : PUSH 0x34
005c79e4 : MOV dword ptr [ESP + 0x14],ESI
005c79e8 : MOV byte ptr [ESP + 0x18],0x8
005c79ed : CALL 0x00515840
005c79f2 : MOV EDI,EAX
005c79f4 : TEST EDI,EDI
005c79f6 : JZ 0x005c7a1a
005c79f8 : PUSH 0x5c7180
005c79fd : LEA EAX,[ESP + 0x10]
005c7a01 : PUSH EAX
005c7a02 : MOV ECX,EDI
005c7a04 : CALL 0x00568960
005c7a09 : MOV dword ptr [EDI],0xb91f48
005c7a0f : MOV dword ptr [EDI + 0x10],0xb90510
005c7a16 : MOV EAX,EDI
005c7a18 : JMP 0x005c7a1c
005c7a1a : XOR EAX,EAX
005c7a1c : MOV EDI,dword ptr [ESP + 0x28]
005c7a20 : PUSH 0x0
005c7a22 : MOV byte ptr [EDI + 0x8],0x0
005c7a26 : MOV dword ptr [EDI],EAX
005c7a28 : MOV dword ptr [EDI + 0x4],0x0
005c7a2f : MOV ECX,dword ptr [ESI + 0x288]
005c7a35 : PUSH 0x64
005c7a37 : CALL 0x00515840
005c7a3c : MOV EBP,EAX
005c7a3e : TEST EBP,EBP
005c7a40 : JZ 0x005c7af2
005c7a46 : PUSH EDI
005c7a47 : PUSH 0x1
005c7a49 : MOV ECX,ESI
005c7a4b : CALL 0x00530910
005c7a50 : PUSH EAX
005c7a51 : LEA ECX,[ESP + 0x14]
005c7a55 : PUSH ECX
005c7a56 : MOV ECX,EBP
005c7a58 : CALL 0x005c7740
005c7a5d : MOV EBP,EAX
005c7a5f : TEST EBP,EBP
005c7a61 : JZ 0x005c7a70
005c7a63 : MOV EDX,dword ptr [EBP + 0x8]
005c7a66 : INC EDX
005c7a67 : AND EDX,0x8fffffff
005c7a6d : MOV dword ptr [EBP + 0x8],EDX
005c7a70 : LEA EAX,[ESP + 0x2c]
005c7a74 : PUSH EAX
005c7a75 : LEA ECX,[ESP + 0x2c]
005c7a79 : PUSH ECX
005c7a7a : LEA ECX,[ESI + 0x278]
005c7a80 : MOV dword ptr [ESP + 0x34],EBP
005c7a84 : MOV dword ptr [ESP + 0x30],0xc
005c7a8c : CALL 0x0050ff10
005c7a91 : MOV ECX,dword ptr [ESP + 0x2c]
005c7a95 : TEST ECX,ECX
005c7a97 : JZ 0x005c7a9e
005c7a99 : CALL 0x00503db0
005c7a9e : MOV EDX,dword ptr [ESI + 0x28c]
005c7aa4 : PUSH EBX
005c7aa5 : LEA EAX,[ESP + 0x30]
005c7aa9 : PUSH EAX
005c7aaa : MOV byte ptr [ESP + 0x34],0x0
005c7aaf : MOV EBX,dword ptr [EDX + 0x10]
005c7ab2 : PUSH EDI
005c7ab3 : LEA ECX,[ESP + 0x20]
005c7ab7 : CALL 0x00526210
005c7abc : PUSH EAX
005c7abd : MOV EAX,dword ptr [EBX + 0x28]
005c7ac0 : LEA ECX,[ESI + 0x38]
005c7ac3 : PUSH ECX
005c7ac4 : MOV ECX,dword ptr [ESI + 0x28c]
005c7aca : LEA EDX,[ESP + 0x1c]
005c7ace : PUSH EDX
005c7acf : ADD ECX,0x10
005c7ad2 : CALL EAX
005c7ad4 : LEA ECX,[ESP + 0x18]
005c7ad8 : CALL 0x00526bc0
005c7add : POP EBX
005c7ade : TEST EBP,EBP
005c7ae0 : JZ 0x005c7ae9
005c7ae2 : MOV ECX,EBP
005c7ae4 : CALL 0x00503db0
005c7ae9 : MOV EAX,EDI
005c7aeb : POP EDI
005c7aec : POP ESI
005c7aed : POP EBP
005c7aee : ADD ESP,0x18
005c7af1 : RET
005c7af2 : XOR EBP,EBP
005c7af4 : JMP 0x005c7a70
