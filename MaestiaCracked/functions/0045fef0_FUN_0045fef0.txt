PROGRAM  : Maestia.exe
FUNCTION : FUN_0045fef0
ENTRY    : 0045fef0
BODY     : [[0045fef0, 0045ffed]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0045fef0(int param_1)

{
  rsize_t _DstSize;
  void *_Dst;
  int iVar1;
  char cVar2;
  int in_EAX;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  uint uVar6;
  
  if (in_EAX != param_1) {
    uVar3 = *(int *)(param_1 + 8) - *(int *)(param_1 + 4) >> 2;
    if (uVar3 == 0) {
      FUN_0042d2e0(in_EAX);
      return;
    }
    _Dst = *(void **)(in_EAX + 4);
    if (uVar3 <= (uint)(*(int *)(in_EAX + 8) - (int)_Dst >> 2)) {
      iVar5 = *(int *)(param_1 + 8) - (int)*(void **)(param_1 + 4) >> 2;
      if (0 < iVar5) {
        _DstSize = iVar5 * 4;
        _memmove_s(_Dst,_DstSize,*(void **)(param_1 + 4),_DstSize);
      }
      *(int *)(in_EAX + 8) =
           *(int *)(in_EAX + 4) + (*(int *)(param_1 + 8) - *(int *)(param_1 + 4) >> 2) * 4;
      return;
    }
    if (_Dst == (void *)0x0) {
      uVar6 = 0;
    }
    else {
      uVar6 = *(int *)(in_EAX + 0xc) - (int)_Dst >> 2;
    }
    if (uVar3 <= uVar6) {
      FUN_0042ccb0();
      uVar4 = FUN_00461070();
      *(undefined4 *)(in_EAX + 8) = uVar4;
      return;
    }
    if (_Dst != (void *)0x0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    iVar5 = *(int *)(param_1 + 8);
    iVar1 = *(int *)(param_1 + 4);
    *(undefined4 *)(in_EAX + 4) = 0;
    *(undefined4 *)(in_EAX + 8) = 0;
    *(undefined4 *)(in_EAX + 0xc) = 0;
    if ((iVar5 - iVar1 >> 2 != 0) && (cVar2 = FUN_00453360(), cVar2 != '\0')) {
      uVar4 = FUN_00461070();
      *(undefined4 *)(in_EAX + 8) = uVar4;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0045fef0 : PUSH EBP
0045fef1 : MOV EBP,ESP
0045fef3 : PUSH EBX
0045fef4 : MOV EBX,dword ptr [EBP + 0x8]
0045fef7 : PUSH ESI
0045fef8 : MOV ESI,EAX
0045fefa : PUSH EDI
0045fefb : CMP ESI,EBX
0045fefd : JZ 0x0045ffe7
0045ff03 : MOV EDI,dword ptr [EBX + 0x8]
0045ff06 : MOV ECX,dword ptr [EBX + 0x4]
0045ff09 : MOV EAX,EDI
0045ff0b : SUB EAX,ECX
0045ff0d : SAR EAX,0x2
0045ff10 : TEST EAX,EAX
0045ff12 : JNZ 0x0045ff23
0045ff14 : PUSH ESI
0045ff15 : CALL 0x0042d2e0
0045ff1a : MOV EAX,ESI
0045ff1c : POP EDI
0045ff1d : POP ESI
0045ff1e : POP EBX
0045ff1f : POP EBP
0045ff20 : RET 0x4
0045ff23 : MOV ECX,dword ptr [ESI + 0x4]
0045ff26 : MOV EDX,dword ptr [ESI + 0x8]
0045ff29 : SUB EDX,ECX
0045ff2b : SAR EDX,0x2
0045ff2e : CMP EAX,EDX
0045ff30 : JA 0x0045ff6c
0045ff32 : MOV EDX,dword ptr [EBX + 0x4]
0045ff35 : SUB EDI,EDX
0045ff37 : SAR EDI,0x2
0045ff3a : TEST EDI,EDI
0045ff3c : JLE 0x0045ff51
0045ff3e : LEA EAX,[EDI*0x4 + 0x0]
0045ff45 : PUSH EAX
0045ff46 : PUSH EDX
0045ff47 : PUSH EAX
0045ff48 : PUSH ECX
0045ff49 : CALL 0x00634101
0045ff4e : ADD ESP,0x10
0045ff51 : MOV EAX,dword ptr [EBX + 0x8]
0045ff54 : SUB EAX,dword ptr [EBX + 0x4]
0045ff57 : MOV ECX,dword ptr [ESI + 0x4]
0045ff5a : SAR EAX,0x2
0045ff5d : LEA EDX,[ECX + EAX*0x4]
0045ff60 : MOV dword ptr [ESI + 0x8],EDX
0045ff63 : MOV EAX,ESI
0045ff65 : POP EDI
0045ff66 : POP ESI
0045ff67 : POP EBX
0045ff68 : POP EBP
0045ff69 : RET 0x4
0045ff6c : TEST ECX,ECX
0045ff6e : JNZ 0x0045ff74
0045ff70 : XOR EDI,EDI
0045ff72 : JMP 0x0045ff7c
0045ff74 : MOV EDI,dword ptr [ESI + 0xc]
0045ff77 : SUB EDI,ECX
0045ff79 : SAR EDI,0x2
0045ff7c : CMP EAX,EDI
0045ff7e : JA 0x0045ffaa
0045ff80 : MOV EDI,dword ptr [EBX + 0x4]
0045ff83 : LEA EAX,[EDI + EDX*0x4]
0045ff86 : MOV EDX,ECX
0045ff88 : MOV dword ptr [EBP + 0x8],EAX
0045ff8b : CALL 0x0042ccb0
0045ff90 : MOV EDX,dword ptr [ESI + 0x8]
0045ff93 : MOV EDI,dword ptr [EBP + 0x8]
0045ff96 : MOV EAX,dword ptr [EBX + 0x8]
0045ff99 : CALL 0x00461070
0045ff9e : MOV dword ptr [ESI + 0x8],EAX
0045ffa1 : MOV EAX,ESI
0045ffa3 : POP EDI
0045ffa4 : POP ESI
0045ffa5 : POP EBX
0045ffa6 : POP EBP
0045ffa7 : RET 0x4
0045ffaa : TEST ECX,ECX
0045ffac : JZ 0x0045ffb3
0045ffae : CALL 0x006f04e0
0045ffb3 : MOV EDI,dword ptr [EBX + 0x8]
0045ffb6 : SUB EDI,dword ptr [EBX + 0x4]
0045ffb9 : XOR EAX,EAX
0045ffbb : SAR EDI,0x2
0045ffbe : MOV dword ptr [ESI + 0x4],EAX
0045ffc1 : MOV dword ptr [ESI + 0x8],EAX
0045ffc4 : MOV dword ptr [ESI + 0xc],EAX
0045ffc7 : CMP EDI,EAX
0045ffc9 : JZ 0x0045ffe5
0045ffcb : CALL 0x00453360
0045ffd0 : TEST AL,AL
0045ffd2 : JZ 0x0045ffe5
0045ffd4 : MOV EDX,dword ptr [ESI + 0x4]
0045ffd7 : MOV EDI,dword ptr [EBX + 0x4]
0045ffda : MOV EAX,dword ptr [EBX + 0x8]
0045ffdd : CALL 0x00461070
0045ffe2 : MOV dword ptr [ESI + 0x8],EAX
0045ffe5 : MOV EAX,ESI
0045ffe7 : POP EDI
0045ffe8 : POP ESI
0045ffe9 : POP EBX
0045ffea : POP EBP
0045ffeb : RET 0x4
