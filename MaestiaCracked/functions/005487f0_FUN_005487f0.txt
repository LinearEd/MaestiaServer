PROGRAM  : Maestia.exe
FUNCTION : FUN_005487f0
ENTRY    : 005487f0
BODY     : [[005487f0, 005488be]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005487f0(int param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  int *in_ECX;
  
  *in_ECX = param_1;
  in_ECX[1] = 0;
  in_ECX[2] = 0;
  in_ECX[3] = 0;
  FUN_00545cb0();
  iVar2 = *(int *)(*(int *)(param_1 + 0xc) + 8);
  if (iVar2 == 0) {
    iVar2 = FUN_00515dd0(*(int *)(param_1 + 0xc));
  }
  else {
    iVar2 = *(int *)(iVar2 + 0x1c);
  }
  in_ECX[0x2f] = 0;
  in_ECX[0x30] = iVar2;
  in_ECX[0x31] = (int)(in_ECX + 0x2f);
  in_ECX[0x34] = 0;
  in_ECX[0x33] = 0;
  in_ECX[0x32] = 0;
  piVar1 = (int *)in_ECX[0x34];
  if ((piVar1 != (int *)0x0) && (*piVar1 = *piVar1 + -1, *piVar1 == 0)) {
    FUN_00500860();
    FUN_00515cf0(piVar1);
  }
  in_ECX[0x34] = 0;
  FUN_00545cb0();
  FUN_00545cb0();
  FUN_00545cb0();
  in_ECX[0x141] = 0;
  in_ECX[0x24f] = param_2;
  in_ECX[0x24c] = 0;
  in_ECX[0x24e] = 0;
  in_ECX[0x24d] = 0;
  *(undefined1 *)(in_ECX + 0x253) = 0;
  *(undefined1 *)((int)in_ECX + 0x94d) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
005487f0 : PUSH EBX
005487f1 : PUSH ESI
005487f2 : MOV ESI,ECX
005487f4 : PUSH EDI
005487f5 : MOV EDI,dword ptr [ESP + 0x10]
005487f9 : XOR EBX,EBX
005487fb : LEA ECX,[ESI + 0x10]
005487fe : MOV dword ptr [ESI],EDI
00548800 : MOV dword ptr [ESI + 0x4],EBX
00548803 : MOV dword ptr [ESI + 0x8],EBX
00548806 : MOV dword ptr [ESI + 0xc],EBX
00548809 : CALL 0x00545cb0
0054880e : MOV EAX,dword ptr [EDI + 0xc]
00548811 : MOV ECX,dword ptr [EAX + 0x8]
00548814 : CMP ECX,EBX
00548816 : JNZ 0x00548820
00548818 : PUSH EAX
00548819 : CALL 0x00515dd0
0054881e : JMP 0x00548823
00548820 : MOV EAX,dword ptr [ECX + 0x1c]
00548823 : LEA ECX,[ESI + 0xbc]
00548829 : MOV dword ptr [ECX],EBX
0054882b : MOV dword ptr [ECX + 0x4],EAX
0054882e : MOV dword ptr [ESI + 0xc4],ECX
00548834 : MOV dword ptr [ESI + 0xd0],EBX
0054883a : MOV dword ptr [ESI + 0xcc],EBX
00548840 : MOV dword ptr [ESI + 0xc8],EBX
00548846 : MOV EDI,dword ptr [ESI + 0xd0]
0054884c : CMP EDI,EBX
0054884e : JZ 0x00548862
00548850 : ADD dword ptr [EDI],-0x1
00548853 : JNZ 0x00548862
00548855 : MOV ECX,EDI
00548857 : CALL 0x00500860
0054885c : PUSH EDI
0054885d : CALL 0x00515cf0
00548862 : LEA ECX,[ESI + 0xd4]
00548868 : MOV dword ptr [ESI + 0xd0],EBX
0054886e : CALL 0x00545cb0
00548873 : LEA ECX,[ESI + 0x180]
00548879 : CALL 0x00545cb0
0054887e : LEA ECX,[ESI + 0x22c]
00548884 : CALL 0x00545cb0
00548889 : MOV EAX,dword ptr [ESP + 0x14]
0054888d : MOV dword ptr [ESI + 0x504],EBX
00548893 : MOV dword ptr [ESI + 0x93c],EAX
00548899 : POP EDI
0054889a : MOV dword ptr [ESI + 0x930],EBX
005488a0 : MOV dword ptr [ESI + 0x938],EBX
005488a6 : MOV dword ptr [ESI + 0x934],EBX
005488ac : MOV byte ptr [ESI + 0x94c],BL
005488b2 : MOV byte ptr [ESI + 0x94d],BL
005488b8 : MOV EAX,ESI
005488ba : POP ESI
005488bb : POP EBX
005488bc : RET 0x8
