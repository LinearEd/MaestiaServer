PROGRAM  : Maestia.exe
FUNCTION : FUN_004fd270
ENTRY    : 004fd270
BODY     : [[004fd270, 004fd31e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004fd270(int param_1,int *param_2)

{
  int iVar1;
  int *in_EAX;
  int iVar2;
  int iVar3;
  int *piVar4;
  int iVar5;
  bool bVar6;
  
  iVar5 = 0;
  if (*(int *)(param_1 + 4) == 0) {
LAB_004fd2f9:
    *param_2 = iVar5;
    param_2[1] = param_1 + 0xc;
    return;
  }
  iVar1 = *in_EAX;
  iVar3 = *(int *)(param_1 + 4);
  do {
    iVar2 = iVar3;
    piVar4 = (int *)(*(int *)(param_1 + 0x10) + iVar2);
    if ((iVar1 == *piVar4) && (in_EAX[1] == piVar4[1])) {
      if (iVar2 != 0) {
        param_2[1] = param_1 + 0xc;
        *param_2 = iVar2;
        return;
      }
      break;
    }
    iVar5 = *piVar4;
    bVar6 = SBORROW4(iVar1,iVar5);
    iVar3 = iVar1 - iVar5;
    if (iVar1 == iVar5) {
      bVar6 = SBORROW4(in_EAX[1],piVar4[1]);
      iVar3 = in_EAX[1] - piVar4[1];
    }
    if (bVar6 == iVar3 < 0) {
      iVar3 = piVar4[0x25];
    }
    else {
      iVar3 = piVar4[0x24];
    }
    iVar5 = iVar2;
  } while (iVar3 != 0);
  do {
    if (iVar5 == 0) goto LAB_004fd2f9;
    iVar2 = *(int *)(*(int *)(param_1 + 0x10) + iVar5);
    bVar6 = SBORROW4(iVar1,iVar2);
    iVar3 = iVar1 - iVar2;
    if (iVar1 == iVar2) {
      iVar3 = *(int *)(*(int *)(param_1 + 0x10) + iVar5 + 4);
      bVar6 = SBORROW4(in_EAX[1],iVar3);
      iVar3 = in_EAX[1] - iVar3;
    }
    if (bVar6 == iVar3 < 0) goto LAB_004fd2f9;
    if (iVar5 == 0) {
      iVar5 = 0;
    }
    else {
      iVar5 = *(int *)(param_1 + 0x10) + iVar5;
    }
    iVar5 = *(int *)(iVar5 + 0x98);
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
004fd270 : PUSH EBX
004fd271 : PUSH EBP
004fd272 : MOV EBP,dword ptr [ESP + 0xc]
004fd276 : MOV ECX,dword ptr [EBP + 0x4]
004fd279 : PUSH ESI
004fd27a : PUSH EDI
004fd27b : XOR EDI,EDI
004fd27d : TEST ECX,ECX
004fd27f : JZ 0x004fd2f9
004fd281 : MOV EBX,dword ptr [EAX]
004fd283 : MOV EDX,dword ptr [EBP + 0x10]
004fd286 : ADD EDX,ECX
004fd288 : CMP EBX,dword ptr [EDX]
004fd28a : JNZ 0x004fd294
004fd28c : MOV ESI,dword ptr [EAX + 0x4]
004fd28f : CMP ESI,dword ptr [EDX + 0x4]
004fd292 : JZ 0x004fd2bf
004fd294 : MOV ESI,dword ptr [EDX]
004fd296 : MOV EDI,ECX
004fd298 : XOR ECX,ECX
004fd29a : CMP EBX,ESI
004fd29c : JNZ 0x004fd2a4
004fd29e : MOV ESI,dword ptr [EAX + 0x4]
004fd2a1 : CMP ESI,dword ptr [EDX + 0x4]
004fd2a4 : SETL CL
004fd2a7 : TEST CL,CL
004fd2a9 : JZ 0x004fd2b3
004fd2ab : MOV ECX,dword ptr [EDX + 0x90]
004fd2b1 : JMP 0x004fd2b9
004fd2b3 : MOV ECX,dword ptr [EDX + 0x94]
004fd2b9 : TEST ECX,ECX
004fd2bb : JNZ 0x004fd283
004fd2bd : JMP 0x004fd2c3
004fd2bf : TEST ECX,ECX
004fd2c1 : JNZ 0x004fd30c
004fd2c3 : TEST EDI,EDI
004fd2c5 : JZ 0x004fd2f9
004fd2c7 : MOV ECX,dword ptr [EBP + 0x10]
004fd2ca : MOV ESI,dword ptr [ECX + EDI*0x1]
004fd2cd : ADD ECX,EDI
004fd2cf : XOR EDX,EDX
004fd2d1 : CMP EBX,ESI
004fd2d3 : JNZ 0x004fd2db
004fd2d5 : MOV ESI,dword ptr [EAX + 0x4]
004fd2d8 : CMP ESI,dword ptr [ECX + 0x4]
004fd2db : SETL DL
004fd2de : TEST DL,DL
004fd2e0 : JZ 0x004fd2f9
004fd2e2 : TEST EDI,EDI
004fd2e4 : JZ 0x004fd2ed
004fd2e6 : MOV ECX,dword ptr [EBP + 0x10]
004fd2e9 : ADD ECX,EDI
004fd2eb : JMP 0x004fd2ef
004fd2ed : XOR ECX,ECX
004fd2ef : MOV EDI,dword ptr [ECX + 0x98]
004fd2f5 : TEST EDI,EDI
004fd2f7 : JNZ 0x004fd2c7
004fd2f9 : MOV EAX,dword ptr [ESP + 0x18]
004fd2fd : MOV dword ptr [EAX],EDI
004fd2ff : POP EDI
004fd300 : ADD EBP,0xc
004fd303 : POP ESI
004fd304 : MOV dword ptr [EAX + 0x4],EBP
004fd307 : POP EBP
004fd308 : POP EBX
004fd309 : RET 0x8
004fd30c : MOV EAX,dword ptr [ESP + 0x18]
004fd310 : POP EDI
004fd311 : ADD EBP,0xc
004fd314 : POP ESI
004fd315 : MOV dword ptr [EAX + 0x4],EBP
004fd318 : POP EBP
004fd319 : MOV dword ptr [EAX],ECX
004fd31b : POP EBX
004fd31c : RET 0x8
