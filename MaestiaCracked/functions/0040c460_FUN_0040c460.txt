PROGRAM  : Maestia.exe
FUNCTION : FUN_0040c460
ENTRY    : 0040c460
BODY     : [[0040c460, 0040c4f6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0040c460(int param_1,int param_2)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  
  if (param_2 != param_1) {
    puVar1 = *(undefined4 **)(param_1 + 4);
    puVar2 = (undefined4 *)*puVar1;
    puVar3 = *(undefined4 **)(param_2 + 4);
    puVar6 = (undefined4 *)*puVar3;
    while (puVar2 != puVar1) {
      if (puVar6 == puVar3) {
        return;
      }
      if ((float)puVar6[2] < (float)puVar2[2] || (float)puVar6[2] == (float)puVar2[2]) {
        puVar2 = (undefined4 *)*puVar2;
      }
      else {
        puVar4 = (undefined4 *)*puVar6;
        FUN_004093f0();
        *(int *)(param_2 + 8) = *(int *)(param_2 + 8) + -1;
        *(undefined4 **)puVar6[1] = puVar4;
        *(undefined4 **)puVar4[1] = puVar2;
        *(undefined4 **)puVar2[1] = puVar6;
        uVar5 = puVar2[1];
        puVar2[1] = puVar4[1];
        puVar4[1] = puVar6[1];
        puVar6[1] = uVar5;
        puVar6 = puVar4;
      }
    }
    if (puVar6 != puVar3) {
      FUN_0040c340(puVar1,puVar6,puVar3);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0040c460 : PUSH EBP
0040c461 : MOV EBP,ESP
0040c463 : MOV EDX,dword ptr [EBP + 0x8]
0040c466 : SUB ESP,0x8
0040c469 : PUSH EBX
0040c46a : PUSH ESI
0040c46b : MOV ESI,dword ptr [EBP + 0xc]
0040c46e : PUSH EDI
0040c46f : CMP ESI,EDX
0040c471 : JZ 0x0040c4ee
0040c473 : MOV EAX,dword ptr [EDX + 0x4]
0040c476 : MOV EBX,dword ptr [EAX]
0040c478 : MOV ECX,dword ptr [ESI + 0x4]
0040c47b : MOV EDI,dword ptr [ECX]
0040c47d : MOV dword ptr [EBP + -0x8],EAX
0040c480 : MOV dword ptr [EBP + -0x4],ECX
0040c483 : CMP EBX,EAX
0040c485 : JZ 0x0040c4df
0040c487 : CMP EDI,ECX
0040c489 : JZ 0x0040c4ee
0040c48b : MOVSS XMM0,dword ptr [EDI + 0x8]
0040c490 : COMISS XMM0,dword ptr [EBX + 0x8]
0040c494 : JBE 0x0040c4d9
0040c496 : MOV ESI,dword ptr [EDI]
0040c498 : MOV ECX,0x1
0040c49d : CALL 0x004093f0
0040c4a2 : MOV EAX,dword ptr [EBP + 0xc]
0040c4a5 : DEC dword ptr [EAX + 0x8]
0040c4a8 : MOV EAX,dword ptr [EDI + 0x4]
0040c4ab : MOV dword ptr [EAX],ESI
0040c4ad : MOV ECX,dword ptr [ESI + 0x4]
0040c4b0 : MOV dword ptr [ECX],EBX
0040c4b2 : MOV EDX,dword ptr [EBX + 0x4]
0040c4b5 : MOV dword ptr [EDX],EDI
0040c4b7 : MOV ECX,dword ptr [ESI + 0x4]
0040c4ba : MOV EAX,dword ptr [EBX + 0x4]
0040c4bd : MOV dword ptr [EBX + 0x4],ECX
0040c4c0 : MOV EDX,dword ptr [EDI + 0x4]
0040c4c3 : MOV ECX,dword ptr [EBP + -0x4]
0040c4c6 : MOV dword ptr [ESI + 0x4],EDX
0040c4c9 : MOV EDX,dword ptr [EBP + 0x8]
0040c4cc : MOV dword ptr [EDI + 0x4],EAX
0040c4cf : MOV EAX,dword ptr [EBP + -0x8]
0040c4d2 : MOV EDI,ESI
0040c4d4 : MOV ESI,dword ptr [EBP + 0xc]
0040c4d7 : JMP 0x0040c4db
0040c4d9 : MOV EBX,dword ptr [EBX]
0040c4db : CMP EBX,EAX
0040c4dd : JNZ 0x0040c487
0040c4df : CMP EDI,ECX
0040c4e1 : JZ 0x0040c4ee
0040c4e3 : PUSH ECX
0040c4e4 : PUSH EDI
0040c4e5 : MOV EDI,dword ptr [ESI + 0x8]
0040c4e8 : PUSH EAX
0040c4e9 : CALL 0x0040c340
0040c4ee : POP EDI
0040c4ef : POP ESI
0040c4f0 : POP EBX
0040c4f1 : MOV ESP,EBP
0040c4f3 : POP EBP
0040c4f4 : RET 0xc
