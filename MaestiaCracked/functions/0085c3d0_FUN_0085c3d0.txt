PROGRAM  : Maestia.exe
FUNCTION : FUN_0085c3d0
ENTRY    : 0085c3d0
BODY     : [[0085c3d0, 0085c70c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0085c3d0(void)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  int in_ECX;
  undefined1 local_98 [4];
  undefined2 local_94;
  undefined4 local_84;
  uint local_80;
  undefined1 local_7c [4];
  undefined2 local_78;
  undefined4 local_68;
  uint local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined1 local_38 [4];
  undefined2 local_34;
  undefined4 local_24;
  uint local_20;
  int local_1c;
  int *local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b37dce;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = *(int *)(in_ECX + 0x17f4);
  piVar1 = *(int **)(in_ECX + 1000);
  local_34 = 0;
  local_20 = 7;
  local_24 = 0;
  FUN_00406360(L"DB_SR",5);
  local_8 = 0;
  local_18 = (int *)(**(code **)(**(int **)(in_ECX + 1000) + 0x40))(local_38,uVar2);
  local_8 = 0xffffffff;
  if (7 < local_20) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_20 = 7;
  local_24 = 0;
  local_34 = 0;
  if (local_18 == (int *)0x0) {
    *(undefined4 *)(local_14 + 0x58) = 0;
  }
  else {
    FUN_00406460(L"RightShield");
    local_8 = 1;
    local_50 = 0x3f800000;
    local_4c = 0x3f800000;
    local_48 = 0x3f800000;
    local_60 = 0;
    local_5c = 0;
    local_58 = 0;
    local_54 = 0x3f800000;
    local_44 = 0;
    local_40 = 0;
    local_3c = 0;
    local_1c = (**(code **)(*piVar1 + 0x20))(local_7c,&local_44,&local_60,&local_50);
    local_8 = 0xffffffff;
    if (7 < local_64) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_78 = 0;
    local_64 = 7;
    local_68 = 0;
    *(undefined1 *)(local_1c + 0x25a) = 0;
    FUN_00406460(L"RightShield");
    local_8 = 2;
    (**(code **)(*piVar1 + 0x28))(local_98);
    local_8 = 0xffffffff;
    if (7 < local_80) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_94 = 0;
    local_80 = 7;
    local_84 = 0;
    (**(code **)(*local_18 + 0x24))(local_1c);
    *(int *)(local_14 + 0x58) = local_1c;
  }
  local_20 = 7;
  local_24 = 0;
  local_34 = 0;
  FUN_00406360(L"DB_L",4);
  local_8 = 3;
  local_18 = (int *)(**(code **)(**(int **)(in_ECX + 1000) + 0x40))(local_38);
  local_8 = 0xffffffff;
  if (7 < local_20) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_20 = 7;
  local_24 = 0;
  local_34 = 0;
  if (local_18 != (int *)0x0) {
    FUN_00406460(L"LeftShield");
    local_8 = 4;
    local_44 = 0x3f800000;
    local_40 = 0x3f800000;
    local_3c = 0x3f800000;
    local_60 = 0;
    local_5c = 0;
    local_58 = 0;
    local_54 = 0x3f800000;
    local_50 = 0;
    local_4c = 0;
    local_48 = 0;
    iVar3 = (**(code **)(*piVar1 + 0x20))(local_98,&local_50,&local_60,&local_44);
    local_8 = 0xffffffff;
    if (7 < local_80) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_94 = 0;
    local_80 = 7;
    local_84 = 0;
    *(undefined1 *)(iVar3 + 0x25a) = 0;
    FUN_00406460(L"LeftShield");
    local_8 = 5;
    (**(code **)(*piVar1 + 0x28))(local_7c);
    local_8 = 0xffffffff;
    if (7 < local_64) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_78 = 0;
    local_64 = 7;
    local_68 = 0;
    (**(code **)(*local_18 + 0x24))(iVar3);
    *(int *)(local_14 + 0x5c) = iVar3;
    ExceptionList = local_10;
    return;
  }
  *(undefined4 *)(local_14 + 0x5c) = 0;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0085c3d0 : PUSH EBP
0085c3d1 : MOV EBP,ESP
0085c3d3 : PUSH -0x1
0085c3d5 : PUSH 0xb37dce
0085c3da : MOV EAX,FS:[0x0]
0085c3e0 : PUSH EAX
0085c3e1 : SUB ESP,0x8c
0085c3e7 : PUSH EBX
0085c3e8 : PUSH ESI
0085c3e9 : PUSH EDI
0085c3ea : MOV EAX,[0x00d66fa0]
0085c3ef : XOR EAX,EBP
0085c3f1 : PUSH EAX
0085c3f2 : LEA EAX,[EBP + -0xc]
0085c3f5 : MOV FS:[0x0],EAX
0085c3fb : MOV EDI,ECX
0085c3fd : MOV EAX,dword ptr [EDI + 0x17f4]
0085c403 : MOV ESI,dword ptr [EDI + 0x3e8]
0085c409 : XOR ECX,ECX
0085c40b : PUSH 0x5
0085c40d : MOV word ptr [EBP + -0x30],CX
0085c411 : XOR EBX,EBX
0085c413 : PUSH 0xc3f23c
0085c418 : LEA ECX,[EBP + -0x34]
0085c41b : MOV dword ptr [EBP + -0x10],EAX
0085c41e : MOV dword ptr [EBP + -0x1c],0x7
0085c425 : MOV dword ptr [EBP + -0x20],EBX
0085c428 : CALL 0x00406360
0085c42d : MOV dword ptr [EBP + -0x4],EBX
0085c430 : MOV ECX,dword ptr [EDI + 0x3e8]
0085c436 : MOV EDX,dword ptr [ECX]
0085c438 : MOV EDX,dword ptr [EDX + 0x40]
0085c43b : LEA EAX,[EBP + -0x34]
0085c43e : PUSH EAX
0085c43f : CALL EDX
0085c441 : MOV dword ptr [EBP + -0x14],EAX
0085c444 : MOV dword ptr [EBP + -0x4],0xffffffff
0085c44b : CMP dword ptr [EBP + -0x1c],0x8
0085c44f : JC 0x0085c459
0085c451 : MOV ECX,dword ptr [EBP + -0x30]
0085c454 : CALL 0x006f04e0
0085c459 : XOR EAX,EAX
0085c45b : MOV dword ptr [EBP + -0x1c],0x7
0085c462 : MOV dword ptr [EBP + -0x20],EBX
0085c465 : MOV word ptr [EBP + -0x30],AX
0085c469 : CMP dword ptr [EBP + -0x14],EBX
0085c46c : JZ 0x0085c578
0085c472 : PUSH 0xc3f248
0085c477 : LEA ECX,[EBP + -0x78]
0085c47a : CALL 0x00406460
0085c47f : MOV dword ptr [EBP + -0x4],0x1
0085c486 : XORPS XMM0,XMM0
0085c489 : MOVSS XMM1,dword ptr [0x00c10fc4]
0085c491 : MOV EDX,dword ptr [ESI]
0085c493 : MOV EDX,dword ptr [EDX + 0x20]
0085c496 : LEA EAX,[EBP + -0x4c]
0085c499 : PUSH EAX
0085c49a : LEA ECX,[EBP + -0x5c]
0085c49d : PUSH ECX
0085c49e : LEA EAX,[EBP + -0x40]
0085c4a1 : PUSH EAX
0085c4a2 : LEA ECX,[EBP + -0x78]
0085c4a5 : PUSH ECX
0085c4a6 : MOV ECX,ESI
0085c4a8 : MOVSS dword ptr [EBP + -0x4c],XMM1
0085c4ad : MOVSS dword ptr [EBP + -0x48],XMM1
0085c4b2 : MOVSS dword ptr [EBP + -0x44],XMM1
0085c4b7 : MOVSS dword ptr [EBP + -0x5c],XMM0
0085c4bc : MOVSS dword ptr [EBP + -0x58],XMM0
0085c4c1 : MOVSS dword ptr [EBP + -0x54],XMM0
0085c4c6 : MOVSS dword ptr [EBP + -0x50],XMM1
0085c4cb : MOVSS dword ptr [EBP + -0x40],XMM0
0085c4d0 : MOVSS dword ptr [EBP + -0x3c],XMM0
0085c4d5 : MOVSS dword ptr [EBP + -0x38],XMM0
0085c4da : CALL EDX
0085c4dc : MOV dword ptr [EBP + -0x18],EAX
0085c4df : MOV dword ptr [EBP + -0x4],0xffffffff
0085c4e6 : CMP dword ptr [EBP + -0x60],0x8
0085c4ea : JC 0x0085c4f4
0085c4ec : MOV ECX,dword ptr [EBP + -0x74]
0085c4ef : CALL 0x006f04e0
0085c4f4 : MOV ECX,dword ptr [EBP + -0x18]
0085c4f7 : XOR EAX,EAX
0085c4f9 : MOV word ptr [EBP + -0x74],AX
0085c4fd : MOV dword ptr [EBP + -0x60],0x7
0085c504 : MOV dword ptr [EBP + -0x64],EBX
0085c507 : MOV byte ptr [ECX + 0x25a],BL
0085c50d : PUSH 0xc3f260
0085c512 : LEA ECX,[EBP + 0xffffff6c]
0085c518 : CALL 0x00406460
0085c51d : MOV dword ptr [EBP + -0x4],0x2
0085c524 : MOV EDX,dword ptr [ESI]
0085c526 : MOV EDX,dword ptr [EDX + 0x28]
0085c529 : LEA EAX,[EBP + 0xffffff6c]
0085c52f : PUSH EAX
0085c530 : MOV ECX,ESI
0085c532 : CALL EDX
0085c534 : MOV dword ptr [EBP + -0x4],0xffffffff
0085c53b : CMP dword ptr [EBP + -0x7c],0x8
0085c53f : JC 0x0085c54c
0085c541 : MOV ECX,dword ptr [EBP + 0xffffff70]
0085c547 : CALL 0x006f04e0
0085c54c : MOV ECX,dword ptr [EBP + -0x14]
0085c54f : MOV EDX,dword ptr [ECX]
0085c551 : MOV EDX,dword ptr [EDX + 0x24]
0085c554 : XOR EAX,EAX
0085c556 : MOV word ptr [EBP + 0xffffff70],AX
0085c55d : MOV EAX,dword ptr [EBP + -0x18]
0085c560 : PUSH EAX
0085c561 : MOV dword ptr [EBP + -0x7c],0x7
0085c568 : MOV dword ptr [EBP + -0x80],EBX
0085c56b : CALL EDX
0085c56d : MOV EAX,dword ptr [EBP + -0x18]
0085c570 : MOV ECX,dword ptr [EBP + -0x10]
0085c573 : MOV dword ptr [ECX + 0x58],EAX
0085c576 : JMP 0x0085c57e
0085c578 : MOV EDX,dword ptr [EBP + -0x10]
0085c57b : MOV dword ptr [EDX + 0x58],EBX
0085c57e : PUSH 0x4
0085c580 : XOR EAX,EAX
0085c582 : PUSH 0xc3f278
0085c587 : LEA ECX,[EBP + -0x34]
0085c58a : MOV dword ptr [EBP + -0x1c],0x7
0085c591 : MOV dword ptr [EBP + -0x20],EBX
0085c594 : MOV word ptr [EBP + -0x30],AX
0085c598 : CALL 0x00406360
0085c59d : MOV dword ptr [EBP + -0x4],0x3
0085c5a4 : MOV EDI,dword ptr [EDI + 0x3e8]
0085c5aa : MOV EDX,dword ptr [EDI]
0085c5ac : MOV EDX,dword ptr [EDX + 0x40]
0085c5af : LEA EAX,[EBP + -0x34]
0085c5b2 : PUSH EAX
0085c5b3 : MOV ECX,EDI
0085c5b5 : CALL EDX
0085c5b7 : MOV EDI,EAX
0085c5b9 : MOV dword ptr [EBP + -0x14],EDI
0085c5bc : MOV dword ptr [EBP + -0x4],0xffffffff
0085c5c3 : CMP dword ptr [EBP + -0x1c],0x8
0085c5c7 : JC 0x0085c5d1
0085c5c9 : MOV ECX,dword ptr [EBP + -0x30]
0085c5cc : CALL 0x006f04e0
0085c5d1 : XOR EAX,EAX
0085c5d3 : MOV dword ptr [EBP + -0x1c],0x7
0085c5da : MOV dword ptr [EBP + -0x20],EBX
0085c5dd : MOV word ptr [EBP + -0x30],AX
0085c5e1 : CMP EDI,EBX
0085c5e3 : JZ 0x0085c6f5
0085c5e9 : PUSH 0xc3f284
0085c5ee : LEA ECX,[EBP + 0xffffff6c]
0085c5f4 : CALL 0x00406460
0085c5f9 : MOV dword ptr [EBP + -0x4],0x4
0085c600 : XORPS XMM0,XMM0
0085c603 : MOVSS XMM1,dword ptr [0x00c10fc4]
0085c60b : MOV EDX,dword ptr [ESI]
0085c60d : MOV EDX,dword ptr [EDX + 0x20]
0085c610 : LEA EAX,[EBP + -0x40]
0085c613 : PUSH EAX
0085c614 : LEA ECX,[EBP + -0x5c]
0085c617 : PUSH ECX
0085c618 : LEA EAX,[EBP + -0x4c]
0085c61b : PUSH EAX
0085c61c : LEA ECX,[EBP + 0xffffff6c]
0085c622 : PUSH ECX
0085c623 : MOV ECX,ESI
0085c625 : MOVSS dword ptr [EBP + -0x40],XMM1
0085c62a : MOVSS dword ptr [EBP + -0x3c],XMM1
0085c62f : MOVSS dword ptr [EBP + -0x38],XMM1
0085c634 : MOVSS dword ptr [EBP + -0x5c],XMM0
0085c639 : MOVSS dword ptr [EBP + -0x58],XMM0
0085c63e : MOVSS dword ptr [EBP + -0x54],XMM0
0085c643 : MOVSS dword ptr [EBP + -0x50],XMM1
0085c648 : MOVSS dword ptr [EBP + -0x4c],XMM0
0085c64d : MOVSS dword ptr [EBP + -0x48],XMM0
0085c652 : MOVSS dword ptr [EBP + -0x44],XMM0
0085c657 : CALL EDX
0085c659 : MOV EDI,EAX
0085c65b : MOV dword ptr [EBP + -0x4],0xffffffff
0085c662 : CMP dword ptr [EBP + -0x7c],0x8
0085c666 : JC 0x0085c673
0085c668 : MOV ECX,dword ptr [EBP + 0xffffff70]
0085c66e : CALL 0x006f04e0
0085c673 : XOR EAX,EAX
0085c675 : MOV word ptr [EBP + 0xffffff70],AX
0085c67c : MOV dword ptr [EBP + -0x7c],0x7
0085c683 : MOV dword ptr [EBP + -0x80],EBX
0085c686 : PUSH 0xc3f29c
0085c68b : LEA ECX,[EBP + -0x78]
0085c68e : MOV byte ptr [EDI + 0x25a],BL
0085c694 : CALL 0x00406460
0085c699 : MOV dword ptr [EBP + -0x4],0x5
0085c6a0 : MOV EDX,dword ptr [ESI]
0085c6a2 : MOV EDX,dword ptr [EDX + 0x28]
0085c6a5 : LEA EAX,[EBP + -0x78]
0085c6a8 : PUSH EAX
0085c6a9 : MOV ECX,ESI
0085c6ab : CALL EDX
0085c6ad : MOV dword ptr [EBP + -0x4],0xffffffff
0085c6b4 : CMP dword ptr [EBP + -0x60],0x8
0085c6b8 : JC 0x0085c6c2
0085c6ba : MOV ECX,dword ptr [EBP + -0x74]
0085c6bd : CALL 0x006f04e0
0085c6c2 : MOV ECX,dword ptr [EBP + -0x14]
0085c6c5 : MOV EDX,dword ptr [ECX]
0085c6c7 : XOR EAX,EAX
0085c6c9 : MOV word ptr [EBP + -0x74],AX
0085c6cd : MOV EAX,dword ptr [EDX + 0x24]
0085c6d0 : PUSH EDI
0085c6d1 : MOV dword ptr [EBP + -0x60],0x7
0085c6d8 : MOV dword ptr [EBP + -0x64],EBX
0085c6db : CALL EAX
0085c6dd : MOV ECX,dword ptr [EBP + -0x10]
0085c6e0 : MOV dword ptr [ECX + 0x5c],EDI
0085c6e3 : MOV ECX,dword ptr [EBP + -0xc]
0085c6e6 : MOV dword ptr FS:[0x0],ECX
0085c6ed : POP ECX
0085c6ee : POP EDI
0085c6ef : POP ESI
0085c6f0 : POP EBX
0085c6f1 : MOV ESP,EBP
0085c6f3 : POP EBP
0085c6f4 : RET
0085c6f5 : MOV EDX,dword ptr [EBP + -0x10]
0085c6f8 : MOV dword ptr [EDX + 0x5c],EBX
0085c6fb : MOV ECX,dword ptr [EBP + -0xc]
0085c6fe : MOV dword ptr FS:[0x0],ECX
0085c705 : POP ECX
0085c706 : POP EDI
0085c707 : POP ESI
0085c708 : POP EBX
0085c709 : MOV ESP,EBP
0085c70b : POP EBP
0085c70c : RET
