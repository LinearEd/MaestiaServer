PROGRAM  : Maestia.exe
FUNCTION : FUN_0057e050
ENTRY    : 0057e050
BODY     : [[0057e050, 0057e0ad]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0057e050(undefined4 param_1,char *param_2,uint param_3)

{
  char cVar1;
  char *pcVar2;
  uint uVar3;
  LONG LVar4;
  
  uVar3 = param_3;
  if (param_3 == 0xffffffff) {
    pcVar2 = param_2;
    do {
      cVar1 = *pcVar2;
      pcVar2 = pcVar2 + 1;
    } while (cVar1 != '\0');
    uVar3 = (int)pcVar2 - (int)(param_2 + 1);
  }
  FUN_0051c570(param_2,uVar3);
  FUN_0057dfa0(param_1,&param_3);
  uVar3 = param_3 & 0xfffffffc;
  LVar4 = InterlockedExchangeAdd((LONG *)(uVar3 + 4),-1);
  if (LVar4 == 1) {
    FUN_00515cf0(uVar3);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0057e050 : MOV EAX,dword ptr [ESP + 0xc]
0057e054 : MOV EDX,dword ptr [ESP + 0x8]
0057e058 : PUSH ESI
0057e059 : PUSH EDI
0057e05a : MOV EDI,ECX
0057e05c : CMP EAX,-0x1
0057e05f : JNZ 0x0057e06f
0057e061 : MOV EAX,EDX
0057e063 : LEA ESI,[EAX + 0x1]
0057e066 : MOV CL,byte ptr [EAX]
0057e068 : INC EAX
0057e069 : TEST CL,CL
0057e06b : JNZ 0x0057e066
0057e06d : SUB EAX,ESI
0057e06f : PUSH EAX
0057e070 : PUSH EDX
0057e071 : LEA ECX,[ESP + 0x1c]
0057e075 : CALL 0x0051c570
0057e07a : MOV ECX,dword ptr [ESP + 0xc]
0057e07e : LEA EAX,[ESP + 0x14]
0057e082 : PUSH EAX
0057e083 : PUSH ECX
0057e084 : MOV ECX,EDI
0057e086 : CALL 0x0057dfa0
0057e08b : MOV ESI,dword ptr [ESP + 0x14]
0057e08f : AND ESI,0xfffffffc
0057e092 : PUSH -0x1
0057e094 : LEA EDX,[ESI + 0x4]
0057e097 : PUSH EDX
0057e098 : CALL dword ptr [0x00b851cc]
0057e09e : SUB EAX,0x1
0057e0a1 : JNZ 0x0057e0a9
0057e0a3 : PUSH ESI
0057e0a4 : CALL 0x00515cf0
0057e0a9 : POP EDI
0057e0aa : POP ESI
0057e0ab : RET 0xc
