PROGRAM  : Maestia.exe
FUNCTION : FUN_00593590
ENTRY    : 00593590
BODY     : [[00593590, 00593609]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00593590(undefined4 param_1,int param_2)

{
  int iVar1;
  int in_ECX;
  int unaff_ESI;
  undefined **ppuStack_c;
  int iStack_8;
  undefined4 uStack_4;
  
  FUN_005051f0(param_1,param_2);
  if (param_2 != 0) {
    iVar1 = (**(code **)(*(int *)(param_2 + 0x10) + 8))();
    if (iVar1 != 0xb) {
      iStack_8 = in_ECX + -0x10;
      ppuStack_c = &PTR_FUN_00b8e864;
      if (iStack_8 != 0) {
        *(uint *)(in_ECX + -8) = *(int *)(in_ECX + -8) + 1U & 0x8fffffff;
      }
      uStack_4 = param_1;
      (**(code **)(*(int *)(*(int *)(in_ECX + 4) + 0x10) + 0x20))(param_1,&ppuStack_c,5);
      if (unaff_ESI != 0) {
        FUN_00503db0();
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00593590 : SUB ESP,0xc
00593593 : PUSH EBX
00593594 : MOV EBX,dword ptr [ESP + 0x18]
00593598 : PUSH ESI
00593599 : PUSH EDI
0059359a : MOV EDI,dword ptr [ESP + 0x1c]
0059359e : PUSH EBX
0059359f : PUSH EDI
005935a0 : MOV ESI,ECX
005935a2 : CALL 0x005051f0
005935a7 : TEST EBX,EBX
005935a9 : JZ 0x00593601
005935ab : MOV EAX,dword ptr [EBX + 0x10]
005935ae : MOV EDX,dword ptr [EAX + 0x8]
005935b1 : LEA ECX,[EBX + 0x10]
005935b4 : CALL EDX
005935b6 : CMP EAX,0xb
005935b9 : JZ 0x00593601
005935bb : LEA EAX,[ESI + -0x10]
005935be : MOV dword ptr [ESP + 0xc],0xb8e864
005935c6 : TEST EAX,EAX
005935c8 : JZ 0x005935d7
005935ca : MOV ECX,dword ptr [EAX + 0x8]
005935cd : INC ECX
005935ce : AND ECX,0x8fffffff
005935d4 : MOV dword ptr [EAX + 0x8],ECX
005935d7 : MOV ESI,dword ptr [ESI + 0x4]
005935da : MOV dword ptr [ESP + 0x10],EAX
005935de : PUSH 0x5
005935e0 : LEA ECX,[ESI + 0x10]
005935e3 : LEA EAX,[ESP + 0x10]
005935e7 : MOV dword ptr [ESP + 0x18],EDI
005935eb : MOV EDX,dword ptr [ECX]
005935ed : MOV EDX,dword ptr [EDX + 0x20]
005935f0 : PUSH EAX
005935f1 : PUSH EDI
005935f2 : CALL EDX
005935f4 : MOV ECX,dword ptr [ESP + 0x10]
005935f8 : TEST ECX,ECX
005935fa : JZ 0x00593601
005935fc : CALL 0x00503db0
00593601 : POP EDI
00593602 : POP ESI
00593603 : POP EBX
00593604 : ADD ESP,0xc
00593607 : RET 0x8
