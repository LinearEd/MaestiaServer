PROGRAM  : Maestia.exe
FUNCTION : FUN_0046a520
ENTRY    : 0046a520
BODY     : [[0046a520, 0046a750]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0046a520(undefined4 param_1,float param_2)

{
  int iVar1;
  char cVar2;
  undefined8 *puVar3;
  undefined4 unaff_ESI;
  undefined4 unaff_EDI;
  double dVar4;
  double dVar5;
  undefined8 uVar6;
  ulonglong uVar7;
  float fStack_78;
  float fStack_74;
  float fStack_70;
  float fStack_6c;
  float fStack_68;
  float fStack_64;
  float fStack_60;
  uint uStack_58;
  float fStack_54;
  undefined1 auStack_50 [4];
  float fStack_4c;
  float fStack_48;
  undefined4 uStack_44;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  float fStack_28;
  undefined4 uStack_24;
  
  param_2 = param_2 + 3.1415927;
  uVar6 = CONCAT44(unaff_ESI,unaff_EDI);
  cVar2 = (**(code **)(*(int *)PTR_DAT_00d6df20 + 4))();
  if (cVar2 != '\0') {
    param_2 = 3.1415927 - param_2;
  }
  puVar3 = (undefined8 *)(**(code **)(*(int *)PTR_DAT_00d6df20 + 0x1c))(uVar6);
  uVar6 = *puVar3;
  iVar1 = *(int *)PTR_DAT_00d6df20;
  dVar4 = (double)param_2;
  FUN_0063ef0d(0);
  dVar5 = (double)param_2;
  FUN_0063ed62((float)dVar4);
  (**(code **)(iVar1 + 0x10))(&uStack_58,(float)dVar5);
  fStack_60 = (float)((ulonglong)uVar6 >> 0x20);
  fStack_64 = (float)uVar6;
  fStack_78 = fStack_74 * fStack_64 - fStack_70 * fStack_68;
  uVar7 = CONCAT44(fStack_6c * fStack_68 - fStack_74 * fStack_60,
                   fStack_70 * fStack_60 - fStack_6c * fStack_64);
  cVar2 = (**(code **)(*(int *)PTR_DAT_00d6df20 + 8))();
  if (cVar2 == '\0') {
LAB_0046a645:
    cVar2 = (**(code **)(*(int *)PTR_DAT_00d6df20 + 8))();
    if (cVar2 != '\0') goto LAB_0046a6b0;
    cVar2 = (**(code **)(*(int *)PTR_DAT_00d6df20 + 4))();
    if (cVar2 == '\0') goto LAB_0046a6b0;
  }
  else {
    cVar2 = (**(code **)(*(int *)PTR_DAT_00d6df20 + 4))();
    if (cVar2 != '\0') goto LAB_0046a645;
  }
  uStack_58 = (uint)(uVar7 >> 0x20) ^ 0x80000000;
  fStack_78 = -fStack_78;
  uVar7 = uVar7 ^ 0x8000000080000000;
  fStack_54 = fStack_78;
LAB_0046a6b0:
  uStack_30 = (undefined4)uVar7;
  fStack_4c = fStack_64;
  uStack_2c = (undefined4)(uVar7 >> 0x20);
  fStack_48 = fStack_60;
  uStack_44 = 0;
  uStack_34 = 0;
  fStack_28 = fStack_78;
  uStack_24 = 0;
  FUN_0046c300(auStack_50);
  return;
}



============================================================
DISASSEMBLY
============================================================
0046a520 : PUSH EBP
0046a521 : MOV EBP,ESP
0046a523 : AND ESP,0xfffffff0
0046a526 : MOV ECX,dword ptr [0x00d6df20]
0046a52c : MOVSS XMM0,dword ptr [EBP + 0xc]
0046a531 : MOV EAX,dword ptr [ECX]
0046a533 : ADDSS XMM0,dword ptr [0x00c187b4]
0046a53b : MOV EDX,dword ptr [EAX + 0x4]
0046a53e : SUB ESP,0x68
0046a541 : PUSH ESI
0046a542 : PUSH EDI
0046a543 : MOVSS dword ptr [EBP + 0xc],XMM0
0046a548 : CALL EDX
0046a54a : TEST AL,AL
0046a54c : JZ 0x0046a560
0046a54e : MOVSS XMM0,dword ptr [0x00c187b4]
0046a556 : SUBSS XMM0,dword ptr [EBP + 0xc]
0046a55b : MOVSS dword ptr [EBP + 0xc],XMM0
0046a560 : MOV ECX,dword ptr [0x00d6df20]
0046a566 : MOV EAX,dword ptr [ECX]
0046a568 : MOV EDX,dword ptr [EAX + 0x1c]
0046a56b : CALL EDX
0046a56d : FLDZ
0046a56f : MOVQ XMM0,qword ptr [EAX]
0046a573 : MOV EAX,dword ptr [EAX + 0x8]
0046a576 : MOV ESI,dword ptr [0x00d6df20]
0046a57c : MOV EDI,dword ptr [ESI]
0046a57e : PUSH ECX
0046a57f : MOVQ qword ptr [ESP + 0x20],XMM0
0046a585 : FSTP float ptr [ESP]
0046a588 : CVTSS2SD XMM0,dword ptr [EBP + 0xc]
0046a58d : MOV dword ptr [ESP + 0x28],EAX
0046a591 : CALL 0x0063ef0d
0046a596 : CVTSD2SS XMM0,XMM0
0046a59a : PUSH ECX
0046a59b : MOVSS dword ptr [ESP],XMM0
0046a5a0 : CVTSS2SD XMM0,dword ptr [EBP + 0xc]
0046a5a5 : CALL 0x0063ed62
0046a5aa : MOV EDX,dword ptr [EDI + 0x10]
0046a5ad : PUSH ECX
0046a5ae : CVTSD2SS XMM0,XMM0
0046a5b2 : LEA ECX,[ESP + 0x34]
0046a5b6 : MOVSS dword ptr [ESP],XMM0
0046a5bb : PUSH ECX
0046a5bc : MOV ECX,ESI
0046a5be : CALL EDX
0046a5c0 : MOVSS XMM5,dword ptr [ESP + 0x20]
0046a5c6 : MOVSS XMM1,dword ptr [ESP + 0x24]
0046a5cc : MOVSS XMM2,dword ptr [ESP + 0x30]
0046a5d2 : MOVSS XMM3,dword ptr [ESP + 0x2c]
0046a5d8 : MOV ECX,dword ptr [0x00d6df20]
0046a5de : MOV EAX,dword ptr [ECX]
0046a5e0 : MOV EDX,dword ptr [EAX + 0x8]
0046a5e3 : MOVAPS XMM4,XMM1
0046a5e6 : MOVAPS XMM0,XMM5
0046a5e9 : MULSS XMM0,XMM2
0046a5ed : MULSS XMM4,XMM3
0046a5f1 : SUBSS XMM0,XMM4
0046a5f5 : MOVSS XMM4,dword ptr [ESP + 0x28]
0046a5fb : MOVSS dword ptr [ESP + 0x10],XMM0
0046a601 : MOVSS XMM0,dword ptr [ESP + 0x1c]
0046a607 : MOVAPS XMM6,XMM0
0046a60a : MULSS XMM1,XMM4
0046a60e : MULSS XMM6,XMM2
0046a612 : MULSS XMM0,XMM3
0046a616 : MULSS XMM5,XMM4
0046a61a : SUBSS XMM1,XMM6
0046a61e : SUBSS XMM0,XMM5
0046a622 : MOVSS dword ptr [ESP + 0x14],XMM1
0046a628 : MOVSS dword ptr [ESP + 0x18],XMM0
0046a62e : CALL EDX
0046a630 : TEST AL,AL
0046a632 : JZ 0x0046a645
0046a634 : MOV ECX,dword ptr [0x00d6df20]
0046a63a : MOV EAX,dword ptr [ECX]
0046a63c : MOV EDX,dword ptr [EAX + 0x4]
0046a63f : CALL EDX
0046a641 : TEST AL,AL
0046a643 : JZ 0x0046a667
0046a645 : MOV ECX,dword ptr [0x00d6df20]
0046a64b : MOV EAX,dword ptr [ECX]
0046a64d : MOV EDX,dword ptr [EAX + 0x8]
0046a650 : CALL EDX
0046a652 : TEST AL,AL
0046a654 : JNZ 0x0046a6b0
0046a656 : MOV ECX,dword ptr [0x00d6df20]
0046a65c : MOV EAX,dword ptr [ECX]
0046a65e : MOV EDX,dword ptr [EAX + 0x4]
0046a661 : CALL EDX
0046a663 : TEST AL,AL
0046a665 : JZ 0x0046a6b0
0046a667 : MOVSS XMM0,dword ptr [0x00cdf0c0]
0046a66f : MOVSS XMM1,dword ptr [ESP + 0x10]
0046a675 : XORPS XMM1,XMM0
0046a678 : MOVSS dword ptr [ESP + 0x34],XMM1
0046a67e : MOVSS XMM1,dword ptr [ESP + 0x14]
0046a684 : XORPS XMM1,XMM0
0046a687 : MOVSS dword ptr [ESP + 0x38],XMM1
0046a68d : MOVSS XMM1,dword ptr [ESP + 0x18]
0046a693 : XORPS XMM1,XMM0
0046a696 : MOVQ XMM0,qword ptr [ESP + 0x34]
0046a69c : MOVSS dword ptr [ESP + 0x3c],XMM1
0046a6a2 : MOV EAX,dword ptr [ESP + 0x3c]
0046a6a6 : MOVQ qword ptr [ESP + 0x10],XMM0
0046a6ac : MOV dword ptr [ESP + 0x18],EAX
0046a6b0 : MOVSS XMM1,dword ptr [ESP + 0x1c]
0046a6b6 : MOVSS XMM0,dword ptr [ESP + 0x28]
0046a6bc : MOV ESI,dword ptr [EBP + 0x8]
0046a6bf : MOVSS dword ptr [ESP + 0x50],XMM1
0046a6c5 : MOVSS XMM1,dword ptr [ESP + 0x20]
0046a6cb : MOVSS dword ptr [ESP + 0x54],XMM1
0046a6d1 : MOVSS XMM1,dword ptr [ESP + 0x24]
0046a6d7 : MOVSS dword ptr [ESP + 0x40],XMM0
0046a6dd : MOVSS XMM0,dword ptr [ESP + 0x2c]
0046a6e3 : MOVSS dword ptr [ESP + 0x58],XMM1
0046a6e9 : MOVSS XMM1,dword ptr [ESP + 0x10]
0046a6ef : MOVSS dword ptr [ESP + 0x44],XMM0
0046a6f5 : MOVSS XMM0,dword ptr [ESP + 0x30]
0046a6fb : MOVSS dword ptr [ESP + 0x60],XMM1
0046a701 : MOVSS XMM1,dword ptr [ESP + 0x14]
0046a707 : LEA ECX,[ESP + 0x40]
0046a70b : MOVSS dword ptr [ESP + 0x48],XMM0
0046a711 : XORPS XMM0,XMM0
0046a714 : MOVSS dword ptr [ESP + 0x64],XMM1
0046a71a : MOVSS XMM1,dword ptr [ESP + 0x18]
0046a720 : PUSH ECX
0046a721 : ADD ESI,0x58fc
0046a727 : MOV EDI,0x3
0046a72c : MOVSS dword ptr [ESP + 0x50],XMM0
0046a732 : MOVSS dword ptr [ESP + 0x60],XMM0
0046a738 : MOVSS dword ptr [ESP + 0x6c],XMM1
0046a73e : MOVSS dword ptr [ESP + 0x70],XMM0
0046a744 : CALL 0x0046c300
0046a749 : POP EDI
0046a74a : POP ESI
0046a74b : MOV ESP,EBP
0046a74d : POP EBP
0046a74e : RET 0x8
