PROGRAM  : Maestia.exe
FUNCTION : FUN_009809e0
ENTRY    : 009809e0
BODY     : [[009809e0, 00980a1c] [00980a20, 00980aba]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009809e0(uint param_1)

{
  int *piVar1;
  uint uVar2;
  float *pfVar3;
  float *in_EDX;
  undefined4 *puVar4;
  
  uVar2 = param_1;
  if ((*(int *)(param_1 + 0x13c) - *(int *)(param_1 + 0x138) & 0xfffffff0U) != 0) {
    puVar4 = *(undefined4 **)(param_1 + 0x138);
    if (puVar4 != *(undefined4 **)(param_1 + 0x13c)) {
      pfVar3 = (float *)(puVar4 + 3);
      while (((pfVar3[-2] != *in_EDX || (pfVar3[-1] != in_EDX[1])) || (*pfVar3 != in_EDX[2]))) {
        puVar4 = puVar4 + 4;
        pfVar3 = pfVar3 + 4;
        if (puVar4 == *(undefined4 **)(param_1 + 0x13c)) {
          return;
        }
      }
      if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0))
      {
        (**(code **)(*piVar1 + 4))(piVar1,"zonemap.DeleteMovePoint",&DAT_00c801c4,*puVar4);
      }
      param_1 = param_1 & 0xffffff00;
      FUN_00424ee0(param_1,param_1,param_1);
      *(int *)(uVar2 + 0x13c) = *(int *)(uVar2 + 0x13c) + -0x10;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009809e0 : PUSH EBP
009809e1 : MOV EBP,ESP
009809e3 : PUSH EBX
009809e4 : MOV EBX,dword ptr [EBP + 0x8]
009809e7 : MOV EAX,dword ptr [EBX + 0x13c]
009809ed : SUB EAX,dword ptr [EBX + 0x138]
009809f3 : TEST EAX,0xfffffff0
009809f8 : JZ 0x00980ab6
009809fe : PUSH ESI
009809ff : MOV ESI,dword ptr [EBX + 0x138]
00980a05 : PUSH EDI
00980a06 : MOV EDI,dword ptr [EBX + 0x13c]
00980a0c : CMP ESI,EDI
00980a0e : JZ 0x00980ab4
00980a14 : MOVSS XMM0,dword ptr [EDX]
00980a18 : LEA ECX,[ESI + 0xc]
00980a1b : JMP 0x00980a20
00980a20 : MOVSS XMM1,dword ptr [ECX + -0x8]
00980a25 : UCOMISS XMM1,XMM0
00980a28 : LAHF
00980a29 : TEST AH,0x44
00980a2c : JP 0x00980a4b
00980a2e : MOVSS XMM1,dword ptr [ECX + -0x4]
00980a33 : UCOMISS XMM1,dword ptr [EDX + 0x4]
00980a37 : LAHF
00980a38 : TEST AH,0x44
00980a3b : JP 0x00980a4b
00980a3d : MOVSS XMM1,dword ptr [ECX]
00980a41 : UCOMISS XMM1,dword ptr [EDX + 0x8]
00980a45 : LAHF
00980a46 : TEST AH,0x44
00980a49 : JNP 0x00980a5c
00980a4b : ADD ESI,0x10
00980a4e : ADD ECX,0x10
00980a51 : CMP ESI,EDI
00980a53 : JNZ 0x00980a20
00980a55 : POP EDI
00980a56 : POP ESI
00980a57 : POP EBX
00980a58 : POP EBP
00980a59 : RET 0x4
00980a5c : MOV ECX,dword ptr [0x00da9894]
00980a62 : MOV EAX,dword ptr [ECX]
00980a64 : TEST EAX,EAX
00980a66 : JZ 0x00980a8a
00980a68 : MOV EAX,dword ptr [EAX + 0x114]
00980a6e : TEST EAX,EAX
00980a70 : JZ 0x00980a8a
00980a72 : MOV ECX,dword ptr [ESI]
00980a74 : MOV EDX,dword ptr [EAX]
00980a76 : MOV EDX,dword ptr [EDX + 0x4]
00980a79 : PUSH ECX
00980a7a : PUSH 0xc801c4
00980a7f : PUSH 0xc801c8
00980a84 : PUSH EAX
00980a85 : CALL EDX
00980a87 : ADD ESP,0x10
00980a8a : MOV EDI,dword ptr [EBX + 0x13c]
00980a90 : MOV byte ptr [EBP + 0x8],0x0
00980a94 : MOV EAX,dword ptr [EBP + 0x8]
00980a97 : MOV ECX,dword ptr [EBP + 0x8]
00980a9a : MOV EDX,dword ptr [EBP + 0x8]
00980a9d : PUSH EAX
00980a9e : PUSH ECX
00980a9f : PUSH EDX
00980aa0 : LEA ECX,[ESI + 0x10]
00980aa3 : MOV EAX,ESI
00980aa5 : CALL 0x00424ee0
00980aaa : ADD ESP,0xc
00980aad : ADD dword ptr [EBX + 0x13c],-0x10
00980ab4 : POP EDI
00980ab5 : POP ESI
00980ab6 : POP EBX
00980ab7 : POP EBP
00980ab8 : RET 0x4
