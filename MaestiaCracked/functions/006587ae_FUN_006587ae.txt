PROGRAM  : Maestia.exe
FUNCTION : FUN_006587ae
ENTRY    : 006587ae
BODY     : [[006587ae, 00658956]]

============================================================
DECOMPILED C CODE
============================================================

float10 FUN_006587ae(void)

{
  ushort uVar1;
  int iVar2;
  float10 fVar3;
  double in_XMM0_Qa;
  double dVar4;
  double dVar5;
  double dVar6;
  double dVar7;
  double dVar8;
  double dVar9;
  double dVar10;
  double dVar11;
  double dVar12;
  double dVar13;
  double dVar14;
  double dVar15;
  double dVar16;
  double dVar17;
  
  uVar1 = ((ushort)((ulonglong)in_XMM0_Qa >> 0x30) & 0x7fff) + 0xcfd0;
  if (uVar1 < 0x10c6) {
    dVar9 = (in_XMM0_Qa * 10.185916357881302 + 6755399441055744.0) - 6755399441055744.0;
    iVar2 = ((int)ROUND(in_XMM0_Qa * 10.185916357881302) + 0x1c7600U & 0x3f) * 0x20;
    dVar10 = dVar9 * 3.798187816439979e-12;
    dVar4 = in_XMM0_Qa - dVar9 * 0.09817477042088285;
    dVar14 = in_XMM0_Qa - dVar9 * 0.09817477042088285;
    dVar15 = dVar14 - dVar10;
    dVar5 = dVar4 - dVar10;
    dVar7 = dVar4 - dVar9 * 3.798187816439979e-12;
    dVar6 = dVar5 * dVar5;
    dVar8 = dVar7 * dVar7;
    dVar11 = *(double *)(&DAT_00b9dcb0 + iVar2) + *(double *)(&DAT_00b9dcc8 + iVar2);
    dVar12 = *(double *)(&DAT_00b9dcc8 + iVar2) * dVar15;
    dVar16 = dVar15 * *(double *)(&DAT_00b9dcb0 + iVar2);
    dVar13 = dVar12 + *(double *)(&DAT_00b9dcb8 + iVar2);
    dVar17 = dVar16 + dVar13;
    return (float10)(dVar17 + (dVar9 * 1.2639164054974691e-22 - ((dVar14 - dVar15) - dVar10)) *
                              (*(double *)(&DAT_00b9dcb8 + iVar2) * dVar15 - dVar11) +
                              *(double *)(&DAT_00b9dcc0 + iVar2) +
                              (*(double *)(&DAT_00b9dcb8 + iVar2) - dVar13) + dVar12 +
                              (dVar13 - dVar17) + dVar16 +
                              (dVar6 * 0.008333333333333333 + -0.16666666666666666 +
                              (dVar4 * 2.7557319223985893e-06 * dVar5 + -0.0001984126984126984) *
                              dVar6 * dVar6) * dVar11 * dVar15 * dVar6 +
                              (dVar8 * 0.041666666666666664 + -0.5 +
                              (dVar4 * 2.48015873015873e-05 * dVar7 + -0.001388888888888889) *
                              dVar8 * dVar8) * *(double *)(&DAT_00b9dcb8 + iVar2) * dVar8);
  }
  if ((short)uVar1 < 0x10c6) {
    if (uVar1 >> 4 == 0xcfd) {
      return (float10)(in_XMM0_Qa * 0.9999999999999999);
    }
    return (float10)in_XMM0_Qa;
  }
  fVar3 = (float10)FUN_0063b62f();
  return fVar3;
}



============================================================
DISASSEMBLY
============================================================
006587ae : PEXTRW EAX,XMM0,0x3
006587b3 : AND AX,0x7fff
006587b7 : SUB AX,0x3030
006587bb : CMP AX,0x10c5
006587bf : JA 0x00658907
006587c5 : MOVLPD XMM1,qword ptr [0x00b9e4f0]
006587cd : MULSD XMM1,XMM0
006587d1 : MOVLPD XMM2,qword ptr [0x00b9e4f8]
006587d9 : CVTSD2SI EDX,XMM1
006587dd : ADDSD XMM1,XMM2
006587e1 : MOVLPD XMM3,qword ptr [0x00b9e510]
006587e9 : SUBSD XMM1,XMM2
006587ed : MOVAPD XMM2,xmmword ptr [0x00b9e500]
006587f5 : MULSD XMM3,XMM1
006587f9 : UNPCKLPD XMM1,XMM1
006587fd : ADD EDX,0x1c7600
00658803 : MOVSD XMM4,XMM0
00658807 : AND EDX,0x3f
0065880a : MOVAPD XMM5,xmmword ptr [0x00b9e4e0]
00658812 : LEA EAX,[0xb9dcb0]
00658818 : SHL EDX,0x5
0065881b : ADD EAX,EDX
0065881d : MULPD XMM2,XMM1
00658821 : SUBSD XMM0,XMM3
00658825 : MULSD XMM1,qword ptr [0x00b9e518]
0065882d : SUBSD XMM4,XMM3
00658831 : MOVLPD XMM7,qword ptr [EAX + 0x8]
00658836 : UNPCKLPD XMM0,XMM0
0065883a : MOVSD XMM3,XMM4
0065883e : SUBSD XMM4,XMM2
00658842 : MULPD XMM5,XMM0
00658846 : SUBPD XMM0,XMM2
0065884a : MOVAPD XMM6,xmmword ptr [0x00b9e4c0]
00658852 : MULSD XMM7,XMM4
00658856 : SUBSD XMM3,XMM4
0065885a : MULPD XMM5,XMM0
0065885e : MULPD XMM0,XMM0
00658862 : SUBSD XMM3,XMM2
00658866 : MOVAPD XMM2,xmmword ptr [EAX]
0065886a : SUBSD XMM1,XMM3
0065886e : MOVLPD XMM3,qword ptr [EAX + 0x18]
00658873 : ADDSD XMM2,XMM3
00658877 : SUBSD XMM7,XMM2
0065887b : MULSD XMM2,XMM4
0065887f : MULPD XMM6,XMM0
00658883 : MULSD XMM3,XMM4
00658887 : MULPD XMM2,XMM0
0065888b : MULPD XMM0,XMM0
0065888f : ADDPD XMM5,xmmword ptr [0x00b9e4d0]
00658897 : MULSD XMM4,qword ptr [EAX]
0065889b : ADDPD XMM6,xmmword ptr [0x00b9e4b0]
006588a3 : MULPD XMM5,XMM0
006588a7 : MOVSD XMM0,XMM3
006588ab : ADDSD XMM3,qword ptr [EAX + 0x8]
006588b0 : MULSD XMM1,XMM7
006588b4 : MOVSD XMM7,XMM4
006588b8 : ADDSD XMM4,XMM3
006588bc : ADDPD XMM6,XMM5
006588c0 : MOVLPD XMM5,qword ptr [EAX + 0x8]
006588c5 : SUBSD XMM5,XMM3
006588c9 : SUBSD XMM3,XMM4
006588cd : ADDSD XMM1,qword ptr [EAX + 0x10]
006588d2 : MULPD XMM6,XMM2
006588d6 : ADDSD XMM5,XMM0
006588da : ADDSD XMM3,XMM7
006588de : ADDSD XMM1,XMM5
006588e2 : ADDSD XMM1,XMM3
006588e6 : ADDSD XMM1,XMM6
006588ea : UNPCKHPD XMM6,XMM6
006588ee : ADDSD XMM1,XMM6
006588f2 : SUB ESP,0x10
006588f5 : ADDSD XMM4,XMM1
006588f9 : MOVLPD qword ptr [ESP + 0x4],XMM4
006588ff : FLD double ptr [ESP + 0x4]
00658903 : ADD ESP,0x10
00658906 : RET
00658907 : JG 0x00658952
00658909 : SUB ESP,0x10
0065890c : SHR AX,0x4
00658910 : CMP AX,0xcfd
00658914 : JNZ 0x0065892c
00658916 : MULSD XMM0,qword ptr [0x00b9e530]
0065891e : MOVLPD qword ptr [ESP + 0x4],XMM0
00658924 : FLD double ptr [ESP + 0x4]
00658928 : ADD ESP,0x10
0065892b : RET
0065892c : MOVLPD XMM3,qword ptr [0x00b9e520]
00658934 : MULSD XMM3,XMM0
00658938 : SUBSD XMM3,XMM0
0065893c : MULSD XMM3,qword ptr [0x00b9e528]
00658944 : MOVLPD qword ptr [ESP + 0x4],XMM0
0065894a : FLD double ptr [ESP + 0x4]
0065894e : ADD ESP,0x10
00658951 : RET
00658952 : JMP 0x0063b62f
