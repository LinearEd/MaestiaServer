PROGRAM  : Maestia.exe
FUNCTION : FUN_005047b0
ENTRY    : 005047b0
BODY     : [[005047b0, 00504891]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005047b0(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  undefined1 auStack_2c [44];
  
  if ((*(int *)(param_1 + 8) != 0) &&
     (iVar1 = (**(code **)(**(int **)(param_1 + 8) + 8))(), iVar1 == 4)) {
    if (*(int *)(param_1 + 8) == 0) {
      iVar1 = 0;
    }
    else {
      iVar1 = *(int *)(param_1 + 8) + -0x68;
    }
    if (((*(int **)(iVar1 + 0xd0) == (int *)0x0) || (**(int **)(iVar1 + 0xd0) == 0)) &&
       (0 < *(int *)(param_1 + 0x1c))) {
      uVar3 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(0);
      iVar1 = FUN_00526fa0(uVar3);
      if ((iVar1 != 0) && (iVar2 = (**(code **)(*(int *)(iVar1 + 0x10) + 8))(), iVar2 == 0x1e)) {
        uVar3 = FUN_0055fca0(auStack_2c,iVar1 + 0x30);
        FUN_0053f7c0(uVar3);
        FUN_00504260();
        uVar3 = FUN_0055f330(auStack_2c,iVar1 + 0x5c);
        FUN_0053f8a0(uVar3);
        FUN_005008c0();
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005047b0 : SUB ESP,0x2c
005047b3 : PUSH EDI
005047b4 : MOV EDI,dword ptr [ESP + 0x34]
005047b8 : CMP dword ptr [EDI + 0x8],0x0
005047bc : JZ 0x0050488d
005047c2 : MOV ECX,dword ptr [EDI + 0x8]
005047c5 : MOV EAX,dword ptr [ECX]
005047c7 : MOV EDX,dword ptr [EAX + 0x8]
005047ca : CALL EDX
005047cc : CMP EAX,0x4
005047cf : JNZ 0x0050488d
005047d5 : MOV EAX,dword ptr [EDI + 0x8]
005047d8 : PUSH ESI
005047d9 : TEST EAX,EAX
005047db : JZ 0x005047e2
005047dd : LEA ESI,[EAX + -0x68]
005047e0 : JMP 0x005047e4
005047e2 : XOR ESI,ESI
005047e4 : MOV EAX,dword ptr [ESI + 0xd0]
005047ea : TEST EAX,EAX
005047ec : JZ 0x005047f7
005047ee : CMP dword ptr [EAX],0x0
005047f1 : JNZ 0x0050488c
005047f7 : CMP dword ptr [EDI + 0x1c],0x1
005047fb : JL 0x0050488c
00504801 : MOV EAX,dword ptr [EDI + 0x18]
00504804 : PUSH EAX
00504805 : PUSH 0x0
00504807 : MOV ECX,EDI
00504809 : CALL 0x00526260
0050480e : MOV ECX,EAX
00504810 : CALL 0x00526fa0
00504815 : MOV EDI,EAX
00504817 : TEST EDI,EDI
00504819 : JZ 0x0050488c
0050481b : MOV EDX,dword ptr [EDI + 0x10]
0050481e : MOV EAX,dword ptr [EDX + 0x8]
00504821 : LEA ECX,[EDI + 0x10]
00504824 : CALL EAX
00504826 : CMP EAX,0x1e
00504829 : JNZ 0x0050488c
0050482b : MOV ECX,dword ptr [ESI + 0xa0]
00504831 : MOV EAX,dword ptr [ECX + 0xc]
00504834 : MOV ECX,dword ptr [EAX + 0x1c]
00504837 : PUSH EBX
00504838 : MOV EBX,dword ptr [EAX + 0x18]
0050483b : PUSH EBP
0050483c : MOV EBP,dword ptr [ESI + 0xa0]
00504842 : LEA EDX,[EDI + 0x30]
00504845 : PUSH EDX
00504846 : LEA EAX,[ESP + 0x14]
0050484a : PUSH EAX
0050484b : CALL 0x0055fca0
00504850 : MOV ECX,dword ptr [EBP + 0xc]
00504853 : PUSH EAX
00504854 : CALL 0x0053f7c0
00504859 : LEA ECX,[ESP + 0x10]
0050485d : CALL 0x00504260
00504862 : MOV ESI,dword ptr [ESI + 0xa0]
00504868 : ADD EDI,0x5c
0050486b : PUSH EDI
0050486c : LEA ECX,[ESP + 0x14]
00504870 : PUSH ECX
00504871 : MOV ECX,EBX
00504873 : CALL 0x0055f330
00504878 : MOV ECX,dword ptr [ESI + 0xc]
0050487b : PUSH EAX
0050487c : CALL 0x0053f8a0
00504881 : LEA ECX,[ESP + 0x10]
00504885 : CALL 0x005008c0
0050488a : POP EBP
0050488b : POP EBX
0050488c : POP ESI
0050488d : POP EDI
0050488e : ADD ESP,0x2c
00504891 : RET
