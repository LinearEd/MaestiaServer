PROGRAM  : Maestia.exe
FUNCTION : FUN_00989240
ENTRY    : 00989240
BODY     : [[00989240, 009892d9]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00989240(uint param_1,uint param_2)

{
  int *piVar1;
  int iVar2;
  int *in_ECX;
  
  iVar2 = (**(code **)(*in_ECX + 0x74))(param_1,param_2);
  if (iVar2 != 0) {
    (**(code **)(*in_ECX + 0x78))(param_1,param_2);
    piVar1 = *(int **)(in_ECX[1] + 0x128);
    if (*(char *)((int)piVar1 + 0x59) == '\0') {
      piVar1[0x13] = 0;
      piVar1[0x10] = -1;
      *(undefined2 *)(piVar1 + 0x11) = 0xffff;
      *(undefined2 *)((int)piVar1 + 0x46) = 0xffff;
      *(undefined2 *)(piVar1 + 0x12) = 0xffff;
    }
    (**(code **)(*piVar1 + 0x20))();
    if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
      (**(code **)(*piVar1 + 4))
                (piVar1,"LootingDeleteItem",&DAT_00c827f8,
                 (param_2 & 0xffff) * 5 + (param_1 & 0xffff));
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00989240 : PUSH EBP
00989241 : MOV EBP,ESP
00989243 : PUSH EBX
00989244 : MOV EBX,dword ptr [EBP + 0x8]
00989247 : PUSH ESI
00989248 : PUSH EDI
00989249 : MOV EDI,dword ptr [EBP + 0xc]
0098924c : MOV ESI,ECX
0098924e : MOV EAX,dword ptr [ESI]
00989250 : MOV EDX,dword ptr [EAX + 0x74]
00989253 : PUSH EDI
00989254 : PUSH EBX
00989255 : CALL EDX
00989257 : TEST EAX,EAX
00989259 : JZ 0x009892d3
0098925b : MOV EAX,dword ptr [ESI]
0098925d : MOV EDX,dword ptr [EAX + 0x78]
00989260 : PUSH EDI
00989261 : PUSH EBX
00989262 : MOV ECX,ESI
00989264 : CALL EDX
00989266 : MOV EAX,dword ptr [ESI + 0x4]
00989269 : MOV ECX,dword ptr [EAX + 0x128]
0098926f : CMP byte ptr [ECX + 0x59],0x0
00989273 : JNZ 0x00989296
00989275 : MOV EDX,0xffff
0098927a : MOV EAX,EDX
0098927c : MOV dword ptr [ECX + 0x4c],0x0
00989283 : MOV dword ptr [ECX + 0x40],0xffffffff
0098928a : MOV word ptr [ECX + 0x44],DX
0098928e : MOV word ptr [ECX + 0x46],AX
00989292 : MOV word ptr [ECX + 0x48],DX
00989296 : MOV EAX,dword ptr [ECX]
00989298 : MOV EDX,dword ptr [EAX + 0x20]
0098929b : CALL EDX
0098929d : MOV EAX,[0x00da9894]
009892a2 : MOV EAX,dword ptr [EAX]
009892a4 : TEST EAX,EAX
009892a6 : JZ 0x009892d3
009892a8 : MOV EAX,dword ptr [EAX + 0x114]
009892ae : TEST EAX,EAX
009892b0 : JZ 0x009892d3
009892b2 : MOV EDX,dword ptr [EAX]
009892b4 : MOV EDX,dword ptr [EDX + 0x4]
009892b7 : MOVZX ECX,DI
009892ba : MOVZX ESI,BX
009892bd : LEA ECX,[ECX + ECX*0x4]
009892c0 : ADD ECX,ESI
009892c2 : PUSH ECX
009892c3 : PUSH 0xc827f8
009892c8 : PUSH 0xc827fc
009892cd : PUSH EAX
009892ce : CALL EDX
009892d0 : ADD ESP,0x10
009892d3 : POP EDI
009892d4 : POP ESI
009892d5 : POP EBX
009892d6 : POP EBP
009892d7 : RET 0x8
