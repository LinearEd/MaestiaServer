PROGRAM  : Maestia.exe
FUNCTION : FUN_005f3570
ENTRY    : 005f3570
BODY     : [[005f3570, 005f3619]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005f3570(int param_1,char param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  int in_ECX;
  int iVar4;
  
  iVar1 = *(int *)(param_1 + 8);
  iVar4 = (uint)*(ushort *)(iVar1 + 0x1c) - param_3;
  if (param_2 == '\0') {
    piVar3 = (int *)FUN_005f2b40(*(undefined4 *)(param_1 + 0x1c),
                                 (uint)*(ushort *)(iVar1 + 0x18) + param_3,iVar4);
    iVar2 = *(int *)(param_1 + 0x10);
    piVar3[3] = param_1;
    piVar3[4] = iVar2;
    *(int **)(iVar2 + 0xc) = piVar3;
    *(int **)(param_1 + 0x10) = piVar3;
  }
  else {
    piVar3 = (int *)FUN_005f2b40(*(undefined4 *)(param_1 + 0x1c),*(undefined2 *)(iVar1 + 0x18),iVar4
                                );
    iVar2 = *(int *)(param_1 + 0xc);
    piVar3[4] = param_1;
    piVar3[3] = iVar2;
    *(int **)(iVar2 + 0x10) = piVar3;
    *(short *)(param_1 + 0x22) = *(short *)(param_1 + 0x22) + (short)iVar4;
    *(int **)(param_1 + 0xc) = piVar3;
    *(undefined2 *)(iVar1 + 0x18) = *(undefined2 *)(param_1 + 0x22);
  }
  *(undefined2 *)(iVar1 + 0x1c) = (undefined2)param_3;
  *(short *)(param_1 + 0x24) = *(short *)(param_1 + 0x24) - (short)iVar4;
  iVar1 = *(int *)(in_ECX + 0x34);
  *piVar3 = in_ECX + 0x30;
  piVar3[1] = iVar1;
  **(undefined4 **)(in_ECX + 0x34) = piVar3;
  *(int **)(in_ECX + 0x34) = piVar3;
  *(int *)(in_ECX + 0x38) = *(int *)(in_ECX + 0x38) + 1;
  piVar3[6] = *(int *)(in_ECX + 0x54);
  piVar3[5] = in_ECX + 0x3c;
  *(int **)(*(int *)(in_ECX + 0x54) + 0x14) = piVar3;
  *(int **)(in_ECX + 0x54) = piVar3;
  return;
}



============================================================
DISASSEMBLY
============================================================
005f3570 : MOV EAX,dword ptr [ESP + 0xc]
005f3574 : PUSH EBX
005f3575 : PUSH EBP
005f3576 : PUSH ESI
005f3577 : MOV ESI,dword ptr [ESP + 0x10]
005f357b : MOV EBP,dword ptr [ESI + 0x8]
005f357e : MOVZX EBX,word ptr [EBP + 0x1c]
005f3582 : PUSH EDI
005f3583 : SUB EBX,EAX
005f3585 : CMP byte ptr [ESP + 0x18],0x0
005f358a : MOV EDI,ECX
005f358c : PUSH EBX
005f358d : JZ 0x005f35bc
005f358f : MOVZX EAX,word ptr [EBP + 0x18]
005f3593 : MOV ECX,dword ptr [ESI + 0x1c]
005f3596 : PUSH EAX
005f3597 : PUSH ECX
005f3598 : MOV ECX,EDI
005f359a : CALL 0x005f2b40
005f359f : MOV ECX,dword ptr [ESI + 0xc]
005f35a2 : MOV dword ptr [EAX + 0x10],ESI
005f35a5 : MOV dword ptr [EAX + 0xc],ECX
005f35a8 : MOV dword ptr [ECX + 0x10],EAX
005f35ab : ADD word ptr [ESI + 0x22],BX
005f35af : MOVZX ECX,word ptr [ESI + 0x22]
005f35b3 : MOV dword ptr [ESI + 0xc],EAX
005f35b6 : MOV word ptr [EBP + 0x18],CX
005f35ba : JMP 0x005f35db
005f35bc : MOVZX EDX,word ptr [EBP + 0x18]
005f35c0 : ADD EDX,EAX
005f35c2 : MOV EAX,dword ptr [ESI + 0x1c]
005f35c5 : PUSH EDX
005f35c6 : PUSH EAX
005f35c7 : CALL 0x005f2b40
005f35cc : MOV ECX,dword ptr [ESI + 0x10]
005f35cf : MOV dword ptr [EAX + 0xc],ESI
005f35d2 : MOV dword ptr [EAX + 0x10],ECX
005f35d5 : MOV dword ptr [ECX + 0xc],EAX
005f35d8 : MOV dword ptr [ESI + 0x10],EAX
005f35db : MOV CX,word ptr [ESP + 0x1c]
005f35e0 : MOV word ptr [EBP + 0x1c],CX
005f35e4 : SUB word ptr [ESI + 0x24],BX
005f35e8 : MOV EDX,dword ptr [EDI + 0x34]
005f35eb : LEA ECX,[EDI + 0x30]
005f35ee : MOV dword ptr [EAX],ECX
005f35f0 : MOV dword ptr [EAX + 0x4],EDX
005f35f3 : MOV EDX,dword ptr [ECX + 0x4]
005f35f6 : MOV dword ptr [EDX],EAX
005f35f8 : MOV dword ptr [ECX + 0x4],EAX
005f35fb : INC dword ptr [EDI + 0x38]
005f35fe : MOV EDX,dword ptr [EDI + 0x54]
005f3601 : LEA ECX,[EDI + 0x3c]
005f3604 : POP EDI
005f3605 : MOV dword ptr [EAX + 0x18],EDX
005f3608 : MOV dword ptr [EAX + 0x14],ECX
005f360b : MOV EDX,dword ptr [ECX + 0x18]
005f360e : POP ESI
005f360f : POP EBP
005f3610 : MOV dword ptr [EDX + 0x14],EAX
005f3613 : MOV dword ptr [ECX + 0x18],EAX
005f3616 : POP EBX
005f3617 : RET 0xc
