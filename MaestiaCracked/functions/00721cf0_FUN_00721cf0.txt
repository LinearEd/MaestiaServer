PROGRAM  : Maestia.exe
FUNCTION : FUN_00721cf0
ENTRY    : 00721cf0
BODY     : [[00721cf0, 00721e09]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00721cf0(int param_1,int param_2)

{
  int iVar1;
  undefined4 uVar2;
  int in_ECX;
  undefined4 *puVar3;
  undefined1 local_2c [28];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b17de7;
  local_10 = ExceptionList;
  puVar3 = (undefined4 *)0x0;
  if (((param_1 != 0) && (param_2 != 0)) && (*(int *)(param_1 + 0x30) == 0xd)) {
    ExceptionList = &local_10;
    iVar1 = FUN_006f0300(0x84,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    local_8 = 0;
    if (iVar1 != 0) {
      puVar3 = (undefined4 *)FUN_00721260(iVar1);
    }
    local_8 = 0xffffffff;
    *(undefined1 *)(puVar3 + 4) = 1;
    puVar3[0x14] = param_2 + 0x2b4;
    FUN_0071feb0(*(undefined4 *)(in_ECX + 0x58),*(undefined4 *)(in_ECX + 100),
                 *(undefined4 *)(in_ECX + 0x68),*(undefined4 *)(in_ECX + 0x60));
    puVar3[0x15] = in_ECX;
    *(undefined1 *)((int)puVar3 + 0x11) = *(undefined1 *)(param_1 + 0x11);
    *(undefined1 *)((int)puVar3 + 0x12) = *(undefined1 *)(param_1 + 0x12);
    *(undefined1 *)((int)puVar3 + 0x13) = *(undefined1 *)(param_1 + 0x13);
    uVar2 = FUN_004c0550(param_1,local_2c);
    local_8 = 1;
    FUN_00405eb0(uVar2,0,0xffffffff);
    local_8 = 0xffffffff;
    FUN_00406560();
    puVar3[2] = *(undefined4 *)(param_1 + 8);
    (**(code **)*puVar3)();
    puVar3[1] = *(undefined4 *)(param_1 + 4);
    ExceptionList = local_10;
    return puVar3;
  }
  return (undefined4 *)0x0;
}



============================================================
DISASSEMBLY
============================================================
00721cf0 : PUSH EBP
00721cf1 : MOV EBP,ESP
00721cf3 : PUSH -0x1
00721cf5 : PUSH 0xb17de7
00721cfa : MOV EAX,FS:[0x0]
00721d00 : PUSH EAX
00721d01 : SUB ESP,0x1c
00721d04 : PUSH EBX
00721d05 : PUSH ESI
00721d06 : PUSH EDI
00721d07 : MOV EAX,[0x00d66fa0]
00721d0c : XOR EAX,EBP
00721d0e : PUSH EAX
00721d0f : LEA EAX,[EBP + -0xc]
00721d12 : MOV FS:[0x0],EAX
00721d18 : MOV EBX,ECX
00721d1a : MOV EDI,dword ptr [EBP + 0x8]
00721d1d : XOR ESI,ESI
00721d1f : CMP EDI,ESI
00721d21 : JNZ 0x00721d39
00721d23 : XOR EAX,EAX
00721d25 : MOV ECX,dword ptr [EBP + -0xc]
00721d28 : MOV dword ptr FS:[0x0],ECX
00721d2f : POP ECX
00721d30 : POP EDI
00721d31 : POP ESI
00721d32 : POP EBX
00721d33 : MOV ESP,EBP
00721d35 : POP EBP
00721d36 : RET 0x8
00721d39 : CMP dword ptr [EBP + 0xc],ESI
00721d3c : JZ 0x00721d23
00721d3e : CMP dword ptr [EDI + 0x30],0xd
00721d42 : JNZ 0x00721d23
00721d44 : PUSH 0x84
00721d49 : CALL 0x006f0300
00721d4e : ADD ESP,0x4
00721d51 : MOV dword ptr [EBP + 0x8],EAX
00721d54 : MOV dword ptr [EBP + -0x4],ESI
00721d57 : CMP EAX,ESI
00721d59 : JZ 0x00721d63
00721d5b : PUSH EAX
00721d5c : CALL 0x00721260
00721d61 : MOV ESI,EAX
00721d63 : MOV dword ptr [EBP + -0x4],0xffffffff
00721d6a : MOV EAX,dword ptr [EBP + 0xc]
00721d6d : MOV byte ptr [ESI + 0x10],0x1
00721d71 : ADD EAX,0x2b4
00721d76 : MOV dword ptr [ESI + 0x50],EAX
00721d79 : FLD float ptr [EBX + 0x60]
00721d7c : MOV ECX,dword ptr [EBX + 0x58]
00721d7f : MOV EDX,dword ptr [EBX + 0x5c]
00721d82 : SUB ESP,0xc
00721d85 : FSTP float ptr [ESP + 0x8]
00721d89 : FLD float ptr [EBX + 0x68]
00721d8c : FSTP float ptr [ESP + 0x4]
00721d90 : FLD float ptr [EBX + 0x64]
00721d93 : FSTP float ptr [ESP]
00721d96 : PUSH ECX
00721d97 : MOV ECX,ESI
00721d99 : CALL 0x0071feb0
00721d9e : MOV dword ptr [ESI + 0x54],EBX
00721da1 : MOV AL,byte ptr [EDI + 0x11]
00721da4 : MOV byte ptr [ESI + 0x11],AL
00721da7 : MOV AL,byte ptr [EDI + 0x12]
00721daa : LEA EDX,[EBP + -0x28]
00721dad : MOV byte ptr [ESI + 0x12],AL
00721db0 : MOV AL,byte ptr [EDI + 0x13]
00721db3 : PUSH EDX
00721db4 : PUSH EDI
00721db5 : MOV byte ptr [ESI + 0x13],AL
00721db8 : CALL 0x004c0550
00721dbd : MOV dword ptr [EBP + -0x4],0x1
00721dc4 : PUSH -0x1
00721dc6 : PUSH 0x0
00721dc8 : PUSH EAX
00721dc9 : LEA ECX,[ESI + 0x14]
00721dcc : CALL 0x00405eb0
00721dd1 : MOV dword ptr [EBP + -0x4],0xffffffff
00721dd8 : LEA ECX,[EBP + -0x28]
00721ddb : CALL 0x00406560
00721de0 : MOV EAX,dword ptr [EDI + 0x8]
00721de3 : MOV EDX,dword ptr [ESI]
00721de5 : MOV dword ptr [ESI + 0x8],EAX
00721de8 : MOV EAX,dword ptr [EDX]
00721dea : MOV ECX,ESI
00721dec : CALL EAX
00721dee : MOV ECX,dword ptr [EDI + 0x4]
00721df1 : MOV dword ptr [ESI + 0x4],ECX
00721df4 : MOV EAX,ESI
00721df6 : MOV ECX,dword ptr [EBP + -0xc]
00721df9 : MOV dword ptr FS:[0x0],ECX
00721e00 : POP ECX
00721e01 : POP EDI
00721e02 : POP ESI
00721e03 : POP EBX
00721e04 : MOV ESP,EBP
00721e06 : POP EBP
00721e07 : RET 0x8
