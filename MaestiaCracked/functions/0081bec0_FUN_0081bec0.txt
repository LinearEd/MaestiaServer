PROGRAM  : Maestia.exe
FUNCTION : FUN_0081bec0
ENTRY    : 0081bec0
BODY     : [[0081bec0, 0081bf56]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0081bec0(void)

{
  uint uVar1;
  int unaff_ESI;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0dc96;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(unaff_ESI + 0x4cc);
  local_18 = 0;
  local_20 = ".\\AvaGame.cpp";
  local_1c = 0x1366;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  local_8 = 0;
  if (*(int **)(unaff_ESI + 0x150) != (int *)0x0) {
    (**(code **)(**(int **)(unaff_ESI + 0x150) + 0x14))(1,uVar1);
    *(undefined4 *)(unaff_ESI + 0x150) = 0;
  }
  local_8 = 0xffffffff;
  if (local_18 != 0) {
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0081bec0 : PUSH EBP
0081bec1 : MOV EBP,ESP
0081bec3 : PUSH -0x1
0081bec5 : PUSH 0xb0dc96
0081beca : MOV EAX,FS:[0x0]
0081bed0 : PUSH EAX
0081bed1 : SUB ESP,0x14
0081bed4 : PUSH EDI
0081bed5 : MOV EAX,[0x00d66fa0]
0081beda : XOR EAX,EBP
0081bedc : PUSH EAX
0081bedd : LEA EAX,[EBP + -0xc]
0081bee0 : MOV FS:[0x0],EAX
0081bee6 : LEA ECX,[EBP + -0x20]
0081bee9 : LEA EAX,[ESI + 0x4cc]
0081beef : XOR EDI,EDI
0081bef1 : PUSH ECX
0081bef2 : MOV dword ptr [EBP + -0x14],EDI
0081bef5 : MOV dword ptr [EBP + -0x20],EAX
0081bef8 : MOV dword ptr [EBP + -0x1c],0xc340cc
0081beff : MOV dword ptr [EBP + -0x18],0x1366
0081bf06 : MOV dword ptr [EBP + -0x10],0x1
0081bf0d : CALL 0x006ef1a0
0081bf12 : MOV dword ptr [EBP + -0x4],EDI
0081bf15 : MOV ECX,dword ptr [ESI + 0x150]
0081bf1b : CMP ECX,EDI
0081bf1d : JZ 0x0081bf2e
0081bf1f : MOV EDX,dword ptr [ECX]
0081bf21 : MOV EAX,dword ptr [EDX + 0x14]
0081bf24 : PUSH 0x1
0081bf26 : CALL EAX
0081bf28 : MOV dword ptr [ESI + 0x150],EDI
0081bf2e : MOV dword ptr [EBP + -0x4],0xffffffff
0081bf35 : CMP dword ptr [EBP + -0x14],EDI
0081bf38 : JZ 0x0081bf47
0081bf3a : MOV ECX,dword ptr [EBP + -0x20]
0081bf3d : PUSH ECX
0081bf3e : CALL dword ptr [0x00b8511c]
0081bf44 : MOV dword ptr [EBP + -0x14],EDI
0081bf47 : MOV ECX,dword ptr [EBP + -0xc]
0081bf4a : MOV dword ptr FS:[0x0],ECX
0081bf51 : POP ECX
0081bf52 : POP EDI
0081bf53 : MOV ESP,EBP
0081bf55 : POP EBP
0081bf56 : RET
