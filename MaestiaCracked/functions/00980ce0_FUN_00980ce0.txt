PROGRAM  : Maestia.exe
FUNCTION : FUN_00980ce0
ENTRY    : 00980ce0
BODY     : [[00980ce0, 00980dbb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00980ce0(void)

{
  float fVar1;
  int *piVar2;
  undefined4 uVar3;
  float *in_ECX;
  int unaff_ESI;
  undefined4 local_10;
  
  local_10 = (undefined4)(longlong)ROUND((*in_ECX / *(float *)(unaff_ESI + 0x40)) * 512.0 + 256.0);
  uVar3 = local_10;
  fVar1 = in_ECX[2];
  *(undefined4 *)(unaff_ESI + 0xec) = local_10;
  piVar2 = DAT_00da9894;
  local_10 = (undefined4)
             (longlong)ROUND((512.0 - (fVar1 / *(float *)(unaff_ESI + 0x44)) * 512.0) + 256.0);
  *(undefined4 *)(unaff_ESI + 0xf0) = local_10;
  if ((*piVar2 != 0) && (piVar2 = *(int **)(*piVar2 + 0x114), piVar2 != (int *)0x0)) {
    (**(code **)(*piVar2 + 4))(piVar2,"MinimapSetMapMove","%d,%d",uVar3,local_10);
  }
  if ((((*(short *)(unaff_ESI + 0x6e) == *(short *)(unaff_ESI + 0x6c)) &&
       (*(char *)(unaff_ESI + 0x32) != '\0')) && (*DAT_00da9894 != 0)) &&
     (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
    (**(code **)(*piVar2 + 4))(piVar2,"ZoneMapSetMapMove","%d,%d",uVar3,local_10);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00980ce0 : PUSH EBP
00980ce1 : MOV EBP,ESP
00980ce3 : SUB ESP,0xc
00980ce6 : FLD float ptr [ECX]
00980ce8 : PUSH EBX
00980ce9 : FDIV float ptr [ESI + 0x40]
00980cec : PUSH EDI
00980ced : FLD float ptr [0x00cdf2a0]
00980cf3 : FMUL ST1
00980cf5 : FLD float ptr [0x00cdf208]
00980cfb : FNSTCW word ptr [EBP + -0x2]
00980cfe : FADD ST2,ST0
00980d00 : MOVZX EAX,word ptr [EBP + -0x2]
00980d04 : FXCH ST2
00980d06 : OR EAX,0xc00
00980d0b : MOV dword ptr [EBP + -0x8],EAX
00980d0e : FLDCW word ptr [EBP + -0x8]
00980d11 : FISTP qword ptr [EBP + -0xc]
00980d14 : MOV EDI,dword ptr [EBP + -0xc]
00980d17 : FLDCW word ptr [EBP + -0x2]
00980d1a : FLD float ptr [ECX + 0x8]
00980d1d : FDIV float ptr [ESI + 0x44]
00980d20 : MOV dword ptr [ESI + 0xec],EDI
00980d26 : FMUL ST1
00980d28 : FNSTCW word ptr [EBP + -0x2]
00980d2b : FSUBP
00980d2d : MOVZX EAX,word ptr [EBP + -0x2]
00980d31 : OR EAX,0xc00
00980d36 : MOV dword ptr [EBP + -0x8],EAX
00980d39 : MOV EAX,[0x00da9894]
00980d3e : FADDP
00980d40 : FLDCW word ptr [EBP + -0x8]
00980d43 : FISTP qword ptr [EBP + -0xc]
00980d46 : MOV EBX,dword ptr [EBP + -0xc]
00980d49 : MOV dword ptr [ESI + 0xf0],EBX
00980d4f : MOV EAX,dword ptr [EAX]
00980d51 : FLDCW word ptr [EBP + -0x2]
00980d54 : TEST EAX,EAX
00980d56 : JZ 0x00980d79
00980d58 : MOV EAX,dword ptr [EAX + 0x114]
00980d5e : TEST EAX,EAX
00980d60 : JZ 0x00980d79
00980d62 : MOV ECX,dword ptr [EAX]
00980d64 : MOV EDX,dword ptr [ECX + 0x4]
00980d67 : PUSH EBX
00980d68 : PUSH EDI
00980d69 : PUSH 0xc7fbc8
00980d6e : PUSH 0xc7fbd0
00980d73 : PUSH EAX
00980d74 : CALL EDX
00980d76 : ADD ESP,0x14
00980d79 : MOV AX,word ptr [ESI + 0x6e]
00980d7d : CMP AX,word ptr [ESI + 0x6c]
00980d81 : JNZ 0x00980db6
00980d83 : CMP byte ptr [ESI + 0x32],0x0
00980d87 : JZ 0x00980db6
00980d89 : MOV ECX,dword ptr [0x00da9894]
00980d8f : MOV EAX,dword ptr [ECX]
00980d91 : TEST EAX,EAX
00980d93 : JZ 0x00980db6
00980d95 : MOV EAX,dword ptr [EAX + 0x114]
00980d9b : TEST EAX,EAX
00980d9d : JZ 0x00980db6
00980d9f : MOV EDX,dword ptr [EAX]
00980da1 : PUSH EBX
00980da2 : PUSH EDI
00980da3 : PUSH 0xc7fbe4
00980da8 : PUSH 0xc7fbec
00980dad : PUSH EAX
00980dae : MOV EAX,dword ptr [EDX + 0x4]
00980db1 : CALL EAX
00980db3 : ADD ESP,0x14
00980db6 : POP EDI
00980db7 : POP EBX
00980db8 : MOV ESP,EBP
00980dba : POP EBP
00980dbb : RET
