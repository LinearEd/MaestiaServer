PROGRAM  : Maestia.exe
FUNCTION : FUN_00530180
ENTRY    : 00530180
BODY     : [[00530180, 005301f7]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00530180(undefined4 *param_1,int *param_2,char param_3)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  int *in_ECX;
  undefined4 local_8;
  int local_4;
  
  if (param_3 == '\0') {
    puVar2 = (undefined4 *)FUN_0052f620(&local_8,param_2);
  }
  else {
    if (*in_ECX != 0) {
      local_4 = FUN_0054f3b0(param_2,*(uint *)(*param_2 + 0xc) & *(uint *)(*in_ECX + 4));
      if (-1 < local_4) {
        puVar2 = &local_8;
        goto LAB_005301e1;
      }
    }
    local_8 = 0;
    local_4 = 0;
    puVar2 = &local_8;
  }
LAB_005301e1:
  uVar1 = *puVar2;
  param_1[1] = puVar2[1];
  *param_1 = uVar1;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00530180 : SUB ESP,0x8
00530183 : CMP byte ptr [ESP + 0x14],0x0
00530188 : PUSH ESI
00530189 : MOV ESI,ECX
0053018b : JZ 0x005301d0
0053018d : MOV EAX,dword ptr [ESI]
0053018f : TEST EAX,EAX
00530191 : JZ 0x005301ba
00530193 : MOV ECX,dword ptr [ESP + 0x14]
00530197 : MOV EDX,dword ptr [ECX]
00530199 : MOV EDX,dword ptr [EDX + 0xc]
0053019c : AND EDX,dword ptr [EAX + 0x4]
0053019f : PUSH EDX
005301a0 : PUSH ECX
005301a1 : MOV ECX,ESI
005301a3 : CALL 0x0054f3b0
005301a8 : TEST EAX,EAX
005301aa : JL 0x005301ba
005301ac : MOV dword ptr [ESP + 0x8],EAX
005301b0 : MOV dword ptr [ESP + 0x4],ESI
005301b4 : LEA EAX,[ESP + 0x4]
005301b8 : JMP 0x005301e1
005301ba : MOV dword ptr [ESP + 0x4],0x0
005301c2 : MOV dword ptr [ESP + 0x8],0x0
005301ca : LEA EAX,[ESP + 0x4]
005301ce : JMP 0x005301e1
005301d0 : MOV EAX,dword ptr [ESP + 0x14]
005301d4 : PUSH EAX
005301d5 : LEA ECX,[ESP + 0x8]
005301d9 : PUSH ECX
005301da : MOV ECX,ESI
005301dc : CALL 0x0052f620
005301e1 : MOV EDX,dword ptr [EAX]
005301e3 : MOV ECX,dword ptr [ESP + 0x10]
005301e7 : MOV EAX,dword ptr [EAX + 0x4]
005301ea : MOV dword ptr [ECX + 0x4],EAX
005301ed : MOV dword ptr [ECX],EDX
005301ef : MOV EAX,ECX
005301f1 : POP ESI
005301f2 : ADD ESP,0x8
005301f5 : RET 0xc
