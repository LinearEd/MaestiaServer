PROGRAM  : Maestia.exe
FUNCTION : FUN_00a2b530
ENTRY    : 00a2b530
BODY     : [[00a2b530, 00a2b73d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a2b530(float param_1)

{
  float fVar1;
  float fVar2;
  int *piVar3;
  char cVar4;
  float *pfVar5;
  int iVar6;
  int unaff_ESI;
  float10 fVar7;
  float fVar8;
  undefined1 local_40 [12];
  undefined1 local_34 [12];
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  float local_10;
  float local_c;
  
  pfVar5 = (float *)(**(code **)(**(int **)(unaff_ESI + 0x78) + 8))(&local_28);
  fVar1 = *pfVar5;
  fVar2 = pfVar5[2];
  iVar6 = *(int *)(unaff_ESI + 0x78);
  fVar8 = *(float *)(DAT_017248cc + 4);
  *(undefined4 *)(iVar6 + 0x168) = *(undefined4 *)(iVar6 + 0x168);
  fVar8 = fVar8 * 0.05 * param_1;
  *(float *)(iVar6 + 0x164) = *(float *)(iVar6 + 0x164) + fVar1 * fVar8;
  *(float *)(iVar6 + 0x16c) = fVar2 * fVar8 + *(float *)(iVar6 + 0x16c);
  *(undefined1 *)(iVar6 + 0x154) = 1;
  pfVar5 = (float *)(**(code **)(**(int **)(unaff_ESI + 0x78) + 0x14))();
  local_18 = pfVar5[1];
  local_14 = pfVar5[2];
  local_1c = *pfVar5;
  piVar3 = *(int **)(unaff_ESI + 0x78);
  iVar6 = *(int *)(*(int *)(unaff_ESI + 0xac) + 1000);
  local_28 = *(float *)(iVar6 + 0x68);
  local_24 = *(float *)(iVar6 + 0x6c);
  local_20 = *(float *)(iVar6 + 0x70);
  pfVar5 = (float *)(**(code **)(*piVar3 + 8))(local_34);
  local_10 = *pfVar5;
  iVar6 = (**(code **)(*piVar3 + 8))(local_40);
  local_c = *(float *)(iVar6 + 8);
  iVar6 = *(int *)(unaff_ESI + 0xac);
  *(float *)(iVar6 + 0x3b8) = local_10;
  *(float *)(iVar6 + 0x3bc) = local_c;
  fVar7 = (float10)FUN_0040f460((local_14 - local_20) * (local_14 - local_20) +
                                (local_18 - local_24) * (local_18 - local_24) +
                                (local_1c - local_28) * (local_1c - local_28));
  if ((float10)700.0 < fVar7) {
    FUN_00a2a580(&local_1c);
    (**(code **)(**(int **)(unaff_ESI + 0x74) + 0xc))(&local_1c);
    (**(code **)(**(int **)(unaff_ESI + 0x74) + 0x10))(&local_1c);
    return;
  }
  param_1 = 0.0;
  iVar6 = FUN_007df230(local_1c,local_14);
  if (iVar6 != 0) {
    local_10 = local_1c;
    local_c = local_14;
    cVar4 = FUN_007ac0b0(iVar6,&local_10,&param_1,0,0);
    if (cVar4 != '\0') {
      local_18 = param_1;
      (**(code **)(**(int **)(unaff_ESI + 0xac) + 0x2a0))(&local_1c,1);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a2b530 : PUSH EBP
00a2b531 : MOV EBP,ESP
00a2b533 : SUB ESP,0x40
00a2b536 : MOV ECX,dword ptr [ESI + 0x78]
00a2b539 : MOV EAX,dword ptr [ECX]
00a2b53b : MOV EAX,dword ptr [EAX + 0x8]
00a2b53e : PUSH EDI
00a2b53f : LEA EDX,[EBP + -0x24]
00a2b542 : PUSH EDX
00a2b543 : CALL EAX
00a2b545 : MOVSS XMM1,dword ptr [EAX]
00a2b549 : MOVSS XMM2,dword ptr [EAX + 0x8]
00a2b54e : MOV EAX,dword ptr [ESI + 0x78]
00a2b551 : MOV ECX,dword ptr [0x017248cc]
00a2b557 : FLD float ptr [EAX + 0x168]
00a2b55d : MOVSS XMM0,dword ptr [ECX + 0x4]
00a2b562 : FSTP float ptr [EAX + 0x168]
00a2b568 : MULSS XMM0,dword ptr [0x00cdf0f4]
00a2b570 : MULSS XMM0,dword ptr [EBP + 0x8]
00a2b575 : MULSS XMM2,XMM0
00a2b579 : ADDSS XMM2,dword ptr [EAX + 0x16c]
00a2b581 : MULSS XMM1,XMM0
00a2b585 : MOVSS XMM0,dword ptr [EAX + 0x164]
00a2b58d : ADDSS XMM0,XMM1
00a2b591 : MOVSS dword ptr [EAX + 0x164],XMM0
00a2b599 : MOVSS dword ptr [EAX + 0x16c],XMM2
00a2b5a1 : MOV byte ptr [EAX + 0x154],0x1
00a2b5a8 : MOV ECX,dword ptr [ESI + 0x78]
00a2b5ab : MOV EDX,dword ptr [ECX]
00a2b5ad : MOV EAX,dword ptr [EDX + 0x14]
00a2b5b0 : CALL EAX
00a2b5b2 : MOVSS XMM0,dword ptr [EAX + 0x4]
00a2b5b7 : MOVSS XMM1,dword ptr [EAX + 0x8]
00a2b5bc : MOVSS XMM2,dword ptr [EAX]
00a2b5c0 : MOV ECX,dword ptr [ESI + 0xac]
00a2b5c6 : MOV EDI,dword ptr [ESI + 0x78]
00a2b5c9 : MOVSS dword ptr [EBP + -0x18],XMM2
00a2b5ce : MOVSS dword ptr [EBP + -0x14],XMM0
00a2b5d3 : MOVSS dword ptr [EBP + -0x10],XMM1
00a2b5d8 : MOV EAX,dword ptr [ECX + 0x3e8]
00a2b5de : MOVSS XMM0,dword ptr [EAX + 0x68]
00a2b5e3 : MOV EDX,dword ptr [EDI]
00a2b5e5 : MOV EDX,dword ptr [EDX + 0x8]
00a2b5e8 : ADD EAX,0x68
00a2b5eb : MOVSS dword ptr [EBP + -0x24],XMM0
00a2b5f0 : MOVSS XMM0,dword ptr [EAX + 0x4]
00a2b5f5 : MOVSS dword ptr [EBP + -0x20],XMM0
00a2b5fa : MOVSS XMM0,dword ptr [EAX + 0x8]
00a2b5ff : LEA EAX,[EBP + -0x30]
00a2b602 : PUSH EAX
00a2b603 : MOV ECX,EDI
00a2b605 : MOVSS dword ptr [EBP + -0x1c],XMM0
00a2b60a : CALL EDX
00a2b60c : MOVSS XMM0,dword ptr [EAX]
00a2b610 : MOV EAX,dword ptr [EDI]
00a2b612 : MOV EDX,dword ptr [EAX + 0x8]
00a2b615 : LEA ECX,[EBP + -0x3c]
00a2b618 : PUSH ECX
00a2b619 : MOV ECX,EDI
00a2b61b : MOVSS dword ptr [EBP + -0xc],XMM0
00a2b620 : CALL EDX
00a2b622 : MOVSS XMM0,dword ptr [EAX + 0x8]
00a2b627 : MOV EAX,dword ptr [ESI + 0xac]
00a2b62d : MOV ECX,dword ptr [EBP + -0xc]
00a2b630 : MOVSS dword ptr [EBP + -0x8],XMM0
00a2b635 : MOV EDX,dword ptr [EBP + -0x8]
00a2b638 : MOV dword ptr [EAX + 0x3b8],ECX
00a2b63e : MOV dword ptr [EAX + 0x3bc],EDX
00a2b644 : MOVSS XMM2,dword ptr [EBP + -0x10]
00a2b649 : SUBSS XMM2,dword ptr [EBP + -0x1c]
00a2b64e : MOVSS XMM1,dword ptr [EBP + -0x14]
00a2b653 : SUBSS XMM1,dword ptr [EBP + -0x20]
00a2b658 : MOVSS XMM0,dword ptr [EBP + -0x18]
00a2b65d : SUBSS XMM0,dword ptr [EBP + -0x24]
00a2b662 : MOVAPS XMM3,XMM2
00a2b665 : MULSS XMM3,XMM2
00a2b669 : MOVAPS XMM2,XMM1
00a2b66c : MULSS XMM2,XMM1
00a2b670 : MOVAPS XMM1,XMM0
00a2b673 : ADDSS XMM3,XMM2
00a2b677 : MULSS XMM1,XMM0
00a2b67b : PUSH ECX
00a2b67c : ADDSS XMM3,XMM1
00a2b680 : MOVSS dword ptr [ESP],XMM3
00a2b685 : CALL 0x0040f460
00a2b68a : FLD float ptr [0x00cdf64c]
00a2b690 : FXCH
00a2b692 : ADD ESP,0x4
00a2b695 : FCOMIP ST0,ST1
00a2b697 : FSTP ST0
00a2b699 : JBE 0x00a2b6c9
00a2b69b : LEA EAX,[EBP + -0x18]
00a2b69e : PUSH EAX
00a2b69f : MOV ECX,ESI
00a2b6a1 : CALL 0x00a2a580
00a2b6a6 : MOV ECX,dword ptr [ESI + 0x74]
00a2b6a9 : MOV EDX,dword ptr [ECX]
00a2b6ab : MOV EDX,dword ptr [EDX + 0xc]
00a2b6ae : LEA EAX,[EBP + -0x18]
00a2b6b1 : PUSH EAX
00a2b6b2 : CALL EDX
00a2b6b4 : MOV ECX,dword ptr [ESI + 0x74]
00a2b6b7 : MOV EAX,dword ptr [ECX]
00a2b6b9 : MOV EAX,dword ptr [EAX + 0x10]
00a2b6bc : LEA EDX,[EBP + -0x18]
00a2b6bf : PUSH EDX
00a2b6c0 : CALL EAX
00a2b6c2 : POP EDI
00a2b6c3 : MOV ESP,EBP
00a2b6c5 : POP EBP
00a2b6c6 : RET 0x4
00a2b6c9 : FLD float ptr [EBP + -0x10]
00a2b6cc : XORPS XMM0,XMM0
00a2b6cf : MOV EDI,dword ptr [ESI + 0xc]
00a2b6d2 : SUB ESP,0x8
00a2b6d5 : FSTP float ptr [ESP + 0x4]
00a2b6d9 : MOVSS dword ptr [EBP + 0x8],XMM0
00a2b6de : FLD float ptr [EBP + -0x18]
00a2b6e1 : FSTP float ptr [ESP]
00a2b6e4 : CALL 0x007df230
00a2b6e9 : TEST EAX,EAX
00a2b6eb : JZ 0x00a2b737
00a2b6ed : MOVSS XMM0,dword ptr [EBP + -0x18]
00a2b6f2 : PUSH 0x0
00a2b6f4 : PUSH 0x0
00a2b6f6 : LEA ECX,[EBP + 0x8]
00a2b6f9 : PUSH ECX
00a2b6fa : LEA EDX,[EBP + -0xc]
00a2b6fd : PUSH EDX
00a2b6fe : MOVSS dword ptr [EBP + -0xc],XMM0
00a2b703 : MOVSS XMM0,dword ptr [EBP + -0x10]
00a2b708 : PUSH EAX
00a2b709 : MOVSS dword ptr [EBP + -0x8],XMM0
00a2b70e : CALL 0x007ac0b0
00a2b713 : TEST AL,AL
00a2b715 : JZ 0x00a2b737
00a2b717 : MOVSS XMM0,dword ptr [EBP + 0x8]
00a2b71c : MOV ECX,dword ptr [ESI + 0xac]
00a2b722 : MOVSS dword ptr [EBP + -0x14],XMM0
00a2b727 : MOV EAX,dword ptr [ECX]
00a2b729 : MOV EAX,dword ptr [EAX + 0x2a0]
00a2b72f : PUSH 0x1
00a2b731 : LEA EDX,[EBP + -0x18]
00a2b734 : PUSH EDX
00a2b735 : CALL EAX
00a2b737 : POP EDI
00a2b738 : MOV ESP,EBP
00a2b73a : POP EBP
00a2b73b : RET 0x4
