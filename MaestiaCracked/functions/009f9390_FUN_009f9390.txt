PROGRAM  : Maestia.exe
FUNCTION : FUN_009f9390
ENTRY    : 009f9390
BODY     : [[009f9390, 009f97da]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009f9390(int param_1,undefined4 param_2)

{
  undefined1 uVar1;
  uint uVar2;
  undefined4 *puVar3;
  undefined4 uVar4;
  int iVar5;
  int in_ECX;
  undefined4 *puVar6;
  float fVar7;
  uint in_stack_00000024;
  undefined4 *in_stack_0000002c;
  undefined4 in_stack_0000003c;
  uint in_stack_00000040;
  uint in_stack_00000048;
  undefined4 in_stack_00000058;
  uint in_stack_0000005c;
  uint local_50;
  uint local_34;
  undefined4 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b5df31;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8._0_1_ = 2;
  local_8._1_3_ = 0;
  local_14 = uVar2;
  if (param_1 == 0) goto LAB_009f9753;
  FUN_00406460(&DAT_00ca7094);
  local_8._0_1_ = 3;
  FUN_00406460(&DAT_00ca7098);
  local_8._0_1_ = 4;
  uVar1 = (undefined1)local_8;
  local_8._0_1_ = 4;
  if (((in_ECX == 1) || (in_ECX == 2)) || (in_ECX == 3)) {
    local_8._0_1_ = uVar1;
    FUN_00406360(&DAT_00ca709c,1);
    uVar1 = (undefined1)local_8;
LAB_009f9448:
    local_8._0_1_ = uVar1;
    if ((in_ECX != 5) && (in_ECX != 7)) goto LAB_009f9452;
  }
  else {
    if (in_ECX != 6) goto LAB_009f9448;
    FUN_0081cbe0(DAT_0172491c);
    local_8._0_1_ = 5;
    FUN_00405eb0();
    local_8._0_1_ = 4;
    FUN_00406560();
LAB_009f9452:
    FUN_00404750();
    local_8._0_1_ = 6;
    FUN_00405c30();
    local_8._0_1_ = 4;
    FUN_00406560();
  }
  if (((in_ECX != 2) && (in_ECX != 3)) &&
     ((in_ECX != 4 && (((in_ECX != 5 && (in_ECX != 7)) && (0 < param_1)))))) {
    FUN_00404980(param_2);
  }
  if (in_ECX == 6) {
    puVar6 = in_stack_0000002c;
    if (in_stack_00000040 < 8) {
      puVar6 = &stack0x0000002c;
    }
    puVar3 = local_2c;
    if (local_18 < 8) {
      puVar3 = &local_2c;
    }
    FUN_00404750(L"%.1f%s %s",(double)((float)param_1 * 0.001),puVar3,puVar6);
    local_8._0_1_ = 9;
LAB_009f95e7:
    FUN_00405c30();
LAB_009f9701:
    local_8._0_1_ = 4;
    FUN_00406560();
  }
  else {
    if (in_ECX == 5) {
LAB_009f96c0:
      puVar6 = in_stack_0000002c;
      if (in_stack_00000040 < 8) {
        puVar6 = &stack0x0000002c;
      }
      puVar3 = local_2c;
      if (local_18 < 8) {
        puVar3 = &local_2c;
      }
      uVar4 = FUN_00404750(L"%d%s %s",param_1,puVar3,puVar6);
      local_8 = CONCAT31(local_8._1_3_,0xd);
      FUN_00405d50(uVar4);
LAB_009f96fa:
      goto LAB_009f9701;
    }
    fVar7 = (float)param_1 * 0.01;
    if (in_ECX != 1) {
      if (in_ECX == 2) {
        puVar6 = in_stack_0000002c;
        if (in_stack_00000040 < 8) {
          puVar6 = &stack0x0000002c;
        }
        puVar3 = local_2c;
        if (local_18 < 8) {
          puVar3 = &local_2c;
        }
        FUN_00404750(L"%.1f%s %s",(double)fVar7,puVar3,puVar6);
        local_8._0_1_ = 8;
        goto LAB_009f95e7;
      }
      if (in_ECX != 3) {
        if (in_ECX != 4) goto LAB_009f96c0;
        iVar5 = FUN_00703c00(0x1411);
        if (iVar5 == 0) goto LAB_009f9706;
        iVar5 = FUN_00824a20(DAT_0172491c,0);
        local_8._0_1_ = 0xb;
        if (*(uint *)(iVar5 + 0x18) < 8) {
          iVar5 = iVar5 + 4;
        }
        else {
          iVar5 = *(int *)(iVar5 + 4);
        }
        uVar4 = FUN_00404750(L"(%s+1)",iVar5);
        local_8._0_1_ = 0xc;
        FUN_00405d50(uVar4);
        local_8 = CONCAT31(local_8._1_3_,0xb);
        FUN_00406560();
        goto LAB_009f96fa;
      }
      puVar6 = in_stack_0000002c;
      if (in_stack_00000040 < 8) {
        puVar6 = &stack0x0000002c;
      }
      puVar3 = local_2c;
      if (local_18 < 8) {
        puVar3 = &local_2c;
      }
      uVar4 = FUN_00404750(L"( %.1f%s %s)",(double)fVar7,puVar3,puVar6);
      local_8._0_1_ = 10;
      FUN_00405d50(uVar4);
      goto LAB_009f9701;
    }
    puVar6 = in_stack_0000002c;
    if (in_stack_00000040 < 8) {
      puVar6 = &stack0x0000002c;
    }
    puVar3 = local_2c;
    if (local_18 < 8) {
      puVar3 = &local_2c;
    }
    FUN_00404750(L"%.1f%s %s",(double)fVar7,puVar3,puVar6);
    local_8._0_1_ = 7;
    FUN_00405c30();
    local_8._0_1_ = 4;
    if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
LAB_009f9706:
  local_8 = CONCAT31(local_8._1_3_,3);
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
  local_8._0_1_ = 2;
  if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
LAB_009f9753:
  local_8 = CONCAT31(local_8._1_3_,1);
  if (7 < in_stack_00000024) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar2);
  }
  local_8 = (uint)local_8._1_3_ << 8;
  if (7 < in_stack_00000040) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar2);
  }
  in_stack_00000040 = 7;
  in_stack_0000003c = 0;
  in_stack_0000002c = (undefined4 *)((uint)in_stack_0000002c & 0xffff0000);
  local_8 = 0xffffffff;
  if (7 < in_stack_0000005c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar2);
  }
  in_stack_0000005c = 7;
  in_stack_00000058 = 0;
  in_stack_00000048 = in_stack_00000048 & 0xffff0000;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009f9390 : PUSH EBP
009f9391 : MOV EBP,ESP
009f9393 : PUSH -0x1
009f9395 : PUSH 0xb5df31
009f939a : MOV EAX,FS:[0x0]
009f93a0 : PUSH EAX
009f93a1 : SUB ESP,0x74
009f93a4 : MOV EAX,[0x00d66fa0]
009f93a9 : XOR EAX,EBP
009f93ab : MOV dword ptr [EBP + -0x10],EAX
009f93ae : PUSH EBX
009f93af : PUSH ESI
009f93b0 : PUSH EDI
009f93b1 : PUSH EAX
009f93b2 : LEA EAX,[EBP + -0xc]
009f93b5 : MOV FS:[0x0],EAX
009f93bb : MOV EDI,ECX
009f93bd : MOV EBX,dword ptr [EBP + 0xc]
009f93c0 : MOV dword ptr [EBP + -0x4],0x2
009f93c7 : MOV ESI,dword ptr [EBP + 0x8]
009f93ca : TEST ESI,ESI
009f93cc : JZ 0x009f974e
009f93d2 : PUSH 0xca7094
009f93d7 : LEA ECX,[EBP + -0x48]
009f93da : CALL 0x00406460
009f93df : MOV byte ptr [EBP + -0x4],0x3
009f93e3 : PUSH 0xca7098
009f93e8 : LEA ECX,[EBP + -0x2c]
009f93eb : CALL 0x00406460
009f93f0 : MOV byte ptr [EBP + -0x4],0x4
009f93f4 : CMP EDI,0x1
009f93f7 : JZ 0x009f9439
009f93f9 : CMP EDI,0x2
009f93fc : JZ 0x009f9439
009f93fe : CMP EDI,0x3
009f9401 : JZ 0x009f9439
009f9403 : CMP EDI,0x6
009f9406 : JNZ 0x009f9448
009f9408 : MOV EAX,[0x0172491c]
009f940d : PUSH EAX
009f940e : MOV ECX,0xca70a0
009f9413 : LEA ESI,[EBP + -0x64]
009f9416 : CALL 0x0081cbe0
009f941b : MOV byte ptr [EBP + -0x4],0x5
009f941f : PUSH -0x1
009f9421 : PUSH 0x0
009f9423 : PUSH EAX
009f9424 : LEA ECX,[EBP + -0x2c]
009f9427 : CALL 0x00405eb0
009f942c : MOV byte ptr [EBP + -0x4],0x4
009f9430 : MOV ECX,ESI
009f9432 : CALL 0x00406560
009f9437 : JMP 0x009f9452
009f9439 : PUSH 0x1
009f943b : PUSH 0xca709c
009f9440 : LEA ECX,[EBP + -0x2c]
009f9443 : CALL 0x00406360
009f9448 : CMP EDI,0x5
009f944b : JZ 0x009f949d
009f944d : CMP EDI,0x7
009f9450 : JZ 0x009f949d
009f9452 : MOV ECX,dword ptr [EBP + 0x14]
009f9455 : MOV EAX,0x8
009f945a : CMP dword ptr [EBP + 0x28],EAX
009f945d : JNC 0x009f9462
009f945f : LEA ECX,[EBP + 0x14]
009f9462 : CMP dword ptr [EBP + 0x60],EAX
009f9465 : MOV EAX,dword ptr [EBP + 0x4c]
009f9468 : JNC 0x009f946d
009f946a : LEA EAX,[EBP + 0x4c]
009f946d : PUSH ECX
009f946e : PUSH EAX
009f946f : PUSH 0xca70a8
009f9474 : LEA ESI,[EBP + -0x64]
009f9477 : CALL 0x00404750
009f947c : ADD ESP,0xc
009f947f : MOV byte ptr [EBP + -0x4],0x6
009f9483 : PUSH -0x1
009f9485 : PUSH 0x0
009f9487 : PUSH EAX
009f9488 : MOV ECX,EBX
009f948a : CALL 0x00405c30
009f948f : MOV byte ptr [EBP + -0x4],0x4
009f9493 : MOV ECX,ESI
009f9495 : CALL 0x00406560
009f949a : MOV ESI,dword ptr [EBP + 0x8]
009f949d : CMP EDI,0x2
009f94a0 : JZ 0x009f94c5
009f94a2 : CMP EDI,0x3
009f94a5 : JZ 0x009f94c5
009f94a7 : CMP EDI,0x4
009f94aa : JZ 0x009f94c5
009f94ac : CMP EDI,0x5
009f94af : JZ 0x009f94c5
009f94b1 : CMP EDI,0x7
009f94b4 : JZ 0x009f94c5
009f94b6 : TEST ESI,ESI
009f94b8 : JLE 0x009f94c5
009f94ba : PUSH EBX
009f94bb : MOV EDX,0xca70b4
009f94c0 : CALL 0x00404980
009f94c5 : CMP EDI,0x6
009f94c8 : JNZ 0x009f9518
009f94ca : MOV ECX,dword ptr [EBP + 0x30]
009f94cd : MOV EAX,0x8
009f94d2 : CVTSI2SS XMM0,ESI
009f94d6 : MULSS XMM0,dword ptr [0x00cdf128]
009f94de : CMP dword ptr [EBP + 0x44],EAX
009f94e1 : JNC 0x009f94e6
009f94e3 : LEA ECX,[EBP + 0x30]
009f94e6 : CMP dword ptr [EBP + -0x14],EAX
009f94e9 : MOV EAX,dword ptr [EBP + -0x28]
009f94ec : JNC 0x009f94f1
009f94ee : LEA EAX,[EBP + -0x28]
009f94f1 : PUSH ECX
009f94f2 : PUSH EAX
009f94f3 : SUB ESP,0x8
009f94f6 : CVTSS2SD XMM0,XMM0
009f94fa : MOVSD qword ptr [ESP],XMM0
009f94ff : PUSH 0xca70e0
009f9504 : LEA ESI,[EBP + -0x64]
009f9507 : CALL 0x00404750
009f950c : ADD ESP,0x14
009f950f : MOV byte ptr [EBP + -0x4],0x9
009f9513 : JMP 0x009f95e7
009f9518 : CMP EDI,0x5
009f951b : JZ 0x009f96c0
009f9521 : CVTSI2SS XMM0,ESI
009f9525 : MULSS XMM0,dword ptr [0x00cdf23c]
009f952d : CMP EDI,0x1
009f9530 : JNZ 0x009f95a5
009f9532 : MOV ECX,dword ptr [EBP + 0x30]
009f9535 : MOV EDI,0x8
009f953a : CMP dword ptr [EBP + 0x44],EDI
009f953d : JNC 0x009f9542
009f953f : LEA ECX,[EBP + 0x30]
009f9542 : MOV EAX,dword ptr [EBP + -0x28]
009f9545 : CMP dword ptr [EBP + -0x14],EDI
009f9548 : JNC 0x009f954d
009f954a : LEA EAX,[EBP + -0x28]
009f954d : PUSH ECX
009f954e : PUSH EAX
009f954f : SUB ESP,0x8
009f9552 : CVTSS2SD XMM0,XMM0
009f9556 : MOVSD qword ptr [ESP],XMM0
009f955b : PUSH 0xca70b8
009f9560 : LEA ESI,[EBP + -0x64]
009f9563 : CALL 0x00404750
009f9568 : ADD ESP,0x14
009f956b : MOV byte ptr [EBP + -0x4],0x7
009f956f : PUSH -0x1
009f9571 : PUSH 0x0
009f9573 : PUSH EAX
009f9574 : MOV ECX,EBX
009f9576 : CALL 0x00405c30
009f957b : MOV byte ptr [EBP + -0x4],0x4
009f957f : CMP dword ptr [EBP + -0x4c],EDI
009f9582 : JC 0x009f958c
009f9584 : MOV ECX,dword ptr [EBP + -0x60]
009f9587 : CALL 0x006f04e0
009f958c : XOR ECX,ECX
009f958e : MOV dword ptr [EBP + -0x4c],0x7
009f9595 : MOV dword ptr [EBP + -0x50],0x0
009f959c : MOV word ptr [EBP + -0x60],CX
009f95a0 : JMP 0x009f9706
009f95a5 : CMP EDI,0x2
009f95a8 : JNZ 0x009f95ff
009f95aa : MOV ECX,dword ptr [EBP + 0x30]
009f95ad : MOV EAX,0x8
009f95b2 : CMP dword ptr [EBP + 0x44],EAX
009f95b5 : JNC 0x009f95ba
009f95b7 : LEA ECX,[EBP + 0x30]
009f95ba : CMP dword ptr [EBP + -0x14],EAX
009f95bd : MOV EAX,dword ptr [EBP + -0x28]
009f95c0 : JNC 0x009f95c5
009f95c2 : LEA EAX,[EBP + -0x28]
009f95c5 : PUSH ECX
009f95c6 : PUSH EAX
009f95c7 : SUB ESP,0x8
009f95ca : CVTSS2SD XMM0,XMM0
009f95ce : MOVSD qword ptr [ESP],XMM0
009f95d3 : PUSH 0xca70cc
009f95d8 : LEA ESI,[EBP + -0x64]
009f95db : CALL 0x00404750
009f95e0 : ADD ESP,0x14
009f95e3 : MOV byte ptr [EBP + -0x4],0x8
009f95e7 : PUSH -0x1
009f95e9 : PUSH 0x0
009f95eb : PUSH EAX
009f95ec : MOV ECX,EBX
009f95ee : CALL 0x00405c30
009f95f3 : MOV byte ptr [EBP + -0x4],0x4
009f95f7 : LEA ECX,[EBP + -0x64]
009f95fa : JMP 0x009f9701
009f95ff : CMP EDI,0x3
009f9602 : JNZ 0x009f9655
009f9604 : MOV ECX,dword ptr [EBP + 0x30]
009f9607 : MOV EAX,0x8
009f960c : CMP dword ptr [EBP + 0x44],EAX
009f960f : JNC 0x009f9614
009f9611 : LEA ECX,[EBP + 0x30]
009f9614 : CMP dword ptr [EBP + -0x14],EAX
009f9617 : MOV EAX,dword ptr [EBP + -0x28]
009f961a : JNC 0x009f961f
009f961c : LEA EAX,[EBP + -0x28]
009f961f : PUSH ECX
009f9620 : PUSH EAX
009f9621 : SUB ESP,0x8
009f9624 : CVTSS2SD XMM0,XMM0
009f9628 : MOVSD qword ptr [ESP],XMM0
009f962d : PUSH 0xca70f4
009f9632 : LEA ESI,[EBP + -0x64]
009f9635 : CALL 0x00404750
009f963a : ADD ESP,0x14
009f963d : MOV byte ptr [EBP + -0x4],0xa
009f9641 : PUSH EAX
009f9642 : MOV ECX,EBX
009f9644 : CALL 0x00405d50
009f9649 : MOV byte ptr [EBP + -0x4],0x4
009f964d : LEA ECX,[EBP + -0x64]
009f9650 : JMP 0x009f9701
009f9655 : CMP EDI,0x4
009f9658 : JNZ 0x009f96c0
009f965a : PUSH 0x1411
009f965f : MOV EDI,ESI
009f9661 : CALL 0x00703c00
009f9666 : ADD ESP,0x4
009f9669 : TEST EAX,EAX
009f966b : JZ 0x009f9706
009f9671 : LEA EDX,[EAX + 0x18]
009f9674 : MOV EAX,[0x0172491c]
009f9679 : PUSH 0x0
009f967b : PUSH EAX
009f967c : LEA ESI,[EBP + -0x80]
009f967f : CALL 0x00824a20
009f9684 : MOV byte ptr [EBP + -0x4],0xb
009f9688 : CMP dword ptr [EAX + 0x18],0x8
009f968c : JC 0x009f9693
009f968e : MOV EAX,dword ptr [EAX + 0x4]
009f9691 : JMP 0x009f9696
009f9693 : ADD EAX,0x4
009f9696 : PUSH EAX
009f9697 : PUSH 0xca7110
009f969c : LEA ESI,[EBP + -0x64]
009f969f : CALL 0x00404750
009f96a4 : ADD ESP,0x8
009f96a7 : MOV byte ptr [EBP + -0x4],0xc
009f96ab : PUSH EAX
009f96ac : MOV ECX,EBX
009f96ae : CALL 0x00405d50
009f96b3 : MOV byte ptr [EBP + -0x4],0xb
009f96b7 : MOV ECX,ESI
009f96b9 : CALL 0x00406560
009f96be : JMP 0x009f96fa
009f96c0 : MOV ECX,dword ptr [EBP + 0x30]
009f96c3 : MOV EAX,0x8
009f96c8 : CMP dword ptr [EBP + 0x44],EAX
009f96cb : JNC 0x009f96d0
009f96cd : LEA ECX,[EBP + 0x30]
009f96d0 : CMP dword ptr [EBP + -0x14],EAX
009f96d3 : MOV EAX,dword ptr [EBP + -0x28]
009f96d6 : JNC 0x009f96db
009f96d8 : LEA EAX,[EBP + -0x28]
009f96db : PUSH ECX
009f96dc : PUSH EAX
009f96dd : PUSH ESI
009f96de : PUSH 0xca7120
009f96e3 : LEA ESI,[EBP + -0x80]
009f96e6 : CALL 0x00404750
009f96eb : ADD ESP,0x10
009f96ee : MOV byte ptr [EBP + -0x4],0xd
009f96f2 : PUSH EAX
009f96f3 : MOV ECX,EBX
009f96f5 : CALL 0x00405d50
009f96fa : MOV byte ptr [EBP + -0x4],0x4
009f96fe : LEA ECX,[EBP + -0x80]
009f9701 : CALL 0x00406560
009f9706 : MOV byte ptr [EBP + -0x4],0x3
009f970a : MOV EBX,0x8
009f970f : CMP dword ptr [EBP + -0x14],EBX
009f9712 : JC 0x009f971c
009f9714 : MOV ECX,dword ptr [EBP + -0x28]
009f9717 : CALL 0x006f04e0
009f971c : MOV ESI,0x7
009f9721 : XOR EDI,EDI
009f9723 : XOR ECX,ECX
009f9725 : MOV dword ptr [EBP + -0x14],ESI
009f9728 : MOV dword ptr [EBP + -0x18],EDI
009f972b : MOV word ptr [EBP + -0x28],CX
009f972f : MOV byte ptr [EBP + -0x4],0x2
009f9733 : CMP dword ptr [EBP + -0x30],EBX
009f9736 : JC 0x009f9740
009f9738 : MOV ECX,dword ptr [EBP + -0x44]
009f973b : CALL 0x006f04e0
009f9740 : XOR EDX,EDX
009f9742 : MOV dword ptr [EBP + -0x30],ESI
009f9745 : MOV dword ptr [EBP + -0x34],EDI
009f9748 : MOV word ptr [EBP + -0x44],DX
009f974c : JMP 0x009f9753
009f974e : MOV ESI,0x7
009f9753 : MOV byte ptr [EBP + -0x4],0x1
009f9757 : MOV EDI,0x8
009f975c : CMP dword ptr [EBP + 0x28],EDI
009f975f : JC 0x009f9769
009f9761 : MOV ECX,dword ptr [EBP + 0x14]
009f9764 : CALL 0x006f04e0
009f9769 : XOR EAX,EAX
009f976b : MOV dword ptr [EBP + 0x28],ESI
009f976e : MOV dword ptr [EBP + 0x24],0x0
009f9775 : MOV word ptr [EBP + 0x14],AX
009f9779 : MOV byte ptr [EBP + -0x4],AL
009f977c : CMP dword ptr [EBP + 0x44],EDI
009f977f : JC 0x009f9789
009f9781 : MOV ECX,dword ptr [EBP + 0x30]
009f9784 : CALL 0x006f04e0
009f9789 : XOR ECX,ECX
009f978b : MOV dword ptr [EBP + 0x44],ESI
009f978e : MOV dword ptr [EBP + 0x40],0x0
009f9795 : MOV word ptr [EBP + 0x30],CX
009f9799 : MOV dword ptr [EBP + -0x4],0xffffffff
009f97a0 : CMP dword ptr [EBP + 0x60],EDI
009f97a3 : JC 0x009f97ad
009f97a5 : MOV ECX,dword ptr [EBP + 0x4c]
009f97a8 : CALL 0x006f04e0
009f97ad : XOR EDX,EDX
009f97af : MOV dword ptr [EBP + 0x60],ESI
009f97b2 : MOV dword ptr [EBP + 0x5c],0x0
009f97b9 : MOV word ptr [EBP + 0x4c],DX
009f97bd : MOV ECX,dword ptr [EBP + -0xc]
009f97c0 : MOV dword ptr FS:[0x0],ECX
009f97c7 : POP ECX
009f97c8 : POP EDI
009f97c9 : POP ESI
009f97ca : POP EBX
009f97cb : MOV ECX,dword ptr [EBP + -0x10]
009f97ce : XOR ECX,EBP
009f97d0 : CALL 0x00633e6b
009f97d5 : MOV ESP,EBP
009f97d7 : POP EBP
009f97d8 : RET 0x5c
