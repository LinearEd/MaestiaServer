PROGRAM  : Maestia.exe
FUNCTION : FUN_005a3ec0
ENTRY    : 005a3ec0
BODY     : [[005a3ec0, 005a3f85]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005a3ec0(int param_1,int *param_2,undefined4 param_3,undefined4 param_4)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int in_ECX;
  uint uVar4;
  int *piStack_1c;
  int iStack_18;
  int iStack_14;
  undefined1 uStack_10;
  
  if ((((param_1 != 0) && (*(int *)(param_1 + 0xc) == in_ECX)) &&
      (iVar1 = *(int *)(param_1 + 8), iVar1 != 0)) && (*(int *)(iVar1 + 8) != 0)) {
    piVar2 = *(int **)(*param_2 + 0xc);
    (**(code **)(*piVar2 + 0x28))(param_4);
    iStack_14 = iVar1 + 0x1c;
    uStack_10 = 0;
    uVar4 = 0;
    do {
      FUN_005a3ad0(&piStack_1c);
      while ((piStack_1c != (int *)0x0 && (*piStack_1c != 0))) {
        if (*(int *)(*piStack_1c + 4) < iStack_18) break;
        iVar3 = iStack_18 * 0x20 + *piStack_1c;
        if (*(uint *)(iVar3 + 0x14) == uVar4) {
          (**(code **)(*piVar2 + 0x68))
                    (*(undefined4 *)(iVar1 + 4),*(undefined4 *)(iVar1 + 8),
                     *(undefined4 *)(iVar3 + 0x18),*(undefined4 *)(iVar3 + 0x20),
                     *(undefined4 *)(iVar3 + 0x24),param_3,&iStack_14);
        }
        FUN_005a2d70();
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < 2);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005a3ec0 : PUSH EBP
005a3ec1 : MOV EBP,ESP
005a3ec3 : AND ESP,0xfffffff8
005a3ec6 : MOV EAX,dword ptr [EBP + 0x8]
005a3ec9 : SUB ESP,0x14
005a3ecc : PUSH EBX
005a3ecd : PUSH ESI
005a3ece : PUSH EDI
005a3ecf : TEST EAX,EAX
005a3ed1 : JZ 0x005a3f7d
005a3ed7 : CMP dword ptr [EAX + 0xc],ECX
005a3eda : JNZ 0x005a3f7d
005a3ee0 : MOV ESI,dword ptr [EAX + 0x8]
005a3ee3 : TEST ESI,ESI
005a3ee5 : JZ 0x005a3f7d
005a3eeb : CMP dword ptr [ESI + 0x8],0x0
005a3eef : JBE 0x005a3f7d
005a3ef5 : MOV EAX,dword ptr [EBP + 0xc]
005a3ef8 : MOV ECX,dword ptr [EAX]
005a3efa : MOV EDI,dword ptr [ECX + 0xc]
005a3efd : MOV EDX,dword ptr [EDI]
005a3eff : MOV EAX,dword ptr [EBP + 0x14]
005a3f02 : MOV EDX,dword ptr [EDX + 0x28]
005a3f05 : PUSH EAX
005a3f06 : MOV ECX,EDI
005a3f08 : CALL EDX
005a3f0a : LEA EAX,[ESI + 0x1c]
005a3f0d : MOV dword ptr [ESP + 0x18],EAX
005a3f11 : MOV byte ptr [ESP + 0x1c],0x0
005a3f16 : XOR EBX,EBX
005a3f18 : LEA ECX,[ESP + 0x10]
005a3f1c : PUSH ECX
005a3f1d : MOV ECX,ESI
005a3f1f : CALL 0x005a3ad0
005a3f24 : MOV EAX,dword ptr [ESP + 0x10]
005a3f28 : TEST EAX,EAX
005a3f2a : JZ 0x005a3f77
005a3f2c : CMP dword ptr [EAX],0x0
005a3f2f : JZ 0x005a3f77
005a3f31 : MOV ECX,dword ptr [EAX]
005a3f33 : MOV EAX,dword ptr [ESP + 0x14]
005a3f37 : CMP EAX,dword ptr [ECX + 0x4]
005a3f3a : JG 0x005a3f77
005a3f3c : SHL EAX,0x5
005a3f3f : ADD EAX,ECX
005a3f41 : CMP dword ptr [EAX + 0x14],EBX
005a3f44 : JNZ 0x005a3f6c
005a3f46 : MOV EDX,dword ptr [EDI]
005a3f48 : MOV EDX,dword ptr [EDX + 0x68]
005a3f4b : LEA ECX,[ESP + 0x18]
005a3f4f : PUSH ECX
005a3f50 : MOV ECX,dword ptr [EBP + 0x10]
005a3f53 : PUSH ECX
005a3f54 : MOV ECX,dword ptr [EAX + 0x24]
005a3f57 : PUSH ECX
005a3f58 : MOV ECX,dword ptr [EAX + 0x20]
005a3f5b : MOV EAX,dword ptr [EAX + 0x18]
005a3f5e : PUSH ECX
005a3f5f : MOV ECX,dword ptr [ESI + 0x8]
005a3f62 : PUSH EAX
005a3f63 : MOV EAX,dword ptr [ESI + 0x4]
005a3f66 : PUSH ECX
005a3f67 : PUSH EAX
005a3f68 : MOV ECX,EDI
005a3f6a : CALL EDX
005a3f6c : LEA ECX,[ESP + 0x10]
005a3f70 : CALL 0x005a2d70
005a3f75 : JMP 0x005a3f24
005a3f77 : INC EBX
005a3f78 : CMP EBX,0x2
005a3f7b : JC 0x005a3f18
005a3f7d : POP EDI
005a3f7e : POP ESI
005a3f7f : POP EBX
005a3f80 : MOV ESP,EBP
005a3f82 : POP EBP
005a3f83 : RET 0x10
