PROGRAM  : Maestia.exe
FUNCTION : __local_unwind2
ENTRY    : 0065d499
BODY     : [[0065d499, 0065d51c]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    __local_unwind2
   
   Libraries: Visual Studio 2017 Debug, Visual Studio 2017 Release, Visual Studio 2019 Debug, Visual
   Studio 2019 Release */

void __local_unwind2(int param_1,uint param_2)

{
  uint uVar1;
  uint uVar2;
  void *local_20;
  undefined1 *puStack_1c;
  undefined4 local_18;
  int iStack_14;
  
  iStack_14 = param_1;
  puStack_1c = &LAB_0065d454;
  local_20 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&local_20;
  ExceptionList = &local_20;
  while( true ) {
    uVar1 = *(uint *)(param_1 + 0xc);
    if ((uVar1 == 0xffffffff) || ((param_2 != 0xffffffff && (uVar1 <= param_2)))) break;
    local_18 = *(undefined4 *)(*(int *)(param_1 + 8) + uVar1 * 0xc);
    *(undefined4 *)(param_1 + 0xc) = local_18;
    if (*(int *)(*(int *)(param_1 + 8) + 4 + uVar1 * 0xc) == 0) {
      __NLG_Notify(0x101);
      FUN_0065d568(uVar2);
    }
  }
  ExceptionList = local_20;
  return;
}



============================================================
DISASSEMBLY
============================================================
0065d499 : PUSH EBX
0065d49a : PUSH ESI
0065d49b : PUSH EDI
0065d49c : MOV EAX,dword ptr [ESP + 0x10]
0065d4a0 : PUSH EBP
0065d4a1 : PUSH EAX
0065d4a2 : PUSH -0x2
0065d4a4 : PUSH 0x65d454
0065d4a9 : PUSH dword ptr FS:[0x0]
0065d4b0 : MOV EAX,[0x00d66fa0]
0065d4b5 : XOR EAX,ESP
0065d4b7 : PUSH EAX
0065d4b8 : LEA EAX,[ESP + 0x4]
0065d4bc : MOV FS:[0x0],EAX
0065d4c2 : MOV EAX,dword ptr [ESP + 0x28]
0065d4c6 : MOV EBX,dword ptr [EAX + 0x8]
0065d4c9 : MOV ESI,dword ptr [EAX + 0xc]
0065d4cc : CMP ESI,-0x1
0065d4cf : JZ 0x0065d50b
0065d4d1 : CMP dword ptr [ESP + 0x2c],-0x1
0065d4d6 : JZ 0x0065d4de
0065d4d8 : CMP ESI,dword ptr [ESP + 0x2c]
0065d4dc : JBE 0x0065d50b
0065d4de : LEA ESI,[ESI + ESI*0x2]
0065d4e1 : MOV ECX,dword ptr [EBX + ESI*0x4]
0065d4e4 : MOV dword ptr [ESP + 0xc],ECX
0065d4e8 : MOV dword ptr [EAX + 0xc],ECX
0065d4eb : CMP dword ptr [EBX + ESI*0x4 + 0x4],0x0
0065d4f0 : JNZ 0x0065d509
0065d4f2 : PUSH 0x101
0065d4f7 : MOV EAX,dword ptr [EBX + ESI*0x4 + 0x8]
0065d4fb : CALL 0x0065d549
0065d500 : MOV EAX,dword ptr [EBX + ESI*0x4 + 0x8]
0065d504 : CALL 0x0065d568
0065d509 : JMP 0x0065d4c2
0065d50b : MOV ECX,dword ptr [ESP + 0x4]
0065d50f : MOV dword ptr FS:[0x0],ECX
0065d516 : ADD ESP,0x18
0065d519 : POP EDI
0065d51a : POP ESI
0065d51b : POP EBX
0065d51c : RET
