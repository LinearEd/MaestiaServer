PROGRAM  : Maestia.exe
FUNCTION : FUN_0055c520
ENTRY    : 0055c520
BODY     : [[0055c520, 0055c5c2]]

============================================================
DECOMPILED C CODE
============================================================

byte FUN_0055c520(GRefCountImpl *param_1,GRefCountImpl *param_2,GRefCountImpl *param_3,
                 GRefCountImpl *param_4)

{
  int in_ECX;
  byte bVar1;
  
  bVar1 = 0;
  if (*(GRefCountImpl **)(in_ECX + 0xc) != param_1) {
    if (param_1 != (GRefCountImpl *)0x0) {
      GRefCountImpl::AddRef(param_1);
    }
    if (*(GRefCountImpl **)(in_ECX + 0xc) != (GRefCountImpl *)0x0) {
      GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0xc));
    }
    *(GRefCountImpl **)(in_ECX + 0xc) = param_1;
  }
  if (*(GRefCountImpl **)(in_ECX + 0x10) != param_2) {
    bVar1 = 1;
    if (param_2 != (GRefCountImpl *)0x0) {
      GRefCountImpl::AddRef(param_2);
    }
    if (*(GRefCountImpl **)(in_ECX + 0x10) != (GRefCountImpl *)0x0) {
      GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x10));
    }
    *(GRefCountImpl **)(in_ECX + 0x10) = param_2;
  }
  if (*(GRefCountImpl **)(in_ECX + 0x14) != param_3) {
    bVar1 = bVar1 | 2;
    if (param_3 != (GRefCountImpl *)0x0) {
      GRefCountImpl::AddRef(param_3);
    }
    if (*(GRefCountImpl **)(in_ECX + 0x14) != (GRefCountImpl *)0x0) {
      GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x14));
    }
    *(GRefCountImpl **)(in_ECX + 0x14) = param_3;
  }
  if (*(GRefCountImpl **)(in_ECX + 0x18) != param_4) {
    bVar1 = 3;
    if (param_4 != (GRefCountImpl *)0x0) {
      GRefCountImpl::AddRef(param_4);
    }
    if (*(GRefCountImpl **)(in_ECX + 0x18) != (GRefCountImpl *)0x0) {
      GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x18));
    }
    *(GRefCountImpl **)(in_ECX + 0x18) = param_4;
  }
  return bVar1;
}



============================================================
DISASSEMBLY
============================================================
0055c520 : PUSH EBX
0055c521 : PUSH ESI
0055c522 : PUSH EDI
0055c523 : MOV EDI,dword ptr [ESP + 0x10]
0055c527 : MOV ESI,ECX
0055c529 : XOR BL,BL
0055c52b : CMP dword ptr [ESI + 0xc],EDI
0055c52e : JZ 0x0055c54a
0055c530 : TEST EDI,EDI
0055c532 : JZ 0x0055c53b
0055c534 : MOV ECX,EDI
0055c536 : CALL 0x00523dd0
0055c53b : MOV ECX,dword ptr [ESI + 0xc]
0055c53e : TEST ECX,ECX
0055c540 : JZ 0x0055c547
0055c542 : CALL 0x004ff7e0
0055c547 : MOV dword ptr [ESI + 0xc],EDI
0055c54a : MOV EDI,dword ptr [ESP + 0x14]
0055c54e : CMP dword ptr [ESI + 0x10],EDI
0055c551 : JZ 0x0055c56f
0055c553 : MOV BL,0x1
0055c555 : TEST EDI,EDI
0055c557 : JZ 0x0055c560
0055c559 : MOV ECX,EDI
0055c55b : CALL 0x00523dd0
0055c560 : MOV ECX,dword ptr [ESI + 0x10]
0055c563 : TEST ECX,ECX
0055c565 : JZ 0x0055c56c
0055c567 : CALL 0x004ff7e0
0055c56c : MOV dword ptr [ESI + 0x10],EDI
0055c56f : MOV EDI,dword ptr [ESP + 0x18]
0055c573 : CMP dword ptr [ESI + 0x14],EDI
0055c576 : JZ 0x0055c595
0055c578 : OR BL,0x2
0055c57b : TEST EDI,EDI
0055c57d : JZ 0x0055c586
0055c57f : MOV ECX,EDI
0055c581 : CALL 0x00523dd0
0055c586 : MOV ECX,dword ptr [ESI + 0x14]
0055c589 : TEST ECX,ECX
0055c58b : JZ 0x0055c592
0055c58d : CALL 0x004ff7e0
0055c592 : MOV dword ptr [ESI + 0x14],EDI
0055c595 : MOV EDI,dword ptr [ESP + 0x1c]
0055c599 : CMP dword ptr [ESI + 0x18],EDI
0055c59c : JZ 0x0055c5bb
0055c59e : OR BL,0x3
0055c5a1 : TEST EDI,EDI
0055c5a3 : JZ 0x0055c5ac
0055c5a5 : MOV ECX,EDI
0055c5a7 : CALL 0x00523dd0
0055c5ac : MOV ECX,dword ptr [ESI + 0x18]
0055c5af : TEST ECX,ECX
0055c5b1 : JZ 0x0055c5b8
0055c5b3 : CALL 0x004ff7e0
0055c5b8 : MOV dword ptr [ESI + 0x18],EDI
0055c5bb : POP EDI
0055c5bc : POP ESI
0055c5bd : MOV AL,BL
0055c5bf : POP EBX
0055c5c0 : RET 0x10
