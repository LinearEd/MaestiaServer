PROGRAM  : Maestia.exe
FUNCTION : FUN_0054fd30
ENTRY    : 0054fd30
BODY     : [[0054fd30, 0054fdfc] [0054fe00, 0054fe25]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0054fd30(void)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  int *piVar4;
  int in_ECX;
  int *piVar5;
  undefined1 local_8 [8];
  
  iVar1 = *(int *)(in_ECX + 0x18);
  piVar5 = (int *)(in_ECX + 0x18);
  if (iVar1 == 0) {
    uVar3 = 0;
    piVar5 = (int *)0x0;
  }
  else {
    uVar3 = 0;
    piVar4 = (int *)(iVar1 + 8);
    do {
      if (*piVar4 != -2) break;
      uVar3 = uVar3 + 1;
      piVar4 = piVar4 + 6;
    } while (uVar3 <= *(uint *)(iVar1 + 4));
  }
  do {
    if (((piVar5 == (int *)0x0) || (*piVar5 == 0)) || (*(int *)(*piVar5 + 4) < (int)uVar3)) break;
    FUN_005264c0();
    uVar2 = *(uint *)(*piVar5 + 4);
    if (((int)uVar3 <= (int)uVar2) && (uVar3 = uVar3 + 1, uVar3 <= uVar2)) {
      piVar4 = (int *)(*piVar5 + 8 + uVar3 * 0x18);
      do {
        if (*piVar4 != -2) break;
        uVar3 = uVar3 + 1;
        piVar4 = piVar4 + 6;
      } while (uVar3 <= uVar2);
    }
  } while( true );
  FUN_00568710();
  if (*(int *)(in_ECX + 0x28) == 0) {
LAB_0054fe10:
    if (*(int *)(in_ECX + 0x14) == 0) {
      return;
    }
    FUN_00503db0();
    return;
  }
  piVar4 = (int *)FUN_0054f300(local_8);
  piVar5 = (int *)*piVar4;
  uVar3 = piVar4[1];
  do {
    if (((piVar5 == (int *)0x0) || (*piVar5 == 0)) || (*(int *)(*piVar5 + 4) < (int)uVar3))
    goto LAB_0054fe10;
    FUN_00568710();
    FUN_005264c0();
    uVar2 = *(uint *)(*piVar5 + 4);
    if (((int)uVar3 <= (int)uVar2) && (uVar3 = uVar3 + 1, uVar3 <= uVar2)) {
      piVar4 = (int *)(*piVar5 + 8 + uVar3 * 0x24);
      do {
        if (*piVar4 != -2) break;
        uVar3 = uVar3 + 1;
        piVar4 = piVar4 + 9;
      } while (uVar3 <= uVar2);
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
0054fd30 : SUB ESP,0x8
0054fd33 : PUSH EBP
0054fd34 : MOV EBP,ECX
0054fd36 : MOV ECX,dword ptr [EBP + 0x18]
0054fd39 : PUSH ESI
0054fd3a : LEA ESI,[EBP + 0x18]
0054fd3d : PUSH EDI
0054fd3e : TEST ECX,ECX
0054fd40 : JNZ 0x0054fd46
0054fd42 : XOR EAX,EAX
0054fd44 : JMP 0x0054fd5f
0054fd46 : MOV EDX,dword ptr [ECX + 0x4]
0054fd49 : XOR EAX,EAX
0054fd4b : ADD ECX,0x8
0054fd4e : MOV EDI,EDI
0054fd50 : CMP dword ptr [ECX],-0x2
0054fd53 : JNZ 0x0054fd5d
0054fd55 : INC EAX
0054fd56 : ADD ECX,0x18
0054fd59 : CMP EAX,EDX
0054fd5b : JBE 0x0054fd50
0054fd5d : MOV ECX,ESI
0054fd5f : MOV EDI,ECX
0054fd61 : MOV ESI,EAX
0054fd63 : TEST EDI,EDI
0054fd65 : JZ 0x0054fda2
0054fd67 : MOV EAX,dword ptr [EDI]
0054fd69 : TEST EAX,EAX
0054fd6b : JZ 0x0054fda2
0054fd6d : CMP ESI,dword ptr [EAX + 0x4]
0054fd70 : JG 0x0054fda2
0054fd72 : LEA ECX,[ESI + ESI*0x2]
0054fd75 : LEA ECX,[EAX + ECX*0x8 + 0x10]
0054fd79 : CALL 0x005264c0
0054fd7e : MOV ECX,dword ptr [EDI]
0054fd80 : MOV EAX,dword ptr [ECX + 0x4]
0054fd83 : CMP ESI,EAX
0054fd85 : JG 0x0054fd63
0054fd87 : INC ESI
0054fd88 : CMP ESI,EAX
0054fd8a : JA 0x0054fd63
0054fd8c : LEA EDX,[ESI + ESI*0x2]
0054fd8f : LEA ECX,[ECX + EDX*0x8 + 0x8]
0054fd93 : CMP dword ptr [ECX],-0x2
0054fd96 : JNZ 0x0054fd63
0054fd98 : INC ESI
0054fd99 : ADD ECX,0x18
0054fd9c : CMP ESI,EAX
0054fd9e : JBE 0x0054fd93
0054fda0 : JMP 0x0054fd63
0054fda2 : LEA ECX,[EBP + 0x1c]
0054fda5 : CALL 0x00568710
0054fdaa : MOV ECX,dword ptr [EBP + 0x28]
0054fdad : TEST ECX,ECX
0054fdaf : JZ 0x0054fe10
0054fdb1 : PUSH EBX
0054fdb2 : LEA EAX,[ESP + 0x10]
0054fdb6 : PUSH EAX
0054fdb7 : CALL 0x0054f300
0054fdbc : MOV EBX,dword ptr [EAX]
0054fdbe : MOV ESI,dword ptr [EAX + 0x4]
0054fdc1 : TEST EBX,EBX
0054fdc3 : JZ 0x0054fe0f
0054fdc5 : MOV EAX,dword ptr [EBX]
0054fdc7 : TEST EAX,EAX
0054fdc9 : JZ 0x0054fe0f
0054fdcb : CMP ESI,dword ptr [EAX + 0x4]
0054fdce : JG 0x0054fe0f
0054fdd0 : LEA ECX,[ESI + ESI*0x8]
0054fdd3 : LEA EDI,[EAX + ECX*0x4 + 0x10]
0054fdd7 : MOV ECX,EDI
0054fdd9 : CALL 0x00568710
0054fdde : LEA ECX,[EDI + 0xc]
0054fde1 : CALL 0x005264c0
0054fde6 : MOV ECX,dword ptr [EBX]
0054fde8 : MOV EAX,dword ptr [ECX + 0x4]
0054fdeb : CMP ESI,EAX
0054fded : JG 0x0054fdc1
0054fdef : INC ESI
0054fdf0 : CMP ESI,EAX
0054fdf2 : JA 0x0054fdc1
0054fdf4 : LEA EDX,[ESI + ESI*0x8]
0054fdf7 : LEA ECX,[ECX + EDX*0x4 + 0x8]
0054fdfb : JMP 0x0054fe00
0054fe00 : CMP dword ptr [ECX],-0x2
0054fe03 : JNZ 0x0054fdc1
0054fe05 : INC ESI
0054fe06 : ADD ECX,0x24
0054fe09 : CMP ESI,EAX
0054fe0b : JBE 0x0054fe00
0054fe0d : JMP 0x0054fdc1
0054fe0f : POP EBX
0054fe10 : MOV ECX,dword ptr [EBP + 0x14]
0054fe13 : POP EDI
0054fe14 : POP ESI
0054fe15 : POP EBP
0054fe16 : TEST ECX,ECX
0054fe18 : JZ 0x0054fe22
0054fe1a : ADD ESP,0x8
0054fe1d : JMP 0x00503db0
0054fe22 : ADD ESP,0x8
0054fe25 : RET
