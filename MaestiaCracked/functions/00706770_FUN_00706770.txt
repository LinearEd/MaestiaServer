PROGRAM  : Maestia.exe
FUNCTION : FUN_00706770
ENTRY    : 00706770
BODY     : [[00706770, 00706943]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00706770(int param_1)

{
  short sVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int *in_ECX;
  int iVar5;
  int *piVar6;
  undefined1 local_8;
  
  (**(code **)(*in_ECX + 0xc))();
  FUN_004d0ff0();
  sVar1 = (short)in_ECX[0xc];
  uVar3 = 0;
  do {
    local_8 = (undefined1)sVar1;
    sVar1 = sVar1 >> 8;
    *(undefined1 *)(uVar3 + in_ECX[3]) = local_8;
    uVar3 = uVar3 + 1;
  } while (uVar3 < 2);
  sVar1 = *(short *)((int)in_ECX + 0x32);
  uVar3 = 0;
  do {
    local_8 = (undefined1)sVar1;
    sVar1 = sVar1 >> 8;
    *(undefined1 *)(in_ECX[3] + 2 + uVar3) = local_8;
    uVar3 = uVar3 + 1;
  } while (uVar3 < 2);
  iVar5 = in_ECX[0xd];
  uVar3 = 0;
  do {
    *(char *)(in_ECX[3] + 4 + uVar3) = (char)iVar5;
    uVar3 = uVar3 + 1;
    iVar5 = iVar5 >> 8;
  } while (uVar3 < 2);
  uVar3 = 0;
  do {
    *(undefined1 *)(in_ECX[3] + 6 + uVar3) = *(undefined1 *)((int)in_ECX + uVar3 + 0x38);
    uVar3 = uVar3 + 1;
  } while (uVar3 < 8);
  sVar1 = (short)in_ECX[0x10];
  uVar3 = 0;
  do {
    local_8 = (undefined1)sVar1;
    sVar1 = sVar1 >> 8;
    *(undefined1 *)(in_ECX[3] + 0xe + uVar3) = local_8;
    uVar3 = uVar3 + 1;
  } while (uVar3 < 2);
  iVar5 = in_ECX[0x11];
  uVar3 = 0;
  do {
    *(char *)(in_ECX[3] + 0x10 + uVar3) = (char)iVar5;
    uVar3 = uVar3 + 1;
    iVar5 = iVar5 >> 8;
  } while (uVar3 < 2);
  iVar5 = in_ECX[0x14];
  iVar4 = in_ECX[0x13];
  iVar2 = in_ECX[0x13];
  uVar3 = 0;
  if (iVar5 != iVar4) {
    do {
      *(undefined1 *)(in_ECX[3] + 0x12 + uVar3) = *(undefined1 *)(uVar3 + iVar2);
      uVar3 = uVar3 + 1;
    } while (uVar3 < (uint)(iVar5 - iVar4));
  }
  FUN_00705630(param_1);
  sVar1 = (short)in_ECX[0x16];
  iVar5 = in_ECX[6] + 4;
  if (sVar1 < 0x222) {
    if (sVar1 == 0x221) {
      (**(code **)(in_ECX[0x17] + 8))(iVar5 + param_1);
      iVar4 = (**(code **)(in_ECX[0x17] + 0x10))();
    }
    else {
      if (sVar1 == 0x36) {
        (**(code **)(in_ECX[0x4e] + 8))(iVar5 + param_1);
        piVar6 = in_ECX + 0x4e;
        goto LAB_00706900;
      }
      if (sVar1 != 0xbc) goto LAB_00706909;
      (**(code **)(in_ECX[0x2a] + 8))(iVar5 + param_1);
      iVar4 = (**(code **)(in_ECX[0x2a] + 0x10))();
    }
  }
  else {
    if (sVar1 != 0x4bc) goto LAB_00706909;
    (**(code **)(in_ECX[0x3c] + 8))(iVar5 + param_1);
    piVar6 = in_ECX + 0x3c;
LAB_00706900:
    iVar4 = (**(code **)(*piVar6 + 0x10))();
  }
  iVar5 = iVar5 + iVar4;
LAB_00706909:
  iVar4 = (**(code **)(in_ECX[0x5e] + 0xc))();
  if (iVar4 != 0) {
    (**(code **)(in_ECX[0x5e] + 8))(iVar5 + param_1);
  }
  (**(code **)(*in_ECX + 0x10))();
  return;
}



============================================================
DISASSEMBLY
============================================================
00706770 : PUSH EBP
00706771 : MOV EBP,ESP
00706773 : PUSH ECX
00706774 : PUSH EBX
00706775 : PUSH ESI
00706776 : MOV ESI,ECX
00706778 : MOV EAX,dword ptr [ESI]
0070677a : MOV EDX,dword ptr [EAX + 0xc]
0070677d : PUSH EDI
0070677e : CALL EDX
00706780 : LEA EDI,[ESI + 0x8]
00706783 : CALL 0x004d0ff0
00706788 : MOVZX EAX,word ptr [ESI + 0x30]
0070678c : MOV dword ptr [EBP + -0x4],EAX
0070678f : XOR EAX,EAX
00706791 : MOV DL,byte ptr [EBP + -0x4]
00706794 : MOV ECX,dword ptr [ESI + 0xc]
00706797 : SAR word ptr [EBP + -0x4],0x8
0070679c : MOV byte ptr [EAX + ECX*0x1],DL
0070679f : INC EAX
007067a0 : CMP EAX,0x2
007067a3 : JC 0x00706791
007067a5 : MOVZX EAX,word ptr [ESI + 0x32]
007067a9 : MOV dword ptr [EBP + -0x4],EAX
007067ac : XOR EAX,EAX
007067ae : MOV EDI,EDI
007067b0 : MOV DL,byte ptr [EBP + -0x4]
007067b3 : MOV ECX,dword ptr [ESI + 0xc]
007067b6 : SAR word ptr [EBP + -0x4],0x8
007067bb : MOV byte ptr [ECX + EAX*0x1 + 0x2],DL
007067bf : INC EAX
007067c0 : CMP EAX,0x2
007067c3 : JC 0x007067b0
007067c5 : MOV ECX,dword ptr [ESI + 0x34]
007067c8 : XOR EAX,EAX
007067ca : LEA EBX,[EBX]
007067d0 : MOV EDX,dword ptr [ESI + 0xc]
007067d3 : MOV byte ptr [EDX + EAX*0x1 + 0x4],CL
007067d7 : INC EAX
007067d8 : SAR ECX,0x8
007067db : CMP EAX,0x2
007067de : JC 0x007067d0
007067e0 : XOR EAX,EAX
007067e2 : MOV CL,byte ptr [ESI + EAX*0x1 + 0x38]
007067e6 : MOV EDX,dword ptr [ESI + 0xc]
007067e9 : MOV byte ptr [EDX + EAX*0x1 + 0x6],CL
007067ed : INC EAX
007067ee : CMP EAX,0x8
007067f1 : JC 0x007067e2
007067f3 : MOVZX EAX,word ptr [ESI + 0x40]
007067f7 : MOV dword ptr [EBP + -0x4],EAX
007067fa : XOR EAX,EAX
007067fc : LEA ESP,[ESP]
00706800 : MOV DL,byte ptr [EBP + -0x4]
00706803 : MOV ECX,dword ptr [ESI + 0xc]
00706806 : SAR word ptr [EBP + -0x4],0x8
0070680b : MOV byte ptr [ECX + EAX*0x1 + 0xe],DL
0070680f : INC EAX
00706810 : CMP EAX,0x2
00706813 : JC 0x00706800
00706815 : MOV ECX,dword ptr [ESI + 0x44]
00706818 : XOR EAX,EAX
0070681a : LEA EBX,[EBX]
00706820 : MOV EDX,dword ptr [ESI + 0xc]
00706823 : MOV byte ptr [EDX + EAX*0x1 + 0x10],CL
00706827 : INC EAX
00706828 : SAR ECX,0x8
0070682b : CMP EAX,0x2
0070682e : JC 0x00706820
00706830 : MOV ECX,dword ptr [ESI + 0x50]
00706833 : SUB ECX,dword ptr [ESI + 0x4c]
00706836 : MOV EDI,dword ptr [ESI + 0x4c]
00706839 : MOV EAX,0x0
0070683e : JZ 0x0070684f
00706840 : MOV DL,byte ptr [EAX + EDI*0x1]
00706843 : MOV EBX,dword ptr [ESI + 0xc]
00706846 : MOV byte ptr [EBX + EAX*0x1 + 0x12],DL
0070684a : INC EAX
0070684b : CMP EAX,ECX
0070684d : JC 0x00706840
0070684f : MOV EBX,dword ptr [EBP + 0x8]
00706852 : PUSH EBX
00706853 : MOV ECX,ESI
00706855 : CALL 0x00705630
0070685a : MOVSX EAX,word ptr [ESI + 0x58]
0070685e : MOV EDI,dword ptr [ESI + 0x18]
00706861 : ADD EDI,0x4
00706864 : CMP EAX,0x221
00706869 : JG 0x007068de
0070686b : JZ 0x007068c2
0070686d : CMP EAX,0x36
00706870 : JZ 0x007068a5
00706872 : CMP EAX,0xbc
00706877 : JNZ 0x00706909
0070687d : MOV EAX,dword ptr [ESI + 0xa8]
00706883 : MOV EAX,dword ptr [EAX + 0x8]
00706886 : LEA ECX,[ESI + 0xa8]
0070688c : LEA EDX,[EDI + EBX*0x1]
0070688f : PUSH EDX
00706890 : CALL EAX
00706892 : MOV EDX,dword ptr [ESI + 0xa8]
00706898 : MOV EAX,dword ptr [EDX + 0x10]
0070689b : LEA ECX,[ESI + 0xa8]
007068a1 : CALL EAX
007068a3 : JMP 0x00706907
007068a5 : MOV EDX,dword ptr [ESI + 0x138]
007068ab : MOV EDX,dword ptr [EDX + 0x8]
007068ae : LEA ECX,[ESI + 0x138]
007068b4 : LEA EAX,[EDI + EBX*0x1]
007068b7 : PUSH EAX
007068b8 : CALL EDX
007068ba : LEA ECX,[ESI + 0x138]
007068c0 : JMP 0x00706900
007068c2 : MOV EAX,dword ptr [ESI + 0x5c]
007068c5 : MOV EAX,dword ptr [EAX + 0x8]
007068c8 : LEA ECX,[ESI + 0x5c]
007068cb : LEA EDX,[EDI + EBX*0x1]
007068ce : PUSH EDX
007068cf : CALL EAX
007068d1 : MOV EDX,dword ptr [ESI + 0x5c]
007068d4 : MOV EAX,dword ptr [EDX + 0x10]
007068d7 : LEA ECX,[ESI + 0x5c]
007068da : CALL EAX
007068dc : JMP 0x00706907
007068de : CMP EAX,0x4bc
007068e3 : JNZ 0x00706909
007068e5 : MOV EDX,dword ptr [ESI + 0xf0]
007068eb : MOV EDX,dword ptr [EDX + 0x8]
007068ee : LEA ECX,[ESI + 0xf0]
007068f4 : LEA EAX,[EDI + EBX*0x1]
007068f7 : PUSH EAX
007068f8 : CALL EDX
007068fa : LEA ECX,[ESI + 0xf0]
00706900 : MOV EAX,dword ptr [ECX]
00706902 : MOV EDX,dword ptr [EAX + 0x10]
00706905 : CALL EDX
00706907 : ADD EDI,EAX
00706909 : MOV EAX,dword ptr [ESI + 0x178]
0070690f : MOV EDX,dword ptr [EAX + 0xc]
00706912 : LEA ECX,[ESI + 0x178]
00706918 : CALL EDX
0070691a : TEST EAX,EAX
0070691c : JZ 0x00706932
0070691e : MOV EAX,dword ptr [ESI + 0x178]
00706924 : MOV EDX,dword ptr [EAX + 0x8]
00706927 : LEA ECX,[ESI + 0x178]
0070692d : ADD EDI,EBX
0070692f : PUSH EDI
00706930 : CALL EDX
00706932 : MOV EAX,dword ptr [ESI]
00706934 : MOV EDX,dword ptr [EAX + 0x10]
00706937 : MOV ECX,ESI
00706939 : CALL EDX
0070693b : POP EDI
0070693c : POP ESI
0070693d : POP EBX
0070693e : MOV ESP,EBP
00706940 : POP EBP
00706941 : RET 0x4
