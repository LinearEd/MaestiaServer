PROGRAM  : Maestia.exe
FUNCTION : FUN_00a68050
ENTRY    : 00a68050
BODY     : [[00a68050, 00a681cf]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_00a68050(int *param_1,undefined4 param_2,int param_3,undefined4 param_4)

{
  int *piVar1;
  int *piVar2;
  uint uVar3;
  int *piVar4;
  undefined4 uVar5;
  undefined1 local_38 [32];
  undefined1 local_18 [8];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  piVar2 = param_1;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1b208;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  if (param_3 == 0) {
    piVar1 = param_1 + 0x1e;
    ExceptionList = &local_10;
    FUN_0043acd0(piVar1,&param_1);
    if (param_1 == (int *)piVar2[0x1f]) {
      param_1 = (int *)FUN_006f0760(0x80,".\\Event\\AvaAnimEventCtrl.cpp",0x23e,0,uVar3);
      local_8 = 0;
      if (param_1 == (int *)0x0) {
        piVar4 = (int *)0x0;
      }
      else {
        piVar4 = (int *)FUN_0082c390(param_1);
      }
      local_8 = 0xffffffff;
      param_1 = piVar4;
      uVar5 = FUN_0043c130(local_38,&param_1);
      local_8 = 1;
      FUN_0042f990(piVar1,local_18,uVar5);
      local_8 = 0xffffffff;
      FUN_0044cb00(local_38);
    }
    else {
      piVar4 = (int *)param_1[10];
    }
  }
  else {
    if (param_3 != 1) {
      return (int *)0x0;
    }
    ExceptionList = &local_10;
    param_1 = (int *)FUN_006f0760(0x58,".\\Event\\AvaAnimEventCtrl.cpp",0x250,0,uVar3);
    local_8 = 2;
    if (param_1 == (int *)0x0) {
      piVar4 = (int *)0x0;
    }
    else {
      piVar4 = (int *)FUN_0082c090(param_1);
    }
    local_8 = 0xffffffff;
    param_1 = piVar4;
    FUN_00449730();
  }
  (**(code **)(*piVar4 + 8))(param_4);
  (**(code **)(*piVar4 + 0xc))(piVar2 + 2);
  (**(code **)(*piVar4 + 0x10))(param_2);
  (**(code **)(*piVar4 + 0x18))((char)piVar2[0x1d]);
  (**(code **)(*piVar4 + 0x1c))(*piVar2);
  ExceptionList = local_10;
  return piVar4;
}



============================================================
DISASSEMBLY
============================================================
00a68050 : PUSH EBP
00a68051 : MOV EBP,ESP
00a68053 : PUSH -0x1
00a68055 : PUSH 0xb1b208
00a6805a : MOV EAX,FS:[0x0]
00a68060 : PUSH EAX
00a68061 : SUB ESP,0x2c
00a68064 : PUSH EBX
00a68065 : PUSH ESI
00a68066 : PUSH EDI
00a68067 : MOV EAX,[0x00d66fa0]
00a6806c : XOR EAX,EBP
00a6806e : PUSH EAX
00a6806f : LEA EAX,[EBP + -0xc]
00a68072 : MOV FS:[0x0],EAX
00a68078 : MOV EBX,dword ptr [EBP + 0x8]
00a6807b : MOV EAX,dword ptr [EBP + 0x10]
00a6807e : SUB EAX,0x0
00a68081 : JZ 0x00a680eb
00a68083 : SUB EAX,0x1
00a68086 : JZ 0x00a6809e
00a68088 : XOR EAX,EAX
00a6808a : MOV ECX,dword ptr [EBP + -0xc]
00a6808d : MOV dword ptr FS:[0x0],ECX
00a68094 : POP ECX
00a68095 : POP EDI
00a68096 : POP ESI
00a68097 : POP EBX
00a68098 : MOV ESP,EBP
00a6809a : POP EBP
00a6809b : RET 0x10
00a6809e : PUSH 0x0
00a680a0 : PUSH 0x250
00a680a5 : PUSH 0xc34fc0
00a680aa : PUSH 0x58
00a680ac : CALL 0x006f0760
00a680b1 : ADD ESP,0x10
00a680b4 : MOV dword ptr [EBP + 0x8],EAX
00a680b7 : MOV dword ptr [EBP + -0x4],0x2
00a680be : TEST EAX,EAX
00a680c0 : JZ 0x00a680ca
00a680c2 : PUSH EAX
00a680c3 : CALL 0x0082c090
00a680c8 : JMP 0x00a680cc
00a680ca : XOR EAX,EAX
00a680cc : MOV dword ptr [EBP + -0x4],0xffffffff
00a680d3 : MOV ESI,EAX
00a680d5 : LEA EDX,[EBX + 0x84]
00a680db : LEA EDI,[EBP + 0x8]
00a680de : MOV dword ptr [EBP + 0x8],ESI
00a680e1 : CALL 0x00449730
00a680e6 : JMP 0x00a68179
00a680eb : MOV ESI,dword ptr [EBP + 0xc]
00a680ee : LEA EAX,[EBP + 0x8]
00a680f1 : PUSH EAX
00a680f2 : LEA EDI,[EBX + 0x78]
00a680f5 : PUSH EDI
00a680f6 : CALL 0x0043acd0
00a680fb : MOV EAX,dword ptr [EBX + 0x7c]
00a680fe : MOV ECX,dword ptr [EBP + 0x8]
00a68101 : CMP ECX,EAX
00a68103 : JNZ 0x00a68176
00a68105 : PUSH 0x0
00a68107 : PUSH 0x23e
00a6810c : PUSH 0xc34f80
00a68111 : PUSH 0x80
00a68116 : CALL 0x006f0760
00a6811b : ADD ESP,0x10
00a6811e : MOV dword ptr [EBP + 0x8],EAX
00a68121 : MOV dword ptr [EBP + -0x4],0x0
00a68128 : TEST EAX,EAX
00a6812a : JZ 0x00a68134
00a6812c : PUSH EAX
00a6812d : CALL 0x0082c390
00a68132 : JMP 0x00a68136
00a68134 : XOR EAX,EAX
00a68136 : MOV dword ptr [EBP + -0x4],0xffffffff
00a6813d : LEA ECX,[EBP + 0x8]
00a68140 : PUSH ECX
00a68141 : MOV ECX,dword ptr [EBP + 0xc]
00a68144 : LEA EDX,[EBP + -0x34]
00a68147 : MOV ESI,EAX
00a68149 : PUSH EDX
00a6814a : MOV dword ptr [EBP + 0x8],ESI
00a6814d : CALL 0x0043c130
00a68152 : MOV dword ptr [EBP + -0x4],0x1
00a68159 : PUSH EAX
00a6815a : LEA EAX,[EBP + -0x14]
00a6815d : PUSH EAX
00a6815e : PUSH EDI
00a6815f : CALL 0x0042f990
00a68164 : MOV dword ptr [EBP + -0x4],0xffffffff
00a6816b : LEA ECX,[EBP + -0x34]
00a6816e : PUSH ECX
00a6816f : CALL 0x0044cb00
00a68174 : JMP 0x00a68179
00a68176 : MOV ESI,dword ptr [ECX + 0x28]
00a68179 : MOV EDX,dword ptr [ESI]
00a6817b : MOV EAX,dword ptr [EBP + 0x14]
00a6817e : MOV EDX,dword ptr [EDX + 0x8]
00a68181 : PUSH EAX
00a68182 : MOV ECX,ESI
00a68184 : CALL EDX
00a68186 : MOV EAX,dword ptr [ESI]
00a68188 : MOV EDX,dword ptr [EAX + 0xc]
00a6818b : LEA ECX,[EBX + 0x8]
00a6818e : PUSH ECX
00a6818f : MOV ECX,ESI
00a68191 : CALL EDX
00a68193 : MOV ECX,dword ptr [EBP + 0xc]
00a68196 : MOV EAX,dword ptr [ESI]
00a68198 : MOV EDX,dword ptr [EAX + 0x10]
00a6819b : PUSH ECX
00a6819c : MOV ECX,ESI
00a6819e : CALL EDX
00a681a0 : MOVZX ECX,byte ptr [EBX + 0x74]
00a681a4 : MOV EAX,dword ptr [ESI]
00a681a6 : MOV EDX,dword ptr [EAX + 0x18]
00a681a9 : PUSH ECX
00a681aa : MOV ECX,ESI
00a681ac : CALL EDX
00a681ae : MOV ECX,dword ptr [EBX]
00a681b0 : MOV EAX,dword ptr [ESI]
00a681b2 : MOV EDX,dword ptr [EAX + 0x1c]
00a681b5 : PUSH ECX
00a681b6 : MOV ECX,ESI
00a681b8 : CALL EDX
00a681ba : MOV EAX,ESI
00a681bc : MOV ECX,dword ptr [EBP + -0xc]
00a681bf : MOV dword ptr FS:[0x0],ECX
00a681c6 : POP ECX
00a681c7 : POP EDI
00a681c8 : POP ESI
00a681c9 : POP EBX
00a681ca : MOV ESP,EBP
00a681cc : POP EBP
00a681cd : RET 0x10
