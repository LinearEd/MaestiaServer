PROGRAM  : Maestia.exe
FUNCTION : FUN_00753110
ENTRY    : 00753110
BODY     : [[00753110, 0075329b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00753110(void)

{
  int *piVar1;
  size_t sVar2;
  int iVar3;
  int in_ECX;
  int iVar4;
  void *local_c;
  void *local_8;
  
  piVar1 = *(int **)(in_ECX + 0x30);
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 8))(piVar1);
    *(undefined4 *)(in_ECX + 0x30) = 0;
  }
  piVar1 = *(int **)(in_ECX + 0x34);
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 8))(piVar1);
    *(undefined4 *)(in_ECX + 0x34) = 0;
  }
  iVar3 = (*(int *)(in_ECX + 0x28) - *(int *)(in_ECX + 0x24)) / 0x1c;
  iVar4 = *(int *)(in_ECX + 0x18) - *(int *)(in_ECX + 0x14) >> 1;
  if ((0 < iVar3) && (0 < iVar4)) {
    piVar1 = *(int **)(DAT_017251ac + 0x18);
    sVar2 = iVar3 * 0x1c;
    iVar3 = (**(code **)(*piVar1 + 0x68))
                      (piVar1,sVar2,8,0x202,*(int *)(DAT_017251ac + 0x20) == 0,in_ECX + 0x30,0);
    if (iVar3 < 0) {
      FUN_008018d0(L"The river creates the VertexBuffer error");
      return;
    }
    local_8 = (void *)0x0;
    iVar3 = (**(code **)(**(int **)(in_ECX + 0x30) + 0x2c))
                      (*(int **)(in_ECX + 0x30),0,sVar2,&local_8,0);
    if (-1 < iVar3) {
      _memcpy(local_8,*(void **)(in_ECX + 0x24),sVar2);
      (**(code **)(**(int **)(in_ECX + 0x30) + 0x30))(*(int **)(in_ECX + 0x30));
    }
    sVar2 = iVar4 * 2;
    iVar3 = (**(code **)(*piVar1 + 0x6c))
                      (piVar1,sVar2,8,0x65,*(int *)(DAT_017251ac + 0x20) == 0,in_ECX + 0x34,0);
    if (iVar3 < 0) {
      FUN_008018d0(L"The river creates the index buffer error");
      return;
    }
    local_c = (void *)0x0;
    iVar3 = (**(code **)(**(int **)(in_ECX + 0x34) + 0x2c))
                      (*(int **)(in_ECX + 0x34),0,sVar2,&local_c,0);
    if (-1 < iVar3) {
      _memcpy(local_c,*(void **)(in_ECX + 0x14),sVar2);
      (**(code **)(**(int **)(in_ECX + 0x34) + 0x30))(*(int **)(in_ECX + 0x34));
      *(undefined1 *)(in_ECX + 4) = 1;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00753110 : PUSH EBP
00753111 : MOV EBP,ESP
00753113 : SUB ESP,0x10
00753116 : PUSH EBX
00753117 : MOV EBX,ECX
00753119 : MOV EAX,dword ptr [EBX + 0x30]
0075311c : TEST EAX,EAX
0075311e : JZ 0x0075312f
00753120 : MOV ECX,dword ptr [EAX]
00753122 : MOV EDX,dword ptr [ECX + 0x8]
00753125 : PUSH EAX
00753126 : CALL EDX
00753128 : MOV dword ptr [EBX + 0x30],0x0
0075312f : MOV EAX,dword ptr [EBX + 0x34]
00753132 : TEST EAX,EAX
00753134 : JZ 0x00753145
00753136 : MOV ECX,dword ptr [EAX]
00753138 : MOV EDX,dword ptr [ECX + 0x8]
0075313b : PUSH EAX
0075313c : CALL EDX
0075313e : MOV dword ptr [EBX + 0x34],0x0
00753145 : MOV ECX,dword ptr [EBX + 0x28]
00753148 : SUB ECX,dword ptr [EBX + 0x24]
0075314b : MOV EAX,0x92492493
00753150 : IMUL ECX
00753152 : ADD EDX,ECX
00753154 : MOV ECX,dword ptr [EBX + 0x18]
00753157 : SUB ECX,dword ptr [EBX + 0x14]
0075315a : SAR EDX,0x4
0075315d : MOV EAX,EDX
0075315f : SHR EAX,0x1f
00753162 : ADD EAX,EDX
00753164 : SAR ECX,0x1
00753166 : MOV dword ptr [EBP + -0xc],ECX
00753169 : TEST EAX,EAX
0075316b : JLE 0x00753297
00753171 : TEST ECX,ECX
00753173 : JLE 0x00753297
00753179 : MOV ECX,dword ptr [0x017251ac]
0075317f : PUSH ESI
00753180 : PUSH EDI
00753181 : MOV EDI,dword ptr [ECX + 0x18]
00753184 : MOV ECX,dword ptr [ECX + 0x20]
00753187 : MOV EDX,dword ptr [EDI]
00753189 : LEA ESI,[EAX*0x8 + 0x0]
00753190 : SUB ESI,EAX
00753192 : PUSH 0x0
00753194 : LEA EAX,[EBX + 0x30]
00753197 : PUSH EAX
00753198 : ADD ESI,ESI
0075319a : XOR EAX,EAX
0075319c : ADD ESI,ESI
0075319e : TEST ECX,ECX
007531a0 : MOV ECX,dword ptr [EDX + 0x68]
007531a3 : SETZ AL
007531a6 : PUSH EAX
007531a7 : PUSH 0x202
007531ac : PUSH 0x8
007531ae : PUSH ESI
007531af : PUSH EDI
007531b0 : CALL ECX
007531b2 : TEST EAX,EAX
007531b4 : JGE 0x007531d0
007531b6 : MOV ESI,dword ptr [0x00da98e8]
007531bc : PUSH 0xc0a4b0
007531c1 : CALL 0x008018d0
007531c6 : ADD ESP,0x4
007531c9 : POP EDI
007531ca : POP ESI
007531cb : POP EBX
007531cc : MOV ESP,EBP
007531ce : POP EBP
007531cf : RET
007531d0 : MOV EAX,dword ptr [EBX + 0x30]
007531d3 : PUSH 0x0
007531d5 : LEA ECX,[EBP + -0x4]
007531d8 : PUSH ECX
007531d9 : PUSH ESI
007531da : MOV dword ptr [EBP + -0x4],0x0
007531e1 : MOV EDX,dword ptr [EAX]
007531e3 : MOV EDX,dword ptr [EDX + 0x2c]
007531e6 : PUSH 0x0
007531e8 : PUSH EAX
007531e9 : CALL EDX
007531eb : TEST EAX,EAX
007531ed : JL 0x0075320b
007531ef : MOV EAX,dword ptr [EBX + 0x24]
007531f2 : MOV ECX,dword ptr [EBP + -0x4]
007531f5 : PUSH ESI
007531f6 : PUSH EAX
007531f7 : PUSH ECX
007531f8 : CALL 0x0063ae40
007531fd : MOV EAX,dword ptr [EBX + 0x30]
00753200 : MOV EDX,dword ptr [EAX]
00753202 : ADD ESP,0xc
00753205 : PUSH EAX
00753206 : MOV EAX,dword ptr [EDX + 0x30]
00753209 : CALL EAX
0075320b : MOV ECX,dword ptr [0x017251ac]
00753211 : MOV EDX,dword ptr [ECX + 0x20]
00753214 : MOV ESI,dword ptr [EBP + -0xc]
00753217 : MOV ECX,dword ptr [EDI]
00753219 : MOV dword ptr [EBP + -0x10],EDX
0075321c : XOR EDX,EDX
0075321e : ADD ESI,ESI
00753220 : CMP dword ptr [EBP + -0x10],EDX
00753223 : PUSH 0x0
00753225 : SETZ DL
00753228 : LEA EAX,[EBX + 0x34]
0075322b : PUSH EAX
0075322c : MOV EAX,dword ptr [ECX + 0x6c]
0075322f : PUSH EDX
00753230 : PUSH 0x65
00753232 : PUSH 0x8
00753234 : PUSH ESI
00753235 : PUSH EDI
00753236 : CALL EAX
00753238 : TEST EAX,EAX
0075323a : JGE 0x00753256
0075323c : MOV ESI,dword ptr [0x00da98e8]
00753242 : PUSH 0xc0a508
00753247 : CALL 0x008018d0
0075324c : ADD ESP,0x4
0075324f : POP EDI
00753250 : POP ESI
00753251 : POP EBX
00753252 : MOV ESP,EBP
00753254 : POP EBP
00753255 : RET
00753256 : MOV EAX,dword ptr [EBX + 0x34]
00753259 : PUSH 0x0
0075325b : LEA EDX,[EBP + -0x8]
0075325e : PUSH EDX
0075325f : PUSH ESI
00753260 : MOV dword ptr [EBP + -0x8],0x0
00753267 : MOV ECX,dword ptr [EAX]
00753269 : PUSH 0x0
0075326b : PUSH EAX
0075326c : MOV EAX,dword ptr [ECX + 0x2c]
0075326f : CALL EAX
00753271 : TEST EAX,EAX
00753273 : JL 0x00753295
00753275 : MOV ECX,dword ptr [EBX + 0x14]
00753278 : MOV EDX,dword ptr [EBP + -0x8]
0075327b : PUSH ESI
0075327c : PUSH ECX
0075327d : PUSH EDX
0075327e : CALL 0x0063ae40
00753283 : MOV EAX,dword ptr [EBX + 0x34]
00753286 : MOV ECX,dword ptr [EAX]
00753288 : MOV EDX,dword ptr [ECX + 0x30]
0075328b : ADD ESP,0xc
0075328e : PUSH EAX
0075328f : CALL EDX
00753291 : MOV byte ptr [EBX + 0x4],0x1
00753295 : POP EDI
00753296 : POP ESI
00753297 : POP EBX
00753298 : MOV ESP,EBP
0075329a : POP EBP
0075329b : RET
