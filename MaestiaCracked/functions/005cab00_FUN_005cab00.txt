PROGRAM  : Maestia.exe
FUNCTION : FUN_005cab00
ENTRY    : 005cab00
BODY     : [[005cab00, 005cab1c] [005cab20, 005cadd3]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x005cad8e) */
/* WARNING: Removing unreachable block (ram,0x005cad75) */
/* WARNING: Removing unreachable block (ram,0x005cada3) */

undefined4
FUN_005cab00(undefined4 param_1,undefined4 *param_2,undefined4 param_3,undefined4 param_4)

{
  byte bVar1;
  char cVar2;
  byte *pbVar3;
  int iVar4;
  byte *pbVar5;
  undefined4 uVar6;
  int in_ECX;
  char *pcVar7;
  uint uVar8;
  uint uVar9;
  bool bVar10;
  float10 fVar11;
  uint local_8;
  
  pbVar5 = *(byte **)*param_2;
  pcVar7 = "redMultiplier";
  pbVar3 = pbVar5;
  do {
    bVar1 = *pbVar3;
    bVar10 = bVar1 < (byte)*pcVar7;
    if (bVar1 != *pcVar7) {
LAB_005cab40:
      iVar4 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
      goto LAB_005cab45;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar3[1];
    bVar10 = bVar1 < ((byte *)pcVar7)[1];
    if (bVar1 != ((byte *)pcVar7)[1]) goto LAB_005cab40;
    pbVar3 = pbVar3 + 2;
    pcVar7 = (char *)((byte *)pcVar7 + 2);
  } while (bVar1 != 0);
  iVar4 = 0;
LAB_005cab45:
  if (iVar4 == 0) {
    fVar11 = (float10)FUN_00527730(param_1);
    *(float *)(in_ECX + 0x20) = (float)fVar11;
    return 1;
  }
  pcVar7 = "greenMultiplier";
  pbVar3 = pbVar5;
  do {
    bVar1 = *pbVar3;
    bVar10 = bVar1 < (byte)*pcVar7;
    if (bVar1 != *pcVar7) {
LAB_005cab90:
      iVar4 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
      goto LAB_005cab95;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar3[1];
    bVar10 = bVar1 < ((byte *)pcVar7)[1];
    if (bVar1 != ((byte *)pcVar7)[1]) goto LAB_005cab90;
    pbVar3 = pbVar3 + 2;
    pcVar7 = (char *)((byte *)pcVar7 + 2);
  } while (bVar1 != 0);
  iVar4 = 0;
LAB_005cab95:
  if (iVar4 == 0) {
    fVar11 = (float10)FUN_00527730(param_1);
    *(float *)(in_ECX + 0x28) = (float)fVar11;
    return 1;
  }
  pcVar7 = "blueMultiplier";
  do {
    bVar1 = *pbVar5;
    bVar10 = bVar1 < (byte)*pcVar7;
    if (bVar1 != *pcVar7) {
LAB_005cabe0:
      iVar4 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
      goto LAB_005cabe5;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar5[1];
    bVar10 = bVar1 < ((byte *)pcVar7)[1];
    if (bVar1 != ((byte *)pcVar7)[1]) goto LAB_005cabe0;
    pbVar5 = pbVar5 + 2;
    pcVar7 = (char *)((byte *)pcVar7 + 2);
  } while (bVar1 != 0);
  iVar4 = 0;
LAB_005cabe5:
  if (iVar4 == 0) {
    fVar11 = (float10)FUN_00527730(param_1);
    *(float *)(in_ECX + 0x30) = (float)fVar11;
    return 1;
  }
  cVar2 = FUN_004ffc90("alphaMultiplier");
  if (cVar2 != '\0') {
    fVar11 = (float10)FUN_00527730(param_1);
    *(float *)(in_ECX + 0x38) = (float)fVar11;
    return 1;
  }
  cVar2 = FUN_004ffc90("redOffset");
  if (cVar2 != '\0') {
    fVar11 = (float10)FUN_00527730(param_1);
    *(float *)(in_ECX + 0x24) = (float)fVar11;
    return 1;
  }
  cVar2 = FUN_004ffc90("greenOffset");
  if (cVar2 == '\0') {
    cVar2 = FUN_004ffc90("blueOffset");
    if (cVar2 != '\0') {
      fVar11 = (float10)FUN_00527730(param_1);
      *(float *)(in_ECX + 0x34) = (float)fVar11;
      return 1;
    }
    cVar2 = FUN_004ffc90("alphaOffset");
    if (cVar2 == '\0') {
      cVar2 = FUN_004ffc90(&DAT_00b923dc);
      if (cVar2 == '\0') {
        uVar6 = FUN_005520e0(param_1,param_2,param_3,param_4);
        return uVar6;
      }
      *(undefined4 *)(in_ECX + 0x20) = 0;
      *(undefined4 *)(in_ECX + 0x28) = 0;
      *(undefined4 *)(in_ECX + 0x30) = 0;
      uVar8 = 0;
      uVar9 = 0;
      local_8 = 0;
      fVar11 = (float10)FUN_00527730();
      cVar2 = FUN_0050a220((double)fVar11);
      if (cVar2 == '\0') {
        fVar11 = (float10)FUN_00527730();
        local_8 = (uint)(longlong)ROUND(fVar11);
        uVar8 = local_8 >> 0x10 & 0xff;
        uVar9 = local_8 >> 8 & 0xff;
        local_8 = local_8 & 0xff;
      }
      *(float *)(in_ECX + 0x24) = (float)uVar8;
      *(float *)(in_ECX + 0x2c) = (float)uVar9;
      *(float *)(in_ECX + 0x34) = (float)local_8;
      return 1;
    }
    fVar11 = (float10)FUN_00527730(param_1);
    *(float *)(in_ECX + 0x3c) = (float)fVar11;
    return 1;
  }
  fVar11 = (float10)FUN_00527730(param_1);
  *(float *)(in_ECX + 0x2c) = (float)fVar11;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
005cab00 : SUB ESP,0xc
005cab03 : PUSH EBX
005cab04 : MOV EBX,dword ptr [ESP + 0x18]
005cab08 : MOV EAX,dword ptr [EBX]
005cab0a : PUSH ESI
005cab0b : MOV ESI,dword ptr [EAX]
005cab0d : PUSH EDI
005cab0e : MOV EDI,ECX
005cab10 : MOV dword ptr [ESP + 0xc],EDI
005cab14 : MOV ECX,0xb92440
005cab19 : MOV EAX,ESI
005cab1b : JMP 0x005cab20
005cab20 : MOV DL,byte ptr [EAX]
005cab22 : CMP DL,byte ptr [ECX]
005cab24 : JNZ 0x005cab40
005cab26 : TEST DL,DL
005cab28 : JZ 0x005cab3c
005cab2a : MOV DL,byte ptr [EAX + 0x1]
005cab2d : CMP DL,byte ptr [ECX + 0x1]
005cab30 : JNZ 0x005cab40
005cab32 : ADD EAX,0x2
005cab35 : ADD ECX,0x2
005cab38 : TEST DL,DL
005cab3a : JNZ 0x005cab20
005cab3c : XOR EAX,EAX
005cab3e : JMP 0x005cab45
005cab40 : SBB EAX,EAX
005cab42 : SBB EAX,-0x1
005cab45 : TEST EAX,EAX
005cab47 : JNZ 0x005cab65
005cab49 : MOV ECX,dword ptr [ESP + 0x1c]
005cab4d : PUSH ECX
005cab4e : MOV ECX,dword ptr [ESP + 0x28]
005cab52 : CALL 0x00527730
005cab57 : FSTP float ptr [EDI + 0x20]
005cab5a : POP EDI
005cab5b : POP ESI
005cab5c : MOV AL,0x1
005cab5e : POP EBX
005cab5f : ADD ESP,0xc
005cab62 : RET 0x10
005cab65 : MOV ECX,0xb92430
005cab6a : MOV EAX,ESI
005cab6c : LEA ESP,[ESP]
005cab70 : MOV DL,byte ptr [EAX]
005cab72 : CMP DL,byte ptr [ECX]
005cab74 : JNZ 0x005cab90
005cab76 : TEST DL,DL
005cab78 : JZ 0x005cab8c
005cab7a : MOV DL,byte ptr [EAX + 0x1]
005cab7d : CMP DL,byte ptr [ECX + 0x1]
005cab80 : JNZ 0x005cab90
005cab82 : ADD EAX,0x2
005cab85 : ADD ECX,0x2
005cab88 : TEST DL,DL
005cab8a : JNZ 0x005cab70
005cab8c : XOR EAX,EAX
005cab8e : JMP 0x005cab95
005cab90 : SBB EAX,EAX
005cab92 : SBB EAX,-0x1
005cab95 : TEST EAX,EAX
005cab97 : JNZ 0x005cabb5
005cab99 : MOV EDX,dword ptr [ESP + 0x1c]
005cab9d : MOV ECX,dword ptr [ESP + 0x24]
005caba1 : PUSH EDX
005caba2 : CALL 0x00527730
005caba7 : FSTP float ptr [EDI + 0x28]
005cabaa : POP EDI
005cabab : POP ESI
005cabac : MOV AL,0x1
005cabae : POP EBX
005cabaf : ADD ESP,0xc
005cabb2 : RET 0x10
005cabb5 : MOV ECX,0xb92420
005cabba : MOV EAX,ESI
005cabbc : LEA ESP,[ESP]
005cabc0 : MOV DL,byte ptr [EAX]
005cabc2 : CMP DL,byte ptr [ECX]
005cabc4 : JNZ 0x005cabe0
005cabc6 : TEST DL,DL
005cabc8 : JZ 0x005cabdc
005cabca : MOV DL,byte ptr [EAX + 0x1]
005cabcd : CMP DL,byte ptr [ECX + 0x1]
005cabd0 : JNZ 0x005cabe0
005cabd2 : ADD EAX,0x2
005cabd5 : ADD ECX,0x2
005cabd8 : TEST DL,DL
005cabda : JNZ 0x005cabc0
005cabdc : XOR EAX,EAX
005cabde : JMP 0x005cabe5
005cabe0 : SBB EAX,EAX
005cabe2 : SBB EAX,-0x1
005cabe5 : TEST EAX,EAX
005cabe7 : JNZ 0x005cac05
005cabe9 : MOV EAX,dword ptr [ESP + 0x1c]
005cabed : MOV ECX,dword ptr [ESP + 0x24]
005cabf1 : PUSH EAX
005cabf2 : CALL 0x00527730
005cabf7 : FSTP float ptr [EDI + 0x30]
005cabfa : POP EDI
005cabfb : POP ESI
005cabfc : MOV AL,0x1
005cabfe : POP EBX
005cabff : ADD ESP,0xc
005cac02 : RET 0x10
005cac05 : PUSH 0xb92410
005cac0a : MOV ECX,EBX
005cac0c : CALL 0x004ffc90
005cac11 : TEST AL,AL
005cac13 : JZ 0x005cac31
005cac15 : MOV ECX,dword ptr [ESP + 0x1c]
005cac19 : PUSH ECX
005cac1a : MOV ECX,dword ptr [ESP + 0x28]
005cac1e : CALL 0x00527730
005cac23 : FSTP float ptr [EDI + 0x38]
005cac26 : POP EDI
005cac27 : POP ESI
005cac28 : MOV AL,0x1
005cac2a : POP EBX
005cac2b : ADD ESP,0xc
005cac2e : RET 0x10
005cac31 : PUSH 0xb92404
005cac36 : MOV ECX,EBX
005cac38 : CALL 0x004ffc90
005cac3d : TEST AL,AL
005cac3f : JZ 0x005cac5d
005cac41 : MOV EDX,dword ptr [ESP + 0x1c]
005cac45 : MOV ECX,dword ptr [ESP + 0x24]
005cac49 : PUSH EDX
005cac4a : CALL 0x00527730
005cac4f : FSTP float ptr [EDI + 0x24]
005cac52 : POP EDI
005cac53 : POP ESI
005cac54 : MOV AL,0x1
005cac56 : POP EBX
005cac57 : ADD ESP,0xc
005cac5a : RET 0x10
005cac5d : PUSH 0xb923f8
005cac62 : MOV ECX,EBX
005cac64 : CALL 0x004ffc90
005cac69 : TEST AL,AL
005cac6b : JZ 0x005cac89
005cac6d : MOV EAX,dword ptr [ESP + 0x1c]
005cac71 : MOV ECX,dword ptr [ESP + 0x24]
005cac75 : PUSH EAX
005cac76 : CALL 0x00527730
005cac7b : FSTP float ptr [EDI + 0x2c]
005cac7e : POP EDI
005cac7f : POP ESI
005cac80 : MOV AL,0x1
005cac82 : POP EBX
005cac83 : ADD ESP,0xc
005cac86 : RET 0x10
005cac89 : PUSH 0xb923ec
005cac8e : MOV ECX,EBX
005cac90 : CALL 0x004ffc90
005cac95 : TEST AL,AL
005cac97 : JZ 0x005cacb5
005cac99 : MOV ECX,dword ptr [ESP + 0x1c]
005cac9d : PUSH ECX
005cac9e : MOV ECX,dword ptr [ESP + 0x28]
005caca2 : CALL 0x00527730
005caca7 : FSTP float ptr [EDI + 0x34]
005cacaa : POP EDI
005cacab : POP ESI
005cacac : MOV AL,0x1
005cacae : POP EBX
005cacaf : ADD ESP,0xc
005cacb2 : RET 0x10
005cacb5 : PUSH 0xb923e0
005cacba : MOV ECX,EBX
005cacbc : CALL 0x004ffc90
005cacc1 : TEST AL,AL
005cacc3 : JZ 0x005cace1
005cacc5 : MOV EDX,dword ptr [ESP + 0x1c]
005cacc9 : MOV ECX,dword ptr [ESP + 0x24]
005caccd : PUSH EDX
005cacce : CALL 0x00527730
005cacd3 : FSTP float ptr [EDI + 0x3c]
005cacd6 : POP EDI
005cacd7 : POP ESI
005cacd8 : MOV AL,0x1
005cacda : POP EBX
005cacdb : ADD ESP,0xc
005cacde : RET 0x10
005cace1 : PUSH 0xb923dc
005cace6 : MOV ECX,EBX
005cace8 : CALL 0x004ffc90
005caced : MOV ECX,dword ptr [ESP + 0x24]
005cacf1 : TEST AL,AL
005cacf3 : JZ 0x005cadb8
005cacf9 : FLDZ
005cacfb : PUSH EBP
005cacfc : MOV EBP,dword ptr [ESP + 0x20]
005cad00 : FST float ptr [EDI + 0x20]
005cad03 : FST float ptr [EDI + 0x28]
005cad06 : PUSH EBP
005cad07 : FSTP float ptr [EDI + 0x30]
005cad0a : XOR ESI,ESI
005cad0c : XOR EDI,EDI
005cad0e : XOR EBX,EBX
005cad10 : CALL 0x00527730
005cad15 : SUB ESP,0x8
005cad18 : FSTP double ptr [ESP]
005cad1b : CALL 0x0050a220
005cad20 : TEST AL,AL
005cad22 : JNZ 0x005cad69
005cad24 : MOV ECX,dword ptr [ESP + 0x28]
005cad28 : PUSH EBP
005cad29 : CALL 0x00527730
005cad2e : FNSTCW word ptr [ESP + 0x28]
005cad32 : MOVZX EAX,word ptr [ESP + 0x28]
005cad37 : OR EAX,0xc00
005cad3c : MOV dword ptr [ESP + 0x20],EAX
005cad40 : FLDCW word ptr [ESP + 0x20]
005cad44 : FISTP qword ptr [ESP + 0x14]
005cad48 : MOV EAX,dword ptr [ESP + 0x14]
005cad4c : MOV ESI,EAX
005cad4e : SHR ESI,0x10
005cad51 : FLDCW word ptr [ESP + 0x28]
005cad55 : MOV EDI,EAX
005cad57 : SHR EDI,0x8
005cad5a : AND ESI,0xff
005cad60 : AND EDI,0xff
005cad66 : MOVZX EBX,AL
005cad69 : MOV dword ptr [ESP + 0x28],ESI
005cad6d : FILD dword ptr [ESP + 0x28]
005cad71 : TEST ESI,ESI
005cad73 : JGE 0x005cad7b
005cad75 : FADD float ptr [0x00cdf0e0]
005cad7b : MOV EAX,dword ptr [ESP + 0x10]
005cad7f : MOV dword ptr [ESP + 0x28],EDI
005cad83 : FSTP float ptr [EAX + 0x24]
005cad86 : FILD dword ptr [ESP + 0x28]
005cad8a : TEST EDI,EDI
005cad8c : JGE 0x005cad94
005cad8e : FADD float ptr [0x00cdf0e0]
005cad94 : MOV dword ptr [ESP + 0x28],EBX
005cad98 : FSTP float ptr [EAX + 0x2c]
005cad9b : FILD dword ptr [ESP + 0x28]
005cad9f : TEST EBX,EBX
005cada1 : JGE 0x005cada9
005cada3 : FADD float ptr [0x00cdf0e0]
005cada9 : POP EBP
005cadaa : FSTP float ptr [EAX + 0x34]
005cadad : POP EDI
005cadae : POP ESI
005cadaf : MOV AL,0x1
005cadb1 : POP EBX
005cadb2 : ADD ESP,0xc
005cadb5 : RET 0x10
005cadb8 : MOV EAX,dword ptr [ESP + 0x28]
005cadbc : MOV EDX,dword ptr [ESP + 0x1c]
005cadc0 : PUSH EAX
005cadc1 : PUSH ECX
005cadc2 : PUSH EBX
005cadc3 : PUSH EDX
005cadc4 : MOV ECX,EDI
005cadc6 : CALL 0x005520e0
005cadcb : POP EDI
005cadcc : POP ESI
005cadcd : POP EBX
005cadce : ADD ESP,0xc
005cadd1 : RET 0x10
