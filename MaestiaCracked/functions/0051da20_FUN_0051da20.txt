PROGRAM  : Maestia.exe
FUNCTION : FUN_0051da20
ENTRY    : 0051da20
BODY     : [[0051da20, 0051da95]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0051da20(undefined4 param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  int *in_ECX;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar1 = param_2 + 3U & 0xfffffffc;
  if (*in_ECX != 0) {
    iVar2 = FUN_00515c80(*in_ECX,uVar1 << 4);
    in_ECX[2] = uVar1;
    *in_ECX = iVar2;
    return;
  }
  param_2 = 0x143;
  iVar2 = FUN_00515d60(param_1,uVar1 << 4,&param_2);
  in_ECX[2] = uVar1;
  *in_ECX = iVar2;
  return;
}



============================================================
DISASSEMBLY
============================================================
0051da20 : MOV EAX,dword ptr [ESP + 0x8]
0051da24 : PUSH EDI
0051da25 : MOV EDI,ECX
0051da27 : TEST EAX,EAX
0051da29 : JNZ 0x0051da48
0051da2b : MOV EAX,dword ptr [EDI]
0051da2d : TEST EAX,EAX
0051da2f : JZ 0x0051da3d
0051da31 : PUSH EAX
0051da32 : CALL 0x00515cf0
0051da37 : MOV dword ptr [EDI],0x0
0051da3d : MOV dword ptr [EDI + 0x8],0x0
0051da44 : POP EDI
0051da45 : RET 0x8
0051da48 : PUSH ESI
0051da49 : LEA ESI,[EAX + 0x3]
0051da4c : MOV EAX,dword ptr [EDI]
0051da4e : SHR ESI,0x2
0051da51 : ADD ESI,ESI
0051da53 : ADD ESI,ESI
0051da55 : TEST EAX,EAX
0051da57 : JZ 0x0051da6f
0051da59 : MOV ECX,ESI
0051da5b : SHL ECX,0x4
0051da5e : PUSH ECX
0051da5f : PUSH EAX
0051da60 : CALL 0x00515c80
0051da65 : MOV dword ptr [EDI + 0x8],ESI
0051da68 : POP ESI
0051da69 : MOV dword ptr [EDI],EAX
0051da6b : POP EDI
0051da6c : RET 0x8
0051da6f : MOV ECX,dword ptr [ESP + 0xc]
0051da73 : LEA EDX,[ESP + 0x10]
0051da77 : PUSH EDX
0051da78 : MOV EAX,ESI
0051da7a : SHL EAX,0x4
0051da7d : PUSH EAX
0051da7e : PUSH ECX
0051da7f : MOV dword ptr [ESP + 0x1c],0x143
0051da87 : CALL 0x00515d60
0051da8c : MOV dword ptr [EDI + 0x8],ESI
0051da8f : POP ESI
0051da90 : MOV dword ptr [EDI],EAX
0051da92 : POP EDI
0051da93 : RET 0x8
