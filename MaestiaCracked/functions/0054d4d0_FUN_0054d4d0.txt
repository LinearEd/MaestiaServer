PROGRAM  : Maestia.exe
FUNCTION : FUN_0054d4d0
ENTRY    : 0054d4d0
BODY     : [[0054d4d0, 0054d592]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0054d4d0(int param_1,int param_2,int param_3)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  int in_ECX;
  
  *(undefined1 *)(in_ECX + 0x40) = 1;
  if (*(byte *)(in_ECX + 0xc0) < 10) {
    FUN_00546af0();
    uVar2 = *(undefined4 *)(in_ECX + 0x98 + (uint)*(byte *)(in_ECX + 0xc0) * 4);
    *(byte *)(in_ECX + 0xc0) = *(byte *)(in_ECX + 0xc0) + 1;
    puVar3 = (undefined4 *)FUN_005d2d10(uVar2);
    *puVar3 = *(undefined4 *)(in_ECX + 0x30);
    puVar3[2] = param_1;
    puVar3[1] = param_2;
    iVar1 = param_3 * 0x10 + 0x44 + in_ECX;
    puVar3[6] = *(undefined4 *)(param_3 * 0x10 + 0x44 + in_ECX);
    puVar3[7] = *(undefined4 *)(iVar1 + 4);
    puVar3[8] = *(undefined4 *)(iVar1 + 8);
    *(undefined1 *)(puVar3 + 9) = *(undefined1 *)(iVar1 + 0xc);
    FUN_005446e0(puVar3);
    if (param_2 != 0) {
      FUN_0054d2b0(*(int *)(in_ECX + 0x30) + param_1 + param_2,0,
                   *(byte *)(*(int *)(in_ECX + 0xc) + 0x69) & 1);
      FUN_0054d2b0(*(int *)(in_ECX + 0x30) + param_1,0,*(byte *)(*(int *)(in_ECX + 0xc) + 0x69) & 1)
      ;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0054d4d0 : PUSH ESI
0054d4d1 : MOV ESI,ECX
0054d4d3 : CMP byte ptr [ESI + 0xc0],0xa
0054d4da : MOV byte ptr [ESI + 0x40],0x1
0054d4de : JNC 0x0054d58f
0054d4e4 : MOV EAX,dword ptr [ESI + 0xc]
0054d4e7 : MOV ECX,dword ptr [EAX + 0x8]
0054d4ea : PUSH EBX
0054d4eb : PUSH EDI
0054d4ec : CALL 0x00546af0
0054d4f1 : MOV DL,byte ptr [ESI + 0xc0]
0054d4f7 : MOVZX ECX,DL
0054d4fa : MOV ECX,dword ptr [ESI + ECX*0x4 + 0x98]
0054d501 : INC DL
0054d503 : PUSH ECX
0054d504 : MOV ECX,EAX
0054d506 : MOV byte ptr [ESI + 0xc0],DL
0054d50c : CALL 0x005d2d10
0054d511 : MOV EDX,dword ptr [ESI + 0x30]
0054d514 : MOV ECX,dword ptr [ESP + 0x18]
0054d518 : MOV EBX,dword ptr [ESP + 0x10]
0054d51c : MOV EDI,dword ptr [ESP + 0x14]
0054d520 : MOV dword ptr [EAX],EDX
0054d522 : MOV dword ptr [EAX + 0x8],EBX
0054d525 : MOV dword ptr [EAX + 0x4],EDI
0054d528 : SHL ECX,0x4
0054d52b : MOV EDX,dword ptr [ECX + ESI*0x1 + 0x44]
0054d52f : LEA ECX,[ECX + ESI*0x1 + 0x44]
0054d533 : MOV dword ptr [EAX + 0x18],EDX
0054d536 : MOV EDX,dword ptr [ECX + 0x4]
0054d539 : MOV dword ptr [EAX + 0x1c],EDX
0054d53c : MOV EDX,dword ptr [ECX + 0x8]
0054d53f : MOV dword ptr [EAX + 0x20],EDX
0054d542 : MOV CL,byte ptr [ECX + 0xc]
0054d545 : MOV byte ptr [EAX + 0x24],CL
0054d548 : MOV EDX,dword ptr [ESI + 0xc]
0054d54b : MOV ECX,dword ptr [EDX + 0x8]
0054d54e : PUSH EAX
0054d54f : CALL 0x005446e0
0054d554 : TEST EDI,EDI
0054d556 : JBE 0x0054d58d
0054d558 : MOV ECX,dword ptr [ESI + 0xc]
0054d55b : MOV AL,byte ptr [ECX + 0x69]
0054d55e : AND AL,0x1
0054d560 : MOVZX EDX,AL
0054d563 : MOV EAX,dword ptr [ESI + 0x30]
0054d566 : PUSH EDX
0054d567 : ADD EAX,EBX
0054d569 : PUSH 0x0
0054d56b : ADD EAX,EDI
0054d56d : PUSH EAX
0054d56e : CALL 0x0054d2b0
0054d573 : MOV ECX,dword ptr [ESI + 0xc]
0054d576 : MOV DL,byte ptr [ECX + 0x69]
0054d579 : AND DL,0x1
0054d57c : MOVZX EAX,DL
0054d57f : MOV EDX,dword ptr [ESI + 0x30]
0054d582 : PUSH EAX
0054d583 : PUSH 0x0
0054d585 : ADD EDX,EBX
0054d587 : PUSH EDX
0054d588 : CALL 0x0054d2b0
0054d58d : POP EDI
0054d58e : POP EBX
0054d58f : POP ESI
0054d590 : RET 0xc
