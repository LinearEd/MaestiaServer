PROGRAM  : Maestia.exe
FUNCTION : FUN_00906280
ENTRY    : 00906280
BODY     : [[00906280, 009065ed]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00906280(void)

{
  float fVar1;
  int *piVar2;
  int in_ECX;
  float fVar3;
  
  fVar1 = *(float *)(in_ECX + 0x1ac);
  fVar3 = *(float *)(in_ECX + 0x1b0);
  if (fVar1 == fVar3) {
    if ((*(char *)(in_ECX + 0x1c4) != '\0') &&
       (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
      (**(code **)(*piVar2 + 4))(piVar2,"SetHpPercent",&DAT_00c6471c,(double)(fVar1 * 100.0));
      if (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 0x1f54) != 0) {
        (**(code **)(**(int **)(*DAT_00da9894 + 0x114) + 4))
                  (*(int **)(*DAT_00da9894 + 0x114),"SetPartyHpScale","%d,%f",
                   *(undefined4 *)(in_ECX + 0x80),(double)(*(float *)(in_ECX + 0x1ac) * 100.0));
      }
    }
    *(undefined1 *)(in_ECX + 0x1c4) = 0;
  }
  else {
    if (fVar1 - 0.01 <= fVar3) {
      *(float *)(in_ECX + 0x1ac) = fVar3;
    }
    else {
      *(float *)(in_ECX + 0x1ac) = fVar1 - 0.01;
    }
    piVar2 = *(int **)(*DAT_00da9894 + 0x114);
    if (piVar2 != (int *)0x0) {
      (**(code **)(*piVar2 + 4))
                (piVar2,"SetHpPercent",&DAT_00c646f0,(double)(*(float *)(in_ECX + 0x1ac) * 100.0));
      if (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 0x1f54) != 0) {
        (**(code **)(**(int **)(*DAT_00da9894 + 0x114) + 4))
                  (*(int **)(*DAT_00da9894 + 0x114),"SetPartyHpScale","%d,%f",
                   *(undefined4 *)(in_ECX + 0x80),(double)(*(float *)(in_ECX + 0x1ac) * 100.0));
      }
    }
  }
  fVar1 = *(float *)(in_ECX + 0x1b4);
  fVar3 = *(float *)(in_ECX + 0x1b8);
  if (fVar1 == fVar3) {
    if ((*(char *)(in_ECX + 0x1c6) != '\0') &&
       (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
      (**(code **)(*piVar2 + 4))(piVar2,"SetDpPercent",&DAT_00c64774,(double)(fVar1 * 100.0));
      if (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 0x1f54) != 0) {
        (**(code **)(**(int **)(*DAT_00da9894 + 0x114) + 4))
                  (*(int **)(*DAT_00da9894 + 0x114),"SetPartyDpScale","%d,%f",
                   *(undefined4 *)(in_ECX + 0x80),(double)(*(float *)(in_ECX + 0x1b4) * 100.0));
      }
    }
    *(undefined1 *)(in_ECX + 0x1c6) = 0;
  }
  else {
    if (fVar1 - 0.01 <= fVar3) {
      *(float *)(in_ECX + 0x1b4) = fVar3;
    }
    else {
      *(float *)(in_ECX + 0x1b4) = fVar1 - 0.01;
    }
    piVar2 = *(int **)(*DAT_00da9894 + 0x114);
    if (piVar2 != (int *)0x0) {
      (**(code **)(*piVar2 + 4))
                (piVar2,"SetDpPercent",&DAT_00c64748,(double)(*(float *)(in_ECX + 0x1b4) * 100.0));
      if (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 0x1f54) != 0) {
        (**(code **)(**(int **)(*DAT_00da9894 + 0x114) + 4))
                  (*(int **)(*DAT_00da9894 + 0x114),"SetPartyDpScale","%d,%f",
                   *(undefined4 *)(in_ECX + 0x80),(double)(*(float *)(in_ECX + 0x1b4) * 100.0));
      }
    }
  }
  fVar1 = *(float *)(in_ECX + 0x1c0);
  if (*(float *)(in_ECX + 0x1bc) != fVar1) {
    fVar3 = *(float *)(in_ECX + 0x1bc) - 0.01;
    if (fVar1 < fVar3) {
      *(float *)(in_ECX + 0x1bc) = fVar3;
      return;
    }
    *(float *)(in_ECX + 0x1bc) = fVar1;
    return;
  }
  *(undefined1 *)(in_ECX + 0x1c5) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
00906280 : PUSH EBP
00906281 : MOV EBP,ESP
00906283 : AND ESP,0xffffffc0
00906286 : MOVSS XMM2,dword ptr [0x00cdf230]
0090628e : SUB ESP,0x3c
00906291 : PUSH ESI
00906292 : MOV ESI,ECX
00906294 : MOVSS XMM0,dword ptr [ESI + 0x1ac]
0090629c : MOVSS XMM1,dword ptr [ESI + 0x1b0]
009062a4 : UCOMISS XMM0,XMM1
009062a7 : LAHF
009062a8 : TEST AH,0x44
009062ab : JNP 0x00906373
009062b1 : SUBSS XMM0,dword ptr [0x00cdf23c]
009062b9 : COMISS XMM0,XMM1
009062bc : JBE 0x009062c8
009062be : MOVSS dword ptr [ESI + 0x1ac],XMM0
009062c6 : JMP 0x009062d0
009062c8 : MOVSS dword ptr [ESI + 0x1ac],XMM1
009062d0 : MOV EAX,[0x00da9894]
009062d5 : MOV ECX,dword ptr [EAX]
009062d7 : MOV EAX,dword ptr [ECX + 0x114]
009062dd : TEST EAX,EAX
009062df : JZ 0x00906415
009062e5 : MOVSS XMM0,dword ptr [ESI + 0x1ac]
009062ed : MOV EDX,dword ptr [EAX]
009062ef : SUB ESP,0x8
009062f2 : MULSS XMM0,XMM2
009062f6 : CVTPS2PD XMM0,XMM0
009062f9 : MOVSD qword ptr [ESP],XMM0
009062fe : PUSH 0xc646f0
00906303 : PUSH 0xc646f4
00906308 : PUSH EAX
00906309 : MOV EAX,dword ptr [EDX + 0x4]
0090630c : CALL EAX
0090630e : MOV ECX,dword ptr [0x0172491c]
00906314 : MOV EDX,dword ptr [ECX + 0x17c]
0090631a : ADD ESP,0x14
0090631d : CMP dword ptr [EDX + 0x1f54],0x0
00906324 : JZ 0x00906415
0090632a : MOV EAX,[0x00da9894]
0090632f : MOV ECX,dword ptr [EAX]
00906331 : MOV EAX,dword ptr [ECX + 0x114]
00906337 : MOVSS XMM0,dword ptr [ESI + 0x1ac]
0090633f : MULSS XMM0,dword ptr [0x00cdf230]
00906347 : MOV ECX,dword ptr [ESI + 0x80]
0090634d : MOV EDX,dword ptr [EAX]
0090634f : MOV EDX,dword ptr [EDX + 0x4]
00906352 : SUB ESP,0x8
00906355 : CVTPS2PD XMM0,XMM0
00906358 : MOVSD qword ptr [ESP],XMM0
0090635d : PUSH ECX
0090635e : PUSH 0xc64704
00906363 : PUSH 0xc6470c
00906368 : PUSH EAX
00906369 : CALL EDX
0090636b : ADD ESP,0x18
0090636e : JMP 0x00906415
00906373 : CMP byte ptr [ESI + 0x1c4],0x0
0090637a : JZ 0x0090640e
00906380 : MOV EAX,[0x00da9894]
00906385 : MOV ECX,dword ptr [EAX]
00906387 : MOV EAX,dword ptr [ECX + 0x114]
0090638d : TEST EAX,EAX
0090638f : JZ 0x0090640e
00906391 : MOV EDX,dword ptr [EAX]
00906393 : SUB ESP,0x8
00906396 : MULSS XMM0,XMM2
0090639a : CVTPS2PD XMM0,XMM0
0090639d : MOVSD qword ptr [ESP],XMM0
009063a2 : PUSH 0xc6471c
009063a7 : PUSH 0xc64720
009063ac : PUSH EAX
009063ad : MOV EAX,dword ptr [EDX + 0x4]
009063b0 : CALL EAX
009063b2 : MOV ECX,dword ptr [0x0172491c]
009063b8 : MOV EDX,dword ptr [ECX + 0x17c]
009063be : ADD ESP,0x14
009063c1 : CMP dword ptr [EDX + 0x1f54],0x0
009063c8 : JZ 0x0090640e
009063ca : MOV EAX,[0x00da9894]
009063cf : MOV ECX,dword ptr [EAX]
009063d1 : MOV EAX,dword ptr [ECX + 0x114]
009063d7 : MOVSS XMM0,dword ptr [ESI + 0x1ac]
009063df : MULSS XMM0,dword ptr [0x00cdf230]
009063e7 : MOV ECX,dword ptr [ESI + 0x80]
009063ed : MOV EDX,dword ptr [EAX]
009063ef : MOV EDX,dword ptr [EDX + 0x4]
009063f2 : SUB ESP,0x8
009063f5 : CVTPS2PD XMM0,XMM0
009063f8 : MOVSD qword ptr [ESP],XMM0
009063fd : PUSH ECX
009063fe : PUSH 0xc64730
00906403 : PUSH 0xc64738
00906408 : PUSH EAX
00906409 : CALL EDX
0090640b : ADD ESP,0x18
0090640e : MOV byte ptr [ESI + 0x1c4],0x0
00906415 : MOVSS XMM0,dword ptr [ESI + 0x1b4]
0090641d : MOVSS XMM1,dword ptr [ESI + 0x1b8]
00906425 : UCOMISS XMM0,XMM1
00906428 : LAHF
00906429 : TEST AH,0x44
0090642c : JNP 0x009064f8
00906432 : SUBSS XMM0,dword ptr [0x00cdf23c]
0090643a : COMISS XMM0,XMM1
0090643d : JBE 0x00906449
0090643f : MOVSS dword ptr [ESI + 0x1b4],XMM0
00906447 : JMP 0x00906451
00906449 : MOVSS dword ptr [ESI + 0x1b4],XMM1
00906451 : MOV EAX,[0x00da9894]
00906456 : MOV ECX,dword ptr [EAX]
00906458 : MOV EAX,dword ptr [ECX + 0x114]
0090645e : TEST EAX,EAX
00906460 : JZ 0x009065a2
00906466 : MOVSS XMM0,dword ptr [ESI + 0x1b4]
0090646e : MULSS XMM0,dword ptr [0x00cdf230]
00906476 : MOV EDX,dword ptr [EAX]
00906478 : SUB ESP,0x8
0090647b : CVTPS2PD XMM0,XMM0
0090647e : MOVSD qword ptr [ESP],XMM0
00906483 : PUSH 0xc64748
00906488 : PUSH 0xc6474c
0090648d : PUSH EAX
0090648e : MOV EAX,dword ptr [EDX + 0x4]
00906491 : CALL EAX
00906493 : MOV ECX,dword ptr [0x0172491c]
00906499 : MOV EDX,dword ptr [ECX + 0x17c]
0090649f : ADD ESP,0x14
009064a2 : CMP dword ptr [EDX + 0x1f54],0x0
009064a9 : JZ 0x009065a2
009064af : MOV EAX,[0x00da9894]
009064b4 : MOV ECX,dword ptr [EAX]
009064b6 : MOV EAX,dword ptr [ECX + 0x114]
009064bc : MOVSS XMM0,dword ptr [ESI + 0x1b4]
009064c4 : MULSS XMM0,dword ptr [0x00cdf230]
009064cc : MOV ECX,dword ptr [ESI + 0x80]
009064d2 : MOV EDX,dword ptr [EAX]
009064d4 : MOV EDX,dword ptr [EDX + 0x4]
009064d7 : SUB ESP,0x8
009064da : CVTPS2PD XMM0,XMM0
009064dd : MOVSD qword ptr [ESP],XMM0
009064e2 : PUSH ECX
009064e3 : PUSH 0xc6475c
009064e8 : PUSH 0xc64764
009064ed : PUSH EAX
009064ee : CALL EDX
009064f0 : ADD ESP,0x18
009064f3 : JMP 0x009065a2
009064f8 : CMP byte ptr [ESI + 0x1c6],0x0
009064ff : JZ 0x0090659b
00906505 : MOV EAX,[0x00da9894]
0090650a : MOV ECX,dword ptr [EAX]
0090650c : MOV EAX,dword ptr [ECX + 0x114]
00906512 : TEST EAX,EAX
00906514 : JZ 0x0090659b
0090651a : MULSS XMM0,dword ptr [0x00cdf230]
00906522 : MOV EDX,dword ptr [EAX]
00906524 : SUB ESP,0x8
00906527 : CVTPS2PD XMM0,XMM0
0090652a : MOVSD qword ptr [ESP],XMM0
0090652f : PUSH 0xc64774
00906534 : PUSH 0xc64778
00906539 : PUSH EAX
0090653a : MOV EAX,dword ptr [EDX + 0x4]
0090653d : CALL EAX
0090653f : MOV ECX,dword ptr [0x0172491c]
00906545 : MOV EDX,dword ptr [ECX + 0x17c]
0090654b : ADD ESP,0x14
0090654e : CMP dword ptr [EDX + 0x1f54],0x0
00906555 : JZ 0x0090659b
00906557 : MOV EAX,[0x00da9894]
0090655c : MOV ECX,dword ptr [EAX]
0090655e : MOV EAX,dword ptr [ECX + 0x114]
00906564 : MOVSS XMM0,dword ptr [ESI + 0x1b4]
0090656c : MULSS XMM0,dword ptr [0x00cdf230]
00906574 : MOV ECX,dword ptr [ESI + 0x80]
0090657a : MOV EDX,dword ptr [EAX]
0090657c : MOV EDX,dword ptr [EDX + 0x4]
0090657f : SUB ESP,0x8
00906582 : CVTPS2PD XMM0,XMM0
00906585 : MOVSD qword ptr [ESP],XMM0
0090658a : PUSH ECX
0090658b : PUSH 0xc64788
00906590 : PUSH 0xc64790
00906595 : PUSH EAX
00906596 : CALL EDX
00906598 : ADD ESP,0x18
0090659b : MOV byte ptr [ESI + 0x1c6],0x0
009065a2 : MOVSS XMM0,dword ptr [ESI + 0x1bc]
009065aa : MOVSS XMM1,dword ptr [ESI + 0x1c0]
009065b2 : UCOMISS XMM0,XMM1
009065b5 : LAHF
009065b6 : TEST AH,0x44
009065b9 : JNP 0x009065e2
009065bb : SUBSS XMM0,dword ptr [0x00cdf23c]
009065c3 : COMISS XMM0,XMM1
009065c6 : JBE 0x009065d5
009065c8 : MOVSS dword ptr [ESI + 0x1bc],XMM0
009065d0 : POP ESI
009065d1 : MOV ESP,EBP
009065d3 : POP EBP
009065d4 : RET
009065d5 : MOVSS dword ptr [ESI + 0x1bc],XMM1
009065dd : POP ESI
009065de : MOV ESP,EBP
009065e0 : POP EBP
009065e1 : RET
009065e2 : MOV byte ptr [ESI + 0x1c5],0x0
009065e9 : POP ESI
009065ea : MOV ESP,EBP
009065ec : POP EBP
009065ed : RET
