PROGRAM  : Maestia.exe
FUNCTION : FUN_0051deb0
ENTRY    : 0051deb0
BODY     : [[0051deb0, 0051df37]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0051deb0(char param_1)

{
  undefined4 uVar1;
  int iVar2;
  int *in_ECX;
  undefined4 local_38;
  undefined4 local_34;
  undefined8 local_30;
  undefined8 local_28;
  undefined8 local_20;
  GMatrix2D local_18 [24];
  
  if (in_ECX[0x21] == 0) {
    GMatrix2D::SetIdentity(local_18);
    local_20 = 0;
    local_28 = 0x4059000000000000;
    local_30 = 0x4059000000000000;
    local_34 = 0;
    local_38 = 0;
    uVar1 = FUN_0051d750(&local_38);
    FUN_0051de10(uVar1);
  }
  if (param_1 == '\0') {
    in_ECX[0x23] = in_ECX[0x23] & 0xffffefff;
  }
  else {
    in_ECX[0x23] = in_ECX[0x23] | 0x1000;
  }
  iVar2 = (**(code **)(*in_ECX + 0x40))();
  *(uint *)(iVar2 + 0xb00) = *(uint *)(iVar2 + 0xb00) | 0x400;
  return;
}



============================================================
DISASSEMBLY
============================================================
0051deb0 : SUB ESP,0x38
0051deb3 : PUSH ESI
0051deb4 : MOV ESI,ECX
0051deb6 : CMP dword ptr [ESI + 0x84],0x0
0051debd : JNZ 0x0051df00
0051debf : LEA ECX,[ESP + 0x24]
0051dec3 : CALL 0x00522b80
0051dec8 : FLDZ
0051deca : FSTP double ptr [ESP + 0x1c]
0051dece : LEA EAX,[ESP + 0x4]
0051ded2 : FLD double ptr [0x00cdf2a8]
0051ded8 : PUSH EAX
0051ded9 : FST double ptr [ESP + 0x18]
0051dedd : MOV ECX,ESI
0051dedf : FSTP double ptr [ESP + 0x10]
0051dee3 : MOV dword ptr [ESP + 0xc],0x0
0051deeb : MOV dword ptr [ESP + 0x8],0x0
0051def3 : CALL 0x0051d750
0051def8 : PUSH EAX
0051def9 : MOV ECX,ESI
0051defb : CALL 0x0051de10
0051df00 : CMP byte ptr [ESP + 0x40],0x0
0051df05 : JZ 0x0051df13
0051df07 : OR dword ptr [ESI + 0x8c],0x1000
0051df11 : JMP 0x0051df1d
0051df13 : AND dword ptr [ESI + 0x8c],0xffffefff
0051df1d : MOV EDX,dword ptr [ESI]
0051df1f : MOV EAX,dword ptr [EDX + 0x40]
0051df22 : MOV ECX,ESI
0051df24 : CALL EAX
0051df26 : ADD EAX,0xb00
0051df2b : OR dword ptr [EAX],0x400
0051df31 : POP ESI
0051df32 : ADD ESP,0x38
0051df35 : RET 0x4
