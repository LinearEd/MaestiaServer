PROGRAM  : Maestia.exe
FUNCTION : FUN_008ee4b0
ENTRY    : 008ee4b0
BODY     : [[008ee4b0, 008ee8a8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008ee4b0(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
                 undefined4 param_5)

{
  int iVar1;
  int *piVar2;
  undefined1 local_f0 [28];
  undefined1 local_d4 [28];
  undefined1 local_b8 [28];
  undefined1 local_9c [28];
  undefined1 local_80 [28];
  undefined1 local_64 [28];
  undefined1 local_48 [28];
  undefined1 local_2c [4];
  undefined2 local_28;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b35563;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  switch(param_2) {
  case 0x11:
    piVar2 = *(int **)(param_1 + 0x178);
    if (piVar2 == (int *)0x0) {
      FUN_00406460(L"Dedication NULL");
      local_8 = 2;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiWindowMgr::OnMsgDecItem",0xa64,local_48)
        ;
      }
      local_8 = 0xffffffff;
      FUN_00406560();
      goto LAB_008ee87e;
    }
    break;
  case 0x12:
    if ((*(int *)(param_1 + 0x1b4) != 0) && (*(int *)(*(int *)(param_1 + 0x1b4) + 4) != 0)) {
      FUN_008e6500(param_5);
    }
  default:
    piVar2 = (int *)FUN_008eb580();
    if (piVar2 == (int *)0x0) {
      FUN_00406460(L"[AvaGuiWindowMgr::OnMsgDecItem] Invalid Packet");
      local_8 = 7;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiWindowMgr::OnMsgDecItem",0xaa1,local_2c)
        ;
      }
      local_8 = 0xffffffff;
      if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_14 = 7;
      local_18 = 0;
      local_28 = 0;
    }
    else {
LAB_008ee80a:
      (**(code **)(*piVar2 + 0xb0))(param_3,param_4,param_5);
    }
    goto LAB_008ee87e;
  case 0x21:
    piVar2 = *(int **)(param_1 + 0x1b8);
    if (piVar2 == (int *)0x0) {
      FUN_00406460(L"Auction NULL");
      local_8 = 6;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiWindowMgr::OnMsgDecItem",0xa8b,local_f0)
        ;
      }
      local_8 = 0xffffffff;
      FUN_00406560();
      goto LAB_008ee87e;
    }
    break;
  case 0x30:
    if (*(int *)(param_1 + 0x13c) == 0) {
      FUN_00406460(L"WINODW_TRADE NULL!!");
      local_8 = 0;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiWindowMgr::OnMsgDecItem",0xa4e,local_9c)
        ;
      }
      local_8 = 0xffffffff;
      FUN_00406560();
    }
    else {
      FUN_00955030(*(int *)(param_1 + 0x13c),param_2);
    }
    goto LAB_008ee87e;
  case 0x40:
  case 0x41:
  case 0x42:
  case 0x94:
    if ((*(int *)(param_1 + 0x138) == 0) || (iVar1 = FUN_00904ba0(param_2), iVar1 == 0)) {
      FUN_00406460(L"Storage NULL");
      local_8 = 1;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiWindowMgr::OnMsgDecItem",0xa5b,local_d4)
        ;
      }
      local_8 = 0xffffffff;
      FUN_00406560();
      goto LAB_008ee87e;
    }
    piVar2 = (int *)FUN_00904ba0(param_2);
    goto LAB_008ee80a;
  case 0x43:
    iVar1 = *(int *)(param_1 + 0x130);
    if ((iVar1 == 0) || (*(int *)(iVar1 + 0x40) == 0)) {
      FUN_00406460(L"GetInvenEquip NULL or rGetBasicPocket NULL");
      local_8 = 3;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiWindowMgr::OnMsgDecItem",0xa6d,local_64)
        ;
      }
      local_8 = 0xffffffff;
      FUN_00406560();
    }
    else {
      (**(code **)(**(int **)(iVar1 + 0x40) + 0xb0))
                (param_3,param_4,param_5,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    }
    goto LAB_008ee87e;
  case 0x44:
    piVar2 = *(int **)(param_1 + 0x1f8);
    if (piVar2 == (int *)0x0) {
      FUN_00406460(L"Recipe NULL");
      local_8 = 4;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiWindowMgr::OnMsgDecItem",0xa76,local_80)
        ;
      }
      local_8 = 0xffffffff;
      FUN_00406560();
      goto LAB_008ee87e;
    }
    break;
  case 0x95:
    piVar2 = *(int **)(param_1 + 0x200);
    if (piVar2 == (int *)0x0) {
      FUN_00406460(L"Halidom NULL");
      local_8 = 5;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiWindowMgr::OnMsgDecItem",0xa81,local_b8)
        ;
      }
      local_8 = 0xffffffff;
      FUN_00406560();
      goto LAB_008ee87e;
    }
  }
  (**(code **)(*piVar2 + 0xb0))(param_3,param_4,param_5);
LAB_008ee87e:
  if (*(int *)(*DAT_00da9894 + 0x1e0) != 0) {
    FUN_008c55d0();
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
008ee4b0 : PUSH EBP
008ee4b1 : MOV EBP,ESP
008ee4b3 : PUSH -0x1
008ee4b5 : PUSH 0xb35563
008ee4ba : MOV EAX,FS:[0x0]
008ee4c0 : PUSH EAX
008ee4c1 : SUB ESP,0xe0
008ee4c7 : PUSH EBX
008ee4c8 : PUSH ESI
008ee4c9 : PUSH EDI
008ee4ca : MOV EAX,[0x00d66fa0]
008ee4cf : XOR EAX,EBP
008ee4d1 : PUSH EAX
008ee4d2 : LEA EAX,[EBP + -0xc]
008ee4d5 : MOV FS:[0x0],EAX
008ee4db : MOV EBX,dword ptr [EBP + 0x8]
008ee4de : MOV EDI,dword ptr [EBP + 0xc]
008ee4e1 : LEA EAX,[EDI + -0x11]
008ee4e4 : CMP EAX,0x84
008ee4e9 : JA 0x008ee7ff
008ee4ef : MOVZX EAX,byte ptr [EAX + 0x8ee8d0]
008ee4f6 : JMP dword ptr [EAX*0x4 + 0x8ee8ac]
008ee4fd : MOV EBX,dword ptr [EBX + 0x13c]
008ee503 : TEST EBX,EBX
008ee505 : JZ 0x008ee51c
008ee507 : MOV EAX,dword ptr [EBP + 0x18]
008ee50a : MOV EDX,dword ptr [EBP + 0x14]
008ee50d : MOV ESI,dword ptr [EBP + 0x10]
008ee510 : PUSH EDI
008ee511 : PUSH EBX
008ee512 : CALL 0x00955030
008ee517 : JMP 0x008ee87e
008ee51c : PUSH 0xc5df80
008ee521 : LEA ECX,[EBP + 0xffffff68]
008ee527 : CALL 0x00406460
008ee52c : MOV dword ptr [EBP + -0x4],0x0
008ee533 : MOV ECX,dword ptr [0x00da98e8]
008ee539 : MOV ECX,dword ptr [ECX]
008ee53b : TEST ECX,ECX
008ee53d : JZ 0x008ee557
008ee53f : MOV EDX,dword ptr [ECX]
008ee541 : MOV EDX,dword ptr [EDX + 0x14]
008ee544 : LEA EAX,[EBP + 0xffffff68]
008ee54a : PUSH EAX
008ee54b : PUSH 0xa4e
008ee550 : PUSH 0xc5dfa8
008ee555 : CALL EDX
008ee557 : MOV dword ptr [EBP + -0x4],0xffffffff
008ee55e : LEA ECX,[EBP + 0xffffff68]
008ee564 : CALL 0x00406560
008ee569 : JMP 0x008ee87e
008ee56e : MOV ESI,dword ptr [EBX + 0x138]
008ee574 : TEST ESI,ESI
008ee576 : JZ 0x008ee58f
008ee578 : PUSH EDI
008ee579 : CALL 0x00904ba0
008ee57e : TEST EAX,EAX
008ee580 : JZ 0x008ee58f
008ee582 : MOV EAX,EDI
008ee584 : PUSH EAX
008ee585 : CALL 0x00904ba0
008ee58a : JMP 0x008ee80a
008ee58f : PUSH 0xc5dfe4
008ee594 : LEA ECX,[EBP + 0xffffff30]
008ee59a : CALL 0x00406460
008ee59f : MOV dword ptr [EBP + -0x4],0x1
008ee5a6 : MOV EAX,[0x00da98e8]
008ee5ab : MOV ECX,dword ptr [EAX]
008ee5ad : TEST ECX,ECX
008ee5af : JZ 0x008ee5c9
008ee5b1 : MOV EDX,dword ptr [ECX]
008ee5b3 : MOV EDX,dword ptr [EDX + 0x14]
008ee5b6 : LEA EAX,[EBP + 0xffffff30]
008ee5bc : PUSH EAX
008ee5bd : PUSH 0xa5b
008ee5c2 : PUSH 0xc5e000
008ee5c7 : CALL EDX
008ee5c9 : MOV dword ptr [EBP + -0x4],0xffffffff
008ee5d0 : LEA ECX,[EBP + 0xffffff30]
008ee5d6 : CALL 0x00406560
008ee5db : JMP 0x008ee87e
008ee5e0 : MOV EBX,dword ptr [EBX + 0x178]
008ee5e6 : TEST EBX,EBX
008ee5e8 : JZ 0x008ee607
008ee5ea : MOV ECX,dword ptr [EBP + 0x18]
008ee5ed : MOV EDX,dword ptr [EBP + 0x14]
008ee5f0 : MOV EAX,dword ptr [EBX]
008ee5f2 : PUSH ECX
008ee5f3 : MOV ECX,dword ptr [EBP + 0x10]
008ee5f6 : PUSH EDX
008ee5f7 : MOV EDX,dword ptr [EAX + 0xb0]
008ee5fd : PUSH ECX
008ee5fe : MOV ECX,EBX
008ee600 : CALL EDX
008ee602 : JMP 0x008ee87e
008ee607 : PUSH 0xc5e03c
008ee60c : LEA ECX,[EBP + -0x44]
008ee60f : CALL 0x00406460
008ee614 : MOV dword ptr [EBP + -0x4],0x2
008ee61b : MOV EAX,[0x00da98e8]
008ee620 : MOV ECX,dword ptr [EAX]
008ee622 : TEST ECX,ECX
008ee624 : JZ 0x008ee63b
008ee626 : MOV EDX,dword ptr [ECX]
008ee628 : MOV EDX,dword ptr [EDX + 0x14]
008ee62b : LEA EAX,[EBP + -0x44]
008ee62e : PUSH EAX
008ee62f : PUSH 0xa64
008ee634 : PUSH 0xc5e05c
008ee639 : CALL EDX
008ee63b : MOV dword ptr [EBP + -0x4],0xffffffff
008ee642 : LEA ECX,[EBP + -0x44]
008ee645 : CALL 0x00406560
008ee64a : JMP 0x008ee87e
008ee64f : MOV EBX,dword ptr [EBX + 0x130]
008ee655 : TEST EBX,EBX
008ee657 : JZ 0x008ee67d
008ee659 : CMP dword ptr [EBX + 0x40],0x0
008ee65d : JZ 0x008ee67d
008ee65f : MOV EDX,dword ptr [EBP + 0x18]
008ee662 : MOV ECX,dword ptr [EBX + 0x40]
008ee665 : MOV EAX,dword ptr [ECX]
008ee667 : MOV EAX,dword ptr [EAX + 0xb0]
008ee66d : PUSH EDX
008ee66e : MOV EDX,dword ptr [EBP + 0x14]
008ee671 : PUSH EDX
008ee672 : MOV EDX,dword ptr [EBP + 0x10]
008ee675 : PUSH EDX
008ee676 : CALL EAX
008ee678 : JMP 0x008ee87e
008ee67d : PUSH 0xc5e098
008ee682 : LEA ECX,[EBP + -0x60]
008ee685 : CALL 0x00406460
008ee68a : MOV dword ptr [EBP + -0x4],0x3
008ee691 : MOV ECX,dword ptr [0x00da98e8]
008ee697 : MOV ECX,dword ptr [ECX]
008ee699 : TEST ECX,ECX
008ee69b : JZ 0x008ee6b2
008ee69d : MOV EDX,dword ptr [ECX]
008ee69f : MOV EDX,dword ptr [EDX + 0x14]
008ee6a2 : LEA EAX,[EBP + -0x60]
008ee6a5 : PUSH EAX
008ee6a6 : PUSH 0xa6d
008ee6ab : PUSH 0xc5e0f0
008ee6b0 : CALL EDX
008ee6b2 : MOV dword ptr [EBP + -0x4],0xffffffff
008ee6b9 : LEA ECX,[EBP + -0x60]
008ee6bc : CALL 0x00406560
008ee6c1 : JMP 0x008ee87e
008ee6c6 : MOV EBX,dword ptr [EBX + 0x1f8]
008ee6cc : TEST EBX,EBX
008ee6ce : JNZ 0x008ee5ea
008ee6d4 : PUSH 0xc5e12c
008ee6d9 : LEA ECX,[EBP + -0x7c]
008ee6dc : CALL 0x00406460
008ee6e1 : MOV dword ptr [EBP + -0x4],0x4
008ee6e8 : MOV EAX,[0x00da98e8]
008ee6ed : MOV ECX,dword ptr [EAX]
008ee6ef : TEST ECX,ECX
008ee6f1 : JZ 0x008ee708
008ee6f3 : MOV EDX,dword ptr [ECX]
008ee6f5 : MOV EDX,dword ptr [EDX + 0x14]
008ee6f8 : LEA EAX,[EBP + -0x7c]
008ee6fb : PUSH EAX
008ee6fc : PUSH 0xa76
008ee701 : PUSH 0xc5e144
008ee706 : CALL EDX
008ee708 : MOV dword ptr [EBP + -0x4],0xffffffff
008ee70f : LEA ECX,[EBP + -0x7c]
008ee712 : CALL 0x00406560
008ee717 : JMP 0x008ee87e
008ee71c : MOV EBX,dword ptr [EBX + 0x200]
008ee722 : TEST EBX,EBX
008ee724 : JNZ 0x008ee5ea
008ee72a : PUSH 0xc5e180
008ee72f : LEA ECX,[EBP + 0xffffff4c]
008ee735 : CALL 0x00406460
008ee73a : MOV dword ptr [EBP + -0x4],0x5
008ee741 : MOV EAX,[0x00da98e8]
008ee746 : MOV ECX,dword ptr [EAX]
008ee748 : TEST ECX,ECX
008ee74a : JZ 0x008ee764
008ee74c : MOV EDX,dword ptr [ECX]
008ee74e : MOV EDX,dword ptr [EDX + 0x14]
008ee751 : LEA EAX,[EBP + 0xffffff4c]
008ee757 : PUSH EAX
008ee758 : PUSH 0xa81
008ee75d : PUSH 0xc5e19c
008ee762 : CALL EDX
008ee764 : MOV dword ptr [EBP + -0x4],0xffffffff
008ee76b : LEA ECX,[EBP + 0xffffff4c]
008ee771 : CALL 0x00406560
008ee776 : JMP 0x008ee87e
008ee77b : MOV EBX,dword ptr [EBX + 0x1b8]
008ee781 : TEST EBX,EBX
008ee783 : JNZ 0x008ee5ea
008ee789 : PUSH 0xc5e1d8
008ee78e : LEA ECX,[EBP + 0xffffff14]
008ee794 : CALL 0x00406460
008ee799 : MOV dword ptr [EBP + -0x4],0x6
008ee7a0 : MOV EAX,[0x00da98e8]
008ee7a5 : MOV ECX,dword ptr [EAX]
008ee7a7 : TEST ECX,ECX
008ee7a9 : JZ 0x008ee7c3
008ee7ab : MOV EDX,dword ptr [ECX]
008ee7ad : MOV EDX,dword ptr [EDX + 0x14]
008ee7b0 : LEA EAX,[EBP + 0xffffff14]
008ee7b6 : PUSH EAX
008ee7b7 : PUSH 0xa8b
008ee7bc : PUSH 0xc5e1f4
008ee7c1 : CALL EDX
008ee7c3 : MOV dword ptr [EBP + -0x4],0xffffffff
008ee7ca : LEA ECX,[EBP + 0xffffff14]
008ee7d0 : CALL 0x00406560
008ee7d5 : JMP 0x008ee87e
008ee7da : MOV EAX,dword ptr [EBX + 0x1b4]
008ee7e0 : TEST EAX,EAX
008ee7e2 : JZ 0x008ee7ff
008ee7e4 : CMP dword ptr [EAX + 0x4],0x0
008ee7e8 : JZ 0x008ee7ff
008ee7ea : MOV ECX,dword ptr [EBP + 0x18]
008ee7ed : MOV EAX,dword ptr [EAX + 0x4]
008ee7f0 : MOV EDI,dword ptr [EBP + 0x14]
008ee7f3 : MOV ESI,dword ptr [EBP + 0x10]
008ee7f6 : PUSH ECX
008ee7f7 : CALL 0x008e6500
008ee7fc : MOV EDI,dword ptr [EBP + 0xc]
008ee7ff : MOV EAX,EBX
008ee801 : CALL 0x008eb580
008ee806 : TEST EAX,EAX
008ee808 : JZ 0x008ee824
008ee80a : MOV ECX,dword ptr [EBP + 0x18]
008ee80d : MOV EDX,dword ptr [EAX]
008ee80f : MOV EDX,dword ptr [EDX + 0xb0]
008ee815 : PUSH ECX
008ee816 : MOV ECX,dword ptr [EBP + 0x14]
008ee819 : PUSH ECX
008ee81a : MOV ECX,dword ptr [EBP + 0x10]
008ee81d : PUSH ECX
008ee81e : MOV ECX,EAX
008ee820 : CALL EDX
008ee822 : JMP 0x008ee87e
008ee824 : PUSH 0xc5e230
008ee829 : LEA ECX,[EBP + -0x28]
008ee82c : CALL 0x00406460
008ee831 : MOV ESI,0x7
008ee836 : MOV dword ptr [EBP + -0x4],ESI
008ee839 : MOV EAX,[0x00da98e8]
008ee83e : MOV ECX,dword ptr [EAX]
008ee840 : TEST ECX,ECX
008ee842 : JZ 0x008ee859
008ee844 : MOV EDX,dword ptr [ECX]
008ee846 : MOV EDX,dword ptr [EDX + 0x14]
008ee849 : LEA EAX,[EBP + -0x28]
008ee84c : PUSH EAX
008ee84d : PUSH 0xaa1
008ee852 : PUSH 0xc5e290
008ee857 : CALL EDX
008ee859 : MOV dword ptr [EBP + -0x4],0xffffffff
008ee860 : CMP dword ptr [EBP + -0x10],0x8
008ee864 : JC 0x008ee86e
008ee866 : MOV ECX,dword ptr [EBP + -0x24]
008ee869 : CALL 0x006f04e0
008ee86e : XOR EAX,EAX
008ee870 : MOV dword ptr [EBP + -0x10],ESI
008ee873 : MOV dword ptr [EBP + -0x14],0x0
008ee87a : MOV word ptr [EBP + -0x24],AX
008ee87e : MOV ECX,dword ptr [0x00da9894]
008ee884 : MOV EDX,dword ptr [ECX]
008ee886 : MOV EAX,dword ptr [EDX + 0x1e0]
008ee88c : TEST EAX,EAX
008ee88e : JZ 0x008ee895
008ee890 : CALL 0x008c55d0
008ee895 : MOV ECX,dword ptr [EBP + -0xc]
008ee898 : MOV dword ptr FS:[0x0],ECX
008ee89f : POP ECX
008ee8a0 : POP EDI
008ee8a1 : POP ESI
008ee8a2 : POP EBX
008ee8a3 : MOV ESP,EBP
008ee8a5 : POP EBP
008ee8a6 : RET 0x14
