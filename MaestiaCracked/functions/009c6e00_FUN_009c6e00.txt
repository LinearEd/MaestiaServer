PROGRAM  : Maestia.exe
FUNCTION : FUN_009c6e00
ENTRY    : 009c6e00
BODY     : [[009c6e00, 009c6f39]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x009c6e8d) */

void FUN_009c6e00(undefined4 param_1,short *param_2)

{
  short sVar1;
  int iVar2;
  uint uVar3;
  short *psVar4;
  undefined4 ***pppuVar5;
  short *psVar6;
  undefined4 in_stack_00000018;
  uint in_stack_0000001c;
  undefined4 **local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b22293;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8 = 0;
  psVar6 = param_2;
  if (in_stack_0000001c < 8) {
    psVar6 = (short *)&param_2;
  }
  psVar4 = psVar6;
  do {
    sVar1 = *psVar4;
    psVar4 = psVar4 + 1;
  } while (sVar1 != 0);
  local_14 = uVar3;
  FUN_00406360(psVar6,(int)psVar4 - (int)(psVar6 + 1) >> 1);
  local_8._0_1_ = 1;
  FUN_0081cce0(DAT_0172491c);
  local_8._0_1_ = 3;
  iVar2 = *DAT_00da9894;
  if ((iVar2 != 0) && (*(int *)(iVar2 + 0x114) != 0)) {
    pppuVar5 = (undefined4 ***)local_2c[0];
    if (local_18 < 8) {
      pppuVar5 = local_2c;
    }
    (**(code **)(**(int **)(iVar2 + 0x114) + 4))
              (*(int **)(iVar2 + 0x114),"SetEnchantNoticeText",&DAT_00c924e4,pppuVar5,uVar3);
  }
  local_8 = (uint)local_8._1_3_ << 8;
  if (local_18 < 8) {
    local_18 = 7;
    local_1c = 0;
    local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
    local_8 = 0xffffffff;
    if (in_stack_0000001c < 8) {
      in_stack_0000001c = 7;
      in_stack_00000018 = 0;
      param_2 = (short *)((uint)param_2 & 0xffff0000);
      ExceptionList = local_10;
      __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
      return;
    }
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
009c6e00 : PUSH EBP
009c6e01 : MOV EBP,ESP
009c6e03 : PUSH -0x1
009c6e05 : PUSH 0xb22293
009c6e0a : MOV EAX,FS:[0x0]
009c6e10 : PUSH EAX
009c6e11 : SUB ESP,0x3c
009c6e14 : MOV EAX,[0x00d66fa0]
009c6e19 : XOR EAX,EBP
009c6e1b : MOV dword ptr [EBP + -0x10],EAX
009c6e1e : PUSH EBX
009c6e1f : PUSH ESI
009c6e20 : PUSH EDI
009c6e21 : PUSH EAX
009c6e22 : LEA EAX,[EBP + -0xc]
009c6e25 : MOV FS:[0x0],EAX
009c6e2b : XOR EBX,EBX
009c6e2d : MOV dword ptr [EBP + -0x4],EBX
009c6e30 : MOV EDX,dword ptr [EBP + 0xc]
009c6e33 : MOV EDI,0x8
009c6e38 : CMP dword ptr [EBP + 0x20],EDI
009c6e3b : JNC 0x009c6e40
009c6e3d : LEA EDX,[EBP + 0xc]
009c6e40 : XOR EAX,EAX
009c6e42 : MOV word ptr [EBP + -0x44],AX
009c6e46 : MOV EAX,EDX
009c6e48 : MOV dword ptr [EBP + -0x30],0x7
009c6e4f : MOV dword ptr [EBP + -0x34],EBX
009c6e52 : LEA ESI,[EAX + 0x2]
009c6e55 : MOV CX,word ptr [EAX]
009c6e58 : ADD EAX,0x2
009c6e5b : CMP CX,BX
009c6e5e : JNZ 0x009c6e55
009c6e60 : SUB EAX,ESI
009c6e62 : SAR EAX,0x1
009c6e64 : PUSH EAX
009c6e65 : PUSH EDX
009c6e66 : LEA ECX,[EBP + -0x48]
009c6e69 : CALL 0x00406360
009c6e6e : MOV byte ptr [EBP + -0x4],0x1
009c6e72 : MOV ECX,dword ptr [0x0172491c]
009c6e78 : PUSH ECX
009c6e79 : LEA ECX,[EBP + -0x48]
009c6e7c : LEA ESI,[EBP + -0x2c]
009c6e7f : CALL 0x0081cce0
009c6e84 : MOV byte ptr [EBP + -0x4],0x3
009c6e88 : CMP dword ptr [EBP + -0x30],EDI
009c6e8b : JC 0x009c6e95
009c6e8d : MOV ECX,dword ptr [EBP + -0x44]
009c6e90 : CALL 0x006f04e0
009c6e95 : MOV EAX,[0x00da9894]
009c6e9a : XOR EDX,EDX
009c6e9c : MOV ESI,0x7
009c6ea1 : MOV dword ptr [EBP + -0x30],ESI
009c6ea4 : MOV dword ptr [EBP + -0x34],EBX
009c6ea7 : MOV word ptr [EBP + -0x44],DX
009c6eab : MOV EAX,dword ptr [EAX]
009c6ead : CMP EAX,EBX
009c6eaf : JZ 0x009c6ee0
009c6eb1 : CMP dword ptr [EAX + 0x114],EBX
009c6eb7 : JZ 0x009c6ee0
009c6eb9 : MOV EAX,dword ptr [EAX + 0x114]
009c6ebf : MOV ECX,dword ptr [EBP + -0x28]
009c6ec2 : CMP dword ptr [EBP + -0x14],EDI
009c6ec5 : JNC 0x009c6eca
009c6ec7 : LEA ECX,[EBP + -0x28]
009c6eca : MOV EDX,dword ptr [EAX]
009c6ecc : PUSH ECX
009c6ecd : PUSH 0xc924e4
009c6ed2 : PUSH 0xc924e8
009c6ed7 : PUSH EAX
009c6ed8 : MOV EAX,dword ptr [EDX + 0x4]
009c6edb : CALL EAX
009c6edd : ADD ESP,0x10
009c6ee0 : MOV byte ptr [EBP + -0x4],BL
009c6ee3 : CMP dword ptr [EBP + -0x14],EDI
009c6ee6 : JC 0x009c6ef0
009c6ee8 : MOV ECX,dword ptr [EBP + -0x28]
009c6eeb : CALL 0x006f04e0
009c6ef0 : XOR ECX,ECX
009c6ef2 : MOV dword ptr [EBP + -0x14],ESI
009c6ef5 : MOV dword ptr [EBP + -0x18],EBX
009c6ef8 : MOV word ptr [EBP + -0x28],CX
009c6efc : MOV dword ptr [EBP + -0x4],0xffffffff
009c6f03 : CMP dword ptr [EBP + 0x20],EDI
009c6f06 : JC 0x009c6f10
009c6f08 : MOV ECX,dword ptr [EBP + 0xc]
009c6f0b : CALL 0x006f04e0
009c6f10 : XOR EDX,EDX
009c6f12 : MOV dword ptr [EBP + 0x20],ESI
009c6f15 : MOV dword ptr [EBP + 0x1c],EBX
009c6f18 : MOV word ptr [EBP + 0xc],DX
009c6f1c : MOV ECX,dword ptr [EBP + -0xc]
009c6f1f : MOV dword ptr FS:[0x0],ECX
009c6f26 : POP ECX
009c6f27 : POP EDI
009c6f28 : POP ESI
009c6f29 : POP EBX
009c6f2a : MOV ECX,dword ptr [EBP + -0x10]
009c6f2d : XOR ECX,EBP
009c6f2f : CALL 0x00633e6b
009c6f34 : MOV ESP,EBP
009c6f36 : POP EBP
009c6f37 : RET 0x1c
