PROGRAM  : Maestia.exe
FUNCTION : FUN_00584950
ENTRY    : 00584950
BODY     : [[00584950, 00584a69]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00584950(int param_1)

{
  int *piVar1;
  undefined4 uVar2;
  byte *pbVar3;
  char cVar4;
  int iVar5;
  undefined4 *local_1c;
  undefined1 *local_18;
  undefined4 local_14;
  
  cVar4 = FUN_00526030(7);
  if (cVar4 == '\0') {
    FUN_00526050("Array",0,0);
    return;
  }
  FUN_0051b3b0(*(undefined4 *)(*(int *)(*(int *)(param_1 + 0x18) + 0x78) + 0x288));
  if (*(int *)(param_1 + 0x1c) == 0) {
    FUN_00584830(*(undefined4 *)(param_1 + 0x18),&local_18,&DAT_00b8b334);
  }
  else {
    uVar2 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(0);
    FUN_005272e0(&local_1c,uVar2,0xffffffff,0);
    FUN_00584830(*(undefined4 *)(param_1 + 0x18),&local_18,*local_1c);
    local_1c[2] = local_1c[2] + -1;
    if (local_1c[2] == 0) {
      FUN_00525340();
    }
  }
  if (local_18 == (undefined1 *)0x0) {
    local_18 = &DAT_00cca874;
  }
  iVar5 = FUN_00525450(local_18,local_14);
  *(int *)(iVar5 + 8) = *(int *)(iVar5 + 8) + 1;
  pbVar3 = *(byte **)(param_1 + 4);
  if (4 < *pbVar3) {
    FUN_00526400();
  }
  *pbVar3 = 5;
  *(int *)(pbVar3 + 4) = iVar5;
  *(int *)(iVar5 + 8) = *(int *)(iVar5 + 8) + 1;
  piVar1 = (int *)(iVar5 + 8);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    FUN_00525340();
  }
  FUN_0051b3d0();
  return;
}



============================================================
DISASSEMBLY
============================================================
00584950 : SUB ESP,0x1c
00584953 : PUSH ESI
00584954 : MOV ESI,dword ptr [ESP + 0x24]
00584958 : PUSH 0x7
0058495a : MOV ECX,ESI
0058495c : CALL 0x00526030
00584961 : TEST AL,AL
00584963 : JNZ 0x0058497a
00584965 : PUSH 0x0
00584967 : PUSH 0x0
00584969 : PUSH 0xb8df10
0058496e : MOV ECX,ESI
00584970 : CALL 0x00526050
00584975 : POP ESI
00584976 : ADD ESP,0x1c
00584979 : RET
0058497a : MOV EAX,dword ptr [ESI + 0x8]
0058497d : PUSH EBX
0058497e : PUSH EDI
0058497f : TEST EAX,EAX
00584981 : JZ 0x00584988
00584983 : LEA EBX,[EAX + -0x10]
00584986 : JMP 0x0058498a
00584988 : XOR EBX,EBX
0058498a : MOV EAX,dword ptr [ESI + 0x18]
0058498d : MOV ECX,dword ptr [EAX + 0x78]
00584990 : MOV EDX,dword ptr [ECX + 0x288]
00584996 : PUSH EDX
00584997 : LEA ECX,[ESP + 0x14]
0058499b : CALL 0x0051b3b0
005849a0 : CMP dword ptr [ESI + 0x1c],0x0
005849a4 : JNZ 0x005849bd
005849a6 : MOV ECX,dword ptr [ESI + 0x18]
005849a9 : PUSH 0xb8b334
005849ae : LEA EAX,[ESP + 0x14]
005849b2 : PUSH EAX
005849b3 : PUSH ECX
005849b4 : MOV ECX,EBX
005849b6 : CALL 0x00584830
005849bb : JMP 0x00584a07
005849bd : MOV EDI,dword ptr [ESI + 0x18]
005849c0 : PUSH 0x0
005849c2 : MOV ECX,ESI
005849c4 : CALL 0x00526260
005849c9 : PUSH 0x0
005849cb : PUSH -0x1
005849cd : PUSH EDI
005849ce : LEA EDX,[ESP + 0x18]
005849d2 : PUSH EDX
005849d3 : MOV ECX,EAX
005849d5 : CALL 0x005272e0
005849da : MOV EAX,dword ptr [ESP + 0xc]
005849de : MOV ECX,dword ptr [EAX]
005849e0 : MOV EAX,dword ptr [ESI + 0x18]
005849e3 : PUSH ECX
005849e4 : LEA EDX,[ESP + 0x14]
005849e8 : PUSH EDX
005849e9 : PUSH EAX
005849ea : MOV ECX,EBX
005849ec : CALL 0x00584830
005849f1 : MOV EAX,dword ptr [ESP + 0xc]
005849f5 : DEC dword ptr [EAX + 0x8]
005849f8 : MOV ECX,EAX
005849fa : ADD EAX,0x8
005849fd : CMP dword ptr [EAX],0x0
00584a00 : JNZ 0x00584a07
00584a02 : CALL 0x00525340
00584a07 : MOV ECX,dword ptr [ESP + 0x10]
00584a0b : TEST ECX,ECX
00584a0d : JNZ 0x00584a14
00584a0f : MOV ECX,0xcca874
00584a14 : MOV EDX,dword ptr [ESI + 0x18]
00584a17 : MOV EAX,dword ptr [EDX + 0x78]
00584a1a : MOV EDX,dword ptr [ESP + 0x14]
00584a1e : PUSH EDX
00584a1f : PUSH ECX
00584a20 : LEA ECX,[EAX + 0x254]
00584a26 : CALL 0x00525450
00584a2b : MOV EDI,EAX
00584a2d : MOV EBX,0x1
00584a32 : ADD dword ptr [EDI + 0x8],EBX
00584a35 : MOV ESI,dword ptr [ESI + 0x4]
00584a38 : CMP byte ptr [ESI],0x5
00584a3b : JC 0x00584a44
00584a3d : MOV ECX,ESI
00584a3f : CALL 0x00526400
00584a44 : MOV byte ptr [ESI],0x5
00584a47 : MOV dword ptr [ESI + 0x4],EDI
00584a4a : ADD dword ptr [EDI + 0x8],EBX
00584a4d : ADD dword ptr [EDI + 0x8],-0x1
00584a51 : JNZ 0x00584a5a
00584a53 : MOV ECX,EDI
00584a55 : CALL 0x00525340
00584a5a : LEA ECX,[ESP + 0x10]
00584a5e : CALL 0x0051b3d0
00584a63 : POP EDI
00584a64 : POP EBX
00584a65 : POP ESI
00584a66 : ADD ESP,0x1c
00584a69 : RET
