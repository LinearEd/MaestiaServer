PROGRAM  : Maestia.exe
FUNCTION : FUN_0092a310
ENTRY    : 0092a310
BODY     : [[0092a310, 0092a42c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0092a310(undefined4 param_1,undefined4 param_2)

{
  undefined4 *puVar1;
  int iVar2;
  uint uVar3;
  int in_ECX;
  undefined1 local_2c [24];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2cb60;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(undefined1 *)(in_ECX + 0x3e) = 0;
  iVar2 = DAT_0172491c;
  if (*(char *)(in_ECX + 8) == '\0') {
    FUN_008018d0(L"\n[%s] Failed - Initialize",L"AvaGuiRandomBox::Open");
    ExceptionList = local_10;
    return;
  }
  if (*(char *)(in_ECX + 0x32) != '\0') {
    FUN_00406460(L"Failed - Already visible");
    local_8 = 0;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiRandomBox::Open",0x37,local_2c);
    }
    local_8 = 0xffffffff;
    if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    ExceptionList = local_10;
    return;
  }
  *(undefined1 *)(in_ECX + 0x3d) = 0;
  if (iVar2 != 0) {
    FUN_0081e4b0(iVar2);
  }
  if ((*DAT_00da9894 != 0) &&
     (puVar1 = *(undefined4 **)(*DAT_00da9894 + 0x114), puVar1 != (undefined4 *)0x0)) {
    (**(code **)*puVar1)("InitRandomBox",uVar3);
  }
  FUN_008f7770(param_1,param_2);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0092a310 : PUSH EBP
0092a311 : MOV EBP,ESP
0092a313 : PUSH -0x1
0092a315 : PUSH 0xb2cb60
0092a31a : MOV EAX,FS:[0x0]
0092a320 : PUSH EAX
0092a321 : SUB ESP,0x1c
0092a324 : PUSH EBX
0092a325 : PUSH ESI
0092a326 : MOV EAX,[0x00d66fa0]
0092a32b : XOR EAX,EBP
0092a32d : PUSH EAX
0092a32e : LEA EAX,[EBP + -0xc]
0092a331 : MOV FS:[0x0],EAX
0092a337 : MOV ESI,ECX
0092a339 : XOR EBX,EBX
0092a33b : MOV byte ptr [ESI + 0x3e],BL
0092a33e : CMP byte ptr [ESI + 0x8],BL
0092a341 : JNZ 0x0092a36e
0092a343 : MOV ESI,dword ptr [0x00da98e8]
0092a349 : PUSH 0xc6bff4
0092a34e : PUSH 0xc6c020
0092a353 : CALL 0x008018d0
0092a358 : ADD ESP,0x8
0092a35b : MOV ECX,dword ptr [EBP + -0xc]
0092a35e : MOV dword ptr FS:[0x0],ECX
0092a365 : POP ECX
0092a366 : POP ESI
0092a367 : POP EBX
0092a368 : MOV ESP,EBP
0092a36a : POP EBP
0092a36b : RET 0x8
0092a36e : CMP byte ptr [ESI + 0x32],BL
0092a371 : JZ 0x0092a3d8
0092a373 : PUSH 0xc6c054
0092a378 : LEA ECX,[EBP + -0x28]
0092a37b : CALL 0x00406460
0092a380 : MOV dword ptr [EBP + -0x4],EBX
0092a383 : MOV EAX,[0x00da98e8]
0092a388 : MOV ECX,dword ptr [EAX]
0092a38a : CMP ECX,EBX
0092a38c : JZ 0x0092a3a0
0092a38e : MOV EDX,dword ptr [ECX]
0092a390 : MOV EDX,dword ptr [EDX + 0x14]
0092a393 : LEA EAX,[EBP + -0x28]
0092a396 : PUSH EAX
0092a397 : PUSH 0x37
0092a399 : PUSH 0xc6c088
0092a39e : CALL EDX
0092a3a0 : MOV dword ptr [EBP + -0x4],0xffffffff
0092a3a7 : CMP dword ptr [EBP + -0x10],0x8
0092a3ab : JC 0x0092a3b5
0092a3ad : MOV ECX,dword ptr [EBP + -0x24]
0092a3b0 : CALL 0x006f04e0
0092a3b5 : XOR EAX,EAX
0092a3b7 : MOV dword ptr [EBP + -0x10],0x7
0092a3be : MOV dword ptr [EBP + -0x14],EBX
0092a3c1 : MOV word ptr [EBP + -0x24],AX
0092a3c5 : MOV ECX,dword ptr [EBP + -0xc]
0092a3c8 : MOV dword ptr FS:[0x0],ECX
0092a3cf : POP ECX
0092a3d0 : POP ESI
0092a3d1 : POP EBX
0092a3d2 : MOV ESP,EBP
0092a3d4 : POP EBP
0092a3d5 : RET 0x8
0092a3d8 : MOV EAX,[0x0172491c]
0092a3dd : MOV byte ptr [ESI + 0x3d],BL
0092a3e0 : CMP EAX,EBX
0092a3e2 : JZ 0x0092a3ea
0092a3e4 : PUSH EAX
0092a3e5 : CALL 0x0081e4b0
0092a3ea : MOV ECX,dword ptr [0x00da9894]
0092a3f0 : MOV EAX,dword ptr [ECX]
0092a3f2 : CMP EAX,EBX
0092a3f4 : JZ 0x0092a40b
0092a3f6 : MOV ECX,dword ptr [EAX + 0x114]
0092a3fc : CMP ECX,EBX
0092a3fe : JZ 0x0092a40b
0092a400 : MOV EDX,dword ptr [ECX]
0092a402 : MOV EAX,dword ptr [EDX]
0092a404 : PUSH 0xc6c0b4
0092a409 : CALL EAX
0092a40b : MOV ECX,dword ptr [EBP + 0xc]
0092a40e : MOV EDX,dword ptr [EBP + 0x8]
0092a411 : PUSH ECX
0092a412 : PUSH EDX
0092a413 : MOV ECX,ESI
0092a415 : CALL 0x008f7770
0092a41a : MOV ECX,dword ptr [EBP + -0xc]
0092a41d : MOV dword ptr FS:[0x0],ECX
0092a424 : POP ECX
0092a425 : POP ESI
0092a426 : POP EBX
0092a427 : MOV ESP,EBP
0092a429 : POP EBP
0092a42a : RET 0x8
