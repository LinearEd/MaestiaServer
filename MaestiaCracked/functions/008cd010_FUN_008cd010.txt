PROGRAM  : Maestia.exe
FUNCTION : FUN_008cd010
ENTRY    : 008cd010
BODY     : [[008cd010, 008cd209]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008cd010(int param_1)

{
  short sVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  undefined4 uVar5;
  undefined1 local_34 [24];
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b4e1c7;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  uVar4 = 0;
  if (param_1 == 0) {
    FUN_00406460(L"Packetdata NULL");
    local_c = 0;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                (L"AvaGuiCraft::ReceiveDecomposeSkill",0x39f,local_34);
    }
    local_c = 0xffffffff;
    if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    ExceptionList = local_14;
    return;
  }
  iVar3 = FUN_00703c00(0x737,DAT_00d66fa0 ^ (uint)&stack0xffffffc0);
  if (iVar3 != 0) {
    sVar1 = *(short *)(iVar3 + 0x9f0);
    iVar3 = *DAT_00da9894;
    if (iVar3 != 0) {
      if (*(int *)(iVar3 + 0x128) == 0) {
        FUN_00406460(L"Mouse NULL!!");
        local_c = 1;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"AvaGuiCraft::ReceiveDecomposeSkill",0x3ac,local_34);
        }
        local_c = 0xffffffff;
        FUN_00406560();
        ExceptionList = local_14;
        return;
      }
      FUN_0097fca0(*(undefined4 *)(iVar3 + 0x128));
      FUN_0097fa60();
      uVar5 = DAT_0172491c;
      *(undefined4 *)(*(int *)(*DAT_00da9894 + 0x128) + 0x5c) = 5;
      DAT_00da9853 = 0xd;
      FUN_0081c150(uVar5);
      piVar2 = DAT_00da9894;
      *(short *)(*(int *)(*DAT_00da9894 + 0x128) + 0x84) = sVar1;
      if (*(int *)(*piVar2 + 0x40) != 0) {
        do {
          iVar3 = FUN_008eb810();
          if ((iVar3 != 0) && (*(char *)(iVar3 + 100) != '\0')) {
            if (sVar1 == 1) {
              uVar5 = 3;
            }
            else if (sVar1 == 2) {
              uVar5 = 4;
            }
            else {
              if (sVar1 != 3) goto LAB_008cd1e7;
              uVar5 = 5;
            }
            FUN_0093ff10(uVar5);
          }
LAB_008cd1e7:
          uVar4 = uVar4 + 1;
        } while (uVar4 < *(uint *)(*DAT_00da9894 + 0x40));
      }
    }
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
008cd010 : PUSH EBP
008cd011 : MOV EBP,ESP
008cd013 : AND ESP,0xfffffff8
008cd016 : PUSH -0x1
008cd018 : PUSH 0xb4e1c7
008cd01d : MOV EAX,FS:[0x0]
008cd023 : PUSH EAX
008cd024 : SUB ESP,0x20
008cd027 : PUSH EBX
008cd028 : PUSH ESI
008cd029 : PUSH EDI
008cd02a : MOV EAX,[0x00d66fa0]
008cd02f : XOR EAX,ESP
008cd031 : PUSH EAX
008cd032 : LEA EAX,[ESP + 0x30]
008cd036 : MOV FS:[0x0],EAX
008cd03c : MOV EAX,dword ptr [EBP + 0x8]
008cd03f : XOR ESI,ESI
008cd041 : CMP EAX,ESI
008cd043 : JNZ 0x008cd0b8
008cd045 : PUSH 0xc53d5c
008cd04a : LEA ECX,[ESP + 0x14]
008cd04e : CALL 0x00406460
008cd053 : MOV dword ptr [ESP + 0x38],ESI
008cd057 : MOV EAX,[0x00da98e8]
008cd05c : MOV ECX,dword ptr [EAX]
008cd05e : CMP ECX,ESI
008cd060 : JZ 0x008cd078
008cd062 : MOV EDX,dword ptr [ECX]
008cd064 : MOV EDX,dword ptr [EDX + 0x14]
008cd067 : LEA EAX,[ESP + 0x10]
008cd06b : PUSH EAX
008cd06c : PUSH 0x39f
008cd071 : PUSH 0xc53d98
008cd076 : CALL EDX
008cd078 : MOV dword ptr [ESP + 0x38],0xffffffff
008cd080 : CMP dword ptr [ESP + 0x28],0x8
008cd085 : JC 0x008cd090
008cd087 : MOV ECX,dword ptr [ESP + 0x14]
008cd08b : CALL 0x006f04e0
008cd090 : XOR EAX,EAX
008cd092 : MOV dword ptr [ESP + 0x28],0x7
008cd09a : MOV dword ptr [ESP + 0x24],ESI
008cd09e : MOV word ptr [ESP + 0x14],AX
008cd0a3 : MOV ECX,dword ptr [ESP + 0x30]
008cd0a7 : MOV dword ptr FS:[0x0],ECX
008cd0ae : POP ECX
008cd0af : POP EDI
008cd0b0 : POP ESI
008cd0b1 : POP EBX
008cd0b2 : MOV ESP,EBP
008cd0b4 : POP EBP
008cd0b5 : RET 0x4
008cd0b8 : MOV DI,word ptr [EAX + 0x4]
008cd0bc : PUSH 0x737
008cd0c1 : CALL 0x00703c00
008cd0c6 : ADD ESP,0x4
008cd0c9 : CMP EAX,ESI
008cd0cb : JZ 0x008cd1f5
008cd0d1 : MOV ECX,dword ptr [0x00da9894]
008cd0d7 : MOVZX EBX,word ptr [EAX + 0x9f0]
008cd0de : MOV EAX,dword ptr [ECX]
008cd0e0 : CMP EAX,ESI
008cd0e2 : JZ 0x008cd1f5
008cd0e8 : CMP dword ptr [EAX + 0x128],ESI
008cd0ee : JNZ 0x008cd14e
008cd0f0 : PUSH 0xc53d7c
008cd0f5 : LEA ECX,[ESP + 0x14]
008cd0f9 : CALL 0x00406460
008cd0fe : MOV dword ptr [ESP + 0x38],0x1
008cd106 : MOV EDX,dword ptr [0x00da98e8]
008cd10c : MOV ECX,dword ptr [EDX]
008cd10e : CMP ECX,ESI
008cd110 : JZ 0x008cd128
008cd112 : MOV EAX,dword ptr [ECX]
008cd114 : MOV EAX,dword ptr [EAX + 0x14]
008cd117 : LEA EDX,[ESP + 0x10]
008cd11b : PUSH EDX
008cd11c : PUSH 0x3ac
008cd121 : PUSH 0xc53de0
008cd126 : CALL EAX
008cd128 : MOV dword ptr [ESP + 0x38],0xffffffff
008cd130 : LEA ECX,[ESP + 0x10]
008cd134 : CALL 0x00406560
008cd139 : MOV ECX,dword ptr [ESP + 0x30]
008cd13d : MOV dword ptr FS:[0x0],ECX
008cd144 : POP ECX
008cd145 : POP EDI
008cd146 : POP ESI
008cd147 : POP EBX
008cd148 : MOV ESP,EBP
008cd14a : POP EBP
008cd14b : RET 0x4
008cd14e : MOV ECX,dword ptr [EAX + 0x128]
008cd154 : PUSH ECX
008cd155 : CALL 0x0097fca0
008cd15a : MOV EDX,dword ptr [0x00da9894]
008cd160 : MOV EAX,dword ptr [EDX]
008cd162 : MOV ECX,dword ptr [EAX + 0x128]
008cd168 : CALL 0x0097fa60
008cd16d : MOV ECX,dword ptr [0x00da9894]
008cd173 : MOV EDX,dword ptr [ECX]
008cd175 : MOV EAX,dword ptr [EDX + 0x128]
008cd17b : MOV ECX,dword ptr [0x0172491c]
008cd181 : MOV dword ptr [EAX + 0x5c],0x5
008cd188 : MOV EAX,0xd
008cd18d : PUSH ECX
008cd18e : MOV [0x00da9853],AL
008cd193 : CALL 0x0081c150
008cd198 : MOV EAX,[0x00da9894]
008cd19d : MOV EDX,dword ptr [EAX]
008cd19f : MOV ECX,dword ptr [EDX + 0x128]
008cd1a5 : MOV word ptr [ECX + 0x84],BX
008cd1ac : MOV EAX,dword ptr [EAX]
008cd1ae : CMP dword ptr [EAX + 0x40],ESI
008cd1b1 : JBE 0x008cd1f5
008cd1b3 : MOV ECX,ESI
008cd1b5 : CALL 0x008eb810
008cd1ba : MOV EDI,EAX
008cd1bc : TEST EDI,EDI
008cd1be : JZ 0x008cd1e7
008cd1c0 : CMP byte ptr [EDI + 0x64],0x0
008cd1c4 : JZ 0x008cd1e7
008cd1c6 : CMP BX,0x1
008cd1ca : JNZ 0x008cd1d0
008cd1cc : PUSH 0x3
008cd1ce : JMP 0x008cd1e2
008cd1d0 : CMP BX,0x2
008cd1d4 : JNZ 0x008cd1da
008cd1d6 : PUSH 0x4
008cd1d8 : JMP 0x008cd1e2
008cd1da : CMP BX,0x3
008cd1de : JNZ 0x008cd1e7
008cd1e0 : PUSH 0x5
008cd1e2 : CALL 0x0093ff10
008cd1e7 : MOV EDX,dword ptr [0x00da9894]
008cd1ed : MOV EAX,dword ptr [EDX]
008cd1ef : INC ESI
008cd1f0 : CMP ESI,dword ptr [EAX + 0x40]
008cd1f3 : JC 0x008cd1b3
008cd1f5 : MOV ECX,dword ptr [ESP + 0x30]
008cd1f9 : MOV dword ptr FS:[0x0],ECX
008cd200 : POP ECX
008cd201 : POP EDI
008cd202 : POP ESI
008cd203 : POP EBX
008cd204 : MOV ESP,EBP
008cd206 : POP EBP
008cd207 : RET 0x4
