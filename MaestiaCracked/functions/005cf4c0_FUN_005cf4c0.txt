PROGRAM  : Maestia.exe
FUNCTION : FUN_005cf4c0
ENTRY    : 005cf4c0
BODY     : [[005cf4c0, 005cf5f5]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005cf4c0(undefined4 *param_1,undefined4 *param_2)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  int local_18;
  undefined1 local_14;
  
  iVar3 = (int)param_2;
  local_18 = (int)param_2;
  local_14 = 8;
  puVar4 = (undefined4 *)FUN_00515840(0x34,0);
  if (puVar4 == (undefined4 *)0x0) {
    puVar4 = (undefined4 *)0x0;
  }
  else {
    FUN_00568960(&local_18,0);
    *puVar4 = &PTR_LAB_00b8dd80;
    puVar4[4] = &PTR_LAB_00b90510;
  }
  puVar2 = param_1;
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = puVar4;
  param_1[1] = 0;
  puVar4 = (undefined4 *)FUN_00515840(0x5c,0);
  if (puVar4 == (undefined4 *)0x0) {
    puVar4 = (undefined4 *)0x0;
  }
  else {
    uVar5 = FUN_00530910(1);
    FUN_005cf3e0(&local_18,uVar5,puVar2);
    *puVar4 = &PTR_LAB_00b92e4c;
    puVar4[4] = &PTR_LAB_00b92df8;
    puVar4[0xf] = &PTR_LAB_00b92df0;
    puVar4[2] = puVar4[2] + 1 & 0x8fffffff;
  }
  param_1 = (undefined4 *)0x25;
  param_2 = puVar4;
  FUN_0050ff10(&param_1,&param_2);
  if (param_2 != (undefined4 *)0x0) {
    FUN_00503db0();
  }
  puVar6 = &param_2;
  param_2 = (undefined4 *)((uint)param_2 & 0xffffff00);
  iVar1 = *(int *)(*(int *)(iVar3 + 0x29c) + 0x10);
  uVar5 = FUN_00526210(puVar2);
  (**(code **)(iVar1 + 0x28))(&local_18,iVar3 + 0x9c,uVar5,puVar6);
  FUN_00526bc0();
  if (puVar4 != (undefined4 *)0x0) {
    FUN_00503db0();
  }
  return puVar2;
}



============================================================
DISASSEMBLY
============================================================
005cf4c0 : SUB ESP,0x18
005cf4c3 : PUSH EBP
005cf4c4 : PUSH ESI
005cf4c5 : PUSH EDI
005cf4c6 : MOV EDI,dword ptr [ESP + 0x2c]
005cf4ca : MOV ECX,dword ptr [EDI + 0x288]
005cf4d0 : PUSH 0x0
005cf4d2 : PUSH 0x34
005cf4d4 : MOV dword ptr [ESP + 0x14],EDI
005cf4d8 : MOV byte ptr [ESP + 0x18],0x8
005cf4dd : CALL 0x00515840
005cf4e2 : MOV ESI,EAX
005cf4e4 : TEST ESI,ESI
005cf4e6 : JZ 0x005cf505
005cf4e8 : PUSH 0x0
005cf4ea : LEA EAX,[ESP + 0x10]
005cf4ee : PUSH EAX
005cf4ef : MOV ECX,ESI
005cf4f1 : CALL 0x00568960
005cf4f6 : MOV dword ptr [ESI],0xb8dd80
005cf4fc : MOV dword ptr [ESI + 0x10],0xb90510
005cf503 : JMP 0x005cf507
005cf505 : XOR ESI,ESI
005cf507 : MOV EBP,dword ptr [ESP + 0x28]
005cf50b : PUSH 0x0
005cf50d : MOV byte ptr [EBP + 0x8],0x0
005cf511 : MOV dword ptr [EBP],ESI
005cf514 : MOV dword ptr [EBP + 0x4],0x0
005cf51b : MOV ECX,dword ptr [EDI + 0x288]
005cf521 : PUSH 0x5c
005cf523 : CALL 0x00515840
005cf528 : MOV ESI,EAX
005cf52a : TEST ESI,ESI
005cf52c : JZ 0x005cf5ef
005cf532 : PUSH 0x1
005cf534 : MOV ECX,EDI
005cf536 : CALL 0x00530910
005cf53b : PUSH EBP
005cf53c : PUSH EAX
005cf53d : LEA ECX,[ESP + 0x14]
005cf541 : PUSH ECX
005cf542 : MOV ECX,ESI
005cf544 : CALL 0x005cf3e0
005cf549 : MOV dword ptr [ESI],0xb92e4c
005cf54f : MOV dword ptr [ESI + 0x10],0xb92df8
005cf556 : MOV dword ptr [ESI + 0x3c],0xb92df0
005cf55d : MOV EDX,dword ptr [ESI + 0x8]
005cf560 : INC EDX
005cf561 : AND EDX,0x8fffffff
005cf567 : MOV dword ptr [ESI + 0x8],EDX
005cf56a : LEA EAX,[ESP + 0x2c]
005cf56e : PUSH EAX
005cf56f : LEA ECX,[ESP + 0x2c]
005cf573 : PUSH ECX
005cf574 : LEA ECX,[EDI + 0x278]
005cf57a : MOV dword ptr [ESP + 0x34],ESI
005cf57e : MOV dword ptr [ESP + 0x30],0x25
005cf586 : CALL 0x0050ff10
005cf58b : MOV ECX,dword ptr [ESP + 0x2c]
005cf58f : TEST ECX,ECX
005cf591 : JZ 0x005cf598
005cf593 : CALL 0x00503db0
005cf598 : MOV EDX,dword ptr [EDI + 0x29c]
005cf59e : PUSH EBX
005cf59f : LEA EAX,[ESP + 0x30]
005cf5a3 : PUSH EAX
005cf5a4 : MOV byte ptr [ESP + 0x34],0x0
005cf5a9 : MOV EBX,dword ptr [EDX + 0x10]
005cf5ac : PUSH EBP
005cf5ad : LEA ECX,[ESP + 0x20]
005cf5b1 : CALL 0x00526210
005cf5b6 : PUSH EAX
005cf5b7 : MOV EAX,dword ptr [EBX + 0x28]
005cf5ba : LEA ECX,[EDI + 0x9c]
005cf5c0 : PUSH ECX
005cf5c1 : MOV ECX,dword ptr [EDI + 0x29c]
005cf5c7 : LEA EDX,[ESP + 0x1c]
005cf5cb : PUSH EDX
005cf5cc : ADD ECX,0x10
005cf5cf : CALL EAX
005cf5d1 : LEA ECX,[ESP + 0x18]
005cf5d5 : CALL 0x00526bc0
005cf5da : POP EBX
005cf5db : TEST ESI,ESI
005cf5dd : JZ 0x005cf5e6
005cf5df : MOV ECX,ESI
005cf5e1 : CALL 0x00503db0
005cf5e6 : POP EDI
005cf5e7 : POP ESI
005cf5e8 : MOV EAX,EBP
005cf5ea : POP EBP
005cf5eb : ADD ESP,0x18
005cf5ee : RET
005cf5ef : XOR ESI,ESI
005cf5f1 : JMP 0x005cf56a
