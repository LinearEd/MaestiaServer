PROGRAM  : Maestia.exe
FUNCTION : FUN_0051db50
ENTRY    : 0051db50
BODY     : [[0051db50, 0051dbb7]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_0051db50(uint *param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  int *in_ECX;
  uint *puVar3;
  
  iVar1 = *in_ECX;
  puVar3 = (uint *)(iVar1 + 8 + param_2 * 0xc);
  if ((*(int *)(iVar1 + 8 + param_2 * 0xc) != -2) &&
     (uVar2 = param_2, (*(uint *)(puVar3[1] + 0xc) & *(uint *)(iVar1 + 4)) == param_2)) {
    while (((*(uint *)(puVar3[1] + 0xc) & *(uint *)(iVar1 + 4)) != param_2 ||
           (puVar3[1] != *param_1))) {
      uVar2 = *puVar3;
      if (uVar2 == 0xffffffff) {
        return 0xffffffff;
      }
      puVar3 = (uint *)(iVar1 + 8 + uVar2 * 0xc);
    }
    return uVar2;
  }
  return 0xffffffff;
}



============================================================
DISASSEMBLY
============================================================
0051db50 : PUSH EBX
0051db51 : PUSH ESI
0051db52 : MOV ESI,dword ptr [ESP + 0x10]
0051db56 : PUSH EDI
0051db57 : MOV EDI,dword ptr [ECX]
0051db59 : LEA ECX,[ESI + ESI*0x2]
0051db5c : CMP dword ptr [EDI + ECX*0x4 + 0x8],-0x2
0051db61 : LEA ECX,[EDI + ECX*0x4 + 0x8]
0051db65 : MOV EAX,ESI
0051db67 : JZ 0x0051dbaf
0051db69 : MOV EDX,dword ptr [ECX + 0x4]
0051db6c : MOV EBX,dword ptr [EDI + 0x4]
0051db6f : MOV EDX,dword ptr [EDX + 0xc]
0051db72 : AND EDX,EBX
0051db74 : CMP EDX,ESI
0051db76 : JNZ 0x0051dbaf
0051db78 : PUSH EBP
0051db79 : LEA ESP,[ESP]
0051db80 : MOV EDX,dword ptr [ECX + 0x4]
0051db83 : MOV EBP,dword ptr [EDX + 0xc]
0051db86 : AND EBP,EBX
0051db88 : CMP EBP,ESI
0051db8a : JNZ 0x0051db95
0051db8c : MOV EBP,dword ptr [ESP + 0x14]
0051db90 : CMP EDX,dword ptr [EBP]
0051db93 : JZ 0x0051dba8
0051db95 : MOV EAX,dword ptr [ECX]
0051db97 : CMP EAX,-0x1
0051db9a : JZ 0x0051dba5
0051db9c : LEA ECX,[EAX + EAX*0x2]
0051db9f : LEA ECX,[EDI + ECX*0x4 + 0x8]
0051dba3 : JMP 0x0051db80
0051dba5 : OR EAX,0xffffffff
0051dba8 : POP EBP
0051dba9 : POP EDI
0051dbaa : POP ESI
0051dbab : POP EBX
0051dbac : RET 0x8
0051dbaf : POP EDI
0051dbb0 : POP ESI
0051dbb1 : OR EAX,0xffffffff
0051dbb4 : POP EBX
0051dbb5 : RET 0x8
