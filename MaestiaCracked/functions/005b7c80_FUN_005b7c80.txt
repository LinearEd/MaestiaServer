PROGRAM  : Maestia.exe
FUNCTION : FUN_005b7c80
ENTRY    : 005b7c80
BODY     : [[005b7c80, 005b7ce2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005b7c80(void)

{
  int iVar1;
  uint uVar2;
  int *in_ECX;
  undefined4 uStack_10;
  undefined4 uStack_c;
  undefined2 uStack_8;
  undefined1 uStack_6;
  undefined1 uStack_5;
  undefined1 uStack_4;
  undefined1 uStack_3;
  
  iVar1 = (**(code **)(*in_ECX + 0x40))();
  if ((iVar1 != 0) && ((uVar2 = *(uint *)(iVar1 + 0xb00) >> 0x1c & 3, uVar2 == 3 || (uVar2 != 1))))
  {
    uStack_8 = 0;
    uStack_c = 0;
    uStack_6 = 0;
    uStack_4 = 0;
    uStack_3 = 0;
    uStack_10 = 0x2000;
    uStack_5 = 0xff;
    (**(code **)(*in_ECX + 0xe8))(&uStack_10);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005b7c80 : SUB ESP,0x10
005b7c83 : PUSH ESI
005b7c84 : MOV ESI,ECX
005b7c86 : MOV EAX,dword ptr [ESI]
005b7c88 : MOV EDX,dword ptr [EAX + 0x40]
005b7c8b : CALL EDX
005b7c8d : XOR ECX,ECX
005b7c8f : CMP EAX,ECX
005b7c91 : JZ 0x005b7cde
005b7c93 : MOV EAX,dword ptr [EAX + 0xb00]
005b7c99 : SHR EAX,0x1c
005b7c9c : AND EAX,0x3
005b7c9f : CMP EAX,0x3
005b7ca2 : JZ 0x005b7ca9
005b7ca4 : CMP EAX,0x1
005b7ca7 : JZ 0x005b7cde
005b7ca9 : MOV EDX,dword ptr [ESI]
005b7cab : MOV EDX,dword ptr [EDX + 0xe8]
005b7cb1 : XOR EAX,EAX
005b7cb3 : MOV word ptr [ESP + 0xc],AX
005b7cb8 : LEA EAX,[ESP + 0x4]
005b7cbc : MOV dword ptr [ESP + 0x8],ECX
005b7cc0 : MOV byte ptr [ESP + 0xe],CL
005b7cc4 : MOV byte ptr [ESP + 0x10],CL
005b7cc8 : MOV byte ptr [ESP + 0x11],CL
005b7ccc : PUSH EAX
005b7ccd : MOV ECX,ESI
005b7ccf : MOV dword ptr [ESP + 0x8],0x2000
005b7cd7 : MOV byte ptr [ESP + 0x13],0xff
005b7cdc : CALL EDX
005b7cde : POP ESI
005b7cdf : ADD ESP,0x10
005b7ce2 : RET
