PROGRAM  : Maestia.exe
FUNCTION : FUN_00476f00
ENTRY    : 00476f00
BODY     : [[00476f00, 00476f52]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00476f00(void)

{
  int iVar1;
  int unaff_ESI;
  
  iVar1 = *(int *)(unaff_ESI + 0x1c);
  while (iVar1 != 0) {
    if ((*(int *)(unaff_ESI + 0x1c) != 0) &&
       (iVar1 = *(int *)(unaff_ESI + 0x1c) + -1, *(int *)(unaff_ESI + 0x1c) = iVar1, iVar1 == 0)) {
      *(undefined4 *)(unaff_ESI + 0x18) = 0;
    }
    iVar1 = *(int *)(unaff_ESI + 0x1c);
  }
  iVar1 = *(int *)(unaff_ESI + 0x14);
  while (iVar1 != 0) {
    iVar1 = iVar1 + -1;
    if (*(int *)(*(int *)(unaff_ESI + 0x10) + iVar1 * 4) != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  if (*(int *)(unaff_ESI + 0x10) != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *(undefined4 *)(unaff_ESI + 0x10) = 0;
  *(undefined4 *)(unaff_ESI + 0x14) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
00476f00 : PUSH EBX
00476f01 : XOR EBX,EBX
00476f03 : CMP dword ptr [ESI + 0x1c],EBX
00476f06 : JZ 0x00476f1f
00476f08 : MOV EAX,dword ptr [ESI + 0x1c]
00476f0b : CMP EAX,EBX
00476f0d : JZ 0x00476f1a
00476f0f : DEC EAX
00476f10 : MOV dword ptr [ESI + 0x1c],EAX
00476f13 : CMP EAX,EBX
00476f15 : JNZ 0x00476f1a
00476f17 : MOV dword ptr [ESI + 0x18],EBX
00476f1a : CMP dword ptr [ESI + 0x1c],EBX
00476f1d : JNZ 0x00476f08
00476f1f : PUSH EDI
00476f20 : MOV EDI,dword ptr [ESI + 0x14]
00476f23 : CMP EDI,EBX
00476f25 : JBE 0x00476f3e
00476f27 : MOV EAX,dword ptr [ESI + 0x10]
00476f2a : DEC EDI
00476f2b : CMP dword ptr [EAX + EDI*0x4],EBX
00476f2e : LEA EAX,[EAX + EDI*0x4]
00476f31 : JZ 0x00476f3a
00476f33 : MOV ECX,dword ptr [EAX]
00476f35 : CALL 0x006f04e0
00476f3a : CMP EDI,EBX
00476f3c : JA 0x00476f27
00476f3e : MOV ECX,dword ptr [ESI + 0x10]
00476f41 : POP EDI
00476f42 : CMP ECX,EBX
00476f44 : JZ 0x00476f4b
00476f46 : CALL 0x006f04e0
00476f4b : MOV dword ptr [ESI + 0x10],EBX
00476f4e : MOV dword ptr [ESI + 0x14],EBX
00476f51 : POP EBX
00476f52 : RET
