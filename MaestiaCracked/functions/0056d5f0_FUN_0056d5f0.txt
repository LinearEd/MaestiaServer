PROGRAM  : Maestia.exe
FUNCTION : FUN_0056d5f0
ENTRY    : 0056d5f0
BODY     : [[0056d5f0, 0056d699] [0056d6a0, 0056d6e7]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0056d5f0(float param_1,float param_2,uint param_3,uint param_4)

{
  uint uVar1;
  uint uVar2;
  int in_ECX;
  uint uVar3;
  uint uVar4;
  undefined4 uVar5;
  int local_18;
  float local_10;
  float local_c;
  
  local_10 = (*(float *)(in_ECX + 0xb0) * param_1 + *(float *)(in_ECX + 0xb8)) * 20.0;
  local_c = (*(float *)(in_ECX + 0xb4) * param_2 + *(float *)(in_ECX + 0xbc)) * 20.0;
  if (param_4 < *(uint *)(in_ECX + 0x9d4)) {
    if (param_4 < 4) {
      *(uint *)(in_ECX + 0x93c) = *(uint *)(in_ECX + 0x93c) | 1 << ((byte)param_4 & 0x1f);
      *(float *)(in_ECX + 0x91c + param_4 * 8) = local_10;
      *(float *)(in_ECX + 0x920 + param_4 * 8) = local_c;
    }
    uVar1 = *(uint *)(in_ECX + 0x950 + param_4 * 0x24);
    uVar4 = 1;
    local_18 = 0x10;
    do {
      uVar2 = uVar4 & param_3;
      if ((uVar2 == 0) || ((uVar1 & uVar4) != 0)) {
        uVar3 = uVar4 & uVar1;
        if ((uVar3 != 0) && (uVar2 == 0)) {
          uVar5 = 0x80;
          goto LAB_0056d6ce;
        }
      }
      else {
        uVar5 = 0;
        uVar3 = uVar2;
LAB_0056d6ce:
        FUN_0056ae20(param_4,&local_10,uVar3,uVar5);
      }
      uVar4 = uVar4 * 2;
      local_18 = local_18 + -1;
    } while (local_18 != 0);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0056d5f0 : PUSH EBP
0056d5f1 : MOV EBP,ESP
0056d5f3 : AND ESP,0xfffffff8
0056d5f6 : SUB ESP,0x14
0056d5f9 : MOV EAX,ECX
0056d5fb : FLD float ptr [EAX + 0xb0]
0056d601 : PUSH EBX
0056d602 : FMUL float ptr [EBP + 0x8]
0056d605 : PUSH ESI
0056d606 : MOV ESI,dword ptr [EBP + 0x14]
0056d609 : PUSH EDI
0056d60a : FADD float ptr [EAX + 0xb8]
0056d610 : FSTP float ptr [ESP + 0x10]
0056d614 : FLD float ptr [ESP + 0x10]
0056d618 : FLD double ptr [0x00b86058]
0056d61e : FMUL ST1
0056d620 : FXCH
0056d622 : FSTP float ptr [ESP + 0x18]
0056d626 : FLD float ptr [EAX + 0xb4]
0056d62c : FMUL float ptr [EBP + 0xc]
0056d62f : FADD float ptr [EAX + 0xbc]
0056d635 : FSTP float ptr [ESP + 0x10]
0056d639 : FMUL float ptr [ESP + 0x10]
0056d63d : FSTP float ptr [ESP + 0x1c]
0056d641 : CMP ESI,dword ptr [EAX + 0x9d4]
0056d647 : JNC 0x0056d6df
0056d64d : LEA EBX,[EAX + 0x144]
0056d653 : CMP ESI,0x4
0056d656 : JNC 0x0056d67d
0056d658 : FLD float ptr [ESP + 0x18]
0056d65c : MOV EDX,0x1
0056d661 : MOV ECX,ESI
0056d663 : SHL EDX,CL
0056d665 : OR dword ptr [EBX + 0x7f8],EDX
0056d66b : FSTP float ptr [EBX + ESI*0x8 + 0x7d8]
0056d672 : FLD float ptr [ESP + 0x1c]
0056d676 : FSTP float ptr [EBX + ESI*0x8 + 0x7dc]
0056d67d : LEA ECX,[ESI + ESI*0x8]
0056d680 : MOV EDX,dword ptr [EAX + ECX*0x4 + 0x950]
0056d687 : MOV dword ptr [ESP + 0x14],EDX
0056d68b : MOV EDI,0x1
0056d690 : MOV dword ptr [ESP + 0x10],0x10
0056d698 : JMP 0x0056d6a4
0056d6a0 : MOV EDX,dword ptr [ESP + 0x14]
0056d6a4 : MOV EAX,EDI
0056d6a6 : AND EAX,dword ptr [EBP + 0x10]
0056d6a9 : JZ 0x0056d6b9
0056d6ab : TEST EDX,EDI
0056d6ad : JNZ 0x0056d6b9
0056d6af : PUSH 0x0
0056d6b1 : PUSH EAX
0056d6b2 : LEA EDX,[ESP + 0x20]
0056d6b6 : PUSH EDX
0056d6b7 : JMP 0x0056d6ce
0056d6b9 : MOV ECX,EDI
0056d6bb : AND ECX,EDX
0056d6bd : JZ 0x0056d6d6
0056d6bf : TEST EAX,EAX
0056d6c1 : JNZ 0x0056d6d6
0056d6c3 : PUSH 0x80
0056d6c8 : PUSH ECX
0056d6c9 : LEA EAX,[ESP + 0x20]
0056d6cd : PUSH EAX
0056d6ce : PUSH ESI
0056d6cf : MOV ECX,EBX
0056d6d1 : CALL 0x0056ae20
0056d6d6 : ADD EDI,EDI
0056d6d8 : SUB dword ptr [ESP + 0x10],0x1
0056d6dd : JNZ 0x0056d6a0
0056d6df : POP EDI
0056d6e0 : POP ESI
0056d6e1 : POP EBX
0056d6e2 : MOV ESP,EBP
0056d6e4 : POP EBP
0056d6e5 : RET 0x10
