PROGRAM  : Maestia.exe
FUNCTION : FUN_005855c0
ENTRY    : 005855c0
BODY     : [[005855c0, 00585604]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005855c0(void)

{
  undefined4 *puVar1;
  int in_ECX;
  uint uVar2;
  uint uVar3;
  
  uVar2 = *(int *)(in_ECX + 0x38) + 1;
  if (uVar2 < *(uint *)(in_ECX + 0x38)) {
    uVar3 = uVar2;
    if (*(uint *)(in_ECX + 0x3c) >> 1 <= uVar2) goto LAB_005855ef;
  }
  else {
    if (uVar2 < *(uint *)(in_ECX + 0x3c)) goto LAB_005855ef;
    uVar3 = (uVar2 >> 2) + uVar2;
  }
  FUN_005b5ef0((int *)(in_ECX + 0x34),uVar3);
LAB_005855ef:
  *(uint *)(in_ECX + 0x38) = uVar2;
  puVar1 = (undefined4 *)(*(int *)(in_ECX + 0x34) + -4 + uVar2 * 4);
  if (puVar1 != (undefined4 *)0x0) {
    *puVar1 = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005855c0 : PUSH ESI
005855c1 : MOV ESI,dword ptr [ECX + 0x38]
005855c4 : PUSH EDI
005855c5 : LEA EDI,[ECX + 0x34]
005855c8 : INC ESI
005855c9 : CMP ESI,dword ptr [EDI + 0x4]
005855cc : JNC 0x005855da
005855ce : MOV EAX,dword ptr [EDI + 0x8]
005855d1 : SHR EAX,0x1
005855d3 : CMP ESI,EAX
005855d5 : JNC 0x005855ef
005855d7 : PUSH ESI
005855d8 : JMP 0x005855e7
005855da : CMP ESI,dword ptr [EDI + 0x8]
005855dd : JC 0x005855ef
005855df : MOV ECX,ESI
005855e1 : SHR ECX,0x2
005855e4 : ADD ECX,ESI
005855e6 : PUSH ECX
005855e7 : PUSH EDI
005855e8 : MOV ECX,EDI
005855ea : CALL 0x005b5ef0
005855ef : MOV EDX,dword ptr [EDI]
005855f1 : MOV dword ptr [EDI + 0x4],ESI
005855f4 : LEA EAX,[EDX + ESI*0x4 + -0x4]
005855f8 : POP EDI
005855f9 : POP ESI
005855fa : TEST EAX,EAX
005855fc : JZ 0x00585604
005855fe : MOV dword ptr [EAX],0x0
00585604 : RET
