PROGRAM  : Maestia.exe
FUNCTION : FUN_008405a0
ENTRY    : 008405a0
BODY     : [[008405a0, 008406d5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008405a0(int param_1)

{
  int in_ECX;
  int iVar1;
  
  if (param_1 != 0) {
    iVar1 = 0;
    if (in_ECX != 0x1774) {
      iVar1 = *(int *)(*(int *)(in_ECX + -0x163c) + 8) + -0x163c + in_ECX;
    }
    if (*(int *)(param_1 + 0x8c) != iVar1) {
      if (*(uint *)(param_1 + 0x24) < 8) {
        param_1 = param_1 + 0x10;
      }
      else {
        param_1 = *(int *)(param_1 + 0x10);
      }
      FUN_008018d0(L"[AvaSummonNPC::PostBGLoading] Not Issued by me : %s",param_1);
      return;
    }
  }
  if (*(char *)(in_ECX + -0x11b2) != '\0') {
    (**(code **)(*(int *)(in_ECX + -0x1774) + 0x1fc))(0);
    return;
  }
  FUN_0086c6a0(param_1);
  FUN_00405eb0(in_ECX + -0x1768,0,0xffffffff);
  iVar1 = *(int *)(in_ECX + -0x138c);
  *(float *)(iVar1 + 0x84) = *(float *)(iVar1 + 0x84) * 1.5;
  *(float *)(iVar1 + 0x88) = *(float *)(iVar1 + 0x88) * 1.5;
  *(float *)(iVar1 + 0x8c) = *(float *)(iVar1 + 0x8c) * 1.5;
  *(undefined1 *)(iVar1 + 0x5d) = 1;
  *(undefined1 *)(iVar1 + 0x134) = 1;
  *(undefined1 *)(iVar1 + 0x5c) = 1;
  if (*(int **)(iVar1 + 0x2c) != (int *)0x0) {
    (**(code **)(**(int **)(iVar1 + 0x2c) + 0x60))(iVar1);
  }
  (**(code **)(*(int *)(in_ECX + -0x1774) + 0x238))(1);
  (**(code **)(*(int *)(in_ECX + -0x1774) + 0x1fc))(0);
  return;
}



============================================================
DISASSEMBLY
============================================================
008405a0 : PUSH EBP
008405a1 : MOV EBP,ESP
008405a3 : MOV EAX,dword ptr [EBP + 0x8]
008405a6 : PUSH ESI
008405a7 : MOV ESI,ECX
008405a9 : TEST EAX,EAX
008405ab : JZ 0x008405f6
008405ad : LEA ECX,[ESI + 0xffffe88c]
008405b3 : TEST ECX,ECX
008405b5 : JZ 0x008405c7
008405b7 : MOV EDX,dword ptr [ESI + 0xffffe9c4]
008405bd : MOV ECX,dword ptr [EDX + 0x8]
008405c0 : LEA ECX,[ECX + ESI*0x1 + 0xffffe9c4]
008405c7 : CMP dword ptr [EAX + 0x8c],ECX
008405cd : JZ 0x008405f6
008405cf : CMP dword ptr [EAX + 0x24],0x8
008405d3 : JC 0x008405da
008405d5 : MOV EAX,dword ptr [EAX + 0x10]
008405d8 : JMP 0x008405dd
008405da : ADD EAX,0x10
008405dd : MOV ESI,dword ptr [0x00da98e8]
008405e3 : PUSH EAX
008405e4 : PUSH 0xc3a298
008405e9 : CALL 0x008018d0
008405ee : ADD ESP,0x8
008405f1 : POP ESI
008405f2 : POP EBP
008405f3 : RET 0x4
008405f6 : CMP byte ptr [ESI + 0xffffee4e],0x0
008405fd : JZ 0x0084061a
008405ff : MOV EDX,dword ptr [ESI + 0xffffe88c]
00840605 : MOV EAX,dword ptr [EDX + 0x1fc]
0084060b : LEA ECX,[ESI + 0xffffe88c]
00840611 : PUSH 0x0
00840613 : CALL EAX
00840615 : POP ESI
00840616 : POP EBP
00840617 : RET 0x4
0084061a : PUSH EAX
0084061b : LEA ECX,[ESI + -0x8]
0084061e : CALL 0x0086c6a0
00840623 : MOV EDX,dword ptr [ESI + 0xffffe9c4]
00840629 : MOV EAX,dword ptr [EDX + 0x4]
0084062c : PUSH -0x1
0084062e : PUSH 0x0
00840630 : LEA ECX,[ESI + 0xffffe898]
00840636 : PUSH ECX
00840637 : LEA ECX,[EAX + ESI*0x1 + 0xffffea40]
0084063e : CALL 0x00405eb0
00840643 : MOV EAX,dword ptr [ESI + 0xffffec74]
00840649 : MOVSS XMM0,dword ptr [EAX + 0x84]
00840651 : MOVSS XMM1,dword ptr [EAX + 0x88]
00840659 : MOVSS XMM2,dword ptr [EAX + 0x8c]
00840661 : MOVSS XMM3,dword ptr [0x00cdf168]
00840669 : MULSS XMM0,XMM3
0084066d : MOVSS dword ptr [EAX + 0x84],XMM0
00840675 : MULSS XMM1,XMM3
00840679 : MOVSS dword ptr [EAX + 0x88],XMM1
00840681 : MULSS XMM2,XMM3
00840685 : MOVSS dword ptr [EAX + 0x8c],XMM2
0084068d : MOV ECX,dword ptr [EAX + 0x2c]
00840690 : MOV byte ptr [EAX + 0x5d],0x1
00840694 : MOV byte ptr [EAX + 0x134],0x1
0084069b : MOV byte ptr [EAX + 0x5c],0x1
0084069f : TEST ECX,ECX
008406a1 : JZ 0x008406ab
008406a3 : MOV EDX,dword ptr [ECX]
008406a5 : PUSH EAX
008406a6 : MOV EAX,dword ptr [EDX + 0x60]
008406a9 : CALL EAX
008406ab : MOV EDX,dword ptr [ESI + 0xffffe88c]
008406b1 : MOV EAX,dword ptr [EDX + 0x238]
008406b7 : ADD ESI,0xffffe88c
008406bd : PUSH 0x1
008406bf : MOV ECX,ESI
008406c1 : CALL EAX
008406c3 : MOV EDX,dword ptr [ESI]
008406c5 : MOV EAX,dword ptr [EDX + 0x1fc]
008406cb : MOV ECX,ESI
008406cd : PUSH 0x0
008406cf : CALL EAX
008406d1 : POP ESI
008406d2 : POP EBP
008406d3 : RET 0x4
