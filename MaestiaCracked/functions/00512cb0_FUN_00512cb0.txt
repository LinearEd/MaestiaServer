PROGRAM  : Maestia.exe
FUNCTION : FUN_00512cb0
ENTRY    : 00512cb0
BODY     : [[00512cb0, 00512cfc]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00512cb0(void)

{
  LONG LVar1;
  int in_ECX;
  uint uVar2;
  
  uVar2 = *(uint *)(in_ECX + 0x288) & 0xfffffffc;
  LVar1 = InterlockedExchangeAdd((LONG *)(uVar2 + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(uVar2);
  }
  uVar2 = *(uint *)(in_ECX + 0x284) & 0xfffffffc;
  LVar1 = InterlockedExchangeAdd((LONG *)(uVar2 + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(uVar2);
  }
  FUN_00539ea0();
  return;
}



============================================================
DISASSEMBLY
============================================================
00512cb0 : PUSH EBX
00512cb1 : MOV EBX,dword ptr [0x00b851cc]
00512cb7 : PUSH ESI
00512cb8 : PUSH EDI
00512cb9 : MOV EDI,ECX
00512cbb : MOV ESI,dword ptr [EDI + 0x288]
00512cc1 : AND ESI,0xfffffffc
00512cc4 : PUSH -0x1
00512cc6 : LEA EAX,[ESI + 0x4]
00512cc9 : PUSH EAX
00512cca : CALL EBX
00512ccc : SUB EAX,0x1
00512ccf : JNZ 0x00512cd7
00512cd1 : PUSH ESI
00512cd2 : CALL 0x00515cf0
00512cd7 : MOV ESI,dword ptr [EDI + 0x284]
00512cdd : AND ESI,0xfffffffc
00512ce0 : PUSH -0x1
00512ce2 : LEA ECX,[ESI + 0x4]
00512ce5 : PUSH ECX
00512ce6 : CALL EBX
00512ce8 : SUB EAX,0x1
00512ceb : JNZ 0x00512cf3
00512ced : PUSH ESI
00512cee : CALL 0x00515cf0
00512cf3 : MOV ECX,EDI
00512cf5 : POP EDI
00512cf6 : POP ESI
00512cf7 : POP EBX
00512cf8 : JMP 0x00539ea0
