PROGRAM  : Maestia.exe
FUNCTION : FUN_004fa0d0
ENTRY    : 004fa0d0
BODY     : [[004fa0d0, 004fa119] [004fa120, 004fa2f7]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004fa16b) */
/* WARNING: Removing unreachable block (ram,0x004fa170) */
/* WARNING: Removing unreachable block (ram,0x004fa1ae) */
/* WARNING: Removing unreachable block (ram,0x004fa1b1) */
/* WARNING: Removing unreachable block (ram,0x004fa1c0) */
/* WARNING: Removing unreachable block (ram,0x004fa1c3) */
/* WARNING: Removing unreachable block (ram,0x004fa1d2) */
/* WARNING: Removing unreachable block (ram,0x004fa1d5) */
/* WARNING: Removing unreachable block (ram,0x004fa1e4) */
/* WARNING: Removing unreachable block (ram,0x004fa1e7) */
/* WARNING: Removing unreachable block (ram,0x004fa1f6) */
/* WARNING: Removing unreachable block (ram,0x004fa1f9) */
/* WARNING: Removing unreachable block (ram,0x004fa208) */
/* WARNING: Removing unreachable block (ram,0x004fa20b) */

void FUN_004fa0d0(void)

{
  int *piVar1;
  int in_ECX;
  float10 fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  undefined4 local_14;
  undefined4 uStack_10;
  
  *(undefined4 *)(in_ECX + 0x10) = 0x7f7fffff;
  *(undefined4 *)(in_ECX + 0x14) = 0x7f7fffff;
  *(undefined4 *)(in_ECX + 0x18) = 0x7f7fffff;
  *(undefined4 *)(in_ECX + 0x1c) = 0xff7fffff;
  *(undefined4 *)(in_ECX + 0x20) = 0xff7fffff;
  *(undefined4 *)(in_ECX + 0x24) = 0xff7fffff;
  FUN_00473080();
  while (fVar3 = DAT_00d72c24, local_14 != 0) {
    if (uStack_10 == 0) {
      piVar1 = (int *)0x0;
    }
    else {
      piVar1 = (int *)(*(int *)(uStack_10 + 4) + local_14);
    }
    if (*piVar1 == 0) break;
    FUN_00474740(in_ECX + 0x38);
    FUN_004735a0();
  }
  fVar4 = (*(float *)(in_ECX + 0x24) + *(float *)(in_ECX + 0x18)) * DAT_00d72c24;
  *(ulonglong *)(in_ECX + 0x28) =
       CONCAT44((*(float *)(in_ECX + 0x20) + *(float *)(in_ECX + 0x14)) * DAT_00d72c24,
                (*(float *)(in_ECX + 0x1c) + *(float *)(in_ECX + 0x10)) * DAT_00d72c24);
  *(float *)(in_ECX + 0x30) = fVar4;
  fVar5 = (*(float *)(in_ECX + 0x24) + *(float *)(in_ECX + 0x18)) * fVar3 -
          *(float *)(in_ECX + 0x18);
  fVar4 = (*(float *)(in_ECX + 0x20) + *(float *)(in_ECX + 0x14)) * fVar3 -
          *(float *)(in_ECX + 0x14);
  fVar3 = (*(float *)(in_ECX + 0x10) + *(float *)(in_ECX + 0x1c)) * fVar3 -
          *(float *)(in_ECX + 0x10);
  fVar2 = (float10)FUN_0040f460(fVar5 * fVar5 + fVar4 * fVar4 + fVar3 * fVar3);
  *(float *)(in_ECX + 0x34) = (float)fVar2;
  return;
}



============================================================
DISASSEMBLY
============================================================
004fa0d0 : PUSH EBP
004fa0d1 : MOV EBP,ESP
004fa0d3 : AND ESP,0xfffffff8
004fa0d6 : MOVSS XMM0,dword ptr [0x00cdf0d8]
004fa0de : SUB ESP,0x14
004fa0e1 : PUSH EBX
004fa0e2 : MOV EBX,ECX
004fa0e4 : PUSH ESI
004fa0e5 : MOVSS dword ptr [EBX + 0x10],XMM0
004fa0ea : MOVSS dword ptr [EBX + 0x14],XMM0
004fa0ef : MOVSS dword ptr [EBX + 0x18],XMM0
004fa0f4 : MOVSS XMM0,dword ptr [0x00cdf0d4]
004fa0fc : PUSH EDI
004fa0fd : LEA EDI,[EBX + 0x38]
004fa100 : LEA ESI,[ESP + 0x14]
004fa104 : MOVSS dword ptr [EBX + 0x1c],XMM0
004fa109 : MOVSS dword ptr [EBX + 0x20],XMM0
004fa10e : MOVSS dword ptr [EBX + 0x24],XMM0
004fa113 : CALL 0x00473080
004fa118 : JMP 0x004fa120
004fa120 : MOV ECX,dword ptr [ESP + 0x14]
004fa124 : TEST ECX,ECX
004fa126 : JZ 0x004fa22c
004fa12c : MOV EAX,dword ptr [ESP + 0x18]
004fa130 : TEST EAX,EAX
004fa132 : JZ 0x004fa13b
004fa134 : MOV EAX,dword ptr [EAX + 0x4]
004fa137 : ADD EAX,ECX
004fa139 : JMP 0x004fa13d
004fa13b : XOR EAX,EAX
004fa13d : CMP dword ptr [EAX],0x0
004fa140 : JZ 0x004fa22c
004fa146 : LEA EAX,[EBX + 0x38]
004fa149 : PUSH EAX
004fa14a : LEA EDI,[ESP + 0x14]
004fa14e : LEA EAX,[ESP + 0x18]
004fa152 : MOV dword ptr [ESP + 0x14],0x0
004fa15a : CALL 0x00474740
004fa15f : MOV ECX,dword ptr [ESP + 0x10]
004fa163 : TEST ECX,ECX
004fa165 : JLE 0x004fa21e
004fa16b : ADD EAX,0x18
004fa16e : MOV EDI,EDI
004fa170 : MOVSS XMM0,dword ptr [EAX + 0x4]
004fa175 : MOVSS XMM1,dword ptr [EAX + -0x8]
004fa17a : MOVSS XMM2,dword ptr [EAX + -0x4]
004fa17f : MOVSS XMM3,dword ptr [EAX]
004fa183 : MOVAPS XMM4,XMM1
004fa186 : MOVAPS XMM5,XMM2
004fa189 : MOVAPS XMM6,XMM3
004fa18c : SUBSS XMM4,XMM0
004fa190 : SUBSS XMM5,XMM0
004fa194 : SUBSS XMM6,XMM0
004fa198 : ADDSS XMM1,XMM0
004fa19c : ADDSS XMM2,XMM0
004fa1a0 : ADDSS XMM3,XMM0
004fa1a4 : MOVSS XMM0,dword ptr [EBX + 0x10]
004fa1a9 : COMISS XMM0,XMM4
004fa1ac : JBE 0x004fa1b1
004fa1ae : MOVAPS XMM0,XMM4
004fa1b1 : MOVSS dword ptr [EBX + 0x10],XMM0
004fa1b6 : MOVSS XMM0,dword ptr [EBX + 0x14]
004fa1bb : COMISS XMM0,XMM5
004fa1be : JBE 0x004fa1c3
004fa1c0 : MOVAPS XMM0,XMM5
004fa1c3 : MOVSS dword ptr [EBX + 0x14],XMM0
004fa1c8 : MOVSS XMM0,dword ptr [EBX + 0x18]
004fa1cd : COMISS XMM0,XMM6
004fa1d0 : JBE 0x004fa1d5
004fa1d2 : MOVAPS XMM0,XMM6
004fa1d5 : MOVSS dword ptr [EBX + 0x18],XMM0
004fa1da : MOVSS XMM0,dword ptr [EBX + 0x1c]
004fa1df : COMISS XMM1,XMM0
004fa1e2 : JBE 0x004fa1e7
004fa1e4 : MOVAPS XMM0,XMM1
004fa1e7 : MOVSS dword ptr [EBX + 0x1c],XMM0
004fa1ec : MOVSS XMM0,dword ptr [EBX + 0x20]
004fa1f1 : COMISS XMM2,XMM0
004fa1f4 : JBE 0x004fa1f9
004fa1f6 : MOVAPS XMM0,XMM2
004fa1f9 : MOVSS dword ptr [EBX + 0x20],XMM0
004fa1fe : MOVSS XMM0,dword ptr [EBX + 0x24]
004fa203 : COMISS XMM3,XMM0
004fa206 : JBE 0x004fa20b
004fa208 : MOVAPS XMM0,XMM3
004fa20b : ADD EAX,0x140
004fa210 : SUB ECX,0x1
004fa213 : MOVSS dword ptr [EBX + 0x24],XMM0
004fa218 : JNZ 0x004fa170
004fa21e : LEA ESI,[ESP + 0x14]
004fa222 : CALL 0x004735a0
004fa227 : JMP 0x004fa120
004fa22c : MOVSS XMM3,dword ptr [0x00d72c24]
004fa234 : MOVSS XMM0,dword ptr [EBX + 0x1c]
004fa239 : ADDSS XMM0,dword ptr [EBX + 0x10]
004fa23e : MOVSS XMM1,dword ptr [EBX + 0x20]
004fa243 : ADDSS XMM1,dword ptr [EBX + 0x14]
004fa248 : MOVSS XMM2,dword ptr [EBX + 0x24]
004fa24d : ADDSS XMM2,dword ptr [EBX + 0x18]
004fa252 : MULSS XMM1,XMM3
004fa256 : MULSS XMM2,XMM3
004fa25a : MULSS XMM0,XMM3
004fa25e : MOVSS dword ptr [ESP + 0x18],XMM1
004fa264 : MOVSS dword ptr [ESP + 0x1c],XMM2
004fa26a : MOV EAX,dword ptr [ESP + 0x1c]
004fa26e : MOVSS dword ptr [ESP + 0x14],XMM0
004fa274 : MOVQ XMM0,qword ptr [ESP + 0x14]
004fa27a : MOVQ qword ptr [EBX + 0x28],XMM0
004fa27f : MOV dword ptr [EBX + 0x30],EAX
004fa282 : MOVSS XMM4,dword ptr [EBX + 0x10]
004fa287 : MOVSS XMM6,dword ptr [EBX + 0x18]
004fa28c : MOVSS XMM5,dword ptr [EBX + 0x14]
004fa291 : MOVSS XMM2,dword ptr [EBX + 0x24]
004fa296 : MOVSS XMM1,dword ptr [EBX + 0x20]
004fa29b : ADDSS XMM2,XMM6
004fa29f : MULSS XMM2,XMM3
004fa2a3 : ADDSS XMM1,XMM5
004fa2a7 : MULSS XMM1,XMM3
004fa2ab : SUBSS XMM2,XMM6
004fa2af : MOVAPS XMM0,XMM4
004fa2b2 : ADDSS XMM0,dword ptr [EBX + 0x1c]
004fa2b7 : MULSS XMM0,XMM3
004fa2bb : SUBSS XMM1,XMM5
004fa2bf : MOVAPS XMM3,XMM2
004fa2c2 : MULSS XMM3,XMM2
004fa2c6 : MOVAPS XMM2,XMM1
004fa2c9 : MULSS XMM2,XMM1
004fa2cd : SUBSS XMM0,XMM4
004fa2d1 : MOVAPS XMM1,XMM0
004fa2d4 : ADDSS XMM3,XMM2
004fa2d8 : MULSS XMM1,XMM0
004fa2dc : PUSH ECX
004fa2dd : ADDSS XMM3,XMM1
004fa2e1 : MOVSS dword ptr [ESP],XMM3
004fa2e6 : CALL 0x0040f460
004fa2eb : FSTP float ptr [EBX + 0x34]
004fa2ee : ADD ESP,0x4
004fa2f1 : POP EDI
004fa2f2 : POP ESI
004fa2f3 : POP EBX
004fa2f4 : MOV ESP,EBP
004fa2f6 : POP EBP
004fa2f7 : RET
