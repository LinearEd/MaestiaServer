PROGRAM  : Maestia.exe
FUNCTION : FUN_0057bb90
ENTRY    : 0057bb90
BODY     : [[0057bb90, 0057bc31]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0057bb90(int param_1)

{
  undefined4 uVar1;
  int iVar2;
  undefined1 *puVar3;
  int iVar4;
  undefined **local_c;
  int local_8;
  int local_4;
  
  iVar4 = param_1;
  if (0 < *(int *)(param_1 + 0x1c)) {
    uVar1 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(0);
    FUN_005272e0(&param_1,uVar1,0xffffffff,0);
    iVar2 = *(int *)(iVar4 + 0x18);
    if (*(int *)(iVar4 + 8) != 0) {
      local_8 = *(int *)(iVar4 + 0x1c) + -1;
      local_4 = (*(int *)(iVar2 + 8) - *(int *)(iVar2 + 0xc) >> 4) + -0x24 +
                *(int *)(iVar2 + 0x1c) * 0x20;
      local_c = &PTR_LAB_00b8d5cc;
      FUN_0057b6d0(iVar2,*(int *)(iVar4 + 8),&param_1,&local_c);
    }
    puVar3 = *(undefined1 **)(iVar4 + 4);
    FUN_00526400();
    *puVar3 = 0;
    *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + -1;
    if (*(int *)(param_1 + 8) == 0) {
      FUN_00525340();
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0057bb90 : SUB ESP,0xc
0057bb93 : PUSH ESI
0057bb94 : MOV ESI,dword ptr [ESP + 0x14]
0057bb98 : CMP dword ptr [ESI + 0x1c],0x1
0057bb9c : JL 0x0057bc2d
0057bba2 : PUSH EDI
0057bba3 : MOV EDI,dword ptr [ESI + 0x18]
0057bba6 : PUSH 0x0
0057bba8 : MOV ECX,ESI
0057bbaa : CALL 0x00526260
0057bbaf : PUSH 0x0
0057bbb1 : PUSH -0x1
0057bbb3 : PUSH EDI
0057bbb4 : LEA ECX,[ESP + 0x24]
0057bbb8 : PUSH ECX
0057bbb9 : MOV ECX,EAX
0057bbbb : CALL 0x005272e0
0057bbc0 : MOV ECX,dword ptr [ESI + 0x8]
0057bbc3 : MOV EAX,dword ptr [ESI + 0x18]
0057bbc6 : TEST ECX,ECX
0057bbc8 : JZ 0x0057bc05
0057bbca : MOV EDX,dword ptr [ESI + 0x1c]
0057bbcd : MOV EDI,dword ptr [EAX + 0x1c]
0057bbd0 : DEC EDX
0057bbd1 : MOV dword ptr [ESP + 0xc],EDX
0057bbd5 : MOV EDX,dword ptr [EAX + 0x8]
0057bbd8 : SUB EDX,dword ptr [EAX + 0xc]
0057bbdb : SHL EDI,0x5
0057bbde : SAR EDX,0x4
0057bbe1 : LEA EDX,[EDX + EDI*0x1 + -0x24]
0057bbe5 : MOV dword ptr [ESP + 0x10],EDX
0057bbe9 : LEA EDX,[ESP + 0x8]
0057bbed : PUSH EDX
0057bbee : LEA EDX,[ESP + 0x1c]
0057bbf2 : PUSH EDX
0057bbf3 : PUSH ECX
0057bbf4 : PUSH EAX
0057bbf5 : MOV dword ptr [ESP + 0x18],0xb8d5cc
0057bbfd : CALL 0x0057b6d0
0057bc02 : ADD ESP,0x10
0057bc05 : MOV ESI,dword ptr [ESI + 0x4]
0057bc08 : MOV ECX,ESI
0057bc0a : CALL 0x00526400
0057bc0f : MOV byte ptr [ESI],0x0
0057bc12 : MOV EAX,dword ptr [ESP + 0x18]
0057bc16 : DEC dword ptr [EAX + 0x8]
0057bc19 : MOV ECX,EAX
0057bc1b : ADD EAX,0x8
0057bc1e : CMP dword ptr [EAX],0x0
0057bc21 : POP EDI
0057bc22 : JNZ 0x0057bc2d
0057bc24 : POP ESI
0057bc25 : ADD ESP,0xc
0057bc28 : JMP 0x00525340
0057bc2d : POP ESI
0057bc2e : ADD ESP,0xc
0057bc31 : RET
