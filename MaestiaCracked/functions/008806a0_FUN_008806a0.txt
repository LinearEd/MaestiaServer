PROGRAM  : Maestia.exe
FUNCTION : FUN_008806a0
ENTRY    : 008806a0
BODY     : [[008806a0, 00880767]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_008806a0(void)

{
  int iVar1;
  int *piVar2;
  int in_ECX;
  int unaff_EDI;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0de35;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(in_ECX + 0x38);
  local_18 = 0;
  local_20 = ".\\Objects\\AvaCharStatus.cpp";
  local_1c = 0x234;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  piVar2 = *(int **)(in_ECX + 4);
  while( true ) {
    if (piVar2 == *(int **)(in_ECX + 8)) {
      local_8 = 0xffffffff;
      if (local_18 != 0) {
        LeaveCriticalSection(local_24);
      }
      ExceptionList = local_10;
      return 0;
    }
    iVar1 = *piVar2;
    if (*(int *)(iVar1 + 4) == unaff_EDI) break;
    piVar2 = piVar2 + 1;
  }
  local_8 = 0xffffffff;
  if (local_18 != 0) {
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return iVar1;
}



============================================================
DISASSEMBLY
============================================================
008806a0 : PUSH EBP
008806a1 : MOV EBP,ESP
008806a3 : PUSH -0x1
008806a5 : PUSH 0xb0de35
008806aa : MOV EAX,FS:[0x0]
008806b0 : PUSH EAX
008806b1 : SUB ESP,0x14
008806b4 : PUSH EBX
008806b5 : PUSH ESI
008806b6 : MOV EAX,[0x00d66fa0]
008806bb : XOR EAX,EBP
008806bd : PUSH EAX
008806be : LEA EAX,[EBP + -0xc]
008806c1 : MOV FS:[0x0],EAX
008806c7 : MOV ESI,ECX
008806c9 : LEA ECX,[EBP + -0x20]
008806cc : LEA EAX,[ESI + 0x38]
008806cf : XOR EBX,EBX
008806d1 : PUSH ECX
008806d2 : MOV dword ptr [EBP + -0x14],EBX
008806d5 : MOV dword ptr [EBP + -0x20],EAX
008806d8 : MOV dword ptr [EBP + -0x1c],0xc44938
008806df : MOV dword ptr [EBP + -0x18],0x234
008806e6 : MOV dword ptr [EBP + -0x10],0x1
008806ed : CALL 0x006ef1a0
008806f2 : MOV dword ptr [EBP + -0x4],EBX
008806f5 : MOV EAX,dword ptr [ESI + 0x4]
008806f8 : MOV ESI,dword ptr [ESI + 0x8]
008806fb : CMP EAX,ESI
008806fd : JZ 0x0088070e
008806ff : NOP
00880700 : MOV EDX,dword ptr [EAX]
00880702 : CMP dword ptr [EDX + 0x4],EDI
00880705 : JZ 0x0088073a
00880707 : ADD EAX,0x4
0088070a : CMP EAX,ESI
0088070c : JNZ 0x00880700
0088070e : MOV dword ptr [EBP + -0x4],0xffffffff
00880715 : CMP dword ptr [EBP + -0x14],EBX
00880718 : JZ 0x00880727
0088071a : MOV ECX,dword ptr [EBP + -0x20]
0088071d : PUSH ECX
0088071e : CALL dword ptr [0x00b8511c]
00880724 : MOV dword ptr [EBP + -0x14],EBX
00880727 : XOR EAX,EAX
00880729 : MOV ECX,dword ptr [EBP + -0xc]
0088072c : MOV dword ptr FS:[0x0],ECX
00880733 : POP ECX
00880734 : POP ESI
00880735 : POP EBX
00880736 : MOV ESP,EBP
00880738 : POP EBP
00880739 : RET
0088073a : MOV ESI,EDX
0088073c : MOV dword ptr [EBP + -0x4],0xffffffff
00880743 : CMP dword ptr [EBP + -0x14],EBX
00880746 : JZ 0x00880755
00880748 : MOV EAX,dword ptr [EBP + -0x20]
0088074b : PUSH EAX
0088074c : CALL dword ptr [0x00b8511c]
00880752 : MOV dword ptr [EBP + -0x14],EBX
00880755 : MOV EAX,ESI
00880757 : MOV ECX,dword ptr [EBP + -0xc]
0088075a : MOV dword ptr FS:[0x0],ECX
00880761 : POP ECX
00880762 : POP ESI
00880763 : POP EBX
00880764 : MOV ESP,EBP
00880766 : POP EBP
00880767 : RET
