PROGRAM  : Maestia.exe
FUNCTION : FUN_00622390
ENTRY    : 00622390
BODY     : [[00622390, 0062240e]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00622390(undefined4 param_1,undefined4 param_2,int param_3,int param_4)

{
  int iVar1;
  void *_Dst;
  int iVar2;
  size_t _Size;
  
  iVar1 = FUN_0061b930();
  iVar2 = param_4;
  if (param_4 % iVar1 != 0) {
    iVar2 = (iVar1 - param_4 % iVar1) + param_4;
  }
  _Size = ((iVar2 + 0x10) * param_3 + 0x7fU & 0xffffff80) + (param_3 + 2) * 0x10;
  _Dst = (void *)FUN_0061b940(_Size,0,0,DAT_00d7b3ec);
  if (_Dst == (void *)0x0) {
    return 0xffffffff;
  }
  _memset(_Dst,0,_Size);
  FUN_00622270(param_1,param_2,param_3,param_4,_Dst);
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00622390 : PUSH EBX
00622391 : MOV EBX,dword ptr [ESP + 0x14]
00622395 : PUSH EBP
00622396 : PUSH ESI
00622397 : PUSH EDI
00622398 : MOV ESI,EBX
0062239a : CALL 0x0061b930
0062239f : MOV ECX,EAX
006223a1 : MOV EAX,EBX
006223a3 : CDQ
006223a4 : IDIV ECX
006223a6 : TEST EDX,EDX
006223a8 : JZ 0x006223b0
006223aa : SUB ECX,EDX
006223ac : ADD ECX,EBX
006223ae : MOV ESI,ECX
006223b0 : MOV EBP,dword ptr [ESP + 0x1c]
006223b4 : MOV ECX,dword ptr [0x00d7b3ec]
006223ba : ADD ESI,0x10
006223bd : IMUL ESI,EBP
006223c0 : PUSH ECX
006223c1 : ADD ESI,0x7f
006223c4 : LEA EAX,[EBP + 0x2]
006223c7 : SHL EAX,0x4
006223ca : PUSH 0x0
006223cc : AND ESI,0xffffff80
006223cf : ADD ESI,EAX
006223d1 : PUSH 0x0
006223d3 : PUSH ESI
006223d4 : CALL 0x0061b940
006223d9 : MOV EDI,EAX
006223db : ADD ESP,0x10
006223de : TEST EDI,EDI
006223e0 : JNZ 0x006223ea
006223e2 : POP EDI
006223e3 : POP ESI
006223e4 : POP EBP
006223e5 : OR EAX,0xffffffff
006223e8 : POP EBX
006223e9 : RET
006223ea : PUSH ESI
006223eb : PUSH 0x0
006223ed : PUSH EDI
006223ee : CALL 0x0063b700
006223f3 : MOV EDX,dword ptr [ESP + 0x24]
006223f7 : MOV EAX,dword ptr [ESP + 0x20]
006223fb : PUSH EDI
006223fc : PUSH EBX
006223fd : PUSH EBP
006223fe : PUSH EDX
006223ff : PUSH EAX
00622400 : CALL 0x00622270
00622405 : ADD ESP,0x20
00622408 : POP EDI
00622409 : POP ESI
0062240a : POP EBP
0062240b : XOR EAX,EAX
0062240d : POP EBX
0062240e : RET
