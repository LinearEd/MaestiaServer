PROGRAM  : Maestia.exe
FUNCTION : FUN_007180c0
ENTRY    : 007180c0
BODY     : [[007180c0, 00718259]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007180c0(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 uVar5;
  int iVar6;
  int in_ECX;
  
  iVar3 = FUN_004c5420();
  if (*(char *)(iVar3 + 0x14) != '\0') {
    puVar4 = (undefined4 *)FUN_004c5420();
    if (*(char *)(puVar4 + 5) != '\0') {
      (**(code **)(*(int *)*puVar4 + 0x30))((int *)*puVar4);
    }
    *(undefined1 *)(puVar4 + 5) = 0;
  }
  if (((*(int *)(in_ECX + 0xc) != 0) && (*(int *)(in_ECX + 8) != -1)) && (*(int *)(in_ECX + 4) != 0)
     ) {
    puVar4 = (undefined4 *)FUN_004c5420();
    iVar3 = (**(code **)(**(int **)(DAT_017251ac + 0x18) + 400))
                      (*(int **)(DAT_017251ac + 0x18),0,*puVar4,0,0x18);
    if (-1 < iVar3) {
      piVar1 = *(int **)(DAT_017251ac + 0x18);
      iVar3 = *piVar1;
      uVar5 = FUN_007f1710();
      (**(code **)(iVar3 + 0xb0))(piVar1,3,uVar5);
      piVar2 = *(int **)(DAT_017251f8 + 0xe8);
      (**(code **)(*piVar2 + 0x1c))();
      (**(code **)(*piVar1 + 0xb0))(piVar1,2,piVar2 + 0x2d);
      (**(code **)(*piVar1 + 0xb0))(piVar1,0x100,*(int *)(in_ECX + 4) + 0x20);
      (**(code **)(*piVar1 + 0x1ac))(piVar1,0);
      (**(code **)(*piVar1 + 0x170))(piVar1,0);
      (**(code **)(*piVar1 + 0x164))(piVar1,0x142);
      (**(code **)(*piVar1 + 0xe4))(piVar1,0x89,0);
      (**(code **)(*piVar1 + 0xe4))(piVar1,0xe,0);
      iVar3 = *piVar1;
      iVar6 = FUN_004c5420();
      (**(code **)(iVar3 + 0x1a0))(piVar1,*(undefined4 *)(iVar6 + 4));
      if (*(int *)(in_ECX + 0x10) < 4) {
        (**(code **)(*piVar1 + 400))(piVar1,0,0,0,0x18);
      }
      else {
        (**(code **)(*piVar1 + 0x148))
                  (piVar1,5,*(undefined4 *)(in_ECX + 8),0,*(undefined4 *)(in_ECX + 0xc),0,
                   *(int *)(in_ECX + 0x10) + -2);
      }
      (**(code **)(*piVar1 + 0xe4))(piVar1,0xe,1);
      *(undefined4 *)(in_ECX + 8) = 0xffffffff;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007180c0 : PUSH EBP
007180c1 : MOV EBP,ESP
007180c3 : PUSH ECX
007180c4 : PUSH EBX
007180c5 : PUSH ESI
007180c6 : MOV EBX,ECX
007180c8 : CALL 0x004c5420
007180cd : CMP byte ptr [EAX + 0x14],0x0
007180d1 : JZ 0x007180ee
007180d3 : CALL 0x004c5420
007180d8 : MOV ESI,EAX
007180da : CMP byte ptr [ESI + 0x14],0x0
007180de : JZ 0x007180ea
007180e0 : MOV EAX,dword ptr [ESI]
007180e2 : MOV ECX,dword ptr [EAX]
007180e4 : MOV EDX,dword ptr [ECX + 0x30]
007180e7 : PUSH EAX
007180e8 : CALL EDX
007180ea : MOV byte ptr [ESI + 0x14],0x0
007180ee : CMP dword ptr [EBX + 0xc],0x0
007180f2 : JZ 0x00718254
007180f8 : CMP dword ptr [EBX + 0x8],-0x1
007180fc : JZ 0x00718254
00718102 : CMP dword ptr [EBX + 0x4],0x0
00718106 : JZ 0x00718254
0071810c : CALL 0x004c5420
00718111 : MOV EAX,dword ptr [EAX]
00718113 : MOV ECX,dword ptr [0x017251ac]
00718119 : MOV ECX,dword ptr [ECX + 0x18]
0071811c : MOV EDX,dword ptr [ECX]
0071811e : PUSH 0x18
00718120 : PUSH 0x0
00718122 : PUSH EAX
00718123 : PUSH 0x0
00718125 : PUSH ECX
00718126 : MOV ECX,dword ptr [EDX + 0x190]
0071812c : CALL ECX
0071812e : TEST EAX,EAX
00718130 : JL 0x00718254
00718136 : MOV EDX,dword ptr [0x017251ac]
0071813c : MOV EAX,[0x017251f8]
00718141 : MOV ESI,dword ptr [EAX + 0xe8]
00718147 : PUSH EDI
00718148 : MOV EDI,dword ptr [EDX + 0x18]
0071814b : MOV ECX,dword ptr [EDI]
0071814d : MOV dword ptr [EBP + -0x4],ECX
00718150 : CALL 0x007f1710
00718155 : MOV EDX,dword ptr [EBP + -0x4]
00718158 : PUSH EAX
00718159 : MOV EAX,dword ptr [EDX + 0xb0]
0071815f : PUSH 0x3
00718161 : PUSH EDI
00718162 : CALL EAX
00718164 : MOV ECX,dword ptr [0x017251f8]
0071816a : MOV ESI,dword ptr [ECX + 0xe8]
00718170 : MOV EDX,dword ptr [ESI]
00718172 : MOV EAX,dword ptr [EDX + 0x1c]
00718175 : MOV ECX,ESI
00718177 : CALL EAX
00718179 : MOV ECX,dword ptr [EDI]
0071817b : MOV EDX,dword ptr [ECX + 0xb0]
00718181 : ADD ESI,0xb4
00718187 : PUSH ESI
00718188 : PUSH 0x2
0071818a : PUSH EDI
0071818b : CALL EDX
0071818d : MOV ECX,dword ptr [EBX + 0x4]
00718190 : MOV EAX,dword ptr [EDI]
00718192 : MOV EDX,dword ptr [EAX + 0xb0]
00718198 : ADD ECX,0x20
0071819b : PUSH ECX
0071819c : PUSH 0x100
007181a1 : PUSH EDI
007181a2 : CALL EDX
007181a4 : MOV EAX,dword ptr [EDI]
007181a6 : MOV ECX,dword ptr [EAX + 0x1ac]
007181ac : PUSH 0x0
007181ae : PUSH EDI
007181af : CALL ECX
007181b1 : MOV EDX,dword ptr [EDI]
007181b3 : MOV EAX,dword ptr [EDX + 0x170]
007181b9 : PUSH 0x0
007181bb : PUSH EDI
007181bc : CALL EAX
007181be : MOV ECX,dword ptr [EDI]
007181c0 : MOV EDX,dword ptr [ECX + 0x164]
007181c6 : PUSH 0x142
007181cb : PUSH EDI
007181cc : CALL EDX
007181ce : MOV EAX,dword ptr [EDI]
007181d0 : MOV ECX,dword ptr [EAX + 0xe4]
007181d6 : PUSH 0x0
007181d8 : PUSH 0x89
007181dd : PUSH EDI
007181de : CALL ECX
007181e0 : MOV EDX,dword ptr [EDI]
007181e2 : MOV EAX,dword ptr [EDX + 0xe4]
007181e8 : PUSH 0x0
007181ea : PUSH 0xe
007181ec : PUSH EDI
007181ed : CALL EAX
007181ef : MOV ESI,dword ptr [EDI]
007181f1 : CALL 0x004c5420
007181f6 : MOV ECX,dword ptr [EAX + 0x4]
007181f9 : MOV EDX,dword ptr [ESI + 0x1a0]
007181ff : PUSH ECX
00718200 : PUSH EDI
00718201 : CALL EDX
00718203 : MOV EAX,dword ptr [EBX + 0x10]
00718206 : CMP EAX,0x4
00718209 : JGE 0x00718220
0071820b : MOV EAX,dword ptr [EDI]
0071820d : MOV ECX,dword ptr [EAX + 0x190]
00718213 : PUSH 0x18
00718215 : PUSH 0x0
00718217 : PUSH 0x0
00718219 : PUSH 0x0
0071821b : PUSH EDI
0071821c : CALL ECX
0071821e : JMP 0x0071823d
00718220 : MOV ECX,dword ptr [EBX + 0x8]
00718223 : MOV EDX,dword ptr [EDI]
00718225 : MOV EDX,dword ptr [EDX + 0x148]
0071822b : ADD EAX,-0x2
0071822e : PUSH EAX
0071822f : MOV EAX,dword ptr [EBX + 0xc]
00718232 : PUSH 0x0
00718234 : PUSH EAX
00718235 : PUSH 0x0
00718237 : PUSH ECX
00718238 : PUSH 0x5
0071823a : PUSH EDI
0071823b : CALL EDX
0071823d : MOV EAX,dword ptr [EDI]
0071823f : MOV ECX,dword ptr [EAX + 0xe4]
00718245 : PUSH 0x1
00718247 : PUSH 0xe
00718249 : PUSH EDI
0071824a : CALL ECX
0071824c : MOV dword ptr [EBX + 0x8],0xffffffff
00718253 : POP EDI
00718254 : POP ESI
00718255 : POP EBX
00718256 : MOV ESP,EBP
00718258 : POP EBP
00718259 : RET
