PROGRAM  : Maestia.exe
FUNCTION : FUN_005bb9d0
ENTRY    : 005bb9d0
BODY     : [[005bb9d0, 005bba81]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005bb9d0(int param_1,int param_2)

{
  uint *puVar1;
  undefined1 *puVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int in_ECX;
  int iVar6;
  
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x10;
  puVar1 = (uint *)(param_1 + 8);
  if (*(uint *)(param_1 + 0x10) <= *(uint *)(param_1 + 8)) {
    FUN_00504050();
  }
  puVar2 = (undefined1 *)*puVar1;
  if (puVar2 != (undefined1 *)0x0) {
    *puVar2 = 2;
    puVar2[4] = (undefined1)param_2;
  }
  if (in_ECX == 0) {
    iVar6 = 0;
  }
  else {
    iVar6 = in_ECX + 0x10;
  }
  uVar3 = *puVar1;
  iVar4 = *(int *)(param_1 + 0xc);
  iVar5 = *(int *)(param_1 + 0x1c);
  param_2 = FUN_00525380("onLoad",6,0);
  *(int *)(param_2 + 8) = *(int *)(param_2 + 8) + 1;
  FUN_0057bb40(param_1,iVar6,&param_2,1,((int)(uVar3 - iVar4) >> 4) + -0x20 + iVar5 * 0x20);
  *(int *)(param_2 + 8) = *(int *)(param_2 + 8) + -1;
  if (*(int *)(param_2 + 8) == 0) {
    FUN_00525340();
  }
  FUN_00526bc0();
  *puVar1 = *puVar1 - 0x10;
  if (*puVar1 < *(uint *)(param_1 + 0xc)) {
    FUN_00504f30();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005bb9d0 : PUSH EBX
005bb9d1 : MOV EBX,dword ptr [ESP + 0x8]
005bb9d5 : ADD dword ptr [EBX + 0x8],0x10
005bb9d9 : MOV EAX,dword ptr [EBX + 0x8]
005bb9dc : PUSH EBP
005bb9dd : PUSH ESI
005bb9de : LEA ESI,[EBX + 0x8]
005bb9e1 : PUSH EDI
005bb9e2 : MOV EBP,ECX
005bb9e4 : CMP EAX,dword ptr [ESI + 0x8]
005bb9e7 : JC 0x005bb9f0
005bb9e9 : MOV ECX,ESI
005bb9eb : CALL 0x00504050
005bb9f0 : MOV EAX,dword ptr [ESI]
005bb9f2 : TEST EAX,EAX
005bb9f4 : JZ 0x005bba00
005bb9f6 : MOV CL,byte ptr [ESP + 0x18]
005bb9fa : MOV byte ptr [EAX],0x2
005bb9fd : MOV byte ptr [EAX + 0x4],CL
005bba00 : TEST EBP,EBP
005bba02 : JZ 0x005bba09
005bba04 : ADD EBP,0x10
005bba07 : JMP 0x005bba0b
005bba09 : XOR EBP,EBP
005bba0b : MOV EDX,dword ptr [ESI]
005bba0d : SUB EDX,dword ptr [ESI + 0x4]
005bba10 : MOV EAX,dword ptr [ESI + 0x14]
005bba13 : SHL EAX,0x5
005bba16 : SAR EDX,0x4
005bba19 : PUSH 0x0
005bba1b : LEA EDI,[EDX + EAX*0x1 + -0x20]
005bba1f : MOV EAX,dword ptr [EBX + 0x78]
005bba22 : PUSH 0x6
005bba24 : PUSH 0xb8ef34
005bba29 : LEA ECX,[EAX + 0x254]
005bba2f : CALL 0x00525380
005bba34 : PUSH EDI
005bba35 : PUSH 0x1
005bba37 : LEA ECX,[ESP + 0x20]
005bba3b : PUSH ECX
005bba3c : PUSH EBP
005bba3d : MOV dword ptr [ESP + 0x28],EAX
005bba41 : INC dword ptr [EAX + 0x8]
005bba44 : PUSH EBX
005bba45 : CALL 0x0057bb40
005bba4a : MOV EAX,dword ptr [ESP + 0x2c]
005bba4e : DEC dword ptr [EAX + 0x8]
005bba51 : MOV ECX,EAX
005bba53 : ADD EAX,0x8
005bba56 : ADD ESP,0x14
005bba59 : CMP dword ptr [EAX],0x0
005bba5c : JNZ 0x005bba63
005bba5e : CALL 0x00525340
005bba63 : MOV ECX,dword ptr [ESI]
005bba65 : CALL 0x00526bc0
005bba6a : ADD dword ptr [ESI],-0x10
005bba6d : MOV EAX,dword ptr [ESI]
005bba6f : CMP EAX,dword ptr [ESI + 0x4]
005bba72 : JNC 0x005bba7b
005bba74 : MOV ECX,ESI
005bba76 : CALL 0x00504f30
005bba7b : POP EDI
005bba7c : POP ESI
005bba7d : POP EBP
005bba7e : POP EBX
005bba7f : RET 0x8
