PROGRAM  : Maestia.exe
FUNCTION : FUN_007eace0
ENTRY    : 007eace0
BODY     : [[007eace0, 007eb055]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x007eafc9) */
/* WARNING: Removing unreachable block (ram,0x007eafe0) */
/* WARNING: Removing unreachable block (ram,0x007eaffc) */
/* WARNING: Removing unreachable block (ram,0x007eb004) */

void FUN_007eace0(int param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  float *pfVar3;
  int *piVar4;
  double dVar5;
  float fStack_90;
  float local_8c;
  float fStack_88;
  float fStack_84;
  float fStack_80;
  float fStack_7c;
  float fStack_78;
  float fStack_74;
  float fStack_70;
  float fStack_6c;
  float fStack_68;
  float fStack_64;
  float fStack_60;
  float fStack_5c;
  float fStack_58;
  undefined1 auStack_50 [8];
  undefined1 auStack_48 [4];
  undefined4 uStack_44;
  int iStack_40;
  undefined4 uStack_3c;
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b43754;
  local_14 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xffffff60;
  ExceptionList = &local_14;
  if ((*(float *)(param_1 + 0xdc) != 0.0) && (iVar1 = *(int *)(param_2 + 0x48), iVar1 != 0)) {
    FUN_00406460(L"GameCamera");
    local_c = 0;
    FUN_0043acd0(iVar1 + 0xd0,&local_8c);
    if (local_8c == *(float *)(iVar1 + 0xd4)) {
      piVar4 = (int *)0x0;
    }
    else {
      piVar4 = *(int **)((int)local_8c + 0x28);
    }
    local_c = 0xffffffff;
    if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_1c = 7;
    local_20 = 0;
    local_30 = 0;
    if (piVar4 != (int *)0x0) {
      pfVar3 = (float *)(**(code **)(*piVar4 + 0x18))(uVar2);
      fStack_84 = *pfVar3;
      fStack_80 = pfVar3[1];
      fStack_78 = pfVar3[2];
      local_8c = (float)piVar4[0x7b];
      fStack_90 = (float)piVar4[0x7c];
      dVar5 = (double)local_8c;
      fStack_68 = fStack_84;
      fStack_64 = fStack_80;
      fStack_60 = fStack_78;
      FUN_0063ef0d();
      fStack_88 = *(float *)(param_1 + 0xdc);
      fStack_7c = fStack_88 * (float)dVar5;
      dVar5 = (double)local_8c;
      FUN_0063ed62();
      local_8c = fStack_88 * (float)dVar5;
      dVar5 = (double)fStack_90;
      FUN_0063ed62();
      fStack_74 = (float)dVar5 * local_8c + fStack_84;
      fStack_70 = fStack_80 + fStack_7c;
      dVar5 = (double)fStack_90;
      FUN_0063ef0d();
      fStack_6c = (float)dVar5 * local_8c + fStack_78;
      uVar2 = 0x7eaebf;
      (**(code **)(*piVar4 + 8))(auStack_50);
      fStack_90 = 0.0;
      uStack_44 = 0;
      iStack_40 = 0;
      uStack_3c = 0;
      puStack_10 = (undefined1 *)0x1;
      FUN_004084e0(0,uVar2 & 0xffffff00);
      FUN_007e7c00(fStack_78,fStack_70,&fStack_90,auStack_48);
      fStack_60 = fStack_78 - fStack_6c;
      fStack_5c = fStack_74 - fStack_68;
      fStack_58 = fStack_70 - fStack_64;
      D3DXVec3Normalize();
      local_8c = 0.0;
      FUN_007ea310();
      local_c = 0xffffffff;
      if (iStack_40 != 0) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
007eace0 : PUSH EBP
007eace1 : MOV EBP,ESP
007eace3 : AND ESP,0xfffffff8
007eace6 : PUSH -0x1
007eace8 : PUSH 0xb43754
007eaced : MOV EAX,FS:[0x0]
007eacf3 : PUSH EAX
007eacf4 : SUB ESP,0x80
007eacfa : PUSH EBX
007eacfb : PUSH ESI
007eacfc : PUSH EDI
007eacfd : MOV EAX,[0x00d66fa0]
007ead02 : XOR EAX,ESP
007ead04 : PUSH EAX
007ead05 : LEA EAX,[ESP + 0x90]
007ead0c : MOV FS:[0x0],EAX
007ead12 : MOV EAX,dword ptr [EBP + 0x8]
007ead15 : MOVSS XMM0,dword ptr [EAX + 0xdc]
007ead1d : UCOMISS XMM0,dword ptr [0x00b9b0b4]
007ead24 : LAHF
007ead25 : TEST AH,0x44
007ead28 : JNP 0x007eb03e
007ead2e : MOV ECX,dword ptr [EBP + 0xc]
007ead31 : MOV EDI,dword ptr [ECX + 0x48]
007ead34 : XOR EBX,EBX
007ead36 : MOV byte ptr [ESP + 0x13],BL
007ead3a : CMP EDI,EBX
007ead3c : JZ 0x007eb03e
007ead42 : PUSH 0xc22da8
007ead47 : LEA ECX,[ESP + 0x74]
007ead4b : CALL 0x00406460
007ead50 : MOV dword ptr [ESP + 0x98],EBX
007ead57 : LEA EDX,[ESP + 0x18]
007ead5b : PUSH EDX
007ead5c : LEA EAX,[EDI + 0xd0]
007ead62 : PUSH EAX
007ead63 : LEA ESI,[ESP + 0x78]
007ead67 : CALL 0x0043acd0
007ead6c : MOV EDI,dword ptr [EDI + 0xd4]
007ead72 : MOV EAX,dword ptr [ESP + 0x18]
007ead76 : CMP EAX,EDI
007ead78 : JZ 0x007ead7f
007ead7a : MOV EDI,dword ptr [EAX + 0x28]
007ead7d : JMP 0x007ead81
007ead7f : XOR EDI,EDI
007ead81 : MOV dword ptr [ESP + 0x98],0xffffffff
007ead8c : CMP dword ptr [ESP + 0x88],0x8
007ead94 : JC 0x007ead9f
007ead96 : MOV ECX,dword ptr [ESP + 0x74]
007ead9a : CALL 0x006f04e0
007ead9f : XOR ECX,ECX
007eada1 : MOV dword ptr [ESP + 0x88],0x7
007eadac : MOV dword ptr [ESP + 0x84],EBX
007eadb3 : MOV word ptr [ESP + 0x74],CX
007eadb8 : CMP EDI,EBX
007eadba : JZ 0x007eb03e
007eadc0 : MOV EDX,dword ptr [EDI]
007eadc2 : MOV EAX,dword ptr [EDX + 0x18]
007eadc5 : MOV ECX,EDI
007eadc7 : CALL EAX
007eadc9 : MOVSS XMM0,dword ptr [EAX]
007eadcd : MOVSS XMM1,dword ptr [EAX + 0x4]
007eadd2 : MOVSS XMM2,dword ptr [EAX + 0x8]
007eadd7 : MOVSS dword ptr [ESP + 0x3c],XMM0
007eaddd : MOVSS dword ptr [ESP + 0x20],XMM0
007eade3 : MOVSS dword ptr [ESP + 0x40],XMM1
007eade9 : MOVSS dword ptr [ESP + 0x44],XMM2
007eadef : MOVSS XMM0,dword ptr [EDI + 0x1ec]
007eadf7 : MOVSS dword ptr [ESP + 0x24],XMM1
007eadfd : MOVSS XMM1,dword ptr [EDI + 0x1f0]
007eae05 : MOVSS dword ptr [ESP + 0x18],XMM0
007eae0b : MOVSS dword ptr [ESP + 0x2c],XMM2
007eae11 : MOVSS dword ptr [ESP + 0x14],XMM1
007eae17 : CVTPS2PD XMM0,XMM0
007eae1a : CALL 0x0063ef0d
007eae1f : MOV ESI,dword ptr [EBP + 0x8]
007eae22 : CVTSD2SS XMM1,XMM0
007eae26 : MOVSS XMM0,dword ptr [ESI + 0xdc]
007eae2e : MOVSS dword ptr [ESP + 0x1c],XMM0
007eae34 : MULSS XMM0,XMM1
007eae38 : MOVSS dword ptr [ESP + 0x28],XMM0
007eae3e : CVTSS2SD XMM0,dword ptr [ESP + 0x18]
007eae44 : CALL 0x0063ed62
007eae49 : CVTSD2SS XMM1,XMM0
007eae4d : MOVSS XMM0,dword ptr [ESP + 0x1c]
007eae53 : MULSS XMM0,XMM1
007eae57 : MOVSS dword ptr [ESP + 0x18],XMM0
007eae5d : CVTSS2SD XMM0,dword ptr [ESP + 0x14]
007eae63 : CALL 0x0063ed62
007eae68 : CVTSD2SS XMM0,XMM0
007eae6c : MULSS XMM0,dword ptr [ESP + 0x18]
007eae72 : ADDSS XMM0,dword ptr [ESP + 0x20]
007eae78 : MOVSS dword ptr [ESP + 0x30],XMM0
007eae7e : MOVSS XMM0,dword ptr [ESP + 0x24]
007eae84 : ADDSS XMM0,dword ptr [ESP + 0x28]
007eae8a : MOVSS dword ptr [ESP + 0x34],XMM0
007eae90 : CVTSS2SD XMM0,dword ptr [ESP + 0x14]
007eae96 : CALL 0x0063ef0d
007eae9b : MOV EDX,dword ptr [EDI]
007eae9d : MOV EDX,dword ptr [EDX + 0x8]
007eaea0 : CVTSD2SS XMM0,XMM0
007eaea4 : MULSS XMM0,dword ptr [ESP + 0x18]
007eaeaa : ADDSS XMM0,dword ptr [ESP + 0x2c]
007eaeb0 : LEA EAX,[ESP + 0x54]
007eaeb4 : PUSH EAX
007eaeb5 : MOV ECX,EDI
007eaeb7 : MOVSS dword ptr [ESP + 0x3c],XMM0
007eaebd : CALL EDX
007eaebf : MOV dword ptr [ESP + 0x18],EBX
007eaec3 : MOV dword ptr [ESP + 0x64],EBX
007eaec7 : MOV dword ptr [ESP + 0x68],EBX
007eaecb : MOV dword ptr [ESP + 0x6c],EBX
007eaecf : MOV dword ptr [ESP + 0x98],0x1
007eaeda : SUB ESP,0xc
007eaedd : MOV EAX,ESP
007eaedf : PXOR XMM0,XMM0
007eaee3 : XOR CL,CL
007eaee5 : MOVQ qword ptr [EAX],XMM0
007eaee9 : MOV byte ptr [EAX + 0x8],CL
007eaeec : LEA EAX,[ESP + 0x6c]
007eaef0 : CALL 0x004084e0
007eaef5 : FLD float ptr [ESP + 0x38]
007eaef9 : LEA EAX,[ESP + 0x60]
007eaefd : PUSH EAX
007eaefe : LEA ECX,[ESP + 0x1c]
007eaf02 : PUSH ECX
007eaf03 : SUB ESP,0x8
007eaf06 : FSTP float ptr [ESP + 0x4]
007eaf0a : MOV EAX,ESI
007eaf0c : FLD float ptr [ESP + 0x40]
007eaf10 : FSTP float ptr [ESP]
007eaf13 : CALL 0x007e7c00
007eaf18 : MOVSS XMM0,dword ptr [ESP + 0x34]
007eaf1e : TEST AL,AL
007eaf20 : JZ 0x007eaf45
007eaf22 : MOV EAX,dword ptr [ESP + 0x18]
007eaf26 : MOV EDX,dword ptr [ESP + 0x64]
007eaf2a : LEA ECX,[EDX + EAX*0x8]
007eaf2d : MOVSS XMM1,dword ptr [EAX + ECX*0x1 + -0x4]
007eaf33 : ADDSS XMM1,dword ptr [0x00cdf0f0]
007eaf3b : COMISS XMM0,XMM1
007eaf3e : JBE 0x007eaf45
007eaf40 : MOV byte ptr [ESP + 0x13],0x1
007eaf45 : MOVSS XMM1,dword ptr [ESP + 0x30]
007eaf4b : MOVSS XMM2,dword ptr [ESP + 0x38]
007eaf51 : SUBSS XMM1,dword ptr [ESP + 0x3c]
007eaf57 : SUBSS XMM0,dword ptr [ESP + 0x40]
007eaf5d : SUBSS XMM2,dword ptr [ESP + 0x44]
007eaf63 : LEA EDX,[ESP + 0x48]
007eaf67 : PUSH EDX
007eaf68 : MOV EAX,EDX
007eaf6a : PUSH EAX
007eaf6b : MOVSS dword ptr [ESP + 0x50],XMM1
007eaf71 : MOVSS dword ptr [ESP + 0x54],XMM0
007eaf77 : MOVSS dword ptr [ESP + 0x58],XMM2
007eaf7d : CALL 0x004ff722
007eaf82 : XORPS XMM0,XMM0
007eaf85 : LEA ECX,[ESP + 0x18]
007eaf89 : PUSH ECX
007eaf8a : LEA EDX,[ESP + 0x40]
007eaf8e : PUSH EDX
007eaf8f : LEA EAX,[ESP + 0x50]
007eaf93 : PUSH EAX
007eaf94 : MOVSS dword ptr [ESP + 0x24],XMM0
007eaf9a : CALL 0x007ea310
007eaf9f : TEST AL,AL
007eafa1 : JZ 0x007eafc3
007eafa3 : MOVSS XMM0,dword ptr [EDI + 0x200]
007eafab : MOVSS XMM1,dword ptr [ESP + 0x18]
007eafb1 : COMISS XMM1,XMM0
007eafb4 : JBE 0x007eb01a
007eafb6 : MOVSS XMM0,dword ptr [0x00cdf16c]
007eafbe : COMISS XMM0,XMM1
007eafc1 : JBE 0x007eb01a
007eafc3 : CMP byte ptr [ESP + 0x13],BL
007eafc7 : JZ 0x007eb01a
007eafc9 : MOV ECX,dword ptr [EBP + 0x8]
007eafcc : MOVSS XMM0,dword ptr [ECX + 0xdc]
007eafd4 : XORPS XMM2,XMM2
007eafd7 : UCOMISS XMM0,XMM2
007eafda : LAHF
007eafdb : TEST AH,0x44
007eafde : JNP 0x007eb01a
007eafe0 : MOVSS XMM1,dword ptr [EDI + 0x200]
007eafe8 : MOV EAX,EDI
007eafea : CALL 0x007f1400
007eafef : MOVSS XMM0,dword ptr [ECX + 0xdc]
007eaff7 : COMISS XMM0,XMM2
007eaffa : JBE 0x007eb004
007eaffc : MOVSS dword ptr [ECX + 0xdc],XMM2
007eb004 : MOV EDX,dword ptr [EBP + 0xc]
007eb007 : MOV byte ptr [EDX + 0x5],BL
007eb00a : MOVSS XMM0,dword ptr [EDI + 0x1f8]
007eb012 : MOVSS dword ptr [ECX + 0x2bb4],XMM0
007eb01a : MOV dword ptr [ESP + 0x98],0xffffffff
007eb025 : MOV ECX,dword ptr [ESP + 0x64]
007eb029 : CMP ECX,EBX
007eb02b : JZ 0x007eb032
007eb02d : CALL 0x006f04e0
007eb032 : MOV dword ptr [ESP + 0x64],EBX
007eb036 : MOV dword ptr [ESP + 0x68],EBX
007eb03a : MOV dword ptr [ESP + 0x6c],EBX
007eb03e : MOV ECX,dword ptr [ESP + 0x90]
007eb045 : MOV dword ptr FS:[0x0],ECX
007eb04c : POP ECX
007eb04d : POP EDI
007eb04e : POP ESI
007eb04f : POP EBX
007eb050 : MOV ESP,EBP
007eb052 : POP EBP
007eb053 : RET 0x8
