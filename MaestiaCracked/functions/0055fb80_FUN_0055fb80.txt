PROGRAM  : Maestia.exe
FUNCTION : FUN_0055fb80
ENTRY    : 0055fb80
BODY     : [[0055fb80, 0055fbb9]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0055fb80(int *param_1)

{
  int *piVar1;
  int in_ECX;
  
  if (param_1 != (int *)0x0) {
    *param_1 = *param_1 + 1;
  }
  piVar1 = *(int **)(in_ECX + 0x1c);
  if ((piVar1 != (int *)0x0) && (*piVar1 = *piVar1 + -1, *piVar1 == 0)) {
    FUN_00500860();
    FUN_00515cf0(piVar1);
  }
  *(int **)(in_ECX + 0x1c) = param_1;
  *(ushort *)(in_ECX + 0x2a) = *(ushort *)(in_ECX + 0x2a) | 0x800;
  return;
}



============================================================
DISASSEMBLY
============================================================
0055fb80 : PUSH EBX
0055fb81 : MOV EBX,dword ptr [ESP + 0x8]
0055fb85 : PUSH ESI
0055fb86 : PUSH EDI
0055fb87 : MOV ESI,ECX
0055fb89 : TEST EBX,EBX
0055fb8b : JZ 0x0055fb8f
0055fb8d : INC dword ptr [EBX]
0055fb8f : MOV EDI,dword ptr [ESI + 0x1c]
0055fb92 : TEST EDI,EDI
0055fb94 : JZ 0x0055fba8
0055fb96 : ADD dword ptr [EDI],-0x1
0055fb99 : JNZ 0x0055fba8
0055fb9b : MOV ECX,EDI
0055fb9d : CALL 0x00500860
0055fba2 : PUSH EDI
0055fba3 : CALL 0x00515cf0
0055fba8 : MOV dword ptr [ESI + 0x1c],EBX
0055fbab : MOV EAX,0x800
0055fbb0 : OR word ptr [ESI + 0x2a],AX
0055fbb4 : POP EDI
0055fbb5 : POP ESI
0055fbb6 : POP EBX
0055fbb7 : RET 0x4
