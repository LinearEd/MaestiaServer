PROGRAM  : Maestia.exe
FUNCTION : FUN_0054e220
ENTRY    : 0054e220
BODY     : [[0054e220, 0054e889]]

============================================================
DECOMPILED C CODE
============================================================

char FUN_0054e220(uint param_1,uint param_2)

{
  byte bVar1;
  uint uVar2;
  char cVar3;
  byte bVar4;
  uint uVar5;
  uint uVar6;
  int *piVar7;
  undefined4 uVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  int in_ECX;
  uint uVar12;
  bool bVar13;
  char local_1e;
  uint local_18;
  uint local_14;
  uint uStack_10;
  undefined4 uStack_c;
  undefined4 uStack_8;
  int local_4;
  
  iVar11 = *(int *)(in_ECX + 8);
  local_4 = iVar11;
  uVar5 = FUN_0053c470();
  piVar7 = *(int **)(iVar11 + 0x14);
  uVar10 = *(uint *)(in_ECX + 0x18);
  local_1e = '\0';
  uVar6 = param_1;
  if (piVar7 != (int *)0x0) {
    uVar6 = (**(code **)(*piVar7 + 0x18))();
  }
  bVar1 = *(byte *)(in_ECX + 0x68);
  local_18 = 0xbf800000;
  uVar12 = *(uint *)(*(int *)(in_ECX + 8) + 0x20);
  uVar2 = *(uint *)(*(int *)(in_ECX + 8) + 0x24);
  param_1 = param_1 & 0xffffff00;
  if ((*(int *)(in_ECX + 0x10) == 0) ||
     (local_14 = uVar12, piVar7 = (int *)FUN_00503310(uVar6,param_2,0), piVar7 == (int *)0x0))
  goto switchD_0054e2b7_caseD_3;
  uVar6 = uVar2;
  switch(*piVar7) {
  case 2:
    if ((*(byte *)(in_ECX + 0x68) >> 1 & 1) == 0) goto switchD_0054e2b7_caseD_3;
    goto LAB_0054e877;
  default:
    goto switchD_0054e2b7_caseD_3;
  case 4:
    if (uVar10 == 0xffffffff) {
      uVar10 = uVar5;
    }
    if (uVar10 != 0) {
      uVar10 = uVar10 - 1;
    }
    if ((((*(byte *)(in_ECX + 0x68) >> 6 & 1) == 0) && (uVar12 != uVar2)) &&
       (uVar10 = uVar2, uVar12 < uVar2)) {
      uVar10 = uVar12;
    }
    break;
  case 5:
    if ((uVar10 != 0xffffffff) && (bVar13 = uVar10 < uVar5, uVar5 = uVar10, bVar13)) {
      uVar5 = uVar10 + 1;
    }
    uVar10 = uVar5;
    if ((((*(byte *)(in_ECX + 0x68) >> 6 & 1) == 0) && (uVar12 != uVar2)) &&
       (uVar10 = uVar2, uVar2 < uVar12)) {
      uVar10 = uVar12;
    }
    break;
  case 6:
    local_14 = 0;
    uStack_10 = 0;
    uStack_c = 0;
    uStack_8 = 0;
    if (((*(byte *)(in_ECX + 0x68) >> 6 & 1) == 0) && (uVar12 != uVar2)) {
      uVar10 = uVar12;
      if (uVar2 <= uVar12) goto LAB_0054e7f7;
    }
    else {
      cVar3 = FUN_0054cf80(*(undefined4 *)(in_ECX + 0x18),&local_14,&param_2,0,1,0);
      if (cVar3 != '\0') {
        if (param_2 == 0) goto switchD_0054e2b7_caseD_e;
        local_18 = local_14;
        if (0.0 <= *(float *)(in_ECX + 0x48)) {
          local_18 = *(uint *)(in_ECX + 0x48);
        }
        uVar6 = FUN_0054af50(param_2 - 1,local_18);
        goto LAB_0054e7f7;
      }
    }
    break;
  case 7:
    local_14 = 0;
    uStack_10 = 0;
    uStack_c = 0;
    uStack_8 = 0;
    if (((*(byte *)(in_ECX + 0x68) >> 6 & 1) == 0) && (uVar2 != uVar12)) {
      uVar10 = uVar12;
      if (uVar12 <= uVar2) goto LAB_0054e7f7;
    }
    else {
      cVar3 = FUN_0054cf80(*(undefined4 *)(in_ECX + 0x18),&local_14,&param_2,0,1,0);
      if (cVar3 != '\0') {
        uVar10 = param_2 + 1;
        uVar6 = FUN_0054ad10();
        if (uVar10 < uVar6) {
          local_18 = local_14;
          if (0.0 <= *(float *)(in_ECX + 0x48)) {
            local_18 = *(uint *)(in_ECX + 0x48);
          }
          goto LAB_0054e605;
        }
        goto switchD_0054e2b7_caseD_f;
      }
    }
    break;
  case 8:
    local_14 = 0;
    uStack_10 = 0;
    uStack_c = 0;
    uStack_8 = 0;
    cVar3 = FUN_0054cf80(*(undefined4 *)(in_ECX + 0x18),&local_14,&param_2,0,1,0);
    if (cVar3 != '\0') {
      local_18 = local_14;
      if (0.0 <= *(float *)(in_ECX + 0x48)) {
        local_18 = *(uint *)(in_ECX + 0x48);
      }
      iVar11 = FUN_0054bdc0();
      uVar10 = (iVar11 - *(int *)(*(int *)(in_ECX + 8) + 0x3c)) + 1;
      if (param_2 < uVar10) goto switchD_0054e2b7_caseD_e;
      uVar6 = FUN_0054af50(param_2 - uVar10,local_18);
      goto LAB_0054e7f7;
    }
    break;
  case 9:
    local_14 = 0;
    uStack_10 = 0;
    uStack_c = 0;
    uStack_8 = 0;
    cVar3 = FUN_0054cf80(*(undefined4 *)(in_ECX + 0x18),&local_14,&param_2,0,1,0);
    if (cVar3 != '\0') {
      local_18 = local_14;
      if (0.0 <= *(float *)(in_ECX + 0x48)) {
        local_18 = *(uint *)(in_ECX + 0x48);
      }
      iVar11 = FUN_0054bdc0();
      uVar10 = param_2 + 1 + (iVar11 - *(int *)(*(int *)(in_ECX + 8) + 0x3c));
      uVar6 = FUN_0054ad10();
      if (uVar6 <= uVar10) goto switchD_0054e2b7_caseD_f;
LAB_0054e605:
      uVar6 = FUN_0054af50(uVar10,local_18);
      goto LAB_0054e7f7;
    }
    break;
  case 10:
    iVar11 = FUN_0054b4f0(*(undefined4 *)(in_ECX + 0x18));
    if (iVar11 != -1) {
      uVar6 = FUN_0054b540(iVar11);
      goto LAB_0054e7f7;
    }
    break;
  case 0xb:
    iVar11 = FUN_0054b4f0(*(undefined4 *)(in_ECX + 0x18));
    if (iVar11 != -1) {
      param_2 = param_2 & 0xffffff00;
      iVar9 = FUN_0054b5a0(iVar11,&param_2);
      if ((char)param_2 != '\0') {
        iVar9 = iVar9 + -1;
      }
      iVar11 = FUN_0054b540(iVar11);
      uVar12 = local_14;
      uVar10 = iVar11 + iVar9;
    }
    break;
  case 0xc:
    uVar6 = FUN_0054b540(*(undefined4 *)(*(int *)(in_ECX + 8) + 0x3c));
LAB_0054e7f7:
    uVar10 = uVar6;
    break;
  case 0xd:
    uVar8 = FUN_0054bdc0();
    param_2 = param_2 & 0xffffff00;
    iVar11 = FUN_0054b5a0(uVar8,&param_2);
    if ((char)param_2 != '\0') {
      iVar11 = iVar11 + -1;
    }
    iVar9 = FUN_0054b540(uVar8);
    uVar10 = iVar9 + iVar11;
    break;
  case 0xe:
switchD_0054e2b7_caseD_e:
    uVar10 = 0;
    break;
  case 0xf:
switchD_0054e2b7_caseD_f:
    uVar10 = uVar5;
    break;
  case 0x10:
    if ((*(byte *)(in_ECX + 0x68) & 1) == 0) {
      if (uVar12 == uVar2) {
        param_1 = uVar10;
        iVar11 = FUN_00546e40(8,&param_1);
        param_1 = CONCAT31(param_1._1_3_,1);
        uVar10 = uVar10 - iVar11;
      }
      else {
LAB_0054e64f:
        local_14 = uVar12;
        uStack_10 = uVar2;
        FUN_00546e40(4,&local_14);
LAB_0054e662:
        uVar10 = uVar2;
        if (uVar12 < uVar2) {
          uVar10 = uVar12;
        }
        param_1 = CONCAT31(param_1._1_3_,1);
      }
    }
    break;
  case 0x11:
    if ((*(byte *)(in_ECX + 0x68) & 1) == 0) {
      if (uVar12 != uVar2) goto LAB_0054e64f;
      if (*(uint *)(in_ECX + 0x18) < uVar5) {
        param_1 = uVar10;
        FUN_00546e40(3,&param_1);
        param_1 = CONCAT31(param_1._1_3_,1);
      }
    }
    break;
  case 0x12:
    if (((*(byte *)(in_ECX + 0x68) & 1) == 0) &&
       ((*(byte *)(*(int *)(in_ECX + 8) + 0x141) & 4) != 0)) {
      *(ushort *)(in_ECX + 0x68) = *(ushort *)(in_ECX + 0x68) & 0xffbf;
      bVar4 = *(byte *)(*(int *)(*(int *)(in_ECX + 8) + 0xc) + 0x20) & 2;
      if (uVar12 == uVar2) {
        local_14 = *(uint *)(in_ECX + 0x18);
        uStack_10 = CONCAT22(uStack_10._2_2_,(ushort)(byte)((-(bVar4 != 0) & 3U) + 10));
        FUN_00546e40(0,&local_14);
        param_1 = CONCAT31(param_1._1_3_,1);
        uVar10 = uVar10 + 1;
      }
      else {
        uStack_c = CONCAT22(uStack_c._2_2_,(ushort)(byte)((-(bVar4 != 0) & 3U) + 10));
        local_14 = uVar12;
        uStack_10 = uVar2;
        FUN_00546e40(5,&local_14);
        uVar10 = uVar2;
        if (uVar12 < uVar2) {
          uVar10 = uVar12;
        }
        param_1 = CONCAT31(param_1._1_3_,1);
        uVar10 = uVar10 + 1;
      }
    }
    break;
  case 0x13:
  case 0x15:
    if (*(int *)(in_ECX + 0xc) == 0) break;
    if (((*(byte *)(in_ECX + 0x68) & 1) == 0) && (*piVar7 != 0x13)) {
      *(ushort *)(in_ECX + 0x68) = *(ushort *)(in_ECX + 0x68) & 0xffbf;
      FUN_0054c5a0(uVar12,uVar2,(byte)*(undefined2 *)(in_ECX + 0x68) >> 2 & 1);
      goto LAB_0054e662;
    }
    *(ushort *)(in_ECX + 0x68) = *(ushort *)(in_ECX + 0x68) & 0xffbf;
    FUN_0054c4c0(uVar12,uVar2,(byte)*(undefined2 *)(in_ECX + 0x68) >> 2 & 1);
    goto switchD_0054e2b7_caseD_3;
  case 0x14:
    param_2 = CONCAT31(param_2._1_3_,*(byte *)(in_ECX + 0x68) >> 2) & 0xffffff01;
    uVar6 = FUN_0054c600(uVar12,uVar2,param_2);
    if (uVar6 != 0xffffffff) {
      param_1 = CONCAT31(param_1._1_3_,1);
      goto LAB_0054e7f7;
    }
    break;
  case 0x16:
    FUN_0054dda0(uVar5);
    FUN_00546be0(0,uVar5);
    goto switchD_0054e2b7_caseD_3;
  }
  if (*(uint *)(in_ECX + 0x18) == uVar10) {
    bVar4 = (byte)*(undefined2 *)(in_ECX + 0x68);
    if (((bVar4 >> 6 & 1) == 0) && (uVar12 != uVar2)) {
      FUN_0054d5a0(uVar10,bVar4 >> 1 & 1);
      goto LAB_0054e83e;
    }
  }
  else {
    FUN_0054d5a0(uVar10,*(byte *)(in_ECX + 0x68) >> 1 & 1);
    *(uint *)(in_ECX + 0x48) = local_18;
LAB_0054e83e:
    local_1e = '\x01';
  }
  if ((char)param_1 != '\0') {
    if (local_1e == '\0') {
      FUN_00545100(*(undefined4 *)(in_ECX + 0x18));
    }
    if (*(int **)(local_4 + 0x14) != (int *)0x0) {
      (**(code **)(**(int **)(local_4 + 0x14) + 0x20))();
    }
  }
switchD_0054e2b7_caseD_3:
  if ((bVar1 >> 6 & 1) != 0) {
LAB_0054e877:
    *(ushort *)(in_ECX + 0x68) = *(ushort *)(in_ECX + 0x68) | 0x40;
  }
  return local_1e;
}



============================================================
DISASSEMBLY
============================================================
0054e220 : SUB ESP,0x20
0054e223 : PUSH EBX
0054e224 : PUSH EBP
0054e225 : PUSH ESI
0054e226 : MOV ESI,ECX
0054e228 : MOV EBX,dword ptr [ESI + 0x8]
0054e22b : MOV ECX,dword ptr [EBX + 0xc]
0054e22e : PUSH EDI
0054e22f : MOV dword ptr [ESP + 0x2c],EBX
0054e233 : CALL 0x0053c470
0054e238 : MOV ECX,dword ptr [EBX + 0x14]
0054e23b : MOV EDI,dword ptr [ESI + 0x18]
0054e23e : MOV EBP,EAX
0054e240 : MOV byte ptr [ESP + 0x12],0x0
0054e245 : TEST ECX,ECX
0054e247 : JZ 0x0054e258
0054e249 : MOV EDX,dword ptr [ESP + 0x34]
0054e24d : MOV EAX,dword ptr [ECX]
0054e24f : MOV EAX,dword ptr [EAX + 0x18]
0054e252 : PUSH EDX
0054e253 : PUSH ESI
0054e254 : CALL EAX
0054e256 : JMP 0x0054e25c
0054e258 : MOV EAX,dword ptr [ESP + 0x34]
0054e25c : MOV CL,byte ptr [ESI + 0x68]
0054e25f : FLD float ptr [0x00cdf0d0]
0054e265 : SHR CL,0x6
0054e268 : FSTP float ptr [ESP + 0x18]
0054e26c : AND CL,0x1
0054e26f : MOV byte ptr [ESP + 0x13],CL
0054e273 : MOV ECX,dword ptr [ESI + 0x8]
0054e276 : MOV EBX,dword ptr [ECX + 0x20]
0054e279 : MOV ECX,dword ptr [ECX + 0x24]
0054e27c : MOV dword ptr [ESP + 0x14],ECX
0054e280 : MOV ECX,dword ptr [ESI + 0x10]
0054e283 : MOV byte ptr [ESP + 0x34],0x0
0054e288 : MOV dword ptr [ESP + 0x1c],EBX
0054e28c : TEST ECX,ECX
0054e28e : JZ 0x0054e870
0054e294 : MOV EDX,dword ptr [ESP + 0x38]
0054e298 : PUSH 0x0
0054e29a : PUSH EDX
0054e29b : PUSH EAX
0054e29c : CALL 0x00503310
0054e2a1 : TEST EAX,EAX
0054e2a3 : JZ 0x0054e870
0054e2a9 : MOV EAX,dword ptr [EAX]
0054e2ab : LEA ECX,[EAX + -0x2]
0054e2ae : CMP ECX,0x14
0054e2b1 : JA 0x0054e870
0054e2b7 : JMP dword ptr [ECX*0x4 + 0x54e88c]
0054e2be : MOV AL,byte ptr [ESI + 0x68]
0054e2c1 : SHR AL,0x1
0054e2c3 : TEST AL,0x1
0054e2c5 : JNZ 0x0054e877
0054e2cb : JMP 0x0054e870
0054e2d0 : CMP EDI,-0x1
0054e2d3 : JNZ 0x0054e2d7
0054e2d5 : MOV EDI,EBP
0054e2d7 : TEST EDI,EDI
0054e2d9 : JBE 0x0054e2dc
0054e2db : DEC EDI
0054e2dc : MOV CL,byte ptr [ESI + 0x68]
0054e2df : SHR CL,0x6
0054e2e2 : TEST CL,0x1
0054e2e5 : JNZ 0x0054e7f9
0054e2eb : CMP EBX,dword ptr [ESP + 0x14]
0054e2ef : JZ 0x0054e7f9
0054e2f5 : MOV EDI,dword ptr [ESP + 0x14]
0054e2f9 : CMP EBX,EDI
0054e2fb : JNC 0x0054e7f9
0054e301 : MOV EDI,EBX
0054e303 : JMP 0x0054e7f9
0054e308 : CMP EDI,-0x1
0054e30b : JNZ 0x0054e311
0054e30d : MOV EDI,EBP
0054e30f : JMP 0x0054e316
0054e311 : CMP EDI,EBP
0054e313 : JNC 0x0054e316
0054e315 : INC EDI
0054e316 : MOV DL,byte ptr [ESI + 0x68]
0054e319 : SHR DL,0x6
0054e31c : TEST DL,0x1
0054e31f : JNZ 0x0054e7f9
0054e325 : CMP EBX,dword ptr [ESP + 0x14]
0054e329 : JZ 0x0054e7f9
0054e32f : MOV EDI,dword ptr [ESP + 0x14]
0054e333 : CMP EDI,EBX
0054e335 : JNC 0x0054e7f9
0054e33b : MOV EDI,EBX
0054e33d : JMP 0x0054e7f9
0054e342 : MOV EAX,dword ptr [ESI + 0x18]
0054e345 : MOV ECX,dword ptr [ESI + 0x8]
0054e348 : PUSH EAX
0054e349 : CALL 0x0054b4f0
0054e34e : CMP EAX,-0x1
0054e351 : JZ 0x0054e7f9
0054e357 : MOV ECX,dword ptr [ESI + 0x8]
0054e35a : PUSH EAX
0054e35b : CALL 0x0054b540
0054e360 : JMP 0x0054e7f7
0054e365 : MOV EDX,dword ptr [ESI + 0x18]
0054e368 : MOV ECX,dword ptr [ESI + 0x8]
0054e36b : PUSH EDX
0054e36c : CALL 0x0054b4f0
0054e371 : MOV EBP,EAX
0054e373 : CMP EBP,-0x1
0054e376 : JZ 0x0054e7f9
0054e37c : MOV ECX,dword ptr [ESI + 0x8]
0054e37f : LEA EAX,[ESP + 0x38]
0054e383 : PUSH EAX
0054e384 : PUSH EBP
0054e385 : MOV byte ptr [ESP + 0x40],0x0
0054e38a : CALL 0x0054b5a0
0054e38f : CMP byte ptr [ESP + 0x38],0x0
0054e394 : MOV EBX,EAX
0054e396 : JZ 0x0054e399
0054e398 : DEC EBX
0054e399 : MOV ECX,dword ptr [ESI + 0x8]
0054e39c : PUSH EBP
0054e39d : CALL 0x0054b540
0054e3a2 : MOV EDI,EAX
0054e3a4 : ADD EDI,EBX
0054e3a6 : MOV EBX,dword ptr [ESP + 0x1c]
0054e3aa : JMP 0x0054e7f9
0054e3af : MOV ECX,dword ptr [ESI + 0x8]
0054e3b2 : MOV EAX,dword ptr [ECX + 0x3c]
0054e3b5 : PUSH EAX
0054e3b6 : CALL 0x0054b540
0054e3bb : JMP 0x0054e7f7
0054e3c0 : MOV ECX,dword ptr [ESI + 0x8]
0054e3c3 : CALL 0x0054bdc0
0054e3c8 : MOV ECX,dword ptr [ESI + 0x8]
0054e3cb : LEA EDX,[ESP + 0x38]
0054e3cf : MOV EDI,EAX
0054e3d1 : PUSH EDX
0054e3d2 : PUSH EDI
0054e3d3 : MOV byte ptr [ESP + 0x40],0x0
0054e3d8 : CALL 0x0054b5a0
0054e3dd : CMP byte ptr [ESP + 0x38],0x0
0054e3e2 : MOV EBP,EAX
0054e3e4 : JZ 0x0054e3e7
0054e3e6 : DEC EBP
0054e3e7 : MOV ECX,dword ptr [ESI + 0x8]
0054e3ea : PUSH EDI
0054e3eb : CALL 0x0054b540
0054e3f0 : MOV EDI,EAX
0054e3f2 : ADD EDI,EBP
0054e3f4 : JMP 0x0054e7f9
0054e3f9 : FLDZ
0054e3fb : MOV EDX,dword ptr [ESI + 0x18]
0054e3fe : PUSH 0x0
0054e400 : FST float ptr [ESP + 0x20]
0054e404 : PUSH 0x1
0054e406 : FST float ptr [ESP + 0x28]
0054e40a : PUSH 0x0
0054e40c : FST float ptr [ESP + 0x30]
0054e410 : LEA EAX,[ESP + 0x44]
0054e414 : FSTP float ptr [ESP + 0x34]
0054e418 : PUSH EAX
0054e419 : LEA ECX,[ESP + 0x2c]
0054e41d : PUSH ECX
0054e41e : PUSH EDX
0054e41f : MOV ECX,ESI
0054e421 : CALL 0x0054cf80
0054e426 : TEST AL,AL
0054e428 : JZ 0x0054e7f9
0054e42e : FLDZ
0054e430 : FCOMP float ptr [ESI + 0x48]
0054e433 : FNSTSW AX
0054e435 : TEST AH,0x41
0054e438 : JNZ 0x0054e440
0054e43a : FLD float ptr [ESP + 0x1c]
0054e43e : JMP 0x0054e443
0054e440 : FLD float ptr [ESI + 0x48]
0054e443 : MOV ECX,dword ptr [ESI + 0x8]
0054e446 : FSTP float ptr [ESP + 0x18]
0054e44a : CALL 0x0054bdc0
0054e44f : MOV ECX,dword ptr [ESI + 0x8]
0054e452 : SUB EAX,dword ptr [ECX + 0x3c]
0054e455 : MOV EDX,dword ptr [ESP + 0x38]
0054e459 : INC EAX
0054e45a : CMP EDX,EAX
0054e45c : JNC 0x0054e465
0054e45e : XOR EDI,EDI
0054e460 : JMP 0x0054e7f9
0054e465 : FLD float ptr [ESP + 0x18]
0054e469 : PUSH ECX
0054e46a : SUB EDX,EAX
0054e46c : FSTP float ptr [ESP]
0054e46f : PUSH EDX
0054e470 : CALL 0x0054af50
0054e475 : JMP 0x0054e7f7
0054e47a : FLDZ
0054e47c : MOV EDX,dword ptr [ESI + 0x18]
0054e47f : PUSH 0x0
0054e481 : FST float ptr [ESP + 0x20]
0054e485 : PUSH 0x1
0054e487 : FST float ptr [ESP + 0x28]
0054e48b : PUSH 0x0
0054e48d : FST float ptr [ESP + 0x30]
0054e491 : LEA EAX,[ESP + 0x44]
0054e495 : FSTP float ptr [ESP + 0x34]
0054e499 : PUSH EAX
0054e49a : LEA ECX,[ESP + 0x2c]
0054e49e : PUSH ECX
0054e49f : PUSH EDX
0054e4a0 : MOV ECX,ESI
0054e4a2 : CALL 0x0054cf80
0054e4a7 : TEST AL,AL
0054e4a9 : JZ 0x0054e7f9
0054e4af : FLDZ
0054e4b1 : FCOMP float ptr [ESI + 0x48]
0054e4b4 : FNSTSW AX
0054e4b6 : TEST AH,0x41
0054e4b9 : JNZ 0x0054e4c1
0054e4bb : FLD float ptr [ESP + 0x1c]
0054e4bf : JMP 0x0054e4c4
0054e4c1 : FLD float ptr [ESI + 0x48]
0054e4c4 : MOV ECX,dword ptr [ESI + 0x8]
0054e4c7 : FSTP float ptr [ESP + 0x18]
0054e4cb : CALL 0x0054bdc0
0054e4d0 : MOV ECX,dword ptr [ESI + 0x8]
0054e4d3 : SUB EAX,dword ptr [ECX + 0x3c]
0054e4d6 : MOV EDX,dword ptr [ESP + 0x38]
0054e4da : LEA EDI,[EDX + EAX*0x1 + 0x1]
0054e4de : CALL 0x0054ad10
0054e4e3 : CMP EDI,EAX
0054e4e5 : JC 0x0054e605
0054e4eb : MOV EDI,EBP
0054e4ed : JMP 0x0054e7f9
0054e4f2 : FLDZ
0054e4f4 : MOV AL,byte ptr [ESI + 0x68]
0054e4f7 : FST float ptr [ESP + 0x1c]
0054e4fb : SHR AL,0x6
0054e4fe : FST float ptr [ESP + 0x20]
0054e502 : FST float ptr [ESP + 0x24]
0054e506 : FSTP float ptr [ESP + 0x28]
0054e50a : TEST AL,0x1
0054e50c : JNZ 0x0054e523
0054e50e : MOV EAX,dword ptr [ESP + 0x14]
0054e512 : CMP EBX,EAX
0054e514 : JZ 0x0054e523
0054e516 : JNC 0x0054e7f7
0054e51c : MOV EDI,EBX
0054e51e : JMP 0x0054e7f9
0054e523 : MOV EAX,dword ptr [ESI + 0x18]
0054e526 : PUSH 0x0
0054e528 : PUSH 0x1
0054e52a : PUSH 0x0
0054e52c : LEA ECX,[ESP + 0x44]
0054e530 : PUSH ECX
0054e531 : LEA EDX,[ESP + 0x2c]
0054e535 : PUSH EDX
0054e536 : PUSH EAX
0054e537 : MOV ECX,ESI
0054e539 : CALL 0x0054cf80
0054e53e : TEST AL,AL
0054e540 : JZ 0x0054e7f9
0054e546 : MOV EDX,dword ptr [ESP + 0x38]
0054e54a : TEST EDX,EDX
0054e54c : JBE 0x0054e45e
0054e552 : FLDZ
0054e554 : FCOMP float ptr [ESI + 0x48]
0054e557 : FNSTSW AX
0054e559 : TEST AH,0x41
0054e55c : JNZ 0x0054e564
0054e55e : FLD float ptr [ESP + 0x1c]
0054e562 : JMP 0x0054e567
0054e564 : FLD float ptr [ESI + 0x48]
0054e567 : MOV ECX,dword ptr [ESI + 0x8]
0054e56a : FSTP float ptr [ESP + 0x18]
0054e56e : FLD float ptr [ESP + 0x18]
0054e572 : PUSH ECX
0054e573 : DEC EDX
0054e574 : FSTP float ptr [ESP]
0054e577 : PUSH EDX
0054e578 : CALL 0x0054af50
0054e57d : JMP 0x0054e7f7
0054e582 : FLDZ
0054e584 : MOV CL,byte ptr [ESI + 0x68]
0054e587 : FST float ptr [ESP + 0x1c]
0054e58b : SHR CL,0x6
0054e58e : FST float ptr [ESP + 0x20]
0054e592 : FST float ptr [ESP + 0x24]
0054e596 : FSTP float ptr [ESP + 0x28]
0054e59a : TEST CL,0x1
0054e59d : JNZ 0x0054e5b4
0054e59f : MOV EAX,dword ptr [ESP + 0x14]
0054e5a3 : CMP EAX,EBX
0054e5a5 : JZ 0x0054e5b4
0054e5a7 : JNC 0x0054e7f7
0054e5ad : MOV EDI,EBX
0054e5af : JMP 0x0054e7f9
0054e5b4 : MOV ECX,dword ptr [ESI + 0x18]
0054e5b7 : PUSH 0x0
0054e5b9 : PUSH 0x1
0054e5bb : PUSH 0x0
0054e5bd : LEA EDX,[ESP + 0x44]
0054e5c1 : PUSH EDX
0054e5c2 : LEA EAX,[ESP + 0x2c]
0054e5c6 : PUSH EAX
0054e5c7 : PUSH ECX
0054e5c8 : MOV ECX,ESI
0054e5ca : CALL 0x0054cf80
0054e5cf : TEST AL,AL
0054e5d1 : JZ 0x0054e7f9
0054e5d7 : MOV EDI,dword ptr [ESP + 0x38]
0054e5db : MOV ECX,dword ptr [ESI + 0x8]
0054e5de : INC EDI
0054e5df : CALL 0x0054ad10
0054e5e4 : CMP EDI,EAX
0054e5e6 : JNC 0x0054e4eb
0054e5ec : FLDZ
0054e5ee : FCOMP float ptr [ESI + 0x48]
0054e5f1 : FNSTSW AX
0054e5f3 : TEST AH,0x41
0054e5f6 : JNZ 0x0054e5fe
0054e5f8 : FLD float ptr [ESP + 0x1c]
0054e5fc : JMP 0x0054e601
0054e5fe : FLD float ptr [ESI + 0x48]
0054e601 : FSTP float ptr [ESP + 0x18]
0054e605 : MOV ECX,dword ptr [ESI + 0x8]
0054e608 : FLD float ptr [ESP + 0x18]
0054e60c : PUSH ECX
0054e60d : FSTP float ptr [ESP]
0054e610 : PUSH EDI
0054e611 : CALL 0x0054af50
0054e616 : JMP 0x0054e7f7
0054e61b : TEST byte ptr [ESI + 0x68],0x1
0054e61f : JNZ 0x0054e7f9
0054e625 : MOV ECX,dword ptr [ESI + 0x8]
0054e628 : CMP EBX,dword ptr [ESP + 0x14]
0054e62c : JNZ 0x0054e64a
0054e62e : LEA EDX,[ESP + 0x34]
0054e632 : PUSH EDX
0054e633 : PUSH 0x8
0054e635 : MOV dword ptr [ESP + 0x3c],EDI
0054e639 : CALL 0x00546e40
0054e63e : SUB EDI,EAX
0054e640 : MOV byte ptr [ESP + 0x34],0x1
0054e645 : JMP 0x0054e7f9
0054e64a : LEA EAX,[ESP + 0x1c]
0054e64e : PUSH EAX
0054e64f : MOV EDI,dword ptr [ESP + 0x18]
0054e653 : PUSH 0x4
0054e655 : MOV dword ptr [ESP + 0x28],EDI
0054e659 : MOV dword ptr [ESP + 0x24],EBX
0054e65d : CALL 0x00546e40
0054e662 : CMP EBX,EDI
0054e664 : JNC 0x0054e668
0054e666 : MOV EDI,EBX
0054e668 : MOV byte ptr [ESP + 0x34],0x1
0054e66d : JMP 0x0054e7f9
0054e672 : TEST byte ptr [ESI + 0x68],0x1
0054e676 : JNZ 0x0054e7f9
0054e67c : CMP EBX,dword ptr [ESP + 0x14]
0054e680 : JNZ 0x0054e6a8
0054e682 : CMP dword ptr [ESI + 0x18],EBP
0054e685 : JNC 0x0054e7f9
0054e68b : LEA ECX,[ESP + 0x34]
0054e68f : PUSH ECX
0054e690 : MOV ECX,dword ptr [ESI + 0x8]
0054e693 : PUSH 0x3
0054e695 : MOV dword ptr [ESP + 0x3c],EDI
0054e699 : CALL 0x00546e40
0054e69e : MOV byte ptr [ESP + 0x34],0x1
0054e6a3 : JMP 0x0054e7f9
0054e6a8 : MOV ECX,dword ptr [ESI + 0x8]
0054e6ab : LEA EDX,[ESP + 0x1c]
0054e6af : PUSH EDX
0054e6b0 : JMP 0x0054e64f
0054e6b2 : TEST byte ptr [ESI + 0x68],0x1
0054e6b6 : JNZ 0x0054e7f9
0054e6bc : MOV ECX,dword ptr [ESI + 0x8]
0054e6bf : TEST byte ptr [ECX + 0x141],0x4
0054e6c6 : JZ 0x0054e7f9
0054e6cc : MOV EAX,0xffbf
0054e6d1 : AND word ptr [ESI + 0x68],AX
0054e6d5 : MOV EDX,dword ptr [ECX + 0xc]
0054e6d8 : MOV AL,byte ptr [EDX + 0x20]
0054e6db : AND AL,0x2
0054e6dd : CMP EBX,dword ptr [ESP + 0x14]
0054e6e1 : JNZ 0x0054e715
0054e6e3 : NEG AL
0054e6e5 : SBB AL,AL
0054e6e7 : AND AL,0x3
0054e6e9 : ADD AL,0xa
0054e6eb : MOVZX DX,AL
0054e6ef : MOVZX EAX,DX
0054e6f2 : MOV EDX,dword ptr [ESI + 0x18]
0054e6f5 : MOV word ptr [ESP + 0x20],AX
0054e6fa : LEA EAX,[ESP + 0x1c]
0054e6fe : PUSH EAX
0054e6ff : PUSH 0x0
0054e701 : MOV dword ptr [ESP + 0x24],EDX
0054e705 : CALL 0x00546e40
0054e70a : INC EDI
0054e70b : MOV byte ptr [ESP + 0x34],0x1
0054e710 : JMP 0x0054e7f9
0054e715 : MOV EDI,dword ptr [ESP + 0x14]
0054e719 : NEG AL
0054e71b : SBB AL,AL
0054e71d : AND AL,0x3
0054e71f : ADD AL,0xa
0054e721 : MOVZX DX,AL
0054e725 : MOVZX EAX,DX
0054e728 : MOV word ptr [ESP + 0x24],AX
0054e72d : LEA EAX,[ESP + 0x1c]
0054e731 : PUSH EAX
0054e732 : PUSH 0x5
0054e734 : MOV dword ptr [ESP + 0x24],EBX
0054e738 : MOV dword ptr [ESP + 0x28],EDI
0054e73c : CALL 0x00546e40
0054e741 : CMP EBX,EDI
0054e743 : JNC 0x0054e747
0054e745 : MOV EDI,EBX
0054e747 : INC EDI
0054e748 : MOV byte ptr [ESP + 0x34],0x1
0054e74d : JMP 0x0054e7f9
0054e752 : PUSH EBP
0054e753 : MOV ECX,ESI
0054e755 : CALL 0x0054dda0
0054e75a : MOV ECX,dword ptr [ESI + 0x8]
0054e75d : PUSH EBP
0054e75e : PUSH 0x0
0054e760 : CALL 0x00546be0
0054e765 : JMP 0x0054e870
0054e76a : CMP dword ptr [ESI + 0xc],0x0
0054e76e : JZ 0x0054e7f9
0054e774 : TEST byte ptr [ESI + 0x68],0x1
0054e778 : JNZ 0x0054e7a7
0054e77a : CMP EAX,0x13
0054e77d : JZ 0x0054e7a7
0054e77f : MOV EDI,dword ptr [ESP + 0x14]
0054e783 : MOV ECX,0xffbf
0054e788 : AND word ptr [ESI + 0x68],CX
0054e78c : MOVZX EAX,word ptr [ESI + 0x68]
0054e790 : SHR AL,0x2
0054e793 : AND AL,0x1
0054e795 : MOVZX EDX,AL
0054e798 : PUSH EDX
0054e799 : PUSH EDI
0054e79a : PUSH EBX
0054e79b : MOV ECX,ESI
0054e79d : CALL 0x0054c5a0
0054e7a2 : JMP 0x0054e662
0054e7a7 : MOV EDX,dword ptr [ESP + 0x14]
0054e7ab : MOV EAX,0xffbf
0054e7b0 : AND word ptr [ESI + 0x68],AX
0054e7b4 : MOVZX EAX,word ptr [ESI + 0x68]
0054e7b8 : SHR AL,0x2
0054e7bb : AND AL,0x1
0054e7bd : MOVZX ECX,AL
0054e7c0 : PUSH ECX
0054e7c1 : PUSH EDX
0054e7c2 : PUSH EBX
0054e7c3 : MOV ECX,ESI
0054e7c5 : CALL 0x0054c4c0
0054e7ca : JMP 0x0054e870
0054e7cf : MOV AL,byte ptr [ESI + 0x68]
0054e7d2 : MOV EDX,dword ptr [ESP + 0x14]
0054e7d6 : SHR AL,0x2
0054e7d9 : AND AL,0x1
0054e7db : MOV byte ptr [ESP + 0x38],AL
0054e7df : MOV ECX,dword ptr [ESP + 0x38]
0054e7e3 : PUSH ECX
0054e7e4 : PUSH EDX
0054e7e5 : PUSH EBX
0054e7e6 : MOV ECX,ESI
0054e7e8 : CALL 0x0054c600
0054e7ed : CMP EAX,-0x1
0054e7f0 : JZ 0x0054e7f9
0054e7f2 : MOV byte ptr [ESP + 0x34],0x1
0054e7f7 : MOV EDI,EAX
0054e7f9 : CMP dword ptr [ESI + 0x18],EDI
0054e7fc : JZ 0x0054e81a
0054e7fe : MOV AL,byte ptr [ESI + 0x68]
0054e801 : SHR AL,0x1
0054e803 : AND AL,0x1
0054e805 : MOVZX ECX,AL
0054e808 : PUSH ECX
0054e809 : PUSH EDI
0054e80a : MOV ECX,ESI
0054e80c : CALL 0x0054d5a0
0054e811 : FLD float ptr [ESP + 0x18]
0054e815 : FSTP float ptr [ESI + 0x48]
0054e818 : JMP 0x0054e83e
0054e81a : MOVZX EAX,word ptr [ESI + 0x68]
0054e81e : MOV DL,AL
0054e820 : SHR DL,0x6
0054e823 : TEST DL,0x1
0054e826 : JNZ 0x0054e843
0054e828 : CMP EBX,dword ptr [ESP + 0x14]
0054e82c : JZ 0x0054e843
0054e82e : SHR AL,0x1
0054e830 : AND AL,0x1
0054e832 : MOVZX EAX,AL
0054e835 : PUSH EAX
0054e836 : PUSH EDI
0054e837 : MOV ECX,ESI
0054e839 : CALL 0x0054d5a0
0054e83e : MOV byte ptr [ESP + 0x12],0x1
0054e843 : CMP byte ptr [ESP + 0x34],0x0
0054e848 : JZ 0x0054e870
0054e84a : CMP byte ptr [ESP + 0x12],0x0
0054e84f : JNZ 0x0054e85d
0054e851 : MOV ECX,dword ptr [ESI + 0x18]
0054e854 : PUSH ECX
0054e855 : MOV ECX,dword ptr [ESI + 0x8]
0054e858 : CALL 0x00545100
0054e85d : MOV EDX,dword ptr [ESP + 0x2c]
0054e861 : MOV ECX,dword ptr [EDX + 0x14]
0054e864 : TEST ECX,ECX
0054e866 : JZ 0x0054e870
0054e868 : MOV EAX,dword ptr [ECX]
0054e86a : MOV EDX,dword ptr [EAX + 0x20]
0054e86d : PUSH ESI
0054e86e : CALL EDX
0054e870 : CMP byte ptr [ESP + 0x13],0x0
0054e875 : JZ 0x0054e87c
0054e877 : OR word ptr [ESI + 0x68],0x40
0054e87c : MOV AL,byte ptr [ESP + 0x12]
0054e880 : POP EDI
0054e881 : POP ESI
0054e882 : POP EBP
0054e883 : POP EBX
0054e884 : ADD ESP,0x20
0054e887 : RET 0x8
