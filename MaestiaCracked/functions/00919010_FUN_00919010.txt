PROGRAM  : Maestia.exe
FUNCTION : FUN_00919010
ENTRY    : 00919010
BODY     : [[00919010, 0091916f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00919010(int param_1,int param_2)

{
  short sVar1;
  int iVar2;
  short *psVar3;
  int iVar4;
  undefined1 local_20 [8];
  undefined4 local_18;
  undefined4 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar2 = param_2;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1f0ef;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(int *)(param_2 + 4) == 0) {
    iVar4 = FUN_00918060(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  }
  else {
    param_2 = *(int *)(param_2 + 4);
    FUN_004437f0(&param_2);
    if (local_14 == (undefined4 *)*(int *)(param_1 + 0x8c)) {
      iVar4 = 0;
    }
    else {
      iVar4 = *(int *)((int)local_14 + 0x10);
    }
  }
  if (iVar4 != 0) {
    *(undefined1 *)(iVar4 + 0x24) = *(undefined1 *)(iVar2 + 8);
    *(undefined1 *)(iVar4 + 0x25) = *(undefined1 *)(iVar2 + 9);
    psVar3 = (short *)(iVar2 + 0xe);
    do {
      sVar1 = *psVar3;
      psVar3 = psVar3 + 1;
    } while (sVar1 != 0);
    FUN_00406360((short *)(iVar2 + 0xe),(int)psVar3 - (iVar2 + 0x10) >> 1);
    *(undefined4 *)(iVar4 + 4) = *(undefined4 *)(iVar2 + 10);
    ExceptionList = local_10;
    return;
  }
  param_2 = FUN_006f0760(0x2c,".\\Gui\\AvaGuiRvREvent.cpp",0x42e,0);
  local_8 = 0;
  if (param_2 == 0) {
    local_14 = (undefined4 *)0x0;
  }
  else {
    local_14 = (undefined4 *)FUN_004293d0(param_2);
  }
  local_8 = 0xffffffff;
  *(undefined1 *)((int)local_14 + 0x26) = 1;
  *local_14 = *(undefined4 *)(iVar2 + 4);
  *(undefined1 *)(local_14 + 9) = *(undefined1 *)(iVar2 + 8);
  *(undefined1 *)((int)local_14 + 0x25) = *(undefined1 *)(iVar2 + 9);
  psVar3 = (short *)(iVar2 + 0xe);
  do {
    sVar1 = *psVar3;
    psVar3 = psVar3 + 1;
  } while (sVar1 != 0);
  FUN_00406360((short *)(iVar2 + 0xe),(int)psVar3 - (iVar2 + 0x10) >> 1);
  local_18 = *local_14;
  local_14[1] = *(undefined4 *)(iVar2 + 10);
  FUN_00429740(local_20,&local_18);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00919010 : PUSH EBP
00919011 : MOV EBP,ESP
00919013 : PUSH -0x1
00919015 : PUSH 0xb1f0ef
0091901a : MOV EAX,FS:[0x0]
00919020 : PUSH EAX
00919021 : SUB ESP,0x14
00919024 : PUSH EBX
00919025 : PUSH ESI
00919026 : PUSH EDI
00919027 : MOV EAX,[0x00d66fa0]
0091902c : XOR EAX,EBP
0091902e : PUSH EAX
0091902f : LEA EAX,[EBP + -0xc]
00919032 : MOV FS:[0x0],EAX
00919038 : MOV EBX,dword ptr [EBP + 0xc]
0091903b : MOV EAX,dword ptr [EBX + 0x4]
0091903e : TEST EAX,EAX
00919040 : JZ 0x00919070
00919042 : MOV ESI,dword ptr [EBP + 0x8]
00919045 : MOV dword ptr [EBP + 0xc],EAX
00919048 : LEA EAX,[EBP + 0xc]
0091904b : PUSH EAX
0091904c : LEA ECX,[ESI + 0x88]
00919052 : LEA EAX,[EBP + -0x10]
00919055 : CALL 0x004437f0
0091905a : MOV EAX,dword ptr [ESI + 0x8c]
00919060 : MOV ECX,dword ptr [EBP + -0x10]
00919063 : CMP ECX,EAX
00919065 : JZ 0x0091906c
00919067 : MOV ESI,dword ptr [ECX + 0x10]
0091906a : JMP 0x0091907d
0091906c : XOR ESI,ESI
0091906e : JMP 0x0091907d
00919070 : MOV EDI,dword ptr [EBX + 0xa]
00919073 : MOV EAX,dword ptr [EBP + 0x8]
00919076 : CALL 0x00918060
0091907b : MOV ESI,EAX
0091907d : TEST ESI,ESI
0091907f : JZ 0x009190c8
00919081 : MOV CL,byte ptr [EBX + 0x8]
00919084 : MOV byte ptr [ESI + 0x24],CL
00919087 : MOV DL,byte ptr [EBX + 0x9]
0091908a : MOV byte ptr [ESI + 0x25],DL
0091908d : LEA EDX,[EBX + 0xe]
00919090 : MOV EAX,EDX
00919092 : LEA EDI,[EAX + 0x2]
00919095 : MOV CX,word ptr [EAX]
00919098 : ADD EAX,0x2
0091909b : TEST CX,CX
0091909e : JNZ 0x00919095
009190a0 : SUB EAX,EDI
009190a2 : SAR EAX,0x1
009190a4 : PUSH EAX
009190a5 : PUSH EDX
009190a6 : LEA ECX,[ESI + 0x8]
009190a9 : CALL 0x00406360
009190ae : MOV EAX,dword ptr [EBX + 0xa]
009190b1 : MOV dword ptr [ESI + 0x4],EAX
009190b4 : MOV ECX,dword ptr [EBP + -0xc]
009190b7 : MOV dword ptr FS:[0x0],ECX
009190be : POP ECX
009190bf : POP EDI
009190c0 : POP ESI
009190c1 : POP EBX
009190c2 : MOV ESP,EBP
009190c4 : POP EBP
009190c5 : RET 0x8
009190c8 : PUSH 0x0
009190ca : PUSH 0x42e
009190cf : PUSH 0xc67fe0
009190d4 : PUSH 0x2c
009190d6 : CALL 0x006f0760
009190db : ADD ESP,0x10
009190de : MOV dword ptr [EBP + 0xc],EAX
009190e1 : MOV dword ptr [EBP + -0x4],0x0
009190e8 : TEST EAX,EAX
009190ea : JZ 0x009190f6
009190ec : PUSH EAX
009190ed : CALL 0x004293d0
009190f2 : MOV ESI,EAX
009190f4 : JMP 0x009190f8
009190f6 : XOR ESI,ESI
009190f8 : MOV dword ptr [EBP + -0x4],0xffffffff
009190ff : MOV byte ptr [ESI + 0x26],0x1
00919103 : MOV ECX,dword ptr [EBX + 0x4]
00919106 : MOV dword ptr [ESI],ECX
00919108 : MOV DL,byte ptr [EBX + 0x8]
0091910b : MOV byte ptr [ESI + 0x24],DL
0091910e : MOV AL,byte ptr [EBX + 0x9]
00919111 : LEA EDX,[EBX + 0xe]
00919114 : MOV byte ptr [ESI + 0x25],AL
00919117 : MOV EAX,EDX
00919119 : LEA EDI,[EAX + 0x2]
0091911c : LEA ESP,[ESP]
00919120 : MOV CX,word ptr [EAX]
00919123 : ADD EAX,0x2
00919126 : TEST CX,CX
00919129 : JNZ 0x00919120
0091912b : SUB EAX,EDI
0091912d : SAR EAX,0x1
0091912f : PUSH EAX
00919130 : PUSH EDX
00919131 : LEA ECX,[ESI + 0x8]
00919134 : CALL 0x00406360
00919139 : MOV ECX,dword ptr [EBX + 0xa]
0091913c : MOV EDX,dword ptr [ESI]
0091913e : LEA EAX,[EBP + -0x14]
00919141 : PUSH EAX
00919142 : MOV EAX,dword ptr [EBP + 0x8]
00919145 : MOV dword ptr [ESI + 0x4],ECX
00919148 : LEA ECX,[EBP + -0x1c]
0091914b : PUSH ECX
0091914c : ADD EAX,0x88
00919151 : MOV dword ptr [EBP + -0x14],EDX
00919154 : MOV dword ptr [EBP + -0x10],ESI
00919157 : CALL 0x00429740
0091915c : MOV ECX,dword ptr [EBP + -0xc]
0091915f : MOV dword ptr FS:[0x0],ECX
00919166 : POP ECX
00919167 : POP EDI
00919168 : POP ESI
00919169 : POP EBX
0091916a : MOV ESP,EBP
0091916c : POP EBP
0091916d : RET 0x8
