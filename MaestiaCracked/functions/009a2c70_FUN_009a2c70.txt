PROGRAM  : Maestia.exe
FUNCTION : FUN_009a2c70
ENTRY    : 009a2c70
BODY     : [[009a2c70, 009a2e0f]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x009a2dd6) */

void FUN_009a2c70(uint param_1,undefined4 param_2)

{
  int *piVar1;
  undefined2 uVar2;
  uint uVar3;
  int iVar4;
  int *in_ECX;
  uint uVar5;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4e492;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  uVar5 = uVar3;
  FUN_009079c0(param_1,param_2);
  iVar4 = (**(code **)(*in_ECX + 0x98))(param_1,uVar5);
  if (iVar4 != 0) {
    local_8 = 0;
    iVar4 = (**(code **)(*in_ECX + 0x98))(param_1);
    if (iVar4 != 0) {
      FUN_009a1370(1);
    }
    if ((((*(int *)(DAT_0172491c + 0x17c) != 0) &&
         (*(char *)(*(int *)(DAT_0172491c + 0x17c) + 0x1fdd) == '\0')) &&
        (iVar4 = *DAT_00da9894, iVar4 != 0)) && (*(int *)(iVar4 + 0x114) != 0)) {
      piVar1 = *(int **)(iVar4 + 0x114);
      iVar4 = *piVar1;
      uVar2 = FUN_009a01c0();
      (**(code **)(iVar4 + 4))(piVar1,"DeleteCharEquip",&DAT_00c891f8,uVar2);
    }
    FUN_009a0750();
    if ((*(int *)(*DAT_00da9894 + 0x1f0) != 0) &&
       (iVar4 = *(int *)(*DAT_00da9894 + 0x1f0), *(char *)(iVar4 + 0x32) != '\0')) {
      FUN_008c9710(iVar4,1);
    }
    if ((ushort)((short)param_1 - 0xeU) < 6) {
      if (DAT_00da93ec != 0) {
        FUN_00a1c440(1);
      }
      *(undefined1 *)(in_ECX + (param_1 & 0xffff) * 0x1a + -0x137) = 0;
    }
    if (DAT_017247f0 != 0) {
      FUN_009f3180(2,*(undefined4 *)(*(int *)(DAT_0172491c + 0x17c) + 0xa8),1);
    }
    local_8 = 0xffffffff;
  }
  ExceptionList = local_10;
  __security_check_cookie(uVar3 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009a2c70 : PUSH EBP
009a2c71 : MOV EBP,ESP
009a2c73 : PUSH -0x1
009a2c75 : PUSH 0xb4e492
009a2c7a : MOV EAX,FS:[0x0]
009a2c80 : PUSH EAX
009a2c81 : SUB ESP,0x24
009a2c84 : MOV EAX,[0x00d66fa0]
009a2c89 : XOR EAX,EBP
009a2c8b : MOV dword ptr [EBP + -0x10],EAX
009a2c8e : PUSH EBX
009a2c8f : PUSH ESI
009a2c90 : PUSH EDI
009a2c91 : PUSH EAX
009a2c92 : LEA EAX,[EBP + -0xc]
009a2c95 : MOV FS:[0x0],EAX
009a2c9b : MOV EAX,dword ptr [EBP + 0xc]
009a2c9e : MOV EBX,dword ptr [EBP + 0x8]
009a2ca1 : PUSH EAX
009a2ca2 : PUSH EBX
009a2ca3 : MOV EDI,ECX
009a2ca5 : CALL 0x009079c0
009a2caa : MOV EDX,dword ptr [EDI]
009a2cac : MOV EAX,dword ptr [EDX + 0x98]
009a2cb2 : PUSH EBX
009a2cb3 : MOV ECX,EDI
009a2cb5 : CALL EAX
009a2cb7 : XOR ESI,ESI
009a2cb9 : CMP EAX,ESI
009a2cbb : JZ 0x009a2df2
009a2cc1 : XOR ECX,ECX
009a2cc3 : MOV dword ptr [EBP + -0x14],0x7
009a2cca : MOV dword ptr [EBP + -0x18],ESI
009a2ccd : MOV word ptr [EBP + -0x28],CX
009a2cd1 : MOV dword ptr [EBP + -0x4],ESI
009a2cd4 : MOV EDX,dword ptr [EDI]
009a2cd6 : MOV EAX,dword ptr [EDX + 0x98]
009a2cdc : PUSH EBX
009a2cdd : MOV ECX,EDI
009a2cdf : CALL EAX
009a2ce1 : CMP EAX,ESI
009a2ce3 : JZ 0x009a2cf1
009a2ce5 : PUSH 0x1
009a2ce7 : MOV ESI,EAX
009a2ce9 : LEA ECX,[EBP + -0x2c]
009a2cec : CALL 0x009a1370
009a2cf1 : MOV ECX,dword ptr [0x0172491c]
009a2cf7 : MOV EAX,dword ptr [ECX + 0x17c]
009a2cfd : TEST EAX,EAX
009a2cff : JZ 0x009a2d4b
009a2d01 : CMP byte ptr [EAX + 0x1fdd],0x0
009a2d08 : JNZ 0x009a2d4b
009a2d0a : MOV EDX,dword ptr [0x00da9894]
009a2d10 : MOV EAX,dword ptr [EDX]
009a2d12 : TEST EAX,EAX
009a2d14 : JZ 0x009a2d4b
009a2d16 : CMP dword ptr [EAX + 0x114],0x0
009a2d1d : JZ 0x009a2d4b
009a2d1f : MOV EAX,dword ptr [EAX + 0x114]
009a2d25 : MOV ESI,dword ptr [EAX]
009a2d27 : MOV ECX,EBX
009a2d29 : MOV dword ptr [EBP + -0x30],EAX
009a2d2c : CALL 0x009a01c0
009a2d31 : MOV ECX,dword ptr [EBP + -0x30]
009a2d34 : MOV EDX,dword ptr [ESI + 0x4]
009a2d37 : MOVZX EAX,AX
009a2d3a : PUSH EAX
009a2d3b : PUSH 0xc891f8
009a2d40 : PUSH 0xc891fc
009a2d45 : PUSH ECX
009a2d46 : CALL EDX
009a2d48 : ADD ESP,0x10
009a2d4b : MOV ESI,EDI
009a2d4d : CALL 0x009a0750
009a2d52 : MOV EAX,[0x00da9894]
009a2d57 : MOV EAX,dword ptr [EAX]
009a2d59 : CMP dword ptr [EAX + 0x1f0],0x0
009a2d60 : JZ 0x009a2d78
009a2d62 : MOV ECX,dword ptr [EAX + 0x1f0]
009a2d68 : CMP byte ptr [ECX + 0x32],0x0
009a2d6c : JZ 0x009a2d78
009a2d6e : MOV EAX,ECX
009a2d70 : PUSH 0x1
009a2d72 : PUSH EAX
009a2d73 : CALL 0x008c9710
009a2d78 : LEA ECX,[EBX + -0xe]
009a2d7b : CMP CX,0x5
009a2d7f : JA 0x009a2da4
009a2d81 : MOV EAX,[0x00da93ec]
009a2d86 : TEST EAX,EAX
009a2d88 : JZ 0x009a2d96
009a2d8a : PUSH 0x1
009a2d8c : MOV ECX,0x1
009a2d91 : CALL 0x00a1c440
009a2d96 : MOVZX EDX,BX
009a2d99 : IMUL EDX,EDX,0x68
009a2d9c : MOV byte ptr [EDX + EDI*0x1 + 0xfffffb24],0x0
009a2da4 : MOV ECX,dword ptr [0x017247f0]
009a2daa : TEST ECX,ECX
009a2dac : JZ 0x009a2dc9
009a2dae : MOV EAX,[0x0172491c]
009a2db3 : MOV EAX,dword ptr [EAX + 0x17c]
009a2db9 : MOV EAX,dword ptr [EAX + 0xa8]
009a2dbf : PUSH 0x1
009a2dc1 : PUSH EAX
009a2dc2 : PUSH 0x2
009a2dc4 : CALL 0x009f3180
009a2dc9 : MOV dword ptr [EBP + -0x4],0xffffffff
009a2dd0 : CMP dword ptr [EBP + -0x14],0x8
009a2dd4 : JC 0x009a2dde
009a2dd6 : MOV ECX,dword ptr [EBP + -0x28]
009a2dd9 : CALL 0x006f04e0
009a2dde : XOR ECX,ECX
009a2de0 : MOV dword ptr [EBP + -0x14],0x7
009a2de7 : MOV dword ptr [EBP + -0x18],0x0
009a2dee : MOV word ptr [EBP + -0x28],CX
009a2df2 : MOV ECX,dword ptr [EBP + -0xc]
009a2df5 : MOV dword ptr FS:[0x0],ECX
009a2dfc : POP ECX
009a2dfd : POP EDI
009a2dfe : POP ESI
009a2dff : POP EBX
009a2e00 : MOV ECX,dword ptr [EBP + -0x10]
009a2e03 : XOR ECX,EBP
009a2e05 : CALL 0x00633e6b
009a2e0a : MOV ESP,EBP
009a2e0c : POP EBP
009a2e0d : RET 0x8
