PROGRAM  : Maestia.exe
FUNCTION : FUN_005006f0
ENTRY    : 005006f0
BODY     : [[005006f0, 00500760]]

============================================================
DECOMPILED C CODE
============================================================

undefined1 FUN_005006f0(int param_1,char *param_2,undefined4 param_3,undefined4 param_4)

{
  char cVar1;
  undefined4 uVar2;
  undefined1 uVar3;
  char *pcVar4;
  int *in_ECX;
  int unaff_ESI;
  
  uVar2 = param_1;
  pcVar4 = param_2;
  do {
    cVar1 = *pcVar4;
    pcVar4 = pcVar4 + 1;
  } while (cVar1 != '\0');
  param_1 = FUN_00525380(param_2,(int)pcVar4 - (int)(param_2 + 1),0);
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 1;
  uVar3 = (**(code **)(*in_ECX + 0x28))(uVar2,&param_1,param_3,param_4);
  *(int *)(unaff_ESI + 8) = *(int *)(unaff_ESI + 8) + -1;
  if (*(int *)(unaff_ESI + 8) == 0) {
    FUN_00525340();
  }
  return uVar3;
}



============================================================
DISASSEMBLY
============================================================
005006f0 : PUSH EBX
005006f1 : PUSH EBP
005006f2 : MOV EBP,dword ptr [ESP + 0x10]
005006f6 : PUSH ESI
005006f7 : PUSH EDI
005006f8 : MOV EDI,dword ptr [ESP + 0x14]
005006fc : MOV ESI,ECX
005006fe : MOV ECX,dword ptr [EDI]
00500700 : MOV EAX,EBP
00500702 : ADD ECX,0x8
00500705 : LEA EDX,[EAX + 0x1]
00500708 : MOV BL,byte ptr [EAX]
0050070a : INC EAX
0050070b : TEST BL,BL
0050070d : JNZ 0x00500708
0050070f : PUSH 0x0
00500711 : SUB EAX,EDX
00500713 : PUSH EAX
00500714 : PUSH EBP
00500715 : ADD ECX,0x24c
0050071b : CALL 0x00525380
00500720 : MOV ECX,dword ptr [ESP + 0x20]
00500724 : MOV EDX,dword ptr [ESP + 0x1c]
00500728 : PUSH ECX
00500729 : PUSH EDX
0050072a : MOV dword ptr [ESP + 0x1c],EAX
0050072e : INC dword ptr [EAX + 0x8]
00500731 : MOV EAX,dword ptr [ESI]
00500733 : MOV EDX,dword ptr [EAX + 0x28]
00500736 : LEA ECX,[ESP + 0x1c]
0050073a : PUSH ECX
0050073b : PUSH EDI
0050073c : MOV ECX,ESI
0050073e : CALL EDX
00500740 : MOV BL,AL
00500742 : MOV EAX,dword ptr [ESP + 0x14]
00500746 : DEC dword ptr [EAX + 0x8]
00500749 : MOV ECX,EAX
0050074b : ADD EAX,0x8
0050074e : CMP dword ptr [EAX],0x0
00500751 : JNZ 0x00500758
00500753 : CALL 0x00525340
00500758 : POP EDI
00500759 : POP ESI
0050075a : POP EBP
0050075b : MOV AL,BL
0050075d : POP EBX
0050075e : RET 0x10
