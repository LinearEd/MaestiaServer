PROGRAM  : Maestia.exe
FUNCTION : FUN_00575480
ENTRY    : 00575480
BODY     : [[00575480, 00575690]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00575480(undefined4 *param_1)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  int in_ECX;
  int iVar12;
  int *piVar13;
  undefined4 *puVar14;
  
  iVar10 = *(int *)(in_ECX + 0x88);
  fVar1 = *(float *)(in_ECX + 0xa0);
  iVar11 = *(int *)(in_ECX + 0x84);
  iVar7 = *(int *)(in_ECX + 0x8c);
  fVar2 = *(float *)(in_ECX + 0xa4);
  iVar8 = *(int *)(in_ECX + 0x80);
  *(uint *)(in_ECX + 0xb00) = *(uint *)(in_ECX + 0xb00) | 1;
  puVar14 = (undefined4 *)(in_ECX + 0x78);
  for (iVar12 = 0xd; iVar12 != 0; iVar12 = iVar12 + -1) {
    *puVar14 = *param_1;
    param_1 = param_1 + 1;
    puVar14 = puVar14 + 1;
  }
  fVar3 = *(float *)(in_ECX + 200);
  fVar4 = *(float *)(in_ECX + 0xcc);
  fVar5 = *(float *)(in_ECX + 0xd0);
  fVar6 = *(float *)(in_ECX + 0xd4);
  FUN_0056c720();
  if (((((((*(float *)(in_ECX + 200) != fVar3) || (*(float *)(in_ECX + 0xd0) != fVar5)) ||
         (*(float *)(in_ECX + 0xcc) != fVar4)) || (*(float *)(in_ECX + 0xd4) != fVar6)) ||
       ((*(int *)(in_ECX + 0xc0) == 0 &&
        ((((iVar10 != *(int *)(in_ECX + 0x88) || (iVar7 != *(int *)(in_ECX + 0x8c))) ||
          ((iVar8 != *(int *)(in_ECX + 0x80) ||
           ((iVar11 != *(int *)(in_ECX + 0x84) || (*(float *)(in_ECX + 0xa0) != fVar1)))))) ||
         (*(float *)(in_ECX + 0xa4) != fVar2)))))) ||
      ((*(int *)(in_ECX + 0xc0) != 2 &&
       (((iVar10 != *(int *)(in_ECX + 0x88) || (iVar7 != *(int *)(in_ECX + 0x8c))) ||
        (*(float *)(in_ECX + 0xa4) != fVar2)))))) && (uVar9 = 0, *(int *)(in_ECX + 0x60) != 0)) {
    piVar13 = *(int **)(in_ECX + 0x5c);
    while (*piVar13 != 0) {
      uVar9 = uVar9 + 1;
      piVar13 = piVar13 + 2;
      if (*(uint *)(in_ECX + 0x60) <= uVar9) {
        return;
      }
    }
    if (((*(int **)(in_ECX + 0x5c))[uVar9 * 2 + 1] != 0) && (iVar10 = FUN_00571c40(4), iVar10 != 0))
    {
      iVar11 = FUN_0056b260(0);
      *(undefined4 *)(iVar10 + 4) = 4;
      if (iVar11 != 0) {
        *(int *)(iVar11 + 4) = *(int *)(iVar11 + 4) + 1;
      }
      if (*(GRefCountNTSImpl **)(iVar10 + 8) != (GRefCountNTSImpl *)0x0) {
        GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(iVar10 + 8));
      }
      *(int *)(iVar10 + 8) = iVar11;
      if (*(GRefCountNTSImpl **)(iVar10 + 0xc) != (GRefCountNTSImpl *)0x0) {
        GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(iVar10 + 0xc));
      }
      *(undefined4 *)(iVar10 + 0xc) = 0;
      *(code **)(iVar10 + 0x2c) = FUN_005bc910;
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00575480 : SUB ESP,0x24
00575483 : PUSH EBX
00575484 : MOV EBX,ECX
00575486 : MOV ECX,dword ptr [EBX + 0x88]
0057548c : FLD float ptr [EBX + 0xa0]
00575492 : MOV EAX,dword ptr [EBX + 0x84]
00575498 : FSTP float ptr [ESP + 0x14]
0057549c : MOV EDX,dword ptr [EBX + 0x8c]
005754a2 : FLD float ptr [EBX + 0xa4]
005754a8 : PUSH EBP
005754a9 : FSTP float ptr [ESP + 0x10]
005754ad : MOV EBP,dword ptr [EBX + 0x80]
005754b3 : OR dword ptr [EBX + 0xb00],0x1
005754ba : PUSH ESI
005754bb : MOV ESI,dword ptr [ESP + 0x34]
005754bf : MOV dword ptr [ESP + 0xc],ECX
005754c3 : PUSH EDI
005754c4 : LEA EDI,[EBX + 0x78]
005754c7 : MOV ECX,0xd
005754cc : MOVSD.REP ES:EDI,ESI
005754ce : FLD float ptr [EBX + 0xc8]
005754d4 : FSTP float ptr [ESP + 0x24]
005754d8 : FLD float ptr [EBX + 0xcc]
005754de : FSTP float ptr [ESP + 0x28]
005754e2 : FLD float ptr [EBX + 0xd0]
005754e8 : FSTP float ptr [ESP + 0x2c]
005754ec : FLD float ptr [EBX + 0xd4]
005754f2 : FSTP float ptr [ESP + 0x30]
005754f6 : MOV ECX,EBX
005754f8 : MOV dword ptr [ESP + 0x1c],EAX
005754fc : MOV dword ptr [ESP + 0x14],EDX
00575500 : CALL 0x0056c720
00575505 : FLD float ptr [ESP + 0x24]
00575509 : FLD float ptr [EBX + 0xc8]
0057550f : FUCOMPP
00575511 : FNSTSW AX
00575513 : TEST AH,0x44
00575516 : JP 0x005755f7
0057551c : FLD float ptr [ESP + 0x2c]
00575520 : FLD float ptr [EBX + 0xd0]
00575526 : FUCOMPP
00575528 : FNSTSW AX
0057552a : TEST AH,0x44
0057552d : JP 0x005755f7
00575533 : FLD float ptr [ESP + 0x28]
00575537 : FLD float ptr [EBX + 0xcc]
0057553d : FUCOMPP
0057553f : FNSTSW AX
00575541 : TEST AH,0x44
00575544 : JP 0x005755f7
0057554a : FLD float ptr [ESP + 0x30]
0057554e : FLD float ptr [EBX + 0xd4]
00575554 : FUCOMPP
00575556 : FNSTSW AX
00575558 : TEST AH,0x44
0057555b : JP 0x005755f7
00575561 : MOV ECX,dword ptr [EBX + 0xc0]
00575567 : FLD float ptr [ESP + 0x18]
0057556b : TEST ECX,ECX
0057556d : JNZ 0x005755bf
0057556f : MOV EAX,dword ptr [ESP + 0x10]
00575573 : CMP EAX,dword ptr [EBX + 0x88]
00575579 : JNZ 0x005755f5
0057557b : MOV EDX,dword ptr [ESP + 0x14]
0057557f : CMP EDX,dword ptr [EBX + 0x8c]
00575585 : JNZ 0x005755f5
00575587 : CMP EBP,dword ptr [EBX + 0x80]
0057558d : JNZ 0x005755f5
0057558f : MOV EAX,dword ptr [ESP + 0x1c]
00575593 : CMP EAX,dword ptr [EBX + 0x84]
00575599 : JNZ 0x005755f5
0057559b : FLD float ptr [ESP + 0x20]
0057559f : FLD float ptr [EBX + 0xa0]
005755a5 : FUCOMPP
005755a7 : FNSTSW AX
005755a9 : TEST AH,0x44
005755ac : JP 0x005755f5
005755ae : FLD ST0
005755b0 : FLD float ptr [EBX + 0xa4]
005755b6 : FUCOMPP
005755b8 : FNSTSW AX
005755ba : TEST AH,0x44
005755bd : JP 0x005755f5
005755bf : CMP ECX,0x2
005755c2 : JZ 0x00575685
005755c8 : MOV ECX,dword ptr [ESP + 0x10]
005755cc : CMP ECX,dword ptr [EBX + 0x88]
005755d2 : JNZ 0x005755f5
005755d4 : MOV EDX,dword ptr [ESP + 0x14]
005755d8 : CMP EDX,dword ptr [EBX + 0x8c]
005755de : JNZ 0x005755f5
005755e0 : FLD float ptr [EBX + 0xa4]
005755e6 : FUCOMPP
005755e8 : FNSTSW AX
005755ea : TEST AH,0x44
005755ed : JNP 0x00575687
005755f3 : JMP 0x005755f7
005755f5 : FSTP ST0
005755f7 : XOR EAX,EAX
005755f9 : CMP dword ptr [EBX + 0x60],EAX
005755fc : JBE 0x00575687
00575602 : MOV EDX,dword ptr [EBX + 0x5c]
00575605 : MOV ECX,EDX
00575607 : CMP dword ptr [ECX],0x0
0057560a : JZ 0x0057561f
0057560c : INC EAX
0057560d : ADD ECX,0x8
00575610 : CMP EAX,dword ptr [EBX + 0x60]
00575613 : JC 0x00575607
00575615 : POP EDI
00575616 : POP ESI
00575617 : POP EBP
00575618 : POP EBX
00575619 : ADD ESP,0x24
0057561c : RET 0x4
0057561f : CMP dword ptr [EDX + EAX*0x8 + 0x4],0x0
00575624 : JZ 0x00575687
00575626 : PUSH 0x4
00575628 : LEA ECX,[EBX + 0xa2c]
0057562e : CALL 0x00571c40
00575633 : MOV ESI,EAX
00575635 : TEST ESI,ESI
00575637 : JZ 0x00575687
00575639 : PUSH 0x0
0057563b : MOV ECX,EBX
0057563d : CALL 0x0056b260
00575642 : MOV EDI,EAX
00575644 : MOV dword ptr [ESI + 0x4],0x4
0057564b : TEST EDI,EDI
0057564d : JZ 0x00575652
0057564f : INC dword ptr [EDI + 0x4]
00575652 : MOV ECX,dword ptr [ESI + 0x8]
00575655 : TEST ECX,ECX
00575657 : JZ 0x0057565e
00575659 : CALL 0x004ff7c0
0057565e : MOV dword ptr [ESI + 0x8],EDI
00575661 : MOV ECX,dword ptr [ESI + 0xc]
00575664 : TEST ECX,ECX
00575666 : JZ 0x0057566d
00575668 : CALL 0x004ff7c0
0057566d : POP EDI
0057566e : MOV dword ptr [ESI + 0xc],0x0
00575675 : MOV dword ptr [ESI + 0x2c],0x5bc910
0057567c : POP ESI
0057567d : POP EBP
0057567e : POP EBX
0057567f : ADD ESP,0x24
00575682 : RET 0x4
00575685 : FSTP ST0
00575687 : POP EDI
00575688 : POP ESI
00575689 : POP EBP
0057568a : POP EBX
0057568b : ADD ESP,0x24
0057568e : RET 0x4
