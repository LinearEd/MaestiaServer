PROGRAM  : Maestia.exe
FUNCTION : FUN_008787b0
ENTRY    : 008787b0
BODY     : [[008787b0, 0087881f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008787b0(void)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  DWORD DVar4;
  int unaff_EDI;
  
  iVar2 = DAT_017247e4;
  if ((*(int *)(DAT_0172490c + 8) != 0) && (*(int *)(DAT_0172490c + 0x50) != 0)) {
    piVar1 = (int *)(DAT_017247e4 + 4);
    *(undefined1 *)(unaff_EDI + 0x61) = 0;
    *(undefined4 *)(unaff_EDI + 100) = 0;
    if (*piVar1 == 0) {
      DVar4 = timeGetTime();
      *(DWORD *)(iVar2 + 0xc) = DVar4;
      iVar3 = DAT_017251ac;
      *(undefined4 *)(iVar2 + 0x14) = 0;
      *(undefined4 *)(iVar2 + 0x10) = 300;
      *piVar1 = 2;
      *(undefined4 *)(iVar3 + 0x49c) = 0x3f800000;
    }
    *(undefined1 *)(unaff_EDI + 0x68) = 1;
    *(undefined1 *)(unaff_EDI + 0x69) = 0;
    *(undefined4 *)(unaff_EDI + 0x5c) = 4;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
008787b0 : MOV EAX,[0x0172490c]
008787b5 : CMP dword ptr [EAX + 0x8],0x0
008787b9 : JZ 0x0087881f
008787bb : CMP dword ptr [EAX + 0x50],0x0
008787bf : JZ 0x0087881f
008787c1 : PUSH EBX
008787c2 : PUSH ESI
008787c3 : MOV ESI,dword ptr [0x017247e4]
008787c9 : LEA EBX,[ESI + 0x4]
008787cc : MOV byte ptr [EDI + 0x61],0x0
008787d0 : MOV dword ptr [EDI + 0x64],0x0
008787d7 : CMP dword ptr [EBX],0x0
008787da : JNZ 0x0087880e
008787dc : CALL dword ptr [0x00b85598]
008787e2 : MOVSS XMM0,dword ptr [0x00c10fc4]
008787ea : MOV dword ptr [ESI + 0xc],EAX
008787ed : MOV EAX,[0x017251ac]
008787f2 : MOV dword ptr [ESI + 0x14],0x0
008787f9 : MOV dword ptr [ESI + 0x10],0x12c
00878800 : MOV dword ptr [EBX],0x2
00878806 : MOVSS dword ptr [EAX + 0x49c],XMM0
0087880e : POP ESI
0087880f : MOV byte ptr [EDI + 0x68],0x1
00878813 : MOV byte ptr [EDI + 0x69],0x0
00878817 : MOV dword ptr [EDI + 0x5c],0x4
0087881e : POP EBX
0087881f : RET
