PROGRAM  : Maestia.exe
FUNCTION : FUN_007cde90
ENTRY    : 007cde90
BODY     : [[007cde90, 007cdfab]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x007cdf50) */

void FUN_007cde90(void)

{
  int *piVar1;
  uint uVar2;
  int *in_ECX;
  int *piVar3;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b288bb;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (in_ECX[2] != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  local_8 = 0;
  piVar3 = *(int **)in_ECX[0xe];
  if (piVar3 != (int *)in_ECX[0xe]) {
    do {
      piVar1 = (int *)piVar3[9];
      if (piVar1 == (int *)0x0) {
        FUN_008018d0(L"[DeleteAllChildNodes] i->second is NULL ");
      }
      else {
        (**(code **)(*piVar1 + 0x30))(uVar2);
        (**(code **)(*in_ECX + 100))(piVar1);
        if ((int *)piVar3[9] != (int *)0x0) {
          (**(code **)(*(int *)piVar3[9] + 0x18))(1);
          piVar3[9] = 0;
        }
      }
      piVar3 = (int *)*piVar3;
    } while (piVar3 != (int *)in_ECX[0xe]);
  }
  FUN_00458e80(in_ECX + 0xd);
  local_14 = in_ECX[0xe];
  if (in_ECX[0x11] != in_ECX[0x12]) {
    in_ECX[0x12] = in_ECX[0x11];
  }
  FUN_0044f580(in_ECX + 0x10,in_ECX[0x11],&local_14);
  in_ECX[0x14] = 7;
  in_ECX[0x15] = 8;
  local_8 = 0xffffffff;
  if (in_ECX[2] != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007cde90 : PUSH EBP
007cde91 : MOV EBP,ESP
007cde93 : PUSH -0x1
007cde95 : PUSH 0xb288bb
007cde9a : MOV EAX,FS:[0x0]
007cdea0 : PUSH EAX
007cdea1 : SUB ESP,0xc
007cdea4 : PUSH EBX
007cdea5 : PUSH ESI
007cdea6 : PUSH EDI
007cdea7 : MOV EAX,[0x00d66fa0]
007cdeac : XOR EAX,EBP
007cdeae : PUSH EAX
007cdeaf : LEA EAX,[EBP + -0xc]
007cdeb2 : MOV FS:[0x0],EAX
007cdeb8 : MOV EDI,ECX
007cdeba : MOV EAX,dword ptr [EDI + 0x8]
007cdebd : MOV dword ptr [EBP + -0x14],EDI
007cdec0 : TEST EAX,EAX
007cdec2 : JZ 0x007cdece
007cdec4 : ADD EAX,0x4
007cdec7 : PUSH EAX
007cdec8 : CALL dword ptr [0x00b85118]
007cdece : MOV dword ptr [EBP + -0x4],0x0
007cded5 : MOV EAX,dword ptr [EDI + 0x38]
007cded8 : MOV EBX,dword ptr [EAX]
007cdeda : CMP EBX,EAX
007cdedc : JZ 0x007cdf2d
007cdede : MOV EDI,EDI
007cdee0 : MOV ESI,dword ptr [EBX + 0x24]
007cdee3 : TEST ESI,ESI
007cdee5 : JNZ 0x007cdefc
007cdee7 : MOV ESI,dword ptr [0x00da98e8]
007cdeed : PUSH 0xc1ef40
007cdef2 : CALL 0x008018d0
007cdef7 : ADD ESP,0x4
007cdefa : JMP 0x007cdf26
007cdefc : MOV EAX,dword ptr [ESI]
007cdefe : MOV EDX,dword ptr [EAX + 0x30]
007cdf01 : MOV ECX,ESI
007cdf03 : CALL EDX
007cdf05 : MOV EAX,dword ptr [EDI]
007cdf07 : MOV EDX,dword ptr [EAX + 0x64]
007cdf0a : PUSH ESI
007cdf0b : MOV ECX,EDI
007cdf0d : CALL EDX
007cdf0f : MOV ECX,dword ptr [EBX + 0x24]
007cdf12 : TEST ECX,ECX
007cdf14 : JZ 0x007cdf26
007cdf16 : MOV EAX,dword ptr [ECX]
007cdf18 : MOV EDX,dword ptr [EAX + 0x18]
007cdf1b : PUSH 0x1
007cdf1d : CALL EDX
007cdf1f : MOV dword ptr [EBX + 0x24],0x0
007cdf26 : MOV EBX,dword ptr [EBX]
007cdf28 : CMP EBX,dword ptr [EDI + 0x38]
007cdf2b : JNZ 0x007cdee0
007cdf2d : LEA EAX,[EDI + 0x34]
007cdf30 : PUSH EAX
007cdf31 : CALL 0x00458e80
007cdf36 : MOV EAX,dword ptr [EDI + 0x38]
007cdf39 : MOV EDX,dword ptr [EDI + 0x44]
007cdf3c : LEA ESI,[EDI + 0x40]
007cdf3f : MOV dword ptr [EBP + -0x10],EAX
007cdf42 : MOV EAX,dword ptr [ESI + 0x8]
007cdf45 : CMP EDX,EAX
007cdf47 : JZ 0x007cdf61
007cdf49 : MOV ECX,EAX
007cdf4b : CMP EAX,EAX
007cdf4d : JZ 0x007cdf5e
007cdf4f : NOP
007cdf50 : MOV EBX,dword ptr [ECX]
007cdf52 : MOV dword ptr [EDX],EBX
007cdf54 : ADD ECX,0x4
007cdf57 : ADD EDX,0x4
007cdf5a : CMP ECX,EAX
007cdf5c : JNZ 0x007cdf50
007cdf5e : MOV dword ptr [ESI + 0x8],EDX
007cdf61 : MOV EAX,dword ptr [ESI + 0x4]
007cdf64 : LEA ECX,[EBP + -0x10]
007cdf67 : PUSH ECX
007cdf68 : PUSH EAX
007cdf69 : PUSH ESI
007cdf6a : MOV ECX,0x9
007cdf6f : CALL 0x0044f580
007cdf74 : MOV dword ptr [EDI + 0x50],0x7
007cdf7b : MOV dword ptr [EDI + 0x54],0x8
007cdf82 : MOV dword ptr [EBP + -0x4],0xffffffff
007cdf89 : MOV EDI,dword ptr [EDI + 0x8]
007cdf8c : TEST EDI,EDI
007cdf8e : JZ 0x007cdf9a
007cdf90 : ADD EDI,0x4
007cdf93 : PUSH EDI
007cdf94 : CALL dword ptr [0x00b8511c]
007cdf9a : MOV ECX,dword ptr [EBP + -0xc]
007cdf9d : MOV dword ptr FS:[0x0],ECX
007cdfa4 : POP ECX
007cdfa5 : POP EDI
007cdfa6 : POP ESI
007cdfa7 : POP EBX
007cdfa8 : MOV ESP,EBP
007cdfaa : POP EBP
007cdfab : RET
