PROGRAM  : Maestia.exe
FUNCTION : FUN_00757680
ENTRY    : 00757680
BODY     : [[00757680, 007579ef]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00757680(int param_1,int param_2)

{
  float fVar1;
  int in_EAX;
  float *pfVar2;
  int in_ECX;
  int iVar3;
  uint uVar4;
  float *pfVar5;
  int iVar6;
  float fVar7;
  double dVar8;
  float fVar9;
  float fVar10;
  uint local_38;
  int local_34;
  float local_30;
  
  fVar10 = (float)in_EAX;
  if (in_EAX < 0) {
    fVar10 = fVar10 + 4.2949673e+09;
  }
  fVar1 = (float)in_ECX;
  if (in_ECX < 0) {
    fVar1 = fVar1 + 4.2949673e+09;
  }
  fVar7 = 0.0;
  local_30 = 0.0;
  local_34 = 0;
  local_38 = 0xfffffffe;
  do {
    pfVar5 = (float *)(local_34 * 0x10 + param_2);
    uVar4 = 0xfffffffe;
    pfVar2 = (float *)(param_1 + local_34 * 8);
    do {
      if ((int)(((uVar4 ^ (int)uVar4 >> 0x1f) - ((int)uVar4 >> 0x1f)) +
               ((local_38 ^ (int)local_38 >> 0x1f) - ((int)local_38 >> 0x1f))) < 3) {
        fVar7 = (float)(int)local_38;
        fVar9 = (float)(int)uVar4;
        *pfVar2 = fVar7 * (1.0 / fVar10);
        pfVar2[1] = fVar9 * (1.0 / fVar1);
        dVar8 = (double)((fVar7 * fVar7 + fVar9 * fVar9) * -0.5);
        FUN_00b0a982();
        local_34 = local_34 + 1;
        fVar7 = (float)dVar8 * 0.3989423;
        *(ulonglong *)pfVar5 = CONCAT44(fVar7,fVar7);
        *(ulonglong *)(pfVar5 + 2) = CONCAT44(fVar7,fVar7);
        fVar7 = *pfVar5 + local_30;
        pfVar2 = pfVar2 + 2;
        pfVar5 = pfVar5 + 4;
        local_30 = fVar7;
      }
      uVar4 = uVar4 + 1;
    } while ((int)uVar4 < 3);
    local_38 = local_38 + 1;
  } while ((int)local_38 < 3);
  iVar6 = 0;
  if (3 < local_34) {
    iVar3 = (local_34 - 4U >> 2) + 1;
    fVar10 = 1.0 / fVar7;
    iVar6 = iVar3 * 4;
    pfVar2 = (float *)(param_2 + 0x18);
    do {
      pfVar2[-6] = pfVar2[-6] * fVar10;
      pfVar2[-5] = pfVar2[-5] * fVar10;
      pfVar2[-4] = pfVar2[-4] * fVar10;
      pfVar2[-3] = pfVar2[-3] * fVar10;
      pfVar2[-6] = pfVar2[-6];
      pfVar2[-5] = pfVar2[-5];
      pfVar2[-4] = pfVar2[-4];
      pfVar2[-3] = pfVar2[-3];
      pfVar2[-2] = pfVar2[-2] * fVar10;
      pfVar2[-1] = pfVar2[-1] * fVar10;
      *pfVar2 = fVar10 * *pfVar2;
      pfVar2[1] = pfVar2[1] * fVar10;
      pfVar2[-2] = pfVar2[-2];
      pfVar2[-1] = pfVar2[-1];
      *pfVar2 = *pfVar2;
      pfVar2[1] = pfVar2[1];
      pfVar2[2] = fVar10 * pfVar2[2];
      pfVar2[3] = pfVar2[3] * fVar10;
      pfVar2[4] = pfVar2[4] * fVar10;
      pfVar2[5] = pfVar2[5] * fVar10;
      pfVar2[2] = pfVar2[2];
      pfVar2[3] = pfVar2[3];
      pfVar2[4] = pfVar2[4];
      pfVar2[5] = pfVar2[5];
      pfVar2[6] = pfVar2[6] * fVar10;
      pfVar2[7] = pfVar2[7] * fVar10;
      pfVar2[8] = pfVar2[8] * fVar10;
      pfVar2[9] = pfVar2[9] * fVar10;
      pfVar2[6] = pfVar2[6];
      pfVar2[7] = pfVar2[7];
      pfVar2[8] = pfVar2[8];
      pfVar2[9] = pfVar2[9];
      iVar3 = iVar3 + -1;
      pfVar2 = pfVar2 + 0x10;
    } while (iVar3 != 0);
  }
  if (iVar6 < local_34) {
    fVar7 = 1.0 / fVar7;
    local_34 = local_34 - iVar6;
    pfVar2 = (float *)(iVar6 * 0x10 + 8 + param_2);
    do {
      pfVar2[-2] = pfVar2[-2] * fVar7;
      pfVar2[-1] = pfVar2[-1] * fVar7;
      *pfVar2 = *pfVar2 * fVar7;
      pfVar2[1] = fVar7 * pfVar2[1];
      pfVar2[-2] = pfVar2[-2];
      local_34 = local_34 + -1;
      pfVar2[-1] = pfVar2[-1];
      *pfVar2 = *pfVar2;
      pfVar2[1] = pfVar2[1];
      pfVar2 = pfVar2 + 4;
    } while (local_34 != 0);
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00757680 : PUSH EBP
00757681 : MOV EBP,ESP
00757683 : AND ESP,0xfffffff8
00757686 : SUB ESP,0x34
00757689 : PUSH EBX
0075768a : PUSH ESI
0075768b : MOV dword ptr [ESP + 0x20],EAX
0075768f : FILD dword ptr [ESP + 0x20]
00757693 : PUSH EDI
00757694 : TEST EAX,EAX
00757696 : JGE 0x0075769e
00757698 : FADD float ptr [0x00cdf0e0]
0075769e : FLD1
007576a0 : MOV dword ptr [ESP + 0x24],ECX
007576a4 : FLD ST0
007576a6 : FDIVRP ST2,ST0
007576a8 : FXCH
007576aa : FSTP float ptr [ESP + 0x1c]
007576ae : FILD dword ptr [ESP + 0x24]
007576b2 : TEST ECX,ECX
007576b4 : JGE 0x007576bc
007576b6 : FADD float ptr [0x00cdf0e0]
007576bc : FDIVP
007576be : XORPS XMM0,XMM0
007576c1 : MOVSS XMM1,dword ptr [0x00c10fc4]
007576c9 : XOR EDI,EDI
007576cb : MOVSS dword ptr [ESP + 0x18],XMM0
007576d1 : MOV dword ptr [ESP + 0x14],EDI
007576d5 : MOV dword ptr [ESP + 0x10],0xfffffffe
007576dd : FSTP float ptr [ESP + 0x20]
007576e1 : JMP 0x007576e7
007576e3 : MOV EDI,dword ptr [ESP + 0x14]
007576e7 : MOV EAX,dword ptr [ESP + 0x10]
007576eb : CDQ
007576ec : MOV ECX,EAX
007576ee : XOR ECX,EDX
007576f0 : SUB ECX,EDX
007576f2 : MOV EDX,dword ptr [EBP + 0x8]
007576f5 : MOV ESI,EDI
007576f7 : SHL ESI,0x4
007576fa : ADD ESI,dword ptr [EBP + 0xc]
007576fd : MOV EBX,0xfffffffe
00757702 : MOV dword ptr [ESP + 0x24],ECX
00757706 : LEA EDI,[EDX + EDI*0x8]
00757709 : LEA ESP,[ESP]
00757710 : MOV EAX,EBX
00757712 : CDQ
00757713 : XOR EAX,EDX
00757715 : SUB EAX,EDX
00757717 : ADD EAX,ECX
00757719 : CMP EAX,0x2
0075771c : JG 0x007577e8
00757722 : CVTSI2SS XMM0,dword ptr [ESP + 0x10]
00757728 : MOVAPS XMM1,XMM0
0075772b : MULSS XMM1,dword ptr [ESP + 0x1c]
00757731 : MOVSS dword ptr [ESP + 0x28],XMM1
00757737 : MOV EAX,dword ptr [ESP + 0x28]
0075773b : CVTSI2SS XMM1,EBX
0075773f : MOVAPS XMM2,XMM1
00757742 : MULSS XMM2,dword ptr [ESP + 0x20]
00757748 : MOVSS dword ptr [ESP + 0x2c],XMM2
0075774e : MOV ECX,dword ptr [ESP + 0x2c]
00757752 : MOVAPS XMM2,XMM0
00757755 : MULSS XMM2,XMM0
00757759 : MOVAPS XMM0,XMM1
0075775c : MULSS XMM0,XMM1
00757760 : ADDSS XMM2,XMM0
00757764 : MULSS XMM2,dword ptr [0x00cdf160]
0075776c : MOV dword ptr [EDI],EAX
0075776e : MOV dword ptr [EDI + 0x4],ECX
00757771 : CVTSS2SD XMM0,XMM2
00757775 : CALL 0x00b0a982
0075777a : SQRTSD XMM1,qword ptr [0x00cdf3d8]
00757782 : INC dword ptr [ESP + 0x14]
00757786 : MOV ECX,dword ptr [ESP + 0x24]
0075778a : CVTSD2SS XMM0,XMM0
0075778e : CVTSD2SS XMM2,XMM1
00757792 : MOVSS XMM1,dword ptr [0x00c10fc4]
0075779a : MOVAPS XMM3,XMM1
0075779d : DIVSS XMM3,XMM2
007577a1 : MULSS XMM0,XMM3
007577a5 : MOVSS dword ptr [ESP + 0x30],XMM0
007577ab : MOVSS dword ptr [ESP + 0x34],XMM0
007577b1 : MOVSS dword ptr [ESP + 0x38],XMM0
007577b7 : MOVSS dword ptr [ESP + 0x3c],XMM0
007577bd : MOVQ XMM0,qword ptr [ESP + 0x30]
007577c3 : MOVQ qword ptr [ESI],XMM0
007577c7 : MOVQ XMM0,qword ptr [ESP + 0x38]
007577cd : MOVQ qword ptr [ESI + 0x8],XMM0
007577d2 : MOVSS XMM0,dword ptr [ESI]
007577d6 : ADDSS XMM0,dword ptr [ESP + 0x18]
007577dc : ADD EDI,0x8
007577df : MOVSS dword ptr [ESP + 0x18],XMM0
007577e5 : ADD ESI,0x10
007577e8 : INC EBX
007577e9 : CMP EBX,0x2
007577ec : JLE 0x00757710
007577f2 : MOV EAX,dword ptr [ESP + 0x10]
007577f6 : INC EAX
007577f7 : CMP EAX,0x2
007577fa : MOV dword ptr [ESP + 0x10],EAX
007577fe : JLE 0x007576e3
00757804 : MOV EDX,dword ptr [ESP + 0x14]
00757808 : XOR ESI,ESI
0075780a : CMP EDX,0x4
0075780d : JL 0x0075797a
00757813 : MOV EAX,dword ptr [EBP + 0xc]
00757816 : LEA ECX,[EDX + -0x4]
00757819 : SHR ECX,0x2
0075781c : ADD EAX,0x18
0075781f : INC ECX
00757820 : MOVAPS XMM2,XMM1
00757823 : DIVSS XMM2,XMM0
00757827 : LEA ESI,[ECX*0x4 + 0x0]
0075782e : MOV EDI,EDI
00757830 : MOVSS XMM3,dword ptr [EAX + -0x18]
00757835 : MULSS XMM3,XMM2
00757839 : MOVSS dword ptr [EAX + -0x18],XMM3
0075783e : MOVSS XMM3,dword ptr [EAX + -0x14]
00757843 : MULSS XMM3,XMM2
00757847 : MOVSS dword ptr [EAX + -0x14],XMM3
0075784c : MOVSS XMM3,dword ptr [EAX + -0x10]
00757851 : MULSS XMM3,XMM2
00757855 : MOVSS dword ptr [EAX + -0x10],XMM3
0075785a : MOVSS XMM3,dword ptr [EAX + -0xc]
0075785f : MULSS XMM3,XMM2
00757863 : MOVSS dword ptr [EAX + -0xc],XMM3
00757868 : FLD float ptr [EAX + -0x18]
0075786b : FSTP float ptr [EAX + -0x18]
0075786e : ADD EAX,0x40
00757871 : FLD float ptr [EAX + -0x54]
00757874 : FSTP float ptr [EAX + -0x54]
00757877 : FLD float ptr [EAX + -0x50]
0075787a : FSTP float ptr [EAX + -0x50]
0075787d : FLD float ptr [EAX + -0x4c]
00757880 : FSTP float ptr [EAX + -0x4c]
00757883 : MOVSS XMM3,dword ptr [EAX + -0x48]
00757888 : MULSS XMM3,XMM2
0075788c : MOVSS dword ptr [EAX + -0x48],XMM3
00757891 : MOVSS XMM3,dword ptr [EAX + -0x44]
00757896 : MULSS XMM3,XMM2
0075789a : MOVSS dword ptr [EAX + -0x44],XMM3
0075789f : MOVAPS XMM3,XMM2
007578a2 : MULSS XMM3,dword ptr [EAX + -0x40]
007578a7 : MOVSS dword ptr [EAX + -0x40],XMM3
007578ac : MOVSS XMM3,dword ptr [EAX + -0x3c]
007578b1 : MULSS XMM3,XMM2
007578b5 : MOVSS dword ptr [EAX + -0x3c],XMM3
007578ba : FLD float ptr [EAX + -0x48]
007578bd : FSTP float ptr [EAX + -0x48]
007578c0 : MOVAPS XMM3,XMM2
007578c3 : FLD float ptr [EAX + -0x44]
007578c6 : FSTP float ptr [EAX + -0x44]
007578c9 : FLD float ptr [EAX + -0x40]
007578cc : FSTP float ptr [EAX + -0x40]
007578cf : FLD float ptr [EAX + -0x3c]
007578d2 : FSTP float ptr [EAX + -0x3c]
007578d5 : MULSS XMM3,dword ptr [EAX + -0x38]
007578da : MOVSS dword ptr [EAX + -0x38],XMM3
007578df : MOVSS XMM3,dword ptr [EAX + -0x34]
007578e4 : MULSS XMM3,XMM2
007578e8 : MOVSS dword ptr [EAX + -0x34],XMM3
007578ed : MOVSS XMM3,dword ptr [EAX + -0x30]
007578f2 : MULSS XMM3,XMM2
007578f6 : MOVSS dword ptr [EAX + -0x30],XMM3
007578fb : MOVSS XMM3,dword ptr [EAX + -0x2c]
00757900 : MULSS XMM3,XMM2
00757904 : MOVSS dword ptr [EAX + -0x2c],XMM3
00757909 : FLD float ptr [EAX + -0x38]
0075790c : FSTP float ptr [EAX + -0x38]
0075790f : FLD float ptr [EAX + -0x34]
00757912 : FSTP float ptr [EAX + -0x34]
00757915 : FLD float ptr [EAX + -0x30]
00757918 : FSTP float ptr [EAX + -0x30]
0075791b : FLD float ptr [EAX + -0x2c]
0075791e : FSTP float ptr [EAX + -0x2c]
00757921 : MOVSS XMM3,dword ptr [EAX + -0x28]
00757926 : MULSS XMM3,XMM2
0075792a : MOVSS dword ptr [EAX + -0x28],XMM3
0075792f : MOVSS XMM3,dword ptr [EAX + -0x24]
00757934 : MULSS XMM3,XMM2
00757938 : MOVSS dword ptr [EAX + -0x24],XMM3
0075793d : MOVSS XMM3,dword ptr [EAX + -0x20]
00757942 : MULSS XMM3,XMM2
00757946 : MOVSS dword ptr [EAX + -0x20],XMM3
0075794b : MOVSS XMM3,dword ptr [EAX + -0x1c]
00757950 : MULSS XMM3,XMM2
00757954 : MOVSS dword ptr [EAX + -0x1c],XMM3
00757959 : FLD float ptr [EAX + -0x28]
0075795c : FSTP float ptr [EAX + -0x28]
0075795f : FLD float ptr [EAX + -0x24]
00757962 : FSTP float ptr [EAX + -0x24]
00757965 : FLD float ptr [EAX + -0x20]
00757968 : FSTP float ptr [EAX + -0x20]
0075796b : FLD float ptr [EAX + -0x1c]
0075796e : FSTP float ptr [EAX + -0x1c]
00757971 : SUB ECX,0x1
00757974 : JNZ 0x00757830
0075797a : CMP ESI,EDX
0075797c : JGE 0x007579e5
0075797e : MOV ECX,dword ptr [EBP + 0xc]
00757981 : MOV EAX,ESI
00757983 : SHL EAX,0x4
00757986 : DIVSS XMM1,XMM0
0075798a : LEA EAX,[EAX + ECX*0x1 + 0x8]
0075798e : SUB EDX,ESI
00757990 : MOVSS XMM0,dword ptr [EAX + -0x8]
00757995 : MULSS XMM0,XMM1
00757999 : MOVSS dword ptr [EAX + -0x8],XMM0
0075799e : MOVSS XMM0,dword ptr [EAX + -0x4]
007579a3 : MULSS XMM0,XMM1
007579a7 : MOVSS dword ptr [EAX + -0x4],XMM0
007579ac : MOVSS XMM0,dword ptr [EAX]
007579b0 : MULSS XMM0,XMM1
007579b4 : MOVSS dword ptr [EAX],XMM0
007579b8 : MOVAPS XMM0,XMM1
007579bb : MULSS XMM0,dword ptr [EAX + 0x4]
007579c0 : MOVSS dword ptr [EAX + 0x4],XMM0
007579c5 : FLD float ptr [EAX + -0x8]
007579c8 : FSTP float ptr [EAX + -0x8]
007579cb : ADD EAX,0x10
007579ce : SUB EDX,0x1
007579d1 : FLD float ptr [EAX + -0x14]
007579d4 : FSTP float ptr [EAX + -0x14]
007579d7 : FLD float ptr [EAX + -0x10]
007579da : FSTP float ptr [EAX + -0x10]
007579dd : FLD float ptr [EAX + -0xc]
007579e0 : FSTP float ptr [EAX + -0xc]
007579e3 : JNZ 0x00757990
007579e5 : POP EDI
007579e6 : POP ESI
007579e7 : XOR EAX,EAX
007579e9 : POP EBX
007579ea : MOV ESP,EBP
007579ec : POP EBP
007579ed : RET 0x8
