PROGRAM  : Maestia.exe
FUNCTION : FUN_00911e30
ENTRY    : 00911e30
BODY     : [[00911e30, 00911f5a]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00911e30(int param_1,ushort param_2,ushort param_3)

{
  uint *puVar1;
  int iVar2;
  uint *puVar3;
  undefined4 uVar4;
  uint local_30;
  undefined1 local_2c [24];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2c998;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar2 = FUN_007874a0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  if (*(uint **)(iVar2 + 0xc) != *(uint **)(iVar2 + 0x10)) {
    puVar3 = *(uint **)(iVar2 + 0xc) + 2;
    do {
      if (((uint)param_2 == puVar3[-1]) && ((uint)param_3 == *puVar3)) {
        *(ushort *)(param_1 + 0x40) = param_2;
        *(ushort *)(param_1 + 0x42) = param_3;
        ExceptionList = local_10;
        return 1;
      }
      puVar1 = puVar3 + 4;
      puVar3 = puVar3 + 6;
    } while (puVar1 != *(uint **)(iVar2 + 0x10));
  }
  if (*(char *)(param_1 + 0x44) != '\0') {
    FUN_00406460(L"IDS_GUI_CANT_SUPPORT_DISPLAYMODE");
    local_8 = 0;
    uVar4 = FUN_0081d120(local_2c);
    local_8._0_1_ = 1;
    FUN_008ede80(uVar4,0);
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = 0xffffffff;
    if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  ExceptionList = local_10;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00911e30 : PUSH EBP
00911e31 : MOV EBP,ESP
00911e33 : PUSH -0x1
00911e35 : PUSH 0xb2c998
00911e3a : MOV EAX,FS:[0x0]
00911e40 : PUSH EAX
00911e41 : SUB ESP,0x38
00911e44 : PUSH EBX
00911e45 : PUSH ESI
00911e46 : PUSH EDI
00911e47 : MOV EAX,[0x00d66fa0]
00911e4c : XOR EAX,EBP
00911e4e : PUSH EAX
00911e4f : LEA EAX,[EBP + -0xc]
00911e52 : MOV FS:[0x0],EAX
00911e58 : MOV BX,word ptr [EBP + 0x10]
00911e5c : MOV EAX,[0x017251ac]
00911e61 : MOV ESI,dword ptr [EAX + 0x174]
00911e67 : CALL 0x007874a0
00911e6c : MOV ECX,dword ptr [EAX + 0xc]
00911e6f : MOV ESI,dword ptr [EAX + 0x10]
00911e72 : CMP ECX,ESI
00911e74 : JZ 0x00911e9e
00911e76 : MOVZX EDI,word ptr [EBP + 0xc]
00911e7a : LEA EAX,[ECX + 0x8]
00911e7d : LEA ECX,[ECX]
00911e80 : MOV ECX,dword ptr [EAX + -0x4]
00911e83 : MOV EDX,dword ptr [EAX]
00911e85 : CMP EDI,ECX
00911e87 : JNZ 0x00911e94
00911e89 : MOVZX ECX,BX
00911e8c : CMP ECX,EDX
00911e8e : JZ 0x00911f36
00911e94 : ADD EAX,0x18
00911e97 : LEA EDX,[EAX + -0x8]
00911e9a : CMP EDX,ESI
00911e9c : JNZ 0x00911e80
00911e9e : MOV ESI,dword ptr [EBP + 0x8]
00911ea1 : MOV AL,byte ptr [ESI + 0x44]
00911ea4 : XOR EBX,EBX
00911ea6 : CMP AL,BL
00911ea8 : JZ 0x00911f20
00911eaa : PUSH 0xc663c0
00911eaf : LEA ECX,[EBP + -0x28]
00911eb2 : CALL 0x00406460
00911eb7 : MOV dword ptr [EBP + -0x4],EBX
00911eba : MOV ECX,dword ptr [0x0172491c]
00911ec0 : LEA EDX,[EBP + -0x28]
00911ec3 : PUSH EDX
00911ec4 : LEA EDI,[EBP + -0x44]
00911ec7 : CALL 0x0081d120
00911ecc : MOV byte ptr [EBP + -0x4],0x1
00911ed0 : MOV ECX,dword ptr [ESI + 0x4]
00911ed3 : PUSH EBX
00911ed4 : PUSH EAX
00911ed5 : CALL 0x008ede80
00911eda : MOV byte ptr [EBP + -0x4],BL
00911edd : MOV ESI,0x8
00911ee2 : CMP dword ptr [EBP + -0x2c],ESI
00911ee5 : JC 0x00911eef
00911ee7 : MOV ECX,dword ptr [EBP + -0x40]
00911eea : CALL 0x006f04e0
00911eef : MOV EDI,0x7
00911ef4 : XOR EAX,EAX
00911ef6 : MOV dword ptr [EBP + -0x2c],EDI
00911ef9 : MOV dword ptr [EBP + -0x30],EBX
00911efc : MOV word ptr [EBP + -0x40],AX
00911f00 : MOV dword ptr [EBP + -0x4],0xffffffff
00911f07 : CMP dword ptr [EBP + -0x10],ESI
00911f0a : JC 0x00911f14
00911f0c : MOV ECX,dword ptr [EBP + -0x24]
00911f0f : CALL 0x006f04e0
00911f14 : XOR ECX,ECX
00911f16 : MOV dword ptr [EBP + -0x10],EDI
00911f19 : MOV dword ptr [EBP + -0x14],EBX
00911f1c : MOV word ptr [EBP + -0x24],CX
00911f20 : XOR AL,AL
00911f22 : MOV ECX,dword ptr [EBP + -0xc]
00911f25 : MOV dword ptr FS:[0x0],ECX
00911f2c : POP ECX
00911f2d : POP EDI
00911f2e : POP ESI
00911f2f : POP EBX
00911f30 : MOV ESP,EBP
00911f32 : POP EBP
00911f33 : RET 0xc
00911f36 : MOV EAX,dword ptr [EBP + 0x8]
00911f39 : MOV CX,word ptr [EBP + 0xc]
00911f3d : MOV word ptr [EAX + 0x40],CX
00911f41 : MOV word ptr [EAX + 0x42],BX
00911f45 : MOV AL,0x1
00911f47 : MOV ECX,dword ptr [EBP + -0xc]
00911f4a : MOV dword ptr FS:[0x0],ECX
00911f51 : POP ECX
00911f52 : POP EDI
00911f53 : POP ESI
00911f54 : POP EBX
00911f55 : MOV ESP,EBP
00911f57 : POP EBP
00911f58 : RET 0xc
