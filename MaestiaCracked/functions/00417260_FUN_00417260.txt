PROGRAM  : Maestia.exe
FUNCTION : FUN_00417260
ENTRY    : 00417260
BODY     : [[00417260, 004173a6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00417260(int param_1,int param_2,int param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  int local_10;
  int local_c;
  int local_8;
  
  iVar2 = param_2 - param_1;
  do {
    iVar2 = iVar2 / 0x28;
    if (iVar2 < 0x21) {
LAB_00417345:
      if (1 < iVar2) {
        FUN_00418310(param_1,param_2,param_4);
      }
      return;
    }
    if (param_3 < 1) {
      if (0x20 < iVar2) {
        if (1 < (param_2 - param_1) / 0x28) {
          FUN_004181e0(param_1,param_2,param_4);
        }
        FUN_004182b0(param_1,param_2,param_4);
        return;
      }
      goto LAB_00417345;
    }
    FUN_00417b90(&local_10,param_1,param_2,param_4);
    iVar1 = local_c;
    iVar2 = local_10;
    param_3 = param_3 / 2 + (param_3 / 2) / 2;
    local_8 = (param_2 - local_c) / 0x28;
    if ((local_10 - param_1) / 0x28 < local_8) {
      FUN_00417260(param_1,local_10,param_3,param_4);
      param_1 = iVar1;
    }
    else {
      FUN_00417260(local_c,param_2,param_3,param_4);
      param_2 = iVar2;
    }
    iVar2 = param_2 - param_1;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00417260 : PUSH EBP
00417261 : MOV EBP,ESP
00417263 : MOV ECX,dword ptr [EBP + 0xc]
00417266 : SUB ESP,0xc
00417269 : PUSH EBX
0041726a : PUSH ESI
0041726b : PUSH EDI
0041726c : MOV EDI,dword ptr [EBP + 0x8]
0041726f : MOV EDX,ECX
00417271 : SUB EDX,EDI
00417273 : MOV EAX,0x66666667
00417278 : IMUL EDX
0041727a : SAR EDX,0x4
0041727d : MOV EAX,EDX
0041727f : SHR EAX,0x1f
00417282 : ADD EAX,EDX
00417284 : CMP EAX,0x20
00417287 : JLE 0x00417345
0041728d : MOV ESI,dword ptr [EBP + 0x10]
00417290 : TEST ESI,ESI
00417292 : JLE 0x0041735f
00417298 : MOV EAX,dword ptr [EBP + 0x14]
0041729b : PUSH EAX
0041729c : PUSH ECX
0041729d : LEA ECX,[EBP + -0xc]
004172a0 : PUSH EDI
004172a1 : PUSH ECX
004172a2 : CALL 0x00417b90
004172a7 : MOV ECX,dword ptr [EBP + 0xc]
004172aa : MOV EDI,dword ptr [EBP + -0x8]
004172ad : MOV EAX,ESI
004172af : CDQ
004172b0 : SUB EAX,EDX
004172b2 : SAR EAX,0x1
004172b4 : MOV ESI,EAX
004172b6 : CDQ
004172b7 : SUB EAX,EDX
004172b9 : MOV EBX,dword ptr [EBP + -0xc]
004172bc : SAR EAX,0x1
004172be : ADD ESI,EAX
004172c0 : SUB ECX,EDI
004172c2 : MOV EAX,0x66666667
004172c7 : IMUL ECX
004172c9 : SAR EDX,0x4
004172cc : MOV EAX,EDX
004172ce : SHR EAX,0x1f
004172d1 : ADD EAX,EDX
004172d3 : MOV dword ptr [EBP + -0x4],EAX
004172d6 : MOV ECX,EBX
004172d8 : SUB ECX,dword ptr [EBP + 0x8]
004172db : MOV EAX,0x66666667
004172e0 : IMUL ECX
004172e2 : MOV ECX,dword ptr [EBP + -0x4]
004172e5 : SAR EDX,0x4
004172e8 : MOV EAX,EDX
004172ea : SHR EAX,0x1f
004172ed : ADD EAX,EDX
004172ef : ADD ESP,0x10
004172f2 : CMP EAX,ECX
004172f4 : JGE 0x0041730d
004172f6 : MOV ECX,dword ptr [EBP + 0x14]
004172f9 : MOV EDX,dword ptr [EBP + 0x8]
004172fc : PUSH ECX
004172fd : PUSH ESI
004172fe : PUSH EBX
004172ff : PUSH EDX
00417300 : CALL 0x00417260
00417305 : MOV ECX,dword ptr [EBP + 0xc]
00417308 : MOV dword ptr [EBP + 0x8],EDI
0041730b : JMP 0x00417324
0041730d : MOV EAX,dword ptr [EBP + 0x14]
00417310 : MOV ECX,dword ptr [EBP + 0xc]
00417313 : PUSH EAX
00417314 : PUSH ESI
00417315 : PUSH ECX
00417316 : PUSH EDI
00417317 : CALL 0x00417260
0041731c : MOV EDI,dword ptr [EBP + 0x8]
0041731f : MOV ECX,EBX
00417321 : MOV dword ptr [EBP + 0xc],ECX
00417324 : MOV EDX,ECX
00417326 : SUB EDX,EDI
00417328 : MOV EAX,0x66666667
0041732d : IMUL EDX
0041732f : SAR EDX,0x4
00417332 : MOV EAX,EDX
00417334 : SHR EAX,0x1f
00417337 : ADD EAX,EDX
00417339 : ADD ESP,0x10
0041733c : CMP EAX,0x20
0041733f : JG 0x00417290
00417345 : CMP EAX,0x1
00417348 : JLE 0x00417358
0041734a : MOV EDX,dword ptr [EBP + 0x14]
0041734d : PUSH EDX
0041734e : PUSH ECX
0041734f : PUSH EDI
00417350 : CALL 0x00418310
00417355 : ADD ESP,0xc
00417358 : POP EDI
00417359 : POP ESI
0041735a : POP EBX
0041735b : MOV ESP,EBP
0041735d : POP EBP
0041735e : RET
0041735f : CMP EAX,0x20
00417362 : JLE 0x00417345
00417364 : MOV EDX,ECX
00417366 : SUB EDX,EDI
00417368 : MOV EAX,0x66666667
0041736d : IMUL EDX
0041736f : SAR EDX,0x4
00417372 : MOV EAX,EDX
00417374 : SHR EAX,0x1f
00417377 : ADD EAX,EDX
00417379 : CMP EAX,0x1
0041737c : JLE 0x00417392
0041737e : MOV EDX,dword ptr [EBP + 0x14]
00417381 : PUSH EDX
00417382 : PUSH ECX
00417383 : PUSH EDI
00417384 : CALL 0x004181e0
00417389 : MOV ECX,dword ptr [EBP + 0xc]
0041738c : MOV EDI,dword ptr [EBP + 0x8]
0041738f : ADD ESP,0xc
00417392 : MOV EAX,dword ptr [EBP + 0x14]
00417395 : PUSH EAX
00417396 : PUSH ECX
00417397 : PUSH EDI
00417398 : CALL 0x004182b0
0041739d : ADD ESP,0xc
004173a0 : POP EDI
004173a1 : POP ESI
004173a2 : POP EBX
004173a3 : MOV ESP,EBP
004173a5 : POP EBP
004173a6 : RET
