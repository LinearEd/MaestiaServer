PROGRAM  : Maestia.exe
FUNCTION : FUN_00a31130
ENTRY    : 00a31130
BODY     : [[00a31130, 00a312b6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a31130(int param_1)

{
  undefined4 uVar1;
  int in_EAX;
  int *piVar2;
  int iVar3;
  DWORD DVar4;
  
  uVar1 = *(undefined4 *)(param_1 + 4);
  piVar2 = (int *)FUN_00a1a840(uVar1);
  if ((piVar2 == (int *)0x0) && (piVar2 = (int *)FUN_00a1a6d0(uVar1), piVar2 == (int *)0x0)) {
    piVar2 = (int *)FUN_00a1a780(uVar1);
  }
  uVar1 = *(undefined4 *)(param_1 + 0xc);
  iVar3 = FUN_00a1a840(uVar1);
  if ((iVar3 == 0) && (iVar3 = FUN_00a1a6d0(uVar1), iVar3 == 0)) {
    iVar3 = FUN_00a1a780(uVar1);
  }
  DVar4 = timeGetTime();
  FUN_00483f90(DVar4,*(undefined4 *)(param_1 + 8));
  if (piVar2 == *(int **)(in_EAX + 0xac)) {
    if (iVar3 == 0) {
      if (*(char *)(in_EAX + 0x550) != '\0') {
        *(undefined1 *)(in_EAX + 0x550) = 0;
        *(undefined4 *)(in_EAX + 0x548) = 0;
        *(undefined4 *)(in_EAX + 0x54c) = 0;
        *(undefined1 *)(in_EAX + 0x551) = 1;
        *(undefined1 *)(in_EAX + 0x553) = 1;
        if (*(int **)(in_EAX + 0x1bc) != (int *)0x0) {
          (**(code **)(**(int **)(in_EAX + 0x1bc) + 0x20))();
        }
        if (*(int **)(in_EAX + 0x1b8) != (int *)0x0) {
          (**(code **)(**(int **)(in_EAX + 0x1b8) + 0x24))();
        }
        (**(code **)(*piVar2 + 0x34c))
                  (*(undefined4 *)(param_1 + 0x10),*(undefined4 *)(param_1 + 0xc),
                   *(undefined2 *)(param_1 + 0x14));
        timeGetTime();
      }
    }
    else if (*(char *)(in_EAX + 0x550) != '\0') {
      *(undefined1 *)(in_EAX + 0x550) = 0;
      *(undefined4 *)(in_EAX + 0x548) = 0;
      *(undefined4 *)(in_EAX + 0x54c) = 0;
      *(undefined1 *)(in_EAX + 0x551) = 1;
      *(undefined1 *)(in_EAX + 0x553) = 1;
      if (*(int **)(in_EAX + 0x1bc) != (int *)0x0) {
        (**(code **)(**(int **)(in_EAX + 0x1bc) + 0x24))();
      }
      if (*(int **)(in_EAX + 0x1b8) != (int *)0x0) {
        (**(code **)(**(int **)(in_EAX + 0x1b8) + 0x24))();
      }
    }
  }
  if (piVar2 != (int *)0x0) {
    (**(code **)(*piVar2 + 0x34c))
              (*(undefined4 *)(param_1 + 0x10),*(undefined4 *)(param_1 + 0xc),
               *(undefined2 *)(param_1 + 0x14));
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a31130 : PUSH EBP
00a31131 : MOV EBP,ESP
00a31133 : SUB ESP,0x8
00a31136 : PUSH EBX
00a31137 : PUSH ESI
00a31138 : MOV ESI,EAX
00a3113a : MOV EAX,dword ptr [EBP + 0x8]
00a3113d : PUSH EDI
00a3113e : MOV EDI,dword ptr [EAX + 0x4]
00a31141 : PUSH EDI
00a31142 : MOV ECX,ESI
00a31144 : CALL 0x00a1a840
00a31149 : MOV EBX,EAX
00a3114b : TEST EBX,EBX
00a3114d : JNZ 0x00a31167
00a3114f : PUSH EDI
00a31150 : MOV ECX,ESI
00a31152 : CALL 0x00a1a6d0
00a31157 : MOV EBX,EAX
00a31159 : TEST EBX,EBX
00a3115b : JNZ 0x00a31167
00a3115d : PUSH EDI
00a3115e : MOV ECX,ESI
00a31160 : CALL 0x00a1a780
00a31165 : MOV EBX,EAX
00a31167 : MOV ECX,dword ptr [EBP + 0x8]
00a3116a : MOV EAX,dword ptr [ECX + 0xc]
00a3116d : PUSH EAX
00a3116e : MOV ECX,ESI
00a31170 : MOV dword ptr [EBP + -0x4],EAX
00a31173 : CALL 0x00a1a840
00a31178 : MOV EDI,EAX
00a3117a : TEST EDI,EDI
00a3117c : JNZ 0x00a3119c
00a3117e : MOV EDX,dword ptr [EBP + -0x4]
00a31181 : PUSH EDX
00a31182 : MOV ECX,ESI
00a31184 : CALL 0x00a1a6d0
00a31189 : MOV EDI,EAX
00a3118b : TEST EDI,EDI
00a3118d : JNZ 0x00a3119c
00a3118f : MOV EAX,dword ptr [EBP + -0x4]
00a31192 : PUSH EAX
00a31193 : MOV ECX,ESI
00a31195 : CALL 0x00a1a780
00a3119a : MOV EDI,EAX
00a3119c : CALL dword ptr [0x00b85598]
00a311a2 : MOV ECX,dword ptr [EBP + 0x8]
00a311a5 : MOV EDX,dword ptr [ECX + 0x8]
00a311a8 : PUSH EDX
00a311a9 : PUSH EAX
00a311aa : CALL 0x00483f90
00a311af : ADD ESP,0x8
00a311b2 : CMP EBX,dword ptr [ESI + 0xac]
00a311b8 : JNZ 0x00a3128e
00a311be : XOR EDX,EDX
00a311c0 : CMP EDI,EDX
00a311c2 : JNZ 0x00a3123d
00a311c4 : CMP byte ptr [ESI + 0x550],DL
00a311ca : JZ 0x00a3128e
00a311d0 : MOV ECX,dword ptr [ESI + 0x1bc]
00a311d6 : XORPS XMM0,XMM0
00a311d9 : MOV AL,0x1
00a311db : MOV byte ptr [ESI + 0x550],DL
00a311e1 : MOV dword ptr [ESI + 0x548],EDX
00a311e7 : MOVSS dword ptr [ESI + 0x54c],XMM0
00a311ef : MOV byte ptr [ESI + 0x551],AL
00a311f5 : MOV byte ptr [ESI + 0x553],AL
00a311fb : CMP ECX,EDX
00a311fd : JZ 0x00a31206
00a311ff : MOV EAX,dword ptr [ECX]
00a31201 : MOV EDX,dword ptr [EAX + 0x20]
00a31204 : CALL EDX
00a31206 : MOV ESI,dword ptr [ESI + 0x1b8]
00a3120c : TEST ESI,ESI
00a3120e : JZ 0x00a31219
00a31210 : MOV EAX,dword ptr [ESI]
00a31212 : MOV EDX,dword ptr [EAX + 0x24]
00a31215 : MOV ECX,ESI
00a31217 : CALL EDX
00a31219 : MOV ESI,dword ptr [EBP + 0x8]
00a3121c : MOVZX ECX,word ptr [ESI + 0x14]
00a31220 : MOV EDX,dword ptr [ESI + 0xc]
00a31223 : MOV EAX,dword ptr [EBX]
00a31225 : PUSH ECX
00a31226 : MOV ECX,dword ptr [ESI + 0x10]
00a31229 : PUSH EDX
00a3122a : MOV EDX,dword ptr [EAX + 0x34c]
00a31230 : PUSH ECX
00a31231 : MOV ECX,EBX
00a31233 : CALL EDX
00a31235 : CALL dword ptr [0x00b85598]
00a3123b : JMP 0x00a31291
00a3123d : CMP byte ptr [ESI + 0x550],DL
00a31243 : JZ 0x00a3128e
00a31245 : MOV ECX,dword ptr [ESI + 0x1bc]
00a3124b : XORPS XMM0,XMM0
00a3124e : MOV AL,0x1
00a31250 : MOV byte ptr [ESI + 0x550],DL
00a31256 : MOV dword ptr [ESI + 0x548],EDX
00a3125c : MOVSS dword ptr [ESI + 0x54c],XMM0
00a31264 : MOV byte ptr [ESI + 0x551],AL
00a3126a : MOV byte ptr [ESI + 0x553],AL
00a31270 : CMP ECX,EDX
00a31272 : JZ 0x00a3127b
00a31274 : MOV EAX,dword ptr [ECX]
00a31276 : MOV EDX,dword ptr [EAX + 0x24]
00a31279 : CALL EDX
00a3127b : MOV ESI,dword ptr [ESI + 0x1b8]
00a31281 : TEST ESI,ESI
00a31283 : JZ 0x00a3128e
00a31285 : MOV EAX,dword ptr [ESI]
00a31287 : MOV EDX,dword ptr [EAX + 0x24]
00a3128a : MOV ECX,ESI
00a3128c : CALL EDX
00a3128e : MOV ESI,dword ptr [EBP + 0x8]
00a31291 : TEST EBX,EBX
00a31293 : JZ 0x00a312ae
00a31295 : MOVZX ECX,word ptr [ESI + 0x14]
00a31299 : MOV EDX,dword ptr [ESI + 0xc]
00a3129c : MOV EAX,dword ptr [EBX]
00a3129e : PUSH ECX
00a3129f : MOV ECX,dword ptr [ESI + 0x10]
00a312a2 : PUSH EDX
00a312a3 : MOV EDX,dword ptr [EAX + 0x34c]
00a312a9 : PUSH ECX
00a312aa : MOV ECX,EBX
00a312ac : CALL EDX
00a312ae : POP EDI
00a312af : POP ESI
00a312b0 : POP EBX
00a312b1 : MOV ESP,EBP
00a312b3 : POP EBP
00a312b4 : RET 0x4
