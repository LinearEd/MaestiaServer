PROGRAM  : Maestia.exe
FUNCTION : FUN_005bd950
ENTRY    : 005bd950
BODY     : [[005bd950, 005bdc09]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_005bd950(int param_1,undefined4 *param_2,undefined1 *param_3)

{
  int *piVar1;
  byte bVar2;
  char cVar3;
  int iVar4;
  byte *pbVar5;
  int iVar6;
  undefined4 uVar7;
  byte *pbVar8;
  uint uVar9;
  char *pcVar10;
  bool bVar11;
  
  piVar1 = (int *)(param_1 + 0x78);
  if (*(char *)(*piVar1 + 0x2a4) != '\x01') {
LAB_005bdbf0:
    uVar7 = FUN_00586920(param_1,param_2,param_3);
    return uVar7;
  }
  iVar4 = FUN_005296a0();
  pbVar8 = *(byte **)*param_2;
  pcVar10 = "captureFocus";
  pbVar5 = pbVar8;
  do {
    bVar2 = *pbVar5;
    bVar11 = bVar2 < (byte)*pcVar10;
    if (bVar2 != *pcVar10) {
LAB_005bd9b0:
      iVar6 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
      goto LAB_005bd9b5;
    }
    if (bVar2 == 0) break;
    bVar2 = pbVar5[1];
    bVar11 = bVar2 < ((byte *)pcVar10)[1];
    if (bVar2 != ((byte *)pcVar10)[1]) goto LAB_005bd9b0;
    pbVar5 = pbVar5 + 2;
    pcVar10 = (char *)((byte *)pcVar10 + 2);
  } while (bVar2 != 0);
  iVar6 = 0;
LAB_005bd9b5:
  if (iVar6 == 0) {
    uVar7 = FUN_005260d0(piVar1,&LAB_005bd5e0);
    FUN_005268b0(uVar7);
    FUN_00526bc0();
    return 1;
  }
  pcVar10 = "disableFocusAutoRelease";
  do {
    bVar2 = *pbVar8;
    bVar11 = bVar2 < (byte)*pcVar10;
    if (bVar2 != *pcVar10) {
LAB_005bda12:
      iVar6 = (1 - (uint)bVar11) - (uint)(bVar11 != 0);
      goto LAB_005bda17;
    }
    if (bVar2 == 0) break;
    bVar2 = pbVar8[1];
    bVar11 = bVar2 < ((byte *)pcVar10)[1];
    if (bVar2 != ((byte *)pcVar10)[1]) goto LAB_005bda12;
    pbVar8 = pbVar8 + 2;
    pcVar10 = (char *)((byte *)pcVar10 + 2);
  } while (bVar2 != 0);
  iVar6 = 0;
LAB_005bda17:
  if (iVar6 != 0) {
    cVar3 = FUN_004ffc90("alwaysEnableArrowKeys");
    if (cVar3 == '\0') {
      cVar3 = FUN_004ffc90("alwaysEnableKeyboardPress");
      if (cVar3 != '\0') {
        uVar9 = *(uint *)(iVar4 + 0xb00) >> 0x1a & 3;
        if (uVar9 != 3) {
          if (uVar9 == 0) goto LAB_005bda5f;
          if (uVar9 != 3) goto LAB_005bdaf4;
        }
        uVar9 = 0xffffffff;
LAB_005bdaf4:
        FUN_004ffd80(uVar9 == 1);
        return 1;
      }
      cVar3 = FUN_004ffc90("disableFocusRolloverEvent");
      if (cVar3 != '\0') {
        uVar9 = *(uint *)(iVar4 + 0xb00) >> 0x1c & 3;
        if (uVar9 != 3) {
          if (uVar9 == 0) goto LAB_005bda5f;
          if (uVar9 != 3) goto LAB_005bdb44;
        }
        uVar9 = 0xffffffff;
LAB_005bdb44:
        FUN_004ffd80(uVar9 == 1);
        return 1;
      }
      cVar3 = FUN_004ffc90("disableFocusKeys");
      if (cVar3 == '\0') {
        cVar3 = FUN_004ffc90("modalClip");
        if (cVar3 != '\0') {
          uVar7 = FUN_0056ba80();
          FUN_00526c80(uVar7);
          return 1;
        }
        cVar3 = FUN_004ffc90("moveFocus");
        if (cVar3 != '\0') {
          uVar7 = FUN_005260d0(piVar1,FUN_005bd6b0);
          FUN_005268b0(uVar7);
          FUN_00526bc0();
          return 1;
        }
        goto LAB_005bdbf0;
      }
      uVar9 = *(uint *)(iVar4 + 0xb00) >> 0x1e;
    }
    else {
      uVar9 = *(byte *)(iVar4 + 0xb03) & 3;
    }
    if (uVar9 != 3) {
      if (uVar9 == 0) {
LAB_005bda5f:
        FUN_00526400();
        *param_3 = 0;
        return 1;
      }
      if (uVar9 != 3) goto LAB_005bdaa4;
    }
    uVar9 = 0xffffffff;
LAB_005bdaa4:
    FUN_004ffd80(uVar9 == 1);
    return 1;
  }
  uVar9 = *(uint *)(iVar4 + 0xb00) >> 0x16 & 3;
  if (uVar9 != 3) {
    if (uVar9 == 0) goto LAB_005bda5f;
    if (uVar9 != 3) goto LAB_005bda3c;
  }
  uVar9 = 0xffffffff;
LAB_005bda3c:
  FUN_00526400();
  param_3[4] = uVar9 == 1;
  *param_3 = 2;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
005bd950 : SUB ESP,0x14
005bd953 : PUSH EBX
005bd954 : MOV EBX,dword ptr [ESP + 0x20]
005bd958 : PUSH EBP
005bd959 : MOV EBP,dword ptr [ESP + 0x20]
005bd95d : LEA EAX,[EBP + 0x78]
005bd960 : MOV dword ptr [ESP + 0x20],EAX
005bd964 : MOV EAX,dword ptr [EAX]
005bd966 : CMP byte ptr [EAX + 0x2a4],0x1
005bd96d : PUSH ESI
005bd96e : PUSH EDI
005bd96f : MOV dword ptr [ESP + 0x10],ECX
005bd973 : JNZ 0x005bdbf0
005bd979 : MOV ECX,EBP
005bd97b : CALL 0x005296a0
005bd980 : MOV ECX,dword ptr [EBX]
005bd982 : MOV ESI,dword ptr [ECX]
005bd984 : MOV EDI,EAX
005bd986 : MOV ECX,0xb911cc
005bd98b : MOV EAX,ESI
005bd98d : LEA ECX,[ECX]
005bd990 : MOV DL,byte ptr [EAX]
005bd992 : CMP DL,byte ptr [ECX]
005bd994 : JNZ 0x005bd9b0
005bd996 : TEST DL,DL
005bd998 : JZ 0x005bd9ac
005bd99a : MOV DL,byte ptr [EAX + 0x1]
005bd99d : CMP DL,byte ptr [ECX + 0x1]
005bd9a0 : JNZ 0x005bd9b0
005bd9a2 : ADD EAX,0x2
005bd9a5 : ADD ECX,0x2
005bd9a8 : TEST DL,DL
005bd9aa : JNZ 0x005bd990
005bd9ac : XOR EAX,EAX
005bd9ae : JMP 0x005bd9b5
005bd9b0 : SBB EAX,EAX
005bd9b2 : SBB EAX,-0x1
005bd9b5 : TEST EAX,EAX
005bd9b7 : JNZ 0x005bd9eb
005bd9b9 : MOV EDX,dword ptr [ESP + 0x28]
005bd9bd : PUSH 0x5bd5e0
005bd9c2 : PUSH EDX
005bd9c3 : LEA ECX,[ESP + 0x1c]
005bd9c7 : CALL 0x005260d0
005bd9cc : MOV ECX,dword ptr [ESP + 0x30]
005bd9d0 : PUSH EAX
005bd9d1 : CALL 0x005268b0
005bd9d6 : LEA ECX,[ESP + 0x14]
005bd9da : CALL 0x00526bc0
005bd9df : POP EDI
005bd9e0 : POP ESI
005bd9e1 : POP EBP
005bd9e2 : MOV AL,0x1
005bd9e4 : POP EBX
005bd9e5 : ADD ESP,0x14
005bd9e8 : RET 0xc
005bd9eb : MOV ECX,0xb9118c
005bd9f0 : MOV EAX,ESI
005bd9f2 : MOV DL,byte ptr [EAX]
005bd9f4 : CMP DL,byte ptr [ECX]
005bd9f6 : JNZ 0x005bda12
005bd9f8 : TEST DL,DL
005bd9fa : JZ 0x005bda0e
005bd9fc : MOV DL,byte ptr [EAX + 0x1]
005bd9ff : CMP DL,byte ptr [ECX + 0x1]
005bda02 : JNZ 0x005bda12
005bda04 : ADD EAX,0x2
005bda07 : ADD ECX,0x2
005bda0a : TEST DL,DL
005bda0c : JNZ 0x005bd9f2
005bda0e : XOR EAX,EAX
005bda10 : JMP 0x005bda17
005bda12 : SBB EAX,EAX
005bda14 : SBB EAX,-0x1
005bda17 : TEST EAX,EAX
005bda19 : JNZ 0x005bda79
005bda1b : MOV EAX,dword ptr [EDI + 0xb00]
005bda21 : SHR EAX,0x16
005bda24 : AND EAX,0x3
005bda27 : CMP EAX,0x3
005bda2a : JZ 0x005bda35
005bda2c : TEST EAX,EAX
005bda2e : JZ 0x005bda5f
005bda30 : CMP EAX,0x3
005bda33 : JNZ 0x005bda3a
005bda35 : OR EDI,0xffffffff
005bda38 : JMP 0x005bda3c
005bda3a : MOV EDI,EAX
005bda3c : MOV ESI,dword ptr [ESP + 0x30]
005bda40 : MOV ECX,ESI
005bda42 : CALL 0x00526400
005bda47 : CMP EDI,0x1
005bda4a : SETZ AL
005bda4d : POP EDI
005bda4e : MOV byte ptr [ESI + 0x4],AL
005bda51 : MOV byte ptr [ESI],0x2
005bda54 : POP ESI
005bda55 : POP EBP
005bda56 : MOV AL,0x1
005bda58 : POP EBX
005bda59 : ADD ESP,0x14
005bda5c : RET 0xc
005bda5f : MOV ESI,dword ptr [ESP + 0x30]
005bda63 : MOV ECX,ESI
005bda65 : CALL 0x00526400
005bda6a : POP EDI
005bda6b : MOV byte ptr [ESI],0x0
005bda6e : POP ESI
005bda6f : POP EBP
005bda70 : MOV AL,0x1
005bda72 : POP EBX
005bda73 : ADD ESP,0x14
005bda76 : RET 0xc
005bda79 : PUSH 0xb91174
005bda7e : MOV ECX,EBX
005bda80 : CALL 0x004ffc90
005bda85 : TEST AL,AL
005bda87 : JZ 0x005bdac3
005bda89 : MOVZX EAX,byte ptr [EDI + 0xb03]
005bda90 : AND EAX,0x3
005bda93 : CMP EAX,0x3
005bda96 : JZ 0x005bdaa1
005bda98 : TEST EAX,EAX
005bda9a : JZ 0x005bda5f
005bda9c : CMP EAX,0x3
005bda9f : JNZ 0x005bdaa4
005bdaa1 : OR EAX,0xffffffff
005bdaa4 : CMP EAX,0x1
005bdaa7 : SETZ CL
005bdaaa : MOVZX EDX,CL
005bdaad : MOV ECX,dword ptr [ESP + 0x30]
005bdab1 : PUSH EDX
005bdab2 : CALL 0x004ffd80
005bdab7 : POP EDI
005bdab8 : POP ESI
005bdab9 : POP EBP
005bdaba : MOV AL,0x1
005bdabc : POP EBX
005bdabd : ADD ESP,0x14
005bdac0 : RET 0xc
005bdac3 : PUSH 0xb91158
005bdac8 : MOV ECX,EBX
005bdaca : CALL 0x004ffc90
005bdacf : TEST AL,AL
005bdad1 : JZ 0x005bdb13
005bdad3 : MOV EAX,dword ptr [EDI + 0xb00]
005bdad9 : SHR EAX,0x1a
005bdadc : AND EAX,0x3
005bdadf : CMP EAX,0x3
005bdae2 : JZ 0x005bdaf1
005bdae4 : TEST EAX,EAX
005bdae6 : JZ 0x005bda5f
005bdaec : CMP EAX,0x3
005bdaef : JNZ 0x005bdaf4
005bdaf1 : OR EAX,0xffffffff
005bdaf4 : CMP EAX,0x1
005bdaf7 : SETZ AL
005bdafa : MOVZX ECX,AL
005bdafd : PUSH ECX
005bdafe : MOV ECX,dword ptr [ESP + 0x34]
005bdb02 : CALL 0x004ffd80
005bdb07 : POP EDI
005bdb08 : POP ESI
005bdb09 : POP EBP
005bdb0a : MOV AL,0x1
005bdb0c : POP EBX
005bdb0d : ADD ESP,0x14
005bdb10 : RET 0xc
005bdb13 : PUSH 0xb9113c
005bdb18 : MOV ECX,EBX
005bdb1a : CALL 0x004ffc90
005bdb1f : TEST AL,AL
005bdb21 : JZ 0x005bdb63
005bdb23 : MOV EAX,dword ptr [EDI + 0xb00]
005bdb29 : SHR EAX,0x1c
005bdb2c : AND EAX,0x3
005bdb2f : CMP EAX,0x3
005bdb32 : JZ 0x005bdb41
005bdb34 : TEST EAX,EAX
005bdb36 : JZ 0x005bda5f
005bdb3c : CMP EAX,0x3
005bdb3f : JNZ 0x005bdb44
005bdb41 : OR EAX,0xffffffff
005bdb44 : MOV ECX,dword ptr [ESP + 0x30]
005bdb48 : CMP EAX,0x1
005bdb4b : SETZ DL
005bdb4e : MOVZX EAX,DL
005bdb51 : PUSH EAX
005bdb52 : CALL 0x004ffd80
005bdb57 : POP EDI
005bdb58 : POP ESI
005bdb59 : POP EBP
005bdb5a : MOV AL,0x1
005bdb5c : POP EBX
005bdb5d : ADD ESP,0x14
005bdb60 : RET 0xc
005bdb63 : PUSH 0xb91128
005bdb68 : MOV ECX,EBX
005bdb6a : CALL 0x004ffc90
005bdb6f : TEST AL,AL
005bdb71 : JZ 0x005bdb81
005bdb73 : MOV EAX,dword ptr [EDI + 0xb00]
005bdb79 : SHR EAX,0x1e
005bdb7c : JMP 0x005bda93
005bdb81 : PUSH 0xb9111c
005bdb86 : MOV ECX,EBX
005bdb88 : CALL 0x004ffc90
005bdb8d : TEST AL,AL
005bdb8f : JZ 0x005bdbae
005bdb91 : MOV ECX,EDI
005bdb93 : CALL 0x0056ba80
005bdb98 : MOV ECX,dword ptr [ESP + 0x30]
005bdb9c : PUSH EAX
005bdb9d : CALL 0x00526c80
005bdba2 : POP EDI
005bdba3 : POP ESI
005bdba4 : POP EBP
005bdba5 : MOV AL,0x1
005bdba7 : POP EBX
005bdba8 : ADD ESP,0x14
005bdbab : RET 0xc
005bdbae : PUSH 0xb911c0
005bdbb3 : MOV ECX,EBX
005bdbb5 : CALL 0x004ffc90
005bdbba : TEST AL,AL
005bdbbc : JZ 0x005bdbf0
005bdbbe : MOV EAX,dword ptr [ESP + 0x28]
005bdbc2 : PUSH 0x5bd6b0
005bdbc7 : PUSH EAX
005bdbc8 : LEA ECX,[ESP + 0x1c]
005bdbcc : CALL 0x005260d0
005bdbd1 : MOV ECX,dword ptr [ESP + 0x30]
005bdbd5 : PUSH EAX
005bdbd6 : CALL 0x005268b0
005bdbdb : LEA ECX,[ESP + 0x14]
005bdbdf : CALL 0x00526bc0
005bdbe4 : POP EDI
005bdbe5 : POP ESI
005bdbe6 : POP EBP
005bdbe7 : MOV AL,0x1
005bdbe9 : POP EBX
005bdbea : ADD ESP,0x14
005bdbed : RET 0xc
005bdbf0 : MOV ECX,dword ptr [ESP + 0x30]
005bdbf4 : PUSH ECX
005bdbf5 : MOV ECX,dword ptr [ESP + 0x14]
005bdbf9 : PUSH EBX
005bdbfa : PUSH EBP
005bdbfb : CALL 0x00586920
005bdc00 : POP EDI
005bdc01 : POP ESI
005bdc02 : POP EBP
005bdc03 : POP EBX
005bdc04 : ADD ESP,0x14
005bdc07 : RET 0xc
