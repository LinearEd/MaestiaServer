PROGRAM  : Maestia.exe
FUNCTION : FUN_00558bc0
ENTRY    : 00558bc0
BODY     : [[00558bc0, 00558cf5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00558bc0(int param_1)

{
  uint *puVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  undefined4 in_ECX;
  uint uVar5;
  int local_50;
  int local_4c;
  int local_48;
  undefined4 local_44;
  undefined4 local_3c;
  undefined4 local_38;
  int local_34;
  undefined4 local_30;
  char local_2c;
  undefined1 local_28 [4];
  uint local_24;
  uint local_20;
  int local_1c;
  int local_18;
  float local_4;
  
  FUN_00555980(in_ECX);
  FUN_00555ad0(&local_48,&local_4c,&local_50);
  FUN_005dd510(local_48 + -1,local_4c + -1,local_50 + -1,local_4 * (float)local_1c,
               local_4 * (float)local_18);
  if (local_24 < local_20) {
    do {
      FUN_005545d0(&local_3c,0);
      if (local_2c == '\0') {
        puVar1 = (uint *)(param_1 + 8);
        local_48 = local_34;
        uVar5 = *(uint *)(param_1 + 8) >> 8;
        local_44 = local_30;
        if (*(uint *)(param_1 + 0xc) <= uVar5) {
          FUN_00555d30(uVar5);
        }
        uVar3 = *puVar1;
        iVar4 = *(int *)(*(int *)(param_1 + 0x14) + uVar5 * 4);
        *(int *)(iVar4 + (uVar3 & 0xff) * 8) = local_48;
        *(undefined4 *)(iVar4 + 4 + (uVar3 & 0xff) * 8) = local_44;
        *puVar1 = *puVar1 + 1;
        piVar2 = (int *)(*(int *)(param_1 + 0x28) + 4);
        *piVar2 = *piVar2 + 1;
      }
      else {
        FUN_005dd880(local_3c,local_38,local_34,local_30);
      }
    } while (local_24 < local_20);
  }
  FUN_00555b60(local_28);
  return;
}



============================================================
DISASSEMBLY
============================================================
00558bc0 : SUB ESP,0x54
00558bc3 : PUSH EBX
00558bc4 : PUSH ESI
00558bc5 : MOV ESI,ECX
00558bc7 : PUSH ESI
00558bc8 : LEA ECX,[ESP + 0x38]
00558bcc : MOV dword ptr [ESP + 0x20],ESI
00558bd0 : CALL 0x00555980
00558bd5 : LEA EAX,[ESP + 0xc]
00558bd9 : PUSH EAX
00558bda : LEA ECX,[ESP + 0x14]
00558bde : PUSH ECX
00558bdf : LEA EDX,[ESP + 0x1c]
00558be3 : PUSH EDX
00558be4 : MOV ECX,ESI
00558be6 : CALL 0x00555ad0
00558beb : FILD dword ptr [ESP + 0x44]
00558bef : FLD float ptr [ESP + 0x58]
00558bf3 : MOV EAX,dword ptr [ESP + 0xc]
00558bf7 : FLD ST0
00558bf9 : MOV ECX,dword ptr [ESP + 0x10]
00558bfd : MOV EDX,dword ptr [ESP + 0x14]
00558c01 : FMULP ST2
00558c03 : MOV EBX,dword ptr [ESP + 0x60]
00558c07 : FXCH
00558c09 : SUB ESP,0x8
00558c0c : FSTP float ptr [ESP + 0x10]
00558c10 : DEC EAX
00558c11 : FLD float ptr [ESP + 0x10]
00558c15 : DEC ECX
00558c16 : FSTP float ptr [ESP + 0x4]
00558c1a : DEC EDX
00558c1b : FIMUL dword ptr [ESP + 0x48]
00558c1f : FSTP float ptr [ESP + 0x10]
00558c23 : FLD float ptr [ESP + 0x10]
00558c27 : FSTP float ptr [ESP]
00558c2a : PUSH EAX
00558c2b : PUSH ECX
00558c2c : PUSH EDX
00558c2d : MOV ECX,EBX
00558c2f : CALL 0x005dd510
00558c34 : MOV EAX,dword ptr [ESP + 0x38]
00558c38 : CMP EAX,dword ptr [ESP + 0x3c]
00558c3c : JNC 0x00558ce2
00558c42 : PUSH EDI
00558c43 : PUSH 0x0
00558c45 : LEA ECX,[ESP + 0x28]
00558c49 : PUSH ECX
00558c4a : LEA ECX,[ESP + 0x40]
00558c4e : CALL 0x005545d0
00558c53 : CMP byte ptr [ESP + 0x34],0x0
00558c58 : JZ 0x00558c85
00558c5a : FLD float ptr [ESP + 0x30]
00558c5e : SUB ESP,0x10
00558c61 : FSTP float ptr [ESP + 0xc]
00558c65 : MOV ECX,EBX
00558c67 : FLD float ptr [ESP + 0x3c]
00558c6b : FSTP float ptr [ESP + 0x8]
00558c6f : FLD float ptr [ESP + 0x38]
00558c73 : FSTP float ptr [ESP + 0x4]
00558c77 : FLD float ptr [ESP + 0x34]
00558c7b : FSTP float ptr [ESP]
00558c7e : CALL 0x005dd880
00558c83 : JMP 0x00558cd3
00558c85 : FLD float ptr [ESP + 0x2c]
00558c89 : MOV EDI,dword ptr [EBX + 0x8]
00558c8c : LEA ESI,[EBX + 0x8]
00558c8f : FSTP float ptr [ESP + 0x18]
00558c93 : FLD float ptr [ESP + 0x30]
00558c97 : SHR EDI,0x8
00558c9a : FSTP float ptr [ESP + 0x1c]
00558c9e : CMP EDI,dword ptr [ESI + 0x4]
00558ca1 : JC 0x00558cab
00558ca3 : PUSH EDI
00558ca4 : MOV ECX,ESI
00558ca6 : CALL 0x00555d30
00558cab : MOV EDX,dword ptr [ESI + 0xc]
00558cae : MOV EAX,dword ptr [ESI]
00558cb0 : MOV ECX,dword ptr [EDX + EDI*0x4]
00558cb3 : MOV EDX,dword ptr [ESP + 0x18]
00558cb7 : AND EAX,0xff
00558cbc : MOV dword ptr [ECX + EAX*0x8],EDX
00558cbf : MOV EDX,dword ptr [ESP + 0x1c]
00558cc3 : MOV dword ptr [ECX + EAX*0x8 + 0x4],EDX
00558cc7 : INC dword ptr [ESI]
00558cc9 : MOV EAX,dword ptr [EBX + 0x28]
00558ccc : INC dword ptr [EAX + 0x4]
00558ccf : MOV ESI,dword ptr [ESP + 0x20]
00558cd3 : MOV EAX,dword ptr [ESP + 0x3c]
00558cd7 : CMP EAX,dword ptr [ESP + 0x40]
00558cdb : JC 0x00558c43
00558ce1 : POP EDI
00558ce2 : LEA ECX,[ESP + 0x34]
00558ce6 : PUSH ECX
00558ce7 : MOV ECX,ESI
00558ce9 : CALL 0x00555b60
00558cee : POP ESI
00558cef : POP EBX
00558cf0 : ADD ESP,0x54
00558cf3 : RET 0x4
