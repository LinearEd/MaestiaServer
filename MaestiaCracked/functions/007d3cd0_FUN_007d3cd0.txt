PROGRAM  : Maestia.exe
FUNCTION : FUN_007d3cd0
ENTRY    : 007d3cd0
BODY     : [[007d3cd0, 007d3dc7]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d3cd0(undefined8 *param_1)

{
  int iVar1;
  int *piVar2;
  uint uVar3;
  int iVar4;
  int in_ECX;
  int *piVar5;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0efdf;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(in_ECX + 8) != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  local_8 = 0;
  piVar5 = (int *)**(int **)(in_ECX + 0x188);
  if (piVar5 != *(int **)(in_ECX + 0x188)) {
    do {
      piVar2 = (int *)piVar5[9];
      iVar4 = (**(code **)(*piVar2 + 4))(uVar3);
      if (iVar4 == 2) {
LAB_007d3d4e:
        if ((char)piVar2[0x1c] == '\0') {
          iVar4 = *(int *)((int)param_1 + 0xc);
          iVar1 = *(int *)(param_1 + 1);
          *(undefined8 *)(piVar2 + 0xb) = *param_1;
          piVar2[0xd] = iVar1;
          piVar2[0xe] = iVar4;
        }
      }
      else {
        iVar4 = (**(code **)(*piVar2 + 4))();
        if (iVar4 == 1) goto LAB_007d3d4e;
        iVar4 = (**(code **)(*piVar2 + 4))();
        if (iVar4 == 0xd) goto LAB_007d3d4e;
      }
      piVar5 = (int *)*piVar5;
    } while (piVar5 != (int *)*(int *)(in_ECX + 0x188));
  }
  local_8 = 0xffffffff;
  if (*(int *)(in_ECX + 8) != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d3cd0 : PUSH EBP
007d3cd1 : MOV EBP,ESP
007d3cd3 : PUSH -0x1
007d3cd5 : PUSH 0xb0efdf
007d3cda : MOV EAX,FS:[0x0]
007d3ce0 : PUSH EAX
007d3ce1 : SUB ESP,0x14
007d3ce4 : PUSH EBX
007d3ce5 : PUSH ESI
007d3ce6 : PUSH EDI
007d3ce7 : MOV EAX,[0x00d66fa0]
007d3cec : XOR EAX,EBP
007d3cee : PUSH EAX
007d3cef : LEA EAX,[EBP + -0xc]
007d3cf2 : MOV FS:[0x0],EAX
007d3cf8 : MOV EBX,ECX
007d3cfa : MOV EAX,dword ptr [EBX + 0x8]
007d3cfd : MOV dword ptr [EBP + -0x10],EBX
007d3d00 : TEST EAX,EAX
007d3d02 : JZ 0x007d3d0e
007d3d04 : ADD EAX,0x4
007d3d07 : PUSH EAX
007d3d08 : CALL dword ptr [0x00b85118]
007d3d0e : MOV dword ptr [EBP + -0x4],0x0
007d3d15 : MOV EAX,dword ptr [EBX + 0x188]
007d3d1b : MOV EDI,dword ptr [EAX]
007d3d1d : CMP EDI,EAX
007d3d1f : JZ 0x007d3d9c
007d3d21 : MOV ESI,dword ptr [EDI + 0x24]
007d3d24 : MOV EAX,dword ptr [ESI]
007d3d26 : MOV EDX,dword ptr [EAX + 0x4]
007d3d29 : MOV ECX,ESI
007d3d2b : CALL EDX
007d3d2d : CMP EAX,0x2
007d3d30 : JZ 0x007d3d4e
007d3d32 : MOV EAX,dword ptr [ESI]
007d3d34 : MOV EDX,dword ptr [EAX + 0x4]
007d3d37 : MOV ECX,ESI
007d3d39 : CALL EDX
007d3d3b : CMP EAX,0x1
007d3d3e : JZ 0x007d3d4e
007d3d40 : MOV EAX,dword ptr [ESI]
007d3d42 : MOV EDX,dword ptr [EAX + 0x4]
007d3d45 : MOV ECX,ESI
007d3d47 : CALL EDX
007d3d49 : CMP EAX,0xd
007d3d4c : JNZ 0x007d3d92
007d3d4e : CMP byte ptr [ESI + 0x70],0x0
007d3d52 : JNZ 0x007d3d92
007d3d54 : MOV EAX,dword ptr [EBP + 0x8]
007d3d57 : MOVSS XMM0,dword ptr [EAX + 0xc]
007d3d5c : MOVSS dword ptr [EBP + -0x14],XMM0
007d3d61 : MOVSS XMM0,dword ptr [EAX]
007d3d65 : MOVSS dword ptr [EBP + -0x20],XMM0
007d3d6a : MOVSS XMM0,dword ptr [EAX + 0x4]
007d3d6f : MOVSS dword ptr [EBP + -0x1c],XMM0
007d3d74 : MOVSS XMM0,dword ptr [EAX + 0x8]
007d3d79 : MOVSS dword ptr [EBP + -0x18],XMM0
007d3d7e : MOVQ XMM0,qword ptr [EBP + -0x20]
007d3d83 : MOVQ qword ptr [ESI + 0x2c],XMM0
007d3d88 : MOVQ XMM0,qword ptr [EBP + -0x18]
007d3d8d : MOVQ qword ptr [ESI + 0x34],XMM0
007d3d92 : MOV EDI,dword ptr [EDI]
007d3d94 : CMP EDI,dword ptr [EBX + 0x188]
007d3d9a : JNZ 0x007d3d21
007d3d9c : MOV dword ptr [EBP + -0x4],0xffffffff
007d3da3 : MOV EBX,dword ptr [EBX + 0x8]
007d3da6 : TEST EBX,EBX
007d3da8 : JZ 0x007d3db4
007d3daa : ADD EBX,0x4
007d3dad : PUSH EBX
007d3dae : CALL dword ptr [0x00b8511c]
007d3db4 : MOV ECX,dword ptr [EBP + -0xc]
007d3db7 : MOV dword ptr FS:[0x0],ECX
007d3dbe : POP ECX
007d3dbf : POP EDI
007d3dc0 : POP ESI
007d3dc1 : POP EBX
007d3dc2 : MOV ESP,EBP
007d3dc4 : POP EBP
007d3dc5 : RET 0x4
