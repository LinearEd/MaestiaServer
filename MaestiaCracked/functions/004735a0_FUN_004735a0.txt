PROGRAM  : Maestia.exe
FUNCTION : FUN_004735a0
ENTRY    : 004735a0
BODY     : [[004735a0, 0047362b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004735a0(void)

{
  int iVar1;
  int iVar2;
  int *unaff_ESI;
  
  iVar2 = unaff_ESI[1];
  if ((iVar2 == 0) || (*unaff_ESI == 0)) {
    iVar1 = 0;
  }
  else {
    iVar1 = *(int *)(iVar2 + 4) + *unaff_ESI;
  }
  if (*(int *)(iVar1 + 0x1c) == 0) {
    iVar1 = 0;
    iVar2 = *unaff_ESI;
    while ((iVar2 != 0 && (iVar2 = FUN_0046b940(), iVar1 == *(int *)(iVar2 + 0x1c)))) {
      iVar1 = *unaff_ESI;
      iVar2 = FUN_0046b940();
      iVar2 = *(int *)(iVar2 + 0x20);
      *unaff_ESI = iVar2;
    }
  }
  else {
    if ((iVar2 == 0) || (*unaff_ESI == 0)) {
      iVar2 = 0;
    }
    else {
      iVar2 = *(int *)(iVar2 + 4) + *unaff_ESI;
    }
    *unaff_ESI = *(int *)(iVar2 + 0x1c);
    iVar2 = FUN_0046b940();
    if (*(int *)(iVar2 + 0x18) != 0) {
      do {
        iVar2 = FUN_0046b940();
        *unaff_ESI = *(int *)(iVar2 + 0x18);
        iVar2 = FUN_0046b940();
      } while (*(int *)(iVar2 + 0x18) != 0);
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
004735a0 : MOV EDX,dword ptr [ESI + 0x4]
004735a3 : TEST EDX,EDX
004735a5 : JZ 0x004735b4
004735a7 : MOV ECX,dword ptr [ESI]
004735a9 : TEST ECX,ECX
004735ab : JZ 0x004735b4
004735ad : MOV EAX,dword ptr [EDX + 0x4]
004735b0 : ADD EAX,ECX
004735b2 : JMP 0x004735b6
004735b4 : XOR EAX,EAX
004735b6 : CMP dword ptr [EAX + 0x1c],0x0
004735ba : JNZ 0x004735e5
004735bc : PUSH EDI
004735bd : XOR EDI,EDI
004735bf : CMP dword ptr [ESI],EDI
004735c1 : JZ 0x004735e1
004735c3 : MOV ECX,ESI
004735c5 : CALL 0x0046b940
004735ca : CMP EDI,dword ptr [EAX + 0x1c]
004735cd : JNZ 0x004735e1
004735cf : MOV EDI,dword ptr [ESI]
004735d1 : MOV ECX,ESI
004735d3 : CALL 0x0046b940
004735d8 : MOV EAX,dword ptr [EAX + 0x20]
004735db : MOV dword ptr [ESI],EAX
004735dd : TEST EAX,EAX
004735df : JNZ 0x004735c3
004735e1 : POP EDI
004735e2 : MOV EAX,ESI
004735e4 : RET
004735e5 : TEST EDX,EDX
004735e7 : JZ 0x004735f6
004735e9 : MOV ECX,dword ptr [ESI]
004735eb : TEST ECX,ECX
004735ed : JZ 0x004735f6
004735ef : MOV EAX,dword ptr [EDX + 0x4]
004735f2 : ADD EAX,ECX
004735f4 : JMP 0x004735f8
004735f6 : XOR EAX,EAX
004735f8 : MOV ECX,dword ptr [EAX + 0x1c]
004735fb : MOV dword ptr [ESI],ECX
004735fd : MOV ECX,ESI
004735ff : CALL 0x0046b940
00473604 : CMP dword ptr [EAX + 0x18],0x0
00473608 : JZ 0x004735e2
0047360a : LEA EBX,[EBX]
00473610 : MOV ECX,ESI
00473612 : CALL 0x0046b940
00473617 : MOV EDX,dword ptr [EAX + 0x18]
0047361a : MOV ECX,ESI
0047361c : MOV dword ptr [ESI],EDX
0047361e : CALL 0x0046b940
00473623 : CMP dword ptr [EAX + 0x18],0x0
00473627 : JNZ 0x00473610
00473629 : MOV EAX,ESI
0047362b : RET
