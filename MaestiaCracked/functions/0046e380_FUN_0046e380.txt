PROGRAM  : Maestia.exe
FUNCTION : FUN_0046e380
ENTRY    : 0046e380
BODY     : [[0046e380, 0046e48a]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int FUN_0046e380(int param_1)

{
  int iVar1;
  undefined1 local_30 [4];
  undefined4 local_2c;
  void *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b82b0b;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (DAT_00da98c8 == (int *)0x0) {
    local_14 = _malloc(0x68);
  }
  else {
    local_14 = (void *)(**(code **)(*DAT_00da98c8 + 4))(0x68,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  }
  if (local_14 == (void *)0x0) {
    local_14 = (void *)0x0;
  }
  else {
    _DAT_00da98cc = _DAT_00da98cc + 0x68;
    _DAT_00da98d0 = _DAT_00da98d0 + 1;
  }
  local_8 = 1;
  if (local_14 == (void *)0x0) {
    iVar1 = 0;
  }
  else {
    iVar1 = FUN_00473c70(local_14,1,0);
  }
  local_8 = 0xffffffff;
  if (*(int *)(param_1 + 0x1a5c) != 0) {
    FUN_00471510();
    if (-1 < *(int *)(param_1 + 0xcd4)) {
      FUN_0046e220(local_30,*(int *)(param_1 + 0xcd4) * *(int *)(iVar1 + 0x38) * 4);
      local_8 = 2;
      FUN_00472820(local_2c,*(int *)(param_1 + 0xcd4) * 4);
      FUN_004728f0();
      local_8 = 0xffffffff;
      FUN_0046e2f0(local_30);
      ExceptionList = local_10;
      return iVar1;
    }
  }
  ExceptionList = local_10;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0046e380 : PUSH EBP
0046e381 : MOV EBP,ESP
0046e383 : PUSH -0x1
0046e385 : PUSH 0xb82b0b
0046e38a : MOV EAX,FS:[0x0]
0046e390 : PUSH EAX
0046e391 : SUB ESP,0x24
0046e394 : PUSH EBX
0046e395 : PUSH EDI
0046e396 : MOV EAX,[0x00d66fa0]
0046e39b : XOR EAX,EBP
0046e39d : PUSH EAX
0046e39e : LEA EAX,[EBP + -0xc]
0046e3a1 : MOV FS:[0x0],EAX
0046e3a7 : MOV EBX,dword ptr [EBP + 0x8]
0046e3aa : MOV ECX,dword ptr [0x00da98c8]
0046e3b0 : PUSH 0x68
0046e3b2 : TEST ECX,ECX
0046e3b4 : JZ 0x0046e3bf
0046e3b6 : MOV EAX,dword ptr [ECX]
0046e3b8 : MOV EDX,dword ptr [EAX + 0x4]
0046e3bb : CALL EDX
0046e3bd : JMP 0x0046e3c7
0046e3bf : CALL 0x00636043
0046e3c4 : ADD ESP,0x4
0046e3c7 : MOV ECX,0x1
0046e3cc : TEST EAX,EAX
0046e3ce : JZ 0x0046e3df
0046e3d0 : ADD dword ptr [0x00da98cc],0x68
0046e3d7 : ADD dword ptr [0x00da98d0],ECX
0046e3dd : JMP 0x0046e3e1
0046e3df : XOR EAX,EAX
0046e3e1 : MOV dword ptr [EBP + 0x8],EAX
0046e3e4 : MOV dword ptr [EBP + -0x10],EAX
0046e3e7 : MOV dword ptr [EBP + -0x4],ECX
0046e3ea : TEST EAX,EAX
0046e3ec : JZ 0x0046e3fb
0046e3ee : PUSH 0x0
0046e3f0 : PUSH ECX
0046e3f1 : PUSH EAX
0046e3f2 : CALL 0x00473c70
0046e3f7 : MOV EDI,EAX
0046e3f9 : JMP 0x0046e3fd
0046e3fb : XOR EDI,EDI
0046e3fd : MOV dword ptr [EBP + -0x4],0xffffffff
0046e404 : MOV ECX,dword ptr [EBX + 0x1a5c]
0046e40a : TEST ECX,ECX
0046e40c : JNZ 0x0046e423
0046e40e : XOR EAX,EAX
0046e410 : MOV ECX,dword ptr [EBP + -0xc]
0046e413 : MOV dword ptr FS:[0x0],ECX
0046e41a : POP ECX
0046e41b : POP EDI
0046e41c : POP EBX
0046e41d : MOV ESP,EBP
0046e41f : POP EBP
0046e420 : RET 0x4
0046e423 : MOV EAX,EDI
0046e425 : CALL 0x00471510
0046e42a : MOV EAX,dword ptr [EBX + 0xcd4]
0046e430 : TEST EAX,EAX
0046e432 : JL 0x0046e40e
0046e434 : IMUL EAX,dword ptr [EDI + 0x38]
0046e438 : ADD EAX,EAX
0046e43a : ADD EAX,EAX
0046e43c : PUSH EAX
0046e43d : LEA EAX,[EBP + -0x2c]
0046e440 : PUSH EAX
0046e441 : CALL 0x0046e220
0046e446 : MOV dword ptr [EBP + -0x4],0x2
0046e44d : MOV ECX,dword ptr [EBX + 0xcd4]
0046e453 : MOV EDX,dword ptr [EBP + -0x28]
0046e456 : ADD ECX,ECX
0046e458 : ADD ECX,ECX
0046e45a : PUSH ECX
0046e45b : PUSH EDX
0046e45c : CALL 0x00472820
0046e461 : CALL 0x004728f0
0046e466 : MOV dword ptr [EBP + -0x4],0xffffffff
0046e46d : LEA EAX,[EBP + -0x2c]
0046e470 : PUSH EAX
0046e471 : CALL 0x0046e2f0
0046e476 : MOV EAX,EDI
0046e478 : MOV ECX,dword ptr [EBP + -0xc]
0046e47b : MOV dword ptr FS:[0x0],ECX
0046e482 : POP ECX
0046e483 : POP EDI
0046e484 : POP EBX
0046e485 : MOV ESP,EBP
0046e487 : POP EBP
0046e488 : RET 0x4
