PROGRAM  : Maestia.exe
FUNCTION : FUN_004c8a80
ENTRY    : 004c8a80
BODY     : [[004c8a80, 004c8abc] [004c8ac0, 004c8b43]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004c8a80(int param_1,undefined4 *param_2,undefined4 param_3)

{
  char cVar1;
  void **ppvVar2;
  undefined4 *puVar3;
  undefined1 auStack_d0 [72];
  undefined4 uStack_88;
  undefined1 *puStack_84;
  undefined1 auStack_80 [64];
  undefined4 uStack_40;
  undefined4 *puStack_3c;
  char cStack_38;
  undefined3 uStack_37;
  undefined4 uStack_34;
  uint uStack_30;
  char local_14;
  undefined3 uStack_13;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7a144;
  uStack_30 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  puVar3 = *(undefined4 **)(*(int *)(param_1 + 4) + 4);
  cVar1 = *(char *)((int)puVar3 + 0x5d);
  local_14 = '\x01';
  ppvVar2 = &local_10;
  local_10 = ExceptionList;
  cStack_38 = local_14;
  while (ExceptionList = ppvVar2, cVar1 == '\0') {
    puStack_84 = auStack_80;
    uStack_88 = 0x4c8ad3;
    FUN_004c7500();
    local_8 = 0;
    FUN_004c7500(auStack_d0);
    local_8 = 0xffffffff;
    cStack_38 = FUN_004c9db0();
    if (cStack_38 == '\0') {
      puVar3 = (undefined4 *)puVar3[2];
    }
    else {
      puVar3 = (undefined4 *)*puVar3;
    }
    ppvVar2 = ExceptionList;
    cVar1 = *(char *)((int)puVar3 + 0x5d);
  }
  uStack_37 = uStack_13;
  puStack_3c = &param_3;
  uStack_40 = 0x4c8b25;
  uStack_34 = param_3;
  puVar3 = (undefined4 *)FUN_004c9150();
  *param_2 = *puVar3;
  *(undefined1 *)(param_2 + 1) = 1;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
004c8a80 : PUSH EBP
004c8a81 : MOV EBP,ESP
004c8a83 : PUSH -0x1
004c8a85 : PUSH 0xb7a144
004c8a8a : MOV EAX,FS:[0x0]
004c8a90 : PUSH EAX
004c8a91 : SUB ESP,0x10
004c8a94 : PUSH EBX
004c8a95 : PUSH ESI
004c8a96 : PUSH EDI
004c8a97 : MOV EAX,[0x00d66fa0]
004c8a9c : XOR EAX,EBP
004c8a9e : PUSH EAX
004c8a9f : LEA EAX,[EBP + -0xc]
004c8aa2 : MOV FS:[0x0],EAX
004c8aa8 : MOV EAX,dword ptr [EBP + 0x8]
004c8aab : MOV EBX,dword ptr [EAX + 0x4]
004c8aae : MOV ESI,dword ptr [EBX + 0x4]
004c8ab1 : CMP byte ptr [ESI + 0x5d],0x0
004c8ab5 : MOV byte ptr [EBP + -0x10],0x1
004c8ab9 : JNZ 0x004c8b0f
004c8abb : JMP 0x004c8ac0
004c8ac0 : SUB ESP,0x50
004c8ac3 : MOV ECX,ESP
004c8ac5 : MOV dword ptr [EBP + -0x14],ESP
004c8ac8 : LEA EDI,[ESI + 0xc]
004c8acb : PUSH ECX
004c8acc : MOV EBX,ESI
004c8ace : CALL 0x004c7500
004c8ad3 : MOV dword ptr [EBP + -0x4],0x0
004c8ada : MOV EDI,dword ptr [EBP + 0x10]
004c8add : SUB ESP,0x50
004c8ae0 : MOV EDX,ESP
004c8ae2 : MOV dword ptr [EBP + -0x18],ESP
004c8ae5 : PUSH EDX
004c8ae6 : CALL 0x004c7500
004c8aeb : MOV byte ptr [EBP + -0x4],0x1
004c8aef : MOV dword ptr [EBP + -0x4],0xffffffff
004c8af6 : CALL 0x004c9db0
004c8afb : MOV byte ptr [EBP + -0x10],AL
004c8afe : TEST AL,AL
004c8b00 : JZ 0x004c8b06
004c8b02 : MOV ESI,dword ptr [ESI]
004c8b04 : JMP 0x004c8b09
004c8b06 : MOV ESI,dword ptr [ESI + 0x8]
004c8b09 : CMP byte ptr [ESI + 0x5d],0x0
004c8b0d : JZ 0x004c8ac0
004c8b0f : MOV EAX,dword ptr [EBP + 0x10]
004c8b12 : MOV ECX,dword ptr [EBP + -0x10]
004c8b15 : MOV EDI,dword ptr [EBP + 0x8]
004c8b18 : PUSH EAX
004c8b19 : PUSH ECX
004c8b1a : LEA EDX,[EBP + 0x10]
004c8b1d : PUSH EDX
004c8b1e : MOV ECX,EBX
004c8b20 : CALL 0x004c9150
004c8b25 : MOV ECX,dword ptr [EAX]
004c8b27 : MOV EAX,dword ptr [EBP + 0xc]
004c8b2a : MOV dword ptr [EAX],ECX
004c8b2c : MOV byte ptr [EAX + 0x4],0x1
004c8b30 : MOV ECX,dword ptr [EBP + -0xc]
004c8b33 : MOV dword ptr FS:[0x0],ECX
004c8b3a : POP ECX
004c8b3b : POP EDI
004c8b3c : POP ESI
004c8b3d : POP EBX
004c8b3e : MOV ESP,EBP
004c8b40 : POP EBP
004c8b41 : RET 0xc
