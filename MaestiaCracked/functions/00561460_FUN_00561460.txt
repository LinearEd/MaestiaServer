PROGRAM  : Maestia.exe
FUNCTION : FUN_00561460
ENTRY    : 00561460
BODY     : [[00561460, 005614d3]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_00561460(uint param_1)

{
  int *piVar1;
  int *in_ECX;
  
  if (0xffa < param_1) {
    piVar1 = (int *)FUN_00515840(param_1 + 4,0);
    if (piVar1 == (int *)0x0) {
      return (int *)0x0;
    }
    *piVar1 = in_ECX[2];
    in_ECX[2] = (int)piVar1;
    return piVar1 + 1;
  }
  if ((uint)in_ECX[1] < param_1) {
    piVar1 = (int *)FUN_00515840(0x1ff8,0);
    if (piVar1 == (int *)0x0) {
      return (int *)0x0;
    }
    *piVar1 = in_ECX[2];
    in_ECX[2] = (int)piVar1;
    *in_ECX = (int)(piVar1 + 1);
    in_ECX[1] = 0x1ff4;
  }
  piVar1 = (int *)*in_ECX;
  in_ECX[1] = in_ECX[1] - param_1;
  *in_ECX = (int)piVar1 + param_1;
  return piVar1;
}



============================================================
DISASSEMBLY
============================================================
00561460 : PUSH ESI
00561461 : PUSH EDI
00561462 : MOV EDI,dword ptr [ESP + 0xc]
00561466 : MOV ESI,ECX
00561468 : CMP EDI,0xffa
0056146e : JBE 0x00561492
00561470 : MOV ECX,dword ptr [ESI + 0xc]
00561473 : PUSH 0x0
00561475 : ADD EDI,0x4
00561478 : PUSH EDI
00561479 : CALL 0x00515840
0056147e : TEST EAX,EAX
00561480 : JZ 0x005614aa
00561482 : MOV ECX,dword ptr [ESI + 0x8]
00561485 : MOV dword ptr [EAX],ECX
00561487 : MOV dword ptr [ESI + 0x8],EAX
0056148a : POP EDI
0056148b : ADD EAX,0x4
0056148e : POP ESI
0056148f : RET 0x4
00561492 : CMP EDI,dword ptr [ESI + 0x4]
00561495 : JBE 0x005614c5
00561497 : MOV ECX,dword ptr [ESI + 0xc]
0056149a : PUSH 0x0
0056149c : PUSH 0x1ff8
005614a1 : CALL 0x00515840
005614a6 : TEST EAX,EAX
005614a8 : JNZ 0x005614b1
005614aa : POP EDI
005614ab : XOR EAX,EAX
005614ad : POP ESI
005614ae : RET 0x4
005614b1 : MOV EDX,dword ptr [ESI + 0x8]
005614b4 : MOV dword ptr [EAX],EDX
005614b6 : MOV dword ptr [ESI + 0x8],EAX
005614b9 : ADD EAX,0x4
005614bc : MOV dword ptr [ESI],EAX
005614be : MOV dword ptr [ESI + 0x4],0x1ff4
005614c5 : MOV EAX,dword ptr [ESI]
005614c7 : SUB dword ptr [ESI + 0x4],EDI
005614ca : LEA ECX,[EAX + EDI*0x1]
005614cd : POP EDI
005614ce : MOV dword ptr [ESI],ECX
005614d0 : POP ESI
005614d1 : RET 0x4
