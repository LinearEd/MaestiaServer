PROGRAM  : Maestia.exe
FUNCTION : FUN_004e6410
ENTRY    : 004e6410
BODY     : [[004e6410, 004e6592]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004e6410(void)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  uint uVar4;
  int in_ECX;
  int iVar5;
  int local_10;
  int local_c;
  int local_8;
  
  local_8 = in_ECX;
  FUN_006fdb90(in_ECX + 0x210);
  FUN_006fdb90(in_ECX + 0x244);
  iVar1 = in_ECX + 8;
  iVar5 = in_ECX + 0x4d8;
  local_c = 0x16;
  do {
    *(char *)(iVar5 + 4) = (char)(*(int *)(in_ECX + 0x10) - *(int *)(in_ECX + 0xc) >> 2);
    iVar2 = *(int *)(in_ECX + 0xc);
    if (iVar2 == 0) {
      uVar4 = 0;
    }
    else {
      uVar4 = *(int *)(in_ECX + 0x14) - iVar2 >> 2;
    }
    piVar3 = *(int **)(in_ECX + 0x10);
    if ((uint)((int)piVar3 - iVar2 >> 2) < uVar4) {
      *piVar3 = iVar5;
      *(int **)(in_ECX + 0x10) = piVar3 + 1;
    }
    else {
      local_10 = iVar5;
      FUN_0042fe80(iVar1,piVar3,&local_10);
    }
    iVar5 = iVar5 + 0x34;
    local_c = local_c + -1;
  } while (local_c != 0);
  local_10 = local_8 + 0x950;
  *(char *)(local_8 + 0x954) = (char)(*(int *)(in_ECX + 0x10) - *(int *)(in_ECX + 0xc) >> 2);
  iVar5 = *(int *)(in_ECX + 0xc);
  if (iVar5 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = *(int *)(in_ECX + 0x14) - iVar5 >> 2;
  }
  piVar3 = *(int **)(in_ECX + 0x10);
  if ((uint)((int)piVar3 - iVar5 >> 2) < uVar4) {
    *piVar3 = local_10;
    *(int **)(in_ECX + 0x10) = piVar3 + 1;
  }
  else {
    FUN_0042fe80(iVar1,piVar3,&local_10);
  }
  local_10 = local_8 + 0x984;
  *(char *)(local_8 + 0x988) = (char)(*(int *)(in_ECX + 0x10) - *(int *)(in_ECX + 0xc) >> 2);
  iVar5 = *(int *)(in_ECX + 0xc);
  if (iVar5 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = *(int *)(in_ECX + 0x14) - iVar5 >> 2;
  }
  piVar3 = *(int **)(in_ECX + 0x10);
  if ((uint)((int)piVar3 - iVar5 >> 2) < uVar4) {
    *piVar3 = local_10;
    *(int **)(in_ECX + 0x10) = piVar3 + 1;
  }
  else {
    FUN_0042fe80(iVar1,piVar3,&local_10);
  }
  local_10 = local_8 + 0x9b8;
  *(char *)(local_8 + 0x9bc) = (char)(*(int *)(in_ECX + 0x10) - *(int *)(in_ECX + 0xc) >> 2);
  iVar5 = *(int *)(in_ECX + 0xc);
  if (iVar5 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = *(int *)(in_ECX + 0x14) - iVar5 >> 2;
  }
  piVar3 = *(int **)(in_ECX + 0x10);
  if ((uint)((int)piVar3 - iVar5 >> 2) < uVar4) {
    *piVar3 = local_10;
    *(int **)(in_ECX + 0x10) = piVar3 + 1;
    return;
  }
  FUN_0042fe80(iVar1,piVar3,&local_10);
  return;
}



============================================================
DISASSEMBLY
============================================================
004e6410 : PUSH EBP
004e6411 : MOV EBP,ESP
004e6413 : SUB ESP,0xc
004e6416 : PUSH ESI
004e6417 : PUSH EDI
004e6418 : MOV EDI,ECX
004e641a : LEA EAX,[EDI + 0x210]
004e6420 : PUSH EAX
004e6421 : MOV EAX,EDI
004e6423 : MOV dword ptr [EBP + -0x4],EDI
004e6426 : CALL 0x006fdb90
004e642b : LEA ECX,[EDI + 0x244]
004e6431 : PUSH ECX
004e6432 : MOV EAX,EDI
004e6434 : CALL 0x006fdb90
004e6439 : LEA ESI,[EDI + 0x8]
004e643c : ADD EDI,0x4d8
004e6442 : MOV dword ptr [EBP + -0x8],0x16
004e6449 : PUSH EBX
004e644a : LEA EBX,[EBX]
004e6450 : MOV EDX,dword ptr [ESI + 0x8]
004e6453 : SUB EDX,dword ptr [ESI + 0x4]
004e6456 : MOV dword ptr [EBP + -0xc],EDI
004e6459 : SAR EDX,0x2
004e645c : MOV byte ptr [EDI + 0x4],DL
004e645f : MOV EDX,dword ptr [ESI + 0x4]
004e6462 : TEST EDX,EDX
004e6464 : JNZ 0x004e646a
004e6466 : XOR EAX,EAX
004e6468 : JMP 0x004e6472
004e646a : MOV EAX,dword ptr [ESI + 0xc]
004e646d : SUB EAX,EDX
004e646f : SAR EAX,0x2
004e6472 : MOV ECX,dword ptr [ESI + 0x8]
004e6475 : MOV EBX,ECX
004e6477 : SUB EBX,EDX
004e6479 : SAR EBX,0x2
004e647c : CMP EBX,EAX
004e647e : JNC 0x004e648a
004e6480 : MOV dword ptr [ECX],EDI
004e6482 : ADD ECX,0x4
004e6485 : MOV dword ptr [ESI + 0x8],ECX
004e6488 : JMP 0x004e6495
004e648a : LEA EAX,[EBP + -0xc]
004e648d : PUSH EAX
004e648e : PUSH ECX
004e648f : PUSH ESI
004e6490 : CALL 0x0042fe80
004e6495 : ADD EDI,0x34
004e6498 : SUB dword ptr [EBP + -0x8],0x1
004e649c : JNZ 0x004e6450
004e649e : MOV ECX,dword ptr [ESI + 0x8]
004e64a1 : SUB ECX,dword ptr [ESI + 0x4]
004e64a4 : MOV EBX,dword ptr [EBP + -0x4]
004e64a7 : ADD EBX,0x950
004e64ad : SAR ECX,0x2
004e64b0 : MOV byte ptr [EBX + 0x4],CL
004e64b3 : MOV EDX,dword ptr [ESI + 0x4]
004e64b6 : MOV dword ptr [EBP + -0xc],EBX
004e64b9 : TEST EDX,EDX
004e64bb : JNZ 0x004e64c1
004e64bd : XOR EAX,EAX
004e64bf : JMP 0x004e64c9
004e64c1 : MOV EAX,dword ptr [ESI + 0xc]
004e64c4 : SUB EAX,EDX
004e64c6 : SAR EAX,0x2
004e64c9 : MOV ECX,dword ptr [ESI + 0x8]
004e64cc : MOV EDI,ECX
004e64ce : SUB EDI,EDX
004e64d0 : SAR EDI,0x2
004e64d3 : CMP EDI,EAX
004e64d5 : JNC 0x004e64e1
004e64d7 : MOV dword ptr [ECX],EBX
004e64d9 : ADD ECX,0x4
004e64dc : MOV dword ptr [ESI + 0x8],ECX
004e64df : JMP 0x004e64ec
004e64e1 : LEA EDX,[EBP + -0xc]
004e64e4 : PUSH EDX
004e64e5 : PUSH ECX
004e64e6 : PUSH ESI
004e64e7 : CALL 0x0042fe80
004e64ec : MOV EAX,dword ptr [ESI + 0x8]
004e64ef : SUB EAX,dword ptr [ESI + 0x4]
004e64f2 : MOV EDI,dword ptr [EBP + -0x4]
004e64f5 : ADD EDI,0x984
004e64fb : SAR EAX,0x2
004e64fe : MOV byte ptr [EDI + 0x4],AL
004e6501 : MOV EDX,dword ptr [ESI + 0x4]
004e6504 : MOV dword ptr [EBP + -0xc],EDI
004e6507 : TEST EDX,EDX
004e6509 : JNZ 0x004e650f
004e650b : XOR EAX,EAX
004e650d : JMP 0x004e6517
004e650f : MOV EAX,dword ptr [ESI + 0xc]
004e6512 : SUB EAX,EDX
004e6514 : SAR EAX,0x2
004e6517 : MOV ECX,dword ptr [ESI + 0x8]
004e651a : MOV EBX,ECX
004e651c : SUB EBX,EDX
004e651e : SAR EBX,0x2
004e6521 : CMP EBX,EAX
004e6523 : JNC 0x004e652f
004e6525 : MOV dword ptr [ECX],EDI
004e6527 : ADD ECX,0x4
004e652a : MOV dword ptr [ESI + 0x8],ECX
004e652d : JMP 0x004e653a
004e652f : LEA EDX,[EBP + -0xc]
004e6532 : PUSH EDX
004e6533 : PUSH ECX
004e6534 : PUSH ESI
004e6535 : CALL 0x0042fe80
004e653a : MOV EAX,dword ptr [ESI + 0x8]
004e653d : SUB EAX,dword ptr [ESI + 0x4]
004e6540 : MOV EDI,dword ptr [EBP + -0x4]
004e6543 : ADD EDI,0x9b8
004e6549 : SAR EAX,0x2
004e654c : MOV byte ptr [EDI + 0x4],AL
004e654f : MOV EDX,dword ptr [ESI + 0x4]
004e6552 : MOV dword ptr [EBP + -0xc],EDI
004e6555 : TEST EDX,EDX
004e6557 : JNZ 0x004e655d
004e6559 : XOR EAX,EAX
004e655b : JMP 0x004e6565
004e655d : MOV EAX,dword ptr [ESI + 0xc]
004e6560 : SUB EAX,EDX
004e6562 : SAR EAX,0x2
004e6565 : MOV ECX,dword ptr [ESI + 0x8]
004e6568 : MOV EBX,ECX
004e656a : SUB EBX,EDX
004e656c : SAR EBX,0x2
004e656f : CMP EBX,EAX
004e6571 : POP EBX
004e6572 : JNC 0x004e6582
004e6574 : MOV dword ptr [ECX],EDI
004e6576 : ADD ECX,0x4
004e6579 : POP EDI
004e657a : MOV dword ptr [ESI + 0x8],ECX
004e657d : POP ESI
004e657e : MOV ESP,EBP
004e6580 : POP EBP
004e6581 : RET
004e6582 : LEA EDX,[EBP + -0xc]
004e6585 : PUSH EDX
004e6586 : PUSH ECX
004e6587 : PUSH ESI
004e6588 : CALL 0x0042fe80
004e658d : POP EDI
004e658e : POP ESI
004e658f : MOV ESP,EBP
004e6591 : POP EBP
004e6592 : RET
