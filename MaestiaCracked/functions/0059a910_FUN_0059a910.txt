PROGRAM  : Maestia.exe
FUNCTION : FUN_0059a910
ENTRY    : 0059a910
BODY     : [[0059a910, 0059a97d]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_0059a910(undefined4 param_1,int param_2,int param_3,int *param_4)

{
  int *piVar1;
  
  piVar1 = (int *)FUN_005991b0((-(uint)(param_4 != (int *)0x0) & 0xc) + 0x20 + param_2 * 8 +
                               param_3 * 4,param_4);
  if (piVar1 == (int *)0x0) {
    return (int *)0x0;
  }
  if (*piVar1 < 0) {
    *(char *)(piVar1 + 7) = (char)param_2;
  }
  else {
    piVar1[1] = param_2;
  }
  param_4 = piVar1;
  FUN_0059a650(param_1,&param_4);
  return piVar1;
}



============================================================
DISASSEMBLY
============================================================
0059a910 : PUSH EBX
0059a911 : MOV EBX,dword ptr [ESP + 0xc]
0059a915 : PUSH ESI
0059a916 : PUSH EDI
0059a917 : MOV EDI,ECX
0059a919 : MOV ECX,dword ptr [ESP + 0x1c]
0059a91d : MOV EAX,ECX
0059a91f : NEG EAX
0059a921 : SBB EAX,EAX
0059a923 : AND EAX,0xc
0059a926 : ADD EAX,0x1a
0059a929 : PUSH ECX
0059a92a : MOV ECX,dword ptr [ESP + 0x1c]
0059a92e : LEA EAX,[EAX + EBX*0x8 + 0x7]
0059a932 : AND EAX,0xfffffffc
0059a935 : LEA EDX,[EAX + ECX*0x4]
0059a938 : PUSH EDX
0059a939 : LEA ECX,[EDI + 0xc0]
0059a93f : CALL 0x005991b0
0059a944 : MOV ESI,EAX
0059a946 : MOV dword ptr [ESP + 0x1c],ESI
0059a94a : TEST ESI,ESI
0059a94c : JNZ 0x0059a954
0059a94e : POP EDI
0059a94f : POP ESI
0059a950 : POP EBX
0059a951 : RET 0x10
0059a954 : MOV EAX,dword ptr [ESI]
0059a956 : SHR EAX,0x1f
0059a959 : TEST AL,0x1
0059a95b : JZ 0x0059a962
0059a95d : MOV byte ptr [ESI + 0x1c],BL
0059a960 : JMP 0x0059a965
0059a962 : MOV dword ptr [ESI + 0x4],EBX
0059a965 : MOV EDX,dword ptr [ESP + 0x10]
0059a969 : LEA ECX,[ESP + 0x1c]
0059a96d : PUSH ECX
0059a96e : PUSH EDX
0059a96f : MOV ECX,EDI
0059a971 : CALL 0x0059a650
0059a976 : POP EDI
0059a977 : MOV EAX,ESI
0059a979 : POP ESI
0059a97a : POP EBX
0059a97b : RET 0x10
