PROGRAM  : Maestia.exe
FUNCTION : FUN_0088bf30
ENTRY    : 0088bf30
BODY     : [[0088bf30, 0088c07b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0088bf30(int param_1,int param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  short sVar3;
  int *in_ECX;
  bool bVar4;
  undefined1 local_2c [24];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1c5fe;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if ((char)in_ECX[0x109] == '\0') {
    iVar2 = *(int *)(in_ECX[0x4e] + 4);
    piVar1 = in_ECX + 0x456;
    sVar3 = FUN_0043d970(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    if (sVar3 == 1000) {
      bVar4 = *(int **)((int)in_ECX + iVar2 + 0x13c) == piVar1;
    }
    else if (sVar3 == 2000) {
      bVar4 = *(int **)((int)in_ECX + iVar2 + 0x140) == piVar1;
    }
    else {
      bVar4 = *(int **)((int)in_ECX + iVar2 + 0x144) == piVar1;
    }
    if (!bVar4) {
      (**(code **)(*in_ECX + 0x338))(1);
      (**(code **)(*in_ECX + 0x2a0))(&param_1,1);
      in_ECX[0x560] = param_1;
      in_ECX[0x561] = param_2;
      in_ECX[0x562] = param_3;
      if (((float)in_ECX[0x560] <= 0.0 && (float)in_ECX[0x560] != 0.0) ||
         ((float)in_ECX[0x562] <= 0.0 && (float)in_ECX[0x562] != 0.0)) {
        FUN_00406460(L"AvaBaseCharacter::OnMsgBlink ErrSetPos");
        local_8 = 0;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"AvaBaseCharacter::OnMsgBlink",0x1b9b,local_2c);
        }
        local_8 = 0xffffffff;
        if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
      }
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0088bf30 : PUSH EBP
0088bf31 : MOV EBP,ESP
0088bf33 : PUSH -0x1
0088bf35 : PUSH 0xb1c5fe
0088bf3a : MOV EAX,FS:[0x0]
0088bf40 : PUSH EAX
0088bf41 : SUB ESP,0x1c
0088bf44 : PUSH EBX
0088bf45 : PUSH ESI
0088bf46 : PUSH EDI
0088bf47 : MOV EAX,[0x00d66fa0]
0088bf4c : XOR EAX,EBP
0088bf4e : PUSH EAX
0088bf4f : LEA EAX,[EBP + -0xc]
0088bf52 : MOV FS:[0x0],EAX
0088bf58 : MOV ESI,ECX
0088bf5a : CMP byte ptr [ESI + 0x424],0x0
0088bf61 : JNZ 0x0088c068
0088bf67 : MOV EAX,dword ptr [ESI + 0x138]
0088bf6d : MOV ECX,dword ptr [EAX + 0x4]
0088bf70 : MOV AX,word ptr [ESI + 0x1182]
0088bf77 : LEA EDI,[ESI + 0x1158]
0088bf7d : LEA EBX,[ECX + ESI*0x1 + 0x138]
0088bf84 : CALL 0x0043d970
0088bf89 : MOV EDX,0x3e8
0088bf8e : CMP AX,DX
0088bf91 : JNZ 0x0088bf98
0088bf93 : CMP dword ptr [EBX + 0x4],EDI
0088bf96 : JMP 0x0088bfaa
0088bf98 : MOV ECX,0x7d0
0088bf9d : CMP AX,CX
0088bfa0 : JNZ 0x0088bfa7
0088bfa2 : CMP dword ptr [EBX + 0x8],EDI
0088bfa5 : JMP 0x0088bfaa
0088bfa7 : CMP dword ptr [EBX + 0xc],EDI
0088bfaa : SETZ AL
0088bfad : TEST AL,AL
0088bfaf : JNZ 0x0088c068
0088bfb5 : MOV EDX,dword ptr [ESI]
0088bfb7 : MOV EAX,dword ptr [EDX + 0x338]
0088bfbd : PUSH 0x1
0088bfbf : MOV ECX,ESI
0088bfc1 : CALL EAX
0088bfc3 : MOV EDX,dword ptr [ESI]
0088bfc5 : MOV EDX,dword ptr [EDX + 0x2a0]
0088bfcb : PUSH 0x1
0088bfcd : LEA EAX,[EBP + 0x8]
0088bfd0 : PUSH EAX
0088bfd1 : MOV ECX,ESI
0088bfd3 : CALL EDX
0088bfd5 : MOVSS XMM0,dword ptr [EBP + 0x8]
0088bfda : MOVSS dword ptr [ESI + 0x1580],XMM0
0088bfe2 : MOVSS XMM0,dword ptr [EBP + 0xc]
0088bfe7 : MOVSS dword ptr [ESI + 0x1584],XMM0
0088bfef : MOVSS XMM0,dword ptr [EBP + 0x10]
0088bff4 : MOVSS dword ptr [ESI + 0x1588],XMM0
0088bffc : XORPS XMM0,XMM0
0088bfff : COMISS XMM0,dword ptr [ESI + 0x1580]
0088c006 : JA 0x0088c011
0088c008 : COMISS XMM0,dword ptr [ESI + 0x1588]
0088c00f : JBE 0x0088c068
0088c011 : PUSH 0xc476c8
0088c016 : LEA ECX,[EBP + -0x28]
0088c019 : CALL 0x00406460
0088c01e : XOR ESI,ESI
0088c020 : MOV dword ptr [EBP + -0x4],ESI
0088c023 : MOV EAX,[0x00da98e8]
0088c028 : MOV ECX,dword ptr [EAX]
0088c02a : CMP ECX,ESI
0088c02c : JZ 0x0088c043
0088c02e : MOV EDX,dword ptr [ECX]
0088c030 : MOV EDX,dword ptr [EDX + 0x14]
0088c033 : LEA EAX,[EBP + -0x28]
0088c036 : PUSH EAX
0088c037 : PUSH 0x1b9b
0088c03c : PUSH 0xc4768c
0088c041 : CALL EDX
0088c043 : MOV dword ptr [EBP + -0x4],0xffffffff
0088c04a : CMP dword ptr [EBP + -0x10],0x8
0088c04e : JC 0x0088c058
0088c050 : MOV ECX,dword ptr [EBP + -0x24]
0088c053 : CALL 0x006f04e0
0088c058 : XOR EAX,EAX
0088c05a : MOV dword ptr [EBP + -0x10],0x7
0088c061 : MOV dword ptr [EBP + -0x14],ESI
0088c064 : MOV word ptr [EBP + -0x24],AX
0088c068 : MOV ECX,dword ptr [EBP + -0xc]
0088c06b : MOV dword ptr FS:[0x0],ECX
0088c072 : POP ECX
0088c073 : POP EDI
0088c074 : POP ESI
0088c075 : POP EBX
0088c076 : MOV ESP,EBP
0088c078 : POP EBP
0088c079 : RET 0xc
