PROGRAM  : Maestia.exe
FUNCTION : FUN_0087cb30
ENTRY    : 0087cb30
BODY     : [[0087cb30, 0087cc1c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0087cb30(char param_1)

{
  int in_EAX;
  int iVar1;
  wchar_t *pwVar2;
  undefined4 uVar3;
  
  if (*(int *)(in_EAX + 0x16d0) != 1) {
    return;
  }
  if (param_1 == '\0') {
    (**(code **)(*(int *)(*(int *)(*(int *)(in_EAX + 0x138) + 4) + 0x138 + in_EAX) + 0x10))
              (in_EAX + 0xcf8,1,0,1);
    if (*(int *)(in_EAX + 1000) != 0) {
      FUN_007d7070(1);
    }
    if (*(char *)(in_EAX + 0x16d4) != '\0') {
      uVar3 = *(undefined4 *)(in_EAX + 8);
      *(undefined1 *)(in_EAX + 0x16d4) = 0;
      goto LAB_0087cbea;
    }
    pwVar2 = L"Error : Already Closed Door";
  }
  else {
    (**(code **)(*(int *)(*(int *)(*(int *)(in_EAX + 0x138) + 4) + 0x138 + in_EAX) + 0x10))
              (in_EAX + 0x7b8);
    if (*(int *)(in_EAX + 1000) != 0) {
      FUN_007d7070(0);
    }
    if (*(char *)(in_EAX + 0x16d4) == '\0') {
      uVar3 = *(undefined4 *)(in_EAX + 8);
      *(undefined1 *)(in_EAX + 0x16d4) = 1;
LAB_0087cbea:
      iVar1 = FUN_004049b0(uVar3);
      if (iVar1 == 0) {
        return;
      }
      *(undefined1 *)(in_EAX + 0x16d5) = 1;
      return;
    }
    pwVar2 = L"Error : Already Opened Door";
  }
  FUN_008018d0(pwVar2);
  return;
}



============================================================
DISASSEMBLY
============================================================
0087cb30 : PUSH EBP
0087cb31 : MOV EBP,ESP
0087cb33 : PUSH ECX
0087cb34 : PUSH EBX
0087cb35 : PUSH ESI
0087cb36 : MOV ESI,EAX
0087cb38 : MOV EBX,0x1
0087cb3d : CMP dword ptr [ESI + 0x16d0],EBX
0087cb43 : JNZ 0x0087cc16
0087cb49 : CMP byte ptr [EBP + 0x8],0x0
0087cb4d : PUSH EBX
0087cb4e : PUSH 0x0
0087cb50 : PUSH EBX
0087cb51 : JZ 0x0087cba3
0087cb53 : MOV EAX,dword ptr [ESI + 0x138]
0087cb59 : MOV ECX,dword ptr [EAX + 0x4]
0087cb5c : MOV EDX,dword ptr [ECX + ESI*0x1 + 0x138]
0087cb63 : MOV EDX,dword ptr [EDX + 0x10]
0087cb66 : LEA ECX,[ECX + ESI*0x1 + 0x138]
0087cb6d : LEA EAX,[ESI + 0x7b8]
0087cb73 : PUSH EAX
0087cb74 : CALL EDX
0087cb76 : MOV ECX,dword ptr [ESI + 0x3e8]
0087cb7c : TEST ECX,ECX
0087cb7e : JZ 0x0087cb87
0087cb80 : PUSH 0x0
0087cb82 : CALL 0x007d7070
0087cb87 : CMP byte ptr [ESI + 0x16d4],0x0
0087cb8e : JZ 0x0087cb97
0087cb90 : PUSH 0xc44494
0087cb95 : JMP 0x0087cc08
0087cb97 : MOV EAX,dword ptr [ESI + 0x8]
0087cb9a : MOV byte ptr [ESI + 0x16d4],BL
0087cba0 : PUSH EAX
0087cba1 : JMP 0x0087cbea
0087cba3 : MOV ECX,dword ptr [ESI + 0x138]
0087cba9 : MOV EDX,dword ptr [ECX + 0x4]
0087cbac : MOV EAX,dword ptr [EDX + ESI*0x1 + 0x138]
0087cbb3 : MOV EAX,dword ptr [EAX + 0x10]
0087cbb6 : LEA ECX,[EDX + ESI*0x1 + 0x138]
0087cbbd : LEA EDX,[ESI + 0xcf8]
0087cbc3 : PUSH EDX
0087cbc4 : CALL EAX
0087cbc6 : MOV ECX,dword ptr [ESI + 0x3e8]
0087cbcc : TEST ECX,ECX
0087cbce : JZ 0x0087cbd6
0087cbd0 : PUSH EBX
0087cbd1 : CALL 0x007d7070
0087cbd6 : CMP byte ptr [ESI + 0x16d4],0x0
0087cbdd : JZ 0x0087cc03
0087cbdf : MOV ECX,dword ptr [ESI + 0x8]
0087cbe2 : MOV byte ptr [ESI + 0x16d4],0x0
0087cbe9 : PUSH ECX
0087cbea : CALL 0x004049b0
0087cbef : ADD ESP,0x4
0087cbf2 : TEST EAX,EAX
0087cbf4 : JZ 0x0087cc16
0087cbf6 : MOV byte ptr [ESI + 0x16d5],BL
0087cbfc : POP ESI
0087cbfd : POP EBX
0087cbfe : POP ECX
0087cbff : POP EBP
0087cc00 : RET 0x4
0087cc03 : PUSH 0xc444cc
0087cc08 : MOV ESI,dword ptr [0x00da98e8]
0087cc0e : CALL 0x008018d0
0087cc13 : ADD ESP,0x4
0087cc16 : POP ESI
0087cc17 : POP EBX
0087cc18 : POP ECX
0087cc19 : POP EBP
0087cc1a : RET 0x4
