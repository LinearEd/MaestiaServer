PROGRAM  : Maestia.exe
FUNCTION : FUN_007a5620
ENTRY    : 007a5620
BODY     : [[007a5620, 007a5851]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007a5620(void)

{
  int *piVar1;
  undefined4 uVar2;
  char cVar3;
  BOOL BVar4;
  undefined **in_ECX;
  uint unaff_EBX;
  undefined **unaff_ESI;
  uint unaff_EDI;
  uint uVar5;
  uint uStack_144;
  uint uStack_134;
  undefined **local_130;
  uint uStack_12c;
  uint uStack_128;
  undefined **ppuStack_124;
  DEVMODEW local_100;
  undefined4 uStack_24;
  uint local_1c;
  undefined4 uStack_18;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b19b23;
  local_14 = ExceptionList;
  local_1c = DAT_00d66fa0 ^ (uint)&uStack_134;
  uStack_144 = DAT_00d66fa0 ^ (uint)&stack0xfffffec0;
  ExceptionList = &local_14;
  piVar1 = *(int **)(in_ECX[1] + 4);
  uVar2 = *(undefined4 *)(in_ECX[1] + 8);
  local_130 = in_ECX;
  BVar4 = EnumDisplaySettingsW((LPCWSTR)0x0,0xffffffff,&local_100);
  if (BVar4 != 0) {
    in_ECX[6] = (undefined *)local_100.dmDisplayFrequency;
  }
  uStack_128 = (**(code **)(*piVar1 + 0x18))(piVar1);
  uVar5 = 0;
  if (uStack_128 != 0) {
    do {
      (**(code **)(*piVar1 + 0x1c))(piVar1,uVar2,0x17,uVar5,&stack0xfffffec8);
      if (((799 < unaff_EBX) && (599 < uStack_134)) && (local_130 < (undefined **)0xf6)) {
        cVar3 = FUN_007a5510(unaff_EBX,uStack_134,CONCAT44(uStack_12c,local_130));
        if (cVar3 != '\0') {
          ppuStack_124 = &PTR_FUN_00cd083c;
          uStack_18 = 0;
          FUN_00479940();
          uStack_18 = 0xffffffff;
          ppuStack_124 = &PTR_FUN_00cd083c;
        }
      }
      uVar5 = uVar5 + 1;
    } while (uVar5 < uStack_128);
  }
  uStack_134 = (**(code **)(*piVar1 + 0x18))(piVar1,uVar2,0x16);
  uVar5 = 0;
  if (uStack_134 != 0) {
    do {
      (**(code **)(*piVar1 + 0x1c))(piVar1,uVar2,0x16,uVar5,&uStack_144);
      if (((799 < uStack_144) && (599 < unaff_EDI)) && (unaff_ESI < (undefined **)0xf6)) {
        cVar3 = FUN_007a5510(CONCAT44(unaff_EDI,uStack_144),unaff_ESI,unaff_EBX);
        if (cVar3 != '\0') {
          uStack_12c = uStack_144;
          local_130 = &PTR_FUN_00cd083c;
          uStack_24 = 1;
          uStack_128 = unaff_EDI;
          ppuStack_124 = unaff_ESI;
          FUN_00479940(&local_130);
          uStack_24 = 0xffffffff;
          local_130 = &PTR_FUN_00cd083c;
        }
      }
      uVar5 = uVar5 + 1;
    } while (uVar5 < uStack_134);
  }
  ExceptionList = (void *)local_100.dmPanningWidth;
  __security_check_cookie(local_100.dmReserved1 ^ (uint)&stack0xfffffeb4);
  return;
}



============================================================
DISASSEMBLY
============================================================
007a5620 : PUSH EBP
007a5621 : MOV EBP,ESP
007a5623 : AND ESP,0xfffffff8
007a5626 : PUSH -0x1
007a5628 : PUSH 0xb19b23
007a562d : MOV EAX,FS:[0x0]
007a5633 : PUSH EAX
007a5634 : SUB ESP,0x120
007a563a : MOV EAX,[0x00d66fa0]
007a563f : XOR EAX,ESP
007a5641 : MOV dword ptr [ESP + 0x118],EAX
007a5648 : PUSH EBX
007a5649 : PUSH ESI
007a564a : PUSH EDI
007a564b : MOV EAX,[0x00d66fa0]
007a5650 : XOR EAX,ESP
007a5652 : PUSH EAX
007a5653 : LEA EAX,[ESP + 0x130]
007a565a : MOV FS:[0x0],EAX
007a5660 : MOV EDI,ECX
007a5662 : MOV EAX,dword ptr [EDI + 0x4]
007a5665 : MOV ESI,dword ptr [EAX + 0x4]
007a5668 : MOV EBX,dword ptr [EAX + 0x8]
007a566b : LEA EAX,[ESP + 0x44]
007a566f : PUSH EAX
007a5670 : PUSH -0x1
007a5672 : PUSH 0x0
007a5674 : MOV dword ptr [ESP + 0x20],EDI
007a5678 : CALL dword ptr [0x00b854d4]
007a567e : TEST EAX,EAX
007a5680 : JZ 0x007a568c
007a5682 : MOV ECX,dword ptr [ESP + 0xfc]
007a5689 : MOV dword ptr [EDI + 0x18],ECX
007a568c : MOV EDX,dword ptr [ESI]
007a568e : MOV EAX,dword ptr [EDX + 0x18]
007a5691 : PUSH 0x17
007a5693 : PUSH EBX
007a5694 : PUSH ESI
007a5695 : CALL EAX
007a5697 : XOR EDI,EDI
007a5699 : MOV dword ptr [ESP + 0x28],EAX
007a569d : TEST EAX,EAX
007a569f : JBE 0x007a575d
007a56a5 : MOV ECX,dword ptr [ESI]
007a56a7 : MOV EAX,dword ptr [ECX + 0x1c]
007a56aa : LEA EDX,[ESP + 0x18]
007a56ae : PUSH EDX
007a56af : PUSH EDI
007a56b0 : PUSH 0x17
007a56b2 : PUSH EBX
007a56b3 : PUSH ESI
007a56b4 : CALL EAX
007a56b6 : CMP dword ptr [ESP + 0x18],0x320
007a56be : JC 0x007a5752
007a56c4 : CMP dword ptr [ESP + 0x1c],0x258
007a56cc : JC 0x007a5752
007a56d2 : CMP dword ptr [ESP + 0x20],0xf5
007a56da : JA 0x007a5752
007a56dc : MOVQ XMM0,qword ptr [ESP + 0x18]
007a56e2 : SUB ESP,0x10
007a56e5 : MOV EAX,ESP
007a56e7 : MOVQ qword ptr [EAX],XMM0
007a56eb : MOVQ XMM0,qword ptr [ESP + 0x30]
007a56f1 : MOVQ qword ptr [EAX + 0x8],XMM0
007a56f6 : MOV EAX,dword ptr [ESP + 0x24]
007a56fa : CALL 0x007a5510
007a56ff : TEST AL,AL
007a5701 : JZ 0x007a5752
007a5703 : MOVQ XMM0,qword ptr [ESP + 0x18]
007a5709 : MOVQ qword ptr [ESP + 0x30],XMM0
007a570f : MOVQ XMM0,qword ptr [ESP + 0x20]
007a5715 : MOV dword ptr [ESP + 0x2c],0xcd083c
007a571d : MOVQ qword ptr [ESP + 0x38],XMM0
007a5723 : MOV dword ptr [ESP + 0x138],0x0
007a572e : MOV EAX,dword ptr [ESP + 0x14]
007a5732 : LEA ECX,[ESP + 0x2c]
007a5736 : PUSH ECX
007a5737 : ADD EAX,0x8
007a573a : CALL 0x00479940
007a573f : MOV dword ptr [ESP + 0x138],0xffffffff
007a574a : MOV dword ptr [ESP + 0x2c],0xcd083c
007a5752 : INC EDI
007a5753 : CMP EDI,dword ptr [ESP + 0x28]
007a5757 : JC 0x007a56a5
007a575d : MOV EDX,dword ptr [ESI]
007a575f : MOV EAX,dword ptr [EDX + 0x18]
007a5762 : PUSH 0x16
007a5764 : PUSH EBX
007a5765 : PUSH ESI
007a5766 : CALL EAX
007a5768 : XOR EDI,EDI
007a576a : MOV dword ptr [ESP + 0x28],EAX
007a576e : TEST EAX,EAX
007a5770 : JBE 0x007a582e
007a5776 : MOV ECX,dword ptr [ESI]
007a5778 : MOV EAX,dword ptr [ECX + 0x1c]
007a577b : LEA EDX,[ESP + 0x18]
007a577f : PUSH EDX
007a5780 : PUSH EDI
007a5781 : PUSH 0x16
007a5783 : PUSH EBX
007a5784 : PUSH ESI
007a5785 : CALL EAX
007a5787 : CMP dword ptr [ESP + 0x18],0x320
007a578f : JC 0x007a5823
007a5795 : CMP dword ptr [ESP + 0x1c],0x258
007a579d : JC 0x007a5823
007a57a3 : CMP dword ptr [ESP + 0x20],0xf5
007a57ab : JA 0x007a5823
007a57ad : MOVQ XMM0,qword ptr [ESP + 0x18]
007a57b3 : SUB ESP,0x10
007a57b6 : MOV EAX,ESP
007a57b8 : MOVQ qword ptr [EAX],XMM0
007a57bc : MOVQ XMM0,qword ptr [ESP + 0x30]
007a57c2 : MOVQ qword ptr [EAX + 0x8],XMM0
007a57c7 : MOV EAX,dword ptr [ESP + 0x24]
007a57cb : CALL 0x007a5510
007a57d0 : TEST AL,AL
007a57d2 : JZ 0x007a5823
007a57d4 : MOVQ XMM0,qword ptr [ESP + 0x18]
007a57da : MOVQ qword ptr [ESP + 0x30],XMM0
007a57e0 : MOVQ XMM0,qword ptr [ESP + 0x20]
007a57e6 : MOV dword ptr [ESP + 0x2c],0xcd083c
007a57ee : MOVQ qword ptr [ESP + 0x38],XMM0
007a57f4 : MOV dword ptr [ESP + 0x138],0x1
007a57ff : MOV EAX,dword ptr [ESP + 0x14]
007a5803 : LEA ECX,[ESP + 0x2c]
007a5807 : PUSH ECX
007a5808 : ADD EAX,0x8
007a580b : CALL 0x00479940
007a5810 : MOV dword ptr [ESP + 0x138],0xffffffff
007a581b : MOV dword ptr [ESP + 0x2c],0xcd083c
007a5823 : INC EDI
007a5824 : CMP EDI,dword ptr [ESP + 0x28]
007a5828 : JC 0x007a5776
007a582e : MOV ECX,dword ptr [ESP + 0x130]
007a5835 : MOV dword ptr FS:[0x0],ECX
007a583c : POP ECX
007a583d : POP EDI
007a583e : POP ESI
007a583f : POP EBX
007a5840 : MOV ECX,dword ptr [ESP + 0x118]
007a5847 : XOR ECX,ESP
007a5849 : CALL 0x00633e6b
007a584e : MOV ESP,EBP
007a5850 : POP EBP
007a5851 : RET
