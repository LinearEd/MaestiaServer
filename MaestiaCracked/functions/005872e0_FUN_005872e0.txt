PROGRAM  : Maestia.exe
FUNCTION : FUN_005872e0
ENTRY    : 005872e0
BODY     : [[005872e0, 00587345]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005872e0(undefined4 param_1,uint param_2)

{
  int *in_ECX;
  
  if (param_2 < (uint)in_ECX[1]) {
    FUN_00586dd0(*in_ECX + param_2 * 0x1c,in_ECX[1] - param_2);
    if (param_2 < (uint)in_ECX[2] >> 1) {
      FUN_00586fb0(param_1,param_2);
      in_ECX[1] = param_2;
      return;
    }
  }
  else if ((uint)in_ECX[2] <= param_2) {
    FUN_00586fb0(param_1,(param_2 >> 2) + param_2);
  }
  in_ECX[1] = param_2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005872e0 : PUSH ESI
005872e1 : MOV ESI,dword ptr [ESP + 0xc]
005872e5 : PUSH EDI
005872e6 : MOV EDI,ECX
005872e8 : MOV EAX,dword ptr [EDI + 0x4]
005872eb : CMP ESI,EAX
005872ed : JNC 0x00587327
005872ef : MOV ECX,dword ptr [EDI]
005872f1 : SUB EAX,ESI
005872f3 : PUSH EAX
005872f4 : LEA EAX,[ESI*0x8 + 0x0]
005872fb : SUB EAX,ESI
005872fd : LEA EDX,[ECX + EAX*0x4]
00587300 : PUSH EDX
00587301 : CALL 0x00586dd0
00587306 : MOV EAX,dword ptr [EDI + 0x8]
00587309 : SHR EAX,0x1
0058730b : ADD ESP,0x8
0058730e : CMP ESI,EAX
00587310 : JNC 0x0058733e
00587312 : MOV ECX,dword ptr [ESP + 0xc]
00587316 : PUSH ESI
00587317 : PUSH ECX
00587318 : MOV ECX,EDI
0058731a : CALL 0x00586fb0
0058731f : MOV dword ptr [EDI + 0x4],ESI
00587322 : POP EDI
00587323 : POP ESI
00587324 : RET 0x8
00587327 : CMP ESI,dword ptr [EDI + 0x8]
0058732a : JC 0x0058733e
0058732c : MOV EAX,dword ptr [ESP + 0xc]
00587330 : MOV EDX,ESI
00587332 : SHR EDX,0x2
00587335 : ADD EDX,ESI
00587337 : PUSH EDX
00587338 : PUSH EAX
00587339 : CALL 0x00586fb0
0058733e : MOV dword ptr [EDI + 0x4],ESI
00587341 : POP EDI
00587342 : POP ESI
00587343 : RET 0x8
