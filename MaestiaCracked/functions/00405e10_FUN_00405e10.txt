PROGRAM  : Maestia.exe
FUNCTION : FUN_00405e10
ENTRY    : 00405e10
BODY     : [[00405e10, 00405ead]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00405e10(uint param_1,uint param_2)

{
  uint uVar1;
  int iVar2;
  int in_ECX;
  int iVar3;
  
  if (*(uint *)(in_ECX + 0x14) < param_1) {
    FUN_00622f07();
  }
  uVar1 = *(int *)(in_ECX + 0x14) - param_1;
  if (uVar1 < param_2) {
    param_2 = uVar1;
  }
  if (param_2 != 0) {
    if (*(uint *)(in_ECX + 0x18) < 8) {
      iVar2 = in_ECX + 4;
      iVar3 = in_ECX + 4;
    }
    else {
      iVar2 = *(int *)(in_ECX + 4);
      iVar3 = *(int *)(in_ECX + 4);
    }
    _memmove_s((void *)(iVar3 + param_1 * 2),(*(uint *)(in_ECX + 0x18) - param_1) * 2,
               (void *)(iVar2 + (param_1 + param_2) * 2),(uVar1 - param_2) * 2);
    iVar2 = *(int *)(in_ECX + 0x14) - param_2;
    *(int *)(in_ECX + 0x14) = iVar2;
    if (7 < *(uint *)(in_ECX + 0x18)) {
      *(undefined2 *)(*(int *)(in_ECX + 4) + iVar2 * 2) = 0;
      return;
    }
    *(undefined2 *)(in_ECX + 4 + iVar2 * 2) = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00405e10 : PUSH EBP
00405e11 : MOV EBP,ESP
00405e13 : PUSH EBX
00405e14 : MOV EBX,dword ptr [EBP + 0x8]
00405e17 : PUSH ESI
00405e18 : MOV ESI,ECX
00405e1a : PUSH EDI
00405e1b : CMP dword ptr [ESI + 0x14],EBX
00405e1e : JNC 0x00405e25
00405e20 : CALL 0x00622f07
00405e25 : MOV EAX,dword ptr [ESI + 0x14]
00405e28 : MOV EDI,dword ptr [EBP + 0xc]
00405e2b : SUB EAX,EBX
00405e2d : CMP EAX,EDI
00405e2f : CMOVC EDI,EAX
00405e32 : TEST EDI,EDI
00405e34 : JBE 0x00405ea5
00405e36 : MOV ECX,dword ptr [ESI + 0x18]
00405e39 : CMP ECX,0x8
00405e3c : JC 0x00405e43
00405e3e : MOV EDX,dword ptr [ESI + 0x4]
00405e41 : JMP 0x00405e46
00405e43 : LEA EDX,[ESI + 0x4]
00405e46 : MOV dword ptr [EBP + 0x8],EDX
00405e49 : CMP ECX,0x8
00405e4c : JC 0x00405e53
00405e4e : MOV EDX,dword ptr [ESI + 0x4]
00405e51 : JMP 0x00405e56
00405e53 : LEA EDX,[ESI + 0x4]
00405e56 : SUB EAX,EDI
00405e58 : ADD EAX,EAX
00405e5a : PUSH EAX
00405e5b : MOV dword ptr [EBP + 0xc],EDX
00405e5e : MOV EDX,dword ptr [EBP + 0x8]
00405e61 : LEA EAX,[EBX + EDI*0x1]
00405e64 : LEA EAX,[EDX + EAX*0x2]
00405e67 : SUB ECX,EBX
00405e69 : PUSH EAX
00405e6a : ADD ECX,ECX
00405e6c : PUSH ECX
00405e6d : MOV ECX,dword ptr [EBP + 0xc]
00405e70 : LEA EDX,[ECX + EBX*0x2]
00405e73 : PUSH EDX
00405e74 : CALL 0x00634101
00405e79 : MOV EAX,dword ptr [ESI + 0x14]
00405e7c : SUB EAX,EDI
00405e7e : ADD ESP,0x10
00405e81 : CMP dword ptr [ESI + 0x18],0x8
00405e85 : MOV dword ptr [ESI + 0x14],EAX
00405e88 : JC 0x00405e9c
00405e8a : MOV ECX,dword ptr [ESI + 0x4]
00405e8d : XOR EDX,EDX
00405e8f : POP EDI
00405e90 : MOV word ptr [ECX + EAX*0x2],DX
00405e94 : MOV EAX,ESI
00405e96 : POP ESI
00405e97 : POP EBX
00405e98 : POP EBP
00405e99 : RET 0x8
00405e9c : LEA ECX,[ESI + 0x4]
00405e9f : XOR EDX,EDX
00405ea1 : MOV word ptr [ECX + EAX*0x2],DX
00405ea5 : POP EDI
00405ea6 : MOV EAX,ESI
00405ea8 : POP ESI
00405ea9 : POP EBX
00405eaa : POP EBP
00405eab : RET 0x8
