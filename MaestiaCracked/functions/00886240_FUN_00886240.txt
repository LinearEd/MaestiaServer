PROGRAM  : Maestia.exe
FUNCTION : FUN_00886240
ENTRY    : 00886240
BODY     : [[00886240, 008865c2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00886240(void)

{
  int iVar1;
  char cVar2;
  short sVar3;
  undefined4 uVar4;
  int *in_ECX;
  int unaff_EBX;
  int unaff_ESI;
  undefined4 uStack_5c;
  int iStack_58;
  undefined1 auStack_54 [4];
  int iStack_50;
  undefined1 auStack_4c [8];
  undefined1 auStack_44 [8];
  undefined1 auStack_3c [32];
  void *pvStack_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b3a9ec;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if ((((*(char *)((int)in_ECX + 0x5cf) != '\0') && (*(char *)((int)in_ECX + 0x319) == '\0')) &&
      (cVar2 = (**(code **)(*in_ECX + 0x200))(DAT_00d66fa0 ^ (uint)&stack0xffffff98), cVar2 == '\0')
      ) && (*(char *)((int)in_ECX + 0x31a) == '\0')) {
    FUN_0088f920(in_ECX);
    FUN_0088fd10();
    FUN_0088c290();
    if (DAT_00da93ec != 0) {
      FUN_00a1da10(in_ECX[1]);
    }
    uStack_5c = 1;
    iStack_58 = 1;
    uVar4 = (**(code **)(*DAT_017251e8 + 4))(auStack_44,in_ECX + 0xcd);
    local_14 = (void *)0x0;
    FUN_0043e5a0(auStack_54,uVar4);
    local_14._0_1_ = 2;
    FUN_0045f640();
    if (iStack_50 == 0) {
      unaff_ESI = 0;
      *(undefined1 *)((int)in_ECX + 0x31a) = 1;
      FUN_00406460(L"m_strDeadBoneFile Load Fail");
      local_14._0_1_ = 3;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaBaseCharacter::StateDead",0x6de,auStack_3c)
        ;
      }
      local_14._0_1_ = 2;
      FUN_00406560();
    }
    uVar4 = FUN_007c77d0(in_ECX + 0xd4,1);
    local_14._0_1_ = 4;
    FUN_0043e530(&uStack_5c,uVar4);
    local_14 = (void *)CONCAT31(local_14._1_3_,6);
    FUN_0045f640();
    if (iStack_58 == 0) {
      unaff_EBX = 0;
      *(undefined1 *)((int)in_ECX + 0x31a) = 1;
      FUN_00406460(L"m_strDeadMeshFile Load Fail");
      local_14._0_1_ = 7;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaBaseCharacter::StateDead",0x6e5,auStack_3c)
        ;
      }
      local_14 = (void *)CONCAT31(local_14._1_3_,6);
      FUN_00406560();
    }
    if (*(char *)((int)in_ECX + 0x31a) == '\x01') {
      local_14 = (void *)CONCAT31(local_14._1_3_,2);
      FUN_0043a010();
      local_14 = (void *)0xffffffff;
      FUN_0040ed80(auStack_54);
      ExceptionList = pvStack_1c;
      return;
    }
    if ((unaff_ESI != 0) && (unaff_EBX != 0)) {
      FUN_007d7fa0(in_ECX[0xfa]);
      FUN_007d7c90(in_ECX[0xfa]);
      FUN_007d97d0(in_ECX[0xfa]);
      (**(code **)(*(int *)in_ECX[0xfa] + 0xe8))(in_ECX + 0xd4,1,0,0,0,0,0);
      in_ECX[0x104] = *(int *)(in_ECX[0xfa] + 0x28c);
      *(undefined1 *)((int)in_ECX + 0x319) = 1;
    }
    FUN_0088f920(in_ECX);
    FUN_0088fd10();
    (**(code **)(*in_ECX + 0x188))(9,0,0,0,0,0x3f800000);
    (**(code **)(*in_ECX + 0x254))(1,in_ECX + 1,0);
    uStack_c = CONCAT31(uStack_c._1_3_,2);
    FUN_0043a010();
    uStack_c = 0xffffffff;
    FUN_0040ed80(auStack_4c);
  }
  if ((DAT_00da93ec != 0) && (*(char *)(DAT_00da93ec + 0x464) != '\0')) {
    sVar3 = (**(code **)(*in_ECX + 0x1e4))();
    if ((sVar3 != 2) && (sVar3 = (**(code **)(*in_ECX + 0x1e4))(), sVar3 != 1)) {
      ExceptionList = local_14;
      return;
    }
    if ((((*(char *)((int)in_ECX + 0x1665) == '\0') && ((char)in_ECX[0x170] == '\0')) &&
        (*(char *)((int)in_ECX + 0x5c1) == '\0')) &&
       ((iVar1 = in_ECX[0x104], iVar1 != 0 &&
        (*(float *)((uint)(*(char *)(iVar1 + 300) == '\0') * 0x30 + 0x94 + iVar1) <=
         *(float *)(((uint)(*(char *)(iVar1 + 300) == '\0') * 3 + 9) * 0x10 + iVar1))))) {
      *(undefined1 *)(in_ECX + 0x170) = 1;
      *(undefined1 *)((int)in_ECX + 0x5c1) = 1;
      *(undefined2 *)((int)in_ECX + 0x5be) = 0xfffb;
    }
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
00886240 : PUSH EBP
00886241 : MOV EBP,ESP
00886243 : AND ESP,0xfffffff8
00886246 : PUSH -0x1
00886248 : PUSH 0xb3a9ec
0088624d : MOV EAX,FS:[0x0]
00886253 : PUSH EAX
00886254 : SUB ESP,0x48
00886257 : PUSH EBX
00886258 : PUSH ESI
00886259 : PUSH EDI
0088625a : MOV EAX,[0x00d66fa0]
0088625f : XOR EAX,ESP
00886261 : PUSH EAX
00886262 : LEA EAX,[ESP + 0x58]
00886266 : MOV FS:[0x0],EAX
0088626c : MOV ESI,ECX
0088626e : MOV AL,byte ptr [ESI + 0x5cf]
00886274 : TEST AL,AL
00886276 : JZ 0x008864fd
0088627c : CMP byte ptr [ESI + 0x319],0x0
00886283 : JNZ 0x008864fd
00886289 : MOV EAX,dword ptr [ESI]
0088628b : MOV EDX,dword ptr [EAX + 0x200]
00886291 : CALL EDX
00886293 : TEST AL,AL
00886295 : JNZ 0x008864fd
0088629b : CMP byte ptr [ESI + 0x31a],AL
008862a1 : JNZ 0x008864fd
008862a7 : PUSH ESI
008862a8 : CALL 0x0088f920
008862ad : MOV EAX,ESI
008862af : CALL 0x0088fd10
008862b4 : CALL 0x0088c290
008862b9 : MOV EDI,dword ptr [0x00da93ec]
008862bf : TEST EDI,EDI
008862c1 : JZ 0x008862cc
008862c3 : MOV EAX,dword ptr [ESI + 0x4]
008862c6 : PUSH EAX
008862c7 : CALL 0x00a1da10
008862cc : MOV ECX,dword ptr [0x017251e8]
008862d2 : MOV EDX,dword ptr [ECX]
008862d4 : MOV EDX,dword ptr [EDX + 0x4]
008862d7 : MOV EAX,0x1
008862dc : MOV dword ptr [ESP + 0x10],EAX
008862e0 : MOV dword ptr [ESP + 0x14],EAX
008862e4 : LEA EBX,[ESI + 0x334]
008862ea : PUSH EBX
008862eb : LEA EAX,[ESP + 0x2c]
008862ef : PUSH EAX
008862f0 : CALL EDX
008862f2 : XOR EDI,EDI
008862f4 : MOV dword ptr [ESP + 0x60],EDI
008862f8 : PUSH EAX
008862f9 : LEA EAX,[ESP + 0x24]
008862fd : PUSH EAX
008862fe : CALL 0x0043e5a0
00886303 : MOV byte ptr [ESP + 0x60],0x2
00886308 : LEA ECX,[ESP + 0x28]
0088630c : CALL 0x0045f640
00886311 : CMP dword ptr [ESP + 0x24],EDI
00886315 : JNZ 0x00886365
00886317 : PUSH 0xc45e54
0088631c : LEA ECX,[ESP + 0x3c]
00886320 : MOV dword ptr [ESP + 0x14],EDI
00886324 : MOV byte ptr [ESI + 0x31a],0x1
0088632b : CALL 0x00406460
00886330 : MOV byte ptr [ESP + 0x60],0x3
00886335 : MOV ECX,dword ptr [0x00da98e8]
0088633b : MOV ECX,dword ptr [ECX]
0088633d : CMP ECX,EDI
0088633f : JZ 0x00886357
00886341 : MOV EDX,dword ptr [ECX]
00886343 : MOV EDX,dword ptr [EDX + 0x14]
00886346 : LEA EAX,[ESP + 0x38]
0088634a : PUSH EAX
0088634b : PUSH 0x6de
00886350 : PUSH 0xc45e8c
00886355 : CALL EDX
00886357 : MOV byte ptr [ESP + 0x60],0x2
0088635c : LEA ECX,[ESP + 0x38]
00886360 : CALL 0x00406560
00886365 : MOV ECX,dword ptr [0x017251e0]
0088636b : PUSH 0x1
0088636d : LEA EDI,[ESI + 0x350]
00886373 : PUSH EDI
00886374 : LEA EDX,[ESP + 0x38]
00886378 : CALL 0x007c77d0
0088637d : MOV byte ptr [ESP + 0x60],0x4
00886382 : PUSH EAX
00886383 : LEA EAX,[ESP + 0x1c]
00886387 : PUSH EAX
00886388 : CALL 0x0043e530
0088638d : MOV byte ptr [ESP + 0x60],0x6
00886392 : LEA ECX,[ESP + 0x30]
00886396 : CALL 0x0045f640
0088639b : CMP dword ptr [ESP + 0x1c],0x0
008863a0 : JNZ 0x008863f4
008863a2 : PUSH 0xc45ec4
008863a7 : LEA ECX,[ESP + 0x3c]
008863ab : MOV dword ptr [ESP + 0x18],0x0
008863b3 : MOV byte ptr [ESI + 0x31a],0x1
008863ba : CALL 0x00406460
008863bf : MOV byte ptr [ESP + 0x60],0x7
008863c4 : MOV ECX,dword ptr [0x00da98e8]
008863ca : MOV ECX,dword ptr [ECX]
008863cc : TEST ECX,ECX
008863ce : JZ 0x008863e6
008863d0 : MOV EDX,dword ptr [ECX]
008863d2 : MOV EDX,dword ptr [EDX + 0x14]
008863d5 : LEA EAX,[ESP + 0x38]
008863d9 : PUSH EAX
008863da : PUSH 0x6e5
008863df : PUSH 0xc45efc
008863e4 : CALL EDX
008863e6 : MOV byte ptr [ESP + 0x60],0x6
008863eb : LEA ECX,[ESP + 0x38]
008863ef : CALL 0x00406560
008863f4 : CMP byte ptr [ESI + 0x31a],0x1
008863fb : JNZ 0x00886430
008863fd : MOV byte ptr [ESP + 0x60],0x2
00886402 : LEA ECX,[ESP + 0x18]
00886406 : CALL 0x0043a010
0088640b : MOV dword ptr [ESP + 0x60],0xffffffff
00886413 : LEA EAX,[ESP + 0x20]
00886417 : PUSH EAX
00886418 : CALL 0x0040ed80
0088641d : MOV ECX,dword ptr [ESP + 0x58]
00886421 : MOV dword ptr FS:[0x0],ECX
00886428 : POP ECX
00886429 : POP EDI
0088642a : POP ESI
0088642b : POP EBX
0088642c : MOV ESP,EBP
0088642e : POP EBP
0088642f : RET
00886430 : CMP dword ptr [ESP + 0x10],0x0
00886435 : JZ 0x008864a0
00886437 : CMP dword ptr [ESP + 0x14],0x0
0088643c : JZ 0x008864a0
0088643e : MOV EDX,dword ptr [ESI + 0x3e8]
00886444 : LEA ECX,[ESI + 0x36c]
0088644a : PUSH EDX
0088644b : CALL 0x007d7fa0
00886450 : MOV EAX,dword ptr [ESI + 0x3e8]
00886456 : PUSH EAX
00886457 : CALL 0x007d7c90
0088645c : MOV ECX,dword ptr [ESI + 0x3e8]
00886462 : PUSH ECX
00886463 : MOV ECX,EBX
00886465 : CALL 0x007d97d0
0088646a : MOV ECX,dword ptr [ESI + 0x3e8]
00886470 : MOV EDX,dword ptr [ECX]
00886472 : MOV EAX,dword ptr [EDX + 0xe8]
00886478 : PUSH 0x0
0088647a : PUSH 0x0
0088647c : PUSH 0x0
0088647e : PUSH 0x0
00886480 : PUSH 0x0
00886482 : PUSH 0x1
00886484 : PUSH EDI
00886485 : CALL EAX
00886487 : MOV ECX,dword ptr [ESI + 0x3e8]
0088648d : MOV EAX,dword ptr [ECX + 0x28c]
00886493 : MOV dword ptr [ESI + 0x410],EAX
00886499 : MOV byte ptr [ESI + 0x319],0x1
008864a0 : PUSH ESI
008864a1 : CALL 0x0088f920
008864a6 : MOV EAX,ESI
008864a8 : CALL 0x0088fd10
008864ad : FLD1
008864af : MOV EDX,dword ptr [ESI]
008864b1 : MOV EAX,dword ptr [EDX + 0x188]
008864b7 : PUSH ECX
008864b8 : FSTP float ptr [ESP]
008864bb : PUSH 0x0
008864bd : PUSH 0x0
008864bf : PUSH 0x0
008864c1 : PUSH 0x0
008864c3 : PUSH 0x9
008864c5 : MOV ECX,ESI
008864c7 : CALL EAX
008864c9 : MOV EDX,dword ptr [ESI]
008864cb : MOV EDX,dword ptr [EDX + 0x254]
008864d1 : PUSH 0x0
008864d3 : LEA EAX,[ESI + 0x4]
008864d6 : PUSH EAX
008864d7 : PUSH 0x1
008864d9 : MOV ECX,ESI
008864db : CALL EDX
008864dd : MOV byte ptr [ESP + 0x60],0x2
008864e2 : LEA ECX,[ESP + 0x18]
008864e6 : CALL 0x0043a010
008864eb : MOV dword ptr [ESP + 0x60],0xffffffff
008864f3 : LEA EAX,[ESP + 0x20]
008864f7 : PUSH EAX
008864f8 : CALL 0x0040ed80
008864fd : MOV EAX,[0x00da93ec]
00886502 : TEST EAX,EAX
00886504 : JZ 0x008865b0
0088650a : CMP byte ptr [EAX + 0x464],0x0
00886511 : JZ 0x008865b0
00886517 : MOV EDX,dword ptr [ESI]
00886519 : MOV EAX,dword ptr [EDX + 0x1e4]
0088651f : MOV ECX,ESI
00886521 : CALL EAX
00886523 : CMP AX,0x2
00886527 : JZ 0x0088653b
00886529 : MOV EDX,dword ptr [ESI]
0088652b : MOV EAX,dword ptr [EDX + 0x1e4]
00886531 : MOV ECX,ESI
00886533 : CALL EAX
00886535 : CMP AX,0x1
00886539 : JNZ 0x008865b0
0088653b : CMP byte ptr [ESI + 0x1665],0x0
00886542 : JNZ 0x008865b0
00886544 : CMP byte ptr [ESI + 0x5c0],0x0
0088654b : JNZ 0x008865b0
0088654d : CMP byte ptr [ESI + 0x5c1],0x0
00886554 : JNZ 0x008865b0
00886556 : MOV EAX,dword ptr [ESI + 0x410]
0088655c : TEST EAX,EAX
0088655e : JZ 0x008865b0
00886560 : XOR ECX,ECX
00886562 : CMP byte ptr [EAX + 0x12c],CL
00886568 : SETZ CL
0088656b : LEA ECX,[ECX + ECX*0x2 + 0x9]
0088656f : SHL ECX,0x4
00886572 : MOVSS XMM0,dword ptr [ECX + EAX*0x1]
00886577 : XOR ECX,ECX
00886579 : CMP byte ptr [EAX + 0x12c],CL
0088657f : SETZ CL
00886582 : LEA EDX,[ECX + ECX*0x2]
00886585 : SHL EDX,0x4
00886588 : MOVSS XMM1,dword ptr [EDX + EAX*0x1 + 0x94]
00886591 : COMISS XMM0,XMM1
00886594 : JC 0x008865b0
00886596 : MOV EAX,0xfffffffb
0088659b : MOV byte ptr [ESI + 0x5c0],0x1
008865a2 : MOV byte ptr [ESI + 0x5c1],0x1
008865a9 : MOV word ptr [ESI + 0x5be],AX
008865b0 : MOV ECX,dword ptr [ESP + 0x58]
008865b4 : MOV dword ptr FS:[0x0],ECX
008865bb : POP ECX
008865bc : POP EDI
008865bd : POP ESI
008865be : POP EBX
008865bf : MOV ESP,EBP
008865c1 : POP EBP
008865c2 : RET
