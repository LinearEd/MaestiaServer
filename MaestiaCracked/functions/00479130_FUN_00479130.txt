PROGRAM  : Maestia.exe
FUNCTION : FUN_00479130
ENTRY    : 00479130
BODY     : [[00479130, 004793de]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0047925f) */
/* WARNING: Removing unreachable block (ram,0x0047926f) */
/* WARNING: Removing unreachable block (ram,0x00479278) */
/* WARNING: Removing unreachable block (ram,0x0047927b) */
/* WARNING: Removing unreachable block (ram,0x0047926b) */
/* WARNING: Removing unreachable block (ram,0x00479288) */
/* WARNING: Removing unreachable block (ram,0x00479298) */
/* WARNING: Removing unreachable block (ram,0x004792a3) */
/* WARNING: Removing unreachable block (ram,0x0047929f) */
/* WARNING: Removing unreachable block (ram,0x00479293) */
/* WARNING: Removing unreachable block (ram,0x004792a6) */
/* WARNING: Removing unreachable block (ram,0x004792b6) */

void FUN_00479130(undefined4 param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_58 [40];
  undefined1 local_30 [4];
  undefined1 local_2c;
  undefined4 local_1c;
  undefined4 local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7a615;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_2 + 0x45) != '\0') {
    local_18 = 0xf;
    local_1c = 0;
    local_2c = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_30);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_58,&DAT_00ced890);
  }
  local_14 = param_2;
  FUN_00416a70(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_2;
  if (*(char *)((int)piVar7 + 0x45) == '\0') {
    if (*(char *)(param_2[2] + 0x45) == '\0') {
      piVar7 = (int *)param_2[2];
    }
  }
  else {
    piVar7 = (int *)param_2[2];
  }
  piVar6 = (int *)param_2[1];
  if (*(char *)((int)piVar7 + 0x45) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if ((int *)DAT_01722344[1] == param_2) {
    DAT_01722344[1] = piVar7;
  }
  else if ((int *)*piVar6 == param_2) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)*DAT_01722344 == param_2) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x45) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x45);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x45);
        piVar5 = piVar3;
      }
    }
    *DAT_01722344 = piVar5;
  }
  if ((int *)DAT_01722344[2] == param_2) {
    if (*(char *)((int)piVar7 + 0x45) == '\0') {
      uVar4 = FUN_00462420();
      DAT_01722344[2] = uVar4;
    }
    else {
      DAT_01722344[2] = piVar6;
    }
  }
  if ((char)local_14[0x11] == '\x01') {
    if (piVar7 != (int *)DAT_01722344[1]) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0x11] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0x11] == '\0') {
            *(undefined1 *)(piVar6 + 0x11) = 1;
            *(undefined1 *)(piVar5 + 0x11) = 0;
            FUN_00478d60();
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x45) == '\0') {
            if ((*(char *)(*piVar6 + 0x44) != '\x01') || (*(char *)(piVar6[2] + 0x44) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x44) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x44) = 1;
                *(undefined1 *)(piVar6 + 0x11) = 0;
                FUN_00478db0();
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0x11) = (char)piVar5[0x11];
              *(undefined1 *)(piVar5 + 0x11) = 1;
              *(undefined1 *)(piVar6[2] + 0x44) = 1;
              FUN_00478d60();
              break;
            }
LAB_0047937a:
            *(undefined1 *)(piVar6 + 0x11) = 0;
          }
        }
        else {
          if ((char)piVar6[0x11] == '\0') {
            *(undefined1 *)(piVar6 + 0x11) = 1;
            *(undefined1 *)(piVar5 + 0x11) = 0;
            FUN_00478db0();
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x45) == '\0') {
            if ((*(char *)(piVar6[2] + 0x44) == '\x01') && (*(char *)(*piVar6 + 0x44) == '\x01'))
            goto LAB_0047937a;
            if (*(char *)(*piVar6 + 0x44) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x44) = 1;
              *(undefined1 *)(piVar6 + 0x11) = 0;
              FUN_00478d60();
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0x11) = (char)piVar5[0x11];
            *(undefined1 *)(piVar5 + 0x11) = 1;
            *(undefined1 *)(*piVar6 + 0x44) = 1;
            FUN_00478db0();
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != (int *)DAT_01722344[1]);
    }
    *(undefined1 *)(piVar7 + 0x11) = 1;
  }
  local_8 = 0xffffffff;
  FUN_00478660(local_14 + 3);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00479130 : PUSH EBP
00479131 : MOV EBP,ESP
00479133 : PUSH -0x1
00479135 : PUSH 0xb7a615
0047913a : MOV EAX,FS:[0x0]
00479140 : PUSH EAX
00479141 : SUB ESP,0x4c
00479144 : PUSH EBX
00479145 : PUSH ESI
00479146 : PUSH EDI
00479147 : MOV EAX,[0x00d66fa0]
0047914c : XOR EAX,EBP
0047914e : PUSH EAX
0047914f : LEA EAX,[EBP + -0xc]
00479152 : MOV FS:[0x0],EAX
00479158 : MOV EAX,dword ptr [EBP + 0xc]
0047915b : CMP byte ptr [EAX + 0x45],0x0
0047915f : JZ 0x0047919d
00479161 : PUSH 0x1b
00479163 : XOR ESI,ESI
00479165 : PUSH 0xcca4a8
0047916a : LEA ECX,[EBP + -0x2c]
0047916d : MOV dword ptr [EBP + -0x14],0xf
00479174 : MOV dword ptr [EBP + -0x18],ESI
00479177 : MOV byte ptr [EBP + -0x28],0x0
0047917b : CALL 0x00404b50
00479180 : MOV dword ptr [EBP + -0x4],ESI
00479183 : LEA EAX,[EBP + -0x2c]
00479186 : PUSH EAX
00479187 : LEA ECX,[EBP + -0x54]
0047918a : CALL 0x00403c10
0047918f : PUSH 0xced890
00479194 : LEA ECX,[EBP + -0x54]
00479197 : PUSH ECX
00479198 : CALL 0x006409eb
0047919d : MOV EBX,EAX
0047919f : LEA EDX,[EBP + 0xc]
004791a2 : MOV dword ptr [EBP + -0x10],EBX
004791a5 : CALL 0x00416a70
004791aa : MOV ECX,dword ptr [EBX]
004791ac : CMP byte ptr [ECX + 0x45],0x0
004791b0 : JZ 0x004791b7
004791b2 : MOV EDI,dword ptr [EBX + 0x8]
004791b5 : JMP 0x004791d5
004791b7 : MOV EDX,dword ptr [EBX + 0x8]
004791ba : CMP byte ptr [EDX + 0x45],0x0
004791be : JZ 0x004791c4
004791c0 : MOV EDI,ECX
004791c2 : JMP 0x004791d5
004791c4 : MOV EAX,dword ptr [EBP + 0xc]
004791c7 : MOV EDI,dword ptr [EAX + 0x8]
004791ca : LEA EDX,[EAX + 0x8]
004791cd : CMP EAX,EBX
004791cf : JNZ 0x0047925f
004791d5 : CMP byte ptr [EDI + 0x45],0x0
004791d9 : MOV ESI,dword ptr [EBX + 0x4]
004791dc : JNZ 0x004791e1
004791de : MOV dword ptr [EDI + 0x4],ESI
004791e1 : MOV EAX,[0x01722344]
004791e6 : CMP dword ptr [EAX + 0x4],EBX
004791e9 : JNZ 0x004791f0
004791eb : MOV dword ptr [EAX + 0x4],EDI
004791ee : JMP 0x004791fb
004791f0 : CMP dword ptr [ESI],EBX
004791f2 : JNZ 0x004791f8
004791f4 : MOV dword ptr [ESI],EDI
004791f6 : JMP 0x004791fb
004791f8 : MOV dword ptr [ESI + 0x8],EDI
004791fb : MOV EDX,dword ptr [0x01722344]
00479201 : CMP dword ptr [EDX],EBX
00479203 : JNZ 0x0047922c
00479205 : CMP byte ptr [EDI + 0x45],0x0
00479209 : JZ 0x0047920f
0047920b : MOV ECX,ESI
0047920d : JMP 0x0047922a
0047920f : MOV EAX,dword ptr [EDI]
00479211 : CMP byte ptr [EAX + 0x45],0x0
00479215 : MOV ECX,EDI
00479217 : JNZ 0x0047922a
00479219 : LEA ESP,[ESP]
00479220 : MOV ECX,EAX
00479222 : MOV EAX,dword ptr [ECX]
00479224 : CMP byte ptr [EAX + 0x45],0x0
00479228 : JZ 0x00479220
0047922a : MOV dword ptr [EDX],ECX
0047922c : MOV EAX,[0x01722344]
00479231 : CMP dword ptr [EAX + 0x8],EBX
00479234 : JNZ 0x004792be
0047923a : CMP byte ptr [EDI + 0x45],0x0
0047923e : JZ 0x0047924d
00479240 : MOV ECX,dword ptr [0x01722344]
00479246 : MOV EAX,ESI
00479248 : MOV dword ptr [ECX + 0x8],EAX
0047924b : JMP 0x004792be
0047924d : MOV EAX,EDI
0047924f : CALL 0x00462420
00479254 : MOV ECX,dword ptr [0x01722344]
0047925a : MOV dword ptr [ECX + 0x8],EAX
0047925d : JMP 0x004792be
0047925f : MOV dword ptr [ECX + 0x4],EAX
00479262 : MOV ECX,dword ptr [EBX]
00479264 : MOV dword ptr [EAX],ECX
00479266 : CMP EAX,dword ptr [EBX + 0x8]
00479269 : JNZ 0x0047926f
0047926b : MOV ESI,EAX
0047926d : JMP 0x00479288
0047926f : CMP byte ptr [EDI + 0x45],0x0
00479273 : MOV ESI,dword ptr [EAX + 0x4]
00479276 : JNZ 0x0047927b
00479278 : MOV dword ptr [EDI + 0x4],ESI
0047927b : MOV dword ptr [ESI],EDI
0047927d : MOV ECX,dword ptr [EBX + 0x8]
00479280 : MOV dword ptr [EDX],ECX
00479282 : MOV EDX,dword ptr [EBX + 0x8]
00479285 : MOV dword ptr [EDX + 0x4],EAX
00479288 : MOV ECX,dword ptr [0x01722344]
0047928e : CMP dword ptr [ECX + 0x4],EBX
00479291 : JNZ 0x00479298
00479293 : MOV dword ptr [ECX + 0x4],EAX
00479296 : JMP 0x004792a6
00479298 : MOV ECX,dword ptr [EBX + 0x4]
0047929b : CMP dword ptr [ECX],EBX
0047929d : JNZ 0x004792a3
0047929f : MOV dword ptr [ECX],EAX
004792a1 : JMP 0x004792a6
004792a3 : MOV dword ptr [ECX + 0x8],EAX
004792a6 : MOV ECX,dword ptr [EBX + 0x4]
004792a9 : MOV dword ptr [EAX + 0x4],ECX
004792ac : LEA ECX,[EBX + 0x44]
004792af : ADD EAX,0x44
004792b2 : CMP EAX,ECX
004792b4 : JZ 0x004792be
004792b6 : MOV BL,byte ptr [ECX]
004792b8 : MOV DL,byte ptr [EAX]
004792ba : MOV byte ptr [EAX],BL
004792bc : MOV byte ptr [ECX],DL
004792be : MOV EDX,dword ptr [EBP + -0x10]
004792c1 : MOV EBX,0x1
004792c6 : CMP byte ptr [EDX + 0x44],BL
004792c9 : JNZ 0x004793c4
004792cf : MOV EAX,[0x01722344]
004792d4 : CMP EDI,dword ptr [EAX + 0x4]
004792d7 : JZ 0x004793c1
004792dd : LEA ECX,[ECX]
004792e0 : CMP byte ptr [EDI + 0x44],BL
004792e3 : JNZ 0x004793c1
004792e9 : MOV ECX,dword ptr [ESI]
004792eb : CMP EDI,ECX
004792ed : JNZ 0x0047934f
004792ef : MOV ECX,dword ptr [ESI + 0x8]
004792f2 : CMP byte ptr [ECX + 0x44],0x0
004792f6 : JNZ 0x00479309
004792f8 : MOV byte ptr [ECX + 0x44],BL
004792fb : MOV ECX,ESI
004792fd : MOV byte ptr [ESI + 0x44],0x0
00479301 : CALL 0x00478d60
00479306 : MOV ECX,dword ptr [ESI + 0x8]
00479309 : CMP byte ptr [ECX + 0x45],0x0
0047930d : JNZ 0x0047937e
0047930f : MOV EDX,dword ptr [ECX]
00479311 : CMP byte ptr [EDX + 0x44],BL
00479314 : JNZ 0x0047931e
00479316 : MOV EAX,dword ptr [ECX + 0x8]
00479319 : CMP byte ptr [EAX + 0x44],BL
0047931c : JZ 0x0047937a
0047931e : MOV EDX,dword ptr [ECX + 0x8]
00479321 : CMP byte ptr [EDX + 0x44],BL
00479324 : JNZ 0x00479337
00479326 : MOV EAX,dword ptr [ECX]
00479328 : MOV byte ptr [EAX + 0x44],BL
0047932b : MOV byte ptr [ECX + 0x44],0x0
0047932f : CALL 0x00478db0
00479334 : MOV ECX,dword ptr [ESI + 0x8]
00479337 : MOV DL,byte ptr [ESI + 0x44]
0047933a : MOV byte ptr [ECX + 0x44],DL
0047933d : MOV byte ptr [ESI + 0x44],BL
00479340 : MOV EAX,dword ptr [ECX + 0x8]
00479343 : MOV ECX,ESI
00479345 : MOV byte ptr [EAX + 0x44],BL
00479348 : CALL 0x00478d60
0047934d : JMP 0x004793c1
0047934f : CMP byte ptr [ECX + 0x44],0x0
00479353 : JNZ 0x00479365
00479355 : MOV byte ptr [ECX + 0x44],BL
00479358 : MOV ECX,ESI
0047935a : MOV byte ptr [ESI + 0x44],0x0
0047935e : CALL 0x00478db0
00479363 : MOV ECX,dword ptr [ESI]
00479365 : CMP byte ptr [ECX + 0x45],0x0
00479369 : JNZ 0x0047937e
0047936b : MOV EDX,dword ptr [ECX + 0x8]
0047936e : CMP byte ptr [EDX + 0x44],BL
00479371 : JNZ 0x00479394
00479373 : MOV EAX,dword ptr [ECX]
00479375 : CMP byte ptr [EAX + 0x44],BL
00479378 : JNZ 0x00479394
0047937a : MOV byte ptr [ECX + 0x44],0x0
0047937e : MOV ECX,dword ptr [0x01722344]
00479384 : MOV EDI,ESI
00479386 : MOV ESI,dword ptr [ESI + 0x4]
00479389 : CMP EDI,dword ptr [ECX + 0x4]
0047938c : JNZ 0x004792e0
00479392 : JMP 0x004793c1
00479394 : MOV EDX,dword ptr [ECX]
00479396 : CMP byte ptr [EDX + 0x44],BL
00479399 : JNZ 0x004793ac
0047939b : MOV EAX,dword ptr [ECX + 0x8]
0047939e : MOV byte ptr [EAX + 0x44],BL
004793a1 : MOV byte ptr [ECX + 0x44],0x0
004793a5 : CALL 0x00478d60
004793aa : MOV ECX,dword ptr [ESI]
004793ac : MOV DL,byte ptr [ESI + 0x44]
004793af : MOV byte ptr [ECX + 0x44],DL
004793b2 : MOV byte ptr [ESI + 0x44],BL
004793b5 : MOV EAX,dword ptr [ECX]
004793b7 : MOV ECX,ESI
004793b9 : MOV byte ptr [EAX + 0x44],BL
004793bc : CALL 0x00478db0
004793c1 : MOV byte ptr [EDI + 0x44],BL
004793c4 : MOV dword ptr [EBP + -0x4],0xffffffff
004793cb : MOV ECX,dword ptr [EBP + -0x10]
004793ce : ADD ECX,0xc
004793d1 : PUSH ECX
004793d2 : CALL 0x00478660
004793d7 : MOV ECX,dword ptr [EBP + -0x10]
004793da : CALL 0x006f04e0
