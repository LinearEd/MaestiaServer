PROGRAM  : Maestia.exe
FUNCTION : FUN_0051d6b0
ENTRY    : 0051d6b0
BODY     : [[0051d6b0, 0051d743]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0051d6b0(int *param_1,int *param_2)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  undefined1 *puVar5;
  
  if ((*(uint *)(*param_1 + 0xc) >> 0x1d & 1) != 0) {
    return 1;
  }
  iVar4 = FUN_00524bc0();
  if ((iVar4 != 0) && (puVar5 = (undefined1 *)FUN_00524bf0(0), puVar5 == &DAT_0000005f)) {
    FUN_00525d70(&param_1);
    piVar3 = param_2;
    piVar2 = param_1;
    if (((uint)param_1[3] >> 0x1c & 1) != 0) {
      if (param_2 != (int *)0x0) {
        param_1[2] = param_1[2] + 1;
        piVar1 = (int *)(*param_2 + 8);
        *piVar1 = *piVar1 + -1;
        if (*piVar1 == 0) {
          FUN_00525340();
        }
        *piVar3 = (int)piVar2;
      }
      param_1[2] = param_1[2] + -1;
      if (param_1[2] != 0) {
        return 1;
      }
      FUN_00525340();
      return 1;
    }
    param_1[2] = param_1[2] + -1;
    if (param_1[2] == 0) {
      FUN_00525340();
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0051d6b0 : PUSH ESI
0051d6b1 : MOV ESI,dword ptr [ESP + 0x8]
0051d6b5 : MOV EAX,dword ptr [ESI]
0051d6b7 : MOV ECX,dword ptr [EAX + 0xc]
0051d6ba : SHR ECX,0x1d
0051d6bd : TEST CL,0x1
0051d6c0 : JNZ 0x0051d72a
0051d6c2 : MOV ECX,ESI
0051d6c4 : CALL 0x00524bc0
0051d6c9 : TEST EAX,EAX
0051d6cb : JBE 0x0051d740
0051d6cd : PUSH 0x0
0051d6cf : MOV ECX,ESI
0051d6d1 : CALL 0x00524bf0
0051d6d6 : CMP EAX,0x5f
0051d6d9 : JNZ 0x0051d740
0051d6db : LEA EDX,[ESP + 0x8]
0051d6df : PUSH EDX
0051d6e0 : MOV ECX,ESI
0051d6e2 : CALL 0x00525d70
0051d6e7 : MOV EAX,dword ptr [ESP + 0x8]
0051d6eb : MOV ECX,dword ptr [EAX + 0xc]
0051d6ee : SHR ECX,0x1c
0051d6f1 : TEST CL,0x1
0051d6f4 : JZ 0x0051d72e
0051d6f6 : MOV ESI,dword ptr [ESP + 0xc]
0051d6fa : TEST ESI,ESI
0051d6fc : JZ 0x0051d718
0051d6fe : INC dword ptr [EAX + 0x8]
0051d701 : MOV ECX,dword ptr [ESI]
0051d703 : ADD dword ptr [ECX + 0x8],-0x1
0051d707 : PUSH EDI
0051d708 : MOV EDI,EAX
0051d70a : JNZ 0x0051d711
0051d70c : CALL 0x00525340
0051d711 : MOV EAX,dword ptr [ESP + 0xc]
0051d715 : MOV dword ptr [ESI],EDI
0051d717 : POP EDI
0051d718 : DEC dword ptr [EAX + 0x8]
0051d71b : MOV ECX,EAX
0051d71d : ADD EAX,0x8
0051d720 : CMP dword ptr [EAX],0x0
0051d723 : JNZ 0x0051d72a
0051d725 : CALL 0x00525340
0051d72a : MOV AL,0x1
0051d72c : POP ESI
0051d72d : RET
0051d72e : DEC dword ptr [EAX + 0x8]
0051d731 : MOV ECX,EAX
0051d733 : ADD EAX,0x8
0051d736 : CMP dword ptr [EAX],0x0
0051d739 : JNZ 0x0051d740
0051d73b : CALL 0x00525340
0051d740 : XOR AL,AL
0051d742 : POP ESI
0051d743 : RET
