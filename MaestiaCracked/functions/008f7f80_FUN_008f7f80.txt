PROGRAM  : Maestia.exe
FUNCTION : FUN_008f7f80
ENTRY    : 008f7f80
BODY     : [[008f7f80, 008f8065]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008f7f80(void)

{
  undefined4 uVar1;
  int in_EDX;
  undefined1 local_48 [24];
  uint local_30;
  undefined1 local_2c [4];
  undefined2 local_28;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b16b0b;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)(in_EDX + 0xc) == '\0') {
    FUN_00405eb0(in_EDX + 0x3c,0,0xffffffff);
    ExceptionList = local_10;
    return;
  }
  FUN_00403450(local_48,in_EDX + 0x3c,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  local_8 = 0;
  uVar1 = FUN_00403450(local_2c,in_EDX + 0x90);
  local_8._0_1_ = 1;
  FUN_00405eb0(uVar1,0,0xffffffff);
  local_8 = (uint)local_8._1_3_ << 8;
  if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_14 = 7;
  local_18 = 0;
  local_28 = 0;
  local_8 = 0xffffffff;
  if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
008f7f80 : PUSH EBP
008f7f81 : MOV EBP,ESP
008f7f83 : PUSH -0x1
008f7f85 : PUSH 0xb16b0b
008f7f8a : MOV EAX,FS:[0x0]
008f7f90 : PUSH EAX
008f7f91 : SUB ESP,0x38
008f7f94 : PUSH EBX
008f7f95 : PUSH ESI
008f7f96 : PUSH EDI
008f7f97 : MOV EAX,[0x00d66fa0]
008f7f9c : XOR EAX,EBP
008f7f9e : PUSH EAX
008f7f9f : LEA EAX,[EBP + -0xc]
008f7fa2 : MOV FS:[0x0],EAX
008f7fa8 : MOV EDI,ECX
008f7faa : MOV ESI,EDX
008f7fac : MOV AL,byte ptr [ESI + 0xc]
008f7faf : XOR EBX,EBX
008f7fb1 : CMP AL,BL
008f7fb3 : JZ 0x008f8048
008f7fb9 : LEA EAX,[ESI + 0x3c]
008f7fbc : PUSH EAX
008f7fbd : LEA EDX,[EBP + -0x44]
008f7fc0 : LEA ECX,[ESI + 0x74]
008f7fc3 : PUSH EDX
008f7fc4 : CALL 0x00403450
008f7fc9 : MOV dword ptr [EBP + -0x4],EBX
008f7fcc : ADD ESI,0x90
008f7fd2 : LEA ECX,[EBP + -0x28]
008f7fd5 : PUSH ESI
008f7fd6 : PUSH ECX
008f7fd7 : MOV ECX,EAX
008f7fd9 : CALL 0x00403450
008f7fde : ADD ESP,0x10
008f7fe1 : MOV byte ptr [EBP + -0x4],0x1
008f7fe5 : PUSH -0x1
008f7fe7 : PUSH EBX
008f7fe8 : PUSH EAX
008f7fe9 : MOV ECX,EDI
008f7feb : CALL 0x00405eb0
008f7ff0 : MOV byte ptr [EBP + -0x4],BL
008f7ff3 : MOV ESI,0x8
008f7ff8 : CMP dword ptr [EBP + -0x10],ESI
008f7ffb : JC 0x008f8005
008f7ffd : MOV ECX,dword ptr [EBP + -0x24]
008f8000 : CALL 0x006f04e0
008f8005 : MOV EDI,0x7
008f800a : XOR EDX,EDX
008f800c : MOV dword ptr [EBP + -0x10],EDI
008f800f : MOV dword ptr [EBP + -0x14],EBX
008f8012 : MOV word ptr [EBP + -0x24],DX
008f8016 : MOV dword ptr [EBP + -0x4],0xffffffff
008f801d : CMP dword ptr [EBP + -0x2c],ESI
008f8020 : JC 0x008f802a
008f8022 : MOV ECX,dword ptr [EBP + -0x40]
008f8025 : CALL 0x006f04e0
008f802a : XOR EAX,EAX
008f802c : MOV dword ptr [EBP + -0x2c],EDI
008f802f : MOV dword ptr [EBP + -0x30],EBX
008f8032 : MOV word ptr [EBP + -0x40],AX
008f8036 : MOV ECX,dword ptr [EBP + -0xc]
008f8039 : MOV dword ptr FS:[0x0],ECX
008f8040 : POP ECX
008f8041 : POP EDI
008f8042 : POP ESI
008f8043 : POP EBX
008f8044 : MOV ESP,EBP
008f8046 : POP EBP
008f8047 : RET
008f8048 : PUSH -0x1
008f804a : PUSH EBX
008f804b : ADD ESI,0x3c
008f804e : PUSH ESI
008f804f : CALL 0x00405eb0
008f8054 : MOV ECX,dword ptr [EBP + -0xc]
008f8057 : MOV dword ptr FS:[0x0],ECX
008f805e : POP ECX
008f805f : POP EDI
008f8060 : POP ESI
008f8061 : POP EBX
008f8062 : MOV ESP,EBP
008f8064 : POP EBP
008f8065 : RET
