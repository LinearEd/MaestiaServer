PROGRAM  : Maestia.exe
FUNCTION : FUN_00778900
ENTRY    : 00778900
BODY     : [[00778900, 00778e12]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00778900(int *param_1)

{
  int *piVar1;
  int *piVar2;
  uint uVar3;
  uint *puVar4;
  int iVar5;
  undefined4 uVar6;
  undefined1 *puVar7;
  uint uVar8;
  int iVar9;
  undefined1 local_38 [4];
  int local_34;
  undefined **local_30;
  undefined1 *local_2c;
  int *local_28;
  int *local_24;
  uint local_20;
  int *local_1c;
  int *local_18 [2];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  piVar2 = param_1;
  puStack_c = &LAB_00b3c20e;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  if (param_1[0x3d] == 0) {
    return 0;
  }
  if (param_1[0x41] != 0) {
    return 0;
  }
  local_28 = *(int **)(DAT_017251ac + 0x18);
  if (local_28 == (int *)0x0) {
    return 0;
  }
  local_30 = &PTR_FUN_00cd4964;
  local_2c = (undefined1 *)0x0;
  local_8 = 0;
  ExceptionList = &local_10;
  FUN_00463a90(local_38,&local_30);
  local_8 = CONCAT31(local_8._1_3_,2);
  local_30 = &PTR_FUN_00cd4964;
  if ((char)piVar2[3] == '\0') {
    FUN_00463a60(uVar3);
    if (*(int *)(piVar2[0x3d] + 0x14) == 0) {
      local_24 = (int *)0x0;
    }
    else {
      piVar1 = *(int **)(piVar2[0x3d] + 0x14);
      (**(code **)(*piVar1 + 0x20))();
      local_24 = (int *)piVar1[0xe];
    }
    if (local_24 == (int *)0x0) goto LAB_00778afd;
    puVar4 = (uint *)FUN_004625f0();
    uVar3 = *puVar4;
  }
  else {
    FUN_00463a60(uVar3);
    local_24 = (int *)FUN_00a60570();
    if (local_24 == (int *)0x0) goto LAB_00778afd;
    puVar4 = (uint *)FUN_004625f0();
    uVar3 = *puVar4;
  }
  local_20 = uVar3 >> 1 & 0xffff;
  iVar5 = FUN_004625f0();
  uVar8 = *(uint *)(iVar5 + 4) >> 1;
  uVar3 = uVar8 & 0xffff;
  *(undefined2 *)(piVar2 + 0x42) = (undefined2)local_20;
  *(short *)((int)piVar2 + 0x10a) = (short)uVar8;
  iVar5 = FUN_006f0820(uVar3 * 4);
  iVar9 = 0;
  piVar2[0x41] = iVar5;
  if (uVar3 != 0) {
    do {
      uVar6 = FUN_006f0760(local_20 & 0xffff,"",0,(DAT_01725270 >> 3 & 1) == 0);
      *(undefined4 *)(piVar2[0x41] + iVar9 * 4) = uVar6;
      _memset(*(void **)(piVar2[0x41] + iVar9 * 4),0xff,local_20 & 0xffff);
      iVar9 = iVar9 + 1;
    } while (iVar9 < (int)uVar3);
  }
  param_1 = (int *)0x0;
  iVar5 = (**(code **)(*local_24 + 0x48))(local_24,1,&param_1);
  if (-1 < iVar5) {
    iVar5 = (**(code **)(*local_28 + 0x5c))(local_28,local_20 & 0xffff,uVar3,1,0,0x15,2,&local_1c,0)
    ;
    if (iVar5 < 0) {
      FUN_008018d0(L"AvaPatchRenderer::CollectTotalMapColorInfo() AvaCreateTexture Failed (%d)",
                   iVar5);
      if (param_1 != (int *)0x0) {
        (**(code **)(*param_1 + 8))(param_1);
        param_1 = (int *)0x0;
      }
      if (local_34 != 0) {
        FUN_00a64ba0();
      }
      local_8 = 0xffffffff;
      FUN_0045f5a0();
      ExceptionList = local_10;
      return 0;
    }
    local_18[0] = (int *)0x0;
    iVar5 = (**(code **)(*local_1c + 0x48))(local_1c,0,local_18);
    if (iVar5 < 0) {
      FUN_008018d0(L"AvaPatchRenderer::CollectTotalMapColorInfo() lpDstTex->GetSurfaceLevel Failed (%d)"
                   ,iVar5);
      if (param_1 != (int *)0x0) {
        (**(code **)(*param_1 + 8))(param_1);
        param_1 = (int *)0x0;
      }
      if (local_1c != (int *)0x0) {
        (**(code **)(*local_1c + 8))(local_1c);
        local_1c = (int *)0x0;
      }
      if (local_34 != 0) {
        FUN_00a64ba0();
      }
      local_8 = 0xffffffff;
      FUN_0045f5a0();
      ExceptionList = local_10;
      return 0;
    }
    FUN_006ef280(0x2e2);
    local_8._0_1_ = 3;
    iVar5 = D3DXLoadSurfaceFromSurface(local_18[0],0,0,param_1,0,0,1,0);
    local_8 = CONCAT31(local_8._1_3_,2);
    FUN_006ef180();
    if (iVar5 < 0) {
      FUN_008018d0(L"AvaPatchRenderer::CollectTotalMapColorInfo() D3DXLoadSurfaceFromSurface Failed (%d)"
                   ,iVar5);
      if (param_1 != (int *)0x0) {
        (**(code **)(*param_1 + 8))(param_1);
        param_1 = (int *)0x0;
      }
      if (local_18[0] != (int *)0x0) {
        (**(code **)(*local_18[0] + 8))(local_18[0]);
        local_18[0] = (int *)0x0;
      }
      if (local_1c != (int *)0x0) {
        (**(code **)(*local_1c + 8))(local_1c);
        local_1c = (int *)0x0;
      }
      if (local_34 != 0) {
        FUN_00a64ba0();
      }
      local_8 = 0xffffffff;
      FUN_0045f5a0();
      ExceptionList = local_10;
      return 0;
    }
    (**(code **)(*local_18[0] + 0x34))(local_18[0],&local_30,0,0x10);
    iVar5 = (int)((int)local_30 + ((int)local_30 >> 0x1f & 3U)) >> 2;
    local_20 = 0;
    if ((char)piVar2[3] == '\0') {
      puVar7 = local_2c;
      if (*(short *)((int)piVar2 + 0x10a) != 0) {
        do {
          iVar9 = 0;
          if (0 < iVar5) {
            do {
              *(undefined1 *)(iVar9 + *(int *)(piVar2[0x41] + local_20 * 4)) = puVar7[3];
              iVar9 = iVar9 + 1;
              puVar7 = puVar7 + 4;
            } while (iVar9 < iVar5);
          }
          local_20 = local_20 + 1;
        } while ((int)local_20 < (int)(uint)*(ushort *)((int)piVar2 + 0x10a));
      }
    }
    else {
      puVar7 = local_2c;
      if (*(short *)((int)piVar2 + 0x10a) != 0) {
        do {
          iVar9 = 0;
          if (0 < iVar5) {
            do {
              *(undefined1 *)(iVar9 + *(int *)(piVar2[0x41] + local_20 * 4)) = *puVar7;
              iVar9 = iVar9 + 1;
              puVar7 = puVar7 + 4;
            } while (iVar9 < iVar5);
          }
          local_20 = local_20 + 1;
        } while ((int)local_20 < (int)(uint)*(ushort *)((int)piVar2 + 0x10a));
      }
    }
    (**(code **)(*local_18[0] + 0x38))(local_18[0]);
    if (param_1 != (int *)0x0) {
      (**(code **)(*param_1 + 8))(param_1);
      param_1 = (int *)0x0;
    }
    if (local_18[0] != (int *)0x0) {
      (**(code **)(*local_18[0] + 8))(local_18[0]);
      local_18[0] = (int *)0x0;
    }
    if (local_1c != (int *)0x0) {
      (**(code **)(*local_1c + 8))(local_1c);
      local_1c = (int *)0x0;
    }
    *(undefined1 *)(piVar2 + 0x40) = 1;
    if (local_34 != 0) {
      FUN_00a64ba0();
    }
    local_8 = 0xffffffff;
    FUN_0045f5a0();
    ExceptionList = local_10;
    return 1;
  }
  FUN_008018d0(L"AvaPatchRenderer::CollectTotalMapColorInfo() (%d)",iVar5);
  if (local_34 != 0) {
    FUN_00a64ba0();
  }
LAB_00778afd:
  local_8 = 0xffffffff;
  FUN_0045f5a0();
  ExceptionList = local_10;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00778900 : PUSH EBP
00778901 : MOV EBP,ESP
00778903 : PUSH -0x1
00778905 : PUSH 0xb3c20e
0077890a : MOV EAX,FS:[0x0]
00778910 : PUSH EAX
00778911 : SUB ESP,0x48
00778914 : PUSH EBX
00778915 : PUSH ESI
00778916 : PUSH EDI
00778917 : MOV EAX,[0x00d66fa0]
0077891c : XOR EAX,EBP
0077891e : PUSH EAX
0077891f : LEA EAX,[EBP + -0xc]
00778922 : MOV FS:[0x0],EAX
00778928 : MOV EBX,dword ptr [EBP + 0x8]
0077892b : XOR ECX,ECX
0077892d : CMP dword ptr [EBX + 0xf4],ECX
00778933 : JZ 0x00778b0c
00778939 : CMP dword ptr [EBX + 0x104],ECX
0077893f : JNZ 0x00778b0c
00778945 : MOV EAX,[0x017251ac]
0077894a : MOV EAX,dword ptr [EAX + 0x18]
0077894d : MOV dword ptr [EBP + -0x24],EAX
00778950 : CMP EAX,ECX
00778952 : JZ 0x00778b0c
00778958 : MOV ESI,0xcd4964
0077895d : MOV dword ptr [EBP + -0x2c],ESI
00778960 : MOV dword ptr [EBP + -0x28],ECX
00778963 : MOV dword ptr [EBP + -0x4],ECX
00778966 : LEA ECX,[EBP + -0x2c]
00778969 : PUSH ECX
0077896a : LEA EDX,[EBP + -0x34]
0077896d : PUSH EDX
0077896e : CALL 0x00463a90
00778973 : MOV byte ptr [EBP + -0x4],0x2
00778977 : CMP byte ptr [EBX + 0xc],0x0
0077897b : MOV dword ptr [EBP + -0x2c],ESI
0077897e : LEA EDI,[EBP + -0x34]
00778981 : JNZ 0x007789db
00778983 : MOV ESI,dword ptr [EBX + 0xf4]
00778989 : ADD ESI,0x10
0077898c : CALL 0x00463a60
00778991 : MOV EAX,dword ptr [EBX + 0xf4]
00778997 : CMP dword ptr [EAX + 0x14],0x0
0077899b : JNZ 0x007789a1
0077899d : XOR ESI,ESI
0077899f : JMP 0x007789b0
007789a1 : MOV ESI,dword ptr [EAX + 0x14]
007789a4 : MOV EAX,dword ptr [ESI]
007789a6 : MOV EDX,dword ptr [EAX + 0x20]
007789a9 : MOV ECX,ESI
007789ab : CALL EDX
007789ad : MOV ESI,dword ptr [ESI + 0x38]
007789b0 : MOV dword ptr [EBP + -0x20],ESI
007789b3 : TEST ESI,ESI
007789b5 : JZ 0x00778afd
007789bb : MOV ESI,dword ptr [EBX + 0xf4]
007789c1 : MOV ECX,dword ptr [ESI + 0x14]
007789c4 : LEA EAX,[EBP + -0x50]
007789c7 : CALL 0x004625f0
007789cc : MOV EAX,dword ptr [EAX]
007789ce : SHR EAX,0x1
007789d0 : MOVZX ECX,AX
007789d3 : MOV dword ptr [EBP + -0x1c],ECX
007789d6 : MOV ECX,dword ptr [ESI + 0x14]
007789d9 : JMP 0x00778a26
007789db : MOV ESI,dword ptr [EBX + 0xf0]
007789e1 : ADD ESI,0x150
007789e7 : CALL 0x00463a60
007789ec : MOV EAX,dword ptr [EBX + 0xf0]
007789f2 : CALL 0x00a60570
007789f7 : MOV dword ptr [EBP + -0x20],EAX
007789fa : TEST EAX,EAX
007789fc : JZ 0x00778afd
00778a02 : MOV ESI,dword ptr [EBX + 0xf0]
00778a08 : MOV ECX,dword ptr [ESI + 0x154]
00778a0e : LEA EAX,[EBP + -0x50]
00778a11 : CALL 0x004625f0
00778a16 : MOV EAX,dword ptr [EAX]
00778a18 : SHR EAX,0x1
00778a1a : MOVZX ECX,AX
00778a1d : MOV dword ptr [EBP + -0x1c],ECX
00778a20 : MOV ECX,dword ptr [ESI + 0x154]
00778a26 : LEA EAX,[EBP + -0x50]
00778a29 : CALL 0x004625f0
00778a2e : MOV EDX,dword ptr [EAX + 0x4]
00778a31 : MOV CX,word ptr [EBP + -0x1c]
00778a35 : SHR EDX,0x1
00778a37 : MOVZX EAX,DX
00778a3a : MOVZX EDI,AX
00778a3d : MOV word ptr [EBX + 0x108],CX
00778a44 : MOV word ptr [EBX + 0x10a],AX
00778a4b : XOR ECX,ECX
00778a4d : MOV EAX,EDI
00778a4f : MOV EDX,0x4
00778a54 : MUL EDX
00778a56 : SETO CL
00778a59 : NEG ECX
00778a5b : OR ECX,EAX
00778a5d : PUSH ECX
00778a5e : CALL 0x006f0820
00778a63 : ADD ESP,0x4
00778a66 : XOR ESI,ESI
00778a68 : MOV dword ptr [EBX + 0x104],EAX
00778a6e : TEST EDI,EDI
00778a70 : JLE 0x00778ac1
00778a72 : MOV EAX,[0x01725270]
00778a77 : SHR EAX,0x3
00778a7a : AND EAX,0x1
00778a7d : MOVZX EAX,word ptr [EBP + -0x1c]
00778a81 : MOV ECX,0x0
00778a86 : SETZ CL
00778a89 : PUSH ECX
00778a8a : PUSH 0x0
00778a8c : PUSH 0xbf1a4b
00778a91 : PUSH EAX
00778a92 : CALL 0x006f0760
00778a97 : MOV EDX,dword ptr [EBX + 0x104]
00778a9d : MOV dword ptr [EDX + ESI*0x4],EAX
00778aa0 : MOVZX EAX,word ptr [EBP + -0x1c]
00778aa4 : PUSH EAX
00778aa5 : MOV EAX,dword ptr [EBX + 0x104]
00778aab : MOV ECX,dword ptr [EAX + ESI*0x4]
00778aae : PUSH 0xff
00778ab3 : PUSH ECX
00778ab4 : CALL 0x0063b700
00778ab9 : INC ESI
00778aba : ADD ESP,0x1c
00778abd : CMP ESI,EDI
00778abf : JL 0x00778a72
00778ac1 : MOV EAX,dword ptr [EBP + -0x20]
00778ac4 : LEA ECX,[EBP + 0x8]
00778ac7 : PUSH ECX
00778ac8 : MOV dword ptr [EBP + 0x8],0x0
00778acf : MOV EDX,dword ptr [EAX]
00778ad1 : MOV EDX,dword ptr [EDX + 0x48]
00778ad4 : PUSH 0x1
00778ad6 : PUSH EAX
00778ad7 : CALL EDX
00778ad9 : TEST EAX,EAX
00778adb : JGE 0x00778b22
00778add : MOV ESI,dword ptr [0x00da98e8]
00778ae3 : PUSH EAX
00778ae4 : PUSH 0xc0ff28
00778ae9 : CALL 0x008018d0
00778aee : MOV ESI,dword ptr [EBP + -0x30]
00778af1 : ADD ESP,0x8
00778af4 : TEST ESI,ESI
00778af6 : JZ 0x00778afd
00778af8 : CALL 0x00a64ba0
00778afd : MOV dword ptr [EBP + -0x4],0xffffffff
00778b04 : LEA ECX,[EBP + -0x34]
00778b07 : CALL 0x0045f5a0
00778b0c : XOR AL,AL
00778b0e : MOV ECX,dword ptr [EBP + -0xc]
00778b11 : MOV dword ptr FS:[0x0],ECX
00778b18 : POP ECX
00778b19 : POP EDI
00778b1a : POP ESI
00778b1b : POP EBX
00778b1c : MOV ESP,EBP
00778b1e : POP EBP
00778b1f : RET 0x4
00778b22 : MOVZX EAX,word ptr [EBP + -0x1c]
00778b26 : MOV ECX,dword ptr [EBP + -0x24]
00778b29 : MOV EDX,dword ptr [ECX]
00778b2b : PUSH 0x0
00778b2d : LEA ESI,[EBP + -0x18]
00778b30 : PUSH ESI
00778b31 : PUSH 0x2
00778b33 : PUSH 0x15
00778b35 : PUSH 0x0
00778b37 : PUSH 0x1
00778b39 : PUSH EDI
00778b3a : PUSH EAX
00778b3b : MOV EAX,dword ptr [EDX + 0x5c]
00778b3e : PUSH ECX
00778b3f : CALL EAX
00778b41 : TEST EAX,EAX
00778b43 : JGE 0x00778ba0
00778b45 : MOV ESI,dword ptr [0x00da98e8]
00778b4b : PUSH EAX
00778b4c : PUSH 0xc0ff90
00778b51 : CALL 0x008018d0
00778b56 : MOV EAX,dword ptr [EBP + 0x8]
00778b59 : ADD ESP,0x8
00778b5c : TEST EAX,EAX
00778b5e : JZ 0x00778b6f
00778b60 : MOV ECX,dword ptr [EAX]
00778b62 : MOV EDX,dword ptr [ECX + 0x8]
00778b65 : PUSH EAX
00778b66 : CALL EDX
00778b68 : MOV dword ptr [EBP + 0x8],0x0
00778b6f : MOV ESI,dword ptr [EBP + -0x30]
00778b72 : TEST ESI,ESI
00778b74 : JZ 0x00778b7b
00778b76 : CALL 0x00a64ba0
00778b7b : MOV dword ptr [EBP + -0x4],0xffffffff
00778b82 : LEA ECX,[EBP + -0x34]
00778b85 : CALL 0x0045f5a0
00778b8a : XOR AL,AL
00778b8c : MOV ECX,dword ptr [EBP + -0xc]
00778b8f : MOV dword ptr FS:[0x0],ECX
00778b96 : POP ECX
00778b97 : POP EDI
00778b98 : POP ESI
00778b99 : POP EBX
00778b9a : MOV ESP,EBP
00778b9c : POP EBP
00778b9d : RET 0x4
00778ba0 : MOV EAX,dword ptr [EBP + -0x18]
00778ba3 : LEA EDX,[EBP + -0x14]
00778ba6 : PUSH EDX
00778ba7 : MOV dword ptr [EBP + -0x14],0x0
00778bae : MOV ECX,dword ptr [EAX]
00778bb0 : PUSH 0x0
00778bb2 : PUSH EAX
00778bb3 : MOV EAX,dword ptr [ECX + 0x48]
00778bb6 : CALL EAX
00778bb8 : TEST EAX,EAX
00778bba : JGE 0x00778c27
00778bbc : MOV ESI,dword ptr [0x00da98e8]
00778bc2 : PUSH EAX
00778bc3 : PUSH 0xc10028
00778bc8 : CALL 0x008018d0
00778bcd : MOV EAX,dword ptr [EBP + 0x8]
00778bd0 : XOR EDI,EDI
00778bd2 : ADD ESP,0x8
00778bd5 : CMP EAX,EDI
00778bd7 : JZ 0x00778be4
00778bd9 : MOV ECX,dword ptr [EAX]
00778bdb : MOV EDX,dword ptr [ECX + 0x8]
00778bde : PUSH EAX
00778bdf : CALL EDX
00778be1 : MOV dword ptr [EBP + 0x8],EDI
00778be4 : MOV EAX,dword ptr [EBP + -0x18]
00778be7 : CMP EAX,EDI
00778be9 : JZ 0x00778bf6
00778beb : MOV ECX,dword ptr [EAX]
00778bed : MOV EDX,dword ptr [ECX + 0x8]
00778bf0 : PUSH EAX
00778bf1 : CALL EDX
00778bf3 : MOV dword ptr [EBP + -0x18],EDI
00778bf6 : MOV ESI,dword ptr [EBP + -0x30]
00778bf9 : CMP ESI,EDI
00778bfb : JZ 0x00778c02
00778bfd : CALL 0x00a64ba0
00778c02 : MOV dword ptr [EBP + -0x4],0xffffffff
00778c09 : LEA ECX,[EBP + -0x34]
00778c0c : CALL 0x0045f5a0
00778c11 : XOR AL,AL
00778c13 : MOV ECX,dword ptr [EBP + -0xc]
00778c16 : MOV dword ptr FS:[0x0],ECX
00778c1d : POP ECX
00778c1e : POP EDI
00778c1f : POP ESI
00778c20 : POP EBX
00778c21 : MOV ESP,EBP
00778c23 : POP EBP
00778c24 : RET 0x4
00778c27 : MOV EAX,[0x017251ac]
00778c2c : PUSH 0x2e2
00778c31 : ADD EAX,0x420
00778c36 : MOV ECX,0xc100d0
00778c3b : LEA ESI,[EBP + -0x48]
00778c3e : CALL 0x006ef280
00778c43 : MOV byte ptr [EBP + -0x4],0x3
00778c47 : MOV EAX,dword ptr [EBP + 0x8]
00778c4a : MOV ECX,dword ptr [EBP + -0x14]
00778c4d : PUSH 0x0
00778c4f : PUSH 0x1
00778c51 : PUSH 0x0
00778c53 : PUSH 0x0
00778c55 : PUSH EAX
00778c56 : PUSH 0x0
00778c58 : PUSH 0x0
00778c5a : PUSH ECX
00778c5b : CALL 0x00664cc6
00778c60 : MOV EDI,EAX
00778c62 : MOV byte ptr [EBP + -0x4],0x2
00778c66 : CALL 0x006ef180
00778c6b : TEST EDI,EDI
00778c6d : JGE 0x00778cec
00778c6f : MOV ESI,dword ptr [0x00da98e8]
00778c75 : PUSH EDI
00778c76 : PUSH 0xc100f0
00778c7b : CALL 0x008018d0
00778c80 : MOV EAX,dword ptr [EBP + 0x8]
00778c83 : XOR EDI,EDI
00778c85 : ADD ESP,0x8
00778c88 : CMP EAX,EDI
00778c8a : JZ 0x00778c97
00778c8c : MOV EDX,dword ptr [EAX]
00778c8e : PUSH EAX
00778c8f : MOV EAX,dword ptr [EDX + 0x8]
00778c92 : CALL EAX
00778c94 : MOV dword ptr [EBP + 0x8],EDI
00778c97 : MOV EAX,dword ptr [EBP + -0x14]
00778c9a : CMP EAX,EDI
00778c9c : JZ 0x00778ca9
00778c9e : MOV ECX,dword ptr [EAX]
00778ca0 : MOV EDX,dword ptr [ECX + 0x8]
00778ca3 : PUSH EAX
00778ca4 : CALL EDX
00778ca6 : MOV dword ptr [EBP + -0x14],EDI
00778ca9 : MOV EAX,dword ptr [EBP + -0x18]
00778cac : CMP EAX,EDI
00778cae : JZ 0x00778cbb
00778cb0 : MOV ECX,dword ptr [EAX]
00778cb2 : MOV EDX,dword ptr [ECX + 0x8]
00778cb5 : PUSH EAX
00778cb6 : CALL EDX
00778cb8 : MOV dword ptr [EBP + -0x18],EDI
00778cbb : MOV ESI,dword ptr [EBP + -0x30]
00778cbe : CMP ESI,EDI
00778cc0 : JZ 0x00778cc7
00778cc2 : CALL 0x00a64ba0
00778cc7 : MOV dword ptr [EBP + -0x4],0xffffffff
00778cce : LEA ECX,[EBP + -0x34]
00778cd1 : CALL 0x0045f5a0
00778cd6 : XOR AL,AL
00778cd8 : MOV ECX,dword ptr [EBP + -0xc]
00778cdb : MOV dword ptr FS:[0x0],ECX
00778ce2 : POP ECX
00778ce3 : POP EDI
00778ce4 : POP ESI
00778ce5 : POP EBX
00778ce6 : MOV ESP,EBP
00778ce8 : POP EBP
00778ce9 : RET 0x4
00778cec : MOV EAX,dword ptr [EBP + -0x14]
00778cef : MOV ECX,dword ptr [EAX]
00778cf1 : PUSH 0x10
00778cf3 : PUSH 0x0
00778cf5 : LEA EDX,[EBP + -0x2c]
00778cf8 : PUSH EDX
00778cf9 : PUSH EAX
00778cfa : MOV EAX,dword ptr [ECX + 0x34]
00778cfd : CALL EAX
00778cff : MOV EAX,dword ptr [EBP + -0x2c]
00778d02 : MOV ECX,dword ptr [EBP + -0x28]
00778d05 : CDQ
00778d06 : AND EDX,0x3
00778d09 : ADD EAX,EDX
00778d0b : MOV EDI,EAX
00778d0d : SAR EDI,0x2
00778d10 : CMP byte ptr [EBX + 0xc],0x0
00778d14 : MOV dword ptr [EBP + -0x1c],0x0
00778d1b : JNZ 0x00778d5c
00778d1d : XOR EDX,EDX
00778d1f : CMP DX,word ptr [EBX + 0x10a]
00778d26 : JNC 0x00778d98
00778d28 : XOR ESI,ESI
00778d2a : TEST EDI,EDI
00778d2c : JLE 0x00778d48
00778d2e : MOV EAX,dword ptr [EBX + 0x104]
00778d34 : MOV EDX,dword ptr [EBP + -0x1c]
00778d37 : MOV EAX,dword ptr [EAX + EDX*0x4]
00778d3a : MOV DL,byte ptr [ECX + 0x3]
00778d3d : MOV byte ptr [ESI + EAX*0x1],DL
00778d40 : INC ESI
00778d41 : ADD ECX,0x4
00778d44 : CMP ESI,EDI
00778d46 : JL 0x00778d2e
00778d48 : MOV EAX,dword ptr [EBP + -0x1c]
00778d4b : MOVZX EDX,word ptr [EBX + 0x10a]
00778d52 : INC EAX
00778d53 : CMP EAX,EDX
00778d55 : MOV dword ptr [EBP + -0x1c],EAX
00778d58 : JL 0x00778d28
00778d5a : JMP 0x00778d98
00778d5c : XOR EAX,EAX
00778d5e : CMP AX,word ptr [EBX + 0x10a]
00778d65 : JNC 0x00778d98
00778d67 : XOR ESI,ESI
00778d69 : TEST EDI,EDI
00778d6b : JLE 0x00778d86
00778d6d : MOV EDX,dword ptr [EBX + 0x104]
00778d73 : MOV EAX,dword ptr [EBP + -0x1c]
00778d76 : MOV EDX,dword ptr [EDX + EAX*0x4]
00778d79 : MOV AL,byte ptr [ECX]
00778d7b : MOV byte ptr [ESI + EDX*0x1],AL
00778d7e : INC ESI
00778d7f : ADD ECX,0x4
00778d82 : CMP ESI,EDI
00778d84 : JL 0x00778d6d
00778d86 : MOV EAX,dword ptr [EBP + -0x1c]
00778d89 : MOVZX EDX,word ptr [EBX + 0x10a]
00778d90 : INC EAX
00778d91 : CMP EAX,EDX
00778d93 : MOV dword ptr [EBP + -0x1c],EAX
00778d96 : JL 0x00778d67
00778d98 : MOV EAX,dword ptr [EBP + -0x14]
00778d9b : MOV ECX,dword ptr [EAX]
00778d9d : MOV EDX,dword ptr [ECX + 0x38]
00778da0 : PUSH EAX
00778da1 : CALL EDX
00778da3 : MOV EAX,dword ptr [EBP + 0x8]
00778da6 : XOR ESI,ESI
00778da8 : CMP EAX,ESI
00778daa : JZ 0x00778db7
00778dac : MOV ECX,dword ptr [EAX]
00778dae : MOV EDX,dword ptr [ECX + 0x8]
00778db1 : PUSH EAX
00778db2 : CALL EDX
00778db4 : MOV dword ptr [EBP + 0x8],ESI
00778db7 : MOV EAX,dword ptr [EBP + -0x14]
00778dba : CMP EAX,ESI
00778dbc : JZ 0x00778dc9
00778dbe : MOV ECX,dword ptr [EAX]
00778dc0 : MOV EDX,dword ptr [ECX + 0x8]
00778dc3 : PUSH EAX
00778dc4 : CALL EDX
00778dc6 : MOV dword ptr [EBP + -0x14],ESI
00778dc9 : MOV EAX,dword ptr [EBP + -0x18]
00778dcc : CMP EAX,ESI
00778dce : JZ 0x00778ddb
00778dd0 : MOV ECX,dword ptr [EAX]
00778dd2 : MOV EDX,dword ptr [ECX + 0x8]
00778dd5 : PUSH EAX
00778dd6 : CALL EDX
00778dd8 : MOV dword ptr [EBP + -0x18],ESI
00778ddb : MOV ESI,dword ptr [EBP + -0x30]
00778dde : MOV byte ptr [EBX + 0x100],0x1
00778de5 : TEST ESI,ESI
00778de7 : JZ 0x00778dee
00778de9 : CALL 0x00a64ba0
00778dee : MOV dword ptr [EBP + -0x4],0xffffffff
00778df5 : LEA ECX,[EBP + -0x34]
00778df8 : CALL 0x0045f5a0
00778dfd : MOV AL,0x1
00778dff : MOV ECX,dword ptr [EBP + -0xc]
00778e02 : MOV dword ptr FS:[0x0],ECX
00778e09 : POP ECX
00778e0a : POP EDI
00778e0b : POP ESI
00778e0c : POP EBX
00778e0d : MOV ESP,EBP
00778e0f : POP EBP
00778e10 : RET 0x4
