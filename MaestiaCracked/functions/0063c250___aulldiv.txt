PROGRAM  : Maestia.exe
FUNCTION : __aulldiv
ENTRY    : 0063c250
BODY     : [[0063c250, 0063c2b7]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    __aulldiv
   
   Library: Visual Studio 2008 Release */

undefined8 __aulldiv(uint param_1,uint param_2,uint param_3,uint param_4)

{
  ulonglong uVar1;
  longlong lVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  
  uVar3 = param_1;
  uVar8 = param_4;
  uVar6 = param_2;
  uVar9 = param_3;
  if (param_4 == 0) {
    uVar3 = param_2 / param_3;
    iVar4 = (int)(((ulonglong)param_2 % (ulonglong)param_3 << 0x20 | (ulonglong)param_1) /
                 (ulonglong)param_3);
  }
  else {
    do {
      uVar5 = uVar8 >> 1;
      uVar9 = uVar9 >> 1 | (uint)((uVar8 & 1) != 0) << 0x1f;
      uVar7 = uVar6 >> 1;
      uVar3 = uVar3 >> 1 | (uint)((uVar6 & 1) != 0) << 0x1f;
      uVar8 = uVar5;
      uVar6 = uVar7;
    } while (uVar5 != 0);
    uVar1 = CONCAT44(uVar7,uVar3) / (ulonglong)uVar9;
    iVar4 = (int)uVar1;
    lVar2 = (ulonglong)param_3 * (uVar1 & 0xffffffff);
    uVar3 = (uint)((ulonglong)lVar2 >> 0x20);
    uVar8 = uVar3 + iVar4 * param_4;
    if (((CARRY4(uVar3,iVar4 * param_4)) || (param_2 < uVar8)) ||
       ((param_2 <= uVar8 && (param_1 < (uint)lVar2)))) {
      iVar4 = iVar4 + -1;
    }
    uVar3 = 0;
  }
  return CONCAT44(uVar3,iVar4);
}



============================================================
DISASSEMBLY
============================================================
0063c250 : PUSH EBX
0063c251 : PUSH ESI
0063c252 : MOV EAX,dword ptr [ESP + 0x18]
0063c256 : OR EAX,EAX
0063c258 : JNZ 0x0063c272
0063c25a : MOV ECX,dword ptr [ESP + 0x14]
0063c25e : MOV EAX,dword ptr [ESP + 0x10]
0063c262 : XOR EDX,EDX
0063c264 : DIV ECX
0063c266 : MOV EBX,EAX
0063c268 : MOV EAX,dword ptr [ESP + 0xc]
0063c26c : DIV ECX
0063c26e : MOV EDX,EBX
0063c270 : JMP 0x0063c2b3
0063c272 : MOV ECX,EAX
0063c274 : MOV EBX,dword ptr [ESP + 0x14]
0063c278 : MOV EDX,dword ptr [ESP + 0x10]
0063c27c : MOV EAX,dword ptr [ESP + 0xc]
0063c280 : SHR ECX,0x1
0063c282 : RCR EBX,0x1
0063c284 : SHR EDX,0x1
0063c286 : RCR EAX,0x1
0063c288 : OR ECX,ECX
0063c28a : JNZ 0x0063c280
0063c28c : DIV EBX
0063c28e : MOV ESI,EAX
0063c290 : MUL dword ptr [ESP + 0x18]
0063c294 : MOV ECX,EAX
0063c296 : MOV EAX,dword ptr [ESP + 0x14]
0063c29a : MUL ESI
0063c29c : ADD EDX,ECX
0063c29e : JC 0x0063c2ae
0063c2a0 : CMP EDX,dword ptr [ESP + 0x10]
0063c2a4 : JA 0x0063c2ae
0063c2a6 : JC 0x0063c2af
0063c2a8 : CMP EAX,dword ptr [ESP + 0xc]
0063c2ac : JBE 0x0063c2af
0063c2ae : DEC ESI
0063c2af : XOR EDX,EDX
0063c2b1 : MOV EAX,ESI
0063c2b3 : POP ESI
0063c2b4 : POP EBX
0063c2b5 : RET 0x10
