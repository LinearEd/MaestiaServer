PROGRAM  : Maestia.exe
FUNCTION : FUN_0052b850
ENTRY    : 0052b850
BODY     : [[0052b850, 0052b8f2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0052b850(int param_1)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  int in_ECX;
  int iVar4;
  
  iVar1 = *(int *)(param_1 + 0x314);
  if (iVar1 == 0) {
    iVar1 = param_1 + 0x28;
  }
  puVar2 = (undefined4 *)FUN_00515840(0x10,0);
  if (puVar2 == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)0x0;
  }
  else {
    *puVar2 = &PTR_FUN_00cd3f2c;
    puVar2[1] = 1;
    *puVar2 = &PTR_FUN_00b8b2a8;
    puVar2[2] = 0;
    puVar2[3] = 0;
  }
  if (*(GRefCountImpl **)(in_ECX + 4) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 4));
  }
  *(undefined4 **)(in_ECX + 4) = puVar2;
  iVar3 = FUN_00539ca0();
  iVar4 = *(int *)(param_1 + 0x314);
  if (iVar4 == 0) {
    iVar4 = param_1 + 0x28;
  }
  FUN_0052ace0(iVar1,((*(int *)(iVar4 + 0x30) - *(int *)(iVar4 + 0x34)) - *(int *)(iVar4 + 0x2c)) +
                     iVar3);
  return;
}



============================================================
DISASSEMBLY
============================================================
0052b850 : PUSH EBX
0052b851 : PUSH ESI
0052b852 : MOV ESI,dword ptr [ESP + 0xc]
0052b856 : MOV EAX,dword ptr [ESI + 0x314]
0052b85c : MOV EBX,ECX
0052b85e : TEST EAX,EAX
0052b860 : JNZ 0x0052b865
0052b862 : LEA EAX,[ESI + 0x28]
0052b865 : MOV ECX,dword ptr [0x00d73250]
0052b86b : PUSH EDI
0052b86c : PUSH 0x0
0052b86e : PUSH 0x10
0052b870 : MOV dword ptr [ESP + 0x18],EAX
0052b874 : CALL 0x00515840
0052b879 : TEST EAX,EAX
0052b87b : JZ 0x0052b8a2
0052b87d : MOV dword ptr [EAX],0xcd3f2c
0052b883 : MOV dword ptr [EAX + 0x4],0x1
0052b88a : MOV dword ptr [EAX],0xb8b2a8
0052b890 : MOV dword ptr [EAX + 0x8],0x0
0052b897 : MOV dword ptr [EAX + 0xc],0x0
0052b89e : MOV EDI,EAX
0052b8a0 : JMP 0x0052b8a4
0052b8a2 : XOR EDI,EDI
0052b8a4 : MOV ECX,dword ptr [EBX + 0x4]
0052b8a7 : TEST ECX,ECX
0052b8a9 : JZ 0x0052b8b0
0052b8ab : CALL 0x004ff7e0
0052b8b0 : MOV dword ptr [EBX + 0x4],EDI
0052b8b3 : MOV EAX,dword ptr [ESI + 0x314]
0052b8b9 : POP EDI
0052b8ba : TEST EAX,EAX
0052b8bc : JNZ 0x0052b8c1
0052b8be : LEA EAX,[ESI + 0x28]
0052b8c1 : MOV ECX,EAX
0052b8c3 : CALL 0x00539ca0
0052b8c8 : MOV ECX,dword ptr [ESI + 0x314]
0052b8ce : TEST ECX,ECX
0052b8d0 : JNZ 0x0052b8d5
0052b8d2 : LEA ECX,[ESI + 0x28]
0052b8d5 : MOV EDX,dword ptr [ECX + 0x30]
0052b8d8 : SUB EDX,dword ptr [ECX + 0x34]
0052b8db : SUB EDX,dword ptr [ECX + 0x2c]
0052b8de : MOV ECX,dword ptr [EBX + 0x4]
0052b8e1 : ADD EDX,EAX
0052b8e3 : MOV EAX,dword ptr [ESP + 0xc]
0052b8e7 : PUSH EDX
0052b8e8 : PUSH EAX
0052b8e9 : CALL 0x0052ace0
0052b8ee : POP ESI
0052b8ef : POP EBX
0052b8f0 : RET 0x4
