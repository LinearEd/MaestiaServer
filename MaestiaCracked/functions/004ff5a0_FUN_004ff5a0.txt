PROGRAM  : Maestia.exe
FUNCTION : FUN_004ff5a0
ENTRY    : 004ff5a0
BODY     : [[004ff5a0, 004ff5f6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004ff5a0(int param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int *in_EAX;
  int *piVar3;
  int iVar4;
  bool bVar5;
  
  iVar4 = *(int *)(param_1 + 4);
  if (iVar4 != 0) {
    iVar1 = *param_2;
    do {
      piVar3 = (int *)(*(int *)(param_1 + 0x10) + iVar4);
      if ((*piVar3 == iVar1) && (piVar3[1] == param_2[1])) break;
      iVar4 = *piVar3;
      bVar5 = SBORROW4(iVar1,iVar4);
      iVar2 = iVar1 - iVar4;
      if (iVar1 == iVar4) {
        bVar5 = SBORROW4(param_2[1],piVar3[1]);
        iVar2 = param_2[1] - piVar3[1];
      }
      if (bVar5 == iVar2 < 0) {
        iVar4 = piVar3[0x14];
      }
      else {
        iVar4 = piVar3[0x13];
      }
    } while (iVar4 != 0);
  }
  in_EAX[1] = param_1 + 0xc;
  *in_EAX = iVar4;
  return;
}



============================================================
DISASSEMBLY
============================================================
004ff5a0 : PUSH EBX
004ff5a1 : MOV EBX,dword ptr [ESP + 0x8]
004ff5a5 : MOV EDX,dword ptr [EBX + 0x4]
004ff5a8 : PUSH EBP
004ff5a9 : MOV EBP,dword ptr [ESP + 0x10]
004ff5ad : TEST EDX,EDX
004ff5af : JZ 0x004ff5ea
004ff5b1 : PUSH EDI
004ff5b2 : MOV EDI,dword ptr [EBP]
004ff5b5 : PUSH ESI
004ff5b6 : MOV ECX,dword ptr [EBX + 0x10]
004ff5b9 : ADD ECX,EDX
004ff5bb : CMP dword ptr [ECX],EDI
004ff5bd : JNZ 0x004ff5c7
004ff5bf : MOV ESI,dword ptr [ECX + 0x4]
004ff5c2 : CMP ESI,dword ptr [EBP + 0x4]
004ff5c5 : JZ 0x004ff5e8
004ff5c7 : MOV ESI,dword ptr [ECX]
004ff5c9 : XOR EDX,EDX
004ff5cb : CMP EDI,ESI
004ff5cd : JNZ 0x004ff5d5
004ff5cf : MOV ESI,dword ptr [EBP + 0x4]
004ff5d2 : CMP ESI,dword ptr [ECX + 0x4]
004ff5d5 : SETL DL
004ff5d8 : TEST DL,DL
004ff5da : JZ 0x004ff5e1
004ff5dc : MOV EDX,dword ptr [ECX + 0x4c]
004ff5df : JMP 0x004ff5e4
004ff5e1 : MOV EDX,dword ptr [ECX + 0x50]
004ff5e4 : TEST EDX,EDX
004ff5e6 : JNZ 0x004ff5b6
004ff5e8 : POP ESI
004ff5e9 : POP EDI
004ff5ea : ADD EBX,0xc
004ff5ed : POP EBP
004ff5ee : MOV dword ptr [EAX + 0x4],EBX
004ff5f1 : MOV dword ptr [EAX],EDX
004ff5f3 : POP EBX
004ff5f4 : RET 0x8
