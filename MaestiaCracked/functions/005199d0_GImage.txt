PROGRAM  : Maestia.exe
FUNCTION : GImage
ENTRY    : 005199d0
BODY     : [[005199d0, 00519a64]]

============================================================
DECOMPILED C CODE
============================================================

/* public: __thiscall GImage::GImage(enum GImageBase::ImageFormat,unsigned long,unsigned long) */

GImage * __thiscall GImage::GImage(GImage *this,ImageFormat param_1,ulong param_2,ulong param_3)

{
  undefined4 uVar1;
  void *_Dst;
  
                    /* 0x1199d0  7  ??0GImage@@QAE@W4ImageFormat@GImageBase@@KK@Z */
  *(undefined ***)this = &PTR_FUN_00cd3f2c;
  *(undefined4 *)(this + 4) = 1;
  *(undefined4 *)(this + 0x24) = 0;
  *(undefined4 *)(this + 0x28) = 0;
  *(undefined4 *)(this + 0x2c) = 0;
  *(undefined ***)this = &PTR_FUN_00cd40fc;
  uVar1 = FUN_00518fc0(param_1,param_2);
  *(undefined4 *)(this + 0x14) = uVar1;
  uVar1 = FUN_005194f0(param_1,param_2,param_3);
  *(undefined4 *)(this + 0x1c) = uVar1;
  _Dst = (void *)FUN_00515d60(this,uVar1,0);
  *(void **)(this + 0x18) = _Dst;
  if (_Dst != (void *)0x0) {
    *(ImageFormat *)(this + 8) = param_1;
    *(ulong *)(this + 0xc) = param_2;
    *(ulong *)(this + 0x10) = param_3;
    _memset(_Dst,0,*(size_t *)(this + 0x1c));
    *(undefined4 *)(this + 0x20) = 1;
    return this;
  }
  FUN_00519970();
  *(undefined4 *)(this + 0x20) = 1;
  return this;
}



============================================================
DISASSEMBLY
============================================================
005199d0 : PUSH EBX
005199d1 : MOV EBX,dword ptr [ESP + 0x8]
005199d5 : PUSH EBP
005199d6 : PUSH ESI
005199d7 : MOV ESI,ECX
005199d9 : PUSH EDI
005199da : MOV EDI,dword ptr [ESP + 0x18]
005199de : MOV dword ptr [ESI],0xcd3f2c
005199e4 : XOR EAX,EAX
005199e6 : MOV dword ptr [ESI + 0x4],0x1
005199ed : MOV dword ptr [ESI + 0x24],EAX
005199f0 : MOV dword ptr [ESI + 0x28],EAX
005199f3 : PUSH EDI
005199f4 : MOV dword ptr [ESI + 0x2c],EAX
005199f7 : PUSH EBX
005199f8 : MOV dword ptr [ESI],0xcd40fc
005199fe : CALL 0x00518fc0
00519a03 : MOV EBP,dword ptr [ESP + 0x1c]
00519a07 : PUSH EBP
00519a08 : PUSH EDI
00519a09 : PUSH EBX
00519a0a : MOV dword ptr [ESI + 0x14],EAX
00519a0d : CALL 0x005194f0
00519a12 : PUSH 0x0
00519a14 : PUSH EAX
00519a15 : PUSH ESI
00519a16 : MOV dword ptr [ESI + 0x1c],EAX
00519a19 : CALL 0x00515d60
00519a1e : MOV dword ptr [ESI + 0x18],EAX
00519a21 : TEST EAX,EAX
00519a23 : JZ 0x00519a4d
00519a25 : MOV ECX,dword ptr [ESI + 0x1c]
00519a28 : PUSH ECX
00519a29 : PUSH 0x0
00519a2b : PUSH EAX
00519a2c : MOV dword ptr [ESI + 0x8],EBX
00519a2f : MOV dword ptr [ESI + 0xc],EDI
00519a32 : MOV dword ptr [ESI + 0x10],EBP
00519a35 : CALL 0x0063b700
00519a3a : ADD ESP,0xc
00519a3d : POP EDI
00519a3e : MOV EAX,ESI
00519a40 : MOV dword ptr [ESI + 0x20],0x1
00519a47 : POP ESI
00519a48 : POP EBP
00519a49 : POP EBX
00519a4a : RET 0xc
00519a4d : LEA ECX,[ESI + 0x8]
00519a50 : CALL 0x00519970
00519a55 : POP EDI
00519a56 : MOV EAX,ESI
00519a58 : MOV dword ptr [ESI + 0x20],0x1
00519a5f : POP ESI
00519a60 : POP EBP
00519a61 : POP EBX
00519a62 : RET 0xc
