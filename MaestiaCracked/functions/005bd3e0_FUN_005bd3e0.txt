PROGRAM  : Maestia.exe
FUNCTION : FUN_005bd3e0
ENTRY    : 005bd3e0
BODY     : [[005bd3e0, 005bd476]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005bd3e0(GRefCountNTSImpl *param_1)

{
  undefined1 *puVar1;
  GRefCountNTSImpl *pGVar2;
  GRefCountNTSImpl *this;
  int iVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  
  pGVar2 = param_1;
  puVar1 = *(undefined1 **)(param_1 + 4);
  FUN_00526400();
  *puVar1 = 0;
  if (*(int *)(pGVar2 + 0x18) != 0) {
    puVar6 = &param_1;
    FUN_005296a0(puVar6);
    FUN_00597b80(puVar6);
    this = param_1;
    if (param_1 != (GRefCountNTSImpl *)0x0) {
      iVar3 = (**(code **)(*(int *)param_1 + 0x9c))();
      if (iVar3 == 4) {
        uVar5 = 0;
        uVar4 = 0x7fffffff;
        if (1 < *(int *)(pGVar2 + 0x1c)) {
          uVar5 = *(undefined4 *)(pGVar2 + 0x18);
          FUN_00526260(0);
          uVar5 = FUN_00527990(uVar5);
          uVar4 = *(undefined4 *)(pGVar2 + 0x18);
          FUN_00526260(1);
          uVar4 = FUN_00527990(uVar4);
        }
        (**(code **)(*(int *)this + 0x154))(uVar5,uVar4);
      }
      GRefCountNTSImpl::Release(this);
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005bd3e0 : PUSH ESI
005bd3e1 : MOV ESI,dword ptr [ESP + 0x8]
005bd3e5 : PUSH EDI
005bd3e6 : MOV EDI,dword ptr [ESI + 0x4]
005bd3e9 : MOV ECX,EDI
005bd3eb : CALL 0x00526400
005bd3f0 : MOV byte ptr [EDI],0x0
005bd3f3 : MOV ECX,dword ptr [ESI + 0x18]
005bd3f6 : TEST ECX,ECX
005bd3f8 : JZ 0x005bd474
005bd3fa : PUSH EBX
005bd3fb : LEA EAX,[ESP + 0x10]
005bd3ff : PUSH EAX
005bd400 : CALL 0x005296a0
005bd405 : MOV ECX,EAX
005bd407 : CALL 0x00597b80
005bd40c : MOV EBX,dword ptr [ESP + 0x10]
005bd410 : TEST EBX,EBX
005bd412 : JZ 0x005bd473
005bd414 : MOV EDX,dword ptr [EBX]
005bd416 : MOV EAX,dword ptr [EDX + 0x9c]
005bd41c : MOV ECX,EBX
005bd41e : CALL EAX
005bd420 : CMP EAX,0x4
005bd423 : JNZ 0x005bd469
005bd425 : XOR EDI,EDI
005bd427 : CMP dword ptr [ESI + 0x1c],0x2
005bd42b : MOV EAX,0x7fffffff
005bd430 : JL 0x005bd45b
005bd432 : MOV ECX,dword ptr [ESI + 0x18]
005bd435 : PUSH ECX
005bd436 : PUSH EDI
005bd437 : MOV ECX,ESI
005bd439 : CALL 0x00526260
005bd43e : MOV ECX,EAX
005bd440 : CALL 0x00527990
005bd445 : MOV EDX,dword ptr [ESI + 0x18]
005bd448 : PUSH EDX
005bd449 : PUSH 0x1
005bd44b : MOV ECX,ESI
005bd44d : MOV EDI,EAX
005bd44f : CALL 0x00526260
005bd454 : MOV ECX,EAX
005bd456 : CALL 0x00527990
005bd45b : MOV EDX,dword ptr [EBX]
005bd45d : PUSH EAX
005bd45e : MOV EAX,dword ptr [EDX + 0x154]
005bd464 : PUSH EDI
005bd465 : MOV ECX,EBX
005bd467 : CALL EAX
005bd469 : MOV ECX,EBX
005bd46b : POP EBX
005bd46c : POP EDI
005bd46d : POP ESI
005bd46e : JMP 0x004ff7c0
005bd473 : POP EBX
005bd474 : POP EDI
005bd475 : POP ESI
005bd476 : RET
