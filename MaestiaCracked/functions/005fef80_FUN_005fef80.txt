PROGRAM  : Maestia.exe
FUNCTION : FUN_005fef80
ENTRY    : 005fef80
BODY     : [[005fef80, 005ff0ea]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005fef80(uint param_1,uint param_2,uint param_3)

{
  uint *puVar1;
  int iVar2;
  char cVar3;
  uint uVar4;
  uint uVar5;
  int in_ECX;
  uint local_c;
  uint local_8;
  uint local_4;
  
  local_c = param_1 & 0xbfffffff;
  local_8 = param_2 & 0xbfffffff;
  local_4 = param_3 & 0xbfffffff;
  if (local_c == local_8) {
    return;
  }
  if (local_8 == local_4) {
    return;
  }
  if (local_4 == local_c) {
    return;
  }
  if (*(char *)(in_ECX + 5) != '\0') {
    if (*(int *)(in_ECX + 0x184) != *(int *)(in_ECX + 0x1c4)) {
      uVar4 = *(int *)(in_ECX + 0x184) - 1;
      uVar5 = uVar4 & 0x3ff;
      iVar2 = *(int *)(*(int *)(in_ECX + 400) + (uVar4 >> 10) * 4);
      puVar1 = (uint *)(iVar2 + uVar5 * 0xc);
      if ((((*(uint *)(iVar2 + 4 + uVar5 * 0xc) == local_8) && (*puVar1 == local_4)) ||
          ((puVar1[2] == local_4 && (*puVar1 == local_8)))) &&
         (cVar3 = FUN_005f9830(param_1), cVar3 != '\0')) {
        if ((param_1 >> 0x1e & 1) == 0) {
          FUN_005fbd20(&local_c);
        }
        else {
          FUN_005fbd20(&local_c);
        }
        goto LAB_005ff0d1;
      }
      if (((3 < *(uint *)(in_ECX + 0x194)) && (3 < *(uint *)(in_ECX + 0x1a4))) &&
         (1 < *(int *)(in_ECX + 0x1c8))) {
        if (*(uint *)(in_ECX + 0x1c4) < *(uint *)(in_ECX + 0x184)) {
          *(uint *)(in_ECX + 0x184) = *(uint *)(in_ECX + 0x1c4);
        }
        FUN_005fecf0();
      }
      *(undefined4 *)(in_ECX + 0x194) = 0;
      *(undefined4 *)(in_ECX + 0x1a4) = 0;
      *(undefined4 *)(in_ECX + 0x1c8) = 0;
      *(undefined4 *)(in_ECX + 0x1cc) = 0;
      *(undefined4 *)(in_ECX + 0x1d0) = 0;
      *(undefined4 *)(in_ECX + 0x1c4) = *(undefined4 *)(in_ECX + 0x184);
    }
    FUN_005fed10(param_1,param_2,param_3);
  }
LAB_005ff0d1:
  FUN_005fbd60(&local_c);
  return;
}



============================================================
DISASSEMBLY
============================================================
005fef80 : SUB ESP,0xc
005fef83 : PUSH EBX
005fef84 : MOV EBX,dword ptr [ESP + 0x18]
005fef88 : PUSH EBP
005fef89 : MOV EBP,dword ptr [ESP + 0x20]
005fef8d : PUSH ESI
005fef8e : PUSH EDI
005fef8f : MOV EDI,dword ptr [ESP + 0x20]
005fef93 : MOV ESI,ECX
005fef95 : MOV EAX,EDI
005fef97 : MOV ECX,EBX
005fef99 : AND EAX,0xbfffffff
005fef9e : AND ECX,0xbfffffff
005fefa4 : MOV EDX,EBP
005fefa6 : AND EDX,0xbfffffff
005fefac : MOV dword ptr [ESP + 0x10],EAX
005fefb0 : MOV dword ptr [ESP + 0x14],ECX
005fefb4 : MOV dword ptr [ESP + 0x18],EDX
005fefb8 : CMP EAX,ECX
005fefba : JZ 0x005ff0e1
005fefc0 : CMP ECX,EDX
005fefc2 : JZ 0x005ff0e1
005fefc8 : CMP EDX,EAX
005fefca : JZ 0x005ff0e1
005fefd0 : CMP byte ptr [ESI + 0x5],0x0
005fefd4 : JZ 0x005ff0d1
005fefda : MOV EAX,dword ptr [ESI + 0x184]
005fefe0 : CMP EAX,dword ptr [ESI + 0x1c4]
005fefe6 : JNZ 0x005fefef
005fefe8 : PUSH EBP
005fefe9 : PUSH EBX
005fefea : JMP 0x005ff0c9
005fefef : MOV EBP,dword ptr [ESI + 0x190]
005feff5 : DEC EAX
005feff6 : MOV EBX,EAX
005feff8 : AND EAX,0x3ff
005feffd : SHR EBX,0xa
005ff000 : MOV EBX,dword ptr [EBP + EBX*0x4]
005ff004 : LEA EAX,[EAX + EAX*0x2]
005ff007 : CMP dword ptr [EBX + EAX*0x4 + 0x4],ECX
005ff00b : LEA EAX,[EBX + EAX*0x4]
005ff00e : JNZ 0x005ff014
005ff010 : CMP dword ptr [EAX],EDX
005ff012 : JZ 0x005ff01d
005ff014 : CMP dword ptr [EAX + 0x8],EDX
005ff017 : JNZ 0x005ff05a
005ff019 : CMP dword ptr [EAX],ECX
005ff01b : JNZ 0x005ff05a
005ff01d : PUSH EDI
005ff01e : MOV ECX,ESI
005ff020 : CALL 0x005f9830
005ff025 : TEST AL,AL
005ff027 : JZ 0x005ff05a
005ff029 : MOV ECX,EDI
005ff02b : SHR ECX,0x1e
005ff02e : TEST CL,0x1
005ff031 : JZ 0x005ff048
005ff033 : LEA EDX,[ESP + 0x10]
005ff037 : PUSH EDX
005ff038 : LEA ECX,[ESI + 0x194]
005ff03e : CALL 0x005fbd20
005ff043 : JMP 0x005ff0d1
005ff048 : LEA EAX,[ESP + 0x10]
005ff04c : PUSH EAX
005ff04d : LEA ECX,[ESI + 0x1a4]
005ff053 : CALL 0x005fbd20
005ff058 : JMP 0x005ff0d1
005ff05a : MOV EAX,0x3
005ff05f : CMP dword ptr [ESI + 0x194],EAX
005ff065 : JBE 0x005ff093
005ff067 : CMP dword ptr [ESI + 0x1a4],EAX
005ff06d : JBE 0x005ff093
005ff06f : CMP dword ptr [ESI + 0x1c8],0x1
005ff076 : JLE 0x005ff093
005ff078 : MOV EAX,dword ptr [ESI + 0x1c4]
005ff07e : CMP EAX,dword ptr [ESI + 0x184]
005ff084 : JNC 0x005ff08c
005ff086 : MOV dword ptr [ESI + 0x184],EAX
005ff08c : MOV ECX,ESI
005ff08e : CALL 0x005fecf0
005ff093 : MOV EDX,dword ptr [ESP + 0x28]
005ff097 : MOV ECX,dword ptr [ESI + 0x184]
005ff09d : XOR EAX,EAX
005ff09f : MOV dword ptr [ESI + 0x194],EAX
005ff0a5 : MOV dword ptr [ESI + 0x1a4],EAX
005ff0ab : MOV dword ptr [ESI + 0x1c8],EAX
005ff0b1 : MOV dword ptr [ESI + 0x1cc],EAX
005ff0b7 : MOV dword ptr [ESI + 0x1d0],EAX
005ff0bd : MOV EAX,dword ptr [ESP + 0x24]
005ff0c1 : PUSH EDX
005ff0c2 : MOV dword ptr [ESI + 0x1c4],ECX
005ff0c8 : PUSH EAX
005ff0c9 : PUSH EDI
005ff0ca : MOV ECX,ESI
005ff0cc : CALL 0x005fed10
005ff0d1 : LEA ECX,[ESP + 0x10]
005ff0d5 : PUSH ECX
005ff0d6 : LEA ECX,[ESI + 0x184]
005ff0dc : CALL 0x005fbd60
005ff0e1 : POP EDI
005ff0e2 : POP ESI
005ff0e3 : POP EBP
005ff0e4 : POP EBX
005ff0e5 : ADD ESP,0xc
005ff0e8 : RET 0xc
