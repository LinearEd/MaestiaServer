PROGRAM  : Maestia.exe
FUNCTION : FUN_00a38440
ENTRY    : 00a38440
BODY     : [[00a38440, 00a3859c] [00a385a0, 00a38630] [00a3863d, 00a387c8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a38440(int param_1)

{
  float fVar1;
  float fVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  float *pfVar5;
  uint uVar6;
  int *piVar7;
  float *pfVar8;
  int iVar9;
  int iVar10;
  float *pfVar11;
  int *piVar12;
  float *local_3c;
  undefined1 local_38 [4];
  float *local_34;
  float *local_30;
  undefined4 local_2c;
  float *local_24;
  float *local_20;
  undefined4 local_1c;
  void *local_14;
  undefined1 *puStack_10;
  int local_c;
  
  puStack_10 = &LAB_00b6562f;
  local_14 = ExceptionList;
  uVar6 = DAT_00d66fa0 ^ (uint)&stack0xffffffb8;
  ExceptionList = &local_14;
  local_34 = (float *)0x0;
  local_30 = (float *)0x0;
  local_2c = 0;
  local_c = 0;
  FUN_00a26160(param_1,local_38);
  if (*(int *)(param_1 + 0x478) != 0) {
    local_24 = (float *)0x0;
    local_20 = (float *)0x0;
    local_1c = 0;
    local_c._0_1_ = 1;
    pfVar8 = local_34;
    pfVar11 = local_34;
    if (local_34 != local_30) {
      do {
        piVar12 = *(int **)(param_1 + 0x474);
        piVar7 = (int *)*piVar12;
        if (piVar7 == piVar12) {
LAB_00a384d3:
          FUN_00407950(uVar6);
          pfVar8 = local_34;
        }
        else {
          do {
            if ((float)piVar7[3] == pfVar11[1]) break;
            piVar7 = (int *)*piVar7;
          } while (piVar7 != piVar12);
          if (piVar7 == piVar12) goto LAB_00a384d3;
        }
        pfVar11 = pfVar11 + 2;
      } while (pfVar11 != local_30);
    }
    pfVar5 = local_24;
    pfVar11 = local_34;
    if (pfVar8 != local_30) {
      do {
        if (pfVar8[1] == *(float *)(param_1 + 0x46c)) {
          if (pfVar8 != local_30) {
            fVar1 = *(float *)(param_1 + 0x468);
            fVar2 = *pfVar8;
            *(float *)(param_1 + 0x468) = fVar2;
            pfVar8 = local_24;
            goto joined_r0x00a38599;
          }
          break;
        }
        pfVar8 = pfVar8 + 2;
      } while (pfVar8 != local_30);
    }
LAB_00a3851d:
    FUN_00a38330(param_1,local_38);
joined_r0x00a3877d:
    if (pfVar5 != (float *)0x0) {
      local_c = (uint)local_c._1_3_ << 8;
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_24 = (float *)0x0;
    local_20 = (float *)0x0;
    local_1c = 0;
    local_c = 0xffffffff;
    if (local_34 != (float *)0x0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    ExceptionList = local_14;
    return;
  }
  FUN_00a38330(param_1,local_38);
  pfVar11 = local_34;
  goto joined_r0x00a38759;
joined_r0x00a38599:
  if (pfVar8 == local_20) goto LAB_00a385b0;
  if (fVar2 < *pfVar8) goto LAB_00a3851d;
  pfVar8 = pfVar8 + 2;
  goto joined_r0x00a38599;
LAB_00a385b0:
  piVar12 = (int *)**(int **)(param_1 + 0x474);
  if (piVar12 != *(int **)(param_1 + 0x474)) {
    do {
      pfVar8 = local_34;
      do {
        if (pfVar8[1] == (float)piVar12[3]) {
          if (pfVar8 == local_30) break;
          fVar2 = *pfVar8;
          piVar12[2] = (int)fVar2;
          if (5000.0 <= fVar2) {
            if ((fVar1 <= fVar2) ||
               (fVar2 < *(float *)(param_1 + 0x468) || fVar2 == *(float *)(param_1 + 0x468))) {
              piVar7 = (int *)*piVar12;
              goto LAB_00a38657;
            }
          }
          else if (piVar12[3] != *(int *)(param_1 + 0x46c)) break;
          FUN_00a38330(param_1,local_38);
          local_c = (uint)local_c._1_3_ << 8;
          if (local_24 != (float *)0x0) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
          local_24 = (float *)0x0;
          local_20 = (float *)0x0;
          local_1c = 0;
          goto joined_r0x00a38759;
        }
        pfVar8 = pfVar8 + 2;
      } while (pfVar8 != local_30);
      piVar7 = (int *)*piVar12;
      if (piVar12 != *(int **)(param_1 + 0x474)) {
        *(int *)piVar12[1] = *piVar12;
        *(int *)(*piVar12 + 4) = piVar12[1];
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
LAB_00a38657:
      piVar12 = piVar7;
    } while (piVar7 != *(int **)(param_1 + 0x474));
  }
  local_3c = local_24;
  if (local_24 != local_20) {
    do {
      iVar10 = *(int *)(param_1 + 0x474);
      iVar9 = FUN_004f8390(iVar10,*(undefined4 *)(iVar10 + 4));
      FUN_004093f0();
      *(int *)(iVar10 + 4) = iVar9;
      **(int **)(iVar9 + 4) = iVar9;
      local_3c = local_3c + 2;
    } while (local_3c != local_20);
  }
  pfVar8 = local_24;
  FUN_0040be70(param_1 + 0x470,local_3c);
  puVar3 = *(undefined4 **)(param_1 + 0x474);
  puVar4 = (undefined4 *)*puVar3;
  for (iVar10 = 0; (puVar4 != puVar3 && (iVar10 < 10)); iVar10 = iVar10 + 1) {
    if (((undefined4 *)*puVar4 != puVar3) &&
       ((puVar4[3] == *(int *)(param_1 + 0x46c) && (iVar10 != 9)))) {
      FUN_00a38280();
      pfVar5 = local_24;
      goto joined_r0x00a3877d;
    }
    puVar4 = (undefined4 *)*puVar4;
  }
  FUN_00a38330(param_1,local_38);
  local_c = (uint)local_c._1_3_ << 8;
  if (pfVar8 != (float *)0x0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_24 = (float *)0x0;
  local_20 = (float *)0x0;
  local_1c = 0;
  pfVar11 = local_34;
joined_r0x00a38759:
  if (pfVar11 != (float *)0x0) {
    local_c = 0xffffffff;
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a38440 : PUSH EBP
00a38441 : MOV EBP,ESP
00a38443 : AND ESP,0xfffffff8
00a38446 : PUSH -0x1
00a38448 : PUSH 0xb6562f
00a3844d : MOV EAX,FS:[0x0]
00a38453 : PUSH EAX
00a38454 : SUB ESP,0x28
00a38457 : PUSH EBX
00a38458 : PUSH ESI
00a38459 : PUSH EDI
00a3845a : MOV EAX,[0x00d66fa0]
00a3845f : XOR EAX,ESP
00a38461 : PUSH EAX
00a38462 : LEA EAX,[ESP + 0x38]
00a38466 : MOV FS:[0x0],EAX
00a3846c : MOV EBX,dword ptr [EBP + 0x8]
00a3846f : XOR EDI,EDI
00a38471 : MOV dword ptr [ESP + 0x18],EDI
00a38475 : MOV dword ptr [ESP + 0x1c],EDI
00a38479 : MOV dword ptr [ESP + 0x20],EDI
00a3847d : MOV dword ptr [ESP + 0x40],EDI
00a38481 : LEA EAX,[ESP + 0x14]
00a38485 : PUSH EAX
00a38486 : PUSH EBX
00a38487 : CALL 0x00a26160
00a3848c : CMP dword ptr [EBX + 0x478],EDI
00a38492 : JZ 0x00a38788
00a38498 : MOV dword ptr [ESP + 0x28],EDI
00a3849c : MOV dword ptr [ESP + 0x2c],EDI
00a384a0 : MOV dword ptr [ESP + 0x30],EDI
00a384a4 : MOV byte ptr [ESP + 0x40],0x1
00a384a9 : MOV EDX,dword ptr [ESP + 0x18]
00a384ad : MOV ESI,EDX
00a384af : CMP EDX,dword ptr [ESP + 0x1c]
00a384b3 : JZ 0x00a384ef
00a384b5 : MOV ECX,dword ptr [EBX + 0x474]
00a384bb : MOV EAX,dword ptr [ECX]
00a384bd : CMP EAX,ECX
00a384bf : JZ 0x00a384d3
00a384c1 : MOV EDI,dword ptr [ESI + 0x4]
00a384c4 : CMP dword ptr [EAX + 0xc],EDI
00a384c7 : JZ 0x00a384cf
00a384c9 : MOV EAX,dword ptr [EAX]
00a384cb : CMP EAX,ECX
00a384cd : JNZ 0x00a384c4
00a384cf : CMP EAX,ECX
00a384d1 : JNZ 0x00a384e2
00a384d3 : MOV ECX,ESI
00a384d5 : LEA EDI,[ESP + 0x24]
00a384d9 : CALL 0x00407950
00a384de : MOV EDX,dword ptr [ESP + 0x18]
00a384e2 : ADD ESI,0x8
00a384e5 : CMP ESI,dword ptr [ESP + 0x1c]
00a384e9 : JNZ 0x00a384b5
00a384eb : MOV EDI,dword ptr [ESP + 0x28]
00a384ef : MOV EAX,EDX
00a384f1 : CMP EDX,dword ptr [ESP + 0x1c]
00a384f5 : JZ 0x00a38518
00a384f7 : MOV ECX,dword ptr [EBX + 0x46c]
00a384fd : LEA ECX,[ECX]
00a38500 : CMP dword ptr [EAX + 0x4],ECX
00a38503 : JZ 0x00a38510
00a38505 : ADD EAX,0x8
00a38508 : CMP EAX,dword ptr [ESP + 0x1c]
00a3850c : JNZ 0x00a38500
00a3850e : JMP 0x00a38518
00a38510 : MOV EDX,dword ptr [ESP + 0x1c]
00a38514 : CMP EAX,EDX
00a38516 : JNZ 0x00a38577
00a38518 : LEA ECX,[ESP + 0x14]
00a3851c : PUSH ECX
00a3851d : PUSH EBX
00a3851e : CALL 0x00a38330
00a38523 : MOV byte ptr [ESP + 0x40],0x0
00a38528 : XOR ESI,ESI
00a3852a : CMP EDI,ESI
00a3852c : JZ 0x00a38535
00a3852e : MOV ECX,EDI
00a38530 : CALL 0x006f04e0
00a38535 : MOV dword ptr [ESP + 0x28],ESI
00a38539 : MOV dword ptr [ESP + 0x2c],ESI
00a3853d : MOV dword ptr [ESP + 0x30],ESI
00a38541 : MOV dword ptr [ESP + 0x40],0xffffffff
00a38549 : MOV ECX,dword ptr [ESP + 0x18]
00a3854d : CMP ECX,ESI
00a3854f : JZ 0x00a38556
00a38551 : CALL 0x006f04e0
00a38556 : MOV dword ptr [ESP + 0x18],ESI
00a3855a : MOV dword ptr [ESP + 0x1c],ESI
00a3855e : MOV dword ptr [ESP + 0x20],ESI
00a38562 : MOV ECX,dword ptr [ESP + 0x38]
00a38566 : MOV dword ptr FS:[0x0],ECX
00a3856d : POP ECX
00a3856e : POP EDI
00a3856f : POP ESI
00a38570 : POP EBX
00a38571 : MOV ESP,EBP
00a38573 : POP EBP
00a38574 : RET 0x4
00a38577 : MOVSS XMM0,dword ptr [EBX + 0x468]
00a3857f : MOV ECX,dword ptr [ESP + 0x2c]
00a38583 : MOVSS dword ptr [ESP + 0x10],XMM0
00a38589 : MOVSS XMM0,dword ptr [EAX]
00a3858d : MOVSS dword ptr [EBX + 0x468],XMM0
00a38595 : MOV EAX,EDI
00a38597 : CMP EDI,ECX
00a38599 : JZ 0x00a385b0
00a3859b : JMP 0x00a385a0
00a385a0 : MOVSS XMM1,dword ptr [EAX]
00a385a4 : COMISS XMM1,XMM0
00a385a7 : JA 0x00a385de
00a385a9 : ADD EAX,0x8
00a385ac : CMP EAX,ECX
00a385ae : JNZ 0x00a385a0
00a385b0 : MOV EAX,dword ptr [EBX + 0x474]
00a385b6 : MOV EDI,dword ptr [EAX]
00a385b8 : CMP EDI,EAX
00a385ba : JZ 0x00a38667
00a385c0 : MOV ESI,dword ptr [ESP + 0x18]
00a385c4 : MOV ECX,dword ptr [EDI + 0xc]
00a385c7 : MOV EAX,ESI
00a385c9 : LEA ESP,[ESP]
00a385d0 : CMP dword ptr [EAX + 0x4],ECX
00a385d3 : JZ 0x00a385e8
00a385d5 : ADD EAX,0x8
00a385d8 : CMP EAX,EDX
00a385da : JNZ 0x00a385d0
00a385dc : JMP 0x00a38611
00a385de : LEA EDX,[ESP + 0x14]
00a385e2 : PUSH EDX
00a385e3 : JMP 0x00a3851d
00a385e8 : CMP EAX,EDX
00a385ea : JZ 0x00a38611
00a385ec : MOVSS XMM0,dword ptr [EAX]
00a385f0 : MOVSS XMM1,dword ptr [0x00cdf4e0]
00a385f8 : COMISS XMM1,XMM0
00a385fb : MOVSS dword ptr [EDI + 0x8],XMM0
00a38600 : JBE 0x00a3863d
00a38602 : MOV EAX,dword ptr [EDI + 0xc]
00a38605 : CMP EAX,dword ptr [EBX + 0x46c]
00a3860b : JZ 0x00a38724
00a38611 : MOV ECX,EDI
00a38613 : MOV EDI,dword ptr [EDI]
00a38615 : CMP ECX,dword ptr [EBX + 0x474]
00a3861b : JZ 0x00a38657
00a3861d : MOV EAX,dword ptr [ECX + 0x4]
00a38620 : MOV EDX,dword ptr [ECX]
00a38622 : MOV dword ptr [EAX],EDX
00a38624 : MOV EAX,dword ptr [ECX]
00a38626 : MOV EDX,dword ptr [ECX + 0x4]
00a38629 : MOV dword ptr [EAX + 0x4],EDX
00a3862c : CALL 0x006f04e0
00a3863d : MOVSS XMM1,dword ptr [ESP + 0x10]
00a38643 : COMISS XMM1,XMM0
00a38646 : JBE 0x00a38655
00a38648 : COMISS XMM0,dword ptr [EBX + 0x468]
00a3864f : JA 0x00a3875f
00a38655 : MOV EDI,dword ptr [EDI]
00a38657 : CMP EDI,dword ptr [EBX + 0x474]
00a3865d : JNZ 0x00a385c0
00a38663 : MOV ECX,dword ptr [ESP + 0x2c]
00a38667 : MOV ESI,dword ptr [ESP + 0x28]
00a3866b : MOV dword ptr [ESP + 0x10],ESI
00a3866f : CMP ESI,ECX
00a38671 : JZ 0x00a386b6
00a38673 : MOV EDI,dword ptr [EBX + 0x474]
00a38679 : MOV EDX,dword ptr [EDI + 0x4]
00a3867c : MOV ECX,dword ptr [ESP + 0x10]
00a38680 : PUSH EDX
00a38681 : PUSH EDI
00a38682 : CALL 0x004f8390
00a38687 : MOV ECX,0x1
00a3868c : LEA EDX,[EBX + 0x470]
00a38692 : MOV ESI,EAX
00a38694 : CALL 0x004093f0
00a38699 : MOV dword ptr [EDI + 0x4],ESI
00a3869c : MOV EAX,dword ptr [ESI + 0x4]
00a3869f : MOV dword ptr [EAX],ESI
00a386a1 : MOV EAX,dword ptr [ESP + 0x10]
00a386a5 : ADD EAX,0x8
00a386a8 : MOV dword ptr [ESP + 0x10],EAX
00a386ac : CMP EAX,dword ptr [ESP + 0x2c]
00a386b0 : JNZ 0x00a38673
00a386b2 : MOV ESI,dword ptr [ESP + 0x28]
00a386b6 : MOV EAX,dword ptr [ESP + 0x10]
00a386ba : PUSH EAX
00a386bb : LEA ECX,[EBX + 0x470]
00a386c1 : PUSH ECX
00a386c2 : CALL 0x0040be70
00a386c7 : MOV EDI,dword ptr [EBX + 0x474]
00a386cd : MOV EAX,dword ptr [EDI]
00a386cf : XOR ECX,ECX
00a386d1 : CMP EAX,EDI
00a386d3 : JZ 0x00a386f7
00a386d5 : CMP ECX,0xa
00a386d8 : JGE 0x00a386f7
00a386da : MOV EDX,EAX
00a386dc : MOV EAX,dword ptr [EAX]
00a386de : CMP EAX,EDI
00a386e0 : JZ 0x00a386f2
00a386e2 : MOV EDX,dword ptr [EDX + 0xc]
00a386e5 : CMP EDX,dword ptr [EBX + 0x46c]
00a386eb : JNZ 0x00a386f2
00a386ed : CMP ECX,0x9
00a386f0 : JNZ 0x00a38766
00a386f2 : INC ECX
00a386f3 : CMP EAX,EDI
00a386f5 : JNZ 0x00a386d5
00a386f7 : LEA EAX,[ESP + 0x14]
00a386fb : PUSH EAX
00a386fc : PUSH EBX
00a386fd : CALL 0x00a38330
00a38702 : MOV byte ptr [ESP + 0x40],0x0
00a38707 : XOR EDI,EDI
00a38709 : CMP ESI,EDI
00a3870b : JZ 0x00a38714
00a3870d : MOV ECX,ESI
00a3870f : CALL 0x006f04e0
00a38714 : MOV dword ptr [ESP + 0x28],EDI
00a38718 : MOV dword ptr [ESP + 0x2c],EDI
00a3871c : MOV dword ptr [ESP + 0x30],EDI
00a38720 : XOR EDI,EDI
00a38722 : JMP 0x00a38793
00a38724 : LEA EAX,[ESP + 0x14]
00a38728 : PUSH EAX
00a38729 : PUSH EBX
00a3872a : CALL 0x00a38330
00a3872f : MOV byte ptr [ESP + 0x40],0x0
00a38734 : MOV ECX,dword ptr [ESP + 0x28]
00a38738 : XOR EDI,EDI
00a3873a : CMP ECX,EDI
00a3873c : JZ 0x00a38743
00a3873e : CALL 0x006f04e0
00a38743 : MOV dword ptr [ESP + 0x28],EDI
00a38747 : MOV dword ptr [ESP + 0x2c],EDI
00a3874b : MOV dword ptr [ESP + 0x30],EDI
00a3874f : MOV dword ptr [ESP + 0x40],0xffffffff
00a38757 : CMP ESI,EDI
00a38759 : JZ 0x00a387a8
00a3875b : MOV ECX,ESI
00a3875d : JMP 0x00a387a3
00a3875f : LEA ECX,[ESP + 0x14]
00a38763 : PUSH ECX
00a38764 : JMP 0x00a38729
00a38766 : ADD EAX,0x8
00a38769 : MOV ESI,EBX
00a3876b : CALL 0x00a38280
00a38770 : MOV byte ptr [ESP + 0x40],0x0
00a38775 : MOV ECX,dword ptr [ESP + 0x28]
00a38779 : XOR ESI,ESI
00a3877b : CMP ECX,ESI
00a3877d : JZ 0x00a38535
00a38783 : JMP 0x00a38530
00a38788 : LEA ECX,[ESP + 0x14]
00a3878c : PUSH ECX
00a3878d : PUSH EBX
00a3878e : CALL 0x00a38330
00a38793 : MOV dword ptr [ESP + 0x40],0xffffffff
00a3879b : MOV ECX,dword ptr [ESP + 0x18]
00a3879f : CMP ECX,EDI
00a387a1 : JZ 0x00a387a8
00a387a3 : CALL 0x006f04e0
00a387a8 : MOV dword ptr [ESP + 0x18],EDI
00a387ac : MOV dword ptr [ESP + 0x1c],EDI
00a387b0 : MOV dword ptr [ESP + 0x20],EDI
00a387b4 : MOV ECX,dword ptr [ESP + 0x38]
00a387b8 : MOV dword ptr FS:[0x0],ECX
00a387bf : POP ECX
00a387c0 : POP EDI
00a387c1 : POP ESI
00a387c2 : POP EBX
00a387c3 : MOV ESP,EBP
00a387c5 : POP EBP
00a387c6 : RET 0x4
