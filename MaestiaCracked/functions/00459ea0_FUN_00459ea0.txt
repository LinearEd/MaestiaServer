PROGRAM  : Maestia.exe
FUNCTION : FUN_00459ea0
ENTRY    : 00459ea0
BODY     : [[00459ea0, 0045a033]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00459ea0(int *param_1,byte *param_2,char *param_3)

{
  byte bVar1;
  undefined4 *puVar2;
  int iVar3;
  byte *pbVar4;
  int iVar5;
  undefined1 *puVar6;
  int in_ECX;
  char *pcVar7;
  bool bVar8;
  
  iVar3 = (**(code **)(*param_1 + 0xb8))();
  pcVar7 = "RollOverInform";
  pbVar4 = param_2;
  do {
    bVar1 = *pbVar4;
    bVar8 = bVar1 < (byte)*pcVar7;
    if (bVar1 != *pcVar7) {
LAB_00459ee5:
      iVar5 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
      goto LAB_00459eea;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar4[1];
    bVar8 = bVar1 < ((byte *)pcVar7)[1];
    if (bVar1 != ((byte *)pcVar7)[1]) goto LAB_00459ee5;
    pbVar4 = pbVar4 + 2;
    pcVar7 = (char *)((byte *)pcVar7 + 2);
  } while (bVar1 != 0);
  iVar5 = 0;
LAB_00459eea:
  if (iVar5 == 0) {
    _DAT_00d7d480 = GetTickCount();
    _strcpy_s(&DAT_00d6de88,0x80,&DAT_00d6de08);
    _strcpy_s(&DAT_00da9980,0x80,&DAT_00da9900);
    _strcpy_s(&DAT_00d6de08,0x80,param_3);
    DAT_00da9900 = 0;
    return;
  }
  pcVar7 = "RollOverInform2";
  pbVar4 = param_2;
  do {
    bVar1 = *pbVar4;
    bVar8 = bVar1 < (byte)*pcVar7;
    if (bVar1 != *pcVar7) {
LAB_00459f70:
      iVar5 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
      goto LAB_00459f75;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar4[1];
    bVar8 = bVar1 < ((byte *)pcVar7)[1];
    if (bVar1 != ((byte *)pcVar7)[1]) goto LAB_00459f70;
    pbVar4 = pbVar4 + 2;
    pcVar7 = (char *)((byte *)pcVar7 + 2);
  } while (bVar1 != 0);
  iVar5 = 0;
LAB_00459f75:
  if (iVar5 == 0) {
    _strcpy_s(&DAT_00d6de08,0x80,param_3);
    DAT_00da9900 = 0;
    puVar6 = (undefined1 *)FUN_00638800(&DAT_00d6de08,0x2e);
    if (puVar6 != (undefined1 *)0x0) {
      *puVar6 = 0;
      _strcpy_s(&DAT_00da9900,0x80,puVar6 + 1);
      return;
    }
  }
  else if (iVar3 != 0) {
    puVar2 = *(undefined4 **)(iVar3 + 0x24);
    if (*(int *)(in_ECX + 0xc) == 0) {
      FUN_008018d0(L"AvaAppCommandHandler::m_pApp == NULL !!!!!");
    }
    if ((*(int *)(*(int *)(in_ECX + 0xc) + 8) != 0) &&
       (iVar5 = (**(code **)**(undefined4 **)(*(int *)(in_ECX + 0xc) + 8))(iVar3,param_2,param_3),
       iVar5 != 0)) {
      return;
    }
    if (puVar2 != (undefined4 *)0x0) {
      (**(code **)*puVar2)(iVar3,param_2,param_3);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00459ea0 : PUSH EBP
00459ea1 : MOV EBP,ESP
00459ea3 : PUSH ECX
00459ea4 : PUSH ESI
00459ea5 : MOV ESI,ECX
00459ea7 : MOV ECX,dword ptr [EBP + 0x8]
00459eaa : MOV EAX,dword ptr [ECX]
00459eac : MOV EDX,dword ptr [EAX + 0xb8]
00459eb2 : PUSH EDI
00459eb3 : MOV dword ptr [EBP + -0x4],ESI
00459eb6 : CALL EDX
00459eb8 : MOV EDI,dword ptr [EBP + 0xc]
00459ebb : MOV dword ptr [EBP + 0x8],EAX
00459ebe : MOV ECX,0xcd44b4
00459ec3 : MOV EAX,EDI
00459ec5 : MOV DL,byte ptr [EAX]
00459ec7 : CMP DL,byte ptr [ECX]
00459ec9 : JNZ 0x00459ee5
00459ecb : TEST DL,DL
00459ecd : JZ 0x00459ee1
00459ecf : MOV DL,byte ptr [EAX + 0x1]
00459ed2 : CMP DL,byte ptr [ECX + 0x1]
00459ed5 : JNZ 0x00459ee5
00459ed7 : ADD EAX,0x2
00459eda : ADD ECX,0x2
00459edd : TEST DL,DL
00459edf : JNZ 0x00459ec5
00459ee1 : XOR EAX,EAX
00459ee3 : JMP 0x00459eea
00459ee5 : SBB EAX,EAX
00459ee7 : SBB EAX,-0x1
00459eea : TEST EAX,EAX
00459eec : JNZ 0x00459f46
00459eee : CALL dword ptr [0x00b850d8]
00459ef4 : PUSH 0xd6de08
00459ef9 : PUSH 0x80
00459efe : PUSH 0xd6de88
00459f03 : MOV [0x00d7d480],EAX
00459f08 : CALL 0x00638300
00459f0d : PUSH 0xda9900
00459f12 : PUSH 0x80
00459f17 : PUSH 0xda9980
00459f1c : CALL 0x00638300
00459f21 : MOV EAX,dword ptr [EBP + 0x10]
00459f24 : PUSH EAX
00459f25 : PUSH 0x80
00459f2a : PUSH 0xd6de08
00459f2f : CALL 0x00638300
00459f34 : ADD ESP,0x24
00459f37 : POP EDI
00459f38 : MOV byte ptr [0x00da9900],0x0
00459f3f : POP ESI
00459f40 : MOV ESP,EBP
00459f42 : POP EBP
00459f43 : RET 0xc
00459f46 : MOV ECX,0xcd44c4
00459f4b : MOV EAX,EDI
00459f4d : LEA ECX,[ECX]
00459f50 : MOV DL,byte ptr [EAX]
00459f52 : CMP DL,byte ptr [ECX]
00459f54 : JNZ 0x00459f70
00459f56 : TEST DL,DL
00459f58 : JZ 0x00459f6c
00459f5a : MOV DL,byte ptr [EAX + 0x1]
00459f5d : CMP DL,byte ptr [ECX + 0x1]
00459f60 : JNZ 0x00459f70
00459f62 : ADD EAX,0x2
00459f65 : ADD ECX,0x2
00459f68 : TEST DL,DL
00459f6a : JNZ 0x00459f50
00459f6c : XOR EAX,EAX
00459f6e : JMP 0x00459f75
00459f70 : SBB EAX,EAX
00459f72 : SBB EAX,-0x1
00459f75 : TEST EAX,EAX
00459f77 : JNZ 0x00459fc9
00459f79 : MOV ECX,dword ptr [EBP + 0x10]
00459f7c : PUSH ECX
00459f7d : PUSH 0x80
00459f82 : PUSH 0xd6de08
00459f87 : CALL 0x00638300
00459f8c : PUSH 0x2e
00459f8e : PUSH 0xd6de08
00459f93 : MOV byte ptr [0x00da9900],0x0
00459f9a : CALL 0x00638800
00459f9f : ADD ESP,0x14
00459fa2 : TEST EAX,EAX
00459fa4 : JZ 0x0045a02c
00459faa : MOV byte ptr [EAX],0x0
00459fad : INC EAX
00459fae : PUSH EAX
00459faf : PUSH 0x80
00459fb4 : PUSH 0xda9900
00459fb9 : CALL 0x00638300
00459fbe : ADD ESP,0xc
00459fc1 : POP EDI
00459fc2 : POP ESI
00459fc3 : MOV ESP,EBP
00459fc5 : POP EBP
00459fc6 : RET 0xc
00459fc9 : MOV EAX,dword ptr [EBP + 0x8]
00459fcc : TEST EAX,EAX
00459fce : JZ 0x0045a02c
00459fd0 : CMP dword ptr [ESI + 0xc],0x0
00459fd4 : MOV EDI,dword ptr [EAX + 0x24]
00459fd7 : JNZ 0x00459fef
00459fd9 : MOV ESI,dword ptr [0x00da98e8]
00459fdf : PUSH 0xcd44d8
00459fe4 : CALL 0x008018d0
00459fe9 : MOV ESI,dword ptr [EBP + -0x4]
00459fec : ADD ESP,0x4
00459fef : MOV EDX,dword ptr [ESI + 0xc]
00459ff2 : CMP dword ptr [EDX + 0x8],0x0
00459ff6 : MOV ESI,dword ptr [EBP + 0x10]
00459ff9 : JZ 0x0045a017
00459ffb : MOV EAX,dword ptr [EBP + -0x4]
00459ffe : MOV ECX,dword ptr [EAX + 0xc]
0045a001 : MOV EAX,dword ptr [EBP + 0xc]
0045a004 : MOV ECX,dword ptr [ECX + 0x8]
0045a007 : MOV EDX,dword ptr [ECX]
0045a009 : MOV EDX,dword ptr [EDX]
0045a00b : PUSH ESI
0045a00c : PUSH EAX
0045a00d : MOV EAX,dword ptr [EBP + 0x8]
0045a010 : PUSH EAX
0045a011 : CALL EDX
0045a013 : TEST EAX,EAX
0045a015 : JNZ 0x0045a02c
0045a017 : TEST EDI,EDI
0045a019 : JZ 0x0045a02c
0045a01b : MOV ECX,dword ptr [EBP + 0xc]
0045a01e : MOV EAX,dword ptr [EDI]
0045a020 : MOV EDX,dword ptr [EBP + 0x8]
0045a023 : MOV EAX,dword ptr [EAX]
0045a025 : PUSH ESI
0045a026 : PUSH ECX
0045a027 : PUSH EDX
0045a028 : MOV ECX,EDI
0045a02a : CALL EAX
0045a02c : POP EDI
0045a02d : POP ESI
0045a02e : MOV ESP,EBP
0045a030 : POP EBP
0045a031 : RET 0xc
