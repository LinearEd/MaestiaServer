PROGRAM  : Maestia.exe
FUNCTION : FUN_00844e90
ENTRY    : 00844e90
BODY     : [[00844e90, 00844f61]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00844e90(undefined4 param_1,byte param_2)

{
  int iVar1;
  int unaff_ESI;
  
  *(undefined4 *)(unaff_ESI + 0x34) = 0;
  *(undefined4 *)(unaff_ESI + 8) = 2;
  *(undefined4 *)(unaff_ESI + 0x10) = param_1;
  iVar1 = FUN_00a1a840(param_1);
  if (iVar1 == 0) {
    iVar1 = FUN_00a1a6d0(param_1);
    if (iVar1 == 0) {
      iVar1 = FUN_00a1a780(param_1);
    }
  }
  *(undefined4 *)(unaff_ESI + 0x30) = param_1;
  *(undefined4 *)(unaff_ESI + 0x40) = 0;
  *(undefined4 *)(unaff_ESI + 0x48) = 5000;
  if (iVar1 == 0) {
    *(undefined4 *)(unaff_ESI + 0xc) = 1;
  }
  else {
    *(undefined4 *)(unaff_ESI + 0xc) = 0;
    *(undefined4 *)(unaff_ESI + 0x40) = 3;
  }
  FUN_00843a80();
  if (*(int *)(unaff_ESI + 0x34) != 0) {
    *(undefined1 *)(*(int *)(unaff_ESI + 0x34) + 0x20d) = 0;
  }
  if (((*(int *)(unaff_ESI + 0x30) != 0) && (iVar1 != 0)) && (*(int *)(iVar1 + 0x400) != 0)) {
    *(undefined1 *)(*(int *)(iVar1 + 0x400) + 0x20d) = 0;
  }
  *(uint *)(unaff_ESI + 0x4c) = (uint)param_2;
  iVar1 = DAT_0172491c;
  *(undefined4 *)(unaff_ESI + 0x44) = 0;
  if (iVar1 != 0) {
    FUN_0081e4b0(iVar1);
  }
  if (*DAT_00da9894 != 0) {
    FUN_008ecb00();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00844e90 : PUSH EBP
00844e91 : MOV EBP,ESP
00844e93 : MOV ECX,dword ptr [0x00da93ec]
00844e99 : PUSH EBX
00844e9a : MOV EBX,dword ptr [EBP + 0x8]
00844e9d : PUSH EDI
00844e9e : PUSH EBX
00844e9f : MOV dword ptr [ESI + 0x34],0x0
00844ea6 : MOV dword ptr [ESI + 0x8],0x2
00844ead : MOV dword ptr [ESI + 0x10],EBX
00844eb0 : MOV dword ptr [EBP + 0x8],ECX
00844eb3 : CALL 0x00a1a840
00844eb8 : MOV EDI,EAX
00844eba : TEST EDI,EDI
00844ebc : JNZ 0x00844ed8
00844ebe : MOV ECX,dword ptr [EBP + 0x8]
00844ec1 : PUSH EBX
00844ec2 : CALL 0x00a1a6d0
00844ec7 : MOV EDI,EAX
00844ec9 : TEST EDI,EDI
00844ecb : JNZ 0x00844ed8
00844ecd : MOV ECX,dword ptr [EBP + 0x8]
00844ed0 : PUSH EBX
00844ed1 : CALL 0x00a1a780
00844ed6 : MOV EDI,EAX
00844ed8 : XOR EAX,EAX
00844eda : MOV dword ptr [ESI + 0x30],EBX
00844edd : MOV dword ptr [ESI + 0x40],EAX
00844ee0 : MOV dword ptr [ESI + 0x48],0x1388
00844ee7 : CMP EDI,EAX
00844ee9 : JZ 0x00844ef7
00844eeb : MOV dword ptr [ESI + 0xc],EAX
00844eee : MOV dword ptr [ESI + 0x40],0x3
00844ef5 : JMP 0x00844efe
00844ef7 : MOV dword ptr [ESI + 0xc],0x1
00844efe : MOV EAX,ESI
00844f00 : CALL 0x00843a80
00844f05 : MOV EAX,dword ptr [ESI + 0x34]
00844f08 : TEST EAX,EAX
00844f0a : JZ 0x00844f13
00844f0c : MOV byte ptr [EAX + 0x20d],0x0
00844f13 : CMP dword ptr [ESI + 0x30],0x0
00844f17 : JZ 0x00844f2e
00844f19 : TEST EDI,EDI
00844f1b : JZ 0x00844f2e
00844f1d : MOV EDI,dword ptr [EDI + 0x400]
00844f23 : TEST EDI,EDI
00844f25 : JZ 0x00844f2e
00844f27 : MOV byte ptr [EDI + 0x20d],0x0
00844f2e : MOVZX EAX,byte ptr [EBP + 0xc]
00844f32 : MOV dword ptr [ESI + 0x4c],EAX
00844f35 : MOV EAX,[0x0172491c]
00844f3a : POP EDI
00844f3b : MOV dword ptr [ESI + 0x44],0x0
00844f42 : POP EBX
00844f43 : TEST EAX,EAX
00844f45 : JZ 0x00844f4d
00844f47 : PUSH EAX
00844f48 : CALL 0x0081e4b0
00844f4d : MOV ECX,dword ptr [0x00da9894]
00844f53 : MOV ECX,dword ptr [ECX]
00844f55 : TEST ECX,ECX
00844f57 : JZ 0x00844f5e
00844f59 : CALL 0x008ecb00
00844f5e : POP EBP
00844f5f : RET 0x8
