PROGRAM  : Maestia.exe
FUNCTION : FUN_008722d0
ENTRY    : 008722d0
BODY     : [[008722d0, 00872302] [00872309, 0087231f] [00872326, 0087233c] [00872343, 00872386] [0087238b, 0087255f]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x008723bd) */

void FUN_008722d0(undefined *param_1)

{
  int *in_ECX;
  int iVar1;
  int iVar2;
  undefined *puStack_24;
  
  if ((char)in_ECX[0xec] != '\0') {
    puStack_24 = (undefined *)in_ECX[0x112];
    if (puStack_24 != (undefined *)0x0) {
      FUN_00a684f0();
                    /* WARNING: Subroutine does not return */
      puStack_24 = &UNK_00872303;
      FUN_006f04e0();
    }
    puStack_24 = (undefined *)in_ECX[0x113];
    if (puStack_24 != (undefined *)0x0) {
      FUN_00a684f0();
                    /* WARNING: Subroutine does not return */
      puStack_24 = &UNK_00872320;
      FUN_006f04e0();
    }
    puStack_24 = (undefined *)in_ECX[0x114];
    if (puStack_24 != (undefined *)0x0) {
      FUN_00a684f0();
                    /* WARNING: Subroutine does not return */
      puStack_24 = &UNK_0087233d;
      FUN_006f04e0();
    }
    iVar2 = 0;
    iVar1 = in_ECX[0x117] - in_ECX[0x116] >> 2;
    if (0 < iVar1) {
      do {
        if (*(int *)(in_ECX[0x116] + iVar2 * 4) != 0) {
          puStack_24 = *(undefined **)(in_ECX[0x116] + iVar2 * 4);
          if (puStack_24 != (undefined *)0x0) {
            FUN_00a684f0();
                    /* WARNING: Subroutine does not return */
            puStack_24 = &UNK_00872387;
            FUN_006f04e0();
          }
          *(undefined4 *)(in_ECX[0x116] + iVar2 * 4) = 0;
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < iVar1);
    }
    if (in_ECX[0x116] != in_ECX[0x117]) {
      in_ECX[0x117] = in_ECX[0x116];
    }
    *(undefined1 *)(in_ECX + 0xec) = 0;
  }
  *(undefined1 *)(in_ECX + 0x6af) = *(undefined1 *)(DAT_017248cc + 0x17);
  in_ECX[0x7d2] = (int)((float)in_ECX[0x106] * 0.8);
  in_ECX[0x7d4] = (int)((float)in_ECX[0x106] * 0.8);
  if ((char)in_ECX[0x693] == '\0') {
    puStack_24 = (undefined *)0x0;
  }
  else {
    puStack_24 = param_1;
  }
  FUN_0085b070();
  puStack_24 = (undefined *)0x0;
  (**(code **)(*in_ECX + 0x458))();
  FUN_00405eb0(in_ECX + 3,0,0xffffffff);
  iVar1 = in_ECX[0x5fc];
  if (iVar1 != 0) {
    *(undefined1 *)(iVar1 + 0x1a8) = 0;
    if (*(int **)(iVar1 + 0x168) != (int *)0x0) {
      (**(code **)(**(int **)(iVar1 + 0x168) + 0x10))(0);
    }
    if (*(int **)(iVar1 + 0x16c) != (int *)0x0) {
      (**(code **)(**(int **)(iVar1 + 0x16c) + 0x10))(0);
    }
  }
  iVar2 = 0;
  (**(code **)(*(int *)(*(int *)(in_ECX[0x4e] + 4) + 0x138 + (int)in_ECX) + 0x10))
            (in_ECX + 0x1b6,1,0);
  iVar1 = DAT_00d7c54c;
  *(undefined1 *)(in_ECX + 0x7d6) = 0;
  *(undefined1 *)((int)in_ECX + 0x1f59) = 0;
  *(undefined1 *)((int)in_ECX + 0x4cb) = 0;
  *(undefined1 *)(in_ECX + 0x133) = 0;
  *(undefined1 *)((int)in_ECX + 0x4cd) = 0;
  *(undefined1 *)((int)in_ECX + 0x4ce) = 0;
  *(undefined1 *)((int)in_ECX + 0x4c9) = 0;
  *(undefined1 *)((int)in_ECX + 0x4ca) = 0;
  *(undefined1 *)((int)in_ECX + 0x4cf) = 0;
  *(undefined1 *)(in_ECX + 0x134) = 0;
  *(undefined1 *)(in_ECX + 0x7e9) = 0;
  in_ECX[0x7ea] = 0;
  in_ECX[0x7eb] = 0;
  in_ECX[0x7ec] = 0;
  puStack_24 = (undefined *)in_ECX[2];
  in_ECX[0x7ed] = 0;
  in_ECX[0x7ee] = 0;
  FUN_004437f0(&puStack_24);
  if ((iVar2 != *(int *)(iVar1 + 0x44)) && (*(int *)(iVar2 + 0x10) != 0)) {
    in_ECX[0x153] = *(int *)(*(int *)(iVar2 + 0x10) + 100);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
008722d0 : PUSH EBP
008722d1 : MOV EBP,ESP
008722d3 : AND ESP,0xfffffff8
008722d6 : SUB ESP,0xc
008722d9 : PUSH EBX
008722da : PUSH ESI
008722db : MOV ESI,ECX
008722dd : XOR EBX,EBX
008722df : PUSH EDI
008722e0 : CMP byte ptr [ESI + 0x3b0],BL
008722e6 : JZ 0x008723db
008722ec : MOV EDI,dword ptr [ESI + 0x448]
008722f2 : CMP EDI,EBX
008722f4 : JZ 0x00872309
008722f6 : PUSH EDI
008722f7 : CALL 0x00a684f0
008722fc : MOV ECX,EDI
008722fe : CALL 0x006f04e0
00872309 : MOV EDI,dword ptr [ESI + 0x44c]
0087230f : CMP EDI,EBX
00872311 : JZ 0x00872326
00872313 : PUSH EDI
00872314 : CALL 0x00a684f0
00872319 : MOV ECX,EDI
0087231b : CALL 0x006f04e0
00872326 : MOV EDI,dword ptr [ESI + 0x450]
0087232c : CMP EDI,EBX
0087232e : JZ 0x00872343
00872330 : PUSH EDI
00872331 : CALL 0x00a684f0
00872336 : MOV ECX,EDI
00872338 : CALL 0x006f04e0
00872343 : MOV ECX,dword ptr [ESI + 0x45c]
00872349 : SUB ECX,dword ptr [ESI + 0x458]
0087234f : XOR EDI,EDI
00872351 : SAR ECX,0x2
00872354 : CMP ECX,EBX
00872356 : MOV dword ptr [ESP + 0x10],ECX
0087235a : JLE 0x00872399
0087235c : LEA ESP,[ESP]
00872360 : MOV EAX,dword ptr [ESI + 0x458]
00872366 : CMP dword ptr [EAX + EDI*0x4],EBX
00872369 : LEA EAX,[EAX + EDI*0x4]
0087236c : JZ 0x00872394
0087236e : MOV EAX,dword ptr [EAX]
00872370 : MOV dword ptr [ESP + 0xc],EAX
00872374 : CMP EAX,EBX
00872376 : JZ 0x0087238b
00872378 : PUSH EAX
00872379 : CALL 0x00a684f0
0087237e : MOV ECX,dword ptr [ESP + 0xc]
00872382 : CALL 0x006f04e0
0087238b : MOV EDX,dword ptr [ESI + 0x458]
00872391 : MOV dword ptr [EDX + EDI*0x4],EBX
00872394 : INC EDI
00872395 : CMP EDI,ECX
00872397 : JL 0x00872360
00872399 : MOV ECX,dword ptr [ESI + 0x45c]
0087239f : MOV EDI,dword ptr [ESI + 0x458]
008723a5 : CMP EDI,ECX
008723a7 : JZ 0x008723d5
008723a9 : MOV EAX,ECX
008723ab : SUB EAX,ECX
008723ad : SAR EAX,0x2
008723b0 : LEA EDX,[EAX*0x4 + 0x0]
008723b7 : ADD EDI,EDX
008723b9 : CMP EAX,EBX
008723bb : JLE 0x008723cf
008723bd : MOV EAX,dword ptr [ESI + 0x458]
008723c3 : PUSH EDX
008723c4 : PUSH ECX
008723c5 : PUSH EDX
008723c6 : PUSH EAX
008723c7 : CALL 0x00634101
008723cc : ADD ESP,0x10
008723cf : MOV dword ptr [ESI + 0x45c],EDI
008723d5 : MOV byte ptr [ESI + 0x3b0],BL
008723db : MOV EAX,[0x017248cc]
008723e0 : MOV CL,byte ptr [EAX + 0x17]
008723e3 : MOVSS XMM0,dword ptr [ESI + 0x418]
008723eb : MULSS XMM0,dword ptr [0x00cdf138]
008723f3 : MOV byte ptr [ESI + 0x1abc],CL
008723f9 : MOVSS dword ptr [ESI + 0x1f48],XMM0
00872401 : MOVSS dword ptr [ESI + 0x1f50],XMM0
00872409 : MOV ECX,ESI
0087240b : CMP byte ptr [ESI + 0x1a4c],BL
00872411 : JZ 0x00872419
00872413 : MOV EDX,dword ptr [EBP + 0x8]
00872416 : PUSH EDX
00872417 : JMP 0x0087241a
00872419 : PUSH EBX
0087241a : CALL 0x0085b070
0087241f : MOV EAX,dword ptr [ESI]
00872421 : MOV EDX,dword ptr [EAX + 0x458]
00872427 : PUSH EBX
00872428 : MOV ECX,ESI
0087242a : CALL EDX
0087242c : MOV ECX,dword ptr [ESI + 0x138]
00872432 : MOV EDX,dword ptr [ECX + 0x4]
00872435 : PUSH -0x1
00872437 : PUSH EBX
00872438 : LEA EAX,[ESI + 0xc]
0087243b : PUSH EAX
0087243c : LEA ECX,[EDX + ESI*0x1 + 0x1b4]
00872443 : CALL 0x00405eb0
00872448 : MOV EDI,dword ptr [ESI + 0x17f0]
0087244e : CMP EDI,EBX
00872450 : JZ 0x0087247c
00872452 : MOV ECX,dword ptr [EDI + 0x168]
00872458 : MOV byte ptr [EDI + 0x1a8],BL
0087245e : CMP ECX,EBX
00872460 : JZ 0x0087246a
00872462 : MOV EAX,dword ptr [ECX]
00872464 : MOV EDX,dword ptr [EAX + 0x10]
00872467 : PUSH EBX
00872468 : CALL EDX
0087246a : MOV ECX,dword ptr [EDI + 0x16c]
00872470 : CMP ECX,EBX
00872472 : JZ 0x0087247c
00872474 : MOV EAX,dword ptr [ECX]
00872476 : MOV EDX,dword ptr [EAX + 0x10]
00872479 : PUSH EBX
0087247a : CALL EDX
0087247c : MOV EAX,dword ptr [ESI + 0x138]
00872482 : MOV ECX,dword ptr [EAX + 0x4]
00872485 : MOV EDX,dword ptr [ECX + ESI*0x1 + 0x138]
0087248c : MOV EDX,dword ptr [EDX + 0x10]
0087248f : PUSH EBX
00872490 : PUSH EBX
00872491 : LEA ECX,[ECX + ESI*0x1 + 0x138]
00872498 : PUSH 0x1
0087249a : LEA EAX,[ESI + 0x6d8]
008724a0 : PUSH EAX
008724a1 : CALL EDX
008724a3 : XORPS XMM0,XMM0
008724a6 : MOV EDI,dword ptr [0x00d7c54c]
008724ac : MOV byte ptr [ESI + 0x1f58],BL
008724b2 : MOV byte ptr [ESI + 0x1f59],BL
008724b8 : MOV byte ptr [ESI + 0x4cb],BL
008724be : MOV byte ptr [ESI + 0x4cc],BL
008724c4 : MOV byte ptr [ESI + 0x4cd],BL
008724ca : MOV byte ptr [ESI + 0x4ce],BL
008724d0 : MOV byte ptr [ESI + 0x4c9],BL
008724d6 : MOV byte ptr [ESI + 0x4ca],BL
008724dc : MOV byte ptr [ESI + 0x4cf],BL
008724e2 : MOV byte ptr [ESI + 0x4d0],BL
008724e8 : MOV byte ptr [ESI + 0x1fa4],BL
008724ee : MOVSS dword ptr [ESP + 0x10],XMM0
008724f4 : MOV EAX,dword ptr [ESP + 0x10]
008724f8 : MOVSS dword ptr [ESI + 0x1fa8],XMM0
00872500 : MOVSS dword ptr [ESI + 0x1fac],XMM0
00872508 : MOVSS dword ptr [ESI + 0x1fb0],XMM0
00872510 : MOV EDX,dword ptr [ESI + 0x8]
00872513 : MOV dword ptr [ESI + 0x1fb4],EAX
00872519 : MOVSS dword ptr [ESP + 0x14],XMM0
0087251f : MOV ECX,dword ptr [ESP + 0x14]
00872523 : LEA EAX,[ESP + 0x10]
00872527 : MOV dword ptr [ESI + 0x1fb8],ECX
0087252d : PUSH EAX
0087252e : LEA ECX,[EDI + 0x40]
00872531 : LEA EAX,[ESP + 0x10]
00872535 : MOV dword ptr [ESP + 0x14],EDX
00872539 : CALL 0x004437f0
0087253e : MOV EAX,dword ptr [ESP + 0xc]
00872542 : CMP EAX,dword ptr [EDI + 0x44]
00872545 : JZ 0x00872557
00872547 : MOV EAX,dword ptr [EAX + 0x10]
0087254a : CMP EAX,EBX
0087254c : JZ 0x00872557
0087254e : MOV ECX,dword ptr [EAX + 0x64]
00872551 : MOV dword ptr [ESI + 0x54c],ECX
00872557 : POP EDI
00872558 : POP ESI
00872559 : POP EBX
0087255a : MOV ESP,EBP
0087255c : POP EBP
0087255d : RET 0x4
