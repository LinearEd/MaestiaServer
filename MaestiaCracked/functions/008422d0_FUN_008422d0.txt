PROGRAM  : Maestia.exe
FUNCTION : FUN_008422d0
ENTRY    : 008422d0
BODY     : [[008422d0, 00842387] [0084238e, 008423fe] [00842405, 0084249a] [008424a1, 00842537] [0084253e, 00842602]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x008424c8) */
/* WARNING: Removing unreachable block (ram,0x0084242c) */
/* WARNING: Removing unreachable block (ram,0x00842569) */

void FUN_008422d0(uint param_1)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  uint uVar4;
  int iVar5;
  int in_ECX;
  int *piVar6;
  undefined1 local_34 [24];
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b4c3e6;
  local_14 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xffffffb0;
  ExceptionList = &local_14;
  if (param_1 == 0xffffffff) {
    FUN_008422d0(0);
    param_1 = 1;
  }
  else if (1 < param_1) {
    FUN_00406460(L"AvaSkillDataManager::Clear() Failed !!");
    local_c = 0;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaSkillDataManager::Clear",0x3ae,local_34);
    }
    local_c = 0xffffffff;
    if (local_1c < 8) {
      ExceptionList = local_14;
      return;
    }
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  piVar6 = *(int **)(param_1 * 0x10 + 8 + in_ECX);
  iVar1 = param_1 * 0x10 + in_ECX;
  if (piVar6 != *(int **)(iVar1 + 0xc)) {
    do {
      if (DAT_017247f0 != 0) {
        uVar2 = *(undefined4 *)*piVar6;
        uVar3 = ((undefined4 *)*piVar6)[1];
        iVar5 = FUN_009f2740(uVar2);
        if ((iVar5 != 0) && (FUN_009edf40(uVar3), *(int *)(iVar5 + 0x14) == 0)) {
          FUN_009f3270(uVar2);
        }
      }
      if (*piVar6 != 0) {
        FUN_00840fa0(*piVar6);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0(uVar4);
      }
      piVar6 = piVar6 + 1;
    } while (piVar6 != *(int **)(iVar1 + 0xc));
  }
  FUN_0042d2e0(iVar1 + 4);
  piVar6 = *(int **)(iVar1 + 0x28);
  if (piVar6 != *(int **)(iVar1 + 0x2c)) {
    do {
      if (DAT_017247f0 != 0) {
        uVar2 = *(undefined4 *)*piVar6;
        uVar3 = ((undefined4 *)*piVar6)[1];
        iVar5 = FUN_009f2740(uVar2);
        if ((iVar5 != 0) && (FUN_009edf40(uVar3), *(int *)(iVar5 + 0x14) == 0)) {
          FUN_009f3270(uVar2);
        }
      }
      if (*piVar6 != 0) {
        FUN_00840fa0(*piVar6);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      piVar6 = piVar6 + 1;
    } while (piVar6 != *(int **)(iVar1 + 0x2c));
  }
  if (*(int *)(iVar1 + 0x28) != *(int *)(iVar1 + 0x2c)) {
    *(int *)(iVar1 + 0x2c) = *(int *)(iVar1 + 0x28);
  }
  piVar6 = *(int **)(iVar1 + 0x48);
  if (piVar6 != *(int **)(iVar1 + 0x4c)) {
    do {
      if (DAT_017247f0 != 0) {
        uVar2 = *(undefined4 *)*piVar6;
        uVar3 = ((undefined4 *)*piVar6)[1];
        iVar5 = FUN_009f2740(uVar2);
        if ((iVar5 != 0) && (FUN_009edf40(uVar3), *(int *)(iVar5 + 0x14) == 0)) {
          FUN_009f3270(uVar2);
        }
      }
      if (*piVar6 != 0) {
        FUN_00840fa0(*piVar6);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      piVar6 = piVar6 + 1;
    } while (piVar6 != *(int **)(iVar1 + 0x4c));
  }
  if (*(int *)(iVar1 + 0x48) != *(int *)(iVar1 + 0x4c)) {
    *(int *)(iVar1 + 0x4c) = *(int *)(iVar1 + 0x48);
  }
  piVar6 = *(int **)(iVar1 + 0x68);
  if (piVar6 != *(int **)(iVar1 + 0x6c)) {
    do {
      if (DAT_017247f0 != 0) {
        uVar2 = *(undefined4 *)*piVar6;
        uVar3 = ((undefined4 *)*piVar6)[1];
        iVar5 = FUN_009f2740(uVar2);
        if ((iVar5 != 0) && (FUN_009edf40(uVar3), *(int *)(iVar5 + 0x14) == 0)) {
          FUN_009f3270(uVar2);
        }
      }
      if (*piVar6 != 0) {
        FUN_00840fa0(*piVar6);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      piVar6 = piVar6 + 1;
    } while (piVar6 != *(int **)(iVar1 + 0x6c));
  }
  if (*(int *)(iVar1 + 0x68) == *(int *)(iVar1 + 0x6c)) {
    ExceptionList = local_14;
    return;
  }
  *(int *)(iVar1 + 0x6c) = *(int *)(iVar1 + 0x68);
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
008422d0 : PUSH EBP
008422d1 : MOV EBP,ESP
008422d3 : AND ESP,0xfffffff8
008422d6 : PUSH -0x1
008422d8 : PUSH 0xb4c3e6
008422dd : MOV EAX,FS:[0x0]
008422e3 : PUSH EAX
008422e4 : SUB ESP,0x30
008422e7 : PUSH EBX
008422e8 : PUSH ESI
008422e9 : PUSH EDI
008422ea : MOV EAX,[0x00d66fa0]
008422ef : XOR EAX,ESP
008422f1 : PUSH EAX
008422f2 : LEA EAX,[ESP + 0x40]
008422f6 : MOV FS:[0x0],EAX
008422fc : MOV ESI,ECX
008422fe : MOV EAX,dword ptr [EBP + 0x8]
00842301 : CMP EAX,-0x1
00842304 : JNZ 0x00842314
00842306 : PUSH 0x0
00842308 : CALL 0x008422d0
0084230d : MOV EAX,0x1
00842312 : JMP 0x0084231d
00842314 : CMP EAX,0x2
00842317 : JNC 0x0084258d
0084231d : SHL EAX,0x4
00842320 : MOV EDI,dword ptr [EAX + ESI*0x1 + 0x8]
00842324 : LEA EBX,[EAX + ESI*0x1]
00842327 : MOV dword ptr [ESP + 0x14],EBX
0084232b : CMP EDI,dword ptr [EBX + 0xc]
0084232e : JZ 0x00842396
00842330 : MOV ECX,dword ptr [0x017247f0]
00842336 : TEST ECX,ECX
00842338 : JZ 0x00842375
0084233a : MOV EAX,dword ptr [EDI]
0084233c : MOV EBX,dword ptr [EAX]
0084233e : MOV EDX,dword ptr [EAX + 0x4]
00842341 : PUSH EBX
00842342 : MOV dword ptr [ESP + 0x1c],EDX
00842346 : MOV dword ptr [ESP + 0x20],ECX
0084234a : CALL 0x009f2740
0084234f : MOV ESI,EAX
00842351 : TEST ESI,ESI
00842353 : JZ 0x00842371
00842355 : MOV EAX,dword ptr [ESP + 0x18]
00842359 : PUSH EAX
0084235a : MOV EAX,ESI
0084235c : CALL 0x009edf40
00842361 : CMP dword ptr [ESI + 0x14],0x0
00842365 : JA 0x00842371
00842367 : MOV ECX,dword ptr [ESP + 0x1c]
0084236b : PUSH EBX
0084236c : CALL 0x009f3270
00842371 : MOV EBX,dword ptr [ESP + 0x14]
00842375 : MOV ESI,dword ptr [EDI]
00842377 : TEST ESI,ESI
00842379 : JZ 0x0084238e
0084237b : PUSH ESI
0084237c : CALL 0x00840fa0
00842381 : MOV ECX,ESI
00842383 : CALL 0x006f04e0
0084238e : ADD EDI,0x4
00842391 : CMP EDI,dword ptr [EBX + 0xc]
00842394 : JNZ 0x00842330
00842396 : LEA ECX,[EBX + 0x4]
00842399 : PUSH ECX
0084239a : CALL 0x0042d2e0
0084239f : MOV EDI,dword ptr [EBX + 0x28]
008423a2 : CMP EDI,dword ptr [EBX + 0x2c]
008423a5 : JZ 0x0084240d
008423a7 : MOV ECX,dword ptr [0x017247f0]
008423ad : TEST ECX,ECX
008423af : JZ 0x008423ec
008423b1 : MOV EAX,dword ptr [EDI]
008423b3 : MOV EBX,dword ptr [EAX]
008423b5 : MOV EDX,dword ptr [EAX + 0x4]
008423b8 : PUSH EBX
008423b9 : MOV dword ptr [ESP + 0x20],EDX
008423bd : MOV dword ptr [ESP + 0x1c],ECX
008423c1 : CALL 0x009f2740
008423c6 : MOV ESI,EAX
008423c8 : TEST ESI,ESI
008423ca : JZ 0x008423e8
008423cc : MOV EAX,dword ptr [ESP + 0x1c]
008423d0 : PUSH EAX
008423d1 : MOV EAX,ESI
008423d3 : CALL 0x009edf40
008423d8 : CMP dword ptr [ESI + 0x14],0x0
008423dc : JA 0x008423e8
008423de : MOV ECX,dword ptr [ESP + 0x18]
008423e2 : PUSH EBX
008423e3 : CALL 0x009f3270
008423e8 : MOV EBX,dword ptr [ESP + 0x14]
008423ec : MOV ESI,dword ptr [EDI]
008423ee : TEST ESI,ESI
008423f0 : JZ 0x00842405
008423f2 : PUSH ESI
008423f3 : CALL 0x00840fa0
008423f8 : MOV ECX,ESI
008423fa : CALL 0x006f04e0
00842405 : ADD EDI,0x4
00842408 : CMP EDI,dword ptr [EBX + 0x2c]
0084240b : JNZ 0x008423a7
0084240d : MOV ECX,dword ptr [EBX + 0x2c]
00842410 : MOV ESI,dword ptr [EBX + 0x28]
00842413 : CMP ESI,ECX
00842415 : JZ 0x0084243b
00842417 : MOV EAX,ECX
00842419 : SUB EAX,ECX
0084241b : SAR EAX,0x2
0084241e : LEA EDX,[EAX*0x4 + 0x0]
00842425 : LEA EDI,[ESI + EDX*0x1]
00842428 : TEST EAX,EAX
0084242a : JLE 0x00842438
0084242c : PUSH EDX
0084242d : PUSH ECX
0084242e : PUSH EDX
0084242f : PUSH ESI
00842430 : CALL 0x00634101
00842435 : ADD ESP,0x10
00842438 : MOV dword ptr [EBX + 0x2c],EDI
0084243b : MOV EDI,dword ptr [EBX + 0x48]
0084243e : CMP EDI,dword ptr [EBX + 0x4c]
00842441 : JZ 0x008424a9
00842443 : MOV ECX,dword ptr [0x017247f0]
00842449 : TEST ECX,ECX
0084244b : JZ 0x00842488
0084244d : MOV EAX,dword ptr [EDI]
0084244f : MOV EBX,dword ptr [EAX]
00842451 : MOV EDX,dword ptr [EAX + 0x4]
00842454 : PUSH EBX
00842455 : MOV dword ptr [ESP + 0x20],EDX
00842459 : MOV dword ptr [ESP + 0x1c],ECX
0084245d : CALL 0x009f2740
00842462 : MOV ESI,EAX
00842464 : TEST ESI,ESI
00842466 : JZ 0x00842484
00842468 : MOV EAX,dword ptr [ESP + 0x1c]
0084246c : PUSH EAX
0084246d : MOV EAX,ESI
0084246f : CALL 0x009edf40
00842474 : CMP dword ptr [ESI + 0x14],0x0
00842478 : JA 0x00842484
0084247a : MOV ECX,dword ptr [ESP + 0x18]
0084247e : PUSH EBX
0084247f : CALL 0x009f3270
00842484 : MOV EBX,dword ptr [ESP + 0x14]
00842488 : MOV ESI,dword ptr [EDI]
0084248a : TEST ESI,ESI
0084248c : JZ 0x008424a1
0084248e : PUSH ESI
0084248f : CALL 0x00840fa0
00842494 : MOV ECX,ESI
00842496 : CALL 0x006f04e0
008424a1 : ADD EDI,0x4
008424a4 : CMP EDI,dword ptr [EBX + 0x4c]
008424a7 : JNZ 0x00842443
008424a9 : MOV ECX,dword ptr [EBX + 0x4c]
008424ac : MOV ESI,dword ptr [EBX + 0x48]
008424af : CMP ESI,ECX
008424b1 : JZ 0x008424d7
008424b3 : MOV EAX,ECX
008424b5 : SUB EAX,ECX
008424b7 : SAR EAX,0x2
008424ba : LEA EDX,[EAX*0x4 + 0x0]
008424c1 : LEA EDI,[ESI + EDX*0x1]
008424c4 : TEST EAX,EAX
008424c6 : JLE 0x008424d4
008424c8 : PUSH EDX
008424c9 : PUSH ECX
008424ca : PUSH EDX
008424cb : PUSH ESI
008424cc : CALL 0x00634101
008424d1 : ADD ESP,0x10
008424d4 : MOV dword ptr [EBX + 0x4c],EDI
008424d7 : MOV EDI,dword ptr [EBX + 0x68]
008424da : CMP EDI,dword ptr [EBX + 0x6c]
008424dd : JZ 0x00842546
008424df : NOP
008424e0 : MOV ECX,dword ptr [0x017247f0]
008424e6 : TEST ECX,ECX
008424e8 : JZ 0x00842525
008424ea : MOV EAX,dword ptr [EDI]
008424ec : MOV EBX,dword ptr [EAX]
008424ee : MOV EDX,dword ptr [EAX + 0x4]
008424f1 : PUSH EBX
008424f2 : MOV dword ptr [ESP + 0x20],EDX
008424f6 : MOV dword ptr [ESP + 0x1c],ECX
008424fa : CALL 0x009f2740
008424ff : MOV ESI,EAX
00842501 : TEST ESI,ESI
00842503 : JZ 0x00842521
00842505 : MOV EAX,dword ptr [ESP + 0x1c]
00842509 : PUSH EAX
0084250a : MOV EAX,ESI
0084250c : CALL 0x009edf40
00842511 : CMP dword ptr [ESI + 0x14],0x0
00842515 : JA 0x00842521
00842517 : MOV ECX,dword ptr [ESP + 0x18]
0084251b : PUSH EBX
0084251c : CALL 0x009f3270
00842521 : MOV EBX,dword ptr [ESP + 0x14]
00842525 : MOV ESI,dword ptr [EDI]
00842527 : TEST ESI,ESI
00842529 : JZ 0x0084253e
0084252b : PUSH ESI
0084252c : CALL 0x00840fa0
00842531 : MOV ECX,ESI
00842533 : CALL 0x006f04e0
0084253e : ADD EDI,0x4
00842541 : CMP EDI,dword ptr [EBX + 0x6c]
00842544 : JNZ 0x008424e0
00842546 : MOV ECX,dword ptr [EBX + 0x6c]
00842549 : MOV ESI,dword ptr [EBX + 0x68]
0084254c : CMP ESI,ECX
0084254e : JZ 0x008425ee
00842554 : MOV EAX,ECX
00842556 : SUB EAX,ECX
00842558 : SAR EAX,0x2
0084255b : LEA EDX,[EAX*0x4 + 0x0]
00842562 : LEA EDI,[ESI + EDX*0x1]
00842565 : TEST EAX,EAX
00842567 : JLE 0x00842575
00842569 : PUSH EDX
0084256a : PUSH ECX
0084256b : PUSH EDX
0084256c : PUSH ESI
0084256d : CALL 0x00634101
00842572 : ADD ESP,0x10
00842575 : MOV dword ptr [EBX + 0x6c],EDI
00842578 : MOV ECX,dword ptr [ESP + 0x40]
0084257c : MOV dword ptr FS:[0x0],ECX
00842583 : POP ECX
00842584 : POP EDI
00842585 : POP ESI
00842586 : POP EBX
00842587 : MOV ESP,EBP
00842589 : POP EBP
0084258a : RET 0x4
0084258d : PUSH 0xc3a7b8
00842592 : LEA ECX,[ESP + 0x24]
00842596 : CALL 0x00406460
0084259b : XOR ESI,ESI
0084259d : MOV dword ptr [ESP + 0x48],ESI
008425a1 : MOV ECX,dword ptr [0x00da98e8]
008425a7 : MOV ECX,dword ptr [ECX]
008425a9 : CMP ECX,ESI
008425ab : JZ 0x008425c3
008425ad : MOV EDX,dword ptr [ECX]
008425af : MOV EDX,dword ptr [EDX + 0x14]
008425b2 : LEA EAX,[ESP + 0x20]
008425b6 : PUSH EAX
008425b7 : PUSH 0x3ae
008425bc : PUSH 0xc3a808
008425c1 : CALL EDX
008425c3 : MOV dword ptr [ESP + 0x48],0xffffffff
008425cb : CMP dword ptr [ESP + 0x38],0x8
008425d0 : JC 0x008425db
008425d2 : MOV ECX,dword ptr [ESP + 0x24]
008425d6 : CALL 0x006f04e0
008425db : XOR EAX,EAX
008425dd : MOV dword ptr [ESP + 0x38],0x7
008425e5 : MOV dword ptr [ESP + 0x34],ESI
008425e9 : MOV word ptr [ESP + 0x24],AX
008425ee : MOV ECX,dword ptr [ESP + 0x40]
008425f2 : MOV dword ptr FS:[0x0],ECX
008425f9 : POP ECX
008425fa : POP EDI
008425fb : POP ESI
008425fc : POP EBX
008425fd : MOV ESP,EBP
008425ff : POP EBP
00842600 : RET 0x4
