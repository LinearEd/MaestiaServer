PROGRAM  : Maestia.exe
FUNCTION : FUN_00601190
ENTRY    : 00601190
BODY     : [[00601190, 006012ba]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00601190(int param_1,undefined4 param_2)

{
  int *piVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  int *in_ECX;
  undefined4 unaff_EBP;
  int iVar7;
  undefined4 unaff_EDI;
  int iVar8;
  undefined1 auStack_14 [4];
  int aiStack_10 [4];
  
  iVar4 = *(int *)(*in_ECX + 0xc);
  iVar3 = *(int *)(iVar4 + 4) * param_1 + *(int *)(*in_ECX + 8);
  piVar1 = *(int **)(iVar4 + 8);
  if (*(int *)(in_ECX[1] + param_1 * 4) == -1) {
    *(int *)(in_ECX[1] + param_1 * 4) = param_1;
    (**(code **)(*piVar1 + 0x14))(iVar3,param_2);
  }
  else {
    iVar4 = (**(code **)(*piVar1 + 0x1c))(iVar3);
    if (iVar4 != param_1) {
      iVar4 = *(int *)(in_ECX[1] + param_1 * 4);
      iVar7 = param_1;
      if (iVar4 != param_1) {
        do {
          iVar7 = iVar4;
          iVar4 = *(int *)(*in_ECX + 0xc);
          iVar4 = (**(code **)(**(int **)(iVar4 + 8) + 0x1c))
                            (*(int *)(iVar4 + 4) * iVar7 + *(int *)(*in_ECX + 8));
          if (iVar4 == param_1) {
            return iVar7;
          }
          iVar4 = *(int *)(in_ECX[1] + iVar7 * 4);
        } while (iVar4 != iVar7);
      }
      iVar4 = *(int *)(*in_ECX + 0xc);
      iVar8 = *(int *)(iVar4 + 4) * iVar7 + *(int *)(*in_ECX + 8);
      piVar1 = *(int **)(iVar4 + 8);
      uVar5 = (**(code **)(*piVar1 + 0x18))(iVar8);
      (**(code **)(*piVar1 + 0xc))(iVar8,auStack_14,&stack0xffffffe8);
      *(undefined4 *)(in_ECX[1] + iVar7 * 4) = *(undefined4 *)*in_ECX;
      iVar4 = *(int *)*in_ECX;
      aiStack_10[0] = iVar4;
      FUN_005e1e60(aiStack_10);
      puVar6 = (undefined4 *)FUN_005f8f40(&stack0xffffffe4);
      piVar1 = (int *)puVar6[1];
      uVar2 = *puVar6;
      (**(code **)(*piVar1 + 4))(uVar2,unaff_EDI,iVar3,unaff_EBP);
      (**(code **)(*piVar1 + 0x14))(uVar2,uVar5);
      return iVar4;
    }
  }
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00601190 : SUB ESP,0x14
00601193 : PUSH EBX
00601194 : MOV EBX,ECX
00601196 : MOV ECX,dword ptr [EBX]
00601198 : MOV EDX,dword ptr [ECX + 0xc]
0060119b : MOV EAX,dword ptr [EDX + 0x4]
0060119e : PUSH ESI
0060119f : MOV ESI,dword ptr [ESP + 0x20]
006011a3 : IMUL EAX,ESI
006011a6 : ADD EAX,dword ptr [ECX + 0x8]
006011a9 : MOV ECX,dword ptr [EDX + 0x8]
006011ac : MOV EDX,dword ptr [EBX + 0x4]
006011af : CMP dword ptr [EDX + ESI*0x4],-0x1
006011b3 : LEA EDX,[EDX + ESI*0x4]
006011b6 : PUSH EDI
006011b7 : JNZ 0x006011d3
006011b9 : MOV EDI,dword ptr [ESP + 0x28]
006011bd : MOV dword ptr [EDX],ESI
006011bf : MOV EDX,dword ptr [ECX]
006011c1 : PUSH EDI
006011c2 : PUSH EAX
006011c3 : MOV EAX,dword ptr [EDX + 0x14]
006011c6 : CALL EAX
006011c8 : POP EDI
006011c9 : MOV EAX,ESI
006011cb : POP ESI
006011cc : POP EBX
006011cd : ADD ESP,0x14
006011d0 : RET 0x8
006011d3 : MOV EDX,dword ptr [ECX]
006011d5 : PUSH EAX
006011d6 : MOV EAX,dword ptr [EDX + 0x1c]
006011d9 : CALL EAX
006011db : MOV EDI,dword ptr [ESP + 0x28]
006011df : CMP EAX,EDI
006011e1 : JZ 0x006011c8
006011e3 : MOV ECX,dword ptr [EBX + 0x4]
006011e6 : MOV EAX,dword ptr [ECX + ESI*0x4]
006011e9 : CMP EAX,ESI
006011eb : JZ 0x00601219
006011ed : LEA ECX,[ECX]
006011f0 : MOV ECX,dword ptr [EBX]
006011f2 : MOV EDX,dword ptr [ECX + 0xc]
006011f5 : MOV ESI,EAX
006011f7 : MOV EAX,dword ptr [EDX + 0x4]
006011fa : IMUL EAX,ESI
006011fd : ADD EAX,dword ptr [ECX + 0x8]
00601200 : MOV ECX,dword ptr [EDX + 0x8]
00601203 : MOV EDX,dword ptr [ECX]
00601205 : PUSH EAX
00601206 : MOV EAX,dword ptr [EDX + 0x1c]
00601209 : CALL EAX
0060120b : CMP EAX,EDI
0060120d : JZ 0x006011c8
0060120f : MOV ECX,dword ptr [EBX + 0x4]
00601212 : MOV EAX,dword ptr [ECX + ESI*0x4]
00601215 : CMP EAX,ESI
00601217 : JNZ 0x006011f0
00601219 : MOV EAX,dword ptr [EBX]
0060121b : MOV ECX,dword ptr [EAX + 0xc]
0060121e : MOV EDI,dword ptr [ECX + 0x4]
00601221 : IMUL EDI,ESI
00601224 : ADD EDI,dword ptr [EAX + 0x8]
00601227 : PUSH EBP
00601228 : MOV EBP,dword ptr [ECX + 0x8]
0060122b : MOV EDX,dword ptr [EBP]
0060122e : MOV EAX,dword ptr [EDX + 0x18]
00601231 : PUSH EDI
00601232 : MOV ECX,EBP
00601234 : CALL EAX
00601236 : MOV EDX,dword ptr [EBP]
00601239 : MOV EDX,dword ptr [EDX + 0xc]
0060123c : MOV dword ptr [ESP + 0x10],EAX
00601240 : LEA EAX,[ESP + 0x14]
00601244 : PUSH EAX
00601245 : LEA ECX,[ESP + 0x1c]
00601249 : PUSH ECX
0060124a : PUSH EDI
0060124b : MOV ECX,EBP
0060124d : CALL EDX
0060124f : MOV EAX,dword ptr [EBX]
00601251 : MOV EDX,dword ptr [EBX + 0x4]
00601254 : MOV EAX,dword ptr [EAX]
00601256 : LEA ECX,[EBX + 0x4]
00601259 : MOV dword ptr [EDX + ESI*0x4],EAX
0060125c : MOV EDX,dword ptr [EBX]
0060125e : MOV EBP,dword ptr [EDX]
00601260 : LEA EAX,[ESP + 0x28]
00601264 : PUSH EAX
00601265 : MOV dword ptr [ESP + 0x2c],EBP
00601269 : CALL 0x005e1e60
0060126e : LEA ECX,[ESP + 0x1c]
00601272 : PUSH ECX
00601273 : MOV ECX,dword ptr [EBX]
00601275 : CALL 0x005f8f40
0060127a : FLD float ptr [ESP + 0x14]
0060127e : MOV ESI,dword ptr [EAX + 0x4]
00601281 : MOV EDI,dword ptr [EAX]
00601283 : MOV EAX,dword ptr [ESP + 0x10]
00601287 : MOV EDX,dword ptr [ESI]
00601289 : MOV EDX,dword ptr [EDX + 0x4]
0060128c : PUSH EAX
0060128d : SUB ESP,0x8
00601290 : FSTP float ptr [ESP + 0x4]
00601294 : MOV ECX,ESI
00601296 : FLD float ptr [ESP + 0x24]
0060129a : FSTP float ptr [ESP]
0060129d : PUSH EDI
0060129e : CALL EDX
006012a0 : MOV ECX,dword ptr [ESP + 0x2c]
006012a4 : MOV EAX,dword ptr [ESI]
006012a6 : MOV EDX,dword ptr [EAX + 0x14]
006012a9 : PUSH ECX
006012aa : PUSH EDI
006012ab : MOV ECX,ESI
006012ad : CALL EDX
006012af : MOV EAX,EBP
006012b1 : POP EBP
006012b2 : POP EDI
006012b3 : POP ESI
006012b4 : POP EBX
006012b5 : ADD ESP,0x14
006012b8 : RET 0x8
