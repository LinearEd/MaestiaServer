PROGRAM  : Maestia.exe
FUNCTION : FUN_00a66e70
ENTRY    : 00a66e70
BODY     : [[00a66e70, 00a66f37]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00a66e70(ushort param_1)

{
  uint uVar1;
  int *piVar2;
  int in_ECX;
  undefined4 uVar3;
  undefined1 local_20 [4];
  int local_1c;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b39b2b;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  _param_1 = (uint)param_1;
  FUN_0047bc40(local_20,*(int *)(in_ECX + 0x50) + 0x54);
  local_8 = 0;
  piVar2 = (int *)FUN_0041c060(&param_1);
  if (*piVar2 != local_1c) {
    _param_1 = (uint)*(ushort *)(*piVar2 + 0xe);
    piVar2 = (int *)FUN_00413b60(&param_1);
    if (*piVar2 == *(int *)(in_ECX + 0xc)) {
      uVar3 = 0;
    }
    else {
      uVar3 = *(undefined4 *)(*piVar2 + 0x10);
    }
    local_8 = 0xffffffff;
    FUN_0041d1d0(local_20,uVar1);
    ExceptionList = local_10;
    return uVar3;
  }
  local_8 = 0xffffffff;
  FUN_0041d1d0(local_20,uVar1);
  ExceptionList = local_10;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00a66e70 : PUSH EBP
00a66e71 : MOV EBP,ESP
00a66e73 : PUSH -0x1
00a66e75 : PUSH 0xb39b2b
00a66e7a : MOV EAX,FS:[0x0]
00a66e80 : PUSH EAX
00a66e81 : SUB ESP,0x10
00a66e84 : PUSH ESI
00a66e85 : MOV EAX,[0x00d66fa0]
00a66e8a : XOR EAX,EBP
00a66e8c : PUSH EAX
00a66e8d : LEA EAX,[EBP + -0xc]
00a66e90 : MOV FS:[0x0],EAX
00a66e96 : MOV ESI,ECX
00a66e98 : MOVZX EAX,word ptr [EBP + 0x8]
00a66e9c : MOV dword ptr [EBP + 0x8],EAX
00a66e9f : MOV EAX,dword ptr [ESI + 0x50]
00a66ea2 : ADD EAX,0x54
00a66ea5 : PUSH EAX
00a66ea6 : LEA ECX,[EBP + -0x1c]
00a66ea9 : PUSH ECX
00a66eaa : CALL 0x0047bc40
00a66eaf : MOV dword ptr [EBP + -0x4],0x0
00a66eb6 : LEA EDX,[EBP + 0x8]
00a66eb9 : PUSH EDX
00a66eba : LEA EAX,[EBP + -0x10]
00a66ebd : LEA ECX,[EBP + -0x1c]
00a66ec0 : CALL 0x0041c060
00a66ec5 : MOV EAX,dword ptr [EAX]
00a66ec7 : CMP EAX,dword ptr [EBP + -0x18]
00a66eca : JZ 0x00a66f14
00a66ecc : MOVZX EAX,word ptr [EAX + 0xe]
00a66ed0 : LEA ECX,[EBP + 0x8]
00a66ed3 : MOV dword ptr [EBP + 0x8],EAX
00a66ed6 : PUSH ECX
00a66ed7 : LEA ECX,[ESI + 0x8]
00a66eda : LEA EAX,[EBP + -0x10]
00a66edd : CALL 0x00413b60
00a66ee2 : MOV EAX,dword ptr [EAX]
00a66ee4 : CMP EAX,dword ptr [ESI + 0xc]
00a66ee7 : JZ 0x00a66eee
00a66ee9 : MOV ESI,dword ptr [EAX + 0x10]
00a66eec : JMP 0x00a66ef0
00a66eee : XOR ESI,ESI
00a66ef0 : MOV dword ptr [EBP + -0x4],0xffffffff
00a66ef7 : LEA EDX,[EBP + -0x1c]
00a66efa : PUSH EDX
00a66efb : CALL 0x0041d1d0
00a66f00 : MOV EAX,ESI
00a66f02 : MOV ECX,dword ptr [EBP + -0xc]
00a66f05 : MOV dword ptr FS:[0x0],ECX
00a66f0c : POP ECX
00a66f0d : POP ESI
00a66f0e : MOV ESP,EBP
00a66f10 : POP EBP
00a66f11 : RET 0x4
00a66f14 : MOV dword ptr [EBP + -0x4],0xffffffff
00a66f1b : LEA EAX,[EBP + -0x1c]
00a66f1e : PUSH EAX
00a66f1f : CALL 0x0041d1d0
00a66f24 : XOR EAX,EAX
00a66f26 : MOV ECX,dword ptr [EBP + -0xc]
00a66f29 : MOV dword ptr FS:[0x0],ECX
00a66f30 : POP ECX
00a66f31 : POP ESI
00a66f32 : MOV ESP,EBP
00a66f34 : POP EBP
00a66f35 : RET 0x4
