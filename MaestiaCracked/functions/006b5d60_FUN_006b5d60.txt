PROGRAM  : Maestia.exe
FUNCTION : FUN_006b5d60
ENTRY    : 006b5d60
BODY     : [[006b5d60, 006b5e14]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006b5d60(void)

{
  char cVar1;
  uint *in_EAX;
  ushort uVar2;
  ushort uVar3;
  int unaff_EDI;
  ushort local_30;
  undefined1 local_2c [4];
  undefined1 local_28 [4];
  undefined1 local_24 [16];
  int local_14;
  
  if (*in_EAX < 2) {
    cVar1 = FUN_006b5a20(local_2c,local_28,local_24);
    if (cVar1 == '\0') {
      if ((*(short *)(unaff_EDI + 0x15c) == 0) && (*(short *)(unaff_EDI + 0x74) != 0)) {
        uVar2 = *(short *)(unaff_EDI + 0x74) - 1;
      }
      else if ((*(short *)(unaff_EDI + 0x15c) == 1) && (0 < *(short *)(unaff_EDI + 0x76))) {
        uVar2 = *(ushort *)(*(int *)(unaff_EDI + 0x88) + -2 + *(short *)(unaff_EDI + 0x76) * 2);
      }
      else {
        uVar2 = 0;
      }
      uVar3 = 0;
      do {
        if ((local_14 != *(int *)(unaff_EDI + 0x7c)) || (local_30 != uVar3)) {
          FUN_006b5b40();
        }
        uVar3 = uVar3 + 1;
      } while (uVar3 <= uVar2);
    }
  }
  else if (*(char *)(unaff_EDI + 0x231) != '\0') {
    *(undefined4 *)(unaff_EDI + 0xc) = 0x86;
    return;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006b5d60 : SUB ESP,0x30
006b5d63 : CMP dword ptr [EAX],0x2
006b5d66 : JC 0x006b5d80
006b5d68 : CMP byte ptr [EDI + 0x231],0x0
006b5d6f : JZ 0x006b5e11
006b5d75 : MOV dword ptr [EDI + 0xc],0x86
006b5d7c : ADD ESP,0x30
006b5d7f : RET
006b5d80 : PUSH EBX
006b5d81 : LEA ECX,[ESP + 0x10]
006b5d85 : PUSH ECX
006b5d86 : LEA EDX,[ESP + 0x10]
006b5d8a : PUSH EDX
006b5d8b : LEA EAX,[ESP + 0x10]
006b5d8f : PUSH EAX
006b5d90 : LEA EDX,[ESP + 0x10]
006b5d94 : MOV EBX,EDI
006b5d96 : CALL 0x006b5a20
006b5d9b : ADD ESP,0xc
006b5d9e : TEST AL,AL
006b5da0 : JNZ 0x006b5e10
006b5da2 : MOVZX EAX,word ptr [EDI + 0x15c]
006b5da9 : PUSH EBP
006b5daa : PUSH ESI
006b5dab : TEST AX,AX
006b5dae : JNZ 0x006b5dbf
006b5db0 : MOVZX ECX,word ptr [EDI + 0x74]
006b5db4 : TEST CX,CX
006b5db7 : JBE 0x006b5dbf
006b5db9 : DEC ECX
006b5dba : MOVZX EBP,CX
006b5dbd : JMP 0x006b5de0
006b5dbf : CMP AX,0x1
006b5dc3 : JNZ 0x006b5dde
006b5dc5 : MOVZX EAX,word ptr [EDI + 0x76]
006b5dc9 : TEST AX,AX
006b5dcc : JLE 0x006b5dde
006b5dce : MOV EDX,dword ptr [EDI + 0x88]
006b5dd4 : MOVSX ECX,AX
006b5dd7 : MOVZX EBP,word ptr [EDX + ECX*0x2 + -0x2]
006b5ddc : JMP 0x006b5de0
006b5dde : XOR EBP,EBP
006b5de0 : MOV EBX,dword ptr [ESP + 0x10]
006b5de4 : XOR ESI,ESI
006b5de6 : MOV EAX,dword ptr [ESP + 0x28]
006b5dea : CMP EAX,dword ptr [EDI + 0x7c]
006b5ded : JNZ 0x006b5df6
006b5def : CMP word ptr [ESP + 0xc],SI
006b5df4 : JZ 0x006b5e08
006b5df6 : MOV ECX,dword ptr [ESP + 0x14]
006b5dfa : PUSH ECX
006b5dfb : PUSH EDI
006b5dfc : XOR CL,CL
006b5dfe : MOV EDX,ESI
006b5e00 : CALL 0x006b5b40
006b5e05 : ADD ESP,0x8
006b5e08 : INC ESI
006b5e09 : CMP SI,BP
006b5e0c : JBE 0x006b5de6
006b5e0e : POP ESI
006b5e0f : POP EBP
006b5e10 : POP EBX
006b5e11 : ADD ESP,0x30
006b5e14 : RET
