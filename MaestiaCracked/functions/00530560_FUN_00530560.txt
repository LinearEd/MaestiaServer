PROGRAM  : Maestia.exe
FUNCTION : FUN_00530560
ENTRY    : 00530560
BODY     : [[00530560, 005306ff]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00530560(int *param_1)

{
  byte bVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int in_ECX;
  int *piVar5;
  bool bVar6;
  int local_4;
  
  piVar2 = param_1;
  if ((*(int *)(in_ECX + 0xcc) == 0) ||
     (local_4 = *(int *)(*(int *)(in_ECX + 200) + -4 + *(int *)(in_ECX + 0xcc) * 4), local_4 == 0))
  {
    return 0;
  }
  *(uint *)(local_4 + 8) = *(int *)(local_4 + 8) + 1U & 0x8fffffff;
  do {
    piVar5 = (int *)(local_4 + 0x10);
    if (*(byte *)(in_ECX + 0x7c) < 7) {
      param_1 = piVar2;
      if (*(int *)(*piVar2 + 4) == 0) {
        FUN_00525a80();
      }
      if ((*piVar5 != 0) &&
         (iVar4 = FUN_0054f490(&param_1,*(uint *)(*piVar5 + 4) & *(uint *)(*piVar2 + 0xc)),
         -1 < iVar4)) {
        iVar4 = *piVar5 + 0xc + iVar4 * 0x18;
        goto LAB_0053060d;
      }
    }
    else {
      iVar4 = *piVar5;
      if ((iVar4 != 0) &&
         (iVar3 = FUN_0054f3b0(piVar2,*(uint *)(iVar4 + 4) & *(uint *)(*piVar2 + 0xc)), -1 < iVar3))
      {
        iVar4 = iVar4 + 0xc + iVar3 * 0x18;
LAB_0053060d:
        if ((iVar4 != 0) && (iVar4 + 4 != 0)) {
          if (local_4 != 0) {
            FUN_00503db0();
          }
          return iVar4 + 4;
        }
      }
    }
    bVar1 = *(byte *)(in_ECX + 0x7c);
    if (4 < bVar1) {
      piVar5 = (int *)(*(int *)(in_ECX + 0x78) + 0x110);
      if (bVar1 < 7) {
        if (*(int *)(*piVar2 + 4) == 0) {
          FUN_00525a80();
        }
        bVar6 = *(int *)(*piVar5 + 4) == *(int *)(*piVar2 + 4);
      }
      else {
        bVar6 = *piVar5 == *piVar2;
      }
      if (bVar6) goto LAB_005306e9;
    }
    if (5 < bVar1) {
      piVar5 = (int *)(*(int *)(in_ECX + 0x78) + 0xf8);
      if (*(byte *)(in_ECX + 0x7c) < 7) {
        if (*(int *)(*piVar2 + 4) == 0) {
          FUN_00525a80();
        }
        bVar6 = *(int *)(*piVar5 + 4) == *(int *)(*piVar2 + 4);
      }
      else {
        bVar6 = *piVar5 == *piVar2;
      }
      if (bVar6) {
LAB_005306e9:
        if (local_4 == 0) {
          return 0;
        }
        FUN_00503db0();
        return 0;
      }
    }
    iVar4 = *(int *)(local_4 + 0x14);
    if (iVar4 != 0) {
      *(uint *)(iVar4 + 8) = *(int *)(iVar4 + 8) + 1U & 0x8fffffff;
    }
    FUN_00503db0();
    local_4 = *(int *)(local_4 + 0x14);
    if (local_4 == 0) {
      return 0;
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00530560 : PUSH ECX
00530561 : PUSH EBX
00530562 : PUSH EBP
00530563 : MOV EBX,ECX
00530565 : MOV EAX,dword ptr [EBX + 0xcc]
0053056b : PUSH ESI
0053056c : PUSH EDI
0053056d : TEST EAX,EAX
0053056f : JBE 0x005306f6
00530575 : MOV ECX,dword ptr [EBX + 0xc8]
0053057b : MOV EAX,dword ptr [ECX + EAX*0x4 + -0x4]
0053057f : TEST EAX,EAX
00530581 : JZ 0x00530590
00530583 : MOV EDX,dword ptr [EAX + 0x8]
00530586 : INC EDX
00530587 : AND EDX,0x8fffffff
0053058d : MOV dword ptr [EAX + 0x8],EDX
00530590 : MOV dword ptr [ESP + 0x10],EAX
00530594 : TEST EAX,EAX
00530596 : JZ 0x005306f6
0053059c : MOV EBP,dword ptr [ESP + 0x18]
005305a0 : MOV ESI,dword ptr [ESP + 0x10]
005305a4 : ADD ESI,0x10
005305a7 : CMP byte ptr [EBX + 0x7c],0x6
005305ab : JBE 0x005305d2
005305ad : MOV EDI,dword ptr [ESI]
005305af : TEST EDI,EDI
005305b1 : JZ 0x0053061c
005305b3 : MOV EAX,dword ptr [EBP]
005305b6 : MOV ECX,dword ptr [EDI + 0x4]
005305b9 : AND ECX,dword ptr [EAX + 0xc]
005305bc : PUSH ECX
005305bd : PUSH EBP
005305be : MOV ECX,ESI
005305c0 : CALL 0x0054f3b0
005305c5 : TEST EAX,EAX
005305c7 : JL 0x0053061c
005305c9 : LEA EDX,[EAX + EAX*0x2]
005305cc : LEA EAX,[EDI + EDX*0x8 + 0xc]
005305d0 : JMP 0x0053060d
005305d2 : MOV ECX,dword ptr [EBP]
005305d5 : CMP dword ptr [ECX + 0x4],0x0
005305d9 : MOV dword ptr [ESP + 0x18],EBP
005305dd : JNZ 0x005305e4
005305df : CALL 0x00525a80
005305e4 : MOV EAX,dword ptr [ESI]
005305e6 : TEST EAX,EAX
005305e8 : JZ 0x0053061c
005305ea : MOV ECX,dword ptr [EBP]
005305ed : MOV EAX,dword ptr [EAX + 0x4]
005305f0 : AND EAX,dword ptr [ECX + 0xc]
005305f3 : LEA EDX,[ESP + 0x18]
005305f7 : PUSH EAX
005305f8 : PUSH EDX
005305f9 : MOV ECX,ESI
005305fb : CALL 0x0054f490
00530600 : TEST EAX,EAX
00530602 : JL 0x0053061c
00530604 : MOV ECX,dword ptr [ESI]
00530606 : LEA EAX,[EAX + EAX*0x2]
00530609 : LEA EAX,[ECX + EAX*0x8 + 0xc]
0053060d : TEST EAX,EAX
0053060f : JZ 0x0053061c
00530611 : LEA ESI,[EAX + 0x4]
00530614 : TEST ESI,ESI
00530616 : JNZ 0x005306d2
0053061c : MOV AL,byte ptr [EBX + 0x7c]
0053061f : MOVZX EDI,AL
00530622 : CMP EDI,0x5
00530625 : JL 0x0053065f
00530627 : MOV ESI,dword ptr [EBX + 0x78]
0053062a : ADD ESI,0x110
00530630 : CMP AL,0x6
00530632 : JBE 0x0053063b
00530634 : MOV EDX,dword ptr [ESI]
00530636 : CMP EDX,dword ptr [EBP]
00530639 : JMP 0x00530654
0053063b : MOV ECX,dword ptr [EBP]
0053063e : CMP dword ptr [ECX + 0x4],0x0
00530642 : JNZ 0x00530649
00530644 : CALL 0x00525a80
00530649 : MOV EAX,dword ptr [ESI]
0053064b : MOV ECX,dword ptr [EBP]
0053064e : MOV EDX,dword ptr [EAX + 0x4]
00530651 : CMP EDX,dword ptr [ECX + 0x4]
00530654 : SETZ AL
00530657 : TEST AL,AL
00530659 : JNZ 0x005306e9
0053065f : CMP EDI,0x6
00530662 : JL 0x0053069a
00530664 : MOV ESI,dword ptr [EBX + 0x78]
00530667 : ADD ESI,0xf8
0053066d : CMP byte ptr [EBX + 0x7c],0x6
00530671 : JBE 0x0053067a
00530673 : MOV EAX,dword ptr [ESI]
00530675 : CMP EAX,dword ptr [EBP]
00530678 : JMP 0x00530693
0053067a : MOV ECX,dword ptr [EBP]
0053067d : CMP dword ptr [ECX + 0x4],0x0
00530681 : JNZ 0x00530688
00530683 : CALL 0x00525a80
00530688 : MOV ECX,dword ptr [ESI]
0053068a : MOV EDX,dword ptr [EBP]
0053068d : MOV EAX,dword ptr [ECX + 0x4]
00530690 : CMP EAX,dword ptr [EDX + 0x4]
00530693 : SETZ AL
00530696 : TEST AL,AL
00530698 : JNZ 0x005306e9
0053069a : MOV ECX,dword ptr [ESP + 0x10]
0053069e : MOV EAX,dword ptr [ECX + 0x14]
005306a1 : TEST EAX,EAX
005306a3 : JZ 0x005306b2
005306a5 : MOV EDX,dword ptr [EAX + 0x8]
005306a8 : INC EDX
005306a9 : AND EDX,0x8fffffff
005306af : MOV dword ptr [EAX + 0x8],EDX
005306b2 : CALL 0x00503db0
005306b7 : MOV EAX,dword ptr [ESP + 0x10]
005306bb : MOV EAX,dword ptr [EAX + 0x14]
005306be : MOV dword ptr [ESP + 0x10],EAX
005306c2 : TEST EAX,EAX
005306c4 : JNZ 0x005305a0
005306ca : POP EDI
005306cb : POP ESI
005306cc : POP EBP
005306cd : POP EBX
005306ce : POP ECX
005306cf : RET 0x4
005306d2 : MOV ECX,dword ptr [ESP + 0x10]
005306d6 : TEST ECX,ECX
005306d8 : JZ 0x005306df
005306da : CALL 0x00503db0
005306df : POP EDI
005306e0 : MOV EAX,ESI
005306e2 : POP ESI
005306e3 : POP EBP
005306e4 : POP EBX
005306e5 : POP ECX
005306e6 : RET 0x4
005306e9 : MOV ECX,dword ptr [ESP + 0x10]
005306ed : TEST ECX,ECX
005306ef : JZ 0x005306f6
005306f1 : CALL 0x00503db0
005306f6 : POP EDI
005306f7 : POP ESI
005306f8 : POP EBP
005306f9 : XOR EAX,EAX
005306fb : POP EBX
005306fc : POP ECX
005306fd : RET 0x4
