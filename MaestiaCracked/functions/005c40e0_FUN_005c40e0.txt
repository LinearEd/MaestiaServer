PROGRAM  : Maestia.exe
FUNCTION : FUN_005c40e0
ENTRY    : 005c40e0
BODY     : [[005c40e0, 005c42a3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005c40e0(uint *param_1,uint *param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int in_ECX;
  byte local_10 [4];
  double local_c;
  int iStack_4;
  
  iVar2 = *(int *)(*(int *)(in_ECX + 0x10) + -4 + *(int *)(in_ECX + 0x14) * 4);
  local_10[0] = 0;
  switch(param_3) {
  case 0:
    FUN_00526400();
    local_10[0] = 0;
    break;
  case 1:
    FUN_00526400();
    local_10[0] = 1;
    break;
  case 2:
    iVar3 = _strncmp((char *)((*param_2 & 0xfffffffc) + 8),"true",4);
    param_2 = (uint *)CONCAT31(param_2._1_3_,iVar3 == 0);
    FUN_00526400();
    local_10[0] = 2;
    local_c = (double)CONCAT71(local_c._1_7_,param_2._0_1_);
    break;
  case 3:
    local_c = _atof((char *)((*param_2 & 0xfffffffc) + 8));
    if (4 < local_10[0]) {
      FUN_00526400();
    }
    local_10[0] = 3;
    break;
  case 4:
    iVar3 = FUN_00525450((*param_2 & 0xfffffffc) + 8,*(uint *)(*param_2 & 0xfffffffc) & 0x7fffffff);
    *(int *)(iVar3 + 8) = *(int *)(iVar3 + 8) + 1;
    if (4 < local_10[0]) {
      FUN_00526400();
    }
    local_10[0] = 5;
    local_c = (double)CONCAT44(local_c._4_4_,iVar3);
    *(int *)(iVar3 + 8) = *(int *)(iVar3 + 8) + 1;
    piVar1 = (int *)(iVar3 + 8);
    *piVar1 = *piVar1 + -1;
    if (*piVar1 == 0) {
      FUN_00525340();
    }
  }
  if (*(char *)(in_ECX + 0x1c) == '\0') {
    param_2 = (uint *)((uint)param_2 & 0xffffff00);
    param_3 = FUN_00525450((*param_1 & 0xfffffffc) + 8,*(uint *)(*param_1 & 0xfffffffc) & 0x7fffffff
                          );
    *(int *)(param_3 + 8) = *(int *)(param_3 + 8) + 1;
    (**(code **)(*(int *)(iVar2 + 0x10) + 0xc))
              (*(undefined4 *)(in_ECX + 8),&param_3,local_10,&param_2);
    *(int *)(iStack_4 + 8) = *(int *)(iStack_4 + 8) + -1;
    if (*(int *)(iStack_4 + 8) == 0) {
      FUN_00525340();
    }
    FUN_00526bc0();
    return;
  }
  FUN_00585540(local_10);
  FUN_00526bc0();
  return;
}



============================================================
DISASSEMBLY
============================================================
005c40e0 : SUB ESP,0x18
005c40e3 : PUSH EBX
005c40e4 : PUSH EBP
005c40e5 : PUSH ESI
005c40e6 : MOV ESI,ECX
005c40e8 : MOV EAX,dword ptr [ESI + 0x14]
005c40eb : MOV ECX,dword ptr [ESI + 0x10]
005c40ee : MOV EBP,dword ptr [ECX + EAX*0x4 + -0x4]
005c40f2 : MOV EAX,dword ptr [ESP + 0x30]
005c40f6 : PUSH EDI
005c40f7 : MOV byte ptr [ESP + 0x18],0x0
005c40fc : MOV EBX,0x1
005c4101 : CMP EAX,0x4
005c4104 : JA 0x005c4200
005c410a : JMP dword ptr [EAX*0x4 + 0x5c42a4]
005c4111 : MOV EDX,dword ptr [ESP + 0x30]
005c4115 : MOV EAX,dword ptr [EDX]
005c4117 : AND EAX,0xfffffffc
005c411a : ADD EAX,0x8
005c411d : PUSH EAX
005c411e : CALL 0x00638ec9
005c4123 : FSTP double ptr [ESP + 0x14]
005c4127 : ADD ESP,0x4
005c412a : CMP byte ptr [ESP + 0x18],0x5
005c412f : JC 0x005c413a
005c4131 : LEA ECX,[ESP + 0x18]
005c4135 : CALL 0x00526400
005c413a : FLD double ptr [ESP + 0x10]
005c413e : MOV byte ptr [ESP + 0x18],0x3
005c4143 : FSTP double ptr [ESP + 0x1c]
005c4147 : JMP 0x005c4200
005c414c : MOV EAX,dword ptr [ESI + 0x8]
005c414f : MOV EDX,dword ptr [EAX + 0x78]
005c4152 : MOV ECX,dword ptr [ESP + 0x30]
005c4156 : MOV EAX,dword ptr [ECX]
005c4158 : MOV ECX,EAX
005c415a : AND ECX,0xfffffffc
005c415d : MOV ECX,dword ptr [ECX]
005c415f : AND ECX,0x7fffffff
005c4165 : AND EAX,0xfffffffc
005c4168 : PUSH ECX
005c4169 : ADD EAX,0x8
005c416c : PUSH EAX
005c416d : LEA ECX,[EDX + 0x254]
005c4173 : CALL 0x00525450
005c4178 : MOV EDI,EAX
005c417a : ADD dword ptr [EDI + 0x8],EBX
005c417d : CMP byte ptr [ESP + 0x18],0x5
005c4182 : JC 0x005c418d
005c4184 : LEA ECX,[ESP + 0x18]
005c4188 : CALL 0x00526400
005c418d : MOV byte ptr [ESP + 0x18],0x5
005c4192 : MOV dword ptr [ESP + 0x1c],EDI
005c4196 : ADD dword ptr [EDI + 0x8],EBX
005c4199 : ADD dword ptr [EDI + 0x8],-0x1
005c419d : JNZ 0x005c4200
005c419f : MOV ECX,EDI
005c41a1 : CALL 0x00525340
005c41a6 : JMP 0x005c4200
005c41a8 : MOV EDX,dword ptr [ESP + 0x30]
005c41ac : MOV EAX,dword ptr [EDX]
005c41ae : AND EAX,0xfffffffc
005c41b1 : PUSH 0x4
005c41b3 : ADD EAX,0x8
005c41b6 : PUSH 0xcd5b98
005c41bb : PUSH EAX
005c41bc : CALL 0x0063abcb
005c41c1 : ADD ESP,0xc
005c41c4 : TEST EAX,EAX
005c41c6 : LEA ECX,[ESP + 0x18]
005c41ca : SETZ byte ptr [ESP + 0x30]
005c41cf : CALL 0x00526400
005c41d4 : MOV AL,byte ptr [ESP + 0x30]
005c41d8 : MOV byte ptr [ESP + 0x18],0x2
005c41dd : MOV byte ptr [ESP + 0x1c],AL
005c41e1 : JMP 0x005c4200
005c41e3 : LEA ECX,[ESP + 0x18]
005c41e7 : CALL 0x00526400
005c41ec : MOV byte ptr [ESP + 0x18],0x0
005c41f1 : JMP 0x005c4200
005c41f3 : LEA ECX,[ESP + 0x18]
005c41f7 : CALL 0x00526400
005c41fc : MOV byte ptr [ESP + 0x18],BL
005c4200 : CMP byte ptr [ESI + 0x1c],0x0
005c4204 : JZ 0x005c4225
005c4206 : LEA ECX,[ESP + 0x18]
005c420a : PUSH ECX
005c420b : MOV ECX,EBP
005c420d : CALL 0x00585540
005c4212 : LEA ECX,[ESP + 0x18]
005c4216 : CALL 0x00526bc0
005c421b : POP EDI
005c421c : POP ESI
005c421d : POP EBP
005c421e : POP EBX
005c421f : ADD ESP,0x18
005c4222 : RET 0xc
005c4225 : MOV EAX,dword ptr [ESP + 0x2c]
005c4229 : MOV EAX,dword ptr [EAX]
005c422b : MOV EDX,dword ptr [ESI + 0x8]
005c422e : MOV ECX,EAX
005c4230 : AND ECX,0xfffffffc
005c4233 : MOV byte ptr [ESP + 0x30],0x0
005c4238 : MOV ECX,dword ptr [ECX]
005c423a : MOV EDX,dword ptr [EDX + 0x78]
005c423d : AND ECX,0x7fffffff
005c4243 : AND EAX,0xfffffffc
005c4246 : PUSH ECX
005c4247 : ADD EAX,0x8
005c424a : PUSH EAX
005c424b : LEA ECX,[EDX + 0x254]
005c4251 : CALL 0x00525450
005c4256 : MOV dword ptr [ESP + 0x34],EAX
005c425a : ADD dword ptr [EAX + 0x8],EBX
005c425d : MOV EDX,dword ptr [EBP + 0x10]
005c4260 : MOV EDX,dword ptr [EDX + 0xc]
005c4263 : LEA EAX,[ESP + 0x30]
005c4267 : PUSH EAX
005c4268 : LEA EAX,[ESP + 0x1c]
005c426c : PUSH EAX
005c426d : LEA EAX,[ESP + 0x3c]
005c4271 : LEA ECX,[EBP + 0x10]
005c4274 : PUSH EAX
005c4275 : MOV EAX,dword ptr [ESI + 0x8]
005c4278 : PUSH EAX
005c4279 : CALL EDX
005c427b : MOV EAX,dword ptr [ESP + 0x34]
005c427f : DEC dword ptr [EAX + 0x8]
005c4282 : MOV ECX,EAX
005c4284 : ADD EAX,0x8
005c4287 : CMP dword ptr [EAX],0x0
005c428a : JNZ 0x005c4291
005c428c : CALL 0x00525340
005c4291 : LEA ECX,[ESP + 0x18]
005c4295 : CALL 0x00526bc0
005c429a : POP EDI
005c429b : POP ESI
005c429c : POP EBP
005c429d : POP EBX
005c429e : ADD ESP,0x18
005c42a1 : RET 0xc
