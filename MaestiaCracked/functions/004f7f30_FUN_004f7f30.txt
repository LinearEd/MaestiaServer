PROGRAM  : Maestia.exe
FUNCTION : FUN_004f7f30
ENTRY    : 004f7f30
BODY     : [[004f7f30, 004f7fa5]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_004f7f30(undefined4 *param_1)

{
  int *piVar1;
  int in_EAX;
  int iVar2;
  int *piVar3;
  ushort *unaff_EDI;
  
  iVar2 = FUN_004f8260();
  piVar1 = (int *)(*(int *)(in_EAX + 0x14) + iVar2 * 4);
  piVar3 = (int *)*piVar1;
  piVar1 = (int *)piVar1[1];
  if (piVar1 != piVar3) {
    do {
      if (*unaff_EDI <= *(ushort *)(piVar3 + 2)) {
        if (*(ushort *)(piVar3 + 2) <= *unaff_EDI) {
          *param_1 = piVar3;
          return param_1;
        }
        *param_1 = *(undefined4 *)(in_EAX + 8);
        return param_1;
      }
      piVar3 = (int *)*piVar3;
    } while (piVar1 != piVar3);
  }
  *param_1 = *(undefined4 *)(in_EAX + 8);
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
004f7f30 : PUSH EBP
004f7f31 : MOV EBP,ESP
004f7f33 : PUSH ECX
004f7f34 : PUSH EBX
004f7f35 : MOV EBX,dword ptr [EBP + 0x8]
004f7f38 : PUSH ESI
004f7f39 : MOV ESI,EAX
004f7f3b : MOV EAX,EDI
004f7f3d : CALL 0x004f8260
004f7f42 : MOV ECX,dword ptr [ESI + 0x14]
004f7f45 : LEA ECX,[ECX + EAX*0x4]
004f7f48 : MOV EAX,dword ptr [ECX]
004f7f4a : MOV ECX,dword ptr [ECX + 0x4]
004f7f4d : MOV dword ptr [EBP + 0x8],EAX
004f7f50 : CMP ECX,EAX
004f7f52 : JZ 0x004f7f66
004f7f54 : MOVZX EDX,word ptr [EDI]
004f7f57 : CMP word ptr [EAX + 0x8],DX
004f7f5b : JNC 0x004f7f75
004f7f5d : MOV EAX,dword ptr [EAX]
004f7f5f : CMP ECX,EAX
004f7f61 : JNZ 0x004f7f57
004f7f63 : MOV dword ptr [EBP + 0x8],EAX
004f7f66 : MOV ECX,dword ptr [ESI + 0x8]
004f7f69 : POP ESI
004f7f6a : MOV dword ptr [EBX],ECX
004f7f6c : MOV EAX,EBX
004f7f6e : POP EBX
004f7f6f : MOV ESP,EBP
004f7f71 : POP EBP
004f7f72 : RET 0x4
004f7f75 : MOV dword ptr [EBP + 0x8],EAX
004f7f78 : CMP DX,word ptr [EAX + 0x8]
004f7f7c : JNC 0x004f7f95
004f7f7e : MOV EDX,dword ptr [ESI + 0x8]
004f7f81 : LEA EAX,[EBP + -0x4]
004f7f84 : MOV dword ptr [EBP + -0x4],EDX
004f7f87 : MOV EAX,dword ptr [EAX]
004f7f89 : MOV dword ptr [EBX],EAX
004f7f8b : POP ESI
004f7f8c : MOV EAX,EBX
004f7f8e : POP EBX
004f7f8f : MOV ESP,EBP
004f7f91 : POP EBP
004f7f92 : RET 0x4
004f7f95 : LEA EAX,[EBP + 0x8]
004f7f98 : MOV EAX,dword ptr [EAX]
004f7f9a : MOV dword ptr [EBX],EAX
004f7f9c : POP ESI
004f7f9d : MOV EAX,EBX
004f7f9f : POP EBX
004f7fa0 : MOV ESP,EBP
004f7fa2 : POP EBP
004f7fa3 : RET 0x4
