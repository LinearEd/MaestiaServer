PROGRAM  : Maestia.exe
FUNCTION : FUN_0069ebc0
ENTRY    : 0069ebc0
BODY     : [[0069ebc0, 0069ed14]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0069ebc0(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  int in_EAX;
  int iVar8;
  int iVar9;
  int iVar10;
  int in_EDX;
  int iVar11;
  
  iVar11 = in_EAX + *(int *)(in_EDX + 0x28);
  if (*(int *)(in_EDX + 0x554) == 0) {
    return 0xa0;
  }
  iVar8 = FUN_0069da60();
  iVar9 = FUN_0069da60();
  if ((iVar8 < 0) || (iVar9 < 0)) {
    iVar10 = 0xa0;
  }
  else if (*(char *)(in_EDX + 0x4d) == '\0') {
    FUN_006863a0(*(undefined4 *)(in_EDX + 0xc));
    iVar10 = FUN_0069daf0();
    if (iVar10 == 0) {
      uVar4 = *(undefined4 *)(in_EDX + 0x2c);
      uVar5 = *(undefined4 *)(in_EDX + 0x30);
      uVar6 = *(undefined4 *)(in_EDX + 0x34);
      uVar7 = *(undefined4 *)(in_EDX + 0x28);
      *(int *)(in_EDX + 0x24) = param_2;
      *(undefined4 *)(in_EDX + 0x28) = 0;
      *(undefined4 *)(in_EDX + 0x2c) = 0;
      *(int *)(in_EDX + 0x20) = iVar11 - param_1;
      iVar10 = FUN_0069daf0();
      if (iVar10 == 0) {
        *(undefined4 *)(in_EDX + 0x28) = uVar7;
        *(undefined4 *)(in_EDX + 0x2c) = uVar4;
        *(undefined4 *)(in_EDX + 0x20) = 0;
        *(undefined4 *)(in_EDX + 0x24) = 0;
        *(undefined4 *)(in_EDX + 0x30) = uVar5;
        *(undefined4 *)(in_EDX + 0x34) = uVar6;
        return 0;
      }
    }
  }
  else {
    iVar1 = *(int *)(in_EDX + 8);
    iVar2 = **(int **)(iVar1 + 0x9c);
    iVar10 = FUN_0068a450(iVar2,2);
    if (iVar10 == 0) {
      piVar3 = *(int **)(iVar2 + 0x58);
      *piVar3 = iVar8;
      piVar3[2] = 0;
      piVar3[3] = 0;
      *(undefined2 *)(piVar3 + 1) = 0x202;
      piVar3[8] = iVar9;
      piVar3[10] = iVar11 - param_1;
      piVar3[0xb] = param_2;
      *(undefined2 *)(piVar3 + 9) = 2;
      *(undefined4 *)(iVar1 + 0x80) = 2;
      *(undefined4 *)(iVar1 + 0x84) = *(undefined4 *)(iVar2 + 0x34);
      *(undefined4 *)(iVar1 + 0x48) = 0x636f6d70;
      *(undefined4 *)(iVar2 + 0x54) = 2;
      return 0;
    }
  }
  return iVar10;
}



============================================================
DISASSEMBLY
============================================================
0069ebc0 : SUB ESP,0x14
0069ebc3 : PUSH EBX
0069ebc4 : PUSH ESI
0069ebc5 : PUSH EDI
0069ebc6 : MOV ESI,EDX
0069ebc8 : MOV EDI,EAX
0069ebca : ADD EDI,dword ptr [ESI + 0x28]
0069ebcd : XOR EBX,EBX
0069ebcf : CMP dword ptr [ESI + 0x554],EBX
0069ebd5 : JNZ 0x0069ebe3
0069ebd7 : POP EDI
0069ebd8 : POP ESI
0069ebd9 : MOV EAX,0xa0
0069ebde : POP EBX
0069ebdf : ADD ESP,0x14
0069ebe2 : RET
0069ebe3 : PUSH EBP
0069ebe4 : MOV EAX,ESI
0069ebe6 : CALL 0x0069da60
0069ebeb : MOV ECX,dword ptr [ESP + 0x30]
0069ebef : MOV EBP,EAX
0069ebf1 : MOV EAX,ESI
0069ebf3 : MOV dword ptr [ESP + 0x14],EBP
0069ebf7 : CALL 0x0069da60
0069ebfc : CMP EBP,EBX
0069ebfe : MOV dword ptr [ESP + 0x10],EAX
0069ec02 : JL 0x0069ed08
0069ec08 : CMP EAX,EBX
0069ec0a : JL 0x0069ed08
0069ec10 : CMP byte ptr [ESI + 0x4d],BL
0069ec13 : JZ 0x0069ec8e
0069ec15 : MOV ESI,dword ptr [ESI + 0x8]
0069ec18 : MOV EAX,dword ptr [ESI + 0x9c]
0069ec1e : MOV EBP,dword ptr [EAX]
0069ec20 : PUSH 0x2
0069ec22 : PUSH EBP
0069ec23 : CALL 0x0068a450
0069ec28 : ADD ESP,0x8
0069ec2b : CMP EAX,EBX
0069ec2d : JNZ 0x0069ed0d
0069ec33 : MOV ECX,dword ptr [EBP + 0x58]
0069ec36 : MOV EDX,dword ptr [ESP + 0x14]
0069ec3a : MOV dword ptr [ECX],EDX
0069ec3c : MOV dword ptr [ECX + 0x8],EBX
0069ec3f : MOV dword ptr [ECX + 0xc],EBX
0069ec42 : ADD ECX,0x20
0069ec45 : SUB EDI,dword ptr [ESP + 0x28]
0069ec49 : MOV EDX,0x202
0069ec4e : MOV word ptr [ECX + -0x1c],DX
0069ec52 : MOV EDX,dword ptr [ESP + 0x10]
0069ec56 : MOV dword ptr [ECX],EDX
0069ec58 : MOV dword ptr [ECX + 0x8],EDI
0069ec5b : MOV EDI,dword ptr [ESP + 0x2c]
0069ec5f : MOV EDX,0x2
0069ec64 : MOV dword ptr [ECX + 0xc],EDI
0069ec67 : MOV EBX,EDX
0069ec69 : MOV word ptr [ECX + 0x4],BX
0069ec6d : MOV dword ptr [ESI + 0x80],EDX
0069ec73 : MOV ECX,dword ptr [EBP + 0x34]
0069ec76 : MOV dword ptr [ESI + 0x84],ECX
0069ec7c : MOV dword ptr [ESI + 0x48],0x636f6d70
0069ec83 : MOV dword ptr [EBP + 0x54],EDX
0069ec86 : POP EBP
0069ec87 : POP EDI
0069ec88 : POP ESI
0069ec89 : POP EBX
0069ec8a : ADD ESP,0x14
0069ec8d : RET
0069ec8e : MOV EDX,dword ptr [ESI + 0xc]
0069ec91 : PUSH EDX
0069ec92 : CALL 0x006863a0
0069ec97 : ADD ESP,0x4
0069ec9a : MOV ECX,EBP
0069ec9c : MOV EAX,ESI
0069ec9e : CALL 0x0069daf0
0069eca3 : CMP EAX,EBX
0069eca5 : JNZ 0x0069ed0d
0069eca7 : MOV EAX,dword ptr [ESI + 0x2c]
0069ecaa : MOV ECX,dword ptr [ESI + 0x30]
0069ecad : MOV EDX,dword ptr [ESI + 0x34]
0069ecb0 : SUB EDI,dword ptr [ESP + 0x28]
0069ecb4 : MOV EBP,dword ptr [ESI + 0x28]
0069ecb7 : MOV dword ptr [ESP + 0x20],EAX
0069ecbb : MOV EAX,dword ptr [ESP + 0x2c]
0069ecbf : MOV dword ptr [ESP + 0x14],ECX
0069ecc3 : MOV ECX,dword ptr [ESP + 0x10]
0069ecc7 : MOV dword ptr [ESI + 0x24],EAX
0069ecca : MOV EAX,ESI
0069eccc : MOV dword ptr [ESP + 0x18],EDX
0069ecd0 : MOV dword ptr [ESI + 0x28],EBX
0069ecd3 : MOV dword ptr [ESI + 0x2c],EBX
0069ecd6 : MOV dword ptr [ESI + 0x20],EDI
0069ecd9 : CALL 0x0069daf0
0069ecde : CMP EAX,EBX
0069ece0 : JNZ 0x0069ed0d
0069ece2 : MOV ECX,dword ptr [ESP + 0x20]
0069ece6 : MOV EDX,dword ptr [ESP + 0x14]
0069ecea : MOV dword ptr [ESI + 0x28],EBP
0069eced : POP EBP
0069ecee : MOV dword ptr [ESI + 0x2c],ECX
0069ecf1 : MOV ECX,dword ptr [ESP + 0x14]
0069ecf5 : POP EDI
0069ecf6 : MOV dword ptr [ESI + 0x20],EBX
0069ecf9 : MOV dword ptr [ESI + 0x24],EBX
0069ecfc : MOV dword ptr [ESI + 0x30],EDX
0069ecff : MOV dword ptr [ESI + 0x34],ECX
0069ed02 : POP ESI
0069ed03 : POP EBX
0069ed04 : ADD ESP,0x14
0069ed07 : RET
0069ed08 : MOV EAX,0xa0
0069ed0d : POP EBP
0069ed0e : POP EDI
0069ed0f : POP ESI
0069ed10 : POP EBX
0069ed11 : ADD ESP,0x14
0069ed14 : RET
