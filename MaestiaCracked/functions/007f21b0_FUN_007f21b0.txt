PROGRAM  : Maestia.exe
FUNCTION : FUN_007f21b0
ENTRY    : 007f21b0
BODY     : [[007f21b0, 007f249c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007f21b0(float param_1,char param_2,float param_3)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  int iVar4;
  float *in_EAX;
  float *unaff_EDI;
  float fVar5;
  float fVar6;
  float fVar7;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  float local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  float local_14;
  float local_10;
  float local_c;
  
  iVar4 = (int)param_1;
  fVar3 = DAT_00d72c24;
  fVar5 = unaff_EDI[1];
  fVar2 = in_EAX[2];
  fVar6 = in_EAX[1];
  fVar7 = unaff_EDI[2];
  *(float *)((int)param_1 + 0x1bc) = (*unaff_EDI + *in_EAX) * DAT_00d72c24;
  fVar5 = (fVar5 + fVar6) * fVar3;
  *(float *)((int)param_1 + 0x1c0) = fVar5;
  *(float *)((int)param_1 + 0x1c4) = (fVar2 + fVar7) * fVar3;
  param_1 = 30.0;
  if (param_2 == '\0') {
    *(float *)(iVar4 + 0x1c0) = *(float *)(iVar4 + 0x1c0) - 8.0;
  }
  else {
    param_1 = 45.0;
    *(float *)(iVar4 + 0x1c0) = fVar5 - (param_3 * 0.9 + 8.0);
  }
  local_68 = DAT_00d72178;
  local_64 = DAT_00d7217c;
  local_60 = DAT_00d72180;
  local_5c = DAT_00d72184;
  local_58 = DAT_00d72188;
  local_54 = DAT_00d7218c;
  local_50 = DAT_00d72190;
  local_4c = DAT_00d72194;
  local_48 = DAT_00d72198;
  local_44 = DAT_00d7219c;
  local_40 = DAT_00d721a0;
  local_3c = DAT_00d721a4;
  local_38 = DAT_00d721a8;
  local_34 = DAT_00d721ac;
  local_30 = DAT_00d721b0;
  local_2c = DAT_00d721b4;
  D3DXMatrixRotationY(&local_68,0xc032b8c3);
  local_14 = *in_EAX - *unaff_EDI;
  local_10 = in_EAX[1] - unaff_EDI[1];
  local_c = in_EAX[2] - unaff_EDI[2];
  local_24 = 0.0;
  local_20 = 0;
  local_1c = 0;
  local_18 = 0;
  D3DXVec3Transform(&local_24,&local_14,&local_68);
  pfVar1 = (float *)(iVar4 + 0x1b0);
  *pfVar1 = local_24;
  *(undefined4 *)(iVar4 + 0x1b4) = local_20;
  *(undefined4 *)(iVar4 + 0x1b8) = local_1c;
  D3DXVec3Normalize(pfVar1,pfVar1);
  fVar6 = *(float *)(iVar4 + 0x1b4) * param_1;
  fVar7 = *(float *)(iVar4 + 0x1b8) * param_1;
  *pfVar1 = *pfVar1 * param_1;
  *(float *)(iVar4 + 0x1b4) = fVar6;
  *(float *)(iVar4 + 0x1b8) = fVar7;
  fVar5 = unaff_EDI[1];
  fVar2 = unaff_EDI[2];
  *pfVar1 = *unaff_EDI + *pfVar1;
  *(float *)(iVar4 + 0x1b4) = fVar6 + fVar5;
  *(float *)(iVar4 + 0x1b8) = fVar7 + fVar2;
  if (param_2 == '\0') {
    *(float *)(iVar4 + 0x1b4) = unaff_EDI[1] + 3.0;
  }
  else {
    *(float *)(iVar4 + 0x1b4) = (unaff_EDI[1] + 3.0) - param_3 * 1.3;
  }
  *(undefined1 *)(iVar4 + 0x1e8) = 1;
  *(float *)(iVar4 + 0x24c) = *pfVar1;
  *(undefined4 *)(iVar4 + 0x250) = *(undefined4 *)(iVar4 + 0x1b4);
  *(undefined4 *)(iVar4 + 0x254) = *(undefined4 *)(iVar4 + 0x1b8);
  *(undefined4 *)(iVar4 + 600) = *(undefined4 *)(iVar4 + 0x1bc);
  *(undefined4 *)(iVar4 + 0x25c) = *(undefined4 *)(iVar4 + 0x1c0);
  *(undefined4 *)(iVar4 + 0x260) = *(undefined4 *)(iVar4 + 0x1c4);
  return;
}



============================================================
DISASSEMBLY
============================================================
007f21b0 : PUSH EBP
007f21b1 : MOV EBP,ESP
007f21b3 : SUB ESP,0x64
007f21b6 : CMP byte ptr [EBP + 0xc],0x0
007f21ba : MOVSS XMM0,dword ptr [EDI]
007f21be : MOVSS XMM1,dword ptr [EDI + 0x4]
007f21c3 : MOVSS XMM3,dword ptr [0x00d72c24]
007f21cb : PUSH EBX
007f21cc : MOV EBX,dword ptr [EBP + 0x8]
007f21cf : PUSH ESI
007f21d0 : MOV ESI,EAX
007f21d2 : ADDSS XMM0,dword ptr [ESI]
007f21d6 : MOVSS XMM2,dword ptr [ESI + 0x8]
007f21db : ADDSS XMM1,dword ptr [ESI + 0x4]
007f21e0 : ADDSS XMM2,dword ptr [EDI + 0x8]
007f21e5 : MULSS XMM0,XMM3
007f21e9 : MOVSS dword ptr [EBX + 0x1bc],XMM0
007f21f1 : MOVSS XMM0,dword ptr [0x00cdf12c]
007f21f9 : MULSS XMM1,XMM3
007f21fd : MULSS XMM2,XMM3
007f2201 : MOVSS dword ptr [EBX + 0x1c0],XMM1
007f2209 : MOVSS dword ptr [EBX + 0x1c4],XMM2
007f2211 : MOVSS dword ptr [EBP + 0x8],XMM0
007f2216 : JZ 0x007f2248
007f2218 : MOVSS XMM0,dword ptr [0x00cdf45c]
007f2220 : MOVSS dword ptr [EBP + 0x8],XMM0
007f2225 : MOVSS XMM0,dword ptr [EBP + 0x10]
007f222a : MULSS XMM0,dword ptr [0x00cdf1c4]
007f2232 : ADDSS XMM0,dword ptr [0x00cdf15c]
007f223a : SUBSS XMM1,XMM0
007f223e : MOVSS dword ptr [EBX + 0x1c0],XMM1
007f2246 : JMP 0x007f2260
007f2248 : MOVSS XMM0,dword ptr [EBX + 0x1c0]
007f2250 : SUBSS XMM0,dword ptr [0x00cdf15c]
007f2258 : MOVSS dword ptr [EBX + 0x1c0],XMM0
007f2260 : MOVSS XMM0,dword ptr [0x00d72178]
007f2268 : FLD float ptr [0x00cdf458]
007f226e : MOVSS dword ptr [EBP + -0x64],XMM0
007f2273 : MOVSS XMM0,dword ptr [0x00d7217c]
007f227b : MOVSS dword ptr [EBP + -0x60],XMM0
007f2280 : MOVSS XMM0,dword ptr [0x00d72180]
007f2288 : MOVSS dword ptr [EBP + -0x5c],XMM0
007f228d : MOVSS XMM0,dword ptr [0x00d72184]
007f2295 : MOVSS dword ptr [EBP + -0x58],XMM0
007f229a : MOVSS XMM0,dword ptr [0x00d72188]
007f22a2 : MOVSS dword ptr [EBP + -0x54],XMM0
007f22a7 : MOVSS XMM0,dword ptr [0x00d7218c]
007f22af : MOVSS dword ptr [EBP + -0x50],XMM0
007f22b4 : MOVSS XMM0,dword ptr [0x00d72190]
007f22bc : MOVSS dword ptr [EBP + -0x4c],XMM0
007f22c1 : MOVSS XMM0,dword ptr [0x00d72194]
007f22c9 : MOVSS dword ptr [EBP + -0x48],XMM0
007f22ce : MOVSS XMM0,dword ptr [0x00d72198]
007f22d6 : MOVSS dword ptr [EBP + -0x44],XMM0
007f22db : MOVSS XMM0,dword ptr [0x00d7219c]
007f22e3 : MOVSS dword ptr [EBP + -0x40],XMM0
007f22e8 : MOVSS XMM0,dword ptr [0x00d721a0]
007f22f0 : MOVSS dword ptr [EBP + -0x3c],XMM0
007f22f5 : MOVSS XMM0,dword ptr [0x00d721a4]
007f22fd : MOVSS dword ptr [EBP + -0x38],XMM0
007f2302 : MOVSS XMM0,dword ptr [0x00d721a8]
007f230a : MOVSS dword ptr [EBP + -0x34],XMM0
007f230f : MOVSS XMM0,dword ptr [0x00d721ac]
007f2317 : MOVSS dword ptr [EBP + -0x30],XMM0
007f231c : MOVSS XMM0,dword ptr [0x00d721b0]
007f2324 : PUSH ECX
007f2325 : LEA EAX,[EBP + -0x64]
007f2328 : FSTP float ptr [ESP]
007f232b : MOVSS dword ptr [EBP + -0x2c],XMM0
007f2330 : MOVSS XMM0,dword ptr [0x00d721b4]
007f2338 : PUSH EAX
007f2339 : MOVSS dword ptr [EBP + -0x28],XMM0
007f233e : CALL 0x004ff72e
007f2343 : MOVSS XMM0,dword ptr [ESI]
007f2347 : SUBSS XMM0,dword ptr [EDI]
007f234b : MOVSS XMM1,dword ptr [ESI + 0x4]
007f2350 : MOVSS XMM2,dword ptr [ESI + 0x8]
007f2355 : SUBSS XMM1,dword ptr [EDI + 0x4]
007f235a : SUBSS XMM2,dword ptr [EDI + 0x8]
007f235f : LEA ECX,[EBP + -0x64]
007f2362 : PUSH ECX
007f2363 : LEA EDX,[EBP + -0x10]
007f2366 : PUSH EDX
007f2367 : LEA EAX,[EBP + -0x20]
007f236a : MOVSS dword ptr [EBP + -0x10],XMM0
007f236f : XORPS XMM0,XMM0
007f2372 : PUSH EAX
007f2373 : MOVSS dword ptr [EBP + -0xc],XMM1
007f2378 : MOVSS dword ptr [EBP + -0x8],XMM2
007f237d : MOVSS dword ptr [EBP + -0x20],XMM0
007f2382 : MOVSS dword ptr [EBP + -0x1c],XMM0
007f2387 : MOVSS dword ptr [EBP + -0x18],XMM0
007f238c : MOVSS dword ptr [EBP + -0x14],XMM0
007f2391 : CALL 0x004ff75e
007f2396 : MOVSS XMM0,dword ptr [EBP + -0x20]
007f239b : LEA ESI,[EBX + 0x1b0]
007f23a1 : MOVSS dword ptr [ESI],XMM0
007f23a5 : MOVSS XMM0,dword ptr [EBP + -0x1c]
007f23aa : PUSH ESI
007f23ab : MOVSS dword ptr [ESI + 0x4],XMM0
007f23b0 : MOVSS XMM0,dword ptr [EBP + -0x18]
007f23b5 : PUSH ESI
007f23b6 : MOVSS dword ptr [ESI + 0x8],XMM0
007f23bb : CALL 0x004ff722
007f23c0 : MOVSS XMM0,dword ptr [ESI]
007f23c4 : MOVSS XMM1,dword ptr [ESI + 0x4]
007f23c9 : MOVSS XMM2,dword ptr [ESI + 0x8]
007f23ce : MOVSS XMM3,dword ptr [EBP + 0x8]
007f23d3 : MULSS XMM0,XMM3
007f23d7 : MULSS XMM1,XMM3
007f23db : MULSS XMM2,XMM3
007f23df : MOVSS dword ptr [ESI],XMM0
007f23e3 : MOVSS dword ptr [ESI + 0x4],XMM1
007f23e8 : MOVSS dword ptr [ESI + 0x8],XMM2
007f23ed : MOVSS XMM0,dword ptr [EDI]
007f23f1 : ADDSS XMM0,dword ptr [ESI]
007f23f5 : CMP byte ptr [EBP + 0xc],0x0
007f23f9 : ADDSS XMM1,dword ptr [EDI + 0x4]
007f23fe : ADDSS XMM2,dword ptr [EDI + 0x8]
007f2403 : MOVSS dword ptr [ESI],XMM0
007f2407 : MOVSS dword ptr [ESI + 0x4],XMM1
007f240c : MOVSS dword ptr [ESI + 0x8],XMM2
007f2411 : JNZ 0x007f242a
007f2413 : MOVSS XMM0,dword ptr [EDI + 0x4]
007f2418 : ADDSS XMM0,dword ptr [0x00cdf19c]
007f2420 : MOVSS dword ptr [EBX + 0x1b4],XMM0
007f2428 : JMP 0x007f2450
007f242a : MOVSS XMM1,dword ptr [EDI + 0x4]
007f242f : MOVSS XMM0,dword ptr [EBP + 0x10]
007f2434 : ADDSS XMM1,dword ptr [0x00cdf19c]
007f243c : MULSS XMM0,dword ptr [0x00cdf454]
007f2444 : SUBSS XMM1,XMM0
007f2448 : MOVSS dword ptr [EBX + 0x1b4],XMM1
007f2450 : MOV byte ptr [EBX + 0x1e8],0x1
007f2457 : FLD float ptr [ESI]
007f2459 : FSTP float ptr [EBX + 0x24c]
007f245f : FLD float ptr [ESI + 0x4]
007f2462 : FSTP float ptr [EBX + 0x250]
007f2468 : FLD float ptr [ESI + 0x8]
007f246b : POP ESI
007f246c : FSTP float ptr [EBX + 0x254]
007f2472 : FLD float ptr [EBX + 0x1bc]
007f2478 : FSTP float ptr [EBX + 0x258]
007f247e : FLD float ptr [EBX + 0x1c0]
007f2484 : FSTP float ptr [EBX + 0x25c]
007f248a : FLD float ptr [EBX + 0x1c4]
007f2490 : FSTP float ptr [EBX + 0x260]
007f2496 : POP EBX
007f2497 : MOV ESP,EBP
007f2499 : POP EBP
007f249a : RET 0xc
