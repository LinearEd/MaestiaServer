PROGRAM  : Maestia.exe
FUNCTION : FUN_0042ba60
ENTRY    : 0042ba60
BODY     : [[0042ba60, 0042ba99] [0042baa0, 0042bc2e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0042ba60(int param_1,int *param_2,int param_3,int *param_4)

{
  int *piVar1;
  int *piVar2;
  uint uVar3;
  uint uVar4;
  float fVar5;
  float fVar6;
  char cVar7;
  int iVar8;
  ushort *puVar9;
  int iVar10;
  ushort *puVar11;
  uint uVar12;
  int *piVar13;
  int iVar14;
  
  iVar10 = param_3;
  iVar8 = FUN_0044f3f0();
  piVar13 = *(int **)(*(int *)(param_1 + 0x14) + 4 + iVar8 * 4);
  piVar2 = *(int **)(*(int *)(param_1 + 0x14) + iVar8 * 4);
  iVar14 = iVar10;
  if (piVar13 != piVar2) {
    uVar3 = *(uint *)(iVar10 + 0x14);
    do {
      piVar13 = (int *)piVar13[1];
      uVar4 = piVar13[7];
      if ((uint)piVar13[8] < 8) {
        puVar9 = (ushort *)(piVar13 + 3);
      }
      else {
        puVar9 = (ushort *)piVar13[3];
      }
      uVar12 = uVar3;
      if (uVar4 <= uVar3) {
        uVar12 = uVar4;
      }
      if (*(uint *)(iVar10 + 0x18) < 8) {
        puVar11 = (ushort *)(param_3 + 4);
      }
      else {
        puVar11 = *(ushort **)(param_3 + 4);
      }
      for (; uVar12 != 0; uVar12 = uVar12 - 1) {
        if (*puVar11 != *puVar9) {
          uVar12 = (-(uint)(*puVar11 < *puVar9) & 0xfffffffe) + 1;
          if (uVar12 != 0) goto LAB_0042baf8;
          break;
        }
        puVar11 = puVar11 + 1;
        puVar9 = puVar9 + 1;
      }
      if (uVar4 <= uVar3) {
        uVar12 = (uint)(uVar3 != uVar4);
LAB_0042baf8:
        if (-1 < (int)uVar12) {
          cVar7 = FUN_0042be00();
          if (cVar7 == '\0') {
            if (param_4 != *(int **)(param_1 + 8)) {
              FUN_004ce130(&param_3,param_4);
            }
            *param_2 = (int)piVar13;
            *(undefined1 *)(param_2 + 1) = 0;
            return;
          }
          piVar13 = (int *)*piVar13;
          iVar14 = param_3;
          break;
        }
      }
      iVar14 = param_3;
    } while (piVar13 != piVar2);
  }
  if (param_4 == *(int **)(param_1 + 8)) {
    iVar10 = FUN_0042c2a0(piVar13,piVar13[1],iVar14);
    FUN_0044f4f0();
    piVar13[1] = iVar10;
    **(int **)(iVar10 + 4) = iVar10;
    param_4 = (int *)piVar13[1];
  }
  else if (((param_4 != *(int **)(param_1 + 8)) && (piVar13 != param_4)) &&
          (piVar13 != (int *)*param_4)) {
    FUN_0044f440(piVar13,param_4,(int *)*param_4);
  }
  piVar1 = *(int **)(*(int *)(param_1 + 0x14) + iVar8 * 4);
  piVar2 = (int *)(*(int *)(param_1 + 0x14) + iVar8 * 4);
  while ((piVar13 == piVar1 && (*piVar2 = (int)param_4, iVar8 != 0))) {
    iVar8 = iVar8 + -1;
    piVar1 = *(int **)(*(int *)(param_1 + 0x14) + iVar8 * 4);
    piVar2 = (int *)(*(int *)(param_1 + 0x14) + iVar8 * 4);
  }
  fVar5 = (float)*(int *)(param_1 + 0xc);
  if (*(int *)(param_1 + 0xc) < 0) {
    fVar5 = fVar5 + 4.2949673e+09;
  }
  fVar6 = (float)*(int *)(param_1 + 0x24);
  if (*(int *)(param_1 + 0x24) < 0) {
    fVar6 = fVar6 + 4.2949673e+09;
  }
  if (*(float *)(param_1 + 0x28) < fVar5 / fVar6) {
    FUN_0042be40();
  }
  *param_2 = (int)param_4;
  *(undefined1 *)(param_2 + 1) = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0042ba60 : PUSH EBP
0042ba61 : MOV EBP,ESP
0042ba63 : SUB ESP,0x14
0042ba66 : PUSH EBX
0042ba67 : PUSH ESI
0042ba68 : MOV ESI,dword ptr [EBP + 0x8]
0042ba6b : PUSH EDI
0042ba6c : MOV EDI,dword ptr [EBP + 0x10]
0042ba6f : MOV EAX,EDI
0042ba71 : CALL 0x0044f3f0
0042ba76 : MOV ECX,dword ptr [ESI + 0x14]
0042ba79 : MOV EBX,dword ptr [ECX + EAX*0x4 + 0x4]
0042ba7d : MOV dword ptr [EBP + -0x10],EAX
0042ba80 : LEA EAX,[ECX + EAX*0x4]
0042ba83 : MOV EAX,dword ptr [EAX]
0042ba85 : MOV dword ptr [EBP + -0xc],EAX
0042ba88 : CMP EBX,EAX
0042ba8a : JZ 0x0042bb04
0042ba8c : MOV EDX,dword ptr [EDI + 0x14]
0042ba8f : MOV EAX,dword ptr [EDI + 0x18]
0042ba92 : MOV dword ptr [EBP + -0x4],EDX
0042ba95 : MOV dword ptr [EBP + -0x8],EAX
0042ba98 : JMP 0x0042baa3
0042baa0 : MOV EDX,dword ptr [EBP + -0x4]
0042baa3 : MOV EBX,dword ptr [EBX + 0x4]
0042baa6 : CMP dword ptr [EBX + 0x20],0x8
0042baaa : MOV EDI,dword ptr [EBX + 0x1c]
0042baad : JC 0x0042bab4
0042baaf : MOV EAX,dword ptr [EBX + 0xc]
0042bab2 : JMP 0x0042bab7
0042bab4 : LEA EAX,[EBX + 0xc]
0042bab7 : CMP EDX,EDI
0042bab9 : JC 0x0042babd
0042babb : MOV EDX,EDI
0042babd : CMP dword ptr [EBP + -0x8],0x8
0042bac1 : MOV ECX,dword ptr [EBP + 0x10]
0042bac4 : JC 0x0042bacb
0042bac6 : MOV ECX,dword ptr [ECX + 0x4]
0042bac9 : JMP 0x0042bace
0042bacb : ADD ECX,0x4
0042bace : TEST EDX,EDX
0042bad0 : JBE 0x0042bae8
0042bad2 : MOV SI,word ptr [ECX]
0042bad5 : CMP SI,word ptr [EAX]
0042bad8 : JNZ 0x0042bb49
0042bada : ADD ECX,0x2
0042badd : ADD EAX,0x2
0042bae0 : SUB EDX,0x1
0042bae3 : JNZ 0x0042bad2
0042bae5 : MOV ESI,dword ptr [EBP + 0x8]
0042bae8 : MOV EAX,dword ptr [EBP + -0x4]
0042baeb : CMP EAX,EDI
0042baed : JC 0x0042bafc
0042baef : XOR ECX,ECX
0042baf1 : CMP EAX,EDI
0042baf3 : SETNZ CL
0042baf6 : MOV EAX,ECX
0042baf8 : TEST EAX,EAX
0042bafa : JGE 0x0042bb5e
0042bafc : CMP EBX,dword ptr [EBP + -0xc]
0042baff : JNZ 0x0042baa0
0042bb01 : MOV EDI,dword ptr [EBP + 0x10]
0042bb04 : MOV ECX,dword ptr [EBP + 0x14]
0042bb07 : CMP ECX,dword ptr [ESI + 0x8]
0042bb0a : JZ 0x0042bb98
0042bb10 : CMP ECX,dword ptr [ESI + 0x8]
0042bb13 : LEA EDX,[ESI + 0x4]
0042bb16 : JZ 0x0042bbc0
0042bb1c : MOV EAX,dword ptr [ECX]
0042bb1e : CMP EDX,EDX
0042bb20 : JNZ 0x0042bb32
0042bb22 : CMP EBX,ECX
0042bb24 : JZ 0x0042bbc0
0042bb2a : CMP EBX,EAX
0042bb2c : JZ 0x0042bbc0
0042bb32 : PUSH EAX
0042bb33 : PUSH ECX
0042bb34 : PUSH EBX
0042bb35 : MOV EDI,0x1
0042bb3a : MOV ESI,EDX
0042bb3c : CALL 0x0044f440
0042bb41 : MOV ECX,dword ptr [EBP + 0x14]
0042bb44 : MOV ESI,dword ptr [EBP + 0x8]
0042bb47 : JMP 0x0042bbc0
0042bb49 : MOV DX,SI
0042bb4c : CMP DX,word ptr [EAX]
0042bb4f : SBB EAX,EAX
0042bb51 : AND EAX,0xfffffffe
0042bb54 : ADD EAX,0x1
0042bb57 : JZ 0x0042bae5
0042bb59 : MOV ESI,dword ptr [EBP + 0x8]
0042bb5c : JMP 0x0042baf8
0042bb5e : MOV EAX,dword ptr [EBP + 0x10]
0042bb61 : LEA ECX,[EBX + 0x8]
0042bb64 : CALL 0x0042be00
0042bb69 : TEST AL,AL
0042bb6b : JZ 0x0042bb71
0042bb6d : MOV EBX,dword ptr [EBX]
0042bb6f : JMP 0x0042bb01
0042bb71 : MOV EAX,dword ptr [EBP + 0x14]
0042bb74 : CMP EAX,dword ptr [ESI + 0x8]
0042bb77 : JZ 0x0042bb86
0042bb79 : PUSH EAX
0042bb7a : LEA EDX,[EBP + 0x10]
0042bb7d : PUSH EDX
0042bb7e : LEA EDI,[ESI + 0x4]
0042bb81 : CALL 0x004ce130
0042bb86 : MOV EAX,dword ptr [EBP + 0xc]
0042bb89 : MOV dword ptr [EAX],EBX
0042bb8b : MOV byte ptr [EAX + 0x4],0x0
0042bb8f : POP EDI
0042bb90 : POP ESI
0042bb91 : POP EBX
0042bb92 : MOV ESP,EBP
0042bb94 : POP EBP
0042bb95 : RET 0x10
0042bb98 : MOV EAX,dword ptr [EBX + 0x4]
0042bb9b : PUSH EDI
0042bb9c : PUSH EAX
0042bb9d : PUSH EBX
0042bb9e : CALL 0x0042c2a0
0042bba3 : LEA EDX,[ESI + 0x4]
0042bba6 : MOV ECX,0x1
0042bbab : MOV EDI,EAX
0042bbad : CALL 0x0044f4f0
0042bbb2 : MOV dword ptr [EBX + 0x4],EDI
0042bbb5 : MOV ECX,dword ptr [EDI + 0x4]
0042bbb8 : MOV dword ptr [ECX],EDI
0042bbba : MOV ECX,dword ptr [EBX + 0x4]
0042bbbd : MOV dword ptr [EBP + 0x14],ECX
0042bbc0 : MOV EAX,dword ptr [ESI + 0x14]
0042bbc3 : MOV EDX,dword ptr [EBP + -0x10]
0042bbc6 : CMP EBX,dword ptr [EAX + EDX*0x4]
0042bbc9 : LEA EAX,[EAX + EDX*0x4]
0042bbcc : JNZ 0x0042bbe8
0042bbce : JMP 0x0042bbd3
0042bbd0 : MOV ECX,dword ptr [EBP + 0x14]
0042bbd3 : MOV dword ptr [EAX],ECX
0042bbd5 : TEST EDX,EDX
0042bbd7 : JZ 0x0042bbe5
0042bbd9 : MOV ECX,dword ptr [ESI + 0x14]
0042bbdc : DEC EDX
0042bbdd : CMP EBX,dword ptr [ECX + EDX*0x4]
0042bbe0 : LEA EAX,[ECX + EDX*0x4]
0042bbe3 : JZ 0x0042bbd0
0042bbe5 : MOV ECX,dword ptr [EBP + 0x14]
0042bbe8 : MOV EDX,dword ptr [ESI + 0xc]
0042bbeb : FILD dword ptr [ESI + 0xc]
0042bbee : TEST EDX,EDX
0042bbf0 : JGE 0x0042bbf8
0042bbf2 : FADD float ptr [0x00cdf0e0]
0042bbf8 : MOV EAX,dword ptr [ESI + 0x24]
0042bbfb : FILD dword ptr [ESI + 0x24]
0042bbfe : TEST EAX,EAX
0042bc00 : JGE 0x0042bc08
0042bc02 : FADD float ptr [0x00cdf0e0]
0042bc08 : FDIVP
0042bc0a : FLD float ptr [ESI + 0x28]
0042bc0d : FXCH
0042bc0f : FCOMIP ST0,ST1
0042bc11 : FSTP ST0
0042bc13 : JBE 0x0042bc1d
0042bc15 : CALL 0x0042be40
0042bc1a : MOV ECX,dword ptr [EBP + 0x14]
0042bc1d : MOV EAX,dword ptr [EBP + 0xc]
0042bc20 : POP EDI
0042bc21 : POP ESI
0042bc22 : MOV dword ptr [EAX],ECX
0042bc24 : MOV byte ptr [EAX + 0x4],0x1
0042bc28 : POP EBX
0042bc29 : MOV ESP,EBP
0042bc2b : POP EBP
0042bc2c : RET 0x10
