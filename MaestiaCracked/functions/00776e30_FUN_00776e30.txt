PROGRAM  : Maestia.exe
FUNCTION : FUN_00776e30
ENTRY    : 00776e30
BODY     : [[00776e30, 0077704c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00776e30(char param_1)

{
  int *piVar1;
  int iVar2;
  float fVar3;
  char cVar4;
  int *in_EAX;
  int in_ECX;
  float *pfVar5;
  float fVar6;
  uint local_14;
  undefined4 local_10;
  int local_c [2];
  
LAB_00776e40:
  do {
    if ((uint)in_EAX[8] <= (uint)in_EAX[9]) {
LAB_00776fb5:
      if (param_1 != '\0') {
        iVar2 = *(int *)(*(int *)(DAT_017251ac + 0x1a4) + 0xf0);
        if (iVar2 != 0) {
          FUN_007de590(*(undefined4 *)(in_ECX + 0xa64));
          FUN_007de4f0(*(undefined4 *)(in_ECX + 0xa68));
          FUN_007de450(*(undefined4 *)(in_ECX + 0xa6c));
          FUN_007de3b0(*(undefined4 *)(in_ECX + 0xa70));
          FUN_007de350();
          if (*(int *)(iVar2 + 0x9c) == 0) {
            *(undefined4 *)(iVar2 + 0x2c44) = *(undefined4 *)(in_ECX + 0xa78);
            return;
          }
          *(undefined4 *)(*(int *)(iVar2 + 0x9c) + 0xa78) = *(undefined4 *)(in_ECX + 0xa78);
        }
      }
      return;
    }
    cVar4 = (**(code **)(*in_EAX + 0x1c))(&local_14);
    if (cVar4 == '\0') goto LAB_00776fb5;
    if (local_14 < 0x50013) {
      if (local_14 == 0x50012) {
        pfVar5 = (float *)(in_ECX + 0xa6c);
        goto LAB_00776f8f;
      }
      if (local_14 == 0x5000) {
        (**(code **)(*in_EAX + 0xc))(local_c,4,1);
        if (local_c[0] != 0x9090808) {
          FUN_008018d0(L"[AvaTZone::LoadInGameEnv] INVALID MAGIC NUMBER");
          return;
        }
      }
      else {
        if (local_14 == 0x5010) {
          pfVar5 = (float *)(in_ECX + 0xa64);
        }
        else {
          if (local_14 != 0x5011) goto LAB_00776f2b;
          pfVar5 = (float *)(in_ECX + 0xa68);
        }
        (**(code **)(*in_EAX + 0xc))(pfVar5,4,1);
        fVar6 = *pfVar5;
        if ((0.0 <= fVar6) && (fVar3 = 1.0, 1.0 < fVar6)) goto LAB_00776fa9;
        if (0.0 <= fVar6) goto LAB_00776fac;
        *pfVar5 = 0.0;
      }
      goto LAB_00776e40;
    }
    if (local_14 == 0x50013) {
      pfVar5 = (float *)(in_ECX + 0xa70);
LAB_00776f8f:
      (**(code **)(*in_EAX + 0xc))(pfVar5,4,1);
      fVar6 = *pfVar5;
      fVar3 = 0.0;
      if (fVar6 < 0.0) {
LAB_00776fa9:
        fVar6 = fVar3;
      }
LAB_00776fac:
      *pfVar5 = fVar6;
    }
    else if (local_14 == 0x50014) {
      piVar1 = (int *)(in_ECX + 0xa74);
      (**(code **)(*in_EAX + 0xc))(piVar1,4,1);
      if (*piVar1 < 0) {
        *piVar1 = 0;
      }
      if (0xb < *piVar1) {
        *piVar1 = 0xb;
      }
    }
    else if (local_14 == 0x50015) {
      (**(code **)(*in_EAX + 0xc))(in_ECX + 0xa78,4,1);
    }
    else {
LAB_00776f2b:
      (**(code **)(*in_EAX + 0x24))(local_10);
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00776e30 : PUSH EBP
00776e31 : MOV EBP,ESP
00776e33 : SUB ESP,0x10
00776e36 : PUSH EBX
00776e37 : PUSH ESI
00776e38 : PUSH EDI
00776e39 : MOV ESI,EAX
00776e3b : MOV EDI,ECX
00776e3d : LEA ECX,[ECX]
00776e40 : MOV EAX,dword ptr [ESI + 0x24]
00776e43 : CMP EAX,dword ptr [ESI + 0x20]
00776e46 : JNC 0x00776fb5
00776e4c : MOV EDX,dword ptr [ESI]
00776e4e : MOV EDX,dword ptr [EDX + 0x1c]
00776e51 : LEA EAX,[EBP + -0x10]
00776e54 : PUSH EAX
00776e55 : MOV ECX,ESI
00776e57 : CALL EDX
00776e59 : TEST AL,AL
00776e5b : JZ 0x00776fb5
00776e61 : MOV EAX,dword ptr [EBP + -0x10]
00776e64 : CMP EAX,0x50012
00776e69 : JA 0x00776f1a
00776e6f : JZ 0x00776f12
00776e75 : SUB EAX,0x5000
00776e7a : JZ 0x00776ed8
00776e7c : SUB EAX,0x10
00776e7f : JZ 0x00776e92
00776e81 : SUB EAX,0x1
00776e84 : JNZ 0x00776f2b
00776e8a : LEA EBX,[EDI + 0xa68]
00776e90 : JMP 0x00776e98
00776e92 : LEA EBX,[EDI + 0xa64]
00776e98 : MOV EAX,dword ptr [ESI]
00776e9a : MOV EDX,dword ptr [EAX + 0xc]
00776e9d : PUSH 0x1
00776e9f : PUSH 0x4
00776ea1 : PUSH EBX
00776ea2 : MOV ECX,ESI
00776ea4 : CALL EDX
00776ea6 : MOVSS XMM0,dword ptr [EBX]
00776eaa : XORPS XMM2,XMM2
00776ead : COMISS XMM2,XMM0
00776eb0 : JA 0x00776ec3
00776eb2 : MOVSS XMM1,dword ptr [0x00c10fc4]
00776eba : COMISS XMM0,XMM1
00776ebd : JA 0x00776fa9
00776ec3 : COMISS XMM2,XMM0
00776ec6 : JBE 0x00776fac
00776ecc : MOVAPS XMM0,XMM2
00776ecf : MOVSS dword ptr [EBX],XMM0
00776ed3 : JMP 0x00776e40
00776ed8 : MOV EAX,dword ptr [ESI]
00776eda : MOV EDX,dword ptr [EAX + 0xc]
00776edd : PUSH 0x1
00776edf : PUSH 0x4
00776ee1 : LEA ECX,[EBP + -0x8]
00776ee4 : PUSH ECX
00776ee5 : MOV ECX,ESI
00776ee7 : CALL EDX
00776ee9 : CMP dword ptr [EBP + -0x8],0x9090808
00776ef0 : JZ 0x00776e40
00776ef6 : MOV ESI,dword ptr [0x00da98e8]
00776efc : PUSH 0xc0fda8
00776f01 : CALL 0x008018d0
00776f06 : ADD ESP,0x4
00776f09 : POP EDI
00776f0a : POP ESI
00776f0b : POP EBX
00776f0c : MOV ESP,EBP
00776f0e : POP EBP
00776f0f : RET 0x4
00776f12 : LEA EBX,[EDI + 0xa6c]
00776f18 : JMP 0x00776f8f
00776f1a : SUB EAX,0x50013
00776f1f : JZ 0x00776f89
00776f21 : SUB EAX,0x1
00776f24 : JZ 0x00776f56
00776f26 : SUB EAX,0x1
00776f29 : JZ 0x00776f3d
00776f2b : MOV ECX,dword ptr [EBP + -0xc]
00776f2e : MOV EAX,dword ptr [ESI]
00776f30 : MOV EDX,dword ptr [EAX + 0x24]
00776f33 : PUSH ECX
00776f34 : MOV ECX,ESI
00776f36 : CALL EDX
00776f38 : JMP 0x00776e40
00776f3d : MOV EAX,dword ptr [ESI]
00776f3f : MOV EDX,dword ptr [EAX + 0xc]
00776f42 : PUSH 0x1
00776f44 : PUSH 0x4
00776f46 : LEA ECX,[EDI + 0xa78]
00776f4c : PUSH ECX
00776f4d : MOV ECX,ESI
00776f4f : CALL EDX
00776f51 : JMP 0x00776e40
00776f56 : MOV EAX,dword ptr [ESI]
00776f58 : MOV EDX,dword ptr [EAX + 0xc]
00776f5b : PUSH 0x1
00776f5d : PUSH 0x4
00776f5f : LEA EBX,[EDI + 0xa74]
00776f65 : PUSH EBX
00776f66 : MOV ECX,ESI
00776f68 : CALL EDX
00776f6a : CMP dword ptr [EBX],0x0
00776f6d : JGE 0x00776f75
00776f6f : MOV dword ptr [EBX],0x0
00776f75 : CMP dword ptr [EBX],0xb
00776f78 : JLE 0x00776e40
00776f7e : MOV dword ptr [EBX],0xb
00776f84 : JMP 0x00776e40
00776f89 : LEA EBX,[EDI + 0xa70]
00776f8f : MOV EAX,dword ptr [ESI]
00776f91 : MOV EDX,dword ptr [EAX + 0xc]
00776f94 : PUSH 0x1
00776f96 : PUSH 0x4
00776f98 : PUSH EBX
00776f99 : MOV ECX,ESI
00776f9b : CALL EDX
00776f9d : MOVSS XMM0,dword ptr [EBX]
00776fa1 : XORPS XMM1,XMM1
00776fa4 : COMISS XMM1,XMM0
00776fa7 : JBE 0x00776fac
00776fa9 : MOVAPS XMM0,XMM1
00776fac : MOVSS dword ptr [EBX],XMM0
00776fb0 : JMP 0x00776e40
00776fb5 : CMP byte ptr [EBP + 0x8],0x0
00776fb9 : JZ 0x00777044
00776fbf : MOV EAX,[0x017251ac]
00776fc4 : MOV ECX,dword ptr [EAX + 0x1a4]
00776fca : MOV ESI,dword ptr [ECX + 0xf0]
00776fd0 : TEST ESI,ESI
00776fd2 : JZ 0x00777044
00776fd4 : FLD float ptr [EDI + 0xa64]
00776fda : PUSH ECX
00776fdb : MOV ECX,ESI
00776fdd : FSTP float ptr [ESP]
00776fe0 : CALL 0x007de590
00776fe5 : FLD float ptr [EDI + 0xa68]
00776feb : PUSH ECX
00776fec : FSTP float ptr [ESP]
00776fef : CALL 0x007de4f0
00776ff4 : FLD float ptr [EDI + 0xa6c]
00776ffa : PUSH ECX
00776ffb : FSTP float ptr [ESP]
00776ffe : CALL 0x007de450
00777003 : FLD float ptr [EDI + 0xa70]
00777009 : PUSH ECX
0077700a : FSTP float ptr [ESP]
0077700d : CALL 0x007de3b0
00777012 : MOV EAX,dword ptr [EDI + 0xa74]
00777018 : MOV EDX,ESI
0077701a : CALL 0x007de350
0077701f : MOV EAX,dword ptr [ESI + 0x9c]
00777025 : MOV EDI,dword ptr [EDI + 0xa78]
0077702b : TEST EAX,EAX
0077702d : JNZ 0x0077703e
0077702f : MOV dword ptr [ESI + 0x2c44],EDI
00777035 : POP EDI
00777036 : POP ESI
00777037 : POP EBX
00777038 : MOV ESP,EBP
0077703a : POP EBP
0077703b : RET 0x4
0077703e : MOV dword ptr [EAX + 0xa78],EDI
00777044 : POP EDI
00777045 : POP ESI
00777046 : POP EBX
00777047 : MOV ESP,EBP
00777049 : POP EBP
0077704a : RET 0x4
