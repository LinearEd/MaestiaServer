PROGRAM  : Maestia.exe
FUNCTION : FUN_00854c00
ENTRY    : 00854c00
BODY     : [[00854c00, 00854ce6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00854c00(int param_1)

{
  int *piVar1;
  int in_ECX;
  int unaff_ESI;
  
  if (param_1 == 0) {
    FUN_00484470((undefined4 *)(unaff_ESI + 0x1ae4));
    if ((*(int *)(unaff_ESI + 0x1aec) != 0) && (piRam00000010 != (int *)0x0)) {
      (**(code **)(*piRam00000010 + 0x24))();
      (**(code **)(*piRam00000010 + 0x18))();
    }
    *(undefined4 *)(unaff_ESI + 0x1ae4) = 0;
    return;
  }
  piVar1 = (int *)(unaff_ESI + 0x1ae4);
  if (*(int *)(unaff_ESI + 0x1ae4) != 0) {
    FUN_00484470(piVar1);
    if ((in_ECX != *(int *)(unaff_ESI + 0x1aec)) && (*(int **)(in_ECX + 0x10) != (int *)0x0)) {
      (**(code **)(**(int **)(in_ECX + 0x10) + 0x24))();
      (**(code **)(**(int **)(in_ECX + 0x10) + 0x18))();
    }
  }
  *piVar1 = param_1;
  FUN_00484470(piVar1);
  if (param_1 == *(int *)(unaff_ESI + 0x1aec)) {
    *piVar1 = 0;
  }
  else if (*(int **)(param_1 + 0x10) != (int *)0x0) {
    (**(code **)(**(int **)(param_1 + 0x10) + 0x14))(*(undefined4 *)(unaff_ESI + 0x1af4));
    (**(code **)(**(int **)(param_1 + 0x10) + 0x20))();
    return;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00854c00 : PUSH EBP
00854c01 : MOV EBP,ESP
00854c03 : PUSH ECX
00854c04 : CMP dword ptr [EBP + 0x8],0x0
00854c08 : PUSH EBX
00854c09 : PUSH EDI
00854c0a : JNZ 0x00854c52
00854c0c : LEA EBX,[ESI + 0x1ae4]
00854c12 : PUSH EBX
00854c13 : LEA ECX,[ESI + 0x1ae8]
00854c19 : LEA EAX,[EBP + 0x8]
00854c1c : CALL 0x00484470
00854c21 : MOV EDI,dword ptr [EBP + 0x8]
00854c24 : CMP EDI,dword ptr [ESI + 0x1aec]
00854c2a : JZ 0x00854c44
00854c2c : MOV ECX,dword ptr [EDI + 0x10]
00854c2f : TEST ECX,ECX
00854c31 : JZ 0x00854c44
00854c33 : MOV EAX,dword ptr [ECX]
00854c35 : MOV EDX,dword ptr [EAX + 0x24]
00854c38 : CALL EDX
00854c3a : MOV ECX,dword ptr [EDI + 0x10]
00854c3d : MOV EAX,dword ptr [ECX]
00854c3f : MOV EDX,dword ptr [EAX + 0x18]
00854c42 : CALL EDX
00854c44 : POP EDI
00854c45 : MOV dword ptr [EBX],0x0
00854c4b : POP EBX
00854c4c : MOV ESP,EBP
00854c4e : POP EBP
00854c4f : RET 0x4
00854c52 : CMP dword ptr [ESI + 0x1ae4],0x0
00854c59 : LEA EDI,[ESI + 0x1ae4]
00854c5f : JZ 0x00854c93
00854c61 : PUSH EDI
00854c62 : LEA ECX,[ESI + 0x1ae8]
00854c68 : LEA EAX,[EBP + -0x4]
00854c6b : CALL 0x00484470
00854c70 : MOV EBX,dword ptr [EBP + -0x4]
00854c73 : CMP EBX,dword ptr [ESI + 0x1aec]
00854c79 : JZ 0x00854c93
00854c7b : MOV ECX,dword ptr [EBX + 0x10]
00854c7e : TEST ECX,ECX
00854c80 : JZ 0x00854c93
00854c82 : MOV EAX,dword ptr [ECX]
00854c84 : MOV EDX,dword ptr [EAX + 0x24]
00854c87 : CALL EDX
00854c89 : MOV ECX,dword ptr [EBX + 0x10]
00854c8c : MOV EAX,dword ptr [ECX]
00854c8e : MOV EDX,dword ptr [EAX + 0x18]
00854c91 : CALL EDX
00854c93 : MOV EAX,dword ptr [EBP + 0x8]
00854c96 : MOV dword ptr [EDI],EAX
00854c98 : PUSH EDI
00854c99 : LEA ECX,[ESI + 0x1ae8]
00854c9f : LEA EAX,[EBP + 0x8]
00854ca2 : CALL 0x00484470
00854ca7 : MOV EBX,dword ptr [EBP + 0x8]
00854caa : CMP EBX,dword ptr [ESI + 0x1aec]
00854cb0 : JZ 0x00854cd9
00854cb2 : MOV ECX,dword ptr [EBX + 0x10]
00854cb5 : TEST ECX,ECX
00854cb7 : JZ 0x00854cdf
00854cb9 : MOV EDX,dword ptr [ECX]
00854cbb : MOV EAX,dword ptr [ESI + 0x1af4]
00854cc1 : MOV EDX,dword ptr [EDX + 0x14]
00854cc4 : PUSH EAX
00854cc5 : CALL EDX
00854cc7 : MOV ECX,dword ptr [EBX + 0x10]
00854cca : MOV EAX,dword ptr [ECX]
00854ccc : MOV EDX,dword ptr [EAX + 0x20]
00854ccf : CALL EDX
00854cd1 : POP EDI
00854cd2 : POP EBX
00854cd3 : MOV ESP,EBP
00854cd5 : POP EBP
00854cd6 : RET 0x4
00854cd9 : MOV dword ptr [EDI],0x0
00854cdf : POP EDI
00854ce0 : POP EBX
00854ce1 : MOV ESP,EBP
00854ce3 : POP EBP
00854ce4 : RET 0x4
