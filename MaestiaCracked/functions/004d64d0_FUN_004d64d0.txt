PROGRAM  : Maestia.exe
FUNCTION : FUN_004d64d0
ENTRY    : 004d64d0
BODY     : [[004d64d0, 004d6519] [004d6520, 004d65ae]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_004d64d0(undefined4 *param_1,undefined4 param_2,short *param_3,undefined4 param_4)

{
  short sVar1;
  short *psVar2;
  short *in_EDX;
  void *local_c;
  undefined1 *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00b79c81;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  *param_1 = 5;
  param_1[7] = 7;
  param_1[6] = 0;
  *(undefined2 *)(param_1 + 2) = 0;
  psVar2 = in_EDX;
  do {
    sVar1 = *psVar2;
    psVar2 = psVar2 + 1;
  } while (sVar1 != 0);
  FUN_00406360(in_EDX,(int)psVar2 - (int)(in_EDX + 1) >> 1);
  local_4 = 0;
  param_1[0xe] = 7;
  param_1[0xd] = 0;
  *(undefined2 *)(param_1 + 9) = 0;
  psVar2 = param_3;
  do {
    sVar1 = *psVar2;
    psVar2 = psVar2 + 1;
  } while (sVar1 != 0);
  FUN_00406360(param_3,(int)psVar2 - (int)(param_3 + 1) >> 1);
  param_1[0xf] = param_4;
  param_1[0x10] = param_2;
  param_1[0x18] = 7;
  param_1[0x17] = 0;
  *(undefined2 *)(param_1 + 0x13) = 0;
  ExceptionList = local_c;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
004d64d0 : PUSH -0x1
004d64d2 : PUSH 0xb79c81
004d64d7 : MOV EAX,FS:[0x0]
004d64dd : PUSH EAX
004d64de : PUSH EBX
004d64df : PUSH EBP
004d64e0 : PUSH ESI
004d64e1 : PUSH EDI
004d64e2 : MOV EAX,[0x00d66fa0]
004d64e7 : XOR EAX,ESP
004d64e9 : PUSH EAX
004d64ea : LEA EAX,[ESP + 0x14]
004d64ee : MOV FS:[0x0],EAX
004d64f4 : MOV ESI,dword ptr [ESP + 0x24]
004d64f8 : LEA ECX,[ESI + 0x4]
004d64fb : MOV dword ptr [ESI],0x5
004d6501 : XOR EDI,EDI
004d6503 : XOR EAX,EAX
004d6505 : MOV dword ptr [ECX + 0x18],0x7
004d650c : MOV dword ptr [ECX + 0x14],EDI
004d650f : MOV word ptr [ECX + 0x4],AX
004d6513 : MOV EAX,EDX
004d6515 : LEA EBX,[EAX + 0x2]
004d6518 : JMP 0x004d6520
004d6520 : MOV BP,word ptr [EAX]
004d6523 : ADD EAX,0x2
004d6526 : CMP BP,DI
004d6529 : JNZ 0x004d6520
004d652b : SUB EAX,EBX
004d652d : SAR EAX,0x1
004d652f : PUSH EAX
004d6530 : PUSH EDX
004d6531 : CALL 0x00406360
004d6536 : MOV EBP,dword ptr [ESP + 0x2c]
004d653a : LEA ECX,[ESI + 0x20]
004d653d : MOV dword ptr [ESP + 0x1c],EDI
004d6541 : XOR EDX,EDX
004d6543 : MOV dword ptr [ECX + 0x18],0x7
004d654a : MOV dword ptr [ECX + 0x14],EDI
004d654d : MOV EAX,EBP
004d654f : MOV word ptr [ECX + 0x4],DX
004d6553 : LEA EDX,[EAX + 0x2]
004d6556 : MOV BX,word ptr [EAX]
004d6559 : ADD EAX,0x2
004d655c : CMP BX,DI
004d655f : JNZ 0x004d6556
004d6561 : SUB EAX,EDX
004d6563 : SAR EAX,0x1
004d6565 : PUSH EAX
004d6566 : PUSH EBP
004d6567 : CALL 0x00406360
004d656c : MOV EAX,dword ptr [ESP + 0x30]
004d6570 : MOV ECX,dword ptr [ESP + 0x28]
004d6574 : MOV byte ptr [ESP + 0x1c],0x1
004d6579 : MOV dword ptr [ESI + 0x3c],EAX
004d657c : MOV dword ptr [ESI + 0x40],ECX
004d657f : XOR EDX,EDX
004d6581 : MOV dword ptr [ESI + 0x60],0x7
004d6588 : MOV dword ptr [ESI + 0x5c],EDI
004d658b : MOV word ptr [ESI + 0x4c],DX
004d658f : MOV dword ptr [ESP + 0x1c],0xffffffff
004d6597 : MOV EAX,ESI
004d6599 : MOV ECX,dword ptr [ESP + 0x14]
004d659d : MOV dword ptr FS:[0x0],ECX
004d65a4 : POP ECX
004d65a5 : POP EDI
004d65a6 : POP ESI
004d65a7 : POP EBP
004d65a8 : POP EBX
004d65a9 : ADD ESP,0xc
004d65ac : RET 0x10
