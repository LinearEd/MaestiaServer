PROGRAM  : Maestia.exe
FUNCTION : FUN_0052f700
ENTRY    : 0052f700
BODY     : [[0052f700, 0052f7c9] [0052f7d0, 0052f82b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0052f700(undefined4 param_1,uint *param_2,uint param_3)

{
  uint *puVar1;
  uint *puVar2;
  uint *puVar3;
  int *piVar4;
  int iVar5;
  int *in_ECX;
  uint uVar6;
  uint uVar7;
  uint *puVar8;
  
  FUN_005312e0(param_1);
  piVar4 = (int *)*in_ECX;
  param_3 = param_3 & piVar4[1];
  *piVar4 = *piVar4 + 1;
  iVar5 = *in_ECX;
  puVar1 = (uint *)(iVar5 + 8 + param_3 * 0x14);
  if (*puVar1 == 0xfffffffe) {
    *puVar1 = 0xffffffff;
    FUN_0052e9a0(param_2);
    return;
  }
  uVar7 = param_3;
  do {
    uVar7 = uVar7 + 1 & *(uint *)(iVar5 + 4);
  } while (*(int *)(iVar5 + 8 + uVar7 * 0x14) != -2);
  puVar2 = (uint *)(iVar5 + 8 + uVar7 * 0x14);
  puVar8 = puVar1 + 1;
  uVar6 = *(uint *)(puVar1[1] + 0xc) & *(uint *)(iVar5 + 4);
  if (uVar6 == param_3) {
    if (puVar2 != (uint *)0x0) {
      *puVar2 = *puVar1;
      FUN_0052e9a0(puVar8);
    }
    uVar6 = *param_2;
    piVar4 = (int *)(uVar6 + 8);
    *piVar4 = *piVar4 + 1;
    piVar4 = (int *)(*puVar8 + 8);
    *piVar4 = *piVar4 + -1;
    if (*piVar4 == 0) {
      FUN_00525340();
    }
    *puVar8 = uVar6;
    FUN_00568a50(param_2 + 1);
    *puVar1 = uVar7;
    return;
  }
  puVar3 = (uint *)(iVar5 + 8 + uVar6 * 0x14);
  for (uVar6 = *(uint *)(iVar5 + 8 + uVar6 * 0x14); uVar6 != param_3;
      uVar6 = *(uint *)(iVar5 + 8 + uVar6 * 0x14)) {
    uVar6 = *puVar3;
    puVar3 = (uint *)(iVar5 + 8 + uVar6 * 0x14);
  }
  if (puVar2 != (uint *)0x0) {
    *puVar2 = *puVar1;
    FUN_0052e9a0(puVar8);
  }
  *puVar3 = uVar7;
  uVar7 = *param_2;
  piVar4 = (int *)(uVar7 + 8);
  *piVar4 = *piVar4 + 1;
  piVar4 = (int *)(*puVar8 + 8);
  *piVar4 = *piVar4 + -1;
  if (*piVar4 == 0) {
    FUN_00525340();
  }
  *puVar8 = uVar7;
  FUN_00568a50(param_2 + 1);
  *puVar1 = 0xffffffff;
  return;
}



============================================================
DISASSEMBLY
============================================================
0052f700 : MOV EAX,dword ptr [ESP + 0x4]
0052f704 : PUSH EBP
0052f705 : PUSH ESI
0052f706 : PUSH EDI
0052f707 : PUSH EAX
0052f708 : MOV ESI,ECX
0052f70a : CALL 0x005312e0
0052f70f : MOV ECX,dword ptr [ESI]
0052f711 : MOV EAX,dword ptr [ESP + 0x18]
0052f715 : AND EAX,dword ptr [ECX + 0x4]
0052f718 : INC dword ptr [ECX]
0052f71a : MOV ECX,dword ptr [ESI]
0052f71c : LEA EDX,[EAX + EAX*0x4]
0052f71f : LEA EDI,[ECX + EDX*0x4 + 0x8]
0052f723 : MOV EDX,dword ptr [EDI]
0052f725 : MOV EBP,0xfffffffe
0052f72a : MOV dword ptr [ESP + 0x10],EDI
0052f72e : CMP EDX,EBP
0052f730 : JNZ 0x0052f74b
0052f732 : MOV EAX,dword ptr [ESP + 0x14]
0052f736 : PUSH EAX
0052f737 : LEA ECX,[EDI + 0x4]
0052f73a : MOV dword ptr [EDI],0xffffffff
0052f740 : CALL 0x0052e9a0
0052f745 : POP EDI
0052f746 : POP ESI
0052f747 : POP EBP
0052f748 : RET 0xc
0052f74b : PUSH EBX
0052f74c : MOV EBX,dword ptr [ECX + 0x4]
0052f74f : MOV ESI,EAX
0052f751 : INC ESI
0052f752 : AND ESI,EBX
0052f754 : LEA EDX,[ESI + ESI*0x4]
0052f757 : CMP dword ptr [ECX + EDX*0x4 + 0x8],EBP
0052f75b : JNZ 0x0052f751
0052f75d : LEA EDX,[ESI + ESI*0x4]
0052f760 : LEA EBP,[ECX + EDX*0x4 + 0x8]
0052f764 : MOV EDX,dword ptr [EDI + 0x4]
0052f767 : MOV EDX,dword ptr [EDX + 0xc]
0052f76a : ADD EDI,0x4
0052f76d : AND EDX,EBX
0052f76f : CMP EDX,EAX
0052f771 : JNZ 0x0052f7bb
0052f773 : TEST EBP,EBP
0052f775 : JZ 0x0052f789
0052f777 : MOV EAX,dword ptr [ESP + 0x14]
0052f77b : MOV EAX,dword ptr [EAX]
0052f77d : PUSH EDI
0052f77e : LEA ECX,[EBP + 0x4]
0052f781 : MOV dword ptr [EBP],EAX
0052f784 : CALL 0x0052e9a0
0052f789 : MOV EBP,dword ptr [ESP + 0x18]
0052f78d : MOV EBX,dword ptr [EBP]
0052f790 : INC dword ptr [EBX + 0x8]
0052f793 : MOV ECX,dword ptr [EDI]
0052f795 : ADD dword ptr [ECX + 0x8],-0x1
0052f799 : JNZ 0x0052f7a0
0052f79b : CALL 0x00525340
0052f7a0 : ADD EBP,0x4
0052f7a3 : PUSH EBP
0052f7a4 : LEA ECX,[EDI + 0x4]
0052f7a7 : MOV dword ptr [EDI],EBX
0052f7a9 : CALL 0x00568a50
0052f7ae : MOV ECX,dword ptr [ESP + 0x14]
0052f7b2 : POP EBX
0052f7b3 : POP EDI
0052f7b4 : MOV dword ptr [ECX],ESI
0052f7b6 : POP ESI
0052f7b7 : POP EBP
0052f7b8 : RET 0xc
0052f7bb : LEA EDX,[EDX + EDX*0x4]
0052f7be : CMP dword ptr [ECX + EDX*0x4 + 0x8],EAX
0052f7c2 : LEA EBX,[ECX + EDX*0x4 + 0x8]
0052f7c6 : JZ 0x0052f7df
0052f7c8 : JMP 0x0052f7d0
0052f7d0 : MOV EBX,dword ptr [EBX]
0052f7d2 : LEA EDX,[EBX + EBX*0x4]
0052f7d5 : CMP dword ptr [ECX + EDX*0x4 + 0x8],EAX
0052f7d9 : LEA EBX,[ECX + EDX*0x4 + 0x8]
0052f7dd : JNZ 0x0052f7d0
0052f7df : TEST EBP,EBP
0052f7e1 : JZ 0x0052f7f5
0052f7e3 : MOV EAX,dword ptr [ESP + 0x14]
0052f7e7 : MOV EAX,dword ptr [EAX]
0052f7e9 : PUSH EDI
0052f7ea : LEA ECX,[EBP + 0x4]
0052f7ed : MOV dword ptr [EBP],EAX
0052f7f0 : CALL 0x0052e9a0
0052f7f5 : MOV dword ptr [EBX],ESI
0052f7f7 : MOV EBX,dword ptr [ESP + 0x18]
0052f7fb : MOV ESI,dword ptr [EBX]
0052f7fd : INC dword ptr [ESI + 0x8]
0052f800 : MOV ECX,dword ptr [EDI]
0052f802 : ADD dword ptr [ECX + 0x8],-0x1
0052f806 : JNZ 0x0052f80d
0052f808 : CALL 0x00525340
0052f80d : ADD EBX,0x4
0052f810 : PUSH EBX
0052f811 : LEA ECX,[EDI + 0x4]
0052f814 : MOV dword ptr [EDI],ESI
0052f816 : CALL 0x00568a50
0052f81b : MOV ECX,dword ptr [ESP + 0x14]
0052f81f : POP EBX
0052f820 : POP EDI
0052f821 : POP ESI
0052f822 : MOV dword ptr [ECX],0xffffffff
0052f828 : POP EBP
0052f829 : RET 0xc
