PROGRAM  : Maestia.exe
FUNCTION : FUN_004d3760
ENTRY    : 004d3760
BODY     : [[004d3760, 004d37ca]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004d3760(undefined4 param_1,undefined4 *param_2,undefined4 param_3,int *param_4,
                 byte *param_5,int param_6)

{
  byte bVar1;
  int *piVar2;
  byte *pbVar3;
  uint uVar4;
  
  do {
    if (param_6 == 0) {
      *param_2 = param_3;
      param_2[1] = param_4;
      return;
    }
    if (param_4 == (int *)0x0) {
LAB_004d37b1:
      uVar4 = (uint)param_3 >> 8;
      param_3 = CONCAT31((int3)uVar4,1);
    }
    else {
      bVar1 = *param_5;
      if ((*(int *)param_4[9] == 0) || (piVar2 = (int *)param_4[0xd], *piVar2 < 1)) {
        uVar4 = (**(code **)(*param_4 + 4))(bVar1);
      }
      else {
        *piVar2 = *piVar2 + -1;
        pbVar3 = *(byte **)param_4[9];
        *(byte **)param_4[9] = pbVar3 + 1;
        *pbVar3 = bVar1;
        uVar4 = (uint)bVar1;
      }
      if (uVar4 == 0xffffffff) goto LAB_004d37b1;
    }
    param_6 = param_6 + -1;
    param_5 = param_5 + 1;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
004d3760 : PUSH EBP
004d3761 : MOV EBP,ESP
004d3763 : MOV ECX,dword ptr [EBP + 0x14]
004d3766 : PUSH EBX
004d3767 : MOV EBX,dword ptr [EBP + 0x1c]
004d376a : TEST EBX,EBX
004d376c : JBE 0x004d37bd
004d376e : PUSH ESI
004d376f : PUSH EDI
004d3770 : MOV EDI,dword ptr [EBP + 0x18]
004d3773 : TEST ECX,ECX
004d3775 : JZ 0x004d37b1
004d3777 : MOV EAX,dword ptr [ECX + 0x24]
004d377a : CMP dword ptr [EAX],0x0
004d377d : MOV DL,byte ptr [EDI]
004d377f : LEA ESI,[ECX + 0x24]
004d3782 : JZ 0x004d379e
004d3784 : MOV EAX,dword ptr [ECX + 0x34]
004d3787 : CMP dword ptr [EAX],0x0
004d378a : JLE 0x004d379e
004d378c : DEC dword ptr [EAX]
004d378e : MOV EAX,dword ptr [ESI]
004d3790 : MOV ECX,dword ptr [EAX]
004d3792 : LEA ESI,[ECX + 0x1]
004d3795 : MOV dword ptr [EAX],ESI
004d3797 : MOV byte ptr [ECX],DL
004d3799 : MOVZX EAX,DL
004d379c : JMP 0x004d37a9
004d379e : MOV EAX,dword ptr [ECX]
004d37a0 : MOV EAX,dword ptr [EAX + 0x4]
004d37a3 : MOVZX EDX,DL
004d37a6 : PUSH EDX
004d37a7 : CALL EAX
004d37a9 : MOV ECX,dword ptr [EBP + 0x14]
004d37ac : CMP EAX,-0x1
004d37af : JNZ 0x004d37b5
004d37b1 : MOV byte ptr [EBP + 0x10],0x1
004d37b5 : DEC EBX
004d37b6 : INC EDI
004d37b7 : TEST EBX,EBX
004d37b9 : JA 0x004d3773
004d37bb : POP EDI
004d37bc : POP ESI
004d37bd : MOV EAX,dword ptr [EBP + 0xc]
004d37c0 : MOV EDX,dword ptr [EBP + 0x10]
004d37c3 : MOV dword ptr [EAX],EDX
004d37c5 : MOV dword ptr [EAX + 0x4],ECX
004d37c8 : POP EBX
004d37c9 : POP EBP
004d37ca : RET
