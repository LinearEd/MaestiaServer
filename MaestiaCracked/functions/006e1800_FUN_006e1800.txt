PROGRAM  : Maestia.exe
FUNCTION : FUN_006e1800
ENTRY    : 006e1800
BODY     : [[006e1800, 006e182a] [006e1830, 006e1941]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006e1800(undefined4 param_1,int param_2,int param_3,int param_4)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  char cVar4;
  int *piVar5;
  int local_4;
  
  if (param_4 <= param_3) {
    return param_3;
  }
  local_4 = param_3 * 2;
  piVar5 = (int *)(param_3 * 0x20 + 0xc + param_2);
  do {
    if (param_4 < local_4) {
      piVar1 = (int *)FUN_006e1400();
    }
    else {
      piVar1 = (int *)FUN_006e13d0();
    }
    if (piVar1 == (int *)0x0) {
      return param_3;
    }
    piVar5[-2] = piVar1[1];
    *piVar5 = piVar1[3];
    piVar5[2] = piVar1[5];
    piVar5[-3] = *piVar1;
    piVar5[-1] = piVar1[2];
    piVar5[1] = piVar1[4];
    iVar2 = (piVar1[1] - *piVar1) * 0x10;
    iVar3 = (piVar1[3] - piVar1[2]) * 0xc;
    cVar4 = iVar2 <= iVar3;
    if (!(bool)cVar4) {
      iVar3 = iVar2;
    }
    if (iVar3 < (piVar1[5] - piVar1[4]) * 8) {
      cVar4 = '\x02';
    }
    if (cVar4 == '\0') {
      iVar3 = (piVar1[1] + *piVar1) / 2;
      piVar1[1] = iVar3;
      piVar5[-3] = iVar3 + 1;
    }
    else if (cVar4 == '\x01') {
      iVar3 = (piVar1[3] + piVar1[2]) / 2;
      piVar1[3] = iVar3;
      piVar5[-1] = iVar3 + 1;
    }
    else if (cVar4 == '\x02') {
      iVar3 = (piVar1[5] + piVar1[4]) / 2;
      piVar1[5] = iVar3;
      piVar5[1] = iVar3 + 1;
    }
    FUN_006e1430(piVar1);
    FUN_006e1430(piVar5 + -3);
    local_4 = local_4 + 2;
    param_3 = param_3 + 1;
    piVar5 = piVar5 + 8;
  } while (param_3 < param_4);
  return param_3;
}



============================================================
DISASSEMBLY
============================================================
006e1800 : PUSH ECX
006e1801 : MOV EAX,dword ptr [ESP + 0x14]
006e1805 : MOV ECX,dword ptr [ESP + 0xc]
006e1809 : PUSH EDI
006e180a : MOV EDI,dword ptr [ESP + 0x14]
006e180e : CMP EDI,EAX
006e1810 : JGE 0x006e193d
006e1816 : LEA EDX,[EDI + EDI*0x1]
006e1819 : PUSH EBX
006e181a : MOV dword ptr [ESP + 0x8],EDX
006e181e : MOV EDX,EDI
006e1820 : PUSH EBP
006e1821 : SHL EDX,0x5
006e1824 : PUSH ESI
006e1825 : LEA ESI,[EDX + ECX*0x1 + 0xc]
006e1829 : JMP 0x006e1834
006e1830 : MOV ECX,dword ptr [ESP + 0x1c]
006e1834 : CMP dword ptr [ESP + 0x10],EAX
006e1838 : MOV EDX,EDI
006e183a : JG 0x006e1843
006e183c : CALL 0x006e13d0
006e1841 : JMP 0x006e1848
006e1843 : CALL 0x006e1400
006e1848 : MOV ECX,EAX
006e184a : TEST ECX,ECX
006e184c : JZ 0x006e1935
006e1852 : MOV EAX,dword ptr [ECX + 0x4]
006e1855 : MOV dword ptr [ESI + -0x8],EAX
006e1858 : MOV EDX,dword ptr [ECX + 0xc]
006e185b : MOV dword ptr [ESI],EDX
006e185d : MOV EAX,dword ptr [ECX + 0x14]
006e1860 : MOV dword ptr [ESI + 0x8],EAX
006e1863 : MOV EDX,dword ptr [ECX]
006e1865 : MOV dword ptr [ESI + -0xc],EDX
006e1868 : MOV EAX,dword ptr [ECX + 0x8]
006e186b : MOV dword ptr [ESI + -0x4],EAX
006e186e : MOV EDX,dword ptr [ECX + 0x10]
006e1871 : MOV dword ptr [ESI + 0x4],EDX
006e1874 : MOV EDX,dword ptr [ECX]
006e1876 : MOV EAX,dword ptr [ECX + 0x4]
006e1879 : MOV EDI,dword ptr [ECX + 0x14]
006e187c : MOV EBP,dword ptr [ECX + 0x8]
006e187f : LEA EBX,[ESI + -0xc]
006e1882 : SUB EAX,EDX
006e1884 : MOV EDX,dword ptr [ECX + 0x10]
006e1887 : SUB EDI,EDX
006e1889 : MOV EDX,dword ptr [ECX + 0xc]
006e188c : SUB EDX,EBP
006e188e : ADD EDI,EDI
006e1890 : LEA EDX,[EDX + EDX*0x2]
006e1893 : ADD EDX,EDX
006e1895 : ADD EDI,EDI
006e1897 : SHL EAX,0x4
006e189a : ADD EDX,EDX
006e189c : ADD EDI,EDI
006e189e : CMP EAX,EDX
006e18a0 : MOV EBP,0x1
006e18a5 : JLE 0x006e18ab
006e18a7 : MOV EDX,EAX
006e18a9 : XOR EBP,EBP
006e18ab : CMP EDI,EDX
006e18ad : JLE 0x006e18b4
006e18af : MOV EBP,0x2
006e18b4 : SUB EBP,0x0
006e18b7 : JZ 0x006e18ef
006e18b9 : SUB EBP,0x1
006e18bc : JZ 0x006e18d9
006e18be : SUB EBP,0x1
006e18c1 : JNZ 0x006e1901
006e18c3 : MOV EAX,dword ptr [ECX + 0x14]
006e18c6 : MOV EDX,dword ptr [ECX + 0x10]
006e18c9 : ADD EAX,EDX
006e18cb : CDQ
006e18cc : SUB EAX,EDX
006e18ce : SAR EAX,0x1
006e18d0 : MOV dword ptr [ECX + 0x14],EAX
006e18d3 : INC EAX
006e18d4 : MOV dword ptr [ESI + 0x4],EAX
006e18d7 : JMP 0x006e1901
006e18d9 : MOV EAX,dword ptr [ECX + 0xc]
006e18dc : MOV EDX,dword ptr [ECX + 0x8]
006e18df : ADD EAX,EDX
006e18e1 : CDQ
006e18e2 : SUB EAX,EDX
006e18e4 : SAR EAX,0x1
006e18e6 : MOV dword ptr [ECX + 0xc],EAX
006e18e9 : INC EAX
006e18ea : MOV dword ptr [ESI + -0x4],EAX
006e18ed : JMP 0x006e1901
006e18ef : MOV EAX,dword ptr [ECX + 0x4]
006e18f2 : MOV EDX,dword ptr [ECX]
006e18f4 : ADD EAX,EDX
006e18f6 : CDQ
006e18f7 : SUB EAX,EDX
006e18f9 : SAR EAX,0x1
006e18fb : MOV dword ptr [ECX + 0x4],EAX
006e18fe : INC EAX
006e18ff : MOV dword ptr [EBX],EAX
006e1901 : MOV EDI,dword ptr [ESP + 0x18]
006e1905 : PUSH ECX
006e1906 : MOV ECX,EDI
006e1908 : CALL 0x006e1430
006e190d : PUSH EBX
006e190e : MOV ECX,EDI
006e1910 : CALL 0x006e1430
006e1915 : MOV EDI,dword ptr [ESP + 0x28]
006e1919 : MOV EAX,dword ptr [ESP + 0x2c]
006e191d : ADD dword ptr [ESP + 0x18],0x2
006e1922 : INC EDI
006e1923 : ADD ESP,0x8
006e1926 : ADD ESI,0x20
006e1929 : CMP EDI,EAX
006e192b : MOV dword ptr [ESP + 0x20],EDI
006e192f : JL 0x006e1830
006e1935 : POP ESI
006e1936 : POP EBP
006e1937 : POP EBX
006e1938 : MOV EAX,EDI
006e193a : POP EDI
006e193b : POP ECX
006e193c : RET
006e193d : MOV EAX,EDI
006e193f : POP EDI
006e1940 : POP ECX
006e1941 : RET
