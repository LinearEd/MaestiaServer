PROGRAM  : Maestia.exe
FUNCTION : FUN_007d7070
ENTRY    : 007d7070
BODY     : [[007d7070, 007d71c4]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d7070(undefined4 param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  int in_ECX;
  uint uVar6;
  int *piVar7;
  undefined **local_2c;
  int *local_28;
  int local_20;
  int *local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b28c3b;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_20 = in_ECX;
  if (*(int *)(in_ECX + 8) != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  local_8 = 0;
  local_1c = *(int **)(in_ECX + 0x264);
  piVar7 = (int *)*local_1c;
  local_18 = piVar7;
  if (piVar7 != local_1c) {
    do {
      local_18 = piVar7;
      FUN_00439f80(&local_2c,piVar7 + 9);
      local_8 = CONCAT31(local_8._1_3_,1);
      uVar4 = local_28[0x1f] - local_28[0x1e] >> 2;
      if (uVar4 == 0) {
        local_8 = (uint)local_8._1_3_ << 8;
        FUN_0043a010();
      }
      else {
        uVar6 = 0;
        if (uVar4 != 0) {
          do {
            iVar5 = local_28[0x1e];
            if ((uint)(local_28[0x1f] - iVar5 >> 2) <= uVar6) {
                    /* WARNING: Subroutine does not return */
              FUN_0045cd70();
            }
            if (*(int *)(iVar5 + uVar6 * 4) != 0) {
              *(undefined1 *)(*(int *)(iVar5 + uVar6 * 4) + 0x19) = (undefined1)param_1;
            }
            uVar6 = uVar6 + 1;
            piVar7 = local_18;
          } while (uVar6 < uVar4);
        }
        local_8 = (uint)local_8._1_3_ << 8;
        local_2c = &PTR_FUN_00cd4964;
        if (local_28 != (int *)0x0) {
          (**(code **)(*local_28 + 0x30))();
          local_28 = (int *)0x0;
        }
      }
      piVar7 = (int *)*piVar7;
      in_ECX = local_20;
      local_18 = piVar7;
    } while (piVar7 != local_1c);
  }
  puVar1 = *(undefined4 **)(in_ECX + 0x38);
  for (puVar2 = (undefined4 *)*puVar1; puVar2 != puVar1; puVar2 = (undefined4 *)*puVar2) {
    iVar5 = (**(code **)(*(int *)puVar2[9] + 0x1c))(uVar3);
    if (iVar5 - 2U < 8) {
      FUN_007d7070(param_1);
    }
  }
  local_8 = 0xffffffff;
  if (*(int *)(in_ECX + 8) != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d7070 : PUSH EBP
007d7071 : MOV EBP,ESP
007d7073 : PUSH -0x1
007d7075 : PUSH 0xb28c3b
007d707a : MOV EAX,FS:[0x0]
007d7080 : PUSH EAX
007d7081 : SUB ESP,0x20
007d7084 : PUSH EBX
007d7085 : PUSH ESI
007d7086 : PUSH EDI
007d7087 : MOV EAX,[0x00d66fa0]
007d708c : XOR EAX,EBP
007d708e : PUSH EAX
007d708f : LEA EAX,[EBP + -0xc]
007d7092 : MOV FS:[0x0],EAX
007d7098 : MOV EDI,ECX
007d709a : MOV dword ptr [EBP + -0x1c],EDI
007d709d : MOV EAX,dword ptr [EDI + 0x8]
007d70a0 : MOV dword ptr [EBP + -0x20],EDI
007d70a3 : TEST EAX,EAX
007d70a5 : JZ 0x007d70b1
007d70a7 : ADD EAX,0x4
007d70aa : PUSH EAX
007d70ab : CALL dword ptr [0x00b85118]
007d70b1 : MOV dword ptr [EBP + -0x4],0x0
007d70b8 : MOV EAX,dword ptr [EDI + 0x264]
007d70be : MOV EBX,dword ptr [EAX]
007d70c0 : MOV dword ptr [EBP + -0x18],EAX
007d70c3 : MOV dword ptr [EBP + -0x14],EBX
007d70c6 : CMP EBX,EAX
007d70c8 : JZ 0x007d7161
007d70ce : MOV EDI,EDI
007d70d0 : LEA EAX,[EBX + 0x24]
007d70d3 : PUSH EAX
007d70d4 : LEA ECX,[EBP + -0x28]
007d70d7 : PUSH ECX
007d70d8 : CALL 0x00439f80
007d70dd : MOV byte ptr [EBP + -0x4],0x1
007d70e1 : MOV EAX,dword ptr [EBP + -0x24]
007d70e4 : LEA ESI,[EAX + 0x7c]
007d70e7 : LEA EDI,[EAX + 0x78]
007d70ea : MOV EAX,dword ptr [ESI]
007d70ec : SUB EAX,dword ptr [EDI]
007d70ee : SAR EAX,0x2
007d70f1 : TEST EAX,EAX
007d70f3 : JNZ 0x007d7102
007d70f5 : MOV byte ptr [EBP + -0x4],AL
007d70f8 : LEA ECX,[EBP + -0x28]
007d70fb : CALL 0x0043a010
007d7100 : JMP 0x007d7150
007d7102 : XOR EDX,EDX
007d7104 : TEST EAX,EAX
007d7106 : JBE 0x007d7130
007d7108 : MOV ECX,dword ptr [EDI]
007d710a : MOV EBX,dword ptr [ESI]
007d710c : SUB EBX,ECX
007d710e : SAR EBX,0x2
007d7111 : CMP EBX,EDX
007d7113 : JBE 0x007d71c0
007d7119 : CMP dword ptr [ECX + EDX*0x4],0x0
007d711d : JZ 0x007d7128
007d711f : MOV ECX,dword ptr [ECX + EDX*0x4]
007d7122 : MOV BL,byte ptr [EBP + 0x8]
007d7125 : MOV byte ptr [ECX + 0x19],BL
007d7128 : INC EDX
007d7129 : CMP EDX,EAX
007d712b : JC 0x007d7108
007d712d : MOV EBX,dword ptr [EBP + -0x14]
007d7130 : MOV byte ptr [EBP + -0x4],0x0
007d7134 : MOV ECX,dword ptr [EBP + -0x24]
007d7137 : MOV dword ptr [EBP + -0x28],0xcd4964
007d713e : TEST ECX,ECX
007d7140 : JZ 0x007d7150
007d7142 : MOV EDX,dword ptr [ECX]
007d7144 : MOV EAX,dword ptr [EDX + 0x30]
007d7147 : CALL EAX
007d7149 : MOV dword ptr [EBP + -0x24],0x0
007d7150 : MOV EBX,dword ptr [EBX]
007d7152 : MOV dword ptr [EBP + -0x14],EBX
007d7155 : CMP EBX,dword ptr [EBP + -0x18]
007d7158 : JNZ 0x007d70d0
007d715e : MOV EDI,dword ptr [EBP + -0x1c]
007d7161 : MOV EBX,dword ptr [EDI + 0x38]
007d7164 : MOV ESI,dword ptr [EBX]
007d7166 : CMP ESI,EBX
007d7168 : JZ 0x007d7194
007d716a : LEA EBX,[EBX]
007d7170 : MOV ECX,dword ptr [ESI + 0x24]
007d7173 : MOV EDX,dword ptr [ECX]
007d7175 : MOV EAX,dword ptr [EDX + 0x1c]
007d7178 : CALL EAX
007d717a : ADD EAX,-0x2
007d717d : CMP EAX,0x7
007d7180 : JA 0x007d718e
007d7182 : MOV EDX,dword ptr [EBP + 0x8]
007d7185 : MOV ECX,dword ptr [ESI + 0x24]
007d7188 : PUSH EDX
007d7189 : CALL 0x007d7070
007d718e : MOV ESI,dword ptr [ESI]
007d7190 : CMP ESI,EBX
007d7192 : JNZ 0x007d7170
007d7194 : MOV dword ptr [EBP + -0x4],0xffffffff
007d719b : MOV EDI,dword ptr [EDI + 0x8]
007d719e : TEST EDI,EDI
007d71a0 : JZ 0x007d71ac
007d71a2 : ADD EDI,0x4
007d71a5 : PUSH EDI
007d71a6 : CALL dword ptr [0x00b8511c]
007d71ac : MOV ECX,dword ptr [EBP + -0xc]
007d71af : MOV dword ptr FS:[0x0],ECX
007d71b6 : POP ECX
007d71b7 : POP EDI
007d71b8 : POP ESI
007d71b9 : POP EBX
007d71ba : MOV ESP,EBP
007d71bc : POP EBP
007d71bd : RET 0x4
007d71c0 : CALL 0x0045cd70
