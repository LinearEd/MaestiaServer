PROGRAM  : Maestia.exe
FUNCTION : FUN_0045bd40
ENTRY    : 0045bd40
BODY     : [[0045bd40, 0045bdde]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_0045bd40(undefined4 *param_1,int *param_2)

{
  int in_EAX;
  undefined4 *puVar1;
  undefined4 *puVar2;
  bool bVar3;
  
  puVar2 = *(undefined4 **)(in_EAX + 4);
  bVar3 = true;
  if (*(char *)((int)puVar2[1] + 0x15) == '\0') {
    puVar1 = (undefined4 *)puVar2[1];
    do {
      puVar2 = puVar1;
      bVar3 = *param_2 < (int)puVar2[3];
      if (bVar3) {
        puVar1 = (undefined4 *)*puVar2;
      }
      else {
        puVar1 = (undefined4 *)puVar2[2];
      }
    } while (*(char *)((int)puVar1 + 0x15) == '\0');
  }
  if (bVar3) {
    if (puVar2 == (undefined4 *)**(int **)(in_EAX + 4)) {
      bVar3 = true;
      goto LAB_0045bd94;
    }
    FUN_00420210();
  }
  if (*param_2 <= (int)puVar2[3]) {
    *param_1 = puVar2;
    *(undefined1 *)(param_1 + 1) = 0;
    return param_1;
  }
LAB_0045bd94:
  puVar2 = (undefined4 *)FUN_0045bde0(&param_2,bVar3,param_2);
  *param_1 = *puVar2;
  *(undefined1 *)(param_1 + 1) = 1;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
0045bd40 : PUSH EBP
0045bd41 : MOV EBP,ESP
0045bd43 : PUSH ECX
0045bd44 : PUSH EBX
0045bd45 : MOV EBX,dword ptr [EBP + 0x8]
0045bd48 : PUSH ESI
0045bd49 : PUSH EDI
0045bd4a : MOV EDI,EAX
0045bd4c : MOV ESI,dword ptr [EDI + 0x4]
0045bd4f : MOV EAX,dword ptr [ESI + 0x4]
0045bd52 : CMP byte ptr [EAX + 0x15],0x0
0045bd56 : MOV CL,0x1
0045bd58 : MOV byte ptr [EBP + -0x4],CL
0045bd5b : JNZ 0x0045bd7e
0045bd5d : MOV ECX,dword ptr [EBP + 0xc]
0045bd60 : MOV EDX,dword ptr [ECX]
0045bd62 : CMP EDX,dword ptr [EAX + 0xc]
0045bd65 : MOV ESI,EAX
0045bd67 : SETL CL
0045bd6a : MOV byte ptr [EBP + -0x4],CL
0045bd6d : TEST CL,CL
0045bd6f : JZ 0x0045bd75
0045bd71 : MOV EAX,dword ptr [EAX]
0045bd73 : JMP 0x0045bd78
0045bd75 : MOV EAX,dword ptr [EAX + 0x8]
0045bd78 : CMP byte ptr [EAX + 0x15],0x0
0045bd7c : JZ 0x0045bd62
0045bd7e : MOV EAX,ESI
0045bd80 : MOV dword ptr [EBP + 0x8],EAX
0045bd83 : TEST CL,CL
0045bd85 : JZ 0x0045bdbd
0045bd87 : MOV EDX,dword ptr [EDI + 0x4]
0045bd8a : CMP ESI,dword ptr [EDX]
0045bd8c : JNZ 0x0045bdb2
0045bd8e : MOV EAX,dword ptr [EBP + 0xc]
0045bd91 : PUSH EAX
0045bd92 : PUSH 0x1
0045bd94 : LEA ECX,[EBP + 0xc]
0045bd97 : PUSH ECX
0045bd98 : MOV ECX,ESI
0045bd9a : CALL 0x0045bde0
0045bd9f : MOV EDX,dword ptr [EAX]
0045bda1 : MOV dword ptr [EBX],EDX
0045bda3 : MOV byte ptr [EBX + 0x4],0x1
0045bda7 : MOV EAX,EBX
0045bda9 : POP EDI
0045bdaa : POP ESI
0045bdab : POP EBX
0045bdac : MOV ESP,EBP
0045bdae : POP EBP
0045bdaf : RET 0x8
0045bdb2 : LEA EDX,[EBP + 0x8]
0045bdb5 : CALL 0x00420210
0045bdba : MOV EAX,dword ptr [EBP + 0x8]
0045bdbd : MOV EDX,dword ptr [EAX + 0xc]
0045bdc0 : MOV ECX,dword ptr [EBP + 0xc]
0045bdc3 : CMP EDX,dword ptr [ECX]
0045bdc5 : JGE 0x0045bdce
0045bdc7 : MOV EAX,dword ptr [EBP + -0x4]
0045bdca : PUSH ECX
0045bdcb : PUSH EAX
0045bdcc : JMP 0x0045bd94
0045bdce : POP EDI
0045bdcf : MOV dword ptr [EBX],EAX
0045bdd1 : POP ESI
0045bdd2 : MOV byte ptr [EBX + 0x4],0x0
0045bdd6 : MOV EAX,EBX
0045bdd8 : POP EBX
0045bdd9 : MOV ESP,EBP
0045bddb : POP EBP
0045bddc : RET 0x8
