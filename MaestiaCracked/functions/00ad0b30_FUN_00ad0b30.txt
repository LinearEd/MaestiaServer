PROGRAM  : Maestia.exe
FUNCTION : FUN_00ad0b30
ENTRY    : 00ad0b30
BODY     : [[00ad0b30, 00ad0cee]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00ad0b30(undefined4 *param_1,undefined4 param_2)

{
  code *pcVar1;
  char cVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  int *in_ECX;
  int *piVar6;
  int *piVar7;
  undefined1 local_24 [4];
  int *local_20;
  undefined **local_1c;
  int *local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b192ca;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  piVar7 = (int *)0x0;
  local_14 = 0;
  uVar4 = FUN_00801fc0(&local_1c,param_2);
  local_8 = 1;
  FUN_00463cf0(local_24,uVar4);
  local_8._0_1_ = 3;
  local_1c = &PTR_FUN_00cd4964;
  if (local_18 != (int *)0x0) {
    (**(code **)(*local_18 + 0x30))(uVar3);
    local_18 = (int *)0x0;
  }
  if (local_20 == (int *)0x0) {
    local_18 = (int *)FUN_006f0760(0x48,".\\Resource\\AvaAniEventDataMgr.cpp",0x31,0);
    local_8._0_1_ = 4;
    if (local_18 != (int *)0x0) {
      piVar7 = (int *)FUN_00a63000(local_18);
    }
    local_8._0_1_ = 3;
    pcVar1 = *(code **)(*piVar7 + 4);
    piVar7[0xd] = (int)in_ECX;
    cVar2 = (*pcVar1)(param_2);
    if (cVar2 == '\0') {
      (**(code **)*piVar7)(1);
      piVar6 = (int *)0x0;
    }
    else {
      cVar2 = (**(code **)(*in_ECX + 0xc))(piVar7);
      piVar6 = piVar7;
      if (cVar2 == '\0') {
        piVar6 = (int *)0x0;
        piVar7[0xd] = 0;
        (**(code **)*piVar7)(1);
        iVar5 = FUN_00801fc0(&local_1c,param_2);
        local_8._0_1_ = 5;
        if (local_20 != *(int **)(iVar5 + 4)) {
          if (local_20 != (int *)0x0) {
            (**(code **)(*local_20 + 0x30))();
          }
          if (*(int *)(iVar5 + 4) != 0) {
            InterlockedIncrement((LONG *)(*(int *)(iVar5 + 4) + 0x2c));
          }
          local_20 = *(int **)(iVar5 + 4);
        }
        local_8._0_1_ = 3;
        local_1c = &PTR_FUN_00cd4964;
        if (local_18 != (int *)0x0) {
          (**(code **)(*local_18 + 0x30))();
          local_18 = (int *)0x0;
        }
        if (local_20 != (int *)0x0) {
          FUN_0043a270();
          goto LAB_00ad0cd4;
        }
      }
    }
    *param_1 = &PTR_FUN_00cd4964;
    param_1[1] = piVar6;
    if (piVar6 != (int *)0x0) {
      InterlockedIncrement(piVar6 + 0xb);
    }
  }
  else {
    param_1[1] = local_20;
    *param_1 = &PTR_FUN_00cd4964;
    InterlockedIncrement(local_20 + 0xb);
  }
LAB_00ad0cd4:
  local_8 = (uint)local_8._1_3_ << 8;
  local_14 = 1;
  FUN_0045c060(local_24);
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00ad0b30 : PUSH EBP
00ad0b31 : MOV EBP,ESP
00ad0b33 : PUSH -0x1
00ad0b35 : PUSH 0xb192ca
00ad0b3a : MOV EAX,FS:[0x0]
00ad0b40 : PUSH EAX
00ad0b41 : SUB ESP,0x14
00ad0b44 : PUSH EBX
00ad0b45 : PUSH ESI
00ad0b46 : PUSH EDI
00ad0b47 : MOV EAX,[0x00d66fa0]
00ad0b4c : XOR EAX,EBP
00ad0b4e : PUSH EAX
00ad0b4f : LEA EAX,[EBP + -0xc]
00ad0b52 : MOV FS:[0x0],EAX
00ad0b58 : MOV EDI,ECX
00ad0b5a : MOV EAX,dword ptr [EBP + 0xc]
00ad0b5d : PUSH EAX
00ad0b5e : LEA ECX,[EBP + -0x18]
00ad0b61 : PUSH ECX
00ad0b62 : XOR ESI,ESI
00ad0b64 : MOV ECX,EDI
00ad0b66 : MOV dword ptr [EBP + -0x10],ESI
00ad0b69 : CALL 0x00801fc0
00ad0b6e : MOV EBX,0x1
00ad0b73 : MOV dword ptr [EBP + -0x4],EBX
00ad0b76 : PUSH EAX
00ad0b77 : LEA EDX,[EBP + -0x20]
00ad0b7a : PUSH EDX
00ad0b7b : CALL 0x00463cf0
00ad0b80 : MOV byte ptr [EBP + -0x4],0x3
00ad0b84 : MOV ECX,dword ptr [EBP + -0x14]
00ad0b87 : MOV dword ptr [EBP + -0x18],0xcd4964
00ad0b8e : CMP ECX,ESI
00ad0b90 : JZ 0x00ad0b9c
00ad0b92 : MOV EAX,dword ptr [ECX]
00ad0b94 : MOV EDX,dword ptr [EAX + 0x30]
00ad0b97 : CALL EDX
00ad0b99 : MOV dword ptr [EBP + -0x14],ESI
00ad0b9c : MOV EAX,dword ptr [EBP + -0x1c]
00ad0b9f : CMP EAX,ESI
00ad0ba1 : JZ 0x00ad0bc9
00ad0ba3 : MOV ESI,dword ptr [EBP + 0x8]
00ad0ba6 : MOV dword ptr [ESI + 0x4],EAX
00ad0ba9 : ADD EAX,0x2c
00ad0bac : PUSH EAX
00ad0bad : MOV dword ptr [ESI],0xcd4964
00ad0bb3 : CALL dword ptr [0x00b850dc]
00ad0bb9 : MOV dword ptr [EBP + -0x10],EBX
00ad0bbc : MOV byte ptr [EBP + -0x4],0x0
00ad0bc0 : LEA EAX,[EBP + -0x20]
00ad0bc3 : PUSH EAX
00ad0bc4 : JMP 0x00ad0cd4
00ad0bc9 : PUSH ESI
00ad0bca : PUSH 0x31
00ad0bcc : PUSH 0xc107d0
00ad0bd1 : PUSH 0x48
00ad0bd3 : CALL 0x006f0760
00ad0bd8 : ADD ESP,0x10
00ad0bdb : MOV dword ptr [EBP + -0x14],EAX
00ad0bde : MOV byte ptr [EBP + -0x4],0x4
00ad0be2 : CMP EAX,ESI
00ad0be4 : JZ 0x00ad0bee
00ad0be6 : PUSH EAX
00ad0be7 : CALL 0x00a63000
00ad0bec : MOV ESI,EAX
00ad0bee : MOV byte ptr [EBP + -0x4],0x3
00ad0bf2 : MOV EDX,dword ptr [ESI]
00ad0bf4 : MOV EAX,dword ptr [EBP + 0xc]
00ad0bf7 : MOV EDX,dword ptr [EDX + 0x4]
00ad0bfa : PUSH EAX
00ad0bfb : MOV ECX,ESI
00ad0bfd : MOV EBX,ESI
00ad0bff : MOV dword ptr [ESI + 0x34],EDI
00ad0c02 : CALL EDX
00ad0c04 : TEST AL,AL
00ad0c06 : JZ 0x00ad0c9f
00ad0c0c : MOV EAX,dword ptr [EDI]
00ad0c0e : MOV EDX,dword ptr [EAX + 0xc]
00ad0c11 : PUSH ESI
00ad0c12 : MOV ECX,EDI
00ad0c14 : CALL EDX
00ad0c16 : TEST AL,AL
00ad0c18 : JNZ 0x00ad0cab
00ad0c1e : XOR EBX,EBX
00ad0c20 : MOV dword ptr [ESI + 0x34],EBX
00ad0c23 : MOV EAX,dword ptr [ESI]
00ad0c25 : MOV EDX,dword ptr [EAX]
00ad0c27 : PUSH 0x1
00ad0c29 : MOV ECX,ESI
00ad0c2b : CALL EDX
00ad0c2d : MOV EAX,dword ptr [EBP + 0xc]
00ad0c30 : PUSH EAX
00ad0c31 : LEA ECX,[EBP + -0x18]
00ad0c34 : PUSH ECX
00ad0c35 : MOV ECX,EDI
00ad0c37 : CALL 0x00801fc0
00ad0c3c : MOV ESI,EAX
00ad0c3e : MOV byte ptr [EBP + -0x4],0x5
00ad0c42 : MOV EAX,dword ptr [ESI + 0x4]
00ad0c45 : MOV ECX,dword ptr [EBP + -0x1c]
00ad0c48 : CMP ECX,EAX
00ad0c4a : JZ 0x00ad0c6e
00ad0c4c : TEST ECX,ECX
00ad0c4e : JZ 0x00ad0c57
00ad0c50 : MOV EDX,dword ptr [ECX]
00ad0c52 : MOV EAX,dword ptr [EDX + 0x30]
00ad0c55 : CALL EAX
00ad0c57 : MOV EAX,dword ptr [ESI + 0x4]
00ad0c5a : TEST EAX,EAX
00ad0c5c : JZ 0x00ad0c68
00ad0c5e : ADD EAX,0x2c
00ad0c61 : PUSH EAX
00ad0c62 : CALL dword ptr [0x00b850dc]
00ad0c68 : MOV ESI,dword ptr [ESI + 0x4]
00ad0c6b : MOV dword ptr [EBP + -0x1c],ESI
00ad0c6e : MOV byte ptr [EBP + -0x4],0x3
00ad0c72 : MOV ECX,dword ptr [EBP + -0x14]
00ad0c75 : MOV dword ptr [EBP + -0x18],0xcd4964
00ad0c7c : TEST ECX,ECX
00ad0c7e : JZ 0x00ad0c8e
00ad0c80 : MOV EDX,dword ptr [ECX]
00ad0c82 : MOV EAX,dword ptr [EDX + 0x30]
00ad0c85 : CALL EAX
00ad0c87 : MOV dword ptr [EBP + -0x14],0x0
00ad0c8e : MOV EAX,dword ptr [EBP + -0x1c]
00ad0c91 : TEST EAX,EAX
00ad0c93 : JZ 0x00ad0cab
00ad0c95 : MOV ESI,dword ptr [EBP + 0x8]
00ad0c98 : CALL 0x0043a270
00ad0c9d : JMP 0x00ad0cc5
00ad0c9f : MOV EDX,dword ptr [ESI]
00ad0ca1 : MOV EAX,dword ptr [EDX]
00ad0ca3 : PUSH 0x1
00ad0ca5 : MOV ECX,ESI
00ad0ca7 : CALL EAX
00ad0ca9 : XOR EBX,EBX
00ad0cab : MOV ESI,dword ptr [EBP + 0x8]
00ad0cae : MOV dword ptr [ESI],0xcd4964
00ad0cb4 : MOV dword ptr [ESI + 0x4],EBX
00ad0cb7 : TEST EBX,EBX
00ad0cb9 : JZ 0x00ad0cc5
00ad0cbb : ADD EBX,0x2c
00ad0cbe : PUSH EBX
00ad0cbf : CALL dword ptr [0x00b850dc]
00ad0cc5 : MOV dword ptr [EBP + -0x10],0x1
00ad0ccc : MOV byte ptr [EBP + -0x4],0x0
00ad0cd0 : LEA ECX,[EBP + -0x20]
00ad0cd3 : PUSH ECX
00ad0cd4 : CALL 0x0045c060
00ad0cd9 : MOV EAX,ESI
00ad0cdb : MOV ECX,dword ptr [EBP + -0xc]
00ad0cde : MOV dword ptr FS:[0x0],ECX
00ad0ce5 : POP ECX
00ad0ce6 : POP EDI
00ad0ce7 : POP ESI
00ad0ce8 : POP EBX
00ad0ce9 : MOV ESP,EBP
00ad0ceb : POP EBP
00ad0cec : RET 0x8
