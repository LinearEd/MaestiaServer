PROGRAM  : Maestia.exe
FUNCTION : FUN_005258f0
ENTRY    : 005258f0
BODY     : [[005258f0, 00525962]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005258f0(char *param_1)

{
  int *piVar1;
  char cVar2;
  int iVar3;
  char *pcVar4;
  int iVar5;
  int *in_ECX;
  
  pcVar4 = param_1;
  do {
    cVar2 = *pcVar4;
    pcVar4 = pcVar4 + 1;
  } while (cVar2 != '\0');
  iVar5 = FUN_00525450(param_1,(int)pcVar4 - (int)(param_1 + 1));
  *(int *)(iVar5 + 8) = *(int *)(iVar5 + 8) + 1;
  iVar3 = *in_ECX;
  piVar1 = (int *)(iVar3 + 8);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    if ((*(int *)(iVar3 + 4) != iVar3) && (*(int *)(iVar3 + 4) != 0)) {
      FUN_004ffc70();
    }
    param_1 = (char *)iVar3;
    FUN_00525140(&param_1);
    FUN_00524ed0(iVar3);
  }
  *in_ECX = iVar5;
  return;
}



============================================================
DISASSEMBLY
============================================================
005258f0 : MOV EDX,dword ptr [ESP + 0x4]
005258f4 : PUSH EBX
005258f5 : PUSH ESI
005258f6 : MOV EAX,EDX
005258f8 : PUSH EDI
005258f9 : MOV EBX,ECX
005258fb : LEA ESI,[EAX + 0x1]
005258fe : MOV EDI,EDI
00525900 : MOV CL,byte ptr [EAX]
00525902 : INC EAX
00525903 : TEST CL,CL
00525905 : JNZ 0x00525900
00525907 : MOV ECX,dword ptr [EBX]
00525909 : SUB EAX,ESI
0052590b : AND ECX,0xfffffc00
00525911 : MOV ECX,dword ptr [ECX]
00525913 : PUSH EAX
00525914 : PUSH EDX
00525915 : CALL 0x00525450
0052591a : MOV EDI,EAX
0052591c : INC dword ptr [EDI + 0x8]
0052591f : MOV ESI,dword ptr [EBX]
00525921 : ADD dword ptr [ESI + 0x8],-0x1
00525925 : JNZ 0x0052595b
00525927 : MOV ECX,dword ptr [ESI + 0x4]
0052592a : CMP ECX,ESI
0052592c : JZ 0x00525937
0052592e : TEST ECX,ECX
00525930 : JZ 0x00525937
00525932 : CALL 0x004ffc70
00525937 : MOV EDX,ESI
00525939 : PUSH EBP
0052593a : AND EDX,0xfffffc00
00525940 : MOV EBP,dword ptr [EDX]
00525942 : LEA EAX,[ESP + 0x14]
00525946 : PUSH EAX
00525947 : MOV ECX,EBP
00525949 : MOV dword ptr [ESP + 0x18],ESI
0052594d : CALL 0x00525140
00525952 : PUSH ESI
00525953 : MOV ECX,EBP
00525955 : CALL 0x00524ed0
0052595a : POP EBP
0052595b : MOV dword ptr [EBX],EDI
0052595d : POP EDI
0052595e : POP ESI
0052595f : POP EBX
00525960 : RET 0x4
