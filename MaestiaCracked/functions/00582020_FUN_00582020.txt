PROGRAM  : Maestia.exe
FUNCTION : FUN_00582020
ENTRY    : 00582020
BODY     : [[00582020, 00582356]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00582020(undefined4 param_1,undefined4 *param_2,undefined4 param_3,byte *param_4)

{
  byte bVar1;
  char cVar2;
  byte *pbVar3;
  int iVar4;
  byte *pbVar5;
  undefined4 uVar6;
  byte *pbVar7;
  bool bVar8;
  float10 fVar9;
  double local_38;
  double local_30;
  double local_28;
  double local_20;
  double local_18;
  double local_10;
  
  if ((*param_4 & 4) != 0) {
    return 0;
  }
  pbVar5 = *(byte **)*param_2;
  pbVar7 = &DAT_00b86c34;
  pbVar3 = pbVar5;
  do {
    bVar1 = *pbVar3;
    bVar8 = bVar1 < *pbVar7;
    if (bVar1 != *pbVar7) {
LAB_00582070:
      iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
      goto LAB_00582075;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar3[1];
    bVar8 = bVar1 < pbVar7[1];
    if (bVar1 != pbVar7[1]) goto LAB_00582070;
    pbVar3 = pbVar3 + 2;
    pbVar7 = pbVar7 + 2;
  } while (bVar1 != 0);
  iVar4 = 0;
LAB_00582075:
  if (iVar4 == 0) {
    local_20 = 0.0;
    local_18 = 0.0;
    local_10 = 0.0;
    FUN_00581440(param_1,&local_28);
    fVar9 = (float10)FUN_00527730(param_1);
    local_28 = (double)fVar9;
    FUN_00580d50(param_1,&local_28);
    return 1;
  }
  pbVar3 = &DAT_00b86c0c;
  do {
    bVar1 = *pbVar5;
    bVar8 = bVar1 < *pbVar3;
    if (bVar1 != *pbVar3) {
LAB_005820e6:
      iVar4 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
      goto LAB_005820eb;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar5[1];
    bVar8 = bVar1 < pbVar3[1];
    if (bVar1 != pbVar3[1]) goto LAB_005820e6;
    pbVar5 = pbVar5 + 2;
    pbVar3 = pbVar3 + 2;
  } while (bVar1 != 0);
  iVar4 = 0;
LAB_005820eb:
  if (iVar4 == 0) {
    local_28 = 0.0;
    local_18 = 0.0;
    local_10 = 0.0;
    FUN_00581440(param_1,&local_28);
    fVar9 = (float10)FUN_00527730(param_1);
    local_20 = (double)fVar9;
    FUN_00580d50(param_1,&local_28);
    return 1;
  }
  cVar2 = FUN_004ffc90("right");
  if (cVar2 != '\0') {
    local_28 = 0.0;
    local_20 = 0.0;
    local_10 = 0.0;
    FUN_00581440(param_1,&local_28);
    fVar9 = (float10)FUN_00527730(param_1);
    local_18 = (double)fVar9;
    FUN_00580d50(param_1,&local_28);
    return 1;
  }
  cVar2 = FUN_004ffc90("bottom");
  if (cVar2 != '\0') {
    local_28 = 0.0;
    local_20 = 0.0;
    local_18 = 0.0;
    FUN_00581440(param_1,&local_28);
    fVar9 = (float10)FUN_00527730(param_1);
    local_10 = (double)fVar9;
    FUN_00580d50(param_1,&local_28);
    return 1;
  }
  cVar2 = FUN_004ffc90("topLeft");
  if (cVar2 == '\0') {
    cVar2 = FUN_004ffc90("bottomRight");
    if (cVar2 == '\0') {
      cVar2 = FUN_004ffc90(&DAT_00b8d7a4);
      if (cVar2 == '\0') {
        uVar6 = FUN_005520e0(param_1,param_2,param_3,param_4);
        return uVar6;
      }
      local_28 = 0.0;
      local_20 = 0.0;
      local_18 = 0.0;
      local_10 = 0.0;
      FUN_00581440(param_1,&local_28);
      iVar4 = FUN_00526fa0(param_1);
      if (iVar4 != 0) {
        FUN_005c9880(param_1,iVar4,&local_38);
        local_18 = local_38 + local_28;
        local_10 = local_20 + local_30;
      }
    }
    else {
      local_28 = 0.0;
      local_20 = 0.0;
      local_18 = 0.0;
      local_10 = 0.0;
      FUN_00581440(param_1,&local_28);
      iVar4 = FUN_00526fa0(param_1);
      if (iVar4 != 0) {
        FUN_005c9880(param_1,iVar4,&local_38);
        local_18 = local_38;
        local_10 = local_30;
      }
    }
    FUN_00580d50(param_1,&local_28);
    return 1;
  }
  local_28 = 0.0;
  local_20 = 0.0;
  local_18 = 0.0;
  local_10 = 0.0;
  FUN_00581440(param_1,&local_28);
  iVar4 = FUN_00526fa0(param_1);
  if (iVar4 != 0) {
    FUN_005c9880(param_1,iVar4,&local_38);
    local_28 = local_38;
    local_20 = local_30;
  }
  FUN_00580d50(param_1,&local_28);
  return 1;
}



============================================================
DISASSEMBLY
============================================================
00582020 : PUSH EBP
00582021 : MOV EBP,ESP
00582023 : AND ESP,0xfffffff8
00582026 : MOV EAX,dword ptr [EBP + 0x14]
00582029 : SUB ESP,0x34
0058202c : TEST byte ptr [EAX],0x4
0058202f : PUSH EBX
00582030 : PUSH ESI
00582031 : PUSH EDI
00582032 : MOV EDI,ECX
00582034 : JZ 0x00582041
00582036 : XOR AL,AL
00582038 : POP EDI
00582039 : POP ESI
0058203a : POP EBX
0058203b : MOV ESP,EBP
0058203d : POP EBP
0058203e : RET 0x10
00582041 : MOV EBX,dword ptr [EBP + 0xc]
00582044 : MOV ECX,dword ptr [EBX]
00582046 : MOV ESI,dword ptr [ECX]
00582048 : MOV ECX,0xb86c34
0058204d : MOV EAX,ESI
0058204f : NOP
00582050 : MOV DL,byte ptr [EAX]
00582052 : CMP DL,byte ptr [ECX]
00582054 : JNZ 0x00582070
00582056 : TEST DL,DL
00582058 : JZ 0x0058206c
0058205a : MOV DL,byte ptr [EAX + 0x1]
0058205d : CMP DL,byte ptr [ECX + 0x1]
00582060 : JNZ 0x00582070
00582062 : ADD EAX,0x2
00582065 : ADD ECX,0x2
00582068 : TEST DL,DL
0058206a : JNZ 0x00582050
0058206c : XOR EAX,EAX
0058206e : JMP 0x00582075
00582070 : SBB EAX,EAX
00582072 : SBB EAX,-0x1
00582075 : TEST EAX,EAX
00582077 : JNZ 0x005820bf
00582079 : FLDZ
0058207b : LEA EDX,[ESP + 0x20]
0058207f : LEA ESI,[EDI + -0x10]
00582082 : FST double ptr [ESP + 0x28]
00582086 : MOV EDI,dword ptr [EBP + 0x8]
00582089 : FST double ptr [ESP + 0x30]
0058208d : PUSH EDX
0058208e : FSTP double ptr [ESP + 0x3c]
00582092 : PUSH EDI
00582093 : MOV ECX,ESI
00582095 : CALL 0x00581440
0058209a : MOV ECX,dword ptr [EBP + 0x10]
0058209d : PUSH EDI
0058209e : CALL 0x00527730
005820a3 : FSTP double ptr [ESP + 0x20]
005820a7 : LEA EAX,[ESP + 0x20]
005820ab : PUSH EAX
005820ac : PUSH EDI
005820ad : MOV ECX,ESI
005820af : CALL 0x00580d50
005820b4 : MOV AL,0x1
005820b6 : POP EDI
005820b7 : POP ESI
005820b8 : POP EBX
005820b9 : MOV ESP,EBP
005820bb : POP EBP
005820bc : RET 0x10
005820bf : MOV ECX,0xb86c0c
005820c4 : MOV EAX,ESI
005820c6 : MOV DL,byte ptr [EAX]
005820c8 : CMP DL,byte ptr [ECX]
005820ca : JNZ 0x005820e6
005820cc : TEST DL,DL
005820ce : JZ 0x005820e2
005820d0 : MOV DL,byte ptr [EAX + 0x1]
005820d3 : CMP DL,byte ptr [ECX + 0x1]
005820d6 : JNZ 0x005820e6
005820d8 : ADD EAX,0x2
005820db : ADD ECX,0x2
005820de : TEST DL,DL
005820e0 : JNZ 0x005820c6
005820e2 : XOR EAX,EAX
005820e4 : JMP 0x005820eb
005820e6 : SBB EAX,EAX
005820e8 : SBB EAX,-0x1
005820eb : TEST EAX,EAX
005820ed : JNZ 0x00582135
005820ef : FLDZ
005820f1 : LEA ECX,[ESP + 0x20]
005820f5 : LEA ESI,[EDI + -0x10]
005820f8 : FST double ptr [ESP + 0x20]
005820fc : MOV EDI,dword ptr [EBP + 0x8]
005820ff : FST double ptr [ESP + 0x30]
00582103 : PUSH ECX
00582104 : FSTP double ptr [ESP + 0x3c]
00582108 : PUSH EDI
00582109 : MOV ECX,ESI
0058210b : CALL 0x00581440
00582110 : MOV ECX,dword ptr [EBP + 0x10]
00582113 : PUSH EDI
00582114 : CALL 0x00527730
00582119 : FSTP double ptr [ESP + 0x28]
0058211d : LEA EDX,[ESP + 0x20]
00582121 : PUSH EDX
00582122 : PUSH EDI
00582123 : MOV ECX,ESI
00582125 : CALL 0x00580d50
0058212a : MOV AL,0x1
0058212c : POP EDI
0058212d : POP ESI
0058212e : POP EBX
0058212f : MOV ESP,EBP
00582131 : POP EBP
00582132 : RET 0x10
00582135 : PUSH 0xb86c3c
0058213a : MOV ECX,EBX
0058213c : CALL 0x004ffc90
00582141 : TEST AL,AL
00582143 : JZ 0x0058218b
00582145 : FLDZ
00582147 : LEA EAX,[ESP + 0x20]
0058214b : LEA ESI,[EDI + -0x10]
0058214e : FST double ptr [ESP + 0x20]
00582152 : MOV EDI,dword ptr [EBP + 0x8]
00582155 : FST double ptr [ESP + 0x28]
00582159 : PUSH EAX
0058215a : FSTP double ptr [ESP + 0x3c]
0058215e : PUSH EDI
0058215f : MOV ECX,ESI
00582161 : CALL 0x00581440
00582166 : MOV ECX,dword ptr [EBP + 0x10]
00582169 : PUSH EDI
0058216a : CALL 0x00527730
0058216f : FSTP double ptr [ESP + 0x30]
00582173 : LEA ECX,[ESP + 0x20]
00582177 : PUSH ECX
00582178 : PUSH EDI
00582179 : MOV ECX,ESI
0058217b : CALL 0x00580d50
00582180 : MOV AL,0x1
00582182 : POP EDI
00582183 : POP ESI
00582184 : POP EBX
00582185 : MOV ESP,EBP
00582187 : POP EBP
00582188 : RET 0x10
0058218b : PUSH 0xb86c04
00582190 : MOV ECX,EBX
00582192 : CALL 0x004ffc90
00582197 : TEST AL,AL
00582199 : JZ 0x005821e1
0058219b : FLDZ
0058219d : LEA EDX,[ESP + 0x20]
005821a1 : LEA ESI,[EDI + -0x10]
005821a4 : FST double ptr [ESP + 0x20]
005821a8 : MOV EDI,dword ptr [EBP + 0x8]
005821ab : FST double ptr [ESP + 0x28]
005821af : PUSH EDX
005821b0 : FSTP double ptr [ESP + 0x34]
005821b4 : PUSH EDI
005821b5 : MOV ECX,ESI
005821b7 : CALL 0x00581440
005821bc : MOV ECX,dword ptr [EBP + 0x10]
005821bf : PUSH EDI
005821c0 : CALL 0x00527730
005821c5 : FSTP double ptr [ESP + 0x38]
005821c9 : LEA EAX,[ESP + 0x20]
005821cd : PUSH EAX
005821ce : PUSH EDI
005821cf : MOV ECX,ESI
005821d1 : CALL 0x00580d50
005821d6 : MOV AL,0x1
005821d8 : POP EDI
005821d9 : POP ESI
005821da : POP EBX
005821db : MOV ESP,EBP
005821dd : POP EBP
005821de : RET 0x10
005821e1 : PUSH 0xb8db5c
005821e6 : MOV ECX,EBX
005821e8 : CALL 0x004ffc90
005821ed : TEST AL,AL
005821ef : JZ 0x0058225a
005821f1 : FLDZ
005821f3 : MOV ESI,dword ptr [EBP + 0x8]
005821f6 : LEA ECX,[ESP + 0x20]
005821fa : FST double ptr [ESP + 0x20]
005821fe : PUSH ECX
005821ff : FST double ptr [ESP + 0x2c]
00582203 : ADD EDI,-0x10
00582206 : FST double ptr [ESP + 0x34]
0058220a : PUSH ESI
0058220b : FSTP double ptr [ESP + 0x40]
0058220f : MOV ECX,EDI
00582211 : CALL 0x00581440
00582216 : MOV ECX,dword ptr [EBP + 0x10]
00582219 : PUSH ESI
0058221a : CALL 0x00526fa0
0058221f : TEST EAX,EAX
00582221 : JZ 0x00582242
00582223 : LEA EDX,[ESP + 0x10]
00582227 : PUSH EDX
00582228 : PUSH EAX
00582229 : PUSH ESI
0058222a : CALL 0x005c9880
0058222f : FLD double ptr [ESP + 0x1c]
00582233 : FSTP double ptr [ESP + 0x2c]
00582237 : ADD ESP,0xc
0058223a : FLD double ptr [ESP + 0x18]
0058223e : FSTP double ptr [ESP + 0x28]
00582242 : LEA EAX,[ESP + 0x20]
00582246 : PUSH EAX
00582247 : PUSH ESI
00582248 : MOV ECX,EDI
0058224a : CALL 0x00580d50
0058224f : MOV AL,0x1
00582251 : POP EDI
00582252 : POP ESI
00582253 : POP EBX
00582254 : MOV ESP,EBP
00582256 : POP EBP
00582257 : RET 0x10
0058225a : PUSH 0xb8db50
0058225f : MOV ECX,EBX
00582261 : CALL 0x004ffc90
00582266 : TEST AL,AL
00582268 : JZ 0x005822d3
0058226a : FLDZ
0058226c : MOV ESI,dword ptr [EBP + 0x8]
0058226f : LEA ECX,[ESP + 0x20]
00582273 : FST double ptr [ESP + 0x20]
00582277 : PUSH ECX
00582278 : FST double ptr [ESP + 0x2c]
0058227c : ADD EDI,-0x10
0058227f : FST double ptr [ESP + 0x34]
00582283 : PUSH ESI
00582284 : FSTP double ptr [ESP + 0x40]
00582288 : MOV ECX,EDI
0058228a : CALL 0x00581440
0058228f : MOV ECX,dword ptr [EBP + 0x10]
00582292 : PUSH ESI
00582293 : CALL 0x00526fa0
00582298 : TEST EAX,EAX
0058229a : JZ 0x005822bb
0058229c : LEA EDX,[ESP + 0x10]
005822a0 : PUSH EDX
005822a1 : PUSH EAX
005822a2 : PUSH ESI
005822a3 : CALL 0x005c9880
005822a8 : FLD double ptr [ESP + 0x1c]
005822ac : FSTP double ptr [ESP + 0x3c]
005822b0 : FLD double ptr [ESP + 0x24]
005822b4 : FSTP double ptr [ESP + 0x44]
005822b8 : ADD ESP,0xc
005822bb : LEA EAX,[ESP + 0x20]
005822bf : PUSH EAX
005822c0 : PUSH ESI
005822c1 : MOV ECX,EDI
005822c3 : CALL 0x00580d50
005822c8 : MOV AL,0x1
005822ca : POP EDI
005822cb : POP ESI
005822cc : POP EBX
005822cd : MOV ESP,EBP
005822cf : POP EBP
005822d0 : RET 0x10
005822d3 : PUSH 0xb8d7a4
005822d8 : MOV ECX,EBX
005822da : CALL 0x004ffc90
005822df : TEST AL,AL
005822e1 : JZ 0x0058233a
005822e3 : FLDZ
005822e5 : MOV ESI,dword ptr [EBP + 0x8]
005822e8 : LEA ECX,[ESP + 0x20]
005822ec : FST double ptr [ESP + 0x20]
005822f0 : PUSH ECX
005822f1 : FST double ptr [ESP + 0x2c]
005822f5 : ADD EDI,-0x10
005822f8 : FST double ptr [ESP + 0x34]
005822fc : PUSH ESI
005822fd : FSTP double ptr [ESP + 0x40]
00582301 : MOV ECX,EDI
00582303 : CALL 0x00581440
00582308 : MOV ECX,dword ptr [EBP + 0x10]
0058230b : PUSH ESI
0058230c : CALL 0x00526fa0
00582311 : TEST EAX,EAX
00582313 : JZ 0x005822bb
00582315 : LEA EDX,[ESP + 0x10]
00582319 : PUSH EDX
0058231a : PUSH EAX
0058231b : PUSH ESI
0058231c : CALL 0x005c9880
00582321 : FLD double ptr [ESP + 0x1c]
00582325 : FADD double ptr [ESP + 0x2c]
00582329 : FSTP double ptr [ESP + 0x3c]
0058232d : FLD double ptr [ESP + 0x34]
00582331 : FADD double ptr [ESP + 0x24]
00582335 : JMP 0x005822b4
0058233a : MOV ECX,dword ptr [EBP + 0x14]
0058233d : MOV EDX,dword ptr [EBP + 0x10]
00582340 : MOV EAX,dword ptr [EBP + 0x8]
00582343 : PUSH ECX
00582344 : PUSH EDX
00582345 : PUSH EBX
00582346 : PUSH EAX
00582347 : MOV ECX,EDI
00582349 : CALL 0x005520e0
0058234e : POP EDI
0058234f : POP ESI
00582350 : POP EBX
00582351 : MOV ESP,EBP
00582353 : POP EBP
00582354 : RET 0x10
