PROGRAM  : Maestia.exe
FUNCTION : FUN_0056ef70
ENTRY    : 0056ef70
BODY     : [[0056ef70, 0056efea]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0056ef70(void)

{
  int *piVar1;
  LONG LVar2;
  int in_ECX;
  uint uVar3;
  
  if (*(GRefCountImpl **)(in_ECX + 0x60) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x60));
  }
  FUN_00526bc0();
  if (*(GRefCountImpl **)(in_ECX + 0x4c) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(in_ECX + 0x4c));
  }
  FUN_00526bc0();
  FUN_00526bc0();
  FUN_00526bc0();
  piVar1 = *(int **)(in_ECX + 0x14);
  if ((piVar1 != (int *)0x0) && (*piVar1 = *piVar1 + -1, *piVar1 < 1)) {
    FUN_0051d070();
    FUN_00515cf0(piVar1);
  }
  uVar3 = *(uint *)(in_ECX + 0xc) & 0xfffffffc;
  LVar2 = InterlockedExchangeAdd((LONG *)(uVar3 + 4),-1);
  if (LVar2 == 1) {
    FUN_00515cf0(uVar3);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0056ef70 : PUSH ESI
0056ef71 : MOV ESI,ECX
0056ef73 : MOV ECX,dword ptr [ESI + 0x60]
0056ef76 : PUSH EDI
0056ef77 : LEA EDI,[ESI + 0x50]
0056ef7a : TEST ECX,ECX
0056ef7c : JZ 0x0056ef83
0056ef7e : CALL 0x004ff7e0
0056ef83 : MOV ECX,EDI
0056ef85 : CALL 0x00526bc0
0056ef8a : MOV ECX,dword ptr [ESI + 0x4c]
0056ef8d : LEA EDI,[ESI + 0x3c]
0056ef90 : TEST ECX,ECX
0056ef92 : JZ 0x0056ef99
0056ef94 : CALL 0x004ff7e0
0056ef99 : MOV ECX,EDI
0056ef9b : CALL 0x00526bc0
0056efa0 : LEA ECX,[ESI + 0x2c]
0056efa3 : CALL 0x00526bc0
0056efa8 : LEA ECX,[ESI + 0x1c]
0056efab : CALL 0x00526bc0
0056efb0 : MOV EDI,dword ptr [ESI + 0x14]
0056efb3 : TEST EDI,EDI
0056efb5 : JZ 0x0056efcb
0056efb7 : DEC dword ptr [EDI]
0056efb9 : CMP dword ptr [EDI],0x0
0056efbc : JG 0x0056efcb
0056efbe : MOV ECX,EDI
0056efc0 : CALL 0x0051d070
0056efc5 : PUSH EDI
0056efc6 : CALL 0x00515cf0
0056efcb : MOV ESI,dword ptr [ESI + 0xc]
0056efce : AND ESI,0xfffffffc
0056efd1 : PUSH -0x1
0056efd3 : LEA EAX,[ESI + 0x4]
0056efd6 : PUSH EAX
0056efd7 : CALL dword ptr [0x00b851cc]
0056efdd : SUB EAX,0x1
0056efe0 : JNZ 0x0056efe8
0056efe2 : PUSH ESI
0056efe3 : CALL 0x00515cf0
0056efe8 : POP EDI
0056efe9 : POP ESI
0056efea : RET
