PROGRAM  : Maestia.exe
FUNCTION : FUN_004cb1a0
ENTRY    : 004cb1a0
BODY     : [[004cb1a0, 004cb30c] [004cb313, 004cb337] [004cb387, 004cb41f] [004cb43d, 004cb4ba]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004cb1a0(int param_1,int param_2,uint param_3)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  uint uStack_88;
  uint local_6c;
  uint local_68;
  undefined1 local_64 [76];
  uint local_18;
  undefined1 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7a0a4;
  local_10 = ExceptionList;
  uStack_88 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_14 = (undefined1 *)&uStack_88;
  ExceptionList = &local_10;
  iVar2 = *(int *)(param_1 + 4);
  if (iVar2 == 0) {
    local_6c = 0;
  }
  else {
    local_6c = (*(int *)(param_1 + 0xc) - iVar2) / 0x44;
  }
  iVar5 = *(int *)(param_1 + 8);
  iVar2 = (iVar5 - iVar2) / 0x44;
  local_18 = uStack_88;
  puVar1 = &uStack_88;
  if (iVar2 == 0x3c3c3c3) {
    iVar2 = FUN_00429be0();
    puVar1 = (uint *)local_14;
  }
  local_14 = (undefined1 *)puVar1;
  uVar3 = iVar2 + 1;
  if (local_6c < uVar3) {
    if (0x3c3c3c3 - (local_6c >> 1) < local_6c) {
      local_6c = 0;
    }
    else {
      local_6c = local_6c + (local_6c >> 1);
    }
    if (local_6c < uVar3) {
      local_6c = uVar3;
    }
    iVar2 = FUN_004cb850();
    local_8 = 0;
    FUN_004cb060(param_3);
    FUN_004cb820(*(undefined4 *)(param_1 + 4),param_2);
    FUN_004cb820(param_2,*(undefined4 *)(param_1 + 8));
    local_8 = 0xffffffff;
    if (*(int *)(param_1 + 4) != 0) {
      FUN_004caff0();
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(uint *)(param_1 + 0xc) = iVar2 + local_6c * 0x44;
    *(int *)(param_1 + 8) =
         iVar2 + ((*(int *)(param_1 + 8) - *(int *)(param_1 + 4)) / 0x44 + 1) * 0x44;
    *(int *)(param_1 + 4) = iVar2;
  }
  else {
    iVar5 = iVar5 - param_2;
    iVar2 = iVar5 >> 0x1f;
    if (iVar5 / 0x44 + iVar2 == iVar2) {
      FUN_004cb4f0(local_64);
      local_8 = 2;
      FUN_004cb820(param_2,*(undefined4 *)(param_1 + 8));
      local_8 = CONCAT31(local_8._1_3_,3);
      FUN_004cb060(local_64);
      local_8 = 2;
      *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x44;
      FUN_004cba20(*(int *)(param_1 + 8) + -0x44);
    }
    else {
      FUN_004cb4f0(local_64);
      local_8 = 5;
      uVar4 = FUN_004cb820(*(int *)(param_1 + 8) + -0x44,*(int *)(param_1 + 8));
      *(undefined4 *)(param_1 + 8) = uVar4;
      local_68 = param_3 & 0xffffff00;
      FUN_004cbb50(param_2,local_68,local_68,local_68);
      FUN_004cba20(param_2 + 0x44);
    }
    local_8 = 0xffffffff;
    FUN_0044ca10(local_64);
  }
  ExceptionList = local_10;
  __security_check_cookie(local_18 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
004cb1a0 : PUSH EBP
004cb1a1 : MOV EBP,ESP
004cb1a3 : PUSH -0x1
004cb1a5 : PUSH 0xb7a0a4
004cb1aa : MOV EAX,FS:[0x0]
004cb1b0 : PUSH EAX
004cb1b1 : SUB ESP,0x68
004cb1b4 : MOV EAX,[0x00d66fa0]
004cb1b9 : XOR EAX,EBP
004cb1bb : MOV dword ptr [EBP + -0x14],EAX
004cb1be : PUSH EBX
004cb1bf : PUSH ESI
004cb1c0 : PUSH EDI
004cb1c1 : PUSH EAX
004cb1c2 : LEA EAX,[EBP + -0xc]
004cb1c5 : MOV FS:[0x0],EAX
004cb1cb : MOV dword ptr [EBP + -0x10],ESP
004cb1ce : MOV EBX,dword ptr [EBP + 0x8]
004cb1d1 : MOV dword ptr [EBP + -0x6c],EBX
004cb1d4 : MOV EAX,dword ptr [EBP + 0x10]
004cb1d7 : MOV dword ptr [EBP + -0x64],EAX
004cb1da : MOV ECX,dword ptr [EBX + 0x4]
004cb1dd : TEST ECX,ECX
004cb1df : JNZ 0x004cb1e5
004cb1e1 : XOR EDI,EDI
004cb1e3 : JMP 0x004cb1fd
004cb1e5 : MOV EDX,dword ptr [EBX + 0xc]
004cb1e8 : SUB EDX,ECX
004cb1ea : MOV EAX,0x78787879
004cb1ef : IMUL EDX
004cb1f1 : SAR EDX,0x5
004cb1f4 : MOV EAX,EDX
004cb1f6 : SHR EAX,0x1f
004cb1f9 : ADD EAX,EDX
004cb1fb : MOV EDI,EAX
004cb1fd : MOV ESI,dword ptr [EBX + 0x8]
004cb200 : MOV EDX,ESI
004cb202 : SUB EDX,ECX
004cb204 : MOV EAX,0x78787879
004cb209 : IMUL EDX
004cb20b : SAR EDX,0x5
004cb20e : MOV EAX,EDX
004cb210 : SHR EAX,0x1f
004cb213 : ADD EAX,EDX
004cb215 : MOV ECX,0x3c3c3c3
004cb21a : SUB ECX,EAX
004cb21c : CMP ECX,0x1
004cb21f : JNC 0x004cb226
004cb221 : CALL 0x00429be0
004cb226 : INC EAX
004cb227 : CMP EDI,EAX
004cb229 : JNC 0x004cb387
004cb22f : MOV ECX,EDI
004cb231 : SHR ECX,0x1
004cb233 : MOV EDX,0x3c3c3c3
004cb238 : SUB EDX,ECX
004cb23a : CMP EDX,EDI
004cb23c : JNC 0x004cb247
004cb23e : XOR ESI,ESI
004cb240 : MOV dword ptr [EBP + -0x68],ESI
004cb243 : MOV EDI,ESI
004cb245 : JMP 0x004cb24e
004cb247 : ADD EDI,ECX
004cb249 : MOV dword ptr [EBP + -0x68],EDI
004cb24c : XOR ESI,ESI
004cb24e : CMP EDI,EAX
004cb250 : JNC 0x004cb257
004cb252 : MOV dword ptr [EBP + -0x68],EAX
004cb255 : MOV EDI,EAX
004cb257 : MOV ECX,EDI
004cb259 : CALL 0x004cb850
004cb25e : MOV EDI,EAX
004cb260 : MOV dword ptr [EBP + -0x74],EDI
004cb263 : MOV ECX,dword ptr [EBP + 0xc]
004cb266 : SUB ECX,dword ptr [EBX + 0x4]
004cb269 : MOV EAX,0x78787879
004cb26e : IMUL ECX
004cb270 : SAR EDX,0x5
004cb273 : MOV EAX,EDX
004cb275 : SHR EAX,0x1f
004cb278 : ADD EAX,EDX
004cb27a : MOV dword ptr [EBP + -0x6c],EAX
004cb27d : MOV dword ptr [EBP + -0x70],ESI
004cb280 : MOV dword ptr [EBP + -0x4],ESI
004cb283 : MOV ECX,dword ptr [EBP + -0x64]
004cb286 : PUSH ECX
004cb287 : MOV EDX,EAX
004cb289 : SHL EDX,0x4
004cb28c : ADD EDX,EAX
004cb28e : LEA EDI,[EDI + EDX*0x4]
004cb291 : MOV ESI,0x1
004cb296 : CALL 0x004cb060
004cb29b : MOV dword ptr [EBP + -0x70],ESI
004cb29e : MOV EAX,dword ptr [EBP + 0xc]
004cb2a1 : PUSH EAX
004cb2a2 : MOV ECX,dword ptr [EBX + 0x4]
004cb2a5 : PUSH ECX
004cb2a6 : MOV EDI,dword ptr [EBP + -0x74]
004cb2a9 : MOV EDX,EDI
004cb2ab : CALL 0x004cb820
004cb2b0 : MOV dword ptr [EBP + -0x70],0x2
004cb2b7 : MOV EAX,dword ptr [EBP + -0x6c]
004cb2ba : INC EAX
004cb2bb : MOV EDX,EAX
004cb2bd : SHL EDX,0x4
004cb2c0 : ADD EDX,EAX
004cb2c2 : LEA EDX,[EDI + EDX*0x4]
004cb2c5 : MOV EAX,dword ptr [EBX + 0x8]
004cb2c8 : PUSH EAX
004cb2c9 : MOV ECX,dword ptr [EBP + 0xc]
004cb2cc : PUSH ECX
004cb2cd : CALL 0x004cb820
004cb2d2 : MOV dword ptr [EBP + -0x4],0xffffffff
004cb2d9 : MOV ECX,dword ptr [EBX + 0x8]
004cb2dc : MOV ESI,dword ptr [EBX + 0x4]
004cb2df : SUB ECX,ESI
004cb2e1 : MOV EAX,0x78787879
004cb2e6 : IMUL ECX
004cb2e8 : SAR EDX,0x5
004cb2eb : MOV EAX,EDX
004cb2ed : SHR EAX,0x1f
004cb2f0 : LEA EDX,[EDX + EAX*0x1 + 0x1]
004cb2f4 : MOV dword ptr [EBP + -0x64],EDX
004cb2f7 : TEST ESI,ESI
004cb2f9 : JZ 0x004cb313
004cb2fb : MOV EDI,dword ptr [EBX + 0x8]
004cb2fe : MOV EAX,ESI
004cb300 : CALL 0x004caff0
004cb305 : MOV ECX,dword ptr [EBX + 0x4]
004cb308 : CALL 0x006f04e0
004cb313 : MOV EAX,dword ptr [EBP + -0x68]
004cb316 : MOV ECX,EAX
004cb318 : SHL ECX,0x4
004cb31b : ADD ECX,EAX
004cb31d : LEA EAX,[EDI + ECX*0x4]
004cb320 : MOV dword ptr [EBX + 0xc],EAX
004cb323 : MOV ECX,EDX
004cb325 : SHL ECX,0x4
004cb328 : ADD ECX,EDX
004cb32a : LEA EDX,[EDI + ECX*0x4]
004cb32d : MOV dword ptr [EBX + 0x8],EDX
004cb330 : MOV dword ptr [EBX + 0x4],EDI
004cb333 : JMP 0x004cb49d
004cb387 : SUB ESI,dword ptr [EBP + 0xc]
004cb38a : MOV EAX,0x78787879
004cb38f : IMUL ESI
004cb391 : SAR EDX,0x5
004cb394 : MOV EAX,EDX
004cb396 : SHR EAX,0x1f
004cb399 : ADD EAX,EDX
004cb39b : MOV EDI,dword ptr [EBP + -0x64]
004cb39e : CMP EAX,0x1
004cb3a1 : JNC 0x004cb43d
004cb3a7 : LEA ECX,[EBP + -0x60]
004cb3aa : PUSH ECX
004cb3ab : CALL 0x004cb4f0
004cb3b0 : MOV dword ptr [EBP + -0x4],0x2
004cb3b7 : MOV EAX,dword ptr [EBP + 0xc]
004cb3ba : LEA EDX,[EAX + 0x44]
004cb3bd : MOV ECX,dword ptr [EBX + 0x8]
004cb3c0 : PUSH ECX
004cb3c1 : PUSH EAX
004cb3c2 : CALL 0x004cb820
004cb3c7 : MOV byte ptr [EBP + -0x4],0x3
004cb3cb : MOV EDI,dword ptr [EBX + 0x8]
004cb3ce : LEA EDX,[EBP + -0x60]
004cb3d1 : PUSH EDX
004cb3d2 : MOV ECX,EDI
004cb3d4 : SUB ECX,dword ptr [EBP + 0xc]
004cb3d7 : MOV EAX,0x78787879
004cb3dc : IMUL ECX
004cb3de : SAR EDX,0x5
004cb3e1 : MOV EAX,EDX
004cb3e3 : SHR EAX,0x1f
004cb3e6 : ADD EAX,EDX
004cb3e8 : MOV ESI,0x1
004cb3ed : SUB ESI,EAX
004cb3ef : CALL 0x004cb060
004cb3f4 : MOV dword ptr [EBP + -0x4],0x2
004cb3fb : ADD dword ptr [EBX + 0x8],0x44
004cb3ff : MOV EBX,dword ptr [EBX + 0x8]
004cb402 : LEA EAX,[EBX + -0x44]
004cb405 : PUSH EAX
004cb406 : LEA EDI,[EBP + -0x60]
004cb409 : MOV EAX,dword ptr [EBP + 0xc]
004cb40c : CALL 0x004cba20
004cb411 : ADD ESP,0x4
004cb414 : MOV dword ptr [EBP + -0x4],0xffffffff
004cb41b : MOV ECX,EDI
004cb41d : PUSH ECX
004cb41e : JMP 0x004cb498
004cb43d : LEA EAX,[EBP + -0x60]
004cb440 : PUSH EAX
004cb441 : CALL 0x004cb4f0
004cb446 : MOV dword ptr [EBP + -0x4],0x5
004cb44d : MOV ESI,dword ptr [EBX + 0x8]
004cb450 : LEA EDI,[ESI + -0x44]
004cb453 : PUSH ESI
004cb454 : PUSH EDI
004cb455 : MOV EDX,ESI
004cb457 : CALL 0x004cb820
004cb45c : MOV dword ptr [EBX + 0x8],EAX
004cb45f : MOV byte ptr [EBP + -0x64],0x0
004cb463 : MOV ECX,dword ptr [EBP + -0x64]
004cb466 : PUSH ECX
004cb467 : MOV EDX,dword ptr [EBP + -0x64]
004cb46a : PUSH EDX
004cb46b : MOV EAX,dword ptr [EBP + -0x64]
004cb46e : PUSH EAX
004cb46f : MOV ECX,dword ptr [EBP + 0xc]
004cb472 : PUSH ECX
004cb473 : MOV EAX,ESI
004cb475 : MOV ECX,EDI
004cb477 : CALL 0x004cbb50
004cb47c : MOV EAX,dword ptr [EBP + 0xc]
004cb47f : LEA EDX,[EAX + 0x44]
004cb482 : PUSH EDX
004cb483 : LEA EDI,[EBP + -0x60]
004cb486 : CALL 0x004cba20
004cb48b : ADD ESP,0x14
004cb48e : MOV dword ptr [EBP + -0x4],0xffffffff
004cb495 : MOV EAX,EDI
004cb497 : PUSH EAX
004cb498 : CALL 0x0044ca10
004cb49d : MOV ECX,dword ptr [EBP + -0xc]
004cb4a0 : MOV dword ptr FS:[0x0],ECX
004cb4a7 : POP ECX
004cb4a8 : POP EDI
004cb4a9 : POP ESI
004cb4aa : POP EBX
004cb4ab : MOV ECX,dword ptr [EBP + -0x14]
004cb4ae : XOR ECX,EBP
004cb4b0 : CALL 0x00633e6b
004cb4b5 : MOV ESP,EBP
004cb4b7 : POP EBP
004cb4b8 : RET 0xc
