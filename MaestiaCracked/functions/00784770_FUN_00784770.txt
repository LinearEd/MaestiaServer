PROGRAM  : Maestia.exe
FUNCTION : FUN_00784770
ENTRY    : 00784770
BODY     : [[00784770, 0078488e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00784770(void)

{
  uint uVar1;
  undefined4 *in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b312ac;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *in_ECX = &PTR_FUN_00cd79c4;
  local_8 = 4;
  if (in_ECX[9] != 0) {
    FUN_007d7890(uVar1);
    if ((int *)in_ECX[9] != (int *)0x0) {
      (**(code **)(*(int *)in_ECX[9] + 0x18))(1);
      in_ECX[9] = 0;
    }
    if ((int *)in_ECX[0x21] != (int *)0x0) {
      (**(code **)(*(int *)in_ECX[0x21] + 8))();
    }
    FUN_0045cd30(*(undefined4 *)(in_ECX[0x1b] + 4));
    *(undefined4 *)(in_ECX[0x1b] + 4) = in_ECX[0x1b];
    in_ECX[0x1c] = 0;
    *(undefined4 *)in_ECX[0x1b] = in_ECX[0x1b];
    *(undefined4 *)(in_ECX[0x1b] + 8) = in_ECX[0x1b];
    FUN_0042d2e0(in_ECX + 0x1d);
  }
  local_8 = CONCAT31(local_8._1_3_,3);
  if (in_ECX[0x1e] != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  in_ECX[0x1e] = 0;
  in_ECX[0x1f] = 0;
  in_ECX[0x20] = 0;
  local_8._0_1_ = 2;
  FUN_0045c2b0(in_ECX + 0x1a);
  local_8._0_1_ = 1;
  in_ECX[0x11] = &PTR_FUN_00cdec94;
  DeleteCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0x12));
  local_8 = (uint)local_8._1_3_ << 8;
  in_ECX[10] = &PTR_FUN_00cdec94;
  DeleteCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0xb));
  local_8 = 0xffffffff;
  if (7 < (uint)in_ECX[7]) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  in_ECX[7] = 7;
  in_ECX[6] = 0;
  *(undefined2 *)(in_ECX + 2) = 0;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00784770 : PUSH EBP
00784771 : MOV EBP,ESP
00784773 : PUSH -0x1
00784775 : PUSH 0xb312ac
0078477a : MOV EAX,FS:[0x0]
00784780 : PUSH EAX
00784781 : PUSH ECX
00784782 : PUSH EBX
00784783 : PUSH ESI
00784784 : PUSH EDI
00784785 : MOV EAX,[0x00d66fa0]
0078478a : XOR EAX,EBP
0078478c : PUSH EAX
0078478d : LEA EAX,[EBP + -0xc]
00784790 : MOV FS:[0x0],EAX
00784796 : MOV ESI,ECX
00784798 : MOV dword ptr [EBP + -0x10],ESI
0078479b : MOV dword ptr [ESI],0xcd79c4
007847a1 : MOV dword ptr [EBP + -0x4],0x4
007847a8 : MOV ECX,dword ptr [ESI + 0x24]
007847ab : XOR EBX,EBX
007847ad : CMP ECX,EBX
007847af : JZ 0x00784808
007847b1 : CALL 0x007d7890
007847b6 : MOV ECX,dword ptr [ESI + 0x24]
007847b9 : CMP ECX,EBX
007847bb : JZ 0x007847c9
007847bd : MOV EAX,dword ptr [ECX]
007847bf : MOV EDX,dword ptr [EAX + 0x18]
007847c2 : PUSH 0x1
007847c4 : CALL EDX
007847c6 : MOV dword ptr [ESI + 0x24],EBX
007847c9 : MOV ECX,dword ptr [ESI + 0x84]
007847cf : CMP ECX,EBX
007847d1 : JZ 0x007847da
007847d3 : MOV EAX,dword ptr [ECX]
007847d5 : MOV EDX,dword ptr [EAX + 0x8]
007847d8 : CALL EDX
007847da : MOV EAX,dword ptr [ESI + 0x6c]
007847dd : MOV ECX,dword ptr [EAX + 0x4]
007847e0 : LEA EDI,[ESI + 0x68]
007847e3 : PUSH ECX
007847e4 : MOV ECX,EDI
007847e6 : CALL 0x0045cd30
007847eb : MOV EAX,dword ptr [EDI + 0x4]
007847ee : MOV dword ptr [EAX + 0x4],EAX
007847f1 : MOV EAX,dword ptr [EDI + 0x4]
007847f4 : MOV dword ptr [EDI + 0x8],EBX
007847f7 : MOV dword ptr [EAX],EAX
007847f9 : MOV EDI,dword ptr [EDI + 0x4]
007847fc : LEA EDX,[ESI + 0x74]
007847ff : PUSH EDX
00784800 : MOV dword ptr [EDI + 0x8],EDI
00784803 : CALL 0x0042d2e0
00784808 : MOV byte ptr [EBP + -0x4],0x3
0078480c : MOV ECX,dword ptr [ESI + 0x78]
0078480f : CMP ECX,EBX
00784811 : JZ 0x00784818
00784813 : CALL 0x006f04e0
00784818 : MOV dword ptr [ESI + 0x78],EBX
0078481b : MOV dword ptr [ESI + 0x7c],EBX
0078481e : MOV dword ptr [ESI + 0x80],EBX
00784824 : MOV byte ptr [EBP + -0x4],0x2
00784828 : LEA EAX,[ESI + 0x68]
0078482b : PUSH EAX
0078482c : CALL 0x0045c2b0
00784831 : MOV byte ptr [EBP + -0x4],0x1
00784835 : MOV EDI,dword ptr [0x00b850fc]
0078483b : LEA ECX,[ESI + 0x48]
0078483e : PUSH ECX
0078483f : MOV dword ptr [ESI + 0x44],0xcdec94
00784846 : CALL EDI
00784848 : MOV byte ptr [EBP + -0x4],BL
0078484b : LEA EDX,[ESI + 0x2c]
0078484e : PUSH EDX
0078484f : MOV dword ptr [ESI + 0x28],0xcdec94
00784856 : CALL EDI
00784858 : MOV dword ptr [EBP + -0x4],0xffffffff
0078485f : CMP dword ptr [ESI + 0x1c],0x8
00784863 : JC 0x0078486d
00784865 : MOV ECX,dword ptr [ESI + 0x8]
00784868 : CALL 0x006f04e0
0078486d : XOR EAX,EAX
0078486f : MOV dword ptr [ESI + 0x1c],0x7
00784876 : MOV dword ptr [ESI + 0x18],EBX
00784879 : MOV word ptr [ESI + 0x8],AX
0078487d : MOV ECX,dword ptr [EBP + -0xc]
00784880 : MOV dword ptr FS:[0x0],ECX
00784887 : POP ECX
00784888 : POP EDI
00784889 : POP ESI
0078488a : POP EBX
0078488b : MOV ESP,EBP
0078488d : POP EBP
0078488e : RET
