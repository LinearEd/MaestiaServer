PROGRAM  : Maestia.exe
FUNCTION : FUN_00505540
ENTRY    : 00505540
BODY     : [[00505540, 00505596]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00505540(void)

{
  int in_ECX;
  
  FUN_00502c70();
  if (((*(byte *)(in_ECX + 0x28) & 2) == 0) && (*(int *)(in_ECX + 0x20) != 0)) {
    FUN_00503db0();
  }
  *(undefined4 *)(in_ECX + 0x20) = 0;
  if (((*(byte *)(in_ECX + 0x28) & 1) == 0) && (*(int *)(in_ECX + 0x24) != 0)) {
    FUN_00503db0();
  }
  *(undefined4 *)(in_ECX + 0x24) = 0;
  if (*(GRefCountNTSImpl **)(in_ECX + 0xc) != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(in_ECX + 0xc));
  }
  if (*(GRefCountNTSImpl **)(in_ECX + 8) != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(in_ECX + 8));
    return;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00505540 : PUSH ESI
00505541 : MOV ESI,ECX
00505543 : LEA ECX,[ESI + 0x30]
00505546 : CALL 0x00502c70
0050554b : TEST byte ptr [ESI + 0x28],0x2
0050554f : JNZ 0x0050555d
00505551 : MOV ECX,dword ptr [ESI + 0x20]
00505554 : TEST ECX,ECX
00505556 : JZ 0x0050555d
00505558 : CALL 0x00503db0
0050555d : TEST byte ptr [ESI + 0x28],0x1
00505561 : MOV dword ptr [ESI + 0x20],0x0
00505568 : JNZ 0x00505576
0050556a : MOV ECX,dword ptr [ESI + 0x24]
0050556d : TEST ECX,ECX
0050556f : JZ 0x00505576
00505571 : CALL 0x00503db0
00505576 : MOV dword ptr [ESI + 0x24],0x0
0050557d : MOV ECX,dword ptr [ESI + 0xc]
00505580 : TEST ECX,ECX
00505582 : JZ 0x00505589
00505584 : CALL 0x004ff7c0
00505589 : MOV ECX,dword ptr [ESI + 0x8]
0050558c : POP ESI
0050558d : TEST ECX,ECX
0050558f : JZ 0x00505596
00505591 : JMP 0x004ff7c0
00505596 : RET
