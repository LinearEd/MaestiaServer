PROGRAM  : Maestia.exe
FUNCTION : FUN_0078b8b0
ENTRY    : 0078b8b0
BODY     : [[0078b8b0, 0078b95f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0078b8b0(void)

{
  int *piVar1;
  int *piVar2;
  undefined4 *puVar3;
  int unaff_EDI;
  
  FUN_008018d0(L"[AvaKnifeTraceMgr::Release]");
  piVar1 = *(int **)(unaff_EDI + 8);
  piVar2 = (int *)*piVar1;
  while (piVar2 != piVar1) {
    puVar3 = (undefined4 *)piVar2[3];
    if (puVar3 != (undefined4 *)0x0) {
      (**(code **)*puVar3)(1);
    }
    FUN_0045d060();
    piVar1 = *(int **)(unaff_EDI + 8);
  }
  FUN_0045cd30(*(undefined4 *)(*(int *)(unaff_EDI + 8) + 4));
  *(int *)(*(int *)(unaff_EDI + 8) + 4) = *(int *)(unaff_EDI + 8);
  *(undefined4 *)(unaff_EDI + 0xc) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 8) = *(undefined4 *)(unaff_EDI + 8);
  *(int *)(*(int *)(unaff_EDI + 8) + 8) = *(int *)(unaff_EDI + 8);
  piVar1 = *(int **)(unaff_EDI + 0x1c);
  if (piVar1 != (int *)0x0) {
    (**(code **)(*piVar1 + 8))(piVar1);
    *(undefined4 *)(unaff_EDI + 0x1c) = 0;
  }
  FUN_0045cd30(*(undefined4 *)(*(int *)(unaff_EDI + 0x14) + 4));
  *(int *)(*(int *)(unaff_EDI + 0x14) + 4) = *(int *)(unaff_EDI + 0x14);
  *(undefined4 *)(unaff_EDI + 0x18) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x14) = *(undefined4 *)(unaff_EDI + 0x14);
  *(int *)(*(int *)(unaff_EDI + 0x14) + 8) = *(int *)(unaff_EDI + 0x14);
  return;
}



============================================================
DISASSEMBLY
============================================================
0078b8b0 : PUSH EBP
0078b8b1 : MOV EBP,ESP
0078b8b3 : PUSH ECX
0078b8b4 : PUSH ESI
0078b8b5 : MOV ESI,dword ptr [0x00da98e8]
0078b8bb : PUSH 0xc131bc
0078b8c0 : CALL 0x008018d0
0078b8c5 : MOV ECX,dword ptr [EDI + 0x8]
0078b8c8 : MOV EAX,dword ptr [ECX]
0078b8ca : ADD ESP,0x4
0078b8cd : MOV dword ptr [EBP + -0x4],EAX
0078b8d0 : CMP EAX,ECX
0078b8d2 : JZ 0x0078b8f3
0078b8d4 : MOV ECX,dword ptr [EAX + 0xc]
0078b8d7 : TEST ECX,ECX
0078b8d9 : JZ 0x0078b8e3
0078b8db : MOV EAX,dword ptr [ECX]
0078b8dd : MOV EDX,dword ptr [EAX]
0078b8df : PUSH 0x1
0078b8e1 : CALL EDX
0078b8e3 : LEA EDX,[EBP + -0x4]
0078b8e6 : CALL 0x0045d060
0078b8eb : MOV EAX,dword ptr [EBP + -0x4]
0078b8ee : CMP EAX,dword ptr [EDI + 0x8]
0078b8f1 : JNZ 0x0078b8d4
0078b8f3 : MOV EAX,dword ptr [EDI + 0x8]
0078b8f6 : MOV ECX,dword ptr [EAX + 0x4]
0078b8f9 : LEA ESI,[EDI + 0x4]
0078b8fc : PUSH ECX
0078b8fd : MOV ECX,ESI
0078b8ff : CALL 0x0045cd30
0078b904 : MOV EAX,dword ptr [ESI + 0x4]
0078b907 : MOV dword ptr [EAX + 0x4],EAX
0078b90a : MOV EAX,dword ptr [ESI + 0x4]
0078b90d : MOV dword ptr [ESI + 0x8],0x0
0078b914 : MOV dword ptr [EAX],EAX
0078b916 : MOV ESI,dword ptr [ESI + 0x4]
0078b919 : MOV dword ptr [ESI + 0x8],ESI
0078b91c : MOV EAX,dword ptr [EDI + 0x1c]
0078b91f : TEST EAX,EAX
0078b921 : JZ 0x0078b932
0078b923 : MOV EDX,dword ptr [EAX]
0078b925 : PUSH EAX
0078b926 : MOV EAX,dword ptr [EDX + 0x8]
0078b929 : CALL EAX
0078b92b : MOV dword ptr [EDI + 0x1c],0x0
0078b932 : MOV ECX,dword ptr [EDI + 0x14]
0078b935 : MOV EDX,dword ptr [ECX + 0x4]
0078b938 : LEA ESI,[EDI + 0x10]
0078b93b : PUSH EDX
0078b93c : MOV ECX,ESI
0078b93e : CALL 0x0045cd30
0078b943 : MOV EAX,dword ptr [ESI + 0x4]
0078b946 : MOV dword ptr [EAX + 0x4],EAX
0078b949 : MOV EAX,dword ptr [ESI + 0x4]
0078b94c : MOV dword ptr [ESI + 0x8],0x0
0078b953 : MOV dword ptr [EAX],EAX
0078b955 : MOV ESI,dword ptr [ESI + 0x4]
0078b958 : MOV dword ptr [ESI + 0x8],ESI
0078b95b : POP ESI
0078b95c : MOV ESP,EBP
0078b95e : POP EBP
0078b95f : RET
