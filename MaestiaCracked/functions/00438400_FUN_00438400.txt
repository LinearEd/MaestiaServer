PROGRAM  : Maestia.exe
FUNCTION : FUN_00438400
ENTRY    : 00438400
BODY     : [[00438400, 00438537] [0043853a, 00438589]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00438400(int param_1,int param_2)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  char cVar4;
  uint uVar5;
  undefined4 uVar6;
  int iVar7;
  
  if (param_1 != param_2) {
    uVar2 = (*(int *)(param_2 + 8) - *(int *)(param_2 + 4)) / 0x1c;
    if (uVar2 == 0) {
      FUN_00438590();
      return param_1;
    }
    iVar1 = *(int *)(param_1 + 4);
    uVar3 = (*(int *)(param_1 + 8) - iVar1) / 0x1c;
    if (uVar2 <= uVar3) {
      FUN_004380f0(*(undefined4 *)(param_2 + 8));
      FUN_00438e30(param_2);
      *(int *)(param_1 + 8) =
           *(int *)(param_1 + 4) + ((*(int *)(param_2 + 8) - *(int *)(param_2 + 4)) / 0x1c) * 0x1c;
      return param_1;
    }
    if (iVar1 == 0) {
      uVar5 = 0;
    }
    else {
      uVar5 = (*(int *)(param_1 + 0xc) - iVar1) / 0x1c;
    }
    if (uVar2 <= uVar5) {
      iVar1 = *(int *)(param_2 + 4) + uVar3 * 0x1c;
      FUN_004380f0(iVar1);
      uVar6 = FUN_00438970(iVar1,*(undefined4 *)(param_2 + 8));
      *(undefined4 *)(param_1 + 8) = uVar6;
      return param_1;
    }
    if (iVar1 != 0) {
      FUN_00438e70(iVar1);
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    iVar7 = *(int *)(param_2 + 8) - *(int *)(param_2 + 4);
    iVar1 = iVar7 >> 0x1f;
    *(undefined4 *)(param_1 + 4) = 0;
    *(undefined4 *)(param_1 + 8) = 0;
    *(undefined4 *)(param_1 + 0xc) = 0;
    if (iVar7 / 0x1c + iVar1 != iVar1) {
      cVar4 = FUN_004361a0();
      if (cVar4 != '\0') {
        uVar6 = FUN_00438970(*(undefined4 *)(param_2 + 4),*(undefined4 *)(param_2 + 8));
        *(undefined4 *)(param_1 + 8) = uVar6;
      }
    }
  }
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00438400 : PUSH EBP
00438401 : MOV EBP,ESP
00438403 : PUSH ECX
00438404 : PUSH EBX
00438405 : MOV EBX,dword ptr [EBP + 0x8]
00438408 : PUSH ESI
00438409 : MOV ESI,dword ptr [EBP + 0xc]
0043840c : PUSH EDI
0043840d : CMP EBX,ESI
0043840f : JZ 0x0043857f
00438415 : MOV EAX,dword ptr [ESI + 0x4]
00438418 : MOV ECX,dword ptr [ESI + 0x8]
0043841b : SUB ECX,EAX
0043841d : MOV EAX,0x92492493
00438422 : IMUL ECX
00438424 : ADD EDX,ECX
00438426 : SAR EDX,0x4
00438429 : MOV EAX,EDX
0043842b : SHR EAX,0x1f
0043842e : ADD EAX,EDX
00438430 : MOV dword ptr [EBP + 0x8],EAX
00438433 : JNZ 0x00438447
00438435 : MOV ESI,EBX
00438437 : CALL 0x00438590
0043843c : MOV EAX,EBX
0043843e : POP EDI
0043843f : POP ESI
00438440 : POP EBX
00438441 : MOV ESP,EBP
00438443 : POP EBP
00438444 : RET 0x8
00438447 : MOV ECX,dword ptr [EBX + 0x8]
0043844a : MOV EDI,dword ptr [EBX + 0x4]
0043844d : SUB ECX,EDI
0043844f : MOV EAX,0x92492493
00438454 : IMUL ECX
00438456 : ADD EDX,ECX
00438458 : SAR EDX,0x4
0043845b : MOV ECX,EDX
0043845d : SHR ECX,0x1f
00438460 : ADD ECX,EDX
00438462 : CMP dword ptr [EBP + 0x8],ECX
00438465 : JA 0x004384bd
00438467 : MOV EAX,dword ptr [ESI + 0x8]
0043846a : PUSH EAX
0043846b : MOV EAX,dword ptr [ESI + 0x4]
0043846e : MOV ECX,EDI
00438470 : CALL 0x004380f0
00438475 : MOV ECX,dword ptr [EBP + 0xc]
00438478 : MOV EDI,dword ptr [EBX + 0x8]
0043847b : ADD ESP,0x4
0043847e : PUSH ECX
0043847f : CALL 0x00438e30
00438484 : MOV ECX,dword ptr [ESI + 0x8]
00438487 : SUB ECX,dword ptr [ESI + 0x4]
0043848a : MOV EAX,0x92492493
0043848f : IMUL ECX
00438491 : ADD EDX,ECX
00438493 : SAR EDX,0x4
00438496 : MOV EAX,EDX
00438498 : SHR EAX,0x1f
0043849b : ADD EAX,EDX
0043849d : LEA EDX,[EAX*0x8 + 0x0]
004384a4 : ADD ESP,0x4
004384a7 : SUB EDX,EAX
004384a9 : MOV EAX,dword ptr [EBX + 0x4]
004384ac : LEA ECX,[EAX + EDX*0x4]
004384af : MOV dword ptr [EBX + 0x8],ECX
004384b2 : MOV EAX,EBX
004384b4 : POP EDI
004384b5 : POP ESI
004384b6 : POP EBX
004384b7 : MOV ESP,EBP
004384b9 : POP EBP
004384ba : RET 0x8
004384bd : TEST EDI,EDI
004384bf : JNZ 0x004384c5
004384c1 : XOR EAX,EAX
004384c3 : JMP 0x004384e1
004384c5 : MOV EDX,dword ptr [EBX + 0xc]
004384c8 : SUB EDX,EDI
004384ca : MOV dword ptr [EBP + -0x4],EDX
004384cd : MOV EAX,0x92492493
004384d2 : IMUL EDX
004384d4 : ADD EDX,dword ptr [EBP + -0x4]
004384d7 : SAR EDX,0x4
004384da : MOV EAX,EDX
004384dc : SHR EAX,0x1f
004384df : ADD EAX,EDX
004384e1 : CMP dword ptr [EBP + 0x8],EAX
004384e4 : JA 0x00438521
004384e6 : MOV EAX,dword ptr [ESI + 0x4]
004384e9 : LEA EDX,[ECX*0x8 + 0x0]
004384f0 : SUB EDX,ECX
004384f2 : LEA ECX,[EAX + EDX*0x4]
004384f5 : MOV dword ptr [EBP + 0xc],ECX
004384f8 : PUSH ECX
004384f9 : MOV ECX,EDI
004384fb : CALL 0x004380f0
00438500 : MOV EAX,dword ptr [ESI + 0x8]
00438503 : MOV ECX,dword ptr [EBP + 0xc]
00438506 : MOV EDX,dword ptr [EBX + 0x8]
00438509 : ADD ESP,0x4
0043850c : PUSH EAX
0043850d : PUSH ECX
0043850e : CALL 0x00438970
00438513 : MOV dword ptr [EBX + 0x8],EAX
00438516 : MOV EAX,EBX
00438518 : POP EDI
00438519 : POP ESI
0043851a : POP EBX
0043851b : MOV ESP,EBP
0043851d : POP EBP
0043851e : RET 0x8
00438521 : XOR ECX,ECX
00438523 : CMP EDI,ECX
00438525 : JZ 0x0043853a
00438527 : PUSH EDI
00438528 : MOV EDI,dword ptr [EBX + 0x8]
0043852b : CALL 0x00438e70
00438530 : MOV ECX,dword ptr [EBX + 0x4]
00438533 : CALL 0x006f04e0
0043853a : MOV EDI,dword ptr [ESI + 0x8]
0043853d : SUB EDI,dword ptr [ESI + 0x4]
00438540 : MOV EAX,0x92492493
00438545 : IMUL EDI
00438547 : ADD EDX,EDI
00438549 : SAR EDX,0x4
0043854c : MOV ESI,EDX
0043854e : SHR ESI,0x1f
00438551 : ADD ESI,EDX
00438553 : MOV dword ptr [EBX + 0x4],ECX
00438556 : MOV dword ptr [EBX + 0x8],ECX
00438559 : MOV dword ptr [EBX + 0xc],ECX
0043855c : JZ 0x0043857f
0043855e : MOV EDI,EBX
00438560 : CALL 0x004361a0
00438565 : TEST AL,AL
00438567 : JZ 0x0043857f
00438569 : MOV EAX,dword ptr [EBP + 0xc]
0043856c : MOV EDX,dword ptr [EAX + 0x8]
0043856f : MOV EAX,dword ptr [EAX + 0x4]
00438572 : PUSH EDX
00438573 : MOV EDX,dword ptr [EBX + 0x4]
00438576 : PUSH EAX
00438577 : CALL 0x00438970
0043857c : MOV dword ptr [EBX + 0x8],EAX
0043857f : POP EDI
00438580 : POP ESI
00438581 : MOV EAX,EBX
00438583 : POP EBX
00438584 : MOV ESP,EBP
00438586 : POP EBP
00438587 : RET 0x8
