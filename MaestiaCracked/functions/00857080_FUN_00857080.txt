PROGRAM  : Maestia.exe
FUNCTION : FUN_00857080
ENTRY    : 00857080
BODY     : [[00857080, 00857207]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00857080(int param_1)

{
  code *pcVar1;
  int *in_EAX;
  int iVar2;
  undefined4 uVar3;
  
  if (param_1 != 0) {
    in_EAX[1] = *(int *)(param_1 + 4);
    FUN_004044f0();
    FUN_0088b500();
    pcVar1 = *(code **)(*in_EAX + 8);
    in_EAX[0x5b6] = *(int *)(param_1 + 0x16d8);
    (*pcVar1)(*(undefined4 *)(param_1 + 0xa0));
    in_EAX[0x5a7] = *(int *)(param_1 + 0x169c);
    *(undefined2 *)(in_EAX + 0x5a6) = *(undefined2 *)(param_1 + 0x1698);
    *(undefined2 *)((int)in_EAX + 0x169a) = *(undefined2 *)(param_1 + 0x169a);
    if (*(int *)(param_1 + 0x18b4) == 0) {
      iVar2 = 0;
    }
    else {
      iVar2 = *(int *)(*(int *)(param_1 + 0x18b4) + 0x24);
    }
    if (in_EAX[0x62d] != 0) {
      if (iVar2 < 0) {
        iVar2 = 0;
      }
      else if (10 < iVar2) {
        iVar2 = 10;
      }
      *(int *)(in_EAX[0x62d] + 0x24) = iVar2;
    }
    if (*(int *)(param_1 + 0x18b4) == 0) {
      iVar2 = 0;
    }
    else {
      iVar2 = *(int *)(*(int *)(param_1 + 0x18b4) + 0x28);
    }
    if (in_EAX[0x62d] != 0) {
      if (iVar2 < 0) {
        iVar2 = 0;
      }
      else if (10 < iVar2) {
        iVar2 = 10;
      }
      *(int *)(in_EAX[0x62d] + 0x28) = iVar2;
    }
    if (*(int *)(param_1 + 0x18b4) == 0) {
      uVar3 = 0;
    }
    else {
      uVar3 = *(undefined4 *)(*(int *)(param_1 + 0x18b4) + 0x2c);
    }
    if (in_EAX[0x62d] != 0) {
      *(undefined4 *)(in_EAX[0x62d] + 0x2c) = uVar3;
      *(undefined4 *)(in_EAX[0x62d] + 0x30) = 0xffffcca6;
    }
    if (*(int *)(param_1 + 0x18b4) == 0) {
      uVar3 = 0;
    }
    else {
      uVar3 = *(undefined4 *)(*(int *)(param_1 + 0x18b4) + 0x30);
    }
    if (in_EAX[0x62d] != 0) {
      *(undefined4 *)(in_EAX[0x62d] + 0x30) = uVar3;
    }
    in_EAX[0x5a8] = *(int *)(param_1 + 0x16a0);
    in_EAX[0x5a9] = *(int *)(param_1 + 0x16a4);
    in_EAX[0x5aa] = *(int *)(param_1 + 0x16a8);
    in_EAX[0x5ab] = *(int *)(param_1 + 0x16ac);
    *(undefined2 *)(in_EAX + 0x20) = *(undefined2 *)(param_1 + 0x80);
    (**(code **)(*in_EAX + 0xc))(*(undefined2 *)(param_1 + 0x7c));
    if ((in_EAX[0x633] != 0) && (in_EAX[0x633] != 1)) {
      (**(code **)(*in_EAX + 0x2d8))(0);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00857080 : PUSH EBP
00857081 : MOV EBP,ESP
00857083 : PUSH EBX
00857084 : MOV EBX,dword ptr [EBP + 0x8]
00857087 : PUSH ESI
00857088 : MOV ESI,EAX
0085708a : TEST EBX,EBX
0085708c : JZ 0x00857202
00857092 : MOV EAX,dword ptr [EBX + 0x4]
00857095 : PUSH EDI
00857096 : LEA ECX,[EBX + 0xc]
00857099 : MOV EDI,ESI
0085709b : MOV dword ptr [ESI + 0x4],EAX
0085709e : CALL 0x004044f0
008570a3 : MOV EAX,dword ptr [EBX + 0x8]
008570a6 : CALL 0x0088b500
008570ab : MOV ECX,dword ptr [EBX + 0x16d8]
008570b1 : MOV EDX,dword ptr [ESI]
008570b3 : MOV EDX,dword ptr [EDX + 0x8]
008570b6 : MOV dword ptr [ESI + 0x16d8],ECX
008570bc : MOV EAX,dword ptr [EBX + 0xa0]
008570c2 : PUSH EAX
008570c3 : MOV ECX,ESI
008570c5 : CALL EDX
008570c7 : MOV EAX,dword ptr [EBX + 0x169c]
008570cd : MOV dword ptr [ESI + 0x169c],EAX
008570d3 : MOV CX,word ptr [EBX + 0x1698]
008570da : MOV word ptr [ESI + 0x1698],CX
008570e1 : MOV DX,word ptr [EBX + 0x169a]
008570e8 : MOV word ptr [ESI + 0x169a],DX
008570ef : MOV EAX,dword ptr [EBX + 0x18b4]
008570f5 : POP EDI
008570f6 : TEST EAX,EAX
008570f8 : JZ 0x008570ff
008570fa : MOV EAX,dword ptr [EAX + 0x24]
008570fd : JMP 0x00857101
008570ff : XOR EAX,EAX
00857101 : MOV ECX,dword ptr [ESI + 0x18b4]
00857107 : TEST ECX,ECX
00857109 : JZ 0x00857120
0085710b : TEST EAX,EAX
0085710d : JGE 0x00857113
0085710f : XOR EAX,EAX
00857111 : JMP 0x0085711d
00857113 : CMP EAX,0xb
00857116 : JL 0x0085711d
00857118 : MOV EAX,0xa
0085711d : MOV dword ptr [ECX + 0x24],EAX
00857120 : MOV EAX,dword ptr [EBX + 0x18b4]
00857126 : TEST EAX,EAX
00857128 : JZ 0x0085712f
0085712a : MOV EAX,dword ptr [EAX + 0x28]
0085712d : JMP 0x00857131
0085712f : XOR EAX,EAX
00857131 : MOV ECX,dword ptr [ESI + 0x18b4]
00857137 : TEST ECX,ECX
00857139 : JZ 0x00857150
0085713b : TEST EAX,EAX
0085713d : JGE 0x00857143
0085713f : XOR EAX,EAX
00857141 : JMP 0x0085714d
00857143 : CMP EAX,0xb
00857146 : JL 0x0085714d
00857148 : MOV EAX,0xa
0085714d : MOV dword ptr [ECX + 0x28],EAX
00857150 : MOV EAX,dword ptr [EBX + 0x18b4]
00857156 : TEST EAX,EAX
00857158 : JZ 0x0085715f
0085715a : MOV ECX,dword ptr [EAX + 0x2c]
0085715d : JMP 0x00857161
0085715f : XOR ECX,ECX
00857161 : MOV EAX,dword ptr [ESI + 0x18b4]
00857167 : TEST EAX,EAX
00857169 : JZ 0x0085717b
0085716b : MOV dword ptr [EAX + 0x2c],ECX
0085716e : MOV EAX,dword ptr [ESI + 0x18b4]
00857174 : MOV dword ptr [EAX + 0x30],0xffffcca6
0085717b : MOV EAX,dword ptr [EBX + 0x18b4]
00857181 : TEST EAX,EAX
00857183 : JZ 0x0085718a
00857185 : MOV ECX,dword ptr [EAX + 0x30]
00857188 : JMP 0x0085718c
0085718a : XOR ECX,ECX
0085718c : MOV EAX,dword ptr [ESI + 0x18b4]
00857192 : TEST EAX,EAX
00857194 : JZ 0x00857199
00857196 : MOV dword ptr [EAX + 0x30],ECX
00857199 : MOV ECX,dword ptr [EBX + 0x16a0]
0085719f : MOV dword ptr [ESI + 0x16a0],ECX
008571a5 : MOV EDX,dword ptr [EBX + 0x16a4]
008571ab : MOV dword ptr [ESI + 0x16a4],EDX
008571b1 : MOV EAX,dword ptr [EBX + 0x16a8]
008571b7 : MOV dword ptr [ESI + 0x16a8],EAX
008571bd : MOV ECX,dword ptr [EBX + 0x16ac]
008571c3 : MOV EAX,dword ptr [ESI]
008571c5 : MOV dword ptr [ESI + 0x16ac],ECX
008571cb : MOV DX,word ptr [EBX + 0x80]
008571d2 : MOV word ptr [ESI + 0x80],DX
008571d9 : MOVZX ECX,word ptr [EBX + 0x7c]
008571dd : MOV EDX,dword ptr [EAX + 0xc]
008571e0 : PUSH ECX
008571e1 : MOV ECX,ESI
008571e3 : CALL EDX
008571e5 : MOV EAX,dword ptr [ESI + 0x18cc]
008571eb : TEST EAX,EAX
008571ed : JZ 0x00857202
008571ef : CMP EAX,0x1
008571f2 : JZ 0x00857202
008571f4 : MOV EAX,dword ptr [ESI]
008571f6 : MOV EDX,dword ptr [EAX + 0x2d8]
008571fc : PUSH 0x0
008571fe : MOV ECX,ESI
00857200 : CALL EDX
00857202 : POP ESI
00857203 : POP EBX
00857204 : POP EBP
00857205 : RET 0x4
