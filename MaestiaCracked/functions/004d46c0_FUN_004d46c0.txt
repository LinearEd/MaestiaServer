PROGRAM  : Maestia.exe
FUNCTION : FUN_004d46c0
ENTRY    : 004d46c0
BODY     : [[004d46c0, 004d47c7]]

============================================================
DECOMPILED C CODE
============================================================

_Collvec FUN_004d46c0(_Locinfo *param_1,char param_2)

{
  lconv *plVar1;
  _Cvtvec *p_Var2;
  undefined4 uVar3;
  int in_ECX;
  _Collvec _Var4;
  uint uStack_34;
  undefined1 local_20 [12];
  undefined1 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  uchar local_8 [4];
  
  local_8[0] = 0xff;
  local_8[1] = 0xff;
  local_8[2] = 0xff;
  local_8[3] = 0xff;
  puStack_c = &LAB_00b81150;
  local_10 = ExceptionList;
  uStack_34 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_14 = (undefined1 *)&uStack_34;
  ExceptionList = &local_10;
  plVar1 = _localeconv();
  *(undefined4 *)(in_ECX + 8) = 0;
  *(undefined4 *)(in_ECX + 0x10) = 0;
  *(undefined4 *)(in_ECX + 0x14) = 0;
  local_8[0] = '\0';
  local_8[1] = '\0';
  local_8[2] = '\0';
  local_8[3] = '\0';
  p_Var2 = std::_Locinfo::_Getcvt(param_1,(_Cvtvec *)local_20);
  uVar3 = FUN_004d4aa0(plVar1->grouping,0,p_Var2);
  *(undefined4 *)(in_ECX + 8) = uVar3;
  p_Var2 = std::_Locinfo::_Getcvt(param_1,(_Cvtvec *)local_20);
  uVar3 = FUN_004d4aa0("false",0,p_Var2);
  *(undefined4 *)(in_ECX + 0x10) = uVar3;
  p_Var2 = std::_Locinfo::_Getcvt(param_1,(_Cvtvec *)local_20);
  uVar3 = FUN_004d4aa0(&DAT_00cd5b98,0,p_Var2);
  *(undefined4 *)(in_ECX + 0x14) = uVar3;
  local_8[0] = 0xff;
  local_8[1] = 0xff;
  local_8[2] = 0xff;
  local_8[3] = 0xff;
  __Getcoll();
  *(char *)(in_ECX + 0xc) = *plVar1->decimal_point;
  __Getcoll();
  _Var4._LocaleName = (wchar_t *)0x0;
  _Var4._Page = (uint)plVar1->thousands_sep;
  *(char *)(in_ECX + 0xd) = *plVar1->thousands_sep;
  if (param_2 != '\0') {
    __Getcoll();
    uVar3 = FUN_004d4aa0(&DAT_00cca874,0,local_20);
    *(undefined4 *)(in_ECX + 8) = uVar3;
    __Getcoll();
    *(undefined1 *)(in_ECX + 0xc) = 0x2e;
    _Var4 = __Getcoll();
    *(undefined1 *)(in_ECX + 0xd) = 0x2c;
  }
  ExceptionList = local_10;
  return _Var4;
}



============================================================
DISASSEMBLY
============================================================
004d46c0 : PUSH EBP
004d46c1 : MOV EBP,ESP
004d46c3 : PUSH -0x1
004d46c5 : PUSH 0xb81150
004d46ca : MOV EAX,FS:[0x0]
004d46d0 : PUSH EAX
004d46d1 : SUB ESP,0x14
004d46d4 : PUSH EBX
004d46d5 : PUSH ESI
004d46d6 : PUSH EDI
004d46d7 : MOV EAX,[0x00d66fa0]
004d46dc : XOR EAX,EBP
004d46de : PUSH EAX
004d46df : LEA EAX,[EBP + -0xc]
004d46e2 : MOV FS:[0x0],EAX
004d46e8 : MOV dword ptr [EBP + -0x10],ESP
004d46eb : MOV ESI,ECX
004d46ed : MOV dword ptr [EBP + -0x14],ESI
004d46f0 : CALL 0x0063bc64
004d46f5 : MOV EDI,EAX
004d46f7 : XOR EAX,EAX
004d46f9 : MOV dword ptr [ESI + 0x8],EAX
004d46fc : MOV dword ptr [ESI + 0x10],EAX
004d46ff : MOV dword ptr [ESI + 0x14],EAX
004d4702 : MOV dword ptr [EBP + -0x4],EAX
004d4705 : LEA EAX,[EBP + -0x1c]
004d4708 : PUSH EAX
004d4709 : MOV EBX,dword ptr [EBP + 0x8]
004d470c : MOV ECX,EBX
004d470e : CALL 0x004d03c0
004d4713 : PUSH EAX
004d4714 : PUSH 0x0
004d4716 : MOV ECX,dword ptr [EDI + 0x8]
004d4719 : PUSH ECX
004d471a : CALL 0x004d4aa0
004d471f : ADD ESP,0xc
004d4722 : MOV dword ptr [ESI + 0x8],EAX
004d4725 : LEA EDX,[EBP + -0x1c]
004d4728 : PUSH EDX
004d4729 : MOV ECX,EBX
004d472b : CALL 0x004d03c0
004d4730 : PUSH EAX
004d4731 : PUSH 0x0
004d4733 : PUSH 0xcd5b90
004d4738 : CALL 0x004d4aa0
004d473d : ADD ESP,0xc
004d4740 : MOV dword ptr [ESI + 0x10],EAX
004d4743 : LEA EAX,[EBP + -0x1c]
004d4746 : PUSH EAX
004d4747 : MOV ECX,EBX
004d4749 : CALL 0x004d03c0
004d474e : PUSH EAX
004d474f : PUSH 0x0
004d4751 : PUSH 0xcd5b98
004d4756 : CALL 0x004d4aa0
004d475b : ADD ESP,0xc
004d475e : MOV dword ptr [ESI + 0x14],EAX
004d4761 : MOV dword ptr [EBP + -0x4],0xffffffff
004d4768 : CALL 0x00624a65
004d476d : MOV ECX,dword ptr [EDI]
004d476f : MOV DL,byte ptr [ECX]
004d4771 : MOV byte ptr [ESI + 0xc],DL
004d4774 : CALL 0x00624a65
004d4779 : MOV EAX,dword ptr [EDI + 0x4]
004d477c : MOV CL,byte ptr [EAX]
004d477e : MOV byte ptr [ESI + 0xd],CL
004d4781 : CMP byte ptr [EBP + 0xc],0x0
004d4785 : JZ 0x004d47b4
004d4787 : CALL 0x00624a65
004d478c : LEA EDX,[EBP + -0x1c]
004d478f : PUSH EDX
004d4790 : PUSH 0x0
004d4792 : PUSH 0xcca874
004d4797 : CALL 0x004d4aa0
004d479c : ADD ESP,0xc
004d479f : MOV dword ptr [ESI + 0x8],EAX
004d47a2 : CALL 0x00624a65
004d47a7 : MOV byte ptr [ESI + 0xc],0x2e
004d47ab : CALL 0x00624a65
004d47b0 : MOV byte ptr [ESI + 0xd],0x2c
004d47b4 : MOV ECX,dword ptr [EBP + -0xc]
004d47b7 : MOV dword ptr FS:[0x0],ECX
004d47be : POP ECX
004d47bf : POP EDI
004d47c0 : POP ESI
004d47c1 : POP EBX
004d47c2 : MOV ESP,EBP
004d47c4 : POP EBP
004d47c5 : RET 0x8
