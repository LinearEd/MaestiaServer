PROGRAM  : Maestia.exe
FUNCTION : FUN_00714100
ENTRY    : 00714100
BODY     : [[00714100, 007141f5]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00714100(void)

{
  int iVar1;
  uint uVar2;
  int in_ECX;
  LPCRITICAL_SECTION local_2c;
  char *local_28;
  undefined4 local_24;
  int local_20;
  undefined4 local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b3b841;
  local_14 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xffffffc8;
  ExceptionList = &local_14;
  local_2c = (LPCRITICAL_SECTION)(in_ECX + 0x68);
  local_20 = 0;
  local_28 = ".\\MoVDFile.cpp";
  local_24 = 0x153;
  local_1c = 1;
  FUN_006ef1a0(&local_2c);
  local_c = 0;
  iVar1 = *(int *)(in_ECX + 0x58);
  if (iVar1 == 0) {
    if (*(int *)(in_ECX + 0x3c) == 0) {
      switch(*(undefined2 *)(in_ECX + 0x44)) {
      case 0:
      case 4:
        FUN_00713c50(in_ECX);
        break;
      case 1:
        FUN_00713a70();
        break;
      case 2:
        FUN_007137c0();
        break;
      case 3:
        FUN_007134f0();
      }
    }
    else {
      FUN_00713f10(uVar2);
    }
    iVar1 = *(int *)(in_ECX + 0x58);
    if (*(char *)(in_ECX + 0xd4) != '\0') {
      *(undefined4 *)(in_ECX + 0x58) = 0;
    }
  }
  if (local_20 != 0) {
    local_c = 0xffffffff;
    LeaveCriticalSection(local_2c);
  }
  ExceptionList = local_14;
  return iVar1;
}



============================================================
DISASSEMBLY
============================================================
00714100 : PUSH EBP
00714101 : MOV EBP,ESP
00714103 : AND ESP,0xfffffff8
00714106 : PUSH -0x1
00714108 : PUSH 0xb3b841
0071410d : MOV EAX,FS:[0x0]
00714113 : PUSH EAX
00714114 : SUB ESP,0x18
00714117 : PUSH EBX
00714118 : PUSH ESI
00714119 : PUSH EDI
0071411a : MOV EAX,[0x00d66fa0]
0071411f : XOR EAX,ESP
00714121 : PUSH EAX
00714122 : LEA EAX,[ESP + 0x28]
00714126 : MOV FS:[0x0],EAX
0071412c : MOV ESI,ECX
0071412e : LEA ECX,[ESP + 0x10]
00714132 : LEA EAX,[ESI + 0x68]
00714135 : XOR EBX,EBX
00714137 : PUSH ECX
00714138 : MOV dword ptr [ESP + 0x20],EBX
0071413c : MOV dword ptr [ESP + 0x14],EAX
00714140 : MOV dword ptr [ESP + 0x18],0xc00da8
00714148 : MOV dword ptr [ESP + 0x1c],0x153
00714150 : MOV dword ptr [ESP + 0x24],0x1
00714158 : CALL 0x006ef1a0
0071415d : MOV dword ptr [ESP + 0x30],EBX
00714161 : MOV EDI,dword ptr [ESI + 0x58]
00714164 : CMP EDI,EBX
00714166 : JZ 0x0071417d
00714168 : MOV dword ptr [ESP + 0x30],0xffffffff
00714170 : CMP dword ptr [ESP + 0x1c],EBX
00714174 : JZ 0x007141e1
00714176 : MOV EDX,dword ptr [ESP + 0x10]
0071417a : PUSH EDX
0071417b : JMP 0x007141d7
0071417d : CMP dword ptr [ESI + 0x3c],EBX
00714180 : JNZ 0x007141af
00714182 : MOVZX EAX,word ptr [ESI + 0x44]
00714186 : CMP EAX,0x4
00714189 : JA 0x007141b6
0071418b : JMP dword ptr [EAX*0x4 + 0x7141f8]
00714192 : PUSH ESI
00714193 : CALL 0x00713c50
00714198 : JMP 0x007141b6
0071419a : CALL 0x00713a70
0071419f : JMP 0x007141b6
007141a1 : CALL 0x007137c0
007141a6 : JMP 0x007141b6
007141a8 : CALL 0x007134f0
007141ad : JMP 0x007141b6
007141af : MOV ECX,ESI
007141b1 : CALL 0x00713f10
007141b6 : MOV EDI,dword ptr [ESI + 0x58]
007141b9 : CMP byte ptr [ESI + 0xd4],BL
007141bf : JZ 0x007141c4
007141c1 : MOV dword ptr [ESI + 0x58],EBX
007141c4 : MOV dword ptr [ESP + 0x30],0xffffffff
007141cc : CMP dword ptr [ESP + 0x1c],EBX
007141d0 : JZ 0x007141e1
007141d2 : MOV EAX,dword ptr [ESP + 0x10]
007141d6 : PUSH EAX
007141d7 : CALL dword ptr [0x00b8511c]
007141dd : MOV dword ptr [ESP + 0x1c],EBX
007141e1 : MOV EAX,EDI
007141e3 : MOV ECX,dword ptr [ESP + 0x28]
007141e7 : MOV dword ptr FS:[0x0],ECX
007141ee : POP ECX
007141ef : POP EDI
007141f0 : POP ESI
007141f1 : POP EBX
007141f2 : MOV ESP,EBP
007141f4 : POP EBP
007141f5 : RET
