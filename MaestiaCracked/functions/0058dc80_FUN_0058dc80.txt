PROGRAM  : Maestia.exe
FUNCTION : FUN_0058dc80
ENTRY    : 0058dc80
BODY     : [[0058dc80, 0058dd92]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058dc80(float param_1,uint param_2,undefined4 param_3,undefined4 param_4,
                 undefined4 param_5,undefined4 param_6,undefined4 param_7)

{
  char cVar1;
  int iVar2;
  undefined4 uVar3;
  int in_ECX;
  undefined4 unaff_retaddr;
  
  if (*(int *)(in_ECX + 0x1b0) == 0) {
    iVar2 = FUN_00515840(0x88,0);
    if (iVar2 == 0) {
      uVar3 = 0;
    }
    else {
      uVar3 = FUN_005d73e0();
    }
    if (*(GRefCountNTSImpl **)(in_ECX + 0x1b0) != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(in_ECX + 0x1b0));
    }
    *(undefined4 *)(in_ECX + 0x1b0) = uVar3;
  }
  if ((param_2 & 0xff000000) == 0) {
    cVar1 = FUN_005d7280();
    if (cVar1 == '\0') {
      FUN_0058bfd0(0);
      FUN_005d70b0();
      return;
    }
  }
  else {
    if (param_1 <= 0.0) {
      param_1 = 0.05;
    }
    cVar1 = FUN_005d71c0(param_1 * 20.0,param_2,param_3,param_4,param_5,param_6,param_7);
    if (cVar1 == '\0') {
      FUN_0058bfd0(0);
      FUN_005d7450(unaff_retaddr,param_2,param_2,param_3,param_5,param_6,param_6);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0058dc80 : PUSH ESI
0058dc81 : MOV ESI,ECX
0058dc83 : CMP dword ptr [ESI + 0x1b0],0x0
0058dc8a : PUSH EDI
0058dc8b : JNZ 0x0058dcc8
0058dc8d : MOV EAX,dword ptr [ESI + 0xa0]
0058dc93 : MOV ECX,dword ptr [EAX + 0x14]
0058dc96 : PUSH 0x0
0058dc98 : PUSH 0x88
0058dc9d : CALL 0x00515840
0058dca2 : TEST EAX,EAX
0058dca4 : JZ 0x0058dcb1
0058dca6 : MOV ECX,EAX
0058dca8 : CALL 0x005d73e0
0058dcad : MOV EDI,EAX
0058dcaf : JMP 0x0058dcb3
0058dcb1 : XOR EDI,EDI
0058dcb3 : MOV ECX,dword ptr [ESI + 0x1b0]
0058dcb9 : TEST ECX,ECX
0058dcbb : JZ 0x0058dcc2
0058dcbd : CALL 0x004ff7c0
0058dcc2 : MOV dword ptr [ESI + 0x1b0],EDI
0058dcc8 : MOV EDI,dword ptr [ESP + 0x10]
0058dccc : TEST EDI,0xff000000
0058dcd2 : JZ 0x0058dd6b
0058dcd8 : FLDZ
0058dcda : FCOMP float ptr [ESP + 0xc]
0058dcde : FNSTSW AX
0058dce0 : TEST AH,0x1
0058dce3 : JNZ 0x0058dcef
0058dce5 : FLD float ptr [0x00cdf0f4]
0058dceb : FSTP float ptr [ESP + 0xc]
0058dcef : FLD float ptr [ESP + 0xc]
0058dcf3 : MOV ECX,dword ptr [ESI + 0x1b0]
0058dcf9 : FMUL double ptr [0x00b86058]
0058dcff : MOV EDX,dword ptr [ESP + 0x18]
0058dd03 : MOV EAX,dword ptr [ESP + 0x14]
0058dd07 : PUSH EBX
0058dd08 : MOV EBX,dword ptr [ESP + 0x24]
0058dd0c : FSTP float ptr [ESP + 0x10]
0058dd10 : FLD float ptr [ESP + 0x28]
0058dd14 : PUSH EBP
0058dd15 : MOV EBP,dword ptr [ESP + 0x24]
0058dd19 : PUSH ECX
0058dd1a : FSTP float ptr [ESP]
0058dd1d : PUSH EBX
0058dd1e : FLD float ptr [ESP + 0x1c]
0058dd22 : PUSH EBP
0058dd23 : PUSH EDX
0058dd24 : PUSH EAX
0058dd25 : PUSH EDI
0058dd26 : PUSH ECX
0058dd27 : FSTP float ptr [ESP]
0058dd2a : CALL 0x005d71c0
0058dd2f : TEST AL,AL
0058dd31 : JNZ 0x0058dd64
0058dd33 : PUSH 0x0
0058dd35 : MOV ECX,ESI
0058dd37 : CALL 0x0058bfd0
0058dd3c : FLD float ptr [ESP + 0x2c]
0058dd40 : MOV EDX,dword ptr [ESP + 0x1c]
0058dd44 : PUSH ECX
0058dd45 : MOV ECX,dword ptr [ESP + 0x24]
0058dd49 : FSTP float ptr [ESP]
0058dd4c : FLD float ptr [ESP + 0x18]
0058dd50 : PUSH EBX
0058dd51 : PUSH EBP
0058dd52 : PUSH ECX
0058dd53 : PUSH EDX
0058dd54 : PUSH EDI
0058dd55 : PUSH ECX
0058dd56 : MOV ECX,dword ptr [ESI + 0x1b0]
0058dd5c : FSTP float ptr [ESP]
0058dd5f : CALL 0x005d7450
0058dd64 : POP EBP
0058dd65 : POP EBX
0058dd66 : POP EDI
0058dd67 : POP ESI
0058dd68 : RET 0x1c
0058dd6b : MOV ECX,dword ptr [ESI + 0x1b0]
0058dd71 : CALL 0x005d7280
0058dd76 : TEST AL,AL
0058dd78 : JNZ 0x0058dd66
0058dd7a : PUSH 0x0
0058dd7c : MOV ECX,ESI
0058dd7e : CALL 0x0058bfd0
0058dd83 : MOV ECX,dword ptr [ESI + 0x1b0]
0058dd89 : CALL 0x005d70b0
0058dd8e : POP EDI
0058dd8f : POP ESI
0058dd90 : RET 0x1c
