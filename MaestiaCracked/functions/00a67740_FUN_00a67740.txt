PROGRAM  : Maestia.exe
FUNCTION : FUN_00a67740
ENTRY    : 00a67740
BODY     : [[00a67740, 00a677af]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a67740(void)

{
  int *piVar1;
  int *piVar2;
  undefined4 *puVar3;
  int unaff_EDI;
  
  if (*(int *)(unaff_EDI + 0x58) != 0) {
    piVar1 = *(int **)(unaff_EDI + 0x54);
    piVar2 = (int *)*piVar1;
    while (piVar2 != piVar1) {
      puVar3 = (undefined4 *)piVar2[4];
      if (puVar3 != (undefined4 *)0x0) {
        (**(code **)*puVar3)(1);
      }
      FUN_00416210();
      piVar1 = *(int **)(unaff_EDI + 0x54);
    }
    FUN_00401c00(*(undefined4 *)(*(int *)(unaff_EDI + 0x54) + 4));
    *(int *)(*(int *)(unaff_EDI + 0x54) + 4) = *(int *)(unaff_EDI + 0x54);
    *(undefined4 *)(unaff_EDI + 0x58) = 0;
    *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x54) = *(undefined4 *)(unaff_EDI + 0x54);
    *(int *)(*(int *)(unaff_EDI + 0x54) + 8) = *(int *)(unaff_EDI + 0x54);
    *(undefined4 *)(unaff_EDI + 0x5c) = *(undefined4 *)(unaff_EDI + 0x54);
    *(undefined4 *)(unaff_EDI + 0x70) = *(undefined4 *)(unaff_EDI + 0x68);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a67740 : PUSH EBP
00a67741 : MOV EBP,ESP
00a67743 : PUSH ECX
00a67744 : CMP dword ptr [EDI + 0x58],0x0
00a67748 : JZ 0x00a677ac
00a6774a : MOV ECX,dword ptr [EDI + 0x54]
00a6774d : MOV EAX,dword ptr [ECX]
00a6774f : MOV dword ptr [EBP + -0x4],EAX
00a67752 : CMP EAX,ECX
00a67754 : JZ 0x00a67775
00a67756 : MOV ECX,dword ptr [EAX + 0x10]
00a67759 : TEST ECX,ECX
00a6775b : JZ 0x00a67765
00a6775d : MOV EAX,dword ptr [ECX]
00a6775f : MOV EDX,dword ptr [EAX]
00a67761 : PUSH 0x1
00a67763 : CALL EDX
00a67765 : LEA EDX,[EBP + -0x4]
00a67768 : CALL 0x00416210
00a6776d : MOV EAX,dword ptr [EBP + -0x4]
00a67770 : CMP EAX,dword ptr [EDI + 0x54]
00a67773 : JNZ 0x00a67756
00a67775 : MOV EAX,dword ptr [EDI + 0x54]
00a67778 : MOV ECX,dword ptr [EAX + 0x4]
00a6777b : PUSH ESI
00a6777c : LEA ESI,[EDI + 0x50]
00a6777f : PUSH ECX
00a67780 : MOV ECX,ESI
00a67782 : CALL 0x00401c00
00a67787 : MOV EAX,dword ptr [ESI + 0x4]
00a6778a : MOV dword ptr [EAX + 0x4],EAX
00a6778d : MOV EAX,dword ptr [ESI + 0x4]
00a67790 : MOV dword ptr [ESI + 0x8],0x0
00a67797 : MOV dword ptr [EAX],EAX
00a67799 : MOV ESI,dword ptr [ESI + 0x4]
00a6779c : MOV dword ptr [ESI + 0x8],ESI
00a6779f : MOV EDX,dword ptr [EDI + 0x54]
00a677a2 : MOV EAX,dword ptr [EDI + 0x68]
00a677a5 : MOV dword ptr [EDI + 0x5c],EDX
00a677a8 : MOV dword ptr [EDI + 0x70],EAX
00a677ab : POP ESI
00a677ac : MOV ESP,EBP
00a677ae : POP EBP
00a677af : RET
