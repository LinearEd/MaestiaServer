PROGRAM  : Maestia.exe
FUNCTION : FUN_0040f550
ENTRY    : 0040f550
BODY     : [[0040f550, 0040f5fa]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_0040f550(undefined4 *param_1,int *param_2)

{
  bool bVar1;
  int in_EAX;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 uVar4;
  undefined4 local_c [2];
  
  puVar3 = *(undefined4 **)(in_EAX + 4);
  bVar1 = true;
  local_c[0] = CONCAT31(local_c[0]._1_3_,1);
  if (*(char *)((int)puVar3[1] + 0x15) == '\0') {
    puVar2 = (undefined4 *)puVar3[1];
    do {
      puVar3 = puVar2;
      bVar1 = *param_2 < (int)puVar3[3];
      local_c[0] = CONCAT31(local_c[0]._1_3_,bVar1);
      if (bVar1) {
        puVar2 = (undefined4 *)*puVar3;
      }
      else {
        puVar2 = (undefined4 *)puVar3[2];
      }
    } while (*(char *)((int)puVar2 + 0x15) == '\0');
  }
  if (bVar1) {
    if (puVar3 == (undefined4 *)**(int **)(in_EAX + 4)) {
      uVar4 = 1;
      goto LAB_0040f5ac;
    }
    FUN_00420210();
  }
  uVar4 = local_c[0];
  if (*param_2 <= (int)puVar3[3]) {
    *param_1 = puVar3;
    *(undefined1 *)(param_1 + 1) = 0;
    return param_1;
  }
LAB_0040f5ac:
  puVar3 = (undefined4 *)FUN_00452190(local_c,uVar4,param_2);
  *param_1 = *puVar3;
  *(undefined1 *)(param_1 + 1) = 1;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
0040f550 : PUSH EBP
0040f551 : MOV EBP,ESP
0040f553 : AND ESP,0xfffffff8
0040f556 : SUB ESP,0xc
0040f559 : PUSH EBX
0040f55a : MOV EBX,dword ptr [EBP + 0x8]
0040f55d : PUSH ESI
0040f55e : PUSH EDI
0040f55f : MOV EDI,EAX
0040f561 : MOV ESI,dword ptr [EDI + 0x4]
0040f564 : MOV EAX,dword ptr [ESI + 0x4]
0040f567 : CMP byte ptr [EAX + 0x15],0x0
0040f56b : MOV CL,0x1
0040f56d : MOV byte ptr [ESP + 0x14],CL
0040f571 : JNZ 0x0040f595
0040f573 : MOV ECX,dword ptr [EBP + 0xc]
0040f576 : MOV EDX,dword ptr [ECX]
0040f578 : CMP EDX,dword ptr [EAX + 0xc]
0040f57b : MOV ESI,EAX
0040f57d : SETL CL
0040f580 : MOV byte ptr [ESP + 0x14],CL
0040f584 : TEST CL,CL
0040f586 : JZ 0x0040f58c
0040f588 : MOV EAX,dword ptr [EAX]
0040f58a : JMP 0x0040f58f
0040f58c : MOV EAX,dword ptr [EAX + 0x8]
0040f58f : CMP byte ptr [EAX + 0x15],0x0
0040f593 : JZ 0x0040f578
0040f595 : MOV EAX,ESI
0040f597 : MOV dword ptr [ESP + 0x10],EAX
0040f59b : TEST CL,CL
0040f59d : JZ 0x0040f5d8
0040f59f : MOV EDX,dword ptr [EDI + 0x4]
0040f5a2 : CMP ESI,dword ptr [EDX]
0040f5a4 : JNZ 0x0040f5cb
0040f5a6 : MOV EAX,dword ptr [EBP + 0xc]
0040f5a9 : PUSH EAX
0040f5aa : PUSH 0x1
0040f5ac : LEA ECX,[ESP + 0x1c]
0040f5b0 : PUSH ECX
0040f5b1 : MOV ECX,ESI
0040f5b3 : CALL 0x00452190
0040f5b8 : MOV EDX,dword ptr [EAX]
0040f5ba : MOV dword ptr [EBX],EDX
0040f5bc : MOV byte ptr [EBX + 0x4],0x1
0040f5c0 : MOV EAX,EBX
0040f5c2 : POP EDI
0040f5c3 : POP ESI
0040f5c4 : POP EBX
0040f5c5 : MOV ESP,EBP
0040f5c7 : POP EBP
0040f5c8 : RET 0x8
0040f5cb : LEA EDX,[ESP + 0x10]
0040f5cf : CALL 0x00420210
0040f5d4 : MOV EAX,dword ptr [ESP + 0x10]
0040f5d8 : MOV EDX,dword ptr [EAX + 0xc]
0040f5db : MOV ECX,dword ptr [EBP + 0xc]
0040f5de : CMP EDX,dword ptr [ECX]
0040f5e0 : JGE 0x0040f5ea
0040f5e2 : MOV EAX,dword ptr [ESP + 0x14]
0040f5e6 : PUSH ECX
0040f5e7 : PUSH EAX
0040f5e8 : JMP 0x0040f5ac
0040f5ea : POP EDI
0040f5eb : MOV dword ptr [EBX],EAX
0040f5ed : POP ESI
0040f5ee : MOV byte ptr [EBX + 0x4],0x0
0040f5f2 : MOV EAX,EBX
0040f5f4 : POP EBX
0040f5f5 : MOV ESP,EBP
0040f5f7 : POP EBP
0040f5f8 : RET 0x8
