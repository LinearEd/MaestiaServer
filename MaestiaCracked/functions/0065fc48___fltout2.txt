PROGRAM  : Maestia.exe
FUNCTION : __fltout2
ENTRY    : 0065fc48
BODY     : [[0065fc48, 0065fcc0] [0065fcc4, 0065fcd7]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    __fltout2
   
   Library: Visual Studio 2008 Release */

STRFLT __cdecl __fltout2(_CRT_DOUBLE _Dbl,STRFLT _Flt,char *_ResultStr,size_t _SizeInBytes)

{
  int iVar1;
  errno_t eVar2;
  STRFLT p_Var3;
  undefined4 in_stack_ffffffb0;
  undefined2 uVar4;
  short local_30;
  char local_2e;
  char local_2c [24];
  undefined4 local_14;
  undefined4 uStack_10;
  undefined2 uStack_c;
  uint local_8;
  
  uVar4 = (undefined2)((uint)in_stack_ffffffb0 >> 0x10);
  local_8 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  FUN_0065fb90(&local_14,&_Dbl);
  iVar1 = FUN_00660305(local_14,uStack_10,CONCAT22(uVar4,uStack_c),0x11,0,&local_30);
  _Flt->flag = iVar1;
  _Flt->sign = (int)local_2e;
  _Flt->decpt = (int)local_30;
  eVar2 = _strcpy_s(_ResultStr,_SizeInBytes,local_2c);
  if (eVar2 != 0) {
                    /* WARNING: Subroutine does not return */
    __invoke_watson((wchar_t *)0x0,(wchar_t *)0x0,(wchar_t *)0x0,0,0);
  }
  _Flt->mantissa = _ResultStr;
  p_Var3 = (STRFLT)__security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return p_Var3;
}



============================================================
DISASSEMBLY
============================================================
0065fc48 : MOV EDI,EDI
0065fc4a : PUSH EBP
0065fc4b : MOV EBP,ESP
0065fc4d : SUB ESP,0x30
0065fc50 : MOV EAX,[0x00d66fa0]
0065fc55 : XOR EAX,EBP
0065fc57 : MOV dword ptr [EBP + -0x4],EAX
0065fc5a : MOV EAX,dword ptr [EBP + 0x14]
0065fc5d : PUSH EBX
0065fc5e : MOV EBX,dword ptr [EBP + 0x10]
0065fc61 : PUSH ESI
0065fc62 : MOV dword ptr [EBP + -0x30],EAX
0065fc65 : PUSH EDI
0065fc66 : LEA EAX,[EBP + 0x8]
0065fc69 : PUSH EAX
0065fc6a : LEA EAX,[EBP + -0x10]
0065fc6d : PUSH EAX
0065fc6e : CALL 0x0065fb90
0065fc73 : POP ECX
0065fc74 : POP ECX
0065fc75 : LEA EAX,[EBP + -0x2c]
0065fc78 : PUSH EAX
0065fc79 : PUSH 0x0
0065fc7b : PUSH 0x11
0065fc7d : SUB ESP,0xc
0065fc80 : LEA ESI,[EBP + -0x10]
0065fc83 : MOV EDI,ESP
0065fc85 : MOVSD ES:EDI,ESI
0065fc86 : MOVSD ES:EDI,ESI
0065fc87 : MOVSW ES:EDI,ESI
0065fc89 : CALL 0x00660305
0065fc8e : MOV ESI,dword ptr [EBP + -0x30]
0065fc91 : MOV dword ptr [EBX + 0x8],EAX
0065fc94 : MOVSX EAX,byte ptr [EBP + -0x2a]
0065fc98 : MOV dword ptr [EBX],EAX
0065fc9a : MOVSX EAX,word ptr [EBP + -0x2c]
0065fc9e : MOV dword ptr [EBX + 0x4],EAX
0065fca1 : LEA EAX,[EBP + -0x28]
0065fca4 : PUSH EAX
0065fca5 : PUSH dword ptr [EBP + 0x18]
0065fca8 : PUSH ESI
0065fca9 : CALL 0x00638300
0065fcae : ADD ESP,0x24
0065fcb1 : TEST EAX,EAX
0065fcb3 : JZ 0x0065fcc4
0065fcb5 : XOR EAX,EAX
0065fcb7 : PUSH EAX
0065fcb8 : PUSH EAX
0065fcb9 : PUSH EAX
0065fcba : PUSH EAX
0065fcbb : PUSH EAX
0065fcbc : CALL 0x00637169
0065fcc4 : MOV ECX,dword ptr [EBP + -0x4]
0065fcc7 : POP EDI
0065fcc8 : MOV dword ptr [EBX + 0xc],ESI
0065fccb : POP ESI
0065fccc : MOV EAX,EBX
0065fcce : XOR ECX,EBP
0065fcd0 : POP EBX
0065fcd1 : CALL 0x00633e6b
0065fcd6 : LEAVE
0065fcd7 : RET
