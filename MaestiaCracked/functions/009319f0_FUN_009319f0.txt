PROGRAM  : Maestia.exe
FUNCTION : FUN_009319f0
ENTRY    : 009319f0
BODY     : [[009319f0, 00931b1f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009319f0(int param_1,uint *param_2,int *param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int local_18;
  int local_14;
  uint local_10;
  int local_c;
  uint local_8;
  
  iVar5 = DAT_01724884;
  *param_2 = 0xffffffff;
  local_8 = (uint)*(ushort *)(param_1 + 0x5c);
  *param_3 = -1;
  local_c = 3;
  do {
    if (2 < (int)local_8) {
      local_8 = (uint)(*(short *)(param_1 + 0x5c) != 0);
    }
    if (*(int *)(param_1 + 0x4c + (local_8 & 0xffff) * 4) != 0) {
      iVar4 = 0;
      iVar1 = local_8 * 10;
      do {
        local_10 = iVar1 + iVar4 & 0xffff;
        FUN_00413b60(&local_10);
        if ((((local_14 != *(int *)(iVar5 + 8)) && (*(int *)(local_14 + 0x10) != 0)) &&
            (iVar3 = FUN_009f2740(*(undefined4 *)(*(int *)(local_14 + 0x10) + 0xc)),
            iVar2 = DAT_00d7c54c, iVar5 = DAT_01724884, iVar3 != 0)) &&
           (((local_10 = *(uint *)(iVar3 + 0x1c), (char)(local_10 >> 0x18) == '\a' &&
             (FUN_004437f0(&local_10), iVar5 = DAT_01724884, local_18 != *(int *)(iVar2 + 0x44))) &&
            ((*(int *)(local_18 + 0x10) != 0 &&
             ((*(byte *)(*(int *)(local_18 + 0x10) + 0x40) & 0x40) != 0)))))) {
          if (*(char *)(iVar3 + 0x28) != '\0') {
            FUN_009eddb0(iVar3);
            *(undefined1 *)(iVar3 + 0x28) = 0;
          }
          iVar5 = DAT_01724884;
          if (*(int *)(iVar3 + 0x30) == 0) {
            *param_3 = iVar4;
            *param_2 = local_8;
            break;
          }
        }
        iVar4 = iVar4 + 1;
      } while (iVar4 < 10);
    }
    local_8 = local_8 + 1;
    local_c = local_c + -1;
    if (local_c == 0) {
      return;
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
009319f0 : PUSH EBP
009319f1 : MOV EBP,ESP
009319f3 : SUB ESP,0x18
009319f6 : MOV EAX,dword ptr [EBP + 0xc]
009319f9 : MOV ECX,dword ptr [EBP + 0x10]
009319fc : PUSH EBX
009319fd : PUSH ESI
009319fe : MOV ESI,dword ptr [0x01724884]
00931a04 : MOV dword ptr [EAX],0xffffffff
00931a0a : MOV EAX,dword ptr [EBP + 0x8]
00931a0d : PUSH EDI
00931a0e : MOVZX EDI,word ptr [EAX + 0x5c]
00931a12 : MOV dword ptr [ECX],0xffffffff
00931a18 : MOV dword ptr [EBP + -0x4],EDI
00931a1b : MOV dword ptr [EBP + -0x8],0x3
00931a22 : JMP 0x00931a27
00931a24 : MOV EAX,dword ptr [EBP + 0x8]
00931a27 : CMP EDI,0x3
00931a2a : JL 0x00931a3a
00931a2c : XOR EDX,EDX
00931a2e : CMP word ptr [EAX + 0x5c],DX
00931a32 : SETNZ DL
00931a35 : MOV dword ptr [EBP + -0x4],EDX
00931a38 : MOV EDI,EDX
00931a3a : MOVZX ECX,DI
00931a3d : CMP dword ptr [EAX + ECX*0x4 + 0x4c],0x0
00931a42 : JZ 0x00931b09
00931a48 : LEA EDI,[EDI + EDI*0x4]
00931a4b : XOR EBX,EBX
00931a4d : ADD EDI,EDI
00931a4f : MOV dword ptr [EBP + -0x18],EDI
00931a52 : LEA EDX,[EDI + EBX*0x1]
00931a55 : MOVZX EAX,DX
00931a58 : LEA ECX,[EBP + -0xc]
00931a5b : MOV dword ptr [EBP + -0xc],EAX
00931a5e : PUSH ECX
00931a5f : LEA ECX,[ESI + 0x4]
00931a62 : LEA EAX,[EBP + -0x10]
00931a65 : CALL 0x00413b60
00931a6a : MOV EAX,dword ptr [EBP + -0x10]
00931a6d : CMP EAX,dword ptr [ESI + 0x8]
00931a70 : JZ 0x00931ae7
00931a72 : MOV EAX,dword ptr [EAX + 0x10]
00931a75 : TEST EAX,EAX
00931a77 : JZ 0x00931ae7
00931a79 : MOV EAX,dword ptr [EAX + 0xc]
00931a7c : MOV ECX,dword ptr [0x017247f0]
00931a82 : PUSH EAX
00931a83 : CALL 0x009f2740
00931a88 : MOV ESI,EAX
00931a8a : TEST ESI,ESI
00931a8c : JZ 0x00931ae1
00931a8e : MOV EAX,dword ptr [ESI + 0x1c]
00931a91 : MOV EDX,EAX
00931a93 : SHR EDX,0x18
00931a96 : CMP DL,0x7
00931a99 : JNZ 0x00931ae1
00931a9b : MOV EDI,dword ptr [0x00d7c54c]
00931aa1 : MOV dword ptr [EBP + -0xc],EAX
00931aa4 : LEA EAX,[EBP + -0xc]
00931aa7 : PUSH EAX
00931aa8 : LEA ECX,[EDI + 0x40]
00931aab : LEA EAX,[EBP + -0x14]
00931aae : CALL 0x004437f0
00931ab3 : MOV EAX,dword ptr [EBP + -0x14]
00931ab6 : CMP EAX,dword ptr [EDI + 0x44]
00931ab9 : JZ 0x00931ade
00931abb : MOV EAX,dword ptr [EAX + 0x10]
00931abe : TEST EAX,EAX
00931ac0 : JZ 0x00931ade
00931ac2 : TEST byte ptr [EAX + 0x40],0x40
00931ac6 : JZ 0x00931ade
00931ac8 : CMP byte ptr [ESI + 0x28],0x0
00931acc : JZ 0x00931ad8
00931ace : PUSH ESI
00931acf : CALL 0x009eddb0
00931ad4 : MOV byte ptr [ESI + 0x28],0x0
00931ad8 : CMP dword ptr [ESI + 0x30],0x0
00931adc : JZ 0x00931af3
00931ade : MOV EDI,dword ptr [EBP + -0x18]
00931ae1 : MOV ESI,dword ptr [0x01724884]
00931ae7 : INC EBX
00931ae8 : CMP EBX,0xa
00931aeb : JL 0x00931a52
00931af1 : JMP 0x00931b06
00931af3 : MOV ECX,dword ptr [EBP + 0x10]
00931af6 : MOV EDX,dword ptr [EBP + -0x4]
00931af9 : MOV EAX,dword ptr [EBP + 0xc]
00931afc : MOV ESI,dword ptr [0x01724884]
00931b02 : MOV dword ptr [ECX],EBX
00931b04 : MOV dword ptr [EAX],EDX
00931b06 : MOV EDI,dword ptr [EBP + -0x4]
00931b09 : INC EDI
00931b0a : SUB dword ptr [EBP + -0x8],0x1
00931b0e : MOV dword ptr [EBP + -0x4],EDI
00931b11 : JNZ 0x00931a24
00931b17 : POP EDI
00931b18 : POP ESI
00931b19 : POP EBX
00931b1a : MOV ESP,EBP
00931b1c : POP EBP
00931b1d : RET 0xc
