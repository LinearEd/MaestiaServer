PROGRAM  : Maestia.exe
FUNCTION : FUN_0040c500
ENTRY    : 0040c500
BODY     : [[0040c500, 0040c5fb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0040c500(int param_1,int param_2,int param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  int local_c;
  int local_8;
  
  iVar2 = param_2 - param_1;
  do {
    iVar2 = iVar2 >> 3;
    if (iVar2 < 0x21) {
LAB_0040c5a8:
      if (1 < iVar2) {
        FUN_0040d320(param_1,param_2,param_4);
      }
      return;
    }
    if (param_3 < 1) {
      if (0x20 < iVar2) {
        if (8 < (int)(param_2 - param_1 & 0xfffffff8U)) {
          FUN_0040d270(param_1,param_2,param_4);
        }
        FUN_0040d2c0(param_1,param_2,param_4);
        return;
      }
      goto LAB_0040c5a8;
    }
    FUN_0040cbf0(&local_c,param_1,param_2,param_4);
    iVar1 = local_8;
    iVar2 = local_c;
    param_3 = param_3 / 2 + (param_3 / 2) / 2;
    if ((int)(local_c - param_1 & 0xfffffff8U) < (int)(param_2 - local_8 & 0xfffffff8U)) {
      FUN_0040c500(param_1,local_c,param_3,param_4);
      param_1 = iVar1;
    }
    else {
      FUN_0040c500(local_8,param_2,param_3,param_4);
      param_2 = iVar2;
    }
    iVar2 = param_2 - param_1;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
0040c500 : PUSH EBP
0040c501 : MOV EBP,ESP
0040c503 : MOV ECX,dword ptr [EBP + 0xc]
0040c506 : MOV EDX,dword ptr [EBP + 0x8]
0040c509 : SUB ESP,0xc
0040c50c : MOV EAX,ECX
0040c50e : SUB EAX,EDX
0040c510 : PUSH EBX
0040c511 : SAR EAX,0x3
0040c514 : CMP EAX,0x20
0040c517 : PUSH ESI
0040c518 : PUSH EDI
0040c519 : JLE 0x0040c5a8
0040c51f : MOV ESI,dword ptr [EBP + 0x10]
0040c522 : TEST ESI,ESI
0040c524 : JLE 0x0040c5c2
0040c52a : MOV EAX,dword ptr [EBP + 0x14]
0040c52d : PUSH EAX
0040c52e : PUSH ECX
0040c52f : PUSH EDX
0040c530 : LEA ECX,[EBP + -0x8]
0040c533 : PUSH ECX
0040c534 : CALL 0x0040cbf0
0040c539 : MOV EBX,dword ptr [EBP + -0x8]
0040c53c : MOV EDI,dword ptr [EBP + -0x4]
0040c53f : MOV EAX,ESI
0040c541 : CDQ
0040c542 : SUB EAX,EDX
0040c544 : SAR EAX,0x1
0040c546 : MOV ESI,EAX
0040c548 : CDQ
0040c549 : SUB EAX,EDX
0040c54b : SAR EAX,0x1
0040c54d : ADD ESI,EAX
0040c54f : MOV EAX,dword ptr [EBP + 0xc]
0040c552 : MOV ECX,EBX
0040c554 : SUB ECX,dword ptr [EBP + 0x8]
0040c557 : MOV EDX,EAX
0040c559 : SUB EDX,EDI
0040c55b : AND EDX,0xfffffff8
0040c55e : AND ECX,0xfffffff8
0040c561 : ADD ESP,0x10
0040c564 : CMP ECX,EDX
0040c566 : JGE 0x0040c581
0040c568 : MOV EDX,dword ptr [EBP + 0x14]
0040c56b : MOV EAX,dword ptr [EBP + 0x8]
0040c56e : PUSH EDX
0040c56f : PUSH ESI
0040c570 : PUSH EBX
0040c571 : PUSH EAX
0040c572 : CALL 0x0040c500
0040c577 : MOV ECX,dword ptr [EBP + 0xc]
0040c57a : MOV EDX,EDI
0040c57c : MOV dword ptr [EBP + 0x8],EDX
0040c57f : JMP 0x0040c595
0040c581 : MOV ECX,dword ptr [EBP + 0x14]
0040c584 : PUSH ECX
0040c585 : PUSH ESI
0040c586 : PUSH EAX
0040c587 : PUSH EDI
0040c588 : CALL 0x0040c500
0040c58d : MOV EDX,dword ptr [EBP + 0x8]
0040c590 : MOV ECX,EBX
0040c592 : MOV dword ptr [EBP + 0xc],ECX
0040c595 : MOV EAX,ECX
0040c597 : SUB EAX,EDX
0040c599 : SAR EAX,0x3
0040c59c : ADD ESP,0x10
0040c59f : CMP EAX,0x20
0040c5a2 : JG 0x0040c522
0040c5a8 : CMP EAX,0x1
0040c5ab : JLE 0x0040c5bb
0040c5ad : MOV EAX,dword ptr [EBP + 0x14]
0040c5b0 : PUSH EAX
0040c5b1 : PUSH ECX
0040c5b2 : PUSH EDX
0040c5b3 : CALL 0x0040d320
0040c5b8 : ADD ESP,0xc
0040c5bb : POP EDI
0040c5bc : POP ESI
0040c5bd : POP EBX
0040c5be : MOV ESP,EBP
0040c5c0 : POP EBP
0040c5c1 : RET
0040c5c2 : CMP EAX,0x20
0040c5c5 : JLE 0x0040c5a8
0040c5c7 : MOV EAX,ECX
0040c5c9 : SUB EAX,EDX
0040c5cb : AND EAX,0xfffffff8
0040c5ce : CMP EAX,0x8
0040c5d1 : JLE 0x0040c5e7
0040c5d3 : MOV EAX,dword ptr [EBP + 0x14]
0040c5d6 : PUSH EAX
0040c5d7 : PUSH ECX
0040c5d8 : PUSH EDX
0040c5d9 : CALL 0x0040d270
0040c5de : MOV ECX,dword ptr [EBP + 0xc]
0040c5e1 : MOV EDX,dword ptr [EBP + 0x8]
0040c5e4 : ADD ESP,0xc
0040c5e7 : MOV EAX,dword ptr [EBP + 0x14]
0040c5ea : PUSH EAX
0040c5eb : PUSH ECX
0040c5ec : PUSH EDX
0040c5ed : CALL 0x0040d2c0
0040c5f2 : ADD ESP,0xc
0040c5f5 : POP EDI
0040c5f6 : POP ESI
0040c5f7 : POP EBX
0040c5f8 : MOV ESP,EBP
0040c5fa : POP EBP
0040c5fb : RET
