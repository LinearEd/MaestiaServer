PROGRAM  : Maestia.exe
FUNCTION : _Locinfo_Addcats
ENTRY    : 0062365d
BODY     : [[0062365d, 00623716]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Function: __EH_prolog3 replaced with injection: EH_prolog3 */
/* WARNING: Function: __EH_epilog3 replaced with injection: EH_epilog3 */
/* Library Function - Single Match
    public: static class std::_Locinfo & __cdecl std::_Locinfo::_Locinfo_Addcats(class std::_Locinfo
   *,int,char const *)
   
   Library: Visual Studio 2008 Release */

_Locinfo * __cdecl std::_Locinfo::_Locinfo_Addcats(_Locinfo *param_1,int param_2,char *param_3)

{
  char *pcVar1;
  int iVar2;
  undefined1 local_54 [40];
  undefined1 local_2c [36];
  undefined4 local_8;
  undefined4 uStack_4;
  
  uStack_4 = 0x44;
  local_8 = 0x623669;
  if (param_3 == (char *)0x0) {
    FUN_00404c30("bad locale name");
    local_8 = 0;
    FUN_00451670(local_2c);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_54,&DAT_00ced93c);
  }
  if ((*param_3 != '*') || (param_3[1] != '\0')) {
    if (param_2 == 0) {
      param_3 = (char *)0x0;
    }
    else if (param_2 != 0x3f) {
      iVar2 = 0;
      do {
        if ((param_2 & (1 << ((byte)iVar2 & 0x1f)) >> 1) != 0) {
          _setlocale(iVar2,param_3);
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < 6);
    }
    pcVar1 = _setlocale(0,param_3);
    if (pcVar1 != (char *)0x0) {
      iVar2 = FUN_004515d0(&DAT_00cd3f28);
      if (iVar2 == 0) {
        return param_1;
      }
      goto LAB_0062370a;
    }
  }
  pcVar1 = "*";
LAB_0062370a:
  FUN_0040eec0(pcVar1);
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
0062365d : PUSH 0x44
0062365f : MOV EAX,0xb0b608
00623664 : CALL 0x00640e1d
00623669 : MOV ESI,dword ptr [EBP + 0x10]
0062366c : XOR EBX,EBX
0062366e : CMP ESI,EBX
00623670 : JNZ 0x0062369c
00623672 : PUSH 0xcd3f18
00623677 : LEA ECX,[EBP + -0x28]
0062367a : CALL 0x00404c30
0062367f : LEA EAX,[EBP + -0x28]
00623682 : PUSH EAX
00623683 : LEA ECX,[EBP + -0x50]
00623686 : MOV dword ptr [EBP + -0x4],EBX
00623689 : CALL 0x00451670
0062368e : PUSH 0xced93c
00623693 : LEA EAX,[EBP + -0x50]
00623696 : PUSH EAX
00623697 : CALL 0x006409eb
0062369c : CMP byte ptr [ESI],0x2a
0062369f : JNZ 0x006236a6
006236a1 : CMP byte ptr [ESI + 0x1],BL
006236a4 : JZ 0x006236e4
006236a6 : CMP dword ptr [EBP + 0xc],EBX
006236a9 : JNZ 0x006236ae
006236ab : PUSH EBX
006236ac : JMP 0x006236d6
006236ae : CMP dword ptr [EBP + 0xc],0x3f
006236b2 : JZ 0x006236d5
006236b4 : XOR EDI,EDI
006236b6 : XOR EAX,EAX
006236b8 : INC EAX
006236b9 : MOV ECX,EDI
006236bb : SHL EAX,CL
006236bd : MOV ECX,dword ptr [EBP + 0xc]
006236c0 : SAR EAX,0x1
006236c2 : TEST ECX,EAX
006236c4 : JZ 0x006236cf
006236c6 : PUSH ESI
006236c7 : PUSH EDI
006236c8 : CALL 0x0063a9d0
006236cd : POP ECX
006236ce : POP ECX
006236cf : INC EDI
006236d0 : CMP EDI,0x5
006236d3 : JLE 0x006236b6
006236d5 : PUSH ESI
006236d6 : PUSH EBX
006236d7 : CALL 0x0063a9d0
006236dc : MOV EDI,EAX
006236de : POP ECX
006236df : POP ECX
006236e0 : CMP EDI,EBX
006236e2 : JNZ 0x006236f1
006236e4 : MOV EBX,dword ptr [EBP + 0x8]
006236e7 : PUSH 0xcd3f28
006236ec : LEA ECX,[EBX + 0x58]
006236ef : JMP 0x0062370a
006236f1 : MOV EBX,dword ptr [EBP + 0x8]
006236f4 : LEA ESI,[EBX + 0x58]
006236f7 : PUSH 0xcd3f28
006236fc : MOV ECX,ESI
006236fe : CALL 0x004515d0
00623703 : TEST EAX,EAX
00623705 : JZ 0x0062370f
00623707 : PUSH EDI
00623708 : MOV ECX,ESI
0062370a : CALL 0x0040eec0
0062370f : MOV EAX,EBX
00623711 : CALL 0x00640ebc
00623716 : RET
