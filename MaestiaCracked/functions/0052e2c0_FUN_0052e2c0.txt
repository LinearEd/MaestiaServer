PROGRAM  : Maestia.exe
FUNCTION : FUN_0052e2c0
ENTRY    : 0052e2c0
BODY     : [[0052e2c0, 0052e32f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0052e2c0(undefined4 *param_1)

{
  int *piVar1;
  int iVar2;
  undefined4 *puVar3;
  int in_ECX;
  uint uVar4;
  uint uVar5;
  
  if (*(int *)(in_ECX + 4) == 0) {
    puVar3 = (undefined4 *)FUN_00515840(0xc,0);
    if (puVar3 == (undefined4 *)0x0) {
      puVar3 = (undefined4 *)0x0;
    }
    else {
      *puVar3 = 0;
      puVar3[1] = 0;
      puVar3[2] = 0;
    }
    *(undefined4 **)(in_ECX + 4) = puVar3;
  }
  piVar1 = *(int **)(in_ECX + 4);
  uVar4 = piVar1[1] + 1;
  if (uVar4 < (uint)piVar1[1]) {
    uVar5 = uVar4;
    if ((uint)piVar1[2] >> 1 <= uVar4) goto LAB_0052e315;
  }
  else {
    if (uVar4 < (uint)piVar1[2]) goto LAB_0052e315;
    uVar5 = (uVar4 >> 2) + uVar4;
  }
  FUN_0052a990(piVar1,uVar5);
LAB_0052e315:
  piVar1[1] = uVar4;
  iVar2 = *piVar1;
  *(undefined4 *)(iVar2 + -8 + uVar4 * 8) = *param_1;
  *(undefined4 *)(iVar2 + -4 + uVar4 * 8) = param_1[1];
  return;
}



============================================================
DISASSEMBLY
============================================================
0052e2c0 : PUSH ESI
0052e2c1 : PUSH EDI
0052e2c2 : MOV ESI,ECX
0052e2c4 : XOR EDI,EDI
0052e2c6 : CMP dword ptr [ESI + 0x4],EDI
0052e2c9 : JNZ 0x0052e2e8
0052e2cb : MOV ECX,dword ptr [ESI]
0052e2cd : PUSH EDI
0052e2ce : PUSH 0xc
0052e2d0 : CALL 0x00515840
0052e2d5 : CMP EAX,EDI
0052e2d7 : JZ 0x0052e2e3
0052e2d9 : MOV dword ptr [EAX],EDI
0052e2db : MOV dword ptr [EAX + 0x4],EDI
0052e2de : MOV dword ptr [EAX + 0x8],EDI
0052e2e1 : JMP 0x0052e2e5
0052e2e3 : XOR EAX,EAX
0052e2e5 : MOV dword ptr [ESI + 0x4],EAX
0052e2e8 : MOV EDI,dword ptr [ESI + 0x4]
0052e2eb : MOV ESI,dword ptr [EDI + 0x4]
0052e2ee : INC ESI
0052e2ef : CMP ESI,dword ptr [EDI + 0x4]
0052e2f2 : JNC 0x0052e300
0052e2f4 : MOV EAX,dword ptr [EDI + 0x8]
0052e2f7 : SHR EAX,0x1
0052e2f9 : CMP ESI,EAX
0052e2fb : JNC 0x0052e315
0052e2fd : PUSH ESI
0052e2fe : JMP 0x0052e30d
0052e300 : CMP ESI,dword ptr [EDI + 0x8]
0052e303 : JC 0x0052e315
0052e305 : MOV ECX,ESI
0052e307 : SHR ECX,0x2
0052e30a : ADD ECX,ESI
0052e30c : PUSH ECX
0052e30d : PUSH EDI
0052e30e : MOV ECX,EDI
0052e310 : CALL 0x0052a990
0052e315 : MOV EAX,dword ptr [ESP + 0xc]
0052e319 : MOV dword ptr [EDI + 0x4],ESI
0052e31c : MOV EDI,dword ptr [EDI]
0052e31e : MOV EDX,dword ptr [EAX]
0052e320 : MOV dword ptr [EDI + ESI*0x8 + -0x8],EDX
0052e324 : MOV EAX,dword ptr [EAX + 0x4]
0052e327 : MOV dword ptr [EDI + ESI*0x8 + -0x4],EAX
0052e32b : POP EDI
0052e32c : POP ESI
0052e32d : RET 0x4
