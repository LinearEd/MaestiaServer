PROGRAM  : Maestia.exe
FUNCTION : FUN_0058edb0
ENTRY    : 0058edb0
BODY     : [[0058edb0, 0058ee4d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058edb0(void)

{
  uint uVar1;
  undefined4 *puVar2;
  undefined4 *in_ECX;
  undefined4 local_4;
  
  puVar2 = (undefined4 *)in_ECX[3];
  if (puVar2 == (undefined4 *)0x0) {
    uVar1 = in_ECX[2];
    if (uVar1 < 0x32) {
      puVar2 = (undefined4 *)(in_ECX[1] + uVar1 * 0x38);
      in_ECX[2] = uVar1 + 1;
    }
    else {
      local_4 = 2;
      puVar2 = (undefined4 *)FUN_00515840(0xaf4,&local_4);
      puVar2[700] = 0;
      if (in_ECX[1] == 0) {
        *in_ECX = puVar2;
      }
      else {
        *(undefined4 **)(in_ECX[1] + 0xaf0) = puVar2;
      }
      in_ECX[1] = puVar2;
      in_ECX[2] = 1;
    }
  }
  else {
    in_ECX[3] = *puVar2;
  }
  if (puVar2 != (undefined4 *)0x0) {
    puVar2[2] = 0xffffffff;
    puVar2[4] = 0;
    puVar2[5] = 0;
    puVar2[6] = 0;
    puVar2[7] = 0;
    puVar2[8] = 0;
    puVar2[9] = 0;
    puVar2[10] = 0;
    puVar2[0xb] = 0;
    puVar2[0xc] = 0;
    *(undefined1 *)(puVar2 + 0xd) = 0xff;
    *(undefined1 *)((int)puVar2 + 0x35) = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0058edb0 : PUSH ECX
0058edb1 : PUSH EBX
0058edb2 : PUSH ESI
0058edb3 : MOV ESI,ECX
0058edb5 : MOV EAX,dword ptr [ESI + 0xc]
0058edb8 : XOR EBX,EBX
0058edba : CMP EAX,EBX
0058edbc : JZ 0x0058edc5
0058edbe : MOV ECX,dword ptr [EAX]
0058edc0 : MOV dword ptr [ESI + 0xc],ECX
0058edc3 : JMP 0x0058ee1d
0058edc5 : MOV ECX,dword ptr [ESI + 0x8]
0058edc8 : CMP ECX,0x32
0058edcb : JNC 0x0058ede2
0058edcd : MOV EAX,dword ptr [ESI + 0x4]
0058edd0 : LEA EDX,[ECX*0x8 + 0x0]
0058edd7 : SUB EDX,ECX
0058edd9 : INC ECX
0058edda : LEA EAX,[EAX + EDX*0x8]
0058eddd : MOV dword ptr [ESI + 0x8],ECX
0058ede0 : JMP 0x0058ee1d
0058ede2 : MOV ECX,dword ptr [ESI + 0x10]
0058ede5 : LEA EDX,[ESP + 0x8]
0058ede9 : PUSH EDX
0058edea : PUSH 0xaf4
0058edef : MOV dword ptr [ESP + 0x10],0x2
0058edf7 : CALL 0x00515840
0058edfc : MOV dword ptr [EAX + 0xaf0],EBX
0058ee02 : MOV ECX,dword ptr [ESI + 0x4]
0058ee05 : CMP ECX,EBX
0058ee07 : JZ 0x0058ee11
0058ee09 : MOV dword ptr [ECX + 0xaf0],EAX
0058ee0f : JMP 0x0058ee13
0058ee11 : MOV dword ptr [ESI],EAX
0058ee13 : MOV dword ptr [ESI + 0x4],EAX
0058ee16 : MOV dword ptr [ESI + 0x8],0x1
0058ee1d : CMP EAX,EBX
0058ee1f : JZ 0x0058ee4a
0058ee21 : MOV dword ptr [EAX + 0x8],0xffffffff
0058ee28 : MOV dword ptr [EAX + 0x10],EBX
0058ee2b : MOV dword ptr [EAX + 0x14],EBX
0058ee2e : MOV dword ptr [EAX + 0x18],EBX
0058ee31 : MOV dword ptr [EAX + 0x1c],EBX
0058ee34 : MOV dword ptr [EAX + 0x20],EBX
0058ee37 : MOV dword ptr [EAX + 0x24],EBX
0058ee3a : MOV dword ptr [EAX + 0x28],EBX
0058ee3d : MOV dword ptr [EAX + 0x2c],EBX
0058ee40 : MOV dword ptr [EAX + 0x30],EBX
0058ee43 : MOV byte ptr [EAX + 0x34],0xff
0058ee47 : MOV byte ptr [EAX + 0x35],BL
0058ee4a : POP ESI
0058ee4b : POP EBX
0058ee4c : POP ECX
0058ee4d : RET
