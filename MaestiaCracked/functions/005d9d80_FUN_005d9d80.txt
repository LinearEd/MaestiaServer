PROGRAM  : Maestia.exe
FUNCTION : FUN_005d9d80
ENTRY    : 005d9d80
BODY     : [[005d9d80, 005d9de9] [005d9df0, 005d9f05]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005d9d80(int *param_1,undefined4 param_2,int param_3,undefined4 param_4,undefined4 param_5,
                 undefined4 param_6,int param_7,char param_8)

{
  char cVar1;
  uint *in_ECX;
  int iVar2;
  uint *puVar3;
  uint uVar4;
  int *piVar5;
  int *piVar6;
  undefined4 unaff_retaddr;
  int *local_84 [4];
  uint *local_74;
  undefined1 local_70;
  int local_6c [27];
  
  piVar6 = *(int **)(*param_1 + 0xc);
  uVar4 = 0;
  if (in_ECX[6] != 0) {
    local_84[3] = piVar6;
    if (param_8 == '\0') {
      if (param_3 != 0) {
        if (param_7 == 0) {
          param_7 = 0;
        }
        else {
          param_7 = param_7 + in_ECX[1] * 0x18;
        }
        FUN_005d7030(param_1,param_6,param_7);
      }
    }
    else {
      FUN_0040efe0(local_6c,0x24,3,FUN_00484120);
      local_84[0] = (int *)0x0;
      local_84[1] = (int *)0x0;
      local_84[2] = (int *)0x0;
      if ((param_3 != 0) && (*in_ECX != 0)) {
        piVar5 = local_6c;
        puVar3 = in_ECX;
        do {
          puVar3 = puVar3 + 1;
          if (param_7 == 0) {
            iVar2 = 0;
          }
          else {
            iVar2 = param_7 + *puVar3 * 0x18;
          }
          if ((*puVar3 != 0xffffffff) &&
             (cVar1 = FUN_005d6b20(piVar5,param_1,param_6,iVar2), cVar1 != '\0')) {
            local_84[uVar4] = piVar5;
          }
          uVar4 = uVar4 + 1;
          piVar5 = piVar5 + 9;
          piVar6 = local_84[3];
        } while (uVar4 < *in_ECX);
      }
      (**(code **)(*piVar6 + 100))(in_ECX[4],local_84[0],local_84[1],local_84[2]);
    }
    local_74 = in_ECX + 8;
    local_70 = 0;
    (**(code **)(*piVar6 + 0x40))(in_ECX[5],in_ECX[6],1,&local_74);
    (**(code **)(*piVar6 + 0x48))(unaff_retaddr,0,param_1,0,in_ECX[6] / 3);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005d9d80 : SUB ESP,0x84
005d9d86 : MOV EDX,dword ptr [ESP + 0x88]
005d9d8d : MOV EAX,dword ptr [EDX]
005d9d8f : PUSH EBP
005d9d90 : PUSH ESI
005d9d91 : PUSH EDI
005d9d92 : MOV EDI,dword ptr [EAX + 0xc]
005d9d95 : MOV ESI,ECX
005d9d97 : XOR EBP,EBP
005d9d99 : MOV dword ptr [ESP + 0x18],EDI
005d9d9d : CMP dword ptr [ESI + 0x18],EBP
005d9da0 : JBE 0x005d9efa
005d9da6 : CMP byte ptr [ESP + 0xb0],0x0
005d9dae : PUSH EBX
005d9daf : JZ 0x005d9e6c
005d9db5 : PUSH 0x484120
005d9dba : PUSH 0x3
005d9dbc : PUSH 0x24
005d9dbe : LEA ECX,[ESP + 0x34]
005d9dc2 : PUSH ECX
005d9dc3 : CALL 0x0040efe0
005d9dc8 : MOV dword ptr [ESP + 0x10],EBP
005d9dcc : MOV dword ptr [ESP + 0x14],EBP
005d9dd0 : MOV dword ptr [ESP + 0x18],EBP
005d9dd4 : CMP dword ptr [ESP + 0xa0],EBP
005d9ddb : JZ 0x005d9e4e
005d9ddd : CMP dword ptr [ESI],EBP
005d9ddf : JBE 0x005d9e4e
005d9de1 : LEA EDI,[ESP + 0x28]
005d9de5 : LEA EBX,[ESI + 0x4]
005d9de8 : JMP 0x005d9df0
005d9df0 : MOV ECX,dword ptr [ESP + 0xb0]
005d9df7 : TEST ECX,ECX
005d9df9 : JZ 0x005d9e05
005d9dfb : MOV EAX,dword ptr [EBX]
005d9dfd : LEA EDX,[EAX + EAX*0x2]
005d9e00 : LEA ECX,[ECX + EDX*0x8]
005d9e03 : JMP 0x005d9e07
005d9e05 : XOR ECX,ECX
005d9e07 : MOV EAX,dword ptr [EBX]
005d9e09 : CMP EAX,-0x1
005d9e0c : JZ 0x005d9e3d
005d9e0e : FLD float ptr [ESP + 0xac]
005d9e15 : PUSH ECX
005d9e16 : PUSH ECX
005d9e17 : MOV ECX,dword ptr [ESP + 0xa0]
005d9e1e : FSTP float ptr [ESP]
005d9e21 : LEA EDX,[EAX + EAX*0x4]
005d9e24 : MOV EAX,dword ptr [ESP + 0xa4]
005d9e2b : PUSH ECX
005d9e2c : PUSH EDI
005d9e2d : LEA ECX,[EAX + EDX*0x8]
005d9e30 : CALL 0x005d6b20
005d9e35 : TEST AL,AL
005d9e37 : JZ 0x005d9e3d
005d9e39 : MOV dword ptr [ESP + EBP*0x4 + 0x10],EDI
005d9e3d : INC EBP
005d9e3e : ADD EDI,0x24
005d9e41 : ADD EBX,0x4
005d9e44 : CMP EBP,dword ptr [ESI]
005d9e46 : JC 0x005d9df0
005d9e48 : MOV EDI,dword ptr [ESP + 0x1c]
005d9e4c : XOR EBP,EBP
005d9e4e : MOV EAX,dword ptr [ESP + 0x18]
005d9e52 : MOV ECX,dword ptr [ESP + 0x14]
005d9e56 : MOV EDX,dword ptr [EDI]
005d9e58 : MOV EDX,dword ptr [EDX + 0x64]
005d9e5b : PUSH EAX
005d9e5c : MOV EAX,dword ptr [ESP + 0x14]
005d9e60 : PUSH ECX
005d9e61 : MOV ECX,dword ptr [ESI + 0x10]
005d9e64 : PUSH EAX
005d9e65 : PUSH ECX
005d9e66 : MOV ECX,EDI
005d9e68 : CALL EDX
005d9e6a : JMP 0x005d9eaf
005d9e6c : CMP dword ptr [ESP + 0xa0],EBP
005d9e73 : JZ 0x005d9eaf
005d9e75 : MOV ECX,dword ptr [ESP + 0xb0]
005d9e7c : CMP ECX,EBP
005d9e7e : JZ 0x005d9e8b
005d9e80 : MOV EAX,dword ptr [ESI + 0x4]
005d9e83 : LEA EAX,[EAX + EAX*0x2]
005d9e86 : LEA EAX,[ECX + EAX*0x8]
005d9e89 : JMP 0x005d9e8d
005d9e8b : XOR EAX,EAX
005d9e8d : FLD float ptr [ESP + 0xac]
005d9e94 : PUSH EAX
005d9e95 : MOV EAX,dword ptr [ESI + 0x4]
005d9e98 : PUSH ECX
005d9e99 : FSTP float ptr [ESP]
005d9e9c : PUSH EDX
005d9e9d : MOV EDX,dword ptr [ESP + 0xa8]
005d9ea4 : LEA ECX,[EAX + EAX*0x4]
005d9ea7 : LEA ECX,[EDX + ECX*0x8]
005d9eaa : CALL 0x005d7030
005d9eaf : MOV ECX,dword ptr [ESI + 0x18]
005d9eb2 : MOV EDX,dword ptr [EDI]
005d9eb4 : MOV EDX,dword ptr [EDX + 0x40]
005d9eb7 : LEA EAX,[ESI + 0x20]
005d9eba : MOV dword ptr [ESP + 0x20],EAX
005d9ebe : LEA EAX,[ESP + 0x20]
005d9ec2 : PUSH EAX
005d9ec3 : MOV EAX,dword ptr [ESI + 0x14]
005d9ec6 : PUSH 0x1
005d9ec8 : PUSH ECX
005d9ec9 : PUSH EAX
005d9eca : MOV ECX,EDI
005d9ecc : MOV byte ptr [ESP + 0x34],0x0
005d9ed1 : CALL EDX
005d9ed3 : MOV ECX,dword ptr [ESP + 0xa4]
005d9eda : MOV EBX,dword ptr [EDI]
005d9edc : MOV EAX,0xaaaaaaab
005d9ee1 : MUL dword ptr [ESI + 0x18]
005d9ee4 : MOV EAX,dword ptr [ESP + 0xa8]
005d9eeb : SHR EDX,0x1
005d9eed : PUSH EDX
005d9eee : MOV EDX,dword ptr [EBX + 0x48]
005d9ef1 : PUSH EBP
005d9ef2 : PUSH EAX
005d9ef3 : PUSH EBP
005d9ef4 : PUSH ECX
005d9ef5 : MOV ECX,EDI
005d9ef7 : CALL EDX
005d9ef9 : POP EBX
005d9efa : POP EDI
005d9efb : POP ESI
005d9efc : POP EBP
005d9efd : ADD ESP,0x84
005d9f03 : RET 0x20
