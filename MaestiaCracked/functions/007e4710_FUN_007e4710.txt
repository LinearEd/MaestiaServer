PROGRAM  : Maestia.exe
FUNCTION : FUN_007e4710
ENTRY    : 007e4710
BODY     : [[007e4710, 007e4842] [007e4849, 007e4858] [007e4860, 007e4966] [007e4971, 007e49b4] [007e49bb, 007e4aa0]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x007e489b) */
/* WARNING: Removing unreachable block (ram,0x007e481e) */
/* WARNING: Removing unreachable block (ram,0x007e48c9) */
/* WARNING: Removing unreachable block (ram,0x007e48d0) */

void FUN_007e4710(void)

{
  int iVar1;
  undefined4 *puVar2;
  int *piVar3;
  int unaff_EDI;
  int local_20;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b292e6;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  FUN_008018d0(L"[AvaTerrainSceneMgr::Destroy]",DAT_00d66fa0 ^ (uint)&stack0xffffffd8);
  FUN_0045cd30(*(undefined4 *)(*(int *)(unaff_EDI + 0x6c) + 4));
  *(int *)(*(int *)(unaff_EDI + 0x6c) + 4) = *(int *)(unaff_EDI + 0x6c);
  *(undefined4 *)(unaff_EDI + 0x70) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x6c) = *(undefined4 *)(unaff_EDI + 0x6c);
  *(int *)(*(int *)(unaff_EDI + 0x6c) + 8) = *(int *)(unaff_EDI + 0x6c);
  FUN_0045cd30(*(undefined4 *)(*(int *)(unaff_EDI + 0x1ac) + 4));
  *(int *)(*(int *)(unaff_EDI + 0x1ac) + 4) = *(int *)(unaff_EDI + 0x1ac);
  *(undefined4 *)(unaff_EDI + 0x1b0) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x1ac) = *(undefined4 *)(unaff_EDI + 0x1ac);
  *(int *)(*(int *)(unaff_EDI + 0x1ac) + 8) = *(int *)(unaff_EDI + 0x1ac);
  FUN_0045cd30(*(undefined4 *)(*(int *)(unaff_EDI + 0x194) + 4));
  *(int *)(*(int *)(unaff_EDI + 0x194) + 4) = *(int *)(unaff_EDI + 0x194);
  *(undefined4 *)(unaff_EDI + 0x198) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x194) = *(undefined4 *)(unaff_EDI + 0x194);
  *(int *)(*(int *)(unaff_EDI + 0x194) + 8) = *(int *)(unaff_EDI + 0x194);
  FUN_00401c00(*(undefined4 *)(*(int *)(unaff_EDI + 0x2c24) + 4));
  *(int *)(*(int *)(unaff_EDI + 0x2c24) + 4) = *(int *)(unaff_EDI + 0x2c24);
  *(undefined4 *)(unaff_EDI + 0x2c28) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x2c24) = *(undefined4 *)(unaff_EDI + 0x2c24);
  *(int *)(*(int *)(unaff_EDI + 0x2c24) + 8) = *(int *)(unaff_EDI + 0x2c24);
  if (*(int *)(unaff_EDI + 0x21c) != *(int *)(unaff_EDI + 0x220)) {
    *(int *)(unaff_EDI + 0x220) = *(int *)(unaff_EDI + 0x21c);
  }
  if (*(int *)(unaff_EDI + 0xf8) != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  puVar2 = *(undefined4 **)(unaff_EDI + 0x158);
  if (puVar2 != *(undefined4 **)(unaff_EDI + 0x15c)) {
    do {
      (**(code **)(*(int *)*puVar2 + 0xfc))();
      puVar2 = puVar2 + 1;
    } while (puVar2 != *(undefined4 **)(unaff_EDI + 0x15c));
  }
  if (*(int *)(unaff_EDI + 0x158) != *(int *)(unaff_EDI + 0x15c)) {
    *(int *)(unaff_EDI + 0x15c) = *(int *)(unaff_EDI + 0x158);
  }
  if (*(int *)(unaff_EDI + 0x148) != *(int *)(unaff_EDI + 0x14c)) {
    *(int *)(unaff_EDI + 0x14c) = *(int *)(unaff_EDI + 0x148);
  }
  if (*(int *)(unaff_EDI + 0xe4) != 0) {
    FUN_007796a0();
  }
  if (*(undefined4 **)(unaff_EDI + 0xe4) != (undefined4 *)0x0) {
    (**(code **)**(undefined4 **)(unaff_EDI + 0xe4))(1);
    *(undefined4 *)(unaff_EDI + 0xe4) = 0;
  }
  if (*(int *)(unaff_EDI + 0xe8) != 0) {
    FUN_00779740();
  }
  if (*(undefined4 **)(unaff_EDI + 0xe8) != (undefined4 *)0x0) {
    (**(code **)**(undefined4 **)(unaff_EDI + 0xe8))(1);
    *(undefined4 *)(unaff_EDI + 0xe8) = 0;
  }
  piVar3 = *(int **)(unaff_EDI + 0xf0);
  iVar1 = *piVar3;
  *piVar3 = (int)piVar3;
  *(int *)(*(int *)(unaff_EDI + 0xf0) + 4) = *(int *)(unaff_EDI + 0xf0);
  *(undefined4 *)(unaff_EDI + 0xf4) = 0;
  if (iVar1 != *(int *)(unaff_EDI + 0xf0)) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if (*(int *)(unaff_EDI + 0x24) != 0) {
    FUN_007d7890();
  }
  puVar2 = *(undefined4 **)(unaff_EDI + 0x88);
  if (puVar2 != (undefined4 *)0x0) {
    if (puVar2[-1] == 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    (**(code **)*puVar2)(3);
    *(undefined4 *)(unaff_EDI + 0x88) = 0;
  }
  if (*(int *)(unaff_EDI + 0xe0) != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *(undefined4 *)(unaff_EDI + 0x16c) = 0xffffffff;
  *(undefined4 *)(unaff_EDI + 0x170) = 0xffffffff;
  *(undefined4 *)(unaff_EDI + 0x164) = 0xffffffff;
  *(undefined4 *)(unaff_EDI + 0x168) = 0xffffffff;
  *(undefined4 *)(unaff_EDI + 0xa8) = 1;
  *(undefined4 *)(unaff_EDI + 0xac) = 0xffffffff;
  uStack_c = 0;
  if (*(int **)(unaff_EDI + 0x9c) != (int *)0x0) {
    (**(code **)(**(int **)(unaff_EDI + 0x9c) + 0x30))();
    *(undefined4 *)(unaff_EDI + 0x9c) = 0;
  }
  uStack_c = 0xffffffff;
  piVar3 = (int *)(unaff_EDI + 0x2afc);
  local_20 = 2;
  do {
    if ((int *)piVar3[-4] != (int *)0x0) {
      (**(code **)(*(int *)piVar3[-4] + 0x30))();
      piVar3[-4] = 0;
    }
    if ((int *)*piVar3 != (int *)0x0) {
      (**(code **)(*(int *)*piVar3 + 0x30))();
      *piVar3 = 0;
    }
    piVar3 = piVar3 + 2;
    local_20 = local_20 + -1;
  } while (local_20 != 0);
  *(undefined1 *)(unaff_EDI + 0xa0) = 0;
  *(undefined1 *)(unaff_EDI + 0x2a89) = 0;
  FUN_0045ce30(*(undefined4 *)(*(int *)(unaff_EDI + 0x90) + 4));
  *(int *)(*(int *)(unaff_EDI + 0x90) + 4) = *(int *)(unaff_EDI + 0x90);
  *(undefined4 *)(unaff_EDI + 0x94) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x90) = *(undefined4 *)(unaff_EDI + 0x90);
  *(int *)(*(int *)(unaff_EDI + 0x90) + 8) = *(int *)(unaff_EDI + 0x90);
  FUN_007e0d60();
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
007e4710 : PUSH EBP
007e4711 : MOV EBP,ESP
007e4713 : AND ESP,0xfffffff8
007e4716 : PUSH -0x1
007e4718 : PUSH 0xb292e6
007e471d : MOV EAX,FS:[0x0]
007e4723 : PUSH EAX
007e4724 : SUB ESP,0xc
007e4727 : PUSH EBX
007e4728 : PUSH ESI
007e4729 : MOV EAX,[0x00d66fa0]
007e472e : XOR EAX,ESP
007e4730 : PUSH EAX
007e4731 : LEA EAX,[ESP + 0x18]
007e4735 : MOV FS:[0x0],EAX
007e473b : MOV ESI,dword ptr [0x00da98e8]
007e4741 : PUSH 0xc22790
007e4746 : CALL 0x008018d0
007e474b : MOV EAX,dword ptr [EDI + 0x6c]
007e474e : MOV ECX,dword ptr [EAX + 0x4]
007e4751 : LEA ESI,[EDI + 0x68]
007e4754 : ADD ESP,0x4
007e4757 : PUSH ECX
007e4758 : MOV ECX,ESI
007e475a : CALL 0x0045cd30
007e475f : MOV EAX,dword ptr [ESI + 0x4]
007e4762 : MOV dword ptr [EAX + 0x4],EAX
007e4765 : MOV EAX,dword ptr [ESI + 0x4]
007e4768 : XOR EBX,EBX
007e476a : MOV dword ptr [ESI + 0x8],EBX
007e476d : MOV dword ptr [EAX],EAX
007e476f : MOV ESI,dword ptr [ESI + 0x4]
007e4772 : MOV dword ptr [ESI + 0x8],ESI
007e4775 : MOV EDX,dword ptr [EDI + 0x1ac]
007e477b : MOV EAX,dword ptr [EDX + 0x4]
007e477e : LEA ESI,[EDI + 0x1a8]
007e4784 : PUSH EAX
007e4785 : MOV ECX,ESI
007e4787 : CALL 0x0045cd30
007e478c : MOV EAX,dword ptr [ESI + 0x4]
007e478f : MOV dword ptr [EAX + 0x4],EAX
007e4792 : MOV EAX,dword ptr [ESI + 0x4]
007e4795 : MOV dword ptr [ESI + 0x8],EBX
007e4798 : MOV dword ptr [EAX],EAX
007e479a : MOV ESI,dword ptr [ESI + 0x4]
007e479d : MOV dword ptr [ESI + 0x8],ESI
007e47a0 : MOV ECX,dword ptr [EDI + 0x194]
007e47a6 : MOV EDX,dword ptr [ECX + 0x4]
007e47a9 : LEA ESI,[EDI + 0x190]
007e47af : PUSH EDX
007e47b0 : MOV ECX,ESI
007e47b2 : CALL 0x0045cd30
007e47b7 : MOV EAX,dword ptr [ESI + 0x4]
007e47ba : MOV dword ptr [EAX + 0x4],EAX
007e47bd : MOV EAX,dword ptr [ESI + 0x4]
007e47c0 : MOV dword ptr [ESI + 0x8],EBX
007e47c3 : MOV dword ptr [EAX],EAX
007e47c5 : MOV ESI,dword ptr [ESI + 0x4]
007e47c8 : MOV dword ptr [ESI + 0x8],ESI
007e47cb : MOV EAX,dword ptr [EDI + 0x2c24]
007e47d1 : MOV ECX,dword ptr [EAX + 0x4]
007e47d4 : LEA ESI,[EDI + 0x2c20]
007e47da : PUSH ECX
007e47db : MOV ECX,ESI
007e47dd : CALL 0x00401c00
007e47e2 : MOV EAX,dword ptr [ESI + 0x4]
007e47e5 : MOV dword ptr [EAX + 0x4],EAX
007e47e8 : MOV EAX,dword ptr [ESI + 0x4]
007e47eb : MOV dword ptr [ESI + 0x8],EBX
007e47ee : MOV dword ptr [EAX],EAX
007e47f0 : MOV ESI,dword ptr [ESI + 0x4]
007e47f3 : MOV dword ptr [ESI + 0x8],ESI
007e47f6 : MOV EAX,dword ptr [EDI + 0x220]
007e47fc : MOV ECX,dword ptr [EDI + 0x21c]
007e4802 : CMP ECX,EAX
007e4804 : JZ 0x007e4834
007e4806 : MOV EDX,EAX
007e4808 : SUB EDX,EAX
007e480a : SAR EDX,0x2
007e480d : LEA ESI,[EDX*0x4 + 0x0]
007e4814 : MOV dword ptr [ESP + 0xc],ESI
007e4818 : ADD ESI,ECX
007e481a : CMP EDX,EBX
007e481c : JLE 0x007e482e
007e481e : MOV EDX,dword ptr [ESP + 0xc]
007e4822 : PUSH EDX
007e4823 : PUSH EAX
007e4824 : PUSH EDX
007e4825 : PUSH ECX
007e4826 : CALL 0x00634101
007e482b : ADD ESP,0x10
007e482e : MOV dword ptr [EDI + 0x220],ESI
007e4834 : MOV ECX,dword ptr [EDI + 0xf8]
007e483a : CMP ECX,EBX
007e483c : JZ 0x007e4849
007e483e : CALL 0x006f04e0
007e4849 : MOV ESI,dword ptr [EDI + 0x158]
007e484f : CMP ESI,dword ptr [EDI + 0x15c]
007e4855 : JZ 0x007e4877
007e4857 : JMP 0x007e4860
007e4860 : MOV ECX,dword ptr [ESI]
007e4862 : MOV EDX,dword ptr [ECX]
007e4864 : MOV EAX,dword ptr [EDX + 0xfc]
007e486a : CALL EAX
007e486c : ADD ESI,0x4
007e486f : CMP ESI,dword ptr [EDI + 0x15c]
007e4875 : JNZ 0x007e4860
007e4877 : MOV ECX,dword ptr [EDI + 0x15c]
007e487d : MOV ESI,dword ptr [EDI + 0x158]
007e4883 : CMP ESI,ECX
007e4885 : JZ 0x007e48b3
007e4887 : MOV EAX,ECX
007e4889 : SUB EAX,ECX
007e488b : SAR EAX,0x2
007e488e : LEA EDX,[EAX*0x4 + 0x0]
007e4895 : ADD ESI,EDX
007e4897 : CMP EAX,EBX
007e4899 : JLE 0x007e48ad
007e489b : MOV EAX,dword ptr [EDI + 0x158]
007e48a1 : PUSH EDX
007e48a2 : PUSH ECX
007e48a3 : PUSH EDX
007e48a4 : PUSH EAX
007e48a5 : CALL 0x00634101
007e48aa : ADD ESP,0x10
007e48ad : MOV dword ptr [EDI + 0x15c],ESI
007e48b3 : MOV EDX,dword ptr [EDI + 0x14c]
007e48b9 : MOV ECX,dword ptr [EDI + 0x148]
007e48bf : CMP ECX,EDX
007e48c1 : JZ 0x007e48ea
007e48c3 : MOV EAX,EDX
007e48c5 : CMP EDX,EDX
007e48c7 : JZ 0x007e48e4
007e48c9 : LEA ESP,[ESP]
007e48d0 : MOV ESI,dword ptr [EAX]
007e48d2 : MOV dword ptr [ECX],ESI
007e48d4 : MOV ESI,dword ptr [EAX + 0x4]
007e48d7 : MOV dword ptr [ECX + 0x4],ESI
007e48da : ADD EAX,0x8
007e48dd : ADD ECX,0x8
007e48e0 : CMP EAX,EDX
007e48e2 : JNZ 0x007e48d0
007e48e4 : MOV dword ptr [EDI + 0x14c],ECX
007e48ea : MOV ESI,dword ptr [EDI + 0xe4]
007e48f0 : CMP ESI,EBX
007e48f2 : JZ 0x007e48f9
007e48f4 : CALL 0x007796a0
007e48f9 : MOV ECX,dword ptr [EDI + 0xe4]
007e48ff : CMP ECX,EBX
007e4901 : JZ 0x007e4911
007e4903 : MOV EDX,dword ptr [ECX]
007e4905 : MOV EAX,dword ptr [EDX]
007e4907 : PUSH 0x1
007e4909 : CALL EAX
007e490b : MOV dword ptr [EDI + 0xe4],EBX
007e4911 : MOV ESI,dword ptr [EDI + 0xe8]
007e4917 : CMP ESI,EBX
007e4919 : JZ 0x007e4920
007e491b : CALL 0x00779740
007e4920 : MOV ECX,dword ptr [EDI + 0xe8]
007e4926 : CMP ECX,EBX
007e4928 : JZ 0x007e4938
007e492a : MOV EDX,dword ptr [ECX]
007e492c : MOV EAX,dword ptr [EDX]
007e492e : PUSH 0x1
007e4930 : CALL EAX
007e4932 : MOV dword ptr [EDI + 0xe8],EBX
007e4938 : MOV EAX,dword ptr [EDI + 0xf0]
007e493e : MOV ECX,dword ptr [EAX]
007e4940 : MOV dword ptr [EAX],EAX
007e4942 : MOV EAX,dword ptr [EDI + 0xf0]
007e4948 : MOV dword ptr [EAX + 0x4],EAX
007e494b : MOV dword ptr [EDI + 0xf4],EBX
007e4951 : CMP ECX,dword ptr [EDI + 0xf0]
007e4957 : JZ 0x007e4971
007e4959 : LEA ESP,[ESP]
007e4960 : MOV ESI,dword ptr [ECX]
007e4962 : CALL 0x006f04e0
007e4971 : MOV ECX,dword ptr [EDI + 0x24]
007e4974 : CMP ECX,EBX
007e4976 : JZ 0x007e497d
007e4978 : CALL 0x007d7890
007e497d : MOV EAX,dword ptr [EDI + 0x88]
007e4983 : CMP EAX,EBX
007e4985 : JZ 0x007e49a6
007e4987 : CMP dword ptr [EAX + -0x4],EBX
007e498a : LEA ECX,[EAX + -0x4]
007e498d : JZ 0x007e499b
007e498f : MOV EDX,dword ptr [EAX]
007e4991 : MOV ECX,EAX
007e4993 : MOV EAX,dword ptr [EDX]
007e4995 : PUSH 0x3
007e4997 : CALL EAX
007e4999 : JMP 0x007e49a0
007e499b : CALL 0x006f04e0
007e49a0 : MOV dword ptr [EDI + 0x88],EBX
007e49a6 : MOV ECX,dword ptr [EDI + 0xe0]
007e49ac : CMP ECX,EBX
007e49ae : JZ 0x007e49bb
007e49b0 : CALL 0x006f04e0
007e49bb : OR ESI,0xffffffff
007e49be : MOV dword ptr [EDI + 0x16c],ESI
007e49c4 : MOV dword ptr [EDI + 0x170],ESI
007e49ca : MOV dword ptr [EDI + 0x164],ESI
007e49d0 : MOV dword ptr [EDI + 0x168],ESI
007e49d6 : MOV dword ptr [EDI + 0xa8],0x1
007e49e0 : MOV dword ptr [EDI + 0xac],ESI
007e49e6 : MOV dword ptr [ESP + 0xc],0xcd4964
007e49ee : MOV dword ptr [ESP + 0x10],EBX
007e49f2 : MOV dword ptr [ESP + 0x20],EBX
007e49f6 : MOV ECX,dword ptr [EDI + 0x9c]
007e49fc : CMP ECX,EBX
007e49fe : JZ 0x007e4a0d
007e4a00 : MOV EDX,dword ptr [ECX]
007e4a02 : MOV EAX,dword ptr [EDX + 0x30]
007e4a05 : CALL EAX
007e4a07 : MOV dword ptr [EDI + 0x9c],EBX
007e4a0d : MOV dword ptr [ESP + 0x20],ESI
007e4a11 : MOV dword ptr [ESP + 0xc],0xcd4964
007e4a19 : LEA ESI,[EDI + 0x2afc]
007e4a1f : MOV dword ptr [ESP + 0xc],0x2
007e4a27 : MOV ECX,dword ptr [ESI + -0x10]
007e4a2a : CMP ECX,EBX
007e4a2c : JZ 0x007e4a38
007e4a2e : MOV EDX,dword ptr [ECX]
007e4a30 : MOV EAX,dword ptr [EDX + 0x30]
007e4a33 : CALL EAX
007e4a35 : MOV dword ptr [ESI + -0x10],EBX
007e4a38 : MOV ECX,dword ptr [ESI]
007e4a3a : CMP ECX,EBX
007e4a3c : JZ 0x007e4a47
007e4a3e : MOV EDX,dword ptr [ECX]
007e4a40 : MOV EAX,dword ptr [EDX + 0x30]
007e4a43 : CALL EAX
007e4a45 : MOV dword ptr [ESI],EBX
007e4a47 : ADD ESI,0x8
007e4a4a : SUB dword ptr [ESP + 0xc],0x1
007e4a4f : JNZ 0x007e4a27
007e4a51 : MOV byte ptr [EDI + 0xa0],BL
007e4a57 : MOV byte ptr [EDI + 0x2a89],BL
007e4a5d : MOV ECX,dword ptr [EDI + 0x90]
007e4a63 : MOV EDX,dword ptr [ECX + 0x4]
007e4a66 : LEA ESI,[EDI + 0x8c]
007e4a6c : PUSH EDX
007e4a6d : MOV ECX,ESI
007e4a6f : CALL 0x0045ce30
007e4a74 : MOV EAX,dword ptr [ESI + 0x4]
007e4a77 : MOV dword ptr [EAX + 0x4],EAX
007e4a7a : MOV EAX,dword ptr [ESI + 0x4]
007e4a7d : MOV dword ptr [ESI + 0x8],EBX
007e4a80 : MOV dword ptr [EAX],EAX
007e4a82 : MOV ESI,dword ptr [ESI + 0x4]
007e4a85 : MOV dword ptr [ESI + 0x8],ESI
007e4a88 : MOV ESI,EDI
007e4a8a : CALL 0x007e0d60
007e4a8f : MOV ECX,dword ptr [ESP + 0x18]
007e4a93 : MOV dword ptr FS:[0x0],ECX
007e4a9a : POP ECX
007e4a9b : POP ESI
007e4a9c : POP EBX
007e4a9d : MOV ESP,EBP
007e4a9f : POP EBP
007e4aa0 : RET
