PROGRAM  : Maestia.exe
FUNCTION : FUN_00457b20
ENTRY    : 00457b20
BODY     : [[00457b20, 00457c28]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint * FUN_00457b20(uint param_1)

{
  uint *puVar1;
  size_t _Size;
  uint *puVar2;
  uint uVar3;
  void *local_c;
  undefined1 *puStack_8;
  undefined4 uStack_4;
  
  uStack_4 = 0xffffffff;
  puStack_8 = &LAB_00b71527;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  _Size = param_1 * 0x3c + 4;
  if (DAT_00da98c8 == (int *)0x0) {
    puVar2 = _malloc(_Size);
  }
  else {
    puVar2 = (uint *)(**(code **)(*DAT_00da98c8 + 4))(_Size,DAT_00d66fa0 ^ (uint)&stack0xffffffdc);
  }
  if (puVar2 == (uint *)0x0) {
    ExceptionList = local_c;
    return (uint *)0x0;
  }
  uVar3 = 0;
  *puVar2 = param_1;
  if (param_1 != 0) {
    do {
      puVar1 = puVar2 + 1 + uVar3 * 0xf;
      if (puVar1 != (uint *)0x0) {
        *puVar1 = 0;
        puVar1[1] = 0;
        puVar1[2] = 0;
        puVar1[3] = 0;
        puVar1[4] = 0;
        puVar1[5] = 0;
        puVar1[6] = 0;
        puVar1[7] = 0;
        puVar1[8] = 0;
        puVar1[9] = 0;
        puVar1[10] = 0;
        puVar1[0xb] = 0;
        puVar1[0xc] = 0x3f800000;
        puVar1[0xd] = 0;
        puVar1[0xe] = 0;
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < param_1);
  }
  _DAT_00da98cc = _DAT_00da98cc + _Size;
  _DAT_00da98d0 = _DAT_00da98d0 + 1;
  ExceptionList = local_c;
  return puVar2 + 1;
}



============================================================
DISASSEMBLY
============================================================
00457b20 : PUSH -0x1
00457b22 : PUSH 0xb71527
00457b27 : MOV EAX,FS:[0x0]
00457b2d : PUSH EAX
00457b2e : SUB ESP,0x8
00457b31 : PUSH EBX
00457b32 : PUSH EBP
00457b33 : PUSH ESI
00457b34 : PUSH EDI
00457b35 : MOV EAX,[0x00d66fa0]
00457b3a : XOR EAX,ESP
00457b3c : PUSH EAX
00457b3d : LEA EAX,[ESP + 0x1c]
00457b41 : MOV FS:[0x0],EAX
00457b47 : MOV EBX,dword ptr [ESP + 0x2c]
00457b4b : MOV ECX,dword ptr [0x00da98c8]
00457b51 : MOV EAX,EBX
00457b53 : SHL EAX,0x4
00457b56 : SUB EAX,EBX
00457b58 : XOR ESI,ESI
00457b5a : LEA EBP,[EAX*0x4 + 0x4]
00457b61 : PUSH EBP
00457b62 : CMP ECX,ESI
00457b64 : JZ 0x00457b6f
00457b66 : MOV EDX,dword ptr [ECX]
00457b68 : MOV EAX,dword ptr [EDX + 0x4]
00457b6b : CALL EAX
00457b6d : JMP 0x00457b77
00457b6f : CALL 0x00636043
00457b74 : ADD ESP,0x4
00457b77 : CMP EAX,ESI
00457b79 : JZ 0x00457c13
00457b7f : XOR EDX,EDX
00457b81 : LEA EDI,[EAX + 0x4]
00457b84 : MOV dword ptr [EAX],EBX
00457b86 : MOV dword ptr [ESP + 0x14],EDI
00457b8a : MOV dword ptr [ESP + 0x2c],EDX
00457b8e : CMP EBX,ESI
00457b90 : JBE 0x00457bf1
00457b92 : MOVSS XMM0,dword ptr [0x00c10fc4]
00457b9a : OR EAX,0xffffffff
00457b9d : LEA ECX,[ECX]
00457ba0 : MOV ECX,EDX
00457ba2 : SHL ECX,0x4
00457ba5 : SUB ECX,EDX
00457ba7 : LEA ECX,[EDI + ECX*0x4]
00457baa : MOV dword ptr [ESP + 0x18],ECX
00457bae : MOV dword ptr [ESP + 0x24],ESI
00457bb2 : CMP ECX,ESI
00457bb4 : JZ 0x00457be4
00457bb6 : MOV dword ptr [ECX],ESI
00457bb8 : MOV dword ptr [ECX + 0x4],ESI
00457bbb : MOV dword ptr [ECX + 0x8],ESI
00457bbe : MOV dword ptr [ECX + 0xc],ESI
00457bc1 : MOV dword ptr [ECX + 0x10],ESI
00457bc4 : MOV dword ptr [ECX + 0x14],ESI
00457bc7 : MOV dword ptr [ECX + 0x18],ESI
00457bca : MOV dword ptr [ECX + 0x1c],ESI
00457bcd : MOV dword ptr [ECX + 0x20],ESI
00457bd0 : MOV dword ptr [ECX + 0x24],ESI
00457bd3 : MOV dword ptr [ECX + 0x28],ESI
00457bd6 : MOV dword ptr [ECX + 0x2c],ESI
00457bd9 : MOVSS dword ptr [ECX + 0x30],XMM0
00457bde : MOV dword ptr [ECX + 0x34],ESI
00457be1 : MOV dword ptr [ECX + 0x38],ESI
00457be4 : MOV dword ptr [ESP + 0x24],EAX
00457be8 : INC EDX
00457be9 : MOV dword ptr [ESP + 0x2c],EDX
00457bed : CMP EDX,EBX
00457bef : JC 0x00457ba0
00457bf1 : ADD dword ptr [0x00da98cc],EBP
00457bf7 : INC dword ptr [0x00da98d0]
00457bfd : MOV EAX,EDI
00457bff : MOV ECX,dword ptr [ESP + 0x1c]
00457c03 : MOV dword ptr FS:[0x0],ECX
00457c0a : POP ECX
00457c0b : POP EDI
00457c0c : POP ESI
00457c0d : POP EBP
00457c0e : POP EBX
00457c0f : ADD ESP,0x14
00457c12 : RET
00457c13 : XOR EAX,EAX
00457c15 : MOV ECX,dword ptr [ESP + 0x1c]
00457c19 : MOV dword ptr FS:[0x0],ECX
00457c20 : POP ECX
00457c21 : POP EDI
00457c22 : POP ESI
00457c23 : POP EBP
00457c24 : POP EBX
00457c25 : ADD ESP,0x14
00457c28 : RET
