PROGRAM  : Maestia.exe
FUNCTION : FUN_008022f0
ENTRY    : 008022f0
BODY     : [[008022f0, 00802430]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008022f0(undefined4 param_1,int param_2,undefined4 param_3)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  int in_ECX;
  uint uVar5;
  uint uVar6;
  undefined1 local_88 [64];
  undefined1 local_48 [36];
  undefined1 local_24 [8];
  int local_1c;
  int local_18;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b29714;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (param_2 != 0) {
    iVar1 = *(int *)(param_2 + 0x10);
    local_1c = *(int *)(param_2 + 0x3c);
    uVar6 = 0;
    local_18 = in_ECX;
    if (0 < local_1c) {
      do {
        if (*(int *)(param_2 + 0x3c) != 0) {
          puVar2 = *(undefined4 **)(param_2 + 0x38);
          puVar4 = (undefined4 *)*puVar2;
          uVar5 = 0;
          if (uVar6 != 0) {
            do {
              if (puVar4 == puVar2) goto LAB_008023cb;
              puVar4 = (undefined4 *)*puVar4;
              uVar5 = uVar5 + 1;
            } while ((uVar5 & 0xffff) < uVar6);
          }
          if ((puVar4 != puVar2) && (puVar4[9] != 0)) {
            uVar3 = FUN_00459610(local_48,param_1,puVar4[9]);
            local_8 = 0;
            uVar3 = FUN_00458830(local_88,uVar3);
            local_8._0_1_ = 1;
            FUN_00458960(local_18 + 0x68,local_24,uVar3,*(undefined4 *)(local_18 + 0x70));
            local_8 = (uint)local_8._1_3_ << 8;
            FUN_00458650(local_88);
            local_8 = 0xffffffff;
            FUN_0044cb00(local_48);
          }
        }
LAB_008023cb:
        uVar6 = uVar6 + 1;
      } while ((int)uVar6 < local_1c);
    }
    uVar6 = 0;
    if (0 < iVar1) {
      do {
        if (*(int *)(param_2 + 0x10) == 0) {
LAB_00802404:
          uVar3 = 0;
        }
        else {
          puVar2 = *(undefined4 **)(param_2 + 0xc);
          puVar4 = (undefined4 *)*puVar2;
          uVar5 = 0;
          if (uVar6 != 0) {
            do {
              if (puVar4 == puVar2) goto LAB_00802404;
              puVar4 = (undefined4 *)*puVar4;
              uVar5 = uVar5 + 1;
            } while ((uVar5 & 0xffff) < uVar6);
          }
          if (puVar4 == puVar2) goto LAB_00802404;
          uVar3 = puVar4[9];
        }
        FUN_008022f0(param_1,uVar3,param_3);
        uVar6 = uVar6 + 1;
      } while ((int)uVar6 < iVar1);
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
008022f0 : PUSH EBP
008022f1 : MOV EBP,ESP
008022f3 : PUSH -0x1
008022f5 : PUSH 0xb29714
008022fa : MOV EAX,FS:[0x0]
00802300 : PUSH EAX
00802301 : SUB ESP,0x78
00802304 : PUSH EBX
00802305 : PUSH ESI
00802306 : PUSH EDI
00802307 : MOV EAX,[0x00d66fa0]
0080230c : XOR EAX,EBP
0080230e : PUSH EAX
0080230f : LEA EAX,[EBP + -0xc]
00802312 : MOV FS:[0x0],EAX
00802318 : MOV dword ptr [EBP + -0x14],ECX
0080231b : MOV EBX,dword ptr [EBP + 0xc]
0080231e : TEST EBX,EBX
00802320 : JZ 0x0080241d
00802326 : MOV EAX,dword ptr [EBX + 0x10]
00802329 : MOV dword ptr [EBP + 0xc],EAX
0080232c : MOV EAX,dword ptr [EBX + 0x3c]
0080232f : XOR EDI,EDI
00802331 : MOV dword ptr [EBP + -0x18],EAX
00802334 : TEST EAX,EAX
00802336 : JLE 0x008023d5
0080233c : CMP dword ptr [EBX + 0x3c],0x0
00802340 : JZ 0x008023cb
00802346 : MOV EDX,dword ptr [EBX + 0x38]
00802349 : MOV EAX,dword ptr [EDX]
0080234b : XOR ECX,ECX
0080234d : TEST EDI,EDI
0080234f : JBE 0x0080235f
00802351 : CMP EAX,EDX
00802353 : JZ 0x008023cb
00802355 : MOV EAX,dword ptr [EAX]
00802357 : INC ECX
00802358 : MOVZX ESI,CX
0080235b : CMP ESI,EDI
0080235d : JC 0x00802351
0080235f : CMP EAX,EDX
00802361 : JZ 0x008023cb
00802363 : MOV ESI,dword ptr [EAX + 0x24]
00802366 : TEST ESI,ESI
00802368 : JZ 0x008023cb
0080236a : MOV ECX,dword ptr [EBP + 0x8]
0080236d : PUSH ESI
0080236e : PUSH ECX
0080236f : LEA EDX,[EBP + -0x44]
00802372 : PUSH EDX
00802373 : MOV EDX,dword ptr [EBP + 0x10]
00802376 : CALL 0x00459610
0080237b : MOV dword ptr [EBP + -0x4],0x0
00802382 : PUSH EAX
00802383 : LEA EAX,[EBP + 0xffffff7c]
00802389 : LEA ECX,[ESI + 0xc]
0080238c : PUSH EAX
0080238d : CALL 0x00458830
00802392 : MOV byte ptr [EBP + -0x4],0x1
00802396 : MOV ECX,dword ptr [EBP + -0x14]
00802399 : MOV EDX,dword ptr [ECX + 0x70]
0080239c : ADD ECX,0x68
0080239f : PUSH EDX
008023a0 : PUSH EAX
008023a1 : LEA EDX,[EBP + -0x20]
008023a4 : PUSH EDX
008023a5 : PUSH ECX
008023a6 : CALL 0x00458960
008023ab : MOV byte ptr [EBP + -0x4],0x0
008023af : LEA EAX,[EBP + 0xffffff7c]
008023b5 : PUSH EAX
008023b6 : CALL 0x00458650
008023bb : MOV dword ptr [EBP + -0x4],0xffffffff
008023c2 : LEA ECX,[EBP + -0x44]
008023c5 : PUSH ECX
008023c6 : CALL 0x0044cb00
008023cb : INC EDI
008023cc : CMP EDI,dword ptr [EBP + -0x18]
008023cf : JL 0x0080233c
008023d5 : XOR ESI,ESI
008023d7 : CMP dword ptr [EBP + 0xc],ESI
008023da : JLE 0x0080241d
008023dc : CMP dword ptr [EBX + 0x10],0x0
008023e0 : JZ 0x00802404
008023e2 : MOV EDX,dword ptr [EBX + 0xc]
008023e5 : MOV EAX,dword ptr [EDX]
008023e7 : XOR ECX,ECX
008023e9 : TEST ESI,ESI
008023eb : JBE 0x008023fb
008023ed : CMP EAX,EDX
008023ef : JZ 0x00802404
008023f1 : MOV EAX,dword ptr [EAX]
008023f3 : INC ECX
008023f4 : MOVZX EDI,CX
008023f7 : CMP EDI,ESI
008023f9 : JC 0x008023ed
008023fb : CMP EAX,EDX
008023fd : JZ 0x00802404
008023ff : MOV EAX,dword ptr [EAX + 0x24]
00802402 : JMP 0x00802406
00802404 : XOR EAX,EAX
00802406 : MOV EDX,dword ptr [EBP + 0x10]
00802409 : MOV ECX,dword ptr [EBP + -0x14]
0080240c : PUSH EDX
0080240d : PUSH EAX
0080240e : MOV EAX,dword ptr [EBP + 0x8]
00802411 : PUSH EAX
00802412 : CALL 0x008022f0
00802417 : INC ESI
00802418 : CMP ESI,dword ptr [EBP + 0xc]
0080241b : JL 0x008023dc
0080241d : MOV ECX,dword ptr [EBP + -0xc]
00802420 : MOV dword ptr FS:[0x0],ECX
00802427 : POP ECX
00802428 : POP EDI
00802429 : POP ESI
0080242a : POP EBX
0080242b : MOV ESP,EBP
0080242d : POP EBP
0080242e : RET 0xc
