PROGRAM  : Maestia.exe
FUNCTION : FUN_00533730
ENTRY    : 00533730
BODY     : [[00533730, 0053389b]]

============================================================
DECOMPILED C CODE
============================================================

undefined1
FUN_00533730(char *param_1,undefined4 param_2,int param_3,undefined4 param_4,undefined4 param_5,
            undefined4 param_6)

{
  char *pcVar1;
  undefined4 uVar2;
  char cVar3;
  undefined1 uVar4;
  int iVar5;
  int local_30;
  int local_2c;
  int local_28;
  byte local_24;
  char local_20 [16];
  undefined1 local_10 [16];
  
  uVar2 = param_4;
  pcVar1 = param_1;
  if ((param_1 != (char *)0x0) && (*param_1 != '\0')) {
    local_30 = 0;
    local_10[0] = 0;
    local_20[0] = '\0';
    param_1 = (char *)FUN_00525530(param_1);
    *(int *)((int)param_1 + 8) = *(int *)((int)param_1 + 8) + 1;
    cVar3 = FUN_005331f0(&param_1,local_10,0,&local_30,local_20,0);
    *(int *)((int)param_1 + 8) = *(int *)((int)param_1 + 8) + -1;
    if (*(int *)((int)param_1 + 8) == 0) {
      FUN_00525340();
    }
    if (cVar3 != '\0') {
      FUN_00527140(&local_2c,uVar2);
      if (local_2c != 0) {
        if ((local_20[0] == '\a') || (local_20[0] == '\x06')) {
          iVar5 = FUN_005270f0(uVar2);
        }
        else {
          iVar5 = param_3;
          if (local_30 != 0) {
            iVar5 = local_30 + 0x68;
          }
        }
        uVar4 = FUN_0052ec40(local_10,param_2,iVar5,uVar2,param_5,param_6,pcVar1);
        if (((local_24 & 2) == 0) && (local_2c != 0)) {
          FUN_00503db0();
        }
        local_2c = 0;
        if (((local_24 & 1) == 0) && (local_28 != 0)) {
          FUN_00503db0();
        }
        local_28 = 0;
        FUN_00526bc0();
        FUN_00526bc0();
        return uVar4;
      }
      local_2c = 0;
      if (((local_24 & 1) == 0) && (local_28 != 0)) {
        FUN_00503db0();
      }
      local_28 = 0;
    }
    FUN_00526bc0();
    FUN_00526bc0();
    return 0;
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00533730 : SUB ESP,0x30
00533733 : PUSH EBP
00533734 : PUSH EDI
00533735 : MOV EDI,dword ptr [ESP + 0x3c]
00533739 : XOR EBP,EBP
0053373b : CMP EDI,EBP
0053373d : JZ 0x00533894
00533743 : CMP byte ptr [EDI],0x0
00533746 : JZ 0x00533894
0053374c : PUSH EBX
0053374d : PUSH ESI
0053374e : MOV ESI,dword ptr [ESP + 0x50]
00533752 : MOV EAX,dword ptr [ESI + 0x78]
00533755 : PUSH EDI
00533756 : LEA ECX,[EAX + 0x254]
0053375c : MOV dword ptr [ESP + 0x14],EBP
00533760 : MOV byte ptr [ESP + 0x34],0x0
00533765 : MOV byte ptr [ESP + 0x24],0x0
0053376a : CALL 0x00525530
0053376f : MOV dword ptr [ESP + 0x44],EAX
00533773 : INC dword ptr [EAX + 0x8]
00533776 : PUSH EBP
00533777 : LEA EAX,[ESP + 0x24]
0053377b : PUSH EAX
0053377c : LEA ECX,[ESP + 0x18]
00533780 : PUSH ECX
00533781 : PUSH EBP
00533782 : LEA EDX,[ESP + 0x40]
00533786 : PUSH EDX
00533787 : LEA EAX,[ESP + 0x58]
0053378b : PUSH EAX
0053378c : MOV ECX,ESI
0053378e : CALL 0x005331f0
00533793 : TEST AL,AL
00533795 : MOV EAX,dword ptr [ESP + 0x44]
00533799 : SETZ BL
0053379c : DEC dword ptr [EAX + 0x8]
0053379f : MOV ECX,EAX
005337a1 : ADD EAX,0x8
005337a4 : CMP dword ptr [EAX],EBP
005337a6 : JNZ 0x005337ad
005337a8 : CALL 0x00525340
005337ad : TEST BL,BL
005337af : JNZ 0x005337e2
005337b1 : PUSH ESI
005337b2 : LEA ECX,[ESP + 0x18]
005337b6 : PUSH ECX
005337b7 : LEA ECX,[ESP + 0x38]
005337bb : CALL 0x00527140
005337c0 : CMP dword ptr [ESP + 0x14],EBP
005337c4 : JNZ 0x005337fe
005337c6 : TEST byte ptr [ESP + 0x1c],0x1
005337cb : MOV dword ptr [ESP + 0x14],EBP
005337cf : JNZ 0x005337de
005337d1 : MOV ECX,dword ptr [ESP + 0x18]
005337d5 : CMP ECX,EBP
005337d7 : JZ 0x005337de
005337d9 : CALL 0x00503db0
005337de : MOV dword ptr [ESP + 0x18],EBP
005337e2 : LEA ECX,[ESP + 0x20]
005337e6 : CALL 0x00526bc0
005337eb : LEA ECX,[ESP + 0x30]
005337ef : CALL 0x00526bc0
005337f4 : POP ESI
005337f5 : POP EBX
005337f6 : POP EDI
005337f7 : XOR AL,AL
005337f9 : POP EBP
005337fa : ADD ESP,0x30
005337fd : RET
005337fe : MOV AL,byte ptr [ESP + 0x20]
00533802 : CMP AL,0x7
00533804 : JZ 0x00533817
00533806 : CMP AL,0x6
00533808 : JZ 0x00533817
0053380a : MOV EAX,dword ptr [ESP + 0x10]
0053380e : CMP EAX,EBP
00533810 : JZ 0x00533823
00533812 : ADD EAX,0x68
00533815 : JMP 0x00533827
00533817 : PUSH ESI
00533818 : LEA ECX,[ESP + 0x24]
0053381c : CALL 0x005270f0
00533821 : JMP 0x00533827
00533823 : MOV EAX,dword ptr [ESP + 0x4c]
00533827 : MOV EDX,dword ptr [ESP + 0x58]
0053382b : MOV ECX,dword ptr [ESP + 0x54]
0053382f : PUSH EDI
00533830 : PUSH EDX
00533831 : MOV EDX,dword ptr [ESP + 0x50]
00533835 : PUSH ECX
00533836 : PUSH ESI
00533837 : PUSH EAX
00533838 : PUSH EDX
00533839 : LEA EAX,[ESP + 0x48]
0053383d : PUSH EAX
0053383e : CALL 0x0052ec40
00533843 : ADD ESP,0x1c
00533846 : TEST byte ptr [ESP + 0x1c],0x2
0053384b : MOV BL,AL
0053384d : JNZ 0x0053385c
0053384f : MOV ECX,dword ptr [ESP + 0x14]
00533853 : CMP ECX,EBP
00533855 : JZ 0x0053385c
00533857 : CALL 0x00503db0
0053385c : TEST byte ptr [ESP + 0x1c],0x1
00533861 : MOV dword ptr [ESP + 0x14],EBP
00533865 : JNZ 0x00533874
00533867 : MOV ECX,dword ptr [ESP + 0x18]
0053386b : CMP ECX,EBP
0053386d : JZ 0x00533874
0053386f : CALL 0x00503db0
00533874 : LEA ECX,[ESP + 0x20]
00533878 : MOV dword ptr [ESP + 0x18],EBP
0053387c : CALL 0x00526bc0
00533881 : LEA ECX,[ESP + 0x30]
00533885 : CALL 0x00526bc0
0053388a : POP ESI
0053388b : MOV AL,BL
0053388d : POP EBX
0053388e : POP EDI
0053388f : POP EBP
00533890 : ADD ESP,0x30
00533893 : RET
00533894 : POP EDI
00533895 : XOR AL,AL
00533897 : POP EBP
00533898 : ADD ESP,0x30
0053389b : RET
