PROGRAM  : Maestia.exe
FUNCTION : FUN_0081f410
ENTRY    : 0081f410
BODY     : [[0081f410, 0081f4ca]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0081f410(void)

{
  ushort uVar1;
  ushort uVar2;
  int iVar3;
  int in_ECX;
  int iVar4;
  
  FUN_008018d0(L"[AvaGame::ModifyDeviceOption]");
  uVar1 = *(ushort *)(DAT_017248cc + 0x30);
  uVar2 = *(ushort *)(DAT_017248cc + 0x32);
  iVar3 = FUN_007874a0();
  iVar4 = *(int *)(iVar3 + 0xc);
  if (iVar4 != *(int *)(iVar3 + 0x10)) {
    do {
      if (((uint)uVar1 == *(uint *)(iVar4 + 4)) && ((uint)uVar2 == *(uint *)(iVar4 + 8))) {
        *(uint *)(in_ECX + 0x14) = (uint)uVar1;
        *(uint *)(in_ECX + 0x18) = (uint)uVar2;
        *(undefined4 *)(in_ECX + 0x1c) = 0x20;
        *(undefined4 *)(in_ECX + 0x20) = *(undefined4 *)(iVar4 + 0xc);
        goto LAB_0081f4a8;
      }
      iVar4 = iVar4 + 0x18;
    } while (iVar4 != *(int *)(iVar3 + 0x10));
  }
  iVar4 = GetSystemMetrics(0);
  *(int *)(in_ECX + 0x14) = iVar4;
  iVar4 = GetSystemMetrics(1);
  *(int *)(in_ECX + 0x18) = iVar4;
  *(undefined4 *)(in_ECX + 0x1c) = 0x10;
  *(undefined4 *)(in_ECX + 0x20) = 0x3c;
LAB_0081f4a8:
  iVar4 = DAT_017248cc;
  *(uint *)(in_ECX + 0x28) = (uint)*(ushort *)(DAT_017248cc + 0x48);
  *(undefined1 *)(in_ECX + 0x2c) = *(undefined1 *)(iVar4 + 0x5d);
  *(undefined1 *)(in_ECX + 0x2d) = *(undefined1 *)(iVar4 + 0x5e);
  *(undefined1 *)(in_ECX + 0x25) = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0081f410 : PUSH EBP
0081f411 : MOV EBP,ESP
0081f413 : PUSH ECX
0081f414 : PUSH EBX
0081f415 : PUSH ESI
0081f416 : MOV ESI,dword ptr [0x00da98e8]
0081f41c : PUSH EDI
0081f41d : PUSH 0xc32630
0081f422 : MOV EDI,ECX
0081f424 : CALL 0x008018d0
0081f429 : MOV EAX,[0x017248cc]
0081f42e : MOVZX EBX,word ptr [EAX + 0x30]
0081f432 : MOVZX EAX,word ptr [EAX + 0x32]
0081f436 : MOV dword ptr [EBP + -0x4],EAX
0081f439 : MOV EAX,dword ptr [EDI + 0xc]
0081f43c : MOV ESI,dword ptr [EAX + 0x174]
0081f442 : ADD ESP,0x4
0081f445 : CALL 0x007874a0
0081f44a : MOV ECX,dword ptr [EAX + 0xc]
0081f44d : MOV EAX,dword ptr [EAX + 0x10]
0081f450 : CMP ECX,EAX
0081f452 : JZ 0x0081f46e
0081f454 : MOVZX ESI,BX
0081f457 : CMP ESI,dword ptr [ECX + 0x4]
0081f45a : JNZ 0x0081f467
0081f45c : MOV EDX,dword ptr [EBP + -0x4]
0081f45f : MOVZX EBX,DX
0081f462 : CMP EBX,dword ptr [ECX + 0x8]
0081f465 : JZ 0x0081f492
0081f467 : ADD ECX,0x18
0081f46a : CMP ECX,EAX
0081f46c : JNZ 0x0081f457
0081f46e : MOV ESI,dword ptr [0x00b8547c]
0081f474 : PUSH 0x0
0081f476 : CALL ESI
0081f478 : PUSH 0x1
0081f47a : MOV dword ptr [EDI + 0x14],EAX
0081f47d : CALL ESI
0081f47f : MOV dword ptr [EDI + 0x18],EAX
0081f482 : MOV dword ptr [EDI + 0x1c],0x10
0081f489 : MOV dword ptr [EDI + 0x20],0x3c
0081f490 : JMP 0x0081f4a8
0081f492 : MOVZX EDX,DX
0081f495 : MOV dword ptr [EDI + 0x14],ESI
0081f498 : MOV dword ptr [EDI + 0x18],EDX
0081f49b : MOV dword ptr [EDI + 0x1c],0x20
0081f4a2 : MOV EAX,dword ptr [ECX + 0xc]
0081f4a5 : MOV dword ptr [EDI + 0x20],EAX
0081f4a8 : MOV EAX,[0x017248cc]
0081f4ad : MOVZX ECX,word ptr [EAX + 0x48]
0081f4b1 : MOV dword ptr [EDI + 0x28],ECX
0081f4b4 : MOV DL,byte ptr [EAX + 0x5d]
0081f4b7 : MOV byte ptr [EDI + 0x2c],DL
0081f4ba : MOV AL,byte ptr [EAX + 0x5e]
0081f4bd : MOV byte ptr [EDI + 0x2d],AL
0081f4c0 : MOV byte ptr [EDI + 0x25],0x1
0081f4c4 : POP EDI
0081f4c5 : POP ESI
0081f4c6 : POP EBX
0081f4c7 : MOV ESP,EBP
0081f4c9 : POP EBP
0081f4ca : RET
