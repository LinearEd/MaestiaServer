PROGRAM  : Maestia.exe
FUNCTION : FUN_007c8bc0
ENTRY    : 007c8bc0
BODY     : [[007c8bc0, 007c8f8f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007c8bc0(void)

{
  char *pcVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int in_ECX;
  int *piVar5;
  undefined4 uVar6;
  LPCRITICAL_SECTION local_6c;
  char *local_68;
  undefined4 local_64;
  int local_60;
  undefined4 local_5c;
  undefined8 local_58;
  undefined8 local_50;
  undefined8 local_48;
  undefined8 local_40;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  int *local_2c;
  int *local_28;
  int *local_24;
  int *local_20;
  int *local_1c;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b31e58;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_1c = *(int **)(DAT_017251ac + 0x18);
  if (local_1c != (int *)0x0) {
    local_2c = *(int **)(in_ECX + 8);
    local_24 = (int *)*local_2c;
    if (local_24 != local_2c) {
      do {
        pcVar1 = (char *)local_24[4];
        if (((pcVar1 != (char *)0x0) && (*pcVar1 != '\0')) && (*(int *)(pcVar1 + 8) != 0)) {
          iVar4 = local_24[3];
          if (iVar4 == 3) {
            uVar6 = 7;
LAB_007c8c9d:
            uVar6 = FUN_007c01b0(DAT_01725204,uVar6,pcVar1 + 0x4c);
            *(undefined4 *)(pcVar1 + 0x48) = uVar6;
          }
          else {
            if (iVar4 == 4) {
              uVar6 = 8;
              goto LAB_007c8c9d;
            }
            if (iVar4 == 5) {
              uVar6 = 9;
              goto LAB_007c8c9d;
            }
            if (iVar4 == 6) {
              uVar6 = 10;
              goto LAB_007c8c9d;
            }
            if (iVar4 == 7) {
              uVar6 = 0xb;
              goto LAB_007c8c9d;
            }
            if (iVar4 == 8) {
              uVar6 = 0xc;
              goto LAB_007c8c9d;
            }
          }
          local_20 = (int *)0x0;
          iVar4 = (**(code **)(**(int **)(pcVar1 + 0x48) + 0x48))
                            (*(int **)(pcVar1 + 0x48),0,&local_20,uVar3);
          if (-1 < iVar4) {
            local_6c = (LPCRITICAL_SECTION)(DAT_017251ac + 0x424);
            local_60 = 0;
            local_68 = ".\\World\\AvaRenderToTexture.cpp";
            local_64 = 0x186;
            local_5c = 1;
            FUN_006ef1a0(&local_6c);
            local_8 = 0;
            local_38 = *(undefined4 *)(DAT_017251c4 + 0x30);
            local_34 = *(undefined4 *)(DAT_017251c4 + 0x34);
            local_30 = *(undefined4 *)(DAT_017251c4 + 0x38);
            local_58 = *(undefined8 *)(DAT_017251ac + 0x1f8);
            local_50 = *(undefined8 *)(DAT_017251ac + 0x200);
            local_48 = *(undefined8 *)(DAT_017251c4 + 0x48);
            local_40 = *(undefined8 *)(DAT_017251c4 + 0x50);
            FUN_007dbf90();
            FUN_007fc500();
            iVar2 = DAT_01725204;
            iVar4 = DAT_017251c4;
            *(undefined8 *)(DAT_017251c4 + 0x48) = *(undefined8 *)(pcVar1 + 0x2c);
            *(undefined8 *)(iVar4 + 0x50) = *(undefined8 *)(pcVar1 + 0x34);
            *(undefined8 *)(iVar4 + 0x98) = *(undefined8 *)(pcVar1 + 0x2c);
            *(undefined8 *)(iVar4 + 0xa0) = *(undefined8 *)(pcVar1 + 0x34);
            *(undefined1 *)(iVar4 + 0x168) = 0;
            local_28 = *(int **)(iVar2 + 300);
            (**(code **)(*local_28 + 0x14))(local_28,local_20,0);
            piVar5 = local_1c;
            (**(code **)(*local_1c + 0xac))(local_1c,0,0,3,0,0x3f800000,0);
            FUN_007fb660();
            if (*(int *)(pcVar1 + 0x54) != 0) {
              (**(code **)(*piVar5 + 0xe4))(piVar5,0x1c,0);
              FUN_007e13d0(*(undefined4 *)(pcVar1 + 8));
              if (*(char *)(DAT_017251ac + 0x208) != '\0') {
                (**(code **)(*piVar5 + 0xe4))(piVar5,0x1c,1);
              }
              (**(code **)(**(int **)(pcVar1 + 0x54) + 0xc))(*(undefined4 *)(pcVar1 + 8));
            }
            if (*(int **)(pcVar1 + 0xc) != (int *)0x0) {
              (**(code **)(**(int **)(pcVar1 + 0xc) + 0x18))
                        (*(undefined4 *)(pcVar1 + 8),0,0,0,0,0,1,0);
            }
            if (*(int *)(pcVar1 + 0x58) != 0) {
              FUN_007b92a0();
              piVar5 = local_1c;
            }
            if (*(int **)(pcVar1 + 0xc) != (int *)0x0) {
              (**(code **)(**(int **)(pcVar1 + 0xc) + 0x3c))(*(undefined4 *)(pcVar1 + 8));
              (**(code **)(**(int **)(pcVar1 + 0xc) + 0x40))(*(undefined4 *)(pcVar1 + 8));
              (**(code **)(**(int **)(pcVar1 + 0xc) + 0x44))(*(undefined4 *)(pcVar1 + 8));
            }
            if (*(int *)(pcVar1 + 0x54) != 0) {
              FUN_007dfbe0(*(int *)(pcVar1 + 0x54));
            }
            if (*(int *)(pcVar1 + 0x58) != 0) {
              (**(code **)(*piVar5 + 0xe4))(piVar5,0x1c,0);
              FUN_007b9320();
              if (*(char *)(DAT_017251ac + 0x208) != '\0') {
                (**(code **)(*local_1c + 0xe4))(local_1c,0x1c,1);
              }
            }
            (**(code **)(*local_28 + 0x18))(local_28,0xf0003);
            FUN_007dbf90();
            FUN_007fc500();
            iVar4 = DAT_017251c4;
            *(undefined4 *)(DAT_017251c4 + 0x48) = (undefined4)local_48;
            *(undefined4 *)(iVar4 + 0x4c) = local_48._4_4_;
            *(undefined4 *)(iVar4 + 0x98) = (undefined4)local_48;
            *(undefined4 *)(iVar4 + 0x9c) = local_48._4_4_;
            *(undefined4 *)(iVar4 + 0x50) = (undefined4)local_40;
            *(undefined4 *)(iVar4 + 0x54) = local_40._4_4_;
            *(undefined4 *)(iVar4 + 0xa0) = (undefined4)local_40;
            *(undefined4 *)(iVar4 + 0xa4) = local_40._4_4_;
            *(undefined1 *)(iVar4 + 0x168) = 1;
            (**(code **)(*local_20 + 8))(local_20);
            local_8 = 0xffffffff;
            if (local_60 != 0) {
              LeaveCriticalSection(local_6c);
              local_60 = 0;
            }
          }
        }
        FUN_00416210();
      } while (local_24 != local_2c);
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007c8bc0 : PUSH EBP
007c8bc1 : MOV EBP,ESP
007c8bc3 : PUSH -0x1
007c8bc5 : PUSH 0xb31e58
007c8bca : MOV EAX,FS:[0x0]
007c8bd0 : PUSH EAX
007c8bd1 : SUB ESP,0x5c
007c8bd4 : PUSH EBX
007c8bd5 : PUSH ESI
007c8bd6 : PUSH EDI
007c8bd7 : MOV EAX,[0x00d66fa0]
007c8bdc : XOR EAX,EBP
007c8bde : PUSH EAX
007c8bdf : LEA EAX,[EBP + -0xc]
007c8be2 : MOV FS:[0x0],EAX
007c8be8 : MOV EAX,[0x017251ac]
007c8bed : MOV EAX,dword ptr [EAX + 0x18]
007c8bf0 : XOR ESI,ESI
007c8bf2 : MOV dword ptr [EBP + -0x18],EAX
007c8bf5 : CMP EAX,ESI
007c8bf7 : JZ 0x007c8f7e
007c8bfd : MOV ECX,dword ptr [ECX + 0x8]
007c8c00 : MOV EAX,dword ptr [ECX]
007c8c02 : MOV dword ptr [EBP + -0x28],ECX
007c8c05 : MOV dword ptr [EBP + -0x20],EAX
007c8c08 : CMP EAX,ECX
007c8c0a : JZ 0x007c8f7e
007c8c10 : MOV EBX,dword ptr [EAX + 0x10]
007c8c13 : CMP EBX,ESI
007c8c15 : JZ 0x007c8f6a
007c8c1b : CMP byte ptr [EBX],0x0
007c8c1e : JZ 0x007c8f6a
007c8c24 : CMP dword ptr [EBX + 0x8],ESI
007c8c27 : JZ 0x007c8f6a
007c8c2d : MOV EAX,dword ptr [EAX + 0xc]
007c8c30 : CMP EAX,0x3
007c8c33 : JNZ 0x007c8c43
007c8c35 : MOV EAX,[0x01725204]
007c8c3a : LEA EDX,[EBX + 0x4c]
007c8c3d : PUSH EDX
007c8c3e : PUSH 0x7
007c8c40 : PUSH EAX
007c8c41 : JMP 0x007c8c9d
007c8c43 : CMP EAX,0x4
007c8c46 : JNZ 0x007c8c57
007c8c48 : MOV EDX,dword ptr [0x01725204]
007c8c4e : LEA ECX,[EBX + 0x4c]
007c8c51 : PUSH ECX
007c8c52 : PUSH 0x8
007c8c54 : PUSH EDX
007c8c55 : JMP 0x007c8c9d
007c8c57 : CMP EAX,0x5
007c8c5a : JNZ 0x007c8c64
007c8c5c : LEA EAX,[EBX + 0x4c]
007c8c5f : PUSH EAX
007c8c60 : PUSH 0x9
007c8c62 : JMP 0x007c8c96
007c8c64 : CMP EAX,0x6
007c8c67 : JNZ 0x007c8c77
007c8c69 : MOV EAX,[0x01725204]
007c8c6e : LEA EDX,[EBX + 0x4c]
007c8c71 : PUSH EDX
007c8c72 : PUSH 0xa
007c8c74 : PUSH EAX
007c8c75 : JMP 0x007c8c9d
007c8c77 : CMP EAX,0x7
007c8c7a : JNZ 0x007c8c8b
007c8c7c : MOV EDX,dword ptr [0x01725204]
007c8c82 : LEA ECX,[EBX + 0x4c]
007c8c85 : PUSH ECX
007c8c86 : PUSH 0xb
007c8c88 : PUSH EDX
007c8c89 : JMP 0x007c8c9d
007c8c8b : CMP EAX,0x8
007c8c8e : JNZ 0x007c8cab
007c8c90 : LEA EAX,[EBX + 0x4c]
007c8c93 : PUSH EAX
007c8c94 : PUSH 0xc
007c8c96 : MOV ECX,dword ptr [0x01725204]
007c8c9c : PUSH ECX
007c8c9d : LEA EDX,[EBP + -0x10]
007c8ca0 : LEA EAX,[EBP + -0x14]
007c8ca3 : CALL 0x007c01b0
007c8ca8 : MOV dword ptr [EBX + 0x48],EAX
007c8cab : MOV dword ptr [EBP + -0x1c],ESI
007c8cae : MOV EAX,dword ptr [EBX + 0x48]
007c8cb1 : MOV EDX,dword ptr [EAX]
007c8cb3 : MOV EDX,dword ptr [EDX + 0x48]
007c8cb6 : LEA ECX,[EBP + -0x1c]
007c8cb9 : PUSH ECX
007c8cba : PUSH ESI
007c8cbb : PUSH EAX
007c8cbc : CALL EDX
007c8cbe : CMP EAX,ESI
007c8cc0 : JL 0x007c8f6a
007c8cc6 : MOV EAX,[0x017251ac]
007c8ccb : LEA ECX,[EBP + -0x68]
007c8cce : ADD EAX,0x424
007c8cd3 : PUSH ECX
007c8cd4 : MOV dword ptr [EBP + -0x5c],ESI
007c8cd7 : MOV dword ptr [EBP + -0x68],EAX
007c8cda : MOV dword ptr [EBP + -0x64],0xc1e024
007c8ce1 : MOV dword ptr [EBP + -0x60],0x186
007c8ce8 : MOV dword ptr [EBP + -0x58],0x1
007c8cef : CALL 0x006ef1a0
007c8cf4 : MOV dword ptr [EBP + -0x4],ESI
007c8cf7 : MOV ESI,dword ptr [0x017251c4]
007c8cfd : MOV EAX,[0x017251ac]
007c8d02 : MOVSS XMM0,dword ptr [ESI + 0x30]
007c8d07 : MOVSS XMM1,dword ptr [ESI + 0x34]
007c8d0c : MOVSS XMM2,dword ptr [ESI + 0x38]
007c8d11 : ADD ESI,0x4
007c8d14 : MOVSS dword ptr [EBP + -0x34],XMM0
007c8d19 : MOVQ XMM0,qword ptr [EAX + 0x1f8]
007c8d21 : MOVQ qword ptr [EBP + -0x54],XMM0
007c8d26 : MOVQ XMM0,qword ptr [EAX + 0x200]
007c8d2e : MOVQ qword ptr [EBP + -0x4c],XMM0
007c8d33 : MOVQ XMM0,qword ptr [ESI + 0x44]
007c8d38 : MOVQ qword ptr [EBP + -0x44],XMM0
007c8d3d : MOVQ XMM0,qword ptr [ESI + 0x4c]
007c8d42 : LEA EAX,[EBX + 0x10]
007c8d45 : MOVSS dword ptr [EBP + -0x30],XMM1
007c8d4a : MOVSS dword ptr [EBP + -0x2c],XMM2
007c8d4f : MOVQ qword ptr [EBP + -0x3c],XMM0
007c8d54 : CALL 0x007dbf90
007c8d59 : MOV EDI,dword ptr [0x017251ac]
007c8d5f : LEA EAX,[EBX + 0x1c]
007c8d62 : CALL 0x007fc500
007c8d67 : MOV EAX,[0x017251c4]
007c8d6c : MOVQ XMM0,qword ptr [EBX + 0x2c]
007c8d71 : MOV EDX,dword ptr [0x01725204]
007c8d77 : MOVQ qword ptr [EAX + 0x48],XMM0
007c8d7c : MOVQ XMM0,qword ptr [EBX + 0x34]
007c8d81 : MOVQ qword ptr [EAX + 0x50],XMM0
007c8d86 : MOVQ XMM0,qword ptr [EBX + 0x2c]
007c8d8b : MOVQ qword ptr [EAX + 0x98],XMM0
007c8d93 : MOVQ XMM0,qword ptr [EBX + 0x34]
007c8d98 : MOVQ qword ptr [EAX + 0xa0],XMM0
007c8da0 : MOV byte ptr [EAX + 0x168],0x0
007c8da7 : MOV EAX,dword ptr [EDX + 0x12c]
007c8dad : MOV EDX,dword ptr [EBP + -0x1c]
007c8db0 : MOV ECX,dword ptr [EAX]
007c8db2 : PUSH 0x0
007c8db4 : PUSH EDX
007c8db5 : MOV dword ptr [EBP + -0x24],EAX
007c8db8 : PUSH EAX
007c8db9 : MOV EAX,dword ptr [ECX + 0x14]
007c8dbc : CALL EAX
007c8dbe : FLD1
007c8dc0 : MOV EDI,dword ptr [EBP + -0x18]
007c8dc3 : MOV ECX,dword ptr [EDI]
007c8dc5 : MOV EDX,dword ptr [ECX + 0xac]
007c8dcb : PUSH 0x0
007c8dcd : PUSH ECX
007c8dce : FSTP float ptr [ESP]
007c8dd1 : PUSH 0x0
007c8dd3 : PUSH 0x3
007c8dd5 : PUSH 0x0
007c8dd7 : PUSH 0x0
007c8dd9 : PUSH EDI
007c8dda : CALL EDX
007c8ddc : MOV ESI,dword ptr [0x017251ac]
007c8de2 : CALL 0x007fb660
007c8de7 : CMP dword ptr [EBX + 0x54],0x0
007c8deb : JZ 0x007c8e33
007c8ded : MOV EAX,dword ptr [EDI]
007c8def : MOV ECX,dword ptr [EAX + 0xe4]
007c8df5 : PUSH 0x0
007c8df7 : PUSH 0x1c
007c8df9 : PUSH EDI
007c8dfa : CALL ECX
007c8dfc : MOV EDX,dword ptr [EBX + 0x8]
007c8dff : MOV EAX,dword ptr [EBX + 0x54]
007c8e02 : PUSH EDX
007c8e03 : CALL 0x007e13d0
007c8e08 : MOV EAX,[0x017251ac]
007c8e0d : CMP byte ptr [EAX + 0x208],0x0
007c8e14 : JZ 0x007c8e25
007c8e16 : MOV ECX,dword ptr [EDI]
007c8e18 : MOV EDX,dword ptr [ECX + 0xe4]
007c8e1e : PUSH 0x1
007c8e20 : PUSH 0x1c
007c8e22 : PUSH EDI
007c8e23 : CALL EDX
007c8e25 : MOV ECX,dword ptr [EBX + 0x54]
007c8e28 : MOV EAX,dword ptr [ECX]
007c8e2a : MOV EDX,dword ptr [EBX + 0x8]
007c8e2d : MOV EAX,dword ptr [EAX + 0xc]
007c8e30 : PUSH EDX
007c8e31 : CALL EAX
007c8e33 : MOV ECX,dword ptr [EBX + 0xc]
007c8e36 : TEST ECX,ECX
007c8e38 : JZ 0x007c8e53
007c8e3a : MOV EDX,dword ptr [ECX]
007c8e3c : MOV EAX,dword ptr [EBX + 0x8]
007c8e3f : MOV EDX,dword ptr [EDX + 0x18]
007c8e42 : PUSH 0x0
007c8e44 : PUSH 0x1
007c8e46 : PUSH 0x0
007c8e48 : PUSH 0x0
007c8e4a : PUSH 0x0
007c8e4c : PUSH 0x0
007c8e4e : PUSH 0x0
007c8e50 : PUSH EAX
007c8e51 : CALL EDX
007c8e53 : MOV ESI,dword ptr [EBX + 0x58]
007c8e56 : TEST ESI,ESI
007c8e58 : JZ 0x007c8e65
007c8e5a : MOV EDI,dword ptr [EBX + 0x8]
007c8e5d : CALL 0x007b92a0
007c8e62 : MOV EDI,dword ptr [EBP + -0x18]
007c8e65 : MOV ECX,dword ptr [EBX + 0xc]
007c8e68 : TEST ECX,ECX
007c8e6a : JZ 0x007c8e93
007c8e6c : MOV EAX,dword ptr [ECX]
007c8e6e : MOV EDX,dword ptr [EBX + 0x8]
007c8e71 : MOV EAX,dword ptr [EAX + 0x3c]
007c8e74 : PUSH EDX
007c8e75 : CALL EAX
007c8e77 : MOV ECX,dword ptr [EBX + 0xc]
007c8e7a : MOV EDX,dword ptr [ECX]
007c8e7c : MOV EAX,dword ptr [EBX + 0x8]
007c8e7f : MOV EDX,dword ptr [EDX + 0x40]
007c8e82 : PUSH EAX
007c8e83 : CALL EDX
007c8e85 : MOV ECX,dword ptr [EBX + 0xc]
007c8e88 : MOV EAX,dword ptr [ECX]
007c8e8a : MOV EDX,dword ptr [EBX + 0x8]
007c8e8d : MOV EAX,dword ptr [EAX + 0x44]
007c8e90 : PUSH EDX
007c8e91 : CALL EAX
007c8e93 : MOV EAX,dword ptr [EBX + 0x54]
007c8e96 : TEST EAX,EAX
007c8e98 : JZ 0x007c8ea0
007c8e9a : PUSH EAX
007c8e9b : CALL 0x007dfbe0
007c8ea0 : CMP dword ptr [EBX + 0x58],0x0
007c8ea4 : JZ 0x007c8ee0
007c8ea6 : MOV ECX,dword ptr [EDI]
007c8ea8 : MOV EDX,dword ptr [ECX + 0xe4]
007c8eae : PUSH 0x0
007c8eb0 : PUSH 0x1c
007c8eb2 : PUSH EDI
007c8eb3 : CALL EDX
007c8eb5 : MOV EDI,dword ptr [EBX + 0x8]
007c8eb8 : MOV ESI,dword ptr [EBX + 0x58]
007c8ebb : CALL 0x007b9320
007c8ec0 : MOV EAX,[0x017251ac]
007c8ec5 : CMP byte ptr [EAX + 0x208],0x0
007c8ecc : JZ 0x007c8ee0
007c8ece : MOV EAX,dword ptr [EBP + -0x18]
007c8ed1 : MOV ECX,dword ptr [EAX]
007c8ed3 : MOV EDX,dword ptr [ECX + 0xe4]
007c8ed9 : PUSH 0x1
007c8edb : PUSH 0x1c
007c8edd : PUSH EAX
007c8ede : CALL EDX
007c8ee0 : MOV EAX,dword ptr [EBP + -0x24]
007c8ee3 : MOV ECX,dword ptr [EAX]
007c8ee5 : MOV EDX,dword ptr [ECX + 0x18]
007c8ee8 : PUSH 0xf0003
007c8eed : PUSH EAX
007c8eee : CALL EDX
007c8ef0 : MOV ESI,dword ptr [0x017251c4]
007c8ef6 : ADD ESI,0x4
007c8ef9 : LEA EAX,[EBP + -0x34]
007c8efc : CALL 0x007dbf90
007c8f01 : MOV EDI,dword ptr [0x017251ac]
007c8f07 : LEA EAX,[EBP + -0x54]
007c8f0a : CALL 0x007fc500
007c8f0f : MOV EAX,[0x017251c4]
007c8f14 : MOVQ XMM0,qword ptr [EBP + -0x44]
007c8f19 : MOVQ XMM1,qword ptr [EBP + -0x3c]
007c8f1e : MOVQ qword ptr [EAX + 0x48],XMM0
007c8f23 : MOVQ qword ptr [EAX + 0x98],XMM0
007c8f2b : MOVQ qword ptr [EAX + 0x50],XMM1
007c8f30 : MOVQ qword ptr [EAX + 0xa0],XMM1
007c8f38 : MOV byte ptr [EAX + 0x168],0x1
007c8f3f : MOV EAX,dword ptr [EBP + -0x1c]
007c8f42 : MOV ECX,dword ptr [EAX]
007c8f44 : MOV EDX,dword ptr [ECX + 0x8]
007c8f47 : PUSH EAX
007c8f48 : CALL EDX
007c8f4a : MOV dword ptr [EBP + -0x4],0xffffffff
007c8f51 : CMP dword ptr [EBP + -0x5c],0x0
007c8f55 : JZ 0x007c8f68
007c8f57 : MOV EAX,dword ptr [EBP + -0x68]
007c8f5a : PUSH EAX
007c8f5b : CALL dword ptr [0x00b8511c]
007c8f61 : MOV dword ptr [EBP + -0x5c],0x0
007c8f68 : XOR ESI,ESI
007c8f6a : LEA EDX,[EBP + -0x20]
007c8f6d : CALL 0x00416210
007c8f72 : MOV EAX,dword ptr [EBP + -0x20]
007c8f75 : CMP EAX,dword ptr [EBP + -0x28]
007c8f78 : JNZ 0x007c8c10
007c8f7e : MOV ECX,dword ptr [EBP + -0xc]
007c8f81 : MOV dword ptr FS:[0x0],ECX
007c8f88 : POP ECX
007c8f89 : POP EDI
007c8f8a : POP ESI
007c8f8b : POP EBX
007c8f8c : MOV ESP,EBP
007c8f8e : POP EBP
007c8f8f : RET
