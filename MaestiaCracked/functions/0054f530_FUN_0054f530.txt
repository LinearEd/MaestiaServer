PROGRAM  : Maestia.exe
FUNCTION : FUN_0054f530
ENTRY    : 0054f530
BODY     : [[0054f530, 0054f5c2]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_0054f530(undefined4 *param_1,uint param_2)

{
  int *piVar1;
  int iVar2;
  int *in_ECX;
  uint *puVar3;
  uint uVar4;
  
  iVar2 = *in_ECX;
  puVar3 = (uint *)(iVar2 + 8 + param_2 * 0x24);
  if ((*(int *)(iVar2 + 8 + param_2 * 0x24) == -2) ||
     (uVar4 = param_2, (*(uint *)(puVar3[1] + 0xc) & *(uint *)(iVar2 + 4)) != param_2)) {
    return 0xffffffff;
  }
  do {
    if ((*(uint *)(iVar2 + 4) & *(uint *)(puVar3[1] + 0xc)) == param_2) {
      piVar1 = (int *)*param_1;
      if (*(int *)(puVar3[1] + 4) == 0) {
        FUN_00525a80();
      }
      if (*(int *)(*piVar1 + 4) == *(int *)(puVar3[1] + 4)) {
        return uVar4;
      }
    }
    uVar4 = *puVar3;
    if (uVar4 == 0xffffffff) {
      return 0xffffffff;
    }
    iVar2 = *in_ECX;
    puVar3 = (uint *)(iVar2 + 8 + uVar4 * 0x24);
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
0054f530 : PUSH ECX
0054f531 : PUSH EBP
0054f532 : MOV EBP,dword ptr [ESP + 0x10]
0054f536 : MOV EDX,ECX
0054f538 : MOV EAX,dword ptr [EDX]
0054f53a : PUSH ESI
0054f53b : LEA ECX,[EBP + EBP*0x8]
0054f53f : CMP dword ptr [EAX + ECX*0x4 + 0x8],-0x2
0054f544 : LEA ESI,[EAX + ECX*0x4 + 0x8]
0054f548 : PUSH EDI
0054f549 : MOV dword ptr [ESP + 0xc],EDX
0054f54d : MOV EDI,EBP
0054f54f : JZ 0x0054f5b9
0054f551 : MOV ECX,dword ptr [ESI + 0x4]
0054f554 : MOV ECX,dword ptr [ECX + 0xc]
0054f557 : AND ECX,dword ptr [EAX + 0x4]
0054f55a : CMP ECX,EBP
0054f55c : JNZ 0x0054f5b9
0054f55e : PUSH EBX
0054f55f : NOP
0054f560 : MOV ECX,dword ptr [ESI + 0x4]
0054f563 : MOV EAX,dword ptr [EAX + 0x4]
0054f566 : AND EAX,dword ptr [ECX + 0xc]
0054f569 : CMP EAX,EBP
0054f56b : JNZ 0x0054f592
0054f56d : MOV ECX,dword ptr [ESP + 0x18]
0054f571 : MOV EBX,dword ptr [ECX]
0054f573 : MOV ECX,dword ptr [ESI + 0x4]
0054f576 : CMP dword ptr [ECX + 0x4],0x0
0054f57a : JNZ 0x0054f585
0054f57c : CALL 0x00525a80
0054f581 : MOV EDX,dword ptr [ESP + 0x10]
0054f585 : MOV ECX,dword ptr [EBX]
0054f587 : MOV EAX,dword ptr [ESI + 0x4]
0054f58a : MOV ECX,dword ptr [ECX + 0x4]
0054f58d : CMP ECX,dword ptr [EAX + 0x4]
0054f590 : JZ 0x0054f5a4
0054f592 : MOV EDI,dword ptr [ESI]
0054f594 : CMP EDI,-0x1
0054f597 : JZ 0x0054f5ae
0054f599 : MOV EAX,dword ptr [EDX]
0054f59b : LEA ECX,[EDI + EDI*0x8]
0054f59e : LEA ESI,[EAX + ECX*0x4 + 0x8]
0054f5a2 : JMP 0x0054f560
0054f5a4 : POP EBX
0054f5a5 : MOV EAX,EDI
0054f5a7 : POP EDI
0054f5a8 : POP ESI
0054f5a9 : POP EBP
0054f5aa : POP ECX
0054f5ab : RET 0x8
0054f5ae : POP EBX
0054f5af : POP EDI
0054f5b0 : POP ESI
0054f5b1 : OR EAX,0xffffffff
0054f5b4 : POP EBP
0054f5b5 : POP ECX
0054f5b6 : RET 0x8
0054f5b9 : POP EDI
0054f5ba : POP ESI
0054f5bb : OR EAX,0xffffffff
0054f5be : POP EBP
0054f5bf : POP ECX
0054f5c0 : RET 0x8
