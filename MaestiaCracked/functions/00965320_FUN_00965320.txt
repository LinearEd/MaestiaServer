PROGRAM  : Maestia.exe
FUNCTION : FUN_00965320
ENTRY    : 00965320
BODY     : [[00965320, 0096535b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00965320(void)

{
  undefined4 *puVar1;
  short in_AX;
  int unaff_ESI;
  
  if (*(short *)(unaff_ESI + 0x76) != in_AX) {
    *(short *)(unaff_ESI + 0x76) = in_AX;
    if ((*DAT_00da9894 != 0) &&
       (puVar1 = *(undefined4 **)(*DAT_00da9894 + 0x114), puVar1 != (undefined4 *)0x0)) {
      (**(code **)*puVar1)("ShopInitialize");
    }
    if (*(short *)(unaff_ESI + 0x76) == 0) {
      FUN_009646d0(unaff_ESI);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00965320 : PUSH ECX
00965321 : CMP word ptr [ESI + 0x76],AX
00965325 : JZ 0x0096535a
00965327 : MOV word ptr [ESI + 0x76],AX
0096532b : MOV EAX,[0x00da9894]
00965330 : MOV EAX,dword ptr [EAX]
00965332 : TEST EAX,EAX
00965334 : JZ 0x0096534d
00965336 : MOV EAX,dword ptr [EAX + 0x114]
0096533c : TEST EAX,EAX
0096533e : JZ 0x0096534d
00965340 : MOV EDX,dword ptr [EAX]
00965342 : MOV ECX,EAX
00965344 : MOV EAX,dword ptr [EDX]
00965346 : PUSH 0xc7a670
0096534b : CALL EAX
0096534d : CMP word ptr [ESI + 0x76],0x0
00965352 : JNZ 0x0096535a
00965354 : PUSH ESI
00965355 : CALL 0x009646d0
0096535a : POP ECX
0096535b : RET
