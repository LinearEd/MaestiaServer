PROGRAM  : Maestia.exe
FUNCTION : FUN_007bc480
ENTRY    : 007bc480
BODY     : [[007bc480, 007bc5ba]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007bc480(char param_1)

{
  uint uVar1;
  int unaff_EDI;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0ec92;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(unaff_EDI + 4);
  local_18 = 0;
  local_20 = ".\\mss\\AvaMssMgr.cpp";
  local_1c = 0x545;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  local_8 = 0;
  if (*(int *)(unaff_EDI + 0x20) == 0) {
    local_8 = 0xffffffff;
    if (local_18 != 0) {
      LeaveCriticalSection(local_24);
      ExceptionList = local_10;
      return;
    }
  }
  else if (*(char *)(unaff_EDI + 0xda) == param_1) {
    local_8 = 0xffffffff;
    if (local_18 != 0) {
      LeaveCriticalSection(local_24);
      ExceptionList = local_10;
      return;
    }
  }
  else {
    *(char *)(unaff_EDI + 0xda) = param_1;
    if (*(int *)(unaff_EDI + 0x80) != 0) {
      if (param_1 == '\0') {
        FUN_00753ea0(uVar1);
      }
      else {
        FUN_00754170();
        FUN_00753ed0(*(undefined4 *)(unaff_EDI + 0xa4));
      }
    }
    if (local_18 != 0) {
      local_8 = 0xffffffff;
      LeaveCriticalSection(local_24);
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007bc480 : PUSH EBP
007bc481 : MOV EBP,ESP
007bc483 : PUSH -0x1
007bc485 : PUSH 0xb0ec92
007bc48a : MOV EAX,FS:[0x0]
007bc490 : PUSH EAX
007bc491 : SUB ESP,0x14
007bc494 : PUSH EBX
007bc495 : PUSH ESI
007bc496 : MOV EAX,[0x00d66fa0]
007bc49b : XOR EAX,EBP
007bc49d : PUSH EAX
007bc49e : LEA EAX,[EBP + -0xc]
007bc4a1 : MOV FS:[0x0],EAX
007bc4a7 : MOV BL,byte ptr [EBP + 0x8]
007bc4aa : LEA ECX,[EBP + -0x20]
007bc4ad : LEA EAX,[EDI + 0x4]
007bc4b0 : XOR ESI,ESI
007bc4b2 : PUSH ECX
007bc4b3 : MOV dword ptr [EBP + -0x14],ESI
007bc4b6 : MOV dword ptr [EBP + -0x20],EAX
007bc4b9 : MOV dword ptr [EBP + -0x1c],0xc19010
007bc4c0 : MOV dword ptr [EBP + -0x18],0x545
007bc4c7 : MOV dword ptr [EBP + -0x10],0x1
007bc4ce : CALL 0x006ef1a0
007bc4d3 : MOV dword ptr [EBP + -0x4],ESI
007bc4d6 : CMP dword ptr [EDI + 0x20],ESI
007bc4d9 : JNZ 0x007bc50b
007bc4db : MOV dword ptr [EBP + -0x4],0xffffffff
007bc4e2 : CMP dword ptr [EBP + -0x14],ESI
007bc4e5 : JZ 0x007bc5a8
007bc4eb : MOV EDX,dword ptr [EBP + -0x20]
007bc4ee : PUSH EDX
007bc4ef : CALL dword ptr [0x00b8511c]
007bc4f5 : MOV dword ptr [EBP + -0x14],ESI
007bc4f8 : MOV ECX,dword ptr [EBP + -0xc]
007bc4fb : MOV dword ptr FS:[0x0],ECX
007bc502 : POP ECX
007bc503 : POP ESI
007bc504 : POP EBX
007bc505 : MOV ESP,EBP
007bc507 : POP EBP
007bc508 : RET 0x4
007bc50b : CMP byte ptr [EDI + 0xda],BL
007bc511 : JNZ 0x007bc543
007bc513 : MOV dword ptr [EBP + -0x4],0xffffffff
007bc51a : CMP dword ptr [EBP + -0x14],ESI
007bc51d : JZ 0x007bc5a8
007bc523 : MOV EAX,dword ptr [EBP + -0x20]
007bc526 : PUSH EAX
007bc527 : CALL dword ptr [0x00b8511c]
007bc52d : MOV dword ptr [EBP + -0x14],ESI
007bc530 : MOV ECX,dword ptr [EBP + -0xc]
007bc533 : MOV dword ptr FS:[0x0],ECX
007bc53a : POP ECX
007bc53b : POP ESI
007bc53c : POP EBX
007bc53d : MOV ESP,EBP
007bc53f : POP EBP
007bc540 : RET 0x4
007bc543 : MOV ESI,dword ptr [EDI + 0x80]
007bc549 : MOV byte ptr [EDI + 0xda],BL
007bc54f : TEST ESI,ESI
007bc551 : JNZ 0x007bc565
007bc553 : MOV dword ptr [EBP + -0x4],0xffffffff
007bc55a : CMP dword ptr [EBP + -0x14],ESI
007bc55d : JZ 0x007bc5a8
007bc55f : MOV ECX,dword ptr [EBP + -0x20]
007bc562 : PUSH ECX
007bc563 : JMP 0x007bc59b
007bc565 : TEST BL,BL
007bc567 : JZ 0x007bc585
007bc569 : CALL 0x00754170
007bc56e : FLD float ptr [EDI + 0xa4]
007bc574 : MOV ESI,dword ptr [EDI + 0x80]
007bc57a : PUSH ECX
007bc57b : FSTP float ptr [ESP]
007bc57e : CALL 0x00753ed0
007bc583 : JMP 0x007bc58a
007bc585 : CALL 0x00753ea0
007bc58a : MOV dword ptr [EBP + -0x4],0xffffffff
007bc591 : CMP dword ptr [EBP + -0x14],0x0
007bc595 : JZ 0x007bc5a8
007bc597 : MOV EDX,dword ptr [EBP + -0x20]
007bc59a : PUSH EDX
007bc59b : CALL dword ptr [0x00b8511c]
007bc5a1 : MOV dword ptr [EBP + -0x14],0x0
007bc5a8 : MOV ECX,dword ptr [EBP + -0xc]
007bc5ab : MOV dword ptr FS:[0x0],ECX
007bc5b2 : POP ECX
007bc5b3 : POP ESI
007bc5b4 : POP EBX
007bc5b5 : MOV ESP,EBP
007bc5b7 : POP EBP
007bc5b8 : RET 0x4
