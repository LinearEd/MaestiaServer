PROGRAM  : Maestia.exe
FUNCTION : FUN_0077a420
ENTRY    : 0077a420
BODY     : [[0077a420, 0077a59f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0077a420(undefined4 param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int unaff_ESI;
  LPCRITICAL_SECTION local_2c;
  char *local_28;
  undefined4 local_24;
  int local_20;
  undefined4 local_1c;
  undefined2 local_14;
  undefined1 local_12;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b27975;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_2c = (LPCRITICAL_SECTION)(unaff_ESI + 0x2eef0);
  local_20 = 0;
  local_28 = ".\\Terrain\\AvaPathFinder.cpp";
  local_24 = 0x4d9;
  local_1c = 1;
  FUN_006ef1a0(&local_2c);
  local_8 = 0;
  iVar2 = FUN_007e10d0(param_1);
  if ((iVar2 != 0) &&
     (iVar3 = *(int *)(iVar2 + 0xc) - *(int *)(iVar2 + 8), iVar1 = iVar3 >> 0x1f,
     iVar3 / 7 + iVar1 != iVar1)) {
    local_14 = *(undefined2 *)(*(int *)(iVar2 + 8) + 4);
    local_12 = *(undefined1 *)(*(int *)(iVar2 + 8) + 6);
    if (*(char *)(unaff_ESI + 0x2eee8) == '\0') {
      FUN_007de1f0(*(undefined4 *)(unaff_ESI + 0x2eee4));
    }
    local_8 = 0xffffffff;
    if (local_20 != 0) {
      LeaveCriticalSection(local_2c);
    }
    ExceptionList = local_10;
    return;
  }
  local_8 = 0xffffffff;
  if (local_20 != 0) {
    LeaveCriticalSection(local_2c);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0077a420 : PUSH EBP
0077a421 : MOV EBP,ESP
0077a423 : PUSH -0x1
0077a425 : PUSH 0xb27975
0077a42a : MOV EAX,FS:[0x0]
0077a430 : PUSH EAX
0077a431 : SUB ESP,0x1c
0077a434 : PUSH EBX
0077a435 : PUSH EDI
0077a436 : MOV EAX,[0x00d66fa0]
0077a43b : XOR EAX,EBP
0077a43d : PUSH EAX
0077a43e : LEA EAX,[EBP + -0xc]
0077a441 : MOV FS:[0x0],EAX
0077a447 : MOV EDI,ECX
0077a449 : MOV EBX,dword ptr [EBP + 0x8]
0077a44c : LEA ECX,[EBP + -0x28]
0077a44f : LEA EAX,[ESI + 0x2eef0]
0077a455 : PUSH ECX
0077a456 : MOV dword ptr [EBP + -0x1c],0x0
0077a45d : MOV dword ptr [EBP + -0x28],EAX
0077a460 : MOV dword ptr [EBP + -0x24],0xc105dc
0077a467 : MOV dword ptr [EBP + -0x20],0x4d9
0077a46e : MOV dword ptr [EBP + -0x18],0x1
0077a475 : CALL 0x006ef1a0
0077a47a : MOV dword ptr [EBP + -0x4],0x0
0077a481 : MOV ECX,dword ptr [ESI]
0077a483 : PUSH EBX
0077a484 : CALL 0x007e10d0
0077a489 : MOV ECX,EAX
0077a48b : TEST ECX,ECX
0077a48d : JZ 0x0077a567
0077a493 : MOV EDX,dword ptr [ECX + 0xc]
0077a496 : SUB EDX,dword ptr [ECX + 0x8]
0077a499 : MOV EAX,0x92492493
0077a49e : MOV dword ptr [EBP + 0x8],EDX
0077a4a1 : IMUL EDX
0077a4a3 : ADD EDX,dword ptr [EBP + 0x8]
0077a4a6 : SAR EDX,0x2
0077a4a9 : MOV EAX,EDX
0077a4ab : SHR EAX,0x1f
0077a4ae : ADD EAX,EDX
0077a4b0 : JZ 0x0077a567
0077a4b6 : MOV ECX,dword ptr [ECX + 0x8]
0077a4b9 : MOV DX,word ptr [ECX + 0x4]
0077a4bd : MOV EAX,dword ptr [ECX]
0077a4bf : MOV CL,byte ptr [ECX + 0x6]
0077a4c2 : MOV byte ptr [EBP + -0xe],CL
0077a4c5 : MOV ECX,EAX
0077a4c7 : SHR ECX,0x10
0077a4ca : CMP byte ptr [ESI + 0x2eee8],0x0
0077a4d1 : MOV word ptr [EBP + -0x10],DX
0077a4d5 : JNZ 0x0077a4ee
0077a4d7 : MOV EDX,dword ptr [ESI + 0x2eee4]
0077a4dd : PUSH EDX
0077a4de : MOV EDX,dword ptr [ESI]
0077a4e0 : CALL 0x007de1f0
0077a4e5 : TEST AL,AL
0077a4e7 : JZ 0x0077a4fc
0077a4e9 : XORPS XMM0,XMM0
0077a4ec : JMP 0x0077a504
0077a4ee : CMP dword ptr [ESI + 0x2eee4],0x2
0077a4f5 : JNZ 0x0077a4fc
0077a4f7 : XORPS XMM0,XMM0
0077a4fa : JMP 0x0077a504
0077a4fc : MOVSS XMM0,dword ptr [0x00cdf3e4]
0077a504 : SUB EBX,dword ptr [EBP + 0xc]
0077a507 : SUB EDI,dword ptr [EBP + 0x10]
0077a50a : MOV ECX,EBX
0077a50c : MOV EAX,EDI
0077a50e : IMUL ECX,EBX
0077a511 : IMUL EAX,EDI
0077a514 : ADD EAX,ECX
0077a516 : MOV dword ptr [EBP + 0xc],EAX
0077a519 : MOVSS dword ptr [EBP + 0x8],XMM0
0077a51e : FILD dword ptr [EBP + 0xc]
0077a521 : TEST EAX,EAX
0077a523 : JGE 0x0077a52b
0077a525 : FADD float ptr [0x00cdf0e0]
0077a52b : FADD float ptr [EBP + 0x8]
0077a52e : FSTP float ptr [EBP + 0x8]
0077a531 : MOV dword ptr [EBP + -0x4],0xffffffff
0077a538 : CMP dword ptr [EBP + -0x1c],0x0
0077a53c : JZ 0x0077a54f
0077a53e : MOV EDX,dword ptr [EBP + -0x28]
0077a541 : PUSH EDX
0077a542 : CALL dword ptr [0x00b8511c]
0077a548 : MOV dword ptr [EBP + -0x1c],0x0
0077a54f : MOVSS XMM0,dword ptr [EBP + 0x8]
0077a554 : MOV ECX,dword ptr [EBP + -0xc]
0077a557 : MOV dword ptr FS:[0x0],ECX
0077a55e : POP ECX
0077a55f : POP EDI
0077a560 : POP EBX
0077a561 : MOV ESP,EBP
0077a563 : POP EBP
0077a564 : RET 0xc
0077a567 : MOV dword ptr [EBP + -0x4],0xffffffff
0077a56e : CMP dword ptr [EBP + -0x1c],0x0
0077a572 : JZ 0x0077a585
0077a574 : MOV EAX,dword ptr [EBP + -0x28]
0077a577 : PUSH EAX
0077a578 : CALL dword ptr [0x00b8511c]
0077a57e : MOV dword ptr [EBP + -0x1c],0x0
0077a585 : MOVSS XMM0,dword ptr [0x00cdf3e4]
0077a58d : MOV ECX,dword ptr [EBP + -0xc]
0077a590 : MOV dword ptr FS:[0x0],ECX
0077a597 : POP ECX
0077a598 : POP EDI
0077a599 : POP EBX
0077a59a : MOV ESP,EBP
0077a59c : POP EBP
0077a59d : RET 0xc
