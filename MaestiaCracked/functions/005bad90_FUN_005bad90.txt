PROGRAM  : Maestia.exe
FUNCTION : FUN_005bad90
ENTRY    : 005bad90
BODY     : [[005bad90, 005bae45]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005bad90(undefined4 *param_1)

{
  undefined1 *puVar1;
  undefined4 *puVar2;
  char cVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  
  puVar2 = param_1;
  if (param_1[7] == 0) {
    puVar1 = (undefined1 *)param_1[1];
    FUN_00526400();
    *puVar1 = 2;
    puVar1[4] = 0;
  }
  else {
    cVar3 = FUN_00526030(0x1b);
    if (cVar3 == '\0') {
      FUN_00526050("LoadVars",0,0);
      return;
    }
    if (puVar2[2] == 0) {
      iVar4 = 0;
    }
    else {
      iVar4 = puVar2[2] + -0x10;
    }
    uVar5 = puVar2[6];
    FUN_00526260(0);
    FUN_005272e0(&param_1,uVar5,0xffffffff,0);
    *(undefined8 *)(iVar4 + 0x30) = 0;
    uVar6 = 0;
    uVar5 = *param_1;
    FUN_005296a0(iVar4,uVar5,0);
    FUN_00571aa0(iVar4,uVar5,uVar6);
    puVar1 = (undefined1 *)puVar2[1];
    FUN_00526400();
    *puVar1 = 2;
    puVar1[4] = 1;
    param_1[2] = param_1[2] + -1;
    if (param_1[2] == 0) {
      FUN_00525340();
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005bad90 : PUSH ESI
005bad91 : MOV ESI,dword ptr [ESP + 0x8]
005bad95 : CMP dword ptr [ESI + 0x1c],0x0
005bad99 : JNZ 0x005badae
005bad9b : MOV ESI,dword ptr [ESI + 0x4]
005bad9e : MOV ECX,ESI
005bada0 : CALL 0x00526400
005bada5 : MOV byte ptr [ESI],0x2
005bada8 : MOV byte ptr [ESI + 0x4],0x0
005badac : POP ESI
005badad : RET
005badae : PUSH 0x1b
005badb0 : MOV ECX,ESI
005badb2 : CALL 0x00526030
005badb7 : TEST AL,AL
005badb9 : JNZ 0x005badcd
005badbb : PUSH 0x0
005badbd : PUSH 0x0
005badbf : PUSH 0xb8fd80
005badc4 : MOV ECX,ESI
005badc6 : CALL 0x00526050
005badcb : POP ESI
005badcc : RET
005badcd : PUSH EBX
005badce : PUSH EDI
005badcf : MOV EDI,dword ptr [ESI + 0x8]
005badd2 : TEST EDI,EDI
005badd4 : JZ 0x005baddb
005badd6 : ADD EDI,-0x10
005badd9 : JMP 0x005baddd
005baddb : XOR EDI,EDI
005baddd : MOV EBX,dword ptr [ESI + 0x18]
005bade0 : PUSH 0x0
005bade2 : MOV ECX,ESI
005bade4 : CALL 0x00526260
005bade9 : PUSH 0x0
005badeb : PUSH -0x1
005baded : PUSH EBX
005badee : LEA ECX,[ESP + 0x1c]
005badf2 : PUSH ECX
005badf3 : MOV ECX,EAX
005badf5 : CALL 0x005272e0
005badfa : FLDZ
005badfc : FSTP double ptr [EDI + 0x30]
005badff : PUSH 0x0
005bae01 : MOV EDX,dword ptr [ESP + 0x14]
005bae05 : MOV EAX,dword ptr [EDX]
005bae07 : MOV ECX,dword ptr [ESI + 0x18]
005bae0a : PUSH EAX
005bae0b : PUSH EDI
005bae0c : CALL 0x005296a0
005bae11 : MOV ECX,EAX
005bae13 : CALL 0x00571aa0
005bae18 : MOV ESI,dword ptr [ESI + 0x4]
005bae1b : MOV ECX,ESI
005bae1d : CALL 0x00526400
005bae22 : MOV byte ptr [ESI],0x2
005bae25 : MOV byte ptr [ESI + 0x4],0x1
005bae29 : MOV EAX,dword ptr [ESP + 0x10]
005bae2d : DEC dword ptr [EAX + 0x8]
005bae30 : MOV ECX,EAX
005bae32 : ADD EAX,0x8
005bae35 : CMP dword ptr [EAX],0x0
005bae38 : POP EDI
005bae39 : POP EBX
005bae3a : JNZ 0x005badac
005bae40 : POP ESI
005bae41 : JMP 0x00525340
