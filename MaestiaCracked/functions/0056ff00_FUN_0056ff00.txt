PROGRAM  : Maestia.exe
FUNCTION : FUN_0056ff00
ENTRY    : 0056ff00
BODY     : [[0056ff00, 00570091]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0056ff00(int param_1,float *param_2,float *param_3)

{
  char cVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  int in_ECX;
  int *piVar5;
  float fStack_50;
  float fStack_4c;
  float fStack_48;
  float fStack_44;
  undefined1 auStack_40 [16];
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined4 uStack_28;
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  GMatrix2D aGStack_18 [24];
  
  uVar2 = 0;
  if (*(uint *)(in_ECX + 0x60) != 0) {
    piVar5 = *(int **)(in_ECX + 0x5c);
    do {
      if (*piVar5 == 0) {
        piVar5 = (int *)(*(int **)(in_ECX + 0x5c))[uVar2 * 2 + 1];
        goto LAB_0056ff28;
      }
      uVar2 = uVar2 + 1;
      piVar5 = piVar5 + 2;
    } while (uVar2 < *(uint *)(in_ECX + 0x60));
  }
  piVar5 = (int *)0x0;
LAB_0056ff28:
  uVar3 = (**(code **)(*piVar5 + 0x5c))();
  auStack_40[0] = 0;
  param_1 = FUN_00525530(param_1);
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 1;
  cVar1 = FUN_005331f0(&param_1,auStack_40,0,0,0,0);
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + -1;
  if (*(int *)(param_1 + 8) == 0) {
    FUN_00525340();
  }
  if ((cVar1 != '\0') && (iVar4 = FUN_00525fa0(uVar3), iVar4 != 0)) {
    fStack_50 = *param_2 * 20.0;
    fStack_4c = param_2[1] * 20.0;
    fStack_48 = fStack_50;
    fStack_44 = fStack_4c;
    GMatrix2D::SetIdentity(aGStack_18);
    FUN_0051cdf0(aGStack_18);
    uStack_30 = *(undefined4 *)(in_ECX + 0xe8);
    uStack_2c = *(undefined4 *)(in_ECX + 0xec);
    uStack_28 = *(undefined4 *)(in_ECX + 0xf0);
    uStack_24 = *(undefined4 *)(in_ECX + 0xf4);
    uStack_20 = *(undefined4 *)(in_ECX + 0xf8);
    uStack_1c = *(undefined4 *)(in_ECX + 0xfc);
    GMatrix2D::Prepend((GMatrix2D *)&uStack_30,(GMatrix2D *)&stack0x00000010);
    GMatrix2D::Prepend((GMatrix2D *)&uStack_30,aGStack_18);
    GMatrix2D::Transform
              ((GMatrix2D *)&uStack_30,(GPoint<float> *)&fStack_50,(GPoint<float> *)&fStack_48);
    *param_3 = fStack_50;
    param_3[1] = fStack_4c;
    FUN_00526bc0();
    return 1;
  }
  FUN_00526bc0();
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0056ff00 : SUB ESP,0x58
0056ff03 : PUSH ESI
0056ff04 : PUSH EDI
0056ff05 : MOV EDI,ECX
0056ff07 : MOV EDX,dword ptr [EDI + 0x60]
0056ff0a : XOR EAX,EAX
0056ff0c : TEST EDX,EDX
0056ff0e : JBE 0x0056ff26
0056ff10 : MOV ESI,dword ptr [EDI + 0x5c]
0056ff13 : MOV ECX,ESI
0056ff15 : CMP dword ptr [ECX],0x0
0056ff18 : JZ 0x0056ffaa
0056ff1e : INC EAX
0056ff1f : ADD ECX,0x8
0056ff22 : CMP EAX,EDX
0056ff24 : JC 0x0056ff15
0056ff26 : XOR ECX,ECX
0056ff28 : MOV EAX,dword ptr [ECX]
0056ff2a : MOV EDX,dword ptr [EAX + 0x5c]
0056ff2d : PUSH EBX
0056ff2e : CALL EDX
0056ff30 : MOV ECX,dword ptr [ESP + 0x68]
0056ff34 : MOV ESI,EAX
0056ff36 : MOV byte ptr [ESP + 0x24],0x0
0056ff3b : MOV EAX,dword ptr [ESI + 0x78]
0056ff3e : PUSH ECX
0056ff3f : LEA ECX,[EAX + 0x254]
0056ff45 : CALL 0x00525530
0056ff4a : PUSH 0x0
0056ff4c : PUSH 0x0
0056ff4e : PUSH 0x0
0056ff50 : MOV dword ptr [ESP + 0x74],EAX
0056ff54 : INC dword ptr [EAX + 0x8]
0056ff57 : PUSH 0x0
0056ff59 : LEA EDX,[ESP + 0x34]
0056ff5d : PUSH EDX
0056ff5e : LEA EAX,[ESP + 0x7c]
0056ff62 : PUSH EAX
0056ff63 : MOV ECX,ESI
0056ff65 : CALL 0x005331f0
0056ff6a : MOV BL,AL
0056ff6c : MOV EAX,dword ptr [ESP + 0x68]
0056ff70 : DEC dword ptr [EAX + 0x8]
0056ff73 : MOV ECX,EAX
0056ff75 : ADD EAX,0x8
0056ff78 : CMP dword ptr [EAX],0x0
0056ff7b : JNZ 0x0056ff82
0056ff7d : CALL 0x00525340
0056ff82 : TEST BL,BL
0056ff84 : POP EBX
0056ff85 : LEA ECX,[ESP + 0x20]
0056ff89 : JZ 0x0056ff9b
0056ff8b : PUSH ESI
0056ff8c : CALL 0x00525fa0
0056ff91 : MOV ESI,EAX
0056ff93 : TEST ESI,ESI
0056ff95 : JNZ 0x0056ffb3
0056ff97 : LEA ECX,[ESP + 0x20]
0056ff9b : CALL 0x00526bc0
0056ffa0 : POP EDI
0056ffa1 : XOR AL,AL
0056ffa3 : POP ESI
0056ffa4 : ADD ESP,0x58
0056ffa7 : RET 0x24
0056ffaa : MOV ECX,dword ptr [ESI + EAX*0x8 + 0x4]
0056ffae : JMP 0x0056ff28
0056ffb3 : MOV EAX,dword ptr [ESP + 0x68]
0056ffb7 : FLD float ptr [EAX]
0056ffb9 : LEA ECX,[ESP + 0x48]
0056ffbd : FSTP float ptr [ESP + 0x8]
0056ffc1 : FLD float ptr [EAX + 0x4]
0056ffc4 : FSTP float ptr [ESP + 0xc]
0056ffc8 : FLD float ptr [ESP + 0x8]
0056ffcc : FLD double ptr [0x00b86058]
0056ffd2 : FMUL ST1
0056ffd4 : FXCH
0056ffd6 : FSTP float ptr [ESP + 0x10]
0056ffda : FMUL float ptr [ESP + 0xc]
0056ffde : FSTP float ptr [ESP + 0x14]
0056ffe2 : FLD float ptr [ESP + 0x10]
0056ffe6 : FSTP float ptr [ESP + 0x18]
0056ffea : FLD float ptr [ESP + 0x14]
0056ffee : FSTP float ptr [ESP + 0x1c]
0056fff2 : CALL 0x00522b80
0056fff7 : LEA ECX,[ESP + 0x48]
0056fffb : PUSH ECX
0056fffc : MOV ECX,ESI
0056fffe : CALL 0x0051cdf0
00570003 : FLD float ptr [EDI + 0xe8]
00570009 : FSTP float ptr [ESP + 0x30]
0057000d : LEA EDX,[ESP + 0x70]
00570011 : FLD float ptr [EDI + 0xec]
00570017 : PUSH EDX
00570018 : FSTP float ptr [ESP + 0x38]
0057001c : LEA ECX,[ESP + 0x34]
00570020 : FLD float ptr [EDI + 0xf0]
00570026 : FSTP float ptr [ESP + 0x3c]
0057002a : FLD float ptr [EDI + 0xf4]
00570030 : FSTP float ptr [ESP + 0x40]
00570034 : FLD float ptr [EDI + 0xf8]
0057003a : FSTP float ptr [ESP + 0x44]
0057003e : FLD float ptr [EDI + 0xfc]
00570044 : FSTP float ptr [ESP + 0x48]
00570048 : CALL 0x00522e20
0057004d : LEA EAX,[ESP + 0x48]
00570051 : PUSH EAX
00570052 : LEA ECX,[ESP + 0x34]
00570056 : CALL 0x00522e20
0057005b : LEA ECX,[ESP + 0x18]
0057005f : PUSH ECX
00570060 : LEA EDX,[ESP + 0x14]
00570064 : PUSH EDX
00570065 : LEA ECX,[ESP + 0x38]
00570069 : CALL 0x00522c50
0057006e : FLD float ptr [ESP + 0x10]
00570072 : MOV EAX,dword ptr [ESP + 0x6c]
00570076 : FSTP float ptr [EAX]
00570078 : LEA ECX,[ESP + 0x20]
0057007c : FLD float ptr [ESP + 0x14]
00570080 : FSTP float ptr [EAX + 0x4]
00570083 : CALL 0x00526bc0
00570088 : POP EDI
00570089 : MOV AL,0x1
0057008b : POP ESI
0057008c : ADD ESP,0x58
0057008f : RET 0x24
