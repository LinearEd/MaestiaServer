PROGRAM  : Maestia.exe
FUNCTION : FUN_00616bf0
ENTRY    : 00616bf0
BODY     : [[00616bf0, 00616ccf]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00616bf0(int *param_1)

{
  int *piVar1;
  int iVar2;
  int in_ECX;
  int iVar3;
  int iVar4;
  int local_4;
  
  iVar2 = *param_1;
  piVar1 = (int *)(iVar2 + 0x44);
  local_4 = in_ECX;
  if (*(int *)(iVar2 + 0x44) != 0) {
    *(undefined4 *)(*piVar1 + 300) = *(undefined4 *)(*piVar1 + 0x124);
    while ((*piVar1 != 0 && (iVar3 = *(int *)(*piVar1 + 300), iVar3 != 0))) {
      iVar3 = *(int *)(iVar3 + 0x130);
      local_4 = iVar3;
      if (iVar3 == 0) break;
      *(undefined4 *)(*piVar1 + 300) = **(undefined4 **)(*piVar1 + 300);
      if (*(int *)(iVar3 + 0x358) != 0) {
        FUN_0061ba70(*(undefined4 *)(iVar3 + 0x358));
        *(undefined4 *)(iVar3 + 0x358) = 0;
      }
      FUN_00611c30(&local_4);
    }
    FUN_00622d60(piVar1);
  }
  iVar3 = 0;
  if (0 < *(int *)(*(int *)(iVar2 + 0x40) + 0x40c)) {
    iVar4 = iVar2 + 0x150;
    do {
      FUN_00616bf0(iVar4);
      iVar3 = iVar3 + 1;
      iVar4 = iVar4 + 4;
    } while (iVar3 < *(int *)(*(int *)(iVar2 + 0x40) + 0x40c));
  }
  if (*(int *)(iVar2 + 0x48) != 0) {
    FUN_0061ba70(*(int *)(iVar2 + 0x48));
  }
  FUN_0061ba70(iVar2);
  *param_1 = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
00616bf0 : PUSH ECX
00616bf1 : MOV EAX,dword ptr [ESP + 0x8]
00616bf5 : PUSH EBX
00616bf6 : MOV EBX,dword ptr [EAX]
00616bf8 : CMP dword ptr [EBX + 0x44],0x0
00616bfc : PUSH ESI
00616bfd : PUSH EDI
00616bfe : LEA EDI,[EBX + 0x44]
00616c01 : JZ 0x00616c79
00616c03 : MOV EAX,dword ptr [EDI]
00616c05 : MOV ECX,dword ptr [EAX + 0x124]
00616c0b : MOV dword ptr [EAX + 0x12c],ECX
00616c11 : MOV EAX,dword ptr [EDI]
00616c13 : TEST EAX,EAX
00616c15 : JZ 0x00616c70
00616c17 : MOV EAX,dword ptr [EAX + 0x12c]
00616c1d : TEST EAX,EAX
00616c1f : JZ 0x00616c70
00616c21 : MOV ESI,dword ptr [EAX + 0x130]
00616c27 : MOV dword ptr [ESP + 0xc],ESI
00616c2b : TEST ESI,ESI
00616c2d : JZ 0x00616c70
00616c2f : MOV EAX,dword ptr [EDI]
00616c31 : MOV EDX,dword ptr [EAX + 0x12c]
00616c37 : MOV ECX,dword ptr [EDX]
00616c39 : MOV dword ptr [EAX + 0x12c],ECX
00616c3f : CMP dword ptr [ESI + 0x358],0x0
00616c46 : JZ 0x00616c61
00616c48 : MOV EDX,dword ptr [ESI + 0x358]
00616c4e : PUSH EDX
00616c4f : CALL 0x0061ba70
00616c54 : ADD ESP,0x4
00616c57 : MOV dword ptr [ESI + 0x358],0x0
00616c61 : LEA EAX,[ESP + 0xc]
00616c65 : PUSH EAX
00616c66 : CALL 0x00611c30
00616c6b : ADD ESP,0x4
00616c6e : JMP 0x00616c11
00616c70 : PUSH EDI
00616c71 : CALL 0x00622d60
00616c76 : ADD ESP,0x4
00616c79 : MOV ECX,dword ptr [EBX + 0x40]
00616c7c : XOR ESI,ESI
00616c7e : CMP dword ptr [ECX + 0x40c],ESI
00616c84 : JLE 0x00616ca8
00616c86 : LEA EDI,[EBX + 0x150]
00616c8c : LEA ESP,[ESP]
00616c90 : PUSH EDI
00616c91 : CALL 0x00616bf0
00616c96 : MOV EDX,dword ptr [EBX + 0x40]
00616c99 : INC ESI
00616c9a : ADD ESP,0x4
00616c9d : ADD EDI,0x4
00616ca0 : CMP ESI,dword ptr [EDX + 0x40c]
00616ca6 : JL 0x00616c90
00616ca8 : MOV EAX,dword ptr [EBX + 0x48]
00616cab : TEST EAX,EAX
00616cad : JZ 0x00616cb8
00616caf : PUSH EAX
00616cb0 : CALL 0x0061ba70
00616cb5 : ADD ESP,0x4
00616cb8 : PUSH EBX
00616cb9 : CALL 0x0061ba70
00616cbe : MOV EAX,dword ptr [ESP + 0x18]
00616cc2 : ADD ESP,0x4
00616cc5 : POP EDI
00616cc6 : POP ESI
00616cc7 : MOV dword ptr [EAX],0x0
00616ccd : POP EBX
00616cce : POP ECX
00616ccf : RET
