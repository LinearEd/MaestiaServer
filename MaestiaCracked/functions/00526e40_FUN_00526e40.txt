PROGRAM  : Maestia.exe
FUNCTION : FUN_00526e40
ENTRY    : 00526e40
BODY     : [[00526e40, 00526ef9]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_00526e40(int *param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  char *in_ECX;
  
  if ((param_2 != 0) && (*in_ECX == '\v')) {
    param_2 = *(int *)(*(int *)(param_2 + 0x78) + 8);
    *(int *)(param_2 + 8) = *(int *)(param_2 + 8) + 1;
    iVar2 = *(int *)(in_ECX + 4);
    piVar1 = (int *)(iVar2 + 8);
    *piVar1 = *piVar1 + 1;
    *(int *)(param_2 + 8) = *(int *)(param_2 + 8) + -1;
    if (*(int *)(param_2 + 8) == 0) {
      FUN_00525340();
    }
    param_2 = iVar2;
    iVar2 = FUN_005307e0(&param_2);
    if (iVar2 != 0) {
      *(uint *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1U & 0x8fffffff;
    }
    *(undefined1 *)(param_1 + 2) = 0;
    *param_1 = iVar2;
    if (iVar2 != 0) {
      *(uint *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1U & 0x8fffffff;
    }
    param_1[1] = 0;
    if (iVar2 != 0) {
      FUN_00503db0();
    }
    *(int *)(param_2 + 8) = *(int *)(param_2 + 8) + -1;
    if (*(int *)(param_2 + 8) == 0) {
      FUN_00525340();
    }
    return param_1;
  }
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = 0;
  param_1[1] = 0;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00526e40 : PUSH EBX
00526e41 : PUSH EDI
00526e42 : MOV EDI,dword ptr [ESP + 0x10]
00526e46 : XOR EBX,EBX
00526e48 : CMP EDI,EBX
00526e4a : JZ 0x00526ee9
00526e50 : CMP byte ptr [ECX],0xb
00526e53 : JNZ 0x00526ee9
00526e59 : MOV EAX,dword ptr [EDI + 0x78]
00526e5c : MOV EAX,dword ptr [EAX + 0x8]
00526e5f : MOV dword ptr [ESP + 0x10],EAX
00526e63 : INC dword ptr [EAX + 0x8]
00526e66 : PUSH ESI
00526e67 : MOV ESI,dword ptr [ECX + 0x4]
00526e6a : INC dword ptr [ESI + 0x8]
00526e6d : MOV EAX,dword ptr [ESP + 0x14]
00526e71 : DEC dword ptr [EAX + 0x8]
00526e74 : MOV ECX,EAX
00526e76 : ADD EAX,0x8
00526e79 : CMP dword ptr [EAX],EBX
00526e7b : JNZ 0x00526e82
00526e7d : CALL 0x00525340
00526e82 : MOV ECX,dword ptr [EDI + 0x78]
00526e85 : LEA EDX,[ESP + 0x14]
00526e89 : PUSH EDX
00526e8a : MOV dword ptr [ESP + 0x18],ESI
00526e8e : CALL 0x005307e0
00526e93 : CMP EAX,EBX
00526e95 : JZ 0x00526ea4
00526e97 : MOV ECX,dword ptr [EAX + 0x8]
00526e9a : INC ECX
00526e9b : AND ECX,0x8fffffff
00526ea1 : MOV dword ptr [EAX + 0x8],ECX
00526ea4 : MOV ESI,dword ptr [ESP + 0x10]
00526ea8 : MOV byte ptr [ESI + 0x8],BL
00526eab : MOV dword ptr [ESI],EAX
00526ead : CMP EAX,EBX
00526eaf : JZ 0x00526ebe
00526eb1 : MOV EDX,dword ptr [EAX + 0x8]
00526eb4 : INC EDX
00526eb5 : AND EDX,0x8fffffff
00526ebb : MOV dword ptr [EAX + 0x8],EDX
00526ebe : MOV dword ptr [ESI + 0x4],EBX
00526ec1 : CMP EAX,EBX
00526ec3 : JZ 0x00526ecc
00526ec5 : MOV ECX,EAX
00526ec7 : CALL 0x00503db0
00526ecc : MOV EAX,dword ptr [ESP + 0x14]
00526ed0 : DEC dword ptr [EAX + 0x8]
00526ed3 : MOV ECX,EAX
00526ed5 : ADD EAX,0x8
00526ed8 : CMP dword ptr [EAX],EBX
00526eda : JNZ 0x00526ee1
00526edc : CALL 0x00525340
00526ee1 : MOV EAX,ESI
00526ee3 : POP ESI
00526ee4 : POP EDI
00526ee5 : POP EBX
00526ee6 : RET 0x8
00526ee9 : MOV EAX,dword ptr [ESP + 0xc]
00526eed : POP EDI
00526eee : MOV byte ptr [EAX + 0x8],BL
00526ef1 : MOV dword ptr [EAX],EBX
00526ef3 : MOV dword ptr [EAX + 0x4],EBX
00526ef6 : POP EBX
00526ef7 : RET 0x8
