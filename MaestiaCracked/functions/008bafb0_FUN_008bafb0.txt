PROGRAM  : Maestia.exe
FUNCTION : FUN_008bafb0
ENTRY    : 008bafb0
BODY     : [[008bafb0, 008bb199]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008bafb0(undefined4 param_1)

{
  uint uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined1 local_2a4 [4];
  undefined2 local_2a0;
  undefined4 local_290;
  uint local_28c;
  char local_285;
  uint local_264;
  uint local_260;
  undefined1 local_230 [4];
  undefined2 local_22c;
  undefined4 local_21c;
  uint local_218;
  undefined4 local_214 [128];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3e631;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar1;
  FUN_008b7050(param_1);
  local_8 = 0;
  FUN_00404870(L"Prop.txt",8);
  FUN_0070d390(uVar1);
  local_8._0_1_ = 1;
  local_28c = 7;
  local_290 = 0;
  local_2a0 = 0;
  FUN_00406360(&PTR_LAB_00c4d498,2);
  local_8._0_1_ = 2;
  local_285 = FUN_0070d850(local_230,local_2a4,0,0);
  local_8 = CONCAT31(local_8._1_3_,1);
  if (7 < local_28c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_28c = 7;
  local_290 = 0;
  local_2a0 = 0;
  if (local_285 == '\0') {
    local_8 = (uint)local_8._1_3_ << 8;
    FUN_0070d710();
    local_8 = 0xffffffff;
    if (7 < local_218) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  else {
    puVar3 = local_214;
    for (iVar2 = 0x80; iVar2 != 0; iVar2 = iVar2 + -1) {
      *puVar3 = 0;
      puVar3 = puVar3 + 1;
    }
    if (local_260 < local_264) {
      do {
        FUN_0070d320(local_214);
        FUN_008b70f0(param_1);
      } while (local_260 < local_264);
    }
    FUN_0070d4c0();
    local_8 = local_8 & 0xffffff00;
    FUN_0070d710();
    local_8 = 0xffffffff;
    if (7 < local_218) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  local_8 = 0xffffffff;
  local_21c = 0;
  local_22c = 0;
  local_218 = 7;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
008bafb0 : PUSH EBP
008bafb1 : MOV EBP,ESP
008bafb3 : PUSH -0x1
008bafb5 : PUSH 0xb3e631
008bafba : MOV EAX,FS:[0x0]
008bafc0 : PUSH EAX
008bafc1 : SUB ESP,0x294
008bafc7 : MOV EAX,[0x00d66fa0]
008bafcc : XOR EAX,EBP
008bafce : MOV dword ptr [EBP + -0x10],EAX
008bafd1 : PUSH EBX
008bafd2 : PUSH ESI
008bafd3 : PUSH EDI
008bafd4 : PUSH EAX
008bafd5 : LEA EAX,[EBP + -0xc]
008bafd8 : MOV FS:[0x0],EAX
008bafde : MOV EBX,dword ptr [EBP + 0x8]
008bafe1 : PUSH EBX
008bafe2 : LEA ESI,[EBP + 0xfffffdd4]
008bafe8 : CALL 0x008b7050
008bafed : XOR EDI,EDI
008bafef : MOV dword ptr [EBP + -0x4],EDI
008baff2 : PUSH 0x8
008baff4 : PUSH 0xc4d484
008baff9 : CALL 0x00404870
008baffe : LEA ECX,[EBP + 0xfffffd80]
008bb004 : CALL 0x0070d390
008bb009 : MOV byte ptr [EBP + -0x4],0x1
008bb00d : PUSH 0x2
008bb00f : XOR EAX,EAX
008bb011 : MOV ESI,0x7
008bb016 : PUSH 0xc4d498
008bb01b : LEA ECX,[EBP + 0xfffffd60]
008bb021 : MOV dword ptr [EBP + 0xfffffd78],ESI
008bb027 : MOV dword ptr [EBP + 0xfffffd74],EDI
008bb02d : MOV word ptr [EBP + 0xfffffd64],AX
008bb034 : CALL 0x00406360
008bb039 : MOV byte ptr [EBP + -0x4],0x2
008bb03d : PUSH EDI
008bb03e : PUSH EDI
008bb03f : LEA ECX,[EBP + 0xfffffd60]
008bb045 : PUSH ECX
008bb046 : LEA EDX,[EBP + 0xfffffdd4]
008bb04c : PUSH EDX
008bb04d : LEA EAX,[EBP + 0xfffffd80]
008bb053 : CALL 0x0070d850
008bb058 : MOV byte ptr [EBP + 0xfffffd7f],AL
008bb05e : MOV byte ptr [EBP + -0x4],0x1
008bb062 : CMP dword ptr [EBP + 0xfffffd78],0x8
008bb069 : JC 0x008bb076
008bb06b : MOV ECX,dword ptr [EBP + 0xfffffd64]
008bb071 : CALL 0x006f04e0
008bb076 : XOR EAX,EAX
008bb078 : MOV dword ptr [EBP + 0xfffffd78],ESI
008bb07e : MOV dword ptr [EBP + 0xfffffd74],EDI
008bb084 : MOV word ptr [EBP + 0xfffffd64],AX
008bb08b : CMP byte ptr [EBP + 0xfffffd7f],AL
008bb091 : JNZ 0x008bb0d2
008bb093 : MOV byte ptr [EBP + -0x4],AL
008bb096 : LEA ECX,[EBP + 0xfffffd80]
008bb09c : CALL 0x0070d710
008bb0a1 : MOV dword ptr [EBP + -0x4],0xffffffff
008bb0a8 : CMP dword ptr [EBP + 0xfffffdec],0x8
008bb0af : JC 0x008bb0bc
008bb0b1 : MOV ECX,dword ptr [EBP + 0xfffffdd8]
008bb0b7 : CALL 0x006f04e0
008bb0bc : XOR ECX,ECX
008bb0be : MOV dword ptr [EBP + 0xfffffde8],EDI
008bb0c4 : MOV word ptr [EBP + 0xfffffdd8],CX
008bb0cb : XOR AL,AL
008bb0cd : JMP 0x008bb176
008bb0d2 : XOR EAX,EAX
008bb0d4 : MOVZX EDX,AX
008bb0d7 : MOV EAX,EDX
008bb0d9 : SHL EDX,0x10
008bb0dc : OR EAX,EDX
008bb0de : MOV ECX,0x80
008bb0e3 : LEA EDI,[EBP + 0xfffffdf0]
008bb0e9 : STOSD.REP ES:EDI
008bb0eb : MOV EAX,dword ptr [EBP + 0xfffffda4]
008bb0f1 : CMP EAX,dword ptr [EBP + 0xfffffda0]
008bb0f7 : JNC 0x008bb12c
008bb0f9 : LEA ESP,[ESP]
008bb100 : LEA ECX,[EBP + 0xfffffdf0]
008bb106 : PUSH ECX
008bb107 : LEA ECX,[EBP + 0xfffffd80]
008bb10d : CALL 0x0070d320
008bb112 : PUSH EBX
008bb113 : LEA ECX,[EBP + 0xfffffdf0]
008bb119 : CALL 0x008b70f0
008bb11e : MOV EDX,dword ptr [EBP + 0xfffffda4]
008bb124 : CMP EDX,dword ptr [EBP + 0xfffffda0]
008bb12a : JC 0x008bb100
008bb12c : LEA ECX,[EBP + 0xfffffd80]
008bb132 : CALL 0x0070d4c0
008bb137 : MOV byte ptr [EBP + -0x4],0x0
008bb13b : LEA ECX,[EBP + 0xfffffd80]
008bb141 : CALL 0x0070d710
008bb146 : MOV dword ptr [EBP + -0x4],0xffffffff
008bb14d : CMP dword ptr [EBP + 0xfffffdec],0x8
008bb154 : JC 0x008bb161
008bb156 : MOV ECX,dword ptr [EBP + 0xfffffdd8]
008bb15c : CALL 0x006f04e0
008bb161 : XOR EAX,EAX
008bb163 : MOV word ptr [EBP + 0xfffffdd8],AX
008bb16a : MOV dword ptr [EBP + 0xfffffde8],0x0
008bb174 : MOV AL,0x1
008bb176 : MOV dword ptr [EBP + 0xfffffdec],ESI
008bb17c : MOV ECX,dword ptr [EBP + -0xc]
008bb17f : MOV dword ptr FS:[0x0],ECX
008bb186 : POP ECX
008bb187 : POP EDI
008bb188 : POP ESI
008bb189 : POP EBX
008bb18a : MOV ECX,dword ptr [EBP + -0x10]
008bb18d : XOR ECX,EBP
008bb18f : CALL 0x00633e6b
008bb194 : MOV ESP,EBP
008bb196 : POP EBP
008bb197 : RET 0x4
