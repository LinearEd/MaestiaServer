PROGRAM  : Maestia.exe
FUNCTION : FUN_0043b0f0
ENTRY    : 0043b0f0
BODY     : [[0043b0f0, 0043b269] [0043b27b, 0043b386]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0043b0f0(uint param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  undefined4 uVar5;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar2 = param_1;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7b450;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar3 = *(int *)(param_1 + 4);
  if (iVar3 == 0) {
    param_1 = 0;
  }
  else {
    param_1 = (*(int *)(param_1 + 0xc) - iVar3) / 0x18;
  }
  iVar1 = *(int *)(iVar2 + 8);
  iVar3 = (iVar1 - iVar3) / 0x18;
  if (iVar3 == 0xaaaaaaa) {
    iVar3 = FUN_00429be0();
  }
  uVar4 = iVar3 + 1;
  if (param_1 < uVar4) {
    if (0xaaaaaaa - (param_1 >> 1) < param_1) {
      param_1 = 0;
    }
    else {
      param_1 = param_1 + (param_1 >> 1);
    }
    if (param_1 < uVar4) {
      param_1 = uVar4;
    }
    iVar3 = FUN_00444a00();
    local_8 = 0;
    FUN_0043ae10();
    FUN_0043c0a0(*(undefined4 *)(iVar2 + 4),param_2);
    FUN_0043c0a0(param_2,*(undefined4 *)(iVar2 + 8));
    local_8 = 0xffffffff;
    if (*(int *)(iVar2 + 4) != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(uint *)(iVar2 + 0xc) = iVar3 + param_1 * 0x18;
    *(int *)(iVar2 + 8) = iVar3 + ((*(int *)(iVar2 + 8) - *(int *)(iVar2 + 4)) / 0x18 + 1) * 0x18;
    *(int *)(iVar2 + 4) = iVar3;
    ExceptionList = local_10;
    return;
  }
  iVar3 = iVar1 - param_2 >> 0x1f;
  if ((iVar1 - param_2) / 0x18 + iVar3 == iVar3) {
    FUN_0043c0a0(param_2,iVar1);
    local_8 = 2;
    FUN_0043ae10();
    local_8 = 0xffffffff;
    *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 0x18;
  }
  else {
    uVar5 = FUN_0043c0a0(iVar1 + -0x18,iVar1);
    *(undefined4 *)(iVar2 + 8) = uVar5;
    param_1 = param_1 & 0xffffff00;
    FUN_0043c4d0(param_2,param_2,param_1);
  }
  FUN_0043c3e0();
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0043b0f0 : PUSH EBP
0043b0f1 : MOV EBP,ESP
0043b0f3 : PUSH -0x1
0043b0f5 : PUSH 0xb7b450
0043b0fa : MOV EAX,FS:[0x0]
0043b100 : PUSH EAX
0043b101 : SUB ESP,0x2c
0043b104 : PUSH EBX
0043b105 : PUSH ESI
0043b106 : PUSH EDI
0043b107 : MOV EAX,[0x00d66fa0]
0043b10c : XOR EAX,EBP
0043b10e : PUSH EAX
0043b10f : LEA EAX,[EBP + -0xc]
0043b112 : MOV FS:[0x0],EAX
0043b118 : MOV dword ptr [EBP + -0x10],ESP
0043b11b : MOV ESI,ECX
0043b11d : MOV EBX,dword ptr [EBP + 0x8]
0043b120 : MOV ECX,dword ptr [EBX + 0x4]
0043b123 : TEST ECX,ECX
0043b125 : JNZ 0x0043b12c
0043b127 : MOV dword ptr [EBP + 0x8],ECX
0043b12a : JMP 0x0043b145
0043b12c : MOV EDX,dword ptr [EBX + 0xc]
0043b12f : SUB EDX,ECX
0043b131 : MOV EAX,0x2aaaaaab
0043b136 : IMUL EDX
0043b138 : SAR EDX,0x2
0043b13b : MOV EAX,EDX
0043b13d : SHR EAX,0x1f
0043b140 : ADD EAX,EDX
0043b142 : MOV dword ptr [EBP + 0x8],EAX
0043b145 : MOV EDI,dword ptr [EBX + 0x8]
0043b148 : MOV EDX,EDI
0043b14a : SUB EDX,ECX
0043b14c : MOV EAX,0x2aaaaaab
0043b151 : IMUL EDX
0043b153 : SAR EDX,0x2
0043b156 : MOV EAX,EDX
0043b158 : SHR EAX,0x1f
0043b15b : ADD EAX,EDX
0043b15d : MOV ECX,0xaaaaaaa
0043b162 : SUB ECX,EAX
0043b164 : CMP ECX,0x1
0043b167 : JNC 0x0043b16e
0043b169 : CALL 0x00429be0
0043b16e : INC EAX
0043b16f : MOV ECX,dword ptr [EBP + 0x8]
0043b172 : CMP ECX,EAX
0043b174 : JNC 0x0043b27b
0043b17a : MOV EDX,ECX
0043b17c : SHR EDX,0x1
0043b17e : MOV EDI,0xaaaaaaa
0043b183 : SUB EDI,EDX
0043b185 : CMP EDI,ECX
0043b187 : JNC 0x0043b195
0043b189 : MOV dword ptr [EBP + 0x8],0x0
0043b190 : MOV ECX,dword ptr [EBP + 0x8]
0043b193 : JMP 0x0043b19a
0043b195 : ADD ECX,EDX
0043b197 : MOV dword ptr [EBP + 0x8],ECX
0043b19a : CMP ECX,EAX
0043b19c : JNC 0x0043b1a3
0043b19e : MOV dword ptr [EBP + 0x8],EAX
0043b1a1 : MOV ECX,EAX
0043b1a3 : CALL 0x00444a00
0043b1a8 : MOV EDI,EAX
0043b1aa : MOV dword ptr [EBP + -0x14],EDI
0043b1ad : MOV ECX,dword ptr [EBP + 0xc]
0043b1b0 : SUB ECX,dword ptr [EBX + 0x4]
0043b1b3 : MOV EAX,0x2aaaaaab
0043b1b8 : IMUL ECX
0043b1ba : SAR EDX,0x2
0043b1bd : MOV EAX,EDX
0043b1bf : SHR EAX,0x1f
0043b1c2 : ADD EAX,EDX
0043b1c4 : MOV dword ptr [EBP + -0x1c],EAX
0043b1c7 : MOV dword ptr [EBP + -0x4],0x0
0043b1ce : LEA EDX,[EAX + EAX*0x2]
0043b1d1 : LEA EDI,[EDI + EDX*0x8]
0043b1d4 : MOV EDX,ESI
0043b1d6 : MOV ESI,0x1
0043b1db : CALL 0x0043ae10
0043b1e0 : MOV dword ptr [EBP + -0x18],ESI
0043b1e3 : MOV EAX,dword ptr [EBP + 0xc]
0043b1e6 : PUSH EAX
0043b1e7 : MOV ECX,dword ptr [EBX + 0x4]
0043b1ea : PUSH ECX
0043b1eb : MOV ESI,dword ptr [EBP + -0x14]
0043b1ee : MOV EDX,ESI
0043b1f0 : CALL 0x0043c0a0
0043b1f5 : MOV dword ptr [EBP + -0x18],0x2
0043b1fc : MOV EAX,dword ptr [EBP + -0x1c]
0043b1ff : LEA EDX,[EAX + EAX*0x2 + 0x3]
0043b203 : LEA EDX,[ESI + EDX*0x8]
0043b206 : MOV EAX,dword ptr [EBX + 0x8]
0043b209 : PUSH EAX
0043b20a : MOV ECX,dword ptr [EBP + 0xc]
0043b20d : PUSH ECX
0043b20e : CALL 0x0043c0a0
0043b213 : MOV dword ptr [EBP + -0x4],0xffffffff
0043b21a : MOV ECX,dword ptr [EBX + 0x4]
0043b21d : MOV EDX,dword ptr [EBX + 0x8]
0043b220 : SUB EDX,ECX
0043b222 : MOV EAX,0x2aaaaaab
0043b227 : IMUL EDX
0043b229 : SAR EDX,0x2
0043b22c : MOV EAX,EDX
0043b22e : SHR EAX,0x1f
0043b231 : LEA EDI,[EDX + EAX*0x1 + 0x1]
0043b235 : TEST ECX,ECX
0043b237 : JZ 0x0043b23e
0043b239 : CALL 0x006f04e0
0043b23e : MOV EAX,dword ptr [EBP + 0x8]
0043b241 : LEA ECX,[EAX + EAX*0x2]
0043b244 : LEA EDX,[ESI + ECX*0x8]
0043b247 : MOV dword ptr [EBX + 0xc],EDX
0043b24a : LEA EAX,[EDI + EDI*0x2]
0043b24d : LEA ECX,[ESI + EAX*0x8]
0043b250 : MOV dword ptr [EBX + 0x8],ECX
0043b253 : MOV dword ptr [EBX + 0x4],ESI
0043b256 : MOV ECX,dword ptr [EBP + -0xc]
0043b259 : MOV dword ptr FS:[0x0],ECX
0043b260 : POP ECX
0043b261 : POP EDI
0043b262 : POP ESI
0043b263 : POP EBX
0043b264 : MOV ESP,EBP
0043b266 : POP EBP
0043b267 : RET 0x8
0043b27b : MOV EDX,EDI
0043b27d : MOV ECX,dword ptr [EBP + 0xc]
0043b280 : SUB EDX,ECX
0043b282 : MOV EAX,0x2aaaaaab
0043b287 : IMUL EDX
0043b289 : SAR EDX,0x2
0043b28c : MOV EAX,EDX
0043b28e : SHR EAX,0x1f
0043b291 : ADD EAX,EDX
0043b293 : MOV EDX,dword ptr [ESI]
0043b295 : MOVSS XMM0,dword ptr [ESI + 0x4]
0043b29a : PUSH EDI
0043b29b : MOV dword ptr [EBP + -0x34],EDX
0043b29e : MOVSS dword ptr [EBP + -0x30],XMM0
0043b2a3 : CMP EAX,0x1
0043b2a6 : MOV EAX,dword ptr [ESI + 0x14]
0043b2a9 : MOV dword ptr [EBP + -0x20],EAX
0043b2ac : JNC 0x0043b31a
0043b2ae : MOVSS XMM1,dword ptr [ESI + 0x8]
0043b2b3 : MOVSS XMM2,dword ptr [ESI + 0xc]
0043b2b8 : MOVSS dword ptr [EBP + -0x2c],XMM1
0043b2bd : MOVSS dword ptr [EBP + -0x28],XMM2
0043b2c2 : MOVSS XMM0,dword ptr [ESI + 0x10]
0043b2c7 : MOVSS dword ptr [EBP + -0x24],XMM0
0043b2cc : LEA EDX,[ECX + 0x18]
0043b2cf : PUSH ECX
0043b2d0 : CALL 0x0043c0a0
0043b2d5 : MOV dword ptr [EBP + -0x4],0x2
0043b2dc : MOV EDI,dword ptr [EBX + 0x8]
0043b2df : MOV ECX,EDI
0043b2e1 : SUB ECX,dword ptr [EBP + 0xc]
0043b2e4 : MOV EAX,0x2aaaaaab
0043b2e9 : IMUL ECX
0043b2eb : SAR EDX,0x2
0043b2ee : MOV ECX,EDX
0043b2f0 : SHR ECX,0x1f
0043b2f3 : ADD ECX,EDX
0043b2f5 : MOV ESI,0x1
0043b2fa : SUB ESI,ECX
0043b2fc : LEA EDX,[EBP + -0x34]
0043b2ff : CALL 0x0043ae10
0043b304 : MOV dword ptr [EBP + -0x4],0xffffffff
0043b30b : ADD dword ptr [EBX + 0x8],0x18
0043b30f : MOV EBX,dword ptr [EBX + 0x8]
0043b312 : LEA ESI,[EBX + -0x18]
0043b315 : MOV EDX,dword ptr [EBP + 0xc]
0043b318 : JMP 0x0043b36b
0043b31a : MOVSS XMM0,dword ptr [ESI + 0x8]
0043b31f : MOVSS dword ptr [EBP + -0x2c],XMM0
0043b324 : MOVSS XMM0,dword ptr [ESI + 0xc]
0043b329 : MOVSS dword ptr [EBP + -0x28],XMM0
0043b32e : MOVSS XMM0,dword ptr [ESI + 0x10]
0043b333 : MOVSS dword ptr [EBP + -0x24],XMM0
0043b338 : LEA ESI,[EDI + -0x18]
0043b33b : PUSH ESI
0043b33c : MOV EDX,EDI
0043b33e : CALL 0x0043c0a0
0043b343 : MOV dword ptr [EBX + 0x8],EAX
0043b346 : MOV byte ptr [EBP + 0x8],0x0
0043b34a : MOV ECX,dword ptr [EBP + 0x8]
0043b34d : PUSH ECX
0043b34e : MOV EDX,dword ptr [EBP + 0xc]
0043b351 : PUSH EDX
0043b352 : MOV EAX,dword ptr [EBP + 0xc]
0043b355 : PUSH EAX
0043b356 : MOV EAX,EDI
0043b358 : MOV ECX,ESI
0043b35a : MOV EDI,dword ptr [EBP + 0xc]
0043b35d : CALL 0x0043c4d0
0043b362 : ADD ESP,0xc
0043b365 : MOV EDX,dword ptr [EBP + 0xc]
0043b368 : LEA ESI,[EDX + 0x18]
0043b36b : LEA ECX,[EBP + -0x34]
0043b36e : CALL 0x0043c3e0
0043b373 : MOV ECX,dword ptr [EBP + -0xc]
0043b376 : MOV dword ptr FS:[0x0],ECX
0043b37d : POP ECX
0043b37e : POP EDI
0043b37f : POP ESI
0043b380 : POP EBX
0043b381 : MOV ESP,EBP
0043b383 : POP EBP
0043b384 : RET 0x8
