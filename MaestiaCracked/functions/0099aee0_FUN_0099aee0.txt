PROGRAM  : Maestia.exe
FUNCTION : FUN_0099aee0
ENTRY    : 0099aee0
BODY     : [[0099aee0, 0099af5c] [0099af60, 0099b05c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0099aee0(void)

{
  char cVar1;
  ushort in_CX;
  uint uVar2;
  int iVar3;
  int iVar4;
  int unaff_EDI;
  undefined1 local_7c [16];
  int local_6c;
  char local_1c;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b60af4;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(char *)(*(int *)(unaff_EDI + 8) + 0x32) != '\0') {
    (**(code **)**(undefined4 **)(*DAT_00da9894 + 0x114))("AllDeleteFriend",local_14);
    iVar4 = *(int *)(*(int *)(unaff_EDI + 8) + 0x38);
    *(ushort *)(*(int *)(unaff_EDI + 8) + 0x76) = in_CX;
    if (iVar4 != 1) {
      if (iVar4 == 2) {
        uVar2 = (uint)in_CX;
        iVar4 = 0;
        do {
          FUN_00412470(local_7c);
          local_8 = 1;
          cVar1 = FUN_0099bce0(uVar2,local_7c);
          if (cVar1 == '\0') goto LAB_0099b03d;
          if (local_6c == 0) {
            FUN_00999270(iVar4);
            iVar4 = iVar4 + 1;
          }
          local_8 = 0xffffffff;
          FUN_00411330(local_7c);
          uVar2 = uVar2 + 1;
        } while ((ushort)iVar4 < 0xf);
        goto LAB_0099b042;
      }
      if (iVar4 != 3) goto LAB_0099b042;
    }
    uVar2 = (uint)in_CX;
    iVar3 = 0;
    do {
      FUN_00412470(local_7c);
      local_8 = 0;
      cVar1 = FUN_0099bce0(uVar2,local_7c);
      if (cVar1 == '\0') goto LAB_0099b03d;
      if (local_6c == 0) {
        if (iVar4 == 1) {
          if (local_1c == '\0') {
LAB_0099b008:
            FUN_00999270(iVar3);
            iVar3 = iVar3 + 1;
          }
        }
        else if ((iVar4 == 3) && (local_1c != '\0')) goto LAB_0099b008;
      }
      local_8 = 0xffffffff;
      FUN_00411330(local_7c);
      uVar2 = uVar2 + 1;
    } while ((ushort)iVar3 < 0xf);
  }
  goto LAB_0099b042;
LAB_0099b03d:
  local_8 = 0xffffffff;
  FUN_00411330(local_7c);
LAB_0099b042:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0099aee0 : PUSH EBP
0099aee1 : MOV EBP,ESP
0099aee3 : PUSH -0x1
0099aee5 : PUSH 0xb60af4
0099aeea : MOV EAX,FS:[0x0]
0099aef0 : PUSH EAX
0099aef1 : SUB ESP,0x70
0099aef4 : MOV EAX,[0x00d66fa0]
0099aef9 : XOR EAX,EBP
0099aefb : MOV dword ptr [EBP + -0x10],EAX
0099aefe : PUSH EBX
0099aeff : PUSH ESI
0099af00 : PUSH EAX
0099af01 : LEA EAX,[EBP + -0xc]
0099af04 : MOV FS:[0x0],EAX
0099af0a : MOV SI,CX
0099af0d : MOV EAX,dword ptr [EDI + 0x8]
0099af10 : MOV AL,byte ptr [EAX + 0x32]
0099af13 : TEST AL,AL
0099af15 : JZ 0x0099b042
0099af1b : MOV ECX,dword ptr [0x00da9894]
0099af21 : MOV EAX,dword ptr [ECX]
0099af23 : MOV ECX,dword ptr [EAX + 0x114]
0099af29 : MOV EDX,dword ptr [ECX]
0099af2b : MOV EAX,dword ptr [EDX]
0099af2d : PUSH 0xc87cec
0099af32 : CALL EAX
0099af34 : MOV EAX,dword ptr [EDI + 0x8]
0099af37 : MOV ECX,dword ptr [EAX + 0x38]
0099af3a : MOV word ptr [EAX + 0x76],SI
0099af3e : MOV EAX,ECX
0099af40 : SUB EAX,0x1
0099af43 : MOV dword ptr [EBP + -0x7c],ECX
0099af46 : JZ 0x0099af56
0099af48 : SUB EAX,0x1
0099af4b : JZ 0x0099af9e
0099af4d : SUB EAX,0x1
0099af50 : JNZ 0x0099b042
0099af56 : MOVZX EBX,SI
0099af59 : XOR ESI,ESI
0099af5b : JMP 0x0099af60
0099af60 : LEA EDX,[EBP + -0x78]
0099af63 : PUSH EDX
0099af64 : CALL 0x00412470
0099af69 : MOV dword ptr [EBP + -0x4],0x0
0099af70 : LEA EAX,[EBP + -0x78]
0099af73 : PUSH EAX
0099af74 : MOV EAX,dword ptr [EDI]
0099af76 : PUSH EBX
0099af77 : CALL 0x0099bce0
0099af7c : TEST AL,AL
0099af7e : JZ 0x0099b032
0099af84 : CMP dword ptr [EBP + -0x68],0x0
0099af88 : JNZ 0x0099b015
0099af8e : MOV EAX,dword ptr [EBP + -0x7c]
0099af91 : CMP EAX,0x1
0099af94 : JNZ 0x0099affd
0099af96 : CMP byte ptr [EBP + -0x18],0x0
0099af9a : JNZ 0x0099b015
0099af9c : JMP 0x0099b008
0099af9e : MOVZX EBX,SI
0099afa1 : XOR ESI,ESI
0099afa3 : LEA ECX,[EBP + -0x78]
0099afa6 : PUSH ECX
0099afa7 : CALL 0x00412470
0099afac : MOV dword ptr [EBP + -0x4],0x1
0099afb3 : MOV EAX,dword ptr [EDI + 0x4]
0099afb6 : LEA EDX,[EBP + -0x78]
0099afb9 : PUSH EDX
0099afba : PUSH EBX
0099afbb : CALL 0x0099bce0
0099afc0 : TEST AL,AL
0099afc2 : JZ 0x0099aff0
0099afc4 : CMP dword ptr [EBP + -0x68],0x0
0099afc8 : JNZ 0x0099afd7
0099afca : MOV ECX,dword ptr [EDI + 0x8]
0099afcd : PUSH ESI
0099afce : LEA EDX,[EBP + -0x78]
0099afd1 : CALL 0x00999270
0099afd6 : INC ESI
0099afd7 : MOV dword ptr [EBP + -0x4],0xffffffff
0099afde : LEA EAX,[EBP + -0x78]
0099afe1 : PUSH EAX
0099afe2 : CALL 0x00411330
0099afe7 : INC EBX
0099afe8 : CMP SI,0xf
0099afec : JC 0x0099afa3
0099afee : JMP 0x0099b042
0099aff0 : MOV dword ptr [EBP + -0x4],0xffffffff
0099aff7 : LEA ECX,[EBP + -0x78]
0099affa : PUSH ECX
0099affb : JMP 0x0099b03d
0099affd : CMP EAX,0x3
0099b000 : JNZ 0x0099b015
0099b002 : CMP byte ptr [EBP + -0x18],0x0
0099b006 : JBE 0x0099b015
0099b008 : MOV ECX,dword ptr [EDI + 0x8]
0099b00b : PUSH ESI
0099b00c : LEA EDX,[EBP + -0x78]
0099b00f : CALL 0x00999270
0099b014 : INC ESI
0099b015 : MOV dword ptr [EBP + -0x4],0xffffffff
0099b01c : LEA ECX,[EBP + -0x78]
0099b01f : PUSH ECX
0099b020 : CALL 0x00411330
0099b025 : INC EBX
0099b026 : CMP SI,0xf
0099b02a : JC 0x0099af60
0099b030 : JMP 0x0099b042
0099b032 : MOV dword ptr [EBP + -0x4],0xffffffff
0099b039 : LEA EDX,[EBP + -0x78]
0099b03c : PUSH EDX
0099b03d : CALL 0x00411330
0099b042 : MOV ECX,dword ptr [EBP + -0xc]
0099b045 : MOV dword ptr FS:[0x0],ECX
0099b04c : POP ECX
0099b04d : POP ESI
0099b04e : POP EBX
0099b04f : MOV ECX,dword ptr [EBP + -0x10]
0099b052 : XOR ECX,EBP
0099b054 : CALL 0x00633e6b
0099b059 : MOV ESP,EBP
0099b05b : POP EBP
0099b05c : RET
