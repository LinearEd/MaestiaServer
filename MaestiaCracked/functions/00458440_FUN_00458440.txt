PROGRAM  : Maestia.exe
FUNCTION : FUN_00458440
ENTRY    : 00458440
BODY     : [[00458440, 004584ac] [004584b0, 004584fb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00458440(int *param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int unaff_ESI;
  undefined4 *unaff_EDI;
  
  piVar2 = *(int **)(unaff_ESI + 4);
  if ((param_1 == (int *)*piVar2) && (param_2 == piVar2)) {
    FUN_0044c480(piVar2[1]);
    *(int *)(*(int *)(unaff_ESI + 4) + 4) = *(int *)(unaff_ESI + 4);
    *(undefined4 *)(unaff_ESI + 8) = 0;
    *(undefined4 *)*(undefined4 *)(unaff_ESI + 4) = *(undefined4 *)(unaff_ESI + 4);
    *(int *)(*(int *)(unaff_ESI + 4) + 8) = *(int *)(unaff_ESI + 4);
    *unaff_EDI = **(undefined4 **)(unaff_ESI + 4);
    return;
  }
  while (param_1 != param_2) {
    if (*(char *)((int)param_1 + 0x2d) == '\0') {
      piVar2 = (int *)param_1[2];
      if (*(char *)((int)piVar2 + 0x2d) == '\0') {
        cVar1 = *(char *)(*piVar2 + 0x2d);
        param_1 = piVar2;
        piVar2 = (int *)*piVar2;
        while (cVar1 == '\0') {
          cVar1 = *(char *)(*piVar2 + 0x2d);
          param_1 = piVar2;
          piVar2 = (int *)*piVar2;
        }
      }
      else {
        cVar1 = *(char *)(param_1[1] + 0x2d);
        piVar3 = (int *)param_1[1];
        piVar2 = param_1;
        while ((param_1 = piVar3, cVar1 == '\0' && (piVar2 == (int *)param_1[2]))) {
          cVar1 = *(char *)(param_1[1] + 0x2d);
          piVar3 = (int *)param_1[1];
          piVar2 = param_1;
        }
      }
    }
    FUN_00458150();
  }
  *unaff_EDI = param_1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00458440 : PUSH EBP
00458441 : MOV EBP,ESP
00458443 : AND ESP,0xfffffff8
00458446 : MOV EAX,dword ptr [ESI + 0x4]
00458449 : MOV ECX,dword ptr [EBP + 0x8]
0045844c : MOV EDX,dword ptr [EBP + 0xc]
0045844f : SUB ESP,0x8
00458452 : CMP ECX,dword ptr [EAX]
00458454 : JNZ 0x0045848c
00458456 : CMP EDX,EAX
00458458 : JNZ 0x0045848c
0045845a : MOV EAX,dword ptr [EAX + 0x4]
0045845d : PUSH EAX
0045845e : MOV ECX,ESI
00458460 : CALL 0x0044c480
00458465 : MOV EAX,dword ptr [ESI + 0x4]
00458468 : MOV dword ptr [EAX + 0x4],EAX
0045846b : MOV EAX,dword ptr [ESI + 0x4]
0045846e : MOV dword ptr [ESI + 0x8],0x0
00458475 : MOV dword ptr [EAX],EAX
00458477 : MOV EAX,dword ptr [ESI + 0x4]
0045847a : MOV dword ptr [EAX + 0x8],EAX
0045847d : MOV ECX,dword ptr [ESI + 0x4]
00458480 : MOV EDX,dword ptr [ECX]
00458482 : MOV dword ptr [EDI],EDX
00458484 : MOV EAX,EDI
00458486 : MOV ESP,EBP
00458488 : POP EBP
00458489 : RET 0x8
0045848c : CMP ECX,EDX
0045848e : JZ 0x004584f2
00458490 : CMP byte ptr [ECX + 0x2d],0x0
00458494 : MOV EDX,ECX
00458496 : JNZ 0x004584de
00458498 : MOV EAX,dword ptr [ECX + 0x8]
0045849b : CMP byte ptr [EAX + 0x2d],0x0
0045849f : JNZ 0x004584bf
004584a1 : MOV ECX,EAX
004584a3 : MOV EAX,dword ptr [ECX]
004584a5 : CMP byte ptr [EAX + 0x2d],0x0
004584a9 : JNZ 0x004584ba
004584ab : JMP 0x004584b0
004584b0 : MOV ECX,EAX
004584b2 : MOV EAX,dword ptr [ECX]
004584b4 : CMP byte ptr [EAX + 0x2d],0x0
004584b8 : JZ 0x004584b0
004584ba : MOV dword ptr [EBP + 0x8],ECX
004584bd : JMP 0x004584de
004584bf : MOV EAX,dword ptr [ECX + 0x4]
004584c2 : CMP byte ptr [EAX + 0x2d],0x0
004584c6 : JNZ 0x004584db
004584c8 : CMP ECX,dword ptr [EAX + 0x8]
004584cb : JNZ 0x004584db
004584cd : MOV ECX,EAX
004584cf : MOV dword ptr [EBP + 0x8],ECX
004584d2 : MOV EAX,dword ptr [EAX + 0x4]
004584d5 : CMP byte ptr [EAX + 0x2d],0x0
004584d9 : JZ 0x004584c8
004584db : MOV dword ptr [EBP + 0x8],EAX
004584de : PUSH EDX
004584df : LEA EAX,[ESP + 0x8]
004584e3 : PUSH EAX
004584e4 : PUSH ESI
004584e5 : CALL 0x00458150
004584ea : MOV ECX,dword ptr [EBP + 0x8]
004584ed : CMP ECX,dword ptr [EBP + 0xc]
004584f0 : JNZ 0x00458490
004584f2 : MOV dword ptr [EDI],ECX
004584f4 : MOV EAX,EDI
004584f6 : MOV ESP,EBP
004584f8 : POP EBP
004584f9 : RET 0x8
