PROGRAM  : Maestia.exe
FUNCTION : FUN_004116e0
ENTRY    : 004116e0
BODY     : [[004116e0, 0041178d]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_004116e0(int param_1,uint param_2)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7e5b0;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  uVar5 = *(int *)(param_2 + 8) - *(int *)(param_2 + 4) >> 2;
  *(undefined4 *)(param_1 + 4) = 0;
  *(undefined4 *)(param_1 + 8) = 0;
  *(undefined4 *)(param_1 + 0xc) = 0;
  if (uVar5 != 0) {
    if (0x3fffffff < uVar5) {
      FUN_00452880();
    }
    iVar3 = FUN_004c1790();
    *(int *)(param_1 + 4) = iVar3;
    *(int *)(param_1 + 8) = iVar3;
    *(uint *)(param_1 + 0xc) = iVar3 + uVar5 * 4;
    local_8 = 0;
    puVar1 = (undefined4 *)(param_2 + 8);
    puVar2 = (undefined4 *)(param_2 + 4);
    param_2 = param_2 & 0xffffff00;
    uVar4 = FUN_0042dd10(*puVar2,*puVar1,*(undefined4 *)(param_1 + 4),param_1,param_2);
    *(undefined4 *)(param_1 + 8) = uVar4;
  }
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
004116e0 : PUSH EBP
004116e1 : MOV EBP,ESP
004116e3 : PUSH -0x1
004116e5 : PUSH 0xb7e5b0
004116ea : MOV EAX,FS:[0x0]
004116f0 : PUSH EAX
004116f1 : PUSH ECX
004116f2 : PUSH EBX
004116f3 : PUSH ESI
004116f4 : PUSH EDI
004116f5 : MOV EAX,[0x00d66fa0]
004116fa : XOR EAX,EBP
004116fc : PUSH EAX
004116fd : LEA EAX,[EBP + -0xc]
00411700 : MOV FS:[0x0],EAX
00411706 : MOV dword ptr [EBP + -0x10],ESP
00411709 : MOV EBX,dword ptr [EBP + 0xc]
0041170c : MOV ESI,dword ptr [EBP + 0x8]
0041170f : MOV EDI,dword ptr [EBX + 0x8]
00411712 : SUB EDI,dword ptr [EBX + 0x4]
00411715 : SAR EDI,0x2
00411718 : XOR EAX,EAX
0041171a : MOV dword ptr [ESI + 0x4],EAX
0041171d : MOV dword ptr [ESI + 0x8],EAX
00411720 : MOV dword ptr [ESI + 0xc],EAX
00411723 : CMP EDI,EAX
00411725 : JZ 0x00411778
00411727 : CMP EDI,0x3fffffff
0041172d : JBE 0x00411734
0041172f : CALL 0x00452880
00411734 : MOV ECX,EDI
00411736 : CALL 0x004c1790
0041173b : MOV dword ptr [ESI + 0x4],EAX
0041173e : MOV dword ptr [ESI + 0x8],EAX
00411741 : LEA EAX,[EAX + EDI*0x4]
00411744 : MOV dword ptr [ESI + 0xc],EAX
00411747 : MOV dword ptr [EBP + -0x4],0x0
0041174e : MOV EAX,dword ptr [EBX + 0x8]
00411751 : MOV EBX,dword ptr [EBX + 0x4]
00411754 : MOV ECX,dword ptr [ESI + 0x4]
00411757 : MOV byte ptr [EBP + 0xc],0x0
0041175b : MOV EDX,dword ptr [EBP + 0xc]
0041175e : PUSH EDX
0041175f : MOV EDX,dword ptr [EBP + 0x8]
00411762 : PUSH EDX
00411763 : PUSH ECX
00411764 : PUSH EAX
00411765 : PUSH EBX
00411766 : CALL 0x0042dd10
0041176b : ADD ESP,0x14
0041176e : MOV dword ptr [ESI + 0x8],EAX
00411771 : MOV dword ptr [EBP + -0x4],0xffffffff
00411778 : MOV EAX,ESI
0041177a : MOV ECX,dword ptr [EBP + -0xc]
0041177d : MOV dword ptr FS:[0x0],ECX
00411784 : POP ECX
00411785 : POP EDI
00411786 : POP ESI
00411787 : POP EBX
00411788 : MOV ESP,EBP
0041178a : POP EBP
0041178b : RET 0x8
