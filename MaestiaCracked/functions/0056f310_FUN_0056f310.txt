PROGRAM  : Maestia.exe
FUNCTION : FUN_0056f310
ENTRY    : 0056f310
BODY     : [[0056f310, 0056f402]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0056f310(void)

{
  LONG LVar1;
  int in_ECX;
  uint unaff_EBX;
  uint unaff_ESI;
  uint uVar2;
  uint local_14;
  uint local_10;
  uint local_c [3];
  
  local_c[0] = 5;
  FUN_0051c600(in_ECX + 0x18);
  FUN_0051c600(in_ECX + 0x14);
  FUN_0051b6e0();
  FUN_005a03c0(&local_14,local_c);
  FUN_0051c480((local_14 & 0xfffffffc) + 8);
  (**(code **)(**(int **)(in_ECX + 0x1c) + 4))
            (&local_10,*(undefined4 *)(*(int *)(*(int *)(in_ECX + 0x10) + 8) + 8));
  LVar1 = InterlockedExchangeAdd((LONG *)((unaff_EBX & 0xfffffffc) + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(unaff_EBX & 0xfffffffc);
  }
  InterlockedExchange((LONG *)(in_ECX + 0x20),1);
  LVar1 = InterlockedExchangeAdd((LONG *)((unaff_ESI & 0xfffffffc) + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(unaff_ESI & 0xfffffffc);
  }
  uVar2 = local_c[0] & 0xfffffffc;
  LVar1 = InterlockedExchangeAdd((LONG *)(uVar2 + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(uVar2);
  }
  LVar1 = InterlockedExchangeAdd((LONG *)((local_10 & 0xfffffffc) + 4),-1);
  if (LVar1 == 1) {
    FUN_00515cf0(local_10 & 0xfffffffc);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0056f310 : SUB ESP,0x14
0056f313 : PUSH EBX
0056f314 : PUSH ESI
0056f315 : MOV ESI,ECX
0056f317 : PUSH EDI
0056f318 : LEA EAX,[ESI + 0x18]
0056f31b : PUSH EAX
0056f31c : LEA ECX,[ESP + 0x1c]
0056f320 : MOV dword ptr [ESP + 0x18],0x5
0056f328 : CALL 0x0051c600
0056f32d : LEA ECX,[ESI + 0x14]
0056f330 : PUSH ECX
0056f331 : LEA ECX,[ESP + 0x20]
0056f335 : CALL 0x0051c600
0056f33a : LEA ECX,[ESP + 0xc]
0056f33e : CALL 0x0051b6e0
0056f343 : MOV ECX,dword ptr [ESI + 0x10]
0056f346 : LEA EDX,[ESP + 0x14]
0056f34a : PUSH EDX
0056f34b : LEA EAX,[ESP + 0x10]
0056f34f : PUSH EAX
0056f350 : CALL 0x005a03c0
0056f355 : MOV ECX,dword ptr [ESP + 0xc]
0056f359 : AND ECX,0xfffffffc
0056f35c : ADD ECX,0x8
0056f35f : PUSH ECX
0056f360 : LEA ECX,[ESP + 0x14]
0056f364 : CALL 0x0051c480
0056f369 : MOV EAX,dword ptr [ESI + 0x10]
0056f36c : MOV EAX,dword ptr [EAX + 0x8]
0056f36f : MOV EAX,dword ptr [EAX + 0x8]
0056f372 : MOV ECX,dword ptr [ESI + 0x1c]
0056f375 : MOV EDX,dword ptr [ECX]
0056f377 : MOV EDX,dword ptr [EDX + 0x4]
0056f37a : PUSH EAX
0056f37b : LEA EAX,[ESP + 0x14]
0056f37f : PUSH EAX
0056f380 : CALL EDX
0056f382 : MOV EDI,dword ptr [ESP + 0x10]
0056f386 : MOV EBX,dword ptr [0x00b851cc]
0056f38c : AND EDI,0xfffffffc
0056f38f : PUSH -0x1
0056f391 : LEA EAX,[EDI + 0x4]
0056f394 : PUSH EAX
0056f395 : CALL EBX
0056f397 : SUB EAX,0x1
0056f39a : JNZ 0x0056f3a2
0056f39c : PUSH EDI
0056f39d : CALL 0x00515cf0
0056f3a2 : PUSH 0x1
0056f3a4 : ADD ESI,0x20
0056f3a7 : PUSH ESI
0056f3a8 : CALL dword ptr [0x00b85108]
0056f3ae : MOV ESI,dword ptr [ESP + 0xc]
0056f3b2 : AND ESI,0xfffffffc
0056f3b5 : PUSH -0x1
0056f3b7 : LEA ECX,[ESI + 0x4]
0056f3ba : PUSH ECX
0056f3bb : CALL EBX
0056f3bd : SUB EAX,0x1
0056f3c0 : JNZ 0x0056f3c8
0056f3c2 : PUSH ESI
0056f3c3 : CALL 0x00515cf0
0056f3c8 : MOV ESI,dword ptr [ESP + 0x1c]
0056f3cc : AND ESI,0xfffffffc
0056f3cf : PUSH -0x1
0056f3d1 : LEA EDX,[ESI + 0x4]
0056f3d4 : PUSH EDX
0056f3d5 : CALL EBX
0056f3d7 : SUB EAX,0x1
0056f3da : JNZ 0x0056f3e2
0056f3dc : PUSH ESI
0056f3dd : CALL 0x00515cf0
0056f3e2 : MOV ESI,dword ptr [ESP + 0x18]
0056f3e6 : AND ESI,0xfffffffc
0056f3e9 : PUSH -0x1
0056f3eb : LEA EAX,[ESI + 0x4]
0056f3ee : PUSH EAX
0056f3ef : CALL EBX
0056f3f1 : SUB EAX,0x1
0056f3f4 : JNZ 0x0056f3fc
0056f3f6 : PUSH ESI
0056f3f7 : CALL 0x00515cf0
0056f3fc : POP EDI
0056f3fd : POP ESI
0056f3fe : POP EBX
0056f3ff : ADD ESP,0x14
0056f402 : RET
