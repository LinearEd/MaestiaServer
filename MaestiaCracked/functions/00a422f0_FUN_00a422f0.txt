PROGRAM  : Maestia.exe
FUNCTION : FUN_00a422f0
ENTRY    : 00a422f0
BODY     : [[00a422f0, 00a42501]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00a422f0(HWND param_1,uint param_2,uint param_3,uint param_4)

{
  int iVar1;
  char cVar2;
  int in_ECX;
  
  if (*(char *)(DAT_0172491c + 0xc1) != '\0') {
    return 0;
  }
  if (((*DAT_00da9894 != 0) && (iVar1 = *(int *)(*DAT_00da9894 + 0x128), iVar1 != 0)) &&
     (param_2 == 0x200)) {
    FUN_0097fa30(iVar1);
  }
  if (((*(char *)(in_ECX + 0x219) == '\0') && (DAT_017251d0 != 0)) &&
     (cVar2 = FUN_007cb1b0(param_1,param_3,param_4), cVar2 != '\0')) {
    return 1;
  }
  if (((*(char *)(DAT_017251d4 + 0x34) == '\0') || (param_3 == 0x1b)) &&
     ((*(char *)(in_ECX + 0x286) != '\0' &&
      ((*(char *)(in_ECX + 0x4c0) == '\0' && (cVar2 = FUN_00a177d0(), cVar2 != '\0')))))) {
    if ((*DAT_00da9894 != 0) &&
       ((*(int *)(*DAT_00da9894 + 0x170) != 0 && ((param_2 == 0x202 || (param_2 == 0x205)))))) {
      FUN_008eb150();
    }
    if (*(char *)(DAT_0172491c + 0x340) == '\0') {
      if (*(char *)(DAT_0172491c + 0x34c) == '\0') {
        if (param_2 != 0x113) {
          return 0;
        }
      }
      else {
        if (0x113 < param_2) {
          switch(param_2) {
          case 0x200:
          case 0x201:
          case 0x202:
          case 0x203:
          case 0x204:
          case 0x205:
          case 0x207:
          case 0x208:
          case 0x209:
          case 0x20a:
            goto switchD_00a42499_caseD_200;
          default:
            return 0;
          }
        }
        if (param_2 != 0x113) {
          switch(param_2) {
          case 0x100:
          case 0x104:
            goto switchD_00a42449_caseD_100;
          case 0x101:
          case 0x105:
            FUN_00a421f0(1);
            return 0;
          default:
            return 0;
          }
        }
      }
      if (param_3 == 1) {
        KillTimer(param_1,1);
        return 0;
      }
    }
  }
  return 0;
switchD_00a42449_caseD_100:
  if ((param_4 & 0x40000000) != 0) {
    return 0;
  }
  FUN_00a421f0(0);
  return 0;
switchD_00a42499_caseD_200:
  FUN_00a3cfc0(in_ECX,param_2,(int)(short)param_4,(int)(short)(param_4 >> 0x10),param_3 >> 0x10);
  if ((param_2 == 0x204) || (param_2 == 0x201)) {
    SetCapture(param_1);
    return 0;
  }
  if ((param_2 != 0x205) && (param_2 != 0x202)) {
    return 0;
  }
  ReleaseCapture();
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00a422f0 : PUSH EBP
00a422f1 : MOV EBP,ESP
00a422f3 : PUSH ECX
00a422f4 : MOV EAX,[0x0172491c]
00a422f9 : CMP byte ptr [EAX + 0xc1],0x0
00a42300 : PUSH ESI
00a42301 : MOV ESI,ECX
00a42303 : MOV dword ptr [EBP + -0x4],ESI
00a42306 : JZ 0x00a42311
00a42308 : XOR AL,AL
00a4230a : POP ESI
00a4230b : MOV ESP,EBP
00a4230d : POP EBP
00a4230e : RET 0x10
00a42311 : MOV ECX,dword ptr [0x00da9894]
00a42317 : MOV EAX,dword ptr [ECX]
00a42319 : PUSH EBX
00a4231a : MOV EBX,dword ptr [EBP + 0xc]
00a4231d : PUSH EDI
00a4231e : TEST EAX,EAX
00a42320 : JZ 0x00a42347
00a42322 : MOV EAX,dword ptr [EAX + 0x128]
00a42328 : TEST EAX,EAX
00a4232a : JZ 0x00a42347
00a4232c : CMP EBX,0x200
00a42332 : JNZ 0x00a42347
00a42334 : MOV EDI,dword ptr [EBP + 0x14]
00a42337 : MOV ECX,EDI
00a42339 : MOVZX EDX,DI
00a4233c : SHR ECX,0x10
00a4233f : PUSH EAX
00a42340 : CALL 0x0097fa30
00a42345 : JMP 0x00a4234a
00a42347 : MOV EDI,dword ptr [EBP + 0x14]
00a4234a : CMP byte ptr [ESI + 0x219],0x0
00a42351 : JNZ 0x00a42380
00a42353 : MOV EAX,[0x017251d0]
00a42358 : TEST EAX,EAX
00a4235a : JZ 0x00a42380
00a4235c : MOV EDX,dword ptr [EBP + 0x10]
00a4235f : MOV ECX,dword ptr [EBP + 0x8]
00a42362 : PUSH EDI
00a42363 : PUSH EDX
00a42364 : PUSH ECX
00a42365 : MOV ESI,EBX
00a42367 : MOV EDI,EAX
00a42369 : CALL 0x007cb1b0
00a4236e : TEST AL,AL
00a42370 : JZ 0x00a4237d
00a42372 : POP EDI
00a42373 : POP EBX
00a42374 : MOV AL,0x1
00a42376 : POP ESI
00a42377 : MOV ESP,EBP
00a42379 : POP EBP
00a4237a : RET 0x10
00a4237d : MOV ESI,dword ptr [EBP + -0x4]
00a42380 : MOV EDX,dword ptr [0x017251d4]
00a42386 : CMP byte ptr [EDX + 0x34],0x0
00a4238a : MOV EDI,dword ptr [EBP + 0x10]
00a4238d : JZ 0x00a42398
00a4238f : CMP EDI,0x1b
00a42392 : JNZ 0x00a424f7
00a42398 : CMP byte ptr [ESI + 0x286],0x0
00a4239f : JZ 0x00a424f7
00a423a5 : CMP byte ptr [ESI + 0x4c0],0x0
00a423ac : JNZ 0x00a424f7
00a423b2 : MOV EAX,EBX
00a423b4 : CALL 0x00a177d0
00a423b9 : TEST AL,AL
00a423bb : JZ 0x00a424f7
00a423c1 : MOV EAX,[0x00da9894]
00a423c6 : MOV ESI,dword ptr [EAX]
00a423c8 : TEST ESI,ESI
00a423ca : JZ 0x00a423ea
00a423cc : CMP dword ptr [ESI + 0x170],0x0
00a423d3 : JZ 0x00a423ea
00a423d5 : CMP EBX,0x202
00a423db : JZ 0x00a423e5
00a423dd : CMP EBX,0x205
00a423e3 : JNZ 0x00a423ea
00a423e5 : CALL 0x008eb150
00a423ea : MOV EAX,[0x0172491c]
00a423ef : CMP byte ptr [EAX + 0x340],0x0
00a423f6 : JNZ 0x00a424f7
00a423fc : CMP byte ptr [EAX + 0x34c],0x0
00a42403 : JNZ 0x00a42430
00a42405 : CMP EBX,0x113
00a4240b : JNZ 0x00a424f7
00a42411 : CMP EDI,0x1
00a42414 : JNZ 0x00a424f7
00a4241a : MOV ECX,dword ptr [EBP + 0x8]
00a4241d : PUSH EDI
00a4241e : PUSH ECX
00a4241f : CALL dword ptr [0x00b85448]
00a42425 : POP EDI
00a42426 : POP EBX
00a42427 : XOR AL,AL
00a42429 : POP ESI
00a4242a : MOV ESP,EBP
00a4242c : POP EBP
00a4242d : RET 0x10
00a42430 : CMP EBX,0x113
00a42436 : JA 0x00a42487
00a42438 : JZ 0x00a42411
00a4243a : ADD EBX,0xffffff00
00a42440 : CMP EBX,0x5
00a42443 : JA 0x00a424f7
00a42449 : JMP dword ptr [EBX*0x4 + 0xa42504]
00a42450 : TEST dword ptr [EBP + 0x14],0x40000000
00a42457 : JNZ 0x00a424f7
00a4245d : MOV EAX,dword ptr [EBP + -0x4]
00a42460 : PUSH 0x0
00a42462 : CALL 0x00a421f0
00a42467 : POP EDI
00a42468 : POP EBX
00a42469 : XOR AL,AL
00a4246b : POP ESI
00a4246c : MOV ESP,EBP
00a4246e : POP EBP
00a4246f : RET 0x10
00a42472 : MOV EAX,dword ptr [EBP + -0x4]
00a42475 : PUSH 0x1
00a42477 : CALL 0x00a421f0
00a4247c : POP EDI
00a4247d : POP EBX
00a4247e : XOR AL,AL
00a42480 : POP ESI
00a42481 : MOV ESP,EBP
00a42483 : POP EBP
00a42484 : RET 0x10
00a42487 : LEA EAX,[EBX + 0xfffffe00]
00a4248d : CMP EAX,0xa
00a42490 : JA 0x00a424f7
00a42492 : MOVZX EDX,byte ptr [EAX + 0xa42524]
00a42499 : JMP dword ptr [EDX*0x4 + 0xa4251c]
00a424a0 : MOV EAX,dword ptr [EBP + 0x14]
00a424a3 : MOV ECX,EAX
00a424a5 : SHR ECX,0x10
00a424a8 : MOVSX EDX,CX
00a424ab : MOV ECX,dword ptr [EBP + -0x4]
00a424ae : SHR EDI,0x10
00a424b1 : PUSH EDI
00a424b2 : PUSH EDX
00a424b3 : CWDE
00a424b4 : PUSH EAX
00a424b5 : PUSH EBX
00a424b6 : PUSH ECX
00a424b7 : CALL 0x00a3cfc0
00a424bc : CMP EBX,0x204
00a424c2 : JZ 0x00a424ed
00a424c4 : CMP EBX,0x201
00a424ca : JZ 0x00a424ed
00a424cc : CMP EBX,0x205
00a424d2 : JZ 0x00a424dc
00a424d4 : CMP EBX,0x202
00a424da : JNZ 0x00a424f7
00a424dc : CALL dword ptr [0x00b85444]
00a424e2 : POP EDI
00a424e3 : POP EBX
00a424e4 : XOR AL,AL
00a424e6 : POP ESI
00a424e7 : MOV ESP,EBP
00a424e9 : POP EBP
00a424ea : RET 0x10
00a424ed : MOV EDX,dword ptr [EBP + 0x8]
00a424f0 : PUSH EDX
00a424f1 : CALL dword ptr [0x00b85440]
00a424f7 : POP EDI
00a424f8 : POP EBX
00a424f9 : XOR AL,AL
00a424fb : POP ESI
00a424fc : MOV ESP,EBP
00a424fe : POP EBP
00a424ff : RET 0x10
