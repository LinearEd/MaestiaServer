PROGRAM  : Maestia.exe
FUNCTION : FUN_008cb6b0
ENTRY    : 008cb6b0
BODY     : [[008cb6b0, 008cb898]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008cb6b0(uint param_1)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  int in_ECX;
  undefined4 ***pppuVar5;
  uint local_54;
  uint local_38;
  int local_34;
  undefined4 **local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1d46e;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_18 = 7;
  local_1c = 0;
  local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
  local_14 = uVar3;
  FUN_00406360(&DAT_00c537dc,0);
  local_8 = 0;
  iVar1 = *DAT_00da9894;
  if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
    (**(code **)**(undefined4 **)(iVar1 + 0x114))("ClearSelectTreeSlot",uVar3);
  }
  FUN_004437f0(in_ECX + 0x80);
  if ((local_34 != *(int *)(in_ECX + 0x48)) && (param_1 != 0)) {
    iVar2 = **(int **)(*(int *)(local_34 + 0x10) + 4);
    iVar1 = *(int *)(*(int *)(local_34 + 0x10) + 4);
    while (iVar2 != iVar1) {
      if (*(ushort *)(iVar2 + 0x3c) == param_1) {
        uVar4 = FUN_00404750(L"%d|%d|",*(undefined2 *)(iVar2 + 0x3c),1);
        local_8._0_1_ = 1;
        FUN_00405c30(uVar4,0,0xffffffff);
        local_8 = (uint)local_8._1_3_ << 8;
        if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_38 = 7;
      }
      else {
        uVar4 = FUN_00404750(L"%d|%d|",*(undefined2 *)(iVar2 + 0x3c),0);
        local_8._0_1_ = 2;
        FUN_00405c30(uVar4,0,0xffffffff);
        local_8 = (uint)local_8._1_3_ << 8;
        if (7 < local_54) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_54 = 7;
      }
      FUN_0042e580();
      iVar1 = *(int *)(*(int *)(local_34 + 0x10) + 4);
    }
    iVar1 = *DAT_00da9894;
    if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
      pppuVar5 = (undefined4 ***)local_2c[0];
      if (local_18 < 8) {
        pppuVar5 = local_2c;
      }
      (**(code **)(**(int **)(iVar1 + 0x114) + 4))
                (*(int **)(iVar1 + 0x114),"SetSelectTreeSlot",&DAT_00c53814,pppuVar5);
    }
  }
  local_8 = 0xffffffff;
  if (local_18 < 8) {
    local_18 = 7;
    local_1c = 0;
    local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
    ExceptionList = local_10;
    __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
008cb6b0 : PUSH EBP
008cb6b1 : MOV EBP,ESP
008cb6b3 : PUSH -0x1
008cb6b5 : PUSH 0xb1d46e
008cb6ba : MOV EAX,FS:[0x0]
008cb6c0 : PUSH EAX
008cb6c1 : SUB ESP,0x5c
008cb6c4 : MOV EAX,[0x00d66fa0]
008cb6c9 : XOR EAX,EBP
008cb6cb : MOV dword ptr [EBP + -0x10],EAX
008cb6ce : PUSH EBX
008cb6cf : PUSH ESI
008cb6d0 : PUSH EDI
008cb6d1 : PUSH EAX
008cb6d2 : LEA EAX,[EBP + -0xc]
008cb6d5 : MOV FS:[0x0],EAX
008cb6db : XOR EBX,EBX
008cb6dd : PUSH EBX
008cb6de : MOV ESI,ECX
008cb6e0 : XOR EAX,EAX
008cb6e2 : PUSH 0xc537dc
008cb6e7 : LEA ECX,[EBP + -0x2c]
008cb6ea : MOV dword ptr [EBP + -0x14],0x7
008cb6f1 : MOV dword ptr [EBP + -0x18],EBX
008cb6f4 : MOV word ptr [EBP + -0x28],AX
008cb6f8 : CALL 0x00406360
008cb6fd : MOV dword ptr [EBP + -0x4],EBX
008cb700 : MOV ECX,dword ptr [0x00da9894]
008cb706 : MOV EAX,dword ptr [ECX]
008cb708 : CMP EAX,EBX
008cb70a : JZ 0x008cb727
008cb70c : CMP dword ptr [EAX + 0x114],EBX
008cb712 : JZ 0x008cb727
008cb714 : MOV EAX,dword ptr [EAX + 0x114]
008cb71a : MOV EDX,dword ptr [EAX]
008cb71c : MOV ECX,EAX
008cb71e : MOV EAX,dword ptr [EDX]
008cb720 : PUSH 0xc537e0
008cb725 : CALL EAX
008cb727 : LEA ECX,[ESI + 0x80]
008cb72d : PUSH ECX
008cb72e : LEA ECX,[ESI + 0x44]
008cb731 : LEA EAX,[EBP + -0x30]
008cb734 : CALL 0x004437f0
008cb739 : MOV ESI,dword ptr [ESI + 0x48]
008cb73c : MOV EDI,dword ptr [EBP + -0x30]
008cb73f : CMP EDI,ESI
008cb741 : JZ 0x008cb856
008cb747 : CMP dword ptr [EBP + 0x8],EBX
008cb74a : JZ 0x008cb856
008cb750 : MOV EAX,dword ptr [EDI + 0x10]
008cb753 : MOV EAX,dword ptr [EAX + 0x4]
008cb756 : MOV EAX,dword ptr [EAX]
008cb758 : MOV ECX,dword ptr [EDI + 0x10]
008cb75b : MOV dword ptr [EBP + -0x30],EAX
008cb75e : CMP EAX,dword ptr [ECX + 0x4]
008cb761 : JZ 0x008cb81a
008cb767 : MOVZX EDX,word ptr [EAX + 0x3c]
008cb76b : CMP EDX,dword ptr [EBP + 0x8]
008cb76e : JNZ 0x008cb7ba
008cb770 : MOVZX EAX,word ptr [EAX + 0x3c]
008cb774 : PUSH 0x1
008cb776 : PUSH EAX
008cb777 : PUSH 0xc537f4
008cb77c : LEA ESI,[EBP + -0x4c]
008cb77f : CALL 0x00404750
008cb784 : ADD ESP,0xc
008cb787 : MOV byte ptr [EBP + -0x4],0x1
008cb78b : PUSH -0x1
008cb78d : PUSH EBX
008cb78e : PUSH EAX
008cb78f : LEA ECX,[EBP + -0x2c]
008cb792 : CALL 0x00405c30
008cb797 : MOV byte ptr [EBP + -0x4],BL
008cb79a : CMP dword ptr [EBP + -0x34],0x8
008cb79e : JC 0x008cb7a8
008cb7a0 : MOV ECX,dword ptr [EBP + -0x48]
008cb7a3 : CALL 0x006f04e0
008cb7a8 : XOR ECX,ECX
008cb7aa : MOV dword ptr [EBP + -0x34],0x7
008cb7b1 : MOV dword ptr [EBP + -0x38],EBX
008cb7b4 : MOV word ptr [EBP + -0x48],CX
008cb7b8 : JMP 0x008cb801
008cb7ba : MOVZX EDX,word ptr [EAX + 0x3c]
008cb7be : PUSH EBX
008cb7bf : PUSH EDX
008cb7c0 : PUSH 0xc53804
008cb7c5 : LEA ESI,[EBP + -0x68]
008cb7c8 : CALL 0x00404750
008cb7cd : ADD ESP,0xc
008cb7d0 : MOV byte ptr [EBP + -0x4],0x2
008cb7d4 : PUSH -0x1
008cb7d6 : PUSH EBX
008cb7d7 : PUSH EAX
008cb7d8 : LEA ECX,[EBP + -0x2c]
008cb7db : CALL 0x00405c30
008cb7e0 : MOV byte ptr [EBP + -0x4],BL
008cb7e3 : CMP dword ptr [EBP + -0x50],0x8
008cb7e7 : JC 0x008cb7f1
008cb7e9 : MOV ECX,dword ptr [EBP + -0x64]
008cb7ec : CALL 0x006f04e0
008cb7f1 : XOR EAX,EAX
008cb7f3 : MOV dword ptr [EBP + -0x50],0x7
008cb7fa : MOV dword ptr [EBP + -0x54],EBX
008cb7fd : MOV word ptr [EBP + -0x64],AX
008cb801 : LEA EDX,[EBP + -0x30]
008cb804 : CALL 0x0042e580
008cb809 : MOV EAX,dword ptr [EDI + 0x10]
008cb80c : MOV ECX,dword ptr [EAX + 0x4]
008cb80f : MOV EAX,dword ptr [EBP + -0x30]
008cb812 : CMP EAX,ECX
008cb814 : JNZ 0x008cb767
008cb81a : MOV ECX,dword ptr [0x00da9894]
008cb820 : MOV EAX,dword ptr [ECX]
008cb822 : CMP EAX,EBX
008cb824 : JZ 0x008cb856
008cb826 : CMP dword ptr [EAX + 0x114],EBX
008cb82c : JZ 0x008cb856
008cb82e : CMP dword ptr [EBP + -0x14],0x8
008cb832 : MOV EAX,dword ptr [EAX + 0x114]
008cb838 : MOV ECX,dword ptr [EBP + -0x28]
008cb83b : JNC 0x008cb840
008cb83d : LEA ECX,[EBP + -0x28]
008cb840 : MOV EDX,dword ptr [EAX]
008cb842 : PUSH ECX
008cb843 : PUSH 0xc53814
008cb848 : PUSH 0xc53818
008cb84d : PUSH EAX
008cb84e : MOV EAX,dword ptr [EDX + 0x4]
008cb851 : CALL EAX
008cb853 : ADD ESP,0x10
008cb856 : MOV dword ptr [EBP + -0x4],0xffffffff
008cb85d : CMP dword ptr [EBP + -0x14],0x8
008cb861 : JC 0x008cb86b
008cb863 : MOV ECX,dword ptr [EBP + -0x28]
008cb866 : CALL 0x006f04e0
008cb86b : XOR ECX,ECX
008cb86d : MOV dword ptr [EBP + -0x14],0x7
008cb874 : MOV dword ptr [EBP + -0x18],EBX
008cb877 : MOV word ptr [EBP + -0x28],CX
008cb87b : MOV ECX,dword ptr [EBP + -0xc]
008cb87e : MOV dword ptr FS:[0x0],ECX
008cb885 : POP ECX
008cb886 : POP EDI
008cb887 : POP ESI
008cb888 : POP EBX
008cb889 : MOV ECX,dword ptr [EBP + -0x10]
008cb88c : XOR ECX,EBP
008cb88e : CALL 0x00633e6b
008cb893 : MOV ESP,EBP
008cb895 : POP EBP
008cb896 : RET 0x4
