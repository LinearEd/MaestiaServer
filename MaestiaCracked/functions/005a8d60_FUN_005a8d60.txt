PROGRAM  : Maestia.exe
FUNCTION : FUN_005a8d60
ENTRY    : 005a8d60
BODY     : [[005a8d60, 005a8e17]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005a8d60(int *param_1)

{
  int iVar1;
  undefined4 *in_ECX;
  uint uVar2;
  
  iVar1 = param_1[6];
  if ((int *)in_ECX[0x89] != (int *)0x0) {
    (**(code **)(*(int *)in_ECX[0x89] + 8))(*in_ECX,iVar1);
  }
  in_ECX[0x83] = in_ECX[0x83] - iVar1;
  FUN_005aa050(param_1[7],iVar1);
  uVar2 = 1 << (*(byte *)((int)param_1 + 0xe) & 0x1f);
  if ((param_1[4] & 0x80000000U) == 0) {
    if (uVar2 < 0x1001) {
      uVar2 = 0x1000;
    }
    (**(code **)(*(int *)in_ECX[1] + 8))(param_1[7],iVar1,uVar2);
  }
  else {
    in_ECX[0x83] = in_ECX[0x83] - (param_1[4] & 0x7fffffffU);
    (**(code **)(*(int *)in_ECX[1] + 0x14))
              (param_1[7] - (param_1[4] & 0x7fffffffU),(param_1[4] & 0x7fffffffU) + iVar1,uVar2);
  }
  *(int *)(*param_1 + 4) = param_1[1];
  *(int *)param_1[1] = *param_1;
  FUN_005a87d0(param_1,param_1[2]);
  return;
}



============================================================
DISASSEMBLY
============================================================
005a8d60 : PUSH EBX
005a8d61 : PUSH ESI
005a8d62 : MOV ESI,dword ptr [ESP + 0xc]
005a8d66 : MOV EBX,dword ptr [ESI + 0x18]
005a8d69 : PUSH EDI
005a8d6a : MOV EDI,ECX
005a8d6c : MOV ECX,dword ptr [EDI + 0x224]
005a8d72 : TEST ECX,ECX
005a8d74 : JZ 0x005a8d81
005a8d76 : MOV EAX,dword ptr [ECX]
005a8d78 : MOV EDX,dword ptr [EDI]
005a8d7a : MOV EAX,dword ptr [EAX + 0x8]
005a8d7d : PUSH EBX
005a8d7e : PUSH EDX
005a8d7f : CALL EAX
005a8d81 : SUB dword ptr [EDI + 0x20c],EBX
005a8d87 : MOV ECX,dword ptr [ESI + 0x1c]
005a8d8a : PUSH EBX
005a8d8b : PUSH ECX
005a8d8c : MOV ECX,dword ptr [0x00d7b334]
005a8d92 : CALL 0x005aa050
005a8d97 : MOV CL,byte ptr [ESI + 0xe]
005a8d9a : MOV EDX,0x1
005a8d9f : SHL EDX,CL
005a8da1 : TEST dword ptr [ESI + 0x10],0x80000000
005a8da8 : JZ 0x005a8dd9
005a8daa : MOV EAX,dword ptr [ESI + 0x10]
005a8dad : MOV ECX,dword ptr [EDI + 0x4]
005a8db0 : AND EAX,0x7fffffff
005a8db5 : SUB dword ptr [EDI + 0x20c],EAX
005a8dbb : MOV EAX,dword ptr [ESI + 0x10]
005a8dbe : PUSH EBP
005a8dbf : MOV EBP,dword ptr [ECX]
005a8dc1 : PUSH EDX
005a8dc2 : AND EAX,0x7fffffff
005a8dc7 : LEA EDX,[EAX + EBX*0x1]
005a8dca : PUSH EDX
005a8dcb : MOV EDX,dword ptr [ESI + 0x1c]
005a8dce : SUB EDX,EAX
005a8dd0 : MOV EAX,dword ptr [EBP + 0x14]
005a8dd3 : PUSH EDX
005a8dd4 : CALL EAX
005a8dd6 : POP EBP
005a8dd7 : JMP 0x005a8df6
005a8dd9 : CMP EDX,0x1000
005a8ddf : JA 0x005a8de6
005a8de1 : MOV EDX,0x1000
005a8de6 : MOV ECX,dword ptr [EDI + 0x4]
005a8de9 : MOV EAX,dword ptr [ECX]
005a8deb : MOV EAX,dword ptr [EAX + 0x8]
005a8dee : PUSH EDX
005a8def : MOV EDX,dword ptr [ESI + 0x1c]
005a8df2 : PUSH EBX
005a8df3 : PUSH EDX
005a8df4 : CALL EAX
005a8df6 : MOV ECX,dword ptr [ESI]
005a8df8 : MOV EDX,dword ptr [ESI + 0x4]
005a8dfb : MOV dword ptr [ECX + 0x4],EDX
005a8dfe : MOV ECX,dword ptr [ESI]
005a8e00 : MOV EAX,dword ptr [ESI + 0x4]
005a8e03 : MOV dword ptr [EAX],ECX
005a8e05 : MOV EDX,dword ptr [ESI + 0x8]
005a8e08 : MOV ECX,dword ptr [EDI + 0x8]
005a8e0b : PUSH EDX
005a8e0c : PUSH ESI
005a8e0d : CALL 0x005a87d0
005a8e12 : POP EDI
005a8e13 : POP ESI
005a8e14 : POP EBX
005a8e15 : RET 0x4
