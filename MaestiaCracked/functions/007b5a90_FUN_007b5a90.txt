PROGRAM  : Maestia.exe
FUNCTION : FUN_007b5a90
ENTRY    : 007b5a90
BODY     : [[007b5a90, 007b5cf1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007b5a90(int param_1)

{
  float fVar1;
  float fVar2;
  int iVar3;
  float fVar4;
  char cVar5;
  int in_EAX;
  uint uVar6;
  int in_ECX;
  float *pfVar7;
  float *pfVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  uint *puVar11;
  float fVar12;
  float fVar13;
  uint *local_30;
  int local_2c;
  int local_14;
  
  if (0 < in_EAX) {
    cVar5 = FUN_0046b810(in_ECX,in_EAX);
    if (cVar5 == '\0') {
      *(undefined4 *)(in_ECX + 8) = *(undefined4 *)(in_ECX + 0xc);
    }
    else {
      *(int *)(in_ECX + 8) = in_EAX;
    }
    iVar3 = *(int *)(in_ECX + 4);
    FUN_00457090();
    if (0 < in_EAX) {
      pfVar8 = (float *)(iVar3 + 0x2c);
      pfVar7 = (float *)(iVar3 + 0x28);
      puVar9 = (undefined4 *)(iVar3 + 0x38);
      puVar10 = (undefined4 *)(iVar3 + 0xc);
      local_14 = (in_EAX - 1U >> 2) + 1;
      do {
        fVar1 = *(float *)(param_1 + 0xb75c);
        fVar12 = -fVar1;
        if (local_2c == 0) {
          FUN_00457130();
        }
        puVar11 = local_30 + 1;
        uVar6 = *local_30 ^ *local_30 >> 0xb;
        uVar6 = uVar6 ^ (uVar6 & 0xff3a58ad) << 7;
        uVar6 = uVar6 ^ (uVar6 & 0xffffdf8c) << 0xf;
        uVar6 = uVar6 >> 0x12 ^ uVar6;
        fVar4 = (float)(int)uVar6;
        if ((int)uVar6 < 0) {
          fVar4 = fVar4 + 4.2949673e+09;
        }
        fVar2 = *(float *)(param_1 + 0xb75c);
        fVar13 = -fVar2;
        fVar12 = (fVar4 + DAT_00d72c24) * 2.3283064e-10 * (fVar1 - fVar12) + fVar12;
        if (local_2c == 1) {
          FUN_00457130();
        }
        local_2c = local_2c + -2;
        local_30 = local_30 + 2;
        uVar6 = *puVar11 ^ *puVar11 >> 0xb;
        uVar6 = uVar6 ^ (uVar6 & 0xff3a58ad) << 7;
        uVar6 = uVar6 ^ (uVar6 & 0xffffdf8c) << 0xf;
        uVar6 = uVar6 >> 0x12 ^ uVar6;
        fVar1 = (float)(int)uVar6;
        if ((int)uVar6 < 0) {
          fVar1 = fVar1 + 4.2949673e+09;
        }
        fVar1 = fVar1 + DAT_00d72c24;
        *puVar10 = 0;
        *puVar9 = 0x3f800000;
        *pfVar7 = fVar12;
        fVar13 = fVar1 * 2.3283064e-10 * (fVar2 - fVar13) + fVar13;
        *pfVar8 = fVar13;
        puVar10[0x14] = 0x3f800000;
        pfVar8[0x14] = fVar13;
        puVar9[0x14] = 0x3f800000;
        pfVar7[0x14] = fVar12;
        puVar10[0x28] = 0x40000000;
        puVar9[0x28] = 0;
        pfVar7[0x28] = fVar12;
        pfVar8[0x28] = fVar13;
        puVar10[0x3c] = 0x40400000;
        puVar9[0x3c] = 0;
        pfVar7[0x3c] = fVar12;
        pfVar8[0x3c] = fVar13;
        pfVar7 = pfVar7 + 0x50;
        pfVar8 = pfVar8 + 0x50;
        puVar10 = puVar10 + 0x50;
        puVar9 = puVar9 + 0x50;
        local_14 = local_14 + -1;
      } while (local_14 != 0);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007b5a90 : PUSH EBP
007b5a91 : MOV EBP,ESP
007b5a93 : SUB ESP,0x9f8
007b5a99 : PUSH EBX
007b5a9a : PUSH ESI
007b5a9b : PUSH EDI
007b5a9c : MOV EDI,EAX
007b5a9e : MOV ESI,ECX
007b5aa0 : TEST EDI,EDI
007b5aa2 : JLE 0x007b5ce9
007b5aa8 : PUSH EDI
007b5aa9 : PUSH ESI
007b5aaa : CALL 0x0046b810
007b5aaf : TEST AL,AL
007b5ab1 : JZ 0x007b5ab8
007b5ab3 : MOV dword ptr [ESI + 0x8],EDI
007b5ab6 : JMP 0x007b5abe
007b5ab8 : MOV EAX,dword ptr [ESI + 0xc]
007b5abb : MOV dword ptr [ESI + 0x8],EAX
007b5abe : MOV ESI,dword ptr [ESI + 0x4]
007b5ac1 : LEA EAX,[EBP + 0xfffff60c]
007b5ac7 : CALL 0x00457090
007b5acc : TEST EDI,EDI
007b5ace : JLE 0x007b5ce9
007b5ad4 : XORPS XMM1,XMM1
007b5ad7 : MOVSS XMM2,dword ptr [0x00c10fc4]
007b5adf : LEA EAX,[EDI + -0x1]
007b5ae2 : LEA EDX,[ESI + 0x2c]
007b5ae5 : LEA ECX,[ESI + 0x28]
007b5ae8 : LEA EBX,[ESI + 0x38]
007b5aeb : SHR EAX,0x2
007b5aee : ADD ESI,0xc
007b5af1 : INC EAX
007b5af2 : MOV dword ptr [EBP + -0x8],EDX
007b5af5 : MOV dword ptr [EBP + -0xc],ECX
007b5af8 : MOV dword ptr [EBP + -0x10],EAX
007b5afb : CMP dword ptr [EBP + -0x28],0x0
007b5aff : MOV EAX,dword ptr [EBP + 0x8]
007b5b02 : MOVSS XMM0,dword ptr [EAX + 0xb75c]
007b5b0a : MOVAPS XMM3,XMM0
007b5b0d : XORPS XMM3,xmmword ptr [0x00cdf0c0]
007b5b14 : MOVSS dword ptr [EBP + -0x18],XMM3
007b5b19 : MOVSS dword ptr [EBP + -0x20],XMM0
007b5b1e : JNZ 0x007b5b3c
007b5b20 : LEA EDI,[EBP + 0xfffff60c]
007b5b26 : CALL 0x00457130
007b5b2b : XORPS XMM1,XMM1
007b5b2e : MOVSS XMM2,dword ptr [0x00c10fc4]
007b5b36 : MOV ECX,dword ptr [EBP + -0xc]
007b5b39 : MOV EDX,dword ptr [EBP + -0x8]
007b5b3c : MOV EDI,dword ptr [EBP + -0x2c]
007b5b3f : DEC dword ptr [EBP + -0x28]
007b5b42 : MOV EAX,dword ptr [EDI]
007b5b44 : ADD EDI,0x4
007b5b47 : MOV dword ptr [EBP + -0x2c],EDI
007b5b4a : MOV EDI,EAX
007b5b4c : SHR EDI,0xb
007b5b4f : XOR EAX,EDI
007b5b51 : MOV EDI,EAX
007b5b53 : AND EDI,0xff3a58ad
007b5b59 : SHL EDI,0x7
007b5b5c : XOR EAX,EDI
007b5b5e : MOV EDI,EAX
007b5b60 : AND EDI,0xffffdf8c
007b5b66 : SHL EDI,0xf
007b5b69 : XOR EAX,EDI
007b5b6b : MOV EDI,EAX
007b5b6d : SHR EDI,0x12
007b5b70 : XOR EDI,EAX
007b5b72 : MOV dword ptr [EBP + -0x14],EDI
007b5b75 : FILD dword ptr [EBP + -0x14]
007b5b78 : TEST EDI,EDI
007b5b7a : JGE 0x007b5b82
007b5b7c : FADD float ptr [0x00cdf0e0]
007b5b82 : CMP dword ptr [EBP + -0x28],0x0
007b5b86 : FADD float ptr [0x00d72c24]
007b5b8c : MOV EAX,dword ptr [EBP + 0x8]
007b5b8f : MOVSS XMM0,dword ptr [EAX + 0xb75c]
007b5b97 : FMUL float ptr [0x00cdf324]
007b5b9d : MOVAPS XMM3,XMM0
007b5ba0 : FLD float ptr [EBP + -0x20]
007b5ba3 : XORPS XMM3,xmmword ptr [0x00cdf0c0]
007b5baa : FLD float ptr [EBP + -0x18]
007b5bad : MOVSS dword ptr [EBP + -0x1c],XMM3
007b5bb2 : FSUB ST1,ST0
007b5bb4 : MOVSS dword ptr [EBP + -0x24],XMM0
007b5bb9 : FXCH ST2
007b5bbb : FMULP
007b5bbd : FADDP
007b5bbf : FSTP float ptr [EBP + -0x14]
007b5bc2 : JNZ 0x007b5be0
007b5bc4 : LEA EDI,[EBP + 0xfffff60c]
007b5bca : CALL 0x00457130
007b5bcf : XORPS XMM1,XMM1
007b5bd2 : MOVSS XMM2,dword ptr [0x00c10fc4]
007b5bda : MOV ECX,dword ptr [EBP + -0xc]
007b5bdd : MOV EDX,dword ptr [EBP + -0x8]
007b5be0 : MOV EDI,dword ptr [EBP + -0x2c]
007b5be3 : DEC dword ptr [EBP + -0x28]
007b5be6 : MOV EAX,dword ptr [EDI]
007b5be8 : ADD EDI,0x4
007b5beb : MOV dword ptr [EBP + -0x2c],EDI
007b5bee : MOV EDI,EAX
007b5bf0 : SHR EDI,0xb
007b5bf3 : XOR EAX,EDI
007b5bf5 : MOV EDI,EAX
007b5bf7 : AND EDI,0xff3a58ad
007b5bfd : SHL EDI,0x7
007b5c00 : XOR EAX,EDI
007b5c02 : MOV EDI,EAX
007b5c04 : AND EDI,0xffffdf8c
007b5c0a : SHL EDI,0xf
007b5c0d : XOR EAX,EDI
007b5c0f : MOV EDI,EAX
007b5c11 : SHR EDI,0x12
007b5c14 : XOR EDI,EAX
007b5c16 : MOV dword ptr [EBP + -0x8],EDI
007b5c19 : FILD dword ptr [EBP + -0x8]
007b5c1c : TEST EDI,EDI
007b5c1e : JGE 0x007b5c26
007b5c20 : FADD float ptr [0x00cdf0e0]
007b5c26 : FADD float ptr [0x00d72c24]
007b5c2c : MOVSS XMM0,dword ptr [EBP + -0x14]
007b5c31 : MOVSS XMM3,dword ptr [0x00cdf144]
007b5c39 : MOVSS XMM4,dword ptr [0x00cdf19c]
007b5c41 : FMUL float ptr [0x00cdf324]
007b5c47 : MOVSS dword ptr [ESI],XMM1
007b5c4b : FLD float ptr [EBP + -0x24]
007b5c4e : MOVSS dword ptr [EBX],XMM2
007b5c52 : FLD float ptr [EBP + -0x1c]
007b5c55 : MOVSS dword ptr [ECX],XMM0
007b5c59 : FSUB ST1,ST0
007b5c5b : ADD ESI,0x50
007b5c5e : FXCH ST2
007b5c60 : ADD EBX,0x50
007b5c63 : ADD ECX,0x50
007b5c66 : FMULP
007b5c68 : ADD EDX,0x50
007b5c6b : ADD ESI,0x50
007b5c6e : ADD EBX,0x50
007b5c71 : FADDP
007b5c73 : ADD ECX,0x50
007b5c76 : ADD EDX,0x50
007b5c79 : ADD ESI,0x50
007b5c7c : FST float ptr [EBP + -0x8]
007b5c7f : ADD EBX,0x50
007b5c82 : FST float ptr [EDX + 0xffffff60]
007b5c88 : MOVSS dword ptr [ESI + 0xffffff60],XMM2
007b5c90 : FSTP float ptr [EDX + -0x50]
007b5c93 : MOVSS dword ptr [EBX + 0xffffff60],XMM2
007b5c9b : MOVSS dword ptr [ECX + -0x50],XMM0
007b5ca0 : MOVSS dword ptr [ESI + -0x50],XMM3
007b5ca5 : MOVSS XMM3,dword ptr [EBP + -0x8]
007b5caa : MOVSS dword ptr [EBX + -0x50],XMM1
007b5caf : MOVSS dword ptr [ECX],XMM0
007b5cb3 : MOVSS dword ptr [EDX],XMM3
007b5cb7 : ADD ECX,0x50
007b5cba : ADD EDX,0x50
007b5cbd : MOVSS dword ptr [ESI],XMM4
007b5cc1 : MOVSS dword ptr [EBX],XMM1
007b5cc5 : MOVSS dword ptr [ECX],XMM0
007b5cc9 : MOVSS dword ptr [EDX],XMM3
007b5ccd : ADD ECX,0x50
007b5cd0 : ADD EDX,0x50
007b5cd3 : ADD ESI,0x50
007b5cd6 : ADD EBX,0x50
007b5cd9 : SUB dword ptr [EBP + -0x10],0x1
007b5cdd : MOV dword ptr [EBP + -0xc],ECX
007b5ce0 : MOV dword ptr [EBP + -0x8],EDX
007b5ce3 : JNZ 0x007b5afb
007b5ce9 : POP EDI
007b5cea : POP ESI
007b5ceb : POP EBX
007b5cec : MOV ESP,EBP
007b5cee : POP EBP
007b5cef : RET 0x4
