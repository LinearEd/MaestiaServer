PROGRAM  : Maestia.exe
FUNCTION : FUN_00740ff0
ENTRY    : 00740ff0
BODY     : [[00740ff0, 00741049] [00741050, 007411a8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00740ff0(void)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  int *in_ECX;
  int *piVar4;
  undefined **local_11c [33];
  undefined **local_98;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0fb92;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (in_ECX[2] != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  local_8 = 0;
  piVar4 = *(int **)in_ECX[0x62];
  if (piVar4 != (int *)in_ECX[0x62]) {
    do {
      piVar1 = (int *)piVar4[9];
      if (piVar1 == (int *)0x0) {
        local_8 = 0xffffffff;
        if (in_ECX[2] == 0) {
          ExceptionList = local_10;
          return;
        }
        LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
        ExceptionList = local_10;
        return;
      }
      iVar3 = (**(code **)(*piVar1 + 4))(uVar2);
      if (iVar3 == 0xf) {
        (**(code **)(*piVar1 + 0x2c))();
        FUN_0043d7e0();
        local_8._0_1_ = 1;
        FUN_0079eab0();
        local_8 = (uint)local_8._1_3_ << 8;
        local_98 = &PTR_FUN_00cd083c;
      }
      else {
        iVar3 = (**(code **)(*piVar1 + 4))();
        if ((iVar3 == 2) || (iVar3 = (**(code **)(*piVar1 + 4))(), iVar3 == 1)) {
          (**(code **)(*piVar1 + 0xb0))(local_11c);
          local_8._0_1_ = 2;
          FUN_0079eab0();
          local_8 = (uint)local_8._1_3_ << 8;
          local_11c[0] = &PTR_FUN_00cd083c;
        }
      }
      piVar4 = (int *)*piVar4;
    } while (piVar4 != (int *)in_ECX[0x62]);
  }
  in_ECX[0x12e] = in_ECX[0x10e];
  in_ECX[0x12f] = in_ECX[0x10f];
  in_ECX[0x130] = in_ECX[0x110];
  in_ECX[0x131] = in_ECX[0x111];
  in_ECX[0x132] = in_ECX[0x112];
  in_ECX[0x133] = in_ECX[0x113];
  local_8 = 0xffffffff;
  if (in_ECX[2] != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX[2] + 4));
  }
  (**(code **)(*in_ECX + 0x68))(1,1);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00740ff0 : PUSH EBP
00740ff1 : MOV EBP,ESP
00740ff3 : PUSH -0x1
00740ff5 : PUSH 0xb0fb92
00740ffa : MOV EAX,FS:[0x0]
00741000 : PUSH EAX
00741001 : SUB ESP,0x10c
00741007 : PUSH EBX
00741008 : PUSH ESI
00741009 : PUSH EDI
0074100a : MOV EAX,[0x00d66fa0]
0074100f : XOR EAX,EBP
00741011 : PUSH EAX
00741012 : LEA EAX,[EBP + -0xc]
00741015 : MOV FS:[0x0],EAX
0074101b : MOV EDI,ECX
0074101d : MOV EAX,dword ptr [EDI + 0x8]
00741020 : MOV dword ptr [EBP + -0x10],EDI
00741023 : TEST EAX,EAX
00741025 : JZ 0x00741031
00741027 : ADD EAX,0x4
0074102a : PUSH EAX
0074102b : CALL dword ptr [0x00b85118]
00741031 : MOV dword ptr [EBP + -0x4],0x0
00741038 : MOV EAX,dword ptr [EDI + 0x188]
0074103e : MOV EBX,dword ptr [EAX]
00741040 : CMP EBX,EAX
00741042 : JZ 0x00741100
00741048 : JMP 0x00741050
00741050 : MOV ESI,dword ptr [EBX + 0x24]
00741053 : TEST ESI,ESI
00741055 : JZ 0x0074117f
0074105b : MOV EAX,dword ptr [ESI]
0074105d : MOV EDX,dword ptr [EAX + 0x4]
00741060 : MOV ECX,ESI
00741062 : CALL EDX
00741064 : CMP EAX,0xf
00741067 : MOV EAX,dword ptr [ESI]
00741069 : MOV ECX,ESI
0074106b : JNZ 0x007410a4
0074106d : MOV EDX,dword ptr [EAX + 0x2c]
00741070 : CALL EDX
00741072 : MOV ECX,EAX
00741074 : LEA EAX,[EBP + 0xffffff6c]
0074107a : CALL 0x0043d7e0
0074107f : MOV byte ptr [EBP + -0x4],0x1
00741083 : LEA EAX,[EDI + 0x434]
00741089 : LEA ECX,[EBP + 0xffffff6c]
0074108f : CALL 0x0079eab0
00741094 : MOV byte ptr [EBP + -0x4],0x0
00741098 : MOV dword ptr [EBP + 0xffffff6c],0xcd083c
007410a2 : JMP 0x007410f2
007410a4 : MOV EDX,dword ptr [EAX + 0x4]
007410a7 : CALL EDX
007410a9 : CMP EAX,0x2
007410ac : JZ 0x007410bc
007410ae : MOV EAX,dword ptr [ESI]
007410b0 : MOV EDX,dword ptr [EAX + 0x4]
007410b3 : MOV ECX,ESI
007410b5 : CALL EDX
007410b7 : CMP EAX,0x1
007410ba : JNZ 0x007410f2
007410bc : MOV EAX,dword ptr [ESI]
007410be : MOV EDX,dword ptr [EAX + 0xb0]
007410c4 : LEA ECX,[EBP + 0xfffffee8]
007410ca : PUSH ECX
007410cb : MOV ECX,ESI
007410cd : CALL EDX
007410cf : MOV byte ptr [EBP + -0x4],0x2
007410d3 : LEA EAX,[EDI + 0x434]
007410d9 : LEA ECX,[EBP + 0xfffffee8]
007410df : CALL 0x0079eab0
007410e4 : MOV byte ptr [EBP + -0x4],0x0
007410e8 : MOV dword ptr [EBP + 0xfffffee8],0xcd083c
007410f2 : MOV EBX,dword ptr [EBX]
007410f4 : CMP EBX,dword ptr [EDI + 0x188]
007410fa : JNZ 0x00741050
00741100 : FLD float ptr [EDI + 0x438]
00741106 : FSTP float ptr [EDI + 0x4b8]
0074110c : FLD float ptr [EDI + 0x43c]
00741112 : FSTP float ptr [EDI + 0x4bc]
00741118 : FLD float ptr [EDI + 0x440]
0074111e : FSTP float ptr [EDI + 0x4c0]
00741124 : FLD float ptr [EDI + 0x444]
0074112a : FSTP float ptr [EDI + 0x4c4]
00741130 : FLD float ptr [EDI + 0x448]
00741136 : FSTP float ptr [EDI + 0x4c8]
0074113c : FLD float ptr [EDI + 0x44c]
00741142 : FSTP float ptr [EDI + 0x4cc]
00741148 : MOV dword ptr [EBP + -0x4],0xffffffff
0074114f : MOV EAX,dword ptr [EDI + 0x8]
00741152 : TEST EAX,EAX
00741154 : JZ 0x00741160
00741156 : ADD EAX,0x4
00741159 : PUSH EAX
0074115a : CALL dword ptr [0x00b8511c]
00741160 : MOV EAX,dword ptr [EDI]
00741162 : MOV EDX,dword ptr [EAX + 0x68]
00741165 : PUSH 0x1
00741167 : PUSH 0x1
00741169 : MOV ECX,EDI
0074116b : CALL EDX
0074116d : MOV ECX,dword ptr [EBP + -0xc]
00741170 : MOV dword ptr FS:[0x0],ECX
00741177 : POP ECX
00741178 : POP EDI
00741179 : POP ESI
0074117a : POP EBX
0074117b : MOV ESP,EBP
0074117d : POP EBP
0074117e : RET
0074117f : MOV dword ptr [EBP + -0x4],0xffffffff
00741186 : MOV EDI,dword ptr [EDI + 0x8]
00741189 : TEST EDI,EDI
0074118b : JZ 0x0074116d
0074118d : ADD EDI,0x4
00741190 : PUSH EDI
00741191 : CALL dword ptr [0x00b8511c]
00741197 : MOV ECX,dword ptr [EBP + -0xc]
0074119a : MOV dword ptr FS:[0x0],ECX
007411a1 : POP ECX
007411a2 : POP EDI
007411a3 : POP ESI
007411a4 : POP EBX
007411a5 : MOV ESP,EBP
007411a7 : POP EBP
007411a8 : RET
