PROGRAM  : Maestia.exe
FUNCTION : FUN_005a47d0
ENTRY    : 005a47d0
BODY     : [[005a47d0, 005a4ad3]]

============================================================
DECOMPILED C CODE
============================================================

ushort FUN_005a47d0(void)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float *in_ECX;
  float *in_EDX;
  ushort uVar9;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  
  fVar1 = *in_ECX;
  fVar2 = in_ECX[1];
  fVar3 = in_ECX[2];
  fVar4 = in_ECX[3];
  fVar5 = *in_EDX;
  fVar6 = in_EDX[1];
  fVar7 = in_EDX[2];
  fVar8 = in_EDX[3];
  if ((((fVar6 < fVar4 == (fVar6 == fVar4)) || (fVar2 < fVar8 == (fVar2 == fVar8))) ||
      (fVar1 < fVar7 == (fVar1 == fVar7))) || (fVar5 < fVar3 == (fVar5 == fVar3))) {
    fVar3 = 0.0;
    fVar2 = 0.0;
    fVar1 = 0.0;
    fVar4 = 0.0;
  }
  else {
    if (fVar1 <= fVar5) {
      fVar1 = fVar5;
    }
    if (fVar7 < fVar3) {
      fVar3 = fVar7;
    }
    if (fVar2 <= fVar6) {
      fVar2 = fVar6;
    }
    if (fVar8 < fVar4) {
      fVar4 = fVar8;
    }
  }
  uVar9 = (ushort)(fVar1 < fVar3) << 8 | (ushort)(NAN(fVar1) || NAN(fVar3)) << 10 |
          (ushort)(fVar1 == fVar3) << 0xe;
  if ((fVar1 < fVar3) &&
     (uVar9 = (ushort)(fVar2 < fVar4) << 8 | (ushort)(NAN(fVar2) || NAN(fVar4)) << 10 |
              (ushort)(fVar2 == fVar4) << 0xe, fVar2 < fVar4)) {
    if ((*in_ECX == fVar1) && ((in_ECX[2] == fVar3 && (in_ECX[1] == fVar2)))) {
      fVar5 = in_ECX[3];
      if (fVar5 == fVar4) {
        return CONCAT11(fVar5 < fVar4 |
                        (byte)((ushort)((ushort)(NAN(fVar5) || NAN(fVar4)) << 10) >> 8) |
                        (byte)((ushort)((ushort)(fVar5 == fVar4) << 0xe) >> 8),1);
      }
    }
    local_20 = in_ECX[4];
    local_1c = in_ECX[5];
    local_18 = in_ECX[6];
    local_14 = in_ECX[7];
    if (fVar1 != *in_ECX) {
      local_20 = ((fVar1 - *in_ECX) * (in_ECX[6] - in_ECX[4])) / (in_ECX[2] - *in_ECX) + in_ECX[4];
    }
    if (fVar2 != in_ECX[1]) {
      local_1c = ((fVar2 - in_ECX[1]) * (in_ECX[7] - in_ECX[5])) / (in_ECX[3] - in_ECX[1]) +
                 in_ECX[5];
    }
    if (fVar3 != in_ECX[2]) {
      local_18 = in_ECX[6] - ((in_ECX[2] - fVar3) * (in_ECX[6] - in_ECX[4])) / (in_ECX[2] - *in_ECX)
      ;
    }
    fVar5 = in_ECX[3];
    if (fVar4 != fVar5) {
      local_14 = in_ECX[7] -
                 ((in_ECX[3] - fVar4) * (in_ECX[7] - in_ECX[5])) / (in_ECX[3] - in_ECX[1]);
    }
    *in_ECX = fVar1;
    in_ECX[1] = fVar2;
    in_ECX[2] = fVar3;
    in_ECX[3] = fVar4;
    in_ECX[4] = local_20;
    in_ECX[5] = local_1c;
    in_ECX[6] = local_18;
    in_ECX[7] = local_14;
    return CONCAT11(fVar4 < fVar5 | (byte)((ushort)((ushort)(NAN(fVar4) || NAN(fVar5)) << 10) >> 8)
                    | (byte)((ushort)((ushort)(fVar4 == fVar5) << 0xe) >> 8),1);
  }
  fVar4 = in_EDX[1];
  *in_ECX = *in_EDX;
  in_ECX[1] = fVar4;
  in_ECX[2] = *in_ECX;
  in_ECX[3] = fVar4;
  in_ECX[6] = in_ECX[4];
  in_ECX[7] = in_ECX[5];
  return uVar9;
}



============================================================
DISASSEMBLY
============================================================
005a47d0 : SUB ESP,0x24
005a47d3 : FLD float ptr [ECX]
005a47d5 : FSTP float ptr [ESP + 0x4]
005a47d9 : FLD float ptr [ECX + 0x4]
005a47dc : FSTP float ptr [ESP + 0x8]
005a47e0 : FLD float ptr [ECX + 0x8]
005a47e3 : FSTP float ptr [ESP + 0xc]
005a47e7 : FLD float ptr [ECX + 0xc]
005a47ea : FSTP float ptr [ESP + 0x10]
005a47ee : FLD float ptr [EDX]
005a47f0 : FSTP float ptr [ESP + 0x14]
005a47f4 : FLD float ptr [EDX + 0x4]
005a47f7 : FSTP float ptr [ESP + 0x18]
005a47fb : FLD float ptr [EDX + 0x8]
005a47fe : FSTP float ptr [ESP + 0x1c]
005a4802 : FLD float ptr [EDX + 0xc]
005a4805 : FSTP float ptr [ESP + 0x20]
005a4809 : FLD float ptr [ESP + 0x10]
005a480d : FLD float ptr [ESP + 0x18]
005a4811 : FCOM
005a4813 : FNSTSW AX
005a4815 : FSTP ST1
005a4817 : TEST AH,0x41
005a481a : JP 0x005a485f
005a481c : FLD float ptr [ESP + 0x20]
005a4820 : FLD float ptr [ESP + 0x8]
005a4824 : FCOM
005a4826 : FNSTSW AX
005a4828 : FSTP ST1
005a482a : TEST AH,0x41
005a482d : JP 0x005a485d
005a482f : FLD float ptr [ESP + 0x1c]
005a4833 : FLD float ptr [ESP + 0x4]
005a4837 : FCOM
005a4839 : FNSTSW AX
005a483b : TEST AH,0x41
005a483e : JP 0x005a4859
005a4840 : FLD float ptr [ESP + 0xc]
005a4844 : FLD float ptr [ESP + 0x14]
005a4848 : FCOM
005a484a : FNSTSW AX
005a484c : TEST AH,0x41
005a484f : JNP 0x005a48e7
005a4855 : FSTP ST0
005a4857 : FSTP ST2
005a4859 : FSTP ST1
005a485b : FSTP ST0
005a485d : FSTP ST0
005a485f : FSTP ST0
005a4861 : FLDZ
005a4863 : FST float ptr [ESP + 0x4]
005a4867 : FSTP float ptr [ESP + 0x8]
005a486b : FLDZ
005a486d : FADD ST0,ST0
005a486f : FSTP float ptr [ESP]
005a4872 : FLD float ptr [ESP]
005a4875 : FST float ptr [ESP + 0xc]
005a4879 : FSTP float ptr [ESP + 0x10]
005a487d : FLD float ptr [ESP + 0x10]
005a4881 : FLD float ptr [ESP + 0xc]
005a4885 : FLD float ptr [ESP + 0x8]
005a4889 : FLD float ptr [ESP + 0x4]
005a488d : FXCH
005a488f : FXCH ST3
005a4891 : FXCH
005a4893 : FXCH ST2
005a4895 : FXCH
005a4897 : FXCH ST2
005a4899 : FCOM
005a489b : FNSTSW AX
005a489d : TEST AH,0x1
005a48a0 : JZ 0x005a4961
005a48a6 : FXCH ST3
005a48a8 : FCOM ST2
005a48aa : FNSTSW AX
005a48ac : TEST AH,0x1
005a48af : JNZ 0x005a496c
005a48b5 : FSTP ST2
005a48b7 : FSTP ST0
005a48b9 : FSTP ST1
005a48bb : FSTP ST0
005a48bd : XOR AL,AL
005a48bf : FLD float ptr [EDX + 0x4]
005a48c2 : FSTP float ptr [ESP]
005a48c5 : FLD float ptr [EDX]
005a48c7 : FSTP float ptr [ECX]
005a48c9 : FLD float ptr [ESP]
005a48cc : FST float ptr [ECX + 0x4]
005a48cf : FLD float ptr [ECX]
005a48d1 : FSTP float ptr [ECX + 0x8]
005a48d4 : FSTP float ptr [ECX + 0xc]
005a48d7 : FLD float ptr [ECX + 0x10]
005a48da : FSTP float ptr [ECX + 0x18]
005a48dd : FLD float ptr [ECX + 0x14]
005a48e0 : FSTP float ptr [ECX + 0x1c]
005a48e3 : ADD ESP,0x24
005a48e6 : RET
005a48e7 : FCOM ST2
005a48e9 : FNSTSW AX
005a48eb : TEST AH,0x5
005a48ee : JNP 0x005a494e
005a48f0 : FSTP ST2
005a48f2 : FXCH
005a48f4 : FSTP float ptr [ESP + 0x4]
005a48f8 : FLD float ptr [ESP + 0x4]
005a48fc : FXCH
005a48fe : FCOM ST2
005a4900 : FNSTSW AX
005a4902 : TEST AH,0x41
005a4905 : JNZ 0x005a4952
005a4907 : FSTP ST0
005a4909 : FXCH
005a490b : FSTP float ptr [ESP + 0xc]
005a490f : FLD float ptr [ESP + 0xc]
005a4913 : FXCH
005a4915 : FXCH ST2
005a4917 : FCOM ST3
005a4919 : FNSTSW AX
005a491b : TEST AH,0x41
005a491e : JZ 0x005a4956
005a4920 : FSTP ST0
005a4922 : FXCH ST2
005a4924 : FSTP float ptr [ESP + 0x8]
005a4928 : FLD float ptr [ESP + 0x8]
005a492c : FXCH ST2
005a492e : FLD float ptr [ESP + 0x10]
005a4932 : FLD float ptr [ESP + 0x20]
005a4936 : FCOM
005a4938 : FNSTSW AX
005a493a : TEST AH,0x5
005a493d : JP 0x005a495a
005a493f : FSTP ST1
005a4941 : FSTP float ptr [ESP + 0x10]
005a4945 : FLD float ptr [ESP + 0x10]
005a4949 : JMP 0x005a4897
005a494e : FSTP ST0
005a4950 : JMP 0x005a48fe
005a4952 : FSTP ST2
005a4954 : JMP 0x005a4915
005a4956 : FSTP ST3
005a4958 : JMP 0x005a492e
005a495a : FSTP ST0
005a495c : JMP 0x005a4897
005a4961 : FSTP ST2
005a4963 : FSTP ST0
005a4965 : FSTP ST0
005a4967 : JMP 0x005a48bb
005a496c : FLD ST3
005a496e : FLD float ptr [ECX]
005a4970 : FUCOMPP
005a4972 : FNSTSW AX
005a4974 : TEST AH,0x44
005a4977 : JP 0x005a49a7
005a4979 : FLD ST1
005a497b : FLD float ptr [ECX + 0x8]
005a497e : FUCOMPP
005a4980 : FNSTSW AX
005a4982 : TEST AH,0x44
005a4985 : JP 0x005a49a7
005a4987 : FLD ST0
005a4989 : FLD float ptr [ECX + 0x4]
005a498c : FUCOMPP
005a498e : FNSTSW AX
005a4990 : TEST AH,0x44
005a4993 : JP 0x005a49a7
005a4995 : FLD ST2
005a4997 : FLD float ptr [ECX + 0xc]
005a499a : FUCOMPP
005a499c : FNSTSW AX
005a499e : TEST AH,0x44
005a49a1 : JNP 0x005a4ac6
005a49a7 : FLD float ptr [ECX + 0x10]
005a49aa : FSTP float ptr [ESP + 0x4]
005a49ae : FLD float ptr [ECX + 0x14]
005a49b1 : FSTP float ptr [ESP + 0x8]
005a49b5 : FLD float ptr [ECX + 0x18]
005a49b8 : FSTP float ptr [ESP + 0xc]
005a49bc : FLD float ptr [ECX + 0x1c]
005a49bf : FSTP float ptr [ESP + 0x10]
005a49c3 : FLD float ptr [ECX]
005a49c5 : FLD ST4
005a49c7 : FUCOMPP
005a49c9 : FNSTSW AX
005a49cb : TEST AH,0x44
005a49ce : JNP 0x005a49f4
005a49d0 : FLD float ptr [ECX + 0x18]
005a49d3 : FSUB float ptr [ECX + 0x10]
005a49d6 : FSTP float ptr [ESP]
005a49d9 : FLD float ptr [ESP]
005a49dc : FLD ST4
005a49de : FSUB float ptr [ECX]
005a49e0 : FMULP
005a49e2 : FLD float ptr [ECX + 0x8]
005a49e5 : FSUB float ptr [ECX]
005a49e7 : FSTP float ptr [ESP]
005a49ea : FDIV float ptr [ESP]
005a49ed : FADD float ptr [ECX + 0x10]
005a49f0 : FSTP float ptr [ESP + 0x4]
005a49f4 : FLD float ptr [ECX + 0x4]
005a49f7 : FLD ST1
005a49f9 : FUCOMPP
005a49fb : FNSTSW AX
005a49fd : TEST AH,0x44
005a4a00 : JNP 0x005a4a28
005a4a02 : FLD float ptr [ECX + 0x1c]
005a4a05 : FSUB float ptr [ECX + 0x14]
005a4a08 : FSTP float ptr [ESP]
005a4a0b : FLD float ptr [ESP]
005a4a0e : FLD ST1
005a4a10 : FSUB float ptr [ECX + 0x4]
005a4a13 : FMULP
005a4a15 : FLD float ptr [ECX + 0xc]
005a4a18 : FSUB float ptr [ECX + 0x4]
005a4a1b : FSTP float ptr [ESP]
005a4a1e : FDIV float ptr [ESP]
005a4a21 : FADD float ptr [ECX + 0x14]
005a4a24 : FSTP float ptr [ESP + 0x8]
005a4a28 : FLD float ptr [ECX + 0x8]
005a4a2b : FLD ST2
005a4a2d : FUCOMPP
005a4a2f : FNSTSW AX
005a4a31 : TEST AH,0x44
005a4a34 : JNP 0x005a4a5d
005a4a36 : FLD float ptr [ECX + 0x18]
005a4a39 : FLD float ptr [ECX + 0x18]
005a4a3c : FSUB float ptr [ECX + 0x10]
005a4a3f : FSTP float ptr [ESP]
005a4a42 : FLD float ptr [ESP]
005a4a45 : FLD float ptr [ECX + 0x8]
005a4a48 : FSUB ST0,ST4
005a4a4a : FMULP
005a4a4c : FLD float ptr [ECX + 0x8]
005a4a4f : FSUB float ptr [ECX]
005a4a51 : FSTP float ptr [ESP]
005a4a54 : FDIV float ptr [ESP]
005a4a57 : FSUBP
005a4a59 : FSTP float ptr [ESP + 0xc]
005a4a5d : FLD float ptr [ECX + 0xc]
005a4a60 : FLD ST3
005a4a62 : FUCOMPP
005a4a64 : FNSTSW AX
005a4a66 : TEST AH,0x44
005a4a69 : JNP 0x005a4a93
005a4a6b : FLD float ptr [ECX + 0x1c]
005a4a6e : FLD float ptr [ECX + 0x1c]
005a4a71 : FSUB float ptr [ECX + 0x14]
005a4a74 : FSTP float ptr [ESP]
005a4a77 : FLD float ptr [ESP]
005a4a7a : FLD float ptr [ECX + 0xc]
005a4a7d : FSUB ST0,ST5
005a4a7f : FMULP
005a4a81 : FLD float ptr [ECX + 0xc]
005a4a84 : FSUB float ptr [ECX + 0x4]
005a4a87 : FSTP float ptr [ESP]
005a4a8a : FDIV float ptr [ESP]
005a4a8d : FSUBP
005a4a8f : FSTP float ptr [ESP + 0x10]
005a4a93 : FXCH ST3
005a4a95 : MOV AL,0x1
005a4a97 : FSTP float ptr [ECX]
005a4a99 : FXCH ST2
005a4a9b : FSTP float ptr [ECX + 0x4]
005a4a9e : FXCH
005a4aa0 : FSTP float ptr [ECX + 0x8]
005a4aa3 : FSTP float ptr [ECX + 0xc]
005a4aa6 : FLD float ptr [ESP + 0x4]
005a4aaa : FSTP float ptr [ECX + 0x10]
005a4aad : FLD float ptr [ESP + 0x8]
005a4ab1 : FSTP float ptr [ECX + 0x14]
005a4ab4 : FLD float ptr [ESP + 0xc]
005a4ab8 : FSTP float ptr [ECX + 0x18]
005a4abb : FLD float ptr [ESP + 0x10]
005a4abf : FSTP float ptr [ECX + 0x1c]
005a4ac2 : ADD ESP,0x24
005a4ac5 : RET
005a4ac6 : FSTP ST2
005a4ac8 : MOV AL,0x1
005a4aca : FSTP ST0
005a4acc : FSTP ST1
005a4ace : FSTP ST0
005a4ad0 : ADD ESP,0x24
005a4ad3 : RET
