PROGRAM  : Maestia.exe
FUNCTION : FUN_005ba2a0
ENTRY    : 005ba2a0
BODY     : [[005ba2a0, 005ba39f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005ba2a0(int param_1,undefined4 param_2,undefined4 param_3)

{
  uint *puVar1;
  undefined1 *puVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int in_ECX;
  int iVar7;
  
  iVar6 = param_1;
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x10;
  puVar1 = (uint *)(param_1 + 8);
  if (*(uint *)(param_1 + 0x10) <= *(uint *)(param_1 + 8)) {
    FUN_00504050();
  }
  puVar2 = (undefined1 *)*puVar1;
  if (puVar2 != (undefined1 *)0x0) {
    *puVar2 = 4;
    *(undefined4 *)(puVar2 + 4) = param_3;
  }
  *puVar1 = *puVar1 + 0x10;
  if (*(uint *)(iVar6 + 0x10) <= *puVar1) {
    FUN_00504050();
  }
  if (*puVar1 != 0) {
    FUN_00526090(param_2);
  }
  if (in_ECX == 0) {
    iVar7 = 0;
  }
  else {
    iVar7 = in_ECX + 0x10;
  }
  uVar3 = *puVar1;
  iVar4 = *(int *)(iVar6 + 0xc);
  iVar5 = *(int *)(iVar6 + 0x1c);
  param_1 = FUN_00525380("onLoadComplete",0xe,0);
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 1;
  FUN_0057bb40(iVar6,iVar7,&param_1,2,((int)(uVar3 - iVar4) >> 4) + -0x20 + iVar5 * 0x20);
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + -1;
  if (*(int *)(param_1 + 8) == 0) {
    FUN_00525340();
  }
  if (*puVar1 - 0x20 < *(uint *)(iVar6 + 0xc)) {
    iVar7 = 2;
    do {
      FUN_00526bc0();
      *puVar1 = *puVar1 - 0x10;
      if (*puVar1 < *(uint *)(iVar6 + 0xc)) {
        FUN_00504f30();
      }
      iVar7 = iVar7 + -1;
    } while (iVar7 != 0);
    return;
  }
  FUN_00526bc0();
  *puVar1 = *puVar1 - 0x10;
  FUN_00526bc0();
  *puVar1 = *puVar1 - 0x10;
  return;
}



============================================================
DISASSEMBLY
============================================================
005ba2a0 : PUSH EBX
005ba2a1 : MOV EBX,dword ptr [ESP + 0x8]
005ba2a5 : ADD dword ptr [EBX + 0x8],0x10
005ba2a9 : MOV EAX,dword ptr [EBX + 0x8]
005ba2ac : PUSH EBP
005ba2ad : PUSH ESI
005ba2ae : LEA ESI,[EBX + 0x8]
005ba2b1 : PUSH EDI
005ba2b2 : MOV EDI,ECX
005ba2b4 : CMP EAX,dword ptr [ESI + 0x8]
005ba2b7 : JC 0x005ba2c0
005ba2b9 : MOV ECX,ESI
005ba2bb : CALL 0x00504050
005ba2c0 : MOV EAX,dword ptr [ESI]
005ba2c2 : TEST EAX,EAX
005ba2c4 : JZ 0x005ba2d0
005ba2c6 : MOV ECX,dword ptr [ESP + 0x1c]
005ba2ca : MOV byte ptr [EAX],0x4
005ba2cd : MOV dword ptr [EAX + 0x4],ECX
005ba2d0 : ADD dword ptr [ESI],0x10
005ba2d3 : MOV EAX,dword ptr [ESI]
005ba2d5 : CMP EAX,dword ptr [ESI + 0x8]
005ba2d8 : JC 0x005ba2e1
005ba2da : MOV ECX,ESI
005ba2dc : CALL 0x00504050
005ba2e1 : MOV ECX,dword ptr [ESI]
005ba2e3 : TEST ECX,ECX
005ba2e5 : JZ 0x005ba2f1
005ba2e7 : MOV EDX,dword ptr [ESP + 0x18]
005ba2eb : PUSH EDX
005ba2ec : CALL 0x00526090
005ba2f1 : TEST EDI,EDI
005ba2f3 : JZ 0x005ba2fa
005ba2f5 : LEA EBP,[EDI + 0x10]
005ba2f8 : JMP 0x005ba2fc
005ba2fa : XOR EBP,EBP
005ba2fc : MOV EAX,dword ptr [ESI]
005ba2fe : SUB EAX,dword ptr [ESI + 0x4]
005ba301 : MOV ECX,dword ptr [ESI + 0x14]
005ba304 : SAR EAX,0x4
005ba307 : SHL ECX,0x5
005ba30a : PUSH 0x0
005ba30c : LEA EDI,[EAX + ECX*0x1 + -0x20]
005ba310 : MOV EAX,dword ptr [EBX + 0x78]
005ba313 : PUSH 0xe
005ba315 : PUSH 0xb90a34
005ba31a : LEA ECX,[EAX + 0x254]
005ba320 : CALL 0x00525380
005ba325 : PUSH EDI
005ba326 : PUSH 0x2
005ba328 : LEA EDX,[ESP + 0x1c]
005ba32c : PUSH EDX
005ba32d : PUSH EBP
005ba32e : MOV dword ptr [ESP + 0x24],EAX
005ba332 : INC dword ptr [EAX + 0x8]
005ba335 : PUSH EBX
005ba336 : CALL 0x0057bb40
005ba33b : MOV EAX,dword ptr [ESP + 0x28]
005ba33f : DEC dword ptr [EAX + 0x8]
005ba342 : MOV ECX,EAX
005ba344 : ADD EAX,0x8
005ba347 : ADD ESP,0x14
005ba34a : CMP dword ptr [EAX],0x0
005ba34d : JNZ 0x005ba354
005ba34f : CALL 0x00525340
005ba354 : MOV ECX,dword ptr [ESI]
005ba356 : LEA EAX,[ECX + -0x20]
005ba359 : CMP EAX,dword ptr [ESI + 0x4]
005ba35c : JNC 0x005ba387
005ba35e : MOV EDI,0x2
005ba363 : MOV ECX,dword ptr [ESI]
005ba365 : CALL 0x00526bc0
005ba36a : ADD dword ptr [ESI],-0x10
005ba36d : MOV EAX,dword ptr [ESI]
005ba36f : CMP EAX,dword ptr [ESI + 0x4]
005ba372 : JNC 0x005ba37b
005ba374 : MOV ECX,ESI
005ba376 : CALL 0x00504f30
005ba37b : SUB EDI,0x1
005ba37e : JNZ 0x005ba363
005ba380 : POP EDI
005ba381 : POP ESI
005ba382 : POP EBP
005ba383 : POP EBX
005ba384 : RET 0xc
005ba387 : CALL 0x00526bc0
005ba38c : ADD dword ptr [ESI],-0x10
005ba38f : MOV ECX,dword ptr [ESI]
005ba391 : CALL 0x00526bc0
005ba396 : ADD dword ptr [ESI],-0x10
005ba399 : POP EDI
005ba39a : POP ESI
005ba39b : POP EBP
005ba39c : POP EBX
005ba39d : RET 0xc
