PROGRAM  : Maestia.exe
FUNCTION : FUN_0065af66
ENTRY    : 0065af66
BODY     : [[0065af66, 0065b0a5]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_0065af66(int param_1,int param_2,int param_3,int param_4,double *param_5)

{
  double dVar1;
  double dVar2;
  double dVar3;
  int iVar4;
  
  dVar2 = 0.0;
  dVar1 = (double)CONCAT44(param_2,param_1);
  if ((double)CONCAT44(param_2,param_1) < 0.0) {
    dVar1 = -dVar1;
  }
  dVar3 = _DAT_00d68370;
  if (param_4 == 0x7ff00000) {
    if (param_3 == 0) {
      if ((dVar1 <= 1.0) && (dVar3 = 1.0, dVar1 < 1.0)) {
        dVar3 = dVar2;
      }
      goto LAB_0065b095;
    }
  }
  else if ((param_4 == -0x100000) && (param_3 == 0)) {
    dVar3 = dVar2;
    if ((dVar1 <= 1.0) && (dVar3 = _DAT_00d68370, 1.0 <= dVar1)) {
      *param_5 = _DAT_00d68378;
      return 1;
    }
    goto LAB_0065b095;
  }
  if (param_2 == 0x7ff00000) {
    if (param_1 != 0) {
      return 0;
    }
    if (((double)CONCAT44(param_4,param_3) <= 0.0) &&
       (dVar3 = dVar2, 0.0 <= (double)CONCAT44(param_4,param_3))) {
      dVar3 = 1.0;
    }
  }
  else {
    if (param_2 != -0x100000) {
      return 0;
    }
    if (param_1 != 0) {
      return 0;
    }
    iVar4 = __d_inttype(CONCAT44(param_4,param_3));
    if ((double)CONCAT44(param_4,param_3) <= 0.0) {
      if (0.0 <= (double)CONCAT44(param_4,param_3)) {
        dVar3 = 1.0;
      }
      else {
        dVar3 = 0.0;
        if (iVar4 == 1) {
          dVar3 = _DAT_00d68390;
        }
      }
    }
    else {
      dVar3 = _DAT_00d68370;
      if (iVar4 == 1) {
        dVar3 = -_DAT_00d68370;
      }
    }
  }
LAB_0065b095:
  *param_5 = dVar3;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0065af66 : MOV EDI,EDI
0065af68 : PUSH EBP
0065af69 : MOV EBP,ESP
0065af6b : FLDZ
0065af6d : PUSH ESI
0065af6e : FCOM double ptr [EBP + 0x8]
0065af71 : XOR EDX,EDX
0065af73 : XOR ESI,ESI
0065af75 : FNSTSW AX
0065af77 : FLD double ptr [EBP + 0x8]
0065af7a : TEST AH,0x41
0065af7d : JNZ 0x0065af81
0065af7f : FCHS
0065af81 : MOV EAX,0x7ff00000
0065af86 : MOV ECX,0xfff00000
0065af8b : CMP dword ptr [EBP + 0x14],EAX
0065af8e : JNZ 0x0065afcd
0065af90 : CMP dword ptr [EBP + 0x10],EDX
0065af93 : JNZ 0x0065b014
0065af95 : FLD1
0065af97 : FCOM
0065af99 : FNSTSW AX
0065af9b : TEST AH,0x5
0065af9e : JP 0x0065afb1
0065afa0 : FSTP ST2
0065afa2 : FSTP ST1
0065afa4 : FSTP ST0
0065afa6 : FLD double ptr [0x00d68370]
0065afac : JMP 0x0065b092
0065afb1 : FCOM
0065afb3 : FNSTSW AX
0065afb5 : FSTP ST1
0065afb7 : TEST AH,0x41
0065afba : MOV EAX,dword ptr [EBP + 0x18]
0065afbd : JNZ 0x0065afc6
0065afbf : FSTP ST0
0065afc1 : JMP 0x0065b095
0065afc6 : FSTP ST1
0065afc8 : JMP 0x0065b095
0065afcd : CMP dword ptr [EBP + 0x14],ECX
0065afd0 : JNZ 0x0065b014
0065afd2 : CMP dword ptr [EBP + 0x10],EDX
0065afd5 : JNZ 0x0065b014
0065afd7 : FLD1
0065afd9 : FCOM
0065afdb : FNSTSW AX
0065afdd : TEST AH,0x5
0065afe0 : JP 0x0065afeb
0065afe2 : FSTP ST0
0065afe4 : FSTP ST0
0065afe6 : JMP 0x0065b092
0065afeb : FSTP ST2
0065afed : FCOMPP
0065afef : FNSTSW AX
0065aff1 : TEST AH,0x5
0065aff4 : MOV EAX,dword ptr [EBP + 0x18]
0065aff7 : JP 0x0065b004
0065aff9 : FLD double ptr [0x00d68370]
0065afff : JMP 0x0065b095
0065b004 : FLD double ptr [0x00d68378]
0065b00a : XOR ESI,ESI
0065b00c : FSTP double ptr [EAX]
0065b00e : INC ESI
0065b00f : JMP 0x0065b0a1
0065b014 : FSTP ST0
0065b016 : CMP dword ptr [EBP + 0xc],EAX
0065b019 : JNZ 0x0065b041
0065b01b : CMP dword ptr [EBP + 0x8],EDX
0065b01e : JNZ 0x0065b09f
0065b020 : FCOM double ptr [EBP + 0x10]
0065b023 : FNSTSW AX
0065b025 : TEST AH,0x5
0065b028 : JNP 0x0065afa4
0065b02e : FCOM double ptr [EBP + 0x10]
0065b031 : FNSTSW AX
0065b033 : TEST AH,0x41
0065b036 : MOV EAX,dword ptr [EBP + 0x18]
0065b039 : JZ 0x0065b095
0065b03b : FSTP ST0
0065b03d : FLD1
0065b03f : JMP 0x0065b095
0065b041 : FSTP ST0
0065b043 : CMP dword ptr [EBP + 0xc],ECX
0065b046 : JNZ 0x0065b0a1
0065b048 : CMP dword ptr [EBP + 0x8],EDX
0065b04b : JNZ 0x0065b0a1
0065b04d : FLD double ptr [EBP + 0x10]
0065b050 : PUSH ECX
0065b051 : PUSH ECX
0065b052 : FSTP double ptr [ESP]
0065b055 : CALL 0x0065af00
0065b05a : FLDZ
0065b05c : POP ECX
0065b05d : FCOM double ptr [EBP + 0x10]
0065b060 : POP ECX
0065b061 : MOV ECX,EAX
0065b063 : FNSTSW AX
0065b065 : TEST AH,0x5
0065b068 : JP 0x0065b07b
0065b06a : FSTP ST0
0065b06c : FLD double ptr [0x00d68370]
0065b072 : CMP ECX,0x1
0065b075 : JNZ 0x0065b092
0065b077 : FCHS
0065b079 : JMP 0x0065b092
0065b07b : FCOM double ptr [EBP + 0x10]
0065b07e : FNSTSW AX
0065b080 : TEST AH,0x41
0065b083 : JNZ 0x0065b099
0065b085 : CMP ECX,0x1
0065b088 : JNZ 0x0065b092
0065b08a : FSTP ST0
0065b08c : FLD double ptr [0x00d68390]
0065b092 : MOV EAX,dword ptr [EBP + 0x18]
0065b095 : FSTP double ptr [EAX]
0065b097 : JMP 0x0065b0a1
0065b099 : FSTP ST0
0065b09b : FLD1
0065b09d : JMP 0x0065b092
0065b09f : FSTP ST0
0065b0a1 : MOV EAX,ESI
0065b0a3 : POP ESI
0065b0a4 : POP EBP
0065b0a5 : RET
