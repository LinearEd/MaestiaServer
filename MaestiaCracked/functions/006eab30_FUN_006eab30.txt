PROGRAM  : Maestia.exe
FUNCTION : FUN_006eab30
ENTRY    : 006eab30
BODY     : [[006eab30, 006eacec] [006eacf0, 006eae26] [006eae30, 006eaeb5] [006eaec0, 006eafaf]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x006eace3) */
/* WARNING: Removing unreachable block (ram,0x006eacf4) */
/* WARNING: Removing unreachable block (ram,0x006eadac) */
/* WARNING: Removing unreachable block (ram,0x006ead55) */
/* WARNING: Removing unreachable block (ram,0x006ead8f) */
/* WARNING: Removing unreachable block (ram,0x006ead9b) */
/* WARNING: Removing unreachable block (ram,0x006ead6f) */
/* WARNING: Removing unreachable block (ram,0x006ead73) */
/* WARNING: Removing unreachable block (ram,0x006ead7f) */
/* WARNING: Removing unreachable block (ram,0x006ead9e) */
/* WARNING: Removing unreachable block (ram,0x006eadbb) */
/* WARNING: Removing unreachable block (ram,0x006eadcc) */
/* WARNING: Removing unreachable block (ram,0x006eacf0) */
/* WARNING: Removing unreachable block (ram,0x006eac17) */
/* WARNING: Removing unreachable block (ram,0x006eac2a) */
/* WARNING: Removing unreachable block (ram,0x006eac36) */
/* WARNING: Removing unreachable block (ram,0x006eac44) */
/* WARNING: Removing unreachable block (ram,0x006eac3a) */
/* WARNING: Removing unreachable block (ram,0x006eac42) */
/* WARNING: Removing unreachable block (ram,0x006eac46) */
/* WARNING: Removing unreachable block (ram,0x006eac73) */
/* WARNING: Removing unreachable block (ram,0x006eac82) */
/* WARNING: Removing unreachable block (ram,0x006eac7b) */
/* WARNING: Removing unreachable block (ram,0x006eac84) */
/* WARNING: Removing unreachable block (ram,0x006eac8d) */
/* WARNING: Removing unreachable block (ram,0x006eac98) */
/* WARNING: Removing unreachable block (ram,0x006eacb5) */
/* WARNING: Removing unreachable block (ram,0x006eadde) */
/* WARNING: Removing unreachable block (ram,0x006eacbf) */
/* WARNING: Removing unreachable block (ram,0x006eae1c) */
/* WARNING: Removing unreachable block (ram,0x006eae36) */
/* WARNING: Removing unreachable block (ram,0x006eae87) */
/* WARNING: Removing unreachable block (ram,0x006eae90) */
/* WARNING: Removing unreachable block (ram,0x006eaec0) */
/* WARNING: Removing unreachable block (ram,0x006eaeef) */
/* WARNING: Removing unreachable block (ram,0x006eaef8) */
/* WARNING: Removing unreachable block (ram,0x006eaf78) */
/* WARNING: Removing unreachable block (ram,0x006eaf21) */
/* WARNING: Removing unreachable block (ram,0x006eaf5b) */
/* WARNING: Removing unreachable block (ram,0x006eaf67) */
/* WARNING: Removing unreachable block (ram,0x006eaf3b) */
/* WARNING: Removing unreachable block (ram,0x006eaf3f) */
/* WARNING: Removing unreachable block (ram,0x006eaf4b) */
/* WARNING: Removing unreachable block (ram,0x006eaf6a) */
/* WARNING: Removing unreachable block (ram,0x006eaf87) */
/* WARNING: Removing unreachable block (ram,0x006eae30) */

void FUN_006eab30(void)

{
  int in_EAX;
  int *piVar1;
  float10 fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float *in_stack_00000010;
  int local_2c;
  int local_28;
  
  fVar4 = *(float *)(in_EAX + 0x2c) - in_stack_00000010[1];
  fVar5 = *(float *)(in_EAX + 0x30) - in_stack_00000010[2];
  fVar3 = *(float *)(in_EAX + 0x28) - *in_stack_00000010;
  fVar2 = (float10)FUN_0040f460(fVar4 * fVar4 + fVar5 * fVar5 + fVar3 * fVar3);
  fVar3 = *(float *)(in_EAX + 0x34);
  FUN_00473080();
  while( true ) {
    if (local_2c == 0) {
      return;
    }
    if (local_28 == 0) {
      piVar1 = (int *)0x0;
    }
    else {
      piVar1 = (int *)(*(int *)(local_28 + 4) + local_2c);
    }
    if (*piVar1 == 0) break;
    if (local_28 == 0) {
      piVar1 = (int *)0x0;
    }
    else {
      piVar1 = (int *)(*(int *)(local_28 + 4) + local_2c);
    }
    if ((*(char *)(*piVar1 + 0x1cc) == '\0') ||
       ((float)(fVar2 - (float10)fVar3) < *(float *)(*piVar1 + 0x1c8))) {
      FUN_00474740(in_EAX + 0x38);
    }
    else {
      FUN_004735a0();
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006eab30 : SUB ESP,0x58
006eab33 : PUSH EBX
006eab34 : PUSH EBP
006eab35 : PUSH ESI
006eab36 : MOV ESI,EAX
006eab38 : MOV EAX,dword ptr [ESP + 0x74]
006eab3c : MOVSS XMM1,dword ptr [ESI + 0x2c]
006eab41 : SUBSS XMM1,dword ptr [EAX + 0x4]
006eab46 : MOVSS XMM2,dword ptr [ESI + 0x30]
006eab4b : SUBSS XMM2,dword ptr [EAX + 0x8]
006eab50 : MOVSS XMM0,dword ptr [ESI + 0x28]
006eab55 : SUBSS XMM0,dword ptr [EAX]
006eab59 : MOVAPS XMM3,XMM1
006eab5c : MULSS XMM3,XMM1
006eab60 : MOVAPS XMM1,XMM2
006eab63 : MULSS XMM1,XMM2
006eab67 : ADDSS XMM3,XMM1
006eab6b : PUSH EDI
006eab6c : MOVAPS XMM1,XMM0
006eab6f : MULSS XMM1,XMM0
006eab73 : PUSH ECX
006eab74 : ADDSS XMM3,XMM1
006eab78 : MOVSS dword ptr [ESP],XMM3
006eab7d : CALL 0x0040f460
006eab82 : FSUB float ptr [ESI + 0x34]
006eab85 : LEA EBP,[ESI + 0x38]
006eab88 : ADD ESP,0x4
006eab8b : LEA ESI,[ESP + 0x3c]
006eab8f : FSTP float ptr [ESP + 0x20]
006eab93 : MOV EDI,EBP
006eab95 : MOV dword ptr [ESP + 0x30],EBP
006eab99 : CALL 0x00473080
006eab9e : MOV EBX,dword ptr [ESP + 0x3c]
006eaba2 : MOV ESI,dword ptr [ESP + 0x40]
006eaba6 : TEST EBX,EBX
006eaba8 : JZ 0x006eafa8
006eabae : TEST ESI,ESI
006eabb0 : JZ 0x006eabb9
006eabb2 : MOV EAX,dword ptr [ESI + 0x4]
006eabb5 : ADD EAX,EBX
006eabb7 : JMP 0x006eabbb
006eabb9 : XOR EAX,EAX
006eabbb : CMP dword ptr [EAX],0x0
006eabbe : JZ 0x006eafa8
006eabc4 : TEST ESI,ESI
006eabc6 : JZ 0x006eabcf
006eabc8 : MOV EAX,dword ptr [ESI + 0x4]
006eabcb : ADD EAX,EBX
006eabcd : JMP 0x006eabd1
006eabcf : XOR EAX,EAX
006eabd1 : MOV EAX,dword ptr [EAX]
006eabd3 : MOV dword ptr [ESP + 0x14],EAX
006eabd7 : ADD EAX,0x1bc
006eabdc : CMP byte ptr [EAX + 0x10],0x0
006eabe0 : JZ 0x006eabf2
006eabe2 : MOVSS XMM0,dword ptr [EAX + 0xc]
006eabe7 : COMISS XMM0,dword ptr [ESP + 0x20]
006eabec : JBE 0x006eaf96
006eabf2 : PUSH EBP
006eabf3 : LEA EDI,[ESP + 0x20]
006eabf7 : LEA EAX,[ESP + 0x40]
006eabfb : MOV dword ptr [ESP + 0x20],0x0
006eac03 : CALL 0x00474740
006eac08 : MOV dword ptr [ESP + 0x24],EAX
006eac0c : TEST EAX,EAX
006eac0e : JZ 0x006eaba6
006eac10 : CMP dword ptr [ESP + 0x1c],0x0
006eac15 : JZ 0x006eaba6
006eac17 : MOV EAX,dword ptr [ESP + 0x74]
006eac1b : MOV EBP,dword ptr [EAX + 0x4]
006eac1e : MOV EDI,dword ptr [EBP + 0x8]
006eac21 : OR EBX,0xffffffff
006eac24 : XOR ESI,ESI
006eac26 : TEST EDI,EDI
006eac28 : JLE 0x006eac46
006eac2a : LEA EAX,[ESP + 0x3c]
006eac2e : CALL 0x004746b0
006eac33 : MOV ECX,dword ptr [EBP + 0x4]
006eac36 : CMP dword ptr [ECX],EAX
006eac38 : JZ 0x006eac44
006eac3a : INC ESI
006eac3b : ADD ECX,0x4
006eac3e : CMP ESI,EDI
006eac40 : JL 0x006eac36
006eac42 : JMP 0x006eac46
006eac44 : MOV EBX,ESI
006eac46 : MOV ECX,dword ptr [EBP + 0x4]
006eac49 : MOV EDX,dword ptr [ECX + EBX*0x4]
006eac4c : MOV EAX,dword ptr [ESP + 0x74]
006eac50 : ADD EAX,0x48
006eac53 : MOV dword ptr [ESP + 0x28],EDX
006eac57 : PUSH EAX
006eac58 : XOR EDI,EDI
006eac5a : LEA EDX,[ESP + 0x2c]
006eac5e : LEA EAX,[ESP + 0x38]
006eac62 : MOV dword ptr [ESP + 0x1c],EDI
006eac66 : CALL 0x004746d0
006eac6b : MOV ECX,dword ptr [ESP + 0x34]
006eac6f : TEST ECX,ECX
006eac71 : JZ 0x006eac8d
006eac73 : MOV EAX,dword ptr [ESP + 0x38]
006eac77 : TEST EAX,EAX
006eac79 : JZ 0x006eac82
006eac7b : MOV EAX,dword ptr [EAX + 0x4]
006eac7e : ADD EAX,ECX
006eac80 : JMP 0x006eac84
006eac82 : XOR EAX,EAX
006eac84 : ADD EAX,0x4
006eac87 : MOV dword ptr [ESP + 0x18],EAX
006eac8b : MOV EDI,EAX
006eac8d : CMP dword ptr [ESP + 0x70],0x0
006eac92 : JNZ 0x006eadde
006eac98 : MOV ECX,dword ptr [ESP + 0x14]
006eac9c : MOVSS XMM0,dword ptr [ECX + 0x1c8]
006eaca4 : ADD ECX,0x1bc
006eacaa : COMISS XMM0,dword ptr [ESP + 0x20]
006eacaf : MOV dword ptr [ESP + 0x28],ECX
006eacb3 : JA 0x006eacbf
006eacb5 : CMP byte ptr [ECX + 0x10],0x0
006eacb9 : JNZ 0x006eadde
006eacbf : MOV EAX,dword ptr [ESP + 0x1c]
006eacc3 : MOV EBP,dword ptr [ESP + 0x24]
006eacc7 : MOV byte ptr [ESP + 0x64],0xff
006eaccc : MOV byte ptr [ESP + 0x65],0xff
006eacd1 : MOV byte ptr [ESP + 0x66],0xff
006eacd6 : MOV byte ptr [ESP + 0x67],0xff
006eacdb : TEST EAX,EAX
006eacdd : JLE 0x006eaf96
006eace3 : MOV EBX,dword ptr [ESP + 0x14]
006eace7 : MOV dword ptr [ESP + 0x1c],EAX
006eaceb : JMP 0x006eacf4
006eacf0 : MOV ECX,dword ptr [ESP + 0x28]
006eacf4 : MOV EAX,dword ptr [ESP + 0x78]
006eacf8 : MOVSS XMM2,dword ptr [EBP + 0x8]
006eacfd : SUBSS XMM2,dword ptr [EAX + 0x8]
006ead02 : MOVSS XMM0,dword ptr [EBP]
006ead07 : SUBSS XMM0,dword ptr [EAX]
006ead0b : MOVSS XMM1,dword ptr [EBP + 0x4]
006ead10 : SUBSS XMM1,dword ptr [EAX + 0x4]
006ead15 : MOVAPS XMM3,XMM2
006ead18 : MULSS XMM3,XMM2
006ead1c : MOVAPS XMM2,XMM1
006ead1f : LEA EAX,[EBX + 0x110]
006ead25 : MOV EBX,dword ptr [ESP + 0x14]
006ead29 : MULSS XMM2,XMM1
006ead2d : PUSH EAX
006ead2e : MOVAPS XMM1,XMM0
006ead31 : ADDSS XMM3,XMM2
006ead35 : MULSS XMM1,XMM0
006ead39 : PUSH ECX
006ead3a : MOV EDX,EBX
006ead3c : MOV EAX,EBP
006ead3e : LEA ESI,[ESP + 0x50]
006ead42 : ADDSS XMM3,XMM1
006ead46 : CALL 0x006e9c90
006ead4b : ADD ESP,0x8
006ead4e : CMP byte ptr [ESP + 0x7c],0x0
006ead53 : JZ 0x006eadac
006ead55 : MOV ECX,ESI
006ead57 : MOV EDX,EDI
006ead59 : CALL 0x004fddc0
006ead5e : MOV ECX,dword ptr [EDI + 0x8]
006ead61 : MOV EDX,dword ptr [EDI + 0x4]
006ead64 : MOV ESI,ECX
006ead66 : SHL ESI,0x5
006ead69 : ADD ESI,EDX
006ead6b : CMP EAX,ESI
006ead6d : JNZ 0x006ead8f
006ead6f : TEST ECX,ECX
006ead71 : JBE 0x006ead9e
006ead73 : MOVSS XMM0,dword ptr [EDX + 0x4]
006ead78 : COMISS XMM0,dword ptr [ESP + 0x4c]
006ead7d : JBE 0x006ead9e
006ead7f : MOV EAX,EDX
006ead81 : PUSH EAX
006ead82 : LEA EDX,[ESP + 0x4c]
006ead86 : MOV ECX,EDI
006ead88 : CALL 0x004fd820
006ead8d : JMP 0x006eadbb
006ead8f : MOVSS XMM0,dword ptr [ESP + 0x4c]
006ead95 : COMISS XMM0,dword ptr [EAX + 0x4]
006ead99 : JBE 0x006ead9e
006ead9b : ADD EAX,0x20
006ead9e : PUSH EAX
006ead9f : LEA EDX,[ESP + 0x4c]
006eada3 : MOV ECX,EDI
006eada5 : CALL 0x004fd820
006eadaa : JMP 0x006eadbb
006eadac : MOV ESI,dword ptr [ESP + 0x18]
006eadb0 : LEA EDI,[ESP + 0x48]
006eadb4 : CALL 0x004fc390
006eadb9 : MOV EDI,ESI
006eadbb : ADD EBP,0x140
006eadc1 : SUB dword ptr [ESP + 0x1c],0x1
006eadc6 : JNZ 0x006eacf0
006eadcc : LEA ESI,[ESP + 0x3c]
006eadd0 : CALL 0x004735a0
006eadd5 : MOV EBP,dword ptr [ESP + 0x30]
006eadd9 : JMP 0x006eab9e
006eadde : MOV EAX,dword ptr [ESP + 0x14]
006eade2 : MOVSS XMM0,dword ptr [EAX + 0x1c8]
006eadea : ADD EAX,0x1bc
006eadef : MOV EAX,dword ptr [ESP + 0x1c]
006eadf3 : MOVAPS XMM4,XMM0
006eadf6 : MULSS XMM4,XMM0
006eadfa : MOVSS dword ptr [ESP + 0x2c],XMM4
006eae00 : MOV byte ptr [ESP + 0x64],0xff
006eae05 : MOV byte ptr [ESP + 0x65],0xff
006eae0a : MOV byte ptr [ESP + 0x66],0xff
006eae0f : MOV byte ptr [ESP + 0x67],0xff
006eae14 : TEST EAX,EAX
006eae16 : JLE 0x006eaf96
006eae1c : MOV EBP,dword ptr [ESP + 0x24]
006eae20 : ADD EBP,0x14
006eae23 : MOV EBX,EAX
006eae25 : JMP 0x006eae36
006eae30 : MOVSS XMM4,dword ptr [ESP + 0x2c]
006eae36 : MOV ECX,dword ptr [ESP + 0x78]
006eae3a : MOVSS XMM2,dword ptr [EBP + -0xc]
006eae3f : SUBSS XMM2,dword ptr [ECX + 0x8]
006eae44 : MOVSS XMM0,dword ptr [EBP + -0x14]
006eae49 : SUBSS XMM0,dword ptr [ECX]
006eae4d : MOVSS XMM1,dword ptr [EBP + -0x10]
006eae52 : SUBSS XMM1,dword ptr [ECX + 0x4]
006eae57 : MOV ECX,dword ptr [ESP + 0x14]
006eae5b : LEA EAX,[EBP + -0x14]
006eae5e : MOVAPS XMM3,XMM2
006eae61 : MULSS XMM3,XMM2
006eae65 : MOVAPS XMM2,XMM1
006eae68 : MULSS XMM2,XMM1
006eae6c : ADD ECX,0x1bc
006eae72 : CMP byte ptr [ECX + 0x10],0x0
006eae76 : MOVAPS XMM1,XMM0
006eae79 : ADDSS XMM3,XMM2
006eae7d : MULSS XMM1,XMM0
006eae81 : ADDSS XMM3,XMM1
006eae85 : JZ 0x006eae90
006eae87 : COMISS XMM4,XMM3
006eae8a : JBE 0x006eaf87
006eae90 : MOV EDX,dword ptr [ESP + 0x6c]
006eae94 : MOVSS XMM0,dword ptr [EBP + 0x8]
006eae99 : MOVSS XMM1,dword ptr [EBP + 0x4]
006eae9e : MOVSS XMM2,dword ptr [EBP]
006eaea3 : MOVSS XMM4,dword ptr [EBP + -0x4]
006eaea8 : XORPS XMM0,xmmword ptr [0x00cdf0c0]
006eaeaf : XOR ECX,ECX
006eaeb1 : ADD EDX,0x4
006eaeb4 : JMP 0x006eaec0
006eaec0 : MOVSS XMM5,dword ptr [EDX + -0x4]
006eaec5 : MOVSS XMM6,dword ptr [EDX + 0x4]
006eaeca : MULSS XMM5,XMM4
006eaece : MULSS XMM6,XMM1
006eaed2 : ADDSS XMM5,XMM6
006eaed6 : MOVAPS XMM6,XMM2
006eaed9 : MULSS XMM6,dword ptr [EDX]
006eaedd : ADDSS XMM5,XMM6
006eaee1 : ADDSS XMM5,dword ptr [EDX + 0x8]
006eaee6 : COMISS XMM0,XMM5
006eaee9 : JA 0x006eaf87
006eaeef : INC ECX
006eaef0 : ADD EDX,0x10
006eaef3 : CMP ECX,0x6
006eaef6 : JL 0x006eaec0
006eaef8 : MOV ECX,dword ptr [ESP + 0x14]
006eaefc : LEA EDX,[ECX + 0x110]
006eaf02 : PUSH EDX
006eaf03 : MOV EDX,dword ptr [ESP + 0x18]
006eaf07 : ADD ECX,0x1bc
006eaf0d : PUSH ECX
006eaf0e : LEA ESI,[ESP + 0x50]
006eaf12 : CALL 0x006e9c90
006eaf17 : ADD ESP,0x8
006eaf1a : CMP byte ptr [ESP + 0x7c],0x0
006eaf1f : JZ 0x006eaf78
006eaf21 : MOV ECX,ESI
006eaf23 : MOV EDX,EDI
006eaf25 : CALL 0x004fddc0
006eaf2a : MOV ECX,dword ptr [EDI + 0x8]
006eaf2d : MOV EDX,dword ptr [EDI + 0x4]
006eaf30 : MOV ESI,ECX
006eaf32 : SHL ESI,0x5
006eaf35 : ADD ESI,EDX
006eaf37 : CMP EAX,ESI
006eaf39 : JNZ 0x006eaf5b
006eaf3b : TEST ECX,ECX
006eaf3d : JBE 0x006eaf6a
006eaf3f : MOVSS XMM0,dword ptr [EDX + 0x4]
006eaf44 : COMISS XMM0,dword ptr [ESP + 0x4c]
006eaf49 : JBE 0x006eaf6a
006eaf4b : MOV EAX,EDX
006eaf4d : PUSH EAX
006eaf4e : LEA EDX,[ESP + 0x4c]
006eaf52 : MOV ECX,EDI
006eaf54 : CALL 0x004fd820
006eaf59 : JMP 0x006eaf87
006eaf5b : MOVSS XMM0,dword ptr [ESP + 0x4c]
006eaf61 : COMISS XMM0,dword ptr [EAX + 0x4]
006eaf65 : JBE 0x006eaf6a
006eaf67 : ADD EAX,0x20
006eaf6a : PUSH EAX
006eaf6b : LEA EDX,[ESP + 0x4c]
006eaf6f : MOV ECX,EDI
006eaf71 : CALL 0x004fd820
006eaf76 : JMP 0x006eaf87
006eaf78 : MOV ESI,dword ptr [ESP + 0x18]
006eaf7c : LEA EDI,[ESP + 0x48]
006eaf80 : CALL 0x004fc390
006eaf85 : MOV EDI,ESI
006eaf87 : ADD EBP,0x140
006eaf8d : SUB EBX,0x1
006eaf90 : JNZ 0x006eae30
006eaf96 : LEA ESI,[ESP + 0x3c]
006eaf9a : CALL 0x004735a0
006eaf9f : MOV EBP,dword ptr [ESP + 0x30]
006eafa3 : JMP 0x006eab9e
006eafa8 : POP EDI
006eafa9 : POP ESI
006eafaa : POP EBP
006eafab : POP EBX
006eafac : ADD ESP,0x58
006eafaf : RET
