PROGRAM  : Maestia.exe
FUNCTION : FUN_00807ae0
ENTRY    : 00807ae0
BODY     : [[00807ae0, 00807d65]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 * FUN_00807ae0(undefined4 *param_1)

{
  uint uVar1;
  void *pvVar2;
  void *local_c;
  undefined1 *puStack_8;
  undefined4 local_4;
  
  puStack_8 = &LAB_00b3cdd2;
  local_c = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffffe0;
  ExceptionList = &local_c;
  *param_1 = &PTR_FUN_00cd41f8;
  param_1[1] = &PTR_FUN_00cd3f48;
  param_1[2] = 0;
  *(undefined1 *)(param_1 + 3) = 0;
  local_4 = 0;
  param_1[0x43] = 0;
  param_1[0x44] = 0;
  param_1[0x45] = 0;
  param_1[0x46] = 0;
  param_1[0x47] = 0;
  param_1[0x48] = 0;
  param_1[0x49] = 0;
  param_1[0x4a] = 0;
  param_1[0x4b] = 0;
  param_1[0x4c] = 0;
  param_1[0x4d] = 0;
  param_1[0x4e] = 0;
  param_1[0x4f] = 0;
  param_1[0x53] = 0;
  param_1[0x52] = 0xbf800000;
  param_1[0x51] = 0xbf800000;
  param_1[0x50] = 0xbf800000;
  FUN_00806ff0(uVar1);
  param_1[0x6e] = 0;
  local_4._0_1_ = 1;
  param_1[0x6f] = 0x42c80000;
  param_1[0x70] = 0x43160000;
  param_1[0x71] = 0x43fa0000;
  param_1[0x72] = 0x44480000;
  *(undefined1 *)(param_1 + 0x73) = 1;
  param_1[0x74] = 0x42480000;
  param_1[0x75] = 0x43960000;
  param_1[0x76] = 0x42c80000;
  param_1[0x77] = 0x43160000;
  param_1[0x78] = 0x43fa0000;
  param_1[0x79] = 0x44480000;
  *(undefined1 *)(param_1 + 0x7a) = 1;
  param_1[0x7b] = 0x42480000;
  param_1[0x7c] = 0x43960000;
  FUN_008060b0();
  param_1[0x356] = 0x7f7fffff;
  param_1[0x357] = 0x7f7fffff;
  param_1[0x358] = 0x7f7fffff;
  param_1[0x359] = 0xff7fffff;
  param_1[0x35a] = 0xff7fffff;
  param_1[0x35b] = 0xff7fffff;
  param_1[0x35c] = 0;
  param_1[0x35d] = 0;
  FUN_00455b50(param_1 + 0x35e);
  local_4 = CONCAT31(local_4._1_3_,2);
  *(undefined1 *)(param_1 + 0x368) = 0;
  *(undefined1 *)((int)param_1 + 0xda1) = 0;
  param_1[0x7d] = 0;
  *(undefined2 *)(param_1 + 0x7e) = 0;
  *(undefined8 *)(param_1 + 0x363) = 0;
  *(undefined8 *)(param_1 + 0x365) = 0;
  param_1[0x367] = 0;
  if (DAT_00da98d4 == 0) {
    if (DAT_00da98c8 == (int *)0x0) {
      pvVar2 = _malloc(0x2c);
    }
    else {
      pvVar2 = (void *)(**(code **)(*DAT_00da98c8 + 4))();
    }
    if (pvVar2 == (void *)0x0) {
      pvVar2 = (void *)0x0;
    }
    else {
      _DAT_00da98cc = _DAT_00da98cc + 0x2c;
      _DAT_00da98d0 = _DAT_00da98d0 + 1;
    }
    local_4 = CONCAT31(local_4._1_3_,3);
    if (pvVar2 == (void *)0x0) {
      DAT_00da98d4 = 0;
    }
    else {
      DAT_00da98d4 = FUN_00b03890(pvVar2);
    }
  }
  ExceptionList = local_c;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00807ae0 : PUSH -0x1
00807ae2 : PUSH 0xb3cdd2
00807ae7 : MOV EAX,FS:[0x0]
00807aed : PUSH EAX
00807aee : SUB ESP,0x8
00807af1 : PUSH EBX
00807af2 : PUSH ESI
00807af3 : PUSH EDI
00807af4 : MOV EAX,[0x00d66fa0]
00807af9 : XOR EAX,ESP
00807afb : PUSH EAX
00807afc : LEA EAX,[ESP + 0x18]
00807b00 : MOV FS:[0x0],EAX
00807b06 : MOV EDI,dword ptr [ESP + 0x28]
00807b0a : MOV dword ptr [EDI],0xcd41f8
00807b10 : XOR EBX,EBX
00807b12 : MOV dword ptr [EDI + 0x4],0xcd3f48
00807b19 : MOV dword ptr [EDI + 0x8],EBX
00807b1c : MOV byte ptr [EDI + 0xc],BL
00807b1f : MOV dword ptr [ESP + 0x20],EBX
00807b23 : MOVSS XMM0,dword ptr [0x00cdf0d0]
00807b2b : MOV dword ptr [EDI + 0x10c],EBX
00807b31 : MOV dword ptr [EDI + 0x110],EBX
00807b37 : MOV dword ptr [EDI + 0x114],EBX
00807b3d : MOV dword ptr [EDI + 0x118],EBX
00807b43 : MOV dword ptr [EDI + 0x11c],EBX
00807b49 : MOV dword ptr [EDI + 0x120],EBX
00807b4f : MOV dword ptr [EDI + 0x124],EBX
00807b55 : MOV dword ptr [EDI + 0x128],EBX
00807b5b : MOV dword ptr [EDI + 0x12c],EBX
00807b61 : MOV dword ptr [EDI + 0x130],EBX
00807b67 : MOV dword ptr [EDI + 0x134],EBX
00807b6d : LEA EAX,[EDI + 0x150]
00807b73 : MOV dword ptr [EDI + 0x138],EBX
00807b79 : MOV dword ptr [EDI + 0x13c],EBX
00807b7f : MOV dword ptr [EDI + 0x14c],EBX
00807b85 : MOVSS dword ptr [EDI + 0x148],XMM0
00807b8d : MOVSS dword ptr [EDI + 0x144],XMM0
00807b95 : MOVSS dword ptr [EDI + 0x140],XMM0
00807b9d : CALL 0x00806ff0
00807ba2 : MOV dword ptr [EDI + 0x1b8],EBX
00807ba8 : MOV byte ptr [ESP + 0x20],0x1
00807bad : MOVSS XMM0,dword ptr [0x00cdf230]
00807bb5 : MOVSS XMM1,dword ptr [0x00cdf22c]
00807bbd : MOVSS XMM2,dword ptr [0x00cdf228]
00807bc5 : MOVSS XMM3,dword ptr [0x00cdf224]
00807bcd : MOVSS XMM4,dword ptr [0x00cdf214]
00807bd5 : MOVSS XMM5,dword ptr [0x00cdf220]
00807bdd : MOVSS dword ptr [EDI + 0x1bc],XMM0
00807be5 : MOVSS dword ptr [EDI + 0x1c0],XMM1
00807bed : MOVSS dword ptr [EDI + 0x1c4],XMM2
00807bf5 : MOVSS dword ptr [EDI + 0x1c8],XMM3
00807bfd : MOV byte ptr [EDI + 0x1cc],0x1
00807c04 : MOVSS dword ptr [EDI + 0x1d0],XMM4
00807c0c : MOVSS dword ptr [EDI + 0x1d4],XMM5
00807c14 : LEA ESI,[EDI + 0x1fc]
00807c1a : MOVSS dword ptr [EDI + 0x1d8],XMM0
00807c22 : MOVSS dword ptr [EDI + 0x1dc],XMM1
00807c2a : MOVSS dword ptr [EDI + 0x1e0],XMM2
00807c32 : MOVSS dword ptr [EDI + 0x1e4],XMM3
00807c3a : MOV byte ptr [EDI + 0x1e8],0x1
00807c41 : MOVSS dword ptr [EDI + 0x1ec],XMM4
00807c49 : MOVSS dword ptr [EDI + 0x1f0],XMM5
00807c51 : CALL 0x008060b0
00807c56 : MOVSS XMM0,dword ptr [0x00cdf0d8]
00807c5e : MOVSS dword ptr [EDI + 0xd58],XMM0
00807c66 : MOVSS dword ptr [EDI + 0xd5c],XMM0
00807c6e : MOVSS dword ptr [EDI + 0xd60],XMM0
00807c76 : MOVSS XMM0,dword ptr [0x00cdf0d4]
00807c7e : LEA EAX,[EDI + 0xd78]
00807c84 : MOVSS dword ptr [EDI + 0xd64],XMM0
00807c8c : MOVSS dword ptr [EDI + 0xd68],XMM0
00807c94 : MOVSS dword ptr [EDI + 0xd6c],XMM0
00807c9c : PUSH EAX
00807c9d : MOV dword ptr [EDI + 0xd70],EBX
00807ca3 : MOV dword ptr [EDI + 0xd74],EBX
00807ca9 : CALL 0x00455b50
00807cae : MOV byte ptr [ESP + 0x20],0x2
00807cb3 : MOV byte ptr [EDI + 0xda0],BL
00807cb9 : MOV byte ptr [EDI + 0xda1],BL
00807cbf : XOR EAX,EAX
00807cc1 : MOV dword ptr [EDI + 0x1f4],EAX
00807cc7 : MOV word ptr [EDI + 0x1f8],AX
00807cce : PXOR XMM0,XMM0
00807cd2 : MOVQ qword ptr [EDI + 0xd8c],XMM0
00807cda : MOVQ qword ptr [EDI + 0xd94],XMM0
00807ce2 : MOV dword ptr [EDI + 0xd9c],EBX
00807ce8 : CMP dword ptr [0x00da98d4],EBX
00807cee : JNZ 0x00807d47
00807cf0 : MOV ECX,dword ptr [0x00da98c8]
00807cf6 : PUSH 0x2c
00807cf8 : CMP ECX,EBX
00807cfa : JZ 0x00807d05
00807cfc : MOV EDX,dword ptr [ECX]
00807cfe : MOV EAX,dword ptr [EDX + 0x4]
00807d01 : CALL EAX
00807d03 : JMP 0x00807d0d
00807d05 : CALL 0x00636043
00807d0a : ADD ESP,0x4
00807d0d : CMP EAX,EBX
00807d0f : JZ 0x00807d20
00807d11 : ADD dword ptr [0x00da98cc],0x2c
00807d18 : INC dword ptr [0x00da98d0]
00807d1e : JMP 0x00807d22
00807d20 : XOR EAX,EAX
00807d22 : MOV dword ptr [ESP + 0x10],EAX
00807d26 : MOV dword ptr [ESP + 0x14],EAX
00807d2a : MOV byte ptr [ESP + 0x20],0x3
00807d2f : CMP EAX,EBX
00807d31 : JZ 0x00807d3b
00807d33 : PUSH EAX
00807d34 : CALL 0x00b03890
00807d39 : JMP 0x00807d3d
00807d3b : XOR EAX,EAX
00807d3d : MOV byte ptr [ESP + 0x20],0x2
00807d42 : MOV [0x00da98d4],EAX
00807d47 : MOV dword ptr [ESP + 0x20],0xffffffff
00807d4f : MOV EAX,EDI
00807d51 : MOV ECX,dword ptr [ESP + 0x18]
00807d55 : MOV dword ptr FS:[0x0],ECX
00807d5c : POP ECX
00807d5d : POP EDI
00807d5e : POP ESI
00807d5f : POP EBX
00807d60 : ADD ESP,0x14
00807d63 : RET 0x4
