PROGRAM  : Maestia.exe
FUNCTION : FUN_00a829e0
ENTRY    : 00a829e0
BODY     : [[00a829e0, 00a82ae9]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00a82a0c) */

void FUN_00a829e0(int param_1,int param_2)

{
  int *piVar1;
  uint uVar2;
  short sVar3;
  int iVar4;
  
  if (*(int *)(param_1 + 0x40) != *(int *)(param_1 + 0x44)) {
    *(int *)(param_1 + 0x44) = *(int *)(param_1 + 0x40);
  }
  uVar2 = 0;
  *(undefined4 *)(param_1 + 0x4c) = 0;
  iVar4 = *(int *)(param_1 + 0x40);
  if (iVar4 != 0) {
    uVar2 = *(int *)(param_1 + 0x48) - iVar4 >> 2;
  }
  piVar1 = *(int **)(param_1 + 0x44);
  if ((uint)((int)piVar1 - iVar4 >> 2) < uVar2) {
    *piVar1 = param_2;
    *(int **)(param_1 + 0x44) = piVar1 + 1;
  }
  else {
    FUN_0042fe80(param_1 + 0x3c,piVar1,&param_2);
  }
  piVar1 = DAT_00da9894;
  if (*(int *)(*DAT_00da9894 + 0x1d4) == 0) goto LAB_00a82a9a;
  iVar4 = *(int *)(*(int *)(*DAT_00da9894 + 0x1d4) + 0x1bc);
  if (iVar4 == 0) {
    iVar4 = *(int *)(param_2 + 0x78);
  }
  else {
    if (iVar4 == 1) {
      *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + *(int *)(param_2 + 0x80);
      goto LAB_00a82a9a;
    }
    if (iVar4 != 2) goto LAB_00a82a9a;
    iVar4 = *(int *)(param_2 + 0x8c);
  }
  *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x4c) + iVar4;
LAB_00a82a9a:
  sVar3 = (short)(((*(int *)(param_1 + 0x44) - *(int *)(param_1 + 0x40) >> 2) - 1U) / 0x14);
  *(short *)(param_1 + 0x3a) = sVar3;
  if ((*piVar1 != 0) && (piVar1 = *(int **)(*piVar1 + 0x114), piVar1 != (int *)0x0)) {
    (**(code **)(*piVar1 + 4))(piVar1,"PremiumGiftMaxScroll",&DAT_00c559b4,(int)sVar3);
  }
  FUN_00a820b0();
  return;
}



============================================================
DISASSEMBLY
============================================================
00a829e0 : PUSH EBP
00a829e1 : MOV EBP,ESP
00a829e3 : PUSH ECX
00a829e4 : PUSH EBX
00a829e5 : PUSH ESI
00a829e6 : PUSH EDI
00a829e7 : MOV EDI,dword ptr [EBP + 0x8]
00a829ea : MOV EDX,dword ptr [EDI + 0x40]
00a829ed : MOV ECX,dword ptr [EDI + 0x44]
00a829f0 : LEA ESI,[EDI + 0x3c]
00a829f3 : CMP EDX,ECX
00a829f5 : JZ 0x00a82a1e
00a829f7 : MOV EAX,ECX
00a829f9 : SUB EAX,ECX
00a829fb : SAR EAX,0x2
00a829fe : LEA EDI,[EAX*0x4 + 0x0]
00a82a05 : LEA EBX,[EDI + EDX*0x1]
00a82a08 : TEST EAX,EAX
00a82a0a : JLE 0x00a82a18
00a82a0c : PUSH EDI
00a82a0d : PUSH ECX
00a82a0e : PUSH EDI
00a82a0f : PUSH EDX
00a82a10 : CALL 0x00634101
00a82a15 : ADD ESP,0x10
00a82a18 : MOV EDI,dword ptr [EBP + 0x8]
00a82a1b : MOV dword ptr [ESI + 0x8],EBX
00a82a1e : XOR EAX,EAX
00a82a20 : MOV dword ptr [EDI + 0x4c],EAX
00a82a23 : MOV EDX,dword ptr [ESI + 0x4]
00a82a26 : CMP EDX,EAX
00a82a28 : JZ 0x00a82a32
00a82a2a : MOV EAX,dword ptr [ESI + 0xc]
00a82a2d : SUB EAX,EDX
00a82a2f : SAR EAX,0x2
00a82a32 : MOV ECX,dword ptr [ESI + 0x8]
00a82a35 : MOV EBX,ECX
00a82a37 : SUB EBX,EDX
00a82a39 : SAR EBX,0x2
00a82a3c : CMP EBX,EAX
00a82a3e : JNC 0x00a82a4d
00a82a40 : MOV EDX,dword ptr [EBP + 0xc]
00a82a43 : MOV dword ptr [ECX],EDX
00a82a45 : ADD ECX,0x4
00a82a48 : MOV dword ptr [ESI + 0x8],ECX
00a82a4b : JMP 0x00a82a5b
00a82a4d : LEA EAX,[EBP + 0xc]
00a82a50 : PUSH EAX
00a82a51 : PUSH ECX
00a82a52 : PUSH ESI
00a82a53 : CALL 0x0042fe80
00a82a58 : MOV EDX,dword ptr [EBP + 0xc]
00a82a5b : MOV ECX,dword ptr [0x00da9894]
00a82a61 : MOV EAX,dword ptr [ECX]
00a82a63 : MOV EAX,dword ptr [EAX + 0x1d4]
00a82a69 : TEST EAX,EAX
00a82a6b : JZ 0x00a82a9a
00a82a6d : MOV EAX,dword ptr [EAX + 0x1bc]
00a82a73 : TEST EAX,EAX
00a82a75 : JNZ 0x00a82a7c
00a82a77 : MOV EDX,dword ptr [EDX + 0x78]
00a82a7a : JMP 0x00a82a97
00a82a7c : CMP EAX,0x1
00a82a7f : JNZ 0x00a82a8c
00a82a81 : MOV EAX,dword ptr [EDX + 0x80]
00a82a87 : ADD dword ptr [EDI + 0x4c],EAX
00a82a8a : JMP 0x00a82a9a
00a82a8c : CMP EAX,0x2
00a82a8f : JNZ 0x00a82a9a
00a82a91 : MOV EDX,dword ptr [EDX + 0x8c]
00a82a97 : ADD dword ptr [EDI + 0x4c],EDX
00a82a9a : MOV EDX,dword ptr [ESI + 0x8]
00a82a9d : SUB EDX,dword ptr [ESI + 0x4]
00a82aa0 : MOV EAX,0xcccccccd
00a82aa5 : SAR EDX,0x2
00a82aa8 : DEC EDX
00a82aa9 : MUL EDX
00a82aab : SHR EDX,0x4
00a82aae : MOV word ptr [EDI + 0x3a],DX
00a82ab2 : MOV EAX,dword ptr [ECX]
00a82ab4 : TEST EAX,EAX
00a82ab6 : JZ 0x00a82adb
00a82ab8 : MOV EAX,dword ptr [EAX + 0x114]
00a82abe : TEST EAX,EAX
00a82ac0 : JZ 0x00a82adb
00a82ac2 : MOV ECX,dword ptr [EAX]
00a82ac4 : MOVSX EDX,DX
00a82ac7 : PUSH EDX
00a82ac8 : PUSH 0xc559b4
00a82acd : PUSH 0xc55a20
00a82ad2 : PUSH EAX
00a82ad3 : MOV EAX,dword ptr [ECX + 0x4]
00a82ad6 : CALL EAX
00a82ad8 : ADD ESP,0x10
00a82adb : MOV ECX,EDI
00a82add : CALL 0x00a820b0
00a82ae2 : POP EDI
00a82ae3 : POP ESI
00a82ae4 : POP EBX
00a82ae5 : POP ECX
00a82ae6 : POP EBP
00a82ae7 : RET 0x8
