PROGRAM  : Maestia.exe
FUNCTION : FUN_008a00e0
ENTRY    : 008a00e0
BODY     : [[008a00e0, 008a0233]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008a00e0(int param_1)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  undefined1 local_64 [8];
  undefined4 local_5c;
  int local_58;
  int local_54;
  int local_50;
  undefined4 local_4c;
  int local_48;
  undefined1 local_44 [4];
  undefined1 local_40 [28];
  undefined1 local_24;
  undefined4 local_1c;
  uint local_18;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1c879;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_50 = param_1;
  local_18 = uVar2;
  if ((*(int *)(param_1 + 0x68) != 0) &&
     (local_48 = **(int **)(param_1 + 100), (int *)local_48 != *(int **)(param_1 + 100))) {
    do {
      iVar1 = local_48;
      FUN_00435430(local_44);
      local_8 = 0;
      iVar3 = FUN_006f0760(0x38,".\\Sound\\AvaGameSoundMgr.cpp",0x23a,0,uVar2);
      iVar5 = 0;
      if (iVar3 != 0) {
        *(undefined4 *)(iVar3 + 0x18) = 7;
        *(undefined4 *)(iVar3 + 0x14) = 0;
        *(undefined2 *)(iVar3 + 4) = 0;
        iVar5 = iVar3;
      }
      local_8 = local_8 & 0xffffff00;
      *(undefined4 *)(iVar5 + 0x2c) = local_1c;
      local_4c = local_1c;
      FUN_00440830(&local_4c);
      iVar3 = local_50;
      if (local_54 != *(int *)(local_50 + 0x1c)) {
        *(undefined4 *)(iVar5 + 0x20) = *(undefined4 *)(local_54 + 0x14);
        *(undefined4 *)(iVar5 + 0x1c) = *(undefined4 *)(local_54 + 0x10);
        *(undefined4 *)(iVar5 + 0x24) = *(undefined4 *)(local_54 + 0x18);
      }
      uVar4 = FUN_0089f570();
      *(undefined4 *)(iVar5 + 0x28) = uVar4;
      FUN_00405eb0(local_40,0,0xffffffff);
      *(undefined1 *)(iVar5 + 0x34) = local_24;
      local_5c = *(undefined4 *)(iVar1 + 0xc);
      local_58 = iVar5;
      FUN_00429740(local_64,&local_5c);
      local_8 = 0xffffffff;
      FUN_004427d0(local_44);
      FUN_004c9470();
    } while (local_48 != *(int *)(iVar3 + 100));
  }
  ExceptionList = local_10;
  __security_check_cookie(local_18 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
008a00e0 : PUSH EBP
008a00e1 : MOV EBP,ESP
008a00e3 : PUSH -0x1
008a00e5 : PUSH 0xb1c879
008a00ea : MOV EAX,FS:[0x0]
008a00f0 : PUSH EAX
008a00f1 : SUB ESP,0x58
008a00f4 : MOV EAX,[0x00d66fa0]
008a00f9 : XOR EAX,EBP
008a00fb : MOV dword ptr [EBP + -0x14],EAX
008a00fe : PUSH EBX
008a00ff : PUSH ESI
008a0100 : PUSH EDI
008a0101 : PUSH EAX
008a0102 : LEA EAX,[EBP + -0xc]
008a0105 : MOV FS:[0x0],EAX
008a010b : MOV EAX,dword ptr [EBP + 0x8]
008a010e : MOV ECX,dword ptr [EAX + 0x68]
008a0111 : XOR ESI,ESI
008a0113 : MOV dword ptr [EBP + -0x4c],EAX
008a0116 : CMP ECX,ESI
008a0118 : JZ 0x008a0216
008a011e : MOV EAX,dword ptr [EAX + 0x64]
008a0121 : MOV EBX,dword ptr [EAX]
008a0123 : MOV dword ptr [EBP + -0x44],EBX
008a0126 : CMP EBX,EAX
008a0128 : JZ 0x008a0216
008a012e : JMP 0x008a0132
008a0130 : XOR ESI,ESI
008a0132 : LEA EAX,[EBP + -0x40]
008a0135 : LEA EDI,[EBX + 0x10]
008a0138 : PUSH EAX
008a0139 : CALL 0x00435430
008a013e : MOV dword ptr [EBP + -0x4],ESI
008a0141 : PUSH ESI
008a0142 : PUSH 0x23a
008a0147 : PUSH 0xc48fb0
008a014c : PUSH 0x38
008a014e : CALL 0x006f0760
008a0153 : ADD ESP,0x10
008a0156 : MOV dword ptr [EBP + -0x48],EAX
008a0159 : MOV byte ptr [EBP + -0x4],0x1
008a015d : CMP EAX,ESI
008a015f : JZ 0x008a0177
008a0161 : XOR ECX,ECX
008a0163 : MOV dword ptr [EAX + 0x18],0x7
008a016a : MOV dword ptr [EAX + 0x14],ESI
008a016d : MOV word ptr [EAX + 0x4],CX
008a0171 : MOV byte ptr [EBP + -0x4],0x1
008a0175 : MOV ESI,EAX
008a0177 : MOV byte ptr [EBP + -0x4],0x0
008a017b : MOV EDX,dword ptr [EBP + -0x18]
008a017e : LEA ECX,[EBP + -0x48]
008a0181 : MOV dword ptr [ESI + 0x2c],EDX
008a0184 : MOV EAX,dword ptr [EBP + -0x18]
008a0187 : PUSH ECX
008a0188 : MOV ECX,dword ptr [EBP + -0x4c]
008a018b : MOV dword ptr [EBP + -0x48],EAX
008a018e : LEA EAX,[EBP + -0x50]
008a0191 : ADD ECX,0x18
008a0194 : CALL 0x00440830
008a0199 : MOV EDI,dword ptr [EBP + -0x4c]
008a019c : MOV EAX,dword ptr [EDI + 0x1c]
008a019f : MOV ECX,dword ptr [EBP + -0x50]
008a01a2 : CMP ECX,EAX
008a01a4 : JZ 0x008a01b8
008a01a6 : FLD float ptr [ECX + 0x14]
008a01a9 : FSTP float ptr [ESI + 0x20]
008a01ac : FLD float ptr [ECX + 0x10]
008a01af : FSTP float ptr [ESI + 0x1c]
008a01b2 : FLD float ptr [ECX + 0x18]
008a01b5 : FSTP float ptr [ESI + 0x24]
008a01b8 : MOVZX EAX,word ptr [EBP + -0x40]
008a01bc : CALL 0x0089f570
008a01c1 : PUSH -0x1
008a01c3 : PUSH 0x0
008a01c5 : LEA EDX,[EBP + -0x3c]
008a01c8 : PUSH EDX
008a01c9 : MOV ECX,ESI
008a01cb : MOV dword ptr [ESI + 0x28],EAX
008a01ce : CALL 0x00405eb0
008a01d3 : MOV AL,byte ptr [EBP + -0x20]
008a01d6 : MOV byte ptr [ESI + 0x34],AL
008a01d9 : MOV ECX,dword ptr [EBX + 0xc]
008a01dc : LEA EDX,[EBP + -0x58]
008a01df : PUSH EDX
008a01e0 : LEA EAX,[EBP + -0x60]
008a01e3 : PUSH EAX
008a01e4 : LEA EAX,[EDI + 0x3c]
008a01e7 : MOV dword ptr [EBP + -0x58],ECX
008a01ea : MOV dword ptr [EBP + -0x54],ESI
008a01ed : CALL 0x00429740
008a01f2 : MOV dword ptr [EBP + -0x4],0xffffffff
008a01f9 : LEA ECX,[EBP + -0x40]
008a01fc : PUSH ECX
008a01fd : CALL 0x004427d0
008a0202 : LEA EDX,[EBP + -0x44]
008a0205 : CALL 0x004c9470
008a020a : MOV EBX,dword ptr [EBP + -0x44]
008a020d : CMP EBX,dword ptr [EDI + 0x64]
008a0210 : JNZ 0x008a0130
008a0216 : MOV ECX,dword ptr [EBP + -0xc]
008a0219 : MOV dword ptr FS:[0x0],ECX
008a0220 : POP ECX
008a0221 : POP EDI
008a0222 : POP ESI
008a0223 : POP EBX
008a0224 : MOV ECX,dword ptr [EBP + -0x14]
008a0227 : XOR ECX,EBP
008a0229 : CALL 0x00633e6b
008a022e : MOV ESP,EBP
008a0230 : POP EBP
008a0231 : RET 0x4
