PROGRAM  : Maestia.exe
FUNCTION : FUN_00436620
ENTRY    : 00436620
BODY     : [[00436620, 0043668c] [00436690, 004366db]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00436620(int *param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int unaff_ESI;
  undefined4 *unaff_EDI;
  
  piVar2 = *(int **)(unaff_ESI + 4);
  if ((param_1 == (int *)*piVar2) && (param_2 == piVar2)) {
    FUN_00437ad0(piVar2[1]);
    *(int *)(*(int *)(unaff_ESI + 4) + 4) = *(int *)(unaff_ESI + 4);
    *(undefined4 *)(unaff_ESI + 8) = 0;
    *(undefined4 *)*(undefined4 *)(unaff_ESI + 4) = *(undefined4 *)(unaff_ESI + 4);
    *(int *)(*(int *)(unaff_ESI + 4) + 8) = *(int *)(unaff_ESI + 4);
    *unaff_EDI = **(undefined4 **)(unaff_ESI + 4);
    return;
  }
  while (param_1 != param_2) {
    if (*(char *)((int)param_1 + 0x2d) == '\0') {
      piVar2 = (int *)param_1[2];
      if (*(char *)((int)piVar2 + 0x2d) == '\0') {
        cVar1 = *(char *)(*piVar2 + 0x2d);
        param_1 = piVar2;
        piVar2 = (int *)*piVar2;
        while (cVar1 == '\0') {
          cVar1 = *(char *)(*piVar2 + 0x2d);
          param_1 = piVar2;
          piVar2 = (int *)*piVar2;
        }
      }
      else {
        cVar1 = *(char *)(param_1[1] + 0x2d);
        piVar3 = (int *)param_1[1];
        piVar2 = param_1;
        while ((param_1 = piVar3, cVar1 == '\0' && (piVar2 == (int *)param_1[2]))) {
          cVar1 = *(char *)(param_1[1] + 0x2d);
          piVar3 = (int *)param_1[1];
          piVar2 = param_1;
        }
      }
    }
    FUN_00437730();
  }
  *unaff_EDI = param_1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00436620 : PUSH EBP
00436621 : MOV EBP,ESP
00436623 : AND ESP,0xfffffff8
00436626 : MOV EAX,dword ptr [ESI + 0x4]
00436629 : MOV ECX,dword ptr [EBP + 0x8]
0043662c : MOV EDX,dword ptr [EBP + 0xc]
0043662f : SUB ESP,0x8
00436632 : CMP ECX,dword ptr [EAX]
00436634 : JNZ 0x0043666c
00436636 : CMP EDX,EAX
00436638 : JNZ 0x0043666c
0043663a : MOV EAX,dword ptr [EAX + 0x4]
0043663d : PUSH EAX
0043663e : MOV ECX,ESI
00436640 : CALL 0x00437ad0
00436645 : MOV EAX,dword ptr [ESI + 0x4]
00436648 : MOV dword ptr [EAX + 0x4],EAX
0043664b : MOV EAX,dword ptr [ESI + 0x4]
0043664e : MOV dword ptr [ESI + 0x8],0x0
00436655 : MOV dword ptr [EAX],EAX
00436657 : MOV EAX,dword ptr [ESI + 0x4]
0043665a : MOV dword ptr [EAX + 0x8],EAX
0043665d : MOV ECX,dword ptr [ESI + 0x4]
00436660 : MOV EDX,dword ptr [ECX]
00436662 : MOV dword ptr [EDI],EDX
00436664 : MOV EAX,EDI
00436666 : MOV ESP,EBP
00436668 : POP EBP
00436669 : RET 0x8
0043666c : CMP ECX,EDX
0043666e : JZ 0x004366d2
00436670 : CMP byte ptr [ECX + 0x2d],0x0
00436674 : MOV EDX,ECX
00436676 : JNZ 0x004366be
00436678 : MOV EAX,dword ptr [ECX + 0x8]
0043667b : CMP byte ptr [EAX + 0x2d],0x0
0043667f : JNZ 0x0043669f
00436681 : MOV ECX,EAX
00436683 : MOV EAX,dword ptr [ECX]
00436685 : CMP byte ptr [EAX + 0x2d],0x0
00436689 : JNZ 0x0043669a
0043668b : JMP 0x00436690
00436690 : MOV ECX,EAX
00436692 : MOV EAX,dword ptr [ECX]
00436694 : CMP byte ptr [EAX + 0x2d],0x0
00436698 : JZ 0x00436690
0043669a : MOV dword ptr [EBP + 0x8],ECX
0043669d : JMP 0x004366be
0043669f : MOV EAX,dword ptr [ECX + 0x4]
004366a2 : CMP byte ptr [EAX + 0x2d],0x0
004366a6 : JNZ 0x004366bb
004366a8 : CMP ECX,dword ptr [EAX + 0x8]
004366ab : JNZ 0x004366bb
004366ad : MOV ECX,EAX
004366af : MOV dword ptr [EBP + 0x8],ECX
004366b2 : MOV EAX,dword ptr [EAX + 0x4]
004366b5 : CMP byte ptr [EAX + 0x2d],0x0
004366b9 : JZ 0x004366a8
004366bb : MOV dword ptr [EBP + 0x8],EAX
004366be : PUSH EDX
004366bf : LEA EAX,[ESP + 0x8]
004366c3 : PUSH EAX
004366c4 : PUSH ESI
004366c5 : CALL 0x00437730
004366ca : MOV ECX,dword ptr [EBP + 0x8]
004366cd : CMP ECX,dword ptr [EBP + 0xc]
004366d0 : JNZ 0x00436670
004366d2 : MOV dword ptr [EDI],ECX
004366d4 : MOV EAX,EDI
004366d6 : MOV ESP,EBP
004366d8 : POP EBP
004366d9 : RET 0x8
