PROGRAM  : Maestia.exe
FUNCTION : FUN_0046f2a0
ENTRY    : 0046f2a0
BODY     : [[0046f2a0, 0046f354]]

============================================================
DECOMPILED C CODE
============================================================

bool FUN_0046f2a0(uint param_1,uint param_2)

{
  int *piVar1;
  size_t _Size;
  int iVar2;
  int iVar3;
  size_t *psVar4;
  size_t *psVar5;
  uint uVar6;
  
  uVar6 = param_2;
  iVar2 = param_1;
  if (*(char *)(param_1 + 0x10) == '\0') {
    if (*(uint *)(param_1 + 0xc) < param_2) {
      iVar3 = FUN_0046f1c0(param_2);
      if (*(int *)(param_1 + 8) != 0) {
        piVar1 = (int *)(param_1 + 4);
        param_1 = 0;
        psVar4 = (size_t *)(iVar3 + 4);
        psVar5 = (size_t *)(*piVar1 + 4);
        do {
          _Size = *psVar5;
          *psVar4 = _Size;
          if (*psVar5 != 0) {
            _memmove(psVar4 + 1,psVar5 + 1,_Size);
          }
          *(undefined1 *)(*psVar4 + 4 + (int)psVar4) = 0;
          param_1 = param_1 + 1;
          psVar4 = psVar4 + 0x42;
          psVar5 = psVar5 + 0x42;
          uVar6 = param_2;
        } while (param_1 < *(uint *)(iVar2 + 8));
      }
      param_2 = *(undefined4 *)(iVar2 + 4);
      FUN_00475100(&param_2);
      *(int *)(iVar2 + 4) = iVar3;
      *(uint *)(iVar2 + 0xc) = uVar6;
    }
    return true;
  }
  return param_2 <= *(uint *)(param_1 + 0xc);
}



============================================================
DISASSEMBLY
============================================================
0046f2a0 : PUSH EBP
0046f2a1 : MOV EBP,ESP
0046f2a3 : PUSH ECX
0046f2a4 : PUSH EBX
0046f2a5 : MOV EBX,dword ptr [EBP + 0x8]
0046f2a8 : CMP byte ptr [EBX + 0x10],0x0
0046f2ac : JZ 0x0046f2be
0046f2ae : MOV EAX,dword ptr [EBP + 0xc]
0046f2b1 : CMP dword ptr [EBX + 0xc],EAX
0046f2b4 : POP EBX
0046f2b5 : SBB EAX,EAX
0046f2b7 : INC EAX
0046f2b8 : MOV ESP,EBP
0046f2ba : POP EBP
0046f2bb : RET 0x8
0046f2be : PUSH EDI
0046f2bf : MOV EDI,dword ptr [EBP + 0xc]
0046f2c2 : CMP EDI,dword ptr [EBX + 0xc]
0046f2c5 : JBE 0x0046f34b
0046f2cb : PUSH ESI
0046f2cc : PUSH EDI
0046f2cd : CALL 0x0046f1c0
0046f2d2 : MOV ESI,EAX
0046f2d4 : MOV EAX,dword ptr [EBX + 0x8]
0046f2d7 : ADD ESP,0x4
0046f2da : MOV dword ptr [EBP + -0x4],ESI
0046f2dd : TEST EAX,EAX
0046f2df : JBE 0x0046f332
0046f2e1 : MOV ECX,dword ptr [EBX + 0x4]
0046f2e4 : MOV dword ptr [EBP + 0x8],0x0
0046f2eb : ADD ESI,0x4
0046f2ee : LEA EDI,[ECX + 0x4]
0046f2f1 : MOV ECX,dword ptr [EDI]
0046f2f3 : MOV dword ptr [ESI],ECX
0046f2f5 : CMP dword ptr [EDI],0x0
0046f2f8 : JBE 0x0046f30d
0046f2fa : MOV EDX,ECX
0046f2fc : PUSH EDX
0046f2fd : LEA EAX,[EDI + 0x4]
0046f300 : PUSH EAX
0046f301 : LEA ECX,[ESI + 0x4]
0046f304 : PUSH ECX
0046f305 : CALL 0x00636880
0046f30a : ADD ESP,0xc
0046f30d : MOV EDX,dword ptr [ESI]
0046f30f : MOV EAX,dword ptr [EBP + 0x8]
0046f312 : MOV byte ptr [EDX + ESI*0x1 + 0x4],0x0
0046f317 : INC EAX
0046f318 : ADD ESI,0x108
0046f31e : ADD EDI,0x108
0046f324 : MOV dword ptr [EBP + 0x8],EAX
0046f327 : CMP EAX,dword ptr [EBX + 0x8]
0046f32a : JC 0x0046f2f1
0046f32c : MOV ESI,dword ptr [EBP + -0x4]
0046f32f : MOV EDI,dword ptr [EBP + 0xc]
0046f332 : MOV EAX,dword ptr [EBX + 0x4]
0046f335 : LEA ECX,[EBP + 0xc]
0046f338 : PUSH ECX
0046f339 : MOV dword ptr [EBP + 0xc],EAX
0046f33c : CALL 0x00475100
0046f341 : ADD ESP,0x4
0046f344 : MOV dword ptr [EBX + 0x4],ESI
0046f347 : MOV dword ptr [EBX + 0xc],EDI
0046f34a : POP ESI
0046f34b : POP EDI
0046f34c : MOV AL,0x1
0046f34e : POP EBX
0046f34f : MOV ESP,EBP
0046f351 : POP EBP
0046f352 : RET 0x8
