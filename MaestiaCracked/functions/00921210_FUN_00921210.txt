PROGRAM  : Maestia.exe
FUNCTION : FUN_00921210
ENTRY    : 00921210
BODY     : [[00921210, 0092126b] [00921270, 00921374] [00921377, 009213c5]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00921210(void)

{
  short *psVar1;
  int iVar2;
  void **ppvVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  short *psVar7;
  short *psVar8;
  undefined1 local_2c [4];
  short *local_28;
  short *local_24;
  int local_20;
  uint local_1c;
  int local_18;
  undefined1 local_14 [4];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b389dd;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_28 = (short *)0x0;
  psVar7 = (short *)0x0;
  local_24 = (short *)0x0;
  local_20 = 0;
  local_8 = 0;
  ppvVar3 = &local_10;
  if (DAT_017247d0 == 0) {
LAB_00921311:
    ExceptionList = ppvVar3;
    psVar8 = local_28;
    if ((local_28 != psVar7) &&
       (local_1c = 0, psVar1 = local_28, *(int *)(*DAT_00da9894 + 0x40) != 0)) {
      do {
        for (; psVar1 != psVar7; psVar1 = psVar1 + 1) {
          iVar6 = FUN_009ef7f0(1,*psVar1,1,uVar4);
          if (iVar6 != 0) {
            local_8 = 0xffffffff;
            if (local_28 != (short *)0x0) {
                    /* WARNING: Subroutine does not return */
              FUN_006f04e0();
            }
            ExceptionList = local_10;
            return iVar6;
          }
          psVar8 = local_28;
        }
        local_1c = local_1c + 1;
      } while (local_1c < *(uint *)(*DAT_00da9894 + 0x40));
    }
    local_8 = 0xffffffff;
    if (psVar8 != (short *)0x0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    ExceptionList = local_10;
    return 0;
  }
  local_1c = -(uint)(*(int *)(DAT_017247d0 + 0x28) != 0);
  iVar6 = DAT_017247d0;
  do {
    ExceptionList = ppvVar3;
    ppvVar3 = ExceptionList;
    if ((local_1c == 0) || (iVar6 == 0)) goto LAB_00921311;
    local_18 = 0;
    FUN_00404160(&local_1c,local_14,&local_18);
    iVar2 = local_18;
    ppvVar3 = ExceptionList;
    if (local_18 == 0) goto LAB_00921311;
    if (*(short *)(local_18 + 0x18) == 0) {
      local_18 = 0;
      psVar8 = (short *)(iVar2 + 0x1a);
      do {
        ppvVar3 = ExceptionList;
        iVar6 = DAT_017247d0;
        if (*psVar8 == 0) break;
        if (local_28 == (short *)0x0) {
          uVar5 = 0;
        }
        else {
          uVar5 = local_20 - (int)local_28 >> 1;
        }
        if ((uint)((int)psVar7 - (int)local_28 >> 1) < uVar5) {
          *psVar7 = *psVar8;
          local_24 = psVar7 + 1;
        }
        else {
          FUN_0041c730(local_2c,psVar7,psVar8);
        }
        local_18 = local_18 + 1;
        psVar8 = psVar8 + 2;
        psVar7 = local_24;
        ppvVar3 = ExceptionList;
        iVar6 = DAT_017247d0;
      } while (local_18 < 10);
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00921210 : PUSH EBP
00921211 : MOV EBP,ESP
00921213 : PUSH -0x1
00921215 : PUSH 0xb389dd
0092121a : MOV EAX,FS:[0x0]
00921220 : PUSH EAX
00921221 : SUB ESP,0x1c
00921224 : PUSH EBX
00921225 : PUSH ESI
00921226 : PUSH EDI
00921227 : MOV EAX,[0x00d66fa0]
0092122c : XOR EAX,EBP
0092122e : PUSH EAX
0092122f : LEA EAX,[EBP + -0xc]
00921232 : MOV FS:[0x0],EAX
00921238 : XOR ECX,ECX
0092123a : MOV dword ptr [EBP + -0x24],ECX
0092123d : XOR EBX,EBX
0092123f : XOR EDX,EDX
00921241 : MOV dword ptr [EBP + -0x20],EBX
00921244 : MOV dword ptr [EBP + -0x1c],EDX
00921247 : MOV dword ptr [EBP + -0x4],EDX
0092124a : MOV EDI,dword ptr [0x017247d0]
00921250 : CMP EDI,EDX
00921252 : JZ 0x00921311
00921258 : MOV EAX,dword ptr [EDI + 0x28]
0092125b : NEG EAX
0092125d : SBB EAX,EAX
0092125f : MOV dword ptr [EBP + -0x18],EAX
00921262 : CMP EAX,EDX
00921264 : JZ 0x00921311
0092126a : JMP 0x00921275
00921270 : MOV ECX,dword ptr [EBP + -0x24]
00921273 : XOR EDX,EDX
00921275 : CMP EDI,EDX
00921277 : JZ 0x00921311
0092127d : LEA EAX,[EBP + -0x14]
00921280 : PUSH EAX
00921281 : LEA ECX,[EBP + -0x10]
00921284 : MOV dword ptr [EBP + -0x14],EDX
00921287 : PUSH ECX
00921288 : LEA EDX,[EBP + -0x18]
0092128b : PUSH EDX
0092128c : MOV EAX,EDI
0092128e : CALL 0x00404160
00921293 : MOV ESI,dword ptr [EBP + -0x14]
00921296 : TEST ESI,ESI
00921298 : JZ 0x0092130c
0092129a : CMP word ptr [ESI + 0x18],0x0
0092129f : JNZ 0x00921302
009212a1 : MOV dword ptr [EBP + -0x14],0x0
009212a8 : ADD ESI,0x1a
009212ab : MOVZX EDX,word ptr [ESI]
009212ae : TEST DX,DX
009212b1 : JZ 0x009212fc
009212b3 : MOV ECX,dword ptr [EBP + -0x24]
009212b6 : TEST ECX,ECX
009212b8 : JNZ 0x009212be
009212ba : XOR EAX,EAX
009212bc : JMP 0x009212c5
009212be : MOV EAX,dword ptr [EBP + -0x1c]
009212c1 : SUB EAX,ECX
009212c3 : SAR EAX,0x1
009212c5 : MOV EDI,EBX
009212c7 : SUB EDI,ECX
009212c9 : SAR EDI,0x1
009212cb : CMP EDI,EAX
009212cd : JNC 0x009212da
009212cf : MOV word ptr [EBX],DX
009212d2 : ADD EBX,0x2
009212d5 : MOV dword ptr [EBP + -0x20],EBX
009212d8 : JMP 0x009212ed
009212da : PUSH ESI
009212db : PUSH EBX
009212dc : LEA EAX,[EBP + -0x28]
009212df : PUSH EAX
009212e0 : MOV ECX,0x1
009212e5 : CALL 0x0041c730
009212ea : MOV EBX,dword ptr [EBP + -0x20]
009212ed : MOV EAX,dword ptr [EBP + -0x14]
009212f0 : INC EAX
009212f1 : ADD ESI,0x4
009212f4 : CMP EAX,0xa
009212f7 : MOV dword ptr [EBP + -0x14],EAX
009212fa : JL 0x009212ab
009212fc : MOV EDI,dword ptr [0x017247d0]
00921302 : CMP dword ptr [EBP + -0x18],0x0
00921306 : JNZ 0x00921270
0092130c : MOV ECX,dword ptr [EBP + -0x24]
0092130f : XOR EDX,EDX
00921311 : MOV ESI,ECX
00921313 : CMP ECX,EBX
00921315 : JZ 0x00921365
00921317 : MOV EAX,[0x00da9894]
0092131c : MOV EAX,dword ptr [EAX]
0092131e : MOV dword ptr [EBP + -0x18],EDX
00921321 : CMP dword ptr [EAX + 0x40],EDX
00921324 : JBE 0x00921365
00921326 : CMP ESI,EBX
00921328 : JZ 0x00921352
0092132a : LEA EBX,[EBX]
00921330 : MOVZX ECX,word ptr [ESI]
00921333 : PUSH 0x1
00921335 : PUSH ECX
00921336 : PUSH 0x1
00921338 : CALL 0x009ef7f0
0092133d : MOV EDI,EAX
0092133f : ADD ESP,0xc
00921342 : TEST EDI,EDI
00921344 : JNZ 0x00921394
00921346 : ADD ESI,0x2
00921349 : CMP ESI,EBX
0092134b : JNZ 0x00921330
0092134d : MOV ECX,dword ptr [EBP + -0x24]
00921350 : XOR EDX,EDX
00921352 : MOV EDI,dword ptr [EBP + -0x18]
00921355 : MOV EAX,[0x00da9894]
0092135a : MOV EAX,dword ptr [EAX]
0092135c : INC EDI
0092135d : MOV dword ptr [EBP + -0x18],EDI
00921360 : CMP EDI,dword ptr [EAX + 0x40]
00921363 : JC 0x00921326
00921365 : MOV dword ptr [EBP + -0x4],0xffffffff
0092136c : CMP ECX,EDX
0092136e : JZ 0x00921377
00921370 : CALL 0x006f04e0
00921377 : XOR EAX,EAX
00921379 : MOV dword ptr [EBP + -0x1c],EDX
0092137c : MOV dword ptr [EBP + -0x20],EDX
0092137f : MOV dword ptr [EBP + -0x24],EDX
00921382 : MOV ECX,dword ptr [EBP + -0xc]
00921385 : MOV dword ptr FS:[0x0],ECX
0092138c : POP ECX
0092138d : POP EDI
0092138e : POP ESI
0092138f : POP EBX
00921390 : MOV ESP,EBP
00921392 : POP EBP
00921393 : RET
00921394 : MOV dword ptr [EBP + -0x4],0xffffffff
0092139b : MOV ECX,dword ptr [EBP + -0x24]
0092139e : TEST ECX,ECX
009213a0 : JZ 0x009213a7
009213a2 : CALL 0x006f04e0
009213a7 : XOR EAX,EAX
009213a9 : MOV dword ptr [EBP + -0x24],EAX
009213ac : MOV dword ptr [EBP + -0x20],EAX
009213af : MOV dword ptr [EBP + -0x1c],EAX
009213b2 : MOV EAX,EDI
009213b4 : MOV ECX,dword ptr [EBP + -0xc]
009213b7 : MOV dword ptr FS:[0x0],ECX
009213be : POP ECX
009213bf : POP EDI
009213c0 : POP ESI
009213c1 : POP EBX
009213c2 : MOV ESP,EBP
009213c4 : POP EBP
009213c5 : RET
