PROGRAM  : Maestia.exe
FUNCTION : FUN_007c4290
ENTRY    : 007c4290
BODY     : [[007c4290, 007c43c8] [007c43e2, 007c43f5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007c4290(int param_1)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  int *piVar4;
  int in_ECX;
  LPCRITICAL_SECTION local_2c;
  char *local_28;
  undefined4 local_24;
  int local_20;
  undefined4 local_1c;
  undefined1 local_18 [4];
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b370a8;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (param_1 != 0) {
    local_2c = (LPCRITICAL_SECTION)(in_ECX + 0x114);
    local_20 = 0;
    local_28 = ".\\Frk\\FrkMgr.cpp";
    local_24 = 0x153;
    local_1c = 1;
    FUN_006ef1a0(&local_2c);
    local_8 = 0;
    local_14 = *(undefined4 *)(param_1 + 0x188);
    piVar4 = (int *)FUN_004437f0(&local_14);
    iVar1 = *piVar4;
    if (iVar1 == *(int *)(in_ECX + 0xe0)) {
      local_8 = 0xffffffff;
      if (local_20 != 0) {
        LeaveCriticalSection(local_2c);
        ExceptionList = local_10;
        return;
      }
    }
    else {
      iVar2 = *(int *)(iVar1 + 0x10);
      FUN_0045b810(in_ECX + 0xdc,local_18,iVar1,uVar3);
      local_8 = 0xffffffff;
      if (local_20 != 0) {
        LeaveCriticalSection(local_2c);
      }
      if (iVar2 != 0) {
        local_2c = (LPCRITICAL_SECTION)(in_ECX + 0xf8);
        local_20 = 0;
        local_28 = ".\\Frk\\FrkMgr.cpp";
        local_24 = 0x167;
        local_1c = 1;
        FUN_006ef1a0(&local_2c);
        local_8 = 1;
        *(undefined4 *)(param_1 + 0x17c) = 0;
        FUN_007958c0();
        FUN_0075b610();
        FUN_0075b440(iVar2);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007c4290 : PUSH EBP
007c4291 : MOV EBP,ESP
007c4293 : PUSH -0x1
007c4295 : PUSH 0xb370a8
007c429a : MOV EAX,FS:[0x0]
007c42a0 : PUSH EAX
007c42a1 : SUB ESP,0x20
007c42a4 : PUSH EBX
007c42a5 : PUSH ESI
007c42a6 : PUSH EDI
007c42a7 : MOV EAX,[0x00d66fa0]
007c42ac : XOR EAX,EBP
007c42ae : PUSH EAX
007c42af : LEA EAX,[EBP + -0xc]
007c42b2 : MOV FS:[0x0],EAX
007c42b8 : MOV ESI,ECX
007c42ba : MOV EBX,dword ptr [EBP + 0x8]
007c42bd : XOR EDI,EDI
007c42bf : CMP EBX,EDI
007c42c1 : JZ 0x007c43e2
007c42c7 : LEA ECX,[EBP + -0x28]
007c42ca : LEA EAX,[ESI + 0x114]
007c42d0 : PUSH ECX
007c42d1 : MOV dword ptr [EBP + -0x1c],EDI
007c42d4 : MOV dword ptr [EBP + -0x28],EAX
007c42d7 : MOV dword ptr [EBP + -0x24],0xc1c898
007c42de : MOV dword ptr [EBP + -0x20],0x153
007c42e5 : MOV dword ptr [EBP + -0x18],0x1
007c42ec : CALL 0x006ef1a0
007c42f1 : MOV dword ptr [EBP + -0x4],EDI
007c42f4 : MOV EDX,dword ptr [EBX + 0x188]
007c42fa : LEA EAX,[EBP + -0x10]
007c42fd : LEA EBX,[ESI + 0xdc]
007c4303 : PUSH EAX
007c4304 : LEA EAX,[EBP + -0x14]
007c4307 : MOV ECX,EBX
007c4309 : MOV dword ptr [EBP + -0x10],EDX
007c430c : CALL 0x004437f0
007c4311 : MOV EAX,dword ptr [EAX]
007c4313 : CMP EAX,dword ptr [ESI + 0xe0]
007c4319 : JNZ 0x007c434c
007c431b : MOV dword ptr [EBP + -0x4],0xffffffff
007c4322 : CMP dword ptr [EBP + -0x1c],EDI
007c4325 : JZ 0x007c43e2
007c432b : MOV ECX,dword ptr [EBP + -0x28]
007c432e : PUSH ECX
007c432f : CALL dword ptr [0x00b8511c]
007c4335 : MOV dword ptr [EBP + -0x1c],EDI
007c4338 : MOV ECX,dword ptr [EBP + -0xc]
007c433b : MOV dword ptr FS:[0x0],ECX
007c4342 : POP ECX
007c4343 : POP EDI
007c4344 : POP ESI
007c4345 : POP EBX
007c4346 : MOV ESP,EBP
007c4348 : POP EBP
007c4349 : RET 0x4
007c434c : MOV EDI,dword ptr [EAX + 0x10]
007c434f : PUSH EAX
007c4350 : LEA EDX,[EBP + -0x14]
007c4353 : PUSH EDX
007c4354 : PUSH EBX
007c4355 : CALL 0x0045b810
007c435a : MOV dword ptr [EBP + -0x4],0xffffffff
007c4361 : XOR EBX,EBX
007c4363 : CMP dword ptr [EBP + -0x1c],EBX
007c4366 : JZ 0x007c4375
007c4368 : MOV EAX,dword ptr [EBP + -0x28]
007c436b : PUSH EAX
007c436c : CALL dword ptr [0x00b8511c]
007c4372 : MOV dword ptr [EBP + -0x1c],EBX
007c4375 : CMP EDI,EBX
007c4377 : JZ 0x007c43e2
007c4379 : ADD ESI,0xf8
007c437f : MOV dword ptr [EBP + -0x28],ESI
007c4382 : LEA ECX,[EBP + -0x28]
007c4385 : MOV ESI,0x1
007c438a : PUSH ECX
007c438b : MOV dword ptr [EBP + -0x1c],EBX
007c438e : MOV dword ptr [EBP + -0x24],0xc1c8ac
007c4395 : MOV dword ptr [EBP + -0x20],0x167
007c439c : MOV dword ptr [EBP + -0x18],ESI
007c439f : CALL 0x006ef1a0
007c43a4 : MOV dword ptr [EBP + -0x4],ESI
007c43a7 : MOV ESI,dword ptr [EBP + 0x8]
007c43aa : MOV dword ptr [ESI + 0x17c],EBX
007c43b0 : CALL 0x007958c0
007c43b5 : MOV ESI,EDI
007c43b7 : CALL 0x0075b610
007c43bc : PUSH EDI
007c43bd : CALL 0x0075b440
007c43c2 : MOV ECX,EDI
007c43c4 : CALL 0x006f04e0
007c43e2 : MOV ECX,dword ptr [EBP + -0xc]
007c43e5 : MOV dword ptr FS:[0x0],ECX
007c43ec : POP ECX
007c43ed : POP EDI
007c43ee : POP ESI
007c43ef : POP EBX
007c43f0 : MOV ESP,EBP
007c43f2 : POP EBP
007c43f3 : RET 0x4
