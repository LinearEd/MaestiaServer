PROGRAM  : Maestia.exe
FUNCTION : FUN_00861640
ENTRY    : 00861640
BODY     : [[00861640, 008616ff]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00861640(void)

{
  uint uVar1;
  int unaff_ESI;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4dc79;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_18 = 7;
  local_1c = 0;
  local_2c = 0;
  local_14 = uVar1;
  FUN_00406360(L"simple_model_t.dds",0x12);
  local_8 = 0;
  if (*(short *)(unaff_ESI + 0x7c) == 2) {
    FUN_00406360(L"simple_model_s.dds",0x12);
  }
  if (*(int *)(unaff_ESI + 1000) != 0) {
    FUN_007db930(local_30);
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar1);
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = 0;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00861640 : PUSH EBP
00861641 : MOV EBP,ESP
00861643 : PUSH -0x1
00861645 : PUSH 0xb4dc79
0086164a : MOV EAX,FS:[0x0]
00861650 : PUSH EAX
00861651 : SUB ESP,0x20
00861654 : MOV EAX,[0x00d66fa0]
00861659 : XOR EAX,EBP
0086165b : MOV dword ptr [EBP + -0x10],EAX
0086165e : PUSH EAX
0086165f : LEA EAX,[EBP + -0xc]
00861662 : MOV FS:[0x0],EAX
00861668 : PUSH 0x12
0086166a : XOR EAX,EAX
0086166c : PUSH 0xc40128
00861671 : LEA ECX,[EBP + -0x2c]
00861674 : MOV dword ptr [EBP + -0x14],0x7
0086167b : MOV dword ptr [EBP + -0x18],0x0
00861682 : MOV word ptr [EBP + -0x28],AX
00861686 : CALL 0x00406360
0086168b : MOV dword ptr [EBP + -0x4],0x0
00861692 : MOVZX EAX,word ptr [ESI + 0x7c]
00861696 : CMP AX,0x2
0086169a : JNZ 0x008616ab
0086169c : PUSH 0x12
0086169e : PUSH 0xc40150
008616a3 : LEA ECX,[EBP + -0x2c]
008616a6 : CALL 0x00406360
008616ab : MOV ECX,dword ptr [ESI + 0x3e8]
008616b1 : TEST ECX,ECX
008616b3 : JZ 0x008616be
008616b5 : LEA EDX,[EBP + -0x2c]
008616b8 : PUSH EDX
008616b9 : CALL 0x007db930
008616be : MOV dword ptr [EBP + -0x4],0xffffffff
008616c5 : CMP dword ptr [EBP + -0x14],0x8
008616c9 : JC 0x008616d3
008616cb : MOV ECX,dword ptr [EBP + -0x28]
008616ce : CALL 0x006f04e0
008616d3 : XOR EAX,EAX
008616d5 : MOV dword ptr [EBP + -0x14],0x7
008616dc : MOV dword ptr [EBP + -0x18],0x0
008616e3 : MOV word ptr [EBP + -0x28],AX
008616e7 : MOV ECX,dword ptr [EBP + -0xc]
008616ea : MOV dword ptr FS:[0x0],ECX
008616f1 : POP ECX
008616f2 : MOV ECX,dword ptr [EBP + -0x10]
008616f5 : XOR ECX,EBP
008616f7 : CALL 0x00633e6b
008616fc : MOV ESP,EBP
008616fe : POP EBP
008616ff : RET
