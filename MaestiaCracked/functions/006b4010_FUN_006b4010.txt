PROGRAM  : Maestia.exe
FUNCTION : FUN_006b4010
ENTRY    : 006b4010
BODY     : [[006b4010, 006b40c9]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006b4010(void)

{
  int iVar1;
  int *unaff_ESI;
  
  if (unaff_ESI[0x40] == 0) {
    if (*(char *)(*unaff_ESI + 0x2b4) != '\0') {
      if (*(char *)((int)unaff_ESI + 0x12e) != '\0') {
        unaff_ESI[0x40] = unaff_ESI[0x3d];
        return unaff_ESI[0x3d];
      }
      unaff_ESI[0x40] = unaff_ESI[0x3e];
      return unaff_ESI[0x3e];
    }
    if ((short)unaff_ESI[0x4a] == 0) {
      unaff_ESI[0x40] = unaff_ESI[0x3d];
      return unaff_ESI[0x3d];
    }
    if (*(short *)((int)unaff_ESI + 0x126) == 0) {
      unaff_ESI[0x40] = unaff_ESI[0x3e];
      return unaff_ESI[0x3e];
    }
    FUN_00685d60((int)*(short *)((int)unaff_ESI + 0x126),unaff_ESI[0x3d],0x4000);
    FUN_00685d60((int)(short)unaff_ESI[0x4a],unaff_ESI[0x3e],0x4000);
    iVar1 = FUN_006b3ff0();
    unaff_ESI[0x40] = iVar1;
  }
  return unaff_ESI[0x40];
}



============================================================
DISASSEMBLY
============================================================
006b4010 : CMP dword ptr [ESI + 0x100],0x0
006b4017 : JNZ 0x006b40c3
006b401d : MOV EAX,dword ptr [ESI]
006b401f : CMP byte ptr [EAX + 0x2b4],0x0
006b4026 : JZ 0x006b404f
006b4028 : CMP byte ptr [ESI + 0x12e],0x0
006b402f : JZ 0x006b4040
006b4031 : MOV ECX,dword ptr [ESI + 0xf4]
006b4037 : MOV dword ptr [ESI + 0x100],ECX
006b403d : MOV EAX,ECX
006b403f : RET
006b4040 : MOV EDX,dword ptr [ESI + 0xf8]
006b4046 : MOV dword ptr [ESI + 0x100],EDX
006b404c : MOV EAX,EDX
006b404e : RET
006b404f : CMP word ptr [ESI + 0x128],0x0
006b4057 : JNZ 0x006b4066
006b4059 : MOV EAX,dword ptr [ESI + 0xf4]
006b405f : MOV dword ptr [ESI + 0x100],EAX
006b4065 : RET
006b4066 : MOVZX EAX,word ptr [ESI + 0x126]
006b406d : TEST AX,AX
006b4070 : JNZ 0x006b4081
006b4072 : MOV ECX,dword ptr [ESI + 0xf8]
006b4078 : MOV dword ptr [ESI + 0x100],ECX
006b407e : MOV EAX,ECX
006b4080 : RET
006b4081 : MOV EDX,dword ptr [ESI + 0xf4]
006b4087 : PUSH EDI
006b4088 : PUSH 0x4000
006b408d : CWDE
006b408e : PUSH EDX
006b408f : PUSH EAX
006b4090 : CALL 0x00685d60
006b4095 : MOV ECX,dword ptr [ESI + 0xf8]
006b409b : MOVSX EDX,word ptr [ESI + 0x128]
006b40a2 : PUSH 0x4000
006b40a7 : PUSH ECX
006b40a8 : PUSH EDX
006b40a9 : MOV EDI,EAX
006b40ab : CALL 0x00685d60
006b40b0 : MOV ECX,EAX
006b40b2 : ADD ESP,0x18
006b40b5 : MOV EAX,EDI
006b40b7 : CALL 0x006b3ff0
006b40bc : POP EDI
006b40bd : MOV dword ptr [ESI + 0x100],EAX
006b40c3 : MOV EAX,dword ptr [ESI + 0x100]
006b40c9 : RET
