PROGRAM  : Maestia.exe
FUNCTION : FUN_00763850
ENTRY    : 00763850
BODY     : [[00763850, 007639be]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00763908) */

int FUN_00763850(int param_1,int *param_2,undefined4 param_3)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint unaff_EBX;
  undefined4 unaff_ESI;
  uint uVar5;
  int unaff_EDI;
  undefined8 uVar6;
  undefined1 *puVar7;
  undefined8 uStack_40;
  longlong lStack_38;
  undefined1 local_30 [4];
  uint uStack_2c;
  int iStack_28;
  undefined4 uStack_24;
  uint local_20 [7];
  
  if (param_2 != (int *)0x0) {
    puVar7 = local_30;
    iVar1 = (**(code **)(*param_2 + 0x14))(param_2,local_20,puVar7);
    if (-1 < iVar1) {
      uVar6 = __alldiv(uStack_2c,iStack_28,FUN_00989680,0);
      uStack_40._0_4_ = (undefined4)((ulonglong)uVar6 >> 0x20);
      uVar2 = __alldiv(uStack_40._4_4_ - uStack_2c,
                       ((int)lStack_38 - iStack_28) - (uint)(uStack_40._4_4_ < uStack_2c),
                       FUN_00989680,0);
      uStack_24 = 0;
      local_20[0] = 0;
      lStack_38 = (**(code **)(**(int **)(*(int *)(param_1 + 0xa4) + 0x18) + 0xc))(&uStack_24);
      local_20[0] = uVar2 + unaff_EBX;
      iVar1 = ((int)uVar2 >> 0x1f) + (int)uVar6 + (uint)CARRY4(uVar2,unaff_EBX);
      uStack_40 = CONCAT44(uStack_40._4_4_,(undefined4)uStack_40);
      if (lStack_38 < CONCAT44(iVar1,local_20[0])) {
        unaff_EDI = (**(code **)(**(int **)(*(int *)(param_1 + 0xa4) + 0x18) + 0x10))();
        iVar3 = (int)(lStack_38 + unaff_EDI);
        uVar5 = (int)((ulonglong)(lStack_38 + unaff_EDI) >> 0x20) - (uint)(iVar3 == 0) &
                (int)~(unaff_EDI - 1U) >> 0x1f;
        uVar4 = iVar3 - 1U & ~(unaff_EDI - 1U);
        uStack_40 = CONCAT44(uStack_40._4_4_,(undefined4)uStack_40);
        if (((int)uVar5 <= iVar1) &&
           (((int)uVar5 < iVar1 ||
            (uStack_40 = CONCAT44(uStack_40._4_4_,(undefined4)uStack_40), uVar4 < local_20[0])))) {
          uVar2 = uVar4 - unaff_EBX;
          uStack_40 = __allmul(uVar4,uVar5,FUN_00989680,0);
          (**(code **)(*param_2 + 0x18))(param_2,local_30,&uStack_40);
        }
      }
      iVar1 = (**(code **)(*param_2 + 0xc))(param_2,&stack0xffffffb4);
      if (-1 < iVar1) {
        iVar1 = FUN_0072e5c0(unaff_EDI,unaff_ESI,uVar2,puVar7,param_2,param_3);
      }
    }
    return iVar1;
  }
  return -0x7fffbffd;
}



============================================================
DISASSEMBLY
============================================================
00763850 : PUSH EBP
00763851 : MOV EBP,ESP
00763853 : AND ESP,0xfffffff8
00763856 : MOV EAX,dword ptr [EBP + 0xc]
00763859 : SUB ESP,0x3c
0076385c : PUSH EBX
0076385d : PUSH ESI
0076385e : XOR ESI,ESI
00763860 : PUSH EDI
00763861 : CMP EAX,ESI
00763863 : JNZ 0x00763873
00763865 : MOV EAX,0x80004003
0076386a : POP EDI
0076386b : POP ESI
0076386c : POP EBX
0076386d : MOV ESP,EBP
0076386f : POP EBP
00763870 : RET 0xc
00763873 : MOV ECX,dword ptr [EAX]
00763875 : LEA EDX,[ESP + 0x20]
00763879 : PUSH EDX
0076387a : LEA EDX,[ESP + 0x34]
0076387e : PUSH EDX
0076387f : PUSH EAX
00763880 : MOV EAX,dword ptr [ECX + 0x14]
00763883 : CALL EAX
00763885 : CMP EAX,ESI
00763887 : JL 0x007639b6
0076388d : MOV EDI,dword ptr [ESP + 0x34]
00763891 : MOV EBX,dword ptr [ESP + 0x30]
00763895 : PUSH ESI
00763896 : PUSH 0x989680
0076389b : PUSH EDI
0076389c : PUSH EBX
0076389d : CALL 0x0063c760
007638a2 : MOV ECX,dword ptr [ESP + 0x20]
007638a6 : MOV dword ptr [ESP + 0x1c],EDX
007638aa : MOV EDX,dword ptr [ESP + 0x24]
007638ae : PUSH ESI
007638af : SUB ECX,EBX
007638b1 : PUSH 0x989680
007638b6 : SBB EDX,EDI
007638b8 : PUSH EDX
007638b9 : PUSH ECX
007638ba : MOV dword ptr [ESP + 0x28],EAX
007638be : CALL 0x0063c760
007638c3 : MOV EBX,EAX
007638c5 : MOV EAX,dword ptr [EBP + 0x8]
007638c8 : MOV EAX,dword ptr [EAX + 0xa4]
007638ce : MOV dword ptr [ESP + 0x38],ESI
007638d2 : MOV dword ptr [ESP + 0x3c],ESI
007638d6 : MOV ECX,dword ptr [EAX + 0x18]
007638d9 : MOV EDX,dword ptr [ECX]
007638db : MOV EDX,dword ptr [EDX + 0xc]
007638de : LEA EAX,[ESP + 0x38]
007638e2 : PUSH EAX
007638e3 : CALL EDX
007638e5 : MOV ESI,EAX
007638e7 : MOV ECX,EDX
007638e9 : MOV EAX,EBX
007638eb : CDQ
007638ec : ADD EAX,dword ptr [ESP + 0x18]
007638f0 : MOV EDI,EDX
007638f2 : ADC EDI,dword ptr [ESP + 0x1c]
007638f6 : MOV dword ptr [ESP + 0x28],ESI
007638fa : CMP EDI,ECX
007638fc : MOV dword ptr [ESP + 0x2c],ECX
00763900 : MOV dword ptr [ESP + 0x40],EAX
00763904 : JL 0x0076397f
00763906 : JG 0x0076390c
00763908 : CMP EAX,ESI
0076390a : JBE 0x0076397f
0076390c : MOV EAX,dword ptr [EBP + 0x8]
0076390f : MOV EAX,dword ptr [EAX + 0xa4]
00763915 : MOV ECX,dword ptr [EAX + 0x18]
00763918 : MOV EDX,dword ptr [ECX]
0076391a : MOV EAX,dword ptr [EDX + 0x10]
0076391d : CALL EAX
0076391f : MOV dword ptr [ESP + 0x10],EAX
00763923 : CDQ
00763924 : MOV ECX,EAX
00763926 : ADD ECX,dword ptr [ESP + 0x28]
0076392a : MOV EAX,dword ptr [ESP + 0x10]
0076392e : MOV ESI,EDX
00763930 : ADC ESI,dword ptr [ESP + 0x2c]
00763934 : SUB ECX,0x1
00763937 : SBB ESI,0x0
0076393a : DEC EAX
0076393b : NOT EAX
0076393d : CDQ
0076393e : AND ESI,EDX
00763940 : AND ECX,EAX
00763942 : CMP EDI,ESI
00763944 : JL 0x0076397f
00763946 : JG 0x0076394e
00763948 : CMP dword ptr [ESP + 0x40],ECX
0076394c : JBE 0x0076397f
0076394e : PUSH 0x0
00763950 : PUSH 0x989680
00763955 : PUSH ESI
00763956 : MOV EBX,ECX
00763958 : SUB EBX,dword ptr [ESP + 0x24]
0076395c : PUSH ECX
0076395d : CALL 0x0063c720
00763962 : MOV dword ptr [ESP + 0x24],EDX
00763966 : LEA EDX,[ESP + 0x20]
0076396a : PUSH EDX
0076396b : MOV dword ptr [ESP + 0x24],EAX
0076396f : MOV EAX,dword ptr [EBP + 0xc]
00763972 : MOV ECX,dword ptr [EAX]
00763974 : LEA EDX,[ESP + 0x34]
00763978 : PUSH EDX
00763979 : PUSH EAX
0076397a : MOV EAX,dword ptr [ECX + 0x18]
0076397d : CALL EAX
0076397f : MOV ESI,dword ptr [EBP + 0xc]
00763982 : MOV ECX,dword ptr [ESI]
00763984 : MOV EAX,dword ptr [ECX + 0xc]
00763987 : LEA EDX,[ESP + 0x14]
0076398b : PUSH EDX
0076398c : PUSH ESI
0076398d : CALL EAX
0076398f : TEST EAX,EAX
00763991 : JL 0x007639b6
00763993 : MOV ECX,dword ptr [EBP + 0x10]
00763996 : MOV EDX,dword ptr [ESP + 0x14]
0076399a : MOV EAX,dword ptr [ESP + 0x1c]
0076399e : PUSH ECX
0076399f : MOV ECX,dword ptr [ESP + 0x1c]
007639a3 : PUSH ESI
007639a4 : PUSH EDX
007639a5 : MOV EDX,dword ptr [EBP + 0x8]
007639a8 : PUSH EBX
007639a9 : PUSH EAX
007639aa : MOV EAX,dword ptr [EDX + 0xa4]
007639b0 : PUSH ECX
007639b1 : CALL 0x0072e5c0
007639b6 : POP EDI
007639b7 : POP ESI
007639b8 : POP EBX
007639b9 : MOV ESP,EBP
007639bb : POP EBP
007639bc : RET 0xc
