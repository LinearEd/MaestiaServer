PROGRAM  : Maestia.exe
FUNCTION : FUN_004c7830
ENTRY    : 004c7830
BODY     : [[004c7830, 004c7af0]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004c7950) */
/* WARNING: Removing unreachable block (ram,0x004c7960) */
/* WARNING: Removing unreachable block (ram,0x004c7969) */
/* WARNING: Removing unreachable block (ram,0x004c796c) */
/* WARNING: Removing unreachable block (ram,0x004c795c) */
/* WARNING: Removing unreachable block (ram,0x004c7979) */
/* WARNING: Removing unreachable block (ram,0x004c7989) */
/* WARNING: Removing unreachable block (ram,0x004c7994) */
/* WARNING: Removing unreachable block (ram,0x004c7990) */
/* WARNING: Removing unreachable block (ram,0x004c7984) */
/* WARNING: Removing unreachable block (ram,0x004c7997) */
/* WARNING: Removing unreachable block (ram,0x004c79a7) */
/* WARNING: Removing unreachable block (ram,0x004c79af) */

void FUN_004c7830(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int *local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7a19e;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x31) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_0040bd50(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x31) == '\0') {
    if (*(char *)(param_3[2] + 0x31) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x31) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x31) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x31);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x31);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int **)(param_1 + 4);
  if (*(int **)((int)local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x31) == '\0') {
      uVar4 = FUN_004c8a60();
      *(undefined4 *)((int)local_1c + 8) = uVar4;
    }
    else {
      *(int **)((int)local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[0xc] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0xc] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0xc] == '\0') {
            *(undefined1 *)(piVar6 + 0xc) = 1;
            *(undefined1 *)(piVar5 + 0xc) = 0;
            FUN_00452770(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x31) == '\0') {
            if ((*(char *)(*piVar6 + 0x30) != '\x01') || (*(char *)(piVar6[2] + 0x30) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x30) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x30) = 1;
                *(undefined1 *)(piVar6 + 0xc) = 0;
                FUN_004099e0(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0xc) = (char)piVar5[0xc];
              *(undefined1 *)(piVar5 + 0xc) = 1;
              *(undefined1 *)(piVar6[2] + 0x30) = 1;
              FUN_00452770(param_1);
              break;
            }
LAB_004c7a77:
            *(undefined1 *)(piVar6 + 0xc) = 0;
          }
        }
        else {
          if ((char)piVar6[0xc] == '\0') {
            *(undefined1 *)(piVar6 + 0xc) = 1;
            *(undefined1 *)(piVar5 + 0xc) = 0;
            FUN_004099e0(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x31) == '\0') {
            if ((*(char *)(piVar6[2] + 0x30) == '\x01') && (*(char *)(*piVar6 + 0x30) == '\x01'))
            goto LAB_004c7a77;
            if (*(char *)(*piVar6 + 0x30) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x30) = 1;
              *(undefined1 *)(piVar6 + 0xc) = 0;
              FUN_00452770(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0xc) = (char)piVar5[0xc];
            *(undefined1 *)(piVar5 + 0xc) = 1;
            *(undefined1 *)(*piVar6 + 0x30) = 1;
            FUN_004099e0(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 0xc) = 1;
  }
  local_1c = local_18 + 4;
  local_8 = 3;
  FUN_004c8790();
  local_8 = 0xffffffff;
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004c7830 : PUSH EBP
004c7831 : MOV EBP,ESP
004c7833 : PUSH -0x1
004c7835 : PUSH 0xb7a19e
004c783a : MOV EAX,FS:[0x0]
004c7840 : PUSH EAX
004c7841 : SUB ESP,0x50
004c7844 : PUSH EBX
004c7845 : PUSH ESI
004c7846 : PUSH EDI
004c7847 : MOV EAX,[0x00d66fa0]
004c784c : XOR EAX,EBP
004c784e : PUSH EAX
004c784f : LEA EAX,[EBP + -0xc]
004c7852 : MOV FS:[0x0],EAX
004c7858 : MOV EAX,dword ptr [EBP + 0x10]
004c785b : CMP byte ptr [EAX + 0x31],0x0
004c785f : JZ 0x004c789d
004c7861 : PUSH 0x1b
004c7863 : XOR ESI,ESI
004c7865 : PUSH 0xcca4a8
004c786a : LEA ECX,[EBP + -0x34]
004c786d : MOV dword ptr [EBP + -0x1c],0xf
004c7874 : MOV dword ptr [EBP + -0x20],ESI
004c7877 : MOV byte ptr [EBP + -0x30],0x0
004c787b : CALL 0x00404b50
004c7880 : MOV dword ptr [EBP + -0x4],ESI
004c7883 : LEA EAX,[EBP + -0x34]
004c7886 : PUSH EAX
004c7887 : LEA ECX,[EBP + -0x5c]
004c788a : CALL 0x00403c10
004c788f : PUSH 0xced890
004c7894 : LEA ECX,[EBP + -0x5c]
004c7897 : PUSH ECX
004c7898 : CALL 0x006409eb
004c789d : MOV EBX,EAX
004c789f : LEA EDX,[EBP + 0x10]
004c78a2 : MOV dword ptr [EBP + -0x14],EBX
004c78a5 : CALL 0x0040bd50
004c78aa : MOV ECX,dword ptr [EBX]
004c78ac : CMP byte ptr [ECX + 0x31],0x0
004c78b0 : JZ 0x004c78b7
004c78b2 : MOV EDI,dword ptr [EBX + 0x8]
004c78b5 : JMP 0x004c78d1
004c78b7 : MOV EDX,dword ptr [EBX + 0x8]
004c78ba : CMP byte ptr [EDX + 0x31],0x0
004c78be : JZ 0x004c78c4
004c78c0 : MOV EDI,ECX
004c78c2 : JMP 0x004c78d1
004c78c4 : MOV EAX,dword ptr [EBP + 0x10]
004c78c7 : MOV EDI,dword ptr [EAX + 0x8]
004c78ca : LEA EDX,[EAX + 0x8]
004c78cd : CMP EAX,EBX
004c78cf : JNZ 0x004c7950
004c78d1 : CMP byte ptr [EDI + 0x31],0x0
004c78d5 : MOV ESI,dword ptr [EBX + 0x4]
004c78d8 : JNZ 0x004c78dd
004c78da : MOV dword ptr [EDI + 0x4],ESI
004c78dd : MOV EDX,dword ptr [EBP + 0x8]
004c78e0 : MOV EAX,dword ptr [EDX + 0x4]
004c78e3 : CMP dword ptr [EAX + 0x4],EBX
004c78e6 : JNZ 0x004c78ed
004c78e8 : MOV dword ptr [EAX + 0x4],EDI
004c78eb : JMP 0x004c78f8
004c78ed : CMP dword ptr [ESI],EBX
004c78ef : JNZ 0x004c78f5
004c78f1 : MOV dword ptr [ESI],EDI
004c78f3 : JMP 0x004c78f8
004c78f5 : MOV dword ptr [ESI + 0x8],EDI
004c78f8 : MOV EAX,dword ptr [EDX + 0x4]
004c78fb : CMP dword ptr [EAX],EBX
004c78fd : JNZ 0x004c7922
004c78ff : CMP byte ptr [EDI + 0x31],0x0
004c7903 : JZ 0x004c7909
004c7905 : MOV ECX,ESI
004c7907 : JMP 0x004c791d
004c7909 : MOV EAX,dword ptr [EDI]
004c790b : CMP byte ptr [EAX + 0x31],0x0
004c790f : MOV ECX,EDI
004c7911 : JNZ 0x004c791d
004c7913 : MOV ECX,EAX
004c7915 : MOV EAX,dword ptr [ECX]
004c7917 : CMP byte ptr [EAX + 0x31],0x0
004c791b : JZ 0x004c7913
004c791d : MOV EAX,dword ptr [EDX + 0x4]
004c7920 : MOV dword ptr [EAX],ECX
004c7922 : MOV ECX,dword ptr [EDX + 0x4]
004c7925 : MOV dword ptr [EBP + -0x18],ECX
004c7928 : CMP dword ptr [ECX + 0x8],EBX
004c792b : JNZ 0x004c79b2
004c7931 : CMP byte ptr [EDI + 0x31],0x0
004c7935 : JZ 0x004c793e
004c7937 : MOV EAX,ESI
004c7939 : MOV dword ptr [ECX + 0x8],EAX
004c793c : JMP 0x004c79b2
004c793e : MOV EAX,EDI
004c7940 : CALL 0x004c8a60
004c7945 : MOV ECX,dword ptr [EBP + -0x18]
004c7948 : MOV EDX,dword ptr [EBP + 0x8]
004c794b : MOV dword ptr [ECX + 0x8],EAX
004c794e : JMP 0x004c79b2
004c7950 : MOV dword ptr [ECX + 0x4],EAX
004c7953 : MOV ECX,dword ptr [EBX]
004c7955 : MOV dword ptr [EAX],ECX
004c7957 : CMP EAX,dword ptr [EBX + 0x8]
004c795a : JNZ 0x004c7960
004c795c : MOV ESI,EAX
004c795e : JMP 0x004c7979
004c7960 : CMP byte ptr [EDI + 0x31],0x0
004c7964 : MOV ESI,dword ptr [EAX + 0x4]
004c7967 : JNZ 0x004c796c
004c7969 : MOV dword ptr [EDI + 0x4],ESI
004c796c : MOV dword ptr [ESI],EDI
004c796e : MOV ECX,dword ptr [EBX + 0x8]
004c7971 : MOV dword ptr [EDX],ECX
004c7973 : MOV EDX,dword ptr [EBX + 0x8]
004c7976 : MOV dword ptr [EDX + 0x4],EAX
004c7979 : MOV ECX,dword ptr [EBP + 0x8]
004c797c : MOV ECX,dword ptr [ECX + 0x4]
004c797f : CMP dword ptr [ECX + 0x4],EBX
004c7982 : JNZ 0x004c7989
004c7984 : MOV dword ptr [ECX + 0x4],EAX
004c7987 : JMP 0x004c7997
004c7989 : MOV ECX,dword ptr [EBX + 0x4]
004c798c : CMP dword ptr [ECX],EBX
004c798e : JNZ 0x004c7994
004c7990 : MOV dword ptr [ECX],EAX
004c7992 : JMP 0x004c7997
004c7994 : MOV dword ptr [ECX + 0x8],EAX
004c7997 : MOV EDX,dword ptr [EBX + 0x4]
004c799a : MOV dword ptr [EAX + 0x4],EDX
004c799d : LEA ECX,[EBX + 0x30]
004c79a0 : ADD EAX,0x30
004c79a3 : CMP EAX,ECX
004c79a5 : JZ 0x004c79af
004c79a7 : MOV BL,byte ptr [ECX]
004c79a9 : MOV DL,byte ptr [EAX]
004c79ab : MOV byte ptr [EAX],BL
004c79ad : MOV byte ptr [ECX],DL
004c79af : MOV EDX,dword ptr [EBP + 0x8]
004c79b2 : MOV EAX,dword ptr [EBP + -0x14]
004c79b5 : MOV BL,0x1
004c79b7 : CMP byte ptr [EAX + 0x30],BL
004c79ba : JNZ 0x004c7ac3
004c79c0 : MOV ECX,dword ptr [EDX + 0x4]
004c79c3 : CMP EDI,dword ptr [ECX + 0x4]
004c79c6 : JZ 0x004c7ac0
004c79cc : LEA ESP,[ESP]
004c79d0 : CMP byte ptr [EDI + 0x30],BL
004c79d3 : JNZ 0x004c7ac0
004c79d9 : MOV ECX,dword ptr [ESI]
004c79db : CMP EDI,ECX
004c79dd : JNZ 0x004c7a48
004c79df : MOV ECX,dword ptr [ESI + 0x8]
004c79e2 : CMP byte ptr [ECX + 0x30],0x0
004c79e6 : JNZ 0x004c79fd
004c79e8 : MOV byte ptr [ECX + 0x30],BL
004c79eb : PUSH EDX
004c79ec : MOV ECX,ESI
004c79ee : MOV byte ptr [ESI + 0x30],0x0
004c79f2 : CALL 0x00452770
004c79f7 : MOV ECX,dword ptr [ESI + 0x8]
004c79fa : MOV EDX,dword ptr [EBP + 0x8]
004c79fd : CMP byte ptr [ECX + 0x31],0x0
004c7a01 : JNZ 0x004c7a7b
004c7a03 : MOV EAX,dword ptr [ECX]
004c7a05 : CMP byte ptr [EAX + 0x30],BL
004c7a08 : JNZ 0x004c7a12
004c7a0a : MOV EAX,dword ptr [ECX + 0x8]
004c7a0d : CMP byte ptr [EAX + 0x30],BL
004c7a10 : JZ 0x004c7a77
004c7a12 : MOV EAX,dword ptr [ECX + 0x8]
004c7a15 : CMP byte ptr [EAX + 0x30],BL
004c7a18 : JNZ 0x004c7a2f
004c7a1a : MOV EAX,dword ptr [ECX]
004c7a1c : MOV byte ptr [EAX + 0x30],BL
004c7a1f : PUSH EDX
004c7a20 : MOV byte ptr [ECX + 0x30],0x0
004c7a24 : CALL 0x004099e0
004c7a29 : MOV ECX,dword ptr [ESI + 0x8]
004c7a2c : MOV EDX,dword ptr [EBP + 0x8]
004c7a2f : MOV AL,byte ptr [ESI + 0x30]
004c7a32 : MOV byte ptr [ECX + 0x30],AL
004c7a35 : MOV byte ptr [ESI + 0x30],BL
004c7a38 : MOV ECX,dword ptr [ECX + 0x8]
004c7a3b : MOV byte ptr [ECX + 0x30],BL
004c7a3e : PUSH EDX
004c7a3f : MOV ECX,ESI
004c7a41 : CALL 0x00452770
004c7a46 : JMP 0x004c7ac0
004c7a48 : CMP byte ptr [ECX + 0x30],0x0
004c7a4c : JNZ 0x004c7a62
004c7a4e : MOV byte ptr [ECX + 0x30],BL
004c7a51 : PUSH EDX
004c7a52 : MOV ECX,ESI
004c7a54 : MOV byte ptr [ESI + 0x30],0x0
004c7a58 : CALL 0x004099e0
004c7a5d : MOV ECX,dword ptr [ESI]
004c7a5f : MOV EDX,dword ptr [EBP + 0x8]
004c7a62 : CMP byte ptr [ECX + 0x31],0x0
004c7a66 : JNZ 0x004c7a7b
004c7a68 : MOV EAX,dword ptr [ECX + 0x8]
004c7a6b : CMP byte ptr [EAX + 0x30],BL
004c7a6e : JNZ 0x004c7a8e
004c7a70 : MOV EAX,dword ptr [ECX]
004c7a72 : CMP byte ptr [EAX + 0x30],BL
004c7a75 : JNZ 0x004c7a8e
004c7a77 : MOV byte ptr [ECX + 0x30],0x0
004c7a7b : MOV ECX,dword ptr [EDX + 0x4]
004c7a7e : MOV EDI,ESI
004c7a80 : MOV ESI,dword ptr [ESI + 0x4]
004c7a83 : CMP EDI,dword ptr [ECX + 0x4]
004c7a86 : JNZ 0x004c79d0
004c7a8c : JMP 0x004c7ac0
004c7a8e : MOV EAX,dword ptr [ECX]
004c7a90 : CMP byte ptr [EAX + 0x30],BL
004c7a93 : JNZ 0x004c7aaa
004c7a95 : MOV EAX,dword ptr [ECX + 0x8]
004c7a98 : MOV byte ptr [EAX + 0x30],BL
004c7a9b : PUSH EDX
004c7a9c : MOV byte ptr [ECX + 0x30],0x0
004c7aa0 : CALL 0x00452770
004c7aa5 : MOV ECX,dword ptr [ESI]
004c7aa7 : MOV EDX,dword ptr [EBP + 0x8]
004c7aaa : MOV AL,byte ptr [ESI + 0x30]
004c7aad : MOV byte ptr [ECX + 0x30],AL
004c7ab0 : MOV byte ptr [ESI + 0x30],BL
004c7ab3 : MOV ECX,dword ptr [ECX]
004c7ab5 : MOV byte ptr [ECX + 0x30],BL
004c7ab8 : PUSH EDX
004c7ab9 : MOV ECX,ESI
004c7abb : CALL 0x004099e0
004c7ac0 : MOV byte ptr [EDI + 0x30],BL
004c7ac3 : OR EDI,0xffffffff
004c7ac6 : MOV dword ptr [EBP + -0x4],EDI
004c7ac9 : MOV EAX,dword ptr [EBP + -0x14]
004c7acc : ADD EAX,0xc
004c7acf : MOV dword ptr [EBP + -0x18],EAX
004c7ad2 : MOV dword ptr [EBP + -0x4],EDI
004c7ad5 : LEA ESI,[EAX + 0x4]
004c7ad8 : MOV dword ptr [EBP + -0x18],ESI
004c7adb : MOV dword ptr [EBP + -0x4],0x3
004c7ae2 : CALL 0x004c8790
004c7ae7 : MOV dword ptr [EBP + -0x4],EDI
004c7aea : MOV ECX,dword ptr [ESI]
004c7aec : CALL 0x006f04e0
