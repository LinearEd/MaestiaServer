PROGRAM  : Maestia.exe
FUNCTION : FUN_004422c0
ENTRY    : 004422c0
BODY     : [[004422c0, 0044255a]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004423e0) */
/* WARNING: Removing unreachable block (ram,0x004423f0) */
/* WARNING: Removing unreachable block (ram,0x004423f9) */
/* WARNING: Removing unreachable block (ram,0x004423fc) */
/* WARNING: Removing unreachable block (ram,0x004423ec) */
/* WARNING: Removing unreachable block (ram,0x00442409) */
/* WARNING: Removing unreachable block (ram,0x00442419) */
/* WARNING: Removing unreachable block (ram,0x00442424) */
/* WARNING: Removing unreachable block (ram,0x00442420) */
/* WARNING: Removing unreachable block (ram,0x00442414) */
/* WARNING: Removing unreachable block (ram,0x00442427) */
/* WARNING: Removing unreachable block (ram,0x00442437) */
/* WARNING: Removing unreachable block (ram,0x0044243f) */

void FUN_004422c0(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7bf38;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x21) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_00442590(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x21) == '\0') {
    if (*(char *)(param_3[2] + 0x21) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x21) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x21) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x21);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x21);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int *)(param_1 + 4);
  if (*(int **)(local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x21) == '\0') {
      uVar4 = FUN_00448de0();
      *(undefined4 *)(local_1c + 8) = uVar4;
    }
    else {
      *(int **)(local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[8] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[8] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[8] == '\0') {
            *(undefined1 *)(piVar6 + 8) = 1;
            *(undefined1 *)(piVar5 + 8) = 0;
            FUN_00427220(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x21) == '\0') {
            if ((*(char *)(*piVar6 + 0x20) != '\x01') || (*(char *)(piVar6[2] + 0x20) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x20) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x20) = 1;
                *(undefined1 *)(piVar6 + 8) = 0;
                FUN_0042ce70(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 8) = (char)piVar5[8];
              *(undefined1 *)(piVar5 + 8) = 1;
              *(undefined1 *)(piVar6[2] + 0x20) = 1;
              FUN_00427220(param_1);
              break;
            }
LAB_00442507:
            *(undefined1 *)(piVar6 + 8) = 0;
          }
        }
        else {
          if ((char)piVar6[8] == '\0') {
            *(undefined1 *)(piVar6 + 8) = 1;
            *(undefined1 *)(piVar5 + 8) = 0;
            FUN_0042ce70(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x21) == '\0') {
            if ((*(char *)(piVar6[2] + 0x20) == '\x01') && (*(char *)(*piVar6 + 0x20) == '\x01'))
            goto LAB_00442507;
            if (*(char *)(*piVar6 + 0x20) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x20) = 1;
              *(undefined1 *)(piVar6 + 8) = 0;
              FUN_00427220(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 8) = (char)piVar5[8];
            *(undefined1 *)(piVar5 + 8) = 1;
            *(undefined1 *)(*piVar6 + 0x20) = 1;
            FUN_0042ce70(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 8) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004422c0 : PUSH EBP
004422c1 : MOV EBP,ESP
004422c3 : PUSH -0x1
004422c5 : PUSH 0xb7bf38
004422ca : MOV EAX,FS:[0x0]
004422d0 : PUSH EAX
004422d1 : SUB ESP,0x50
004422d4 : PUSH EBX
004422d5 : PUSH ESI
004422d6 : PUSH EDI
004422d7 : MOV EAX,[0x00d66fa0]
004422dc : XOR EAX,EBP
004422de : PUSH EAX
004422df : LEA EAX,[EBP + -0xc]
004422e2 : MOV FS:[0x0],EAX
004422e8 : MOV EAX,dword ptr [EBP + 0x10]
004422eb : CMP byte ptr [EAX + 0x21],0x0
004422ef : JZ 0x0044232d
004422f1 : PUSH 0x1b
004422f3 : XOR ESI,ESI
004422f5 : PUSH 0xcca4a8
004422fa : LEA ECX,[EBP + -0x34]
004422fd : MOV dword ptr [EBP + -0x1c],0xf
00442304 : MOV dword ptr [EBP + -0x20],ESI
00442307 : MOV byte ptr [EBP + -0x30],0x0
0044230b : CALL 0x00404b50
00442310 : MOV dword ptr [EBP + -0x4],ESI
00442313 : LEA EAX,[EBP + -0x34]
00442316 : PUSH EAX
00442317 : LEA ECX,[EBP + -0x5c]
0044231a : CALL 0x00403c10
0044231f : PUSH 0xced890
00442324 : LEA ECX,[EBP + -0x5c]
00442327 : PUSH ECX
00442328 : CALL 0x006409eb
0044232d : MOV EBX,EAX
0044232f : LEA EDX,[EBP + 0x10]
00442332 : MOV dword ptr [EBP + -0x14],EBX
00442335 : CALL 0x00442590
0044233a : MOV ECX,dword ptr [EBX]
0044233c : CMP byte ptr [ECX + 0x21],0x0
00442340 : JZ 0x00442347
00442342 : MOV EDI,dword ptr [EBX + 0x8]
00442345 : JMP 0x00442361
00442347 : MOV EDX,dword ptr [EBX + 0x8]
0044234a : CMP byte ptr [EDX + 0x21],0x0
0044234e : JZ 0x00442354
00442350 : MOV EDI,ECX
00442352 : JMP 0x00442361
00442354 : MOV EAX,dword ptr [EBP + 0x10]
00442357 : MOV EDI,dword ptr [EAX + 0x8]
0044235a : LEA EDX,[EAX + 0x8]
0044235d : CMP EAX,EBX
0044235f : JNZ 0x004423e0
00442361 : CMP byte ptr [EDI + 0x21],0x0
00442365 : MOV ESI,dword ptr [EBX + 0x4]
00442368 : JNZ 0x0044236d
0044236a : MOV dword ptr [EDI + 0x4],ESI
0044236d : MOV EDX,dword ptr [EBP + 0x8]
00442370 : MOV EAX,dword ptr [EDX + 0x4]
00442373 : CMP dword ptr [EAX + 0x4],EBX
00442376 : JNZ 0x0044237d
00442378 : MOV dword ptr [EAX + 0x4],EDI
0044237b : JMP 0x00442388
0044237d : CMP dword ptr [ESI],EBX
0044237f : JNZ 0x00442385
00442381 : MOV dword ptr [ESI],EDI
00442383 : JMP 0x00442388
00442385 : MOV dword ptr [ESI + 0x8],EDI
00442388 : MOV EAX,dword ptr [EDX + 0x4]
0044238b : CMP dword ptr [EAX],EBX
0044238d : JNZ 0x004423b2
0044238f : CMP byte ptr [EDI + 0x21],0x0
00442393 : JZ 0x00442399
00442395 : MOV ECX,ESI
00442397 : JMP 0x004423ad
00442399 : MOV EAX,dword ptr [EDI]
0044239b : CMP byte ptr [EAX + 0x21],0x0
0044239f : MOV ECX,EDI
004423a1 : JNZ 0x004423ad
004423a3 : MOV ECX,EAX
004423a5 : MOV EAX,dword ptr [ECX]
004423a7 : CMP byte ptr [EAX + 0x21],0x0
004423ab : JZ 0x004423a3
004423ad : MOV EAX,dword ptr [EDX + 0x4]
004423b0 : MOV dword ptr [EAX],ECX
004423b2 : MOV ECX,dword ptr [EDX + 0x4]
004423b5 : MOV dword ptr [EBP + -0x18],ECX
004423b8 : CMP dword ptr [ECX + 0x8],EBX
004423bb : JNZ 0x00442442
004423c1 : CMP byte ptr [EDI + 0x21],0x0
004423c5 : JZ 0x004423ce
004423c7 : MOV EAX,ESI
004423c9 : MOV dword ptr [ECX + 0x8],EAX
004423cc : JMP 0x00442442
004423ce : MOV EAX,EDI
004423d0 : CALL 0x00448de0
004423d5 : MOV ECX,dword ptr [EBP + -0x18]
004423d8 : MOV EDX,dword ptr [EBP + 0x8]
004423db : MOV dword ptr [ECX + 0x8],EAX
004423de : JMP 0x00442442
004423e0 : MOV dword ptr [ECX + 0x4],EAX
004423e3 : MOV ECX,dword ptr [EBX]
004423e5 : MOV dword ptr [EAX],ECX
004423e7 : CMP EAX,dword ptr [EBX + 0x8]
004423ea : JNZ 0x004423f0
004423ec : MOV ESI,EAX
004423ee : JMP 0x00442409
004423f0 : CMP byte ptr [EDI + 0x21],0x0
004423f4 : MOV ESI,dword ptr [EAX + 0x4]
004423f7 : JNZ 0x004423fc
004423f9 : MOV dword ptr [EDI + 0x4],ESI
004423fc : MOV dword ptr [ESI],EDI
004423fe : MOV ECX,dword ptr [EBX + 0x8]
00442401 : MOV dword ptr [EDX],ECX
00442403 : MOV EDX,dword ptr [EBX + 0x8]
00442406 : MOV dword ptr [EDX + 0x4],EAX
00442409 : MOV ECX,dword ptr [EBP + 0x8]
0044240c : MOV ECX,dword ptr [ECX + 0x4]
0044240f : CMP dword ptr [ECX + 0x4],EBX
00442412 : JNZ 0x00442419
00442414 : MOV dword ptr [ECX + 0x4],EAX
00442417 : JMP 0x00442427
00442419 : MOV ECX,dword ptr [EBX + 0x4]
0044241c : CMP dword ptr [ECX],EBX
0044241e : JNZ 0x00442424
00442420 : MOV dword ptr [ECX],EAX
00442422 : JMP 0x00442427
00442424 : MOV dword ptr [ECX + 0x8],EAX
00442427 : MOV EDX,dword ptr [EBX + 0x4]
0044242a : MOV dword ptr [EAX + 0x4],EDX
0044242d : LEA ECX,[EBX + 0x20]
00442430 : ADD EAX,0x20
00442433 : CMP EAX,ECX
00442435 : JZ 0x0044243f
00442437 : MOV BL,byte ptr [ECX]
00442439 : MOV DL,byte ptr [EAX]
0044243b : MOV byte ptr [EAX],BL
0044243d : MOV byte ptr [ECX],DL
0044243f : MOV EDX,dword ptr [EBP + 0x8]
00442442 : MOV EAX,dword ptr [EBP + -0x14]
00442445 : MOV BL,0x1
00442447 : CMP byte ptr [EAX + 0x20],BL
0044244a : JNZ 0x00442553
00442450 : MOV ECX,dword ptr [EDX + 0x4]
00442453 : CMP EDI,dword ptr [ECX + 0x4]
00442456 : JZ 0x00442550
0044245c : LEA ESP,[ESP]
00442460 : CMP byte ptr [EDI + 0x20],BL
00442463 : JNZ 0x00442550
00442469 : MOV ECX,dword ptr [ESI]
0044246b : CMP EDI,ECX
0044246d : JNZ 0x004424d8
0044246f : MOV ECX,dword ptr [ESI + 0x8]
00442472 : CMP byte ptr [ECX + 0x20],0x0
00442476 : JNZ 0x0044248d
00442478 : MOV byte ptr [ECX + 0x20],BL
0044247b : PUSH EDX
0044247c : MOV ECX,ESI
0044247e : MOV byte ptr [ESI + 0x20],0x0
00442482 : CALL 0x00427220
00442487 : MOV ECX,dword ptr [ESI + 0x8]
0044248a : MOV EDX,dword ptr [EBP + 0x8]
0044248d : CMP byte ptr [ECX + 0x21],0x0
00442491 : JNZ 0x0044250b
00442493 : MOV EAX,dword ptr [ECX]
00442495 : CMP byte ptr [EAX + 0x20],BL
00442498 : JNZ 0x004424a2
0044249a : MOV EAX,dword ptr [ECX + 0x8]
0044249d : CMP byte ptr [EAX + 0x20],BL
004424a0 : JZ 0x00442507
004424a2 : MOV EAX,dword ptr [ECX + 0x8]
004424a5 : CMP byte ptr [EAX + 0x20],BL
004424a8 : JNZ 0x004424bf
004424aa : MOV EAX,dword ptr [ECX]
004424ac : MOV byte ptr [EAX + 0x20],BL
004424af : PUSH EDX
004424b0 : MOV byte ptr [ECX + 0x20],0x0
004424b4 : CALL 0x0042ce70
004424b9 : MOV ECX,dword ptr [ESI + 0x8]
004424bc : MOV EDX,dword ptr [EBP + 0x8]
004424bf : MOV AL,byte ptr [ESI + 0x20]
004424c2 : MOV byte ptr [ECX + 0x20],AL
004424c5 : MOV byte ptr [ESI + 0x20],BL
004424c8 : MOV ECX,dword ptr [ECX + 0x8]
004424cb : MOV byte ptr [ECX + 0x20],BL
004424ce : PUSH EDX
004424cf : MOV ECX,ESI
004424d1 : CALL 0x00427220
004424d6 : JMP 0x00442550
004424d8 : CMP byte ptr [ECX + 0x20],0x0
004424dc : JNZ 0x004424f2
004424de : MOV byte ptr [ECX + 0x20],BL
004424e1 : PUSH EDX
004424e2 : MOV ECX,ESI
004424e4 : MOV byte ptr [ESI + 0x20],0x0
004424e8 : CALL 0x0042ce70
004424ed : MOV ECX,dword ptr [ESI]
004424ef : MOV EDX,dword ptr [EBP + 0x8]
004424f2 : CMP byte ptr [ECX + 0x21],0x0
004424f6 : JNZ 0x0044250b
004424f8 : MOV EAX,dword ptr [ECX + 0x8]
004424fb : CMP byte ptr [EAX + 0x20],BL
004424fe : JNZ 0x0044251e
00442500 : MOV EAX,dword ptr [ECX]
00442502 : CMP byte ptr [EAX + 0x20],BL
00442505 : JNZ 0x0044251e
00442507 : MOV byte ptr [ECX + 0x20],0x0
0044250b : MOV ECX,dword ptr [EDX + 0x4]
0044250e : MOV EDI,ESI
00442510 : MOV ESI,dword ptr [ESI + 0x4]
00442513 : CMP EDI,dword ptr [ECX + 0x4]
00442516 : JNZ 0x00442460
0044251c : JMP 0x00442550
0044251e : MOV EAX,dword ptr [ECX]
00442520 : CMP byte ptr [EAX + 0x20],BL
00442523 : JNZ 0x0044253a
00442525 : MOV EAX,dword ptr [ECX + 0x8]
00442528 : MOV byte ptr [EAX + 0x20],BL
0044252b : PUSH EDX
0044252c : MOV byte ptr [ECX + 0x20],0x0
00442530 : CALL 0x00427220
00442535 : MOV ECX,dword ptr [ESI]
00442537 : MOV EDX,dword ptr [EBP + 0x8]
0044253a : MOV AL,byte ptr [ESI + 0x20]
0044253d : MOV byte ptr [ECX + 0x20],AL
00442540 : MOV byte ptr [ESI + 0x20],BL
00442543 : MOV ECX,dword ptr [ECX]
00442545 : MOV byte ptr [ECX + 0x20],BL
00442548 : PUSH EDX
00442549 : MOV ECX,ESI
0044254b : CALL 0x0042ce70
00442550 : MOV byte ptr [EDI + 0x20],BL
00442553 : MOV ECX,dword ptr [EBP + -0x14]
00442556 : CALL 0x006f04e0
