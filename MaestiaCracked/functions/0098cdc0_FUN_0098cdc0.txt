PROGRAM  : Maestia.exe
FUNCTION : FUN_0098cdc0
ENTRY    : 0098cdc0
BODY     : [[0098cdc0, 0098d114]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0098cdc0(void)

{
  uint uVar1;
  DWORD DVar2;
  undefined4 uVar3;
  int iVar4;
  int in_ECX;
  int iVar5;
  undefined4 ***pppuVar6;
  uint uVar7;
  undefined1 local_6c [28];
  undefined1 local_50 [28];
  int local_34;
  undefined4 **local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b20e00;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar1;
  if (*(int *)(in_ECX + 100) == 0) {
    DAT_00d72ae8 = 0xffffffff;
  }
  else {
    if (*(int *)(in_ECX + 100) != 0) {
      DVar2 = timeGetTime();
      if (DVar2 < *(uint *)(in_ECX + 100)) {
        DVar2 = timeGetTime();
        uVar1 = *(int *)(in_ECX + 100) - DVar2;
        uVar7 = (uVar1 / 60000) % 0x3c;
        uVar1 = uVar1 / 3600000;
        if (DAT_00d72ae8 != uVar7) {
          local_18 = 7;
          local_1c = 0;
          local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
          local_8 = 0;
          DAT_00d72ae8 = uVar7;
          if (uVar7 == 0) {
            FUN_00406460(L"IDS_UNDER_ONE_MINUTE");
            local_8._0_1_ = 1;
            uVar3 = FUN_0081d120(local_6c);
            local_8._0_1_ = 2;
            FUN_00405eb0(uVar3,0,0xffffffff);
            local_8._0_1_ = 1;
            FUN_00406560();
          }
          else {
            if (uVar1 == 0) {
              FUN_00406460(L"IDS_GUI_MINUTE");
              local_8._0_1_ = 8;
              iVar4 = FUN_0081d120(local_50);
              local_8._0_1_ = 9;
              if (*(uint *)(iVar4 + 0x18) < 8) {
                iVar4 = iVar4 + 4;
              }
              else {
                iVar4 = *(int *)(iVar4 + 4);
              }
              uVar3 = FUN_00404750(L"%d%s",uVar7,iVar4);
              local_8._0_1_ = 10;
              FUN_00405eb0(uVar3,0,0xffffffff);
              local_8._0_1_ = 9;
              FUN_00406560();
              local_8._0_1_ = 8;
            }
            else {
              FUN_00406460(L"IDS_GUI_MINUTE");
              local_8._0_1_ = 3;
              FUN_00406460(L"IDS_GUI_TIME");
              local_8._0_1_ = 4;
              local_34 = FUN_0081d120(local_50);
              local_8._0_1_ = 5;
              iVar4 = FUN_0081d120(local_6c);
              local_8._0_1_ = 6;
              if (*(uint *)(local_34 + 0x18) < 8) {
                iVar5 = local_34 + 4;
              }
              else {
                iVar5 = *(int *)(local_34 + 4);
              }
              if (*(uint *)(iVar4 + 0x18) < 8) {
                iVar4 = iVar4 + 4;
              }
              else {
                iVar4 = *(int *)(iVar4 + 4);
              }
              uVar3 = FUN_00404750(L"%d%s %d%s",uVar1,iVar4,uVar7,iVar5);
              local_8._0_1_ = 7;
              FUN_00405eb0(uVar3,0,0xffffffff);
              local_8._0_1_ = 6;
              FUN_00406560();
              local_8._0_1_ = 5;
              FUN_00406560();
              local_8._0_1_ = 4;
              FUN_00406560();
              local_8._0_1_ = 3;
            }
            FUN_00406560();
          }
          local_8._0_1_ = 0;
          FUN_00406560();
          FUN_00406460(L"IDS_AUTOUSER_REMAIN_TIME");
          local_8._0_1_ = 0xb;
          iVar4 = FUN_0081d120(local_50);
          local_8._0_1_ = 0xc;
          pppuVar6 = (undefined4 ***)local_2c[0];
          if (local_18 < 8) {
            pppuVar6 = local_2c;
          }
          if (*(uint *)(iVar4 + 0x18) < 8) {
            iVar4 = iVar4 + 4;
          }
          else {
            iVar4 = *(int *)(iVar4 + 4);
          }
          uVar3 = FUN_00404750(iVar4,pppuVar6);
          local_8._0_1_ = 0xd;
          FUN_00405eb0(uVar3,0,0xffffffff);
          local_8._0_1_ = 0xc;
          FUN_00406560();
          local_8._0_1_ = 0xb;
          FUN_00406560();
          local_8 = (uint)local_8._1_3_ << 8;
          FUN_00406560();
          iVar4 = *DAT_00da9894;
          if ((iVar4 != 0) && (*(int *)(iVar4 + 0x114) != 0)) {
            pppuVar6 = (undefined4 ***)local_2c[0];
            if (local_18 < 8) {
              pppuVar6 = local_2c;
            }
            (**(code **)(**(int **)(iVar4 + 0x114) + 4))
                      (*(int **)(iVar4 + 0x114),"mc_nameinfo.SetAutoUserMsg",&DAT_00c84554,pppuVar6)
            ;
          }
          local_8 = 0xffffffff;
          FUN_00406560();
        }
        goto LAB_0098d0f9;
      }
    }
    FUN_0098cd00(uVar1);
  }
LAB_0098d0f9:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0098cdc0 : PUSH EBP
0098cdc1 : MOV EBP,ESP
0098cdc3 : PUSH -0x1
0098cdc5 : PUSH 0xb20e00
0098cdca : MOV EAX,FS:[0x0]
0098cdd0 : PUSH EAX
0098cdd1 : SUB ESP,0xb0
0098cdd7 : MOV EAX,[0x00d66fa0]
0098cddc : XOR EAX,EBP
0098cdde : MOV dword ptr [EBP + -0x10],EAX
0098cde1 : PUSH EBX
0098cde2 : PUSH ESI
0098cde3 : PUSH EDI
0098cde4 : PUSH EAX
0098cde5 : LEA EAX,[EBP + -0xc]
0098cde8 : MOV FS:[0x0],EAX
0098cdee : MOV ESI,ECX
0098cdf0 : MOV EAX,dword ptr [ESI + 0x64]
0098cdf3 : XOR EDI,EDI
0098cdf5 : CMP EAX,EDI
0098cdf7 : JNZ 0x0098ce08
0098cdf9 : MOV dword ptr [0x00d72ae8],0xffffffff
0098ce03 : JMP 0x0098d0f9
0098ce08 : JBE 0x0098d0f2
0098ce0e : MOV EBX,dword ptr [0x00b85598]
0098ce14 : CALL EBX
0098ce16 : CMP EAX,dword ptr [ESI + 0x64]
0098ce19 : JNC 0x0098d0f2
0098ce1f : CALL EBX
0098ce21 : MOV ECX,dword ptr [ESI + 0x64]
0098ce24 : SUB ECX,EAX
0098ce26 : MOV EAX,0x45e7b273
0098ce2b : MUL ECX
0098ce2d : MOV EAX,EDX
0098ce2f : SHR EAX,0xe
0098ce32 : CDQ
0098ce33 : MOV ESI,0x3c
0098ce38 : IDIV ESI
0098ce3a : MOV EAX,0x95217cb1
0098ce3f : MOV ESI,EDX
0098ce41 : MUL ECX
0098ce43 : MOV EBX,EDX
0098ce45 : SHR EBX,0x15
0098ce48 : CMP dword ptr [0x00d72ae8],ESI
0098ce4e : JZ 0x0098d0f9
0098ce54 : XOR EAX,EAX
0098ce56 : MOV dword ptr [0x00d72ae8],ESI
0098ce5c : MOV dword ptr [EBP + -0x14],0x7
0098ce63 : MOV dword ptr [EBP + -0x18],EDI
0098ce66 : MOV word ptr [EBP + -0x28],AX
0098ce6a : MOV dword ptr [EBP + -0x4],EDI
0098ce6d : CMP ESI,EDI
0098ce6f : JNZ 0x0098cebc
0098ce71 : PUSH 0xc84478
0098ce76 : LEA ECX,[EBP + -0x68]
0098ce79 : CALL 0x00406460
0098ce7e : MOV BL,0x1
0098ce80 : MOV byte ptr [EBP + -0x4],BL
0098ce83 : LEA ECX,[EBP + -0x68]
0098ce86 : PUSH ECX
0098ce87 : MOV ECX,dword ptr [0x0172491c]
0098ce8d : LEA EDI,[EBP + -0x4c]
0098ce90 : CALL 0x0081d120
0098ce95 : MOV byte ptr [EBP + -0x4],0x2
0098ce99 : PUSH -0x1
0098ce9b : PUSH 0x0
0098ce9d : PUSH EAX
0098ce9e : LEA ECX,[EBP + -0x2c]
0098cea1 : CALL 0x00405eb0
0098cea6 : MOV byte ptr [EBP + -0x4],BL
0098cea9 : MOV ECX,EDI
0098ceab : CALL 0x00406560
0098ceb0 : MOV byte ptr [EBP + -0x4],0x0
0098ceb4 : LEA ECX,[EBP + -0x68]
0098ceb7 : JMP 0x0098d013
0098cebc : CMP EBX,EDI
0098cebe : LEA ECX,[EBP + -0x4c]
0098cec1 : JLE 0x0098cf97
0098cec7 : PUSH 0xc844a4
0098cecc : CALL 0x00406460
0098ced1 : MOV byte ptr [EBP + -0x4],0x3
0098ced5 : PUSH 0xc844c4
0098ceda : LEA ECX,[EBP + -0x68]
0098cedd : CALL 0x00406460
0098cee2 : MOV byte ptr [EBP + -0x4],0x4
0098cee6 : MOV ECX,dword ptr [0x0172491c]
0098ceec : LEA EDX,[EBP + -0x4c]
0098ceef : PUSH EDX
0098cef0 : LEA EDI,[EBP + 0xffffff7c]
0098cef6 : CALL 0x0081d120
0098cefb : MOV dword ptr [EBP + -0x30],EAX
0098cefe : MOV byte ptr [EBP + -0x4],0x5
0098cf02 : MOV ECX,dword ptr [0x0172491c]
0098cf08 : LEA EAX,[EBP + -0x68]
0098cf0b : PUSH EAX
0098cf0c : LEA EDI,[EBP + 0xffffff60]
0098cf12 : CALL 0x0081d120
0098cf17 : MOV byte ptr [EBP + -0x4],0x6
0098cf1b : MOV ECX,dword ptr [EBP + -0x30]
0098cf1e : MOV EDX,0x8
0098cf23 : CMP dword ptr [ECX + 0x18],EDX
0098cf26 : JC 0x0098cf2d
0098cf28 : MOV ECX,dword ptr [ECX + 0x4]
0098cf2b : JMP 0x0098cf30
0098cf2d : ADD ECX,0x4
0098cf30 : CMP dword ptr [EAX + 0x18],EDX
0098cf33 : JC 0x0098cf3a
0098cf35 : MOV EAX,dword ptr [EAX + 0x4]
0098cf38 : JMP 0x0098cf3d
0098cf3a : ADD EAX,0x4
0098cf3d : PUSH ECX
0098cf3e : PUSH ESI
0098cf3f : PUSH EAX
0098cf40 : PUSH EBX
0098cf41 : PUSH 0xc844e0
0098cf46 : LEA ESI,[EBP + 0xffffff44]
0098cf4c : CALL 0x00404750
0098cf51 : ADD ESP,0x14
0098cf54 : MOV byte ptr [EBP + -0x4],0x7
0098cf58 : PUSH -0x1
0098cf5a : PUSH 0x0
0098cf5c : PUSH EAX
0098cf5d : LEA ECX,[EBP + -0x2c]
0098cf60 : CALL 0x00405eb0
0098cf65 : MOV byte ptr [EBP + -0x4],0x6
0098cf69 : MOV ECX,ESI
0098cf6b : CALL 0x00406560
0098cf70 : MOV byte ptr [EBP + -0x4],0x5
0098cf74 : LEA ECX,[EBP + 0xffffff60]
0098cf7a : CALL 0x00406560
0098cf7f : MOV byte ptr [EBP + -0x4],0x4
0098cf83 : LEA ECX,[EBP + 0xffffff7c]
0098cf89 : CALL 0x00406560
0098cf8e : MOV byte ptr [EBP + -0x4],0x3
0098cf92 : LEA ECX,[EBP + -0x68]
0098cf95 : JMP 0x0098d007
0098cf97 : PUSH 0xc844f4
0098cf9c : CALL 0x00406460
0098cfa1 : MOV byte ptr [EBP + -0x4],0x8
0098cfa5 : LEA ECX,[EBP + -0x4c]
0098cfa8 : PUSH ECX
0098cfa9 : MOV ECX,dword ptr [0x0172491c]
0098cfaf : LEA EDI,[EBP + 0xffffff60]
0098cfb5 : CALL 0x0081d120
0098cfba : MOV BL,0x9
0098cfbc : MOV byte ptr [EBP + -0x4],BL
0098cfbf : CMP dword ptr [EAX + 0x18],0x8
0098cfc3 : JC 0x0098cfca
0098cfc5 : MOV EAX,dword ptr [EAX + 0x4]
0098cfc8 : JMP 0x0098cfcd
0098cfca : ADD EAX,0x4
0098cfcd : PUSH EAX
0098cfce : PUSH ESI
0098cfcf : PUSH 0xc84514
0098cfd4 : LEA ESI,[EBP + 0xffffff7c]
0098cfda : CALL 0x00404750
0098cfdf : ADD ESP,0xc
0098cfe2 : MOV byte ptr [EBP + -0x4],0xa
0098cfe6 : PUSH -0x1
0098cfe8 : PUSH 0x0
0098cfea : PUSH EAX
0098cfeb : LEA ECX,[EBP + -0x2c]
0098cfee : CALL 0x00405eb0
0098cff3 : MOV byte ptr [EBP + -0x4],BL
0098cff6 : MOV ECX,ESI
0098cff8 : CALL 0x00406560
0098cffd : MOV byte ptr [EBP + -0x4],0x8
0098d001 : LEA ECX,[EBP + 0xffffff60]
0098d007 : CALL 0x00406560
0098d00c : MOV byte ptr [EBP + -0x4],0x0
0098d010 : LEA ECX,[EBP + -0x4c]
0098d013 : CALL 0x00406560
0098d018 : PUSH 0xc84520
0098d01d : LEA ECX,[EBP + -0x4c]
0098d020 : CALL 0x00406460
0098d025 : MOV byte ptr [EBP + -0x4],0xb
0098d029 : MOV ECX,dword ptr [0x0172491c]
0098d02f : LEA EDX,[EBP + -0x4c]
0098d032 : PUSH EDX
0098d033 : LEA EDI,[EBP + 0xffffff60]
0098d039 : CALL 0x0081d120
0098d03e : MOV BL,0xc
0098d040 : MOV byte ptr [EBP + -0x4],BL
0098d043 : MOV ECX,dword ptr [EBP + -0x28]
0098d046 : MOV EDI,0x8
0098d04b : CMP dword ptr [EBP + -0x14],EDI
0098d04e : JNC 0x0098d053
0098d050 : LEA ECX,[EBP + -0x28]
0098d053 : CMP dword ptr [EAX + 0x18],EDI
0098d056 : JC 0x0098d05d
0098d058 : MOV EAX,dword ptr [EAX + 0x4]
0098d05b : JMP 0x0098d060
0098d05d : ADD EAX,0x4
0098d060 : PUSH ECX
0098d061 : PUSH EAX
0098d062 : LEA ESI,[EBP + 0xffffff7c]
0098d068 : CALL 0x00404750
0098d06d : ADD ESP,0x8
0098d070 : MOV byte ptr [EBP + -0x4],0xd
0098d074 : PUSH -0x1
0098d076 : PUSH 0x0
0098d078 : PUSH EAX
0098d079 : LEA ECX,[EBP + -0x2c]
0098d07c : CALL 0x00405eb0
0098d081 : MOV byte ptr [EBP + -0x4],BL
0098d084 : MOV ECX,ESI
0098d086 : CALL 0x00406560
0098d08b : MOV byte ptr [EBP + -0x4],0xb
0098d08f : LEA ECX,[EBP + 0xffffff60]
0098d095 : CALL 0x00406560
0098d09a : MOV byte ptr [EBP + -0x4],0x0
0098d09e : LEA ECX,[EBP + -0x4c]
0098d0a1 : CALL 0x00406560
0098d0a6 : MOV EAX,[0x00da9894]
0098d0ab : MOV EAX,dword ptr [EAX]
0098d0ad : TEST EAX,EAX
0098d0af : JZ 0x0098d0e1
0098d0b1 : CMP dword ptr [EAX + 0x114],0x0
0098d0b8 : JZ 0x0098d0e1
0098d0ba : MOV EAX,dword ptr [EAX + 0x114]
0098d0c0 : MOV ECX,dword ptr [EBP + -0x28]
0098d0c3 : CMP dword ptr [EBP + -0x14],EDI
0098d0c6 : JNC 0x0098d0cb
0098d0c8 : LEA ECX,[EBP + -0x28]
0098d0cb : MOV EDX,dword ptr [EAX]
0098d0cd : PUSH ECX
0098d0ce : PUSH 0xc84554
0098d0d3 : PUSH 0xc84558
0098d0d8 : PUSH EAX
0098d0d9 : MOV EAX,dword ptr [EDX + 0x4]
0098d0dc : CALL EAX
0098d0de : ADD ESP,0x10
0098d0e1 : MOV dword ptr [EBP + -0x4],0xffffffff
0098d0e8 : LEA ECX,[EBP + -0x2c]
0098d0eb : CALL 0x00406560
0098d0f0 : JMP 0x0098d0f9
0098d0f2 : MOV EAX,ESI
0098d0f4 : CALL 0x0098cd00
0098d0f9 : MOV ECX,dword ptr [EBP + -0xc]
0098d0fc : MOV dword ptr FS:[0x0],ECX
0098d103 : POP ECX
0098d104 : POP EDI
0098d105 : POP ESI
0098d106 : POP EBX
0098d107 : MOV ECX,dword ptr [EBP + -0x10]
0098d10a : XOR ECX,EBP
0098d10c : CALL 0x00633e6b
0098d111 : MOV ESP,EBP
0098d113 : POP EBP
0098d114 : RET
