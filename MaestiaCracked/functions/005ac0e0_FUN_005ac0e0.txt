PROGRAM  : Maestia.exe
FUNCTION : FUN_005ac0e0
ENTRY    : 005ac0e0
BODY     : [[005ac0e0, 005ac161]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_005ac0e0(uint param_1,uint param_2,undefined4 *param_3)

{
  int iVar1;
  undefined4 *in_ECX;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  
  uVar4 = in_ECX[1];
  if (param_1 < uVar4) {
    param_1 = uVar4;
  }
  if (param_2 < uVar4) {
    param_2 = uVar4;
  }
  uVar4 = param_2 - 1;
  uVar3 = (param_1 - 1) + param_2 & ~uVar4;
  iVar1 = FUN_005abfe0(uVar3 >> ((byte)*in_ECX & 0x1f),uVar4);
  if (iVar1 != 0) {
    uVar4 = uVar4 + iVar1 & ~uVar4;
    for (uVar2 = uVar4 - iVar1; (uVar2 != 0 && (uVar2 < 0x40)); uVar2 = uVar2 + param_2) {
      uVar4 = uVar4 + param_2;
    }
    *param_3 = *(undefined4 *)(iVar1 + 0x20);
    FUN_005ab970(iVar1,uVar4,uVar3);
    return uVar4;
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
005ac0e0 : MOV EDX,dword ptr [ESP + 0x4]
005ac0e4 : PUSH EBX
005ac0e5 : PUSH EBP
005ac0e6 : MOV EBP,ECX
005ac0e8 : MOV ECX,dword ptr [EBP + 0x4]
005ac0eb : PUSH ESI
005ac0ec : CMP EDX,ECX
005ac0ee : JNC 0x005ac0f2
005ac0f0 : MOV EDX,ECX
005ac0f2 : MOV EAX,dword ptr [ESP + 0x14]
005ac0f6 : CMP EAX,ECX
005ac0f8 : JNC 0x005ac0fc
005ac0fa : MOV EAX,ECX
005ac0fc : MOV ECX,dword ptr [EBP]
005ac0ff : LEA EBX,[EDX + EAX*0x1 + -0x1]
005ac103 : LEA ESI,[EAX + -0x1]
005ac106 : MOV EAX,ESI
005ac108 : NOT EAX
005ac10a : AND EBX,EAX
005ac10c : MOV EDX,EBX
005ac10e : SHR EDX,CL
005ac110 : PUSH ESI
005ac111 : MOV ECX,EBP
005ac113 : PUSH EDX
005ac114 : CALL 0x005abfe0
005ac119 : TEST EAX,EAX
005ac11b : JZ 0x005ac15a
005ac11d : PUSH EDI
005ac11e : MOV ECX,ESI
005ac120 : LEA EDI,[ESI + EAX*0x1]
005ac123 : NOT ECX
005ac125 : AND EDI,ECX
005ac127 : MOV EDX,EDI
005ac129 : SUB EDX,EAX
005ac12b : JZ 0x005ac13e
005ac12d : LEA ECX,[ECX]
005ac130 : CMP EDX,0x40
005ac133 : JNC 0x005ac13e
005ac135 : LEA ECX,[ESI + 0x1]
005ac138 : ADD EDI,ECX
005ac13a : ADD EDX,ECX
005ac13c : JNZ 0x005ac130
005ac13e : MOV EDX,dword ptr [EAX + 0x20]
005ac141 : MOV ECX,dword ptr [ESP + 0x1c]
005ac145 : PUSH EBX
005ac146 : PUSH EDI
005ac147 : MOV dword ptr [ECX],EDX
005ac149 : PUSH EAX
005ac14a : MOV ECX,EBP
005ac14c : CALL 0x005ab970
005ac151 : MOV EAX,EDI
005ac153 : POP EDI
005ac154 : POP ESI
005ac155 : POP EBP
005ac156 : POP EBX
005ac157 : RET 0xc
005ac15a : POP ESI
005ac15b : POP EBP
005ac15c : XOR EAX,EAX
005ac15e : POP EBX
005ac15f : RET 0xc
