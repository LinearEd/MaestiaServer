PROGRAM  : Maestia.exe
FUNCTION : FUN_0050a7a0
ENTRY    : 0050a7a0
BODY     : [[0050a7a0, 0050a88e]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0050a7a0(void)

{
  char cVar1;
  int iVar2;
  int *in_ECX;
  int unaff_EDI;
  undefined4 *puStack_14;
  undefined1 auStack_10 [16];
  
  if (*(int *)(in_ECX[0x2d] + 0x10) == 0) {
    return 1;
  }
  iVar2 = (**(code **)(*in_ECX + 0x5c))();
  if (iVar2 != 0) {
    auStack_10[0] = 0;
    cVar1 = FUN_005331f0(in_ECX + 0x2d,auStack_10,0,0,0,0);
    if (cVar1 == '\0') {
      (**(code **)(*in_ECX + 0x1ac))(&DAT_00cca874,0,0);
    }
    else {
      cVar1 = FUN_00528400(iVar2,in_ECX + 0x2e);
      if (cVar1 == '\0') {
        FUN_005268b0(auStack_10);
        FUN_005272e0(&puStack_14,iVar2,0xffffffff,0);
        (**(code **)(*in_ECX + 0x1ac))(*puStack_14,0,0);
        *(int *)(unaff_EDI + 8) = *(int *)(unaff_EDI + 8) + -1;
        if (*(int *)(unaff_EDI + 8) == 0) {
          FUN_00525340();
        }
        FUN_00526bc0();
        return 1;
      }
    }
    FUN_00526bc0();
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0050a7a0 : SUB ESP,0x14
0050a7a3 : PUSH EBX
0050a7a4 : PUSH ESI
0050a7a5 : MOV ESI,ECX
0050a7a7 : MOV EAX,dword ptr [ESI + 0xb4]
0050a7ad : CMP dword ptr [EAX + 0x10],0x0
0050a7b1 : LEA EBX,[ESI + 0xb4]
0050a7b7 : JZ 0x0050a887
0050a7bd : MOV EDX,dword ptr [ESI]
0050a7bf : MOV EAX,dword ptr [EDX + 0x5c]
0050a7c2 : PUSH EDI
0050a7c3 : CALL EAX
0050a7c5 : MOV EDI,EAX
0050a7c7 : TEST EDI,EDI
0050a7c9 : JZ 0x0050a87e
0050a7cf : PUSH 0x0
0050a7d1 : PUSH 0x0
0050a7d3 : PUSH 0x0
0050a7d5 : PUSH 0x0
0050a7d7 : LEA ECX,[ESP + 0x20]
0050a7db : PUSH ECX
0050a7dc : PUSH EBX
0050a7dd : MOV ECX,EDI
0050a7df : MOV byte ptr [ESP + 0x28],0x0
0050a7e4 : CALL 0x005331f0
0050a7e9 : TEST AL,AL
0050a7eb : JZ 0x0050a860
0050a7ed : LEA EBX,[ESI + 0xb8]
0050a7f3 : PUSH EBX
0050a7f4 : PUSH EDI
0050a7f5 : LEA ECX,[ESP + 0x18]
0050a7f9 : CALL 0x00528400
0050a7fe : TEST AL,AL
0050a800 : JNZ 0x0050a875
0050a802 : LEA EDX,[ESP + 0x10]
0050a806 : PUSH EDX
0050a807 : MOV ECX,EBX
0050a809 : CALL 0x005268b0
0050a80e : PUSH 0x0
0050a810 : PUSH -0x1
0050a812 : PUSH EDI
0050a813 : LEA EAX,[ESP + 0x18]
0050a817 : PUSH EAX
0050a818 : LEA ECX,[ESP + 0x20]
0050a81c : CALL 0x005272e0
0050a821 : MOV EAX,dword ptr [ESP + 0xc]
0050a825 : MOV ECX,dword ptr [EAX]
0050a827 : MOV EDX,dword ptr [ESI]
0050a829 : MOV EDX,dword ptr [EDX + 0x1ac]
0050a82f : PUSH 0x0
0050a831 : PUSH 0x0
0050a833 : PUSH ECX
0050a834 : MOV ECX,ESI
0050a836 : CALL EDX
0050a838 : MOV EAX,dword ptr [ESP + 0xc]
0050a83c : DEC dword ptr [EAX + 0x8]
0050a83f : MOV ECX,EAX
0050a841 : ADD EAX,0x8
0050a844 : CMP dword ptr [EAX],0x0
0050a847 : JNZ 0x0050a84e
0050a849 : CALL 0x00525340
0050a84e : LEA ECX,[ESP + 0x10]
0050a852 : CALL 0x00526bc0
0050a857 : POP EDI
0050a858 : POP ESI
0050a859 : MOV AL,0x1
0050a85b : POP EBX
0050a85c : ADD ESP,0x14
0050a85f : RET
0050a860 : MOV EAX,dword ptr [ESI]
0050a862 : MOV EDX,dword ptr [EAX + 0x1ac]
0050a868 : PUSH 0x0
0050a86a : PUSH 0x0
0050a86c : PUSH 0xcca874
0050a871 : MOV ECX,ESI
0050a873 : CALL EDX
0050a875 : LEA ECX,[ESP + 0x10]
0050a879 : CALL 0x00526bc0
0050a87e : POP EDI
0050a87f : POP ESI
0050a880 : XOR AL,AL
0050a882 : POP EBX
0050a883 : ADD ESP,0x14
0050a886 : RET
0050a887 : POP ESI
0050a888 : MOV AL,0x1
0050a88a : POP EBX
0050a88b : ADD ESP,0x14
0050a88e : RET
