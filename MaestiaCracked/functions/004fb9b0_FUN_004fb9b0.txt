PROGRAM  : Maestia.exe
FUNCTION : FUN_004fb9b0
ENTRY    : 004fb9b0
BODY     : [[004fb9b0, 004fb9fa]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_004fb9b0(void)

{
  uint uVar1;
  int unaff_ESI;
  undefined4 *unaff_EDI;
  
  if (*(char *)(unaff_ESI + 0x10) == '\0') {
    if (*(uint *)(unaff_ESI + 8) == *(uint *)(unaff_ESI + 0xc)) {
      if (*(uint *)(unaff_ESI + 0xc) < 8) {
        *(undefined4 *)(unaff_ESI + 0xc) = 8;
      }
      FUN_004fd180(unaff_ESI);
    }
    uVar1 = *(uint *)(unaff_ESI + 8);
  }
  else {
    uVar1 = *(uint *)(unaff_ESI + 8);
    if (*(uint *)(unaff_ESI + 0xc) <= uVar1) {
      return uVar1 & 0xffffff00;
    }
  }
  *(undefined4 *)(*(int *)(unaff_ESI + 4) + uVar1 * 4) = *unaff_EDI;
  *(int *)(unaff_ESI + 8) = *(int *)(unaff_ESI + 8) + 1;
  return CONCAT31((int3)(uVar1 >> 8),1);
}



============================================================
DISASSEMBLY
============================================================
004fb9b0 : CMP byte ptr [ESI + 0x10],0x0
004fb9b4 : PUSH EBX
004fb9b5 : MOV EBX,0x1
004fb9ba : JZ 0x004fb9c8
004fb9bc : MOV EAX,dword ptr [ESI + 0x8]
004fb9bf : CMP EAX,dword ptr [ESI + 0xc]
004fb9c2 : JC 0x004fb9ec
004fb9c4 : XOR AL,AL
004fb9c6 : POP EBX
004fb9c7 : RET
004fb9c8 : MOV EAX,dword ptr [ESI + 0xc]
004fb9cb : CMP dword ptr [ESI + 0x8],EAX
004fb9ce : JNZ 0x004fb9e9
004fb9d0 : CMP EAX,0x8
004fb9d3 : JNC 0x004fb9dc
004fb9d5 : MOV dword ptr [ESI + 0xc],0x8
004fb9dc : MOV EAX,dword ptr [ESI + 0xc]
004fb9df : LEA EAX,[EAX + EAX*0x1 + 0x1]
004fb9e3 : PUSH ESI
004fb9e4 : CALL 0x004fd180
004fb9e9 : MOV EAX,dword ptr [ESI + 0x8]
004fb9ec : MOV EDX,dword ptr [EDI]
004fb9ee : MOV ECX,dword ptr [ESI + 0x4]
004fb9f1 : MOV dword ptr [ECX + EAX*0x4],EDX
004fb9f4 : ADD dword ptr [ESI + 0x8],EBX
004fb9f7 : MOV AL,BL
004fb9f9 : POP EBX
004fb9fa : RET
