PROGRAM  : Maestia.exe
FUNCTION : FUN_0045c760
ENTRY    : 0045c760
BODY     : [[0045c760, 0045c79e] [0045c7a0, 0045c8b8]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0045c7bc) */

void FUN_0045c760(int param_1,undefined4 *param_2,undefined4 *param_3)

{
  uint uVar1;
  int iVar2;
  ushort *puVar3;
  undefined4 *puVar4;
  int iVar5;
  ushort *puVar6;
  uint uVar7;
  undefined4 *puVar8;
  bool bVar9;
  
  iVar2 = (int)param_3;
  puVar4 = *(undefined4 **)(param_1 + 4);
  bVar9 = true;
  if (*(char *)((int)puVar4[1] + 0xa79) == '\0') {
    uVar1 = *(uint *)((int)param_3 + 0x14);
    puVar8 = (undefined4 *)puVar4[1];
    do {
      puVar4 = puVar8;
      if ((uint)puVar4[9] < 8) {
        puVar3 = (ushort *)(puVar4 + 4);
      }
      else {
        puVar3 = (ushort *)puVar4[4];
      }
      uVar7 = puVar4[8];
      if (uVar1 < (uint)puVar4[8]) {
        uVar7 = uVar1;
      }
      if (*(uint *)((int)param_3 + 0x18) < 8) {
        puVar6 = (ushort *)((int)param_3 + 4);
      }
      else {
        puVar6 = *(ushort **)((int)param_3 + 4);
      }
      for (; uVar7 != 0; uVar7 = uVar7 - 1) {
        if (*puVar6 != *puVar3) {
          uVar7 = (-(uint)(*puVar6 < *puVar3) & 0xfffffffe) + 1;
          if (uVar7 != 0) goto LAB_0045c817;
          break;
        }
        puVar6 = puVar6 + 1;
        puVar3 = puVar3 + 1;
      }
      if (uVar1 < (uint)puVar4[8]) {
        uVar7 = 0xffffffff;
      }
      else {
        uVar7 = (uint)(uVar1 != puVar4[8]);
      }
LAB_0045c817:
      bVar9 = (int)uVar7 < 0;
      if (bVar9) {
        puVar8 = (undefined4 *)*puVar4;
      }
      else {
        puVar8 = (undefined4 *)puVar4[2];
      }
    } while (*(char *)((int)puVar8 + 0xa79) == '\0');
  }
  param_3 = puVar4;
  if (bVar9) {
    if (puVar4 == (undefined4 *)**(int **)(param_1 + 4)) {
      bVar9 = true;
      goto LAB_0045c854;
    }
    FUN_0045db90();
  }
  puVar4 = param_3;
  if (*(uint *)(iVar2 + 0x18) < 8) {
    iVar5 = iVar2 + 4;
  }
  else {
    iVar5 = *(int *)(iVar2 + 4);
  }
  iVar5 = FUN_00405bb0(iVar5);
  if (-1 < iVar5) {
    *param_2 = puVar4;
    *(undefined1 *)(param_2 + 1) = 0;
    return;
  }
LAB_0045c854:
  puVar4 = (undefined4 *)FUN_0045ceb0(&param_3,bVar9,iVar2);
  *param_2 = *puVar4;
  *(undefined1 *)(param_2 + 1) = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0045c760 : PUSH EBP
0045c761 : MOV EBP,ESP
0045c763 : SUB ESP,0x18
0045c766 : PUSH EBX
0045c767 : MOV EBX,dword ptr [EBP + 0x10]
0045c76a : PUSH ESI
0045c76b : PUSH EDI
0045c76c : MOV EDI,dword ptr [EBP + 0x8]
0045c76f : MOV EAX,dword ptr [EDI + 0x4]
0045c772 : MOV ESI,dword ptr [EAX + 0x4]
0045c775 : CMP byte ptr [ESI + 0xa79],0x0
0045c77c : MOV ECX,EAX
0045c77e : MOV AL,0x1
0045c780 : MOV dword ptr [EBP + -0x4],ECX
0045c783 : MOV byte ptr [EBP + -0x8],AL
0045c786 : JNZ 0x0045c83d
0045c78c : MOV EAX,dword ptr [EBX + 0x14]
0045c78f : MOV EDX,dword ptr [EBX + 0x18]
0045c792 : MOV ECX,EAX
0045c794 : MOV dword ptr [EBP + -0x10],EAX
0045c797 : MOV dword ptr [EBP + -0xc],ECX
0045c79a : MOV dword ptr [EBP + -0x14],EDX
0045c79d : JMP 0x0045c7a3
0045c7a0 : MOV ECX,dword ptr [EBP + -0xc]
0045c7a3 : CMP dword ptr [ESI + 0x24],0x8
0045c7a7 : MOV EDX,dword ptr [ESI + 0x20]
0045c7aa : MOV dword ptr [EBP + -0x4],ESI
0045c7ad : JC 0x0045c7b4
0045c7af : MOV EAX,dword ptr [ESI + 0x10]
0045c7b2 : JMP 0x0045c7b7
0045c7b4 : LEA EAX,[ESI + 0x10]
0045c7b7 : MOV EDI,dword ptr [EBP + -0x10]
0045c7ba : CMP ECX,EDI
0045c7bc : CMOVC EDI,ECX
0045c7bf : CMP EDI,EDX
0045c7c1 : JNC 0x0045c7c5
0045c7c3 : MOV EDX,EDI
0045c7c5 : CMP dword ptr [EBP + -0x14],0x8
0045c7c9 : JC 0x0045c7d0
0045c7cb : MOV ECX,dword ptr [EBX + 0x4]
0045c7ce : JMP 0x0045c7d3
0045c7d0 : LEA ECX,[EBX + 0x4]
0045c7d3 : TEST EDX,EDX
0045c7d5 : JBE 0x0045c7ed
0045c7d7 : MOV BX,word ptr [ECX]
0045c7da : CMP BX,word ptr [EAX]
0045c7dd : JNZ 0x0045c7f9
0045c7df : ADD ECX,0x2
0045c7e2 : ADD EAX,0x2
0045c7e5 : SUB EDX,0x1
0045c7e8 : JNZ 0x0045c7d7
0045c7ea : MOV EBX,dword ptr [EBP + 0x10]
0045c7ed : MOV EAX,dword ptr [ESI + 0x20]
0045c7f0 : CMP EDI,EAX
0045c7f2 : JNC 0x0045c80e
0045c7f4 : OR EAX,0xffffffff
0045c7f7 : JMP 0x0045c817
0045c7f9 : MOV CX,BX
0045c7fc : CMP CX,word ptr [EAX]
0045c7ff : SBB EAX,EAX
0045c801 : AND EAX,0xfffffffe
0045c804 : ADD EAX,0x1
0045c807 : JZ 0x0045c7ea
0045c809 : MOV EBX,dword ptr [EBP + 0x10]
0045c80c : JMP 0x0045c817
0045c80e : XOR EDX,EDX
0045c810 : CMP EDI,EAX
0045c812 : SETNZ DL
0045c815 : MOV EAX,EDX
0045c817 : TEST EAX,EAX
0045c819 : SETL AL
0045c81c : MOV byte ptr [EBP + -0x8],AL
0045c81f : TEST AL,AL
0045c821 : JZ 0x0045c827
0045c823 : MOV ESI,dword ptr [ESI]
0045c825 : JMP 0x0045c82a
0045c827 : MOV ESI,dword ptr [ESI + 0x8]
0045c82a : CMP byte ptr [ESI + 0xa79],0x0
0045c831 : JZ 0x0045c7a0
0045c837 : MOV EDI,dword ptr [EBP + 0x8]
0045c83a : MOV ECX,dword ptr [EBP + -0x4]
0045c83d : MOV ESI,ECX
0045c83f : MOV dword ptr [EBP + 0x10],ESI
0045c842 : TEST AL,AL
0045c844 : JZ 0x0045c875
0045c846 : MOV EAX,dword ptr [EDI + 0x4]
0045c849 : LEA EDX,[EBP + 0x10]
0045c84c : CMP ECX,dword ptr [EAX]
0045c84e : JNZ 0x0045c86d
0045c850 : PUSH EBX
0045c851 : PUSH 0x1
0045c853 : PUSH EDX
0045c854 : CALL 0x0045ceb0
0045c859 : MOV ECX,dword ptr [EAX]
0045c85b : MOV EAX,dword ptr [EBP + 0xc]
0045c85e : MOV dword ptr [EAX],ECX
0045c860 : MOV byte ptr [EAX + 0x4],0x1
0045c864 : POP EDI
0045c865 : POP ESI
0045c866 : POP EBX
0045c867 : MOV ESP,EBP
0045c869 : POP EBP
0045c86a : RET 0xc
0045c86d : CALL 0x0045db90
0045c872 : MOV ESI,dword ptr [EBP + 0x10]
0045c875 : CMP dword ptr [EBX + 0x18],0x8
0045c879 : MOV EDI,dword ptr [EBX + 0x14]
0045c87c : LEA ECX,[ESI + 0xc]
0045c87f : JC 0x0045c886
0045c881 : MOV EAX,dword ptr [EBX + 0x4]
0045c884 : JMP 0x0045c889
0045c886 : LEA EAX,[EBX + 0x4]
0045c889 : PUSH EAX
0045c88a : MOV EAX,dword ptr [ECX + 0x14]
0045c88d : CALL 0x00405bb0
0045c892 : TEST EAX,EAX
0045c894 : JGE 0x0045c8a7
0045c896 : MOV EDX,dword ptr [EBP + -0x8]
0045c899 : MOV ECX,dword ptr [EBP + -0x4]
0045c89c : MOV EDI,dword ptr [EBP + 0x8]
0045c89f : PUSH EBX
0045c8a0 : PUSH EDX
0045c8a1 : LEA EAX,[EBP + 0x10]
0045c8a4 : PUSH EAX
0045c8a5 : JMP 0x0045c854
0045c8a7 : MOV EAX,dword ptr [EBP + 0xc]
0045c8aa : POP EDI
0045c8ab : MOV dword ptr [EAX],ESI
0045c8ad : POP ESI
0045c8ae : MOV byte ptr [EAX + 0x4],0x0
0045c8b2 : POP EBX
0045c8b3 : MOV ESP,EBP
0045c8b5 : POP EBP
0045c8b6 : RET 0xc
