PROGRAM  : Maestia.exe
FUNCTION : FUN_0084faa0
ENTRY    : 0084faa0
BODY     : [[0084faa0, 0084fb6d]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0084faff) */

void FUN_0084faa0(void)

{
  uint uVar1;
  int unaff_EDI;
  undefined1 local_2c [4];
  undefined2 local_28;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b48d58;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  FUN_00406360(&DAT_00c3cf78,0);
  FUN_0084c3a0(unaff_EDI);
  if (*(int *)(unaff_EDI + 0x48) != *(int *)(unaff_EDI + 0x4c)) {
    *(int *)(unaff_EDI + 0x4c) = *(int *)(unaff_EDI + 0x48);
  }
  local_14 = 7;
  local_18 = 0;
  local_28 = 0;
  FUN_00406360(&DAT_00c3cf7c,0);
  local_8 = 0;
  FUN_0084f430(unaff_EDI,local_2c);
  local_8 = 0xffffffff;
  if (local_14 < 8) {
    ExceptionList = local_10;
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0(uVar1);
}



============================================================
DISASSEMBLY
============================================================
0084faa0 : PUSH EBP
0084faa1 : MOV EBP,ESP
0084faa3 : PUSH -0x1
0084faa5 : PUSH 0xb48d58
0084faaa : MOV EAX,FS:[0x0]
0084fab0 : PUSH EAX
0084fab1 : SUB ESP,0x20
0084fab4 : PUSH EBX
0084fab5 : PUSH ESI
0084fab6 : MOV EAX,[0x00d66fa0]
0084fabb : XOR EAX,EBP
0084fabd : PUSH EAX
0084fabe : LEA EAX,[EBP + -0xc]
0084fac1 : MOV FS:[0x0],EAX
0084fac7 : XOR EBX,EBX
0084fac9 : PUSH EBX
0084faca : PUSH 0xc3cf78
0084facf : LEA ECX,[EDI + 0x170]
0084fad5 : CALL 0x00406360
0084fada : PUSH EDI
0084fadb : CALL 0x0084c3a0
0084fae0 : MOV ECX,dword ptr [EDI + 0x4c]
0084fae3 : MOV ESI,dword ptr [EDI + 0x48]
0084fae6 : CMP ESI,ECX
0084fae8 : JZ 0x0084fb10
0084faea : MOV EAX,ECX
0084faec : SUB EAX,ECX
0084faee : SAR EAX,0x2
0084faf1 : LEA EDX,[EAX*0x4 + 0x0]
0084faf8 : LEA EBX,[EDX + ESI*0x1]
0084fafb : TEST EAX,EAX
0084fafd : JLE 0x0084fb0b
0084faff : PUSH EDX
0084fb00 : PUSH ECX
0084fb01 : PUSH EDX
0084fb02 : PUSH ESI
0084fb03 : CALL 0x00634101
0084fb08 : ADD ESP,0x10
0084fb0b : MOV dword ptr [EDI + 0x4c],EBX
0084fb0e : XOR EBX,EBX
0084fb10 : PUSH EBX
0084fb11 : XOR EAX,EAX
0084fb13 : MOV ESI,0x7
0084fb18 : PUSH 0xc3cf7c
0084fb1d : LEA ECX,[EBP + -0x28]
0084fb20 : MOV dword ptr [EBP + -0x10],ESI
0084fb23 : MOV dword ptr [EBP + -0x14],EBX
0084fb26 : MOV word ptr [EBP + -0x24],AX
0084fb2a : CALL 0x00406360
0084fb2f : MOV dword ptr [EBP + -0x4],EBX
0084fb32 : LEA ECX,[EBP + -0x28]
0084fb35 : PUSH ECX
0084fb36 : PUSH EDI
0084fb37 : CALL 0x0084f430
0084fb3c : MOV dword ptr [EBP + -0x4],0xffffffff
0084fb43 : CMP dword ptr [EBP + -0x10],0x8
0084fb47 : JC 0x0084fb51
0084fb49 : MOV ECX,dword ptr [EBP + -0x24]
0084fb4c : CALL 0x006f04e0
0084fb51 : XOR EDX,EDX
0084fb53 : MOV dword ptr [EBP + -0x10],ESI
0084fb56 : MOV dword ptr [EBP + -0x14],EBX
0084fb59 : MOV word ptr [EBP + -0x24],DX
0084fb5d : MOV ECX,dword ptr [EBP + -0xc]
0084fb60 : MOV dword ptr FS:[0x0],ECX
0084fb67 : POP ECX
0084fb68 : POP ESI
0084fb69 : POP EBX
0084fb6a : MOV ESP,EBP
0084fb6c : POP EBP
0084fb6d : RET
