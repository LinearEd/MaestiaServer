PROGRAM  : Maestia.exe
FUNCTION : FUN_009006a0
ENTRY    : 009006a0
BODY     : [[009006a0, 009007f8]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_009006a0(void)

{
  short sVar1;
  ushort uVar2;
  uint uVar3;
  undefined4 in_EAX;
  int iVar4;
  int iVar5;
  int local_10;
  uint local_c;
  int local_8;
  
  local_8 = 0x10;
  iVar4 = FUN_00a1a6d0(in_EAX);
  iVar5 = DAT_00d7c54c;
  if (iVar4 == 0) {
    iVar5 = FUN_00a1a840(in_EAX);
    if (iVar5 != 0) {
      uVar2 = *(ushort *)(iVar5 + 0x80);
      if (uVar2 == 0) {
        uVar2 = *(ushort *)(iVar5 + 0x7c);
      }
      local_8 = ((*(uint *)(iVar5 + 0x16d8) & 0xffff) - 4) + (uint)uVar2 * 4;
    }
  }
  else {
    uVar3 = *(uint *)(iVar4 + 8);
    local_c = uVar3;
    FUN_004437f0(&local_c);
    if (((local_10 == *(int *)(iVar5 + 0x44)) || (iVar5 = *(int *)(local_10 + 0x10), iVar5 == 0)) ||
       ((*(char *)(iVar4 + 0x1688) != '\0' &&
        (iVar5 = FUN_004049b0(*(undefined4 *)(iVar4 + 0x168c)), iVar5 == 0)))) {
      return 0;
    }
    switch(*(undefined1 *)(iVar5 + 0xfc)) {
    case 0:
      local_8 = 9;
      break;
    case 1:
      local_8 = 10;
      break;
    case 2:
      local_8 = 0xb;
      break;
    case 3:
      local_8 = 0xc;
    }
    if ((uVar3 >> 0x10 == 0x509) && (iVar5 = FUN_004049b0(uVar3), iVar5 != 0)) {
      sVar1 = *(short *)(iVar5 + 0x1b0);
      if (sVar1 == 1) {
        return 0xd;
      }
      if (sVar1 == 2) {
        return 0xe;
      }
      if (sVar1 == 3) {
        return 0xf;
      }
    }
  }
  return local_8;
}



============================================================
DISASSEMBLY
============================================================
009006a0 : PUSH EBP
009006a1 : MOV EBP,ESP
009006a3 : SUB ESP,0xc
009006a6 : MOV ECX,dword ptr [0x00da93ec]
009006ac : PUSH EBX
009006ad : PUSH ESI
009006ae : PUSH EDI
009006af : MOV EDI,EAX
009006b1 : PUSH EDI
009006b2 : MOV dword ptr [EBP + -0x4],0x10
009006b9 : CALL 0x00a1a6d0
009006be : MOV ESI,EAX
009006c0 : TEST ESI,ESI
009006c2 : JZ 0x009007b7
009006c8 : MOV EDI,dword ptr [0x00d7c54c]
009006ce : MOV EBX,dword ptr [ESI + 0x8]
009006d1 : LEA EAX,[EBP + -0x8]
009006d4 : PUSH EAX
009006d5 : LEA ECX,[EDI + 0x40]
009006d8 : LEA EAX,[EBP + -0xc]
009006db : MOV dword ptr [EBP + -0x8],EBX
009006de : CALL 0x004437f0
009006e3 : MOV EAX,dword ptr [EBP + -0xc]
009006e6 : CMP EAX,dword ptr [EDI + 0x44]
009006e9 : JZ 0x009006f2
009006eb : MOV EAX,dword ptr [EAX + 0x10]
009006ee : TEST EAX,EAX
009006f0 : JNZ 0x009006fb
009006f2 : POP EDI
009006f3 : POP ESI
009006f4 : XOR EAX,EAX
009006f6 : POP EBX
009006f7 : MOV ESP,EBP
009006f9 : POP EBP
009006fa : RET
009006fb : CMP byte ptr [ESI + 0x1688],0x0
00900702 : JZ 0x00900717
00900704 : MOV ECX,dword ptr [ESI + 0x168c]
0090070a : PUSH ECX
0090070b : CALL 0x004049b0
00900710 : ADD ESP,0x4
00900713 : TEST EAX,EAX
00900715 : JZ 0x009006f2
00900717 : MOVZX EAX,byte ptr [EAX + 0xfc]
0090071e : CMP EAX,0x3
00900721 : JA 0x0090074c
00900723 : JMP dword ptr [EAX*0x4 + 0x9007fc]
0090072a : MOV dword ptr [EBP + -0x4],0x9
00900731 : JMP 0x0090074c
00900733 : MOV dword ptr [EBP + -0x4],0xa
0090073a : JMP 0x0090074c
0090073c : MOV dword ptr [EBP + -0x4],0xb
00900743 : JMP 0x0090074c
00900745 : MOV dword ptr [EBP + -0x4],0xc
0090074c : MOV EDX,EBX
0090074e : SHR EDX,0x10
00900751 : CMP EDX,0x509
00900757 : JNZ 0x009007ef
0090075d : PUSH EBX
0090075e : CALL 0x004049b0
00900763 : ADD ESP,0x4
00900766 : TEST EAX,EAX
00900768 : JZ 0x009007ef
0090076e : MOVZX EAX,word ptr [EAX + 0x1b0]
00900775 : SUB EAX,0x1
00900778 : JZ 0x009007a6
0090077a : SUB EAX,0x1
0090077d : JZ 0x00900795
0090077f : SUB EAX,0x1
00900782 : JNZ 0x009007ef
00900784 : POP EDI
00900785 : MOV dword ptr [EBP + -0x4],0xf
0090078c : MOV EAX,dword ptr [EBP + -0x4]
0090078f : POP ESI
00900790 : POP EBX
00900791 : MOV ESP,EBP
00900793 : POP EBP
00900794 : RET
00900795 : POP EDI
00900796 : MOV dword ptr [EBP + -0x4],0xe
0090079d : MOV EAX,dword ptr [EBP + -0x4]
009007a0 : POP ESI
009007a1 : POP EBX
009007a2 : MOV ESP,EBP
009007a4 : POP EBP
009007a5 : RET
009007a6 : POP EDI
009007a7 : MOV dword ptr [EBP + -0x4],0xd
009007ae : MOV EAX,dword ptr [EBP + -0x4]
009007b1 : POP ESI
009007b2 : POP EBX
009007b3 : MOV ESP,EBP
009007b5 : POP EBP
009007b6 : RET
009007b7 : MOV ECX,dword ptr [0x00da93ec]
009007bd : PUSH EDI
009007be : CALL 0x00a1a840
009007c3 : TEST EAX,EAX
009007c5 : JZ 0x009007ef
009007c7 : MOVZX ECX,word ptr [EAX + 0x80]
009007ce : MOV EDX,dword ptr [EAX + 0x16d8]
009007d4 : TEST CX,CX
009007d7 : JZ 0x009007de
009007d9 : MOVZX EAX,CX
009007dc : JMP 0x009007e2
009007de : MOVZX EAX,word ptr [EAX + 0x7c]
009007e2 : MOVZX EAX,AX
009007e5 : MOVZX ECX,DX
009007e8 : LEA EDX,[ECX + EAX*0x4 + -0x4]
009007ec : MOV dword ptr [EBP + -0x4],EDX
009007ef : MOV EAX,dword ptr [EBP + -0x4]
009007f2 : POP EDI
009007f3 : POP ESI
009007f4 : POP EBX
009007f5 : MOV ESP,EBP
009007f7 : POP EBP
009007f8 : RET
