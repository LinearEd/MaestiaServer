PROGRAM  : Maestia.exe
FUNCTION : FUN_0054c900
ENTRY    : 0054c900
BODY     : [[0054c900, 0054c9b9]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0054c900(void)

{
  int *piVar1;
  int in_ECX;
  bool bVar2;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  undefined4 local_8;
  undefined1 local_4;
  
  if (((~*(byte *)(in_ECX + 0x68) & 1) != 0) && ((*(byte *)(in_ECX + 0x69) & 1) != 0)) {
    FUN_00546af0();
    piVar1 = (int *)FUN_005d2d10(0x7ffffffe);
    bVar2 = false;
    if (piVar1 == (int *)0x0) {
      local_1c = 0;
      local_18 = 0;
      local_8 = 0;
      local_28 = 0;
      local_24 = 0;
      local_20 = 0;
      local_14 = 0x7ffffffe;
      local_10 = 0xff000000;
      local_4 = 0x18;
      local_c = 0xffffffff;
      piVar1 = (int *)FUN_005d4350(&local_28);
    }
    else {
      bVar2 = piVar1[1] != 0;
    }
    if ((*piVar1 != *(int *)(in_ECX + 0x18)) || (bVar2 != (bool)(*(byte *)(in_ECX + 0x68) >> 3 & 1))
       ) {
      *piVar1 = *(int *)(in_ECX + 0x18);
      piVar1[1] = *(ushort *)(in_ECX + 0x68) >> 3 & 1;
      FUN_005446e0(piVar1);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0054c900 : SUB ESP,0x28
0054c903 : PUSH ESI
0054c904 : MOV ESI,ECX
0054c906 : MOV AL,byte ptr [ESI + 0x68]
0054c909 : NOT AL
0054c90b : TEST AL,0x1
0054c90d : JZ 0x0054c9b3
0054c913 : TEST byte ptr [ESI + 0x69],0x1
0054c917 : JZ 0x0054c9b3
0054c91d : MOV ECX,dword ptr [ESI + 0x8]
0054c920 : PUSH EBX
0054c921 : PUSH EDI
0054c922 : CALL 0x00546af0
0054c927 : MOV EDI,EAX
0054c929 : PUSH 0x7ffffffe
0054c92e : MOV ECX,EDI
0054c930 : CALL 0x005d2d10
0054c935 : XOR EBX,EBX
0054c937 : CMP EAX,EBX
0054c939 : JNZ 0x0054c97e
0054c93b : LEA ECX,[ESP + 0xc]
0054c93f : PUSH ECX
0054c940 : MOV ECX,EDI
0054c942 : MOV dword ptr [ESP + 0x1c],EBX
0054c946 : MOV dword ptr [ESP + 0x20],EBX
0054c94a : MOV dword ptr [ESP + 0x30],EBX
0054c94e : MOV dword ptr [ESP + 0x10],EBX
0054c952 : MOV dword ptr [ESP + 0x14],EBX
0054c956 : MOV dword ptr [ESP + 0x18],EBX
0054c95a : MOV dword ptr [ESP + 0x24],0x7ffffffe
0054c962 : MOV dword ptr [ESP + 0x28],0xff000000
0054c96a : MOV byte ptr [ESP + 0x34],0x18
0054c96f : MOV dword ptr [ESP + 0x2c],0xffffffff
0054c977 : CALL 0x005d4350
0054c97c : JMP 0x0054c984
0054c97e : CMP dword ptr [EAX + 0x4],EBX
0054c981 : SETNZ BL
0054c984 : MOV EDI,dword ptr [ESI + 0x18]
0054c987 : CMP dword ptr [EAX],EDI
0054c989 : JNZ 0x0054c998
0054c98b : MOV DL,byte ptr [ESI + 0x68]
0054c98e : SHR DL,0x3
0054c991 : AND DL,0x1
0054c994 : CMP BL,DL
0054c996 : JZ 0x0054c9b1
0054c998 : MOV dword ptr [EAX],EDI
0054c99a : MOVZX ECX,word ptr [ESI + 0x68]
0054c99e : SHR CX,0x3
0054c9a2 : PUSH EAX
0054c9a3 : AND ECX,0x1
0054c9a6 : MOV dword ptr [EAX + 0x4],ECX
0054c9a9 : MOV ECX,dword ptr [ESI + 0x8]
0054c9ac : CALL 0x005446e0
0054c9b1 : POP EDI
0054c9b2 : POP EBX
0054c9b3 : POP ESI
0054c9b4 : ADD ESP,0x28
0054c9b7 : RET 0xc
