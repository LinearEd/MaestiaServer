PROGRAM  : Maestia.exe
FUNCTION : FUN_00a60f60
ENTRY    : 00a60f60
BODY     : [[00a60f60, 00a610ad]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a60f60(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  char cVar4;
  int iVar5;
  undefined4 in_XMM0_Da;
  int local_c;
  undefined4 local_8;
  
  iVar3 = DAT_01725204;
  iVar5 = DAT_017251ac;
  local_8 = 0;
  if (*(uint *)(DAT_017251ac + 0x168) < 3) {
    local_8 = 0x17;
  }
  FUN_00484470(&local_8);
  if (((local_c != *(int *)(iVar3 + 0xfc)) && (*(int *)(local_c + 0x10) != 0)) &&
     (piVar1 = *(int **)(*(int *)(local_c + 0x10) + 0x1c), piVar1 != (int *)0x0)) {
    piVar2 = *(int **)(iVar5 + 0x18);
    iVar5 = (**(code **)(*piVar1 + 0xe8))(piVar1,"TerrainLakePos");
    if ((-1 < iVar5) && (cVar4 = FUN_0077c290(), cVar4 != '\0')) {
      iVar5 = (**(code **)(*piVar1 + 0x100))(piVar1,0);
      if (-1 < iVar5) {
        if ((*(int *)(DAT_017251ac + 0x1a4) != 0) &&
           (*(int *)(*(int *)(DAT_017251ac + 0x1a4) + 0xf4) != 0)) {
          FUN_007b9360();
          (**(code **)(*piVar1 + 0x78))(piVar1,"fLakeHeight",in_XMM0_Da);
          (**(code **)(*piVar1 + 0x78))
                    (piVar1,"fLakeAlphaSlope",
                     *(undefined4 *)(*(int *)(*(int *)(DAT_017251ac + 0x1a4) + 0xf4) + 0x1c8));
          (**(code **)(*piVar1 + 0x104))(piVar1);
          (**(code **)(*piVar2 + 0x148))(piVar2,4,0,0,param_2,0,param_3);
        }
        (**(code **)(*piVar1 + 0x108))(piVar1);
      }
      (**(code **)(*piVar1 + 0x10c))(piVar1);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a60f60 : PUSH EBP
00a60f61 : MOV EBP,ESP
00a60f63 : SUB ESP,0x8
00a60f66 : PUSH EBX
00a60f67 : MOV EBX,dword ptr [0x017251ac]
00a60f6d : CMP dword ptr [EBX + 0x168],0x3
00a60f74 : PUSH ESI
00a60f75 : MOV dword ptr [EBP + -0x4],0x0
00a60f7c : JNC 0x00a60f85
00a60f7e : MOV dword ptr [EBP + -0x4],0x17
00a60f85 : MOV ESI,dword ptr [0x01725204]
00a60f8b : LEA EAX,[EBP + -0x4]
00a60f8e : PUSH EAX
00a60f8f : LEA ECX,[ESI + 0xf8]
00a60f95 : LEA EAX,[EBP + -0x8]
00a60f98 : CALL 0x00484470
00a60f9d : MOV EAX,dword ptr [EBP + -0x8]
00a60fa0 : CMP EAX,dword ptr [ESI + 0xfc]
00a60fa6 : JZ 0x00a610a6
00a60fac : PUSH EDI
00a60fad : MOV EDI,dword ptr [EAX + 0x10]
00a60fb0 : TEST EDI,EDI
00a60fb2 : JZ 0x00a610a5
00a60fb8 : MOV ESI,dword ptr [EDI + 0x1c]
00a60fbb : TEST ESI,ESI
00a60fbd : JZ 0x00a610a5
00a60fc3 : MOV EBX,dword ptr [EBX + 0x18]
00a60fc6 : MOV EAX,ESI
00a60fc8 : MOV ECX,dword ptr [EAX]
00a60fca : MOV EDX,dword ptr [ECX + 0xe8]
00a60fd0 : PUSH 0xc0500c
00a60fd5 : PUSH EAX
00a60fd6 : CALL EDX
00a60fd8 : TEST EAX,EAX
00a60fda : SETGE AL
00a60fdd : TEST AL,AL
00a60fdf : JZ 0x00a610a5
00a60fe5 : MOV EAX,EDI
00a60fe7 : CALL 0x0077c290
00a60fec : TEST AL,AL
00a60fee : JZ 0x00a610a5
00a60ff4 : MOV EAX,dword ptr [ESI]
00a60ff6 : MOV ECX,dword ptr [EAX + 0x100]
00a60ffc : PUSH 0x0
00a60ffe : PUSH ESI
00a60fff : CALL ECX
00a61001 : TEST EAX,EAX
00a61003 : JL 0x00a6109a
00a61009 : MOV EDX,dword ptr [0x017251ac]
00a6100f : MOV EAX,dword ptr [EDX + 0x1a4]
00a61015 : TEST EAX,EAX
00a61017 : JZ 0x00a6108f
00a61019 : MOV EAX,dword ptr [EAX + 0xf4]
00a6101f : TEST EAX,EAX
00a61021 : JZ 0x00a6108f
00a61023 : CALL 0x007b9360
00a61028 : MOV EAX,dword ptr [ESI]
00a6102a : PUSH ECX
00a6102b : MOV ECX,dword ptr [EAX + 0x78]
00a6102e : MOVSS dword ptr [EBP + -0x8],XMM0
00a61033 : FLD float ptr [EBP + -0x8]
00a61036 : FSTP float ptr [ESP]
00a61039 : PUSH 0xc0501c
00a6103e : PUSH ESI
00a6103f : CALL ECX
00a61041 : MOV EAX,[0x017251ac]
00a61046 : MOV ECX,dword ptr [EAX + 0x1a4]
00a6104c : MOV EAX,dword ptr [ECX + 0xf4]
00a61052 : FLD float ptr [EAX + 0x1c8]
00a61058 : MOV EDX,dword ptr [ESI]
00a6105a : PUSH ECX
00a6105b : MOV ECX,dword ptr [EDX + 0x78]
00a6105e : FSTP float ptr [ESP]
00a61061 : PUSH 0xc05028
00a61066 : PUSH ESI
00a61067 : CALL ECX
00a61069 : MOV EDX,dword ptr [ESI]
00a6106b : MOV EAX,dword ptr [EDX + 0x104]
00a61071 : PUSH ESI
00a61072 : CALL EAX
00a61074 : MOV EDX,dword ptr [EBP + 0x10]
00a61077 : MOV EAX,dword ptr [EBP + 0xc]
00a6107a : MOV ECX,dword ptr [EBX]
00a6107c : MOV ECX,dword ptr [ECX + 0x148]
00a61082 : PUSH EDX
00a61083 : PUSH 0x0
00a61085 : PUSH EAX
00a61086 : PUSH 0x0
00a61088 : PUSH 0x0
00a6108a : PUSH 0x4
00a6108c : PUSH EBX
00a6108d : CALL ECX
00a6108f : MOV EDX,dword ptr [ESI]
00a61091 : MOV EAX,dword ptr [EDX + 0x108]
00a61097 : PUSH ESI
00a61098 : CALL EAX
00a6109a : MOV ECX,dword ptr [ESI]
00a6109c : MOV EDX,dword ptr [ECX + 0x10c]
00a610a2 : PUSH ESI
00a610a3 : CALL EDX
00a610a5 : POP EDI
00a610a6 : POP ESI
00a610a7 : POP EBX
00a610a8 : MOV ESP,EBP
00a610aa : POP EBP
00a610ab : RET 0xc
