PROGRAM  : Maestia.exe
FUNCTION : FUN_0088f3c0
ENTRY    : 0088f3c0
BODY     : [[0088f3c0, 0088f583]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0088f3c0(int param_1)

{
  float fVar1;
  float fVar2;
  short sVar3;
  int iVar4;
  int *in_ECX;
  
  if (in_ECX[0x29] < param_1) {
    in_ECX[0x30] = param_1;
    in_ECX[0x29] = 0;
  }
  else {
    in_ECX[0x29] = in_ECX[0x29] - param_1;
  }
  iVar4 = in_ECX[0xfe];
  if (iVar4 != 0) {
    if (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 200) == in_ECX[1]) {
      FUN_007a6a40(in_ECX[0x2c]);
    }
    else {
      fVar1 = (float)in_ECX[0x29];
      if (in_ECX[0x29] < 0) {
        fVar1 = fVar1 + 4.2949673e+09;
      }
      fVar2 = (float)in_ECX[0x2c];
      if (in_ECX[0x2c] < 0) {
        fVar2 = fVar2 + 4.2949673e+09;
      }
      *(float *)(iVar4 + 0x294) = fVar1 / fVar2;
      *(float *)(iVar4 + 0x298) = fVar1 / fVar2;
    }
    if (in_ECX[0x29] < 1) {
      *(undefined4 *)(in_ECX[0xfe] + 0x294) = *(undefined4 *)(in_ECX[0xfe] + 0x298);
    }
  }
  iVar4 = *(int *)(*DAT_00da9894 + 0x16c);
  if (iVar4 != 0) {
    if (*(int *)(iVar4 + 0x7c) == in_ECX[1]) {
      FUN_00900500(iVar4,in_ECX[0x29],in_ECX[0x2c]);
      *(undefined1 *)(*(int *)(*DAT_00da9894 + 0x16c) + 0xad) = 1;
      FUN_00901930();
      if (in_ECX[0xfe] != 0) {
        FUN_007a6aa0(in_ECX[0x2c]);
        *(undefined4 *)(in_ECX[0xfe] + 0x294) = *(undefined4 *)(in_ECX[0xfe] + 0x298);
      }
    }
    if (*(int *)(*(int *)(*DAT_00da9894 + 0x16c) + 0xe0) == in_ECX[1]) {
      FUN_009000c0(in_ECX[0x29],in_ECX[0x2c]);
    }
  }
  if (in_ECX != *(int **)(DAT_00da93ec + 0xac)) {
    sVar3 = (**(code **)(*in_ECX + 0x1e4))();
    if ((sVar3 == 0) && (*(int *)(*(int *)(DAT_00da93ec + 0xac) + 0x1f54) != 0)) {
      iVar4 = FUN_00ab6640(in_ECX[1]);
      if (iVar4 != 0) {
        FUN_00a90a50(in_ECX[0x29],in_ECX[0x2c]);
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0088f3c0 : PUSH EBP
0088f3c1 : MOV EBP,ESP
0088f3c3 : PUSH EDI
0088f3c4 : MOV EDI,ECX
0088f3c6 : MOV EAX,dword ptr [EDI + 0xa4]
0088f3cc : MOV ECX,dword ptr [EBP + 0x8]
0088f3cf : CMP EAX,ECX
0088f3d1 : JGE 0x0088f3e5
0088f3d3 : MOV dword ptr [EDI + 0xc0],ECX
0088f3d9 : MOV dword ptr [EDI + 0xa4],0x0
0088f3e3 : JMP 0x0088f3ed
0088f3e5 : SUB EAX,ECX
0088f3e7 : MOV dword ptr [EDI + 0xa4],EAX
0088f3ed : MOV ECX,dword ptr [EDI + 0x3f8]
0088f3f3 : TEST ECX,ECX
0088f3f5 : JZ 0x0088f470
0088f3f7 : MOV EAX,[0x0172491c]
0088f3fc : MOV EDX,dword ptr [EAX + 0x17c]
0088f402 : MOV EAX,dword ptr [EDX + 0xc8]
0088f408 : CMP EAX,dword ptr [EDI + 0x4]
0088f40b : MOV EAX,dword ptr [EDI + 0xa4]
0088f411 : JNZ 0x0088f421
0088f413 : MOV EDX,dword ptr [EDI + 0xb0]
0088f419 : PUSH EDX
0088f41a : CALL 0x007a6a40
0088f41f : JMP 0x0088f455
0088f421 : FILD dword ptr [EDI + 0xa4]
0088f427 : TEST EAX,EAX
0088f429 : JGE 0x0088f431
0088f42b : FADD float ptr [0x00cdf0e0]
0088f431 : MOV EDX,dword ptr [EDI + 0xb0]
0088f437 : FILD dword ptr [EDI + 0xb0]
0088f43d : TEST EDX,EDX
0088f43f : JGE 0x0088f447
0088f441 : FADD float ptr [0x00cdf0e0]
0088f447 : FDIVP
0088f449 : FST float ptr [ECX + 0x294]
0088f44f : FSTP float ptr [ECX + 0x298]
0088f455 : CMP dword ptr [EDI + 0xa4],0x0
0088f45c : JG 0x0088f470
0088f45e : MOV EAX,dword ptr [EDI + 0x3f8]
0088f464 : FLD float ptr [EAX + 0x298]
0088f46a : FSTP float ptr [EAX + 0x294]
0088f470 : MOV EAX,[0x00da9894]
0088f475 : MOV ECX,dword ptr [EAX]
0088f477 : MOV EAX,dword ptr [ECX + 0x16c]
0088f47d : TEST EAX,EAX
0088f47f : JZ 0x0088f515
0088f485 : MOV EDX,dword ptr [EAX + 0x7c]
0088f488 : CMP EDX,dword ptr [EDI + 0x4]
0088f48b : JNZ 0x0088f4ea
0088f48d : MOV ECX,dword ptr [EDI + 0xb0]
0088f493 : MOV EDX,dword ptr [EDI + 0xa4]
0088f499 : PUSH ESI
0088f49a : PUSH ECX
0088f49b : PUSH EDX
0088f49c : PUSH EAX
0088f49d : CALL 0x00900500
0088f4a2 : MOV EAX,[0x00da9894]
0088f4a7 : MOV ECX,dword ptr [EAX]
0088f4a9 : MOV ESI,dword ptr [ECX + 0x16c]
0088f4af : MOV byte ptr [ESI + 0xad],0x1
0088f4b6 : CALL 0x00901930
0088f4bb : MOV EAX,dword ptr [EDI + 0x3f8]
0088f4c1 : POP ESI
0088f4c2 : TEST EAX,EAX
0088f4c4 : JZ 0x0088f4ea
0088f4c6 : MOV EDX,dword ptr [EDI + 0xb0]
0088f4cc : MOV ECX,dword ptr [EDI + 0xa4]
0088f4d2 : PUSH EDX
0088f4d3 : CALL 0x007a6aa0
0088f4d8 : MOV EAX,dword ptr [EDI + 0x3f8]
0088f4de : FLD float ptr [EAX + 0x298]
0088f4e4 : FSTP float ptr [EAX + 0x294]
0088f4ea : MOV EAX,[0x00da9894]
0088f4ef : MOV ECX,dword ptr [EAX]
0088f4f1 : MOV EAX,dword ptr [ECX + 0x16c]
0088f4f7 : MOV EDX,dword ptr [EAX + 0xe0]
0088f4fd : CMP EDX,dword ptr [EDI + 0x4]
0088f500 : JNZ 0x0088f515
0088f502 : MOV ECX,dword ptr [EDI + 0xb0]
0088f508 : MOV EDX,dword ptr [EDI + 0xa4]
0088f50e : PUSH ECX
0088f50f : PUSH EDX
0088f510 : CALL 0x009000c0
0088f515 : MOV EAX,[0x00da93ec]
0088f51a : CMP EDI,dword ptr [EAX + 0xac]
0088f520 : JZ 0x0088f57f
0088f522 : MOV EDX,dword ptr [EDI]
0088f524 : MOV EAX,dword ptr [EDX + 0x1e4]
0088f52a : MOV ECX,EDI
0088f52c : CALL EAX
0088f52e : TEST AX,AX
0088f531 : JNZ 0x0088f57f
0088f533 : MOV ECX,dword ptr [0x00da93ec]
0088f539 : MOV ECX,dword ptr [ECX + 0xac]
0088f53f : CMP dword ptr [ECX + 0x1f54],0x0
0088f546 : JZ 0x0088f57f
0088f548 : MOV EAX,dword ptr [EDI + 0x4]
0088f54b : MOV ECX,dword ptr [ECX + 0x1f54]
0088f551 : PUSH EAX
0088f552 : CALL 0x00ab6640
0088f557 : TEST EAX,EAX
0088f559 : JZ 0x0088f57f
0088f55b : MOV EDX,dword ptr [EDI + 0xb0]
0088f561 : MOV EAX,dword ptr [EDI + 0xa4]
0088f567 : MOV ECX,dword ptr [0x00da9894]
0088f56d : PUSH EDX
0088f56e : MOV EDX,dword ptr [ECX]
0088f570 : PUSH EAX
0088f571 : MOV EAX,dword ptr [EDI + 0x4]
0088f574 : MOV EDI,dword ptr [EDX + 0x14c]
0088f57a : CALL 0x00a90a50
0088f57f : POP EDI
0088f580 : POP EBP
0088f581 : RET 0x4
