PROGRAM  : Maestia.exe
FUNCTION : FUN_0047bc90
ENTRY    : 0047bc90
BODY     : [[0047bc90, 0047bd3d]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0047bc90(int param_1,uint param_2)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7a550;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  uVar5 = *(int *)(param_2 + 8) - *(int *)(param_2 + 4) >> 2;
  *(undefined4 *)(param_1 + 4) = 0;
  *(undefined4 *)(param_1 + 8) = 0;
  *(undefined4 *)(param_1 + 0xc) = 0;
  if (uVar5 != 0) {
    if (0x3fffffff < uVar5) {
      FUN_00429be0();
    }
    iVar3 = FUN_004c1790();
    *(int *)(param_1 + 4) = iVar3;
    *(int *)(param_1 + 8) = iVar3;
    *(uint *)(param_1 + 0xc) = iVar3 + uVar5 * 4;
    local_8 = 0;
    puVar1 = (undefined4 *)(param_2 + 8);
    puVar2 = (undefined4 *)(param_2 + 4);
    param_2 = param_2 & 0xffffff00;
    uVar4 = FUN_0042dd10(*puVar2,*puVar1,*(undefined4 *)(param_1 + 4),param_1,param_2);
    *(undefined4 *)(param_1 + 8) = uVar4;
  }
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
0047bc90 : PUSH EBP
0047bc91 : MOV EBP,ESP
0047bc93 : PUSH -0x1
0047bc95 : PUSH 0xb7a550
0047bc9a : MOV EAX,FS:[0x0]
0047bca0 : PUSH EAX
0047bca1 : PUSH ECX
0047bca2 : PUSH EBX
0047bca3 : PUSH ESI
0047bca4 : PUSH EDI
0047bca5 : MOV EAX,[0x00d66fa0]
0047bcaa : XOR EAX,EBP
0047bcac : PUSH EAX
0047bcad : LEA EAX,[EBP + -0xc]
0047bcb0 : MOV FS:[0x0],EAX
0047bcb6 : MOV dword ptr [EBP + -0x10],ESP
0047bcb9 : MOV EBX,dword ptr [EBP + 0xc]
0047bcbc : MOV ESI,dword ptr [EBP + 0x8]
0047bcbf : MOV EDI,dword ptr [EBX + 0x8]
0047bcc2 : SUB EDI,dword ptr [EBX + 0x4]
0047bcc5 : SAR EDI,0x2
0047bcc8 : XOR EAX,EAX
0047bcca : MOV dword ptr [ESI + 0x4],EAX
0047bccd : MOV dword ptr [ESI + 0x8],EAX
0047bcd0 : MOV dword ptr [ESI + 0xc],EAX
0047bcd3 : CMP EDI,EAX
0047bcd5 : JZ 0x0047bd28
0047bcd7 : CMP EDI,0x3fffffff
0047bcdd : JBE 0x0047bce4
0047bcdf : CALL 0x00429be0
0047bce4 : MOV ECX,EDI
0047bce6 : CALL 0x004c1790
0047bceb : MOV dword ptr [ESI + 0x4],EAX
0047bcee : MOV dword ptr [ESI + 0x8],EAX
0047bcf1 : LEA EAX,[EAX + EDI*0x4]
0047bcf4 : MOV dword ptr [ESI + 0xc],EAX
0047bcf7 : MOV dword ptr [EBP + -0x4],0x0
0047bcfe : MOV EAX,dword ptr [EBX + 0x8]
0047bd01 : MOV EBX,dword ptr [EBX + 0x4]
0047bd04 : MOV ECX,dword ptr [ESI + 0x4]
0047bd07 : MOV byte ptr [EBP + 0xc],0x0
0047bd0b : MOV EDX,dword ptr [EBP + 0xc]
0047bd0e : PUSH EDX
0047bd0f : MOV EDX,dword ptr [EBP + 0x8]
0047bd12 : PUSH EDX
0047bd13 : PUSH ECX
0047bd14 : PUSH EAX
0047bd15 : PUSH EBX
0047bd16 : CALL 0x0042dd10
0047bd1b : ADD ESP,0x14
0047bd1e : MOV dword ptr [ESI + 0x8],EAX
0047bd21 : MOV dword ptr [EBP + -0x4],0xffffffff
0047bd28 : MOV EAX,ESI
0047bd2a : MOV ECX,dword ptr [EBP + -0xc]
0047bd2d : MOV dword ptr FS:[0x0],ECX
0047bd34 : POP ECX
0047bd35 : POP EDI
0047bd36 : POP ESI
0047bd37 : POP EBX
0047bd38 : MOV ESP,EBP
0047bd3a : POP EBP
0047bd3b : RET 0x8
