PROGRAM  : Maestia.exe
FUNCTION : FUN_00687db0
ENTRY    : 00687db0
BODY     : [[00687db0, 00687e51]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00687db0(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  int iVar6;
  undefined1 *puVar7;
  int iVar8;
  
  iVar2 = *param_1;
  iVar3 = param_1[1];
  puVar7 = (undefined1 *)0x0;
  if (iVar2 < 0) {
    iVar2 = -iVar2;
    iVar3 = -iVar3;
    puVar7 = &LAB_00b40000;
  }
  if (0 < iVar3) {
    puVar7 = (undefined1 *)-(int)puVar7;
  }
  piVar5 = &DAT_00bd8454;
  if (iVar3 < 0) {
    iVar4 = iVar2 * 2;
    iVar8 = iVar3 * -2;
    puVar7 = puVar7 + -0x3f6f59;
  }
  else {
    iVar4 = iVar2 * -2;
    iVar8 = iVar3 * 2;
    puVar7 = puVar7 + 0x3f6f59;
  }
  iVar3 = iVar3 + iVar4;
  iVar2 = iVar2 + iVar8;
  iVar4 = 0;
  do {
    iVar8 = iVar3 >> ((byte)iVar4 & 0x1f);
    iVar6 = iVar2 >> ((byte)iVar4 & 0x1f);
    if (iVar3 < 0) {
      iVar8 = -iVar8;
      iVar1 = -*piVar5;
    }
    else {
      iVar6 = -iVar6;
      iVar1 = *piVar5;
    }
    puVar7 = puVar7 + iVar1;
    iVar3 = iVar3 + iVar6;
    iVar2 = iVar2 + iVar8;
    iVar4 = iVar4 + 1;
    piVar5 = piVar5 + 1;
  } while (iVar4 < 0x17);
  if (-1 < (int)puVar7) {
    param_1[1] = (uint)(puVar7 + 0x10) & 0xffffffe0;
    *param_1 = iVar2;
    return;
  }
  *param_1 = iVar2;
  param_1[1] = -(0x10U - (int)puVar7 & 0xffffffe0);
  return;
}



============================================================
DISASSEMBLY
============================================================
00687db0 : MOV ECX,dword ptr [ESP + 0x4]
00687db4 : MOV EAX,dword ptr [ECX]
00687db6 : MOV ECX,dword ptr [ECX + 0x4]
00687db9 : PUSH ESI
00687dba : XOR ESI,ESI
00687dbc : TEST EAX,EAX
00687dbe : JGE 0x00687dc9
00687dc0 : NEG EAX
00687dc2 : NEG ECX
00687dc4 : MOV ESI,0xb40000
00687dc9 : TEST ECX,ECX
00687dcb : JLE 0x00687dcf
00687dcd : NEG ESI
00687dcf : PUSH EBX
00687dd0 : PUSH EBP
00687dd1 : PUSH EDI
00687dd2 : MOV EBX,0xbd8454
00687dd7 : TEST ECX,ECX
00687dd9 : JGE 0x00687dea
00687ddb : LEA EDX,[ECX + EAX*0x2]
00687dde : ADD ECX,ECX
00687de0 : SUB EAX,ECX
00687de2 : SUB ESI,0x3f6f59
00687de8 : JMP 0x00687dfa
00687dea : LEA EDI,[EAX + EAX*0x1]
00687ded : MOV EDX,ECX
00687def : SUB EDX,EDI
00687df1 : LEA EAX,[EAX + ECX*0x2]
00687df4 : ADD ESI,0x3f6f59
00687dfa : MOV EDI,EDX
00687dfc : XOR ECX,ECX
00687dfe : MOV EDI,EDI
00687e00 : MOV EBP,EAX
00687e02 : SAR EDI,CL
00687e04 : SAR EBP,CL
00687e06 : TEST EDX,EDX
00687e08 : JGE 0x00687e12
00687e0a : ADD EDX,EBP
00687e0c : SUB EAX,EDI
00687e0e : SUB ESI,dword ptr [EBX]
00687e10 : JMP 0x00687e18
00687e12 : SUB EDX,EBP
00687e14 : ADD EAX,EDI
00687e16 : ADD ESI,dword ptr [EBX]
00687e18 : INC ECX
00687e19 : ADD EBX,0x4
00687e1c : CMP ECX,0x17
00687e1f : MOV EDI,EDX
00687e21 : JL 0x00687e00
00687e23 : POP EDI
00687e24 : POP EBP
00687e25 : POP EBX
00687e26 : TEST ESI,ESI
00687e28 : JL 0x00687e3b
00687e2a : MOV ECX,dword ptr [ESP + 0x8]
00687e2e : ADD ESI,0x10
00687e31 : AND ESI,0xffffffe0
00687e34 : MOV dword ptr [ECX + 0x4],ESI
00687e37 : MOV dword ptr [ECX],EAX
00687e39 : POP ESI
00687e3a : RET
00687e3b : MOV EDX,dword ptr [ESP + 0x8]
00687e3f : MOV ECX,0x10
00687e44 : SUB ECX,ESI
00687e46 : AND ECX,0xffffffe0
00687e49 : NEG ECX
00687e4b : MOV dword ptr [EDX],EAX
00687e4d : MOV dword ptr [EDX + 0x4],ECX
00687e50 : POP ESI
00687e51 : RET
