PROGRAM  : Maestia.exe
FUNCTION : FUN_008d86a0
ENTRY    : 008d86a0
BODY     : [[008d86a0, 008d874c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008d86a0(uint param_1,undefined4 param_2,short param_3)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  int *piVar4;
  uint *puVar5;
  int unaff_ESI;
  uint local_8;
  
  uVar3 = param_2;
  if ((*(int *)(unaff_ESI + 0x68) != 0) && (*(int *)(unaff_ESI + 0x40) != 0)) {
    if (param_3 == 0) {
      FUN_00407330(&param_1);
      if (local_8 == *(uint *)(unaff_ESI + 100)) {
        return;
      }
      local_8 = (uint)*(ushort *)(local_8 + 0x14);
      puVar5 = &local_8;
    }
    else {
      puVar5 = (uint *)&param_3;
    }
    piVar4 = (int *)FUN_00413b60(puVar5);
    iVar1 = *piVar4;
    if ((iVar1 != *(int *)(unaff_ESI + 0x3c)) &&
       (piVar4 = *(int **)(*(int *)(iVar1 + 0x10) + 0x84),
       piVar4 != *(int **)(*(int *)(iVar1 + 0x10) + 0x88))) {
      do {
        iVar2 = *piVar4;
        if ((*(ushort *)(iVar2 + 0x70) == param_1) && (iVar2 != 0)) {
          FUN_008d6440(iVar2,uVar3,*(undefined4 *)(unaff_ESI + 0x1bc));
        }
        piVar4 = piVar4 + 1;
      } while (piVar4 != *(int **)(*(int *)(iVar1 + 0x10) + 0x88));
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
008d86a0 : PUSH EBP
008d86a1 : MOV EBP,ESP
008d86a3 : SUB ESP,0xc
008d86a6 : CMP dword ptr [ESI + 0x68],0x0
008d86aa : MOV EAX,dword ptr [EBP + 0xc]
008d86ad : PUSH EBX
008d86ae : PUSH EDI
008d86af : MOV dword ptr [EBP + -0x8],EAX
008d86b2 : JZ 0x008d8745
008d86b8 : CMP dword ptr [ESI + 0x40],0x0
008d86bc : JZ 0x008d8745
008d86c2 : XOR ECX,ECX
008d86c4 : CMP CX,word ptr [EBP + 0x10]
008d86c8 : JNC 0x008d86d2
008d86ca : LEA EDX,[EBP + 0x10]
008d86cd : LEA EAX,[EBP + -0x4]
008d86d0 : JMP 0x008d86f6
008d86d2 : LEA EAX,[EBP + 0x8]
008d86d5 : PUSH EAX
008d86d6 : LEA ECX,[ESI + 0x60]
008d86d9 : LEA EAX,[EBP + -0x4]
008d86dc : CALL 0x00407330
008d86e1 : MOV EAX,dword ptr [EBP + -0x4]
008d86e4 : CMP EAX,dword ptr [ESI + 0x64]
008d86e7 : JZ 0x008d8745
008d86e9 : MOVZX ECX,word ptr [EAX + 0x14]
008d86ed : MOV dword ptr [EBP + -0x4],ECX
008d86f0 : LEA EDX,[EBP + -0x4]
008d86f3 : LEA EAX,[EBP + -0xc]
008d86f6 : PUSH EDX
008d86f7 : LEA ECX,[ESI + 0x38]
008d86fa : CALL 0x00413b60
008d86ff : MOV EBX,dword ptr [EAX]
008d8701 : CMP EBX,dword ptr [ESI + 0x3c]
008d8704 : JZ 0x008d8745
008d8706 : MOV EAX,dword ptr [EBX + 0x10]
008d8709 : MOV EDI,dword ptr [EAX + 0x84]
008d870f : CMP EDI,dword ptr [EAX + 0x88]
008d8715 : JZ 0x008d8745
008d8717 : MOV EAX,dword ptr [EDI]
008d8719 : MOVZX ECX,word ptr [EAX + 0x70]
008d871d : CMP ECX,dword ptr [EBP + 0x8]
008d8720 : JNZ 0x008d8737
008d8722 : TEST EAX,EAX
008d8724 : JZ 0x008d8737
008d8726 : MOV EDX,dword ptr [ESI + 0x1bc]
008d872c : MOV ECX,dword ptr [EBP + -0x8]
008d872f : PUSH EDX
008d8730 : PUSH ECX
008d8731 : PUSH EAX
008d8732 : CALL 0x008d6440
008d8737 : MOV EDX,dword ptr [EBX + 0x10]
008d873a : ADD EDI,0x4
008d873d : CMP EDI,dword ptr [EDX + 0x88]
008d8743 : JNZ 0x008d8717
008d8745 : POP EDI
008d8746 : POP EBX
008d8747 : MOV ESP,EBP
008d8749 : POP EBP
008d874a : RET 0xc
