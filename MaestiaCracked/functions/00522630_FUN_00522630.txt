PROGRAM  : Maestia.exe
FUNCTION : FUN_00522630
ENTRY    : 00522630
BODY     : [[00522630, 005226e2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00522630(void)

{
  int *piVar1;
  int *piVar2;
  GRefCountWeakSupportImpl *in_ECX;
  
  *(undefined ***)in_ECX = &PTR_FUN_00b8ac18;
  *(undefined ***)(in_ECX + 0xc) = &PTR_LAB_00b8ac0c;
  *(undefined ***)(in_ECX + 0x68) = &PTR_LAB_00b8ad58;
  if (*(int *)(in_ECX + 0x80) != 0) {
    *(undefined4 *)(*(int *)(in_ECX + 0x80) + 4) = 0;
  }
  if (*(int *)(in_ECX + 0x84) != 0) {
    FUN_00515cf0(*(int *)(in_ECX + 0x84));
  }
  FUN_00521f10();
  piVar2 = *(int **)(in_ECX + 0x80);
  if ((piVar2 != (int *)0x0) && (*piVar2 = *piVar2 + -1, *piVar2 < 1)) {
    piVar1 = (int *)(piVar2[4] + 8);
    *piVar1 = *piVar1 + -1;
    if (*piVar1 == 0) {
      FUN_00525340();
    }
    piVar1 = (int *)(piVar2[3] + 8);
    *piVar1 = *piVar1 + -1;
    if (*piVar1 == 0) {
      FUN_00525340();
    }
    piVar1 = (int *)(piVar2[2] + 8);
    *piVar1 = *piVar1 + -1;
    if (*piVar1 == 0) {
      FUN_00525340();
    }
    FUN_00515cf0(piVar2);
  }
  if (*(int *)(in_ECX + 0x7c) != 0) {
    FUN_00524240();
  }
  FUN_00550060();
  *(undefined ***)in_ECX = &PTR_FUN_00b8a968;
  *(undefined ***)(in_ECX + 0xc) = &PTR_LAB_00b8b11c;
  GRefCountWeakSupportImpl::~GRefCountWeakSupportImpl(in_ECX);
  return;
}



============================================================
DISASSEMBLY
============================================================
00522630 : PUSH EBP
00522631 : PUSH ESI
00522632 : MOV ESI,ECX
00522634 : MOV EAX,dword ptr [ESI + 0x80]
0052263a : LEA EBP,[ESI + 0x68]
0052263d : MOV dword ptr [ESI],0xb8ac18
00522643 : MOV dword ptr [ESI + 0xc],0xb8ac0c
0052264a : MOV dword ptr [EBP],0xb8ad58
00522651 : TEST EAX,EAX
00522653 : JZ 0x0052265c
00522655 : MOV dword ptr [EAX + 0x4],0x0
0052265c : MOV EAX,dword ptr [ESI + 0x84]
00522662 : TEST EAX,EAX
00522664 : JZ 0x0052266c
00522666 : PUSH EAX
00522667 : CALL 0x00515cf0
0052266c : PUSH EDI
0052266d : LEA ECX,[ESI + 0x88]
00522673 : CALL 0x00521f10
00522678 : MOV EDI,dword ptr [ESI + 0x80]
0052267e : TEST EDI,EDI
00522680 : JZ 0x005226b9
00522682 : DEC dword ptr [EDI]
00522684 : CMP dword ptr [EDI],0x0
00522687 : JG 0x005226b9
00522689 : MOV ECX,dword ptr [EDI + 0x10]
0052268c : ADD dword ptr [ECX + 0x8],-0x1
00522690 : JNZ 0x00522697
00522692 : CALL 0x00525340
00522697 : MOV ECX,dword ptr [EDI + 0xc]
0052269a : ADD dword ptr [ECX + 0x8],-0x1
0052269e : JNZ 0x005226a5
005226a0 : CALL 0x00525340
005226a5 : MOV ECX,dword ptr [EDI + 0x8]
005226a8 : ADD dword ptr [ECX + 0x8],-0x1
005226ac : JNZ 0x005226b3
005226ae : CALL 0x00525340
005226b3 : PUSH EDI
005226b4 : CALL 0x00515cf0
005226b9 : MOV ECX,dword ptr [ESI + 0x7c]
005226bc : POP EDI
005226bd : TEST ECX,ECX
005226bf : JZ 0x005226c6
005226c1 : CALL 0x00524240
005226c6 : MOV ECX,EBP
005226c8 : CALL 0x00550060
005226cd : MOV dword ptr [ESI],0xb8a968
005226d3 : MOV dword ptr [ESI + 0xc],0xb8b11c
005226da : MOV ECX,ESI
005226dc : POP ESI
005226dd : POP EBP
005226de : JMP 0x004ff810
