PROGRAM  : Maestia.exe
FUNCTION : FUN_008e7100
ENTRY    : 008e7100
BODY     : [[008e7100, 008e71b4]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008e7100(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  undefined2 uVar1;
  undefined4 in_EAX;
  int *piVar2;
  int iVar3;
  int *unaff_ESI;
  
  piVar2 = (int *)FUN_009f2a00(in_EAX);
  if (piVar2 != (int *)0x0) {
    if (3 < *(ushort *)((int)unaff_ESI + 0x6a)) {
      *(undefined2 *)((int)unaff_ESI + 0x6a) = 3;
    }
    uVar1 = *(undefined2 *)((int)unaff_ESI + (uint)*(ushort *)((int)unaff_ESI + 0x6a) * 2 + 0x60);
    *(ushort *)((int)unaff_ESI + 0x6a) = *(ushort *)((int)unaff_ESI + 0x6a) + 1;
    iVar3 = FUN_008eb580();
    if (iVar3 != 0) {
      FUN_00941640(iVar3,param_2,param_3,0,0);
      iVar3 = (**(code **)(*piVar2 + 0x20))();
      if (iVar3 == 1) {
        FUN_008f2280(piVar2[3],param_1);
      }
    }
    (**(code **)(*unaff_ESI + 0x78))(uVar1,0);
    FUN_008e85b0(**(undefined4 **)(*DAT_00da9894 + 0x1b4),uVar1);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
008e7100 : PUSH EBP
008e7101 : MOV EBP,ESP
008e7103 : PUSH ECX
008e7104 : MOV ECX,dword ptr [0x017247f0]
008e710a : PUSH EBX
008e710b : PUSH EDI
008e710c : PUSH EAX
008e710d : CALL 0x009f2a00
008e7112 : MOV EBX,EAX
008e7114 : TEST EBX,EBX
008e7116 : JZ 0x008e71ad
008e711c : CMP word ptr [ESI + 0x6a],0x3
008e7121 : JBE 0x008e712c
008e7123 : MOV ECX,0x3
008e7128 : MOV word ptr [ESI + 0x6a],CX
008e712c : MOVZX EAX,word ptr [ESI + 0x6a]
008e7130 : MOV EDI,dword ptr [EBP + 0x8]
008e7133 : MOVZX EDX,AX
008e7136 : MOVZX ECX,word ptr [ESI + EDX*0x2 + 0x60]
008e713b : INC EAX
008e713c : MOV word ptr [ESI + 0x6a],AX
008e7140 : MOV EAX,dword ptr [ESI + 0x4]
008e7143 : MOV dword ptr [EBP + -0x4],ECX
008e7146 : CALL 0x008eb580
008e714b : PUSH 0x0
008e714d : TEST EAX,EAX
008e714f : JZ 0x008e7186
008e7151 : MOV ECX,dword ptr [EBP + 0x10]
008e7154 : MOV EDX,dword ptr [EBP + 0xc]
008e7157 : PUSH 0x0
008e7159 : PUSH ECX
008e715a : PUSH EDX
008e715b : PUSH EAX
008e715c : MOV EDI,EBX
008e715e : CALL 0x00941640
008e7163 : MOV EAX,dword ptr [EBX]
008e7165 : MOV EDX,dword ptr [EAX + 0x20]
008e7168 : MOV ECX,EBX
008e716a : CALL EDX
008e716c : CMP EAX,0x1
008e716f : JNZ 0x008e7184
008e7171 : MOV EAX,dword ptr [EBP + 0x8]
008e7174 : MOV ECX,dword ptr [EBX + 0xc]
008e7177 : MOV EDX,dword ptr [EBX + 0x10]
008e717a : PUSH EAX
008e717b : PUSH ECX
008e717c : MOV ECX,dword ptr [ESI + 0x4]
008e717f : CALL 0x008f2280
008e7184 : PUSH 0x0
008e7186 : MOV EDX,dword ptr [ESI]
008e7188 : MOV EDI,dword ptr [EBP + -0x4]
008e718b : MOV EAX,dword ptr [EDX + 0x78]
008e718e : PUSH EDI
008e718f : MOV ECX,ESI
008e7191 : CALL EAX
008e7193 : MOV EDX,dword ptr [0x00da9894]
008e7199 : MOV EAX,dword ptr [EDX]
008e719b : MOVZX ECX,DI
008e719e : PUSH ECX
008e719f : MOV ECX,dword ptr [EAX + 0x1b4]
008e71a5 : MOV EDX,dword ptr [ECX]
008e71a7 : PUSH EDX
008e71a8 : CALL 0x008e85b0
008e71ad : POP EDI
008e71ae : POP EBX
008e71af : MOV ESP,EBP
008e71b1 : POP EBP
008e71b2 : RET 0xc
