PROGRAM  : Maestia.exe
FUNCTION : FUN_005d9660
ENTRY    : 005d9660
BODY     : [[005d9660, 005d96d8]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_005d9660(void)

{
  uint uVar1;
  int *piVar2;
  int *in_ECX;
  undefined4 local_4;
  
  piVar2 = (int *)in_ECX[3];
  if (piVar2 != (int *)0x0) {
    in_ECX[3] = *piVar2;
    return piVar2;
  }
  uVar1 = in_ECX[2];
  if (uVar1 < 0x7f) {
    in_ECX[2] = uVar1 + 1;
    return (int *)(in_ECX[1] + uVar1 * 0x18);
  }
  local_4 = 0x8a;
  piVar2 = (int *)FUN_00515d60(in_ECX[4],0xbec,&local_4);
  piVar2[0x2fa] = 0;
  if (in_ECX[1] != 0) {
    *(int **)(in_ECX[1] + 0xbe8) = piVar2;
    in_ECX[1] = (int)piVar2;
    in_ECX[2] = 1;
    return piVar2;
  }
  *in_ECX = (int)piVar2;
  in_ECX[1] = (int)piVar2;
  in_ECX[2] = 1;
  return piVar2;
}



============================================================
DISASSEMBLY
============================================================
005d9660 : PUSH ECX
005d9661 : PUSH ESI
005d9662 : MOV ESI,ECX
005d9664 : MOV EAX,dword ptr [ESI + 0xc]
005d9667 : TEST EAX,EAX
005d9669 : JZ 0x005d9673
005d966b : MOV ECX,dword ptr [EAX]
005d966d : MOV dword ptr [ESI + 0xc],ECX
005d9670 : POP ESI
005d9671 : POP ECX
005d9672 : RET
005d9673 : MOV ECX,dword ptr [ESI + 0x8]
005d9676 : CMP ECX,0x7f
005d9679 : JNC 0x005d968b
005d967b : MOV EAX,dword ptr [ESI + 0x4]
005d967e : LEA EDX,[ECX + ECX*0x2]
005d9681 : INC ECX
005d9682 : MOV dword ptr [ESI + 0x8],ECX
005d9685 : LEA EAX,[EAX + EDX*0x8]
005d9688 : POP ESI
005d9689 : POP ECX
005d968a : RET
005d968b : MOV EAX,dword ptr [ESI + 0x10]
005d968e : LEA ECX,[ESP + 0x4]
005d9692 : PUSH ECX
005d9693 : PUSH 0xbec
005d9698 : PUSH EAX
005d9699 : MOV dword ptr [ESP + 0x10],0x8a
005d96a1 : CALL 0x00515d60
005d96a6 : MOV dword ptr [EAX + 0xbe8],0x0
005d96b0 : MOV ECX,dword ptr [ESI + 0x4]
005d96b3 : TEST ECX,ECX
005d96b5 : JZ 0x005d96ca
005d96b7 : MOV dword ptr [ECX + 0xbe8],EAX
005d96bd : MOV dword ptr [ESI + 0x4],EAX
005d96c0 : MOV dword ptr [ESI + 0x8],0x1
005d96c7 : POP ESI
005d96c8 : POP ECX
005d96c9 : RET
005d96ca : MOV dword ptr [ESI],EAX
005d96cc : MOV dword ptr [ESI + 0x4],EAX
005d96cf : MOV dword ptr [ESI + 0x8],0x1
005d96d6 : POP ESI
005d96d7 : POP ECX
005d96d8 : RET
