PROGRAM  : Maestia.exe
FUNCTION : FUN_00890d10
ENTRY    : 00890d10
BODY     : [[00890d10, 00890f2f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00890d10(int *param_1)

{
  int *piVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  float10 fVar5;
  float fVar6;
  float fVar7;
  undefined1 local_3c [4];
  float local_38;
  undefined4 local_30;
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  float local_14;
  undefined4 local_10;
  int local_c;
  
  piVar1 = param_1;
  if ((((char)param_1[0x174] != '\0') && (*(int *)(DAT_0172491c + 0x90) != 0)) &&
     (local_c = *(int *)(*(int *)(DAT_0172491c + 0x90) + 0xf0), local_c != 0)) {
    iVar3 = param_1[0xfa];
    local_14 = *(float *)(iVar3 + 0x6c);
    local_10 = *(undefined4 *)(iVar3 + 0x70);
    local_18 = *(undefined4 *)(iVar3 + 0x68);
    cVar2 = FUN_007de700(*(undefined4 *)(iVar3 + 0x68),*(undefined4 *)(iVar3 + 0x70),&param_1);
    if (cVar2 != '\0') {
      iVar3 = FUN_007de7e0();
      if (((iVar3 != 0) && (*(char *)(iVar3 + 0x2be) != '\0')) &&
         ((*(char *)(iVar3 + 0x25c0) == '\0' && (*(int *)(DAT_0172491c + 0x17c) != 0)))) {
        iVar4 = (**(code **)(*(int *)(iVar3 + 0x38) + 0x2c))();
        iVar3 = *(int *)(*(int *)(DAT_0172491c + 0x17c) + 1000);
        fVar6 = (*(float *)(iVar4 + 0x10) + *(float *)(iVar4 + 4)) * DAT_00d72c24 -
                *(float *)(iVar3 + 0x68);
        fVar7 = (*(float *)(iVar4 + 0x18) + *(float *)(iVar4 + 0xc)) * DAT_00d72c24 -
                *(float *)(iVar3 + 0x70);
        fVar5 = (float10)FUN_0040f460(fVar7 * fVar7 + fVar6 * fVar6);
        if (fVar5 <= (float10)600.0) {
          cVar2 = FUN_007aab00();
          if (cVar2 != '\0') {
            local_14 = local_14 + 30.0;
            local_24 = 0;
            local_20 = 0;
            local_1c = 0;
            local_30 = 0;
            local_2c = 0xbf800000;
            local_28 = 0;
            param_1 = (int *)0x0;
            local_38 = 0.0;
            iVar3 = FUN_007e9d70(*(undefined4 *)(DAT_00da93ec + 0xc),&local_30,local_3c,&local_24,
                                 &param_1);
            if (iVar3 == 0) {
              FUN_007e90f0(&local_18);
            }
            else {
              local_14 = local_38;
            }
            (**(code **)(*piVar1 + 0x2a0))(&local_18,1);
            (**(code **)(*(int *)piVar1[0xfa] + 0x68))(1,1);
            *(undefined1 *)(piVar1 + 0x174) = 0;
          }
        }
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00890d10 : PUSH EBP
00890d11 : MOV EBP,ESP
00890d13 : SUB ESP,0x38
00890d16 : PUSH EBX
00890d17 : MOV EBX,dword ptr [EBP + 0x8]
00890d1a : CMP byte ptr [EBX + 0x5d0],0x0
00890d21 : PUSH ESI
00890d22 : PUSH EDI
00890d23 : JZ 0x00890f27
00890d29 : MOV EAX,[0x0172491c]
00890d2e : MOV EAX,dword ptr [EAX + 0x90]
00890d34 : TEST EAX,EAX
00890d36 : JZ 0x00890f27
00890d3c : MOV EDI,dword ptr [EAX + 0xf0]
00890d42 : MOV dword ptr [EBP + -0x8],EDI
00890d45 : TEST EDI,EDI
00890d47 : JZ 0x00890f27
00890d4d : MOV EAX,dword ptr [EBX + 0x3e8]
00890d53 : MOVSS XMM0,dword ptr [EAX + 0x6c]
00890d58 : MOVSS XMM1,dword ptr [EAX + 0x70]
00890d5d : MOVSS XMM2,dword ptr [EAX + 0x68]
00890d62 : LEA ECX,[EBP + 0x8]
00890d65 : PUSH ECX
00890d66 : MOVSS dword ptr [EBP + -0x14],XMM2
00890d6b : MOVSS dword ptr [EBP + -0x10],XMM0
00890d70 : MOVSS dword ptr [EBP + -0xc],XMM1
00890d75 : FLD float ptr [EAX + 0x70]
00890d78 : SUB ESP,0x8
00890d7b : FSTP float ptr [ESP + 0x4]
00890d7f : LEA ESI,[EBP + -0x4]
00890d82 : FLD float ptr [EAX + 0x68]
00890d85 : MOV ECX,EDI
00890d87 : FSTP float ptr [ESP]
00890d8a : CALL 0x007de700
00890d8f : TEST AL,AL
00890d91 : JZ 0x00890f27
00890d97 : MOV EDX,dword ptr [EBP + 0x8]
00890d9a : MOV ESI,dword ptr [EBP + -0x4]
00890d9d : MOV ECX,EDI
00890d9f : CALL 0x007de7e0
00890da4 : MOV ESI,EAX
00890da6 : TEST ESI,ESI
00890da8 : JZ 0x00890f27
00890dae : CMP byte ptr [ESI + 0x2be],0x0
00890db5 : JZ 0x00890f27
00890dbb : CMP byte ptr [ESI + 0x25c0],0x0
00890dc2 : JNZ 0x00890f27
00890dc8 : MOV EDX,dword ptr [0x0172491c]
00890dce : CMP dword ptr [EDX + 0x17c],0x0
00890dd5 : JZ 0x00890f27
00890ddb : MOV EAX,dword ptr [ESI + 0x38]
00890dde : MOV EDX,dword ptr [EAX + 0x2c]
00890de1 : LEA ECX,[ESI + 0x38]
00890de4 : CALL EDX
00890de6 : MOVSS XMM0,dword ptr [EAX + 0x10]
00890deb : ADDSS XMM0,dword ptr [EAX + 0x4]
00890df0 : MOVSS XMM1,dword ptr [EAX + 0x18]
00890df5 : ADDSS XMM1,dword ptr [EAX + 0xc]
00890dfa : MOV EAX,[0x0172491c]
00890dff : MOV ECX,dword ptr [EAX + 0x17c]
00890e05 : MOVSS XMM2,dword ptr [0x00d72c24]
00890e0d : MOV EAX,dword ptr [ECX + 0x3e8]
00890e13 : MOVSS XMM3,dword ptr [EAX + 0x70]
00890e18 : MULSS XMM1,XMM2
00890e1c : MULSS XMM0,XMM2
00890e20 : MOVSS XMM2,dword ptr [EAX + 0x68]
00890e25 : ADD EAX,0x68
00890e28 : SUBSS XMM0,XMM2
00890e2c : SUBSS XMM1,XMM3
00890e30 : MOVAPS XMM2,XMM1
00890e33 : MULSS XMM2,XMM1
00890e37 : MOVAPS XMM1,XMM0
00890e3a : MULSS XMM1,XMM0
00890e3e : PUSH ECX
00890e3f : ADDSS XMM2,XMM1
00890e43 : MOVSS dword ptr [ESP],XMM2
00890e48 : CALL 0x0040f460
00890e4d : FLD float ptr [0x00cdf7e0]
00890e53 : FXCH
00890e55 : ADD ESP,0x4
00890e58 : FCOMIP ST0,ST1
00890e5a : FSTP ST0
00890e5c : JA 0x00890f27
00890e62 : MOV EAX,ESI
00890e64 : CALL 0x007aab00
00890e69 : TEST AL,AL
00890e6b : JZ 0x00890f27
00890e71 : MOVSS XMM0,dword ptr [EBP + -0x10]
00890e76 : ADDSS XMM0,dword ptr [0x00cdf12c]
00890e7e : MOV EDX,dword ptr [0x00da93ec]
00890e84 : MOVSS XMM1,dword ptr [0x00cdf0d0]
00890e8c : MOVSS dword ptr [EBP + -0x10],XMM0
00890e91 : XORPS XMM0,XMM0
00890e94 : MOVSS dword ptr [EBP + -0x20],XMM0
00890e99 : MOVSS dword ptr [EBP + -0x1c],XMM0
00890e9e : MOVSS dword ptr [EBP + -0x18],XMM0
00890ea3 : MOVSS dword ptr [EBP + -0x2c],XMM0
00890ea8 : MOVSS dword ptr [EBP + -0x28],XMM1
00890ead : MOVSS dword ptr [EBP + -0x24],XMM0
00890eb2 : MOVSS dword ptr [EBP + 0x8],XMM0
00890eb7 : MOV EAX,dword ptr [EDX + 0xc]
00890eba : LEA ECX,[EBP + 0x8]
00890ebd : PUSH ECX
00890ebe : LEA EDX,[EBP + -0x20]
00890ec1 : PUSH EDX
00890ec2 : LEA ECX,[EBP + -0x38]
00890ec5 : PUSH ECX
00890ec6 : LEA EDX,[EBP + -0x2c]
00890ec9 : PUSH EDX
00890eca : PUSH EAX
00890ecb : LEA EDI,[EBP + -0x14]
00890ece : MOVSS dword ptr [EBP + -0x34],XMM0
00890ed3 : CALL 0x007e9d70
00890ed8 : TEST EAX,EAX
00890eda : JZ 0x00890ee8
00890edc : MOVSS XMM0,dword ptr [EBP + -0x34]
00890ee1 : MOVSS dword ptr [EBP + -0x10],XMM0
00890ee6 : JMP 0x00890efd
00890ee8 : MOV ESI,dword ptr [EBX + 0x3e8]
00890eee : MOV ECX,dword ptr [EBP + -0x8]
00890ef1 : LEA EAX,[EBP + -0x14]
00890ef4 : PUSH EAX
00890ef5 : ADD ESI,0x68
00890ef8 : CALL 0x007e90f0
00890efd : MOV EDX,dword ptr [EBX]
00890eff : MOV EDX,dword ptr [EDX + 0x2a0]
00890f05 : PUSH 0x1
00890f07 : LEA EAX,[EBP + -0x14]
00890f0a : PUSH EAX
00890f0b : MOV ECX,EBX
00890f0d : CALL EDX
00890f0f : MOV ECX,dword ptr [EBX + 0x3e8]
00890f15 : MOV EAX,dword ptr [ECX]
00890f17 : MOV EDX,dword ptr [EAX + 0x68]
00890f1a : PUSH 0x1
00890f1c : PUSH 0x1
00890f1e : CALL EDX
00890f20 : MOV byte ptr [EBX + 0x5d0],0x0
00890f27 : POP EDI
00890f28 : POP ESI
00890f29 : POP EBX
00890f2a : MOV ESP,EBP
00890f2c : POP EBP
00890f2d : RET 0x4
