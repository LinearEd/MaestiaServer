PROGRAM  : Maestia.exe
FUNCTION : FUN_0088c290
ENTRY    : 0088c290
BODY     : [[0088c290, 0088c3eb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0088c290(void)

{
  int *piVar1;
  uint uVar2;
  int *piVar3;
  int unaff_ESI;
  uint uVar4;
  undefined1 local_38 [4];
  undefined2 local_34;
  undefined4 local_24;
  uint local_20;
  uint local_1c;
  uint local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1c644;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  piVar3 = *(int **)(unaff_ESI + 0x608);
  if (piVar3 != *(int **)(unaff_ESI + 0x60c)) {
    local_14 = piVar3 + 7;
    do {
      if (*piVar3 == 0) {
        piVar3 = piVar3 + 7;
        local_14 = local_14 + 7;
      }
      else {
        if (*(int *)(*piVar3 + 4) == 0x12345678) {
          FUN_00796fa0(0);
          FUN_00797330(*piVar3);
          piVar1 = (int *)*piVar3;
          if ((int *)piVar1[0xb] == (int *)0x0) {
            if (piVar1 != (int *)0x0) {
              (**(code **)(*piVar1 + 0x18))(1);
              *piVar3 = 0;
            }
          }
          else {
            (**(code **)(*(int *)piVar1[0xb] + 0x2c))(piVar1 + 3);
          }
          local_1c = local_1c & 0xffffff00;
          uVar4 = local_1c;
        }
        else {
          local_34 = 0;
          local_20 = 7;
          local_24 = 0;
          FUN_00406360(L"dangling pointer!!",0x12);
          local_8 = 0;
          if ((int *)*DAT_00da98e8 != (int *)0x0) {
            (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                      (L"AvaBaseCharacter::AllClearFxRayNode",0x171d,local_38,uVar2);
          }
          local_8 = 0xffffffff;
          if (7 < local_20) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
          local_18 = local_18 & 0xffffff00;
          local_34 = 0;
          local_20 = 7;
          local_24 = 0;
          uVar4 = local_18;
        }
        FUN_0043c1f0(local_14,local_1c,local_1c,uVar4);
        *(int *)(unaff_ESI + 0x60c) = *(int *)(unaff_ESI + 0x60c) + -0x1c;
      }
    } while (piVar3 != *(int **)(unaff_ESI + 0x60c));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0088c290 : PUSH EBP
0088c291 : MOV EBP,ESP
0088c293 : PUSH -0x1
0088c295 : PUSH 0xb1c644
0088c29a : MOV EAX,FS:[0x0]
0088c2a0 : PUSH EAX
0088c2a1 : SUB ESP,0x28
0088c2a4 : PUSH EBX
0088c2a5 : PUSH EDI
0088c2a6 : MOV EAX,[0x00d66fa0]
0088c2ab : XOR EAX,EBP
0088c2ad : PUSH EAX
0088c2ae : LEA EAX,[EBP + -0xc]
0088c2b1 : MOV FS:[0x0],EAX
0088c2b7 : MOV EBX,dword ptr [ESI + 0x608]
0088c2bd : CMP EBX,dword ptr [ESI + 0x60c]
0088c2c3 : JZ 0x0088c3db
0088c2c9 : LEA EAX,[EBX + 0x1c]
0088c2cc : MOV dword ptr [EBP + -0x10],EAX
0088c2cf : MOV EAX,dword ptr [EBX]
0088c2d1 : XOR EDI,EDI
0088c2d3 : CMP EAX,EDI
0088c2d5 : JNZ 0x0088c2e3
0088c2d7 : ADD EBX,0x1c
0088c2da : ADD dword ptr [EBP + -0x10],0x1c
0088c2de : JMP 0x0088c3cf
0088c2e3 : CMP dword ptr [EAX + 0x4],0x12345678
0088c2ea : JZ 0x0088c369
0088c2ec : XOR ECX,ECX
0088c2ee : PUSH 0x12
0088c2f0 : MOV word ptr [EBP + -0x30],CX
0088c2f4 : PUSH 0xc46d28
0088c2f9 : LEA ECX,[EBP + -0x34]
0088c2fc : MOV dword ptr [EBP + -0x1c],0x7
0088c303 : MOV dword ptr [EBP + -0x20],EDI
0088c306 : CALL 0x00406360
0088c30b : MOV dword ptr [EBP + -0x4],EDI
0088c30e : MOV EDX,dword ptr [0x00da98e8]
0088c314 : MOV ECX,dword ptr [EDX]
0088c316 : CMP ECX,EDI
0088c318 : JZ 0x0088c32f
0088c31a : MOV EAX,dword ptr [ECX]
0088c31c : MOV EAX,dword ptr [EAX + 0x14]
0088c31f : LEA EDX,[EBP + -0x34]
0088c322 : PUSH EDX
0088c323 : PUSH 0x171d
0088c328 : PUSH 0xc46d50
0088c32d : CALL EAX
0088c32f : MOV dword ptr [EBP + -0x4],0xffffffff
0088c336 : CMP dword ptr [EBP + -0x1c],0x8
0088c33a : JC 0x0088c344
0088c33c : MOV ECX,dword ptr [EBP + -0x30]
0088c33f : CALL 0x006f04e0
0088c344 : MOV EAX,dword ptr [EBP + -0x18]
0088c347 : XOR ECX,ECX
0088c349 : MOV byte ptr [EBP + -0x14],CL
0088c34c : MOV EDX,dword ptr [EBP + -0x14]
0088c34f : PUSH EDX
0088c350 : MOV EDX,dword ptr [EBP + -0x10]
0088c353 : MOV word ptr [EBP + -0x30],CX
0088c357 : MOV ECX,dword ptr [EBP + -0x18]
0088c35a : PUSH EAX
0088c35b : PUSH ECX
0088c35c : MOV dword ptr [EBP + -0x1c],0x7
0088c363 : MOV dword ptr [EBP + -0x20],EDI
0088c366 : PUSH EDX
0088c367 : JMP 0x0088c3b8
0088c369 : PUSH EDI
0088c36a : MOV EDI,EAX
0088c36c : CALL 0x00796fa0
0088c371 : MOV EAX,dword ptr [EBX]
0088c373 : PUSH EAX
0088c374 : CALL 0x00797330
0088c379 : MOV EAX,dword ptr [EBX]
0088c37b : MOV ECX,dword ptr [EAX + 0x2c]
0088c37e : TEST ECX,ECX
0088c380 : JZ 0x0088c38f
0088c382 : MOV EDX,dword ptr [ECX]
0088c384 : ADD EAX,0xc
0088c387 : PUSH EAX
0088c388 : MOV EAX,dword ptr [EDX + 0x2c]
0088c38b : CALL EAX
0088c38d : JMP 0x0088c3a4
0088c38f : TEST EAX,EAX
0088c391 : JZ 0x0088c3a4
0088c393 : MOV EDX,dword ptr [EAX]
0088c395 : MOV ECX,EAX
0088c397 : MOV EAX,dword ptr [EDX + 0x18]
0088c39a : PUSH 0x1
0088c39c : CALL EAX
0088c39e : MOV dword ptr [EBX],0x0
0088c3a4 : MOV byte ptr [EBP + -0x18],0x0
0088c3a8 : MOV ECX,dword ptr [EBP + -0x18]
0088c3ab : MOV EDX,dword ptr [EBP + -0x18]
0088c3ae : MOV EAX,dword ptr [EBP + -0x18]
0088c3b1 : PUSH ECX
0088c3b2 : MOV ECX,dword ptr [EBP + -0x10]
0088c3b5 : PUSH EDX
0088c3b6 : PUSH EAX
0088c3b7 : PUSH ECX
0088c3b8 : MOV EDX,dword ptr [ESI + 0x60c]
0088c3be : MOV EAX,EBX
0088c3c0 : CALL 0x0043c1f0
0088c3c5 : ADD ESP,0x10
0088c3c8 : ADD dword ptr [ESI + 0x60c],-0x1c
0088c3cf : CMP EBX,dword ptr [ESI + 0x60c]
0088c3d5 : JNZ 0x0088c2cf
0088c3db : MOV ECX,dword ptr [EBP + -0xc]
0088c3de : MOV dword ptr FS:[0x0],ECX
0088c3e5 : POP ECX
0088c3e6 : POP EDI
0088c3e7 : POP EBX
0088c3e8 : MOV ESP,EBP
0088c3ea : POP EBP
0088c3eb : RET
