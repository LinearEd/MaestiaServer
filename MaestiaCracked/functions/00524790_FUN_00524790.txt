PROGRAM  : Maestia.exe
FUNCTION : FUN_00524790
ENTRY    : 00524790
BODY     : [[00524790, 00524838]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00524790(int param_1)

{
  undefined4 uVar1;
  undefined4 *in_ECX;
  uint local_20 [8];
  
  *in_ECX = &PTR_FUN_00cd3f2c;
  in_ECX[1] = 1;
  *in_ECX = &PTR_FUN_00b8ae1c;
  FUN_005a2090(0);
  in_ECX[9] = 0;
  in_ECX[10] = 0;
  in_ECX[2] = param_1;
  if ((param_1 == 0) || (*(char *)(param_1 + 0x10) == '\0')) {
    local_20[0] = 0;
  }
  else {
    local_20[0] = 0x1000;
  }
  local_20[0] = local_20[0] | 4;
  local_20[7] = 0;
  local_20[1] = 0x40;
  local_20[2] = 0x1000;
  local_20[3] = 0;
  local_20[4] = 0xffffffff;
  local_20[5] = 0;
  local_20[6] = 7;
  uVar1 = FUN_00516140("_ResourceLib_Images",local_20);
  if (in_ECX[10] != 0) {
    FUN_00515b80();
  }
  in_ECX[10] = uVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00524790 : SUB ESP,0x20
00524793 : PUSH EBX
00524794 : PUSH ESI
00524795 : MOV ESI,ECX
00524797 : PUSH EDI
00524798 : MOV dword ptr [ESI],0xcd3f2c
0052479e : XOR EBX,EBX
005247a0 : PUSH EBX
005247a1 : LEA ECX,[ESI + 0xc]
005247a4 : MOV dword ptr [ESI + 0x4],0x1
005247ab : MOV dword ptr [ESI],0xb8ae1c
005247b1 : CALL 0x005a2090
005247b6 : MOV EAX,dword ptr [ESP + 0x30]
005247ba : MOV dword ptr [ESI + 0x24],EBX
005247bd : MOV dword ptr [ESI + 0x28],EBX
005247c0 : MOV dword ptr [ESI + 0x8],EAX
005247c3 : CMP EAX,EBX
005247c5 : JZ 0x005247d3
005247c7 : CMP byte ptr [EAX + 0x10],BL
005247ca : JZ 0x005247d3
005247cc : MOV EAX,0x1000
005247d1 : JMP 0x005247d5
005247d3 : XOR EAX,EAX
005247d5 : MOV ECX,dword ptr [0x00d73250]
005247db : OR EAX,0x4
005247de : MOV dword ptr [ESP + 0xc],EAX
005247e2 : LEA EAX,[ESP + 0xc]
005247e6 : PUSH EAX
005247e7 : PUSH 0xb8ae08
005247ec : MOV dword ptr [ESP + 0x30],EBX
005247f0 : MOV dword ptr [ESP + 0x18],0x40
005247f8 : MOV dword ptr [ESP + 0x1c],0x1000
00524800 : MOV dword ptr [ESP + 0x20],EBX
00524804 : MOV dword ptr [ESP + 0x24],0xffffffff
0052480c : MOV dword ptr [ESP + 0x28],EBX
00524810 : MOV dword ptr [ESP + 0x2c],0x7
00524818 : CALL 0x00516140
0052481d : MOV ECX,dword ptr [ESI + 0x28]
00524820 : MOV EDI,EAX
00524822 : CMP ECX,EBX
00524824 : JZ 0x0052482b
00524826 : CALL 0x00515b80
0052482b : MOV dword ptr [ESI + 0x28],EDI
0052482e : POP EDI
0052482f : MOV EAX,ESI
00524831 : POP ESI
00524832 : POP EBX
00524833 : ADD ESP,0x20
00524836 : RET 0x4
