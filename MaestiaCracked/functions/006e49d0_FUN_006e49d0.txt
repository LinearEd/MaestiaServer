PROGRAM  : Maestia.exe
FUNCTION : FUN_006e49d0
ENTRY    : 006e49d0
BODY     : [[006e49d0, 006e4b58]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006e49d0(int param_1,int param_2,uint *param_3,uint param_4,undefined4 param_5,
                 uint *param_6,uint param_7)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int iStack_4;
  
  iVar5 = *(int *)(param_1 + 0x144);
  if (*param_3 < param_4) {
    while (*param_6 < param_7) {
      uVar4 = *(int *)(param_1 + 0xdc) - *(int *)(iVar5 + 0x34);
      uVar2 = param_4 - *param_3;
      if (uVar2 <= uVar4) {
        uVar4 = uVar2;
      }
      (**(code **)(*(int *)(param_1 + 0x150) + 4))
                (param_1,param_2 + *param_3 * 4,iVar5 + 8,*(undefined4 *)(iVar5 + 0x34),uVar4);
      *param_3 = *param_3 + uVar4;
      *(int *)(iVar5 + 0x34) = *(int *)(iVar5 + 0x34) + uVar4;
      piVar1 = (int *)(iVar5 + 0x30);
      *piVar1 = *piVar1 - uVar4;
      if ((*piVar1 == 0) && (*(int *)(iVar5 + 0x34) < *(int *)(param_1 + 0xdc))) {
        iStack_4 = 0;
        if (0 < *(int *)(param_1 + 0x3c)) {
          do {
            FUN_006e49a0(*(undefined4 *)(param_1 + 0x1c));
            iStack_4 = iStack_4 + 1;
          } while (iStack_4 < *(int *)(param_1 + 0x3c));
        }
        *(undefined4 *)(iVar5 + 0x34) = *(undefined4 *)(param_1 + 0xdc);
      }
      if (*(int *)(iVar5 + 0x34) == *(int *)(param_1 + 0xdc)) {
        (**(code **)(*(int *)(param_1 + 0x154) + 4))(param_1,iVar5 + 8,0,param_5,*param_6);
        *(undefined4 *)(iVar5 + 0x34) = 0;
        *param_6 = *param_6 + 1;
      }
      if ((*(int *)(iVar5 + 0x30) == 0) && (*param_6 < param_7)) {
        iVar5 = 0;
        if (0 < *(int *)(param_1 + 0x3c)) {
          iVar3 = *(int *)(param_1 + 0x44) + 0xc;
          do {
            FUN_006e49a0(*(int *)(iVar3 + 0x10) * 8);
            iVar3 = iVar3 + 0x54;
            iVar5 = iVar5 + 1;
          } while (iVar5 < *(int *)(param_1 + 0x3c));
        }
        *param_6 = param_7;
        return;
      }
      if (param_4 <= *param_3) {
        return;
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006e49d0 : PUSH ECX
006e49d1 : MOV EAX,dword ptr [ESP + 0x10]
006e49d5 : MOV ECX,dword ptr [EAX]
006e49d7 : PUSH EBP
006e49d8 : PUSH ESI
006e49d9 : MOV ESI,dword ptr [ESP + 0x10]
006e49dd : MOV EBP,dword ptr [ESI + 0x144]
006e49e3 : CMP ECX,dword ptr [ESP + 0x1c]
006e49e7 : JNC 0x006e4b55
006e49ed : PUSH EBX
006e49ee : PUSH EDI
006e49ef : NOP
006e49f0 : MOV EDI,dword ptr [ESP + 0x2c]
006e49f4 : MOV EDX,dword ptr [ESP + 0x30]
006e49f8 : CMP dword ptr [EDI],EDX
006e49fa : JNC 0x006e4b53
006e4a00 : MOV EAX,dword ptr [ESP + 0x20]
006e4a04 : MOV ECX,dword ptr [EAX]
006e4a06 : MOV EBX,dword ptr [ESI + 0xdc]
006e4a0c : MOV EAX,dword ptr [ESP + 0x24]
006e4a10 : SUB EBX,dword ptr [EBP + 0x34]
006e4a13 : SUB EAX,ECX
006e4a15 : CMP EBX,EAX
006e4a17 : JC 0x006e4a1b
006e4a19 : MOV EBX,EAX
006e4a1b : MOV EAX,dword ptr [EBP + 0x34]
006e4a1e : MOV EDX,dword ptr [ESI + 0x150]
006e4a24 : MOV EDX,dword ptr [EDX + 0x4]
006e4a27 : PUSH EBX
006e4a28 : PUSH EAX
006e4a29 : LEA EAX,[EBP + 0x8]
006e4a2c : PUSH EAX
006e4a2d : MOV EAX,dword ptr [ESP + 0x28]
006e4a31 : LEA ECX,[EAX + ECX*0x4]
006e4a34 : PUSH ECX
006e4a35 : PUSH ESI
006e4a36 : CALL EDX
006e4a38 : MOV EAX,dword ptr [ESP + 0x34]
006e4a3c : ADD dword ptr [EAX],EBX
006e4a3e : ADD dword ptr [EBP + 0x34],EBX
006e4a41 : MOV EAX,dword ptr [EBP + 0x34]
006e4a44 : ADD ESP,0x14
006e4a47 : SUB dword ptr [EBP + 0x30],EBX
006e4a4a : JNZ 0x006e4aab
006e4a4c : CMP EAX,dword ptr [ESI + 0xdc]
006e4a52 : JGE 0x006e4aab
006e4a54 : CMP dword ptr [ESI + 0x3c],0x0
006e4a58 : MOV dword ptr [ESP + 0x10],0x0
006e4a60 : JLE 0x006e4aa2
006e4a62 : LEA EAX,[EBP + 0x8]
006e4a65 : MOV dword ptr [ESP + 0x18],EAX
006e4a69 : LEA ESP,[ESP]
006e4a70 : MOV EAX,dword ptr [ESI + 0x1c]
006e4a73 : MOV ECX,dword ptr [ESP + 0x18]
006e4a77 : MOV EBX,dword ptr [ESI + 0xdc]
006e4a7d : MOV EDI,dword ptr [ECX]
006e4a7f : PUSH EAX
006e4a80 : MOV EAX,dword ptr [EBP + 0x34]
006e4a83 : CALL 0x006e49a0
006e4a88 : MOV EAX,dword ptr [ESP + 0x14]
006e4a8c : ADD dword ptr [ESP + 0x1c],0x4
006e4a91 : INC EAX
006e4a92 : ADD ESP,0x4
006e4a95 : CMP EAX,dword ptr [ESI + 0x3c]
006e4a98 : MOV dword ptr [ESP + 0x10],EAX
006e4a9c : JL 0x006e4a70
006e4a9e : MOV EDI,dword ptr [ESP + 0x2c]
006e4aa2 : MOV EDX,dword ptr [ESI + 0xdc]
006e4aa8 : MOV dword ptr [EBP + 0x34],EDX
006e4aab : MOV EAX,dword ptr [EBP + 0x34]
006e4aae : CMP EAX,dword ptr [ESI + 0xdc]
006e4ab4 : JNZ 0x006e4adc
006e4ab6 : MOV EDX,dword ptr [EDI]
006e4ab8 : MOV EAX,dword ptr [ESP + 0x28]
006e4abc : MOV ECX,dword ptr [ESI + 0x154]
006e4ac2 : MOV ECX,dword ptr [ECX + 0x4]
006e4ac5 : PUSH EDX
006e4ac6 : PUSH EAX
006e4ac7 : PUSH 0x0
006e4ac9 : LEA EAX,[EBP + 0x8]
006e4acc : PUSH EAX
006e4acd : PUSH ESI
006e4ace : CALL ECX
006e4ad0 : ADD ESP,0x14
006e4ad3 : MOV dword ptr [EBP + 0x34],0x0
006e4ada : INC dword ptr [EDI]
006e4adc : CMP dword ptr [EBP + 0x30],0x0
006e4ae0 : JNZ 0x006e4aea
006e4ae2 : MOV EDX,dword ptr [EDI]
006e4ae4 : CMP EDX,dword ptr [ESP + 0x30]
006e4ae8 : JC 0x006e4b00
006e4aea : MOV EAX,dword ptr [ESP + 0x24]
006e4aee : MOV ECX,dword ptr [ESP + 0x20]
006e4af2 : CMP dword ptr [ECX],EAX
006e4af4 : JC 0x006e49f0
006e4afa : POP EDI
006e4afb : POP EBX
006e4afc : POP ESI
006e4afd : POP EBP
006e4afe : POP ECX
006e4aff : RET
006e4b00 : MOV EDX,dword ptr [ESI + 0x44]
006e4b03 : XOR EBP,EBP
006e4b05 : CMP dword ptr [ESI + 0x3c],EBP
006e4b08 : JLE 0x006e4b4d
006e4b0a : ADD EDX,0xc
006e4b0d : MOV dword ptr [ESP + 0x20],EDX
006e4b11 : JMP 0x006e4b17
006e4b13 : MOV EDX,dword ptr [ESP + 0x20]
006e4b17 : MOV ECX,dword ptr [EDX]
006e4b19 : MOV EAX,dword ptr [EDI]
006e4b1b : MOV EDX,dword ptr [EDX + 0x10]
006e4b1e : IMUL EAX,ECX
006e4b21 : MOV EBX,ECX
006e4b23 : IMUL EBX,dword ptr [ESP + 0x30]
006e4b28 : MOV ECX,dword ptr [ESP + 0x28]
006e4b2c : MOV EDI,dword ptr [ECX + EBP*0x4]
006e4b2f : ADD EDX,EDX
006e4b31 : ADD EDX,EDX
006e4b33 : ADD EDX,EDX
006e4b35 : PUSH EDX
006e4b36 : CALL 0x006e49a0
006e4b3b : ADD dword ptr [ESP + 0x24],0x54
006e4b40 : MOV EDI,dword ptr [ESP + 0x30]
006e4b44 : INC EBP
006e4b45 : ADD ESP,0x4
006e4b48 : CMP EBP,dword ptr [ESI + 0x3c]
006e4b4b : JL 0x006e4b13
006e4b4d : MOV EDX,dword ptr [ESP + 0x30]
006e4b51 : MOV dword ptr [EDI],EDX
006e4b53 : POP EDI
006e4b54 : POP EBX
006e4b55 : POP ESI
006e4b56 : POP EBP
006e4b57 : POP ECX
006e4b58 : RET
