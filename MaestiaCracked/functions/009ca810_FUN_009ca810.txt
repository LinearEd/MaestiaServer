PROGRAM  : Maestia.exe
FUNCTION : FUN_009ca810
ENTRY    : 009ca810
BODY     : [[009ca810, 009ca959]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009ca810(int param_1)

{
  uint uVar1;
  DWORD DVar2;
  int iVar3;
  int in_ECX;
  uint local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b22784;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(uint *)(param_1 + 0x38) = (uint)*(byte *)(in_ECX + 4);
  *(undefined4 *)(param_1 + 0x44) = *(undefined4 *)(in_ECX + 5);
  local_14 = uVar1;
  DVar2 = timeGetTime();
  *(DWORD *)(param_1 + 0x40) = DVar2;
  if (*(int *)(in_ECX + 5) == 0) {
    *(undefined1 *)(param_1 + 0x3c) = 0;
  }
  else {
    *(undefined1 *)(param_1 + 0x3c) = 1;
    *(undefined4 *)(param_1 + 0x4c) = 10;
    FUN_00406460(L"IDS_BATTLESTAGE_TIMER");
    local_8 = 0;
    iVar3 = FUN_0081d120(local_4c);
    local_8._0_1_ = 1;
    if (*(uint *)(iVar3 + 0x18) < 8) {
      iVar3 = iVar3 + 4;
    }
    else {
      iVar3 = *(int *)(iVar3 + 4);
    }
    FUN_00404750(iVar3,10,uVar1);
    local_8 = CONCAT31(local_8._1_3_,3);
    if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = CONCAT31(local_8._1_3_,4);
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_48 = 0;
    local_34 = 7;
    local_38 = 0;
    (**(code **)(**(int **)(*(int *)(param_1 + 4) + 0x1a8) + 0x44))(local_30,3);
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009ca810 : PUSH EBP
009ca811 : MOV EBP,ESP
009ca813 : PUSH -0x1
009ca815 : PUSH 0xb22784
009ca81a : MOV EAX,FS:[0x0]
009ca820 : PUSH EAX
009ca821 : SUB ESP,0x58
009ca824 : MOV EAX,[0x00d66fa0]
009ca829 : XOR EAX,EBP
009ca82b : MOV dword ptr [EBP + -0x10],EAX
009ca82e : PUSH EBX
009ca82f : PUSH ESI
009ca830 : PUSH EDI
009ca831 : PUSH EAX
009ca832 : LEA EAX,[EBP + -0xc]
009ca835 : MOV FS:[0x0],EAX
009ca83b : MOV ESI,ECX
009ca83d : MOVZX EAX,byte ptr [ESI + 0x4]
009ca841 : MOV EBX,dword ptr [EBP + 0x8]
009ca844 : MOV dword ptr [EBX + 0x38],EAX
009ca847 : MOV EAX,dword ptr [ESI + 0x5]
009ca84a : MOV dword ptr [EBX + 0x44],EAX
009ca84d : CALL dword ptr [0x00b85598]
009ca853 : MOV dword ptr [EBX + 0x40],EAX
009ca856 : CMP dword ptr [ESI + 0x5],0x0
009ca85a : JZ 0x009ca938
009ca860 : PUSH 0xc92cd0
009ca865 : LEA ECX,[EBP + -0x48]
009ca868 : MOV byte ptr [EBX + 0x3c],0x1
009ca86c : MOV dword ptr [EBX + 0x4c],0xa
009ca873 : CALL 0x00406460
009ca878 : MOV dword ptr [EBP + -0x4],0x0
009ca87f : LEA ECX,[EBP + -0x48]
009ca882 : PUSH ECX
009ca883 : MOV ECX,dword ptr [0x0172491c]
009ca889 : LEA EDI,[EBP + -0x64]
009ca88c : CALL 0x0081d120
009ca891 : MOV byte ptr [EBP + -0x4],0x1
009ca895 : MOV EDI,0x8
009ca89a : CMP dword ptr [EAX + 0x18],EDI
009ca89d : JC 0x009ca8a4
009ca89f : MOV EAX,dword ptr [EAX + 0x4]
009ca8a2 : JMP 0x009ca8a7
009ca8a4 : ADD EAX,0x4
009ca8a7 : PUSH 0xa
009ca8a9 : PUSH EAX
009ca8aa : LEA ESI,[EBP + -0x2c]
009ca8ad : CALL 0x00404750
009ca8b2 : ADD ESP,0x8
009ca8b5 : MOV byte ptr [EBP + -0x4],0x3
009ca8b9 : CMP dword ptr [EBP + -0x4c],EDI
009ca8bc : JC 0x009ca8c6
009ca8be : MOV ECX,dword ptr [EBP + -0x60]
009ca8c1 : CALL 0x006f04e0
009ca8c6 : MOV ESI,0x7
009ca8cb : XOR EDX,EDX
009ca8cd : MOV dword ptr [EBP + -0x4c],ESI
009ca8d0 : MOV dword ptr [EBP + -0x50],0x0
009ca8d7 : MOV word ptr [EBP + -0x60],DX
009ca8db : MOV byte ptr [EBP + -0x4],0x4
009ca8df : CMP dword ptr [EBP + -0x30],EDI
009ca8e2 : JC 0x009ca8ec
009ca8e4 : MOV ECX,dword ptr [EBP + -0x44]
009ca8e7 : CALL 0x006f04e0
009ca8ec : MOV ECX,dword ptr [EBX + 0x4]
009ca8ef : MOV ECX,dword ptr [ECX + 0x1a8]
009ca8f5 : MOV EDX,dword ptr [ECX]
009ca8f7 : MOV EDX,dword ptr [EDX + 0x44]
009ca8fa : XOR EAX,EAX
009ca8fc : MOV word ptr [EBP + -0x44],AX
009ca900 : PUSH 0x3
009ca902 : LEA EAX,[EBP + -0x2c]
009ca905 : PUSH EAX
009ca906 : MOV dword ptr [EBP + -0x30],ESI
009ca909 : MOV dword ptr [EBP + -0x34],0x0
009ca910 : CALL EDX
009ca912 : MOV dword ptr [EBP + -0x4],0xffffffff
009ca919 : CMP dword ptr [EBP + -0x14],EDI
009ca91c : JC 0x009ca926
009ca91e : MOV ECX,dword ptr [EBP + -0x28]
009ca921 : CALL 0x006f04e0
009ca926 : XOR EAX,EAX
009ca928 : MOV dword ptr [EBP + -0x14],ESI
009ca92b : MOV dword ptr [EBP + -0x18],0x0
009ca932 : MOV word ptr [EBP + -0x28],AX
009ca936 : JMP 0x009ca93c
009ca938 : MOV byte ptr [EBX + 0x3c],0x0
009ca93c : MOV ECX,dword ptr [EBP + -0xc]
009ca93f : MOV dword ptr FS:[0x0],ECX
009ca946 : POP ECX
009ca947 : POP EDI
009ca948 : POP ESI
009ca949 : POP EBX
009ca94a : MOV ECX,dword ptr [EBP + -0x10]
009ca94d : XOR ECX,EBP
009ca94f : CALL 0x00633e6b
009ca954 : MOV ESP,EBP
009ca956 : POP EBP
009ca957 : RET 0x4
