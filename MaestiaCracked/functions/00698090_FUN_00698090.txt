PROGRAM  : Maestia.exe
FUNCTION : FUN_00698090
ENTRY    : 00698090
BODY     : [[00698090, 0069812b]]

============================================================
DECOMPILED C CODE
============================================================

undefined1 FUN_00698090(void)

{
  char cVar1;
  int in_EAX;
  ushort uVar2;
  int iVar3;
  
  uVar2 = *(ushort *)(in_EAX + 0x58);
  if (uVar2 < 2) {
    *(undefined4 *)(in_EAX + 0x60) = 0;
  }
  else {
    iVar3 = *(int *)(in_EAX + 0x60);
    if (uVar2 != 0) {
      while( true ) {
        if (uVar2 < 2) {
          *(undefined4 *)(iVar3 + 4) = 0;
        }
        else {
          *(int *)(iVar3 + 4) = *(int *)(iVar3 + 8) + *(int *)(iVar3 + 0x10) * 4;
        }
        if (*(int *)(iVar3 + 0xc) == -1) {
          *(int *)(iVar3 + 8) = *(int *)(iVar3 + 8) + *(int *)(iVar3 + 0x10) * 4 + -4;
          *(int *)(iVar3 + 0x14) = (*(int *)(iVar3 + 0x14) - *(int *)(iVar3 + 0x10)) + 1;
        }
        cVar1 = FUN_00698020();
        if ((cVar1 != '\0') || (cVar1 = FUN_00698020(), cVar1 != '\0')) break;
        iVar3 = *(int *)(iVar3 + 4);
        uVar2 = uVar2 - 1;
        if (uVar2 == 0) {
          return 0;
        }
      }
      return 1;
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00698090 : PUSH EBX
00698091 : PUSH EBP
00698092 : PUSH ESI
00698093 : MOV ESI,EAX
00698095 : MOVZX EBP,word ptr [ESI + 0x58]
00698099 : PUSH EDI
0069809a : CMP BP,0x1
0069809e : JBE 0x0069811e
006980a0 : MOV EDI,dword ptr [ESI + 0x60]
006980a3 : TEST BP,BP
006980a6 : JBE 0x00698125
006980a8 : CMP BP,0x1
006980ac : JBE 0x006980bc
006980ae : MOV EAX,dword ptr [EDI + 0x10]
006980b1 : MOV ECX,dword ptr [EDI + 0x8]
006980b4 : LEA EDX,[ECX + EAX*0x4]
006980b7 : MOV dword ptr [EDI + 0x4],EDX
006980ba : JMP 0x006980c3
006980bc : MOV dword ptr [EDI + 0x4],0x0
006980c3 : CMP dword ptr [EDI + 0xc],-0x1
006980c7 : JZ 0x006980d5
006980c9 : MOV EDX,dword ptr [EDI + 0x14]
006980cc : MOV EAX,dword ptr [EDI + 0x10]
006980cf : LEA EBX,[EAX + EDX*0x1 + -0x1]
006980d3 : JMP 0x006980ef
006980d5 : MOV EAX,dword ptr [EDI + 0x14]
006980d8 : MOV ECX,dword ptr [EDI + 0x10]
006980db : MOV EDX,EAX
006980dd : SUB EDX,ECX
006980df : INC EDX
006980e0 : LEA ECX,[ECX*0x4 + 0xfffffffc]
006980e7 : ADD dword ptr [EDI + 0x8],ECX
006980ea : MOV EBX,EAX
006980ec : MOV dword ptr [EDI + 0x14],EDX
006980ef : CALL 0x00698020
006980f4 : TEST AL,AL
006980f6 : JNZ 0x00698117
006980f8 : LEA EDX,[EBX + 0x1]
006980fb : CALL 0x00698020
00698100 : TEST AL,AL
00698102 : JNZ 0x00698117
00698104 : MOV EDI,dword ptr [EDI + 0x4]
00698107 : ADD EBP,0xffff
0069810d : TEST BP,BP
00698110 : JA 0x006980a8
00698112 : POP EDI
00698113 : POP ESI
00698114 : POP EBP
00698115 : POP EBX
00698116 : RET
00698117 : POP EDI
00698118 : POP ESI
00698119 : POP EBP
0069811a : MOV AL,0x1
0069811c : POP EBX
0069811d : RET
0069811e : MOV dword ptr [ESI + 0x60],0x0
00698125 : POP EDI
00698126 : POP ESI
00698127 : POP EBP
00698128 : XOR AL,AL
0069812a : POP EBX
0069812b : RET
