PROGRAM  : Maestia.exe
FUNCTION : FUN_005d2950
ENTRY    : 005d2950
BODY     : [[005d2950, 005d29cd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005d2950(int param_1)

{
  undefined1 *puVar1;
  undefined1 uVar2;
  undefined4 uVar3;
  int iVar4;
  
  if (*(int *)(param_1 + 0x1c) < 1) {
    FUN_0052e440(*(undefined4 *)(param_1 + 0x18),
                 "Error: KeyIsToggled needs one Argument (the key code)\n");
    return;
  }
  uVar3 = *(undefined4 *)(param_1 + 0x18);
  FUN_00526260(0);
  uVar3 = FUN_00527990(uVar3);
  if (*(int *)(param_1 + 8) == 0) {
    iVar4 = 0;
  }
  else {
    iVar4 = *(int *)(param_1 + 8) + -0x10;
  }
  if (*(int *)(*(int *)(iVar4 + 0x44) + 0x9e4) != 0) {
    uVar2 = FUN_005b0930(uVar3);
    puVar1 = *(undefined1 **)(param_1 + 4);
    FUN_00526400();
    puVar1[4] = uVar2;
    *puVar1 = 2;
    return;
  }
  puVar1 = *(undefined1 **)(param_1 + 4);
  FUN_00526400();
  puVar1[4] = 0;
  *puVar1 = 2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005d2950 : PUSH ESI
005d2951 : MOV ESI,dword ptr [ESP + 0x8]
005d2955 : CMP dword ptr [ESI + 0x1c],0x1
005d2959 : JGE 0x005d296e
005d295b : MOV EAX,dword ptr [ESI + 0x18]
005d295e : PUSH 0xb93608
005d2963 : PUSH EAX
005d2964 : CALL 0x0052e440
005d2969 : ADD ESP,0x8
005d296c : POP ESI
005d296d : RET
005d296e : MOV ECX,dword ptr [ESI + 0x18]
005d2971 : PUSH ECX
005d2972 : PUSH 0x0
005d2974 : MOV ECX,ESI
005d2976 : CALL 0x00526260
005d297b : MOV ECX,EAX
005d297d : CALL 0x00527990
005d2982 : MOV ECX,dword ptr [ESI + 0x8]
005d2985 : TEST ECX,ECX
005d2987 : JZ 0x005d298e
005d2989 : ADD ECX,-0x10
005d298c : JMP 0x005d2990
005d298e : XOR ECX,ECX
005d2990 : MOV EDX,dword ptr [ECX + 0x44]
005d2993 : MOV ECX,dword ptr [EDX + 0x9e4]
005d2999 : PUSH EBX
005d299a : TEST ECX,ECX
005d299c : JZ 0x005d29b9
005d299e : PUSH EAX
005d299f : CALL 0x005b0930
005d29a4 : MOV ESI,dword ptr [ESI + 0x4]
005d29a7 : MOV ECX,ESI
005d29a9 : MOV BL,AL
005d29ab : CALL 0x00526400
005d29b0 : MOV byte ptr [ESI + 0x4],BL
005d29b3 : POP EBX
005d29b4 : MOV byte ptr [ESI],0x2
005d29b7 : POP ESI
005d29b8 : RET
005d29b9 : MOV ESI,dword ptr [ESI + 0x4]
005d29bc : MOV ECX,ESI
005d29be : XOR BL,BL
005d29c0 : CALL 0x00526400
005d29c5 : MOV byte ptr [ESI + 0x4],BL
005d29c8 : POP EBX
005d29c9 : MOV byte ptr [ESI],0x2
005d29cc : POP ESI
005d29cd : RET
