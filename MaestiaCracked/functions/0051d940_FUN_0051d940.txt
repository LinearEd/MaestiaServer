PROGRAM  : Maestia.exe
FUNCTION : FUN_0051d940
ENTRY    : 0051d940
BODY     : [[0051d940, 0051da1b]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0051d940(GPoint<float> *param_1)

{
  char cVar1;
  char cVar2;
  int iVar3;
  int *in_ECX;
  int iVar4;
  int unaff_retaddr;
  GPoint<float> aGStack_20 [8];
  int iStack_18;
  int iStack_14;
  int iStack_10;
  int iStack_c;
  int iStack_8;
  int iStack_4;
  
  cVar1 = (**(code **)(*in_ECX + 8))();
  if (cVar1 == '\0') {
    return 0;
  }
  iStack_18 = in_ECX[0x11];
  iStack_14 = in_ECX[0x12];
  iStack_10 = in_ECX[0x13];
  iStack_c = in_ECX[0x14];
  iStack_8 = in_ECX[0x15];
  iStack_4 = in_ECX[0x16];
  GMatrix2D::TransformByInverse((GMatrix2D *)&iStack_18,aGStack_20,param_1);
  if ((((short)in_ECX[0x19] == 0) &&
      (cVar1 = (**(code **)(*(int *)in_ECX[0x1a] + 0x14))(aGStack_20,1), cVar1 != '\0')) &&
     (iVar4 = in_ECX[8], iVar4 != 0)) {
    cVar1 = (char)iStack_4;
    do {
      iVar3 = (**(code **)(*(int *)(iVar4 + 0x68) + 8))();
      if (iVar3 != 2) {
        return 0;
      }
      if ((((cVar1 != '\0') || (cVar2 = FUN_0058cd00(), cVar2 != '\0')) ||
          ((*(int *)(iVar4 + 0x1bc) != 0 && (cVar2 = FUN_0058cd00(), cVar2 != '\0')))) &&
         ((unaff_retaddr == 0 || (unaff_retaddr != iVar4)))) {
        return iVar4;
      }
      iVar4 = *(int *)(iVar4 + 0x20);
    } while (iVar4 != 0);
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0051d940 : SUB ESP,0x20
0051d943 : PUSH ESI
0051d944 : MOV ESI,ECX
0051d946 : MOV EAX,dword ptr [ESI]
0051d948 : MOV EDX,dword ptr [EAX + 0x8]
0051d94b : CALL EDX
0051d94d : TEST AL,AL
0051d94f : JNZ 0x0051d95a
0051d951 : XOR EAX,EAX
0051d953 : POP ESI
0051d954 : ADD ESP,0x20
0051d957 : RET 0xc
0051d95a : FLD float ptr [ESI + 0x44]
0051d95d : MOV EAX,dword ptr [ESP + 0x28]
0051d961 : FSTP float ptr [ESP + 0xc]
0051d965 : PUSH EBX
0051d966 : FLD float ptr [ESI + 0x48]
0051d969 : PUSH EDI
0051d96a : FSTP float ptr [ESP + 0x18]
0051d96e : PUSH EAX
0051d96f : FLD float ptr [ESI + 0x4c]
0051d972 : LEA ECX,[ESP + 0x10]
0051d976 : FSTP float ptr [ESP + 0x20]
0051d97a : PUSH ECX
0051d97b : FLD float ptr [ESI + 0x50]
0051d97e : LEA ECX,[ESP + 0x1c]
0051d982 : FSTP float ptr [ESP + 0x28]
0051d986 : FLD float ptr [ESI + 0x54]
0051d989 : FSTP float ptr [ESP + 0x2c]
0051d98d : FLD float ptr [ESI + 0x58]
0051d990 : FSTP float ptr [ESP + 0x30]
0051d994 : CALL 0x00522fa0
0051d999 : CMP word ptr [ESI + 0x64],0x0
0051d99e : JNZ 0x0051da06
0051d9a0 : MOV ECX,dword ptr [ESI + 0x68]
0051d9a3 : MOV EDX,dword ptr [ECX]
0051d9a5 : MOV EDX,dword ptr [EDX + 0x14]
0051d9a8 : PUSH ESI
0051d9a9 : PUSH 0x1
0051d9ab : LEA EAX,[ESP + 0x14]
0051d9af : PUSH EAX
0051d9b0 : CALL EDX
0051d9b2 : TEST AL,AL
0051d9b4 : JZ 0x0051da06
0051d9b6 : MOV ESI,dword ptr [ESI + 0x20]
0051d9b9 : TEST ESI,ESI
0051d9bb : JZ 0x0051da06
0051d9bd : MOV EDI,dword ptr [ESP + 0x38]
0051d9c1 : MOV BL,byte ptr [ESP + 0x34]
0051d9c5 : MOV EAX,dword ptr [ESI + 0x68]
0051d9c8 : MOV EDX,dword ptr [EAX + 0x8]
0051d9cb : LEA ECX,[ESI + 0x68]
0051d9ce : CALL EDX
0051d9d0 : CMP EAX,0x2
0051d9d3 : JNZ 0x0051da06
0051d9d5 : TEST BL,BL
0051d9d7 : JNZ 0x0051d9f7
0051d9d9 : MOV ECX,ESI
0051d9db : CALL 0x0058cd00
0051d9e0 : TEST AL,AL
0051d9e2 : JNZ 0x0051d9f7
0051d9e4 : MOV ECX,dword ptr [ESI + 0x1bc]
0051d9ea : TEST ECX,ECX
0051d9ec : JZ 0x0051d9ff
0051d9ee : CALL 0x0058cd00
0051d9f3 : TEST AL,AL
0051d9f5 : JZ 0x0051d9ff
0051d9f7 : TEST EDI,EDI
0051d9f9 : JZ 0x0051da11
0051d9fb : CMP EDI,ESI
0051d9fd : JNZ 0x0051da11
0051d9ff : MOV ESI,dword ptr [ESI + 0x20]
0051da02 : TEST ESI,ESI
0051da04 : JNZ 0x0051d9c5
0051da06 : POP EDI
0051da07 : POP EBX
0051da08 : XOR EAX,EAX
0051da0a : POP ESI
0051da0b : ADD ESP,0x20
0051da0e : RET 0xc
0051da11 : POP EDI
0051da12 : POP EBX
0051da13 : MOV EAX,ESI
0051da15 : POP ESI
0051da16 : ADD ESP,0x20
0051da19 : RET 0xc
