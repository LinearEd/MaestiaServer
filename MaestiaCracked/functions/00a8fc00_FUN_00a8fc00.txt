PROGRAM  : Maestia.exe
FUNCTION : FUN_00a8fc00
ENTRY    : 00a8fc00
BODY     : [[00a8fc00, 00a8fcc5]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00a8fcb1) */

void FUN_00a8fc00(void)

{
  int iVar1;
  int *piVar2;
  int *piVar3;
  int unaff_EDI;
  
  if ((DAT_0172491c != 0) && (*(int *)(DAT_0172491c + 0x17c) != 0)) {
    iVar1 = *(int *)(*(int *)(DAT_0172491c + 0x17c) + 4);
    piVar2 = *(int **)(unaff_EDI + 0x3c);
    piVar3 = (int *)*piVar2;
    while (piVar3 != piVar2) {
      if (iVar1 != ((int *)piVar3[4])[0x20]) {
        (**(code **)(*(int *)piVar3[4] + 0x20))();
        if ((int *)piVar3[4] != (int *)0x0) {
          (**(code **)(*(int *)piVar3[4] + 8))(1);
          piVar3[4] = 0;
        }
      }
      FUN_00416210();
      piVar2 = *(int **)(unaff_EDI + 0x3c);
    }
    FUN_00401c00(*(undefined4 *)(*(int *)(unaff_EDI + 0x3c) + 4));
    *(int *)(*(int *)(unaff_EDI + 0x3c) + 4) = *(int *)(unaff_EDI + 0x3c);
    *(undefined4 *)(unaff_EDI + 0x40) = 0;
    *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x3c) = *(undefined4 *)(unaff_EDI + 0x3c);
    *(int *)(*(int *)(unaff_EDI + 0x3c) + 8) = *(int *)(unaff_EDI + 0x3c);
    if (*(int *)(unaff_EDI + 0x48) != *(int *)(unaff_EDI + 0x4c)) {
      *(int *)(unaff_EDI + 0x4c) = *(int *)(unaff_EDI + 0x48);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a8fc00 : PUSH EBP
00a8fc01 : MOV EBP,ESP
00a8fc03 : PUSH ECX
00a8fc04 : MOV EAX,[0x0172491c]
00a8fc09 : TEST EAX,EAX
00a8fc0b : JZ 0x00a8fcc2
00a8fc11 : MOV EAX,dword ptr [EAX + 0x17c]
00a8fc17 : TEST EAX,EAX
00a8fc19 : JZ 0x00a8fcc2
00a8fc1f : PUSH EBX
00a8fc20 : MOV EBX,dword ptr [EAX + 0x4]
00a8fc23 : MOV EAX,dword ptr [EDI + 0x3c]
00a8fc26 : PUSH ESI
00a8fc27 : MOV ESI,dword ptr [EAX]
00a8fc29 : MOV dword ptr [EBP + -0x4],ESI
00a8fc2c : CMP ESI,EAX
00a8fc2e : JZ 0x00a8fc69
00a8fc30 : MOV ECX,dword ptr [ESI + 0x10]
00a8fc33 : CMP EBX,dword ptr [ECX + 0x80]
00a8fc39 : JZ 0x00a8fc59
00a8fc3b : MOV EAX,dword ptr [ECX]
00a8fc3d : MOV EDX,dword ptr [EAX + 0x20]
00a8fc40 : CALL EDX
00a8fc42 : MOV ECX,dword ptr [ESI + 0x10]
00a8fc45 : TEST ECX,ECX
00a8fc47 : JZ 0x00a8fc59
00a8fc49 : MOV EAX,dword ptr [ECX]
00a8fc4b : MOV EDX,dword ptr [EAX + 0x8]
00a8fc4e : PUSH 0x1
00a8fc50 : CALL EDX
00a8fc52 : MOV dword ptr [ESI + 0x10],0x0
00a8fc59 : LEA EDX,[EBP + -0x4]
00a8fc5c : CALL 0x00416210
00a8fc61 : MOV ESI,dword ptr [EBP + -0x4]
00a8fc64 : CMP ESI,dword ptr [EDI + 0x3c]
00a8fc67 : JNZ 0x00a8fc30
00a8fc69 : MOV EAX,dword ptr [EDI + 0x3c]
00a8fc6c : MOV ECX,dword ptr [EAX + 0x4]
00a8fc6f : LEA ESI,[EDI + 0x38]
00a8fc72 : PUSH ECX
00a8fc73 : MOV ECX,ESI
00a8fc75 : CALL 0x00401c00
00a8fc7a : MOV EAX,dword ptr [ESI + 0x4]
00a8fc7d : MOV dword ptr [EAX + 0x4],EAX
00a8fc80 : MOV EAX,dword ptr [ESI + 0x4]
00a8fc83 : MOV dword ptr [ESI + 0x8],0x0
00a8fc8a : MOV dword ptr [EAX],EAX
00a8fc8c : MOV ESI,dword ptr [ESI + 0x4]
00a8fc8f : MOV dword ptr [ESI + 0x8],ESI
00a8fc92 : MOV ECX,dword ptr [EDI + 0x4c]
00a8fc95 : MOV EDX,dword ptr [EDI + 0x48]
00a8fc98 : CMP EDX,ECX
00a8fc9a : JZ 0x00a8fcc0
00a8fc9c : MOV EAX,ECX
00a8fc9e : SUB EAX,ECX
00a8fca0 : SAR EAX,0x2
00a8fca3 : LEA ESI,[EAX*0x4 + 0x0]
00a8fcaa : LEA EBX,[ESI + EDX*0x1]
00a8fcad : TEST EAX,EAX
00a8fcaf : JLE 0x00a8fcbd
00a8fcb1 : PUSH ESI
00a8fcb2 : PUSH ECX
00a8fcb3 : PUSH ESI
00a8fcb4 : PUSH EDX
00a8fcb5 : CALL 0x00634101
00a8fcba : ADD ESP,0x10
00a8fcbd : MOV dword ptr [EDI + 0x4c],EBX
00a8fcc0 : POP ESI
00a8fcc1 : POP EBX
00a8fcc2 : MOV ESP,EBP
00a8fcc4 : POP EBP
00a8fcc5 : RET
