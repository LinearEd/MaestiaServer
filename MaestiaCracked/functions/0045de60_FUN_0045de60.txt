PROGRAM  : Maestia.exe
FUNCTION : FUN_0045de60
ENTRY    : 0045de60
BODY     : [[0045de60, 0045df6f] [0045df81, 0045dfcd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0045de60(undefined4 param_1,int param_2,int param_3)

{
  int iVar1;
  uint uVar2;
  int in_ECX;
  uint uVar3;
  uint uVar4;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7dce0;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  uVar4 = param_3 - param_2 >> 3;
  iVar1 = *(int *)(in_ECX + 4);
  if (iVar1 == 0) {
    uVar3 = 0;
  }
  else {
    uVar3 = *(int *)(in_ECX + 0xc) - iVar1 >> 3;
  }
  if (uVar4 != 0) {
    iVar1 = *(int *)(in_ECX + 8) - iVar1 >> 3;
    if (0x1fffffffU - iVar1 < uVar4) {
      iVar1 = FUN_00429be0();
    }
    uVar2 = iVar1 + uVar4;
    if (uVar3 < uVar2) {
      if (0x1fffffff - (uVar3 >> 1) < uVar3) {
        uVar3 = 0;
      }
      else {
        uVar3 = uVar3 + (uVar3 >> 1);
      }
      if (uVar3 < uVar2) {
        uVar3 = uVar2;
      }
      iVar1 = FUN_0040c2e0();
      local_8 = 0;
      FUN_004f64d0(*(undefined4 *)(in_ECX + 4),param_1);
      FUN_0045e010(param_2,param_3);
      FUN_004f64d0(param_1,*(undefined4 *)(in_ECX + 8));
      local_8 = 0xffffffff;
      if (*(int *)(in_ECX + 4) != 0) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      *(uint *)(in_ECX + 0xc) = iVar1 + uVar3 * 8;
      *(uint *)(in_ECX + 8) =
           iVar1 + (uVar4 + (*(int *)(in_ECX + 8) - *(int *)(in_ECX + 4) >> 3)) * 8;
      *(int *)(in_ECX + 4) = iVar1;
      ExceptionList = local_10;
      return;
    }
    FUN_0045e010(param_2,param_3);
    FUN_0045dfd0();
    FUN_0045dfd0();
    FUN_0045dfd0();
    *(int *)(in_ECX + 8) = *(int *)(in_ECX + 8) + uVar4 * 8;
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0045de60 : PUSH EBP
0045de61 : MOV EBP,ESP
0045de63 : PUSH -0x1
0045de65 : PUSH 0xb7dce0
0045de6a : MOV EAX,FS:[0x0]
0045de70 : PUSH EAX
0045de71 : SUB ESP,0x8
0045de74 : PUSH EBX
0045de75 : PUSH ESI
0045de76 : PUSH EDI
0045de77 : MOV EAX,[0x00d66fa0]
0045de7c : XOR EAX,EBP
0045de7e : PUSH EAX
0045de7f : LEA EAX,[EBP + -0xc]
0045de82 : MOV FS:[0x0],EAX
0045de88 : MOV dword ptr [EBP + -0x10],ESP
0045de8b : MOV ESI,ECX
0045de8d : MOV EDI,dword ptr [EBP + 0x10]
0045de90 : SUB EDI,dword ptr [EBP + 0xc]
0045de93 : SAR EDI,0x3
0045de96 : MOV ECX,dword ptr [ESI + 0x4]
0045de99 : TEST ECX,ECX
0045de9b : JNZ 0x0045dea1
0045de9d : XOR EBX,EBX
0045de9f : JMP 0x0045dea9
0045dea1 : MOV EBX,dword ptr [ESI + 0xc]
0045dea4 : SUB EBX,ECX
0045dea6 : SAR EBX,0x3
0045dea9 : TEST EDI,EDI
0045deab : JZ 0x0045dfba
0045deb1 : MOV EDX,dword ptr [ESI + 0x8]
0045deb4 : MOV EAX,EDX
0045deb6 : SUB EAX,ECX
0045deb8 : SAR EAX,0x3
0045debb : MOV ECX,0x1fffffff
0045dec0 : SUB ECX,EAX
0045dec2 : CMP ECX,EDI
0045dec4 : JNC 0x0045decb
0045dec6 : CALL 0x00429be0
0045decb : ADD EAX,EDI
0045decd : CMP EBX,EAX
0045decf : JNC 0x0045df81
0045ded5 : MOV ECX,EBX
0045ded7 : SHR ECX,0x1
0045ded9 : MOV EDX,0x1fffffff
0045dede : SUB EDX,ECX
0045dee0 : CMP EDX,EBX
0045dee2 : JNC 0x0045dee8
0045dee4 : XOR EBX,EBX
0045dee6 : JMP 0x0045deea
0045dee8 : ADD EBX,ECX
0045deea : CMP EBX,EAX
0045deec : CMOVC EBX,EAX
0045deef : MOV ECX,EBX
0045def1 : CALL 0x0040c2e0
0045def6 : MOV dword ptr [EBP + -0x14],EAX
0045def9 : MOV dword ptr [EBP + -0x4],0x0
0045df00 : MOV ECX,dword ptr [EBP + 0x8]
0045df03 : PUSH ECX
0045df04 : MOV EDX,dword ptr [ESI + 0x4]
0045df07 : PUSH EDX
0045df08 : MOV EDX,EAX
0045df0a : CALL 0x004f64d0
0045df0f : MOV ECX,dword ptr [EBP + 0x10]
0045df12 : PUSH ECX
0045df13 : MOV EDX,dword ptr [EBP + 0xc]
0045df16 : PUSH EDX
0045df17 : MOV EDX,EAX
0045df19 : CALL 0x0045e010
0045df1e : MOV ECX,dword ptr [ESI + 0x8]
0045df21 : PUSH ECX
0045df22 : MOV EDX,dword ptr [EBP + 0x8]
0045df25 : PUSH EDX
0045df26 : MOV EDX,EAX
0045df28 : CALL 0x004f64d0
0045df2d : MOV dword ptr [EBP + -0x4],0xffffffff
0045df34 : MOV ECX,dword ptr [ESI + 0x4]
0045df37 : MOV EAX,dword ptr [ESI + 0x8]
0045df3a : SUB EAX,ECX
0045df3c : SAR EAX,0x3
0045df3f : ADD EDI,EAX
0045df41 : TEST ECX,ECX
0045df43 : JZ 0x0045df4a
0045df45 : CALL 0x006f04e0
0045df4a : MOV EAX,dword ptr [EBP + -0x14]
0045df4d : LEA ECX,[EAX + EBX*0x8]
0045df50 : MOV dword ptr [ESI + 0xc],ECX
0045df53 : LEA EDX,[EAX + EDI*0x8]
0045df56 : MOV dword ptr [ESI + 0x8],EDX
0045df59 : MOV dword ptr [ESI + 0x4],EAX
0045df5c : MOV ECX,dword ptr [EBP + -0xc]
0045df5f : MOV dword ptr FS:[0x0],ECX
0045df66 : POP ECX
0045df67 : POP EDI
0045df68 : POP ESI
0045df69 : POP EBX
0045df6a : MOV ESP,EBP
0045df6c : POP EBP
0045df6d : RET 0x10
0045df81 : MOV EAX,dword ptr [EBP + 0x10]
0045df84 : PUSH EAX
0045df85 : MOV ECX,dword ptr [EBP + 0xc]
0045df88 : PUSH ECX
0045df89 : CALL 0x0045e010
0045df8e : MOV ECX,dword ptr [ESI + 0x8]
0045df91 : MOV EAX,dword ptr [EBP + 0x8]
0045df94 : CALL 0x0045dfd0
0045df99 : ADD EDI,EDI
0045df9b : ADD EDI,EDI
0045df9d : ADD EDI,EDI
0045df9f : MOV EAX,dword ptr [ESI + 0x8]
0045dfa2 : LEA ECX,[EDI + EAX*0x1]
0045dfa5 : CALL 0x0045dfd0
0045dfaa : MOV ECX,dword ptr [ESI + 0x8]
0045dfad : ADD ECX,EDI
0045dfaf : MOV EAX,dword ptr [EBP + 0x8]
0045dfb2 : CALL 0x0045dfd0
0045dfb7 : ADD dword ptr [ESI + 0x8],EDI
0045dfba : MOV ECX,dword ptr [EBP + -0xc]
0045dfbd : MOV dword ptr FS:[0x0],ECX
0045dfc4 : POP ECX
0045dfc5 : POP EDI
0045dfc6 : POP ESI
0045dfc7 : POP EBX
0045dfc8 : MOV ESP,EBP
0045dfca : POP EBP
0045dfcb : RET 0x10
