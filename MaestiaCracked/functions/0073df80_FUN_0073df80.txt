PROGRAM  : Maestia.exe
FUNCTION : FUN_0073df80
ENTRY    : 0073df80
BODY     : [[0073df80, 0073e205]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_0073df80(int param_1)

{
  int *piVar1;
  int iVar2;
  int in_ECX;
  wchar_t *pwVar3;
  
  iVar2 = *(int *)(in_ECX + 0x14);
  if (iVar2 == 0) {
    iVar2 = FUN_007bfcc0(*(undefined4 *)(in_ECX + 0x10));
    *(int *)(in_ECX + 0x14) = iVar2;
    if (iVar2 == 0) {
      return 0;
    }
    FUN_0073ba80();
    piVar1 = *(int **)(*(int *)(in_ECX + 0x14) + 0x1c);
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0xe8))(piVar1,"Tech0");
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaMembraneRenderGroup::SetEffectShader effect->SetTechnique Failed (%d)",
                   _DAT_00da9b18);
    }
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0xfc))(piVar1,0,0);
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaMembraneRenderGroup::SetEffectShader effect->Begin Failed (%d)",
                   _DAT_00da9b18);
    }
    _DAT_00da9b18 =
         (**(code **)(*piVar1 + 0x100))(piVar1,(-(*(uint *)(DAT_017251ac + 0x168) < 3) & 3U) + 2);
    if (-1 < _DAT_00da9b18) {
      return 1;
    }
    pwVar3 = L"AvaMembraneRenderGroup::SetEffectShader effect->BeginPass Failed (%d)";
  }
  else if (*(int *)(in_ECX + 0xd0) == *(int *)(param_1 + 0x148)) {
    if (*(int *)(in_ECX + 0xd4) == *(int *)(param_1 + 0x14c)) {
      return 1;
    }
    piVar1 = *(int **)(iVar2 + 0x1c);
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0x108))(piVar1);
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaMembraneRenderGroup::SetEffectShader effect->EndPass3 Failed (%d)",
                   _DAT_00da9b18);
    }
    _DAT_00da9b18 =
         (**(code **)(*piVar1 + 0x100))(piVar1,(-(*(uint *)(DAT_017251ac + 0x168) < 3) & 3U) + 2);
    if (-1 < _DAT_00da9b18) {
      return 1;
    }
    pwVar3 = L"AvaMembraneRenderGroup::SetEffectShader effect->BeginPass3 Failed (%d)";
  }
  else {
    piVar1 = *(int **)(iVar2 + 0x1c);
    FUN_0077c620();
    *(undefined4 *)(in_ECX + 0x44) = 0;
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0x108))(piVar1);
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaMembraneRenderGroup::SetEffectShader effect->EndPass Failed (%d)",
                   _DAT_00da9b18);
    }
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0x10c))(piVar1);
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaMembraneRenderGroup::SetEffectShader effect->End Failed (%d)",_DAT_00da9b18)
      ;
    }
    iVar2 = FUN_007bfcc0(*(undefined4 *)(param_1 + 0x148));
    *(int *)(in_ECX + 0x14) = iVar2;
    if (iVar2 == 0) {
      return 0;
    }
    FUN_0073ba80();
    piVar1 = *(int **)(*(int *)(in_ECX + 0x14) + 0x1c);
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0xe8))(piVar1,"Tech0");
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaMembraneRenderGroup::SetEffectShader effect->SetTechnique2 Failed (%d)",
                   _DAT_00da9b18);
    }
    _DAT_00da9b18 = (**(code **)(*piVar1 + 0xfc))(piVar1,0,0);
    if (_DAT_00da9b18 < 0) {
      FUN_008018d0(L"AvaMembraneRenderGroup::SetEffectShader effect->Begin2 Failed (%d)",
                   _DAT_00da9b18);
    }
    _DAT_00da9b18 =
         (**(code **)(*piVar1 + 0x100))(piVar1,(-(*(uint *)(DAT_017251ac + 0x168) < 3) & 3U) + 2);
    if (-1 < _DAT_00da9b18) {
      return 1;
    }
    pwVar3 = L"AvaMembraneRenderGroup::SetEffectShader effect->BeginPass2 Failed (%d)";
  }
  FUN_008018d0(pwVar3,_DAT_00da9b18);
  return 1;
}



============================================================
DISASSEMBLY
============================================================
0073df80 : PUSH EBP
0073df81 : MOV EBP,ESP
0073df83 : AND ESP,0xfffffff8
0073df86 : PUSH ECX
0073df87 : PUSH EBX
0073df88 : PUSH ESI
0073df89 : PUSH EDI
0073df8a : MOV EDI,ECX
0073df8c : MOV EAX,dword ptr [EDI + 0x14]
0073df8f : TEST EAX,EAX
0073df91 : JNZ 0x0073e057
0073df97 : MOV EAX,dword ptr [EDI + 0x10]
0073df9a : MOV ESI,dword ptr [0x01725204]
0073dfa0 : PUSH EAX
0073dfa1 : CALL 0x007bfcc0
0073dfa6 : MOV dword ptr [EDI + 0x14],EAX
0073dfa9 : TEST EAX,EAX
0073dfab : JNZ 0x0073dfb8
0073dfad : XOR AL,AL
0073dfaf : POP EDI
0073dfb0 : POP ESI
0073dfb1 : POP EBX
0073dfb2 : MOV ESP,EBP
0073dfb4 : POP EBP
0073dfb5 : RET 0xc
0073dfb8 : MOV EAX,dword ptr [EBP + 0xc]
0073dfbb : CALL 0x0073ba80
0073dfc0 : MOV ECX,dword ptr [EDI + 0x14]
0073dfc3 : MOV EDI,dword ptr [ECX + 0x1c]
0073dfc6 : MOV EDX,dword ptr [EDI]
0073dfc8 : MOV EAX,dword ptr [EDX + 0xe8]
0073dfce : PUSH 0xc07068
0073dfd3 : PUSH EDI
0073dfd4 : CALL EAX
0073dfd6 : MOV [0x00da9b18],EAX
0073dfdb : TEST EAX,EAX
0073dfdd : JGE 0x0073dff3
0073dfdf : MOV ESI,dword ptr [0x00da98e8]
0073dfe5 : PUSH EAX
0073dfe6 : PUSH 0xc07070
0073dfeb : CALL 0x008018d0
0073dff0 : ADD ESP,0x8
0073dff3 : MOV ECX,dword ptr [EDI]
0073dff5 : MOV EDX,dword ptr [ECX + 0xfc]
0073dffb : PUSH 0x0
0073dffd : PUSH 0x0
0073dfff : PUSH EDI
0073e000 : CALL EDX
0073e002 : MOV [0x00da9b18],EAX
0073e007 : TEST EAX,EAX
0073e009 : JGE 0x0073e01f
0073e00b : MOV ESI,dword ptr [0x00da98e8]
0073e011 : PUSH EAX
0073e012 : PUSH 0xc07108
0073e017 : CALL 0x008018d0
0073e01c : ADD ESP,0x8
0073e01f : MOV EAX,[0x017251ac]
0073e024 : CMP dword ptr [EAX + 0x168],0x3
0073e02b : MOV ECX,dword ptr [EDI]
0073e02d : MOV EDX,dword ptr [ECX + 0x100]
0073e033 : SBB EAX,EAX
0073e035 : AND EAX,0x3
0073e038 : ADD EAX,0x2
0073e03b : PUSH EAX
0073e03c : PUSH EDI
0073e03d : CALL EDX
0073e03f : MOV [0x00da9b18],EAX
0073e044 : TEST EAX,EAX
0073e046 : JGE 0x0073e1fb
0073e04c : PUSH EAX
0073e04d : PUSH 0xc071c8
0073e052 : JMP 0x0073e1ed
0073e057 : MOV EDX,dword ptr [EDI + 0xd0]
0073e05d : MOV ECX,dword ptr [EBP + 0x8]
0073e060 : CMP EDX,dword ptr [ECX + 0x148]
0073e066 : JZ 0x0073e184
0073e06c : MOV EBX,dword ptr [EAX + 0x1c]
0073e06f : CALL 0x0077c620
0073e074 : MOV dword ptr [EDI + 0x44],0x0
0073e07b : MOV EAX,dword ptr [EBX]
0073e07d : MOV ECX,dword ptr [EAX + 0x108]
0073e083 : PUSH EBX
0073e084 : CALL ECX
0073e086 : MOV [0x00da9b18],EAX
0073e08b : TEST EAX,EAX
0073e08d : JGE 0x0073e0a3
0073e08f : MOV ESI,dword ptr [0x00da98e8]
0073e095 : PUSH EAX
0073e096 : PUSH 0xc07280
0073e09b : CALL 0x008018d0
0073e0a0 : ADD ESP,0x8
0073e0a3 : MOV EDX,dword ptr [EBX]
0073e0a5 : MOV EAX,dword ptr [EDX + 0x10c]
0073e0ab : PUSH EBX
0073e0ac : CALL EAX
0073e0ae : MOV [0x00da9b18],EAX
0073e0b3 : TEST EAX,EAX
0073e0b5 : JGE 0x0073e0cb
0073e0b7 : MOV ESI,dword ptr [0x00da98e8]
0073e0bd : PUSH EAX
0073e0be : PUSH 0xc07308
0073e0c3 : CALL 0x008018d0
0073e0c8 : ADD ESP,0x8
0073e0cb : MOV ECX,dword ptr [EBP + 0x8]
0073e0ce : MOV EDX,dword ptr [ECX + 0x148]
0073e0d4 : MOV ESI,dword ptr [0x01725204]
0073e0da : PUSH EDX
0073e0db : CALL 0x007bfcc0
0073e0e0 : MOV dword ptr [EDI + 0x14],EAX
0073e0e3 : TEST EAX,EAX
0073e0e5 : JZ 0x0073dfad
0073e0eb : MOV EAX,dword ptr [EBP + 0xc]
0073e0ee : CALL 0x0073ba80
0073e0f3 : MOV EAX,dword ptr [EDI + 0x14]
0073e0f6 : MOV EDI,dword ptr [EAX + 0x1c]
0073e0f9 : MOV ECX,dword ptr [EDI]
0073e0fb : MOV EDX,dword ptr [ECX + 0xe8]
0073e101 : PUSH 0xc07388
0073e106 : PUSH EDI
0073e107 : CALL EDX
0073e109 : MOV [0x00da9b18],EAX
0073e10e : TEST EAX,EAX
0073e110 : JGE 0x0073e126
0073e112 : MOV ESI,dword ptr [0x00da98e8]
0073e118 : PUSH EAX
0073e119 : PUSH 0xc07390
0073e11e : CALL 0x008018d0
0073e123 : ADD ESP,0x8
0073e126 : MOV EAX,dword ptr [EDI]
0073e128 : MOV ECX,dword ptr [EAX + 0xfc]
0073e12e : PUSH 0x0
0073e130 : PUSH 0x0
0073e132 : PUSH EDI
0073e133 : CALL ECX
0073e135 : MOV [0x00da9b18],EAX
0073e13a : TEST EAX,EAX
0073e13c : JGE 0x0073e152
0073e13e : MOV ESI,dword ptr [0x00da98e8]
0073e144 : PUSH EAX
0073e145 : PUSH 0xc07450
0073e14a : CALL 0x008018d0
0073e14f : ADD ESP,0x8
0073e152 : MOV EDX,dword ptr [0x017251ac]
0073e158 : CMP dword ptr [EDX + 0x168],0x3
0073e15f : MOV ECX,dword ptr [EDI]
0073e161 : MOV EDX,dword ptr [ECX + 0x100]
0073e167 : SBB EAX,EAX
0073e169 : AND EAX,0x3
0073e16c : ADD EAX,0x2
0073e16f : PUSH EAX
0073e170 : PUSH EDI
0073e171 : CALL EDX
0073e173 : MOV [0x00da9b18],EAX
0073e178 : TEST EAX,EAX
0073e17a : JGE 0x0073e1fb
0073e17c : PUSH EAX
0073e17d : PUSH 0xc074d8
0073e182 : JMP 0x0073e1ed
0073e184 : MOV EDX,dword ptr [EDI + 0xd4]
0073e18a : CMP EDX,dword ptr [ECX + 0x14c]
0073e190 : JZ 0x0073e1fb
0073e192 : MOV EDI,dword ptr [EAX + 0x1c]
0073e195 : MOV EAX,dword ptr [EDI]
0073e197 : MOV ECX,dword ptr [EAX + 0x108]
0073e19d : PUSH EDI
0073e19e : CALL ECX
0073e1a0 : MOV [0x00da9b18],EAX
0073e1a5 : TEST EAX,EAX
0073e1a7 : JGE 0x0073e1bd
0073e1a9 : MOV ESI,dword ptr [0x00da98e8]
0073e1af : PUSH EAX
0073e1b0 : PUSH 0xc07568
0073e1b5 : CALL 0x008018d0
0073e1ba : ADD ESP,0x8
0073e1bd : MOV EDX,dword ptr [0x017251ac]
0073e1c3 : CMP dword ptr [EDX + 0x168],0x3
0073e1ca : MOV ECX,dword ptr [EDI]
0073e1cc : MOV EDX,dword ptr [ECX + 0x100]
0073e1d2 : SBB EAX,EAX
0073e1d4 : AND EAX,0x3
0073e1d7 : ADD EAX,0x2
0073e1da : PUSH EAX
0073e1db : PUSH EDI
0073e1dc : CALL EDX
0073e1de : MOV [0x00da9b18],EAX
0073e1e3 : TEST EAX,EAX
0073e1e5 : JGE 0x0073e1fb
0073e1e7 : PUSH EAX
0073e1e8 : PUSH 0xc075f8
0073e1ed : MOV ESI,dword ptr [0x00da98e8]
0073e1f3 : CALL 0x008018d0
0073e1f8 : ADD ESP,0x8
0073e1fb : POP EDI
0073e1fc : POP ESI
0073e1fd : MOV AL,0x1
0073e1ff : POP EBX
0073e200 : MOV ESP,EBP
0073e202 : POP EBP
0073e203 : RET 0xc
