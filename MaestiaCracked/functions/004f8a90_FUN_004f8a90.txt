PROGRAM  : Maestia.exe
FUNCTION : FUN_004f8a90
ENTRY    : 004f8a90
BODY     : [[004f8a90, 004f8b8c]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_004f8a90(int param_1)

{
  int iVar1;
  char cVar2;
  char *pcVar3;
  char *pcVar4;
  int iVar5;
  char *pcVar6;
  int iVar7;
  int iVar8;
  int local_4;
  
  iVar1 = DAT_01720ef8;
  local_4 = 0;
  iVar7 = 0;
  if (*(int *)(DAT_01720ef8 + 4) != 0) {
    pcVar3 = (char *)(param_1 + 8);
    iVar8 = *(int *)(DAT_01720ef8 + 4);
    do {
      iVar5 = iVar8;
      iVar7 = *(int *)(DAT_01720ef8 + 0x10) + iVar5;
      cVar2 = *pcVar3;
      if (cVar2 == *(char *)(iVar7 + 8)) {
        pcVar4 = pcVar3;
        do {
          if (cVar2 == '\0') {
            iVar7 = local_4;
            if (iVar5 == 0) goto LAB_004f8b1f;
            goto LAB_004f8b68;
          }
          cVar2 = pcVar4[1];
          pcVar4 = pcVar4 + 1;
        } while (cVar2 == pcVar4[(iVar7 + 8) - (int)pcVar3]);
      }
      cVar2 = *pcVar3;
      pcVar4 = (char *)(iVar7 + 8);
      pcVar6 = pcVar3;
      if (cVar2 == *pcVar4) {
        do {
          if (cVar2 == '\0') goto LAB_004f8b07;
          cVar2 = pcVar6[1];
          pcVar6 = pcVar6 + 1;
          pcVar4 = pcVar4 + 1;
        } while (cVar2 == *pcVar4);
      }
      if (*pcVar6 < *pcVar4) {
        iVar8 = *(int *)(iVar7 + 0x110);
      }
      else {
LAB_004f8b07:
        iVar8 = *(int *)(iVar7 + 0x114);
      }
      iVar7 = iVar5;
      local_4 = iVar5;
    } while (iVar8 != 0);
  }
LAB_004f8b1f:
  iVar5 = FUN_004f9750(param_1,iVar7);
  if (iVar7 == 0) {
    *(int *)(iVar1 + 4) = iVar5;
  }
  else {
    iVar7 = *(int *)(iVar1 + 0x10) + iVar7;
    cVar2 = FUN_00468c70();
    if (cVar2 == '\0') {
      *(int *)(iVar7 + 0x114) = iVar5;
    }
    else {
      *(int *)(iVar7 + 0x110) = iVar5;
    }
  }
  FUN_004f92f0();
  *(int *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1;
  if (iVar5 == 0) {
    return 0x108;
  }
LAB_004f8b68:
  return *(int *)(iVar1 + 0x10) + iVar5 + 0x108;
}



============================================================
DISASSEMBLY
============================================================
004f8a90 : SUB ESP,0x8
004f8a93 : PUSH EBX
004f8a94 : PUSH EBP
004f8a95 : PUSH ESI
004f8a96 : PUSH EDI
004f8a97 : MOV EDI,dword ptr [0x01720ef8]
004f8a9d : MOV ESI,dword ptr [EDI + 0x4]
004f8aa0 : XOR EBP,EBP
004f8aa2 : MOV dword ptr [ESP + 0x14],EBP
004f8aa6 : TEST ESI,ESI
004f8aa8 : JZ 0x004f8b1f
004f8aaa : MOV EAX,dword ptr [ESP + 0x1c]
004f8aae : ADD EAX,0x8
004f8ab1 : MOV dword ptr [ESP + 0x10],EAX
004f8ab5 : MOV ECX,dword ptr [EDI + 0x10]
004f8ab8 : LEA EBX,[ECX + ESI*0x1]
004f8abb : MOV CL,byte ptr [EAX]
004f8abd : CMP CL,byte ptr [EBX + 0x8]
004f8ac0 : LEA EDX,[EBX + 0x8]
004f8ac3 : JNZ 0x004f8ad4
004f8ac5 : SUB EDX,EAX
004f8ac7 : TEST CL,CL
004f8ac9 : JZ 0x004f8b17
004f8acb : MOV CL,byte ptr [EAX + 0x1]
004f8ace : INC EAX
004f8acf : CMP CL,byte ptr [EDX + EAX*0x1]
004f8ad2 : JZ 0x004f8ac7
004f8ad4 : MOV ECX,dword ptr [ESP + 0x10]
004f8ad8 : MOV AL,byte ptr [ECX]
004f8ada : LEA EDX,[EBX + 0x8]
004f8add : MOV EBP,ESI
004f8adf : MOV dword ptr [ESP + 0x14],EBP
004f8ae3 : CMP AL,byte ptr [EDX]
004f8ae5 : JNZ 0x004f8af4
004f8ae7 : TEST AL,AL
004f8ae9 : JZ 0x004f8b07
004f8aeb : MOV AL,byte ptr [ECX + 0x1]
004f8aee : INC ECX
004f8aef : INC EDX
004f8af0 : CMP AL,byte ptr [EDX]
004f8af2 : JZ 0x004f8ae7
004f8af4 : MOV AL,byte ptr [ECX]
004f8af6 : CMP AL,byte ptr [EDX]
004f8af8 : SETL AL
004f8afb : TEST AL,AL
004f8afd : JZ 0x004f8b07
004f8aff : MOV ESI,dword ptr [EBX + 0x110]
004f8b05 : JMP 0x004f8b0d
004f8b07 : MOV ESI,dword ptr [EBX + 0x114]
004f8b0d : TEST ESI,ESI
004f8b0f : JZ 0x004f8b1f
004f8b11 : MOV EAX,dword ptr [ESP + 0x10]
004f8b15 : JMP 0x004f8ab5
004f8b17 : TEST ESI,ESI
004f8b19 : JNZ 0x004f8b68
004f8b1b : MOV EBP,dword ptr [ESP + 0x14]
004f8b1f : MOV ECX,dword ptr [ESP + 0x1c]
004f8b23 : PUSH EBP
004f8b24 : PUSH ECX
004f8b25 : CALL 0x004f9750
004f8b2a : MOV ESI,EAX
004f8b2c : TEST EBP,EBP
004f8b2e : JNZ 0x004f8b35
004f8b30 : MOV dword ptr [EDI + 0x4],ESI
004f8b33 : JMP 0x004f8b58
004f8b35 : MOV EDX,dword ptr [EDI + 0x10]
004f8b38 : MOV ECX,dword ptr [ESP + 0x1c]
004f8b3c : LEA EBX,[EDX + EBP*0x1]
004f8b3f : MOV EDX,EBX
004f8b41 : CALL 0x00468c70
004f8b46 : TEST AL,AL
004f8b48 : JZ 0x004f8b52
004f8b4a : MOV dword ptr [EBX + 0x110],ESI
004f8b50 : JMP 0x004f8b58
004f8b52 : MOV dword ptr [EBX + 0x114],ESI
004f8b58 : MOV EAX,EBP
004f8b5a : MOV EDX,EDI
004f8b5c : CALL 0x004f92f0
004f8b61 : INC dword ptr [EDI + 0x8]
004f8b64 : TEST ESI,ESI
004f8b66 : JZ 0x004f8b7c
004f8b68 : MOV EAX,dword ptr [EDI + 0x10]
004f8b6b : POP EDI
004f8b6c : ADD EAX,ESI
004f8b6e : POP ESI
004f8b6f : POP EBP
004f8b70 : ADD EAX,0x108
004f8b75 : POP EBX
004f8b76 : ADD ESP,0x8
004f8b79 : RET 0x4
004f8b7c : POP EDI
004f8b7d : POP ESI
004f8b7e : POP EBP
004f8b7f : XOR EAX,EAX
004f8b81 : MOV EAX,0x108
004f8b86 : POP EBX
004f8b87 : ADD ESP,0x8
004f8b8a : RET 0x4
