PROGRAM  : Maestia.exe
FUNCTION : FUN_0052f880
ENTRY    : 0052f880
BODY     : [[0052f880, 0052faae]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0052f880(void)

{
  undefined1 uVar1;
  int iVar2;
  int *in_ECX;
  int iVar3;
  uint *puVar4;
  float10 fVar5;
  int local_20;
  undefined1 local_1c;
  char local_1b;
  float local_18;
  float local_14;
  float local_10;
  float local_c;
  undefined4 local_8;
  undefined4 local_4;
  
  local_14 = 0.0;
  local_18 = 0.0;
  local_c = 0.0;
  local_20 = 0;
  local_10 = 0.0;
  local_1c = 0;
  local_4 = 0;
  local_1b = 0;
  local_8 = 0;
  uVar1 = FUN_00526120(*in_ECX);
  local_20 = FUN_0052e780(*(undefined4 *)(*in_ECX + 8));
  local_1b = FUN_00526120(*in_ECX);
  if (local_1b != '\0') {
    fVar5 = (float10)FUN_00527730(*in_ECX);
    local_18 = (float)fVar5 * 20.0;
    fVar5 = (float10)FUN_00527730(*in_ECX);
    local_14 = (float)fVar5 * 20.0;
    fVar5 = (float10)FUN_00527730(*in_ECX);
    local_10 = (float)fVar5 * 20.0;
    fVar5 = (float10)FUN_00527730(*in_ECX);
    iVar2 = *in_ECX;
    local_c = (float)fVar5 * 20.0;
    iVar3 = 4;
    puVar4 = (uint *)(iVar2 + 8);
    do {
      FUN_00526bc0();
      *puVar4 = *puVar4 - 0x10;
      if (*puVar4 < *(uint *)(iVar2 + 0xc)) {
        FUN_00504f30();
      }
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
  }
  if (local_20 != 0) {
    FUN_0056c640(uVar1);
    iVar2 = (**(code **)(**(int **)(*in_ECX + 0x74) + 0x40))();
    if (iVar2 != 0) {
      FUN_0052b1b0(&local_20);
    }
  }
  FUN_0052f560();
  return;
}



============================================================
DISASSEMBLY
============================================================
0052f880 : SUB ESP,0x28
0052f883 : FLDZ
0052f885 : PUSH EDI
0052f886 : FST float ptr [ESP + 0x18]
0052f88a : MOV EDI,ECX
0052f88c : MOV EAX,dword ptr [EDI]
0052f88e : FST float ptr [ESP + 0x14]
0052f892 : FST float ptr [ESP + 0x20]
0052f896 : MOV dword ptr [ESP + 0xc],0x0
0052f89e : FST float ptr [ESP + 0x1c]
0052f8a2 : MOV byte ptr [ESP + 0x10],0x0
0052f8a7 : FST float ptr [ESP + 0x28]
0052f8ab : MOV byte ptr [ESP + 0x11],0x0
0052f8b0 : FSTP float ptr [ESP + 0x24]
0052f8b4 : MOV ECX,dword ptr [EAX + 0x8]
0052f8b7 : CMP ECX,dword ptr [EAX + 0xc]
0052f8ba : JBE 0x0052f8c1
0052f8bc : ADD ECX,-0x10
0052f8bf : JMP 0x0052f8c4
0052f8c1 : MOV ECX,dword ptr [EAX + 0x14]
0052f8c4 : PUSH ESI
0052f8c5 : PUSH EAX
0052f8c6 : CALL 0x00526120
0052f8cb : MOV ECX,dword ptr [EDI]
0052f8cd : MOV byte ptr [ESP + 0xc],AL
0052f8d1 : MOV EAX,dword ptr [ECX + 0x8]
0052f8d4 : PUSH EAX
0052f8d5 : CALL 0x0052e780
0052f8da : MOV EDX,dword ptr [EDI]
0052f8dc : MOV dword ptr [ESP + 0x10],EAX
0052f8e0 : MOV EAX,dword ptr [EDX + 0x8]
0052f8e3 : SUB EAX,dword ptr [EDX + 0xc]
0052f8e6 : MOV ESI,dword ptr [EDX + 0x1c]
0052f8e9 : DEC ESI
0052f8ea : SAR EAX,0x4
0052f8ed : SHL ESI,0x5
0052f8f0 : ADD EAX,ESI
0052f8f2 : XOR ECX,ECX
0052f8f4 : CMP EAX,0x2
0052f8f7 : JC 0x0052f90f
0052f8f9 : MOV ESI,dword ptr [EDX + 0x18]
0052f8fc : ADD EAX,-0x2
0052f8ff : MOV ECX,EAX
0052f901 : AND EAX,0x1f
0052f904 : SHR ECX,0x5
0052f907 : SHL EAX,0x4
0052f90a : ADD EAX,dword ptr [ESI + ECX*0x4]
0052f90d : MOV ECX,EAX
0052f90f : PUSH EDX
0052f910 : CALL 0x00526120
0052f915 : MOV byte ptr [ESP + 0x15],AL
0052f919 : TEST AL,AL
0052f91b : JZ 0x0052fa6e
0052f921 : MOV EDX,dword ptr [EDI]
0052f923 : MOV EAX,dword ptr [EDX + 0x8]
0052f926 : SUB EAX,dword ptr [EDX + 0xc]
0052f929 : MOV ESI,dword ptr [EDX + 0x1c]
0052f92c : DEC ESI
0052f92d : SAR EAX,0x4
0052f930 : SHL ESI,0x5
0052f933 : ADD EAX,ESI
0052f935 : XOR ECX,ECX
0052f937 : CMP EAX,0x6
0052f93a : JC 0x0052f952
0052f93c : MOV ESI,dword ptr [EDX + 0x18]
0052f93f : ADD EAX,-0x6
0052f942 : MOV ECX,EAX
0052f944 : AND EAX,0x1f
0052f947 : SHR ECX,0x5
0052f94a : SHL EAX,0x4
0052f94d : ADD EAX,dword ptr [ESI + ECX*0x4]
0052f950 : MOV ECX,EAX
0052f952 : PUSH EDX
0052f953 : CALL 0x00527730
0052f958 : FSTP float ptr [ESP + 0x8]
0052f95c : FLD float ptr [ESP + 0x8]
0052f960 : MOV EDX,dword ptr [EDI]
0052f962 : FMUL double ptr [0x00b86058]
0052f968 : XOR ECX,ECX
0052f96a : FSTP float ptr [ESP + 0x18]
0052f96e : MOV EAX,dword ptr [EDX + 0x8]
0052f971 : SUB EAX,dword ptr [EDX + 0xc]
0052f974 : MOV ESI,dword ptr [EDX + 0x1c]
0052f977 : DEC ESI
0052f978 : SAR EAX,0x4
0052f97b : SHL ESI,0x5
0052f97e : ADD EAX,ESI
0052f980 : CMP EAX,0x5
0052f983 : JC 0x0052f99b
0052f985 : MOV ESI,dword ptr [EDX + 0x18]
0052f988 : ADD EAX,-0x5
0052f98b : MOV ECX,EAX
0052f98d : AND EAX,0x1f
0052f990 : SHR ECX,0x5
0052f993 : SHL EAX,0x4
0052f996 : ADD EAX,dword ptr [ESI + ECX*0x4]
0052f999 : MOV ECX,EAX
0052f99b : PUSH EDX
0052f99c : CALL 0x00527730
0052f9a1 : FSTP float ptr [ESP + 0x8]
0052f9a5 : FLD float ptr [ESP + 0x8]
0052f9a9 : MOV EDX,dword ptr [EDI]
0052f9ab : FMUL double ptr [0x00b86058]
0052f9b1 : XOR ECX,ECX
0052f9b3 : FSTP float ptr [ESP + 0x1c]
0052f9b7 : MOV EAX,dword ptr [EDX + 0x8]
0052f9ba : SUB EAX,dword ptr [EDX + 0xc]
0052f9bd : MOV ESI,dword ptr [EDX + 0x1c]
0052f9c0 : DEC ESI
0052f9c1 : SAR EAX,0x4
0052f9c4 : SHL ESI,0x5
0052f9c7 : ADD EAX,ESI
0052f9c9 : CMP EAX,0x4
0052f9cc : JC 0x0052f9e4
0052f9ce : MOV ESI,dword ptr [EDX + 0x18]
0052f9d1 : ADD EAX,-0x4
0052f9d4 : MOV ECX,EAX
0052f9d6 : AND EAX,0x1f
0052f9d9 : SHR ECX,0x5
0052f9dc : SHL EAX,0x4
0052f9df : ADD EAX,dword ptr [ESI + ECX*0x4]
0052f9e2 : MOV ECX,EAX
0052f9e4 : PUSH EDX
0052f9e5 : CALL 0x00527730
0052f9ea : FSTP float ptr [ESP + 0x8]
0052f9ee : FLD float ptr [ESP + 0x8]
0052f9f2 : MOV EDX,dword ptr [EDI]
0052f9f4 : FMUL double ptr [0x00b86058]
0052f9fa : XOR ECX,ECX
0052f9fc : FSTP float ptr [ESP + 0x20]
0052fa00 : MOV EAX,dword ptr [EDX + 0x8]
0052fa03 : SUB EAX,dword ptr [EDX + 0xc]
0052fa06 : MOV ESI,dword ptr [EDX + 0x1c]
0052fa09 : DEC ESI
0052fa0a : SAR EAX,0x4
0052fa0d : SHL ESI,0x5
0052fa10 : ADD EAX,ESI
0052fa12 : CMP EAX,0x3
0052fa15 : JC 0x0052fa2d
0052fa17 : MOV ESI,dword ptr [EDX + 0x18]
0052fa1a : ADD EAX,-0x3
0052fa1d : MOV ECX,EAX
0052fa1f : AND EAX,0x1f
0052fa22 : SHR ECX,0x5
0052fa25 : SHL EAX,0x4
0052fa28 : ADD EAX,dword ptr [ESI + ECX*0x4]
0052fa2b : MOV ECX,EAX
0052fa2d : PUSH EBP
0052fa2e : PUSH EDX
0052fa2f : CALL 0x00527730
0052fa34 : FSTP float ptr [ESP + 0xc]
0052fa38 : FLD float ptr [ESP + 0xc]
0052fa3c : MOV ESI,dword ptr [EDI]
0052fa3e : FMUL double ptr [0x00b86058]
0052fa44 : MOV EBP,0x4
0052fa49 : ADD ESI,0x8
0052fa4c : FSTP float ptr [ESP + 0x28]
0052fa50 : MOV ECX,dword ptr [ESI]
0052fa52 : CALL 0x00526bc0
0052fa57 : ADD dword ptr [ESI],-0x10
0052fa5a : MOV EAX,dword ptr [ESI]
0052fa5c : CMP EAX,dword ptr [ESI + 0x4]
0052fa5f : JNC 0x0052fa68
0052fa61 : MOV ECX,ESI
0052fa63 : CALL 0x00504f30
0052fa68 : SUB EBP,0x1
0052fa6b : JNZ 0x0052fa50
0052fa6d : POP EBP
0052fa6e : CMP dword ptr [ESP + 0x10],0x0
0052fa73 : POP ESI
0052fa74 : JZ 0x0052faa0
0052fa76 : MOV EDX,dword ptr [ESP + 0x8]
0052fa7a : PUSH EDX
0052fa7b : LEA ECX,[ESP + 0x10]
0052fa7f : CALL 0x0056c640
0052fa84 : MOV EAX,dword ptr [EDI]
0052fa86 : MOV ECX,dword ptr [EAX + 0x74]
0052fa89 : MOV EDX,dword ptr [ECX]
0052fa8b : MOV EAX,dword ptr [EDX + 0x40]
0052fa8e : CALL EAX
0052fa90 : TEST EAX,EAX
0052fa92 : JZ 0x0052faa0
0052fa94 : LEA ECX,[ESP + 0xc]
0052fa98 : PUSH ECX
0052fa99 : MOV ECX,EAX
0052fa9b : CALL 0x0052b1b0
0052faa0 : MOV ECX,dword ptr [EDI]
0052faa2 : ADD ECX,0x8
0052faa5 : CALL 0x0052f560
0052faaa : POP EDI
0052faab : ADD ESP,0x28
0052faae : RET
