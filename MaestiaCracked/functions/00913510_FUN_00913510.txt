PROGRAM  : Maestia.exe
FUNCTION : FUN_00913510
ENTRY    : 00913510
BODY     : [[00913510, 00913715]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00913510(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  undefined2 uVar4;
  int iVar5;
  undefined4 uVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  
  iVar5 = DAT_017251ac;
  iVar2 = DAT_0172491c;
  fVar7 = (float)param_2 * 1440.0 * 0.01 + 800.0;
  fVar8 = fVar7 * DAT_00d72c24;
  if (fVar8 < 100.0) {
    fVar8 = 100.0;
  }
  *(float *)(DAT_017251ac + 0x3cc) = fVar7;
  *(float *)(*(int *)(*(int *)(iVar2 + 0x90) + 0xf0) + 0x1b8) = fVar7;
  if (((DAT_00da93ec != 0) && (*(int *)(DAT_00da93ec + 0xc) != 0)) &&
     (*(char *)(*(int *)(DAT_00da93ec + 0xc) + 0x2a94) == '\0')) {
    *(float *)(iVar5 + 0x214) = fVar8;
  }
  fVar9 = fVar8 + 1.0;
  if (fVar8 + 1.0 <= fVar7) {
    fVar9 = fVar7;
  }
  *(float *)(iVar5 + 0x218) = fVar9;
  if (((*(int *)(iVar5 + 0x1a4) != 0) &&
      (iVar1 = *(int *)(*(int *)(iVar5 + 0x1a4) + 0xf0), iVar1 != 0)) &&
     ((*(char *)(iVar1 + 0x2ab4) != '\0' && (fVar9 == 0.0)))) {
    *(undefined4 *)(iVar5 + 0x218) = 0x44bb8000;
  }
  uVar4 = 0;
  if (fVar7 < 1600.0) {
    if (fVar7 < 1280.0) {
      if (fVar7 < 960.0) {
        if (800.0 <= fVar7) {
          uVar4 = 0;
        }
      }
      else {
        uVar4 = 1;
      }
    }
    else {
      uVar4 = 2;
    }
  }
  else {
    uVar4 = 4;
  }
  *(undefined2 *)(param_1 + 0x6c) = uVar4;
  iVar2 = *(int *)(*(int *)(*(int *)(iVar2 + 0x90) + 0xf0) + 0x184);
  iVar5 = FUN_0081d3c0(uVar4);
  if (iVar2 != iVar5) {
    uVar6 = FUN_0081d3c0(uVar4);
    FUN_007e8910(uVar6);
  }
  iVar2 = *(int *)(*(int *)(DAT_0172491c + 0x90) + 0x104);
  if ((iVar2 != 0) && (*(char *)(iVar2 + 0xa9ba) != '\0')) {
    FUN_009133a0(param_1,*(undefined2 *)(param_1 + 0x50));
    FUN_00910560(param_1);
  }
  if ((DAT_00d7c550 != 0) && (piVar3 = *(int **)(DAT_00d7c550 + 0x38), piVar3 != (int *)0x0)) {
    (**(code **)(*piVar3 + 4))(piVar3,"mc_settingpage.SetObjectRange",&DAT_00c664f4,param_2);
    *(int *)(param_1 + 0x54) = param_2;
    return;
  }
  piVar3 = *(int **)(*DAT_00da9894 + 0x114);
  if (piVar3 != (int *)0x0) {
    (**(code **)(*piVar3 + 4))(piVar3,"mc_settingpage.SetObjectRange",&DAT_00c66518,param_2);
    *(int *)(param_1 + 0x54) = param_2;
    return;
  }
  *(int *)(param_1 + 0x54) = param_2;
  return;
}



============================================================
DISASSEMBLY
============================================================
00913510 : PUSH EBP
00913511 : MOV EBP,ESP
00913513 : PUSH ECX
00913514 : CVTSI2SS XMM0,dword ptr [EBP + 0xc]
00913519 : MULSS XMM0,dword ptr [0x00cdf86c]
00913521 : MULSS XMM0,dword ptr [0x00cdf23c]
00913529 : MOVSS XMM3,dword ptr [0x00cdf224]
00913531 : MOVSS XMM2,dword ptr [0x00cdf230]
00913539 : PUSH EBX
0091353a : MOV EBX,dword ptr [EBP + 0x8]
0091353d : ADDSS XMM0,XMM3
00913541 : MOVAPS XMM1,XMM0
00913544 : MULSS XMM1,dword ptr [0x00d72c24]
0091354c : COMISS XMM2,XMM1
0091354f : PUSH ESI
00913550 : PUSH EDI
00913551 : JBE 0x00913556
00913553 : MOVAPS XMM1,XMM2
00913556 : MOV ECX,dword ptr [0x017251ac]
0091355c : MOV EDX,dword ptr [0x0172491c]
00913562 : MOVSS dword ptr [ECX + 0x3cc],XMM0
0091356a : MOV EAX,dword ptr [EDX + 0x90]
00913570 : MOV EAX,dword ptr [EAX + 0xf0]
00913576 : MOVSS dword ptr [EAX + 0x1b8],XMM0
0091357e : MOV EAX,[0x00da93ec]
00913583 : TEST EAX,EAX
00913585 : JZ 0x0091359f
00913587 : MOV EAX,dword ptr [EAX + 0xc]
0091358a : TEST EAX,EAX
0091358c : JZ 0x0091359f
0091358e : CMP byte ptr [EAX + 0x2a94],0x0
00913595 : JNZ 0x0091359f
00913597 : MOVSS dword ptr [ECX + 0x214],XMM1
0091359f : ADDSS XMM1,dword ptr [0x00c10fc4]
009135a7 : COMISS XMM1,XMM0
009135aa : JA 0x009135af
009135ac : MOVAPS XMM1,XMM0
009135af : MOV EAX,dword ptr [ECX + 0x1a4]
009135b5 : MOVSS dword ptr [ECX + 0x218],XMM1
009135bd : TEST EAX,EAX
009135bf : JZ 0x009135f1
009135c1 : MOV EAX,dword ptr [EAX + 0xf0]
009135c7 : TEST EAX,EAX
009135c9 : JZ 0x009135f1
009135cb : CMP byte ptr [EAX + 0x2ab4],0x0
009135d2 : JZ 0x009135f1
009135d4 : UCOMISS XMM1,dword ptr [0x00b9b0b4]
009135db : LAHF
009135dc : TEST AH,0x44
009135df : JP 0x009135f1
009135e1 : MOVSS XMM1,dword ptr [0x00cdf158]
009135e9 : MOVSS dword ptr [ECX + 0x218],XMM1
009135f1 : XOR EAX,EAX
009135f3 : COMISS XMM0,dword ptr [0x00cdf5c4]
009135fa : JC 0x00913603
009135fc : MOV EAX,0x4
00913601 : JMP 0x0091362a
00913603 : COMISS XMM0,dword ptr [0x00cdf5b4]
0091360a : JC 0x00913613
0091360c : MOV EAX,0x2
00913611 : JMP 0x0091362a
00913613 : COMISS XMM0,dword ptr [0x00cdf204]
0091361a : JC 0x00913623
0091361c : MOV EAX,0x1
00913621 : JMP 0x0091362a
00913623 : COMISS XMM0,XMM3
00913626 : JC 0x0091362a
00913628 : XOR EAX,EAX
0091362a : MOV word ptr [EBX + 0x6c],AX
0091362e : MOV ECX,dword ptr [EDX + 0x90]
00913634 : MOV EDX,dword ptr [ECX + 0xf0]
0091363a : MOV EDI,dword ptr [EDX + 0x184]
00913640 : MOVZX ESI,AX
00913643 : PUSH ESI
00913644 : CALL 0x0081d3c0
00913649 : CMP EDI,EAX
0091364b : JZ 0x0091366a
0091364d : MOV EAX,[0x0172491c]
00913652 : MOV ECX,dword ptr [EAX + 0x90]
00913658 : MOV EDI,dword ptr [ECX + 0xf0]
0091365e : PUSH ESI
0091365f : CALL 0x0081d3c0
00913664 : PUSH EAX
00913665 : CALL 0x007e8910
0091366a : MOV EDX,dword ptr [0x0172491c]
00913670 : MOV EAX,dword ptr [EDX + 0x90]
00913676 : MOV EAX,dword ptr [EAX + 0x104]
0091367c : TEST EAX,EAX
0091367e : JZ 0x0091369e
00913680 : CMP byte ptr [EAX + 0xa9ba],0x0
00913687 : JZ 0x0091369e
00913689 : MOVZX ECX,word ptr [EBX + 0x50]
0091368d : PUSH ECX
0091368e : PUSH EBX
0091368f : CALL 0x009133a0
00913694 : MOV SI,word ptr [EBX + 0x52]
00913698 : PUSH EBX
00913699 : CALL 0x00910560
0091369e : MOV EAX,[0x00d7c550]
009136a3 : TEST EAX,EAX
009136a5 : JZ 0x009136d2
009136a7 : MOV EAX,dword ptr [EAX + 0x38]
009136aa : TEST EAX,EAX
009136ac : JZ 0x009136d2
009136ae : MOV ESI,dword ptr [EBP + 0xc]
009136b1 : MOV EDX,dword ptr [EAX]
009136b3 : PUSH ESI
009136b4 : PUSH 0xc664f4
009136b9 : PUSH 0xc664f8
009136be : PUSH EAX
009136bf : MOV EAX,dword ptr [EDX + 0x4]
009136c2 : CALL EAX
009136c4 : ADD ESP,0x10
009136c7 : MOV dword ptr [EBX + 0x54],ESI
009136ca : POP EDI
009136cb : POP ESI
009136cc : POP EBX
009136cd : POP ECX
009136ce : POP EBP
009136cf : RET 0x8
009136d2 : MOV ECX,dword ptr [0x00da9894]
009136d8 : MOV EDX,dword ptr [ECX]
009136da : MOV EAX,dword ptr [EDX + 0x114]
009136e0 : TEST EAX,EAX
009136e2 : JZ 0x00913708
009136e4 : MOV ESI,dword ptr [EBP + 0xc]
009136e7 : MOV ECX,dword ptr [EAX]
009136e9 : MOV EDX,dword ptr [ECX + 0x4]
009136ec : PUSH ESI
009136ed : PUSH 0xc66518
009136f2 : PUSH 0xc6651c
009136f7 : PUSH EAX
009136f8 : CALL EDX
009136fa : ADD ESP,0x10
009136fd : MOV dword ptr [EBX + 0x54],ESI
00913700 : POP EDI
00913701 : POP ESI
00913702 : POP EBX
00913703 : POP ECX
00913704 : POP EBP
00913705 : RET 0x8
00913708 : MOV EAX,dword ptr [EBP + 0xc]
0091370b : POP EDI
0091370c : POP ESI
0091370d : MOV dword ptr [EBX + 0x54],EAX
00913710 : POP EBX
00913711 : POP ECX
00913712 : POP EBP
00913713 : RET 0x8
