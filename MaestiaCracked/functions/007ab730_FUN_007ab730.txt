PROGRAM  : Maestia.exe
FUNCTION : FUN_007ab730
ENTRY    : 007ab730
BODY     : [[007ab730, 007abab5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007ab730(uint param_1)

{
  int *piVar1;
  undefined2 uVar2;
  int *piVar3;
  int iVar4;
  undefined4 uVar5;
  char cVar6;
  uint uVar7;
  undefined4 *puVar8;
  int iVar9;
  uint uVar10;
  bool bVar11;
  float fVar12;
  uint uVar13;
  undefined4 local_54;
  float local_50;
  undefined4 local_4c;
  undefined4 local_48;
  float local_44;
  undefined4 local_40;
  undefined4 local_3c;
  float local_38;
  undefined4 local_34;
  undefined4 local_30;
  float local_2c;
  undefined4 local_28;
  ushort local_24;
  char cStack_22;
  undefined1 uStack_21;
  char local_20;
  undefined1 uStack_1f;
  undefined1 uStack_1e;
  undefined1 uStack_1d;
  uint local_1c;
  byte *local_18;
  int local_14;
  int local_10;
  uint local_c;
  uint local_8;
  
  uVar7 = param_1;
  if (*(char *)(DAT_017251ac + 4) != '\0') {
    piVar3 = *(int **)(DAT_017251ac + 0x18);
    piVar1 = (int *)(param_1 + 0x2d0);
    param_1 = param_1 & 0xffffff00;
    local_54 = 0;
    local_50 = 0.0;
    local_4c = 0;
    local_48 = 0;
    local_44 = 0.0;
    local_40 = 0;
    local_3c = 0;
    local_38 = 0.0;
    local_34 = 0;
    local_30 = 0;
    local_2c = 0.0;
    local_28 = 0;
    local_1c = 0;
    if (*piVar1 != 1) {
      do {
        local_8 = 0;
        uVar10 = local_1c;
        if (*(int *)(uVar7 + 0x2cc) != 1) {
          do {
            uVar13 = *(uint *)(*(int *)(uVar7 + 0x280) + 0x58);
            if ((((uVar10 < uVar13) && (local_8 < uVar13)) && (*(int *)(uVar7 + 0x380) != 0)) &&
               ((local_18 = (byte *)(*(int *)(uVar7 + 0x380) + (uVar13 * uVar10 + local_8) * 0x14),
                local_18 != (byte *)0x0 && (local_10 = 0, *local_18 != 0)))) {
              local_14 = 0;
              do {
                iVar9 = *(int *)(uVar7 + 0x278);
                if ((*(char *)(iVar9 + 0x2ab0) == '\0') || (local_10 != 0)) {
                  if (*(char *)(iVar9 + 0x2ab8) == -1) {
                    iVar4 = *(int *)(iVar9 + 0x2abc);
                  }
                  else {
                    if ((char)param_1 != *(char *)(iVar9 + 0x2ab8)) goto LAB_007aba6e;
                    iVar4 = *(int *)(iVar9 + 0x2abc);
                  }
                  if ((iVar4 == -1) || (iVar4 == local_10)) {
                    puVar8 = (undefined4 *)(*(int *)(local_18 + 8) + local_14);
                    uVar5 = *puVar8;
                    local_24 = (ushort)uVar5;
                    cStack_22 = (char)((uint)uVar5 >> 0x10);
                    uStack_21 = (undefined1)((uint)uVar5 >> 0x18);
                    uVar2 = *(undefined2 *)(puVar8 + 1);
                    uStack_1e = *(undefined1 *)((int)puVar8 + 6);
                    local_20 = (char)uVar2;
                    uStack_1f = (undefined1)((ushort)uVar2 >> 8);
                    if (*(char *)(iVar9 + 0x2aab) == '\0') {
                      if (*(char *)(iVar9 + 0x2aad) == '\0') {
                        if (*(char *)(iVar9 + 0x2aac) != '\0') {
                          iVar9 = 0;
                          do {
                            if (*(char *)(*(int *)(uVar7 + 900) +
                                          (*(int *)(*(int *)(uVar7 + 0x280) + 0x58) * uVar10 +
                                          local_8) * 8 + iVar9) == '\x01') {
                              param_1 = CONCAT31(param_1._1_3_,1);
                              break;
                            }
                            iVar9 = iVar9 + 1;
                          } while (iVar9 < 8);
                          FUN_007aacf0(uVar10,param_1,&local_c);
                          bVar11 = (char)param_1 != '\x01';
                          param_1 = param_1 & 0xffffff00;
                          local_c = bVar11 - 1 & 0x4000ff00;
                          goto LAB_007ab95c;
                        }
                        uVar13 = CONCAT13(uStack_1f,CONCAT12(local_20,(short)((uint)uVar5 >> 0x10)))
                        ;
                        cVar6 = cStack_22;
                      }
                      else {
                        uVar13 = CONCAT13(uStack_1d,*(undefined3 *)(puVar8 + 1));
                        cVar6 = local_20;
                      }
                      param_1 = CONCAT31(param_1._1_3_,cVar6);
LAB_007ab951:
                      FUN_007aacf0(uVar10,uVar13,&local_c);
                    }
                    else {
                      if (cStack_22 != '\x01') {
                        param_1 = CONCAT31(param_1._1_3_,cStack_22);
                        uVar13 = param_1;
                        goto LAB_007ab951;
                      }
                      param_1 = CONCAT31(param_1._1_3_,uStack_21);
                      FUN_007aab90(uVar10,CONCAT13(uStack_1e,
                                                   CONCAT12(uStack_1f,CONCAT11(local_20,uStack_21)))
                                   ,&local_c);
                    }
LAB_007ab95c:
                    fVar12 = (float)(int)(local_24 - 0x7fff);
                    if (0 < local_10) {
                      local_2c = fVar12;
                      local_38 = fVar12;
                      local_44 = fVar12;
                      local_50 = fVar12;
                    }
                    fVar12 = (float)*(int *)(*(int *)(uVar7 + 0x278) + 0x2c48);
                    local_50 = fVar12 + local_50;
                    local_44 = local_44 + fVar12;
                    local_38 = local_38 + fVar12;
                    local_2c = local_2c + fVar12;
                    (**(code **)(*piVar3 + 0x10c))(piVar3,0,4,2);
                    (**(code **)(*piVar3 + 0x10c))(piVar3,0,5,3);
                    (**(code **)(*piVar3 + 0x10c))(piVar3,0,1,2);
                    (**(code **)(*piVar3 + 0x10c))(piVar3,0,2,3);
                    (**(code **)(*piVar3 + 0xe4))(piVar3,0x3c,local_c);
                    (**(code **)(*piVar3 + 0x104))(piVar3,0,0);
                    (**(code **)(*piVar3 + 0x104))(piVar3,1,0);
                    (**(code **)(*piVar3 + 0x164))(piVar3,2);
                    (**(code **)(*piVar3 + 0x14c))(piVar3,6,2,&local_54,0xc);
                    uVar10 = local_1c;
                  }
                }
LAB_007aba6e:
                local_14 = local_14 + 7;
                local_10 = local_10 + 1;
              } while (local_10 < (int)(uint)*local_18);
            }
            local_8 = local_8 + 1;
          } while (local_8 < *(int *)(uVar7 + 0x2cc) - 1U);
        }
        local_1c = uVar10 + 1;
      } while (local_1c < *(int *)(uVar7 + 0x2d0) - 1U);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007ab730 : PUSH EBP
007ab731 : MOV EBP,ESP
007ab733 : MOV EAX,[0x017251ac]
007ab738 : SUB ESP,0x50
007ab73b : CMP byte ptr [EAX + 0x4],0x0
007ab73f : PUSH EBX
007ab740 : MOV EBX,dword ptr [EBP + 0x8]
007ab743 : JZ 0x007abaaf
007ab749 : XORPS XMM0,XMM0
007ab74c : PUSH ESI
007ab74d : MOV ESI,dword ptr [EAX + 0x18]
007ab750 : MOV EAX,dword ptr [EBX + 0x2d0]
007ab756 : XOR ECX,ECX
007ab758 : SUB EAX,0x1
007ab75b : MOV byte ptr [EBP + 0x8],0x0
007ab75f : MOVSS dword ptr [EBP + -0x50],XMM0
007ab764 : MOVSS dword ptr [EBP + -0x4c],XMM0
007ab769 : MOVSS dword ptr [EBP + -0x48],XMM0
007ab76e : MOVSS dword ptr [EBP + -0x44],XMM0
007ab773 : MOVSS dword ptr [EBP + -0x40],XMM0
007ab778 : MOVSS dword ptr [EBP + -0x3c],XMM0
007ab77d : MOVSS dword ptr [EBP + -0x38],XMM0
007ab782 : MOVSS dword ptr [EBP + -0x34],XMM0
007ab787 : MOVSS dword ptr [EBP + -0x30],XMM0
007ab78c : MOVSS dword ptr [EBP + -0x2c],XMM0
007ab791 : MOVSS dword ptr [EBP + -0x28],XMM0
007ab796 : MOVSS dword ptr [EBP + -0x24],XMM0
007ab79b : MOV dword ptr [EBP + -0x18],ECX
007ab79e : JZ 0x007abaae
007ab7a4 : PUSH EDI
007ab7a5 : MOV EDX,dword ptr [EBX + 0x2cc]
007ab7ab : XOR EDI,EDI
007ab7ad : SUB EDX,0x1
007ab7b0 : MOV dword ptr [EBP + -0x4],EDI
007ab7b3 : JZ 0x007aba9a
007ab7b9 : LEA ESP,[ESP]
007ab7c0 : MOV EAX,dword ptr [EBX + 0x280]
007ab7c6 : MOV EAX,dword ptr [EAX + 0x58]
007ab7c9 : CMP ECX,EAX
007ab7cb : JNC 0x007aba87
007ab7d1 : CMP EDI,EAX
007ab7d3 : JNC 0x007aba87
007ab7d9 : MOV EDX,dword ptr [EBX + 0x380]
007ab7df : TEST EDX,EDX
007ab7e1 : JZ 0x007aba87
007ab7e7 : IMUL EAX,ECX
007ab7ea : ADD EAX,EDI
007ab7ec : LEA EAX,[EAX + EAX*0x4]
007ab7ef : LEA EAX,[EDX + EAX*0x4]
007ab7f2 : MOV dword ptr [EBP + -0x14],EAX
007ab7f5 : TEST EAX,EAX
007ab7f7 : JZ 0x007aba87
007ab7fd : XOR EDX,EDX
007ab7ff : MOV dword ptr [EBP + -0xc],EDX
007ab802 : CMP byte ptr [EAX],DL
007ab804 : JBE 0x007aba87
007ab80a : MOV dword ptr [EBP + -0x10],EDX
007ab80d : LEA ECX,[ECX]
007ab810 : MOV EDI,dword ptr [EBX + 0x278]
007ab816 : CMP byte ptr [EDI + 0x2ab0],0x0
007ab81d : JZ 0x007ab827
007ab81f : TEST EDX,EDX
007ab821 : JZ 0x007aba6e
007ab827 : MOV AL,byte ptr [EDI + 0x2ab8]
007ab82d : CMP AL,0xff
007ab82f : JNZ 0x007ab83e
007ab831 : MOV EAX,dword ptr [EDI + 0x2abc]
007ab837 : CMP EAX,-0x1
007ab83a : JZ 0x007ab85d
007ab83c : JMP 0x007ab855
007ab83e : CMP byte ptr [EBP + 0x8],AL
007ab841 : JNZ 0x007aba6b
007ab847 : MOV EAX,dword ptr [EDI + 0x2abc]
007ab84d : CMP EAX,-0x1
007ab850 : JZ 0x007ab85d
007ab852 : MOV EDX,dword ptr [EBP + -0xc]
007ab855 : CMP EAX,EDX
007ab857 : JNZ 0x007aba6e
007ab85d : MOV EDX,dword ptr [EBP + -0x14]
007ab860 : MOV EAX,dword ptr [EDX + 0x8]
007ab863 : ADD EAX,dword ptr [EBP + -0x10]
007ab866 : CMP byte ptr [EDI + 0x2aab],0x0
007ab86d : MOV EDX,dword ptr [EAX]
007ab86f : MOV dword ptr [EBP + -0x20],EDX
007ab872 : MOV DX,word ptr [EAX + 0x4]
007ab876 : MOV AL,byte ptr [EAX + 0x6]
007ab879 : MOV word ptr [EBP + -0x1c],DX
007ab87d : MOV byte ptr [EBP + -0x1a],AL
007ab880 : JZ 0x007ab8bd
007ab882 : MOV EAX,dword ptr [EBP + -0x20]
007ab885 : MOV EDI,dword ptr [EBP + -0x4]
007ab888 : SHR EAX,0x10
007ab88b : CMP AL,0x1
007ab88d : JZ 0x007ab89f
007ab88f : MOV byte ptr [EBP + 0x8],AL
007ab892 : MOV EAX,dword ptr [EBP + 0x8]
007ab895 : LEA EDX,[EBP + -0x8]
007ab898 : PUSH EDX
007ab899 : PUSH EAX
007ab89a : JMP 0x007ab951
007ab89f : MOV DL,byte ptr [EBP + -0x1d]
007ab8a2 : MOV byte ptr [EBP + 0x8],DL
007ab8a5 : MOV EDX,dword ptr [EBP + -0x1d]
007ab8a8 : LEA EAX,[EBP + -0x8]
007ab8ab : PUSH EAX
007ab8ac : PUSH EDX
007ab8ad : PUSH ECX
007ab8ae : LEA EAX,[EBP + -0x50]
007ab8b1 : MOV EDX,EBX
007ab8b3 : CALL 0x007aab90
007ab8b8 : JMP 0x007ab95c
007ab8bd : CMP byte ptr [EDI + 0x2aad],0x0
007ab8c4 : JZ 0x007ab8d6
007ab8c6 : MOV AL,byte ptr [EBP + -0x1c]
007ab8c9 : LEA EDX,[EBP + -0x8]
007ab8cc : MOV byte ptr [EBP + 0x8],AL
007ab8cf : MOV EAX,dword ptr [EBP + -0x1c]
007ab8d2 : PUSH EDX
007ab8d3 : PUSH EAX
007ab8d4 : JMP 0x007ab94e
007ab8d6 : CMP byte ptr [EDI + 0x2aac],0x0
007ab8dd : JZ 0x007ab940
007ab8df : MOV EDX,dword ptr [EBX + 0x280]
007ab8e5 : MOV EDX,dword ptr [EDX + 0x58]
007ab8e8 : MOV EDI,dword ptr [EBX + 0x384]
007ab8ee : IMUL EDX,ECX
007ab8f1 : XOR EAX,EAX
007ab8f3 : ADD EDX,dword ptr [EBP + -0x4]
007ab8f6 : LEA EDX,[EDI + EDX*0x8]
007ab8f9 : LEA ESP,[ESP]
007ab900 : CMP byte ptr [EDX + EAX*0x1],0x1
007ab904 : JZ 0x007ab90e
007ab906 : INC EAX
007ab907 : CMP EAX,0x8
007ab90a : JL 0x007ab900
007ab90c : JMP 0x007ab912
007ab90e : MOV byte ptr [EBP + 0x8],0x1
007ab912 : MOV EDX,dword ptr [EBP + 0x8]
007ab915 : MOV EDI,dword ptr [EBP + -0x4]
007ab918 : LEA EAX,[EBP + -0x8]
007ab91b : PUSH EAX
007ab91c : PUSH EDX
007ab91d : PUSH ECX
007ab91e : LEA EAX,[EBP + -0x50]
007ab921 : MOV EDX,EBX
007ab923 : CALL 0x007aacf0
007ab928 : XOR EAX,EAX
007ab92a : CMP byte ptr [EBP + 0x8],0x1
007ab92e : MOV byte ptr [EBP + 0x8],0x0
007ab932 : SETNZ AL
007ab935 : DEC EAX
007ab936 : AND EAX,0x4000ff00
007ab93b : MOV dword ptr [EBP + -0x8],EAX
007ab93e : JMP 0x007ab95c
007ab940 : MOV DL,byte ptr [EBP + -0x1e]
007ab943 : LEA EAX,[EBP + -0x8]
007ab946 : MOV byte ptr [EBP + 0x8],DL
007ab949 : MOV EDX,dword ptr [EBP + -0x1e]
007ab94c : PUSH EAX
007ab94d : PUSH EDX
007ab94e : MOV EDI,dword ptr [EBP + -0x4]
007ab951 : PUSH ECX
007ab952 : LEA EAX,[EBP + -0x50]
007ab955 : MOV EDX,EBX
007ab957 : CALL 0x007aacf0
007ab95c : MOVZX EAX,word ptr [EBP + -0x20]
007ab960 : SUB EAX,0x7fff
007ab965 : CMP dword ptr [EBP + -0xc],0x0
007ab969 : CVTSI2SS XMM0,EAX
007ab96d : JLE 0x007ab98e
007ab96f : MOVAPS XMM3,XMM0
007ab972 : MOVAPS XMM2,XMM0
007ab975 : MOVAPS XMM1,XMM0
007ab978 : MOVSS dword ptr [EBP + -0x4c],XMM0
007ab97d : MOVSS dword ptr [EBP + -0x40],XMM3
007ab982 : MOVSS dword ptr [EBP + -0x34],XMM2
007ab987 : MOVSS dword ptr [EBP + -0x28],XMM1
007ab98c : JMP 0x007ab99d
007ab98e : MOVSS XMM1,dword ptr [EBP + -0x28]
007ab993 : MOVSS XMM2,dword ptr [EBP + -0x34]
007ab998 : MOVSS XMM3,dword ptr [EBP + -0x40]
007ab99d : MOV ECX,dword ptr [EBX + 0x278]
007ab9a3 : CVTSI2SS XMM0,dword ptr [ECX + 0x2c48]
007ab9ab : PUSH 0x2
007ab9ad : MOVAPS XMM4,XMM0
007ab9b0 : ADDSS XMM4,dword ptr [EBP + -0x4c]
007ab9b5 : PUSH 0x4
007ab9b7 : ADDSS XMM3,XMM0
007ab9bb : ADDSS XMM2,XMM0
007ab9bf : ADDSS XMM1,XMM0
007ab9c3 : MOVSS dword ptr [EBP + -0x4c],XMM4
007ab9c8 : MOVSS dword ptr [EBP + -0x40],XMM3
007ab9cd : MOVSS dword ptr [EBP + -0x34],XMM2
007ab9d2 : MOVSS dword ptr [EBP + -0x28],XMM1
007ab9d7 : MOV EDX,dword ptr [ESI]
007ab9d9 : MOV EAX,dword ptr [EDX + 0x10c]
007ab9df : PUSH 0x0
007ab9e1 : PUSH ESI
007ab9e2 : CALL EAX
007ab9e4 : MOV ECX,dword ptr [ESI]
007ab9e6 : MOV EDX,dword ptr [ECX + 0x10c]
007ab9ec : PUSH 0x3
007ab9ee : PUSH 0x5
007ab9f0 : PUSH 0x0
007ab9f2 : PUSH ESI
007ab9f3 : CALL EDX
007ab9f5 : MOV EAX,dword ptr [ESI]
007ab9f7 : MOV ECX,dword ptr [EAX + 0x10c]
007ab9fd : PUSH 0x2
007ab9ff : PUSH 0x1
007aba01 : PUSH 0x0
007aba03 : PUSH ESI
007aba04 : CALL ECX
007aba06 : MOV EDX,dword ptr [ESI]
007aba08 : MOV EAX,dword ptr [EDX + 0x10c]
007aba0e : PUSH 0x3
007aba10 : PUSH 0x2
007aba12 : PUSH 0x0
007aba14 : PUSH ESI
007aba15 : CALL EAX
007aba17 : MOV EDX,dword ptr [EBP + -0x8]
007aba1a : MOV ECX,dword ptr [ESI]
007aba1c : MOV EAX,dword ptr [ECX + 0xe4]
007aba22 : PUSH EDX
007aba23 : PUSH 0x3c
007aba25 : PUSH ESI
007aba26 : CALL EAX
007aba28 : MOV ECX,dword ptr [ESI]
007aba2a : MOV EDX,dword ptr [ECX + 0x104]
007aba30 : PUSH 0x0
007aba32 : PUSH 0x0
007aba34 : PUSH ESI
007aba35 : CALL EDX
007aba37 : MOV EAX,dword ptr [ESI]
007aba39 : MOV ECX,dword ptr [EAX + 0x104]
007aba3f : PUSH 0x0
007aba41 : PUSH 0x1
007aba43 : PUSH ESI
007aba44 : CALL ECX
007aba46 : MOV EDX,dword ptr [ESI]
007aba48 : MOV EAX,dword ptr [EDX + 0x164]
007aba4e : PUSH 0x2
007aba50 : PUSH ESI
007aba51 : CALL EAX
007aba53 : MOV ECX,dword ptr [ESI]
007aba55 : MOV EAX,dword ptr [ECX + 0x14c]
007aba5b : PUSH 0xc
007aba5d : LEA EDX,[EBP + -0x50]
007aba60 : PUSH EDX
007aba61 : PUSH 0x2
007aba63 : PUSH 0x6
007aba65 : PUSH ESI
007aba66 : CALL EAX
007aba68 : MOV ECX,dword ptr [EBP + -0x18]
007aba6b : MOV EDX,dword ptr [EBP + -0xc]
007aba6e : MOV EAX,dword ptr [EBP + -0x14]
007aba71 : MOVZX EAX,byte ptr [EAX]
007aba74 : ADD dword ptr [EBP + -0x10],0x7
007aba78 : INC EDX
007aba79 : CMP EDX,EAX
007aba7b : MOV dword ptr [EBP + -0xc],EDX
007aba7e : JL 0x007ab810
007aba84 : MOV EDI,dword ptr [EBP + -0x4]
007aba87 : MOV EDX,dword ptr [EBX + 0x2cc]
007aba8d : INC EDI
007aba8e : DEC EDX
007aba8f : MOV dword ptr [EBP + -0x4],EDI
007aba92 : CMP EDI,EDX
007aba94 : JC 0x007ab7c0
007aba9a : MOV EAX,dword ptr [EBX + 0x2d0]
007abaa0 : INC ECX
007abaa1 : DEC EAX
007abaa2 : MOV dword ptr [EBP + -0x18],ECX
007abaa5 : CMP ECX,EAX
007abaa7 : JC 0x007ab7a5
007abaad : POP EDI
007abaae : POP ESI
007abaaf : POP EBX
007abab0 : MOV ESP,EBP
007abab2 : POP EBP
007abab3 : RET 0x4
