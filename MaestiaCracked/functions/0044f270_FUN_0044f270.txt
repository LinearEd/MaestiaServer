PROGRAM  : Maestia.exe
FUNCTION : FUN_0044f270
ENTRY    : 0044f270
BODY     : [[0044f270, 0044f2ad] [0044f2b0, 0044f3e7]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0044f2c8) */

void FUN_0044f270(int param_1,undefined4 *param_2,int param_3)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  ushort *puVar4;
  ushort *puVar5;
  uint uVar6;
  uint uVar7;
  int *piVar8;
  
  iVar3 = FUN_0044f3f0();
  piVar1 = (int *)(*(int *)(param_1 + 0x14) + iVar3 * 4);
  piVar8 = (int *)*piVar1;
  piVar1 = (int *)piVar1[1];
  if (piVar1 != piVar8) {
    uVar7 = *(uint *)(param_3 + 0x14);
    do {
      if (*(uint *)(param_3 + 0x18) < 8) {
        puVar4 = (ushort *)(param_3 + 4);
      }
      else {
        puVar4 = *(ushort **)(param_3 + 4);
      }
      uVar2 = piVar8[7];
      uVar6 = uVar2;
      if (uVar7 <= uVar2) {
        uVar6 = uVar7;
      }
      if ((uint)piVar8[8] < 8) {
        puVar5 = (ushort *)(piVar8 + 3);
      }
      else {
        puVar5 = (ushort *)piVar8[3];
      }
      for (; uVar6 != 0; uVar6 = uVar6 - 1) {
        if (*puVar5 != *puVar4) {
          uVar6 = (-(uint)(*puVar5 < *puVar4) & 0xfffffffe) + 1;
          if (uVar6 != 0) goto LAB_0044f306;
          break;
        }
        puVar5 = puVar5 + 1;
        puVar4 = puVar4 + 1;
      }
      if (uVar7 <= uVar2) {
        uVar6 = (uint)(uVar2 != uVar7);
LAB_0044f306:
        if (-1 < (int)uVar6) {
          uVar2 = piVar8[7];
          if ((uint)piVar8[8] < 8) {
            puVar4 = (ushort *)(piVar8 + 3);
          }
          else {
            puVar4 = (ushort *)piVar8[3];
          }
          uVar6 = *(uint *)(param_3 + 0x14);
          if (uVar7 < *(uint *)(param_3 + 0x14)) {
            uVar6 = uVar7;
          }
          uVar7 = uVar2;
          if (uVar6 < uVar2) {
            uVar7 = uVar6;
          }
          if (*(uint *)(param_3 + 0x18) < 8) {
            puVar5 = (ushort *)(param_3 + 4);
          }
          else {
            puVar5 = *(ushort **)(param_3 + 4);
          }
          goto joined_r0x0044f37a;
        }
      }
      piVar8 = (int *)*piVar8;
    } while (piVar1 != piVar8);
  }
  *param_2 = *(undefined4 *)(param_1 + 8);
  return;
joined_r0x0044f37a:
  if (uVar7 == 0) {
LAB_0044f3a5:
    if (uVar2 <= uVar6) {
      uVar7 = (uint)(uVar6 != uVar2);
LAB_0044f3b5:
      if (-1 < (int)uVar7) {
        *param_2 = piVar8;
        return;
      }
    }
    *param_2 = *(undefined4 *)(param_1 + 8);
    return;
  }
  if (*puVar5 != *puVar4) {
    uVar7 = (-(uint)(*puVar5 < *puVar4) & 0xfffffffe) + 1;
    if (uVar7 != 0) goto LAB_0044f3b5;
    goto LAB_0044f3a5;
  }
  puVar5 = puVar5 + 1;
  puVar4 = puVar4 + 1;
  uVar7 = uVar7 - 1;
  goto joined_r0x0044f37a;
}



============================================================
DISASSEMBLY
============================================================
0044f270 : PUSH EBP
0044f271 : MOV EBP,ESP
0044f273 : SUB ESP,0xc
0044f276 : PUSH EBX
0044f277 : MOV EBX,dword ptr [EBP + 0x10]
0044f27a : PUSH ESI
0044f27b : MOV ESI,dword ptr [EBP + 0x8]
0044f27e : PUSH EDI
0044f27f : MOV EAX,EBX
0044f281 : CALL 0x0044f3f0
0044f286 : MOV ECX,dword ptr [ESI + 0x14]
0044f289 : LEA EAX,[ECX + EAX*0x4]
0044f28c : MOV ECX,dword ptr [EAX]
0044f28e : MOV EAX,dword ptr [EAX + 0x4]
0044f291 : MOV EDI,ECX
0044f293 : MOV dword ptr [EBP + -0x4],EDI
0044f296 : MOV dword ptr [EBP + -0xc],EAX
0044f299 : CMP EAX,ECX
0044f29b : JZ 0x0044f317
0044f29d : MOV EAX,dword ptr [EBP + 0x10]
0044f2a0 : MOV EBX,dword ptr [EBX + 0x14]
0044f2a3 : MOV EDX,dword ptr [EAX + 0x18]
0044f2a6 : MOV dword ptr [EBP + -0x4],EBX
0044f2a9 : MOV dword ptr [EBP + -0x8],EDX
0044f2ac : JMP 0x0044f2b3
0044f2b0 : MOV EAX,dword ptr [EBP + 0x10]
0044f2b3 : CMP dword ptr [EBP + -0x8],0x8
0044f2b7 : JC 0x0044f2be
0044f2b9 : MOV EAX,dword ptr [EAX + 0x4]
0044f2bc : JMP 0x0044f2c1
0044f2be : ADD EAX,0x4
0044f2c1 : MOV ESI,dword ptr [EDI + 0x1c]
0044f2c4 : MOV ECX,ESI
0044f2c6 : CMP ECX,ESI
0044f2c8 : CMOVC ESI,ECX
0044f2cb : MOV EDX,ESI
0044f2cd : CMP ESI,EBX
0044f2cf : JC 0x0044f2d3
0044f2d1 : MOV EDX,EBX
0044f2d3 : CMP dword ptr [EDI + 0x20],0x8
0044f2d7 : JC 0x0044f2de
0044f2d9 : MOV ECX,dword ptr [EDI + 0xc]
0044f2dc : JMP 0x0044f2e1
0044f2de : LEA ECX,[EDI + 0xc]
0044f2e1 : TEST EDX,EDX
0044f2e3 : JBE 0x0044f2fb
0044f2e5 : MOV BX,word ptr [ECX]
0044f2e8 : CMP BX,word ptr [EAX]
0044f2eb : JNZ 0x0044f328
0044f2ed : ADD ECX,0x2
0044f2f0 : ADD EAX,0x2
0044f2f3 : SUB EDX,0x1
0044f2f6 : JNZ 0x0044f2e5
0044f2f8 : MOV EBX,dword ptr [EBP + -0x4]
0044f2fb : CMP ESI,EBX
0044f2fd : JC 0x0044f30a
0044f2ff : XOR EAX,EAX
0044f301 : CMP ESI,EBX
0044f303 : SETNZ AL
0044f306 : TEST EAX,EAX
0044f308 : JGE 0x0044f33d
0044f30a : MOV EDI,dword ptr [EDI]
0044f30c : CMP dword ptr [EBP + -0xc],EDI
0044f30f : JNZ 0x0044f2b0
0044f311 : MOV ESI,dword ptr [EBP + 0x8]
0044f314 : MOV dword ptr [EBP + -0x4],EDI
0044f317 : MOV EDX,dword ptr [ESI + 0x8]
0044f31a : MOV EAX,dword ptr [EBP + 0xc]
0044f31d : POP EDI
0044f31e : POP ESI
0044f31f : MOV dword ptr [EAX],EDX
0044f321 : POP EBX
0044f322 : MOV ESP,EBP
0044f324 : POP EBP
0044f325 : RET 0xc
0044f328 : MOV CX,BX
0044f32b : CMP CX,word ptr [EAX]
0044f32e : SBB EAX,EAX
0044f330 : AND EAX,0xfffffffe
0044f333 : ADD EAX,0x1
0044f336 : JZ 0x0044f2f8
0044f338 : MOV EBX,dword ptr [EBP + -0x4]
0044f33b : JMP 0x0044f306
0044f33d : MOV EDX,dword ptr [EDI + 0x1c]
0044f340 : MOV EAX,0x8
0044f345 : MOV dword ptr [EBP + -0x4],EDI
0044f348 : MOV dword ptr [EBP + -0xc],EDX
0044f34b : CMP dword ptr [EDI + 0x20],EAX
0044f34e : JC 0x0044f355
0044f350 : MOV EDI,dword ptr [EDI + 0xc]
0044f353 : JMP 0x0044f358
0044f355 : ADD EDI,0xc
0044f358 : MOV ECX,dword ptr [EBP + 0x10]
0044f35b : MOV ESI,dword ptr [ECX + 0x14]
0044f35e : CMP EBX,ESI
0044f360 : CMOVC ESI,EBX
0044f363 : CMP ESI,EDX
0044f365 : JNC 0x0044f369
0044f367 : MOV EDX,ESI
0044f369 : CMP dword ptr [EBP + -0x8],EAX
0044f36c : JC 0x0044f373
0044f36e : MOV ECX,dword ptr [ECX + 0x4]
0044f371 : JMP 0x0044f376
0044f373 : ADD ECX,0x4
0044f376 : MOV EAX,EDI
0044f378 : TEST EDX,EDX
0044f37a : JBE 0x0044f3a5
0044f37c : LEA ESP,[ESP]
0044f380 : MOV DI,word ptr [ECX]
0044f383 : CMP DI,word ptr [EAX]
0044f386 : JNZ 0x0044f395
0044f388 : ADD ECX,0x2
0044f38b : ADD EAX,0x2
0044f38e : SUB EDX,0x1
0044f391 : JNZ 0x0044f380
0044f393 : JMP 0x0044f3a5
0044f395 : MOV DX,DI
0044f398 : CMP DX,word ptr [EAX]
0044f39b : SBB EAX,EAX
0044f39d : AND EAX,0xfffffffe
0044f3a0 : ADD EAX,0x1
0044f3a3 : JNZ 0x0044f3b5
0044f3a5 : MOV EAX,dword ptr [EBP + -0xc]
0044f3a8 : CMP ESI,EAX
0044f3aa : JC 0x0044f3b9
0044f3ac : XOR ECX,ECX
0044f3ae : CMP ESI,EAX
0044f3b0 : SETNZ CL
0044f3b3 : MOV EAX,ECX
0044f3b5 : TEST EAX,EAX
0044f3b7 : JGE 0x0044f3d5
0044f3b9 : MOV EDX,dword ptr [EBP + 0x8]
0044f3bc : MOV EAX,dword ptr [EDX + 0x8]
0044f3bf : MOV dword ptr [EBP + 0x10],EAX
0044f3c2 : LEA EAX,[EBP + 0x10]
0044f3c5 : MOV ECX,dword ptr [EAX]
0044f3c7 : MOV EAX,dword ptr [EBP + 0xc]
0044f3ca : POP EDI
0044f3cb : POP ESI
0044f3cc : MOV dword ptr [EAX],ECX
0044f3ce : POP EBX
0044f3cf : MOV ESP,EBP
0044f3d1 : POP EBP
0044f3d2 : RET 0xc
0044f3d5 : LEA EAX,[EBP + -0x4]
0044f3d8 : MOV ECX,dword ptr [EAX]
0044f3da : MOV EAX,dword ptr [EBP + 0xc]
0044f3dd : POP EDI
0044f3de : POP ESI
0044f3df : MOV dword ptr [EAX],ECX
0044f3e1 : POP EBX
0044f3e2 : MOV ESP,EBP
0044f3e4 : POP EBP
0044f3e5 : RET 0xc
