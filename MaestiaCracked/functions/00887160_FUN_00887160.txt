PROGRAM  : Maestia.exe
FUNCTION : FUN_00887160
ENTRY    : 00887160
BODY     : [[00887160, 008872c6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00887160(void)

{
  code *pcVar1;
  int iVar2;
  undefined1 uVar3;
  short sVar4;
  int *in_ECX;
  
  *(undefined1 *)(in_ECX + 0xec) = 1;
  if (in_ECX[0x32] != in_ECX[1]) {
    FUN_00884900(in_ECX[0x32]);
  }
  iVar2 = in_ECX[0x10f];
  if ((char)in_ECX[0x135] != '\0') {
    *(undefined2 *)(in_ECX + 0x10f) = 0;
  }
  (**(code **)(*in_ECX + 0x188))((short)in_ECX[0x39],1,1,1,1,0x3f800000);
  FUN_0079b970((short)in_ECX[0x39]);
  pcVar1 = *(code **)(*in_ECX + 0x1e4);
  *(short *)(in_ECX + 0x10f) = (short)iVar2;
  sVar4 = (*pcVar1)();
  if (sVar4 != 0) {
    uVar3 = (**(code **)(*in_ECX + 0x200))();
    FUN_00a6d180(in_ECX[0xe3],1,0,uVar3);
    iVar2 = in_ECX[0x39];
    if (iVar2 == 5) {
      FUN_0088e570(0x12d);
      in_ECX[0x180] = 0x12d;
    }
    else if (iVar2 == 0x1e) {
      FUN_0088e570(0x131);
      in_ECX[0x180] = 0x131;
    }
    else if (iVar2 == 0x1f) {
      FUN_0088e570(0x133);
      in_ECX[0x180] = 0x133;
    }
    else if (iVar2 == 0x4a) {
      FUN_0088e570(0x135);
      in_ECX[0x180] = 0x135;
    }
    else if (iVar2 == 0x4c) {
      FUN_0088e570(0x137);
      in_ECX[0x180] = 0x137;
    }
  }
  (**(code **)(*in_ECX + 0x254))(1,in_ECX + 1,1);
  FUN_00483f90();
  return;
}



============================================================
DISASSEMBLY
============================================================
00887160 : PUSH EBP
00887161 : MOV EBP,ESP
00887163 : AND ESP,0xfffffff8
00887166 : PUSH ECX
00887167 : PUSH EBX
00887168 : PUSH ESI
00887169 : PUSH EDI
0088716a : MOV EDI,ECX
0088716c : MOV EAX,dword ptr [EDI + 0xc8]
00887172 : LEA EBX,[EDI + 0x4]
00887175 : MOV byte ptr [EDI + 0x3b0],0x1
0088717c : CMP EAX,dword ptr [EBX]
0088717e : JZ 0x00887186
00887180 : PUSH EAX
00887181 : CALL 0x00884900
00887186 : CMP byte ptr [EDI + 0x4d4],0x0
0088718d : MOVZX ESI,word ptr [EDI + 0x43c]
00887194 : JZ 0x0088719f
00887196 : XOR EAX,EAX
00887198 : MOV word ptr [EDI + 0x43c],AX
0088719f : FLD1
008871a1 : MOVZX EAX,word ptr [EDI + 0xe4]
008871a8 : MOV EDX,dword ptr [EDI]
008871aa : MOV EDX,dword ptr [EDX + 0x188]
008871b0 : PUSH ECX
008871b1 : MOV ECX,EDI
008871b3 : FSTP float ptr [ESP]
008871b6 : PUSH 0x1
008871b8 : PUSH 0x1
008871ba : PUSH 0x1
008871bc : PUSH 0x1
008871be : PUSH EAX
008871bf : CALL EDX
008871c1 : MOVZX EAX,word ptr [EDI + 0xe4]
008871c8 : MOV ECX,dword ptr [EDI + 0x410]
008871ce : PUSH EAX
008871cf : CALL 0x0079b970
008871d4 : MOV EDX,dword ptr [EDI]
008871d6 : MOV EAX,dword ptr [EDX + 0x1e4]
008871dc : MOV ECX,EDI
008871de : MOV word ptr [EDI + 0x43c],SI
008871e5 : CALL EAX
008871e7 : TEST AX,AX
008871ea : JZ 0x008872aa
008871f0 : MOV EDX,dword ptr [EDI]
008871f2 : MOV EAX,dword ptr [EDX + 0x200]
008871f8 : MOV ECX,EDI
008871fa : CALL EAX
008871fc : MOV EDX,dword ptr [EDI + 0x38c]
00887202 : MOVZX ECX,AL
00887205 : PUSH ECX
00887206 : PUSH 0x0
00887208 : PUSH 0x1
0088720a : PUSH EDX
0088720b : MOV ECX,0x65
00887210 : CALL 0x00a6d180
00887215 : MOV EAX,dword ptr [EDI + 0xe4]
0088721b : CMP EAX,0x5
0088721e : JNZ 0x00887238
00887220 : PUSH 0x12d
00887225 : MOV ECX,EDI
00887227 : CALL 0x0088e570
0088722c : MOV dword ptr [EDI + 0x600],0x12d
00887236 : JMP 0x008872aa
00887238 : CMP EAX,0x1e
0088723b : JNZ 0x00887255
0088723d : PUSH 0x131
00887242 : MOV ECX,EDI
00887244 : CALL 0x0088e570
00887249 : MOV dword ptr [EDI + 0x600],0x131
00887253 : JMP 0x008872aa
00887255 : CMP EAX,0x1f
00887258 : JNZ 0x00887272
0088725a : PUSH 0x133
0088725f : MOV ECX,EDI
00887261 : CALL 0x0088e570
00887266 : MOV dword ptr [EDI + 0x600],0x133
00887270 : JMP 0x008872aa
00887272 : CMP EAX,0x4a
00887275 : JNZ 0x0088728f
00887277 : PUSH 0x135
0088727c : MOV ECX,EDI
0088727e : CALL 0x0088e570
00887283 : MOV dword ptr [EDI + 0x600],0x135
0088728d : JMP 0x008872aa
0088728f : CMP EAX,0x4c
00887292 : JNZ 0x008872aa
00887294 : PUSH 0x137
00887299 : MOV ECX,EDI
0088729b : CALL 0x0088e570
008872a0 : MOV dword ptr [EDI + 0x600],0x137
008872aa : MOV EAX,dword ptr [EDI]
008872ac : MOV EDX,dword ptr [EAX + 0x254]
008872b2 : PUSH 0x1
008872b4 : PUSH EBX
008872b5 : PUSH 0x1
008872b7 : MOV ECX,EDI
008872b9 : CALL EDX
008872bb : CALL 0x00483f90
008872c0 : POP EDI
008872c1 : POP ESI
008872c2 : POP EBX
008872c3 : MOV ESP,EBP
008872c5 : POP EBP
008872c6 : RET
