PROGRAM  : Maestia.exe
FUNCTION : FUN_0053d0e0
ENTRY    : 0053d0e0
BODY     : [[0053d0e0, 0053d1c9]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0053d0e0(int *param_1,int param_2,int param_3)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  short *psVar5;
  uint uVar6;
  uint uVar7;
  int *local_8;
  int local_4;
  
  iVar3 = param_3;
  if (param_3 == -1) {
    iVar3 = FUN_0053c470();
  }
  iVar2 = param_2;
  uVar4 = iVar3 - param_2;
  FUN_004ff960(uVar4 + 1);
  param_2 = 0;
  FUN_0053c2d0(&local_8,iVar2,&param_2);
  param_3 = 0;
  iVar3 = param_2;
  while ((((local_8 != (int *)0x0 && (-1 < local_4)) && (local_4 < local_8[1])) && (uVar4 != 0))) {
    piVar1 = *(int **)(*local_8 + local_4 * 4);
    uVar6 = piVar1[1];
    if (uVar6 != 0) {
      if ((*piVar1 == 0) || (uVar6 <= uVar6 - 1)) {
        psVar5 = (short *)0x0;
      }
      else {
        psVar5 = (short *)(*piVar1 + (uVar6 - 1) * 2);
      }
      if (*psVar5 == 0) {
        uVar6 = uVar6 - 1;
      }
    }
    uVar7 = uVar6 - iVar3;
    if (uVar4 < uVar6 - iVar3) {
      uVar7 = uVar4;
    }
    _memcpy((void *)(*param_1 + param_3 * 2),(void *)(*piVar1 + iVar3 * 2),uVar7 * 2);
    param_3 = param_3 + uVar7;
    iVar3 = 0;
    uVar4 = uVar4 - uVar7;
    if (local_4 < local_8[1]) {
      local_4 = local_4 + 1;
    }
  }
  *(undefined2 *)(*param_1 + param_3 * 2) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
0053d0e0 : MOV EAX,dword ptr [ESP + 0xc]
0053d0e4 : SUB ESP,0x8
0053d0e7 : PUSH EBX
0053d0e8 : PUSH EBP
0053d0e9 : PUSH ESI
0053d0ea : PUSH EDI
0053d0eb : MOV EBX,ECX
0053d0ed : CMP EAX,-0x1
0053d0f0 : JNZ 0x0053d0f7
0053d0f2 : CALL 0x0053c470
0053d0f7 : MOV EDI,dword ptr [ESP + 0x20]
0053d0fb : MOV ECX,dword ptr [ESP + 0x1c]
0053d0ff : SUB EAX,EDI
0053d101 : MOV ESI,EAX
0053d103 : LEA EAX,[ESI + 0x1]
0053d106 : PUSH EAX
0053d107 : CALL 0x004ff960
0053d10c : LEA ECX,[ESP + 0x20]
0053d110 : PUSH ECX
0053d111 : PUSH EDI
0053d112 : LEA EDX,[ESP + 0x18]
0053d116 : PUSH EDX
0053d117 : MOV ECX,EBX
0053d119 : MOV dword ptr [ESP + 0x2c],0x0
0053d121 : MOV EBP,ESI
0053d123 : CALL 0x0053c2d0
0053d128 : MOV EBX,dword ptr [ESP + 0x20]
0053d12c : MOV EDI,dword ptr [ESP + 0x14]
0053d130 : MOV dword ptr [ESP + 0x24],0x0
0053d138 : MOV EAX,dword ptr [ESP + 0x10]
0053d13c : TEST EAX,EAX
0053d13e : JZ 0x0053d1b0
0053d140 : TEST EDI,EDI
0053d142 : JL 0x0053d1b0
0053d144 : CMP EDI,dword ptr [EAX + 0x4]
0053d147 : JGE 0x0053d1b0
0053d149 : TEST EBP,EBP
0053d14b : JBE 0x0053d1b0
0053d14d : MOV EAX,dword ptr [EAX]
0053d14f : MOV EAX,dword ptr [EAX + EDI*0x4]
0053d152 : MOV ESI,dword ptr [EAX + 0x4]
0053d155 : TEST ESI,ESI
0053d157 : JBE 0x0053d174
0053d159 : MOV ECX,dword ptr [EAX]
0053d15b : LEA EDX,[ESI + -0x1]
0053d15e : TEST ECX,ECX
0053d160 : JZ 0x0053d16b
0053d162 : CMP EDX,ESI
0053d164 : JNC 0x0053d16b
0053d166 : LEA ECX,[ECX + EDX*0x2]
0053d169 : JMP 0x0053d16d
0053d16b : XOR ECX,ECX
0053d16d : CMP word ptr [ECX],0x0
0053d171 : JNZ 0x0053d174
0053d173 : DEC ESI
0053d174 : SUB ESI,EBX
0053d176 : CMP ESI,EBP
0053d178 : JBE 0x0053d17c
0053d17a : MOV ESI,EBP
0053d17c : MOV EDX,dword ptr [EAX]
0053d17e : LEA ECX,[ESI + ESI*0x1]
0053d181 : PUSH ECX
0053d182 : MOV ECX,dword ptr [ESP + 0x20]
0053d186 : LEA EAX,[EDX + EBX*0x2]
0053d189 : MOV EDX,dword ptr [ECX]
0053d18b : PUSH EAX
0053d18c : MOV EAX,dword ptr [ESP + 0x2c]
0053d190 : LEA ECX,[EDX + EAX*0x2]
0053d193 : PUSH ECX
0053d194 : CALL 0x0063ae40
0053d199 : MOV EDX,dword ptr [ESP + 0x1c]
0053d19d : ADD dword ptr [ESP + 0x30],ESI
0053d1a1 : ADD ESP,0xc
0053d1a4 : XOR EBX,EBX
0053d1a6 : SUB EBP,ESI
0053d1a8 : CMP EDI,dword ptr [EDX + 0x4]
0053d1ab : JGE 0x0053d138
0053d1ad : INC EDI
0053d1ae : JMP 0x0053d138
0053d1b0 : MOV EAX,dword ptr [ESP + 0x1c]
0053d1b4 : MOV ECX,dword ptr [EAX]
0053d1b6 : MOV EAX,dword ptr [ESP + 0x24]
0053d1ba : POP EDI
0053d1bb : POP ESI
0053d1bc : XOR EDX,EDX
0053d1be : POP EBP
0053d1bf : MOV word ptr [ECX + EAX*0x2],DX
0053d1c3 : POP EBX
0053d1c4 : ADD ESP,0x8
0053d1c7 : RET 0xc
