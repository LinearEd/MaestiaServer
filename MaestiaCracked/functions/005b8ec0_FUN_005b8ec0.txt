PROGRAM  : Maestia.exe
FUNCTION : FUN_005b8ec0
ENTRY    : 005b8ec0
BODY     : [[005b8ec0, 005b8f35]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005b8ec0(undefined4 param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  int *in_ECX;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar1 = param_2 + 3U & 0xfffffffc;
  if (*in_ECX != 0) {
    iVar2 = FUN_00515c80(*in_ECX,uVar1 << 4);
    in_ECX[2] = uVar1;
    *in_ECX = iVar2;
    return;
  }
  param_2 = 0x102;
  iVar2 = FUN_00515d60(param_1,uVar1 << 4,&param_2);
  in_ECX[2] = uVar1;
  *in_ECX = iVar2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005b8ec0 : MOV EAX,dword ptr [ESP + 0x8]
005b8ec4 : PUSH EDI
005b8ec5 : MOV EDI,ECX
005b8ec7 : TEST EAX,EAX
005b8ec9 : JNZ 0x005b8ee8
005b8ecb : MOV EAX,dword ptr [EDI]
005b8ecd : TEST EAX,EAX
005b8ecf : JZ 0x005b8edd
005b8ed1 : PUSH EAX
005b8ed2 : CALL 0x00515cf0
005b8ed7 : MOV dword ptr [EDI],0x0
005b8edd : MOV dword ptr [EDI + 0x8],0x0
005b8ee4 : POP EDI
005b8ee5 : RET 0x8
005b8ee8 : PUSH ESI
005b8ee9 : LEA ESI,[EAX + 0x3]
005b8eec : MOV EAX,dword ptr [EDI]
005b8eee : SHR ESI,0x2
005b8ef1 : ADD ESI,ESI
005b8ef3 : ADD ESI,ESI
005b8ef5 : TEST EAX,EAX
005b8ef7 : JZ 0x005b8f0f
005b8ef9 : MOV ECX,ESI
005b8efb : SHL ECX,0x4
005b8efe : PUSH ECX
005b8eff : PUSH EAX
005b8f00 : CALL 0x00515c80
005b8f05 : MOV dword ptr [EDI + 0x8],ESI
005b8f08 : POP ESI
005b8f09 : MOV dword ptr [EDI],EAX
005b8f0b : POP EDI
005b8f0c : RET 0x8
005b8f0f : MOV ECX,dword ptr [ESP + 0xc]
005b8f13 : LEA EDX,[ESP + 0x10]
005b8f17 : PUSH EDX
005b8f18 : MOV EAX,ESI
005b8f1a : SHL EAX,0x4
005b8f1d : PUSH EAX
005b8f1e : PUSH ECX
005b8f1f : MOV dword ptr [ESP + 0x1c],0x102
005b8f27 : CALL 0x00515d60
005b8f2c : MOV dword ptr [EDI + 0x8],ESI
005b8f2f : POP ESI
005b8f30 : MOV dword ptr [EDI],EAX
005b8f32 : POP EDI
005b8f33 : RET 0x8
