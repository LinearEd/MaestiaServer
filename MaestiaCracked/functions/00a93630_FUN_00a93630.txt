PROGRAM  : Maestia.exe
FUNCTION : FUN_00a93630
ENTRY    : 00a93630
BODY     : [[00a93630, 00a936f4]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a93630(char param_1)

{
  int iVar1;
  int in_EAX;
  int *piVar2;
  int unaff_EDI;
  
  if (param_1 == '\x04') {
    if ((*DAT_00da9894 != 0) && (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
      (**(code **)(*piVar2 + 4))(piVar2,"mc_party.SetPetDeadState","%d,%d");
    }
    FUN_00a93410(in_EAX,1);
    return;
  }
  if ((param_1 == '\x01') || (param_1 == '\x02')) {
    piVar2 = *(int **)(in_EAX + 0x48);
    if (piVar2 != *(int **)(in_EAX + 0x4c)) {
      while ((iVar1 = *piVar2, iVar1 == 0 || (*(int *)(iVar1 + 0x80) != unaff_EDI))) {
        piVar2 = piVar2 + 1;
        if (piVar2 == *(int **)(in_EAX + 0x4c)) {
          return;
        }
      }
      if ((iVar1 != 0) &&
         ((*DAT_00da9894 != 0 && (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)))
         ) {
        (**(code **)(*piVar2 + 4))
                  (piVar2,"mc_party.SetPetSuspended","%d,%d",*(undefined4 *)(iVar1 + 0x80),
                   param_1 != '\x01');
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a93630 : PUSH EBP
00a93631 : MOV EBP,ESP
00a93633 : PUSH ECX
00a93634 : PUSH EBX
00a93635 : MOV BL,byte ptr [EBP + 0x8]
00a93638 : PUSH ESI
00a93639 : MOV ESI,EAX
00a9363b : CMP BL,0x4
00a9363e : JNZ 0x00a9367e
00a93640 : MOV EAX,[0x00da9894]
00a93645 : MOV EAX,dword ptr [EAX]
00a93647 : TEST EAX,EAX
00a93649 : JZ 0x00a9366d
00a9364b : MOV EAX,dword ptr [EAX + 0x114]
00a93651 : TEST EAX,EAX
00a93653 : JZ 0x00a9366d
00a93655 : MOV ECX,dword ptr [EAX]
00a93657 : MOV EDX,dword ptr [ECX + 0x4]
00a9365a : PUSH 0x1
00a9365c : PUSH EDI
00a9365d : PUSH 0xc78c34
00a93662 : PUSH 0xc78c3c
00a93667 : PUSH EAX
00a93668 : CALL EDX
00a9366a : ADD ESP,0x14
00a9366d : PUSH 0x1
00a9366f : PUSH ESI
00a93670 : MOV EAX,EDI
00a93672 : CALL 0x00a93410
00a93677 : POP ESI
00a93678 : POP EBX
00a93679 : POP ECX
00a9367a : POP EBP
00a9367b : RET 0x4
00a9367e : CMP BL,0x1
00a93681 : JZ 0x00a93688
00a93683 : CMP BL,0x2
00a93686 : JNZ 0x00a936ee
00a93688 : MOV EAX,dword ptr [ESI + 0x48]
00a9368b : MOV EDX,dword ptr [ESI + 0x4c]
00a9368e : CMP EAX,EDX
00a93690 : JZ 0x00a936ee
00a93692 : MOV ECX,dword ptr [EAX]
00a93694 : TEST ECX,ECX
00a93696 : JZ 0x00a936a0
00a93698 : CMP dword ptr [ECX + 0x80],EDI
00a9369e : JZ 0x00a936ae
00a936a0 : ADD EAX,0x4
00a936a3 : CMP EAX,EDX
00a936a5 : JNZ 0x00a93692
00a936a7 : POP ESI
00a936a8 : POP EBX
00a936a9 : POP ECX
00a936aa : POP EBP
00a936ab : RET 0x4
00a936ae : MOV ESI,ECX
00a936b0 : TEST ESI,ESI
00a936b2 : JZ 0x00a936ee
00a936b4 : MOV EAX,[0x00da9894]
00a936b9 : MOV EAX,dword ptr [EAX]
00a936bb : TEST EAX,EAX
00a936bd : JZ 0x00a936ee
00a936bf : MOV ECX,dword ptr [EAX + 0x114]
00a936c5 : TEST ECX,ECX
00a936c7 : JZ 0x00a936ee
00a936c9 : MOV EDX,dword ptr [ECX]
00a936cb : XOR EAX,EAX
00a936cd : CMP BL,0x1
00a936d0 : SETNZ AL
00a936d3 : PUSH EAX
00a936d4 : MOV EAX,dword ptr [ESI + 0x80]
00a936da : PUSH EAX
00a936db : PUSH 0xc78c58
00a936e0 : PUSH 0xc78c60
00a936e5 : PUSH ECX
00a936e6 : MOV ECX,dword ptr [EDX + 0x4]
00a936e9 : CALL ECX
00a936eb : ADD ESP,0x14
00a936ee : POP ESI
00a936ef : POP EBX
00a936f0 : POP ECX
00a936f1 : POP EBP
00a936f2 : RET 0x4
