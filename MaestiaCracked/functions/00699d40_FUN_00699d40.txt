PROGRAM  : Maestia.exe
FUNCTION : FUN_00699d40
ENTRY    : 00699d40
BODY     : [[00699d40, 00699d91]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00699d40(undefined4 param_1)

{
  undefined4 uVar1;
  uint uVar2;
  int in_EDX;
  uint uVar3;
  int unaff_EDI;
  int local_4;
  
  uVar2 = *(int *)(unaff_EDI + 4) + 7U >> 3;
  uVar3 = in_EDX + 7U >> 3;
  local_4 = 0;
  if (uVar2 < uVar3) {
    uVar3 = uVar3 + 7 & 0xfffffff8;
    uVar1 = FUN_0068a220(param_1,1,uVar2,uVar3,*(undefined4 *)(unaff_EDI + 8),&local_4);
    *(undefined4 *)(unaff_EDI + 8) = uVar1;
    if (local_4 == 0) {
      *(uint *)(unaff_EDI + 4) = uVar3 * 8;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00699d40 : PUSH ECX
00699d41 : MOV ECX,dword ptr [EDI + 0x4]
00699d44 : ADD ECX,0x7
00699d47 : ADD EDX,0x7
00699d4a : SHR ECX,0x3
00699d4d : SHR EDX,0x3
00699d50 : XOR EAX,EAX
00699d52 : MOV dword ptr [ESP],EAX
00699d55 : CMP EDX,ECX
00699d57 : JBE 0x00699d90
00699d59 : PUSH ESI
00699d5a : LEA ESI,[EDX + 0x7]
00699d5d : MOV EDX,dword ptr [EDI + 0x8]
00699d60 : LEA EAX,[ESP + 0x4]
00699d64 : PUSH EAX
00699d65 : MOV EAX,dword ptr [ESP + 0x10]
00699d69 : PUSH EDX
00699d6a : AND ESI,0xfffffff8
00699d6d : PUSH ESI
00699d6e : PUSH ECX
00699d6f : PUSH 0x1
00699d71 : PUSH EAX
00699d72 : CALL 0x0068a220
00699d77 : MOV dword ptr [EDI + 0x8],EAX
00699d7a : MOV EAX,dword ptr [ESP + 0x1c]
00699d7e : ADD ESP,0x18
00699d81 : TEST EAX,EAX
00699d83 : JNZ 0x00699d8f
00699d85 : LEA ECX,[ESI*0x8 + 0x0]
00699d8c : MOV dword ptr [EDI + 0x4],ECX
00699d8f : POP ESI
00699d90 : POP ECX
00699d91 : RET
