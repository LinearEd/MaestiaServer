PROGRAM  : Maestia.exe
FUNCTION : FUN_004131f0
ENTRY    : 004131f0
BODY     : [[004131f0, 00413233]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004131f0(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int unaff_ESI;
  
  if (*(int *)(unaff_ESI + 0x18) == 0) {
    FUN_00406170(1,*(undefined4 *)(unaff_ESI + 0x14));
  }
  puVar1 = (undefined4 *)(unaff_ESI + 4);
  puVar2 = puVar1;
  if (7 < *(uint *)(unaff_ESI + 0x18)) {
    puVar2 = (undefined4 *)*puVar1;
  }
  *(undefined2 *)puVar2 = 0;
  *(undefined4 *)(unaff_ESI + 0x14) = 1;
  if (7 < *(uint *)(unaff_ESI + 0x18)) {
    puVar1 = (undefined4 *)*puVar1;
  }
  *(undefined2 *)((int)puVar1 + 2) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
004131f0 : CMP dword ptr [ESI + 0x18],0x1
004131f4 : JNC 0x00413203
004131f6 : MOV EAX,dword ptr [ESI + 0x14]
004131f9 : PUSH EAX
004131fa : PUSH 0x1
004131fc : MOV ECX,ESI
004131fe : CALL 0x00406170
00413203 : MOV EDX,0x8
00413208 : LEA EAX,[ESI + 0x4]
0041320b : CMP dword ptr [ESI + 0x18],EDX
0041320e : JC 0x00413214
00413210 : MOV ECX,dword ptr [EAX]
00413212 : JMP 0x00413216
00413214 : MOV ECX,EAX
00413216 : PUSH EBX
00413217 : XOR EBX,EBX
00413219 : MOV word ptr [ECX],BX
0041321c : MOV dword ptr [ESI + 0x14],0x1
00413223 : POP EBX
00413224 : CMP dword ptr [ESI + 0x18],EDX
00413227 : JC 0x0041322b
00413229 : MOV EAX,dword ptr [EAX]
0041322b : XOR ECX,ECX
0041322d : MOV word ptr [EAX + 0x2],CX
00413231 : MOV EAX,ESI
00413233 : RET
