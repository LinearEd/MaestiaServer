PROGRAM  : Maestia.exe
FUNCTION : FUN_0040d680
ENTRY    : 0040d680
BODY     : [[0040d680, 0040d6ee]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0040d680(int param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 *puVar1;
  float *pfVar2;
  float fVar3;
  int iVar4;
  int in_ECX;
  int unaff_ESI;
  
  while( true ) {
    iVar4 = in_ECX * 2 + 2;
    if (unaff_ESI <= iVar4) break;
    fVar3 = *(float *)(param_1 + iVar4 * 8);
    pfVar2 = (float *)(param_1 + -8 + iVar4 * 8);
    if (*pfVar2 <= fVar3 && fVar3 != *pfVar2) {
      iVar4 = in_ECX * 2 + 1;
    }
    puVar1 = (undefined4 *)(param_1 + in_ECX * 8);
    *puVar1 = *(undefined4 *)(param_1 + iVar4 * 8);
    puVar1[1] = *(undefined4 *)(param_1 + 4 + iVar4 * 8);
    in_ECX = iVar4;
  }
  if (iVar4 == unaff_ESI) {
    puVar1 = (undefined4 *)(param_1 + in_ECX * 8);
    *puVar1 = *(undefined4 *)(param_1 + -8 + unaff_ESI * 8);
    puVar1[1] = *(undefined4 *)(param_1 + -4 + unaff_ESI * 8);
  }
  FUN_0040da90(param_1,param_3,param_4,param_2);
  return;
}



============================================================
DISASSEMBLY
============================================================
0040d680 : PUSH EBP
0040d681 : MOV EBP,ESP
0040d683 : PUSH EBX
0040d684 : LEA EAX,[ECX + ECX*0x1 + 0x2]
0040d688 : CMP EAX,ESI
0040d68a : PUSH EDI
0040d68b : MOV EDI,ECX
0040d68d : JGE 0x0040d6b9
0040d68f : NOP
0040d690 : MOV EDX,dword ptr [EBP + 0x8]
0040d693 : MOVSS XMM0,dword ptr [EDX + EAX*0x8]
0040d698 : COMISS XMM0,dword ptr [EDX + EAX*0x8 + -0x8]
0040d69d : JBE 0x0040d6a0
0040d69f : DEC EAX
0040d6a0 : MOV EBX,dword ptr [EDX + EAX*0x8]
0040d6a3 : LEA ECX,[EDX + ECX*0x8]
0040d6a6 : MOV dword ptr [ECX],EBX
0040d6a8 : MOV EDX,dword ptr [EDX + EAX*0x8 + 0x4]
0040d6ac : MOV dword ptr [ECX + 0x4],EDX
0040d6af : MOV ECX,EAX
0040d6b1 : LEA EAX,[EAX + EAX*0x1 + 0x2]
0040d6b5 : CMP EAX,ESI
0040d6b7 : JL 0x0040d690
0040d6b9 : JNZ 0x0040d6d3
0040d6bb : MOV EDX,dword ptr [EBP + 0x8]
0040d6be : LEA EAX,[EDX + ECX*0x8]
0040d6c1 : MOV ECX,EDX
0040d6c3 : MOV EDX,dword ptr [ECX + ESI*0x8 + -0x8]
0040d6c7 : MOV dword ptr [EAX],EDX
0040d6c9 : MOV ECX,dword ptr [ECX + ESI*0x8 + -0x4]
0040d6cd : MOV dword ptr [EAX + 0x4],ECX
0040d6d0 : LEA ECX,[ESI + -0x1]
0040d6d3 : MOV EDX,dword ptr [EBP + 0xc]
0040d6d6 : MOV EAX,dword ptr [EBP + 0x14]
0040d6d9 : PUSH EDX
0040d6da : MOV EDX,dword ptr [EBP + 0x10]
0040d6dd : PUSH EAX
0040d6de : MOV EAX,dword ptr [EBP + 0x8]
0040d6e1 : PUSH EDX
0040d6e2 : PUSH EAX
0040d6e3 : CALL 0x0040da90
0040d6e8 : ADD ESP,0x10
0040d6eb : POP EDI
0040d6ec : POP EBX
0040d6ed : POP EBP
0040d6ee : RET
