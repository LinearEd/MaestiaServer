PROGRAM  : Maestia.exe
FUNCTION : FUN_00706fd0
ENTRY    : 00706fd0
BODY     : [[00706fd0, 00707069] [00707070, 007070a3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00706fd0(undefined4 param_1)

{
  short sVar1;
  uint uVar2;
  uint uVar3;
  int *in_ECX;
  int iVar4;
  int iVar5;
  uint uVar6;
  undefined1 local_8;
  
  (**(code **)(*in_ECX + 0xc))();
  FUN_004d0ff0();
  sVar1 = (short)in_ECX[0xc];
  uVar2 = 0;
  do {
    local_8 = (undefined1)sVar1;
    sVar1 = sVar1 >> 8;
    *(undefined1 *)(uVar2 + in_ECX[3]) = local_8;
    uVar2 = uVar2 + 1;
  } while (uVar2 < 2);
  uVar6 = 0;
  uVar2 = in_ECX[0xf] - in_ECX[0xe] >> 2;
  iVar4 = 2;
  if (uVar2 != 0) {
    do {
      iVar5 = *(int *)(in_ECX[0xe] + uVar6 * 4);
      uVar3 = 0;
      do {
        *(char *)(in_ECX[3] + uVar3 + iVar4) = (char)iVar5;
        uVar3 = uVar3 + 1;
        iVar5 = iVar5 >> 8;
      } while (uVar3 < 4);
      sVar1 = *(short *)(in_ECX[0x12] + uVar6 * 2);
      uVar3 = 0;
      do {
        local_8 = (undefined1)sVar1;
        sVar1 = sVar1 >> 8;
        iVar5 = in_ECX[3] + uVar3;
        uVar3 = uVar3 + 1;
        *(undefined1 *)(iVar5 + 4 + iVar4) = local_8;
      } while (uVar3 < 2);
      sVar1 = *(short *)(in_ECX[0x16] + uVar6 * 2);
      uVar3 = 0;
      do {
        local_8 = (undefined1)sVar1;
        sVar1 = sVar1 >> 8;
        iVar5 = in_ECX[3] + uVar3;
        uVar3 = uVar3 + 1;
        *(undefined1 *)(iVar5 + 6 + iVar4) = local_8;
      } while (uVar3 < 2);
      uVar6 = uVar6 + 1;
      iVar4 = iVar4 + 8;
    } while (uVar6 < uVar2);
  }
  FUN_00705630(param_1);
  return;
}



============================================================
DISASSEMBLY
============================================================
00706fd0 : PUSH EBP
00706fd1 : MOV EBP,ESP
00706fd3 : SUB ESP,0x8
00706fd6 : PUSH ESI
00706fd7 : MOV ESI,ECX
00706fd9 : MOV EAX,dword ptr [ESI]
00706fdb : MOV EDX,dword ptr [EAX + 0xc]
00706fde : PUSH EDI
00706fdf : CALL EDX
00706fe1 : LEA EDI,[ESI + 0x8]
00706fe4 : CALL 0x004d0ff0
00706fe9 : MOVZX EAX,word ptr [ESI + 0x30]
00706fed : MOV dword ptr [EBP + -0x4],EAX
00706ff0 : XOR EAX,EAX
00706ff2 : MOV DL,byte ptr [EBP + -0x4]
00706ff5 : MOV ECX,dword ptr [ESI + 0xc]
00706ff8 : SAR word ptr [EBP + -0x4],0x8
00706ffd : MOV byte ptr [EAX + ECX*0x1],DL
00707000 : INC EAX
00707001 : CMP EAX,0x2
00707004 : JC 0x00706ff2
00707006 : MOV EAX,dword ptr [ESI + 0x3c]
00707009 : SUB EAX,dword ptr [ESI + 0x38]
0070700c : XOR EDI,EDI
0070700e : SAR EAX,0x2
00707011 : MOV dword ptr [EBP + -0x8],EAX
00707014 : LEA ECX,[EDI + 0x2]
00707017 : TEST EAX,EAX
00707019 : JBE 0x00707091
0070701b : PUSH EBX
0070701c : LEA ESP,[ESP]
00707020 : MOV EAX,dword ptr [ESI + 0x38]
00707023 : MOV EDX,dword ptr [EAX + EDI*0x4]
00707026 : XOR EAX,EAX
00707028 : MOV EBX,dword ptr [ESI + 0xc]
0070702b : ADD EBX,EAX
0070702d : MOV byte ptr [EBX + ECX*0x1],DL
00707030 : INC EAX
00707031 : SAR EDX,0x8
00707034 : CMP EAX,0x4
00707037 : JC 0x00707028
00707039 : MOV EDX,dword ptr [ESI + 0x48]
0070703c : MOVZX EAX,word ptr [EDX + EDI*0x2]
00707040 : MOV dword ptr [EBP + -0x4],EAX
00707043 : XOR EAX,EAX
00707045 : MOV EDX,dword ptr [ESI + 0xc]
00707048 : MOV BL,byte ptr [EBP + -0x4]
0070704b : SAR word ptr [EBP + -0x4],0x8
00707050 : ADD EDX,EAX
00707052 : INC EAX
00707053 : MOV byte ptr [EDX + ECX*0x1 + 0x4],BL
00707057 : CMP EAX,0x2
0070705a : JC 0x00707045
0070705c : MOV EAX,dword ptr [ESI + 0x58]
0070705f : MOVZX EDX,word ptr [EAX + EDI*0x2]
00707063 : MOV dword ptr [EBP + -0x4],EDX
00707066 : XOR EAX,EAX
00707068 : JMP 0x00707070
00707070 : MOV EDX,dword ptr [ESI + 0xc]
00707073 : MOV BL,byte ptr [EBP + -0x4]
00707076 : SAR word ptr [EBP + -0x4],0x8
0070707b : ADD EDX,EAX
0070707d : INC EAX
0070707e : MOV byte ptr [EDX + ECX*0x1 + 0x6],BL
00707082 : CMP EAX,0x2
00707085 : JC 0x00707070
00707087 : INC EDI
00707088 : ADD ECX,0x8
0070708b : CMP EDI,dword ptr [EBP + -0x8]
0070708e : JC 0x00707020
00707090 : POP EBX
00707091 : MOV EAX,dword ptr [EBP + 0x8]
00707094 : PUSH EAX
00707095 : MOV ECX,ESI
00707097 : CALL 0x00705630
0070709c : POP EDI
0070709d : POP ESI
0070709e : MOV ESP,EBP
007070a0 : POP EBP
007070a1 : RET 0x4
