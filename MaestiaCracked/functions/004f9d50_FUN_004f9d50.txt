PROGRAM  : Maestia.exe
FUNCTION : FUN_004f9d50
ENTRY    : 004f9d50
BODY     : [[004f9d50, 004f9dd8]]

============================================================
DECOMPILED C CODE
============================================================

bool FUN_004f9d50(int param_1)

{
  uint in_EAX;
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  uint uVar4;
  
  if (*(char *)(param_1 + 0x10) != '\0') {
    return in_EAX <= *(uint *)(param_1 + 0xc);
  }
  if (*(uint *)(param_1 + 0xc) < in_EAX) {
    puVar1 = (undefined4 *)FUN_004f9de0();
    if (*(int *)(param_1 + 8) != 0) {
      puVar3 = *(undefined4 **)(param_1 + 4);
      uVar4 = 0;
      puVar2 = puVar1;
      if (*(int *)(param_1 + 8) != 0) {
        do {
          *puVar2 = *puVar3;
          puVar2[1] = puVar3[1];
          uVar4 = uVar4 + 1;
          puVar2 = puVar2 + 2;
          puVar3 = puVar3 + 2;
        } while (uVar4 < *(uint *)(param_1 + 8));
      }
    }
    if (*(char *)(param_1 + 0x10) != '\0') {
      __wassert(L"!m_bExternalMemory",
                L"d:\\MaestiaProject\\MaestiaSrc\\Client\\Main\\include\\SpeedTree5.1.1\\Core/Array.inl"
                ,0x2eb);
    }
    FUN_00474f10();
    *(undefined4 **)(param_1 + 4) = puVar1;
    *(uint *)(param_1 + 0xc) = in_EAX;
  }
  return true;
}



============================================================
DISASSEMBLY
============================================================
004f9d50 : PUSH EBX
004f9d51 : MOV EBX,dword ptr [ESP + 0x8]
004f9d55 : CMP byte ptr [EBX + 0x10],0x0
004f9d59 : PUSH EDI
004f9d5a : MOV EDI,EAX
004f9d5c : JZ 0x004f9d69
004f9d5e : CMP dword ptr [EBX + 0xc],EDI
004f9d61 : POP EDI
004f9d62 : SBB EAX,EAX
004f9d64 : INC EAX
004f9d65 : POP EBX
004f9d66 : RET 0x4
004f9d69 : CMP EDI,dword ptr [EBX + 0xc]
004f9d6c : JBE 0x004f9dd2
004f9d6e : PUSH EBP
004f9d6f : PUSH ESI
004f9d70 : CALL 0x004f9de0
004f9d75 : MOV ESI,dword ptr [EBX + 0x8]
004f9d78 : MOV EBP,EAX
004f9d7a : TEST ESI,ESI
004f9d7c : JBE 0x004f9d9d
004f9d7e : MOV ECX,dword ptr [EBX + 0x4]
004f9d81 : XOR EDX,EDX
004f9d83 : TEST ESI,ESI
004f9d85 : JBE 0x004f9d9d
004f9d87 : MOV ESI,dword ptr [ECX]
004f9d89 : MOV dword ptr [EAX],ESI
004f9d8b : MOV ESI,dword ptr [ECX + 0x4]
004f9d8e : MOV dword ptr [EAX + 0x4],ESI
004f9d91 : INC EDX
004f9d92 : ADD EAX,0x8
004f9d95 : ADD ECX,0x8
004f9d98 : CMP EDX,dword ptr [EBX + 0x8]
004f9d9b : JC 0x004f9d87
004f9d9d : CMP byte ptr [EBX + 0x10],0x0
004f9da1 : MOV EAX,dword ptr [EBX + 0x4]
004f9da4 : MOV dword ptr [ESP + 0x14],EAX
004f9da8 : JZ 0x004f9dc1
004f9daa : PUSH 0x2eb
004f9daf : PUSH 0xcded60
004f9db4 : PUSH 0xcdee00
004f9db9 : CALL 0x00640200
004f9dbe : ADD ESP,0xc
004f9dc1 : LEA ESI,[ESP + 0x14]
004f9dc5 : CALL 0x00474f10
004f9dca : POP ESI
004f9dcb : MOV dword ptr [EBX + 0x4],EBP
004f9dce : MOV dword ptr [EBX + 0xc],EDI
004f9dd1 : POP EBP
004f9dd2 : POP EDI
004f9dd3 : MOV AL,0x1
004f9dd5 : POP EBX
004f9dd6 : RET 0x4
