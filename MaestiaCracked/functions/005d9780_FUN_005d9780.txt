PROGRAM  : Maestia.exe
FUNCTION : FUN_005d9780
ENTRY    : 005d9780
BODY     : [[005d9780, 005d983f]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_005d9780(int param_1,int param_2,int param_3,undefined4 param_4,undefined4 param_5)

{
  int *piVar1;
  int iVar2;
  char cVar3;
  int in_ECX;
  int *piVar4;
  
  iVar2 = *(int *)(param_1 + 0x1c);
  if (iVar2 == 0) {
    return 0;
  }
  piVar4 = *(int **)(iVar2 + 0x1c);
  if (piVar4 != (int *)(iVar2 + 0x10)) {
    while( true ) {
      cVar3 = FUN_005d9ca0(param_3,param_4,param_5);
      if (cVar3 != '\0') {
        *(int *)(*piVar4 + 4) = piVar4[1];
        piVar1 = (int *)(in_ECX + 0x38);
        *(int *)piVar4[1] = *piVar4;
        iVar2 = *piVar1;
        piVar4[1] = (int)piVar1;
        *piVar4 = iVar2;
        *(int **)(*piVar1 + 4) = piVar4;
        *piVar1 = (int)piVar4;
        return piVar4[4];
      }
      if (((param_3 != 0) &&
          (((*(char *)(in_ECX + 0x7c) == '\0' && (param_3 == 2)) ||
           ((*(char *)(in_ECX + 0x7d) == '\0' && (param_3 == 1)))))) &&
         (param_2 == *(int *)(piVar4[4] + 100))) break;
      piVar4 = (int *)piVar4[3];
      if (piVar4 == (int *)(iVar2 + 0x10)) {
        return 0;
      }
    }
    FUN_005d9500(param_1,piVar4[4]);
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
005d9780 : PUSH ECX
005d9781 : MOV EAX,dword ptr [ESP + 0x8]
005d9785 : MOV EAX,dword ptr [EAX + 0x1c]
005d9788 : PUSH EBX
005d9789 : MOV EBX,ECX
005d978b : TEST EAX,EAX
005d978d : JNZ 0x005d9794
005d978f : POP EBX
005d9790 : POP ECX
005d9791 : RET 0x14
005d9794 : PUSH EBP
005d9795 : PUSH ESI
005d9796 : MOV ESI,dword ptr [EAX + 0x1c]
005d9799 : ADD EAX,0x10
005d979c : PUSH EDI
005d979d : MOV dword ptr [ESP + 0x10],EAX
005d97a1 : CMP ESI,EAX
005d97a3 : JZ 0x005d9836
005d97a9 : MOV EBP,dword ptr [ESP + 0x28]
005d97ad : MOV EDI,dword ptr [ESP + 0x20]
005d97b1 : MOV ECX,dword ptr [ESP + 0x24]
005d97b5 : PUSH EBP
005d97b6 : PUSH ECX
005d97b7 : MOV ECX,dword ptr [ESI + 0x10]
005d97ba : PUSH EDI
005d97bb : CALL 0x005d9ca0
005d97c0 : TEST AL,AL
005d97c2 : JNZ 0x005d97fc
005d97c4 : TEST EDI,EDI
005d97c6 : JZ 0x005d97e9
005d97c8 : CMP byte ptr [EBX + 0x7c],AL
005d97cb : JNZ 0x005d97d2
005d97cd : CMP EDI,0x2
005d97d0 : JZ 0x005d97dd
005d97d2 : CMP byte ptr [EBX + 0x7d],0x0
005d97d6 : JNZ 0x005d97e9
005d97d8 : CMP EDI,0x1
005d97db : JNZ 0x005d97e9
005d97dd : MOV EDX,dword ptr [ESI + 0x10]
005d97e0 : MOV EAX,dword ptr [ESP + 0x1c]
005d97e4 : CMP EAX,dword ptr [EDX + 0x64]
005d97e7 : JZ 0x005d9827
005d97e9 : MOV ESI,dword ptr [ESI + 0xc]
005d97ec : CMP ESI,dword ptr [ESP + 0x10]
005d97f0 : JNZ 0x005d97b1
005d97f2 : POP EDI
005d97f3 : POP ESI
005d97f4 : POP EBP
005d97f5 : XOR EAX,EAX
005d97f7 : POP EBX
005d97f8 : POP ECX
005d97f9 : RET 0x14
005d97fc : MOV ECX,dword ptr [ESI]
005d97fe : MOV EDX,dword ptr [ESI + 0x4]
005d9801 : MOV dword ptr [ECX + 0x4],EDX
005d9804 : MOV ECX,dword ptr [ESI + 0x4]
005d9807 : MOV EDX,dword ptr [ESI]
005d9809 : LEA EAX,[EBX + 0x38]
005d980c : MOV dword ptr [ECX],EDX
005d980e : MOV ECX,dword ptr [EAX]
005d9810 : MOV dword ptr [ESI + 0x4],EAX
005d9813 : MOV dword ptr [ESI],ECX
005d9815 : MOV EDX,dword ptr [EAX]
005d9817 : MOV dword ptr [EDX + 0x4],ESI
005d981a : POP EDI
005d981b : MOV dword ptr [EAX],ESI
005d981d : MOV EAX,dword ptr [ESI + 0x10]
005d9820 : POP ESI
005d9821 : POP EBP
005d9822 : POP EBX
005d9823 : POP ECX
005d9824 : RET 0x14
005d9827 : MOV ECX,dword ptr [ESP + 0x18]
005d982b : MOV EAX,EDX
005d982d : PUSH EAX
005d982e : PUSH ECX
005d982f : MOV ECX,EBX
005d9831 : CALL 0x005d9500
005d9836 : POP EDI
005d9837 : POP ESI
005d9838 : POP EBP
005d9839 : XOR EAX,EAX
005d983b : POP EBX
005d983c : POP ECX
005d983d : RET 0x14
