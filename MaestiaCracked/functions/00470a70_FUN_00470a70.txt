PROGRAM  : Maestia.exe
FUNCTION : FUN_00470a70
ENTRY    : 00470a70
BODY     : [[00470a70, 00470ab7]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int * FUN_00470a70(void)

{
  size_t _Size;
  int *piVar1;
  int unaff_EDI;
  
  _Size = unaff_EDI * 0x3c + 4;
  if (DAT_00da98c8 == (int *)0x0) {
    piVar1 = _malloc(_Size);
  }
  else {
    piVar1 = (int *)(**(code **)(*DAT_00da98c8 + 4))();
  }
  if (piVar1 != (int *)0x0) {
    _DAT_00da98cc = _DAT_00da98cc + _Size;
    _DAT_00da98d0 = _DAT_00da98d0 + 1;
    *piVar1 = unaff_EDI;
    return piVar1 + 1;
  }
  return (int *)0x0;
}



============================================================
DISASSEMBLY
============================================================
00470a70 : MOV ECX,dword ptr [0x00da98c8]
00470a76 : MOV EAX,EDI
00470a78 : SHL EAX,0x4
00470a7b : SUB EAX,EDI
00470a7d : PUSH ESI
00470a7e : LEA ESI,[EAX*0x4 + 0x4]
00470a85 : PUSH ESI
00470a86 : TEST ECX,ECX
00470a88 : JZ 0x00470a93
00470a8a : MOV EDX,dword ptr [ECX]
00470a8c : MOV EAX,dword ptr [EDX + 0x4]
00470a8f : CALL EAX
00470a91 : JMP 0x00470a9b
00470a93 : CALL 0x00636043
00470a98 : ADD ESP,0x4
00470a9b : TEST EAX,EAX
00470a9d : JZ 0x00470ab4
00470a9f : ADD dword ptr [0x00da98cc],ESI
00470aa5 : INC dword ptr [0x00da98d0]
00470aab : LEA ECX,[EAX + 0x4]
00470aae : MOV dword ptr [EAX],EDI
00470ab0 : MOV EAX,ECX
00470ab2 : POP ESI
00470ab3 : RET
00470ab4 : XOR EAX,EAX
00470ab6 : POP ESI
00470ab7 : RET
