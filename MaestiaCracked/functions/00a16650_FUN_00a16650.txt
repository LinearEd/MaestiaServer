PROGRAM  : Maestia.exe
FUNCTION : FUN_00a16650
ENTRY    : 00a16650
BODY     : [[00a16650, 00a1682a]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00a16650(undefined4 *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  undefined1 local_24 [8];
  undefined4 local_1c;
  undefined4 *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined1 local_8;
  undefined3 uStack_7;
  
  puStack_c = &LAB_00b260e4;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_00bf19b8;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  puVar1 = param_1 + 5;
  *puVar1 = &PTR_LAB_00cca504;
  if (param_1 == (undefined4 *)0xffffffe7) {
    DAT_017247bc = (undefined4 *)0x0;
  }
  else {
    DAT_017247bc = param_1;
  }
  local_8 = 1;
  uStack_7 = 0;
  *param_1 = &PTR_FUN_00cca718;
  *puVar1 = &PTR_LAB_00cca744;
  FUN_004014f0(param_1 + 8);
  uVar3 = DAT_01725270;
  iVar2 = DAT_017247e4;
  local_8 = 2;
  param_1[7] = 0;
  param_1[0xc] = 7000;
  param_1[0xd] = 0;
  param_1[0xe] = 37000;
  *(undefined4 **)(iVar2 + 8) = puVar1;
  local_18 = (undefined4 *)FUN_006f0760(0x14,"",0,(uVar3 >> 3 & 1) == 0,uVar4);
  if (local_18 == (undefined4 *)0x0) {
    local_18 = (undefined4 *)0x0;
  }
  else {
    local_18[1] = &PTR_LAB_00cca45c;
    *local_18 = &PTR_FUN_00cca74c;
    local_18[1] = &PTR_FUN_00cca75c;
  }
  local_8 = 2;
  local_1c = 1;
  FUN_0040f550(local_24,&local_1c);
  local_18 = (undefined4 *)FUN_006f0760(0x10,"",0,(DAT_01725270 >> 3 & 1) == 0,uVar4);
  if (local_18 == (undefined4 *)0x0) {
    local_18 = (undefined4 *)0x0;
  }
  else {
    local_18[1] = &PTR_LAB_00cca45c;
    *local_18 = &PTR_FUN_00cca760;
    local_18[1] = &PTR_LAB_00cca770;
    local_18[2] = 0;
    local_18[3] = 0;
  }
  local_8 = 2;
  local_1c = 2;
  FUN_0040f550(local_24,&local_1c);
  local_18 = (undefined4 *)FUN_006f0760(4,"",0,(DAT_01725270 >> 3 & 1) == 0);
  if (local_18 == (undefined4 *)0x0) {
    local_18 = (undefined4 *)0x0;
  }
  else {
    *local_18 = &PTR_FUN_00cca788;
  }
  _local_8 = CONCAT31(uStack_7,2);
  local_1c = 3;
  FUN_0040f550(local_24,&local_1c);
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00a16650 : PUSH EBP
00a16651 : MOV EBP,ESP
00a16653 : PUSH -0x1
00a16655 : PUSH 0xb260e4
00a1665a : MOV EAX,FS:[0x0]
00a16660 : PUSH EAX
00a16661 : SUB ESP,0x18
00a16664 : PUSH EBX
00a16665 : PUSH ESI
00a16666 : PUSH EDI
00a16667 : MOV EAX,[0x00d66fa0]
00a1666c : XOR EAX,EBP
00a1666e : PUSH EAX
00a1666f : LEA EAX,[EBP + -0xc]
00a16672 : MOV FS:[0x0],EAX
00a16678 : MOV ESI,dword ptr [EBP + 0x8]
00a1667b : XOR ECX,ECX
00a1667d : MOV dword ptr [ESI],0xbf19b8
00a16683 : MOV dword ptr [ESI + 0x4],ECX
00a16686 : MOV dword ptr [ESI + 0x8],ECX
00a16689 : MOV dword ptr [ESI + 0xc],ECX
00a1668c : MOV dword ptr [EBP + -0x4],ECX
00a1668f : LEA EAX,[ESI + 0x19]
00a16692 : LEA EBX,[ESI + 0x14]
00a16695 : MOV dword ptr [EBX],0xcca504
00a1669b : CMP EAX,ECX
00a1669d : JZ 0x00a166a9
00a1669f : ADD EAX,-0x19
00a166a2 : MOV [0x017247bc],EAX
00a166a7 : JMP 0x00a166af
00a166a9 : MOV dword ptr [0x017247bc],ECX
00a166af : MOV byte ptr [EBP + -0x4],0x1
00a166b3 : LEA EDI,[ESI + 0x20]
00a166b6 : PUSH EDI
00a166b7 : MOV dword ptr [ESI],0xcca718
00a166bd : MOV dword ptr [EBX],0xcca744
00a166c3 : CALL 0x004014f0
00a166c8 : MOV byte ptr [EBP + -0x4],0x2
00a166cc : MOV ECX,dword ptr [0x017247e4]
00a166d2 : MOV EDX,dword ptr [0x01725270]
00a166d8 : XOR EAX,EAX
00a166da : MOV dword ptr [ESI + 0x1c],EAX
00a166dd : MOV dword ptr [ESI + 0x30],0x1b58
00a166e4 : MOV dword ptr [ESI + 0x34],EAX
00a166e7 : MOV dword ptr [ESI + 0x38],0x9088
00a166ee : MOV dword ptr [ECX + 0x8],EBX
00a166f1 : SHR EDX,0x3
00a166f4 : MOV ECX,EAX
00a166f6 : AND EDX,0x1
00a166f9 : SETZ CL
00a166fc : PUSH ECX
00a166fd : PUSH EAX
00a166fe : PUSH 0xbf1a4a
00a16703 : PUSH 0x14
00a16705 : CALL 0x006f0760
00a1670a : ADD ESP,0x10
00a1670d : MOV dword ptr [EBP + -0x14],EAX
00a16710 : MOV byte ptr [EBP + -0x4],0x3
00a16714 : XOR EBX,EBX
00a16716 : CMP EAX,EBX
00a16718 : JZ 0x00a16730
00a1671a : MOV dword ptr [EAX + 0x4],0xcca45c
00a16721 : MOV dword ptr [EAX],0xcca74c
00a16727 : MOV dword ptr [EAX + 0x4],0xcca75c
00a1672e : JMP 0x00a16732
00a16730 : XOR EAX,EAX
00a16732 : MOV byte ptr [EBP + -0x4],0x2
00a16736 : MOV dword ptr [EBP + -0x14],EAX
00a16739 : LEA EDX,[EBP + -0x18]
00a1673c : PUSH EDX
00a1673d : LEA EAX,[EBP + -0x20]
00a16740 : PUSH EAX
00a16741 : MOV EAX,EDI
00a16743 : MOV dword ptr [EBP + -0x18],0x1
00a1674a : CALL 0x0040f550
00a1674f : MOV ECX,dword ptr [0x01725270]
00a16755 : SHR ECX,0x3
00a16758 : MOV EDX,EBX
00a1675a : AND ECX,0x1
00a1675d : SETZ DL
00a16760 : PUSH EDX
00a16761 : PUSH EBX
00a16762 : PUSH 0xbf1a4a
00a16767 : PUSH 0x10
00a16769 : CALL 0x006f0760
00a1676e : ADD ESP,0x10
00a16771 : MOV dword ptr [EBP + -0x14],EAX
00a16774 : MOV byte ptr [EBP + -0x4],0x4
00a16778 : CMP EAX,EBX
00a1677a : JZ 0x00a16798
00a1677c : MOV dword ptr [EAX + 0x4],0xcca45c
00a16783 : MOV dword ptr [EAX],0xcca760
00a16789 : MOV dword ptr [EAX + 0x4],0xcca770
00a16790 : MOV dword ptr [EAX + 0x8],EBX
00a16793 : MOV dword ptr [EAX + 0xc],EBX
00a16796 : JMP 0x00a1679a
00a16798 : XOR EAX,EAX
00a1679a : MOV byte ptr [EBP + -0x4],0x2
00a1679e : MOV dword ptr [EBP + -0x14],EAX
00a167a1 : LEA EAX,[EBP + -0x18]
00a167a4 : PUSH EAX
00a167a5 : LEA ECX,[EBP + -0x20]
00a167a8 : PUSH ECX
00a167a9 : MOV EAX,EDI
00a167ab : MOV dword ptr [EBP + -0x18],0x2
00a167b2 : CALL 0x0040f550
00a167b7 : MOV EDX,dword ptr [0x01725270]
00a167bd : SHR EDX,0x3
00a167c0 : MOV EAX,0x0
00a167c5 : AND EDX,0x1
00a167c8 : SETZ AL
00a167cb : PUSH EAX
00a167cc : PUSH EBX
00a167cd : PUSH 0xbf1a4a
00a167d2 : PUSH 0x4
00a167d4 : CALL 0x006f0760
00a167d9 : ADD ESP,0x10
00a167dc : MOV dword ptr [EBP + -0x14],EAX
00a167df : MOV byte ptr [EBP + -0x4],0x5
00a167e3 : CMP EAX,EBX
00a167e5 : JZ 0x00a167ef
00a167e7 : MOV dword ptr [EAX],0xcca788
00a167ed : JMP 0x00a167f1
00a167ef : XOR EAX,EAX
00a167f1 : MOV byte ptr [EBP + -0x4],0x2
00a167f5 : LEA ECX,[EBP + -0x18]
00a167f8 : PUSH ECX
00a167f9 : LEA EDX,[EBP + -0x20]
00a167fc : MOV dword ptr [EBP + -0x14],EAX
00a167ff : PUSH EDX
00a16800 : MOV EAX,EDI
00a16802 : MOV dword ptr [EBP + -0x18],0x3
00a16809 : CALL 0x0040f550
00a1680e : MOV dword ptr [EBP + -0x4],0xffffffff
00a16815 : MOV EAX,ESI
00a16817 : MOV ECX,dword ptr [EBP + -0xc]
00a1681a : MOV dword ptr FS:[0x0],ECX
00a16821 : POP ECX
00a16822 : POP EDI
00a16823 : POP ESI
00a16824 : POP EBX
00a16825 : MOV ESP,EBP
00a16827 : POP EBP
00a16828 : RET 0x4
