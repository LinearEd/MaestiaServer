PROGRAM  : Maestia.exe
FUNCTION : FUN_00620380
ENTRY    : 00620380
BODY     : [[00620380, 0062061b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00620380(int param_1,float *param_2,float *param_3)

{
  int iVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  double dVar7;
  double dVar8;
  
  iVar1 = _rand();
  fVar2 = (float)(iVar1 % 100) * *(float *)(*(int *)(param_1 + 0x164) + 0xd4) *
          *(float *)(param_1 + 0x338) * 0.01;
  iVar1 = _rand();
  fVar3 = (float)(iVar1 % 100) * *(float *)(*(int *)(param_1 + 0x164) + 0xdc) *
          *(float *)(param_1 + 0x340) * 0.01;
  iVar1 = _rand();
  fVar4 = (float)(iVar1 % 100) * *(float *)(*(int *)(param_1 + 0x164) + 0xd8) *
          *(float *)(param_1 + 0x33c) * 0.01 + 1e-05;
  iVar1 = _rand();
  fVar5 = (float)(iVar1 % 100) * fVar4 * 0.01;
  iVar1 = _rand();
  fVar6 = (float)(iVar1 % 100) * 0.06283186;
  dVar7 = (double)fVar6;
  FUN_0063ef0d();
  dVar8 = (double)fVar6;
  FUN_0063ed62();
  if ((0.0001 < fVar4) || (fVar4 < -0.0001)) {
    *param_2 = (fVar2 - (1.0 / fVar4) * fVar5 * fVar2) * (float)dVar8;
    param_2[2] = (fVar3 - (1.0 / fVar4) * fVar5 * fVar3) * (float)dVar7;
    param_2[1] = fVar5;
  }
  else {
    *param_2 = 0.0;
    param_2[2] = 0.0;
    param_2[1] = fVar5;
  }
  iVar1 = _rand();
  fVar2 = (float)(iVar1 % 100) * 0.06283186;
  iVar1 = _rand();
  fVar4 = (float)(iVar1 % 100) * *(float *)(*(int *)(param_1 + 0x164) + 0xe0) * 0.01;
  dVar7 = (double)fVar2;
  FUN_0063ed62();
  fVar3 = (float)dVar7 * fVar4;
  *param_3 = fVar3;
  param_3[1] = 10.0;
  dVar7 = (double)fVar2;
  FUN_0063ef0d();
  fVar4 = (float)dVar7 * fVar4;
  fVar2 = SQRT(fVar3 * fVar3 + fVar4 * fVar4 + 100.0);
  param_3[2] = fVar4;
  if (fVar2 != 0.0) {
    fVar2 = 1.0 / fVar2;
    *param_3 = fVar3 * fVar2;
    param_3[1] = fVar2 * 10.0;
    param_3[2] = fVar4 * fVar2;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00620380 : SUB ESP,0x14
00620383 : PUSH ESI
00620384 : MOV ESI,dword ptr [ESP + 0x1c]
00620388 : CALL 0x00635d2f
0062038d : CDQ
0062038e : MOV ECX,0x64
00620393 : IDIV ECX
00620395 : CVTSI2SS XMM0,EDX
00620399 : MOV EDX,dword ptr [ESI + 0x164]
0062039f : MULSS XMM0,dword ptr [EDX + 0xd4]
006203a7 : MULSS XMM0,dword ptr [ESI + 0x338]
006203af : MULSS XMM0,dword ptr [0x00cdf23c]
006203b7 : MOVSS dword ptr [ESP + 0xc],XMM0
006203bd : CALL 0x00635d2f
006203c2 : CDQ
006203c3 : MOV ECX,0x64
006203c8 : IDIV ECX
006203ca : CVTSI2SS XMM0,EDX
006203ce : MOV EDX,dword ptr [ESI + 0x164]
006203d4 : MULSS XMM0,dword ptr [EDX + 0xdc]
006203dc : MULSS XMM0,dword ptr [ESI + 0x340]
006203e4 : MULSS XMM0,dword ptr [0x00cdf23c]
006203ec : MOVSS dword ptr [ESP + 0x10],XMM0
006203f2 : CALL 0x00635d2f
006203f7 : CDQ
006203f8 : MOV ECX,0x64
006203fd : IDIV ECX
006203ff : CVTSI2SS XMM0,EDX
00620403 : MOV EDX,dword ptr [ESI + 0x164]
00620409 : MULSS XMM0,dword ptr [EDX + 0xd8]
00620411 : MULSS XMM0,dword ptr [ESI + 0x33c]
00620419 : MULSS XMM0,dword ptr [0x00cdf23c]
00620421 : ADDSS XMM0,dword ptr [0x00cdf32c]
00620429 : MOVSS dword ptr [ESP + 0x1c],XMM0
0062042f : CALL 0x00635d2f
00620434 : CDQ
00620435 : MOV ECX,0x64
0062043a : IDIV ECX
0062043c : CVTSI2SS XMM0,EDX
00620440 : MULSS XMM0,dword ptr [ESP + 0x1c]
00620446 : MULSS XMM0,dword ptr [0x00cdf23c]
0062044e : MOVSS dword ptr [ESP + 0x4],XMM0
00620454 : CALL 0x00635d2f
00620459 : CDQ
0062045a : MOV ECX,0x64
0062045f : IDIV ECX
00620461 : CVTSI2SS XMM0,EDX
00620465 : MULSS XMM0,dword ptr [0x00b958dc]
0062046d : MOVSS dword ptr [ESP + 0x8],XMM0
00620473 : CVTSS2SD XMM0,XMM0
00620477 : CALL 0x0063ef0d
0062047c : CVTSD2SS XMM0,XMM0
00620480 : MOVSS dword ptr [ESP + 0x14],XMM0
00620486 : CVTSS2SD XMM0,dword ptr [ESP + 0x8]
0062048c : CALL 0x0063ed62
00620491 : MOVSS XMM1,dword ptr [ESP + 0x1c]
00620497 : COMISS XMM1,dword ptr [0x00cdf398]
0062049e : CVTSD2SS XMM3,XMM0
006204a2 : XORPS XMM0,XMM0
006204a5 : JA 0x006204ce
006204a7 : MOVSS XMM2,dword ptr [0x00b958e4]
006204af : COMISS XMM2,XMM1
006204b2 : JA 0x006204ce
006204b4 : MOV EAX,dword ptr [ESP + 0x20]
006204b8 : MOVSS dword ptr [EAX],XMM0
006204bc : MOVSS dword ptr [EAX + 0x8],XMM0
006204c1 : MOVSS XMM0,dword ptr [ESP + 0x4]
006204c7 : MOVSS dword ptr [EAX + 0x4],XMM0
006204cc : JMP 0x00620523
006204ce : MOVSS XMM0,dword ptr [0x00b86060]
006204d6 : MOVSS XMM2,dword ptr [ESP + 0x4]
006204dc : MOV EAX,dword ptr [ESP + 0x20]
006204e0 : DIVSS XMM0,XMM1
006204e4 : MOVSS XMM1,dword ptr [ESP + 0xc]
006204ea : MOVAPS XMM4,XMM0
006204ed : MULSS XMM4,XMM2
006204f1 : MULSS XMM4,XMM1
006204f5 : SUBSS XMM1,XMM4
006204f9 : MULSS XMM1,XMM3
006204fd : MOVSS dword ptr [EAX],XMM1
00620501 : MOVSS XMM1,dword ptr [ESP + 0x10]
00620507 : MULSS XMM0,XMM2
0062050b : MULSS XMM0,XMM1
0062050f : SUBSS XMM1,XMM0
00620513 : MULSS XMM1,dword ptr [ESP + 0x14]
00620519 : MOVSS dword ptr [EAX + 0x8],XMM1
0062051e : MOVSS dword ptr [EAX + 0x4],XMM2
00620523 : CALL 0x00635d2f
00620528 : CDQ
00620529 : MOV ECX,0x64
0062052e : IDIV ECX
00620530 : CVTSI2SS XMM0,EDX
00620534 : MULSS XMM0,dword ptr [0x00b958dc]
0062053c : MOVSS dword ptr [ESP + 0x1c],XMM0
00620542 : CALL 0x00635d2f
00620547 : CDQ
00620548 : MOV ECX,0x64
0062054d : IDIV ECX
0062054f : CVTSI2SS XMM0,EDX
00620553 : MOV EDX,dword ptr [ESI + 0x164]
00620559 : MULSS XMM0,dword ptr [EDX + 0xe0]
00620561 : MULSS XMM0,dword ptr [0x00cdf23c]
00620569 : MOVSS dword ptr [ESP + 0x4],XMM0
0062056f : CVTSS2SD XMM0,dword ptr [ESP + 0x1c]
00620575 : CALL 0x0063ed62
0062057a : MOV ESI,dword ptr [ESP + 0x24]
0062057e : CVTSD2SS XMM0,XMM0
00620582 : MULSS XMM0,dword ptr [ESP + 0x4]
00620588 : MOVSS dword ptr [ESP + 0x14],XMM0
0062058e : MOVSS dword ptr [ESI],XMM0
00620592 : MOVSS XMM0,dword ptr [0x00b8f298]
0062059a : MOVSS dword ptr [ESI + 0x4],XMM0
0062059f : CVTSS2SD XMM0,dword ptr [ESP + 0x1c]
006205a5 : CALL 0x0063ef0d
006205aa : MOVSS XMM1,dword ptr [ESP + 0x14]
006205b0 : CVTSD2SS XMM0,XMM0
006205b4 : MULSS XMM0,dword ptr [ESP + 0x4]
006205ba : MOVAPS XMM2,XMM1
006205bd : MULSS XMM2,XMM1
006205c1 : MOVAPS XMM3,XMM0
006205c4 : MULSS XMM3,XMM0
006205c8 : ADDSS XMM2,XMM3
006205cc : ADDSS XMM2,dword ptr [0x00cdf230]
006205d4 : SQRTSS XMM3,XMM2
006205d8 : UCOMISS XMM3,dword ptr [0x00b9b0b4]
006205df : LAHF
006205e0 : MOVSS dword ptr [ESI + 0x8],XMM0
006205e5 : TEST AH,0x44
006205e8 : JNP 0x00620617
006205ea : MOVSS XMM2,dword ptr [0x00b86060]
006205f2 : DIVSS XMM2,XMM3
006205f6 : MULSS XMM1,XMM2
006205fa : MOVSS dword ptr [ESI],XMM1
006205fe : MOVAPS XMM1,XMM2
00620601 : MULSS XMM1,dword ptr [0x00b8f298]
00620609 : MULSS XMM0,XMM2
0062060d : MOVSS dword ptr [ESI + 0x4],XMM1
00620612 : MOVSS dword ptr [ESI + 0x8],XMM0
00620617 : POP ESI
00620618 : ADD ESP,0x14
0062061b : RET
