PROGRAM  : Maestia.exe
FUNCTION : FUN_0084a370
ENTRY    : 0084a370
BODY     : [[0084a370, 0084a39c] [0084a3a0, 0084a413]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_0084a370(uint param_1,short param_2)

{
  char cVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int in_EAX;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  
  if ((*(int *)(in_EAX + 0x2c) != 0) || (FUN_008471d0(), *(int *)(in_EAX + 0x2c) != 0)) {
    puVar6 = (undefined4 *)(*(undefined4 **)(in_EAX + 0x28))[1];
    cVar1 = *(char *)((int)puVar6 + 0x21);
    puVar2 = *(undefined4 **)(in_EAX + 0x28);
    while (cVar1 == '\0') {
      if ((uint)puVar6[3] < param_1) {
        puVar4 = (undefined4 *)puVar6[2];
        puVar6 = puVar2;
      }
      else {
        puVar4 = (undefined4 *)*puVar6;
      }
      puVar2 = puVar6;
      puVar6 = puVar4;
      cVar1 = *(char *)((int)puVar4 + 0x21);
    }
    if (puVar2 != *(undefined4 **)(in_EAX + 0x28)) {
      puVar6 = *(undefined4 **)(in_EAX + 0x28);
      puVar4 = (undefined4 *)puVar6[1];
      while( true ) {
        cVar1 = *(char *)((int)puVar4 + 0x21);
        puVar7 = puVar6;
        puVar3 = puVar4;
        while (cVar1 == '\0') {
          if (param_1 < (uint)puVar3[3]) {
            puVar5 = (undefined4 *)*puVar3;
            puVar7 = puVar3;
          }
          else {
            puVar5 = (undefined4 *)puVar3[2];
          }
          puVar3 = puVar5;
          cVar1 = *(char *)((int)puVar5 + 0x21);
        }
        if (puVar2 == puVar7) break;
        if (*(short *)(puVar2 + 5) == param_2) {
          return puVar2 + 4;
        }
        FUN_00442590();
      }
    }
  }
  return (undefined4 *)0x0;
}



============================================================
DISASSEMBLY
============================================================
0084a370 : PUSH EBP
0084a371 : MOV EBP,ESP
0084a373 : PUSH ECX
0084a374 : PUSH EBX
0084a375 : MOV EBX,dword ptr [EBP + 0x8]
0084a378 : PUSH ESI
0084a379 : MOV ESI,EAX
0084a37b : CMP dword ptr [ESI + 0x2c],0x0
0084a37f : PUSH EDI
0084a380 : JNZ 0x0084a38f
0084a382 : MOV ECX,ESI
0084a384 : CALL 0x008471d0
0084a389 : CMP dword ptr [ESI + 0x2c],0x0
0084a38d : JZ 0x0084a40a
0084a38f : MOV ECX,dword ptr [ESI + 0x28]
0084a392 : MOV EAX,dword ptr [ECX + 0x4]
0084a395 : CMP byte ptr [EAX + 0x21],0x0
0084a399 : JNZ 0x0084a3b4
0084a39b : JMP 0x0084a3a0
0084a3a0 : CMP dword ptr [EAX + 0xc],EBX
0084a3a3 : JNC 0x0084a3aa
0084a3a5 : MOV EAX,dword ptr [EAX + 0x8]
0084a3a8 : JMP 0x0084a3ae
0084a3aa : MOV ECX,EAX
0084a3ac : MOV EAX,dword ptr [EAX]
0084a3ae : CMP byte ptr [EAX + 0x21],0x0
0084a3b2 : JZ 0x0084a3a0
0084a3b4 : MOV EDX,ECX
0084a3b6 : MOV dword ptr [EBP + 0x8],EDX
0084a3b9 : CMP ECX,dword ptr [ESI + 0x28]
0084a3bc : JZ 0x0084a40a
0084a3be : MOV ESI,dword ptr [ESI + 0x28]
0084a3c1 : MOV EDI,dword ptr [ESI + 0x4]
0084a3c4 : MOV EAX,EDI
0084a3c6 : CMP byte ptr [EAX + 0x21],0x0
0084a3ca : MOV ECX,ESI
0084a3cc : JNZ 0x0084a3e4
0084a3ce : MOV EDI,EDI
0084a3d0 : CMP EBX,dword ptr [EAX + 0xc]
0084a3d3 : JNC 0x0084a3db
0084a3d5 : MOV ECX,EAX
0084a3d7 : MOV EAX,dword ptr [EAX]
0084a3d9 : JMP 0x0084a3de
0084a3db : MOV EAX,dword ptr [EAX + 0x8]
0084a3de : CMP byte ptr [EAX + 0x21],0x0
0084a3e2 : JZ 0x0084a3d0
0084a3e4 : CMP EDX,ECX
0084a3e6 : JZ 0x0084a40a
0084a3e8 : MOV AX,word ptr [EDX + 0x14]
0084a3ec : CMP AX,word ptr [EBP + 0xc]
0084a3f0 : JZ 0x0084a3ff
0084a3f2 : LEA EDX,[EBP + 0x8]
0084a3f5 : CALL 0x00442590
0084a3fa : MOV EDX,dword ptr [EBP + 0x8]
0084a3fd : JMP 0x0084a3c4
0084a3ff : LEA EAX,[EDX + 0x10]
0084a402 : POP EDI
0084a403 : POP ESI
0084a404 : POP EBX
0084a405 : POP ECX
0084a406 : POP EBP
0084a407 : RET 0x8
0084a40a : POP EDI
0084a40b : POP ESI
0084a40c : XOR EAX,EAX
0084a40e : POP EBX
0084a40f : POP ECX
0084a410 : POP EBP
0084a411 : RET 0x8
