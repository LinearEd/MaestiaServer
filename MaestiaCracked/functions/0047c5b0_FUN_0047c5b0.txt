PROGRAM  : Maestia.exe
FUNCTION : FUN_0047c5b0
ENTRY    : 0047c5b0
BODY     : [[0047c5b0, 0047c714] [0047c71b, 0047c737] [0047c779, 0047c811] [0047c82f, 0047c8ac]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0047c5b0(int param_1,int param_2,uint param_3)

{
  uint *puVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  uint uStack_90;
  uint local_70;
  uint local_6c;
  undefined1 local_68 [76];
  uint local_1c;
  undefined1 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b806f4;
  local_10 = ExceptionList;
  uStack_90 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_14 = (undefined1 *)&uStack_90;
  ExceptionList = &local_10;
  iVar2 = *(int *)(param_1 + 4);
  if (iVar2 == 0) {
    local_70 = 0;
  }
  else {
    local_70 = (*(int *)(param_1 + 0xc) - iVar2) / 0x48;
  }
  iVar5 = *(int *)(param_1 + 8);
  iVar2 = (iVar5 - iVar2) / 0x48;
  local_1c = uStack_90;
  puVar1 = &uStack_90;
  if (iVar2 == 0x38e38e3) {
    iVar2 = FUN_00429be0();
    puVar1 = (uint *)local_14;
  }
  local_14 = (undefined1 *)puVar1;
  uVar3 = iVar2 + 1;
  if (local_70 < uVar3) {
    if (0x38e38e3 - (local_70 >> 1) < local_70) {
      local_70 = 0;
    }
    else {
      local_70 = local_70 + (local_70 >> 1);
    }
    if (local_70 < uVar3) {
      local_70 = uVar3;
    }
    iVar2 = FUN_0047c8e0();
    local_8 = 0;
    FUN_0047c560(param_3);
    FUN_0047c8b0(*(undefined4 *)(param_1 + 4),param_2);
    FUN_0047c8b0(param_2,*(undefined4 *)(param_1 + 8));
    local_8 = 0xffffffff;
    if (*(int *)(param_1 + 4) != 0) {
      FUN_0047c590();
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(uint *)(param_1 + 0xc) = iVar2 + local_70 * 0x48;
    *(int *)(param_1 + 8) =
         iVar2 + ((*(int *)(param_1 + 8) - *(int *)(param_1 + 4)) / 0x48 + 1) * 0x48;
    *(int *)(param_1 + 4) = iVar2;
  }
  else {
    iVar5 = iVar5 - param_2;
    iVar2 = iVar5 >> 0x1f;
    if (iVar5 / 0x48 + iVar2 == iVar2) {
      FUN_0047c300(local_68);
      local_8 = 2;
      FUN_0047c8b0(param_2,*(undefined4 *)(param_1 + 8));
      local_8 = CONCAT31(local_8._1_3_,3);
      FUN_0047c560(local_68);
      local_8 = 2;
      *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x48;
      FUN_0047ca00(*(int *)(param_1 + 8) + -0x48);
    }
    else {
      FUN_0047c300(local_68);
      local_8 = 5;
      uVar4 = FUN_0047c8b0(*(int *)(param_1 + 8) + -0x48,*(int *)(param_1 + 8));
      *(undefined4 *)(param_1 + 8) = uVar4;
      local_6c = param_3 & 0xffffff00;
      FUN_0047cb00(param_2,local_6c,local_6c,local_6c);
      FUN_0047ca00(param_2 + 0x48);
    }
    local_8 = 0xffffffff;
    FUN_0047c240(local_68);
  }
  ExceptionList = local_10;
  __security_check_cookie(local_1c ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0047c5b0 : PUSH EBP
0047c5b1 : MOV EBP,ESP
0047c5b3 : PUSH -0x1
0047c5b5 : PUSH 0xb806f4
0047c5ba : MOV EAX,FS:[0x0]
0047c5c0 : PUSH EAX
0047c5c1 : SUB ESP,0x70
0047c5c4 : MOV EAX,[0x00d66fa0]
0047c5c9 : XOR EAX,EBP
0047c5cb : MOV dword ptr [EBP + -0x18],EAX
0047c5ce : PUSH EBX
0047c5cf : PUSH ESI
0047c5d0 : PUSH EDI
0047c5d1 : PUSH EAX
0047c5d2 : LEA EAX,[EBP + -0xc]
0047c5d5 : MOV FS:[0x0],EAX
0047c5db : MOV dword ptr [EBP + -0x10],ESP
0047c5de : MOV EBX,dword ptr [EBP + 0x8]
0047c5e1 : MOV dword ptr [EBP + -0x70],EBX
0047c5e4 : MOV EAX,dword ptr [EBP + 0x10]
0047c5e7 : MOV dword ptr [EBP + -0x68],EAX
0047c5ea : MOV ECX,dword ptr [EBX + 0x4]
0047c5ed : TEST ECX,ECX
0047c5ef : JNZ 0x0047c5f5
0047c5f1 : XOR EDI,EDI
0047c5f3 : JMP 0x0047c60d
0047c5f5 : MOV EDX,dword ptr [EBX + 0xc]
0047c5f8 : SUB EDX,ECX
0047c5fa : MOV EAX,0x38e38e39
0047c5ff : IMUL EDX
0047c601 : SAR EDX,0x4
0047c604 : MOV EAX,EDX
0047c606 : SHR EAX,0x1f
0047c609 : ADD EAX,EDX
0047c60b : MOV EDI,EAX
0047c60d : MOV ESI,dword ptr [EBX + 0x8]
0047c610 : MOV EDX,ESI
0047c612 : SUB EDX,ECX
0047c614 : MOV EAX,0x38e38e39
0047c619 : IMUL EDX
0047c61b : SAR EDX,0x4
0047c61e : MOV EAX,EDX
0047c620 : SHR EAX,0x1f
0047c623 : ADD EAX,EDX
0047c625 : MOV ECX,0x38e38e3
0047c62a : SUB ECX,EAX
0047c62c : CMP ECX,0x1
0047c62f : JNC 0x0047c636
0047c631 : CALL 0x00429be0
0047c636 : INC EAX
0047c637 : CMP EDI,EAX
0047c639 : JNC 0x0047c779
0047c63f : MOV ECX,EDI
0047c641 : SHR ECX,0x1
0047c643 : MOV EDX,0x38e38e3
0047c648 : SUB EDX,ECX
0047c64a : CMP EDX,EDI
0047c64c : JNC 0x0047c657
0047c64e : XOR ESI,ESI
0047c650 : MOV dword ptr [EBP + -0x6c],ESI
0047c653 : MOV EDI,ESI
0047c655 : JMP 0x0047c65e
0047c657 : ADD EDI,ECX
0047c659 : MOV dword ptr [EBP + -0x6c],EDI
0047c65c : XOR ESI,ESI
0047c65e : CMP EDI,EAX
0047c660 : JNC 0x0047c667
0047c662 : MOV dword ptr [EBP + -0x6c],EAX
0047c665 : MOV EDI,EAX
0047c667 : MOV ECX,EDI
0047c669 : CALL 0x0047c8e0
0047c66e : MOV EDI,EAX
0047c670 : MOV dword ptr [EBP + -0x78],EDI
0047c673 : MOV ECX,dword ptr [EBP + 0xc]
0047c676 : SUB ECX,dword ptr [EBX + 0x4]
0047c679 : MOV EAX,0x38e38e39
0047c67e : IMUL ECX
0047c680 : SAR EDX,0x4
0047c683 : MOV EAX,EDX
0047c685 : SHR EAX,0x1f
0047c688 : ADD EAX,EDX
0047c68a : MOV dword ptr [EBP + -0x70],EAX
0047c68d : MOV dword ptr [EBP + -0x74],ESI
0047c690 : MOV dword ptr [EBP + -0x4],ESI
0047c693 : MOV ECX,dword ptr [EBP + -0x68]
0047c696 : PUSH ECX
0047c697 : LEA EDX,[EAX + EAX*0x8]
0047c69a : LEA EDI,[EDI + EDX*0x8]
0047c69d : MOV ESI,0x1
0047c6a2 : CALL 0x0047c560
0047c6a7 : MOV dword ptr [EBP + -0x74],ESI
0047c6aa : MOV EAX,dword ptr [EBP + 0xc]
0047c6ad : PUSH EAX
0047c6ae : MOV ECX,dword ptr [EBX + 0x4]
0047c6b1 : PUSH ECX
0047c6b2 : MOV EDI,dword ptr [EBP + -0x78]
0047c6b5 : MOV EDX,EDI
0047c6b7 : CALL 0x0047c8b0
0047c6bc : MOV dword ptr [EBP + -0x74],0x2
0047c6c3 : MOV EAX,dword ptr [EBP + -0x70]
0047c6c6 : LEA EDX,[EAX + EAX*0x8 + 0x9]
0047c6ca : LEA EDX,[EDI + EDX*0x8]
0047c6cd : MOV EAX,dword ptr [EBX + 0x8]
0047c6d0 : PUSH EAX
0047c6d1 : MOV ECX,dword ptr [EBP + 0xc]
0047c6d4 : PUSH ECX
0047c6d5 : CALL 0x0047c8b0
0047c6da : MOV dword ptr [EBP + -0x4],0xffffffff
0047c6e1 : MOV ECX,dword ptr [EBX + 0x8]
0047c6e4 : MOV ESI,dword ptr [EBX + 0x4]
0047c6e7 : SUB ECX,ESI
0047c6e9 : MOV EAX,0x38e38e39
0047c6ee : IMUL ECX
0047c6f0 : SAR EDX,0x4
0047c6f3 : MOV EAX,EDX
0047c6f5 : SHR EAX,0x1f
0047c6f8 : LEA EDX,[EDX + EAX*0x1 + 0x1]
0047c6fc : MOV dword ptr [EBP + -0x68],EDX
0047c6ff : TEST ESI,ESI
0047c701 : JZ 0x0047c71b
0047c703 : MOV EDI,dword ptr [EBX + 0x8]
0047c706 : MOV EAX,ESI
0047c708 : CALL 0x0047c590
0047c70d : MOV ECX,dword ptr [EBX + 0x4]
0047c710 : CALL 0x006f04e0
0047c71b : MOV EAX,dword ptr [EBP + -0x6c]
0047c71e : LEA ECX,[EAX + EAX*0x8]
0047c721 : LEA EAX,[EDI + ECX*0x8]
0047c724 : MOV dword ptr [EBX + 0xc],EAX
0047c727 : LEA ECX,[EDX + EDX*0x8]
0047c72a : LEA EDX,[EDI + ECX*0x8]
0047c72d : MOV dword ptr [EBX + 0x8],EDX
0047c730 : MOV dword ptr [EBX + 0x4],EDI
0047c733 : JMP 0x0047c88f
0047c779 : SUB ESI,dword ptr [EBP + 0xc]
0047c77c : MOV EAX,0x38e38e39
0047c781 : IMUL ESI
0047c783 : SAR EDX,0x4
0047c786 : MOV EAX,EDX
0047c788 : SHR EAX,0x1f
0047c78b : ADD EAX,EDX
0047c78d : MOV EDI,dword ptr [EBP + -0x68]
0047c790 : CMP EAX,0x1
0047c793 : JNC 0x0047c82f
0047c799 : LEA ECX,[EBP + -0x64]
0047c79c : PUSH ECX
0047c79d : CALL 0x0047c300
0047c7a2 : MOV dword ptr [EBP + -0x4],0x2
0047c7a9 : MOV EAX,dword ptr [EBP + 0xc]
0047c7ac : LEA EDX,[EAX + 0x48]
0047c7af : MOV ECX,dword ptr [EBX + 0x8]
0047c7b2 : PUSH ECX
0047c7b3 : PUSH EAX
0047c7b4 : CALL 0x0047c8b0
0047c7b9 : MOV byte ptr [EBP + -0x4],0x3
0047c7bd : MOV EDI,dword ptr [EBX + 0x8]
0047c7c0 : LEA EDX,[EBP + -0x64]
0047c7c3 : PUSH EDX
0047c7c4 : MOV ECX,EDI
0047c7c6 : SUB ECX,dword ptr [EBP + 0xc]
0047c7c9 : MOV EAX,0x38e38e39
0047c7ce : IMUL ECX
0047c7d0 : SAR EDX,0x4
0047c7d3 : MOV EAX,EDX
0047c7d5 : SHR EAX,0x1f
0047c7d8 : ADD EAX,EDX
0047c7da : MOV ESI,0x1
0047c7df : SUB ESI,EAX
0047c7e1 : CALL 0x0047c560
0047c7e6 : MOV dword ptr [EBP + -0x4],0x2
0047c7ed : ADD dword ptr [EBX + 0x8],0x48
0047c7f1 : MOV EBX,dword ptr [EBX + 0x8]
0047c7f4 : LEA EAX,[EBX + -0x48]
0047c7f7 : PUSH EAX
0047c7f8 : LEA EDI,[EBP + -0x64]
0047c7fb : MOV EAX,dword ptr [EBP + 0xc]
0047c7fe : CALL 0x0047ca00
0047c803 : ADD ESP,0x4
0047c806 : MOV dword ptr [EBP + -0x4],0xffffffff
0047c80d : MOV ECX,EDI
0047c80f : PUSH ECX
0047c810 : JMP 0x0047c88a
0047c82f : LEA EAX,[EBP + -0x64]
0047c832 : PUSH EAX
0047c833 : CALL 0x0047c300
0047c838 : MOV dword ptr [EBP + -0x4],0x5
0047c83f : MOV ESI,dword ptr [EBX + 0x8]
0047c842 : LEA EDI,[ESI + -0x48]
0047c845 : PUSH ESI
0047c846 : PUSH EDI
0047c847 : MOV EDX,ESI
0047c849 : CALL 0x0047c8b0
0047c84e : MOV dword ptr [EBX + 0x8],EAX
0047c851 : MOV byte ptr [EBP + -0x68],0x0
0047c855 : MOV ECX,dword ptr [EBP + -0x68]
0047c858 : PUSH ECX
0047c859 : MOV EDX,dword ptr [EBP + -0x68]
0047c85c : PUSH EDX
0047c85d : MOV EAX,dword ptr [EBP + -0x68]
0047c860 : PUSH EAX
0047c861 : MOV ECX,dword ptr [EBP + 0xc]
0047c864 : PUSH ECX
0047c865 : MOV EAX,ESI
0047c867 : MOV ECX,EDI
0047c869 : CALL 0x0047cb00
0047c86e : MOV EAX,dword ptr [EBP + 0xc]
0047c871 : LEA EDX,[EAX + 0x48]
0047c874 : PUSH EDX
0047c875 : LEA EDI,[EBP + -0x64]
0047c878 : CALL 0x0047ca00
0047c87d : ADD ESP,0x14
0047c880 : MOV dword ptr [EBP + -0x4],0xffffffff
0047c887 : MOV EAX,EDI
0047c889 : PUSH EAX
0047c88a : CALL 0x0047c240
0047c88f : MOV ECX,dword ptr [EBP + -0xc]
0047c892 : MOV dword ptr FS:[0x0],ECX
0047c899 : POP ECX
0047c89a : POP EDI
0047c89b : POP ESI
0047c89c : POP EBX
0047c89d : MOV ECX,dword ptr [EBP + -0x18]
0047c8a0 : XOR ECX,EBP
0047c8a2 : CALL 0x00633e6b
0047c8a7 : MOV ESP,EBP
0047c8a9 : POP EBP
0047c8aa : RET 0xc
