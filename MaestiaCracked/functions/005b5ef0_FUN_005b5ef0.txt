PROGRAM  : Maestia.exe
FUNCTION : FUN_005b5ef0
ENTRY    : 005b5ef0
BODY     : [[005b5ef0, 005b5f69]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005b5ef0(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0x10);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 2;
  iVar1 = FUN_00515d60(param_1,uVar2 * 0x10,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
005b5ef0 : MOV EAX,dword ptr [ESP + 0x8]
005b5ef4 : PUSH EDI
005b5ef5 : MOV EDI,ECX
005b5ef7 : TEST EAX,EAX
005b5ef9 : JNZ 0x005b5f18
005b5efb : MOV EAX,dword ptr [EDI]
005b5efd : TEST EAX,EAX
005b5eff : JZ 0x005b5f0d
005b5f01 : PUSH EAX
005b5f02 : CALL 0x00515cf0
005b5f07 : MOV dword ptr [EDI],0x0
005b5f0d : MOV dword ptr [EDI + 0x8],0x0
005b5f14 : POP EDI
005b5f15 : RET 0x8
005b5f18 : PUSH ESI
005b5f19 : LEA ESI,[EAX + 0x3]
005b5f1c : MOV EAX,dword ptr [EDI]
005b5f1e : SHR ESI,0x2
005b5f21 : ADD ESI,ESI
005b5f23 : ADD ESI,ESI
005b5f25 : TEST EAX,EAX
005b5f27 : JZ 0x005b5f41
005b5f29 : LEA ECX,[ESI*0x4 + 0x0]
005b5f30 : PUSH ECX
005b5f31 : PUSH EAX
005b5f32 : CALL 0x00515c80
005b5f37 : MOV dword ptr [EDI + 0x8],ESI
005b5f3a : POP ESI
005b5f3b : MOV dword ptr [EDI],EAX
005b5f3d : POP EDI
005b5f3e : RET 0x8
005b5f41 : MOV ECX,dword ptr [ESP + 0xc]
005b5f45 : LEA EDX,[ESP + 0x10]
005b5f49 : PUSH EDX
005b5f4a : LEA EAX,[ESI*0x4 + 0x0]
005b5f51 : PUSH EAX
005b5f52 : PUSH ECX
005b5f53 : MOV dword ptr [ESP + 0x1c],0x2
005b5f5b : CALL 0x00515d60
005b5f60 : MOV dword ptr [EDI + 0x8],ESI
005b5f63 : POP ESI
005b5f64 : MOV dword ptr [EDI],EAX
005b5f66 : POP EDI
005b5f67 : RET 0x8
