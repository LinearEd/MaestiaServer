PROGRAM  : Maestia.exe
FUNCTION : FUN_009efbf0
ENTRY    : 009efbf0
BODY     : [[009efbf0, 009efe0f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009efbf0(int param_1)

{
  char cVar1;
  int iVar2;
  int *in_ECX;
  int *piVar3;
  int iVar4;
  bool bVar5;
  undefined4 uVar6;
  
  piVar3 = (int *)in_ECX[10];
  if ((piVar3 != (int *)0x0) && (param_1 == 0)) {
    (**(code **)(*piVar3 + 100))
              ((short)in_ECX[0xb],*(undefined2 *)((int)in_ECX + 0x2e),in_ECX[4],(char)in_ECX[0x54]);
    return;
  }
  if (piVar3 != (int *)0x0) {
    if (param_1 == 1) {
      iVar4 = in_ECX[4];
      iVar2 = FUN_004049b0(iVar4);
      if (iVar2 != 0) {
        if (((((in_ECX[0x48] & 1U) != 0) && ((in_ECX[0x48] & 4U) == 0)) &&
            (cVar1 = (**(code **)(*in_ECX + 0x30))(), cVar1 == '\0')) &&
           ((*(uint *)(iVar2 + 0x48) & 0x8000) != 0)) {
          (**(code **)(*(int *)in_ECX[10] + 100))
                    ((short)in_ECX[0xb],*(undefined2 *)((int)in_ECX + 0x2e),in_ECX[4],1);
          return;
        }
        (**(code **)(*(int *)in_ECX[10] + 100))
                  ((short)in_ECX[0xb],*(undefined2 *)((int)in_ECX + 0x2e),in_ECX[4],0);
        return;
      }
      FUN_008018d0(L"[ERROR] AvaItemNonEquip::UpdateTypeUsable Invalid Proto : %d",iVar4);
    }
    else if (piVar3 != (int *)0x0) {
      if (param_1 == 2) {
        cVar1 = (**(code **)(*in_ECX + 0x30))();
        piVar3 = (int *)in_ECX[10];
        if (cVar1 != '\0') {
          uVar6 = 1;
LAB_009efdc5:
          (**(code **)(*piVar3 + 100))
                    ((short)in_ECX[0xb],*(undefined2 *)((int)in_ECX + 0x2e),in_ECX[4],uVar6);
          return;
        }
LAB_009efdf3:
        (**(code **)(*piVar3 + 100))
                  ((short)in_ECX[0xb],*(undefined2 *)((int)in_ECX + 0x2e),in_ECX[4],0);
        return;
      }
      if (piVar3 == (int *)0x0) {
        return;
      }
      if (param_1 == 3) {
        iVar4 = in_ECX[4];
        iVar2 = FUN_004049b0(iVar4);
        if (iVar2 == 0) {
          return;
        }
        iVar2 = FUN_00413400();
        piVar3 = (int *)in_ECX[10];
        if (iVar2 == 0) {
LAB_009efd95:
          (**(code **)(*piVar3 + 100))
                    ((short)in_ECX[0xb],*(undefined2 *)((int)in_ECX + 0x2e),iVar4,0);
          return;
        }
      }
      else {
        if (piVar3 == (int *)0x0) {
          return;
        }
        if (param_1 == 4) {
          iVar4 = in_ECX[4];
          iVar2 = FUN_004049b0(iVar4);
          if (iVar2 == 0) {
            return;
          }
          bVar5 = (char)((uint)iVar4 >> 0x10) == '\x1e';
        }
        else {
          if (piVar3 == (int *)0x0) {
            return;
          }
          if (param_1 != 5) {
            if (piVar3 == (int *)0x0) {
              return;
            }
            if ((param_1 == 7) || (param_1 == 6)) {
              uVar6 = 0;
              goto LAB_009efdc5;
            }
            if (piVar3 == (int *)0x0) {
              return;
            }
            if (param_1 != 0xe) {
              return;
            }
            goto LAB_009efdf3;
          }
          iVar4 = in_ECX[4];
          iVar2 = FUN_004049b0(iVar4);
          if (iVar2 == 0) {
            return;
          }
          bVar5 = (char)((uint)iVar4 >> 0x10) == '2';
        }
        piVar3 = (int *)in_ECX[10];
        if (!bVar5) goto LAB_009efd95;
      }
      (**(code **)(*piVar3 + 100))((short)in_ECX[0xb],*(undefined2 *)((int)in_ECX + 0x2e),iVar4,1);
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009efbf0 : PUSH EBP
009efbf1 : MOV EBP,ESP
009efbf3 : PUSH ESI
009efbf4 : MOV ESI,ECX
009efbf6 : MOV EAX,dword ptr [ESI + 0x28]
009efbf9 : MOV ECX,dword ptr [EBP + 0x8]
009efbfc : TEST EAX,EAX
009efbfe : JZ 0x009efc28
009efc00 : TEST ECX,ECX
009efc02 : JNZ 0x009efc28
009efc04 : MOVZX EDX,byte ptr [ESI + 0x150]
009efc0b : PUSH EDX
009efc0c : MOV EDX,dword ptr [ESI + 0x10]
009efc0f : PUSH EDX
009efc10 : MOVZX EDX,word ptr [ESI + 0x2e]
009efc14 : PUSH EDX
009efc15 : MOVZX EDX,word ptr [ESI + 0x2c]
009efc19 : MOV ECX,EAX
009efc1b : MOV EAX,dword ptr [ECX]
009efc1d : MOV EAX,dword ptr [EAX + 0x64]
009efc20 : PUSH EDX
009efc21 : CALL EAX
009efc23 : POP ESI
009efc24 : POP EBP
009efc25 : RET 0x4
009efc28 : PUSH EDI
009efc29 : TEST EAX,EAX
009efc2b : JZ 0x009efc5e
009efc2d : CMP ECX,0x1
009efc30 : JNZ 0x009efccf
009efc36 : PUSH EBX
009efc37 : MOV EBX,dword ptr [ESI + 0x10]
009efc3a : PUSH EBX
009efc3b : CALL 0x004049b0
009efc40 : MOV EDI,EAX
009efc42 : ADD ESP,0x4
009efc45 : TEST EDI,EDI
009efc47 : JNZ 0x009efc64
009efc49 : MOV ESI,dword ptr [0x00da98e8]
009efc4f : PUSH EBX
009efc50 : PUSH 0xca4e80
009efc55 : CALL 0x008018d0
009efc5a : ADD ESP,0x8
009efc5d : POP EBX
009efc5e : POP EDI
009efc5f : POP ESI
009efc60 : POP EBP
009efc61 : RET 0x4
009efc64 : MOV EAX,dword ptr [ESI + 0x120]
009efc6a : TEST AL,0x1
009efc6c : JZ 0x009efcae
009efc6e : TEST AL,0x4
009efc70 : JNZ 0x009efcae
009efc72 : MOV EDX,dword ptr [ESI]
009efc74 : MOV EAX,dword ptr [EDX + 0x30]
009efc77 : MOV ECX,ESI
009efc79 : CALL EAX
009efc7b : TEST AL,AL
009efc7d : JNZ 0x009efcae
009efc7f : MOV EAX,dword ptr [EDI + 0x48]
009efc82 : AND EAX,0x8000
009efc87 : XOR ECX,ECX
009efc89 : OR EAX,ECX
009efc8b : JZ 0x009efcae
009efc8d : MOV EAX,dword ptr [ESI + 0x10]
009efc90 : MOV ECX,dword ptr [ESI + 0x28]
009efc93 : MOV EDX,dword ptr [ECX]
009efc95 : MOV EDX,dword ptr [EDX + 0x64]
009efc98 : PUSH 0x1
009efc9a : PUSH EAX
009efc9b : MOVZX EAX,word ptr [ESI + 0x2e]
009efc9f : PUSH EAX
009efca0 : MOVZX EAX,word ptr [ESI + 0x2c]
009efca4 : PUSH EAX
009efca5 : CALL EDX
009efca7 : POP EBX
009efca8 : POP EDI
009efca9 : POP ESI
009efcaa : POP EBP
009efcab : RET 0x4
009efcae : MOV EDX,dword ptr [ESI + 0x10]
009efcb1 : MOV ECX,dword ptr [ESI + 0x28]
009efcb4 : MOV EAX,dword ptr [ECX]
009efcb6 : MOV EAX,dword ptr [EAX + 0x64]
009efcb9 : PUSH 0x0
009efcbb : PUSH EDX
009efcbc : MOVZX EDX,word ptr [ESI + 0x2e]
009efcc0 : PUSH EDX
009efcc1 : MOVZX EDX,word ptr [ESI + 0x2c]
009efcc5 : PUSH EDX
009efcc6 : CALL EAX
009efcc8 : POP EBX
009efcc9 : POP EDI
009efcca : POP ESI
009efccb : POP EBP
009efccc : RET 0x4
009efccf : TEST EAX,EAX
009efcd1 : JZ 0x009efc5e
009efcd3 : CMP ECX,0x2
009efcd6 : JNZ 0x009efcf3
009efcd8 : MOV EDX,dword ptr [ESI]
009efcda : MOV EAX,dword ptr [EDX + 0x30]
009efcdd : MOV ECX,ESI
009efcdf : CALL EAX
009efce1 : MOV ECX,dword ptr [ESI + 0x28]
009efce4 : TEST AL,AL
009efce6 : JZ 0x009efdf3
009efcec : PUSH 0x1
009efcee : JMP 0x009efdc5
009efcf3 : TEST EAX,EAX
009efcf5 : JZ 0x009efc5e
009efcfb : CMP ECX,0x3
009efcfe : JNZ 0x009efd3c
009efd00 : MOV EDI,dword ptr [ESI + 0x10]
009efd03 : PUSH EDI
009efd04 : CALL 0x004049b0
009efd09 : ADD ESP,0x4
009efd0c : TEST EAX,EAX
009efd0e : JZ 0x009efc5e
009efd14 : MOV EAX,ESI
009efd16 : CALL 0x00413400
009efd1b : MOV ECX,dword ptr [ESI + 0x28]
009efd1e : TEST EAX,EAX
009efd20 : JZ 0x009efd95
009efd22 : MOVZX EAX,word ptr [ESI + 0x2e]
009efd26 : MOV EDX,dword ptr [ECX]
009efd28 : MOV EDX,dword ptr [EDX + 0x64]
009efd2b : PUSH 0x1
009efd2d : PUSH EDI
009efd2e : PUSH EAX
009efd2f : MOVZX EAX,word ptr [ESI + 0x2c]
009efd33 : PUSH EAX
009efd34 : CALL EDX
009efd36 : POP EDI
009efd37 : POP ESI
009efd38 : POP EBP
009efd39 : RET 0x4
009efd3c : TEST EAX,EAX
009efd3e : JZ 0x009efc5e
009efd44 : CMP ECX,0x4
009efd47 : JNZ 0x009efd67
009efd49 : MOV EDI,dword ptr [ESI + 0x10]
009efd4c : PUSH EDI
009efd4d : CALL 0x004049b0
009efd52 : ADD ESP,0x4
009efd55 : TEST EAX,EAX
009efd57 : JZ 0x009efc5e
009efd5d : MOV ECX,EDI
009efd5f : SHR ECX,0x10
009efd62 : CMP CL,0x1e
009efd65 : JMP 0x009efd90
009efd67 : TEST EAX,EAX
009efd69 : JZ 0x009efc5e
009efd6f : CMP ECX,0x5
009efd72 : JNZ 0x009efdaf
009efd74 : MOV EDI,dword ptr [ESI + 0x10]
009efd77 : PUSH EDI
009efd78 : CALL 0x004049b0
009efd7d : ADD ESP,0x4
009efd80 : TEST EAX,EAX
009efd82 : JZ 0x009efc5e
009efd88 : MOV ECX,EDI
009efd8a : SHR ECX,0x10
009efd8d : CMP CL,0x32
009efd90 : MOV ECX,dword ptr [ESI + 0x28]
009efd93 : JZ 0x009efd22
009efd95 : MOVZX EDX,word ptr [ESI + 0x2e]
009efd99 : MOV EAX,dword ptr [ECX]
009efd9b : MOV EAX,dword ptr [EAX + 0x64]
009efd9e : PUSH 0x0
009efda0 : PUSH EDI
009efda1 : PUSH EDX
009efda2 : MOVZX EDX,word ptr [ESI + 0x2c]
009efda6 : PUSH EDX
009efda7 : CALL EAX
009efda9 : POP EDI
009efdaa : POP ESI
009efdab : POP EBP
009efdac : RET 0x4
009efdaf : TEST EAX,EAX
009efdb1 : JZ 0x009efc5e
009efdb7 : CMP ECX,0x7
009efdba : JZ 0x009efdc1
009efdbc : CMP ECX,0x6
009efdbf : JNZ 0x009efde0
009efdc1 : MOV ECX,EAX
009efdc3 : PUSH 0x0
009efdc5 : MOV EAX,dword ptr [ESI + 0x10]
009efdc8 : MOV EDX,dword ptr [ECX]
009efdca : MOV EDX,dword ptr [EDX + 0x64]
009efdcd : PUSH EAX
009efdce : MOVZX EAX,word ptr [ESI + 0x2e]
009efdd2 : PUSH EAX
009efdd3 : MOVZX EAX,word ptr [ESI + 0x2c]
009efdd7 : PUSH EAX
009efdd8 : CALL EDX
009efdda : POP EDI
009efddb : POP ESI
009efddc : POP EBP
009efddd : RET 0x4
009efde0 : TEST EAX,EAX
009efde2 : JZ 0x009efc5e
009efde8 : CMP ECX,0xe
009efdeb : JNZ 0x009efc5e
009efdf1 : MOV ECX,EAX
009efdf3 : MOV EDX,dword ptr [ESI + 0x10]
009efdf6 : MOV EAX,dword ptr [ECX]
009efdf8 : MOV EAX,dword ptr [EAX + 0x64]
009efdfb : PUSH 0x0
009efdfd : PUSH EDX
009efdfe : MOVZX EDX,word ptr [ESI + 0x2e]
009efe02 : PUSH EDX
009efe03 : MOVZX EDX,word ptr [ESI + 0x2c]
009efe07 : PUSH EDX
009efe08 : CALL EAX
009efe0a : POP EDI
009efe0b : POP ESI
009efe0c : POP EBP
009efe0d : RET 0x4
