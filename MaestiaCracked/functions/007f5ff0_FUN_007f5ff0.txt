PROGRAM  : Maestia.exe
FUNCTION : FUN_007f5ff0
ENTRY    : 007f5ff0
BODY     : [[007f5ff0, 007f60d9]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_007f5ff0(int *param_1,undefined4 param_2)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0d929;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  uVar3 = 0;
  param_1 = (int *)((int)param_1 + 0xc);
  do {
    iVar2 = *param_1;
    if ((iVar2 != 0) && (*(int *)(iVar2 + 4) == 2)) {
      local_24 = (LPCRITICAL_SECTION)(iVar2 + 0xc);
      local_18 = 0;
      local_20 = ".\\World\\AvaWorld.cpp";
      local_1c = 0xfd7;
      local_14 = 1;
      FUN_006ef1a0(&local_24);
      local_8 = 0;
      iVar2 = (**(code **)(**(int **)(iVar2 + 0x50) + 0x60))(param_2,uVar1);
      if (iVar2 != 0) {
        local_8 = 0xffffffff;
        if (local_18 != 0) {
          LeaveCriticalSection(local_24);
        }
        ExceptionList = local_10;
        return iVar2;
      }
      local_8 = 0xffffffff;
      if (local_18 != 0) {
        LeaveCriticalSection(local_24);
      }
    }
    param_1 = param_1 + 1;
    uVar3 = uVar3 + 1;
  } while (uVar3 < 0x20);
  ExceptionList = local_10;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
007f5ff0 : PUSH EBP
007f5ff1 : MOV EBP,ESP
007f5ff3 : PUSH -0x1
007f5ff5 : PUSH 0xb0d929
007f5ffa : MOV EAX,FS:[0x0]
007f6000 : PUSH EAX
007f6001 : SUB ESP,0x14
007f6004 : PUSH EBX
007f6005 : PUSH ESI
007f6006 : PUSH EDI
007f6007 : MOV EAX,[0x00d66fa0]
007f600c : XOR EAX,EBP
007f600e : PUSH EAX
007f600f : LEA EAX,[EBP + -0xc]
007f6012 : MOV FS:[0x0],EAX
007f6018 : MOV EAX,dword ptr [EBP + 0x8]
007f601b : XOR EDI,EDI
007f601d : XOR EBX,EBX
007f601f : ADD EAX,0xc
007f6022 : MOV dword ptr [EBP + 0x8],EAX
007f6025 : MOV ECX,dword ptr [EBP + 0x8]
007f6028 : MOV ESI,dword ptr [ECX]
007f602a : CMP ESI,EDI
007f602c : JZ 0x007f608b
007f602e : CMP dword ptr [ESI + 0x4],0x2
007f6032 : JNZ 0x007f608b
007f6034 : LEA EAX,[EBP + -0x20]
007f6037 : LEA EDX,[ESI + 0xc]
007f603a : PUSH EAX
007f603b : MOV dword ptr [EBP + -0x14],EDI
007f603e : MOV dword ptr [EBP + -0x20],EDX
007f6041 : MOV dword ptr [EBP + -0x1c],0xc25adc
007f6048 : MOV dword ptr [EBP + -0x18],0xfd7
007f604f : MOV dword ptr [EBP + -0x10],0x1
007f6056 : CALL 0x006ef1a0
007f605b : MOV dword ptr [EBP + -0x4],EDI
007f605e : MOV ECX,dword ptr [ESI + 0x50]
007f6061 : MOV EDX,dword ptr [ECX]
007f6063 : MOV EAX,dword ptr [EBP + 0xc]
007f6066 : MOV EDX,dword ptr [EDX + 0x60]
007f6069 : PUSH EAX
007f606a : CALL EDX
007f606c : MOV ESI,EAX
007f606e : CMP ESI,EDI
007f6070 : JNZ 0x007f60ab
007f6072 : MOV dword ptr [EBP + -0x4],0xffffffff
007f6079 : CMP dword ptr [EBP + -0x14],EDI
007f607c : JZ 0x007f608b
007f607e : MOV EAX,dword ptr [EBP + -0x20]
007f6081 : PUSH EAX
007f6082 : CALL dword ptr [0x00b8511c]
007f6088 : MOV dword ptr [EBP + -0x14],EDI
007f608b : ADD dword ptr [EBP + 0x8],0x4
007f608f : INC EBX
007f6090 : CMP EBX,0x20
007f6093 : JC 0x007f6025
007f6095 : XOR EAX,EAX
007f6097 : MOV ECX,dword ptr [EBP + -0xc]
007f609a : MOV dword ptr FS:[0x0],ECX
007f60a1 : POP ECX
007f60a2 : POP EDI
007f60a3 : POP ESI
007f60a4 : POP EBX
007f60a5 : MOV ESP,EBP
007f60a7 : POP EBP
007f60a8 : RET 0x8
007f60ab : MOV dword ptr [EBP + -0x4],0xffffffff
007f60b2 : CMP dword ptr [EBP + -0x14],EDI
007f60b5 : JZ 0x007f60c4
007f60b7 : MOV ECX,dword ptr [EBP + -0x20]
007f60ba : PUSH ECX
007f60bb : CALL dword ptr [0x00b8511c]
007f60c1 : MOV dword ptr [EBP + -0x14],EDI
007f60c4 : MOV EAX,ESI
007f60c6 : MOV ECX,dword ptr [EBP + -0xc]
007f60c9 : MOV dword ptr FS:[0x0],ECX
007f60d0 : POP ECX
007f60d1 : POP EDI
007f60d2 : POP ESI
007f60d3 : POP EBX
007f60d4 : MOV ESP,EBP
007f60d6 : POP EBP
007f60d7 : RET 0x8
