PROGRAM  : Maestia.exe
FUNCTION : FUN_008c76d0
ENTRY    : 008c76d0
BODY     : [[008c76d0, 008c7978]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008c76d0(int param_1,undefined4 param_2)

{
  wchar_t wVar1;
  int *piVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  uint uVar6;
  wchar_t *pwVar7;
  int *in_ECX;
  wchar_t *pwVar8;
  wchar_t *pwVar9;
  bool bVar10;
  undefined1 local_60 [4];
  int local_5c;
  int local_58;
  undefined1 local_50 [4];
  undefined2 local_4c;
  undefined4 local_3c;
  uint local_38;
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b450a4;
  local_14 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xffffff90;
  ExceptionList = &local_14;
  local_38 = 7;
  local_3c = 0;
  local_4c = 0;
  FUN_00406360(&DAT_00c50eb0,1);
  local_c = 0;
  uVar4 = FUN_00404350(param_2,uVar3);
  local_c._0_1_ = 1;
  FUN_0070cd60(local_60,uVar4,local_50,0);
  local_c = CONCAT31(local_c._1_3_,3);
  if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_1c = 7;
  local_20 = 0;
  local_30 = 0;
  local_c = CONCAT31(local_c._1_3_,4);
  if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_38 = 7;
  uVar3 = *(uint *)(param_1 + 0x18);
  local_3c = 0;
  local_4c = 0;
  pwVar7 = (wchar_t *)(param_1 + 4);
  pwVar9 = pwVar7;
  if (7 < uVar3) {
    pwVar9 = *(wchar_t **)pwVar7;
  }
  pwVar8 = L"onInit";
  do {
    wVar1 = *pwVar9;
    bVar10 = (ushort)wVar1 < (ushort)*pwVar8;
    if (wVar1 != *pwVar8) {
LAB_008c77dc:
      iVar5 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
      goto LAB_008c77e1;
    }
    if (wVar1 == L'\0') break;
    wVar1 = pwVar9[1];
    bVar10 = (ushort)wVar1 < (ushort)pwVar8[1];
    if (wVar1 != pwVar8[1]) goto LAB_008c77dc;
    pwVar9 = pwVar9 + 2;
    pwVar8 = pwVar8 + 2;
  } while (wVar1 != L'\0');
  iVar5 = 0;
LAB_008c77e1:
  if (iVar5 == 0) {
    FUN_00483f90();
    FUN_008c7430();
  }
  else {
    pwVar9 = pwVar7;
    if (7 < uVar3) {
      pwVar9 = *(wchar_t **)pwVar7;
    }
    pwVar8 = L"onLButtonDown";
    do {
      wVar1 = *pwVar9;
      bVar10 = (ushort)wVar1 < (ushort)*pwVar8;
      if (wVar1 != *pwVar8) {
LAB_008c782e:
        iVar5 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
        goto LAB_008c7833;
      }
      if (wVar1 == L'\0') break;
      wVar1 = pwVar9[1];
      bVar10 = (ushort)wVar1 < (ushort)pwVar8[1];
      if (wVar1 != pwVar8[1]) goto LAB_008c782e;
      pwVar9 = pwVar9 + 2;
      pwVar8 = pwVar8 + 2;
    } while (wVar1 != L'\0');
    iVar5 = 0;
LAB_008c7833:
    if (iVar5 == 0) {
      iVar5 = local_58 - local_5c >> 0x1f;
      if ((local_58 - local_5c) / 0x1c + iVar5 == iVar5) {
        uVar3 = 0;
      }
      else if (*(uint *)(local_5c + 0x18) < 8) {
        uVar3 = FUN_00634f4d(local_5c + 4);
      }
      else {
        uVar3 = FUN_00634f4d(*(undefined4 *)(local_5c + 4));
      }
      FUN_008c7590(uVar3);
      if ((uVar3 >> 8 & 0xff) == 0) {
        uVar3 = uVar3 | 0x100;
      }
      uVar6 = FUN_00812380();
      piVar2 = DAT_00da9894;
      *(uint *)(*(int *)(*DAT_00da9894 + 0x1a0) + 0x3c) = uVar3 | uVar6;
      if (*(char *)(*(int *)(*piVar2 + 0x1a0) + 0x32) == '\0') {
        FUN_0098dda0(*(int *)(*piVar2 + 0x1a0));
      }
      else {
        FUN_0098d840();
      }
    }
    else {
      if (7 < uVar3) {
        pwVar7 = *(wchar_t **)pwVar7;
      }
      pwVar9 = L"Close";
      do {
        wVar1 = *pwVar7;
        bVar10 = (ushort)wVar1 < (ushort)*pwVar9;
        if (wVar1 != *pwVar9) {
LAB_008c791a:
          iVar5 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
          goto LAB_008c791f;
        }
        if (wVar1 == L'\0') break;
        wVar1 = pwVar7[1];
        bVar10 = (ushort)wVar1 < (ushort)pwVar9[1];
        if (wVar1 != pwVar9[1]) goto LAB_008c791a;
        pwVar7 = pwVar7 + 2;
        pwVar9 = pwVar9 + 2;
      } while (wVar1 != L'\0');
      iVar5 = 0;
LAB_008c791f:
      if (iVar5 == 0) {
        (**(code **)(*in_ECX + 0x20))();
      }
    }
  }
  local_c = 0xffffffff;
  if (local_5c == 0) {
    ExceptionList = local_14;
    return;
  }
  FUN_00405450(in_ECX);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
008c76d0 : PUSH EBP
008c76d1 : MOV EBP,ESP
008c76d3 : AND ESP,0xfffffff8
008c76d6 : PUSH -0x1
008c76d8 : PUSH 0xb450a4
008c76dd : MOV EAX,FS:[0x0]
008c76e3 : PUSH EAX
008c76e4 : SUB ESP,0x50
008c76e7 : PUSH EBX
008c76e8 : PUSH ESI
008c76e9 : PUSH EDI
008c76ea : MOV EAX,[0x00d66fa0]
008c76ef : XOR EAX,ESP
008c76f1 : PUSH EAX
008c76f2 : LEA EAX,[ESP + 0x60]
008c76f6 : MOV FS:[0x0],EAX
008c76fc : MOV dword ptr [ESP + 0x10],ECX
008c7700 : PUSH 0x1
008c7702 : XOR EAX,EAX
008c7704 : MOV EDI,0x7
008c7709 : XOR EBX,EBX
008c770b : PUSH 0xc50eb0
008c7710 : LEA ECX,[ESP + 0x2c]
008c7714 : MOV dword ptr [ESP + 0x44],EDI
008c7718 : MOV dword ptr [ESP + 0x40],EBX
008c771c : MOV word ptr [ESP + 0x30],AX
008c7721 : CALL 0x00406360
008c7726 : MOV dword ptr [ESP + 0x68],EBX
008c772a : MOV ECX,dword ptr [EBP + 0xc]
008c772d : PUSH ECX
008c772e : LEA ESI,[ESP + 0x44]
008c7732 : CALL 0x00404350
008c7737 : ADD ESP,0x4
008c773a : MOV byte ptr [ESP + 0x68],0x1
008c773f : PUSH EBX
008c7740 : LEA EDX,[ESP + 0x28]
008c7744 : PUSH EDX
008c7745 : PUSH EAX
008c7746 : LEA EAX,[ESP + 0x20]
008c774a : PUSH EAX
008c774b : CALL 0x0070cd60
008c7750 : ADD ESP,0x10
008c7753 : MOV byte ptr [ESP + 0x68],0x3
008c7758 : MOV ESI,0x8
008c775d : CMP dword ptr [ESP + 0x58],ESI
008c7761 : JC 0x008c776c
008c7763 : MOV ECX,dword ptr [ESP + 0x44]
008c7767 : CALL 0x006f04e0
008c776c : XOR ECX,ECX
008c776e : MOV dword ptr [ESP + 0x58],EDI
008c7772 : MOV dword ptr [ESP + 0x54],EBX
008c7776 : MOV word ptr [ESP + 0x44],CX
008c777b : MOV byte ptr [ESP + 0x68],0x4
008c7780 : CMP dword ptr [ESP + 0x3c],ESI
008c7784 : JC 0x008c778f
008c7786 : MOV ECX,dword ptr [ESP + 0x28]
008c778a : CALL 0x006f04e0
008c778f : MOV EAX,dword ptr [EBP + 0x8]
008c7792 : MOV dword ptr [ESP + 0x3c],EDI
008c7796 : MOV EDI,dword ptr [EAX + 0x18]
008c7799 : XOR EDX,EDX
008c779b : CMP EDI,ESI
008c779d : MOV dword ptr [ESP + 0x38],EBX
008c77a1 : MOV word ptr [ESP + 0x28],DX
008c77a6 : LEA ESI,[EAX + 0x4]
008c77a9 : JC 0x008c77af
008c77ab : MOV EAX,dword ptr [ESI]
008c77ad : JMP 0x008c77b1
008c77af : MOV EAX,ESI
008c77b1 : MOV ECX,0xc50eb4
008c77b6 : MOV DX,word ptr [EAX]
008c77b9 : CMP DX,word ptr [ECX]
008c77bc : JNZ 0x008c77dc
008c77be : CMP DX,BX
008c77c1 : JZ 0x008c77d8
008c77c3 : MOV DX,word ptr [EAX + 0x2]
008c77c7 : CMP DX,word ptr [ECX + 0x2]
008c77cb : JNZ 0x008c77dc
008c77cd : ADD EAX,0x4
008c77d0 : ADD ECX,0x4
008c77d3 : CMP DX,BX
008c77d6 : JNZ 0x008c77b6
008c77d8 : XOR EAX,EAX
008c77da : JMP 0x008c77e1
008c77dc : SBB EAX,EAX
008c77de : SBB EAX,-0x1
008c77e1 : CMP EAX,EBX
008c77e3 : JNZ 0x008c77f8
008c77e5 : CALL 0x00483f90
008c77ea : MOV EDI,dword ptr [ESP + 0x10]
008c77ee : CALL 0x008c7430
008c77f3 : JMP 0x008c792e
008c77f8 : CMP EDI,0x8
008c77fb : JC 0x008c7801
008c77fd : MOV EAX,dword ptr [ESI]
008c77ff : JMP 0x008c7803
008c7801 : MOV EAX,ESI
008c7803 : MOV ECX,0xc50ed4
008c7808 : MOV DX,word ptr [EAX]
008c780b : CMP DX,word ptr [ECX]
008c780e : JNZ 0x008c782e
008c7810 : CMP DX,BX
008c7813 : JZ 0x008c782a
008c7815 : MOV DX,word ptr [EAX + 0x2]
008c7819 : CMP DX,word ptr [ECX + 0x2]
008c781d : JNZ 0x008c782e
008c781f : ADD EAX,0x4
008c7822 : ADD ECX,0x4
008c7825 : CMP DX,BX
008c7828 : JNZ 0x008c7808
008c782a : XOR EAX,EAX
008c782c : JMP 0x008c7833
008c782e : SBB EAX,EAX
008c7830 : SBB EAX,-0x1
008c7833 : CMP EAX,EBX
008c7835 : JNZ 0x008c78e4
008c783b : MOV ECX,dword ptr [ESP + 0x1c]
008c783f : MOV ESI,dword ptr [ESP + 0x18]
008c7843 : SUB ECX,ESI
008c7845 : MOV EAX,0x92492493
008c784a : IMUL ECX
008c784c : ADD EDX,ECX
008c784e : SAR EDX,0x4
008c7851 : MOV EAX,EDX
008c7853 : SHR EAX,0x1f
008c7856 : ADD EAX,EDX
008c7858 : JZ 0x008c7880
008c785a : CMP dword ptr [ESI + 0x18],0x8
008c785e : JC 0x008c7870
008c7860 : MOV ESI,dword ptr [ESI + 0x4]
008c7863 : PUSH ESI
008c7864 : CALL 0x00634f4d
008c7869 : ADD ESP,0x4
008c786c : MOV ESI,EAX
008c786e : JMP 0x008c7882
008c7870 : ADD ESI,0x4
008c7873 : PUSH ESI
008c7874 : CALL 0x00634f4d
008c7879 : ADD ESP,0x4
008c787c : MOV ESI,EAX
008c787e : JMP 0x008c7882
008c7880 : XOR ESI,ESI
008c7882 : MOV ECX,dword ptr [ESP + 0x10]
008c7886 : PUSH ESI
008c7887 : CALL 0x008c7590
008c788c : MOV ECX,ESI
008c788e : SHR ECX,0x8
008c7891 : AND ECX,0xff
008c7897 : JNZ 0x008c789f
008c7899 : OR ESI,0x100
008c789f : MOV EDX,dword ptr [0x0172491c]
008c78a5 : MOV EAX,dword ptr [EDX + 0x144]
008c78ab : MOV EDI,ESI
008c78ad : CALL 0x00812380
008c78b2 : OR ESI,EAX
008c78b4 : MOV EAX,[0x00da9894]
008c78b9 : MOV ECX,dword ptr [EAX]
008c78bb : MOV ECX,dword ptr [ECX + 0x1a0]
008c78c1 : MOV dword ptr [ECX + 0x3c],ESI
008c78c4 : MOV EAX,dword ptr [EAX]
008c78c6 : MOV ECX,dword ptr [EAX + 0x1a0]
008c78cc : CMP byte ptr [ECX + 0x32],BL
008c78cf : JNZ 0x008c78db
008c78d1 : MOV EAX,ECX
008c78d3 : PUSH EAX
008c78d4 : CALL 0x0098dda0
008c78d9 : JMP 0x008c792e
008c78db : MOV ESI,ECX
008c78dd : CALL 0x0098d840
008c78e2 : JMP 0x008c792e
008c78e4 : CMP EDI,0x8
008c78e7 : JC 0x008c78ed
008c78e9 : MOV EAX,dword ptr [ESI]
008c78eb : JMP 0x008c78ef
008c78ed : MOV EAX,ESI
008c78ef : MOV ECX,0xc50ef0
008c78f4 : MOV DX,word ptr [EAX]
008c78f7 : CMP DX,word ptr [ECX]
008c78fa : JNZ 0x008c791a
008c78fc : CMP DX,BX
008c78ff : JZ 0x008c7916
008c7901 : MOV DX,word ptr [EAX + 0x2]
008c7905 : CMP DX,word ptr [ECX + 0x2]
008c7909 : JNZ 0x008c791a
008c790b : ADD EAX,0x4
008c790e : ADD ECX,0x4
008c7911 : CMP DX,BX
008c7914 : JNZ 0x008c78f4
008c7916 : XOR EAX,EAX
008c7918 : JMP 0x008c791f
008c791a : SBB EAX,EAX
008c791c : SBB EAX,-0x1
008c791f : CMP EAX,EBX
008c7921 : JNZ 0x008c792e
008c7923 : MOV ECX,dword ptr [ESP + 0x10]
008c7927 : MOV EAX,dword ptr [ECX]
008c7929 : MOV EDX,dword ptr [EAX + 0x20]
008c792c : CALL EDX
008c792e : MOV dword ptr [ESP + 0x68],0xffffffff
008c7936 : MOV EAX,dword ptr [ESP + 0x18]
008c793a : CMP EAX,EBX
008c793c : JZ 0x008c7958
008c793e : MOV ECX,dword ptr [ESP + 0x10]
008c7942 : MOV EDI,dword ptr [ESP + 0x1c]
008c7946 : PUSH ECX
008c7947 : CALL 0x00405450
008c794c : MOV ECX,dword ptr [ESP + 0x1c]
008c7950 : ADD ESP,0x4
008c7953 : CALL 0x006f04e0
008c7958 : MOV dword ptr [ESP + 0x18],EBX
008c795c : MOV dword ptr [ESP + 0x1c],EBX
008c7960 : MOV dword ptr [ESP + 0x20],EBX
008c7964 : MOV ECX,dword ptr [ESP + 0x60]
008c7968 : MOV dword ptr FS:[0x0],ECX
008c796f : POP ECX
008c7970 : POP EDI
008c7971 : POP ESI
008c7972 : POP EBX
008c7973 : MOV ESP,EBP
008c7975 : POP EBP
008c7976 : RET 0x8
