PROGRAM  : Maestia.exe
FUNCTION : FUN_007d7e60
ENTRY    : 007d7e60
BODY     : [[007d7e60, 007d7f9b]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x007d7ef7) */
/* WARNING: Removing unreachable block (ram,0x007d7f05) */

void FUN_007d7e60(void)

{
  uint uVar1;
  int in_ECX;
  int *piVar2;
  undefined4 local_20 [3];
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b28deb;
  local_14 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffffd0;
  ExceptionList = &local_14;
  if (*(int *)(in_ECX + 8) != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  local_c = 0;
  piVar2 = (int *)**(int **)(in_ECX + 0x264);
  if (piVar2 != *(int **)(in_ECX + 0x264)) {
    do {
      FUN_007d6bb0(piVar2 + 9);
      piVar2 = (int *)*piVar2;
    } while (piVar2 != (int *)*(int *)(in_ECX + 0x264));
  }
  FUN_00460730(in_ECX + 0x260);
  local_20[0] = *(undefined4 *)(in_ECX + 0x264);
  if (*(int *)(in_ECX + 0x270) != *(int *)(in_ECX + 0x274)) {
    *(int *)(in_ECX + 0x274) = *(int *)(in_ECX + 0x270);
  }
  FUN_0044f580(in_ECX + 0x26c,*(undefined4 *)(in_ECX + 0x270),local_20);
  *(undefined4 *)(in_ECX + 0x27c) = 7;
  *(undefined4 *)(in_ECX + 0x280) = 8;
  if (*(undefined4 **)(in_ECX + 0x2b8) != (undefined4 *)0x0) {
    (**(code **)**(undefined4 **)(in_ECX + 0x2b8))(1,uVar1);
    *(undefined4 *)(in_ECX + 0x2b8) = 0;
  }
  if (*(undefined4 **)(in_ECX + 0x2b4) != (undefined4 *)0x0) {
    (**(code **)**(undefined4 **)(in_ECX + 0x2b4))(1);
    *(undefined4 *)(in_ECX + 0x2b4) = 0;
  }
  FUN_007cd400(0);
  *(undefined1 *)(in_ECX + 700) = 0;
  local_c = 0xffffffff;
  if (*(int *)(in_ECX + 8) != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d7e60 : PUSH EBP
007d7e61 : MOV EBP,ESP
007d7e63 : AND ESP,0xfffffff8
007d7e66 : PUSH -0x1
007d7e68 : PUSH 0xb28deb
007d7e6d : MOV EAX,FS:[0x0]
007d7e73 : PUSH EAX
007d7e74 : SUB ESP,0x10
007d7e77 : PUSH EBX
007d7e78 : PUSH ESI
007d7e79 : PUSH EDI
007d7e7a : MOV EAX,[0x00d66fa0]
007d7e7f : XOR EAX,ESP
007d7e81 : PUSH EAX
007d7e82 : LEA EAX,[ESP + 0x20]
007d7e86 : MOV FS:[0x0],EAX
007d7e8c : MOV EDI,ECX
007d7e8e : MOV EAX,dword ptr [EDI + 0x8]
007d7e91 : XOR EBX,EBX
007d7e93 : MOV dword ptr [ESP + 0x18],EDI
007d7e97 : CMP EAX,EBX
007d7e99 : JZ 0x007d7ea5
007d7e9b : ADD EAX,0x4
007d7e9e : PUSH EAX
007d7e9f : CALL dword ptr [0x00b85118]
007d7ea5 : MOV dword ptr [ESP + 0x28],EBX
007d7ea9 : MOV EAX,dword ptr [EDI + 0x264]
007d7eaf : MOV ESI,dword ptr [EAX]
007d7eb1 : CMP ESI,EAX
007d7eb3 : JZ 0x007d7ec8
007d7eb5 : LEA EAX,[ESI + 0x24]
007d7eb8 : PUSH EAX
007d7eb9 : CALL 0x007d6bb0
007d7ebe : MOV ESI,dword ptr [ESI]
007d7ec0 : CMP ESI,dword ptr [EDI + 0x264]
007d7ec6 : JNZ 0x007d7eb5
007d7ec8 : LEA ECX,[EDI + 0x260]
007d7ece : PUSH ECX
007d7ecf : CALL 0x00460730
007d7ed4 : MOV EAX,dword ptr [EDI + 0x264]
007d7eda : MOV ESI,dword ptr [EDI + 0x270]
007d7ee0 : LEA EDX,[EDI + 0x26c]
007d7ee6 : MOV dword ptr [ESP + 0x14],EAX
007d7eea : MOV EAX,dword ptr [EDX + 0x8]
007d7eed : CMP ESI,EAX
007d7eef : JZ 0x007d7f0a
007d7ef1 : MOV ECX,EAX
007d7ef3 : CMP EAX,EAX
007d7ef5 : JZ 0x007d7f07
007d7ef7 : MOV EBX,dword ptr [ECX]
007d7ef9 : MOV dword ptr [ESI],EBX
007d7efb : ADD ECX,0x4
007d7efe : ADD ESI,0x4
007d7f01 : CMP ECX,EAX
007d7f03 : JNZ 0x007d7ef7
007d7f05 : XOR EBX,EBX
007d7f07 : MOV dword ptr [EDX + 0x8],ESI
007d7f0a : MOV EAX,dword ptr [EDX + 0x4]
007d7f0d : LEA ECX,[ESP + 0x14]
007d7f11 : PUSH ECX
007d7f12 : PUSH EAX
007d7f13 : PUSH EDX
007d7f14 : MOV ECX,0x9
007d7f19 : CALL 0x0044f580
007d7f1e : MOV dword ptr [EDI + 0x27c],0x7
007d7f28 : MOV dword ptr [EDI + 0x280],0x8
007d7f32 : MOV ECX,dword ptr [EDI + 0x2b8]
007d7f38 : CMP ECX,EBX
007d7f3a : JZ 0x007d7f4a
007d7f3c : MOV EDX,dword ptr [ECX]
007d7f3e : MOV EAX,dword ptr [EDX]
007d7f40 : PUSH 0x1
007d7f42 : CALL EAX
007d7f44 : MOV dword ptr [EDI + 0x2b8],EBX
007d7f4a : MOV ECX,dword ptr [EDI + 0x2b4]
007d7f50 : CMP ECX,EBX
007d7f52 : JZ 0x007d7f62
007d7f54 : MOV EDX,dword ptr [ECX]
007d7f56 : MOV EAX,dword ptr [EDX]
007d7f58 : PUSH 0x1
007d7f5a : CALL EAX
007d7f5c : MOV dword ptr [EDI + 0x2b4],EBX
007d7f62 : PUSH EBX
007d7f63 : MOV ECX,EDI
007d7f65 : CALL 0x007cd400
007d7f6a : MOV byte ptr [EDI + 0x2bc],BL
007d7f70 : MOV dword ptr [ESP + 0x28],0xffffffff
007d7f78 : MOV EDI,dword ptr [EDI + 0x8]
007d7f7b : CMP EDI,EBX
007d7f7d : JZ 0x007d7f89
007d7f7f : ADD EDI,0x4
007d7f82 : PUSH EDI
007d7f83 : CALL dword ptr [0x00b8511c]
007d7f89 : MOV ECX,dword ptr [ESP + 0x20]
007d7f8d : MOV dword ptr FS:[0x0],ECX
007d7f94 : POP ECX
007d7f95 : POP EDI
007d7f96 : POP ESI
007d7f97 : POP EBX
007d7f98 : MOV ESP,EBP
007d7f9a : POP EBP
007d7f9b : RET
