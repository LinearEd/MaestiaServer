PROGRAM  : Maestia.exe
FUNCTION : FUN_0093f4c0
ENTRY    : 0093f4c0
BODY     : [[0093f4c0, 0093f693]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0093f4c0(int *param_1,uint param_2)

{
  uint uVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  int *piVar5;
  int iVar6;
  int iVar7;
  int local_2c;
  uint local_20;
  int local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b6b521;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (((*(int *)(param_1[1] + 0x128) != 0) && (param_2 < 3)) &&
     (iVar4 = (**(code **)(*param_1 + 0x74))(), iVar4 == 0)) {
    uVar1 = *(uint *)(*DAT_00da9894 + 0x40);
    local_20 = 0;
    if (uVar1 != 0) {
      do {
        piVar5 = (int *)FUN_008eb810();
        if (((piVar5 != (int *)0x0) && ((char)piVar5[0x19] != '\0')) && (piVar5[0xf] != 0)) {
          iVar4 = *(int *)(piVar5[0xf] + 8);
          iVar2 = *(int *)(piVar5[0xf] + 0xc);
          local_14 = 0;
          if (0 < iVar4) {
            do {
              local_18 = 0;
              if (0 < iVar2) {
                do {
                  iVar6 = (**(code **)(*piVar5 + 0x74))();
                  iVar7 = DAT_00d7c54c;
                  if (iVar6 != 0) {
                    uVar3 = *(undefined4 *)(iVar6 + 0x10);
                    FUN_004437f0();
                    if (local_2c == *(int *)(iVar7 + 0x44)) {
                      iVar7 = 0;
                    }
                    else {
                      iVar7 = *(int *)(local_2c + 0x10);
                    }
                    if (((char)((uint)uVar3 >> 0x10) == 'd') &&
                       ((*(uint *)(iVar7 + 0x48) & 0x400) != 0)) {
                      if (*(int *)(param_1[1] + 0x128) == 0) {
                        ExceptionList = local_10;
                        return;
                      }
                      FUN_0097fb30();
                      FUN_0093f780();
                      ExceptionList = local_10;
                      return;
                    }
                  }
                  local_18 = local_18 + 1;
                } while (local_18 < iVar2);
              }
              local_14 = local_14 + 1;
            } while (local_14 < iVar4);
          }
        }
        local_20 = local_20 + 1;
      } while (local_20 < uVar1);
    }
    FUN_00406460(&DAT_00c71844);
    local_8 = 0xffffffff;
    FUN_008f37b0(1);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0093f4c0 : PUSH EBP
0093f4c1 : MOV EBP,ESP
0093f4c3 : PUSH -0x1
0093f4c5 : PUSH 0xb6b521
0093f4ca : MOV EAX,FS:[0x0]
0093f4d0 : PUSH EAX
0093f4d1 : SUB ESP,0x24
0093f4d4 : PUSH EBX
0093f4d5 : PUSH ESI
0093f4d6 : PUSH EDI
0093f4d7 : MOV EAX,[0x00d66fa0]
0093f4dc : XOR EAX,EBP
0093f4de : PUSH EAX
0093f4df : LEA EAX,[EBP + -0xc]
0093f4e2 : MOV FS:[0x0],EAX
0093f4e8 : MOV ECX,dword ptr [EBP + 0x8]
0093f4eb : MOV EAX,dword ptr [ECX + 0x4]
0093f4ee : MOV EAX,dword ptr [EAX + 0x128]
0093f4f4 : TEST EAX,EAX
0093f4f6 : JZ 0x0093f63b
0093f4fc : MOV EAX,dword ptr [EBP + 0xc]
0093f4ff : CMP EAX,0x2
0093f502 : JA 0x0093f63b
0093f508 : MOV EDX,dword ptr [ECX]
0093f50a : PUSH 0x0
0093f50c : PUSH EAX
0093f50d : MOV EAX,dword ptr [EDX + 0x74]
0093f510 : CALL EAX
0093f512 : TEST EAX,EAX
0093f514 : JNZ 0x0093f63b
0093f51a : MOV ECX,dword ptr [0x00da9894]
0093f520 : MOV EAX,dword ptr [ECX]
0093f522 : MOV EBX,dword ptr [EAX + 0x40]
0093f525 : XOR ESI,ESI
0093f527 : MOV dword ptr [EBP + -0x30],EBX
0093f52a : MOV dword ptr [EBP + -0x1c],ESI
0093f52d : TEST EBX,EBX
0093f52f : JBE 0x0093f614
0093f535 : MOV EDX,dword ptr [0x00da9894]
0093f53b : MOV EAX,dword ptr [EDX]
0093f53d : MOV ECX,ESI
0093f53f : CALL 0x008eb810
0093f544 : MOV EDI,EAX
0093f546 : MOV dword ptr [EBP + -0x20],EDI
0093f549 : TEST EDI,EDI
0093f54b : JZ 0x0093f608
0093f551 : CMP byte ptr [EDI + 0x64],0x0
0093f555 : JZ 0x0093f608
0093f55b : CMP dword ptr [EDI + 0x3c],0x0
0093f55f : JZ 0x0093f608
0093f565 : MOV EAX,dword ptr [EDI + 0x3c]
0093f568 : MOV ECX,dword ptr [EAX + 0x8]
0093f56b : MOV EAX,dword ptr [EAX + 0xc]
0093f56e : MOV dword ptr [EBP + -0x2c],ECX
0093f571 : MOV dword ptr [EBP + -0x18],EAX
0093f574 : MOV dword ptr [EBP + -0x10],0x0
0093f57b : TEST ECX,ECX
0093f57d : JLE 0x0093f608
0093f583 : XOR EBX,EBX
0093f585 : CMP dword ptr [EBP + -0x18],EBX
0093f588 : MOV dword ptr [EBP + -0x14],EBX
0093f58b : JLE 0x0093f5f7
0093f58d : MOV EAX,dword ptr [EBP + -0x10]
0093f590 : MOV EDX,dword ptr [EDI]
0093f592 : MOV EDX,dword ptr [EDX + 0x74]
0093f595 : PUSH EAX
0093f596 : PUSH EBX
0093f597 : MOV ECX,EDI
0093f599 : CALL EDX
0093f59b : MOV ESI,EAX
0093f59d : TEST ESI,ESI
0093f59f : JZ 0x0093f5eb
0093f5a1 : MOV EBX,dword ptr [0x00d7c54c]
0093f5a7 : MOV EDI,dword ptr [ESI + 0x10]
0093f5aa : LEA EAX,[EBP + -0x24]
0093f5ad : PUSH EAX
0093f5ae : LEA ECX,[EBX + 0x40]
0093f5b1 : LEA EAX,[EBP + -0x28]
0093f5b4 : MOV dword ptr [EBP + -0x24],EDI
0093f5b7 : CALL 0x004437f0
0093f5bc : MOV EBX,dword ptr [EBX + 0x44]
0093f5bf : MOV EAX,dword ptr [EBP + -0x28]
0093f5c2 : CMP EAX,EBX
0093f5c4 : JZ 0x0093f5cb
0093f5c6 : MOV EAX,dword ptr [EAX + 0x10]
0093f5c9 : JMP 0x0093f5cd
0093f5cb : XOR EAX,EAX
0093f5cd : MOV ECX,EDI
0093f5cf : SHR ECX,0x10
0093f5d2 : CMP CL,0x64
0093f5d5 : JNZ 0x0093f5e5
0093f5d7 : MOV EAX,dword ptr [EAX + 0x48]
0093f5da : AND EAX,0x400
0093f5df : XOR ECX,ECX
0093f5e1 : OR EAX,ECX
0093f5e3 : JNZ 0x0093f64f
0093f5e5 : MOV EDI,dword ptr [EBP + -0x20]
0093f5e8 : MOV EBX,dword ptr [EBP + -0x14]
0093f5eb : INC EBX
0093f5ec : CMP EBX,dword ptr [EBP + -0x18]
0093f5ef : MOV dword ptr [EBP + -0x14],EBX
0093f5f2 : JL 0x0093f58d
0093f5f4 : MOV ECX,dword ptr [EBP + -0x2c]
0093f5f7 : MOV EAX,dword ptr [EBP + -0x10]
0093f5fa : INC EAX
0093f5fb : CMP EAX,ECX
0093f5fd : MOV dword ptr [EBP + -0x10],EAX
0093f600 : JL 0x0093f583
0093f602 : MOV ESI,dword ptr [EBP + -0x1c]
0093f605 : MOV EBX,dword ptr [EBP + -0x30]
0093f608 : INC ESI
0093f609 : MOV dword ptr [EBP + -0x1c],ESI
0093f60c : CMP ESI,EBX
0093f60e : JC 0x0093f535
0093f614 : SUB ESP,0x1c
0093f617 : MOV ECX,ESP
0093f619 : MOV dword ptr [EBP + 0x8],ESP
0093f61c : PUSH 0xc71844
0093f621 : CALL 0x00406460
0093f626 : MOV dword ptr [EBP + -0x4],0x0
0093f62d : PUSH 0x1
0093f62f : MOV dword ptr [EBP + -0x4],0xffffffff
0093f636 : CALL 0x008f37b0
0093f63b : MOV ECX,dword ptr [EBP + -0xc]
0093f63e : MOV dword ptr FS:[0x0],ECX
0093f645 : POP ECX
0093f646 : POP EDI
0093f647 : POP ESI
0093f648 : POP EBX
0093f649 : MOV ESP,EBP
0093f64b : POP EBP
0093f64c : RET 0x8
0093f64f : MOV EDI,dword ptr [EBP + 0x8]
0093f652 : MOV EDX,dword ptr [EDI + 0x4]
0093f655 : MOV ECX,dword ptr [EDX + 0x128]
0093f65b : TEST ECX,ECX
0093f65d : JZ 0x0093f63b
0093f65f : MOV EAX,dword ptr [EBP + -0x10]
0093f662 : MOV EDX,dword ptr [EBP + -0x14]
0093f665 : PUSH EAX
0093f666 : MOV EAX,dword ptr [EBP + -0x20]
0093f669 : MOV EAX,dword ptr [EAX + 0x2c]
0093f66c : PUSH EDX
0093f66d : PUSH ESI
0093f66e : CALL 0x0097fb30
0093f673 : MOV ECX,dword ptr [EBP + 0xc]
0093f676 : PUSH 0x0
0093f678 : PUSH ECX
0093f679 : MOV ECX,EDI
0093f67b : CALL 0x0093f780
0093f680 : MOV ECX,dword ptr [EBP + -0xc]
0093f683 : MOV dword ptr FS:[0x0],ECX
0093f68a : POP ECX
0093f68b : POP EDI
0093f68c : POP ESI
0093f68d : POP EBX
0093f68e : MOV ESP,EBP
0093f690 : POP EBP
0093f691 : RET 0x8
