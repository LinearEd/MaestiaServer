PROGRAM  : Maestia.exe
FUNCTION : FUN_0053a210
ENTRY    : 0053a210
BODY     : [[0053a210, 0053a3c7]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0053a210(GMatrix2D *param_1)

{
  byte bVar1;
  GMatrix2D *pGVar2;
  undefined4 uVar3;
  int iVar4;
  int *in_ECX;
  uint uVar5;
  float10 extraout_ST0;
  float10 extraout_ST0_00;
  float10 extraout_ST0_01;
  float10 extraout_ST0_02;
  
  pGVar2 = param_1;
  if (in_ECX[3] != 0) {
    in_ECX[2] = in_ECX[2] + 1;
  }
  in_ECX[3] = 0;
  GMatrix2D::SetIdentity(param_1);
  iVar4 = in_ECX[3];
  bVar1 = *(byte *)(in_ECX[2] + *in_ECX);
  uVar5 = iVar4 + 1;
  in_ECX[3] = uVar5;
  if (7 < uVar5) {
    in_ECX[3] = 0;
    in_ECX[2] = in_ECX[2] + 1;
  }
  if ((1 << (7U - (char)iVar4 & 0x1f) & (uint)bVar1) != 0) {
    uVar3 = FUN_00539d00(5);
    param_1 = (GMatrix2D *)FUN_00539d00(uVar3);
    bVar1 = (byte)uVar3;
    uVar5 = 1 << (bVar1 - 1 & 0x1f);
    if (((uint)param_1 & uVar5) != 0) {
      param_1 = (GMatrix2D *)((uint)param_1 | -1 << (bVar1 & 0x1f));
    }
    *(float *)pGVar2 = (float)((float10)(int)param_1 * extraout_ST0);
    param_1 = (GMatrix2D *)FUN_00539d00(uVar3);
    if (((uint)param_1 & uVar5) != 0) {
      param_1 = (GMatrix2D *)((uint)param_1 | -1 << (bVar1 & 0x1f));
    }
    *(float *)(pGVar2 + 0x10) = (float)((float10)(int)param_1 * extraout_ST0_00);
  }
  iVar4 = in_ECX[3];
  bVar1 = *(byte *)(in_ECX[2] + *in_ECX);
  uVar5 = iVar4 + 1;
  in_ECX[3] = uVar5;
  if (7 < uVar5) {
    in_ECX[3] = 0;
    in_ECX[2] = in_ECX[2] + 1;
  }
  if ((1 << (7U - (char)iVar4 & 0x1f) & (uint)bVar1) != 0) {
    uVar3 = FUN_00539d00(5);
    param_1 = (GMatrix2D *)FUN_00539d00(uVar3);
    bVar1 = (byte)uVar3;
    uVar5 = 1 << (bVar1 - 1 & 0x1f);
    if (((uint)param_1 & uVar5) != 0) {
      param_1 = (GMatrix2D *)((uint)param_1 | -1 << (bVar1 & 0x1f));
    }
    *(float *)(pGVar2 + 0xc) = (float)((float10)(int)param_1 * extraout_ST0_01);
    param_1 = (GMatrix2D *)FUN_00539d00(uVar3);
    if (((uint)param_1 & uVar5) != 0) {
      param_1 = (GMatrix2D *)((uint)param_1 | -1 << (bVar1 & 0x1f));
    }
    *(float *)(pGVar2 + 4) = (float)(extraout_ST0_02 * (float10)(int)param_1);
  }
  iVar4 = FUN_00539d00(5);
  if (0 < iVar4) {
    param_1 = (GMatrix2D *)FUN_00539d00(iVar4);
    bVar1 = (byte)iVar4;
    uVar5 = 1 << (bVar1 - 1 & 0x1f);
    if (((uint)param_1 & uVar5) != 0) {
      param_1 = (GMatrix2D *)((uint)param_1 | -1 << (bVar1 & 0x1f));
    }
    *(float *)(pGVar2 + 8) = (float)(int)param_1;
    param_1 = (GMatrix2D *)FUN_00539d00(iVar4);
    if (((uint)param_1 & uVar5) != 0) {
      param_1 = (GMatrix2D *)((uint)param_1 | -1 << (bVar1 & 0x1f));
    }
    *(float *)(pGVar2 + 0x14) = (float)(int)param_1;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0053a210 : PUSH EBX
0053a211 : PUSH EBP
0053a212 : PUSH ESI
0053a213 : MOV ESI,ECX
0053a215 : XOR EBX,EBX
0053a217 : PUSH EDI
0053a218 : CMP dword ptr [ESI + 0xc],EBX
0053a21b : JZ 0x0053a220
0053a21d : INC dword ptr [ESI + 0x8]
0053a220 : MOV EBP,dword ptr [ESP + 0x14]
0053a224 : MOV ECX,EBP
0053a226 : MOV dword ptr [ESI + 0xc],EBX
0053a229 : CALL 0x00522b80
0053a22e : MOV EDX,dword ptr [ESI + 0xc]
0053a231 : MOV EDI,dword ptr [ESI + 0x8]
0053a234 : MOV ECX,0x7
0053a239 : SUB ECX,EDX
0053a23b : MOV EAX,0x1
0053a240 : SHL EAX,CL
0053a242 : MOV ECX,dword ptr [ESI]
0053a244 : MOVZX ECX,byte ptr [EDI + ECX*0x1]
0053a248 : AND EAX,ECX
0053a24a : LEA ECX,[EDX + 0x1]
0053a24d : MOV dword ptr [ESI + 0xc],ECX
0053a250 : CMP ECX,0x8
0053a253 : JC 0x0053a25c
0053a255 : INC EDI
0053a256 : MOV dword ptr [ESI + 0xc],EBX
0053a259 : MOV dword ptr [ESI + 0x8],EDI
0053a25c : FLD double ptr [0x00b8b888]
0053a262 : CMP EAX,EBX
0053a264 : JZ 0x0053a2c7
0053a266 : PUSH 0x5
0053a268 : MOV ECX,ESI
0053a26a : CALL 0x00539d00
0053a26f : MOV EDI,EAX
0053a271 : PUSH EDI
0053a272 : MOV ECX,ESI
0053a274 : CALL 0x00539d00
0053a279 : LEA ECX,[EDI + -0x1]
0053a27c : MOV EBX,0x1
0053a281 : SHL EBX,CL
0053a283 : MOV dword ptr [ESP + 0x14],EAX
0053a287 : TEST EAX,EBX
0053a289 : JZ 0x0053a298
0053a28b : OR EDX,0xffffffff
0053a28e : MOV ECX,EDI
0053a290 : SHL EDX,CL
0053a292 : OR EAX,EDX
0053a294 : MOV dword ptr [ESP + 0x14],EAX
0053a298 : FILD dword ptr [ESP + 0x14]
0053a29c : PUSH EDI
0053a29d : MOV ECX,ESI
0053a29f : FMUL ST1
0053a2a1 : FSTP float ptr [EBP]
0053a2a4 : CALL 0x00539d00
0053a2a9 : MOV dword ptr [ESP + 0x14],EAX
0053a2ad : TEST EAX,EBX
0053a2af : JZ 0x0053a2be
0053a2b1 : OR EDX,0xffffffff
0053a2b4 : MOV ECX,EDI
0053a2b6 : SHL EDX,CL
0053a2b8 : OR EAX,EDX
0053a2ba : MOV dword ptr [ESP + 0x14],EAX
0053a2be : FILD dword ptr [ESP + 0x14]
0053a2c2 : FMUL ST1
0053a2c4 : FSTP float ptr [EBP + 0x10]
0053a2c7 : MOV EDX,dword ptr [ESI + 0xc]
0053a2ca : MOV EDI,dword ptr [ESI + 0x8]
0053a2cd : MOV ECX,0x7
0053a2d2 : SUB ECX,EDX
0053a2d4 : MOV EAX,0x1
0053a2d9 : SHL EAX,CL
0053a2db : MOV ECX,dword ptr [ESI]
0053a2dd : MOVZX ECX,byte ptr [EDI + ECX*0x1]
0053a2e1 : AND EAX,ECX
0053a2e3 : LEA ECX,[EDX + 0x1]
0053a2e6 : MOV dword ptr [ESI + 0xc],ECX
0053a2e9 : CMP ECX,0x8
0053a2ec : JC 0x0053a2f9
0053a2ee : INC EDI
0053a2ef : MOV dword ptr [ESI + 0xc],0x0
0053a2f6 : MOV dword ptr [ESI + 0x8],EDI
0053a2f9 : TEST EAX,EAX
0053a2fb : JZ 0x0053a35e
0053a2fd : PUSH 0x5
0053a2ff : MOV ECX,ESI
0053a301 : CALL 0x00539d00
0053a306 : MOV EDI,EAX
0053a308 : PUSH EDI
0053a309 : MOV ECX,ESI
0053a30b : CALL 0x00539d00
0053a310 : LEA ECX,[EDI + -0x1]
0053a313 : MOV EBX,0x1
0053a318 : SHL EBX,CL
0053a31a : MOV dword ptr [ESP + 0x14],EAX
0053a31e : TEST EAX,EBX
0053a320 : JZ 0x0053a32f
0053a322 : OR EDX,0xffffffff
0053a325 : MOV ECX,EDI
0053a327 : SHL EDX,CL
0053a329 : OR EAX,EDX
0053a32b : MOV dword ptr [ESP + 0x14],EAX
0053a32f : FILD dword ptr [ESP + 0x14]
0053a333 : PUSH EDI
0053a334 : MOV ECX,ESI
0053a336 : FMUL ST1
0053a338 : FSTP float ptr [EBP + 0xc]
0053a33b : CALL 0x00539d00
0053a340 : MOV dword ptr [ESP + 0x14],EAX
0053a344 : TEST EAX,EBX
0053a346 : JZ 0x0053a355
0053a348 : OR EDX,0xffffffff
0053a34b : MOV ECX,EDI
0053a34d : SHL EDX,CL
0053a34f : OR EAX,EDX
0053a351 : MOV dword ptr [ESP + 0x14],EAX
0053a355 : FIMUL dword ptr [ESP + 0x14]
0053a359 : FSTP float ptr [EBP + 0x4]
0053a35c : JMP 0x0053a360
0053a35e : FSTP ST0
0053a360 : PUSH 0x5
0053a362 : MOV ECX,ESI
0053a364 : CALL 0x00539d00
0053a369 : MOV EDI,EAX
0053a36b : TEST EDI,EDI
0053a36d : JLE 0x0053a3c1
0053a36f : PUSH EDI
0053a370 : MOV ECX,ESI
0053a372 : CALL 0x00539d00
0053a377 : LEA ECX,[EDI + -0x1]
0053a37a : MOV EBX,0x1
0053a37f : SHL EBX,CL
0053a381 : MOV dword ptr [ESP + 0x14],EAX
0053a385 : TEST EAX,EBX
0053a387 : JZ 0x0053a396
0053a389 : OR EDX,0xffffffff
0053a38c : MOV ECX,EDI
0053a38e : SHL EDX,CL
0053a390 : OR EAX,EDX
0053a392 : MOV dword ptr [ESP + 0x14],EAX
0053a396 : FILD dword ptr [ESP + 0x14]
0053a39a : PUSH EDI
0053a39b : MOV ECX,ESI
0053a39d : FSTP float ptr [EBP + 0x8]
0053a3a0 : CALL 0x00539d00
0053a3a5 : MOV dword ptr [ESP + 0x14],EAX
0053a3a9 : TEST EAX,EBX
0053a3ab : JZ 0x0053a3ba
0053a3ad : OR EDX,0xffffffff
0053a3b0 : MOV ECX,EDI
0053a3b2 : SHL EDX,CL
0053a3b4 : OR EAX,EDX
0053a3b6 : MOV dword ptr [ESP + 0x14],EAX
0053a3ba : FILD dword ptr [ESP + 0x14]
0053a3be : FSTP float ptr [EBP + 0x14]
0053a3c1 : POP EDI
0053a3c2 : POP ESI
0053a3c3 : POP EBP
0053a3c4 : POP EBX
0053a3c5 : RET 0x4
