PROGRAM  : Maestia.exe
FUNCTION : FUN_00560bc0
ENTRY    : 00560bc0
BODY     : [[00560bc0, 00560c5c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00560bc0(undefined4 param_1,undefined4 *param_2)

{
  undefined4 *puVar1;
  GRefCountImpl *pGVar2;
  GRefCountImpl *this;
  uint uVar3;
  int iVar4;
  int *in_ECX;
  
  pGVar2 = (GRefCountImpl *)*param_2;
  if (pGVar2 != (GRefCountImpl *)0x0) {
    GRefCountImpl::AddRef(pGVar2);
  }
  uVar3 = FUN_0055ebd0(pGVar2);
  if (pGVar2 != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(pGVar2);
  }
  if ((*in_ECX != 0) && (iVar4 = FUN_0055f270(param_2,*(uint *)(*in_ECX + 4) & uVar3), -1 < iVar4))
  {
    pGVar2 = (GRefCountImpl *)*param_2;
    if (pGVar2 != (GRefCountImpl *)0x0) {
      GRefCountImpl::AddRef(pGVar2);
    }
    puVar1 = (undefined4 *)(*in_ECX + 0x10 + iVar4 * 0xc);
    if (pGVar2 != (GRefCountImpl *)0x0) {
      GRefCountImpl::AddRef(pGVar2);
    }
    this = (GRefCountImpl *)*puVar1;
    if (this != (GRefCountImpl *)0x0) {
      GRefCountImpl::Release(this);
    }
    *puVar1 = pGVar2;
    if (pGVar2 == (GRefCountImpl *)0x0) {
      return;
    }
    GRefCountImpl::Release(pGVar2);
    return;
  }
  FUN_005608a0(param_1,param_2,uVar3);
  return;
}



============================================================
DISASSEMBLY
============================================================
00560bc0 : PUSH EBX
00560bc1 : PUSH EBP
00560bc2 : PUSH ESI
00560bc3 : PUSH EDI
00560bc4 : MOV EDI,dword ptr [ESP + 0x18]
00560bc8 : MOV ESI,dword ptr [EDI]
00560bca : MOV EBX,ECX
00560bcc : TEST ESI,ESI
00560bce : JZ 0x00560bd7
00560bd0 : MOV ECX,ESI
00560bd2 : CALL 0x00523dd0
00560bd7 : PUSH ESI
00560bd8 : LEA ECX,[ESP + 0x1c]
00560bdc : CALL 0x0055ebd0
00560be1 : MOV EBP,EAX
00560be3 : TEST ESI,ESI
00560be5 : JZ 0x00560bee
00560be7 : MOV ECX,ESI
00560be9 : CALL 0x004ff7e0
00560bee : MOV EAX,dword ptr [EBX]
00560bf0 : TEST EAX,EAX
00560bf2 : JZ 0x00560c48
00560bf4 : MOV EAX,dword ptr [EAX + 0x4]
00560bf7 : AND EAX,EBP
00560bf9 : PUSH EAX
00560bfa : PUSH EDI
00560bfb : MOV ECX,EBX
00560bfd : CALL 0x0055f270
00560c02 : MOV ESI,EAX
00560c04 : TEST ESI,ESI
00560c06 : JL 0x00560c48
00560c08 : MOV EDI,dword ptr [EDI]
00560c0a : TEST EDI,EDI
00560c0c : JZ 0x00560c15
00560c0e : MOV ECX,EDI
00560c10 : CALL 0x00523dd0
00560c15 : MOV EDX,dword ptr [EBX]
00560c17 : LEA ECX,[ESI + ESI*0x2]
00560c1a : LEA ESI,[EDX + ECX*0x4 + 0x10]
00560c1e : TEST EDI,EDI
00560c20 : JZ 0x00560c29
00560c22 : MOV ECX,EDI
00560c24 : CALL 0x00523dd0
00560c29 : MOV ECX,dword ptr [ESI]
00560c2b : TEST ECX,ECX
00560c2d : JZ 0x00560c34
00560c2f : CALL 0x004ff7e0
00560c34 : MOV dword ptr [ESI],EDI
00560c36 : TEST EDI,EDI
00560c38 : JZ 0x00560c56
00560c3a : MOV ECX,EDI
00560c3c : CALL 0x004ff7e0
00560c41 : POP EDI
00560c42 : POP ESI
00560c43 : POP EBP
00560c44 : POP EBX
00560c45 : RET 0x8
00560c48 : MOV EAX,dword ptr [ESP + 0x14]
00560c4c : PUSH EBP
00560c4d : PUSH EDI
00560c4e : PUSH EAX
00560c4f : MOV ECX,EBX
00560c51 : CALL 0x005608a0
00560c56 : POP EDI
00560c57 : POP ESI
00560c58 : POP EBP
00560c59 : POP EBX
00560c5a : RET 0x8
