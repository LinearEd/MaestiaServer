PROGRAM  : Maestia.exe
FUNCTION : FUN_00a68220
ENTRY    : 00a68220
BODY     : [[00a68220, 00a682ee]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a68220(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int unaff_EDI;
  
  if (*(int *)(unaff_EDI + 0x58) != 0) {
    if ((*(int *)(unaff_EDI + 0x48) - *(int *)(unaff_EDI + 0x44) >> 2 != 0) &&
       (piVar1 = *(int **)(unaff_EDI + 0x54), *(int **)(unaff_EDI + 0x5c) != piVar1)) {
      piVar2 = (int *)*piVar1;
      while (piVar2 != piVar1) {
        if ((*(ushort *)(*(int *)(unaff_EDI + 0x5c) + 0xc) <= *(ushort *)(piVar2 + 3)) &&
           (iVar3 = (**(code **)(*(int *)piVar2[4] + 4))(), iVar3 == 2)) {
          (**(code **)(*(int *)piVar2[4] + 0x14))
                    (*(int *)(unaff_EDI + 0x48) - *(int *)(unaff_EDI + 0x44) >> 2,
                     *(undefined4 *)(unaff_EDI + 0x44),*(undefined2 *)(piVar2 + 3),
                     (char)((int *)piVar2[4])[1]);
          FUN_008018d0(L"[_ClearAllEventFrames] Remain Hit Force Update (%d)",
                       **(undefined4 **)(unaff_EDI + 0x44));
        }
        FUN_00416210();
        piVar1 = *(int **)(unaff_EDI + 0x54);
      }
    }
    piVar1 = *(int **)(unaff_EDI + 0x54);
    piVar2 = (int *)*piVar1;
    while (piVar2 != piVar1) {
      (**(code **)(*(int *)piVar2[4] + 8))();
      FUN_00416210();
      piVar1 = *(int **)(unaff_EDI + 0x54);
    }
    *(undefined4 *)(unaff_EDI + 0x5c) = *(undefined4 *)(unaff_EDI + 0x54);
    *(undefined4 *)(unaff_EDI + 0x70) = *(undefined4 *)(unaff_EDI + 0x68);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a68220 : PUSH EBP
00a68221 : MOV EBP,ESP
00a68223 : PUSH ECX
00a68224 : CMP dword ptr [EDI + 0x58],0x0
00a68228 : JZ 0x00a682eb
00a6822e : MOV EAX,dword ptr [EDI + 0x48]
00a68231 : SUB EAX,dword ptr [EDI + 0x44]
00a68234 : SAR EAX,0x2
00a68237 : TEST EAX,EAX
00a68239 : JBE 0x00a682b9
00a6823f : MOV EAX,dword ptr [EDI + 0x54]
00a68242 : CMP dword ptr [EDI + 0x5c],EAX
00a68245 : JZ 0x00a682b9
00a68247 : PUSH ESI
00a68248 : MOV ESI,dword ptr [EAX]
00a6824a : MOV dword ptr [EBP + -0x4],ESI
00a6824d : CMP ESI,EAX
00a6824f : JZ 0x00a682b8
00a68251 : MOV ECX,dword ptr [EDI + 0x5c]
00a68254 : MOV DX,word ptr [ESI + 0xc]
00a68258 : CMP DX,word ptr [ECX + 0xc]
00a6825c : JC 0x00a682a8
00a6825e : MOV ECX,dword ptr [ESI + 0x10]
00a68261 : MOV EAX,dword ptr [ECX]
00a68263 : MOV EDX,dword ptr [EAX + 0x4]
00a68266 : CALL EDX
00a68268 : CMP EAX,0x2
00a6826b : JNZ 0x00a682a8
00a6826d : MOV ECX,dword ptr [ESI + 0x10]
00a68270 : MOVZX EDX,byte ptr [ECX + 0x4]
00a68274 : MOV EAX,dword ptr [ECX]
00a68276 : MOV EAX,dword ptr [EAX + 0x14]
00a68279 : PUSH EDX
00a6827a : MOVZX EDX,word ptr [ESI + 0xc]
00a6827e : PUSH EDX
00a6827f : MOV EDX,dword ptr [EDI + 0x44]
00a68282 : PUSH EDX
00a68283 : MOV EDX,dword ptr [EDI + 0x48]
00a68286 : SUB EDX,dword ptr [EDI + 0x44]
00a68289 : SAR EDX,0x2
00a6828c : PUSH EDX
00a6828d : CALL EAX
00a6828f : MOV ECX,dword ptr [EDI + 0x44]
00a68292 : MOV EDX,dword ptr [ECX]
00a68294 : MOV ESI,dword ptr [0x00da98e8]
00a6829a : PUSH EDX
00a6829b : PUSH 0xc34dd8
00a682a0 : CALL 0x008018d0
00a682a5 : ADD ESP,0x8
00a682a8 : LEA EDX,[EBP + -0x4]
00a682ab : CALL 0x00416210
00a682b0 : MOV ESI,dword ptr [EBP + -0x4]
00a682b3 : CMP ESI,dword ptr [EDI + 0x54]
00a682b6 : JNZ 0x00a68251
00a682b8 : POP ESI
00a682b9 : MOV ECX,dword ptr [EDI + 0x54]
00a682bc : MOV EAX,dword ptr [ECX]
00a682be : MOV dword ptr [EBP + -0x4],EAX
00a682c1 : CMP EAX,ECX
00a682c3 : JZ 0x00a682df
00a682c5 : MOV ECX,dword ptr [EAX + 0x10]
00a682c8 : MOV EAX,dword ptr [ECX]
00a682ca : MOV EDX,dword ptr [EAX + 0x8]
00a682cd : CALL EDX
00a682cf : LEA EDX,[EBP + -0x4]
00a682d2 : CALL 0x00416210
00a682d7 : MOV EAX,dword ptr [EBP + -0x4]
00a682da : CMP EAX,dword ptr [EDI + 0x54]
00a682dd : JNZ 0x00a682c5
00a682df : MOV EAX,dword ptr [EDI + 0x54]
00a682e2 : MOV ECX,dword ptr [EDI + 0x68]
00a682e5 : MOV dword ptr [EDI + 0x5c],EAX
00a682e8 : MOV dword ptr [EDI + 0x70],ECX
00a682eb : MOV ESP,EBP
00a682ed : POP EBP
00a682ee : RET
