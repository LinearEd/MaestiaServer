PROGRAM  : Maestia.exe
FUNCTION : FUN_00735df0
ENTRY    : 00735df0
BODY     : [[00735df0, 0073600d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00735df0(int param_1,int param_2,int param_3,int param_4,int param_5)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  ushort uVar5;
  int iVar6;
  int iVar7;
  int in_ECX;
  undefined4 *puVar8;
  uint uVar9;
  uint uVar10;
  uint local_34;
  uint local_30;
  uint local_20;
  
  iVar6 = FUN_0070a3a0();
  fVar4 = DAT_00d72c24;
  uVar5 = 0;
  if (*(short *)(in_ECX + 0x10) != 0) {
    do {
      uVar9 = (uint)uVar5;
      puVar8 = (undefined4 *)(uVar9 * 0x34 + iVar6);
      iVar7 = uVar9 * 0xc;
      *puVar8 = *(undefined4 *)(iVar7 + param_1);
      puVar8[1] = *(undefined4 *)(iVar7 + 4 + param_1);
      puVar8[2] = *(undefined4 *)(iVar7 + 8 + param_1);
      puVar8[3] = *(undefined4 *)(iVar7 + param_2);
      puVar8[4] = *(undefined4 *)(iVar7 + 4 + param_2);
      puVar8[5] = *(undefined4 *)(iVar7 + 8 + param_2);
      puVar8[7] = *(undefined4 *)(param_3 + uVar9 * 8);
      puVar8[8] = *(undefined4 *)(param_3 + 4 + uVar9 * 8);
      if (param_4 == 0) {
        puVar8[6] = 0xffffffff;
      }
      else {
        fVar1 = *(float *)(iVar7 + param_4);
        fVar2 = *(float *)(iVar7 + 4 + param_4);
        fVar3 = *(float *)(iVar7 + 8 + param_4);
        if (fVar1 < 1.0) {
          if (0.0 < fVar1) {
            local_20 = (uint)(longlong)ROUND(fVar1 * 255.0 + fVar4);
            uVar10 = local_20;
          }
          else {
            uVar10 = 0;
          }
        }
        else {
          uVar10 = 0xff;
        }
        if (fVar2 < 1.0) {
          if (0.0 < fVar2) {
            local_20 = (uint)(longlong)ROUND(fVar2 * 255.0 + fVar4);
            local_30 = local_20;
          }
          else {
            local_30 = 0;
          }
        }
        else {
          local_30 = 0xff;
        }
        if (fVar3 < 1.0) {
          if (0.0 < fVar3) {
            local_20 = (uint)(longlong)ROUND(fVar3 * 255.0 + fVar4);
            local_34 = local_20;
          }
          else {
            local_34 = 0;
          }
        }
        else {
          local_34 = 0xff;
        }
        puVar8[6] = ((uVar10 | 0xffffff00) << 8 | local_30) << 8 | local_34;
      }
      iVar7 = param_5 + uVar9 * 0x10;
      puVar8[9] = *(undefined4 *)(param_5 + uVar9 * 0x10);
      puVar8[10] = *(undefined4 *)(iVar7 + 4);
      puVar8[0xb] = *(undefined4 *)(iVar7 + 8);
      puVar8[0xc] = *(undefined4 *)(iVar7 + 0xc);
      uVar5 = uVar5 + 1;
    } while (uVar5 < *(ushort *)(in_ECX + 0x10));
  }
  FUN_007377f0(iVar6);
  FUN_0070a260(iVar6);
  return;
}



============================================================
DISASSEMBLY
============================================================
00735df0 : PUSH EBP
00735df1 : MOV EBP,ESP
00735df3 : AND ESP,0xfffffff8
00735df6 : SUB ESP,0x2c
00735df9 : PUSH EBX
00735dfa : PUSH ESI
00735dfb : PUSH EDI
00735dfc : MOV EDI,ECX
00735dfe : MOVZX ECX,word ptr [EDI + 0x10]
00735e02 : IMUL ECX,ECX,0x34
00735e05 : MOV dword ptr [ESP + 0x18],EDI
00735e09 : CALL 0x0070a3a0
00735e0e : MOV ESI,EAX
00735e10 : XOR EAX,EAX
00735e12 : MOV dword ptr [ESP + 0x1c],ESI
00735e16 : MOV dword ptr [ESP + 0x14],0x0
00735e1e : CMP AX,word ptr [EDI + 0x10]
00735e22 : JNC 0x00735ff4
00735e28 : FLD float ptr [0x00cdf130]
00735e2e : MOV EDI,dword ptr [EBP + 0xc]
00735e31 : MOV EBX,dword ptr [EBP + 0x8]
00735e34 : FLD float ptr [0x00d72c24]
00735e3a : MOVSS XMM3,dword ptr [0x00c10fc4]
00735e42 : XORPS XMM4,XMM4
00735e45 : MOVZX EDX,word ptr [ESP + 0x14]
00735e4a : MOV ECX,EDX
00735e4c : IMUL ECX,ECX,0x34
00735e4f : ADD ECX,ESI
00735e51 : MOV ESI,dword ptr [EBP + 0x10]
00735e54 : LEA EAX,[EDX + EDX*0x2]
00735e57 : ADD EAX,EAX
00735e59 : ADD EAX,EAX
00735e5b : FLD float ptr [EAX + EBX*0x1]
00735e5e : FSTP float ptr [ECX]
00735e60 : FLD float ptr [EAX + EBX*0x1 + 0x4]
00735e64 : FSTP float ptr [ECX + 0x4]
00735e67 : FLD float ptr [EAX + EBX*0x1 + 0x8]
00735e6b : FSTP float ptr [ECX + 0x8]
00735e6e : FLD float ptr [EAX + EDI*0x1]
00735e71 : FSTP float ptr [ECX + 0xc]
00735e74 : FLD float ptr [EAX + EDI*0x1 + 0x4]
00735e78 : FSTP float ptr [ECX + 0x10]
00735e7b : FLD float ptr [EAX + EDI*0x1 + 0x8]
00735e7f : FSTP float ptr [ECX + 0x14]
00735e82 : FLD float ptr [ESI + EDX*0x8]
00735e85 : FSTP float ptr [ECX + 0x1c]
00735e88 : FLD float ptr [ESI + EDX*0x8 + 0x4]
00735e8c : MOV ESI,dword ptr [EBP + 0x14]
00735e8f : FSTP float ptr [ECX + 0x20]
00735e92 : TEST ESI,ESI
00735e94 : JNZ 0x00735ea2
00735e96 : MOV dword ptr [ECX + 0x18],0xffffffff
00735e9d : JMP 0x00735fb3
00735ea2 : MOVSS XMM0,dword ptr [EAX + ESI*0x1]
00735ea7 : COMISS XMM0,XMM3
00735eaa : MOVSS XMM1,dword ptr [EAX + ESI*0x1 + 0x4]
00735eb0 : MOVSS XMM2,dword ptr [EAX + ESI*0x1 + 0x8]
00735eb6 : MOVSS dword ptr [ESP + 0x28],XMM0
00735ebc : MOVSS dword ptr [ESP + 0x2c],XMM1
00735ec2 : MOVSS dword ptr [ESP + 0x30],XMM2
00735ec8 : JC 0x00735ed1
00735eca : MOV ESI,0xff
00735ecf : JMP 0x00735f04
00735ed1 : COMISS XMM4,XMM0
00735ed4 : JC 0x00735eda
00735ed6 : XOR ESI,ESI
00735ed8 : JMP 0x00735f04
00735eda : FLD float ptr [ESP + 0x28]
00735ede : FNSTCW word ptr [ESP + 0xc]
00735ee2 : MOVZX EAX,word ptr [ESP + 0xc]
00735ee7 : FMUL ST2
00735ee9 : OR EAX,0xc00
00735eee : MOV dword ptr [ESP + 0x10],EAX
00735ef2 : FADD ST0,ST1
00735ef4 : FLDCW word ptr [ESP + 0x10]
00735ef8 : FISTP qword ptr [ESP + 0x20]
00735efc : MOV ESI,dword ptr [ESP + 0x20]
00735f00 : FLDCW word ptr [ESP + 0xc]
00735f04 : COMISS XMM1,XMM3
00735f07 : JC 0x00735f13
00735f09 : MOV dword ptr [ESP + 0x10],0xff
00735f11 : JMP 0x00735f50
00735f13 : COMISS XMM4,XMM1
00735f16 : JC 0x00735f22
00735f18 : MOV dword ptr [ESP + 0x10],0x0
00735f20 : JMP 0x00735f50
00735f22 : FLD float ptr [ESP + 0x2c]
00735f26 : FNSTCW word ptr [ESP + 0xc]
00735f2a : MOVZX EAX,word ptr [ESP + 0xc]
00735f2f : FMUL ST2
00735f31 : OR EAX,0xc00
00735f36 : MOV dword ptr [ESP + 0x10],EAX
00735f3a : FADD ST0,ST1
00735f3c : FLDCW word ptr [ESP + 0x10]
00735f40 : FISTP qword ptr [ESP + 0x20]
00735f44 : MOV EAX,dword ptr [ESP + 0x20]
00735f48 : MOV dword ptr [ESP + 0x10],EAX
00735f4c : FLDCW word ptr [ESP + 0xc]
00735f50 : COMISS XMM2,XMM3
00735f53 : JC 0x00735f5f
00735f55 : MOV dword ptr [ESP + 0xc],0xff
00735f5d : JMP 0x00735f9c
00735f5f : COMISS XMM4,XMM2
00735f62 : JC 0x00735f6e
00735f64 : MOV dword ptr [ESP + 0xc],0x0
00735f6c : JMP 0x00735f9c
00735f6e : FLD float ptr [ESP + 0x30]
00735f72 : FNSTCW word ptr [ESP + 0xc]
00735f76 : MOVZX EAX,word ptr [ESP + 0xc]
00735f7b : FMUL ST2
00735f7d : OR EAX,0xc00
00735f82 : MOV dword ptr [ESP + 0x20],EAX
00735f86 : FADD ST0,ST1
00735f88 : FLDCW word ptr [ESP + 0x20]
00735f8c : FISTP qword ptr [ESP + 0x20]
00735f90 : MOV EAX,dword ptr [ESP + 0x20]
00735f94 : FLDCW word ptr [ESP + 0xc]
00735f98 : MOV dword ptr [ESP + 0xc],EAX
00735f9c : OR ESI,0xffffff00
00735fa2 : SHL ESI,0x8
00735fa5 : OR ESI,dword ptr [ESP + 0x10]
00735fa9 : SHL ESI,0x8
00735fac : OR ESI,dword ptr [ESP + 0xc]
00735fb0 : MOV dword ptr [ECX + 0x18],ESI
00735fb3 : MOV EAX,dword ptr [EBP + 0x18]
00735fb6 : MOV ESI,dword ptr [ESP + 0x1c]
00735fba : SHL EDX,0x4
00735fbd : FLD float ptr [EAX + EDX*0x1]
00735fc0 : ADD EAX,EDX
00735fc2 : FSTP float ptr [ECX + 0x24]
00735fc5 : FLD float ptr [EAX + 0x4]
00735fc8 : FSTP float ptr [ECX + 0x28]
00735fcb : FLD float ptr [EAX + 0x8]
00735fce : FSTP float ptr [ECX + 0x2c]
00735fd1 : FLD float ptr [EAX + 0xc]
00735fd4 : MOV EAX,dword ptr [ESP + 0x14]
00735fd8 : FSTP float ptr [ECX + 0x30]
00735fdb : MOV ECX,dword ptr [ESP + 0x18]
00735fdf : INC EAX
00735fe0 : MOV dword ptr [ESP + 0x14],EAX
00735fe4 : CMP AX,word ptr [ECX + 0x10]
00735fe8 : JC 0x00735e45
00735fee : FSTP ST1
00735ff0 : MOV EDI,ECX
00735ff2 : FSTP ST0
00735ff4 : PUSH ESI
00735ff5 : MOV ECX,EDI
00735ff7 : CALL 0x007377f0
00735ffc : PUSH ESI
00735ffd : CALL 0x0070a260
00736002 : ADD ESP,0x4
00736005 : POP EDI
00736006 : POP ESI
00736007 : POP EBX
00736008 : MOV ESP,EBP
0073600a : POP EBP
0073600b : RET 0x18
