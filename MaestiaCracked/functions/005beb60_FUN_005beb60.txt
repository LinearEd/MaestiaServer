PROGRAM  : Maestia.exe
FUNCTION : FUN_005beb60
ENTRY    : 005beb60
BODY     : [[005beb60, 005bec84]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005beb60(int param_1)

{
  float fVar1;
  undefined1 *puVar2;
  undefined8 uVar3;
  int *piVar4;
  uint uVar5;
  int iVar6;
  float10 fVar7;
  float fStack_18;
  double dStack_10;
  double dStack_8;
  
  puVar2 = *(undefined1 **)(param_1 + 4);
  FUN_00526400();
  *puVar2 = 0;
  piVar4 = (int *)FUN_005296a0();
  fStack_18 = 0.0;
  if (0 < *(int *)(param_1 + 0x1c)) {
    FUN_00526260(0);
    fVar7 = (float10)FUN_00527730();
    fStack_18 = (float)(longlong)ROUND(fVar7);
  }
  uVar5 = (**(code **)(*piVar4 + 0xd0))();
  if ((uint)fStack_18 < uVar5) {
    if ((uint)fStack_18 < 4) {
      piVar4 = piVar4 + (int)fStack_18 * 9 + 0x251;
    }
    else {
      piVar4 = (int *)0x0;
    }
    fVar1 = (float)piVar4[6];
    uVar3 = *(undefined8 *)(piVar4 + 5);
    iVar6 = FUN_00515840(0x30,0);
    if (iVar6 == 0) {
      iVar6 = 0;
    }
    else {
      iVar6 = FUN_005c9e90();
    }
    fStack_18 = (float)uVar3;
    fVar7 = (float10)FUN_0063bc90((double)(fStack_18 + 0.5));
    dStack_10 = (double)(fVar7 / (float10)20.0);
    fVar7 = (float10)FUN_0063bc90((double)(fVar1 + 0.5));
    dStack_8 = (double)(fVar7 / (float10)20.0);
    FUN_005c95f0(*(undefined4 *)(param_1 + 0x18),&dStack_10);
    FUN_005271c0();
    if (iVar6 != 0) {
      FUN_00503db0();
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005beb60 : SUB ESP,0x18
005beb63 : PUSH EBX
005beb64 : PUSH ESI
005beb65 : MOV ESI,dword ptr [ESP + 0x24]
005beb69 : PUSH EDI
005beb6a : MOV EDI,dword ptr [ESI + 0x4]
005beb6d : MOV ECX,EDI
005beb6f : CALL 0x00526400
005beb74 : MOV byte ptr [EDI],0x0
005beb77 : MOV ECX,dword ptr [ESI + 0x18]
005beb7a : CALL 0x005296a0
005beb7f : XOR EDI,EDI
005beb81 : CMP dword ptr [ESI + 0x1c],EDI
005beb84 : MOV EBX,EAX
005beb86 : JLE 0x005bebbd
005beb88 : MOV EAX,dword ptr [ESI + 0x18]
005beb8b : PUSH EAX
005beb8c : PUSH EDI
005beb8d : MOV ECX,ESI
005beb8f : CALL 0x00526260
005beb94 : MOV ECX,EAX
005beb96 : CALL 0x00527730
005beb9b : FNSTCW word ptr [ESP + 0x28]
005beb9f : MOVZX EAX,word ptr [ESP + 0x28]
005beba4 : OR EAX,0xc00
005beba9 : MOV dword ptr [ESP + 0xc],EAX
005bebad : FLDCW word ptr [ESP + 0xc]
005bebb1 : FISTP qword ptr [ESP + 0xc]
005bebb5 : MOV EDI,dword ptr [ESP + 0xc]
005bebb9 : FLDCW word ptr [ESP + 0x28]
005bebbd : MOV EDX,dword ptr [EBX]
005bebbf : MOV EAX,dword ptr [EDX + 0xd0]
005bebc5 : MOV ECX,EBX
005bebc7 : CALL EAX
005bebc9 : CMP EDI,EAX
005bebcb : JNC 0x005bec7e
005bebd1 : CMP EDI,0x4
005bebd4 : JC 0x005bebda
005bebd6 : XOR EAX,EAX
005bebd8 : JMP 0x005bebe4
005bebda : LEA ECX,[EDI + EDI*0x8]
005bebdd : LEA EAX,[EBX + ECX*0x4 + 0x944]
005bebe4 : FLD float ptr [EAX + 0x14]
005bebe7 : MOV EDX,dword ptr [ESI + 0x18]
005bebea : FSTP float ptr [ESP + 0xc]
005bebee : PUSH 0x0
005bebf0 : FLD float ptr [EAX + 0x18]
005bebf3 : MOV EAX,dword ptr [EDX + 0x78]
005bebf6 : MOV ECX,dword ptr [EAX + 0x288]
005bebfc : FSTP float ptr [ESP + 0x14]
005bec00 : PUSH 0x30
005bec02 : CALL 0x00515840
005bec07 : TEST EAX,EAX
005bec09 : JZ 0x005bec1a
005bec0b : MOV ECX,dword ptr [ESI + 0x18]
005bec0e : PUSH ECX
005bec0f : MOV ECX,EAX
005bec11 : CALL 0x005c9e90
005bec16 : MOV EDI,EAX
005bec18 : JMP 0x005bec1c
005bec1a : XOR EDI,EDI
005bec1c : FLD float ptr [ESP + 0xc]
005bec20 : SUB ESP,0x8
005bec23 : FADD double ptr [0x00cdf120]
005bec29 : FSTP double ptr [ESP]
005bec2c : CALL 0x0063bc90
005bec31 : FDIV double ptr [0x00b86058]
005bec37 : FSTP double ptr [ESP + 0x1c]
005bec3b : FLD float ptr [ESP + 0x18]
005bec3f : FADD double ptr [0x00cdf120]
005bec45 : FSTP double ptr [ESP]
005bec48 : CALL 0x0063bc90
005bec4d : FDIV double ptr [0x00b86058]
005bec53 : MOV EAX,dword ptr [ESI + 0x18]
005bec56 : ADD ESP,0x8
005bec59 : LEA EDX,[ESP + 0x14]
005bec5d : PUSH EDX
005bec5e : PUSH EAX
005bec5f : MOV ECX,EDI
005bec61 : FSTP double ptr [ESP + 0x24]
005bec65 : CALL 0x005c95f0
005bec6a : MOV ECX,dword ptr [ESI + 0x4]
005bec6d : PUSH EDI
005bec6e : CALL 0x005271c0
005bec73 : TEST EDI,EDI
005bec75 : JZ 0x005bec7e
005bec77 : MOV ECX,EDI
005bec79 : CALL 0x00503db0
005bec7e : POP EDI
005bec7f : POP ESI
005bec80 : POP EBX
005bec81 : ADD ESP,0x18
005bec84 : RET
