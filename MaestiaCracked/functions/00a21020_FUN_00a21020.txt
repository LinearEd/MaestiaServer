PROGRAM  : Maestia.exe
FUNCTION : FUN_00a21020
ENTRY    : 00a21020
BODY     : [[00a21020, 00a216af]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a21020(int param_1)

{
  float fVar1;
  float fVar2;
  float fVar3;
  int *piVar4;
  int *piVar5;
  int *piVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  char cVar9;
  uint uVar10;
  int iVar11;
  float *pfVar12;
  undefined4 *puVar13;
  undefined4 *puVar14;
  int iVar15;
  int iVar16;
  float fVar17;
  float fVar18;
  float fVar19;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2645e;
  local_10 = ExceptionList;
  uVar10 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (param_1 == 0) {
    iVar11 = 0;
  }
  else {
    iVar11 = param_1 + 0x18;
  }
  EnterCriticalSection((LPCRITICAL_SECTION)(iVar11 + 4));
  local_8 = 0;
  pfVar12 = (float *)(**(code **)(**(int **)(param_1 + 0x74) + 0x14))(uVar10);
  fVar1 = *pfVar12;
  fVar2 = pfVar12[1];
  fVar3 = pfVar12[2];
  if (*(int *)(param_1 + 0xac) != 0) {
    iVar16 = *(int *)(param_1 + 0xac);
    fVar17 = fVar1 - *(float *)(iVar16 + 0x1a4);
    fVar18 = fVar2 - *(float *)(iVar16 + 0x1a8);
    fVar19 = fVar3 - *(float *)(iVar16 + 0x1ac);
    fVar17 = fVar17 * fVar17 + fVar18 * fVar18 + fVar19 * fVar19;
    if (*(int *)(iVar16 + 1000) != 0) {
      iVar15 = 0;
      if (fVar17 <= 14000.0) {
        if (3000.0 < fVar17) {
          iVar15 = 1;
        }
      }
      else {
        iVar15 = 2;
      }
      if (*(int *)(iVar16 + 0x32c) != iVar15) {
        FUN_00a18840(*(int *)(iVar16 + 1000),iVar15);
        *(int *)(iVar16 + 0x32c) = iVar15;
      }
    }
    iVar16 = *(int *)(param_1 + 0xac);
    if (((*(int *)(DAT_017251ac + 0x3d8) == 3) && (*(int *)(iVar16 + 1000) != 0)) &&
       (*(int *)(iVar16 + 0x330) != 0)) {
      *(undefined4 *)(*(int *)(iVar16 + 1000) + 0x244) = 0;
      *(undefined4 *)(iVar16 + 0x330) = 0;
    }
  }
  piVar4 = *(int **)(param_1 + 0xc0);
  piVar5 = (int *)*piVar4;
  while (piVar5 != piVar4) {
    piVar6 = (int *)piVar5[4];
    if (piVar6 != (int *)0x0) {
      if (piVar6[0x50] == 0x12345679) {
        cVar9 = (**(code **)(*piVar6 + 0x200))();
        if (cVar9 == '\0') {
          fVar17 = (fVar1 - (float)piVar6[0x69]) * (fVar1 - (float)piVar6[0x69]) +
                   (fVar2 - (float)piVar6[0x6a]) * (fVar2 - (float)piVar6[0x6a]) +
                   (fVar3 - (float)piVar6[0x6b]) * (fVar3 - (float)piVar6[0x6b]);
          if (piVar6[0xfa] != 0) {
            iVar16 = 0;
            if (fVar17 <= 14000.0) {
              if (3000.0 < fVar17) {
                iVar16 = 1;
              }
            }
            else {
              iVar16 = 2;
            }
            if (piVar6[0xcb] != iVar16) {
              FUN_00a18840(piVar6[0xfa],iVar16);
              piVar6[0xcb] = iVar16;
            }
          }
          iVar16 = *(int *)(param_1 + 0xac);
          fVar17 = *(float *)(iVar16 + 0x1a4) - (float)piVar6[0x69];
          fVar18 = *(float *)(iVar16 + 0x1a8) - (float)piVar6[0x6a];
          fVar19 = *(float *)(iVar16 + 0x1ac) - (float)piVar6[0x6b];
          if (((*(int *)(DAT_017251ac + 0x3d8) == 3) && (piVar6[0xfa] != 0)) &&
             (uVar10 = (uint)(8000.0 < fVar17 * fVar17 + fVar18 * fVar18 + fVar19 * fVar19),
             piVar6[0xcc] != uVar10)) {
            *(uint *)(piVar6[0xfa] + 0x244) = uVar10;
            piVar6[0xcc] = uVar10;
          }
        }
      }
      else {
        FUN_008018d0(L"UpdateLOD_Shadow()::Player invalid Pointer !!");
      }
    }
    FUN_00416210();
  }
  puVar7 = *(undefined4 **)(param_1 + 0xcc);
  puVar8 = (undefined4 *)*puVar7;
  while (puVar8 != puVar7) {
    piVar4 = (int *)puVar8[4];
    if (piVar4 != (int *)0x0) {
      if (piVar4[0x50] == 0x12345679) {
        cVar9 = (**(code **)(*piVar4 + 0x200))();
        if (cVar9 == '\0') {
          fVar17 = (fVar1 - (float)piVar4[0x69]) * (fVar1 - (float)piVar4[0x69]) +
                   (fVar2 - (float)piVar4[0x6a]) * (fVar2 - (float)piVar4[0x6a]) +
                   (fVar3 - (float)piVar4[0x6b]) * (fVar3 - (float)piVar4[0x6b]);
          if (piVar4[0xfa] != 0) {
            iVar16 = 0;
            if (fVar17 <= 14000.0) {
              if (3000.0 < fVar17) {
                iVar16 = 1;
              }
            }
            else {
              iVar16 = 2;
            }
            if (piVar4[0xcb] != iVar16) {
              FUN_00a18840(piVar4[0xfa],iVar16);
              piVar4[0xcb] = iVar16;
            }
          }
          iVar16 = *(int *)(param_1 + 0xac);
          fVar17 = *(float *)(iVar16 + 0x1a4) - (float)piVar4[0x69];
          fVar18 = *(float *)(iVar16 + 0x1a8) - (float)piVar4[0x6a];
          fVar19 = *(float *)(iVar16 + 0x1ac) - (float)piVar4[0x6b];
          if (((*(int *)(DAT_017251ac + 0x3d8) == 3) && (piVar4[0xfa] != 0)) &&
             (uVar10 = (uint)(8000.0 < fVar17 * fVar17 + fVar18 * fVar18 + fVar19 * fVar19),
             piVar4[0xcc] != uVar10)) {
            *(uint *)(piVar4[0xfa] + 0x244) = uVar10;
            piVar4[0xcc] = uVar10;
          }
        }
      }
      else {
        FUN_008018d0(L"UpdateLOD_Shadow()::NonPlayer invalid Pointer !!");
      }
    }
    if (*(char *)((int)puVar8 + 0x15) == '\0') {
      puVar14 = (undefined4 *)puVar8[2];
      if (*(char *)((int)puVar14 + 0x15) == '\0') {
        cVar9 = *(char *)((int)*puVar14 + 0x15);
        puVar8 = puVar14;
        puVar14 = (undefined4 *)*puVar14;
        while (cVar9 == '\0') {
          cVar9 = *(char *)((int)*puVar14 + 0x15);
          puVar8 = puVar14;
          puVar14 = (undefined4 *)*puVar14;
        }
      }
      else {
        cVar9 = *(char *)((int)puVar8[1] + 0x15);
        puVar13 = (undefined4 *)puVar8[1];
        puVar14 = puVar8;
        while ((puVar8 = puVar13, cVar9 == '\0' && (puVar14 == (undefined4 *)puVar8[2]))) {
          cVar9 = *(char *)((int)puVar8[1] + 0x15);
          puVar13 = (undefined4 *)puVar8[1];
          puVar14 = puVar8;
        }
      }
    }
  }
  puVar7 = *(undefined4 **)(param_1 + 0xe4);
  puVar8 = (undefined4 *)*puVar7;
  do {
    do {
      while( true ) {
        do {
          puVar14 = puVar8;
          if (puVar14 == puVar7) {
            local_8 = 0xffffffff;
            LeaveCriticalSection((LPCRITICAL_SECTION)(iVar11 + 4));
            ExceptionList = local_10;
            return;
          }
          piVar4 = (int *)puVar14[4];
          if (piVar4 != (int *)0x0) {
            if (piVar4[0x50] == 0x12345679) {
              cVar9 = (**(code **)(*piVar4 + 0x200))();
              if (cVar9 == '\0') {
                fVar17 = (fVar1 - (float)piVar4[0x69]) * (fVar1 - (float)piVar4[0x69]) +
                         (fVar2 - (float)piVar4[0x6a]) * (fVar2 - (float)piVar4[0x6a]) +
                         (fVar3 - (float)piVar4[0x6b]) * (fVar3 - (float)piVar4[0x6b]);
                if (piVar4[0xfa] != 0) {
                  iVar16 = 0;
                  if (fVar17 <= 14000.0) {
                    if (3000.0 < fVar17) {
                      iVar16 = 1;
                    }
                  }
                  else {
                    iVar16 = 2;
                  }
                  if (piVar4[0xcb] != iVar16) {
                    FUN_00a18840(piVar4[0xfa],iVar16);
                    piVar4[0xcb] = iVar16;
                  }
                }
                iVar16 = *(int *)(param_1 + 0xac);
                fVar17 = *(float *)(iVar16 + 0x1a4) - (float)piVar4[0x69];
                fVar18 = *(float *)(iVar16 + 0x1a8) - (float)piVar4[0x6a];
                fVar19 = *(float *)(iVar16 + 0x1ac) - (float)piVar4[0x6b];
                if (((*(int *)(DAT_017251ac + 0x3d8) == 3) && (piVar4[0xfa] != 0)) &&
                   (uVar10 = (uint)(8000.0 < fVar17 * fVar17 + fVar18 * fVar18 + fVar19 * fVar19),
                   piVar4[0xcc] != uVar10)) {
                  *(uint *)(piVar4[0xfa] + 0x244) = uVar10;
                  piVar4[0xcc] = uVar10;
                }
              }
            }
            else {
              FUN_008018d0(L"UpdateLOD_Shadow()::NonPlayer invalid Pointer !!");
            }
          }
          puVar8 = puVar14;
        } while (*(char *)((int)puVar14 + 0x15) != '\0');
        puVar8 = (undefined4 *)puVar14[2];
        if (*(char *)((int)puVar8 + 0x15) != '\0') break;
        cVar9 = *(char *)((int)*puVar8 + 0x15);
        puVar14 = (undefined4 *)*puVar8;
        while (cVar9 == '\0') {
          cVar9 = *(char *)((int)*puVar14 + 0x15);
          puVar8 = puVar14;
          puVar14 = (undefined4 *)*puVar14;
        }
      }
      puVar8 = (undefined4 *)puVar14[1];
    } while (*(char *)((int)puVar8 + 0x15) != '\0');
    do {
      puVar13 = puVar8;
      puVar8 = puVar13;
      if (puVar14 != (undefined4 *)puVar13[2]) break;
      puVar8 = (undefined4 *)puVar13[1];
      puVar14 = puVar13;
    } while (*(char *)((int)puVar8 + 0x15) == '\0');
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00a21020 : PUSH EBP
00a21021 : MOV EBP,ESP
00a21023 : PUSH -0x1
00a21025 : PUSH 0xb2645e
00a2102a : MOV EAX,FS:[0x0]
00a21030 : PUSH EAX
00a21031 : SUB ESP,0x1c
00a21034 : PUSH EBX
00a21035 : PUSH ESI
00a21036 : PUSH EDI
00a21037 : MOV EAX,[0x00d66fa0]
00a2103c : XOR EAX,EBP
00a2103e : PUSH EAX
00a2103f : LEA EAX,[EBP + -0xc]
00a21042 : MOV FS:[0x0],EAX
00a21048 : MOV EBX,dword ptr [EBP + 0x8]
00a2104b : TEST EBX,EBX
00a2104d : JZ 0x00a21054
00a2104f : LEA EAX,[EBX + 0x18]
00a21052 : JMP 0x00a21056
00a21054 : XOR EAX,EAX
00a21056 : MOV dword ptr [EBP + -0x28],EAX
00a21059 : ADD EAX,0x4
00a2105c : PUSH EAX
00a2105d : MOV dword ptr [EBP + -0x24],EAX
00a21060 : CALL dword ptr [0x00b85118]
00a21066 : MOV dword ptr [EBP + -0x4],0x0
00a2106d : MOV ECX,dword ptr [EBX + 0x74]
00a21070 : MOV EAX,dword ptr [ECX]
00a21072 : MOV EDX,dword ptr [EAX + 0x14]
00a21075 : CALL EDX
00a21077 : CMP dword ptr [EBX + 0xac],0x0
00a2107e : MOVSS XMM0,dword ptr [EAX]
00a21082 : MOVSS XMM1,dword ptr [EAX + 0x4]
00a21087 : MOVSS XMM2,dword ptr [EAX + 0x8]
00a2108c : MOVSS dword ptr [EBP + -0x10],XMM0
00a21091 : MOVSS dword ptr [EBP + -0x14],XMM1
00a21096 : MOVSS dword ptr [EBP + -0x18],XMM2
00a2109b : JZ 0x00a21159
00a210a1 : MOV ESI,dword ptr [EBX + 0xac]
00a210a7 : MOVSS XMM3,dword ptr [ESI + 0x1a4]
00a210af : MOVSS XMM4,dword ptr [ESI + 0x1a8]
00a210b7 : MOVSS XMM5,dword ptr [ESI + 0x1ac]
00a210bf : MOV EAX,dword ptr [ESI + 0x3e8]
00a210c5 : SUBSS XMM0,XMM3
00a210c9 : SUBSS XMM1,XMM4
00a210cd : MOVAPS XMM3,XMM1
00a210d0 : MULSS XMM3,XMM1
00a210d4 : SUBSS XMM2,XMM5
00a210d8 : MULSS XMM0,XMM0
00a210dc : MOVAPS XMM1,XMM2
00a210df : ADDSS XMM0,XMM3
00a210e3 : MULSS XMM1,XMM2
00a210e7 : ADDSS XMM0,XMM1
00a210eb : TEST EAX,EAX
00a210ed : JZ 0x00a21124
00a210ef : XOR EDI,EDI
00a210f1 : COMISS XMM0,dword ptr [0x00cdf370]
00a210f8 : JBE 0x00a21101
00a210fa : MOV EDI,0x2
00a210ff : JMP 0x00a2110f
00a21101 : COMISS XMM0,dword ptr [0x00cdf1ac]
00a21108 : JBE 0x00a2110f
00a2110a : MOV EDI,0x1
00a2110f : CMP dword ptr [ESI + 0x32c],EDI
00a21115 : JZ 0x00a21124
00a21117 : PUSH EDI
00a21118 : PUSH EAX
00a21119 : CALL 0x00a18840
00a2111e : MOV dword ptr [ESI + 0x32c],EDI
00a21124 : MOV EDX,dword ptr [0x017251ac]
00a2112a : CMP dword ptr [EDX + 0x3d8],0x3
00a21131 : MOV EAX,dword ptr [EBX + 0xac]
00a21137 : MOV ECX,dword ptr [EAX + 0x3e8]
00a2113d : JNZ 0x00a21159
00a2113f : XOR EDX,EDX
00a21141 : CMP ECX,EDX
00a21143 : JZ 0x00a21159
00a21145 : CMP dword ptr [EAX + 0x330],EDX
00a2114b : JZ 0x00a21159
00a2114d : MOV dword ptr [ECX + 0x244],EDX
00a21153 : MOV dword ptr [EAX + 0x330],EDX
00a21159 : MOV ECX,dword ptr [EBX + 0xc0]
00a2115f : MOV EAX,dword ptr [ECX]
00a21161 : MOV dword ptr [EBP + -0x20],ECX
00a21164 : MOV dword ptr [EBP + -0x1c],EAX
00a21167 : CMP EAX,ECX
00a21169 : JZ 0x00a212eb
00a2116f : NOP
00a21170 : MOV ESI,dword ptr [EAX + 0x10]
00a21173 : TEST ESI,ESI
00a21175 : JZ 0x00a212d7
00a2117b : CMP dword ptr [ESI + 0x140],0x12345679
00a21185 : JZ 0x00a2119f
00a21187 : MOV ESI,dword ptr [0x00da98e8]
00a2118d : PUSH 0xcc0520
00a21192 : CALL 0x008018d0
00a21197 : ADD ESP,0x4
00a2119a : JMP 0x00a212d7
00a2119f : MOV EAX,dword ptr [ESI]
00a211a1 : MOV EDX,dword ptr [EAX + 0x200]
00a211a7 : MOV ECX,ESI
00a211a9 : CALL EDX
00a211ab : TEST AL,AL
00a211ad : JNZ 0x00a212d7
00a211b3 : MOVSS XMM1,dword ptr [ESI + 0x1a4]
00a211bb : MOVSS XMM0,dword ptr [EBP + -0x10]
00a211c0 : MOVSS XMM2,dword ptr [ESI + 0x1a8]
00a211c8 : MOVSS XMM3,dword ptr [ESI + 0x1ac]
00a211d0 : MOV EAX,dword ptr [ESI + 0x3e8]
00a211d6 : SUBSS XMM0,XMM1
00a211da : MOVSS XMM1,dword ptr [EBP + -0x14]
00a211df : SUBSS XMM1,XMM2
00a211e3 : MOVSS XMM2,dword ptr [EBP + -0x18]
00a211e8 : SUBSS XMM2,XMM3
00a211ec : MOVAPS XMM3,XMM1
00a211ef : MULSS XMM3,XMM1
00a211f3 : MULSS XMM0,XMM0
00a211f7 : MOVAPS XMM1,XMM2
00a211fa : ADDSS XMM0,XMM3
00a211fe : MULSS XMM1,XMM2
00a21202 : ADDSS XMM0,XMM1
00a21206 : TEST EAX,EAX
00a21208 : JZ 0x00a2123f
00a2120a : XOR EDI,EDI
00a2120c : COMISS XMM0,dword ptr [0x00cdf370]
00a21213 : JBE 0x00a2121c
00a21215 : MOV EDI,0x2
00a2121a : JMP 0x00a2122a
00a2121c : COMISS XMM0,dword ptr [0x00cdf1ac]
00a21223 : JBE 0x00a2122a
00a21225 : MOV EDI,0x1
00a2122a : CMP dword ptr [ESI + 0x32c],EDI
00a21230 : JZ 0x00a2123f
00a21232 : PUSH EDI
00a21233 : PUSH EAX
00a21234 : CALL 0x00a18840
00a21239 : MOV dword ptr [ESI + 0x32c],EDI
00a2123f : MOV EAX,dword ptr [EBX + 0xac]
00a21245 : MOVSS XMM3,dword ptr [ESI + 0x1a4]
00a2124d : MOVSS XMM0,dword ptr [EAX + 0x1a4]
00a21255 : MOVSS XMM1,dword ptr [EAX + 0x1a8]
00a2125d : MOVSS XMM4,dword ptr [ESI + 0x1a8]
00a21265 : MOVSS XMM2,dword ptr [EAX + 0x1ac]
00a2126d : MOVSS XMM5,dword ptr [ESI + 0x1ac]
00a21275 : MOV EAX,[0x017251ac]
00a2127a : CMP dword ptr [EAX + 0x3d8],0x3
00a21281 : MOV ECX,dword ptr [ESI + 0x3e8]
00a21287 : SUBSS XMM0,XMM3
00a2128b : SUBSS XMM1,XMM4
00a2128f : MOVAPS XMM3,XMM1
00a21292 : MULSS XMM3,XMM1
00a21296 : SUBSS XMM2,XMM5
00a2129a : MULSS XMM0,XMM0
00a2129e : MOVAPS XMM1,XMM2
00a212a1 : ADDSS XMM0,XMM3
00a212a5 : MULSS XMM1,XMM2
00a212a9 : ADDSS XMM0,XMM1
00a212ad : JNZ 0x00a212d7
00a212af : TEST ECX,ECX
00a212b1 : JZ 0x00a212d7
00a212b3 : XOR EAX,EAX
00a212b5 : COMISS XMM0,dword ptr [0x00cdf2c8]
00a212bc : JBE 0x00a212c3
00a212be : MOV EAX,0x1
00a212c3 : CMP dword ptr [ESI + 0x330],EAX
00a212c9 : JZ 0x00a212d7
00a212cb : MOV dword ptr [ECX + 0x244],EAX
00a212d1 : MOV dword ptr [ESI + 0x330],EAX
00a212d7 : LEA EDX,[EBP + -0x1c]
00a212da : CALL 0x00416210
00a212df : MOV EAX,dword ptr [EBP + -0x1c]
00a212e2 : CMP EAX,dword ptr [EBP + -0x20]
00a212e5 : JNZ 0x00a21170
00a212eb : MOV ECX,dword ptr [EBP + 0x8]
00a212ee : MOV EAX,dword ptr [ECX + 0xcc]
00a212f4 : MOV EBX,dword ptr [EAX]
00a212f6 : MOV dword ptr [EBP + -0x20],EAX
00a212f9 : CMP EBX,EAX
00a212fb : JZ 0x00a214bb
00a21301 : MOV ESI,dword ptr [EBX + 0x10]
00a21304 : TEST ESI,ESI
00a21306 : JZ 0x00a2146c
00a2130c : CMP dword ptr [ESI + 0x140],0x12345679
00a21316 : JZ 0x00a21330
00a21318 : MOV ESI,dword ptr [0x00da98e8]
00a2131e : PUSH 0xcc0590
00a21323 : CALL 0x008018d0
00a21328 : ADD ESP,0x4
00a2132b : JMP 0x00a2146c
00a21330 : MOV EDX,dword ptr [ESI]
00a21332 : MOV EAX,dword ptr [EDX + 0x200]
00a21338 : MOV ECX,ESI
00a2133a : CALL EAX
00a2133c : TEST AL,AL
00a2133e : JNZ 0x00a2146c
00a21344 : MOVSS XMM1,dword ptr [ESI + 0x1a4]
00a2134c : MOVSS XMM0,dword ptr [EBP + -0x10]
00a21351 : MOVSS XMM2,dword ptr [ESI + 0x1a8]
00a21359 : MOVSS XMM3,dword ptr [ESI + 0x1ac]
00a21361 : MOV EAX,dword ptr [ESI + 0x3e8]
00a21367 : SUBSS XMM0,XMM1
00a2136b : MOVSS XMM1,dword ptr [EBP + -0x14]
00a21370 : SUBSS XMM1,XMM2
00a21374 : MOVSS XMM2,dword ptr [EBP + -0x18]
00a21379 : SUBSS XMM2,XMM3
00a2137d : MOVAPS XMM3,XMM1
00a21380 : MULSS XMM3,XMM1
00a21384 : MULSS XMM0,XMM0
00a21388 : MOVAPS XMM1,XMM2
00a2138b : ADDSS XMM0,XMM3
00a2138f : MULSS XMM1,XMM2
00a21393 : ADDSS XMM0,XMM1
00a21397 : TEST EAX,EAX
00a21399 : JZ 0x00a213d0
00a2139b : XOR EDI,EDI
00a2139d : COMISS XMM0,dword ptr [0x00cdf370]
00a213a4 : JBE 0x00a213ad
00a213a6 : MOV EDI,0x2
00a213ab : JMP 0x00a213bb
00a213ad : COMISS XMM0,dword ptr [0x00cdf1ac]
00a213b4 : JBE 0x00a213bb
00a213b6 : MOV EDI,0x1
00a213bb : CMP dword ptr [ESI + 0x32c],EDI
00a213c1 : JZ 0x00a213d0
00a213c3 : PUSH EDI
00a213c4 : PUSH EAX
00a213c5 : CALL 0x00a18840
00a213ca : MOV dword ptr [ESI + 0x32c],EDI
00a213d0 : MOV ECX,dword ptr [EBP + 0x8]
00a213d3 : MOV EAX,dword ptr [ECX + 0xac]
00a213d9 : MOVSS XMM3,dword ptr [ESI + 0x1a4]
00a213e1 : MOVSS XMM4,dword ptr [ESI + 0x1a8]
00a213e9 : MOVSS XMM0,dword ptr [EAX + 0x1a4]
00a213f1 : MOVSS XMM1,dword ptr [EAX + 0x1a8]
00a213f9 : MOVSS XMM5,dword ptr [ESI + 0x1ac]
00a21401 : MOVSS XMM2,dword ptr [EAX + 0x1ac]
00a21409 : MOV EDX,dword ptr [0x017251ac]
00a2140f : CMP dword ptr [EDX + 0x3d8],0x3
00a21416 : MOV ECX,dword ptr [ESI + 0x3e8]
00a2141c : SUBSS XMM0,XMM3
00a21420 : SUBSS XMM1,XMM4
00a21424 : MOVAPS XMM3,XMM1
00a21427 : MULSS XMM3,XMM1
00a2142b : SUBSS XMM2,XMM5
00a2142f : MULSS XMM0,XMM0
00a21433 : MOVAPS XMM1,XMM2
00a21436 : ADDSS XMM0,XMM3
00a2143a : MULSS XMM1,XMM2
00a2143e : ADDSS XMM0,XMM1
00a21442 : JNZ 0x00a2146c
00a21444 : TEST ECX,ECX
00a21446 : JZ 0x00a2146c
00a21448 : XOR EAX,EAX
00a2144a : COMISS XMM0,dword ptr [0x00cdf2c8]
00a21451 : JBE 0x00a21458
00a21453 : MOV EAX,0x1
00a21458 : CMP dword ptr [ESI + 0x330],EAX
00a2145e : JZ 0x00a2146c
00a21460 : MOV dword ptr [ECX + 0x244],EAX
00a21466 : MOV dword ptr [ESI + 0x330],EAX
00a2146c : CMP byte ptr [EBX + 0x15],0x0
00a21470 : JNZ 0x00a214b2
00a21472 : MOV ECX,dword ptr [EBX + 0x8]
00a21475 : CMP byte ptr [ECX + 0x15],0x0
00a21479 : JNZ 0x00a21491
00a2147b : MOV EAX,dword ptr [ECX]
00a2147d : CMP byte ptr [EAX + 0x15],0x0
00a21481 : JNZ 0x00a2148d
00a21483 : MOV ECX,EAX
00a21485 : MOV EAX,dword ptr [ECX]
00a21487 : CMP byte ptr [EAX + 0x15],0x0
00a2148b : JZ 0x00a21483
00a2148d : MOV EBX,ECX
00a2148f : JMP 0x00a214b2
00a21491 : MOV EAX,dword ptr [EBX + 0x4]
00a21494 : CMP byte ptr [EAX + 0x15],0x0
00a21498 : JNZ 0x00a214b0
00a2149a : LEA EBX,[EBX]
00a214a0 : CMP EBX,dword ptr [EAX + 0x8]
00a214a3 : JNZ 0x00a214b0
00a214a5 : MOV EBX,EAX
00a214a7 : MOV EAX,dword ptr [EAX + 0x4]
00a214aa : CMP byte ptr [EAX + 0x15],0x0
00a214ae : JZ 0x00a214a0
00a214b0 : MOV EBX,EAX
00a214b2 : CMP EBX,dword ptr [EBP + -0x20]
00a214b5 : JNZ 0x00a21301
00a214bb : MOV EAX,dword ptr [EBP + 0x8]
00a214be : MOV EAX,dword ptr [EAX + 0xe4]
00a214c4 : MOV EBX,dword ptr [EAX]
00a214c6 : MOV dword ptr [EBP + -0x20],EAX
00a214c9 : CMP EBX,EAX
00a214cb : JZ 0x00a2168b
00a214d1 : MOV ESI,dword ptr [EBX + 0x10]
00a214d4 : TEST ESI,ESI
00a214d6 : JZ 0x00a2163c
00a214dc : CMP dword ptr [ESI + 0x140],0x12345679
00a214e6 : JZ 0x00a21500
00a214e8 : MOV ESI,dword ptr [0x00da98e8]
00a214ee : PUSH 0xcc05f8
00a214f3 : CALL 0x008018d0
00a214f8 : ADD ESP,0x4
00a214fb : JMP 0x00a2163c
00a21500 : MOV EDX,dword ptr [ESI]
00a21502 : MOV EAX,dword ptr [EDX + 0x200]
00a21508 : MOV ECX,ESI
00a2150a : CALL EAX
00a2150c : TEST AL,AL
00a2150e : JNZ 0x00a2163c
00a21514 : MOVSS XMM1,dword ptr [ESI + 0x1a4]
00a2151c : MOVSS XMM0,dword ptr [EBP + -0x10]
00a21521 : MOVSS XMM2,dword ptr [ESI + 0x1a8]
00a21529 : MOVSS XMM3,dword ptr [ESI + 0x1ac]
00a21531 : MOV EAX,dword ptr [ESI + 0x3e8]
00a21537 : SUBSS XMM0,XMM1
00a2153b : MOVSS XMM1,dword ptr [EBP + -0x14]
00a21540 : SUBSS XMM1,XMM2
00a21544 : MOVSS XMM2,dword ptr [EBP + -0x18]
00a21549 : SUBSS XMM2,XMM3
00a2154d : MOVAPS XMM3,XMM1
00a21550 : MULSS XMM3,XMM1
00a21554 : MULSS XMM0,XMM0
00a21558 : MOVAPS XMM1,XMM2
00a2155b : ADDSS XMM0,XMM3
00a2155f : MULSS XMM1,XMM2
00a21563 : ADDSS XMM0,XMM1
00a21567 : TEST EAX,EAX
00a21569 : JZ 0x00a215a0
00a2156b : XOR EDI,EDI
00a2156d : COMISS XMM0,dword ptr [0x00cdf370]
00a21574 : JBE 0x00a2157d
00a21576 : MOV EDI,0x2
00a2157b : JMP 0x00a2158b
00a2157d : COMISS XMM0,dword ptr [0x00cdf1ac]
00a21584 : JBE 0x00a2158b
00a21586 : MOV EDI,0x1
00a2158b : CMP dword ptr [ESI + 0x32c],EDI
00a21591 : JZ 0x00a215a0
00a21593 : PUSH EDI
00a21594 : PUSH EAX
00a21595 : CALL 0x00a18840
00a2159a : MOV dword ptr [ESI + 0x32c],EDI
00a215a0 : MOV ECX,dword ptr [EBP + 0x8]
00a215a3 : MOV EAX,dword ptr [ECX + 0xac]
00a215a9 : MOVSS XMM3,dword ptr [ESI + 0x1a4]
00a215b1 : MOVSS XMM4,dword ptr [ESI + 0x1a8]
00a215b9 : MOVSS XMM0,dword ptr [EAX + 0x1a4]
00a215c1 : MOVSS XMM1,dword ptr [EAX + 0x1a8]
00a215c9 : MOVSS XMM5,dword ptr [ESI + 0x1ac]
00a215d1 : MOVSS XMM2,dword ptr [EAX + 0x1ac]
00a215d9 : MOV EDX,dword ptr [0x017251ac]
00a215df : CMP dword ptr [EDX + 0x3d8],0x3
00a215e6 : MOV ECX,dword ptr [ESI + 0x3e8]
00a215ec : SUBSS XMM0,XMM3
00a215f0 : SUBSS XMM1,XMM4
00a215f4 : MOVAPS XMM3,XMM1
00a215f7 : MULSS XMM3,XMM1
00a215fb : SUBSS XMM2,XMM5
00a215ff : MULSS XMM0,XMM0
00a21603 : MOVAPS XMM1,XMM2
00a21606 : ADDSS XMM0,XMM3
00a2160a : MULSS XMM1,XMM2
00a2160e : ADDSS XMM0,XMM1
00a21612 : JNZ 0x00a2163c
00a21614 : TEST ECX,ECX
00a21616 : JZ 0x00a2163c
00a21618 : XOR EAX,EAX
00a2161a : COMISS XMM0,dword ptr [0x00cdf2c8]
00a21621 : JBE 0x00a21628
00a21623 : MOV EAX,0x1
00a21628 : CMP dword ptr [ESI + 0x330],EAX
00a2162e : JZ 0x00a2163c
00a21630 : MOV dword ptr [ECX + 0x244],EAX
00a21636 : MOV dword ptr [ESI + 0x330],EAX
00a2163c : CMP byte ptr [EBX + 0x15],0x0
00a21640 : JNZ 0x00a21682
00a21642 : MOV ECX,dword ptr [EBX + 0x8]
00a21645 : CMP byte ptr [ECX + 0x15],0x0
00a21649 : JNZ 0x00a21661
00a2164b : MOV EAX,dword ptr [ECX]
00a2164d : CMP byte ptr [EAX + 0x15],0x0
00a21651 : JNZ 0x00a2165d
00a21653 : MOV ECX,EAX
00a21655 : MOV EAX,dword ptr [ECX]
00a21657 : CMP byte ptr [EAX + 0x15],0x0
00a2165b : JZ 0x00a21653
00a2165d : MOV EBX,ECX
00a2165f : JMP 0x00a21682
00a21661 : MOV EAX,dword ptr [EBX + 0x4]
00a21664 : CMP byte ptr [EAX + 0x15],0x0
00a21668 : JNZ 0x00a21680
00a2166a : LEA EBX,[EBX]
00a21670 : CMP EBX,dword ptr [EAX + 0x8]
00a21673 : JNZ 0x00a21680
00a21675 : MOV EBX,EAX
00a21677 : MOV EAX,dword ptr [EAX + 0x4]
00a2167a : CMP byte ptr [EAX + 0x15],0x0
00a2167e : JZ 0x00a21670
00a21680 : MOV EBX,EAX
00a21682 : CMP EBX,dword ptr [EBP + -0x20]
00a21685 : JNZ 0x00a214d1
00a2168b : MOV dword ptr [EBP + -0x4],0xffffffff
00a21692 : MOV EAX,dword ptr [EBP + -0x24]
00a21695 : PUSH EAX
00a21696 : CALL dword ptr [0x00b8511c]
00a2169c : MOV ECX,dword ptr [EBP + -0xc]
00a2169f : MOV dword ptr FS:[0x0],ECX
00a216a6 : POP ECX
00a216a7 : POP EDI
00a216a8 : POP ESI
00a216a9 : POP EBX
00a216aa : MOV ESP,EBP
00a216ac : POP EBP
00a216ad : RET 0x4
