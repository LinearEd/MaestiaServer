PROGRAM  : Maestia.exe
FUNCTION : FUN_00748c70
ENTRY    : 00748c70
BODY     : [[00748c70, 00748d8f]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00748d53) */

void FUN_00748c70(void)

{
  int iVar1;
  int in_ECX;
  LPCRITICAL_SECTION local_28;
  char *local_24;
  undefined4 local_20;
  int local_1c;
  undefined4 local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b10e24;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_28 = (LPCRITICAL_SECTION)(in_ECX + 0x7c);
  local_1c = 0;
  local_24 = ".\\World\\AvaRenderQueue.cpp";
  local_20 = 0x34;
  local_18 = 1;
  FUN_006ef1a0(&local_28);
  local_8 = 0;
  FUN_0045cd30(*(undefined4 *)(*(int *)(in_ECX + 0x44) + 4));
  *(int *)(*(int *)(in_ECX + 0x44) + 4) = *(int *)(in_ECX + 0x44);
  *(undefined4 *)(in_ECX + 0x48) = 0;
  *(undefined4 *)*(undefined4 *)(in_ECX + 0x44) = *(undefined4 *)(in_ECX + 0x44);
  *(int *)(*(int *)(in_ECX + 0x44) + 8) = *(int *)(in_ECX + 0x44);
  local_8 = 0xffffffff;
  if (local_1c != 0) {
    LeaveCriticalSection(local_28);
  }
  local_28 = (LPCRITICAL_SECTION)(in_ECX + 0x60);
  local_1c = 0;
  local_24 = ".\\World\\AvaRenderQueue.cpp";
  local_20 = 0x39;
  local_18 = 1;
  FUN_006ef1a0(&local_28);
  iVar1 = *(int *)(in_ECX + 0x50);
  if (iVar1 != *(int *)(in_ECX + 0x54)) {
    *(int *)(in_ECX + 0x54) = iVar1;
    local_14 = iVar1;
  }
  local_8 = 0xffffffff;
  if (local_1c != 0) {
    LeaveCriticalSection(local_28);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00748c70 : PUSH EBP
00748c71 : MOV EBP,ESP
00748c73 : PUSH -0x1
00748c75 : PUSH 0xb10e24
00748c7a : MOV EAX,FS:[0x0]
00748c80 : PUSH EAX
00748c81 : SUB ESP,0x18
00748c84 : PUSH EBX
00748c85 : PUSH ESI
00748c86 : PUSH EDI
00748c87 : MOV EAX,[0x00d66fa0]
00748c8c : XOR EAX,EBP
00748c8e : PUSH EAX
00748c8f : LEA EAX,[EBP + -0xc]
00748c92 : MOV FS:[0x0],EAX
00748c98 : MOV EDI,ECX
00748c9a : LEA ECX,[EBP + -0x24]
00748c9d : LEA EAX,[EDI + 0x7c]
00748ca0 : XOR EBX,EBX
00748ca2 : PUSH ECX
00748ca3 : MOV dword ptr [EBP + -0x18],EBX
00748ca6 : MOV dword ptr [EBP + -0x24],EAX
00748ca9 : MOV dword ptr [EBP + -0x20],0xc0893c
00748cb0 : MOV dword ptr [EBP + -0x1c],0x34
00748cb7 : MOV dword ptr [EBP + -0x14],0x1
00748cbe : CALL 0x006ef1a0
00748cc3 : MOV dword ptr [EBP + -0x4],EBX
00748cc6 : MOV EDX,dword ptr [EDI + 0x44]
00748cc9 : MOV EAX,dword ptr [EDX + 0x4]
00748ccc : LEA ESI,[EDI + 0x40]
00748ccf : PUSH EAX
00748cd0 : MOV ECX,ESI
00748cd2 : CALL 0x0045cd30
00748cd7 : MOV EAX,dword ptr [ESI + 0x4]
00748cda : MOV dword ptr [EAX + 0x4],EAX
00748cdd : MOV EAX,dword ptr [ESI + 0x4]
00748ce0 : MOV dword ptr [ESI + 0x8],EBX
00748ce3 : MOV dword ptr [EAX],EAX
00748ce5 : MOV ESI,dword ptr [ESI + 0x4]
00748ce8 : MOV dword ptr [ESI + 0x8],ESI
00748ceb : MOV dword ptr [EBP + -0x4],0xffffffff
00748cf2 : CMP dword ptr [EBP + -0x18],EBX
00748cf5 : JZ 0x00748d04
00748cf7 : MOV ECX,dword ptr [EBP + -0x24]
00748cfa : PUSH ECX
00748cfb : CALL dword ptr [0x00b8511c]
00748d01 : MOV dword ptr [EBP + -0x18],EBX
00748d04 : LEA EAX,[EBP + -0x24]
00748d07 : LEA EDX,[EDI + 0x60]
00748d0a : MOV ESI,0x1
00748d0f : PUSH EAX
00748d10 : MOV dword ptr [EBP + -0x18],EBX
00748d13 : MOV dword ptr [EBP + -0x24],EDX
00748d16 : MOV dword ptr [EBP + -0x20],0xc08958
00748d1d : MOV dword ptr [EBP + -0x1c],0x39
00748d24 : MOV dword ptr [EBP + -0x14],ESI
00748d27 : CALL 0x006ef1a0
00748d2c : MOV dword ptr [EBP + -0x4],ESI
00748d2f : MOV ECX,dword ptr [EDI + 0x54]
00748d32 : MOV EDX,dword ptr [EDI + 0x50]
00748d35 : CMP EDX,ECX
00748d37 : JZ 0x00748d65
00748d39 : MOV EAX,ECX
00748d3b : SUB EAX,ECX
00748d3d : SAR EAX,0x2
00748d40 : LEA ESI,[EAX*0x4 + 0x0]
00748d47 : LEA EBX,[ESI + EDX*0x1]
00748d4a : MOV dword ptr [EBP + -0x10],EBX
00748d4d : XOR EBX,EBX
00748d4f : CMP EAX,EBX
00748d51 : JLE 0x00748d5f
00748d53 : PUSH ESI
00748d54 : PUSH ECX
00748d55 : PUSH ESI
00748d56 : PUSH EDX
00748d57 : CALL 0x00634101
00748d5c : ADD ESP,0x10
00748d5f : MOV ECX,dword ptr [EBP + -0x10]
00748d62 : MOV dword ptr [EDI + 0x54],ECX
00748d65 : MOV dword ptr [EBP + -0x4],0xffffffff
00748d6c : CMP dword ptr [EBP + -0x18],EBX
00748d6f : JZ 0x00748d7e
00748d71 : MOV EDX,dword ptr [EBP + -0x24]
00748d74 : PUSH EDX
00748d75 : CALL dword ptr [0x00b8511c]
00748d7b : MOV dword ptr [EBP + -0x18],EBX
00748d7e : MOV ECX,dword ptr [EBP + -0xc]
00748d81 : MOV dword ptr FS:[0x0],ECX
00748d88 : POP ECX
00748d89 : POP EDI
00748d8a : POP ESI
00748d8b : POP EBX
00748d8c : MOV ESP,EBP
00748d8e : POP EBP
00748d8f : RET
