PROGRAM  : Maestia.exe
FUNCTION : FUN_007db870
ENTRY    : 007db870
BODY     : [[007db870, 007db92a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007db870(void)

{
  uint uVar1;
  int in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4d6ac;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(in_ECX + 8) != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  local_8 = 0;
  if (*(undefined4 **)(in_ECX + 0x2b8) != (undefined4 *)0x0) {
    (**(code **)**(undefined4 **)(in_ECX + 0x2b8))(1,uVar1);
    *(undefined4 *)(in_ECX + 0x2b8) = 0;
  }
  if (*(undefined4 **)(in_ECX + 0x2b4) != (undefined4 *)0x0) {
    (**(code **)**(undefined4 **)(in_ECX + 0x2b4))(1);
    *(undefined4 *)(in_ECX + 0x2b4) = 0;
  }
  FUN_007cd400(0);
  *(undefined1 *)(in_ECX + 700) = 0;
  FUN_007db6c0(2);
  FUN_007db6c0(1);
  local_8 = 0xffffffff;
  if (*(int *)(in_ECX + 8) != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007db870 : PUSH EBP
007db871 : MOV EBP,ESP
007db873 : PUSH -0x1
007db875 : PUSH 0xb4d6ac
007db87a : MOV EAX,FS:[0x0]
007db880 : PUSH EAX
007db881 : SUB ESP,0x8
007db884 : PUSH EBX
007db885 : PUSH ESI
007db886 : MOV EAX,[0x00d66fa0]
007db88b : XOR EAX,EBP
007db88d : PUSH EAX
007db88e : LEA EAX,[EBP + -0xc]
007db891 : MOV FS:[0x0],EAX
007db897 : MOV ESI,ECX
007db899 : MOV EAX,dword ptr [ESI + 0x8]
007db89c : XOR EBX,EBX
007db89e : MOV dword ptr [EBP + -0x10],ESI
007db8a1 : CMP EAX,EBX
007db8a3 : JZ 0x007db8af
007db8a5 : ADD EAX,0x4
007db8a8 : PUSH EAX
007db8a9 : CALL dword ptr [0x00b85118]
007db8af : MOV dword ptr [EBP + -0x4],EBX
007db8b2 : MOV ECX,dword ptr [ESI + 0x2b8]
007db8b8 : CMP ECX,EBX
007db8ba : JZ 0x007db8ca
007db8bc : MOV EAX,dword ptr [ECX]
007db8be : MOV EDX,dword ptr [EAX]
007db8c0 : PUSH 0x1
007db8c2 : CALL EDX
007db8c4 : MOV dword ptr [ESI + 0x2b8],EBX
007db8ca : MOV ECX,dword ptr [ESI + 0x2b4]
007db8d0 : CMP ECX,EBX
007db8d2 : JZ 0x007db8e2
007db8d4 : MOV EAX,dword ptr [ECX]
007db8d6 : MOV EDX,dword ptr [EAX]
007db8d8 : PUSH 0x1
007db8da : CALL EDX
007db8dc : MOV dword ptr [ESI + 0x2b4],EBX
007db8e2 : PUSH EBX
007db8e3 : MOV ECX,ESI
007db8e5 : CALL 0x007cd400
007db8ea : PUSH 0x2
007db8ec : MOV ECX,ESI
007db8ee : MOV byte ptr [ESI + 0x2bc],BL
007db8f4 : CALL 0x007db6c0
007db8f9 : PUSH 0x1
007db8fb : MOV ECX,ESI
007db8fd : CALL 0x007db6c0
007db902 : MOV dword ptr [EBP + -0x4],0xffffffff
007db909 : MOV ESI,dword ptr [ESI + 0x8]
007db90c : CMP ESI,EBX
007db90e : JZ 0x007db91a
007db910 : ADD ESI,0x4
007db913 : PUSH ESI
007db914 : CALL dword ptr [0x00b8511c]
007db91a : MOV ECX,dword ptr [EBP + -0xc]
007db91d : MOV dword ptr FS:[0x0],ECX
007db924 : POP ECX
007db925 : POP ESI
007db926 : POP EBX
007db927 : MOV ESP,EBP
007db929 : POP EBP
007db92a : RET
