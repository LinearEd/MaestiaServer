PROGRAM  : Maestia.exe
FUNCTION : FUN_0042bc30
ENTRY    : 0042bc30
BODY     : [[0042bc30, 0042bc69] [0042bc70, 0042bdfe]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0042bc30(int param_1,int *param_2,int param_3,int *param_4)

{
  int *piVar1;
  int *piVar2;
  uint uVar3;
  uint uVar4;
  float fVar5;
  float fVar6;
  char cVar7;
  int iVar8;
  ushort *puVar9;
  int iVar10;
  ushort *puVar11;
  uint uVar12;
  int *piVar13;
  int iVar14;
  
  iVar10 = param_3;
  iVar8 = FUN_0044f3f0();
  piVar13 = *(int **)(*(int *)(param_1 + 0x14) + 4 + iVar8 * 4);
  piVar2 = *(int **)(*(int *)(param_1 + 0x14) + iVar8 * 4);
  iVar14 = iVar10;
  if (piVar13 != piVar2) {
    uVar3 = *(uint *)(iVar10 + 0x14);
    do {
      piVar13 = (int *)piVar13[1];
      uVar4 = piVar13[7];
      if ((uint)piVar13[8] < 8) {
        puVar9 = (ushort *)(piVar13 + 3);
      }
      else {
        puVar9 = (ushort *)piVar13[3];
      }
      uVar12 = uVar3;
      if (uVar4 <= uVar3) {
        uVar12 = uVar4;
      }
      if (*(uint *)(iVar10 + 0x18) < 8) {
        puVar11 = (ushort *)(param_3 + 4);
      }
      else {
        puVar11 = *(ushort **)(param_3 + 4);
      }
      for (; uVar12 != 0; uVar12 = uVar12 - 1) {
        if (*puVar11 != *puVar9) {
          uVar12 = (-(uint)(*puVar11 < *puVar9) & 0xfffffffe) + 1;
          if (uVar12 != 0) goto LAB_0042bcc8;
          break;
        }
        puVar11 = puVar11 + 1;
        puVar9 = puVar9 + 1;
      }
      if (uVar4 <= uVar3) {
        uVar12 = (uint)(uVar3 != uVar4);
LAB_0042bcc8:
        if (-1 < (int)uVar12) {
          cVar7 = FUN_0042be00();
          if (cVar7 == '\0') {
            if (param_4 != *(int **)(param_1 + 8)) {
              FUN_004ce130(&param_3,param_4);
            }
            *param_2 = (int)piVar13;
            *(undefined1 *)(param_2 + 1) = 0;
            return;
          }
          piVar13 = (int *)*piVar13;
          iVar14 = param_3;
          break;
        }
      }
      iVar14 = param_3;
    } while (piVar13 != piVar2);
  }
  if (param_4 == *(int **)(param_1 + 8)) {
    iVar10 = FUN_0042c2a0(piVar13,piVar13[1],iVar14);
    FUN_0044f4f0();
    piVar13[1] = iVar10;
    **(int **)(iVar10 + 4) = iVar10;
    param_4 = (int *)piVar13[1];
  }
  else if (((param_4 != *(int **)(param_1 + 8)) && (piVar13 != param_4)) &&
          (piVar13 != (int *)*param_4)) {
    FUN_0044f440(piVar13,param_4,(int *)*param_4);
  }
  piVar1 = *(int **)(*(int *)(param_1 + 0x14) + iVar8 * 4);
  piVar2 = (int *)(*(int *)(param_1 + 0x14) + iVar8 * 4);
  while ((piVar13 == piVar1 && (*piVar2 = (int)param_4, iVar8 != 0))) {
    iVar8 = iVar8 + -1;
    piVar1 = *(int **)(*(int *)(param_1 + 0x14) + iVar8 * 4);
    piVar2 = (int *)(*(int *)(param_1 + 0x14) + iVar8 * 4);
  }
  fVar5 = (float)*(int *)(param_1 + 0xc);
  if (*(int *)(param_1 + 0xc) < 0) {
    fVar5 = fVar5 + 4.2949673e+09;
  }
  fVar6 = (float)*(int *)(param_1 + 0x24);
  if (*(int *)(param_1 + 0x24) < 0) {
    fVar6 = fVar6 + 4.2949673e+09;
  }
  if (*(float *)(param_1 + 0x28) < fVar5 / fVar6) {
    FUN_004c1570();
  }
  *param_2 = (int)param_4;
  *(undefined1 *)(param_2 + 1) = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0042bc30 : PUSH EBP
0042bc31 : MOV EBP,ESP
0042bc33 : SUB ESP,0x14
0042bc36 : PUSH EBX
0042bc37 : PUSH ESI
0042bc38 : MOV ESI,dword ptr [EBP + 0x8]
0042bc3b : PUSH EDI
0042bc3c : MOV EDI,dword ptr [EBP + 0x10]
0042bc3f : MOV EAX,EDI
0042bc41 : CALL 0x0044f3f0
0042bc46 : MOV ECX,dword ptr [ESI + 0x14]
0042bc49 : MOV EBX,dword ptr [ECX + EAX*0x4 + 0x4]
0042bc4d : MOV dword ptr [EBP + -0x10],EAX
0042bc50 : LEA EAX,[ECX + EAX*0x4]
0042bc53 : MOV EAX,dword ptr [EAX]
0042bc55 : MOV dword ptr [EBP + -0xc],EAX
0042bc58 : CMP EBX,EAX
0042bc5a : JZ 0x0042bcd4
0042bc5c : MOV EDX,dword ptr [EDI + 0x14]
0042bc5f : MOV EAX,dword ptr [EDI + 0x18]
0042bc62 : MOV dword ptr [EBP + -0x4],EDX
0042bc65 : MOV dword ptr [EBP + -0x8],EAX
0042bc68 : JMP 0x0042bc73
0042bc70 : MOV EDX,dword ptr [EBP + -0x4]
0042bc73 : MOV EBX,dword ptr [EBX + 0x4]
0042bc76 : CMP dword ptr [EBX + 0x20],0x8
0042bc7a : MOV EDI,dword ptr [EBX + 0x1c]
0042bc7d : JC 0x0042bc84
0042bc7f : MOV EAX,dword ptr [EBX + 0xc]
0042bc82 : JMP 0x0042bc87
0042bc84 : LEA EAX,[EBX + 0xc]
0042bc87 : CMP EDX,EDI
0042bc89 : JC 0x0042bc8d
0042bc8b : MOV EDX,EDI
0042bc8d : CMP dword ptr [EBP + -0x8],0x8
0042bc91 : MOV ECX,dword ptr [EBP + 0x10]
0042bc94 : JC 0x0042bc9b
0042bc96 : MOV ECX,dword ptr [ECX + 0x4]
0042bc99 : JMP 0x0042bc9e
0042bc9b : ADD ECX,0x4
0042bc9e : TEST EDX,EDX
0042bca0 : JBE 0x0042bcb8
0042bca2 : MOV SI,word ptr [ECX]
0042bca5 : CMP SI,word ptr [EAX]
0042bca8 : JNZ 0x0042bd19
0042bcaa : ADD ECX,0x2
0042bcad : ADD EAX,0x2
0042bcb0 : SUB EDX,0x1
0042bcb3 : JNZ 0x0042bca2
0042bcb5 : MOV ESI,dword ptr [EBP + 0x8]
0042bcb8 : MOV EAX,dword ptr [EBP + -0x4]
0042bcbb : CMP EAX,EDI
0042bcbd : JC 0x0042bccc
0042bcbf : XOR ECX,ECX
0042bcc1 : CMP EAX,EDI
0042bcc3 : SETNZ CL
0042bcc6 : MOV EAX,ECX
0042bcc8 : TEST EAX,EAX
0042bcca : JGE 0x0042bd2e
0042bccc : CMP EBX,dword ptr [EBP + -0xc]
0042bccf : JNZ 0x0042bc70
0042bcd1 : MOV EDI,dword ptr [EBP + 0x10]
0042bcd4 : MOV ECX,dword ptr [EBP + 0x14]
0042bcd7 : CMP ECX,dword ptr [ESI + 0x8]
0042bcda : JZ 0x0042bd68
0042bce0 : CMP ECX,dword ptr [ESI + 0x8]
0042bce3 : LEA EDX,[ESI + 0x4]
0042bce6 : JZ 0x0042bd90
0042bcec : MOV EAX,dword ptr [ECX]
0042bcee : CMP EDX,EDX
0042bcf0 : JNZ 0x0042bd02
0042bcf2 : CMP EBX,ECX
0042bcf4 : JZ 0x0042bd90
0042bcfa : CMP EBX,EAX
0042bcfc : JZ 0x0042bd90
0042bd02 : PUSH EAX
0042bd03 : PUSH ECX
0042bd04 : PUSH EBX
0042bd05 : MOV EDI,0x1
0042bd0a : MOV ESI,EDX
0042bd0c : CALL 0x0044f440
0042bd11 : MOV ECX,dword ptr [EBP + 0x14]
0042bd14 : MOV ESI,dword ptr [EBP + 0x8]
0042bd17 : JMP 0x0042bd90
0042bd19 : MOV DX,SI
0042bd1c : CMP DX,word ptr [EAX]
0042bd1f : SBB EAX,EAX
0042bd21 : AND EAX,0xfffffffe
0042bd24 : ADD EAX,0x1
0042bd27 : JZ 0x0042bcb5
0042bd29 : MOV ESI,dword ptr [EBP + 0x8]
0042bd2c : JMP 0x0042bcc8
0042bd2e : MOV EAX,dword ptr [EBP + 0x10]
0042bd31 : LEA ECX,[EBX + 0x8]
0042bd34 : CALL 0x0042be00
0042bd39 : TEST AL,AL
0042bd3b : JZ 0x0042bd41
0042bd3d : MOV EBX,dword ptr [EBX]
0042bd3f : JMP 0x0042bcd1
0042bd41 : MOV EAX,dword ptr [EBP + 0x14]
0042bd44 : CMP EAX,dword ptr [ESI + 0x8]
0042bd47 : JZ 0x0042bd56
0042bd49 : PUSH EAX
0042bd4a : LEA EDX,[EBP + 0x10]
0042bd4d : PUSH EDX
0042bd4e : LEA EDI,[ESI + 0x4]
0042bd51 : CALL 0x004ce130
0042bd56 : MOV EAX,dword ptr [EBP + 0xc]
0042bd59 : MOV dword ptr [EAX],EBX
0042bd5b : MOV byte ptr [EAX + 0x4],0x0
0042bd5f : POP EDI
0042bd60 : POP ESI
0042bd61 : POP EBX
0042bd62 : MOV ESP,EBP
0042bd64 : POP EBP
0042bd65 : RET 0x10
0042bd68 : MOV EAX,dword ptr [EBX + 0x4]
0042bd6b : PUSH EDI
0042bd6c : PUSH EAX
0042bd6d : PUSH EBX
0042bd6e : CALL 0x0042c2a0
0042bd73 : LEA EDX,[ESI + 0x4]
0042bd76 : MOV ECX,0x1
0042bd7b : MOV EDI,EAX
0042bd7d : CALL 0x0044f4f0
0042bd82 : MOV dword ptr [EBX + 0x4],EDI
0042bd85 : MOV ECX,dword ptr [EDI + 0x4]
0042bd88 : MOV dword ptr [ECX],EDI
0042bd8a : MOV ECX,dword ptr [EBX + 0x4]
0042bd8d : MOV dword ptr [EBP + 0x14],ECX
0042bd90 : MOV EAX,dword ptr [ESI + 0x14]
0042bd93 : MOV EDX,dword ptr [EBP + -0x10]
0042bd96 : CMP EBX,dword ptr [EAX + EDX*0x4]
0042bd99 : LEA EAX,[EAX + EDX*0x4]
0042bd9c : JNZ 0x0042bdb8
0042bd9e : JMP 0x0042bda3
0042bda0 : MOV ECX,dword ptr [EBP + 0x14]
0042bda3 : MOV dword ptr [EAX],ECX
0042bda5 : TEST EDX,EDX
0042bda7 : JZ 0x0042bdb5
0042bda9 : MOV ECX,dword ptr [ESI + 0x14]
0042bdac : DEC EDX
0042bdad : CMP EBX,dword ptr [ECX + EDX*0x4]
0042bdb0 : LEA EAX,[ECX + EDX*0x4]
0042bdb3 : JZ 0x0042bda0
0042bdb5 : MOV ECX,dword ptr [EBP + 0x14]
0042bdb8 : MOV EDX,dword ptr [ESI + 0xc]
0042bdbb : FILD dword ptr [ESI + 0xc]
0042bdbe : TEST EDX,EDX
0042bdc0 : JGE 0x0042bdc8
0042bdc2 : FADD float ptr [0x00cdf0e0]
0042bdc8 : MOV EAX,dword ptr [ESI + 0x24]
0042bdcb : FILD dword ptr [ESI + 0x24]
0042bdce : TEST EAX,EAX
0042bdd0 : JGE 0x0042bdd8
0042bdd2 : FADD float ptr [0x00cdf0e0]
0042bdd8 : FDIVP
0042bdda : FLD float ptr [ESI + 0x28]
0042bddd : FXCH
0042bddf : FCOMIP ST0,ST1
0042bde1 : FSTP ST0
0042bde3 : JBE 0x0042bded
0042bde5 : CALL 0x004c1570
0042bdea : MOV ECX,dword ptr [EBP + 0x14]
0042bded : MOV EAX,dword ptr [EBP + 0xc]
0042bdf0 : POP EDI
0042bdf1 : POP ESI
0042bdf2 : MOV dword ptr [EAX],ECX
0042bdf4 : MOV byte ptr [EAX + 0x4],0x1
0042bdf8 : POP EBX
0042bdf9 : MOV ESP,EBP
0042bdfb : POP EBP
0042bdfc : RET 0x10
