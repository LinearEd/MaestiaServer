PROGRAM  : Maestia.exe
FUNCTION : FUN_006efa40
ENTRY    : 006efa40
BODY     : [[006efa40, 006efac1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006efa40(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  int unaff_ESI;
  undefined4 *puVar4;
  
  if (*(uint *)(unaff_ESI + 0x14) < 0x101) {
    puVar1 = DAT_00d723e0;
    if (DAT_00d723f4 < 8) {
      puVar1 = &DAT_00d723e0;
    }
    iVar2 = FUN_00403c70(puVar1,DAT_00d723f0);
    if (iVar2 == -1) {
      iVar2 = **(int **)(param_1 + 4);
      puVar1 = (undefined4 *)(unaff_ESI + 4);
      puVar4 = puVar1;
      if (7 < *(uint *)(unaff_ESI + 0x18)) {
        puVar4 = (undefined4 *)*puVar1;
      }
      while( true ) {
        puVar3 = puVar1;
        if (7 < *(uint *)(unaff_ESI + 0x18)) {
          puVar3 = (undefined4 *)*puVar1;
        }
        if (puVar4 == (undefined4 *)((int)puVar3 + *(int *)(unaff_ESI + 0x14) * 2)) break;
        iVar2 = FUN_004f7aa0(iVar2,*(undefined2 *)puVar4);
        puVar4 = (undefined4 *)((int)puVar4 + 2);
      }
      *(undefined1 *)(iVar2 + 0x30) = 1;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006efa40 : PUSH EBP
006efa41 : MOV EBP,ESP
006efa43 : PUSH ECX
006efa44 : CMP dword ptr [ESI + 0x14],0x100
006efa4b : PUSH EBX
006efa4c : PUSH EDI
006efa4d : JA 0x006efabb
006efa4f : MOV EAX,[0x00d723e0]
006efa54 : MOV EDI,0x8
006efa59 : CMP dword ptr [0x00d723f4],EDI
006efa5f : JNC 0x006efa66
006efa61 : MOV EAX,0xd723e0
006efa66 : MOV ECX,dword ptr [0x00d723f0]
006efa6c : PUSH ECX
006efa6d : PUSH EAX
006efa6e : XOR EDX,EDX
006efa70 : MOV EAX,ESI
006efa72 : CALL 0x00403c70
006efa77 : CMP EAX,-0x1
006efa7a : JNZ 0x006efabb
006efa7c : MOV EDX,dword ptr [EBP + 0x8]
006efa7f : MOV EAX,dword ptr [EDX + 0x4]
006efa82 : MOV EAX,dword ptr [EAX]
006efa84 : LEA EBX,[ESI + 0x4]
006efa87 : CMP dword ptr [ESI + 0x18],EDI
006efa8a : JC 0x006efa90
006efa8c : MOV EDI,dword ptr [EBX]
006efa8e : JMP 0x006efa92
006efa90 : MOV EDI,EBX
006efa92 : CMP dword ptr [ESI + 0x18],0x8
006efa96 : JC 0x006efa9c
006efa98 : MOV ECX,dword ptr [EBX]
006efa9a : JMP 0x006efa9e
006efa9c : MOV ECX,EBX
006efa9e : MOV EDX,dword ptr [ESI + 0x14]
006efaa1 : LEA ECX,[ECX + EDX*0x2]
006efaa4 : CMP EDI,ECX
006efaa6 : JZ 0x006efab7
006efaa8 : MOVZX EDX,word ptr [EDI]
006efaab : PUSH EDX
006efaac : PUSH EAX
006efaad : CALL 0x004f7aa0
006efab2 : ADD EDI,0x2
006efab5 : JMP 0x006efa92
006efab7 : MOV byte ptr [EAX + 0x30],0x1
006efabb : POP EDI
006efabc : POP EBX
006efabd : POP ECX
006efabe : POP EBP
006efabf : RET 0x4
