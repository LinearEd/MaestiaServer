PROGRAM  : Maestia.exe
FUNCTION : FUN_00585070
ENTRY    : 00585070
BODY     : [[00585070, 005850b7]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00585070(undefined4 *param_1)

{
  undefined4 *puVar1;
  int *in_ECX;
  uint uVar2;
  uint uVar3;
  
  uVar2 = in_ECX[1] + 1;
  if (uVar2 < (uint)in_ECX[1]) {
    uVar3 = uVar2;
    if ((uint)in_ECX[2] >> 1 <= uVar2) goto LAB_0058509e;
  }
  else {
    if (uVar2 < (uint)in_ECX[2]) goto LAB_0058509e;
    uVar3 = (uVar2 >> 2) + uVar2;
  }
  FUN_005b5ef0(in_ECX,uVar3);
LAB_0058509e:
  in_ECX[1] = uVar2;
  puVar1 = (undefined4 *)(*in_ECX + -4 + uVar2 * 4);
  if (puVar1 != (undefined4 *)0x0) {
    *puVar1 = *param_1;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00585070 : PUSH ESI
00585071 : PUSH EDI
00585072 : MOV EDI,ECX
00585074 : MOV ESI,dword ptr [EDI + 0x4]
00585077 : INC ESI
00585078 : CMP ESI,dword ptr [EDI + 0x4]
0058507b : JNC 0x00585089
0058507d : MOV EAX,dword ptr [EDI + 0x8]
00585080 : SHR EAX,0x1
00585082 : CMP ESI,EAX
00585084 : JNC 0x0058509e
00585086 : PUSH ESI
00585087 : JMP 0x00585098
00585089 : CMP ESI,dword ptr [EDI + 0x8]
0058508c : JC 0x0058509e
0058508e : MOV ECX,ESI
00585090 : SHR ECX,0x2
00585093 : ADD ECX,ESI
00585095 : PUSH ECX
00585096 : MOV ECX,EDI
00585098 : PUSH EDI
00585099 : CALL 0x005b5ef0
0058509e : MOV EDX,dword ptr [EDI]
005850a0 : MOV dword ptr [EDI + 0x4],ESI
005850a3 : LEA EAX,[EDX + ESI*0x4 + -0x4]
005850a7 : POP EDI
005850a8 : POP ESI
005850a9 : TEST EAX,EAX
005850ab : JZ 0x005850b5
005850ad : MOV ECX,dword ptr [ESP + 0x4]
005850b1 : MOV EDX,dword ptr [ECX]
005850b3 : MOV dword ptr [EAX],EDX
005850b5 : RET 0x4
