PROGRAM  : Maestia.exe
FUNCTION : FUN_00874be0
ENTRY    : 00874be0
BODY     : [[00874be0, 00874f97]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00874be0(int param_1,undefined4 param_2,int param_3,undefined4 param_4,undefined4 param_5,
                 undefined4 param_6,char param_7,char param_8,char param_9,char param_10)

{
  undefined4 uVar1;
  char cVar2;
  undefined1 uVar3;
  short sVar4;
  int iVar5;
  int *piVar6;
  int *in_ECX;
  undefined1 auStack_4c [4];
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined1 local_38 [20];
  int local_24;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b663d2;
  local_14 = ExceptionList;
  local_1c = DAT_00d66fa0 ^ (uint)auStack_4c;
  ExceptionList = &local_14;
  local_48 = param_5;
  if (param_8 == '\0') {
    FUN_008980b0(param_4,1);
  }
  else {
    iVar5 = in_ECX[0xfa];
    local_44 = *(undefined4 *)(iVar5 + 0x68);
    local_40 = *(undefined4 *)(iVar5 + 0x6c);
    local_3c = *(undefined4 *)(iVar5 + 0x70);
    FUN_007eeb30(&local_44);
  }
  uVar1 = local_48;
  iVar5 = FUN_00405bb0(&DAT_00c426e4);
  if (iVar5 == 0) {
    iVar5 = FUN_00a1a840(param_1);
    if ((((iVar5 != 0) || (iVar5 = FUN_00a1a6d0(param_1), iVar5 != 0)) ||
        (iVar5 = FUN_00a1a780(param_1), iVar5 != 0)) && (iVar5 = FUN_0089f7d0(), iVar5 != 0)) {
      FUN_00405660(iVar5);
      local_c = 0;
      if ((param_10 != '\0') && (iVar5 = FUN_00413980(local_38), iVar5 != -1)) {
        FUN_00405e10(iVar5,local_24 - iVar5);
        FUN_00404980(local_38);
      }
      FUN_0088ea90(local_38,0x3f800000);
      local_c = 0xffffffff;
      FUN_00406560();
    }
  }
  else {
    FUN_0088ea90(uVar1,0x3f800000);
  }
  if (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 4) == param_1) {
    (**(code **)(*in_ECX + 0x2c4))(1,0x3c);
  }
  if (param_7 != '\0') {
    (**(code **)(*in_ECX + 0x184))(param_3,0);
  }
  if (param_9 != '\0') {
    (**(code **)(*in_ECX + 0x1ac))(param_3);
    FUN_0086ef30(in_ECX[0x29],in_ECX[0x7bd]);
  }
  if ((*(char *)((int)in_ECX + 0x425) == '\0') || (0 < in_ECX[0x29])) {
    if ((char)param_6 != '\0') {
      FUN_008811a0(param_1,param_6);
    }
  }
  else {
    if (*(char *)((int)in_ECX + 0x426) != '\0') {
      FUN_00900260();
    }
    cVar2 = FUN_00876040();
    if (cVar2 == '\0') {
      (**(code **)(*(int *)(*(int *)(in_ECX[0x4e] + 4) + 0x138 + (int)in_ECX) + 0x10))
                (in_ECX + 0x456,1,1,0);
    }
    piVar6 = (int *)FUN_00a1a840(param_1);
    if ((((piVar6 == (int *)0x0) && (piVar6 = (int *)FUN_00a1a6d0(param_1), piVar6 == (int *)0x0))
        && (piVar6 = (int *)FUN_00a1a780(param_1), piVar6 == (int *)0x0)) ||
       (sVar4 = (**(code **)(*piVar6 + 0x1e4))(), sVar4 != 0)) {
      FUN_00a379a0(in_ECX[1],0xfc,0xffffffff);
    }
    else {
      FUN_00a379a0(param_1,0x101,0xffffffff);
      FUN_00a379a0(in_ECX[1],0xfa,0xffffffff);
    }
  }
  if (*(char *)((int)in_ECX + 0x426) != '\0') {
    *(undefined1 *)(*(int *)(*DAT_00da9894 + 0x16c) + 0xad) = 1;
    FUN_00901930();
    iVar5 = in_ECX[0xfe];
    if (iVar5 != 0) {
      *(undefined4 *)(iVar5 + 0x294) = *(undefined4 *)(iVar5 + 0x298);
    }
  }
  if (param_3 != 0) {
    if (param_10 == '\0') {
      uVar3 = (**(code **)(*in_ECX + 0x200))();
      iVar5 = in_ECX[0xe3];
    }
    else {
      uVar3 = (**(code **)(*in_ECX + 0x200))();
      iVar5 = in_ECX[0xe3];
    }
    FUN_00a6d180(iVar5,1,0,uVar3);
  }
  FUN_00891c60();
  ExceptionList = local_14;
  __security_check_cookie(local_1c ^ (uint)auStack_4c);
  return;
}



============================================================
DISASSEMBLY
============================================================
00874be0 : PUSH EBP
00874be1 : MOV EBP,ESP
00874be3 : AND ESP,0xfffffff8
00874be6 : PUSH -0x1
00874be8 : PUSH 0xb663d2
00874bed : MOV EAX,FS:[0x0]
00874bf3 : PUSH EAX
00874bf4 : SUB ESP,0x38
00874bf7 : MOV EAX,[0x00d66fa0]
00874bfc : XOR EAX,ESP
00874bfe : MOV dword ptr [ESP + 0x30],EAX
00874c02 : PUSH EBX
00874c03 : PUSH ESI
00874c04 : PUSH EDI
00874c05 : MOV EAX,[0x00d66fa0]
00874c0a : XOR EAX,ESP
00874c0c : PUSH EAX
00874c0d : LEA EAX,[ESP + 0x48]
00874c11 : MOV FS:[0x0],EAX
00874c17 : CMP byte ptr [EBP + 0x24],0x0
00874c1b : MOV EAX,dword ptr [EBP + 0x18]
00874c1e : MOV EDX,dword ptr [EBP + 0x14]
00874c21 : MOV EBX,ECX
00874c23 : MOV dword ptr [ESP + 0x14],EAX
00874c27 : JZ 0x00874c73
00874c29 : MOV EAX,dword ptr [EBX + 0x3e8]
00874c2f : MOVSS XMM0,dword ptr [EAX + 0x68]
00874c34 : MOVSS XMM1,dword ptr [EAX + 0x6c]
00874c39 : MOVSS XMM2,dword ptr [EAX + 0x70]
00874c3e : MOV ECX,dword ptr [0x0172491c]
00874c44 : ADD EAX,0x68
00874c47 : MOV EAX,dword ptr [ECX + 0x90]
00874c4d : MOV EAX,dword ptr [EAX + 0xf0]
00874c53 : LEA ECX,[ESP + 0x18]
00874c57 : PUSH ECX
00874c58 : MOV ECX,EAX
00874c5a : MOVSS dword ptr [ESP + 0x1c],XMM0
00874c60 : MOVSS dword ptr [ESP + 0x20],XMM1
00874c66 : MOVSS dword ptr [ESP + 0x24],XMM2
00874c6c : CALL 0x007eeb30
00874c71 : JMP 0x00874c7d
00874c73 : PUSH 0x1
00874c75 : PUSH EDX
00874c76 : MOV ESI,EBX
00874c78 : CALL 0x008980b0
00874c7d : MOV ESI,dword ptr [ESP + 0x14]
00874c81 : MOV EAX,dword ptr [ESI + 0x14]
00874c84 : PUSH 0xc426e4
00874c89 : XOR EDI,EDI
00874c8b : MOV ECX,ESI
00874c8d : CALL 0x00405bb0
00874c92 : TEST EAX,EAX
00874c94 : JNZ 0x00874d5d
00874c9a : MOV ECX,dword ptr [0x00da93ec]
00874ca0 : MOV EDI,dword ptr [EBP + 0x8]
00874ca3 : PUSH EDI
00874ca4 : MOV ESI,ECX
00874ca6 : CALL 0x00a1a840
00874cab : TEST EAX,EAX
00874cad : JNZ 0x00874ccb
00874caf : PUSH EDI
00874cb0 : MOV ECX,ESI
00874cb2 : CALL 0x00a1a6d0
00874cb7 : TEST EAX,EAX
00874cb9 : JNZ 0x00874ccb
00874cbb : PUSH EDI
00874cbc : MOV ECX,ESI
00874cbe : CALL 0x00a1a780
00874cc3 : TEST EAX,EAX
00874cc5 : JZ 0x00874d6e
00874ccb : MOVZX EAX,word ptr [EAX + 0x43c]
00874cd2 : MOV CX,word ptr [EBX + 0x5fc]
00874cd9 : MOV ESI,dword ptr [0x017248dc]
00874cdf : CALL 0x0089f7d0
00874ce4 : TEST EAX,EAX
00874ce6 : JZ 0x00874d6e
00874cec : PUSH EAX
00874ced : LEA ECX,[ESP + 0x28]
00874cf1 : CALL 0x00405660
00874cf6 : MOV dword ptr [ESP + 0x50],0x0
00874cfe : CMP byte ptr [EBP + 0x2c],0x0
00874d02 : JZ 0x00874d38
00874d04 : LEA EDX,[ESP + 0x24]
00874d08 : PUSH EDX
00874d09 : MOV EDX,0xc426e8
00874d0e : CALL 0x00413980
00874d13 : CMP EAX,-0x1
00874d16 : JZ 0x00874d38
00874d18 : MOV ECX,dword ptr [ESP + 0x38]
00874d1c : SUB ECX,EAX
00874d1e : PUSH ECX
00874d1f : PUSH EAX
00874d20 : LEA ECX,[ESP + 0x2c]
00874d24 : CALL 0x00405e10
00874d29 : LEA EDX,[ESP + 0x24]
00874d2d : PUSH EDX
00874d2e : MOV EDX,0xc426ec
00874d33 : CALL 0x00404980
00874d38 : FLD1
00874d3a : PUSH ECX
00874d3b : LEA EAX,[ESP + 0x28]
00874d3f : FSTP float ptr [ESP]
00874d42 : PUSH EAX
00874d43 : MOV EDI,EBX
00874d45 : CALL 0x0088ea90
00874d4a : MOV dword ptr [ESP + 0x50],0xffffffff
00874d52 : LEA ECX,[ESP + 0x24]
00874d56 : CALL 0x00406560
00874d5b : JMP 0x00874d6b
00874d5d : FLD1
00874d5f : PUSH ECX
00874d60 : FSTP float ptr [ESP]
00874d63 : MOV EDI,EBX
00874d65 : PUSH ESI
00874d66 : CALL 0x0088ea90
00874d6b : MOV EDI,dword ptr [EBP + 0x8]
00874d6e : MOV ECX,dword ptr [0x0172491c]
00874d74 : MOV EDX,dword ptr [ECX + 0x17c]
00874d7a : CMP dword ptr [EDX + 0x4],EDI
00874d7d : JNZ 0x00874d8f
00874d7f : MOV EAX,dword ptr [EBX]
00874d81 : MOV EDX,dword ptr [EAX + 0x2c4]
00874d87 : PUSH 0x3c
00874d89 : PUSH 0x1
00874d8b : MOV ECX,EBX
00874d8d : CALL EDX
00874d8f : CMP byte ptr [EBP + 0x20],0x0
00874d93 : JZ 0x00874da7
00874d95 : MOV ECX,dword ptr [EBP + 0x10]
00874d98 : MOV EAX,dword ptr [EBX]
00874d9a : MOV EDX,dword ptr [EAX + 0x184]
00874da0 : PUSH 0x0
00874da2 : PUSH ECX
00874da3 : MOV ECX,EBX
00874da5 : CALL EDX
00874da7 : CMP byte ptr [EBP + 0x28],0x0
00874dab : JZ 0x00874ddb
00874dad : MOV ECX,dword ptr [EBP + 0x10]
00874db0 : MOV EAX,dword ptr [EBX]
00874db2 : MOV EDX,dword ptr [EAX + 0x1ac]
00874db8 : PUSH ECX
00874db9 : MOV ECX,EBX
00874dbb : CALL EDX
00874dbd : MOV EAX,dword ptr [EBX + 0x1ef4]
00874dc3 : MOV ECX,dword ptr [EBX + 0xa4]
00874dc9 : MOV ESI,dword ptr [EBX + 0xb0]
00874dcf : PUSH EAX
00874dd0 : PUSH ECX
00874dd1 : MOV EDI,EBX
00874dd3 : CALL 0x0086ef30
00874dd8 : MOV EDI,dword ptr [EBP + 0x8]
00874ddb : CMP byte ptr [EBX + 0x425],0x0
00874de2 : JZ 0x00874ed4
00874de8 : CMP dword ptr [EBX + 0xa4],0x0
00874def : JG 0x00874ed4
00874df5 : CMP byte ptr [EBX + 0x426],0x0
00874dfc : JZ 0x00874e11
00874dfe : MOV EDX,dword ptr [0x00da9894]
00874e04 : MOV EAX,dword ptr [EDX]
00874e06 : MOV ESI,dword ptr [EAX + 0x16c]
00874e0c : CALL 0x00900260
00874e11 : MOV ECX,dword ptr [EBX + 0x138]
00874e17 : MOV EDX,dword ptr [ECX + 0x4]
00874e1a : LEA ESI,[EBX + 0x1158]
00874e20 : LEA EDI,[EDX + EBX*0x1 + 0x138]
00874e27 : CALL 0x00876040
00874e2c : TEST AL,AL
00874e2e : JNZ 0x00874e53
00874e30 : MOV EAX,dword ptr [EBX + 0x138]
00874e36 : MOV ECX,dword ptr [EAX + 0x4]
00874e39 : MOV EDX,dword ptr [ECX + EBX*0x1 + 0x138]
00874e40 : MOV EAX,dword ptr [EDX + 0x10]
00874e43 : PUSH 0x0
00874e45 : PUSH 0x1
00874e47 : LEA ECX,[ECX + EBX*0x1 + 0x138]
00874e4e : PUSH 0x1
00874e50 : PUSH ESI
00874e51 : CALL EAX
00874e53 : MOV ECX,dword ptr [0x00da93ec]
00874e59 : MOV ESI,dword ptr [EBP + 0x8]
00874e5c : PUSH ESI
00874e5d : MOV EDI,ECX
00874e5f : CALL 0x00a1a840
00874e64 : TEST EAX,EAX
00874e66 : JNZ 0x00874e80
00874e68 : PUSH ESI
00874e69 : MOV ECX,EDI
00874e6b : CALL 0x00a1a6d0
00874e70 : TEST EAX,EAX
00874e72 : JNZ 0x00874e80
00874e74 : PUSH ESI
00874e75 : MOV ECX,EDI
00874e77 : CALL 0x00a1a780
00874e7c : TEST EAX,EAX
00874e7e : JZ 0x00874ebc
00874e80 : MOV EDX,dword ptr [EAX]
00874e82 : MOV ECX,EAX
00874e84 : MOV EAX,dword ptr [EDX + 0x1e4]
00874e8a : CALL EAX
00874e8c : TEST AX,AX
00874e8f : JNZ 0x00874ebc
00874e91 : MOV ECX,dword ptr [0x00da93ec]
00874e97 : PUSH -0x1
00874e99 : PUSH 0x101
00874e9e : PUSH ESI
00874e9f : CALL 0x00a379a0
00874ea4 : MOV ECX,dword ptr [EBX + 0x4]
00874ea7 : PUSH -0x1
00874ea9 : PUSH 0xfa
00874eae : PUSH ECX
00874eaf : MOV ECX,dword ptr [0x00da93ec]
00874eb5 : CALL 0x00a379a0
00874eba : JMP 0x00874ee8
00874ebc : MOV EDX,dword ptr [EBX + 0x4]
00874ebf : MOV ECX,dword ptr [0x00da93ec]
00874ec5 : PUSH -0x1
00874ec7 : PUSH 0xfc
00874ecc : PUSH EDX
00874ecd : CALL 0x00a379a0
00874ed2 : JMP 0x00874ee8
00874ed4 : MOV EAX,dword ptr [EBP + 0x1c]
00874ed7 : TEST AL,AL
00874ed9 : JZ 0x00874ee8
00874edb : PUSH EAX
00874edc : PUSH EDI
00874edd : MOV EDI,dword ptr [EBX + 0x594]
00874ee3 : CALL 0x008811a0
00874ee8 : CMP byte ptr [EBX + 0x426],0x0
00874eef : JZ 0x00874f20
00874ef1 : MOV EAX,[0x00da9894]
00874ef6 : MOV ECX,dword ptr [EAX]
00874ef8 : MOV ESI,dword ptr [ECX + 0x16c]
00874efe : MOV byte ptr [ESI + 0xad],0x1
00874f05 : CALL 0x00901930
00874f0a : MOV EAX,dword ptr [EBX + 0x3f8]
00874f10 : TEST EAX,EAX
00874f12 : JZ 0x00874f20
00874f14 : FLD float ptr [EAX + 0x298]
00874f1a : FSTP float ptr [EAX + 0x294]
00874f20 : CMP dword ptr [EBP + 0x10],0x0
00874f24 : JBE 0x00874f71
00874f26 : CMP byte ptr [EBP + 0x2c],0x0
00874f2a : MOV ECX,EBX
00874f2c : JZ 0x00874f4e
00874f2e : MOV EDX,dword ptr [EBX]
00874f30 : MOV EAX,dword ptr [EDX + 0x200]
00874f36 : CALL EAX
00874f38 : MOV EDX,dword ptr [EBX + 0x38c]
00874f3e : MOVZX ECX,AL
00874f41 : PUSH ECX
00874f42 : PUSH 0x0
00874f44 : PUSH 0x1
00874f46 : PUSH EDX
00874f47 : MOV ECX,0xe
00874f4c : JMP 0x00874f6c
00874f4e : MOV EAX,dword ptr [EBX]
00874f50 : MOV EDX,dword ptr [EAX + 0x200]
00874f56 : CALL EDX
00874f58 : MOV ECX,dword ptr [EBX + 0x38c]
00874f5e : MOVZX EAX,AL
00874f61 : PUSH EAX
00874f62 : PUSH 0x0
00874f64 : PUSH 0x1
00874f66 : PUSH ECX
00874f67 : MOV ECX,0xd
00874f6c : CALL 0x00a6d180
00874f71 : MOV EAX,EBX
00874f73 : CALL 0x00891c60
00874f78 : MOV ECX,dword ptr [ESP + 0x48]
00874f7c : MOV dword ptr FS:[0x0],ECX
00874f83 : POP ECX
00874f84 : POP EDI
00874f85 : POP ESI
00874f86 : POP EBX
00874f87 : MOV ECX,dword ptr [ESP + 0x30]
00874f8b : XOR ECX,ESP
00874f8d : CALL 0x00633e6b
00874f92 : MOV ESP,EBP
00874f94 : POP EBP
00874f95 : RET 0x30
