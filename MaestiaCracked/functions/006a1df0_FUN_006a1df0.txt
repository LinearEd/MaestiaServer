PROGRAM  : Maestia.exe
FUNCTION : FUN_006a1df0
ENTRY    : 006a1df0
BODY     : [[006a1df0, 006a1ebc]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006a1df0(void)

{
  short sVar1;
  int in_EAX;
  int iVar2;
  
  iVar2 = FUN_006877c0();
  if ((iVar2 != 0) || (iVar2 = FUN_006889e0(), iVar2 != 0)) {
    return iVar2;
  }
  sVar1 = *(short *)(in_EAX + 4);
  if (((sVar1 == 0x200) || (sVar1 == 0x300)) &&
     (((*(short *)(in_EAX + 4) != 0x300) - 1 & 0x1e) + 0x76 <= *(uint *)(in_EAX + 8))) {
    if (sVar1 == 0x200) {
      *(undefined4 *)(in_EAX + 0x84) = 0;
      *(undefined2 *)(in_EAX + 0x88) = 0;
      *(undefined2 *)(in_EAX + 0x8a) = 0;
      *(undefined2 *)(in_EAX + 0x8c) = 0;
      *(undefined2 *)(in_EAX + 0x8e) = 0;
    }
    if ((*(byte *)(in_EAX + 0x48) & 1) == 0) {
      iVar2 = FUN_006877c0();
      if (iVar2 != 0) {
        return iVar2;
      }
      iVar2 = FUN_0068a1f0();
      return iVar2;
    }
  }
  return 2;
}



============================================================
DISASSEMBLY
============================================================
006a1df0 : PUSH EBX
006a1df1 : MOV EBX,EAX
006a1df3 : MOV EAX,dword ptr [EBX]
006a1df5 : PUSH ESI
006a1df6 : PUSH EAX
006a1df7 : PUSH EDI
006a1df8 : LEA ESI,[EBX + 0x4]
006a1dfb : CALL 0x006877c0
006a1e00 : ADD ESP,0x8
006a1e03 : TEST EAX,EAX
006a1e05 : JNZ 0x006a1eba
006a1e0b : PUSH ESI
006a1e0c : PUSH 0xbe9138
006a1e11 : PUSH EDI
006a1e12 : CALL 0x006889e0
006a1e17 : ADD ESP,0xc
006a1e1a : TEST EAX,EAX
006a1e1c : JNZ 0x006a1eba
006a1e22 : MOVZX EAX,word ptr [ESI]
006a1e25 : MOV ECX,0x200
006a1e2a : CMP AX,CX
006a1e2d : JZ 0x006a1e41
006a1e2f : MOV EDX,0x300
006a1e34 : CMP AX,DX
006a1e37 : JZ 0x006a1e41
006a1e39 : POP ESI
006a1e3a : MOV EAX,0x2
006a1e3f : POP EBX
006a1e40 : RET
006a1e41 : XOR EDX,EDX
006a1e43 : MOV ECX,0x300
006a1e48 : CMP word ptr [ESI],CX
006a1e4b : SETNZ DL
006a1e4e : DEC EDX
006a1e4f : AND EDX,0x1e
006a1e52 : ADD EDX,0x76
006a1e55 : CMP dword ptr [ESI + 0x4],EDX
006a1e58 : JC 0x006a1e39
006a1e5a : MOV ECX,0x200
006a1e5f : CMP AX,CX
006a1e62 : JNZ 0x006a1e90
006a1e64 : XOR EDX,EDX
006a1e66 : XOR EAX,EAX
006a1e68 : XOR ECX,ECX
006a1e6a : MOV dword ptr [ESI + 0x80],0x0
006a1e74 : MOV word ptr [ESI + 0x84],DX
006a1e7b : MOV word ptr [ESI + 0x86],AX
006a1e82 : MOV word ptr [ESI + 0x88],CX
006a1e89 : MOV word ptr [ESI + 0x8a],DX
006a1e90 : TEST byte ptr [ESI + 0x44],0x1
006a1e94 : JNZ 0x006a1e39
006a1e96 : MOV EAX,dword ptr [EBX]
006a1e98 : PUSH EAX
006a1e99 : PUSH EDI
006a1e9a : CALL 0x006877c0
006a1e9f : ADD ESP,0x8
006a1ea2 : TEST EAX,EAX
006a1ea4 : JNZ 0x006a1eba
006a1ea6 : MOV ECX,dword ptr [ESI + 0x4]
006a1ea9 : ADD EBX,0xa0
006a1eaf : PUSH EBX
006a1eb0 : PUSH ECX
006a1eb1 : PUSH EDI
006a1eb2 : CALL 0x0068a1f0
006a1eb7 : ADD ESP,0xc
006a1eba : POP ESI
006a1ebb : POP EBX
006a1ebc : RET
