PROGRAM  : Maestia.exe
FUNCTION : FUN_005402b0
ENTRY    : 005402b0
BODY     : [[005402b0, 0054030e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005402b0(undefined4 param_1,uint param_2)

{
  int *in_ECX;
  
  if (param_2 < (uint)in_ECX[1]) {
    FUN_00540230(*in_ECX + param_2 * 4,in_ECX[1] - param_2);
    if (param_2 < (uint)in_ECX[2] >> 1) {
      FUN_005b5ef0(param_1,param_2);
      in_ECX[1] = param_2;
      return;
    }
  }
  else if ((uint)in_ECX[2] <= param_2) {
    FUN_005b5ef0(param_1,(param_2 >> 2) + param_2);
  }
  in_ECX[1] = param_2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005402b0 : PUSH ESI
005402b1 : MOV ESI,dword ptr [ESP + 0xc]
005402b5 : PUSH EDI
005402b6 : MOV EDI,ECX
005402b8 : MOV EAX,dword ptr [EDI + 0x4]
005402bb : CMP ESI,EAX
005402bd : JNC 0x005402ee
005402bf : SUB EAX,ESI
005402c1 : PUSH EAX
005402c2 : MOV EAX,dword ptr [EDI]
005402c4 : LEA ECX,[EAX + ESI*0x4]
005402c7 : PUSH ECX
005402c8 : CALL 0x00540230
005402cd : MOV EDX,dword ptr [EDI + 0x8]
005402d0 : SHR EDX,0x1
005402d2 : ADD ESP,0x8
005402d5 : CMP ESI,EDX
005402d7 : JNC 0x00540307
005402d9 : MOV EAX,dword ptr [ESP + 0xc]
005402dd : PUSH ESI
005402de : PUSH EAX
005402df : MOV ECX,EDI
005402e1 : CALL 0x005b5ef0
005402e6 : MOV dword ptr [EDI + 0x4],ESI
005402e9 : POP EDI
005402ea : POP ESI
005402eb : RET 0x8
005402ee : CMP ESI,dword ptr [EDI + 0x8]
005402f1 : JC 0x00540307
005402f3 : MOV EDX,dword ptr [ESP + 0xc]
005402f7 : MOV ECX,ESI
005402f9 : SHR ECX,0x2
005402fc : ADD ECX,ESI
005402fe : PUSH ECX
005402ff : PUSH EDX
00540300 : MOV ECX,EDI
00540302 : CALL 0x005b5ef0
00540307 : MOV dword ptr [EDI + 0x4],ESI
0054030a : POP EDI
0054030b : POP ESI
0054030c : RET 0x8
