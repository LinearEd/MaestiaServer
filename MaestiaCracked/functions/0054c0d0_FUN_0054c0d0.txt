PROGRAM  : Maestia.exe
FUNCTION : FUN_0054c0d0
ENTRY    : 0054c0d0
BODY     : [[0054c0d0, 0054c228]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0054c0d0(undefined4 param_1,int param_2,GRefCountImpl *param_3)

{
  undefined4 *puVar1;
  undefined4 *in_ECX;
  undefined4 local_4;
  
  *in_ECX = &PTR_FUN_00cd3f2c;
  in_ECX[1] = 1;
  *in_ECX = &PTR_FUN_00b8be3c;
  FUN_0051b6e0();
  in_ECX[3] = 0;
  if (param_2 != 0) {
    *(int *)(param_2 + 4) = *(int *)(param_2 + 4) + 1;
  }
  in_ECX[4] = param_2;
  in_ECX[5] = 0;
  in_ECX[6] = 0;
  FUN_0059a830();
  in_ECX[0x3d] = 0;
  in_ECX[0x3e] = 0;
  in_ECX[0x3f] = 0;
  in_ECX[0x40] = 0;
  *(undefined2 *)(in_ECX + 0x45) = 0;
  in_ECX[0x46] = 0;
  FUN_0050b5a0();
  if (param_3 != (GRefCountImpl *)0x0) {
    GRefCountImpl::AddRef(param_3);
  }
  in_ECX[0x4e] = param_3;
  local_4 = 0x144;
  puVar1 = (undefined4 *)FUN_00515d60(in_ECX,0x28,&local_4);
  if (puVar1 == (undefined4 *)0x0) {
    puVar1 = (undefined4 *)0x0;
  }
  else {
    FUN_00541ef0(param_1);
    *puVar1 = &PTR_FUN_00b8bf08;
    puVar1[9] = in_ECX;
  }
  if ((GRefCountNTSImpl *)in_ECX[3] != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release((GRefCountNTSImpl *)in_ECX[3]);
  }
  in_ECX[3] = puVar1;
  *(byte *)(in_ECX + 0x50) = *(byte *)(in_ECX + 0x50) & 0xc0;
  *(undefined2 *)(in_ECX + 0x4f) = 1;
  in_ECX[9] = 0xffffffff;
  in_ECX[8] = 0xffffffff;
  *(undefined1 *)((int)in_ECX + 0x143) = 0;
  *(undefined1 *)((int)in_ECX + 0x142) = 0;
  *(undefined1 *)((int)in_ECX + 0x141) = 0;
  in_ECX[0x3d] = 0;
  in_ECX[0x3e] = 0;
  in_ECX[0x3f] = 0;
  in_ECX[0x40] = 0;
  in_ECX[7] = 0;
  FUN_00544fe0(0x3f800000);
  *(byte *)((int)in_ECX + 0x141) = *(byte *)((int)in_ECX + 0x141) | 0x80;
  in_ECX[0x43] = 0;
  FUN_005448c0();
  in_ECX[0x42] = 0;
  in_ECX[0x41] = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
0054c0d0 : PUSH ECX
0054c0d1 : PUSH EBX
0054c0d2 : PUSH EBP
0054c0d3 : PUSH ESI
0054c0d4 : MOV ESI,ECX
0054c0d6 : MOV dword ptr [ESI],0xcd3f2c
0054c0dc : MOV EBP,0x1
0054c0e1 : PUSH EDI
0054c0e2 : LEA ECX,[ESI + 0x8]
0054c0e5 : MOV dword ptr [ESI + 0x4],EBP
0054c0e8 : MOV dword ptr [ESI],0xb8be3c
0054c0ee : CALL 0x0051b6e0
0054c0f3 : MOV EAX,dword ptr [ESP + 0x1c]
0054c0f7 : XOR EBX,EBX
0054c0f9 : MOV dword ptr [ESI + 0xc],EBX
0054c0fc : CMP EAX,EBX
0054c0fe : JZ 0x0054c103
0054c100 : ADD dword ptr [EAX + 0x4],EBP
0054c103 : MOV dword ptr [ESI + 0x10],EAX
0054c106 : MOV dword ptr [ESI + 0x14],EBX
0054c109 : LEA ECX,[ESI + 0x28]
0054c10c : MOV dword ptr [ESI + 0x18],EBX
0054c10f : CALL 0x0059a830
0054c114 : FLDZ
0054c116 : FST float ptr [ESI + 0xf4]
0054c11c : XOR EAX,EAX
0054c11e : FST float ptr [ESI + 0xf8]
0054c124 : LEA ECX,[ESI + 0x11c]
0054c12a : FST float ptr [ESI + 0xfc]
0054c130 : FSTP float ptr [ESI + 0x100]
0054c136 : MOV word ptr [ESI + 0x114],AX
0054c13d : MOV dword ptr [ESI + 0x118],EBX
0054c143 : CALL 0x0050b5a0
0054c148 : MOV EDI,dword ptr [ESP + 0x20]
0054c14c : CMP EDI,EBX
0054c14e : JZ 0x0054c157
0054c150 : MOV ECX,EDI
0054c152 : CALL 0x00523dd0
0054c157 : LEA ECX,[ESP + 0x10]
0054c15b : PUSH ECX
0054c15c : PUSH 0x28
0054c15e : PUSH ESI
0054c15f : MOV dword ptr [ESI + 0x138],EDI
0054c165 : MOV dword ptr [ESP + 0x1c],0x144
0054c16d : CALL 0x00515d60
0054c172 : MOV EDI,EAX
0054c174 : CMP EDI,EBX
0054c176 : JZ 0x0054c18f
0054c178 : MOV EDX,dword ptr [ESP + 0x18]
0054c17c : PUSH EDX
0054c17d : MOV ECX,EDI
0054c17f : CALL 0x00541ef0
0054c184 : MOV dword ptr [EDI],0xb8bf08
0054c18a : MOV dword ptr [EDI + 0x24],ESI
0054c18d : JMP 0x0054c191
0054c18f : XOR EDI,EDI
0054c191 : MOV ECX,dword ptr [ESI + 0xc]
0054c194 : CMP ECX,EBX
0054c196 : JZ 0x0054c19d
0054c198 : CALL 0x004ff7c0
0054c19d : FLDZ
0054c19f : MOV dword ptr [ESI + 0xc],EDI
0054c1a2 : AND byte ptr [ESI + 0x140],0xc0
0054c1a9 : MOV word ptr [ESI + 0x13c],BP
0054c1b0 : OR EAX,0xffffffff
0054c1b3 : MOV dword ptr [ESI + 0x24],EAX
0054c1b6 : MOV dword ptr [ESI + 0x20],EAX
0054c1b9 : MOV byte ptr [ESI + 0x143],BL
0054c1bf : MOV byte ptr [ESI + 0x142],BL
0054c1c5 : MOV byte ptr [ESI + 0x141],BL
0054c1cb : FST float ptr [ESI + 0xf4]
0054c1d1 : FSTP float ptr [ESI + 0xf8]
0054c1d7 : PUSH ECX
0054c1d8 : FLDZ
0054c1da : MOV ECX,ESI
0054c1dc : FADD ST0,ST0
0054c1de : FSTP float ptr [ESP + 0x20]
0054c1e2 : FLD float ptr [ESP + 0x20]
0054c1e6 : FST float ptr [ESI + 0xfc]
0054c1ec : FSTP float ptr [ESI + 0x100]
0054c1f2 : MOV dword ptr [ESI + 0x1c],EBX
0054c1f5 : FLD1
0054c1f7 : FSTP float ptr [ESP]
0054c1fa : CALL 0x00544fe0
0054c1ff : OR byte ptr [ESI + 0x141],0x80
0054c206 : MOV ECX,ESI
0054c208 : MOV dword ptr [ESI + 0x10c],EBX
0054c20e : CALL 0x005448c0
0054c213 : POP EDI
0054c214 : MOV dword ptr [ESI + 0x108],EBX
0054c21a : MOV dword ptr [ESI + 0x104],EBX
0054c220 : MOV EAX,ESI
0054c222 : POP ESI
0054c223 : POP EBP
0054c224 : POP EBX
0054c225 : POP ECX
0054c226 : RET 0xc
