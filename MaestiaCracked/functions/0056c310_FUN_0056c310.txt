PROGRAM  : Maestia.exe
FUNCTION : FUN_0056c310
ENTRY    : 0056c310
BODY     : [[0056c310, 0056c389]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0056c310(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0x10);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 0x104;
  iVar1 = FUN_00515d60(param_1,uVar2 * 0x10,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0056c310 : MOV EAX,dword ptr [ESP + 0x8]
0056c314 : PUSH EDI
0056c315 : MOV EDI,ECX
0056c317 : TEST EAX,EAX
0056c319 : JNZ 0x0056c338
0056c31b : MOV EAX,dword ptr [EDI]
0056c31d : TEST EAX,EAX
0056c31f : JZ 0x0056c32d
0056c321 : PUSH EAX
0056c322 : CALL 0x00515cf0
0056c327 : MOV dword ptr [EDI],0x0
0056c32d : MOV dword ptr [EDI + 0x8],0x0
0056c334 : POP EDI
0056c335 : RET 0x8
0056c338 : PUSH ESI
0056c339 : LEA ESI,[EAX + 0x3]
0056c33c : MOV EAX,dword ptr [EDI]
0056c33e : SHR ESI,0x2
0056c341 : ADD ESI,ESI
0056c343 : ADD ESI,ESI
0056c345 : TEST EAX,EAX
0056c347 : JZ 0x0056c361
0056c349 : LEA ECX,[ESI*0x4 + 0x0]
0056c350 : PUSH ECX
0056c351 : PUSH EAX
0056c352 : CALL 0x00515c80
0056c357 : MOV dword ptr [EDI + 0x8],ESI
0056c35a : POP ESI
0056c35b : MOV dword ptr [EDI],EAX
0056c35d : POP EDI
0056c35e : RET 0x8
0056c361 : MOV ECX,dword ptr [ESP + 0xc]
0056c365 : LEA EDX,[ESP + 0x10]
0056c369 : PUSH EDX
0056c36a : LEA EAX,[ESI*0x4 + 0x0]
0056c371 : PUSH EAX
0056c372 : PUSH ECX
0056c373 : MOV dword ptr [ESP + 0x1c],0x104
0056c37b : CALL 0x00515d60
0056c380 : MOV dword ptr [EDI + 0x8],ESI
0056c383 : POP ESI
0056c384 : MOV dword ptr [EDI],EAX
0056c386 : POP EDI
0056c387 : RET 0x8
