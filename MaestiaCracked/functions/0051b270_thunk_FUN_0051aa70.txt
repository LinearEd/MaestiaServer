PROGRAM  : Maestia.exe
FUNCTION : thunk_FUN_0051aa70
ENTRY    : 0051b270
BODY     : [[0051b270, 0051b274]]

============================================================
DECOMPILED C CODE
============================================================

uint thunk_FUN_0051aa70(int *param_1)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  byte bVar6;
  byte *pbVar7;
  byte *pbVar8;
  uint uVar9;
  
  pbVar7 = (byte *)*param_1;
  bVar1 = *pbVar7;
  if (bVar1 == 0) {
    return 0;
  }
  pbVar8 = pbVar7 + 1;
  *param_1 = (int)pbVar8;
  if (-1 < (char)bVar1) {
    return (int)(char)bVar1;
  }
  if ((bVar1 & 0xe0) != 0xc0) {
    if ((bVar1 & 0xf0) == 0xe0) {
      bVar2 = *pbVar8;
      if (bVar2 == 0) {
        return 0;
      }
      if ((bVar2 & 0xc0) == 0x80) {
        *param_1 = (int)(pbVar7 + 2);
        bVar3 = pbVar7[2];
        if (bVar3 == 0) {
          return 0;
        }
        if ((bVar3 & 0xc0) == 0x80) {
          *param_1 = (int)(pbVar7 + 3);
          uVar9 = ((int)(char)bVar1 & 0xfU) << 0xc | ((int)(char)bVar2 & 0x3fU) << 6 |
                  (int)(char)bVar3 & 0x3fU;
          if ((((0x7ff < uVar9) && (0x7ff < uVar9 - 0xd800)) && (uVar9 != 0xfffe)) &&
             (uVar9 != 0xffff)) {
            return uVar9;
          }
        }
      }
    }
    else if ((bVar1 & 0xf8) == 0xf0) {
      bVar2 = *pbVar8;
      if (bVar2 == 0) {
        return 0;
      }
      if ((bVar2 & 0xc0) == 0x80) {
        *param_1 = (int)(pbVar7 + 2);
        bVar3 = pbVar7[2];
        if (bVar3 == 0) {
          return 0;
        }
        if ((bVar3 & 0xc0) == 0x80) {
          *param_1 = (int)(pbVar7 + 3);
          bVar4 = pbVar7[3];
          if (bVar4 == 0) {
            return 0;
          }
          if ((bVar4 & 0xc0) == 0x80) {
            *param_1 = (int)(pbVar7 + 4);
            uVar9 = ((int)(char)bVar1 & 7U) << 0x12 | ((int)(char)bVar2 & 0x3fU) << 0xc |
                    ((int)(char)bVar3 & 0x3fU) << 6 | (int)(char)bVar4 & 0x3fU;
            if (0xffff < uVar9) {
              return uVar9;
            }
          }
        }
      }
    }
    else if ((bVar1 & 0xfc) == 0xf8) {
      bVar2 = *pbVar8;
      if (bVar2 == 0) {
        return 0;
      }
      if ((bVar2 & 0xc0) == 0x80) {
        *param_1 = (int)(pbVar7 + 2);
        bVar3 = pbVar7[2];
        if (bVar3 == 0) {
          return 0;
        }
        if ((bVar3 & 0xc0) == 0x80) {
          *param_1 = (int)(pbVar7 + 3);
          bVar4 = pbVar7[3];
          if (bVar4 == 0) {
            return 0;
          }
          if ((bVar4 & 0xc0) == 0x80) {
            *param_1 = (int)(pbVar7 + 4);
            bVar5 = pbVar7[4];
            if (bVar5 == 0) {
              return 0;
            }
            if ((bVar5 & 0xc0) == 0x80) {
              *param_1 = (int)(pbVar7 + 5);
              uVar9 = ((int)(char)bVar1 & 3U) << 0x18 | ((int)(char)bVar2 & 0x3fU) << 0x12 |
                      ((int)(char)bVar3 & 0x3fU) << 0xc | ((int)(char)bVar4 & 0x3fU) << 6 |
                      (int)(char)bVar5 & 0x3fU;
              if (0x1fffff < uVar9) {
                return uVar9;
              }
            }
          }
        }
      }
    }
    else if ((bVar1 & 0xfe) == 0xfc) {
      bVar2 = *pbVar8;
      if (bVar2 == 0) {
        return 0;
      }
      if ((bVar2 & 0xc0) == 0x80) {
        *param_1 = (int)(pbVar7 + 2);
        bVar3 = pbVar7[2];
        if (bVar3 == 0) {
          return 0;
        }
        if ((bVar3 & 0xc0) == 0x80) {
          *param_1 = (int)(pbVar7 + 3);
          bVar4 = pbVar7[3];
          if (bVar4 == 0) {
            return 0;
          }
          if ((bVar4 & 0xc0) == 0x80) {
            *param_1 = (int)(pbVar7 + 4);
            bVar5 = pbVar7[4];
            if (bVar5 == 0) {
              return 0;
            }
            if ((bVar5 & 0xc0) == 0x80) {
              *param_1 = (int)(pbVar7 + 5);
              bVar6 = pbVar7[5];
              if (bVar6 == 0) {
                return 0;
              }
              if ((bVar6 & 0xc0) == 0x80) {
                *param_1 = (int)(pbVar7 + 6);
                uVar9 = ((int)(char)bVar1 & 1U) << 0x1e | ((int)(char)bVar2 & 0x3fU) << 0x18 |
                        ((int)(char)bVar3 & 0x3fU) << 0x12 | ((int)(char)bVar4 & 0x3fU) << 0xc |
                        ((int)(char)bVar5 & 0x3fU) << 6 | (int)(char)bVar6 & 0x3fU;
                if (0x3ffffff < uVar9) {
                  return uVar9;
                }
              }
            }
          }
        }
      }
    }
    return 0xfffd;
  }
  bVar2 = *pbVar8;
  if (bVar2 == 0) {
    return 0;
  }
  if ((bVar2 & 0xc0) != 0x80) {
    return 0xfffd;
  }
  uVar9 = ((int)(char)bVar1 & 0x1fU) << 6 | (int)(char)bVar2 & 0x3fU;
  *param_1 = (int)(pbVar7 + 2);
  if (uVar9 < 0x80) {
    return 0xfffd;
  }
  return uVar9;
}



============================================================
DISASSEMBLY
============================================================
0051b270 : JMP 0x0051aa70
