PROGRAM  : Maestia.exe
FUNCTION : FUN_00545800
ENTRY    : 00545800
BODY     : [[00545800, 00545853]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00545800(undefined4 *param_1)

{
  undefined4 *puVar1;
  int *piVar2;
  undefined4 *in_ECX;
  
  *in_ECX = *(undefined4 *)*param_1;
  puVar1 = (undefined4 *)param_1[1];
  piVar2 = (int *)*puVar1;
  if (piVar2 != (int *)0x0) {
    *piVar2 = *piVar2 + 1;
  }
  piVar2 = (int *)in_ECX[1];
  if (piVar2 != (int *)0x0) {
    *piVar2 = *piVar2 + -1;
    if (*piVar2 == 0) {
      FUN_00500860();
      FUN_00515cf0(piVar2);
      in_ECX[1] = *puVar1;
      return;
    }
    in_ECX[1] = *puVar1;
    return;
  }
  in_ECX[1] = *puVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00545800 : MOV EAX,dword ptr [ESP + 0x4]
00545804 : PUSH EBX
00545805 : PUSH ESI
00545806 : MOV ESI,ECX
00545808 : MOV ECX,dword ptr [EAX]
0054580a : MOV EDX,dword ptr [ECX]
0054580c : MOV dword ptr [ESI],EDX
0054580e : PUSH EDI
0054580f : MOV EDI,dword ptr [EAX + 0x4]
00545812 : MOV EAX,dword ptr [EDI]
00545814 : TEST EAX,EAX
00545816 : JZ 0x0054581a
00545818 : INC dword ptr [EAX]
0054581a : MOV EBX,dword ptr [ESI + 0x4]
0054581d : TEST EBX,EBX
0054581f : JZ 0x00545849
00545821 : ADD dword ptr [EBX],-0x1
00545824 : JNZ 0x0054583e
00545826 : MOV ECX,EBX
00545828 : CALL 0x00500860
0054582d : PUSH EBX
0054582e : CALL 0x00515cf0
00545833 : MOV EAX,dword ptr [EDI]
00545835 : POP EDI
00545836 : MOV dword ptr [ESI + 0x4],EAX
00545839 : POP ESI
0054583a : POP EBX
0054583b : RET 0x4
0054583e : MOV ECX,dword ptr [EDI]
00545840 : POP EDI
00545841 : MOV dword ptr [ESI + 0x4],ECX
00545844 : POP ESI
00545845 : POP EBX
00545846 : RET 0x4
00545849 : MOV EDX,dword ptr [EDI]
0054584b : POP EDI
0054584c : MOV dword ptr [ESI + 0x4],EDX
0054584f : POP ESI
00545850 : POP EBX
00545851 : RET 0x4
