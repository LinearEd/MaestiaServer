PROGRAM  : Maestia.exe
FUNCTION : FUN_007deaf0
ENTRY    : 007deaf0
BODY     : [[007deaf0, 007dec4e]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_007deaf0(int param_1,float param_2,float param_3,uint *param_4,uint *param_5,float *param_6
                 ,float *param_7)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  int local_14;
  int local_8;
  
  iVar2 = param_1;
  fVar6 = *(float *)(*(int *)(param_1 + 0x9c) + 100);
  uVar1 = *(uint *)(*(int *)(param_1 + 0x9c) + 0x58);
  uVar3 = FUN_007de700(param_2,param_3,&param_1);
  iVar4 = *(int *)(*(int *)(iVar2 + 0x9c) + 0x48) + -1;
  fVar5 = (float)iVar4;
  if (iVar4 < 0) {
    fVar5 = fVar5 + 4.2949673e+09;
  }
  param_3 = fVar5 * *(float *)(*(int *)(iVar2 + 0x9c) + 100) - param_3;
  fVar5 = 1.0 / fVar6;
  fVar7 = param_2 - (float)(int)(fVar5 * param_2) * fVar6;
  if ((0.0 <= fVar7) && (fVar7 <= fVar6)) {
    fVar8 = fVar5 * param_3;
    uVar3 = (uint)fVar8;
    param_3 = param_3 - (float)(int)uVar3 * fVar6;
    if ((0.0 <= param_3) && (param_3 <= fVar6)) {
      *param_6 = fVar5 * fVar7;
      *param_7 = fVar5 * param_3;
      local_14 = (int)(longlong)ROUND(fVar5 * param_2);
      *param_5 = local_14 - param_1 * uVar1;
      local_14 = (int)(longlong)ROUND(fVar8);
      uVar3 = local_14 - local_8 * uVar1;
      *param_4 = uVar3;
      if (*param_5 < uVar1) {
        return CONCAT31((int3)(uVar3 >> 8),uVar3 < uVar1);
      }
    }
  }
  return uVar3 & 0xffffff00;
}



============================================================
DISASSEMBLY
============================================================
007deaf0 : PUSH EBP
007deaf1 : MOV EBP,ESP
007deaf3 : SUB ESP,0x10
007deaf6 : FLD float ptr [EBP + 0x10]
007deaf9 : PUSH EBX
007deafa : MOV EBX,dword ptr [EBP + 0x8]
007deafd : MOV EAX,dword ptr [EBX + 0x9c]
007deb03 : MOVSS XMM1,dword ptr [EAX + 0x64]
007deb08 : PUSH ESI
007deb09 : PUSH EDI
007deb0a : MOV EDI,dword ptr [EAX + 0x58]
007deb0d : LEA EAX,[EBP + 0x8]
007deb10 : PUSH EAX
007deb11 : SUB ESP,0x8
007deb14 : FSTP float ptr [ESP + 0x4]
007deb18 : LEA ESI,[EBP + -0x4]
007deb1b : FLD float ptr [EBP + 0xc]
007deb1e : MOV ECX,EBX
007deb20 : FSTP float ptr [ESP]
007deb23 : CALL 0x007de700
007deb28 : MOV EBX,dword ptr [EBX + 0x9c]
007deb2e : MOV ECX,dword ptr [EBX + 0x48]
007deb31 : DEC ECX
007deb32 : MOV dword ptr [EBP + -0x8],ECX
007deb35 : FILD dword ptr [EBP + -0x8]
007deb38 : TEST ECX,ECX
007deb3a : JGE 0x007deb42
007deb3c : FADD float ptr [0x00cdf0e0]
007deb42 : MOVSS XMM0,dword ptr [0x00c10fc4]
007deb4a : FMUL float ptr [EBX + 0x64]
007deb4d : MOVSS XMM2,dword ptr [EBP + 0xc]
007deb52 : XORPS XMM5,XMM5
007deb55 : FSUB float ptr [EBP + 0x10]
007deb58 : DIVSS XMM0,XMM1
007deb5c : MOVAPS XMM3,XMM0
007deb5f : MULSS XMM3,XMM2
007deb63 : MOVSS dword ptr [EBP + 0xc],XMM3
007deb68 : FSTP float ptr [EBP + 0x10]
007deb6b : CVTTSS2SI EDX,XMM3
007deb6f : CVTSI2SS XMM3,EDX
007deb73 : MULSS XMM3,XMM1
007deb77 : SUBSS XMM2,XMM3
007deb7b : MOVAPS XMM4,XMM2
007deb7e : COMISS XMM5,XMM4
007deb81 : JA 0x007dec44
007deb87 : COMISS XMM4,XMM1
007deb8a : JA 0x007dec44
007deb90 : MOVSS XMM2,dword ptr [EBP + 0x10]
007deb95 : MOVAPS XMM3,XMM0
007deb98 : MULSS XMM3,XMM2
007deb9c : MOVSS dword ptr [EBP + -0x8],XMM3
007deba1 : CVTTSS2SI EAX,XMM3
007deba5 : CVTSI2SS XMM3,EAX
007deba9 : MULSS XMM3,XMM1
007debad : SUBSS XMM2,XMM3
007debb1 : COMISS XMM5,XMM2
007debb4 : JA 0x007dec44
007debba : COMISS XMM2,XMM1
007debbd : JA 0x007dec44
007debc3 : FLD float ptr [EBP + 0xc]
007debc6 : MOV ECX,dword ptr [EBP + 0x1c]
007debc9 : MOV EDX,dword ptr [EBP + 0x20]
007debcc : FNSTCW word ptr [EBP + 0x12]
007debcf : MOVZX EAX,word ptr [EBP + 0x12]
007debd3 : OR EAX,0xc00
007debd8 : MOV dword ptr [EBP + 0xc],EAX
007debdb : MOVAPS XMM1,XMM0
007debde : MULSS XMM1,XMM4
007debe2 : FLDCW word ptr [EBP + 0xc]
007debe5 : MOVSS dword ptr [ECX],XMM1
007debe9 : MOV ECX,dword ptr [EBP + 0x8]
007debec : MULSS XMM0,XMM2
007debf0 : MOVSS dword ptr [EDX],XMM0
007debf4 : FISTP qword ptr [EBP + -0x10]
007debf7 : IMUL ECX,EDI
007debfa : FLDCW word ptr [EBP + 0x12]
007debfd : MOV EDX,dword ptr [EBP + -0x10]
007dec00 : SUB EDX,ECX
007dec02 : MOV ECX,dword ptr [EBP + 0x18]
007dec05 : MOV dword ptr [ECX],EDX
007dec07 : MOV EDX,dword ptr [EBP + -0x4]
007dec0a : FLD float ptr [EBP + -0x8]
007dec0d : IMUL EDX,EDI
007dec10 : FNSTCW word ptr [EBP + 0x12]
007dec13 : MOVZX EAX,word ptr [EBP + 0x12]
007dec17 : OR EAX,0xc00
007dec1c : MOV dword ptr [EBP + 0xc],EAX
007dec1f : FLDCW word ptr [EBP + 0xc]
007dec22 : FISTP qword ptr [EBP + -0x10]
007dec25 : MOV EAX,dword ptr [EBP + -0x10]
007dec28 : SUB EAX,EDX
007dec2a : MOV EDX,dword ptr [EBP + 0x14]
007dec2d : FLDCW word ptr [EBP + 0x12]
007dec30 : MOV dword ptr [EDX],EAX
007dec32 : CMP dword ptr [ECX],EDI
007dec34 : JNC 0x007dec44
007dec36 : CMP EAX,EDI
007dec38 : POP EDI
007dec39 : POP ESI
007dec3a : SETC AL
007dec3d : POP EBX
007dec3e : MOV ESP,EBP
007dec40 : POP EBP
007dec41 : RET 0x1c
007dec44 : POP EDI
007dec45 : POP ESI
007dec46 : XOR AL,AL
007dec48 : POP EBX
007dec49 : MOV ESP,EBP
007dec4b : POP EBP
007dec4c : RET 0x1c
