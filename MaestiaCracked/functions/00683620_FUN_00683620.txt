PROGRAM  : Maestia.exe
FUNCTION : FUN_00683620
ENTRY    : 00683620
BODY     : [[00683620, 00683708]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00683620(void)

{
  GRefCountImpl *this;
  int iVar1;
  uint *puVar2;
  undefined4 uVar3;
  LONG LVar4;
  int in_ECX;
  uint unaff_EBX;
  undefined4 unaff_retaddr;
  undefined4 uStack_24;
  undefined4 uStack_20;
  undefined4 uStack_1c;
  undefined4 uStack_18;
  undefined4 uStack_14;
  undefined4 uStack_10;
  undefined4 uStack_c;
  undefined4 uStack_8;
  
  this = (GRefCountImpl *)(**(code **)(*(int *)(*(int *)(in_ECX + 4) + 8) + 0xc))(0x1b);
  uStack_14 = 0;
  uStack_10 = 0;
  uStack_c = 0;
  uStack_8 = 0;
  uStack_24 = 0;
  uStack_20 = 0;
  uStack_1c = 0;
  uStack_18 = 0;
  FUN_00597610(&uStack_14,&uStack_24,unaff_retaddr);
  iVar1 = FUN_0051b1a0();
  if (iVar1 != 0) {
    puVar2 = (uint *)FUN_0051c6e0(&stack0xffffffd8,".RepositionCandWindow");
    uVar3 = FUN_0063b380();
    uVar3 = FUN_0063b380(uVar3);
    uVar3 = FUN_0063b380(uVar3);
    FUN_00678eb0(*(undefined4 *)(in_ECX + 4),(*puVar2 & 0xfffffffc) + 8,"%d %d %d",uVar3);
    LVar4 = InterlockedExchangeAdd((LONG *)((unaff_EBX & 0xfffffffc) + 4),-1);
    if (LVar4 == 1) {
      FUN_00515cf0(unaff_EBX & 0xfffffffc);
    }
  }
  if (this != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(this);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00683620 : SUB ESP,0x24
00683623 : PUSH EBX
00683624 : PUSH ESI
00683625 : MOV ESI,ECX
00683627 : MOV ECX,dword ptr [ESI + 0x4]
0068362a : MOV EAX,dword ptr [ECX + 0x8]
0068362d : MOV EDX,dword ptr [EAX + 0xc]
00683630 : ADD ECX,0x8
00683633 : PUSH EDI
00683634 : PUSH 0x1b
00683636 : CALL EDX
00683638 : FLDZ
0068363a : MOV EBX,EAX
0068363c : FST float ptr [ESP + 0x20]
00683640 : MOV EAX,dword ptr [ESP + 0x34]
00683644 : FST float ptr [ESP + 0x24]
00683648 : FST float ptr [ESP + 0x28]
0068364c : PUSH EAX
0068364d : FST float ptr [ESP + 0x30]
00683651 : LEA ECX,[ESP + 0x14]
00683655 : FST float ptr [ESP + 0x14]
00683659 : PUSH ECX
0068365a : FST float ptr [ESP + 0x1c]
0068365e : LEA EDX,[ESP + 0x28]
00683662 : FST float ptr [ESP + 0x20]
00683666 : PUSH EDX
00683667 : MOV ECX,EBX
00683669 : FSTP float ptr [ESP + 0x28]
0068366d : CALL 0x00597610
00683672 : LEA EDI,[ESI + 0x8]
00683675 : MOV ECX,EDI
00683677 : CALL 0x0051b1a0
0068367c : TEST EAX,EAX
0068367e : JBE 0x006836f5
00683680 : FLD float ptr [ESP + 0x1c]
00683684 : PUSH 0xbd7fe4
00683689 : FSUB float ptr [ESP + 0x18]
0068368d : LEA EAX,[ESP + 0x10]
00683691 : PUSH EAX
00683692 : MOV ECX,EDI
00683694 : FSTP float ptr [ESP + 0x3c]
00683698 : CALL 0x0051c6e0
0068369d : FLD float ptr [ESP + 0x34]
006836a1 : MOV EDI,EAX
006836a3 : CALL 0x0063b380
006836a8 : FLD float ptr [ESP + 0x1c]
006836ac : PUSH EAX
006836ad : CALL 0x0063b380
006836b2 : FLD float ptr [ESP + 0x14]
006836b6 : PUSH EAX
006836b7 : CALL 0x0063b380
006836bc : MOV ECX,dword ptr [EDI]
006836be : MOV EDX,dword ptr [ESI + 0x4]
006836c1 : PUSH EAX
006836c2 : AND ECX,0xfffffffc
006836c5 : PUSH 0xbd7fd8
006836ca : ADD ECX,0x8
006836cd : PUSH ECX
006836ce : PUSH EDX
006836cf : CALL 0x00678eb0
006836d4 : MOV ESI,dword ptr [ESP + 0x24]
006836d8 : ADD ESP,0x18
006836db : AND ESI,0xfffffffc
006836de : PUSH -0x1
006836e0 : LEA EAX,[ESI + 0x4]
006836e3 : PUSH EAX
006836e4 : CALL dword ptr [0x00b851cc]
006836ea : SUB EAX,0x1
006836ed : JNZ 0x006836f5
006836ef : PUSH ESI
006836f0 : CALL 0x00515cf0
006836f5 : TEST EBX,EBX
006836f7 : JZ 0x00683700
006836f9 : MOV ECX,EBX
006836fb : CALL 0x004ff7e0
00683700 : POP EDI
00683701 : POP ESI
00683702 : POP EBX
00683703 : ADD ESP,0x24
00683706 : RET 0x4
