PROGRAM  : Maestia.exe
FUNCTION : FUN_00987660
ENTRY    : 00987660
BODY     : [[00987660, 009876cc]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00987660(int param_1)

{
  int iVar1;
  int in_EAX;
  int iVar2;
  int iVar3;
  
  FUN_00987470(param_1);
  if (in_EAX < 0xb) {
    iVar2 = in_EAX * 0x10;
    iVar1 = iVar2 + 0x5c + param_1;
    if ((*(int *)(iVar2 + 100 + param_1) - *(int *)(iVar2 + 0x60 + param_1) & 0xfffffffcU) != 0) {
      iVar2 = *(int *)(iVar1 + 8);
      iVar1 = *(int *)(iVar1 + 4);
      iVar3 = _rand();
      iVar1 = *(int *)(*(int *)((in_EAX + 6) * 0x10 + param_1) + (iVar3 % (iVar2 - iVar1 >> 2)) * 4)
      ;
      if (iVar1 != 0) {
        return CONCAT22(*(undefined2 *)(iVar1 + 4),*(undefined2 *)(iVar1 + 6));
      }
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00987660 : PUSH EBP
00987661 : MOV EBP,ESP
00987663 : PUSH EBX
00987664 : MOV EBX,dword ptr [EBP + 0x8]
00987667 : PUSH ESI
00987668 : PUSH EDI
00987669 : PUSH EBX
0098766a : MOV EDI,EAX
0098766c : CALL 0x00987470
00987671 : CMP EDI,0xa
00987674 : JG 0x009876c4
00987676 : MOV EAX,EDI
00987678 : SHL EAX,0x4
0098767b : MOV ECX,dword ptr [EAX + EBX*0x1 + 0x64]
0098767f : SUB ECX,dword ptr [EAX + EBX*0x1 + 0x60]
00987683 : LEA EAX,[EAX + EBX*0x1 + 0x5c]
00987687 : TEST ECX,0xfffffffc
0098768d : JZ 0x009876c4
0098768f : MOV ESI,dword ptr [EAX + 0x8]
00987692 : SUB ESI,dword ptr [EAX + 0x4]
00987695 : SAR ESI,0x2
00987698 : CALL 0x00635d2f
0098769d : CDQ
0098769e : IDIV ESI
009876a0 : ADD EDI,0x6
009876a3 : SHL EDI,0x4
009876a6 : MOV EAX,dword ptr [EDI + EBX*0x1]
009876a9 : MOV ECX,dword ptr [EAX + EDX*0x4]
009876ac : TEST ECX,ECX
009876ae : JZ 0x009876c4
009876b0 : MOVZX EAX,word ptr [ECX + 0x4]
009876b4 : MOVZX ECX,word ptr [ECX + 0x6]
009876b8 : SHL EAX,0x10
009876bb : OR EAX,ECX
009876bd : POP EDI
009876be : POP ESI
009876bf : POP EBX
009876c0 : POP EBP
009876c1 : RET 0x4
009876c4 : POP EDI
009876c5 : POP ESI
009876c6 : XOR EAX,EAX
009876c8 : POP EBX
009876c9 : POP EBP
009876ca : RET 0x4
