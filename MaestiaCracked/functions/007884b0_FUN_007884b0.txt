PROGRAM  : Maestia.exe
FUNCTION : FUN_007884b0
ENTRY    : 007884b0
BODY     : [[007884b0, 00788580]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_007884b0(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  undefined4 *unaff_ESI;
  
  piVar1 = unaff_ESI + 9;
  unaff_ESI[0xb] = 0xc0000;
  unaff_ESI[0xc] = 0x30000;
  if (unaff_ESI[9] == 0) {
    while (iVar3 = (**(code **)(*(int *)*unaff_ESI + 0x68))
                             ((int *)*unaff_ESI,unaff_ESI[0xb],0x208,0,0,piVar1,0), iVar3 < 0) {
      uVar4 = unaff_ESI[0xb];
      if (uVar4 < 0x18001) {
        unaff_ESI[0xb] = 0;
        return uVar4 & 0xffffff00;
      }
      unaff_ESI[0xb] = uVar4 >> 1;
    }
  }
  if (unaff_ESI[10] == 0) {
    while (iVar3 = (**(code **)(*(int *)*unaff_ESI + 0x6c))
                             ((int *)*unaff_ESI,unaff_ESI[0xc],0x208,0x65,0,unaff_ESI + 10,0),
          iVar3 < 0) {
      if ((uint)unaff_ESI[0xc] < 0xc001) {
        piVar2 = (int *)*piVar1;
        uVar4 = 0;
        if (piVar2 != (int *)0x0) {
          uVar4 = (**(code **)(*piVar2 + 8))(piVar2);
        }
        *piVar1 = 0;
        unaff_ESI[0xc] = 0;
        unaff_ESI[0xb] = 0;
        return uVar4 & 0xffffff00;
      }
      unaff_ESI[0xc] = (uint)unaff_ESI[0xc] >> 1;
    }
  }
  unaff_ESI[0xd] = 0;
  unaff_ESI[0xe] = 0;
  *(undefined1 *)(unaff_ESI + 0xf) = 0;
  *(undefined1 *)((int)unaff_ESI + 0x3d) = 0;
  unaff_ESI[0x10] = 0;
  unaff_ESI[0x12] = 0;
  unaff_ESI[0x13] = 0;
  unaff_ESI[0x19] = 0;
  unaff_ESI[0x1a] = 0;
  *(undefined1 *)(unaff_ESI + 1) = 0;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
007884b0 : CMP dword ptr [ESI + 0x24],0x0
007884b4 : PUSH EBX
007884b5 : LEA EBX,[ESI + 0x24]
007884b8 : MOV dword ptr [ESI + 0x2c],0xc0000
007884bf : MOV dword ptr [ESI + 0x30],0x30000
007884c6 : JNZ 0x00788502
007884c8 : MOV EAX,dword ptr [ESI]
007884ca : MOV EDX,dword ptr [ESI + 0x2c]
007884cd : MOV ECX,dword ptr [EAX]
007884cf : PUSH 0x0
007884d1 : PUSH EBX
007884d2 : PUSH 0x0
007884d4 : PUSH 0x0
007884d6 : PUSH 0x208
007884db : PUSH EDX
007884dc : PUSH EAX
007884dd : MOV EAX,dword ptr [ECX + 0x68]
007884e0 : CALL EAX
007884e2 : TEST EAX,EAX
007884e4 : JGE 0x00788502
007884e6 : MOV EAX,dword ptr [ESI + 0x2c]
007884e9 : CMP EAX,0x18000
007884ee : JBE 0x007884f7
007884f0 : SHR EAX,0x1
007884f2 : MOV dword ptr [ESI + 0x2c],EAX
007884f5 : JMP 0x007884c8
007884f7 : MOV dword ptr [ESI + 0x2c],0x0
007884fe : XOR AL,AL
00788500 : POP EBX
00788501 : RET
00788502 : CMP dword ptr [ESI + 0x28],0x0
00788506 : PUSH EDI
00788507 : LEA EDI,[ESI + 0x28]
0078850a : JNZ 0x0078855c
0078850c : LEA ESP,[ESP]
00788510 : MOV EAX,dword ptr [ESI]
00788512 : MOV EDX,dword ptr [ESI + 0x30]
00788515 : MOV ECX,dword ptr [EAX]
00788517 : PUSH 0x0
00788519 : PUSH EDI
0078851a : PUSH 0x0
0078851c : PUSH 0x65
0078851e : PUSH 0x208
00788523 : PUSH EDX
00788524 : PUSH EAX
00788525 : MOV EAX,dword ptr [ECX + 0x6c]
00788528 : CALL EAX
0078852a : TEST EAX,EAX
0078852c : JGE 0x0078855c
0078852e : MOV EAX,dword ptr [ESI + 0x30]
00788531 : CMP EAX,0xc000
00788536 : JBE 0x0078853f
00788538 : SHR EAX,0x1
0078853a : MOV dword ptr [ESI + 0x30],EAX
0078853d : JMP 0x00788510
0078853f : MOV EAX,dword ptr [EBX]
00788541 : XOR EDI,EDI
00788543 : CMP EAX,EDI
00788545 : JZ 0x0078854f
00788547 : MOV ECX,dword ptr [EAX]
00788549 : MOV EDX,dword ptr [ECX + 0x8]
0078854c : PUSH EAX
0078854d : CALL EDX
0078854f : MOV dword ptr [EBX],EDI
00788551 : MOV dword ptr [ESI + 0x30],EDI
00788554 : MOV dword ptr [ESI + 0x2c],EDI
00788557 : POP EDI
00788558 : XOR AL,AL
0078855a : POP EBX
0078855b : RET
0078855c : XOR EAX,EAX
0078855e : POP EDI
0078855f : MOV dword ptr [ESI + 0x34],EAX
00788562 : MOV dword ptr [ESI + 0x38],EAX
00788565 : MOV byte ptr [ESI + 0x3c],AL
00788568 : MOV byte ptr [ESI + 0x3d],AL
0078856b : MOV dword ptr [ESI + 0x40],EAX
0078856e : MOV dword ptr [ESI + 0x48],EAX
00788571 : MOV dword ptr [ESI + 0x4c],EAX
00788574 : MOV dword ptr [ESI + 0x64],EAX
00788577 : MOV dword ptr [ESI + 0x68],EAX
0078857a : MOV byte ptr [ESI + 0x4],AL
0078857d : MOV AL,0x1
0078857f : POP EBX
00788580 : RET
