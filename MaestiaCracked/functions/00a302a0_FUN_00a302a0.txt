PROGRAM  : Maestia.exe
FUNCTION : FUN_00a302a0
ENTRY    : 00a302a0
BODY     : [[00a302a0, 00a305c1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a302a0(void)

{
  int iVar1;
  char cVar2;
  undefined4 uVar3;
  int unaff_EDI;
  float10 fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float local_18;
  float local_14;
  float local_10;
  int *local_c;
  int *local_8;
  
  if (*(char *)(unaff_EDI + 0x550) == '\0') {
    if (*(char *)(unaff_EDI + 0x553) != '\0') {
      FUN_00a1b8a0(unaff_EDI);
      return;
    }
  }
  else if (0.0 < *(float *)(unaff_EDI + 0x54c)) {
    local_18 = 0.0;
    local_14 = 0.0;
    local_10 = 0.0;
    if (*(char *)(unaff_EDI + 0x514) == '\0') {
      uVar3 = *(undefined4 *)(unaff_EDI + 0x74);
    }
    else {
      uVar3 = *(undefined4 *)(unaff_EDI + 0x78);
    }
    cVar2 = FUN_007ec640(*(undefined4 *)(unaff_EDI + 0xc),&local_18,
                         *(undefined4 *)(*(int *)(*DAT_00da9894 + 0x128) + 0x38),
                         *(undefined4 *)(*(int *)(*DAT_00da9894 + 0x128) + 0x3c),uVar3);
    if (cVar2 != '\0') {
      FUN_00404130();
      local_c = *(int **)(unaff_EDI + 0xc0);
      local_8 = (int *)*local_c;
      if (local_8 != local_c) {
        do {
          iVar1 = local_8[4];
          FUN_00889cd0();
          fVar5 = *(float *)(iVar1 + 0x1a4) - local_18;
          fVar7 = *(float *)(iVar1 + 0x1ac) - local_10;
          fVar6 = *(float *)(iVar1 + 0x1a8) - local_14;
          fVar4 = (float10)FUN_0040f460(fVar5 * fVar5 + fVar7 * fVar7 + fVar6 * fVar6);
          if ((fVar4 < (float10)*(float *)(unaff_EDI + 0x54c)) && (*(char *)(iVar1 + 0x3ad) != '\0')
             ) {
            if (*(char *)(unaff_EDI + 0x551) == '\0') {
LAB_00a30422:
              cVar2 = FUN_0086dad0();
              if (cVar2 == '\0') goto LAB_00a30476;
            }
            else {
              if (*(int *)(unaff_EDI + 0xac) == 0) {
LAB_00a30419:
                if (*(char *)(unaff_EDI + 0x551) != '\0') goto LAB_00a30476;
                goto LAB_00a30422;
              }
              FUN_00404730();
              cVar2 = FUN_0086dad0();
              if (cVar2 != '\0') goto LAB_00a30419;
            }
            if (*(char *)(unaff_EDI + 0x552) == '\0') {
LAB_00a30461:
              cVar2 = FUN_008896f0();
              if (cVar2 == '\0') goto LAB_00a30476;
            }
            else {
              cVar2 = FUN_008896f0();
              if (cVar2 != '\0') {
                if (*(char *)(unaff_EDI + 0x552) != '\0') goto LAB_00a30476;
                goto LAB_00a30461;
              }
            }
            FUN_00889cd0();
          }
LAB_00a30476:
          FUN_00416210();
        } while (local_8 != local_c);
      }
      local_c = *(int **)(unaff_EDI + 0xcc);
      local_8 = (int *)*local_c;
      if (local_8 != local_c) {
        do {
          iVar1 = local_8[4];
          FUN_00889cd0();
          fVar5 = *(float *)(iVar1 + 0x1a4) - local_18;
          fVar7 = *(float *)(iVar1 + 0x1ac) - local_10;
          fVar6 = *(float *)(iVar1 + 0x1a8) - local_14;
          fVar4 = (float10)FUN_0040f460(fVar5 * fVar5 + fVar7 * fVar7 + fVar6 * fVar6);
          if ((fVar4 < (float10)*(float *)(unaff_EDI + 0x54c)) && (*(char *)(iVar1 + 0x3ad) != '\0')
             ) {
            if (*(char *)(unaff_EDI + 0x551) == '\0') {
LAB_00a30554:
              cVar2 = FUN_0086dad0();
              if (cVar2 == '\0') goto LAB_00a305a8;
            }
            else if ((*(int *)(unaff_EDI + 0xac) == 0) || (cVar2 = FUN_0086dad0(), cVar2 != '\0')) {
              if (*(char *)(unaff_EDI + 0x551) != '\0') goto LAB_00a305a8;
              goto LAB_00a30554;
            }
            if (*(char *)(unaff_EDI + 0x552) == '\0') {
LAB_00a30593:
              cVar2 = FUN_008896f0();
              if (cVar2 == '\0') goto LAB_00a305a8;
            }
            else {
              cVar2 = FUN_008896f0();
              if (cVar2 != '\0') {
                if (*(char *)(unaff_EDI + 0x552) != '\0') goto LAB_00a305a8;
                goto LAB_00a30593;
              }
            }
            FUN_00889cd0();
          }
LAB_00a305a8:
          FUN_00416210();
        } while (local_8 != local_c);
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a302a0 : PUSH EBP
00a302a1 : MOV EBP,ESP
00a302a3 : SUB ESP,0x30
00a302a6 : CMP byte ptr [EDI + 0x550],0x0
00a302ad : PUSH EBX
00a302ae : PUSH ESI
00a302af : JNZ 0x00a302ca
00a302b1 : CMP byte ptr [EDI + 0x553],0x0
00a302b8 : JZ 0x00a305bc
00a302be : PUSH EDI
00a302bf : CALL 0x00a1b8a0
00a302c4 : POP ESI
00a302c5 : POP EBX
00a302c6 : MOV ESP,EBP
00a302c8 : POP EBP
00a302c9 : RET
00a302ca : XORPS XMM0,XMM0
00a302cd : COMISS XMM0,dword ptr [EDI + 0x54c]
00a302d4 : JNC 0x00a305bc
00a302da : CMP byte ptr [EDI + 0x514],0x0
00a302e1 : MOV EAX,[0x00da9894]
00a302e6 : MOV ECX,dword ptr [EAX]
00a302e8 : MOV EAX,dword ptr [ECX + 0x128]
00a302ee : MOV ECX,dword ptr [EAX + 0x38]
00a302f1 : MOV EAX,dword ptr [EAX + 0x3c]
00a302f4 : MOVSS dword ptr [EBP + -0x14],XMM0
00a302f9 : MOVSS dword ptr [EBP + -0x10],XMM0
00a302fe : MOVSS dword ptr [EBP + -0xc],XMM0
00a30303 : JZ 0x00a3030a
00a30305 : MOV EDX,dword ptr [EDI + 0x78]
00a30308 : JMP 0x00a3030d
00a3030a : MOV EDX,dword ptr [EDI + 0x74]
00a3030d : PUSH EDX
00a3030e : PUSH EAX
00a3030f : PUSH ECX
00a30310 : MOV ECX,dword ptr [EDI + 0xc]
00a30313 : LEA EAX,[EBP + -0x14]
00a30316 : PUSH EAX
00a30317 : PUSH ECX
00a30318 : CALL 0x007ec640
00a3031d : TEST AL,AL
00a3031f : JZ 0x00a305bc
00a30325 : MOV EAX,dword ptr [EDI + 0x1b4]
00a3032b : LEA ECX,[EBP + -0x14]
00a3032e : CALL 0x00404130
00a30333 : MOV ECX,dword ptr [EDI + 0xc0]
00a30339 : MOVSS XMM0,dword ptr [0x00cdf820]
00a30341 : MOV EAX,dword ptr [ECX]
00a30343 : MOVSS dword ptr [EBP + -0x2c],XMM0
00a30348 : MOVSS dword ptr [EBP + -0x28],XMM0
00a3034d : XORPS XMM0,XMM0
00a30350 : MOV dword ptr [EBP + -0x8],ECX
00a30353 : MOVSS dword ptr [EBP + -0x24],XMM0
00a30358 : MOVSS dword ptr [EBP + -0x20],XMM0
00a3035d : MOVSS dword ptr [EBP + -0x1c],XMM0
00a30362 : MOVSS dword ptr [EBP + -0x18],XMM0
00a30367 : MOV dword ptr [EBP + -0x4],EAX
00a3036a : CMP EAX,ECX
00a3036c : JZ 0x00a3048a
00a30372 : MOV EBX,dword ptr [EAX + 0x10]
00a30375 : LEA EAX,[EBP + -0x20]
00a30378 : MOV ESI,EBX
00a3037a : CALL 0x00889cd0
00a3037f : MOVSS XMM0,dword ptr [EBX + 0x1a4]
00a30387 : SUBSS XMM0,dword ptr [EBP + -0x14]
00a3038c : MOVSS XMM2,dword ptr [EBX + 0x1ac]
00a30394 : SUBSS XMM2,dword ptr [EBP + -0xc]
00a30399 : MOVSS XMM1,dword ptr [EBX + 0x1a8]
00a303a1 : SUBSS XMM1,dword ptr [EBP + -0x10]
00a303a6 : MOVAPS XMM3,XMM0
00a303a9 : MULSS XMM3,XMM0
00a303ad : MOVAPS XMM0,XMM2
00a303b0 : MULSS XMM0,XMM2
00a303b4 : ADDSS XMM3,XMM0
00a303b8 : MOVAPS XMM0,XMM1
00a303bb : MULSS XMM0,XMM1
00a303bf : PUSH ECX
00a303c0 : ADDSS XMM3,XMM0
00a303c4 : MOVSS dword ptr [ESP],XMM3
00a303c9 : CALL 0x0040f460
00a303ce : FLD float ptr [EDI + 0x54c]
00a303d4 : ADD ESP,0x4
00a303d7 : FCOMIP ST0,ST1
00a303d9 : FSTP ST0
00a303db : JBE 0x00a30476
00a303e1 : CMP byte ptr [EBX + 0x3ad],0x0
00a303e8 : JZ 0x00a30476
00a303ee : CMP byte ptr [EDI + 0x551],0x0
00a303f5 : JZ 0x00a30422
00a303f7 : MOV EAX,dword ptr [EDI + 0xac]
00a303fd : TEST EAX,EAX
00a303ff : JZ 0x00a30419
00a30401 : MOV ECX,EBX
00a30403 : CALL 0x00404730
00a30408 : MOV ECX,dword ptr [EDI + 0xac]
00a3040e : MOV ESI,EAX
00a30410 : CALL 0x0086dad0
00a30415 : TEST AL,AL
00a30417 : JZ 0x00a30444
00a30419 : CMP byte ptr [EDI + 0x551],0x0
00a30420 : JNZ 0x00a30476
00a30422 : MOVZX EAX,word ptr [EBX + 0x80]
00a30429 : MOVZX ESI,AX
00a3042c : TEST AX,AX
00a3042f : JNZ 0x00a30435
00a30431 : MOVZX ESI,word ptr [EBX + 0x7c]
00a30435 : MOV ECX,dword ptr [EDI + 0xac]
00a3043b : CALL 0x0086dad0
00a30440 : TEST AL,AL
00a30442 : JZ 0x00a30476
00a30444 : CMP byte ptr [EDI + 0x552],0x0
00a3044b : JZ 0x00a30461
00a3044d : MOV EAX,EBX
00a3044f : CALL 0x008896f0
00a30454 : TEST AL,AL
00a30456 : JZ 0x00a3046c
00a30458 : CMP byte ptr [EDI + 0x552],0x0
00a3045f : JNZ 0x00a30476
00a30461 : MOV EAX,EBX
00a30463 : CALL 0x008896f0
00a30468 : TEST AL,AL
00a3046a : JZ 0x00a30476
00a3046c : LEA EAX,[EBP + -0x2c]
00a3046f : MOV ESI,EBX
00a30471 : CALL 0x00889cd0
00a30476 : LEA EDX,[EBP + -0x4]
00a30479 : CALL 0x00416210
00a3047e : MOV EAX,dword ptr [EBP + -0x4]
00a30481 : CMP EAX,dword ptr [EBP + -0x8]
00a30484 : JNZ 0x00a30372
00a3048a : MOV ECX,dword ptr [EDI + 0xcc]
00a30490 : MOV EAX,dword ptr [ECX]
00a30492 : MOV dword ptr [EBP + -0x8],ECX
00a30495 : MOV dword ptr [EBP + -0x4],EAX
00a30498 : CMP EAX,ECX
00a3049a : JZ 0x00a305bc
00a304a0 : MOV EBX,dword ptr [EAX + 0x10]
00a304a3 : LEA EAX,[EBP + -0x20]
00a304a6 : MOV ESI,EBX
00a304a8 : CALL 0x00889cd0
00a304ad : MOVSS XMM0,dword ptr [EBX + 0x1a4]
00a304b5 : SUBSS XMM0,dword ptr [EBP + -0x14]
00a304ba : MOVSS XMM2,dword ptr [EBX + 0x1ac]
00a304c2 : SUBSS XMM2,dword ptr [EBP + -0xc]
00a304c7 : MOVSS XMM1,dword ptr [EBX + 0x1a8]
00a304cf : SUBSS XMM1,dword ptr [EBP + -0x10]
00a304d4 : MOVAPS XMM3,XMM0
00a304d7 : MULSS XMM3,XMM0
00a304db : MOVAPS XMM0,XMM2
00a304de : MULSS XMM0,XMM2
00a304e2 : ADDSS XMM3,XMM0
00a304e6 : MOVAPS XMM0,XMM1
00a304e9 : MULSS XMM0,XMM1
00a304ed : PUSH ECX
00a304ee : ADDSS XMM3,XMM0
00a304f2 : MOVSS dword ptr [ESP],XMM3
00a304f7 : CALL 0x0040f460
00a304fc : FLD float ptr [EDI + 0x54c]
00a30502 : ADD ESP,0x4
00a30505 : FCOMIP ST0,ST1
00a30507 : FSTP ST0
00a30509 : JBE 0x00a305a8
00a3050f : CMP byte ptr [EBX + 0x3ad],0x0
00a30516 : JZ 0x00a305a8
00a3051c : CMP byte ptr [EDI + 0x551],0x0
00a30523 : JZ 0x00a30554
00a30525 : MOV ECX,dword ptr [EDI + 0xac]
00a3052b : TEST ECX,ECX
00a3052d : JZ 0x00a3054b
00a3052f : MOVZX EAX,word ptr [EBX + 0x80]
00a30536 : MOVZX ESI,AX
00a30539 : TEST AX,AX
00a3053c : JNZ 0x00a30542
00a3053e : MOVZX ESI,word ptr [EBX + 0x7c]
00a30542 : CALL 0x0086dad0
00a30547 : TEST AL,AL
00a30549 : JZ 0x00a30576
00a3054b : CMP byte ptr [EDI + 0x551],0x0
00a30552 : JNZ 0x00a305a8
00a30554 : MOVZX EAX,word ptr [EBX + 0x80]
00a3055b : MOVZX ESI,AX
00a3055e : TEST AX,AX
00a30561 : JNZ 0x00a30567
00a30563 : MOVZX ESI,word ptr [EBX + 0x7c]
00a30567 : MOV ECX,dword ptr [EDI + 0xac]
00a3056d : CALL 0x0086dad0
00a30572 : TEST AL,AL
00a30574 : JZ 0x00a305a8
00a30576 : CMP byte ptr [EDI + 0x552],0x0
00a3057d : JZ 0x00a30593
00a3057f : MOV EAX,EBX
00a30581 : CALL 0x008896f0
00a30586 : TEST AL,AL
00a30588 : JZ 0x00a3059e
00a3058a : CMP byte ptr [EDI + 0x552],0x0
00a30591 : JNZ 0x00a305a8
00a30593 : MOV EAX,EBX
00a30595 : CALL 0x008896f0
00a3059a : TEST AL,AL
00a3059c : JZ 0x00a305a8
00a3059e : LEA EAX,[EBP + -0x2c]
00a305a1 : MOV ESI,EBX
00a305a3 : CALL 0x00889cd0
00a305a8 : LEA EDX,[EBP + -0x4]
00a305ab : CALL 0x00416210
00a305b0 : MOV EAX,dword ptr [EBP + -0x4]
00a305b3 : CMP EAX,dword ptr [EBP + -0x8]
00a305b6 : JNZ 0x00a304a0
00a305bc : POP ESI
00a305bd : POP EBX
00a305be : MOV ESP,EBP
00a305c0 : POP EBP
00a305c1 : RET
