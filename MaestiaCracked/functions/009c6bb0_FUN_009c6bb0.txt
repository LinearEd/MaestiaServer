PROGRAM  : Maestia.exe
FUNCTION : FUN_009c6bb0
ENTRY    : 009c6bb0
BODY     : [[009c6bb0, 009c6d85]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009c6bb0(void)

{
  char cVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int *unaff_ESI;
  
  iVar3 = (**(code **)(*unaff_ESI + 0x74))(0,0);
  iVar4 = (**(code **)(*unaff_ESI + 0x74))(1,0);
  if (iVar4 == 0) {
    if ((*DAT_00da9894 != 0) && (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
      (**(code **)(*piVar2 + 4))(piVar2,"mc_enchant.UsableMaterialItem",&DAT_00c92500,1);
      return;
    }
  }
  else if (iVar3 == 0) {
    if ((*DAT_00da9894 != 0) && (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
      (**(code **)(*piVar2 + 4))(piVar2,"mc_enchant.UsableMaterialItem",&DAT_00c925d8,0);
    }
  }
  else {
    iVar4 = FUN_004049b0(*(undefined4 *)(iVar4 + 0x10));
    if (iVar4 != 0) {
      if (*(ushort *)(iVar3 + 0xac) < 0xc) {
        cVar1 = *(char *)(iVar4 + 0x178);
        if ((cVar1 == '\x03') || (cVar1 == '\x04')) {
          if ((*DAT_00da9894 != 0) &&
             (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
            (**(code **)(*piVar2 + 4))(piVar2,"mc_enchant.UsableMaterialItem",&DAT_00c92524,0);
            return;
          }
        }
        else if ((((cVar1 == '\x01') || (cVar1 == '\x02')) && (*DAT_00da9894 != 0)) &&
                (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
          (**(code **)(*piVar2 + 4))(piVar2,"mc_enchant.UsableMaterialItem",&DAT_00c92548,1);
          return;
        }
      }
      else if ((*(uint *)(iVar4 + 0x48) & 0x400) == 0) {
        if ((*DAT_00da9894 != 0) &&
           (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
          (**(code **)(*piVar2 + 4))(piVar2,"mc_enchant.UsableMaterialItem",&DAT_00c925b4,1);
          return;
        }
      }
      else {
        iVar3 = *DAT_00da9894;
        if (*(char *)(iVar4 + 0x178) == '\x03') {
          if ((iVar3 != 0) && (piVar2 = *(int **)(iVar3 + 0x114), piVar2 != (int *)0x0)) {
            (**(code **)(*piVar2 + 4))(piVar2,"mc_enchant.UsableMaterialItem",&DAT_00c9256c,1);
            return;
          }
        }
        else if ((iVar3 != 0) && (piVar2 = *(int **)(iVar3 + 0x114), piVar2 != (int *)0x0)) {
          (**(code **)(*piVar2 + 4))(piVar2,"mc_enchant.UsableMaterialItem",&DAT_00c92590,0);
          return;
        }
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009c6bb0 : MOV EAX,dword ptr [ESI]
009c6bb2 : MOV EDX,dword ptr [EAX + 0x74]
009c6bb5 : PUSH EDI
009c6bb6 : PUSH 0x0
009c6bb8 : PUSH 0x0
009c6bba : MOV ECX,ESI
009c6bbc : CALL EDX
009c6bbe : MOV EDI,EAX
009c6bc0 : MOV EAX,dword ptr [ESI]
009c6bc2 : MOV EDX,dword ptr [EAX + 0x74]
009c6bc5 : PUSH 0x0
009c6bc7 : PUSH 0x1
009c6bc9 : MOV ECX,ESI
009c6bcb : CALL EDX
009c6bcd : TEST EAX,EAX
009c6bcf : JNZ 0x009c6c07
009c6bd1 : MOV EAX,[0x00da9894]
009c6bd6 : MOV EAX,dword ptr [EAX]
009c6bd8 : TEST EAX,EAX
009c6bda : JZ 0x009c6d84
009c6be0 : MOV EAX,dword ptr [EAX + 0x114]
009c6be6 : TEST EAX,EAX
009c6be8 : JZ 0x009c6d84
009c6bee : MOV ECX,dword ptr [EAX]
009c6bf0 : MOV EDX,dword ptr [ECX + 0x4]
009c6bf3 : PUSH 0x1
009c6bf5 : PUSH 0xc92500
009c6bfa : PUSH 0xc92504
009c6bff : PUSH EAX
009c6c00 : CALL EDX
009c6c02 : ADD ESP,0x10
009c6c05 : POP EDI
009c6c06 : RET
009c6c07 : TEST EDI,EDI
009c6c09 : JZ 0x009c6d57
009c6c0f : MOV EAX,dword ptr [EAX + 0x10]
009c6c12 : PUSH EAX
009c6c13 : CALL 0x004049b0
009c6c18 : ADD ESP,0x4
009c6c1b : TEST EAX,EAX
009c6c1d : JZ 0x009c6d84
009c6c23 : CMP word ptr [EDI + 0xac],0xc
009c6c2b : JNC 0x009c6cb9
009c6c31 : MOV AL,byte ptr [EAX + 0x178]
009c6c37 : CMP AL,0x3
009c6c39 : JZ 0x009c6c82
009c6c3b : CMP AL,0x4
009c6c3d : JZ 0x009c6c82
009c6c3f : CMP AL,0x1
009c6c41 : JZ 0x009c6c4b
009c6c43 : CMP AL,0x2
009c6c45 : JNZ 0x009c6d84
009c6c4b : MOV ECX,dword ptr [0x00da9894]
009c6c51 : MOV EAX,dword ptr [ECX]
009c6c53 : TEST EAX,EAX
009c6c55 : JZ 0x009c6d84
009c6c5b : MOV EAX,dword ptr [EAX + 0x114]
009c6c61 : TEST EAX,EAX
009c6c63 : JZ 0x009c6d84
009c6c69 : MOV EDX,dword ptr [EAX]
009c6c6b : PUSH 0x1
009c6c6d : PUSH 0xc92548
009c6c72 : PUSH 0xc9254c
009c6c77 : PUSH EAX
009c6c78 : MOV EAX,dword ptr [EDX + 0x4]
009c6c7b : CALL EAX
009c6c7d : ADD ESP,0x10
009c6c80 : POP EDI
009c6c81 : RET
009c6c82 : MOV ECX,dword ptr [0x00da9894]
009c6c88 : MOV EAX,dword ptr [ECX]
009c6c8a : TEST EAX,EAX
009c6c8c : JZ 0x009c6d84
009c6c92 : MOV EAX,dword ptr [EAX + 0x114]
009c6c98 : TEST EAX,EAX
009c6c9a : JZ 0x009c6d84
009c6ca0 : MOV EDX,dword ptr [EAX]
009c6ca2 : PUSH 0x0
009c6ca4 : PUSH 0xc92524
009c6ca9 : PUSH 0xc92528
009c6cae : PUSH EAX
009c6caf : MOV EAX,dword ptr [EDX + 0x4]
009c6cb2 : CALL EAX
009c6cb4 : ADD ESP,0x10
009c6cb7 : POP EDI
009c6cb8 : RET
009c6cb9 : MOV ECX,dword ptr [EAX + 0x48]
009c6cbc : AND ECX,0x400
009c6cc2 : XOR EDX,EDX
009c6cc4 : OR ECX,EDX
009c6cc6 : MOV ECX,dword ptr [0x00da9894]
009c6ccc : JZ 0x009c6d2e
009c6cce : CMP byte ptr [EAX + 0x178],0x3
009c6cd5 : MOV EAX,dword ptr [ECX]
009c6cd7 : JZ 0x009c6d07
009c6cd9 : TEST EAX,EAX
009c6cdb : JZ 0x009c6d84
009c6ce1 : MOV EAX,dword ptr [EAX + 0x114]
009c6ce7 : TEST EAX,EAX
009c6ce9 : JZ 0x009c6d84
009c6cef : PUSH EDX
009c6cf0 : MOV EDX,dword ptr [EAX]
009c6cf2 : PUSH 0xc92590
009c6cf7 : PUSH 0xc92594
009c6cfc : PUSH EAX
009c6cfd : MOV EAX,dword ptr [EDX + 0x4]
009c6d00 : CALL EAX
009c6d02 : ADD ESP,0x10
009c6d05 : POP EDI
009c6d06 : RET
009c6d07 : TEST EAX,EAX
009c6d09 : JZ 0x009c6d84
009c6d0b : MOV EAX,dword ptr [EAX + 0x114]
009c6d11 : TEST EAX,EAX
009c6d13 : JZ 0x009c6d84
009c6d15 : MOV EDX,dword ptr [EAX]
009c6d17 : PUSH 0x1
009c6d19 : PUSH 0xc9256c
009c6d1e : PUSH 0xc92570
009c6d23 : PUSH EAX
009c6d24 : MOV EAX,dword ptr [EDX + 0x4]
009c6d27 : CALL EAX
009c6d29 : ADD ESP,0x10
009c6d2c : POP EDI
009c6d2d : RET
009c6d2e : MOV EAX,dword ptr [ECX]
009c6d30 : TEST EAX,EAX
009c6d32 : JZ 0x009c6d84
009c6d34 : MOV EAX,dword ptr [EAX + 0x114]
009c6d3a : TEST EAX,EAX
009c6d3c : JZ 0x009c6d84
009c6d3e : MOV EDX,dword ptr [EAX]
009c6d40 : PUSH 0x1
009c6d42 : PUSH 0xc925b4
009c6d47 : PUSH 0xc925b8
009c6d4c : PUSH EAX
009c6d4d : MOV EAX,dword ptr [EDX + 0x4]
009c6d50 : CALL EAX
009c6d52 : ADD ESP,0x10
009c6d55 : POP EDI
009c6d56 : RET
009c6d57 : MOV ECX,dword ptr [0x00da9894]
009c6d5d : MOV EAX,dword ptr [ECX]
009c6d5f : TEST EAX,EAX
009c6d61 : JZ 0x009c6d84
009c6d63 : MOV EAX,dword ptr [EAX + 0x114]
009c6d69 : TEST EAX,EAX
009c6d6b : JZ 0x009c6d84
009c6d6d : MOV EDX,dword ptr [EAX]
009c6d6f : PUSH 0x0
009c6d71 : PUSH 0xc925d8
009c6d76 : PUSH 0xc925dc
009c6d7b : PUSH EAX
009c6d7c : MOV EAX,dword ptr [EDX + 0x4]
009c6d7f : CALL EAX
009c6d81 : ADD ESP,0x10
009c6d84 : POP EDI
009c6d85 : RET
