PROGRAM  : Maestia.exe
FUNCTION : FUN_004c7c40
ENTRY    : 004c7c40
BODY     : [[004c7c40, 004c7eed]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004c7d60) */
/* WARNING: Removing unreachable block (ram,0x004c7d70) */
/* WARNING: Removing unreachable block (ram,0x004c7d79) */
/* WARNING: Removing unreachable block (ram,0x004c7d7c) */
/* WARNING: Removing unreachable block (ram,0x004c7d6c) */
/* WARNING: Removing unreachable block (ram,0x004c7d89) */
/* WARNING: Removing unreachable block (ram,0x004c7d99) */
/* WARNING: Removing unreachable block (ram,0x004c7da4) */
/* WARNING: Removing unreachable block (ram,0x004c7da0) */
/* WARNING: Removing unreachable block (ram,0x004c7d94) */
/* WARNING: Removing unreachable block (ram,0x004c7da7) */
/* WARNING: Removing unreachable block (ram,0x004c7db7) */
/* WARNING: Removing unreachable block (ram,0x004c7dbf) */

void FUN_004c7c40(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7ad85;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x5d) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_004c94c0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x5d) == '\0') {
    if (*(char *)(param_3[2] + 0x5d) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x5d) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x5d) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x5d);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x5d);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int *)(param_1 + 4);
  if (*(int **)(local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x5d) == '\0') {
      uVar4 = FUN_004c8c30();
      *(undefined4 *)(local_1c + 8) = uVar4;
    }
    else {
      *(int **)(local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[0x17] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0x17] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0x17] == '\0') {
            *(undefined1 *)(piVar6 + 0x17) = 1;
            *(undefined1 *)(piVar5 + 0x17) = 0;
            FUN_004c8bd0(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x5d) == '\0') {
            if ((*(char *)(*piVar6 + 0x5c) != '\x01') || (*(char *)(piVar6[2] + 0x5c) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x5c) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x5c) = 1;
                *(undefined1 *)(piVar6 + 0x17) = 0;
                FUN_004c8c50(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0x17) = (char)piVar5[0x17];
              *(undefined1 *)(piVar5 + 0x17) = 1;
              *(undefined1 *)(piVar6[2] + 0x5c) = 1;
              FUN_004c8bd0(param_1);
              break;
            }
LAB_004c7e87:
            *(undefined1 *)(piVar6 + 0x17) = 0;
          }
        }
        else {
          if ((char)piVar6[0x17] == '\0') {
            *(undefined1 *)(piVar6 + 0x17) = 1;
            *(undefined1 *)(piVar5 + 0x17) = 0;
            FUN_004c8c50(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x5d) == '\0') {
            if ((*(char *)(piVar6[2] + 0x5c) == '\x01') && (*(char *)(*piVar6 + 0x5c) == '\x01'))
            goto LAB_004c7e87;
            if (*(char *)(*piVar6 + 0x5c) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x5c) = 1;
              *(undefined1 *)(piVar6 + 0x17) = 0;
              FUN_004c8bd0(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0x17) = (char)piVar5[0x17];
            *(undefined1 *)(piVar5 + 0x17) = 1;
            *(undefined1 *)(*piVar6 + 0x5c) = 1;
            FUN_004c8c50(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 0x17) = 1;
  }
  local_8 = 0xffffffff;
  FUN_0044cb00(local_18 + 3);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004c7c40 : PUSH EBP
004c7c41 : MOV EBP,ESP
004c7c43 : PUSH -0x1
004c7c45 : PUSH 0xb7ad85
004c7c4a : MOV EAX,FS:[0x0]
004c7c50 : PUSH EAX
004c7c51 : SUB ESP,0x50
004c7c54 : PUSH EBX
004c7c55 : PUSH ESI
004c7c56 : PUSH EDI
004c7c57 : MOV EAX,[0x00d66fa0]
004c7c5c : XOR EAX,EBP
004c7c5e : PUSH EAX
004c7c5f : LEA EAX,[EBP + -0xc]
004c7c62 : MOV FS:[0x0],EAX
004c7c68 : MOV EAX,dword ptr [EBP + 0x10]
004c7c6b : CMP byte ptr [EAX + 0x5d],0x0
004c7c6f : JZ 0x004c7cad
004c7c71 : PUSH 0x1b
004c7c73 : XOR ESI,ESI
004c7c75 : PUSH 0xcca4a8
004c7c7a : LEA ECX,[EBP + -0x34]
004c7c7d : MOV dword ptr [EBP + -0x1c],0xf
004c7c84 : MOV dword ptr [EBP + -0x20],ESI
004c7c87 : MOV byte ptr [EBP + -0x30],0x0
004c7c8b : CALL 0x00404b50
004c7c90 : MOV dword ptr [EBP + -0x4],ESI
004c7c93 : LEA EAX,[EBP + -0x34]
004c7c96 : PUSH EAX
004c7c97 : LEA ECX,[EBP + -0x5c]
004c7c9a : CALL 0x00403c10
004c7c9f : PUSH 0xced890
004c7ca4 : LEA ECX,[EBP + -0x5c]
004c7ca7 : PUSH ECX
004c7ca8 : CALL 0x006409eb
004c7cad : MOV EBX,EAX
004c7caf : LEA EDX,[EBP + 0x10]
004c7cb2 : MOV dword ptr [EBP + -0x14],EBX
004c7cb5 : CALL 0x004c94c0
004c7cba : MOV ECX,dword ptr [EBX]
004c7cbc : CMP byte ptr [ECX + 0x5d],0x0
004c7cc0 : JZ 0x004c7cc7
004c7cc2 : MOV EDI,dword ptr [EBX + 0x8]
004c7cc5 : JMP 0x004c7ce1
004c7cc7 : MOV EDX,dword ptr [EBX + 0x8]
004c7cca : CMP byte ptr [EDX + 0x5d],0x0
004c7cce : JZ 0x004c7cd4
004c7cd0 : MOV EDI,ECX
004c7cd2 : JMP 0x004c7ce1
004c7cd4 : MOV EAX,dword ptr [EBP + 0x10]
004c7cd7 : MOV EDI,dword ptr [EAX + 0x8]
004c7cda : LEA EDX,[EAX + 0x8]
004c7cdd : CMP EAX,EBX
004c7cdf : JNZ 0x004c7d60
004c7ce1 : CMP byte ptr [EDI + 0x5d],0x0
004c7ce5 : MOV ESI,dword ptr [EBX + 0x4]
004c7ce8 : JNZ 0x004c7ced
004c7cea : MOV dword ptr [EDI + 0x4],ESI
004c7ced : MOV EDX,dword ptr [EBP + 0x8]
004c7cf0 : MOV EAX,dword ptr [EDX + 0x4]
004c7cf3 : CMP dword ptr [EAX + 0x4],EBX
004c7cf6 : JNZ 0x004c7cfd
004c7cf8 : MOV dword ptr [EAX + 0x4],EDI
004c7cfb : JMP 0x004c7d08
004c7cfd : CMP dword ptr [ESI],EBX
004c7cff : JNZ 0x004c7d05
004c7d01 : MOV dword ptr [ESI],EDI
004c7d03 : JMP 0x004c7d08
004c7d05 : MOV dword ptr [ESI + 0x8],EDI
004c7d08 : MOV EAX,dword ptr [EDX + 0x4]
004c7d0b : CMP dword ptr [EAX],EBX
004c7d0d : JNZ 0x004c7d32
004c7d0f : CMP byte ptr [EDI + 0x5d],0x0
004c7d13 : JZ 0x004c7d19
004c7d15 : MOV ECX,ESI
004c7d17 : JMP 0x004c7d2d
004c7d19 : MOV EAX,dword ptr [EDI]
004c7d1b : CMP byte ptr [EAX + 0x5d],0x0
004c7d1f : MOV ECX,EDI
004c7d21 : JNZ 0x004c7d2d
004c7d23 : MOV ECX,EAX
004c7d25 : MOV EAX,dword ptr [ECX]
004c7d27 : CMP byte ptr [EAX + 0x5d],0x0
004c7d2b : JZ 0x004c7d23
004c7d2d : MOV EAX,dword ptr [EDX + 0x4]
004c7d30 : MOV dword ptr [EAX],ECX
004c7d32 : MOV ECX,dword ptr [EDX + 0x4]
004c7d35 : MOV dword ptr [EBP + -0x18],ECX
004c7d38 : CMP dword ptr [ECX + 0x8],EBX
004c7d3b : JNZ 0x004c7dc2
004c7d41 : CMP byte ptr [EDI + 0x5d],0x0
004c7d45 : JZ 0x004c7d4e
004c7d47 : MOV EAX,ESI
004c7d49 : MOV dword ptr [ECX + 0x8],EAX
004c7d4c : JMP 0x004c7dc2
004c7d4e : MOV EAX,EDI
004c7d50 : CALL 0x004c8c30
004c7d55 : MOV ECX,dword ptr [EBP + -0x18]
004c7d58 : MOV EDX,dword ptr [EBP + 0x8]
004c7d5b : MOV dword ptr [ECX + 0x8],EAX
004c7d5e : JMP 0x004c7dc2
004c7d60 : MOV dword ptr [ECX + 0x4],EAX
004c7d63 : MOV ECX,dword ptr [EBX]
004c7d65 : MOV dword ptr [EAX],ECX
004c7d67 : CMP EAX,dword ptr [EBX + 0x8]
004c7d6a : JNZ 0x004c7d70
004c7d6c : MOV ESI,EAX
004c7d6e : JMP 0x004c7d89
004c7d70 : CMP byte ptr [EDI + 0x5d],0x0
004c7d74 : MOV ESI,dword ptr [EAX + 0x4]
004c7d77 : JNZ 0x004c7d7c
004c7d79 : MOV dword ptr [EDI + 0x4],ESI
004c7d7c : MOV dword ptr [ESI],EDI
004c7d7e : MOV ECX,dword ptr [EBX + 0x8]
004c7d81 : MOV dword ptr [EDX],ECX
004c7d83 : MOV EDX,dword ptr [EBX + 0x8]
004c7d86 : MOV dword ptr [EDX + 0x4],EAX
004c7d89 : MOV ECX,dword ptr [EBP + 0x8]
004c7d8c : MOV ECX,dword ptr [ECX + 0x4]
004c7d8f : CMP dword ptr [ECX + 0x4],EBX
004c7d92 : JNZ 0x004c7d99
004c7d94 : MOV dword ptr [ECX + 0x4],EAX
004c7d97 : JMP 0x004c7da7
004c7d99 : MOV ECX,dword ptr [EBX + 0x4]
004c7d9c : CMP dword ptr [ECX],EBX
004c7d9e : JNZ 0x004c7da4
004c7da0 : MOV dword ptr [ECX],EAX
004c7da2 : JMP 0x004c7da7
004c7da4 : MOV dword ptr [ECX + 0x8],EAX
004c7da7 : MOV EDX,dword ptr [EBX + 0x4]
004c7daa : MOV dword ptr [EAX + 0x4],EDX
004c7dad : LEA ECX,[EBX + 0x5c]
004c7db0 : ADD EAX,0x5c
004c7db3 : CMP EAX,ECX
004c7db5 : JZ 0x004c7dbf
004c7db7 : MOV BL,byte ptr [ECX]
004c7db9 : MOV DL,byte ptr [EAX]
004c7dbb : MOV byte ptr [EAX],BL
004c7dbd : MOV byte ptr [ECX],DL
004c7dbf : MOV EDX,dword ptr [EBP + 0x8]
004c7dc2 : MOV EAX,dword ptr [EBP + -0x14]
004c7dc5 : MOV BL,0x1
004c7dc7 : CMP byte ptr [EAX + 0x5c],BL
004c7dca : JNZ 0x004c7ed3
004c7dd0 : MOV ECX,dword ptr [EDX + 0x4]
004c7dd3 : CMP EDI,dword ptr [ECX + 0x4]
004c7dd6 : JZ 0x004c7ed0
004c7ddc : LEA ESP,[ESP]
004c7de0 : CMP byte ptr [EDI + 0x5c],BL
004c7de3 : JNZ 0x004c7ed0
004c7de9 : MOV ECX,dword ptr [ESI]
004c7deb : CMP EDI,ECX
004c7ded : JNZ 0x004c7e58
004c7def : MOV ECX,dword ptr [ESI + 0x8]
004c7df2 : CMP byte ptr [ECX + 0x5c],0x0
004c7df6 : JNZ 0x004c7e0d
004c7df8 : MOV byte ptr [ECX + 0x5c],BL
004c7dfb : PUSH EDX
004c7dfc : MOV ECX,ESI
004c7dfe : MOV byte ptr [ESI + 0x5c],0x0
004c7e02 : CALL 0x004c8bd0
004c7e07 : MOV ECX,dword ptr [ESI + 0x8]
004c7e0a : MOV EDX,dword ptr [EBP + 0x8]
004c7e0d : CMP byte ptr [ECX + 0x5d],0x0
004c7e11 : JNZ 0x004c7e8b
004c7e13 : MOV EAX,dword ptr [ECX]
004c7e15 : CMP byte ptr [EAX + 0x5c],BL
004c7e18 : JNZ 0x004c7e22
004c7e1a : MOV EAX,dword ptr [ECX + 0x8]
004c7e1d : CMP byte ptr [EAX + 0x5c],BL
004c7e20 : JZ 0x004c7e87
004c7e22 : MOV EAX,dword ptr [ECX + 0x8]
004c7e25 : CMP byte ptr [EAX + 0x5c],BL
004c7e28 : JNZ 0x004c7e3f
004c7e2a : MOV EAX,dword ptr [ECX]
004c7e2c : MOV byte ptr [EAX + 0x5c],BL
004c7e2f : PUSH EDX
004c7e30 : MOV byte ptr [ECX + 0x5c],0x0
004c7e34 : CALL 0x004c8c50
004c7e39 : MOV ECX,dword ptr [ESI + 0x8]
004c7e3c : MOV EDX,dword ptr [EBP + 0x8]
004c7e3f : MOV AL,byte ptr [ESI + 0x5c]
004c7e42 : MOV byte ptr [ECX + 0x5c],AL
004c7e45 : MOV byte ptr [ESI + 0x5c],BL
004c7e48 : MOV ECX,dword ptr [ECX + 0x8]
004c7e4b : MOV byte ptr [ECX + 0x5c],BL
004c7e4e : PUSH EDX
004c7e4f : MOV ECX,ESI
004c7e51 : CALL 0x004c8bd0
004c7e56 : JMP 0x004c7ed0
004c7e58 : CMP byte ptr [ECX + 0x5c],0x0
004c7e5c : JNZ 0x004c7e72
004c7e5e : MOV byte ptr [ECX + 0x5c],BL
004c7e61 : PUSH EDX
004c7e62 : MOV ECX,ESI
004c7e64 : MOV byte ptr [ESI + 0x5c],0x0
004c7e68 : CALL 0x004c8c50
004c7e6d : MOV ECX,dword ptr [ESI]
004c7e6f : MOV EDX,dword ptr [EBP + 0x8]
004c7e72 : CMP byte ptr [ECX + 0x5d],0x0
004c7e76 : JNZ 0x004c7e8b
004c7e78 : MOV EAX,dword ptr [ECX + 0x8]
004c7e7b : CMP byte ptr [EAX + 0x5c],BL
004c7e7e : JNZ 0x004c7e9e
004c7e80 : MOV EAX,dword ptr [ECX]
004c7e82 : CMP byte ptr [EAX + 0x5c],BL
004c7e85 : JNZ 0x004c7e9e
004c7e87 : MOV byte ptr [ECX + 0x5c],0x0
004c7e8b : MOV ECX,dword ptr [EDX + 0x4]
004c7e8e : MOV EDI,ESI
004c7e90 : MOV ESI,dword ptr [ESI + 0x4]
004c7e93 : CMP EDI,dword ptr [ECX + 0x4]
004c7e96 : JNZ 0x004c7de0
004c7e9c : JMP 0x004c7ed0
004c7e9e : MOV EAX,dword ptr [ECX]
004c7ea0 : CMP byte ptr [EAX + 0x5c],BL
004c7ea3 : JNZ 0x004c7eba
004c7ea5 : MOV EAX,dword ptr [ECX + 0x8]
004c7ea8 : MOV byte ptr [EAX + 0x5c],BL
004c7eab : PUSH EDX
004c7eac : MOV byte ptr [ECX + 0x5c],0x0
004c7eb0 : CALL 0x004c8bd0
004c7eb5 : MOV ECX,dword ptr [ESI]
004c7eb7 : MOV EDX,dword ptr [EBP + 0x8]
004c7eba : MOV AL,byte ptr [ESI + 0x5c]
004c7ebd : MOV byte ptr [ECX + 0x5c],AL
004c7ec0 : MOV byte ptr [ESI + 0x5c],BL
004c7ec3 : MOV ECX,dword ptr [ECX]
004c7ec5 : MOV byte ptr [ECX + 0x5c],BL
004c7ec8 : PUSH EDX
004c7ec9 : MOV ECX,ESI
004c7ecb : CALL 0x004c8c50
004c7ed0 : MOV byte ptr [EDI + 0x5c],BL
004c7ed3 : MOV dword ptr [EBP + -0x4],0xffffffff
004c7eda : MOV EDX,dword ptr [EBP + -0x14]
004c7edd : ADD EDX,0xc
004c7ee0 : PUSH EDX
004c7ee1 : CALL 0x0044cb00
004c7ee6 : MOV ECX,dword ptr [EBP + -0x14]
004c7ee9 : CALL 0x006f04e0
