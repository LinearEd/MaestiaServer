PROGRAM  : Maestia.exe
FUNCTION : FUN_005bfc20
ENTRY    : 005bfc20
BODY     : [[005bfc20, 005bfd29]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005bfc20(int param_1)

{
  byte *pbVar1;
  char cVar2;
  int iVar3;
  float10 fVar4;
  float10 fVar5;
  float10 fVar6;
  undefined4 uVar7;
  float local_c;
  
  cVar2 = FUN_00526030(0x29);
  if (cVar2 != '\0') {
    if (((*(int *)(param_1 + 8) != 0) && (*(int *)(param_1 + 8) != 0x10)) &&
       (1 < *(int *)(param_1 + 0x1c))) {
      uVar7 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(0);
      fVar4 = (float10)FUN_00527730(uVar7);
      uVar7 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(1);
      fVar5 = (float10)FUN_00527730(uVar7);
      if (*(int *)(param_1 + 0x1c) < 3) {
        local_c = 0.0;
      }
      else {
        uVar7 = *(undefined4 *)(param_1 + 0x18);
        FUN_00526260(2);
        fVar6 = (float10)FUN_00527730(uVar7);
        local_c = (float)fVar6;
      }
      iVar3 = FUN_005ef4f0((float)fVar4 * 20.0,(float)fVar5 * 20.0,local_c * 20.0);
      pbVar1 = *(byte **)(param_1 + 4);
      if (4 < *pbVar1) {
        FUN_00526400();
      }
      *pbVar1 = 3;
      *(double *)(pbVar1 + 4) = (double)iVar3;
    }
    return;
  }
  FUN_00526050("TextSnapshot",0,0);
  return;
}



============================================================
DISASSEMBLY
============================================================
005bfc20 : SUB ESP,0xc
005bfc23 : PUSH ESI
005bfc24 : MOV ESI,dword ptr [ESP + 0x14]
005bfc28 : PUSH 0x29
005bfc2a : MOV ECX,ESI
005bfc2c : CALL 0x00526030
005bfc31 : TEST AL,AL
005bfc33 : JNZ 0x005bfc4a
005bfc35 : PUSH 0x0
005bfc37 : PUSH 0x0
005bfc39 : PUSH 0xb8fd10
005bfc3e : MOV ECX,ESI
005bfc40 : CALL 0x00526050
005bfc45 : POP ESI
005bfc46 : ADD ESP,0xc
005bfc49 : RET
005bfc4a : MOV EAX,dword ptr [ESI + 0x8]
005bfc4d : TEST EAX,EAX
005bfc4f : JZ 0x005bfd25
005bfc55 : PUSH EDI
005bfc56 : LEA EDI,[EAX + -0x10]
005bfc59 : TEST EDI,EDI
005bfc5b : JZ 0x005bfd24
005bfc61 : CMP dword ptr [ESI + 0x1c],0x2
005bfc65 : JL 0x005bfd24
005bfc6b : MOV EAX,dword ptr [ESI + 0x18]
005bfc6e : PUSH EAX
005bfc6f : PUSH 0x0
005bfc71 : MOV ECX,ESI
005bfc73 : CALL 0x00526260
005bfc78 : MOV ECX,EAX
005bfc7a : CALL 0x00527730
005bfc7f : FSTP float ptr [ESP + 0x10]
005bfc83 : MOV ECX,dword ptr [ESI + 0x18]
005bfc86 : PUSH ECX
005bfc87 : PUSH 0x1
005bfc89 : MOV ECX,ESI
005bfc8b : CALL 0x00526260
005bfc90 : MOV ECX,EAX
005bfc92 : CALL 0x00527730
005bfc97 : FSTP float ptr [ESP + 0xc]
005bfc9b : CMP dword ptr [ESI + 0x1c],0x2
005bfc9f : JLE 0x005bfcbb
005bfca1 : MOV EDX,dword ptr [ESI + 0x18]
005bfca4 : PUSH EDX
005bfca5 : PUSH 0x2
005bfca7 : MOV ECX,ESI
005bfca9 : CALL 0x00526260
005bfcae : MOV ECX,EAX
005bfcb0 : CALL 0x00527730
005bfcb5 : FSTP float ptr [ESP + 0x8]
005bfcb9 : JMP 0x005bfcc1
005bfcbb : FLDZ
005bfcbd : FSTP float ptr [ESP + 0x8]
005bfcc1 : FLD float ptr [ESP + 0x8]
005bfcc5 : SUB ESP,0xc
005bfcc8 : FLD double ptr [0x00b86058]
005bfcce : LEA ECX,[EDI + 0x30]
005bfcd1 : FMUL ST1
005bfcd3 : FXCH
005bfcd5 : FSTP float ptr [ESP + 0x14]
005bfcd9 : FLD float ptr [ESP + 0x14]
005bfcdd : FSTP float ptr [ESP + 0x8]
005bfce1 : FLD float ptr [ESP + 0x18]
005bfce5 : FMUL ST1
005bfce7 : FSTP float ptr [ESP + 0x18]
005bfceb : FLD float ptr [ESP + 0x18]
005bfcef : FSTP float ptr [ESP + 0x4]
005bfcf3 : FMUL float ptr [ESP + 0x1c]
005bfcf7 : FSTP float ptr [ESP + 0x1c]
005bfcfb : FLD float ptr [ESP + 0x1c]
005bfcff : FSTP float ptr [ESP]
005bfd02 : CALL 0x005ef4f0
005bfd07 : MOV ESI,dword ptr [ESI + 0x4]
005bfd0a : CMP byte ptr [ESI],0x5
005bfd0d : MOV dword ptr [ESP + 0x10],EAX
005bfd11 : JC 0x005bfd1a
005bfd13 : MOV ECX,ESI
005bfd15 : CALL 0x00526400
005bfd1a : FILD dword ptr [ESP + 0x10]
005bfd1e : MOV byte ptr [ESI],0x3
005bfd21 : FSTP double ptr [ESI + 0x4]
005bfd24 : POP EDI
005bfd25 : POP ESI
005bfd26 : ADD ESP,0xc
005bfd29 : RET
