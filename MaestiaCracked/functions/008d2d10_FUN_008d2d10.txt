PROGRAM  : Maestia.exe
FUNCTION : FUN_008d2d10
ENTRY    : 008d2d10
BODY     : [[008d2d10, 008d2ec2]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_008d2d10(int param_1)

{
  int iVar1;
  undefined4 uVar2;
  char cVar3;
  int iVar4;
  float10 extraout_ST0;
  float fVar5;
  float fVar6;
  float fVar7;
  
  iVar4 = DAT_00da93ec;
  *(undefined4 *)(param_1 + 0xe4) = 0;
  if (iVar4 == 0) {
    return 0;
  }
  iVar1 = *(int *)(param_1 + 0xb8);
  if (*(char *)(iVar1 + 5) == '\0') {
    iVar4 = *(int *)(*(int *)(iVar4 + 0xac) + 1000);
    fVar7 = *(float *)(iVar1 + 0x28) - *(float *)(iVar4 + 0x70);
    fVar6 = *(float *)(iVar1 + 0x24) - *(float *)(iVar4 + 0x6c);
    fVar5 = *(float *)(iVar1 + 0x20) - *(float *)(iVar4 + 0x68);
    FUN_0040f460(fVar7 * fVar7 + fVar6 * fVar6 + fVar5 * fVar5);
    if (((float10)*(float *)(iVar1 + 0x1c) < extraout_ST0) && (*(char *)(iVar1 + 0x2f) != '\0')) {
      return 0;
    }
    uVar2 = *(undefined4 *)(param_1 + 0xf0);
    iVar4 = FUN_00a1a840(uVar2);
    if ((iVar4 == 0) && (iVar4 = FUN_00a1a6d0(uVar2), iVar4 == 0)) {
      iVar4 = FUN_00a1a780(uVar2);
    }
    if (((iVar4 != 0) ||
        ((iVar4 = FUN_00a25f10(), iVar4 != -1 && (iVar4 = FUN_00a1ba80(), iVar4 != 0)))) &&
       (*(int *)(iVar4 + 0xb0) == *(int *)(iVar4 + 0xa4))) {
      FUN_00404730();
      cVar3 = FUN_0086dad0();
      if ((cVar3 == '\0') && (*(char *)(iVar4 + 0x3ad) != '\0')) {
        FUN_00a364b0(*(undefined4 *)(iVar4 + 4),0);
        FUN_00a0d390(DAT_017247d4,5);
        *(undefined4 *)(param_1 + 0xf8) = 0;
        if (*(int *)(*(int *)(param_1 + 0xb8) + 8) == 0) {
          FUN_00a2db00(DAT_00da93ec,*(int *)(iVar4 + 1000) + 0x68,0,0);
        }
        FUN_008d0de0();
        return 1;
      }
    }
    FUN_008d24e0(param_1);
    *(int *)(param_1 + 0xf8) = *(int *)(param_1 + 0xf8) + 1;
    return 0;
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
008d2d10 : PUSH EBP
008d2d11 : MOV EBP,ESP
008d2d13 : PUSH EBX
008d2d14 : MOV EBX,dword ptr [EBP + 0x8]
008d2d17 : PUSH ESI
008d2d18 : PUSH EDI
008d2d19 : MOV EDI,dword ptr [0x00da93ec]
008d2d1f : MOV dword ptr [EBX + 0xe4],0x0
008d2d29 : TEST EDI,EDI
008d2d2b : JZ 0x008d2eba
008d2d31 : MOV ESI,dword ptr [EBX + 0xb8]
008d2d37 : CMP byte ptr [ESI + 0x5],0x0
008d2d3b : JNZ 0x008d2eba
008d2d41 : MOV EAX,dword ptr [EDI + 0xac]
008d2d47 : MOV EAX,dword ptr [EAX + 0x3e8]
008d2d4d : MOVSS XMM2,dword ptr [ESI + 0x28]
008d2d52 : SUBSS XMM2,dword ptr [EAX + 0x70]
008d2d57 : MOVSS XMM1,dword ptr [ESI + 0x24]
008d2d5c : SUBSS XMM1,dword ptr [EAX + 0x6c]
008d2d61 : MOVSS XMM0,dword ptr [ESI + 0x20]
008d2d66 : SUBSS XMM0,dword ptr [EAX + 0x68]
008d2d6b : ADD EAX,0x68
008d2d6e : MOVAPS XMM3,XMM2
008d2d71 : MULSS XMM3,XMM2
008d2d75 : MOVAPS XMM2,XMM1
008d2d78 : MULSS XMM2,XMM1
008d2d7c : MOVAPS XMM1,XMM0
008d2d7f : ADDSS XMM3,XMM2
008d2d83 : MULSS XMM1,XMM0
008d2d87 : PUSH ECX
008d2d88 : ADDSS XMM3,XMM1
008d2d8c : MOVSS dword ptr [ESP],XMM3
008d2d91 : CALL 0x0040f460
008d2d96 : FLD float ptr [ESI + 0x1c]
008d2d99 : FXCH
008d2d9b : ADD ESP,0x4
008d2d9e : FCOMIP ST0,ST1
008d2da0 : FSTP ST0
008d2da2 : JBE 0x008d2dae
008d2da4 : CMP byte ptr [ESI + 0x2f],0x0
008d2da8 : JNZ 0x008d2eba
008d2dae : MOV ESI,dword ptr [EBX + 0xf0]
008d2db4 : PUSH ESI
008d2db5 : MOV ECX,EDI
008d2db7 : CALL 0x00a1a840
008d2dbc : TEST EAX,EAX
008d2dbe : JNZ 0x008d2dd4
008d2dc0 : PUSH ESI
008d2dc1 : MOV ECX,EDI
008d2dc3 : CALL 0x00a1a6d0
008d2dc8 : TEST EAX,EAX
008d2dca : JNZ 0x008d2dd4
008d2dcc : PUSH ESI
008d2dcd : MOV ECX,EDI
008d2dcf : CALL 0x00a1a780
008d2dd4 : MOV EDI,EAX
008d2dd6 : TEST EAX,EAX
008d2dd8 : JNZ 0x008d2e05
008d2dda : MOV ECX,dword ptr [0x00da93ec]
008d2de0 : CALL 0x00a25f10
008d2de5 : CMP EAX,-0x1
008d2de8 : JZ 0x008d2eae
008d2dee : MOV EDI,dword ptr [0x00da93ec]
008d2df4 : MOV ESI,EAX
008d2df6 : CALL 0x00a1ba80
008d2dfb : MOV EDI,EAX
008d2dfd : TEST EDI,EDI
008d2dff : JZ 0x008d2eae
008d2e05 : MOV ECX,dword ptr [EDI + 0xb0]
008d2e0b : CMP ECX,dword ptr [EDI + 0xa4]
008d2e11 : JNZ 0x008d2eae
008d2e17 : MOV ECX,EDI
008d2e19 : CALL 0x00404730
008d2e1e : MOV EDX,dword ptr [0x0172491c]
008d2e24 : MOV ECX,dword ptr [EDX + 0x17c]
008d2e2a : MOV ESI,EAX
008d2e2c : CALL 0x0086dad0
008d2e31 : TEST AL,AL
008d2e33 : JNZ 0x008d2eae
008d2e35 : CMP byte ptr [EDI + 0x3ad],AL
008d2e3b : JZ 0x008d2eae
008d2e3d : MOV EAX,dword ptr [EDI + 0x4]
008d2e40 : MOV ECX,dword ptr [0x00da93ec]
008d2e46 : PUSH 0x0
008d2e48 : PUSH EAX
008d2e49 : CALL 0x00a364b0
008d2e4e : MOV ECX,dword ptr [0x017247d4]
008d2e54 : PUSH 0x5
008d2e56 : PUSH ECX
008d2e57 : MOV ECX,dword ptr [EDI + 0x4]
008d2e5a : CALL 0x00a0d390
008d2e5f : MOV EDX,dword ptr [EBX + 0xb8]
008d2e65 : MOV dword ptr [EBX + 0xf8],0x0
008d2e6f : CMP dword ptr [EDX + 0x8],0x0
008d2e73 : JNZ 0x008d2e9e
008d2e75 : MOV EAX,dword ptr [EDI + 0x3e8]
008d2e7b : MOV ECX,dword ptr [0x00da93ec]
008d2e81 : MOV EDX,dword ptr [ECX + 0xac]
008d2e87 : PUSH 0x0
008d2e89 : ADD EAX,0x68
008d2e8c : PUSH 0x0
008d2e8e : PUSH EAX
008d2e8f : MOV EAX,dword ptr [EDX + 0x3e8]
008d2e95 : ADD EAX,0x68
008d2e98 : PUSH ECX
008d2e99 : CALL 0x00a2db00
008d2e9e : MOV EAX,EBX
008d2ea0 : CALL 0x008d0de0
008d2ea5 : POP EDI
008d2ea6 : POP ESI
008d2ea7 : MOV AL,0x1
008d2ea9 : POP EBX
008d2eaa : POP EBP
008d2eab : RET 0x4
008d2eae : PUSH EBX
008d2eaf : CALL 0x008d24e0
008d2eb4 : INC dword ptr [EBX + 0xf8]
008d2eba : POP EDI
008d2ebb : POP ESI
008d2ebc : XOR AL,AL
008d2ebe : POP EBX
008d2ebf : POP EBP
008d2ec0 : RET 0x4
