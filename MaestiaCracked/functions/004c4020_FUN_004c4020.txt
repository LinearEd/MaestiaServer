PROGRAM  : Maestia.exe
FUNCTION : FUN_004c4020
ENTRY    : 004c4020
BODY     : [[004c4020, 004c408c] [004c4090, 004c40db]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004c4020(int *param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int unaff_ESI;
  undefined4 *unaff_EDI;
  
  piVar2 = *(int **)(unaff_ESI + 4);
  if ((param_1 == (int *)*piVar2) && (param_2 == piVar2)) {
    FUN_0045cd30(piVar2[1]);
    *(int *)(*(int *)(unaff_ESI + 4) + 4) = *(int *)(unaff_ESI + 4);
    *(undefined4 *)(unaff_ESI + 8) = 0;
    *(undefined4 *)*(undefined4 *)(unaff_ESI + 4) = *(undefined4 *)(unaff_ESI + 4);
    *(int *)(*(int *)(unaff_ESI + 4) + 8) = *(int *)(unaff_ESI + 4);
    *unaff_EDI = **(undefined4 **)(unaff_ESI + 4);
    return;
  }
  while (param_1 != param_2) {
    if (*(char *)((int)param_1 + 0x11) == '\0') {
      piVar2 = (int *)param_1[2];
      if (*(char *)((int)piVar2 + 0x11) == '\0') {
        cVar1 = *(char *)(*piVar2 + 0x11);
        param_1 = piVar2;
        piVar2 = (int *)*piVar2;
        while (cVar1 == '\0') {
          cVar1 = *(char *)(*piVar2 + 0x11);
          param_1 = piVar2;
          piVar2 = (int *)*piVar2;
        }
      }
      else {
        cVar1 = *(char *)(param_1[1] + 0x11);
        piVar3 = (int *)param_1[1];
        piVar2 = param_1;
        while ((param_1 = piVar3, cVar1 == '\0' && (piVar2 == (int *)param_1[2]))) {
          cVar1 = *(char *)(param_1[1] + 0x11);
          piVar3 = (int *)param_1[1];
          piVar2 = param_1;
        }
      }
    }
    FUN_004c40e0();
  }
  *unaff_EDI = param_1;
  return;
}



============================================================
DISASSEMBLY
============================================================
004c4020 : PUSH EBP
004c4021 : MOV EBP,ESP
004c4023 : AND ESP,0xfffffff8
004c4026 : MOV EAX,dword ptr [ESI + 0x4]
004c4029 : MOV ECX,dword ptr [EBP + 0x8]
004c402c : MOV EDX,dword ptr [EBP + 0xc]
004c402f : SUB ESP,0x8
004c4032 : CMP ECX,dword ptr [EAX]
004c4034 : JNZ 0x004c406c
004c4036 : CMP EDX,EAX
004c4038 : JNZ 0x004c406c
004c403a : MOV EAX,dword ptr [EAX + 0x4]
004c403d : PUSH EAX
004c403e : MOV ECX,ESI
004c4040 : CALL 0x0045cd30
004c4045 : MOV EAX,dword ptr [ESI + 0x4]
004c4048 : MOV dword ptr [EAX + 0x4],EAX
004c404b : MOV EAX,dword ptr [ESI + 0x4]
004c404e : MOV dword ptr [ESI + 0x8],0x0
004c4055 : MOV dword ptr [EAX],EAX
004c4057 : MOV EAX,dword ptr [ESI + 0x4]
004c405a : MOV dword ptr [EAX + 0x8],EAX
004c405d : MOV ECX,dword ptr [ESI + 0x4]
004c4060 : MOV EDX,dword ptr [ECX]
004c4062 : MOV dword ptr [EDI],EDX
004c4064 : MOV EAX,EDI
004c4066 : MOV ESP,EBP
004c4068 : POP EBP
004c4069 : RET 0x8
004c406c : CMP ECX,EDX
004c406e : JZ 0x004c40d2
004c4070 : CMP byte ptr [ECX + 0x11],0x0
004c4074 : MOV EDX,ECX
004c4076 : JNZ 0x004c40be
004c4078 : MOV EAX,dword ptr [ECX + 0x8]
004c407b : CMP byte ptr [EAX + 0x11],0x0
004c407f : JNZ 0x004c409f
004c4081 : MOV ECX,EAX
004c4083 : MOV EAX,dword ptr [ECX]
004c4085 : CMP byte ptr [EAX + 0x11],0x0
004c4089 : JNZ 0x004c409a
004c408b : JMP 0x004c4090
004c4090 : MOV ECX,EAX
004c4092 : MOV EAX,dword ptr [ECX]
004c4094 : CMP byte ptr [EAX + 0x11],0x0
004c4098 : JZ 0x004c4090
004c409a : MOV dword ptr [EBP + 0x8],ECX
004c409d : JMP 0x004c40be
004c409f : MOV EAX,dword ptr [ECX + 0x4]
004c40a2 : CMP byte ptr [EAX + 0x11],0x0
004c40a6 : JNZ 0x004c40bb
004c40a8 : CMP ECX,dword ptr [EAX + 0x8]
004c40ab : JNZ 0x004c40bb
004c40ad : MOV ECX,EAX
004c40af : MOV dword ptr [EBP + 0x8],ECX
004c40b2 : MOV EAX,dword ptr [EAX + 0x4]
004c40b5 : CMP byte ptr [EAX + 0x11],0x0
004c40b9 : JZ 0x004c40a8
004c40bb : MOV dword ptr [EBP + 0x8],EAX
004c40be : PUSH EDX
004c40bf : LEA EAX,[ESP + 0x8]
004c40c3 : PUSH EAX
004c40c4 : PUSH ESI
004c40c5 : CALL 0x004c40e0
004c40ca : MOV ECX,dword ptr [EBP + 0x8]
004c40cd : CMP ECX,dword ptr [EBP + 0xc]
004c40d0 : JNZ 0x004c4070
004c40d2 : MOV dword ptr [EDI],ECX
004c40d4 : MOV EAX,EDI
004c40d6 : MOV ESP,EBP
004c40d8 : POP EBP
004c40d9 : RET 0x8
