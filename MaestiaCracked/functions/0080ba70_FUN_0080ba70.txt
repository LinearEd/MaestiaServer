PROGRAM  : Maestia.exe
FUNCTION : FUN_0080ba70
ENTRY    : 0080ba70
BODY     : [[0080ba70, 0080bada]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0080ba70(void)

{
  int *piVar1;
  undefined4 *puVar2;
  int in_ECX;
  
  if (*(char *)(in_ECX + 0x32) == '\x01') {
    piVar1 = *(int **)(*(int *)(in_ECX + 4) + 0x128);
    if (*(char *)((int)piVar1 + 0x59) == '\0') {
      piVar1[0x13] = 0;
      piVar1[0x10] = -1;
      *(undefined2 *)(piVar1 + 0x11) = 0xffff;
      *(undefined2 *)((int)piVar1 + 0x46) = 0xffff;
      *(undefined2 *)(piVar1 + 0x12) = 0xffff;
    }
    (**(code **)(*piVar1 + 0x20))();
    FUN_008f76d0();
    if ((*DAT_00da9894 != 0) &&
       (puVar2 = *(undefined4 **)(*DAT_00da9894 + 0x114), puVar2 != (undefined4 *)0x0)) {
      (**(code **)*puVar2)("CloseRareAvata");
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0080ba70 : PUSH ESI
0080ba71 : MOV ESI,ECX
0080ba73 : CMP byte ptr [ESI + 0x32],0x1
0080ba77 : JNZ 0x0080bad9
0080ba79 : MOV EAX,dword ptr [ESI + 0x4]
0080ba7c : MOV ECX,dword ptr [EAX + 0x128]
0080ba82 : CMP byte ptr [ECX + 0x59],0x0
0080ba86 : JNZ 0x0080baa9
0080ba88 : MOV EDX,0xffff
0080ba8d : MOV EAX,EDX
0080ba8f : MOV dword ptr [ECX + 0x4c],0x0
0080ba96 : MOV dword ptr [ECX + 0x40],0xffffffff
0080ba9d : MOV word ptr [ECX + 0x44],DX
0080baa1 : MOV word ptr [ECX + 0x46],AX
0080baa5 : MOV word ptr [ECX + 0x48],DX
0080baa9 : MOV EAX,dword ptr [ECX]
0080baab : MOV EDX,dword ptr [EAX + 0x20]
0080baae : CALL EDX
0080bab0 : MOV ECX,ESI
0080bab2 : CALL 0x008f76d0
0080bab7 : MOV EAX,[0x00da9894]
0080babc : MOV EAX,dword ptr [EAX]
0080babe : TEST EAX,EAX
0080bac0 : JZ 0x0080bad9
0080bac2 : MOV EAX,dword ptr [EAX + 0x114]
0080bac8 : TEST EAX,EAX
0080baca : JZ 0x0080bad9
0080bacc : MOV EDX,dword ptr [EAX]
0080bace : MOV ECX,EAX
0080bad0 : MOV EAX,dword ptr [EDX]
0080bad2 : PUSH 0xc2d460
0080bad7 : CALL EAX
0080bad9 : POP ESI
0080bada : RET
