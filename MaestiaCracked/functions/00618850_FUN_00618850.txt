PROGRAM  : Maestia.exe
FUNCTION : FUN_00618850
ENTRY    : 00618850
BODY     : [[00618850, 006188d8] [006188e0, 006189ed]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00618850(int param_1,undefined4 param_2)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)(*(int *)(param_1 + 0x2c0) + 0x90);
  if ((*(byte *)(param_1 + 0x100) & 2) != 0) {
    if (*(code **)(param_1 + 0x294) == (code *)0x0) {
      if (*(code **)(param_1 + 0x288) != (code *)0x0) {
        (**(code **)(param_1 + 0x288))(param_1,param_2);
      }
    }
    else {
      (**(code **)(param_1 + 0x294))(param_1,param_2);
    }
    if (*(code **)(param_1 + 0x274) != (code *)0x0) {
      (**(code **)(param_1 + 0x274))(param_1,param_2);
    }
    if ((*(code **)(param_1 + 0x28c) != (code *)0x0) && (*(int *)(iVar1 + 0x28) != 0)) {
      (**(code **)(param_1 + 0x28c))(param_1);
    }
    iVar2 = 0;
    if (0 < *(int *)(iVar1 + 0x28)) {
      do {
        FUN_00622720(*(undefined4 *)(param_1 + 0x104),
                     *(undefined4 *)(*(int *)(iVar1 + 0x2c) + iVar2 * 4));
        *(undefined4 *)(*(int *)(*(int *)(iVar1 + 0x2c) + iVar2 * 4) + 0x7c) = 0;
        FUN_00622460(*(undefined4 *)(*(int *)(iVar1 + 0x2c) + iVar2 * 4));
        iVar2 = iVar2 + 1;
      } while (iVar2 < *(int *)(iVar1 + 0x28));
    }
    if (*(int *)(*(int *)(param_1 + 0x2c0) + 100) != 0) {
      FUN_00618330(param_1);
    }
    if ((*(uint *)(*(int *)(param_1 + 0x164) + 0x68) & 0x200) == 0) {
      *(undefined4 *)(param_1 + 0x2c4) = *(undefined4 *)(param_1 + 0x110);
      *(undefined4 *)(param_1 + 0x2c8) = *(undefined4 *)(param_1 + 0x114);
      *(undefined4 *)(param_1 + 0x2cc) = *(undefined4 *)(param_1 + 0x118);
      *(undefined4 *)(param_1 + 0x2d0) = *(undefined4 *)(param_1 + 0x11c);
      *(undefined4 *)(param_1 + 0x2d4) = *(undefined4 *)(param_1 + 0x120);
      *(undefined4 *)(param_1 + 0x2d8) = *(undefined4 *)(param_1 + 0x124);
      *(undefined4 *)(param_1 + 0x2dc) = *(undefined4 *)(param_1 + 0x128);
      *(undefined4 *)(param_1 + 0x2e0) = *(undefined4 *)(param_1 + 300);
      *(undefined4 *)(param_1 + 0x2e4) = *(undefined4 *)(param_1 + 0x130);
      *(undefined4 *)(param_1 + 0x2e8) = *(undefined4 *)(param_1 + 0x134);
      *(undefined4 *)(param_1 + 0x2ec) = *(undefined4 *)(param_1 + 0x138);
      *(undefined4 *)(param_1 + 0x2f0) = *(undefined4 *)(param_1 + 0x13c);
      *(undefined4 *)(param_1 + 0x2f4) = *(undefined4 *)(param_1 + 0x140);
      *(undefined4 *)(param_1 + 0x2f8) = *(undefined4 *)(param_1 + 0x144);
      *(undefined4 *)(param_1 + 0x2fc) = *(undefined4 *)(param_1 + 0x148);
      *(undefined4 *)(param_1 + 0x300) = *(undefined4 *)(param_1 + 0x14c);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00618850 : PUSH EBX
00618851 : PUSH EDI
00618852 : MOV EDI,dword ptr [ESP + 0xc]
00618856 : TEST byte ptr [EDI + 0x100],0x2
0061885d : MOV EAX,dword ptr [EDI + 0x2c0]
00618863 : MOV EBX,dword ptr [EAX + 0x90]
00618869 : JZ 0x006189eb
0061886f : MOV EAX,dword ptr [EDI + 0x294]
00618875 : FLD float ptr [ESP + 0x10]
00618879 : TEST EAX,EAX
0061887b : JZ 0x00618889
0061887d : PUSH ECX
0061887e : FSTP float ptr [ESP]
00618881 : PUSH EDI
00618882 : CALL EAX
00618884 : ADD ESP,0x8
00618887 : JMP 0x006188a1
00618889 : MOV EAX,dword ptr [EDI + 0x288]
0061888f : TEST EAX,EAX
00618891 : JZ 0x0061889f
00618893 : PUSH ECX
00618894 : FSTP float ptr [ESP]
00618897 : PUSH EDI
00618898 : CALL EAX
0061889a : ADD ESP,0x8
0061889d : JMP 0x006188a1
0061889f : FSTP ST0
006188a1 : MOV EAX,dword ptr [EDI + 0x274]
006188a7 : TEST EAX,EAX
006188a9 : JZ 0x006188b9
006188ab : FLD float ptr [ESP + 0x10]
006188af : PUSH ECX
006188b0 : FSTP float ptr [ESP]
006188b3 : PUSH EDI
006188b4 : CALL EAX
006188b6 : ADD ESP,0x8
006188b9 : MOV EAX,dword ptr [EDI + 0x28c]
006188bf : TEST EAX,EAX
006188c1 : JZ 0x006188cf
006188c3 : CMP dword ptr [EBX + 0x28],0x0
006188c7 : JZ 0x006188cf
006188c9 : PUSH EDI
006188ca : CALL EAX
006188cc : ADD ESP,0x4
006188cf : PUSH ESI
006188d0 : XOR ESI,ESI
006188d2 : CMP dword ptr [EBX + 0x28],ESI
006188d5 : JLE 0x00618915
006188d7 : JMP 0x006188e0
006188e0 : MOV ECX,dword ptr [EBX + 0x2c]
006188e3 : MOV EDX,dword ptr [ECX + ESI*0x4]
006188e6 : MOV EAX,dword ptr [EDI + 0x104]
006188ec : PUSH EDX
006188ed : PUSH EAX
006188ee : CALL 0x00622720
006188f3 : MOV ECX,dword ptr [EBX + 0x2c]
006188f6 : MOV EDX,dword ptr [ECX + ESI*0x4]
006188f9 : MOV dword ptr [EDX + 0x7c],0x0
00618900 : MOV EAX,dword ptr [EBX + 0x2c]
00618903 : MOV ECX,dword ptr [EAX + ESI*0x4]
00618906 : PUSH ECX
00618907 : CALL 0x00622460
0061890c : INC ESI
0061890d : ADD ESP,0xc
00618910 : CMP ESI,dword ptr [EBX + 0x28]
00618913 : JL 0x006188e0
00618915 : MOV EDX,dword ptr [EDI + 0x2c0]
0061891b : CMP dword ptr [EDX + 0x64],0x0
0061891f : POP ESI
00618920 : JZ 0x0061892b
00618922 : PUSH EDI
00618923 : CALL 0x00618330
00618928 : ADD ESP,0x4
0061892b : MOV EAX,dword ptr [EDI + 0x164]
00618931 : TEST dword ptr [EAX + 0x68],0x200
00618938 : JNZ 0x006189eb
0061893e : FLD float ptr [EDI + 0x110]
00618944 : LEA ECX,[EDI + 0x110]
0061894a : FSTP float ptr [EDI + 0x2c4]
00618950 : ADD ECX,0x4
00618953 : FLD float ptr [ECX]
00618955 : ADD ECX,0x4
00618958 : ADD ECX,0x4
0061895b : LEA EAX,[EDI + 0x2c4]
00618961 : FSTP float ptr [EAX + 0x4]
00618964 : ADD EAX,0x4
00618967 : FLD float ptr [ECX + -0x4]
0061896a : ADD EAX,0x4
0061896d : FSTP float ptr [EAX]
0061896f : ADD EAX,0x4
00618972 : FLD float ptr [ECX]
00618974 : ADD ECX,0x4
00618977 : FSTP float ptr [EAX]
00618979 : ADD EAX,0x4
0061897c : FLD float ptr [ECX]
0061897e : ADD ECX,0x4
00618981 : FSTP float ptr [EAX]
00618983 : ADD EAX,0x4
00618986 : FLD float ptr [ECX]
00618988 : ADD ECX,0x4
0061898b : FSTP float ptr [EAX]
0061898d : ADD EAX,0x4
00618990 : FLD float ptr [ECX]
00618992 : ADD ECX,0x4
00618995 : FSTP float ptr [EAX]
00618997 : ADD EAX,0x4
0061899a : FLD float ptr [ECX]
0061899c : ADD ECX,0x4
0061899f : FSTP float ptr [EAX]
006189a1 : ADD EAX,0x4
006189a4 : FLD float ptr [ECX]
006189a6 : ADD ECX,0x4
006189a9 : FSTP float ptr [EAX]
006189ab : ADD EAX,0x4
006189ae : FLD float ptr [ECX]
006189b0 : ADD ECX,0x4
006189b3 : FSTP float ptr [EAX]
006189b5 : ADD EAX,0x4
006189b8 : FLD float ptr [ECX]
006189ba : ADD ECX,0x4
006189bd : FSTP float ptr [EAX]
006189bf : ADD EAX,0x4
006189c2 : FLD float ptr [ECX]
006189c4 : ADD ECX,0x4
006189c7 : FSTP float ptr [EAX]
006189c9 : ADD EAX,0x4
006189cc : FLD float ptr [ECX]
006189ce : ADD ECX,0x4
006189d1 : FSTP float ptr [EAX]
006189d3 : ADD EAX,0x4
006189d6 : FLD float ptr [ECX]
006189d8 : ADD EAX,0x4
006189db : FSTP float ptr [EAX + -0x4]
006189de : ADD ECX,0x4
006189e1 : FLD float ptr [ECX]
006189e3 : FSTP float ptr [EAX]
006189e5 : FLD float ptr [ECX + 0x4]
006189e8 : FSTP float ptr [EAX + 0x4]
006189eb : POP EDI
006189ec : POP EBX
006189ed : RET
