PROGRAM  : Maestia.exe
FUNCTION : FUN_007dd2d0
ENTRY    : 007dd2d0
BODY     : [[007dd2d0, 007dd3b5] [007dd3bc, 007dd455] [007dd460, 007dd495] [007dd49c, 007dd4af]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007dd2d0(void)

{
  undefined4 *puVar1;
  float fVar2;
  DWORD DVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  int *piVar7;
  int unaff_EDI;
  
  DVar3 = GetTickCount();
  iVar5 = DVar3 - *(int *)(unaff_EDI + 0x150);
  fVar2 = (float)iVar5;
  if (iVar5 < 0) {
    fVar2 = fVar2 + 4.2949673e+09;
  }
  *(DWORD *)(unaff_EDI + 0x150) = DVar3;
  if (*(char *)(unaff_EDI + 0x15c) != '\0') {
    *(undefined1 *)(unaff_EDI + 0x15c) = 0;
    InterlockedIncrement((LONG *)(unaff_EDI + 0x154));
  }
  piVar6 = (int *)**(int **)(unaff_EDI + 0x13c);
  if (piVar6 != *(int **)(unaff_EDI + 0x13c)) {
    do {
      FUN_007dc020(fVar2 * 0.001,0x3f800000);
      if (*(char *)(piVar6[2] + 0xe0) == '\0') {
        piVar7 = (int *)*piVar6;
      }
      else {
        *(undefined1 *)(unaff_EDI + 0x15d) = 1;
        DVar3 = GetTickCount();
        *(DWORD *)(piVar6[2] + 0x124) = DVar3;
        iVar5 = *(int *)(unaff_EDI + 0x148);
        iVar4 = FUN_004c09c0(iVar5,*(undefined4 *)(iVar5 + 4),piVar6 + 2);
        FUN_0047a1b0();
        *(int *)(iVar5 + 4) = iVar4;
        **(int **)(iVar4 + 4) = iVar4;
        piVar7 = (int *)*piVar6;
        if (piVar6 != *(int **)(unaff_EDI + 0x13c)) {
          *(int **)piVar6[1] = piVar7;
          *(int *)(*piVar6 + 4) = piVar6[1];
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
      }
      piVar6 = piVar7;
    } while (piVar7 != *(int **)(unaff_EDI + 0x13c));
  }
  piVar6 = (int *)**(int **)(unaff_EDI + 0x130);
  if (piVar6 != *(int **)(unaff_EDI + 0x130)) {
    do {
      FUN_007dc020(fVar2 * 0.001,*(undefined4 *)(unaff_EDI + 0x160));
      piVar6 = (int *)*piVar6;
    } while (piVar6 != (int *)*(int *)(unaff_EDI + 0x130));
  }
  if (*(char *)(unaff_EDI + 0x15d) != '\0') {
    *(undefined1 *)(unaff_EDI + 0x15d) = 0;
    InterlockedIncrement((LONG *)(unaff_EDI + 0x158));
  }
  DVar3 = GetTickCount();
  piVar6 = (int *)**(int **)(unaff_EDI + 0x148);
  if (piVar6 != *(int **)(unaff_EDI + 0x148)) {
    do {
      puVar1 = (undefined4 *)piVar6[2];
      if (puVar1 == (undefined4 *)0x0) {
        piVar7 = (int *)*piVar6;
        if (piVar6 != *(int **)(unaff_EDI + 0x148)) {
          *(int **)piVar6[1] = piVar7;
          *(int *)(*piVar6 + 4) = piVar6[1];
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
      }
      else if (DVar3 - puVar1[0x49] < 0x7531) {
        piVar7 = (int *)*piVar6;
      }
      else {
        (**(code **)*puVar1)(1);
        piVar7 = (int *)*piVar6;
        if (piVar6 != *(int **)(unaff_EDI + 0x148)) {
          *(int **)piVar6[1] = piVar7;
          *(int *)(*piVar6 + 4) = piVar6[1];
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
      }
      piVar6 = piVar7;
    } while (piVar7 != *(int **)(unaff_EDI + 0x148));
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007dd2d0 : PUSH EBP
007dd2d1 : MOV EBP,ESP
007dd2d3 : SUB ESP,0x8
007dd2d6 : PUSH EBX
007dd2d7 : PUSH ESI
007dd2d8 : CALL dword ptr [0x00b850d8]
007dd2de : MOV ECX,EAX
007dd2e0 : SUB ECX,dword ptr [EDI + 0x150]
007dd2e6 : MOV dword ptr [EBP + -0x8],ECX
007dd2e9 : FILD dword ptr [EBP + -0x8]
007dd2ec : TEST ECX,ECX
007dd2ee : JGE 0x007dd2f6
007dd2f0 : FADD float ptr [0x00cdf0e0]
007dd2f6 : CMP byte ptr [EDI + 0x15c],0x0
007dd2fd : FMUL float ptr [0x00cdf128]
007dd303 : MOV dword ptr [EDI + 0x150],EAX
007dd309 : FSTP float ptr [EBP + -0x4]
007dd30c : JZ 0x007dd322
007dd30e : LEA EDX,[EDI + 0x154]
007dd314 : PUSH EDX
007dd315 : MOV byte ptr [EDI + 0x15c],0x0
007dd31c : CALL dword ptr [0x00b850dc]
007dd322 : MOV EAX,dword ptr [EDI + 0x13c]
007dd328 : MOV EBX,dword ptr [EAX]
007dd32a : CMP EBX,EAX
007dd32c : JZ 0x007dd3ce
007dd332 : FLD1
007dd334 : MOV ESI,dword ptr [EBX + 0x8]
007dd337 : SUB ESP,0x8
007dd33a : FSTP float ptr [ESP + 0x4]
007dd33e : FLD float ptr [EBP + -0x4]
007dd341 : FSTP float ptr [ESP]
007dd344 : CALL 0x007dc020
007dd349 : MOV EAX,dword ptr [EBX + 0x8]
007dd34c : CMP byte ptr [EAX + 0xe0],0x0
007dd353 : JZ 0x007dd3c0
007dd355 : MOV byte ptr [EDI + 0x15d],0x1
007dd35c : CALL dword ptr [0x00b850d8]
007dd362 : MOV ECX,dword ptr [EBX + 0x8]
007dd365 : MOV dword ptr [ECX + 0x124],EAX
007dd36b : MOV ESI,dword ptr [EDI + 0x148]
007dd371 : MOV EDX,dword ptr [ESI + 0x4]
007dd374 : LEA EAX,[EBX + 0x8]
007dd377 : PUSH EAX
007dd378 : PUSH EDX
007dd379 : PUSH ESI
007dd37a : CALL 0x004c09c0
007dd37f : LEA ECX,[EDI + 0x144]
007dd385 : MOV dword ptr [EBP + -0x8],EAX
007dd388 : CALL 0x0047a1b0
007dd38d : MOV EAX,dword ptr [EBP + -0x8]
007dd390 : MOV dword ptr [ESI + 0x4],EAX
007dd393 : MOV ECX,dword ptr [EAX + 0x4]
007dd396 : MOV dword ptr [ECX],EAX
007dd398 : MOV ESI,dword ptr [EBX]
007dd39a : CMP EBX,dword ptr [EDI + 0x13c]
007dd3a0 : JZ 0x007dd3bc
007dd3a2 : MOV EDX,dword ptr [EBX + 0x4]
007dd3a5 : MOV dword ptr [EDX],ESI
007dd3a7 : MOV ECX,dword ptr [EBX + 0x4]
007dd3aa : MOV EAX,dword ptr [EBX]
007dd3ac : MOV dword ptr [EAX + 0x4],ECX
007dd3af : MOV ECX,EBX
007dd3b1 : CALL 0x006f04e0
007dd3bc : MOV EBX,ESI
007dd3be : JMP 0x007dd3c2
007dd3c0 : MOV EBX,dword ptr [EBX]
007dd3c2 : CMP EBX,dword ptr [EDI + 0x13c]
007dd3c8 : JNZ 0x007dd332
007dd3ce : MOV EAX,dword ptr [EDI + 0x130]
007dd3d4 : MOV EBX,dword ptr [EAX]
007dd3d6 : CMP EBX,EAX
007dd3d8 : JZ 0x007dd3ff
007dd3da : FLD float ptr [EDI + 0x160]
007dd3e0 : MOV ESI,dword ptr [EBX + 0x8]
007dd3e3 : SUB ESP,0x8
007dd3e6 : FSTP float ptr [ESP + 0x4]
007dd3ea : FLD float ptr [EBP + -0x4]
007dd3ed : FSTP float ptr [ESP]
007dd3f0 : CALL 0x007dc020
007dd3f5 : MOV EBX,dword ptr [EBX]
007dd3f7 : CMP EBX,dword ptr [EDI + 0x130]
007dd3fd : JNZ 0x007dd3da
007dd3ff : CMP byte ptr [EDI + 0x15d],0x0
007dd406 : JZ 0x007dd41c
007dd408 : LEA EDX,[EDI + 0x158]
007dd40e : PUSH EDX
007dd40f : MOV byte ptr [EDI + 0x15d],0x0
007dd416 : CALL dword ptr [0x00b850dc]
007dd41c : CALL dword ptr [0x00b850d8]
007dd422 : MOV dword ptr [EBP + -0x8],EAX
007dd425 : MOV EAX,dword ptr [EDI + 0x148]
007dd42b : MOV ESI,dword ptr [EAX]
007dd42d : CMP ESI,EAX
007dd42f : JZ 0x007dd4aa
007dd431 : MOV ECX,dword ptr [ESI + 0x8]
007dd434 : TEST ECX,ECX
007dd436 : JNZ 0x007dd460
007dd438 : MOV EBX,dword ptr [ESI]
007dd43a : CMP ESI,dword ptr [EDI + 0x148]
007dd440 : JZ 0x007dd49c
007dd442 : MOV EAX,dword ptr [ESI + 0x4]
007dd445 : MOV dword ptr [EAX],EBX
007dd447 : MOV ECX,dword ptr [ESI]
007dd449 : MOV EDX,dword ptr [ESI + 0x4]
007dd44c : MOV dword ptr [ECX + 0x4],EDX
007dd44f : MOV ECX,ESI
007dd451 : CALL 0x006f04e0
007dd460 : MOV EAX,dword ptr [EBP + -0x8]
007dd463 : SUB EAX,dword ptr [ECX + 0x124]
007dd469 : CMP EAX,0x7530
007dd46e : JBE 0x007dd4a0
007dd470 : MOV EDX,dword ptr [ECX]
007dd472 : MOV EAX,dword ptr [EDX]
007dd474 : PUSH 0x1
007dd476 : CALL EAX
007dd478 : MOV EBX,dword ptr [ESI]
007dd47a : CMP ESI,dword ptr [EDI + 0x148]
007dd480 : JZ 0x007dd49c
007dd482 : MOV ECX,dword ptr [ESI + 0x4]
007dd485 : MOV dword ptr [ECX],EBX
007dd487 : MOV EDX,dword ptr [ESI]
007dd489 : MOV EAX,dword ptr [ESI + 0x4]
007dd48c : MOV ECX,ESI
007dd48e : MOV dword ptr [EDX + 0x4],EAX
007dd491 : CALL 0x006f04e0
007dd49c : MOV ESI,EBX
007dd49e : JMP 0x007dd4a2
007dd4a0 : MOV ESI,dword ptr [ESI]
007dd4a2 : CMP ESI,dword ptr [EDI + 0x148]
007dd4a8 : JNZ 0x007dd431
007dd4aa : POP ESI
007dd4ab : POP EBX
007dd4ac : MOV ESP,EBP
007dd4ae : POP EBP
007dd4af : RET
