PROGRAM  : Maestia.exe
FUNCTION : FUN_005cd870
ENTRY    : 005cd870
BODY     : [[005cd870, 005cd904]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005cd870(int param_1)

{
  undefined4 uVar1;
  undefined1 *puVar2;
  undefined1 uVar3;
  int iVar4;
  GRefCountImpl *this;
  undefined4 *unaff_retaddr;
  
  if (*(int *)(param_1 + 0x18) != 0) {
    iVar4 = FUN_005296a0();
    this = (GRefCountImpl *)(**(code **)(*(int *)(iVar4 + 8) + 0xc))(0x1b);
    uVar3 = 0;
    if (this != (GRefCountImpl *)0x0) {
      uVar1 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(0);
      FUN_005272e0(&stack0x00000000,uVar1,0xffffffff,0);
      uVar3 = (**(code **)(*(int *)this + 0x3c))(*unaff_retaddr);
      unaff_retaddr[2] = unaff_retaddr[2] + -1;
      if (unaff_retaddr[2] == 0) {
        FUN_00525340();
      }
    }
    puVar2 = *(undefined1 **)(param_1 + 4);
    FUN_00526400();
    *puVar2 = 2;
    puVar2[4] = uVar3;
    if (this != (GRefCountImpl *)0x0) {
      GRefCountImpl::Release(this);
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005cd870 : PUSH EDI
005cd871 : MOV EDI,dword ptr [ESP + 0x8]
005cd875 : MOV ECX,dword ptr [EDI + 0x18]
005cd878 : TEST ECX,ECX
005cd87a : JZ 0x005cd903
005cd880 : PUSH EBX
005cd881 : PUSH ESI
005cd882 : CALL 0x005296a0
005cd887 : MOV EDX,dword ptr [EAX + 0x8]
005cd88a : ADD EAX,0x8
005cd88d : MOV ECX,EAX
005cd88f : MOV EAX,dword ptr [EDX + 0xc]
005cd892 : PUSH 0x1b
005cd894 : CALL EAX
005cd896 : MOV ESI,EAX
005cd898 : XOR BL,BL
005cd89a : TEST ESI,ESI
005cd89c : JZ 0x005cd8e3
005cd89e : MOV EBX,dword ptr [EDI + 0x18]
005cd8a1 : PUSH 0x0
005cd8a3 : MOV ECX,EDI
005cd8a5 : CALL 0x00526260
005cd8aa : PUSH 0x0
005cd8ac : PUSH -0x1
005cd8ae : PUSH EBX
005cd8af : LEA ECX,[ESP + 0x1c]
005cd8b3 : PUSH ECX
005cd8b4 : MOV ECX,EAX
005cd8b6 : CALL 0x005272e0
005cd8bb : MOV EDX,dword ptr [ESP + 0x10]
005cd8bf : MOV EAX,dword ptr [EDX]
005cd8c1 : MOV EDX,dword ptr [ESI]
005cd8c3 : PUSH EAX
005cd8c4 : MOV EAX,dword ptr [EDX + 0x3c]
005cd8c7 : MOV ECX,ESI
005cd8c9 : CALL EAX
005cd8cb : MOV BL,AL
005cd8cd : MOV EAX,dword ptr [ESP + 0x10]
005cd8d1 : DEC dword ptr [EAX + 0x8]
005cd8d4 : MOV ECX,EAX
005cd8d6 : ADD EAX,0x8
005cd8d9 : CMP dword ptr [EAX],0x0
005cd8dc : JNZ 0x005cd8e3
005cd8de : CALL 0x00525340
005cd8e3 : MOV EDI,dword ptr [EDI + 0x4]
005cd8e6 : MOV ECX,EDI
005cd8e8 : CALL 0x00526400
005cd8ed : MOV byte ptr [EDI],0x2
005cd8f0 : MOV byte ptr [EDI + 0x4],BL
005cd8f3 : TEST ESI,ESI
005cd8f5 : JZ 0x005cd901
005cd8f7 : MOV ECX,ESI
005cd8f9 : POP ESI
005cd8fa : POP EBX
005cd8fb : POP EDI
005cd8fc : JMP 0x004ff7e0
005cd901 : POP ESI
005cd902 : POP EBX
005cd903 : POP EDI
005cd904 : RET
