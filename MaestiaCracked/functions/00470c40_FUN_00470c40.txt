PROGRAM  : Maestia.exe
FUNCTION : FUN_00470c40
ENTRY    : 00470c40
BODY     : [[00470c40, 00470c9c]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00470c40(int param_1,uint param_2)

{
  int in_EAX;
  int unaff_EDI;
  
  if (*(char *)(unaff_EDI + 0x10) == '\0') {
    in_EAX = FUN_00457040();
    *(undefined4 *)(unaff_EDI + 4) = 0;
    *(undefined4 *)(unaff_EDI + 0xc) = 0;
  }
  *(undefined4 *)(unaff_EDI + 8) = 0;
  if (*(char *)(unaff_EDI + 0x10) != '\0') {
    *(undefined4 *)(unaff_EDI + 0xc) = 0;
    *(undefined4 *)(unaff_EDI + 4) = 0;
  }
  if (param_1 == 0) {
    *(undefined1 *)(unaff_EDI + 0x10) = 0;
    return in_EAX;
  }
  *(uint *)(unaff_EDI + 0xc) = param_2 / 0x3c;
  *(int *)(unaff_EDI + 4) = param_1;
  *(undefined1 *)(unaff_EDI + 0x10) = 1;
  return param_2 * -0x77777777;
}



============================================================
DISASSEMBLY
============================================================
00470c40 : PUSH EBP
00470c41 : MOV EBP,ESP
00470c43 : PUSH ECX
00470c44 : PUSH EBX
00470c45 : XOR EBX,EBX
00470c47 : CMP byte ptr [EDI + 0x10],BL
00470c4a : JNZ 0x00470c62
00470c4c : MOV EAX,dword ptr [EDI + 0x4]
00470c4f : PUSH ESI
00470c50 : LEA ESI,[EBP + -0x4]
00470c53 : MOV dword ptr [EBP + -0x4],EAX
00470c56 : CALL 0x00457040
00470c5b : MOV dword ptr [EDI + 0x4],EBX
00470c5e : MOV dword ptr [EDI + 0xc],EBX
00470c61 : POP ESI
00470c62 : MOV dword ptr [EDI + 0x8],EBX
00470c65 : CMP byte ptr [EDI + 0x10],BL
00470c68 : JZ 0x00470c70
00470c6a : MOV dword ptr [EDI + 0xc],EBX
00470c6d : MOV dword ptr [EDI + 0x4],EBX
00470c70 : MOV ECX,dword ptr [EBP + 0x8]
00470c73 : CMP ECX,EBX
00470c75 : JNZ 0x00470c81
00470c77 : MOV byte ptr [EDI + 0x10],BL
00470c7a : POP EBX
00470c7b : MOV ESP,EBP
00470c7d : POP EBP
00470c7e : RET 0x8
00470c81 : MOV EAX,0x88888889
00470c86 : MUL dword ptr [EBP + 0xc]
00470c89 : SHR EDX,0x5
00470c8c : MOV dword ptr [EDI + 0xc],EDX
00470c8f : MOV dword ptr [EDI + 0x4],ECX
00470c92 : MOV byte ptr [EDI + 0x10],0x1
00470c96 : POP EBX
00470c97 : MOV ESP,EBP
00470c99 : POP EBP
00470c9a : RET 0x8
