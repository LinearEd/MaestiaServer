PROGRAM  : Maestia.exe
FUNCTION : FUN_00749010
ENTRY    : 00749010
BODY     : [[00749010, 00749088] [00749090, 007492ac]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00749010(int *param_1)

{
  ushort uVar1;
  undefined4 uVar2;
  int in_ECX;
  int iVar3;
  LPCRITICAL_SECTION local_40;
  char *local_3c;
  undefined4 local_38;
  int local_34;
  undefined4 local_30;
  LPCRITICAL_SECTION local_2c;
  char *local_28;
  undefined4 local_24;
  int local_20;
  undefined4 local_1c;
  uint local_18;
  LPCRITICAL_SECTION local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2730e;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  uVar2 = (**(code **)(*param_1 + 4))(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  switch(uVar2) {
  case 1:
  case 0xe:
    uVar1 = *(ushort *)(param_1 + 0x79);
    if ((uVar1 != 0) && (uVar1 != 0)) {
      local_18 = (uint)uVar1;
      local_14 = (LPCRITICAL_SECTION)0x0;
      do {
        iVar3 = *(int *)((int)local_14 + param_1[0x76]);
        if ((*(char *)((int)param_1 + 0x226) == '\0') &&
           (*(char *)(*(int *)(iVar3 + 8) + 0x1c) == '\0')) {
          local_20 = 0;
          local_28 = ".\\World\\AvaRenderQueue.cpp";
          local_24 = 0x712;
          local_1c = 1;
          local_2c = (LPCRITICAL_SECTION)(in_ECX + 0x7c);
          FUN_006ef1a0(&local_2c);
          local_8 = 1;
          (**(code **)(*(int *)(in_ECX + 0x98) + 0x24))(iVar3);
          local_8 = 0xffffffff;
          if (local_20 != 0) {
            LeaveCriticalSection(local_2c);
            local_20 = 0;
          }
        }
        else {
          local_34 = 0;
          local_3c = ".\\World\\AvaRenderQueue.cpp";
          local_38 = 0x70d;
          local_30 = 1;
          local_40 = (LPCRITICAL_SECTION)(in_ECX + 0x7c);
          FUN_006ef1a0(&local_40);
          local_8 = 0;
          (**(code **)(*(int *)(in_ECX + 0xc0) + 0x24))(iVar3);
          local_8 = 0xffffffff;
          if (local_34 != 0) {
            LeaveCriticalSection(local_40);
            local_34 = 0;
          }
        }
        local_14 = (LPCRITICAL_SECTION)((int)local_14 + 4);
        local_18 = local_18 - 1;
      } while (local_18 != 0);
      ExceptionList = local_10;
      return;
    }
    break;
  default:
    local_40 = (LPCRITICAL_SECTION)(in_ECX + 0x7c);
    local_34 = 0;
    local_3c = ".\\World\\AvaRenderQueue.cpp";
    local_38 = 0x737;
    local_30 = 1;
    FUN_006ef1a0(&local_40);
    local_8 = 3;
    FUN_004c07f0(in_ECX + 0x40);
    local_8 = 0xffffffff;
    if (local_34 != 0) {
      LeaveCriticalSection(local_40);
    }
    break;
  case 0xf:
    break;
  case 0x11:
    uVar1 = *(ushort *)(param_1 + 0x79);
    if ((uVar1 != 0) && (uVar1 != 0)) {
      local_18 = (uint)uVar1;
      local_14 = (LPCRITICAL_SECTION)(in_ECX + 0x7c);
      iVar3 = 0;
      do {
        uVar2 = *(undefined4 *)(iVar3 + param_1[0x76]);
        local_34 = 0;
        local_40 = local_14;
        local_3c = ".\\World\\AvaRenderQueue.cpp";
        local_38 = 0x727;
        local_30 = 1;
        FUN_006ef1a0(&local_40);
        local_8 = 2;
        (**(code **)(*(int *)(in_ECX + 0xe8) + 0x24))(uVar2);
        local_8 = 0xffffffff;
        if (local_34 != 0) {
          LeaveCriticalSection(local_40);
        }
        iVar3 = iVar3 + 4;
        local_18 = local_18 - 1;
      } while (local_18 != 0);
      ExceptionList = local_10;
      return;
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00749010 : PUSH EBP
00749011 : MOV EBP,ESP
00749013 : PUSH -0x1
00749015 : PUSH 0xb2730e
0074901a : MOV EAX,FS:[0x0]
00749020 : PUSH EAX
00749021 : SUB ESP,0x30
00749024 : PUSH EBX
00749025 : PUSH ESI
00749026 : PUSH EDI
00749027 : MOV EAX,[0x00d66fa0]
0074902c : XOR EAX,EBP
0074902e : PUSH EAX
0074902f : LEA EAX,[EBP + -0xc]
00749032 : MOV FS:[0x0],EAX
00749038 : MOV EDI,ECX
0074903a : MOV ESI,dword ptr [EBP + 0x8]
0074903d : MOV EAX,dword ptr [ESI]
0074903f : MOV EDX,dword ptr [EAX + 0x4]
00749042 : MOV ECX,ESI
00749044 : CALL EDX
00749046 : DEC EAX
00749047 : CMP EAX,0x10
0074904a : JA 0x00749244
00749050 : MOVZX EAX,byte ptr [EAX + 0x7492c0]
00749057 : JMP dword ptr [EAX*0x4 + 0x7492b0]
0074905e : MOVZX EAX,word ptr [ESI + 0x1e4]
00749065 : XOR ECX,ECX
00749067 : CMP AX,CX
0074906a : JBE 0x00749299
00749070 : XOR EDX,EDX
00749072 : CMP DX,AX
00749075 : JNC 0x00749299
0074907b : MOVZX EAX,AX
0074907e : LEA EBX,[EDI + 0x7c]
00749081 : MOV dword ptr [EBP + -0x10],ECX
00749084 : MOV dword ptr [EBP + -0x14],EAX
00749087 : JMP 0x00749095
00749090 : MOV ESI,dword ptr [EBP + 0x8]
00749093 : XOR ECX,ECX
00749095 : MOV EDX,dword ptr [ESI + 0x1d8]
0074909b : MOV EAX,dword ptr [EBP + -0x10]
0074909e : MOV ESI,dword ptr [EAX + EDX*0x1]
007490a1 : MOV EDX,dword ptr [EBP + 0x8]
007490a4 : CMP byte ptr [EDX + 0x226],0x0
007490ab : JNZ 0x00749113
007490ad : MOV EAX,dword ptr [ESI + 0x8]
007490b0 : CMP byte ptr [EAX + 0x1c],0x0
007490b4 : JNZ 0x00749113
007490b6 : MOV dword ptr [EBP + -0x1c],ECX
007490b9 : LEA ECX,[EBP + -0x28]
007490bc : PUSH ECX
007490bd : MOV dword ptr [EBP + -0x28],EBX
007490c0 : MOV dword ptr [EBP + -0x24],0xc08b44
007490c7 : MOV dword ptr [EBP + -0x20],0x712
007490ce : MOV dword ptr [EBP + -0x18],0x1
007490d5 : CALL 0x006ef1a0
007490da : MOV dword ptr [EBP + -0x4],0x1
007490e1 : MOV EDX,dword ptr [EDI + 0x98]
007490e7 : MOV EAX,dword ptr [EDX + 0x24]
007490ea : LEA ECX,[EDI + 0x98]
007490f0 : PUSH ESI
007490f1 : CALL EAX
007490f3 : MOV dword ptr [EBP + -0x4],0xffffffff
007490fa : CMP dword ptr [EBP + -0x1c],0x0
007490fe : JZ 0x0074916e
00749100 : MOV ECX,dword ptr [EBP + -0x28]
00749103 : PUSH ECX
00749104 : CALL dword ptr [0x00b8511c]
0074910a : MOV dword ptr [EBP + -0x1c],0x0
00749111 : JMP 0x0074916e
00749113 : LEA EDX,[EBP + -0x3c]
00749116 : PUSH EDX
00749117 : MOV dword ptr [EBP + -0x30],ECX
0074911a : MOV dword ptr [EBP + -0x3c],EBX
0074911d : MOV dword ptr [EBP + -0x38],0xc08b28
00749124 : MOV dword ptr [EBP + -0x34],0x70d
0074912b : MOV dword ptr [EBP + -0x2c],0x1
00749132 : CALL 0x006ef1a0
00749137 : MOV dword ptr [EBP + -0x4],0x0
0074913e : MOV EAX,dword ptr [EDI + 0xc0]
00749144 : MOV EDX,dword ptr [EAX + 0x24]
00749147 : LEA ECX,[EDI + 0xc0]
0074914d : PUSH ESI
0074914e : CALL EDX
00749150 : MOV dword ptr [EBP + -0x4],0xffffffff
00749157 : CMP dword ptr [EBP + -0x30],0x0
0074915b : JZ 0x0074916e
0074915d : MOV EAX,dword ptr [EBP + -0x3c]
00749160 : PUSH EAX
00749161 : CALL dword ptr [0x00b8511c]
00749167 : MOV dword ptr [EBP + -0x30],0x0
0074916e : ADD dword ptr [EBP + -0x10],0x4
00749172 : SUB dword ptr [EBP + -0x14],0x1
00749176 : JNZ 0x00749090
0074917c : MOV ECX,dword ptr [EBP + -0xc]
0074917f : MOV dword ptr FS:[0x0],ECX
00749186 : POP ECX
00749187 : POP EDI
00749188 : POP ESI
00749189 : POP EBX
0074918a : MOV ESP,EBP
0074918c : POP EBP
0074918d : RET 0x4
00749190 : MOVZX EAX,word ptr [ESI + 0x1e4]
00749197 : TEST AX,AX
0074919a : JBE 0x00749299
007491a0 : XOR ECX,ECX
007491a2 : CMP CX,AX
007491a5 : JNC 0x00749299
007491ab : MOVZX EAX,AX
007491ae : LEA EDX,[EDI + 0x7c]
007491b1 : ADD EDI,0xe8
007491b7 : MOV dword ptr [EBP + -0x10],EDX
007491ba : XOR EBX,EBX
007491bc : MOV dword ptr [EBP + -0x14],EAX
007491bf : JMP 0x007491c4
007491c1 : MOV ESI,dword ptr [EBP + 0x8]
007491c4 : MOV ECX,dword ptr [ESI + 0x1d8]
007491ca : MOV EDX,dword ptr [EBP + -0x10]
007491cd : MOV ESI,dword ptr [EBX + ECX*0x1]
007491d0 : LEA EAX,[EBP + -0x3c]
007491d3 : PUSH EAX
007491d4 : MOV dword ptr [EBP + -0x30],0x0
007491db : MOV dword ptr [EBP + -0x3c],EDX
007491de : MOV dword ptr [EBP + -0x38],0xc08b60
007491e5 : MOV dword ptr [EBP + -0x34],0x727
007491ec : MOV dword ptr [EBP + -0x2c],0x1
007491f3 : CALL 0x006ef1a0
007491f8 : MOV dword ptr [EBP + -0x4],0x2
007491ff : MOV EDX,dword ptr [EDI]
00749201 : MOV EAX,dword ptr [EDX + 0x24]
00749204 : PUSH ESI
00749205 : MOV ECX,EDI
00749207 : CALL EAX
00749209 : MOV dword ptr [EBP + -0x4],0xffffffff
00749210 : CMP dword ptr [EBP + -0x30],0x0
00749214 : JZ 0x00749227
00749216 : MOV ECX,dword ptr [EBP + -0x3c]
00749219 : PUSH ECX
0074921a : CALL dword ptr [0x00b8511c]
00749220 : MOV dword ptr [EBP + -0x30],0x0
00749227 : ADD EBX,0x4
0074922a : SUB dword ptr [EBP + -0x14],0x1
0074922e : JNZ 0x007491c1
00749230 : MOV ECX,dword ptr [EBP + -0xc]
00749233 : MOV dword ptr FS:[0x0],ECX
0074923a : POP ECX
0074923b : POP EDI
0074923c : POP ESI
0074923d : POP EBX
0074923e : MOV ESP,EBP
00749240 : POP EBP
00749241 : RET 0x4
00749244 : LEA EAX,[EBP + -0x3c]
00749247 : LEA EDX,[EDI + 0x7c]
0074924a : XOR ESI,ESI
0074924c : PUSH EAX
0074924d : MOV dword ptr [EBP + -0x30],ESI
00749250 : MOV dword ptr [EBP + -0x3c],EDX
00749253 : MOV dword ptr [EBP + -0x38],0xc08b7c
0074925a : MOV dword ptr [EBP + -0x34],0x737
00749261 : MOV dword ptr [EBP + -0x2c],0x1
00749268 : CALL 0x006ef1a0
0074926d : MOV dword ptr [EBP + -0x4],0x3
00749274 : ADD EDI,0x40
00749277 : PUSH EDI
00749278 : LEA EAX,[EBP + 0x8]
0074927b : CALL 0x004c07f0
00749280 : MOV dword ptr [EBP + -0x4],0xffffffff
00749287 : CMP dword ptr [EBP + -0x30],ESI
0074928a : JZ 0x00749299
0074928c : MOV ECX,dword ptr [EBP + -0x3c]
0074928f : PUSH ECX
00749290 : CALL dword ptr [0x00b8511c]
00749296 : MOV dword ptr [EBP + -0x30],ESI
00749299 : MOV ECX,dword ptr [EBP + -0xc]
0074929c : MOV dword ptr FS:[0x0],ECX
007492a3 : POP ECX
007492a4 : POP EDI
007492a5 : POP ESI
007492a6 : POP EBX
007492a7 : MOV ESP,EBP
007492a9 : POP EBP
007492aa : RET 0x4
