PROGRAM  : Maestia.exe
FUNCTION : FUN_007d8230
ENTRY    : 007d8230
BODY     : [[007d8230, 007d8473]]

============================================================
DECOMPILED C CODE
============================================================

undefined4
FUN_007d8230(undefined4 param_1,int *param_2,int *param_3,int *param_4,undefined4 param_5,
            undefined4 param_6,int param_7,undefined4 param_8,int param_9,undefined4 param_10,
            int param_11)

{
  int *piVar1;
  int iVar2;
  undefined1 uVar3;
  char cVar4;
  int *unaff_ESI;
  undefined1 *puStack_80;
  undefined1 *puStack_7c;
  undefined1 *puStack_78;
  undefined1 *puStack_74;
  undefined1 auStack_70 [8];
  undefined4 uStack_68;
  undefined4 uStack_64;
  int *piStack_60;
  int *piStack_5c;
  int *piStack_58;
  undefined1 local_44 [36];
  int local_20;
  int local_18 [2];
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b28eac;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_8 = 2;
  if (unaff_ESI[2] != 0) {
    piStack_58 = (int *)0x7d8274;
    EnterCriticalSection((LPCRITICAL_SECTION)(unaff_ESI[2] + 4));
  }
  local_8._0_1_ = 3;
  piStack_58 = local_18;
  piVar1 = unaff_ESI + 0x97;
  piStack_60 = (int *)0x7d828f;
  piStack_5c = piVar1;
  FUN_0044f270();
  iVar2 = unaff_ESI[0x99];
  local_8._0_1_ = 2;
  if (unaff_ESI[2] != 0) {
    piStack_58 = (int *)0x7d82b1;
    LeaveCriticalSection((LPCRITICAL_SECTION)(unaff_ESI[2] + 4));
  }
  if (local_18[0] == iVar2) {
    piStack_58 = param_4;
    piStack_5c = param_3;
    piStack_60 = param_2;
    uStack_64 = param_1;
    uStack_68 = 0;
    puStack_78 = auStack_70;
    puStack_74 = (undefined1 *)&param_10;
    puStack_7c = (undefined1 *)0x7d82e1;
    FUN_00439f80();
    local_8._0_1_ = 4;
    puStack_80 = (undefined1 *)&puStack_78;
    puStack_7c = (undefined1 *)&param_8;
    FUN_00439f80();
    local_8._0_1_ = 5;
    FUN_00439f80(&puStack_80,&param_6);
    local_8._0_1_ = 2;
    cVar4 = (**(code **)(*unaff_ESI + 0xd4))();
    if (cVar4 == '\0') {
      local_8._0_1_ = 1;
      FUN_0043a010();
      local_8 = (uint)local_8._1_3_ << 8;
      FUN_0043a010();
      local_8 = 0xffffffff;
      FUN_0043a010();
      ExceptionList = local_10;
      return 0;
    }
    if (unaff_ESI[2] != 0) {
      piStack_58 = (int *)0x7d8375;
      EnterCriticalSection((LPCRITICAL_SECTION)(unaff_ESI[2] + 4));
    }
    local_8._0_1_ = 7;
    uVar3 = (undefined1)local_8;
    local_8._0_1_ = 7;
    if (param_7 != 0) {
      piStack_58 = (int *)local_44;
      piStack_5c = (int *)0x7d8391;
      piStack_58 = (int *)FUN_00460220();
      local_8._0_1_ = 8;
      piStack_5c = &local_20;
      uStack_64 = 0x7d83a4;
      piStack_60 = piVar1;
      FUN_004604f0();
      local_8._0_1_ = 7;
      piStack_58 = (int *)0x7d83b0;
      FUN_0045fde0();
      uVar3 = (undefined1)local_8;
    }
    local_8._0_1_ = uVar3;
    if (param_9 != 0) {
      piStack_58 = (int *)local_44;
      piStack_5c = (int *)0x7d83c7;
      piStack_58 = (int *)FUN_00460220();
      local_8._0_1_ = 9;
      piStack_5c = &local_20;
      uStack_64 = 0x7d83da;
      piStack_60 = piVar1;
      FUN_004604f0();
      local_8._0_1_ = 7;
      piStack_58 = (int *)0x7d83e6;
      FUN_0045fde0();
    }
    if (param_11 != 0) {
      piStack_58 = (int *)local_44;
      piStack_5c = (int *)0x7d83fd;
      piStack_58 = (int *)FUN_00460220();
      local_8._0_1_ = 10;
      piStack_5c = &local_20;
      uStack_64 = 0x7d8410;
      piStack_60 = piVar1;
      FUN_004604f0();
      local_8._0_1_ = 7;
      piStack_58 = (int *)0x7d841c;
      FUN_0045fde0();
    }
    local_8._0_1_ = 2;
    if (unaff_ESI[2] != 0) {
      piStack_58 = (int *)0x7d8431;
      LeaveCriticalSection((LPCRITICAL_SECTION)(unaff_ESI[2] + 4));
    }
    *(undefined1 *)(unaff_ESI + 0x90) = 1;
  }
  local_8._0_1_ = 1;
  FUN_0043a010();
  local_8 = (uint)local_8._1_3_ << 8;
  FUN_0043a010();
  local_8 = 0xffffffff;
  FUN_0043a010();
  ExceptionList = local_10;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
007d8230 : PUSH EBP
007d8231 : MOV EBP,ESP
007d8233 : PUSH -0x1
007d8235 : PUSH 0xb28eac
007d823a : MOV EAX,FS:[0x0]
007d8240 : PUSH EAX
007d8241 : SUB ESP,0x34
007d8244 : PUSH EBX
007d8245 : PUSH EDI
007d8246 : MOV EAX,[0x00d66fa0]
007d824b : XOR EAX,EBP
007d824d : PUSH EAX
007d824e : LEA EAX,[EBP + -0xc]
007d8251 : MOV FS:[0x0],EAX
007d8257 : MOV dword ptr [EBP + -0x4],0x2
007d825e : MOV EAX,dword ptr [ESI + 0x8]
007d8261 : XOR BL,BL
007d8263 : MOV dword ptr [EBP + -0x18],ESI
007d8266 : TEST EAX,EAX
007d8268 : JZ 0x007d8274
007d826a : ADD EAX,0x4
007d826d : PUSH EAX
007d826e : CALL dword ptr [0x00b85118]
007d8274 : MOV byte ptr [EBP + -0x4],0x3
007d8278 : MOV EAX,dword ptr [EBP + 0x20]
007d827b : ADD EAX,0x4
007d827e : PUSH EAX
007d827f : LEA ECX,[EBP + -0x14]
007d8282 : PUSH ECX
007d8283 : LEA EDI,[ESI + 0x25c]
007d8289 : PUSH EDI
007d828a : CALL 0x0044f270
007d828f : MOV EAX,dword ptr [ESI + 0x264]
007d8295 : CMP dword ptr [EBP + -0x14],EAX
007d8298 : JNZ 0x007d829c
007d829a : MOV BL,0x1
007d829c : MOV byte ptr [EBP + -0x4],0x2
007d82a0 : MOV EAX,dword ptr [ESI + 0x8]
007d82a3 : TEST EAX,EAX
007d82a5 : JZ 0x007d82b1
007d82a7 : ADD EAX,0x4
007d82aa : PUSH EAX
007d82ab : CALL dword ptr [0x00b8511c]
007d82b1 : TEST BL,BL
007d82b3 : JZ 0x007d8438
007d82b9 : MOV EDX,dword ptr [EBP + 0x18]
007d82bc : MOV EAX,dword ptr [EBP + 0x14]
007d82bf : MOV ECX,dword ptr [EBP + 0x10]
007d82c2 : PUSH EDX
007d82c3 : MOV EDX,dword ptr [EBP + 0xc]
007d82c6 : PUSH EAX
007d82c7 : MOV EAX,dword ptr [EBP + 0x8]
007d82ca : PUSH ECX
007d82cb : PUSH EDX
007d82cc : PUSH EAX
007d82cd : PUSH 0x0
007d82cf : SUB ESP,0x8
007d82d2 : MOV ECX,ESP
007d82d4 : MOV dword ptr [EBP + 0x18],ESP
007d82d7 : LEA EDX,[EBP + 0x2c]
007d82da : PUSH EDX
007d82db : PUSH ECX
007d82dc : CALL 0x00439f80
007d82e1 : MOV byte ptr [EBP + -0x4],0x4
007d82e5 : SUB ESP,0x8
007d82e8 : MOV EAX,ESP
007d82ea : MOV dword ptr [EBP + 0x14],ESP
007d82ed : LEA ECX,[EBP + 0x24]
007d82f0 : PUSH ECX
007d82f1 : PUSH EAX
007d82f2 : CALL 0x00439f80
007d82f7 : MOV byte ptr [EBP + -0x4],0x5
007d82fb : SUB ESP,0x8
007d82fe : MOV EDX,ESP
007d8300 : MOV dword ptr [EBP + 0x10],ESP
007d8303 : LEA EAX,[EBP + 0x1c]
007d8306 : PUSH EAX
007d8307 : PUSH EDX
007d8308 : CALL 0x00439f80
007d830d : MOV byte ptr [EBP + -0x4],0x6
007d8311 : MOV EAX,dword ptr [ESI]
007d8313 : MOV byte ptr [EBP + -0x4],0x2
007d8317 : MOV EDX,dword ptr [EAX + 0xd4]
007d831d : MOV ECX,ESI
007d831f : CALL EDX
007d8321 : TEST AL,AL
007d8323 : JNZ 0x007d8361
007d8325 : MOV byte ptr [EBP + -0x4],0x1
007d8329 : LEA ECX,[EBP + 0x1c]
007d832c : CALL 0x0043a010
007d8331 : MOV byte ptr [EBP + -0x4],0x0
007d8335 : LEA ECX,[EBP + 0x24]
007d8338 : CALL 0x0043a010
007d833d : MOV dword ptr [EBP + -0x4],0xffffffff
007d8344 : LEA ECX,[EBP + 0x2c]
007d8347 : CALL 0x0043a010
007d834c : XOR AL,AL
007d834e : MOV ECX,dword ptr [EBP + -0xc]
007d8351 : MOV dword ptr FS:[0x0],ECX
007d8358 : POP ECX
007d8359 : POP EDI
007d835a : POP EBX
007d835b : MOV ESP,EBP
007d835d : POP EBP
007d835e : RET 0x2c
007d8361 : MOV EAX,dword ptr [ESI + 0x8]
007d8364 : MOV dword ptr [EBP + 0x18],ESI
007d8367 : TEST EAX,EAX
007d8369 : JZ 0x007d8375
007d836b : ADD EAX,0x4
007d836e : PUSH EAX
007d836f : CALL dword ptr [0x00b85118]
007d8375 : MOV BL,0x7
007d8377 : MOV byte ptr [EBP + -0x4],BL
007d837a : MOV EAX,dword ptr [EBP + 0x20]
007d837d : TEST EAX,EAX
007d837f : JZ 0x007d83b0
007d8381 : LEA ECX,[EBP + 0x1c]
007d8384 : PUSH ECX
007d8385 : LEA EDX,[EBP + -0x40]
007d8388 : LEA ECX,[EAX + 0x4]
007d838b : PUSH EDX
007d838c : CALL 0x00460220
007d8391 : MOV byte ptr [EBP + -0x4],0x8
007d8395 : MOV ECX,dword ptr [EDI + 0x8]
007d8398 : PUSH ECX
007d8399 : PUSH EAX
007d839a : LEA EAX,[EBP + -0x1c]
007d839d : PUSH EAX
007d839e : PUSH EDI
007d839f : CALL 0x004604f0
007d83a4 : MOV byte ptr [EBP + -0x4],BL
007d83a7 : LEA ECX,[EBP + -0x40]
007d83aa : PUSH ECX
007d83ab : CALL 0x0045fde0
007d83b0 : MOV EAX,dword ptr [EBP + 0x28]
007d83b3 : TEST EAX,EAX
007d83b5 : JZ 0x007d83e6
007d83b7 : LEA EDX,[EBP + 0x24]
007d83ba : LEA ECX,[EAX + 0x4]
007d83bd : PUSH EDX
007d83be : LEA EAX,[EBP + -0x40]
007d83c1 : PUSH EAX
007d83c2 : CALL 0x00460220
007d83c7 : MOV byte ptr [EBP + -0x4],0x9
007d83cb : MOV ECX,dword ptr [EDI + 0x8]
007d83ce : PUSH ECX
007d83cf : PUSH EAX
007d83d0 : LEA ECX,[EBP + -0x1c]
007d83d3 : PUSH ECX
007d83d4 : PUSH EDI
007d83d5 : CALL 0x004604f0
007d83da : MOV byte ptr [EBP + -0x4],BL
007d83dd : LEA EDX,[EBP + -0x40]
007d83e0 : PUSH EDX
007d83e1 : CALL 0x0045fde0
007d83e6 : MOV EAX,dword ptr [EBP + 0x30]
007d83e9 : TEST EAX,EAX
007d83eb : JZ 0x007d841c
007d83ed : LEA ECX,[EBP + 0x2c]
007d83f0 : PUSH ECX
007d83f1 : LEA EDX,[EBP + -0x40]
007d83f4 : LEA ECX,[EAX + 0x4]
007d83f7 : PUSH EDX
007d83f8 : CALL 0x00460220
007d83fd : MOV byte ptr [EBP + -0x4],0xa
007d8401 : MOV ECX,dword ptr [EDI + 0x8]
007d8404 : PUSH ECX
007d8405 : PUSH EAX
007d8406 : LEA EAX,[EBP + -0x1c]
007d8409 : PUSH EAX
007d840a : PUSH EDI
007d840b : CALL 0x004604f0
007d8410 : MOV byte ptr [EBP + -0x4],BL
007d8413 : LEA ECX,[EBP + -0x40]
007d8416 : PUSH ECX
007d8417 : CALL 0x0045fde0
007d841c : MOV byte ptr [EBP + -0x4],0x2
007d8420 : MOV EAX,dword ptr [ESI + 0x8]
007d8423 : TEST EAX,EAX
007d8425 : JZ 0x007d8431
007d8427 : ADD EAX,0x4
007d842a : PUSH EAX
007d842b : CALL dword ptr [0x00b8511c]
007d8431 : MOV byte ptr [ESI + 0x240],0x1
007d8438 : MOV byte ptr [EBP + -0x4],0x1
007d843c : LEA ECX,[EBP + 0x1c]
007d843f : CALL 0x0043a010
007d8444 : MOV byte ptr [EBP + -0x4],0x0
007d8448 : LEA ECX,[EBP + 0x24]
007d844b : CALL 0x0043a010
007d8450 : MOV dword ptr [EBP + -0x4],0xffffffff
007d8457 : LEA ECX,[EBP + 0x2c]
007d845a : CALL 0x0043a010
007d845f : MOV AL,0x1
007d8461 : MOV ECX,dword ptr [EBP + -0xc]
007d8464 : MOV dword ptr FS:[0x0],ECX
007d846b : POP ECX
007d846c : POP EDI
007d846d : POP EBX
007d846e : MOV ESP,EBP
007d8470 : POP EBP
007d8471 : RET 0x2c
