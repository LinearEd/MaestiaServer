PROGRAM  : Maestia.exe
FUNCTION : FUN_00402e00
ENTRY    : 00402e00
BODY     : [[00402e00, 004030b5]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00402f20) */
/* WARNING: Removing unreachable block (ram,0x00402f30) */
/* WARNING: Removing unreachable block (ram,0x00402f39) */
/* WARNING: Removing unreachable block (ram,0x00402f3c) */
/* WARNING: Removing unreachable block (ram,0x00402f2c) */
/* WARNING: Removing unreachable block (ram,0x00402f49) */
/* WARNING: Removing unreachable block (ram,0x00402f59) */
/* WARNING: Removing unreachable block (ram,0x00402f64) */
/* WARNING: Removing unreachable block (ram,0x00402f60) */
/* WARNING: Removing unreachable block (ram,0x00402f54) */
/* WARNING: Removing unreachable block (ram,0x00402f67) */
/* WARNING: Removing unreachable block (ram,0x00402f77) */
/* WARNING: Removing unreachable block (ram,0x00402f7f) */

void FUN_00402e00(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int *local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b79a02;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x35) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_004412c0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x35) == '\0') {
    if (*(char *)(param_3[2] + 0x35) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x35) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x35) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x35);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x35);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int **)(param_1 + 4);
  if (*(int **)((int)local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x35) == '\0') {
      uVar4 = FUN_00403360();
      *(undefined4 *)((int)local_1c + 8) = uVar4;
    }
    else {
      *(int **)((int)local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[0xd] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0xd] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0xd] == '\0') {
            *(undefined1 *)(piVar6 + 0xd) = 1;
            *(undefined1 *)(piVar5 + 0xd) = 0;
            FUN_00402870(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x35) == '\0') {
            if ((*(char *)(*piVar6 + 0x34) != '\x01') || (*(char *)(piVar6[2] + 0x34) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x34) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x34) = 1;
                *(undefined1 *)(piVar6 + 0xd) = 0;
                FUN_00419700(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0xd) = (char)piVar5[0xd];
              *(undefined1 *)(piVar5 + 0xd) = 1;
              *(undefined1 *)(piVar6[2] + 0x34) = 1;
              FUN_00402870(param_1);
              break;
            }
LAB_00403047:
            *(undefined1 *)(piVar6 + 0xd) = 0;
          }
        }
        else {
          if ((char)piVar6[0xd] == '\0') {
            *(undefined1 *)(piVar6 + 0xd) = 1;
            *(undefined1 *)(piVar5 + 0xd) = 0;
            FUN_00419700(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x35) == '\0') {
            if ((*(char *)(piVar6[2] + 0x34) == '\x01') && (*(char *)(*piVar6 + 0x34) == '\x01'))
            goto LAB_00403047;
            if (*(char *)(*piVar6 + 0x34) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x34) = 1;
              *(undefined1 *)(piVar6 + 0xd) = 0;
              FUN_00402870(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0xd) = (char)piVar5[0xd];
            *(undefined1 *)(piVar5 + 0xd) = 1;
            *(undefined1 *)(*piVar6 + 0x34) = 1;
            FUN_00419700(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 0xd) = 1;
  }
  local_1c = local_18 + 3;
  local_8 = 0xffffffff;
  FUN_00401300(local_18 + 4);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00402e00 : PUSH EBP
00402e01 : MOV EBP,ESP
00402e03 : PUSH -0x1
00402e05 : PUSH 0xb79a02
00402e0a : MOV EAX,FS:[0x0]
00402e10 : PUSH EAX
00402e11 : SUB ESP,0x50
00402e14 : PUSH EBX
00402e15 : PUSH ESI
00402e16 : PUSH EDI
00402e17 : MOV EAX,[0x00d66fa0]
00402e1c : XOR EAX,EBP
00402e1e : PUSH EAX
00402e1f : LEA EAX,[EBP + -0xc]
00402e22 : MOV FS:[0x0],EAX
00402e28 : MOV EAX,dword ptr [EBP + 0x10]
00402e2b : CMP byte ptr [EAX + 0x35],0x0
00402e2f : JZ 0x00402e6d
00402e31 : PUSH 0x1b
00402e33 : XOR ESI,ESI
00402e35 : PUSH 0xcca4a8
00402e3a : LEA ECX,[EBP + -0x34]
00402e3d : MOV dword ptr [EBP + -0x1c],0xf
00402e44 : MOV dword ptr [EBP + -0x20],ESI
00402e47 : MOV byte ptr [EBP + -0x30],0x0
00402e4b : CALL 0x00404b50
00402e50 : MOV dword ptr [EBP + -0x4],ESI
00402e53 : LEA EAX,[EBP + -0x34]
00402e56 : PUSH EAX
00402e57 : LEA ECX,[EBP + -0x5c]
00402e5a : CALL 0x00403c10
00402e5f : PUSH 0xced890
00402e64 : LEA ECX,[EBP + -0x5c]
00402e67 : PUSH ECX
00402e68 : CALL 0x006409eb
00402e6d : MOV EBX,EAX
00402e6f : LEA EDX,[EBP + 0x10]
00402e72 : MOV dword ptr [EBP + -0x14],EBX
00402e75 : CALL 0x004412c0
00402e7a : MOV ECX,dword ptr [EBX]
00402e7c : CMP byte ptr [ECX + 0x35],0x0
00402e80 : JZ 0x00402e87
00402e82 : MOV EDI,dword ptr [EBX + 0x8]
00402e85 : JMP 0x00402ea1
00402e87 : MOV EDX,dword ptr [EBX + 0x8]
00402e8a : CMP byte ptr [EDX + 0x35],0x0
00402e8e : JZ 0x00402e94
00402e90 : MOV EDI,ECX
00402e92 : JMP 0x00402ea1
00402e94 : MOV EAX,dword ptr [EBP + 0x10]
00402e97 : MOV EDI,dword ptr [EAX + 0x8]
00402e9a : LEA EDX,[EAX + 0x8]
00402e9d : CMP EAX,EBX
00402e9f : JNZ 0x00402f20
00402ea1 : CMP byte ptr [EDI + 0x35],0x0
00402ea5 : MOV ESI,dword ptr [EBX + 0x4]
00402ea8 : JNZ 0x00402ead
00402eaa : MOV dword ptr [EDI + 0x4],ESI
00402ead : MOV EDX,dword ptr [EBP + 0x8]
00402eb0 : MOV EAX,dword ptr [EDX + 0x4]
00402eb3 : CMP dword ptr [EAX + 0x4],EBX
00402eb6 : JNZ 0x00402ebd
00402eb8 : MOV dword ptr [EAX + 0x4],EDI
00402ebb : JMP 0x00402ec8
00402ebd : CMP dword ptr [ESI],EBX
00402ebf : JNZ 0x00402ec5
00402ec1 : MOV dword ptr [ESI],EDI
00402ec3 : JMP 0x00402ec8
00402ec5 : MOV dword ptr [ESI + 0x8],EDI
00402ec8 : MOV EAX,dword ptr [EDX + 0x4]
00402ecb : CMP dword ptr [EAX],EBX
00402ecd : JNZ 0x00402ef2
00402ecf : CMP byte ptr [EDI + 0x35],0x0
00402ed3 : JZ 0x00402ed9
00402ed5 : MOV ECX,ESI
00402ed7 : JMP 0x00402eed
00402ed9 : MOV EAX,dword ptr [EDI]
00402edb : CMP byte ptr [EAX + 0x35],0x0
00402edf : MOV ECX,EDI
00402ee1 : JNZ 0x00402eed
00402ee3 : MOV ECX,EAX
00402ee5 : MOV EAX,dword ptr [ECX]
00402ee7 : CMP byte ptr [EAX + 0x35],0x0
00402eeb : JZ 0x00402ee3
00402eed : MOV EAX,dword ptr [EDX + 0x4]
00402ef0 : MOV dword ptr [EAX],ECX
00402ef2 : MOV ECX,dword ptr [EDX + 0x4]
00402ef5 : MOV dword ptr [EBP + -0x18],ECX
00402ef8 : CMP dword ptr [ECX + 0x8],EBX
00402efb : JNZ 0x00402f82
00402f01 : CMP byte ptr [EDI + 0x35],0x0
00402f05 : JZ 0x00402f0e
00402f07 : MOV EAX,ESI
00402f09 : MOV dword ptr [ECX + 0x8],EAX
00402f0c : JMP 0x00402f82
00402f0e : MOV EAX,EDI
00402f10 : CALL 0x00403360
00402f15 : MOV ECX,dword ptr [EBP + -0x18]
00402f18 : MOV EDX,dword ptr [EBP + 0x8]
00402f1b : MOV dword ptr [ECX + 0x8],EAX
00402f1e : JMP 0x00402f82
00402f20 : MOV dword ptr [ECX + 0x4],EAX
00402f23 : MOV ECX,dword ptr [EBX]
00402f25 : MOV dword ptr [EAX],ECX
00402f27 : CMP EAX,dword ptr [EBX + 0x8]
00402f2a : JNZ 0x00402f30
00402f2c : MOV ESI,EAX
00402f2e : JMP 0x00402f49
00402f30 : CMP byte ptr [EDI + 0x35],0x0
00402f34 : MOV ESI,dword ptr [EAX + 0x4]
00402f37 : JNZ 0x00402f3c
00402f39 : MOV dword ptr [EDI + 0x4],ESI
00402f3c : MOV dword ptr [ESI],EDI
00402f3e : MOV ECX,dword ptr [EBX + 0x8]
00402f41 : MOV dword ptr [EDX],ECX
00402f43 : MOV EDX,dword ptr [EBX + 0x8]
00402f46 : MOV dword ptr [EDX + 0x4],EAX
00402f49 : MOV ECX,dword ptr [EBP + 0x8]
00402f4c : MOV ECX,dword ptr [ECX + 0x4]
00402f4f : CMP dword ptr [ECX + 0x4],EBX
00402f52 : JNZ 0x00402f59
00402f54 : MOV dword ptr [ECX + 0x4],EAX
00402f57 : JMP 0x00402f67
00402f59 : MOV ECX,dword ptr [EBX + 0x4]
00402f5c : CMP dword ptr [ECX],EBX
00402f5e : JNZ 0x00402f64
00402f60 : MOV dword ptr [ECX],EAX
00402f62 : JMP 0x00402f67
00402f64 : MOV dword ptr [ECX + 0x8],EAX
00402f67 : MOV EDX,dword ptr [EBX + 0x4]
00402f6a : MOV dword ptr [EAX + 0x4],EDX
00402f6d : LEA ECX,[EBX + 0x34]
00402f70 : ADD EAX,0x34
00402f73 : CMP EAX,ECX
00402f75 : JZ 0x00402f7f
00402f77 : MOV BL,byte ptr [ECX]
00402f79 : MOV DL,byte ptr [EAX]
00402f7b : MOV byte ptr [EAX],BL
00402f7d : MOV byte ptr [ECX],DL
00402f7f : MOV EDX,dword ptr [EBP + 0x8]
00402f82 : MOV EAX,dword ptr [EBP + -0x14]
00402f85 : MOV BL,0x1
00402f87 : CMP byte ptr [EAX + 0x34],BL
00402f8a : JNZ 0x00403093
00402f90 : MOV ECX,dword ptr [EDX + 0x4]
00402f93 : CMP EDI,dword ptr [ECX + 0x4]
00402f96 : JZ 0x00403090
00402f9c : LEA ESP,[ESP]
00402fa0 : CMP byte ptr [EDI + 0x34],BL
00402fa3 : JNZ 0x00403090
00402fa9 : MOV ECX,dword ptr [ESI]
00402fab : CMP EDI,ECX
00402fad : JNZ 0x00403018
00402faf : MOV ECX,dword ptr [ESI + 0x8]
00402fb2 : CMP byte ptr [ECX + 0x34],0x0
00402fb6 : JNZ 0x00402fcd
00402fb8 : MOV byte ptr [ECX + 0x34],BL
00402fbb : PUSH EDX
00402fbc : MOV ECX,ESI
00402fbe : MOV byte ptr [ESI + 0x34],0x0
00402fc2 : CALL 0x00402870
00402fc7 : MOV ECX,dword ptr [ESI + 0x8]
00402fca : MOV EDX,dword ptr [EBP + 0x8]
00402fcd : CMP byte ptr [ECX + 0x35],0x0
00402fd1 : JNZ 0x0040304b
00402fd3 : MOV EAX,dword ptr [ECX]
00402fd5 : CMP byte ptr [EAX + 0x34],BL
00402fd8 : JNZ 0x00402fe2
00402fda : MOV EAX,dword ptr [ECX + 0x8]
00402fdd : CMP byte ptr [EAX + 0x34],BL
00402fe0 : JZ 0x00403047
00402fe2 : MOV EAX,dword ptr [ECX + 0x8]
00402fe5 : CMP byte ptr [EAX + 0x34],BL
00402fe8 : JNZ 0x00402fff
00402fea : MOV EAX,dword ptr [ECX]
00402fec : MOV byte ptr [EAX + 0x34],BL
00402fef : PUSH EDX
00402ff0 : MOV byte ptr [ECX + 0x34],0x0
00402ff4 : CALL 0x00419700
00402ff9 : MOV ECX,dword ptr [ESI + 0x8]
00402ffc : MOV EDX,dword ptr [EBP + 0x8]
00402fff : MOV AL,byte ptr [ESI + 0x34]
00403002 : MOV byte ptr [ECX + 0x34],AL
00403005 : MOV byte ptr [ESI + 0x34],BL
00403008 : MOV ECX,dword ptr [ECX + 0x8]
0040300b : MOV byte ptr [ECX + 0x34],BL
0040300e : PUSH EDX
0040300f : MOV ECX,ESI
00403011 : CALL 0x00402870
00403016 : JMP 0x00403090
00403018 : CMP byte ptr [ECX + 0x34],0x0
0040301c : JNZ 0x00403032
0040301e : MOV byte ptr [ECX + 0x34],BL
00403021 : PUSH EDX
00403022 : MOV ECX,ESI
00403024 : MOV byte ptr [ESI + 0x34],0x0
00403028 : CALL 0x00419700
0040302d : MOV ECX,dword ptr [ESI]
0040302f : MOV EDX,dword ptr [EBP + 0x8]
00403032 : CMP byte ptr [ECX + 0x35],0x0
00403036 : JNZ 0x0040304b
00403038 : MOV EAX,dword ptr [ECX + 0x8]
0040303b : CMP byte ptr [EAX + 0x34],BL
0040303e : JNZ 0x0040305e
00403040 : MOV EAX,dword ptr [ECX]
00403042 : CMP byte ptr [EAX + 0x34],BL
00403045 : JNZ 0x0040305e
00403047 : MOV byte ptr [ECX + 0x34],0x0
0040304b : MOV ECX,dword ptr [EDX + 0x4]
0040304e : MOV EDI,ESI
00403050 : MOV ESI,dword ptr [ESI + 0x4]
00403053 : CMP EDI,dword ptr [ECX + 0x4]
00403056 : JNZ 0x00402fa0
0040305c : JMP 0x00403090
0040305e : MOV EAX,dword ptr [ECX]
00403060 : CMP byte ptr [EAX + 0x34],BL
00403063 : JNZ 0x0040307a
00403065 : MOV EAX,dword ptr [ECX + 0x8]
00403068 : MOV byte ptr [EAX + 0x34],BL
0040306b : PUSH EDX
0040306c : MOV byte ptr [ECX + 0x34],0x0
00403070 : CALL 0x00402870
00403075 : MOV ECX,dword ptr [ESI]
00403077 : MOV EDX,dword ptr [EBP + 0x8]
0040307a : MOV AL,byte ptr [ESI + 0x34]
0040307d : MOV byte ptr [ECX + 0x34],AL
00403080 : MOV byte ptr [ESI + 0x34],BL
00403083 : MOV ECX,dword ptr [ECX]
00403085 : MOV byte ptr [ECX + 0x34],BL
00403088 : PUSH EDX
00403089 : MOV ECX,ESI
0040308b : CALL 0x00419700
00403090 : MOV byte ptr [EDI + 0x34],BL
00403093 : OR ECX,0xffffffff
00403096 : MOV dword ptr [EBP + -0x4],ECX
00403099 : MOV EAX,dword ptr [EBP + -0x14]
0040309c : ADD EAX,0xc
0040309f : MOV dword ptr [EBP + -0x18],EAX
004030a2 : MOV dword ptr [EBP + -0x4],ECX
004030a5 : ADD EAX,0x4
004030a8 : PUSH EAX
004030a9 : CALL 0x00401300
004030ae : MOV ECX,dword ptr [EBP + -0x14]
004030b1 : CALL 0x006f04e0
