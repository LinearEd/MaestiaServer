PROGRAM  : Maestia.exe
FUNCTION : FUN_0041d520
ENTRY    : 0041d520
BODY     : [[0041d520, 0041d58c] [0041d590, 0041d5db]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0041d520(int *param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int unaff_ESI;
  undefined4 *unaff_EDI;
  
  piVar2 = *(int **)(unaff_ESI + 4);
  if ((param_1 == (int *)*piVar2) && (param_2 == piVar2)) {
    FUN_0045cd30(piVar2[1]);
    *(int *)(*(int *)(unaff_ESI + 4) + 4) = *(int *)(unaff_ESI + 4);
    *(undefined4 *)(unaff_ESI + 8) = 0;
    *(undefined4 *)*(undefined4 *)(unaff_ESI + 4) = *(undefined4 *)(unaff_ESI + 4);
    *(int *)(*(int *)(unaff_ESI + 4) + 8) = *(int *)(unaff_ESI + 4);
    *unaff_EDI = **(undefined4 **)(unaff_ESI + 4);
    return;
  }
  while (param_1 != param_2) {
    if (*(char *)((int)param_1 + 0x11) == '\0') {
      piVar2 = (int *)param_1[2];
      if (*(char *)((int)piVar2 + 0x11) == '\0') {
        cVar1 = *(char *)(*piVar2 + 0x11);
        param_1 = piVar2;
        piVar2 = (int *)*piVar2;
        while (cVar1 == '\0') {
          cVar1 = *(char *)(*piVar2 + 0x11);
          param_1 = piVar2;
          piVar2 = (int *)*piVar2;
        }
      }
      else {
        cVar1 = *(char *)(param_1[1] + 0x11);
        piVar3 = (int *)param_1[1];
        piVar2 = param_1;
        while ((param_1 = piVar3, cVar1 == '\0' && (piVar2 == (int *)param_1[2]))) {
          cVar1 = *(char *)(param_1[1] + 0x11);
          piVar3 = (int *)param_1[1];
          piVar2 = param_1;
        }
      }
    }
    FUN_0041d240();
  }
  *unaff_EDI = param_1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0041d520 : PUSH EBP
0041d521 : MOV EBP,ESP
0041d523 : AND ESP,0xfffffff8
0041d526 : MOV EAX,dword ptr [ESI + 0x4]
0041d529 : MOV ECX,dword ptr [EBP + 0x8]
0041d52c : MOV EDX,dword ptr [EBP + 0xc]
0041d52f : SUB ESP,0x8
0041d532 : CMP ECX,dword ptr [EAX]
0041d534 : JNZ 0x0041d56c
0041d536 : CMP EDX,EAX
0041d538 : JNZ 0x0041d56c
0041d53a : MOV EAX,dword ptr [EAX + 0x4]
0041d53d : PUSH EAX
0041d53e : MOV ECX,ESI
0041d540 : CALL 0x0045cd30
0041d545 : MOV EAX,dword ptr [ESI + 0x4]
0041d548 : MOV dword ptr [EAX + 0x4],EAX
0041d54b : MOV EAX,dword ptr [ESI + 0x4]
0041d54e : MOV dword ptr [ESI + 0x8],0x0
0041d555 : MOV dword ptr [EAX],EAX
0041d557 : MOV EAX,dword ptr [ESI + 0x4]
0041d55a : MOV dword ptr [EAX + 0x8],EAX
0041d55d : MOV ECX,dword ptr [ESI + 0x4]
0041d560 : MOV EDX,dword ptr [ECX]
0041d562 : MOV dword ptr [EDI],EDX
0041d564 : MOV EAX,EDI
0041d566 : MOV ESP,EBP
0041d568 : POP EBP
0041d569 : RET 0x8
0041d56c : CMP ECX,EDX
0041d56e : JZ 0x0041d5d2
0041d570 : CMP byte ptr [ECX + 0x11],0x0
0041d574 : MOV EDX,ECX
0041d576 : JNZ 0x0041d5be
0041d578 : MOV EAX,dword ptr [ECX + 0x8]
0041d57b : CMP byte ptr [EAX + 0x11],0x0
0041d57f : JNZ 0x0041d59f
0041d581 : MOV ECX,EAX
0041d583 : MOV EAX,dword ptr [ECX]
0041d585 : CMP byte ptr [EAX + 0x11],0x0
0041d589 : JNZ 0x0041d59a
0041d58b : JMP 0x0041d590
0041d590 : MOV ECX,EAX
0041d592 : MOV EAX,dword ptr [ECX]
0041d594 : CMP byte ptr [EAX + 0x11],0x0
0041d598 : JZ 0x0041d590
0041d59a : MOV dword ptr [EBP + 0x8],ECX
0041d59d : JMP 0x0041d5be
0041d59f : MOV EAX,dword ptr [ECX + 0x4]
0041d5a2 : CMP byte ptr [EAX + 0x11],0x0
0041d5a6 : JNZ 0x0041d5bb
0041d5a8 : CMP ECX,dword ptr [EAX + 0x8]
0041d5ab : JNZ 0x0041d5bb
0041d5ad : MOV ECX,EAX
0041d5af : MOV dword ptr [EBP + 0x8],ECX
0041d5b2 : MOV EAX,dword ptr [EAX + 0x4]
0041d5b5 : CMP byte ptr [EAX + 0x11],0x0
0041d5b9 : JZ 0x0041d5a8
0041d5bb : MOV dword ptr [EBP + 0x8],EAX
0041d5be : PUSH EDX
0041d5bf : LEA EAX,[ESP + 0x8]
0041d5c3 : PUSH EAX
0041d5c4 : PUSH ESI
0041d5c5 : CALL 0x0041d240
0041d5ca : MOV ECX,dword ptr [EBP + 0x8]
0041d5cd : CMP ECX,dword ptr [EBP + 0xc]
0041d5d0 : JNZ 0x0041d570
0041d5d2 : MOV dword ptr [EDI],ECX
0041d5d4 : MOV EAX,EDI
0041d5d6 : MOV ESP,EBP
0041d5d8 : POP EBP
0041d5d9 : RET 0x8
