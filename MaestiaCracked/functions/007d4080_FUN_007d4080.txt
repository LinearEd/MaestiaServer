PROGRAM  : Maestia.exe
FUNCTION : FUN_007d4080
ENTRY    : 007d4080
BODY     : [[007d4080, 007d4134]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007d4080(void)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int *piVar3;
  uint uVar4;
  int iVar5;
  int in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0f073;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(in_ECX + 8) != 0) {
    EnterCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  local_8 = 0;
  puVar1 = *(undefined4 **)(in_ECX + 0x38);
  for (puVar2 = (undefined4 *)*puVar1; puVar2 != puVar1; puVar2 = (undefined4 *)*puVar2) {
    piVar3 = (int *)puVar2[9];
    iVar5 = (**(code **)(*piVar3 + 0x1c))(uVar4);
    if (iVar5 - 2U < 8) {
      if ((int *)piVar3[0xa3] != (int *)0x0) {
        (**(code **)(*(int *)piVar3[0xa3] + 0x14))();
      }
      (**(code **)(*piVar3 + 300))();
    }
  }
  local_8 = 0xffffffff;
  if (*(int *)(in_ECX + 8) != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(*(int *)(in_ECX + 8) + 4));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007d4080 : PUSH EBP
007d4081 : MOV EBP,ESP
007d4083 : PUSH -0x1
007d4085 : PUSH 0xb0f073
007d408a : MOV EAX,FS:[0x0]
007d4090 : PUSH EAX
007d4091 : SUB ESP,0x8
007d4094 : PUSH EBX
007d4095 : PUSH ESI
007d4096 : PUSH EDI
007d4097 : MOV EAX,[0x00d66fa0]
007d409c : XOR EAX,EBP
007d409e : PUSH EAX
007d409f : LEA EAX,[EBP + -0xc]
007d40a2 : MOV FS:[0x0],EAX
007d40a8 : MOV ESI,ECX
007d40aa : MOV dword ptr [EBP + -0x10],ESI
007d40ad : MOV EAX,dword ptr [ESI + 0x8]
007d40b0 : MOV dword ptr [EBP + -0x14],ESI
007d40b3 : TEST EAX,EAX
007d40b5 : JZ 0x007d40c1
007d40b7 : ADD EAX,0x4
007d40ba : PUSH EAX
007d40bb : CALL dword ptr [0x00b85118]
007d40c1 : MOV dword ptr [EBP + -0x4],0x0
007d40c8 : MOV EBX,dword ptr [ESI + 0x38]
007d40cb : MOV EDI,dword ptr [EBX]
007d40cd : CMP EDI,EBX
007d40cf : JZ 0x007d410b
007d40d1 : MOV ESI,dword ptr [EDI + 0x24]
007d40d4 : MOV EAX,dword ptr [ESI]
007d40d6 : MOV EDX,dword ptr [EAX + 0x1c]
007d40d9 : MOV ECX,ESI
007d40db : CALL EDX
007d40dd : ADD EAX,-0x2
007d40e0 : CMP EAX,0x7
007d40e3 : JA 0x007d4102
007d40e5 : MOV ECX,dword ptr [ESI + 0x28c]
007d40eb : TEST ECX,ECX
007d40ed : JZ 0x007d40f6
007d40ef : MOV EAX,dword ptr [ECX]
007d40f1 : MOV EDX,dword ptr [EAX + 0x14]
007d40f4 : CALL EDX
007d40f6 : MOV EAX,dword ptr [ESI]
007d40f8 : MOV EDX,dword ptr [EAX + 0x12c]
007d40fe : MOV ECX,ESI
007d4100 : CALL EDX
007d4102 : MOV EDI,dword ptr [EDI]
007d4104 : CMP EDI,EBX
007d4106 : JNZ 0x007d40d1
007d4108 : MOV ESI,dword ptr [EBP + -0x10]
007d410b : MOV dword ptr [EBP + -0x4],0xffffffff
007d4112 : MOV EAX,dword ptr [ESI + 0x8]
007d4115 : TEST EAX,EAX
007d4117 : JZ 0x007d4123
007d4119 : ADD EAX,0x4
007d411c : PUSH EAX
007d411d : CALL dword ptr [0x00b8511c]
007d4123 : MOV ECX,dword ptr [EBP + -0xc]
007d4126 : MOV dword ptr FS:[0x0],ECX
007d412d : POP ECX
007d412e : POP EDI
007d412f : POP ESI
007d4130 : POP EBX
007d4131 : MOV ESP,EBP
007d4133 : POP EBP
007d4134 : RET
