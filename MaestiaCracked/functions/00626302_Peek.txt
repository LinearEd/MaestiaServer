PROGRAM  : Maestia.exe
FUNCTION : Peek
ENTRY    : 00626302
BODY     : [[00626302, 00626331]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Multiple Matches With Same Base Name
    private: unsigned short __thiscall std::istreambuf_iterator<unsigned short,struct
   std::char_traits<unsigned short> >::_Peek(void)
    private: unsigned short __thiscall std::istreambuf_iterator<unsigned short,struct
   std::char_traits<unsigned short> >::_Peek(void)const 
    private: wchar_t __thiscall std::istreambuf_iterator<wchar_t,struct std::char_traits<wchar_t>
   >::_Peek(void)
    private: wchar_t __thiscall std::istreambuf_iterator<wchar_t,struct std::char_traits<wchar_t>
   >::_Peek(void)const 
   
   Libraries: Visual Studio 2008 Release, Visual Studio 2010 Release */

undefined2 Peek(void)

{
  short sVar1;
  int *in_ECX;
  
  if (*in_ECX != 0) {
    sVar1 = sgetc();
    if (sVar1 != -1) {
      *(short *)((int)in_ECX + 6) = sVar1;
      goto LAB_00626328;
    }
  }
  *in_ECX = 0;
LAB_00626328:
  *(undefined1 *)(in_ECX + 1) = 1;
  return *(undefined2 *)((int)in_ECX + 6);
}



============================================================
DISASSEMBLY
============================================================
00626302 : MOV EDI,EDI
00626304 : PUSH ESI
00626305 : MOV ESI,ECX
00626307 : MOV ECX,dword ptr [ESI]
00626309 : TEST ECX,ECX
0062630b : JZ 0x00626325
0062630d : CALL 0x00625987
00626312 : MOVZX EAX,AX
00626315 : MOV ECX,0xffff
0062631a : CMP CX,AX
0062631d : JZ 0x00626325
0062631f : MOV word ptr [ESI + 0x6],AX
00626323 : JMP 0x00626328
00626325 : AND dword ptr [ESI],0x0
00626328 : MOV AX,word ptr [ESI + 0x6]
0062632c : MOV byte ptr [ESI + 0x4],0x1
00626330 : POP ESI
00626331 : RET
