PROGRAM  : Maestia.exe
FUNCTION : FUN_0090dd60
ENTRY    : 0090dd60
BODY     : [[0090dd60, 0090de58]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0090dd60(int param_1,ushort *param_2)

{
  int *piVar1;
  int iVar2;
  DWORD DVar3;
  int iVar4;
  undefined4 *puVar5;
  uint uVar6;
  undefined4 local_10;
  undefined1 local_c;
  undefined1 local_8;
  
  uVar6 = (*param_2 & 0x1fff) - 5;
  puVar5 = (undefined4 *)((int)param_2 + 5);
  if (*(int *)(param_1 + 0x38) == 1) {
    FUN_008422d0(1);
  }
  if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
    (**(code **)(*piVar1 + 4))(piVar1,"SkillPageOpen",&DAT_00c65aa0,*(undefined4 *)(param_1 + 0x38))
    ;
  }
  DVar3 = GetTickCount();
  *(DWORD *)(param_1 + 0x3c) = DVar3;
  FUN_008f7770(0,300);
  iVar4 = 0;
  if ((char)param_2[2] != '\0') {
    do {
      iVar2 = DAT_00d6e854;
      if ((puVar5 == (undefined4 *)0x0) || (uVar6 < 4)) {
LAB_0090de14:
        uVar6 = 0;
        puVar5 = (undefined4 *)0x0;
      }
      else {
        local_10 = *puVar5;
        if ((puVar5 + 1 == (undefined4 *)0x0) || (uVar6 == 4)) goto LAB_0090de14;
        local_c = *(undefined1 *)(puVar5 + 1);
        if (((undefined1 *)((int)puVar5 + 5) == (undefined1 *)0x0) || (uVar6 == 5))
        goto LAB_0090de14;
        local_8 = *(undefined1 *)((int)puVar5 + 5);
        uVar6 = uVar6 - 6;
        puVar5 = (undefined4 *)((int)puVar5 + 6);
      }
      DAT_00d6e854 = DAT_00d6e854 + -1;
      FUN_00842fb0(DAT_01724910,iVar2,local_10,local_c,local_8,*(undefined4 *)(param_1 + 0x38));
      iVar4 = iVar4 + 1;
    } while (iVar4 < (int)(uint)(byte)param_2[2]);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0090dd60 : PUSH EBP
0090dd61 : MOV EBP,ESP
0090dd63 : MOV EAX,dword ptr [EBP + 0xc]
0090dd66 : SUB ESP,0xc
0090dd69 : PUSH EBX
0090dd6a : MOV EBX,dword ptr [EBP + 0x8]
0090dd6d : PUSH ESI
0090dd6e : PUSH EDI
0090dd6f : MOVZX EDI,word ptr [EAX]
0090dd72 : AND EDI,0x1fff
0090dd78 : SUB EDI,0x5
0090dd7b : CMP dword ptr [EBX + 0x38],0x1
0090dd7f : LEA ESI,[EAX + 0x5]
0090dd82 : JNZ 0x0090dd91
0090dd84 : MOV ECX,dword ptr [0x01724910]
0090dd8a : PUSH 0x1
0090dd8c : CALL 0x008422d0
0090dd91 : MOV EAX,[0x00da9894]
0090dd96 : MOV EAX,dword ptr [EAX]
0090dd98 : TEST EAX,EAX
0090dd9a : JZ 0x0090ddbf
0090dd9c : MOV EAX,dword ptr [EAX + 0x114]
0090dda2 : TEST EAX,EAX
0090dda4 : JZ 0x0090ddbf
0090dda6 : MOV EDX,dword ptr [EBX + 0x38]
0090dda9 : MOV ECX,dword ptr [EAX]
0090ddab : PUSH EDX
0090ddac : PUSH 0xc65aa0
0090ddb1 : PUSH 0xc65aa4
0090ddb6 : PUSH EAX
0090ddb7 : MOV EAX,dword ptr [ECX + 0x4]
0090ddba : CALL EAX
0090ddbc : ADD ESP,0x10
0090ddbf : CALL dword ptr [0x00b850d8]
0090ddc5 : PUSH 0x12c
0090ddca : PUSH 0x0
0090ddcc : MOV ECX,EBX
0090ddce : MOV dword ptr [EBX + 0x3c],EAX
0090ddd1 : CALL 0x008f7770
0090ddd6 : MOV ECX,dword ptr [EBP + 0xc]
0090ddd9 : XOR EBX,EBX
0090dddb : CMP byte ptr [ECX + 0x4],BL
0090ddde : JBE 0x0090de50
0090dde0 : TEST ESI,ESI
0090dde2 : JZ 0x0090de14
0090dde4 : CMP EDI,0x4
0090dde7 : JC 0x0090de14
0090dde9 : MOV EDX,dword ptr [ESI]
0090ddeb : SUB EDI,0x4
0090ddee : ADD ESI,0x4
0090ddf1 : MOV dword ptr [EBP + -0xc],EDX
0090ddf4 : JZ 0x0090de14
0090ddf6 : CMP EDI,0x1
0090ddf9 : JC 0x0090de14
0090ddfb : MOV AL,byte ptr [ESI]
0090ddfd : DEC EDI
0090ddfe : ADD ESI,0x1
0090de01 : MOV byte ptr [EBP + -0x8],AL
0090de04 : JZ 0x0090de14
0090de06 : CMP EDI,0x1
0090de09 : JC 0x0090de14
0090de0b : MOV CL,byte ptr [ESI]
0090de0d : DEC EDI
0090de0e : MOV byte ptr [EBP + -0x4],CL
0090de11 : INC ESI
0090de12 : JMP 0x0090de18
0090de14 : XOR EDI,EDI
0090de16 : XOR ESI,ESI
0090de18 : MOV EAX,[0x00d6e854]
0090de1d : MOV EDX,dword ptr [EBP + 0x8]
0090de20 : MOV ECX,EAX
0090de22 : DEC EAX
0090de23 : MOV [0x00d6e854],EAX
0090de28 : MOV EAX,dword ptr [EDX + 0x38]
0090de2b : MOV EDX,dword ptr [EBP + -0x4]
0090de2e : PUSH EAX
0090de2f : MOV EAX,dword ptr [EBP + -0x8]
0090de32 : PUSH EDX
0090de33 : MOV EDX,dword ptr [EBP + -0xc]
0090de36 : PUSH EAX
0090de37 : MOV EAX,[0x01724910]
0090de3c : PUSH EDX
0090de3d : PUSH ECX
0090de3e : PUSH EAX
0090de3f : CALL 0x00842fb0
0090de44 : MOV ECX,dword ptr [EBP + 0xc]
0090de47 : MOVZX EDX,byte ptr [ECX + 0x4]
0090de4b : INC EBX
0090de4c : CMP EBX,EDX
0090de4e : JL 0x0090dde0
0090de50 : POP EDI
0090de51 : POP ESI
0090de52 : POP EBX
0090de53 : MOV ESP,EBP
0090de55 : POP EBP
0090de56 : RET 0x8
