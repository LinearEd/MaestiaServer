PROGRAM  : Maestia.exe
FUNCTION : FUN_0052d5a0
ENTRY    : 0052d5a0
BODY     : [[0052d5a0, 0052d94d]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0052d786) */
/* WARNING: Removing unreachable block (ram,0x0052d6df) */
/* WARNING: Removing unreachable block (ram,0x0052d639) */
/* WARNING: Removing unreachable block (ram,0x0052d68c) */
/* WARNING: Removing unreachable block (ram,0x0052d733) */
/* WARNING: Removing unreachable block (ram,0x0052d7da) */

void FUN_0052d5a0(int param_1)

{
  char cVar1;
  byte bVar2;
  int iVar3;
  GRefCountImpl *this;
  undefined1 auStack_30 [40];
  undefined4 uStack_8;
  
  iVar3 = (**(code **)(**(int **)(*(int *)(param_1 + 0x18) + 0x74) + 0x40))();
  this = (GRefCountImpl *)(**(code **)(*(int *)(iVar3 + 8) + 0xc))(0x1b);
  if (this == (GRefCountImpl *)0x0) {
    return;
  }
  uStack_8 = (uint)uStack_8._2_2_ << 0x10;
  cVar1 = FUN_00598040(auStack_30);
  if (cVar1 != '\0') {
    iVar3 = FUN_00515840(0x30,0);
    if (iVar3 == 0) {
      iVar3 = 0;
    }
    else {
      iVar3 = FUN_00551210(*(undefined4 *)(param_1 + 0x18));
    }
    if ((uStack_8 & 1) != 0) {
      FUN_00500670(*(int *)(param_1 + 0x18) + 0x78,"textColor",&stack0xffffffc0);
      FUN_00526bc0();
    }
    bVar2 = (byte)uStack_8;
    if (((byte)uStack_8 >> 1 & 1) != 0) {
      FUN_00500670(*(int *)(param_1 + 0x18) + 0x78,"backgroundColor",&stack0xffffffc0);
      FUN_00526bc0();
      bVar2 = (byte)uStack_8;
    }
    if ((bVar2 >> 2 & 1) != 0) {
      FUN_00500670(*(int *)(param_1 + 0x18) + 0x78,"indexBackgroundColor",&stack0xffffffc0);
      FUN_00526bc0();
      bVar2 = (byte)uStack_8;
    }
    if ((bVar2 >> 3 & 1) != 0) {
      FUN_00500670(*(int *)(param_1 + 0x18) + 0x78,"selectedTextColor",&stack0xffffffc0);
      FUN_00526bc0();
      bVar2 = (byte)uStack_8;
    }
    if ((bVar2 >> 4 & 1) != 0) {
      FUN_00500670(*(int *)(param_1 + 0x18) + 0x78,"selectedTextBackgroundColor",&stack0xffffffc0);
      FUN_00526bc0();
      bVar2 = (byte)uStack_8;
    }
    if ((bVar2 >> 5 & 1) != 0) {
      FUN_00500670(*(int *)(param_1 + 0x18) + 0x78,"selectedIndexBackgroundColor",&stack0xffffffc0);
      FUN_00526bc0();
      bVar2 = (byte)uStack_8;
    }
    if ((bVar2 >> 6 & 1) != 0) {
      FUN_00500670(*(int *)(param_1 + 0x18) + 0x78,"fontSize",&stack0xffffffc0);
      FUN_00526bc0();
      bVar2 = (byte)uStack_8;
    }
    if ((char)bVar2 < '\0') {
      FUN_00500670(*(int *)(param_1 + 0x18) + 0x78,"readingWindowTextColor",&stack0xffffffc0);
      FUN_00526bc0();
    }
    if ((uStack_8 >> 8 & 1) != 0) {
      FUN_00500670(*(int *)(param_1 + 0x18) + 0x78,"readingWindowBackgroundColor",&stack0xffffffc0);
      FUN_00526bc0();
    }
    if ((uStack_8 >> 9 & 1) != 0) {
      FUN_00500670(*(int *)(param_1 + 0x18) + 0x78,"readingWindowFontSize",&stack0xffffffc0);
      FUN_00526bc0();
    }
    FUN_005271c0(iVar3);
    if (iVar3 != 0) {
      FUN_00503db0();
    }
  }
  GRefCountImpl::Release(this);
  return;
}



============================================================
DISASSEMBLY
============================================================
0052d5a0 : SUB ESP,0x3c
0052d5a3 : PUSH EBP
0052d5a4 : PUSH ESI
0052d5a5 : MOV ESI,dword ptr [ESP + 0x48]
0052d5a9 : MOV EAX,dword ptr [ESI + 0x18]
0052d5ac : MOV ECX,dword ptr [EAX + 0x74]
0052d5af : MOV EDX,dword ptr [ECX]
0052d5b1 : MOV EAX,dword ptr [EDX + 0x40]
0052d5b4 : CALL EAX
0052d5b6 : MOV EDX,dword ptr [EAX + 0x8]
0052d5b9 : ADD EAX,0x8
0052d5bc : MOV ECX,EAX
0052d5be : MOV EAX,dword ptr [EDX + 0xc]
0052d5c1 : PUSH 0x1b
0052d5c3 : CALL EAX
0052d5c5 : MOV EBP,EAX
0052d5c7 : TEST EBP,EBP
0052d5c9 : JZ 0x0052d948
0052d5cf : XOR ECX,ECX
0052d5d1 : LEA EDX,[ESP + 0x18]
0052d5d5 : MOV word ptr [ESP + 0x40],CX
0052d5da : PUSH EDX
0052d5db : MOV ECX,EBP
0052d5dd : CALL 0x00598040
0052d5e2 : TEST AL,AL
0052d5e4 : JZ 0x0052d93c
0052d5ea : MOV EAX,dword ptr [ESI + 0x18]
0052d5ed : MOV ECX,dword ptr [EAX + 0x78]
0052d5f0 : MOV ECX,dword ptr [ECX + 0x288]
0052d5f6 : PUSH EDI
0052d5f7 : PUSH 0x0
0052d5f9 : PUSH 0x30
0052d5fb : CALL 0x00515840
0052d600 : TEST EAX,EAX
0052d602 : JZ 0x0052d613
0052d604 : MOV EDX,dword ptr [ESI + 0x18]
0052d607 : PUSH EDX
0052d608 : MOV ECX,EAX
0052d60a : CALL 0x00551210
0052d60f : MOV EDI,EAX
0052d611 : JMP 0x0052d615
0052d613 : XOR EDI,EDI
0052d615 : MOV AL,byte ptr [ESP + 0x44]
0052d619 : PUSH EBX
0052d61a : MOV BL,0x3
0052d61c : TEST AL,0x1
0052d61e : JZ 0x0052d669
0052d620 : MOV EAX,dword ptr [ESP + 0x20]
0052d624 : AND EAX,0xffffff
0052d629 : MOV dword ptr [ESP + 0x50],EAX
0052d62d : FILD dword ptr [ESP + 0x50]
0052d631 : MOV byte ptr [ESP + 0x10],BL
0052d635 : TEST EAX,EAX
0052d637 : JGE 0x0052d63f
0052d639 : FADD double ptr [0x00cdf6f8]
0052d63f : MOV EDX,dword ptr [ESI + 0x18]
0052d642 : FSTP double ptr [ESP + 0x14]
0052d646 : LEA ECX,[ESP + 0x10]
0052d64a : PUSH ECX
0052d64b : PUSH 0xb86678
0052d650 : ADD EDX,0x78
0052d653 : PUSH EDX
0052d654 : LEA ECX,[EDI + 0x10]
0052d657 : CALL 0x00500670
0052d65c : LEA ECX,[ESP + 0x10]
0052d660 : CALL 0x00526bc0
0052d665 : MOV AL,byte ptr [ESP + 0x48]
0052d669 : MOV CL,AL
0052d66b : SHR CL,0x1
0052d66d : TEST CL,0x1
0052d670 : JZ 0x0052d6bc
0052d672 : MOV EDX,dword ptr [ESP + 0x24]
0052d676 : AND EDX,0xffffff
0052d67c : MOV dword ptr [ESP + 0x50],EDX
0052d680 : FILD dword ptr [ESP + 0x50]
0052d684 : MOV byte ptr [ESP + 0x10],BL
0052d688 : TEST EDX,EDX
0052d68a : JGE 0x0052d692
0052d68c : FADD double ptr [0x00cdf6f8]
0052d692 : MOV ECX,dword ptr [ESI + 0x18]
0052d695 : FSTP double ptr [ESP + 0x14]
0052d699 : LEA EAX,[ESP + 0x10]
0052d69d : PUSH EAX
0052d69e : ADD ECX,0x78
0052d6a1 : PUSH 0xb86660
0052d6a6 : PUSH ECX
0052d6a7 : LEA ECX,[EDI + 0x10]
0052d6aa : CALL 0x00500670
0052d6af : LEA ECX,[ESP + 0x10]
0052d6b3 : CALL 0x00526bc0
0052d6b8 : MOV AL,byte ptr [ESP + 0x48]
0052d6bc : MOV DL,AL
0052d6be : SHR DL,0x2
0052d6c1 : TEST DL,0x1
0052d6c4 : JZ 0x0052d70f
0052d6c6 : MOV EAX,dword ptr [ESP + 0x28]
0052d6ca : AND EAX,0xffffff
0052d6cf : MOV dword ptr [ESP + 0x50],EAX
0052d6d3 : FILD dword ptr [ESP + 0x50]
0052d6d7 : MOV byte ptr [ESP + 0x10],BL
0052d6db : TEST EAX,EAX
0052d6dd : JGE 0x0052d6e5
0052d6df : FADD double ptr [0x00cdf6f8]
0052d6e5 : MOV EDX,dword ptr [ESI + 0x18]
0052d6e8 : FSTP double ptr [ESP + 0x14]
0052d6ec : LEA ECX,[ESP + 0x10]
0052d6f0 : PUSH ECX
0052d6f1 : PUSH 0xb8b3e4
0052d6f6 : ADD EDX,0x78
0052d6f9 : PUSH EDX
0052d6fa : LEA ECX,[EDI + 0x10]
0052d6fd : CALL 0x00500670
0052d702 : LEA ECX,[ESP + 0x10]
0052d706 : CALL 0x00526bc0
0052d70b : MOV AL,byte ptr [ESP + 0x48]
0052d70f : MOV CL,AL
0052d711 : SHR CL,0x3
0052d714 : TEST CL,0x1
0052d717 : JZ 0x0052d763
0052d719 : MOV EDX,dword ptr [ESP + 0x2c]
0052d71d : AND EDX,0xffffff
0052d723 : MOV dword ptr [ESP + 0x50],EDX
0052d727 : FILD dword ptr [ESP + 0x50]
0052d72b : MOV byte ptr [ESP + 0x10],BL
0052d72f : TEST EDX,EDX
0052d731 : JGE 0x0052d739
0052d733 : FADD double ptr [0x00cdf6f8]
0052d739 : MOV ECX,dword ptr [ESI + 0x18]
0052d73c : FSTP double ptr [ESP + 0x14]
0052d740 : LEA EAX,[ESP + 0x10]
0052d744 : PUSH EAX
0052d745 : ADD ECX,0x78
0052d748 : PUSH 0xb8b3d0
0052d74d : PUSH ECX
0052d74e : LEA ECX,[EDI + 0x10]
0052d751 : CALL 0x00500670
0052d756 : LEA ECX,[ESP + 0x10]
0052d75a : CALL 0x00526bc0
0052d75f : MOV AL,byte ptr [ESP + 0x48]
0052d763 : MOV DL,AL
0052d765 : SHR DL,0x4
0052d768 : TEST DL,0x1
0052d76b : JZ 0x0052d7b6
0052d76d : MOV EAX,dword ptr [ESP + 0x30]
0052d771 : AND EAX,0xffffff
0052d776 : MOV dword ptr [ESP + 0x50],EAX
0052d77a : FILD dword ptr [ESP + 0x50]
0052d77e : MOV byte ptr [ESP + 0x10],BL
0052d782 : TEST EAX,EAX
0052d784 : JGE 0x0052d78c
0052d786 : FADD double ptr [0x00cdf6f8]
0052d78c : MOV EDX,dword ptr [ESI + 0x18]
0052d78f : FSTP double ptr [ESP + 0x14]
0052d793 : LEA ECX,[ESP + 0x10]
0052d797 : PUSH ECX
0052d798 : PUSH 0xb8b3b4
0052d79d : ADD EDX,0x78
0052d7a0 : PUSH EDX
0052d7a1 : LEA ECX,[EDI + 0x10]
0052d7a4 : CALL 0x00500670
0052d7a9 : LEA ECX,[ESP + 0x10]
0052d7ad : CALL 0x00526bc0
0052d7b2 : MOV AL,byte ptr [ESP + 0x48]
0052d7b6 : MOV CL,AL
0052d7b8 : SHR CL,0x5
0052d7bb : TEST CL,0x1
0052d7be : JZ 0x0052d80a
0052d7c0 : MOV EDX,dword ptr [ESP + 0x34]
0052d7c4 : AND EDX,0xffffff
0052d7ca : MOV dword ptr [ESP + 0x50],EDX
0052d7ce : FILD dword ptr [ESP + 0x50]
0052d7d2 : MOV byte ptr [ESP + 0x10],BL
0052d7d6 : TEST EDX,EDX
0052d7d8 : JGE 0x0052d7e0
0052d7da : FADD double ptr [0x00cdf6f8]
0052d7e0 : MOV ECX,dword ptr [ESI + 0x18]
0052d7e3 : FSTP double ptr [ESP + 0x14]
0052d7e7 : LEA EAX,[ESP + 0x10]
0052d7eb : PUSH EAX
0052d7ec : ADD ECX,0x78
0052d7ef : PUSH 0xb8b394
0052d7f4 : PUSH ECX
0052d7f5 : LEA ECX,[EDI + 0x10]
0052d7f8 : CALL 0x00500670
0052d7fd : LEA ECX,[ESP + 0x10]
0052d801 : CALL 0x00526bc0
0052d806 : MOV AL,byte ptr [ESP + 0x48]
0052d80a : MOV DL,AL
0052d80c : SHR DL,0x6
0052d80f : TEST DL,0x1
0052d812 : JZ 0x0052d854
0052d814 : MOV EAX,dword ptr [ESP + 0x40]
0052d818 : FILD dword ptr [ESP + 0x40]
0052d81c : MOV byte ptr [ESP + 0x10],BL
0052d820 : TEST EAX,EAX
0052d822 : JGE 0x0052d82a
0052d824 : FADD double ptr [0x00cdf6f8]
0052d82a : MOV EDX,dword ptr [ESI + 0x18]
0052d82d : FSTP double ptr [ESP + 0x14]
0052d831 : LEA ECX,[ESP + 0x10]
0052d835 : PUSH ECX
0052d836 : PUSH 0xb8b388
0052d83b : ADD EDX,0x78
0052d83e : PUSH EDX
0052d83f : LEA ECX,[EDI + 0x10]
0052d842 : CALL 0x00500670
0052d847 : LEA ECX,[ESP + 0x10]
0052d84b : CALL 0x00526bc0
0052d850 : MOV AL,byte ptr [ESP + 0x48]
0052d854 : SHR AL,0x7
0052d857 : TEST AL,0x1
0052d859 : JZ 0x0052d897
0052d85b : MOV EAX,dword ptr [ESP + 0x38]
0052d85f : FILD dword ptr [ESP + 0x38]
0052d863 : MOV byte ptr [ESP + 0x10],BL
0052d867 : TEST EAX,EAX
0052d869 : JGE 0x0052d871
0052d86b : FADD double ptr [0x00cdf6f8]
0052d871 : MOV EDX,dword ptr [ESI + 0x18]
0052d874 : FSTP double ptr [ESP + 0x14]
0052d878 : LEA ECX,[ESP + 0x10]
0052d87c : PUSH ECX
0052d87d : PUSH 0xb8b370
0052d882 : ADD EDX,0x78
0052d885 : PUSH EDX
0052d886 : LEA ECX,[EDI + 0x10]
0052d889 : CALL 0x00500670
0052d88e : LEA ECX,[ESP + 0x10]
0052d892 : CALL 0x00526bc0
0052d897 : MOV EAX,dword ptr [ESP + 0x48]
0052d89b : SHR EAX,0x8
0052d89e : TEST AL,0x1
0052d8a0 : JZ 0x0052d8de
0052d8a2 : MOV ECX,dword ptr [ESP + 0x3c]
0052d8a6 : FILD dword ptr [ESP + 0x3c]
0052d8aa : MOV byte ptr [ESP + 0x10],BL
0052d8ae : TEST ECX,ECX
0052d8b0 : JGE 0x0052d8b8
0052d8b2 : FADD double ptr [0x00cdf6f8]
0052d8b8 : MOV EAX,dword ptr [ESI + 0x18]
0052d8bb : FSTP double ptr [ESP + 0x14]
0052d8bf : LEA EDX,[ESP + 0x10]
0052d8c3 : PUSH EDX
0052d8c4 : PUSH 0xb8b350
0052d8c9 : ADD EAX,0x78
0052d8cc : PUSH EAX
0052d8cd : LEA ECX,[EDI + 0x10]
0052d8d0 : CALL 0x00500670
0052d8d5 : LEA ECX,[ESP + 0x10]
0052d8d9 : CALL 0x00526bc0
0052d8de : MOV ECX,dword ptr [ESP + 0x48]
0052d8e2 : SHR ECX,0x9
0052d8e5 : TEST CL,0x1
0052d8e8 : JZ 0x0052d926
0052d8ea : MOV EDX,dword ptr [ESP + 0x44]
0052d8ee : FILD dword ptr [ESP + 0x44]
0052d8f2 : MOV byte ptr [ESP + 0x10],BL
0052d8f6 : TEST EDX,EDX
0052d8f8 : JGE 0x0052d900
0052d8fa : FADD double ptr [0x00cdf6f8]
0052d900 : MOV ECX,dword ptr [ESI + 0x18]
0052d903 : FSTP double ptr [ESP + 0x14]
0052d907 : LEA EAX,[ESP + 0x10]
0052d90b : PUSH EAX
0052d90c : ADD ECX,0x78
0052d90f : PUSH 0xb8b338
0052d914 : PUSH ECX
0052d915 : LEA ECX,[EDI + 0x10]
0052d918 : CALL 0x00500670
0052d91d : LEA ECX,[ESP + 0x10]
0052d921 : CALL 0x00526bc0
0052d926 : MOV ECX,dword ptr [ESI + 0x4]
0052d929 : PUSH EDI
0052d92a : CALL 0x005271c0
0052d92f : POP EBX
0052d930 : TEST EDI,EDI
0052d932 : JZ 0x0052d93b
0052d934 : MOV ECX,EDI
0052d936 : CALL 0x00503db0
0052d93b : POP EDI
0052d93c : POP ESI
0052d93d : MOV ECX,EBP
0052d93f : POP EBP
0052d940 : ADD ESP,0x3c
0052d943 : JMP 0x004ff7e0
0052d948 : POP ESI
0052d949 : POP EBP
0052d94a : ADD ESP,0x3c
0052d94d : RET
