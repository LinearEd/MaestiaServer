PROGRAM  : Maestia.exe
FUNCTION : FUN_00581bd0
ENTRY    : 00581bd0
BODY     : [[00581bd0, 00581dff]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00581bd0(int param_1)

{
  undefined1 *puVar1;
  char cVar2;
  int iVar3;
  float10 fVar4;
  float10 fVar5;
  float10 fVar6;
  float10 fVar7;
  float10 fVar8;
  undefined4 uVar9;
  undefined1 local_b1;
  double local_b0;
  double local_a8;
  double local_a0;
  double local_98;
  double local_90;
  double local_88;
  double local_80;
  double local_70;
  undefined1 local_68 [88];
  double local_10;
  
  cVar2 = FUN_00526030(0x11);
  if (cVar2 == '\0') {
    FUN_00526050("Rectangle",0,0);
    return;
  }
  local_b1 = 0;
  if (0 < *(int *)(param_1 + 0x1c)) {
    uVar9 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(0);
    iVar3 = FUN_00526fa0(uVar9);
    if (iVar3 != 0) {
      local_b0 = 0.0;
      local_a8 = 0.0;
      local_a0 = 0.0;
      local_98 = 0.0;
      FUN_0040efe0(local_68,0x10,4,&LAB_004ffd10);
      FUN_00581440(*(undefined4 *)(param_1 + 0x18),&local_b0);
      FUN_00580c30();
      fVar4 = (float10)FUN_00527730(*(undefined4 *)(param_1 + 0x18));
      local_90 = (double)fVar4;
      fVar4 = (float10)FUN_00527730(*(undefined4 *)(param_1 + 0x18));
      local_88 = (double)fVar4;
      fVar4 = (float10)FUN_00527730(*(undefined4 *)(param_1 + 0x18));
      local_70 = (double)fVar4;
      fVar5 = (float10)FUN_00527730(*(undefined4 *)(param_1 + 0x18));
      fVar6 = (float10)local_70;
      fVar8 = (float10)local_90 + fVar6;
      local_10 = (double)((float10)local_88 + fVar5);
      fVar4 = (float10)0;
      local_90 = (double)fVar4;
      local_80 = (double)fVar4;
      if ((((fVar5 < (float10)local_98 == (fVar5 == (float10)local_98)) ||
           (local_a8 < local_10 == (local_a8 == local_10))) ||
          ((float10)local_b0 < fVar8 == ((float10)local_b0 == fVar8))) ||
         (fVar7 = (float10)local_a0, fVar7 < fVar6)) {
        fVar7 = (float10)local_80;
        fVar6 = (float10)local_90;
        fVar8 = fVar4;
        fVar5 = fVar4;
      }
      else {
        if (fVar6 < (float10)local_b0) {
          fVar6 = (float10)local_b0;
        }
        if (fVar8 < fVar7) {
          fVar7 = fVar8;
        }
        if (fVar5 < (float10)local_a8) {
          fVar5 = (float10)local_a8;
        }
        fVar8 = (float10)local_98;
        if ((float10)local_10 < fVar8) {
          fVar8 = (float10)local_10;
        }
      }
      local_b1 = 1;
      if ((fVar7 - fVar6 == fVar4) || (fVar8 - fVar5 == fVar4)) {
        local_b1 = 0;
      }
      FUN_004ff770(local_68,0x10,4,FUN_00526bc0);
    }
  }
  puVar1 = *(undefined1 **)(param_1 + 4);
  FUN_00526400();
  *puVar1 = 2;
  puVar1[4] = local_b1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00581bd0 : PUSH EBP
00581bd1 : MOV EBP,ESP
00581bd3 : AND ESP,0xfffffff8
00581bd6 : SUB ESP,0xac
00581bdc : PUSH EBX
00581bdd : PUSH ESI
00581bde : MOV ESI,dword ptr [EBP + 0x8]
00581be1 : PUSH EDI
00581be2 : PUSH 0x11
00581be4 : MOV ECX,ESI
00581be6 : CALL 0x00526030
00581beb : TEST AL,AL
00581bed : JNZ 0x00581c06
00581bef : PUSH 0x0
00581bf1 : PUSH 0x0
00581bf3 : PUSH 0xb8db1c
00581bf8 : MOV ECX,ESI
00581bfa : CALL 0x00526050
00581bff : POP EDI
00581c00 : POP ESI
00581c01 : POP EBX
00581c02 : MOV ESP,EBP
00581c04 : POP EBP
00581c05 : RET
00581c06 : MOV EAX,dword ptr [ESI + 0x8]
00581c09 : MOV byte ptr [ESP + 0xf],0x0
00581c0e : TEST EAX,EAX
00581c10 : JZ 0x00581c17
00581c12 : LEA EBX,[EAX + -0x10]
00581c15 : JMP 0x00581c19
00581c17 : XOR EBX,EBX
00581c19 : CMP dword ptr [ESI + 0x1c],0x0
00581c1d : JLE 0x00581de5
00581c23 : MOV EAX,dword ptr [ESI + 0x18]
00581c26 : PUSH EAX
00581c27 : PUSH 0x0
00581c29 : MOV ECX,ESI
00581c2b : CALL 0x00526260
00581c30 : MOV ECX,EAX
00581c32 : CALL 0x00526fa0
00581c37 : MOV EDI,EAX
00581c39 : TEST EDI,EDI
00581c3b : JZ 0x00581de5
00581c41 : FLDZ
00581c43 : PUSH 0x4ffd10
00581c48 : PUSH 0x4
00581c4a : FST double ptr [ESP + 0x18]
00581c4e : PUSH 0x10
00581c50 : FST double ptr [ESP + 0x24]
00581c54 : LEA ECX,[ESP + 0x64]
00581c58 : FST double ptr [ESP + 0x2c]
00581c5c : PUSH ECX
00581c5d : FSTP double ptr [ESP + 0x38]
00581c61 : CALL 0x0040efe0
00581c66 : MOV EAX,dword ptr [ESI + 0x18]
00581c69 : LEA EDX,[ESP + 0x10]
00581c6d : PUSH EDX
00581c6e : PUSH EAX
00581c6f : MOV ECX,EBX
00581c71 : CALL 0x00581440
00581c76 : MOV ECX,dword ptr [ESI + 0x18]
00581c79 : LEA EAX,[ESP + 0x58]
00581c7d : MOV EDX,EDI
00581c7f : CALL 0x00580c30
00581c84 : MOV ECX,dword ptr [ESI + 0x18]
00581c87 : PUSH ECX
00581c88 : LEA ECX,[ESP + 0x7c]
00581c8c : CALL 0x00527730
00581c91 : FSTP double ptr [ESP + 0x30]
00581c95 : MOV EDX,dword ptr [ESI + 0x18]
00581c98 : PUSH EDX
00581c99 : LEA ECX,[ESP + 0x8c]
00581ca0 : CALL 0x00527730
00581ca5 : FSTP double ptr [ESP + 0x38]
00581ca9 : MOV EAX,dword ptr [ESI + 0x18]
00581cac : PUSH EAX
00581cad : LEA ECX,[ESP + 0x5c]
00581cb1 : CALL 0x00527730
00581cb6 : FSTP double ptr [ESP + 0x50]
00581cba : MOV ECX,dword ptr [ESI + 0x18]
00581cbd : PUSH ECX
00581cbe : LEA ECX,[ESP + 0x6c]
00581cc2 : CALL 0x00527730
00581cc7 : FLD double ptr [ESP + 0x30]
00581ccb : FLD double ptr [ESP + 0x50]
00581ccf : FADD ST1,ST0
00581cd1 : FLD double ptr [ESP + 0x38]
00581cd5 : FADD ST0,ST3
00581cd7 : FSTP double ptr [ESP + 0xb0]
00581cde : FLDZ
00581ce0 : FST double ptr [ESP + 0x30]
00581ce4 : FLD ST0
00581ce6 : FXCH
00581ce8 : FST double ptr [ESP + 0x40]
00581cec : FLD ST0
00581cee : FXCH ST5
00581cf0 : FCOM double ptr [ESP + 0x28]
00581cf4 : FNSTSW AX
00581cf6 : TEST AH,0x41
00581cf9 : JP 0x00581d82
00581cff : FLD double ptr [ESP + 0x18]
00581d03 : FCOMP double ptr [ESP + 0xb0]
00581d0a : FNSTSW AX
00581d0c : TEST AH,0x41
00581d0f : JP 0x00581d82
00581d11 : FLD double ptr [ESP + 0x10]
00581d15 : FCOMP ST5
00581d17 : FNSTSW AX
00581d19 : TEST AH,0x41
00581d1c : JP 0x00581d82
00581d1e : FLD double ptr [ESP + 0x20]
00581d22 : FCOM ST4
00581d24 : FNSTSW AX
00581d26 : TEST AH,0x1
00581d29 : JNZ 0x00581d8a
00581d2b : FSTP ST6
00581d2d : FSTP ST2
00581d2f : FLD double ptr [ESP + 0x10]
00581d33 : FCOM ST3
00581d35 : FNSTSW AX
00581d37 : TEST AH,0x41
00581d3a : JNZ 0x00581d40
00581d3c : FSTP ST3
00581d3e : JMP 0x00581d42
00581d40 : FSTP ST0
00581d42 : FXCH ST4
00581d44 : FCOM ST3
00581d46 : FNSTSW AX
00581d48 : TEST AH,0x41
00581d4b : JNZ 0x00581d51
00581d4d : FSTP ST0
00581d4f : JMP 0x00581d53
00581d51 : FSTP ST3
00581d53 : FLD double ptr [ESP + 0x18]
00581d57 : FCOM
00581d59 : FNSTSW AX
00581d5b : TEST AH,0x41
00581d5e : JNZ 0x00581d64
00581d60 : FSTP ST1
00581d62 : JMP 0x00581d66
00581d64 : FSTP ST0
00581d66 : FLD double ptr [ESP + 0xb0]
00581d6d : FLD double ptr [ESP + 0x28]
00581d71 : FCOM
00581d73 : FNSTSW AX
00581d75 : TEST AH,0x41
00581d78 : JNZ 0x00581d7e
00581d7a : FSTP ST0
00581d7c : JMP 0x00581da6
00581d7e : FSTP ST1
00581d80 : JMP 0x00581da6
00581d82 : FSTP ST0
00581d84 : FSTP ST2
00581d86 : FSTP ST2
00581d88 : JMP 0x00581d94
00581d8a : FSTP ST1
00581d8c : FSTP ST3
00581d8e : FSTP ST3
00581d90 : FSTP ST1
00581d92 : FXCH
00581d94 : FLD double ptr [ESP + 0x40]
00581d98 : FLD double ptr [ESP + 0x30]
00581d9c : FXCH ST2
00581d9e : FXCH ST4
00581da0 : FXCH
00581da2 : FXCH ST3
00581da4 : FXCH
00581da6 : FXCH ST3
00581da8 : MOV byte ptr [ESP + 0xf],0x1
00581dad : FSUBRP ST2,ST0
00581daf : FXCH
00581db1 : FUCOMP ST3
00581db3 : FNSTSW AX
00581db5 : TEST AH,0x44
00581db8 : JNP 0x00581dc7
00581dba : FSUBP
00581dbc : FUCOMPP
00581dbe : FNSTSW AX
00581dc0 : TEST AH,0x44
00581dc3 : JP 0x00581dd2
00581dc5 : JMP 0x00581dcd
00581dc7 : FSTP ST2
00581dc9 : FSTP ST0
00581dcb : FSTP ST0
00581dcd : MOV byte ptr [ESP + 0xf],0x0
00581dd2 : PUSH 0x526bc0
00581dd7 : PUSH 0x4
00581dd9 : PUSH 0x10
00581ddb : LEA EDX,[ESP + 0x64]
00581ddf : PUSH EDX
00581de0 : CALL 0x004ff770
00581de5 : MOV ESI,dword ptr [ESI + 0x4]
00581de8 : MOV ECX,ESI
00581dea : CALL 0x00526400
00581def : MOV AL,byte ptr [ESP + 0xf]
00581df3 : POP EDI
00581df4 : MOV byte ptr [ESI],0x2
00581df7 : MOV byte ptr [ESI + 0x4],AL
00581dfa : POP ESI
00581dfb : POP EBX
00581dfc : MOV ESP,EBP
00581dfe : POP EBP
00581dff : RET
