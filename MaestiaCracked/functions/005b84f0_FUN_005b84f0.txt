PROGRAM  : Maestia.exe
FUNCTION : FUN_005b84f0
ENTRY    : 005b84f0
BODY     : [[005b84f0, 005b8557]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_005b84f0(void)

{
  int iVar1;
  undefined4 uVar2;
  int *in_ECX;
  int *piVar3;
  undefined4 local_4;
  
  if (in_ECX[0x2f] == 0) {
    local_4 = 0x143;
    iVar1 = FUN_00515d60(in_ECX,0x34,&local_4);
    if (iVar1 == 0) {
      iVar1 = 0;
    }
    else {
      piVar3 = in_ECX;
      uVar2 = (**(code **)(*in_ECX + 0xb0))();
      iVar1 = FUN_005b8490(uVar2,piVar3);
    }
    if (in_ECX[0x2f] != 0) {
      FUN_00503db0();
    }
    in_ECX[0x2f] = iVar1;
    return iVar1;
  }
  return in_ECX[0x2f];
}



============================================================
DISASSEMBLY
============================================================
005b84f0 : PUSH ECX
005b84f1 : PUSH ESI
005b84f2 : MOV ESI,ECX
005b84f4 : CMP dword ptr [ESI + 0xbc],0x0
005b84fb : JNZ 0x005b854f
005b84fd : PUSH EDI
005b84fe : LEA EAX,[ESP + 0x8]
005b8502 : PUSH EAX
005b8503 : PUSH 0x34
005b8505 : PUSH ESI
005b8506 : MOV dword ptr [ESP + 0x14],0x143
005b850e : CALL 0x00515d60
005b8513 : MOV EDI,EAX
005b8515 : TEST EDI,EDI
005b8517 : JZ 0x005b8532
005b8519 : MOV EDX,dword ptr [ESI]
005b851b : MOV EAX,dword ptr [EDX + 0xb0]
005b8521 : PUSH ESI
005b8522 : MOV ECX,ESI
005b8524 : CALL EAX
005b8526 : PUSH EAX
005b8527 : MOV ECX,EDI
005b8529 : CALL 0x005b8490
005b852e : MOV EDI,EAX
005b8530 : JMP 0x005b8534
005b8532 : XOR EDI,EDI
005b8534 : MOV ECX,dword ptr [ESI + 0xbc]
005b853a : TEST ECX,ECX
005b853c : JZ 0x005b8543
005b853e : CALL 0x00503db0
005b8543 : MOV dword ptr [ESI + 0xbc],EDI
005b8549 : MOV EAX,EDI
005b854b : POP EDI
005b854c : POP ESI
005b854d : POP ECX
005b854e : RET
005b854f : MOV EAX,dword ptr [ESI + 0xbc]
005b8555 : POP ESI
005b8556 : POP ECX
005b8557 : RET
