PROGRAM  : Maestia.exe
FUNCTION : FUN_00797330
ENTRY    : 00797330
BODY     : [[00797330, 007973fd]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x007973d8) */

void FUN_00797330(int param_1)

{
  void *pvVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  pvVar1 = ExceptionList;
  puStack_c = &LAB_00b108e5;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar4 = 0;
  iVar3 = *(int *)(param_1 + 0x2cc) - *(int *)(param_1 + 0x2c8) >> 2;
  if (0 < iVar3) {
    do {
      if (*(int *)(*(int *)(param_1 + 0x2c8) + iVar4 * 4) != 0) {
        if (*(int *)(*(int *)(param_1 + 0x2c8) + iVar4 * 4) != 0) {
          local_8 = 0xffffffff;
          FUN_0045f5a0(uVar2);
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        *(undefined4 *)(*(int *)(param_1 + 0x2c8) + iVar4 * 4) = 0;
      }
      iVar4 = iVar4 + 1;
    } while (iVar4 < iVar3);
  }
  if (*(int *)(param_1 + 0x2c8) != *(int *)(param_1 + 0x2cc)) {
    *(int *)(param_1 + 0x2cc) = *(int *)(param_1 + 0x2c8);
  }
  ExceptionList = pvVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00797330 : PUSH EBP
00797331 : MOV EBP,ESP
00797333 : PUSH -0x1
00797335 : PUSH 0xb108e5
0079733a : MOV EAX,FS:[0x0]
00797340 : PUSH EAX
00797341 : PUSH ECX
00797342 : PUSH EBX
00797343 : PUSH ESI
00797344 : PUSH EDI
00797345 : MOV EAX,[0x00d66fa0]
0079734a : XOR EAX,EBP
0079734c : PUSH EAX
0079734d : LEA EAX,[EBP + -0xc]
00797350 : MOV FS:[0x0],EAX
00797356 : MOV EDI,dword ptr [EBP + 0x8]
00797359 : MOV EBX,dword ptr [EDI + 0x2cc]
0079735f : SUB EBX,dword ptr [EDI + 0x2c8]
00797365 : XOR ESI,ESI
00797367 : SAR EBX,0x2
0079736a : TEST EBX,EBX
0079736c : JLE 0x007973b3
0079736e : MOV EAX,dword ptr [EDI + 0x2c8]
00797374 : CMP dword ptr [EAX + ESI*0x4],0x0
00797378 : LEA EAX,[EAX + ESI*0x4]
0079737b : JZ 0x007973ae
0079737d : MOV EDI,dword ptr [EAX]
0079737f : MOV dword ptr [EBP + -0x10],EDI
00797382 : TEST EDI,EDI
00797384 : JZ 0x0079739c
00797386 : MOV dword ptr [EBP + -0x4],0xffffffff
0079738d : LEA ECX,[EDI + 0x20]
00797390 : CALL 0x0045f5a0
00797395 : MOV ECX,EDI
00797397 : CALL 0x006f04e0
0079739c : MOV ECX,dword ptr [EBP + 0x8]
0079739f : MOV EDX,dword ptr [ECX + 0x2c8]
007973a5 : MOV dword ptr [EDX + ESI*0x4],0x0
007973ac : MOV EDI,ECX
007973ae : INC ESI
007973af : CMP ESI,EBX
007973b1 : JL 0x0079736e
007973b3 : MOV ECX,dword ptr [EDI + 0x2cc]
007973b9 : MOV ESI,dword ptr [EDI + 0x2c8]
007973bf : CMP ESI,ECX
007973c1 : JZ 0x007973ea
007973c3 : MOV EAX,ECX
007973c5 : SUB EAX,ECX
007973c7 : SAR EAX,0x2
007973ca : LEA EDX,[EAX*0x4 + 0x0]
007973d1 : LEA EBX,[EDX + ESI*0x1]
007973d4 : TEST EAX,EAX
007973d6 : JLE 0x007973e4
007973d8 : PUSH EDX
007973d9 : PUSH ECX
007973da : PUSH EDX
007973db : PUSH ESI
007973dc : CALL 0x00634101
007973e1 : ADD ESP,0x10
007973e4 : MOV dword ptr [EDI + 0x2cc],EBX
007973ea : MOV ECX,dword ptr [EBP + -0xc]
007973ed : MOV dword ptr FS:[0x0],ECX
007973f4 : POP ECX
007973f5 : POP EDI
007973f6 : POP ESI
007973f7 : POP EBX
007973f8 : MOV ESP,EBP
007973fa : POP EBP
007973fb : RET 0x4
