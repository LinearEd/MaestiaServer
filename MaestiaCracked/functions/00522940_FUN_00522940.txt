PROGRAM  : Maestia.exe
FUNCTION : FUN_00522940
ENTRY    : 00522940
BODY     : [[00522940, 00522a06]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00522940(uint *param_1,undefined4 param_2)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint local_10;
  uint local_c;
  uint local_8;
  uint local_4;
  
  uVar1 = (*param_1 >> 1 & 0x55555555) + (*param_1 & 0x55555555);
  uVar1 = (uVar1 >> 2 & 0x33333333) + (uVar1 & 0x33333333);
  uVar1 = (uVar1 >> 4 & 0xf0f0f0f) + (uVar1 & 0xf0f0f0f);
  iVar2 = uVar1 * -0x7f7f7f7f;
  uVar1 = (uint)(byte)((char)(uVar1 / 0xff) + (char)uVar1);
  if (uVar1 != 1) {
    uVar3 = 0;
    uVar4 = 1;
    if (uVar1 != 0) {
      do {
        if ((*param_1 & uVar4) != 0) {
          local_c = param_1[1];
          local_8 = param_1[2];
          local_4 = param_1[3];
          uVar3 = uVar3 + 1;
          local_10 = uVar4;
          iVar2 = FUN_005227e0(&local_10,param_2);
        }
        uVar4 = uVar4 * 2;
      } while (uVar3 < uVar1);
    }
    return iVar2;
  }
  iVar2 = FUN_005227e0(param_1,param_2);
  return iVar2;
}



============================================================
DISASSEMBLY
============================================================
00522940 : SUB ESP,0x14
00522943 : PUSH EBX
00522944 : PUSH ESI
00522945 : MOV ESI,dword ptr [ESP + 0x20]
00522949 : PUSH EDI
0052294a : MOV EDI,ECX
0052294c : MOV ECX,dword ptr [ESI]
0052294e : MOV EAX,ECX
00522950 : SHR EAX,0x1
00522952 : AND ECX,0x55555555
00522958 : AND EAX,0x55555555
0052295d : ADD EAX,ECX
0052295f : MOV ECX,EAX
00522961 : SHR ECX,0x2
00522964 : AND EAX,0x33333333
00522969 : AND ECX,0x33333333
0052296f : ADD ECX,EAX
00522971 : MOV EBX,ECX
00522973 : SHR EBX,0x4
00522976 : AND EBX,0xf0f0f0f
0052297c : AND ECX,0xf0f0f0f
00522982 : ADD EBX,ECX
00522984 : MOV EAX,0x80808081
00522989 : MUL EBX
0052298b : SHR EDX,0x7
0052298e : ADD DL,BL
00522990 : MOVZX EBX,DL
00522993 : MOV dword ptr [ESP + 0xc],EDI
00522997 : CMP EBX,0x1
0052299a : JNZ 0x005229b2
0052299c : MOV EAX,dword ptr [ESP + 0x28]
005229a0 : PUSH EAX
005229a1 : PUSH ESI
005229a2 : MOV ECX,EDI
005229a4 : CALL 0x005227e0
005229a9 : POP EDI
005229aa : POP ESI
005229ab : POP EBX
005229ac : ADD ESP,0x14
005229af : RET 0x8
005229b2 : PUSH EBP
005229b3 : XOR EBP,EBP
005229b5 : LEA EDI,[EBP + 0x1]
005229b8 : TEST EBX,EBX
005229ba : JBE 0x005229fd
005229bc : LEA ESP,[ESP]
005229c0 : TEST dword ptr [ESI],EDI
005229c2 : JZ 0x005229f7
005229c4 : MOV EDX,dword ptr [ESI + 0x4]
005229c7 : MOV ECX,dword ptr [ESI]
005229c9 : MOV EAX,dword ptr [ESI + 0x8]
005229cc : MOV dword ptr [ESP + 0x14],ECX
005229d0 : MOV ECX,dword ptr [ESI + 0xc]
005229d3 : MOV dword ptr [ESP + 0x18],EDX
005229d7 : MOV EDX,dword ptr [ESP + 0x2c]
005229db : MOV dword ptr [ESP + 0x1c],EAX
005229df : PUSH EDX
005229e0 : LEA EAX,[ESP + 0x18]
005229e4 : MOV dword ptr [ESP + 0x24],ECX
005229e8 : MOV ECX,dword ptr [ESP + 0x14]
005229ec : PUSH EAX
005229ed : INC EBP
005229ee : MOV dword ptr [ESP + 0x1c],EDI
005229f2 : CALL 0x005227e0
005229f7 : ADD EDI,EDI
005229f9 : CMP EBP,EBX
005229fb : JC 0x005229c0
005229fd : POP EBP
005229fe : POP EDI
005229ff : POP ESI
00522a00 : POP EBX
00522a01 : ADD ESP,0x14
00522a04 : RET 0x8
