PROGRAM  : Maestia.exe
FUNCTION : FUN_005c3ae0
ENTRY    : 005c3ae0
BODY     : [[005c3ae0, 005c3c13]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005c3ae0(int *param_1,uint param_2)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  int local_18;
  undefined1 local_14;
  
  iVar2 = param_2;
  uVar6 = 0;
  local_18 = param_2;
  local_14 = 8;
  puVar3 = (undefined4 *)FUN_00515840(0x34,0);
  if (puVar3 == (undefined4 *)0x0) {
    puVar3 = (undefined4 *)0x0;
  }
  else {
    FUN_00568960(&local_18,&LAB_005c3650);
    *puVar3 = &PTR_LAB_00b91bd8;
    puVar3[4] = &PTR_LAB_00b90510;
    FUN_00530a70(puVar3 + 4,&local_18,&PTR_DAT_00b91a80,7);
  }
  puVar1 = param_1;
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = (int)puVar3;
  param_1[1] = 0;
  iVar4 = FUN_00515840(0x80,0);
  if (iVar4 != 0) {
    puVar3 = puVar1;
    uVar5 = FUN_00530910(1);
    uVar6 = FUN_005c39e0(&local_18,uVar5,puVar3);
    if (uVar6 != 0) {
      *(uint *)(uVar6 + 8) = *(int *)(uVar6 + 8) + 1U & 0x8fffffff;
    }
  }
  param_1 = (int *)0x14;
  param_2 = uVar6;
  FUN_0050ff10(&param_1,&param_2);
  if (param_2 != 0) {
    FUN_00503db0();
  }
  param_1 = (int *)(*(int *)(iVar2 + 0x2a0) + 0x10);
  param_2 = param_2 & 0xffffff00;
  iVar4 = *param_1;
  puVar3 = &param_2;
  uVar5 = FUN_00526210(puVar1);
  (**(code **)(iVar4 + 0x28))(&local_18,iVar2 + 0x58,uVar5,puVar3);
  FUN_00526bc0();
  if (uVar6 != 0) {
    FUN_00503db0();
  }
  return puVar1;
}



============================================================
DISASSEMBLY
============================================================
005c3ae0 : SUB ESP,0x18
005c3ae3 : PUSH EBX
005c3ae4 : PUSH EBP
005c3ae5 : PUSH ESI
005c3ae6 : MOV ESI,dword ptr [ESP + 0x2c]
005c3aea : MOV ECX,dword ptr [ESI + 0x288]
005c3af0 : PUSH EDI
005c3af1 : XOR EBX,EBX
005c3af3 : PUSH EBX
005c3af4 : PUSH 0x34
005c3af6 : MOV dword ptr [ESP + 0x18],ESI
005c3afa : MOV byte ptr [ESP + 0x1c],0x8
005c3aff : CALL 0x00515840
005c3b04 : MOV EDI,EAX
005c3b06 : CMP EDI,EBX
005c3b08 : JZ 0x005c3b41
005c3b0a : PUSH 0x5c3650
005c3b0f : LEA EAX,[ESP + 0x14]
005c3b13 : PUSH EAX
005c3b14 : MOV ECX,EDI
005c3b16 : CALL 0x00568960
005c3b1b : PUSH 0x7
005c3b1d : PUSH 0xb91a80
005c3b22 : LEA ECX,[ESP + 0x18]
005c3b26 : LEA EAX,[EDI + 0x10]
005c3b29 : PUSH ECX
005c3b2a : PUSH EAX
005c3b2b : MOV dword ptr [EDI],0xb91bd8
005c3b31 : MOV dword ptr [EAX],0xb90510
005c3b37 : CALL 0x00530a70
005c3b3c : ADD ESP,0x10
005c3b3f : JMP 0x005c3b43
005c3b41 : XOR EDI,EDI
005c3b43 : MOV EBP,dword ptr [ESP + 0x2c]
005c3b47 : PUSH EBX
005c3b48 : MOV byte ptr [EBP + 0x8],BL
005c3b4b : MOV dword ptr [EBP],EDI
005c3b4e : MOV dword ptr [EBP + 0x4],EBX
005c3b51 : MOV ECX,dword ptr [ESI + 0x288]
005c3b57 : PUSH 0x80
005c3b5c : CALL 0x00515840
005c3b61 : MOV EDI,EAX
005c3b63 : CMP EDI,EBX
005c3b65 : JZ 0x005c3b90
005c3b67 : PUSH EBP
005c3b68 : PUSH 0x1
005c3b6a : MOV ECX,ESI
005c3b6c : CALL 0x00530910
005c3b71 : PUSH EAX
005c3b72 : LEA EDX,[ESP + 0x18]
005c3b76 : PUSH EDX
005c3b77 : MOV ECX,EDI
005c3b79 : CALL 0x005c39e0
005c3b7e : MOV EBX,EAX
005c3b80 : TEST EBX,EBX
005c3b82 : JZ 0x005c3b90
005c3b84 : MOV EAX,dword ptr [EBX + 0x8]
005c3b87 : INC EAX
005c3b88 : AND EAX,0x8fffffff
005c3b8d : MOV dword ptr [EBX + 0x8],EAX
005c3b90 : LEA ECX,[ESP + 0x30]
005c3b94 : PUSH ECX
005c3b95 : LEA EDX,[ESP + 0x30]
005c3b99 : PUSH EDX
005c3b9a : LEA ECX,[ESI + 0x278]
005c3ba0 : MOV dword ptr [ESP + 0x38],EBX
005c3ba4 : MOV dword ptr [ESP + 0x34],0x14
005c3bac : CALL 0x0050ff10
005c3bb1 : MOV ECX,dword ptr [ESP + 0x30]
005c3bb5 : TEST ECX,ECX
005c3bb7 : JZ 0x005c3bbe
005c3bb9 : CALL 0x00503db0
005c3bbe : MOV EAX,dword ptr [ESI + 0x2a0]
005c3bc4 : ADD EAX,0x10
005c3bc7 : MOV byte ptr [ESP + 0x30],0x0
005c3bcc : MOV EDI,dword ptr [EAX]
005c3bce : MOV dword ptr [ESP + 0x2c],EAX
005c3bd2 : LEA EAX,[ESP + 0x30]
005c3bd6 : PUSH EAX
005c3bd7 : PUSH EBP
005c3bd8 : LEA ECX,[ESP + 0x20]
005c3bdc : ADD EDI,0x28
005c3bdf : CALL 0x00526210
005c3be4 : MOV EDX,dword ptr [EDI]
005c3be6 : PUSH EAX
005c3be7 : ADD ESI,0x58
005c3bea : PUSH ESI
005c3beb : LEA ECX,[ESP + 0x1c]
005c3bef : PUSH ECX
005c3bf0 : MOV ECX,dword ptr [ESP + 0x3c]
005c3bf4 : CALL EDX
005c3bf6 : LEA ECX,[ESP + 0x18]
005c3bfa : CALL 0x00526bc0
005c3bff : TEST EBX,EBX
005c3c01 : JZ 0x005c3c0a
005c3c03 : MOV ECX,EBX
005c3c05 : CALL 0x00503db0
005c3c0a : POP EDI
005c3c0b : POP ESI
005c3c0c : MOV EAX,EBP
005c3c0e : POP EBP
005c3c0f : POP EBX
005c3c10 : ADD ESP,0x18
005c3c13 : RET
