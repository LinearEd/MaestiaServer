PROGRAM  : Maestia.exe
FUNCTION : FUN_00856ef0
ENTRY    : 00856ef0
BODY     : [[00856ef0, 00856fac]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00856ef0(int param_1)

{
  int iVar1;
  int iVar2;
  int in_ECX;
  int unaff_ESI;
  
  iVar1 = param_1;
  iVar2 = DAT_00d7c54c;
  if (param_1 == 0) {
    iVar2 = *(int *)(unaff_ESI + 0x17f0);
    *(undefined4 *)(unaff_ESI + 0x1898) = 0;
    if ((iVar2 != 0) && ((*(int *)(iVar2 + 0x160) == 6 || (*(int *)(iVar2 + 0x160) == 7)))) {
      iVar2 = FUN_004049b0(*(undefined4 *)(iVar2 + 0x28));
      if (iVar2 != 0) {
        *(undefined4 *)(unaff_ESI + 0x1898) = *(undefined4 *)(iVar2 + 0x29c);
      }
    }
  }
  else {
    FUN_004437f0(&param_1);
    if ((in_ECX == *(int *)(iVar2 + 0x44)) || (*(int *)(in_ECX + 0x10) == 0)) {
      *(undefined4 *)(unaff_ESI + 0x1898) = 0;
    }
    else {
      *(undefined4 *)(unaff_ESI + 0x1898) = *(undefined4 *)(*(int *)(in_ECX + 0x10) + 0x29c);
    }
  }
  *(int *)(unaff_ESI + 0x3a8) =
       *(int *)(unaff_ESI + 0x189c) + *(int *)(unaff_ESI + 0x3a4) + *(int *)(unaff_ESI + 0x1898);
  if (*(int *)(unaff_ESI + 0x1870) != 0) {
    *(int *)(unaff_ESI + 0x1768) = iVar1;
    *(int *)(*(int *)(unaff_ESI + 0x1870) + 0x28) = iVar1;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00856ef0 : PUSH EBP
00856ef1 : MOV EBP,ESP
00856ef3 : PUSH ECX
00856ef4 : PUSH EBX
00856ef5 : MOV EBX,dword ptr [EBP + 0x8]
00856ef8 : TEST EBX,EBX
00856efa : JNZ 0x00856f3a
00856efc : MOV EAX,dword ptr [ESI + 0x17f0]
00856f02 : MOV dword ptr [ESI + 0x1898],EBX
00856f08 : TEST EAX,EAX
00856f0a : JZ 0x00856f7b
00856f0c : MOV ECX,dword ptr [EAX + 0x160]
00856f12 : CMP ECX,0x6
00856f15 : JZ 0x00856f1c
00856f17 : CMP ECX,0x7
00856f1a : JNZ 0x00856f7b
00856f1c : MOV EAX,dword ptr [EAX + 0x28]
00856f1f : PUSH EAX
00856f20 : CALL 0x004049b0
00856f25 : ADD ESP,0x4
00856f28 : TEST EAX,EAX
00856f2a : JZ 0x00856f7b
00856f2c : MOV ECX,dword ptr [EAX + 0x29c]
00856f32 : MOV dword ptr [ESI + 0x1898],ECX
00856f38 : JMP 0x00856f7b
00856f3a : PUSH EDI
00856f3b : MOV EDI,dword ptr [0x00d7c54c]
00856f41 : LEA EDX,[EBP + 0x8]
00856f44 : PUSH EDX
00856f45 : LEA ECX,[EDI + 0x40]
00856f48 : LEA EAX,[EBP + -0x4]
00856f4b : MOV dword ptr [EBP + 0x8],EBX
00856f4e : CALL 0x004437f0
00856f53 : MOV EAX,dword ptr [EBP + -0x4]
00856f56 : CMP EAX,dword ptr [EDI + 0x44]
00856f59 : POP EDI
00856f5a : JZ 0x00856f71
00856f5c : MOV EAX,dword ptr [EAX + 0x10]
00856f5f : TEST EAX,EAX
00856f61 : JZ 0x00856f71
00856f63 : MOV EAX,dword ptr [EAX + 0x29c]
00856f69 : MOV dword ptr [ESI + 0x1898],EAX
00856f6f : JMP 0x00856f7b
00856f71 : MOV dword ptr [ESI + 0x1898],0x0
00856f7b : MOV ECX,dword ptr [ESI + 0x189c]
00856f81 : ADD ECX,dword ptr [ESI + 0x3a4]
00856f87 : ADD ECX,dword ptr [ESI + 0x1898]
00856f8d : MOV dword ptr [ESI + 0x3a8],ECX
00856f93 : MOV EAX,dword ptr [ESI + 0x1870]
00856f99 : TEST EAX,EAX
00856f9b : JZ 0x00856fa6
00856f9d : MOV dword ptr [ESI + 0x1768],EBX
00856fa3 : MOV dword ptr [EAX + 0x28],EBX
00856fa6 : POP EBX
00856fa7 : MOV ESP,EBP
00856fa9 : POP EBP
00856faa : RET 0x4
