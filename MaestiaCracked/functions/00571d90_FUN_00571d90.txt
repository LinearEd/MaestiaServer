PROGRAM  : Maestia.exe
FUNCTION : FUN_00571d90
ENTRY    : 00571d90
BODY     : [[00571d90, 00571df4]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00571d90(int param_1)

{
  int *piVar1;
  int in_ECX;
  uint uVar2;
  uint uVar3;
  
  *(int *)(in_ECX + 0xac4) = *(int *)(in_ECX + 0xac4) + 1;
  *(undefined4 *)(param_1 + 0x30) = *(undefined4 *)(in_ECX + 0xac4);
  uVar2 = *(int *)(in_ECX + 0xabc) + 1;
  if (uVar2 < *(uint *)(in_ECX + 0xabc)) {
    uVar3 = uVar2;
    if (*(uint *)(in_ECX + 0xac0) >> 1 <= uVar2) goto LAB_00571dd9;
  }
  else {
    if (uVar2 < *(uint *)(in_ECX + 0xac0)) goto LAB_00571dd9;
    uVar3 = (uVar2 >> 2) + uVar2;
  }
  FUN_0058c3a0((int *)(in_ECX + 0xab8),uVar3);
LAB_00571dd9:
  piVar1 = (int *)(*(int *)(in_ECX + 0xab8) + -4 + uVar2 * 4);
  *(uint *)(in_ECX + 0xabc) = uVar2;
  if (piVar1 != (int *)0x0) {
    *piVar1 = param_1;
  }
  return *(undefined4 *)(in_ECX + 0xac4);
}



============================================================
DISASSEMBLY
============================================================
00571d90 : PUSH EBX
00571d91 : PUSH EBP
00571d92 : MOV EBP,dword ptr [ESP + 0xc]
00571d96 : MOV EBX,ECX
00571d98 : INC dword ptr [EBX + 0xac4]
00571d9e : MOV EAX,dword ptr [EBX + 0xac4]
00571da4 : PUSH ESI
00571da5 : PUSH EDI
00571da6 : LEA EDI,[EBX + 0xab8]
00571dac : MOV dword ptr [EBP + 0x30],EAX
00571daf : MOV ESI,dword ptr [EDI + 0x4]
00571db2 : INC ESI
00571db3 : CMP ESI,dword ptr [EDI + 0x4]
00571db6 : JNC 0x00571dc4
00571db8 : MOV EAX,dword ptr [EDI + 0x8]
00571dbb : SHR EAX,0x1
00571dbd : CMP ESI,EAX
00571dbf : JNC 0x00571dd9
00571dc1 : PUSH ESI
00571dc2 : JMP 0x00571dd1
00571dc4 : CMP ESI,dword ptr [EDI + 0x8]
00571dc7 : JC 0x00571dd9
00571dc9 : MOV ECX,ESI
00571dcb : SHR ECX,0x2
00571dce : ADD ECX,ESI
00571dd0 : PUSH ECX
00571dd1 : PUSH EDI
00571dd2 : MOV ECX,EDI
00571dd4 : CALL 0x0058c3a0
00571dd9 : MOV EDX,dword ptr [EDI]
00571ddb : LEA EAX,[EDX + ESI*0x4 + -0x4]
00571ddf : MOV dword ptr [EDI + 0x4],ESI
00571de2 : TEST EAX,EAX
00571de4 : JZ 0x00571de8
00571de6 : MOV dword ptr [EAX],EBP
00571de8 : MOV EAX,dword ptr [EBX + 0xac4]
00571dee : POP EDI
00571def : POP ESI
00571df0 : POP EBP
00571df1 : POP EBX
00571df2 : RET 0x4
