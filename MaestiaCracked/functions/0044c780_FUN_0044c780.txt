PROGRAM  : Maestia.exe
FUNCTION : FUN_0044c780
ENTRY    : 0044c780
BODY     : [[0044c780, 0044c80b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0044c780(int *param_1,undefined2 *param_2,int *param_3)

{
  int in_EAX;
  uint uVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  int iVar5;
  
  piVar4 = *(int **)(in_EAX + 0x20);
  if (piVar4 == (int *)0x0) {
    *param_1 = 0;
    return;
  }
  piVar2 = (int *)*param_1;
  if (piVar2 == (int *)0xffffffff) {
    uVar1 = 0;
    piVar3 = piVar4;
    if (*(uint *)(in_EAX + 0x24) != 0) {
      while (piVar2 = (int *)*piVar3, piVar2 == (int *)0x0) {
        uVar1 = uVar1 + 1;
        piVar3 = piVar3 + 1;
        if (*(uint *)(in_EAX + 0x24) <= uVar1) {
          *param_1 = 0;
          return;
        }
      }
    }
  }
  iVar5 = *piVar2;
  if (iVar5 == 0) {
    uVar1 = piVar2[1] + 1;
    if (uVar1 < *(uint *)(in_EAX + 0x24)) {
      piVar4 = piVar4 + uVar1;
      do {
        iVar5 = *piVar4;
        if (iVar5 != 0) break;
        uVar1 = uVar1 + 1;
        piVar4 = piVar4 + 1;
      } while (uVar1 < *(uint *)(in_EAX + 0x24));
    }
  }
  *param_1 = iVar5;
  *param_2 = (short)piVar2[2];
  *param_3 = piVar2[3];
  return;
}



============================================================
DISASSEMBLY
============================================================
0044c780 : PUSH EBP
0044c781 : MOV EBP,ESP
0044c783 : PUSH EBX
0044c784 : PUSH EDI
0044c785 : MOV EDI,EAX
0044c787 : MOV EBX,dword ptr [EDI + 0x20]
0044c78a : TEST EBX,EBX
0044c78c : JNZ 0x0044c799
0044c78e : MOV EAX,dword ptr [EBP + 0x8]
0044c791 : POP EDI
0044c792 : MOV dword ptr [EAX],EBX
0044c794 : POP EBX
0044c795 : POP EBP
0044c796 : RET 0xc
0044c799 : MOV ECX,dword ptr [EBP + 0x8]
0044c79c : MOV ECX,dword ptr [ECX]
0044c79e : PUSH ESI
0044c79f : CMP ECX,-0x1
0044c7a2 : JNZ 0x0044c7ca
0044c7a4 : MOV ESI,dword ptr [EDI + 0x24]
0044c7a7 : XOR EAX,EAX
0044c7a9 : TEST ESI,ESI
0044c7ab : JBE 0x0044c7ca
0044c7ad : MOV EDX,EBX
0044c7af : NOP
0044c7b0 : MOV ECX,dword ptr [EDX]
0044c7b2 : TEST ECX,ECX
0044c7b4 : JNZ 0x0044c7ca
0044c7b6 : INC EAX
0044c7b7 : ADD EDX,0x4
0044c7ba : CMP EAX,ESI
0044c7bc : JC 0x0044c7b0
0044c7be : MOV EDX,dword ptr [EBP + 0x8]
0044c7c1 : POP ESI
0044c7c2 : POP EDI
0044c7c3 : MOV dword ptr [EDX],ECX
0044c7c5 : POP EBX
0044c7c6 : POP EBP
0044c7c7 : RET 0xc
0044c7ca : MOV ESI,dword ptr [ECX]
0044c7cc : TEST ESI,ESI
0044c7ce : JNZ 0x0044c7ee
0044c7d0 : MOV EAX,dword ptr [ECX + 0x4]
0044c7d3 : MOV EDI,dword ptr [EDI + 0x24]
0044c7d6 : INC EAX
0044c7d7 : CMP EAX,EDI
0044c7d9 : JNC 0x0044c7ee
0044c7db : LEA EDX,[EBX + EAX*0x4]
0044c7de : MOV EDI,EDI
0044c7e0 : MOV ESI,dword ptr [EDX]
0044c7e2 : TEST ESI,ESI
0044c7e4 : JNZ 0x0044c7ee
0044c7e6 : INC EAX
0044c7e7 : ADD EDX,0x4
0044c7ea : CMP EAX,EDI
0044c7ec : JC 0x0044c7e0
0044c7ee : MOV EAX,dword ptr [EBP + 0x8]
0044c7f1 : MOV dword ptr [EAX],ESI
0044c7f3 : MOV DX,word ptr [ECX + 0x8]
0044c7f7 : MOV EAX,dword ptr [EBP + 0xc]
0044c7fa : MOV word ptr [EAX],DX
0044c7fd : MOV ECX,dword ptr [ECX + 0xc]
0044c800 : MOV EDX,dword ptr [EBP + 0x10]
0044c803 : POP ESI
0044c804 : POP EDI
0044c805 : MOV dword ptr [EDX],ECX
0044c807 : POP EBX
0044c808 : POP EBP
0044c809 : RET 0xc
