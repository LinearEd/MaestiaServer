PROGRAM  : Maestia.exe
FUNCTION : FUN_00588cb0
ENTRY    : 00588cb0
BODY     : [[00588cb0, 00588ee0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00588cb0(int param_1,undefined1 *param_2,undefined4 *param_3)

{
  undefined4 *puVar1;
  undefined1 uVar2;
  int iVar3;
  int iVar4;
  GRefCountImpl *this;
  int *piVar5;
  int iVar6;
  int in_ECX;
  uint uVar7;
  uint uVar8;
  float10 fVar9;
  
  puVar1 = param_3;
  uVar8 = param_3[1];
  if ((char)uVar8 < '\0') {
    uVar7 = uVar8 & 0xf;
  }
  else {
    switch(*param_2) {
    case 0:
      uVar7 = 0;
      break;
    case 1:
      uVar7 = 1;
      break;
    case 2:
      uVar7 = 2;
      break;
    case 3:
    case 4:
      uVar7 = 3;
      break;
    default:
      uVar7 = 4;
      break;
    case 6:
    case 8:
      uVar7 = 6;
      break;
    case 7:
      uVar7 = 8;
    }
  }
  if ((uVar8 >> 6 & 1) != 0) {
    FUN_00588b40(param_3,param_3[2]);
    *puVar1 = 0;
  }
  switch(uVar7) {
  case 0:
  case 1:
    puVar1[1] = uVar7;
    return;
  case 2:
    puVar1[1] = 2;
    uVar2 = FUN_00526120(param_1);
    *(undefined1 *)(puVar1 + 2) = uVar2;
    return;
  case 3:
    puVar1[1] = 3;
    fVar9 = (float10)FUN_00527730(param_1);
    *(double *)(puVar1 + 2) = (double)fVar9;
    return;
  case 4:
    FUN_005272e0(&param_1,param_1,0xffffffff,0);
    puVar1[1] = 0x44;
    puVar1[2] = param_1;
    *puVar1 = *(undefined4 *)(in_ECX + 0x10);
    FUN_00588a50(puVar1,param_1);
    break;
  case 5:
    FUN_005272e0(&param_1,param_1,0xffffffff,0);
    iVar6 = param_1;
    iVar3 = FUN_00524bc0();
    iVar4 = FUN_00515840(iVar3 + 0x10 + iVar3 + 1,0);
    puVar1[1] = 0x45;
    if (iVar4 == 0) {
      this = (GRefCountImpl *)0x0;
    }
    else {
      this = (GRefCountImpl *)FUN_00588ac0(iVar6,iVar3 + 1);
    }
    puVar1[2] = this + 0xc;
    *puVar1 = *(undefined4 *)(in_ECX + 0x10);
    FUN_00588a50(puVar1,this + 0xc);
    if (this != (GRefCountImpl *)0x0) {
      GRefCountImpl::Release(this);
    }
    break;
  case 6:
    uVar8 = 6;
    piVar5 = (int *)FUN_005270f0(param_1);
    iVar6 = (**(code **)(*piVar5 + 8))();
    if (iVar6 - 6U < 0x25) {
      iVar6 = FUN_0054ecf0();
      iVar6 = (**(code **)(*(int *)(iVar6 + 0x10) + 8))();
      if (iVar6 == 7) {
        uVar8 = 7;
      }
    }
    puVar1[1] = uVar8 | 0x40;
    puVar1[2] = piVar5;
    *puVar1 = *(undefined4 *)(in_ECX + 0x10);
    FUN_00588a50(puVar1,piVar5);
    return;
  default:
    goto switchD_00588d29_caseD_7;
  case 8:
    FUN_005270f0(param_1);
    iVar6 = FUN_0054ecd0();
    puVar1[1] = 0x48;
    iVar6 = *(int *)(iVar6 + 0x80);
    if (iVar6 == 0) {
      iVar6 = FUN_00520df0();
    }
    puVar1[2] = iVar6;
    *puVar1 = *(undefined4 *)(in_ECX + 0x10);
    FUN_00588a50(puVar1,iVar6);
    goto switchD_00588d29_caseD_7;
  }
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + -1;
  if (*(int *)(param_1 + 8) == 0) {
    FUN_00525340();
    return;
  }
switchD_00588d29_caseD_7:
  return;
}



============================================================
DISASSEMBLY
============================================================
00588cb0 : PUSH EBX
00588cb1 : PUSH EBP
00588cb2 : PUSH ESI
00588cb3 : MOV ESI,dword ptr [ESP + 0x18]
00588cb7 : MOV EAX,dword ptr [ESI + 0x4]
00588cba : PUSH EDI
00588cbb : MOV EDI,dword ptr [ESP + 0x18]
00588cbf : MOV EBX,ECX
00588cc1 : TEST AL,AL
00588cc3 : JNS 0x00588ccc
00588cc5 : MOV EBP,EAX
00588cc7 : AND EBP,0xf
00588cca : JMP 0x00588d07
00588ccc : MOVZX ECX,byte ptr [EDI]
00588ccf : CMP ECX,0x8
00588cd2 : JA 0x00588d02
00588cd4 : JMP dword ptr [ECX*0x4 + 0x588ee4]
00588cdb : XOR EBP,EBP
00588cdd : JMP 0x00588d07
00588cdf : MOV EBP,0x2
00588ce4 : JMP 0x00588d07
00588ce6 : MOV EBP,0x1
00588ceb : JMP 0x00588d07
00588ced : MOV EBP,0x3
00588cf2 : JMP 0x00588d07
00588cf4 : MOV EBP,0x6
00588cf9 : JMP 0x00588d07
00588cfb : MOV EBP,0x8
00588d00 : JMP 0x00588d07
00588d02 : MOV EBP,0x4
00588d07 : SHR EAX,0x6
00588d0a : TEST AL,0x1
00588d0c : JZ 0x00588d20
00588d0e : MOV EAX,dword ptr [ESI + 0x8]
00588d11 : MOV ECX,dword ptr [ESI]
00588d13 : PUSH EAX
00588d14 : PUSH ESI
00588d15 : CALL 0x00588b40
00588d1a : MOV dword ptr [ESI],0x0
00588d20 : CMP EBP,0x8
00588d23 : JA 0x00588eda
00588d29 : JMP dword ptr [EBP*0x4 + 0x588f08]
00588d30 : POP EDI
00588d31 : MOV dword ptr [ESI + 0x4],EBP
00588d34 : POP ESI
00588d35 : POP EBP
00588d36 : POP EBX
00588d37 : RET 0xc
00588d3a : MOV ECX,dword ptr [ESP + 0x14]
00588d3e : PUSH ECX
00588d3f : MOV ECX,EDI
00588d41 : MOV dword ptr [ESI + 0x4],0x2
00588d48 : CALL 0x00526120
00588d4d : POP EDI
00588d4e : MOV byte ptr [ESI + 0x8],AL
00588d51 : POP ESI
00588d52 : POP EBP
00588d53 : POP EBX
00588d54 : RET 0xc
00588d57 : MOV EDX,dword ptr [ESP + 0x14]
00588d5b : PUSH EDX
00588d5c : MOV ECX,EDI
00588d5e : MOV dword ptr [ESI + 0x4],0x3
00588d65 : CALL 0x00527730
00588d6a : FSTP double ptr [ESI + 0x8]
00588d6d : POP EDI
00588d6e : POP ESI
00588d6f : POP EBP
00588d70 : POP EBX
00588d71 : RET 0xc
00588d74 : MOV EAX,dword ptr [ESP + 0x14]
00588d78 : PUSH 0x0
00588d7a : PUSH -0x1
00588d7c : PUSH EAX
00588d7d : LEA ECX,[ESP + 0x20]
00588d81 : PUSH ECX
00588d82 : MOV ECX,EDI
00588d84 : CALL 0x005272e0
00588d89 : MOV EAX,dword ptr [ESP + 0x14]
00588d8d : MOV dword ptr [ESI + 0x4],0x44
00588d94 : MOV dword ptr [ESI + 0x8],EAX
00588d97 : MOV EDX,dword ptr [EBX + 0x10]
00588d9a : PUSH EAX
00588d9b : MOV dword ptr [ESI],EDX
00588d9d : MOV ECX,dword ptr [EBX + 0x10]
00588da0 : PUSH ESI
00588da1 : CALL 0x00588a50
00588da6 : MOV EAX,dword ptr [ESP + 0x14]
00588daa : DEC dword ptr [EAX + 0x8]
00588dad : MOV ECX,EAX
00588daf : ADD EAX,0x8
00588db2 : CMP dword ptr [EAX],0x0
00588db5 : JNZ 0x00588eda
00588dbb : CALL 0x00525340
00588dc0 : POP EDI
00588dc1 : POP ESI
00588dc2 : POP EBP
00588dc3 : POP EBX
00588dc4 : RET 0xc
00588dc7 : MOV EAX,dword ptr [ESP + 0x14]
00588dcb : PUSH 0x0
00588dcd : PUSH -0x1
00588dcf : PUSH EAX
00588dd0 : LEA ECX,[ESP + 0x20]
00588dd4 : PUSH ECX
00588dd5 : MOV ECX,EDI
00588dd7 : CALL 0x005272e0
00588ddc : MOV EBP,dword ptr [ESP + 0x14]
00588de0 : LEA ECX,[ESP + 0x14]
00588de4 : CALL 0x00524bc0
00588de9 : MOV ECX,dword ptr [EBX + 0x14]
00588dec : MOV EDI,EAX
00588dee : INC EDI
00588def : PUSH 0x0
00588df1 : LEA EDX,[EDI + EDI*0x1 + 0xf]
00588df5 : PUSH EDX
00588df6 : CALL 0x00515840
00588dfb : MOV dword ptr [ESI + 0x4],0x45
00588e02 : TEST EAX,EAX
00588e04 : JZ 0x00588e13
00588e06 : PUSH EDI
00588e07 : PUSH EBP
00588e08 : MOV ECX,EAX
00588e0a : CALL 0x00588ac0
00588e0f : MOV EDI,EAX
00588e11 : JMP 0x00588e15
00588e13 : XOR EDI,EDI
00588e15 : LEA EAX,[EDI + 0xc]
00588e18 : MOV dword ptr [ESI + 0x8],EAX
00588e1b : MOV ECX,dword ptr [EBX + 0x10]
00588e1e : PUSH EAX
00588e1f : MOV dword ptr [ESI],ECX
00588e21 : MOV ECX,dword ptr [EBX + 0x10]
00588e24 : PUSH ESI
00588e25 : CALL 0x00588a50
00588e2a : TEST EDI,EDI
00588e2c : JZ 0x00588da6
00588e32 : MOV ECX,EDI
00588e34 : CALL 0x004ff7e0
00588e39 : JMP 0x00588da6
00588e3e : MOV EDX,dword ptr [ESP + 0x14]
00588e42 : PUSH EDX
00588e43 : MOV ECX,EDI
00588e45 : MOV EBP,0x6
00588e4a : CALL 0x005270f0
00588e4f : MOV EDI,EAX
00588e51 : MOV EAX,dword ptr [EDI]
00588e53 : MOV EDX,dword ptr [EAX + 0x8]
00588e56 : MOV ECX,EDI
00588e58 : CALL EDX
00588e5a : ADD EAX,-0x6
00588e5d : CMP EAX,0x24
00588e60 : JA 0x00588e7a
00588e62 : MOV ECX,EDI
00588e64 : CALL 0x0054ecf0
00588e69 : LEA ECX,[EAX + 0x10]
00588e6c : MOV EAX,dword ptr [ECX]
00588e6e : MOV EDX,dword ptr [EAX + 0x8]
00588e71 : CALL EDX
00588e73 : CMP EAX,0x7
00588e76 : JNZ 0x00588e7a
00588e78 : MOV EBP,EAX
00588e7a : OR EBP,0x40
00588e7d : MOV dword ptr [ESI + 0x4],EBP
00588e80 : MOV dword ptr [ESI + 0x8],EDI
00588e83 : MOV EAX,dword ptr [EBX + 0x10]
00588e86 : PUSH EDI
00588e87 : MOV dword ptr [ESI],EAX
00588e89 : MOV ECX,dword ptr [EBX + 0x10]
00588e8c : PUSH ESI
00588e8d : CALL 0x00588a50
00588e92 : POP EDI
00588e93 : POP ESI
00588e94 : POP EBP
00588e95 : POP EBX
00588e96 : RET 0xc
00588e99 : MOV ECX,dword ptr [ESP + 0x14]
00588e9d : PUSH ECX
00588e9e : MOV ECX,EDI
00588ea0 : CALL 0x005270f0
00588ea5 : MOV ECX,EAX
00588ea7 : CALL 0x0054ecd0
00588eac : MOV dword ptr [ESI + 0x4],0x48
00588eb3 : MOV ECX,dword ptr [EAX + 0x80]
00588eb9 : TEST ECX,ECX
00588ebb : JNZ 0x00588ec6
00588ebd : MOV ECX,EAX
00588ebf : CALL 0x00520df0
00588ec4 : JMP 0x00588ec8
00588ec6 : MOV EAX,ECX
00588ec8 : MOV dword ptr [ESI + 0x8],EAX
00588ecb : MOV EDX,dword ptr [EBX + 0x10]
00588ece : PUSH EAX
00588ecf : MOV dword ptr [ESI],EDX
00588ed1 : MOV ECX,dword ptr [EBX + 0x10]
00588ed4 : PUSH ESI
00588ed5 : CALL 0x00588a50
00588eda : POP EDI
00588edb : POP ESI
00588edc : POP EBP
00588edd : POP EBX
00588ede : RET 0xc
