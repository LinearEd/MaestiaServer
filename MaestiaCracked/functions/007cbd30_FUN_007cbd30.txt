PROGRAM  : Maestia.exe
FUNCTION : FUN_007cbd30
ENTRY    : 007cbd30
BODY     : [[007cbd30, 007cbe1c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007cbd30(void)

{
  uint uVar1;
  undefined4 *in_ECX;
  LPCRITICAL_SECTION local_28;
  char *local_24;
  undefined4 local_20;
  int local_1c;
  undefined4 local_18;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b2873b;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *in_ECX = &PTR_FUN_00cd4be4;
  local_8 = 2;
  local_28 = (LPCRITICAL_SECTION)(in_ECX + 2);
  local_1c = 0;
  local_24 = ".\\World\\AvaGUIRootContainer.cpp";
  local_20 = 0x3a;
  local_18 = 1;
  FUN_006ef1a0(&local_28);
  local_8 = CONCAT31(local_8._1_3_,3);
  FUN_007cb710(uVar1);
  if ((undefined4 *)in_ECX[0xc] != (undefined4 *)0x0) {
    (*(code *)**(undefined4 **)in_ECX[0xc])(1);
    in_ECX[0xc] = 0;
  }
  if ((undefined4 *)in_ECX[0xe] != (undefined4 *)0x0) {
    (*(code *)**(undefined4 **)in_ECX[0xe])(1);
    in_ECX[0xe] = 0;
  }
  FUN_007cbc50();
  local_8._0_1_ = 2;
  if (local_1c != 0) {
    LeaveCriticalSection(local_28);
    local_1c = 0;
  }
  local_8._0_1_ = 1;
  FUN_0047a120(in_ECX + 0x11);
  local_8 = (uint)local_8._1_3_ << 8;
  in_ECX[1] = &PTR_FUN_00cdec94;
  DeleteCriticalSection((LPCRITICAL_SECTION)(in_ECX + 2));
  DAT_017251d0 = 0;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007cbd30 : PUSH EBP
007cbd31 : MOV EBP,ESP
007cbd33 : PUSH -0x1
007cbd35 : PUSH 0xb2873b
007cbd3a : MOV EAX,FS:[0x0]
007cbd40 : PUSH EAX
007cbd41 : SUB ESP,0x18
007cbd44 : PUSH EBX
007cbd45 : PUSH ESI
007cbd46 : PUSH EDI
007cbd47 : MOV EAX,[0x00d66fa0]
007cbd4c : XOR EAX,EBP
007cbd4e : PUSH EAX
007cbd4f : LEA EAX,[EBP + -0xc]
007cbd52 : MOV FS:[0x0],EAX
007cbd58 : MOV ESI,ECX
007cbd5a : MOV dword ptr [EBP + -0x10],ESI
007cbd5d : MOV dword ptr [ESI],0xcd4be4
007cbd63 : MOV dword ptr [EBP + -0x4],0x2
007cbd6a : LEA ECX,[EBP + -0x24]
007cbd6d : LEA EAX,[ESI + 0x8]
007cbd70 : XOR EBX,EBX
007cbd72 : PUSH ECX
007cbd73 : MOV dword ptr [EBP + -0x18],EBX
007cbd76 : MOV dword ptr [EBP + -0x24],EAX
007cbd79 : MOV dword ptr [EBP + -0x20],0xc1ea1c
007cbd80 : MOV dword ptr [EBP + -0x1c],0x3a
007cbd87 : MOV dword ptr [EBP + -0x14],0x1
007cbd8e : CALL 0x006ef1a0
007cbd93 : MOV byte ptr [EBP + -0x4],0x3
007cbd97 : CALL 0x007cb710
007cbd9c : MOV ECX,dword ptr [ESI + 0x30]
007cbd9f : CMP ECX,EBX
007cbda1 : JZ 0x007cbdae
007cbda3 : MOV EDX,dword ptr [ECX]
007cbda5 : MOV EAX,dword ptr [EDX]
007cbda7 : PUSH 0x1
007cbda9 : CALL EAX
007cbdab : MOV dword ptr [ESI + 0x30],EBX
007cbdae : MOV ECX,dword ptr [ESI + 0x38]
007cbdb1 : CMP ECX,EBX
007cbdb3 : JZ 0x007cbdc0
007cbdb5 : MOV EDX,dword ptr [ECX]
007cbdb7 : MOV EAX,dword ptr [EDX]
007cbdb9 : PUSH 0x1
007cbdbb : CALL EAX
007cbdbd : MOV dword ptr [ESI + 0x38],EBX
007cbdc0 : MOV EDI,ESI
007cbdc2 : CALL 0x007cbc50
007cbdc7 : MOV byte ptr [EBP + -0x4],0x2
007cbdcb : CMP dword ptr [EBP + -0x18],EBX
007cbdce : JZ 0x007cbddd
007cbdd0 : MOV ECX,dword ptr [EBP + -0x24]
007cbdd3 : PUSH ECX
007cbdd4 : CALL dword ptr [0x00b8511c]
007cbdda : MOV dword ptr [EBP + -0x18],EBX
007cbddd : MOV byte ptr [EBP + -0x4],0x1
007cbde1 : LEA EDX,[ESI + 0x44]
007cbde4 : PUSH EDX
007cbde5 : CALL 0x0047a120
007cbdea : MOV byte ptr [EBP + -0x4],BL
007cbded : MOV dword ptr [ESI + 0x4],0xcdec94
007cbdf4 : ADD ESI,0x8
007cbdf7 : PUSH ESI
007cbdf8 : CALL dword ptr [0x00b850fc]
007cbdfe : MOV dword ptr [EBP + -0x4],0xffffffff
007cbe05 : MOV dword ptr [0x017251d0],EBX
007cbe0b : MOV ECX,dword ptr [EBP + -0xc]
007cbe0e : MOV dword ptr FS:[0x0],ECX
007cbe15 : POP ECX
007cbe16 : POP EDI
007cbe17 : POP ESI
007cbe18 : POP EBX
007cbe19 : MOV ESP,EBP
007cbe1b : POP EBP
007cbe1c : RET
