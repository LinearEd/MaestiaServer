PROGRAM  : Maestia.exe
FUNCTION : FUN_0043b7e0
ENTRY    : 0043b7e0
BODY     : [[0043b7e0, 0043b978] [0043b98a, 0043ba94]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0043b7e0(uint param_1,int param_2,uint param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  undefined4 uVar5;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar2 = param_1;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7e2a0;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar3 = *(int *)(param_1 + 4);
  if (iVar3 == 0) {
    param_1 = 0;
  }
  else {
    param_1 = (*(int *)(param_1 + 0xc) - iVar3) / 0x1c;
  }
  iVar1 = *(int *)(iVar2 + 8);
  iVar3 = (iVar1 - iVar3) / 0x1c;
  if (iVar3 == 0x9249249) {
    iVar3 = FUN_00429be0();
  }
  uVar4 = iVar3 + 1;
  if (param_1 < uVar4) {
    if (0x9249249 - (param_1 >> 1) < param_1) {
      param_1 = 0;
    }
    else {
      param_1 = param_1 + (param_1 >> 1);
    }
    if (param_1 < uVar4) {
      param_1 = uVar4;
    }
    iVar3 = FUN_0043c030();
    local_8 = 0;
    FUN_0043b0c0();
    FUN_0043c100(*(undefined4 *)(iVar2 + 4),param_2);
    FUN_0043c100(param_2,*(undefined4 *)(iVar2 + 8));
    local_8 = 0xffffffff;
    if (*(int *)(iVar2 + 4) != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(uint *)(iVar2 + 0xc) = iVar3 + param_1 * 0x1c;
    *(int *)(iVar2 + 8) = iVar3 + ((*(int *)(iVar2 + 8) - *(int *)(iVar2 + 4)) / 0x1c + 1) * 0x1c;
    *(int *)(iVar2 + 4) = iVar3;
    ExceptionList = local_10;
    return;
  }
  iVar3 = iVar1 - param_2 >> 0x1f;
  if ((iVar1 - param_2) / 0x1c + iVar3 == iVar3) {
    FUN_0043c100(param_2,iVar1);
    local_8 = 2;
    FUN_0043b0c0();
    local_8 = 0xffffffff;
    *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 0x1c;
    FUN_0043c460(param_2);
    ExceptionList = local_10;
    return;
  }
  uVar5 = FUN_0043c100(iVar1 + -0x1c,iVar1);
  *(undefined4 *)(iVar2 + 8) = uVar5;
  param_3 = param_3 & 0xffffff00;
  FUN_0043c570(param_2,param_2,param_2,param_3);
  FUN_0043c460(param_2);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0043b7e0 : PUSH EBP
0043b7e1 : MOV EBP,ESP
0043b7e3 : PUSH -0x1
0043b7e5 : PUSH 0xb7e2a0
0043b7ea : MOV EAX,FS:[0x0]
0043b7f0 : PUSH EAX
0043b7f1 : SUB ESP,0x30
0043b7f4 : PUSH EBX
0043b7f5 : PUSH ESI
0043b7f6 : PUSH EDI
0043b7f7 : MOV EAX,[0x00d66fa0]
0043b7fc : XOR EAX,EBP
0043b7fe : PUSH EAX
0043b7ff : LEA EAX,[EBP + -0xc]
0043b802 : MOV FS:[0x0],EAX
0043b808 : MOV dword ptr [EBP + -0x10],ESP
0043b80b : MOV EBX,dword ptr [EBP + 0x8]
0043b80e : MOV ESI,dword ptr [EBX + 0x4]
0043b811 : TEST ESI,ESI
0043b813 : JNZ 0x0043b81a
0043b815 : MOV dword ptr [EBP + 0x8],ESI
0043b818 : JMP 0x0043b835
0043b81a : MOV ECX,dword ptr [EBX + 0xc]
0043b81d : SUB ECX,ESI
0043b81f : MOV EAX,0x92492493
0043b824 : IMUL ECX
0043b826 : ADD EDX,ECX
0043b828 : SAR EDX,0x4
0043b82b : MOV EAX,EDX
0043b82d : SHR EAX,0x1f
0043b830 : ADD EAX,EDX
0043b832 : MOV dword ptr [EBP + 0x8],EAX
0043b835 : MOV EDI,dword ptr [EBX + 0x8]
0043b838 : MOV ECX,EDI
0043b83a : SUB ECX,ESI
0043b83c : MOV EAX,0x92492493
0043b841 : IMUL ECX
0043b843 : ADD EDX,ECX
0043b845 : SAR EDX,0x4
0043b848 : MOV EAX,EDX
0043b84a : SHR EAX,0x1f
0043b84d : ADD EAX,EDX
0043b84f : MOV ECX,0x9249249
0043b854 : SUB ECX,EAX
0043b856 : CMP ECX,0x1
0043b859 : JNC 0x0043b860
0043b85b : CALL 0x00429be0
0043b860 : INC EAX
0043b861 : MOV ECX,dword ptr [EBP + 0x8]
0043b864 : CMP ECX,EAX
0043b866 : JNC 0x0043b98a
0043b86c : MOV EDX,ECX
0043b86e : SHR EDX,0x1
0043b870 : MOV ESI,0x9249249
0043b875 : SUB ESI,EDX
0043b877 : CMP ESI,ECX
0043b879 : JNC 0x0043b887
0043b87b : MOV dword ptr [EBP + 0x8],0x0
0043b882 : MOV ECX,dword ptr [EBP + 0x8]
0043b885 : JMP 0x0043b88c
0043b887 : ADD ECX,EDX
0043b889 : MOV dword ptr [EBP + 0x8],ECX
0043b88c : CMP ECX,EAX
0043b88e : JNC 0x0043b895
0043b890 : MOV dword ptr [EBP + 0x8],EAX
0043b893 : MOV ECX,EAX
0043b895 : CALL 0x0043c030
0043b89a : MOV ESI,EAX
0043b89c : MOV dword ptr [EBP + -0x18],ESI
0043b89f : MOV ECX,dword ptr [EBP + 0xc]
0043b8a2 : SUB ECX,dword ptr [EBX + 0x4]
0043b8a5 : MOV EAX,0x92492493
0043b8aa : IMUL ECX
0043b8ac : ADD EDX,ECX
0043b8ae : SAR EDX,0x4
0043b8b1 : MOV EAX,EDX
0043b8b3 : SHR EAX,0x1f
0043b8b6 : ADD EAX,EDX
0043b8b8 : MOV dword ptr [EBP + -0x20],EAX
0043b8bb : MOV dword ptr [EBP + -0x4],0x0
0043b8c2 : LEA EDX,[EAX*0x8 + 0x0]
0043b8c9 : SUB EDX,EAX
0043b8cb : LEA EDI,[ESI + EDX*0x4]
0043b8ce : MOV EDX,dword ptr [EBP + 0x10]
0043b8d1 : MOV ESI,0x1
0043b8d6 : CALL 0x0043b0c0
0043b8db : MOV dword ptr [EBP + -0x1c],ESI
0043b8de : MOV EAX,dword ptr [EBP + 0xc]
0043b8e1 : PUSH EAX
0043b8e2 : MOV ECX,dword ptr [EBX + 0x4]
0043b8e5 : PUSH ECX
0043b8e6 : MOV EDI,dword ptr [EBP + -0x18]
0043b8e9 : MOV EDX,EDI
0043b8eb : CALL 0x0043c100
0043b8f0 : MOV dword ptr [EBP + -0x1c],0x2
0043b8f7 : MOV EAX,dword ptr [EBP + -0x20]
0043b8fa : INC EAX
0043b8fb : LEA EDX,[EAX*0x8 + 0x0]
0043b902 : SUB EDX,EAX
0043b904 : LEA EDX,[EDI + EDX*0x4]
0043b907 : MOV EAX,dword ptr [EBX + 0x8]
0043b90a : PUSH EAX
0043b90b : MOV ECX,dword ptr [EBP + 0xc]
0043b90e : PUSH ECX
0043b90f : CALL 0x0043c100
0043b914 : MOV dword ptr [EBP + -0x4],0xffffffff
0043b91b : MOV ECX,dword ptr [EBX + 0x4]
0043b91e : MOV ESI,dword ptr [EBX + 0x8]
0043b921 : SUB ESI,ECX
0043b923 : MOV EAX,0x92492493
0043b928 : IMUL ESI
0043b92a : ADD EDX,ESI
0043b92c : SAR EDX,0x4
0043b92f : MOV EAX,EDX
0043b931 : SHR EAX,0x1f
0043b934 : LEA ESI,[EDX + EAX*0x1 + 0x1]
0043b938 : TEST ECX,ECX
0043b93a : JZ 0x0043b941
0043b93c : CALL 0x006f04e0
0043b941 : MOV EAX,dword ptr [EBP + 0x8]
0043b944 : LEA ECX,[EAX*0x8 + 0x0]
0043b94b : SUB ECX,EAX
0043b94d : LEA EDX,[EDI + ECX*0x4]
0043b950 : MOV dword ptr [EBX + 0xc],EDX
0043b953 : LEA EAX,[ESI*0x8 + 0x0]
0043b95a : SUB EAX,ESI
0043b95c : LEA ECX,[EDI + EAX*0x4]
0043b95f : MOV dword ptr [EBX + 0x8],ECX
0043b962 : MOV dword ptr [EBX + 0x4],EDI
0043b965 : MOV ECX,dword ptr [EBP + -0xc]
0043b968 : MOV dword ptr FS:[0x0],ECX
0043b96f : POP ECX
0043b970 : POP EDI
0043b971 : POP ESI
0043b972 : POP EBX
0043b973 : MOV ESP,EBP
0043b975 : POP EBP
0043b976 : RET 0xc
0043b98a : MOV ECX,EDI
0043b98c : MOV ESI,dword ptr [EBP + 0xc]
0043b98f : SUB ECX,ESI
0043b991 : MOV EAX,0x92492493
0043b996 : IMUL ECX
0043b998 : ADD EDX,ECX
0043b99a : SAR EDX,0x4
0043b99d : MOV EAX,EDX
0043b99f : SHR EAX,0x1f
0043b9a2 : ADD EAX,EDX
0043b9a4 : PUSH EDI
0043b9a5 : CMP EAX,0x1
0043b9a8 : MOV EAX,dword ptr [EBP + 0x10]
0043b9ab : MOVQ XMM0,qword ptr [EAX]
0043b9af : MOVQ qword ptr [EBP + -0x3c],XMM0
0043b9b4 : MOVQ XMM0,qword ptr [EAX + 0x8]
0043b9b9 : MOVQ qword ptr [EBP + -0x34],XMM0
0043b9be : MOVQ XMM0,qword ptr [EAX + 0x10]
0043b9c3 : MOVQ qword ptr [EBP + -0x2c],XMM0
0043b9c8 : JNC 0x0043ba3e
0043b9ca : MOV ECX,dword ptr [EAX + 0x18]
0043b9cd : MOV dword ptr [EBP + -0x24],ECX
0043b9d0 : LEA EDX,[ESI + 0x1c]
0043b9d3 : PUSH ESI
0043b9d4 : CALL 0x0043c100
0043b9d9 : MOV dword ptr [EBP + -0x4],0x2
0043b9e0 : MOV EDI,dword ptr [EBX + 0x8]
0043b9e3 : MOV ECX,EDI
0043b9e5 : SUB ECX,dword ptr [EBP + 0xc]
0043b9e8 : MOV EAX,0x92492493
0043b9ed : IMUL ECX
0043b9ef : ADD EDX,ECX
0043b9f1 : SAR EDX,0x4
0043b9f4 : MOV EAX,EDX
0043b9f6 : SHR EAX,0x1f
0043b9f9 : ADD EAX,EDX
0043b9fb : MOV ESI,0x1
0043ba00 : SUB ESI,EAX
0043ba02 : LEA EDX,[EBP + -0x3c]
0043ba05 : CALL 0x0043b0c0
0043ba0a : MOV dword ptr [EBP + -0x4],0xffffffff
0043ba11 : ADD dword ptr [EBX + 0x8],0x1c
0043ba15 : MOV EBX,dword ptr [EBX + 0x8]
0043ba18 : LEA EDX,[EBX + -0x1c]
0043ba1b : MOV ECX,dword ptr [EBP + 0xc]
0043ba1e : PUSH ECX
0043ba1f : LEA ECX,[EBP + -0x3c]
0043ba22 : CALL 0x0043c460
0043ba27 : ADD ESP,0x4
0043ba2a : MOV ECX,dword ptr [EBP + -0xc]
0043ba2d : MOV dword ptr FS:[0x0],ECX
0043ba34 : POP ECX
0043ba35 : POP EDI
0043ba36 : POP ESI
0043ba37 : POP EBX
0043ba38 : MOV ESP,EBP
0043ba3a : POP EBP
0043ba3b : RET 0xc
0043ba3e : MOV EDX,dword ptr [EAX + 0x18]
0043ba41 : MOV dword ptr [EBP + -0x24],EDX
0043ba44 : LEA ESI,[EDI + -0x1c]
0043ba47 : PUSH ESI
0043ba48 : MOV EDX,EDI
0043ba4a : CALL 0x0043c100
0043ba4f : MOV dword ptr [EBX + 0x8],EAX
0043ba52 : MOV byte ptr [EBP + 0x10],0x0
0043ba56 : MOV EAX,dword ptr [EBP + 0x10]
0043ba59 : PUSH EAX
0043ba5a : MOV ECX,dword ptr [EBP + 0xc]
0043ba5d : PUSH ECX
0043ba5e : MOV EDX,dword ptr [EBP + 0xc]
0043ba61 : PUSH EDX
0043ba62 : MOV EAX,dword ptr [EBP + 0xc]
0043ba65 : PUSH EAX
0043ba66 : MOV EAX,EDI
0043ba68 : MOV ECX,ESI
0043ba6a : CALL 0x0043c570
0043ba6f : MOV EAX,dword ptr [EBP + 0xc]
0043ba72 : LEA EDX,[EAX + 0x1c]
0043ba75 : PUSH EAX
0043ba76 : LEA ECX,[EBP + -0x3c]
0043ba79 : CALL 0x0043c460
0043ba7e : ADD ESP,0x14
0043ba81 : MOV ECX,dword ptr [EBP + -0xc]
0043ba84 : MOV dword ptr FS:[0x0],ECX
0043ba8b : POP ECX
0043ba8c : POP EDI
0043ba8d : POP ESI
0043ba8e : POP EBX
0043ba8f : MOV ESP,EBP
0043ba91 : POP EBP
0043ba92 : RET 0xc
