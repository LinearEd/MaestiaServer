PROGRAM  : Maestia.exe
FUNCTION : FUN_005f4ba0
ENTRY    : 005f4ba0
BODY     : [[005f4ba0, 005f4c6f]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005f4ba0(undefined4 *param_1,uint param_2,undefined4 *param_3)

{
  uint uVar1;
  int iVar2;
  uint *in_ECX;
  
  uVar1 = (uint)param_3;
  if (((param_3 <= in_ECX[5]) && (param_2 != 0)) && (param_3 != (undefined4 *)0x0)) {
    if (param_3 < *in_ECX) {
      *in_ECX = (uint)param_3;
    }
    if (param_2 < *in_ECX) {
      *in_ECX = param_2;
    }
    param_3 = (undefined4 *)FUN_005f4640(param_2,param_3);
    if (((param_3 != (undefined4 *)0x0) ||
        (param_3 = (undefined4 *)FUN_005f4680(param_2,uVar1), param_3 != (undefined4 *)0x0)) ||
       (param_3 = (undefined4 *)FUN_005f47a0(param_2,uVar1), param_3 != (undefined4 *)0x0)) {
      *param_3 = *param_1;
      param_3[1] = param_1[1];
      param_3[2] = param_1[2];
      *(undefined2 *)(param_3 + 8) = 0;
      *(undefined2 *)((int)param_3 + 0x22) = 0;
      FUN_005a3100(param_3);
      iVar2 = FUN_005f3340(param_1);
      if (iVar2 == 0) {
        FUN_005f4b40(param_1,&param_3);
      }
      return param_3;
    }
  }
  return (undefined4 *)0x0;
}



============================================================
DISASSEMBLY
============================================================
005f4ba0 : PUSH EBX
005f4ba1 : PUSH ESI
005f4ba2 : PUSH EDI
005f4ba3 : MOV EDI,dword ptr [ESP + 0x18]
005f4ba7 : MOV ESI,ECX
005f4ba9 : CMP EDI,dword ptr [ESI + 0x14]
005f4bac : JA 0x005f4c68
005f4bb2 : MOV EBX,dword ptr [ESP + 0x14]
005f4bb6 : TEST EBX,EBX
005f4bb8 : JZ 0x005f4c68
005f4bbe : TEST EDI,EDI
005f4bc0 : JZ 0x005f4c68
005f4bc6 : CMP EDI,dword ptr [ESI]
005f4bc8 : JNC 0x005f4bcc
005f4bca : MOV dword ptr [ESI],EDI
005f4bcc : CMP EBX,dword ptr [ESI]
005f4bce : JNC 0x005f4bd2
005f4bd0 : MOV dword ptr [ESI],EBX
005f4bd2 : PUSH EDI
005f4bd3 : PUSH EBX
005f4bd4 : CALL 0x005f4640
005f4bd9 : MOV dword ptr [ESP + 0x18],EAX
005f4bdd : TEST EAX,EAX
005f4bdf : JNZ 0x005f4c03
005f4be1 : PUSH EDI
005f4be2 : PUSH EBX
005f4be3 : MOV ECX,ESI
005f4be5 : CALL 0x005f4680
005f4bea : MOV dword ptr [ESP + 0x18],EAX
005f4bee : TEST EAX,EAX
005f4bf0 : JNZ 0x005f4c03
005f4bf2 : PUSH EDI
005f4bf3 : PUSH EBX
005f4bf4 : MOV ECX,ESI
005f4bf6 : CALL 0x005f47a0
005f4bfb : MOV dword ptr [ESP + 0x18],EAX
005f4bff : TEST EAX,EAX
005f4c01 : JZ 0x005f4c6a
005f4c03 : MOV EDI,dword ptr [ESP + 0x10]
005f4c07 : MOV ECX,dword ptr [EDI]
005f4c09 : MOV dword ptr [EAX],ECX
005f4c0b : MOV EDX,dword ptr [EDI + 0x4]
005f4c0e : MOV EAX,dword ptr [ESP + 0x18]
005f4c12 : MOV dword ptr [EAX + 0x4],EDX
005f4c15 : MOV ECX,dword ptr [EDI + 0x8]
005f4c18 : MOV EDX,dword ptr [ESP + 0x18]
005f4c1c : MOV dword ptr [EDX + 0x8],ECX
005f4c1f : MOV ECX,dword ptr [ESP + 0x18]
005f4c23 : XOR EAX,EAX
005f4c25 : MOV word ptr [ECX + 0x20],AX
005f4c29 : MOV EAX,dword ptr [ESP + 0x18]
005f4c2d : XOR EDX,EDX
005f4c2f : MOV word ptr [EAX + 0x22],DX
005f4c33 : MOV ECX,dword ptr [ESP + 0x18]
005f4c37 : PUSH ECX
005f4c38 : MOV ECX,ESI
005f4c3a : CALL 0x005a3100
005f4c3f : ADD ESI,0x84
005f4c45 : PUSH EDI
005f4c46 : MOV ECX,ESI
005f4c48 : CALL 0x005f3340
005f4c4d : TEST EAX,EAX
005f4c4f : JNZ 0x005f4c5e
005f4c51 : LEA EDX,[ESP + 0x18]
005f4c55 : PUSH EDX
005f4c56 : PUSH EDI
005f4c57 : MOV ECX,ESI
005f4c59 : CALL 0x005f4b40
005f4c5e : MOV EAX,dword ptr [ESP + 0x18]
005f4c62 : POP EDI
005f4c63 : POP ESI
005f4c64 : POP EBX
005f4c65 : RET 0xc
005f4c68 : XOR EAX,EAX
005f4c6a : POP EDI
005f4c6b : POP ESI
005f4c6c : POP EBX
005f4c6d : RET 0xc
