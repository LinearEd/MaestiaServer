PROGRAM  : Maestia.exe
FUNCTION : FUN_005d0cd0
ENTRY    : 005d0cd0
BODY     : [[005d0cd0, 005d0fe5]]

============================================================
DECOMPILED C CODE
============================================================

undefined4
FUN_005d0cd0(undefined4 param_1,undefined4 *param_2,undefined4 param_3,undefined4 param_4)

{
  byte bVar1;
  char cVar2;
  byte *pbVar3;
  int iVar4;
  byte *pbVar5;
  undefined4 uVar6;
  int in_ECX;
  char *pcVar7;
  byte *pbVar8;
  bool bVar9;
  float10 fVar10;
  uint local_8;
  
  pbVar5 = *(byte **)*param_2;
  pcVar7 = "alpha";
  pbVar3 = pbVar5;
  do {
    bVar1 = *pbVar3;
    bVar9 = bVar1 < (byte)*pcVar7;
    if (bVar1 != *pcVar7) {
LAB_005d0d07:
      iVar4 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
      goto LAB_005d0d0c;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar3[1];
    bVar9 = bVar1 < ((byte *)pcVar7)[1];
    if (bVar1 != ((byte *)pcVar7)[1]) goto LAB_005d0d07;
    pbVar3 = pbVar3 + 2;
    pcVar7 = (char *)((byte *)pcVar7 + 2);
  } while (bVar1 != 0);
  iVar4 = 0;
LAB_005d0d0c:
  if (iVar4 == 0) {
    fVar10 = (float10)FUN_00527730(param_1);
    param_3._0_1_ = (undefined1)(int)ROUND((float)fVar10 * 255.0);
    *(undefined1 *)(in_ECX + 0x2b) = (undefined1)param_3;
    return 1;
  }
  pbVar8 = &DAT_00b8a574;
  pbVar3 = pbVar5;
  do {
    bVar1 = *pbVar3;
    bVar9 = bVar1 < *pbVar8;
    if (bVar1 != *pbVar8) {
LAB_005d0d83:
      iVar4 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
      goto LAB_005d0d88;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar3[1];
    bVar9 = bVar1 < pbVar8[1];
    if (bVar1 != pbVar8[1]) goto LAB_005d0d83;
    pbVar3 = pbVar3 + 2;
    pbVar8 = pbVar8 + 2;
  } while (bVar1 != 0);
  iVar4 = 0;
LAB_005d0d88:
  if (iVar4 == 0) {
    fVar10 = (float10)FUN_00527730(param_1);
    local_8 = (uint)(longlong)ROUND((float)fVar10 * 16.0 + 0.5);
    if (0xfe < local_8) {
      local_8 = 0xff;
    }
    *(char *)(in_ECX + 0x21) = (char)local_8;
    return 1;
  }
  pcVar7 = "blurY";
  do {
    bVar1 = *pbVar5;
    bVar9 = bVar1 < (byte)*pcVar7;
    if (bVar1 != *pcVar7) {
LAB_005d0e11:
      iVar4 = (1 - (uint)bVar9) - (uint)(bVar9 != 0);
      goto LAB_005d0e16;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar5[1];
    bVar9 = bVar1 < ((byte *)pcVar7)[1];
    if (bVar1 != ((byte *)pcVar7)[1]) goto LAB_005d0e11;
    pbVar5 = pbVar5 + 2;
    pcVar7 = (char *)((byte *)pcVar7 + 2);
  } while (bVar1 != 0);
  iVar4 = 0;
LAB_005d0e16:
  if (iVar4 == 0) {
    fVar10 = (float10)FUN_00527730(param_1);
    local_8 = (uint)(longlong)ROUND((float)fVar10 * 16.0 + 0.5);
    if (0xfe < local_8) {
      local_8 = 0xff;
    }
    *(char *)(in_ECX + 0x22) = (char)local_8;
    return 1;
  }
  cVar2 = FUN_004ffc90("color");
  if (cVar2 != '\0') {
    uVar6 = FUN_00527a80(param_1);
    *(undefined4 *)(in_ECX + 0x28) = uVar6;
    *(undefined1 *)(in_ECX + 0x2b) = *(undefined1 *)(in_ECX + 0x2b);
    return 1;
  }
  cVar2 = FUN_004ffc90("inner");
  if (cVar2 == '\0') {
    cVar2 = FUN_004ffc90("knockout");
    if (cVar2 != '\0') {
      cVar2 = FUN_00526120(param_1);
      if (cVar2 != '\0') {
        *(byte *)(in_ECX + 0x20) = *(byte *)(in_ECX + 0x20) | 0x20;
        return 1;
      }
      *(byte *)(in_ECX + 0x20) = *(byte *)(in_ECX + 0x20) & 0xdf;
      return 1;
    }
    cVar2 = FUN_004ffc90("quality");
    if (cVar2 == '\0') {
      cVar2 = FUN_004ffc90("strength");
      if (cVar2 != '\0') {
        fVar10 = (float10)FUN_00527730(param_1);
        local_8 = (uint)(longlong)ROUND((float)fVar10 * 16.0 + 0.5);
        if (0xfe < local_8) {
          local_8 = 0xff;
        }
        *(char *)(in_ECX + 0x23) = (char)local_8;
        return 1;
      }
      uVar6 = FUN_005520e0(param_1,param_2,param_3,param_4);
      return uVar6;
    }
    iVar4 = FUN_00529690();
    if (iVar4 != 0) {
      FUN_0050a9f0(iVar4 + 0xc,"Warning: GlowFilter.quality property is not supported!\n");
      return 1;
    }
  }
  else {
    iVar4 = FUN_00529690();
    if (iVar4 != 0) {
      FUN_0050a9f0(iVar4 + 0xc,"Warning: GlowFilter.inner property is not supported!\n");
    }
  }
  return 1;
}



============================================================
DISASSEMBLY
============================================================
005d0cd0 : SUB ESP,0x8
005d0cd3 : PUSH EBX
005d0cd4 : MOV EBX,dword ptr [ESP + 0x14]
005d0cd8 : MOV EAX,dword ptr [EBX]
005d0cda : PUSH ESI
005d0cdb : MOV ESI,dword ptr [EAX]
005d0cdd : PUSH EDI
005d0cde : MOV EDI,ECX
005d0ce0 : MOV ECX,0xb8a444
005d0ce5 : MOV EAX,ESI
005d0ce7 : MOV DL,byte ptr [EAX]
005d0ce9 : CMP DL,byte ptr [ECX]
005d0ceb : JNZ 0x005d0d07
005d0ced : TEST DL,DL
005d0cef : JZ 0x005d0d03
005d0cf1 : MOV DL,byte ptr [EAX + 0x1]
005d0cf4 : CMP DL,byte ptr [ECX + 0x1]
005d0cf7 : JNZ 0x005d0d07
005d0cf9 : ADD EAX,0x2
005d0cfc : ADD ECX,0x2
005d0cff : TEST DL,DL
005d0d01 : JNZ 0x005d0ce7
005d0d03 : XOR EAX,EAX
005d0d05 : JMP 0x005d0d0c
005d0d07 : SBB EAX,EAX
005d0d09 : SBB EAX,-0x1
005d0d0c : TEST EAX,EAX
005d0d0e : JNZ 0x005d0d5c
005d0d10 : MOV ECX,dword ptr [ESP + 0x18]
005d0d14 : PUSH ECX
005d0d15 : MOV ECX,dword ptr [ESP + 0x24]
005d0d19 : CALL 0x00527730
005d0d1e : FSTP float ptr [ESP + 0x18]
005d0d22 : FLD float ptr [ESP + 0x18]
005d0d26 : FMUL double ptr [0x00b86b48]
005d0d2c : FNSTCW word ptr [ESP + 0x18]
005d0d30 : MOVZX EAX,word ptr [ESP + 0x18]
005d0d35 : OR EAX,0xc00
005d0d3a : MOV dword ptr [ESP + 0x20],EAX
005d0d3e : MOV AL,0x1
005d0d40 : FLDCW word ptr [ESP + 0x20]
005d0d44 : FISTP dword ptr [ESP + 0x20]
005d0d48 : MOV DL,byte ptr [ESP + 0x20]
005d0d4c : MOV byte ptr [EDI + 0x2b],DL
005d0d4f : POP EDI
005d0d50 : FLDCW word ptr [ESP + 0x14]
005d0d54 : POP ESI
005d0d55 : POP EBX
005d0d56 : ADD ESP,0x8
005d0d59 : RET 0x10
005d0d5c : MOV ECX,0xb8a574
005d0d61 : MOV EAX,ESI
005d0d63 : MOV DL,byte ptr [EAX]
005d0d65 : CMP DL,byte ptr [ECX]
005d0d67 : JNZ 0x005d0d83
005d0d69 : TEST DL,DL
005d0d6b : JZ 0x005d0d7f
005d0d6d : MOV DL,byte ptr [EAX + 0x1]
005d0d70 : CMP DL,byte ptr [ECX + 0x1]
005d0d73 : JNZ 0x005d0d83
005d0d75 : ADD EAX,0x2
005d0d78 : ADD ECX,0x2
005d0d7b : TEST DL,DL
005d0d7d : JNZ 0x005d0d63
005d0d7f : XOR EAX,EAX
005d0d81 : JMP 0x005d0d88
005d0d83 : SBB EAX,EAX
005d0d85 : SBB EAX,-0x1
005d0d88 : TEST EAX,EAX
005d0d8a : JNZ 0x005d0dea
005d0d8c : MOV EAX,dword ptr [ESP + 0x18]
005d0d90 : MOV ECX,dword ptr [ESP + 0x20]
005d0d94 : PUSH EAX
005d0d95 : CALL 0x00527730
005d0d9a : FSTP float ptr [ESP + 0x18]
005d0d9e : FLD float ptr [ESP + 0x18]
005d0da2 : FMUL double ptr [0x00b86b68]
005d0da8 : FNSTCW word ptr [ESP + 0x18]
005d0dac : MOVZX EAX,word ptr [ESP + 0x18]
005d0db1 : FADD double ptr [0x00cdf120]
005d0db7 : OR EAX,0xc00
005d0dbc : MOV dword ptr [ESP + 0x20],EAX
005d0dc0 : FLDCW word ptr [ESP + 0x20]
005d0dc4 : FISTP qword ptr [ESP + 0xc]
005d0dc8 : MOV EAX,dword ptr [ESP + 0xc]
005d0dcc : FLDCW word ptr [ESP + 0x18]
005d0dd0 : CMP EAX,0xff
005d0dd5 : JC 0x005d0ddc
005d0dd7 : MOV EAX,0xff
005d0ddc : MOV byte ptr [EDI + 0x21],AL
005d0ddf : POP EDI
005d0de0 : POP ESI
005d0de1 : MOV AL,0x1
005d0de3 : POP EBX
005d0de4 : ADD ESP,0x8
005d0de7 : RET 0x10
005d0dea : MOV ECX,0xb8a56c
005d0def : MOV EAX,ESI
005d0df1 : MOV DL,byte ptr [EAX]
005d0df3 : CMP DL,byte ptr [ECX]
005d0df5 : JNZ 0x005d0e11
005d0df7 : TEST DL,DL
005d0df9 : JZ 0x005d0e0d
005d0dfb : MOV DL,byte ptr [EAX + 0x1]
005d0dfe : CMP DL,byte ptr [ECX + 0x1]
005d0e01 : JNZ 0x005d0e11
005d0e03 : ADD EAX,0x2
005d0e06 : ADD ECX,0x2
005d0e09 : TEST DL,DL
005d0e0b : JNZ 0x005d0df1
005d0e0d : XOR EAX,EAX
005d0e0f : JMP 0x005d0e16
005d0e11 : SBB EAX,EAX
005d0e13 : SBB EAX,-0x1
005d0e16 : TEST EAX,EAX
005d0e18 : JNZ 0x005d0e78
005d0e1a : MOV ECX,dword ptr [ESP + 0x18]
005d0e1e : PUSH ECX
005d0e1f : MOV ECX,dword ptr [ESP + 0x24]
005d0e23 : CALL 0x00527730
005d0e28 : FSTP float ptr [ESP + 0x18]
005d0e2c : FLD float ptr [ESP + 0x18]
005d0e30 : FMUL double ptr [0x00b86b68]
005d0e36 : FNSTCW word ptr [ESP + 0x18]
005d0e3a : MOVZX EAX,word ptr [ESP + 0x18]
005d0e3f : FADD double ptr [0x00cdf120]
005d0e45 : OR EAX,0xc00
005d0e4a : MOV dword ptr [ESP + 0x20],EAX
005d0e4e : FLDCW word ptr [ESP + 0x20]
005d0e52 : FISTP qword ptr [ESP + 0xc]
005d0e56 : MOV EAX,dword ptr [ESP + 0xc]
005d0e5a : FLDCW word ptr [ESP + 0x18]
005d0e5e : CMP EAX,0xff
005d0e63 : JC 0x005d0e6a
005d0e65 : MOV EAX,0xff
005d0e6a : MOV byte ptr [EDI + 0x22],AL
005d0e6d : POP EDI
005d0e6e : POP ESI
005d0e6f : MOV AL,0x1
005d0e71 : POP EBX
005d0e72 : ADD ESP,0x8
005d0e75 : RET 0x10
005d0e78 : PUSH 0xb8d75c
005d0e7d : MOV ECX,EBX
005d0e7f : CALL 0x004ffc90
005d0e84 : TEST AL,AL
005d0e86 : JZ 0x005d0eaa
005d0e88 : MOV EDX,dword ptr [ESP + 0x18]
005d0e8c : MOV ECX,dword ptr [ESP + 0x20]
005d0e90 : PUSH EDX
005d0e91 : CALL 0x00527a80
005d0e96 : MOV CL,byte ptr [EDI + 0x2b]
005d0e99 : MOV dword ptr [EDI + 0x28],EAX
005d0e9c : MOV byte ptr [EDI + 0x2b],CL
005d0e9f : POP EDI
005d0ea0 : POP ESI
005d0ea1 : MOV AL,0x1
005d0ea3 : POP EBX
005d0ea4 : ADD ESP,0x8
005d0ea7 : RET 0x10
005d0eaa : PUSH 0xb92ff0
005d0eaf : MOV ECX,EBX
005d0eb1 : CALL 0x004ffc90
005d0eb6 : TEST AL,AL
005d0eb8 : JZ 0x005d0ee3
005d0eba : MOV ECX,dword ptr [ESP + 0x18]
005d0ebe : CALL 0x00529690
005d0ec3 : TEST EAX,EAX
005d0ec5 : JZ 0x005d0ed8
005d0ec7 : ADD EAX,0xc
005d0eca : PUSH 0xb93194
005d0ecf : PUSH EAX
005d0ed0 : CALL 0x0050a9f0
005d0ed5 : ADD ESP,0x8
005d0ed8 : POP EDI
005d0ed9 : POP ESI
005d0eda : MOV AL,0x1
005d0edc : POP EBX
005d0edd : ADD ESP,0x8
005d0ee0 : RET 0x10
005d0ee3 : PUSH 0xb92fa8
005d0ee8 : MOV ECX,EBX
005d0eea : CALL 0x004ffc90
005d0eef : TEST AL,AL
005d0ef1 : JZ 0x005d0f23
005d0ef3 : MOV EAX,dword ptr [ESP + 0x18]
005d0ef7 : MOV ECX,dword ptr [ESP + 0x20]
005d0efb : PUSH EAX
005d0efc : CALL 0x00526120
005d0f01 : TEST AL,AL
005d0f03 : JZ 0x005d0f14
005d0f05 : OR byte ptr [EDI + 0x20],0x20
005d0f09 : POP EDI
005d0f0a : POP ESI
005d0f0b : MOV AL,0x1
005d0f0d : POP EBX
005d0f0e : ADD ESP,0x8
005d0f11 : RET 0x10
005d0f14 : AND byte ptr [EDI + 0x20],0xdf
005d0f18 : POP EDI
005d0f19 : POP ESI
005d0f1a : MOV AL,0x1
005d0f1c : POP EBX
005d0f1d : ADD ESP,0x8
005d0f20 : RET 0x10
005d0f23 : PUSH 0xb92fa0
005d0f28 : MOV ECX,EBX
005d0f2a : CALL 0x004ffc90
005d0f2f : TEST AL,AL
005d0f31 : JZ 0x005d0f5c
005d0f33 : MOV ECX,dword ptr [ESP + 0x18]
005d0f37 : CALL 0x00529690
005d0f3c : TEST EAX,EAX
005d0f3e : JZ 0x005d0ed8
005d0f40 : ADD EAX,0xc
005d0f43 : PUSH 0xb9315c
005d0f48 : PUSH EAX
005d0f49 : CALL 0x0050a9f0
005d0f4e : ADD ESP,0x8
005d0f51 : POP EDI
005d0f52 : POP ESI
005d0f53 : MOV AL,0x1
005d0f55 : POP EBX
005d0f56 : ADD ESP,0x8
005d0f59 : RET 0x10
005d0f5c : PUSH 0xb92f54
005d0f61 : MOV ECX,EBX
005d0f63 : CALL 0x004ffc90
005d0f68 : MOV ECX,dword ptr [ESP + 0x18]
005d0f6c : TEST AL,AL
005d0f6e : JZ 0x005d0fca
005d0f70 : PUSH ECX
005d0f71 : MOV ECX,dword ptr [ESP + 0x24]
005d0f75 : CALL 0x00527730
005d0f7a : FSTP float ptr [ESP + 0x18]
005d0f7e : FLD float ptr [ESP + 0x18]
005d0f82 : FMUL double ptr [0x00b86b68]
005d0f88 : FNSTCW word ptr [ESP + 0x18]
005d0f8c : MOVZX EAX,word ptr [ESP + 0x18]
005d0f91 : FADD double ptr [0x00cdf120]
005d0f97 : OR EAX,0xc00
005d0f9c : MOV dword ptr [ESP + 0x20],EAX
005d0fa0 : FLDCW word ptr [ESP + 0x20]
005d0fa4 : FISTP qword ptr [ESP + 0xc]
005d0fa8 : MOV EAX,dword ptr [ESP + 0xc]
005d0fac : FLDCW word ptr [ESP + 0x18]
005d0fb0 : CMP EAX,0xff
005d0fb5 : JC 0x005d0fbc
005d0fb7 : MOV EAX,0xff
005d0fbc : MOV byte ptr [EDI + 0x23],AL
005d0fbf : POP EDI
005d0fc0 : POP ESI
005d0fc1 : MOV AL,0x1
005d0fc3 : POP EBX
005d0fc4 : ADD ESP,0x8
005d0fc7 : RET 0x10
005d0fca : MOV EDX,dword ptr [ESP + 0x24]
005d0fce : MOV EAX,dword ptr [ESP + 0x20]
005d0fd2 : PUSH EDX
005d0fd3 : PUSH EAX
005d0fd4 : PUSH EBX
005d0fd5 : PUSH ECX
005d0fd6 : MOV ECX,EDI
005d0fd8 : CALL 0x005520e0
005d0fdd : POP EDI
005d0fde : POP ESI
005d0fdf : POP EBX
005d0fe0 : ADD ESP,0x8
005d0fe3 : RET 0x10
