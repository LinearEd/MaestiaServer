PROGRAM  : Maestia.exe
FUNCTION : FUN_006b1460
ENTRY    : 006b1460
BODY     : [[006b1460, 006b1540]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006b1460(void)

{
  int iVar1;
  int iVar2;
  int *unaff_EBX;
  int unaff_ESI;
  undefined1 local_5e0 [48];
  int iStack_5b0;
  undefined1 uStack_594;
  undefined1 uStack_591;
  undefined4 uStack_84;
  undefined4 uStack_80;
  undefined4 uStack_7c;
  undefined4 uStack_8;
  undefined4 uStack_4;
  
  iVar1 = *(int *)(unaff_ESI + 0x1e4);
  *unaff_EBX = 0;
  iVar2 = (*(code *)**(undefined4 **)(iVar1 + 0xc))(local_5e0);
  if (iVar2 == 0) {
    uStack_80 = *(undefined4 *)(unaff_ESI + 0x194);
    uStack_7c = *(undefined4 *)(unaff_ESI + 0x198);
    uStack_594 = 0;
    uStack_84 = *(undefined4 *)(unaff_ESI + 400);
    uStack_8 = *(undefined4 *)(unaff_ESI + 0x220);
    uStack_4 = *(undefined4 *)(unaff_ESI + 0x21c);
    iVar2 = 0;
    *unaff_EBX = 0;
    uStack_591 = 1;
    if (0 < *(int *)(unaff_ESI + 0x19c)) {
      do {
        FUN_006b1440(local_5e0,iVar2);
        if ((iVar2 == 0) || (*unaff_EBX < iStack_5b0)) {
          *unaff_EBX = iStack_5b0;
        }
        iVar2 = iVar2 + 1;
      } while (iVar2 < *(int *)(unaff_ESI + 0x19c));
    }
    (**(code **)(*(int *)(iVar1 + 0xc) + 4))(local_5e0);
    iVar2 = 0;
  }
  return iVar2;
}



============================================================
DISASSEMBLY
============================================================
006b1460 : SUB ESP,0x5e0
006b1466 : PUSH EBP
006b1467 : MOV EBP,dword ptr [ESI + 0x1e4]
006b146d : PUSH 0x6b1440
006b1472 : PUSH 0x0
006b1474 : MOV dword ptr [EBX],0x0
006b147a : MOV ECX,dword ptr [ESI + 0x210]
006b1480 : MOV EDX,dword ptr [ESI + 0x1a0]
006b1486 : MOV EAX,dword ptr [EBP + 0xc]
006b1489 : PUSH 0x0
006b148b : PUSH ECX
006b148c : PUSH EDX
006b148d : MOV EDX,dword ptr [EAX]
006b148f : PUSH 0x0
006b1491 : PUSH 0x0
006b1493 : LEA ECX,[ESP + 0x20]
006b1497 : PUSH ESI
006b1498 : PUSH ECX
006b1499 : CALL EDX
006b149b : ADD ESP,0x24
006b149e : TEST EAX,EAX
006b14a0 : JNZ 0x006b1539
006b14a6 : MOV ECX,dword ptr [ESI + 0x194]
006b14ac : MOV EDX,dword ptr [ESI + 0x198]
006b14b2 : MOV byte ptr [ESP + 0x50],AL
006b14b6 : MOV EAX,dword ptr [ESI + 0x190]
006b14bc : PUSH EDI
006b14bd : MOV dword ptr [ESP + 0x564],EAX
006b14c4 : MOV EAX,dword ptr [ESI + 0x220]
006b14ca : MOV dword ptr [ESP + 0x568],ECX
006b14d1 : MOV ECX,dword ptr [ESI + 0x21c]
006b14d7 : XOR EDI,EDI
006b14d9 : MOV dword ptr [EBX],0x0
006b14df : CMP dword ptr [ESI + 0x19c],EDI
006b14e5 : MOV byte ptr [ESP + 0x57],0x1
006b14ea : MOV dword ptr [ESP + 0x56c],EDX
006b14f1 : MOV dword ptr [ESP + 0x5e0],EAX
006b14f8 : MOV dword ptr [ESP + 0x5e4],ECX
006b14ff : JLE 0x006b1526
006b1501 : LEA EDX,[ESP + 0x8]
006b1505 : PUSH EDI
006b1506 : PUSH EDX
006b1507 : CALL 0x006b1440
006b150c : MOV EAX,dword ptr [ESP + 0x40]
006b1510 : ADD ESP,0x8
006b1513 : TEST EDI,EDI
006b1515 : JZ 0x006b151b
006b1517 : CMP EAX,dword ptr [EBX]
006b1519 : JLE 0x006b151d
006b151b : MOV dword ptr [EBX],EAX
006b151d : INC EDI
006b151e : CMP EDI,dword ptr [ESI + 0x19c]
006b1524 : JL 0x006b1501
006b1526 : MOV EAX,dword ptr [EBP + 0xc]
006b1529 : MOV EDX,dword ptr [EAX + 0x4]
006b152c : LEA ECX,[ESP + 0x8]
006b1530 : PUSH ECX
006b1531 : CALL EDX
006b1533 : ADD ESP,0x4
006b1536 : XOR EAX,EAX
006b1538 : POP EDI
006b1539 : POP EBP
006b153a : ADD ESP,0x5e0
006b1540 : RET
