PROGRAM  : Maestia.exe
FUNCTION : FUN_00550680
ENTRY    : 00550680
BODY     : [[00550680, 0055081a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00550680(undefined4 *param_1)

{
  undefined1 *puVar1;
  undefined4 *puVar2;
  undefined1 uVar3;
  char *pcVar4;
  int *piVar5;
  undefined4 uVar6;
  undefined4 *local_10;
  int local_c;
  int local_8;
  byte local_4;
  
  puVar2 = param_1;
  puVar1 = (undefined1 *)param_1[1];
  FUN_00526400();
  *puVar1 = 2;
  puVar1[4] = 0;
  if ((int)puVar2[7] < 2) {
    FUN_0052e440(puVar2[6],"Error: Too few parameters for Object.registerClass (%d)",puVar2[7]);
  }
  else {
    uVar6 = puVar2[6];
    FUN_00526260(0);
    FUN_005272e0(&param_1,uVar6,0xffffffff,0);
    pcVar4 = (char *)FUN_00526260(1);
    if ((*pcVar4 == '\b') || (*pcVar4 == '\v')) {
      uVar6 = puVar2[6];
      piVar5 = &local_c;
      FUN_00526260(1);
      FUN_00527140(piVar5,uVar6);
      uVar3 = FUN_00533a70(puVar2[6] + 0x78,&param_1,&local_c);
      puVar1 = (undefined1 *)puVar2[1];
      FUN_00526400();
      *puVar1 = 2;
      puVar1[4] = uVar3;
      if (((local_4 & 2) == 0) && (local_c != 0)) {
        FUN_00503db0();
      }
      local_c = 0;
      if (((local_4 & 1) == 0) && (local_8 != 0)) {
        FUN_00503db0();
      }
    }
    else {
      pcVar4 = (char *)FUN_00526260(1);
      if (*pcVar4 == '\x01') {
        uVar3 = FUN_005325b0(puVar2[6] + 0x78,&param_1);
        puVar1 = (undefined1 *)puVar2[1];
        FUN_00526400();
        *puVar1 = 2;
        puVar1[4] = uVar3;
      }
      else {
        uVar6 = puVar2[6];
        FUN_00526260(1);
        FUN_005272e0(&local_10,uVar6,0xffffffff,0);
        FUN_0052e440(puVar2[6],
                     "Error: Second parameter of Object.registerClass(%s, %s) should be function or null\n"
                     ,*param_1,*local_10);
        local_10[2] = local_10[2] + -1;
        if (local_10[2] == 0) {
          FUN_00525340();
        }
      }
    }
    param_1[2] = param_1[2] + -1;
    if (param_1[2] == 0) {
      FUN_00525340();
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00550680 : SUB ESP,0x10
00550683 : PUSH ESI
00550684 : MOV ESI,dword ptr [ESP + 0x18]
00550688 : PUSH EDI
00550689 : MOV EDI,dword ptr [ESI + 0x4]
0055068c : MOV ECX,EDI
0055068e : CALL 0x00526400
00550693 : MOV byte ptr [EDI],0x2
00550696 : MOV byte ptr [EDI + 0x4],0x0
0055069a : MOV EAX,dword ptr [ESI + 0x1c]
0055069d : CMP EAX,0x2
005506a0 : JGE 0x005506ba
005506a2 : PUSH EAX
005506a3 : MOV EAX,dword ptr [ESI + 0x18]
005506a6 : PUSH 0xb8c0bc
005506ab : PUSH EAX
005506ac : CALL 0x0052e440
005506b1 : ADD ESP,0xc
005506b4 : POP EDI
005506b5 : POP ESI
005506b6 : ADD ESP,0x10
005506b9 : RET
005506ba : MOV EDI,dword ptr [ESI + 0x18]
005506bd : PUSH EBX
005506be : PUSH EBP
005506bf : MOV EBP,dword ptr [EDI + 0x78]
005506c2 : PUSH 0x0
005506c4 : MOV ECX,ESI
005506c6 : CALL 0x00526260
005506cb : PUSH 0x0
005506cd : PUSH -0x1
005506cf : PUSH EDI
005506d0 : LEA ECX,[ESP + 0x30]
005506d4 : PUSH ECX
005506d5 : MOV ECX,EAX
005506d7 : CALL 0x005272e0
005506dc : PUSH 0x1
005506de : MOV ECX,ESI
005506e0 : CALL 0x00526260
005506e5 : MOV AL,byte ptr [EAX]
005506e7 : CMP AL,0x8
005506e9 : JZ 0x005506f3
005506eb : CMP AL,0xb
005506ed : JNZ 0x00550773
005506f3 : MOV EDX,dword ptr [ESI + 0x18]
005506f6 : PUSH EDX
005506f7 : LEA EAX,[ESP + 0x18]
005506fb : PUSH EAX
005506fc : PUSH 0x1
005506fe : MOV ECX,ESI
00550700 : CALL 0x00526260
00550705 : MOV ECX,EAX
00550707 : CALL 0x00527140
0055070c : MOV EAX,dword ptr [ESI + 0x18]
0055070f : LEA ECX,[ESP + 0x14]
00550713 : PUSH ECX
00550714 : LEA EDX,[ESP + 0x28]
00550718 : ADD EAX,0x78
0055071b : PUSH EDX
0055071c : PUSH EAX
0055071d : MOV ECX,EBP
0055071f : CALL 0x00533a70
00550724 : MOV ESI,dword ptr [ESI + 0x4]
00550727 : MOV ECX,ESI
00550729 : MOV BL,AL
0055072b : CALL 0x00526400
00550730 : MOV byte ptr [ESI],0x2
00550733 : MOV byte ptr [ESI + 0x4],BL
00550736 : TEST byte ptr [ESP + 0x1c],0x2
0055073b : JNZ 0x0055074a
0055073d : MOV ECX,dword ptr [ESP + 0x14]
00550741 : TEST ECX,ECX
00550743 : JZ 0x0055074a
00550745 : CALL 0x00503db0
0055074a : TEST byte ptr [ESP + 0x1c],0x1
0055074f : MOV dword ptr [ESP + 0x14],0x0
00550757 : JNZ 0x005507fa
0055075d : MOV ECX,dword ptr [ESP + 0x18]
00550761 : TEST ECX,ECX
00550763 : JZ 0x005507fa
00550769 : CALL 0x00503db0
0055076e : JMP 0x005507fa
00550773 : PUSH 0x1
00550775 : MOV ECX,ESI
00550777 : CALL 0x00526260
0055077c : CMP byte ptr [EAX],0x1
0055077f : JNZ 0x005507a8
00550781 : MOV EAX,dword ptr [ESI + 0x18]
00550784 : LEA ECX,[ESP + 0x24]
00550788 : PUSH ECX
00550789 : ADD EAX,0x78
0055078c : PUSH EAX
0055078d : MOV ECX,EBP
0055078f : CALL 0x005325b0
00550794 : MOV ESI,dword ptr [ESI + 0x4]
00550797 : MOV ECX,ESI
00550799 : MOV BL,AL
0055079b : CALL 0x00526400
005507a0 : MOV byte ptr [ESI],0x2
005507a3 : MOV byte ptr [ESI + 0x4],BL
005507a6 : JMP 0x005507fa
005507a8 : MOV EDI,dword ptr [ESI + 0x18]
005507ab : PUSH 0x1
005507ad : MOV ECX,ESI
005507af : CALL 0x00526260
005507b4 : PUSH 0x0
005507b6 : PUSH -0x1
005507b8 : PUSH EDI
005507b9 : LEA EDX,[ESP + 0x1c]
005507bd : PUSH EDX
005507be : MOV ECX,EAX
005507c0 : CALL 0x005272e0
005507c5 : MOV EAX,dword ptr [ESP + 0x10]
005507c9 : MOV ECX,dword ptr [EAX]
005507cb : MOV EDX,dword ptr [ESP + 0x24]
005507cf : MOV EAX,dword ptr [EDX]
005507d1 : PUSH ECX
005507d2 : MOV ECX,dword ptr [ESI + 0x18]
005507d5 : PUSH EAX
005507d6 : PUSH 0xb8c068
005507db : PUSH ECX
005507dc : CALL 0x0052e440
005507e1 : MOV EAX,dword ptr [ESP + 0x20]
005507e5 : DEC dword ptr [EAX + 0x8]
005507e8 : MOV ECX,EAX
005507ea : ADD EAX,0x8
005507ed : ADD ESP,0x10
005507f0 : CMP dword ptr [EAX],0x0
005507f3 : JNZ 0x005507fa
005507f5 : CALL 0x00525340
005507fa : MOV EAX,dword ptr [ESP + 0x24]
005507fe : DEC dword ptr [EAX + 0x8]
00550801 : MOV ECX,EAX
00550803 : ADD EAX,0x8
00550806 : CMP dword ptr [EAX],0x0
00550809 : POP EBP
0055080a : POP EBX
0055080b : JNZ 0x005506b4
00550811 : POP EDI
00550812 : POP ESI
00550813 : ADD ESP,0x10
00550816 : JMP 0x00525340
