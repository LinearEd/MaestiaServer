PROGRAM  : Maestia.exe
FUNCTION : FUN_006f03b0
ENTRY    : 006f03b0
BODY     : [[006f03b0, 006f045d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006f03b0(void)

{
  uint uVar1;
  void *pvVar2;
  int iVar3;
  size_t unaff_ESI;
  undefined1 local_1c [12];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0cdd6;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  pvVar2 = _malloc(unaff_ESI);
  while( true ) {
    if (pvVar2 != (void *)0x0) {
      ExceptionList = local_10;
      return;
    }
    iVar3 = __callnewh(unaff_ESI);
    if (iVar3 == 0) break;
    pvVar2 = _malloc(unaff_ESI);
  }
  if ((DAT_017258fc & 1) == 0) {
    DAT_017258fc = DAT_017258fc | 1;
    local_8 = 0;
    FUN_004f7950(uVar1);
    _atexit((_func_4879 *)&LAB_00b849c0);
    local_8 = 0xffffffff;
  }
  FUN_00406090(&DAT_017258f0);
                    /* WARNING: Subroutine does not return */
  __CxxThrowException_8(local_1c,&DAT_00ced904);
}



============================================================
DISASSEMBLY
============================================================
006f03b0 : PUSH EBP
006f03b1 : MOV EBP,ESP
006f03b3 : PUSH -0x1
006f03b5 : PUSH 0xb0cdd6
006f03ba : MOV EAX,FS:[0x0]
006f03c0 : PUSH EAX
006f03c1 : SUB ESP,0xc
006f03c4 : MOV EAX,[0x00d66fa0]
006f03c9 : XOR EAX,EBP
006f03cb : PUSH EAX
006f03cc : LEA EAX,[EBP + -0xc]
006f03cf : MOV FS:[0x0],EAX
006f03d5 : PUSH ESI
006f03d6 : CALL 0x00636043
006f03db : ADD ESP,0x4
006f03de : TEST EAX,EAX
006f03e0 : JNZ 0x006f03fc
006f03e2 : PUSH ESI
006f03e3 : CALL 0x0063fe60
006f03e8 : ADD ESP,0x4
006f03eb : TEST EAX,EAX
006f03ed : JZ 0x006f040b
006f03ef : PUSH ESI
006f03f0 : CALL 0x00636043
006f03f5 : ADD ESP,0x4
006f03f8 : TEST EAX,EAX
006f03fa : JZ 0x006f03e2
006f03fc : MOV ECX,dword ptr [EBP + -0xc]
006f03ff : MOV dword ptr FS:[0x0],ECX
006f0406 : POP ECX
006f0407 : MOV ESP,EBP
006f0409 : POP EBP
006f040a : RET
006f040b : MOV EAX,0x1
006f0410 : TEST byte ptr [0x017258fc],AL
006f0416 : JNZ 0x006f0443
006f0418 : OR dword ptr [0x017258fc],EAX
006f041e : MOV dword ptr [EBP + -0x4],0x0
006f0425 : MOV ECX,0x17258f0
006f042a : CALL 0x004f7950
006f042f : PUSH 0xb849c0
006f0434 : CALL 0x006356bc
006f0439 : ADD ESP,0x4
006f043c : MOV dword ptr [EBP + -0x4],0xffffffff
006f0443 : PUSH 0x17258f0
006f0448 : LEA ECX,[EBP + -0x18]
006f044b : CALL 0x00406090
006f0450 : PUSH 0xced904
006f0455 : LEA EAX,[EBP + -0x18]
006f0458 : PUSH EAX
006f0459 : CALL 0x006409eb
