PROGRAM  : Maestia.exe
FUNCTION : FUN_0051dae0
ENTRY    : 0051dae0
BODY     : [[0051dae0, 0051db40]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0051dae0(uint *param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int *in_ECX;
  int *piVar3;
  
  iVar1 = *in_ECX;
  piVar3 = (int *)(iVar1 + 8 + param_2 * 0x24);
  if ((*(int *)(iVar1 + 8 + param_2 * 0x24) == -2) || (iVar2 = param_2, piVar3[1] != param_2)) {
    return -1;
  }
  do {
    if ((piVar3[1] == param_2) && (piVar3[2] == *param_1)) {
      if ((piVar3[2] & 0x20000U) == 0) {
        return iVar2;
      }
      if ((short)piVar3[4] == (short)param_1[2]) {
        return iVar2;
      }
    }
    iVar2 = *piVar3;
    if (iVar2 == -1) {
      return -1;
    }
    piVar3 = (int *)(iVar1 + 8 + iVar2 * 0x24);
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
0051dae0 : PUSH ESI
0051dae1 : MOV ESI,dword ptr [ESP + 0xc]
0051dae5 : PUSH EDI
0051dae6 : MOV EDI,dword ptr [ECX]
0051dae8 : LEA ECX,[ESI + ESI*0x8]
0051daeb : CMP dword ptr [EDI + ECX*0x4 + 0x8],-0x2
0051daf0 : LEA ECX,[EDI + ECX*0x4 + 0x8]
0051daf4 : MOV EAX,ESI
0051daf6 : JZ 0x0051db39
0051daf8 : CMP dword ptr [ECX + 0x4],ESI
0051dafb : JNZ 0x0051db39
0051dafd : PUSH EBX
0051dafe : MOV EBX,dword ptr [ESP + 0x10]
0051db02 : CMP dword ptr [ECX + 0x4],ESI
0051db05 : JNZ 0x0051db20
0051db07 : MOV EDX,dword ptr [ECX + 0x8]
0051db0a : CMP EDX,dword ptr [EBX]
0051db0c : JNZ 0x0051db20
0051db0e : TEST EDX,0x20000
0051db14 : JZ 0x0051db33
0051db16 : MOV DX,word ptr [ECX + 0x10]
0051db1a : CMP DX,word ptr [EBX + 0x8]
0051db1e : JZ 0x0051db33
0051db20 : MOV EAX,dword ptr [ECX]
0051db22 : CMP EAX,-0x1
0051db25 : JZ 0x0051db30
0051db27 : LEA ECX,[EAX + EAX*0x8]
0051db2a : LEA ECX,[EDI + ECX*0x4 + 0x8]
0051db2e : JMP 0x0051db02
0051db30 : OR EAX,0xffffffff
0051db33 : POP EBX
0051db34 : POP EDI
0051db35 : POP ESI
0051db36 : RET 0x8
0051db39 : POP EDI
0051db3a : OR EAX,0xffffffff
0051db3d : POP ESI
0051db3e : RET 0x8
