PROGRAM  : Maestia.exe
FUNCTION : FUN_008ae9b0
ENTRY    : 008ae9b0
BODY     : [[008ae9b0, 008aeae1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008ae9b0(void)

{
  int iVar1;
  uint uVar2;
  uint8_t *packet;
  int in_ECX;
  byte bVar3;
  uint uVar4;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b63753;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar1 = *(int *)ThreadLocalStoragePointer;
  bVar3 = *(byte *)(iVar1 + 0x18);
  *(undefined1 *)(in_ECX + 0x120) = 0;
  *(undefined1 *)(in_ECX + 0x148) = 0;
  *(undefined1 *)(in_ECX + 0x149) = 0;
  *(undefined1 *)(in_ECX + 0xe4) = 0;
  bVar3 = (byte)((ulonglong)(bVar3 + 1) % 3);
  *(byte *)(iVar1 + 0x18) = bVar3;
  packet = (uint8_t *)((uint)bVar3 * 0x2000 + 0x122cb8 + iVar1);
  if (packet == (uint8_t *)0x0) {
    packet = (uint8_t *)0x0;
  }
  else {
    packet[0] = '\0';
    packet[1] = '\0';
    packet[2] = 'F';
    packet[3] = 'a';
  }
  local_8 = 0xffffffff;
  uVar4 = uVar2;
  if ((*(int *)(DAT_017247d4 + 4) != 0) && (*(char *)(DAT_017247d4 + 8) != '\0')) {
    FUN_00a0dd40(*(int *)(DAT_017247d4 + 4),4,packet);
  }
  (**(code **)(**(int **)(*DAT_00da9894 + 0x114) + 4))
            (*(int **)(*DAT_00da9894 + 0x114),"SetGuildNowPage",&DAT_00c4af08,
             *(undefined2 *)(in_ECX + 0xb2),uVar4);
  FUN_00a72c40(*(undefined4 *)(*DAT_00da9894 + 0x188));
  (**(code **)**(undefined4 **)(*DAT_00da9894 + 0x114))("GuildWindowOpen");
  *(undefined1 *)(in_ECX + 0x38) = 1;
  FUN_008f7770(1,300);
  ExceptionList = local_10;
  __security_check_cookie(uVar2 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
008ae9b0 : PUSH EBP
008ae9b1 : MOV EBP,ESP
008ae9b3 : PUSH -0x1
008ae9b5 : PUSH 0xb63753
008ae9ba : MOV EAX,FS:[0x0]
008ae9c0 : PUSH EAX
008ae9c1 : SUB ESP,0x8
008ae9c4 : MOV EAX,[0x00d66fa0]
008ae9c9 : XOR EAX,EBP
008ae9cb : MOV dword ptr [EBP + -0x10],EAX
008ae9ce : PUSH EBX
008ae9cf : PUSH ESI
008ae9d0 : PUSH EDI
008ae9d1 : PUSH EAX
008ae9d2 : LEA EAX,[EBP + -0xc]
008ae9d5 : MOV FS:[0x0],EAX
008ae9db : MOV EAX,FS:[0x2c]
008ae9e1 : MOV ESI,ECX
008ae9e3 : MOV ECX,dword ptr [EAX]
008ae9e5 : MOVZX EAX,byte ptr [ECX + 0x18]
008ae9e9 : INC EAX
008ae9ea : CDQ
008ae9eb : MOV EDI,0x3
008ae9f0 : IDIV EDI
008ae9f2 : XOR EBX,EBX
008ae9f4 : MOV byte ptr [ESI + 0x120],BL
008ae9fa : MOV byte ptr [ESI + 0x148],BL
008aea00 : MOV byte ptr [ESI + 0x149],BL
008aea06 : MOV byte ptr [ESI + 0xe4],BL
008aea0c : MOV byte ptr [ECX + 0x18],DL
008aea0f : MOVZX EDX,DL
008aea12 : SHL EDX,0xd
008aea15 : LEA EAX,[EDX + ECX*0x1 + 0x122cb8]
008aea1c : MOV dword ptr [EBP + -0x14],EAX
008aea1f : MOV dword ptr [EBP + -0x4],EBX
008aea22 : CMP EAX,EBX
008aea24 : JZ 0x008aea35
008aea26 : XOR ECX,ECX
008aea28 : MOV word ptr [EAX],CX
008aea2b : MOV byte ptr [EAX + 0x2],0x46
008aea2f : MOV byte ptr [EAX + 0x3],0x61
008aea33 : JMP 0x008aea37
008aea35 : XOR EAX,EAX
008aea37 : MOV dword ptr [EBP + -0x4],0xffffffff
008aea3e : MOV EDX,dword ptr [0x017247d4]
008aea44 : MOV ECX,dword ptr [EDX + 0x4]
008aea47 : CMP ECX,EBX
008aea49 : JZ 0x008aea5a
008aea4b : CMP byte ptr [EDX + 0x8],BL
008aea4e : JZ 0x008aea5a
008aea50 : PUSH 0x4
008aea52 : PUSH ECX
008aea53 : MOV EDI,EAX
008aea55 : CALL 0x00a0dd40
008aea5a : MOV EDX,dword ptr [0x00da9894]
008aea60 : MOV EAX,dword ptr [EDX]
008aea62 : MOVZX EDX,word ptr [ESI + 0xb2]
008aea69 : MOV EAX,dword ptr [EAX + 0x114]
008aea6f : MOV ECX,dword ptr [EAX]
008aea71 : PUSH EDX
008aea72 : PUSH 0xc4af08
008aea77 : PUSH 0xc4af0c
008aea7c : PUSH EAX
008aea7d : MOV EAX,dword ptr [ECX + 0x4]
008aea80 : CALL EAX
008aea82 : MOV ECX,dword ptr [0x00da9894]
008aea88 : MOV EDX,dword ptr [ECX]
008aea8a : MOV EAX,dword ptr [EDX + 0x188]
008aea90 : ADD ESP,0x10
008aea93 : PUSH EAX
008aea94 : CALL 0x00a72c40
008aea99 : MOV ECX,dword ptr [0x00da9894]
008aea9f : MOV EDX,dword ptr [ECX]
008aeaa1 : MOV ECX,dword ptr [EDX + 0x114]
008aeaa7 : MOV EAX,dword ptr [ECX]
008aeaa9 : MOV EDX,dword ptr [EAX]
008aeaab : PUSH 0xc4af1c
008aeab0 : CALL EDX
008aeab2 : PUSH 0x12c
008aeab7 : PUSH 0x1
008aeab9 : MOV ECX,ESI
008aeabb : MOV byte ptr [ESI + 0x38],0x1
008aeabf : CALL 0x008f7770
008aeac4 : MOV ECX,dword ptr [EBP + -0xc]
008aeac7 : MOV dword ptr FS:[0x0],ECX
008aeace : POP ECX
008aeacf : POP EDI
008aead0 : POP ESI
008aead1 : POP EBX
008aead2 : MOV ECX,dword ptr [EBP + -0x10]
008aead5 : XOR ECX,EBP
008aead7 : CALL 0x00633e6b
008aeadc : MOV ESP,EBP
008aeade : POP EBP
008aeadf : RET 0x8
