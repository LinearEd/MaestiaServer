PROGRAM  : Maestia.exe
FUNCTION : FUN_006ba980
ENTRY    : 006ba980
BODY     : [[006ba980, 006ba9f7] [006baa00, 006baa7f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006ba980(int *param_1)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  int *piVar4;
  int *piVar5;
  
  if ((((char)param_1[0x4b] != '\0') || (iVar1 = FUN_006ba7d0(param_1), iVar1 == 0)) &&
     (*(char *)((int)param_1 + 0x12d) == '\0')) {
    uVar3 = 0;
    iVar1 = *param_1;
    if (param_1[0x3c] != 0) {
      do {
        uVar2 = FUN_00685ea0((int)*(short *)(*(int *)(iVar1 + 0x2a0) + uVar3 * 2),param_1[0x16]);
        *(undefined4 *)(param_1[0x3d] + uVar3 * 4) = uVar2;
        uVar3 = uVar3 + 1;
      } while (uVar3 < (uint)param_1[0x3c]);
    }
    uVar3 = 0;
    if ((short)param_1[0x42] != 0) {
      do {
        *(undefined4 *)(param_1[0x43] + uVar3 * 8) = 0;
        *(undefined4 *)(param_1[0x43] + 4 + uVar3 * 8) = 0;
        *(undefined4 *)(param_1[0x44] + uVar3 * 8) = 0;
        *(undefined4 *)(param_1[0x44] + 4 + uVar3 * 8) = 0;
        uVar3 = uVar3 + 1;
      } while (uVar3 < *(ushort *)(param_1 + 0x42));
    }
    uVar3 = 0;
    if ((short)param_1[0x3e] != 0) {
      do {
        *(undefined4 *)(param_1[0x3f] + uVar3 * 4) = 0;
        uVar3 = uVar3 + 1;
      } while (uVar3 < *(ushort *)(param_1 + 0x3e));
    }
    piVar4 = &DAT_00beb9b0;
    piVar5 = param_1 + 0x2b;
    for (iVar1 = 0x11; iVar1 != 0; iVar1 = iVar1 + -1) {
      *piVar5 = *piVar4;
      piVar4 = piVar4 + 1;
      piVar5 = piVar5 + 1;
    }
    iVar1 = FUN_006ba700(param_1);
    if (iVar1 == 0) {
      *(undefined1 *)((int)param_1 + 0x12d) = 1;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006ba980 : PUSH EBX
006ba981 : PUSH EBP
006ba982 : MOV EBP,dword ptr [ESP + 0xc]
006ba986 : XOR EBX,EBX
006ba988 : XOR EAX,EAX
006ba98a : CMP byte ptr [EBP + 0x12c],BL
006ba990 : JNZ 0x006ba9a3
006ba992 : PUSH EBP
006ba993 : CALL 0x006ba7d0
006ba998 : ADD ESP,0x4
006ba99b : CMP EAX,EBX
006ba99d : JNZ 0x006baa7d
006ba9a3 : CMP byte ptr [EBP + 0x12d],BL
006ba9a9 : JNZ 0x006baa7d
006ba9af : PUSH ESI
006ba9b0 : XOR ESI,ESI
006ba9b2 : PUSH EDI
006ba9b3 : MOV EDI,dword ptr [EBP]
006ba9b6 : CMP dword ptr [EBP + 0xf0],EBX
006ba9bc : JBE 0x006ba9e9
006ba9be : MOV EDI,EDI
006ba9c0 : MOV ECX,dword ptr [EDI + 0x2a0]
006ba9c6 : MOV EAX,dword ptr [EBP + 0x58]
006ba9c9 : MOVSX EDX,word ptr [ECX + ESI*0x2]
006ba9cd : PUSH EAX
006ba9ce : PUSH EDX
006ba9cf : CALL 0x00685ea0
006ba9d4 : MOV ECX,dword ptr [EBP + 0xf4]
006ba9da : MOV dword ptr [ECX + ESI*0x4],EAX
006ba9dd : INC ESI
006ba9de : ADD ESP,0x8
006ba9e1 : CMP ESI,dword ptr [EBP + 0xf0]
006ba9e7 : JC 0x006ba9c0
006ba9e9 : XOR EDX,EDX
006ba9eb : XOR EAX,EAX
006ba9ed : CMP DX,word ptr [EBP + 0x108]
006ba9f4 : JNC 0x006baa32
006ba9f6 : JMP 0x006baa00
006baa00 : MOV ECX,dword ptr [EBP + 0x10c]
006baa06 : MOV dword ptr [ECX + EAX*0x8],EBX
006baa09 : MOV EDX,dword ptr [EBP + 0x10c]
006baa0f : MOV dword ptr [EDX + EAX*0x8 + 0x4],EBX
006baa13 : MOV ECX,dword ptr [EBP + 0x110]
006baa19 : MOV dword ptr [ECX + EAX*0x8],EBX
006baa1c : MOV EDX,dword ptr [EBP + 0x110]
006baa22 : MOV dword ptr [EDX + EAX*0x8 + 0x4],EBX
006baa26 : MOVZX ECX,word ptr [EBP + 0x108]
006baa2d : INC EAX
006baa2e : CMP EAX,ECX
006baa30 : JC 0x006baa00
006baa32 : XOR EDX,EDX
006baa34 : XOR EAX,EAX
006baa36 : CMP DX,word ptr [EBP + 0xf8]
006baa3d : JNC 0x006baa55
006baa3f : NOP
006baa40 : MOV ECX,dword ptr [EBP + 0xfc]
006baa46 : MOV dword ptr [ECX + EAX*0x4],EBX
006baa49 : MOVZX EDX,word ptr [EBP + 0xf8]
006baa50 : INC EAX
006baa51 : CMP EAX,EDX
006baa53 : JC 0x006baa40
006baa55 : LEA EDI,[EBP + 0xac]
006baa5b : MOV ECX,0x11
006baa60 : MOV ESI,0xbeb9b0
006baa65 : PUSH EBP
006baa66 : MOVSD.REP ES:EDI,ESI
006baa68 : CALL 0x006ba700
006baa6d : ADD ESP,0x4
006baa70 : POP EDI
006baa71 : POP ESI
006baa72 : CMP EAX,EBX
006baa74 : JNZ 0x006baa7d
006baa76 : MOV byte ptr [EBP + 0x12d],0x1
006baa7d : POP EBP
006baa7e : POP EBX
006baa7f : RET
