PROGRAM  : Maestia.exe
FUNCTION : InitSystemSingleton
ENTRY    : 00454db0
BODY     : [[00454db0, 00454e39]]

============================================================
DECOMPILED C CODE
============================================================

/* public: static class GSysAlloc * __cdecl GSysAlloc_SingletonSupport<class
   GSysAllocWinAPI>::InitSystemSingleton(void) */

GSysAlloc * __cdecl GSysAlloc_SingletonSupport<class_GSysAllocWinAPI>::InitSystemSingleton(void)

{
  GSysAlloc *pGVar1;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
                    /* 0x54db0  106
                       ?InitSystemSingleton@?$GSysAlloc_SingletonSupport@VGSysAllocWinAPI@@@@SAPAVGSysAlloc@@XZ
                        */
  puStack_c = &LAB_00b71640;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if ((`public:_static_class_GSysAlloc*___cdecl_GSysAlloc_SingletonSupport<class_GSysAllocWinAPI>::InitSystemSingleton(void)'
       ::__l2::_local_static_guard__2__ & 1) == 0) {
    `public:_static_class_GSysAlloc*___cdecl_GSysAlloc_SingletonSupport<class_GSysAllocWinAPI>::InitSystemSingleton(void)'
    ::__l2::_local_static_guard__2__ =
         `public:_static_class_GSysAlloc*___cdecl_GSysAlloc_SingletonSupport<class_GSysAllocWinAPI>::InitSystemSingleton(void)'
         ::__l2::_local_static_guard__2__ | 1;
    DAT_01724b50 = 0;
  }
  local_8 = 1;
  pGVar1 = (GSysAlloc *)
           GSysAllocWinAPI::GSysAllocWinAPI
                     ((GSysAllocWinAPI *)
                      &`public:_static_class_GSysAlloc*___cdecl_GSysAlloc_SingletonSupport<class_GSysAllocWinAPI>::InitSystemSingleton(void)'
                       ::__l2::Container,0x10000,0x8000000);
  *(SysAllocContainer **)(pGVar1 + 4) =
       &`public:_static_class_GSysAlloc*___cdecl_GSysAlloc_SingletonSupport<class_GSysAllocWinAPI>::InitSystemSingleton(void)'
        ::__l2::Container;
  DAT_01724b50 = 1;
  ExceptionList = local_10;
  return pGVar1;
}



============================================================
DISASSEMBLY
============================================================
00454db0 : PUSH EBP
00454db1 : MOV EBP,ESP
00454db3 : PUSH -0x1
00454db5 : PUSH 0xb71640
00454dba : MOV EAX,FS:[0x0]
00454dc0 : PUSH EAX
00454dc1 : PUSH ECX
00454dc2 : PUSH EBX
00454dc3 : MOV EAX,[0x00d66fa0]
00454dc8 : XOR EAX,EBP
00454dca : PUSH EAX
00454dcb : LEA EAX,[EBP + -0xc]
00454dce : MOV FS:[0x0],EAX
00454dd4 : MOV EBX,0x1
00454dd9 : TEST byte ptr [0x01724938],BL
00454ddf : JNZ 0x00454df8
00454de1 : OR dword ptr [0x01724938],EBX
00454de7 : XOR EAX,EAX
00454de9 : MOV dword ptr [EBP + -0x4],EAX
00454dec : MOV [0x01724b50],AL
00454df1 : MOV dword ptr [EBP + -0x4],0xffffffff
00454df8 : MOV dword ptr [EBP + -0x10],0x1724940
00454dff : MOV dword ptr [EBP + -0x4],EBX
00454e02 : PUSH 0x8000000
00454e07 : PUSH 0x10000
00454e0c : MOV ECX,0x1724940
00454e11 : CALL 0x0051a630
00454e16 : MOV dword ptr [EBP + -0x4],0xffffffff
00454e1d : MOV dword ptr [EAX + 0x4],0x1724940
00454e24 : MOV byte ptr [0x01724b50],BL
00454e2a : MOV ECX,dword ptr [EBP + -0xc]
00454e2d : MOV dword ptr FS:[0x0],ECX
00454e34 : POP ECX
00454e35 : POP EBX
00454e36 : MOV ESP,EBP
00454e38 : POP EBP
00454e39 : RET
