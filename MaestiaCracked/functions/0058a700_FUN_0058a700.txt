PROGRAM  : Maestia.exe
FUNCTION : FUN_0058a700
ENTRY    : 0058a700
BODY     : [[0058a700, 0058a78c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058a700(int param_1)

{
  int *piVar1;
  byte *pbVar2;
  int *piVar3;
  int iVar4;
  undefined4 uVar5;
  int in_ECX;
  
  if (*(int *)(in_ECX + 0x1c0) == 0) {
    iVar4 = FUN_00515840(0x5c,0);
    if (iVar4 == 0) {
      uVar5 = 0;
    }
    else {
      uVar5 = FUN_00589ad0(in_ECX + 0x144);
    }
    *(undefined4 *)(in_ECX + 0x1c0) = uVar5;
  }
  piVar3 = *(int **)(in_ECX + 0x1c0);
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 1;
  piVar1 = (int *)(*piVar3 + 8);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    FUN_00525340();
  }
  *piVar3 = param_1;
  pbVar2 = (byte *)(*(int *)(in_ECX + 0x1c0) + 0x58);
  *pbVar2 = *pbVar2 | 1;
  (*(undefined4 **)(in_ECX + 0x1c0))[0x12] = *(undefined4 *)**(undefined4 **)(in_ECX + 0x1c0);
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + -1;
  if (*(int *)(param_1 + 8) == 0) {
    FUN_00525340();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0058a700 : PUSH EBP
0058a701 : PUSH ESI
0058a702 : MOV ESI,ECX
0058a704 : CMP dword ptr [ESI + 0x1c0],0x0
0058a70b : PUSH EDI
0058a70c : JNZ 0x0058a73c
0058a70e : MOV EAX,dword ptr [ESI + 0xa0]
0058a714 : MOV ECX,dword ptr [EAX + 0x14]
0058a717 : PUSH 0x0
0058a719 : PUSH 0x5c
0058a71b : CALL 0x00515840
0058a720 : TEST EAX,EAX
0058a722 : JZ 0x0058a734
0058a724 : LEA ECX,[ESI + 0x144]
0058a72a : PUSH ECX
0058a72b : MOV ECX,EAX
0058a72d : CALL 0x00589ad0
0058a732 : JMP 0x0058a736
0058a734 : XOR EAX,EAX
0058a736 : MOV dword ptr [ESI + 0x1c0],EAX
0058a73c : MOV EAX,dword ptr [ESP + 0x10]
0058a740 : MOV EDI,dword ptr [ESI + 0x1c0]
0058a746 : INC dword ptr [EAX + 0x8]
0058a749 : MOV ECX,dword ptr [EDI]
0058a74b : ADD dword ptr [ECX + 0x8],-0x1
0058a74f : MOV EBP,EAX
0058a751 : JNZ 0x0058a758
0058a753 : CALL 0x00525340
0058a758 : MOV dword ptr [EDI],EBP
0058a75a : MOV EAX,dword ptr [ESI + 0x1c0]
0058a760 : OR byte ptr [EAX + 0x58],0x1
0058a764 : MOV ESI,dword ptr [ESI + 0x1c0]
0058a76a : MOV EDX,dword ptr [ESI]
0058a76c : MOV EAX,dword ptr [EDX]
0058a76e : MOV dword ptr [ESI + 0x48],EAX
0058a771 : MOV EAX,dword ptr [ESP + 0x10]
0058a775 : DEC dword ptr [EAX + 0x8]
0058a778 : MOV ECX,EAX
0058a77a : ADD EAX,0x8
0058a77d : CMP dword ptr [EAX],0x0
0058a780 : POP EDI
0058a781 : POP ESI
0058a782 : POP EBP
0058a783 : JNZ 0x0058a78a
0058a785 : CALL 0x00525340
0058a78a : RET 0x4
