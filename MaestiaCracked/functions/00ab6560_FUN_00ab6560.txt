PROGRAM  : Maestia.exe
FUNCTION : FUN_00ab6560
ENTRY    : 00ab6560
BODY     : [[00ab6560, 00ab663d]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00ab6560(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  uint uVar3;
  int in_ECX;
  int unaff_EDI;
  LPCRITICAL_SECTION local_28;
  char *local_24;
  undefined4 local_20;
  int local_1c;
  undefined4 local_18;
  undefined4 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0f54f;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_28 = (LPCRITICAL_SECTION)(in_ECX + 8);
  local_1c = 0;
  local_24 = ".\\Objects\\AvaMyParty.cpp";
  local_20 = 0x210;
  local_18 = 1;
  FUN_006ef1a0(&local_28);
  local_8 = 0;
  puVar1 = *(undefined4 **)(in_ECX + 0x2c);
  local_14 = (undefined4 *)*puVar1;
  while( true ) {
    if (local_14 == puVar1) {
      local_8 = 0xffffffff;
      if (local_1c != 0) {
        LeaveCriticalSection(local_28);
      }
      ExceptionList = local_10;
      return 0;
    }
    iVar2 = local_14[4];
    if ((*(int *)(iVar2 + 0x14) == unaff_EDI) && (*(int *)(iVar2 + 0x18) == param_1)) break;
    FUN_00416210(uVar3);
  }
  local_8 = 0xffffffff;
  if (local_1c != 0) {
    LeaveCriticalSection(local_28);
  }
  ExceptionList = local_10;
  return iVar2;
}



============================================================
DISASSEMBLY
============================================================
00ab6560 : PUSH EBP
00ab6561 : MOV EBP,ESP
00ab6563 : PUSH -0x1
00ab6565 : PUSH 0xb0f54f
00ab656a : MOV EAX,FS:[0x0]
00ab6570 : PUSH EAX
00ab6571 : SUB ESP,0x18
00ab6574 : PUSH EBX
00ab6575 : PUSH ESI
00ab6576 : MOV EAX,[0x00d66fa0]
00ab657b : XOR EAX,EBP
00ab657d : PUSH EAX
00ab657e : LEA EAX,[EBP + -0xc]
00ab6581 : MOV FS:[0x0],EAX
00ab6587 : MOV ESI,ECX
00ab6589 : LEA ECX,[EBP + -0x24]
00ab658c : LEA EAX,[ESI + 0x8]
00ab658f : XOR EBX,EBX
00ab6591 : PUSH ECX
00ab6592 : MOV dword ptr [EBP + -0x18],EBX
00ab6595 : MOV dword ptr [EBP + -0x24],EAX
00ab6598 : MOV dword ptr [EBP + -0x20],0xc41bc8
00ab659f : MOV dword ptr [EBP + -0x1c],0x210
00ab65a6 : MOV dword ptr [EBP + -0x14],0x1
00ab65ad : CALL 0x006ef1a0
00ab65b2 : MOV dword ptr [EBP + -0x4],EBX
00ab65b5 : MOV ESI,dword ptr [ESI + 0x2c]
00ab65b8 : MOV EAX,dword ptr [ESI]
00ab65ba : MOV dword ptr [EBP + -0x10],EAX
00ab65bd : CMP EAX,ESI
00ab65bf : JZ 0x00ab65e0
00ab65c1 : MOV ECX,dword ptr [EAX + 0x10]
00ab65c4 : CMP dword ptr [ECX + 0x14],EDI
00ab65c7 : JNZ 0x00ab65d1
00ab65c9 : MOV EDX,dword ptr [EBP + 0x8]
00ab65cc : CMP dword ptr [ECX + 0x18],EDX
00ab65cf : JZ 0x00ab660e
00ab65d1 : LEA EDX,[EBP + -0x10]
00ab65d4 : CALL 0x00416210
00ab65d9 : MOV EAX,dword ptr [EBP + -0x10]
00ab65dc : CMP EAX,ESI
00ab65de : JNZ 0x00ab65c1
00ab65e0 : MOV dword ptr [EBP + -0x4],0xffffffff
00ab65e7 : CMP dword ptr [EBP + -0x18],EBX
00ab65ea : JZ 0x00ab65f9
00ab65ec : MOV ECX,dword ptr [EBP + -0x24]
00ab65ef : PUSH ECX
00ab65f0 : CALL dword ptr [0x00b8511c]
00ab65f6 : MOV dword ptr [EBP + -0x18],EBX
00ab65f9 : XOR EAX,EAX
00ab65fb : MOV ECX,dword ptr [EBP + -0xc]
00ab65fe : MOV dword ptr FS:[0x0],ECX
00ab6605 : POP ECX
00ab6606 : POP ESI
00ab6607 : POP EBX
00ab6608 : MOV ESP,EBP
00ab660a : POP EBP
00ab660b : RET 0x4
00ab660e : MOV ESI,ECX
00ab6610 : MOV dword ptr [EBP + -0x4],0xffffffff
00ab6617 : CMP dword ptr [EBP + -0x18],EBX
00ab661a : JZ 0x00ab6629
00ab661c : MOV EAX,dword ptr [EBP + -0x24]
00ab661f : PUSH EAX
00ab6620 : CALL dword ptr [0x00b8511c]
00ab6626 : MOV dword ptr [EBP + -0x18],EBX
00ab6629 : MOV EAX,ESI
00ab662b : MOV ECX,dword ptr [EBP + -0xc]
00ab662e : MOV dword ptr FS:[0x0],ECX
00ab6635 : POP ECX
00ab6636 : POP ESI
00ab6637 : POP EBX
00ab6638 : MOV ESP,EBP
00ab663a : POP EBP
00ab663b : RET 0x4
