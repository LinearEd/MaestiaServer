PROGRAM  : Maestia.exe
FUNCTION : FUN_00a6cde0
ENTRY    : 00a6cde0
BODY     : [[00a6cde0, 00a6d013]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00a6ce94) */

void FUN_00a6cde0(void)

{
  char cVar1;
  int iVar2;
  int *piVar3;
  int *piVar4;
  uint uVar5;
  int *piVar6;
  int unaff_EDI;
  LPCRITICAL_SECTION local_28;
  char *local_24;
  undefined4 local_20;
  int local_1c;
  undefined4 local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b38307;
  local_10 = ExceptionList;
  uVar5 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_28 = (LPCRITICAL_SECTION)(unaff_EDI + 0x70);
  local_1c = 0;
  local_24 = ".\\Objects\\AvaEffectMgr.cpp";
  local_20 = 0x2d;
  local_18 = 1;
  FUN_006ef1a0(&local_28);
  local_8 = 0;
  piVar6 = *(int **)(unaff_EDI + 0x38);
  if (piVar6 != *(int **)(unaff_EDI + 0x3c)) {
    do {
      if ((char)piVar6[2] == '\0') {
LAB_00a6ce6d:
        if ((int *)*piVar6 != (int *)0x0) {
          (**(code **)(*(int *)*piVar6 + 0x18))(uVar5);
        }
      }
      else {
        iVar2 = piVar6[1];
        if (iVar2 == 0) {
          if ((char)piVar6[2] == '\0') goto LAB_00a6ce6d;
        }
        else {
          if (*(int **)(iVar2 + 0x2c) != (int *)0x0) {
            (**(code **)(**(int **)(iVar2 + 0x2c) + 0x28))(iVar2 + 0xc);
          }
          *(undefined4 *)(iVar2 + 0x2c) = 0;
        }
      }
      piVar6 = piVar6 + 3;
    } while (piVar6 != *(int **)(unaff_EDI + 0x3c));
  }
  if (*(int *)(unaff_EDI + 0x38) != *(int *)(unaff_EDI + 0x3c)) {
    *(int *)(unaff_EDI + 0x3c) = *(int *)(unaff_EDI + 0x38);
  }
  FUN_0042d7c0(*(undefined4 *)(*(int *)(unaff_EDI + 0x14) + 4));
  *(int *)(*(int *)(unaff_EDI + 0x14) + 4) = *(int *)(unaff_EDI + 0x14);
  *(undefined4 *)(unaff_EDI + 0x18) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x14) = *(undefined4 *)(unaff_EDI + 0x14);
  *(int *)(*(int *)(unaff_EDI + 0x14) + 8) = *(int *)(unaff_EDI + 0x14);
  FUN_00401c00(*(undefined4 *)(*(int *)(unaff_EDI + 0x20) + 4));
  *(int *)(*(int *)(unaff_EDI + 0x20) + 4) = *(int *)(unaff_EDI + 0x20);
  *(undefined4 *)(unaff_EDI + 0x24) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x20) = *(undefined4 *)(unaff_EDI + 0x20);
  *(int *)(*(int *)(unaff_EDI + 0x20) + 8) = *(int *)(unaff_EDI + 0x20);
  FUN_00401c00(*(undefined4 *)(*(int *)(unaff_EDI + 0x2c) + 4));
  *(int *)(*(int *)(unaff_EDI + 0x2c) + 4) = *(int *)(unaff_EDI + 0x2c);
  *(undefined4 *)(unaff_EDI + 0x30) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 0x2c) = *(undefined4 *)(unaff_EDI + 0x2c);
  *(int *)(*(int *)(unaff_EDI + 0x2c) + 8) = *(int *)(unaff_EDI + 0x2c);
  FUN_00440900(unaff_EDI + 0x44);
  FUN_00440900(unaff_EDI + 0x50);
  local_14 = *(int **)(unaff_EDI + 8);
  piVar6 = (int *)*local_14;
  if (piVar6 != local_14) {
    do {
      if ((char)piVar6[0xc] == '\0') {
LAB_00a6cf60:
        piVar3 = (int *)piVar6[10];
        if (piVar3 != (int *)0x0) {
          (**(code **)(*piVar3 + 0x1c))();
          (**(code **)*piVar3)(1);
        }
      }
      else if (piVar6[0xb] == 0) {
        if ((char)piVar6[0xc] == '\0') goto LAB_00a6cf60;
      }
      else {
        FUN_007c4290(piVar6[0xb]);
      }
      if (*(char *)((int)piVar6 + 0x35) == '\0') {
        piVar3 = (int *)piVar6[2];
        if (*(char *)((int)piVar3 + 0x35) == '\0') {
          cVar1 = *(char *)(*piVar3 + 0x35);
          piVar6 = piVar3;
          piVar3 = (int *)*piVar3;
          while (cVar1 == '\0') {
            cVar1 = *(char *)(*piVar3 + 0x35);
            piVar6 = piVar3;
            piVar3 = (int *)*piVar3;
          }
        }
        else {
          cVar1 = *(char *)(piVar6[1] + 0x35);
          piVar4 = (int *)piVar6[1];
          piVar3 = piVar6;
          while ((piVar6 = piVar4, cVar1 == '\0' && (piVar3 == (int *)piVar6[2]))) {
            cVar1 = *(char *)(piVar6[1] + 0x35);
            piVar4 = (int *)piVar6[1];
            piVar3 = piVar6;
          }
        }
      }
    } while (piVar6 != local_14);
  }
  FUN_00440980(*(undefined4 *)(*(int *)(unaff_EDI + 8) + 4));
  *(int *)(*(int *)(unaff_EDI + 8) + 4) = *(int *)(unaff_EDI + 8);
  *(undefined4 *)(unaff_EDI + 0xc) = 0;
  *(undefined4 *)*(undefined4 *)(unaff_EDI + 8) = *(undefined4 *)(unaff_EDI + 8);
  *(int *)(*(int *)(unaff_EDI + 8) + 8) = *(int *)(unaff_EDI + 8);
  local_8 = 0xffffffff;
  if (local_1c != 0) {
    LeaveCriticalSection(local_28);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a6cde0 : PUSH EBP
00a6cde1 : MOV EBP,ESP
00a6cde3 : PUSH -0x1
00a6cde5 : PUSH 0xb38307
00a6cdea : MOV EAX,FS:[0x0]
00a6cdf0 : PUSH EAX
00a6cdf1 : SUB ESP,0x18
00a6cdf4 : PUSH EBX
00a6cdf5 : PUSH ESI
00a6cdf6 : MOV EAX,[0x00d66fa0]
00a6cdfb : XOR EAX,EBP
00a6cdfd : PUSH EAX
00a6cdfe : LEA EAX,[EBP + -0xc]
00a6ce01 : MOV FS:[0x0],EAX
00a6ce07 : LEA ECX,[EBP + -0x24]
00a6ce0a : LEA EAX,[EDI + 0x70]
00a6ce0d : XOR EBX,EBX
00a6ce0f : PUSH ECX
00a6ce10 : MOV dword ptr [EBP + -0x18],EBX
00a6ce13 : MOV dword ptr [EBP + -0x24],EAX
00a6ce16 : MOV dword ptr [EBP + -0x20],0xc43b14
00a6ce1d : MOV dword ptr [EBP + -0x1c],0x2d
00a6ce24 : MOV dword ptr [EBP + -0x14],0x1
00a6ce2b : CALL 0x006ef1a0
00a6ce30 : MOV dword ptr [EBP + -0x4],EBX
00a6ce33 : MOV ESI,dword ptr [EDI + 0x38]
00a6ce36 : MOV EAX,dword ptr [EDI + 0x3c]
00a6ce39 : CMP ESI,EAX
00a6ce3b : JZ 0x00a6ce84
00a6ce3d : LEA ECX,[ECX]
00a6ce40 : MOV AL,byte ptr [ESI + 0x8]
00a6ce43 : TEST AL,AL
00a6ce45 : JZ 0x00a6ce6d
00a6ce47 : MOV EBX,dword ptr [ESI + 0x4]
00a6ce4a : TEST EBX,EBX
00a6ce4c : JZ 0x00a6ce69
00a6ce4e : MOV ECX,dword ptr [EBX + 0x2c]
00a6ce51 : TEST ECX,ECX
00a6ce53 : JZ 0x00a6ce60
00a6ce55 : MOV EDX,dword ptr [ECX]
00a6ce57 : MOV EDX,dword ptr [EDX + 0x28]
00a6ce5a : LEA EAX,[EBX + 0xc]
00a6ce5d : PUSH EAX
00a6ce5e : CALL EDX
00a6ce60 : MOV dword ptr [EBX + 0x2c],0x0
00a6ce67 : JMP 0x00a6ce7a
00a6ce69 : TEST AL,AL
00a6ce6b : JNZ 0x00a6ce7a
00a6ce6d : MOV ECX,dword ptr [ESI]
00a6ce6f : TEST ECX,ECX
00a6ce71 : JZ 0x00a6ce7a
00a6ce73 : MOV EAX,dword ptr [ECX]
00a6ce75 : MOV EDX,dword ptr [EAX + 0x18]
00a6ce78 : CALL EDX
00a6ce7a : ADD ESI,0xc
00a6ce7d : CMP ESI,dword ptr [EDI + 0x3c]
00a6ce80 : JNZ 0x00a6ce40
00a6ce82 : XOR EBX,EBX
00a6ce84 : MOV EDX,dword ptr [EDI + 0x3c]
00a6ce87 : MOV ECX,dword ptr [EDI + 0x38]
00a6ce8a : CMP ECX,EDX
00a6ce8c : JZ 0x00a6ceaf
00a6ce8e : MOV EAX,EDX
00a6ce90 : CMP EDX,EDX
00a6ce92 : JZ 0x00a6ceac
00a6ce94 : MOVQ XMM0,qword ptr [EAX]
00a6ce98 : MOVQ qword ptr [ECX],XMM0
00a6ce9c : MOV ESI,dword ptr [EAX + 0x8]
00a6ce9f : MOV dword ptr [ECX + 0x8],ESI
00a6cea2 : ADD EAX,0xc
00a6cea5 : ADD ECX,0xc
00a6cea8 : CMP EAX,EDX
00a6ceaa : JNZ 0x00a6ce94
00a6ceac : MOV dword ptr [EDI + 0x3c],ECX
00a6ceaf : MOV EAX,dword ptr [EDI + 0x14]
00a6ceb2 : MOV ECX,dword ptr [EAX + 0x4]
00a6ceb5 : LEA ESI,[EDI + 0x10]
00a6ceb8 : PUSH ECX
00a6ceb9 : MOV ECX,ESI
00a6cebb : CALL 0x0042d7c0
00a6cec0 : MOV EAX,dword ptr [ESI + 0x4]
00a6cec3 : MOV dword ptr [EAX + 0x4],EAX
00a6cec6 : MOV EAX,dword ptr [ESI + 0x4]
00a6cec9 : MOV dword ptr [ESI + 0x8],EBX
00a6cecc : MOV dword ptr [EAX],EAX
00a6cece : MOV ESI,dword ptr [ESI + 0x4]
00a6ced1 : MOV dword ptr [ESI + 0x8],ESI
00a6ced4 : MOV EDX,dword ptr [EDI + 0x20]
00a6ced7 : MOV EAX,dword ptr [EDX + 0x4]
00a6ceda : LEA ESI,[EDI + 0x1c]
00a6cedd : PUSH EAX
00a6cede : MOV ECX,ESI
00a6cee0 : CALL 0x00401c00
00a6cee5 : MOV EAX,dword ptr [ESI + 0x4]
00a6cee8 : MOV dword ptr [EAX + 0x4],EAX
00a6ceeb : MOV EAX,dword ptr [ESI + 0x4]
00a6ceee : MOV dword ptr [ESI + 0x8],EBX
00a6cef1 : MOV dword ptr [EAX],EAX
00a6cef3 : MOV ESI,dword ptr [ESI + 0x4]
00a6cef6 : MOV dword ptr [ESI + 0x8],ESI
00a6cef9 : MOV ECX,dword ptr [EDI + 0x2c]
00a6cefc : MOV EDX,dword ptr [ECX + 0x4]
00a6ceff : LEA ESI,[EDI + 0x28]
00a6cf02 : PUSH EDX
00a6cf03 : MOV ECX,ESI
00a6cf05 : CALL 0x00401c00
00a6cf0a : MOV EAX,dword ptr [ESI + 0x4]
00a6cf0d : MOV dword ptr [EAX + 0x4],EAX
00a6cf10 : MOV EAX,dword ptr [ESI + 0x4]
00a6cf13 : MOV dword ptr [ESI + 0x8],EBX
00a6cf16 : MOV dword ptr [EAX],EAX
00a6cf18 : MOV ESI,dword ptr [ESI + 0x4]
00a6cf1b : LEA EAX,[EDI + 0x44]
00a6cf1e : PUSH EAX
00a6cf1f : MOV dword ptr [ESI + 0x8],ESI
00a6cf22 : CALL 0x00440900
00a6cf27 : LEA ECX,[EDI + 0x50]
00a6cf2a : PUSH ECX
00a6cf2b : CALL 0x00440900
00a6cf30 : MOV EAX,dword ptr [EDI + 0x8]
00a6cf33 : MOV ESI,dword ptr [EAX]
00a6cf35 : MOV dword ptr [EBP + -0x10],EAX
00a6cf38 : CMP ESI,EAX
00a6cf3a : JZ 0x00a6cfc5
00a6cf40 : MOV CL,byte ptr [ESI + 0x30]
00a6cf43 : TEST CL,CL
00a6cf45 : JZ 0x00a6cf60
00a6cf47 : MOV EAX,dword ptr [ESI + 0x2c]
00a6cf4a : CMP EAX,EBX
00a6cf4c : JZ 0x00a6cf5c
00a6cf4e : MOV ECX,dword ptr [0x017251f8]
00a6cf54 : PUSH EAX
00a6cf55 : CALL 0x007c4290
00a6cf5a : JMP 0x00a6cf7a
00a6cf5c : TEST CL,CL
00a6cf5e : JNZ 0x00a6cf7a
00a6cf60 : MOV EBX,dword ptr [ESI + 0x28]
00a6cf63 : TEST EBX,EBX
00a6cf65 : JZ 0x00a6cf7a
00a6cf67 : MOV EDX,dword ptr [EBX]
00a6cf69 : MOV EAX,dword ptr [EDX + 0x1c]
00a6cf6c : MOV ECX,EBX
00a6cf6e : CALL EAX
00a6cf70 : MOV EDX,dword ptr [EBX]
00a6cf72 : MOV EAX,dword ptr [EDX]
00a6cf74 : PUSH 0x1
00a6cf76 : MOV ECX,EBX
00a6cf78 : CALL EAX
00a6cf7a : CMP byte ptr [ESI + 0x35],0x0
00a6cf7e : JNZ 0x00a6cfba
00a6cf80 : MOV EAX,dword ptr [ESI + 0x8]
00a6cf83 : CMP byte ptr [EAX + 0x35],0x0
00a6cf87 : JNZ 0x00a6cf9f
00a6cf89 : MOV ESI,EAX
00a6cf8b : MOV EAX,dword ptr [ESI]
00a6cf8d : CMP byte ptr [EAX + 0x35],0x0
00a6cf91 : JNZ 0x00a6cfba
00a6cf93 : MOV ESI,EAX
00a6cf95 : MOV EAX,dword ptr [ESI]
00a6cf97 : CMP byte ptr [EAX + 0x35],0x0
00a6cf9b : JZ 0x00a6cf93
00a6cf9d : JMP 0x00a6cfba
00a6cf9f : MOV EAX,dword ptr [ESI + 0x4]
00a6cfa2 : CMP byte ptr [EAX + 0x35],0x0
00a6cfa6 : JNZ 0x00a6cfb8
00a6cfa8 : CMP ESI,dword ptr [EAX + 0x8]
00a6cfab : JNZ 0x00a6cfb8
00a6cfad : MOV ESI,EAX
00a6cfaf : MOV EAX,dword ptr [EAX + 0x4]
00a6cfb2 : CMP byte ptr [EAX + 0x35],0x0
00a6cfb6 : JZ 0x00a6cfa8
00a6cfb8 : MOV ESI,EAX
00a6cfba : XOR EBX,EBX
00a6cfbc : CMP ESI,dword ptr [EBP + -0x10]
00a6cfbf : JNZ 0x00a6cf40
00a6cfc5 : MOV ECX,dword ptr [EDI + 0x8]
00a6cfc8 : MOV EDX,dword ptr [ECX + 0x4]
00a6cfcb : LEA ESI,[EDI + 0x4]
00a6cfce : PUSH EDX
00a6cfcf : MOV ECX,ESI
00a6cfd1 : CALL 0x00440980
00a6cfd6 : MOV EAX,dword ptr [ESI + 0x4]
00a6cfd9 : MOV dword ptr [EAX + 0x4],EAX
00a6cfdc : MOV EAX,dword ptr [ESI + 0x4]
00a6cfdf : MOV dword ptr [ESI + 0x8],EBX
00a6cfe2 : MOV dword ptr [EAX],EAX
00a6cfe4 : MOV ESI,dword ptr [ESI + 0x4]
00a6cfe7 : MOV dword ptr [ESI + 0x8],ESI
00a6cfea : MOV dword ptr [EBP + -0x4],0xffffffff
00a6cff1 : CMP dword ptr [EBP + -0x18],EBX
00a6cff4 : JZ 0x00a6d003
00a6cff6 : MOV EAX,dword ptr [EBP + -0x24]
00a6cff9 : PUSH EAX
00a6cffa : CALL dword ptr [0x00b8511c]
00a6d000 : MOV dword ptr [EBP + -0x18],EBX
00a6d003 : MOV ECX,dword ptr [EBP + -0xc]
00a6d006 : MOV dword ptr FS:[0x0],ECX
00a6d00d : POP ECX
00a6d00e : POP ESI
00a6d00f : POP EBX
00a6d010 : MOV ESP,EBP
00a6d012 : POP EBP
00a6d013 : RET
