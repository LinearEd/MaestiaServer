PROGRAM  : Maestia.exe
FUNCTION : FUN_005a0af0
ENTRY    : 005a0af0
BODY     : [[005a0af0, 005a0b54]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_005a0af0(undefined4 *param_1,int param_2)

{
  undefined4 *unaff_retaddr;
  
  if ((_DAT_00d73314 & 1) == 0) {
    _DAT_00d73314 = _DAT_00d73314 | 1;
    DAT_00d73310 = &PTR_LAB_00b8f074;
    _atexit((_func_4879 *)&LAB_00b84c70);
  }
  if (param_2 != 0) {
    (*(code *)DAT_00d73310[1])(param_2);
    unaff_retaddr[1] = param_2;
    *unaff_retaddr = &DAT_00d73310;
    return;
  }
  *param_1 = 0;
  param_1[1] = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
005a0af0 : MOV EAX,0x1
005a0af5 : TEST byte ptr [0x00d73314],AL
005a0afb : JNZ 0x005a0b1a
005a0afd : OR dword ptr [0x00d73314],EAX
005a0b03 : PUSH 0xb84c70
005a0b08 : MOV dword ptr [0x00d73310],0xb8f074
005a0b12 : CALL 0x006356bc
005a0b17 : ADD ESP,0x4
005a0b1a : PUSH ESI
005a0b1b : MOV ESI,dword ptr [ESP + 0xc]
005a0b1f : TEST ESI,ESI
005a0b21 : JZ 0x005a0b42
005a0b23 : MOV EAX,[0x00d73310]
005a0b28 : MOV EDX,dword ptr [EAX + 0x4]
005a0b2b : PUSH ESI
005a0b2c : MOV ECX,0xd73310
005a0b31 : CALL EDX
005a0b33 : MOV EAX,dword ptr [ESP + 0x8]
005a0b37 : MOV dword ptr [EAX + 0x4],ESI
005a0b3a : MOV dword ptr [EAX],0xd73310
005a0b40 : POP ESI
005a0b41 : RET
005a0b42 : MOV EAX,dword ptr [ESP + 0x8]
005a0b46 : MOV dword ptr [EAX],0x0
005a0b4c : MOV dword ptr [EAX + 0x4],0x0
005a0b53 : POP ESI
005a0b54 : RET
