PROGRAM  : Maestia.exe
FUNCTION : FUN_009077a0
ENTRY    : 009077a0
BODY     : [[009077a0, 0090789c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009077a0(int param_1,undefined4 param_2)

{
  int iVar1;
  int *in_ECX;
  undefined1 local_2c [24];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b356d4;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar1 = (**(code **)(*in_ECX + 0x98))(param_2,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  if (iVar1 != 0) {
    if (*(int *)(iVar1 + 8) == 0) {
      FUN_00406460(&DAT_00c647a0);
      local_8 = 1;
      FUN_00405eb0(local_2c,0,0xffffffff);
      FUN_00908bc0(iVar1);
      local_8 = 0xffffffff;
      if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    else {
      if (*(uint *)(param_1 + 0x18) < 8) {
        param_1 = param_1 + 4;
      }
      else {
        param_1 = *(int *)(param_1 + 4);
      }
      FUN_00406460(param_1);
      local_8 = 0;
      FUN_00405eb0(local_2c,0,0xffffffff);
      FUN_00908bc0(iVar1);
      local_8 = 0xffffffff;
      if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
009077a0 : PUSH EBP
009077a1 : MOV EBP,ESP
009077a3 : PUSH -0x1
009077a5 : PUSH 0xb356d4
009077aa : MOV EAX,FS:[0x0]
009077b0 : PUSH EAX
009077b1 : SUB ESP,0x1c
009077b4 : PUSH ESI
009077b5 : MOV EAX,[0x00d66fa0]
009077ba : XOR EAX,EBP
009077bc : PUSH EAX
009077bd : LEA EAX,[EBP + -0xc]
009077c0 : MOV FS:[0x0],EAX
009077c6 : MOV EAX,dword ptr [ECX]
009077c8 : MOV EDX,dword ptr [EBP + 0xc]
009077cb : MOV EAX,dword ptr [EAX + 0x98]
009077d1 : PUSH EDX
009077d2 : CALL EAX
009077d4 : MOV ESI,EAX
009077d6 : TEST ESI,ESI
009077d8 : JZ 0x0090788b
009077de : CMP dword ptr [ESI + 0x8],0x0
009077e2 : JZ 0x00907838
009077e4 : MOV EAX,dword ptr [EBP + 0x8]
009077e7 : CMP dword ptr [EAX + 0x18],0x8
009077eb : JC 0x009077f2
009077ed : MOV EAX,dword ptr [EAX + 0x4]
009077f0 : JMP 0x009077f5
009077f2 : ADD EAX,0x4
009077f5 : PUSH EAX
009077f6 : LEA ECX,[EBP + -0x28]
009077f9 : CALL 0x00406460
009077fe : MOV dword ptr [EBP + -0x4],0x0
00907805 : PUSH -0x1
00907807 : PUSH 0x0
00907809 : LEA ECX,[EBP + -0x28]
0090780c : PUSH ECX
0090780d : LEA ECX,[ESI + 0x3c]
00907810 : CALL 0x00405eb0
00907815 : PUSH ESI
00907816 : CALL 0x00908bc0
0090781b : MOV dword ptr [EBP + -0x4],0xffffffff
00907822 : CMP dword ptr [EBP + -0x10],0x8
00907826 : JC 0x00907830
00907828 : MOV ECX,dword ptr [EBP + -0x24]
0090782b : CALL 0x006f04e0
00907830 : XOR EDX,EDX
00907832 : MOV word ptr [EBP + -0x24],DX
00907836 : JMP 0x0090787d
00907838 : PUSH 0xc647a0
0090783d : LEA ECX,[EBP + -0x28]
00907840 : CALL 0x00406460
00907845 : MOV dword ptr [EBP + -0x4],0x1
0090784c : PUSH -0x1
0090784e : PUSH 0x0
00907850 : LEA EAX,[EBP + -0x28]
00907853 : PUSH EAX
00907854 : LEA ECX,[ESI + 0x3c]
00907857 : CALL 0x00405eb0
0090785c : PUSH ESI
0090785d : CALL 0x00908bc0
00907862 : MOV dword ptr [EBP + -0x4],0xffffffff
00907869 : CMP dword ptr [EBP + -0x10],0x8
0090786d : JC 0x00907877
0090786f : MOV ECX,dword ptr [EBP + -0x24]
00907872 : CALL 0x006f04e0
00907877 : XOR ECX,ECX
00907879 : MOV word ptr [EBP + -0x24],CX
0090787d : MOV dword ptr [EBP + -0x14],0x0
00907884 : MOV dword ptr [EBP + -0x10],0x7
0090788b : MOV ECX,dword ptr [EBP + -0xc]
0090788e : MOV dword ptr FS:[0x0],ECX
00907895 : POP ECX
00907896 : POP ESI
00907897 : MOV ESP,EBP
00907899 : POP EBP
0090789a : RET 0xc
