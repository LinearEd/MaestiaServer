PROGRAM  : Maestia.exe
FUNCTION : FUN_007bcc30
ENTRY    : 007bcc30
BODY     : [[007bcc30, 007bccb3] [007bccbb, 007bcd28] [007bcd30, 007bce90]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007bcc30(int param_1)

{
  char cVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  uint uVar5;
  int *piVar6;
  int iVar7;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1470c;
  local_10 = ExceptionList;
  uVar5 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(param_1 + 4);
  local_18 = 0;
  local_20 = ".\\mss\\AvaMssMgr.cpp";
  local_1c = 0x83;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  local_8 = 0;
  if (*(int *)(param_1 + 0x8c) != 0) {
    piVar2 = *(int **)(param_1 + 0x88);
    piVar6 = (int *)*piVar2;
    while (piVar6 != piVar2) {
      iVar3 = piVar6[10];
      if (iVar3 != 0) {
        FUN_007542c0(iVar3);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      FUN_00430160(uVar5);
      piVar2 = *(int **)(param_1 + 0x88);
    }
    FUN_0044c480(*(undefined4 *)(*(int *)(param_1 + 0x88) + 4));
    *(int *)(*(int *)(param_1 + 0x88) + 4) = *(int *)(param_1 + 0x88);
    *(undefined4 *)(param_1 + 0x8c) = 0;
    *(undefined4 *)*(undefined4 *)(param_1 + 0x88) = *(undefined4 *)(param_1 + 0x88);
    *(int *)(*(int *)(param_1 + 0x88) + 8) = *(int *)(param_1 + 0x88);
  }
  if (*(int *)(param_1 + 0x98) != 0) {
    piVar6 = (int *)**(int **)(param_1 + 0x94);
    if (piVar6 != *(int **)(param_1 + 0x94)) {
      do {
        if (piVar6[10] != 0) {
          FUN_007542c0(piVar6[10]);
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        if (*(char *)((int)piVar6 + 0x2d) == '\0') {
          piVar2 = (int *)piVar6[2];
          if (*(char *)((int)piVar2 + 0x2d) == '\0') {
            cVar1 = *(char *)(*piVar2 + 0x2d);
            piVar6 = piVar2;
            piVar2 = (int *)*piVar2;
            while (cVar1 == '\0') {
              cVar1 = *(char *)(*piVar2 + 0x2d);
              piVar6 = piVar2;
              piVar2 = (int *)*piVar2;
            }
          }
          else {
            cVar1 = *(char *)(piVar6[1] + 0x2d);
            piVar4 = (int *)piVar6[1];
            piVar2 = piVar6;
            while ((piVar6 = piVar4, cVar1 == '\0' && (piVar2 == (int *)piVar6[2]))) {
              cVar1 = *(char *)(piVar6[1] + 0x2d);
              piVar4 = (int *)piVar6[1];
              piVar2 = piVar6;
            }
          }
        }
      } while (piVar6 != *(int **)(param_1 + 0x94));
    }
    FUN_0044c480(*(undefined4 *)(*(int *)(param_1 + 0x94) + 4));
    *(int *)(*(int *)(param_1 + 0x94) + 4) = *(int *)(param_1 + 0x94);
    *(undefined4 *)(param_1 + 0x98) = 0;
    *(undefined4 *)*(undefined4 *)(param_1 + 0x94) = *(undefined4 *)(param_1 + 0x94);
    *(int *)(*(int *)(param_1 + 0x94) + 8) = *(int *)(param_1 + 0x94);
  }
  if ((*(int *)(param_1 + 0x54) - *(int *)(param_1 + 0x50) & 0xfffffffcU) != 0) {
    iVar3 = *(int *)(param_1 + 0x54);
    for (iVar7 = *(int *)(param_1 + 0x50); iVar7 != iVar3; iVar7 = iVar7 + 4) {
      FUN_00754240();
    }
  }
  if ((*(int *)(param_1 + 0x44) - *(int *)(param_1 + 0x40) & 0xfffffffcU) != 0) {
    iVar3 = *(int *)(param_1 + 0x44);
    for (iVar7 = *(int *)(param_1 + 0x40); iVar7 != iVar3; iVar7 = iVar7 + 4) {
      FUN_00754240();
    }
  }
  if ((*(int *)(param_1 + 100) - *(int *)(param_1 + 0x60) & 0xfffffffcU) != 0) {
    iVar3 = *(int *)(param_1 + 100);
    for (iVar7 = *(int *)(param_1 + 0x60); iVar7 != iVar3; iVar7 = iVar7 + 4) {
      FUN_00754240();
    }
  }
  if ((*(int *)(param_1 + 0x74) - *(int *)(param_1 + 0x70) & 0xfffffffcU) != 0) {
    iVar3 = *(int *)(param_1 + 0x74);
    for (iVar7 = *(int *)(param_1 + 0x70); iVar7 != iVar3; iVar7 = iVar7 + 4) {
      FUN_00754240();
    }
  }
  local_8 = 0xffffffff;
  if (local_18 != 0) {
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007bcc30 : PUSH EBP
007bcc31 : MOV EBP,ESP
007bcc33 : PUSH -0x1
007bcc35 : PUSH 0xb1470c
007bcc3a : MOV EAX,FS:[0x0]
007bcc40 : PUSH EAX
007bcc41 : SUB ESP,0x18
007bcc44 : PUSH EBX
007bcc45 : PUSH ESI
007bcc46 : PUSH EDI
007bcc47 : MOV EAX,[0x00d66fa0]
007bcc4c : XOR EAX,EBP
007bcc4e : PUSH EAX
007bcc4f : LEA EAX,[EBP + -0xc]
007bcc52 : MOV FS:[0x0],EAX
007bcc58 : MOV EBX,dword ptr [EBP + 0x8]
007bcc5b : LEA ECX,[EBP + -0x20]
007bcc5e : LEA EAX,[EBX + 0x4]
007bcc61 : XOR EDI,EDI
007bcc63 : PUSH ECX
007bcc64 : MOV dword ptr [EBP + -0x14],EDI
007bcc67 : MOV dword ptr [EBP + -0x20],EAX
007bcc6a : MOV dword ptr [EBP + -0x1c],0xc18c44
007bcc71 : MOV dword ptr [EBP + -0x18],0x83
007bcc78 : MOV dword ptr [EBP + -0x10],0x1
007bcc7f : CALL 0x006ef1a0
007bcc84 : MOV dword ptr [EBP + -0x4],EDI
007bcc87 : CMP dword ptr [EBX + 0x8c],EDI
007bcc8d : JZ 0x007bccfd
007bcc8f : MOV EAX,dword ptr [EBX + 0x88]
007bcc95 : MOV ESI,dword ptr [EAX]
007bcc97 : MOV dword ptr [EBP + 0x8],ESI
007bcc9a : CMP ESI,EAX
007bcc9c : JZ 0x007bccd0
007bcc9e : MOV EDI,EDI
007bcca0 : MOV EDI,dword ptr [ESI + 0x28]
007bcca3 : TEST EDI,EDI
007bcca5 : JZ 0x007bccbb
007bcca7 : PUSH EDI
007bcca8 : CALL 0x007542c0
007bccad : MOV ECX,EDI
007bccaf : CALL 0x006f04e0
007bccbb : LEA EDX,[EBP + 0x8]
007bccbe : CALL 0x00430160
007bccc3 : MOV EAX,dword ptr [EBX + 0x88]
007bccc9 : MOV ESI,dword ptr [EBP + 0x8]
007bcccc : CMP ESI,EAX
007bccce : JNZ 0x007bcca0
007bccd0 : MOV EDX,dword ptr [EBX + 0x88]
007bccd6 : MOV EAX,dword ptr [EDX + 0x4]
007bccd9 : LEA ESI,[EBX + 0x84]
007bccdf : PUSH EAX
007bcce0 : MOV ECX,ESI
007bcce2 : CALL 0x0044c480
007bcce7 : MOV EAX,dword ptr [ESI + 0x4]
007bccea : MOV dword ptr [EAX + 0x4],EAX
007bcced : MOV EAX,dword ptr [ESI + 0x4]
007bccf0 : XOR EDI,EDI
007bccf2 : MOV dword ptr [ESI + 0x8],EDI
007bccf5 : MOV dword ptr [EAX],EAX
007bccf7 : MOV ESI,dword ptr [ESI + 0x4]
007bccfa : MOV dword ptr [ESI + 0x8],ESI
007bccfd : CMP dword ptr [EBX + 0x98],EDI
007bcd03 : JZ 0x007bcdae
007bcd09 : MOV EAX,dword ptr [EBX + 0x94]
007bcd0f : MOV ESI,dword ptr [EAX]
007bcd11 : CMP ESI,EAX
007bcd13 : JZ 0x007bcd7f
007bcd15 : MOV EDI,dword ptr [ESI + 0x28]
007bcd18 : TEST EDI,EDI
007bcd1a : JZ 0x007bcd30
007bcd1c : PUSH EDI
007bcd1d : CALL 0x007542c0
007bcd22 : MOV ECX,EDI
007bcd24 : CALL 0x006f04e0
007bcd30 : CMP byte ptr [ESI + 0x2d],0x0
007bcd34 : JNZ 0x007bcd77
007bcd36 : MOV EAX,dword ptr [ESI + 0x8]
007bcd39 : CMP byte ptr [EAX + 0x2d],0x0
007bcd3d : JNZ 0x007bcd5c
007bcd3f : MOV ESI,EAX
007bcd41 : MOV EAX,dword ptr [ESI]
007bcd43 : CMP byte ptr [EAX + 0x2d],0x0
007bcd47 : JNZ 0x007bcd77
007bcd49 : LEA ESP,[ESP]
007bcd50 : MOV ESI,EAX
007bcd52 : MOV EAX,dword ptr [ESI]
007bcd54 : CMP byte ptr [EAX + 0x2d],0x0
007bcd58 : JZ 0x007bcd50
007bcd5a : JMP 0x007bcd77
007bcd5c : MOV EAX,dword ptr [ESI + 0x4]
007bcd5f : CMP byte ptr [EAX + 0x2d],0x0
007bcd63 : JNZ 0x007bcd75
007bcd65 : CMP ESI,dword ptr [EAX + 0x8]
007bcd68 : JNZ 0x007bcd75
007bcd6a : MOV ESI,EAX
007bcd6c : MOV EAX,dword ptr [EAX + 0x4]
007bcd6f : CMP byte ptr [EAX + 0x2d],0x0
007bcd73 : JZ 0x007bcd65
007bcd75 : MOV ESI,EAX
007bcd77 : CMP ESI,dword ptr [EBX + 0x94]
007bcd7d : JNZ 0x007bcd15
007bcd7f : MOV ECX,dword ptr [EBX + 0x94]
007bcd85 : MOV EDX,dword ptr [ECX + 0x4]
007bcd88 : LEA ESI,[EBX + 0x90]
007bcd8e : PUSH EDX
007bcd8f : MOV ECX,ESI
007bcd91 : CALL 0x0044c480
007bcd96 : MOV EAX,dword ptr [ESI + 0x4]
007bcd99 : MOV dword ptr [EAX + 0x4],EAX
007bcd9c : MOV EAX,dword ptr [ESI + 0x4]
007bcd9f : MOV dword ptr [ESI + 0x8],0x0
007bcda6 : MOV dword ptr [EAX],EAX
007bcda8 : MOV ESI,dword ptr [ESI + 0x4]
007bcdab : MOV dword ptr [ESI + 0x8],ESI
007bcdae : MOV EAX,dword ptr [EBX + 0x54]
007bcdb1 : SUB EAX,dword ptr [EBX + 0x50]
007bcdb4 : TEST EAX,0xfffffffc
007bcdb9 : JZ 0x007bcdd7
007bcdbb : MOV EAX,dword ptr [EBX + 0x54]
007bcdbe : MOV EDI,dword ptr [EBX + 0x50]
007bcdc1 : MOV dword ptr [EBP + 0x8],EAX
007bcdc4 : CMP EDI,EAX
007bcdc6 : JZ 0x007bcdd7
007bcdc8 : MOV ESI,dword ptr [EDI]
007bcdca : CALL 0x00754240
007bcdcf : ADD EDI,0x4
007bcdd2 : CMP EDI,dword ptr [EBP + 0x8]
007bcdd5 : JNZ 0x007bcdc8
007bcdd7 : MOV ECX,dword ptr [EBX + 0x44]
007bcdda : SUB ECX,dword ptr [EBX + 0x40]
007bcddd : TEST ECX,0xfffffffc
007bcde3 : JZ 0x007bce01
007bcde5 : MOV EAX,dword ptr [EBX + 0x44]
007bcde8 : MOV EDI,dword ptr [EBX + 0x40]
007bcdeb : MOV dword ptr [EBP + 0x8],EAX
007bcdee : CMP EDI,EAX
007bcdf0 : JZ 0x007bce01
007bcdf2 : MOV ESI,dword ptr [EDI]
007bcdf4 : CALL 0x00754240
007bcdf9 : ADD EDI,0x4
007bcdfc : CMP EDI,dword ptr [EBP + 0x8]
007bcdff : JNZ 0x007bcdf2
007bce01 : MOV EDX,dword ptr [EBX + 0x64]
007bce04 : SUB EDX,dword ptr [EBX + 0x60]
007bce07 : TEST EDX,0xfffffffc
007bce0d : JZ 0x007bce2f
007bce0f : MOV EAX,dword ptr [EBX + 0x64]
007bce12 : MOV EDI,dword ptr [EBX + 0x60]
007bce15 : MOV dword ptr [EBP + 0x8],EAX
007bce18 : CMP EDI,EAX
007bce1a : JZ 0x007bce2f
007bce1c : LEA ESP,[ESP]
007bce20 : MOV ESI,dword ptr [EDI]
007bce22 : CALL 0x00754240
007bce27 : ADD EDI,0x4
007bce2a : CMP EDI,dword ptr [EBP + 0x8]
007bce2d : JNZ 0x007bce20
007bce2f : MOV EAX,dword ptr [EBX + 0x74]
007bce32 : SUB EAX,dword ptr [EBX + 0x70]
007bce35 : TEST EAX,0xfffffffc
007bce3a : JZ 0x007bce5f
007bce3c : MOV EAX,dword ptr [EBX + 0x74]
007bce3f : MOV EDI,dword ptr [EBX + 0x70]
007bce42 : MOV dword ptr [EBP + 0x8],EAX
007bce45 : CMP EDI,EAX
007bce47 : JZ 0x007bce5f
007bce49 : LEA ESP,[ESP]
007bce50 : MOV ESI,dword ptr [EDI]
007bce52 : CALL 0x00754240
007bce57 : ADD EDI,0x4
007bce5a : CMP EDI,dword ptr [EBP + 0x8]
007bce5d : JNZ 0x007bce50
007bce5f : MOV dword ptr [EBP + -0x4],0xffffffff
007bce66 : CMP dword ptr [EBP + -0x14],0x0
007bce6a : JZ 0x007bce7d
007bce6c : MOV ECX,dword ptr [EBP + -0x20]
007bce6f : PUSH ECX
007bce70 : CALL dword ptr [0x00b8511c]
007bce76 : MOV dword ptr [EBP + -0x14],0x0
007bce7d : MOV ECX,dword ptr [EBP + -0xc]
007bce80 : MOV dword ptr FS:[0x0],ECX
007bce87 : POP ECX
007bce88 : POP EDI
007bce89 : POP ESI
007bce8a : POP EBX
007bce8b : MOV ESP,EBP
007bce8d : POP EBP
007bce8e : RET 0x4
