PROGRAM  : Maestia.exe
FUNCTION : FUN_006da1b0
ENTRY    : 006da1b0
BODY     : [[006da1b0, 006da334]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006da1b0(int param_1,int param_2)

{
  int iVar1;
  code *pcVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  undefined4 *puVar7;
  uint uVar8;
  int iVar9;
  uint uStack_20;
  int iStack_1c;
  int iStack_18;
  int iStack_14;
  
  iVar1 = *(int *)(param_1 + 0x11c);
  iVar4 = *(int *)(param_1 + 0x188);
  while ((*(int *)(param_1 + 0x7c) < *(int *)(param_1 + 0x84) ||
         ((*(int *)(param_1 + 0x7c) == *(int *)(param_1 + 0x84) &&
          (*(uint *)(param_1 + 0x80) <= *(uint *)(param_1 + 0x88)))))) {
    iVar3 = (*(code *)**(undefined4 **)(param_1 + 400))(param_1);
    if (iVar3 == 0) {
      return 0;
    }
  }
  iVar3 = *(int *)(param_1 + 0xc4);
  iStack_14 = 0;
  if (0 < *(int *)(param_1 + 0x24)) {
    puVar7 = (undefined4 *)(iVar4 + 0x48);
    do {
      if (*(char *)(iVar3 + 0x30) != '\0') {
        iVar4 = (**(code **)(*(int *)(param_1 + 4) + 0x20))
                          (param_1,*puVar7,*(int *)(param_1 + 0x88) * *(int *)(iVar3 + 0xc),
                           *(int *)(iVar3 + 0xc),0);
        if (*(uint *)(param_1 + 0x88) < iVar1 - 1U) {
          uStack_20 = *(uint *)(iVar3 + 0xc);
        }
        else {
          uStack_20 = *(uint *)(iVar3 + 0x20) % *(uint *)(iVar3 + 0xc);
          if (uStack_20 == 0) {
            uStack_20 = *(uint *)(iVar3 + 0xc);
          }
        }
        pcVar2 = *(code **)(*(int *)(param_1 + 0x19c) + 4 + iStack_14 * 4);
        iStack_1c = *(int *)(param_2 + iStack_14 * 4);
        iStack_18 = 0;
        if (0 < (int)uStack_20) {
          uVar5 = *(uint *)(iVar3 + 0x1c);
          do {
            iVar6 = *(int *)(iVar4 + iStack_18 * 4);
            iVar9 = 0;
            uVar8 = 0;
            if (uVar5 != 0) {
              do {
                (*pcVar2)(param_1,iVar3,iVar6,iStack_1c,iVar9);
                uVar5 = *(uint *)(iVar3 + 0x1c);
                iVar9 = iVar9 + *(int *)(iVar3 + 0x24);
                uVar8 = uVar8 + 1;
                iVar6 = iVar6 + 0x80;
              } while (uVar8 < uVar5);
            }
            iStack_18 = iStack_18 + 1;
            iStack_1c = iStack_1c + *(int *)(iVar3 + 0x24) * 4;
          } while (iStack_18 < (int)uStack_20);
        }
      }
      iStack_14 = iStack_14 + 1;
      puVar7 = puVar7 + 1;
      iVar3 = iVar3 + 0x54;
    } while (iStack_14 < *(int *)(param_1 + 0x24));
  }
  *(int *)(param_1 + 0x88) = *(int *)(param_1 + 0x88) + 1;
  return 4 - (uint)(*(uint *)(param_1 + 0x88) < *(uint *)(param_1 + 0x11c));
}



============================================================
DISASSEMBLY
============================================================
006da1b0 : SUB ESP,0x20
006da1b3 : PUSH EBP
006da1b4 : PUSH EDI
006da1b5 : MOV EDI,dword ptr [ESP + 0x2c]
006da1b9 : MOV EAX,dword ptr [EDI + 0x11c]
006da1bf : MOV EBP,dword ptr [EDI + 0x188]
006da1c5 : DEC EAX
006da1c6 : MOV dword ptr [ESP + 0x1c],EAX
006da1ca : LEA EBX,[EBX]
006da1d0 : MOV EAX,dword ptr [EDI + 0x7c]
006da1d3 : MOV ECX,dword ptr [EDI + 0x84]
006da1d9 : CMP EAX,ECX
006da1db : JL 0x006da1ed
006da1dd : JNZ 0x006da205
006da1df : MOV EAX,dword ptr [EDI + 0x80]
006da1e5 : CMP EAX,dword ptr [EDI + 0x88]
006da1eb : JA 0x006da205
006da1ed : MOV ECX,dword ptr [EDI + 0x190]
006da1f3 : MOV EDX,dword ptr [ECX]
006da1f5 : PUSH EDI
006da1f6 : CALL EDX
006da1f8 : ADD ESP,0x4
006da1fb : TEST EAX,EAX
006da1fd : JNZ 0x006da1d0
006da1ff : POP EDI
006da200 : POP EBP
006da201 : ADD ESP,0x20
006da204 : RET
006da205 : PUSH EBX
006da206 : XOR EBX,EBX
006da208 : CMP dword ptr [EDI + 0x24],EBX
006da20b : PUSH ESI
006da20c : MOV ESI,dword ptr [EDI + 0xc4]
006da212 : MOV dword ptr [ESP + 0x1c],EBX
006da216 : JLE 0x006da316
006da21c : ADD EBP,0x48
006da21f : MOV dword ptr [ESP + 0x20],EBP
006da223 : CMP byte ptr [ESI + 0x30],0x0
006da227 : JZ 0x006da2fa
006da22d : MOV EAX,dword ptr [ESI + 0xc]
006da230 : MOV EDX,dword ptr [EDI + 0x88]
006da236 : MOV ECX,dword ptr [EDI + 0x4]
006da239 : IMUL EDX,EAX
006da23c : MOV ECX,dword ptr [ECX + 0x20]
006da23f : PUSH 0x0
006da241 : PUSH EAX
006da242 : MOV EAX,dword ptr [EBP]
006da245 : PUSH EDX
006da246 : PUSH EAX
006da247 : PUSH EDI
006da248 : CALL ECX
006da24a : MOV EDX,dword ptr [ESP + 0x38]
006da24e : ADD ESP,0x14
006da251 : MOV dword ptr [ESP + 0x28],EAX
006da255 : CMP dword ptr [EDI + 0x88],EDX
006da25b : JNC 0x006da266
006da25d : MOV EAX,dword ptr [ESI + 0xc]
006da260 : MOV dword ptr [ESP + 0x10],EAX
006da264 : JMP 0x006da27c
006da266 : MOV ECX,dword ptr [ESI + 0xc]
006da269 : MOV EAX,dword ptr [ESI + 0x20]
006da26c : XOR EDX,EDX
006da26e : DIV ECX
006da270 : MOV dword ptr [ESP + 0x10],EDX
006da274 : TEST EDX,EDX
006da276 : JNZ 0x006da27c
006da278 : MOV dword ptr [ESP + 0x10],ECX
006da27c : MOV ECX,dword ptr [EDI + 0x19c]
006da282 : MOV EDX,dword ptr [ECX + EBX*0x4 + 0x4]
006da286 : MOV EAX,dword ptr [ESP + 0x38]
006da28a : MOV ECX,dword ptr [EAX + EBX*0x4]
006da28d : MOV dword ptr [ESP + 0x14],ECX
006da291 : XOR ECX,ECX
006da293 : CMP dword ptr [ESP + 0x10],ECX
006da297 : MOV dword ptr [ESP + 0x2c],EDX
006da29b : MOV dword ptr [ESP + 0x18],ECX
006da29f : JLE 0x006da2fa
006da2a1 : MOV EAX,dword ptr [ESI + 0x1c]
006da2a4 : MOV EDX,dword ptr [ESP + 0x28]
006da2a8 : MOV EBX,dword ptr [EDX + ECX*0x4]
006da2ab : XOR EDI,EDI
006da2ad : XOR EBP,EBP
006da2af : TEST EAX,EAX
006da2b1 : JBE 0x006da2d9
006da2b3 : MOV EAX,dword ptr [ESP + 0x14]
006da2b7 : MOV ECX,dword ptr [ESP + 0x34]
006da2bb : PUSH EDI
006da2bc : PUSH EAX
006da2bd : PUSH EBX
006da2be : PUSH ESI
006da2bf : PUSH ECX
006da2c0 : CALL dword ptr [ESP + 0x40]
006da2c4 : MOV EAX,dword ptr [ESI + 0x1c]
006da2c7 : ADD EDI,dword ptr [ESI + 0x24]
006da2ca : INC EBP
006da2cb : ADD ESP,0x14
006da2ce : SUB EBX,-0x80
006da2d1 : CMP EBP,EAX
006da2d3 : JC 0x006da2b3
006da2d5 : MOV ECX,dword ptr [ESP + 0x18]
006da2d9 : MOV EDI,dword ptr [ESP + 0x14]
006da2dd : MOV EDX,dword ptr [ESI + 0x24]
006da2e0 : INC ECX
006da2e1 : CMP ECX,dword ptr [ESP + 0x10]
006da2e5 : LEA EDX,[EDI + EDX*0x4]
006da2e8 : MOV dword ptr [ESP + 0x14],EDX
006da2ec : MOV dword ptr [ESP + 0x18],ECX
006da2f0 : JL 0x006da2a4
006da2f2 : MOV EBX,dword ptr [ESP + 0x1c]
006da2f6 : MOV EDI,dword ptr [ESP + 0x34]
006da2fa : MOV EBP,dword ptr [ESP + 0x20]
006da2fe : INC EBX
006da2ff : ADD EBP,0x4
006da302 : ADD ESI,0x54
006da305 : CMP EBX,dword ptr [EDI + 0x24]
006da308 : MOV dword ptr [ESP + 0x1c],EBX
006da30c : MOV dword ptr [ESP + 0x20],EBP
006da310 : JL 0x006da223
006da316 : INC dword ptr [EDI + 0x88]
006da31c : MOV EAX,dword ptr [EDI + 0x88]
006da322 : CMP EAX,dword ptr [EDI + 0x11c]
006da328 : POP ESI
006da329 : POP EBX
006da32a : SBB EAX,EAX
006da32c : POP EDI
006da32d : ADD EAX,0x4
006da330 : POP EBP
006da331 : ADD ESP,0x20
006da334 : RET
