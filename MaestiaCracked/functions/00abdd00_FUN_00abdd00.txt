PROGRAM  : Maestia.exe
FUNCTION : FUN_00abdd00
ENTRY    : 00abdd00
BODY     : [[00abdd00, 00abdffb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00abdd00(undefined4 param_1,short param_2,undefined4 param_3,undefined1 *param_4)

{
  int *piVar1;
  undefined4 uVar2;
  int in_ECX;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 extraout_EDX_01;
  undefined4 extraout_EDX_02;
  undefined4 extraout_EDX_03;
  undefined4 uVar3;
  undefined **local_60;
  int *local_5c;
  undefined1 *local_58;
  undefined **local_54;
  undefined4 local_50;
  undefined4 local_4c;
  LPCRITICAL_SECTION local_48;
  char *local_44;
  undefined4 local_40;
  int local_3c;
  undefined4 local_38;
  char local_31;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1c7ad;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_58 = param_4;
  local_4c = 0;
  local_48 = (LPCRITICAL_SECTION)(in_ECX + 0x4c);
  local_3c = 0;
  local_44 = ".\\Objects\\AvaAnimationList.cpp";
  local_40 = 0xeb;
  local_38 = 1;
  uVar3 = param_1;
  FUN_006ef1a0(&local_48);
  local_8._1_3_ = 0;
  if (*(int *)(in_ECX + 8) == 0) {
    local_54 = &PTR_FUN_00cd4964;
    local_50 = 0;
    local_8._0_1_ = 2;
    FUN_0043e5a0(param_1,&local_54);
    local_4c = 1;
    local_54 = &PTR_FUN_00cd4964;
    local_8 = (uint)local_8._1_3_ << 8;
    uVar2 = extraout_EDX;
    if (local_3c != 0) {
      LeaveCriticalSection(local_48);
      local_3c = 0;
      uVar2 = extraout_EDX_00;
    }
  }
  else {
    local_8 = 0;
    if (local_3c != 0) {
      LeaveCriticalSection(local_48);
      local_3c = 0;
    }
    local_5c = (int *)CONCAT22(param_2,(undefined2)param_3);
    local_31 = '\0';
    FUN_00406460(&DAT_00c48188);
    local_8 = 3;
    local_48 = (LPCRITICAL_SECTION)(in_ECX + 0x4c);
    local_3c = 0;
    local_44 = ".\\Objects\\AvaAnimationList.cpp";
    local_40 = 0xfb;
    local_38 = 1;
    FUN_006ef1a0(&local_48);
    local_8 = CONCAT31(local_8._1_3_,4);
    piVar1 = (int *)FUN_00410490(&local_5c);
    if (*piVar1 != *(int *)(in_ECX + 4)) {
      local_31 = '\x01';
      FUN_00405eb0(*piVar1 + 0x10,0,0xffffffff);
    }
    local_8._0_1_ = 3;
    if (local_3c != 0) {
      LeaveCriticalSection(local_48);
      local_3c = 0;
    }
    if (local_31 == '\0') {
      if (param_2 == 0) {
        if (local_58 != (undefined1 *)0x0) {
          *local_58 = 0;
        }
        local_48 = (LPCRITICAL_SECTION)(in_ECX + 0x4c);
        local_3c = 0;
        local_44 = ".\\Objects\\AvaAnimationList.cpp";
        local_40 = 0x11a;
        local_38 = 1;
        FUN_006ef1a0(&local_48);
        local_8._0_1_ = 6;
        if (*(int *)(in_ECX + 8) == 0) {
          local_54 = &PTR_FUN_00cd4964;
          local_50 = 0;
          local_8._0_1_ = 7;
          FUN_0043e5a0(param_1,&local_54);
          local_4c = 1;
          local_8._0_1_ = 6;
          FUN_0045f640();
          local_8._0_1_ = 3;
          if (local_3c != 0) {
            LeaveCriticalSection(local_48);
            local_3c = 0;
          }
        }
        else {
          FUN_00405eb0(**(int **)(in_ECX + 4) + 0x10,0,0xffffffff);
          local_8._0_1_ = 3;
          if (local_3c != 0) {
            LeaveCriticalSection(local_48);
            local_3c = 0;
          }
          uVar2 = (**(code **)(*DAT_017251ec + 4))(&local_54,local_30);
          local_8._0_1_ = 8;
          FUN_0043e5a0(param_1,uVar2);
          local_4c = 1;
          local_8._0_1_ = 3;
          FUN_0045f640();
        }
      }
      else {
        FUN_00abdd00(param_1,0,param_3,local_58);
        local_4c = 1;
      }
      local_8 = (uint)local_8._1_3_ << 8;
      FUN_00406560();
      uVar2 = extraout_EDX_03;
    }
    else {
      if (local_58 != (undefined1 *)0x0) {
        *local_58 = 1;
      }
      uVar2 = (**(code **)(*DAT_017251ec + 4))(&local_60,local_30);
      local_8._0_1_ = 5;
      FUN_0043e5a0(param_1,uVar2);
      local_4c = 1;
      local_8._0_1_ = 3;
      local_60 = &PTR_FUN_00cd4964;
      uVar2 = extraout_EDX_01;
      if (local_5c != (int *)0x0) {
        (**(code **)(*local_5c + 0x30))();
        local_5c = (int *)0x0;
        uVar2 = extraout_EDX_02;
      }
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_18 = 7;
      local_1c = 0;
      local_2c = 0;
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc,uVar2,uVar3);
  return;
}



============================================================
DISASSEMBLY
============================================================
00abdd00 : PUSH EBP
00abdd01 : MOV EBP,ESP
00abdd03 : PUSH -0x1
00abdd05 : PUSH 0xb1c7ad
00abdd0a : MOV EAX,FS:[0x0]
00abdd10 : PUSH EAX
00abdd11 : SUB ESP,0x54
00abdd14 : MOV EAX,[0x00d66fa0]
00abdd19 : XOR EAX,EBP
00abdd1b : MOV dword ptr [EBP + -0x10],EAX
00abdd1e : PUSH EBX
00abdd1f : PUSH ESI
00abdd20 : PUSH EDI
00abdd21 : PUSH EAX
00abdd22 : LEA EAX,[EBP + -0xc]
00abdd25 : MOV FS:[0x0],EAX
00abdd2b : MOV EAX,dword ptr [EBP + 0x14]
00abdd2e : MOV EDI,dword ptr [EBP + 0x8]
00abdd31 : MOV ESI,ECX
00abdd33 : MOV dword ptr [EBP + -0x54],EAX
00abdd36 : XOR EBX,EBX
00abdd38 : MOV dword ptr [EBP + -0x48],EBX
00abdd3b : LEA ECX,[EBP + -0x44]
00abdd3e : LEA EAX,[ESI + 0x4c]
00abdd41 : PUSH ECX
00abdd42 : MOV dword ptr [EBP + -0x60],EDI
00abdd45 : MOV dword ptr [EBP + -0x38],EBX
00abdd48 : MOV dword ptr [EBP + -0x44],EAX
00abdd4b : MOV dword ptr [EBP + -0x40],0xc48168
00abdd52 : MOV dword ptr [EBP + -0x3c],0xeb
00abdd59 : MOV dword ptr [EBP + -0x34],0x1
00abdd60 : CALL 0x006ef1a0
00abdd65 : MOV dword ptr [EBP + -0x4],0x1
00abdd6c : CMP dword ptr [ESI + 0x8],EBX
00abdd6f : JNZ 0x00abddb6
00abdd71 : MOV ESI,0xcd4964
00abdd76 : MOV dword ptr [EBP + -0x50],ESI
00abdd79 : MOV dword ptr [EBP + -0x4c],EBX
00abdd7c : MOV byte ptr [EBP + -0x4],0x2
00abdd80 : LEA EDX,[EBP + -0x50]
00abdd83 : PUSH EDX
00abdd84 : PUSH EDI
00abdd85 : CALL 0x0043e5a0
00abdd8a : MOV dword ptr [EBP + -0x48],0x1
00abdd91 : MOV byte ptr [EBP + -0x4],0x1
00abdd95 : MOV dword ptr [EBP + -0x50],ESI
00abdd98 : MOV byte ptr [EBP + -0x4],BL
00abdd9b : CMP dword ptr [EBP + -0x38],EBX
00abdd9e : JZ 0x00abdfdc
00abdda4 : MOV EAX,dword ptr [EBP + -0x44]
00abdda7 : PUSH EAX
00abdda8 : CALL dword ptr [0x00b8511c]
00abddae : MOV dword ptr [EBP + -0x38],EBX
00abddb1 : JMP 0x00abdfdc
00abddb6 : MOV byte ptr [EBP + -0x4],BL
00abddb9 : CMP dword ptr [EBP + -0x38],EBX
00abddbc : JZ 0x00abddcb
00abddbe : MOV ECX,dword ptr [EBP + -0x44]
00abddc1 : PUSH ECX
00abddc2 : CALL dword ptr [0x00b8511c]
00abddc8 : MOV dword ptr [EBP + -0x38],EBX
00abddcb : MOVZX EDX,word ptr [EBP + 0xc]
00abddcf : MOVZX EAX,word ptr [EBP + 0x10]
00abddd3 : SHL EDX,0x10
00abddd6 : OR EDX,EAX
00abddd8 : PUSH 0xc48188
00abdddd : LEA ECX,[EBP + -0x2c]
00abdde0 : MOV dword ptr [EBP + -0x58],EDX
00abdde3 : MOV byte ptr [EBP + -0x2d],BL
00abdde6 : CALL 0x00406460
00abddeb : MOV dword ptr [EBP + -0x4],0x3
00abddf2 : LEA ECX,[EBP + -0x44]
00abddf5 : LEA EAX,[ESI + 0x4c]
00abddf8 : PUSH ECX
00abddf9 : MOV dword ptr [EBP + -0x38],EBX
00abddfc : MOV dword ptr [EBP + -0x44],EAX
00abddff : MOV dword ptr [EBP + -0x40],0xc4818c
00abde06 : MOV dword ptr [EBP + -0x3c],0xfb
00abde0d : MOV dword ptr [EBP + -0x34],0x1
00abde14 : CALL 0x006ef1a0
00abde19 : MOV byte ptr [EBP + -0x4],0x4
00abde1d : LEA EDX,[EBP + -0x58]
00abde20 : PUSH EDX
00abde21 : LEA EAX,[EBP + -0x4c]
00abde24 : MOV ECX,ESI
00abde26 : CALL 0x00410490
00abde2b : MOV EAX,dword ptr [EAX]
00abde2d : MOV ECX,dword ptr [ESI + 0x4]
00abde30 : CMP EAX,ECX
00abde32 : JZ 0x00abde47
00abde34 : PUSH -0x1
00abde36 : ADD EAX,0x10
00abde39 : PUSH EBX
00abde3a : PUSH EAX
00abde3b : LEA ECX,[EBP + -0x2c]
00abde3e : MOV byte ptr [EBP + -0x2d],0x1
00abde42 : CALL 0x00405eb0
00abde47 : MOV byte ptr [EBP + -0x4],0x3
00abde4b : CMP dword ptr [EBP + -0x38],EBX
00abde4e : JZ 0x00abde5d
00abde50 : MOV EAX,dword ptr [EBP + -0x44]
00abde53 : PUSH EAX
00abde54 : CALL dword ptr [0x00b8511c]
00abde5a : MOV dword ptr [EBP + -0x38],EBX
00abde5d : CMP byte ptr [EBP + -0x2d],BL
00abde60 : JZ 0x00abded5
00abde62 : MOV EAX,dword ptr [EBP + -0x54]
00abde65 : CMP EAX,EBX
00abde67 : JZ 0x00abde6c
00abde69 : MOV byte ptr [EAX],0x1
00abde6c : MOV ECX,dword ptr [0x017251ec]
00abde72 : MOV EDX,dword ptr [ECX]
00abde74 : MOV EDX,dword ptr [EDX + 0x4]
00abde77 : LEA EAX,[EBP + -0x2c]
00abde7a : PUSH EAX
00abde7b : LEA EAX,[EBP + -0x5c]
00abde7e : PUSH EAX
00abde7f : CALL EDX
00abde81 : MOV byte ptr [EBP + -0x4],0x5
00abde85 : PUSH EAX
00abde86 : PUSH EDI
00abde87 : CALL 0x0043e5a0
00abde8c : MOV dword ptr [EBP + -0x48],0x1
00abde93 : MOV byte ptr [EBP + -0x4],0x3
00abde97 : MOV ECX,dword ptr [EBP + -0x58]
00abde9a : MOV dword ptr [EBP + -0x5c],0xcd4964
00abdea1 : CMP ECX,EBX
00abdea3 : JZ 0x00abdeaf
00abdea5 : MOV EAX,dword ptr [ECX]
00abdea7 : MOV EDX,dword ptr [EAX + 0x30]
00abdeaa : CALL EDX
00abdeac : MOV dword ptr [EBP + -0x58],EBX
00abdeaf : MOV byte ptr [EBP + -0x4],BL
00abdeb2 : CMP dword ptr [EBP + -0x14],0x8
00abdeb6 : JC 0x00abdec0
00abdeb8 : MOV ECX,dword ptr [EBP + -0x28]
00abdebb : CALL 0x006f04e0
00abdec0 : XOR EAX,EAX
00abdec2 : MOV dword ptr [EBP + -0x14],0x7
00abdec9 : MOV dword ptr [EBP + -0x18],EBX
00abdecc : MOV word ptr [EBP + -0x28],AX
00abded0 : JMP 0x00abdfdc
00abded5 : CMP word ptr [EBP + 0xc],BX
00abded9 : JZ 0x00abdef8
00abdedb : MOV ECX,dword ptr [EBP + -0x54]
00abdede : MOV EDX,dword ptr [EBP + 0x10]
00abdee1 : PUSH ECX
00abdee2 : PUSH EDX
00abdee3 : PUSH EBX
00abdee4 : PUSH EDI
00abdee5 : MOV ECX,ESI
00abdee7 : CALL 0x00abdd00
00abdeec : MOV dword ptr [EBP + -0x48],0x1
00abdef3 : JMP 0x00abdfd1
00abdef8 : MOV EAX,dword ptr [EBP + -0x54]
00abdefb : CMP EAX,EBX
00abdefd : JZ 0x00abdf01
00abdeff : MOV byte ptr [EAX],BL
00abdf01 : LEA EAX,[ESI + 0x4c]
00abdf04 : MOV dword ptr [EBP + -0x44],EAX
00abdf07 : LEA EAX,[EBP + -0x44]
00abdf0a : PUSH EAX
00abdf0b : MOV dword ptr [EBP + -0x38],EBX
00abdf0e : MOV dword ptr [EBP + -0x40],0xc481ac
00abdf15 : MOV dword ptr [EBP + -0x3c],0x11a
00abdf1c : MOV dword ptr [EBP + -0x34],0x1
00abdf23 : CALL 0x006ef1a0
00abdf28 : MOV byte ptr [EBP + -0x4],0x6
00abdf2c : CMP dword ptr [ESI + 0x8],EBX
00abdf2f : JNZ 0x00abdf74
00abdf31 : MOV dword ptr [EBP + -0x50],0xcd4964
00abdf38 : MOV dword ptr [EBP + -0x4c],EBX
00abdf3b : MOV byte ptr [EBP + -0x4],0x7
00abdf3f : LEA ECX,[EBP + -0x50]
00abdf42 : PUSH ECX
00abdf43 : PUSH EDI
00abdf44 : CALL 0x0043e5a0
00abdf49 : MOV dword ptr [EBP + -0x48],0x1
00abdf50 : MOV byte ptr [EBP + -0x4],0x6
00abdf54 : LEA ECX,[EBP + -0x50]
00abdf57 : CALL 0x0045f640
00abdf5c : MOV byte ptr [EBP + -0x4],0x3
00abdf60 : CMP dword ptr [EBP + -0x38],EBX
00abdf63 : JZ 0x00abdfd1
00abdf65 : MOV EDX,dword ptr [EBP + -0x44]
00abdf68 : PUSH EDX
00abdf69 : CALL dword ptr [0x00b8511c]
00abdf6f : MOV dword ptr [EBP + -0x38],EBX
00abdf72 : JMP 0x00abdfd1
00abdf74 : MOV ESI,dword ptr [ESI + 0x4]
00abdf77 : MOV ESI,dword ptr [ESI]
00abdf79 : PUSH -0x1
00abdf7b : LEA EAX,[ESI + 0x10]
00abdf7e : PUSH EBX
00abdf7f : PUSH EAX
00abdf80 : LEA ECX,[EBP + -0x2c]
00abdf83 : CALL 0x00405eb0
00abdf88 : MOV byte ptr [EBP + -0x4],0x3
00abdf8c : CMP dword ptr [EBP + -0x38],EBX
00abdf8f : JZ 0x00abdf9e
00abdf91 : MOV EAX,dword ptr [EBP + -0x44]
00abdf94 : PUSH EAX
00abdf95 : CALL dword ptr [0x00b8511c]
00abdf9b : MOV dword ptr [EBP + -0x38],EBX
00abdf9e : MOV ECX,dword ptr [0x017251ec]
00abdfa4 : MOV EDX,dword ptr [ECX]
00abdfa6 : MOV EDX,dword ptr [EDX + 0x4]
00abdfa9 : LEA EAX,[EBP + -0x2c]
00abdfac : PUSH EAX
00abdfad : LEA EAX,[EBP + -0x50]
00abdfb0 : PUSH EAX
00abdfb1 : CALL EDX
00abdfb3 : MOV byte ptr [EBP + -0x4],0x8
00abdfb7 : PUSH EAX
00abdfb8 : PUSH EDI
00abdfb9 : CALL 0x0043e5a0
00abdfbe : MOV dword ptr [EBP + -0x48],0x1
00abdfc5 : MOV byte ptr [EBP + -0x4],0x3
00abdfc9 : LEA ECX,[EBP + -0x50]
00abdfcc : CALL 0x0045f640
00abdfd1 : MOV byte ptr [EBP + -0x4],BL
00abdfd4 : LEA ECX,[EBP + -0x2c]
00abdfd7 : CALL 0x00406560
00abdfdc : MOV EAX,EDI
00abdfde : MOV ECX,dword ptr [EBP + -0xc]
00abdfe1 : MOV dword ptr FS:[0x0],ECX
00abdfe8 : POP ECX
00abdfe9 : POP EDI
00abdfea : POP ESI
00abdfeb : POP EBX
00abdfec : MOV ECX,dword ptr [EBP + -0x10]
00abdfef : XOR ECX,EBP
00abdff1 : CALL 0x00633e6b
00abdff6 : MOV ESP,EBP
00abdff8 : POP EBP
00abdff9 : RET 0x10
