PROGRAM  : Maestia.exe
FUNCTION : FUN_00981850
ENTRY    : 00981850
BODY     : [[00981850, 00981959]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00981850(ushort param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  uint uVar1;
  undefined4 uVar2;
  int in_ECX;
  undefined1 local_78 [44];
  uint local_4c;
  undefined1 local_48 [4];
  uint local_44;
  undefined4 local_40;
  undefined1 local_3c [28];
  ushort local_20;
  undefined4 local_1c;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b20c09;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_40 = param_2;
  local_4c = (uint)param_1;
  FUN_00423700(&local_4c);
  uVar1 = local_44;
  if (local_44 == *(uint *)(in_ECX + 0x128)) {
    FUN_004250c0(local_3c);
    local_8 = 0;
    local_20 = param_1;
    FUN_00405eb0(local_40,0,0xffffffff);
    local_18 = param_4;
    local_1c = param_3;
    local_44 = (uint)param_1;
    uVar2 = FUN_00423830(local_78,&local_44);
    local_8._0_1_ = 1;
    FUN_00423660(local_48,uVar2);
    local_8 = (uint)local_8._1_3_ << 8;
    FUN_004233c0(local_78);
    local_8 = 0xffffffff;
    FUN_0044cb00(local_3c);
  }
  else {
    FUN_00405eb0(local_40,0,0xffffffff);
    *(undefined4 *)(uVar1 + 0x34) = param_4;
    *(undefined4 *)(uVar1 + 0x30) = param_3;
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00981850 : PUSH EBP
00981851 : MOV EBP,ESP
00981853 : PUSH -0x1
00981855 : PUSH 0xb20c09
0098185a : MOV EAX,FS:[0x0]
00981860 : PUSH EAX
00981861 : SUB ESP,0x6c
00981864 : MOV EAX,[0x00d66fa0]
00981869 : XOR EAX,EBP
0098186b : MOV dword ptr [EBP + -0x10],EAX
0098186e : PUSH EBX
0098186f : PUSH ESI
00981870 : PUSH EDI
00981871 : PUSH EAX
00981872 : LEA EAX,[EBP + -0xc]
00981875 : MOV FS:[0x0],EAX
0098187b : MOV EAX,dword ptr [EBP + 0xc]
0098187e : MOVZX EDI,word ptr [EBP + 0x8]
00981882 : MOV ESI,ECX
00981884 : LEA ECX,[EBP + -0x48]
00981887 : MOV dword ptr [EBP + -0x3c],EAX
0098188a : LEA EBX,[ESI + 0x124]
00981890 : PUSH ECX
00981891 : LEA EAX,[EBP + -0x40]
00981894 : MOV ECX,EBX
00981896 : MOV dword ptr [EBP + -0x48],EDI
00981899 : CALL 0x00423700
0098189e : MOV EAX,dword ptr [ESI + 0x128]
009818a4 : MOV ESI,dword ptr [EBP + -0x40]
009818a7 : CMP ESI,EAX
009818a9 : JNZ 0x00981920
009818ab : LEA EDX,[EBP + -0x38]
009818ae : PUSH EDX
009818af : CALL 0x004250c0
009818b4 : MOV dword ptr [EBP + -0x4],0x0
009818bb : MOV ECX,dword ptr [EBP + -0x3c]
009818be : MOV AX,word ptr [EBP + 0x8]
009818c2 : PUSH -0x1
009818c4 : PUSH 0x0
009818c6 : PUSH ECX
009818c7 : LEA ECX,[EBP + -0x38]
009818ca : MOV word ptr [EBP + -0x1c],AX
009818ce : CALL 0x00405eb0
009818d3 : MOV EDX,dword ptr [EBP + 0x14]
009818d6 : MOV EAX,dword ptr [EBP + 0x10]
009818d9 : LEA ECX,[EBP + -0x40]
009818dc : MOV dword ptr [EBP + -0x14],EDX
009818df : PUSH ECX
009818e0 : LEA EDX,[EBP + -0x74]
009818e3 : MOV dword ptr [EBP + -0x40],EDI
009818e6 : PUSH EDX
009818e7 : LEA EDI,[EBP + -0x38]
009818ea : MOV dword ptr [EBP + -0x18],EAX
009818ed : CALL 0x00423830
009818f2 : MOV byte ptr [EBP + -0x4],0x1
009818f6 : PUSH EAX
009818f7 : LEA EAX,[EBP + -0x44]
009818fa : PUSH EAX
009818fb : MOV EAX,EBX
009818fd : CALL 0x00423660
00981902 : MOV byte ptr [EBP + -0x4],0x0
00981906 : LEA ECX,[EBP + -0x74]
00981909 : PUSH ECX
0098190a : CALL 0x004233c0
0098190f : MOV dword ptr [EBP + -0x4],0xffffffff
00981916 : MOV EDX,EDI
00981918 : PUSH EDX
00981919 : CALL 0x0044cb00
0098191e : JMP 0x0098193c
00981920 : MOV EAX,dword ptr [EBP + -0x3c]
00981923 : PUSH -0x1
00981925 : PUSH 0x0
00981927 : PUSH EAX
00981928 : LEA ECX,[ESI + 0x10]
0098192b : CALL 0x00405eb0
00981930 : MOV ECX,dword ptr [EBP + 0x14]
00981933 : MOV EDX,dword ptr [EBP + 0x10]
00981936 : MOV dword ptr [ESI + 0x34],ECX
00981939 : MOV dword ptr [ESI + 0x30],EDX
0098193c : MOV ECX,dword ptr [EBP + -0xc]
0098193f : MOV dword ptr FS:[0x0],ECX
00981946 : POP ECX
00981947 : POP EDI
00981948 : POP ESI
00981949 : POP EBX
0098194a : MOV ECX,dword ptr [EBP + -0x10]
0098194d : XOR ECX,EBP
0098194f : CALL 0x00633e6b
00981954 : MOV ESP,EBP
00981956 : POP EBP
00981957 : RET 0x10
