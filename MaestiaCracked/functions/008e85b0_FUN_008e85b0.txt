PROGRAM  : Maestia.exe
FUNCTION : FUN_008e85b0
ENTRY    : 008e85b0
BODY     : [[008e85b0, 008e85f8] [008e85ff, 008e8670]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008e85b0(int *param_1,int param_2)

{
  int *piVar1;
  int iVar2;
  rsize_t _DstSize;
  int iVar3;
  int iVar4;
  int *_Dst;
  
  iVar3 = (int)param_1;
  if (*(int *)((int)param_1 + 0x48) != -1) {
    iVar2 = *(int *)(*(int *)((int)param_1 + 0x58) + *(int *)((int)param_1 + 0x48) * 4);
    _Dst = *(int **)(iVar2 + 200);
    if (_Dst != *(int **)(iVar2 + 0xcc)) {
      param_1 = _Dst + 1;
      do {
        iVar2 = *_Dst;
        if ((*(int *)(iVar2 + 4) == param_2) && (*(int *)(iVar2 + 8) == 0)) {
          if (iVar2 != 0) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
          iVar2 = *(int *)(*(int *)(iVar3 + 0x58) + *(int *)(iVar3 + 0x48) * 4);
          iVar4 = *(int *)(iVar2 + 0xcc) - (int)param_1 >> 2;
          if (0 < iVar4) {
            _DstSize = iVar4 * 4;
            _memmove_s(_Dst,_DstSize,param_1,_DstSize);
          }
          piVar1 = (int *)(iVar2 + 0xcc);
          *piVar1 = *piVar1 + -4;
        }
        else {
          _Dst = _Dst + 1;
          param_1 = param_1 + 1;
        }
      } while (_Dst != *(int **)(*(int *)(*(int *)(iVar3 + 0x58) + *(int *)(iVar3 + 0x48) * 4) +
                                0xcc));
    }
    if (param_2 < 4) {
      *(undefined4 *)
       (*(int *)(*(int *)(iVar3 + 0x58) + *(int *)(iVar3 + 0x48) * 4) + 0xb0 + param_2 * 4) = 0;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
008e85b0 : PUSH EBP
008e85b1 : MOV EBP,ESP
008e85b3 : PUSH EBX
008e85b4 : MOV EBX,dword ptr [EBP + 0x8]
008e85b7 : MOV EAX,dword ptr [EBX + 0x48]
008e85ba : CMP EAX,-0x1
008e85bd : JZ 0x008e866c
008e85c3 : MOV ECX,dword ptr [EBX + 0x58]
008e85c6 : MOV EAX,dword ptr [ECX + EAX*0x4]
008e85c9 : PUSH EDI
008e85ca : MOV EDI,dword ptr [EAX + 0xc8]
008e85d0 : CMP EDI,dword ptr [EAX + 0xcc]
008e85d6 : JZ 0x008e864f
008e85d8 : LEA EDX,[EDI + 0x4]
008e85db : MOV dword ptr [EBP + 0x8],EDX
008e85de : PUSH ESI
008e85df : NOP
008e85e0 : MOV ECX,dword ptr [EDI]
008e85e2 : MOV EAX,dword ptr [ECX + 0x4]
008e85e5 : CMP EAX,dword ptr [EBP + 0xc]
008e85e8 : JNZ 0x008e8636
008e85ea : CMP dword ptr [ECX + 0x8],0x0
008e85ee : JNZ 0x008e8636
008e85f0 : TEST ECX,ECX
008e85f2 : JZ 0x008e85ff
008e85f4 : CALL 0x006f04e0
008e85ff : MOV ECX,dword ptr [EBX + 0x48]
008e8602 : MOV EDX,dword ptr [EBX + 0x58]
008e8605 : MOV ESI,dword ptr [EDX + ECX*0x4]
008e8608 : MOV EAX,dword ptr [ESI + 0xcc]
008e860e : MOV ECX,dword ptr [EBP + 0x8]
008e8611 : ADD ESI,0xc4
008e8617 : SUB EAX,ECX
008e8619 : SAR EAX,0x2
008e861c : TEST EAX,EAX
008e861e : JLE 0x008e8630
008e8620 : ADD EAX,EAX
008e8622 : ADD EAX,EAX
008e8624 : PUSH EAX
008e8625 : PUSH ECX
008e8626 : PUSH EAX
008e8627 : PUSH EDI
008e8628 : CALL 0x00634101
008e862d : ADD ESP,0x10
008e8630 : ADD dword ptr [ESI + 0x8],-0x4
008e8634 : JMP 0x008e863d
008e8636 : ADD EDI,0x4
008e8639 : ADD dword ptr [EBP + 0x8],0x4
008e863d : MOV EAX,dword ptr [EBX + 0x48]
008e8640 : MOV ECX,dword ptr [EBX + 0x58]
008e8643 : MOV EDX,dword ptr [ECX + EAX*0x4]
008e8646 : CMP EDI,dword ptr [EDX + 0xcc]
008e864c : JNZ 0x008e85e0
008e864e : POP ESI
008e864f : MOV EAX,dword ptr [EBP + 0xc]
008e8652 : CMP EAX,0x4
008e8655 : POP EDI
008e8656 : JGE 0x008e866c
008e8658 : MOV ECX,dword ptr [EBX + 0x48]
008e865b : MOV EDX,dword ptr [EBX + 0x58]
008e865e : MOV ECX,dword ptr [EDX + ECX*0x4]
008e8661 : MOV dword ptr [ECX + EAX*0x4 + 0xb0],0x0
008e866c : POP EBX
008e866d : POP EBP
008e866e : RET 0x8
