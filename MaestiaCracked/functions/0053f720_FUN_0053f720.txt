PROGRAM  : Maestia.exe
FUNCTION : FUN_0053f720
ENTRY    : 0053f720
BODY     : [[0053f720, 0053f769]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0053f720(void)

{
  undefined4 uVar1;
  int iVar2;
  int in_ECX;
  
  if (*(int *)(in_ECX + 8) == 0) {
    uVar1 = FUN_00515dd0(in_ECX);
    iVar2 = FUN_00515840(0x50,0);
    if (iVar2 == 0) {
      uVar1 = 0;
    }
    else {
      uVar1 = FUN_00508200(uVar1,0);
    }
    if (*(GRefCountNTSImpl **)(in_ECX + 8) != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(in_ECX + 8));
    }
    *(undefined4 *)(in_ECX + 8) = uVar1;
    return uVar1;
  }
  return *(undefined4 *)(in_ECX + 8);
}



============================================================
DISASSEMBLY
============================================================
0053f720 : PUSH ESI
0053f721 : MOV ESI,ECX
0053f723 : CMP dword ptr [ESI + 0x8],0x0
0053f727 : JNZ 0x0053f765
0053f729 : PUSH EDI
0053f72a : PUSH ESI
0053f72b : CALL 0x00515dd0
0053f730 : MOV EDI,EAX
0053f732 : PUSH 0x0
0053f734 : PUSH 0x50
0053f736 : MOV ECX,EDI
0053f738 : CALL 0x00515840
0053f73d : TEST EAX,EAX
0053f73f : JZ 0x0053f74f
0053f741 : PUSH 0x0
0053f743 : PUSH EDI
0053f744 : MOV ECX,EAX
0053f746 : CALL 0x00508200
0053f74b : MOV EDI,EAX
0053f74d : JMP 0x0053f751
0053f74f : XOR EDI,EDI
0053f751 : MOV ECX,dword ptr [ESI + 0x8]
0053f754 : TEST ECX,ECX
0053f756 : JZ 0x0053f75d
0053f758 : CALL 0x004ff7c0
0053f75d : MOV dword ptr [ESI + 0x8],EDI
0053f760 : MOV EAX,EDI
0053f762 : POP EDI
0053f763 : POP ESI
0053f764 : RET
0053f765 : MOV EAX,dword ptr [ESI + 0x8]
0053f768 : POP ESI
0053f769 : RET
