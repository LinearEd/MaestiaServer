PROGRAM  : Maestia.exe
FUNCTION : FUN_006e2b60
ENTRY    : 006e2b60
BODY     : [[006e2b60, 006e2c05]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006e2b60(int param_1,int param_2,int *param_3,int param_4)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  char *pcVar7;
  byte *pbVar8;
  char cVar9;
  int local_c;
  
  iVar3 = *(int *)(param_1 + 0x5c);
  iVar4 = *(int *)(param_1 + 100);
  iVar5 = *(int *)(*(int *)(param_1 + 0x1a8) + 0x18);
  if (0 < param_4) {
    param_2 = param_2 - (int)param_3;
    local_c = param_4;
    do {
      pcVar7 = (char *)*param_3;
      pbVar8 = *(byte **)((int)param_3 + param_2);
      for (iVar2 = iVar3; iVar2 != 0; iVar2 = iVar2 + -1) {
        cVar9 = '\0';
        iVar6 = 0;
        if (0 < iVar4) {
          do {
            iVar1 = iVar6 * 4;
            iVar6 = iVar6 + 1;
            cVar9 = cVar9 + *(char *)((uint)*pbVar8 + *(int *)(iVar5 + iVar1));
            pbVar8 = pbVar8 + 1;
          } while (iVar6 < iVar4);
        }
        *pcVar7 = cVar9;
        pcVar7 = pcVar7 + 1;
      }
      param_3 = param_3 + 1;
      local_c = local_c + -1;
    } while (local_c != 0);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006e2b60 : SUB ESP,0x10
006e2b63 : MOV EAX,dword ptr [ESP + 0x14]
006e2b67 : MOV ECX,dword ptr [EAX + 0x1a8]
006e2b6d : PUSH EBX
006e2b6e : MOV EBX,dword ptr [EAX + 0x5c]
006e2b71 : PUSH ESI
006e2b72 : MOV ESI,dword ptr [EAX + 0x64]
006e2b75 : MOV EAX,dword ptr [ESP + 0x28]
006e2b79 : PUSH EDI
006e2b7a : MOV EDI,dword ptr [ECX + 0x18]
006e2b7d : MOV dword ptr [ESP + 0x18],EBX
006e2b81 : TEST EAX,EAX
006e2b83 : JLE 0x006e2bff
006e2b85 : MOV ECX,dword ptr [ESP + 0x28]
006e2b89 : PUSH EBP
006e2b8a : MOV EBP,dword ptr [ESP + 0x28]
006e2b8e : MOV EDX,ECX
006e2b90 : SUB EBP,ECX
006e2b92 : MOV dword ptr [ESP + 0x10],EDX
006e2b96 : MOV dword ptr [ESP + 0x18],EBP
006e2b9a : MOV dword ptr [ESP + 0x14],EAX
006e2b9e : MOV EDI,EDI
006e2ba0 : MOV EAX,dword ptr [EDX]
006e2ba2 : MOV ECX,dword ptr [EDX + EBP*0x1]
006e2ba5 : MOV dword ptr [ESP + 0x24],EAX
006e2ba9 : MOV dword ptr [ESP + 0x30],EBX
006e2bad : TEST EBX,EBX
006e2baf : JBE 0x006e2bf0
006e2bb1 : XOR EDX,EDX
006e2bb3 : XOR EAX,EAX
006e2bb5 : TEST ESI,ESI
006e2bb7 : JLE 0x006e2bd2
006e2bb9 : LEA ESP,[ESP]
006e2bc0 : MOVZX EBX,byte ptr [ECX]
006e2bc3 : MOV EBP,dword ptr [EDI + EAX*0x4]
006e2bc6 : MOVZX EBX,byte ptr [EBX + EBP*0x1]
006e2bca : INC EAX
006e2bcb : ADD EDX,EBX
006e2bcd : INC ECX
006e2bce : CMP EAX,ESI
006e2bd0 : JL 0x006e2bc0
006e2bd2 : MOV EAX,dword ptr [ESP + 0x24]
006e2bd6 : MOV byte ptr [EAX],DL
006e2bd8 : INC EAX
006e2bd9 : SUB dword ptr [ESP + 0x30],0x1
006e2bde : MOV dword ptr [ESP + 0x24],EAX
006e2be2 : JNZ 0x006e2bb1
006e2be4 : MOV EBP,dword ptr [ESP + 0x18]
006e2be8 : MOV EDX,dword ptr [ESP + 0x10]
006e2bec : MOV EBX,dword ptr [ESP + 0x1c]
006e2bf0 : ADD EDX,0x4
006e2bf3 : SUB dword ptr [ESP + 0x14],0x1
006e2bf8 : MOV dword ptr [ESP + 0x10],EDX
006e2bfc : JNZ 0x006e2ba0
006e2bfe : POP EBP
006e2bff : POP EDI
006e2c00 : POP ESI
006e2c01 : POP EBX
006e2c02 : ADD ESP,0x10
006e2c05 : RET
