PROGRAM  : Maestia.exe
FUNCTION : FUN_004852b0
ENTRY    : 004852b0
BODY     : [[004852b0, 004853b0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004852b0(int param_1,int param_2,int param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  int local_10;
  int local_c;
  
  iVar2 = param_2 - param_1;
  do {
    iVar2 = iVar2 >> 2;
    if (iVar2 < 0x21) {
LAB_0048535e:
      if (1 < iVar2) {
        FUN_004c0e10(param_1,param_2,param_4);
      }
      return;
    }
    if (param_3 < 1) {
      if (0x20 < iVar2) {
        if (4 < (int)(param_2 - param_1 & 0xfffffffcU)) {
          FUN_00452f90(param_1,param_2,param_4);
        }
        FUN_00433b10(param_1,param_2);
        return;
      }
      goto LAB_0048535e;
    }
    FUN_004c0b80(&local_10,param_1,param_2,param_4);
    iVar1 = local_c;
    iVar2 = local_10;
    param_3 = param_3 / 2 + (param_3 / 2) / 2;
    if ((int)(local_10 - param_1 & 0xfffffffcU) < (int)(param_2 - local_c & 0xfffffffcU)) {
      FUN_004852b0(param_1,local_10,param_3,param_4);
      param_1 = iVar1;
    }
    else {
      FUN_004852b0(local_c,param_2,param_3,param_4);
      param_2 = iVar2;
    }
    iVar2 = param_2 - param_1;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
004852b0 : PUSH EBP
004852b1 : MOV EBP,ESP
004852b3 : AND ESP,0xfffffff8
004852b6 : MOV ECX,dword ptr [EBP + 0xc]
004852b9 : MOV EDX,dword ptr [EBP + 0x8]
004852bc : SUB ESP,0xc
004852bf : MOV EAX,ECX
004852c1 : SUB EAX,EDX
004852c3 : PUSH EBX
004852c4 : SAR EAX,0x2
004852c7 : CMP EAX,0x20
004852ca : PUSH ESI
004852cb : PUSH EDI
004852cc : JLE 0x0048535e
004852d2 : MOV EDI,dword ptr [EBP + 0x10]
004852d5 : TEST EDI,EDI
004852d7 : JLE 0x00485378
004852dd : MOV EAX,dword ptr [EBP + 0x14]
004852e0 : PUSH EAX
004852e1 : PUSH ECX
004852e2 : PUSH EDX
004852e3 : LEA ECX,[ESP + 0x1c]
004852e7 : PUSH ECX
004852e8 : CALL 0x004c0b80
004852ed : MOV ESI,dword ptr [ESP + 0x20]
004852f1 : MOV EBX,dword ptr [ESP + 0x24]
004852f5 : MOV EAX,EDI
004852f7 : CDQ
004852f8 : SUB EAX,EDX
004852fa : SAR EAX,0x1
004852fc : MOV EDI,EAX
004852fe : CDQ
004852ff : SUB EAX,EDX
00485301 : SAR EAX,0x1
00485303 : ADD EDI,EAX
00485305 : MOV EAX,dword ptr [EBP + 0xc]
00485308 : MOV ECX,ESI
0048530a : SUB ECX,dword ptr [EBP + 0x8]
0048530d : MOV EDX,EAX
0048530f : SUB EDX,EBX
00485311 : AND EDX,0xfffffffc
00485314 : AND ECX,0xfffffffc
00485317 : ADD ESP,0x10
0048531a : CMP ECX,EDX
0048531c : JGE 0x00485337
0048531e : MOV EDX,dword ptr [EBP + 0x14]
00485321 : MOV EAX,dword ptr [EBP + 0x8]
00485324 : PUSH EDX
00485325 : PUSH EDI
00485326 : PUSH ESI
00485327 : PUSH EAX
00485328 : CALL 0x004852b0
0048532d : MOV ECX,dword ptr [EBP + 0xc]
00485330 : MOV EDX,EBX
00485332 : MOV dword ptr [EBP + 0x8],EDX
00485335 : JMP 0x0048534b
00485337 : MOV ECX,dword ptr [EBP + 0x14]
0048533a : PUSH ECX
0048533b : PUSH EDI
0048533c : PUSH EAX
0048533d : PUSH EBX
0048533e : CALL 0x004852b0
00485343 : MOV EDX,dword ptr [EBP + 0x8]
00485346 : MOV ECX,ESI
00485348 : MOV dword ptr [EBP + 0xc],ECX
0048534b : MOV EAX,ECX
0048534d : SUB EAX,EDX
0048534f : SAR EAX,0x2
00485352 : ADD ESP,0x10
00485355 : CMP EAX,0x20
00485358 : JG 0x004852d5
0048535e : CMP EAX,0x1
00485361 : JLE 0x00485371
00485363 : MOV EAX,dword ptr [EBP + 0x14]
00485366 : PUSH EAX
00485367 : PUSH ECX
00485368 : PUSH EDX
00485369 : CALL 0x004c0e10
0048536e : ADD ESP,0xc
00485371 : POP EDI
00485372 : POP ESI
00485373 : POP EBX
00485374 : MOV ESP,EBP
00485376 : POP EBP
00485377 : RET
00485378 : CMP EAX,0x20
0048537b : JLE 0x0048535e
0048537d : MOV EAX,ECX
0048537f : SUB EAX,EDX
00485381 : AND EAX,0xfffffffc
00485384 : CMP EAX,0x4
00485387 : JLE 0x0048539d
00485389 : MOV EAX,dword ptr [EBP + 0x14]
0048538c : PUSH EAX
0048538d : PUSH ECX
0048538e : PUSH EDX
0048538f : CALL 0x00452f90
00485394 : MOV ECX,dword ptr [EBP + 0xc]
00485397 : MOV EDX,dword ptr [EBP + 0x8]
0048539a : ADD ESP,0xc
0048539d : MOV ESI,dword ptr [EBP + 0x14]
004853a0 : PUSH ECX
004853a1 : PUSH EDX
004853a2 : CALL 0x00433b10
004853a7 : ADD ESP,0x8
004853aa : POP EDI
004853ab : POP ESI
004853ac : POP EBX
004853ad : MOV ESP,EBP
004853af : POP EBP
004853b0 : RET
