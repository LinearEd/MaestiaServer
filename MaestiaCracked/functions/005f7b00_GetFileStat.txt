PROGRAM  : Maestia.exe
FUNCTION : GetFileStat
ENTRY    : 005f7b00
BODY     : [[005f7b00, 005f7b92]]

============================================================
DECOMPILED C CODE
============================================================

/* public: static bool __cdecl GSysFile::GetFileStat(struct GFileStat *,class GString const &) */

bool __cdecl GSysFile::GetFileStat(GFileStat *param_1,GString *param_2)

{
  int iVar1;
  undefined4 uVar2;
  undefined1 local_38 [24];
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
                    /* 0x1f7b00  90  ?GetFileStat@GSysFile@@SA_NPAUGFileStat@@ABVGString@@@Z */
  iVar1 = FUN_0051b0c0((*(uint *)param_2 & 0xfffffffc) + 8,0xffffffff);
  uVar2 = FUN_00515840(iVar1 * 2 + 2,0);
  FUN_0051b030(uVar2,(*(uint *)param_2 & 0xfffffffc) + 8,0xffffffff);
  iVar1 = FUN_0063d3c8(uVar2,local_38);
  FUN_00515cf0(uVar2);
  if (iVar1 != 0) {
    return false;
  }
  *(undefined4 *)(param_1 + 8) = local_18;
  *(undefined4 *)(param_1 + 0xc) = local_14;
  *(undefined4 *)param_1 = local_10;
  *(undefined4 *)(param_1 + 4) = local_c;
  *(undefined4 *)(param_1 + 0x10) = local_20;
  *(undefined4 *)(param_1 + 0x14) = local_1c;
  return true;
}



============================================================
DISASSEMBLY
============================================================
005f7b00 : SUB ESP,0x38
005f7b03 : PUSH ESI
005f7b04 : PUSH EDI
005f7b05 : MOV EDI,dword ptr [ESP + 0x48]
005f7b09 : MOV EAX,dword ptr [EDI]
005f7b0b : AND EAX,0xfffffffc
005f7b0e : PUSH -0x1
005f7b10 : ADD EAX,0x8
005f7b13 : PUSH EAX
005f7b14 : CALL 0x0051b0c0
005f7b19 : MOV ECX,dword ptr [0x00d73250]
005f7b1f : LEA EAX,[EAX + EAX*0x1 + 0x2]
005f7b23 : PUSH 0x0
005f7b25 : PUSH EAX
005f7b26 : CALL 0x00515840
005f7b2b : MOV ESI,EAX
005f7b2d : MOV EAX,dword ptr [EDI]
005f7b2f : AND EAX,0xfffffffc
005f7b32 : PUSH -0x1
005f7b34 : ADD EAX,0x8
005f7b37 : PUSH EAX
005f7b38 : PUSH ESI
005f7b39 : CALL 0x0051b030
005f7b3e : LEA ECX,[ESP + 0x8]
005f7b42 : PUSH ECX
005f7b43 : PUSH ESI
005f7b44 : CALL 0x0063d3c8
005f7b49 : ADD ESP,0x8
005f7b4c : PUSH ESI
005f7b4d : MOV EDI,EAX
005f7b4f : CALL 0x00515cf0
005f7b54 : TEST EDI,EDI
005f7b56 : POP EDI
005f7b57 : POP ESI
005f7b58 : JZ 0x005f7b60
005f7b5a : XOR AL,AL
005f7b5c : ADD ESP,0x38
005f7b5f : RET
005f7b60 : MOV EAX,dword ptr [ESP + 0x3c]
005f7b64 : MOV EDX,dword ptr [ESP + 0x20]
005f7b68 : MOV ECX,dword ptr [ESP + 0x24]
005f7b6c : MOV dword ptr [EAX + 0x8],EDX
005f7b6f : MOV EDX,dword ptr [ESP + 0x28]
005f7b73 : MOV dword ptr [EAX + 0xc],ECX
005f7b76 : MOV ECX,dword ptr [ESP + 0x2c]
005f7b7a : MOV dword ptr [EAX],EDX
005f7b7c : MOV EDX,dword ptr [ESP + 0x18]
005f7b80 : MOV dword ptr [EAX + 0x4],ECX
005f7b83 : MOV ECX,dword ptr [ESP + 0x1c]
005f7b87 : MOV dword ptr [EAX + 0x10],EDX
005f7b8a : MOV dword ptr [EAX + 0x14],ECX
005f7b8d : MOV AL,0x1
005f7b8f : ADD ESP,0x38
005f7b92 : RET
