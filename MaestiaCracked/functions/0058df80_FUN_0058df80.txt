PROGRAM  : Maestia.exe
FUNCTION : FUN_0058df80
ENTRY    : 0058df80
BODY     : [[0058df80, 0058e7d4]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058df80(void)

{
  undefined1 *puVar1;
  float fVar2;
  longlong lVar3;
  bool bVar4;
  bool bVar5;
  uint uVar6;
  undefined1 uVar7;
  char cVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  float *pfVar13;
  GRefCountImpl *this;
  uint uVar14;
  int unaff_ESI;
  float10 fVar15;
  undefined4 uVar16;
  float fStack_70;
  float fStack_6c;
  float fStack_68;
  float local_64;
  float fStack_5c;
  int local_58;
  float fStack_54;
  longlong lStack_50;
  int iStack_48;
  int iStack_44;
  undefined1 auStack_40 [16];
  float fStack_30;
  float fStack_2c;
  float fStack_28;
  float fStack_24;
  float fStack_20;
  float fStack_1c;
  undefined4 uStack_18;
  float fStack_14;
  undefined4 uStack_10;
  float fStack_c;
  undefined4 uStack_8;
  undefined4 uStack_4;
  
  local_64 = 0.0;
  if (*(int *)(unaff_ESI + 0x1c) < 1) {
    return;
  }
  uVar16 = *(undefined4 *)(unaff_ESI + 0x18);
  FUN_00526260(0);
  FUN_005272e0(&local_58,uVar16,0xffffffff,0);
  if (*(int *)(unaff_ESI + 0x1c) < 2) goto LAB_0058e798;
  uVar16 = *(undefined4 *)(unaff_ESI + 0x18);
  FUN_00526260(1);
  iVar9 = FUN_00526fa0(uVar16);
  if (((iVar9 == 0) || (iVar10 = (**(code **)(*(int *)(iVar9 + 0x10) + 8))(), iVar10 != 7)) ||
     (*(int *)(unaff_ESI + 0x1c) < 3)) goto LAB_0058e798;
  uVar16 = *(undefined4 *)(unaff_ESI + 0x18);
  FUN_00526260();
  iVar10 = FUN_00526fa0(uVar16);
  if (((iVar10 == 0) || (iVar11 = (**(code **)(*(int *)(iVar10 + 0x10) + 8))(), iVar11 != 7)) ||
     (iStack_48 = iVar10, *(int *)(unaff_ESI + 0x1c) < 4)) goto LAB_0058e798;
  FUN_00526260(3);
  iVar11 = FUN_00526fa0();
  if (((iVar11 == 0) || (iVar12 = (**(code **)(*(int *)(iVar11 + 0x10) + 8))(), iVar12 != 7)) ||
     ((iStack_44 = iVar11, *(int *)(unaff_ESI + 0x1c) < 5 ||
      (((iVar12 = *(int *)(iVar9 + 0x38), iVar12 < 1 || (iVar12 != *(int *)(iVar10 + 0x38))) ||
       (iVar12 != *(int *)(iVar11 + 0x38))))))) goto LAB_0058e798;
  GMatrix2D::SetIdentity((GMatrix2D *)&fStack_30);
  auStack_40[0] = 0;
  iVar10 = *(int *)(unaff_ESI + 0x18) + 0x78;
  FUN_00526260(4);
  iVar11 = FUN_00526fa0();
  iVar11 = (**(code **)(*(int *)(iVar11 + 0x10) + 8))();
  if (iVar11 == 0xf) {
    pfVar13 = (float *)FUN_005c7cd0(&uStack_18,*(undefined4 *)(unaff_ESI + 0x18));
    fStack_30 = *pfVar13;
    fStack_2c = pfVar13[1];
    fStack_28 = pfVar13[2];
    fStack_24 = pfVar13[3];
    fStack_20 = pfVar13[4];
    fStack_1c = pfVar13[5];
  }
  else {
    cVar8 = FUN_00500770(iVar10,"matrixType",auStack_40);
    if (cVar8 == '\0') {
      bVar4 = false;
LAB_0058e162:
      bVar5 = false;
    }
    else {
      bVar4 = true;
      FUN_005272e0(&fStack_5c,*(undefined4 *)(unaff_ESI + 0x18),0xffffffff,0);
      cVar8 = FUN_004ffc90();
      if (cVar8 == '\0') goto LAB_0058e162;
      bVar5 = true;
    }
    if ((bVar4) &&
       (*(int *)((int)fStack_5c + 8) = *(int *)((int)fStack_5c + 8) + -1,
       *(int *)((int)fStack_5c + 8) == 0)) {
      FUN_00525340();
    }
    if (bVar5) {
      fStack_68 = 0.0;
      local_64 = 0.0;
      fStack_70 = 100.0;
      fStack_6c = 100.0;
      fStack_5c = 0.0;
      cVar8 = FUN_00500770(iVar10,&DAT_00b86558,auStack_40);
      if (cVar8 != '\0') {
        fVar15 = (float10)FUN_00527730();
        fStack_68 = (float)fVar15;
      }
      cVar8 = FUN_00500770(iVar10,&DAT_00b8db18,auStack_40);
      if (cVar8 != '\0') {
        fVar15 = (float10)FUN_00527730();
        local_64 = (float)fVar15;
      }
      cVar8 = FUN_00500770(iVar10,&DAT_00b8e6d8,auStack_40);
      if (cVar8 != '\0') {
        fVar15 = (float10)FUN_00527730();
        fStack_70 = (float)fVar15;
      }
      cVar8 = FUN_00500770(iVar10,&DAT_00b8e6d4,auStack_40);
      if (cVar8 != '\0') {
        fVar15 = (float10)FUN_00527730();
        fStack_6c = (float)fVar15;
      }
      cVar8 = FUN_00500770(iVar10,&DAT_00b8e6d0,auStack_40);
      if (cVar8 != '\0') {
        fVar15 = (float10)FUN_00527730();
        fStack_5c = (float)fVar15;
      }
      local_64 = local_64 + fStack_6c * 0.5;
      fVar2 = fStack_70 * 0.00061035156;
      fStack_6c = fStack_6c * 0.00061035156;
      fVar15 = (float10)FUN_0063b470();
      fStack_54 = (float)fVar15;
      lStack_50 = CONCAT44(lStack_50._4_4_,fStack_54);
      fVar15 = (float10)FUN_0063b5e0();
      fStack_54 = (float)fVar15;
      uStack_18 = (uint)lStack_50;
      fStack_14 = -fStack_54;
      uStack_10 = 0;
      uStack_4 = 0;
      uStack_8 = (uint)lStack_50;
      fStack_c = fStack_54;
      GMatrix2D::Append((GMatrix2D *)&fStack_30,(GMatrix2D *)&uStack_18);
      fStack_30 = fVar2 * fStack_30;
      fStack_2c = fStack_2c * fVar2;
      fStack_24 = fStack_6c * fStack_24;
      fStack_20 = fStack_20 * fStack_6c;
      fStack_28 = fVar2 * fStack_28 + fStack_68 + fStack_70 * 0.5;
      fStack_1c = fStack_6c * fStack_1c + local_64;
    }
    else {
      cVar8 = FUN_00500770(iVar10,&DAT_00b8653c,auStack_40);
      if (cVar8 != '\0') {
        fVar15 = (float10)FUN_00527730();
        lStack_50 = CONCAT44(lStack_50._4_4_,(float)fVar15);
        fStack_30 = (float)fVar15 * 0.00061035156;
      }
      cVar8 = FUN_00500770(iVar10,&DAT_00b8e6c0,auStack_40);
      if (cVar8 != '\0') {
        fVar15 = (float10)FUN_00527730();
        lStack_50 = CONCAT44(lStack_50._4_4_,(float)fVar15);
        fStack_2c = (float)fVar15 * 0.00061035156;
      }
      cVar8 = FUN_00500770(iVar10,&DAT_00b8e6bc,auStack_40);
      if (cVar8 != '\0') {
        fVar15 = (float10)FUN_00527730();
        fStack_28 = (float)fVar15;
      }
      cVar8 = FUN_00500770(iVar10,&DAT_00b8e6b8,auStack_40);
      if (cVar8 != '\0') {
        fVar15 = (float10)FUN_00527730();
        lStack_50 = CONCAT44(lStack_50._4_4_,(float)fVar15);
        fStack_24 = (float)fVar15 * 0.00061035156;
      }
      cVar8 = FUN_00500770(iVar10,&DAT_00cda590,auStack_40);
      if (cVar8 != '\0') {
        fVar15 = (float10)FUN_00527730();
        lStack_50 = CONCAT44(lStack_50._4_4_,(float)fVar15);
        fStack_20 = (float)fVar15 * 0.00061035156;
      }
      cVar8 = FUN_00500770(iVar10,&DAT_00b8e6d4,auStack_40);
      if (cVar8 != '\0') {
        fVar15 = (float10)FUN_00527730();
        fStack_1c = (float)fVar15;
      }
    }
  }
  fVar2 = local_64;
  fStack_70 = 0.0;
  local_64 = (float)((uint)local_64 & 0xffffff00);
  if (5 < *(int *)(unaff_ESI + 0x1c)) {
    uVar16 = *(undefined4 *)(unaff_ESI + 0x18);
    FUN_00526260();
    FUN_005272e0(&lStack_50,uVar16,0xffffffff,0);
    if (6 < *(int *)(unaff_ESI + 0x1c)) {
      uVar16 = *(undefined4 *)(unaff_ESI + 0x18);
      FUN_00526260();
      FUN_005272e0(&fStack_5c,uVar16,0xffffffff,0);
      uVar7 = FUN_004ffc90();
      local_64 = (float)CONCAT31(SUB43(fVar2,1),uVar7);
      *(int *)((int)fStack_5c + 8) = *(int *)((int)fStack_5c + 8) + -1;
      if (*(int *)((int)fStack_5c + 8) == 0) {
        FUN_00525340();
      }
      if (7 < *(int *)(unaff_ESI + 0x1c)) {
        FUN_00526260(7);
        fVar15 = (float10)FUN_00527730();
        fStack_70 = (float)fVar15;
        cVar8 = FUN_0050a220((double)fStack_70);
        if (cVar8 == '\0') {
          if (-1.0 <= fStack_70) {
            if (1.0 < fStack_70) {
              fStack_70 = 1.0;
            }
          }
          else {
            fStack_70 = -1.0;
          }
        }
        else {
          fStack_70 = 0.0;
        }
      }
    }
    *(int *)((uint)lStack_50 + 8) = *(int *)((uint)lStack_50 + 8) + -1;
    if (*(int *)((uint)lStack_50 + 8) == 0) {
      FUN_00525340();
    }
  }
  fStack_68 = 2.24208e-44;
  cVar8 = FUN_004ffc90();
  if ((cVar8 != '\0') && (fStack_68 = 2.52234e-44, fStack_70 != 0.0)) {
    fStack_68 = 2.66247e-44;
  }
  iVar10 = FUN_00515840(0x14,0);
  if ((iVar10 != 0) &&
     (this = (GRefCountImpl *)FUN_005d5d30(fStack_68,*(undefined4 *)(iVar9 + 0x38),local_64),
     this != (GRefCountImpl *)0x0)) {
    iVar10 = 0;
    *(float *)(this + 0x10) = fStack_70;
    if (0 < *(int *)(iVar9 + 0x38)) {
      do {
        fVar15 = (float10)FUN_00527730();
        lStack_50 = (longlong)ROUND(fVar15);
        uVar6 = (uint)lStack_50;
        fVar15 = (float10)FUN_00527730();
        fVar2 = ((float)fVar15 * 255.0) / 100.0;
        if (255.0 <= fVar2) {
          fStack_5c = 255.0;
          fVar2 = fStack_5c;
LAB_0058e6b6:
          fStack_5c = fVar2;
        }
        else {
          fStack_5c = 0.0;
          if (0.0 <= fVar2) goto LAB_0058e6b6;
        }
        lStack_50 = (longlong)ROUND(fStack_5c);
        uVar14 = (uint)lStack_50 << 0x18;
        fVar15 = (float10)FUN_00527730();
        fStack_5c = (float)fVar15;
        if (255.0 <= fStack_5c) {
          fStack_5c = 255.0;
LAB_0058e728:
          fVar2 = fStack_5c;
        }
        else {
          fVar2 = 0.0;
          if (0.0 <= fStack_5c) goto LAB_0058e728;
        }
        puVar1 = (undefined1 *)(*(int *)(this + 0xc) + iVar10 * 8);
        iVar10 = iVar10 + 1;
        lVar3 = CONCAT44((int)((ulonglong)lStack_50 >> 0x20),(int)ROUND(fVar2));
        lStack_50._0_1_ = (undefined1)(int)ROUND(fVar2);
        *puVar1 = (undefined1)lStack_50;
        *(uint *)(puVar1 + 4) = uVar6 & 0xffffff | uVar14;
        lStack_50 = lVar3;
      } while (iVar10 < *(int *)(iVar9 + 0x38));
    }
    FUN_005d5380(fStack_68,this,&fStack_30);
    GRefCountImpl::Release(this);
  }
  FUN_00526bc0();
LAB_0058e798:
  *(int *)(local_58 + 8) = *(int *)(local_58 + 8) + -1;
  if (*(int *)(local_58 + 8) == 0) {
    FUN_00525340();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0058df80 : SUB ESP,0x70
0058df83 : CMP dword ptr [ESI + 0x1c],0x0
0058df87 : MOV dword ptr [ESP + 0xc],0x0
0058df8f : JLE 0x0058e7af
0058df95 : PUSH EDI
0058df96 : MOV EDI,dword ptr [ESI + 0x18]
0058df99 : PUSH 0x0
0058df9b : MOV ECX,ESI
0058df9d : CALL 0x00526260
0058dfa2 : PUSH 0x0
0058dfa4 : PUSH -0x1
0058dfa6 : PUSH EDI
0058dfa7 : LEA ECX,[ESP + 0x28]
0058dfab : PUSH ECX
0058dfac : MOV ECX,EAX
0058dfae : CALL 0x005272e0
0058dfb3 : CMP dword ptr [ESI + 0x1c],0x1
0058dfb7 : JLE 0x0058e798
0058dfbd : MOV EDX,dword ptr [ESI + 0x18]
0058dfc0 : PUSH EDX
0058dfc1 : PUSH 0x1
0058dfc3 : MOV ECX,ESI
0058dfc5 : CALL 0x00526260
0058dfca : MOV ECX,EAX
0058dfcc : CALL 0x00526fa0
0058dfd1 : MOV EDI,EAX
0058dfd3 : TEST EDI,EDI
0058dfd5 : JZ 0x0058e798
0058dfdb : MOV EAX,dword ptr [EDI + 0x10]
0058dfde : MOV EDX,dword ptr [EAX + 0x8]
0058dfe1 : LEA ECX,[EDI + 0x10]
0058dfe4 : CALL EDX
0058dfe6 : CMP EAX,0x7
0058dfe9 : JNZ 0x0058e798
0058dfef : CMP dword ptr [ESI + 0x1c],0x2
0058dff3 : PUSH EBP
0058dff4 : MOV EBP,EDI
0058dff6 : MOV dword ptr [ESP + 0x18],EBP
0058dffa : JLE 0x0058e797
0058e000 : MOV EAX,dword ptr [ESI + 0x18]
0058e003 : PUSH EAX
0058e004 : PUSH 0x2
0058e006 : MOV ECX,ESI
0058e008 : CALL 0x00526260
0058e00d : MOV ECX,EAX
0058e00f : CALL 0x00526fa0
0058e014 : MOV EDI,EAX
0058e016 : TEST EDI,EDI
0058e018 : JZ 0x0058e797
0058e01e : MOV EDX,dword ptr [EDI + 0x10]
0058e021 : MOV EAX,dword ptr [EDX + 0x8]
0058e024 : LEA ECX,[EDI + 0x10]
0058e027 : CALL EAX
0058e029 : CMP EAX,0x7
0058e02c : JNZ 0x0058e797
0058e032 : CMP dword ptr [ESI + 0x1c],0x3
0058e036 : MOV dword ptr [ESP + 0x30],EDI
0058e03a : JLE 0x0058e797
0058e040 : MOV ECX,dword ptr [ESI + 0x18]
0058e043 : PUSH EBX
0058e044 : PUSH ECX
0058e045 : PUSH 0x3
0058e047 : MOV ECX,ESI
0058e049 : CALL 0x00526260
0058e04e : MOV ECX,EAX
0058e050 : CALL 0x00526fa0
0058e055 : MOV EBX,EAX
0058e057 : TEST EBX,EBX
0058e059 : JZ 0x0058e796
0058e05f : MOV EDX,dword ptr [EBX + 0x10]
0058e062 : MOV EAX,dword ptr [EDX + 0x8]
0058e065 : LEA ECX,[EBX + 0x10]
0058e068 : CALL EAX
0058e06a : CMP EAX,0x7
0058e06d : JNZ 0x0058e796
0058e073 : CMP dword ptr [ESI + 0x1c],0x4
0058e077 : MOV dword ptr [ESP + 0x38],EBX
0058e07b : JLE 0x0058e796
0058e081 : MOV EAX,dword ptr [EBP + 0x38]
0058e084 : TEST EAX,EAX
0058e086 : JLE 0x0058e796
0058e08c : CMP EAX,dword ptr [EDI + 0x38]
0058e08f : JNZ 0x0058e796
0058e095 : CMP EAX,dword ptr [EBX + 0x38]
0058e098 : JNZ 0x0058e796
0058e09e : LEA ECX,[ESP + 0x4c]
0058e0a2 : CALL 0x00522b80
0058e0a7 : MOV EAX,dword ptr [ESI + 0x18]
0058e0aa : PUSH EAX
0058e0ab : PUSH 0x4
0058e0ad : MOV ECX,ESI
0058e0af : MOV byte ptr [ESP + 0x44],0x0
0058e0b4 : LEA EBP,[EAX + 0x78]
0058e0b7 : CALL 0x00526260
0058e0bc : MOV ECX,EAX
0058e0be : CALL 0x00526fa0
0058e0c3 : MOV EBX,EAX
0058e0c5 : MOV EDX,dword ptr [EBX + 0x10]
0058e0c8 : MOV EAX,dword ptr [EDX + 0x8]
0058e0cb : LEA EDI,[EBX + 0x10]
0058e0ce : MOV ECX,EDI
0058e0d0 : CALL EAX
0058e0d2 : CMP EAX,0xf
0058e0d5 : JNZ 0x0058e115
0058e0d7 : MOV ECX,dword ptr [ESI + 0x18]
0058e0da : PUSH ECX
0058e0db : LEA EDX,[ESP + 0x68]
0058e0df : PUSH EDX
0058e0e0 : MOV ECX,EBX
0058e0e2 : CALL 0x005c7cd0
0058e0e7 : FLD float ptr [EAX]
0058e0e9 : FSTP float ptr [ESP + 0x4c]
0058e0ed : FLD float ptr [EAX + 0x4]
0058e0f0 : FSTP float ptr [ESP + 0x50]
0058e0f4 : FLD float ptr [EAX + 0x8]
0058e0f7 : FSTP float ptr [ESP + 0x54]
0058e0fb : FLD float ptr [EAX + 0xc]
0058e0fe : FSTP float ptr [ESP + 0x58]
0058e102 : FLD float ptr [EAX + 0x10]
0058e105 : FSTP float ptr [ESP + 0x5c]
0058e109 : FLD float ptr [EAX + 0x14]
0058e10c : FSTP float ptr [ESP + 0x60]
0058e110 : JMP 0x0058e491
0058e115 : LEA EAX,[ESP + 0x3c]
0058e119 : PUSH EAX
0058e11a : PUSH 0xb8e6e0
0058e11f : PUSH EBP
0058e120 : MOV ECX,EDI
0058e122 : CALL 0x00500770
0058e127 : TEST AL,AL
0058e129 : JZ 0x0058e15e
0058e12b : MOV ECX,dword ptr [ESI + 0x18]
0058e12e : PUSH 0x0
0058e130 : PUSH -0x1
0058e132 : PUSH ECX
0058e133 : LEA EDX,[ESP + 0x2c]
0058e137 : PUSH EDX
0058e138 : LEA ECX,[ESP + 0x4c]
0058e13c : MOV EBX,0x1
0058e141 : CALL 0x005272e0
0058e146 : PUSH 0xb8e6dc
0058e14b : LEA ECX,[ESP + 0x24]
0058e14f : CALL 0x004ffc90
0058e154 : TEST AL,AL
0058e156 : JZ 0x0058e162
0058e158 : MOV byte ptr [ESP + 0xc],BL
0058e15c : JMP 0x0058e167
0058e15e : MOV BL,byte ptr [ESP + 0x18]
0058e162 : MOV byte ptr [ESP + 0xc],0x0
0058e167 : TEST BL,0x1
0058e16a : JZ 0x0058e182
0058e16c : MOV EAX,dword ptr [ESP + 0x20]
0058e170 : DEC dword ptr [EAX + 0x8]
0058e173 : MOV ECX,EAX
0058e175 : ADD EAX,0x8
0058e178 : CMP dword ptr [EAX],0x0
0058e17b : JNZ 0x0058e182
0058e17d : CALL 0x00525340
0058e182 : CMP byte ptr [ESP + 0xc],0x0
0058e187 : MOV ECX,EDI
0058e189 : JZ 0x0058e371
0058e18f : FLDZ
0058e191 : LEA EAX,[ESP + 0x3c]
0058e195 : FST float ptr [ESP + 0x14]
0058e199 : PUSH EAX
0058e19a : FST float ptr [ESP + 0x1c]
0058e19e : PUSH 0xb86558
0058e1a3 : FLD float ptr [0x00cdf230]
0058e1a9 : PUSH EBP
0058e1aa : FST float ptr [ESP + 0x18]
0058e1ae : FSTP float ptr [ESP + 0x1c]
0058e1b2 : FSTP float ptr [ESP + 0x2c]
0058e1b6 : CALL 0x00500770
0058e1bb : TEST AL,AL
0058e1bd : JZ 0x0058e1d0
0058e1bf : MOV ECX,dword ptr [ESI + 0x18]
0058e1c2 : PUSH ECX
0058e1c3 : LEA ECX,[ESP + 0x40]
0058e1c7 : CALL 0x00527730
0058e1cc : FSTP float ptr [ESP + 0x14]
0058e1d0 : LEA EDX,[ESP + 0x3c]
0058e1d4 : PUSH EDX
0058e1d5 : PUSH 0xb8db18
0058e1da : PUSH EBP
0058e1db : MOV ECX,EDI
0058e1dd : CALL 0x00500770
0058e1e2 : TEST AL,AL
0058e1e4 : JZ 0x0058e1f7
0058e1e6 : MOV EAX,dword ptr [ESI + 0x18]
0058e1e9 : PUSH EAX
0058e1ea : LEA ECX,[ESP + 0x40]
0058e1ee : CALL 0x00527730
0058e1f3 : FSTP float ptr [ESP + 0x18]
0058e1f7 : LEA ECX,[ESP + 0x3c]
0058e1fb : PUSH ECX
0058e1fc : PUSH 0xb8e6d8
0058e201 : PUSH EBP
0058e202 : MOV ECX,EDI
0058e204 : CALL 0x00500770
0058e209 : TEST AL,AL
0058e20b : JZ 0x0058e21e
0058e20d : MOV EDX,dword ptr [ESI + 0x18]
0058e210 : PUSH EDX
0058e211 : LEA ECX,[ESP + 0x40]
0058e215 : CALL 0x00527730
0058e21a : FSTP float ptr [ESP + 0xc]
0058e21e : LEA EAX,[ESP + 0x3c]
0058e222 : PUSH EAX
0058e223 : PUSH 0xb8e6d4
0058e228 : PUSH EBP
0058e229 : MOV ECX,EDI
0058e22b : CALL 0x00500770
0058e230 : TEST AL,AL
0058e232 : JZ 0x0058e245
0058e234 : MOV ECX,dword ptr [ESI + 0x18]
0058e237 : PUSH ECX
0058e238 : LEA ECX,[ESP + 0x40]
0058e23c : CALL 0x00527730
0058e241 : FSTP float ptr [ESP + 0x10]
0058e245 : LEA EDX,[ESP + 0x3c]
0058e249 : PUSH EDX
0058e24a : PUSH 0xb8e6d0
0058e24f : PUSH EBP
0058e250 : MOV ECX,EDI
0058e252 : CALL 0x00500770
0058e257 : TEST AL,AL
0058e259 : JZ 0x0058e26c
0058e25b : MOV EAX,dword ptr [ESI + 0x18]
0058e25e : PUSH EAX
0058e25f : LEA ECX,[ESP + 0x40]
0058e263 : CALL 0x00527730
0058e268 : FSTP float ptr [ESP + 0x20]
0058e26c : FLD float ptr [ESP + 0xc]
0058e270 : FLD ST0
0058e272 : FLD double ptr [0x00cdf120]
0058e278 : FMUL ST1
0058e27a : FLD float ptr [ESP + 0x14]
0058e27e : FADDP ST2,ST0
0058e280 : FXCH
0058e282 : FSTP float ptr [ESP + 0x14]
0058e286 : FLD float ptr [ESP + 0x10]
0058e28a : FLD ST0
0058e28c : FMULP ST2
0058e28e : FLD float ptr [ESP + 0x18]
0058e292 : FADDP ST2,ST0
0058e294 : FXCH
0058e296 : FSTP float ptr [ESP + 0x18]
0058e29a : FLD double ptr [0x00b8e6c8]
0058e2a0 : FMUL ST2
0058e2a2 : FXCH ST2
0058e2a4 : FSTP float ptr [ESP + 0xc]
0058e2a8 : FMULP
0058e2aa : FSTP float ptr [ESP + 0x10]
0058e2ae : FLD float ptr [ESP + 0x20]
0058e2b2 : CALL 0x0063b470
0058e2b7 : FSTP float ptr [ESP + 0x28]
0058e2bb : FLD float ptr [ESP + 0x28]
0058e2bf : FSTP float ptr [ESP + 0x2c]
0058e2c3 : FLD float ptr [ESP + 0x20]
0058e2c7 : CALL 0x0063b5e0
0058e2cc : FSTP float ptr [ESP + 0x28]
0058e2d0 : FLD float ptr [ESP + 0x28]
0058e2d4 : LEA ECX,[ESP + 0x64]
0058e2d8 : FSTP float ptr [ESP + 0x28]
0058e2dc : PUSH ECX
0058e2dd : FLD float ptr [ESP + 0x30]
0058e2e1 : LEA ECX,[ESP + 0x50]
0058e2e5 : FST float ptr [ESP + 0x68]
0058e2e9 : FLD float ptr [ESP + 0x2c]
0058e2ed : FLD ST0
0058e2ef : FCHS
0058e2f1 : FSTP float ptr [ESP + 0x6c]
0058e2f5 : FLDZ
0058e2f7 : FST float ptr [ESP + 0x70]
0058e2fb : FSTP float ptr [ESP + 0x7c]
0058e2ff : FSTP float ptr [ESP + 0x74]
0058e303 : FSTP float ptr [ESP + 0x78]
0058e307 : CALL 0x00522ee0
0058e30c : FLD float ptr [ESP + 0x4c]
0058e310 : FLD float ptr [ESP + 0xc]
0058e314 : FLD ST0
0058e316 : FMULP ST2
0058e318 : FXCH
0058e31a : FSTP float ptr [ESP + 0x4c]
0058e31e : FLD float ptr [ESP + 0x50]
0058e322 : FMUL ST1
0058e324 : FSTP float ptr [ESP + 0x50]
0058e328 : FMUL float ptr [ESP + 0x54]
0058e32c : FSTP float ptr [ESP + 0x54]
0058e330 : FLD float ptr [ESP + 0x58]
0058e334 : FLD float ptr [ESP + 0x10]
0058e338 : FLD ST0
0058e33a : FMULP ST2
0058e33c : FXCH
0058e33e : FSTP float ptr [ESP + 0x58]
0058e342 : FLD float ptr [ESP + 0x5c]
0058e346 : FMUL ST1
0058e348 : FSTP float ptr [ESP + 0x5c]
0058e34c : FMUL float ptr [ESP + 0x60]
0058e350 : FSTP float ptr [ESP + 0x60]
0058e354 : FLD float ptr [ESP + 0x54]
0058e358 : FADD float ptr [ESP + 0x14]
0058e35c : FSTP float ptr [ESP + 0x54]
0058e360 : FLD float ptr [ESP + 0x60]
0058e364 : FADD float ptr [ESP + 0x18]
0058e368 : FSTP float ptr [ESP + 0x60]
0058e36c : JMP 0x0058e491
0058e371 : LEA EDX,[ESP + 0x3c]
0058e375 : PUSH EDX
0058e376 : PUSH 0xb8653c
0058e37b : PUSH EBP
0058e37c : CALL 0x00500770
0058e381 : TEST AL,AL
0058e383 : JZ 0x0058e3a4
0058e385 : MOV EAX,dword ptr [ESI + 0x18]
0058e388 : PUSH EAX
0058e389 : LEA ECX,[ESP + 0x40]
0058e38d : CALL 0x00527730
0058e392 : FSTP float ptr [ESP + 0x2c]
0058e396 : FLD float ptr [ESP + 0x2c]
0058e39a : FMUL double ptr [0x00b8e6c8]
0058e3a0 : FSTP float ptr [ESP + 0x4c]
0058e3a4 : LEA ECX,[ESP + 0x3c]
0058e3a8 : PUSH ECX
0058e3a9 : PUSH 0xb8e6c0
0058e3ae : PUSH EBP
0058e3af : MOV ECX,EDI
0058e3b1 : CALL 0x00500770
0058e3b6 : TEST AL,AL
0058e3b8 : JZ 0x0058e3d9
0058e3ba : MOV EDX,dword ptr [ESI + 0x18]
0058e3bd : PUSH EDX
0058e3be : LEA ECX,[ESP + 0x40]
0058e3c2 : CALL 0x00527730
0058e3c7 : FSTP float ptr [ESP + 0x2c]
0058e3cb : FLD float ptr [ESP + 0x2c]
0058e3cf : FMUL double ptr [0x00b8e6c8]
0058e3d5 : FSTP float ptr [ESP + 0x50]
0058e3d9 : LEA EAX,[ESP + 0x3c]
0058e3dd : PUSH EAX
0058e3de : PUSH 0xb8e6bc
0058e3e3 : PUSH EBP
0058e3e4 : MOV ECX,EDI
0058e3e6 : CALL 0x00500770
0058e3eb : TEST AL,AL
0058e3ed : JZ 0x0058e400
0058e3ef : MOV ECX,dword ptr [ESI + 0x18]
0058e3f2 : PUSH ECX
0058e3f3 : LEA ECX,[ESP + 0x40]
0058e3f7 : CALL 0x00527730
0058e3fc : FSTP float ptr [ESP + 0x54]
0058e400 : LEA EDX,[ESP + 0x3c]
0058e404 : PUSH EDX
0058e405 : PUSH 0xb8e6b8
0058e40a : PUSH EBP
0058e40b : MOV ECX,EDI
0058e40d : CALL 0x00500770
0058e412 : TEST AL,AL
0058e414 : JZ 0x0058e435
0058e416 : MOV EAX,dword ptr [ESI + 0x18]
0058e419 : PUSH EAX
0058e41a : LEA ECX,[ESP + 0x40]
0058e41e : CALL 0x00527730
0058e423 : FSTP float ptr [ESP + 0x2c]
0058e427 : FLD float ptr [ESP + 0x2c]
0058e42b : FMUL double ptr [0x00b8e6c8]
0058e431 : FSTP float ptr [ESP + 0x58]
0058e435 : LEA ECX,[ESP + 0x3c]
0058e439 : PUSH ECX
0058e43a : PUSH 0xcda590
0058e43f : PUSH EBP
0058e440 : MOV ECX,EDI
0058e442 : CALL 0x00500770
0058e447 : TEST AL,AL
0058e449 : JZ 0x0058e46a
0058e44b : MOV EDX,dword ptr [ESI + 0x18]
0058e44e : PUSH EDX
0058e44f : LEA ECX,[ESP + 0x40]
0058e453 : CALL 0x00527730
0058e458 : FSTP float ptr [ESP + 0x2c]
0058e45c : FLD float ptr [ESP + 0x2c]
0058e460 : FMUL double ptr [0x00b8e6c8]
0058e466 : FSTP float ptr [ESP + 0x5c]
0058e46a : LEA EAX,[ESP + 0x3c]
0058e46e : PUSH EAX
0058e46f : PUSH 0xb8e6d4
0058e474 : PUSH EBP
0058e475 : MOV ECX,EDI
0058e477 : CALL 0x00500770
0058e47c : TEST AL,AL
0058e47e : JZ 0x0058e491
0058e480 : MOV ECX,dword ptr [ESI + 0x18]
0058e483 : PUSH ECX
0058e484 : LEA ECX,[ESP + 0x40]
0058e488 : CALL 0x00527730
0058e48d : FSTP float ptr [ESP + 0x60]
0058e491 : CMP dword ptr [ESI + 0x1c],0x5
0058e495 : FLDZ
0058e497 : FSTP float ptr [ESP + 0xc]
0058e49b : MOV byte ptr [ESP + 0x18],0x0
0058e4a0 : JLE 0x0058e593
0058e4a6 : MOV EDI,dword ptr [ESI + 0x18]
0058e4a9 : PUSH 0x5
0058e4ab : MOV ECX,ESI
0058e4ad : CALL 0x00526260
0058e4b2 : PUSH 0x0
0058e4b4 : PUSH -0x1
0058e4b6 : PUSH EDI
0058e4b7 : LEA EDX,[ESP + 0x38]
0058e4bb : PUSH EDX
0058e4bc : MOV ECX,EAX
0058e4be : CALL 0x005272e0
0058e4c3 : CMP dword ptr [ESI + 0x1c],0x6
0058e4c7 : JLE 0x0058e57d
0058e4cd : MOV EDI,dword ptr [ESI + 0x18]
0058e4d0 : PUSH 0x6
0058e4d2 : MOV ECX,ESI
0058e4d4 : CALL 0x00526260
0058e4d9 : PUSH 0x0
0058e4db : PUSH -0x1
0058e4dd : PUSH EDI
0058e4de : LEA ECX,[ESP + 0x2c]
0058e4e2 : PUSH ECX
0058e4e3 : MOV ECX,EAX
0058e4e5 : CALL 0x005272e0
0058e4ea : PUSH 0xb8e6ac
0058e4ef : LEA ECX,[ESP + 0x24]
0058e4f3 : CALL 0x004ffc90
0058e4f8 : MOV byte ptr [ESP + 0x18],AL
0058e4fc : MOV EAX,dword ptr [ESP + 0x20]
0058e500 : DEC dword ptr [EAX + 0x8]
0058e503 : MOV ECX,EAX
0058e505 : ADD EAX,0x8
0058e508 : CMP dword ptr [EAX],0x0
0058e50b : JNZ 0x0058e512
0058e50d : CALL 0x00525340
0058e512 : CMP dword ptr [ESI + 0x1c],0x7
0058e516 : JLE 0x0058e57d
0058e518 : MOV EDX,dword ptr [ESI + 0x18]
0058e51b : PUSH EDX
0058e51c : PUSH 0x7
0058e51e : MOV ECX,ESI
0058e520 : CALL 0x00526260
0058e525 : MOV ECX,EAX
0058e527 : CALL 0x00527730
0058e52c : FSTP float ptr [ESP + 0xc]
0058e530 : FLD float ptr [ESP + 0xc]
0058e534 : SUB ESP,0x8
0058e537 : FSTP double ptr [ESP]
0058e53a : CALL 0x0050a220
0058e53f : TEST AL,AL
0058e541 : JZ 0x0058e54b
0058e543 : FLDZ
0058e545 : FSTP float ptr [ESP + 0xc]
0058e549 : JMP 0x0058e57d
0058e54b : FLD float ptr [0x00cdf0d0]
0058e551 : FLD float ptr [ESP + 0xc]
0058e555 : FCOM
0058e557 : FNSTSW AX
0058e559 : TEST AH,0x5
0058e55c : JP 0x0058e566
0058e55e : FSTP ST0
0058e560 : FSTP float ptr [ESP + 0xc]
0058e564 : JMP 0x0058e57d
0058e566 : FSTP ST1
0058e568 : FLD1
0058e56a : FCOM
0058e56c : FNSTSW AX
0058e56e : FSTP ST1
0058e570 : TEST AH,0x5
0058e573 : JP 0x0058e57b
0058e575 : FSTP float ptr [ESP + 0xc]
0058e579 : JMP 0x0058e57d
0058e57b : FSTP ST0
0058e57d : MOV EAX,dword ptr [ESP + 0x2c]
0058e581 : DEC dword ptr [EAX + 0x8]
0058e584 : MOV ECX,EAX
0058e586 : ADD EAX,0x8
0058e589 : CMP dword ptr [EAX],0x0
0058e58c : JNZ 0x0058e593
0058e58e : CALL 0x00525340
0058e593 : PUSH 0xb8e6a4
0058e598 : LEA ECX,[ESP + 0x28]
0058e59c : MOV dword ptr [ESP + 0x18],0x10
0058e5a4 : CALL 0x004ffc90
0058e5a9 : TEST AL,AL
0058e5ab : JZ 0x0058e5ca
0058e5ad : FLDZ
0058e5af : MOV dword ptr [ESP + 0x14],0x12
0058e5b7 : FCOMP float ptr [ESP + 0xc]
0058e5bb : FNSTSW AX
0058e5bd : TEST AH,0x44
0058e5c0 : JNP 0x0058e5ca
0058e5c2 : MOV dword ptr [ESP + 0x14],0x13
0058e5ca : MOV ECX,dword ptr [0x00d73250]
0058e5d0 : PUSH 0x0
0058e5d2 : PUSH 0x14
0058e5d4 : CALL 0x00515840
0058e5d9 : TEST EAX,EAX
0058e5db : JZ 0x0058e78d
0058e5e1 : MOV ECX,dword ptr [ESP + 0x1c]
0058e5e5 : MOV EDX,dword ptr [ECX + 0x38]
0058e5e8 : MOV ECX,dword ptr [ESP + 0x18]
0058e5ec : PUSH ECX
0058e5ed : PUSH EDX
0058e5ee : MOV EDX,dword ptr [ESP + 0x1c]
0058e5f2 : PUSH EDX
0058e5f3 : MOV ECX,EAX
0058e5f5 : CALL 0x005d5d30
0058e5fa : MOV EBX,EAX
0058e5fc : TEST EBX,EBX
0058e5fe : JZ 0x0058e78d
0058e604 : FLD float ptr [ESP + 0xc]
0058e608 : MOV EAX,dword ptr [ESP + 0x1c]
0058e60c : XOR EBP,EBP
0058e60e : FSTP float ptr [EBX + 0x10]
0058e611 : CMP dword ptr [EAX + 0x38],EBP
0058e614 : JLE 0x0058e76f
0058e61a : LEA EBX,[EBX]
0058e620 : MOV ECX,dword ptr [ESP + 0x1c]
0058e624 : MOV EDX,dword ptr [ECX + 0x34]
0058e627 : MOV EAX,dword ptr [ESI + 0x18]
0058e62a : MOV ECX,dword ptr [EDX + EBP*0x4]
0058e62d : PUSH EAX
0058e62e : CALL 0x00527730
0058e633 : FNSTCW word ptr [ESP + 0xc]
0058e637 : MOVZX EAX,word ptr [ESP + 0xc]
0058e63c : MOV ECX,dword ptr [ESP + 0x34]
0058e640 : MOV EDX,dword ptr [ECX + 0x34]
0058e643 : MOV ECX,dword ptr [EDX + EBP*0x4]
0058e646 : OR EAX,0xc00
0058e64b : MOV dword ptr [ESP + 0x2c],EAX
0058e64f : MOV EAX,dword ptr [ESI + 0x18]
0058e652 : FLDCW word ptr [ESP + 0x2c]
0058e656 : PUSH EAX
0058e657 : FISTP qword ptr [ESP + 0x30]
0058e65b : MOV EDI,dword ptr [ESP + 0x30]
0058e65f : OR EDI,0xff000000
0058e665 : FLDCW word ptr [ESP + 0x10]
0058e669 : CALL 0x00527730
0058e66e : FSTP float ptr [ESP + 0x2c]
0058e672 : FLD float ptr [ESP + 0x2c]
0058e676 : AND EDI,0xffffff
0058e67c : FLD double ptr [0x00b86b48]
0058e682 : FMUL ST1
0058e684 : FXCH
0058e686 : FDIV double ptr [0x00cdf2a8]
0058e68c : FSTP float ptr [ESP + 0x2c]
0058e690 : FLD float ptr [ESP + 0x2c]
0058e694 : FCOM
0058e696 : FNSTSW AX
0058e698 : FSTP ST1
0058e69a : TEST AH,0x5
0058e69d : JP 0x0058e7b3
0058e6a3 : FST float ptr [ESP + 0x20]
0058e6a7 : FLDZ
0058e6a9 : FCOM
0058e6ab : FNSTSW AX
0058e6ad : FSTP ST1
0058e6af : TEST AH,0x41
0058e6b2 : JZ 0x0058e6ba
0058e6b4 : FSTP ST0
0058e6b6 : FLD float ptr [ESP + 0x20]
0058e6ba : MOV EDX,dword ptr [ESP + 0x38]
0058e6be : FNSTCW word ptr [ESP + 0xc]
0058e6c2 : MOVZX EAX,word ptr [ESP + 0xc]
0058e6c7 : FSTP float ptr [ESP + 0x20]
0058e6cb : FLD float ptr [ESP + 0x20]
0058e6cf : OR EAX,0xc00
0058e6d4 : MOV dword ptr [ESP + 0x2c],EAX
0058e6d8 : MOV EAX,dword ptr [EDX + 0x34]
0058e6db : FLDCW word ptr [ESP + 0x2c]
0058e6df : MOV EDX,dword ptr [ESI + 0x18]
0058e6e2 : PUSH EDX
0058e6e3 : FISTP qword ptr [ESP + 0x30]
0058e6e7 : MOV ECX,dword ptr [ESP + 0x30]
0058e6eb : SHL ECX,0x18
0058e6ee : OR EDI,ECX
0058e6f0 : MOV ECX,dword ptr [EAX + EBP*0x4]
0058e6f3 : FLDCW word ptr [ESP + 0x10]
0058e6f7 : CALL 0x00527730
0058e6fc : FSTP float ptr [ESP + 0x18]
0058e700 : FLD float ptr [ESP + 0x18]
0058e704 : FCOM double ptr [0x00b86b48]
0058e70a : FNSTSW AX
0058e70c : TEST AH,0x5
0058e70f : JP 0x0058e7c4
0058e715 : FST float ptr [ESP + 0x20]
0058e719 : FLDZ
0058e71b : FCOM
0058e71d : FNSTSW AX
0058e71f : FSTP ST1
0058e721 : TEST AH,0x41
0058e724 : JZ 0x0058e72c
0058e726 : FSTP ST0
0058e728 : FLD float ptr [ESP + 0x20]
0058e72c : MOV EAX,dword ptr [EBX + 0xc]
0058e72f : FNSTCW word ptr [ESP + 0xc]
0058e733 : LEA ECX,[EAX + EBP*0x8]
0058e736 : FSTP float ptr [ESP + 0x18]
0058e73a : MOVZX EAX,word ptr [ESP + 0xc]
0058e73f : FLD float ptr [ESP + 0x18]
0058e743 : OR EAX,0xc00
0058e748 : MOV dword ptr [ESP + 0x2c],EAX
0058e74c : MOV EAX,dword ptr [ESP + 0x1c]
0058e750 : FLDCW word ptr [ESP + 0x2c]
0058e754 : INC EBP
0058e755 : FISTP dword ptr [ESP + 0x2c]
0058e759 : MOV DL,byte ptr [ESP + 0x2c]
0058e75d : MOV byte ptr [ECX],DL
0058e75f : MOV dword ptr [ECX + 0x4],EDI
0058e762 : CMP EBP,dword ptr [EAX + 0x38]
0058e765 : FLDCW word ptr [ESP + 0xc]
0058e769 : JL 0x0058e620
0058e76f : MOV EDX,dword ptr [ESP + 0x14]
0058e773 : LEA ECX,[ESP + 0x4c]
0058e777 : PUSH ECX
0058e778 : MOV ECX,dword ptr [ESP + 0x84]
0058e77f : PUSH EBX
0058e780 : PUSH EDX
0058e781 : CALL 0x005d5380
0058e786 : MOV ECX,EBX
0058e788 : CALL 0x004ff7e0
0058e78d : LEA ECX,[ESP + 0x3c]
0058e791 : CALL 0x00526bc0
0058e796 : POP EBX
0058e797 : POP EBP
0058e798 : MOV EAX,dword ptr [ESP + 0x1c]
0058e79c : DEC dword ptr [EAX + 0x8]
0058e79f : MOV ECX,EAX
0058e7a1 : ADD EAX,0x8
0058e7a4 : CMP dword ptr [EAX],0x0
0058e7a7 : POP EDI
0058e7a8 : JNZ 0x0058e7af
0058e7aa : CALL 0x00525340
0058e7af : ADD ESP,0x70
0058e7b2 : RET
0058e7b3 : FSTP ST0
0058e7b5 : FLD float ptr [0x00cdf130]
0058e7bb : FSTP float ptr [ESP + 0x20]
0058e7bf : JMP 0x0058e6b6
0058e7c4 : FSTP ST0
0058e7c6 : FLD float ptr [0x00cdf130]
0058e7cc : FSTP float ptr [ESP + 0x20]
0058e7d0 : JMP 0x0058e728
