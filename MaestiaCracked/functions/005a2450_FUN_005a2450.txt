PROGRAM  : Maestia.exe
FUNCTION : FUN_005a2450
ENTRY    : 005a2450
BODY     : [[005a2450, 005a2537]]

============================================================
DECOMPILED C CODE
============================================================

undefined4
FUN_005a2450(int *param_1,undefined4 param_2,int param_3,int param_4,int *param_5,int *param_6,
            undefined4 param_7)

{
  undefined4 uVar1;
  
  uVar1 = (**(code **)(*param_1 + 4))();
  switch(param_2) {
  case 10:
    if (param_5 != (int *)0x0) {
      uVar1 = (**(code **)(*param_5 + 8))(param_1,param_7);
      return uVar1;
    }
    if (param_4 != 0) {
      FUN_005a2260(param_4 + 0xc,"Unable to load JPEG at URL \"%s\" - libjpeg not included\n",uVar1)
      ;
      return 0;
    }
    break;
  case 0xb:
    if (param_6 != (int *)0x0) {
      uVar1 = (**(code **)(*param_6 + 4))(param_1,param_7);
      return uVar1;
    }
    if (param_4 != 0) {
      FUN_005a2260(param_4 + 0xc,"Unable to load PNG at URL \"%s\" - GFxPNGState not set\n",uVar1);
      return 0;
    }
    break;
  default:
    if (param_4 != 0) {
      FUN_005a2260(param_4 + 0xc,"Default image loader failed to load \'%s\'",uVar1);
    }
    break;
  case 0xd:
    uVar1 = FUN_00519af0(param_1,(param_3 != 3) - 1U & 9,param_7);
    return uVar1;
  case 0xe:
    uVar1 = FUN_0051a1d0(param_1,param_7);
    return uVar1;
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
005a2450 : PUSH ESI
005a2451 : MOV ESI,dword ptr [ESP + 0x8]
005a2455 : MOV EAX,dword ptr [ESI]
005a2457 : MOV EDX,dword ptr [EAX + 0x4]
005a245a : PUSH EDI
005a245b : MOV ECX,ESI
005a245d : XOR EDI,EDI
005a245f : CALL EDX
005a2461 : MOV ECX,dword ptr [ESP + 0x10]
005a2465 : ADD ECX,-0xa
005a2468 : CMP ECX,0x4
005a246b : JA 0x005a2519
005a2471 : JMP dword ptr [ECX*0x4 + 0x5a2538]
005a2478 : MOV EAX,dword ptr [ESP + 0x24]
005a247c : XOR ECX,ECX
005a247e : CMP dword ptr [ESP + 0x14],0x3
005a2483 : PUSH EAX
005a2484 : SETNZ CL
005a2487 : DEC ECX
005a2488 : AND ECX,0x9
005a248b : PUSH ECX
005a248c : PUSH ESI
005a248d : CALL 0x00519af0
005a2492 : MOV EDI,EAX
005a2494 : POP EDI
005a2495 : POP ESI
005a2496 : RET
005a2497 : MOV EDX,dword ptr [ESP + 0x24]
005a249b : PUSH EDX
005a249c : PUSH ESI
005a249d : CALL 0x0051a1d0
005a24a2 : MOV EDI,EAX
005a24a4 : POP EDI
005a24a5 : POP ESI
005a24a6 : RET
005a24a7 : MOV ECX,dword ptr [ESP + 0x1c]
005a24ab : TEST ECX,ECX
005a24ad : JNZ 0x005a24ce
005a24af : MOV ECX,dword ptr [ESP + 0x18]
005a24b3 : TEST ECX,ECX
005a24b5 : JZ 0x005a2533
005a24b7 : PUSH EAX
005a24b8 : ADD ECX,0xc
005a24bb : PUSH 0xb8f1f8
005a24c0 : PUSH ECX
005a24c1 : CALL 0x005a2260
005a24c6 : ADD ESP,0xc
005a24c9 : MOV EAX,EDI
005a24cb : POP EDI
005a24cc : POP ESI
005a24cd : RET
005a24ce : MOV EDX,dword ptr [ESP + 0x24]
005a24d2 : MOV EAX,dword ptr [ECX]
005a24d4 : MOV EAX,dword ptr [EAX + 0x8]
005a24d7 : PUSH EDX
005a24d8 : PUSH ESI
005a24d9 : CALL EAX
005a24db : MOV EDI,EAX
005a24dd : POP EDI
005a24de : POP ESI
005a24df : RET
005a24e0 : MOV ECX,dword ptr [ESP + 0x20]
005a24e4 : TEST ECX,ECX
005a24e6 : JNZ 0x005a2507
005a24e8 : MOV ECX,dword ptr [ESP + 0x18]
005a24ec : TEST ECX,ECX
005a24ee : JZ 0x005a2533
005a24f0 : PUSH EAX
005a24f1 : ADD ECX,0xc
005a24f4 : PUSH 0xb8f1c0
005a24f9 : PUSH ECX
005a24fa : CALL 0x005a2260
005a24ff : ADD ESP,0xc
005a2502 : MOV EAX,EDI
005a2504 : POP EDI
005a2505 : POP ESI
005a2506 : RET
005a2507 : MOV EAX,dword ptr [ESP + 0x24]
005a250b : MOV EDX,dword ptr [ECX]
005a250d : MOV EDX,dword ptr [EDX + 0x4]
005a2510 : PUSH EAX
005a2511 : PUSH ESI
005a2512 : CALL EDX
005a2514 : MOV EDI,EAX
005a2516 : POP EDI
005a2517 : POP ESI
005a2518 : RET
005a2519 : MOV ECX,dword ptr [ESP + 0x18]
005a251d : TEST ECX,ECX
005a251f : JZ 0x005a2533
005a2521 : PUSH EAX
005a2522 : ADD ECX,0xc
005a2525 : PUSH 0xb8f194
005a252a : PUSH ECX
005a252b : CALL 0x005a2260
005a2530 : ADD ESP,0xc
005a2533 : MOV EAX,EDI
005a2535 : POP EDI
005a2536 : POP ESI
005a2537 : RET
