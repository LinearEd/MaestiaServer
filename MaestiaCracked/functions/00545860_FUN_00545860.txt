PROGRAM  : Maestia.exe
FUNCTION : FUN_00545860
ENTRY    : 00545860
BODY     : [[00545860, 005458bf]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_00545860(undefined4 *param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  int *in_ECX;
  uint *puVar3;
  
  iVar1 = *in_ECX;
  puVar3 = (uint *)(iVar1 + 8 + param_2 * 0xc);
  if ((*(int *)(iVar1 + 8 + param_2 * 0xc) != -2) &&
     (uVar2 = param_2, (puVar3[1] & *(uint *)(iVar1 + 4)) == param_2)) {
    while (((puVar3[1] & *(uint *)(iVar1 + 4)) != param_2 || (puVar3[1] != *(uint *)*param_1))) {
      uVar2 = *puVar3;
      if (uVar2 == 0xffffffff) {
        return 0xffffffff;
      }
      puVar3 = (uint *)(iVar1 + 8 + uVar2 * 0xc);
    }
    return uVar2;
  }
  return 0xffffffff;
}



============================================================
DISASSEMBLY
============================================================
00545860 : PUSH EBX
00545861 : PUSH ESI
00545862 : MOV ESI,dword ptr [ESP + 0x10]
00545866 : PUSH EDI
00545867 : MOV EDI,dword ptr [ECX]
00545869 : LEA ECX,[ESI + ESI*0x2]
0054586c : CMP dword ptr [EDI + ECX*0x4 + 0x8],-0x2
00545871 : LEA ECX,[EDI + ECX*0x4 + 0x8]
00545875 : MOV EAX,ESI
00545877 : JZ 0x005458b7
00545879 : MOV EBX,dword ptr [EDI + 0x4]
0054587c : MOV EDX,dword ptr [ECX + 0x4]
0054587f : AND EDX,EBX
00545881 : CMP EDX,ESI
00545883 : JNZ 0x005458b7
00545885 : PUSH EBP
00545886 : MOV EDX,dword ptr [ECX + 0x4]
00545889 : MOV EBP,EDX
0054588b : AND EBP,EBX
0054588d : CMP EBP,ESI
0054588f : JNZ 0x0054589d
00545891 : MOV EBP,dword ptr [ESP + 0x14]
00545895 : MOV EBP,dword ptr [EBP]
00545898 : CMP EDX,dword ptr [EBP]
0054589b : JZ 0x005458b0
0054589d : MOV EAX,dword ptr [ECX]
0054589f : CMP EAX,-0x1
005458a2 : JZ 0x005458ad
005458a4 : LEA ECX,[EAX + EAX*0x2]
005458a7 : LEA ECX,[EDI + ECX*0x4 + 0x8]
005458ab : JMP 0x00545886
005458ad : OR EAX,0xffffffff
005458b0 : POP EBP
005458b1 : POP EDI
005458b2 : POP ESI
005458b3 : POP EBX
005458b4 : RET 0x8
005458b7 : POP EDI
005458b8 : POP ESI
005458b9 : OR EAX,0xffffffff
005458bc : POP EBX
005458bd : RET 0x8
