PROGRAM  : Maestia.exe
FUNCTION : FUN_006e0850
ENTRY    : 006e0850
BODY     : [[006e0850, 006e096c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006e0850(int param_1,int *param_2,int param_3,undefined4 *param_4,int param_5)

{
  int *piVar1;
  int *piVar2;
  byte bVar3;
  byte bVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  byte *pbVar11;
  undefined1 *puVar12;
  int iVar13;
  int iVar14;
  uint uVar15;
  
  param_5 = param_5 + -1;
  iVar5 = *(int *)(param_1 + 0x1a4);
  iVar6 = *(int *)(param_1 + 0x120);
  iVar7 = *(int *)(param_1 + 0x5c);
  iVar8 = *(int *)(iVar5 + 8);
  iVar9 = *(int *)(iVar5 + 0xc);
  iVar10 = *(int *)(iVar5 + 0x10);
  iVar5 = *(int *)(iVar5 + 0x14);
  if (-1 < param_5) {
    param_3 = param_3 * 4;
    do {
      piVar1 = (int *)(param_3 + *param_2);
      pbVar11 = *(byte **)(param_3 + param_2[1]);
      piVar2 = (int *)(param_3 + param_2[2]);
      puVar12 = (undefined1 *)*param_4;
      param_3 = param_3 + 4;
      param_4 = param_4 + 1;
      if (iVar7 != 0) {
        iVar14 = *piVar1 - (int)pbVar11;
        iVar13 = *piVar2 - (int)pbVar11;
        param_1 = iVar7;
        do {
          bVar3 = pbVar11[iVar13];
          uVar15 = (uint)pbVar11[iVar14];
          bVar4 = *pbVar11;
          *puVar12 = *(undefined1 *)(*(int *)(iVar8 + (uint)bVar3 * 4) + uVar15 + iVar6);
          puVar12[1] = *(undefined1 *)
                        ((*(int *)(iVar5 + (uint)bVar4 * 4) + *(int *)(iVar10 + (uint)bVar3 * 4) >>
                         0x10) + uVar15 + iVar6);
          puVar12[2] = *(undefined1 *)(*(int *)(iVar9 + (uint)bVar4 * 4) + uVar15 + iVar6);
          puVar12 = puVar12 + 3;
          pbVar11 = pbVar11 + 1;
          param_1 = param_1 + -1;
        } while (param_1 != 0);
      }
      param_5 = param_5 + -1;
    } while (-1 < param_5);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006e0850 : SUB ESP,0x24
006e0853 : SUB dword ptr [ESP + 0x38],0x1
006e0858 : MOV ECX,dword ptr [ESP + 0x28]
006e085c : MOV EAX,dword ptr [ECX + 0x1a4]
006e0862 : MOV EDX,dword ptr [ECX + 0x120]
006e0868 : PUSH EBP
006e0869 : MOV EBP,dword ptr [ECX + 0x5c]
006e086c : MOV ECX,dword ptr [EAX + 0x8]
006e086f : MOV dword ptr [ESP + 0xc],ECX
006e0873 : MOV ECX,dword ptr [EAX + 0xc]
006e0876 : MOV dword ptr [ESP + 0x1c],ECX
006e087a : MOV ECX,dword ptr [EAX + 0x10]
006e087d : MOV EAX,dword ptr [EAX + 0x14]
006e0880 : MOV dword ptr [ESP + 0x20],EBP
006e0884 : MOV dword ptr [ESP + 0x18],EDX
006e0888 : MOV dword ptr [ESP + 0x14],ECX
006e088c : MOV dword ptr [ESP + 0x10],EAX
006e0890 : JS 0x006e0968
006e0896 : PUSH EBX
006e0897 : PUSH ESI
006e0898 : MOV ESI,dword ptr [ESP + 0x38]
006e089c : PUSH EDI
006e089d : MOV EDI,dword ptr [ESP + 0x40]
006e08a1 : ADD EDI,EDI
006e08a3 : ADD EDI,EDI
006e08a5 : MOV ECX,dword ptr [ESI]
006e08a7 : MOV EAX,dword ptr [EDI + ECX*0x1]
006e08aa : MOV ECX,dword ptr [ESI + 0x4]
006e08ad : MOV EBX,dword ptr [ESP + 0x44]
006e08b1 : MOV dword ptr [ESP + 0x38],EAX
006e08b5 : MOV EAX,dword ptr [EDI + ECX*0x1]
006e08b8 : MOV ECX,dword ptr [ESI + 0x8]
006e08bb : MOV ECX,dword ptr [EDI + ECX*0x1]
006e08be : MOV dword ptr [ESP + 0x10],ECX
006e08c2 : MOV ECX,dword ptr [EBX]
006e08c4 : ADD EDI,0x4
006e08c7 : ADD EBX,0x4
006e08ca : MOV dword ptr [ESP + 0x30],EDI
006e08ce : MOV dword ptr [ESP + 0x44],EBX
006e08d2 : TEST EBP,EBP
006e08d4 : JBE 0x006e095a
006e08da : MOV ESI,dword ptr [ESP + 0x38]
006e08de : MOV EBX,dword ptr [ESP + 0x10]
006e08e2 : SUB ESI,EAX
006e08e4 : SUB EBX,EAX
006e08e6 : MOV dword ptr [ESP + 0x14],ESI
006e08ea : MOV dword ptr [ESP + 0x10],EBX
006e08ee : MOV dword ptr [ESP + 0x38],EBP
006e08f2 : JMP 0x006e08fc
006e08f4 : MOV ESI,dword ptr [ESP + 0x14]
006e08f8 : MOV EBX,dword ptr [ESP + 0x10]
006e08fc : MOVZX EBP,byte ptr [EBX + EAX*0x1]
006e0900 : MOVZX ESI,byte ptr [ESI + EAX*0x1]
006e0904 : MOV EBX,dword ptr [ESP + 0x18]
006e0908 : MOV EBX,dword ptr [EBX + EBP*0x4]
006e090b : MOVZX EDI,byte ptr [EAX]
006e090e : ADD EBX,ESI
006e0910 : MOV DL,byte ptr [EBX + EDX*0x1]
006e0913 : MOV byte ptr [ECX],DL
006e0915 : MOV EDX,dword ptr [ESP + 0x1c]
006e0919 : MOV EBX,dword ptr [EDX + EDI*0x4]
006e091c : MOV EDX,dword ptr [ESP + 0x20]
006e0920 : ADD EBX,dword ptr [EDX + EBP*0x4]
006e0923 : MOV EDX,dword ptr [ESP + 0x24]
006e0927 : SAR EBX,0x10
006e092a : ADD EBX,ESI
006e092c : MOVZX EBX,byte ptr [EBX + EDX*0x1]
006e0930 : MOV byte ptr [ECX + 0x1],BL
006e0933 : MOV EBX,dword ptr [ESP + 0x28]
006e0937 : MOV EDI,dword ptr [EBX + EDI*0x4]
006e093a : ADD EDI,ESI
006e093c : MOVZX EBX,byte ptr [EDI + EDX*0x1]
006e0940 : MOV byte ptr [ECX + 0x2],BL
006e0943 : ADD ECX,0x3
006e0946 : INC EAX
006e0947 : SUB dword ptr [ESP + 0x38],0x1
006e094c : JNZ 0x006e08f4
006e094e : MOV EBP,dword ptr [ESP + 0x2c]
006e0952 : MOV ESI,dword ptr [ESP + 0x3c]
006e0956 : MOV EDI,dword ptr [ESP + 0x30]
006e095a : SUB dword ptr [ESP + 0x48],0x1
006e095f : JNS 0x006e08a5
006e0965 : POP EDI
006e0966 : POP ESI
006e0967 : POP EBX
006e0968 : POP EBP
006e0969 : ADD ESP,0x24
006e096c : RET
