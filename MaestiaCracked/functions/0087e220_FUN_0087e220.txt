PROGRAM  : Maestia.exe
FUNCTION : FUN_0087e220
ENTRY    : 0087e220
BODY     : [[0087e220, 0087e2ce] [0087e2d8, 0087e3a3] [0087e3ad, 0087e3e3]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0087e2f7) */
/* WARNING: Removing unreachable block (ram,0x0087e3cc) */

void FUN_0087e220(int param_1)

{
  int *piVar1;
  int iVar2;
  rsize_t rVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  
  iVar4 = param_1;
  piVar1 = *(int **)(param_1 + 0x38);
  if (piVar1 != *(int **)(param_1 + 0x3c)) {
    iVar2 = *piVar1;
    if (*(int *)(iVar2 + 4) != *(int *)(iVar2 + 8)) {
      param_1 = (uint)param_1._1_3_ << 8;
      uVar5 = FUN_0043fb10(param_1,param_1,param_1);
      FUN_0043fb60(param_1);
      *(undefined4 *)(iVar2 + 8) = uVar5;
    }
    iVar6 = *(int *)(iVar4 + 0x3c) - (int)(piVar1 + 1) >> 2;
    if (0 < iVar6) {
      rVar3 = iVar6 * 4;
      _memmove_s(piVar1,rVar3,piVar1 + 1,rVar3);
    }
    *(int *)(iVar4 + 0x3c) = *(int *)(iVar4 + 0x3c) + -4;
    if (*(int *)(iVar2 + 4) == 0) {
      *(undefined4 *)(iVar2 + 4) = 0;
      *(undefined4 *)(iVar2 + 8) = 0;
      *(undefined4 *)(iVar2 + 0xc) = 0;
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    FUN_0043fb60(param_1);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if (*(int *)(param_1 + 0x38) != *(int *)(param_1 + 0x3c)) {
    *(int *)(param_1 + 0x3c) = *(int *)(param_1 + 0x38);
  }
  piVar1 = *(int **)(param_1 + 0x48);
  if (piVar1 == *(int **)(param_1 + 0x4c)) {
    if (*(int *)(param_1 + 0x48) != *(int *)(param_1 + 0x4c)) {
      *(int *)(param_1 + 0x4c) = *(int *)(param_1 + 0x48);
    }
    return;
  }
  iVar2 = *piVar1;
  if (*(int *)(iVar2 + 4) != *(int *)(iVar2 + 8)) {
    param_1 = (uint)param_1._1_3_ << 8;
    uVar5 = FUN_0043fb10(param_1,param_1,param_1);
    FUN_0043fb60(param_1);
    *(undefined4 *)(iVar2 + 8) = uVar5;
  }
  iVar6 = *(int *)(iVar4 + 0x4c) - (int)(piVar1 + 1) >> 2;
  if (0 < iVar6) {
    rVar3 = iVar6 * 4;
    _memmove_s(piVar1,rVar3,piVar1 + 1,rVar3);
  }
  *(int *)(iVar4 + 0x4c) = *(int *)(iVar4 + 0x4c) + -4;
  if (*(int *)(iVar2 + 4) == 0) {
    *(undefined4 *)(iVar2 + 4) = 0;
    *(undefined4 *)(iVar2 + 8) = 0;
    *(undefined4 *)(iVar2 + 0xc) = 0;
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  FUN_0043fb60(param_1);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0087e220 : PUSH EBP
0087e221 : MOV EBP,ESP
0087e223 : PUSH ECX
0087e224 : PUSH EBX
0087e225 : MOV EBX,dword ptr [EBP + 0x8]
0087e228 : PUSH ESI
0087e229 : PUSH EDI
0087e22a : MOV EDI,dword ptr [EBX + 0x38]
0087e22d : MOV dword ptr [EBP + -0x4],EDI
0087e230 : CMP EDI,dword ptr [EBX + 0x3c]
0087e233 : JZ 0x0087e2d8
0087e239 : LEA ESP,[ESP]
0087e240 : MOV ESI,dword ptr [EDI]
0087e242 : MOV ECX,dword ptr [ESI + 0x8]
0087e245 : MOV EAX,dword ptr [ESI + 0x4]
0087e248 : CMP EAX,ECX
0087e24a : JZ 0x0087e27c
0087e24c : MOV byte ptr [EBP + 0x8],0x0
0087e250 : MOV EDX,dword ptr [EBP + 0x8]
0087e253 : PUSH EDX
0087e254 : MOV EDX,dword ptr [EBP + 0x8]
0087e257 : PUSH EDX
0087e258 : MOV EDX,dword ptr [EBP + 0x8]
0087e25b : PUSH EDX
0087e25c : MOV EDI,ECX
0087e25e : CALL 0x0043fb10
0087e263 : MOV EDX,dword ptr [ESI + 0x8]
0087e266 : MOV EDI,EAX
0087e268 : MOV EAX,dword ptr [EBP + 0x8]
0087e26b : PUSH EAX
0087e26c : MOV ECX,EDI
0087e26e : CALL 0x0043fb60
0087e273 : MOV dword ptr [ESI + 0x8],EDI
0087e276 : MOV EDI,dword ptr [EBP + -0x4]
0087e279 : ADD ESP,0x10
0087e27c : MOV EAX,dword ptr [EBX + 0x3c]
0087e27f : LEA ECX,[EDI + 0x4]
0087e282 : SUB EAX,ECX
0087e284 : SAR EAX,0x2
0087e287 : TEST EAX,EAX
0087e289 : JLE 0x0087e29b
0087e28b : ADD EAX,EAX
0087e28d : ADD EAX,EAX
0087e28f : PUSH EAX
0087e290 : PUSH ECX
0087e291 : PUSH EAX
0087e292 : PUSH EDI
0087e293 : CALL 0x00634101
0087e298 : ADD ESP,0x10
0087e29b : ADD dword ptr [EBX + 0x3c],-0x4
0087e29f : MOV ECX,dword ptr [ESI + 0x4]
0087e2a2 : TEST ECX,ECX
0087e2a4 : JZ 0x0087e2bd
0087e2a6 : MOV EDX,dword ptr [EBP + 0x8]
0087e2a9 : PUSH EDX
0087e2aa : MOV EDX,dword ptr [ESI + 0x8]
0087e2ad : CALL 0x0043fb60
0087e2b2 : MOV ECX,dword ptr [ESI + 0x4]
0087e2b5 : ADD ESP,0x4
0087e2b8 : CALL 0x006f04e0
0087e2bd : XOR EAX,EAX
0087e2bf : MOV ECX,ESI
0087e2c1 : MOV dword ptr [ESI + 0x4],EAX
0087e2c4 : MOV dword ptr [ESI + 0x8],EAX
0087e2c7 : MOV dword ptr [ESI + 0xc],EAX
0087e2ca : CALL 0x006f04e0
0087e2d8 : MOV ECX,dword ptr [EBX + 0x3c]
0087e2db : MOV ESI,dword ptr [EBX + 0x38]
0087e2de : CMP ESI,ECX
0087e2e0 : JZ 0x0087e306
0087e2e2 : MOV EAX,ECX
0087e2e4 : SUB EAX,ECX
0087e2e6 : SAR EAX,0x2
0087e2e9 : LEA EDX,[EAX*0x4 + 0x0]
0087e2f0 : LEA EDI,[EDX + ESI*0x1]
0087e2f3 : TEST EAX,EAX
0087e2f5 : JLE 0x0087e303
0087e2f7 : PUSH EDX
0087e2f8 : PUSH ECX
0087e2f9 : PUSH EDX
0087e2fa : PUSH ESI
0087e2fb : CALL 0x00634101
0087e300 : ADD ESP,0x10
0087e303 : MOV dword ptr [EBX + 0x3c],EDI
0087e306 : MOV EDI,dword ptr [EBX + 0x48]
0087e309 : MOV dword ptr [EBP + -0x4],EDI
0087e30c : CMP EDI,dword ptr [EBX + 0x4c]
0087e30f : JZ 0x0087e3ad
0087e315 : MOV ESI,dword ptr [EDI]
0087e317 : MOV ECX,dword ptr [ESI + 0x8]
0087e31a : MOV EAX,dword ptr [ESI + 0x4]
0087e31d : CMP EAX,ECX
0087e31f : JZ 0x0087e351
0087e321 : MOV byte ptr [EBP + 0x8],0x0
0087e325 : MOV EDX,dword ptr [EBP + 0x8]
0087e328 : PUSH EDX
0087e329 : MOV EDX,dword ptr [EBP + 0x8]
0087e32c : PUSH EDX
0087e32d : MOV EDX,dword ptr [EBP + 0x8]
0087e330 : PUSH EDX
0087e331 : MOV EDI,ECX
0087e333 : CALL 0x0043fb10
0087e338 : MOV EDX,dword ptr [ESI + 0x8]
0087e33b : MOV EDI,EAX
0087e33d : MOV EAX,dword ptr [EBP + 0x8]
0087e340 : PUSH EAX
0087e341 : MOV ECX,EDI
0087e343 : CALL 0x0043fb60
0087e348 : MOV dword ptr [ESI + 0x8],EDI
0087e34b : MOV EDI,dword ptr [EBP + -0x4]
0087e34e : ADD ESP,0x10
0087e351 : MOV EAX,dword ptr [EBX + 0x4c]
0087e354 : LEA ECX,[EDI + 0x4]
0087e357 : SUB EAX,ECX
0087e359 : SAR EAX,0x2
0087e35c : TEST EAX,EAX
0087e35e : JLE 0x0087e370
0087e360 : ADD EAX,EAX
0087e362 : ADD EAX,EAX
0087e364 : PUSH EAX
0087e365 : PUSH ECX
0087e366 : PUSH EAX
0087e367 : PUSH EDI
0087e368 : CALL 0x00634101
0087e36d : ADD ESP,0x10
0087e370 : ADD dword ptr [EBX + 0x4c],-0x4
0087e374 : MOV ECX,dword ptr [ESI + 0x4]
0087e377 : TEST ECX,ECX
0087e379 : JZ 0x0087e392
0087e37b : MOV EDX,dword ptr [EBP + 0x8]
0087e37e : PUSH EDX
0087e37f : MOV EDX,dword ptr [ESI + 0x8]
0087e382 : CALL 0x0043fb60
0087e387 : MOV ECX,dword ptr [ESI + 0x4]
0087e38a : ADD ESP,0x4
0087e38d : CALL 0x006f04e0
0087e392 : XOR EAX,EAX
0087e394 : MOV ECX,ESI
0087e396 : MOV dword ptr [ESI + 0x4],EAX
0087e399 : MOV dword ptr [ESI + 0x8],EAX
0087e39c : MOV dword ptr [ESI + 0xc],EAX
0087e39f : CALL 0x006f04e0
0087e3ad : MOV ECX,dword ptr [EBX + 0x4c]
0087e3b0 : MOV ESI,dword ptr [EBX + 0x48]
0087e3b3 : CMP ESI,ECX
0087e3b5 : JZ 0x0087e3db
0087e3b7 : MOV EAX,ECX
0087e3b9 : SUB EAX,ECX
0087e3bb : SAR EAX,0x2
0087e3be : LEA EDX,[EAX*0x4 + 0x0]
0087e3c5 : LEA EDI,[EDX + ESI*0x1]
0087e3c8 : TEST EAX,EAX
0087e3ca : JLE 0x0087e3d8
0087e3cc : PUSH EDX
0087e3cd : PUSH ECX
0087e3ce : PUSH EDX
0087e3cf : PUSH ESI
0087e3d0 : CALL 0x00634101
0087e3d5 : ADD ESP,0x10
0087e3d8 : MOV dword ptr [EBX + 0x4c],EDI
0087e3db : POP EDI
0087e3dc : POP ESI
0087e3dd : POP EBX
0087e3de : MOV ESP,EBP
0087e3e0 : POP EBP
0087e3e1 : RET 0x4
