PROGRAM  : Maestia.exe
FUNCTION : FUN_00889e10
ENTRY    : 00889e10
BODY     : [[00889e10, 00889fdd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00889e10(int param_1,int param_2,undefined1 param_3,int param_4,int param_5,
                 undefined1 param_6)

{
  int *piVar1;
  int iVar2;
  float fVar3;
  float fVar4;
  char cVar5;
  short sVar6;
  int *in_ECX;
  bool bVar7;
  
  in_ECX[0xb1] = param_2;
  in_ECX[0x9d] = param_1;
  in_ECX[0x89] = param_4;
  in_ECX[0x75] = param_5;
  *(undefined1 *)((int)in_ECX + 0x1be) = param_6;
  *(undefined1 *)((int)in_ECX + 0xdb) = param_3;
  in_ECX[0xc5] = 1;
  iVar2 = *(int *)(in_ECX[0x4e] + 4);
  piVar1 = in_ECX + 0x402;
  sVar6 = FUN_0043d970();
  if (sVar6 == 1000) {
    bVar7 = *(int **)((int)in_ECX + iVar2 + 0x13c) == piVar1;
  }
  else if (sVar6 == 2000) {
    bVar7 = *(int **)((int)in_ECX + iVar2 + 0x140) == piVar1;
  }
  else {
    bVar7 = *(int **)((int)in_ECX + iVar2 + 0x144) == piVar1;
  }
  if (!bVar7) {
    piVar1 = in_ECX + 0x41e;
    sVar6 = FUN_0043d970();
    if (sVar6 == 1000) {
      bVar7 = *(int **)((int)in_ECX + iVar2 + 0x13c) == piVar1;
    }
    else if (sVar6 == 2000) {
      bVar7 = *(int **)((int)in_ECX + iVar2 + 0x140) == piVar1;
    }
    else {
      bVar7 = *(int **)((int)in_ECX + iVar2 + 0x144) == piVar1;
    }
    if (!bVar7) {
      cVar5 = FUN_0040df60();
      if (((cVar5 == '\0') || (iVar2 = *(int *)((int)in_ECX + iVar2 + 0x13c), iVar2 == 0)) ||
         (*(char *)(iVar2 + 5) != '\0')) {
        (**(code **)(*(int *)(*(int *)(in_ECX[0x4e] + 4) + 0x138 + (int)in_ECX) + 0x10))
                  (piVar1,0,1,0);
      }
      else {
        (**(code **)(*(int *)(*(int *)(in_ECX[0x4e] + 4) + 0x138 + (int)in_ECX) + 0x10))
                  (piVar1,1,1,0);
      }
      goto LAB_00889f5c;
    }
  }
  (**(code **)(*in_ECX + 0xe0))();
LAB_00889f5c:
  iVar2 = in_ECX[0x154];
  if (iVar2 != 0) {
    fVar3 = (float)in_ECX[0x153];
    if (in_ECX[0x153] < 0) {
      fVar3 = fVar3 + 4.2949673e+09;
    }
    fVar4 = (float)iVar2;
    if (iVar2 < 0) {
      fVar4 = fVar4 + 4.2949673e+09;
    }
    fVar3 = (fVar3 + 1e-06) / (fVar4 + 1e-06);
    in_ECX[0x5d] = (int)fVar3;
    if (fVar3 < 0.1) {
      in_ECX[0x5d] = 0x3dcccccd;
    }
    if (10.0 < (float)in_ECX[0x5d]) {
      in_ECX[0x5d] = 0x41200000;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00889e10 : PUSH EBP
00889e11 : MOV EBP,ESP
00889e13 : MOV EAX,dword ptr [EBP + 0xc]
00889e16 : MOV EDX,dword ptr [EBP + 0x14]
00889e19 : PUSH EBX
00889e1a : PUSH ESI
00889e1b : MOV ESI,ECX
00889e1d : MOV ECX,dword ptr [EBP + 0x8]
00889e20 : MOV dword ptr [ESI + 0x2c4],EAX
00889e26 : MOV EAX,dword ptr [EBP + 0x18]
00889e29 : MOV dword ptr [ESI + 0x274],ECX
00889e2f : MOV CL,byte ptr [EBP + 0x1c]
00889e32 : MOV dword ptr [ESI + 0x224],EDX
00889e38 : MOV DL,byte ptr [EBP + 0x10]
00889e3b : MOV dword ptr [ESI + 0x1d4],EAX
00889e41 : MOV EAX,dword ptr [ESI + 0x138]
00889e47 : MOV byte ptr [ESI + 0x1be],CL
00889e4d : MOV byte ptr [ESI + 0xdb],DL
00889e53 : MOV dword ptr [ESI + 0x314],0x1
00889e5d : MOV EAX,dword ptr [EAX + 0x4]
00889e60 : PUSH EDI
00889e61 : LEA EDI,[ESI + 0x1008]
00889e67 : LEA EBX,[EAX + ESI*0x1]
00889e6a : MOV AX,word ptr [EDI + 0x2a]
00889e6e : CALL 0x0043d970
00889e73 : MOV ECX,0x3e8
00889e78 : CMP AX,CX
00889e7b : JNZ 0x00889e85
00889e7d : CMP dword ptr [EBX + 0x13c],EDI
00889e83 : JMP 0x00889e9d
00889e85 : MOV EDX,0x7d0
00889e8a : CMP AX,DX
00889e8d : JNZ 0x00889e97
00889e8f : CMP dword ptr [EBX + 0x140],EDI
00889e95 : JMP 0x00889e9d
00889e97 : CMP dword ptr [EBX + 0x144],EDI
00889e9d : SETZ AL
00889ea0 : TEST AL,AL
00889ea2 : JNZ 0x00889f50
00889ea8 : MOV AX,word ptr [ESI + 0x10a2]
00889eaf : LEA EDI,[ESI + 0x1078]
00889eb5 : CALL 0x0043d970
00889eba : MOV ECX,0x3e8
00889ebf : CMP AX,CX
00889ec2 : JNZ 0x00889ecc
00889ec4 : CMP dword ptr [EBX + 0x13c],EDI
00889eca : JMP 0x00889ee4
00889ecc : MOV EDX,0x7d0
00889ed1 : CMP AX,DX
00889ed4 : JNZ 0x00889ede
00889ed6 : CMP dword ptr [EBX + 0x140],EDI
00889edc : JMP 0x00889ee4
00889ede : CMP dword ptr [EBX + 0x144],EDI
00889ee4 : SETZ AL
00889ee7 : TEST AL,AL
00889ee9 : JNZ 0x00889f50
00889eeb : MOV EAX,ESI
00889eed : CALL 0x0040df60
00889ef2 : TEST AL,AL
00889ef4 : JZ 0x00889f2b
00889ef6 : MOV EBX,dword ptr [EBX + 0x13c]
00889efc : TEST EBX,EBX
00889efe : JZ 0x00889f2b
00889f00 : CMP byte ptr [EBX + 0x5],0x0
00889f04 : JNZ 0x00889f2b
00889f06 : MOV EAX,dword ptr [ESI + 0x138]
00889f0c : MOV EAX,dword ptr [EAX + 0x4]
00889f0f : MOV EDX,dword ptr [EAX + ESI*0x1 + 0x138]
00889f16 : PUSH 0x0
00889f18 : LEA ECX,[EAX + ESI*0x1 + 0x138]
00889f1f : MOV EAX,dword ptr [EDX + 0x10]
00889f22 : PUSH 0x1
00889f24 : PUSH 0x1
00889f26 : PUSH EDI
00889f27 : CALL EAX
00889f29 : JMP 0x00889f5c
00889f2b : MOV EAX,dword ptr [ESI + 0x138]
00889f31 : MOV ECX,dword ptr [EAX + 0x4]
00889f34 : MOV EDX,dword ptr [ECX + ESI*0x1 + 0x138]
00889f3b : MOV EAX,dword ptr [EDX + 0x10]
00889f3e : PUSH 0x0
00889f40 : PUSH 0x1
00889f42 : LEA ECX,[ECX + ESI*0x1 + 0x138]
00889f49 : PUSH 0x0
00889f4b : PUSH EDI
00889f4c : CALL EAX
00889f4e : JMP 0x00889f5c
00889f50 : MOV EDX,dword ptr [ESI]
00889f52 : MOV EAX,dword ptr [EDX + 0xe0]
00889f58 : MOV ECX,ESI
00889f5a : CALL EAX
00889f5c : MOV EAX,dword ptr [ESI + 0x550]
00889f62 : TEST EAX,EAX
00889f64 : JZ 0x00889fd7
00889f66 : MOV ECX,dword ptr [ESI + 0x54c]
00889f6c : FILD dword ptr [ESI + 0x54c]
00889f72 : TEST ECX,ECX
00889f74 : JGE 0x00889f7c
00889f76 : FADD float ptr [0x00cdf0e0]
00889f7c : FLD float ptr [0x00cdf414]
00889f82 : MOV dword ptr [EBP + 0x1c],EAX
00889f85 : FADD ST1,ST0
00889f87 : FILD dword ptr [EBP + 0x1c]
00889f8a : TEST EAX,EAX
00889f8c : JGE 0x00889f94
00889f8e : FADD float ptr [0x00cdf0e0]
00889f94 : FADDP
00889f96 : FDIVP
00889f98 : FST float ptr [ESI + 0x174]
00889f9e : FLD float ptr [0x00cdf0f0]
00889fa4 : FCOMIP ST0,ST1
00889fa6 : FSTP ST0
00889fa8 : JBE 0x00889fba
00889faa : MOVSS XMM0,dword ptr [0x00cdf0f0]
00889fb2 : MOVSS dword ptr [ESI + 0x174],XMM0
00889fba : MOVSS XMM1,dword ptr [ESI + 0x174]
00889fc2 : MOVSS XMM0,dword ptr [0x00c18874]
00889fca : COMISS XMM1,XMM0
00889fcd : JBE 0x00889fd7
00889fcf : MOVSS dword ptr [ESI + 0x174],XMM0
00889fd7 : POP EDI
00889fd8 : POP ESI
00889fd9 : POP EBX
00889fda : POP EBP
00889fdb : RET 0x18
