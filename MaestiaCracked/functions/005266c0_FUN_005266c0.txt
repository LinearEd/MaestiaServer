PROGRAM  : Maestia.exe
FUNCTION : FUN_005266c0
ENTRY    : 005266c0
BODY     : [[005266c0, 00526878]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005266c0(undefined1 *param_1)

{
  int iVar1;
  int *piVar2;
  undefined1 *in_ECX;
  int unaff_ESI;
  int iStack_c;
  byte bStack_8;
  
  *in_ECX = *param_1;
  switch(*param_1) {
  case 2:
    in_ECX[4] = param_1[4];
    return;
  case 3:
    *(undefined8 *)(in_ECX + 4) = *(undefined8 *)(param_1 + 4);
    return;
  case 4:
    *(undefined4 *)(in_ECX + 4) = *(undefined4 *)(param_1 + 4);
    return;
  case 5:
  case 0xb:
    iVar1 = *(int *)(param_1 + 4);
    *(int *)(in_ECX + 4) = iVar1;
    piVar2 = (int *)(iVar1 + 8);
    *piVar2 = *piVar2 + 1;
    return;
  case 6:
    if (*(int *)(param_1 + 4) == 0) {
      *(undefined4 *)(in_ECX + 4) = 0;
      return;
    }
    iVar1 = (**(code **)(*(int *)(*(int *)(param_1 + 4) + 0x10) + 8))();
    if (iVar1 != 0x17) {
      iVar1 = *(int *)(param_1 + 4);
      *(int *)(in_ECX + 4) = iVar1;
      *(uint *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1U & 0x8fffffff;
      return;
    }
    *in_ECX = 8;
    piVar2 = (int *)(**(code **)(*(int *)(*(int *)(param_1 + 4) + 0x10) + 0x30))(&iStack_c);
    in_ECX[0xc] = 0;
    iVar1 = *piVar2;
    *(int *)(in_ECX + 4) = iVar1;
    if (iVar1 != 0) {
      *(uint *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1U & 0x8fffffff;
    }
    *(undefined4 *)(in_ECX + 8) = 0;
    if (piVar2[1] != 0) {
      FUN_005686c0(piVar2[1],*(byte *)(piVar2 + 2) & 1);
    }
    if (((bStack_8 & 2) == 0) && (unaff_ESI != 0)) {
      FUN_00503db0();
    }
    if (((bStack_8 & 1) == 0) && (iStack_c != 0)) {
      FUN_00503db0();
      return;
    }
    break;
  case 7:
    piVar2 = *(int **)(param_1 + 4);
    *(int **)(in_ECX + 4) = piVar2;
    if (piVar2 != (int *)0x0) {
      *piVar2 = *piVar2 + 1;
      return;
    }
    break;
  case 8:
  case 0xc:
    in_ECX[0xc] = 0;
    iVar1 = *(int *)(param_1 + 4);
    *(int *)(in_ECX + 4) = iVar1;
    if (iVar1 != 0) {
      *(uint *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1U & 0x8fffffff;
    }
    *(undefined4 *)(in_ECX + 8) = 0;
    if (*(int *)(param_1 + 8) != 0) {
      FUN_005686c0(*(int *)(param_1 + 8),param_1[0xc] & 1);
      return;
    }
    break;
  case 9:
    iVar1 = *(int *)(param_1 + 4);
    *(int *)(in_ECX + 4) = iVar1;
    *(uint *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1U & 0x8fffffff;
    break;
  case 10:
    break;
  default:
    goto switchD_005266df_default;
  }
switchD_005266df_default:
  return;
}



============================================================
DISASSEMBLY
============================================================
005266c0 : SUB ESP,0xc
005266c3 : PUSH ESI
005266c4 : MOV ESI,dword ptr [ESP + 0x14]
005266c8 : MOV AL,byte ptr [ESI]
005266ca : PUSH EDI
005266cb : MOV EDI,ECX
005266cd : MOV byte ptr [EDI],AL
005266cf : MOVZX EAX,byte ptr [ESI]
005266d2 : ADD EAX,-0x2
005266d5 : CMP EAX,0xa
005266d8 : JA 0x0052686f
005266de : PUSH EBX
005266df : JMP dword ptr [EAX*0x4 + 0x52687c]
005266e6 : MOV CL,byte ptr [ESI + 0x4]
005266e9 : POP EBX
005266ea : MOV byte ptr [EDI + 0x4],CL
005266ed : MOV EAX,EDI
005266ef : POP EDI
005266f0 : POP ESI
005266f1 : ADD ESP,0xc
005266f4 : RET 0x4
005266f7 : MOV ESI,dword ptr [ESI + 0x4]
005266fa : MOV dword ptr [EDI + 0x4],ESI
005266fd : INC dword ptr [ESI + 0x8]
00526700 : POP EBX
00526701 : MOV EAX,EDI
00526703 : POP EDI
00526704 : POP ESI
00526705 : ADD ESP,0xc
00526708 : RET 0x4
0052670b : FLD double ptr [ESI + 0x4]
0052670e : POP EBX
0052670f : FSTP double ptr [EDI + 0x4]
00526712 : MOV EAX,EDI
00526714 : POP EDI
00526715 : POP ESI
00526716 : ADD ESP,0xc
00526719 : RET 0x4
0052671c : MOV EDX,dword ptr [ESI + 0x4]
0052671f : POP EBX
00526720 : MOV dword ptr [EDI + 0x4],EDX
00526723 : MOV EAX,EDI
00526725 : POP EDI
00526726 : POP ESI
00526727 : ADD ESP,0xc
0052672a : RET 0x4
0052672d : MOV EAX,dword ptr [ESI + 0x4]
00526730 : XOR EBX,EBX
00526732 : CMP EAX,EBX
00526734 : JZ 0x005267f4
0052673a : LEA ECX,[EAX + 0x10]
0052673d : MOV EAX,dword ptr [ECX]
0052673f : MOV EDX,dword ptr [EAX + 0x8]
00526742 : CALL EDX
00526744 : CMP EAX,0x17
00526747 : JNZ 0x005267d6
0052674d : MOV byte ptr [EDI],0x8
00526750 : MOV ESI,dword ptr [ESI + 0x4]
00526753 : MOV EAX,dword ptr [ESI + 0x10]
00526756 : MOV EAX,dword ptr [EAX + 0x30]
00526759 : LEA ECX,[ESI + 0x10]
0052675c : LEA EDX,[ESP + 0xc]
00526760 : PUSH EDX
00526761 : CALL EAX
00526763 : LEA ECX,[EDI + 0x4]
00526766 : MOV byte ptr [ECX + 0x8],BL
00526769 : MOV EDX,dword ptr [EAX]
0052676b : MOV dword ptr [ECX],EDX
0052676d : CMP EDX,EBX
0052676f : JZ 0x0052677e
00526771 : MOV ESI,dword ptr [EDX + 0x8]
00526774 : INC ESI
00526775 : AND ESI,0x8fffffff
0052677b : MOV dword ptr [EDX + 0x8],ESI
0052677e : MOV dword ptr [ECX + 0x4],EBX
00526781 : MOV EDX,dword ptr [EAX + 0x4]
00526784 : CMP EDX,EBX
00526786 : JZ 0x00526797
00526788 : MOV AL,byte ptr [EAX + 0x8]
0052678b : AND AL,0x1
0052678d : MOVZX EAX,AL
00526790 : PUSH EAX
00526791 : PUSH EDX
00526792 : CALL 0x005686c0
00526797 : TEST byte ptr [ESP + 0x14],0x2
0052679c : JNZ 0x005267ab
0052679e : MOV ECX,dword ptr [ESP + 0xc]
005267a2 : CMP ECX,EBX
005267a4 : JZ 0x005267ab
005267a6 : CALL 0x00503db0
005267ab : TEST byte ptr [ESP + 0x14],0x1
005267b0 : MOV dword ptr [ESP + 0xc],EBX
005267b4 : JNZ 0x0052686e
005267ba : MOV ECX,dword ptr [ESP + 0x10]
005267be : CMP ECX,EBX
005267c0 : JZ 0x0052686e
005267c6 : CALL 0x00503db0
005267cb : POP EBX
005267cc : MOV EAX,EDI
005267ce : POP EDI
005267cf : POP ESI
005267d0 : ADD ESP,0xc
005267d3 : RET 0x4
005267d6 : MOV ESI,dword ptr [ESI + 0x4]
005267d9 : MOV dword ptr [EDI + 0x4],ESI
005267dc : MOV ECX,dword ptr [ESI + 0x8]
005267df : INC ECX
005267e0 : POP EBX
005267e1 : AND ECX,0x8fffffff
005267e7 : MOV EAX,EDI
005267e9 : POP EDI
005267ea : MOV dword ptr [ESI + 0x8],ECX
005267ed : POP ESI
005267ee : ADD ESP,0xc
005267f1 : RET 0x4
005267f4 : MOV dword ptr [EDI + 0x4],EBX
005267f7 : POP EBX
005267f8 : MOV EAX,EDI
005267fa : POP EDI
005267fb : POP ESI
005267fc : ADD ESP,0xc
005267ff : RET 0x4
00526802 : MOV ESI,dword ptr [ESI + 0x4]
00526805 : MOV dword ptr [EDI + 0x4],ESI
00526808 : TEST ESI,ESI
0052680a : JZ 0x0052686e
0052680c : INC dword ptr [ESI]
0052680e : POP EBX
0052680f : MOV EAX,EDI
00526811 : POP EDI
00526812 : POP ESI
00526813 : ADD ESP,0xc
00526816 : RET 0x4
00526819 : LEA ECX,[EDI + 0x4]
0052681c : XOR EBX,EBX
0052681e : MOV byte ptr [ECX + 0x8],BL
00526821 : MOV EAX,dword ptr [ESI + 0x4]
00526824 : MOV dword ptr [ECX],EAX
00526826 : CMP EAX,EBX
00526828 : JZ 0x00526837
0052682a : MOV EDX,dword ptr [EAX + 0x8]
0052682d : INC EDX
0052682e : AND EDX,0x8fffffff
00526834 : MOV dword ptr [EAX + 0x8],EDX
00526837 : MOV dword ptr [ECX + 0x4],EBX
0052683a : MOV EAX,dword ptr [ESI + 0x8]
0052683d : CMP EAX,EBX
0052683f : JZ 0x0052686e
00526841 : MOV DL,byte ptr [ESI + 0xc]
00526844 : AND DL,0x1
00526847 : MOVZX EDX,DL
0052684a : PUSH EDX
0052684b : PUSH EAX
0052684c : CALL 0x005686c0
00526851 : POP EBX
00526852 : MOV EAX,EDI
00526854 : POP EDI
00526855 : POP ESI
00526856 : ADD ESP,0xc
00526859 : RET 0x4
0052685c : MOV ESI,dword ptr [ESI + 0x4]
0052685f : MOV dword ptr [EDI + 0x4],ESI
00526862 : MOV EAX,dword ptr [ESI + 0x8]
00526865 : INC EAX
00526866 : AND EAX,0x8fffffff
0052686b : MOV dword ptr [ESI + 0x8],EAX
0052686e : POP EBX
0052686f : MOV EAX,EDI
00526871 : POP EDI
00526872 : POP ESI
00526873 : ADD ESP,0xc
00526876 : RET 0x4
