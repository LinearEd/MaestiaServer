PROGRAM  : Maestia.exe
FUNCTION : FUN_005aa780
ENTRY    : 005aa780
BODY     : [[005aa780, 005aa7de]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005aa780(int param_1,uint param_2,int param_3)

{
  uint *puVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  undefined4 *puVar6;
  
  uVar5 = (param_2 - 1) + param_3;
  uVar2 = param_2 >> 5;
  uVar4 = uVar5 >> 5;
  uVar5 = uVar5 & 0x1f;
  if (uVar4 <= uVar2) {
    puVar1 = (uint *)(param_1 + uVar2 * 4);
    *puVar1 = *puVar1 & (*(uint *)(&DAT_00b952c8 + (param_2 & 0x1f) * 4) |
                        *(uint *)(&DAT_00b95348 + uVar5 * 4));
    return;
  }
  puVar1 = (uint *)(param_1 + uVar2 * 4);
  *puVar1 = *puVar1 & *(uint *)(&DAT_00b952c8 + (param_2 & 0x1f) * 4);
  uVar2 = uVar2 + 1;
  if (uVar2 < uVar4) {
    puVar6 = (undefined4 *)(param_1 + uVar2 * 4);
    for (iVar3 = uVar4 - uVar2; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar6 = 0;
      puVar6 = puVar6 + 1;
    }
  }
  puVar1 = (uint *)(param_1 + uVar4 * 4);
  *puVar1 = *puVar1 & *(uint *)(&DAT_00b95348 + uVar5 * 4);
  return;
}



============================================================
DISASSEMBLY
============================================================
005aa780 : MOV ECX,dword ptr [ESP + 0x8]
005aa784 : MOV EDX,dword ptr [ESP + 0xc]
005aa788 : PUSH ESI
005aa789 : LEA ESI,[ECX + EDX*0x1 + -0x1]
005aa78d : MOV EAX,ECX
005aa78f : MOV EDX,ESI
005aa791 : SHR EAX,0x5
005aa794 : SHR EDX,0x5
005aa797 : AND ECX,0x1f
005aa79a : MOV ECX,dword ptr [ECX*0x4 + 0xb952c8]
005aa7a1 : AND ESI,0x1f
005aa7a4 : CMP EDX,EAX
005aa7a6 : JBE 0x005aa7cf
005aa7a8 : PUSH EBX
005aa7a9 : MOV EBX,dword ptr [ESP + 0xc]
005aa7ad : AND dword ptr [EBX + EAX*0x4],ECX
005aa7b0 : INC EAX
005aa7b1 : CMP EAX,EDX
005aa7b3 : JNC 0x005aa7c2
005aa7b5 : PUSH EDI
005aa7b6 : MOV ECX,EDX
005aa7b8 : LEA EDI,[EBX + EAX*0x4]
005aa7bb : SUB ECX,EAX
005aa7bd : XOR EAX,EAX
005aa7bf : STOSD.REP ES:EDI
005aa7c1 : POP EDI
005aa7c2 : MOV EAX,dword ptr [ESI*0x4 + 0xb95348]
005aa7c9 : AND dword ptr [EBX + EDX*0x4],EAX
005aa7cc : POP EBX
005aa7cd : POP ESI
005aa7ce : RET
005aa7cf : OR ECX,dword ptr [ESI*0x4 + 0xb95348]
005aa7d6 : MOV EDX,dword ptr [ESP + 0x8]
005aa7da : AND dword ptr [EDX + EAX*0x4],ECX
005aa7dd : POP ESI
005aa7de : RET
