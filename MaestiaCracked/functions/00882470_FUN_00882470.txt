PROGRAM  : Maestia.exe
FUNCTION : FUN_00882470
ENTRY    : 00882470
BODY     : [[00882470, 00882542] [00882546, 008825c2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00882470(int *param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  undefined4 *puVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  int *piVar8;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b14ba1;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8 = 0;
  uVar5 = param_1[6];
  piVar8 = (int *)*param_1;
  do {
    if ((piVar8 == (int *)*param_1) && (uVar5 == param_1[7] + param_1[6])) {
      FUN_00476f00(uVar1);
      local_8 = 0xffffffff;
      FUN_00443d10(param_1);
      ExceptionList = local_10;
      return;
    }
    uVar7 = uVar5 >> 2;
    uVar6 = uVar5 & 3;
    if (piVar8 == (int *)0x0) {
      iVar3 = 0;
    }
    else {
      iVar3 = *piVar8;
    }
    uVar2 = uVar7;
    if (*(uint *)(iVar3 + 0x14) <= uVar7) {
      if (piVar8 == (int *)0x0) {
        iVar3 = 0;
      }
      else {
        iVar3 = *piVar8;
      }
      uVar2 = uVar7 - *(int *)(iVar3 + 0x14);
    }
    if (piVar8 == (int *)0x0) {
      iVar3 = 0;
    }
    else {
      iVar3 = *piVar8;
    }
    if (*(int *)(*(int *)(*(int *)(iVar3 + 0x10) + uVar2 * 4) + uVar6 * 4) != 0) {
      if (piVar8 == (int *)0x0) {
        iVar3 = 0;
      }
      else {
        iVar3 = *piVar8;
      }
      uVar2 = uVar7;
      if (*(uint *)(iVar3 + 0x14) <= uVar7) {
        if (piVar8 == (int *)0x0) {
          iVar3 = 0;
        }
        else {
          iVar3 = *piVar8;
        }
        uVar2 = uVar7 - *(int *)(iVar3 + 0x14);
      }
      if (piVar8 == (int *)0x0) {
        iVar3 = 0;
      }
      else {
        iVar3 = *piVar8;
      }
      iVar3 = *(int *)(*(int *)(*(int *)(iVar3 + 0x10) + uVar2 * 4) + uVar6 * 4);
      if (iVar3 != 0) {
        FUN_00406bd0(iVar3);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      if (piVar8 == (int *)0x0) {
        iVar3 = 0;
      }
      else {
        iVar3 = *piVar8;
      }
      if (*(uint *)(iVar3 + 0x14) <= uVar7) {
        if (piVar8 == (int *)0x0) {
          iVar3 = 0;
        }
        else {
          iVar3 = *piVar8;
        }
        uVar7 = uVar7 - *(int *)(iVar3 + 0x14);
      }
      if (piVar8 == (int *)0x0) {
        iVar3 = 0;
      }
      else {
        iVar3 = *piVar8;
      }
      *(undefined4 *)(*(int *)(*(int *)(iVar3 + 0x10) + uVar7 * 4) + uVar6 * 4) = 0;
    }
    puVar4 = (undefined4 *)FUN_0043e9f0(param_1,piVar8,uVar5);
    piVar8 = (int *)*puVar4;
    uVar5 = puVar4[1];
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00882470 : PUSH EBP
00882471 : MOV EBP,ESP
00882473 : PUSH -0x1
00882475 : PUSH 0xb14ba1
0088247a : MOV EAX,FS:[0x0]
00882480 : PUSH EAX
00882481 : SUB ESP,0x18
00882484 : PUSH EBX
00882485 : PUSH ESI
00882486 : PUSH EDI
00882487 : MOV EAX,[0x00d66fa0]
0088248c : XOR EAX,EBP
0088248e : PUSH EAX
0088248f : LEA EAX,[EBP + -0xc]
00882492 : MOV FS:[0x0],EAX
00882498 : MOV dword ptr [EBP + -0x4],0x0
0088249f : MOV EDI,dword ptr [EBP + 0x8]
008824a2 : MOV EAX,dword ptr [EDI + 0x18]
008824a5 : MOV ESI,dword ptr [EDI]
008824a7 : MOV EDX,EAX
008824a9 : MOV dword ptr [EBP + -0x18],EDX
008824ac : LEA ESP,[ESP]
008824b0 : MOV EAX,dword ptr [EDI + 0x1c]
008824b3 : ADD EAX,dword ptr [EDI + 0x18]
008824b6 : CMP ESI,dword ptr [EDI]
008824b8 : JNZ 0x008824c2
008824ba : CMP EDX,EAX
008824bc : JZ 0x0088259b
008824c2 : MOV EBX,EDX
008824c4 : SHR EBX,0x2
008824c7 : AND EDX,0x3
008824ca : MOV EAX,EBX
008824cc : MOV dword ptr [EBP + -0x14],EDX
008824cf : TEST ESI,ESI
008824d1 : JZ 0x008824d7
008824d3 : MOV ECX,dword ptr [ESI]
008824d5 : JMP 0x008824d9
008824d7 : XOR ECX,ECX
008824d9 : CMP dword ptr [ECX + 0x14],EAX
008824dc : JA 0x008824eb
008824de : TEST ESI,ESI
008824e0 : JZ 0x008824e6
008824e2 : MOV ECX,dword ptr [ESI]
008824e4 : JMP 0x008824e8
008824e6 : XOR ECX,ECX
008824e8 : SUB EAX,dword ptr [ECX + 0x14]
008824eb : TEST ESI,ESI
008824ed : JZ 0x008824f3
008824ef : MOV ECX,dword ptr [ESI]
008824f1 : JMP 0x008824f5
008824f3 : XOR ECX,ECX
008824f5 : MOV ECX,dword ptr [ECX + 0x10]
008824f8 : MOV EAX,dword ptr [ECX + EAX*0x4]
008824fb : CMP dword ptr [EAX + EDX*0x4],0x0
008824ff : JZ 0x0088257e
00882501 : MOV ECX,EBX
00882503 : TEST ESI,ESI
00882505 : JZ 0x0088250b
00882507 : MOV EAX,dword ptr [ESI]
00882509 : JMP 0x0088250d
0088250b : XOR EAX,EAX
0088250d : CMP dword ptr [EAX + 0x14],ECX
00882510 : JA 0x0088251f
00882512 : TEST ESI,ESI
00882514 : JZ 0x0088251a
00882516 : MOV EAX,dword ptr [ESI]
00882518 : JMP 0x0088251c
0088251a : XOR EAX,EAX
0088251c : SUB ECX,dword ptr [EAX + 0x14]
0088251f : TEST ESI,ESI
00882521 : JZ 0x00882527
00882523 : MOV EAX,dword ptr [ESI]
00882525 : JMP 0x00882529
00882527 : XOR EAX,EAX
00882529 : MOV EAX,dword ptr [EAX + 0x10]
0088252c : MOV ECX,dword ptr [EAX + ECX*0x4]
0088252f : MOV EDI,dword ptr [ECX + EDX*0x4]
00882532 : TEST EDI,EDI
00882534 : JZ 0x00882546
00882536 : PUSH EDI
00882537 : CALL 0x00406bd0
0088253c : MOV ECX,EDI
0088253e : CALL 0x006f04e0
00882546 : MOV ECX,EBX
00882548 : TEST ESI,ESI
0088254a : JZ 0x00882550
0088254c : MOV EAX,dword ptr [ESI]
0088254e : JMP 0x00882552
00882550 : XOR EAX,EAX
00882552 : CMP dword ptr [EAX + 0x14],ECX
00882555 : JA 0x00882564
00882557 : TEST ESI,ESI
00882559 : JZ 0x0088255f
0088255b : MOV EAX,dword ptr [ESI]
0088255d : JMP 0x00882561
0088255f : XOR EAX,EAX
00882561 : SUB ECX,dword ptr [EAX + 0x14]
00882564 : TEST ESI,ESI
00882566 : JZ 0x0088256c
00882568 : MOV EAX,dword ptr [ESI]
0088256a : JMP 0x0088256e
0088256c : XOR EAX,EAX
0088256e : MOV EAX,dword ptr [EAX + 0x10]
00882571 : MOV ECX,dword ptr [EAX + ECX*0x4]
00882574 : MOV EDI,dword ptr [EBP + 0x8]
00882577 : MOV dword ptr [ECX + EDX*0x4],0x0
0088257e : MOV EDX,dword ptr [EBP + -0x18]
00882581 : PUSH EDX
00882582 : PUSH ESI
00882583 : PUSH EDI
00882584 : LEA ESI,[EBP + -0x24]
00882587 : CALL 0x0043e9f0
0088258c : MOV ESI,dword ptr [EAX]
0088258e : MOV EAX,dword ptr [EAX + 0x4]
00882591 : MOV dword ptr [EBP + -0x18],EAX
00882594 : MOV EDX,EAX
00882596 : JMP 0x008824b0
0088259b : MOV ESI,EDI
0088259d : CALL 0x00476f00
008825a2 : MOV dword ptr [EBP + -0x4],0xffffffff
008825a9 : PUSH EDI
008825aa : CALL 0x00443d10
008825af : MOV ECX,dword ptr [EBP + -0xc]
008825b2 : MOV dword ptr FS:[0x0],ECX
008825b9 : POP ECX
008825ba : POP EDI
008825bb : POP ESI
008825bc : POP EBX
008825bd : MOV ESP,EBP
008825bf : POP EBP
008825c0 : RET 0x4
