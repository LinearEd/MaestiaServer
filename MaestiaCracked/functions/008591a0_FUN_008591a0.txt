PROGRAM  : Maestia.exe
FUNCTION : FUN_008591a0
ENTRY    : 008591a0
BODY     : [[008591a0, 008594b0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008591a0(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  int *piVar4;
  int local_44 [4];
  float local_34;
  undefined4 local_30;
  int local_28;
  undefined4 local_24;
  undefined4 local_20;
  uint local_18 [2];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2a2b0;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar1 = *(int *)(param_1 + 0x410);
  if (*(int *)(iVar1 + 0x168) != *(int *)(iVar1 + 0x16c)) {
    local_18[0] = local_18[0] & 0xffffff00;
    uVar3 = FUN_0047b6d0(param_1,param_1,local_18[0],DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    *(undefined4 *)(iVar1 + 0x16c) = uVar3;
  }
  iVar1 = *(int *)(*(int *)(param_1 + 1000) + 0x288);
  if (iVar1 == 0) {
    FUN_008018d0(L"AvaPlayerCharacter::SetRightMoveAni() m_pCharNode->GetSkeleton() Failed");
    ExceptionList = local_10;
    return;
  }
  local_28 = 0;
  local_24 = 0;
  local_20 = 0;
  local_8 = 0;
  local_18[0] = 7;
  piVar4 = (int *)FUN_00484470(local_18);
  if ((*piVar4 != *(int *)(iVar1 + 0x24)) && (iVar2 = *(int *)(*piVar4 + 0x10), iVar2 != 0)) {
    local_44[2] = 0;
    local_44[3] = 0;
    local_34 = (float)-*(int *)(DAT_00da93ec + 0x68c) * 0.017453289;
    local_30 = 0;
    local_44[1] = 0x3f800000;
    local_44[0] = iVar2;
    FUN_0043a440(local_44);
  }
  local_18[0] = 6;
  piVar4 = (int *)FUN_00484470(local_18);
  if ((*piVar4 != *(int *)(iVar1 + 0x24)) && (iVar2 = *(int *)(*piVar4 + 0x10), iVar2 != 0)) {
    local_44[1] = 0x3f800000;
    local_44[2] = 0;
    local_44[3] = 0;
    local_34 = (float)-*(int *)(DAT_00da93ec + 0x694) * 0.017453289;
    local_30 = 0;
    local_44[0] = iVar2;
    FUN_0043a440(local_44);
  }
  local_18[0] = 3;
  piVar4 = (int *)FUN_00484470(local_18);
  if ((*piVar4 != *(int *)(iVar1 + 0x24)) && (iVar2 = *(int *)(*piVar4 + 0x10), iVar2 != 0)) {
    local_44[1] = 0x3f800000;
    local_44[2] = 0;
    local_44[3] = 0;
    local_34 = (float)-*(int *)(DAT_00da93ec + 0x698) * 0.017453289;
    local_30 = 0;
    local_44[0] = iVar2;
    FUN_0043a440(local_44);
  }
  local_18[0] = 4;
  piVar4 = (int *)FUN_00484470(local_18);
  if ((*piVar4 != *(int *)(iVar1 + 0x24)) && (iVar2 = *(int *)(*piVar4 + 0x10), iVar2 != 0)) {
    local_44[1] = 0x3f800000;
    local_44[2] = 0;
    local_44[3] = 0;
    local_34 = (float)-*(int *)(DAT_00da93ec + 0x69c) * 0.017453289;
    local_30 = 0;
    local_44[0] = iVar2;
    FUN_0043a440(local_44);
  }
  local_18[0] = 5;
  piVar4 = (int *)FUN_00484470(local_18);
  if ((*piVar4 != *(int *)(iVar1 + 0x24)) && (iVar1 = *(int *)(*piVar4 + 0x10), iVar1 != 0)) {
    local_44[1] = 0x3f800000;
    local_44[2] = 0;
    local_44[3] = 0;
    local_34 = (float)-*(int *)(DAT_00da93ec + 0x6a0) * 0.017453289;
    local_30 = 0;
    local_44[0] = iVar1;
    FUN_0043a440(local_44);
  }
  FUN_0079db20(*(undefined4 *)(param_1 + 0x410));
  local_8 = 0xffffffff;
  if (local_28 != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
008591a0 : PUSH EBP
008591a1 : MOV EBP,ESP
008591a3 : PUSH -0x1
008591a5 : PUSH 0xb2a2b0
008591aa : MOV EAX,FS:[0x0]
008591b0 : PUSH EAX
008591b1 : SUB ESP,0x38
008591b4 : PUSH EBX
008591b5 : PUSH ESI
008591b6 : PUSH EDI
008591b7 : MOV EAX,[0x00d66fa0]
008591bc : XOR EAX,EBP
008591be : PUSH EAX
008591bf : LEA EAX,[EBP + -0xc]
008591c2 : MOV FS:[0x0],EAX
008591c8 : MOV EAX,dword ptr [EBP + 0x8]
008591cb : MOV ESI,dword ptr [EAX + 0x410]
008591d1 : MOV ECX,dword ptr [ESI + 0x16c]
008591d7 : MOV EAX,dword ptr [ESI + 0x168]
008591dd : XOR EBX,EBX
008591df : CMP EAX,ECX
008591e1 : JZ 0x00859202
008591e3 : MOV byte ptr [EBP + -0x14],BL
008591e6 : MOV EDX,dword ptr [EBP + -0x14]
008591e9 : PUSH EDX
008591ea : MOV EDX,dword ptr [EBP + 0x8]
008591ed : PUSH EDX
008591ee : MOV EDX,dword ptr [EBP + 0x8]
008591f1 : PUSH EDX
008591f2 : MOV EDI,ECX
008591f4 : CALL 0x0047b6d0
008591f9 : ADD ESP,0xc
008591fc : MOV dword ptr [ESI + 0x16c],EAX
00859202 : MOV EAX,dword ptr [EBP + 0x8]
00859205 : MOV ECX,dword ptr [EAX + 0x3e8]
0085920b : MOV ESI,dword ptr [ECX + 0x288]
00859211 : CMP ESI,EBX
00859213 : JNZ 0x0085923c
00859215 : MOV ESI,dword ptr [0x00da98e8]
0085921b : PUSH 0xc3fcd8
00859220 : CALL 0x008018d0
00859225 : ADD ESP,0x4
00859228 : MOV ECX,dword ptr [EBP + -0xc]
0085922b : MOV dword ptr FS:[0x0],ECX
00859232 : POP ECX
00859233 : POP EDI
00859234 : POP ESI
00859235 : POP EBX
00859236 : MOV ESP,EBP
00859238 : POP EBP
00859239 : RET 0x4
0085923c : MOV dword ptr [EBP + -0x24],EBX
0085923f : MOV dword ptr [EBP + -0x20],EBX
00859242 : MOV dword ptr [EBP + -0x1c],EBX
00859245 : MOV dword ptr [EBP + -0x4],EBX
00859248 : LEA EDX,[EBP + -0x14]
0085924b : LEA EDI,[ESI + 0x20]
0085924e : PUSH EDX
0085924f : LEA EAX,[EBP + -0x18]
00859252 : MOV ECX,EDI
00859254 : MOV dword ptr [EBP + -0x14],0x7
0085925b : CALL 0x00484470
00859260 : MOV EAX,dword ptr [EAX]
00859262 : XORPS XMM0,XMM0
00859265 : CMP EAX,dword ptr [ESI + 0x24]
00859268 : JZ 0x008592b8
0085926a : MOV EAX,dword ptr [EAX + 0x10]
0085926d : CMP EAX,EBX
0085926f : JZ 0x008592b8
00859271 : MOVSS XMM1,dword ptr [0x00c10fc4]
00859279 : MOV dword ptr [EBP + -0x40],EAX
0085927c : MOV EAX,[0x00da93ec]
00859281 : MOV ECX,dword ptr [EAX + 0x68c]
00859287 : MOVSS dword ptr [EBP + -0x38],XMM0
0085928c : MOVSS dword ptr [EBP + -0x34],XMM0
00859291 : NEG ECX
00859293 : LEA EDX,[EBP + -0x40]
00859296 : CVTSI2SS XMM0,ECX
0085929a : MULSS XMM0,dword ptr [0x00cdf670]
008592a2 : PUSH EDX
008592a3 : LEA EAX,[EBP + -0x28]
008592a6 : MOV dword ptr [EBP + -0x2c],EBX
008592a9 : MOVSS dword ptr [EBP + -0x3c],XMM1
008592ae : MOVSS dword ptr [EBP + -0x30],XMM0
008592b3 : CALL 0x0043a440
008592b8 : LEA EAX,[EBP + -0x14]
008592bb : PUSH EAX
008592bc : LEA EAX,[EBP + -0x18]
008592bf : MOV ECX,EDI
008592c1 : MOV dword ptr [EBP + -0x14],0x6
008592c8 : CALL 0x00484470
008592cd : MOV EAX,dword ptr [EAX]
008592cf : CMP EAX,dword ptr [ESI + 0x24]
008592d2 : JZ 0x00859326
008592d4 : MOV EAX,dword ptr [EAX + 0x10]
008592d7 : CMP EAX,EBX
008592d9 : JZ 0x00859326
008592db : MOV ECX,dword ptr [0x00da93ec]
008592e1 : MOVSS XMM0,dword ptr [0x00c10fc4]
008592e9 : MOV EDX,dword ptr [ECX + 0x694]
008592ef : MOVSS dword ptr [EBP + -0x3c],XMM0
008592f4 : XORPS XMM0,XMM0
008592f7 : MOV dword ptr [EBP + -0x40],EAX
008592fa : MOVSS dword ptr [EBP + -0x38],XMM0
008592ff : MOVSS dword ptr [EBP + -0x34],XMM0
00859304 : NEG EDX
00859306 : LEA EAX,[EBP + -0x40]
00859309 : CVTSI2SS XMM0,EDX
0085930d : MULSS XMM0,dword ptr [0x00cdf670]
00859315 : PUSH EAX
00859316 : LEA EAX,[EBP + -0x28]
00859319 : MOV dword ptr [EBP + -0x2c],EBX
0085931c : MOVSS dword ptr [EBP + -0x30],XMM0
00859321 : CALL 0x0043a440
00859326 : LEA ECX,[EBP + -0x14]
00859329 : PUSH ECX
0085932a : LEA EAX,[EBP + -0x18]
0085932d : MOV ECX,EDI
0085932f : MOV dword ptr [EBP + -0x14],0x3
00859336 : CALL 0x00484470
0085933b : MOV EAX,dword ptr [EAX]
0085933d : CMP EAX,dword ptr [ESI + 0x24]
00859340 : JZ 0x00859394
00859342 : MOV EAX,dword ptr [EAX + 0x10]
00859345 : CMP EAX,EBX
00859347 : JZ 0x00859394
00859349 : MOV EDX,dword ptr [0x00da93ec]
0085934f : MOVSS XMM0,dword ptr [0x00c10fc4]
00859357 : MOV dword ptr [EBP + -0x40],EAX
0085935a : MOV EAX,dword ptr [EDX + 0x698]
00859360 : MOVSS dword ptr [EBP + -0x3c],XMM0
00859365 : XORPS XMM0,XMM0
00859368 : NEG EAX
0085936a : MOVSS dword ptr [EBP + -0x38],XMM0
0085936f : MOVSS dword ptr [EBP + -0x34],XMM0
00859374 : CVTSI2SS XMM0,EAX
00859378 : MULSS XMM0,dword ptr [0x00cdf670]
00859380 : LEA ECX,[EBP + -0x40]
00859383 : PUSH ECX
00859384 : LEA EAX,[EBP + -0x28]
00859387 : MOV dword ptr [EBP + -0x2c],EBX
0085938a : MOVSS dword ptr [EBP + -0x30],XMM0
0085938f : CALL 0x0043a440
00859394 : LEA EDX,[EBP + -0x14]
00859397 : PUSH EDX
00859398 : LEA EAX,[EBP + -0x18]
0085939b : MOV ECX,EDI
0085939d : MOV dword ptr [EBP + -0x14],0x4
008593a4 : CALL 0x00484470
008593a9 : MOV EAX,dword ptr [EAX]
008593ab : CMP EAX,dword ptr [ESI + 0x24]
008593ae : JZ 0x00859401
008593b0 : MOV EAX,dword ptr [EAX + 0x10]
008593b3 : CMP EAX,EBX
008593b5 : JZ 0x00859401
008593b7 : MOVSS XMM0,dword ptr [0x00c10fc4]
008593bf : MOV dword ptr [EBP + -0x40],EAX
008593c2 : MOV EAX,[0x00da93ec]
008593c7 : MOV ECX,dword ptr [EAX + 0x69c]
008593cd : MOVSS dword ptr [EBP + -0x3c],XMM0
008593d2 : XORPS XMM0,XMM0
008593d5 : MOVSS dword ptr [EBP + -0x38],XMM0
008593da : MOVSS dword ptr [EBP + -0x34],XMM0
008593df : NEG ECX
008593e1 : LEA EDX,[EBP + -0x40]
008593e4 : CVTSI2SS XMM0,ECX
008593e8 : MULSS XMM0,dword ptr [0x00cdf670]
008593f0 : PUSH EDX
008593f1 : LEA EAX,[EBP + -0x28]
008593f4 : MOV dword ptr [EBP + -0x2c],EBX
008593f7 : MOVSS dword ptr [EBP + -0x30],XMM0
008593fc : CALL 0x0043a440
00859401 : LEA EAX,[EBP + -0x14]
00859404 : PUSH EAX
00859405 : LEA EAX,[EBP + -0x18]
00859408 : MOV ECX,EDI
0085940a : MOV dword ptr [EBP + -0x14],0x5
00859411 : CALL 0x00484470
00859416 : MOV EAX,dword ptr [EAX]
00859418 : CMP EAX,dword ptr [ESI + 0x24]
0085941b : JZ 0x0085946f
0085941d : MOV EAX,dword ptr [EAX + 0x10]
00859420 : CMP EAX,EBX
00859422 : JZ 0x0085946f
00859424 : MOV ECX,dword ptr [0x00da93ec]
0085942a : MOVSS XMM0,dword ptr [0x00c10fc4]
00859432 : MOV EDX,dword ptr [ECX + 0x6a0]
00859438 : MOVSS dword ptr [EBP + -0x3c],XMM0
0085943d : XORPS XMM0,XMM0
00859440 : MOV dword ptr [EBP + -0x40],EAX
00859443 : MOVSS dword ptr [EBP + -0x38],XMM0
00859448 : MOVSS dword ptr [EBP + -0x34],XMM0
0085944d : NEG EDX
0085944f : LEA EAX,[EBP + -0x40]
00859452 : CVTSI2SS XMM0,EDX
00859456 : MULSS XMM0,dword ptr [0x00cdf670]
0085945e : PUSH EAX
0085945f : LEA EAX,[EBP + -0x28]
00859462 : MOV dword ptr [EBP + -0x2c],EBX
00859465 : MOVSS dword ptr [EBP + -0x30],XMM0
0085946a : CALL 0x0043a440
0085946f : MOV ECX,dword ptr [EBP + 0x8]
00859472 : MOV EDX,dword ptr [ECX + 0x410]
00859478 : PUSH EDX
00859479 : LEA EDI,[EBP + -0x28]
0085947c : CALL 0x0079db20
00859481 : MOV dword ptr [EBP + -0x4],0xffffffff
00859488 : MOV ECX,dword ptr [EBP + -0x24]
0085948b : CMP ECX,EBX
0085948d : JZ 0x00859494
0085948f : CALL 0x006f04e0
00859494 : MOV dword ptr [EBP + -0x24],EBX
00859497 : MOV dword ptr [EBP + -0x20],EBX
0085949a : MOV dword ptr [EBP + -0x1c],EBX
0085949d : MOV ECX,dword ptr [EBP + -0xc]
008594a0 : MOV dword ptr FS:[0x0],ECX
008594a7 : POP ECX
008594a8 : POP EDI
008594a9 : POP ESI
008594aa : POP EBX
008594ab : MOV ESP,EBP
008594ad : POP EBP
008594ae : RET 0x4
