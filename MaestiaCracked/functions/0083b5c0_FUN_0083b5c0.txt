PROGRAM  : Maestia.exe
FUNCTION : FUN_0083b5c0
ENTRY    : 0083b5c0
BODY     : [[0083b5c0, 0083b72d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0083b5c0(ushort param_1,undefined4 param_2,char param_3,char param_4)

{
  short sVar1;
  undefined2 uVar2;
  int in_ECX;
  int extraout_ECX;
  int iVar3;
  undefined1 uStack0000000f;
  undefined1 local_1c [4];
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3792d;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar3 = *(int *)(in_ECX + 0x9c);
  if ((iVar3 != 0) && (*(int *)(in_ECX + 0xa0) != 0)) {
    if (param_1 < 0x7d2) {
      sVar1 = FUN_0083abf0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
      iVar3 = extraout_ECX;
    }
    else {
      sVar1 = 0;
    }
    if (((param_3 != '\0') || (*(short *)(in_ECX + 0x98) != sVar1)) ||
       (*(char *)(((*(char *)(iVar3 + 300) != '\0') - 1 & 2) * 0x30 + 0xb1 + iVar3) != '\0')) {
      uVar2 = 0;
      *(short *)(in_ECX + 0x98) = sVar1;
      uStack0000000f = 1;
      if (*(int *)(in_ECX + 0x1c) != 0) {
        uVar2 = *(undefined2 *)(*(int *)(in_ECX + 0x1c) + 0x7c);
      }
      FUN_00abe000(local_1c,0,sVar1,uVar2,0);
      local_8 = 0;
      if (local_18 != 0) {
        local_14 = 0;
        _param_1 = 0x40400000;
        if (param_4 != '\0') {
          local_14 = 0x3f800000;
          _param_1 = 0x3f800000;
        }
        FUN_0079d530(*(undefined4 *)(in_ECX + 0x9c),local_1c,*(undefined2 *)(in_ECX + 0x98),1,0,
                     param_2,local_14,_param_1);
        FUN_0083b450(local_18 + 4);
        (**(code **)(**(int **)(in_ECX + 0x9c) + 0x10))();
      }
      local_8 = 0xffffffff;
      FUN_0040ed80(local_1c);
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0083b5c0 : PUSH EBP
0083b5c1 : MOV EBP,ESP
0083b5c3 : PUSH -0x1
0083b5c5 : PUSH 0xb3792d
0083b5ca : MOV EAX,FS:[0x0]
0083b5d0 : PUSH EAX
0083b5d1 : SUB ESP,0x10
0083b5d4 : PUSH ESI
0083b5d5 : PUSH EDI
0083b5d6 : MOV EAX,[0x00d66fa0]
0083b5db : XOR EAX,EBP
0083b5dd : PUSH EAX
0083b5de : LEA EAX,[EBP + -0xc]
0083b5e1 : MOV FS:[0x0],EAX
0083b5e7 : MOV ESI,ECX
0083b5e9 : MOV ECX,dword ptr [ESI + 0x9c]
0083b5ef : TEST ECX,ECX
0083b5f1 : JZ 0x0083b71b
0083b5f7 : MOV EDX,dword ptr [ESI + 0xa0]
0083b5fd : TEST EDX,EDX
0083b5ff : JZ 0x0083b71b
0083b605 : MOVZX EAX,word ptr [EBP + 0x8]
0083b609 : CMP EAX,0x7d1
0083b60e : JG 0x0083b61a
0083b610 : CALL 0x0083abf0
0083b615 : MOVZX EDI,AX
0083b618 : JMP 0x0083b61c
0083b61a : XOR EDI,EDI
0083b61c : CMP byte ptr [EBP + 0x10],0x0
0083b620 : JNZ 0x0083b64e
0083b622 : CMP word ptr [ESI + 0x98],DI
0083b629 : JNZ 0x0083b64e
0083b62b : XOR EAX,EAX
0083b62d : CMP byte ptr [ECX + 0x12c],AL
0083b633 : SETNZ AL
0083b636 : DEC EAX
0083b637 : AND EAX,0x2
0083b63a : LEA EAX,[EAX + EAX*0x2]
0083b63d : SHL EAX,0x4
0083b640 : CMP byte ptr [EAX + ECX*0x1 + 0xb1],0x0
0083b648 : JZ 0x0083b71b
0083b64e : MOV EAX,dword ptr [ESI + 0x1c]
0083b651 : XOR ECX,ECX
0083b653 : MOV word ptr [ESI + 0x98],DI
0083b65a : MOV byte ptr [EBP + 0x13],0x1
0083b65e : TEST EAX,EAX
0083b660 : JZ 0x0083b666
0083b662 : MOVZX ECX,word ptr [EAX + 0x7c]
0083b666 : PUSH 0x0
0083b668 : PUSH ECX
0083b669 : PUSH EDI
0083b66a : PUSH 0x0
0083b66c : LEA ECX,[EBP + -0x18]
0083b66f : PUSH ECX
0083b670 : LEA ECX,[EBP + 0x13]
0083b673 : CALL 0x00abe000
0083b678 : MOV dword ptr [EBP + -0x4],0x0
0083b67f : CMP dword ptr [EBP + -0x14],0x0
0083b683 : JNZ 0x0083b695
0083b685 : MOV dword ptr [EBP + -0x4],0xffffffff
0083b68c : LEA EDX,[EBP + -0x18]
0083b68f : PUSH EDX
0083b690 : JMP 0x0083b716
0083b695 : CMP byte ptr [EBP + 0x14],0x0
0083b699 : XORPS XMM0,XMM0
0083b69c : MOVSS dword ptr [EBP + -0x10],XMM0
0083b6a1 : MOVSS XMM0,dword ptr [0x00cdf19c]
0083b6a9 : MOVSS dword ptr [EBP + 0x8],XMM0
0083b6ae : JZ 0x0083b6c2
0083b6b0 : MOVSS XMM0,dword ptr [0x00c10fc4]
0083b6b8 : MOVSS dword ptr [EBP + -0x10],XMM0
0083b6bd : MOVSS dword ptr [EBP + 0x8],XMM0
0083b6c2 : FLD float ptr [EBP + 0x8]
0083b6c5 : MOV EAX,dword ptr [EBP + 0xc]
0083b6c8 : MOVZX ECX,word ptr [ESI + 0x98]
0083b6cf : SUB ESP,0x8
0083b6d2 : LEA EDX,[EBP + -0x18]
0083b6d5 : FSTP float ptr [ESP + 0x4]
0083b6d9 : FLD float ptr [EBP + -0x10]
0083b6dc : FSTP float ptr [ESP]
0083b6df : PUSH EAX
0083b6e0 : MOV EAX,dword ptr [ESI + 0x9c]
0083b6e6 : PUSH 0x0
0083b6e8 : PUSH 0x1
0083b6ea : PUSH ECX
0083b6eb : PUSH EDX
0083b6ec : PUSH EAX
0083b6ed : CALL 0x0079d530
0083b6f2 : MOV ECX,dword ptr [EBP + -0x14]
0083b6f5 : ADD ECX,0x4
0083b6f8 : PUSH ECX
0083b6f9 : CALL 0x0083b450
0083b6fe : MOV ECX,dword ptr [ESI + 0x9c]
0083b704 : MOV EDX,dword ptr [ECX]
0083b706 : MOV EAX,dword ptr [EDX + 0x10]
0083b709 : CALL EAX
0083b70b : MOV dword ptr [EBP + -0x4],0xffffffff
0083b712 : LEA ECX,[EBP + -0x18]
0083b715 : PUSH ECX
0083b716 : CALL 0x0040ed80
0083b71b : MOV ECX,dword ptr [EBP + -0xc]
0083b71e : MOV dword ptr FS:[0x0],ECX
0083b725 : POP ECX
0083b726 : POP EDI
0083b727 : POP ESI
0083b728 : MOV ESP,EBP
0083b72a : POP EBP
0083b72b : RET 0x10
