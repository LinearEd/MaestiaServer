PROGRAM  : Maestia.exe
FUNCTION : FUN_004fdc80
ENTRY    : 004fdc80
BODY     : [[004fdc80, 004fdd58]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_004fdc80(int *param_1)

{
  int iVar1;
  int in_EAX;
  int *piVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  bool bVar6;
  
  iVar4 = 0;
  if (*(int *)(in_EAX + 4) != 0) {
    iVar1 = *param_1;
    iVar3 = *(int *)(in_EAX + 4);
    do {
      piVar2 = (int *)(*(int *)(in_EAX + 0x10) + iVar3);
      if ((iVar1 == *piVar2) && (param_1[1] == piVar2[1])) {
        if (iVar3 != 0) goto LAB_004fdd3c;
        break;
      }
      iVar4 = *piVar2;
      if (iVar1 == iVar4) {
        bVar6 = SBORROW4(param_1[1],piVar2[1]);
        iVar4 = param_1[1] - piVar2[1];
      }
      else {
        bVar6 = SBORROW4(iVar1,iVar4);
        iVar4 = iVar1 - iVar4;
      }
      if (bVar6 == iVar4 < 0) {
        iVar5 = piVar2[0x25];
      }
      else {
        iVar5 = piVar2[0x24];
      }
      iVar4 = iVar3;
      iVar3 = iVar5;
    } while (iVar5 != 0);
  }
  iVar3 = FUN_004fe0a0(param_1,iVar4);
  if (iVar4 == 0) {
    *(int *)(in_EAX + 4) = iVar3;
  }
  else {
    iVar1 = *param_1;
    iVar5 = *(int *)(*(int *)(in_EAX + 0x10) + iVar4);
    iVar4 = *(int *)(in_EAX + 0x10) + iVar4;
    if (iVar1 == iVar5) {
      bVar6 = SBORROW4(param_1[1],*(int *)(iVar4 + 4));
      iVar1 = param_1[1] - *(int *)(iVar4 + 4);
    }
    else {
      bVar6 = SBORROW4(iVar1,iVar5);
      iVar1 = iVar1 - iVar5;
    }
    if (bVar6 == iVar1 < 0) {
      *(int *)(iVar4 + 0x94) = iVar3;
    }
    else {
      *(int *)(iVar4 + 0x90) = iVar3;
    }
  }
  FUN_004fd320();
  *(int *)(in_EAX + 8) = *(int *)(in_EAX + 8) + 1;
  if (iVar3 == 0) {
    return 8;
  }
LAB_004fdd3c:
  return *(int *)(in_EAX + 0x10) + iVar3 + 8;
}



============================================================
DISASSEMBLY
============================================================
004fdc80 : PUSH EBX
004fdc81 : PUSH EBP
004fdc82 : PUSH ESI
004fdc83 : PUSH EDI
004fdc84 : MOV EDI,EAX
004fdc86 : MOV ESI,dword ptr [EDI + 0x4]
004fdc89 : XOR EBX,EBX
004fdc8b : TEST ESI,ESI
004fdc8d : JZ 0x004fdce1
004fdc8f : MOV ECX,dword ptr [ESP + 0x14]
004fdc93 : MOV EBP,dword ptr [ECX]
004fdc95 : MOV EAX,dword ptr [EDI + 0x10]
004fdc98 : ADD EAX,ESI
004fdc9a : CMP EBP,dword ptr [EAX]
004fdc9c : JNZ 0x004fdca6
004fdc9e : MOV EDX,dword ptr [ECX + 0x4]
004fdca1 : CMP EDX,dword ptr [EAX + 0x4]
004fdca4 : JZ 0x004fdcdb
004fdca6 : MOV EDX,dword ptr [EAX]
004fdca8 : MOV EBX,ESI
004fdcaa : CMP EBP,EDX
004fdcac : JNZ 0x004fdcb8
004fdcae : MOV EDX,dword ptr [ECX + 0x4]
004fdcb1 : XOR ECX,ECX
004fdcb3 : CMP EDX,dword ptr [EAX + 0x4]
004fdcb6 : JMP 0x004fdcbc
004fdcb8 : XOR ECX,ECX
004fdcba : CMP EBP,EDX
004fdcbc : SETL CL
004fdcbf : TEST CL,CL
004fdcc1 : JZ 0x004fdccb
004fdcc3 : MOV ESI,dword ptr [EAX + 0x90]
004fdcc9 : JMP 0x004fdcd1
004fdccb : MOV ESI,dword ptr [EAX + 0x94]
004fdcd1 : TEST ESI,ESI
004fdcd3 : JZ 0x004fdce1
004fdcd5 : MOV ECX,dword ptr [ESP + 0x14]
004fdcd9 : JMP 0x004fdc95
004fdcdb : TEST ESI,ESI
004fdcdd : JNZ 0x004fdd3c
004fdcdf : JMP 0x004fdce5
004fdce1 : MOV ECX,dword ptr [ESP + 0x14]
004fdce5 : PUSH EBX
004fdce6 : PUSH ECX
004fdce7 : CALL 0x004fe0a0
004fdcec : MOV ESI,EAX
004fdcee : TEST EBX,EBX
004fdcf0 : JNZ 0x004fdcf7
004fdcf2 : MOV dword ptr [EDI + 0x4],ESI
004fdcf5 : JMP 0x004fdd2c
004fdcf7 : MOV EAX,dword ptr [EDI + 0x10]
004fdcfa : MOV EDX,dword ptr [ESP + 0x14]
004fdcfe : MOV ECX,dword ptr [EDX]
004fdd00 : MOV EBP,dword ptr [EAX + EBX*0x1]
004fdd03 : ADD EAX,EBX
004fdd05 : CMP ECX,EBP
004fdd07 : JNZ 0x004fdd13
004fdd09 : MOV ECX,dword ptr [EDX + 0x4]
004fdd0c : XOR EDX,EDX
004fdd0e : CMP ECX,dword ptr [EAX + 0x4]
004fdd11 : JMP 0x004fdd17
004fdd13 : XOR EDX,EDX
004fdd15 : CMP ECX,EBP
004fdd17 : SETL DL
004fdd1a : TEST DL,DL
004fdd1c : JZ 0x004fdd26
004fdd1e : MOV dword ptr [EAX + 0x90],ESI
004fdd24 : JMP 0x004fdd2c
004fdd26 : MOV dword ptr [EAX + 0x94],ESI
004fdd2c : MOV EAX,EBX
004fdd2e : MOV EDX,EDI
004fdd30 : CALL 0x004fd320
004fdd35 : INC dword ptr [EDI + 0x8]
004fdd38 : TEST ESI,ESI
004fdd3a : JZ 0x004fdd4b
004fdd3c : MOV EAX,dword ptr [EDI + 0x10]
004fdd3f : POP EDI
004fdd40 : ADD EAX,ESI
004fdd42 : POP ESI
004fdd43 : POP EBP
004fdd44 : ADD EAX,0x8
004fdd47 : POP EBX
004fdd48 : RET 0x4
004fdd4b : POP EDI
004fdd4c : POP ESI
004fdd4d : POP EBP
004fdd4e : XOR EAX,EAX
004fdd50 : MOV EAX,0x8
004fdd55 : POP EBX
004fdd56 : RET 0x4
