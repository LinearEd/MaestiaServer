PROGRAM  : Maestia.exe
FUNCTION : FUN_005d9a50
ENTRY    : 005d9a50
BODY     : [[005d9a50, 005d9acc]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005d9a50(int param_1,undefined4 param_2)

{
  int *piVar1;
  int iVar2;
  undefined4 *puVar3;
  int in_ECX;
  
  iVar2 = *(int *)(param_1 + 0x1c);
  if (iVar2 == 0) {
    iVar2 = FUN_005d9840();
    *(int *)(iVar2 + 8) = param_1;
    *(int *)(param_1 + 0x1c) = iVar2;
    *(int *)(param_1 + 0x18) = in_ECX;
  }
  *(int *)(in_ECX + 0x84) = iVar2;
  puVar3 = (undefined4 *)FUN_005d9660();
  puVar3[4] = param_2;
  puVar3[5] = iVar2;
  *puVar3 = *(undefined4 *)(in_ECX + 0x30);
  piVar1 = (int *)(in_ECX + 0x30);
  puVar3[1] = piVar1;
  *(undefined4 **)(*piVar1 + 4) = puVar3;
  *piVar1 = (int)puVar3;
  puVar3[2] = *(undefined4 *)(iVar2 + 0x18);
  puVar3[3] = iVar2 + 0x10;
  *(undefined4 **)(*(int *)(iVar2 + 0x18) + 0xc) = puVar3;
  *(undefined4 **)(iVar2 + 0x18) = puVar3;
  *(int *)(iVar2 + 0xc) = *(int *)(iVar2 + 0xc) + 1;
  *(int *)(in_ECX + 0x18) = *(int *)(in_ECX + 0x18) + 1;
  *(undefined4 *)(in_ECX + 0x84) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
005d9a50 : PUSH EBX
005d9a51 : MOV EBX,dword ptr [ESP + 0x8]
005d9a55 : PUSH ESI
005d9a56 : MOV ESI,dword ptr [EBX + 0x1c]
005d9a59 : PUSH EDI
005d9a5a : MOV EDI,ECX
005d9a5c : TEST ESI,ESI
005d9a5e : JNZ 0x005d9a73
005d9a60 : LEA ECX,[EDI + 0x40]
005d9a63 : CALL 0x005d9840
005d9a68 : MOV ESI,EAX
005d9a6a : MOV dword ptr [ESI + 0x8],EBX
005d9a6d : MOV dword ptr [EBX + 0x1c],ESI
005d9a70 : MOV dword ptr [EBX + 0x18],EDI
005d9a73 : LEA ECX,[EDI + 0x1c]
005d9a76 : MOV dword ptr [EDI + 0x84],ESI
005d9a7c : CALL 0x005d9660
005d9a81 : MOV ECX,dword ptr [ESP + 0x14]
005d9a85 : MOV dword ptr [EAX + 0x10],ECX
005d9a88 : MOV dword ptr [EAX + 0x14],ESI
005d9a8b : MOV EDX,dword ptr [EDI + 0x30]
005d9a8e : MOV dword ptr [EAX],EDX
005d9a90 : LEA ECX,[EDI + 0x30]
005d9a93 : MOV dword ptr [EAX + 0x4],ECX
005d9a96 : MOV EDX,dword ptr [ECX]
005d9a98 : MOV dword ptr [EDX + 0x4],EAX
005d9a9b : MOV dword ptr [ECX],EAX
005d9a9d : MOV EDX,dword ptr [ESI + 0x18]
005d9aa0 : LEA ECX,[ESI + 0x10]
005d9aa3 : MOV dword ptr [EAX + 0x8],EDX
005d9aa6 : MOV dword ptr [EAX + 0xc],ECX
005d9aa9 : MOV EDX,dword ptr [ECX + 0x8]
005d9aac : MOV dword ptr [EDX + 0xc],EAX
005d9aaf : MOV dword ptr [ECX + 0x8],EAX
005d9ab2 : MOV EAX,0x1
005d9ab7 : ADD dword ptr [ESI + 0xc],EAX
005d9aba : ADD dword ptr [EDI + 0x18],EAX
005d9abd : MOV dword ptr [EDI + 0x84],0x0
005d9ac7 : POP EDI
005d9ac8 : POP ESI
005d9ac9 : POP EBX
005d9aca : RET 0x8
