PROGRAM  : Maestia.exe
FUNCTION : FUN_00ad0290
ENTRY    : 00ad0290
BODY     : [[00ad0290, 00ad03a2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00ad0290(void)

{
  int iVar1;
  uint uVar2;
  int in_ECX;
  undefined4 uVar3;
  undefined1 local_34 [32];
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b463e1;
  local_14 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xffffffc0;
  ExceptionList = &local_14;
  if ((*(int *)(*DAT_00da9894 + 0x114) != 0) && (DAT_00da98bd == '\0')) {
    if (*(int *)(in_ECX + 0x58) != 0) {
      FUN_00406460(L"ExitDlg");
      local_c = 0;
      FUN_008ebc60(local_34);
      local_c = 0xffffffff;
      FUN_00406560();
    }
    if (*(char *)(in_ECX + 0x5c) == '\0') {
      FUN_00406460(L"ExitDlg");
      local_c = 2;
      uVar3 = 1;
    }
    else {
      FUN_00406460(L"ExitDlg");
      local_c = 1;
      uVar3 = 4;
    }
    uVar3 = FUN_008ede80(local_34,uVar3);
    *(undefined4 *)(in_ECX + 0x58) = uVar3;
    local_c = 0xffffffff;
    FUN_00406560(uVar2);
    iVar1 = *(int *)(in_ECX + 0x58);
    if (iVar1 != 0) {
      if (*(code **)(iVar1 + 0x60) != (code *)0x0) {
        (**(code **)(iVar1 + 0x60))(1,iVar1);
      }
      *(code **)(iVar1 + 0x60) = FUN_00ad0250;
    }
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
00ad0290 : PUSH EBP
00ad0291 : MOV EBP,ESP
00ad0293 : AND ESP,0xfffffff8
00ad0296 : PUSH -0x1
00ad0298 : PUSH 0xb463e1
00ad029d : MOV EAX,FS:[0x0]
00ad02a3 : PUSH EAX
00ad02a4 : SUB ESP,0x24
00ad02a7 : PUSH ESI
00ad02a8 : PUSH EDI
00ad02a9 : MOV EAX,[0x00d66fa0]
00ad02ae : XOR EAX,ESP
00ad02b0 : PUSH EAX
00ad02b1 : LEA EAX,[ESP + 0x30]
00ad02b5 : MOV FS:[0x0],EAX
00ad02bb : MOV EDI,ECX
00ad02bd : MOV EAX,[0x00da9894]
00ad02c2 : MOV EAX,dword ptr [EAX]
00ad02c4 : MOV EAX,dword ptr [EAX + 0x114]
00ad02ca : TEST EAX,EAX
00ad02cc : JZ 0x00ad0391
00ad02d2 : CMP byte ptr [0x00da98bd],0x0
00ad02d9 : JNZ 0x00ad0391
00ad02df : CMP dword ptr [EDI + 0x58],0x0
00ad02e3 : JZ 0x00ad031e
00ad02e5 : PUSH 0xc88694
00ad02ea : LEA ECX,[ESP + 0x14]
00ad02ee : CALL 0x00406460
00ad02f3 : MOV dword ptr [ESP + 0x38],0x0
00ad02fb : MOV ECX,dword ptr [0x00da9894]
00ad0301 : MOV ESI,dword ptr [ECX]
00ad0303 : LEA EDX,[ESP + 0x10]
00ad0307 : PUSH EDX
00ad0308 : CALL 0x008ebc60
00ad030d : MOV dword ptr [ESP + 0x38],0xffffffff
00ad0315 : LEA ECX,[ESP + 0x10]
00ad0319 : CALL 0x00406560
00ad031e : CMP byte ptr [EDI + 0x5c],0x0
00ad0322 : LEA ECX,[ESP + 0x10]
00ad0326 : JZ 0x00ad033e
00ad0328 : PUSH 0xc886a4
00ad032d : CALL 0x00406460
00ad0332 : MOV dword ptr [ESP + 0x38],0x1
00ad033a : PUSH 0x4
00ad033c : JMP 0x00ad0352
00ad033e : PUSH 0xc886b4
00ad0343 : CALL 0x00406460
00ad0348 : MOV dword ptr [ESP + 0x38],0x2
00ad0350 : PUSH 0x1
00ad0352 : MOV EAX,[0x00da9894]
00ad0357 : MOV ECX,dword ptr [EAX]
00ad0359 : LEA EDX,[ESP + 0x14]
00ad035d : PUSH EDX
00ad035e : CALL 0x008ede80
00ad0363 : MOV dword ptr [EDI + 0x58],EAX
00ad0366 : MOV dword ptr [ESP + 0x38],0xffffffff
00ad036e : LEA ECX,[ESP + 0x10]
00ad0372 : CALL 0x00406560
00ad0377 : MOV EDI,dword ptr [EDI + 0x58]
00ad037a : TEST EDI,EDI
00ad037c : JZ 0x00ad0391
00ad037e : MOV EAX,dword ptr [EDI + 0x60]
00ad0381 : TEST EAX,EAX
00ad0383 : JZ 0x00ad038a
00ad0385 : PUSH EDI
00ad0386 : PUSH 0x1
00ad0388 : CALL EAX
00ad038a : MOV dword ptr [EDI + 0x60],0xad0250
00ad0391 : MOV ECX,dword ptr [ESP + 0x30]
00ad0395 : MOV dword ptr FS:[0x0],ECX
00ad039c : POP ECX
00ad039d : POP EDI
00ad039e : POP ESI
00ad039f : MOV ESP,EBP
00ad03a1 : POP EBP
00ad03a2 : RET
