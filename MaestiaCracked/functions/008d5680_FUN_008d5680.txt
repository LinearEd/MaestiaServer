PROGRAM  : Maestia.exe
FUNCTION : FUN_008d5680
ENTRY    : 008d5680
BODY     : [[008d5680, 008d570a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008d5680(uint param_1)

{
  ushort *puVar1;
  uint in_EAX;
  int in_ECX;
  ushort uVar2;
  uint uVar3;
  
  if ((uint)(*(int *)(in_ECX + 0x4c) - *(int *)(in_ECX + 0x48) >> 2) <= in_EAX) {
    FUN_008018d0(L"AvaGuiPremiumShop::ItemDayChange index size over");
    return;
  }
  puVar1 = *(ushort **)(*(int *)(in_ECX + 0x48) + in_EAX * 4);
  uVar3 = (uint)*puVar1;
  uVar2 = (ushort)param_1;
  puVar1[0x30] = uVar2;
  param_1 = uVar3;
  FUN_00413b60(&param_1);
  if (in_ECX == *(int *)(in_ECX + 0x3c)) {
    FUN_008018d0(L"Premiumshop BuyCheck find error index( %d)",uVar3);
    return;
  }
  *(ushort *)(*(int *)(in_ECX + 0x10) + 0x60) = uVar2;
  return;
}



============================================================
DISASSEMBLY
============================================================
008d5680 : PUSH EBP
008d5681 : MOV EBP,ESP
008d5683 : PUSH ECX
008d5684 : PUSH EBX
008d5685 : MOV EBX,dword ptr [EBP + 0x8]
008d5688 : PUSH ESI
008d5689 : MOV ESI,ECX
008d568b : MOV ECX,dword ptr [ESI + 0x4c]
008d568e : SUB ECX,dword ptr [ESI + 0x48]
008d5691 : SAR ECX,0x2
008d5694 : CMP EAX,ECX
008d5696 : JC 0x008d56b3
008d5698 : MOV ESI,dword ptr [0x00da98e8]
008d569e : PUSH 0xc58450
008d56a3 : CALL 0x008018d0
008d56a8 : ADD ESP,0x4
008d56ab : POP ESI
008d56ac : POP EBX
008d56ad : MOV ESP,EBP
008d56af : POP EBP
008d56b0 : RET 0x4
008d56b3 : MOV EDX,dword ptr [ESI + 0x48]
008d56b6 : MOV EAX,dword ptr [EDX + EAX*0x4]
008d56b9 : PUSH EDI
008d56ba : MOVZX EDI,word ptr [EAX]
008d56bd : MOV word ptr [EAX + 0x60],BX
008d56c1 : MOVZX EAX,DI
008d56c4 : LEA ECX,[EBP + 0x8]
008d56c7 : MOV dword ptr [EBP + 0x8],EAX
008d56ca : PUSH ECX
008d56cb : LEA ECX,[ESI + 0x38]
008d56ce : LEA EAX,[EBP + -0x4]
008d56d1 : CALL 0x00413b60
008d56d6 : MOV EAX,dword ptr [EBP + -0x4]
008d56d9 : CMP EAX,dword ptr [ESI + 0x3c]
008d56dc : JNZ 0x008d56fb
008d56de : MOV ESI,dword ptr [0x00da98e8]
008d56e4 : PUSH EDI
008d56e5 : PUSH 0xc584b8
008d56ea : CALL 0x008018d0
008d56ef : ADD ESP,0x8
008d56f2 : POP EDI
008d56f3 : POP ESI
008d56f4 : POP EBX
008d56f5 : MOV ESP,EBP
008d56f7 : POP EBP
008d56f8 : RET 0x4
008d56fb : MOV EDX,dword ptr [EAX + 0x10]
008d56fe : POP EDI
008d56ff : POP ESI
008d5700 : MOV word ptr [EDX + 0x60],BX
008d5704 : POP EBX
008d5705 : MOV ESP,EBP
008d5707 : POP EBP
008d5708 : RET 0x4
