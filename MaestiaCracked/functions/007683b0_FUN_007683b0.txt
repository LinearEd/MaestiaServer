PROGRAM  : Maestia.exe
FUNCTION : FUN_007683b0
ENTRY    : 007683b0
BODY     : [[007683b0, 0076840c] [00768410, 007684e8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007683b0(undefined4 *param_1,int param_2)

{
  undefined4 *puVar1;
  uint uVar2;
  int in_ECX;
  int iVar3;
  uint uVar4;
  int iVar5;
  undefined4 *puVar6;
  uint local_10;
  
  if (param_2 < *(int *)(in_ECX + 0x32c) - *(int *)(in_ECX + 0x328) >> 2) {
    iVar3 = *(int *)(*(int *)(in_ECX + 0x328) + param_2 * 4);
    local_10 = (uint)*(ushort *)(iVar3 + 0x20);
    if (*(short *)(in_ECX + 0x224) == 0) {
      uVar4 = 0;
      if (local_10 != 0) {
        uVar2 = 0;
        do {
          puVar1 = param_1 + uVar2 * 0x10;
          uVar4 = uVar4 + 1;
          puVar1[0xe] = 0;
          puVar1[0xd] = 0;
          puVar1[0xc] = 0;
          puVar1[0xb] = 0;
          puVar1[9] = 0;
          puVar1[8] = 0;
          puVar1[7] = 0;
          puVar1[6] = 0;
          puVar1[4] = 0;
          puVar1[3] = 0;
          puVar1[2] = 0;
          puVar1[1] = 0;
          puVar1[0xf] = 0x3f800000;
          puVar1[10] = 0x3f800000;
          puVar1[5] = 0x3f800000;
          *puVar1 = 0x3f800000;
          uVar2 = uVar4 & 0xffff;
        } while (uVar2 < local_10);
      }
    }
    else if (*(int *)(in_ECX + 0x1ec) == 0) {
      if (local_10 != 0) {
        do {
          puVar1 = (undefined4 *)FUN_0045f110(*(undefined4 *)(in_ECX + 0x24));
          local_10 = local_10 - 1;
          puVar6 = param_1;
          for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
            *puVar6 = *puVar1;
            puVar1 = puVar1 + 1;
            puVar6 = puVar6 + 1;
          }
          param_1 = param_1 + 0x10;
        } while (local_10 != 0);
        return;
      }
    }
    else {
      iVar5 = 0;
      if (local_10 != 0) {
        do {
          FUN_00489660(*(undefined4 *)(*(int *)(iVar3 + 0x14) + iVar5 * 4),param_1);
          iVar5 = iVar5 + 1;
          param_1 = param_1 + 0x10;
        } while (iVar5 < (int)local_10);
        return;
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007683b0 : PUSH EBP
007683b1 : MOV EBP,ESP
007683b3 : AND ESP,0xfffffff8
007683b6 : SUB ESP,0xc
007683b9 : MOV EDX,dword ptr [ECX + 0x32c]
007683bf : SUB EDX,dword ptr [ECX + 0x328]
007683c5 : MOV EAX,dword ptr [EBP + 0xc]
007683c8 : PUSH EBX
007683c9 : SAR EDX,0x2
007683cc : CMP EAX,EDX
007683ce : PUSH ESI
007683cf : PUSH EDI
007683d0 : MOV dword ptr [ESP + 0x14],ECX
007683d4 : JGE 0x007684e0
007683da : CMP word ptr [ECX + 0x224],0x0
007683e2 : MOV EDX,dword ptr [ECX + 0x328]
007683e8 : MOV EAX,dword ptr [EDX + EAX*0x4]
007683eb : MOVZX EDI,word ptr [EAX + 0x20]
007683ef : MOV dword ptr [ESP + 0x10],EAX
007683f3 : JBE 0x0076846e
007683f5 : CMP dword ptr [ECX + 0x1ec],0x0
007683fc : JZ 0x00768432
007683fe : XOR ESI,ESI
00768400 : TEST EDI,EDI
00768402 : JLE 0x007684e0
00768408 : MOV EBX,dword ptr [EBP + 0x8]
0076840b : JMP 0x00768414
00768410 : MOV EAX,dword ptr [ESP + 0x10]
00768414 : MOV EAX,dword ptr [EAX + 0x14]
00768417 : MOV ECX,dword ptr [EAX + ESI*0x4]
0076841a : PUSH EBX
0076841b : PUSH ECX
0076841c : CALL 0x00489660
00768421 : INC ESI
00768422 : ADD EBX,0x40
00768425 : CMP ESI,EDI
00768427 : JL 0x00768410
00768429 : POP EDI
0076842a : POP ESI
0076842b : POP EBX
0076842c : MOV ESP,EBP
0076842e : POP EBP
0076842f : RET 0x8
00768432 : TEST EDI,EDI
00768434 : JLE 0x007684e0
0076843a : MOV EBX,dword ptr [EBP + 0x8]
0076843d : MOV dword ptr [ESP + 0x10],EDI
00768441 : JMP 0x00768447
00768443 : MOV ECX,dword ptr [ESP + 0x14]
00768447 : MOV EDX,dword ptr [ECX + 0x24]
0076844a : PUSH EDX
0076844b : CALL 0x0045f110
00768450 : MOV EDI,EBX
00768452 : MOV ECX,0x10
00768457 : MOV ESI,EAX
00768459 : ADD EBX,0x40
0076845c : SUB dword ptr [ESP + 0x10],0x1
00768461 : MOVSD.REP ES:EDI,ESI
00768463 : JNZ 0x00768443
00768465 : POP EDI
00768466 : POP ESI
00768467 : POP EBX
00768468 : MOV ESP,EBP
0076846a : POP EBP
0076846b : RET 0x8
0076846e : XOR ECX,ECX
00768470 : TEST EDI,EDI
00768472 : JLE 0x007684e0
00768474 : MOV EDX,dword ptr [EBP + 0x8]
00768477 : XORPS XMM0,XMM0
0076847a : MOVSS XMM1,dword ptr [0x00c10fc4]
00768482 : XOR EAX,EAX
00768484 : SHL EAX,0x6
00768487 : ADD EAX,EDX
00768489 : INC ECX
0076848a : MOVSS dword ptr [EAX + 0x38],XMM0
0076848f : MOVSS dword ptr [EAX + 0x34],XMM0
00768494 : MOVSS dword ptr [EAX + 0x30],XMM0
00768499 : MOVSS dword ptr [EAX + 0x2c],XMM0
0076849e : MOVSS dword ptr [EAX + 0x24],XMM0
007684a3 : MOVSS dword ptr [EAX + 0x20],XMM0
007684a8 : MOVSS dword ptr [EAX + 0x1c],XMM0
007684ad : MOVSS dword ptr [EAX + 0x18],XMM0
007684b2 : MOVSS dword ptr [EAX + 0x10],XMM0
007684b7 : MOVSS dword ptr [EAX + 0xc],XMM0
007684bc : MOVSS dword ptr [EAX + 0x8],XMM0
007684c1 : MOVSS dword ptr [EAX + 0x4],XMM0
007684c6 : MOVSS dword ptr [EAX + 0x3c],XMM1
007684cb : MOVSS dword ptr [EAX + 0x28],XMM1
007684d0 : MOVSS dword ptr [EAX + 0x14],XMM1
007684d5 : MOVSS dword ptr [EAX],XMM1
007684d9 : MOVZX EAX,CX
007684dc : CMP EAX,EDI
007684de : JL 0x00768484
007684e0 : POP EDI
007684e1 : POP ESI
007684e2 : POP EBX
007684e3 : MOV ESP,EBP
007684e5 : POP EBP
007684e6 : RET 0x8
