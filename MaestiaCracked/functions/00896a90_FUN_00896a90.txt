PROGRAM  : Maestia.exe
FUNCTION : FUN_00896a90
ENTRY    : 00896a90
BODY     : [[00896a90, 00896ebf]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00896c9e) */

void FUN_00896a90(char *param_1,char param_2)

{
  uint uVar1;
  int *piVar2;
  int *piVar3;
  int iVar4;
  int *in_ECX;
  uint local_40;
  uint local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b50ed0;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (param_1 == (char *)0x0) {
    FUN_00406460();
    local_8 = 0;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))();
    }
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    goto LAB_00896ea2;
  }
  if ((*(char *)((int)in_ECX + 0x65d) == '\0') && (in_ECX[0xe3] != 0)) {
    FUN_00404750();
    local_8 = 1;
    FUN_00a6bfe0();
    local_8 = 0xffffffff;
    FUN_00406560();
  }
  if (*param_1 == '\0') {
    (**(code **)(*(int *)(*(int *)(in_ECX[0x4e] + 4) + 0x138 + (int)in_ECX) + 0x10))();
  }
  if (*param_1 == '\f') {
    *(undefined1 *)((int)in_ECX + 0x15ae) = 0;
  }
  if (*(char *)((int)in_ECX + 0x426) != '\0') {
    FUN_00901540();
  }
  if (param_2 != '\0') {
    if ((short)*(undefined4 *)(param_1 + 8) == 10000) {
      FUN_00891cd0();
    }
    else if ((short)*(undefined4 *)(param_1 + 8) == 14000) {
      FUN_00891e50();
    }
    FUN_00404750();
    local_8 = 2;
    if (in_ECX[0xe3] != 0) {
      FUN_00405660();
      local_8._0_1_ = 3;
      (**(code **)(*in_ECX + 0x200))();
      iVar4 = in_ECX[0xe3];
      local_8._0_1_ = 4;
      FUN_006ef1a0();
      local_8._0_1_ = 4;
      piVar2 = (int *)FUN_00a6bd50();
      if (piVar2 == (int *)0x0) {
        FUN_00405b70();
        piVar2 = (int *)FUN_00a6c6a0();
        if (piVar2 != (int *)0x0) goto LAB_00896d03;
        piVar2 = (int *)FUN_00a6bc70();
        if (piVar2 == (int *)0x0) {
          FUN_00403810();
          piVar2 = (int *)FUN_00a6d690();
          if (piVar2 == (int *)0x0) {
            local_8 = CONCAT31(local_8._1_3_,2);
            if (7 < local_40) {
                    /* WARNING: Subroutine does not return */
              FUN_006f04e0();
            }
            goto LAB_00896ded;
          }
        }
        piVar3 = (int *)FUN_00a6b6b0();
        if (piVar3 == (int *)0x0) {
          FUN_00a6c940();
          piVar3 = piVar2;
        }
        if (*(char *)(iVar4 + 0x5c) != '\0') {
          (**(code **)(*piVar3 + 0xd4))();
          FUN_00a6b5d0();
        }
      }
      else {
LAB_00896d03:
        piVar3 = (int *)FUN_00a6b780();
        if (piVar3 == (int *)0x0) {
          FUN_00a6d020();
          piVar3 = piVar2;
        }
        if (*(char *)(iVar4 + 0x5c) != '\0') {
          (**(code **)(*piVar3 + 0x24))();
          FUN_00a6c0d0();
        }
      }
      local_8 = CONCAT31(local_8._1_3_,2);
      if (7 < local_40) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
LAB_00896ded:
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  if (((*(uint *)(param_1 + 8) >> 0x10 == 0x1411) && (iVar4 = FUN_004049b0(), iVar4 != 0)) &&
     (*(int *)(iVar4 + 0x37c) != 0)) {
    FUN_0088ad80();
  }
LAB_00896ea2:
  ExceptionList = local_10;
  __security_check_cookie(uVar1 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00896a90 : PUSH EBP
00896a91 : MOV EBP,ESP
00896a93 : PUSH -0x1
00896a95 : PUSH 0xb50ed0
00896a9a : MOV EAX,FS:[0x0]
00896aa0 : PUSH EAX
00896aa1 : SUB ESP,0x5c
00896aa4 : MOV EAX,[0x00d66fa0]
00896aa9 : XOR EAX,EBP
00896aab : MOV dword ptr [EBP + -0x10],EAX
00896aae : PUSH EBX
00896aaf : PUSH ESI
00896ab0 : PUSH EDI
00896ab1 : PUSH EAX
00896ab2 : LEA EAX,[EBP + -0xc]
00896ab5 : MOV FS:[0x0],EAX
00896abb : MOV EDI,dword ptr [EBP + 0x8]
00896abe : XOR ESI,ESI
00896ac0 : MOV EBX,ECX
00896ac2 : MOV dword ptr [EBP + -0x34],EBX
00896ac5 : MOV dword ptr [EBP + -0x38],EDI
00896ac8 : CMP EDI,ESI
00896aca : JNZ 0x00896b26
00896acc : PUSH 0xc46aac
00896ad1 : LEA ECX,[EBP + -0x2c]
00896ad4 : CALL 0x00406460
00896ad9 : MOV dword ptr [EBP + -0x4],ESI
00896adc : MOV EAX,[0x00da98e8]
00896ae1 : MOV ECX,dword ptr [EAX]
00896ae3 : CMP ECX,ESI
00896ae5 : JZ 0x00896afc
00896ae7 : MOV EDX,dword ptr [ECX]
00896ae9 : MOV EDX,dword ptr [EDX + 0x14]
00896aec : LEA EAX,[EBP + -0x2c]
00896aef : PUSH EAX
00896af0 : PUSH 0x13f1
00896af5 : PUSH 0xc46ac8
00896afa : CALL EDX
00896afc : MOV dword ptr [EBP + -0x4],0xffffffff
00896b03 : CMP dword ptr [EBP + -0x14],0x8
00896b07 : JC 0x00896b11
00896b09 : MOV ECX,dword ptr [EBP + -0x28]
00896b0c : CALL 0x006f04e0
00896b11 : XOR EAX,EAX
00896b13 : MOV dword ptr [EBP + -0x14],0x7
00896b1a : MOV dword ptr [EBP + -0x18],ESI
00896b1d : MOV word ptr [EBP + -0x28],AX
00896b21 : JMP 0x00896ea2
00896b26 : CMP byte ptr [EBX + 0x65d],0x0
00896b2d : JNZ 0x00896b7c
00896b2f : CMP dword ptr [EBX + 0x38c],ESI
00896b35 : JZ 0x00896b7c
00896b37 : CMP dword ptr [EDI + 0x50],0x8
00896b3b : MOV ECX,dword ptr [EDI + 0x8]
00896b3e : JC 0x00896b45
00896b40 : MOV EAX,dword ptr [EDI + 0x3c]
00896b43 : JMP 0x00896b48
00896b45 : LEA EAX,[EDI + 0x3c]
00896b48 : PUSH ECX
00896b49 : PUSH EAX
00896b4a : PUSH 0xc46b04
00896b4f : LEA ESI,[EBP + -0x2c]
00896b52 : CALL 0x00404750
00896b57 : ADD ESP,0xc
00896b5a : MOV dword ptr [EBP + -0x4],0x1
00896b61 : MOV ECX,dword ptr [EBX + 0x38c]
00896b67 : MOV EDX,ESI
00896b69 : CALL 0x00a6bfe0
00896b6e : MOV dword ptr [EBP + -0x4],0xffffffff
00896b75 : MOV ECX,ESI
00896b77 : CALL 0x00406560
00896b7c : CMP byte ptr [EDI],0x0
00896b7f : JNZ 0x00896baa
00896b81 : MOV ECX,dword ptr [EBX + 0x138]
00896b87 : MOV EDX,dword ptr [ECX + 0x4]
00896b8a : MOV EAX,dword ptr [EDX + EBX*0x1 + 0x138]
00896b91 : MOV EAX,dword ptr [EAX + 0x10]
00896b94 : PUSH 0x1
00896b96 : LEA ECX,[EDX + EBX*0x1 + 0x138]
00896b9d : PUSH 0x1
00896b9f : PUSH 0x1
00896ba1 : LEA EDX,[EBX + 0xc88]
00896ba7 : PUSH EDX
00896ba8 : CALL EAX
00896baa : CMP byte ptr [EDI],0xc
00896bad : JNZ 0x00896bb6
00896baf : MOV byte ptr [EBX + 0x15ae],0x0
00896bb6 : CMP byte ptr [EBX + 0x426],0x0
00896bbd : JZ 0x00896bd5
00896bbf : MOV ECX,dword ptr [0x00da9894]
00896bc5 : MOV EAX,dword ptr [ECX]
00896bc7 : MOV EAX,dword ptr [EAX + 0x16c]
00896bcd : PUSH EAX
00896bce : MOV EAX,EDI
00896bd0 : CALL 0x00901540
00896bd5 : CMP byte ptr [EBP + 0xc],0x0
00896bd9 : JZ 0x00896e16
00896bdf : MOV EAX,dword ptr [EDI + 0x8]
00896be2 : MOV EDX,0x2710
00896be7 : CMP AX,DX
00896bea : JNZ 0x00896bf7
00896bec : PUSH 0x0
00896bee : MOV ECX,EBX
00896bf0 : CALL 0x00891cd0
00896bf5 : JMP 0x00896c0a
00896bf7 : MOV ECX,0x36b0
00896bfc : CMP AX,CX
00896bff : JNZ 0x00896c0a
00896c01 : PUSH 0x0
00896c03 : MOV ECX,EBX
00896c05 : CALL 0x00891e50
00896c0a : CMP dword ptr [EDI + 0x50],0x8
00896c0e : MOV ECX,dword ptr [EDI + 0x8]
00896c11 : LEA EAX,[EDI + 0x38]
00896c14 : MOV dword ptr [EBP + -0x30],EAX
00896c17 : JC 0x00896c1e
00896c19 : MOV EAX,dword ptr [EAX + 0x4]
00896c1c : JMP 0x00896c21
00896c1e : ADD EAX,0x4
00896c21 : PUSH ECX
00896c22 : PUSH EAX
00896c23 : PUSH 0xc46b10
00896c28 : LEA ESI,[EBP + -0x2c]
00896c2b : CALL 0x00404750
00896c30 : ADD ESP,0xc
00896c33 : MOV dword ptr [EBP + -0x4],0x2
00896c3a : XOR ESI,ESI
00896c3c : CMP dword ptr [EBX + 0x38c],ESI
00896c42 : JZ 0x00896ded
00896c48 : MOV EDX,dword ptr [EBP + -0x30]
00896c4b : PUSH EDX
00896c4c : LEA ECX,[EBP + -0x54]
00896c4f : CALL 0x00405660
00896c54 : MOV byte ptr [EBP + -0x4],0x3
00896c58 : MOV EAX,dword ptr [EBX]
00896c5a : MOV EDX,dword ptr [EAX + 0x200]
00896c60 : MOV ECX,EBX
00896c62 : CALL EDX
00896c64 : MOV EBX,dword ptr [EBX + 0x38c]
00896c6a : MOV byte ptr [EBP + -0x4],0x4
00896c6e : LEA ECX,[EBP + -0x68]
00896c71 : LEA EAX,[EBX + 0x70]
00896c74 : PUSH ECX
00896c75 : MOV dword ptr [EBP + -0x5c],ESI
00896c78 : MOV dword ptr [EBP + -0x68],EAX
00896c7b : MOV dword ptr [EBP + -0x64],0xc43ec4
00896c82 : MOV dword ptr [EBP + -0x60],0x30f
00896c89 : MOV dword ptr [EBP + -0x58],0x1
00896c90 : CALL 0x006ef1a0
00896c95 : MOV byte ptr [EBP + -0x4],0x4
00896c99 : CMP dword ptr [EBP + -0x5c],ESI
00896c9c : JZ 0x00896cab
00896c9e : MOV EDX,dword ptr [EBP + -0x68]
00896ca1 : PUSH EDX
00896ca2 : CALL dword ptr [0x00b8511c]
00896ca8 : MOV dword ptr [EBP + -0x5c],ESI
00896cab : LEA EAX,[EBP + -0x2c]
00896cae : PUSH EAX
00896caf : MOV ECX,EBX
00896cb1 : CALL 0x00a6bd50
00896cb6 : MOV ESI,EAX
00896cb8 : TEST ESI,ESI
00896cba : JNZ 0x00896d03
00896cbc : CMP dword ptr [EBP + -0x3c],0x8
00896cc0 : MOV EAX,dword ptr [EBP + -0x50]
00896cc3 : JNC 0x00896cc8
00896cc5 : LEA EAX,[EBP + -0x50]
00896cc8 : PUSH EAX
00896cc9 : XOR EDX,EDX
00896ccb : MOV ECX,0xc43ee0
00896cd0 : CALL 0x00405b70
00896cd5 : ADD ESP,0x4
00896cd8 : TEST EAX,EAX
00896cda : JNZ 0x00896cef
00896cdc : CMP dword ptr [EBP + -0x40],EAX
00896cdf : SETNZ AL
00896ce2 : TEST EAX,EAX
00896ce4 : JNZ 0x00896cef
00896ce6 : LEA ECX,[EBP + -0x2c]
00896ce9 : PUSH ECX
00896cea : MOV EDX,ECX
00896cec : PUSH EDX
00896ced : JMP 0x00896cf7
00896cef : LEA EAX,[EBP + -0x54]
00896cf2 : PUSH EAX
00896cf3 : LEA ECX,[EBP + -0x2c]
00896cf6 : PUSH ECX
00896cf7 : PUSH EBX
00896cf8 : CALL 0x00a6c6a0
00896cfd : MOV ESI,EAX
00896cff : TEST ESI,ESI
00896d01 : JZ 0x00896d3c
00896d03 : MOV EDI,ESI
00896d05 : MOV ECX,EBX
00896d07 : CALL 0x00a6b780
00896d0c : MOV EDI,EAX
00896d0e : TEST EDI,EDI
00896d10 : JNZ 0x00896d1b
00896d12 : PUSH EAX
00896d13 : PUSH EBX
00896d14 : MOV EDI,ESI
00896d16 : CALL 0x00a6d020
00896d1b : CMP byte ptr [EBX + 0x5c],0x0
00896d1f : JZ 0x00896dc1
00896d25 : MOV EDX,dword ptr [EDI]
00896d27 : MOV EAX,dword ptr [EDX + 0x24]
00896d2a : MOV ECX,EDI
00896d2c : CALL EAX
00896d2e : MOV ECX,EDI
00896d30 : MOV EDX,EBX
00896d32 : CALL 0x00a6c0d0
00896d37 : JMP 0x00896dc1
00896d3c : LEA ECX,[EBP + -0x2c]
00896d3f : PUSH ECX
00896d40 : MOV ECX,EBX
00896d42 : CALL 0x00a6bc70
00896d47 : MOV EDI,EAX
00896d49 : TEST EDI,EDI
00896d4b : JNZ 0x00896d92
00896d4d : MOV ESI,0xc43ee8
00896d52 : LEA ECX,[EBP + -0x54]
00896d55 : CALL 0x00403810
00896d5a : LEA EDX,[EBP + -0x2c]
00896d5d : TEST AL,AL
00896d5f : JZ 0x00896d67
00896d61 : PUSH EDX
00896d62 : MOV EAX,EDX
00896d64 : PUSH EAX
00896d65 : JMP 0x00896d6c
00896d67 : LEA ECX,[EBP + -0x54]
00896d6a : PUSH ECX
00896d6b : PUSH EDX
00896d6c : PUSH EBX
00896d6d : CALL 0x00a6d690
00896d72 : MOV EDI,EAX
00896d74 : TEST EDI,EDI
00896d76 : JNZ 0x00896d92
00896d78 : MOV byte ptr [EBP + -0x4],0x2
00896d7c : CMP dword ptr [EBP + -0x3c],0x8
00896d80 : JC 0x00896d8a
00896d82 : MOV ECX,dword ptr [EBP + -0x50]
00896d85 : CALL 0x006f04e0
00896d8a : XOR EAX,EAX
00896d8c : MOV word ptr [EBP + -0x50],AX
00896d90 : JMP 0x00896dd9
00896d92 : MOV ECX,EBX
00896d94 : CALL 0x00a6b6b0
00896d99 : MOV ESI,EAX
00896d9b : TEST ESI,ESI
00896d9d : JNZ 0x00896da8
00896d9f : MOV ESI,EBX
00896da1 : CALL 0x00a6c940
00896da6 : MOV ESI,EDI
00896da8 : CMP byte ptr [EBX + 0x5c],0x0
00896dac : JZ 0x00896dc1
00896dae : MOV EDX,dword ptr [ESI]
00896db0 : MOV EAX,dword ptr [EDX + 0xd4]
00896db6 : MOV ECX,ESI
00896db8 : CALL EAX
00896dba : MOV ECX,EBX
00896dbc : CALL 0x00a6b5d0
00896dc1 : MOV byte ptr [EBP + -0x4],0x2
00896dc5 : CMP dword ptr [EBP + -0x3c],0x8
00896dc9 : JC 0x00896dd3
00896dcb : MOV ECX,dword ptr [EBP + -0x50]
00896dce : CALL 0x006f04e0
00896dd3 : XOR ECX,ECX
00896dd5 : MOV word ptr [EBP + -0x50],CX
00896dd9 : MOV EDI,dword ptr [EBP + -0x38]
00896ddc : MOV EBX,dword ptr [EBP + -0x34]
00896ddf : MOV dword ptr [EBP + -0x40],0x0
00896de6 : MOV dword ptr [EBP + -0x3c],0x7
00896ded : MOV dword ptr [EBP + -0x4],0xffffffff
00896df4 : CMP dword ptr [EBP + -0x14],0x8
00896df8 : JC 0x00896e02
00896dfa : MOV ECX,dword ptr [EBP + -0x28]
00896dfd : CALL 0x006f04e0
00896e02 : XOR EDX,EDX
00896e04 : MOV dword ptr [EBP + -0x14],0x7
00896e0b : MOV dword ptr [EBP + -0x18],0x0
00896e12 : MOV word ptr [EBP + -0x28],DX
00896e16 : MOV EDI,dword ptr [EDI + 0x8]
00896e19 : MOV EAX,EDI
00896e1b : SHR EAX,0x10
00896e1e : CMP EAX,0x1411
00896e23 : JNZ 0x00896ea2
00896e25 : PUSH EDI
00896e26 : CALL 0x004049b0
00896e2b : ADD ESP,0x4
00896e2e : TEST EAX,EAX
00896e30 : JZ 0x00896ea2
00896e32 : CMP dword ptr [EAX + 0x37c],0x0
00896e39 : JBE 0x00896ea2
00896e3b : MOVSS XMM0,dword ptr [0x01720f24]
00896e43 : MOVSS XMM1,dword ptr [0x01720f28]
00896e4b : MOVSS XMM2,dword ptr [0x01720f20]
00896e53 : PUSH 0x0
00896e55 : SUB ESP,0xc
00896e58 : MOV EAX,ESP
00896e5a : MOVSS dword ptr [EAX],XMM2
00896e5e : MOVSS dword ptr [EAX + 0x4],XMM0
00896e63 : MOVSS dword ptr [EAX + 0x8],XMM1
00896e68 : MOVSS XMM0,dword ptr [0x01720f24]
00896e70 : MOVSS XMM1,dword ptr [0x01720f28]
00896e78 : MOVSS XMM2,dword ptr [0x01720f20]
00896e80 : MOV dword ptr [EBP + -0x30],ESP
00896e83 : SUB ESP,0xc
00896e86 : MOV EAX,ESP
00896e88 : MOVSS dword ptr [EAX],XMM2
00896e8c : MOVSS dword ptr [EAX + 0x4],XMM0
00896e91 : MOVSS dword ptr [EAX + 0x8],XMM1
00896e96 : XOR AL,AL
00896e98 : MOV ECX,EBX
00896e9a : MOV dword ptr [EBP + -0x30],ESP
00896e9d : CALL 0x0088ad80
00896ea2 : MOV ECX,dword ptr [EBP + -0xc]
00896ea5 : MOV dword ptr FS:[0x0],ECX
00896eac : POP ECX
00896ead : POP EDI
00896eae : POP ESI
00896eaf : POP EBX
00896eb0 : MOV ECX,dword ptr [EBP + -0x10]
00896eb3 : XOR ECX,EBP
00896eb5 : CALL 0x00633e6b
00896eba : MOV ESP,EBP
00896ebc : POP EBP
00896ebd : RET 0x8
