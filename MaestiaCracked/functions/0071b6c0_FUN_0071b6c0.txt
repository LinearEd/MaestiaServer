PROGRAM  : Maestia.exe
FUNCTION : FUN_0071b6c0
ENTRY    : 0071b6c0
BODY     : [[0071b6c0, 0071b876]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0071b6c0(int param_1)

{
  uint uVar1;
  int in_ECX;
  uint uVar2;
  uint uVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  undefined4 local_c;
  
  (**(code **)(**(int **)(in_ECX + 4) + 0x164))
            (*(int **)(in_ECX + 4),
             *(undefined4 *)(*(int *)(*(int *)(*(int *)(param_1 + 4) + 0x1e8) + 0xd0) + 0x18));
  uVar1 = (uint)*(ushort *)(*(int *)(param_1 + 4) + 0x228) * 0x1000000 + 0xffffff;
  fVar4 = (float)(uVar1 >> 0x10 & 0xff) * 0.003921569;
  fVar5 = (float)(uVar1 >> 8 & 0xff) * 0.003921569;
  fVar6 = (float)(uVar1 & 0xff) * 0.003921569;
  fVar7 = (float)(uVar1 >> 0x18) * 0.003921569;
  if (fVar4 < 1.0) {
    if (0.0 < fVar4) {
      local_c = (uint)(longlong)ROUND(fVar4 * 255.0 + DAT_00d72c24);
      uVar1 = local_c;
    }
    else {
      uVar1 = 0;
    }
  }
  else {
    uVar1 = 0xff;
  }
  if (fVar5 < 1.0) {
    if (0.0 < fVar5) {
      local_c = (uint)(longlong)ROUND(fVar5 * 255.0 + DAT_00d72c24);
      uVar3 = local_c;
    }
    else {
      uVar3 = 0;
    }
  }
  else {
    uVar3 = 0xff;
  }
  if (fVar6 < 1.0) {
    if (0.0 < fVar6) {
      local_c = (uint)(longlong)ROUND(fVar6 * 255.0 + DAT_00d72c24);
      uVar2 = local_c;
    }
    else {
      uVar2 = 0;
    }
  }
  else {
    uVar2 = 0xff;
  }
  if (fVar7 < 1.0) {
    if (0.0 < fVar7) {
      local_c = (uint)(longlong)ROUND(DAT_00d72c24 + fVar7 * 255.0);
    }
    else {
      local_c = 0;
    }
  }
  else {
    local_c = 0xff;
  }
  (**(code **)(**(int **)(in_ECX + 4) + 0xe4))
            (*(int **)(in_ECX + 4),0x3c,((local_c << 8 | uVar1) << 8 | uVar3) << 8 | uVar2);
  return;
}



============================================================
DISASSEMBLY
============================================================
0071b6c0 : PUSH EBP
0071b6c1 : MOV EBP,ESP
0071b6c3 : SUB ESP,0x18
0071b6c6 : PUSH EBX
0071b6c7 : PUSH ESI
0071b6c8 : MOV ESI,dword ptr [EBP + 0x8]
0071b6cb : MOV EDX,dword ptr [ESI + 0x4]
0071b6ce : MOV EDX,dword ptr [EDX + 0x1e8]
0071b6d4 : MOV EDX,dword ptr [EDX + 0xd0]
0071b6da : MOV EDX,dword ptr [EDX + 0x18]
0071b6dd : PUSH EDI
0071b6de : MOV EDI,ECX
0071b6e0 : MOV EAX,dword ptr [EDI + 0x4]
0071b6e3 : MOV ECX,dword ptr [EAX]
0071b6e5 : PUSH EDX
0071b6e6 : PUSH EAX
0071b6e7 : MOV EAX,dword ptr [ECX + 0x164]
0071b6ed : CALL EAX
0071b6ef : FLD float ptr [0x00cdf130]
0071b6f5 : MOV ECX,dword ptr [ESI + 0x4]
0071b6f8 : FLD float ptr [0x00d72c24]
0071b6fe : MOVZX EAX,word ptr [ECX + 0x228]
0071b705 : MOVSS XMM1,dword ptr [0x00cdf178]
0071b70d : XORPS XMM5,XMM5
0071b710 : SHL EAX,0x18
0071b713 : ADD EAX,0xffffff
0071b718 : MOV EDX,EAX
0071b71a : SHR EDX,0x10
0071b71d : MOVZX ECX,DL
0071b720 : MOV EDX,EAX
0071b722 : SHR EDX,0x8
0071b725 : CVTSI2SS XMM0,ECX
0071b729 : MOVZX ECX,DL
0071b72c : MOVZX EDX,AL
0071b72f : SHR EAX,0x18
0071b732 : MULSS XMM0,XMM1
0071b736 : CVTSI2SS XMM2,ECX
0071b73a : MULSS XMM2,XMM1
0071b73e : CVTSI2SS XMM3,EDX
0071b742 : MULSS XMM3,XMM1
0071b746 : CVTSI2SS XMM4,EAX
0071b74a : MULSS XMM4,XMM1
0071b74e : MOVSS XMM1,dword ptr [0x00c10fc4]
0071b756 : COMISS XMM0,XMM1
0071b759 : MOVSS dword ptr [EBP + -0x18],XMM0
0071b75e : MOVSS dword ptr [EBP + -0x14],XMM2
0071b763 : MOVSS dword ptr [EBP + -0x10],XMM3
0071b768 : MOVSS dword ptr [EBP + -0xc],XMM4
0071b76d : JC 0x0071b776
0071b76f : MOV EBX,0xff
0071b774 : JMP 0x0071b7a1
0071b776 : COMISS XMM5,XMM0
0071b779 : JC 0x0071b77f
0071b77b : XOR EBX,EBX
0071b77d : JMP 0x0071b7a1
0071b77f : FLD float ptr [EBP + -0x18]
0071b782 : FNSTCW word ptr [EBP + 0xa]
0071b785 : MOVZX EAX,word ptr [EBP + 0xa]
0071b789 : FMUL ST2
0071b78b : OR EAX,0xc00
0071b790 : MOV dword ptr [EBP + -0x4],EAX
0071b793 : FADD ST0,ST1
0071b795 : FLDCW word ptr [EBP + -0x4]
0071b798 : FISTP qword ptr [EBP + -0x8]
0071b79b : MOV EBX,dword ptr [EBP + -0x8]
0071b79e : FLDCW word ptr [EBP + 0xa]
0071b7a1 : COMISS XMM2,XMM1
0071b7a4 : JC 0x0071b7ad
0071b7a6 : MOV ESI,0xff
0071b7ab : JMP 0x0071b7d8
0071b7ad : COMISS XMM5,XMM2
0071b7b0 : JC 0x0071b7b6
0071b7b2 : XOR ESI,ESI
0071b7b4 : JMP 0x0071b7d8
0071b7b6 : FLD float ptr [EBP + -0x14]
0071b7b9 : FNSTCW word ptr [EBP + 0xa]
0071b7bc : MOVZX EAX,word ptr [EBP + 0xa]
0071b7c0 : FMUL ST2
0071b7c2 : OR EAX,0xc00
0071b7c7 : MOV dword ptr [EBP + -0x4],EAX
0071b7ca : FADD ST0,ST1
0071b7cc : FLDCW word ptr [EBP + -0x4]
0071b7cf : FISTP qword ptr [EBP + -0x8]
0071b7d2 : MOV ESI,dword ptr [EBP + -0x8]
0071b7d5 : FLDCW word ptr [EBP + 0xa]
0071b7d8 : COMISS XMM3,XMM1
0071b7db : JC 0x0071b7e4
0071b7dd : MOV EDX,0xff
0071b7e2 : JMP 0x0071b80f
0071b7e4 : COMISS XMM5,XMM3
0071b7e7 : JC 0x0071b7ed
0071b7e9 : XOR EDX,EDX
0071b7eb : JMP 0x0071b80f
0071b7ed : FLD float ptr [EBP + -0x10]
0071b7f0 : FNSTCW word ptr [EBP + 0xa]
0071b7f3 : MOVZX EAX,word ptr [EBP + 0xa]
0071b7f7 : FMUL ST2
0071b7f9 : OR EAX,0xc00
0071b7fe : MOV dword ptr [EBP + -0x4],EAX
0071b801 : FADD ST0,ST1
0071b803 : FLDCW word ptr [EBP + -0x4]
0071b806 : FISTP qword ptr [EBP + -0x8]
0071b809 : MOV EDX,dword ptr [EBP + -0x8]
0071b80c : FLDCW word ptr [EBP + 0xa]
0071b80f : COMISS XMM4,XMM1
0071b812 : JC 0x0071b81f
0071b814 : FSTP ST1
0071b816 : MOV EAX,0xff
0071b81b : FSTP ST0
0071b81d : JMP 0x0071b84e
0071b81f : COMISS XMM5,XMM4
0071b822 : JC 0x0071b82c
0071b824 : FSTP ST1
0071b826 : XOR EAX,EAX
0071b828 : FSTP ST0
0071b82a : JMP 0x0071b84e
0071b82c : FLD float ptr [EBP + -0xc]
0071b82f : FNSTCW word ptr [EBP + 0xa]
0071b832 : MOVZX EAX,word ptr [EBP + 0xa]
0071b836 : FMULP ST2
0071b838 : OR EAX,0xc00
0071b83d : MOV dword ptr [EBP + -0x4],EAX
0071b840 : FADDP
0071b842 : FLDCW word ptr [EBP + -0x4]
0071b845 : FISTP qword ptr [EBP + -0x8]
0071b848 : MOV EAX,dword ptr [EBP + -0x8]
0071b84b : FLDCW word ptr [EBP + 0xa]
0071b84e : MOV ECX,dword ptr [EDI + 0x4]
0071b851 : MOV EDI,dword ptr [ECX]
0071b853 : SHL EAX,0x8
0071b856 : OR EAX,EBX
0071b858 : SHL EAX,0x8
0071b85b : OR EAX,ESI
0071b85d : SHL EAX,0x8
0071b860 : OR EAX,EDX
0071b862 : PUSH EAX
0071b863 : MOV EAX,dword ptr [EDI + 0xe4]
0071b869 : PUSH 0x3c
0071b86b : PUSH ECX
0071b86c : CALL EAX
0071b86e : POP EDI
0071b86f : POP ESI
0071b870 : POP EBX
0071b871 : MOV ESP,EBP
0071b873 : POP EBP
0071b874 : RET 0x4
