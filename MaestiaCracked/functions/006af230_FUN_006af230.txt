PROGRAM  : Maestia.exe
FUNCTION : FUN_006af230
ENTRY    : 006af230
BODY     : [[006af230, 006af32d]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006af230(int param_1,int param_2,int param_3)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined4 uVar6;
  uint uVar7;
  uint uVar8;
  byte *pbVar9;
  uint uVar10;
  uint local_50;
  undefined4 local_40 [16];
  
  iVar1 = *(int *)(param_1 + 0x210);
  uVar6 = 6;
  if ((iVar1 != 0) && (*(int *)(iVar1 + 4) == param_2)) {
    local_50 = 0;
    if (*(int *)(iVar1 + 4) != 0) {
      pbVar9 = (byte *)(iVar1 + 0x58);
      do {
        uVar10 = (uint)*pbVar9;
        iVar2 = *(int *)(pbVar9 + 4);
        iVar3 = *(int *)(param_3 + local_50 * 4);
        uVar8 = 0xffffffff;
        uVar5 = 0;
        if (uVar10 == 0) {
LAB_006af2b8:
          uVar6 = **(undefined4 **)(pbVar9 + 8);
        }
        else {
          do {
            uVar7 = uVar5;
            iVar4 = *(int *)(iVar2 + uVar7 * 4);
            if (iVar3 == iVar4) {
              uVar6 = *(undefined4 *)(*(int *)(pbVar9 + 8) + uVar7 * 4);
              goto LAB_006af2f2;
            }
            if (iVar3 < iVar4) goto LAB_006af2b4;
            uVar5 = uVar7 + 1;
            uVar8 = uVar7;
          } while (uVar7 + 1 < uVar10);
          uVar7 = 0xffffffff;
LAB_006af2b4:
          if ((int)uVar8 < 0) goto LAB_006af2b8;
          if ((int)uVar7 < 0) {
            uVar6 = *(undefined4 *)(*(int *)(pbVar9 + 8) + -4 + uVar10 * 4);
          }
          else {
            iVar4 = *(int *)(iVar2 + uVar8 * 4);
            uVar6 = FUN_00685d60(iVar3 - iVar4,
                                 *(int *)(*(int *)(pbVar9 + 8) + uVar7 * 4) -
                                 *(int *)(*(int *)(pbVar9 + 8) + uVar8 * 4),
                                 *(int *)(iVar2 + uVar7 * 4) - iVar4);
          }
        }
LAB_006af2f2:
        local_40[local_50] = uVar6;
        local_50 = local_50 + 1;
        pbVar9 = pbVar9 + 0xc;
      } while (local_50 < *(uint *)(iVar1 + 4));
    }
    uVar6 = FUN_006af1a0(param_1,param_2,local_40);
  }
  return uVar6;
}



============================================================
DISASSEMBLY
============================================================
006af230 : SUB ESP,0x50
006af233 : MOV EAX,dword ptr [ESP + 0x54]
006af237 : PUSH EBX
006af238 : MOV EBX,dword ptr [EAX + 0x210]
006af23e : MOV dword ptr [ESP + 0x10],EBX
006af242 : MOV EAX,0x6
006af247 : TEST EBX,EBX
006af249 : JZ 0x006af329
006af24f : MOV ECX,dword ptr [EBX + 0x4]
006af252 : CMP ECX,dword ptr [ESP + 0x5c]
006af256 : JNZ 0x006af329
006af25c : XOR EDX,EDX
006af25e : MOV dword ptr [ESP + 0x4],EDX
006af262 : TEST ECX,ECX
006af264 : JBE 0x006af312
006af26a : MOV EAX,dword ptr [ESP + 0x60]
006af26e : PUSH EBP
006af26f : LEA ECX,[ESP + 0x18]
006af273 : ADD EBX,0x58
006af276 : PUSH ESI
006af277 : SUB EAX,ECX
006af279 : PUSH EDI
006af27a : MOV dword ptr [ESP + 0x14],EAX
006af27e : JMP 0x006af284
006af280 : MOV EAX,dword ptr [ESP + 0x14]
006af284 : MOVZX ESI,byte ptr [EBX]
006af287 : MOV EDI,dword ptr [EBX + 0x4]
006af28a : LEA EDX,[EAX + EDX*0x4]
006af28d : MOV ECX,dword ptr [ESP + EDX*0x1 + 0x20]
006af291 : OR EDX,0xffffffff
006af294 : XOR EAX,EAX
006af296 : MOV dword ptr [ESP + 0x18],EDX
006af29a : TEST ESI,ESI
006af29c : JBE 0x006af2b8
006af29e : MOV EDI,EDI
006af2a0 : MOV EBP,dword ptr [EDI + EAX*0x4]
006af2a3 : CMP ECX,EBP
006af2a5 : JZ 0x006af2bf
006af2a7 : JL 0x006af2b4
006af2a9 : MOV EDX,EAX
006af2ab : INC EAX
006af2ac : CMP EAX,ESI
006af2ae : JC 0x006af2a0
006af2b0 : MOV EAX,dword ptr [ESP + 0x18]
006af2b4 : TEST EDX,EDX
006af2b6 : JGE 0x006af2c7
006af2b8 : MOV EAX,dword ptr [EBX + 0x8]
006af2bb : MOV EAX,dword ptr [EAX]
006af2bd : JMP 0x006af2f2
006af2bf : MOV ECX,dword ptr [EBX + 0x8]
006af2c2 : MOV EAX,dword ptr [ECX + EAX*0x4]
006af2c5 : JMP 0x006af2f2
006af2c7 : TEST EAX,EAX
006af2c9 : JGE 0x006af2d4
006af2cb : MOV EAX,dword ptr [EBX + 0x8]
006af2ce : MOV EAX,dword ptr [EAX + ESI*0x4 + -0x4]
006af2d2 : JMP 0x006af2f2
006af2d4 : MOV ESI,dword ptr [EDI + EAX*0x4]
006af2d7 : MOV EBP,dword ptr [EDI + EDX*0x4]
006af2da : SUB ESI,EBP
006af2dc : PUSH ESI
006af2dd : MOV ESI,dword ptr [EBX + 0x8]
006af2e0 : MOV EAX,dword ptr [ESI + EAX*0x4]
006af2e3 : SUB EAX,dword ptr [ESI + EDX*0x4]
006af2e6 : SUB ECX,EBP
006af2e8 : PUSH EAX
006af2e9 : PUSH ECX
006af2ea : CALL 0x00685d60
006af2ef : ADD ESP,0xc
006af2f2 : MOV EDX,dword ptr [ESP + 0x10]
006af2f6 : MOV ECX,dword ptr [ESP + 0x1c]
006af2fa : MOV dword ptr [ESP + EDX*0x4 + 0x20],EAX
006af2fe : INC EDX
006af2ff : ADD EBX,0xc
006af302 : MOV dword ptr [ESP + 0x10],EDX
006af306 : CMP EDX,dword ptr [ECX + 0x4]
006af309 : JC 0x006af280
006af30f : POP EDI
006af310 : POP ESI
006af311 : POP EBP
006af312 : MOV EAX,dword ptr [ESP + 0x5c]
006af316 : MOV ECX,dword ptr [ESP + 0x58]
006af31a : LEA EDX,[ESP + 0x14]
006af31e : PUSH EDX
006af31f : PUSH EAX
006af320 : PUSH ECX
006af321 : CALL 0x006af1a0
006af326 : ADD ESP,0xc
006af329 : POP EBX
006af32a : ADD ESP,0x50
006af32d : RET
