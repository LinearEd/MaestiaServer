PROGRAM  : Maestia.exe
FUNCTION : FUN_00904e70
ENTRY    : 00904e70
BODY     : [[00904e70, 00904f4f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00904e70(int param_1)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  int unaff_ESI;
  int local_c;
  int local_8;
  
  local_8 = param_1;
  FUN_004437f0(&local_8);
  iVar1 = *(int *)(unaff_ESI + 0x40);
  if (local_c == iVar1) {
    iVar2 = 0;
  }
  else {
    iVar2 = *(int *)(local_c + 0x10);
  }
  if (*(char *)(iVar2 + 0x32) == '\0') {
    local_c = param_1;
    FUN_004437f0(&local_c);
    if (local_8 == iVar1) {
      piVar3 = (int *)0x0;
    }
    else {
      piVar3 = *(int **)(local_8 + 0x10);
    }
    (**(code **)(*piVar3 + 0x18))(1,300);
    switch(param_1) {
    case 0x40:
      *(undefined4 *)(unaff_ESI + 0x50) = 0;
      *(undefined2 *)(unaff_ESI + 0x48) = 0;
      return;
    case 0x41:
      *(undefined4 *)(unaff_ESI + 0x50) = 1;
      *(undefined2 *)(unaff_ESI + 0x48) = 1;
      return;
    case 0x42:
      *(undefined4 *)(unaff_ESI + 0x50) = 2;
      *(undefined2 *)(unaff_ESI + 0x48) = 2;
      return;
    case 0x94:
      *(undefined4 *)(unaff_ESI + 0x50) = 3;
      *(undefined2 *)(unaff_ESI + 0x48) = 3;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00904e70 : PUSH EBP
00904e71 : MOV EBP,ESP
00904e73 : SUB ESP,0x8
00904e76 : MOV EAX,dword ptr [EBP + 0x8]
00904e79 : PUSH EBX
00904e7a : PUSH EDI
00904e7b : LEA ECX,[EBP + -0x4]
00904e7e : MOV dword ptr [EBP + -0x4],EAX
00904e81 : LEA EDI,[ESI + 0x3c]
00904e84 : PUSH ECX
00904e85 : LEA EAX,[EBP + -0x8]
00904e88 : MOV ECX,EDI
00904e8a : CALL 0x004437f0
00904e8f : MOV EBX,dword ptr [ESI + 0x40]
00904e92 : MOV EAX,dword ptr [EBP + -0x8]
00904e95 : CMP EAX,EBX
00904e97 : JNZ 0x00904e9d
00904e99 : XOR EAX,EAX
00904e9b : JMP 0x00904ea0
00904e9d : MOV EAX,dword ptr [EAX + 0x10]
00904ea0 : CMP byte ptr [EAX + 0x32],0x0
00904ea4 : JNZ 0x00904f48
00904eaa : MOV EDX,dword ptr [EBP + 0x8]
00904ead : LEA EAX,[EBP + -0x8]
00904eb0 : PUSH EAX
00904eb1 : LEA EAX,[EBP + -0x4]
00904eb4 : MOV ECX,EDI
00904eb6 : MOV dword ptr [EBP + -0x8],EDX
00904eb9 : CALL 0x004437f0
00904ebe : MOV EAX,dword ptr [EBP + -0x4]
00904ec1 : CMP EAX,EBX
00904ec3 : JNZ 0x00904ec9
00904ec5 : XOR ECX,ECX
00904ec7 : JMP 0x00904ecc
00904ec9 : MOV ECX,dword ptr [EAX + 0x10]
00904ecc : MOV EDX,dword ptr [ECX]
00904ece : MOV EAX,dword ptr [EDX + 0x18]
00904ed1 : PUSH 0x12c
00904ed6 : PUSH 0x1
00904ed8 : CALL EAX
00904eda : MOV EAX,dword ptr [EBP + 0x8]
00904edd : ADD EAX,-0x40
00904ee0 : CMP EAX,0x54
00904ee3 : JA 0x00904f48
00904ee5 : MOVZX ECX,byte ptr [EAX + 0x904f64]
00904eec : JMP dword ptr [ECX*0x4 + 0x904f50]
00904ef3 : XOR EDX,EDX
00904ef5 : POP EDI
00904ef6 : MOV dword ptr [ESI + 0x50],0x0
00904efd : MOV word ptr [ESI + 0x48],DX
00904f01 : POP EBX
00904f02 : MOV ESP,EBP
00904f04 : POP EBP
00904f05 : RET 0x4
00904f08 : MOV EAX,0x1
00904f0d : POP EDI
00904f0e : MOV dword ptr [ESI + 0x50],0x1
00904f15 : MOV word ptr [ESI + 0x48],AX
00904f19 : POP EBX
00904f1a : MOV ESP,EBP
00904f1c : POP EBP
00904f1d : RET 0x4
00904f20 : MOV ECX,0x2
00904f25 : POP EDI
00904f26 : MOV dword ptr [ESI + 0x50],0x2
00904f2d : MOV word ptr [ESI + 0x48],CX
00904f31 : POP EBX
00904f32 : MOV ESP,EBP
00904f34 : POP EBP
00904f35 : RET 0x4
00904f38 : MOV EDX,0x3
00904f3d : MOV dword ptr [ESI + 0x50],0x3
00904f44 : MOV word ptr [ESI + 0x48],DX
00904f48 : POP EDI
00904f49 : POP EBX
00904f4a : MOV ESP,EBP
00904f4c : POP EBP
00904f4d : RET 0x4
