PROGRAM  : Maestia.exe
FUNCTION : FUN_00942b10
ENTRY    : 00942b10
BODY     : [[00942b10, 00942b4b] [00942b53, 00942bf6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00942b10(int *param_1,undefined4 param_2,char param_3)

{
  code *pcVar1;
  uint uVar2;
  undefined4 uVar3;
  undefined4 in_ECX;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3fe2b;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(param_1[0xf] + 0x10) != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *(undefined4 *)(param_1[0xf] + 0xc) = param_2;
  *(undefined4 *)(param_1[0xf] + 8) = in_ECX;
  FUN_00908190(uVar2);
  if (param_3 == '\x01') {
    *(undefined2 *)(param_1 + 0x1c) = 0;
    pcVar1 = *(code **)(*param_1 + 0x90);
    *(undefined1 *)(param_1 + 0x1f) = 1;
    *(undefined1 *)(param_1 + 0x19) = 1;
    (*pcVar1)(0x301);
  }
  uVar3 = DAT_00da9868;
  *(short *)((int)param_1 + 0x72) = (short)in_ECX;
  uVar3 = FUN_00404750(L"pocket_%d",uVar3);
  local_8 = 0;
  FUN_00405eb0(uVar3,0,0xffffffff);
  local_8 = 0xffffffff;
  if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  *(undefined1 *)(param_1 + 2) = 1;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00942b10 : PUSH EBP
00942b11 : MOV EBP,ESP
00942b13 : PUSH -0x1
00942b15 : PUSH 0xb3fe2b
00942b1a : MOV EAX,FS:[0x0]
00942b20 : PUSH EAX
00942b21 : SUB ESP,0x1c
00942b24 : PUSH EBX
00942b25 : PUSH ESI
00942b26 : PUSH EDI
00942b27 : MOV EAX,[0x00d66fa0]
00942b2c : XOR EAX,EBP
00942b2e : PUSH EAX
00942b2f : LEA EAX,[EBP + -0xc]
00942b32 : MOV FS:[0x0],EAX
00942b38 : MOV ESI,ECX
00942b3a : MOV EBX,dword ptr [EBP + 0x8]
00942b3d : MOV EDI,dword ptr [EBX + 0x3c]
00942b40 : MOV ECX,dword ptr [EDI + 0x10]
00942b43 : TEST ECX,ECX
00942b45 : JZ 0x00942b53
00942b47 : CALL 0x006f04e0
00942b53 : MOV EAX,dword ptr [EBX + 0x3c]
00942b56 : MOV ECX,dword ptr [EBP + 0xc]
00942b59 : MOV dword ptr [EAX + 0xc],ECX
00942b5c : MOV EAX,dword ptr [EBX + 0x3c]
00942b5f : MOV dword ptr [EAX + 0x8],ESI
00942b62 : MOV EDI,dword ptr [EBX + 0x3c]
00942b65 : CALL 0x00908190
00942b6a : CMP byte ptr [EBP + 0x10],0x1
00942b6e : JNZ 0x00942b8f
00942b70 : MOV EAX,dword ptr [EBX]
00942b72 : XOR EDX,EDX
00942b74 : MOV word ptr [EBX + 0x70],DX
00942b78 : MOV EDX,dword ptr [EAX + 0x90]
00942b7e : PUSH 0x301
00942b83 : MOV ECX,EBX
00942b85 : MOV byte ptr [EBX + 0x7c],0x1
00942b89 : MOV byte ptr [EBX + 0x64],0x1
00942b8d : CALL EDX
00942b8f : MOV EAX,[0x00da9868]
00942b94 : PUSH EAX
00942b95 : MOV word ptr [EBX + 0x72],SI
00942b99 : PUSH 0xc718d0
00942b9e : LEA ESI,[EBP + -0x28]
00942ba1 : CALL 0x00404750
00942ba6 : ADD ESP,0x8
00942ba9 : XOR ESI,ESI
00942bab : MOV dword ptr [EBP + -0x4],ESI
00942bae : PUSH -0x1
00942bb0 : PUSH ESI
00942bb1 : PUSH EAX
00942bb2 : LEA ECX,[EBX + 0xc]
00942bb5 : CALL 0x00405eb0
00942bba : MOV dword ptr [EBP + -0x4],0xffffffff
00942bc1 : CMP dword ptr [EBP + -0x10],0x8
00942bc5 : JC 0x00942bcf
00942bc7 : MOV ECX,dword ptr [EBP + -0x24]
00942bca : CALL 0x006f04e0
00942bcf : XOR ECX,ECX
00942bd1 : MOV dword ptr [EBP + -0x10],0x7
00942bd8 : MOV dword ptr [EBP + -0x14],ESI
00942bdb : MOV word ptr [EBP + -0x24],CX
00942bdf : MOV byte ptr [EBX + 0x8],0x1
00942be3 : MOV ECX,dword ptr [EBP + -0xc]
00942be6 : MOV dword ptr FS:[0x0],ECX
00942bed : POP ECX
00942bee : POP EDI
00942bef : POP ESI
00942bf0 : POP EBX
00942bf1 : MOV ESP,EBP
00942bf3 : POP EBP
00942bf4 : RET 0xc
