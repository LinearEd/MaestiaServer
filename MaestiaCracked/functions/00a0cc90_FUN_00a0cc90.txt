PROGRAM  : Maestia.exe
FUNCTION : FUN_00a0cc90
ENTRY    : 00a0cc90
BODY     : [[00a0cc90, 00a0cd6c]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00a0cc90(void)

{
  wchar_t *pwVar1;
  undefined4 *unaff_EDI;
  WCHAR local_21c [260];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b4d060;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  _DAT_017247e0 = unaff_EDI;
  if (unaff_EDI == (undefined4 *)0xfffffffc) {
    _DAT_017247e0 = (undefined4 *)0x0;
  }
  local_8 = 0;
  FUN_006ed980(local_14);
  *unaff_EDI = &PTR_FUN_00cca90c;
  DAT_00da9428 = 0;
  GetModuleFileNameW((HMODULE)0x0,local_21c,0x104);
  pwVar1 = _wcsrchr(local_21c,L'.');
  lstrcpynW((LPWSTR)&DAT_00da9430,local_21c,((int)pwVar1 - (int)local_21c >> 1) + 1);
  SetUnhandledExceptionFilter(FUN_00a0cc70);
  FID_conflict___set_inconsistency(FUN_00a0cb70);
  local_8 = 0xffffffff;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a0cc90 : PUSH EBP
00a0cc91 : MOV EBP,ESP
00a0cc93 : PUSH -0x1
00a0cc95 : PUSH 0xb4d060
00a0cc9a : MOV EAX,FS:[0x0]
00a0cca0 : PUSH EAX
00a0cca1 : SUB ESP,0x20c
00a0cca7 : MOV EAX,[0x00d66fa0]
00a0ccac : XOR EAX,EBP
00a0ccae : MOV dword ptr [EBP + -0x10],EAX
00a0ccb1 : PUSH ESI
00a0ccb2 : PUSH EAX
00a0ccb3 : LEA EAX,[EBP + -0xc]
00a0ccb6 : MOV FS:[0x0],EAX
00a0ccbc : LEA ESI,[EDI + 0x4]
00a0ccbf : TEST ESI,ESI
00a0ccc1 : JZ 0x00a0cccd
00a0ccc3 : LEA EAX,[ESI + -0x4]
00a0ccc6 : MOV [0x017247e0],EAX
00a0cccb : JMP 0x00a0ccd7
00a0cccd : MOV dword ptr [0x017247e0],0x0
00a0ccd7 : MOV dword ptr [EBP + -0x4],0x0
00a0ccde : CALL 0x006ed980
00a0cce3 : PUSH 0x104
00a0cce8 : LEA ECX,[EBP + 0xfffffde8]
00a0ccee : PUSH ECX
00a0ccef : PUSH 0x0
00a0ccf1 : MOV dword ptr [EDI],0xcca90c
00a0ccf7 : MOV dword ptr [0x00da9428],0x0
00a0cd01 : CALL dword ptr [0x00b85144]
00a0cd07 : LEA EDX,[EBP + 0xfffffde8]
00a0cd0d : PUSH 0x2e
00a0cd0f : PUSH EDX
00a0cd10 : CALL 0x0063712e
00a0cd15 : LEA ECX,[EBP + 0xfffffde8]
00a0cd1b : SUB EAX,ECX
00a0cd1d : ADD ESP,0x8
00a0cd20 : SAR EAX,0x1
00a0cd22 : INC EAX
00a0cd23 : PUSH EAX
00a0cd24 : MOV EDX,ECX
00a0cd26 : PUSH EDX
00a0cd27 : PUSH 0xda9430
00a0cd2c : CALL dword ptr [0x00b85148]
00a0cd32 : PUSH 0xa0cc70
00a0cd37 : CALL dword ptr [0x00b8514c]
00a0cd3d : PUSH 0xa0cb70
00a0cd42 : CALL 0x00637291
00a0cd47 : ADD ESP,0x4
00a0cd4a : MOV dword ptr [EBP + -0x4],0xffffffff
00a0cd51 : MOV EAX,EDI
00a0cd53 : MOV ECX,dword ptr [EBP + -0xc]
00a0cd56 : MOV dword ptr FS:[0x0],ECX
00a0cd5d : POP ECX
00a0cd5e : POP ESI
00a0cd5f : MOV ECX,dword ptr [EBP + -0x10]
00a0cd62 : XOR ECX,EBP
00a0cd64 : CALL 0x00633e6b
00a0cd69 : MOV ESP,EBP
00a0cd6b : POP EBP
00a0cd6c : RET
