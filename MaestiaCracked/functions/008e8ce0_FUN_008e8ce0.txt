PROGRAM  : Maestia.exe
FUNCTION : FUN_008e8ce0
ENTRY    : 008e8ce0
BODY     : [[008e8ce0, 008e8d90]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008e8ce0(undefined4 param_1,int param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int *piVar3;
  int unaff_ESI;
  uint uVar4;
  undefined4 *local_8;
  
  if (*(int *)(unaff_ESI + 0x48) != -1) {
    local_8 = (undefined4 *)FUN_006f0760(0xc,"",0,(DAT_01725270 >> 3 & 1) == 0);
    *local_8 = param_1;
    local_8[1] = param_2;
    local_8[2] = param_3;
    iVar1 = *(int *)(*(int *)(unaff_ESI + 0x58) + *(int *)(unaff_ESI + 0x48) * 4);
    iVar2 = *(int *)(iVar1 + 200);
    if (iVar2 == 0) {
      uVar4 = 0;
    }
    else {
      uVar4 = *(int *)(iVar1 + 0xd0) - iVar2 >> 2;
    }
    piVar3 = *(int **)(iVar1 + 0xcc);
    if ((uint)((int)piVar3 - iVar2 >> 2) < uVar4) {
      *piVar3 = (int)local_8;
      *(int **)(iVar1 + 0xcc) = piVar3 + 1;
    }
    else {
      FUN_004d2c60(iVar1 + 0xc4,piVar3,&local_8);
    }
    *(undefined1 *)
     (*(int *)(*(int *)(unaff_ESI + 0x58) + *(int *)(unaff_ESI + 0x48) * 4) + 0xa2 + param_2) = 1;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
008e8ce0 : PUSH EBP
008e8ce1 : MOV EBP,ESP
008e8ce3 : PUSH ECX
008e8ce4 : CMP dword ptr [ESI + 0x48],-0x1
008e8ce8 : PUSH EBX
008e8ce9 : PUSH EDI
008e8cea : JZ 0x008e8d89
008e8cf0 : MOV EAX,[0x01725270]
008e8cf5 : SHR EAX,0x3
008e8cf8 : MOV ECX,0x0
008e8cfd : AND EAX,0x1
008e8d00 : SETZ CL
008e8d03 : PUSH ECX
008e8d04 : PUSH 0x0
008e8d06 : PUSH 0xbf1a4a
008e8d0b : PUSH 0xc
008e8d0d : CALL 0x006f0760
008e8d12 : MOV EDX,dword ptr [EBP + 0x8]
008e8d15 : MOV ECX,dword ptr [EBP + 0xc]
008e8d18 : MOV dword ptr [EAX],EDX
008e8d1a : MOV EDX,dword ptr [EBP + 0x10]
008e8d1d : MOV dword ptr [EAX + 0x4],ECX
008e8d20 : MOV dword ptr [EAX + 0x8],EDX
008e8d23 : MOV EDX,dword ptr [ESI + 0x58]
008e8d26 : MOV ECX,dword ptr [ESI + 0x48]
008e8d29 : MOV ECX,dword ptr [EDX + ECX*0x4]
008e8d2c : MOV EDX,dword ptr [ECX + 0xc8]
008e8d32 : ADD ECX,0xc4
008e8d38 : ADD ESP,0x10
008e8d3b : MOV dword ptr [EBP + -0x4],EAX
008e8d3e : TEST EDX,EDX
008e8d40 : JNZ 0x008e8d46
008e8d42 : XOR EDI,EDI
008e8d44 : JMP 0x008e8d4e
008e8d46 : MOV EDI,dword ptr [ECX + 0xc]
008e8d49 : SUB EDI,EDX
008e8d4b : SAR EDI,0x2
008e8d4e : MOV EBX,dword ptr [ECX + 0x8]
008e8d51 : MOV dword ptr [EBP + 0x8],EBX
008e8d54 : SUB EBX,EDX
008e8d56 : MOV EDX,dword ptr [EBP + 0x8]
008e8d59 : SAR EBX,0x2
008e8d5c : CMP EBX,EDI
008e8d5e : JNC 0x008e8d6a
008e8d60 : MOV dword ptr [EDX],EAX
008e8d62 : ADD EDX,0x4
008e8d65 : MOV dword ptr [ECX + 0x8],EDX
008e8d68 : JMP 0x008e8d75
008e8d6a : LEA EAX,[EBP + -0x4]
008e8d6d : PUSH EAX
008e8d6e : PUSH EDX
008e8d6f : PUSH ECX
008e8d70 : CALL 0x004d2c60
008e8d75 : MOV EAX,dword ptr [ESI + 0x48]
008e8d78 : MOV ECX,dword ptr [ESI + 0x58]
008e8d7b : MOV EDX,dword ptr [ECX + EAX*0x4]
008e8d7e : MOV EAX,dword ptr [EBP + 0xc]
008e8d81 : MOV byte ptr [EDX + EAX*0x1 + 0xa2],0x1
008e8d89 : POP EDI
008e8d8a : POP EBX
008e8d8b : MOV ESP,EBP
008e8d8d : POP EBP
008e8d8e : RET 0xc
