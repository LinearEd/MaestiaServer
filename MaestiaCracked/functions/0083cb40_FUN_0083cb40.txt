PROGRAM  : Maestia.exe
FUNCTION : FUN_0083cb40
ENTRY    : 0083cb40
BODY     : [[0083cb40, 0083ce03]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0083cb40(undefined1 param_1)

{
  uint uVar1;
  undefined4 uVar2;
  int in_ECX;
  undefined1 local_64 [4];
  undefined2 local_60;
  undefined4 local_50;
  uint local_4c;
  undefined2 local_44;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  uint local_30;
  undefined4 local_2c;
  float local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b37a2f;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(int *)(in_ECX + 0x16f0) == 0) {
    FUN_00406460(L"HeadEffectNode");
    local_8 = 0;
    local_20 = 0x3f800000;
    local_1c = 0x3f800000;
    local_18 = 0x3f800000;
    local_30 = 0x3f800000;
    local_28 = *(float *)(in_ECX + 0x418) + 2.5;
    local_3c = 0;
    local_38 = 0;
    local_34 = 0;
    local_2c = 0;
    local_24 = 0;
    uVar2 = (**(code **)(**(int **)(in_ECX + 1000) + 0x20))(local_64,&local_2c,&local_3c,&local_20);
    *(undefined4 *)(in_ECX + 0x16f0) = uVar2;
    local_8 = 0xffffffff;
    if (7 < local_4c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0(uVar1);
    }
    local_4c = 7;
    local_50 = 0;
    local_60 = 0;
  }
  local_8 = 0xffffffff;
  if (*(char *)(in_ECX + 0x16f4) == '\0') {
    if (DAT_0172491c != 0) {
      FUN_00406460(L"ID_EF_QUEST01");
      local_8 = 1;
      uVar2 = FUN_0081cfe0(DAT_0172491c,local_64);
      local_8._0_1_ = 2;
      FUN_0083c8d0(3,uVar2);
      local_8 = CONCAT31(local_8._1_3_,1);
      if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0(uVar1);
      }
      local_30 = 7;
      local_34 = 0;
      local_44 = 0;
      local_8 = 0xffffffff;
      if (7 < local_4c) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0(uVar1);
      }
      local_4c = 7;
      local_50 = 0;
      local_60 = 0;
      FUN_00406460(L"ID_EF_QUEST00");
      local_8 = 3;
      uVar2 = FUN_0081cfe0(DAT_0172491c,local_64);
      local_8._0_1_ = 4;
      FUN_0083c8d0(4,uVar2);
      local_8 = CONCAT31(local_8._1_3_,3);
      if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_30 = 7;
      local_34 = 0;
      local_44 = 0;
      local_8 = 0xffffffff;
      if (7 < local_4c) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_4c = 7;
      local_50 = 0;
      local_60 = 0;
      FUN_00406460(L"ID_EF_QUEST02");
      local_8 = 5;
      uVar2 = FUN_0081cfe0(DAT_0172491c,local_64);
      local_8._0_1_ = 6;
      FUN_0083c8d0(2,uVar2);
      local_8 = CONCAT31(local_8._1_3_,5);
      if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_30 = 7;
      local_34 = 0;
      local_44 = 0;
      local_8 = 0xffffffff;
      if (7 < local_4c) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_4c = 7;
      local_50 = 0;
      local_60 = 0;
    }
    *(undefined1 *)(in_ECX + 0x16f4) = 1;
  }
  local_8 = 0xffffffff;
  switch(param_1) {
  case 4:
    uVar2 = 4;
    break;
  case 5:
  case 6:
    FUN_0083c680(3);
    *(undefined1 *)(in_ECX + 0x65c) = 1;
    ExceptionList = local_10;
    return;
  case 7:
    uVar2 = 2;
    break;
  default:
    uVar2 = 1;
  }
  FUN_0083c680(uVar2);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0083cb40 : PUSH EBP
0083cb41 : MOV EBP,ESP
0083cb43 : PUSH -0x1
0083cb45 : PUSH 0xb37a2f
0083cb4a : MOV EAX,FS:[0x0]
0083cb50 : PUSH EAX
0083cb51 : SUB ESP,0x58
0083cb54 : PUSH EBX
0083cb55 : PUSH ESI
0083cb56 : PUSH EDI
0083cb57 : MOV EAX,[0x00d66fa0]
0083cb5c : XOR EAX,EBP
0083cb5e : PUSH EAX
0083cb5f : LEA EAX,[EBP + -0xc]
0083cb62 : MOV FS:[0x0],EAX
0083cb68 : MOV EDI,ECX
0083cb6a : XOR EBX,EBX
0083cb6c : CMP dword ptr [EDI + 0x16f0],EBX
0083cb72 : JNZ 0x0083cc1d
0083cb78 : PUSH 0xc39dbc
0083cb7d : LEA ECX,[EBP + -0x60]
0083cb80 : CALL 0x00406460
0083cb85 : MOV dword ptr [EBP + -0x4],EBX
0083cb88 : MOVSS XMM1,dword ptr [0x00c10fc4]
0083cb90 : XORPS XMM0,XMM0
0083cb93 : MOV ECX,dword ptr [EDI + 0x3e8]
0083cb99 : LEA EDX,[EBP + -0x1c]
0083cb9c : PUSH EDX
0083cb9d : MOVSS dword ptr [EBP + -0x1c],XMM1
0083cba2 : MOVSS dword ptr [EBP + -0x18],XMM1
0083cba7 : MOVSS dword ptr [EBP + -0x14],XMM1
0083cbac : MOVSS dword ptr [EBP + -0x2c],XMM1
0083cbb1 : MOVSS XMM1,dword ptr [EDI + 0x418]
0083cbb9 : ADDSS XMM1,dword ptr [0x00cdf218]
0083cbc1 : LEA EDX,[EBP + -0x38]
0083cbc4 : PUSH EDX
0083cbc5 : LEA EDX,[EBP + -0x28]
0083cbc8 : PUSH EDX
0083cbc9 : MOVSS dword ptr [EBP + -0x38],XMM0
0083cbce : MOVSS dword ptr [EBP + -0x34],XMM0
0083cbd3 : MOVSS dword ptr [EBP + -0x30],XMM0
0083cbd8 : MOVSS dword ptr [EBP + -0x28],XMM0
0083cbdd : MOVSS dword ptr [EBP + -0x24],XMM1
0083cbe2 : MOVSS dword ptr [EBP + -0x20],XMM0
0083cbe7 : MOV EAX,dword ptr [ECX]
0083cbe9 : MOV EAX,dword ptr [EAX + 0x20]
0083cbec : LEA EDX,[EBP + -0x60]
0083cbef : PUSH EDX
0083cbf0 : CALL EAX
0083cbf2 : MOV dword ptr [EDI + 0x16f0],EAX
0083cbf8 : MOV dword ptr [EBP + -0x4],0xffffffff
0083cbff : CMP dword ptr [EBP + -0x48],0x8
0083cc03 : JC 0x0083cc0d
0083cc05 : MOV ECX,dword ptr [EBP + -0x5c]
0083cc08 : CALL 0x006f04e0
0083cc0d : XOR ECX,ECX
0083cc0f : MOV dword ptr [EBP + -0x48],0x7
0083cc16 : MOV dword ptr [EBP + -0x4c],EBX
0083cc19 : MOV word ptr [EBP + -0x5c],CX
0083cc1d : CMP byte ptr [EDI + 0x16f4],BL
0083cc23 : JNZ 0x0083cdac
0083cc29 : CMP dword ptr [0x0172491c],EBX
0083cc2f : JZ 0x0083cda5
0083cc35 : PUSH 0xc39ddc
0083cc3a : LEA ECX,[EBP + -0x60]
0083cc3d : CALL 0x00406460
0083cc42 : MOV dword ptr [EBP + -0x4],0x1
0083cc49 : MOV EAX,[0x0172491c]
0083cc4e : LEA EDX,[EBP + -0x60]
0083cc51 : PUSH EDX
0083cc52 : PUSH EAX
0083cc53 : LEA ESI,[EBP + -0x44]
0083cc56 : CALL 0x0081cfe0
0083cc5b : MOV byte ptr [EBP + -0x4],0x2
0083cc5f : PUSH EAX
0083cc60 : PUSH 0x3
0083cc62 : MOV EAX,EDI
0083cc64 : CALL 0x0083c8d0
0083cc69 : MOV byte ptr [EBP + -0x4],0x1
0083cc6d : CMP dword ptr [EBP + -0x2c],0x8
0083cc71 : JC 0x0083cc7b
0083cc73 : MOV ECX,dword ptr [EBP + -0x40]
0083cc76 : CALL 0x006f04e0
0083cc7b : MOV ESI,0x7
0083cc80 : XOR ECX,ECX
0083cc82 : MOV dword ptr [EBP + -0x2c],ESI
0083cc85 : MOV dword ptr [EBP + -0x30],EBX
0083cc88 : MOV word ptr [EBP + -0x40],CX
0083cc8c : MOV dword ptr [EBP + -0x4],0xffffffff
0083cc93 : CMP dword ptr [EBP + -0x48],0x8
0083cc97 : JC 0x0083cca1
0083cc99 : MOV ECX,dword ptr [EBP + -0x5c]
0083cc9c : CALL 0x006f04e0
0083cca1 : XOR EDX,EDX
0083cca3 : PUSH 0xc39df8
0083cca8 : LEA ECX,[EBP + -0x60]
0083ccab : MOV dword ptr [EBP + -0x48],ESI
0083ccae : MOV dword ptr [EBP + -0x4c],EBX
0083ccb1 : MOV word ptr [EBP + -0x5c],DX
0083ccb5 : CALL 0x00406460
0083ccba : MOV dword ptr [EBP + -0x4],0x3
0083ccc1 : MOV ECX,dword ptr [0x0172491c]
0083ccc7 : LEA EAX,[EBP + -0x60]
0083ccca : PUSH EAX
0083cccb : PUSH ECX
0083cccc : LEA ESI,[EBP + -0x44]
0083cccf : CALL 0x0081cfe0
0083ccd4 : MOV byte ptr [EBP + -0x4],0x4
0083ccd8 : PUSH EAX
0083ccd9 : PUSH 0x4
0083ccdb : MOV EAX,EDI
0083ccdd : CALL 0x0083c8d0
0083cce2 : MOV byte ptr [EBP + -0x4],0x3
0083cce6 : CMP dword ptr [EBP + -0x2c],0x8
0083ccea : JC 0x0083ccf4
0083ccec : MOV ECX,dword ptr [EBP + -0x40]
0083ccef : CALL 0x006f04e0
0083ccf4 : MOV ESI,0x7
0083ccf9 : XOR EDX,EDX
0083ccfb : MOV dword ptr [EBP + -0x2c],ESI
0083ccfe : MOV dword ptr [EBP + -0x30],EBX
0083cd01 : MOV word ptr [EBP + -0x40],DX
0083cd05 : MOV dword ptr [EBP + -0x4],0xffffffff
0083cd0c : CMP dword ptr [EBP + -0x48],0x8
0083cd10 : JC 0x0083cd1a
0083cd12 : MOV ECX,dword ptr [EBP + -0x5c]
0083cd15 : CALL 0x006f04e0
0083cd1a : XOR EAX,EAX
0083cd1c : PUSH 0xc39e14
0083cd21 : LEA ECX,[EBP + -0x60]
0083cd24 : MOV dword ptr [EBP + -0x48],ESI
0083cd27 : MOV dword ptr [EBP + -0x4c],EBX
0083cd2a : MOV word ptr [EBP + -0x5c],AX
0083cd2e : CALL 0x00406460
0083cd33 : MOV dword ptr [EBP + -0x4],0x5
0083cd3a : MOV EDX,dword ptr [0x0172491c]
0083cd40 : LEA ECX,[EBP + -0x60]
0083cd43 : PUSH ECX
0083cd44 : PUSH EDX
0083cd45 : LEA ESI,[EBP + -0x44]
0083cd48 : CALL 0x0081cfe0
0083cd4d : MOV byte ptr [EBP + -0x4],0x6
0083cd51 : PUSH EAX
0083cd52 : PUSH 0x2
0083cd54 : MOV EAX,EDI
0083cd56 : CALL 0x0083c8d0
0083cd5b : MOV byte ptr [EBP + -0x4],0x5
0083cd5f : MOV ESI,0x8
0083cd64 : CMP dword ptr [EBP + -0x2c],ESI
0083cd67 : JC 0x0083cd71
0083cd69 : MOV ECX,dword ptr [EBP + -0x40]
0083cd6c : CALL 0x006f04e0
0083cd71 : XOR EAX,EAX
0083cd73 : MOV dword ptr [EBP + -0x2c],0x7
0083cd7a : MOV dword ptr [EBP + -0x30],EBX
0083cd7d : MOV word ptr [EBP + -0x40],AX
0083cd81 : MOV dword ptr [EBP + -0x4],0xffffffff
0083cd88 : CMP dword ptr [EBP + -0x48],ESI
0083cd8b : JC 0x0083cd95
0083cd8d : MOV ECX,dword ptr [EBP + -0x5c]
0083cd90 : CALL 0x006f04e0
0083cd95 : XOR ECX,ECX
0083cd97 : MOV dword ptr [EBP + -0x48],0x7
0083cd9e : MOV dword ptr [EBP + -0x4c],EBX
0083cda1 : MOV word ptr [EBP + -0x5c],CX
0083cda5 : MOV byte ptr [EDI + 0x16f4],0x1
0083cdac : MOVZX EAX,byte ptr [EBP + 0x8]
0083cdb0 : ADD EAX,-0x4
0083cdb3 : CMP EAX,0x3
0083cdb6 : JA 0x0083cde9
0083cdb8 : JMP dword ptr [EAX*0x4 + 0x83ce04]
0083cdbf : PUSH 0x3
0083cdc1 : CALL 0x0083c680
0083cdc6 : MOV byte ptr [EDI + 0x65c],0x1
0083cdcd : MOV ECX,dword ptr [EBP + -0xc]
0083cdd0 : MOV dword ptr FS:[0x0],ECX
0083cdd7 : POP ECX
0083cdd8 : POP EDI
0083cdd9 : POP ESI
0083cdda : POP EBX
0083cddb : MOV ESP,EBP
0083cddd : POP EBP
0083cdde : RET 0x4
0083cde1 : PUSH 0x4
0083cde3 : JMP 0x0083cdeb
0083cde5 : PUSH 0x2
0083cde7 : JMP 0x0083cdeb
0083cde9 : PUSH 0x1
0083cdeb : CALL 0x0083c680
0083cdf0 : MOV ECX,dword ptr [EBP + -0xc]
0083cdf3 : MOV dword ptr FS:[0x0],ECX
0083cdfa : POP ECX
0083cdfb : POP EDI
0083cdfc : POP ESI
0083cdfd : POP EBX
0083cdfe : MOV ESP,EBP
0083ce00 : POP EBP
0083ce01 : RET 0x4
