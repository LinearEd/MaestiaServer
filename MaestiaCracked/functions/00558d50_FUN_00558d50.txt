PROGRAM  : Maestia.exe
FUNCTION : FUN_00558d50
ENTRY    : 00558d50
BODY     : [[00558d50, 00558ea6]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00558e42) */

void FUN_00558d50(undefined4 param_1,undefined4 param_2,int param_3,int param_4,undefined4 param_5)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  int in_ECX;
  char local_64;
  undefined1 local_10 [16];
  
  iVar2 = *(int *)(*(int *)(param_3 + 0x18) + 0x10);
  iVar1 = iVar2 + 8;
  FUN_005dd100();
  FUN_005dcbb0(param_2);
  *(byte *)(iVar2 + 0x4c) = *(byte *)(in_ECX + 0x24) >> 3 & 1;
  if ((*(byte *)(in_ECX + 0x24) & 0x10) != 0) {
    FUN_005d9f10(in_ECX + 4,param_5);
  }
  if ((param_4 != 0) && (FUN_005ac2c0(), (*(byte *)(in_ECX + 0x24) & 0x10) != 0)) {
    uVar3 = FUN_005acfa0(local_10,in_ECX + 4);
    FUN_005d9f10(uVar3,param_5);
  }
  FUN_005560e0(in_ECX);
  while (local_64 != '\x01') {
    if (local_64 == '\x02') {
      FUN_00558820(param_1,iVar1,param_3,param_4);
      FUN_005dd100();
      FUN_00553740();
    }
    else {
      FUN_00558a80(iVar1);
    }
  }
  FUN_00558820(param_1,iVar1,param_3,param_4);
  FUN_005dd100();
  if ((param_4 != 0) && (*(int *)(param_4 + 0x164) != 0)) {
    FUN_005acc90();
    FUN_005dbf50(param_4 + 0x160);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00558d50 : MOV EAX,dword ptr [ESP + 0xc]
00558d54 : SUB ESP,0x84
00558d5a : PUSH EBX
00558d5b : PUSH EBP
00558d5c : PUSH ESI
00558d5d : PUSH EDI
00558d5e : MOV EDI,ECX
00558d60 : MOV ECX,dword ptr [EAX + 0x18]
00558d63 : MOV EBP,dword ptr [ECX + 0x10]
00558d66 : LEA ESI,[EBP + 0x8]
00558d69 : MOV ECX,ESI
00558d6b : CALL 0x005dd100
00558d70 : FLD float ptr [ESP + 0x9c]
00558d77 : PUSH ECX
00558d78 : MOV ECX,ESI
00558d7a : FSTP float ptr [ESP]
00558d7d : CALL 0x005dcbb0
00558d82 : MOV DL,byte ptr [EDI + 0x24]
00558d85 : MOV EBX,dword ptr [ESP + 0x98]
00558d8c : SHR DL,0x3
00558d8f : AND DL,0x1
00558d92 : MOV byte ptr [EBP + 0x4c],DL
00558d95 : TEST byte ptr [EDI + 0x24],0x10
00558d99 : JZ 0x00558db1
00558d9b : FLD float ptr [ESP + 0xa8]
00558da2 : PUSH ECX
00558da3 : LEA EAX,[EDI + 0x4]
00558da6 : FSTP float ptr [ESP]
00558da9 : PUSH EAX
00558daa : MOV ECX,EBX
00558dac : CALL 0x005d9f10
00558db1 : MOV EBP,dword ptr [ESP + 0xa4]
00558db8 : TEST EBP,EBP
00558dba : JZ 0x00558def
00558dbc : MOV ECX,EBP
00558dbe : CALL 0x005ac2c0
00558dc3 : TEST byte ptr [EDI + 0x24],0x10
00558dc7 : JZ 0x00558def
00558dc9 : FLD float ptr [ESP + 0xa8]
00558dd0 : PUSH ECX
00558dd1 : FSTP float ptr [ESP]
00558dd4 : LEA ECX,[EDI + 0x4]
00558dd7 : PUSH ECX
00558dd8 : LEA EDX,[ESP + 0x8c]
00558ddf : PUSH EDX
00558de0 : MOV ECX,EBP
00558de2 : CALL 0x005acfa0
00558de7 : PUSH EAX
00558de8 : MOV ECX,EBX
00558dea : CALL 0x005d9f10
00558def : PUSH EDI
00558df0 : LEA ECX,[ESP + 0x14]
00558df4 : CALL 0x005560e0
00558df9 : MOV AL,byte ptr [ESP + 0x30]
00558dfd : CMP AL,0x1
00558dff : JZ 0x00558e5f
00558e01 : CMP AL,0x2
00558e03 : JNZ 0x00558e4d
00558e05 : MOV EAX,dword ptr [ESP + 0xa0]
00558e0c : PUSH EBP
00558e0d : PUSH EAX
00558e0e : PUSH ESI
00558e0f : PUSH EBX
00558e10 : MOV ECX,EDI
00558e12 : CALL 0x00558820
00558e17 : MOV ECX,ESI
00558e19 : CALL 0x005dd100
00558e1e : MOV AL,byte ptr [ESP + 0x30]
00558e22 : CMP AL,0x1
00558e24 : JZ 0x00558e5f
00558e26 : CMP AL,0x2
00558e28 : JNZ 0x00558e42
00558e2a : LEA EBX,[EBX]
00558e30 : LEA ECX,[ESP + 0x10]
00558e34 : CALL 0x00553740
00558e39 : CMP byte ptr [ESP + 0x30],0x3
00558e3e : JZ 0x00558e30
00558e40 : JMP 0x00558e57
00558e42 : LEA ECX,[ESP + 0x10]
00558e46 : CALL 0x005564c0
00558e4b : JMP 0x00558e57
00558e4d : PUSH ESI
00558e4e : LEA ECX,[ESP + 0x14]
00558e52 : CALL 0x00558a80
00558e57 : MOV AL,byte ptr [ESP + 0x30]
00558e5b : CMP AL,0x1
00558e5d : JNZ 0x00558e01
00558e5f : MOV ECX,dword ptr [ESP + 0xa0]
00558e66 : PUSH EBP
00558e67 : PUSH ECX
00558e68 : PUSH ESI
00558e69 : PUSH EBX
00558e6a : MOV ECX,EDI
00558e6c : CALL 0x00558820
00558e71 : MOV ECX,ESI
00558e73 : CALL 0x005dd100
00558e78 : TEST EBP,EBP
00558e7a : JZ 0x00558e9a
00558e7c : CMP dword ptr [EBP + 0x164],0x0
00558e83 : JZ 0x00558e9a
00558e85 : MOV ECX,EBP
00558e87 : CALL 0x005acc90
00558e8c : ADD EBP,0x160
00558e92 : PUSH EBP
00558e93 : MOV ECX,EBX
00558e95 : CALL 0x005dbf50
00558e9a : POP EDI
00558e9b : POP ESI
00558e9c : POP EBP
00558e9d : POP EBX
00558e9e : ADD ESP,0x84
00558ea4 : RET 0x14
