PROGRAM  : Maestia.exe
FUNCTION : FUN_008318e0
ENTRY    : 008318e0
BODY     : [[008318e0, 00831990]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_008318e0(int param_1,int param_2)

{
  uint uVar1;
  undefined4 uVar2;
  int iVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1b36b;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if ((*(uint *)(param_1 + 0x28) != 0) && (*(uint *)(param_1 + 0x2c) < *(uint *)(param_1 + 0x28))) {
    iVar3 = *(uint *)(param_1 + 0x2c) + 1;
    *(int *)(param_1 + 0x2c) = iVar3;
    if ((*(int *)(param_1 + 0xc) != *(int *)(param_1 + 0xc)) ||
       (*(int *)(param_1 + 0x24) + iVar3 != *(int *)(param_1 + 0x28) + *(int *)(param_1 + 0x24))) {
      uVar2 = FUN_004c9510(uVar1);
      FUN_00405660(uVar2);
      ExceptionList = local_10;
      return param_2;
    }
  }
  *(undefined4 *)(param_2 + 0x18) = 7;
  *(undefined4 *)(param_2 + 0x14) = 0;
  *(undefined2 *)(param_2 + 4) = 0;
  FUN_00406360(&DAT_00c397c4,0);
  ExceptionList = local_10;
  return param_2;
}



============================================================
DISASSEMBLY
============================================================
008318e0 : PUSH EBP
008318e1 : MOV EBP,ESP
008318e3 : PUSH -0x1
008318e5 : PUSH 0xb1b36b
008318ea : MOV EAX,FS:[0x0]
008318f0 : PUSH EAX
008318f1 : SUB ESP,0xc
008318f4 : PUSH EBX
008318f5 : PUSH ESI
008318f6 : PUSH EDI
008318f7 : MOV EAX,[0x00d66fa0]
008318fc : XOR EAX,EBP
008318fe : PUSH EAX
008318ff : LEA EAX,[EBP + -0xc]
00831902 : MOV FS:[0x0],EAX
00831908 : MOV EDI,dword ptr [EBP + 0xc]
0083190b : MOV EAX,dword ptr [EBP + 0x8]
0083190e : XOR EBX,EBX
00831910 : MOV dword ptr [EBP + -0x10],EBX
00831913 : MOV EDX,dword ptr [EAX + 0x28]
00831916 : CMP EDX,EBX
00831918 : JZ 0x00831954
0083191a : MOV ECX,dword ptr [EAX + 0x2c]
0083191d : CMP ECX,EDX
0083191f : JNC 0x00831954
00831921 : MOV EDX,dword ptr [EAX + 0x24]
00831924 : MOV ESI,dword ptr [EAX + 0xc]
00831927 : INC ECX
00831928 : ADD EDX,ECX
0083192a : MOV dword ptr [EAX + 0x2c],ECX
0083192d : MOV ECX,dword ptr [EAX + 0x28]
00831930 : ADD ECX,dword ptr [EAX + 0x24]
00831933 : MOV dword ptr [EBP + -0x18],ESI
00831936 : MOV dword ptr [EBP + -0x14],EDX
00831939 : CMP ESI,dword ptr [EAX + 0xc]
0083193c : JNZ 0x00831942
0083193e : CMP EDX,ECX
00831940 : JZ 0x00831954
00831942 : LEA EAX,[EBP + -0x18]
00831945 : CALL 0x004c9510
0083194a : PUSH EAX
0083194b : MOV ECX,EDI
0083194d : CALL 0x00405660
00831952 : JMP 0x00831971
00831954 : PUSH EBX
00831955 : XOR EAX,EAX
00831957 : MOV dword ptr [EDI + 0x18],0x7
0083195e : MOV dword ptr [EDI + 0x14],EBX
00831961 : PUSH 0xc397c4
00831966 : MOV ECX,EDI
00831968 : MOV word ptr [EDI + 0x4],AX
0083196c : CALL 0x00406360
00831971 : MOV dword ptr [EBP + -0x4],EBX
00831974 : MOV dword ptr [EBP + -0x10],0x1
0083197b : MOV EAX,EDI
0083197d : MOV ECX,dword ptr [EBP + -0xc]
00831980 : MOV dword ptr FS:[0x0],ECX
00831987 : POP ECX
00831988 : POP EDI
00831989 : POP ESI
0083198a : POP EBX
0083198b : MOV ESP,EBP
0083198d : POP EBP
0083198e : RET 0x8
