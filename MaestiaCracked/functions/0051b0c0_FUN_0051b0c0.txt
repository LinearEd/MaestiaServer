PROGRAM  : Maestia.exe
FUNCTION : FUN_0051b0c0
ENTRY    : 0051b0c0
BODY     : [[0051b0c0, 0051b126]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0051b0c0(int param_1,int param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar1 = param_2;
  iVar3 = param_1;
  iVar4 = 0;
  if (param_2 == -1) {
    iVar3 = FUN_0051aa70(&param_1);
    while (iVar3 != 0) {
      iVar4 = iVar4 + 1;
      iVar3 = FUN_0051aa70(&param_1);
    }
  }
  else if (0 < param_2) {
    while (iVar2 = FUN_0051aa70(&param_1), iVar2 != 0) {
      iVar4 = iVar4 + 1;
      if (iVar1 <= param_1 - iVar3) {
        return iVar4;
      }
    }
  }
  return iVar4;
}



============================================================
DISASSEMBLY
============================================================
0051b0c0 : PUSH EBX
0051b0c1 : MOV EBX,dword ptr [ESP + 0x8]
0051b0c5 : PUSH ESI
0051b0c6 : PUSH EDI
0051b0c7 : MOV EDI,dword ptr [ESP + 0x14]
0051b0cb : XOR ESI,ESI
0051b0cd : MOV dword ptr [ESP + 0x10],EBX
0051b0d1 : CMP EDI,-0x1
0051b0d4 : JZ 0x0051b101
0051b0d6 : TEST EDI,EDI
0051b0d8 : JLE 0x0051b11f
0051b0da : LEA EBX,[EBX]
0051b0e0 : LEA EAX,[ESP + 0x10]
0051b0e4 : PUSH EAX
0051b0e5 : CALL 0x0051aa70
0051b0ea : TEST EAX,EAX
0051b0ec : JZ 0x0051b11f
0051b0ee : MOV ECX,dword ptr [ESP + 0x10]
0051b0f2 : SUB ECX,EBX
0051b0f4 : INC ESI
0051b0f5 : CMP ECX,EDI
0051b0f7 : JL 0x0051b0e0
0051b0f9 : POP EDI
0051b0fa : MOV EAX,ESI
0051b0fc : POP ESI
0051b0fd : POP EBX
0051b0fe : RET 0x8
0051b101 : LEA EDX,[ESP + 0x10]
0051b105 : PUSH EDX
0051b106 : CALL 0x0051aa70
0051b10b : TEST EAX,EAX
0051b10d : JZ 0x0051b11f
0051b10f : NOP
0051b110 : LEA EAX,[ESP + 0x10]
0051b114 : PUSH EAX
0051b115 : INC ESI
0051b116 : CALL 0x0051aa70
0051b11b : TEST EAX,EAX
0051b11d : JNZ 0x0051b110
0051b11f : POP EDI
0051b120 : MOV EAX,ESI
0051b122 : POP ESI
0051b123 : POP EBX
0051b124 : RET 0x8
