PROGRAM  : Maestia.exe
FUNCTION : FUN_0040b560
ENTRY    : 0040b560
BODY     : [[0040b560, 0040b7fc]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0040b693) */
/* WARNING: Removing unreachable block (ram,0x0040b6a3) */
/* WARNING: Removing unreachable block (ram,0x0040b6ac) */
/* WARNING: Removing unreachable block (ram,0x0040b6af) */
/* WARNING: Removing unreachable block (ram,0x0040b69f) */
/* WARNING: Removing unreachable block (ram,0x0040b6bc) */
/* WARNING: Removing unreachable block (ram,0x0040b6cc) */
/* WARNING: Removing unreachable block (ram,0x0040b6d7) */
/* WARNING: Removing unreachable block (ram,0x0040b6d3) */
/* WARNING: Removing unreachable block (ram,0x0040b6c7) */
/* WARNING: Removing unreachable block (ram,0x0040b6da) */
/* WARNING: Removing unreachable block (ram,0x0040b6ea) */

void FUN_0040b560(undefined4 param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int *piVar4;
  int *piVar5;
  int *piVar6;
  undefined1 local_58 [40];
  undefined1 local_30 [4];
  undefined1 local_2c;
  undefined4 local_1c;
  undefined4 local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7c7a8;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_2 + 0x1d) != '\0') {
    local_18 = 0xf;
    local_1c = 0;
    local_2c = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_30);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_58,&DAT_00ced890);
  }
  local_14 = param_2;
  FUN_004192a0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar6 = (int *)*param_2;
  if (*(char *)((int)piVar6 + 0x1d) == '\0') {
    if (*(char *)(param_2[2] + 0x1d) == '\0') {
      piVar6 = (int *)param_2[2];
    }
  }
  else {
    piVar6 = (int *)param_2[2];
  }
  piVar5 = (int *)param_2[1];
  if (*(char *)((int)piVar6 + 0x1d) == '\0') {
    piVar6[1] = (int)piVar5;
  }
  if ((int *)DAT_01721090[1] == param_2) {
    DAT_01721090[1] = piVar6;
  }
  else if ((int *)*piVar5 == param_2) {
    *piVar5 = (int)piVar6;
  }
  else {
    piVar5[2] = (int)piVar6;
  }
  if ((int *)*DAT_01721090 == param_2) {
    piVar4 = piVar5;
    if (*(char *)((int)piVar6 + 0x1d) == '\0') {
      cVar1 = *(char *)(*piVar6 + 0x1d);
      piVar2 = (int *)*piVar6;
      piVar4 = piVar6;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x1d);
        piVar4 = piVar3;
      }
    }
    *DAT_01721090 = piVar4;
  }
  if ((int *)DAT_01721090[2] == param_2) {
    if (*(char *)((int)piVar6 + 0x1d) == '\0') {
      cVar1 = *(char *)(piVar6[2] + 0x1d);
      piVar4 = (int *)piVar6[2];
      piVar2 = piVar6;
      while (piVar3 = piVar4, cVar1 == '\0') {
        piVar4 = (int *)piVar3[2];
        cVar1 = *(char *)((int)piVar4 + 0x1d);
        piVar2 = piVar3;
      }
      DAT_01721090[2] = piVar2;
    }
    else {
      DAT_01721090[2] = piVar5;
    }
  }
  if ((char)local_14[7] == '\x01') {
    if (piVar6 != (int *)DAT_01721090[1]) {
      do {
        piVar4 = piVar5;
        if ((char)piVar6[7] != '\x01') break;
        piVar5 = (int *)*piVar4;
        if (piVar6 == piVar5) {
          piVar5 = (int *)piVar4[2];
          if ((char)piVar5[7] == '\0') {
            *(undefined1 *)(piVar5 + 7) = 1;
            *(undefined1 *)(piVar4 + 7) = 0;
            FUN_0040bbe0();
            piVar5 = (int *)piVar4[2];
          }
          if (*(char *)((int)piVar5 + 0x1d) == '\0') {
            if ((*(char *)(*piVar5 + 0x1c) != '\x01') || (*(char *)(piVar5[2] + 0x1c) != '\x01')) {
              if (*(char *)(piVar5[2] + 0x1c) == '\x01') {
                *(undefined1 *)(*piVar5 + 0x1c) = 1;
                *(undefined1 *)(piVar5 + 7) = 0;
                FUN_0040bc30();
                piVar5 = (int *)piVar4[2];
              }
              *(char *)(piVar5 + 7) = (char)piVar4[7];
              *(undefined1 *)(piVar4 + 7) = 1;
              *(undefined1 *)(piVar5[2] + 0x1c) = 1;
              FUN_0040bbe0();
              break;
            }
LAB_0040b7ab:
            *(undefined1 *)(piVar5 + 7) = 0;
          }
        }
        else {
          if ((char)piVar5[7] == '\0') {
            *(undefined1 *)(piVar5 + 7) = 1;
            *(undefined1 *)(piVar4 + 7) = 0;
            FUN_0040bc30();
            piVar5 = (int *)*piVar4;
          }
          if (*(char *)((int)piVar5 + 0x1d) == '\0') {
            if ((*(char *)(piVar5[2] + 0x1c) == '\x01') && (*(char *)(*piVar5 + 0x1c) == '\x01'))
            goto LAB_0040b7ab;
            if (*(char *)(*piVar5 + 0x1c) == '\x01') {
              *(undefined1 *)(piVar5[2] + 0x1c) = 1;
              *(undefined1 *)(piVar5 + 7) = 0;
              FUN_0040bbe0();
              piVar5 = (int *)*piVar4;
            }
            *(char *)(piVar5 + 7) = (char)piVar4[7];
            *(undefined1 *)(piVar4 + 7) = 1;
            *(undefined1 *)(*piVar5 + 0x1c) = 1;
            FUN_0040bc30();
            break;
          }
        }
        piVar5 = (int *)piVar4[1];
        piVar6 = piVar4;
      } while (piVar4 != (int *)DAT_01721090[1]);
    }
    *(undefined1 *)(piVar6 + 7) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0040b560 : PUSH EBP
0040b561 : MOV EBP,ESP
0040b563 : PUSH -0x1
0040b565 : PUSH 0xb7c7a8
0040b56a : MOV EAX,FS:[0x0]
0040b570 : PUSH EAX
0040b571 : SUB ESP,0x4c
0040b574 : PUSH EBX
0040b575 : PUSH ESI
0040b576 : PUSH EDI
0040b577 : MOV EAX,[0x00d66fa0]
0040b57c : XOR EAX,EBP
0040b57e : PUSH EAX
0040b57f : LEA EAX,[EBP + -0xc]
0040b582 : MOV FS:[0x0],EAX
0040b588 : MOV EAX,dword ptr [EBP + 0xc]
0040b58b : CMP byte ptr [EAX + 0x1d],0x0
0040b58f : JZ 0x0040b5cd
0040b591 : PUSH 0x1b
0040b593 : XOR ESI,ESI
0040b595 : PUSH 0xcca4a8
0040b59a : LEA ECX,[EBP + -0x2c]
0040b59d : MOV dword ptr [EBP + -0x14],0xf
0040b5a4 : MOV dword ptr [EBP + -0x18],ESI
0040b5a7 : MOV byte ptr [EBP + -0x28],0x0
0040b5ab : CALL 0x00404b50
0040b5b0 : MOV dword ptr [EBP + -0x4],ESI
0040b5b3 : LEA EAX,[EBP + -0x2c]
0040b5b6 : PUSH EAX
0040b5b7 : LEA ECX,[EBP + -0x54]
0040b5ba : CALL 0x00403c10
0040b5bf : PUSH 0xced890
0040b5c4 : LEA ECX,[EBP + -0x54]
0040b5c7 : PUSH ECX
0040b5c8 : CALL 0x006409eb
0040b5cd : MOV EBX,EAX
0040b5cf : LEA EDX,[EBP + 0xc]
0040b5d2 : MOV dword ptr [EBP + -0x10],EBX
0040b5d5 : CALL 0x004192a0
0040b5da : MOV ECX,dword ptr [EBX]
0040b5dc : CMP byte ptr [ECX + 0x1d],0x0
0040b5e0 : JZ 0x0040b5e7
0040b5e2 : MOV EDI,dword ptr [EBX + 0x8]
0040b5e5 : JMP 0x0040b605
0040b5e7 : MOV EDX,dword ptr [EBX + 0x8]
0040b5ea : CMP byte ptr [EDX + 0x1d],0x0
0040b5ee : JZ 0x0040b5f4
0040b5f0 : MOV EDI,ECX
0040b5f2 : JMP 0x0040b605
0040b5f4 : MOV EAX,dword ptr [EBP + 0xc]
0040b5f7 : MOV EDI,dword ptr [EAX + 0x8]
0040b5fa : LEA EDX,[EAX + 0x8]
0040b5fd : CMP EAX,EBX
0040b5ff : JNZ 0x0040b693
0040b605 : CMP byte ptr [EDI + 0x1d],0x0
0040b609 : MOV ESI,dword ptr [EBX + 0x4]
0040b60c : JNZ 0x0040b611
0040b60e : MOV dword ptr [EDI + 0x4],ESI
0040b611 : MOV EAX,[0x01721090]
0040b616 : CMP dword ptr [EAX + 0x4],EBX
0040b619 : JNZ 0x0040b620
0040b61b : MOV dword ptr [EAX + 0x4],EDI
0040b61e : JMP 0x0040b62b
0040b620 : CMP dword ptr [ESI],EBX
0040b622 : JNZ 0x0040b628
0040b624 : MOV dword ptr [ESI],EDI
0040b626 : JMP 0x0040b62b
0040b628 : MOV dword ptr [ESI + 0x8],EDI
0040b62b : MOV EDX,dword ptr [0x01721090]
0040b631 : CMP dword ptr [EDX],EBX
0040b633 : JNZ 0x0040b65c
0040b635 : CMP byte ptr [EDI + 0x1d],0x0
0040b639 : JZ 0x0040b63f
0040b63b : MOV ECX,ESI
0040b63d : JMP 0x0040b65a
0040b63f : MOV EAX,dword ptr [EDI]
0040b641 : CMP byte ptr [EAX + 0x1d],0x0
0040b645 : MOV ECX,EDI
0040b647 : JNZ 0x0040b65a
0040b649 : LEA ESP,[ESP]
0040b650 : MOV ECX,EAX
0040b652 : MOV EAX,dword ptr [ECX]
0040b654 : CMP byte ptr [EAX + 0x1d],0x0
0040b658 : JZ 0x0040b650
0040b65a : MOV dword ptr [EDX],ECX
0040b65c : MOV EDX,dword ptr [0x01721090]
0040b662 : CMP dword ptr [EDX + 0x8],EBX
0040b665 : JNZ 0x0040b6f2
0040b66b : CMP byte ptr [EDI + 0x1d],0x0
0040b66f : JZ 0x0040b678
0040b671 : MOV ECX,ESI
0040b673 : MOV dword ptr [EDX + 0x8],ECX
0040b676 : JMP 0x0040b6f2
0040b678 : MOV EAX,dword ptr [EDI + 0x8]
0040b67b : CMP byte ptr [EAX + 0x1d],0x0
0040b67f : MOV ECX,EDI
0040b681 : JNZ 0x0040b68e
0040b683 : MOV ECX,EAX
0040b685 : MOV EAX,dword ptr [ECX + 0x8]
0040b688 : CMP byte ptr [EAX + 0x1d],0x0
0040b68c : JZ 0x0040b683
0040b68e : MOV dword ptr [EDX + 0x8],ECX
0040b691 : JMP 0x0040b6f2
0040b693 : MOV dword ptr [ECX + 0x4],EAX
0040b696 : MOV ECX,dword ptr [EBX]
0040b698 : MOV dword ptr [EAX],ECX
0040b69a : CMP EAX,dword ptr [EBX + 0x8]
0040b69d : JNZ 0x0040b6a3
0040b69f : MOV ESI,EAX
0040b6a1 : JMP 0x0040b6bc
0040b6a3 : CMP byte ptr [EDI + 0x1d],0x0
0040b6a7 : MOV ESI,dword ptr [EAX + 0x4]
0040b6aa : JNZ 0x0040b6af
0040b6ac : MOV dword ptr [EDI + 0x4],ESI
0040b6af : MOV dword ptr [ESI],EDI
0040b6b1 : MOV ECX,dword ptr [EBX + 0x8]
0040b6b4 : MOV dword ptr [EDX],ECX
0040b6b6 : MOV EDX,dword ptr [EBX + 0x8]
0040b6b9 : MOV dword ptr [EDX + 0x4],EAX
0040b6bc : MOV ECX,dword ptr [0x01721090]
0040b6c2 : CMP dword ptr [ECX + 0x4],EBX
0040b6c5 : JNZ 0x0040b6cc
0040b6c7 : MOV dword ptr [ECX + 0x4],EAX
0040b6ca : JMP 0x0040b6da
0040b6cc : MOV ECX,dword ptr [EBX + 0x4]
0040b6cf : CMP dword ptr [ECX],EBX
0040b6d1 : JNZ 0x0040b6d7
0040b6d3 : MOV dword ptr [ECX],EAX
0040b6d5 : JMP 0x0040b6da
0040b6d7 : MOV dword ptr [ECX + 0x8],EAX
0040b6da : MOV ECX,dword ptr [EBX + 0x4]
0040b6dd : MOV dword ptr [EAX + 0x4],ECX
0040b6e0 : LEA ECX,[EBX + 0x1c]
0040b6e3 : ADD EAX,0x1c
0040b6e6 : CMP EAX,ECX
0040b6e8 : JZ 0x0040b6f2
0040b6ea : MOV BL,byte ptr [ECX]
0040b6ec : MOV DL,byte ptr [EAX]
0040b6ee : MOV byte ptr [EAX],BL
0040b6f0 : MOV byte ptr [ECX],DL
0040b6f2 : MOV EDX,dword ptr [EBP + -0x10]
0040b6f5 : MOV EBX,0x1
0040b6fa : CMP byte ptr [EDX + 0x1c],BL
0040b6fd : JNZ 0x0040b7f5
0040b703 : MOV EAX,[0x01721090]
0040b708 : CMP EDI,dword ptr [EAX + 0x4]
0040b70b : JZ 0x0040b7f2
0040b711 : CMP byte ptr [EDI + 0x1c],BL
0040b714 : JNZ 0x0040b7f2
0040b71a : MOV ECX,dword ptr [ESI]
0040b71c : CMP EDI,ECX
0040b71e : JNZ 0x0040b780
0040b720 : MOV ECX,dword ptr [ESI + 0x8]
0040b723 : CMP byte ptr [ECX + 0x1c],0x0
0040b727 : JNZ 0x0040b73a
0040b729 : MOV byte ptr [ECX + 0x1c],BL
0040b72c : MOV ECX,ESI
0040b72e : MOV byte ptr [ESI + 0x1c],0x0
0040b732 : CALL 0x0040bbe0
0040b737 : MOV ECX,dword ptr [ESI + 0x8]
0040b73a : CMP byte ptr [ECX + 0x1d],0x0
0040b73e : JNZ 0x0040b7af
0040b740 : MOV EDX,dword ptr [ECX]
0040b742 : CMP byte ptr [EDX + 0x1c],BL
0040b745 : JNZ 0x0040b74f
0040b747 : MOV EAX,dword ptr [ECX + 0x8]
0040b74a : CMP byte ptr [EAX + 0x1c],BL
0040b74d : JZ 0x0040b7ab
0040b74f : MOV EDX,dword ptr [ECX + 0x8]
0040b752 : CMP byte ptr [EDX + 0x1c],BL
0040b755 : JNZ 0x0040b768
0040b757 : MOV EAX,dword ptr [ECX]
0040b759 : MOV byte ptr [EAX + 0x1c],BL
0040b75c : MOV byte ptr [ECX + 0x1c],0x0
0040b760 : CALL 0x0040bc30
0040b765 : MOV ECX,dword ptr [ESI + 0x8]
0040b768 : MOV DL,byte ptr [ESI + 0x1c]
0040b76b : MOV byte ptr [ECX + 0x1c],DL
0040b76e : MOV byte ptr [ESI + 0x1c],BL
0040b771 : MOV EAX,dword ptr [ECX + 0x8]
0040b774 : MOV ECX,ESI
0040b776 : MOV byte ptr [EAX + 0x1c],BL
0040b779 : CALL 0x0040bbe0
0040b77e : JMP 0x0040b7f2
0040b780 : CMP byte ptr [ECX + 0x1c],0x0
0040b784 : JNZ 0x0040b796
0040b786 : MOV byte ptr [ECX + 0x1c],BL
0040b789 : MOV ECX,ESI
0040b78b : MOV byte ptr [ESI + 0x1c],0x0
0040b78f : CALL 0x0040bc30
0040b794 : MOV ECX,dword ptr [ESI]
0040b796 : CMP byte ptr [ECX + 0x1d],0x0
0040b79a : JNZ 0x0040b7af
0040b79c : MOV EDX,dword ptr [ECX + 0x8]
0040b79f : CMP byte ptr [EDX + 0x1c],BL
0040b7a2 : JNZ 0x0040b7c5
0040b7a4 : MOV EAX,dword ptr [ECX]
0040b7a6 : CMP byte ptr [EAX + 0x1c],BL
0040b7a9 : JNZ 0x0040b7c5
0040b7ab : MOV byte ptr [ECX + 0x1c],0x0
0040b7af : MOV ECX,dword ptr [0x01721090]
0040b7b5 : MOV EDI,ESI
0040b7b7 : MOV ESI,dword ptr [ESI + 0x4]
0040b7ba : CMP EDI,dword ptr [ECX + 0x4]
0040b7bd : JNZ 0x0040b711
0040b7c3 : JMP 0x0040b7f2
0040b7c5 : MOV EDX,dword ptr [ECX]
0040b7c7 : CMP byte ptr [EDX + 0x1c],BL
0040b7ca : JNZ 0x0040b7dd
0040b7cc : MOV EAX,dword ptr [ECX + 0x8]
0040b7cf : MOV byte ptr [EAX + 0x1c],BL
0040b7d2 : MOV byte ptr [ECX + 0x1c],0x0
0040b7d6 : CALL 0x0040bbe0
0040b7db : MOV ECX,dword ptr [ESI]
0040b7dd : MOV DL,byte ptr [ESI + 0x1c]
0040b7e0 : MOV byte ptr [ECX + 0x1c],DL
0040b7e3 : MOV byte ptr [ESI + 0x1c],BL
0040b7e6 : MOV EAX,dword ptr [ECX]
0040b7e8 : MOV ECX,ESI
0040b7ea : MOV byte ptr [EAX + 0x1c],BL
0040b7ed : CALL 0x0040bc30
0040b7f2 : MOV byte ptr [EDI + 0x1c],BL
0040b7f5 : MOV ECX,dword ptr [EBP + -0x10]
0040b7f8 : CALL 0x006f04e0
