PROGRAM  : Maestia.exe
FUNCTION : FUN_00471fa0
ENTRY    : 00471fa0
BODY     : [[00471fa0, 00472011]]

============================================================
DECOMPILED C CODE
============================================================

bool FUN_00471fa0(int param_1,uint param_2)

{
  undefined2 *puVar1;
  undefined2 *puVar2;
  undefined2 *puVar3;
  uint uVar4;
  
  if (*(char *)(param_1 + 0x10) == '\0') {
    if (*(uint *)(param_1 + 0xc) < param_2) {
      puVar1 = (undefined2 *)FUN_00471f10();
      if (*(int *)(param_1 + 8) != 0) {
        puVar3 = *(undefined2 **)(param_1 + 4);
        uVar4 = 0;
        puVar2 = puVar1;
        if (*(int *)(param_1 + 8) != 0) {
          do {
            *puVar2 = *puVar3;
            uVar4 = uVar4 + 1;
            puVar3 = puVar3 + 1;
            puVar2 = puVar2 + 1;
          } while (uVar4 < *(uint *)(param_1 + 8));
        }
      }
      FUN_00471f50();
      *(undefined2 **)(param_1 + 4) = puVar1;
      *(uint *)(param_1 + 0xc) = param_2;
    }
    return true;
  }
  return param_2 <= *(uint *)(param_1 + 0xc);
}



============================================================
DISASSEMBLY
============================================================
00471fa0 : PUSH EBP
00471fa1 : MOV EBP,ESP
00471fa3 : PUSH EBX
00471fa4 : MOV EBX,dword ptr [EBP + 0x8]
00471fa7 : CMP byte ptr [EBX + 0x10],0x0
00471fab : JZ 0x00471fbb
00471fad : MOV EAX,dword ptr [EBP + 0xc]
00471fb0 : CMP dword ptr [EBX + 0xc],EAX
00471fb3 : POP EBX
00471fb4 : SBB EAX,EAX
00471fb6 : INC EAX
00471fb7 : POP EBP
00471fb8 : RET 0x8
00471fbb : PUSH EDI
00471fbc : MOV EDI,dword ptr [EBP + 0xc]
00471fbf : CMP EDI,dword ptr [EBX + 0xc]
00471fc2 : JBE 0x0047200a
00471fc4 : PUSH ESI
00471fc5 : CALL 0x00471f10
00471fca : MOV ESI,dword ptr [EBX + 0x8]
00471fcd : MOV EDI,EAX
00471fcf : TEST ESI,ESI
00471fd1 : JBE 0x00471ff2
00471fd3 : MOV ECX,dword ptr [EBX + 0x4]
00471fd6 : XOR EDX,EDX
00471fd8 : TEST ESI,ESI
00471fda : JBE 0x00471ff2
00471fdc : LEA ESP,[ESP]
00471fe0 : MOV SI,word ptr [ECX]
00471fe3 : MOV word ptr [EAX],SI
00471fe6 : INC EDX
00471fe7 : ADD EAX,0x2
00471fea : ADD ECX,0x2
00471fed : CMP EDX,dword ptr [EBX + 0x8]
00471ff0 : JC 0x00471fe0
00471ff2 : MOV ECX,dword ptr [EBX + 0x4]
00471ff5 : LEA ESI,[EBP + 0x8]
00471ff8 : MOV dword ptr [EBP + 0x8],ECX
00471ffb : CALL 0x00471f50
00472000 : MOV EDX,dword ptr [EBP + 0xc]
00472003 : MOV dword ptr [EBX + 0x4],EDI
00472006 : MOV dword ptr [EBX + 0xc],EDX
00472009 : POP ESI
0047200a : POP EDI
0047200b : MOV AL,0x1
0047200d : POP EBX
0047200e : POP EBP
0047200f : RET 0x8
