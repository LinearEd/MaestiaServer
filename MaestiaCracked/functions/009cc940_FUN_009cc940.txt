PROGRAM  : Maestia.exe
FUNCTION : FUN_009cc940
ENTRY    : 009cc940
BODY     : [[009cc940, 009cca94]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009cc940(void)

{
  uint uVar1;
  int iVar2;
  int in_ECX;
  int iVar3;
  uint local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2d8a3;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar1;
  if (*(int *)(in_ECX + 0x14) != 0) {
    FUN_00406460(L"IDS_AUTOPARTY_HAVE_DUNGEON");
    local_8 = 0;
    iVar2 = FUN_0081d120(local_4c);
    local_8._0_1_ = 1;
    if (*(uint *)(in_ECX + 0x18) < 8) {
      iVar3 = in_ECX + 4;
    }
    else {
      iVar3 = *(int *)(in_ECX + 4);
    }
    if (*(uint *)(iVar2 + 0x18) < 8) {
      iVar2 = iVar2 + 4;
    }
    else {
      iVar2 = *(int *)(iVar2 + 4);
    }
    FUN_00404750(iVar2,iVar3,uVar1);
    local_8 = CONCAT31(local_8._1_3_,3);
    if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = CONCAT31(local_8._1_3_,4);
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_48 = 0;
    local_34 = 7;
    local_38 = 0;
    iVar2 = FUN_008ede80(local_30,2);
    if (iVar2 == 0) {
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    else {
      if (*(code **)(iVar2 + 0x60) != (code *)0x0) {
        (**(code **)(iVar2 + 0x60))(1,iVar2);
      }
      *(undefined **)(iVar2 + 0x60) = &DAT_009cc210;
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    local_2c = 0;
    local_1c = 0;
    local_18 = 7;
  }
  local_8 = 0xffffffff;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009cc940 : PUSH EBP
009cc941 : MOV EBP,ESP
009cc943 : PUSH -0x1
009cc945 : PUSH 0xb2d8a3
009cc94a : MOV EAX,FS:[0x0]
009cc950 : PUSH EAX
009cc951 : SUB ESP,0x5c
009cc954 : MOV EAX,[0x00d66fa0]
009cc959 : XOR EAX,EBP
009cc95b : MOV dword ptr [EBP + -0x10],EAX
009cc95e : PUSH EBX
009cc95f : PUSH ESI
009cc960 : PUSH EDI
009cc961 : PUSH EAX
009cc962 : LEA EAX,[EBP + -0xc]
009cc965 : MOV FS:[0x0],EAX
009cc96b : MOV ESI,ECX
009cc96d : CMP dword ptr [ESI + 0x14],0x0
009cc971 : JZ 0x009cca79
009cc977 : PUSH 0xc9555c
009cc97c : LEA ECX,[EBP + -0x48]
009cc97f : CALL 0x00406460
009cc984 : MOV dword ptr [EBP + -0x4],0x0
009cc98b : MOV ECX,dword ptr [0x0172491c]
009cc991 : LEA EAX,[EBP + -0x48]
009cc994 : PUSH EAX
009cc995 : LEA EDI,[EBP + -0x64]
009cc998 : CALL 0x0081d120
009cc99d : MOV byte ptr [EBP + -0x4],0x1
009cc9a1 : MOV EBX,0x8
009cc9a6 : CMP dword ptr [ESI + 0x18],EBX
009cc9a9 : JC 0x009cc9b0
009cc9ab : MOV ESI,dword ptr [ESI + 0x4]
009cc9ae : JMP 0x009cc9b3
009cc9b0 : ADD ESI,0x4
009cc9b3 : CMP dword ptr [EAX + 0x18],EBX
009cc9b6 : JC 0x009cc9bd
009cc9b8 : MOV EAX,dword ptr [EAX + 0x4]
009cc9bb : JMP 0x009cc9c0
009cc9bd : ADD EAX,0x4
009cc9c0 : PUSH ESI
009cc9c1 : PUSH EAX
009cc9c2 : LEA ESI,[EBP + -0x2c]
009cc9c5 : CALL 0x00404750
009cc9ca : ADD ESP,0x8
009cc9cd : MOV byte ptr [EBP + -0x4],0x3
009cc9d1 : CMP dword ptr [EBP + -0x4c],EBX
009cc9d4 : JC 0x009cc9de
009cc9d6 : MOV ECX,dword ptr [EBP + -0x60]
009cc9d9 : CALL 0x006f04e0
009cc9de : MOV EDI,0x7
009cc9e3 : XOR ESI,ESI
009cc9e5 : XOR ECX,ECX
009cc9e7 : MOV dword ptr [EBP + -0x4c],EDI
009cc9ea : MOV dword ptr [EBP + -0x50],ESI
009cc9ed : MOV word ptr [EBP + -0x60],CX
009cc9f1 : MOV byte ptr [EBP + -0x4],0x4
009cc9f5 : CMP dword ptr [EBP + -0x30],EBX
009cc9f8 : JC 0x009cca02
009cc9fa : MOV ECX,dword ptr [EBP + -0x44]
009cc9fd : CALL 0x006f04e0
009cca02 : MOV EAX,[0x00da9894]
009cca07 : XOR EDX,EDX
009cca09 : MOV word ptr [EBP + -0x44],DX
009cca0d : PUSH 0x2
009cca0f : LEA EDX,[EBP + -0x2c]
009cca12 : MOV dword ptr [EBP + -0x30],EDI
009cca15 : MOV dword ptr [EBP + -0x34],ESI
009cca18 : MOV ECX,dword ptr [EAX]
009cca1a : PUSH EDX
009cca1b : CALL 0x008ede80
009cca20 : MOV ESI,EAX
009cca22 : TEST ESI,ESI
009cca24 : JNZ 0x009cca42
009cca26 : MOV dword ptr [EBP + -0x4],0xffffffff
009cca2d : CMP dword ptr [EBP + -0x14],EBX
009cca30 : JC 0x009cca3a
009cca32 : MOV ECX,dword ptr [EBP + -0x28]
009cca35 : CALL 0x006f04e0
009cca3a : XOR EAX,EAX
009cca3c : MOV word ptr [EBP + -0x28],AX
009cca40 : JMP 0x009cca6f
009cca42 : MOV EAX,dword ptr [ESI + 0x60]
009cca45 : TEST EAX,EAX
009cca47 : JZ 0x009cca4e
009cca49 : PUSH ESI
009cca4a : PUSH 0x1
009cca4c : CALL EAX
009cca4e : MOV dword ptr [ESI + 0x60],0x9cc210
009cca55 : MOV dword ptr [EBP + -0x4],0xffffffff
009cca5c : CMP dword ptr [EBP + -0x14],EBX
009cca5f : JC 0x009cca69
009cca61 : MOV ECX,dword ptr [EBP + -0x28]
009cca64 : CALL 0x006f04e0
009cca69 : XOR ECX,ECX
009cca6b : MOV word ptr [EBP + -0x28],CX
009cca6f : MOV dword ptr [EBP + -0x18],0x0
009cca76 : MOV dword ptr [EBP + -0x14],EDI
009cca79 : MOV ECX,dword ptr [EBP + -0xc]
009cca7c : MOV dword ptr FS:[0x0],ECX
009cca83 : POP ECX
009cca84 : POP EDI
009cca85 : POP ESI
009cca86 : POP EBX
009cca87 : MOV ECX,dword ptr [EBP + -0x10]
009cca8a : XOR ECX,EBP
009cca8c : CALL 0x00633e6b
009cca91 : MOV ESP,EBP
009cca93 : POP EBP
009cca94 : RET
