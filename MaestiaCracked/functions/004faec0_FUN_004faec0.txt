PROGRAM  : Maestia.exe
FUNCTION : FUN_004faec0
ENTRY    : 004faec0
BODY     : [[004faec0, 004faf68]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_004faec0(undefined4 *param_1,int param_2)

{
  char cVar1;
  uint uVar2;
  undefined4 uVar3;
  void *local_c;
  undefined1 *puStack_8;
  undefined4 local_4;
  
  puStack_8 = &LAB_00b82418;
  local_c = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xffffffe8;
  ExceptionList = &local_c;
  *param_1 = &PTR_FUN_00cd63c0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  *(undefined1 *)(param_1 + 4) = 0;
  local_4 = 0;
  *param_1 = &PTR_FUN_00cdf0a0;
  *(undefined1 *)(param_1 + 5) = 1;
  param_1[6] = 0xffffffff;
  uVar3 = FUN_00808040("DetermineCellAges",param_1 + 6,uVar2);
  FUN_00471a40(uVar3,param_2 * 4);
  cVar1 = FUN_0046d4d0(param_1,param_2);
  if (cVar1 == '\0') {
    param_1[2] = param_1[3];
  }
  else {
    param_1[2] = param_2;
  }
  ExceptionList = local_c;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
004faec0 : PUSH -0x1
004faec2 : PUSH 0xb82418
004faec7 : MOV EAX,FS:[0x0]
004faecd : PUSH EAX
004faece : PUSH EBX
004faecf : PUSH ESI
004faed0 : PUSH EDI
004faed1 : MOV EAX,[0x00d66fa0]
004faed6 : XOR EAX,ESP
004faed8 : PUSH EAX
004faed9 : LEA EAX,[ESP + 0x10]
004faedd : MOV FS:[0x0],EAX
004faee3 : MOV EBX,dword ptr [ESP + 0x24]
004faee7 : MOV ESI,dword ptr [ESP + 0x20]
004faeeb : XOR EAX,EAX
004faeed : MOV dword ptr [ESI],0xcd63c0
004faef3 : MOV dword ptr [ESI + 0x4],EAX
004faef6 : MOV dword ptr [ESI + 0x8],EAX
004faef9 : MOV dword ptr [ESI + 0xc],EAX
004faefc : MOV byte ptr [ESI + 0x10],AL
004faeff : MOV dword ptr [ESP + 0x18],EAX
004faf03 : LEA EAX,[ESI + 0x18]
004faf06 : PUSH EAX
004faf07 : LEA EDI,[EBX*0x4 + 0x0]
004faf0e : PUSH 0xbf1e00
004faf13 : MOV dword ptr [ESI],0xcdf0a0
004faf19 : MOV byte ptr [ESI + 0x14],0x1
004faf1d : MOV dword ptr [EAX],0xffffffff
004faf23 : CALL 0x00808040
004faf28 : ADD ESP,0x8
004faf2b : PUSH EDI
004faf2c : PUSH EAX
004faf2d : MOV EDI,ESI
004faf2f : CALL 0x00471a40
004faf34 : PUSH EBX
004faf35 : PUSH ESI
004faf36 : CALL 0x0046d4d0
004faf3b : TEST AL,AL
004faf3d : JZ 0x004faf44
004faf3f : MOV dword ptr [ESI + 0x8],EBX
004faf42 : JMP 0x004faf4a
004faf44 : MOV EAX,dword ptr [ESI + 0xc]
004faf47 : MOV dword ptr [ESI + 0x8],EAX
004faf4a : MOV dword ptr [ESP + 0x18],0xffffffff
004faf52 : MOV EAX,ESI
004faf54 : MOV ECX,dword ptr [ESP + 0x10]
004faf58 : MOV dword ptr FS:[0x0],ECX
004faf5f : POP ECX
004faf60 : POP EDI
004faf61 : POP ESI
004faf62 : POP EBX
004faf63 : ADD ESP,0xc
004faf66 : RET 0x8
