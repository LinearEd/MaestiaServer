PROGRAM  : Maestia.exe
FUNCTION : FUN_0092b090
ENTRY    : 0092b090
BODY     : [[0092b090, 0092b2a0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0092b090(void)

{
  int iVar1;
  undefined4 *puVar2;
  int in_ECX;
  undefined4 uVar3;
  uint local_6c;
  uint local_50;
  undefined1 local_4c [4];
  undefined4 local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined4 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b52f88;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar1 = FUN_00703c00(0x600,local_14);
  if (iVar1 == 0) {
    FUN_008018d0(L"%d : [%s] / Failed : Find item... index : %u",499,
                 L"AvaGuiRandomBox::ShowRecvItemMsg",*(undefined2 *)(in_ECX + 0x44));
  }
  else {
    FUN_00824a20(DAT_0172491c,0);
    local_8 = 0;
    FUN_00406460(&DAT_00c6c484);
    local_8._0_1_ = 1;
    puVar2 = local_48;
    if (local_34 < 8) {
      puVar2 = &local_48;
    }
    uVar3 = 0xffffffff;
    iVar1 = FUN_00412be0(puVar2,local_38);
    FUN_00405e10(iVar1 + 1,uVar3);
    local_8._0_1_ = 0;
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_34 = 7;
    local_38 = 0;
    local_48._0_2_ = 0;
    FUN_008ece00(0);
    FUN_00406460(L"IDS_GET_ITEM_FROM_RANDOMBOX");
    local_8._0_1_ = 2;
    iVar1 = FUN_0081d120(local_4c);
    local_8._0_1_ = 3;
    puVar2 = local_2c;
    if (local_18 < 8) {
      puVar2 = &local_2c;
    }
    if (*(uint *)(iVar1 + 0x18) < 8) {
      iVar1 = iVar1 + 4;
    }
    else {
      iVar1 = *(int *)(iVar1 + 4);
    }
    uVar3 = FUN_00404750(iVar1,puVar2);
    local_8._0_1_ = 4;
    FUN_00405eb0(uVar3,0,0xffffffff);
    local_8 = CONCAT31(local_8._1_3_,3);
    if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = CONCAT31(local_8._1_3_,2);
    if (7 < local_6c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_34 = 7;
    local_38 = 0;
    local_48 = (undefined4 *)((uint)local_48._2_2_ << 0x10);
    if (((DAT_0172491c != 0) && (iVar1 = *DAT_00da9894, iVar1 != 0)) &&
       (*(int *)(iVar1 + 0x1a8) != 0)) {
      (**(code **)(**(int **)(iVar1 + 0x1a8) + 0x44))(local_30,0x13);
    }
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0092b090 : PUSH EBP
0092b091 : MOV EBP,ESP
0092b093 : PUSH -0x1
0092b095 : PUSH 0xb52f88
0092b09a : MOV EAX,FS:[0x0]
0092b0a0 : PUSH EAX
0092b0a1 : SUB ESP,0x74
0092b0a4 : MOV EAX,[0x00d66fa0]
0092b0a9 : XOR EAX,EBP
0092b0ab : MOV dword ptr [EBP + -0x10],EAX
0092b0ae : PUSH EBX
0092b0af : PUSH ESI
0092b0b0 : PUSH EDI
0092b0b1 : PUSH EAX
0092b0b2 : LEA EAX,[EBP + -0xc]
0092b0b5 : MOV FS:[0x0],EAX
0092b0bb : MOV ESI,ECX
0092b0bd : MOV DI,word ptr [ESI + 0x44]
0092b0c1 : PUSH 0x600
0092b0c6 : CALL 0x00703c00
0092b0cb : ADD ESP,0x4
0092b0ce : TEST EAX,EAX
0092b0d0 : JZ 0x0092b263
0092b0d6 : LEA EDX,[EAX + 0x18]
0092b0d9 : MOV EAX,[0x0172491c]
0092b0de : PUSH 0x0
0092b0e0 : PUSH EAX
0092b0e1 : LEA ESI,[EBP + -0x2c]
0092b0e4 : CALL 0x00824a20
0092b0e9 : MOV dword ptr [EBP + -0x4],0x0
0092b0f0 : PUSH 0xc6c484
0092b0f5 : LEA ECX,[EBP + -0x48]
0092b0f8 : CALL 0x00406460
0092b0fd : MOV byte ptr [EBP + -0x4],0x1
0092b101 : MOV EAX,dword ptr [EBP + -0x44]
0092b104 : MOV EBX,0x8
0092b109 : CMP dword ptr [EBP + -0x30],EBX
0092b10c : JNC 0x0092b111
0092b10e : LEA EAX,[EBP + -0x44]
0092b111 : MOV ECX,dword ptr [EBP + -0x34]
0092b114 : PUSH -0x1
0092b116 : PUSH ECX
0092b117 : PUSH EAX
0092b118 : LEA EDI,[EBP + -0x2c]
0092b11b : CALL 0x00412be0
0092b120 : INC EAX
0092b121 : PUSH EAX
0092b122 : MOV ECX,EDI
0092b124 : CALL 0x00405e10
0092b129 : MOV byte ptr [EBP + -0x4],0x0
0092b12d : CMP dword ptr [EBP + -0x30],EBX
0092b130 : JC 0x0092b13a
0092b132 : MOV ECX,dword ptr [EBP + -0x44]
0092b135 : CALL 0x006f04e0
0092b13a : XOR EDX,EDX
0092b13c : PUSH EDX
0092b13d : LEA EDI,[EBP + -0x2c]
0092b140 : MOV dword ptr [EBP + -0x30],0x7
0092b147 : MOV dword ptr [EBP + -0x34],0x0
0092b14e : MOV word ptr [EBP + -0x44],DX
0092b152 : CALL 0x008ece00
0092b157 : PUSH 0xc6c488
0092b15c : LEA ECX,[EBP + -0x48]
0092b15f : CALL 0x00406460
0092b164 : MOV byte ptr [EBP + -0x4],0x2
0092b168 : MOV ECX,dword ptr [0x0172491c]
0092b16e : LEA EAX,[EBP + -0x48]
0092b171 : PUSH EAX
0092b172 : LEA EDI,[EBP + -0x80]
0092b175 : CALL 0x0081d120
0092b17a : MOV byte ptr [EBP + -0x4],0x3
0092b17e : MOV ECX,dword ptr [EBP + -0x28]
0092b181 : CMP dword ptr [EBP + -0x14],EBX
0092b184 : JNC 0x0092b189
0092b186 : LEA ECX,[EBP + -0x28]
0092b189 : CMP dword ptr [EAX + 0x18],EBX
0092b18c : JC 0x0092b193
0092b18e : MOV EAX,dword ptr [EAX + 0x4]
0092b191 : JMP 0x0092b196
0092b193 : ADD EAX,0x4
0092b196 : PUSH ECX
0092b197 : PUSH EAX
0092b198 : LEA ESI,[EBP + -0x64]
0092b19b : CALL 0x00404750
0092b1a0 : ADD ESP,0x8
0092b1a3 : MOV byte ptr [EBP + -0x4],0x4
0092b1a7 : PUSH -0x1
0092b1a9 : XOR ESI,ESI
0092b1ab : PUSH ESI
0092b1ac : PUSH EAX
0092b1ad : LEA ECX,[EBP + -0x2c]
0092b1b0 : CALL 0x00405eb0
0092b1b5 : MOV byte ptr [EBP + -0x4],0x3
0092b1b9 : CMP dword ptr [EBP + -0x4c],EBX
0092b1bc : JC 0x0092b1c6
0092b1be : MOV ECX,dword ptr [EBP + -0x60]
0092b1c1 : CALL 0x006f04e0
0092b1c6 : MOV EDI,0x7
0092b1cb : XOR ECX,ECX
0092b1cd : MOV dword ptr [EBP + -0x4c],EDI
0092b1d0 : MOV dword ptr [EBP + -0x50],ESI
0092b1d3 : MOV word ptr [EBP + -0x60],CX
0092b1d7 : MOV byte ptr [EBP + -0x4],0x2
0092b1db : CMP dword ptr [EBP + -0x68],EBX
0092b1de : JC 0x0092b1e8
0092b1e0 : MOV ECX,dword ptr [EBP + -0x7c]
0092b1e3 : CALL 0x006f04e0
0092b1e8 : XOR EDX,EDX
0092b1ea : MOV dword ptr [EBP + -0x68],EDI
0092b1ed : MOV dword ptr [EBP + -0x6c],ESI
0092b1f0 : MOV word ptr [EBP + -0x7c],DX
0092b1f4 : MOV byte ptr [EBP + -0x4],DL
0092b1f7 : CMP dword ptr [EBP + -0x30],EBX
0092b1fa : JC 0x0092b204
0092b1fc : MOV ECX,dword ptr [EBP + -0x44]
0092b1ff : CALL 0x006f04e0
0092b204 : XOR EAX,EAX
0092b206 : MOV dword ptr [EBP + -0x30],EDI
0092b209 : MOV dword ptr [EBP + -0x34],ESI
0092b20c : MOV word ptr [EBP + -0x44],AX
0092b210 : CMP dword ptr [0x0172491c],ESI
0092b216 : JZ 0x0092b241
0092b218 : MOV ECX,dword ptr [0x00da9894]
0092b21e : MOV EAX,dword ptr [ECX]
0092b220 : CMP EAX,ESI
0092b222 : JZ 0x0092b241
0092b224 : CMP dword ptr [EAX + 0x1a8],ESI
0092b22a : JZ 0x0092b241
0092b22c : MOV EAX,dword ptr [EAX + 0x1a8]
0092b232 : MOV EDX,dword ptr [EAX]
0092b234 : MOV EDX,dword ptr [EDX + 0x44]
0092b237 : PUSH 0x13
0092b239 : LEA ECX,[EBP + -0x2c]
0092b23c : PUSH ECX
0092b23d : MOV ECX,EAX
0092b23f : CALL EDX
0092b241 : MOV dword ptr [EBP + -0x4],0xffffffff
0092b248 : CMP dword ptr [EBP + -0x14],EBX
0092b24b : JC 0x0092b255
0092b24d : MOV ECX,dword ptr [EBP + -0x28]
0092b250 : CALL 0x006f04e0
0092b255 : XOR EAX,EAX
0092b257 : MOV dword ptr [EBP + -0x14],EDI
0092b25a : MOV dword ptr [EBP + -0x18],ESI
0092b25d : MOV word ptr [EBP + -0x28],AX
0092b261 : JMP 0x0092b285
0092b263 : MOVZX ECX,word ptr [ESI + 0x44]
0092b267 : MOV ESI,dword ptr [0x00da98e8]
0092b26d : PUSH ECX
0092b26e : PUSH 0xc6c4c0
0092b273 : PUSH 0x1f3
0092b278 : PUSH 0xc6c508
0092b27d : CALL 0x008018d0
0092b282 : ADD ESP,0x10
0092b285 : MOV ECX,dword ptr [EBP + -0xc]
0092b288 : MOV dword ptr FS:[0x0],ECX
0092b28f : POP ECX
0092b290 : POP EDI
0092b291 : POP ESI
0092b292 : POP EBX
0092b293 : MOV ECX,dword ptr [EBP + -0x10]
0092b296 : XOR ECX,EBP
0092b298 : CALL 0x00633e6b
0092b29d : MOV ESP,EBP
0092b29f : POP EBP
0092b2a0 : RET
