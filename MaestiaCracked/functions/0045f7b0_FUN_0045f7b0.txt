PROGRAM  : Maestia.exe
FUNCTION : FUN_0045f7b0
ENTRY    : 0045f7b0
BODY     : [[0045f7b0, 0045f8b1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0045f7b0(int param_1,int param_2,int param_3,undefined4 param_4)

{
  int iVar1;
  int iVar2;
  int local_10;
  int local_c;
  
  iVar2 = param_2 - param_1;
  do {
    iVar2 = iVar2 >> 2;
    if (iVar2 < 0x21) {
LAB_0045f85e:
      if (1 < iVar2) {
        FUN_0045fbd0(param_1,param_2,param_4);
      }
      return;
    }
    if (param_3 < 1) {
      if (0x20 < iVar2) {
        if (4 < (int)(param_2 - param_1 & 0xfffffffcU)) {
          FUN_0045fb30(param_1,param_2,param_4);
        }
        FUN_0045fb80(param_1,param_2,param_4);
        return;
      }
      goto LAB_0045f85e;
    }
    FUN_0045f8c0(&local_10,param_1,param_2,param_4);
    iVar1 = local_c;
    iVar2 = local_10;
    param_3 = param_3 / 2 + (param_3 / 2) / 2;
    if ((int)(local_10 - param_1 & 0xfffffffcU) < (int)(param_2 - local_c & 0xfffffffcU)) {
      FUN_0045f7b0(param_1,local_10,param_3,param_4);
      param_1 = iVar1;
    }
    else {
      FUN_0045f7b0(local_c,param_2,param_3,param_4);
      param_2 = iVar2;
    }
    iVar2 = param_2 - param_1;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
0045f7b0 : PUSH EBP
0045f7b1 : MOV EBP,ESP
0045f7b3 : AND ESP,0xfffffff8
0045f7b6 : MOV ECX,dword ptr [EBP + 0xc]
0045f7b9 : MOV EDX,dword ptr [EBP + 0x8]
0045f7bc : SUB ESP,0xc
0045f7bf : MOV EAX,ECX
0045f7c1 : SUB EAX,EDX
0045f7c3 : PUSH EBX
0045f7c4 : SAR EAX,0x2
0045f7c7 : CMP EAX,0x20
0045f7ca : PUSH ESI
0045f7cb : PUSH EDI
0045f7cc : JLE 0x0045f85e
0045f7d2 : MOV ESI,dword ptr [EBP + 0x10]
0045f7d5 : TEST ESI,ESI
0045f7d7 : JLE 0x0045f878
0045f7dd : MOV EAX,dword ptr [EBP + 0x14]
0045f7e0 : PUSH EAX
0045f7e1 : PUSH ECX
0045f7e2 : PUSH EDX
0045f7e3 : LEA ECX,[ESP + 0x1c]
0045f7e7 : PUSH ECX
0045f7e8 : CALL 0x0045f8c0
0045f7ed : MOV EBX,dword ptr [ESP + 0x20]
0045f7f1 : MOV EDI,dword ptr [ESP + 0x24]
0045f7f5 : MOV EAX,ESI
0045f7f7 : CDQ
0045f7f8 : SUB EAX,EDX
0045f7fa : SAR EAX,0x1
0045f7fc : MOV ESI,EAX
0045f7fe : CDQ
0045f7ff : SUB EAX,EDX
0045f801 : SAR EAX,0x1
0045f803 : ADD ESI,EAX
0045f805 : MOV EAX,dword ptr [EBP + 0xc]
0045f808 : MOV ECX,EBX
0045f80a : SUB ECX,dword ptr [EBP + 0x8]
0045f80d : MOV EDX,EAX
0045f80f : SUB EDX,EDI
0045f811 : AND EDX,0xfffffffc
0045f814 : AND ECX,0xfffffffc
0045f817 : ADD ESP,0x10
0045f81a : CMP ECX,EDX
0045f81c : JGE 0x0045f837
0045f81e : MOV EDX,dword ptr [EBP + 0x14]
0045f821 : MOV EAX,dword ptr [EBP + 0x8]
0045f824 : PUSH EDX
0045f825 : PUSH ESI
0045f826 : PUSH EBX
0045f827 : PUSH EAX
0045f828 : CALL 0x0045f7b0
0045f82d : MOV ECX,dword ptr [EBP + 0xc]
0045f830 : MOV EDX,EDI
0045f832 : MOV dword ptr [EBP + 0x8],EDX
0045f835 : JMP 0x0045f84b
0045f837 : MOV ECX,dword ptr [EBP + 0x14]
0045f83a : PUSH ECX
0045f83b : PUSH ESI
0045f83c : PUSH EAX
0045f83d : PUSH EDI
0045f83e : CALL 0x0045f7b0
0045f843 : MOV EDX,dword ptr [EBP + 0x8]
0045f846 : MOV ECX,EBX
0045f848 : MOV dword ptr [EBP + 0xc],ECX
0045f84b : MOV EAX,ECX
0045f84d : SUB EAX,EDX
0045f84f : SAR EAX,0x2
0045f852 : ADD ESP,0x10
0045f855 : CMP EAX,0x20
0045f858 : JG 0x0045f7d5
0045f85e : CMP EAX,0x1
0045f861 : JLE 0x0045f871
0045f863 : MOV EAX,dword ptr [EBP + 0x14]
0045f866 : PUSH EAX
0045f867 : PUSH ECX
0045f868 : PUSH EDX
0045f869 : CALL 0x0045fbd0
0045f86e : ADD ESP,0xc
0045f871 : POP EDI
0045f872 : POP ESI
0045f873 : POP EBX
0045f874 : MOV ESP,EBP
0045f876 : POP EBP
0045f877 : RET
0045f878 : CMP EAX,0x20
0045f87b : JLE 0x0045f85e
0045f87d : MOV EAX,ECX
0045f87f : SUB EAX,EDX
0045f881 : AND EAX,0xfffffffc
0045f884 : CMP EAX,0x4
0045f887 : JLE 0x0045f89d
0045f889 : MOV EAX,dword ptr [EBP + 0x14]
0045f88c : PUSH EAX
0045f88d : PUSH ECX
0045f88e : PUSH EDX
0045f88f : CALL 0x0045fb30
0045f894 : MOV ECX,dword ptr [EBP + 0xc]
0045f897 : MOV EDX,dword ptr [EBP + 0x8]
0045f89a : ADD ESP,0xc
0045f89d : MOV EAX,dword ptr [EBP + 0x14]
0045f8a0 : PUSH EAX
0045f8a1 : PUSH ECX
0045f8a2 : PUSH EDX
0045f8a3 : CALL 0x0045fb80
0045f8a8 : ADD ESP,0xc
0045f8ab : POP EDI
0045f8ac : POP ESI
0045f8ad : POP EBX
0045f8ae : MOV ESP,EBP
0045f8b0 : POP EBP
0045f8b1 : RET
