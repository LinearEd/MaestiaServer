PROGRAM  : Maestia.exe
FUNCTION : FUN_006590ce
ENTRY    : 006590ce
BODY     : [[006590ce, 00659301]]

============================================================
DECOMPILED C CODE
============================================================

float10 FUN_006590ce(void)

{
  int iVar1;
  ushort uVar2;
  float10 fVar3;
  double in_XMM0_Qa;
  double dVar4;
  double dVar5;
  double dVar6;
  double dVar7;
  double dVar8;
  double dVar9;
  double dVar10;
  double dVar11;
  double dVar12;
  double dVar13;
  double dVar14;
  double dVar15;
  double dVar16;
  double dVar17;
  
  uVar2 = ((ushort)((ulonglong)in_XMM0_Qa >> 0x30) & 0x7fff) + 0xc7e0;
  if (uVar2 < 0x8a9) {
    dVar11 = (in_XMM0_Qa * 10.185916357881302 + 1.080863910568919e+17) - 1.080863910568919e+17;
    dVar12 = (in_XMM0_Qa * 10.185916357881302 + 6755399441055744.0) - 6755399441055744.0;
    dVar4 = in_XMM0_Qa - dVar11 * 0.0981747704247482;
    dVar8 = in_XMM0_Qa - dVar12 * 0.09817477042452083;
    dVar5 = dVar4 - dVar11 * -6.716466596861444e-14;
    dVar9 = dVar8 - dVar12 * 1.6020900947399724e-13;
    iVar1 = ((int)ROUND(in_XMM0_Qa * 10.185916357881302) + 0x72900U & 0x1f) * 0xb0;
    dVar16 = (double)((ulonglong)(dVar11 * 6.716466596857464e-14 + dVar4) & 0xfffffffffffc0000);
    dVar17 = 1.0 / dVar16;
    dVar6 = dVar9 * dVar9;
    dVar10 = dVar9 * dVar9;
    dVar7 = dVar6 * dVar6;
    dVar14 = dVar9 * *(double *)(&DAT_00b9e5e0 + iVar1) + dVar9 * *(double *)(&DAT_00b9e5e8 + iVar1)
    ;
    dVar13 = (double)(*(ulonglong *)(&DAT_00b9e5f8 + iVar1) & (ulonglong)dVar17) -
             *(double *)(&DAT_00b9e5d0 + iVar1);
    dVar15 = dVar14 - dVar13;
    return (float10)(((dVar7 * dVar7 *
                       (*(double *)(&DAT_00b9e560 + iVar1) * dVar9 +
                        *(double *)(&DAT_00b9e550 + iVar1) +
                        (*(double *)(&DAT_00b9e580 + iVar1) * dVar9 +
                        *(double *)(&DAT_00b9e570 + iVar1)) * dVar6 +
                        *(double *)(&DAT_00b9e590 + iVar1) * dVar7 +
                       (*(double *)(&DAT_00b9e5b0 + iVar1) * dVar9 +
                        *(double *)(&DAT_00b9e5a0 + iVar1) +
                       *(double *)(&DAT_00b9e5c0 + iVar1) * dVar6) * dVar9 * dVar7) +
                       *(double *)(&UNK_00b9e568 + iVar1) * dVar9 +
                       *(double *)(&DAT_00b9e558 + iVar1) +
                       (*(double *)(&UNK_00b9e588 + iVar1) * dVar9 +
                       *(double *)(&DAT_00b9e578 + iVar1)) * dVar10 +
                       *(double *)(&UNK_00b9e598 + iVar1) * dVar10 * dVar10 +
                       (*(double *)(&UNK_00b9e5b8 + iVar1) * dVar9 +
                        *(double *)(&DAT_00b9e5a8 + iVar1) +
                       *(double *)(&UNK_00b9e5c8 + iVar1) * dVar10) * dVar9 * dVar10 * dVar10 +
                       (*(double *)(&DAT_00b9e5e0 + iVar1) + *(double *)(&DAT_00b9e5e8 + iVar1)) *
                       (((dVar8 - dVar9) - dVar12 * 1.6020900947399724e-13) -
                       dVar12 * 6.601874416867142e-25) + *(double *)(&DAT_00b9e5d8 + iVar1) +
                       dVar9 * *(double *)(&DAT_00b9e5e8 + iVar1) +
                       (dVar9 * *(double *)(&DAT_00b9e5e0 + iVar1) - dVar14) +
                      (dVar14 - (dVar13 + dVar15))) -
                     ((1.0 - dVar16 * (double)(*(ulonglong *)(&DAT_00b9e5f8 + iVar1) &
                                              (ulonglong)dVar17)) -
                     ((((dVar4 - dVar5) - dVar11 * -6.716466596861444e-14) -
                      dVar11 * 3.9801982271943437e-26) + (dVar5 - dVar16)) * dVar17) *
                     dVar17 * *(double *)(&DAT_00b9e5f0 + iVar1)) + dVar15);
  }
  if ((short)uVar2 < 0x8a9) {
    return (float10)((in_XMM0_Qa * 3.602879701896397e+16 + in_XMM0_Qa) * 2.7755575615628914e-17);
  }
  fVar3 = (float10)FUN_0063c67f();
  return fVar3;
}



============================================================
DISASSEMBLY
============================================================
006590ce : PEXTRW EAX,XMM0,0x3
006590d3 : AND AX,0x7fff
006590d7 : SUB AX,0x3820
006590db : CMP AX,0x8a8
006590df : JA 0x006592bc
006590e5 : UNPCKLPD XMM0,XMM0
006590e9 : MOVAPD XMM1,xmmword ptr [0x00b9fb50]
006590f1 : MULPD XMM1,XMM0
006590f5 : CVTSD2SI EDX,XMM1
006590f9 : MOVAPD XMM2,xmmword ptr [0x00b9fb60]
00659101 : ADDPD XMM1,XMM2
00659105 : MOVAPD XMM3,xmmword ptr [0x00b9fb70]
0065910d : SUBPD XMM1,XMM2
00659111 : MOVLPD XMM5,qword ptr [0x00b9fba0]
00659119 : ADD EDX,0x72900
0065911f : MOVAPD XMM4,xmmword ptr [0x00b9fb80]
00659127 : MULPD XMM3,XMM1
0065912b : AND EDX,0x1f
0065912e : MULSD XMM5,XMM1
00659132 : MOV ECX,EDX
00659134 : MULPD XMM4,XMM1
00659138 : SHL ECX,0x1
0065913a : SUBPD XMM0,XMM3
0065913e : MULPD XMM1,xmmword ptr [0x00b9fb90]
00659146 : ADD EDX,ECX
00659148 : SHL ECX,0x2
0065914b : ADD EDX,ECX
0065914d : ADDSD XMM5,XMM0
00659151 : MOVAPD XMM2,XMM0
00659155 : SUBPD XMM0,XMM4
00659159 : MOVLPD XMM6,qword ptr [0x00b9fba8]
00659161 : SHL EDX,0x4
00659164 : LEA EAX,[0xb9e550]
0065916a : ANDPD XMM5,xmmword ptr [0x00b9fbb0]
00659172 : MOVAPD XMM3,XMM0
00659176 : ADD EAX,EDX
00659178 : SUBPD XMM2,XMM0
0065917c : UNPCKHPD XMM0,XMM0
00659180 : DIVSD XMM6,XMM5
00659184 : SUBPD XMM2,XMM4
00659188 : MOVAPD XMM7,xmmword ptr [EAX + 0x10]
0065918d : SUBSD XMM3,XMM5
00659191 : MULPD XMM7,XMM0
00659195 : SUBPD XMM2,XMM1
00659199 : MOVAPD XMM1,xmmword ptr [EAX + 0x30]
0065919e : MULPD XMM1,XMM0
006591a2 : MOVAPD XMM4,xmmword ptr [EAX + 0x60]
006591a7 : MULPD XMM4,XMM0
006591ab : ADDSD XMM2,XMM3
006591af : MOVAPD XMM3,XMM0
006591b3 : MULPD XMM0,XMM0
006591b7 : ADDPD XMM7,xmmword ptr [EAX]
006591bb : ADDPD XMM1,xmmword ptr [EAX + 0x20]
006591c0 : MULPD XMM1,XMM0
006591c4 : ADDPD XMM4,xmmword ptr [EAX + 0x50]
006591c9 : ADDPD XMM7,XMM1
006591cd : MOVAPD XMM1,xmmword ptr [EAX + 0x70]
006591d2 : MULPD XMM1,XMM0
006591d6 : MULPD XMM0,XMM0
006591da : ADDPD XMM4,XMM1
006591de : MOVAPD XMM1,xmmword ptr [EAX + 0x40]
006591e3 : MULPD XMM1,XMM0
006591e7 : ADDPD XMM7,XMM1
006591eb : MOVAPD XMM1,XMM3
006591ef : MULPD XMM3,XMM0
006591f3 : MULSD XMM0,XMM0
006591f7 : MULPD XMM1,xmmword ptr [EAX + 0x90]
006591ff : MULPD XMM4,XMM3
00659203 : MOVSD XMM3,XMM1
00659207 : ADDPD XMM7,XMM4
0065920b : MOVSD XMM4,XMM1
0065920f : MULSD XMM0,XMM7
00659213 : UNPCKHPD XMM7,XMM7
00659217 : ADDSD XMM0,XMM7
0065921b : UNPCKHPD XMM1,XMM1
0065921f : ADDSD XMM3,XMM1
00659223 : SUBSD XMM4,XMM3
00659227 : ADDSD XMM1,XMM4
0065922b : MOVSD XMM4,XMM2
0065922f : MOVLPD XMM7,qword ptr [EAX + 0x90]
00659237 : UNPCKHPD XMM2,XMM2
0065923b : ADDSD XMM7,qword ptr [EAX + 0x98]
00659243 : MULSD XMM7,XMM2
00659247 : ADDSD XMM7,qword ptr [EAX + 0x88]
0065924f : ADDSD XMM7,XMM1
00659253 : ADDSD XMM0,XMM7
00659257 : MOVLPD XMM7,qword ptr [0x00b9fba8]
0065925f : MULSD XMM4,XMM6
00659263 : MOVLPD XMM2,qword ptr [EAX + 0xa8]
0065926b : ANDPD XMM2,XMM6
0065926f : MULSD XMM5,XMM2
00659273 : MULSD XMM6,qword ptr [EAX + 0xa0]
0065927b : SUBSD XMM7,XMM5
0065927f : SUBSD XMM2,qword ptr [EAX + 0x80]
00659287 : SUBSD XMM7,XMM4
0065928b : MULSD XMM7,XMM6
0065928f : MOVSD XMM4,XMM3
00659293 : SUBSD XMM3,XMM2
00659297 : ADDSD XMM2,XMM3
0065929b : SUBSD XMM4,XMM2
0065929f : ADDSD XMM0,XMM4
006592a3 : SUBSD XMM0,XMM7
006592a7 : SUB ESP,0x10
006592aa : ADDSD XMM0,XMM3
006592ae : MOVLPD qword ptr [ESP + 0x4],XMM0
006592b4 : FLD double ptr [ESP + 0x4]
006592b8 : ADD ESP,0x10
006592bb : RET
006592bc : JG 0x006592fd
006592be : SUB ESP,0x10
006592c1 : SHR AX,0x4
006592c5 : CMP AX,0xc7e
006592c9 : JNZ 0x006592d7
006592cb : MOVSD XMM3,XMM0
006592cf : MULSD XMM3,qword ptr [0x00b9fbd0]
006592d7 : MOVLPD XMM3,qword ptr [0x00b9fbc8]
006592df : MULSD XMM3,XMM0
006592e3 : ADDSD XMM3,XMM0
006592e7 : MULSD XMM3,qword ptr [0x00b9fbd0]
006592ef : MOVLPD qword ptr [ESP + 0x4],XMM3
006592f5 : FLD double ptr [ESP + 0x4]
006592f9 : ADD ESP,0x10
006592fc : RET
006592fd : JMP 0x0063c67f
