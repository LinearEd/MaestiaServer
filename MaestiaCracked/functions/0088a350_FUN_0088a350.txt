PROGRAM  : Maestia.exe
FUNCTION : FUN_0088a350
ENTRY    : 0088a350
BODY     : [[0088a350, 0088a4f6]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_0088a350(float *param_1,char param_2)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int in_ECX;
  float fVar4;
  float fVar5;
  float fVar6;
  undefined1 local_10 [12];
  
  if (*(char *)(in_ECX + 0x1a0) != '\0') {
    FUN_008898e0();
  }
  *(float *)(in_ECX + 0x1a4) = *param_1;
  *(float *)(in_ECX + 0x1a8) = param_1[1];
  *(float *)(in_ECX + 0x1ac) = param_1[2];
  if (param_2 == '\0') {
    *(undefined1 *)(in_ECX + 0x1a0) = 1;
  }
  else {
    iVar1 = *(int *)(in_ECX + 1000);
    *(float *)(iVar1 + 0x68) = *param_1;
    *(float *)(iVar1 + 0x6c) = param_1[1];
    *(float *)(iVar1 + 0x70) = param_1[2];
    *(undefined1 *)(iVar1 + 0x5d) = 1;
    *(undefined1 *)(iVar1 + 0x134) = 1;
    *(undefined1 *)(iVar1 + 0x5c) = 1;
    if (*(int **)(iVar1 + 0x2c) != (int *)0x0) {
      (**(code **)(**(int **)(iVar1 + 0x2c) + 0x60))(iVar1);
    }
    iVar1 = *(int *)(in_ECX + 0x3ec);
    if (iVar1 != 0) {
      *(float *)(iVar1 + 0x68) = *param_1;
      *(float *)(iVar1 + 0x6c) = param_1[1];
      *(float *)(iVar1 + 0x70) = param_1[2];
      *(undefined1 *)(iVar1 + 0x5d) = 1;
      *(undefined1 *)(iVar1 + 0x134) = 1;
      *(undefined1 *)(iVar1 + 0x5c) = 1;
      if (*(int **)(iVar1 + 0x2c) != (int *)0x0) {
        (**(code **)(**(int **)(iVar1 + 0x2c) + 0x60))(iVar1);
      }
    }
  }
  puVar2 = (undefined4 *)0x0;
  if ((DAT_0172491c != 0) && (puVar2 = (undefined4 *)0x0, *(int *)(DAT_0172491c + 0x17c) != 0)) {
    iVar1 = *(int *)(*(int *)(DAT_0172491c + 0x17c) + 1000);
    fVar6 = param_1[2] - *(float *)(iVar1 + 0x70);
    fVar4 = *param_1 - *(float *)(iVar1 + 0x68);
    fVar5 = param_1[1] - *(float *)(iVar1 + 0x6c);
    puVar2 = (undefined4 *)(iVar1 + 0x68);
    *(float *)(in_ECX + 0x4a0) = fVar6 * fVar6 + fVar4 * fVar4 + fVar5 * fVar5;
  }
  if (*(char *)(in_ECX + 0x1574) != '\0') {
    if (DAT_00da93ec != 0) {
      FUN_00a19c60(DAT_00da93ec,*(float *)(in_ECX + 0x418) * 0.8);
      puVar2 = DAT_01725208;
      if (DAT_00da93ec != 0) {
        puVar3 = (undefined4 *)(**(code **)(**(int **)(DAT_00da93ec + 0x74) + 8))(local_10);
        puVar2[9] = *param_1;
        puVar2[10] = param_1[1];
        puVar2[0xb] = param_1[2];
        puVar2[0xc] = *puVar3;
        puVar2[0xd] = puVar3[1];
        puVar2[0xe] = puVar3[2];
        return puVar3;
      }
    }
    puVar2 = DAT_01725208;
    DAT_01725208[9] = *param_1;
    puVar2[10] = param_1[1];
    puVar2[0xb] = param_1[2];
  }
  return puVar2;
}



============================================================
DISASSEMBLY
============================================================
0088a350 : PUSH EBP
0088a351 : MOV EBP,ESP
0088a353 : SUB ESP,0xc
0088a356 : PUSH ESI
0088a357 : MOV ESI,ECX
0088a359 : CMP byte ptr [ESI + 0x1a0],0x0
0088a360 : PUSH EDI
0088a361 : JZ 0x0088a368
0088a363 : CALL 0x008898e0
0088a368 : CMP byte ptr [EBP + 0xc],0x0
0088a36c : MOV EDI,dword ptr [EBP + 0x8]
0088a36f : FLD float ptr [EDI]
0088a371 : PUSH EBX
0088a372 : FSTP float ptr [ESI + 0x1a4]
0088a378 : FLD float ptr [EDI + 0x4]
0088a37b : FSTP float ptr [ESI + 0x1a8]
0088a381 : FLD float ptr [EDI + 0x8]
0088a384 : FSTP float ptr [ESI + 0x1ac]
0088a38a : JZ 0x0088a3f8
0088a38c : MOV EAX,dword ptr [ESI + 0x3e8]
0088a392 : FLD float ptr [EDI]
0088a394 : FSTP float ptr [EAX + 0x68]
0088a397 : MOV BL,0x1
0088a399 : FLD float ptr [EDI + 0x4]
0088a39c : FSTP float ptr [EAX + 0x6c]
0088a39f : FLD float ptr [EDI + 0x8]
0088a3a2 : FSTP float ptr [EAX + 0x70]
0088a3a5 : MOV ECX,dword ptr [EAX + 0x2c]
0088a3a8 : MOV byte ptr [EAX + 0x5d],BL
0088a3ab : MOV byte ptr [EAX + 0x134],BL
0088a3b1 : MOV byte ptr [EAX + 0x5c],BL
0088a3b4 : TEST ECX,ECX
0088a3b6 : JZ 0x0088a3c0
0088a3b8 : MOV EDX,dword ptr [ECX]
0088a3ba : PUSH EAX
0088a3bb : MOV EAX,dword ptr [EDX + 0x60]
0088a3be : CALL EAX
0088a3c0 : MOV EAX,dword ptr [ESI + 0x3ec]
0088a3c6 : TEST EAX,EAX
0088a3c8 : JZ 0x0088a3ff
0088a3ca : FLD float ptr [EDI]
0088a3cc : FSTP float ptr [EAX + 0x68]
0088a3cf : FLD float ptr [EDI + 0x4]
0088a3d2 : FSTP float ptr [EAX + 0x6c]
0088a3d5 : FLD float ptr [EDI + 0x8]
0088a3d8 : FSTP float ptr [EAX + 0x70]
0088a3db : MOV ECX,dword ptr [EAX + 0x2c]
0088a3de : MOV byte ptr [EAX + 0x5d],BL
0088a3e1 : MOV byte ptr [EAX + 0x134],BL
0088a3e7 : MOV byte ptr [EAX + 0x5c],BL
0088a3ea : TEST ECX,ECX
0088a3ec : JZ 0x0088a3ff
0088a3ee : MOV EDX,dword ptr [ECX]
0088a3f0 : PUSH EAX
0088a3f1 : MOV EAX,dword ptr [EDX + 0x60]
0088a3f4 : CALL EAX
0088a3f6 : JMP 0x0088a3ff
0088a3f8 : MOV byte ptr [ESI + 0x1a0],0x1
0088a3ff : MOV EAX,[0x0172491c]
0088a404 : POP EBX
0088a405 : TEST EAX,EAX
0088a407 : JZ 0x0088a45e
0088a409 : MOV EAX,dword ptr [EAX + 0x17c]
0088a40f : TEST EAX,EAX
0088a411 : JZ 0x0088a45e
0088a413 : MOV EAX,dword ptr [EAX + 0x3e8]
0088a419 : MOVSS XMM2,dword ptr [EDI + 0x8]
0088a41e : SUBSS XMM2,dword ptr [EAX + 0x70]
0088a423 : MOVSS XMM0,dword ptr [EDI]
0088a427 : SUBSS XMM0,dword ptr [EAX + 0x68]
0088a42c : MOVSS XMM1,dword ptr [EDI + 0x4]
0088a431 : SUBSS XMM1,dword ptr [EAX + 0x6c]
0088a436 : ADD EAX,0x68
0088a439 : MOVAPS XMM3,XMM2
0088a43c : MULSS XMM3,XMM2
0088a440 : MOVAPS XMM2,XMM0
0088a443 : MULSS XMM2,XMM0
0088a447 : MOVAPS XMM0,XMM1
0088a44a : ADDSS XMM3,XMM2
0088a44e : MULSS XMM0,XMM1
0088a452 : ADDSS XMM3,XMM0
0088a456 : MOVSS dword ptr [ESI + 0x4a0],XMM3
0088a45e : CMP byte ptr [ESI + 0x1574],0x0
0088a465 : JZ 0x0088a4ef
0088a46b : MOV EAX,[0x00da93ec]
0088a470 : TEST EAX,EAX
0088a472 : JZ 0x0088a4d9
0088a474 : MOVSS XMM0,dword ptr [ESI + 0x418]
0088a47c : MULSS XMM0,dword ptr [0x00cdf138]
0088a484 : PUSH ECX
0088a485 : MOVSS dword ptr [ESP],XMM0
0088a48a : PUSH EAX
0088a48b : MOV EAX,EDI
0088a48d : CALL 0x00a19c60
0088a492 : MOV EAX,[0x00da93ec]
0088a497 : TEST EAX,EAX
0088a499 : JZ 0x0088a4d9
0088a49b : MOV ECX,dword ptr [EAX + 0x74]
0088a49e : MOV EDX,dword ptr [ECX]
0088a4a0 : MOV EDX,dword ptr [EDX + 0x8]
0088a4a3 : MOV ESI,dword ptr [0x01725208]
0088a4a9 : LEA EAX,[EBP + -0xc]
0088a4ac : PUSH EAX
0088a4ad : CALL EDX
0088a4af : FLD float ptr [EDI]
0088a4b1 : FSTP float ptr [ESI + 0x24]
0088a4b4 : FLD float ptr [EDI + 0x4]
0088a4b7 : FSTP float ptr [ESI + 0x28]
0088a4ba : FLD float ptr [EDI + 0x8]
0088a4bd : POP EDI
0088a4be : FSTP float ptr [ESI + 0x2c]
0088a4c1 : FLD float ptr [EAX]
0088a4c3 : FSTP float ptr [ESI + 0x30]
0088a4c6 : FLD float ptr [EAX + 0x4]
0088a4c9 : FSTP float ptr [ESI + 0x34]
0088a4cc : FLD float ptr [EAX + 0x8]
0088a4cf : FSTP float ptr [ESI + 0x38]
0088a4d2 : POP ESI
0088a4d3 : MOV ESP,EBP
0088a4d5 : POP EBP
0088a4d6 : RET 0x8
0088a4d9 : MOV EAX,[0x01725208]
0088a4de : FLD float ptr [EDI]
0088a4e0 : FSTP float ptr [EAX + 0x24]
0088a4e3 : FLD float ptr [EDI + 0x4]
0088a4e6 : FSTP float ptr [EAX + 0x28]
0088a4e9 : FLD float ptr [EDI + 0x8]
0088a4ec : FSTP float ptr [EAX + 0x2c]
0088a4ef : POP EDI
0088a4f0 : POP ESI
0088a4f1 : MOV ESP,EBP
0088a4f3 : POP EBP
0088a4f4 : RET 0x8
