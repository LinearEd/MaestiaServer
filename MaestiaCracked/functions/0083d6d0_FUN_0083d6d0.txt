PROGRAM  : Maestia.exe
FUNCTION : FUN_0083d6d0
ENTRY    : 0083d6d0
BODY     : [[0083d6d0, 0083d91d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0083d6d0(int param_1)

{
  float fVar1;
  int iVar2;
  int in_ECX;
  
  if (*(char *)(in_ECX + -0x11e2) != '\0') {
    (**(code **)(*(int *)(in_ECX + -0x17a4) + 0x1fc))(0);
    return;
  }
  if (*(char *)(in_ECX + -0x148c) != '\0') {
    FUN_00405eb0(in_ECX + -0x1798,0,0xffffffff);
    iVar2 = *(int *)(in_ECX + -0xb4);
    if (iVar2 != 0) {
      fVar1 = *(float *)(in_ECX + -0x138c);
      *(undefined4 *)(iVar2 + 0x68) = 0;
      *(float *)(iVar2 + 0x6c) = fVar1 + 2.5;
      *(undefined4 *)(iVar2 + 0x70) = 0;
      *(undefined1 *)(iVar2 + 0x5d) = 1;
      *(undefined1 *)(iVar2 + 0x134) = 1;
      *(undefined1 *)(iVar2 + 0x5c) = 1;
      if (*(int **)(iVar2 + 0x2c) != (int *)0x0) {
        (**(code **)(**(int **)(iVar2 + 0x2c) + 0x60))(iVar2);
      }
    }
    if (*(int **)(in_ECX + -0x13bc) != (int *)0x0) {
      iVar2 = (**(code **)(**(int **)(in_ECX + -0x13bc) + 0x1c))();
      if (iVar2 == 4) {
        (**(code **)**(undefined4 **)(in_ECX + -0x13bc))();
      }
    }
    (**(code **)(*(int *)(in_ECX + -0x17a4) + 0x238))(1);
    (**(code **)(*(int *)(in_ECX + -0x17a4) + 0x1fc))(0);
    (**(code **)(*(int *)(in_ECX + -0x17a4) + 0x40c))(0);
    return;
  }
  if (param_1 != 0) {
    iVar2 = 0;
    if (in_ECX != 0x17a4) {
      iVar2 = *(int *)(*(int *)(in_ECX + -0x166c) + 8) + -0x166c + in_ECX;
    }
    if (*(int *)(param_1 + 0x8c) != iVar2) {
      if (*(uint *)(param_1 + 0x24) < 8) {
        param_1 = param_1 + 0x10;
      }
      else {
        param_1 = *(int *)(param_1 + 0x10);
      }
      FUN_008018d0(L"[AvaTalkNPC::PostBGLoading] Not Issued by me : %s",param_1);
      return;
    }
  }
  FUN_0086c6a0(param_1);
  FUN_00405eb0(in_ECX + -0x1798,0,0xffffffff);
  iVar2 = *(int *)(in_ECX + -0xb4);
  if (iVar2 != 0) {
    fVar1 = *(float *)(in_ECX + -0x138c);
    *(undefined4 *)(iVar2 + 0x68) = 0;
    *(float *)(iVar2 + 0x6c) = fVar1 + 2.5;
    *(undefined4 *)(iVar2 + 0x70) = 0;
    *(undefined1 *)(iVar2 + 0x5d) = 1;
    *(undefined1 *)(iVar2 + 0x134) = 1;
    *(undefined1 *)(iVar2 + 0x5c) = 1;
    if (*(int **)(iVar2 + 0x2c) != (int *)0x0) {
      (**(code **)(**(int **)(iVar2 + 0x2c) + 0x60))(iVar2);
    }
  }
  iVar2 = (**(code **)(**(int **)(in_ECX + -0x13bc) + 0x1c))();
  if (iVar2 == 4) {
    (**(code **)**(undefined4 **)(in_ECX + -0x13bc))();
  }
  FUN_0043e4f0();
  (**(code **)(*(int *)(in_ECX + -0x17a4) + 0x238))(1);
  (**(code **)(*(int *)(in_ECX + -0x17a4) + 0x1fc))(0);
  return;
}



============================================================
DISASSEMBLY
============================================================
0083d6d0 : PUSH EBP
0083d6d1 : MOV EBP,ESP
0083d6d3 : SUB ESP,0xc
0083d6d6 : PUSH ESI
0083d6d7 : MOV ESI,ECX
0083d6d9 : CMP byte ptr [ESI + 0xffffee1e],0x0
0083d6e0 : JZ 0x0083d6ff
0083d6e2 : MOV EAX,dword ptr [ESI + 0xffffe85c]
0083d6e8 : MOV EDX,dword ptr [EAX + 0x1fc]
0083d6ee : LEA ECX,[ESI + 0xffffe85c]
0083d6f4 : PUSH 0x0
0083d6f6 : CALL EDX
0083d6f8 : POP ESI
0083d6f9 : MOV ESP,EBP
0083d6fb : POP EBP
0083d6fc : RET 0x4
0083d6ff : CMP byte ptr [ESI + 0xffffeb74],0x0
0083d706 : PUSH EBX
0083d707 : JZ 0x0083d7d6
0083d70d : MOV ECX,dword ptr [ESI + 0xffffe994]
0083d713 : MOV EDX,dword ptr [ECX + 0x4]
0083d716 : PUSH -0x1
0083d718 : PUSH 0x0
0083d71a : LEA EAX,[ESI + 0xffffe868]
0083d720 : PUSH EAX
0083d721 : LEA ECX,[EDX + ESI*0x1 + 0xffffea10]
0083d728 : CALL 0x00405eb0
0083d72d : MOV EAX,dword ptr [ESI + 0xffffff4c]
0083d733 : MOV EBX,0x1
0083d738 : TEST EAX,EAX
0083d73a : JZ 0x0083d779
0083d73c : MOVSS XMM0,dword ptr [ESI + 0xffffec74]
0083d744 : MOV ECX,dword ptr [EAX + 0x2c]
0083d747 : XORPS XMM1,XMM1
0083d74a : ADDSS XMM0,dword ptr [0x00cdf218]
0083d752 : MOVSS dword ptr [EAX + 0x68],XMM1
0083d757 : MOVSS dword ptr [EAX + 0x6c],XMM0
0083d75c : MOVSS dword ptr [EAX + 0x70],XMM1
0083d761 : MOV byte ptr [EAX + 0x5d],BL
0083d764 : MOV byte ptr [EAX + 0x134],BL
0083d76a : MOV byte ptr [EAX + 0x5c],BL
0083d76d : TEST ECX,ECX
0083d76f : JZ 0x0083d779
0083d771 : MOV EDX,dword ptr [ECX]
0083d773 : PUSH EAX
0083d774 : MOV EAX,dword ptr [EDX + 0x60]
0083d777 : CALL EAX
0083d779 : MOV ECX,dword ptr [ESI + 0xffffec44]
0083d77f : TEST ECX,ECX
0083d781 : JZ 0x0083d79b
0083d783 : MOV EDX,dword ptr [ECX]
0083d785 : MOV EAX,dword ptr [EDX + 0x1c]
0083d788 : CALL EAX
0083d78a : CMP EAX,0x4
0083d78d : JNZ 0x0083d79b
0083d78f : MOV ECX,dword ptr [ESI + 0xffffec44]
0083d795 : MOV EDX,dword ptr [ECX]
0083d797 : MOV EAX,dword ptr [EDX]
0083d799 : CALL EAX
0083d79b : MOV EDX,dword ptr [ESI + 0xffffe85c]
0083d7a1 : MOV EAX,dword ptr [EDX + 0x238]
0083d7a7 : ADD ESI,0xffffe85c
0083d7ad : PUSH EBX
0083d7ae : MOV ECX,ESI
0083d7b0 : CALL EAX
0083d7b2 : MOV EDX,dword ptr [ESI]
0083d7b4 : MOV EAX,dword ptr [EDX + 0x1fc]
0083d7ba : PUSH 0x0
0083d7bc : MOV ECX,ESI
0083d7be : CALL EAX
0083d7c0 : MOV EDX,dword ptr [ESI]
0083d7c2 : MOV EAX,dword ptr [EDX + 0x40c]
0083d7c8 : PUSH 0x0
0083d7ca : MOV ECX,ESI
0083d7cc : CALL EAX
0083d7ce : POP EBX
0083d7cf : POP ESI
0083d7d0 : MOV ESP,EBP
0083d7d2 : POP EBP
0083d7d3 : RET 0x4
0083d7d6 : MOV EAX,dword ptr [EBP + 0x8]
0083d7d9 : TEST EAX,EAX
0083d7db : JZ 0x0083d829
0083d7dd : LEA ECX,[ESI + 0xffffe85c]
0083d7e3 : TEST ECX,ECX
0083d7e5 : JZ 0x0083d7f7
0083d7e7 : MOV EDX,dword ptr [ESI + 0xffffe994]
0083d7ed : MOV ECX,dword ptr [EDX + 0x8]
0083d7f0 : LEA ECX,[ECX + ESI*0x1 + 0xffffe994]
0083d7f7 : CMP dword ptr [EAX + 0x8c],ECX
0083d7fd : JZ 0x0083d829
0083d7ff : CMP dword ptr [EAX + 0x24],0x8
0083d803 : JC 0x0083d80a
0083d805 : MOV EAX,dword ptr [EAX + 0x10]
0083d808 : JMP 0x0083d80d
0083d80a : ADD EAX,0x10
0083d80d : MOV ESI,dword ptr [0x00da98e8]
0083d813 : PUSH EAX
0083d814 : PUSH 0xc39d08
0083d819 : CALL 0x008018d0
0083d81e : ADD ESP,0x8
0083d821 : POP EBX
0083d822 : POP ESI
0083d823 : MOV ESP,EBP
0083d825 : POP EBP
0083d826 : RET 0x4
0083d829 : PUSH EAX
0083d82a : LEA ECX,[ESI + -0x38]
0083d82d : CALL 0x0086c6a0
0083d832 : MOV EAX,dword ptr [ESI + 0xffffe994]
0083d838 : MOV ECX,dword ptr [EAX + 0x4]
0083d83b : PUSH -0x1
0083d83d : PUSH 0x0
0083d83f : LEA EDX,[ESI + 0xffffe868]
0083d845 : PUSH EDX
0083d846 : LEA ECX,[ECX + ESI*0x1 + 0xffffea10]
0083d84d : CALL 0x00405eb0
0083d852 : MOV EAX,dword ptr [ESI + 0xffffff4c]
0083d858 : MOV EBX,0x1
0083d85d : TEST EAX,EAX
0083d85f : JZ 0x0083d89e
0083d861 : MOVSS XMM0,dword ptr [ESI + 0xffffec74]
0083d869 : MOV ECX,dword ptr [EAX + 0x2c]
0083d86c : XORPS XMM1,XMM1
0083d86f : ADDSS XMM0,dword ptr [0x00cdf218]
0083d877 : MOVSS dword ptr [EAX + 0x68],XMM1
0083d87c : MOVSS dword ptr [EAX + 0x6c],XMM0
0083d881 : MOVSS dword ptr [EAX + 0x70],XMM1
0083d886 : MOV byte ptr [EAX + 0x5d],BL
0083d889 : MOV byte ptr [EAX + 0x134],BL
0083d88f : MOV byte ptr [EAX + 0x5c],BL
0083d892 : TEST ECX,ECX
0083d894 : JZ 0x0083d89e
0083d896 : MOV EDX,dword ptr [ECX]
0083d898 : PUSH EAX
0083d899 : MOV EAX,dword ptr [EDX + 0x60]
0083d89c : CALL EAX
0083d89e : MOV ECX,dword ptr [ESI + 0xffffec44]
0083d8a4 : MOV EDX,dword ptr [ECX]
0083d8a6 : MOV EAX,dword ptr [EDX + 0x1c]
0083d8a9 : CALL EAX
0083d8ab : CMP EAX,0x4
0083d8ae : JNZ 0x0083d8bc
0083d8b0 : MOV ECX,dword ptr [ESI + 0xffffec44]
0083d8b6 : MOV EDX,dword ptr [ECX]
0083d8b8 : MOV EAX,dword ptr [EDX]
0083d8ba : CALL EAX
0083d8bc : MOV EAX,dword ptr [ESI + 0xffffec44]
0083d8c2 : MOVSS XMM0,dword ptr [EAX + 0x84]
0083d8ca : MOVSS dword ptr [EBP + -0xc],XMM0
0083d8cf : MOVSS XMM0,dword ptr [EAX + 0x88]
0083d8d7 : MOVSS dword ptr [EBP + -0x8],XMM0
0083d8dc : MOVSS XMM0,dword ptr [EAX + 0x8c]
0083d8e4 : LEA ECX,[EBP + -0xc]
0083d8e7 : MOVSS dword ptr [EBP + -0x4],XMM0
0083d8ec : CALL 0x0043e4f0
0083d8f1 : MOV EDX,dword ptr [ESI + 0xffffe85c]
0083d8f7 : MOV EAX,dword ptr [EDX + 0x238]
0083d8fd : ADD ESI,0xffffe85c
0083d903 : PUSH EBX
0083d904 : MOV ECX,ESI
0083d906 : CALL EAX
0083d908 : MOV EDX,dword ptr [ESI]
0083d90a : MOV EAX,dword ptr [EDX + 0x1fc]
0083d910 : PUSH 0x0
0083d912 : MOV ECX,ESI
0083d914 : CALL EAX
0083d916 : POP EBX
0083d917 : POP ESI
0083d918 : MOV ESP,EBP
0083d91a : POP EBP
0083d91b : RET 0x4
