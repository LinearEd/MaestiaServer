PROGRAM  : Maestia.exe
FUNCTION : FUN_0056e950
ENTRY    : 0056e950
BODY     : [[0056e950, 0056e9e6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0056e950(int param_1)

{
  byte bVar1;
  int *piVar2;
  undefined4 uVar3;
  undefined4 *in_ECX;
  
  piVar2 = (int *)*in_ECX;
  if (piVar2 != (int *)0x0) {
    *piVar2 = *piVar2 + 1;
  }
  piVar2 = (int *)in_ECX[1];
  if ((piVar2 != (int *)0x0) && (*piVar2 = *piVar2 + -1, *piVar2 == 0)) {
    FUN_00515cf0(piVar2);
  }
  in_ECX[1] = *in_ECX;
  bVar1 = *(byte *)(in_ECX + 8);
  *(byte *)(in_ECX + 8) = (bVar1 * '\x02' ^ bVar1) & 2 ^ bVar1;
  if (param_1 != 0) {
    uVar3 = FUN_004ff840();
    piVar2 = (int *)*in_ECX;
    if ((piVar2 != (int *)0x0) && (*piVar2 = *piVar2 + -1, *piVar2 == 0)) {
      FUN_00515cf0(piVar2);
    }
    *in_ECX = uVar3;
    *(byte *)(in_ECX + 8) = *(byte *)(in_ECX + 8) ^ (param_1 == 0 ^ *(byte *)(in_ECX + 8)) & 1;
    return;
  }
  piVar2 = (int *)*in_ECX;
  if ((piVar2 != (int *)0x0) && (*piVar2 = *piVar2 + -1, *piVar2 == 0)) {
    FUN_00515cf0(piVar2);
  }
  *(byte *)(in_ECX + 8) = *(byte *)(in_ECX + 8) ^ (*(byte *)(in_ECX + 8) ^ 1) & 1;
  *in_ECX = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
0056e950 : PUSH ESI
0056e951 : MOV ESI,ECX
0056e953 : MOV EAX,dword ptr [ESI]
0056e955 : PUSH EDI
0056e956 : TEST EAX,EAX
0056e958 : JZ 0x0056e95c
0056e95a : INC dword ptr [EAX]
0056e95c : MOV EAX,dword ptr [ESI + 0x4]
0056e95f : TEST EAX,EAX
0056e961 : JZ 0x0056e96e
0056e963 : ADD dword ptr [EAX],-0x1
0056e966 : JNZ 0x0056e96e
0056e968 : PUSH EAX
0056e969 : CALL 0x00515cf0
0056e96e : MOV EAX,dword ptr [ESI]
0056e970 : MOV EDI,dword ptr [ESP + 0xc]
0056e974 : MOV dword ptr [ESI + 0x4],EAX
0056e977 : MOV AL,byte ptr [ESI + 0x20]
0056e97a : MOV CL,AL
0056e97c : ADD CL,CL
0056e97e : XOR CL,AL
0056e980 : AND CL,0x2
0056e983 : XOR CL,AL
0056e985 : MOV byte ptr [ESI + 0x20],CL
0056e988 : TEST EDI,EDI
0056e98a : JZ 0x0056e9bd
0056e98c : PUSH EBX
0056e98d : MOV ECX,EDI
0056e98f : CALL 0x004ff840
0056e994 : MOV EBX,EAX
0056e996 : MOV EAX,dword ptr [ESI]
0056e998 : TEST EAX,EAX
0056e99a : JZ 0x0056e9a7
0056e99c : ADD dword ptr [EAX],-0x1
0056e99f : JNZ 0x0056e9a7
0056e9a1 : PUSH EAX
0056e9a2 : CALL 0x00515cf0
0056e9a7 : TEST EDI,EDI
0056e9a9 : SETZ DL
0056e9ac : XOR DL,byte ptr [ESI + 0x20]
0056e9af : MOV dword ptr [ESI],EBX
0056e9b1 : POP EBX
0056e9b2 : AND DL,0x1
0056e9b5 : XOR byte ptr [ESI + 0x20],DL
0056e9b8 : POP EDI
0056e9b9 : POP ESI
0056e9ba : RET 0x4
0056e9bd : MOV EAX,dword ptr [ESI]
0056e9bf : TEST EAX,EAX
0056e9c1 : JZ 0x0056e9ce
0056e9c3 : ADD dword ptr [EAX],-0x1
0056e9c6 : JNZ 0x0056e9ce
0056e9c8 : PUSH EAX
0056e9c9 : CALL 0x00515cf0
0056e9ce : TEST EDI,EDI
0056e9d0 : SETZ DL
0056e9d3 : XOR DL,byte ptr [ESI + 0x20]
0056e9d6 : POP EDI
0056e9d7 : AND DL,0x1
0056e9da : XOR byte ptr [ESI + 0x20],DL
0056e9dd : MOV dword ptr [ESI],0x0
0056e9e3 : POP ESI
0056e9e4 : RET 0x4
