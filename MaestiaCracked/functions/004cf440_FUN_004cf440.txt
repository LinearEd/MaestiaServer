PROGRAM  : Maestia.exe
FUNCTION : FUN_004cf440
ENTRY    : 004cf440
BODY     : [[004cf440, 004cf6db]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004cf56f) */
/* WARNING: Removing unreachable block (ram,0x004cf57f) */
/* WARNING: Removing unreachable block (ram,0x004cf588) */
/* WARNING: Removing unreachable block (ram,0x004cf58b) */
/* WARNING: Removing unreachable block (ram,0x004cf57b) */
/* WARNING: Removing unreachable block (ram,0x004cf598) */
/* WARNING: Removing unreachable block (ram,0x004cf5a8) */
/* WARNING: Removing unreachable block (ram,0x004cf5b3) */
/* WARNING: Removing unreachable block (ram,0x004cf5af) */
/* WARNING: Removing unreachable block (ram,0x004cf5a3) */
/* WARNING: Removing unreachable block (ram,0x004cf5b6) */
/* WARNING: Removing unreachable block (ram,0x004cf5c6) */

void FUN_004cf440(undefined4 param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_58 [40];
  undefined1 local_30 [4];
  undefined1 local_2c;
  undefined4 local_1c;
  undefined4 local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7c7a8;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_2 + 0x1d) != '\0') {
    local_18 = 0xf;
    local_1c = 0;
    local_2c = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_30);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_58,&DAT_00ced890);
  }
  local_14 = param_2;
  FUN_004192a0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_2;
  if (*(char *)((int)piVar7 + 0x1d) == '\0') {
    if (*(char *)(param_2[2] + 0x1d) == '\0') {
      piVar7 = (int *)param_2[2];
    }
  }
  else {
    piVar7 = (int *)param_2[2];
  }
  piVar6 = (int *)param_2[1];
  if (*(char *)((int)piVar7 + 0x1d) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if ((int *)DAT_017244e8[1] == param_2) {
    DAT_017244e8[1] = piVar7;
  }
  else if ((int *)*piVar6 == param_2) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)*DAT_017244e8 == param_2) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x1d) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x1d);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x1d);
        piVar5 = piVar3;
      }
    }
    *DAT_017244e8 = piVar5;
  }
  if ((int *)DAT_017244e8[2] == param_2) {
    if (*(char *)((int)piVar7 + 0x1d) == '\0') {
      uVar4 = FUN_00440bb0();
      DAT_017244e8[2] = uVar4;
    }
    else {
      DAT_017244e8[2] = piVar6;
    }
  }
  if ((char)local_14[7] == '\x01') {
    if (piVar7 != (int *)DAT_017244e8[1]) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[7] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[7] == '\0') {
            *(undefined1 *)(piVar6 + 7) = 1;
            *(undefined1 *)(piVar5 + 7) = 0;
            FUN_004cfc30();
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x1d) == '\0') {
            if ((*(char *)(*piVar6 + 0x1c) != '\x01') || (*(char *)(piVar6[2] + 0x1c) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x1c) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x1c) = 1;
                *(undefined1 *)(piVar6 + 7) = 0;
                FUN_004cfc80();
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 7) = (char)piVar5[7];
              *(undefined1 *)(piVar5 + 7) = 1;
              *(undefined1 *)(piVar6[2] + 0x1c) = 1;
              FUN_004cfc30();
              break;
            }
LAB_004cf68a:
            *(undefined1 *)(piVar6 + 7) = 0;
          }
        }
        else {
          if ((char)piVar6[7] == '\0') {
            *(undefined1 *)(piVar6 + 7) = 1;
            *(undefined1 *)(piVar5 + 7) = 0;
            FUN_004cfc80();
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x1d) == '\0') {
            if ((*(char *)(piVar6[2] + 0x1c) == '\x01') && (*(char *)(*piVar6 + 0x1c) == '\x01'))
            goto LAB_004cf68a;
            if (*(char *)(*piVar6 + 0x1c) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x1c) = 1;
              *(undefined1 *)(piVar6 + 7) = 0;
              FUN_004cfc30();
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 7) = (char)piVar5[7];
            *(undefined1 *)(piVar5 + 7) = 1;
            *(undefined1 *)(*piVar6 + 0x1c) = 1;
            FUN_004cfc80();
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != (int *)DAT_017244e8[1]);
    }
    *(undefined1 *)(piVar7 + 7) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004cf440 : PUSH EBP
004cf441 : MOV EBP,ESP
004cf443 : PUSH -0x1
004cf445 : PUSH 0xb7c7a8
004cf44a : MOV EAX,FS:[0x0]
004cf450 : PUSH EAX
004cf451 : SUB ESP,0x4c
004cf454 : PUSH EBX
004cf455 : PUSH ESI
004cf456 : PUSH EDI
004cf457 : MOV EAX,[0x00d66fa0]
004cf45c : XOR EAX,EBP
004cf45e : PUSH EAX
004cf45f : LEA EAX,[EBP + -0xc]
004cf462 : MOV FS:[0x0],EAX
004cf468 : MOV EAX,dword ptr [EBP + 0xc]
004cf46b : CMP byte ptr [EAX + 0x1d],0x0
004cf46f : JZ 0x004cf4ad
004cf471 : PUSH 0x1b
004cf473 : XOR ESI,ESI
004cf475 : PUSH 0xcca4a8
004cf47a : LEA ECX,[EBP + -0x2c]
004cf47d : MOV dword ptr [EBP + -0x14],0xf
004cf484 : MOV dword ptr [EBP + -0x18],ESI
004cf487 : MOV byte ptr [EBP + -0x28],0x0
004cf48b : CALL 0x00404b50
004cf490 : MOV dword ptr [EBP + -0x4],ESI
004cf493 : LEA EAX,[EBP + -0x2c]
004cf496 : PUSH EAX
004cf497 : LEA ECX,[EBP + -0x54]
004cf49a : CALL 0x00403c10
004cf49f : PUSH 0xced890
004cf4a4 : LEA ECX,[EBP + -0x54]
004cf4a7 : PUSH ECX
004cf4a8 : CALL 0x006409eb
004cf4ad : MOV EBX,EAX
004cf4af : LEA EDX,[EBP + 0xc]
004cf4b2 : MOV dword ptr [EBP + -0x10],EBX
004cf4b5 : CALL 0x004192a0
004cf4ba : MOV ECX,dword ptr [EBX]
004cf4bc : CMP byte ptr [ECX + 0x1d],0x0
004cf4c0 : JZ 0x004cf4c7
004cf4c2 : MOV EDI,dword ptr [EBX + 0x8]
004cf4c5 : JMP 0x004cf4e5
004cf4c7 : MOV EDX,dword ptr [EBX + 0x8]
004cf4ca : CMP byte ptr [EDX + 0x1d],0x0
004cf4ce : JZ 0x004cf4d4
004cf4d0 : MOV EDI,ECX
004cf4d2 : JMP 0x004cf4e5
004cf4d4 : MOV EAX,dword ptr [EBP + 0xc]
004cf4d7 : MOV EDI,dword ptr [EAX + 0x8]
004cf4da : LEA EDX,[EAX + 0x8]
004cf4dd : CMP EAX,EBX
004cf4df : JNZ 0x004cf56f
004cf4e5 : CMP byte ptr [EDI + 0x1d],0x0
004cf4e9 : MOV ESI,dword ptr [EBX + 0x4]
004cf4ec : JNZ 0x004cf4f1
004cf4ee : MOV dword ptr [EDI + 0x4],ESI
004cf4f1 : MOV EAX,[0x017244e8]
004cf4f6 : CMP dword ptr [EAX + 0x4],EBX
004cf4f9 : JNZ 0x004cf500
004cf4fb : MOV dword ptr [EAX + 0x4],EDI
004cf4fe : JMP 0x004cf50b
004cf500 : CMP dword ptr [ESI],EBX
004cf502 : JNZ 0x004cf508
004cf504 : MOV dword ptr [ESI],EDI
004cf506 : JMP 0x004cf50b
004cf508 : MOV dword ptr [ESI + 0x8],EDI
004cf50b : MOV EDX,dword ptr [0x017244e8]
004cf511 : CMP dword ptr [EDX],EBX
004cf513 : JNZ 0x004cf53c
004cf515 : CMP byte ptr [EDI + 0x1d],0x0
004cf519 : JZ 0x004cf51f
004cf51b : MOV ECX,ESI
004cf51d : JMP 0x004cf53a
004cf51f : MOV EAX,dword ptr [EDI]
004cf521 : CMP byte ptr [EAX + 0x1d],0x0
004cf525 : MOV ECX,EDI
004cf527 : JNZ 0x004cf53a
004cf529 : LEA ESP,[ESP]
004cf530 : MOV ECX,EAX
004cf532 : MOV EAX,dword ptr [ECX]
004cf534 : CMP byte ptr [EAX + 0x1d],0x0
004cf538 : JZ 0x004cf530
004cf53a : MOV dword ptr [EDX],ECX
004cf53c : MOV EAX,[0x017244e8]
004cf541 : CMP dword ptr [EAX + 0x8],EBX
004cf544 : JNZ 0x004cf5ce
004cf54a : CMP byte ptr [EDI + 0x1d],0x0
004cf54e : JZ 0x004cf55d
004cf550 : MOV ECX,dword ptr [0x017244e8]
004cf556 : MOV EAX,ESI
004cf558 : MOV dword ptr [ECX + 0x8],EAX
004cf55b : JMP 0x004cf5ce
004cf55d : MOV EAX,EDI
004cf55f : CALL 0x00440bb0
004cf564 : MOV ECX,dword ptr [0x017244e8]
004cf56a : MOV dword ptr [ECX + 0x8],EAX
004cf56d : JMP 0x004cf5ce
004cf56f : MOV dword ptr [ECX + 0x4],EAX
004cf572 : MOV ECX,dword ptr [EBX]
004cf574 : MOV dword ptr [EAX],ECX
004cf576 : CMP EAX,dword ptr [EBX + 0x8]
004cf579 : JNZ 0x004cf57f
004cf57b : MOV ESI,EAX
004cf57d : JMP 0x004cf598
004cf57f : CMP byte ptr [EDI + 0x1d],0x0
004cf583 : MOV ESI,dword ptr [EAX + 0x4]
004cf586 : JNZ 0x004cf58b
004cf588 : MOV dword ptr [EDI + 0x4],ESI
004cf58b : MOV dword ptr [ESI],EDI
004cf58d : MOV ECX,dword ptr [EBX + 0x8]
004cf590 : MOV dword ptr [EDX],ECX
004cf592 : MOV EDX,dword ptr [EBX + 0x8]
004cf595 : MOV dword ptr [EDX + 0x4],EAX
004cf598 : MOV ECX,dword ptr [0x017244e8]
004cf59e : CMP dword ptr [ECX + 0x4],EBX
004cf5a1 : JNZ 0x004cf5a8
004cf5a3 : MOV dword ptr [ECX + 0x4],EAX
004cf5a6 : JMP 0x004cf5b6
004cf5a8 : MOV ECX,dword ptr [EBX + 0x4]
004cf5ab : CMP dword ptr [ECX],EBX
004cf5ad : JNZ 0x004cf5b3
004cf5af : MOV dword ptr [ECX],EAX
004cf5b1 : JMP 0x004cf5b6
004cf5b3 : MOV dword ptr [ECX + 0x8],EAX
004cf5b6 : MOV ECX,dword ptr [EBX + 0x4]
004cf5b9 : MOV dword ptr [EAX + 0x4],ECX
004cf5bc : LEA ECX,[EBX + 0x1c]
004cf5bf : ADD EAX,0x1c
004cf5c2 : CMP EAX,ECX
004cf5c4 : JZ 0x004cf5ce
004cf5c6 : MOV BL,byte ptr [ECX]
004cf5c8 : MOV DL,byte ptr [EAX]
004cf5ca : MOV byte ptr [EAX],BL
004cf5cc : MOV byte ptr [ECX],DL
004cf5ce : MOV EDX,dword ptr [EBP + -0x10]
004cf5d1 : MOV EBX,0x1
004cf5d6 : CMP byte ptr [EDX + 0x1c],BL
004cf5d9 : JNZ 0x004cf6d4
004cf5df : MOV EAX,[0x017244e8]
004cf5e4 : CMP EDI,dword ptr [EAX + 0x4]
004cf5e7 : JZ 0x004cf6d1
004cf5ed : LEA ECX,[ECX]
004cf5f0 : CMP byte ptr [EDI + 0x1c],BL
004cf5f3 : JNZ 0x004cf6d1
004cf5f9 : MOV ECX,dword ptr [ESI]
004cf5fb : CMP EDI,ECX
004cf5fd : JNZ 0x004cf65f
004cf5ff : MOV ECX,dword ptr [ESI + 0x8]
004cf602 : CMP byte ptr [ECX + 0x1c],0x0
004cf606 : JNZ 0x004cf619
004cf608 : MOV byte ptr [ECX + 0x1c],BL
004cf60b : MOV ECX,ESI
004cf60d : MOV byte ptr [ESI + 0x1c],0x0
004cf611 : CALL 0x004cfc30
004cf616 : MOV ECX,dword ptr [ESI + 0x8]
004cf619 : CMP byte ptr [ECX + 0x1d],0x0
004cf61d : JNZ 0x004cf68e
004cf61f : MOV EDX,dword ptr [ECX]
004cf621 : CMP byte ptr [EDX + 0x1c],BL
004cf624 : JNZ 0x004cf62e
004cf626 : MOV EAX,dword ptr [ECX + 0x8]
004cf629 : CMP byte ptr [EAX + 0x1c],BL
004cf62c : JZ 0x004cf68a
004cf62e : MOV EDX,dword ptr [ECX + 0x8]
004cf631 : CMP byte ptr [EDX + 0x1c],BL
004cf634 : JNZ 0x004cf647
004cf636 : MOV EAX,dword ptr [ECX]
004cf638 : MOV byte ptr [EAX + 0x1c],BL
004cf63b : MOV byte ptr [ECX + 0x1c],0x0
004cf63f : CALL 0x004cfc80
004cf644 : MOV ECX,dword ptr [ESI + 0x8]
004cf647 : MOV DL,byte ptr [ESI + 0x1c]
004cf64a : MOV byte ptr [ECX + 0x1c],DL
004cf64d : MOV byte ptr [ESI + 0x1c],BL
004cf650 : MOV EAX,dword ptr [ECX + 0x8]
004cf653 : MOV ECX,ESI
004cf655 : MOV byte ptr [EAX + 0x1c],BL
004cf658 : CALL 0x004cfc30
004cf65d : JMP 0x004cf6d1
004cf65f : CMP byte ptr [ECX + 0x1c],0x0
004cf663 : JNZ 0x004cf675
004cf665 : MOV byte ptr [ECX + 0x1c],BL
004cf668 : MOV ECX,ESI
004cf66a : MOV byte ptr [ESI + 0x1c],0x0
004cf66e : CALL 0x004cfc80
004cf673 : MOV ECX,dword ptr [ESI]
004cf675 : CMP byte ptr [ECX + 0x1d],0x0
004cf679 : JNZ 0x004cf68e
004cf67b : MOV EDX,dword ptr [ECX + 0x8]
004cf67e : CMP byte ptr [EDX + 0x1c],BL
004cf681 : JNZ 0x004cf6a4
004cf683 : MOV EAX,dword ptr [ECX]
004cf685 : CMP byte ptr [EAX + 0x1c],BL
004cf688 : JNZ 0x004cf6a4
004cf68a : MOV byte ptr [ECX + 0x1c],0x0
004cf68e : MOV ECX,dword ptr [0x017244e8]
004cf694 : MOV EDI,ESI
004cf696 : MOV ESI,dword ptr [ESI + 0x4]
004cf699 : CMP EDI,dword ptr [ECX + 0x4]
004cf69c : JNZ 0x004cf5f0
004cf6a2 : JMP 0x004cf6d1
004cf6a4 : MOV EDX,dword ptr [ECX]
004cf6a6 : CMP byte ptr [EDX + 0x1c],BL
004cf6a9 : JNZ 0x004cf6bc
004cf6ab : MOV EAX,dword ptr [ECX + 0x8]
004cf6ae : MOV byte ptr [EAX + 0x1c],BL
004cf6b1 : MOV byte ptr [ECX + 0x1c],0x0
004cf6b5 : CALL 0x004cfc30
004cf6ba : MOV ECX,dword ptr [ESI]
004cf6bc : MOV DL,byte ptr [ESI + 0x1c]
004cf6bf : MOV byte ptr [ECX + 0x1c],DL
004cf6c2 : MOV byte ptr [ESI + 0x1c],BL
004cf6c5 : MOV EAX,dword ptr [ECX]
004cf6c7 : MOV ECX,ESI
004cf6c9 : MOV byte ptr [EAX + 0x1c],BL
004cf6cc : CALL 0x004cfc80
004cf6d1 : MOV byte ptr [EDI + 0x1c],BL
004cf6d4 : MOV ECX,dword ptr [EBP + -0x10]
004cf6d7 : CALL 0x006f04e0
