PROGRAM  : Maestia.exe
FUNCTION : FUN_004027b0
ENTRY    : 004027b0
BODY     : [[004027b0, 0040281c] [00402820, 0040286b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004027b0(int *param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  int unaff_ESI;
  undefined4 *unaff_EDI;
  
  piVar2 = *(int **)(unaff_ESI + 4);
  if ((param_1 == (int *)*piVar2) && (param_2 == piVar2)) {
    FUN_00401fc0(piVar2[1]);
    *(int *)(*(int *)(unaff_ESI + 4) + 4) = *(int *)(unaff_ESI + 4);
    *(undefined4 *)(unaff_ESI + 8) = 0;
    *(undefined4 *)*(undefined4 *)(unaff_ESI + 4) = *(undefined4 *)(unaff_ESI + 4);
    *(int *)(*(int *)(unaff_ESI + 4) + 8) = *(int *)(unaff_ESI + 4);
    *unaff_EDI = **(undefined4 **)(unaff_ESI + 4);
    return;
  }
  while (param_1 != param_2) {
    if (*(char *)((int)param_1 + 0x35) == '\0') {
      piVar2 = (int *)param_1[2];
      if (*(char *)((int)piVar2 + 0x35) == '\0') {
        cVar1 = *(char *)(*piVar2 + 0x35);
        param_1 = piVar2;
        piVar2 = (int *)*piVar2;
        while (cVar1 == '\0') {
          cVar1 = *(char *)(*piVar2 + 0x35);
          param_1 = piVar2;
          piVar2 = (int *)*piVar2;
        }
      }
      else {
        cVar1 = *(char *)(param_1[1] + 0x35);
        piVar3 = (int *)param_1[1];
        piVar2 = param_1;
        while ((param_1 = piVar3, cVar1 == '\0' && (piVar2 == (int *)param_1[2]))) {
          cVar1 = *(char *)(param_1[1] + 0x35);
          piVar3 = (int *)param_1[1];
          piVar2 = param_1;
        }
      }
    }
    FUN_00402e00();
  }
  *unaff_EDI = param_1;
  return;
}



============================================================
DISASSEMBLY
============================================================
004027b0 : PUSH EBP
004027b1 : MOV EBP,ESP
004027b3 : AND ESP,0xfffffff8
004027b6 : MOV EAX,dword ptr [ESI + 0x4]
004027b9 : MOV ECX,dword ptr [EBP + 0x8]
004027bc : MOV EDX,dword ptr [EBP + 0xc]
004027bf : SUB ESP,0x8
004027c2 : CMP ECX,dword ptr [EAX]
004027c4 : JNZ 0x004027fc
004027c6 : CMP EDX,EAX
004027c8 : JNZ 0x004027fc
004027ca : MOV EAX,dword ptr [EAX + 0x4]
004027cd : PUSH EAX
004027ce : MOV ECX,ESI
004027d0 : CALL 0x00401fc0
004027d5 : MOV EAX,dword ptr [ESI + 0x4]
004027d8 : MOV dword ptr [EAX + 0x4],EAX
004027db : MOV EAX,dword ptr [ESI + 0x4]
004027de : MOV dword ptr [ESI + 0x8],0x0
004027e5 : MOV dword ptr [EAX],EAX
004027e7 : MOV EAX,dword ptr [ESI + 0x4]
004027ea : MOV dword ptr [EAX + 0x8],EAX
004027ed : MOV ECX,dword ptr [ESI + 0x4]
004027f0 : MOV EDX,dword ptr [ECX]
004027f2 : MOV dword ptr [EDI],EDX
004027f4 : MOV EAX,EDI
004027f6 : MOV ESP,EBP
004027f8 : POP EBP
004027f9 : RET 0x8
004027fc : CMP ECX,EDX
004027fe : JZ 0x00402862
00402800 : CMP byte ptr [ECX + 0x35],0x0
00402804 : MOV EDX,ECX
00402806 : JNZ 0x0040284e
00402808 : MOV EAX,dword ptr [ECX + 0x8]
0040280b : CMP byte ptr [EAX + 0x35],0x0
0040280f : JNZ 0x0040282f
00402811 : MOV ECX,EAX
00402813 : MOV EAX,dword ptr [ECX]
00402815 : CMP byte ptr [EAX + 0x35],0x0
00402819 : JNZ 0x0040282a
0040281b : JMP 0x00402820
00402820 : MOV ECX,EAX
00402822 : MOV EAX,dword ptr [ECX]
00402824 : CMP byte ptr [EAX + 0x35],0x0
00402828 : JZ 0x00402820
0040282a : MOV dword ptr [EBP + 0x8],ECX
0040282d : JMP 0x0040284e
0040282f : MOV EAX,dword ptr [ECX + 0x4]
00402832 : CMP byte ptr [EAX + 0x35],0x0
00402836 : JNZ 0x0040284b
00402838 : CMP ECX,dword ptr [EAX + 0x8]
0040283b : JNZ 0x0040284b
0040283d : MOV ECX,EAX
0040283f : MOV dword ptr [EBP + 0x8],ECX
00402842 : MOV EAX,dword ptr [EAX + 0x4]
00402845 : CMP byte ptr [EAX + 0x35],0x0
00402849 : JZ 0x00402838
0040284b : MOV dword ptr [EBP + 0x8],EAX
0040284e : PUSH EDX
0040284f : LEA EAX,[ESP + 0x8]
00402853 : PUSH EAX
00402854 : PUSH ESI
00402855 : CALL 0x00402e00
0040285a : MOV ECX,dword ptr [EBP + 0x8]
0040285d : CMP ECX,dword ptr [EBP + 0xc]
00402860 : JNZ 0x00402800
00402862 : MOV dword ptr [EDI],ECX
00402864 : MOV EAX,EDI
00402866 : MOV ESP,EBP
00402868 : POP EBP
00402869 : RET 0x8
