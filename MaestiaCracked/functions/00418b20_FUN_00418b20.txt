PROGRAM  : Maestia.exe
FUNCTION : FUN_00418b20
ENTRY    : 00418b20
BODY     : [[00418b20, 00418c14]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00418b20(int param_1,int param_2,undefined4 param_3)

{
  undefined2 *puVar1;
  undefined2 *puVar2;
  void **ppvVar3;
  char cVar4;
  int in_ECX;
  int iVar5;
  undefined4 in_stack_0000002c;
  undefined4 in_stack_00000030;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b79624;
  local_8 = 0;
  ppvVar3 = &local_10;
  local_10 = ExceptionList;
  while (ExceptionList = ppvVar3, param_2 < in_ECX) {
    iVar5 = (in_ECX + -1) / 2;
    puVar1 = (undefined2 *)(param_1 + iVar5 * 0x28);
    cVar4 = FUN_00418de0(&stack0x00000034);
    if (cVar4 == '\0') break;
    puVar2 = (undefined2 *)(param_1 + in_ECX * 0x28);
    *puVar2 = *puVar1;
    puVar2[1] = puVar1[1];
    FUN_00405eb0(puVar1 + 2,0,0xffffffff);
    *(undefined4 *)(puVar2 + 0x10) = *(undefined4 *)(puVar1 + 0x10);
    *(undefined4 *)(puVar2 + 0x12) = *(undefined4 *)(puVar1 + 0x12);
    ppvVar3 = ExceptionList;
    in_ECX = iVar5;
  }
  puVar1 = (undefined2 *)(param_1 + in_ECX * 0x28);
  *puVar1 = (undefined2)param_3;
  puVar1[1] = param_3._2_2_;
  FUN_00405eb0(&stack0x00000010,0,0xffffffff);
  *(undefined4 *)(puVar1 + 0x10) = in_stack_0000002c;
  *(undefined4 *)(puVar1 + 0x12) = in_stack_00000030;
  local_8 = 0xffffffff;
  FUN_004427d0(&param_3);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00418b20 : PUSH EBP
00418b21 : MOV EBP,ESP
00418b23 : PUSH -0x1
00418b25 : PUSH 0xb79624
00418b2a : MOV EAX,FS:[0x0]
00418b30 : PUSH EAX
00418b31 : PUSH EBX
00418b32 : PUSH ESI
00418b33 : PUSH EDI
00418b34 : MOV EAX,[0x00d66fa0]
00418b39 : XOR EAX,EBP
00418b3b : PUSH EAX
00418b3c : LEA EAX,[EBP + -0xc]
00418b3f : MOV FS:[0x0],EAX
00418b45 : MOV ESI,ECX
00418b47 : MOV dword ptr [EBP + -0x4],0x0
00418b4e : LEA EAX,[ESI + -0x1]
00418b51 : CDQ
00418b52 : SUB EAX,EDX
00418b54 : MOV EBX,EAX
00418b56 : SAR EBX,0x1
00418b58 : CMP dword ptr [EBP + 0xc],ESI
00418b5b : JGE 0x00418bbf
00418b5d : LEA ECX,[ECX]
00418b60 : MOV ECX,dword ptr [EBP + 0x8]
00418b63 : LEA EAX,[EBX + EBX*0x4]
00418b66 : LEA EDI,[ECX + EAX*0x8]
00418b69 : LEA EDX,[EBP + 0x38]
00418b6c : PUSH EDX
00418b6d : LEA EAX,[EBP + 0x10]
00418b70 : MOV EDX,EDI
00418b72 : CALL 0x00418de0
00418b77 : TEST AL,AL
00418b79 : JZ 0x00418bbf
00418b7b : MOV ECX,dword ptr [EBP + 0x8]
00418b7e : MOV DX,word ptr [EDI]
00418b81 : LEA EAX,[ESI + ESI*0x4]
00418b84 : LEA ESI,[ECX + EAX*0x8]
00418b87 : PUSH -0x1
00418b89 : PUSH 0x0
00418b8b : LEA ECX,[EDI + 0x4]
00418b8e : MOV word ptr [ESI],DX
00418b91 : MOV AX,word ptr [EDI + 0x2]
00418b95 : PUSH ECX
00418b96 : LEA ECX,[ESI + 0x4]
00418b99 : MOV word ptr [ESI + 0x2],AX
00418b9d : CALL 0x00405eb0
00418ba2 : MOV EDX,dword ptr [EDI + 0x20]
00418ba5 : MOV dword ptr [ESI + 0x20],EDX
00418ba8 : MOV EAX,dword ptr [EDI + 0x24]
00418bab : MOV dword ptr [ESI + 0x24],EAX
00418bae : LEA EAX,[EBX + -0x1]
00418bb1 : CDQ
00418bb2 : SUB EAX,EDX
00418bb4 : MOV ESI,EBX
00418bb6 : SAR EAX,0x1
00418bb8 : CMP dword ptr [EBP + 0xc],ESI
00418bbb : MOV EBX,EAX
00418bbd : JL 0x00418b60
00418bbf : MOV EDX,dword ptr [EBP + 0x8]
00418bc2 : MOV AX,word ptr [EBP + 0x10]
00418bc6 : LEA ECX,[ESI + ESI*0x4]
00418bc9 : LEA ESI,[EDX + ECX*0x8]
00418bcc : PUSH -0x1
00418bce : MOV word ptr [ESI],AX
00418bd1 : MOV CX,word ptr [EBP + 0x12]
00418bd5 : PUSH 0x0
00418bd7 : LEA EDX,[EBP + 0x14]
00418bda : MOV word ptr [ESI + 0x2],CX
00418bde : PUSH EDX
00418bdf : LEA ECX,[ESI + 0x4]
00418be2 : CALL 0x00405eb0
00418be7 : MOV EAX,dword ptr [EBP + 0x30]
00418bea : MOV dword ptr [ESI + 0x20],EAX
00418bed : MOV ECX,dword ptr [EBP + 0x34]
00418bf0 : MOV dword ptr [ESI + 0x24],ECX
00418bf3 : MOV dword ptr [EBP + -0x4],0xffffffff
00418bfa : LEA EDX,[EBP + 0x10]
00418bfd : PUSH EDX
00418bfe : CALL 0x004427d0
00418c03 : MOV ECX,dword ptr [EBP + -0xc]
00418c06 : MOV dword ptr FS:[0x0],ECX
00418c0d : POP ECX
00418c0e : POP EDI
00418c0f : POP ESI
00418c10 : POP EBX
00418c11 : MOV ESP,EBP
00418c13 : POP EBP
00418c14 : RET
