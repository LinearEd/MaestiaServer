PROGRAM  : Maestia.exe
FUNCTION : FUN_004ca3b0
ENTRY    : 004ca3b0
BODY     : [[004ca3b0, 004ca3f6] [004ca400, 004ca568]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_004ca3b0(int *param_1)

{
  uint uVar1;
  uint uVar2;
  int in_ECX;
  float local_54;
  undefined4 local_50;
  int local_4c;
  undefined4 uStack_48;
  LPCRITICAL_SECTION p_Stack_44;
  char *pcStack_40;
  undefined4 uStack_3c;
  int iStack_38;
  undefined4 uStack_34;
  float afStack_30 [7];
  void *local_14;
  undefined1 *puStack_10;
  undefined4 uStack_c;
  
  uStack_c = 0xffffffff;
  puStack_10 = &LAB_00b7a108;
  local_14 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffffa0;
  ExceptionList = &local_14;
  local_50 = 0;
  local_54 = -1.0;
  while (uVar2 = param_1[9], uVar2 < (uint)param_1[8]) {
    uVar2 = (**(code **)(*param_1 + 0x1c))(&local_4c,uVar1);
    if ((char)uVar2 == '\0') {
      ExceptionList = local_14;
      return uVar2 & 0xffffff00;
    }
    uVar2 = local_4c - 0x62;
    switch(uVar2) {
    case 0:
      goto switchD_004ca432_caseD_0;
    case 1:
      (**(code **)(*param_1 + 0xc))(&local_50,4,1);
      break;
    case 2:
      afStack_30[5] = 0.0;
      afStack_30[4] = 0.0;
      afStack_30[3] = 0.0;
      afStack_30[2] = 0.0;
      afStack_30[0] = 0.0;
      afStack_30[1] = 0.0;
      (**(code **)(*param_1 + 0xc))(afStack_30,4,1);
      (**(code **)(*param_1 + 0xc))(&uStack_34,0x10,1);
      if (local_54 < afStack_30[0]) {
        p_Stack_44 = (LPCRITICAL_SECTION)(in_ECX + 0x78);
        local_54 = afStack_30[0];
        iStack_38 = 0;
        pcStack_40 = 
        "d:\\maestiaproject\\maestiasrc\\client\\main\\client\\avalib\\fx\\AvaFxIController.h";
        uStack_3c = 0x24a;
        uStack_34 = 1;
        FUN_006ef1a0(&p_Stack_44);
        uStack_c = 0;
        FUN_0041dea0(afStack_30);
        uStack_c = 0xffffffff;
        if (iStack_38 != 0) {
          LeaveCriticalSection(p_Stack_44);
          iStack_38 = 0;
        }
      }
      break;
    case 3:
      (**(code **)(*param_1 + 0xc))(in_ECX + 0x50,4,1);
      break;
    default:
      (**(code **)(*param_1 + 0x24))(uStack_48);
    }
  }
switchD_004ca432_caseD_0:
  ExceptionList = local_14;
  return CONCAT31((int3)(uVar2 >> 8),1);
}



============================================================
DISASSEMBLY
============================================================
004ca3b0 : PUSH EBP
004ca3b1 : MOV EBP,ESP
004ca3b3 : AND ESP,0xfffffff8
004ca3b6 : PUSH -0x1
004ca3b8 : PUSH 0xb7a108
004ca3bd : MOV EAX,FS:[0x0]
004ca3c3 : PUSH EAX
004ca3c4 : SUB ESP,0x40
004ca3c7 : PUSH EBX
004ca3c8 : PUSH ESI
004ca3c9 : PUSH EDI
004ca3ca : MOV EAX,[0x00d66fa0]
004ca3cf : XOR EAX,ESP
004ca3d1 : PUSH EAX
004ca3d2 : LEA EAX,[ESP + 0x50]
004ca3d6 : MOV FS:[0x0],EAX
004ca3dc : MOV EDI,ECX
004ca3de : MOVSS XMM0,dword ptr [0x00cdf0d0]
004ca3e6 : MOV ESI,dword ptr [EBP + 0x8]
004ca3e9 : XOR EBX,EBX
004ca3eb : MOV dword ptr [ESP + 0x14],EBX
004ca3ef : MOVSS dword ptr [ESP + 0x10],XMM0
004ca3f5 : JMP 0x004ca400
004ca400 : MOV EAX,dword ptr [ESI + 0x24]
004ca403 : CMP EAX,dword ptr [ESI + 0x20]
004ca406 : JNC 0x004ca552
004ca40c : MOV EDX,dword ptr [ESI]
004ca40e : MOV EDX,dword ptr [EDX + 0x1c]
004ca411 : LEA EAX,[ESP + 0x18]
004ca415 : PUSH EAX
004ca416 : MOV ECX,ESI
004ca418 : CALL EDX
004ca41a : TEST AL,AL
004ca41c : JZ 0x004ca53b
004ca422 : MOV EAX,dword ptr [ESP + 0x18]
004ca426 : ADD EAX,-0x62
004ca429 : CMP EAX,0x3
004ca42c : JA 0x004ca528
004ca432 : JMP dword ptr [EAX*0x4 + 0x4ca56c]
004ca439 : MOV EAX,dword ptr [ESI]
004ca43b : MOV EDX,dword ptr [EAX + 0xc]
004ca43e : PUSH 0x1
004ca440 : PUSH 0x4
004ca442 : LEA ECX,[ESP + 0x1c]
004ca446 : PUSH ECX
004ca447 : MOV ECX,ESI
004ca449 : CALL EDX
004ca44b : JMP 0x004ca400
004ca44d : MOV EAX,dword ptr [ESI]
004ca44f : MOV EDX,dword ptr [EAX + 0xc]
004ca452 : PUSH 0x1
004ca454 : PUSH 0x4
004ca456 : LEA ECX,[EDI + 0x50]
004ca459 : PUSH ECX
004ca45a : MOV ECX,ESI
004ca45c : CALL EDX
004ca45e : JMP 0x004ca400
004ca460 : XORPS XMM0,XMM0
004ca463 : MOV EAX,dword ptr [ESI]
004ca465 : MOV EDX,dword ptr [EAX + 0xc]
004ca468 : PUSH 0x1
004ca46a : PUSH 0x4
004ca46c : LEA ECX,[ESP + 0x3c]
004ca470 : PUSH ECX
004ca471 : MOV ECX,ESI
004ca473 : MOVSS dword ptr [ESP + 0x54],XMM0
004ca479 : MOVSS dword ptr [ESP + 0x50],XMM0
004ca47f : MOVSS dword ptr [ESP + 0x4c],XMM0
004ca485 : MOVSS dword ptr [ESP + 0x48],XMM0
004ca48b : MOVSS dword ptr [ESP + 0x40],XMM0
004ca491 : MOV dword ptr [ESP + 0x44],EBX
004ca495 : CALL EDX
004ca497 : MOV EAX,dword ptr [ESI]
004ca499 : MOV EDX,dword ptr [EAX + 0xc]
004ca49c : PUSH 0x1
004ca49e : PUSH 0x10
004ca4a0 : LEA ECX,[ESP + 0x44]
004ca4a4 : PUSH ECX
004ca4a5 : MOV ECX,ESI
004ca4a7 : CALL EDX
004ca4a9 : MOVSS XMM0,dword ptr [ESP + 0x34]
004ca4af : MOVSS XMM1,dword ptr [ESP + 0x10]
004ca4b5 : COMISS XMM1,XMM0
004ca4b8 : JNC 0x004ca400
004ca4be : LEA ECX,[ESP + 0x20]
004ca4c2 : LEA EAX,[EDI + 0x78]
004ca4c5 : PUSH ECX
004ca4c6 : MOVSS dword ptr [ESP + 0x14],XMM0
004ca4cc : MOV dword ptr [ESP + 0x30],EBX
004ca4d0 : MOV dword ptr [ESP + 0x24],EAX
004ca4d4 : MOV dword ptr [ESP + 0x28],0xcd9c40
004ca4dc : MOV dword ptr [ESP + 0x2c],0x24a
004ca4e4 : MOV dword ptr [ESP + 0x34],0x1
004ca4ec : CALL 0x006ef1a0
004ca4f1 : MOV dword ptr [ESP + 0x58],EBX
004ca4f5 : LEA EDX,[ESP + 0x34]
004ca4f9 : PUSH EDX
004ca4fa : LEA EAX,[EDI + 0x54]
004ca4fd : CALL 0x0041dea0
004ca502 : MOV dword ptr [ESP + 0x58],0xffffffff
004ca50a : CMP dword ptr [ESP + 0x2c],EBX
004ca50e : JZ 0x004ca400
004ca514 : MOV EAX,dword ptr [ESP + 0x20]
004ca518 : PUSH EAX
004ca519 : CALL dword ptr [0x00b8511c]
004ca51f : MOV dword ptr [ESP + 0x2c],EBX
004ca523 : JMP 0x004ca400
004ca528 : MOV EDX,dword ptr [ESI]
004ca52a : MOV EAX,dword ptr [ESP + 0x1c]
004ca52e : MOV EDX,dword ptr [EDX + 0x24]
004ca531 : PUSH EAX
004ca532 : MOV ECX,ESI
004ca534 : CALL EDX
004ca536 : JMP 0x004ca400
004ca53b : XOR AL,AL
004ca53d : MOV ECX,dword ptr [ESP + 0x50]
004ca541 : MOV dword ptr FS:[0x0],ECX
004ca548 : POP ECX
004ca549 : POP EDI
004ca54a : POP ESI
004ca54b : POP EBX
004ca54c : MOV ESP,EBP
004ca54e : POP EBP
004ca54f : RET 0x4
004ca552 : MOV AL,0x1
004ca554 : MOV ECX,dword ptr [ESP + 0x50]
004ca558 : MOV dword ptr FS:[0x0],ECX
004ca55f : POP ECX
004ca560 : POP EDI
004ca561 : POP ESI
004ca562 : POP EBX
004ca563 : MOV ESP,EBP
004ca565 : POP EBP
004ca566 : RET 0x4
