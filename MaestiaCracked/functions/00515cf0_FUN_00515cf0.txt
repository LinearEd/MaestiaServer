PROGRAM  : Maestia.exe
FUNCTION : FUN_00515cf0
ENTRY    : 00515cf0
BODY     : [[00515cf0, 00515d5b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00515cf0(uint param_1)

{
  int iVar1;
  int iVar2;
  
  if (param_1 != 0) {
    iVar1 = *(int *)(*(int *)(DAT_00d7b334 + 4 + (param_1 >> 0x14) * 8) +
                    (param_1 >> 0xc & 0xff) * 4);
    iVar2 = *(int *)(iVar1 + 0x14);
    if (*(char *)(iVar2 + 0x60) == '\0') {
      FUN_005a9580(iVar1,param_1);
    }
    else {
      EnterCriticalSection((LPCRITICAL_SECTION)(iVar2 + 0x48));
      FUN_005a9580(iVar1,param_1);
      LeaveCriticalSection((LPCRITICAL_SECTION)(iVar2 + 0x48));
    }
    if (param_1 == *(uint *)(iVar2 + 0x14)) {
      FUN_00515b80();
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00515cf0 : PUSH EDI
00515cf1 : MOV EDI,dword ptr [ESP + 0x8]
00515cf5 : TEST EDI,EDI
00515cf7 : JZ 0x00515d58
00515cf9 : MOV EDX,dword ptr [0x00d7b334]
00515cff : MOV EAX,EDI
00515d01 : MOV ECX,EDI
00515d03 : SHR EAX,0x14
00515d06 : MOV EAX,dword ptr [EDX + EAX*0x8 + 0x4]
00515d0a : SHR ECX,0xc
00515d0d : AND ECX,0xff
00515d13 : PUSH EBX
00515d14 : MOV EBX,dword ptr [EAX + ECX*0x4]
00515d17 : PUSH ESI
00515d18 : MOV ESI,dword ptr [EBX + 0x14]
00515d1b : CMP byte ptr [ESI + 0x60],0x0
00515d1f : JZ 0x00515d40
00515d21 : PUSH EBP
00515d22 : LEA EBP,[ESI + 0x48]
00515d25 : PUSH EBP
00515d26 : CALL dword ptr [0x00b85118]
00515d2c : MOV ECX,dword ptr [ESI + 0x64]
00515d2f : PUSH EDI
00515d30 : PUSH EBX
00515d31 : CALL 0x005a9580
00515d36 : PUSH EBP
00515d37 : CALL dword ptr [0x00b8511c]
00515d3d : POP EBP
00515d3e : JMP 0x00515d4a
00515d40 : MOV ECX,dword ptr [ESI + 0x64]
00515d43 : PUSH EDI
00515d44 : PUSH EBX
00515d45 : CALL 0x005a9580
00515d4a : CMP EDI,dword ptr [ESI + 0x14]
00515d4d : JNZ 0x00515d56
00515d4f : MOV ECX,ESI
00515d51 : CALL 0x00515b80
00515d56 : POP ESI
00515d57 : POP EBX
00515d58 : POP EDI
00515d59 : RET 0x4
