PROGRAM  : Maestia.exe
FUNCTION : FUN_005ce4e0
ENTRY    : 005ce4e0
BODY     : [[005ce4e0, 005ce690]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005ce4e0(int param_1)

{
  int *piVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  char cVar5;
  int iVar6;
  uint *puVar7;
  int unaff_EDI;
  int local_38 [6];
  undefined1 local_20 [4];
  undefined1 auStack_1c [12];
  undefined1 local_10;
  int iStack_8;
  int *piStack_4;
  
  piVar1 = (int *)(param_1 + 0x78);
  local_10 = 0;
  local_20[0] = 0;
  local_38[0] = FUN_00525380("System",6,0);
  *(int *)(local_38[0] + 8) = *(int *)(local_38[0] + 8) + 1;
  cVar5 = (**(code **)(*(int *)(*(int *)(*piVar1 + 0x2a0) + 0x10) + 0x2c))(piVar1,local_38,local_20)
  ;
  if (cVar5 != '\0') {
    iVar6 = FUN_00526fa0(param_1);
    cVar5 = (**(code **)(*(int *)(iVar6 + 0x10) + 0x2c))(piVar1,*piVar1 + 0x60,auStack_1c);
    if (((cVar5 != '\0') && (iVar6 = FUN_00526fa0(param_1), iVar6 != 0)) && (iVar6 + 0x10 != 0)) {
      iVar2 = *piStack_4;
      if (*(int *)(iVar2 + 0x10) == 0) {
        *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x10;
        if (*(uint *)(param_1 + 0x10) <= *(uint *)(param_1 + 8)) {
          FUN_00504050();
        }
        if (*(undefined1 **)(param_1 + 8) != (undefined1 *)0x0) {
          **(undefined1 **)(param_1 + 8) = 1;
        }
      }
      else {
        *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1;
        *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x10;
        local_38[0] = iVar2;
        if (*(uint *)(param_1 + 0x10) <= *(uint *)(param_1 + 8)) {
          FUN_00504050();
        }
        if (*(int *)(param_1 + 8) != 0) {
          FUN_005266c0(&stack0xffffffc4);
        }
        FUN_00526bc0();
      }
      puVar7 = (uint *)(param_1 + 8);
      uVar3 = *puVar7;
      iVar2 = *(int *)(param_1 + 0xc);
      iVar4 = *(int *)(param_1 + 0x1c);
      iStack_8 = FUN_00525380("onSetCurrentInputLanguage",0x19,0);
      *(int *)(iStack_8 + 8) = *(int *)(iStack_8 + 8) + 1;
      FUN_0057bb40(param_1,iVar6 + 0x10,&iStack_8,1,
                   ((int)(uVar3 - iVar2) >> 4) + -0x20 + iVar4 * 0x20);
      *(int *)(iStack_8 + 8) = *(int *)(iStack_8 + 8) + -1;
      if (*(int *)(iStack_8 + 8) == 0) {
        FUN_00525340();
      }
      FUN_00526bc0();
      *puVar7 = *puVar7 - 0x10;
      if (*puVar7 < *(uint *)(param_1 + 0xc)) {
        FUN_00504f30();
      }
    }
  }
  *(int *)(unaff_EDI + 8) = *(int *)(unaff_EDI + 8) + -1;
  if (*(int *)(unaff_EDI + 8) == 0) {
    FUN_00525340();
  }
  FUN_00526bc0();
  FUN_00526bc0();
  return;
}



============================================================
DISASSEMBLY
============================================================
005ce4e0 : SUB ESP,0x38
005ce4e3 : PUSH EBP
005ce4e4 : MOV EBP,dword ptr [ESP + 0x40]
005ce4e8 : MOV EAX,dword ptr [EBP + 0x78]
005ce4eb : PUSH ESI
005ce4ec : PUSH EDI
005ce4ed : PUSH 0x0
005ce4ef : LEA EDI,[EBP + 0x78]
005ce4f2 : PUSH 0x6
005ce4f4 : PUSH 0xb86464
005ce4f9 : LEA ECX,[EAX + 0x254]
005ce4ff : MOV byte ptr [ESP + 0x40],0x0
005ce504 : MOV byte ptr [ESP + 0x30],0x0
005ce509 : CALL 0x00525380
005ce50e : MOV dword ptr [ESP + 0xc],EAX
005ce512 : MOV ESI,0x1
005ce517 : ADD dword ptr [EAX + 0x8],ESI
005ce51a : MOV EAX,dword ptr [EDI]
005ce51c : MOV ECX,dword ptr [EAX + 0x2a0]
005ce522 : MOV EDX,dword ptr [ECX + 0x10]
005ce525 : MOV EDX,dword ptr [EDX + 0x2c]
005ce528 : LEA EAX,[ESP + 0x24]
005ce52c : PUSH EAX
005ce52d : ADD ECX,0x10
005ce530 : LEA EAX,[ESP + 0x10]
005ce534 : PUSH EAX
005ce535 : PUSH EDI
005ce536 : CALL EDX
005ce538 : TEST AL,AL
005ce53a : JZ 0x005ce662
005ce540 : PUSH EBX
005ce541 : PUSH EBP
005ce542 : LEA ECX,[ESP + 0x2c]
005ce546 : CALL 0x00526fa0
005ce54b : MOV EDX,dword ptr [EDI]
005ce54d : LEA ECX,[EAX + 0x10]
005ce550 : MOV EAX,dword ptr [ECX]
005ce552 : LEA EBX,[ESP + 0x38]
005ce556 : PUSH EBX
005ce557 : ADD EDX,0x60
005ce55a : PUSH EDX
005ce55b : MOV EDX,dword ptr [EAX + 0x2c]
005ce55e : PUSH EDI
005ce55f : CALL EDX
005ce561 : TEST AL,AL
005ce563 : JZ 0x005ce661
005ce569 : PUSH EBP
005ce56a : MOV ECX,EBX
005ce56c : CALL 0x00526fa0
005ce571 : TEST EAX,EAX
005ce573 : JZ 0x005ce661
005ce579 : ADD EAX,0x10
005ce57c : MOV dword ptr [ESP + 0x14],EAX
005ce580 : JZ 0x005ce661
005ce586 : MOV EAX,dword ptr [ESP + 0x50]
005ce58a : MOV EAX,dword ptr [EAX]
005ce58c : CMP dword ptr [EAX + 0x10],0x0
005ce590 : JZ 0x005ce5cf
005ce592 : MOV dword ptr [ESP + 0x1c],EAX
005ce596 : MOV byte ptr [ESP + 0x18],0x5
005ce59b : ADD dword ptr [EAX + 0x8],ESI
005ce59e : ADD dword ptr [EBP + 0x8],0x10
005ce5a2 : MOV EAX,dword ptr [EBP + 0x8]
005ce5a5 : CMP EAX,dword ptr [EBP + 0x10]
005ce5a8 : LEA ESI,[EBP + 0x8]
005ce5ab : JC 0x005ce5b4
005ce5ad : MOV ECX,ESI
005ce5af : CALL 0x00504050
005ce5b4 : MOV ECX,dword ptr [ESI]
005ce5b6 : TEST ECX,ECX
005ce5b8 : JZ 0x005ce5c4
005ce5ba : LEA EDX,[ESP + 0x18]
005ce5be : PUSH EDX
005ce5bf : CALL 0x005266c0
005ce5c4 : LEA ECX,[ESP + 0x18]
005ce5c8 : CALL 0x00526bc0
005ce5cd : JMP 0x005ce5ee
005ce5cf : ADD dword ptr [EBP + 0x8],0x10
005ce5d3 : MOV EAX,dword ptr [EBP + 0x8]
005ce5d6 : CMP EAX,dword ptr [EBP + 0x10]
005ce5d9 : LEA ESI,[EBP + 0x8]
005ce5dc : JC 0x005ce5e5
005ce5de : MOV ECX,ESI
005ce5e0 : CALL 0x00504050
005ce5e5 : MOV EAX,dword ptr [ESI]
005ce5e7 : TEST EAX,EAX
005ce5e9 : JZ 0x005ce5ee
005ce5eb : MOV byte ptr [EAX],0x1
005ce5ee : MOV EAX,dword ptr [ESI]
005ce5f0 : SUB EAX,dword ptr [ESI + 0x4]
005ce5f3 : MOV ECX,dword ptr [ESI + 0x14]
005ce5f6 : MOV EDI,dword ptr [EDI]
005ce5f8 : PUSH 0x0
005ce5fa : SHL ECX,0x5
005ce5fd : SAR EAX,0x4
005ce600 : PUSH 0x19
005ce602 : LEA EBX,[EAX + ECX*0x1 + -0x20]
005ce606 : PUSH 0xb92c20
005ce60b : LEA ECX,[EDI + 0x254]
005ce611 : CALL 0x00525380
005ce616 : PUSH EBX
005ce617 : MOV dword ptr [ESP + 0x50],EAX
005ce61b : INC dword ptr [EAX + 0x8]
005ce61e : MOV EAX,dword ptr [ESP + 0x18]
005ce622 : PUSH 0x1
005ce624 : LEA EDX,[ESP + 0x54]
005ce628 : PUSH EDX
005ce629 : PUSH EAX
005ce62a : PUSH EBP
005ce62b : CALL 0x0057bb40
005ce630 : MOV EAX,dword ptr [ESP + 0x60]
005ce634 : DEC dword ptr [EAX + 0x8]
005ce637 : MOV ECX,EAX
005ce639 : ADD EAX,0x8
005ce63c : ADD ESP,0x14
005ce63f : CMP dword ptr [EAX],0x0
005ce642 : JNZ 0x005ce649
005ce644 : CALL 0x00525340
005ce649 : MOV ECX,dword ptr [ESI]
005ce64b : CALL 0x00526bc0
005ce650 : ADD dword ptr [ESI],-0x10
005ce653 : MOV EAX,dword ptr [ESI]
005ce655 : CMP EAX,dword ptr [ESI + 0x4]
005ce658 : JNC 0x005ce661
005ce65a : MOV ECX,ESI
005ce65c : CALL 0x00504f30
005ce661 : POP EBX
005ce662 : MOV EAX,dword ptr [ESP + 0xc]
005ce666 : DEC dword ptr [EAX + 0x8]
005ce669 : MOV ECX,EAX
005ce66b : ADD EAX,0x8
005ce66e : CMP dword ptr [EAX],0x0
005ce671 : POP EDI
005ce672 : POP ESI
005ce673 : POP EBP
005ce674 : JNZ 0x005ce67b
005ce676 : CALL 0x00525340
005ce67b : LEA ECX,[ESP + 0x18]
005ce67f : CALL 0x00526bc0
005ce684 : LEA ECX,[ESP + 0x28]
005ce688 : CALL 0x00526bc0
005ce68d : ADD ESP,0x38
005ce690 : RET
