PROGRAM  : Maestia.exe
FUNCTION : FUN_005cd7c0
ENTRY    : 005cd7c0
BODY     : [[005cd7c0, 005cd864]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005cd7c0(int param_1)

{
  byte *pbVar1;
  int iVar2;
  GRefCountImpl *this;
  undefined4 uVar3;
  
  if (*(int *)(param_1 + 0x18) != 0) {
    iVar2 = FUN_005296a0();
    this = (GRefCountImpl *)(**(code **)(*(int *)(iVar2 + 8) + 0xc))(0x1b);
    iVar2 = FUN_00525380("UNKNOWN",7,0);
    *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1;
    if (this != (GRefCountImpl *)0x0) {
      uVar3 = (**(code **)(*(int *)this + 8))();
      FUN_005258f0(uVar3);
    }
    pbVar1 = *(byte **)(param_1 + 4);
    if (4 < *pbVar1) {
      FUN_00526400();
    }
    *pbVar1 = 5;
    *(int *)(pbVar1 + 4) = iVar2;
    *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1;
    *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + -1;
    if (*(int *)(iVar2 + 8) == 0) {
      FUN_00525340();
    }
    if (this != (GRefCountImpl *)0x0) {
      GRefCountImpl::Release(this);
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005cd7c0 : PUSH ESI
005cd7c1 : MOV ESI,dword ptr [ESP + 0x8]
005cd7c5 : MOV ECX,dword ptr [ESI + 0x18]
005cd7c8 : TEST ECX,ECX
005cd7ca : JZ 0x005cd863
005cd7d0 : PUSH EDI
005cd7d1 : CALL 0x005296a0
005cd7d6 : MOV EDX,dword ptr [EAX + 0x8]
005cd7d9 : ADD EAX,0x8
005cd7dc : MOV ECX,EAX
005cd7de : MOV EAX,dword ptr [EDX + 0xc]
005cd7e1 : PUSH 0x1b
005cd7e3 : CALL EAX
005cd7e5 : MOV ECX,dword ptr [ESI + 0x18]
005cd7e8 : PUSH 0x0
005cd7ea : MOV EDI,EAX
005cd7ec : MOV EAX,dword ptr [ECX + 0x78]
005cd7ef : PUSH 0x7
005cd7f1 : PUSH 0xb8b16c
005cd7f6 : LEA ECX,[EAX + 0x254]
005cd7fc : CALL 0x00525380
005cd801 : MOV dword ptr [ESP + 0xc],EAX
005cd805 : INC dword ptr [EAX + 0x8]
005cd808 : TEST EDI,EDI
005cd80a : JZ 0x005cd81f
005cd80c : MOV EDX,dword ptr [EDI]
005cd80e : MOV EAX,dword ptr [EDX + 0x8]
005cd811 : MOV ECX,EDI
005cd813 : CALL EAX
005cd815 : PUSH EAX
005cd816 : LEA ECX,[ESP + 0x10]
005cd81a : CALL 0x005258f0
005cd81f : MOV ESI,dword ptr [ESI + 0x4]
005cd822 : CMP byte ptr [ESI],0x5
005cd825 : JC 0x005cd82e
005cd827 : MOV ECX,ESI
005cd829 : CALL 0x00526400
005cd82e : MOV byte ptr [ESI],0x5
005cd831 : MOV ECX,dword ptr [ESP + 0xc]
005cd835 : MOV dword ptr [ESI + 0x4],ECX
005cd838 : MOV EAX,dword ptr [ESP + 0xc]
005cd83c : INC dword ptr [EAX + 0x8]
005cd83f : MOV EAX,dword ptr [ESP + 0xc]
005cd843 : DEC dword ptr [EAX + 0x8]
005cd846 : MOV ECX,EAX
005cd848 : ADD EAX,0x8
005cd84b : CMP dword ptr [EAX],0x0
005cd84e : JNZ 0x005cd855
005cd850 : CALL 0x00525340
005cd855 : TEST EDI,EDI
005cd857 : JZ 0x005cd862
005cd859 : MOV ECX,EDI
005cd85b : POP EDI
005cd85c : POP ESI
005cd85d : JMP 0x004ff7e0
005cd862 : POP EDI
005cd863 : POP ESI
005cd864 : RET
