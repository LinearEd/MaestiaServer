PROGRAM  : Maestia.exe
FUNCTION : FUN_0040a430
ENTRY    : 0040a430
BODY     : [[0040a430, 0040a6e6]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0040a55f) */
/* WARNING: Removing unreachable block (ram,0x0040a56f) */
/* WARNING: Removing unreachable block (ram,0x0040a578) */
/* WARNING: Removing unreachable block (ram,0x0040a57b) */
/* WARNING: Removing unreachable block (ram,0x0040a56b) */
/* WARNING: Removing unreachable block (ram,0x0040a588) */
/* WARNING: Removing unreachable block (ram,0x0040a598) */
/* WARNING: Removing unreachable block (ram,0x0040a5a3) */
/* WARNING: Removing unreachable block (ram,0x0040a59f) */
/* WARNING: Removing unreachable block (ram,0x0040a593) */
/* WARNING: Removing unreachable block (ram,0x0040a5a6) */
/* WARNING: Removing unreachable block (ram,0x0040a5b6) */

void FUN_0040a430(undefined4 param_1,int *param_2)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_5c [40];
  undefined1 local_34 [4];
  undefined1 local_30;
  undefined4 local_20;
  undefined4 local_1c;
  int *local_18;
  int *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7c822;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_2 + 0x51) != '\0') {
    local_1c = 0xf;
    local_20 = 0;
    local_30 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_34);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_5c,&DAT_00ced890);
  }
  local_14 = param_2;
  FUN_0040b870(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_2;
  if (*(char *)((int)piVar7 + 0x51) == '\0') {
    if (*(char *)(param_2[2] + 0x51) == '\0') {
      piVar7 = (int *)param_2[2];
    }
  }
  else {
    piVar7 = (int *)param_2[2];
  }
  piVar6 = (int *)param_2[1];
  if (*(char *)((int)piVar7 + 0x51) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if ((int *)DAT_0172106c[1] == param_2) {
    DAT_0172106c[1] = piVar7;
  }
  else if ((int *)*piVar6 == param_2) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)*DAT_0172106c == param_2) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x51) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x51);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x51);
        piVar5 = piVar3;
      }
    }
    *DAT_0172106c = piVar5;
  }
  if ((int *)DAT_0172106c[2] == param_2) {
    if (*(char *)((int)piVar7 + 0x51) == '\0') {
      uVar4 = FUN_0040baa0();
      DAT_0172106c[2] = uVar4;
    }
    else {
      DAT_0172106c[2] = piVar6;
    }
  }
  if ((char)local_14[0x14] == '\x01') {
    if (piVar7 != (int *)DAT_0172106c[1]) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0x14] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0x14] == '\0') {
            *(undefined1 *)(piVar6 + 0x14) = 1;
            *(undefined1 *)(piVar5 + 0x14) = 0;
            FUN_0040a760();
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x51) == '\0') {
            if ((*(char *)(*piVar6 + 0x50) != '\x01') || (*(char *)(piVar6[2] + 0x50) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x50) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x50) = 1;
                *(undefined1 *)(piVar6 + 0x14) = 0;
                FUN_0040a7b0();
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0x14) = (char)piVar5[0x14];
              *(undefined1 *)(piVar5 + 0x14) = 1;
              *(undefined1 *)(piVar6[2] + 0x50) = 1;
              FUN_0040a760();
              break;
            }
LAB_0040a67a:
            *(undefined1 *)(piVar6 + 0x14) = 0;
          }
        }
        else {
          if ((char)piVar6[0x14] == '\0') {
            *(undefined1 *)(piVar6 + 0x14) = 1;
            *(undefined1 *)(piVar5 + 0x14) = 0;
            FUN_0040a7b0();
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x51) == '\0') {
            if ((*(char *)(piVar6[2] + 0x50) == '\x01') && (*(char *)(*piVar6 + 0x50) == '\x01'))
            goto LAB_0040a67a;
            if (*(char *)(*piVar6 + 0x50) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x50) = 1;
              *(undefined1 *)(piVar6 + 0x14) = 0;
              FUN_0040a760();
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0x14) = (char)piVar5[0x14];
            *(undefined1 *)(piVar5 + 0x14) = 1;
            *(undefined1 *)(*piVar6 + 0x50) = 1;
            FUN_0040a7b0();
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != (int *)DAT_0172106c[1]);
    }
    *(undefined1 *)(piVar7 + 0x14) = 1;
  }
  local_18 = local_14 + 3;
  local_8 = 0xffffffff;
  FUN_00406a00(local_14 + 4);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0040a430 : PUSH EBP
0040a431 : MOV EBP,ESP
0040a433 : PUSH -0x1
0040a435 : PUSH 0xb7c822
0040a43a : MOV EAX,FS:[0x0]
0040a440 : PUSH EAX
0040a441 : SUB ESP,0x4c
0040a444 : PUSH EBX
0040a445 : PUSH ESI
0040a446 : PUSH EDI
0040a447 : MOV EAX,[0x00d66fa0]
0040a44c : XOR EAX,EBP
0040a44e : PUSH EAX
0040a44f : LEA EAX,[EBP + -0xc]
0040a452 : MOV FS:[0x0],EAX
0040a458 : MOV EAX,dword ptr [EBP + 0xc]
0040a45b : CMP byte ptr [EAX + 0x51],0x0
0040a45f : JZ 0x0040a49d
0040a461 : PUSH 0x1b
0040a463 : XOR ESI,ESI
0040a465 : PUSH 0xcca4a8
0040a46a : LEA ECX,[EBP + -0x30]
0040a46d : MOV dword ptr [EBP + -0x18],0xf
0040a474 : MOV dword ptr [EBP + -0x1c],ESI
0040a477 : MOV byte ptr [EBP + -0x2c],0x0
0040a47b : CALL 0x00404b50
0040a480 : MOV dword ptr [EBP + -0x4],ESI
0040a483 : LEA EAX,[EBP + -0x30]
0040a486 : PUSH EAX
0040a487 : LEA ECX,[EBP + -0x58]
0040a48a : CALL 0x00403c10
0040a48f : PUSH 0xced890
0040a494 : LEA ECX,[EBP + -0x58]
0040a497 : PUSH ECX
0040a498 : CALL 0x006409eb
0040a49d : MOV EBX,EAX
0040a49f : LEA EDX,[EBP + 0xc]
0040a4a2 : MOV dword ptr [EBP + -0x10],EBX
0040a4a5 : CALL 0x0040b870
0040a4aa : MOV ECX,dword ptr [EBX]
0040a4ac : CMP byte ptr [ECX + 0x51],0x0
0040a4b0 : JZ 0x0040a4b7
0040a4b2 : MOV EDI,dword ptr [EBX + 0x8]
0040a4b5 : JMP 0x0040a4d5
0040a4b7 : MOV EDX,dword ptr [EBX + 0x8]
0040a4ba : CMP byte ptr [EDX + 0x51],0x0
0040a4be : JZ 0x0040a4c4
0040a4c0 : MOV EDI,ECX
0040a4c2 : JMP 0x0040a4d5
0040a4c4 : MOV EAX,dword ptr [EBP + 0xc]
0040a4c7 : MOV EDI,dword ptr [EAX + 0x8]
0040a4ca : LEA EDX,[EAX + 0x8]
0040a4cd : CMP EAX,EBX
0040a4cf : JNZ 0x0040a55f
0040a4d5 : CMP byte ptr [EDI + 0x51],0x0
0040a4d9 : MOV ESI,dword ptr [EBX + 0x4]
0040a4dc : JNZ 0x0040a4e1
0040a4de : MOV dword ptr [EDI + 0x4],ESI
0040a4e1 : MOV EAX,[0x0172106c]
0040a4e6 : CMP dword ptr [EAX + 0x4],EBX
0040a4e9 : JNZ 0x0040a4f0
0040a4eb : MOV dword ptr [EAX + 0x4],EDI
0040a4ee : JMP 0x0040a4fb
0040a4f0 : CMP dword ptr [ESI],EBX
0040a4f2 : JNZ 0x0040a4f8
0040a4f4 : MOV dword ptr [ESI],EDI
0040a4f6 : JMP 0x0040a4fb
0040a4f8 : MOV dword ptr [ESI + 0x8],EDI
0040a4fb : MOV EDX,dword ptr [0x0172106c]
0040a501 : CMP dword ptr [EDX],EBX
0040a503 : JNZ 0x0040a52c
0040a505 : CMP byte ptr [EDI + 0x51],0x0
0040a509 : JZ 0x0040a50f
0040a50b : MOV ECX,ESI
0040a50d : JMP 0x0040a52a
0040a50f : MOV EAX,dword ptr [EDI]
0040a511 : CMP byte ptr [EAX + 0x51],0x0
0040a515 : MOV ECX,EDI
0040a517 : JNZ 0x0040a52a
0040a519 : LEA ESP,[ESP]
0040a520 : MOV ECX,EAX
0040a522 : MOV EAX,dword ptr [ECX]
0040a524 : CMP byte ptr [EAX + 0x51],0x0
0040a528 : JZ 0x0040a520
0040a52a : MOV dword ptr [EDX],ECX
0040a52c : MOV EAX,[0x0172106c]
0040a531 : CMP dword ptr [EAX + 0x8],EBX
0040a534 : JNZ 0x0040a5be
0040a53a : CMP byte ptr [EDI + 0x51],0x0
0040a53e : JZ 0x0040a54d
0040a540 : MOV ECX,dword ptr [0x0172106c]
0040a546 : MOV EAX,ESI
0040a548 : MOV dword ptr [ECX + 0x8],EAX
0040a54b : JMP 0x0040a5be
0040a54d : MOV EAX,EDI
0040a54f : CALL 0x0040baa0
0040a554 : MOV ECX,dword ptr [0x0172106c]
0040a55a : MOV dword ptr [ECX + 0x8],EAX
0040a55d : JMP 0x0040a5be
0040a55f : MOV dword ptr [ECX + 0x4],EAX
0040a562 : MOV ECX,dword ptr [EBX]
0040a564 : MOV dword ptr [EAX],ECX
0040a566 : CMP EAX,dword ptr [EBX + 0x8]
0040a569 : JNZ 0x0040a56f
0040a56b : MOV ESI,EAX
0040a56d : JMP 0x0040a588
0040a56f : CMP byte ptr [EDI + 0x51],0x0
0040a573 : MOV ESI,dword ptr [EAX + 0x4]
0040a576 : JNZ 0x0040a57b
0040a578 : MOV dword ptr [EDI + 0x4],ESI
0040a57b : MOV dword ptr [ESI],EDI
0040a57d : MOV ECX,dword ptr [EBX + 0x8]
0040a580 : MOV dword ptr [EDX],ECX
0040a582 : MOV EDX,dword ptr [EBX + 0x8]
0040a585 : MOV dword ptr [EDX + 0x4],EAX
0040a588 : MOV ECX,dword ptr [0x0172106c]
0040a58e : CMP dword ptr [ECX + 0x4],EBX
0040a591 : JNZ 0x0040a598
0040a593 : MOV dword ptr [ECX + 0x4],EAX
0040a596 : JMP 0x0040a5a6
0040a598 : MOV ECX,dword ptr [EBX + 0x4]
0040a59b : CMP dword ptr [ECX],EBX
0040a59d : JNZ 0x0040a5a3
0040a59f : MOV dword ptr [ECX],EAX
0040a5a1 : JMP 0x0040a5a6
0040a5a3 : MOV dword ptr [ECX + 0x8],EAX
0040a5a6 : MOV ECX,dword ptr [EBX + 0x4]
0040a5a9 : MOV dword ptr [EAX + 0x4],ECX
0040a5ac : LEA ECX,[EBX + 0x50]
0040a5af : ADD EAX,0x50
0040a5b2 : CMP EAX,ECX
0040a5b4 : JZ 0x0040a5be
0040a5b6 : MOV BL,byte ptr [ECX]
0040a5b8 : MOV DL,byte ptr [EAX]
0040a5ba : MOV byte ptr [EAX],BL
0040a5bc : MOV byte ptr [ECX],DL
0040a5be : MOV EDX,dword ptr [EBP + -0x10]
0040a5c1 : MOV EBX,0x1
0040a5c6 : CMP byte ptr [EDX + 0x50],BL
0040a5c9 : JNZ 0x0040a6c4
0040a5cf : MOV EAX,[0x0172106c]
0040a5d4 : CMP EDI,dword ptr [EAX + 0x4]
0040a5d7 : JZ 0x0040a6c1
0040a5dd : LEA ECX,[ECX]
0040a5e0 : CMP byte ptr [EDI + 0x50],BL
0040a5e3 : JNZ 0x0040a6c1
0040a5e9 : MOV ECX,dword ptr [ESI]
0040a5eb : CMP EDI,ECX
0040a5ed : JNZ 0x0040a64f
0040a5ef : MOV ECX,dword ptr [ESI + 0x8]
0040a5f2 : CMP byte ptr [ECX + 0x50],0x0
0040a5f6 : JNZ 0x0040a609
0040a5f8 : MOV byte ptr [ECX + 0x50],BL
0040a5fb : MOV ECX,ESI
0040a5fd : MOV byte ptr [ESI + 0x50],0x0
0040a601 : CALL 0x0040a760
0040a606 : MOV ECX,dword ptr [ESI + 0x8]
0040a609 : CMP byte ptr [ECX + 0x51],0x0
0040a60d : JNZ 0x0040a67e
0040a60f : MOV EDX,dword ptr [ECX]
0040a611 : CMP byte ptr [EDX + 0x50],BL
0040a614 : JNZ 0x0040a61e
0040a616 : MOV EAX,dword ptr [ECX + 0x8]
0040a619 : CMP byte ptr [EAX + 0x50],BL
0040a61c : JZ 0x0040a67a
0040a61e : MOV EDX,dword ptr [ECX + 0x8]
0040a621 : CMP byte ptr [EDX + 0x50],BL
0040a624 : JNZ 0x0040a637
0040a626 : MOV EAX,dword ptr [ECX]
0040a628 : MOV byte ptr [EAX + 0x50],BL
0040a62b : MOV byte ptr [ECX + 0x50],0x0
0040a62f : CALL 0x0040a7b0
0040a634 : MOV ECX,dword ptr [ESI + 0x8]
0040a637 : MOV DL,byte ptr [ESI + 0x50]
0040a63a : MOV byte ptr [ECX + 0x50],DL
0040a63d : MOV byte ptr [ESI + 0x50],BL
0040a640 : MOV EAX,dword ptr [ECX + 0x8]
0040a643 : MOV ECX,ESI
0040a645 : MOV byte ptr [EAX + 0x50],BL
0040a648 : CALL 0x0040a760
0040a64d : JMP 0x0040a6c1
0040a64f : CMP byte ptr [ECX + 0x50],0x0
0040a653 : JNZ 0x0040a665
0040a655 : MOV byte ptr [ECX + 0x50],BL
0040a658 : MOV ECX,ESI
0040a65a : MOV byte ptr [ESI + 0x50],0x0
0040a65e : CALL 0x0040a7b0
0040a663 : MOV ECX,dword ptr [ESI]
0040a665 : CMP byte ptr [ECX + 0x51],0x0
0040a669 : JNZ 0x0040a67e
0040a66b : MOV EDX,dword ptr [ECX + 0x8]
0040a66e : CMP byte ptr [EDX + 0x50],BL
0040a671 : JNZ 0x0040a694
0040a673 : MOV EAX,dword ptr [ECX]
0040a675 : CMP byte ptr [EAX + 0x50],BL
0040a678 : JNZ 0x0040a694
0040a67a : MOV byte ptr [ECX + 0x50],0x0
0040a67e : MOV ECX,dword ptr [0x0172106c]
0040a684 : MOV EDI,ESI
0040a686 : MOV ESI,dword ptr [ESI + 0x4]
0040a689 : CMP EDI,dword ptr [ECX + 0x4]
0040a68c : JNZ 0x0040a5e0
0040a692 : JMP 0x0040a6c1
0040a694 : MOV EDX,dword ptr [ECX]
0040a696 : CMP byte ptr [EDX + 0x50],BL
0040a699 : JNZ 0x0040a6ac
0040a69b : MOV EAX,dword ptr [ECX + 0x8]
0040a69e : MOV byte ptr [EAX + 0x50],BL
0040a6a1 : MOV byte ptr [ECX + 0x50],0x0
0040a6a5 : CALL 0x0040a760
0040a6aa : MOV ECX,dword ptr [ESI]
0040a6ac : MOV DL,byte ptr [ESI + 0x50]
0040a6af : MOV byte ptr [ECX + 0x50],DL
0040a6b2 : MOV byte ptr [ESI + 0x50],BL
0040a6b5 : MOV EAX,dword ptr [ECX]
0040a6b7 : MOV ECX,ESI
0040a6b9 : MOV byte ptr [EAX + 0x50],BL
0040a6bc : CALL 0x0040a7b0
0040a6c1 : MOV byte ptr [EDI + 0x50],BL
0040a6c4 : OR ECX,0xffffffff
0040a6c7 : MOV dword ptr [EBP + -0x4],ECX
0040a6ca : MOV EAX,dword ptr [EBP + -0x10]
0040a6cd : ADD EAX,0xc
0040a6d0 : MOV dword ptr [EBP + -0x14],EAX
0040a6d3 : MOV dword ptr [EBP + -0x4],ECX
0040a6d6 : ADD EAX,0x4
0040a6d9 : PUSH EAX
0040a6da : CALL 0x00406a00
0040a6df : MOV ECX,dword ptr [EBP + -0x10]
0040a6e2 : CALL 0x006f04e0
