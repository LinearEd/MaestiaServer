PROGRAM  : Maestia.exe
FUNCTION : FUN_00592af0
ENTRY    : 00592af0
BODY     : [[00592af0, 00592c3b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00592af0(char param_1)

{
  int iVar1;
  char cVar2;
  int *piVar3;
  undefined4 *puVar4;
  GRefCountNTSImpl *in_ECX;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined2 uStack_28;
  undefined1 uStack_26;
  undefined1 uStack_25;
  undefined1 uStack_24;
  undefined1 uStack_23;
  undefined1 auStack_20 [16];
  undefined4 auStack_10 [4];
  
  if (((byte)in_ECX[0x8c] & 0xc) != 0) {
    return;
  }
  if (*(int *)(in_ECX + 0x14) < -1) {
    return;
  }
  *(int *)(in_ECX + 4) = *(int *)(in_ECX + 4) + 1;
  if ((((param_1 != '\0') && (FUN_00592820(), *(int *)(in_ECX + 0xb8) != 1)) &&
      (piVar3 = (int *)(**(code **)(**(int **)(in_ECX + 0x9c) + 0x38))(), piVar3 != (int *)0x0)) &&
     (cVar2 = (**(code **)(*piVar3 + 4))
                        (*(undefined4 *)(in_ECX + 0xa0),*(undefined4 *)(in_ECX + 0xbc)),
     cVar2 == '\0')) {
    (**(code **)(**(int **)(in_ECX + 0x9c) + 0x3c))(0);
  }
  if (*(int *)(*(int *)(in_ECX + 0xa0) + 0x9d4) != 0) {
    FUN_0051f1f0();
  }
  if (param_1 == '\0') goto LAB_00592c2c;
  if (*(int *)(in_ECX + 0xb8) == 0) {
    iVar1 = *(int *)(in_ECX + 0xbc);
    FUN_0058ac30();
    if (*(int *)(in_ECX + 0xbc) == iVar1) {
      FUN_004ffe70(2);
      puVar4 = auStack_10;
      goto LAB_00592c11;
    }
    FUN_0058ad70(*(int *)(in_ECX + 0xbc));
    FUN_004ffe70(2);
    (**(code **)(*(int *)in_ECX + 0x6c))(auStack_20);
    FUN_0058c6c0(*(undefined4 *)(in_ECX + 0xbc));
  }
  else {
    uStack_28 = 0;
    uStack_30 = 2;
    uStack_2c = 0;
    uStack_26 = 0;
    uStack_25 = 0xff;
    uStack_24 = 0;
    uStack_23 = 0;
    puVar4 = &uStack_30;
LAB_00592c11:
    (**(code **)(*(int *)in_ECX + 0x6c))(puVar4);
  }
  if (*(int *)(in_ECX + 0xbc) == 0) {
    FUN_005ed4f0();
  }
LAB_00592c2c:
  GRefCountNTSImpl::Release(in_ECX);
  return;
}



============================================================
DISASSEMBLY
============================================================
00592af0 : SUB ESP,0x30
00592af3 : PUSH ESI
00592af4 : MOV ESI,ECX
00592af6 : TEST byte ptr [ESI + 0x8c],0xc
00592afd : JNZ 0x00592c35
00592b03 : CMP dword ptr [ESI + 0x14],-0x1
00592b07 : JL 0x00592c35
00592b0d : PUSH EBX
00592b0e : PUSH EDI
00592b0f : MOV EDI,0x1
00592b14 : ADD dword ptr [ESI + 0x4],EDI
00592b17 : XOR EBX,EBX
00592b19 : CMP byte ptr [ESP + 0x40],BL
00592b1d : JZ 0x00592b67
00592b1f : CALL 0x00592820
00592b24 : CMP dword ptr [ESI + 0xb8],EDI
00592b2a : JZ 0x00592b67
00592b2c : MOV ECX,dword ptr [ESI + 0x9c]
00592b32 : MOV EAX,dword ptr [ECX]
00592b34 : MOV EDX,dword ptr [EAX + 0x38]
00592b37 : CALL EDX
00592b39 : CMP EAX,EBX
00592b3b : JZ 0x00592b67
00592b3d : MOV ECX,dword ptr [ESI + 0xbc]
00592b43 : MOV EDX,dword ptr [EAX]
00592b45 : MOV EDX,dword ptr [EDX + 0x4]
00592b48 : PUSH ESI
00592b49 : PUSH ECX
00592b4a : MOV ECX,dword ptr [ESI + 0xa0]
00592b50 : PUSH ECX
00592b51 : MOV ECX,EAX
00592b53 : CALL EDX
00592b55 : TEST AL,AL
00592b57 : JNZ 0x00592b67
00592b59 : MOV ECX,dword ptr [ESI + 0x9c]
00592b5f : MOV EAX,dword ptr [ECX]
00592b61 : MOV EDX,dword ptr [EAX + 0x3c]
00592b64 : PUSH EBX
00592b65 : CALL EDX
00592b67 : MOV EAX,dword ptr [ESI + 0xa0]
00592b6d : CMP dword ptr [EAX + 0x9d4],EBX
00592b73 : JBE 0x00592b7c
00592b75 : MOV ECX,ESI
00592b77 : CALL 0x0051f1f0
00592b7c : CMP byte ptr [ESP + 0x40],BL
00592b80 : JZ 0x00592c2c
00592b86 : MOV ECX,ESI
00592b88 : CMP dword ptr [ESI + 0xb8],EBX
00592b8e : JNZ 0x00592be9
00592b90 : MOV EDI,dword ptr [ESI + 0xbc]
00592b96 : CALL 0x0058ac30
00592b9b : MOV EAX,dword ptr [ESI + 0xbc]
00592ba1 : CMP EAX,EDI
00592ba3 : JZ 0x00592bd6
00592ba5 : PUSH EAX
00592ba6 : MOV ECX,ESI
00592ba8 : CALL 0x0058ad70
00592bad : PUSH 0x2
00592baf : LEA ECX,[ESP + 0x20]
00592bb3 : CALL 0x004ffe70
00592bb8 : MOV EDX,dword ptr [ESI]
00592bba : MOV EDX,dword ptr [EDX + 0x6c]
00592bbd : LEA EAX,[ESP + 0x1c]
00592bc1 : PUSH EAX
00592bc2 : MOV ECX,ESI
00592bc4 : CALL EDX
00592bc6 : MOV EAX,dword ptr [ESI + 0xbc]
00592bcc : PUSH EAX
00592bcd : MOV ECX,ESI
00592bcf : CALL 0x0058c6c0
00592bd4 : JMP 0x00592c19
00592bd6 : PUSH 0x2
00592bd8 : LEA ECX,[ESP + 0x30]
00592bdc : CALL 0x004ffe70
00592be1 : LEA EAX,[ESP + 0x2c]
00592be5 : MOV ECX,ESI
00592be7 : JMP 0x00592c11
00592be9 : XOR EAX,EAX
00592beb : MOV word ptr [ESP + 0x14],AX
00592bf0 : MOV dword ptr [ESP + 0xc],0x2
00592bf8 : MOV dword ptr [ESP + 0x10],EBX
00592bfc : MOV byte ptr [ESP + 0x16],BL
00592c00 : MOV byte ptr [ESP + 0x17],0xff
00592c05 : MOV byte ptr [ESP + 0x18],BL
00592c09 : MOV byte ptr [ESP + 0x19],BL
00592c0d : LEA EAX,[ESP + 0xc]
00592c11 : MOV EDX,dword ptr [ESI]
00592c13 : MOV EDX,dword ptr [EDX + 0x6c]
00592c16 : PUSH EAX
00592c17 : CALL EDX
00592c19 : CMP dword ptr [ESI + 0xbc],EBX
00592c1f : JNZ 0x00592c2c
00592c21 : LEA ECX,[ESI + 0xa8]
00592c27 : CALL 0x005ed4f0
00592c2c : MOV ECX,ESI
00592c2e : CALL 0x004ff7c0
00592c33 : POP EDI
00592c34 : POP EBX
00592c35 : POP ESI
00592c36 : ADD ESP,0x30
00592c39 : RET 0x8
