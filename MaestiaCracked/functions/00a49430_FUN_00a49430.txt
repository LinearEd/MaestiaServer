PROGRAM  : Maestia.exe
FUNCTION : FUN_00a49430
ENTRY    : 00a49430
BODY     : [[00a49430, 00a495bf]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a49430(void)

{
  float fVar1;
  char cVar2;
  float *pfVar3;
  int unaff_ESI;
  float fVar4;
  float fVar5;
  float fVar6;
  float local_10;
  float local_c;
  float local_8;
  
  if (*(char *)(unaff_ESI + 0x261) == '\0') {
    return;
  }
  cVar2 = *(char *)(unaff_ESI + 0x262);
  if (cVar2 == '\0') {
    fVar4 = *(float *)(unaff_ESI + 0x228) - 0.01;
  }
  else {
    fVar4 = *(float *)(unaff_ESI + 0x228) + 0.01;
  }
  *(float *)(unaff_ESI + 0x228) = fVar4;
  fVar4 = 0.0;
  if (cVar2 == '\0') {
LAB_00a4949a:
    if (0.0 < *(float *)(unaff_ESI + 0x228)) goto LAB_00a494b1;
    *(undefined4 *)(unaff_ESI + 0x228) = 0;
  }
  else {
    if (*(float *)(unaff_ESI + 0x228) < 14.0) {
      if (cVar2 != '\0') goto LAB_00a494b1;
      goto LAB_00a4949a;
    }
    *(undefined4 *)(unaff_ESI + 0x228) = 0x41600000;
  }
  *(undefined1 *)(unaff_ESI + 0x261) = 0;
LAB_00a494b1:
  fVar5 = 0.0;
  fVar6 = 0.0;
  if ((*(int *)(unaff_ESI + 0x54) != 0) && (*(int *)(*(int *)(unaff_ESI + 0x54) + 0x18b4) != 0)) {
    pfVar3 = (float *)FUN_0087dca0(&local_10);
    fVar4 = *pfVar3;
    fVar5 = pfVar3[1];
    fVar6 = pfVar3[2];
  }
  fVar1 = *(float *)(unaff_ESI + 0x228);
  local_10 = *(float *)(unaff_ESI + 0x238) +
             fVar1 * (fVar4 - *(float *)(unaff_ESI + 0x238)) * 0.05882353;
  local_c = *(float *)(unaff_ESI + 0x23c) +
            (((float)(*(int *)(unaff_ESI + 0x1d0) + 1) * fVar1 * 0.014 +
             fVar1 * 0.05882353 * (fVar5 - *(float *)(unaff_ESI + 0x23c))) -
            (fVar1 / (float)(*(int *)(unaff_ESI + 0x1d0) + 10)) * 0.7);
  local_8 = *(float *)(unaff_ESI + 0x240) +
            fVar1 * (fVar6 - *(float *)(unaff_ESI + 0x240)) * 0.05882353;
  (**(code **)(**(int **)(unaff_ESI + 0x30) + 0xc))(&local_10);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a49430 : PUSH EBP
00a49431 : MOV EBP,ESP
00a49433 : XOR ECX,ECX
00a49435 : SUB ESP,0xc
00a49438 : CMP byte ptr [ESI + 0x261],CL
00a4943e : JZ 0x00a495bc
00a49444 : MOV AL,byte ptr [ESI + 0x262]
00a4944a : MOVSS XMM0,dword ptr [ESI + 0x228]
00a49452 : CMP AL,CL
00a49454 : JZ 0x00a49460
00a49456 : ADDSS XMM0,dword ptr [0x00cdf23c]
00a4945e : JMP 0x00a49468
00a49460 : SUBSS XMM0,dword ptr [0x00cdf23c]
00a49468 : MOVSS dword ptr [ESI + 0x228],XMM0
00a49470 : XORPS XMM0,XMM0
00a49473 : CMP AL,CL
00a49475 : JZ 0x00a4949a
00a49477 : MOVSS XMM2,dword ptr [ESI + 0x228]
00a4947f : MOVSS XMM1,dword ptr [0x00cdf348]
00a49487 : COMISS XMM2,XMM1
00a4948a : JC 0x00a49496
00a4948c : MOVSS dword ptr [ESI + 0x228],XMM1
00a49494 : JMP 0x00a494ab
00a49496 : CMP AL,CL
00a49498 : JNZ 0x00a494b1
00a4949a : COMISS XMM0,dword ptr [ESI + 0x228]
00a494a1 : JC 0x00a494b1
00a494a3 : MOVSS dword ptr [ESI + 0x228],XMM0
00a494ab : MOV byte ptr [ESI + 0x261],CL
00a494b1 : MOV EAX,dword ptr [ESI + 0x54]
00a494b4 : MOVAPS XMM1,XMM0
00a494b7 : MOVAPS XMM2,XMM0
00a494ba : CMP EAX,ECX
00a494bc : JZ 0x00a494e8
00a494be : CMP dword ptr [EAX + 0x18b4],ECX
00a494c4 : JZ 0x00a494e8
00a494c6 : MOV EAX,dword ptr [EAX + 0x18b4]
00a494cc : LEA ECX,[EBP + -0xc]
00a494cf : PUSH ECX
00a494d0 : MOV ECX,0x7
00a494d5 : CALL 0x0087dca0
00a494da : MOVSS XMM0,dword ptr [EAX]
00a494de : MOVSS XMM1,dword ptr [EAX + 0x4]
00a494e3 : MOVSS XMM2,dword ptr [EAX + 0x8]
00a494e8 : SUBSS XMM1,dword ptr [ESI + 0x23c]
00a494f0 : SUBSS XMM0,dword ptr [ESI + 0x238]
00a494f8 : MOV EAX,dword ptr [ESI + 0x1d0]
00a494fe : SUBSS XMM2,dword ptr [ESI + 0x240]
00a49506 : MOV ECX,dword ptr [ESI + 0x30]
00a49509 : MOVAPS XMM4,XMM1
00a4950c : MOVAPS XMM3,XMM0
00a4950f : MOVSS XMM0,dword ptr [ESI + 0x228]
00a49517 : LEA EDX,[EAX + 0x1]
00a4951a : MOVAPS XMM1,XMM0
00a4951d : MULSS XMM1,XMM3
00a49521 : MOVSS XMM3,dword ptr [0x00cdf388]
00a49529 : CVTSI2SS XMM5,EDX
00a4952d : MULSS XMM5,XMM0
00a49531 : MOVAPS XMM6,XMM0
00a49534 : MULSS XMM6,XMM3
00a49538 : MULSS XMM6,XMM4
00a4953c : CVTSS2SD XMM4,XMM6
00a49540 : CVTSS2SD XMM5,XMM5
00a49544 : MULSD XMM5,qword ptr [0x00cdf380]
00a4954c : ADDSD XMM5,XMM4
00a49550 : ADD EAX,0xa
00a49553 : CVTSI2SS XMM4,EAX
00a49557 : MOVAPS XMM6,XMM0
00a4955a : MULSS XMM1,XMM3
00a4955e : DIVSS XMM6,XMM4
00a49562 : MULSS XMM0,XMM2
00a49566 : MOVSS XMM2,dword ptr [ESI + 0x238]
00a4956e : CVTSS2SD XMM4,XMM6
00a49572 : MULSD XMM4,qword ptr [0x00cdf378]
00a4957a : ADDSS XMM2,XMM1
00a4957e : MOVSS XMM1,dword ptr [ESI + 0x23c]
00a49586 : MULSS XMM0,XMM3
00a4958a : MOVSS XMM3,dword ptr [ESI + 0x240]
00a49592 : SUBSD XMM5,XMM4
00a49596 : CVTSD2SS XMM4,XMM5
00a4959a : ADDSS XMM1,XMM4
00a4959e : ADDSS XMM3,XMM0
00a495a2 : MOVSS dword ptr [EBP + -0xc],XMM2
00a495a7 : MOVSS dword ptr [EBP + -0x8],XMM1
00a495ac : MOVSS dword ptr [EBP + -0x4],XMM3
00a495b1 : MOV EAX,dword ptr [ECX]
00a495b3 : MOV EAX,dword ptr [EAX + 0xc]
00a495b6 : LEA EDX,[EBP + -0xc]
00a495b9 : PUSH EDX
00a495ba : CALL EAX
00a495bc : MOV ESP,EBP
00a495be : POP EBP
00a495bf : RET
