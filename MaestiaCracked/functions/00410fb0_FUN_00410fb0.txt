PROGRAM  : Maestia.exe
FUNCTION : FUN_00410fb0
ENTRY    : 00410fb0
BODY     : [[00410fb0, 0041102c] [00411030, 00411066]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00410fb0(uint *param_1,void *param_2,uint param_3,int param_4)

{
  uint in_EAX;
  size_t in_ECX;
  uint uVar1;
  
  *param_1 = *param_1 + in_EAX;
  param_1[1] = param_1[1] + ((int)in_ECX >> 0x1d);
  if (*param_1 < in_EAX) {
    param_1[1] = param_1[1] + 1;
  }
  if (param_4 != 0) {
    if (0x40 < (int)(param_4 + in_ECX)) {
      in_ECX = 0x40 - param_4;
    }
    _memcpy((void *)(param_4 + 0x18 + (int)param_1),param_2,in_ECX);
    if ((int)(in_ECX + param_4) < 0x40) {
      return;
    }
    param_3 = param_3 - in_ECX;
    param_2 = (void *)((int)param_2 + in_ECX);
    FUN_00410890(param_1);
  }
  if (0x3f < (int)param_3) {
    uVar1 = param_3 >> 6;
    param_3 = param_3 + uVar1 * -0x40;
    do {
      FUN_00410890(param_1);
      param_2 = (void *)((int)param_2 + 0x40);
      uVar1 = uVar1 - 1;
    } while (uVar1 != 0);
  }
  if (param_3 != 0) {
    if (0x40 < (int)param_3) {
      param_3 = 0x40;
    }
    _memcpy(param_1 + 6,param_2,param_3);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00410fb0 : PUSH EBP
00410fb1 : MOV EBP,ESP
00410fb3 : PUSH EBX
00410fb4 : MOV EBX,dword ptr [EBP + 0xc]
00410fb7 : PUSH ESI
00410fb8 : MOV ESI,dword ptr [EBP + 0x8]
00410fbb : ADD dword ptr [ESI],EAX
00410fbd : PUSH EDI
00410fbe : MOV EDI,ECX
00410fc0 : SAR ECX,0x1d
00410fc3 : ADD dword ptr [ESI + 0x4],ECX
00410fc6 : MOV ECX,dword ptr [ESI + 0x4]
00410fc9 : CMP dword ptr [ESI],EAX
00410fcb : JNC 0x00410fd1
00410fcd : INC ECX
00410fce : MOV dword ptr [ESI + 0x4],ECX
00410fd1 : MOV EAX,dword ptr [EBP + 0x14]
00410fd4 : TEST EAX,EAX
00410fd6 : JZ 0x00411012
00410fd8 : LEA EDX,[EAX + EDI*0x1]
00410fdb : CMP EDX,0x40
00410fde : JLE 0x00410fe7
00410fe0 : MOV EDI,0x40
00410fe5 : SUB EDI,EAX
00410fe7 : PUSH EDI
00410fe8 : LEA EAX,[EAX + ESI*0x1 + 0x18]
00410fec : PUSH EBX
00410fed : PUSH EAX
00410fee : CALL 0x0063ae40
00410ff3 : MOV ECX,dword ptr [EBP + 0x14]
00410ff6 : LEA EDX,[EDI + ECX*0x1]
00410ff9 : ADD ESP,0xc
00410ffc : CMP EDX,0x40
00410fff : JL 0x00411062
00411001 : SUB dword ptr [EBP + 0x10],EDI
00411004 : LEA EAX,[ESI + 0x18]
00411007 : PUSH ESI
00411008 : ADD EBX,EDI
0041100a : CALL 0x00410890
0041100f : ADD ESP,0x4
00411012 : MOV EAX,dword ptr [EBP + 0x10]
00411015 : CMP EAX,0x40
00411018 : JL 0x00411046
0041101a : MOV EDI,EAX
0041101c : SHR EDI,0x6
0041101f : MOV ECX,EDI
00411021 : NEG ECX
00411023 : SHL ECX,0x6
00411026 : ADD EAX,ECX
00411028 : MOV dword ptr [EBP + 0x10],EAX
0041102b : JMP 0x00411030
00411030 : PUSH ESI
00411031 : MOV EAX,EBX
00411033 : CALL 0x00410890
00411038 : ADD ESP,0x4
0041103b : ADD EBX,0x40
0041103e : SUB EDI,0x1
00411041 : JNZ 0x00411030
00411043 : MOV EAX,dword ptr [EBP + 0x10]
00411046 : TEST EAX,EAX
00411048 : JZ 0x00411062
0041104a : CMP EAX,0x40
0041104d : JLE 0x00411054
0041104f : MOV EAX,0x40
00411054 : PUSH EAX
00411055 : PUSH EBX
00411056 : ADD ESI,0x18
00411059 : PUSH ESI
0041105a : CALL 0x0063ae40
0041105f : ADD ESP,0xc
00411062 : POP EDI
00411063 : POP ESI
00411064 : POP EBX
00411065 : POP EBP
00411066 : RET
