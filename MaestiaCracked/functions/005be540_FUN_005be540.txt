PROGRAM  : Maestia.exe
FUNCTION : FUN_005be540
ENTRY    : 005be540
BODY     : [[005be540, 005be5c2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005be540(undefined4 param_1,undefined4 param_2,undefined4 param_3,int param_4)

{
  int iVar1;
  
  if (param_4 == 0) {
    FUN_005be330(param_1,param_2,0x65,0,param_3,0,0);
  }
  else {
    iVar1 = *(int *)(param_4 + 0x80);
    if (iVar1 == 0) {
      iVar1 = FUN_00520df0();
    }
    param_4 = *(int *)(iVar1 + 0xc);
    *(int *)(param_4 + 8) = *(int *)(param_4 + 8) + 1;
    FUN_005be330(param_1,param_2,0x65,&param_4,param_3,0,0);
    *(int *)(param_4 + 8) = *(int *)(param_4 + 8) + -1;
    if (*(int *)(param_4 + 8) == 0) {
      FUN_00525340();
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005be540 : PUSH ESI
005be541 : MOV ESI,ECX
005be543 : MOV ECX,dword ptr [ESP + 0x14]
005be547 : TEST ECX,ECX
005be549 : JZ 0x005be5a0
005be54b : MOV EAX,dword ptr [ECX + 0x80]
005be551 : TEST EAX,EAX
005be553 : JNZ 0x005be55a
005be555 : CALL 0x00520df0
005be55a : MOV EAX,dword ptr [EAX + 0xc]
005be55d : MOV EDX,dword ptr [ESP + 0xc]
005be561 : PUSH 0x0
005be563 : MOV dword ptr [ESP + 0x18],EAX
005be567 : INC dword ptr [EAX + 0x8]
005be56a : MOV EAX,dword ptr [ESP + 0x14]
005be56e : PUSH 0x0
005be570 : PUSH EAX
005be571 : MOV EAX,dword ptr [ESP + 0x14]
005be575 : LEA ECX,[ESP + 0x20]
005be579 : PUSH ECX
005be57a : PUSH 0x65
005be57c : PUSH EDX
005be57d : PUSH EAX
005be57e : LEA ECX,[ESI + -0x34]
005be581 : CALL 0x005be330
005be586 : MOV EAX,dword ptr [ESP + 0x14]
005be58a : DEC dword ptr [EAX + 0x8]
005be58d : MOV ECX,EAX
005be58f : ADD EAX,0x8
005be592 : CMP dword ptr [EAX],0x0
005be595 : JNZ 0x005be5bf
005be597 : CALL 0x00525340
005be59c : POP ESI
005be59d : RET 0x10
005be5a0 : MOV ECX,dword ptr [ESP + 0x10]
005be5a4 : MOV EDX,dword ptr [ESP + 0xc]
005be5a8 : MOV EAX,dword ptr [ESP + 0x8]
005be5ac : PUSH 0x0
005be5ae : PUSH 0x0
005be5b0 : PUSH ECX
005be5b1 : PUSH 0x0
005be5b3 : PUSH 0x65
005be5b5 : PUSH EDX
005be5b6 : PUSH EAX
005be5b7 : LEA ECX,[ESI + -0x34]
005be5ba : CALL 0x005be330
005be5bf : POP ESI
005be5c0 : RET 0x10
