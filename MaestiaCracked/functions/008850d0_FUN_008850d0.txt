PROGRAM  : Maestia.exe
FUNCTION : FUN_008850d0
ENTRY    : 008850d0
BODY     : [[008850d0, 008851fd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008850d0(void)

{
  undefined2 uVar1;
  int iVar2;
  short sVar3;
  int *in_ECX;
  code *pcVar4;
  bool bVar5;
  int aiStack_24 [3];
  
  aiStack_24[2] = 0x8850e7;
  sVar3 = (**(code **)(*in_ECX + 0x1e4))();
  if (sVar3 == 0) {
    aiStack_24[2] = 0x8850f1;
    FUN_00483f90();
  }
  iVar2 = in_ECX[0x10f];
  if ((char)in_ECX[0x135] != '\0') {
    *(undefined2 *)(in_ECX + 0x10f) = 0;
  }
  bVar5 = (char)in_ECX[0x3c] == '\0';
  aiStack_24[2] = 0x3f800000;
  aiStack_24[1] = 1;
  aiStack_24[0] = 1;
  if (bVar5) {
    uVar1 = (undefined2)in_ECX[0x3a];
    pcVar4 = *(code **)(*in_ECX + 0x188);
  }
  else {
    uVar1 = (undefined2)in_ECX[0x3a];
    pcVar4 = *(code **)(*in_ECX + 0x188);
  }
  (*pcVar4)(uVar1,!bVar5,1);
  aiStack_24[0] = in_ECX[1];
  pcVar4 = *(code **)(*in_ECX + 0x254);
  *(undefined2 *)((int)in_ECX + 0x46a) = 0;
  (*pcVar4)(1,aiStack_24,1);
  pcVar4 = *(code **)(*in_ECX + 0x1e4);
  *(short *)(in_ECX + 0x10f) = (short)iVar2;
  sVar3 = (*pcVar4)();
  if (sVar3 != 0) {
    iVar2 = in_ECX[0x3a];
    if (iVar2 == 6) {
      FUN_0088e570(0x12e);
      in_ECX[0x180] = 0x12e;
      FUN_00483f90();
      return;
    }
    if (iVar2 == 0x20) {
      FUN_0088e570(0x132);
      in_ECX[0x180] = 0x132;
      FUN_00483f90();
      return;
    }
    if (iVar2 == 0x21) {
      FUN_0088e570(0x134);
      in_ECX[0x180] = 0x134;
    }
  }
  FUN_00483f90();
  return;
}



============================================================
DISASSEMBLY
============================================================
008850d0 : PUSH EBP
008850d1 : MOV EBP,ESP
008850d3 : AND ESP,0xfffffff8
008850d6 : SUB ESP,0x8
008850d9 : PUSH ESI
008850da : MOV ESI,ECX
008850dc : MOV EAX,dword ptr [ESI]
008850de : MOV EDX,dword ptr [EAX + 0x1e4]
008850e4 : PUSH EDI
008850e5 : CALL EDX
008850e7 : TEST AX,AX
008850ea : JNZ 0x008850f1
008850ec : CALL 0x00483f90
008850f1 : CMP byte ptr [ESI + 0x4d4],0x0
008850f8 : MOVZX EDI,word ptr [ESI + 0x43c]
008850ff : JZ 0x0088510a
00885101 : XOR EAX,EAX
00885103 : MOV word ptr [ESI + 0x43c],AX
0088510a : CMP byte ptr [ESI + 0xf0],0x0
00885111 : FLD1
00885113 : PUSH ECX
00885114 : FSTP float ptr [ESP]
00885117 : PUSH 0x1
00885119 : PUSH 0x1
0088511b : PUSH 0x1
0088511d : JZ 0x00885133
0088511f : MOVZX EAX,word ptr [ESI + 0xe8]
00885126 : MOV EDX,dword ptr [ESI]
00885128 : MOV EDX,dword ptr [EDX + 0x188]
0088512e : PUSH 0x1
00885130 : PUSH EAX
00885131 : JMP 0x00885145
00885133 : MOVZX ECX,word ptr [ESI + 0xe8]
0088513a : MOV EAX,dword ptr [ESI]
0088513c : MOV EDX,dword ptr [EAX + 0x188]
00885142 : PUSH 0x0
00885144 : PUSH ECX
00885145 : MOV ECX,ESI
00885147 : CALL EDX
00885149 : MOV ECX,dword ptr [ESI + 0x4]
0088514c : MOV EDX,dword ptr [ESI]
0088514e : MOV EDX,dword ptr [EDX + 0x254]
00885154 : XOR EAX,EAX
00885156 : MOV word ptr [ESI + 0x46a],AX
0088515d : PUSH 0x1
0088515f : LEA EAX,[ESP + 0x10]
00885163 : PUSH EAX
00885164 : MOV dword ptr [ESP + 0x14],ECX
00885168 : PUSH 0x1
0088516a : MOV ECX,ESI
0088516c : CALL EDX
0088516e : MOV EAX,dword ptr [ESI]
00885170 : MOV EDX,dword ptr [EAX + 0x1e4]
00885176 : MOV ECX,ESI
00885178 : MOV word ptr [ESI + 0x43c],DI
0088517f : CALL EDX
00885181 : TEST AX,AX
00885184 : JZ 0x008851f3
00885186 : MOV EAX,dword ptr [ESI + 0xe8]
0088518c : CMP EAX,0x6
0088518f : JNZ 0x008851b2
00885191 : PUSH 0x12e
00885196 : MOV ECX,ESI
00885198 : CALL 0x0088e570
0088519d : MOV dword ptr [ESI + 0x600],0x12e
008851a7 : CALL 0x00483f90
008851ac : POP EDI
008851ad : POP ESI
008851ae : MOV ESP,EBP
008851b0 : POP EBP
008851b1 : RET
008851b2 : CMP EAX,0x20
008851b5 : JNZ 0x008851d8
008851b7 : PUSH 0x132
008851bc : MOV ECX,ESI
008851be : CALL 0x0088e570
008851c3 : MOV dword ptr [ESI + 0x600],0x132
008851cd : CALL 0x00483f90
008851d2 : POP EDI
008851d3 : POP ESI
008851d4 : MOV ESP,EBP
008851d6 : POP EBP
008851d7 : RET
008851d8 : CMP EAX,0x21
008851db : JNZ 0x008851f3
008851dd : PUSH 0x134
008851e2 : MOV ECX,ESI
008851e4 : CALL 0x0088e570
008851e9 : MOV dword ptr [ESI + 0x600],0x134
008851f3 : CALL 0x00483f90
008851f8 : POP EDI
008851f9 : POP ESI
008851fa : MOV ESP,EBP
008851fc : POP EBP
008851fd : RET
