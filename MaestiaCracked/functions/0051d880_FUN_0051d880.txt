PROGRAM  : Maestia.exe
FUNCTION : FUN_0051d880
ENTRY    : 0051d880
BODY     : [[0051d880, 0051d93d]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_0051d880(undefined4 param_1,uint param_2,undefined4 param_3)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  int in_ECX;
  GRefCountNTSImpl *local_4c [19];
  
  iVar2 = FUN_0054ed10();
  if ((iVar2 != 0) && (param_2 < 0x7efffffe)) {
    FUN_0051d350(*(undefined4 *)(in_ECX + 0x10),param_2,1,in_ECX + 0x24,1,in_ECX + 0x44,
                 *(undefined4 *)(in_ECX + 0x1c),*(undefined2 *)(in_ECX + 100),0,0);
    uVar3 = FUN_00594270(local_4c,param_1,0,param_3,0xffffffff,1,0,in_ECX);
    if (uVar3 != 0) {
      bVar1 = *(byte *)(uVar3 + 0x66);
      if (local_4c[0] != (GRefCountNTSImpl *)0x0) {
        GRefCountNTSImpl::Release(local_4c[0]);
      }
      return -(uint)((bVar1 & 0x80) != 0) & uVar3;
    }
    if (local_4c[0] != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(local_4c[0]);
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0051d880 : SUB ESP,0x4c
0051d883 : PUSH ESI
0051d884 : MOV ESI,ECX
0051d886 : MOV EAX,dword ptr [ESI + 0x20]
0051d889 : PUSH EDI
0051d88a : LEA ECX,[EAX + 0x68]
0051d88d : CALL 0x0054ed10
0051d892 : MOV EDI,EAX
0051d894 : TEST EDI,EDI
0051d896 : JZ 0x0051d934
0051d89c : MOV ECX,dword ptr [ESP + 0x5c]
0051d8a0 : CMP ECX,0x7efffffd
0051d8a6 : JA 0x0051d934
0051d8ac : MOVZX EAX,word ptr [ESI + 0x64]
0051d8b0 : FLD float ptr [ESI + 0x1c]
0051d8b3 : PUSH 0x0
0051d8b5 : FSTP float ptr [ESP + 0x60]
0051d8b9 : FLD float ptr [ESP + 0x60]
0051d8bd : PUSH 0x0
0051d8bf : PUSH EAX
0051d8c0 : PUSH ECX
0051d8c1 : LEA EAX,[ESI + 0x44]
0051d8c4 : LEA EDX,[ESI + 0x24]
0051d8c7 : FSTP float ptr [ESP]
0051d8ca : PUSH EAX
0051d8cb : PUSH 0x1
0051d8cd : PUSH EDX
0051d8ce : PUSH 0x1
0051d8d0 : PUSH ECX
0051d8d1 : PUSH ECX
0051d8d2 : MOV ECX,dword ptr [ESI + 0x10]
0051d8d5 : MOV EAX,ESP
0051d8d7 : MOV dword ptr [EAX],ECX
0051d8d9 : LEA ECX,[ESP + 0x30]
0051d8dd : CALL 0x0051d350
0051d8e2 : MOV EDX,dword ptr [ESP + 0x60]
0051d8e6 : MOV EAX,dword ptr [ESP + 0x58]
0051d8ea : PUSH ESI
0051d8eb : PUSH 0x0
0051d8ed : PUSH 0x1
0051d8ef : PUSH -0x1
0051d8f1 : PUSH EDX
0051d8f2 : PUSH 0x0
0051d8f4 : PUSH EAX
0051d8f5 : LEA ECX,[ESP + 0x24]
0051d8f9 : PUSH ECX
0051d8fa : MOV ECX,EDI
0051d8fc : CALL 0x00594270
0051d901 : MOV ECX,dword ptr [ESP + 0x8]
0051d905 : TEST EAX,EAX
0051d907 : JZ 0x0051d92b
0051d909 : MOV DL,byte ptr [EAX + 0x66]
0051d90c : AND DL,0x80
0051d90f : MOVZX ESI,DL
0051d912 : NEG ESI
0051d914 : SBB ESI,ESI
0051d916 : AND ESI,EAX
0051d918 : TEST ECX,ECX
0051d91a : JZ 0x0051d921
0051d91c : CALL 0x004ff7c0
0051d921 : MOV EAX,ESI
0051d923 : POP EDI
0051d924 : POP ESI
0051d925 : ADD ESP,0x4c
0051d928 : RET 0xc
0051d92b : TEST ECX,ECX
0051d92d : JZ 0x0051d934
0051d92f : CALL 0x004ff7c0
0051d934 : POP EDI
0051d935 : XOR EAX,EAX
0051d937 : POP ESI
0051d938 : ADD ESP,0x4c
0051d93b : RET 0xc
