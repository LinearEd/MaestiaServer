PROGRAM  : Maestia.exe
FUNCTION : FUN_008fd9d0
ENTRY    : 008fd9d0
BODY     : [[008fd9d0, 008fdae9]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008fd9d0(void)

{
  char cVar1;
  char cVar2;
  uint uVar3;
  int iVar4;
  int *piVar5;
  undefined4 uVar6;
  int iVar7;
  int unaff_ESI;
  char local_10c [260];
  uint local_8;
  
  local_8 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  if (*(int *)(unaff_ESI + 0x48) != 0) {
    uVar3 = *(uint *)(unaff_ESI + 0x3e);
    __snprintf(local_10c,0x100,"%02d:%02d:%02d (%.f%%)",uVar3 / 0xe10,
               (int)(((ulonglong)uVar3 / 0x3c) % 0x3c),uVar3 % 0x3c,
               (double)((float)*(ushort *)(unaff_ESI + 0x42) * 0.01));
    iVar4 = *(int *)(DAT_0172491c + 0x17c);
    cVar1 = *(char *)(iVar4 + 0x7c);
    cVar2 = *(char *)(iVar4 + 0x16d8);
    uVar6 = FUN_008fd6d0();
    if ((*DAT_00da9894 != 0) && (piVar5 = *(int **)(*DAT_00da9894 + 0x114), piVar5 != (int *)0x0)) {
      if (*(uint *)(iVar4 + 0x24) < 8) {
        iVar7 = iVar4 + 0x10;
      }
      else {
        iVar7 = *(int *)(iVar4 + 0x10);
      }
      (**(code **)(*piVar5 + 4))
                (piVar5,"mc_timeattacksuccess.AddRank","%d,%d,%ls,%d,%d,%s,%d",4,
                 *(undefined4 *)(unaff_ESI + 0x48),iVar7,*(undefined4 *)(iVar4 + 0xa0),
                 (cVar1 + -1) * '\x04' + cVar2,local_10c,uVar6);
    }
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
008fd9d0 : PUSH EBP
008fd9d1 : MOV EBP,ESP
008fd9d3 : SUB ESP,0x110
008fd9d9 : MOV EAX,[0x00d66fa0]
008fd9de : XOR EAX,EBP
008fd9e0 : MOV dword ptr [EBP + -0x4],EAX
008fd9e3 : CMP dword ptr [ESI + 0x48],0x0
008fd9e7 : PUSH EBX
008fd9e8 : PUSH EDI
008fd9e9 : JBE 0x008fdada
008fd9ef : MOV ECX,dword ptr [ESI + 0x3e]
008fd9f2 : XOR EDX,EDX
008fd9f4 : MOV EAX,ECX
008fd9f6 : MOV EDI,0x3c
008fd9fb : DIV EDI
008fd9fd : MOVZX EDI,word ptr [ESI + 0x42]
008fda01 : SUB ESP,0x8
008fda04 : CVTSI2SS XMM0,EDI
008fda08 : MULSS XMM0,dword ptr [0x00cdf23c]
008fda10 : CVTSS2SD XMM0,XMM0
008fda14 : MOVSD qword ptr [ESP],XMM0
008fda19 : MOV EDI,0x3c
008fda1e : PUSH EDX
008fda1f : XOR EDX,EDX
008fda21 : DIV EDI
008fda23 : MOV EAX,0x91a2b3c5
008fda28 : PUSH EDX
008fda29 : MUL ECX
008fda2b : SHR EDX,0xb
008fda2e : PUSH EDX
008fda2f : PUSH 0xc629a4
008fda34 : LEA EAX,[EBP + 0xfffffef8]
008fda3a : PUSH 0x100
008fda3f : PUSH EAX
008fda40 : CALL 0x00638607
008fda45 : MOV ECX,dword ptr [0x0172491c]
008fda4b : MOV EAX,dword ptr [ECX + 0x17c]
008fda51 : MOV BL,byte ptr [EAX + 0x7c]
008fda54 : MOV EDI,dword ptr [ESI + 0x3e]
008fda57 : MOV DX,word ptr [ESI + 0x3c]
008fda5b : DEC BL
008fda5d : ADD BL,BL
008fda5f : ADD BL,BL
008fda61 : ADD BL,byte ptr [EAX + 0x16d8]
008fda67 : ADD ESP,0x20
008fda6a : MOV dword ptr [EBP + 0xfffffef4],EAX
008fda70 : CALL 0x008fd6d0
008fda75 : MOV EDX,dword ptr [0x00da9894]
008fda7b : MOV ECX,dword ptr [EDX]
008fda7d : TEST ECX,ECX
008fda7f : JZ 0x008fdada
008fda81 : MOV ECX,dword ptr [ECX + 0x114]
008fda87 : TEST ECX,ECX
008fda89 : JZ 0x008fdada
008fda8b : MOV EDX,dword ptr [EBP + 0xfffffef4]
008fda91 : CMP dword ptr [EDX + 0x24],0x8
008fda95 : MOV EDI,dword ptr [EDX + 0xa0]
008fda9b : MOV dword ptr [EBP + 0xfffffef4],EDI
008fdaa1 : JC 0x008fdaa8
008fdaa3 : MOV EDX,dword ptr [EDX + 0x10]
008fdaa6 : JMP 0x008fdaab
008fdaa8 : ADD EDX,0x10
008fdaab : PUSH EAX
008fdaac : MOV EDI,dword ptr [ECX]
008fdaae : LEA EAX,[EBP + 0xfffffef8]
008fdab4 : PUSH EAX
008fdab5 : MOVZX EAX,BL
008fdab8 : PUSH EAX
008fdab9 : MOV EAX,dword ptr [EBP + 0xfffffef4]
008fdabf : PUSH EAX
008fdac0 : MOV EAX,dword ptr [EDI + 0x4]
008fdac3 : PUSH EDX
008fdac4 : MOV EDX,dword ptr [ESI + 0x48]
008fdac7 : PUSH EDX
008fdac8 : PUSH 0x4
008fdaca : PUSH 0xc629bc
008fdacf : PUSH 0xc629d4
008fdad4 : PUSH ECX
008fdad5 : CALL EAX
008fdad7 : ADD ESP,0x28
008fdada : MOV ECX,dword ptr [EBP + -0x4]
008fdadd : POP EDI
008fdade : XOR ECX,EBP
008fdae0 : POP EBX
008fdae1 : CALL 0x00633e6b
008fdae6 : MOV ESP,EBP
008fdae8 : POP EBP
008fdae9 : RET
