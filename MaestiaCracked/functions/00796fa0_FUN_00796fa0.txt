PROGRAM  : Maestia.exe
FUNCTION : FUN_00796fa0
ENTRY    : 00796fa0
BODY     : [[00796fa0, 00797031]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00796fa0(char param_1)

{
  int iVar1;
  code *pcVar2;
  int iVar3;
  int iVar4;
  int unaff_EDI;
  
  *(char *)(unaff_EDI + 0x2d4) = param_1;
  iVar3 = 0;
  iVar4 = *(int *)(unaff_EDI + 0x300) - *(int *)(unaff_EDI + 0x2fc) >> 2;
  if (0 < iVar4) {
    do {
      if (*(int *)(*(int *)(unaff_EDI + 0x2fc) + iVar3 * 4) != 0) {
        iVar1 = **(int **)(*(int *)(unaff_EDI + 0x2fc) + iVar3 * 4);
        if (param_1 == '\0') {
          pcVar2 = *(code **)(iVar1 + 0x24);
        }
        else {
          pcVar2 = *(code **)(iVar1 + 0x20);
        }
        (*pcVar2)();
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < iVar4);
  }
  iVar3 = 0;
  iVar4 = *(int *)(unaff_EDI + 0x310) - *(int *)(unaff_EDI + 0x30c) >> 2;
  if (0 < iVar4) {
    do {
      if (*(int *)(*(int *)(unaff_EDI + 0x30c) + iVar3 * 4) != 0) {
        iVar1 = **(int **)(*(int *)(unaff_EDI + 0x30c) + iVar3 * 4);
        if (param_1 == '\0') {
          pcVar2 = *(code **)(iVar1 + 0x24);
        }
        else {
          pcVar2 = *(code **)(iVar1 + 0x20);
        }
        (*pcVar2)();
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < iVar4);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00796fa0 : PUSH EBP
00796fa1 : MOV EBP,ESP
00796fa3 : MOV AL,byte ptr [EBP + 0x8]
00796fa6 : PUSH EBX
00796fa7 : PUSH ESI
00796fa8 : MOV byte ptr [EDI + 0x2d4],AL
00796fae : MOV ESI,dword ptr [EDI + 0x300]
00796fb4 : SUB ESI,dword ptr [EDI + 0x2fc]
00796fba : XOR EBX,EBX
00796fbc : SAR ESI,0x2
00796fbf : TEST ESI,ESI
00796fc1 : JLE 0x00796fed
00796fc3 : MOV ECX,dword ptr [EDI + 0x2fc]
00796fc9 : CMP dword ptr [ECX + EBX*0x4],0x0
00796fcd : LEA EAX,[ECX + EBX*0x4]
00796fd0 : JZ 0x00796fe8
00796fd2 : CMP byte ptr [EBP + 0x8],0x0
00796fd6 : MOV EAX,dword ptr [EAX]
00796fd8 : MOV EDX,dword ptr [EAX]
00796fda : MOV ECX,EAX
00796fdc : JZ 0x00796fe3
00796fde : MOV EAX,dword ptr [EDX + 0x20]
00796fe1 : JMP 0x00796fe6
00796fe3 : MOV EAX,dword ptr [EDX + 0x24]
00796fe6 : CALL EAX
00796fe8 : INC EBX
00796fe9 : CMP EBX,ESI
00796feb : JL 0x00796fc3
00796fed : MOV ESI,dword ptr [EDI + 0x310]
00796ff3 : SUB ESI,dword ptr [EDI + 0x30c]
00796ff9 : XOR EBX,EBX
00796ffb : SAR ESI,0x2
00796ffe : TEST ESI,ESI
00797000 : JLE 0x0079702c
00797002 : MOV ECX,dword ptr [EDI + 0x30c]
00797008 : CMP dword ptr [ECX + EBX*0x4],0x0
0079700c : LEA EAX,[ECX + EBX*0x4]
0079700f : JZ 0x00797027
00797011 : CMP byte ptr [EBP + 0x8],0x0
00797015 : MOV EAX,dword ptr [EAX]
00797017 : MOV EDX,dword ptr [EAX]
00797019 : MOV ECX,EAX
0079701b : JZ 0x00797022
0079701d : MOV EAX,dword ptr [EDX + 0x20]
00797020 : JMP 0x00797025
00797022 : MOV EAX,dword ptr [EDX + 0x24]
00797025 : CALL EAX
00797027 : INC EBX
00797028 : CMP EBX,ESI
0079702a : JL 0x00797002
0079702c : POP ESI
0079702d : POP EBX
0079702e : POP EBP
0079702f : RET 0x4
