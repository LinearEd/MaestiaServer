PROGRAM  : Maestia.exe
FUNCTION : FUN_007fe700
ENTRY    : 007fe700
BODY     : [[007fe700, 007fea12] [007fea1c, 007fea2c]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_007fe700(void)

{
  int iVar1;
  int iVar2;
  int unaff_ESI;
  undefined4 uStack_28;
  undefined1 local_24 [12];
  undefined4 local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b375e8;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x20))
            (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),local_24,
             DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  uStack_28 = 0x16;
  if (*(char *)(unaff_ESI + 0x16c) == '\0') {
    uStack_28 = (undefined4)
                ((ulonglong)*(undefined8 *)(*(int *)(unaff_ESI + 0x174) + 0x460) >> 0x20);
  }
  iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x28))
                    (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                     *(undefined4 *)(unaff_ESI + 0x24),local_18,0x80000,3,uStack_28);
  if (((-1 < iVar1) && (0xffff02ff < *(uint *)(unaff_ESI + 0xf0))) &&
     (iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x28))
                        (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                         *(undefined4 *)(unaff_ESI + 0x24),local_18,0x80001,3,0x71), -1 < iVar1)) {
    iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x28))
                      (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                       *(undefined4 *)(unaff_ESI + 0x24),local_18,1,3,0x72);
    if ((iVar1 < 0) &&
       (iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x28))
                          (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                           *(undefined4 *)(unaff_ESI + 0x24),local_18,1,3,0x6f), iVar1 < 0)) {
      ExceptionList = local_10;
      return;
    }
    iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x28))
                      (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                       *(undefined4 *)(unaff_ESI + 0x24),local_18,0x80001,1,uStack_28);
    if (-1 < iVar1) {
      *(undefined1 *)(unaff_ESI + 0x235) = 1;
      iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x28))
                        (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                         *(undefined4 *)(unaff_ESI + 0x24),local_18,1,3,0x6f);
      *(undefined1 *)(unaff_ESI + 0x23c) = 0;
      local_14 = 0;
      *(uint *)(unaff_ESI + 0x238) = ((-1 < iVar1) - 1 & 3) + 0x6f;
      local_8 = 0;
      FUN_0044ed10();
      _DAT_00000000 = 0xffffffff;
      iVar1 = 1;
      do {
        iVar2 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x2c))
                          (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                           *(undefined4 *)(unaff_ESI + 0x24),0x71,0,iVar1,&local_14);
        if (iVar2 < 0) {
          *(undefined4 *)(iVar1 * 4) = 0xffffffff;
        }
        else {
          *(int *)(iVar1 * 4) = local_14 + -1;
        }
        iVar1 = iVar1 + 1;
      } while (iVar1 < 0x11);
      if (iRam00000010 < 0) {
        if (_DAT_00000008 < 0) {
          iVar1 = 0;
        }
        else {
          *(undefined1 *)(unaff_ESI + 0x23c) = 1;
          iVar1 = 2;
        }
      }
      else {
        *(undefined1 *)(unaff_ESI + 0x23c) = 1;
        iVar1 = 4;
      }
      if (*(int *)(unaff_ESI + 0x240) < iVar1) {
        iVar1 = *(int *)(unaff_ESI + 0x240);
      }
      *(int *)(unaff_ESI + 0x240) = iVar1;
      *(undefined4 *)(unaff_ESI + 0x244) = 0;
      *(undefined1 *)(unaff_ESI + 0x24c) = 0;
      iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x28))
                        (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                         *(undefined4 *)(unaff_ESI + 0x24),local_18,2,1,0x50);
      if ((-1 < iVar1) &&
         (iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x30))
                            (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                             *(undefined4 *)(unaff_ESI + 0x24),local_18,0x71,0x50), -1 < iVar1)) {
        *(undefined1 *)(unaff_ESI + 0x24c) = 1;
      }
      *(undefined1 *)(unaff_ESI + 0x24d) = 0;
      iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x28))
                        (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                         *(undefined4 *)(unaff_ESI + 0x24),local_18,2,1,0x47);
      if ((-1 < iVar1) &&
         (iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x30))
                            (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                             *(undefined4 *)(unaff_ESI + 0x24),local_18,0x71,0x47), -1 < iVar1)) {
        *(undefined1 *)(unaff_ESI + 0x24d) = 1;
      }
      *(undefined1 *)(unaff_ESI + 0x24e) = 0;
      iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x28))
                        (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                         *(undefined4 *)(unaff_ESI + 0x24),local_18,2,1,0x4d);
      if ((-1 < iVar1) &&
         (iVar1 = (**(code **)(**(int **)(unaff_ESI + 0x14) + 0x30))
                            (*(int **)(unaff_ESI + 0x14),*(undefined4 *)(unaff_ESI + 0x28),
                             *(undefined4 *)(unaff_ESI + 0x24),local_18,0x71,0x4d), -1 < iVar1)) {
        *(undefined1 *)(unaff_ESI + 0x24e) = 1;
      }
      local_8 = 0xffffffff;
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007fe700 : PUSH EBP
007fe701 : MOV EBP,ESP
007fe703 : PUSH -0x1
007fe705 : PUSH 0xb375e8
007fe70a : MOV EAX,FS:[0x0]
007fe710 : PUSH EAX
007fe711 : SUB ESP,0x28
007fe714 : PUSH EBX
007fe715 : PUSH EDI
007fe716 : MOV EAX,[0x00d66fa0]
007fe71b : XOR EAX,EBP
007fe71d : PUSH EAX
007fe71e : LEA EAX,[EBP + -0xc]
007fe721 : MOV FS:[0x0],EAX
007fe727 : MOV EAX,dword ptr [ESI + 0x14]
007fe72a : MOV ECX,dword ptr [EAX]
007fe72c : LEA EDX,[EBP + -0x20]
007fe72f : PUSH EDX
007fe730 : MOV EDX,dword ptr [ESI + 0x28]
007fe733 : PUSH EDX
007fe734 : PUSH EAX
007fe735 : MOV EAX,dword ptr [ECX + 0x20]
007fe738 : CALL EAX
007fe73a : XOR EBX,EBX
007fe73c : MOV EDI,0x16
007fe741 : CMP byte ptr [ESI + 0x16c],BL
007fe747 : JNZ 0x007fe76c
007fe749 : MOV EAX,dword ptr [ESI + 0x174]
007fe74f : MOVQ XMM0,qword ptr [EAX + 0x458]
007fe757 : MOVQ qword ptr [EBP + -0x30],XMM0
007fe75c : MOVQ XMM0,qword ptr [EAX + 0x460]
007fe764 : MOVQ qword ptr [EBP + -0x28],XMM0
007fe769 : MOV EDI,dword ptr [EBP + -0x24]
007fe76c : MOV EDX,dword ptr [EBP + -0x14]
007fe76f : MOV EAX,dword ptr [ESI + 0x14]
007fe772 : MOV ECX,dword ptr [EAX]
007fe774 : PUSH EDI
007fe775 : PUSH 0x3
007fe777 : PUSH 0x80000
007fe77c : PUSH EDX
007fe77d : MOV EDX,dword ptr [ESI + 0x24]
007fe780 : PUSH EDX
007fe781 : MOV EDX,dword ptr [ESI + 0x28]
007fe784 : PUSH EDX
007fe785 : PUSH EAX
007fe786 : MOV EAX,dword ptr [ECX + 0x28]
007fe789 : CALL EAX
007fe78b : TEST EAX,EAX
007fe78d : JL 0x007fea1c
007fe793 : CMP dword ptr [ESI + 0xf0],0xffff0300
007fe79d : JC 0x007fea1c
007fe7a3 : MOV EDX,dword ptr [EBP + -0x14]
007fe7a6 : MOV EAX,dword ptr [ESI + 0x14]
007fe7a9 : MOV ECX,dword ptr [EAX]
007fe7ab : PUSH 0x71
007fe7ad : PUSH 0x3
007fe7af : PUSH 0x80001
007fe7b4 : PUSH EDX
007fe7b5 : MOV EDX,dword ptr [ESI + 0x24]
007fe7b8 : PUSH EDX
007fe7b9 : MOV EDX,dword ptr [ESI + 0x28]
007fe7bc : PUSH EDX
007fe7bd : PUSH EAX
007fe7be : MOV EAX,dword ptr [ECX + 0x28]
007fe7c1 : CALL EAX
007fe7c3 : TEST EAX,EAX
007fe7c5 : JL 0x007fea1c
007fe7cb : MOV EDX,dword ptr [EBP + -0x14]
007fe7ce : MOV EAX,dword ptr [ESI + 0x14]
007fe7d1 : MOV ECX,dword ptr [EAX]
007fe7d3 : PUSH 0x72
007fe7d5 : PUSH 0x3
007fe7d7 : PUSH 0x1
007fe7d9 : PUSH EDX
007fe7da : MOV EDX,dword ptr [ESI + 0x24]
007fe7dd : PUSH EDX
007fe7de : MOV EDX,dword ptr [ESI + 0x28]
007fe7e1 : PUSH EDX
007fe7e2 : PUSH EAX
007fe7e3 : MOV EAX,dword ptr [ECX + 0x28]
007fe7e6 : CALL EAX
007fe7e8 : TEST EAX,EAX
007fe7ea : JGE 0x007fe811
007fe7ec : MOV EDX,dword ptr [EBP + -0x14]
007fe7ef : MOV EAX,dword ptr [ESI + 0x14]
007fe7f2 : MOV ECX,dword ptr [EAX]
007fe7f4 : PUSH 0x6f
007fe7f6 : PUSH 0x3
007fe7f8 : PUSH 0x1
007fe7fa : PUSH EDX
007fe7fb : MOV EDX,dword ptr [ESI + 0x24]
007fe7fe : PUSH EDX
007fe7ff : MOV EDX,dword ptr [ESI + 0x28]
007fe802 : PUSH EDX
007fe803 : PUSH EAX
007fe804 : MOV EAX,dword ptr [ECX + 0x28]
007fe807 : CALL EAX
007fe809 : TEST EAX,EAX
007fe80b : JL 0x007fea1c
007fe811 : MOV EDX,dword ptr [EBP + -0x14]
007fe814 : MOV EAX,dword ptr [ESI + 0x14]
007fe817 : MOV ECX,dword ptr [EAX]
007fe819 : PUSH EDI
007fe81a : PUSH 0x1
007fe81c : PUSH 0x80001
007fe821 : PUSH EDX
007fe822 : MOV EDX,dword ptr [ESI + 0x24]
007fe825 : PUSH EDX
007fe826 : MOV EDX,dword ptr [ESI + 0x28]
007fe829 : PUSH EDX
007fe82a : PUSH EAX
007fe82b : MOV EAX,dword ptr [ECX + 0x28]
007fe82e : CALL EAX
007fe830 : TEST EAX,EAX
007fe832 : JL 0x007fea1c
007fe838 : MOV EDX,dword ptr [EBP + -0x14]
007fe83b : MOV EAX,dword ptr [ESI + 0x14]
007fe83e : PUSH 0x6f
007fe840 : PUSH 0x3
007fe842 : PUSH 0x1
007fe844 : PUSH EDX
007fe845 : MOV EDX,dword ptr [ESI + 0x24]
007fe848 : PUSH EDX
007fe849 : MOV EDX,dword ptr [ESI + 0x28]
007fe84c : MOV byte ptr [ESI + 0x235],0x1
007fe853 : MOV ECX,dword ptr [EAX]
007fe855 : PUSH EDX
007fe856 : PUSH EAX
007fe857 : MOV EAX,dword ptr [ECX + 0x28]
007fe85a : CALL EAX
007fe85c : XOR ECX,ECX
007fe85e : TEST EAX,EAX
007fe860 : SETGE CL
007fe863 : MOV byte ptr [ESI + 0x23c],BL
007fe869 : MOV dword ptr [EBP + -0x10],EBX
007fe86c : MOV dword ptr [EBP + -0x2c],EBX
007fe86f : MOV dword ptr [EBP + -0x28],EBX
007fe872 : MOV dword ptr [EBP + -0x24],EBX
007fe875 : DEC ECX
007fe876 : AND ECX,0x3
007fe879 : ADD ECX,0x6f
007fe87c : MOV dword ptr [ESI + 0x238],ECX
007fe882 : MOV dword ptr [EBP + -0x4],EBX
007fe885 : MOV ECX,0x11
007fe88a : LEA EDX,[EBP + -0x30]
007fe88d : CALL 0x0044ed10
007fe892 : MOV EDX,dword ptr [EBP + -0x2c]
007fe895 : MOV dword ptr [EDX],0xffffffff
007fe89b : MOV EDI,0x1
007fe8a0 : MOV EAX,dword ptr [ESI + 0x14]
007fe8a3 : MOV ECX,dword ptr [EAX]
007fe8a5 : LEA EDX,[EBP + -0x10]
007fe8a8 : PUSH EDX
007fe8a9 : MOV EDX,dword ptr [ESI + 0x24]
007fe8ac : PUSH EDI
007fe8ad : PUSH EBX
007fe8ae : PUSH 0x71
007fe8b0 : PUSH EDX
007fe8b1 : MOV EDX,dword ptr [ESI + 0x28]
007fe8b4 : PUSH EDX
007fe8b5 : PUSH EAX
007fe8b6 : MOV EAX,dword ptr [ECX + 0x2c]
007fe8b9 : CALL EAX
007fe8bb : TEST EAX,EAX
007fe8bd : JL 0x007fe8cb
007fe8bf : MOV ECX,dword ptr [EBP + -0x10]
007fe8c2 : MOV EDX,dword ptr [EBP + -0x2c]
007fe8c5 : DEC ECX
007fe8c6 : MOV dword ptr [EDX + EDI*0x4],ECX
007fe8c9 : JMP 0x007fe8d5
007fe8cb : MOV EAX,dword ptr [EBP + -0x2c]
007fe8ce : MOV dword ptr [EAX + EDI*0x4],0xffffffff
007fe8d5 : INC EDI
007fe8d6 : CMP EDI,0x10
007fe8d9 : JLE 0x007fe8a0
007fe8db : MOV EDI,dword ptr [EBP + -0x2c]
007fe8de : CMP dword ptr [EDI + 0x10],EBX
007fe8e1 : JL 0x007fe8f1
007fe8e3 : MOV byte ptr [ESI + 0x23c],0x1
007fe8ea : MOV EAX,0x4
007fe8ef : JMP 0x007fe906
007fe8f1 : CMP dword ptr [EDI + 0x8],EBX
007fe8f4 : JL 0x007fe904
007fe8f6 : MOV byte ptr [ESI + 0x23c],0x1
007fe8fd : MOV EAX,0x2
007fe902 : JMP 0x007fe906
007fe904 : XOR EAX,EAX
007fe906 : MOV ECX,dword ptr [ESI + 0x240]
007fe90c : CMP ECX,EAX
007fe90e : JGE 0x007fe912
007fe910 : MOV EAX,ECX
007fe912 : MOV EDX,dword ptr [EBP + -0x14]
007fe915 : PUSH 0x50
007fe917 : PUSH 0x1
007fe919 : PUSH 0x2
007fe91b : PUSH EDX
007fe91c : MOV EDX,dword ptr [ESI + 0x24]
007fe91f : PUSH EDX
007fe920 : MOV EDX,dword ptr [ESI + 0x28]
007fe923 : MOV dword ptr [ESI + 0x240],EAX
007fe929 : MOV EAX,dword ptr [ESI + 0x14]
007fe92c : MOV dword ptr [ESI + 0x244],EBX
007fe932 : MOV byte ptr [ESI + 0x24c],BL
007fe938 : MOV ECX,dword ptr [EAX]
007fe93a : PUSH EDX
007fe93b : PUSH EAX
007fe93c : MOV EAX,dword ptr [ECX + 0x28]
007fe93f : CALL EAX
007fe941 : TEST EAX,EAX
007fe943 : JL 0x007fe96b
007fe945 : MOV EDX,dword ptr [EBP + -0x14]
007fe948 : MOV EAX,dword ptr [ESI + 0x14]
007fe94b : MOV ECX,dword ptr [EAX]
007fe94d : PUSH 0x50
007fe94f : PUSH 0x71
007fe951 : PUSH EDX
007fe952 : MOV EDX,dword ptr [ESI + 0x24]
007fe955 : PUSH EDX
007fe956 : MOV EDX,dword ptr [ESI + 0x28]
007fe959 : PUSH EDX
007fe95a : PUSH EAX
007fe95b : MOV EAX,dword ptr [ECX + 0x30]
007fe95e : CALL EAX
007fe960 : TEST EAX,EAX
007fe962 : JL 0x007fe96b
007fe964 : MOV byte ptr [ESI + 0x24c],0x1
007fe96b : MOV EDX,dword ptr [EBP + -0x14]
007fe96e : MOV EAX,dword ptr [ESI + 0x14]
007fe971 : PUSH 0x47
007fe973 : PUSH 0x1
007fe975 : PUSH 0x2
007fe977 : PUSH EDX
007fe978 : MOV EDX,dword ptr [ESI + 0x24]
007fe97b : PUSH EDX
007fe97c : MOV EDX,dword ptr [ESI + 0x28]
007fe97f : MOV byte ptr [ESI + 0x24d],BL
007fe985 : MOV ECX,dword ptr [EAX]
007fe987 : PUSH EDX
007fe988 : PUSH EAX
007fe989 : MOV EAX,dword ptr [ECX + 0x28]
007fe98c : CALL EAX
007fe98e : TEST EAX,EAX
007fe990 : JL 0x007fe9b8
007fe992 : MOV EDX,dword ptr [EBP + -0x14]
007fe995 : MOV EAX,dword ptr [ESI + 0x14]
007fe998 : MOV ECX,dword ptr [EAX]
007fe99a : PUSH 0x47
007fe99c : PUSH 0x71
007fe99e : PUSH EDX
007fe99f : MOV EDX,dword ptr [ESI + 0x24]
007fe9a2 : PUSH EDX
007fe9a3 : MOV EDX,dword ptr [ESI + 0x28]
007fe9a6 : PUSH EDX
007fe9a7 : PUSH EAX
007fe9a8 : MOV EAX,dword ptr [ECX + 0x30]
007fe9ab : CALL EAX
007fe9ad : TEST EAX,EAX
007fe9af : JL 0x007fe9b8
007fe9b1 : MOV byte ptr [ESI + 0x24d],0x1
007fe9b8 : MOV EDX,dword ptr [EBP + -0x14]
007fe9bb : MOV EAX,dword ptr [ESI + 0x14]
007fe9be : PUSH 0x4d
007fe9c0 : PUSH 0x1
007fe9c2 : PUSH 0x2
007fe9c4 : PUSH EDX
007fe9c5 : MOV EDX,dword ptr [ESI + 0x24]
007fe9c8 : PUSH EDX
007fe9c9 : MOV EDX,dword ptr [ESI + 0x28]
007fe9cc : MOV byte ptr [ESI + 0x24e],BL
007fe9d2 : MOV ECX,dword ptr [EAX]
007fe9d4 : PUSH EDX
007fe9d5 : PUSH EAX
007fe9d6 : MOV EAX,dword ptr [ECX + 0x28]
007fe9d9 : CALL EAX
007fe9db : TEST EAX,EAX
007fe9dd : JL 0x007fea05
007fe9df : MOV EDX,dword ptr [EBP + -0x14]
007fe9e2 : MOV EAX,dword ptr [ESI + 0x14]
007fe9e5 : MOV ECX,dword ptr [EAX]
007fe9e7 : PUSH 0x4d
007fe9e9 : PUSH 0x71
007fe9eb : PUSH EDX
007fe9ec : MOV EDX,dword ptr [ESI + 0x24]
007fe9ef : PUSH EDX
007fe9f0 : MOV EDX,dword ptr [ESI + 0x28]
007fe9f3 : PUSH EDX
007fe9f4 : PUSH EAX
007fe9f5 : MOV EAX,dword ptr [ECX + 0x30]
007fe9f8 : CALL EAX
007fe9fa : TEST EAX,EAX
007fe9fc : JL 0x007fea05
007fe9fe : MOV byte ptr [ESI + 0x24e],0x1
007fea05 : MOV dword ptr [EBP + -0x4],0xffffffff
007fea0c : MOV ECX,EDI
007fea0e : CALL 0x006f04e0
007fea1c : MOV ECX,dword ptr [EBP + -0xc]
007fea1f : MOV dword ptr FS:[0x0],ECX
007fea26 : POP ECX
007fea27 : POP EDI
007fea28 : POP EBX
007fea29 : MOV ESP,EBP
007fea2b : POP EBP
007fea2c : RET
