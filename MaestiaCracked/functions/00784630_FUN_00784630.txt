PROGRAM  : Maestia.exe
FUNCTION : FUN_00784630
ENTRY    : 00784630
BODY     : [[00784630, 0078476d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00784630(void)

{
  int iVar1;
  undefined4 uVar2;
  int in_ECX;
  uint local_1c;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b31258;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_007d7890(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  if (*(int **)(in_ECX + 0x84) == (int *)0x0) {
    FUN_0045cd30(*(undefined4 *)(*(int *)(in_ECX + 0x6c) + 4));
    *(int *)(*(int *)(in_ECX + 0x6c) + 4) = *(int *)(in_ECX + 0x6c);
    *(undefined4 *)(in_ECX + 0x70) = 0;
    *(undefined4 *)*(undefined4 *)(in_ECX + 0x6c) = *(undefined4 *)(in_ECX + 0x6c);
    *(int *)(*(int *)(in_ECX + 0x6c) + 8) = *(int *)(in_ECX + 0x6c);
  }
  else {
    (**(code **)(**(int **)(in_ECX + 0x84) + 8))();
  }
  if (*(int **)(in_ECX + 0x24) != (int *)0x0) {
    (**(code **)(**(int **)(in_ECX + 0x24) + 0x18))(1);
    *(undefined4 *)(in_ECX + 0x24) = 0;
  }
  iVar1 = FUN_006f0760(0x2c4,".\\World\\AvaSceneMgr.cpp",0x6f,0);
  uVar2 = 0;
  local_8 = 0;
  if (iVar1 != 0) {
    FUN_00406460(L"RootNode");
    local_8 = CONCAT31(local_8._1_3_,1);
    uVar2 = FUN_007d88c0(iVar1,in_ECX);
  }
  *(undefined4 *)(in_ECX + 0x24) = uVar2;
  local_8 = 0xffffffff;
  if (iVar1 != 0) {
    if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(undefined1 *)(*(int *)(in_ECX + 0x24) + 0x25a) = 0;
    ExceptionList = local_10;
    return;
  }
  *(undefined1 *)(*(int *)(in_ECX + 0x24) + 0x25a) = 0;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00784630 : PUSH EBP
00784631 : MOV EBP,ESP
00784633 : PUSH -0x1
00784635 : PUSH 0xb31258
0078463a : MOV EAX,FS:[0x0]
00784640 : PUSH EAX
00784641 : SUB ESP,0x24
00784644 : PUSH EBX
00784645 : PUSH ESI
00784646 : PUSH EDI
00784647 : MOV EAX,[0x00d66fa0]
0078464c : XOR EAX,EBP
0078464e : PUSH EAX
0078464f : LEA EAX,[EBP + -0xc]
00784652 : MOV FS:[0x0],EAX
00784658 : MOV EDI,ECX
0078465a : XOR EBX,EBX
0078465c : MOV dword ptr [EBP + -0x10],EBX
0078465f : MOV ECX,dword ptr [EDI + 0x24]
00784662 : CALL 0x007d7890
00784667 : MOV ECX,dword ptr [EDI + 0x84]
0078466d : TEST ECX,ECX
0078466f : JZ 0x0078467a
00784671 : MOV EAX,dword ptr [ECX]
00784673 : MOV EDX,dword ptr [EAX + 0x8]
00784676 : CALL EDX
00784678 : JMP 0x0078469f
0078467a : MOV EAX,dword ptr [EDI + 0x6c]
0078467d : MOV ECX,dword ptr [EAX + 0x4]
00784680 : LEA ESI,[EDI + 0x68]
00784683 : PUSH ECX
00784684 : MOV ECX,ESI
00784686 : CALL 0x0045cd30
0078468b : MOV EAX,dword ptr [ESI + 0x4]
0078468e : MOV dword ptr [EAX + 0x4],EAX
00784691 : MOV EAX,dword ptr [ESI + 0x4]
00784694 : MOV dword ptr [ESI + 0x8],EBX
00784697 : MOV dword ptr [EAX],EAX
00784699 : MOV ESI,dword ptr [ESI + 0x4]
0078469c : MOV dword ptr [ESI + 0x8],ESI
0078469f : MOV ECX,dword ptr [EDI + 0x24]
007846a2 : TEST ECX,ECX
007846a4 : JZ 0x007846b2
007846a6 : MOV EDX,dword ptr [ECX]
007846a8 : MOV EAX,dword ptr [EDX + 0x18]
007846ab : PUSH 0x1
007846ad : CALL EAX
007846af : MOV dword ptr [EDI + 0x24],EBX
007846b2 : PUSH 0x0
007846b4 : PUSH 0x6f
007846b6 : PUSH 0xc11194
007846bb : PUSH 0x2c4
007846c0 : CALL 0x006f0760
007846c5 : MOV ESI,EAX
007846c7 : ADD ESP,0x10
007846ca : MOV dword ptr [EBP + -0x14],ESI
007846cd : XOR EAX,EAX
007846cf : MOV dword ptr [EBP + -0x4],EAX
007846d2 : CMP ESI,EAX
007846d4 : JZ 0x007846f9
007846d6 : PUSH 0xc111c4
007846db : LEA ECX,[EBP + -0x30]
007846de : CALL 0x00406460
007846e3 : MOV byte ptr [EBP + -0x4],0x1
007846e7 : PUSH EDI
007846e8 : MOV EBX,0x1
007846ed : PUSH ESI
007846ee : LEA EDX,[EBP + -0x30]
007846f1 : MOV dword ptr [EBP + -0x10],EBX
007846f4 : CALL 0x007d88c0
007846f9 : MOV dword ptr [EBP + -0x4],0x2
00784700 : MOV dword ptr [EDI + 0x24],EAX
00784703 : MOV dword ptr [EBP + -0x4],0xffffffff
0078470a : TEST BL,0x1
0078470d : JZ 0x00784752
0078470f : AND EBX,0xfffffffe
00784712 : MOV dword ptr [EBP + -0x10],EBX
00784715 : CMP dword ptr [EBP + -0x18],0x8
00784719 : JC 0x00784723
0078471b : MOV ECX,dword ptr [EBP + -0x2c]
0078471e : CALL 0x006f04e0
00784723 : MOV EDX,dword ptr [EDI + 0x24]
00784726 : XOR ECX,ECX
00784728 : MOV dword ptr [EBP + -0x18],0x7
0078472f : MOV dword ptr [EBP + -0x1c],0x0
00784736 : MOV word ptr [EBP + -0x2c],CX
0078473a : MOV byte ptr [EDX + 0x25a],CL
00784740 : MOV ECX,dword ptr [EBP + -0xc]
00784743 : MOV dword ptr FS:[0x0],ECX
0078474a : POP ECX
0078474b : POP EDI
0078474c : POP ESI
0078474d : POP EBX
0078474e : MOV ESP,EBP
00784750 : POP EBP
00784751 : RET
00784752 : MOV EAX,dword ptr [EDI + 0x24]
00784755 : MOV byte ptr [EAX + 0x25a],0x0
0078475c : MOV ECX,dword ptr [EBP + -0xc]
0078475f : MOV dword ptr FS:[0x0],ECX
00784766 : POP ECX
00784767 : POP EDI
00784768 : POP ESI
00784769 : POP EBX
0078476a : MOV ESP,EBP
0078476c : POP EBP
0078476d : RET
