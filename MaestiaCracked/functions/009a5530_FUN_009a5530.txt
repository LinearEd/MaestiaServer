PROGRAM  : Maestia.exe
FUNCTION : FUN_009a5530
ENTRY    : 009a5530
BODY     : [[009a5530, 009a5645]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009a5530(void)

{
  int iVar1;
  undefined4 *puVar2;
  int *piVar3;
  int in_ECX;
  int in_EDX;
  uint uVar4;
  undefined4 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b214a1;
  local_10 = ExceptionList;
  piVar3 = *(int **)(in_EDX + 0x68);
  if (piVar3 != *(int **)(in_EDX + 0x6c)) {
    do {
      if (*(int *)*piVar3 == *(int *)(in_ECX + 4)) {
        *(undefined8 *)((int *)*piVar3 + 2) = *(undefined8 *)(in_ECX + 8);
        return;
      }
      piVar3 = piVar3 + 1;
    } while (piVar3 != *(int **)(in_EDX + 0x6c));
  }
  ExceptionList = &local_10;
  local_14 = (undefined4 *)
             FUN_006f0760(0x10,"",0,(DAT_01725270 >> 3 & 1) == 0,
                          DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  if (local_14 == (undefined4 *)0x0) {
    local_14 = (undefined4 *)0x0;
  }
  else {
    *local_14 = 0;
    *(undefined8 *)(local_14 + 2) = 0;
  }
  local_8 = 0xffffffff;
  *local_14 = *(undefined4 *)(in_ECX + 4);
  *(undefined8 *)(local_14 + 2) = *(undefined8 *)(in_ECX + 8);
  iVar1 = *(int *)(in_EDX + 0x68);
  if (iVar1 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = *(int *)(in_EDX + 0x70) - iVar1 >> 2;
  }
  puVar2 = *(undefined4 **)(in_EDX + 0x6c);
  if ((uint)((int)puVar2 - iVar1 >> 2) < uVar4) {
    *puVar2 = local_14;
    *(undefined4 **)(in_EDX + 0x6c) = puVar2 + 1;
    ExceptionList = local_10;
    return;
  }
  FUN_0042fe80(in_EDX + 100,puVar2,&local_14);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
009a5530 : PUSH EBP
009a5531 : MOV EBP,ESP
009a5533 : PUSH -0x1
009a5535 : PUSH 0xb214a1
009a553a : MOV EAX,FS:[0x0]
009a5540 : PUSH EAX
009a5541 : PUSH ECX
009a5542 : PUSH EBX
009a5543 : PUSH ESI
009a5544 : PUSH EDI
009a5545 : MOV EAX,[0x00d66fa0]
009a554a : XOR EAX,EBP
009a554c : PUSH EAX
009a554d : LEA EAX,[EBP + -0xc]
009a5550 : MOV FS:[0x0],EAX
009a5556 : MOV ESI,ECX
009a5558 : MOV EDI,EDX
009a555a : MOV EAX,dword ptr [EDI + 0x68]
009a555d : MOV ECX,dword ptr [EDI + 0x6c]
009a5560 : CMP EAX,ECX
009a5562 : JZ 0x009a5574
009a5564 : MOV EDX,dword ptr [ESI + 0x4]
009a5567 : MOV EBX,dword ptr [EAX]
009a5569 : CMP dword ptr [EBX],EDX
009a556b : JZ 0x009a55ba
009a556d : ADD EAX,0x4
009a5570 : CMP EAX,ECX
009a5572 : JNZ 0x009a5567
009a5574 : MOV ECX,dword ptr [0x01725270]
009a557a : SHR ECX,0x3
009a557d : MOV EDX,0x0
009a5582 : AND ECX,0x1
009a5585 : SETZ DL
009a5588 : PUSH EDX
009a5589 : PUSH 0x0
009a558b : PUSH 0xbf1a4a
009a5590 : PUSH 0x10
009a5592 : CALL 0x006f0760
009a5597 : ADD ESP,0x10
009a559a : MOV dword ptr [EBP + -0x10],EAX
009a559d : MOV dword ptr [EBP + -0x4],0x0
009a55a4 : TEST EAX,EAX
009a55a6 : JZ 0x009a55d4
009a55a8 : XORPS XMM0,XMM0
009a55ab : MOV dword ptr [EAX],0x0
009a55b1 : MOVSD qword ptr [EAX + 0x8],XMM0
009a55b6 : MOV ECX,EAX
009a55b8 : JMP 0x009a55d6
009a55ba : FLD double ptr [ESI + 0x8]
009a55bd : MOV EAX,EBX
009a55bf : FSTP double ptr [EAX + 0x8]
009a55c2 : MOV ECX,dword ptr [EBP + -0xc]
009a55c5 : MOV dword ptr FS:[0x0],ECX
009a55cc : POP ECX
009a55cd : POP EDI
009a55ce : POP ESI
009a55cf : POP EBX
009a55d0 : MOV ESP,EBP
009a55d2 : POP EBP
009a55d3 : RET
009a55d4 : XOR ECX,ECX
009a55d6 : MOV dword ptr [EBP + -0x4],0xffffffff
009a55dd : MOV EAX,dword ptr [ESI + 0x4]
009a55e0 : MOV dword ptr [ECX],EAX
009a55e2 : FLD double ptr [ESI + 0x8]
009a55e5 : LEA EAX,[EDI + 0x64]
009a55e8 : FSTP double ptr [ECX + 0x8]
009a55eb : MOV ESI,dword ptr [EAX + 0x4]
009a55ee : MOV dword ptr [EBP + -0x10],ECX
009a55f1 : TEST ESI,ESI
009a55f3 : JNZ 0x009a55f9
009a55f5 : XOR EDX,EDX
009a55f7 : JMP 0x009a5601
009a55f9 : MOV EDX,dword ptr [EAX + 0xc]
009a55fc : SUB EDX,ESI
009a55fe : SAR EDX,0x2
009a5601 : MOV EDI,dword ptr [EAX + 0x8]
009a5604 : MOV EBX,EDI
009a5606 : SUB EBX,ESI
009a5608 : SAR EBX,0x2
009a560b : CMP EBX,EDX
009a560d : JNC 0x009a5629
009a560f : MOV dword ptr [EDI],ECX
009a5611 : ADD EDI,0x4
009a5614 : MOV dword ptr [EAX + 0x8],EDI
009a5617 : MOV ECX,dword ptr [EBP + -0xc]
009a561a : MOV dword ptr FS:[0x0],ECX
009a5621 : POP ECX
009a5622 : POP EDI
009a5623 : POP ESI
009a5624 : POP EBX
009a5625 : MOV ESP,EBP
009a5627 : POP EBP
009a5628 : RET
009a5629 : LEA ECX,[EBP + -0x10]
009a562c : PUSH ECX
009a562d : PUSH EDI
009a562e : PUSH EAX
009a562f : CALL 0x0042fe80
009a5634 : MOV ECX,dword ptr [EBP + -0xc]
009a5637 : MOV dword ptr FS:[0x0],ECX
009a563e : POP ECX
009a563f : POP EDI
009a5640 : POP ESI
009a5641 : POP EBX
009a5642 : MOV ESP,EBP
009a5644 : POP EBP
009a5645 : RET
