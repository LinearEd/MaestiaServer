PROGRAM  : Maestia.exe
FUNCTION : FUN_0068c790
ENTRY    : 0068c790
BODY     : [[0068c790, 0068c884]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0068c790(char *param_1,undefined4 param_2)

{
  char cVar1;
  undefined4 uVar2;
  int iVar3;
  char *pcVar4;
  void *_Dst;
  undefined4 *puVar5;
  int unaff_EDI;
  int local_4;
  
  uVar2 = *(undefined4 *)(unaff_EDI + 0x4088);
  local_4 = 0;
  iVar3 = FUN_0068bf10();
  if (iVar3 != 0) {
    return 0;
  }
  iVar3 = FUN_0068a220(uVar2,0x10,*(int *)(unaff_EDI + 0x4090),*(int *)(unaff_EDI + 0x4090) + 1,
                       *(undefined4 *)(unaff_EDI + 0x408c),&local_4);
  *(int *)(unaff_EDI + 0x408c) = iVar3;
  if (local_4 == 0) {
    puVar5 = (undefined4 *)(*(int *)(unaff_EDI + 0x4090) * 0x10 + iVar3);
    *puVar5 = 0;
    puVar5[1] = 0;
    puVar5[2] = 0;
    puVar5[3] = 0;
    pcVar4 = param_1;
    do {
      cVar1 = *pcVar4;
      pcVar4 = pcVar4 + 1;
    } while (cVar1 != '\0');
    _Dst = (void *)FUN_0068a220(uVar2,1,0,pcVar4 + (1 - (int)(param_1 + 1)),0,&local_4);
    *puVar5 = _Dst;
    if (local_4 == 0) {
      _memcpy(_Dst,param_1,(size_t)(pcVar4 + (1 - (int)(param_1 + 1))));
      puVar5[1] = param_2;
      puVar5[2] = 0;
      local_4 = FUN_0068be80(*(int *)(unaff_EDI + 0x4090) + 0x53,uVar2);
      if (local_4 == 0) {
        *(int *)(unaff_EDI + 0x4090) = *(int *)(unaff_EDI + 0x4090) + 1;
        return 0;
      }
    }
  }
  return local_4;
}



============================================================
DISASSEMBLY
============================================================
0068c790 : PUSH ECX
0068c791 : PUSH EBX
0068c792 : MOV EBX,dword ptr [ESP + 0xc]
0068c796 : PUSH EBP
0068c797 : MOV EBP,dword ptr [EDI + 0x4088]
0068c79d : PUSH ESI
0068c79e : XOR ESI,ESI
0068c7a0 : LEA EAX,[EDI + 0x4094]
0068c7a6 : MOV dword ptr [ESP + 0xc],ESI
0068c7aa : CALL 0x0068bf10
0068c7af : TEST EAX,EAX
0068c7b1 : JNZ 0x0068c877
0068c7b7 : MOV EAX,dword ptr [EDI + 0x4090]
0068c7bd : MOV EDX,dword ptr [EDI + 0x408c]
0068c7c3 : LEA ECX,[ESP + 0xc]
0068c7c7 : PUSH ECX
0068c7c8 : PUSH EDX
0068c7c9 : LEA ECX,[EAX + 0x1]
0068c7cc : PUSH ECX
0068c7cd : PUSH EAX
0068c7ce : PUSH 0x10
0068c7d0 : PUSH EBP
0068c7d1 : CALL 0x0068a220
0068c7d6 : MOV ECX,dword ptr [ESP + 0x24]
0068c7da : ADD ESP,0x18
0068c7dd : MOV dword ptr [EDI + 0x408c],EAX
0068c7e3 : TEST ECX,ECX
0068c7e5 : JNZ 0x0068c87e
0068c7eb : MOV ESI,dword ptr [EDI + 0x4090]
0068c7f1 : SHL ESI,0x4
0068c7f4 : ADD ESI,EAX
0068c7f6 : XOR EAX,EAX
0068c7f8 : MOV dword ptr [ESI],EAX
0068c7fa : MOV dword ptr [ESI + 0x4],EAX
0068c7fd : MOV dword ptr [ESI + 0x8],EAX
0068c800 : MOV dword ptr [ESI + 0xc],EAX
0068c803 : MOV EAX,EBX
0068c805 : LEA ECX,[EAX + 0x1]
0068c808 : MOV DL,byte ptr [EAX]
0068c80a : INC EAX
0068c80b : TEST DL,DL
0068c80d : JNZ 0x0068c808
0068c80f : LEA EDX,[ESP + 0xc]
0068c813 : PUSH EDX
0068c814 : SUB EAX,ECX
0068c816 : PUSH 0x0
0068c818 : LEA EBX,[EAX + 0x1]
0068c81b : PUSH EBX
0068c81c : PUSH 0x0
0068c81e : PUSH 0x1
0068c820 : PUSH EBP
0068c821 : CALL 0x0068a220
0068c826 : MOV dword ptr [ESI],EAX
0068c828 : MOV ECX,dword ptr [ESP + 0x24]
0068c82c : ADD ESP,0x18
0068c82f : TEST ECX,ECX
0068c831 : JNZ 0x0068c87e
0068c833 : MOV ECX,dword ptr [ESP + 0x14]
0068c837 : PUSH EBX
0068c838 : PUSH ECX
0068c839 : PUSH EAX
0068c83a : CALL 0x0063ae40
0068c83f : MOV EDX,dword ptr [ESP + 0x24]
0068c843 : MOV ECX,dword ptr [ESI]
0068c845 : MOV dword ptr [ESI + 0x4],EDX
0068c848 : MOV dword ptr [ESI + 0x8],0x0
0068c84f : MOV EAX,dword ptr [EDI + 0x4090]
0068c855 : ADD EAX,0x53
0068c858 : PUSH EBP
0068c859 : PUSH EAX
0068c85a : LEA EAX,[EDI + 0x4094]
0068c860 : CALL 0x0068be80
0068c865 : ADD ESP,0x14
0068c868 : TEST EAX,EAX
0068c86a : JNZ 0x0068c880
0068c86c : INC dword ptr [EDI + 0x4090]
0068c872 : POP ESI
0068c873 : POP EBP
0068c874 : POP EBX
0068c875 : POP ECX
0068c876 : RET
0068c877 : MOV EAX,ESI
0068c879 : POP ESI
0068c87a : POP EBP
0068c87b : POP EBX
0068c87c : POP ECX
0068c87d : RET
0068c87e : MOV EAX,ECX
0068c880 : POP ESI
0068c881 : POP EBP
0068c882 : POP EBX
0068c883 : POP ECX
0068c884 : RET
