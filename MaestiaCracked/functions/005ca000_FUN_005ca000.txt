PROGRAM  : Maestia.exe
FUNCTION : FUN_005ca000
ENTRY    : 005ca000
BODY     : [[005ca000, 005ca0c9] [005ca0d0, 005ca0f1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005ca000(int param_1)

{
  char cVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iStack_38;
  undefined1 *puStack_34;
  undefined1 local_20 [4];
  undefined1 auStack_1c [12];
  undefined1 local_10;
  
  cVar1 = FUN_00526030();
  if (cVar1 == '\0') {
    puStack_34 = (undefined1 *)0x5ca025;
    FUN_00526050();
    return;
  }
  if (*(int *)(param_1 + 8) == 0) {
    iVar4 = 0;
  }
  else {
    iVar4 = *(int *)(param_1 + 8) + -0x10;
  }
  puStack_34 = (undefined1 *)0x30;
  iStack_38 = 0x5ca04f;
  iVar2 = FUN_00515840();
  if (iVar2 == 0) {
    iVar2 = 0;
  }
  else {
    puStack_34 = (undefined1 *)0x5ca05e;
    iVar2 = FUN_005c9e90();
  }
  piVar3 = (int *)(*(int *)(param_1 + 0x18) + 0x78);
  local_20[0] = 0;
  local_10 = 0;
  puStack_34 = local_20;
  iStack_38 = *piVar3 + 0x1ec;
  (**(code **)(*(int *)(iVar4 + 0x10) + 0x2c))(piVar3);
  (**(code **)(*(int *)(iVar4 + 0x10) + 0x2c))(piVar3,*piVar3 + 0x1f0,auStack_1c);
  FUN_005c9590(piVar3,&iStack_38);
  FUN_005271c0(iVar2);
  iVar4 = 1;
  do {
    FUN_00526bc0();
    iVar4 = iVar4 + -1;
  } while (-1 < iVar4);
  if (iVar2 != 0) {
    FUN_00503db0();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005ca000 : SUB ESP,0x20
005ca003 : PUSH EBX
005ca004 : MOV EBX,dword ptr [ESP + 0x28]
005ca008 : PUSH 0x10
005ca00a : MOV ECX,EBX
005ca00c : CALL 0x00526030
005ca011 : TEST AL,AL
005ca013 : JNZ 0x005ca02a
005ca015 : PUSH 0x0
005ca017 : PUSH 0x0
005ca019 : PUSH 0xb8fe2c
005ca01e : MOV ECX,EBX
005ca020 : CALL 0x00526050
005ca025 : POP EBX
005ca026 : ADD ESP,0x20
005ca029 : RET
005ca02a : MOV EAX,dword ptr [EBX + 0x8]
005ca02d : PUSH EBP
005ca02e : PUSH EDI
005ca02f : TEST EAX,EAX
005ca031 : JZ 0x005ca038
005ca033 : LEA EDI,[EAX + -0x10]
005ca036 : JMP 0x005ca03a
005ca038 : XOR EDI,EDI
005ca03a : MOV EAX,dword ptr [EBX + 0x18]
005ca03d : MOV ECX,dword ptr [EAX + 0x78]
005ca040 : MOV ECX,dword ptr [ECX + 0x288]
005ca046 : PUSH 0x0
005ca048 : PUSH 0x30
005ca04a : CALL 0x00515840
005ca04f : TEST EAX,EAX
005ca051 : JZ 0x005ca062
005ca053 : MOV EDX,dword ptr [EBX + 0x18]
005ca056 : PUSH EDX
005ca057 : MOV ECX,EAX
005ca059 : CALL 0x005c9e90
005ca05e : MOV EBP,EAX
005ca060 : JMP 0x005ca064
005ca062 : XOR EBP,EBP
005ca064 : PUSH ESI
005ca065 : MOV ESI,dword ptr [EBX + 0x18]
005ca068 : ADD ESI,0x78
005ca06b : MOV byte ptr [ESP + 0x10],0x0
005ca070 : MOV byte ptr [ESP + 0x20],0x0
005ca075 : MOV EDX,dword ptr [ESI]
005ca077 : MOV EAX,dword ptr [EDI + 0x10]
005ca07a : MOV EAX,dword ptr [EAX + 0x2c]
005ca07d : LEA ECX,[ESP + 0x10]
005ca081 : PUSH ECX
005ca082 : ADD EDI,0x10
005ca085 : ADD EDX,0x1ec
005ca08b : PUSH EDX
005ca08c : PUSH ESI
005ca08d : MOV ECX,EDI
005ca08f : CALL EAX
005ca091 : MOV ECX,dword ptr [ESI]
005ca093 : MOV EDX,dword ptr [EDI]
005ca095 : MOV EDX,dword ptr [EDX + 0x2c]
005ca098 : LEA EAX,[ESP + 0x20]
005ca09c : PUSH EAX
005ca09d : ADD ECX,0x1f0
005ca0a3 : PUSH ECX
005ca0a4 : PUSH ESI
005ca0a5 : MOV ECX,EDI
005ca0a7 : CALL EDX
005ca0a9 : LEA EAX,[ESP + 0x10]
005ca0ad : PUSH EAX
005ca0ae : PUSH ESI
005ca0af : MOV ECX,EBP
005ca0b1 : CALL 0x005c9590
005ca0b6 : MOV ECX,dword ptr [EBX + 0x4]
005ca0b9 : PUSH EBP
005ca0ba : CALL 0x005271c0
005ca0bf : LEA ESI,[ESP + 0x30]
005ca0c3 : MOV EDI,0x1
005ca0c8 : JMP 0x005ca0d0
005ca0d0 : SUB ESI,0x10
005ca0d3 : MOV ECX,ESI
005ca0d5 : CALL 0x00526bc0
005ca0da : SUB EDI,0x1
005ca0dd : JNS 0x005ca0d0
005ca0df : POP ESI
005ca0e0 : TEST EBP,EBP
005ca0e2 : JZ 0x005ca0eb
005ca0e4 : MOV ECX,EBP
005ca0e6 : CALL 0x00503db0
005ca0eb : POP EDI
005ca0ec : POP EBP
005ca0ed : POP EBX
005ca0ee : ADD ESP,0x20
005ca0f1 : RET
