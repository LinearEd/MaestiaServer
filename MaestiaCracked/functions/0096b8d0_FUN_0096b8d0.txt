PROGRAM  : Maestia.exe
FUNCTION : FUN_0096b8d0
ENTRY    : 0096b8d0
BODY     : [[0096b8d0, 0096bb11]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0096b8d0(void)

{
  int iVar1;
  bool bVar2;
  undefined2 uVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int in_ECX;
  undefined4 *****pppppuVar7;
  int *piVar8;
  uint local_40;
  int local_3c;
  int local_38;
  char local_33;
  char local_32;
  char local_31;
  undefined4 ****local_2c [4];
  int local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar1 = DAT_00d7c54c;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b20aa8;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  bVar2 = false;
  iVar5 = *(int *)(in_ECX + 0x54) - *(int *)(in_ECX + 0x50) >> 2;
  local_31 = '\0';
  local_32 = '\0';
  local_33 = '\0';
  local_14 = uVar4;
  if (0 < iVar5) {
    piVar8 = *(int **)(in_ECX + 0x50);
    local_38 = iVar5;
    do {
      uVar6 = *(uint *)(*piVar8 + 4) >> 0x10;
      if (uVar6 == 0x140b) {
        bVar2 = true;
      }
      else if (uVar6 == 0x1441) {
        local_31 = '\x01';
      }
      else if (uVar6 == 0x1410) {
        local_40 = *(uint *)(*piVar8 + 4);
        FUN_004437f0(&local_40);
        if (((local_3c != *(int *)(iVar1 + 0x44)) && (*(int *)(local_3c + 0x10) != 0)) &&
           (*(int *)(*(int *)(local_3c + 0x10) + 0x1ac) < 0)) {
          local_32 = '\x01';
        }
      }
      else if (uVar6 == 0x140e) {
        local_33 = '\x01';
      }
      piVar8 = piVar8 + 1;
      local_38 = local_38 + -1;
    } while (local_38 != 0);
    local_38 = 0;
  }
  local_18 = 0xf;
  local_1c = 0;
  local_2c[0] = (undefined4 ****)((uint)local_2c[0] & 0xffffff00);
  local_8 = 0;
  if ((bVar2) || (local_31 == '\x01')) {
    FUN_00404b50("StunStateAndFearState",0x15);
  }
  else if (local_31 == '\0') {
    if (local_32 == '\x01') {
      if (local_33 == '\x01') {
        FUN_0040eec0("DOTStateAndSilenceState");
      }
      else if (local_33 == '\0') {
        FUN_0040eec0("DOTState");
      }
    }
    else if (local_32 == '\0') {
      if (local_33 == '\x01') {
        FUN_0040eec0("SilenceState");
      }
      else if (local_33 == '\0') {
        FUN_0040eec0("NomalState");
      }
    }
  }
  piVar8 = DAT_00da9894;
  iVar1 = *DAT_00da9894;
  uVar3 = 0;
  if (((*(int *)(iVar1 + 300) != 0) && (*(int *)(*(int *)(iVar1 + 300) + 8) != 0)) &&
     ((*(int *)(iVar1 + 0x14c) != 0 &&
      ((*(char *)(*(int *)(iVar1 + 0x14c) + 0x98) != '\0' && (*(int *)(iVar1 + 0x28c) != 0)))))) {
    iVar5 = 0;
    if (*(int *)(iVar1 + 300) != 0) {
      iVar5 = *(int *)(*(int *)(iVar1 + 300) + 8);
    }
    uVar3 = FUN_0092b5a0(*(undefined4 *)(iVar5 + 0x4c));
  }
  if (((local_1c != 0) && (iVar1 = *piVar8, iVar1 != 0)) && (*(int *)(iVar1 + 0x114) != 0)) {
    pppppuVar7 = (undefined4 *****)local_2c[0];
    if (local_18 < 0x10) {
      pppppuVar7 = local_2c;
    }
    (**(code **)(**(int **)(iVar1 + 0x114) + 4))
              (*(int **)(iVar1 + 0x114),"MyInfoSetState","%s,%s,%d,%d","MyInfo",pppppuVar7,0,uVar3,
               uVar4);
  }
  local_8 = 0xffffffff;
  if (local_18 < 0x10) {
    local_18 = 0xf;
    local_1c = 0;
    local_2c[0] = (undefined4 ****)((uint)local_2c[0] & 0xffffff00);
    ExceptionList = local_10;
    __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0096b8d0 : PUSH EBP
0096b8d1 : MOV EBP,ESP
0096b8d3 : PUSH -0x1
0096b8d5 : PUSH 0xb20aa8
0096b8da : MOV EAX,FS:[0x0]
0096b8e0 : PUSH EAX
0096b8e1 : SUB ESP,0x30
0096b8e4 : MOV EAX,[0x00d66fa0]
0096b8e9 : XOR EAX,EBP
0096b8eb : MOV dword ptr [EBP + -0x10],EAX
0096b8ee : PUSH EBX
0096b8ef : PUSH ESI
0096b8f0 : PUSH EDI
0096b8f1 : PUSH EAX
0096b8f2 : LEA EAX,[EBP + -0xc]
0096b8f5 : MOV FS:[0x0],EAX
0096b8fb : MOV EAX,dword ptr [ECX + 0x54]
0096b8fe : SUB EAX,dword ptr [ECX + 0x50]
0096b901 : XOR BL,BL
0096b903 : XOR DL,DL
0096b905 : SAR EAX,0x2
0096b908 : MOV byte ptr [EBP + -0x2d],BL
0096b90b : MOV byte ptr [EBP + -0x2e],BL
0096b90e : MOV byte ptr [EBP + -0x2f],DL
0096b911 : TEST EAX,EAX
0096b913 : JLE 0x0096b993
0096b915 : MOV ESI,dword ptr [ECX + 0x50]
0096b918 : MOV EDI,dword ptr [0x00d7c54c]
0096b91e : MOV dword ptr [EBP + -0x34],EAX
0096b921 : MOV EAX,dword ptr [ESI]
0096b923 : MOV ECX,dword ptr [EAX + 0x4]
0096b926 : MOV EAX,ECX
0096b928 : SHR EAX,0x10
0096b92b : CMP EAX,0x140b
0096b930 : JNZ 0x0096b936
0096b932 : MOV BL,0x1
0096b934 : JMP 0x0096b987
0096b936 : CMP EAX,0x1441
0096b93b : JNZ 0x0096b943
0096b93d : MOV byte ptr [EBP + -0x2d],0x1
0096b941 : JMP 0x0096b987
0096b943 : CMP EAX,0x1410
0096b948 : JNZ 0x0096b97c
0096b94a : MOV dword ptr [EBP + -0x3c],ECX
0096b94d : LEA ECX,[EBP + -0x3c]
0096b950 : PUSH ECX
0096b951 : LEA ECX,[EDI + 0x40]
0096b954 : LEA EAX,[EBP + -0x38]
0096b957 : CALL 0x004437f0
0096b95c : MOV EAX,dword ptr [EDI + 0x44]
0096b95f : MOV ECX,dword ptr [EBP + -0x38]
0096b962 : CMP ECX,EAX
0096b964 : JZ 0x0096b987
0096b966 : MOV EAX,dword ptr [ECX + 0x10]
0096b969 : TEST EAX,EAX
0096b96b : JZ 0x0096b987
0096b96d : CMP dword ptr [EAX + 0x1ac],0x0
0096b974 : JGE 0x0096b987
0096b976 : MOV byte ptr [EBP + -0x2e],0x1
0096b97a : JMP 0x0096b987
0096b97c : CMP EAX,0x140e
0096b981 : JNZ 0x0096b987
0096b983 : MOV byte ptr [EBP + -0x2f],0x1
0096b987 : ADD ESI,0x4
0096b98a : SUB dword ptr [EBP + -0x34],0x1
0096b98e : JNZ 0x0096b921
0096b990 : MOV DL,byte ptr [EBP + -0x2f]
0096b993 : XOR ESI,ESI
0096b995 : MOV dword ptr [EBP + -0x14],0xf
0096b99c : MOV dword ptr [EBP + -0x18],ESI
0096b99f : MOV byte ptr [EBP + -0x28],0x0
0096b9a3 : MOV dword ptr [EBP + -0x4],ESI
0096b9a6 : CMP BL,0x1
0096b9a9 : JZ 0x0096ba12
0096b9ab : MOV AL,byte ptr [EBP + -0x2d]
0096b9ae : CMP AL,0x1
0096b9b0 : JZ 0x0096ba12
0096b9b2 : TEST BL,BL
0096b9b4 : JNZ 0x0096ba21
0096b9b6 : TEST AL,AL
0096b9b8 : JNZ 0x0096ba21
0096b9ba : MOV AL,byte ptr [EBP + -0x2e]
0096b9bd : CMP AL,0x1
0096b9bf : JNZ 0x0096b9e7
0096b9c1 : CMP DL,AL
0096b9c3 : JNZ 0x0096b9d4
0096b9c5 : PUSH 0xc7f790
0096b9ca : LEA ECX,[EBP + -0x2c]
0096b9cd : CALL 0x0040eec0
0096b9d2 : JMP 0x0096ba21
0096b9d4 : TEST DL,DL
0096b9d6 : JNZ 0x0096ba21
0096b9d8 : PUSH 0xc7f7a8
0096b9dd : LEA ECX,[EBP + -0x2c]
0096b9e0 : CALL 0x0040eec0
0096b9e5 : JMP 0x0096ba21
0096b9e7 : TEST AL,AL
0096b9e9 : JNZ 0x0096ba21
0096b9eb : CMP DL,0x1
0096b9ee : JNZ 0x0096b9ff
0096b9f0 : PUSH 0xc7f7b4
0096b9f5 : LEA ECX,[EBP + -0x2c]
0096b9f8 : CALL 0x0040eec0
0096b9fd : JMP 0x0096ba21
0096b9ff : TEST DL,DL
0096ba01 : JNZ 0x0096ba21
0096ba03 : PUSH 0xc7f7c4
0096ba08 : LEA ECX,[EBP + -0x2c]
0096ba0b : CALL 0x0040eec0
0096ba10 : JMP 0x0096ba21
0096ba12 : PUSH 0x15
0096ba14 : PUSH 0xc7f778
0096ba19 : LEA ECX,[EBP + -0x2c]
0096ba1c : CALL 0x00404b50
0096ba21 : MOV EBX,dword ptr [0x00da9894]
0096ba27 : MOV EAX,dword ptr [EBX]
0096ba29 : MOV ECX,dword ptr [EAX + 0x12c]
0096ba2f : XOR EDX,EDX
0096ba31 : TEST ECX,ECX
0096ba33 : JZ 0x0096ba87
0096ba35 : CMP dword ptr [ECX + 0x8],EDX
0096ba38 : JZ 0x0096ba87
0096ba3a : CMP dword ptr [EAX + 0x14c],EDX
0096ba40 : JZ 0x0096ba87
0096ba42 : MOV ECX,dword ptr [EAX + 0x14c]
0096ba48 : CMP byte ptr [ECX + 0x98],DL
0096ba4e : JZ 0x0096ba87
0096ba50 : CMP dword ptr [EAX + 0x28c],EDX
0096ba56 : JZ 0x0096ba87
0096ba58 : MOV ECX,dword ptr [EAX + 0x12c]
0096ba5e : TEST ECX,ECX
0096ba60 : JZ 0x0096ba65
0096ba62 : MOV ECX,dword ptr [ECX + 0x8]
0096ba65 : MOV EDI,dword ptr [ECX + 0x50]
0096ba68 : MOV ECX,dword ptr [EAX + 0x12c]
0096ba6e : TEST ECX,ECX
0096ba70 : JZ 0x0096ba75
0096ba72 : MOV ECX,dword ptr [ECX + 0x8]
0096ba75 : MOV ECX,dword ptr [ECX + 0x4c]
0096ba78 : MOV EAX,dword ptr [EAX + 0x28c]
0096ba7e : PUSH ECX
0096ba7f : CALL 0x0092b5a0
0096ba84 : MOVZX EDX,AX
0096ba87 : CMP dword ptr [EBP + -0x18],0x0
0096ba8b : MOV ESI,0x10
0096ba90 : JBE 0x0096bad0
0096ba92 : MOV EAX,dword ptr [EBX]
0096ba94 : TEST EAX,EAX
0096ba96 : JZ 0x0096bad0
0096ba98 : CMP dword ptr [EAX + 0x114],0x0
0096ba9f : JZ 0x0096bad0
0096baa1 : MOV EAX,dword ptr [EAX + 0x114]
0096baa7 : MOV ECX,dword ptr [EBP + -0x28]
0096baaa : CMP dword ptr [EBP + -0x14],ESI
0096baad : JNC 0x0096bab2
0096baaf : LEA ECX,[EBP + -0x28]
0096bab2 : MOV EDI,dword ptr [EAX]
0096bab4 : PUSH EDX
0096bab5 : MOV EDX,dword ptr [EDI + 0x4]
0096bab8 : PUSH 0x0
0096baba : PUSH ECX
0096babb : PUSH 0xc7f7d0
0096bac0 : PUSH 0xc7f7d8
0096bac5 : PUSH 0xc7f7e4
0096baca : PUSH EAX
0096bacb : CALL EDX
0096bacd : ADD ESP,0x1c
0096bad0 : MOV dword ptr [EBP + -0x4],0xffffffff
0096bad7 : CMP dword ptr [EBP + -0x14],ESI
0096bada : JC 0x0096bae4
0096badc : MOV ECX,dword ptr [EBP + -0x28]
0096badf : CALL 0x006f04e0
0096bae4 : MOV dword ptr [EBP + -0x14],0xf
0096baeb : MOV dword ptr [EBP + -0x18],0x0
0096baf2 : MOV byte ptr [EBP + -0x28],0x0
0096baf6 : MOV ECX,dword ptr [EBP + -0xc]
0096baf9 : MOV dword ptr FS:[0x0],ECX
0096bb00 : POP ECX
0096bb01 : POP EDI
0096bb02 : POP ESI
0096bb03 : POP EBX
0096bb04 : MOV ECX,dword ptr [EBP + -0x10]
0096bb07 : XOR ECX,EBP
0096bb09 : CALL 0x00633e6b
0096bb0e : MOV ESP,EBP
0096bb10 : POP EBP
0096bb11 : RET
