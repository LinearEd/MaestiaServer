PROGRAM  : Maestia.exe
FUNCTION : FUN_00790820
ENTRY    : 00790820
BODY     : [[00790820, 007909f8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00790820(int param_1)

{
  int iVar1;
  int in_ECX;
  int *in_EDX;
  uint local_248;
  undefined1 local_244 [4];
  undefined2 local_240;
  undefined4 local_230;
  uint local_22c;
  int local_228;
  int *local_224;
  undefined **local_220;
  undefined4 local_21c;
  wchar_t local_218 [256];
  uint local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b27ecd;
  local_10 = ExceptionList;
  local_18 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_228 = param_1;
  if ((in_EDX == (int *)0x0) && (in_EDX = *(int **)(param_1 + 0x14), in_EDX == (int *)0x0)) {
    FUN_008018d0(L"[AvaFxAttachEffectsToTarget::_LoadSubEffectAndAttachBone_ByBoneIndex] RootNode Is Node"
                 ,local_18);
  }
  else {
    FUN_00406460(in_ECX + 8);
    local_8 = 0;
    iVar1 = (**(code **)(*in_EDX + 0x40))(local_244);
    local_8 = 0xffffffff;
    if (7 < local_22c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_22c = 7;
    local_230 = 0;
    local_240 = 0;
    if (iVar1 == 0) {
      local_220 = &PTR_FUN_00cd083c;
      local_21c = 0xff;
      _wcscpy_s(local_218,0x100,L"");
      local_8 = 2;
      FUN_0041f590(L"[AvaFxAttachEffectsToTarget::_LoadSubEffectAndAttachBone_ByBoneName] Not finding a node [%s]"
                   ,in_ECX + 0x210);
      FUN_008018d0(local_218);
      local_8 = 0xffffffff;
      local_220 = &PTR_FUN_00cd083c;
    }
    else {
      FUN_00406460(in_ECX + 0x210);
      local_8 = 1;
      local_224 = (int *)FUN_007cecc0();
      local_8 = 0xffffffff;
      if (7 < local_248) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      (**(code **)(*local_224 + 0x14))(iVar1);
      FUN_00449730();
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_18 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00790820 : PUSH EBP
00790821 : MOV EBP,ESP
00790823 : PUSH -0x1
00790825 : PUSH 0xb27ecd
0079082a : MOV EAX,FS:[0x0]
00790830 : PUSH EAX
00790831 : SUB ESP,0x250
00790837 : MOV EAX,[0x00d66fa0]
0079083c : XOR EAX,EBP
0079083e : MOV dword ptr [EBP + -0x14],EAX
00790841 : PUSH EBX
00790842 : PUSH ESI
00790843 : PUSH EDI
00790844 : PUSH EAX
00790845 : LEA EAX,[EBP + -0xc]
00790848 : MOV FS:[0x0],EAX
0079084e : MOV EAX,dword ptr [EBP + 0x8]
00790851 : MOV ESI,EDX
00790853 : MOV dword ptr [EBP + 0xfffffddc],EAX
00790859 : MOV EDI,ECX
0079085b : TEST ESI,ESI
0079085d : JNZ 0x0079087e
0079085f : MOV ESI,dword ptr [EAX + 0x14]
00790862 : TEST ESI,ESI
00790864 : JNZ 0x0079087e
00790866 : MOV ESI,dword ptr [0x00da98e8]
0079086c : PUSH 0xc14508
00790871 : CALL 0x008018d0
00790876 : ADD ESP,0x4
00790879 : JMP 0x007909db
0079087e : LEA EAX,[EDI + 0x8]
00790881 : PUSH EAX
00790882 : LEA ECX,[EBP + 0xfffffdc0]
00790888 : CALL 0x00406460
0079088d : MOV dword ptr [EBP + -0x4],0x0
00790894 : MOV EDX,dword ptr [ESI]
00790896 : MOV EDX,dword ptr [EDX + 0x40]
00790899 : LEA EAX,[EBP + 0xfffffdc0]
0079089f : PUSH EAX
007908a0 : MOV ECX,ESI
007908a2 : CALL EDX
007908a4 : MOV EBX,EAX
007908a6 : MOV dword ptr [EBP + -0x4],0xffffffff
007908ad : CMP dword ptr [EBP + 0xfffffdd8],0x8
007908b4 : JC 0x007908c1
007908b6 : MOV ECX,dword ptr [EBP + 0xfffffdc4]
007908bc : CALL 0x006f04e0
007908c1 : XOR EAX,EAX
007908c3 : MOV dword ptr [EBP + 0xfffffdd8],0x7
007908cd : MOV dword ptr [EBP + 0xfffffdd4],0x0
007908d7 : MOV word ptr [EBP + 0xfffffdc4],AX
007908de : TEST EBX,EBX
007908e0 : JZ 0x0079096d
007908e6 : ADD EDI,0x210
007908ec : PUSH EDI
007908ed : LEA ECX,[EBP + 0xfffffda4]
007908f3 : CALL 0x00406460
007908f8 : MOV dword ptr [EBP + -0x4],0x1
007908ff : LEA EDI,[EBP + 0xfffffda4]
00790905 : CALL 0x007cecc0
0079090a : MOV ESI,EAX
0079090c : MOV dword ptr [EBP + 0xfffffde0],ESI
00790912 : MOV dword ptr [EBP + -0x4],0xffffffff
00790919 : CMP dword ptr [EBP + 0xfffffdbc],0x8
00790920 : JC 0x0079092d
00790922 : MOV ECX,dword ptr [EBP + 0xfffffda8]
00790928 : CALL 0x006f04e0
0079092d : MOV EDX,dword ptr [ESI]
0079092f : MOV EAX,dword ptr [EDX + 0x14]
00790932 : XOR ECX,ECX
00790934 : MOV word ptr [EBP + 0xfffffda8],CX
0079093b : PUSH EBX
0079093c : MOV ECX,ESI
0079093e : MOV dword ptr [EBP + 0xfffffdbc],0x7
00790948 : MOV dword ptr [EBP + 0xfffffdb8],0x0
00790952 : CALL EAX
00790954 : MOV EDX,dword ptr [EBP + 0xfffffddc]
0079095a : ADD EDX,0xd8
00790960 : LEA EDI,[EBP + 0xfffffde0]
00790966 : CALL 0x00449730
0079096b : JMP 0x007909db
0079096d : PUSH 0xcca49c
00790972 : LEA ECX,[EBP + 0xfffffdec]
00790978 : PUSH 0x100
0079097d : MOV EBX,0xcd083c
00790982 : PUSH ECX
00790983 : MOV dword ptr [EBP + 0xfffffde4],EBX
00790989 : MOV dword ptr [EBP + 0xfffffde8],0xff
00790993 : CALL 0x0063481b
00790998 : ADD ESP,0xc
0079099b : MOV dword ptr [EBP + -0x4],0x2
007909a2 : ADD EDI,0x210
007909a8 : PUSH EDI
007909a9 : PUSH 0xc145b8
007909ae : LEA ECX,[EBP + 0xfffffde4]
007909b4 : CALL 0x0041f590
007909b9 : MOV ESI,dword ptr [0x00da98e8]
007909bf : LEA EDX,[EBP + 0xfffffdec]
007909c5 : PUSH EDX
007909c6 : CALL 0x008018d0
007909cb : ADD ESP,0xc
007909ce : MOV dword ptr [EBP + -0x4],0xffffffff
007909d5 : MOV dword ptr [EBP + 0xfffffde4],EBX
007909db : MOV ECX,dword ptr [EBP + -0xc]
007909de : MOV dword ptr FS:[0x0],ECX
007909e5 : POP ECX
007909e6 : POP EDI
007909e7 : POP ESI
007909e8 : POP EBX
007909e9 : MOV ECX,dword ptr [EBP + -0x14]
007909ec : XOR ECX,EBP
007909ee : CALL 0x00633e6b
007909f3 : MOV ESP,EBP
007909f5 : POP EBP
007909f6 : RET 0x4
