PROGRAM  : Maestia.exe
FUNCTION : FUN_0084b7f0
ENTRY    : 0084b7f0
BODY     : [[0084b7f0, 0084b96f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0084b7f0(int param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  uint in_ECX;
  int iVar3;
  int local_38;
  int local_34;
  undefined1 local_30 [28];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b6854b;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar2 = *(int *)(param_1 + 0x1c);
  local_38 = param_2;
  local_14 = uVar1;
  FUN_004437f0(&local_38);
  if ((((local_34 != *(int *)(iVar2 + 4)) && (iVar2 = *(int *)(local_34 + 0x10), iVar2 != 0)) &&
      (*(int *)(*DAT_00da9894 + 0x1a8) != 0)) &&
     ((in_ECX != 0 && (in_ECX <= *(ushort *)(*(int *)(iVar2 + 4) + 0xc2))))) {
    if (*(uint *)(iVar2 + 0xc4) < 8) {
      iVar3 = iVar2 + 0xb0;
    }
    else {
      iVar3 = *(int *)(iVar2 + 0xb0);
    }
    if (*(uint *)(iVar2 + 0x38) < 8) {
      iVar2 = iVar2 + 0x24;
    }
    else {
      iVar2 = *(int *)(iVar2 + 0x24);
    }
    FUN_00404750(L"[%s] %s : %d / %d",iVar2,iVar3);
    local_8 = 0;
    (**(code **)(**(int **)(*DAT_00da9894 + 0x1a8) + 0x44))(local_30,0x12,uVar1);
    local_8 = 0xffffffff;
    FUN_00406560();
  }
  FUN_008461c0();
  FUN_00934770(param_2,0);
  local_34 = *(int *)(*(int *)(*DAT_00da9894 + 0x174) + 0x38);
  iVar2 = *(int *)(DAT_017248f8 + 0x1c);
  FUN_004437f0(&local_34);
  if ((local_38 == *(int *)(iVar2 + 4)) || (*(int *)(local_38 + 0x10) == 0)) {
    FUN_00a1adc0(0);
    FUN_009807d0();
  }
  else {
    FUN_00934ef0();
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0084b7f0 : PUSH EBP
0084b7f1 : MOV EBP,ESP
0084b7f3 : PUSH -0x1
0084b7f5 : PUSH 0xb6854b
0084b7fa : MOV EAX,FS:[0x0]
0084b800 : PUSH EAX
0084b801 : SUB ESP,0x28
0084b804 : MOV EAX,[0x00d66fa0]
0084b809 : XOR EAX,EBP
0084b80b : MOV dword ptr [EBP + -0x10],EAX
0084b80e : PUSH EBX
0084b80f : PUSH ESI
0084b810 : PUSH EDI
0084b811 : PUSH EAX
0084b812 : LEA EAX,[EBP + -0xc]
0084b815 : MOV FS:[0x0],EAX
0084b81b : MOV EDI,ECX
0084b81d : MOV EBX,dword ptr [EBP + 0x8]
0084b820 : MOV EAX,dword ptr [EBP + 0xc]
0084b823 : MOV ESI,dword ptr [EBX + 0x1c]
0084b826 : LEA ECX,[EBP + -0x34]
0084b829 : MOV dword ptr [EBP + -0x34],EAX
0084b82c : PUSH ECX
0084b82d : LEA EAX,[EBP + -0x30]
0084b830 : MOV ECX,ESI
0084b832 : CALL 0x004437f0
0084b837 : MOV ESI,dword ptr [ESI + 0x4]
0084b83a : MOV EAX,dword ptr [EBP + -0x30]
0084b83d : CMP EAX,ESI
0084b83f : JZ 0x0084b8e8
0084b845 : MOV EAX,dword ptr [EAX + 0x10]
0084b848 : TEST EAX,EAX
0084b84a : JZ 0x0084b8e8
0084b850 : MOV EDX,dword ptr [0x00da9894]
0084b856 : MOV ECX,dword ptr [EDX]
0084b858 : CMP dword ptr [ECX + 0x1a8],0x0
0084b85f : JZ 0x0084b8e8
0084b865 : TEST EDI,EDI
0084b867 : JBE 0x0084b8e8
0084b869 : MOV EDX,dword ptr [EAX + 0x4]
0084b86c : MOVZX ECX,word ptr [EDX + 0xc2]
0084b873 : CMP EDI,ECX
0084b875 : JA 0x0084b8e8
0084b877 : MOV ESI,0x8
0084b87c : CMP dword ptr [EAX + 0xc4],ESI
0084b882 : JC 0x0084b88c
0084b884 : MOV ECX,dword ptr [EAX + 0xb0]
0084b88a : JMP 0x0084b892
0084b88c : LEA ECX,[EAX + 0xb0]
0084b892 : CMP dword ptr [EAX + 0x38],ESI
0084b895 : JC 0x0084b89c
0084b897 : MOV EAX,dword ptr [EAX + 0x24]
0084b89a : JMP 0x0084b89f
0084b89c : ADD EAX,0x24
0084b89f : MOVZX EDX,word ptr [EDX + 0xc2]
0084b8a6 : PUSH EDX
0084b8a7 : PUSH EDI
0084b8a8 : PUSH ECX
0084b8a9 : PUSH EAX
0084b8aa : PUSH 0xc3c1f0
0084b8af : LEA ESI,[EBP + -0x2c]
0084b8b2 : CALL 0x00404750
0084b8b7 : ADD ESP,0x14
0084b8ba : MOV dword ptr [EBP + -0x4],0x0
0084b8c1 : MOV EAX,[0x00da9894]
0084b8c6 : MOV EAX,dword ptr [EAX]
0084b8c8 : MOV ECX,dword ptr [EAX + 0x1a8]
0084b8ce : MOV EDX,dword ptr [ECX]
0084b8d0 : MOV EDX,dword ptr [EDX + 0x44]
0084b8d3 : PUSH 0x12
0084b8d5 : MOV EAX,ESI
0084b8d7 : PUSH EAX
0084b8d8 : CALL EDX
0084b8da : MOV dword ptr [EBP + -0x4],0xffffffff
0084b8e1 : MOV ECX,ESI
0084b8e3 : CALL 0x00406560
0084b8e8 : MOV EAX,dword ptr [EBP + 0xc]
0084b8eb : MOV ESI,dword ptr [EBX + 0x1c]
0084b8ee : CALL 0x008461c0
0084b8f3 : MOV EAX,dword ptr [EBP + 0xc]
0084b8f6 : PUSH 0x0
0084b8f8 : PUSH EAX
0084b8f9 : CALL 0x00934770
0084b8fe : MOV ECX,dword ptr [0x00da9894]
0084b904 : MOV EDX,dword ptr [ECX]
0084b906 : MOV EAX,dword ptr [EDX + 0x174]
0084b90c : MOV ECX,dword ptr [EAX + 0x38]
0084b90f : MOV EDX,dword ptr [0x017248f8]
0084b915 : MOV ESI,dword ptr [EDX + 0x1c]
0084b918 : LEA EAX,[EBP + -0x30]
0084b91b : MOV dword ptr [EBP + -0x30],ECX
0084b91e : PUSH EAX
0084b91f : LEA EAX,[EBP + -0x34]
0084b922 : MOV ECX,ESI
0084b924 : CALL 0x004437f0
0084b929 : MOV EAX,dword ptr [EBP + -0x34]
0084b92c : CMP EAX,dword ptr [ESI + 0x4]
0084b92f : JZ 0x0084b941
0084b931 : MOV EAX,dword ptr [EAX + 0x10]
0084b934 : TEST EAX,EAX
0084b936 : JZ 0x0084b941
0084b938 : MOV ECX,EAX
0084b93a : CALL 0x00934ef0
0084b93f : JMP 0x0084b952
0084b941 : MOV EAX,[0x00da93ec]
0084b946 : PUSH 0x0
0084b948 : CALL 0x00a1adc0
0084b94d : CALL 0x009807d0
0084b952 : MOV ECX,dword ptr [EBP + -0xc]
0084b955 : MOV dword ptr FS:[0x0],ECX
0084b95c : POP ECX
0084b95d : POP EDI
0084b95e : POP ESI
0084b95f : POP EBX
0084b960 : MOV ECX,dword ptr [EBP + -0x10]
0084b963 : XOR ECX,EBP
0084b965 : CALL 0x00633e6b
0084b96a : MOV ESP,EBP
0084b96c : POP EBP
0084b96d : RET 0x8
