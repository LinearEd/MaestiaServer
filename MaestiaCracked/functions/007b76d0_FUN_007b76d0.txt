PROGRAM  : Maestia.exe
FUNCTION : FUN_007b76d0
ENTRY    : 007b76d0
BODY     : [[007b76d0, 007b7b08]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Function: __alloca_probe replaced with injection: alloca_probe */

void FUN_007b76d0(int param_1)

{
  char cVar1;
  uint uVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  void *_Src;
  LPCRITICAL_SECTION local_17e4;
  char *local_17e0;
  undefined4 local_17dc;
  int local_17d8;
  undefined4 local_17d4;
  int local_17d0;
  char local_17c9;
  undefined1 local_17c8 [1696];
  undefined **local_1128 [73];
  undefined1 local_1004 [1780];
  undefined **local_910;
  size_t local_90c;
  undefined1 local_908 [304];
  undefined4 local_7d8;
  undefined4 local_7d4;
  undefined1 local_7c0 [1696];
  undefined **local_120;
  undefined1 local_118 [256];
  uint local_18;
  undefined4 uStack_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4d459;
  local_10 = ExceptionList;
  uStack_14 = 0x7b76eb;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_17e4 = (LPCRITICAL_SECTION)(DAT_017251ac + 0x424);
  local_17d8 = 0;
  local_17e0 = ".\\SpeedTree5.0\\CSpeedTreeRenderer.cpp";
  local_17dc = 0x25f;
  local_17d4 = 1;
  local_18 = uVar2;
  FUN_006ef1a0(&local_17e4);
  local_8 = 0;
  local_17d0 = 1;
  do {
    FUN_004687c0(uVar2);
    local_17d0 = local_17d0 + 1;
  } while (local_17d0 < 9);
  FUN_0046cca0(&local_910);
  local_8._0_1_ = 1;
  local_7d8 = *(undefined4 *)(param_1 + 0xb800);
  local_7d4 = *(undefined4 *)(param_1 + 0xb804);
  FUN_00a66fb0(local_17c8);
  local_8._0_1_ = 2;
  FUN_0046cda0(local_1128);
  local_8 = CONCAT31(local_8._1_3_,3);
  FUN_00465340(param_1 + 0xc08);
  FUN_0046f6c0();
  FUN_0046f6c0();
  if (*(char *)(param_1 + 0xae0c) == '\0') {
    local_90c = *(size_t *)(param_1 + 0xaabc);
    if (local_90c == 0) goto LAB_007b78e6;
    _Src = (void *)(param_1 + 0xaac0);
  }
  else {
    local_90c = *(size_t *)(param_1 + 0xaccc);
    if (local_90c == 0) goto LAB_007b78e6;
    _Src = (void *)(param_1 + 0xacd0);
  }
  _memmove(local_908,_Src,local_90c);
LAB_007b78e6:
  local_908[local_90c] = 0;
  FUN_00468a20();
  local_8._0_1_ = 4;
  FUN_00a66f40(local_1004);
  local_1128[0] = &PTR_FUN_00cd3f48;
  local_8._0_1_ = 1;
  FUN_00a66f40(local_17c8);
  local_8._0_1_ = 6;
  FUN_00a66f40(local_7c0);
  local_8._0_1_ = 0;
  *(undefined4 *)(param_1 + 0x7684) = 0x42c80000;
  *(undefined4 *)(param_1 + 0x7688) = 0x43fa0000;
  *(undefined1 *)(param_1 + 0x90e0) = *(undefined1 *)(param_1 + 0xaa86);
  local_910 = &PTR_FUN_00cd3f48;
  *(undefined4 *)(param_1 + 0x8358) = 0x14;
  FUN_00473bc0(param_1 + 0x81f8,0x14);
  *(undefined4 *)(param_1 + 0x8354) = 0xc80;
  FUN_004fd180(param_1 + 0x9910);
  FUN_004fd180(param_1 + 0x9924);
  cVar1 = FUN_004fd180(param_1 + 0x9938);
  if (cVar1 == '\0') {
    *(undefined4 *)(param_1 + 0x9940) = *(undefined4 *)(param_1 + 0x9944);
  }
  else {
    *(undefined4 *)(param_1 + 0x9940) = 0x28;
  }
  *(int *)(param_1 + 0x8794) = param_1 + 0x1424;
  FUN_0046f7f0(param_1 + 0xabc0);
  local_8 = CONCAT31(local_8._1_3_,8);
  local_17c9 = FUN_00467830(param_1 + 0x7680,local_118,*(undefined4 *)(param_1 + 0xb824));
  if (local_17c9 == '\0') {
    FUN_008018d0(L"%d : [%s] Failed Grass initialize",0x2a7,
                 L"SpeedTree::CSpeedTreeRenderer::InitGrass");
    local_120 = &PTR_FUN_00cd3f48;
    local_8 = 0xffffffff;
    if (local_17d8 != 0) {
      LeaveCriticalSection(local_17e4);
      local_17d8 = 0;
    }
  }
  else {
    puVar4 = (undefined4 *)(param_1 + 0xb768);
    puVar5 = (undefined4 *)(param_1 + 0x768c);
    for (iVar3 = 0x26; iVar3 != 0; iVar3 = iVar3 + -1) {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + 1;
      puVar5 = puVar5 + 1;
    }
    FUN_007b5a90(param_1);
    *(char *)(param_1 + 0x9960) = local_17c9;
    local_120 = &PTR_FUN_00cd3f48;
    local_8 = 0xffffffff;
    if (local_17d8 != 0) {
      LeaveCriticalSection(local_17e4);
      local_17d8 = 0;
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_18 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
007b76d0 : PUSH EBP
007b76d1 : MOV EBP,ESP
007b76d3 : PUSH -0x1
007b76d5 : PUSH 0xb4d459
007b76da : MOV EAX,FS:[0x0]
007b76e0 : PUSH EAX
007b76e1 : MOV EAX,0x1800
007b76e6 : CALL 0x0063b780
007b76eb : MOV EAX,[0x00d66fa0]
007b76f0 : XOR EAX,EBP
007b76f2 : MOV dword ptr [EBP + -0x14],EAX
007b76f5 : PUSH EBX
007b76f6 : PUSH ESI
007b76f7 : PUSH EDI
007b76f8 : PUSH EAX
007b76f9 : LEA EAX,[EBP + -0xc]
007b76fc : MOV FS:[0x0],EAX
007b7702 : MOV EAX,[0x017251ac]
007b7707 : MOV EBX,dword ptr [EBP + 0x8]
007b770a : LEA ECX,[EBP + 0xffffe820]
007b7710 : XOR ESI,ESI
007b7712 : ADD EAX,0x424
007b7717 : MOV EDI,0x1
007b771c : PUSH ECX
007b771d : MOV dword ptr [EBP + 0xffffe82c],ESI
007b7723 : MOV dword ptr [EBP + 0xffffe820],EAX
007b7729 : MOV dword ptr [EBP + 0xffffe824],0xc186ec
007b7733 : MOV dword ptr [EBP + 0xffffe828],0x25f
007b773d : MOV dword ptr [EBP + 0xffffe830],EDI
007b7743 : CALL 0x006ef1a0
007b7748 : MOV dword ptr [EBP + -0x4],ESI
007b774b : MOV dword ptr [EBP + 0xffffe834],EDI
007b7751 : LEA ESI,[EBX + 0xb808]
007b7757 : MOVSS XMM0,dword ptr [0x00cdf144]
007b775f : MOV EDX,dword ptr [EBP + 0xffffe834]
007b7765 : MOVSS dword ptr [EBP + 0xffffe7fc],XMM0
007b776d : MOVSS XMM0,dword ptr [0x00cdf7d0]
007b7775 : MOVSS dword ptr [EBP + 0xffffe800],XMM0
007b777d : MOVSS XMM0,dword ptr [0x00cdf728]
007b7785 : MOVSS dword ptr [EBP + 0xffffe804],XMM0
007b778d : XORPS XMM0,XMM0
007b7790 : MOVSS dword ptr [EBP + 0xffffe808],XMM0
007b7798 : MOVSS XMM0,dword ptr [0x00c10fc4]
007b77a0 : MOVSS dword ptr [EBP + 0xffffe80c],XMM0
007b77a8 : MOVSS XMM0,dword ptr [0x00cdf140]
007b77b0 : MOVSS dword ptr [EBP + 0xffffe810],XMM0
007b77b8 : MOVSS XMM0,dword ptr [0x00cdf500]
007b77c0 : MOVSS dword ptr [EBP + 0xffffe814],XMM0
007b77c8 : MOVSS XMM0,dword ptr [0x00cdf864]
007b77d0 : MOVSS dword ptr [EBP + 0xffffe818],XMM0
007b77d8 : MOVSS XMM0,dword ptr [0x00cdf860]
007b77e0 : LEA EDI,[EBP + 0xffffe7f8]
007b77e6 : MOV dword ptr [EBP + 0xffffe7f8],EDX
007b77ec : MOVSS dword ptr [EBP + 0xffffe81c],XMM0
007b77f4 : CALL 0x004687c0
007b77f9 : MOV EAX,dword ptr [EBP + 0xffffe834]
007b77ff : INC EAX
007b7800 : CMP EAX,0x9
007b7803 : MOV dword ptr [EBP + 0xffffe834],EAX
007b7809 : JL 0x007b7757
007b780f : LEA EAX,[EBP + 0xfffff6f4]
007b7815 : PUSH EAX
007b7816 : CALL 0x0046cca0
007b781b : MOV byte ptr [EBP + -0x4],0x1
007b781f : MOVSS XMM0,dword ptr [EBX + 0xb800]
007b7827 : LEA ECX,[EBP + 0xffffe83c]
007b782d : MOVSS dword ptr [EBP + 0xfffff82c],XMM0
007b7835 : MOVSS XMM0,dword ptr [EBX + 0xb804]
007b783d : PUSH ECX
007b783e : MOVSS dword ptr [EBP + 0xfffff830],XMM0
007b7846 : CALL 0x00a66fb0
007b784b : MOV byte ptr [EBP + -0x4],0x2
007b784f : LEA EDX,[EBP + 0xffffeedc]
007b7855 : PUSH EDX
007b7856 : CALL 0x0046cda0
007b785b : MOV byte ptr [EBP + -0x4],0x3
007b785f : LEA EAX,[EBX + 0xc08]
007b7865 : PUSH EAX
007b7866 : LEA EDI,[EBP + 0xffffeedc]
007b786c : CALL 0x00465340
007b7871 : LEA EAX,[EBP + 0xfffff000]
007b7877 : LEA ESI,[EBP + 0xffffe83c]
007b787d : CALL 0x0046f6c0
007b7882 : MOV EAX,ESI
007b7884 : LEA ESI,[EBP + 0xfffff844]
007b788a : CALL 0x0046f6c0
007b788f : CMP byte ptr [EBX + 0xae0c],0x0
007b7896 : JZ 0x007b78b9
007b7898 : MOV EAX,dword ptr [EBX + 0xaccc]
007b789e : MOV dword ptr [EBP + 0xfffff6f8],EAX
007b78a4 : TEST EAX,EAX
007b78a6 : JBE 0x007b78e6
007b78a8 : PUSH EAX
007b78a9 : LEA ECX,[EBX + 0xacd0]
007b78af : PUSH ECX
007b78b0 : LEA EDX,[EBP + 0xfffff6fc]
007b78b6 : PUSH EDX
007b78b7 : JMP 0x007b78d8
007b78b9 : MOV EAX,dword ptr [EBX + 0xaabc]
007b78bf : MOV dword ptr [EBP + 0xfffff6f8],EAX
007b78c5 : TEST EAX,EAX
007b78c7 : JBE 0x007b78e6
007b78c9 : PUSH EAX
007b78ca : LEA EAX,[EBX + 0xaac0]
007b78d0 : PUSH EAX
007b78d1 : LEA ECX,[EBP + 0xfffff6fc]
007b78d7 : PUSH ECX
007b78d8 : CALL 0x00636880
007b78dd : MOV EAX,dword ptr [EBP + 0xfffff6f8]
007b78e3 : ADD ESP,0xc
007b78e6 : MOV byte ptr [EBP + EAX*0x1 + 0xfffff6fc],0x0
007b78ee : LEA EDI,[EBX + 0x9124]
007b78f4 : LEA EAX,[EBP + 0xfffff6f4]
007b78fa : CALL 0x00468a20
007b78ff : MOV byte ptr [EBP + -0x4],0x4
007b7903 : LEA EDX,[EBP + 0xfffff000]
007b7909 : PUSH EDX
007b790a : CALL 0x00a66f40
007b790f : MOV byte ptr [EBP + -0x4],0x2
007b7913 : MOV ESI,0xcd3f48
007b7918 : MOV dword ptr [EBP + 0xffffeedc],ESI
007b791e : MOV byte ptr [EBP + -0x4],0x1
007b7922 : LEA EAX,[EBP + 0xffffe83c]
007b7928 : PUSH EAX
007b7929 : CALL 0x00a66f40
007b792e : MOV byte ptr [EBP + -0x4],0x6
007b7932 : LEA ECX,[EBP + 0xfffff844]
007b7938 : PUSH ECX
007b7939 : CALL 0x00a66f40
007b793e : MOV byte ptr [EBP + -0x4],0x0
007b7942 : MOVSS XMM0,dword ptr [0x00cdf230]
007b794a : MOVSS dword ptr [EBX + 0x7684],XMM0
007b7952 : MOVSS XMM0,dword ptr [0x00cdf228]
007b795a : MOVSS dword ptr [EBX + 0x7688],XMM0
007b7962 : MOV AL,byte ptr [EBX + 0xaa86]
007b7968 : PUSH 0x14
007b796a : LEA EDX,[EBX + 0x81f8]
007b7970 : MOV byte ptr [EBX + 0x90e0],AL
007b7976 : PUSH EDX
007b7977 : MOV dword ptr [EBP + 0xfffff6f4],ESI
007b797d : MOV dword ptr [EBX + 0x8358],0x14
007b7987 : CALL 0x00473bc0
007b798c : LEA ESI,[EBX + 0x9910]
007b7992 : PUSH ESI
007b7993 : MOV EAX,0x28
007b7998 : MOV dword ptr [EBX + 0x8354],0xc80
007b79a2 : CALL 0x004fd180
007b79a7 : LEA EAX,[ESI + 0x14]
007b79aa : PUSH EAX
007b79ab : MOV EAX,0x28
007b79b0 : CALL 0x004fd180
007b79b5 : ADD ESI,0x28
007b79b8 : PUSH ESI
007b79b9 : MOV EAX,0x28
007b79be : CALL 0x004fd180
007b79c3 : TEST AL,AL
007b79c5 : JZ 0x007b79d0
007b79c7 : MOV dword ptr [ESI + 0x8],0x28
007b79ce : JMP 0x007b79d6
007b79d0 : MOV ECX,dword ptr [ESI + 0xc]
007b79d3 : MOV dword ptr [ESI + 0x8],ECX
007b79d6 : LEA EAX,[EBX + 0xabc0]
007b79dc : LEA EDX,[EBX + 0x1424]
007b79e2 : LEA EDI,[EBX + 0xb650]
007b79e8 : PUSH EAX
007b79e9 : LEA ESI,[EBP + 0xfffffee4]
007b79ef : MOV dword ptr [EBX + 0x8794],EDX
007b79f5 : CALL 0x0046f7f0
007b79fa : MOV byte ptr [EBP + -0x4],0x8
007b79fe : FLD float ptr [EBX + 0xb824]
007b7a04 : PUSH ECX
007b7a05 : FSTP float ptr [ESP]
007b7a08 : LEA ECX,[EBP + 0xfffffeec]
007b7a0e : PUSH ECX
007b7a0f : LEA EAX,[EBX + 0x7680]
007b7a15 : PUSH EAX
007b7a16 : CALL 0x00467830
007b7a1b : MOV byte ptr [EBP + 0xffffe83b],AL
007b7a21 : TEST AL,AL
007b7a23 : JNZ 0x007b7a7b
007b7a25 : MOV ESI,dword ptr [0x00da98e8]
007b7a2b : PUSH 0xc18718
007b7a30 : PUSH 0x2a7
007b7a35 : PUSH 0xc18770
007b7a3a : CALL 0x008018d0
007b7a3f : ADD ESP,0xc
007b7a42 : MOV byte ptr [EBP + -0x4],0x0
007b7a46 : MOV dword ptr [EBP + 0xfffffee4],0xcd3f48
007b7a50 : MOV dword ptr [EBP + -0x4],0xffffffff
007b7a57 : CMP dword ptr [EBP + 0xffffe82c],0x0
007b7a5e : JZ 0x007b7a77
007b7a60 : MOV EDX,dword ptr [EBP + 0xffffe820]
007b7a66 : PUSH EDX
007b7a67 : CALL dword ptr [0x00b8511c]
007b7a6d : MOV dword ptr [EBP + 0xffffe82c],0x0
007b7a77 : XOR AL,AL
007b7a79 : JMP 0x007b7aeb
007b7a7b : LEA ESI,[EBX + 0xb768]
007b7a81 : LEA EDI,[EBX + 0x768c]
007b7a87 : MOV ECX,0x26
007b7a8c : MOVSD.REP ES:EDI,ESI
007b7a8e : MOV EAX,dword ptr [EBX + 0x8354]
007b7a94 : ADD EAX,EAX
007b7a96 : ADD EAX,EAX
007b7a98 : LEA ECX,[EBX + 0x994c]
007b7a9e : PUSH EBX
007b7a9f : CALL 0x007b5a90
007b7aa4 : MOV AL,byte ptr [EBP + 0xffffe83b]
007b7aaa : MOV byte ptr [EBX + 0x9960],AL
007b7ab0 : MOV byte ptr [EBP + -0x4],0x0
007b7ab4 : MOV dword ptr [EBP + 0xfffffee4],0xcd3f48
007b7abe : MOV dword ptr [EBP + -0x4],0xffffffff
007b7ac5 : CMP dword ptr [EBP + 0xffffe82c],0x0
007b7acc : JZ 0x007b7ae5
007b7ace : MOV ECX,dword ptr [EBP + 0xffffe820]
007b7ad4 : PUSH ECX
007b7ad5 : CALL dword ptr [0x00b8511c]
007b7adb : MOV dword ptr [EBP + 0xffffe82c],0x0
007b7ae5 : MOV AL,byte ptr [EBP + 0xffffe83b]
007b7aeb : MOV ECX,dword ptr [EBP + -0xc]
007b7aee : MOV dword ptr FS:[0x0],ECX
007b7af5 : POP ECX
007b7af6 : POP EDI
007b7af7 : POP ESI
007b7af8 : POP EBX
007b7af9 : MOV ECX,dword ptr [EBP + -0x14]
007b7afc : XOR ECX,EBP
007b7afe : CALL 0x00633e6b
007b7b03 : MOV ESP,EBP
007b7b05 : POP EBP
007b7b06 : RET 0x4
