PROGRAM  : Maestia.exe
FUNCTION : FUN_008c6e20
ENTRY    : 008c6e20
BODY     : [[008c6e20, 008c7282]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008c6e20(int param_1,undefined4 param_2)

{
  wchar_t wVar1;
  int *piVar2;
  ushort uVar3;
  uint uVar4;
  undefined4 uVar5;
  wchar_t *pwVar6;
  int iVar7;
  int iVar8;
  wchar_t *pwVar9;
  bool bVar10;
  undefined1 auStack_a4 [4];
  int *local_a0;
  undefined1 local_9c [4];
  int local_98;
  int local_94;
  undefined4 uStack_90;
  undefined1 local_8c [4];
  undefined2 local_88;
  undefined4 local_78;
  uint local_74;
  undefined2 local_6c;
  undefined4 local_5c;
  uint local_58;
  undefined1 local_54 [4];
  undefined2 local_50;
  undefined4 local_40;
  uint local_3c;
  undefined1 local_38 [4];
  undefined2 local_34;
  undefined4 local_24;
  uint local_20;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b6ac5b;
  local_14 = ExceptionList;
  local_1c = DAT_00d66fa0 ^ (uint)auStack_a4;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xffffff50;
  ExceptionList = &local_14;
  local_74 = 7;
  local_78 = 0;
  local_88 = 0;
  FUN_00406360(&DAT_00c50cb4,1);
  local_c = 0;
  uVar5 = FUN_00404350(param_2,uVar4);
  local_c._0_1_ = 1;
  FUN_0070cd60(local_9c,uVar5,local_8c,0);
  local_c = CONCAT31(local_c._1_3_,3);
  if (7 < local_58) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_58 = 7;
  local_5c = 0;
  local_6c = 0;
  local_c._0_1_ = 4;
  if (7 < local_74) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_88 = 0;
  local_74 = 7;
  local_78 = 0;
  local_20 = 7;
  local_24 = 0;
  local_34 = 0;
  FUN_00406360(&DAT_00c50cb8,0);
  local_c._0_1_ = 5;
  if (*(uint *)(param_1 + 0x18) < 8) {
    pwVar6 = (wchar_t *)(param_1 + 4);
  }
  else {
    pwVar6 = *(wchar_t **)(param_1 + 4);
  }
  pwVar9 = L"onTooltip";
  do {
    wVar1 = *pwVar6;
    bVar10 = (ushort)wVar1 < (ushort)*pwVar9;
    if (wVar1 != *pwVar9) {
LAB_008c6f7b:
      iVar7 = (1 - (uint)bVar10) - (uint)(bVar10 != 0);
      goto LAB_008c6f80;
    }
    if (wVar1 == L'\0') break;
    wVar1 = pwVar6[1];
    bVar10 = (ushort)wVar1 < (ushort)pwVar9[1];
    if (wVar1 != pwVar9[1]) goto LAB_008c6f7b;
    pwVar6 = pwVar6 + 2;
    pwVar9 = pwVar9 + 2;
  } while (wVar1 != L'\0');
  iVar7 = 0;
LAB_008c6f80:
  if ((iVar7 == 0) &&
     (iVar7 = local_94 - local_98 >> 0x1f, (local_94 - local_98) / 0x1c + iVar7 != iVar7)) {
    if (*(uint *)(local_98 + 0x18) < 8) {
      iVar7 = local_98 + 4;
    }
    else {
      iVar7 = *(int *)(local_98 + 4);
    }
    uVar3 = FUN_00634f4d(iVar7);
    uVar4 = (uint)uVar3;
    FUN_00406460(L"IDS_TOOLTIP_KEYINFO");
    local_c._0_1_ = 6;
    iVar7 = FUN_0081d120(local_8c);
    local_c._0_1_ = 7;
    if (*(uint *)(iVar7 + 0x18) < 8) {
      iVar7 = iVar7 + 4;
    }
    else {
      iVar7 = *(int *)(iVar7 + 4);
    }
    uVar5 = FUN_00404750(iVar7,uVar4 + 1);
    local_c._0_1_ = 8;
    FUN_00405eb0(uVar5,0,0xffffffff);
    local_c = CONCAT31(local_c._1_3_,7);
    if (7 < local_58) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_58 = 7;
    local_5c = 0;
    local_6c = 0;
    local_c = CONCAT31(local_c._1_3_,6);
    if (7 < local_3c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_3c = 7;
    local_40 = 0;
    local_50 = 0;
    local_c._0_1_ = 5;
    if (7 < local_74) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_74 = 7;
    local_78 = 0;
    local_88 = 0;
    if ((int)uVar4 <= local_a0[0x17]) {
      if (6 < uVar3) {
        FUN_00406460(L"Buffer Over Run!!");
        local_c._0_1_ = 10;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"AvaGuiKey::OnActionScriptCallback",0x55,local_54);
        }
        local_c._0_1_ = 5;
        FUN_00406560();
        local_c = CONCAT31(local_c._1_3_,4);
        FUN_00406560();
        local_c = 0xffffffff;
        FUN_004042c0();
        goto LAB_008c71ac;
      }
      iVar7 = local_a0[uVar4 * 2 + 0x19];
      iVar8 = FUN_004049b0(iVar7);
      if (iVar8 == 0) {
        FUN_008018d0(L"GuiKey SfItemData GetData Error proto : %d ",iVar7);
      }
      else {
        uVar5 = FUN_00824a20(DAT_0172491c,0);
        local_c._0_1_ = 9;
        FUN_00405eb0(uVar5,0,0xffffffff);
        local_c._0_1_ = 5;
        FUN_00406560();
      }
    }
    piVar2 = local_a0;
    (**(code **)(*local_a0 + 0x74))(uVar4,0);
    iVar7 = FUN_008f7d90();
    *(int *)(iVar7 + 0x2c) = piVar2[0xb];
    FUN_008fc070(local_38,0,0);
  }
  local_c = CONCAT31(local_c._1_3_,4);
  if (7 < local_20) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_20 = 7;
  local_24 = 0;
  local_34 = 0;
  local_c = 0xffffffff;
  if (local_98 != 0) {
    FUN_00405450(local_a0);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_98 = 0;
  local_94 = 0;
  uStack_90 = 0;
LAB_008c71ac:
  ExceptionList = local_14;
  __security_check_cookie(local_1c ^ (uint)auStack_a4);
  return;
}



============================================================
DISASSEMBLY
============================================================
008c6e20 : PUSH EBP
008c6e21 : MOV EBP,ESP
008c6e23 : AND ESP,0xfffffff8
008c6e26 : PUSH -0x1
008c6e28 : PUSH 0xb6ac5b
008c6e2d : MOV EAX,FS:[0x0]
008c6e33 : PUSH EAX
008c6e34 : SUB ESP,0x90
008c6e3a : MOV EAX,[0x00d66fa0]
008c6e3f : XOR EAX,ESP
008c6e41 : MOV dword ptr [ESP + 0x88],EAX
008c6e48 : PUSH EBX
008c6e49 : PUSH ESI
008c6e4a : PUSH EDI
008c6e4b : MOV EAX,[0x00d66fa0]
008c6e50 : XOR EAX,ESP
008c6e52 : PUSH EAX
008c6e53 : LEA EAX,[ESP + 0xa0]
008c6e5a : MOV FS:[0x0],EAX
008c6e60 : MOV ESI,dword ptr [EBP + 0xc]
008c6e63 : PUSH 0x1
008c6e65 : MOV dword ptr [ESP + 0x18],ECX
008c6e69 : XOR EAX,EAX
008c6e6b : MOV EDI,0x7
008c6e70 : XOR EBX,EBX
008c6e72 : PUSH 0xc50cb4
008c6e77 : LEA ECX,[ESP + 0x30]
008c6e7b : MOV dword ptr [ESP + 0x48],EDI
008c6e7f : MOV dword ptr [ESP + 0x44],EBX
008c6e83 : MOV word ptr [ESP + 0x34],AX
008c6e88 : CALL 0x00406360
008c6e8d : MOV dword ptr [ESP + 0xa8],EBX
008c6e94 : PUSH ESI
008c6e95 : LEA ESI,[ESP + 0x48]
008c6e99 : CALL 0x00404350
008c6e9e : ADD ESP,0x4
008c6ea1 : MOV byte ptr [ESP + 0xa8],0x1
008c6ea9 : PUSH EBX
008c6eaa : LEA ECX,[ESP + 0x2c]
008c6eae : PUSH ECX
008c6eaf : PUSH EAX
008c6eb0 : LEA EDX,[ESP + 0x24]
008c6eb4 : PUSH EDX
008c6eb5 : CALL 0x0070cd60
008c6eba : ADD ESP,0x10
008c6ebd : MOV byte ptr [ESP + 0xa8],0x3
008c6ec5 : MOV ESI,0x8
008c6eca : CMP dword ptr [ESP + 0x5c],ESI
008c6ece : JC 0x008c6ed9
008c6ed0 : MOV ECX,dword ptr [ESP + 0x48]
008c6ed4 : CALL 0x006f04e0
008c6ed9 : XOR EAX,EAX
008c6edb : MOV dword ptr [ESP + 0x5c],EDI
008c6edf : MOV dword ptr [ESP + 0x58],EBX
008c6ee3 : MOV word ptr [ESP + 0x48],AX
008c6ee8 : MOV byte ptr [ESP + 0xa8],0x4
008c6ef0 : CMP dword ptr [ESP + 0x40],ESI
008c6ef4 : JC 0x008c6eff
008c6ef6 : MOV ECX,dword ptr [ESP + 0x2c]
008c6efa : CALL 0x006f04e0
008c6eff : XOR ECX,ECX
008c6f01 : PUSH EBX
008c6f02 : MOV word ptr [ESP + 0x30],CX
008c6f07 : XOR EDX,EDX
008c6f09 : PUSH 0xc50cb8
008c6f0e : LEA ECX,[ESP + 0x84]
008c6f15 : MOV dword ptr [ESP + 0x48],EDI
008c6f19 : MOV dword ptr [ESP + 0x44],EBX
008c6f1d : MOV dword ptr [ESP + 0x9c],EDI
008c6f24 : MOV dword ptr [ESP + 0x98],EBX
008c6f2b : MOV word ptr [ESP + 0x88],DX
008c6f33 : CALL 0x00406360
008c6f38 : MOV byte ptr [ESP + 0xa8],0x5
008c6f40 : MOV EAX,dword ptr [EBP + 0x8]
008c6f43 : CMP dword ptr [EAX + 0x18],ESI
008c6f46 : JC 0x008c6f4d
008c6f48 : MOV EAX,dword ptr [EAX + 0x4]
008c6f4b : JMP 0x008c6f50
008c6f4d : ADD EAX,0x4
008c6f50 : MOV ECX,0xc50cbc
008c6f55 : MOV DX,word ptr [EAX]
008c6f58 : CMP DX,word ptr [ECX]
008c6f5b : JNZ 0x008c6f7b
008c6f5d : CMP DX,BX
008c6f60 : JZ 0x008c6f77
008c6f62 : MOV DX,word ptr [EAX + 0x2]
008c6f66 : CMP DX,word ptr [ECX + 0x2]
008c6f6a : JNZ 0x008c6f7b
008c6f6c : ADD EAX,0x4
008c6f6f : ADD ECX,0x4
008c6f72 : CMP DX,BX
008c6f75 : JNZ 0x008c6f55
008c6f77 : XOR EAX,EAX
008c6f79 : JMP 0x008c6f80
008c6f7b : SBB EAX,EAX
008c6f7d : SBB EAX,-0x1
008c6f80 : CMP EAX,EBX
008c6f82 : JNZ 0x008c713e
008c6f88 : MOV ECX,dword ptr [ESP + 0x20]
008c6f8c : MOV ESI,dword ptr [ESP + 0x1c]
008c6f90 : SUB ECX,ESI
008c6f92 : MOV EAX,0x92492493
008c6f97 : IMUL ECX
008c6f99 : ADD EDX,ECX
008c6f9b : SAR EDX,0x4
008c6f9e : MOV EAX,EDX
008c6fa0 : SHR EAX,0x1f
008c6fa3 : ADD EAX,EDX
008c6fa5 : JZ 0x008c7139
008c6fab : CMP dword ptr [ESI + 0x18],0x8
008c6faf : JC 0x008c6fb6
008c6fb1 : MOV EAX,dword ptr [ESI + 0x4]
008c6fb4 : JMP 0x008c6fb9
008c6fb6 : LEA EAX,[ESI + 0x4]
008c6fb9 : PUSH EAX
008c6fba : CALL 0x00634f4d
008c6fbf : ADD ESP,0x4
008c6fc2 : PUSH 0xc50cd0
008c6fc7 : LEA ECX,[ESP + 0x2c]
008c6fcb : MOVZX EBX,AX
008c6fce : CALL 0x00406460
008c6fd3 : MOV byte ptr [ESP + 0xa8],0x6
008c6fdb : LEA ECX,[ESP + 0x28]
008c6fdf : PUSH ECX
008c6fe0 : MOV ECX,dword ptr [0x0172491c]
008c6fe6 : LEA EDI,[ESP + 0x64]
008c6fea : CALL 0x0081d120
008c6fef : MOV byte ptr [ESP + 0xa8],0x7
008c6ff7 : CMP dword ptr [EAX + 0x18],0x8
008c6ffb : JC 0x008c7002
008c6ffd : MOV EAX,dword ptr [EAX + 0x4]
008c7000 : JMP 0x008c7005
008c7002 : ADD EAX,0x4
008c7005 : MOVZX EDI,BX
008c7008 : LEA EDX,[EDI + 0x1]
008c700b : PUSH EDX
008c700c : PUSH EAX
008c700d : LEA ESI,[ESP + 0x4c]
008c7011 : CALL 0x00404750
008c7016 : ADD ESP,0x8
008c7019 : MOV byte ptr [ESP + 0xa8],0x8
008c7021 : PUSH -0x1
008c7023 : PUSH 0x0
008c7025 : PUSH EAX
008c7026 : LEA ECX,[ESP + 0x88]
008c702d : CALL 0x00405eb0
008c7032 : MOV byte ptr [ESP + 0xa8],0x7
008c703a : MOV ESI,0x8
008c703f : CMP dword ptr [ESP + 0x5c],ESI
008c7043 : JC 0x008c704e
008c7045 : MOV ECX,dword ptr [ESP + 0x48]
008c7049 : CALL 0x006f04e0
008c704e : XOR EAX,EAX
008c7050 : MOV dword ptr [ESP + 0x5c],0x7
008c7058 : MOV dword ptr [ESP + 0x58],0x0
008c7060 : MOV word ptr [ESP + 0x48],AX
008c7065 : MOV byte ptr [ESP + 0xa8],0x6
008c706d : CMP dword ptr [ESP + 0x78],ESI
008c7071 : JC 0x008c707c
008c7073 : MOV ECX,dword ptr [ESP + 0x64]
008c7077 : CALL 0x006f04e0
008c707c : XOR ECX,ECX
008c707e : MOV dword ptr [ESP + 0x78],0x7
008c7086 : MOV dword ptr [ESP + 0x74],0x0
008c708e : MOV word ptr [ESP + 0x64],CX
008c7093 : MOV byte ptr [ESP + 0xa8],0x5
008c709b : CMP dword ptr [ESP + 0x40],ESI
008c709f : JC 0x008c70aa
008c70a1 : MOV ECX,dword ptr [ESP + 0x2c]
008c70a5 : CALL 0x006f04e0
008c70aa : MOV ESI,dword ptr [ESP + 0x14]
008c70ae : XOR EDX,EDX
008c70b0 : CMP EDI,dword ptr [ESI + 0x5c]
008c70b3 : MOV dword ptr [ESP + 0x40],0x7
008c70bb : MOV dword ptr [ESP + 0x3c],0x0
008c70c3 : MOV word ptr [ESP + 0x2c],DX
008c70c8 : JG 0x008c7101
008c70ca : CMP BX,0x7
008c70ce : JNC 0x008c7213
008c70d4 : MOV EDI,dword ptr [ESI + EDI*0x8 + 0x64]
008c70d8 : PUSH EDI
008c70d9 : CALL 0x004049b0
008c70de : ADD ESP,0x4
008c70e1 : TEST EAX,EAX
008c70e3 : JNZ 0x008c71d2
008c70e9 : MOV ESI,dword ptr [0x00da98e8]
008c70ef : PUSH EDI
008c70f0 : PUSH 0xc50cf8
008c70f5 : CALL 0x008018d0
008c70fa : ADD ESP,0x8
008c70fd : MOV ESI,dword ptr [ESP + 0x14]
008c7101 : MOV EAX,dword ptr [ESI]
008c7103 : MOV EDX,dword ptr [EAX + 0x74]
008c7106 : PUSH 0x0
008c7108 : PUSH EBX
008c7109 : MOV ECX,ESI
008c710b : CALL EDX
008c710d : MOV EAX,[0x0172489c]
008c7112 : CALL 0x008f7d90
008c7117 : MOV ECX,dword ptr [ESI + 0x2c]
008c711a : PUSH 0x0
008c711c : MOV dword ptr [EAX + 0x2c],ECX
008c711f : PUSH 0x0
008c7121 : LEA ECX,[ESP + 0x84]
008c7128 : PUSH ECX
008c7129 : XOR EDX,EDX
008c712b : MOV ECX,EAX
008c712d : CALL 0x008fc070
008c7132 : MOV EDI,0x7
008c7137 : XOR EBX,EBX
008c7139 : MOV ESI,0x8
008c713e : MOV byte ptr [ESP + 0xa8],0x4
008c7146 : CMP dword ptr [ESP + 0x94],ESI
008c714d : JC 0x008c715b
008c714f : MOV ECX,dword ptr [ESP + 0x80]
008c7156 : CALL 0x006f04e0
008c715b : XOR EDX,EDX
008c715d : MOV dword ptr [ESP + 0x94],EDI
008c7164 : MOV dword ptr [ESP + 0x90],EBX
008c716b : MOV word ptr [ESP + 0x80],DX
008c7173 : MOV dword ptr [ESP + 0xa8],0xffffffff
008c717e : MOV EAX,dword ptr [ESP + 0x1c]
008c7182 : CMP EAX,EBX
008c7184 : JZ 0x008c71a0
008c7186 : MOV ECX,dword ptr [ESP + 0x14]
008c718a : MOV EDI,dword ptr [ESP + 0x20]
008c718e : PUSH ECX
008c718f : CALL 0x00405450
008c7194 : MOV ECX,dword ptr [ESP + 0x20]
008c7198 : ADD ESP,0x4
008c719b : CALL 0x006f04e0
008c71a0 : MOV dword ptr [ESP + 0x1c],EBX
008c71a4 : MOV dword ptr [ESP + 0x20],EBX
008c71a8 : MOV dword ptr [ESP + 0x24],EBX
008c71ac : MOV ECX,dword ptr [ESP + 0xa0]
008c71b3 : MOV dword ptr FS:[0x0],ECX
008c71ba : POP ECX
008c71bb : POP EDI
008c71bc : POP ESI
008c71bd : POP EBX
008c71be : MOV ECX,dword ptr [ESP + 0x88]
008c71c5 : XOR ECX,ESP
008c71c7 : CALL 0x00633e6b
008c71cc : MOV ESP,EBP
008c71ce : POP EBP
008c71cf : RET 0x8
008c71d2 : LEA EDX,[EAX + 0x18]
008c71d5 : MOV EAX,[0x0172491c]
008c71da : PUSH 0x0
008c71dc : PUSH EAX
008c71dd : LEA ESI,[ESP + 0x68]
008c71e1 : CALL 0x00824a20
008c71e6 : MOV byte ptr [ESP + 0xa8],0x9
008c71ee : PUSH -0x1
008c71f0 : PUSH 0x0
008c71f2 : PUSH EAX
008c71f3 : LEA ECX,[ESP + 0x88]
008c71fa : CALL 0x00405eb0
008c71ff : MOV byte ptr [ESP + 0xa8],0x5
008c7207 : MOV ECX,ESI
008c7209 : CALL 0x00406560
008c720e : JMP 0x008c70fd
008c7213 : PUSH 0xc50d50
008c7218 : LEA ECX,[ESP + 0x64]
008c721c : CALL 0x00406460
008c7221 : MOV byte ptr [ESP + 0xa8],0xa
008c7229 : MOV ECX,dword ptr [0x00da98e8]
008c722f : MOV ECX,dword ptr [ECX]
008c7231 : TEST ECX,ECX
008c7233 : JZ 0x008c7248
008c7235 : MOV EDX,dword ptr [ECX]
008c7237 : MOV EDX,dword ptr [EDX + 0x14]
008c723a : LEA EAX,[ESP + 0x60]
008c723e : PUSH EAX
008c723f : PUSH 0x55
008c7241 : PUSH 0xc50d78
008c7246 : CALL EDX
008c7248 : MOV byte ptr [ESP + 0xa8],0x5
008c7250 : LEA ECX,[ESP + 0x60]
008c7254 : CALL 0x00406560
008c7259 : MOV byte ptr [ESP + 0xa8],0x4
008c7261 : LEA ECX,[ESP + 0x7c]
008c7265 : CALL 0x00406560
008c726a : MOV dword ptr [ESP + 0xa8],0xffffffff
008c7275 : LEA ESI,[ESP + 0x18]
008c7279 : CALL 0x004042c0
008c727e : JMP 0x008c71ac
