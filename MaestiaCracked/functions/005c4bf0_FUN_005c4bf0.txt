PROGRAM  : Maestia.exe
FUNCTION : FUN_005c4bf0
ENTRY    : 005c4bf0
BODY     : [[005c4bf0, 005c4d14]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005c4bf0(uint *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  int in_ECX;
  uint uVar5;
  undefined1 *puVar6;
  uint uVar7;
  undefined1 local_19;
  int local_18;
  
  iVar2 = *(int *)(*(int *)(in_ECX + 0x10) + -4 + *(int *)(in_ECX + 0x14) * 4);
  iVar3 = *(int *)(*(int *)(in_ECX + 8) + 0x78);
  iVar3 = FUN_005324f0(*(undefined4 *)(iVar3 + 0x2a0),iVar3 + 0x10,0,0xffffffff);
  if (*(char *)(in_ECX + 0x1c) == '\0') {
    local_19 = 0;
    param_1 = (uint *)FUN_00525450((*param_1 & 0xfffffffc) + 8,
                                   *(uint *)(*param_1 & 0xfffffffc) & 0x7fffffff);
    param_1[2] = param_1[2] + 1;
    local_18 = *(int *)(iVar2 + 0x10);
    puVar6 = &local_19;
    uVar4 = FUN_00526a90(iVar3);
    (**(code **)(local_18 + 0xc))(*(undefined4 *)(in_ECX + 8),&param_1,uVar4,puVar6);
    param_1[2] = param_1[2] - 1;
    if (param_1[2] == 0) {
      FUN_00525340();
    }
  }
  else {
    uVar4 = FUN_00526a90(iVar3);
    FUN_00585540(uVar4);
  }
  FUN_00526bc0();
  *(undefined1 *)(in_ECX + 0x1c) = 1;
  uVar5 = *(int *)(in_ECX + 0x14) + 1;
  if (uVar5 < *(uint *)(in_ECX + 0x14)) {
    uVar7 = uVar5;
    if (*(uint *)(in_ECX + 0x18) >> 1 <= uVar5) goto LAB_005c4cf1;
  }
  else {
    if (uVar5 < *(uint *)(in_ECX + 0x18)) goto LAB_005c4cf1;
    uVar7 = (uVar5 >> 2) + uVar5;
  }
  FUN_0057c3a0((int *)(in_ECX + 0x10),uVar7);
LAB_005c4cf1:
  *(uint *)(in_ECX + 0x14) = uVar5;
  piVar1 = (int *)(*(int *)(in_ECX + 0x10) + -4 + uVar5 * 4);
  if (piVar1 != (int *)0x0) {
    *piVar1 = iVar3;
  }
  if (iVar3 != 0) {
    FUN_00503db0();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005c4bf0 : SUB ESP,0x1c
005c4bf3 : PUSH EBX
005c4bf4 : PUSH EBP
005c4bf5 : PUSH ESI
005c4bf6 : PUSH EDI
005c4bf7 : MOV ESI,ECX
005c4bf9 : MOV EAX,dword ptr [ESI + 0x14]
005c4bfc : MOV ECX,dword ptr [ESI + 0x10]
005c4bff : MOV EBP,dword ptr [ECX + EAX*0x4 + -0x4]
005c4c03 : MOV ECX,dword ptr [ESI + 0x8]
005c4c06 : MOV EAX,dword ptr [ECX + 0x78]
005c4c09 : LEA EDI,[ESI + 0x10]
005c4c0c : PUSH -0x1
005c4c0e : MOV EDX,EAX
005c4c10 : MOV EDX,dword ptr [EDX + 0x2a0]
005c4c16 : PUSH 0x0
005c4c18 : ADD EAX,0x10
005c4c1b : PUSH EAX
005c4c1c : PUSH EDX
005c4c1d : CALL 0x005324f0
005c4c22 : CMP byte ptr [ESI + 0x1c],0x0
005c4c26 : MOV EBX,EAX
005c4c28 : JZ 0x005c4c3e
005c4c2a : PUSH EBX
005c4c2b : LEA ECX,[ESP + 0x20]
005c4c2f : CALL 0x00526a90
005c4c34 : PUSH EAX
005c4c35 : MOV ECX,EBP
005c4c37 : CALL 0x00585540
005c4c3c : JMP 0x005c4cba
005c4c3e : MOV EAX,dword ptr [ESI + 0x8]
005c4c41 : MOV ECX,dword ptr [ESP + 0x30]
005c4c45 : MOV byte ptr [ESP + 0x13],0x0
005c4c4a : MOV EDX,dword ptr [EAX + 0x78]
005c4c4d : MOV EAX,dword ptr [ECX]
005c4c4f : MOV ECX,EAX
005c4c51 : AND ECX,0xfffffffc
005c4c54 : MOV ECX,dword ptr [ECX]
005c4c56 : AND ECX,0x7fffffff
005c4c5c : AND EAX,0xfffffffc
005c4c5f : PUSH ECX
005c4c60 : ADD EAX,0x8
005c4c63 : PUSH EAX
005c4c64 : LEA ECX,[EDX + 0x254]
005c4c6a : CALL 0x00525450
005c4c6f : MOV dword ptr [ESP + 0x30],EAX
005c4c73 : INC dword ptr [EAX + 0x8]
005c4c76 : MOV EAX,dword ptr [EBP + 0x10]
005c4c79 : LEA EDX,[ESP + 0x13]
005c4c7d : ADD EBP,0x10
005c4c80 : PUSH EDX
005c4c81 : PUSH EBX
005c4c82 : LEA ECX,[ESP + 0x24]
005c4c86 : MOV dword ptr [ESP + 0x1c],EAX
005c4c8a : CALL 0x00526a90
005c4c8f : MOV ECX,dword ptr [ESI + 0x8]
005c4c92 : PUSH EAX
005c4c93 : LEA EAX,[ESP + 0x38]
005c4c97 : PUSH EAX
005c4c98 : MOV EAX,dword ptr [ESP + 0x20]
005c4c9c : MOV EDX,dword ptr [EAX + 0xc]
005c4c9f : PUSH ECX
005c4ca0 : MOV ECX,EBP
005c4ca2 : CALL EDX
005c4ca4 : MOV EAX,dword ptr [ESP + 0x30]
005c4ca8 : DEC dword ptr [EAX + 0x8]
005c4cab : MOV ECX,EAX
005c4cad : ADD EAX,0x8
005c4cb0 : CMP dword ptr [EAX],0x0
005c4cb3 : JNZ 0x005c4cba
005c4cb5 : CALL 0x00525340
005c4cba : LEA ECX,[ESP + 0x1c]
005c4cbe : CALL 0x00526bc0
005c4cc3 : MOV byte ptr [ESI + 0x1c],0x1
005c4cc7 : MOV ESI,dword ptr [EDI + 0x4]
005c4cca : INC ESI
005c4ccb : CMP ESI,dword ptr [EDI + 0x4]
005c4cce : JNC 0x005c4cdc
005c4cd0 : MOV EAX,dword ptr [EDI + 0x8]
005c4cd3 : SHR EAX,0x1
005c4cd5 : CMP ESI,EAX
005c4cd7 : JNC 0x005c4cf1
005c4cd9 : PUSH ESI
005c4cda : JMP 0x005c4ce9
005c4cdc : CMP ESI,dword ptr [EDI + 0x8]
005c4cdf : JC 0x005c4cf1
005c4ce1 : MOV ECX,ESI
005c4ce3 : SHR ECX,0x2
005c4ce6 : ADD ECX,ESI
005c4ce8 : PUSH ECX
005c4ce9 : PUSH EDI
005c4cea : MOV ECX,EDI
005c4cec : CALL 0x0057c3a0
005c4cf1 : MOV EDX,dword ptr [EDI]
005c4cf3 : MOV dword ptr [EDI + 0x4],ESI
005c4cf6 : LEA ESI,[EDX + ESI*0x4 + -0x4]
005c4cfa : TEST ESI,ESI
005c4cfc : JZ 0x005c4d00
005c4cfe : MOV dword ptr [ESI],EBX
005c4d00 : TEST EBX,EBX
005c4d02 : JZ 0x005c4d0b
005c4d04 : MOV ECX,EBX
005c4d06 : CALL 0x00503db0
005c4d0b : POP EDI
005c4d0c : POP ESI
005c4d0d : POP EBP
005c4d0e : POP EBX
005c4d0f : ADD ESP,0x1c
005c4d12 : RET 0x4
