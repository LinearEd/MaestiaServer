PROGRAM  : Maestia.exe
FUNCTION : FUN_00556aa0
ENTRY    : 00556aa0
BODY     : [[00556aa0, 00556b1e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00556aa0(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0xa0);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 0x103;
  iVar1 = FUN_00515840(uVar2 * 0xa0,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00556aa0 : MOV EAX,dword ptr [ESP + 0x8]
00556aa4 : PUSH EDI
00556aa5 : MOV EDI,ECX
00556aa7 : TEST EAX,EAX
00556aa9 : JNZ 0x00556ac8
00556aab : MOV EAX,dword ptr [EDI]
00556aad : TEST EAX,EAX
00556aaf : JZ 0x00556abd
00556ab1 : PUSH EAX
00556ab2 : CALL 0x00515cf0
00556ab7 : MOV dword ptr [EDI],0x0
00556abd : MOV dword ptr [EDI + 0x8],0x0
00556ac4 : POP EDI
00556ac5 : RET 0x8
00556ac8 : PUSH ESI
00556ac9 : LEA ESI,[EAX + 0x3]
00556acc : MOV EAX,dword ptr [EDI]
00556ace : SHR ESI,0x2
00556ad1 : ADD ESI,ESI
00556ad3 : ADD ESI,ESI
00556ad5 : TEST EAX,EAX
00556ad7 : JZ 0x00556af3
00556ad9 : LEA ECX,[ESI + ESI*0x4]
00556adc : ADD ECX,ECX
00556ade : ADD ECX,ECX
00556ae0 : ADD ECX,ECX
00556ae2 : PUSH ECX
00556ae3 : PUSH EAX
00556ae4 : CALL 0x00515c80
00556ae9 : MOV dword ptr [EDI + 0x8],ESI
00556aec : POP ESI
00556aed : MOV dword ptr [EDI],EAX
00556aef : POP EDI
00556af0 : RET 0x8
00556af3 : MOV ECX,dword ptr [0x00d73250]
00556af9 : LEA EAX,[ESI + ESI*0x4]
00556afc : ADD EAX,EAX
00556afe : LEA EDX,[ESP + 0x10]
00556b02 : ADD EAX,EAX
00556b04 : PUSH EDX
00556b05 : ADD EAX,EAX
00556b07 : PUSH EAX
00556b08 : MOV dword ptr [ESP + 0x18],0x103
00556b10 : CALL 0x00515840
00556b15 : MOV dword ptr [EDI + 0x8],ESI
00556b18 : POP ESI
00556b19 : MOV dword ptr [EDI],EAX
00556b1b : POP EDI
00556b1c : RET 0x8
