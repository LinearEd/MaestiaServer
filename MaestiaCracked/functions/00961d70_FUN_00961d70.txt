PROGRAM  : Maestia.exe
FUNCTION : FUN_00961d70
ENTRY    : 00961d70
BODY     : [[00961d70, 00961e3b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00961d70(int param_1,int param_2,undefined4 param_3)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  
  if ((*(int *)(param_1 + 0x38) != 0) &&
     (iVar1 = *(int *)(*(int *)(param_1 + 0x38) + 0x3c), iVar1 != 0)) {
    iVar3 = *(int *)(iVar1 + 0xc) * *(int *)(iVar1 + 8);
    iVar6 = 0;
    if (0 < iVar3) {
      while( true ) {
        if ((iVar6 < 0) || (*(int *)(iVar1 + 0xc) == 0)) {
          iVar4 = -1;
          iVar5 = -1;
        }
        else {
          iVar4 = iVar6 / *(int *)(iVar1 + 0xc);
          iVar5 = iVar6 - *(int *)(iVar1 + 0xc) * iVar4;
        }
        iVar4 = (**(code **)(**(int **)(param_1 + 0x38) + 0x74))(iVar5,iVar4);
        if ((iVar4 != 0) && (*(int *)(iVar4 + 0x10) == param_2)) break;
        iVar6 = iVar6 + 1;
        if (iVar3 <= iVar6) {
          return;
        }
      }
      if ((*DAT_00da9894 != 0) && (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0))
      {
        (**(code **)(*piVar2 + 4))(piVar2,"SetEventItemCnt","%d, %d",iVar6,param_3);
      }
      *(int *)(param_1 + 0x94 + iVar6 * 8) = param_2;
      *(undefined4 *)(param_1 + 0x90 + iVar6 * 8) = param_3;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00961d70 : PUSH EBP
00961d71 : MOV EBP,ESP
00961d73 : PUSH ECX
00961d74 : MOV EAX,dword ptr [EBP + 0x8]
00961d77 : MOV EAX,dword ptr [EAX + 0x38]
00961d7a : TEST EAX,EAX
00961d7c : JZ 0x00961e36
00961d82 : PUSH EDI
00961d83 : MOV EDI,dword ptr [EAX + 0x3c]
00961d86 : TEST EDI,EDI
00961d88 : JZ 0x00961e35
00961d8e : MOV ECX,dword ptr [EDI + 0x8]
00961d91 : MOV EAX,dword ptr [EDI + 0xc]
00961d94 : IMUL EAX,ECX
00961d97 : PUSH ESI
00961d98 : XOR ESI,ESI
00961d9a : MOV dword ptr [EBP + -0x4],EAX
00961d9d : TEST EAX,EAX
00961d9f : JLE 0x00961e34
00961da5 : PUSH EBX
00961da6 : TEST ESI,ESI
00961da8 : JL 0x00961dc1
00961daa : CMP dword ptr [EDI + 0xc],0x0
00961dae : JZ 0x00961dc1
00961db0 : MOV ECX,dword ptr [EDI + 0xc]
00961db3 : MOV EAX,ESI
00961db5 : CDQ
00961db6 : IDIV ECX
00961db8 : MOV EDX,ESI
00961dba : IMUL ECX,EAX
00961dbd : SUB EDX,ECX
00961dbf : JMP 0x00961dc6
00961dc1 : OR EAX,0xffffffff
00961dc4 : OR EDX,EAX
00961dc6 : MOV ECX,dword ptr [EBP + 0x8]
00961dc9 : MOV ECX,dword ptr [ECX + 0x38]
00961dcc : MOV EBX,dword ptr [ECX]
00961dce : PUSH EAX
00961dcf : PUSH EDX
00961dd0 : MOV EDX,dword ptr [EBX + 0x74]
00961dd3 : CALL EDX
00961dd5 : TEST EAX,EAX
00961dd7 : JZ 0x00961de1
00961dd9 : MOV EBX,dword ptr [EBP + 0xc]
00961ddc : CMP dword ptr [EAX + 0x10],EBX
00961ddf : JZ 0x00961df0
00961de1 : INC ESI
00961de2 : CMP ESI,dword ptr [EBP + -0x4]
00961de5 : JL 0x00961da6
00961de7 : POP EBX
00961de8 : POP ESI
00961de9 : POP EDI
00961dea : MOV ESP,EBP
00961dec : POP EBP
00961ded : RET 0xc
00961df0 : MOV EAX,[0x00da9894]
00961df5 : MOV EAX,dword ptr [EAX]
00961df7 : TEST EAX,EAX
00961df9 : JZ 0x00961e1f
00961dfb : MOV EAX,dword ptr [EAX + 0x114]
00961e01 : TEST EAX,EAX
00961e03 : JZ 0x00961e1f
00961e05 : MOV EDX,dword ptr [EBP + 0x10]
00961e08 : MOV ECX,dword ptr [EAX]
00961e0a : PUSH EDX
00961e0b : PUSH ESI
00961e0c : PUSH 0xc7b05c
00961e11 : PUSH 0xc7b064
00961e16 : PUSH EAX
00961e17 : MOV EAX,dword ptr [ECX + 0x4]
00961e1a : CALL EAX
00961e1c : ADD ESP,0x14
00961e1f : MOV EAX,dword ptr [EBP + 0x8]
00961e22 : MOV ECX,dword ptr [EBP + 0x10]
00961e25 : MOV dword ptr [EAX + ESI*0x8 + 0x94],EBX
00961e2c : MOV dword ptr [EAX + ESI*0x8 + 0x90],ECX
00961e33 : POP EBX
00961e34 : POP ESI
00961e35 : POP EDI
00961e36 : MOV ESP,EBP
00961e38 : POP EBP
00961e39 : RET 0xc
