PROGRAM  : Maestia.exe
FUNCTION : FUN_00767fc0
ENTRY    : 00767fc0
BODY     : [[00767fc0, 007682f3]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00767fc0(void)

{
  undefined4 *puVar1;
  uint uVar2;
  int iVar3;
  int in_ECX;
  byte *pbVar4;
  byte *pbVar5;
  float unaff_EBX;
  float unaff_ESI;
  float unaff_EDI;
  int iVar6;
  undefined4 *puVar7;
  undefined4 local_94;
  float local_90;
  float local_8c;
  float local_88;
  undefined4 local_78;
  undefined4 local_74;
  undefined4 local_70;
  undefined4 local_6c;
  float local_68;
  float local_64;
  float local_60;
  undefined4 uStack_5c;
  undefined4 auStack_54 [3];
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  undefined4 local_2c;
  float local_28;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 local_1c;
  undefined4 local_18;
  undefined4 local_14;
  undefined4 local_10;
  undefined4 local_c;
  
  puVar1 = (undefined4 *)FUN_0045f110(*(undefined4 *)(in_ECX + 0x24));
  local_68 = (float)puVar1[8];
  local_6c = puVar1[9];
  local_64 = (float)puVar1[10];
  local_70 = puVar1[0xb];
  local_60 = (float)puVar1[0xc];
  local_78 = puVar1[0xd];
  auStack_54[2] = puVar1[0xe];
  local_74 = puVar1[0xf];
  local_44 = puVar1[1];
  local_28 = local_68;
  local_24 = local_6c;
  local_20 = local_64;
  local_1c = local_70;
  local_18 = local_60;
  local_14 = local_78;
  local_10 = puVar1[0xe];
  local_48 = *puVar1;
  local_40 = puVar1[2];
  local_3c = puVar1[3];
  local_38 = puVar1[4];
  local_34 = puVar1[5];
  local_30 = puVar1[6];
  local_2c = puVar1[7];
  local_c = local_74;
  uVar2 = 0x40;
  pbVar4 = (byte *)&local_48;
  pbVar5 = (byte *)(in_ECX + 0x240);
  do {
    if (*(int *)pbVar5 != *(int *)pbVar4) {
      iVar3 = (uint)*pbVar5 - (uint)*pbVar4;
      if (((iVar3 == 0) && (iVar3 = (uint)pbVar5[1] - (uint)pbVar4[1], iVar3 == 0)) &&
         (iVar3 = (uint)pbVar5[2] - (uint)pbVar4[2], iVar3 == 0)) {
        iVar3 = (uint)pbVar5[3] - (uint)pbVar4[3];
      }
      if ((iVar3 >> 0x1f | 1U) != 0) {
        iVar3 = FUN_0079e8b0();
        iVar3 = iVar3 + 0x20;
        local_94 = 0;
        local_90 = 0.0;
        local_8c = 0.0;
        local_88 = 0.0;
        D3DXVec3Transform(&local_94,iVar3,&local_48);
        iVar6 = 7;
        local_90 = unaff_EDI;
        local_8c = unaff_ESI;
        local_88 = unaff_EBX;
        do {
          iVar3 = iVar3 + 0xc;
          local_68 = 0.0;
          local_64 = 0.0;
          local_60 = 0.0;
          uStack_5c = 0;
          D3DXVec3Transform(&local_68,iVar3,auStack_54);
          if (local_68 < local_90) {
            local_90 = local_68;
          }
          if (unaff_EDI < local_68) {
            unaff_EDI = local_68;
          }
          if (local_64 < local_8c) {
            local_8c = local_64;
          }
          if (unaff_ESI < local_64) {
            unaff_ESI = local_64;
          }
          if (local_60 < local_88) {
            local_88 = local_60;
          }
          if (unaff_EBX < local_60) {
            unaff_EBX = local_60;
          }
          iVar6 = iVar6 + -1;
        } while (iVar6 != 0);
        *(float *)(in_ECX + 0x78) = local_90;
        *(float *)(in_ECX + 0x7c) = local_8c;
        *(float *)(in_ECX + 0x80) = local_88;
        *(float *)(in_ECX + 0x84) = unaff_EDI;
        *(float *)(in_ECX + 0x88) = unaff_ESI;
        *(float *)(in_ECX + 0x8c) = unaff_EBX;
        *(undefined1 *)(in_ECX + 0xf4) = 0;
        *(undefined1 *)(in_ECX + 0xf5) = 1;
        puVar1 = auStack_54;
        puVar7 = (undefined4 *)(in_ECX + 0x240);
        for (iVar3 = 0x10; iVar3 != 0; iVar3 = iVar3 + -1) {
          *puVar7 = *puVar1;
          puVar1 = puVar1 + 1;
          puVar7 = puVar7 + 1;
        }
      }
      return in_ECX + 0x74;
    }
    uVar2 = uVar2 - 4;
    pbVar4 = pbVar4 + 4;
    pbVar5 = pbVar5 + 4;
  } while (3 < uVar2);
  return in_ECX + 0x74;
}



============================================================
DISASSEMBLY
============================================================
00767fc0 : PUSH EBP
00767fc1 : MOV EBP,ESP
00767fc3 : AND ESP,0xfffffff8
00767fc6 : SUB ESP,0x8c
00767fcc : PUSH EBX
00767fcd : PUSH ESI
00767fce : MOV EBX,ECX
00767fd0 : MOV EAX,dword ptr [EBX + 0x24]
00767fd3 : PUSH EDI
00767fd4 : PUSH EAX
00767fd5 : CALL 0x0045f110
00767fda : MOVSS XMM7,dword ptr [EAX + 0x20]
00767fdf : MOVSS XMM0,dword ptr [EAX + 0x4]
00767fe4 : MOVSS XMM1,dword ptr [EAX + 0x8]
00767fe9 : MOVSS XMM2,dword ptr [EAX + 0xc]
00767fee : MOVSS XMM3,dword ptr [EAX + 0x10]
00767ff3 : MOVSS XMM4,dword ptr [EAX + 0x14]
00767ff8 : MOVSS XMM5,dword ptr [EAX + 0x18]
00767ffd : MOVSS XMM6,dword ptr [EAX + 0x1c]
00768002 : MOVSS dword ptr [ESP + 0x38],XMM7
00768008 : MOVSS XMM7,dword ptr [EAX + 0x24]
0076800d : MOVSS dword ptr [ESP + 0x34],XMM7
00768013 : MOVSS XMM7,dword ptr [EAX + 0x28]
00768018 : MOVSS dword ptr [ESP + 0x3c],XMM7
0076801e : MOVSS XMM7,dword ptr [EAX + 0x2c]
00768023 : MOVSS dword ptr [ESP + 0x30],XMM7
00768029 : MOVSS XMM7,dword ptr [EAX + 0x30]
0076802e : MOVSS dword ptr [ESP + 0x40],XMM7
00768034 : MOVSS XMM7,dword ptr [EAX + 0x34]
00768039 : MOVSS dword ptr [ESP + 0x28],XMM7
0076803f : MOVSS XMM7,dword ptr [EAX + 0x38]
00768044 : MOVSS dword ptr [ESP + 0x54],XMM7
0076804a : MOVSS XMM7,dword ptr [EAX + 0x3c]
0076804f : MOVSS dword ptr [ESP + 0x2c],XMM7
00768055 : MOVSS XMM7,dword ptr [EAX]
00768059 : MOVSS dword ptr [ESP + 0x5c],XMM0
0076805f : MOVSS XMM0,dword ptr [ESP + 0x38]
00768065 : MOVSS dword ptr [ESP + 0x78],XMM0
0076806b : MOVSS XMM0,dword ptr [ESP + 0x34]
00768071 : MOVSS dword ptr [ESP + 0x7c],XMM0
00768077 : MOVSS XMM0,dword ptr [ESP + 0x3c]
0076807d : MOVSS dword ptr [ESP + 0x80],XMM0
00768086 : MOVSS XMM0,dword ptr [ESP + 0x30]
0076808c : MOVSS dword ptr [ESP + 0x84],XMM0
00768095 : MOVSS XMM0,dword ptr [ESP + 0x40]
0076809b : MOVSS dword ptr [ESP + 0x88],XMM0
007680a4 : MOVSS XMM0,dword ptr [ESP + 0x28]
007680aa : MOVSS dword ptr [ESP + 0x8c],XMM0
007680b3 : MOVSS XMM0,dword ptr [ESP + 0x54]
007680b9 : MOVSS dword ptr [ESP + 0x90],XMM0
007680c2 : MOVSS XMM0,dword ptr [ESP + 0x2c]
007680c8 : MOVSS dword ptr [ESP + 0x58],XMM7
007680ce : MOVSS dword ptr [ESP + 0x60],XMM1
007680d4 : MOVSS dword ptr [ESP + 0x64],XMM2
007680da : MOVSS dword ptr [ESP + 0x68],XMM3
007680e0 : MOVSS dword ptr [ESP + 0x6c],XMM4
007680e6 : MOVSS dword ptr [ESP + 0x70],XMM5
007680ec : MOVSS dword ptr [ESP + 0x74],XMM6
007680f2 : MOVSS dword ptr [ESP + 0x94],XMM0
007680fb : MOV EAX,0x40
00768100 : LEA ECX,[ESP + 0x58]
00768104 : LEA EDX,[EBX + 0x240]
0076810a : LEA EBX,[EBX]
00768110 : MOV ESI,dword ptr [EDX]
00768112 : CMP ESI,dword ptr [ECX]
00768114 : JNZ 0x0076812e
00768116 : SUB EAX,0x4
00768119 : ADD ECX,0x4
0076811c : ADD EDX,0x4
0076811f : CMP EAX,0x4
00768122 : JNC 0x00768110
00768124 : LEA EAX,[EBX + 0x74]
00768127 : POP EDI
00768128 : POP ESI
00768129 : POP EBX
0076812a : MOV ESP,EBP
0076812c : POP EBP
0076812d : RET
0076812e : MOVZX ESI,byte ptr [ECX]
00768131 : MOVZX EAX,byte ptr [EDX]
00768134 : SUB EAX,ESI
00768136 : JNZ 0x0076815a
00768138 : MOVZX ESI,byte ptr [ECX + 0x1]
0076813c : MOVZX EAX,byte ptr [EDX + 0x1]
00768140 : SUB EAX,ESI
00768142 : JNZ 0x0076815a
00768144 : MOVZX ESI,byte ptr [ECX + 0x2]
00768148 : MOVZX EAX,byte ptr [EDX + 0x2]
0076814c : SUB EAX,ESI
0076814e : JNZ 0x0076815a
00768150 : MOVZX ECX,byte ptr [ECX + 0x3]
00768154 : MOVZX EAX,byte ptr [EDX + 0x3]
00768158 : SUB EAX,ECX
0076815a : SAR EAX,0x1f
0076815d : OR EAX,0x1
00768160 : JZ 0x007682ea
00768166 : LEA EAX,[EBX + 0x378]
0076816c : CALL 0x0079e8b0
00768171 : XORPS XMM0,XMM0
00768174 : LEA EDX,[ESP + 0x58]
00768178 : LEA ESI,[EAX + 0x20]
0076817b : PUSH EDX
0076817c : PUSH ESI
0076817d : LEA EAX,[ESP + 0x14]
00768181 : PUSH EAX
00768182 : MOVSS dword ptr [ESP + 0x18],XMM0
00768188 : MOVSS dword ptr [ESP + 0x1c],XMM0
0076818e : MOVSS dword ptr [ESP + 0x20],XMM0
00768194 : MOVSS dword ptr [ESP + 0x24],XMM0
0076819a : CALL 0x004ff75e
0076819f : MOVSS XMM0,dword ptr [ESP + 0xc]
007681a5 : MOVSS XMM1,dword ptr [ESP + 0x10]
007681ab : MOVSS XMM2,dword ptr [ESP + 0x14]
007681b1 : MOVSS dword ptr [ESP + 0x1c],XMM0
007681b7 : MOVSS dword ptr [ESP + 0x20],XMM1
007681bd : MOVSS dword ptr [ESP + 0x24],XMM2
007681c3 : MOVSS dword ptr [ESP + 0xc],XMM0
007681c9 : MOVSS dword ptr [ESP + 0x10],XMM1
007681cf : MOVSS dword ptr [ESP + 0x14],XMM2
007681d5 : ADD ESI,0xc
007681d8 : MOV EDI,0x7
007681dd : LEA ECX,[ECX]
007681e0 : XORPS XMM0,XMM0
007681e3 : LEA ECX,[ESP + 0x58]
007681e7 : PUSH ECX
007681e8 : PUSH ESI
007681e9 : LEA EDX,[ESP + 0x4c]
007681ed : PUSH EDX
007681ee : MOVSS dword ptr [ESP + 0x50],XMM0
007681f4 : MOVSS dword ptr [ESP + 0x54],XMM0
007681fa : MOVSS dword ptr [ESP + 0x58],XMM0
00768200 : MOVSS dword ptr [ESP + 0x5c],XMM0
00768206 : CALL 0x004ff75e
0076820b : MOVSS XMM0,dword ptr [ESP + 0x44]
00768211 : MOVSS XMM6,dword ptr [ESP + 0x1c]
00768217 : COMISS XMM6,XMM0
0076821a : JBE 0x00768225
0076821c : MOVAPS XMM6,XMM0
0076821f : MOVSS dword ptr [ESP + 0x1c],XMM6
00768225 : MOVSS XMM5,dword ptr [ESP + 0xc]
0076822b : COMISS XMM0,XMM5
0076822e : JBE 0x00768239
00768230 : MOVAPS XMM5,XMM0
00768233 : MOVSS dword ptr [ESP + 0xc],XMM5
00768239 : MOVSS XMM0,dword ptr [ESP + 0x48]
0076823f : MOVSS XMM4,dword ptr [ESP + 0x20]
00768245 : COMISS XMM4,XMM0
00768248 : JBE 0x00768253
0076824a : MOVAPS XMM4,XMM0
0076824d : MOVSS dword ptr [ESP + 0x20],XMM4
00768253 : MOVSS XMM3,dword ptr [ESP + 0x10]
00768259 : COMISS XMM0,XMM3
0076825c : JBE 0x00768267
0076825e : MOVAPS XMM3,XMM0
00768261 : MOVSS dword ptr [ESP + 0x10],XMM3
00768267 : MOVSS XMM0,dword ptr [ESP + 0x4c]
0076826d : MOVSS XMM2,dword ptr [ESP + 0x24]
00768273 : COMISS XMM2,XMM0
00768276 : JBE 0x00768281
00768278 : MOVAPS XMM2,XMM0
0076827b : MOVSS dword ptr [ESP + 0x24],XMM2
00768281 : MOVSS XMM1,dword ptr [ESP + 0x14]
00768287 : COMISS XMM0,XMM1
0076828a : JBE 0x00768295
0076828c : MOVAPS XMM1,XMM0
0076828f : MOVSS dword ptr [ESP + 0x14],XMM1
00768295 : ADD ESI,0xc
00768298 : SUB EDI,0x1
0076829b : JNZ 0x007681e0
007682a1 : MOVSS dword ptr [EBX + 0x78],XMM6
007682a6 : MOVSS dword ptr [EBX + 0x7c],XMM4
007682ab : MOVSS dword ptr [EBX + 0x80],XMM2
007682b3 : MOVSS dword ptr [EBX + 0x84],XMM5
007682bb : MOVSS dword ptr [EBX + 0x88],XMM3
007682c3 : MOVSS dword ptr [EBX + 0x8c],XMM1
007682cb : MOV ECX,0x10
007682d0 : LEA ESI,[ESP + 0x58]
007682d4 : LEA EDI,[EBX + 0x240]
007682da : MOV byte ptr [EBX + 0xf4],0x0
007682e1 : MOV byte ptr [EBX + 0xf5],0x1
007682e8 : MOVSD.REP ES:EDI,ESI
007682ea : POP EDI
007682eb : POP ESI
007682ec : LEA EAX,[EBX + 0x74]
007682ef : POP EBX
007682f0 : MOV ESP,EBP
007682f2 : POP EBP
007682f3 : RET
