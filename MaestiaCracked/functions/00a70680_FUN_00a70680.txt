PROGRAM  : Maestia.exe
FUNCTION : FUN_00a70680
ENTRY    : 00a70680
BODY     : [[00a70680, 00a70837]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a70680(void)

{
  uint uVar1;
  int iVar2;
  int *piVar3;
  undefined2 uVar4;
  uint uVar5;
  undefined4 *puVar6;
  int *unaff_ESI;
  undefined1 local_30 [4];
  undefined4 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2b0fa;
  local_10 = ExceptionList;
  uVar5 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar5;
  FUN_008a8dc0(unaff_ESI[4]);
  uVar1 = *(uint *)(unaff_ESI[4] + 0xb8);
  uVar4 = FUN_008a87e0(uVar5);
  *(undefined2 *)(*unaff_ESI + 0xb4) = uVar4;
  (**(code **)(**(int **)(*DAT_00da9894 + 0x114) + 4))
            (*(int **)(*DAT_00da9894 + 0x114),"SetGuildConnectPlayer",&DAT_00c4b414,uVar4);
  piVar3 = DAT_00da9894;
  *(short *)(*unaff_ESI + 0xb6) = (short)uVar1;
  (**(code **)(**(int **)(*piVar3 + 0x114) + 4))
            (*(int **)(*piVar3 + 0x114),"SetGuildTotalPlayer",&DAT_00c4b430,uVar1 & 0xffff);
  FUN_008ab400();
  local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
  local_18 = 7;
  local_1c = 0;
  FUN_00406360(&DAT_00c49968,0);
  local_8 = 0;
  FUN_00405eb0(local_30,0,0xffffffff);
  puVar6 = local_2c;
  if (local_18 < 8) {
    puVar6 = &local_2c;
  }
  (**(code **)(**(int **)(*DAT_00da9894 + 0x114) + 4))
            (*(int **)(*DAT_00da9894 + 0x114),"SetGuildNotice",&DAT_00c4b448,puVar6);
  FUN_008ab5c0();
  FUN_008a9ce0();
  (**(code **)**(undefined4 **)(*DAT_00da9894 + 0x114))("DestoryGuildWindow");
  piVar3 = DAT_00da9894;
  iVar2 = *(int *)(*DAT_00da9894 + 0x1c8);
  *(undefined4 *)(iVar2 + 0x40) = 0;
  if (((*(char *)(iVar2 + 0x32) != '\0') && (iVar2 = *piVar3, iVar2 != 0)) &&
     (*(int *)(iVar2 + 0x114) != 0)) {
    (**(code **)(**(int **)(iVar2 + 0x114) + 4))
              (*(int **)(iVar2 + 0x114),"mc_guildlist.guildlist.SetMyGuildInfo","%d,%ls",0,
               &DAT_00c4a7f4);
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = (undefined4 *)((uint)local_2c & 0xffff0000);
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a70680 : PUSH EBP
00a70681 : MOV EBP,ESP
00a70683 : PUSH -0x1
00a70685 : PUSH 0xb2b0fa
00a7068a : MOV EAX,FS:[0x0]
00a70690 : PUSH EAX
00a70691 : SUB ESP,0x20
00a70694 : MOV EAX,[0x00d66fa0]
00a70699 : XOR EAX,EBP
00a7069b : MOV dword ptr [EBP + -0x10],EAX
00a7069e : PUSH EBX
00a7069f : PUSH EDI
00a706a0 : PUSH EAX
00a706a1 : LEA EAX,[EBP + -0xc]
00a706a4 : MOV FS:[0x0],EAX
00a706aa : MOV EAX,dword ptr [ESI + 0x10]
00a706ad : PUSH EAX
00a706ae : CALL 0x008a8dc0
00a706b3 : MOV EAX,dword ptr [ESI + 0x10]
00a706b6 : MOV EDI,dword ptr [EAX + 0xb8]
00a706bc : CALL 0x008a87e0
00a706c1 : MOV ECX,dword ptr [ESI]
00a706c3 : MOVZX EAX,AX
00a706c6 : MOV word ptr [ECX + 0xb4],AX
00a706cd : MOV ECX,dword ptr [0x00da9894]
00a706d3 : MOV ECX,dword ptr [ECX]
00a706d5 : MOV ECX,dword ptr [ECX + 0x114]
00a706db : MOV EDX,dword ptr [ECX]
00a706dd : MOVZX EAX,AX
00a706e0 : PUSH EAX
00a706e1 : PUSH 0xc4b414
00a706e6 : PUSH 0xc4b418
00a706eb : PUSH ECX
00a706ec : MOV ECX,dword ptr [EDX + 0x4]
00a706ef : CALL ECX
00a706f1 : MOV EAX,dword ptr [ESI]
00a706f3 : MOV EDX,dword ptr [0x00da9894]
00a706f9 : MOV word ptr [EAX + 0xb6],DI
00a70700 : MOV EAX,dword ptr [EDX]
00a70702 : MOV EAX,dword ptr [EAX + 0x114]
00a70708 : MOV ECX,dword ptr [EAX]
00a7070a : MOVZX EDX,DI
00a7070d : PUSH EDX
00a7070e : PUSH 0xc4b430
00a70713 : PUSH 0xc4b434
00a70718 : PUSH EAX
00a70719 : MOV EAX,dword ptr [ECX + 0x4]
00a7071c : CALL EAX
00a7071e : MOV EDI,dword ptr [ESI]
00a70720 : ADD ESP,0x20
00a70723 : CALL 0x008ab400
00a70728 : XOR EBX,EBX
00a7072a : XOR ECX,ECX
00a7072c : PUSH EBX
00a7072d : MOV word ptr [EBP + -0x28],CX
00a70731 : PUSH 0xc49968
00a70736 : LEA ECX,[EBP + -0x2c]
00a70739 : MOV dword ptr [EBP + -0x14],0x7
00a70740 : MOV dword ptr [EBP + -0x18],EBX
00a70743 : CALL 0x00406360
00a70748 : MOV dword ptr [EBP + -0x4],EBX
00a7074b : MOV EAX,dword ptr [ESI]
00a7074d : PUSH -0x1
00a7074f : PUSH EBX
00a70750 : LEA EDX,[EBP + -0x2c]
00a70753 : PUSH EDX
00a70754 : LEA ECX,[EAX + 0x3c]
00a70757 : CALL 0x00405eb0
00a7075c : CMP dword ptr [EBP + -0x14],0x8
00a70760 : MOV EAX,[0x00da9894]
00a70765 : MOV EAX,dword ptr [EAX]
00a70767 : MOV EAX,dword ptr [EAX + 0x114]
00a7076d : MOV ECX,dword ptr [EBP + -0x28]
00a70770 : JNC 0x00a70775
00a70772 : LEA ECX,[EBP + -0x28]
00a70775 : MOV EDX,dword ptr [EAX]
00a70777 : PUSH ECX
00a70778 : PUSH 0xc4b448
00a7077d : PUSH 0xc4b44c
00a70782 : PUSH EAX
00a70783 : MOV EAX,dword ptr [EDX + 0x4]
00a70786 : CALL EAX
00a70788 : MOV EDI,dword ptr [ESI]
00a7078a : ADD ESP,0x10
00a7078d : CALL 0x008ab5c0
00a70792 : MOV ECX,dword ptr [ESI + 0x8]
00a70795 : CALL 0x008a9ce0
00a7079a : MOV ECX,dword ptr [0x00da9894]
00a707a0 : MOV EAX,dword ptr [ECX]
00a707a2 : MOV ECX,dword ptr [EAX + 0x114]
00a707a8 : MOV EDX,dword ptr [ECX]
00a707aa : MOV EAX,dword ptr [EDX]
00a707ac : PUSH 0xc4996c
00a707b1 : CALL EAX
00a707b3 : MOV ECX,dword ptr [0x00da9894]
00a707b9 : MOV EAX,dword ptr [ECX]
00a707bb : MOV EAX,dword ptr [EAX + 0x1c8]
00a707c1 : MOV dword ptr [EAX + 0x40],EBX
00a707c4 : CMP byte ptr [EAX + 0x32],BL
00a707c7 : JZ 0x00a707f8
00a707c9 : MOV ECX,dword ptr [ECX]
00a707cb : CMP ECX,EBX
00a707cd : JZ 0x00a707f8
00a707cf : CMP dword ptr [ECX + 0x114],EBX
00a707d5 : JZ 0x00a707f8
00a707d7 : MOV ECX,dword ptr [ECX + 0x114]
00a707dd : MOV EDX,dword ptr [ECX]
00a707df : MOV EAX,dword ptr [EDX + 0x4]
00a707e2 : PUSH 0xc4a7f4
00a707e7 : PUSH EBX
00a707e8 : PUSH 0xc4a7f8
00a707ed : PUSH 0xc4a800
00a707f2 : PUSH ECX
00a707f3 : CALL EAX
00a707f5 : ADD ESP,0x14
00a707f8 : MOV dword ptr [EBP + -0x4],0xffffffff
00a707ff : CMP dword ptr [EBP + -0x14],0x8
00a70803 : JC 0x00a7080d
00a70805 : MOV ECX,dword ptr [EBP + -0x28]
00a70808 : CALL 0x006f04e0
00a7080d : XOR ECX,ECX
00a7080f : MOV dword ptr [EBP + -0x14],0x7
00a70816 : MOV dword ptr [EBP + -0x18],EBX
00a70819 : MOV word ptr [EBP + -0x28],CX
00a7081d : MOV ECX,dword ptr [EBP + -0xc]
00a70820 : MOV dword ptr FS:[0x0],ECX
00a70827 : POP ECX
00a70828 : POP EDI
00a70829 : POP EBX
00a7082a : MOV ECX,dword ptr [EBP + -0x10]
00a7082d : XOR ECX,EBP
00a7082f : CALL 0x00633e6b
00a70834 : MOV ESP,EBP
00a70836 : POP EBP
00a70837 : RET
