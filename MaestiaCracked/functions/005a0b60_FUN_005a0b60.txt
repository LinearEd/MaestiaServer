PROGRAM  : Maestia.exe
FUNCTION : FUN_005a0b60
ENTRY    : 005a0b60
BODY     : [[005a0b60, 005a0c84]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_005a0b60(int *param_1,int *param_2,undefined4 param_3,undefined4 param_4)

{
  int *piVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int *piVar5;
  int local_10;
  int *local_c;
  int *local_8;
  undefined4 local_4;
  
  iVar4 = (int)param_1;
  piVar1 = *(int **)((int)param_1 + 0xc);
  if (piVar1 == (int *)0x0) {
    local_10 = 0;
    local_c = (int *)0x0;
    FUN_00565560(&local_10,*(undefined4 *)((int)param_1 + 8));
    piVar5 = local_c;
    if (local_10 != 0) {
      local_8 = (int *)0x0;
      local_4 = 0;
      FUN_00502240(&local_8,local_c);
      piVar5 = local_8;
      if (local_8 != (int *)0x0) {
        FUN_00524240();
      }
    }
    param_1 = piVar1;
    if (piVar5 != (int *)0x0) {
      uVar2 = (**(code **)(*piVar5 + 8))();
      if ((uVar2 & 0xff00) == 0x100) {
        param_1 = piVar5;
      }
    }
    if ((local_10 == 0) && (local_c != (int *)0x0)) {
      FUN_00524240();
    }
    piVar1 = param_1;
    if (param_1 == (int *)0x0) {
      return 0;
    }
  }
  param_1 = piVar1;
  iVar3 = (**(code **)(*(int *)param_1[3] + 0x18))();
  if (iVar3 == 0) {
    FUN_005124c0(0);
  }
  iVar3 = FUN_00515840(0x30,0);
  if (iVar3 == 0) {
    iVar4 = 0;
  }
  else {
    iVar4 = FUN_005a0520(param_1,0,iVar4 + 0x10,param_4);
  }
  if (*param_2 != 0) {
    FUN_00524240();
  }
  *param_2 = iVar4;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
005a0b60 : SUB ESP,0x10
005a0b63 : PUSH EBX
005a0b64 : MOV EBX,dword ptr [ESP + 0x18]
005a0b68 : MOV EAX,dword ptr [EBX + 0xc]
005a0b6b : PUSH EBP
005a0b6c : MOV EBP,dword ptr [ESP + 0x20]
005a0b70 : PUSH ESI
005a0b71 : PUSH EDI
005a0b72 : XOR EDI,EDI
005a0b74 : MOV dword ptr [ESP + 0x24],EAX
005a0b78 : CMP EAX,EDI
005a0b7a : JNZ 0x005a0c18
005a0b80 : MOV ECX,dword ptr [EBP + 0x4]
005a0b83 : MOV EAX,dword ptr [EBX + 0x8]
005a0b86 : MOV dword ptr [ESP + 0x10],EDI
005a0b8a : MOV dword ptr [ESP + 0x14],EDI
005a0b8e : MOV ECX,dword ptr [ECX + 0x28]
005a0b91 : MOV ECX,dword ptr [ECX + 0x1c]
005a0b94 : MOV ECX,dword ptr [ECX + 0xc]
005a0b97 : PUSH ECX
005a0b98 : MOV EDX,ESP
005a0b9a : MOV dword ptr [EDX],EAX
005a0b9c : MOV ECX,dword ptr [ECX + 0x20]
005a0b9f : LEA EDX,[ESP + 0x14]
005a0ba3 : PUSH EDX
005a0ba4 : CALL 0x00565560
005a0ba9 : MOV ECX,dword ptr [EBP + 0x4]
005a0bac : CMP dword ptr [ESP + 0x10],EDI
005a0bb0 : JNZ 0x005a0bb8
005a0bb2 : MOV ESI,dword ptr [ESP + 0x14]
005a0bb6 : JMP 0x005a0bde
005a0bb8 : MOV EAX,dword ptr [ESP + 0x14]
005a0bbc : PUSH EAX
005a0bbd : LEA EDX,[ESP + 0x1c]
005a0bc1 : PUSH EDX
005a0bc2 : MOV dword ptr [ESP + 0x20],EDI
005a0bc6 : MOV dword ptr [ESP + 0x24],EDI
005a0bca : CALL 0x00502240
005a0bcf : MOV ECX,dword ptr [ESP + 0x18]
005a0bd3 : MOV ESI,ECX
005a0bd5 : CMP ECX,EDI
005a0bd7 : JZ 0x005a0bde
005a0bd9 : CALL 0x00524240
005a0bde : CMP ESI,EDI
005a0be0 : JZ 0x005a0bfb
005a0be2 : MOV EAX,dword ptr [ESI]
005a0be4 : MOV EDX,dword ptr [EAX + 0x8]
005a0be7 : MOV ECX,ESI
005a0be9 : CALL EDX
005a0beb : AND EAX,0xff00
005a0bf0 : CMP EAX,0x100
005a0bf5 : JNZ 0x005a0bfb
005a0bf7 : MOV dword ptr [ESP + 0x24],ESI
005a0bfb : CMP dword ptr [ESP + 0x10],EDI
005a0bff : JNZ 0x005a0c0e
005a0c01 : MOV ECX,dword ptr [ESP + 0x14]
005a0c05 : CMP ECX,EDI
005a0c07 : JZ 0x005a0c0e
005a0c09 : CALL 0x00524240
005a0c0e : CMP dword ptr [ESP + 0x24],EDI
005a0c12 : JZ 0x005a0c79
005a0c14 : MOV EAX,dword ptr [ESP + 0x24]
005a0c18 : MOV ESI,dword ptr [EAX + 0xc]
005a0c1b : MOV EAX,dword ptr [ESI]
005a0c1d : MOV EDX,dword ptr [EAX + 0x18]
005a0c20 : MOV ECX,ESI
005a0c22 : CALL EDX
005a0c24 : TEST EAX,EAX
005a0c26 : JNZ 0x005a0c30
005a0c28 : PUSH EDI
005a0c29 : MOV ECX,ESI
005a0c2b : CALL 0x005124c0
005a0c30 : MOV ESI,dword ptr [ESP + 0x30]
005a0c34 : PUSH EDI
005a0c35 : PUSH 0x30
005a0c37 : MOV ECX,ESI
005a0c39 : CALL 0x00515840
005a0c3e : CMP EAX,EDI
005a0c40 : JZ 0x005a0c5c
005a0c42 : PUSH ESI
005a0c43 : ADD EBX,0x10
005a0c46 : PUSH EBX
005a0c47 : PUSH ECX
005a0c48 : MOV ECX,dword ptr [ESP + 0x30]
005a0c4c : MOV EDX,ESP
005a0c4e : PUSH ECX
005a0c4f : MOV ECX,EAX
005a0c51 : MOV dword ptr [EDX],EDI
005a0c53 : CALL 0x005a0520
005a0c58 : MOV ESI,EAX
005a0c5a : JMP 0x005a0c5e
005a0c5c : XOR ESI,ESI
005a0c5e : MOV ECX,dword ptr [EBP]
005a0c61 : CMP ECX,EDI
005a0c63 : JZ 0x005a0c6a
005a0c65 : CALL 0x00524240
005a0c6a : MOV dword ptr [EBP],ESI
005a0c6d : MOV AL,0x1
005a0c6f : POP EDI
005a0c70 : POP ESI
005a0c71 : POP EBP
005a0c72 : POP EBX
005a0c73 : ADD ESP,0x10
005a0c76 : RET 0x10
005a0c79 : POP EDI
005a0c7a : POP ESI
005a0c7b : POP EBP
005a0c7c : XOR AL,AL
005a0c7e : POP EBX
005a0c7f : ADD ESP,0x10
005a0c82 : RET 0x10
