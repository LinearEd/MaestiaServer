PROGRAM  : Maestia.exe
FUNCTION : FUN_00845660
ENTRY    : 00845660
BODY     : [[00845660, 00845b6e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00845660(int param_1,int param_2)

{
  int iVar1;
  undefined1 uVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 ****ppppuVar6;
  int *piVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  bool bVar10;
  wchar_t *pwVar11;
  undefined1 local_a0 [4];
  undefined4 local_9c;
  undefined4 local_8c;
  uint local_88;
  undefined1 local_84 [4];
  undefined2 local_80;
  int local_70;
  uint local_6c;
  undefined1 local_68 [4];
  undefined4 local_64;
  undefined4 local_54;
  uint local_50;
  undefined1 local_4c [4];
  undefined4 ***local_48 [4];
  int local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined4 ***local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b62bd2;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar3;
  if (param_2 != *(int *)(param_1 + 0x10)) goto LAB_00845b51;
  local_34 = 7;
  local_38 = 0;
  local_48[0] = (undefined4 ***)((uint)local_48[0] & 0xffff0000);
  local_18 = 7;
  local_1c = 0;
  local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffff0000);
  local_8._0_1_ = 1;
  local_8._1_3_ = 0;
  FUN_00845530(local_4c);
  FUN_00845530(local_30);
  piVar7 = DAT_00da9894;
  *(int *)(param_1 + 0x48) = (local_38 + 0x19) * 100;
  iVar4 = *piVar7;
  if ((iVar4 != 0) && (*(int *)(iVar4 + 0x114) != 0)) {
    (**(code **)(**(int **)(iVar4 + 0x114) + 4))
              (*(int **)(iVar4 + 0x114),"SetSkipButton",&DAT_00c3b860,0,uVar3);
  }
  if (*(int *)(param_1 + 0x40) == 0) {
    if ((param_2 == -1) || (*(int *)(param_1 + 0x30) == 0)) {
      FUN_00843a80();
      goto LAB_00845862;
    }
    iVar4 = FUN_00a1ba80();
    if (iVar4 != 0) {
      ppppuVar6 = (undefined4 ****)local_48[0];
      if (local_34 < 8) {
        ppppuVar6 = local_48;
      }
      FUN_00406460(ppppuVar6);
      local_8 = CONCAT31(local_8._1_3_,2);
      FUN_008437c0(local_68);
      FUN_00846540(0);
      iVar1 = *DAT_00da9894;
      if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
        if (*(uint *)(iVar4 + 0x24) < 8) {
          iVar4 = iVar4 + 0x10;
        }
        else {
          iVar4 = *(int *)(iVar4 + 0x10);
        }
        puVar8 = local_64;
        if (local_50 < 8) {
          puVar8 = &local_64;
        }
        (**(code **)(**(int **)(iVar1 + 0x114) + 4))
                  (*(int **)(iVar1 + 0x114),"AddTalkText","%ls,%ls,%ls,%ls",puVar8,L"#c1c188",iVar4,
                   L"0xe0c17e");
      }
      iVar4 = *DAT_00da9894;
      if ((iVar4 != 0) && (*(int *)(iVar4 + 0x114) != 0)) {
        (**(code **)(**(int **)(iVar4 + 0x114) + 4))
                  (*(int **)(iVar4 + 0x114),"SetSkipButton",&DAT_00c3b8fc,1);
      }
      local_8._0_1_ = 1;
      FUN_00406560();
      FUN_00843a80();
      goto LAB_00845862;
    }
    pwVar11 = L"Invalid Npc !!! or Disappear Npc";
LAB_00845752:
    FUN_008018d0(pwVar11);
    local_8 = (uint)local_8._1_3_ << 8;
    FUN_00406560();
    local_8 = 0xffffffff;
    FUN_00406560();
  }
  else {
    *(int *)(param_1 + 0x40) = *(int *)(param_1 + 0x40) + -1;
LAB_00845862:
    if (param_2 == -1) {
      ppppuVar6 = (undefined4 ****)local_48[0];
      if (local_34 < 8) {
        ppppuVar6 = local_48;
      }
      FUN_00406460(ppppuVar6);
      local_8._0_1_ = 3;
      FUN_00406460(&DAT_00c3b910);
      local_8._0_1_ = 4;
      uVar2 = (undefined1)local_8;
      local_8._0_1_ = 4;
      if (DAT_00da93ec != 0) {
        uVar5 = FUN_00449590(DAT_00da93ec,local_84);
        local_8._0_1_ = 5;
        FUN_00405eb0(uVar5,0,0xffffffff);
        local_8._0_1_ = 4;
        FUN_00406560();
        uVar2 = (undefined1)local_8;
      }
      local_8._0_1_ = uVar2;
      FUN_008437c0(local_a0);
      FUN_00846540(0);
      iVar4 = *DAT_00da9894;
      if ((iVar4 != 0) && (*(int *)(iVar4 + 0x114) != 0)) {
        puVar8 = local_64;
        if (local_50 < 8) {
          puVar8 = &local_64;
        }
        puVar9 = local_9c;
        if (local_88 < 8) {
          puVar9 = &local_9c;
        }
        (**(code **)(**(int **)(iVar4 + 0x114) + 4))
                  (*(int **)(iVar4 + 0x114),"AddTalkText","%ls,%ls,%ls,%ls",puVar9,L"#c1c188",puVar8
                   ,L"0xe0c17e");
      }
      FUN_00846540(1);
      ppppuVar6 = (undefined4 ****)local_2c[0];
      if (local_18 < 8) {
        ppppuVar6 = local_2c;
      }
      FUN_00406460(ppppuVar6);
      local_8._0_1_ = 6;
      FUN_00876750(*(int *)(param_1 + 0x58) == 0);
      local_8._0_1_ = 4;
      if (7 < local_6c) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_6c = 7;
      local_70 = 0;
      local_80 = 0;
      iVar4 = *DAT_00da9894;
      if ((iVar4 != 0) && (*(int *)(iVar4 + 0x114) != 0)) {
        (**(code **)(**(int **)(iVar4 + 0x114) + 4))
                  (*(int **)(iVar4 + 0x114),"SetSkipButton",&DAT_00c3b954,1);
      }
      local_8 = CONCAT31(local_8._1_3_,3);
      if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_50 = 7;
      local_54 = 0;
      local_64 = (undefined4 *)((uint)local_64._2_2_ << 0x10);
      local_8._0_1_ = 1;
      if (7 < local_88) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_88 = 7;
      local_8c = 0;
      local_9c = (undefined4 *)((uint)local_9c._2_2_ << 0x10);
    }
    else {
      iVar4 = *(int *)(param_1 + 0x30);
      if (iVar4 != 0) {
        piVar7 = (int *)FUN_00a1a840(iVar4);
        if (((piVar7 == (int *)0x0) && (piVar7 = (int *)FUN_00a1a6d0(iVar4), piVar7 == (int *)0x0))
           && (piVar7 = (int *)FUN_00a1a780(iVar4), piVar7 == (int *)0x0)) {
          pwVar11 = L"Invalid Npc !!! or Disappear Npc";
          goto LAB_00845752;
        }
        FUN_00846540(1);
        ppppuVar6 = (undefined4 ****)local_2c[0];
        if (local_18 < 8) {
          ppppuVar6 = local_2c;
        }
        FUN_00406460(ppppuVar6);
        local_8._0_1_ = 7;
        FUN_0088b840(*(int *)(param_1 + 0x58) == 0);
        local_8._0_1_ = 1;
        FUN_00406560();
        uVar5 = (**(code **)(*piVar7 + 0x418))();
        FUN_00405660(uVar5);
        local_8._0_1_ = 8;
        if (((local_70 != 0) && (*(int *)(param_1 + 0x68) == 0)) &&
           (bVar10 = DAT_00d6ab0f != '\0', *(undefined4 *)(param_1 + 0x68) = 1, bVar10)) {
          FUN_008a0ec0(local_84);
        }
        local_8._0_1_ = 1;
        FUN_00406560();
      }
    }
    local_8 = (uint)local_8._1_3_ << 8;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffff0000);
    local_8 = 0xffffffff;
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_34 = 7;
    local_38 = 0;
    local_48[0] = (undefined4 ***)((uint)local_48[0] & 0xffff0000);
  }
LAB_00845b51:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00845660 : PUSH EBP
00845661 : MOV EBP,ESP
00845663 : PUSH -0x1
00845665 : PUSH 0xb62bd2
0084566a : MOV EAX,FS:[0x0]
00845670 : PUSH EAX
00845671 : SUB ESP,0x94
00845677 : MOV EAX,[0x00d66fa0]
0084567c : XOR EAX,EBP
0084567e : MOV dword ptr [EBP + -0x10],EAX
00845681 : PUSH EBX
00845682 : PUSH ESI
00845683 : PUSH EDI
00845684 : PUSH EAX
00845685 : LEA EAX,[EBP + -0xc]
00845688 : MOV FS:[0x0],EAX
0084568e : MOV ESI,ECX
00845690 : MOV EBX,dword ptr [EBP + 0x8]
00845693 : MOV EAX,dword ptr [EBP + 0xc]
00845696 : MOV dword ptr [EBP + 0xffffff60],EBX
0084569c : CMP EAX,dword ptr [EBX + 0x10]
0084569f : JNZ 0x00845b51
008456a5 : MOV EAX,0x7
008456aa : XOR EDI,EDI
008456ac : XOR ECX,ECX
008456ae : MOV dword ptr [EBP + -0x30],EAX
008456b1 : MOV dword ptr [EBP + -0x34],EDI
008456b4 : MOV word ptr [EBP + -0x44],CX
008456b8 : MOV dword ptr [EBP + -0x4],EDI
008456bb : XOR EDX,EDX
008456bd : MOV dword ptr [EBP + -0x14],EAX
008456c0 : MOV dword ptr [EBP + -0x18],EDI
008456c3 : MOV word ptr [EBP + -0x28],DX
008456c7 : MOV byte ptr [EBP + -0x4],0x1
008456cb : LEA EAX,[EBP + -0x48]
008456ce : PUSH EAX
008456cf : MOV EDX,ESI
008456d1 : CALL 0x00845530
008456d6 : LEA ECX,[EBP + -0x2c]
008456d9 : PUSH ECX
008456da : MOV EDX,ESI
008456dc : CALL 0x00845530
008456e1 : MOV EDX,dword ptr [EBP + -0x34]
008456e4 : MOV EAX,[0x00da9894]
008456e9 : ADD EDX,0x19
008456ec : IMUL EDX,EDX,0x64
008456ef : MOV dword ptr [EBX + 0x48],EDX
008456f2 : MOV EAX,dword ptr [EAX]
008456f4 : CMP EAX,EDI
008456f6 : JZ 0x0084571c
008456f8 : CMP dword ptr [EAX + 0x114],EDI
008456fe : JZ 0x0084571c
00845700 : MOV EAX,dword ptr [EAX + 0x114]
00845706 : MOV ECX,dword ptr [EAX]
00845708 : MOV EDX,dword ptr [ECX + 0x4]
0084570b : PUSH EDI
0084570c : PUSH 0xc3b860
00845711 : PUSH 0xc3b864
00845716 : PUSH EAX
00845717 : CALL EDX
00845719 : ADD ESP,0x10
0084571c : MOV EAX,dword ptr [EBX + 0x40]
0084571f : CMP EAX,EDI
00845721 : JNZ 0x00845859
00845727 : CMP dword ptr [EBP + 0xc],-0x1
0084572b : JZ 0x0084584b
00845731 : MOV ESI,dword ptr [EBX + 0x30]
00845734 : CMP ESI,EDI
00845736 : JZ 0x0084584b
0084573c : MOV EDI,dword ptr [0x00da93ec]
00845742 : CALL 0x00a1ba80
00845747 : MOV ESI,EAX
00845749 : TEST ESI,ESI
0084574b : JNZ 0x00845780
0084574d : PUSH 0xc3b878
00845752 : MOV ESI,dword ptr [0x00da98e8]
00845758 : CALL 0x008018d0
0084575d : ADD ESP,0x4
00845760 : MOV byte ptr [EBP + -0x4],0x0
00845764 : LEA ECX,[EBP + -0x2c]
00845767 : CALL 0x00406560
0084576c : MOV dword ptr [EBP + -0x4],0xffffffff
00845773 : LEA ECX,[EBP + -0x48]
00845776 : CALL 0x00406560
0084577b : JMP 0x00845b51
00845780 : MOV EAX,dword ptr [EBP + -0x44]
00845783 : MOV EDI,0x8
00845788 : CMP dword ptr [EBP + -0x30],EDI
0084578b : JNC 0x00845790
0084578d : LEA EAX,[EBP + -0x44]
00845790 : PUSH EAX
00845791 : LEA ECX,[EBP + -0x64]
00845794 : CALL 0x00406460
00845799 : MOV byte ptr [EBP + -0x4],0x2
0084579d : LEA EAX,[EBP + -0x64]
008457a0 : PUSH EAX
008457a1 : CALL 0x008437c0
008457a6 : PUSH 0x0
008457a8 : LEA ECX,[EBP + -0x64]
008457ab : CALL 0x00846540
008457b0 : MOV ECX,dword ptr [0x00da9894]
008457b6 : MOV EAX,dword ptr [ECX]
008457b8 : TEST EAX,EAX
008457ba : JZ 0x00845804
008457bc : CMP dword ptr [EAX + 0x114],0x0
008457c3 : JZ 0x00845804
008457c5 : MOV EAX,dword ptr [EAX + 0x114]
008457cb : CMP dword ptr [ESI + 0x24],EDI
008457ce : JC 0x008457d5
008457d0 : MOV ESI,dword ptr [ESI + 0x10]
008457d3 : JMP 0x008457d8
008457d5 : ADD ESI,0x10
008457d8 : MOV ECX,dword ptr [EBP + -0x60]
008457db : CMP dword ptr [EBP + -0x4c],EDI
008457de : JNC 0x008457e3
008457e0 : LEA ECX,[EBP + -0x60]
008457e3 : MOV EDX,dword ptr [EAX]
008457e5 : PUSH 0xc3b8bc
008457ea : PUSH ESI
008457eb : PUSH 0xc3b8d0
008457f0 : PUSH ECX
008457f1 : PUSH 0xc3b8e0
008457f6 : PUSH 0xc3b8f0
008457fb : PUSH EAX
008457fc : MOV EAX,dword ptr [EDX + 0x4]
008457ff : CALL EAX
00845801 : ADD ESP,0x1c
00845804 : MOV ECX,dword ptr [0x00da9894]
0084580a : MOV EAX,dword ptr [ECX]
0084580c : TEST EAX,EAX
0084580e : JZ 0x00845836
00845810 : CMP dword ptr [EAX + 0x114],0x0
00845817 : JZ 0x00845836
00845819 : MOV EAX,dword ptr [EAX + 0x114]
0084581f : MOV EDX,dword ptr [EAX]
00845821 : PUSH 0x1
00845823 : PUSH 0xc3b8fc
00845828 : PUSH 0xc3b900
0084582d : PUSH EAX
0084582e : MOV EAX,dword ptr [EDX + 0x4]
00845831 : CALL EAX
00845833 : ADD ESP,0x10
00845836 : MOV byte ptr [EBP + -0x4],0x1
0084583a : LEA ECX,[EBP + -0x64]
0084583d : CALL 0x00406560
00845842 : MOV EAX,EBX
00845844 : CALL 0x00843a80
00845849 : JMP 0x00845862
0084584b : MOV EAX,EBX
0084584d : MOV EDI,0x8
00845852 : CALL 0x00843a80
00845857 : JMP 0x00845862
00845859 : DEC EAX
0084585a : MOV dword ptr [EBX + 0x40],EAX
0084585d : MOV EDI,0x8
00845862 : CMP dword ptr [EBP + 0xc],-0x1
00845866 : JNZ 0x00845a2f
0084586c : MOV EAX,dword ptr [EBP + -0x44]
0084586f : CMP dword ptr [EBP + -0x30],EDI
00845872 : JNC 0x00845877
00845874 : LEA EAX,[EBP + -0x44]
00845877 : PUSH EAX
00845878 : LEA ECX,[EBP + 0xffffff64]
0084587e : CALL 0x00406460
00845883 : MOV byte ptr [EBP + -0x4],0x3
00845887 : PUSH 0xc3b910
0084588c : LEA ECX,[EBP + -0x64]
0084588f : CALL 0x00406460
00845894 : MOV BL,0x4
00845896 : MOV byte ptr [EBP + -0x4],BL
00845899 : MOV EAX,[0x00da93ec]
0084589e : TEST EAX,EAX
008458a0 : JZ 0x008458c8
008458a2 : LEA ECX,[EBP + -0x80]
008458a5 : PUSH ECX
008458a6 : PUSH EAX
008458a7 : CALL 0x00449590
008458ac : MOV byte ptr [EBP + -0x4],0x5
008458b0 : PUSH -0x1
008458b2 : PUSH 0x0
008458b4 : PUSH EAX
008458b5 : LEA ECX,[EBP + -0x64]
008458b8 : CALL 0x00405eb0
008458bd : MOV byte ptr [EBP + -0x4],BL
008458c0 : LEA ECX,[EBP + -0x80]
008458c3 : CALL 0x00406560
008458c8 : LEA EDX,[EBP + 0xffffff64]
008458ce : PUSH EDX
008458cf : CALL 0x008437c0
008458d4 : PUSH 0x0
008458d6 : LEA ECX,[EBP + 0xffffff64]
008458dc : CALL 0x00846540
008458e1 : MOV EAX,[0x00da9894]
008458e6 : MOV EAX,dword ptr [EAX]
008458e8 : TEST EAX,EAX
008458ea : JZ 0x00845942
008458ec : CMP dword ptr [EAX + 0x114],0x0
008458f3 : JZ 0x00845942
008458f5 : MOV EAX,dword ptr [EAX + 0x114]
008458fb : MOV EDX,dword ptr [EBP + -0x60]
008458fe : MOV EDI,0x8
00845903 : CMP dword ptr [EBP + -0x4c],EDI
00845906 : JNC 0x0084590b
00845908 : LEA EDX,[EBP + -0x60]
0084590b : MOV ECX,dword ptr [EBP + 0xffffff68]
00845911 : CMP dword ptr [EBP + 0xffffff7c],EDI
00845917 : JNC 0x0084591f
00845919 : LEA ECX,[EBP + 0xffffff68]
0084591f : MOV ESI,dword ptr [EAX]
00845921 : PUSH 0xc3b914
00845926 : PUSH EDX
00845927 : PUSH 0xc3b928
0084592c : PUSH ECX
0084592d : MOV ECX,dword ptr [ESI + 0x4]
00845930 : PUSH 0xc3b938
00845935 : PUSH 0xc3b948
0084593a : PUSH EAX
0084593b : CALL ECX
0084593d : ADD ESP,0x1c
00845940 : JMP 0x00845947
00845942 : MOV EDI,0x8
00845947 : PUSH 0x1
00845949 : LEA ECX,[EBP + -0x2c]
0084594c : CALL 0x00846540
00845951 : MOV EAX,dword ptr [EBP + -0x28]
00845954 : CMP dword ptr [EBP + -0x14],EDI
00845957 : JNC 0x0084595c
00845959 : LEA EAX,[EBP + -0x28]
0084595c : PUSH EAX
0084595d : LEA ECX,[EBP + -0x80]
00845960 : CALL 0x00406460
00845965 : MOV byte ptr [EBP + -0x4],0x6
00845969 : MOV EDX,dword ptr [EBP + 0xffffff60]
0084596f : CMP dword ptr [EDX + 0x58],0x0
00845973 : SETZ AL
00845976 : MOVZX ECX,AL
00845979 : PUSH ECX
0084597a : MOV ECX,dword ptr [0x00da93ec]
00845980 : ADD ECX,0x6a8
00845986 : LEA EAX,[EBP + -0x80]
00845989 : CALL 0x00876750
0084598e : MOV byte ptr [EBP + -0x4],BL
00845991 : CMP dword ptr [EBP + -0x68],EDI
00845994 : JC 0x0084599e
00845996 : MOV ECX,dword ptr [EBP + -0x7c]
00845999 : CALL 0x006f04e0
0084599e : MOV EAX,[0x00da9894]
008459a3 : XOR EBX,EBX
008459a5 : XOR EDX,EDX
008459a7 : MOV ESI,0x7
008459ac : MOV dword ptr [EBP + -0x68],ESI
008459af : MOV dword ptr [EBP + -0x6c],EBX
008459b2 : MOV word ptr [EBP + -0x7c],DX
008459b6 : MOV EAX,dword ptr [EAX]
008459b8 : CMP EAX,EBX
008459ba : JZ 0x008459e1
008459bc : CMP dword ptr [EAX + 0x114],EBX
008459c2 : JZ 0x008459e1
008459c4 : MOV EAX,dword ptr [EAX + 0x114]
008459ca : MOV ECX,dword ptr [EAX]
008459cc : MOV EDX,dword ptr [ECX + 0x4]
008459cf : PUSH 0x1
008459d1 : PUSH 0xc3b954
008459d6 : PUSH 0xc3b958
008459db : PUSH EAX
008459dc : CALL EDX
008459de : ADD ESP,0x10
008459e1 : MOV byte ptr [EBP + -0x4],0x3
008459e5 : CMP dword ptr [EBP + -0x4c],EDI
008459e8 : JC 0x008459f2
008459ea : MOV ECX,dword ptr [EBP + -0x60]
008459ed : CALL 0x006f04e0
008459f2 : XOR EAX,EAX
008459f4 : MOV dword ptr [EBP + -0x4c],ESI
008459f7 : MOV dword ptr [EBP + -0x50],EBX
008459fa : MOV word ptr [EBP + -0x60],AX
008459fe : MOV byte ptr [EBP + -0x4],0x1
00845a02 : CMP dword ptr [EBP + 0xffffff7c],EDI
00845a08 : JC 0x00845a15
00845a0a : MOV ECX,dword ptr [EBP + 0xffffff68]
00845a10 : CALL 0x006f04e0
00845a15 : XOR ECX,ECX
00845a17 : MOV dword ptr [EBP + 0xffffff7c],ESI
00845a1d : MOV dword ptr [EBP + 0xffffff78],EBX
00845a23 : MOV word ptr [EBP + 0xffffff68],CX
00845a2a : JMP 0x00845b08
00845a2f : MOV EDI,dword ptr [EBX + 0x30]
00845a32 : TEST EDI,EDI
00845a34 : JZ 0x00845b08
00845a3a : MOV ECX,dword ptr [0x00da93ec]
00845a40 : PUSH EDI
00845a41 : MOV EBX,ECX
00845a43 : CALL 0x00a1a840
00845a48 : MOV ESI,EAX
00845a4a : TEST ESI,ESI
00845a4c : JNZ 0x00845a74
00845a4e : PUSH EDI
00845a4f : MOV ECX,EBX
00845a51 : CALL 0x00a1a6d0
00845a56 : MOV ESI,EAX
00845a58 : TEST ESI,ESI
00845a5a : JNZ 0x00845a74
00845a5c : PUSH EDI
00845a5d : MOV ECX,EBX
00845a5f : CALL 0x00a1a780
00845a64 : MOV ESI,EAX
00845a66 : TEST ESI,ESI
00845a68 : JNZ 0x00845a74
00845a6a : PUSH 0xc3b968
00845a6f : JMP 0x00845752
00845a74 : PUSH 0x1
00845a76 : LEA ECX,[EBP + -0x2c]
00845a79 : CALL 0x00846540
00845a7e : CMP dword ptr [EBP + -0x14],0x8
00845a82 : MOV EAX,dword ptr [EBP + -0x28]
00845a85 : JNC 0x00845a8a
00845a87 : LEA EAX,[EBP + -0x28]
00845a8a : PUSH EAX
00845a8b : LEA ECX,[EBP + -0x80]
00845a8e : CALL 0x00406460
00845a93 : MOV byte ptr [EBP + -0x4],0x7
00845a97 : MOV EDI,dword ptr [EBP + 0xffffff60]
00845a9d : CMP dword ptr [EDI + 0x58],0x0
00845aa1 : MOV ECX,ESI
00845aa3 : SETZ DL
00845aa6 : MOVZX EAX,DL
00845aa9 : PUSH EAX
00845aaa : LEA EAX,[EBP + -0x80]
00845aad : CALL 0x0088b840
00845ab2 : MOV byte ptr [EBP + -0x4],0x1
00845ab6 : LEA ECX,[EBP + -0x80]
00845ab9 : CALL 0x00406560
00845abe : MOV EDX,dword ptr [ESI]
00845ac0 : MOV EAX,dword ptr [EDX + 0x418]
00845ac6 : MOV ECX,ESI
00845ac8 : CALL EAX
00845aca : PUSH EAX
00845acb : LEA ECX,[EBP + -0x80]
00845ace : CALL 0x00405660
00845ad3 : MOV byte ptr [EBP + -0x4],0x8
00845ad7 : CMP dword ptr [EBP + -0x6c],0x0
00845adb : JBE 0x00845afc
00845add : CMP dword ptr [EDI + 0x68],0x0
00845ae1 : JNZ 0x00845afc
00845ae3 : CMP byte ptr [0x00d6ab0f],0x0
00845aea : MOV dword ptr [EDI + 0x68],0x1
00845af1 : JZ 0x00845afc
00845af3 : LEA ECX,[EBP + -0x80]
00845af6 : PUSH ECX
00845af7 : CALL 0x008a0ec0
00845afc : MOV byte ptr [EBP + -0x4],0x1
00845b00 : LEA ECX,[EBP + -0x80]
00845b03 : CALL 0x00406560
00845b08 : MOV byte ptr [EBP + -0x4],0x0
00845b0c : MOV EDI,0x8
00845b11 : CMP dword ptr [EBP + -0x14],EDI
00845b14 : JC 0x00845b1e
00845b16 : MOV ECX,dword ptr [EBP + -0x28]
00845b19 : CALL 0x006f04e0
00845b1e : MOV ESI,0x7
00845b23 : XOR EBX,EBX
00845b25 : XOR EDX,EDX
00845b27 : MOV dword ptr [EBP + -0x14],ESI
00845b2a : MOV dword ptr [EBP + -0x18],EBX
00845b2d : MOV word ptr [EBP + -0x28],DX
00845b31 : MOV dword ptr [EBP + -0x4],0xffffffff
00845b38 : CMP dword ptr [EBP + -0x30],EDI
00845b3b : JC 0x00845b45
00845b3d : MOV ECX,dword ptr [EBP + -0x44]
00845b40 : CALL 0x006f04e0
00845b45 : XOR EAX,EAX
00845b47 : MOV dword ptr [EBP + -0x30],ESI
00845b4a : MOV dword ptr [EBP + -0x34],EBX
00845b4d : MOV word ptr [EBP + -0x44],AX
00845b51 : MOV ECX,dword ptr [EBP + -0xc]
00845b54 : MOV dword ptr FS:[0x0],ECX
00845b5b : POP ECX
00845b5c : POP EDI
00845b5d : POP ESI
00845b5e : POP EBX
00845b5f : MOV ECX,dword ptr [EBP + -0x10]
00845b62 : XOR ECX,EBP
00845b64 : CALL 0x00633e6b
00845b69 : MOV ESP,EBP
00845b6b : POP EBP
00845b6c : RET 0x8
