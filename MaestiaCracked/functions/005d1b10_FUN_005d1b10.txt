PROGRAM  : Maestia.exe
FUNCTION : FUN_005d1b10
ENTRY    : 005d1b10
BODY     : [[005d1b10, 005d1cb4]]

============================================================
DECOMPILED C CODE
============================================================

undefined4
FUN_005d1b10(undefined4 param_1,undefined4 *param_2,undefined4 param_3,undefined4 param_4)

{
  byte bVar1;
  byte *pbVar2;
  int iVar3;
  byte *pbVar4;
  undefined4 uVar5;
  int in_ECX;
  byte *pbVar6;
  char *pcVar7;
  bool bVar8;
  float10 fVar9;
  uint local_8;
  
  pbVar4 = *(byte **)*param_2;
  pbVar6 = &DAT_00b8a574;
  pbVar2 = pbVar4;
  do {
    bVar1 = *pbVar2;
    bVar8 = bVar1 < *pbVar6;
    if (bVar1 != *pbVar6) {
LAB_005d1b47:
      iVar3 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
      goto LAB_005d1b4c;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar2[1];
    bVar8 = bVar1 < pbVar6[1];
    if (bVar1 != pbVar6[1]) goto LAB_005d1b47;
    pbVar2 = pbVar2 + 2;
    pbVar6 = pbVar6 + 2;
  } while (bVar1 != 0);
  iVar3 = 0;
LAB_005d1b4c:
  if (iVar3 == 0) {
    fVar9 = (float10)FUN_00527730(param_1);
    local_8 = (uint)(longlong)ROUND((float)fVar9 * 16.0 + 0.5);
    if (0xfe < local_8) {
      local_8 = 0xff;
    }
    *(char *)(in_ECX + 0x21) = (char)local_8;
    return 1;
  }
  pcVar7 = "blurY";
  pbVar2 = pbVar4;
  do {
    bVar1 = *pbVar2;
    bVar8 = bVar1 < (byte)*pcVar7;
    if (bVar1 != *pcVar7) {
LAB_005d1bd5:
      iVar3 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
      goto LAB_005d1bda;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar2[1];
    bVar8 = bVar1 < ((byte *)pcVar7)[1];
    if (bVar1 != ((byte *)pcVar7)[1]) goto LAB_005d1bd5;
    pbVar2 = pbVar2 + 2;
    pcVar7 = (char *)((byte *)pcVar7 + 2);
  } while (bVar1 != 0);
  iVar3 = 0;
LAB_005d1bda:
  if (iVar3 == 0) {
    fVar9 = (float10)FUN_00527730(param_1);
    local_8 = (uint)(longlong)ROUND((float)fVar9 * 16.0 + 0.5);
    if (0xfe < local_8) {
      local_8 = 0xff;
    }
    *(char *)(in_ECX + 0x22) = (char)local_8;
    return 1;
  }
  pcVar7 = "quality";
  do {
    bVar1 = *pbVar4;
    bVar8 = bVar1 < (byte)*pcVar7;
    if (bVar1 != *pcVar7) {
LAB_005d1c63:
      iVar3 = (1 - (uint)bVar8) - (uint)(bVar8 != 0);
      goto LAB_005d1c68;
    }
    if (bVar1 == 0) break;
    bVar1 = pbVar4[1];
    bVar8 = bVar1 < ((byte *)pcVar7)[1];
    if (bVar1 != ((byte *)pcVar7)[1]) goto LAB_005d1c63;
    pbVar4 = pbVar4 + 2;
    pcVar7 = (char *)((byte *)pcVar7 + 2);
  } while (bVar1 != 0);
  iVar3 = 0;
LAB_005d1c68:
  if (iVar3 == 0) {
    iVar3 = FUN_00529690();
    if (iVar3 != 0) {
      FUN_0050a9f0(iVar3 + 0xc,"Warning: BlurFilter.quality property is not supported!\n");
    }
    return 1;
  }
  uVar5 = FUN_005520e0(param_1,param_2,param_3,param_4);
  return uVar5;
}



============================================================
DISASSEMBLY
============================================================
005d1b10 : SUB ESP,0x8
005d1b13 : PUSH EBX
005d1b14 : PUSH ESI
005d1b15 : PUSH EDI
005d1b16 : MOV EDI,dword ptr [ESP + 0x1c]
005d1b1a : MOV EAX,dword ptr [EDI]
005d1b1c : MOV ESI,dword ptr [EAX]
005d1b1e : MOV EBX,ECX
005d1b20 : MOV ECX,0xb8a574
005d1b25 : MOV EAX,ESI
005d1b27 : MOV DL,byte ptr [EAX]
005d1b29 : CMP DL,byte ptr [ECX]
005d1b2b : JNZ 0x005d1b47
005d1b2d : TEST DL,DL
005d1b2f : JZ 0x005d1b43
005d1b31 : MOV DL,byte ptr [EAX + 0x1]
005d1b34 : CMP DL,byte ptr [ECX + 0x1]
005d1b37 : JNZ 0x005d1b47
005d1b39 : ADD EAX,0x2
005d1b3c : ADD ECX,0x2
005d1b3f : TEST DL,DL
005d1b41 : JNZ 0x005d1b27
005d1b43 : XOR EAX,EAX
005d1b45 : JMP 0x005d1b4c
005d1b47 : SBB EAX,EAX
005d1b49 : SBB EAX,-0x1
005d1b4c : TEST EAX,EAX
005d1b4e : JNZ 0x005d1bae
005d1b50 : MOV ECX,dword ptr [ESP + 0x18]
005d1b54 : PUSH ECX
005d1b55 : MOV ECX,dword ptr [ESP + 0x24]
005d1b59 : CALL 0x00527730
005d1b5e : FSTP float ptr [ESP + 0x18]
005d1b62 : FLD float ptr [ESP + 0x18]
005d1b66 : FMUL double ptr [0x00b86b68]
005d1b6c : FNSTCW word ptr [ESP + 0x18]
005d1b70 : MOVZX EAX,word ptr [ESP + 0x18]
005d1b75 : FADD double ptr [0x00cdf120]
005d1b7b : OR EAX,0xc00
005d1b80 : MOV dword ptr [ESP + 0x20],EAX
005d1b84 : FLDCW word ptr [ESP + 0x20]
005d1b88 : FISTP qword ptr [ESP + 0xc]
005d1b8c : MOV EAX,dword ptr [ESP + 0xc]
005d1b90 : FLDCW word ptr [ESP + 0x18]
005d1b94 : CMP EAX,0xff
005d1b99 : JC 0x005d1ba0
005d1b9b : MOV EAX,0xff
005d1ba0 : POP EDI
005d1ba1 : MOV byte ptr [EBX + 0x21],AL
005d1ba4 : POP ESI
005d1ba5 : MOV AL,0x1
005d1ba7 : POP EBX
005d1ba8 : ADD ESP,0x8
005d1bab : RET 0x10
005d1bae : MOV ECX,0xb8a56c
005d1bb3 : MOV EAX,ESI
005d1bb5 : MOV DL,byte ptr [EAX]
005d1bb7 : CMP DL,byte ptr [ECX]
005d1bb9 : JNZ 0x005d1bd5
005d1bbb : TEST DL,DL
005d1bbd : JZ 0x005d1bd1
005d1bbf : MOV DL,byte ptr [EAX + 0x1]
005d1bc2 : CMP DL,byte ptr [ECX + 0x1]
005d1bc5 : JNZ 0x005d1bd5
005d1bc7 : ADD EAX,0x2
005d1bca : ADD ECX,0x2
005d1bcd : TEST DL,DL
005d1bcf : JNZ 0x005d1bb5
005d1bd1 : XOR EAX,EAX
005d1bd3 : JMP 0x005d1bda
005d1bd5 : SBB EAX,EAX
005d1bd7 : SBB EAX,-0x1
005d1bda : TEST EAX,EAX
005d1bdc : JNZ 0x005d1c3c
005d1bde : MOV EDX,dword ptr [ESP + 0x18]
005d1be2 : MOV ECX,dword ptr [ESP + 0x20]
005d1be6 : PUSH EDX
005d1be7 : CALL 0x00527730
005d1bec : FSTP float ptr [ESP + 0x18]
005d1bf0 : FLD float ptr [ESP + 0x18]
005d1bf4 : FMUL double ptr [0x00b86b68]
005d1bfa : FNSTCW word ptr [ESP + 0x18]
005d1bfe : MOVZX EAX,word ptr [ESP + 0x18]
005d1c03 : FADD double ptr [0x00cdf120]
005d1c09 : OR EAX,0xc00
005d1c0e : MOV dword ptr [ESP + 0x20],EAX
005d1c12 : FLDCW word ptr [ESP + 0x20]
005d1c16 : FISTP qword ptr [ESP + 0xc]
005d1c1a : MOV EAX,dword ptr [ESP + 0xc]
005d1c1e : FLDCW word ptr [ESP + 0x18]
005d1c22 : CMP EAX,0xff
005d1c27 : JC 0x005d1c2e
005d1c29 : MOV EAX,0xff
005d1c2e : POP EDI
005d1c2f : MOV byte ptr [EBX + 0x22],AL
005d1c32 : POP ESI
005d1c33 : MOV AL,0x1
005d1c35 : POP EBX
005d1c36 : ADD ESP,0x8
005d1c39 : RET 0x10
005d1c3c : MOV ECX,0xb92fa0
005d1c41 : MOV EAX,ESI
005d1c43 : MOV DL,byte ptr [EAX]
005d1c45 : CMP DL,byte ptr [ECX]
005d1c47 : JNZ 0x005d1c63
005d1c49 : TEST DL,DL
005d1c4b : JZ 0x005d1c5f
005d1c4d : MOV DL,byte ptr [EAX + 0x1]
005d1c50 : CMP DL,byte ptr [ECX + 0x1]
005d1c53 : JNZ 0x005d1c63
005d1c55 : ADD EAX,0x2
005d1c58 : ADD ECX,0x2
005d1c5b : TEST DL,DL
005d1c5d : JNZ 0x005d1c43
005d1c5f : XOR EAX,EAX
005d1c61 : JMP 0x005d1c68
005d1c63 : SBB EAX,EAX
005d1c65 : SBB EAX,-0x1
005d1c68 : TEST EAX,EAX
005d1c6a : JNZ 0x005d1c95
005d1c6c : MOV ECX,dword ptr [ESP + 0x18]
005d1c70 : CALL 0x00529690
005d1c75 : TEST EAX,EAX
005d1c77 : JZ 0x005d1c8a
005d1c79 : ADD EAX,0xc
005d1c7c : PUSH 0xb93338
005d1c81 : PUSH EAX
005d1c82 : CALL 0x0050a9f0
005d1c87 : ADD ESP,0x8
005d1c8a : POP EDI
005d1c8b : POP ESI
005d1c8c : MOV AL,0x1
005d1c8e : POP EBX
005d1c8f : ADD ESP,0x8
005d1c92 : RET 0x10
005d1c95 : MOV EAX,dword ptr [ESP + 0x24]
005d1c99 : MOV ECX,dword ptr [ESP + 0x20]
005d1c9d : MOV EDX,dword ptr [ESP + 0x18]
005d1ca1 : PUSH EAX
005d1ca2 : PUSH ECX
005d1ca3 : PUSH EDI
005d1ca4 : PUSH EDX
005d1ca5 : MOV ECX,EBX
005d1ca7 : CALL 0x005520e0
005d1cac : POP EDI
005d1cad : POP ESI
005d1cae : POP EBX
005d1caf : ADD ESP,0x8
005d1cb2 : RET 0x10
