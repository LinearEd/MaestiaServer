PROGRAM  : Maestia.exe
FUNCTION : FUN_0096c1d0
ENTRY    : 0096c1d0
BODY     : [[0096c1d0, 0096c2fe]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0096c1d0(int param_1,char param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int *piVar4;
  uint uVar5;
  uint uVar6;
  int *piVar7;
  char local_5;
  
  if (*(uint *)(param_1 + 4) >> 0x10 == 0x1411) {
    if (param_2 == '\0') {
      local_5 = '\0';
      if (*(int *)(*DAT_00da9894 + 300) != 0) {
        local_5 = FUN_0096b530();
      }
      iVar3 = 0;
      piVar7 = (int *)(param_1 + 0x58);
      do {
        uVar5 = FUN_0096bb20();
        uVar6 = uVar5 & 0x80000001;
        if ((int)uVar6 < 0) {
          uVar6 = (uVar6 - 1 | 0xfffffffe) + 1;
        }
        iVar1 = *piVar7;
        iVar2 = iVar1;
        if (uVar6 == 1) {
LAB_0096c299:
          if (iVar2 != 0) goto LAB_0096c29b;
        }
        else {
          if (iVar1 == 0) {
            iVar2 = *(int *)(param_1 + 0x358 + uVar5 * 4);
            goto LAB_0096c299;
          }
LAB_0096c29b:
          if ((((local_5 != '\0') && (*DAT_00da9894 != 0)) &&
              (iVar2 = *(int *)(*DAT_00da9894 + 0x140), iVar2 != 0)) &&
             (*(int *)(iVar2 + 0x38) != 0)) {
            FUN_009c3800(uVar5,-iVar1);
            FUN_009c3800(uVar5,-*(int *)(param_1 + 0x358 + uVar5 * 4));
          }
        }
        iVar3 = iVar3 + 1;
        piVar7 = piVar7 + 1;
      } while (iVar3 < 0x75);
    }
    else {
      iVar3 = FUN_004049b0(*(uint *)(param_1 + 4));
      if (iVar3 != 0) {
        piVar7 = (int *)(param_1 + 0x5c);
        piVar4 = (int *)(iVar3 + 0x1a8);
        iVar3 = 0x27;
        do {
          if (piVar4[-1] != 0) {
            piVar7[-1] = piVar4[-1];
          }
          if (*piVar4 != 0) {
            *piVar7 = *piVar4;
          }
          if (piVar4[1] != 0) {
            piVar7[1] = piVar4[1];
          }
          piVar4 = piVar4 + 3;
          piVar7 = piVar7 + 3;
          iVar3 = iVar3 + -1;
        } while (iVar3 != 0);
        return;
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0096c1d0 : PUSH EBP
0096c1d1 : MOV EBP,ESP
0096c1d3 : PUSH ECX
0096c1d4 : PUSH EBX
0096c1d5 : MOV EBX,dword ptr [EBP + 0x8]
0096c1d8 : MOV EAX,dword ptr [EBX + 0x4]
0096c1db : MOV ECX,EAX
0096c1dd : SHR ECX,0x10
0096c1e0 : PUSH ESI
0096c1e1 : PUSH EDI
0096c1e2 : CMP ECX,0x1411
0096c1e8 : JNZ 0x0096c2f8
0096c1ee : CMP byte ptr [EBP + 0xc],0x0
0096c1f2 : JZ 0x0096c240
0096c1f4 : PUSH EAX
0096c1f5 : CALL 0x004049b0
0096c1fa : ADD ESP,0x4
0096c1fd : TEST EAX,EAX
0096c1ff : JZ 0x0096c2f8
0096c205 : LEA ECX,[EBX + 0x5c]
0096c208 : ADD EAX,0x1a8
0096c20d : MOV ESI,0x27
0096c212 : MOV EDX,dword ptr [EAX + -0x4]
0096c215 : TEST EDX,EDX
0096c217 : JZ 0x0096c21c
0096c219 : MOV dword ptr [ECX + -0x4],EDX
0096c21c : MOV EDX,dword ptr [EAX]
0096c21e : TEST EDX,EDX
0096c220 : JZ 0x0096c224
0096c222 : MOV dword ptr [ECX],EDX
0096c224 : MOV EDX,dword ptr [EAX + 0x4]
0096c227 : TEST EDX,EDX
0096c229 : JZ 0x0096c22e
0096c22b : MOV dword ptr [ECX + 0x4],EDX
0096c22e : ADD EAX,0xc
0096c231 : ADD ECX,0xc
0096c234 : SUB ESI,0x1
0096c237 : JNZ 0x0096c212
0096c239 : POP EDI
0096c23a : POP ESI
0096c23b : POP EBX
0096c23c : MOV ESP,EBP
0096c23e : POP EBP
0096c23f : RET
0096c240 : MOV EDX,dword ptr [0x00da9894]
0096c246 : MOV EAX,dword ptr [EDX]
0096c248 : MOV EAX,dword ptr [EAX + 0x12c]
0096c24e : MOV byte ptr [EBP + -0x1],0x0
0096c252 : TEST EAX,EAX
0096c254 : JZ 0x0096c263
0096c256 : MOV EDI,dword ptr [EBX]
0096c258 : MOV EAX,dword ptr [EAX + 0x1c]
0096c25b : CALL 0x0096b530
0096c260 : MOV byte ptr [EBP + -0x1],AL
0096c263 : XOR EDI,EDI
0096c265 : ADD EBX,0x58
0096c268 : MOV ECX,EDI
0096c26a : CALL 0x0096bb20
0096c26f : MOV ESI,EAX
0096c271 : MOV ECX,ESI
0096c273 : AND ECX,0x80000001
0096c279 : JNS 0x0096c280
0096c27b : DEC ECX
0096c27c : OR ECX,0xfffffffe
0096c27f : INC ECX
0096c280 : MOV EAX,dword ptr [EBX]
0096c282 : CMP ECX,0x1
0096c285 : JZ 0x0096c297
0096c287 : TEST EAX,EAX
0096c289 : JNZ 0x0096c29b
0096c28b : MOV EDX,dword ptr [EBP + 0x8]
0096c28e : CMP dword ptr [EDX + ESI*0x4 + 0x358],EAX
0096c295 : JMP 0x0096c299
0096c297 : TEST EAX,EAX
0096c299 : JZ 0x0096c2eb
0096c29b : CMP byte ptr [EBP + -0x1],0x0
0096c29f : JZ 0x0096c2eb
0096c2a1 : MOV ECX,dword ptr [0x00da9894]
0096c2a7 : MOV ECX,dword ptr [ECX]
0096c2a9 : TEST ECX,ECX
0096c2ab : JZ 0x0096c2eb
0096c2ad : MOV ECX,dword ptr [ECX + 0x140]
0096c2b3 : TEST ECX,ECX
0096c2b5 : JZ 0x0096c2eb
0096c2b7 : MOV ECX,dword ptr [ECX + 0x38]
0096c2ba : TEST ECX,ECX
0096c2bc : JZ 0x0096c2eb
0096c2be : NEG EAX
0096c2c0 : PUSH EAX
0096c2c1 : PUSH ESI
0096c2c2 : CALL 0x009c3800
0096c2c7 : MOV EDX,dword ptr [EBP + 0x8]
0096c2ca : MOV EAX,dword ptr [EDX + ESI*0x4 + 0x358]
0096c2d1 : MOV ECX,dword ptr [0x00da9894]
0096c2d7 : MOV EDX,dword ptr [ECX]
0096c2d9 : NEG EAX
0096c2db : PUSH EAX
0096c2dc : MOV EAX,dword ptr [EDX + 0x140]
0096c2e2 : MOV ECX,dword ptr [EAX + 0x38]
0096c2e5 : PUSH ESI
0096c2e6 : CALL 0x009c3800
0096c2eb : INC EDI
0096c2ec : ADD EBX,0x4
0096c2ef : CMP EDI,0x75
0096c2f2 : JL 0x0096c268
0096c2f8 : POP EDI
0096c2f9 : POP ESI
0096c2fa : POP EBX
0096c2fb : MOV ESP,EBP
0096c2fd : POP EBP
0096c2fe : RET
