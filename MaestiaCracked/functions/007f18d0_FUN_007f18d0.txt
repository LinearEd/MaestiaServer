PROGRAM  : Maestia.exe
FUNCTION : FUN_007f18d0
ENTRY    : 007f18d0
BODY     : [[007f18d0, 007f1a32]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007f18d0(void)

{
  uint uVar1;
  float fVar2;
  float fVar3;
  int in_EAX;
  DWORD DVar4;
  uint uVar5;
  
  if (*(char *)(in_EAX + 0x211) == '\0') {
    DVar4 = GetTickCount();
    uVar5 = DVar4 - *(int *)(in_EAX + 0x248);
    uVar1 = *(uint *)(in_EAX + 0x244);
    if (uVar5 < uVar1) {
      fVar2 = (float)(int)uVar1;
      if ((int)uVar1 < 0) {
        fVar2 = fVar2 + 4.2949673e+09;
      }
      if (fVar2 != 0.0) {
        fVar3 = (float)(int)uVar5;
        if ((int)uVar5 < 0) {
          fVar3 = fVar3 + 4.2949673e+09;
        }
        fVar3 = fVar3 / fVar2;
        *(float *)(in_EAX + 0x24c) =
             (*(float *)(in_EAX + 0x22c) - *(float *)(in_EAX + 0x214)) * fVar3 +
             *(float *)(in_EAX + 0x214);
        *(float *)(in_EAX + 0x250) =
             (*(float *)(in_EAX + 0x230) - *(float *)(in_EAX + 0x218)) * fVar3 +
             *(float *)(in_EAX + 0x218);
        *(float *)(in_EAX + 0x254) =
             (*(float *)(in_EAX + 0x234) - *(float *)(in_EAX + 0x21c)) * fVar3 +
             *(float *)(in_EAX + 0x21c);
        *(float *)(in_EAX + 600) =
             (*(float *)(in_EAX + 0x238) - *(float *)(in_EAX + 0x220)) * fVar3 +
             *(float *)(in_EAX + 0x220);
        *(float *)(in_EAX + 0x25c) =
             (*(float *)(in_EAX + 0x23c) - *(float *)(in_EAX + 0x224)) * fVar3 +
             *(float *)(in_EAX + 0x224);
        *(float *)(in_EAX + 0x260) =
             (*(float *)(in_EAX + 0x240) - *(float *)(in_EAX + 0x228)) * fVar3 +
             *(float *)(in_EAX + 0x228);
        D3DXMatrixLookAtLH(in_EAX + 0xb4,(float *)(in_EAX + 0x24c),(float *)(in_EAX + 600),
                           in_EAX + 0x20);
        return;
      }
    }
    *(undefined1 *)(in_EAX + 0x211) = 1;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007f18d0 : PUSH EBP
007f18d1 : MOV EBP,ESP
007f18d3 : PUSH ECX
007f18d4 : PUSH ESI
007f18d5 : MOV ESI,EAX
007f18d7 : CMP byte ptr [ESI + 0x211],0x0
007f18de : JNZ 0x007f1a2e
007f18e4 : CALL dword ptr [0x00b850d8]
007f18ea : MOV ECX,EAX
007f18ec : SUB ECX,dword ptr [ESI + 0x248]
007f18f2 : MOV EAX,dword ptr [ESI + 0x244]
007f18f8 : CMP ECX,EAX
007f18fa : JNC 0x007f1a27
007f1900 : MOV dword ptr [EBP + -0x4],EAX
007f1903 : FILD dword ptr [EBP + -0x4]
007f1906 : TEST EAX,EAX
007f1908 : JGE 0x007f1910
007f190a : FADD float ptr [0x00cdf0e0]
007f1910 : FLD ST0
007f1912 : FLDZ
007f1914 : FXCH
007f1916 : FUCOMIP ST0,ST1
007f1918 : FSTP ST0
007f191a : LAHF
007f191b : TEST AH,0x44
007f191e : JNP 0x007f1a25
007f1924 : MOV dword ptr [EBP + -0x4],ECX
007f1927 : FILD dword ptr [EBP + -0x4]
007f192a : TEST ECX,ECX
007f192c : JGE 0x007f1934
007f192e : FADD float ptr [0x00cdf0e0]
007f1934 : MOVSS XMM1,dword ptr [ESI + 0x214]
007f193c : FDIVRP
007f193e : MOVSS XMM2,dword ptr [ESI + 0x22c]
007f1946 : SUBSS XMM2,XMM1
007f194a : LEA EAX,[ESI + 0x24c]
007f1950 : LEA ECX,[ESI + 0x258]
007f1956 : LEA EDX,[ESI + 0x20]
007f1959 : PUSH EDX
007f195a : PUSH ECX
007f195b : PUSH EAX
007f195c : ADD ESI,0xb4
007f1962 : PUSH ESI
007f1963 : FSTP float ptr [EBP + -0x4]
007f1966 : MOVSS XMM0,dword ptr [EBP + -0x4]
007f196b : MULSS XMM2,XMM0
007f196f : ADDSS XMM2,XMM1
007f1973 : MOVSS dword ptr [EAX],XMM2
007f1977 : MOVSS XMM1,dword ptr [ESI + 0x164]
007f197f : MOVSS XMM2,dword ptr [ESI + 0x17c]
007f1987 : SUBSS XMM2,XMM1
007f198b : MULSS XMM2,XMM0
007f198f : ADDSS XMM2,XMM1
007f1993 : MOVSS dword ptr [EAX + 0x4],XMM2
007f1998 : MOVSS XMM1,dword ptr [ESI + 0x168]
007f19a0 : MOVSS XMM2,dword ptr [ESI + 0x180]
007f19a8 : SUBSS XMM2,XMM1
007f19ac : MULSS XMM2,XMM0
007f19b0 : ADDSS XMM2,XMM1
007f19b4 : MOVSS dword ptr [EAX + 0x8],XMM2
007f19b9 : MOVSS XMM1,dword ptr [ESI + 0x16c]
007f19c1 : MOVSS XMM2,dword ptr [ESI + 0x184]
007f19c9 : SUBSS XMM2,XMM1
007f19cd : MULSS XMM2,XMM0
007f19d1 : ADDSS XMM2,XMM1
007f19d5 : MOVSS dword ptr [ECX],XMM2
007f19d9 : MOVSS XMM1,dword ptr [ESI + 0x170]
007f19e1 : MOVSS XMM2,dword ptr [ESI + 0x188]
007f19e9 : SUBSS XMM2,XMM1
007f19ed : MULSS XMM2,XMM0
007f19f1 : ADDSS XMM2,XMM1
007f19f5 : MOVSS dword ptr [ECX + 0x4],XMM2
007f19fa : MOVSS XMM1,dword ptr [ESI + 0x174]
007f1a02 : MOVSS XMM2,dword ptr [ESI + 0x18c]
007f1a0a : SUBSS XMM2,XMM1
007f1a0e : MULSS XMM2,XMM0
007f1a12 : ADDSS XMM2,XMM1
007f1a16 : MOVSS dword ptr [ECX + 0x8],XMM2
007f1a1b : CALL 0x00664c78
007f1a20 : POP ESI
007f1a21 : MOV ESP,EBP
007f1a23 : POP EBP
007f1a24 : RET
007f1a25 : FSTP ST0
007f1a27 : MOV byte ptr [ESI + 0x211],0x1
007f1a2e : POP ESI
007f1a2f : MOV ESP,EBP
007f1a31 : POP EBP
007f1a32 : RET
