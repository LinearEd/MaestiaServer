PROGRAM  : Maestia.exe
FUNCTION : FUN_005268b0
ENTRY    : 005268b0
BODY     : [[005268b0, 00526a5e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005268b0(byte *param_1)

{
  int iVar1;
  int *piVar2;
  byte *in_ECX;
  int unaff_ESI;
  int iStack_c;
  byte bStack_8;
  
  if (4 < *in_ECX) {
    FUN_00526400();
  }
  *in_ECX = *param_1;
  switch(*param_1) {
  case 2:
    in_ECX[4] = param_1[4];
    return;
  case 3:
    *(undefined8 *)(in_ECX + 4) = *(undefined8 *)(param_1 + 4);
    return;
  case 4:
    *(undefined4 *)(in_ECX + 4) = *(undefined4 *)(param_1 + 4);
    return;
  case 5:
  case 0xb:
    iVar1 = *(int *)(param_1 + 4);
    *(int *)(in_ECX + 4) = iVar1;
    piVar2 = (int *)(iVar1 + 8);
    *piVar2 = *piVar2 + 1;
    return;
  case 6:
    if (*(int *)(param_1 + 4) == 0) {
      in_ECX[4] = 0;
      in_ECX[5] = 0;
      in_ECX[6] = 0;
      in_ECX[7] = 0;
      return;
    }
    iVar1 = (**(code **)(*(int *)(*(int *)(param_1 + 4) + 0x10) + 8))();
    if (iVar1 != 0x17) {
      iVar1 = *(int *)(param_1 + 4);
      *(int *)(in_ECX + 4) = iVar1;
      *(uint *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1U & 0x8fffffff;
      return;
    }
    *in_ECX = 8;
    piVar2 = (int *)(**(code **)(*(int *)(*(int *)(param_1 + 4) + 0x10) + 0x30))(&iStack_c);
    in_ECX[0xc] = 0;
    iVar1 = *piVar2;
    *(int *)(in_ECX + 4) = iVar1;
    if (iVar1 != 0) {
      *(uint *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1U & 0x8fffffff;
    }
    in_ECX[8] = 0;
    in_ECX[9] = 0;
    in_ECX[10] = 0;
    in_ECX[0xb] = 0;
    if (piVar2[1] != 0) {
      FUN_005686c0(piVar2[1],*(byte *)(piVar2 + 2) & 1);
    }
    if (((bStack_8 & 2) == 0) && (unaff_ESI != 0)) {
      FUN_00503db0();
    }
    if (((bStack_8 & 1) == 0) && (iStack_c != 0)) {
      FUN_00503db0();
      return;
    }
    break;
  case 7:
    piVar2 = *(int **)(param_1 + 4);
    *(int **)(in_ECX + 4) = piVar2;
    if (piVar2 != (int *)0x0) {
      *piVar2 = *piVar2 + 1;
      return;
    }
    break;
  case 8:
  case 0xc:
    in_ECX[0xc] = 0;
    iVar1 = *(int *)(param_1 + 4);
    *(int *)(in_ECX + 4) = iVar1;
    if (iVar1 != 0) {
      *(uint *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1U & 0x8fffffff;
    }
    in_ECX[8] = 0;
    in_ECX[9] = 0;
    in_ECX[10] = 0;
    in_ECX[0xb] = 0;
    if (*(int *)(param_1 + 8) != 0) {
      FUN_005686c0(*(int *)(param_1 + 8),param_1[0xc] & 1);
      return;
    }
    break;
  case 9:
    iVar1 = *(int *)(param_1 + 4);
    *(int *)(in_ECX + 4) = iVar1;
    *(uint *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1U & 0x8fffffff;
    break;
  case 10:
    break;
  default:
    goto switchD_005268d9_default;
  }
switchD_005268d9_default:
  return;
}



============================================================
DISASSEMBLY
============================================================
005268b0 : SUB ESP,0xc
005268b3 : PUSH ESI
005268b4 : PUSH EDI
005268b5 : MOV EDI,ECX
005268b7 : CMP byte ptr [EDI],0x5
005268ba : JC 0x005268c1
005268bc : CALL 0x00526400
005268c1 : MOV ESI,dword ptr [ESP + 0x18]
005268c5 : MOV AL,byte ptr [ESI]
005268c7 : MOV byte ptr [EDI],AL
005268c9 : MOVZX EAX,byte ptr [ESI]
005268cc : ADD EAX,-0x2
005268cf : CMP EAX,0xa
005268d2 : JA 0x00526a57
005268d8 : PUSH EBX
005268d9 : JMP dword ptr [EAX*0x4 + 0x526a60]
005268e0 : MOV CL,byte ptr [ESI + 0x4]
005268e3 : POP EBX
005268e4 : MOV byte ptr [EDI + 0x4],CL
005268e7 : POP EDI
005268e8 : POP ESI
005268e9 : ADD ESP,0xc
005268ec : RET 0x4
005268ef : MOV ESI,dword ptr [ESI + 0x4]
005268f2 : MOV dword ptr [EDI + 0x4],ESI
005268f5 : INC dword ptr [ESI + 0x8]
005268f8 : POP EBX
005268f9 : POP EDI
005268fa : POP ESI
005268fb : ADD ESP,0xc
005268fe : RET 0x4
00526901 : FLD double ptr [ESI + 0x4]
00526904 : POP EBX
00526905 : FSTP double ptr [EDI + 0x4]
00526908 : POP EDI
00526909 : POP ESI
0052690a : ADD ESP,0xc
0052690d : RET 0x4
00526910 : MOV EDX,dword ptr [ESI + 0x4]
00526913 : POP EBX
00526914 : MOV dword ptr [EDI + 0x4],EDX
00526917 : POP EDI
00526918 : POP ESI
00526919 : ADD ESP,0xc
0052691c : RET 0x4
0052691f : MOV EAX,dword ptr [ESI + 0x4]
00526922 : XOR EBX,EBX
00526924 : CMP EAX,EBX
00526926 : JZ 0x005269e2
0052692c : LEA ECX,[EAX + 0x10]
0052692f : MOV EAX,dword ptr [ECX]
00526931 : MOV EDX,dword ptr [EAX + 0x8]
00526934 : CALL EDX
00526936 : CMP EAX,0x17
00526939 : JNZ 0x005269c6
0052693f : MOV byte ptr [EDI],0x8
00526942 : MOV ESI,dword ptr [ESI + 0x4]
00526945 : MOV EAX,dword ptr [ESI + 0x10]
00526948 : MOV EAX,dword ptr [EAX + 0x30]
0052694b : LEA ECX,[ESI + 0x10]
0052694e : LEA EDX,[ESP + 0xc]
00526952 : PUSH EDX
00526953 : CALL EAX
00526955 : LEA ECX,[EDI + 0x4]
00526958 : MOV byte ptr [ECX + 0x8],BL
0052695b : MOV EDX,dword ptr [EAX]
0052695d : MOV dword ptr [ECX],EDX
0052695f : CMP EDX,EBX
00526961 : JZ 0x00526970
00526963 : MOV ESI,dword ptr [EDX + 0x8]
00526966 : INC ESI
00526967 : AND ESI,0x8fffffff
0052696d : MOV dword ptr [EDX + 0x8],ESI
00526970 : MOV dword ptr [ECX + 0x4],EBX
00526973 : MOV EDX,dword ptr [EAX + 0x4]
00526976 : CMP EDX,EBX
00526978 : JZ 0x00526989
0052697a : MOV AL,byte ptr [EAX + 0x8]
0052697d : AND AL,0x1
0052697f : MOVZX EAX,AL
00526982 : PUSH EAX
00526983 : PUSH EDX
00526984 : CALL 0x005686c0
00526989 : TEST byte ptr [ESP + 0x14],0x2
0052698e : JNZ 0x0052699d
00526990 : MOV ECX,dword ptr [ESP + 0xc]
00526994 : CMP ECX,EBX
00526996 : JZ 0x0052699d
00526998 : CALL 0x00503db0
0052699d : TEST byte ptr [ESP + 0x14],0x1
005269a2 : MOV dword ptr [ESP + 0xc],EBX
005269a6 : JNZ 0x00526a56
005269ac : MOV ECX,dword ptr [ESP + 0x10]
005269b0 : CMP ECX,EBX
005269b2 : JZ 0x00526a56
005269b8 : CALL 0x00503db0
005269bd : POP EBX
005269be : POP EDI
005269bf : POP ESI
005269c0 : ADD ESP,0xc
005269c3 : RET 0x4
005269c6 : MOV ESI,dword ptr [ESI + 0x4]
005269c9 : MOV dword ptr [EDI + 0x4],ESI
005269cc : MOV ECX,dword ptr [ESI + 0x8]
005269cf : INC ECX
005269d0 : POP EBX
005269d1 : AND ECX,0x8fffffff
005269d7 : POP EDI
005269d8 : MOV dword ptr [ESI + 0x8],ECX
005269db : POP ESI
005269dc : ADD ESP,0xc
005269df : RET 0x4
005269e2 : MOV dword ptr [EDI + 0x4],EBX
005269e5 : POP EBX
005269e6 : POP EDI
005269e7 : POP ESI
005269e8 : ADD ESP,0xc
005269eb : RET 0x4
005269ee : MOV ESI,dword ptr [ESI + 0x4]
005269f1 : MOV dword ptr [EDI + 0x4],ESI
005269f4 : TEST ESI,ESI
005269f6 : JZ 0x00526a56
005269f8 : INC dword ptr [ESI]
005269fa : POP EBX
005269fb : POP EDI
005269fc : POP ESI
005269fd : ADD ESP,0xc
00526a00 : RET 0x4
00526a03 : LEA ECX,[EDI + 0x4]
00526a06 : XOR EBX,EBX
00526a08 : MOV byte ptr [ECX + 0x8],BL
00526a0b : MOV EAX,dword ptr [ESI + 0x4]
00526a0e : MOV dword ptr [ECX],EAX
00526a10 : CMP EAX,EBX
00526a12 : JZ 0x00526a21
00526a14 : MOV EDX,dword ptr [EAX + 0x8]
00526a17 : INC EDX
00526a18 : AND EDX,0x8fffffff
00526a1e : MOV dword ptr [EAX + 0x8],EDX
00526a21 : MOV dword ptr [ECX + 0x4],EBX
00526a24 : MOV EAX,dword ptr [ESI + 0x8]
00526a27 : CMP EAX,EBX
00526a29 : JZ 0x00526a56
00526a2b : MOV DL,byte ptr [ESI + 0xc]
00526a2e : AND DL,0x1
00526a31 : MOVZX EDX,DL
00526a34 : PUSH EDX
00526a35 : PUSH EAX
00526a36 : CALL 0x005686c0
00526a3b : POP EBX
00526a3c : POP EDI
00526a3d : POP ESI
00526a3e : ADD ESP,0xc
00526a41 : RET 0x4
00526a44 : MOV ESI,dword ptr [ESI + 0x4]
00526a47 : MOV dword ptr [EDI + 0x4],ESI
00526a4a : MOV EAX,dword ptr [ESI + 0x8]
00526a4d : INC EAX
00526a4e : AND EAX,0x8fffffff
00526a53 : MOV dword ptr [ESI + 0x8],EAX
00526a56 : POP EBX
00526a57 : POP EDI
00526a58 : POP ESI
00526a59 : ADD ESP,0xc
00526a5c : RET 0x4
