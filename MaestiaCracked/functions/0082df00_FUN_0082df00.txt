PROGRAM  : Maestia.exe
FUNCTION : FUN_0082df00
ENTRY    : 0082df00
BODY     : [[0082df00, 0082dfb3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0082df00(void)

{
  int unaff_EDI;
  undefined1 local_2c [24];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1b2c9;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_008018d0(L"AvaAdminCmd::AbortRunningMacro: event %x",*(undefined4 *)(unaff_EDI + 0x70),
               DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  if (*(HANDLE *)(unaff_EDI + 0x70) != (HANDLE)0x0) {
    *(undefined4 *)(unaff_EDI + 0x74) = 1;
    SetEvent(*(HANDLE *)(unaff_EDI + 0x70));
    FUN_00406460(L"Current running MACRO Aborted");
    local_8 = 0;
    (**(code **)(**(int **)(*DAT_00da9894 + 0x1a8) + 0x44))(local_2c,3);
    local_8 = 0xffffffff;
    if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0082df00 : PUSH EBP
0082df01 : MOV EBP,ESP
0082df03 : PUSH -0x1
0082df05 : PUSH 0xb1b2c9
0082df0a : MOV EAX,FS:[0x0]
0082df10 : PUSH EAX
0082df11 : SUB ESP,0x1c
0082df14 : PUSH ESI
0082df15 : MOV EAX,[0x00d66fa0]
0082df1a : XOR EAX,EBP
0082df1c : PUSH EAX
0082df1d : LEA EAX,[EBP + -0xc]
0082df20 : MOV FS:[0x0],EAX
0082df26 : MOV EAX,dword ptr [EDI + 0x70]
0082df29 : MOV ESI,dword ptr [0x00da98e8]
0082df2f : PUSH EAX
0082df30 : PUSH 0xc36060
0082df35 : CALL 0x008018d0
0082df3a : MOV EAX,dword ptr [EDI + 0x70]
0082df3d : XOR ESI,ESI
0082df3f : ADD ESP,0x8
0082df42 : CMP EAX,ESI
0082df44 : JZ 0x0082dfa4
0082df46 : PUSH EAX
0082df47 : MOV dword ptr [EDI + 0x74],0x1
0082df4e : CALL dword ptr [0x00b851e8]
0082df54 : PUSH 0xc35ec4
0082df59 : LEA ECX,[EBP + -0x28]
0082df5c : CALL 0x00406460
0082df61 : MOV dword ptr [EBP + -0x4],ESI
0082df64 : MOV ECX,dword ptr [0x00da9894]
0082df6a : MOV EAX,dword ptr [ECX]
0082df6c : MOV ECX,dword ptr [EAX + 0x1a8]
0082df72 : MOV EDX,dword ptr [ECX]
0082df74 : MOV EDX,dword ptr [EDX + 0x44]
0082df77 : PUSH 0x3
0082df79 : LEA EAX,[EBP + -0x28]
0082df7c : PUSH EAX
0082df7d : CALL EDX
0082df7f : MOV dword ptr [EBP + -0x4],0xffffffff
0082df86 : CMP dword ptr [EBP + -0x10],0x8
0082df8a : JC 0x0082df94
0082df8c : MOV ECX,dword ptr [EBP + -0x24]
0082df8f : CALL 0x006f04e0
0082df94 : XOR EAX,EAX
0082df96 : MOV dword ptr [EBP + -0x10],0x7
0082df9d : MOV dword ptr [EBP + -0x14],ESI
0082dfa0 : MOV word ptr [EBP + -0x24],AX
0082dfa4 : MOV ECX,dword ptr [EBP + -0xc]
0082dfa7 : MOV dword ptr FS:[0x0],ECX
0082dfae : POP ECX
0082dfaf : POP ESI
0082dfb0 : MOV ESP,EBP
0082dfb2 : POP EBP
0082dfb3 : RET
