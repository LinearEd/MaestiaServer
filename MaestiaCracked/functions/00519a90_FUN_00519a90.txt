PROGRAM  : Maestia.exe
FUNCTION : FUN_00519a90
ENTRY    : 00519a90
BODY     : [[00519a90, 00519ae2]]

============================================================
DECOMPILED C CODE
============================================================

GRefCountNTSImpl * FUN_00519a90(ImageFormat param_1,ulong param_2,ulong param_3)

{
  GImage *this;
  GRefCountNTSImpl *this_00;
  
  this = (GImage *)FUN_00515840(0x30,0);
  if (this == (GImage *)0x0) {
    this_00 = (GRefCountNTSImpl *)0x0;
  }
  else {
    this_00 = (GRefCountNTSImpl *)GImage::GImage(this,param_1,param_2,param_3);
  }
  if (((*(int *)(this_00 + 0x18) == 0) || (param_2 == 0)) || (param_3 == 0)) {
    GRefCountNTSImpl::Release(this_00);
    this_00 = (GRefCountNTSImpl *)0x0;
  }
  return this_00;
}



============================================================
DISASSEMBLY
============================================================
00519a90 : MOV ECX,dword ptr [ESP + 0x10]
00519a94 : TEST ECX,ECX
00519a96 : JNZ 0x00519a9e
00519a98 : MOV ECX,dword ptr [0x00d73250]
00519a9e : PUSH ESI
00519a9f : PUSH EDI
00519aa0 : PUSH 0x0
00519aa2 : PUSH 0x30
00519aa4 : CALL 0x00515840
00519aa9 : MOV EDI,dword ptr [ESP + 0x14]
00519aad : MOV ESI,dword ptr [ESP + 0x10]
00519ab1 : TEST EAX,EAX
00519ab3 : JZ 0x00519ac5
00519ab5 : MOV ECX,dword ptr [ESP + 0xc]
00519ab9 : PUSH EDI
00519aba : PUSH ESI
00519abb : PUSH ECX
00519abc : MOV ECX,EAX
00519abe : CALL 0x005199d0
00519ac3 : JMP 0x00519ac7
00519ac5 : XOR EAX,EAX
00519ac7 : CMP dword ptr [EAX + 0x18],0x0
00519acb : JZ 0x00519ad5
00519acd : TEST ESI,ESI
00519acf : JZ 0x00519ad5
00519ad1 : TEST EDI,EDI
00519ad3 : JNZ 0x00519ade
00519ad5 : MOV ECX,EAX
00519ad7 : CALL 0x004ff7c0
00519adc : XOR EAX,EAX
00519ade : POP EDI
00519adf : POP ESI
00519ae0 : RET 0x10
