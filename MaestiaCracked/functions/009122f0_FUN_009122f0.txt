PROGRAM  : Maestia.exe
FUNCTION : FUN_009122f0
ENTRY    : 009122f0
BODY     : [[009122f0, 00912458]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009122f0(int param_1)

{
  char cVar1;
  uint uVar2;
  DWORD DVar3;
  int iVar4;
  int *piVar5;
  uint uVar6;
  undefined1 local_4c [28];
  undefined1 local_30 [28];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3897d;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar2;
  if (*(int *)(param_1 + 0x78) != 0) {
    DVar3 = timeGetTime();
    uVar6 = (*(int *)(param_1 + 0x78) - DVar3) / 1000;
    if (uVar6 - 1 < 0xf) {
      FUN_00406460(L"IDS_RECONFIRM_RESOLUTION");
      local_8 = 0;
      iVar4 = FUN_0081d120(local_4c);
      local_8._0_1_ = 1;
      if (*(uint *)(iVar4 + 0x18) < 8) {
        iVar4 = iVar4 + 4;
      }
      else {
        iVar4 = *(int *)(iVar4 + 4);
      }
      FUN_00404750(iVar4,uVar6);
      local_8._0_1_ = 3;
      FUN_00406560();
      local_8 = CONCAT31(local_8._1_3_,4);
      FUN_00406560();
      cVar1 = FUN_00404010();
      if (cVar1 != '\0') {
        iVar4 = FUN_008ede80(local_30,2);
        FUN_0097fa60();
        if (iVar4 != 0) {
          if (*(code **)(iVar4 + 0x60) != (code *)0x0) {
            (**(code **)(iVar4 + 0x60))(1,iVar4);
          }
          *(code **)(iVar4 + 0x60) = FUN_009121a0;
        }
        FUN_00405eb0(local_30,0,0xffffffff);
      }
      local_8 = 0xffffffff;
      FUN_00406560();
    }
    else {
      piVar5 = (int *)FUN_008ed300(uVar2);
      if (piVar5 != (int *)0x0) {
        (**(code **)(*piVar5 + 0x10))();
      }
      *(undefined4 *)(param_1 + 0x78) = 0;
      FUN_00912070(1);
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009122f0 : PUSH EBP
009122f1 : MOV EBP,ESP
009122f3 : PUSH -0x1
009122f5 : PUSH 0xb3897d
009122fa : MOV EAX,FS:[0x0]
00912300 : PUSH EAX
00912301 : SUB ESP,0x58
00912304 : MOV EAX,[0x00d66fa0]
00912309 : XOR EAX,EBP
0091230b : MOV dword ptr [EBP + -0x10],EAX
0091230e : PUSH EBX
0091230f : PUSH ESI
00912310 : PUSH EDI
00912311 : PUSH EAX
00912312 : LEA EAX,[EBP + -0xc]
00912315 : MOV FS:[0x0],EAX
0091231b : MOV EBX,dword ptr [EBP + 0x8]
0091231e : XOR EDI,EDI
00912320 : CMP dword ptr [EBX + 0x78],EDI
00912323 : JZ 0x0091243b
00912329 : CALL dword ptr [0x00b85598]
0091232f : MOV ECX,dword ptr [EBX + 0x78]
00912332 : SUB ECX,EAX
00912334 : MOV EAX,0x10624dd3
00912339 : MUL ECX
0091233b : MOV ESI,EDX
0091233d : SHR ESI,0x6
00912340 : LEA EDX,[ESI + -0x1]
00912343 : CMP EDX,0xe
00912346 : JA 0x00912412
0091234c : PUSH 0xc668ac
00912351 : LEA ECX,[EBP + -0x48]
00912354 : CALL 0x00406460
00912359 : MOV dword ptr [EBP + -0x4],EDI
0091235c : MOV ECX,dword ptr [0x0172491c]
00912362 : LEA EAX,[EBP + -0x48]
00912365 : PUSH EAX
00912366 : LEA EDI,[EBP + -0x64]
00912369 : CALL 0x0081d120
0091236e : MOV byte ptr [EBP + -0x4],0x1
00912372 : CMP dword ptr [EAX + 0x18],0x8
00912376 : JC 0x0091237d
00912378 : MOV EAX,dword ptr [EAX + 0x4]
0091237b : JMP 0x00912380
0091237d : ADD EAX,0x4
00912380 : PUSH ESI
00912381 : PUSH EAX
00912382 : LEA ESI,[EBP + -0x2c]
00912385 : CALL 0x00404750
0091238a : ADD ESP,0x8
0091238d : MOV byte ptr [EBP + -0x4],0x3
00912391 : LEA ECX,[EBP + -0x64]
00912394 : CALL 0x00406560
00912399 : MOV byte ptr [EBP + -0x4],0x4
0091239d : LEA ECX,[EBP + -0x48]
009123a0 : CALL 0x00406560
009123a5 : LEA EDI,[EBX + 0x7c]
009123a8 : MOV EAX,ESI
009123aa : MOV ECX,EDI
009123ac : CALL 0x00404010
009123b1 : TEST AL,AL
009123b3 : JZ 0x00912401
009123b5 : MOV ECX,dword ptr [0x00da9894]
009123bb : MOV ECX,dword ptr [ECX]
009123bd : PUSH 0x2
009123bf : MOV EDX,ESI
009123c1 : PUSH EDX
009123c2 : CALL 0x008ede80
009123c7 : MOV ESI,EAX
009123c9 : MOV EAX,[0x00da9894]
009123ce : MOV EAX,dword ptr [EAX]
009123d0 : MOV ECX,dword ptr [EAX + 0x128]
009123d6 : CALL 0x0097fa60
009123db : TEST ESI,ESI
009123dd : JZ 0x009123f2
009123df : MOV EAX,dword ptr [ESI + 0x60]
009123e2 : TEST EAX,EAX
009123e4 : JZ 0x009123eb
009123e6 : PUSH ESI
009123e7 : PUSH 0x1
009123e9 : CALL EAX
009123eb : MOV dword ptr [ESI + 0x60],0x9121a0
009123f2 : PUSH -0x1
009123f4 : PUSH 0x0
009123f6 : LEA ECX,[EBP + -0x2c]
009123f9 : PUSH ECX
009123fa : MOV ECX,EDI
009123fc : CALL 0x00405eb0
00912401 : MOV dword ptr [EBP + -0x4],0xffffffff
00912408 : LEA ECX,[EBP + -0x2c]
0091240b : CALL 0x00406560
00912410 : JMP 0x0091243b
00912412 : MOV EDX,dword ptr [0x00da9894]
00912418 : MOV ECX,dword ptr [EDX]
0091241a : LEA EAX,[EBX + 0x7c]
0091241d : CALL 0x008ed300
00912422 : CMP EAX,EDI
00912424 : JZ 0x0091242f
00912426 : MOV EDX,dword ptr [EAX]
00912428 : MOV ECX,EAX
0091242a : MOV EAX,dword ptr [EDX + 0x10]
0091242d : CALL EAX
0091242f : PUSH 0x1
00912431 : MOV EAX,EBX
00912433 : MOV dword ptr [EBX + 0x78],EDI
00912436 : CALL 0x00912070
0091243b : MOV ECX,dword ptr [EBP + -0xc]
0091243e : MOV dword ptr FS:[0x0],ECX
00912445 : POP ECX
00912446 : POP EDI
00912447 : POP ESI
00912448 : POP EBX
00912449 : MOV ECX,dword ptr [EBP + -0x10]
0091244c : XOR ECX,EBP
0091244e : CALL 0x00633e6b
00912453 : MOV ESP,EBP
00912455 : POP EBP
00912456 : RET 0x4
