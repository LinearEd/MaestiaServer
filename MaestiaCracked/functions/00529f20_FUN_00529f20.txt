PROGRAM  : Maestia.exe
FUNCTION : FUN_00529f20
ENTRY    : 00529f20
BODY     : [[00529f20, 00529ff2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00529f20(int param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  int iVar3;
  GRefCountImpl *this;
  int unaff_EBX;
  undefined4 *unaff_ESI;
  undefined4 *unaff_retaddr;
  undefined4 uStack_8;
  
  if (1 < *(int *)(param_1 + 0x1c)) {
    iVar3 = (**(code **)(**(int **)(*(int *)(param_1 + 0x18) + 0x74) + 0x40))();
    this = (GRefCountImpl *)(**(code **)(*(int *)(iVar3 + 8) + 0xc))(0x1b);
    if (this != (GRefCountImpl *)0x0) {
      uVar1 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(1);
      FUN_005272e0(&stack0xfffffff4,uVar1,0xffffffff,0);
      uVar1 = *unaff_ESI;
      uVar2 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(0);
      FUN_005272e0(&stack0x00000000,uVar2,0xffffffff,0);
      (**(code **)(*(int *)this + 100))(uStack_8,*unaff_retaddr,uVar1);
      unaff_ESI[2] = unaff_ESI[2] + -1;
      if (unaff_ESI[2] == 0) {
        FUN_00525340();
      }
      *(int *)(unaff_EBX + 8) = *(int *)(unaff_EBX + 8) + -1;
      if (*(int *)(unaff_EBX + 8) == 0) {
        FUN_00525340();
      }
      GRefCountImpl::Release(this);
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00529f20 : SUB ESP,0x8
00529f23 : PUSH ESI
00529f24 : MOV ESI,dword ptr [ESP + 0x10]
00529f28 : CMP dword ptr [ESI + 0x1c],0x2
00529f2c : JL 0x00529fee
00529f32 : MOV EAX,dword ptr [ESI + 0x18]
00529f35 : MOV ECX,dword ptr [EAX + 0x74]
00529f38 : MOV EDX,dword ptr [ECX]
00529f3a : MOV EAX,dword ptr [EDX + 0x40]
00529f3d : PUSH EDI
00529f3e : CALL EAX
00529f40 : MOV EDX,dword ptr [EAX + 0x8]
00529f43 : LEA ECX,[EAX + 0x8]
00529f46 : MOV dword ptr [ESP + 0xc],EAX
00529f4a : MOV EAX,dword ptr [EDX + 0xc]
00529f4d : PUSH 0x1b
00529f4f : CALL EAX
00529f51 : MOV EDI,EAX
00529f53 : TEST EDI,EDI
00529f55 : JZ 0x00529fed
00529f5b : PUSH EBX
00529f5c : MOV EBX,dword ptr [ESI + 0x18]
00529f5f : PUSH EBP
00529f60 : PUSH 0x1
00529f62 : MOV ECX,ESI
00529f64 : CALL 0x00526260
00529f69 : PUSH 0x0
00529f6b : PUSH -0x1
00529f6d : PUSH EBX
00529f6e : LEA ECX,[ESP + 0x1c]
00529f72 : PUSH ECX
00529f73 : MOV ECX,EAX
00529f75 : CALL 0x005272e0
00529f7a : MOV EDX,dword ptr [ESP + 0x10]
00529f7e : MOV EBX,dword ptr [EDX]
00529f80 : MOV EBP,dword ptr [ESI + 0x18]
00529f83 : PUSH 0x0
00529f85 : MOV ECX,ESI
00529f87 : CALL 0x00526260
00529f8c : PUSH 0x0
00529f8e : PUSH -0x1
00529f90 : PUSH EBP
00529f91 : LEA ECX,[ESP + 0x28]
00529f95 : PUSH ECX
00529f96 : MOV ECX,EAX
00529f98 : CALL 0x005272e0
00529f9d : MOV EAX,dword ptr [ESP + 0x1c]
00529fa1 : MOV ECX,dword ptr [EAX]
00529fa3 : MOV EDX,dword ptr [EDI]
00529fa5 : MOV EAX,dword ptr [ESP + 0x14]
00529fa9 : MOV EDX,dword ptr [EDX + 0x64]
00529fac : PUSH EBX
00529fad : PUSH ECX
00529fae : PUSH EAX
00529faf : MOV ECX,EDI
00529fb1 : CALL EDX
00529fb3 : MOV EAX,dword ptr [ESP + 0x1c]
00529fb7 : DEC dword ptr [EAX + 0x8]
00529fba : MOV ECX,EAX
00529fbc : ADD EAX,0x8
00529fbf : CMP dword ptr [EAX],0x0
00529fc2 : POP EBP
00529fc3 : POP EBX
00529fc4 : JNZ 0x00529fcb
00529fc6 : CALL 0x00525340
00529fcb : MOV EAX,dword ptr [ESP + 0x8]
00529fcf : DEC dword ptr [EAX + 0x8]
00529fd2 : MOV ECX,EAX
00529fd4 : ADD EAX,0x8
00529fd7 : CMP dword ptr [EAX],0x0
00529fda : JNZ 0x00529fe1
00529fdc : CALL 0x00525340
00529fe1 : MOV ECX,EDI
00529fe3 : POP EDI
00529fe4 : POP ESI
00529fe5 : ADD ESP,0x8
00529fe8 : JMP 0x004ff7e0
00529fed : POP EDI
00529fee : POP ESI
00529fef : ADD ESP,0x8
00529ff2 : RET
