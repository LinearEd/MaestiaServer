PROGRAM  : Maestia.exe
FUNCTION : FUN_005f37c0
ENTRY    : 005f37c0
BODY     : [[005f37c0, 005f3874]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005f37c0(int *param_1,int *param_2,undefined2 param_3)

{
  int *piVar1;
  undefined4 *puVar2;
  int in_ECX;
  int *piVar3;
  bool bVar4;
  
  piVar3 = param_1;
  do {
    piVar1 = (int *)piVar3[4];
    FUN_005f3670(piVar3);
    if (piVar3 != param_1) {
      puVar2 = (undefined4 *)piVar3[2];
      *puVar2 = *(undefined4 *)(in_ECX + 0x70);
      *(undefined4 **)(in_ECX + 0x70) = puVar2;
      *(int *)(*piVar3 + 4) = piVar3[1];
      *(int *)piVar3[1] = *piVar3;
      *(int *)(in_ECX + 0x38) = *(int *)(in_ECX + 0x38) + -1;
      if ((*(ushort *)(piVar3 + 8) & 0x4000) == 0) {
        *(int *)(piVar3[5] + 0x18) = piVar3[6];
        *(int *)(piVar3[6] + 0x14) = piVar3[5];
      }
      *(int *)(piVar3[3] + 0x10) = piVar3[4];
      *(int *)(piVar3[4] + 0xc) = piVar3[3];
      *piVar3 = *(int *)(in_ECX + 0x28);
      *(int **)(in_ECX + 0x28) = piVar3;
    }
    bVar4 = piVar3 != param_2;
    piVar3 = piVar1;
  } while (bVar4);
  *(undefined2 *)(param_1 + 9) = param_3;
  *(undefined2 *)(param_1[2] + 0x1c) = param_3;
  *(int *)(*param_1 + 4) = param_1[1];
  *(int *)param_1[1] = *param_1;
  param_1[1] = *(int *)(in_ECX + 0x34);
  *param_1 = in_ECX + 0x30;
  **(undefined4 **)(in_ECX + 0x34) = param_1;
  *(int **)(in_ECX + 0x34) = param_1;
  return;
}



============================================================
DISASSEMBLY
============================================================
005f37c0 : PUSH EBX
005f37c1 : MOV EBX,dword ptr [ESP + 0x8]
005f37c5 : PUSH EBP
005f37c6 : PUSH ESI
005f37c7 : PUSH EDI
005f37c8 : MOV EDI,ECX
005f37ca : MOV ESI,EBX
005f37cc : LEA ESP,[ESP]
005f37d0 : MOV EBP,dword ptr [ESI + 0x10]
005f37d3 : PUSH ESI
005f37d4 : MOV ECX,EDI
005f37d6 : CALL 0x005f3670
005f37db : CMP ESI,EBX
005f37dd : JZ 0x005f3833
005f37df : MOV EAX,dword ptr [ESI + 0x8]
005f37e2 : MOV ECX,dword ptr [EDI + 0x70]
005f37e5 : MOV dword ptr [EAX],ECX
005f37e7 : MOV dword ptr [EDI + 0x70],EAX
005f37ea : MOV EDX,dword ptr [ESI]
005f37ec : MOV EAX,dword ptr [ESI + 0x4]
005f37ef : MOV dword ptr [EDX + 0x4],EAX
005f37f2 : MOV ECX,dword ptr [ESI + 0x4]
005f37f5 : MOV EDX,dword ptr [ESI]
005f37f7 : MOV dword ptr [ECX],EDX
005f37f9 : DEC dword ptr [EDI + 0x38]
005f37fc : MOV EAX,0x4000
005f3801 : TEST word ptr [ESI + 0x20],AX
005f3805 : JNZ 0x005f3819
005f3807 : MOV ECX,dword ptr [ESI + 0x14]
005f380a : MOV EDX,dword ptr [ESI + 0x18]
005f380d : MOV dword ptr [ECX + 0x18],EDX
005f3810 : MOV EAX,dword ptr [ESI + 0x18]
005f3813 : MOV ECX,dword ptr [ESI + 0x14]
005f3816 : MOV dword ptr [EAX + 0x14],ECX
005f3819 : MOV EDX,dword ptr [ESI + 0xc]
005f381c : MOV EAX,dword ptr [ESI + 0x10]
005f381f : MOV dword ptr [EDX + 0x10],EAX
005f3822 : MOV ECX,dword ptr [ESI + 0x10]
005f3825 : MOV EDX,dword ptr [ESI + 0xc]
005f3828 : MOV dword ptr [ECX + 0xc],EDX
005f382b : MOV EAX,dword ptr [EDI + 0x28]
005f382e : MOV dword ptr [ESI],EAX
005f3830 : MOV dword ptr [EDI + 0x28],ESI
005f3833 : CMP ESI,dword ptr [ESP + 0x18]
005f3837 : JZ 0x005f383d
005f3839 : MOV ESI,EBP
005f383b : JMP 0x005f37d0
005f383d : MOV ECX,dword ptr [EBX + 0x8]
005f3840 : MOV EAX,dword ptr [ESP + 0x1c]
005f3844 : MOV word ptr [EBX + 0x24],AX
005f3848 : MOV word ptr [ECX + 0x1c],AX
005f384c : MOV EDX,dword ptr [EBX]
005f384e : MOV ECX,dword ptr [EBX + 0x4]
005f3851 : MOV dword ptr [EDX + 0x4],ECX
005f3854 : MOV EDX,dword ptr [EBX + 0x4]
005f3857 : MOV ECX,dword ptr [EBX]
005f3859 : LEA EAX,[EDI + 0x30]
005f385c : MOV dword ptr [EDX],ECX
005f385e : MOV EDX,dword ptr [EAX + 0x4]
005f3861 : MOV dword ptr [EBX + 0x4],EDX
005f3864 : MOV dword ptr [EBX],EAX
005f3866 : MOV ECX,dword ptr [EAX + 0x4]
005f3869 : POP EDI
005f386a : POP ESI
005f386b : MOV dword ptr [ECX],EBX
005f386d : POP EBP
005f386e : MOV dword ptr [EAX + 0x4],EBX
005f3871 : POP EBX
005f3872 : RET 0xc
