PROGRAM  : Maestia.exe
FUNCTION : FUN_00808925
ENTRY    : 00808925
BODY     : [[00808925, 008089a7] [008089aa, 008089c7]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00808925(void)

{
  short sVar1;
  short *psVar2;
  undefined4 *puVar3;
  int iVar4;
  short *psVar5;
  int unaff_EBX;
  uint unaff_EBP;
  undefined4 unaff_EDI;
  
  psVar2 = *(short **)(unaff_EBP - 0x40);
  psVar5 = psVar2;
  do {
    sVar1 = *psVar5;
    psVar5 = psVar5 + 1;
  } while (sVar1 != 0);
  FUN_00406360(psVar2,(int)psVar5 - (int)(psVar2 + 1) >> 1);
  psVar2 = *(short **)(unaff_EBP - 0x3c);
  psVar5 = psVar2;
  do {
    sVar1 = *psVar5;
    psVar5 = psVar5 + 1;
  } while (sVar1 != 0);
  FUN_00406360(psVar2,(int)psVar5 - (int)(psVar2 + 1) >> 1);
  puVar3 = *(undefined4 **)(unaff_EBX + 8);
  iVar4 = *(int *)(unaff_EBX + 4);
  if ((iVar4 == 0) ||
     ((uint)(*(int *)(unaff_EBX + 0xc) - iVar4 >> 2) <= (uint)((int)puVar3 - iVar4 >> 2))) {
    FUN_0042fe80(unaff_EBX,puVar3,unaff_EBP - 0x34);
  }
  else {
    *puVar3 = unaff_EDI;
    *(undefined4 **)(unaff_EBX + 8) = puVar3 + 1;
  }
  ExceptionList = *(void **)(unaff_EBP - 0xc);
  __security_check_cookie(*(uint *)(unaff_EBP - 0x14) ^ unaff_EBP);
  return;
}



============================================================
DISASSEMBLY
============================================================
00808925 : MOV ESI,dword ptr [EBP + -0x40]
00808928 : MOV EAX,ESI
0080892a : LEA EDX,[EAX + 0x2]
0080892d : LEA ECX,[ECX]
00808930 : MOV CX,word ptr [EAX]
00808933 : ADD EAX,0x2
00808936 : TEST CX,CX
00808939 : JNZ 0x00808930
0080893b : SUB EAX,EDX
0080893d : SAR EAX,0x1
0080893f : PUSH EAX
00808940 : PUSH ESI
00808941 : LEA ECX,[EDI + 0x4]
00808944 : CALL 0x00406360
00808949 : MOV ESI,dword ptr [EBP + -0x3c]
0080894c : MOV EAX,ESI
0080894e : LEA EDX,[EAX + 0x2]
00808951 : MOV CX,word ptr [EAX]
00808954 : ADD EAX,0x2
00808957 : TEST CX,CX
0080895a : JNZ 0x00808951
0080895c : SUB EAX,EDX
0080895e : SAR EAX,0x1
00808960 : PUSH EAX
00808961 : PUSH ESI
00808962 : LEA ECX,[EDI + 0x20]
00808965 : CALL 0x00406360
0080896a : MOV EDX,dword ptr [EBX + 0x8]
0080896d : MOV ECX,dword ptr [EBX + 0x4]
00808970 : MOV EAX,EDX
00808972 : SUB EAX,ECX
00808974 : SAR EAX,0x2
00808977 : TEST ECX,ECX
00808979 : JZ 0x00808996
0080897b : MOV ESI,dword ptr [EBX + 0xc]
0080897e : SUB ESI,ECX
00808980 : SAR ESI,0x2
00808983 : CMP EAX,ESI
00808985 : JNC 0x00808996
00808987 : MOV dword ptr [EDX],EDI
00808989 : ADD EDX,0x4
0080898c : MOV dword ptr [EBX + 0x8],EDX
0080898f : MOV EAX,0x1
00808994 : JMP 0x008089aa
00808996 : LEA ECX,[EBP + -0x34]
00808999 : PUSH ECX
0080899a : PUSH EDX
0080899b : PUSH EBX
0080899c : CALL 0x0042fe80
008089a1 : MOV EAX,0x1
008089a6 : JMP 0x008089aa
008089aa : MOV ECX,dword ptr [EBP + -0xc]
008089ad : MOV dword ptr FS:[0x0],ECX
008089b4 : POP ECX
008089b5 : POP EDI
008089b6 : POP ESI
008089b7 : POP EBX
008089b8 : MOV ECX,dword ptr [EBP + -0x14]
008089bb : XOR ECX,EBP
008089bd : CALL 0x00633e6b
008089c2 : MOV ESP,EBP
008089c4 : POP EBP
008089c5 : RET 0x10
