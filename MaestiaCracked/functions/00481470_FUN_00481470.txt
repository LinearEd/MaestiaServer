PROGRAM  : Maestia.exe
FUNCTION : FUN_00481470
ENTRY    : 00481470
BODY     : [[00481470, 00481556]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00481470(void)

{
  uint uVar1;
  int in_ECX;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7e898;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(DAT_017251ac + 0x424);
  local_18 = 0;
  local_20 = ".\\Scaleform\\GRendererD3DxImpl.cpp";
  local_1c = 0xbb2;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  local_8 = 0;
  if (*(int *)(in_ECX + 0xf0) != 0) {
    FUN_00480060(0);
    (**(code **)(**(int **)(in_ECX + 0xf0) + 0x170))(*(int **)(in_ECX + 0xf0),0,uVar1);
    (**(code **)(**(int **)(in_ECX + 0xf0) + 0x104))(*(int **)(in_ECX + 0xf0),0,0);
    if ((*(byte *)(in_ECX + 0x28) & 1) == 0) {
      (**(code **)(**(int **)(in_ECX + 0xf0) + 0xa8))(*(int **)(in_ECX + 0xf0));
    }
  }
  FUN_0047f350();
  local_8 = 0xffffffff;
  if (local_18 != 0) {
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00481470 : PUSH EBP
00481471 : MOV EBP,ESP
00481473 : PUSH -0x1
00481475 : PUSH 0xb7e898
0048147a : MOV EAX,FS:[0x0]
00481480 : PUSH EAX
00481481 : SUB ESP,0x14
00481484 : PUSH EDI
00481485 : MOV EAX,[0x00d66fa0]
0048148a : XOR EAX,EBP
0048148c : PUSH EAX
0048148d : LEA EAX,[EBP + -0xc]
00481490 : MOV FS:[0x0],EAX
00481496 : MOV EDI,ECX
00481498 : MOV EAX,[0x017251ac]
0048149d : LEA ECX,[EBP + -0x20]
004814a0 : ADD EAX,0x424
004814a5 : PUSH ECX
004814a6 : MOV dword ptr [EBP + -0x14],0x0
004814ad : MOV dword ptr [EBP + -0x20],EAX
004814b0 : MOV dword ptr [EBP + -0x1c],0xcd758c
004814b7 : MOV dword ptr [EBP + -0x18],0xbb2
004814be : MOV dword ptr [EBP + -0x10],0x1
004814c5 : CALL 0x006ef1a0
004814ca : MOV dword ptr [EBP + -0x4],0x0
004814d1 : CMP dword ptr [EDI + 0xf0],0x0
004814d8 : JZ 0x00481522
004814da : PUSH 0x0
004814dc : XOR EAX,EAX
004814de : CALL 0x00480060
004814e3 : MOV EAX,dword ptr [EDI + 0xf0]
004814e9 : MOV EDX,dword ptr [EAX]
004814eb : PUSH 0x0
004814ed : PUSH EAX
004814ee : MOV EAX,dword ptr [EDX + 0x170]
004814f4 : CALL EAX
004814f6 : MOV EAX,dword ptr [EDI + 0xf0]
004814fc : MOV ECX,dword ptr [EAX]
004814fe : MOV EDX,dword ptr [ECX + 0x104]
00481504 : PUSH 0x0
00481506 : PUSH 0x0
00481508 : PUSH EAX
00481509 : CALL EDX
0048150b : TEST byte ptr [EDI + 0x28],0x1
0048150f : JNZ 0x00481522
00481511 : MOV EAX,dword ptr [EDI + 0xf0]
00481517 : MOV ECX,dword ptr [EAX]
00481519 : MOV EDX,dword ptr [ECX + 0xa8]
0048151f : PUSH EAX
00481520 : CALL EDX
00481522 : MOV ECX,EDI
00481524 : CALL 0x0047f350
00481529 : MOV dword ptr [EBP + -0x4],0xffffffff
00481530 : CMP dword ptr [EBP + -0x14],0x0
00481534 : JZ 0x00481547
00481536 : MOV EAX,dword ptr [EBP + -0x20]
00481539 : PUSH EAX
0048153a : CALL dword ptr [0x00b8511c]
00481540 : MOV dword ptr [EBP + -0x14],0x0
00481547 : MOV ECX,dword ptr [EBP + -0xc]
0048154a : MOV dword ptr FS:[0x0],ECX
00481551 : POP ECX
00481552 : POP EDI
00481553 : MOV ESP,EBP
00481555 : POP EBP
00481556 : RET
