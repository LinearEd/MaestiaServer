PROGRAM  : Maestia.exe
FUNCTION : FUN_00781630
ENTRY    : 00781630
BODY     : [[00781630, 0078176e]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00781630(void)

{
  int *piVar1;
  int *in_EAX;
  int iVar2;
  int unaff_EDI;
  
  if (*(char *)(unaff_EDI + 0x200) != '\0') {
    return 0;
  }
  *(undefined1 *)(unaff_EDI + 0x200) = 1;
  (*(code *)PTR_FUN_00d6d23c)("(!)%s(%d)\n","AvaLib::AvaPSMGenerator::Restore",0x3af);
  if (*(char *)(DAT_017251ac + 0x22e) == '\0') {
    return 0x80004005;
  }
  iVar2 = (**(code **)(*in_EAX + 0x98))();
  if (-1 < iVar2) {
    iVar2 = (**(code **)(*in_EAX + 0xa0))();
    if (((-1 < iVar2) && (*(int *)(unaff_EDI + 0x204) != 0)) && (*(int *)(unaff_EDI + 0x208) != 0))
    {
      iVar2 = (**(code **)(*in_EAX + 0x5c))();
      if (-1 < iVar2) {
        iVar2 = (**(code **)(*in_EAX + 0x5c))();
        if (((-1 < iVar2) && (piVar1 = *(int **)(unaff_EDI + 0x214), piVar1 != (int *)0x0)) &&
           (*(int *)(unaff_EDI + 0x218) != 0)) {
          iVar2 = (**(code **)(*piVar1 + 0x48))(piVar1,0,unaff_EDI + 0x20c);
          if (-1 < iVar2) {
            piVar1 = *(int **)(unaff_EDI + 0x218);
            iVar2 = (**(code **)(*piVar1 + 0x48))(piVar1,0,(int *)(unaff_EDI + 0x210));
            if (((-1 < iVar2) && (*(int *)(unaff_EDI + 0x20c) != 0)) &&
               (*(int *)(unaff_EDI + 0x210) != 0)) {
              *(undefined4 *)(unaff_EDI + 0x16c) = 1;
              return 0;
            }
          }
        }
      }
    }
  }
  return 0x80004005;
}



============================================================
DISASSEMBLY
============================================================
00781630 : CMP byte ptr [EDI + 0x200],0x0
00781637 : PUSH ESI
00781638 : MOV ESI,EAX
0078163a : JZ 0x00781640
0078163c : XOR EAX,EAX
0078163e : POP ESI
0078163f : RET
00781640 : PUSH 0x3af
00781645 : PUSH 0xc110a0
0078164a : PUSH 0xc110c4
0078164f : MOV byte ptr [EDI + 0x200],0x1
00781656 : CALL dword ptr [0x00d6d23c]
0078165c : MOV EAX,[0x017251ac]
00781661 : ADD ESP,0xc
00781664 : CMP byte ptr [EAX + 0x22e],0x0
0078166b : JNZ 0x00781674
0078166d : MOV EAX,0x80004005
00781672 : POP ESI
00781673 : RET
00781674 : MOV ECX,dword ptr [ESI]
00781676 : MOV EDX,dword ptr [ECX + 0x98]
0078167c : PUSH EBX
0078167d : LEA EBX,[EDI + 0x204]
00781683 : PUSH EBX
00781684 : PUSH 0x0
00781686 : PUSH ESI
00781687 : CALL EDX
00781689 : TEST EAX,EAX
0078168b : JL 0x00781767
00781691 : MOV ECX,dword ptr [ESI]
00781693 : MOV EDX,dword ptr [ECX + 0xa0]
00781699 : LEA EAX,[EDI + 0x208]
0078169f : PUSH EAX
007816a0 : PUSH ESI
007816a1 : CALL EDX
007816a3 : TEST EAX,EAX
007816a5 : JL 0x00781767
007816ab : CMP dword ptr [EBX],0x0
007816ae : JZ 0x00781767
007816b4 : CMP dword ptr [EDI + 0x208],0x0
007816bb : JZ 0x00781767
007816c1 : MOV ECX,dword ptr [ESI]
007816c3 : MOV EDX,dword ptr [ECX + 0x5c]
007816c6 : PUSH 0x0
007816c8 : LEA EAX,[EDI + 0x214]
007816ce : PUSH EAX
007816cf : PUSH 0x0
007816d1 : PUSH 0x16
007816d3 : PUSH 0x1
007816d5 : PUSH 0x1
007816d7 : PUSH 0x200
007816dc : PUSH 0x200
007816e1 : PUSH ESI
007816e2 : CALL EDX
007816e4 : TEST EAX,EAX
007816e6 : JL 0x00781767
007816e8 : MOV EAX,dword ptr [ESI]
007816ea : MOV ECX,dword ptr [EAX + 0x5c]
007816ed : PUSH 0x0
007816ef : LEA EBX,[EDI + 0x218]
007816f5 : PUSH EBX
007816f6 : PUSH 0x0
007816f8 : PUSH 0x4b
007816fa : PUSH 0x2
007816fc : PUSH 0x1
007816fe : PUSH 0x200
00781703 : PUSH 0x200
00781708 : PUSH ESI
00781709 : CALL ECX
0078170b : TEST EAX,EAX
0078170d : JL 0x00781767
0078170f : MOV EAX,dword ptr [EDI + 0x214]
00781715 : TEST EAX,EAX
00781717 : JZ 0x00781767
00781719 : CMP dword ptr [EBX],0x0
0078171c : JZ 0x00781767
0078171e : MOV EDX,dword ptr [EAX]
00781720 : LEA ECX,[EDI + 0x20c]
00781726 : PUSH ECX
00781727 : PUSH 0x0
00781729 : PUSH EAX
0078172a : MOV EAX,dword ptr [EDX + 0x48]
0078172d : CALL EAX
0078172f : TEST EAX,EAX
00781731 : JL 0x00781767
00781733 : MOV EBX,dword ptr [EBX]
00781735 : MOV ECX,dword ptr [EBX]
00781737 : MOV EDX,dword ptr [ECX + 0x48]
0078173a : LEA ESI,[EDI + 0x210]
00781740 : PUSH ESI
00781741 : PUSH 0x0
00781743 : PUSH EBX
00781744 : CALL EDX
00781746 : TEST EAX,EAX
00781748 : JL 0x00781767
0078174a : CMP dword ptr [EDI + 0x20c],0x0
00781751 : JZ 0x00781767
00781753 : CMP dword ptr [ESI],0x0
00781756 : JZ 0x00781767
00781758 : POP EBX
00781759 : MOV dword ptr [EDI + 0x16c],0x1
00781763 : XOR EAX,EAX
00781765 : POP ESI
00781766 : RET
00781767 : POP EBX
00781768 : MOV EAX,0x80004005
0078176d : POP ESI
0078176e : RET
