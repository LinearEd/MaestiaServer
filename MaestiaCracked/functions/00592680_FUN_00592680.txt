PROGRAM  : Maestia.exe
FUNCTION : FUN_00592680
ENTRY    : 00592680
BODY     : [[00592680, 0059274a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00592680(GRefCountImpl *param_1)

{
  int *piVar1;
  GRefCountImpl *this;
  int iVar2;
  undefined4 *puVar3;
  int in_ECX;
  float10 fVar4;
  undefined4 unaff_retaddr;
  
  if ((param_1 != (GRefCountImpl *)0x0) || (*(int *)(in_ECX + 0x1ac) != 0)) {
    if (*(int *)(in_ECX + 0x1ac) == 0) {
      puVar3 = (undefined4 *)FUN_00515840(0x24,0);
      if (puVar3 == (undefined4 *)0x0) {
        puVar3 = (undefined4 *)0x0;
      }
      else {
        puVar3[2] = 0;
        puVar3[3] = 0;
        puVar3[4] = 0;
        puVar3[5] = 0;
        puVar3[6] = 0;
        puVar3[7] = 0;
        puVar3[8] = 0;
        *puVar3 = 100;
        puVar3[1] = 0;
      }
      *(undefined4 **)(in_ECX + 0x1ac) = puVar3;
    }
    piVar1 = *(int **)(*(int *)(in_ECX + 0x1ac) + 0x20);
    if (piVar1 != (int *)0x0) {
      (**(code **)(*piVar1 + 0xc))();
    }
    puVar3 = (undefined4 *)(*(int *)(in_ECX + 0x1ac) + 0x20);
    if (param_1 != (GRefCountImpl *)0x0) {
      GRefCountImpl::AddRef(param_1);
    }
    this = (GRefCountImpl *)*puVar3;
    if (this != (GRefCountImpl *)0x0) {
      GRefCountImpl::Release(this);
    }
    *puVar3 = param_1;
    piVar1 = *(int **)(*(int *)(in_ECX + 0x1ac) + 0x20);
    if (piVar1 != (int *)0x0) {
      iVar2 = *piVar1;
      fVar4 = (float10)FUN_00589c60();
      (**(code **)(iVar2 + 0x28))((float)fVar4);
      FUN_005924a0(unaff_retaddr,0,0);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00592680 : PUSH EBX
00592681 : MOV EBX,dword ptr [ESP + 0x8]
00592685 : PUSH EBP
00592686 : XOR EBP,EBP
00592688 : PUSH ESI
00592689 : MOV ESI,ECX
0059268b : CMP EBX,EBP
0059268d : JNZ 0x0059269b
0059268f : CMP dword ptr [ESI + 0x1ac],EBP
00592695 : JZ 0x00592745
0059269b : CMP dword ptr [ESI + 0x1ac],EBP
005926a1 : JNZ 0x005926dd
005926a3 : MOV ECX,dword ptr [0x00d73250]
005926a9 : PUSH EBP
005926aa : PUSH 0x24
005926ac : CALL 0x00515840
005926b1 : CMP EAX,EBP
005926b3 : JZ 0x005926d5
005926b5 : MOV dword ptr [EAX + 0x8],EBP
005926b8 : MOV dword ptr [EAX + 0xc],EBP
005926bb : MOV dword ptr [EAX + 0x10],EBP
005926be : MOV dword ptr [EAX + 0x14],EBP
005926c1 : MOV dword ptr [EAX + 0x18],EBP
005926c4 : MOV dword ptr [EAX + 0x1c],EBP
005926c7 : MOV dword ptr [EAX + 0x20],EBP
005926ca : MOV dword ptr [EAX],0x64
005926d0 : MOV dword ptr [EAX + 0x4],EBP
005926d3 : JMP 0x005926d7
005926d5 : XOR EAX,EAX
005926d7 : MOV dword ptr [ESI + 0x1ac],EAX
005926dd : MOV EAX,dword ptr [ESI + 0x1ac]
005926e3 : MOV ECX,dword ptr [EAX + 0x20]
005926e6 : CMP ECX,EBP
005926e8 : JZ 0x005926f1
005926ea : MOV EDX,dword ptr [ECX]
005926ec : MOV EAX,dword ptr [EDX + 0xc]
005926ef : CALL EAX
005926f1 : PUSH EDI
005926f2 : MOV EDI,dword ptr [ESI + 0x1ac]
005926f8 : ADD EDI,0x20
005926fb : CMP EBX,EBP
005926fd : JZ 0x00592706
005926ff : MOV ECX,EBX
00592701 : CALL 0x00523dd0
00592706 : MOV ECX,dword ptr [EDI]
00592708 : CMP ECX,EBP
0059270a : JZ 0x00592711
0059270c : CALL 0x004ff7e0
00592711 : MOV dword ptr [EDI],EBX
00592713 : MOV ECX,dword ptr [ESI + 0x1ac]
00592719 : MOV EBX,dword ptr [ECX + 0x20]
0059271c : CMP EBX,EBP
0059271e : JZ 0x00592744
00592720 : MOV EDI,dword ptr [EBX]
00592722 : MOV ECX,ESI
00592724 : ADD EDI,0x28
00592727 : CALL 0x00589c60
0059272c : MOV EDX,dword ptr [EDI]
0059272e : PUSH ECX
0059272f : MOV ECX,EBX
00592731 : FSTP float ptr [ESP]
00592734 : CALL EDX
00592736 : MOV EAX,dword ptr [ESP + 0x14]
0059273a : PUSH EBP
0059273b : PUSH EBP
0059273c : PUSH EAX
0059273d : MOV ECX,ESI
0059273f : CALL 0x005924a0
00592744 : POP EDI
00592745 : POP ESI
00592746 : POP EBP
00592747 : POP EBX
00592748 : RET 0x4
