PROGRAM  : Maestia.exe
FUNCTION : FUN_007070b0
ENTRY    : 007070b0
BODY     : [[007070b0, 00707189]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007070b0(undefined4 param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  int *in_ECX;
  int iVar5;
  int iVar6;
  uint local_c;
  uint local_8;
  
  (**(code **)(*in_ECX + 0xc))();
  FUN_004d0ff0();
  iVar5 = in_ECX[0xc];
  iVar6 = 0;
  uVar3 = 0;
  do {
    *(char *)(uVar3 + in_ECX[3]) = (char)iVar5;
    uVar3 = uVar3 + 1;
    iVar5 = iVar5 >> 8;
  } while (uVar3 < 4);
  iVar5 = in_ECX[0xd];
  uVar3 = 0;
  do {
    *(char *)(in_ECX[3] + 4 + uVar3) = (char)iVar5;
    uVar3 = uVar3 + 1;
    iVar5 = iVar5 >> 8;
  } while (uVar3 < 4);
  iVar5 = in_ECX[10];
  iVar1 = in_ECX[9];
  local_c = 0;
  local_8 = 0;
  uVar3 = 8;
  if (in_ECX[0xd] != 0) {
    do {
      iVar4 = FUN_007059a0();
      uVar3 = uVar3 + iVar4;
      if (local_8 < (uint)(iVar5 - iVar1 >> 2)) {
        uVar2 = *(uint *)(in_ECX[9] + local_8 * 4);
        if (uVar3 == uVar2) {
          local_8 = local_8 + 1;
        }
        else if (uVar2 < uVar3) {
          FUN_004d14a0(in_ECX + 2,in_ECX[3] + uVar2,1,iVar6 + 0x20 + in_ECX[0xf]);
          if (in_ECX[4] != in_ECX[3]) {
            in_ECX[4] = in_ECX[4] + -1;
          }
          local_8 = local_8 + 1;
          uVar3 = uVar3 + 1;
        }
      }
      local_c = local_c + 1;
      iVar6 = iVar6 + 0x28;
    } while (local_c < (uint)in_ECX[0xd]);
  }
  FUN_00705630(param_1);
  return;
}



============================================================
DISASSEMBLY
============================================================
007070b0 : PUSH EBP
007070b1 : MOV EBP,ESP
007070b3 : SUB ESP,0xc
007070b6 : PUSH EBX
007070b7 : PUSH ESI
007070b8 : MOV ESI,ECX
007070ba : MOV EAX,dword ptr [ESI]
007070bc : MOV EDX,dword ptr [EAX + 0xc]
007070bf : PUSH EDI
007070c0 : CALL EDX
007070c2 : LEA EDI,[ESI + 0x8]
007070c5 : CALL 0x004d0ff0
007070ca : MOV ECX,dword ptr [ESI + 0x30]
007070cd : XOR EDI,EDI
007070cf : XOR EAX,EAX
007070d1 : MOV EDX,dword ptr [ESI + 0xc]
007070d4 : MOV byte ptr [EAX + EDX*0x1],CL
007070d7 : INC EAX
007070d8 : SAR ECX,0x8
007070db : CMP EAX,0x4
007070de : JC 0x007070d1
007070e0 : MOV ECX,dword ptr [ESI + 0x34]
007070e3 : XOR EAX,EAX
007070e5 : MOV EDX,dword ptr [ESI + 0xc]
007070e8 : MOV byte ptr [EDX + EAX*0x1 + 0x4],CL
007070ec : INC EAX
007070ed : SAR ECX,0x8
007070f0 : CMP EAX,0x4
007070f3 : JC 0x007070e5
007070f5 : MOV EAX,dword ptr [ESI + 0x28]
007070f8 : SUB EAX,dword ptr [ESI + 0x24]
007070fb : MOV dword ptr [EBP + -0x8],EDI
007070fe : SAR EAX,0x2
00707101 : MOV dword ptr [EBP + -0xc],EAX
00707104 : MOV dword ptr [EBP + -0x4],EDI
00707107 : MOV EBX,0x8
0070710c : CMP dword ptr [ESI + 0x34],EDI
0070710f : JBE 0x00707176
00707111 : MOV EAX,dword ptr [ESI + 0xc]
00707114 : MOV ECX,dword ptr [ESI + 0x3c]
00707117 : ADD ECX,EDI
00707119 : ADD EAX,EBX
0070711b : CALL 0x007059a0
00707120 : ADD EBX,EAX
00707122 : MOV EAX,dword ptr [EBP + -0x4]
00707125 : CMP EAX,dword ptr [EBP + -0xc]
00707128 : JNC 0x00707167
0070712a : MOV ECX,dword ptr [ESI + 0x24]
0070712d : MOV ECX,dword ptr [ECX + EAX*0x4]
00707130 : CMP EBX,ECX
00707132 : JNZ 0x0070713a
00707134 : INC EAX
00707135 : MOV dword ptr [EBP + -0x4],EAX
00707138 : JMP 0x00707167
0070713a : JBE 0x00707167
0070713c : MOV EAX,dword ptr [ESI + 0xc]
0070713f : MOV EDX,dword ptr [ESI + 0x3c]
00707142 : ADD EAX,ECX
00707144 : LEA ECX,[EDI + EDX*0x1 + 0x20]
00707148 : PUSH ECX
00707149 : PUSH 0x1
0070714b : PUSH EAX
0070714c : LEA EAX,[ESI + 0x8]
0070714f : PUSH EAX
00707150 : CALL 0x004d14a0
00707155 : MOV EAX,dword ptr [ESI + 0x10]
00707158 : MOV ECX,EAX
0070715a : SUB ECX,dword ptr [ESI + 0xc]
0070715d : JZ 0x00707163
0070715f : DEC EAX
00707160 : MOV dword ptr [ESI + 0x10],EAX
00707163 : INC dword ptr [EBP + -0x4]
00707166 : INC EBX
00707167 : MOV EAX,dword ptr [EBP + -0x8]
0070716a : INC EAX
0070716b : ADD EDI,0x28
0070716e : MOV dword ptr [EBP + -0x8],EAX
00707171 : CMP EAX,dword ptr [ESI + 0x34]
00707174 : JC 0x00707111
00707176 : MOV EDX,dword ptr [EBP + 0x8]
00707179 : PUSH EDX
0070717a : MOV ECX,ESI
0070717c : CALL 0x00705630
00707181 : POP EDI
00707182 : POP ESI
00707183 : POP EBX
00707184 : MOV ESP,EBP
00707186 : POP EBP
00707187 : RET 0x4
