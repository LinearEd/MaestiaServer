PROGRAM  : Maestia.exe
FUNCTION : FUN_0091c2a0
ENTRY    : 0091c2a0
BODY     : [[0091c2a0, 0091c423]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0091c2a0(int param_1)

{
  undefined4 uVar1;
  DWORD DVar2;
  int iVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 local_1c;
  undefined4 local_18;
  int local_14;
  DWORD local_10;
  undefined4 local_c;
  int local_8;
  
  puVar5 = *(undefined4 **)(DAT_00da93ec + 0x38c);
  while( true ) {
    if (puVar5 == *(undefined4 **)(DAT_00da93ec + 0x390)) {
      FUN_008018d0(L"ReceiveTowerCaptureTime: tower %d not found\n",*(short *)(param_1 + 10));
      return;
    }
    if (*(short *)(puVar5 + 1) == *(short *)(param_1 + 10)) break;
    puVar5 = puVar5 + 0xc;
  }
  if (*(int *)(param_1 + 4) == *(int *)(*(int *)(DAT_0172491c + 0x17c) + 4)) {
    FUN_009adfc0(*(undefined4 *)(*DAT_00da9894 + 0x1a8),3,(*(int *)(param_1 + 0xc) + 999U) / 1000);
  }
  DVar2 = timeGetTime();
  local_1c = *(undefined4 *)(param_1 + 4);
  local_14 = *(int *)(param_1 + 0xc) + DVar2;
  local_18 = CONCAT22(local_18._2_2_,*(undefined2 *)(param_1 + 8));
  local_10 = timeGetTime();
  local_c = 0;
  FUN_004295a0(&local_1c);
  puVar5[5] = (int)(puVar5[10] - puVar5[9]) / 0x14;
  uVar1 = *(undefined4 *)(param_1 + 4);
  local_8 = DAT_00da93ec;
  iVar3 = FUN_00a1a840(uVar1);
  if ((iVar3 == 0) && (iVar3 = FUN_00a1a6d0(uVar1), iVar3 == 0)) {
    iVar3 = FUN_00a1a780(uVar1);
  }
  iVar4 = FUN_00a1a6d0(*puVar5);
  if ((iVar4 != 0) && (iVar3 != 0)) {
    FUN_00919d60(*(undefined4 *)(param_1 + 4),*puVar5,local_18);
  }
  if (*(int *)(*DAT_00da9894 + 300) != 0) {
    FUN_009823b0(*(undefined4 *)(*(int *)(*DAT_00da9894 + 300) + 0x18),0);
    return;
  }
  FUN_009823b0(0,0);
  return;
}



============================================================
DISASSEMBLY
============================================================
0091c2a0 : PUSH EBP
0091c2a1 : MOV EBP,ESP
0091c2a3 : MOV EAX,[0x00da93ec]
0091c2a8 : SUB ESP,0x18
0091c2ab : PUSH EBX
0091c2ac : MOV EBX,dword ptr [EBP + 0x8]
0091c2af : MOVZX ECX,word ptr [EBX + 0xa]
0091c2b3 : PUSH ESI
0091c2b4 : MOV ESI,dword ptr [EAX + 0x38c]
0091c2ba : MOV EAX,dword ptr [EAX + 0x390]
0091c2c0 : PUSH EDI
0091c2c1 : MOVZX EDX,CX
0091c2c4 : CMP ESI,EAX
0091c2c6 : JZ 0x0091c2d5
0091c2c8 : CMP word ptr [ESI + 0x4],DX
0091c2cc : JZ 0x0091c2f5
0091c2ce : ADD ESI,0x30
0091c2d1 : CMP ESI,EAX
0091c2d3 : JNZ 0x0091c2c8
0091c2d5 : MOV ESI,dword ptr [0x00da98e8]
0091c2db : MOVZX EAX,CX
0091c2de : PUSH EAX
0091c2df : PUSH 0xc681b8
0091c2e4 : CALL 0x008018d0
0091c2e9 : ADD ESP,0x8
0091c2ec : POP EDI
0091c2ed : POP ESI
0091c2ee : POP EBX
0091c2ef : MOV ESP,EBP
0091c2f1 : POP EBP
0091c2f2 : RET 0x4
0091c2f5 : MOV ECX,dword ptr [0x0172491c]
0091c2fb : MOV EDX,dword ptr [ECX + 0x17c]
0091c301 : MOV EAX,dword ptr [EBX + 0x4]
0091c304 : CMP EAX,dword ptr [EDX + 0x4]
0091c307 : JNZ 0x0091c33b
0091c309 : MOV ECX,dword ptr [EBX + 0xc]
0091c30c : ADD ECX,0x3e7
0091c312 : MOV EAX,0x10624dd3
0091c317 : MUL ECX
0091c319 : SHR EDX,0x6
0091c31c : PUSH EDX
0091c31d : MOV EDX,dword ptr [0x00da9894]
0091c323 : MOV EAX,dword ptr [EDX]
0091c325 : MOV ECX,dword ptr [EAX + 0x1a8]
0091c32b : PUSH 0x3
0091c32d : PUSH ECX
0091c32e : MOV ECX,0xc68214
0091c333 : CALL 0x009adfc0
0091c338 : ADD ESP,0xc
0091c33b : MOV EDI,dword ptr [0x00b85598]
0091c341 : CALL EDI
0091c343 : MOV EDX,dword ptr [EBX + 0x4]
0091c346 : MOV CX,word ptr [EBX + 0x8]
0091c34a : MOV dword ptr [EBP + -0x18],EDX
0091c34d : MOV EDX,dword ptr [EBX + 0xc]
0091c350 : ADD EDX,EAX
0091c352 : MOV word ptr [EBP + -0x14],CX
0091c356 : MOV dword ptr [EBP + -0x10],EDX
0091c359 : CALL EDI
0091c35b : MOV dword ptr [EBP + -0xc],EAX
0091c35e : LEA EAX,[EBP + -0x18]
0091c361 : LEA EDI,[ESI + 0x20]
0091c364 : PUSH EAX
0091c365 : MOV EAX,EDI
0091c367 : MOV dword ptr [EBP + -0x8],0x0
0091c36e : CALL 0x004295a0
0091c373 : MOV ECX,dword ptr [EDI + 0x8]
0091c376 : SUB ECX,dword ptr [EDI + 0x4]
0091c379 : MOV EAX,0x66666667
0091c37e : IMUL ECX
0091c380 : SAR EDX,0x3
0091c383 : MOV ECX,EDX
0091c385 : SHR ECX,0x1f
0091c388 : ADD ECX,EDX
0091c38a : MOV dword ptr [ESI + 0x14],ECX
0091c38d : MOV EAX,dword ptr [EBX + 0x4]
0091c390 : MOV ECX,dword ptr [0x00da93ec]
0091c396 : PUSH EAX
0091c397 : MOV dword ptr [EBP + -0x4],ECX
0091c39a : MOV dword ptr [EBP + 0x8],EAX
0091c39d : CALL 0x00a1a840
0091c3a2 : MOV EDI,EAX
0091c3a4 : TEST EDI,EDI
0091c3a6 : JNZ 0x0091c3c8
0091c3a8 : MOV EDX,dword ptr [EBP + 0x8]
0091c3ab : MOV ECX,dword ptr [EBP + -0x4]
0091c3ae : PUSH EDX
0091c3af : CALL 0x00a1a6d0
0091c3b4 : MOV EDI,EAX
0091c3b6 : TEST EDI,EDI
0091c3b8 : JNZ 0x0091c3c8
0091c3ba : MOV EAX,dword ptr [EBP + 0x8]
0091c3bd : MOV ECX,dword ptr [EBP + -0x4]
0091c3c0 : PUSH EAX
0091c3c1 : CALL 0x00a1a780
0091c3c6 : MOV EDI,EAX
0091c3c8 : MOV ECX,dword ptr [ESI]
0091c3ca : PUSH ECX
0091c3cb : MOV ECX,dword ptr [0x00da93ec]
0091c3d1 : CALL 0x00a1a6d0
0091c3d6 : TEST EAX,EAX
0091c3d8 : JZ 0x0091c3ee
0091c3da : TEST EDI,EDI
0091c3dc : JZ 0x0091c3ee
0091c3de : MOV EDX,dword ptr [EBP + -0x14]
0091c3e1 : MOV EAX,dword ptr [ESI]
0091c3e3 : MOV ECX,dword ptr [EBX + 0x4]
0091c3e6 : PUSH EDX
0091c3e7 : PUSH EAX
0091c3e8 : PUSH ECX
0091c3e9 : CALL 0x00919d60
0091c3ee : MOV EDX,dword ptr [0x00da9894]
0091c3f4 : MOV EAX,dword ptr [EDX]
0091c3f6 : MOV EAX,dword ptr [EAX + 0x12c]
0091c3fc : TEST EAX,EAX
0091c3fe : JNZ 0x0091c410
0091c400 : PUSH EAX
0091c401 : PUSH EAX
0091c402 : CALL 0x009823b0
0091c407 : POP EDI
0091c408 : POP ESI
0091c409 : POP EBX
0091c40a : MOV ESP,EBP
0091c40c : POP EBP
0091c40d : RET 0x4
0091c410 : MOV EAX,dword ptr [EAX + 0x18]
0091c413 : PUSH 0x0
0091c415 : PUSH EAX
0091c416 : CALL 0x009823b0
0091c41b : POP EDI
0091c41c : POP ESI
0091c41d : POP EBX
0091c41e : MOV ESP,EBP
0091c420 : POP EBP
0091c421 : RET 0x4
