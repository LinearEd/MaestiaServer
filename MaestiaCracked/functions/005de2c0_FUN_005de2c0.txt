PROGRAM  : Maestia.exe
FUNCTION : FUN_005de2c0
ENTRY    : 005de2c0
BODY     : [[005de2c0, 005de3db]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_005de2c0(uint param_1,uint *param_2)

{
  uint uVar1;
  byte bVar2;
  int iVar3;
  uint uVar4;
  int *in_ECX;
  
  iVar3 = *(int *)(*in_ECX + 0xc);
  bVar2 = *(byte *)(*(int *)(iVar3 + (param_1 >> 0xc) * 4) + (param_1 & 0xfff));
  uVar4 = (uint)(bVar2 >> 2);
  if ((bVar2 & 3) == 0) {
    *param_2 = uVar4;
    return 1;
  }
  if ((bVar2 & 3) != 1) {
    uVar1 = param_1 + 1;
    if ((bVar2 & 3) != 2) {
      iVar3 = *(int *)(*in_ECX + 0xc);
      *param_2 = (uint)CONCAT21(CONCAT11(*(undefined1 *)
                                          (*(int *)(iVar3 + (param_1 + 3 >> 0xc) * 4) +
                                          (param_1 + 3 & 0xfff)),
                                         *(undefined1 *)
                                          (*(int *)(iVar3 + (param_1 + 2 >> 0xc) * 4) +
                                          (param_1 + 2 & 0xfff))),
                                *(undefined1 *)
                                 (*(int *)(iVar3 + (uVar1 >> 0xc) * 4) + (uVar1 & 0xfff))) << 6 |
                 uVar4;
      return 4;
    }
    *param_2 = (uint)CONCAT11(*(undefined1 *)
                               (*(int *)(iVar3 + (param_1 + 2 >> 0xc) * 4) + (param_1 + 2 & 0xfff)),
                              *(undefined1 *)
                               (*(int *)(iVar3 + (uVar1 >> 0xc) * 4) + (uVar1 & 0xfff))) << 6 |
               uVar4;
    return 3;
  }
  *param_2 = (uint)*(byte *)(*(int *)(iVar3 + (param_1 + 1 >> 0xc) * 4) + (param_1 + 1 & 0xfff)) <<
             6 | uVar4;
  return 2;
}



============================================================
DISASSEMBLY
============================================================
005de2c0 : PUSH ESI
005de2c1 : PUSH EDI
005de2c2 : MOV EDI,dword ptr [ECX]
005de2c4 : MOV ECX,dword ptr [ESP + 0xc]
005de2c8 : MOV ESI,dword ptr [EDI + 0xc]
005de2cb : MOV EAX,ECX
005de2cd : SHR EAX,0xc
005de2d0 : MOV EAX,dword ptr [ESI + EAX*0x4]
005de2d3 : MOV EDX,ECX
005de2d5 : AND EDX,0xfff
005de2db : MOVZX EAX,byte ptr [EAX + EDX*0x1]
005de2df : MOV EDX,EAX
005de2e1 : AND EDX,0x3
005de2e4 : SHR EAX,0x2
005de2e7 : SUB EDX,0x0
005de2ea : JZ 0x005de3cc
005de2f0 : SUB EDX,0x1
005de2f3 : JZ 0x005de3a4
005de2f9 : SUB EDX,0x1
005de2fc : LEA EDX,[ECX + 0x1]
005de2ff : JZ 0x005de361
005de301 : MOV EDI,dword ptr [EDI + 0xc]
005de304 : LEA ESI,[ECX + 0x2]
005de307 : ADD ECX,0x3
005de30a : PUSH EBX
005de30b : MOV EBX,ECX
005de30d : SHR EBX,0xc
005de310 : MOV EBX,dword ptr [EDI + EBX*0x4]
005de313 : AND ECX,0xfff
005de319 : MOVZX ECX,byte ptr [EBX + ECX*0x1]
005de31d : MOV EBX,ESI
005de31f : AND ESI,0xfff
005de325 : SHR EBX,0xc
005de328 : MOV EBX,dword ptr [EDI + EBX*0x4]
005de32b : MOVZX ESI,byte ptr [EBX + ESI*0x1]
005de32f : SHL ECX,0x8
005de332 : OR ECX,ESI
005de334 : MOV ESI,EDX
005de336 : SHR ESI,0xc
005de339 : MOV ESI,dword ptr [EDI + ESI*0x4]
005de33c : AND EDX,0xfff
005de342 : MOVZX EDX,byte ptr [ESI + EDX*0x1]
005de346 : SHL ECX,0x8
005de349 : OR ECX,EDX
005de34b : SHL ECX,0x6
005de34e : OR ECX,EAX
005de350 : MOV EAX,dword ptr [ESP + 0x14]
005de354 : POP EBX
005de355 : POP EDI
005de356 : MOV dword ptr [EAX],ECX
005de358 : MOV EAX,0x4
005de35d : POP ESI
005de35e : RET 0x8
005de361 : ADD ECX,0x2
005de364 : MOV EDI,ESI
005de366 : MOV ESI,ECX
005de368 : SHR ESI,0xc
005de36b : MOV ESI,dword ptr [EDI + ESI*0x4]
005de36e : AND ECX,0xfff
005de374 : MOVZX ECX,byte ptr [ESI + ECX*0x1]
005de378 : MOV ESI,EDX
005de37a : SHR ESI,0xc
005de37d : MOV ESI,dword ptr [EDI + ESI*0x4]
005de380 : AND EDX,0xfff
005de386 : MOVZX EDX,byte ptr [ESI + EDX*0x1]
005de38a : SHL ECX,0x8
005de38d : OR ECX,EDX
005de38f : SHL ECX,0x6
005de392 : OR ECX,EAX
005de394 : MOV EAX,dword ptr [ESP + 0x10]
005de398 : POP EDI
005de399 : MOV dword ptr [EAX],ECX
005de39b : MOV EAX,0x3
005de3a0 : POP ESI
005de3a1 : RET 0x8
005de3a4 : INC ECX
005de3a5 : MOV EDX,ECX
005de3a7 : SHR EDX,0xc
005de3aa : MOV EDX,dword ptr [ESI + EDX*0x4]
005de3ad : AND ECX,0xfff
005de3b3 : MOVZX ECX,byte ptr [EDX + ECX*0x1]
005de3b7 : MOV EDX,dword ptr [ESP + 0x10]
005de3bb : SHL ECX,0x6
005de3be : OR ECX,EAX
005de3c0 : POP EDI
005de3c1 : MOV dword ptr [EDX],ECX
005de3c3 : MOV EAX,0x2
005de3c8 : POP ESI
005de3c9 : RET 0x8
005de3cc : MOV ECX,dword ptr [ESP + 0x10]
005de3d0 : POP EDI
005de3d1 : MOV dword ptr [ECX],EAX
005de3d3 : MOV EAX,0x1
005de3d8 : POP ESI
005de3d9 : RET 0x8
