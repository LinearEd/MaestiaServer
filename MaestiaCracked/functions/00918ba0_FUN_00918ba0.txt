PROGRAM  : Maestia.exe
FUNCTION : FUN_00918ba0
ENTRY    : 00918ba0
BODY     : [[00918ba0, 00918c0a] [00918c10, 00919000]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00918ba0(void)

{
  short sVar1;
  int *piVar2;
  int *piVar3;
  uint uVar4;
  undefined4 uVar5;
  DWORD DVar6;
  int iVar7;
  int in_ECX;
  undefined4 *puVar8;
  uint uVar9;
  undefined4 ****ppppuVar10;
  int iVar11;
  uint local_78;
  int local_70 [2];
  undefined2 local_68;
  undefined4 local_58;
  uint local_54;
  int *local_50;
  undefined4 ***local_48 [4];
  undefined4 local_38;
  uint local_34;
  undefined4 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1f0bf;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (*(uint *)(in_ECX + 0x84) <= *(uint *)(in_ECX + 0x5c)) {
    *(undefined4 *)(in_ECX + 0x5c) = 0;
  }
  local_14 = uVar4;
  timeGetTime();
  piVar2 = *(int **)(in_ECX + 0x80);
  local_50 = (int *)*piVar2;
  iVar11 = 0;
  if (local_50 != piVar2) {
    local_70[0] = *(int *)(in_ECX + 0x5c);
    do {
      piVar3 = local_50;
      if (local_70[0] == iVar11) {
        local_34 = 7;
        local_38 = 0;
        local_48[0] = (undefined4 ***)((uint)local_48[0] & 0xffff0000);
        FUN_00406360(&DAT_00c68c48,0);
        local_8 = 0;
        sVar1 = *(short *)(piVar3[4] + 4);
        if (sVar1 == 1) {
          uVar5 = FUN_0081cbe0(DAT_0172491c);
          local_8._0_1_ = 1;
          FUN_00405eb0(uVar5,0,0xffffffff);
          local_8 = (uint)local_8._1_3_ << 8;
          if (7 < local_54) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
LAB_00918cda:
          local_68 = 0;
          local_58 = 0;
          local_54 = 7;
        }
        else if (sVar1 == 2) {
          uVar5 = FUN_0081cbe0(DAT_0172491c);
          local_8._0_1_ = 2;
          FUN_00405eb0(uVar5,0,0xffffffff);
          local_8 = (uint)local_8._1_3_ << 8;
          if (7 < local_54) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
          goto LAB_00918cda;
        }
        local_18 = 7;
        local_1c = 0;
        local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
        FUN_00406360(&DAT_00c68c78,0);
        local_8._0_1_ = 3;
        DVar6 = timeGetTime();
        iVar11 = piVar3[4];
        uVar9 = (*(int *)(iVar11 + 8) - (DVar6 - *(int *)(iVar11 + 0xc))) / 1000;
        uVar4 = uVar9 / 0x3c;
        if ((*(short *)(iVar11 + 4) == 0) || (uVar9 == 0)) {
          if (local_50[4] != 0) {
            FUN_00423350(local_50[4]);
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
          FUN_0042b2c0(in_ECX + 0x7c,local_70,local_50);
          local_8 = (uint)local_8._1_3_ << 8;
          if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
          local_18 = 7;
          local_1c = 0;
          local_2c = (undefined4 *)((uint)local_2c & 0xffff0000);
          local_8 = 0xffffffff;
          if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
        }
        else {
          if (uVar4 == 0) {
            iVar11 = FUN_0081cbe0(DAT_0172491c);
            local_8._0_1_ = 4;
            if (*(uint *)(iVar11 + 0x18) < 8) {
              iVar11 = iVar11 + 4;
            }
            else {
              iVar11 = *(int *)(iVar11 + 4);
            }
            uVar5 = FUN_00404750(iVar11,uVar9);
            local_8._0_1_ = 5;
            FUN_00405eb0(uVar5,0,0xffffffff);
            local_8 = CONCAT31(local_8._1_3_,4);
            if (7 < local_54) {
                    /* WARNING: Subroutine does not return */
              FUN_006f04e0();
            }
            local_54 = 7;
            local_58 = 0;
            local_68 = 0;
            local_8 = CONCAT31(local_8._1_3_,3);
            if (7 < local_78) {
                    /* WARNING: Subroutine does not return */
              FUN_006f04e0();
            }
          }
          else {
            if (uVar4 < 0x3c) {
              iVar11 = FUN_0081cbe0(DAT_0172491c);
              local_8._0_1_ = 6;
              if (*(uint *)(iVar11 + 0x18) < 8) {
                iVar11 = iVar11 + 4;
              }
              else {
                iVar11 = *(int *)(iVar11 + 4);
              }
              uVar5 = FUN_00404750(iVar11,uVar4);
              local_8._0_1_ = 7;
              FUN_00405eb0(uVar5,0,0xffffffff);
              local_8._0_1_ = 6;
            }
            else {
              iVar11 = FUN_0081cbe0(DAT_0172491c);
              local_8._0_1_ = 8;
              if (*(uint *)(iVar11 + 0x18) < 8) {
                iVar11 = iVar11 + 4;
              }
              else {
                iVar11 = *(int *)(iVar11 + 4);
              }
              uVar5 = FUN_00404750(iVar11,uVar4 / 0x3c);
              local_8._0_1_ = 9;
              FUN_00405eb0(uVar5,0,0xffffffff);
              local_8._0_1_ = 8;
            }
            if (7 < local_78) {
                    /* WARNING: Subroutine does not return */
              FUN_006f04e0();
            }
            local_8 = CONCAT31(local_8._1_3_,3);
            if (7 < local_54) {
                    /* WARNING: Subroutine does not return */
              FUN_006f04e0();
            }
          }
          local_54 = 7;
          local_58 = 0;
          local_68 = 0;
          iVar11 = *DAT_00da9894;
          if ((iVar11 != 0) && (*(int *)(iVar11 + 0x114) != 0)) {
            ppppuVar10 = (undefined4 ****)local_48[0];
            if (local_34 < 8) {
              ppppuVar10 = local_48;
            }
            puVar8 = local_2c;
            if (local_18 < 8) {
              puVar8 = &local_2c;
            }
            iVar7 = local_50[4];
            if (*(uint *)(iVar7 + 0x28) < 8) {
              iVar7 = iVar7 + 0x14;
            }
            else {
              iVar7 = *(int *)(iVar7 + 0x14);
            }
            (**(code **)(**(int **)(iVar11 + 0x114) + 4))
                      (*(int **)(iVar11 + 0x114),"OccupationMsg","%ls,%ls,%ls",iVar7,puVar8,
                       ppppuVar10);
          }
          local_8 = local_8 & 0xffffff00;
          if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
          local_18 = 7;
          local_1c = 0;
          local_2c = (undefined4 *)((uint)local_2c & 0xffff0000);
          local_8 = 0xffffffff;
          if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
        }
        local_8 = 0xffffffff;
        local_18 = 7;
        local_1c = 0;
        local_34 = 7;
        local_48[0] = (undefined4 ***)((uint)local_48[0] & 0xffff0000);
        local_38 = 0;
        break;
      }
      FUN_00416210(uVar4);
      iVar11 = iVar11 + 1;
    } while (local_50 != piVar2);
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00918ba0 : PUSH EBP
00918ba1 : MOV EBP,ESP
00918ba3 : PUSH -0x1
00918ba5 : PUSH 0xb1f0bf
00918baa : MOV EAX,FS:[0x0]
00918bb0 : PUSH EAX
00918bb1 : SUB ESP,0x84
00918bb7 : MOV EAX,[0x00d66fa0]
00918bbc : XOR EAX,EBP
00918bbe : MOV dword ptr [EBP + -0x10],EAX
00918bc1 : PUSH EBX
00918bc2 : PUSH ESI
00918bc3 : PUSH EDI
00918bc4 : PUSH EAX
00918bc5 : LEA EAX,[EBP + -0xc]
00918bc8 : MOV FS:[0x0],EAX
00918bce : MOV ESI,ECX
00918bd0 : MOV EAX,dword ptr [ESI + 0x84]
00918bd6 : MOV dword ptr [EBP + -0x70],ESI
00918bd9 : CMP dword ptr [ESI + 0x5c],EAX
00918bdc : JC 0x00918be5
00918bde : MOV dword ptr [ESI + 0x5c],0x0
00918be5 : CALL dword ptr [0x00b85598]
00918beb : MOV ESI,dword ptr [ESI + 0x80]
00918bf1 : MOV EBX,dword ptr [ESI]
00918bf3 : XOR EDI,EDI
00918bf5 : MOV dword ptr [EBP + -0x4c],EBX
00918bf8 : CMP EBX,ESI
00918bfa : JZ 0x00918fe5
00918c00 : MOV EAX,dword ptr [EBP + -0x70]
00918c03 : MOV ECX,dword ptr [EAX + 0x5c]
00918c06 : MOV dword ptr [EBP + -0x6c],ECX
00918c09 : JMP 0x00918c13
00918c10 : MOV EBX,dword ptr [EBP + -0x4c]
00918c13 : CMP dword ptr [EBP + -0x6c],EDI
00918c16 : JZ 0x00918c2b
00918c18 : LEA EDX,[EBP + -0x4c]
00918c1b : CALL 0x00416210
00918c20 : INC EDI
00918c21 : CMP dword ptr [EBP + -0x4c],ESI
00918c24 : JNZ 0x00918c10
00918c26 : JMP 0x00918fe5
00918c2b : XOR EDI,EDI
00918c2d : PUSH EDI
00918c2e : XOR EDX,EDX
00918c30 : PUSH 0xc68c48
00918c35 : LEA ECX,[EBP + -0x48]
00918c38 : MOV dword ptr [EBP + -0x30],0x7
00918c3f : MOV dword ptr [EBP + -0x34],EDI
00918c42 : MOV word ptr [EBP + -0x44],DX
00918c46 : CALL 0x00406360
00918c4b : MOV dword ptr [EBP + -0x4],EDI
00918c4e : MOV EAX,dword ptr [EBX + 0x10]
00918c51 : MOVZX EAX,word ptr [EAX + 0x4]
00918c55 : CMP AX,0x1
00918c59 : JNZ 0x00918c99
00918c5b : MOV ECX,dword ptr [0x0172491c]
00918c61 : PUSH ECX
00918c62 : MOV ECX,0xc68c4c
00918c67 : LEA ESI,[EBP + -0x68]
00918c6a : CALL 0x0081cbe0
00918c6f : MOV byte ptr [EBP + -0x4],0x1
00918c73 : PUSH -0x1
00918c75 : PUSH EDI
00918c76 : PUSH EAX
00918c77 : LEA ECX,[EBP + -0x48]
00918c7a : CALL 0x00405eb0
00918c7f : MOV byte ptr [EBP + -0x4],0x0
00918c83 : CMP dword ptr [EBP + -0x50],0x8
00918c87 : JC 0x00918c91
00918c89 : MOV ECX,dword ptr [EBP + -0x64]
00918c8c : CALL 0x006f04e0
00918c91 : XOR EDX,EDX
00918c93 : MOV word ptr [EBP + -0x64],DX
00918c97 : JMP 0x00918cda
00918c99 : CMP AX,0x2
00918c9d : JNZ 0x00918ce4
00918c9f : MOV EAX,[0x0172491c]
00918ca4 : PUSH EAX
00918ca5 : MOV ECX,0xc68c64
00918caa : LEA ESI,[EBP + -0x68]
00918cad : CALL 0x0081cbe0
00918cb2 : MOV byte ptr [EBP + -0x4],0x2
00918cb6 : PUSH -0x1
00918cb8 : PUSH EDI
00918cb9 : PUSH EAX
00918cba : LEA ECX,[EBP + -0x48]
00918cbd : CALL 0x00405eb0
00918cc2 : MOV byte ptr [EBP + -0x4],0x0
00918cc6 : CMP dword ptr [EBP + -0x50],0x8
00918cca : JC 0x00918cd4
00918ccc : MOV ECX,dword ptr [EBP + -0x64]
00918ccf : CALL 0x006f04e0
00918cd4 : XOR ECX,ECX
00918cd6 : MOV word ptr [EBP + -0x64],CX
00918cda : MOV dword ptr [EBP + -0x54],EDI
00918cdd : MOV dword ptr [EBP + -0x50],0x7
00918ce4 : PUSH EDI
00918ce5 : XOR EDX,EDX
00918ce7 : PUSH 0xc68c78
00918cec : LEA ECX,[EBP + -0x2c]
00918cef : MOV dword ptr [EBP + -0x14],0x7
00918cf6 : MOV dword ptr [EBP + -0x18],EDI
00918cf9 : MOV word ptr [EBP + -0x28],DX
00918cfd : CALL 0x00406360
00918d02 : MOV byte ptr [EBP + -0x4],0x3
00918d06 : CALL dword ptr [0x00b85598]
00918d0c : MOV ECX,dword ptr [EBX + 0x10]
00918d0f : SUB EAX,dword ptr [ECX + 0xc]
00918d12 : MOV EDX,dword ptr [ECX + 0x8]
00918d15 : SUB EDX,EAX
00918d17 : MOV EAX,0x10624dd3
00918d1c : MUL EDX
00918d1e : MOV EBX,EDX
00918d20 : SHR EBX,0x6
00918d23 : MOV EAX,0x88888889
00918d28 : IMUL EBX
00918d2a : ADD EDX,EBX
00918d2c : SAR EDX,0x5
00918d2f : MOV EDI,EDX
00918d31 : SHR EDI,0x1f
00918d34 : XOR ESI,ESI
00918d36 : ADD EDI,EDX
00918d38 : CMP word ptr [ECX + 0x4],SI
00918d3c : JZ 0x00918f76
00918d42 : CMP EBX,ESI
00918d44 : JLE 0x00918f76
00918d4a : CMP EDI,0x1
00918d4d : MOV EAX,[0x0172491c]
00918d52 : PUSH EAX
00918d53 : JGE 0x00918de8
00918d59 : MOV ECX,0xc68c7c
00918d5e : LEA ESI,[EBP + 0xffffff74]
00918d64 : CALL 0x0081cbe0
00918d69 : MOV byte ptr [EBP + -0x4],0x4
00918d6d : MOV EDI,0x8
00918d72 : CMP dword ptr [EAX + 0x18],EDI
00918d75 : JC 0x00918d7c
00918d77 : MOV EAX,dword ptr [EAX + 0x4]
00918d7a : JMP 0x00918d7f
00918d7c : ADD EAX,0x4
00918d7f : PUSH EBX
00918d80 : PUSH EAX
00918d81 : LEA ESI,[EBP + -0x68]
00918d84 : CALL 0x00404750
00918d89 : ADD ESP,0x8
00918d8c : MOV byte ptr [EBP + -0x4],0x5
00918d90 : PUSH -0x1
00918d92 : XOR ESI,ESI
00918d94 : PUSH ESI
00918d95 : PUSH EAX
00918d96 : LEA ECX,[EBP + -0x2c]
00918d99 : CALL 0x00405eb0
00918d9e : MOV byte ptr [EBP + -0x4],0x4
00918da2 : CMP dword ptr [EBP + -0x50],EDI
00918da5 : JC 0x00918daf
00918da7 : MOV ECX,dword ptr [EBP + -0x64]
00918daa : CALL 0x006f04e0
00918daf : MOV EBX,0x7
00918db4 : XOR ECX,ECX
00918db6 : MOV dword ptr [EBP + -0x50],EBX
00918db9 : MOV dword ptr [EBP + -0x54],ESI
00918dbc : MOV word ptr [EBP + -0x64],CX
00918dc0 : MOV byte ptr [EBP + -0x4],0x3
00918dc4 : CMP dword ptr [EBP + -0x74],EDI
00918dc7 : JC 0x00918dd4
00918dc9 : MOV ECX,dword ptr [EBP + 0xffffff78]
00918dcf : CALL 0x006f04e0
00918dd4 : XOR EDX,EDX
00918dd6 : MOV dword ptr [EBP + -0x74],EBX
00918dd9 : MOV dword ptr [EBP + -0x78],ESI
00918ddc : MOV word ptr [EBP + 0xffffff78],DX
00918de3 : JMP 0x00918ed5
00918de8 : CMP EDI,0x3c
00918deb : LEA ESI,[EBP + -0x68]
00918dee : JGE 0x00918e38
00918df0 : MOV ECX,0xc68c88
00918df5 : CALL 0x0081cbe0
00918dfa : MOV byte ptr [EBP + -0x4],0x6
00918dfe : MOV EBX,0x8
00918e03 : CMP dword ptr [EAX + 0x18],EBX
00918e06 : JC 0x00918e0d
00918e08 : MOV EAX,dword ptr [EAX + 0x4]
00918e0b : JMP 0x00918e10
00918e0d : ADD EAX,0x4
00918e10 : PUSH EDI
00918e11 : PUSH EAX
00918e12 : LEA ESI,[EBP + 0xffffff74]
00918e18 : CALL 0x00404750
00918e1d : ADD ESP,0x8
00918e20 : MOV byte ptr [EBP + -0x4],0x7
00918e24 : PUSH -0x1
00918e26 : XOR EDI,EDI
00918e28 : PUSH EDI
00918e29 : PUSH EAX
00918e2a : LEA ECX,[EBP + -0x2c]
00918e2d : CALL 0x00405eb0
00918e32 : MOV byte ptr [EBP + -0x4],0x6
00918e36 : JMP 0x00918e91
00918e38 : MOV ECX,0xc68c94
00918e3d : CALL 0x0081cbe0
00918e42 : MOV byte ptr [EBP + -0x4],0x8
00918e46 : MOV EBX,0x8
00918e4b : CMP dword ptr [EAX + 0x18],EBX
00918e4e : JC 0x00918e55
00918e50 : MOV ECX,dword ptr [EAX + 0x4]
00918e53 : JMP 0x00918e58
00918e55 : LEA ECX,[EAX + 0x4]
00918e58 : MOV EAX,0x88888889
00918e5d : IMUL EDI
00918e5f : ADD EDX,EDI
00918e61 : SAR EDX,0x5
00918e64 : MOV EAX,EDX
00918e66 : SHR EAX,0x1f
00918e69 : ADD EAX,EDX
00918e6b : PUSH EAX
00918e6c : PUSH ECX
00918e6d : LEA ESI,[EBP + 0xffffff74]
00918e73 : CALL 0x00404750
00918e78 : ADD ESP,0x8
00918e7b : MOV byte ptr [EBP + -0x4],0x9
00918e7f : PUSH -0x1
00918e81 : XOR EDI,EDI
00918e83 : PUSH EDI
00918e84 : PUSH EAX
00918e85 : LEA ECX,[EBP + -0x2c]
00918e88 : CALL 0x00405eb0
00918e8d : MOV byte ptr [EBP + -0x4],0x8
00918e91 : CMP dword ptr [EBP + -0x74],EBX
00918e94 : JC 0x00918ea1
00918e96 : MOV ECX,dword ptr [EBP + 0xffffff78]
00918e9c : CALL 0x006f04e0
00918ea1 : MOV ESI,0x7
00918ea6 : XOR ECX,ECX
00918ea8 : MOV dword ptr [EBP + -0x74],ESI
00918eab : MOV dword ptr [EBP + -0x78],EDI
00918eae : MOV word ptr [EBP + 0xffffff78],CX
00918eb5 : MOV byte ptr [EBP + -0x4],0x3
00918eb9 : CMP dword ptr [EBP + -0x50],EBX
00918ebc : JC 0x00918ec6
00918ebe : MOV ECX,dword ptr [EBP + -0x64]
00918ec1 : CALL 0x006f04e0
00918ec6 : XOR EDX,EDX
00918ec8 : MOV dword ptr [EBP + -0x54],EDI
00918ecb : LEA EDI,[EDX + 0x8]
00918ece : MOV word ptr [EBP + -0x64],DX
00918ed2 : MOV dword ptr [EBP + -0x50],ESI
00918ed5 : MOV EAX,[0x00da9894]
00918eda : MOV EAX,dword ptr [EAX]
00918edc : TEST EAX,EAX
00918ede : JZ 0x00918f33
00918ee0 : CMP dword ptr [EAX + 0x114],0x0
00918ee7 : JZ 0x00918f33
00918ee9 : MOV ECX,dword ptr [EAX + 0x114]
00918eef : MOV ESI,dword ptr [EBP + -0x44]
00918ef2 : CMP dword ptr [EBP + -0x30],EDI
00918ef5 : JNC 0x00918efa
00918ef7 : LEA ESI,[EBP + -0x44]
00918efa : MOV EDX,dword ptr [EBP + -0x28]
00918efd : CMP dword ptr [EBP + -0x14],EDI
00918f00 : JNC 0x00918f05
00918f02 : LEA EDX,[EBP + -0x28]
00918f05 : MOV EAX,dword ptr [EBP + -0x4c]
00918f08 : MOV EAX,dword ptr [EAX + 0x10]
00918f0b : ADD EAX,0x10
00918f0e : CMP dword ptr [EAX + 0x18],EDI
00918f11 : JC 0x00918f18
00918f13 : MOV EAX,dword ptr [EAX + 0x4]
00918f16 : JMP 0x00918f1b
00918f18 : ADD EAX,0x4
00918f1b : MOV EBX,dword ptr [ECX]
00918f1d : PUSH ESI
00918f1e : PUSH EDX
00918f1f : PUSH EAX
00918f20 : PUSH 0xc68ca0
00918f25 : PUSH 0xc68cac
00918f2a : PUSH ECX
00918f2b : MOV ECX,dword ptr [EBX + 0x4]
00918f2e : CALL ECX
00918f30 : ADD ESP,0x18
00918f33 : MOV byte ptr [EBP + -0x4],0x0
00918f37 : CMP dword ptr [EBP + -0x14],EDI
00918f3a : JC 0x00918f44
00918f3c : MOV ECX,dword ptr [EBP + -0x28]
00918f3f : CALL 0x006f04e0
00918f44 : MOV EBX,0x7
00918f49 : XOR ESI,ESI
00918f4b : XOR EDX,EDX
00918f4d : MOV dword ptr [EBP + -0x14],EBX
00918f50 : MOV dword ptr [EBP + -0x18],ESI
00918f53 : MOV word ptr [EBP + -0x28],DX
00918f57 : MOV dword ptr [EBP + -0x4],0xffffffff
00918f5e : CMP dword ptr [EBP + -0x30],EDI
00918f61 : JC 0x00918f6b
00918f63 : MOV ECX,dword ptr [EBP + -0x44]
00918f66 : CALL 0x006f04e0
00918f6b : XOR EAX,EAX
00918f6d : MOV dword ptr [EBP + -0x30],EBX
00918f70 : MOV word ptr [EBP + -0x44],AX
00918f74 : JMP 0x00918fe2
00918f76 : MOV EBX,dword ptr [EBP + -0x4c]
00918f79 : MOV EDI,dword ptr [EBX + 0x10]
00918f7c : CMP EDI,ESI
00918f7e : JZ 0x00918f8d
00918f80 : PUSH EDI
00918f81 : CALL 0x00423350
00918f86 : MOV ECX,EDI
00918f88 : CALL 0x006f04e0
00918f8d : MOV EDX,dword ptr [EBP + -0x70]
00918f90 : PUSH EBX
00918f91 : LEA ECX,[EBP + -0x6c]
00918f94 : PUSH ECX
00918f95 : ADD EDX,0x7c
00918f98 : PUSH EDX
00918f99 : CALL 0x0042b2c0
00918f9e : MOV byte ptr [EBP + -0x4],0x0
00918fa2 : MOV EBX,0x8
00918fa7 : CMP dword ptr [EBP + -0x14],EBX
00918faa : JC 0x00918fb4
00918fac : MOV ECX,dword ptr [EBP + -0x28]
00918faf : CALL 0x006f04e0
00918fb4 : MOV EDI,0x7
00918fb9 : XOR EAX,EAX
00918fbb : MOV dword ptr [EBP + -0x14],EDI
00918fbe : MOV dword ptr [EBP + -0x18],ESI
00918fc1 : MOV word ptr [EBP + -0x28],AX
00918fc5 : MOV dword ptr [EBP + -0x4],0xffffffff
00918fcc : CMP dword ptr [EBP + -0x30],EBX
00918fcf : JC 0x00918fd9
00918fd1 : MOV ECX,dword ptr [EBP + -0x44]
00918fd4 : CALL 0x006f04e0
00918fd9 : XOR ECX,ECX
00918fdb : MOV dword ptr [EBP + -0x30],EDI
00918fde : MOV word ptr [EBP + -0x44],CX
00918fe2 : MOV dword ptr [EBP + -0x34],ESI
00918fe5 : MOV ECX,dword ptr [EBP + -0xc]
00918fe8 : MOV dword ptr FS:[0x0],ECX
00918fef : POP ECX
00918ff0 : POP EDI
00918ff1 : POP ESI
00918ff2 : POP EBX
00918ff3 : MOV ECX,dword ptr [EBP + -0x10]
00918ff6 : XOR ECX,EBP
00918ff8 : CALL 0x00633e6b
00918ffd : MOV ESP,EBP
00918fff : POP EBP
00919000 : RET
