PROGRAM  : Maestia.exe
FUNCTION : FUN_0061d4c0
ENTRY    : 0061d4c0
BODY     : [[0061d4c0, 0061d679] [0061d680, 0061d813]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0061d4c0(float param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  code *pcVar14;
  int iVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  float fVar19;
  float fVar20;
  float fVar21;
  
  iVar16 = (int)param_1;
  pcVar14 = *(code **)((int)param_1 + 0x278);
  if (pcVar14 != (code *)0x0) {
    if ((((*(uint *)(*(int *)((int)param_1 + 0x164) + 0x68) & 0x20000) != 0) ||
        ((*(uint *)((int)param_1 + 0x100) & 0x100) == 0)) ||
       (fVar21 = *(float *)((int)param_1 + 0x148) - *(float *)((int)param_1 + 0x2fc),
       fVar20 = *(float *)((int)param_1 + 0x144) - *(float *)((int)param_1 + 0x2f8),
       fVar19 = *(float *)((int)param_1 + 0x140) - *(float *)((int)param_1 + 0x2f4),
       fVar19 = SQRT(fVar21 * fVar21 + fVar20 * fVar20 + fVar19 * fVar19),
       fVar19 < *(float *)((int)param_1 + 0x344) || fVar19 == *(float *)((int)param_1 + 0x344))) {
      (*pcVar14)(param_1);
      return;
    }
    iVar15 = *(int *)((int)param_1 + 0x15c);
    iVar18 = (int)(1.0 / *(float *)((int)param_1 + 0x348));
    iVar17 = (int)((float)iVar15 * *(float *)((int)param_1 + 0x348));
    param_1 = 0.0;
    *(int *)(iVar16 + 0x15c) = iVar17;
    if (iVar17 < 1) {
      *(int *)(iVar16 + 0x15c) = iVar15;
      (*pcVar14)(iVar16);
      return;
    }
    uVar1 = *(undefined4 *)(iVar16 + 0x110);
    uVar2 = *(undefined4 *)(iVar16 + 0x114);
    uVar3 = *(undefined4 *)(iVar16 + 0x118);
    uVar4 = *(undefined4 *)(iVar16 + 0x11c);
    uVar5 = *(undefined4 *)(iVar16 + 0x120);
    uVar6 = *(undefined4 *)(iVar16 + 0x124);
    uVar7 = *(undefined4 *)(iVar16 + 0x128);
    uVar8 = *(undefined4 *)(iVar16 + 300);
    uVar9 = *(undefined4 *)(iVar16 + 0x130);
    uVar10 = *(undefined4 *)(iVar16 + 0x134);
    uVar11 = *(undefined4 *)(iVar16 + 0x138);
    uVar12 = *(undefined4 *)(iVar16 + 0x13c);
    fVar19 = *(float *)(iVar16 + 0x140);
    fVar20 = *(float *)(iVar16 + 0x144);
    fVar21 = *(float *)(iVar16 + 0x148);
    uVar13 = *(undefined4 *)(iVar16 + 0x14c);
    if (0 < iVar18) {
      do {
        *(float *)(iVar16 + 0x140) =
             (fVar19 - *(float *)(iVar16 + 0x2f4)) * param_1 + *(float *)(iVar16 + 0x2f4);
        *(float *)(iVar16 + 0x144) =
             (fVar20 - *(float *)(iVar16 + 0x2f8)) * param_1 + *(float *)(iVar16 + 0x2f8);
        *(float *)(iVar16 + 0x148) =
             (fVar21 - *(float *)(iVar16 + 0x2fc)) * param_1 + *(float *)(iVar16 + 0x2fc);
        (**(code **)(iVar16 + 0x278))(iVar16);
        param_1 = *(float *)(iVar16 + 0x348) + param_1;
        iVar18 = iVar18 + -1;
      } while (iVar18 != 0);
    }
    *(undefined4 *)(iVar16 + 0x110) = uVar1;
    *(undefined4 *)(iVar16 + 0x114) = uVar2;
    *(undefined4 *)(iVar16 + 0x118) = uVar3;
    *(undefined4 *)(iVar16 + 0x11c) = uVar4;
    *(undefined4 *)(iVar16 + 0x120) = uVar5;
    *(undefined4 *)(iVar16 + 0x124) = uVar6;
    *(undefined4 *)(iVar16 + 0x128) = uVar7;
    *(undefined4 *)(iVar16 + 300) = uVar8;
    *(undefined4 *)(iVar16 + 0x130) = uVar9;
    *(undefined4 *)(iVar16 + 0x134) = uVar10;
    *(undefined4 *)(iVar16 + 0x138) = uVar11;
    *(undefined4 *)(iVar16 + 0x13c) = uVar12;
    *(float *)(iVar16 + 0x140) = fVar19;
    *(float *)(iVar16 + 0x144) = fVar20;
    *(float *)(iVar16 + 0x148) = fVar21;
    *(undefined4 *)(iVar16 + 0x14c) = uVar13;
    *(int *)(iVar16 + 0x15c) = iVar15;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0061d4c0 : SUB ESP,0x40
0061d4c3 : PUSH ESI
0061d4c4 : MOV ESI,dword ptr [ESP + 0x48]
0061d4c8 : MOV EDX,dword ptr [ESI + 0x278]
0061d4ce : TEST EDX,EDX
0061d4d0 : JZ 0x0061d7f2
0061d4d6 : MOV EAX,dword ptr [ESI + 0x164]
0061d4dc : TEST dword ptr [EAX + 0x68],0x20000
0061d4e3 : JNZ 0x0061d809
0061d4e9 : TEST dword ptr [ESI + 0x100],0x100
0061d4f3 : JZ 0x0061d809
0061d4f9 : MOVSS XMM2,dword ptr [ESI + 0x148]
0061d501 : SUBSS XMM2,dword ptr [ESI + 0x2fc]
0061d509 : MOVSS XMM1,dword ptr [ESI + 0x144]
0061d511 : SUBSS XMM1,dword ptr [ESI + 0x2f8]
0061d519 : MOVSS XMM0,dword ptr [ESI + 0x140]
0061d521 : SUBSS XMM0,dword ptr [ESI + 0x2f4]
0061d529 : MOVAPS XMM3,XMM2
0061d52c : MULSS XMM3,XMM2
0061d530 : MOVAPS XMM2,XMM1
0061d533 : MULSS XMM2,XMM1
0061d537 : MOVAPS XMM1,XMM0
0061d53a : MULSS XMM1,XMM0
0061d53e : ADDSS XMM3,XMM2
0061d542 : ADDSS XMM3,XMM1
0061d546 : SQRTSS XMM0,XMM3
0061d54a : COMISS XMM0,dword ptr [ESI + 0x344]
0061d551 : JBE 0x0061d809
0061d557 : MOVSS XMM1,dword ptr [ESI + 0x348]
0061d55f : MOVSS XMM2,dword ptr [0x00b86060]
0061d567 : XORPS XMM0,XMM0
0061d56a : DIVSS XMM2,XMM1
0061d56e : PUSH EBX
0061d56f : MOV EBX,dword ptr [ESI + 0x15c]
0061d575 : CVTTSS2SI ECX,XMM2
0061d579 : CVTSI2SS XMM2,EBX
0061d57d : MULSS XMM2,XMM1
0061d581 : CVTTSS2SI EAX,XMM2
0061d585 : MOVSS dword ptr [ESP + 0x4c],XMM0
0061d58b : MOV dword ptr [ESI + 0x15c],EAX
0061d591 : TEST EAX,EAX
0061d593 : JLE 0x0061d7f7
0061d599 : PUSH EDI
0061d59a : LEA EDI,[ESI + 0x110]
0061d5a0 : MOV EAX,EDI
0061d5a2 : MOVSS XMM1,dword ptr [EAX]
0061d5a6 : ADD EAX,0x4
0061d5a9 : MOVSS dword ptr [ESP + 0xc],XMM1
0061d5af : MOVSS XMM1,dword ptr [EAX]
0061d5b3 : ADD EAX,0x4
0061d5b6 : MOVSS dword ptr [ESP + 0x10],XMM1
0061d5bc : MOVSS XMM1,dword ptr [EAX]
0061d5c0 : ADD EAX,0x4
0061d5c3 : MOVSS dword ptr [ESP + 0x14],XMM1
0061d5c9 : MOVSS XMM1,dword ptr [EAX]
0061d5cd : ADD EAX,0x4
0061d5d0 : MOVSS dword ptr [ESP + 0x18],XMM1
0061d5d6 : MOVSS XMM1,dword ptr [EAX]
0061d5da : ADD EAX,0x4
0061d5dd : MOVSS dword ptr [ESP + 0x1c],XMM1
0061d5e3 : MOVSS XMM1,dword ptr [EAX]
0061d5e7 : ADD EAX,0x4
0061d5ea : MOVSS dword ptr [ESP + 0x20],XMM1
0061d5f0 : MOVSS XMM1,dword ptr [EAX]
0061d5f4 : ADD EAX,0x4
0061d5f7 : MOVSS dword ptr [ESP + 0x24],XMM1
0061d5fd : MOVSS XMM1,dword ptr [EAX]
0061d601 : ADD EAX,0x4
0061d604 : MOVSS dword ptr [ESP + 0x28],XMM1
0061d60a : MOVSS XMM1,dword ptr [EAX]
0061d60e : ADD EAX,0x4
0061d611 : MOVSS dword ptr [ESP + 0x2c],XMM1
0061d617 : MOVSS XMM1,dword ptr [EAX]
0061d61b : ADD EAX,0x4
0061d61e : MOVSS dword ptr [ESP + 0x30],XMM1
0061d624 : MOVSS XMM1,dword ptr [EAX]
0061d628 : ADD EAX,0x4
0061d62b : MOVSS dword ptr [ESP + 0x34],XMM1
0061d631 : MOVSS XMM1,dword ptr [EAX]
0061d635 : ADD EAX,0x4
0061d638 : MOVSS dword ptr [ESP + 0x38],XMM1
0061d63e : MOVSS XMM1,dword ptr [EAX]
0061d642 : ADD EAX,0x4
0061d645 : MOVSS dword ptr [ESP + 0x3c],XMM1
0061d64b : MOVSS XMM1,dword ptr [EAX]
0061d64f : ADD EAX,0x4
0061d652 : MOVSS dword ptr [ESP + 0x40],XMM1
0061d658 : MOVSS XMM1,dword ptr [EAX]
0061d65c : MOVSS dword ptr [ESP + 0x44],XMM1
0061d662 : MOVSS XMM1,dword ptr [EAX + 0x4]
0061d667 : MOVSS dword ptr [ESP + 0x48],XMM1
0061d66d : TEST ECX,ECX
0061d66f : JLE 0x0061d710
0061d675 : PUSH EBP
0061d676 : MOV EBP,ECX
0061d678 : JMP 0x0061d680
0061d680 : MOVSS XMM1,dword ptr [ESI + 0x2f4]
0061d688 : MOVSS XMM2,dword ptr [ESP + 0x40]
0061d68e : MOV ECX,dword ptr [ESI + 0x278]
0061d694 : SUBSS XMM2,XMM1
0061d698 : MULSS XMM2,XMM0
0061d69c : ADDSS XMM2,XMM1
0061d6a0 : MOVSS XMM1,dword ptr [ESI + 0x2f8]
0061d6a8 : MOVSS dword ptr [ESI + 0x140],XMM2
0061d6b0 : MOVSS XMM2,dword ptr [ESP + 0x44]
0061d6b6 : SUBSS XMM2,XMM1
0061d6ba : MULSS XMM2,XMM0
0061d6be : ADDSS XMM2,XMM1
0061d6c2 : MOVSS XMM1,dword ptr [ESI + 0x2fc]
0061d6ca : MOVSS dword ptr [ESI + 0x144],XMM2
0061d6d2 : MOVSS XMM2,dword ptr [ESP + 0x48]
0061d6d8 : SUBSS XMM2,XMM1
0061d6dc : MULSS XMM2,XMM0
0061d6e0 : ADDSS XMM2,XMM1
0061d6e4 : PUSH ESI
0061d6e5 : MOVSS dword ptr [ESI + 0x148],XMM2
0061d6ed : CALL ECX
0061d6ef : MOVSS XMM0,dword ptr [ESI + 0x348]
0061d6f7 : ADDSS XMM0,dword ptr [ESP + 0x58]
0061d6fd : ADD ESP,0x4
0061d700 : SUB EBP,0x1
0061d703 : MOVSS dword ptr [ESP + 0x54],XMM0
0061d709 : JNZ 0x0061d680
0061d70f : POP EBP
0061d710 : MOVSS XMM0,dword ptr [ESP + 0xc]
0061d716 : MOV EAX,EDI
0061d718 : MOVSS dword ptr [EAX],XMM0
0061d71c : MOVSS XMM0,dword ptr [ESP + 0x10]
0061d722 : MOVSS dword ptr [EAX + 0x4],XMM0
0061d727 : MOVSS XMM0,dword ptr [ESP + 0x14]
0061d72d : ADD EAX,0x4
0061d730 : MOVSS dword ptr [EAX + 0x4],XMM0
0061d735 : MOVSS XMM0,dword ptr [ESP + 0x18]
0061d73b : ADD EAX,0x4
0061d73e : MOVSS dword ptr [EAX + 0x4],XMM0
0061d743 : MOVSS XMM0,dword ptr [ESP + 0x1c]
0061d749 : ADD EAX,0x4
0061d74c : MOVSS dword ptr [EAX + 0x4],XMM0
0061d751 : MOVSS XMM0,dword ptr [ESP + 0x20]
0061d757 : ADD EAX,0x4
0061d75a : MOVSS dword ptr [EAX + 0x4],XMM0
0061d75f : MOVSS XMM0,dword ptr [ESP + 0x24]
0061d765 : ADD EAX,0x4
0061d768 : MOVSS dword ptr [EAX + 0x4],XMM0
0061d76d : MOVSS XMM0,dword ptr [ESP + 0x28]
0061d773 : ADD EAX,0x4
0061d776 : MOVSS dword ptr [EAX + 0x4],XMM0
0061d77b : MOVSS XMM0,dword ptr [ESP + 0x2c]
0061d781 : ADD EAX,0x4
0061d784 : MOVSS dword ptr [EAX + 0x4],XMM0
0061d789 : MOVSS XMM0,dword ptr [ESP + 0x30]
0061d78f : ADD EAX,0x4
0061d792 : MOVSS dword ptr [EAX + 0x4],XMM0
0061d797 : MOVSS XMM0,dword ptr [ESP + 0x34]
0061d79d : ADD EAX,0x4
0061d7a0 : MOVSS dword ptr [EAX + 0x4],XMM0
0061d7a5 : MOVSS XMM0,dword ptr [ESP + 0x38]
0061d7ab : ADD EAX,0x4
0061d7ae : MOVSS dword ptr [EAX + 0x4],XMM0
0061d7b3 : MOVSS XMM0,dword ptr [ESP + 0x3c]
0061d7b9 : ADD EAX,0x4
0061d7bc : MOVSS dword ptr [EAX + 0x4],XMM0
0061d7c1 : MOVSS XMM0,dword ptr [ESP + 0x40]
0061d7c7 : ADD EAX,0x4
0061d7ca : MOVSS dword ptr [EAX + 0x4],XMM0
0061d7cf : MOVSS XMM0,dword ptr [ESP + 0x44]
0061d7d5 : ADD EAX,0x4
0061d7d8 : ADD EAX,0x4
0061d7db : MOVSS dword ptr [EAX],XMM0
0061d7df : MOVSS XMM0,dword ptr [ESP + 0x48]
0061d7e5 : MOVSS dword ptr [EAX + 0x4],XMM0
0061d7ea : POP EDI
0061d7eb : MOV dword ptr [ESI + 0x15c],EBX
0061d7f1 : POP EBX
0061d7f2 : POP ESI
0061d7f3 : ADD ESP,0x40
0061d7f6 : RET
0061d7f7 : PUSH ESI
0061d7f8 : MOV dword ptr [ESI + 0x15c],EBX
0061d7fe : CALL EDX
0061d800 : ADD ESP,0x4
0061d803 : POP EBX
0061d804 : POP ESI
0061d805 : ADD ESP,0x40
0061d808 : RET
0061d809 : PUSH ESI
0061d80a : CALL EDX
0061d80c : ADD ESP,0x4
0061d80f : POP ESI
0061d810 : ADD ESP,0x40
0061d813 : RET
