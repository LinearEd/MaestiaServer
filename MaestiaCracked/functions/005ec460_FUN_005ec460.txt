PROGRAM  : Maestia.exe
FUNCTION : FUN_005ec460
ENTRY    : 005ec460
BODY     : [[005ec460, 005ec4d3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005ec460(void)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  int *in_ECX;
  int *unaff_retaddr;
  
  piVar1 = *(int **)(*in_ECX + 0xc);
  (**(code **)(*piVar1 + 0x6c))(in_ECX[0x15] != 0);
  if ((uint)in_ECX[0x15] < 0x40) {
    in_ECX[in_ECX[0x15] + 0x16] = (int)unaff_retaddr;
  }
  in_ECX[0x15] = in_ECX[0x15] + 1;
  in_ECX[0x14] = in_ECX[0x14] + 1;
  in_ECX[0x13] = in_ECX[0x13] + 1;
  iVar2 = *piVar1;
  uVar3 = (**(code **)(*unaff_retaddr + 0xc))();
  (**(code **)(iVar2 + 0x2c))(uVar3);
  (**(code **)(*unaff_retaddr + 0x60))();
  (**(code **)(*piVar1 + 0x30))();
  in_ECX[0x13] = in_ECX[0x13] + -1;
  (**(code **)(*piVar1 + 0x70))();
  return;
}



============================================================
DISASSEMBLY
============================================================
005ec460 : PUSH EBX
005ec461 : PUSH EBP
005ec462 : PUSH ESI
005ec463 : MOV ESI,ECX
005ec465 : MOV EAX,dword ptr [ESI]
005ec467 : PUSH EDI
005ec468 : MOV EDI,dword ptr [EAX + 0xc]
005ec46b : MOV EDX,dword ptr [EDI]
005ec46d : MOV EDX,dword ptr [EDX + 0x6c]
005ec470 : XOR EAX,EAX
005ec472 : CMP dword ptr [ESI + 0x54],EAX
005ec475 : MOV ECX,EDI
005ec477 : SETNZ AL
005ec47a : PUSH EAX
005ec47b : CALL EDX
005ec47d : MOV EAX,dword ptr [ESI + 0x54]
005ec480 : MOV EBX,dword ptr [ESP + 0x14]
005ec484 : CMP EAX,0x40
005ec487 : JNC 0x005ec48d
005ec489 : MOV dword ptr [ESI + EAX*0x4 + 0x58],EBX
005ec48d : MOV EAX,0x1
005ec492 : ADD dword ptr [ESI + 0x54],EAX
005ec495 : ADD dword ptr [ESI + 0x50],EAX
005ec498 : ADD dword ptr [ESI + 0x4c],EAX
005ec49b : MOV EAX,dword ptr [EBX]
005ec49d : MOV EDX,dword ptr [EAX + 0xc]
005ec4a0 : MOV EBP,dword ptr [EDI]
005ec4a2 : MOV ECX,EBX
005ec4a4 : CALL EDX
005ec4a6 : PUSH EAX
005ec4a7 : MOV EAX,dword ptr [EBP + 0x2c]
005ec4aa : MOV ECX,EDI
005ec4ac : CALL EAX
005ec4ae : MOV EDX,dword ptr [EBX]
005ec4b0 : MOV EAX,dword ptr [EDX + 0x60]
005ec4b3 : PUSH ESI
005ec4b4 : MOV ECX,EBX
005ec4b6 : CALL EAX
005ec4b8 : MOV EDX,dword ptr [EDI]
005ec4ba : MOV EAX,dword ptr [EDX + 0x30]
005ec4bd : MOV ECX,EDI
005ec4bf : CALL EAX
005ec4c1 : DEC dword ptr [ESI + 0x4c]
005ec4c4 : MOV EDX,dword ptr [EDI]
005ec4c6 : MOV EAX,dword ptr [EDX + 0x70]
005ec4c9 : MOV ECX,EDI
005ec4cb : CALL EAX
005ec4cd : POP EDI
005ec4ce : POP ESI
005ec4cf : POP EBP
005ec4d0 : POP EBX
005ec4d1 : RET 0x4
