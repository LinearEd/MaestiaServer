PROGRAM  : Maestia.exe
FUNCTION : FUN_00a2edc0
ENTRY    : 00a2edc0
BODY     : [[00a2edc0, 00a2ef25]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a2edc0(int param_1)

{
  undefined4 uVar1;
  char cVar2;
  int in_EAX;
  int *piVar3;
  int iVar4;
  DWORD DVar5;
  
  uVar1 = *(undefined4 *)(param_1 + 4);
  piVar3 = (int *)FUN_00a1a840(uVar1);
  if ((piVar3 == (int *)0x0) && (piVar3 = (int *)FUN_00a1a6d0(uVar1), piVar3 == (int *)0x0)) {
    piVar3 = (int *)FUN_00a1a780(uVar1);
  }
  uVar1 = *(undefined4 *)(param_1 + 0xc);
  iVar4 = FUN_00a1a840(uVar1);
  if ((iVar4 == 0) && (iVar4 = FUN_00a1a6d0(uVar1), iVar4 == 0)) {
    iVar4 = FUN_00a1a780(uVar1);
  }
  if (piVar3 != (int *)0x0) {
    if (iVar4 == 0) {
      if (piVar3 == *(int **)(in_EAX + 0xac)) {
        iVar4 = *(int *)(*DAT_00da9894 + 0x18c);
        (**(code **)**(undefined4 **)(*DAT_00da9894 + 0x114))("CastingClose");
        *(undefined1 *)(iVar4 + 0x38) = 0;
        *(undefined4 *)(iVar4 + 0x44) = 0;
      }
      (**(code **)(*piVar3 + 0x350))();
      (**(code **)(*piVar3 + 0x284))();
      return;
    }
    cVar2 = FUN_0040e200();
    if ((cVar2 == '\0') && (cVar2 = FUN_008896f0(), cVar2 == '\0')) {
      (**(code **)(*piVar3 + 0x350))();
      if (piVar3 != *(int **)(in_EAX + 0xac)) {
        return;
      }
      DVar5 = timeGetTime();
      iVar4 = DAT_017247f0;
      *(DWORD *)(in_EAX + 0x368) = DVar5;
      *(undefined1 *)(in_EAX + 0x374) = 1;
      if (iVar4 == 0) {
        return;
      }
      FUN_009f3180(2,*(undefined4 *)(*(int *)(in_EAX + 0xac) + 0xa8),1);
      return;
    }
    if (piVar3 == *(int **)(in_EAX + 0xac)) {
      FUN_0090c160();
    }
    (**(code **)(*piVar3 + 0x350))();
    (**(code **)(*piVar3 + 0x284))();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a2edc0 : PUSH EBP
00a2edc1 : MOV EBP,ESP
00a2edc3 : PUSH EBX
00a2edc4 : PUSH ESI
00a2edc5 : MOV ESI,EAX
00a2edc7 : MOV EAX,dword ptr [EBP + 0x8]
00a2edca : MOV EBX,dword ptr [EAX + 0x4]
00a2edcd : PUSH EDI
00a2edce : PUSH EBX
00a2edcf : MOV ECX,ESI
00a2edd1 : CALL 0x00a1a840
00a2edd6 : MOV EDI,EAX
00a2edd8 : TEST EDI,EDI
00a2edda : JNZ 0x00a2edf4
00a2eddc : PUSH EBX
00a2eddd : MOV ECX,ESI
00a2eddf : CALL 0x00a1a6d0
00a2ede4 : MOV EDI,EAX
00a2ede6 : TEST EDI,EDI
00a2ede8 : JNZ 0x00a2edf4
00a2edea : PUSH EBX
00a2edeb : MOV ECX,ESI
00a2eded : CALL 0x00a1a780
00a2edf2 : MOV EDI,EAX
00a2edf4 : MOV ECX,dword ptr [EBP + 0x8]
00a2edf7 : MOV EAX,dword ptr [ECX + 0xc]
00a2edfa : PUSH EAX
00a2edfb : MOV ECX,ESI
00a2edfd : MOV dword ptr [EBP + 0x8],EAX
00a2ee00 : CALL 0x00a1a840
00a2ee05 : MOV EBX,EAX
00a2ee07 : TEST EBX,EBX
00a2ee09 : JNZ 0x00a2ee29
00a2ee0b : MOV EDX,dword ptr [EBP + 0x8]
00a2ee0e : PUSH EDX
00a2ee0f : MOV ECX,ESI
00a2ee11 : CALL 0x00a1a6d0
00a2ee16 : MOV EBX,EAX
00a2ee18 : TEST EBX,EBX
00a2ee1a : JNZ 0x00a2ee29
00a2ee1c : MOV EAX,dword ptr [EBP + 0x8]
00a2ee1f : PUSH EAX
00a2ee20 : MOV ECX,ESI
00a2ee22 : CALL 0x00a1a780
00a2ee27 : MOV EBX,EAX
00a2ee29 : TEST EDI,EDI
00a2ee2b : JZ 0x00a2ef1f
00a2ee31 : TEST EBX,EBX
00a2ee33 : JNZ 0x00a2ee88
00a2ee35 : CMP EDI,dword ptr [ESI + 0xac]
00a2ee3b : JNZ 0x00a2ee69
00a2ee3d : MOV ECX,dword ptr [0x00da9894]
00a2ee43 : MOV EAX,dword ptr [ECX]
00a2ee45 : MOV ESI,dword ptr [EAX + 0x18c]
00a2ee4b : MOV EAX,dword ptr [EAX + 0x114]
00a2ee51 : MOV EDX,dword ptr [EAX]
00a2ee53 : MOV ECX,EAX
00a2ee55 : MOV EAX,dword ptr [EDX]
00a2ee57 : PUSH 0xc652d4
00a2ee5c : CALL EAX
00a2ee5e : XORPS XMM0,XMM0
00a2ee61 : MOV byte ptr [ESI + 0x38],BL
00a2ee64 : MOVSS dword ptr [ESI + 0x44],XMM0
00a2ee69 : MOV EDX,dword ptr [EDI]
00a2ee6b : MOV EAX,dword ptr [EDX + 0x350]
00a2ee71 : MOV ECX,EDI
00a2ee73 : CALL EAX
00a2ee75 : MOV EDX,dword ptr [EDI]
00a2ee77 : MOV EAX,dword ptr [EDX + 0x284]
00a2ee7d : MOV ECX,EDI
00a2ee7f : CALL EAX
00a2ee81 : POP EDI
00a2ee82 : POP ESI
00a2ee83 : POP EBX
00a2ee84 : POP EBP
00a2ee85 : RET 0x4
00a2ee88 : MOV EAX,EBX
00a2ee8a : CALL 0x0040e200
00a2ee8f : TEST AL,AL
00a2ee91 : JNZ 0x00a2eeec
00a2ee93 : MOV EAX,EBX
00a2ee95 : CALL 0x008896f0
00a2ee9a : TEST AL,AL
00a2ee9c : JNZ 0x00a2eeec
00a2ee9e : MOV EDX,dword ptr [EDI]
00a2eea0 : MOV EAX,dword ptr [EDX + 0x350]
00a2eea6 : MOV ECX,EDI
00a2eea8 : CALL EAX
00a2eeaa : CMP EDI,dword ptr [ESI + 0xac]
00a2eeb0 : JNZ 0x00a2ef1f
00a2eeb2 : CALL dword ptr [0x00b85598]
00a2eeb8 : MOV ECX,dword ptr [0x017247f0]
00a2eebe : MOV dword ptr [ESI + 0x368],EAX
00a2eec4 : MOV byte ptr [ESI + 0x374],0x1
00a2eecb : TEST ECX,ECX
00a2eecd : JZ 0x00a2ef1f
00a2eecf : MOV EDX,dword ptr [ESI + 0xac]
00a2eed5 : MOV EAX,dword ptr [EDX + 0xa8]
00a2eedb : PUSH 0x1
00a2eedd : PUSH EAX
00a2eede : PUSH 0x2
00a2eee0 : CALL 0x009f3180
00a2eee5 : POP EDI
00a2eee6 : POP ESI
00a2eee7 : POP EBX
00a2eee8 : POP EBP
00a2eee9 : RET 0x4
00a2eeec : CMP EDI,dword ptr [ESI + 0xac]
00a2eef2 : JNZ 0x00a2ef07
00a2eef4 : MOV ECX,dword ptr [0x00da9894]
00a2eefa : MOV EDX,dword ptr [ECX]
00a2eefc : MOV ESI,dword ptr [EDX + 0x18c]
00a2ef02 : CALL 0x0090c160
00a2ef07 : MOV EAX,dword ptr [EDI]
00a2ef09 : MOV EDX,dword ptr [EAX + 0x350]
00a2ef0f : MOV ECX,EDI
00a2ef11 : CALL EDX
00a2ef13 : MOV EAX,dword ptr [EDI]
00a2ef15 : MOV EDX,dword ptr [EAX + 0x284]
00a2ef1b : MOV ECX,EDI
00a2ef1d : CALL EDX
00a2ef1f : POP EDI
00a2ef20 : POP ESI
00a2ef21 : POP EBX
00a2ef22 : POP EBP
00a2ef23 : RET 0x4
