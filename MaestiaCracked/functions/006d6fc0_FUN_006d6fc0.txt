PROGRAM  : Maestia.exe
FUNCTION : FUN_006d6fc0
ENTRY    : 006d6fc0
BODY     : [[006d6fc0, 006d707a]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006d6fc0(int *param_1)

{
  int *piVar1;
  int iVar2;
  
  if (param_1[5] == 0xca) {
    FUN_006d6f00();
    param_1[5] = 0xd1;
  }
  if (param_1[5] == 0xd1) {
    while( true ) {
      if ((undefined4 *)param_1[2] != (undefined4 *)0x0) {
        (**(code **)param_1[2])(param_1);
      }
      iVar2 = (**(code **)param_1[100])(param_1);
      if (iVar2 == 0) {
        return 0;
      }
      if (iVar2 == 2) break;
      if ((param_1[2] != 0) && ((iVar2 == 3 || (iVar2 == 1)))) {
        piVar1 = (int *)(param_1[2] + 4);
        *piVar1 = *piVar1 + 1;
        iVar2 = param_1[2];
        if (*(int *)(iVar2 + 8) <= *(int *)(iVar2 + 4)) {
          *(int *)(iVar2 + 8) = *(int *)(iVar2 + 8) + param_1[0x47];
        }
      }
    }
    param_1[5] = 0xd2;
  }
  if (((param_1[5] == 0xd2) || (param_1[5] == 0xcf)) && ((char)param_1[0x10] != '\0')) {
    return *(undefined4 *)(param_1[0x62] + 0x10);
  }
  *(undefined4 *)(*param_1 + 0x14) = 0x14;
  *(int *)(*param_1 + 0x18) = param_1[5];
  (**(code **)*param_1)(param_1);
  return 0;
}



============================================================
DISASSEMBLY
============================================================
006d6fc0 : PUSH ESI
006d6fc1 : MOV ESI,dword ptr [ESP + 0x8]
006d6fc5 : CMP dword ptr [ESI + 0x14],0xca
006d6fcc : JNZ 0x006d6fda
006d6fce : CALL 0x006d6f00
006d6fd3 : MOV dword ptr [ESI + 0x14],0xd1
006d6fda : CMP dword ptr [ESI + 0x14],0xd1
006d6fe1 : JNZ 0x006d703a
006d6fe3 : MOV EAX,dword ptr [ESI + 0x8]
006d6fe6 : TEST EAX,EAX
006d6fe8 : JZ 0x006d6ff2
006d6fea : MOV EAX,dword ptr [EAX]
006d6fec : PUSH ESI
006d6fed : CALL EAX
006d6fef : ADD ESP,0x4
006d6ff2 : MOV ECX,dword ptr [ESI + 0x190]
006d6ff8 : MOV EDX,dword ptr [ECX]
006d6ffa : PUSH ESI
006d6ffb : CALL EDX
006d6ffd : ADD ESP,0x4
006d7000 : TEST EAX,EAX
006d7002 : JZ 0x006d7077
006d7004 : CMP EAX,0x2
006d7007 : JZ 0x006d7033
006d7009 : MOV ECX,dword ptr [ESI + 0x8]
006d700c : TEST ECX,ECX
006d700e : JZ 0x006d6fe3
006d7010 : CMP EAX,0x3
006d7013 : JZ 0x006d701a
006d7015 : CMP EAX,0x1
006d7018 : JNZ 0x006d6fe3
006d701a : INC dword ptr [ECX + 0x4]
006d701d : MOV EAX,dword ptr [ESI + 0x8]
006d7020 : MOV ECX,dword ptr [EAX + 0x4]
006d7023 : CMP ECX,dword ptr [EAX + 0x8]
006d7026 : JL 0x006d6fe3
006d7028 : MOV EDX,dword ptr [ESI + 0x11c]
006d702e : ADD dword ptr [EAX + 0x8],EDX
006d7031 : JMP 0x006d6fe3
006d7033 : MOV dword ptr [ESI + 0x14],0xd2
006d703a : MOV EAX,dword ptr [ESI + 0x14]
006d703d : CMP EAX,0xd2
006d7042 : JZ 0x006d704b
006d7044 : CMP EAX,0xcf
006d7049 : JNZ 0x006d705c
006d704b : CMP byte ptr [ESI + 0x40],0x0
006d704f : JZ 0x006d705c
006d7051 : MOV EAX,dword ptr [ESI + 0x188]
006d7057 : MOV EAX,dword ptr [EAX + 0x10]
006d705a : POP ESI
006d705b : RET
006d705c : MOV ECX,dword ptr [ESI]
006d705e : MOV dword ptr [ECX + 0x14],0x14
006d7065 : MOV EDX,dword ptr [ESI]
006d7067 : MOV EAX,dword ptr [ESI + 0x14]
006d706a : MOV dword ptr [EDX + 0x18],EAX
006d706d : MOV ECX,dword ptr [ESI]
006d706f : MOV EDX,dword ptr [ECX]
006d7071 : PUSH ESI
006d7072 : CALL EDX
006d7074 : ADD ESP,0x4
006d7077 : XOR EAX,EAX
006d7079 : POP ESI
006d707a : RET
