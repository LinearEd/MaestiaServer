PROGRAM  : Maestia.exe
FUNCTION : FUN_0050b340
ENTRY    : 0050b340
BODY     : [[0050b340, 0050b39a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0050b340(void)

{
  char cVar1;
  int iVar2;
  GRefCountImpl *this;
  int *in_ECX;
  
  iVar2 = (**(code **)(*in_ECX + 0x40))();
  if ((iVar2 != 0) &&
     (this = (GRefCountImpl *)(**(code **)(*(int *)(iVar2 + 8) + 0xc))(0x1b),
     this != (GRefCountImpl *)0x0)) {
    cVar1 = FUN_00597f90(in_ECX);
    if (cVar1 != '\0') {
      FUN_005974b0();
    }
    GRefCountImpl::Release(this);
  }
  iVar2 = (**(code **)(*in_ECX + 0x40))();
  if (iVar2 != 0) {
    *(uint *)(iVar2 + 0xb00) = *(uint *)(iVar2 + 0xb00) | 0x400;
  }
  FUN_0051f170();
  return;
}



============================================================
DISASSEMBLY
============================================================
0050b340 : PUSH ESI
0050b341 : MOV ESI,ECX
0050b343 : MOV EAX,dword ptr [ESI]
0050b345 : MOV EDX,dword ptr [EAX + 0x40]
0050b348 : CALL EDX
0050b34a : TEST EAX,EAX
0050b34c : JZ 0x0050b37c
0050b34e : LEA ECX,[EAX + 0x8]
0050b351 : MOV EAX,dword ptr [ECX]
0050b353 : MOV EDX,dword ptr [EAX + 0xc]
0050b356 : PUSH EDI
0050b357 : PUSH 0x1b
0050b359 : CALL EDX
0050b35b : MOV EDI,EAX
0050b35d : TEST EDI,EDI
0050b35f : JZ 0x0050b37b
0050b361 : PUSH ESI
0050b362 : MOV ECX,EDI
0050b364 : CALL 0x00597f90
0050b369 : TEST AL,AL
0050b36b : JZ 0x0050b374
0050b36d : MOV ECX,EDI
0050b36f : CALL 0x005974b0
0050b374 : MOV ECX,EDI
0050b376 : CALL 0x004ff7e0
0050b37b : POP EDI
0050b37c : MOV EAX,dword ptr [ESI]
0050b37e : MOV EDX,dword ptr [EAX + 0x40]
0050b381 : MOV ECX,ESI
0050b383 : CALL EDX
0050b385 : TEST EAX,EAX
0050b387 : JZ 0x0050b393
0050b389 : OR dword ptr [EAX + 0xb00],0x400
0050b393 : MOV ECX,ESI
0050b395 : POP ESI
0050b396 : JMP 0x0051f170
