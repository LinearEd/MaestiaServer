PROGRAM  : Maestia.exe
FUNCTION : FUN_0047f420
ENTRY    : 0047f420
BODY     : [[0047f420, 0047f760]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_0047f420(undefined4 *param_1)

{
  undefined4 *puVar1;
  int *piVar2;
  GMatrix2D *this;
  int *piVar3;
  int local_18;
  undefined4 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b74c50;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  FUN_004837b0(param_1);
  local_8 = 0;
  *param_1 = &PTR_FUN_00cd76c0;
  _eh_vector_constructor_iterator_
            (param_1 + 0xb,4,5,(_func_void_void_ptr *)&LAB_00483b40,
             (_func_void_void_ptr *)&LAB_00483b50);
  local_8._0_1_ = 1;
  _eh_vector_constructor_iterator_
            (param_1 + 0x10,4,6,(_func_void_void_ptr *)&LAB_00483b40,
             (_func_void_void_ptr *)&LAB_00483b50);
  local_8._0_1_ = 2;
  _eh_vector_constructor_iterator_
            (param_1 + 0x16,4,0x26,(_func_void_void_ptr *)&LAB_00483b40,
             (_func_void_void_ptr *)&LAB_00483b50);
  local_8._0_1_ = 3;
  GMatrix2D::SetIdentity((GMatrix2D *)(param_1 + 0x45));
  GMatrix2D::SetIdentity((GMatrix2D *)(param_1 + 0x4b));
  GMatrix2D::SetIdentity((GMatrix2D *)(param_1 + 0x51));
  FUN_0059d080();
  puVar1 = param_1 + 0x5f;
  *puVar1 = puVar1;
  param_1[0x60] = puVar1;
  FUN_005a2090(0);
  local_8._0_1_ = 4;
  FUN_007892d0(param_1 + 0x67);
  param_1[0x85] = 0;
  param_1[0x86] = 0;
  param_1[0x87] = 0;
  param_1[0x9a] = 0;
  param_1[0x9b] = 0;
  param_1[0x9c] = 0;
  param_1[0x9d] = 0;
  param_1[0x9e] = 0;
  param_1[0x9f] = 0;
  param_1[0xa0] = 0;
  param_1[0xa1] = 0;
  param_1[0xa3] = 0;
  param_1[0xa4] = 0;
  param_1[0xa5] = 0;
  param_1[0xa6] = 0;
  param_1[0xa7] = 0;
  param_1[0xa8] = 0;
  local_8._0_1_ = 0x19;
  FUN_005a2090(0);
  local_8 = CONCAT31(local_8._1_3_,0x1a);
  param_1[0xaf] = 0;
  param_1[0xb0] = 0;
  param_1[0xb1] = 0;
  param_1[0xb2] = 0;
  param_1[0xb3] = 0;
  param_1[0xb4] = 0;
  param_1[0xb5] = 0;
  param_1[0xb6] = 0;
  param_1[0xb7] = 0;
  param_1[0xb8] = 0;
  param_1[0xb9] = 0;
  param_1[0xba] = 0;
  param_1[0xbb] = 0;
  param_1[0xbc] = 0;
  local_14 = param_1 + 0xc0;
  param_1[0xbd] = 0;
  param_1[0xbe] = 0;
  param_1[0xbf] = 0;
  local_18 = 1;
  this = (GMatrix2D *)(param_1 + 0xd6);
  do {
    FUN_0059d080();
    GMatrix2D::SetIdentity(this + -0x24);
    GMatrix2D::SetIdentity(this);
    *local_14 = 0;
    *(undefined4 *)(this + -0x54) = 0;
    *(undefined4 *)(this + -0x28) = 0;
    *(undefined4 *)(this + -4) = 0;
    this[-0x2c] = (GMatrix2D)0x0;
    local_14 = local_14 + 0x1e;
    this = this + 0x78;
    local_18 = local_18 + -1;
  } while (-1 < local_18);
  param_1[0x40] = 3;
  param_1[0x41] = 3;
  *(undefined1 *)(param_1 + 2) = 0;
  *(undefined1 *)(param_1 + 4) = 0;
  *(undefined1 *)(param_1 + 0xa2) = 0;
  *(undefined1 *)((int)param_1 + 0x289) = 0;
  *(undefined1 *)((int)param_1 + 0x28a) = 0;
  param_1[10] = 0;
  *(undefined1 *)(param_1 + 0x3d) = 0;
  *(undefined1 *)((int)param_1 + 0xf5) = 0;
  *(undefined1 *)((int)param_1 + 0xf6) = 0;
  *(undefined1 *)(param_1 + 0x3e) = 0;
  *(undefined1 *)((int)param_1 + 0xf7) = 0;
  param_1[0x3f] = 0;
  param_1[6] = 0;
  param_1[7] = 0;
  param_1[8] = 0;
  param_1[9] = 0;
  param_1[0x82] = 1;
  param_1[0x83] = 1;
  param_1[0x3c] = 0;
  param_1[0x96] = 0;
  param_1[0x84] = 0;
  param_1[3] = 0;
  param_1[0x98] = 0x200;
  param_1[0x99] = 0x200;
  param_1[0x42] = 0x1c;
  piVar3 = param_1 + 0x10;
  local_18 = 6;
  do {
    piVar2 = (int *)*piVar3;
    if (piVar2 != (int *)0x0) {
      (**(code **)(*piVar2 + 8))(piVar2);
    }
    *piVar3 = 0;
    piVar3 = piVar3 + 1;
    local_18 = local_18 + -1;
  } while (local_18 != 0);
  piVar3 = param_1 + 0x16;
  local_18 = 0x26;
  do {
    piVar2 = (int *)*piVar3;
    if (piVar2 != (int *)0x0) {
      (**(code **)(*piVar2 + 8))(piVar2);
    }
    *piVar3 = 0;
    piVar3 = piVar3 + 1;
    local_18 = local_18 + -1;
  } while (local_18 != 0);
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
0047f420 : PUSH EBP
0047f421 : MOV EBP,ESP
0047f423 : PUSH -0x1
0047f425 : PUSH 0xb74c50
0047f42a : MOV EAX,FS:[0x0]
0047f430 : PUSH EAX
0047f431 : SUB ESP,0x8
0047f434 : PUSH EBX
0047f435 : PUSH ESI
0047f436 : PUSH EDI
0047f437 : MOV EAX,[0x00d66fa0]
0047f43c : XOR EAX,EBP
0047f43e : PUSH EAX
0047f43f : LEA EAX,[EBP + -0xc]
0047f442 : MOV FS:[0x0],EAX
0047f448 : MOV ESI,dword ptr [EBP + 0x8]
0047f44b : PUSH ESI
0047f44c : CALL 0x004837b0
0047f451 : XOR EBX,EBX
0047f453 : MOV dword ptr [EBP + -0x4],EBX
0047f456 : PUSH 0x483b50
0047f45b : PUSH 0x483b40
0047f460 : PUSH 0x5
0047f462 : PUSH 0x4
0047f464 : LEA EAX,[ESI + 0x2c]
0047f467 : PUSH EAX
0047f468 : MOV dword ptr [ESI],0xcd76c0
0047f46e : CALL 0x0063619b
0047f473 : MOV byte ptr [EBP + -0x4],0x1
0047f477 : PUSH 0x483b50
0047f47c : PUSH 0x483b40
0047f481 : PUSH 0x6
0047f483 : LEA EAX,[ESI + 0x40]
0047f486 : PUSH 0x4
0047f488 : PUSH EAX
0047f489 : CALL 0x0063619b
0047f48e : MOV byte ptr [EBP + -0x4],0x2
0047f492 : PUSH 0x483b50
0047f497 : PUSH 0x483b40
0047f49c : PUSH 0x26
0047f49e : LEA EAX,[ESI + 0x58]
0047f4a1 : PUSH 0x4
0047f4a3 : PUSH EAX
0047f4a4 : CALL 0x0063619b
0047f4a9 : MOV byte ptr [EBP + -0x4],0x3
0047f4ad : LEA ECX,[ESI + 0x114]
0047f4b3 : CALL 0x00522b80
0047f4b8 : LEA ECX,[ESI + 0x12c]
0047f4be : CALL 0x00522b80
0047f4c3 : LEA ECX,[ESI + 0x144]
0047f4c9 : CALL 0x00522b80
0047f4ce : LEA ECX,[ESI + 0x15c]
0047f4d4 : CALL 0x0059d080
0047f4d9 : LEA EAX,[ESI + 0x17c]
0047f4df : PUSH EBX
0047f4e0 : LEA ECX,[ESI + 0x184]
0047f4e6 : MOV dword ptr [EAX],EAX
0047f4e8 : MOV dword ptr [EAX + 0x4],EAX
0047f4eb : CALL 0x005a2090
0047f4f0 : MOV byte ptr [EBP + -0x4],0x4
0047f4f4 : LEA ECX,[ESI + 0x19c]
0047f4fa : PUSH ECX
0047f4fb : CALL 0x007892d0
0047f500 : MOV byte ptr [EBP + -0x4],0x5
0047f504 : LEA EAX,[ESI + 0x214]
0047f50a : MOV dword ptr [EAX],EBX
0047f50c : MOV dword ptr [EAX + 0x4],EBX
0047f50f : MOV dword ptr [EBP + -0x14],EAX
0047f512 : MOV dword ptr [EAX + 0x8],EBX
0047f515 : MOV byte ptr [EBP + -0x4],0x9
0047f519 : MOV dword ptr [ESI + 0x268],EBX
0047f51f : MOV byte ptr [EBP + -0x4],0xa
0047f523 : MOV dword ptr [ESI + 0x26c],EBX
0047f529 : MOV byte ptr [EBP + -0x4],0xb
0047f52d : MOV dword ptr [ESI + 0x270],EBX
0047f533 : MOV byte ptr [EBP + -0x4],0xc
0047f537 : MOV dword ptr [ESI + 0x274],EBX
0047f53d : MOV byte ptr [EBP + -0x4],0xd
0047f541 : MOV dword ptr [ESI + 0x278],EBX
0047f547 : MOV byte ptr [EBP + -0x4],0xe
0047f54b : MOV dword ptr [ESI + 0x27c],EBX
0047f551 : MOV byte ptr [EBP + -0x4],0xf
0047f555 : MOV dword ptr [ESI + 0x280],EBX
0047f55b : MOV byte ptr [EBP + -0x4],0x10
0047f55f : MOV dword ptr [ESI + 0x284],EBX
0047f565 : MOV byte ptr [EBP + -0x4],0x11
0047f569 : LEA EAX,[ESI + 0x28c]
0047f56f : MOV dword ptr [EAX],EBX
0047f571 : MOV dword ptr [EAX + 0x4],EBX
0047f574 : MOV dword ptr [EBP + -0x14],EAX
0047f577 : MOV dword ptr [EAX + 0x8],EBX
0047f57a : MOV byte ptr [EBP + -0x4],0x15
0047f57e : LEA EAX,[ESI + 0x298]
0047f584 : MOV dword ptr [EAX],EBX
0047f586 : MOV dword ptr [EAX + 0x4],EBX
0047f589 : MOV dword ptr [EBP + -0x14],EAX
0047f58c : MOV dword ptr [EAX + 0x8],EBX
0047f58f : MOV byte ptr [EBP + -0x4],0x19
0047f593 : PUSH EBX
0047f594 : LEA ECX,[ESI + 0x2a4]
0047f59a : CALL 0x005a2090
0047f59f : MOV byte ptr [EBP + -0x4],0x1a
0047f5a3 : MOV dword ptr [ESI + 0x2bc],EBX
0047f5a9 : MOV dword ptr [ESI + 0x2c0],EBX
0047f5af : MOV dword ptr [ESI + 0x2c4],EBX
0047f5b5 : MOV dword ptr [ESI + 0x2c8],EBX
0047f5bb : MOV dword ptr [ESI + 0x2cc],EBX
0047f5c1 : MOV dword ptr [ESI + 0x2d0],EBX
0047f5c7 : MOV dword ptr [ESI + 0x2d4],EBX
0047f5cd : MOV dword ptr [ESI + 0x2d8],EBX
0047f5d3 : MOV dword ptr [ESI + 0x2dc],EBX
0047f5d9 : MOV dword ptr [ESI + 0x2e0],EBX
0047f5df : MOV dword ptr [ESI + 0x2e4],EBX
0047f5e5 : MOV dword ptr [ESI + 0x2e8],EBX
0047f5eb : MOV dword ptr [ESI + 0x2ec],EBX
0047f5f1 : MOV dword ptr [ESI + 0x2f0],EBX
0047f5f7 : LEA EDI,[ESI + 0x300]
0047f5fd : MOV dword ptr [ESI + 0x2f4],EBX
0047f603 : MOV dword ptr [ESI + 0x2f8],EBX
0047f609 : MOV dword ptr [EBP + -0x10],EDI
0047f60c : MOV dword ptr [ESI + 0x2fc],EBX
0047f612 : MOV dword ptr [EBP + -0x14],0x1
0047f619 : ADD EDI,0x58
0047f61c : LEA ESP,[ESP]
0047f620 : LEA ECX,[EDI + -0x4c]
0047f623 : CALL 0x0059d080
0047f628 : LEA ECX,[EDI + -0x24]
0047f62b : CALL 0x00522b80
0047f630 : MOV ECX,EDI
0047f632 : CALL 0x00522b80
0047f637 : MOV EAX,dword ptr [EBP + -0x10]
0047f63a : MOV dword ptr [EAX],EBX
0047f63c : MOV dword ptr [EDI + -0x54],EBX
0047f63f : MOV dword ptr [EDI + -0x28],EBX
0047f642 : MOV dword ptr [EDI + -0x4],EBX
0047f645 : MOV byte ptr [EDI + -0x2c],BL
0047f648 : ADD EAX,0x78
0047f64b : ADD EDI,0x78
0047f64e : SUB dword ptr [EBP + -0x14],0x1
0047f652 : MOV dword ptr [EBP + -0x10],EAX
0047f655 : JNS 0x0047f620
0047f657 : MOV EAX,0x3
0047f65c : MOV dword ptr [ESI + 0x100],EAX
0047f662 : MOV dword ptr [ESI + 0x104],EAX
0047f668 : MOV ECX,0x1
0047f66d : MOV EAX,0x200
0047f672 : MOV byte ptr [ESI + 0x8],BL
0047f675 : MOV byte ptr [ESI + 0x10],BL
0047f678 : MOV byte ptr [ESI + 0x288],BL
0047f67e : MOV byte ptr [ESI + 0x289],BL
0047f684 : MOV byte ptr [ESI + 0x28a],BL
0047f68a : MOV dword ptr [ESI + 0x28],EBX
0047f68d : MOV byte ptr [ESI + 0xf4],BL
0047f693 : MOV byte ptr [ESI + 0xf5],BL
0047f699 : MOV byte ptr [ESI + 0xf6],BL
0047f69f : MOV byte ptr [ESI + 0xf8],BL
0047f6a5 : MOV byte ptr [ESI + 0xf7],BL
0047f6ab : MOV dword ptr [ESI + 0xfc],EBX
0047f6b1 : MOV dword ptr [ESI + 0x18],EBX
0047f6b4 : MOV dword ptr [ESI + 0x1c],EBX
0047f6b7 : MOV dword ptr [ESI + 0x20],EBX
0047f6ba : MOV dword ptr [ESI + 0x24],EBX
0047f6bd : MOV dword ptr [ESI + 0x208],ECX
0047f6c3 : MOV dword ptr [ESI + 0x20c],ECX
0047f6c9 : MOV dword ptr [ESI + 0xf0],EBX
0047f6cf : MOV dword ptr [ESI + 0x258],EBX
0047f6d5 : MOV dword ptr [ESI + 0x210],EBX
0047f6db : MOV dword ptr [ESI + 0xc],EBX
0047f6de : MOV dword ptr [ESI + 0x260],EAX
0047f6e4 : MOV dword ptr [ESI + 0x264],EAX
0047f6ea : MOV dword ptr [ESI + 0x108],0x1c
0047f6f4 : LEA EDI,[ESI + 0x40]
0047f6f7 : MOV dword ptr [EBP + -0x14],0x6
0047f6fe : MOV EDI,EDI
0047f700 : MOV EAX,dword ptr [EDI]
0047f702 : CMP EAX,EBX
0047f704 : JZ 0x0047f713
0047f706 : MOV EDX,dword ptr [EAX]
0047f708 : PUSH EAX
0047f709 : MOV EAX,dword ptr [EDX + 0x8]
0047f70c : CALL EAX
0047f70e : MOV ECX,0x1
0047f713 : MOV dword ptr [EDI],EBX
0047f715 : ADD EDI,0x4
0047f718 : SUB dword ptr [EBP + -0x14],ECX
0047f71b : JNZ 0x0047f700
0047f71d : LEA EDI,[ESI + 0x58]
0047f720 : MOV dword ptr [EBP + -0x14],0x26
0047f727 : MOV EAX,dword ptr [EDI]
0047f729 : CMP EAX,EBX
0047f72b : JZ 0x0047f73a
0047f72d : MOV ECX,dword ptr [EAX]
0047f72f : MOV EDX,dword ptr [ECX + 0x8]
0047f732 : PUSH EAX
0047f733 : CALL EDX
0047f735 : MOV ECX,0x1
0047f73a : MOV dword ptr [EDI],EBX
0047f73c : ADD EDI,0x4
0047f73f : SUB dword ptr [EBP + -0x14],ECX
0047f742 : JNZ 0x0047f727
0047f744 : MOV dword ptr [EBP + -0x4],0xffffffff
0047f74b : MOV EAX,ESI
0047f74d : MOV ECX,dword ptr [EBP + -0xc]
0047f750 : MOV dword ptr FS:[0x0],ECX
0047f757 : POP ECX
0047f758 : POP EDI
0047f759 : POP ESI
0047f75a : POP EBX
0047f75b : MOV ESP,EBP
0047f75d : POP EBP
0047f75e : RET 0x4
