PROGRAM  : Maestia.exe
FUNCTION : FUN_006ea030
ENTRY    : 006ea030
BODY     : [[006ea030, 006ea355]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006ea030(float *param_1,float *param_2,float param_3)

{
  float fVar1;
  float fVar2;
  code *pcVar3;
  undefined *puVar4;
  float fVar5;
  char cVar6;
  float *in_EAX;
  float *pfVar7;
  float *in_ECX;
  int iVar8;
  float *pfVar9;
  unkbyte10 Var10;
  float10 fVar11;
  float fVar12;
  
  if (((*in_ECX == *param_1) && (in_ECX[1] == param_1[1])) && (in_ECX[2] == param_1[2])) {
    cVar6 = FUN_004f9e30();
    if (cVar6 == '\0') {
      cVar6 = FUN_004f9e30();
      if ((cVar6 == '\0') && (DAT_00d72c24 == param_1[0x2a])) {
        if ((param_3 == param_1[0x2b]) && (*(char *)(param_1 + 0xaa) == '\0')) {
          return 0;
        }
      }
    }
  }
  *(undefined8 *)param_1 = *(undefined8 *)in_ECX;
  fVar5 = DAT_00d72c24;
  param_1[2] = in_ECX[2];
  fVar12 = param_1[2];
  fVar1 = param_1[1];
  fVar2 = *param_1;
  pfVar7 = param_1 + 10;
  for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
    *pfVar7 = *in_EAX;
    in_EAX = in_EAX + 1;
    pfVar7 = pfVar7 + 1;
  }
  pfVar7 = param_1 + 0x1a;
  for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
    *pfVar7 = *param_2;
    param_2 = param_2 + 1;
    pfVar7 = pfVar7 + 1;
  }
  param_1[0x2a] = fVar5;
  param_1[0x2b] = param_3;
  pfVar7 = param_1 + 0x1a;
  pfVar9 = param_1 + 0x3f;
  for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
    *pfVar9 = *pfVar7;
    pfVar7 = pfVar7 + 1;
    pfVar9 = pfVar9 + 1;
  }
  FUN_004f9ea0(param_1 + 0x3f,fVar2,fVar1,fVar12);
  pfVar7 = (float *)FUN_00456620(param_1 + 0x1a);
  pfVar9 = param_1 + 0x2f;
  for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
    *pfVar9 = *pfVar7;
    pfVar7 = pfVar7 + 1;
    pfVar9 = pfVar9 + 1;
  }
  pfVar7 = (float *)FUN_00456620(param_1 + 0x3f);
  fVar12 = param_1[0x20];
  fVar1 = param_1[0x24];
  fVar2 = param_1[0x1c];
  pfVar9 = param_1 + 0x4f;
  for (iVar8 = 0x10; iVar8 != 0; iVar8 = iVar8 + -1) {
    *pfVar9 = *pfVar7;
    pfVar7 = pfVar7 + 1;
    pfVar9 = pfVar9 + 1;
  }
  pcVar3 = *(code **)(*(int *)PTR_DAT_00d6df20 + 0x24);
  param_1[0x2d] = -fVar12;
  param_1[0x2e] = -fVar1;
  param_1[0x2c] = -fVar2;
  fVar12 = param_1[0x2c];
  (*pcVar3)(fVar12,param_1[0x2d],param_1[0x2e]);
  Var10 = (**(code **)(*(int *)PTR_DAT_00d6df20 + 0x20))(param_1[0x2c],param_1[0x2d],param_1[0x2e]);
  puVar4 = PTR_DAT_00d6df20;
  fVar11 = (float10)fpatan(Var10,(float10)fVar12);
  param_1[0x5f] = (float)fVar11;
  (**(code **)(*(int *)puVar4 + 0x28))(param_1[0x2c],param_1[0x2d],param_1[0x2e]);
  fVar11 = (float10)FUN_0063ca40();
  param_1[0x60] = (float)fVar11;
  cVar6 = (**(code **)(*(int *)PTR_DAT_00d6df20 + 4))();
  puVar4 = PTR_DAT_00d6df20;
  if (cVar6 != '\0') {
    param_1[0x5f] = -param_1[0x5f];
    cVar6 = (**(code **)(*(int *)puVar4 + 8))();
    if (cVar6 != '\0') {
      param_1[0x60] = -param_1[0x60];
    }
  }
  fVar12 = param_1[0xa7];
  fVar11 = (float10)FUN_0040e8d0(param_1[0x60]);
  param_1[0xa9] = (float)((fVar11 - (float10)fVar12) / ((float10)param_1[0xa8] - (float10)fVar12));
  fVar12 = param_1[0xa9];
  if (1.0 <= fVar12) {
    fVar12 = 1.0;
  }
  param_1[0xa9] = fVar12;
  if (fVar12 <= 0.0) {
    fVar12 = 0.0;
  }
  param_1[0xa9] = fVar12;
  FUN_006e9be0();
  FUN_004fac60(param_1 + 0x61);
  FUN_004fa710();
  FUN_004fa910();
  *(undefined1 *)(param_1 + 0xaa) = 0;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
006ea030 : PUSH EBP
006ea031 : MOV EBP,ESP
006ea033 : AND ESP,0xfffffff8
006ea036 : SUB ESP,0x44
006ea039 : PUSH EBX
006ea03a : MOV EBX,dword ptr [EBP + 0x8]
006ea03d : PUSH ESI
006ea03e : PUSH EDI
006ea03f : MOV EDI,ECX
006ea041 : MOVSS XMM0,dword ptr [EDI]
006ea045 : UCOMISS XMM0,dword ptr [EBX]
006ea048 : MOV ESI,EAX
006ea04a : LAHF
006ea04b : TEST AH,0x44
006ea04e : JP 0x006ea0be
006ea050 : MOVSS XMM0,dword ptr [EDI + 0x4]
006ea055 : UCOMISS XMM0,dword ptr [EBX + 0x4]
006ea059 : LAHF
006ea05a : TEST AH,0x44
006ea05d : JP 0x006ea0be
006ea05f : MOVSS XMM0,dword ptr [EDI + 0x8]
006ea064 : UCOMISS XMM0,dword ptr [EBX + 0x8]
006ea068 : LAHF
006ea069 : TEST AH,0x44
006ea06c : JP 0x006ea0be
006ea06e : LEA ECX,[EBX + 0x28]
006ea071 : MOV EDX,ESI
006ea073 : CALL 0x004f9e30
006ea078 : TEST AL,AL
006ea07a : JNZ 0x006ea0be
006ea07c : MOV EDX,dword ptr [EBP + 0xc]
006ea07f : LEA ECX,[EBX + 0x68]
006ea082 : CALL 0x004f9e30
006ea087 : TEST AL,AL
006ea089 : JNZ 0x006ea0be
006ea08b : MOVSS XMM0,dword ptr [0x00d72c24]
006ea093 : UCOMISS XMM0,dword ptr [EBX + 0xa8]
006ea09a : LAHF
006ea09b : TEST AH,0x44
006ea09e : JP 0x006ea0be
006ea0a0 : MOVSS XMM0,dword ptr [EBP + 0x10]
006ea0a5 : UCOMISS XMM0,dword ptr [EBX + 0xac]
006ea0ac : LAHF
006ea0ad : TEST AH,0x44
006ea0b0 : JP 0x006ea0be
006ea0b2 : CMP byte ptr [EBX + 0x2a8],AL
006ea0b8 : JZ 0x006ea34b
006ea0be : MOVQ XMM0,qword ptr [EDI]
006ea0c2 : MOVQ qword ptr [EBX],XMM0
006ea0c6 : MOV EAX,dword ptr [EDI + 0x8]
006ea0c9 : MOVSS XMM0,dword ptr [0x00d72c24]
006ea0d1 : MOV dword ptr [EBX + 0x8],EAX
006ea0d4 : FLD float ptr [EBX + 0x8]
006ea0d7 : SUB ESP,0xc
006ea0da : FSTP float ptr [ESP + 0x8]
006ea0de : LEA EAX,[EBX + 0x68]
006ea0e1 : FLD float ptr [EBX + 0x4]
006ea0e4 : LEA EDI,[EBX + 0x28]
006ea0e7 : FSTP float ptr [ESP + 0x4]
006ea0eb : MOV ECX,0x10
006ea0f0 : FLD float ptr [EBX]
006ea0f2 : MOVSD.REP ES:EDI,ESI
006ea0f4 : FSTP float ptr [ESP]
006ea0f7 : MOV ESI,dword ptr [EBP + 0xc]
006ea0fa : MOV EDI,EAX
006ea0fc : LEA EDX,[EBX + 0xfc]
006ea102 : MOV ECX,0x10
006ea107 : MOVSD.REP ES:EDI,ESI
006ea109 : MOVSS dword ptr [EBX + 0xa8],XMM0
006ea111 : MOVSS XMM0,dword ptr [EBP + 0x10]
006ea116 : MOV ESI,EAX
006ea118 : MOV EDI,EDX
006ea11a : MOV ECX,0x10
006ea11f : PUSH EDX
006ea120 : MOVSS dword ptr [EBX + 0xac],XMM0
006ea128 : MOVSD.REP ES:EDI,ESI
006ea12a : CALL 0x004f9ea0
006ea12f : LEA EAX,[EBX + 0x68]
006ea132 : PUSH EAX
006ea133 : LEA EAX,[EBX + 0x28]
006ea136 : LEA EDI,[ESP + 0x14]
006ea13a : CALL 0x00456620
006ea13f : MOV ESI,EAX
006ea141 : LEA EAX,[EBX + 0xfc]
006ea147 : LEA EDI,[EBX + 0xbc]
006ea14d : MOV ECX,0x10
006ea152 : MOVSD.REP ES:EDI,ESI
006ea154 : PUSH EAX
006ea155 : LEA EAX,[EBX + 0x28]
006ea158 : LEA EDI,[ESP + 0x14]
006ea15c : CALL 0x00456620
006ea161 : MOVSS XMM0,dword ptr [EBX + 0x80]
006ea169 : MOVSS XMM1,dword ptr [EBX + 0x90]
006ea171 : MOVSS XMM3,dword ptr [EBX + 0x70]
006ea176 : MOV ESI,EAX
006ea178 : LEA EDI,[EBX + 0x13c]
006ea17e : MOV ECX,0x10
006ea183 : MOVSD.REP ES:EDI,ESI
006ea185 : MOVSS XMM2,dword ptr [0x00cdf0c0]
006ea18d : MOV ECX,dword ptr [0x00d6df20]
006ea193 : MOV EDX,dword ptr [ECX]
006ea195 : MOV EAX,dword ptr [EDX + 0x24]
006ea198 : XORPS XMM0,XMM2
006ea19b : MOVSS dword ptr [EBX + 0xb4],XMM0
006ea1a3 : XORPS XMM1,XMM2
006ea1a6 : MOVSS dword ptr [EBX + 0xb8],XMM1
006ea1ae : XORPS XMM3,XMM2
006ea1b1 : MOVSS dword ptr [EBX + 0xb0],XMM3
006ea1b9 : FLD float ptr [EBX + 0xb8]
006ea1bf : SUB ESP,0xc
006ea1c2 : FSTP float ptr [ESP + 0x8]
006ea1c6 : FLD float ptr [EBX + 0xb4]
006ea1cc : FSTP float ptr [ESP + 0x4]
006ea1d0 : FLD float ptr [EBX + 0xb0]
006ea1d6 : FSTP float ptr [ESP]
006ea1d9 : CALL EAX
006ea1db : MOV ECX,dword ptr [0x00d6df20]
006ea1e1 : FSTP float ptr [ESP + 0xc]
006ea1e5 : FLD float ptr [EBX + 0xb8]
006ea1eb : MOV EDX,dword ptr [ECX]
006ea1ed : MOV EAX,dword ptr [EDX + 0x20]
006ea1f0 : SUB ESP,0xc
006ea1f3 : FSTP float ptr [ESP + 0x8]
006ea1f7 : FLD float ptr [EBX + 0xb4]
006ea1fd : FSTP float ptr [ESP + 0x4]
006ea201 : FLD float ptr [EBX + 0xb0]
006ea207 : FSTP float ptr [ESP]
006ea20a : CALL EAX
006ea20c : FLD float ptr [ESP + 0xc]
006ea210 : MOV ECX,dword ptr [0x00d6df20]
006ea216 : FPATAN
006ea218 : SUB ESP,0xc
006ea21b : FSTP float ptr [EBX + 0x17c]
006ea221 : FLD float ptr [EBX + 0xb8]
006ea227 : MOV EDX,dword ptr [ECX]
006ea229 : FSTP float ptr [ESP + 0x8]
006ea22d : FLD float ptr [EBX + 0xb4]
006ea233 : MOV EAX,dword ptr [EDX + 0x28]
006ea236 : FSTP float ptr [ESP + 0x4]
006ea23a : FLD float ptr [EBX + 0xb0]
006ea240 : FSTP float ptr [ESP]
006ea243 : CALL EAX
006ea245 : CALL 0x0063ca40
006ea24a : FSTP float ptr [EBX + 0x180]
006ea250 : MOV ECX,dword ptr [0x00d6df20]
006ea256 : MOV EDX,dword ptr [ECX]
006ea258 : MOV EAX,dword ptr [EDX + 0x4]
006ea25b : CALL EAX
006ea25d : TEST AL,AL
006ea25f : JZ 0x006ea2a0
006ea261 : MOVSS XMM0,dword ptr [EBX + 0x17c]
006ea269 : XORPS XMM0,xmmword ptr [0x00cdf0c0]
006ea270 : MOV ECX,dword ptr [0x00d6df20]
006ea276 : MOVSS dword ptr [EBX + 0x17c],XMM0
006ea27e : MOV EDX,dword ptr [ECX]
006ea280 : MOV EAX,dword ptr [EDX + 0x8]
006ea283 : CALL EAX
006ea285 : TEST AL,AL
006ea287 : JZ 0x006ea2a0
006ea289 : MOVSS XMM0,dword ptr [EBX + 0x180]
006ea291 : XORPS XMM0,xmmword ptr [0x00cdf0c0]
006ea298 : MOVSS dword ptr [EBX + 0x180],XMM0
006ea2a0 : FLD float ptr [EBX + 0x29c]
006ea2a6 : PUSH ECX
006ea2a7 : FSTP float ptr [ESP + 0x10]
006ea2ab : FLD float ptr [EBX + 0x180]
006ea2b1 : FSTP float ptr [ESP]
006ea2b4 : CALL 0x0040e8d0
006ea2b9 : FLD float ptr [ESP + 0x10]
006ea2bd : MOVSS XMM1,dword ptr [0x00c10fc4]
006ea2c5 : FSUB ST1,ST0
006ea2c7 : ADD ESP,0x4
006ea2ca : FSUBR float ptr [EBX + 0x2a0]
006ea2d0 : FDIVP
006ea2d2 : FSTP float ptr [EBX + 0x2a4]
006ea2d8 : MOVSS XMM0,dword ptr [EBX + 0x2a4]
006ea2e0 : COMISS XMM1,XMM0
006ea2e3 : JA 0x006ea2e8
006ea2e5 : MOVAPS XMM0,XMM1
006ea2e8 : XORPS XMM1,XMM1
006ea2eb : COMISS XMM0,XMM1
006ea2ee : MOVSS dword ptr [EBX + 0x2a4],XMM0
006ea2f6 : JA 0x006ea2fb
006ea2f8 : MOVAPS XMM0,XMM1
006ea2fb : MOV EDI,EBX
006ea2fd : MOVSS dword ptr [EBX + 0x2a4],XMM0
006ea305 : CALL 0x006e9be0
006ea30a : LEA ESI,[EBX + 0x184]
006ea310 : PUSH ESI
006ea311 : MOV EAX,EBX
006ea313 : CALL 0x004fac60
006ea318 : ADD ESP,0x4
006ea31b : LEA ECX,[EBX + 0x1e4]
006ea321 : LEA EAX,[EBX + 0xbc]
006ea327 : CALL 0x004fa710
006ea32c : LEA EAX,[EBX + 0x244]
006ea332 : MOV ECX,ESI
006ea334 : CALL 0x004fa910
006ea339 : MOV AL,0x1
006ea33b : MOV byte ptr [EBX + 0x2a8],0x0
006ea342 : POP EDI
006ea343 : POP ESI
006ea344 : POP EBX
006ea345 : MOV ESP,EBP
006ea347 : POP EBP
006ea348 : RET 0xc
006ea34b : POP EDI
006ea34c : POP ESI
006ea34d : XOR AL,AL
006ea34f : POP EBX
006ea350 : MOV ESP,EBP
006ea352 : POP EBP
006ea353 : RET 0xc
