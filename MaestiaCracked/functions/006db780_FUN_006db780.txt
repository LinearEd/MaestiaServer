PROGRAM  : Maestia.exe
FUNCTION : FUN_006db780
ENTRY    : 006db780
BODY     : [[006db780, 006db7f7]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006db780(void)

{
  int *piVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  undefined4 *puVar5;
  int unaff_ESI;
  
  iVar2 = *(int *)(unaff_ESI + 0x198);
  piVar1 = (int *)(*(int *)(unaff_ESI + 0x194) + 0x14);
  *piVar1 = *piVar1 + ((int)(*(int *)(iVar2 + 0x10) + (*(int *)(iVar2 + 0x10) >> 0x1f & 7U)) >> 3);
  *(undefined4 *)(iVar2 + 0x10) = 0;
  uVar3 = (**(code **)(*(int *)(unaff_ESI + 0x194) + 8))();
  if ((char)uVar3 == '\0') {
    return uVar3;
  }
  iVar4 = 0;
  if (0 < *(int *)(unaff_ESI + 0x124)) {
    puVar5 = (undefined4 *)(iVar2 + 0x18);
    do {
      *puVar5 = 0;
      iVar4 = iVar4 + 1;
      puVar5 = puVar5 + 1;
    } while (iVar4 < *(int *)(unaff_ESI + 0x124));
  }
  *(undefined4 *)(iVar2 + 0x14) = 0;
  *(undefined4 *)(iVar2 + 0x28) = *(undefined4 *)(unaff_ESI + 0xfc);
  if (*(int *)(unaff_ESI + 0x17c) == 0) {
    *(undefined1 *)(iVar2 + 8) = 0;
  }
  return CONCAT31((int3)((uint)iVar4 >> 8),1);
}



============================================================
DISASSEMBLY
============================================================
006db780 : MOV ECX,dword ptr [ESI + 0x194]
006db786 : PUSH EDI
006db787 : MOV EDI,dword ptr [ESI + 0x198]
006db78d : MOV EAX,dword ptr [EDI + 0x10]
006db790 : CDQ
006db791 : AND EDX,0x7
006db794 : ADD EAX,EDX
006db796 : SAR EAX,0x3
006db799 : ADD dword ptr [ECX + 0x14],EAX
006db79c : MOV dword ptr [EDI + 0x10],0x0
006db7a3 : MOV EAX,dword ptr [ESI + 0x194]
006db7a9 : MOV ECX,dword ptr [EAX + 0x8]
006db7ac : PUSH ESI
006db7ad : CALL ECX
006db7af : ADD ESP,0x4
006db7b2 : TEST AL,AL
006db7b4 : JNZ 0x006db7b8
006db7b6 : POP EDI
006db7b7 : RET
006db7b8 : XOR EAX,EAX
006db7ba : CMP dword ptr [ESI + 0x124],EAX
006db7c0 : JLE 0x006db7d7
006db7c2 : LEA ECX,[EDI + 0x18]
006db7c5 : MOV dword ptr [ECX],0x0
006db7cb : INC EAX
006db7cc : ADD ECX,0x4
006db7cf : CMP EAX,dword ptr [ESI + 0x124]
006db7d5 : JL 0x006db7c5
006db7d7 : MOV dword ptr [EDI + 0x14],0x0
006db7de : MOV EDX,dword ptr [ESI + 0xfc]
006db7e4 : MOV dword ptr [EDI + 0x28],EDX
006db7e7 : CMP dword ptr [ESI + 0x17c],0x0
006db7ee : JNZ 0x006db7f4
006db7f0 : MOV byte ptr [EDI + 0x8],0x0
006db7f4 : MOV AL,0x1
006db7f6 : POP EDI
006db7f7 : RET
