PROGRAM  : Maestia.exe
FUNCTION : FUN_006b24b0
ENTRY    : 006b24b0
BODY     : [[006b24b0, 006b2558]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006b24b0(void)

{
  int in_EAX;
  int iVar1;
  uint in_ECX;
  
  iVar1 = (**(code **)(in_EAX + 0x1fc))();
  if (iVar1 != 0) {
    return iVar1;
  }
  iVar1 = (**(code **)(in_EAX + 0x1fc))();
  if (iVar1 == 0) {
    if (*(short *)(in_EAX + 0xd2) == 0) {
      if (in_ECX < 0x20000) {
        *(uint *)(in_EAX + 0x2e0) = in_ECX >> 1;
        iVar1 = FUN_0068a1f0();
        return iVar1;
      }
    }
    else if (in_ECX < 0x40000) {
      *(uint *)(in_EAX + 0x2e0) = in_ECX >> 2;
      iVar1 = FUN_0068a1f0();
      return iVar1;
    }
    return 8;
  }
  return 0x90;
}



============================================================
DISASSEMBLY
============================================================
006b24b0 : PUSH ECX
006b24b1 : PUSH ESI
006b24b2 : MOV ESI,EAX
006b24b4 : MOV ECX,dword ptr [ESI + 0x1fc]
006b24ba : LEA EAX,[ESI + 0x2c4]
006b24c0 : PUSH EAX
006b24c1 : PUSH EDI
006b24c2 : PUSH 0x676c7966
006b24c7 : PUSH ESI
006b24c8 : CALL ECX
006b24ca : ADD ESP,0x10
006b24cd : TEST EAX,EAX
006b24cf : JNZ 0x006b2556
006b24d5 : MOV EAX,dword ptr [ESI + 0x1fc]
006b24db : LEA EDX,[ESP + 0x4]
006b24df : PUSH EDX
006b24e0 : PUSH EDI
006b24e1 : PUSH 0x6c6f6361
006b24e6 : PUSH ESI
006b24e7 : CALL EAX
006b24e9 : ADD ESP,0x10
006b24ec : TEST EAX,EAX
006b24ee : JZ 0x006b24f8
006b24f0 : MOV EAX,0x90
006b24f5 : POP ESI
006b24f6 : POP ECX
006b24f7 : RET
006b24f8 : CMP word ptr [ESI + 0xd2],0x0
006b2500 : MOV EAX,dword ptr [ESP + 0x4]
006b2504 : JZ 0x006b2534
006b2506 : CMP EAX,0x40000
006b250b : JC 0x006b2515
006b250d : MOV EAX,0x8
006b2512 : POP ESI
006b2513 : POP ECX
006b2514 : RET
006b2515 : MOV ECX,EAX
006b2517 : SHR ECX,0x2
006b251a : MOV dword ptr [ESI + 0x2e0],ECX
006b2520 : ADD ESI,0x2e4
006b2526 : PUSH ESI
006b2527 : PUSH EAX
006b2528 : PUSH EDI
006b2529 : CALL 0x0068a1f0
006b252e : ADD ESP,0xc
006b2531 : POP ESI
006b2532 : POP ECX
006b2533 : RET
006b2534 : CMP EAX,0x20000
006b2539 : JNC 0x006b250d
006b253b : MOV EDX,EAX
006b253d : SHR EDX,0x1
006b253f : MOV dword ptr [ESI + 0x2e0],EDX
006b2545 : ADD ESI,0x2e4
006b254b : PUSH ESI
006b254c : PUSH EAX
006b254d : PUSH EDI
006b254e : CALL 0x0068a1f0
006b2553 : ADD ESP,0xc
006b2556 : POP ESI
006b2557 : POP ECX
006b2558 : RET
