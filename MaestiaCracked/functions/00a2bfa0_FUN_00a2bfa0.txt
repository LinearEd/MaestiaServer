PROGRAM  : Maestia.exe
FUNCTION : FUN_00a2bfa0
ENTRY    : 00a2bfa0
BODY     : [[00a2bfa0, 00a2c182]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a2bfa0(int param_1)

{
  uint uVar1;
  int iVar2;
  int in_ECX;
  undefined1 local_84 [12];
  undefined1 local_78 [4];
  undefined2 local_74;
  undefined4 local_64;
  uint local_60;
  int local_5c;
  float local_58;
  float local_54;
  undefined4 local_50;
  undefined4 local_4c;
  float local_48;
  float local_44;
  undefined4 local_40;
  undefined1 local_35 [5];
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  uint local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b42838;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_60 = 7;
  local_64 = 0;
  local_74 = 0;
  local_5c = in_ECX;
  local_18 = uVar1;
  FUN_00406360(L"ID_EF_DUST",10);
  local_8 = 0;
  FUN_0081cfe0(DAT_0172491c,local_78);
  local_8 = CONCAT31(local_8._1_3_,2);
  if (7 < local_60) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_74 = 0;
  local_60 = 7;
  local_64 = 0;
  local_54 = 0.0;
  local_50 = 0;
  local_4c = 0;
  if (*(char *)(param_1 + 0x1c) == '\x01') {
    FUN_00a1e310(*(undefined4 *)(param_1 + 0x10));
  }
  else if (*(char *)(param_1 + 0x1c) == '\x02') {
    local_44 = (float)*(ushort *)(param_1 + 0x16);
    local_48 = (float)*(ushort *)(param_1 + 0x14);
    local_40 = 0;
    FUN_007e9290(*(undefined4 *)(in_ECX + 0xc));
    if (*(int *)(*(int *)(DAT_0172491c + 0x90) + 0xf0) != 0) {
      iVar2 = FUN_007df230(local_54,local_4c);
      if (iVar2 != 0) {
        local_44 = local_54;
        local_40 = local_4c;
        FUN_007aee90(&local_58,local_84,local_35);
        local_48 = local_54;
        local_44 = local_58;
        local_40 = local_4c;
        if (*(int *)(local_5c + 8) != 0) {
          FUN_00a296d0(*(undefined4 *)(param_1 + 0x10),*(undefined4 *)(param_1 + 0xc),
                       *(undefined4 *)(param_1 + 0x18));
        }
        goto LAB_00a2c13d;
      }
    }
    local_8 = 0xffffffff;
    FUN_00406560(uVar1);
    goto LAB_00a2c165;
  }
LAB_00a2c13d:
  local_8 = 0xffffffff;
  if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_1c = 7;
  local_20 = 0;
  local_30 = 0;
LAB_00a2c165:
  ExceptionList = local_10;
  __security_check_cookie(local_18 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a2bfa0 : PUSH EBP
00a2bfa1 : MOV EBP,ESP
00a2bfa3 : PUSH -0x1
00a2bfa5 : PUSH 0xb42838
00a2bfaa : MOV EAX,FS:[0x0]
00a2bfb0 : PUSH EAX
00a2bfb1 : SUB ESP,0x78
00a2bfb4 : MOV EAX,[0x00d66fa0]
00a2bfb9 : XOR EAX,EBP
00a2bfbb : MOV dword ptr [EBP + -0x14],EAX
00a2bfbe : PUSH EBX
00a2bfbf : PUSH ESI
00a2bfc0 : PUSH EDI
00a2bfc1 : PUSH EAX
00a2bfc2 : LEA EAX,[EBP + -0xc]
00a2bfc5 : MOV FS:[0x0],EAX
00a2bfcb : MOV EBX,dword ptr [EBP + 0x8]
00a2bfce : MOV EDI,ECX
00a2bfd0 : PUSH 0xa
00a2bfd2 : XOR EAX,EAX
00a2bfd4 : XOR ESI,ESI
00a2bfd6 : PUSH 0xcc3bd8
00a2bfdb : LEA ECX,[EBP + -0x74]
00a2bfde : MOV dword ptr [EBP + -0x58],EDI
00a2bfe1 : MOV dword ptr [EBP + -0x5c],0x7
00a2bfe8 : MOV dword ptr [EBP + -0x60],ESI
00a2bfeb : MOV word ptr [EBP + -0x70],AX
00a2bfef : CALL 0x00406360
00a2bff4 : MOV dword ptr [EBP + -0x4],ESI
00a2bff7 : MOV EDX,dword ptr [0x0172491c]
00a2bffd : LEA ECX,[EBP + -0x74]
00a2c000 : PUSH ECX
00a2c001 : PUSH EDX
00a2c002 : LEA ESI,[EBP + -0x30]
00a2c005 : CALL 0x0081cfe0
00a2c00a : MOV byte ptr [EBP + -0x4],0x2
00a2c00e : MOV ESI,0x8
00a2c013 : CMP dword ptr [EBP + -0x5c],ESI
00a2c016 : JC 0x00a2c020
00a2c018 : MOV ECX,dword ptr [EBP + -0x70]
00a2c01b : CALL 0x006f04e0
00a2c020 : XORPS XMM2,XMM2
00a2c023 : XOR EAX,EAX
00a2c025 : MOV word ptr [EBP + -0x70],AX
00a2c029 : MOV AL,byte ptr [EBX + 0x1c]
00a2c02c : MOV dword ptr [EBP + -0x5c],0x7
00a2c033 : MOV dword ptr [EBP + -0x60],0x0
00a2c03a : MOVSS dword ptr [EBP + -0x50],XMM2
00a2c03f : MOVSS dword ptr [EBP + -0x4c],XMM2
00a2c044 : MOVSS dword ptr [EBP + -0x48],XMM2
00a2c049 : CMP AL,0x1
00a2c04b : JNZ 0x00a2c05d
00a2c04d : MOV ECX,dword ptr [EBX + 0x10]
00a2c050 : PUSH ECX
00a2c051 : MOV EAX,EDI
00a2c053 : CALL 0x00a1e310
00a2c058 : JMP 0x00a2c13d
00a2c05d : CMP AL,0x2
00a2c05f : JNZ 0x00a2c13d
00a2c065 : MOVZX EAX,word ptr [EBX + 0x16]
00a2c069 : MOVZX EDX,word ptr [EBX + 0x14]
00a2c06d : CVTSI2SS XMM1,EAX
00a2c071 : MOV EAX,dword ptr [EDI + 0xc]
00a2c074 : CVTSI2SS XMM0,EDX
00a2c078 : PUSH EAX
00a2c079 : LEA EDX,[EBP + -0x50]
00a2c07c : LEA ECX,[EBP + -0x44]
00a2c07f : MOVSS dword ptr [EBP + -0x44],XMM0
00a2c084 : MOVSS dword ptr [EBP + -0x40],XMM1
00a2c089 : MOVSS dword ptr [EBP + -0x3c],XMM2
00a2c08e : CALL 0x007e9290
00a2c093 : MOV ECX,dword ptr [0x0172491c]
00a2c099 : MOV EAX,dword ptr [ECX + 0x90]
00a2c09f : MOV EAX,dword ptr [EAX + 0xf0]
00a2c0a5 : TEST EAX,EAX
00a2c0a7 : JNZ 0x00a2c0bd
00a2c0a9 : MOV dword ptr [EBP + -0x4],0xffffffff
00a2c0b0 : LEA ECX,[EBP + -0x30]
00a2c0b3 : CALL 0x00406560
00a2c0b8 : JMP 0x00a2c165
00a2c0bd : FLD float ptr [EBP + -0x48]
00a2c0c0 : SUB ESP,0x8
00a2c0c3 : FSTP float ptr [ESP + 0x4]
00a2c0c7 : MOV EDI,EAX
00a2c0c9 : FLD float ptr [EBP + -0x50]
00a2c0cc : FSTP float ptr [ESP]
00a2c0cf : CALL 0x007df230
00a2c0d4 : TEST EAX,EAX
00a2c0d6 : JZ 0x00a2c0a9
00a2c0d8 : MOVSS XMM0,dword ptr [EBP + -0x50]
00a2c0dd : LEA EDX,[EBP + -0x31]
00a2c0e0 : PUSH EDX
00a2c0e1 : LEA ECX,[EBP + -0x80]
00a2c0e4 : PUSH ECX
00a2c0e5 : LEA EDX,[EBP + -0x54]
00a2c0e8 : MOVSS dword ptr [EBP + -0x40],XMM0
00a2c0ed : MOVSS XMM0,dword ptr [EBP + -0x48]
00a2c0f2 : PUSH EDX
00a2c0f3 : LEA ECX,[EBP + -0x40]
00a2c0f6 : MOV EDX,EAX
00a2c0f8 : MOVSS dword ptr [EBP + -0x3c],XMM0
00a2c0fd : CALL 0x007aee90
00a2c102 : MOVSS XMM0,dword ptr [EBP + -0x50]
00a2c107 : MOV ECX,dword ptr [EBP + -0x58]
00a2c10a : CMP dword ptr [ECX + 0x8],0x0
00a2c10e : MOV EAX,dword ptr [EBX + 0x18]
00a2c111 : MOV EDX,dword ptr [EBX + 0xc]
00a2c114 : MOV EBX,dword ptr [EBX + 0x10]
00a2c117 : MOVSS dword ptr [EBP + -0x44],XMM0
00a2c11c : MOVSS XMM0,dword ptr [EBP + -0x54]
00a2c121 : MOVSS dword ptr [EBP + -0x40],XMM0
00a2c126 : MOVSS XMM0,dword ptr [EBP + -0x48]
00a2c12b : MOVSS dword ptr [EBP + -0x3c],XMM0
00a2c130 : JZ 0x00a2c13d
00a2c132 : PUSH EAX
00a2c133 : PUSH EDX
00a2c134 : PUSH EBX
00a2c135 : LEA EDI,[EBP + -0x44]
00a2c138 : CALL 0x00a296d0
00a2c13d : MOV dword ptr [EBP + -0x4],0xffffffff
00a2c144 : CMP dword ptr [EBP + -0x18],ESI
00a2c147 : JC 0x00a2c151
00a2c149 : MOV ECX,dword ptr [EBP + -0x2c]
00a2c14c : CALL 0x006f04e0
00a2c151 : XOR EAX,EAX
00a2c153 : MOV dword ptr [EBP + -0x18],0x7
00a2c15a : MOV dword ptr [EBP + -0x1c],0x0
00a2c161 : MOV word ptr [EBP + -0x2c],AX
00a2c165 : MOV ECX,dword ptr [EBP + -0xc]
00a2c168 : MOV dword ptr FS:[0x0],ECX
00a2c16f : POP ECX
00a2c170 : POP EDI
00a2c171 : POP ESI
00a2c172 : POP EBX
00a2c173 : MOV ECX,dword ptr [EBP + -0x14]
00a2c176 : XOR ECX,EBP
00a2c178 : CALL 0x00633e6b
00a2c17d : MOV ESP,EBP
00a2c17f : POP EBP
00a2c180 : RET 0x4
