PROGRAM  : Maestia.exe
FUNCTION : FUN_004103f0
ENTRY    : 004103f0
BODY     : [[004103f0, 0041048e]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_004103f0(undefined4 *param_1,uint *param_2)

{
  int in_EAX;
  undefined4 *puVar1;
  undefined4 *puVar2;
  bool bVar3;
  
  puVar2 = *(undefined4 **)(in_EAX + 4);
  bVar3 = true;
  if (*(char *)((int)puVar2[1] + 0x2d) == '\0') {
    puVar1 = (undefined4 *)puVar2[1];
    do {
      puVar2 = puVar1;
      bVar3 = *param_2 < (uint)puVar2[3];
      if (bVar3) {
        puVar1 = (undefined4 *)*puVar2;
      }
      else {
        puVar1 = (undefined4 *)puVar2[2];
      }
    } while (*(char *)((int)puVar1 + 0x2d) == '\0');
  }
  if (bVar3) {
    if (puVar2 == (undefined4 *)**(int **)(in_EAX + 4)) {
      bVar3 = true;
      goto LAB_00410444;
    }
    FUN_004d6300();
  }
  if (*param_2 <= (uint)puVar2[3]) {
    *param_1 = puVar2;
    *(undefined1 *)(param_1 + 1) = 0;
    return param_1;
  }
LAB_00410444:
  puVar2 = (undefined4 *)FUN_00410580(&param_2,bVar3,param_2);
  *param_1 = *puVar2;
  *(undefined1 *)(param_1 + 1) = 1;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
004103f0 : PUSH EBP
004103f1 : MOV EBP,ESP
004103f3 : PUSH ECX
004103f4 : PUSH EBX
004103f5 : MOV EBX,dword ptr [EBP + 0x8]
004103f8 : PUSH ESI
004103f9 : PUSH EDI
004103fa : MOV EDI,EAX
004103fc : MOV ESI,dword ptr [EDI + 0x4]
004103ff : MOV EAX,dword ptr [ESI + 0x4]
00410402 : CMP byte ptr [EAX + 0x2d],0x0
00410406 : MOV CL,0x1
00410408 : MOV byte ptr [EBP + -0x4],CL
0041040b : JNZ 0x0041042e
0041040d : MOV ECX,dword ptr [EBP + 0xc]
00410410 : MOV EDX,dword ptr [ECX]
00410412 : CMP EDX,dword ptr [EAX + 0xc]
00410415 : MOV ESI,EAX
00410417 : SETC CL
0041041a : MOV byte ptr [EBP + -0x4],CL
0041041d : TEST CL,CL
0041041f : JZ 0x00410425
00410421 : MOV EAX,dword ptr [EAX]
00410423 : JMP 0x00410428
00410425 : MOV EAX,dword ptr [EAX + 0x8]
00410428 : CMP byte ptr [EAX + 0x2d],0x0
0041042c : JZ 0x00410412
0041042e : MOV EAX,ESI
00410430 : MOV dword ptr [EBP + 0x8],EAX
00410433 : TEST CL,CL
00410435 : JZ 0x0041046d
00410437 : MOV EDX,dword ptr [EDI + 0x4]
0041043a : CMP ESI,dword ptr [EDX]
0041043c : JNZ 0x00410462
0041043e : MOV EAX,dword ptr [EBP + 0xc]
00410441 : PUSH EAX
00410442 : PUSH 0x1
00410444 : LEA ECX,[EBP + 0xc]
00410447 : PUSH ECX
00410448 : MOV ECX,ESI
0041044a : CALL 0x00410580
0041044f : MOV EDX,dword ptr [EAX]
00410451 : MOV dword ptr [EBX],EDX
00410453 : MOV byte ptr [EBX + 0x4],0x1
00410457 : MOV EAX,EBX
00410459 : POP EDI
0041045a : POP ESI
0041045b : POP EBX
0041045c : MOV ESP,EBP
0041045e : POP EBP
0041045f : RET 0x8
00410462 : LEA EDX,[EBP + 0x8]
00410465 : CALL 0x004d6300
0041046a : MOV EAX,dword ptr [EBP + 0x8]
0041046d : MOV EDX,dword ptr [EAX + 0xc]
00410470 : MOV ECX,dword ptr [EBP + 0xc]
00410473 : CMP EDX,dword ptr [ECX]
00410475 : JNC 0x0041047e
00410477 : MOV EAX,dword ptr [EBP + -0x4]
0041047a : PUSH ECX
0041047b : PUSH EAX
0041047c : JMP 0x00410444
0041047e : POP EDI
0041047f : MOV dword ptr [EBX],EAX
00410481 : POP ESI
00410482 : MOV byte ptr [EBX + 0x4],0x0
00410486 : MOV EAX,EBX
00410488 : POP EBX
00410489 : MOV ESP,EBP
0041048b : POP EBP
0041048c : RET 0x8
