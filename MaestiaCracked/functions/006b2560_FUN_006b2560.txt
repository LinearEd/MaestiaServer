PROGRAM  : Maestia.exe
FUNCTION : FUN_006b2560
ENTRY    : 006b2560
BODY     : [[006b2560, 006b2627]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006b2560(int param_1,uint param_2,int *param_3)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  
  uVar2 = *(uint *)(param_1 + 0x2e0);
  uVar4 = 0;
  uVar5 = 0;
  if (param_2 < uVar2) {
    iVar3 = *(int *)(param_1 + 0x2e4);
    if (*(short *)(param_1 + 0xd2) == 0) {
      uVar1 = iVar3 + 4 + param_2 * 2;
      uVar4 = (uint)CONCAT11(*(undefined1 *)(iVar3 + param_2 * 2),
                             *(undefined1 *)(iVar3 + 1 + param_2 * 2));
      uVar5 = uVar4;
      if (uVar1 <= iVar3 + uVar2 * 2) {
        uVar5 = (uint)CONCAT11(*(undefined1 *)(uVar1 - 2),*(undefined1 *)(uVar1 - 1));
      }
      uVar4 = uVar4 * 2;
      uVar5 = uVar5 * 2;
    }
    else {
      uVar1 = iVar3 + 8 + param_2 * 4;
      uVar4 = CONCAT31(CONCAT21(CONCAT11(*(undefined1 *)(iVar3 + param_2 * 4),
                                         *(undefined1 *)(iVar3 + 1 + param_2 * 4)),
                                *(undefined1 *)(iVar3 + 2 + param_2 * 4)),
                       *(undefined1 *)(iVar3 + 3 + param_2 * 4));
      uVar5 = uVar4;
      if (iVar3 + uVar2 * 4 < uVar1) goto LAB_006b261c;
      uVar5 = CONCAT31(CONCAT21(CONCAT11(*(undefined1 *)(uVar1 - 4),*(undefined1 *)(uVar1 - 3)),
                                *(undefined1 *)(uVar1 - 2)),*(undefined1 *)(uVar1 - 1));
    }
    if (uVar5 < uVar4) {
      uVar5 = *(uint *)(param_1 + 0x2c4);
    }
  }
LAB_006b261c:
  *param_3 = uVar5 - uVar4;
  return;
}



============================================================
DISASSEMBLY
============================================================
006b2560 : MOV ECX,dword ptr [ESP + 0x8]
006b2564 : PUSH EBX
006b2565 : MOV EBX,dword ptr [ESP + 0x8]
006b2569 : PUSH ESI
006b256a : PUSH EDI
006b256b : MOV EDI,dword ptr [EBX + 0x2e0]
006b2571 : XOR EDX,EDX
006b2573 : XOR EAX,EAX
006b2575 : CMP ECX,EDI
006b2577 : JNC 0x006b261c
006b257d : MOV ESI,dword ptr [EBX + 0x2e4]
006b2583 : CMP word ptr [EBX + 0xd2],AX
006b258a : JZ 0x006b25dc
006b258c : MOVZX EAX,byte ptr [ESI + ECX*0x4]
006b2590 : MOVZX EDX,byte ptr [ESI + ECX*0x4 + 0x1]
006b2595 : SHL EAX,0x8
006b2598 : OR EAX,EDX
006b259a : MOVZX EDX,byte ptr [ESI + ECX*0x4 + 0x2]
006b259f : SHL EAX,0x8
006b25a2 : OR EAX,EDX
006b25a4 : MOVZX EDX,byte ptr [ESI + ECX*0x4 + 0x3]
006b25a9 : SHL EAX,0x8
006b25ac : LEA ECX,[ESI + ECX*0x4 + 0x8]
006b25b0 : OR EAX,EDX
006b25b2 : LEA ESI,[ESI + EDI*0x4]
006b25b5 : MOV EDX,EAX
006b25b7 : CMP ECX,ESI
006b25b9 : JA 0x006b261c
006b25bb : MOVZX EDX,byte ptr [ECX + -0x4]
006b25bf : MOVZX ESI,byte ptr [ECX + -0x3]
006b25c3 : SHL EDX,0x8
006b25c6 : OR EDX,ESI
006b25c8 : MOVZX ESI,byte ptr [ECX + -0x2]
006b25cc : MOVZX ECX,byte ptr [ECX + -0x1]
006b25d0 : SHL EDX,0x8
006b25d3 : OR EDX,ESI
006b25d5 : SHL EDX,0x8
006b25d8 : OR EDX,ECX
006b25da : JMP 0x006b2612
006b25dc : MOVZX DX,byte ptr [ESI + ECX*0x2]
006b25e1 : SHL DX,0x8
006b25e5 : MOVZX EAX,DX
006b25e8 : MOVZX EDX,byte ptr [ESI + ECX*0x2 + 0x1]
006b25ed : LEA ECX,[ESI + ECX*0x2 + 0x4]
006b25f1 : OR EAX,EDX
006b25f3 : LEA ESI,[ESI + EDI*0x2]
006b25f6 : MOV EDX,EAX
006b25f8 : CMP ECX,ESI
006b25fa : JA 0x006b260e
006b25fc : MOVZX DX,byte ptr [ECX + -0x2]
006b2601 : MOVZX ECX,byte ptr [ECX + -0x1]
006b2605 : SHL DX,0x8
006b2609 : MOVZX EDX,DX
006b260c : OR EDX,ECX
006b260e : ADD EAX,EAX
006b2610 : ADD EDX,EDX
006b2612 : CMP EDX,EAX
006b2614 : JNC 0x006b261c
006b2616 : MOV EDX,dword ptr [EBX + 0x2c4]
006b261c : MOV ECX,dword ptr [ESP + 0x18]
006b2620 : POP EDI
006b2621 : SUB EDX,EAX
006b2623 : POP ESI
006b2624 : MOV dword ptr [ECX],EDX
006b2626 : POP EBX
006b2627 : RET
