PROGRAM  : Maestia.exe
FUNCTION : FUN_0083ba10
ENTRY    : 0083ba10
BODY     : [[0083ba10, 0083bafb]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0083ba8d) */

void FUN_0083ba10(void)

{
  int iVar1;
  uint uVar2;
  int unaff_ESI;
  LPCRITICAL_SECTION local_28;
  char *local_24;
  undefined4 local_20;
  int local_1c;
  undefined4 local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3a74b;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_28 = (LPCRITICAL_SECTION)(unaff_ESI + 4);
  local_1c = 0;
  local_24 = ".\\Objects\\AvaVehicle.cpp";
  local_20 = 0x106;
  local_18 = 1;
  FUN_006ef1a0(&local_28);
  local_8 = 0;
  iVar1 = *(int *)(unaff_ESI + 0xbc);
  if (iVar1 != *(int *)(unaff_ESI + 0xc0)) {
    *(int *)(unaff_ESI + 0xc0) = iVar1;
    local_14 = iVar1;
  }
  if (*(int *)(unaff_ESI + 0x40) != 0) {
    FUN_00a6cde0(uVar2);
  }
  if (*(int **)(unaff_ESI + 0x34) != (int *)0x0) {
    (**(code **)(**(int **)(unaff_ESI + 0x34) + 0x2c))(unaff_ESI + 0x44);
    *(undefined4 *)(unaff_ESI + 0x34) = 0;
  }
  *(undefined4 *)(unaff_ESI + 0x1c) = 0;
  *(undefined4 *)(unaff_ESI + 0x30) = 0;
  *(undefined4 *)(unaff_ESI + 0x9c) = 0;
  *(undefined4 *)(unaff_ESI + 0x3c) = 0;
  local_8 = 0xffffffff;
  if (local_1c != 0) {
    LeaveCriticalSection(local_28);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0083ba10 : PUSH EBP
0083ba11 : MOV EBP,ESP
0083ba13 : PUSH -0x1
0083ba15 : PUSH 0xb3a74b
0083ba1a : MOV EAX,FS:[0x0]
0083ba20 : PUSH EAX
0083ba21 : SUB ESP,0x18
0083ba24 : PUSH EBX
0083ba25 : PUSH EDI
0083ba26 : MOV EAX,[0x00d66fa0]
0083ba2b : XOR EAX,EBP
0083ba2d : PUSH EAX
0083ba2e : LEA EAX,[EBP + -0xc]
0083ba31 : MOV FS:[0x0],EAX
0083ba37 : LEA ECX,[EBP + -0x24]
0083ba3a : LEA EAX,[ESI + 0x4]
0083ba3d : XOR EBX,EBX
0083ba3f : PUSH ECX
0083ba40 : MOV dword ptr [EBP + -0x18],EBX
0083ba43 : MOV dword ptr [EBP + -0x24],EAX
0083ba46 : MOV dword ptr [EBP + -0x20],0xc39b28
0083ba4d : MOV dword ptr [EBP + -0x1c],0x106
0083ba54 : MOV dword ptr [EBP + -0x14],0x1
0083ba5b : CALL 0x006ef1a0
0083ba60 : MOV dword ptr [EBP + -0x4],EBX
0083ba63 : MOV ECX,dword ptr [ESI + 0xc0]
0083ba69 : MOV EDI,dword ptr [ESI + 0xbc]
0083ba6f : CMP EDI,ECX
0083ba71 : JZ 0x0083baa2
0083ba73 : MOV EAX,ECX
0083ba75 : SUB EAX,ECX
0083ba77 : SAR EAX,0x2
0083ba7a : LEA EDX,[EAX*0x4 + 0x0]
0083ba81 : LEA EBX,[EDX + EDI*0x1]
0083ba84 : MOV dword ptr [EBP + -0x10],EBX
0083ba87 : XOR EBX,EBX
0083ba89 : CMP EAX,EBX
0083ba8b : JLE 0x0083ba99
0083ba8d : PUSH EDX
0083ba8e : PUSH ECX
0083ba8f : PUSH EDX
0083ba90 : PUSH EDI
0083ba91 : CALL 0x00634101
0083ba96 : ADD ESP,0x10
0083ba99 : MOV EDX,dword ptr [EBP + -0x10]
0083ba9c : MOV dword ptr [ESI + 0xc0],EDX
0083baa2 : MOV EDI,dword ptr [ESI + 0x40]
0083baa5 : CMP EDI,EBX
0083baa7 : JZ 0x0083baae
0083baa9 : CALL 0x00a6cde0
0083baae : MOV ECX,dword ptr [ESI + 0x34]
0083bab1 : CMP ECX,EBX
0083bab3 : JZ 0x0083bac3
0083bab5 : MOV EAX,dword ptr [ECX]
0083bab7 : MOV EAX,dword ptr [EAX + 0x2c]
0083baba : LEA EDX,[ESI + 0x44]
0083babd : PUSH EDX
0083babe : CALL EAX
0083bac0 : MOV dword ptr [ESI + 0x34],EBX
0083bac3 : MOV dword ptr [ESI + 0x1c],EBX
0083bac6 : MOV dword ptr [ESI + 0x30],EBX
0083bac9 : MOV dword ptr [ESI + 0x9c],EBX
0083bacf : MOV dword ptr [ESI + 0x3c],EBX
0083bad2 : MOV dword ptr [EBP + -0x4],0xffffffff
0083bad9 : CMP dword ptr [EBP + -0x18],EBX
0083badc : JZ 0x0083baeb
0083bade : MOV ECX,dword ptr [EBP + -0x24]
0083bae1 : PUSH ECX
0083bae2 : CALL dword ptr [0x00b8511c]
0083bae8 : MOV dword ptr [EBP + -0x18],EBX
0083baeb : MOV ECX,dword ptr [EBP + -0xc]
0083baee : MOV dword ptr FS:[0x0],ECX
0083baf5 : POP ECX
0083baf6 : POP EDI
0083baf7 : POP EBX
0083baf8 : MOV ESP,EBP
0083bafa : POP EBP
0083bafb : RET
