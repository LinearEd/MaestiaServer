PROGRAM  : Maestia.exe
FUNCTION : FUN_00437730
ENTRY    : 00437730
BODY     : [[00437730, 004379dd]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00437850) */
/* WARNING: Removing unreachable block (ram,0x00437860) */
/* WARNING: Removing unreachable block (ram,0x00437869) */
/* WARNING: Removing unreachable block (ram,0x0043786c) */
/* WARNING: Removing unreachable block (ram,0x0043785c) */
/* WARNING: Removing unreachable block (ram,0x00437879) */
/* WARNING: Removing unreachable block (ram,0x00437889) */
/* WARNING: Removing unreachable block (ram,0x00437894) */
/* WARNING: Removing unreachable block (ram,0x00437890) */
/* WARNING: Removing unreachable block (ram,0x00437884) */
/* WARNING: Removing unreachable block (ram,0x00437897) */
/* WARNING: Removing unreachable block (ram,0x004378a7) */
/* WARNING: Removing unreachable block (ram,0x004378af) */

void FUN_00437730(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7b605;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x2d) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_00430160(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x2d) == '\0') {
    if (*(char *)(param_3[2] + 0x2d) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x2d) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x2d) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x2d);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x2d);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int *)(param_1 + 4);
  if (*(int **)(local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x2d) == '\0') {
      uVar4 = FUN_00439bf0();
      *(undefined4 *)(local_1c + 8) = uVar4;
    }
    else {
      *(int **)(local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[0xb] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0xb] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0xb] == '\0') {
            *(undefined1 *)(piVar6 + 0xb) = 1;
            *(undefined1 *)(piVar5 + 0xb) = 0;
            FUN_004021f0(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x2d) == '\0') {
            if ((*(char *)(*piVar6 + 0x2c) != '\x01') || (*(char *)(piVar6[2] + 0x2c) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x2c) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x2c) = 1;
                *(undefined1 *)(piVar6 + 0xb) = 0;
                FUN_00422be0(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0xb) = (char)piVar5[0xb];
              *(undefined1 *)(piVar5 + 0xb) = 1;
              *(undefined1 *)(piVar6[2] + 0x2c) = 1;
              FUN_004021f0(param_1);
              break;
            }
LAB_00437977:
            *(undefined1 *)(piVar6 + 0xb) = 0;
          }
        }
        else {
          if ((char)piVar6[0xb] == '\0') {
            *(undefined1 *)(piVar6 + 0xb) = 1;
            *(undefined1 *)(piVar5 + 0xb) = 0;
            FUN_00422be0(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x2d) == '\0') {
            if ((*(char *)(piVar6[2] + 0x2c) == '\x01') && (*(char *)(*piVar6 + 0x2c) == '\x01'))
            goto LAB_00437977;
            if (*(char *)(*piVar6 + 0x2c) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x2c) = 1;
              *(undefined1 *)(piVar6 + 0xb) = 0;
              FUN_004021f0(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0xb) = (char)piVar5[0xb];
            *(undefined1 *)(piVar5 + 0xb) = 1;
            *(undefined1 *)(*piVar6 + 0x2c) = 1;
            FUN_00422be0(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 0xb) = 1;
  }
  local_8 = 0xffffffff;
  FUN_00434f80(local_18 + 3);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00437730 : PUSH EBP
00437731 : MOV EBP,ESP
00437733 : PUSH -0x1
00437735 : PUSH 0xb7b605
0043773a : MOV EAX,FS:[0x0]
00437740 : PUSH EAX
00437741 : SUB ESP,0x50
00437744 : PUSH EBX
00437745 : PUSH ESI
00437746 : PUSH EDI
00437747 : MOV EAX,[0x00d66fa0]
0043774c : XOR EAX,EBP
0043774e : PUSH EAX
0043774f : LEA EAX,[EBP + -0xc]
00437752 : MOV FS:[0x0],EAX
00437758 : MOV EAX,dword ptr [EBP + 0x10]
0043775b : CMP byte ptr [EAX + 0x2d],0x0
0043775f : JZ 0x0043779d
00437761 : PUSH 0x1b
00437763 : XOR ESI,ESI
00437765 : PUSH 0xcca4a8
0043776a : LEA ECX,[EBP + -0x34]
0043776d : MOV dword ptr [EBP + -0x1c],0xf
00437774 : MOV dword ptr [EBP + -0x20],ESI
00437777 : MOV byte ptr [EBP + -0x30],0x0
0043777b : CALL 0x00404b50
00437780 : MOV dword ptr [EBP + -0x4],ESI
00437783 : LEA EAX,[EBP + -0x34]
00437786 : PUSH EAX
00437787 : LEA ECX,[EBP + -0x5c]
0043778a : CALL 0x00403c10
0043778f : PUSH 0xced890
00437794 : LEA ECX,[EBP + -0x5c]
00437797 : PUSH ECX
00437798 : CALL 0x006409eb
0043779d : MOV EBX,EAX
0043779f : LEA EDX,[EBP + 0x10]
004377a2 : MOV dword ptr [EBP + -0x14],EBX
004377a5 : CALL 0x00430160
004377aa : MOV ECX,dword ptr [EBX]
004377ac : CMP byte ptr [ECX + 0x2d],0x0
004377b0 : JZ 0x004377b7
004377b2 : MOV EDI,dword ptr [EBX + 0x8]
004377b5 : JMP 0x004377d1
004377b7 : MOV EDX,dword ptr [EBX + 0x8]
004377ba : CMP byte ptr [EDX + 0x2d],0x0
004377be : JZ 0x004377c4
004377c0 : MOV EDI,ECX
004377c2 : JMP 0x004377d1
004377c4 : MOV EAX,dword ptr [EBP + 0x10]
004377c7 : MOV EDI,dword ptr [EAX + 0x8]
004377ca : LEA EDX,[EAX + 0x8]
004377cd : CMP EAX,EBX
004377cf : JNZ 0x00437850
004377d1 : CMP byte ptr [EDI + 0x2d],0x0
004377d5 : MOV ESI,dword ptr [EBX + 0x4]
004377d8 : JNZ 0x004377dd
004377da : MOV dword ptr [EDI + 0x4],ESI
004377dd : MOV EDX,dword ptr [EBP + 0x8]
004377e0 : MOV EAX,dword ptr [EDX + 0x4]
004377e3 : CMP dword ptr [EAX + 0x4],EBX
004377e6 : JNZ 0x004377ed
004377e8 : MOV dword ptr [EAX + 0x4],EDI
004377eb : JMP 0x004377f8
004377ed : CMP dword ptr [ESI],EBX
004377ef : JNZ 0x004377f5
004377f1 : MOV dword ptr [ESI],EDI
004377f3 : JMP 0x004377f8
004377f5 : MOV dword ptr [ESI + 0x8],EDI
004377f8 : MOV EAX,dword ptr [EDX + 0x4]
004377fb : CMP dword ptr [EAX],EBX
004377fd : JNZ 0x00437822
004377ff : CMP byte ptr [EDI + 0x2d],0x0
00437803 : JZ 0x00437809
00437805 : MOV ECX,ESI
00437807 : JMP 0x0043781d
00437809 : MOV EAX,dword ptr [EDI]
0043780b : CMP byte ptr [EAX + 0x2d],0x0
0043780f : MOV ECX,EDI
00437811 : JNZ 0x0043781d
00437813 : MOV ECX,EAX
00437815 : MOV EAX,dword ptr [ECX]
00437817 : CMP byte ptr [EAX + 0x2d],0x0
0043781b : JZ 0x00437813
0043781d : MOV EAX,dword ptr [EDX + 0x4]
00437820 : MOV dword ptr [EAX],ECX
00437822 : MOV ECX,dword ptr [EDX + 0x4]
00437825 : MOV dword ptr [EBP + -0x18],ECX
00437828 : CMP dword ptr [ECX + 0x8],EBX
0043782b : JNZ 0x004378b2
00437831 : CMP byte ptr [EDI + 0x2d],0x0
00437835 : JZ 0x0043783e
00437837 : MOV EAX,ESI
00437839 : MOV dword ptr [ECX + 0x8],EAX
0043783c : JMP 0x004378b2
0043783e : MOV EAX,EDI
00437840 : CALL 0x00439bf0
00437845 : MOV ECX,dword ptr [EBP + -0x18]
00437848 : MOV EDX,dword ptr [EBP + 0x8]
0043784b : MOV dword ptr [ECX + 0x8],EAX
0043784e : JMP 0x004378b2
00437850 : MOV dword ptr [ECX + 0x4],EAX
00437853 : MOV ECX,dword ptr [EBX]
00437855 : MOV dword ptr [EAX],ECX
00437857 : CMP EAX,dword ptr [EBX + 0x8]
0043785a : JNZ 0x00437860
0043785c : MOV ESI,EAX
0043785e : JMP 0x00437879
00437860 : CMP byte ptr [EDI + 0x2d],0x0
00437864 : MOV ESI,dword ptr [EAX + 0x4]
00437867 : JNZ 0x0043786c
00437869 : MOV dword ptr [EDI + 0x4],ESI
0043786c : MOV dword ptr [ESI],EDI
0043786e : MOV ECX,dword ptr [EBX + 0x8]
00437871 : MOV dword ptr [EDX],ECX
00437873 : MOV EDX,dword ptr [EBX + 0x8]
00437876 : MOV dword ptr [EDX + 0x4],EAX
00437879 : MOV ECX,dword ptr [EBP + 0x8]
0043787c : MOV ECX,dword ptr [ECX + 0x4]
0043787f : CMP dword ptr [ECX + 0x4],EBX
00437882 : JNZ 0x00437889
00437884 : MOV dword ptr [ECX + 0x4],EAX
00437887 : JMP 0x00437897
00437889 : MOV ECX,dword ptr [EBX + 0x4]
0043788c : CMP dword ptr [ECX],EBX
0043788e : JNZ 0x00437894
00437890 : MOV dword ptr [ECX],EAX
00437892 : JMP 0x00437897
00437894 : MOV dword ptr [ECX + 0x8],EAX
00437897 : MOV EDX,dword ptr [EBX + 0x4]
0043789a : MOV dword ptr [EAX + 0x4],EDX
0043789d : LEA ECX,[EBX + 0x2c]
004378a0 : ADD EAX,0x2c
004378a3 : CMP EAX,ECX
004378a5 : JZ 0x004378af
004378a7 : MOV BL,byte ptr [ECX]
004378a9 : MOV DL,byte ptr [EAX]
004378ab : MOV byte ptr [EAX],BL
004378ad : MOV byte ptr [ECX],DL
004378af : MOV EDX,dword ptr [EBP + 0x8]
004378b2 : MOV EAX,dword ptr [EBP + -0x14]
004378b5 : MOV BL,0x1
004378b7 : CMP byte ptr [EAX + 0x2c],BL
004378ba : JNZ 0x004379c3
004378c0 : MOV ECX,dword ptr [EDX + 0x4]
004378c3 : CMP EDI,dword ptr [ECX + 0x4]
004378c6 : JZ 0x004379c0
004378cc : LEA ESP,[ESP]
004378d0 : CMP byte ptr [EDI + 0x2c],BL
004378d3 : JNZ 0x004379c0
004378d9 : MOV ECX,dword ptr [ESI]
004378db : CMP EDI,ECX
004378dd : JNZ 0x00437948
004378df : MOV ECX,dword ptr [ESI + 0x8]
004378e2 : CMP byte ptr [ECX + 0x2c],0x0
004378e6 : JNZ 0x004378fd
004378e8 : MOV byte ptr [ECX + 0x2c],BL
004378eb : PUSH EDX
004378ec : MOV ECX,ESI
004378ee : MOV byte ptr [ESI + 0x2c],0x0
004378f2 : CALL 0x004021f0
004378f7 : MOV ECX,dword ptr [ESI + 0x8]
004378fa : MOV EDX,dword ptr [EBP + 0x8]
004378fd : CMP byte ptr [ECX + 0x2d],0x0
00437901 : JNZ 0x0043797b
00437903 : MOV EAX,dword ptr [ECX]
00437905 : CMP byte ptr [EAX + 0x2c],BL
00437908 : JNZ 0x00437912
0043790a : MOV EAX,dword ptr [ECX + 0x8]
0043790d : CMP byte ptr [EAX + 0x2c],BL
00437910 : JZ 0x00437977
00437912 : MOV EAX,dword ptr [ECX + 0x8]
00437915 : CMP byte ptr [EAX + 0x2c],BL
00437918 : JNZ 0x0043792f
0043791a : MOV EAX,dword ptr [ECX]
0043791c : MOV byte ptr [EAX + 0x2c],BL
0043791f : PUSH EDX
00437920 : MOV byte ptr [ECX + 0x2c],0x0
00437924 : CALL 0x00422be0
00437929 : MOV ECX,dword ptr [ESI + 0x8]
0043792c : MOV EDX,dword ptr [EBP + 0x8]
0043792f : MOV AL,byte ptr [ESI + 0x2c]
00437932 : MOV byte ptr [ECX + 0x2c],AL
00437935 : MOV byte ptr [ESI + 0x2c],BL
00437938 : MOV ECX,dword ptr [ECX + 0x8]
0043793b : MOV byte ptr [ECX + 0x2c],BL
0043793e : PUSH EDX
0043793f : MOV ECX,ESI
00437941 : CALL 0x004021f0
00437946 : JMP 0x004379c0
00437948 : CMP byte ptr [ECX + 0x2c],0x0
0043794c : JNZ 0x00437962
0043794e : MOV byte ptr [ECX + 0x2c],BL
00437951 : PUSH EDX
00437952 : MOV ECX,ESI
00437954 : MOV byte ptr [ESI + 0x2c],0x0
00437958 : CALL 0x00422be0
0043795d : MOV ECX,dword ptr [ESI]
0043795f : MOV EDX,dword ptr [EBP + 0x8]
00437962 : CMP byte ptr [ECX + 0x2d],0x0
00437966 : JNZ 0x0043797b
00437968 : MOV EAX,dword ptr [ECX + 0x8]
0043796b : CMP byte ptr [EAX + 0x2c],BL
0043796e : JNZ 0x0043798e
00437970 : MOV EAX,dword ptr [ECX]
00437972 : CMP byte ptr [EAX + 0x2c],BL
00437975 : JNZ 0x0043798e
00437977 : MOV byte ptr [ECX + 0x2c],0x0
0043797b : MOV ECX,dword ptr [EDX + 0x4]
0043797e : MOV EDI,ESI
00437980 : MOV ESI,dword ptr [ESI + 0x4]
00437983 : CMP EDI,dword ptr [ECX + 0x4]
00437986 : JNZ 0x004378d0
0043798c : JMP 0x004379c0
0043798e : MOV EAX,dword ptr [ECX]
00437990 : CMP byte ptr [EAX + 0x2c],BL
00437993 : JNZ 0x004379aa
00437995 : MOV EAX,dword ptr [ECX + 0x8]
00437998 : MOV byte ptr [EAX + 0x2c],BL
0043799b : PUSH EDX
0043799c : MOV byte ptr [ECX + 0x2c],0x0
004379a0 : CALL 0x004021f0
004379a5 : MOV ECX,dword ptr [ESI]
004379a7 : MOV EDX,dword ptr [EBP + 0x8]
004379aa : MOV AL,byte ptr [ESI + 0x2c]
004379ad : MOV byte ptr [ECX + 0x2c],AL
004379b0 : MOV byte ptr [ESI + 0x2c],BL
004379b3 : MOV ECX,dword ptr [ECX]
004379b5 : MOV byte ptr [ECX + 0x2c],BL
004379b8 : PUSH EDX
004379b9 : MOV ECX,ESI
004379bb : CALL 0x00422be0
004379c0 : MOV byte ptr [EDI + 0x2c],BL
004379c3 : MOV dword ptr [EBP + -0x4],0xffffffff
004379ca : MOV EDX,dword ptr [EBP + -0x14]
004379cd : ADD EDX,0xc
004379d0 : PUSH EDX
004379d1 : CALL 0x00434f80
004379d6 : MOV ECX,dword ptr [EBP + -0x14]
004379d9 : CALL 0x006f04e0
