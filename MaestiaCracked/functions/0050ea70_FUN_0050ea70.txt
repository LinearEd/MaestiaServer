PROGRAM  : Maestia.exe
FUNCTION : FUN_0050ea70
ENTRY    : 0050ea70
BODY     : [[0050ea70, 0050eaea]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0050ea70(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0x50);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 2;
  iVar1 = FUN_00515840(uVar2 * 0x50,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
0050ea70 : MOV EAX,dword ptr [ESP + 0x8]
0050ea74 : PUSH EDI
0050ea75 : MOV EDI,ECX
0050ea77 : TEST EAX,EAX
0050ea79 : JNZ 0x0050ea98
0050ea7b : MOV EAX,dword ptr [EDI]
0050ea7d : TEST EAX,EAX
0050ea7f : JZ 0x0050ea8d
0050ea81 : PUSH EAX
0050ea82 : CALL 0x00515cf0
0050ea87 : MOV dword ptr [EDI],0x0
0050ea8d : MOV dword ptr [EDI + 0x8],0x0
0050ea94 : POP EDI
0050ea95 : RET 0x8
0050ea98 : PUSH ESI
0050ea99 : LEA ESI,[EAX + 0x3]
0050ea9c : MOV EAX,dword ptr [EDI]
0050ea9e : SHR ESI,0x2
0050eaa1 : ADD ESI,ESI
0050eaa3 : ADD ESI,ESI
0050eaa5 : TEST EAX,EAX
0050eaa7 : JZ 0x0050eac1
0050eaa9 : LEA ECX,[ESI + ESI*0x4]
0050eaac : ADD ECX,ECX
0050eaae : ADD ECX,ECX
0050eab0 : PUSH ECX
0050eab1 : PUSH EAX
0050eab2 : CALL 0x00515c80
0050eab7 : MOV dword ptr [EDI + 0x8],ESI
0050eaba : POP ESI
0050eabb : MOV dword ptr [EDI],EAX
0050eabd : POP EDI
0050eabe : RET 0x8
0050eac1 : MOV ECX,dword ptr [0x00d73250]
0050eac7 : LEA EAX,[ESI + ESI*0x4]
0050eaca : LEA EDX,[ESP + 0x10]
0050eace : ADD EAX,EAX
0050ead0 : PUSH EDX
0050ead1 : ADD EAX,EAX
0050ead3 : PUSH EAX
0050ead4 : MOV dword ptr [ESP + 0x18],0x2
0050eadc : CALL 0x00515840
0050eae1 : MOV dword ptr [EDI + 0x8],ESI
0050eae4 : POP ESI
0050eae5 : MOV dword ptr [EDI],EAX
0050eae7 : POP EDI
0050eae8 : RET 0x8
