PROGRAM  : Maestia.exe
FUNCTION : FUN_007c08d0
ENTRY    : 007c08d0
BODY     : [[007c08d0, 007c09f2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007c08d0(int param_1,undefined1 *param_2)

{
  uint in_EAX;
  int iVar1;
  int *piVar2;
  uint in_ECX;
  uint unaff_EBX;
  uint uStack_44;
  undefined1 *puStack_40;
  undefined4 uStack_3c;
  ulonglong uStack_30;
  undefined1 auStack_2c [4];
  uint local_28;
  
  if ((in_EAX < 0x7fff) && (in_ECX < 0x7fff)) {
    local_28 = in_EAX << 0x10 | in_ECX;
    piVar2 = *(int **)(DAT_017251ac + 0x18);
    uStack_30 = (ulonglong)unaff_EBX;
    if ((piVar2 != (int *)0x0) && (param_2 != (undefined1 *)0x0)) {
      uStack_44 = (uint)(*(int *)(DAT_017251ac + 0x20) == 0);
      uStack_3c = 0;
      puStack_40 = auStack_2c;
      iVar1 = (**(code **)(*piVar2 + 0x6c))
                        (piVar2,param_2,-(uint)(*(int *)(DAT_017251ac + 0x20) != 0) & 0x200 | 8);
      if (iVar1 < 0) {
        FUN_008018d0(L"ERROR - terrain ib Create Error");
        return;
      }
      piVar2 = (int *)FUN_00407330(&uStack_44);
      iVar1 = *piVar2;
      if (iVar1 != *(int *)(param_1 + 0x134)) {
        piVar2 = *(int **)(iVar1 + 0x18);
        if (piVar2 != (int *)0x0) {
          (**(code **)(*piVar2 + 8))(piVar2);
        }
        *(undefined4 *)(iVar1 + 0x18) = 0x65;
        *(undefined1 *)(iVar1 + 0x14) = 1;
        return;
      }
      local_28 = 0x65;
      puStack_40 = param_2;
      uStack_3c = CONCAT31(uStack_3c._1_3_,1);
      uStack_30 = CONCAT44(uStack_3c,param_2);
      FUN_004c4f60(&puStack_40,&stack0xffffffcc);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007c08d0 : PUSH EBP
007c08d1 : MOV EBP,ESP
007c08d3 : AND ESP,0xfffffff8
007c08d6 : SUB ESP,0x24
007c08d9 : PUSH EBX
007c08da : MOV EBX,dword ptr [EBP + 0xc]
007c08dd : PUSH ESI
007c08de : PUSH EDI
007c08df : CMP EAX,0x7fff
007c08e4 : JNC 0x007c09ea
007c08ea : CMP ECX,0x7fff
007c08f0 : JNC 0x007c09ea
007c08f6 : SHL EAX,0x10
007c08f9 : OR EAX,ECX
007c08fb : MOV dword ptr [ESP + 0x10],EAX
007c08ff : MOV EAX,[0x017251ac]
007c0904 : MOV ECX,dword ptr [EAX + 0x18]
007c0907 : MOV dword ptr [ESP + 0xc],0x0
007c090f : TEST ECX,ECX
007c0911 : JZ 0x007c09ea
007c0917 : TEST EBX,EBX
007c0919 : JBE 0x007c09ea
007c091f : MOV EAX,dword ptr [EAX + 0x20]
007c0922 : MOV EDX,dword ptr [ECX]
007c0924 : XOR EDX,EDX
007c0926 : TEST EAX,EAX
007c0928 : SETZ DL
007c092b : PUSH 0x0
007c092d : NEG EAX
007c092f : SBB EAX,EAX
007c0931 : LEA ESI,[ESP + 0x10]
007c0935 : PUSH ESI
007c0936 : AND EAX,0x200
007c093b : PUSH EDX
007c093c : MOV EDX,dword ptr [ECX]
007c093e : PUSH 0x65
007c0940 : OR EAX,0x8
007c0943 : PUSH EAX
007c0944 : MOV EAX,dword ptr [EDX + 0x6c]
007c0947 : PUSH EBX
007c0948 : PUSH ECX
007c0949 : CALL EAX
007c094b : TEST EAX,EAX
007c094d : JGE 0x007c096b
007c094f : MOV ESI,dword ptr [0x00da98e8]
007c0955 : PUSH 0xc1b530
007c095a : CALL 0x008018d0
007c095f : ADD ESP,0x4
007c0962 : POP EDI
007c0963 : POP ESI
007c0964 : POP EBX
007c0965 : MOV ESP,EBP
007c0967 : POP EBP
007c0968 : RET 0x8
007c096b : MOV EDI,dword ptr [EBP + 0x8]
007c096e : LEA ECX,[ESP + 0x10]
007c0972 : ADD EDI,0x130
007c0978 : PUSH ECX
007c0979 : LEA EAX,[ESP + 0x18]
007c097d : MOV ECX,EDI
007c097f : CALL 0x00407330
007c0984 : MOV ESI,dword ptr [EAX]
007c0986 : MOV EDX,dword ptr [EBP + 0x8]
007c0989 : CMP ESI,dword ptr [EDX + 0x134]
007c098f : JZ 0x007c09b4
007c0991 : MOV EAX,dword ptr [ESI + 0x18]
007c0994 : TEST EAX,EAX
007c0996 : JZ 0x007c09a0
007c0998 : MOV ECX,dword ptr [EAX]
007c099a : MOV EDX,dword ptr [ECX + 0x8]
007c099d : PUSH EAX
007c099e : CALL EDX
007c09a0 : MOV EAX,dword ptr [ESP + 0xc]
007c09a4 : MOV dword ptr [ESI + 0x18],EAX
007c09a7 : MOV byte ptr [ESI + 0x14],0x1
007c09ab : POP EDI
007c09ac : POP ESI
007c09ad : POP EBX
007c09ae : MOV ESP,EBP
007c09b0 : POP EBP
007c09b1 : RET 0x8
007c09b4 : MOV EAX,dword ptr [ESP + 0xc]
007c09b8 : MOV ECX,dword ptr [ESP + 0x10]
007c09bc : MOV dword ptr [ESP + 0x2c],EAX
007c09c0 : LEA EDX,[ESP + 0x20]
007c09c4 : PUSH EDX
007c09c5 : LEA EAX,[ESP + 0x18]
007c09c9 : MOV dword ptr [ESP + 0x18],EBX
007c09cd : MOV byte ptr [ESP + 0x1c],0x1
007c09d2 : MOVQ XMM0,qword ptr [ESP + 0x18]
007c09d8 : PUSH EAX
007c09d9 : MOV EAX,EDI
007c09db : MOV dword ptr [ESP + 0x28],ECX
007c09df : MOVQ qword ptr [ESP + 0x2c],XMM0
007c09e5 : CALL 0x004c4f60
007c09ea : POP EDI
007c09eb : POP ESI
007c09ec : POP EBX
007c09ed : MOV ESP,EBP
007c09ef : POP EBP
007c09f0 : RET 0x8
