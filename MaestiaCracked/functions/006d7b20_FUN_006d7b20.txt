PROGRAM  : Maestia.exe
FUNCTION : FUN_006d7b20
ENTRY    : 006d7b20
BODY     : [[006d7b20, 006d7c30]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006d7b20(int *param_1)

{
  int iVar1;
  undefined4 *puVar2;
  char cVar3;
  code *pcVar4;
  uint uVar5;
  
  iVar1 = param_1[5];
  if ((iVar1 == 0x65) || (iVar1 == 0x66)) {
    if ((uint)param_1[0x34] < (uint)param_1[8]) {
      *(undefined4 *)(*param_1 + 0x14) = 0x43;
      (**(code **)*param_1)(param_1);
    }
    pcVar4 = *(code **)(param_1[0x4f] + 8);
  }
  else {
    if (iVar1 == 0x67) goto LAB_006d7b7b;
    *(undefined4 *)(*param_1 + 0x14) = 0x14;
    *(int *)(*param_1 + 0x18) = param_1[5];
    pcVar4 = *(code **)*param_1;
  }
  (*pcVar4)(param_1);
LAB_006d7b7b:
  puVar2 = (undefined4 *)param_1[0x4f];
  cVar3 = *(char *)((int)puVar2 + 0xd);
  while (cVar3 == '\0') {
    (*(code *)*puVar2)(param_1);
    uVar5 = 0;
    if (param_1[0x38] != 0) {
      do {
        if (param_1[2] != 0) {
          *(uint *)(param_1[2] + 4) = uVar5;
          *(int *)(param_1[2] + 8) = param_1[0x38];
          (**(code **)param_1[2])(param_1);
        }
        cVar3 = (**(code **)(param_1[0x52] + 4))(param_1,0);
        if (cVar3 == '\0') {
          *(undefined4 *)(*param_1 + 0x14) = 0x18;
          (**(code **)*param_1)(param_1);
        }
        uVar5 = uVar5 + 1;
      } while (uVar5 < (uint)param_1[0x38]);
    }
    (**(code **)(param_1[0x4f] + 8))(param_1);
    puVar2 = (undefined4 *)param_1[0x4f];
    cVar3 = *(char *)((int)puVar2 + 0xd);
  }
  (**(code **)(param_1[0x53] + 0xc))(param_1);
  (**(code **)(param_1[6] + 0x10))(param_1);
  FUN_006d94d0(param_1);
  return;
}



============================================================
DISASSEMBLY
============================================================
006d7b20 : PUSH ESI
006d7b21 : MOV ESI,dword ptr [ESP + 0x8]
006d7b25 : MOV EAX,dword ptr [ESI + 0x14]
006d7b28 : CMP EAX,0x65
006d7b2b : JZ 0x006d7b4e
006d7b2d : CMP EAX,0x66
006d7b30 : JZ 0x006d7b4e
006d7b32 : CMP EAX,0x67
006d7b35 : JZ 0x006d7b7b
006d7b37 : MOV EAX,dword ptr [ESI]
006d7b39 : MOV dword ptr [EAX + 0x14],0x14
006d7b40 : MOV ECX,dword ptr [ESI]
006d7b42 : MOV EDX,dword ptr [ESI + 0x14]
006d7b45 : MOV dword ptr [ECX + 0x18],EDX
006d7b48 : MOV EAX,dword ptr [ESI]
006d7b4a : MOV ECX,dword ptr [EAX]
006d7b4c : JMP 0x006d7b75
006d7b4e : MOV EDX,dword ptr [ESI + 0xd0]
006d7b54 : CMP EDX,dword ptr [ESI + 0x20]
006d7b57 : JNC 0x006d7b6c
006d7b59 : MOV EAX,dword ptr [ESI]
006d7b5b : MOV dword ptr [EAX + 0x14],0x43
006d7b62 : MOV ECX,dword ptr [ESI]
006d7b64 : MOV EDX,dword ptr [ECX]
006d7b66 : PUSH ESI
006d7b67 : CALL EDX
006d7b69 : ADD ESP,0x4
006d7b6c : MOV EAX,dword ptr [ESI + 0x13c]
006d7b72 : MOV ECX,dword ptr [EAX + 0x8]
006d7b75 : PUSH ESI
006d7b76 : CALL ECX
006d7b78 : ADD ESP,0x4
006d7b7b : MOV EAX,dword ptr [ESI + 0x13c]
006d7b81 : CMP byte ptr [EAX + 0xd],0x0
006d7b85 : JNZ 0x006d7c11
006d7b8b : PUSH EBX
006d7b8c : PUSH EDI
006d7b8d : MOV EBX,0x18
006d7b92 : MOV EDX,dword ptr [EAX]
006d7b94 : PUSH ESI
006d7b95 : CALL EDX
006d7b97 : XOR EDI,EDI
006d7b99 : ADD ESP,0x4
006d7b9c : CMP dword ptr [ESI + 0xe0],EDI
006d7ba2 : JBE 0x006d7bf4
006d7ba4 : CMP dword ptr [ESI + 0x8],0x0
006d7ba8 : JZ 0x006d7bc7
006d7baa : MOV EAX,dword ptr [ESI + 0x8]
006d7bad : MOV dword ptr [EAX + 0x4],EDI
006d7bb0 : MOV ECX,dword ptr [ESI + 0x8]
006d7bb3 : MOV EDX,dword ptr [ESI + 0xe0]
006d7bb9 : MOV dword ptr [ECX + 0x8],EDX
006d7bbc : MOV EAX,dword ptr [ESI + 0x8]
006d7bbf : MOV ECX,dword ptr [EAX]
006d7bc1 : PUSH ESI
006d7bc2 : CALL ECX
006d7bc4 : ADD ESP,0x4
006d7bc7 : MOV EDX,dword ptr [ESI + 0x148]
006d7bcd : MOV EAX,dword ptr [EDX + 0x4]
006d7bd0 : PUSH 0x0
006d7bd2 : PUSH ESI
006d7bd3 : CALL EAX
006d7bd5 : ADD ESP,0x8
006d7bd8 : TEST AL,AL
006d7bda : JNZ 0x006d7beb
006d7bdc : MOV ECX,dword ptr [ESI]
006d7bde : MOV dword ptr [ECX + 0x14],EBX
006d7be1 : MOV EDX,dword ptr [ESI]
006d7be3 : MOV EAX,dword ptr [EDX]
006d7be5 : PUSH ESI
006d7be6 : CALL EAX
006d7be8 : ADD ESP,0x4
006d7beb : INC EDI
006d7bec : CMP EDI,dword ptr [ESI + 0xe0]
006d7bf2 : JC 0x006d7ba4
006d7bf4 : MOV ECX,dword ptr [ESI + 0x13c]
006d7bfa : MOV EDX,dword ptr [ECX + 0x8]
006d7bfd : PUSH ESI
006d7bfe : CALL EDX
006d7c00 : MOV EAX,dword ptr [ESI + 0x13c]
006d7c06 : ADD ESP,0x4
006d7c09 : CMP byte ptr [EAX + 0xd],0x0
006d7c0d : JZ 0x006d7b92
006d7c0f : POP EDI
006d7c10 : POP EBX
006d7c11 : MOV EAX,dword ptr [ESI + 0x14c]
006d7c17 : MOV ECX,dword ptr [EAX + 0xc]
006d7c1a : PUSH ESI
006d7c1b : CALL ECX
006d7c1d : MOV EDX,dword ptr [ESI + 0x18]
006d7c20 : MOV EAX,dword ptr [EDX + 0x10]
006d7c23 : PUSH ESI
006d7c24 : CALL EAX
006d7c26 : PUSH ESI
006d7c27 : CALL 0x006d94d0
006d7c2c : ADD ESP,0xc
006d7c2f : POP ESI
006d7c30 : RET
