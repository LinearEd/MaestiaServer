PROGRAM  : Maestia.exe
FUNCTION : FUN_005157f0
ENTRY    : 005157f0
BODY     : [[005157f0, 00515836]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005157f0(uint param_1)

{
  uint uVar1;
  undefined4 uVar2;
  int in_ECX;
  
  EnterCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0x48));
  if (param_1 < *(uint *)(in_ECX + 0x2c)) {
    uVar1 = FUN_005a8890();
    if (param_1 < uVar1) {
      param_1 = FUN_005a8890();
    }
  }
  uVar2 = FUN_005a9970(param_1);
  *(undefined4 *)(in_ECX + 0x2c) = uVar2;
  LeaveCriticalSection((LPCRITICAL_SECTION)(in_ECX + 0x48));
  return;
}



============================================================
DISASSEMBLY
============================================================
005157f0 : PUSH EBX
005157f1 : PUSH ESI
005157f2 : MOV ESI,ECX
005157f4 : PUSH EDI
005157f5 : LEA EBX,[ESI + 0x48]
005157f8 : PUSH EBX
005157f9 : CALL dword ptr [0x00b85118]
005157ff : MOV EDI,dword ptr [ESP + 0x10]
00515803 : CMP EDI,dword ptr [ESI + 0x2c]
00515806 : JNC 0x0051581e
00515808 : MOV ECX,dword ptr [ESI + 0x64]
0051580b : CALL 0x005a8890
00515810 : CMP EDI,EAX
00515812 : JNC 0x0051581e
00515814 : MOV ECX,dword ptr [ESI + 0x64]
00515817 : CALL 0x005a8890
0051581c : MOV EDI,EAX
0051581e : MOV ECX,dword ptr [ESI + 0x64]
00515821 : PUSH EDI
00515822 : CALL 0x005a9970
00515827 : PUSH EBX
00515828 : MOV dword ptr [ESI + 0x2c],EAX
0051582b : CALL dword ptr [0x00b8511c]
00515831 : POP EDI
00515832 : POP ESI
00515833 : POP EBX
00515834 : RET 0x4
