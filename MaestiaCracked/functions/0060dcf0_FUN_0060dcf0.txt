PROGRAM  : Maestia.exe
FUNCTION : FUN_0060dcf0
ENTRY    : 0060dcf0
BODY     : [[0060dcf0, 0060de65] [0060de70, 0060df48]]

============================================================
DECOMPILED C CODE
============================================================

undefined1 FUN_0060dcf0(float *param_1,char param_2,int param_3)

{
  GRefCountNTSImpl *pGVar1;
  char cVar2;
  undefined1 uVar3;
  float *pfVar4;
  int iVar5;
  int in_ECX;
  uint uVar6;
  GRefCountNTSImpl *local_2c;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  undefined1 local_10 [16];
  
  uVar6 = 0;
  local_2c = (GRefCountNTSImpl *)0x0;
  if (((param_3 != 0) && ((*(byte *)(param_3 + 0x66) & 1) != 0)) &&
     (local_2c = (GRefCountNTSImpl *)FUN_0051d4a0(0x3f800000), local_2c != (GRefCountNTSImpl *)0x0))
  {
    FUN_005ac2c0();
  }
  local_20 = *(float *)(in_ECX + 0x14);
  local_1c = *(float *)(in_ECX + 0x18);
  local_18 = *(float *)(in_ECX + 0x1c);
  local_14 = *(float *)(in_ECX + 0x20);
  if ((*(byte *)(in_ECX + 0x34) & 0x10) == 0) {
    (**(code **)(*(int *)(in_ECX + 0x10) + 0x14))(&local_20);
  }
  if (local_2c != (GRefCountNTSImpl *)0x0) {
    pfVar4 = (float *)FUN_005acfa0(local_10,&local_20);
    local_1c = pfVar4[1];
    local_18 = pfVar4[2];
    local_14 = pfVar4[3];
    local_20 = *pfVar4;
  }
  if (((local_18 < *param_1) || (local_20 < *param_1 == (local_20 == *param_1))) ||
     ((local_14 < param_1[1] || (local_1c < param_1[1] == (local_1c == param_1[1]))))) {
    if (local_2c != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(local_2c);
    }
    return 0;
  }
  if (param_2 == '\0') {
    if (local_2c != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(local_2c);
    }
    return 1;
  }
  iVar5 = FUN_00515840(0x50,0);
  if (iVar5 == 0) {
    _param_2 = (GRefCountNTSImpl *)0x0;
  }
  else {
    _param_2 = (GRefCountNTSImpl *)FUN_0060dc60();
  }
  pGVar1 = _param_2 + 8;
  FUN_005dcbb0(0x41200000);
  if (*(int *)(in_ECX + 200) != 0) {
    iVar5 = 0;
    do {
      if (*(char *)(*(int *)(in_ECX + 0xc4) + 0x20 + iVar5) == '\0') {
        FUN_0060c730(pGVar1);
      }
      else {
        if (local_2c != (GRefCountNTSImpl *)0x0) {
          FUN_00554a90(pGVar1,local_2c);
        }
        cVar2 = FUN_005dd240(*param_1,param_1[1],0);
        if (cVar2 != '\0') {
          if (_param_2 != (GRefCountNTSImpl *)0x0) {
            GRefCountNTSImpl::Release(_param_2);
          }
          if (local_2c != (GRefCountNTSImpl *)0x0) {
            GRefCountNTSImpl::Release(local_2c);
          }
          return 1;
        }
        FUN_005dd100();
      }
      uVar6 = uVar6 + 1;
      iVar5 = iVar5 + 0x24;
    } while (uVar6 < *(uint *)(in_ECX + 200));
  }
  if (local_2c != (GRefCountNTSImpl *)0x0) {
    FUN_00554a90(pGVar1,local_2c);
  }
  uVar3 = FUN_005dd240(*param_1,param_1[1],0);
  if (_param_2 != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(_param_2);
  }
  if (local_2c != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(local_2c);
  }
  return uVar3;
}



============================================================
DISASSEMBLY
============================================================
0060dcf0 : SUB ESP,0x2c
0060dcf3 : PUSH EBX
0060dcf4 : PUSH ESI
0060dcf5 : PUSH EDI
0060dcf6 : MOV EDI,ECX
0060dcf8 : MOV ECX,dword ptr [ESP + 0x44]
0060dcfc : XOR EBX,EBX
0060dcfe : XOR ESI,ESI
0060dd00 : MOV dword ptr [ESP + 0xc],ESI
0060dd04 : CMP ECX,EBX
0060dd06 : JZ 0x0060dd30
0060dd08 : TEST byte ptr [ECX + 0x66],0x1
0060dd0c : JZ 0x0060dd30
0060dd0e : FLD1
0060dd10 : PUSH ECX
0060dd11 : FSTP float ptr [ESP]
0060dd14 : CALL 0x0051d4a0
0060dd19 : MOV dword ptr [ESP + 0xc],EAX
0060dd1d : CMP EAX,EBX
0060dd1f : JZ 0x0060dd2e
0060dd21 : MOV ECX,EAX
0060dd23 : CALL 0x005ac2c0
0060dd28 : MOV ESI,dword ptr [ESP + 0xc]
0060dd2c : JMP 0x0060dd30
0060dd2e : MOV ESI,EAX
0060dd30 : TEST byte ptr [EDI + 0x34],0x10
0060dd34 : FLD float ptr [EDI + 0x14]
0060dd37 : FSTP float ptr [ESP + 0x18]
0060dd3b : FLD float ptr [EDI + 0x18]
0060dd3e : FSTP float ptr [ESP + 0x1c]
0060dd42 : FLD float ptr [EDI + 0x1c]
0060dd45 : FSTP float ptr [ESP + 0x20]
0060dd49 : FLD float ptr [EDI + 0x20]
0060dd4c : FSTP float ptr [ESP + 0x24]
0060dd50 : JNZ 0x0060dd62
0060dd52 : MOV EAX,dword ptr [EDI + 0x10]
0060dd55 : MOV EAX,dword ptr [EAX + 0x14]
0060dd58 : LEA ECX,[EDI + 0x10]
0060dd5b : LEA EDX,[ESP + 0x18]
0060dd5f : PUSH EDX
0060dd60 : CALL EAX
0060dd62 : CMP ESI,EBX
0060dd64 : JZ 0x0060ddaa
0060dd66 : LEA ECX,[ESP + 0x18]
0060dd6a : PUSH ECX
0060dd6b : LEA EDX,[ESP + 0x2c]
0060dd6f : PUSH EDX
0060dd70 : MOV ECX,ESI
0060dd72 : CALL 0x005acfa0
0060dd77 : FLD float ptr [EAX + 0x4]
0060dd7a : FSTP float ptr [ESP + 0x44]
0060dd7e : FLD float ptr [EAX + 0x8]
0060dd81 : FSTP float ptr [ESP + 0x10]
0060dd85 : FLD float ptr [EAX + 0xc]
0060dd88 : FSTP float ptr [ESP + 0x14]
0060dd8c : FLD float ptr [EAX]
0060dd8e : FSTP float ptr [ESP + 0x18]
0060dd92 : FLD float ptr [ESP + 0x44]
0060dd96 : FSTP float ptr [ESP + 0x1c]
0060dd9a : FLD float ptr [ESP + 0x10]
0060dd9e : FSTP float ptr [ESP + 0x20]
0060dda2 : FLD float ptr [ESP + 0x14]
0060dda6 : FSTP float ptr [ESP + 0x24]
0060ddaa : MOV ECX,dword ptr [ESP + 0x3c]
0060ddae : FLD float ptr [ECX]
0060ddb0 : FLD float ptr [ESP + 0x20]
0060ddb4 : FCOMPP
0060ddb6 : FNSTSW AX
0060ddb8 : TEST AH,0x1
0060ddbb : JNZ 0x0060ddec
0060ddbd : FLD float ptr [ECX]
0060ddbf : FLD float ptr [ESP + 0x18]
0060ddc3 : FCOMPP
0060ddc5 : FNSTSW AX
0060ddc7 : TEST AH,0x41
0060ddca : JP 0x0060ddec
0060ddcc : FLD float ptr [ECX + 0x4]
0060ddcf : FLD float ptr [ESP + 0x24]
0060ddd3 : FCOMPP
0060ddd5 : FNSTSW AX
0060ddd7 : TEST AH,0x1
0060ddda : JNZ 0x0060ddec
0060dddc : FLD float ptr [ECX + 0x4]
0060dddf : FLD float ptr [ESP + 0x1c]
0060dde3 : FCOMPP
0060dde5 : FNSTSW AX
0060dde7 : TEST AH,0x41
0060ddea : JNP 0x0060de02
0060ddec : CMP ESI,EBX
0060ddee : JZ 0x0060ddf7
0060ddf0 : MOV ECX,ESI
0060ddf2 : CALL 0x004ff7c0
0060ddf7 : POP EDI
0060ddf8 : POP ESI
0060ddf9 : XOR AL,AL
0060ddfb : POP EBX
0060ddfc : ADD ESP,0x2c
0060ddff : RET 0xc
0060de02 : CMP byte ptr [ESP + 0x40],BL
0060de06 : JNZ 0x0060de1e
0060de08 : CMP ESI,EBX
0060de0a : JZ 0x0060de13
0060de0c : MOV ECX,ESI
0060de0e : CALL 0x004ff7c0
0060de13 : POP EDI
0060de14 : POP ESI
0060de15 : MOV AL,0x1
0060de17 : POP EBX
0060de18 : ADD ESP,0x2c
0060de1b : RET 0xc
0060de1e : MOV ECX,dword ptr [0x00d73250]
0060de24 : PUSH EBP
0060de25 : PUSH EBX
0060de26 : PUSH 0x50
0060de28 : CALL 0x00515840
0060de2d : CMP EAX,EBX
0060de2f : JZ 0x0060de40
0060de31 : MOV ECX,EAX
0060de33 : CALL 0x0060dc60
0060de38 : MOV EBP,EAX
0060de3a : MOV dword ptr [ESP + 0x44],EBP
0060de3e : JMP 0x0060de46
0060de40 : MOV dword ptr [ESP + 0x44],EBX
0060de44 : MOV EBP,EBX
0060de46 : FLD float ptr [0x00b8f298]
0060de4c : PUSH ECX
0060de4d : LEA ESI,[EBP + 0x8]
0060de50 : FSTP float ptr [ESP]
0060de53 : MOV ECX,ESI
0060de55 : CALL 0x005dcbb0
0060de5a : CMP dword ptr [EDI + 0xc8],EBX
0060de60 : JBE 0x0060ded1
0060de62 : XOR EBP,EBP
0060de64 : JMP 0x0060de70
0060de70 : MOV EAX,dword ptr [EDI + 0xc4]
0060de76 : CMP byte ptr [EAX + EBP*0x1 + 0x20],0x0
0060de7b : LEA ECX,[EAX + EBP*0x1]
0060de7e : JZ 0x0060debb
0060de80 : MOV EAX,dword ptr [ESP + 0x10]
0060de84 : TEST EAX,EAX
0060de86 : JZ 0x0060de92
0060de88 : PUSH EAX
0060de89 : PUSH ESI
0060de8a : CALL 0x00554a90
0060de8f : ADD ESP,0x8
0060de92 : MOV EAX,dword ptr [ESP + 0x40]
0060de96 : FLD float ptr [EAX + 0x4]
0060de99 : PUSH 0x0
0060de9b : SUB ESP,0x8
0060de9e : FSTP float ptr [ESP + 0x4]
0060dea2 : MOV ECX,ESI
0060dea4 : FLD float ptr [EAX]
0060dea6 : FSTP float ptr [ESP]
0060dea9 : CALL 0x005dd240
0060deae : TEST AL,AL
0060deb0 : JNZ 0x0060df23
0060deb2 : MOV ECX,ESI
0060deb4 : CALL 0x005dd100
0060deb9 : JMP 0x0060dec1
0060debb : PUSH ESI
0060debc : CALL 0x0060c730
0060dec1 : INC EBX
0060dec2 : ADD EBP,0x24
0060dec5 : CMP EBX,dword ptr [EDI + 0xc8]
0060decb : JC 0x0060de70
0060decd : MOV EBP,dword ptr [ESP + 0x44]
0060ded1 : MOV EDI,dword ptr [ESP + 0x10]
0060ded5 : TEST EDI,EDI
0060ded7 : JZ 0x0060dee3
0060ded9 : PUSH EDI
0060deda : PUSH ESI
0060dedb : CALL 0x00554a90
0060dee0 : ADD ESP,0x8
0060dee3 : MOV EAX,dword ptr [ESP + 0x40]
0060dee7 : FLD float ptr [EAX + 0x4]
0060deea : PUSH 0x0
0060deec : SUB ESP,0x8
0060deef : FSTP float ptr [ESP + 0x4]
0060def3 : MOV ECX,ESI
0060def5 : FLD float ptr [EAX]
0060def7 : FSTP float ptr [ESP]
0060defa : CALL 0x005dd240
0060deff : MOV BL,AL
0060df01 : TEST EBP,EBP
0060df03 : JZ 0x0060df0c
0060df05 : MOV ECX,EBP
0060df07 : CALL 0x004ff7c0
0060df0c : TEST EDI,EDI
0060df0e : JZ 0x0060df17
0060df10 : MOV ECX,EDI
0060df12 : CALL 0x004ff7c0
0060df17 : POP EBP
0060df18 : POP EDI
0060df19 : POP ESI
0060df1a : MOV AL,BL
0060df1c : POP EBX
0060df1d : ADD ESP,0x2c
0060df20 : RET 0xc
0060df23 : MOV ECX,dword ptr [ESP + 0x44]
0060df27 : TEST ECX,ECX
0060df29 : JZ 0x0060df30
0060df2b : CALL 0x004ff7c0
0060df30 : MOV ECX,dword ptr [ESP + 0x10]
0060df34 : TEST ECX,ECX
0060df36 : JZ 0x0060df3d
0060df38 : CALL 0x004ff7c0
0060df3d : POP EBP
0060df3e : POP EDI
0060df3f : POP ESI
0060df40 : MOV AL,0x1
0060df42 : POP EBX
0060df43 : ADD ESP,0x2c
0060df46 : RET 0xc
