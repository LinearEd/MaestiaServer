PROGRAM  : Maestia.exe
FUNCTION : FUN_005c8400
ENTRY    : 005c8400
BODY     : [[005c8400, 005c85bf]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005c8400(int param_1)

{
  float fVar1;
  float fVar2;
  char cVar3;
  float10 fVar4;
  float10 fVar5;
  undefined4 uVar6;
  float local_48;
  float local_44;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  undefined4 local_10;
  float local_c;
  float local_8;
  undefined4 local_4;
  
  cVar3 = FUN_00526030(0xf);
  if (cVar3 != '\0') {
    if (((*(int *)(param_1 + 8) != 0) && (*(int *)(param_1 + 8) != 0x10)) &&
       (1 < *(int *)(param_1 + 0x1c))) {
      GMatrix2D::SetIdentity((GMatrix2D *)&local_30);
      uVar6 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(0);
      fVar4 = (float10)FUN_00527730(uVar6);
      fVar1 = (float)fVar4;
      uVar6 = *(undefined4 *)(param_1 + 0x18);
      FUN_00526260(1);
      fVar4 = (float10)FUN_00527730(uVar6);
      fVar2 = (float)fVar4;
      local_48 = 0.0;
      local_44 = 0.0;
      if (2 < *(int *)(param_1 + 0x1c)) {
        uVar6 = *(undefined4 *)(param_1 + 0x18);
        FUN_00526260(2);
        FUN_00527730(uVar6);
        if (3 < *(int *)(param_1 + 0x1c)) {
          uVar6 = *(undefined4 *)(param_1 + 0x18);
          FUN_00526260(3);
          fVar4 = (float10)FUN_00527730(uVar6);
          local_48 = (float)fVar4;
          if (4 < *(int *)(param_1 + 0x1c)) {
            uVar6 = *(undefined4 *)(param_1 + 0x18);
            FUN_00526260(4);
            fVar4 = (float10)FUN_00527730(uVar6);
            local_44 = (float)fVar4;
          }
        }
      }
      fVar4 = (float10)FUN_0063b470();
      fVar5 = (float10)FUN_0063b5e0();
      local_c = (float)fVar5;
      local_14 = -local_c;
      local_10 = 0;
      local_4 = 0;
      local_18 = (float)fVar4;
      local_8 = (float)fVar4;
      GMatrix2D::Append((GMatrix2D *)&local_30,(GMatrix2D *)&local_18);
      local_30 = fVar1 * local_30;
      local_2c = local_2c * fVar1;
      local_24 = fVar2 * local_24;
      local_20 = local_20 * fVar2;
      local_28 = fVar1 * local_28 + local_48;
      local_1c = fVar2 * local_1c + local_44;
      FUN_005c7e20(*(undefined4 *)(param_1 + 0x18),&local_30);
    }
    return;
  }
  FUN_00526050("Matrix",0,0);
  return;
}



============================================================
DISASSEMBLY
============================================================
005c8400 : SUB ESP,0x4c
005c8403 : PUSH ESI
005c8404 : MOV ESI,dword ptr [ESP + 0x54]
005c8408 : PUSH 0xf
005c840a : MOV ECX,ESI
005c840c : CALL 0x00526030
005c8411 : TEST AL,AL
005c8413 : JNZ 0x005c842a
005c8415 : PUSH 0x0
005c8417 : PUSH 0x0
005c8419 : PUSH 0xb8fe34
005c841e : MOV ECX,ESI
005c8420 : CALL 0x00526050
005c8425 : POP ESI
005c8426 : ADD ESP,0x4c
005c8429 : RET
005c842a : MOV EAX,dword ptr [ESI + 0x8]
005c842d : TEST EAX,EAX
005c842f : JZ 0x005c85bb
005c8435 : PUSH EDI
005c8436 : LEA EDI,[EAX + -0x10]
005c8439 : TEST EDI,EDI
005c843b : JZ 0x005c85ba
005c8441 : CMP dword ptr [ESI + 0x1c],0x1
005c8445 : JLE 0x005c85ba
005c844b : LEA ECX,[ESP + 0x24]
005c844f : CALL 0x00522b80
005c8454 : MOV EAX,dword ptr [ESI + 0x18]
005c8457 : PUSH EAX
005c8458 : PUSH 0x0
005c845a : MOV ECX,ESI
005c845c : CALL 0x00526260
005c8461 : MOV ECX,EAX
005c8463 : CALL 0x00527730
005c8468 : FSTP float ptr [ESP + 0x1c]
005c846c : MOV ECX,dword ptr [ESI + 0x18]
005c846f : PUSH ECX
005c8470 : PUSH 0x1
005c8472 : MOV ECX,ESI
005c8474 : CALL 0x00526260
005c8479 : MOV ECX,EAX
005c847b : CALL 0x00527730
005c8480 : FSTP float ptr [ESP + 0x20]
005c8484 : CMP dword ptr [ESI + 0x1c],0x2
005c8488 : FLDZ
005c848a : FST float ptr [ESP + 0x8]
005c848e : FST float ptr [ESP + 0xc]
005c8492 : FSTP float ptr [ESP + 0x10]
005c8496 : JLE 0x005c84ec
005c8498 : MOV EDX,dword ptr [ESI + 0x18]
005c849b : PUSH EDX
005c849c : PUSH 0x2
005c849e : MOV ECX,ESI
005c84a0 : CALL 0x00526260
005c84a5 : MOV ECX,EAX
005c84a7 : CALL 0x00527730
005c84ac : FSTP float ptr [ESP + 0x8]
005c84b0 : CMP dword ptr [ESI + 0x1c],0x3
005c84b4 : JLE 0x005c84ec
005c84b6 : MOV EAX,dword ptr [ESI + 0x18]
005c84b9 : PUSH EAX
005c84ba : PUSH 0x3
005c84bc : MOV ECX,ESI
005c84be : CALL 0x00526260
005c84c3 : MOV ECX,EAX
005c84c5 : CALL 0x00527730
005c84ca : FSTP float ptr [ESP + 0xc]
005c84ce : CMP dword ptr [ESI + 0x1c],0x4
005c84d2 : JLE 0x005c84ec
005c84d4 : MOV ECX,dword ptr [ESI + 0x18]
005c84d7 : PUSH ECX
005c84d8 : PUSH 0x4
005c84da : MOV ECX,ESI
005c84dc : CALL 0x00526260
005c84e1 : MOV ECX,EAX
005c84e3 : CALL 0x00527730
005c84e8 : FSTP float ptr [ESP + 0x10]
005c84ec : FLD float ptr [ESP + 0x8]
005c84f0 : CALL 0x0063b470
005c84f5 : FSTP float ptr [ESP + 0x14]
005c84f9 : FLD float ptr [ESP + 0x14]
005c84fd : FSTP float ptr [ESP + 0x18]
005c8501 : FLD float ptr [ESP + 0x8]
005c8505 : CALL 0x0063b5e0
005c850a : FSTP float ptr [ESP + 0x14]
005c850e : FLD float ptr [ESP + 0x14]
005c8512 : LEA EDX,[ESP + 0x3c]
005c8516 : FSTP float ptr [ESP + 0x14]
005c851a : PUSH EDX
005c851b : FLD float ptr [ESP + 0x1c]
005c851f : LEA ECX,[ESP + 0x28]
005c8523 : FST float ptr [ESP + 0x40]
005c8527 : FLD float ptr [ESP + 0x18]
005c852b : FLD ST0
005c852d : FCHS
005c852f : FSTP float ptr [ESP + 0x44]
005c8533 : FLDZ
005c8535 : FST float ptr [ESP + 0x48]
005c8539 : FSTP float ptr [ESP + 0x54]
005c853d : FSTP float ptr [ESP + 0x4c]
005c8541 : FSTP float ptr [ESP + 0x50]
005c8545 : CALL 0x00522ee0
005c854a : FLD float ptr [ESP + 0x24]
005c854e : MOV ECX,dword ptr [ESI + 0x18]
005c8551 : FLD float ptr [ESP + 0x1c]
005c8555 : LEA EAX,[ESP + 0x24]
005c8559 : FLD ST0
005c855b : PUSH EAX
005c855c : FMULP ST2
005c855e : PUSH ECX
005c855f : FXCH
005c8561 : MOV ECX,EDI
005c8563 : FSTP float ptr [ESP + 0x2c]
005c8567 : FLD float ptr [ESP + 0x30]
005c856b : FMUL ST1
005c856d : FSTP float ptr [ESP + 0x30]
005c8571 : FMUL float ptr [ESP + 0x34]
005c8575 : FSTP float ptr [ESP + 0x34]
005c8579 : FLD float ptr [ESP + 0x38]
005c857d : FLD float ptr [ESP + 0x28]
005c8581 : FLD ST0
005c8583 : FMULP ST2
005c8585 : FXCH
005c8587 : FSTP float ptr [ESP + 0x38]
005c858b : FLD float ptr [ESP + 0x3c]
005c858f : FMUL ST1
005c8591 : FSTP float ptr [ESP + 0x3c]
005c8595 : FMUL float ptr [ESP + 0x40]
005c8599 : FSTP float ptr [ESP + 0x40]
005c859d : FLD float ptr [ESP + 0x34]
005c85a1 : FADD float ptr [ESP + 0x14]
005c85a5 : FSTP float ptr [ESP + 0x34]
005c85a9 : FLD float ptr [ESP + 0x40]
005c85ad : FADD float ptr [ESP + 0x18]
005c85b1 : FSTP float ptr [ESP + 0x40]
005c85b5 : CALL 0x005c7e20
005c85ba : POP EDI
005c85bb : POP ESI
005c85bc : ADD ESP,0x4c
005c85bf : RET
