PROGRAM  : Maestia.exe
FUNCTION : FUN_005f9240
ENTRY    : 005f9240
BODY     : [[005f9240, 005f92a2]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_005f9240(code *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  undefined4 *in_ECX;
  
  *(undefined1 *)(in_ECX + 8) = 0;
  if (in_ECX[2] != 0) {
    iVar1 = in_ECX[2] + -1;
    in_ECX[5] = in_ECX[6];
    iVar3 = in_ECX[1];
    iVar2 = iVar3 + 1;
    in_ECX[2] = iVar1;
    in_ECX[1] = iVar2;
    in_ECX[4] = *(int *)*in_ECX + iVar3 * 0xc;
    if (iVar1 == 0) {
      uVar4 = in_ECX[3];
    }
    else {
      uVar4 = *(undefined4 *)(*(int *)*in_ECX + 8 + iVar2 * 0xc);
    }
    in_ECX[6] = uVar4;
    uVar4 = (*param_1)(in_ECX[4]);
    in_ECX[7] = uVar4;
    return 1;
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
005f9240 : PUSH ESI
005f9241 : MOV ESI,ECX
005f9243 : MOV EAX,dword ptr [ESI + 0x8]
005f9246 : MOV byte ptr [ESI + 0x20],0x0
005f924a : TEST EAX,EAX
005f924c : JZ 0x005f929d
005f924e : LEA ECX,[EAX + -0x1]
005f9251 : MOV EAX,dword ptr [ESI + 0x18]
005f9254 : MOV dword ptr [ESI + 0x14],EAX
005f9257 : MOV EAX,dword ptr [ESI + 0x4]
005f925a : PUSH EBX
005f925b : LEA EDX,[EAX + 0x1]
005f925e : PUSH EDI
005f925f : MOV EDI,dword ptr [ESI]
005f9261 : MOV dword ptr [ESI + 0x8],ECX
005f9264 : MOV dword ptr [ESI + 0x4],EDX
005f9267 : MOV EBX,dword ptr [EDI]
005f9269 : LEA EAX,[EAX + EAX*0x2]
005f926c : LEA EAX,[EBX + EAX*0x4]
005f926f : MOV dword ptr [ESI + 0x10],EAX
005f9272 : TEST ECX,ECX
005f9274 : JZ 0x005f9281
005f9276 : LEA ECX,[EDX + EDX*0x2]
005f9279 : MOV EDX,dword ptr [EDI]
005f927b : MOV EAX,dword ptr [EDX + ECX*0x4 + 0x8]
005f927f : JMP 0x005f9284
005f9281 : MOV EAX,dword ptr [ESI + 0xc]
005f9284 : MOV dword ptr [ESI + 0x18],EAX
005f9287 : MOV EAX,dword ptr [ESI + 0x10]
005f928a : PUSH EAX
005f928b : CALL dword ptr [ESP + 0x14]
005f928f : ADD ESP,0x4
005f9292 : POP EDI
005f9293 : MOV dword ptr [ESI + 0x1c],EAX
005f9296 : POP EBX
005f9297 : MOV AL,0x1
005f9299 : POP ESI
005f929a : RET 0x4
005f929d : XOR AL,AL
005f929f : POP ESI
005f92a0 : RET 0x4
