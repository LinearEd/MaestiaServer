PROGRAM  : Maestia.exe
FUNCTION : FUN_00406170
ENTRY    : 00406170
BODY     : [[00406170, 004061f5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00406170(uint param_1)

{
  uint uVar1;
  int in_ECX;
  uint uVar2;
  uint uVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b74a10;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  uVar3 = param_1 | 7;
  if (uVar3 < 0x7fffffff) {
    uVar1 = *(uint *)(in_ECX + 0x18);
    uVar2 = uVar1 >> 1;
    param_1 = uVar3;
    if ((uVar3 / 3 < uVar2) && (uVar1 <= 0x7ffffffe - uVar2)) {
      param_1 = uVar2 + uVar1;
    }
  }
  local_8 = 0;
  FUN_00406150(param_1 + 1);
  local_8 = 0xffffffff;
  FUN_00406226();
  return;
}



============================================================
DISASSEMBLY
============================================================
00406170 : PUSH EBP
00406171 : MOV EBP,ESP
00406173 : PUSH -0x1
00406175 : PUSH 0xb74a10
0040617a : MOV EAX,FS:[0x0]
00406180 : PUSH EAX
00406181 : SUB ESP,0xc
00406184 : PUSH EBX
00406185 : PUSH ESI
00406186 : PUSH EDI
00406187 : MOV EAX,[0x00d66fa0]
0040618c : XOR EAX,EBP
0040618e : PUSH EAX
0040618f : LEA EAX,[EBP + -0xc]
00406192 : MOV FS:[0x0],EAX
00406198 : MOV dword ptr [EBP + -0x10],ESP
0040619b : MOV EDI,ECX
0040619d : MOV dword ptr [EBP + -0x14],EDI
004061a0 : MOV EAX,dword ptr [EBP + 0x8]
004061a3 : MOV ESI,EAX
004061a5 : OR ESI,0x7
004061a8 : CMP ESI,0x7ffffffe
004061ae : JBE 0x004061b4
004061b0 : MOV ESI,EAX
004061b2 : JMP 0x004061d6
004061b4 : MOV EBX,dword ptr [EDI + 0x18]
004061b7 : MOV ECX,EBX
004061b9 : SHR ECX,0x1
004061bb : MOV EAX,0xaaaaaaab
004061c0 : MUL ESI
004061c2 : SHR EDX,0x1
004061c4 : CMP EDX,ECX
004061c6 : JNC 0x004061d6
004061c8 : MOV EAX,0x7ffffffe
004061cd : SUB EAX,ECX
004061cf : CMP EBX,EAX
004061d1 : JA 0x004061d6
004061d3 : LEA ESI,[ECX + EBX*0x1]
004061d6 : MOV dword ptr [EBP + -0x4],0x0
004061dd : LEA ECX,[ESI + 0x1]
004061e0 : PUSH ECX
004061e1 : MOV ECX,EDI
004061e3 : CALL 0x00406150
004061e8 : MOV EBX,EAX
004061ea : MOV dword ptr [EBP + -0x18],EBX
004061ed : MOV dword ptr [EBP + -0x4],0xffffffff
004061f4 : JMP 0x00406226
