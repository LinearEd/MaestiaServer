PROGRAM  : Maestia.exe
FUNCTION : FUN_004fb8a0
ENTRY    : 004fb8a0
BODY     : [[004fb8a0, 004fb953]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int FUN_004fb8a0(uint *param_1)

{
  int in_EAX;
  uint *puVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  
  uVar4 = 0;
  if (*(uint *)(in_EAX + 4) != 0) {
    uVar3 = *(uint *)(in_EAX + 4);
    do {
      if (*param_1 == *(uint *)(*(int *)(in_EAX + 0x10) + uVar3)) {
        if (uVar3 != 0) goto LAB_004fb937;
        break;
      }
      if (uVar3 == 0) {
        puVar1 = (uint *)0x0;
      }
      else {
        puVar1 = (uint *)(*(int *)(in_EAX + 0x10) + uVar3);
      }
      if (*param_1 < *puVar1) {
        uVar5 = _DAT_00000018;
        if (uVar3 != 0) {
          uVar5 = *(uint *)(*(int *)(in_EAX + 0x10) + uVar3 + 0x18);
        }
      }
      else {
        if (uVar3 == 0) {
          iVar2 = 0;
        }
        else {
          iVar2 = *(int *)(in_EAX + 0x10) + uVar3;
        }
        uVar5 = *(uint *)(iVar2 + 0x1c);
      }
      uVar4 = uVar3;
      uVar3 = uVar5;
    } while (uVar5 != 0);
  }
  uVar3 = FUN_004fd0e0(param_1,uVar4);
  if (uVar4 == 0) {
    *(uint *)(in_EAX + 4) = uVar3;
  }
  else {
    puVar1 = (uint *)(*(int *)(in_EAX + 0x10) + uVar4);
    if (*param_1 < *puVar1) {
      puVar1[6] = uVar3;
    }
    else {
      puVar1[7] = uVar3;
    }
  }
  FUN_004fc790();
  *(int *)(in_EAX + 8) = *(int *)(in_EAX + 8) + 1;
  if (uVar3 == 0) {
    return 4;
  }
LAB_004fb937:
  return *(int *)(in_EAX + 0x10) + uVar3 + 4;
}



============================================================
DISASSEMBLY
============================================================
004fb8a0 : PUSH EBX
004fb8a1 : PUSH EBP
004fb8a2 : MOV EBP,dword ptr [ESP + 0xc]
004fb8a6 : PUSH ESI
004fb8a7 : PUSH EDI
004fb8a8 : MOV EDI,EAX
004fb8aa : MOV ESI,dword ptr [EDI + 0x4]
004fb8ad : XOR EBX,EBX
004fb8af : TEST ESI,ESI
004fb8b1 : JZ 0x004fb901
004fb8b3 : MOV ECX,dword ptr [EBP]
004fb8b6 : MOV EAX,dword ptr [EDI + 0x10]
004fb8b9 : ADD EAX,ESI
004fb8bb : CMP ECX,dword ptr [EAX]
004fb8bd : JZ 0x004fb8fd
004fb8bf : MOV EBX,ESI
004fb8c1 : TEST ESI,ESI
004fb8c3 : JZ 0x004fb8cc
004fb8c5 : MOV EAX,dword ptr [EDI + 0x10]
004fb8c8 : ADD EAX,ESI
004fb8ca : JMP 0x004fb8ce
004fb8cc : XOR EAX,EAX
004fb8ce : CMP ECX,dword ptr [EAX]
004fb8d0 : JNC 0x004fb8e7
004fb8d2 : TEST ESI,ESI
004fb8d4 : JZ 0x004fb8e0
004fb8d6 : MOV EAX,dword ptr [EDI + 0x10]
004fb8d9 : ADD EAX,ESI
004fb8db : MOV ESI,dword ptr [EAX + 0x18]
004fb8de : JMP 0x004fb8f7
004fb8e0 : XOR EAX,EAX
004fb8e2 : MOV ESI,dword ptr [EAX + 0x18]
004fb8e5 : JMP 0x004fb8f7
004fb8e7 : TEST ESI,ESI
004fb8e9 : JZ 0x004fb8f2
004fb8eb : MOV EAX,dword ptr [EDI + 0x10]
004fb8ee : ADD EAX,ESI
004fb8f0 : JMP 0x004fb8f4
004fb8f2 : XOR EAX,EAX
004fb8f4 : MOV ESI,dword ptr [EAX + 0x1c]
004fb8f7 : TEST ESI,ESI
004fb8f9 : JNZ 0x004fb8b6
004fb8fb : JMP 0x004fb901
004fb8fd : TEST ESI,ESI
004fb8ff : JNZ 0x004fb937
004fb901 : PUSH EBX
004fb902 : PUSH EBP
004fb903 : CALL 0x004fd0e0
004fb908 : MOV ESI,EAX
004fb90a : TEST EBX,EBX
004fb90c : JNZ 0x004fb913
004fb90e : MOV dword ptr [EDI + 0x4],ESI
004fb911 : JMP 0x004fb927
004fb913 : MOV EAX,dword ptr [EDI + 0x10]
004fb916 : MOV ECX,dword ptr [EBP]
004fb919 : ADD EAX,EBX
004fb91b : CMP ECX,dword ptr [EAX]
004fb91d : JNC 0x004fb924
004fb91f : MOV dword ptr [EAX + 0x18],ESI
004fb922 : JMP 0x004fb927
004fb924 : MOV dword ptr [EAX + 0x1c],ESI
004fb927 : MOV EAX,EBX
004fb929 : MOV EDX,EDI
004fb92b : CALL 0x004fc790
004fb930 : INC dword ptr [EDI + 0x8]
004fb933 : TEST ESI,ESI
004fb935 : JZ 0x004fb946
004fb937 : MOV EDI,dword ptr [EDI + 0x10]
004fb93a : ADD EDI,ESI
004fb93c : LEA EAX,[EDI + 0x4]
004fb93f : POP EDI
004fb940 : POP ESI
004fb941 : POP EBP
004fb942 : POP EBX
004fb943 : RET 0x4
004fb946 : POP EDI
004fb947 : POP ESI
004fb948 : POP EBP
004fb949 : XOR EAX,EAX
004fb94b : MOV EAX,0x4
004fb950 : POP EBX
004fb951 : RET 0x4
