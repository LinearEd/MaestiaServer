PROGRAM  : Maestia.exe
FUNCTION : FUN_005f8d90
ENTRY    : 005f8d90
BODY     : [[005f8d90, 005f8df8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005f8d90(uint param_1)

{
  void *_Dst;
  uint *in_ECX;
  
  if ((param_1 != *in_ECX) && (*(int *)in_ECX[3] != 0)) {
    if ((in_ECX[1] < param_1) && (*in_ECX < param_1)) {
      _Dst = (void *)FUN_00515840(((int *)in_ECX[3])[1] * param_1,0);
      if ((void *)in_ECX[2] != (void *)0x0) {
        if (_Dst != (void *)0x0) {
          _memcpy(_Dst,(void *)in_ECX[2],*(int *)(in_ECX[3] + 4) * *in_ECX);
        }
        FUN_00515cf0(in_ECX[2]);
      }
      in_ECX[2] = (uint)_Dst;
      in_ECX[1] = param_1;
    }
    *in_ECX = param_1;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005f8d90 : PUSH ESI
005f8d91 : MOV ESI,ECX
005f8d93 : MOV ECX,dword ptr [ESI]
005f8d95 : PUSH EDI
005f8d96 : MOV EDI,dword ptr [ESP + 0xc]
005f8d9a : CMP EDI,ECX
005f8d9c : JZ 0x005f8df4
005f8d9e : MOV EAX,dword ptr [ESI + 0xc]
005f8da1 : CMP dword ptr [EAX],0x0
005f8da4 : JZ 0x005f8df4
005f8da6 : CMP EDI,dword ptr [ESI + 0x4]
005f8da9 : JBE 0x005f8df2
005f8dab : CMP EDI,ECX
005f8dad : JBE 0x005f8df2
005f8daf : MOV EAX,dword ptr [EAX + 0x4]
005f8db2 : MOV ECX,dword ptr [ESI + 0x10]
005f8db5 : IMUL EAX,EDI
005f8db8 : PUSH EBX
005f8db9 : PUSH 0x0
005f8dbb : PUSH EAX
005f8dbc : CALL 0x00515840
005f8dc1 : MOV EBX,EAX
005f8dc3 : MOV EAX,dword ptr [ESI + 0x8]
005f8dc6 : TEST EAX,EAX
005f8dc8 : JZ 0x005f8deb
005f8dca : TEST EBX,EBX
005f8dcc : JZ 0x005f8de2
005f8dce : MOV ECX,dword ptr [ESI + 0xc]
005f8dd1 : MOV EDX,dword ptr [ECX + 0x4]
005f8dd4 : IMUL EDX,dword ptr [ESI]
005f8dd7 : PUSH EDX
005f8dd8 : PUSH EAX
005f8dd9 : PUSH EBX
005f8dda : CALL 0x0063ae40
005f8ddf : ADD ESP,0xc
005f8de2 : MOV EAX,dword ptr [ESI + 0x8]
005f8de5 : PUSH EAX
005f8de6 : CALL 0x00515cf0
005f8deb : MOV dword ptr [ESI + 0x8],EBX
005f8dee : MOV dword ptr [ESI + 0x4],EDI
005f8df1 : POP EBX
005f8df2 : MOV dword ptr [ESI],EDI
005f8df4 : POP EDI
005f8df5 : POP ESI
005f8df6 : RET 0x4
