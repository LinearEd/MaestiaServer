PROGRAM  : Maestia.exe
FUNCTION : FUN_00540ae0
ENTRY    : 00540ae0
BODY     : [[00540ae0, 00540b56]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00540ae0(int param_1)

{
  void *_Dst;
  int iVar1;
  int *in_ECX;
  
  if (in_ECX[1] == 1) {
    FUN_005402b0(in_ECX,0);
    return;
  }
  iVar1 = *(int *)(*in_ECX + param_1 * 4);
  if (iVar1 != 0) {
    FUN_0053bb30(*(undefined4 *)(iVar1 + 0x10),*(undefined4 *)(iVar1 + 0x14));
    FUN_00515cf0(*(undefined4 *)(iVar1 + 0x10));
    if (*(GRefCountNTSImpl **)(iVar1 + 0xc) != (GRefCountNTSImpl *)0x0) {
      GRefCountNTSImpl::Release(*(GRefCountNTSImpl **)(iVar1 + 0xc));
    }
    FUN_00515cf0(iVar1);
  }
  _Dst = (void *)(*in_ECX + param_1 * 4);
  _memcpy(_Dst,(void *)((int)_Dst + 4),(in_ECX[1] - param_1) * 4 - 4);
  in_ECX[1] = in_ECX[1] + -1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00540ae0 : PUSH EDI
00540ae1 : MOV EDI,ECX
00540ae3 : CMP dword ptr [EDI + 0x4],0x1
00540ae7 : JNZ 0x00540af5
00540ae9 : PUSH 0x0
00540aeb : PUSH EDI
00540aec : CALL 0x005402b0
00540af1 : POP EDI
00540af2 : RET 0x4
00540af5 : MOV EAX,dword ptr [EDI]
00540af7 : PUSH EBX
00540af8 : MOV EBX,dword ptr [ESP + 0xc]
00540afc : PUSH ESI
00540afd : MOV ESI,dword ptr [EAX + EBX*0x4]
00540b00 : TEST ESI,ESI
00540b02 : JZ 0x00540b2f
00540b04 : MOV ECX,dword ptr [ESI + 0x14]
00540b07 : MOV EDX,dword ptr [ESI + 0x10]
00540b0a : PUSH ECX
00540b0b : PUSH EDX
00540b0c : CALL 0x0053bb30
00540b11 : MOV EAX,dword ptr [ESI + 0x10]
00540b14 : ADD ESP,0x8
00540b17 : PUSH EAX
00540b18 : CALL 0x00515cf0
00540b1d : MOV ECX,dword ptr [ESI + 0xc]
00540b20 : TEST ECX,ECX
00540b22 : JZ 0x00540b29
00540b24 : CALL 0x004ff7c0
00540b29 : PUSH ESI
00540b2a : CALL 0x00515cf0
00540b2f : MOV ECX,dword ptr [EDI]
00540b31 : MOV EDX,dword ptr [EDI + 0x4]
00540b34 : LEA EAX,[ECX + EBX*0x4]
00540b37 : SUB EDX,EBX
00540b39 : LEA ECX,[EDX*0x4 + 0xfffffffc]
00540b40 : PUSH ECX
00540b41 : LEA EDX,[EAX + 0x4]
00540b44 : PUSH EDX
00540b45 : PUSH EAX
00540b46 : CALL 0x0063ae40
00540b4b : DEC dword ptr [EDI + 0x4]
00540b4e : ADD ESP,0xc
00540b51 : POP ESI
00540b52 : POP EBX
00540b53 : POP EDI
00540b54 : RET 0x4
