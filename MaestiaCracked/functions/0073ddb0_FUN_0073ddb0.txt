PROGRAM  : Maestia.exe
FUNCTION : FUN_0073ddb0
ENTRY    : 0073ddb0
BODY     : [[0073ddb0, 0073df78]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_0073ddb0(undefined4 param_1)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int *piVar6;
  char cVar7;
  int *in_ECX;
  undefined4 uVar8;
  
  in_ECX[0x10] = 0;
  if (in_ECX[0xf] != 0) {
    (**(code **)(*in_ECX + 0x1c))();
    piVar1 = (int *)in_ECX[0xe];
    in_ECX[5] = 0;
    in_ECX[0x34] = -1;
    in_ECX[0x35] = -1;
    piVar2 = (int *)*piVar1;
    while (piVar2 != piVar1) {
      iVar3 = piVar2[3];
      iVar4 = *(int *)(iVar3 + 0x18);
      if ((iVar4 != 0) &&
         (cVar7 = (**(code **)(*in_ECX + 0x30))(iVar4,param_1,iVar3), cVar7 != '\0')) {
        (**(code **)(*in_ECX + 0x28))(param_1,iVar4,iVar3);
        iVar3 = *(int *)(iVar4 + 8);
        iVar5 = *(int *)(iVar4 + 4);
        if (in_ECX[0x10] != iVar3) {
          (**(code **)(*in_ECX + 0x24))(*(undefined4 *)(*(int *)(iVar5 + 0x1e8) + 0xd0));
          (**(code **)(*(int *)in_ECX[1] + 0x1a0))((int *)in_ECX[1],*(undefined4 *)(iVar3 + 4));
          if (*(char *)(iVar3 + 0x19) == '\0') {
            uVar8 = 3;
          }
          else {
            uVar8 = 1;
          }
          (**(code **)(*(int *)in_ECX[1] + 0xe4))((int *)in_ECX[1],0x16,uVar8);
          in_ECX[0x10] = iVar3;
        }
        (**(code **)(*in_ECX + 0x34))(iVar4);
        if (*(int *)(in_ECX[5] + 0x1c) != 0) {
          piVar6 = *(int **)(in_ECX[5] + 0x1c);
          (**(code **)(*piVar6 + 0x104))(piVar6);
        }
        (**(code **)(*(int *)in_ECX[1] + 0x148))
                  ((int *)in_ECX[1],4,0,0,
                   *(undefined2 *)(*(int *)(*(int *)(iVar5 + 0x1e8) + 0xd0) + 0x10),0,
                   *(undefined2 *)(iVar3 + 0xc));
        in_ECX[0x34] = *(int *)(iVar4 + 0x148);
        in_ECX[0x35] = *(int *)(iVar4 + 0x14c);
      }
      FUN_0045d060();
    }
    if (in_ECX[5] != 0) {
      FUN_0077c620();
      in_ECX[0x11] = 0;
      _DAT_00da9b18 =
           (**(code **)(**(int **)(in_ECX[5] + 0x1c) + 0x108))(*(int **)(in_ECX[5] + 0x1c));
      if (_DAT_00da9b18 < 0) {
        FUN_008018d0(L"AvaMembraneRenderGroup::SetEffectShader m_pShaderData->GetFX()->EndPass Failed (%d)"
                     ,_DAT_00da9b18);
      }
      _DAT_00da9b18 =
           (**(code **)(**(int **)(in_ECX[5] + 0x1c) + 0x10c))(*(int **)(in_ECX[5] + 0x1c));
      if (_DAT_00da9b18 < 0) {
        FUN_008018d0(L"AvaMembraneRenderGroup::SetEffectShader m_pShaderData->GetFX()->End Failed (%d)"
                     ,_DAT_00da9b18);
      }
    }
    (**(code **)(*in_ECX + 0x20))();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0073ddb0 : PUSH EBP
0073ddb1 : MOV EBP,ESP
0073ddb3 : SUB ESP,0xc
0073ddb6 : PUSH EBX
0073ddb7 : PUSH EDI
0073ddb8 : MOV EDI,ECX
0073ddba : XOR EBX,EBX
0073ddbc : MOV dword ptr [EDI + 0x40],EBX
0073ddbf : CMP dword ptr [EDI + 0x3c],EBX
0073ddc2 : JZ 0x0073df71
0073ddc8 : MOV EAX,dword ptr [EDI]
0073ddca : MOV EDX,dword ptr [EAX + 0x1c]
0073ddcd : PUSH ESI
0073ddce : CALL EDX
0073ddd0 : MOV ECX,dword ptr [EDI + 0x38]
0073ddd3 : OR EAX,0xffffffff
0073ddd6 : MOV dword ptr [EDI + 0x14],EBX
0073ddd9 : MOV dword ptr [EDI + 0xd0],EAX
0073dddf : MOV dword ptr [EDI + 0xd4],EAX
0073dde5 : MOV EAX,dword ptr [ECX]
0073dde7 : MOV dword ptr [EBP + -0xc],ECX
0073ddea : MOV dword ptr [EBP + -0x4],EAX
0073dded : CMP EAX,ECX
0073ddef : JZ 0x0073defc
0073ddf5 : MOV EBX,dword ptr [EAX + 0xc]
0073ddf8 : MOV ESI,dword ptr [EBX + 0x18]
0073ddfb : TEST ESI,ESI
0073ddfd : JZ 0x0073dee6
0073de03 : MOV ECX,dword ptr [EBP + 0x8]
0073de06 : MOV EAX,dword ptr [EDI]
0073de08 : MOV EDX,dword ptr [EAX + 0x30]
0073de0b : PUSH EBX
0073de0c : PUSH ECX
0073de0d : PUSH ESI
0073de0e : MOV ECX,EDI
0073de10 : CALL EDX
0073de12 : TEST AL,AL
0073de14 : JZ 0x0073dee6
0073de1a : MOV ECX,dword ptr [EBP + 0x8]
0073de1d : MOV EAX,dword ptr [EDI]
0073de1f : MOV EDX,dword ptr [EAX + 0x28]
0073de22 : PUSH EBX
0073de23 : PUSH ESI
0073de24 : PUSH ECX
0073de25 : MOV ECX,EDI
0073de27 : CALL EDX
0073de29 : MOV EBX,dword ptr [ESI + 0x8]
0073de2c : MOV EAX,dword ptr [ESI + 0x4]
0073de2f : MOV dword ptr [EBP + -0x8],EAX
0073de32 : CMP dword ptr [EDI + 0x40],EBX
0073de35 : JZ 0x0073de7e
0073de37 : MOV EAX,dword ptr [EAX + 0x1e8]
0073de3d : MOV ECX,dword ptr [EAX + 0xd0]
0073de43 : MOV EDX,dword ptr [EDI]
0073de45 : MOV EDX,dword ptr [EDX + 0x24]
0073de48 : PUSH ECX
0073de49 : MOV ECX,EDI
0073de4b : CALL EDX
0073de4d : MOV EAX,dword ptr [EDI + 0x4]
0073de50 : MOV EDX,dword ptr [EBX + 0x4]
0073de53 : MOV ECX,dword ptr [EAX]
0073de55 : PUSH EDX
0073de56 : PUSH EAX
0073de57 : MOV EAX,dword ptr [ECX + 0x1a0]
0073de5d : CALL EAX
0073de5f : CMP byte ptr [EBX + 0x19],0x0
0073de63 : MOV EAX,dword ptr [EDI + 0x4]
0073de66 : MOV ECX,dword ptr [EAX]
0073de68 : MOV EDX,dword ptr [ECX + 0xe4]
0073de6e : JZ 0x0073de74
0073de70 : PUSH 0x1
0073de72 : JMP 0x0073de76
0073de74 : PUSH 0x3
0073de76 : PUSH 0x16
0073de78 : PUSH EAX
0073de79 : CALL EDX
0073de7b : MOV dword ptr [EDI + 0x40],EBX
0073de7e : MOV EAX,dword ptr [EDI]
0073de80 : MOV EDX,dword ptr [EAX + 0x34]
0073de83 : PUSH ESI
0073de84 : MOV ECX,EDI
0073de86 : CALL EDX
0073de88 : MOV EAX,dword ptr [EDI + 0x14]
0073de8b : CMP dword ptr [EAX + 0x1c],0x0
0073de8f : JZ 0x0073de9f
0073de91 : MOV EAX,dword ptr [EAX + 0x1c]
0073de94 : MOV ECX,dword ptr [EAX]
0073de96 : MOV EDX,dword ptr [ECX + 0x104]
0073de9c : PUSH EAX
0073de9d : CALL EDX
0073de9f : MOVZX EDX,word ptr [EBX + 0xc]
0073dea3 : MOV EAX,dword ptr [EDI + 0x4]
0073dea6 : MOV ECX,dword ptr [EAX]
0073dea8 : PUSH EDX
0073dea9 : MOV EDX,dword ptr [EBP + -0x8]
0073deac : MOV EDX,dword ptr [EDX + 0x1e8]
0073deb2 : MOV EDX,dword ptr [EDX + 0xd0]
0073deb8 : MOVZX EDX,word ptr [EDX + 0x10]
0073debc : PUSH 0x0
0073debe : PUSH EDX
0073debf : PUSH 0x0
0073dec1 : PUSH 0x0
0073dec3 : PUSH 0x4
0073dec5 : PUSH EAX
0073dec6 : MOV EAX,dword ptr [ECX + 0x148]
0073decc : CALL EAX
0073dece : MOV ECX,dword ptr [ESI + 0x148]
0073ded4 : MOV dword ptr [EDI + 0xd0],ECX
0073deda : MOV EDX,dword ptr [ESI + 0x14c]
0073dee0 : MOV dword ptr [EDI + 0xd4],EDX
0073dee6 : LEA EDX,[EBP + -0x4]
0073dee9 : CALL 0x0045d060
0073deee : MOV EAX,dword ptr [EBP + -0x4]
0073def1 : CMP EAX,dword ptr [EBP + -0xc]
0073def4 : JNZ 0x0073ddf5
0073defa : XOR EBX,EBX
0073defc : MOV EAX,dword ptr [EDI + 0x14]
0073deff : CMP EAX,EBX
0073df01 : JZ 0x0073df67
0073df03 : CALL 0x0077c620
0073df08 : MOV EAX,dword ptr [EDI + 0x14]
0073df0b : MOV dword ptr [EDI + 0x44],EBX
0073df0e : MOV EAX,dword ptr [EAX + 0x1c]
0073df11 : MOV ECX,dword ptr [EAX]
0073df13 : MOV EDX,dword ptr [ECX + 0x108]
0073df19 : PUSH EAX
0073df1a : CALL EDX
0073df1c : CMP EAX,EBX
0073df1e : MOV [0x00da9b18],EAX
0073df23 : JGE 0x0073df39
0073df25 : MOV ESI,dword ptr [0x00da98e8]
0073df2b : PUSH EAX
0073df2c : PUSH 0xc07688
0073df31 : CALL 0x008018d0
0073df36 : ADD ESP,0x8
0073df39 : MOV EAX,dword ptr [EDI + 0x14]
0073df3c : MOV EAX,dword ptr [EAX + 0x1c]
0073df3f : MOV ECX,dword ptr [EAX]
0073df41 : MOV EDX,dword ptr [ECX + 0x10c]
0073df47 : PUSH EAX
0073df48 : CALL EDX
0073df4a : CMP EAX,EBX
0073df4c : MOV [0x00da9b18],EAX
0073df51 : JGE 0x0073df67
0073df53 : MOV ESI,dword ptr [0x00da98e8]
0073df59 : PUSH EAX
0073df5a : PUSH 0xc07730
0073df5f : CALL 0x008018d0
0073df64 : ADD ESP,0x8
0073df67 : MOV EAX,dword ptr [EDI]
0073df69 : MOV EDX,dword ptr [EAX + 0x20]
0073df6c : MOV ECX,EDI
0073df6e : CALL EDX
0073df70 : POP ESI
0073df71 : POP EDI
0073df72 : POP EBX
0073df73 : MOV ESP,EBP
0073df75 : POP EBP
0073df76 : RET 0xc
