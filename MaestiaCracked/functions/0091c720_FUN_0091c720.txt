PROGRAM  : Maestia.exe
FUNCTION : FUN_0091c720
ENTRY    : 0091c720
BODY     : [[0091c720, 0091c82b] [0091c830, 0091c85c] [0091c860, 0091c93d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0091c720(int param_1)

{
  int iVar1;
  int *piVar2;
  int in_EAX;
  DWORD DVar3;
  int *piVar4;
  int iVar5;
  uint uVar6;
  int *piVar7;
  int iVar8;
  undefined4 *local_8;
  
  DVar3 = timeGetTime();
  *(int *)(in_EAX + 0xb4) = *(int *)(in_EAX + 0xb4) + param_1;
  FUN_0091c430(in_EAX);
  iVar8 = *(int *)(in_EAX + 0x60);
  if (0 < iVar8) {
    *(int *)(in_EAX + 0x60) = iVar8 - param_1;
    if (iVar8 - param_1 < 0) {
      *(undefined4 *)(in_EAX + 0x60) = 0;
    }
    iVar1 = (*(int *)(in_EAX + 0x60) + 999) / 1000;
    if (((iVar8 + 999) / 1000 != iVar1) && (0 < iVar1)) {
      FUN_00919690();
    }
  }
  iVar8 = *(int *)(in_EAX + 0x68);
  if (0 < iVar8) {
    *(int *)(in_EAX + 0x68) = iVar8 - param_1;
    if (iVar8 - param_1 < 0) {
      *(undefined4 *)(in_EAX + 0x68) = 0;
    }
    iVar1 = (*(int *)(in_EAX + 0x68) + 999) / 1000;
    if (((iVar8 + 999) / 1000 != iVar1) && (iVar1 - 1U < 5)) {
      FUN_009adfc0(*(undefined4 *)(*DAT_00da9894 + 0x1a8),3,iVar1);
    }
  }
  local_8 = *(undefined4 **)(DAT_00da93ec + 0x38c);
  if (local_8 != *(undefined4 **)(DAT_00da93ec + 0x390)) {
    piVar4 = local_8 + 9;
    iVar8 = DAT_00da93ec;
    do {
      piVar7 = (int *)*piVar4;
      iVar5 = piVar4[1] - (int)piVar7;
      iVar1 = iVar5 >> 0x1f;
      if ((iVar5 / 0x14 + iVar1 != iVar1) && (piVar7 != (int *)piVar4[1])) {
        do {
          iVar8 = piVar7[2] - DVar3;
          uVar6 = 1000;
          if (iVar8 < 10000) {
            uVar6 = 600;
          }
          else if (iVar8 < 5000) {
            uVar6 = 300;
          }
          if (uVar6 <= DVar3 - piVar7[3]) {
            piVar7[3] = DVar3;
            FUN_00919d60(*piVar7,*local_8,(short)piVar7[1]);
          }
          piVar2 = DAT_00da9894;
          if (((*piVar7 == *(int *)(*(int *)(DAT_0172491c + 0x17c) + 4)) &&
              (iVar1 = (iVar8 + 999) / 1000, iVar8 - 1000U < 5000)) && (iVar1 != piVar7[4])) {
            piVar7[4] = iVar1;
            FUN_009adfc0(*(undefined4 *)(*piVar2 + 0x1a8),3,iVar1);
          }
          piVar7 = piVar7 + 5;
          iVar8 = DAT_00da93ec;
        } while (piVar7 != (int *)piVar4[1]);
      }
      piVar4 = piVar4 + 0xc;
      local_8 = local_8 + 0xc;
    } while (local_8 != *(undefined4 **)(iVar8 + 0x390));
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0091c720 : PUSH EBP
0091c721 : MOV EBP,ESP
0091c723 : SUB ESP,0x8
0091c726 : PUSH EBX
0091c727 : MOV EBX,dword ptr [EBP + 0x8]
0091c72a : PUSH ESI
0091c72b : PUSH EDI
0091c72c : MOV ESI,EAX
0091c72e : CALL dword ptr [0x00b85598]
0091c734 : ADD dword ptr [ESI + 0xb4],EBX
0091c73a : PUSH ESI
0091c73b : MOV dword ptr [EBP + -0x8],EAX
0091c73e : CALL 0x0091c430
0091c743 : MOV EDI,dword ptr [ESI + 0x60]
0091c746 : TEST EDI,EDI
0091c748 : JLE 0x0091c796
0091c74a : LEA ECX,[EDI + 0x3e7]
0091c750 : MOV EAX,0x10624dd3
0091c755 : IMUL ECX
0091c757 : SAR EDX,0x6
0091c75a : MOV ECX,EDX
0091c75c : SHR ECX,0x1f
0091c75f : ADD ECX,EDX
0091c761 : SUB EDI,EBX
0091c763 : MOV dword ptr [ESI + 0x60],EDI
0091c766 : JNS 0x0091c76f
0091c768 : MOV dword ptr [ESI + 0x60],0x0
0091c76f : MOV EDX,dword ptr [ESI + 0x60]
0091c772 : ADD EDX,0x3e7
0091c778 : MOV EAX,0x10624dd3
0091c77d : IMUL EDX
0091c77f : SAR EDX,0x6
0091c782 : MOV EAX,EDX
0091c784 : SHR EAX,0x1f
0091c787 : ADD EAX,EDX
0091c789 : CMP ECX,EAX
0091c78b : JZ 0x0091c796
0091c78d : TEST EAX,EAX
0091c78f : JLE 0x0091c796
0091c791 : CALL 0x00919690
0091c796 : MOV EDI,dword ptr [ESI + 0x68]
0091c799 : TEST EDI,EDI
0091c79b : JLE 0x0091c809
0091c79d : LEA ECX,[EDI + 0x3e7]
0091c7a3 : MOV EAX,0x10624dd3
0091c7a8 : IMUL ECX
0091c7aa : SAR EDX,0x6
0091c7ad : MOV ECX,EDX
0091c7af : SHR ECX,0x1f
0091c7b2 : MOV EAX,EDI
0091c7b4 : ADD ECX,EDX
0091c7b6 : SUB EAX,EBX
0091c7b8 : MOV dword ptr [ESI + 0x68],EAX
0091c7bb : JNS 0x0091c7c4
0091c7bd : MOV dword ptr [ESI + 0x68],0x0
0091c7c4 : MOV ESI,dword ptr [ESI + 0x68]
0091c7c7 : ADD ESI,0x3e7
0091c7cd : MOV EAX,0x10624dd3
0091c7d2 : IMUL ESI
0091c7d4 : SAR EDX,0x6
0091c7d7 : MOV EAX,EDX
0091c7d9 : SHR EAX,0x1f
0091c7dc : ADD EAX,EDX
0091c7de : CMP ECX,EAX
0091c7e0 : JZ 0x0091c809
0091c7e2 : LEA ECX,[EAX + -0x1]
0091c7e5 : CMP ECX,0x4
0091c7e8 : JA 0x0091c809
0091c7ea : MOV EDX,dword ptr [0x00da9894]
0091c7f0 : PUSH EAX
0091c7f1 : MOV EAX,dword ptr [EDX]
0091c7f3 : MOV ECX,dword ptr [EAX + 0x1a8]
0091c7f9 : PUSH 0x3
0091c7fb : PUSH ECX
0091c7fc : MOV ECX,0xc6813c
0091c801 : CALL 0x009adfc0
0091c806 : ADD ESP,0xc
0091c809 : MOV EBX,dword ptr [0x00da93ec]
0091c80f : MOV EAX,dword ptr [EBX + 0x38c]
0091c815 : MOV dword ptr [EBP + -0x4],EAX
0091c818 : CMP EAX,dword ptr [EBX + 0x390]
0091c81e : JZ 0x0091c935
0091c824 : ADD EAX,0x24
0091c827 : MOV dword ptr [EBP + 0x8],EAX
0091c82a : JMP 0x0091c833
0091c830 : MOV EAX,dword ptr [EBP + 0x8]
0091c833 : MOV EDI,dword ptr [EAX + 0x4]
0091c836 : MOV ESI,dword ptr [EAX]
0091c838 : MOV ECX,EDI
0091c83a : SUB ECX,ESI
0091c83c : MOV EAX,0x66666667
0091c841 : IMUL ECX
0091c843 : SAR EDX,0x3
0091c846 : MOV EAX,EDX
0091c848 : SHR EAX,0x1f
0091c84b : ADD EAX,EDX
0091c84d : JZ 0x0091c91c
0091c853 : CMP ESI,EDI
0091c855 : JZ 0x0091c91c
0091c85b : JMP 0x0091c860
0091c860 : MOV EDX,dword ptr [EBP + -0x8]
0091c863 : MOV EDI,dword ptr [ESI + 0x8]
0091c866 : MOV EAX,EDX
0091c868 : SUB EAX,dword ptr [ESI + 0xc]
0091c86b : SUB EDI,EDX
0091c86d : CMP EDI,0x2710
0091c873 : MOV ECX,0x3e8
0091c878 : JGE 0x0091c881
0091c87a : MOV ECX,0x258
0091c87f : JMP 0x0091c88e
0091c881 : CMP EDI,0x1388
0091c887 : JGE 0x0091c88e
0091c889 : MOV ECX,0x12c
0091c88e : CMP EAX,ECX
0091c890 : JC 0x0091c8a8
0091c892 : MOVZX ECX,word ptr [ESI + 0x4]
0091c896 : MOV dword ptr [ESI + 0xc],EDX
0091c899 : MOV EDX,dword ptr [EBP + -0x4]
0091c89c : MOV EAX,dword ptr [EDX]
0091c89e : PUSH ECX
0091c89f : MOV ECX,dword ptr [ESI]
0091c8a1 : PUSH EAX
0091c8a2 : PUSH ECX
0091c8a3 : CALL 0x00919d60
0091c8a8 : MOV EDX,dword ptr [0x0172491c]
0091c8ae : MOV EAX,dword ptr [EDX + 0x17c]
0091c8b4 : MOV ECX,dword ptr [ESI]
0091c8b6 : CMP ECX,dword ptr [EAX + 0x4]
0091c8b9 : JNZ 0x0091c907
0091c8bb : LEA ECX,[EDI + 0x3e7]
0091c8c1 : MOV EAX,0x10624dd3
0091c8c6 : IMUL ECX
0091c8c8 : SAR EDX,0x6
0091c8cb : MOV EAX,EDX
0091c8cd : SHR EAX,0x1f
0091c8d0 : ADD EDI,0xfffffc18
0091c8d6 : ADD EAX,EDX
0091c8d8 : CMP EDI,0x1387
0091c8de : JA 0x0091c907
0091c8e0 : CMP EAX,dword ptr [ESI + 0x10]
0091c8e3 : JZ 0x0091c907
0091c8e5 : MOV EDX,dword ptr [0x00da9894]
0091c8eb : PUSH EAX
0091c8ec : MOV dword ptr [ESI + 0x10],EAX
0091c8ef : MOV EAX,dword ptr [EDX]
0091c8f1 : MOV ECX,dword ptr [EAX + 0x1a8]
0091c8f7 : PUSH 0x3
0091c8f9 : PUSH ECX
0091c8fa : MOV ECX,0xc68174
0091c8ff : CALL 0x009adfc0
0091c904 : ADD ESP,0xc
0091c907 : MOV EDX,dword ptr [EBP + 0x8]
0091c90a : ADD ESI,0x14
0091c90d : CMP ESI,dword ptr [EDX + 0x4]
0091c910 : JNZ 0x0091c860
0091c916 : MOV EBX,dword ptr [0x00da93ec]
0091c91c : MOV EAX,dword ptr [EBP + -0x4]
0091c91f : ADD dword ptr [EBP + 0x8],0x30
0091c923 : ADD EAX,0x30
0091c926 : MOV dword ptr [EBP + -0x4],EAX
0091c929 : CMP EAX,dword ptr [EBX + 0x390]
0091c92f : JNZ 0x0091c830
0091c935 : POP EDI
0091c936 : POP ESI
0091c937 : POP EBX
0091c938 : MOV ESP,EBP
0091c93a : POP EBP
0091c93b : RET 0x4
