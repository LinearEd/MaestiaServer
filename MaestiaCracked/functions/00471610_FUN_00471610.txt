PROGRAM  : Maestia.exe
FUNCTION : FUN_00471610
ENTRY    : 00471610
BODY     : [[00471610, 004716e4]]

============================================================
DECOMPILED C CODE
============================================================

void ** FUN_00471610(int param_1,int param_2,uint param_3)

{
  void **ppvVar1;
  uint uVar2;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7417a;
  local_10 = ExceptionList;
  ppvVar1 = &local_10;
  if (*(char *)(param_1 + 0x10) == '\0') {
    ExceptionList = ppvVar1;
    ppvVar1 = (void **)FUN_004717c0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    *(undefined4 *)(param_1 + 4) = 0;
    *(undefined4 *)(param_1 + 0xc) = 0;
  }
  *(undefined4 *)(param_1 + 8) = 0;
  if (*(char *)(param_1 + 0x10) != '\0') {
    *(undefined4 *)(param_1 + 0xc) = 0;
    *(undefined4 *)(param_1 + 4) = 0;
  }
  if (param_2 == 0) {
    *(undefined1 *)(param_1 + 0x10) = 0;
    ExceptionList = local_10;
    return ppvVar1;
  }
  ppvVar1 = (void **)(param_3 * -0x33333333);
  *(int *)(param_1 + 4) = param_2;
  *(uint *)(param_1 + 0xc) = param_3 / 0x14;
  if (param_3 / 0x14 != 0) {
    uVar2 = 0;
    do {
      ppvVar1 = (void **)(*(int *)(param_1 + 4) + uVar2 * 0x14);
      if (ppvVar1 != (void **)0x0) {
        *ppvVar1 = (void *)0xffffffff;
        ppvVar1[1] = (void *)0x0;
        ppvVar1[2] = (void *)0x0;
        ppvVar1[3] = (void *)0x0;
        ppvVar1[4] = (void *)0x0;
      }
      uVar2 = uVar2 + 1;
    } while (uVar2 < *(uint *)(param_1 + 0xc));
  }
  *(undefined1 *)(param_1 + 0x10) = 1;
  ExceptionList = local_10;
  return ppvVar1;
}



============================================================
DISASSEMBLY
============================================================
00471610 : PUSH EBP
00471611 : MOV EBP,ESP
00471613 : PUSH -0x1
00471615 : PUSH 0xb7417a
0047161a : MOV EAX,FS:[0x0]
00471620 : PUSH EAX
00471621 : PUSH ECX
00471622 : PUSH EBX
00471623 : PUSH ESI
00471624 : PUSH EDI
00471625 : MOV EAX,[0x00d66fa0]
0047162a : XOR EAX,EBP
0047162c : PUSH EAX
0047162d : LEA EAX,[EBP + -0xc]
00471630 : MOV FS:[0x0],EAX
00471636 : MOV EDI,dword ptr [EBP + 0x8]
00471639 : XOR EBX,EBX
0047163b : CMP byte ptr [EDI + 0x10],BL
0047163e : JNZ 0x00471654
00471640 : MOV EAX,dword ptr [EDI + 0x4]
00471643 : LEA ESI,[EBP + -0x10]
00471646 : MOV dword ptr [EBP + -0x10],EAX
00471649 : CALL 0x004717c0
0047164e : MOV dword ptr [EDI + 0x4],EBX
00471651 : MOV dword ptr [EDI + 0xc],EBX
00471654 : MOV dword ptr [EDI + 0x8],EBX
00471657 : CMP byte ptr [EDI + 0x10],BL
0047165a : JZ 0x00471662
0047165c : MOV dword ptr [EDI + 0xc],EBX
0047165f : MOV dword ptr [EDI + 0x4],EBX
00471662 : MOV ECX,dword ptr [EBP + 0xc]
00471665 : CMP ECX,EBX
00471667 : JNZ 0x00471680
00471669 : MOV byte ptr [EDI + 0x10],BL
0047166c : MOV ECX,dword ptr [EBP + -0xc]
0047166f : MOV dword ptr FS:[0x0],ECX
00471676 : POP ECX
00471677 : POP EDI
00471678 : POP ESI
00471679 : POP EBX
0047167a : MOV ESP,EBP
0047167c : POP EBP
0047167d : RET 0xc
00471680 : MOV EAX,0xcccccccd
00471685 : MUL dword ptr [EBP + 0x10]
00471688 : SHR EDX,0x4
0047168b : MOV dword ptr [EDI + 0x4],ECX
0047168e : XOR ECX,ECX
00471690 : MOV dword ptr [EDI + 0xc],EDX
00471693 : MOV dword ptr [EBP + 0xc],ECX
00471696 : CMP EDX,EBX
00471698 : JBE 0x004716cd
0047169a : OR EDX,0xffffffff
0047169d : LEA ECX,[ECX]
004716a0 : MOV ESI,dword ptr [EDI + 0x4]
004716a3 : LEA EAX,[ECX + ECX*0x4]
004716a6 : LEA EAX,[ESI + EAX*0x4]
004716a9 : MOV dword ptr [EBP + 0x10],EAX
004716ac : MOV dword ptr [EBP + -0x4],EBX
004716af : CMP EAX,EBX
004716b1 : JZ 0x004716c1
004716b3 : MOV dword ptr [EAX],EDX
004716b5 : MOV dword ptr [EAX + 0x4],EBX
004716b8 : MOV dword ptr [EAX + 0x8],EBX
004716bb : MOV dword ptr [EAX + 0xc],EBX
004716be : MOV dword ptr [EAX + 0x10],EBX
004716c1 : MOV dword ptr [EBP + -0x4],EDX
004716c4 : INC ECX
004716c5 : MOV dword ptr [EBP + 0xc],ECX
004716c8 : CMP ECX,dword ptr [EDI + 0xc]
004716cb : JC 0x004716a0
004716cd : MOV byte ptr [EDI + 0x10],0x1
004716d1 : MOV ECX,dword ptr [EBP + -0xc]
004716d4 : MOV dword ptr FS:[0x0],ECX
004716db : POP ECX
004716dc : POP EDI
004716dd : POP ESI
004716de : POP EBX
004716df : MOV ESP,EBP
004716e1 : POP EBP
004716e2 : RET 0xc
