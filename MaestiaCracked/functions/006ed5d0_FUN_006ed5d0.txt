PROGRAM  : Maestia.exe
FUNCTION : FUN_006ed5d0
ENTRY    : 006ed5d0
BODY     : [[006ed5d0, 006ed628]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 FUN_006ed5d0(undefined4 param_1)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int in_EAX;
  
  iVar3 = DAT_01720ef0;
  iVar1 = *(int *)ThreadLocalStoragePointer;
  uVar2 = *(uint *)(iVar1 + 0x2c);
  if ((DAT_01720ef0 != 0) && (uVar2 < 0x40)) {
    *(int *)(DAT_01720ef0 + ((*(int *)(iVar1 + 0x1c) + 0x20) * 0x40 + uVar2) * 4) =
         in_EAX - _DAT_00da93e0;
  }
  *(uint *)(iVar1 + 0x2c) = uVar2 + 1;
  *(int *)(iVar3 + 0xa000 + *(int *)(iVar1 + 0x1c) * 4) = DAT_01720ef4 + 1;
  DAT_01720ef4 = DAT_01720ef4 + 1;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
006ed5d0 : PUSH EBP
006ed5d1 : MOV EBP,ESP
006ed5d3 : MOV EDX,dword ptr [0x01720ef0]
006ed5d9 : PUSH ESI
006ed5da : MOV ESI,EAX
006ed5dc : MOV EAX,FS:[0x2c]
006ed5e2 : MOV EAX,dword ptr [EAX]
006ed5e4 : MOV ECX,dword ptr [EAX + 0x2c]
006ed5e7 : TEST EDX,EDX
006ed5e9 : JZ 0x006ed606
006ed5eb : CMP ECX,0x40
006ed5ee : JNC 0x006ed606
006ed5f0 : SUB ESI,dword ptr [0x00da93e0]
006ed5f6 : PUSH EDI
006ed5f7 : MOV EDI,dword ptr [EAX + 0x1c]
006ed5fa : ADD EDI,0x20
006ed5fd : SHL EDI,0x6
006ed600 : ADD EDI,ECX
006ed602 : MOV dword ptr [EDX + EDI*0x4],ESI
006ed605 : POP EDI
006ed606 : INC ECX
006ed607 : MOV dword ptr [EAX + 0x2c],ECX
006ed60a : MOV ECX,dword ptr [0x01720ef4]
006ed610 : MOV EAX,dword ptr [EAX + 0x1c]
006ed613 : INC ECX
006ed614 : MOV dword ptr [EDX + EAX*0x4 + 0xa000],ECX
006ed61b : MOV EAX,dword ptr [EBP + 0x8]
006ed61e : MOV dword ptr [0x01720ef4],ECX
006ed624 : POP ESI
006ed625 : POP EBP
006ed626 : RET 0x4
