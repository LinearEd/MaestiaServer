PROGRAM  : Maestia.exe
FUNCTION : FUN_0089fb70
ENTRY    : 0089fb70
BODY     : [[0089fb70, 0089fcd7]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0089fb70(int param_1,int param_2,undefined4 param_3,undefined4 *param_4,undefined4 param_5)

{
  uint uVar1;
  undefined4 uVar2;
  undefined4 *in_EDX;
  uint local_48;
  int local_44;
  undefined4 local_40;
  undefined4 *local_3c;
  undefined4 *local_38;
  undefined4 *local_34;
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1c807;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_40 = param_3;
  local_2c = 0;
  local_38 = param_4;
  local_18 = 7;
  local_1c = 0;
  local_3c = in_EDX;
  local_14 = uVar1;
  FUN_00406360(&DAT_00c49308,0);
  local_8 = 0;
  if (*(uint *)(param_2 + 0x18) < 8) {
    param_2 = param_2 + 4;
  }
  else {
    param_2 = *(int *)(param_2 + 4);
  }
  uVar2 = FUN_00404750(L"%s_%d",param_2,param_5,uVar1);
  local_8._0_1_ = 1;
  FUN_00405eb0(uVar2,0,0xffffffff);
  local_8 = (uint)local_8._1_3_ << 8;
  if (local_48 < 8) {
    FUN_0043acd0(param_1 + 0x54,&local_44);
    if (local_44 == *(int *)(param_1 + 0x58)) {
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    else {
      FUN_00405eb0(*(undefined4 *)(local_44 + 0x28),0,0xffffffff);
      *local_3c = *(undefined4 *)(*(int *)(local_44 + 0x28) + 0x20);
      *local_34 = *(undefined4 *)(*(int *)(local_44 + 0x28) + 0x1c);
      *local_38 = *(undefined4 *)(*(int *)(local_44 + 0x28) + 0x24);
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    local_8 = 0xffffffff;
    local_2c = 0;
    local_1c = 0;
    local_18 = 7;
    ExceptionList = local_10;
    __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0089fb70 : PUSH EBP
0089fb71 : MOV EBP,ESP
0089fb73 : PUSH -0x1
0089fb75 : PUSH 0xb1c807
0089fb7a : MOV EAX,FS:[0x0]
0089fb80 : PUSH EAX
0089fb81 : SUB ESP,0x50
0089fb84 : MOV EAX,[0x00d66fa0]
0089fb89 : XOR EAX,EBP
0089fb8b : MOV dword ptr [EBP + -0x10],EAX
0089fb8e : PUSH EBX
0089fb8f : PUSH ESI
0089fb90 : PUSH EDI
0089fb91 : PUSH EAX
0089fb92 : LEA EAX,[EBP + -0xc]
0089fb95 : MOV FS:[0x0],EAX
0089fb9b : MOV EAX,dword ptr [EBP + 0x10]
0089fb9e : MOV EDI,dword ptr [EBP + 0x8]
0089fba1 : MOV ESI,dword ptr [EBP + 0xc]
0089fba4 : MOV dword ptr [EBP + -0x30],ECX
0089fba7 : XOR EBX,EBX
0089fba9 : XOR ECX,ECX
0089fbab : MOV dword ptr [EBP + -0x3c],EAX
0089fbae : MOV EAX,dword ptr [EBP + 0x14]
0089fbb1 : PUSH EBX
0089fbb2 : MOV word ptr [EBP + -0x28],CX
0089fbb6 : PUSH 0xc49308
0089fbbb : LEA ECX,[EBP + -0x2c]
0089fbbe : MOV dword ptr [EBP + -0x38],EDX
0089fbc1 : MOV dword ptr [EBP + -0x34],EAX
0089fbc4 : MOV dword ptr [EBP + -0x14],0x7
0089fbcb : MOV dword ptr [EBP + -0x18],EBX
0089fbce : CALL 0x00406360
0089fbd3 : MOV dword ptr [EBP + -0x4],EBX
0089fbd6 : CMP dword ptr [ESI + 0x18],0x8
0089fbda : JC 0x0089fbe1
0089fbdc : MOV ESI,dword ptr [ESI + 0x4]
0089fbdf : JMP 0x0089fbe4
0089fbe1 : ADD ESI,0x4
0089fbe4 : MOV EDX,dword ptr [EBP + 0x18]
0089fbe7 : PUSH EDX
0089fbe8 : PUSH ESI
0089fbe9 : PUSH 0xc4930c
0089fbee : LEA ESI,[EBP + -0x5c]
0089fbf1 : CALL 0x00404750
0089fbf6 : ADD ESP,0xc
0089fbf9 : MOV byte ptr [EBP + -0x4],0x1
0089fbfd : PUSH -0x1
0089fbff : PUSH EBX
0089fc00 : PUSH EAX
0089fc01 : LEA ECX,[EBP + -0x2c]
0089fc04 : CALL 0x00405eb0
0089fc09 : MOV byte ptr [EBP + -0x4],BL
0089fc0c : CMP dword ptr [EBP + -0x44],0x8
0089fc10 : JC 0x0089fc1a
0089fc12 : MOV ECX,dword ptr [EBP + -0x58]
0089fc15 : CALL 0x006f04e0
0089fc1a : LEA ECX,[EBP + -0x40]
0089fc1d : PUSH ECX
0089fc1e : LEA EDX,[EDI + 0x54]
0089fc21 : XOR EAX,EAX
0089fc23 : PUSH EDX
0089fc24 : LEA ESI,[EBP + -0x2c]
0089fc27 : MOV dword ptr [EBP + -0x44],0x7
0089fc2e : MOV dword ptr [EBP + -0x48],EBX
0089fc31 : MOV word ptr [EBP + -0x58],AX
0089fc35 : CALL 0x0043acd0
0089fc3a : MOV EDI,dword ptr [EDI + 0x58]
0089fc3d : MOV ESI,dword ptr [EBP + -0x40]
0089fc40 : CMP ESI,EDI
0089fc42 : JZ 0x0089fc93
0089fc44 : MOV EAX,dword ptr [ESI + 0x28]
0089fc47 : MOV ECX,dword ptr [EBP + -0x3c]
0089fc4a : PUSH -0x1
0089fc4c : PUSH EBX
0089fc4d : PUSH EAX
0089fc4e : CALL 0x00405eb0
0089fc53 : MOV EAX,dword ptr [ESI + 0x28]
0089fc56 : FLD float ptr [EAX + 0x20]
0089fc59 : MOV ECX,dword ptr [EBP + -0x38]
0089fc5c : MOV EAX,dword ptr [EBP + -0x30]
0089fc5f : FSTP float ptr [ECX]
0089fc61 : MOV EDX,dword ptr [ESI + 0x28]
0089fc64 : FLD float ptr [EDX + 0x1c]
0089fc67 : MOV EDX,dword ptr [EBP + -0x34]
0089fc6a : FSTP float ptr [EAX]
0089fc6c : MOV ECX,dword ptr [ESI + 0x28]
0089fc6f : FLD float ptr [ECX + 0x24]
0089fc72 : FSTP float ptr [EDX]
0089fc74 : MOV dword ptr [EBP + -0x4],0xffffffff
0089fc7b : CMP dword ptr [EBP + -0x14],0x8
0089fc7f : JC 0x0089fc89
0089fc81 : MOV ECX,dword ptr [EBP + -0x28]
0089fc84 : CALL 0x006f04e0
0089fc89 : XOR EAX,EAX
0089fc8b : MOV word ptr [EBP + -0x28],AX
0089fc8f : MOV AL,0x1
0089fc91 : JMP 0x0089fcb0
0089fc93 : MOV dword ptr [EBP + -0x4],0xffffffff
0089fc9a : CMP dword ptr [EBP + -0x14],0x8
0089fc9e : JC 0x0089fca8
0089fca0 : MOV ECX,dword ptr [EBP + -0x28]
0089fca3 : CALL 0x006f04e0
0089fca8 : XOR ECX,ECX
0089fcaa : MOV word ptr [EBP + -0x28],CX
0089fcae : XOR AL,AL
0089fcb0 : MOV dword ptr [EBP + -0x18],EBX
0089fcb3 : MOV dword ptr [EBP + -0x14],0x7
0089fcba : MOV ECX,dword ptr [EBP + -0xc]
0089fcbd : MOV dword ptr FS:[0x0],ECX
0089fcc4 : POP ECX
0089fcc5 : POP EDI
0089fcc6 : POP ESI
0089fcc7 : POP EBX
0089fcc8 : MOV ECX,dword ptr [EBP + -0x10]
0089fccb : XOR ECX,EBP
0089fccd : CALL 0x00633e6b
0089fcd2 : MOV ESP,EBP
0089fcd4 : POP EBP
0089fcd5 : RET 0x14
