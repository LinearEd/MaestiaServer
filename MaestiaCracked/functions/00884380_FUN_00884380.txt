PROGRAM  : Maestia.exe
FUNCTION : FUN_00884380
ENTRY    : 00884380
BODY     : [[00884380, 008844be]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00884380(void)

{
  int iVar1;
  DWORD DVar2;
  int in_ECX;
  bool bVar3;
  
  DVar2 = GetTickCount();
  bVar3 = DAT_00d6c927 == '\0';
  if (bVar3) {
    FUN_007f25a0(0xc1580000);
  }
  else {
    FUN_007f25a0(0x41580000);
  }
  DAT_00d6c927 = bVar3;
  if (DVar2 - _DAT_00da987c < 3000) {
    DAT_01720f04 = DAT_01720f04 + DAT_00da9880;
    DAT_01720f00 = DAT_01720f00 + DAT_00da9880;
    DAT_01720f08 = DAT_01720f08 + DAT_00da9880;
    iVar1 = *(int *)(in_ECX + 1000);
    *(float *)(iVar1 + 0x84) = DAT_01720f00;
    *(float *)(iVar1 + 0x88) = DAT_01720f04;
    *(float *)(iVar1 + 0x8c) = DAT_01720f08;
    *(undefined1 *)(iVar1 + 0x5d) = 1;
    *(undefined1 *)(iVar1 + 0x134) = 1;
    *(undefined1 *)(iVar1 + 0x5c) = 1;
    if (*(int **)(iVar1 + 0x2c) != (int *)0x0) {
      (**(code **)(**(int **)(iVar1 + 0x2c) + 0x60))(iVar1);
      return;
    }
  }
  else {
    *(undefined1 *)(in_ECX + 0x12ad) = 1;
    (**(code **)(*(int *)(*(int *)(*(int *)(in_ECX + 0x138) + 4) + 0x138 + in_ECX) + 0x10))
              (in_ECX + 0xc88,0,1,0);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00884380 : PUSH EBP
00884381 : MOV EBP,ESP
00884383 : AND ESP,0xfffffff8
00884386 : PUSH ECX
00884387 : PUSH EBX
00884388 : PUSH ESI
00884389 : PUSH EDI
0088438a : MOV EDI,ECX
0088438c : CALL dword ptr [0x00b850d8]
00884392 : CMP byte ptr [0x00d6c927],0x0
00884399 : MOV dword ptr [ESP + 0xc],EAX
0088439d : MOV EBX,0x1
008843a2 : PUSH ECX
008843a3 : JZ 0x008843c4
008843a5 : MOV EAX,[0x00da93ec]
008843aa : FLD float ptr [0x00cdf494]
008843b0 : MOV ESI,dword ptr [EAX + 0x74]
008843b3 : FSTP float ptr [ESP]
008843b6 : CALL 0x007f25a0
008843bb : MOV byte ptr [0x00d6c927],0x0
008843c2 : JMP 0x008843e1
008843c4 : MOV ECX,dword ptr [0x00da93ec]
008843ca : FLD float ptr [0x00cdf490]
008843d0 : MOV ESI,dword ptr [ECX + 0x74]
008843d3 : FSTP float ptr [ESP]
008843d6 : CALL 0x007f25a0
008843db : MOV byte ptr [0x00d6c927],BL
008843e1 : MOV EAX,dword ptr [ESP + 0xc]
008843e5 : SUB EAX,dword ptr [0x00da987c]
008843eb : CMP EAX,0xbb8
008843f0 : JNC 0x0088448a
008843f6 : MOVSS XMM2,dword ptr [0x01720f04]
008843fe : MOVSS XMM0,dword ptr [0x01720f00]
00884406 : MOVSS XMM1,dword ptr [0x00da9880]
0088440e : ADDSS XMM2,XMM1
00884412 : MOVSS dword ptr [0x01720f04],XMM2
0088441a : MOVSS XMM2,dword ptr [0x01720f08]
00884422 : ADDSS XMM0,XMM1
00884426 : MOVSS dword ptr [0x01720f00],XMM0
0088442e : ADDSS XMM2,XMM1
00884432 : MOVSS dword ptr [0x01720f08],XMM2
0088443a : MOV EAX,dword ptr [EDI + 0x3e8]
00884440 : MOVSS dword ptr [EAX + 0x84],XMM0
00884448 : MOVSS XMM0,dword ptr [0x01720f04]
00884450 : MOVSS dword ptr [EAX + 0x88],XMM0
00884458 : MOVSS XMM0,dword ptr [0x01720f08]
00884460 : MOVSS dword ptr [EAX + 0x8c],XMM0
00884468 : MOV ECX,dword ptr [EAX + 0x2c]
0088446b : MOV byte ptr [EAX + 0x5d],BL
0088446e : MOV byte ptr [EAX + 0x134],BL
00884474 : MOV byte ptr [EAX + 0x5c],BL
00884477 : TEST ECX,ECX
00884479 : JZ 0x008844b8
0088447b : MOV EDX,dword ptr [ECX]
0088447d : PUSH EAX
0088447e : MOV EAX,dword ptr [EDX + 0x60]
00884481 : CALL EAX
00884483 : POP EDI
00884484 : POP ESI
00884485 : POP EBX
00884486 : MOV ESP,EBP
00884488 : POP EBP
00884489 : RET
0088448a : MOV ECX,dword ptr [EDI + 0x138]
00884490 : MOV byte ptr [EDI + 0x12ad],BL
00884496 : MOV EDX,dword ptr [ECX + 0x4]
00884499 : MOV EAX,dword ptr [EDX + EDI*0x1 + 0x138]
008844a0 : PUSH 0x0
008844a2 : LEA ECX,[EDX + EDI*0x1 + 0x138]
008844a9 : MOV EDX,dword ptr [EAX + 0x10]
008844ac : PUSH EBX
008844ad : PUSH 0x0
008844af : ADD EDI,0xc88
008844b5 : PUSH EDI
008844b6 : CALL EDX
008844b8 : POP EDI
008844b9 : POP ESI
008844ba : POP EBX
008844bb : MOV ESP,EBP
008844bd : POP EBP
008844be : RET
