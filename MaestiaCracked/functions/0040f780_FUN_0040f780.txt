PROGRAM  : Maestia.exe
FUNCTION : FUN_0040f780
ENTRY    : 0040f780
BODY     : [[0040f780, 0040f838]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_0040f780(void)

{
  int in_EAX;
  int *piVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  int *unaff_EDI;
  int local_5c;
  undefined8 local_58;
  undefined8 local_50;
  undefined8 local_48;
  undefined8 local_40;
  undefined8 local_38;
  undefined4 local_30;
  undefined4 uStack_2c;
  undefined4 local_28;
  undefined4 uStack_24;
  undefined4 local_20;
  undefined4 uStack_1c;
  undefined4 local_18;
  undefined4 uStack_14;
  undefined4 local_10;
  undefined1 uStack_c;
  undefined1 uStack_b;
  undefined2 uStack_a;
  
  puVar4 = *(undefined4 **)(in_EAX + 4);
  if (*(char *)((int)puVar4[1] + 0x39) == '\0') {
    puVar2 = (undefined4 *)puVar4[1];
    do {
      if ((int)puVar2[3] < *unaff_EDI) {
        puVar3 = (undefined4 *)puVar2[2];
      }
      else {
        puVar3 = (undefined4 *)*puVar2;
        puVar4 = puVar2;
      }
      puVar2 = puVar3;
    } while (*(char *)((int)puVar3 + 0x39) == '\0');
  }
  if ((puVar4 != *(undefined4 **)(in_EAX + 4)) && ((int)puVar4[3] <= *unaff_EDI)) {
    return puVar4 + 4;
  }
  local_30 = 0;
  uStack_2c = 0;
  local_58 = 0;
  local_28 = 0;
  uStack_24 = 0;
  local_50 = 0;
  local_20 = 0;
  uStack_1c = 0;
  local_48 = 0;
  local_18 = 0;
  uStack_14 = 0;
  local_40 = 0;
  local_10 = 0;
  uStack_b = 0;
  local_5c = *unaff_EDI;
  uStack_c = 1;
  local_38 = CONCAT26(uStack_a,0x100000000);
  piVar1 = (int *)FUN_0040f980(puVar4,&local_5c);
  return (undefined4 *)(*piVar1 + 0x10);
}



============================================================
DISASSEMBLY
============================================================
0040f780 : PUSH EBP
0040f781 : MOV EBP,ESP
0040f783 : MOV EDX,dword ptr [EAX + 0x4]
0040f786 : MOV ECX,dword ptr [EDX + 0x4]
0040f789 : SUB ESP,0x58
0040f78c : PUSH EBX
0040f78d : PUSH ESI
0040f78e : MOV ESI,EDX
0040f790 : XOR EDX,EDX
0040f792 : CMP byte ptr [ECX + 0x39],DL
0040f795 : JNZ 0x0040f7b3
0040f797 : MOV EBX,dword ptr [EDI]
0040f799 : LEA ESP,[ESP]
0040f7a0 : CMP dword ptr [ECX + 0xc],EBX
0040f7a3 : JGE 0x0040f7aa
0040f7a5 : MOV ECX,dword ptr [ECX + 0x8]
0040f7a8 : JMP 0x0040f7ae
0040f7aa : MOV ESI,ECX
0040f7ac : MOV ECX,dword ptr [ECX]
0040f7ae : CMP byte ptr [ECX + 0x39],DL
0040f7b1 : JZ 0x0040f7a0
0040f7b3 : CMP ESI,dword ptr [EAX + 0x4]
0040f7b6 : JZ 0x0040f7bf
0040f7b8 : MOV ECX,dword ptr [EDI]
0040f7ba : CMP ECX,dword ptr [ESI + 0xc]
0040f7bd : JGE 0x0040f830
0040f7bf : MOV dword ptr [EBP + -0x2c],EDX
0040f7c2 : MOV dword ptr [EBP + -0x28],EDX
0040f7c5 : MOVQ XMM0,qword ptr [EBP + -0x2c]
0040f7ca : MOVQ qword ptr [EBP + -0x54],XMM0
0040f7cf : MOV dword ptr [EBP + -0x24],EDX
0040f7d2 : MOV dword ptr [EBP + -0x20],EDX
0040f7d5 : MOVQ XMM0,qword ptr [EBP + -0x24]
0040f7da : MOVQ qword ptr [EBP + -0x4c],XMM0
0040f7df : MOV dword ptr [EBP + -0x1c],EDX
0040f7e2 : MOV dword ptr [EBP + -0x18],EDX
0040f7e5 : MOVQ XMM0,qword ptr [EBP + -0x1c]
0040f7ea : LEA ECX,[EBP + -0x58]
0040f7ed : MOV dword ptr [EBP + -0x14],EDX
0040f7f0 : MOV dword ptr [EBP + -0x10],EDX
0040f7f3 : MOVQ qword ptr [EBP + -0x44],XMM0
0040f7f8 : MOVQ XMM0,qword ptr [EBP + -0x14]
0040f7fd : MOV dword ptr [EBP + -0xc],EDX
0040f800 : MOV byte ptr [EBP + -0x7],DL
0040f803 : MOV EDX,dword ptr [EDI]
0040f805 : PUSH ECX
0040f806 : MOVQ qword ptr [EBP + -0x3c],XMM0
0040f80b : PUSH ESI
0040f80c : MOV byte ptr [EBP + -0x8],0x1
0040f810 : MOVQ XMM0,qword ptr [EBP + -0xc]
0040f815 : LEA ESI,[EBP + -0x4]
0040f818 : MOV dword ptr [EBP + -0x58],EDX
0040f81b : MOVQ qword ptr [EBP + -0x34],XMM0
0040f820 : CALL 0x0040f980
0040f825 : MOV EAX,dword ptr [EAX]
0040f827 : ADD EAX,0x10
0040f82a : POP ESI
0040f82b : POP EBX
0040f82c : MOV ESP,EBP
0040f82e : POP EBP
0040f82f : RET
0040f830 : LEA EAX,[ESI + 0x10]
0040f833 : POP ESI
0040f834 : POP EBX
0040f835 : MOV ESP,EBP
0040f837 : POP EBP
0040f838 : RET
