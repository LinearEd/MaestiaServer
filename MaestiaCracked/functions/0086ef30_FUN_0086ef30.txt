PROGRAM  : Maestia.exe
FUNCTION : FUN_0086ef30
ENTRY    : 0086ef30
BODY     : [[0086ef30, 0086f082]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0086ef30(uint param_1,undefined4 param_2)

{
  int iVar1;
  float fVar2;
  float fVar3;
  int *piVar4;
  int iVar5;
  uint unaff_ESI;
  int unaff_EDI;
  
  if (*DAT_00da9894 != 0) {
    iVar1 = *(int *)(*DAT_00da9894 + 300);
    if ((iVar1 != 0) && (*(int *)(iVar1 + 8) != 0)) {
      piVar4 = (int *)0x0;
      if (iVar1 != 0) {
        piVar4 = *(int **)(iVar1 + 8);
      }
      (**(code **)(*piVar4 + 0x58))(param_1);
      if (*(int *)(*DAT_00da9894 + 300) == 0) {
        piVar4 = (int *)0x0;
      }
      else {
        piVar4 = *(int **)(*(int *)(*DAT_00da9894 + 300) + 8);
      }
      (**(code **)(*piVar4 + 0x54))();
      iVar1 = *DAT_00da9894;
      if ((*(char *)(*(int *)(iVar1 + 0x14c) + 0x98) != '\0') && (*(int *)(iVar1 + 0x28c) != 0)) {
        iVar5 = 0;
        if (*(int *)(iVar1 + 300) != 0) {
          iVar5 = *(int *)(*(int *)(iVar1 + 300) + 8);
        }
        FUN_0092bea0(*(int *)(iVar1 + 0x28c),*(undefined4 *)(iVar5 + 0x4c),param_1,unaff_ESI);
      }
    }
    if ((*(char *)(unaff_EDI + 0x426) != '\0') && (*(uint *)(unaff_EDI + 0xa4) < param_1)) {
      FUN_00900500(*(undefined4 *)(*DAT_00da9894 + 0x16c),param_1,unaff_ESI);
    }
  }
  if (unaff_ESI < param_1) {
    *(uint *)(unaff_EDI + 0xa4) = unaff_ESI;
  }
  else {
    *(uint *)(unaff_EDI + 0xa4) = param_1;
  }
  *(undefined4 *)(unaff_EDI + 0x1ef4) = param_2;
  iVar1 = *(int *)(unaff_EDI + 0x3f8);
  *(uint *)(unaff_EDI + 0xb0) = unaff_ESI;
  if (iVar1 != 0) {
    fVar2 = (float)*(int *)(unaff_EDI + 0xa4);
    if (*(int *)(unaff_EDI + 0xa4) < 0) {
      fVar2 = fVar2 + 4.2949673e+09;
    }
    fVar3 = (float)(int)unaff_ESI;
    if ((int)unaff_ESI < 0) {
      fVar3 = fVar3 + 4.2949673e+09;
    }
    *(float *)(iVar1 + 0x294) = fVar2 / fVar3;
    *(float *)(iVar1 + 0x298) = fVar2 / fVar3;
  }
  if (*(int *)(*(int *)(*DAT_00da9894 + 0x16c) + 0xe0) == *(int *)(unaff_EDI + 4)) {
    FUN_009000c0(param_1,unaff_ESI);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0086ef30 : PUSH EBP
0086ef31 : MOV EBP,ESP
0086ef33 : PUSH ECX
0086ef34 : MOV EAX,[0x00da9894]
0086ef39 : MOV EAX,dword ptr [EAX]
0086ef3b : PUSH EBX
0086ef3c : MOV EBX,dword ptr [EBP + 0x8]
0086ef3f : TEST EAX,EAX
0086ef41 : JZ 0x0086effd
0086ef47 : MOV ECX,dword ptr [EAX + 0x12c]
0086ef4d : TEST ECX,ECX
0086ef4f : JZ 0x0086efd7
0086ef55 : CMP dword ptr [ECX + 0x8],0x0
0086ef59 : JZ 0x0086efd7
0086ef5b : MOV EAX,ECX
0086ef5d : TEST EAX,EAX
0086ef5f : JZ 0x0086ef64
0086ef61 : MOV ECX,dword ptr [EAX + 0x8]
0086ef64 : MOV EDX,dword ptr [ECX]
0086ef66 : MOV EAX,dword ptr [EDX + 0x58]
0086ef69 : PUSH EBX
0086ef6a : CALL EAX
0086ef6c : MOV ECX,dword ptr [0x00da9894]
0086ef72 : MOV EAX,dword ptr [ECX]
0086ef74 : MOV EAX,dword ptr [EAX + 0x12c]
0086ef7a : TEST EAX,EAX
0086ef7c : JNZ 0x0086ef82
0086ef7e : XOR ECX,ECX
0086ef80 : JMP 0x0086ef85
0086ef82 : MOV ECX,dword ptr [EAX + 0x8]
0086ef85 : MOV EDX,dword ptr [ECX]
0086ef87 : MOV EAX,dword ptr [EDX + 0x54]
0086ef8a : PUSH ESI
0086ef8b : CALL EAX
0086ef8d : MOV ECX,dword ptr [0x00da9894]
0086ef93 : MOV EAX,dword ptr [ECX]
0086ef95 : MOV EDX,dword ptr [EAX + 0x14c]
0086ef9b : CMP byte ptr [EDX + 0x98],0x0
0086efa2 : JZ 0x0086efd7
0086efa4 : MOV EDX,dword ptr [EAX + 0x28c]
0086efaa : TEST EDX,EDX
0086efac : JZ 0x0086efd7
0086efae : MOV ECX,dword ptr [EAX + 0x12c]
0086efb4 : TEST ECX,ECX
0086efb6 : JZ 0x0086efbb
0086efb8 : MOV ECX,dword ptr [ECX + 0x8]
0086efbb : MOV EAX,dword ptr [EAX + 0x12c]
0086efc1 : MOV ECX,dword ptr [ECX + 0x4c]
0086efc4 : TEST EAX,EAX
0086efc6 : JZ 0x0086efcb
0086efc8 : MOV EAX,dword ptr [EAX + 0x8]
0086efcb : PUSH ESI
0086efcc : PUSH EBX
0086efcd : PUSH ECX
0086efce : MOV ECX,dword ptr [EAX + 0x50]
0086efd1 : PUSH EDX
0086efd2 : CALL 0x0092bea0
0086efd7 : CMP byte ptr [EDI + 0x426],0x0
0086efde : JZ 0x0086effd
0086efe0 : CMP dword ptr [EDI + 0xa4],EBX
0086efe6 : JNC 0x0086effd
0086efe8 : MOV EAX,[0x00da9894]
0086efed : MOV ECX,dword ptr [EAX]
0086efef : MOV EDX,dword ptr [ECX + 0x16c]
0086eff5 : PUSH ESI
0086eff6 : PUSH EBX
0086eff7 : PUSH EDX
0086eff8 : CALL 0x00900500
0086effd : CMP ESI,EBX
0086efff : JNC 0x0086f009
0086f001 : MOV dword ptr [EDI + 0xa4],ESI
0086f007 : JMP 0x0086f00f
0086f009 : MOV dword ptr [EDI + 0xa4],EBX
0086f00f : MOV EAX,dword ptr [EBP + 0xc]
0086f012 : MOV dword ptr [EDI + 0x1ef4],EAX
0086f018 : MOV EAX,dword ptr [EDI + 0x3f8]
0086f01e : MOV dword ptr [EDI + 0xb0],ESI
0086f024 : TEST EAX,EAX
0086f026 : JZ 0x0086f05e
0086f028 : MOV ECX,dword ptr [EDI + 0xa4]
0086f02e : FILD dword ptr [EDI + 0xa4]
0086f034 : TEST ECX,ECX
0086f036 : JGE 0x0086f03e
0086f038 : FADD float ptr [0x00cdf0e0]
0086f03e : MOV EDX,ESI
0086f040 : MOV dword ptr [EBP + 0x8],EDX
0086f043 : FILD dword ptr [EBP + 0x8]
0086f046 : TEST EDX,EDX
0086f048 : JGE 0x0086f050
0086f04a : FADD float ptr [0x00cdf0e0]
0086f050 : FDIVP
0086f052 : FST float ptr [EAX + 0x294]
0086f058 : FSTP float ptr [EAX + 0x298]
0086f05e : MOV EAX,[0x00da9894]
0086f063 : MOV ECX,dword ptr [EAX]
0086f065 : MOV EAX,dword ptr [ECX + 0x16c]
0086f06b : MOV EDX,dword ptr [EAX + 0xe0]
0086f071 : CMP EDX,dword ptr [EDI + 0x4]
0086f074 : JNZ 0x0086f07d
0086f076 : PUSH ESI
0086f077 : PUSH EBX
0086f078 : CALL 0x009000c0
0086f07d : POP EBX
0086f07e : POP ECX
0086f07f : POP EBP
0086f080 : RET 0x8
