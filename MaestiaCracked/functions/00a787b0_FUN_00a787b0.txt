PROGRAM  : Maestia.exe
FUNCTION : FUN_00a787b0
ENTRY    : 00a787b0
BODY     : [[00a787b0, 00a789a5]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a787b0(void)

{
  int iVar1;
  int iVar2;
  undefined1 **ppuVar3;
  int *in_ECX;
  undefined4 ***pppuVar4;
  undefined4 uStack_88;
  int *piStack_84;
  int *piStack_80;
  char *pcStack_7c;
  undefined4 **ppuStack_78;
  undefined4 **ppuStack_74;
  undefined1 **ppuStack_70;
  uint uStack_6c;
  uint local_44;
  int local_40;
  undefined1 *local_38;
  undefined4 **local_34;
  undefined1 local_30 [4];
  undefined4 **local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4a1e7;
  local_10 = ExceptionList;
  uStack_6c = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_34 = (undefined4 ***)0x0;
  local_14 = uStack_6c;
  do {
    pppuVar4 = (undefined4 ***)local_34;
    if (((int)local_34 < 0xe) || (0x13 < (int)local_34)) {
      ppuStack_70 = (undefined1 **)0x0;
      ppuStack_78 = (undefined4 ***)0xa78801;
      ppuStack_74 = local_34;
      iVar2 = (**(code **)(*in_ECX + 0x74))();
      iVar1 = DAT_00d7c54c;
      if (iVar2 != 0) {
        local_38 = *(undefined1 **)(iVar2 + 0x10);
        ppuStack_70 = &local_38;
        ppuStack_74 = (undefined4 ***)0xa78826;
        FUN_004437f0();
        pppuVar4 = (undefined4 ***)local_34;
        if ((local_40 != *(int *)(iVar1 + 0x44)) && (iVar1 = *(int *)(local_40 + 0x10), iVar1 != 0))
        {
          local_18 = 7;
          local_1c = 0;
          local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
          local_8 = 0;
          ppuStack_70 = (undefined1 **)local_30;
          ppuStack_74 = (undefined4 **)
                        CONCAT22(*(undefined2 *)(iVar1 + 4),*(undefined2 *)(iVar1 + 6));
          ppuStack_78 = (undefined4 **)0xa7886e;
          (**(code **)(*in_ECX + 0x58))();
          local_38 = (undefined1 *)&uStack_88;
          ppuStack_70 = (undefined1 **)0x7;
          ppuStack_74 = (undefined4 **)0x0;
          piStack_84 = (int *)((uint)piStack_84 & 0xffff0000);
          FUN_00405eb0(local_30,0,0xffffffff);
          local_8 = local_8 & 0xffffff00;
          ppuStack_78 = (undefined4 **)FUN_008f75f0();
          local_8._0_1_ = 2;
          ppuStack_70 = (undefined1 **)0xffffffff;
          ppuStack_74 = (undefined4 ***)0x0;
          pcStack_7c = (char *)0xa788b5;
          FUN_00405eb0();
          local_8 = (uint)local_8._1_3_ << 8;
          if (7 < local_44) {
                    /* WARNING: Subroutine does not return */
            ppuStack_70 = (undefined1 **)0xa788c6;
            FUN_006f04e0();
          }
          local_44 = 7;
          iVar1 = *DAT_00da9894;
          if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
            piStack_84 = *(int **)(iVar1 + 0x114);
            ppuStack_70 = *(undefined1 ***)(iVar2 + 0xb0);
            ppuStack_74 = local_2c[0];
            if (local_18 < 8) {
              ppuStack_74 = local_2c;
            }
            ppuStack_78 = local_34;
            pcStack_7c = "%d,%ls,%d";
            piStack_80 = (int *)0xc50948;
            uStack_88 = 0xa78916;
            (**(code **)(*piStack_84 + 4))();
          }
          ppuStack_70 = (undefined1 **)0xa78925;
          ppuVar3 = (undefined1 **)FUN_00a08b70();
          iVar1 = *DAT_00da9894;
          if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
            piStack_80 = *(int **)(iVar1 + 0x114);
            ppuStack_74 = local_34;
            ppuStack_78 = (undefined4 **)0xc5095c;
            pcStack_7c = "OtherCharInfoQuality";
            piStack_84 = (int *)0xa78956;
            ppuStack_70 = ppuVar3;
            (**(code **)(*piStack_80 + 4))();
          }
          local_8 = 0xffffffff;
          if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
            ppuStack_70 = (undefined1 **)0xa7896e;
            FUN_006f04e0();
          }
          local_18 = 7;
          local_1c = 0;
          local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
          pppuVar4 = (undefined4 ***)local_34;
        }
      }
    }
    local_34 = (undefined4 **)((int)pppuVar4 + 1);
    if (0x1d < (int)local_34) {
      ExceptionList = local_10;
      __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
      return;
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00a787b0 : PUSH EBP
00a787b1 : MOV EBP,ESP
00a787b3 : PUSH -0x1
00a787b5 : PUSH 0xb4a1e7
00a787ba : MOV EAX,FS:[0x0]
00a787c0 : PUSH EAX
00a787c1 : SUB ESP,0x4c
00a787c4 : MOV EAX,[0x00d66fa0]
00a787c9 : XOR EAX,EBP
00a787cb : MOV dword ptr [EBP + -0x10],EAX
00a787ce : PUSH EBX
00a787cf : PUSH ESI
00a787d0 : PUSH EDI
00a787d1 : PUSH EAX
00a787d2 : LEA EAX,[EBP + -0xc]
00a787d5 : MOV FS:[0x0],EAX
00a787db : XOR EBX,EBX
00a787dd : XOR ESI,ESI
00a787df : MOV dword ptr [EBP + -0x38],ECX
00a787e2 : MOV dword ptr [EBP + -0x30],ESI
00a787e5 : JMP 0x00a787ea
00a787e7 : MOV ECX,dword ptr [EBP + -0x38]
00a787ea : CMP ESI,0xe
00a787ed : JL 0x00a787f8
00a787ef : CMP ESI,0x13
00a787f2 : JLE 0x00a7897d
00a787f8 : MOV EAX,dword ptr [ECX]
00a787fa : MOV EDX,dword ptr [EAX + 0x74]
00a787fd : PUSH EBX
00a787fe : PUSH ESI
00a787ff : CALL EDX
00a78801 : MOV EDI,EAX
00a78803 : CMP EDI,EBX
00a78805 : JZ 0x00a7897d
00a7880b : MOV EAX,dword ptr [EDI + 0x10]
00a7880e : MOV ESI,dword ptr [0x00d7c54c]
00a78814 : LEA ECX,[EBP + -0x34]
00a78817 : MOV dword ptr [EBP + -0x34],EAX
00a7881a : PUSH ECX
00a7881b : LEA ECX,[ESI + 0x40]
00a7881e : LEA EAX,[EBP + -0x3c]
00a78821 : CALL 0x004437f0
00a78826 : MOV ESI,dword ptr [ESI + 0x44]
00a78829 : MOV EAX,dword ptr [EBP + -0x3c]
00a7882c : CMP EAX,ESI
00a7882e : JZ 0x00a7897a
00a78834 : MOV EAX,dword ptr [EAX + 0x10]
00a78837 : CMP EAX,EBX
00a78839 : JZ 0x00a7897a
00a7883f : XOR EDX,EDX
00a78841 : MOV dword ptr [EBP + -0x14],0x7
00a78848 : MOV dword ptr [EBP + -0x18],EBX
00a7884b : MOV word ptr [EBP + -0x28],DX
00a7884f : MOV dword ptr [EBP + -0x4],EBX
00a78852 : MOV ECX,dword ptr [EBP + -0x38]
00a78855 : MOV EDX,dword ptr [ECX]
00a78857 : MOV EDX,dword ptr [EDX + 0x58]
00a7885a : LEA ESI,[EBP + -0x2c]
00a7885d : PUSH ESI
00a7885e : MOVZX ESI,word ptr [EAX + 0x4]
00a78862 : MOVZX EAX,word ptr [EAX + 0x6]
00a78866 : SHL ESI,0x10
00a78869 : OR ESI,EAX
00a7886b : PUSH ESI
00a7886c : CALL EDX
00a7886e : SUB ESP,0x1c
00a78871 : MOV ECX,ESP
00a78873 : MOV dword ptr [EBP + -0x34],ESP
00a78876 : PUSH -0x1
00a78878 : PUSH EBX
00a78879 : LEA EDX,[EBP + -0x2c]
00a7887c : MOV ESI,0x7
00a78881 : XOR EAX,EAX
00a78883 : MOV dword ptr [ECX + 0x18],ESI
00a78886 : MOV dword ptr [ECX + 0x14],EBX
00a78889 : PUSH EDX
00a7888a : MOV word ptr [ECX + 0x4],AX
00a7888e : CALL 0x00405eb0
00a78893 : MOV byte ptr [EBP + -0x4],0x1
00a78897 : MOV byte ptr [EBP + -0x4],BL
00a7889a : LEA ECX,[EBP + -0x58]
00a7889d : CALL 0x008f75f0
00a788a2 : ADD ESP,0x1c
00a788a5 : MOV byte ptr [EBP + -0x4],0x2
00a788a9 : PUSH -0x1
00a788ab : PUSH EBX
00a788ac : PUSH EAX
00a788ad : LEA ECX,[EBP + -0x2c]
00a788b0 : CALL 0x00405eb0
00a788b5 : MOV byte ptr [EBP + -0x4],BL
00a788b8 : CMP dword ptr [EBP + -0x40],0x8
00a788bc : JC 0x00a788c6
00a788be : MOV ECX,dword ptr [EBP + -0x54]
00a788c1 : CALL 0x006f04e0
00a788c6 : MOV ECX,dword ptr [0x00da9894]
00a788cc : XOR EAX,EAX
00a788ce : MOV dword ptr [EBP + -0x40],ESI
00a788d1 : MOV dword ptr [EBP + -0x44],EBX
00a788d4 : MOV word ptr [EBP + -0x54],AX
00a788d8 : MOV EAX,dword ptr [ECX]
00a788da : CMP EAX,EBX
00a788dc : JZ 0x00a7891e
00a788de : CMP dword ptr [EAX + 0x114],EBX
00a788e4 : JZ 0x00a7891e
00a788e6 : CMP dword ptr [EBP + -0x14],0x8
00a788ea : MOV EAX,dword ptr [EAX + 0x114]
00a788f0 : MOV ECX,dword ptr [EDI + 0xb0]
00a788f6 : MOV EDX,dword ptr [EBP + -0x28]
00a788f9 : JNC 0x00a788fe
00a788fb : LEA EDX,[EBP + -0x28]
00a788fe : MOV ESI,dword ptr [EAX]
00a78900 : PUSH ECX
00a78901 : PUSH EDX
00a78902 : MOV EDX,dword ptr [EBP + -0x30]
00a78905 : PUSH EDX
00a78906 : PUSH 0xc5093c
00a7890b : PUSH 0xc50948
00a78910 : PUSH EAX
00a78911 : MOV EAX,dword ptr [ESI + 0x4]
00a78914 : CALL EAX
00a78916 : ADD ESP,0x18
00a78919 : MOV ESI,0x7
00a7891e : MOV ECX,EDI
00a78920 : CALL 0x00a08b70
00a78925 : MOV ECX,dword ptr [0x00da9894]
00a7892b : MOV ECX,dword ptr [ECX]
00a7892d : CMP ECX,EBX
00a7892f : JZ 0x00a78959
00a78931 : CMP dword ptr [ECX + 0x114],EBX
00a78937 : JZ 0x00a78959
00a78939 : MOV ECX,dword ptr [ECX + 0x114]
00a7893f : MOV EDX,dword ptr [ECX]
00a78941 : PUSH EAX
00a78942 : MOV EAX,dword ptr [EBP + -0x30]
00a78945 : PUSH EAX
00a78946 : PUSH 0xc5095c
00a7894b : PUSH 0xc50964
00a78950 : PUSH ECX
00a78951 : MOV ECX,dword ptr [EDX + 0x4]
00a78954 : CALL ECX
00a78956 : ADD ESP,0x14
00a78959 : MOV dword ptr [EBP + -0x4],0xffffffff
00a78960 : CMP dword ptr [EBP + -0x14],0x8
00a78964 : JC 0x00a7896e
00a78966 : MOV ECX,dword ptr [EBP + -0x28]
00a78969 : CALL 0x006f04e0
00a7896e : XOR EDX,EDX
00a78970 : MOV dword ptr [EBP + -0x14],ESI
00a78973 : MOV dword ptr [EBP + -0x18],EBX
00a78976 : MOV word ptr [EBP + -0x28],DX
00a7897a : MOV ESI,dword ptr [EBP + -0x30]
00a7897d : INC ESI
00a7897e : CMP ESI,0x1d
00a78981 : MOV dword ptr [EBP + -0x30],ESI
00a78984 : JLE 0x00a787e7
00a7898a : MOV ECX,dword ptr [EBP + -0xc]
00a7898d : MOV dword ptr FS:[0x0],ECX
00a78994 : POP ECX
00a78995 : POP EDI
00a78996 : POP ESI
00a78997 : POP EBX
00a78998 : MOV ECX,dword ptr [EBP + -0x10]
00a7899b : XOR ECX,EBP
00a7899d : CALL 0x00633e6b
00a789a2 : MOV ESP,EBP
00a789a4 : POP EBP
00a789a5 : RET
