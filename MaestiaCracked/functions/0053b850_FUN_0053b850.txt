PROGRAM  : Maestia.exe
FUNCTION : FUN_0053b850
ENTRY    : 0053b850
BODY     : [[0053b850, 0053b8dc] [0053b8e0, 0053b8ed]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0053b850(undefined2 *param_1,char *param_2,int param_3)

{
  char cVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  char *pcVar5;
  
  iVar4 = param_3;
  pcVar5 = param_2;
  if (param_3 == 0) {
    pcVar5 = param_2 + 1;
    do {
      cVar1 = *param_2;
      param_2 = param_2 + 1;
    } while (cVar1 != '\0');
    return -((int)param_2 - (int)pcVar5);
  }
  do {
    iVar2 = FUN_0051cb70(*param_1);
    param_1 = param_1 + 1;
    iVar3 = FUN_0051cb70((int)*pcVar5);
    pcVar5 = pcVar5 + 1;
    iVar4 = iVar4 + -1;
    if ((iVar4 == 0) || (iVar2 == 0)) break;
    if (iVar2 != iVar3) goto LAB_0053b8ca;
  } while (*pcVar5 != '\0');
  if ((iVar2 == iVar3) && ((iVar4 != 0 || (*pcVar5 != '\0')))) {
    pcVar5 = param_2 + 1;
    do {
      cVar1 = *param_2;
      param_2 = param_2 + 1;
    } while (cVar1 != '\0');
    return param_3 - ((int)param_2 - (int)pcVar5);
  }
LAB_0053b8ca:
  return iVar2 - iVar3;
}



============================================================
DISASSEMBLY
============================================================
0053b850 : PUSH ECX
0053b851 : PUSH EBP
0053b852 : MOV EBP,dword ptr [ESP + 0x14]
0053b856 : TEST EBP,EBP
0053b858 : JZ 0x0053b8d4
0053b85a : PUSH ESI
0053b85b : MOV ESI,dword ptr [ESP + 0x14]
0053b85f : PUSH EDI
0053b860 : MOV EDI,dword ptr [ESP + 0x14]
0053b864 : MOV dword ptr [ESP + 0xc],EBP
0053b868 : MOV dword ptr [ESP + 0x1c],ESI
0053b86c : PUSH EBX
0053b86d : LEA ECX,[ECX]
0053b870 : MOVZX EAX,word ptr [EDI]
0053b873 : PUSH EAX
0053b874 : CALL 0x0051cb70
0053b879 : MOV EBX,EAX
0053b87b : MOVSX EAX,byte ptr [ESI]
0053b87e : PUSH EAX
0053b87f : ADD EDI,0x2
0053b882 : CALL 0x0051cb70
0053b887 : ADD ESP,0x8
0053b88a : INC ESI
0053b88b : SUB EBP,0x1
0053b88e : MOV ECX,EAX
0053b890 : JZ 0x0053b89f
0053b892 : TEST EBX,EBX
0053b894 : JZ 0x0053b89f
0053b896 : CMP EBX,ECX
0053b898 : JNZ 0x0053b8ca
0053b89a : CMP byte ptr [ESI],0x0
0053b89d : JNZ 0x0053b870
0053b89f : CMP EBX,ECX
0053b8a1 : JNZ 0x0053b8ca
0053b8a3 : TEST EBP,EBP
0053b8a5 : JNZ 0x0053b8ac
0053b8a7 : CMP byte ptr [ESI],0x0
0053b8aa : JZ 0x0053b8ca
0053b8ac : MOV EAX,dword ptr [ESP + 0x20]
0053b8b0 : LEA EDX,[EAX + 0x1]
0053b8b3 : MOV CL,byte ptr [EAX]
0053b8b5 : INC EAX
0053b8b6 : TEST CL,CL
0053b8b8 : JNZ 0x0053b8b3
0053b8ba : POP EBX
0053b8bb : SUB EAX,EDX
0053b8bd : POP EDI
0053b8be : MOV ECX,EAX
0053b8c0 : MOV EAX,dword ptr [ESP + 0x8]
0053b8c4 : POP ESI
0053b8c5 : SUB EAX,ECX
0053b8c7 : POP EBP
0053b8c8 : POP ECX
0053b8c9 : RET
0053b8ca : MOV EAX,EBX
0053b8cc : POP EBX
0053b8cd : POP EDI
0053b8ce : POP ESI
0053b8cf : SUB EAX,ECX
0053b8d1 : POP EBP
0053b8d2 : POP ECX
0053b8d3 : RET
0053b8d4 : MOV EAX,dword ptr [ESP + 0x10]
0053b8d8 : LEA EDX,[EAX + 0x1]
0053b8db : JMP 0x0053b8e0
0053b8e0 : MOV CL,byte ptr [EAX]
0053b8e2 : INC EAX
0053b8e3 : TEST CL,CL
0053b8e5 : JNZ 0x0053b8e0
0053b8e7 : SUB EAX,EDX
0053b8e9 : NEG EAX
0053b8eb : POP EBP
0053b8ec : POP ECX
0053b8ed : RET
