PROGRAM  : Maestia.exe
FUNCTION : __local_unwind4
ENTRY    : 0064daf4
BODY     : [[0064daf4, 0064db83]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    __local_unwind4
   
   Libraries: Visual Studio 2005 Release, Visual Studio 2008 Release */

void __local_unwind4(uint *param_1,int param_2,uint param_3)

{
  undefined4 *puVar1;
  uint uVar2;
  void *pvStack_28;
  undefined1 *puStack_24;
  uint local_20;
  uint uStack_1c;
  int iStack_18;
  uint *puStack_14;
  
  puStack_14 = param_1;
  iStack_18 = param_2;
  uStack_1c = param_3;
  puStack_24 = &LAB_0064db84;
  pvStack_28 = ExceptionList;
  local_20 = DAT_00d66fa0 ^ (uint)&pvStack_28;
  ExceptionList = &pvStack_28;
  while( true ) {
    uVar2 = *(uint *)(param_2 + 0xc);
    if ((uVar2 == 0xfffffffe) || ((param_3 != 0xfffffffe && (uVar2 <= param_3)))) break;
    puVar1 = (undefined4 *)((*(uint *)(param_2 + 8) ^ *param_1) + 0x10 + uVar2 * 0xc);
    *(undefined4 *)(param_2 + 0xc) = *puVar1;
    if (puVar1[1] == 0) {
      __NLG_Notify(0x101);
      FUN_0065d568();
    }
  }
  ExceptionList = pvStack_28;
  return;
}



============================================================
DISASSEMBLY
============================================================
0064daf4 : PUSH EBX
0064daf5 : PUSH ESI
0064daf6 : PUSH EDI
0064daf7 : MOV EDX,dword ptr [ESP + 0x10]
0064dafb : MOV EAX,dword ptr [ESP + 0x14]
0064daff : MOV ECX,dword ptr [ESP + 0x18]
0064db03 : PUSH EBP
0064db04 : PUSH EDX
0064db05 : PUSH EAX
0064db06 : PUSH ECX
0064db07 : PUSH ECX
0064db08 : PUSH 0x64db84
0064db0d : PUSH dword ptr FS:[0x0]
0064db14 : MOV EAX,[0x00d66fa0]
0064db19 : XOR EAX,ESP
0064db1b : MOV dword ptr [ESP + 0x8],EAX
0064db1f : MOV dword ptr FS:[0x0],ESP
0064db26 : MOV EAX,dword ptr [ESP + 0x30]
0064db2a : MOV EBX,dword ptr [EAX + 0x8]
0064db2d : MOV ECX,dword ptr [ESP + 0x2c]
0064db31 : XOR EBX,dword ptr [ECX]
0064db33 : MOV ESI,dword ptr [EAX + 0xc]
0064db36 : CMP ESI,-0x2
0064db39 : JZ 0x0064db76
0064db3b : MOV EDX,dword ptr [ESP + 0x34]
0064db3f : CMP EDX,-0x2
0064db42 : JZ 0x0064db48
0064db44 : CMP ESI,EDX
0064db46 : JBE 0x0064db76
0064db48 : LEA ESI,[ESI + ESI*0x2]
0064db4b : LEA EBX,[EBX + ESI*0x4 + 0x10]
0064db4f : MOV ECX,dword ptr [EBX]
0064db51 : MOV dword ptr [EAX + 0xc],ECX
0064db54 : CMP dword ptr [EBX + 0x4],0x0
0064db58 : JNZ 0x0064db26
0064db5a : PUSH 0x101
0064db5f : MOV EAX,dword ptr [EBX + 0x8]
0064db62 : CALL 0x0065d549
0064db67 : MOV ECX,0x1
0064db6c : MOV EAX,dword ptr [EBX + 0x8]
0064db6f : CALL 0x0065d568
0064db74 : JMP 0x0064db26
0064db76 : POP dword ptr FS:[0x0]
0064db7d : ADD ESP,0x18
0064db80 : POP EDI
0064db81 : POP ESI
0064db82 : POP EBX
0064db83 : RET
