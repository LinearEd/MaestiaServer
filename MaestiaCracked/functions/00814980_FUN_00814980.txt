PROGRAM  : Maestia.exe
FUNCTION : FUN_00814980
ENTRY    : 00814980
BODY     : [[00814980, 00814a76]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00814980(undefined4 param_1,byte param_2,undefined4 param_3,undefined1 *param_4)

{
  undefined4 uVar1;
  undefined1 uVar2;
  uint uVar3;
  undefined4 uVar4;
  undefined4 in_ECX;
  int in_EDX;
  undefined1 local_34 [4];
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b29927;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = 0;
  _param_2 = (uint)param_2;
  FUN_004437f0(&param_2);
  if (local_18 == *(int *)(in_EDX + 0x84)) {
    FUN_00406460(&DAT_00c2e1bc);
  }
  else {
    uVar2 = FUN_007058c0(param_3);
    uVar1 = param_3;
    *param_4 = uVar2;
    uVar4 = FUN_00705e70(local_34,param_3);
    local_8 = 1;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8 = local_8 & 0xffffff00;
    if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0(uVar3);
    }
    local_1c = 7;
    local_20 = 0;
    local_30 = 0;
    FUN_00707af0(param_1,uVar1,in_ECX);
  }
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00814980 : PUSH EBP
00814981 : MOV EBP,ESP
00814983 : PUSH -0x1
00814985 : PUSH 0xb29927
0081498a : MOV EAX,FS:[0x0]
00814990 : PUSH EAX
00814991 : SUB ESP,0x24
00814994 : PUSH EBX
00814995 : PUSH ESI
00814996 : PUSH EDI
00814997 : MOV EAX,[0x00d66fa0]
0081499c : XOR EAX,EBP
0081499e : PUSH EAX
0081499f : LEA EAX,[EBP + -0xc]
008149a2 : MOV FS:[0x0],EAX
008149a8 : MOV EDI,ECX
008149aa : MOV ESI,EDX
008149ac : MOV dword ptr [EBP + -0x10],0x0
008149b3 : MOVZX EAX,byte ptr [EBP + 0xc]
008149b7 : LEA ECX,[EBP + 0xc]
008149ba : MOV dword ptr [EBP + 0xc],EAX
008149bd : PUSH ECX
008149be : LEA ECX,[ESI + 0x80]
008149c4 : LEA EAX,[EBP + -0x14]
008149c7 : CALL 0x004437f0
008149cc : MOV ESI,dword ptr [ESI + 0x84]
008149d2 : MOV EBX,dword ptr [EBP + -0x14]
008149d5 : CMP EBX,ESI
008149d7 : JNZ 0x008149ea
008149d9 : MOV ESI,dword ptr [EBP + 0x8]
008149dc : PUSH 0xc2e1bc
008149e1 : MOV ECX,ESI
008149e3 : CALL 0x00406460
008149e8 : JMP 0x00814a53
008149ea : MOV EDX,dword ptr [EBP + 0x10]
008149ed : MOV ESI,dword ptr [EBX + 0x10]
008149f0 : PUSH EDX
008149f1 : CALL 0x007058c0
008149f6 : MOV ECX,dword ptr [EBP + 0x14]
008149f9 : MOV ESI,dword ptr [EBP + 0x10]
008149fc : PUSH ESI
008149fd : LEA EDX,[EBP + -0x30]
00814a00 : MOV byte ptr [ECX],AL
00814a02 : MOV ECX,dword ptr [EBX + 0x10]
00814a05 : PUSH EDX
00814a06 : CALL 0x00705e70
00814a0b : MOV dword ptr [EBP + -0x4],0x1
00814a12 : MOV ECX,dword ptr [EBP + 0x18]
00814a15 : PUSH -0x1
00814a17 : PUSH 0x0
00814a19 : PUSH EAX
00814a1a : CALL 0x00405eb0
00814a1f : MOV byte ptr [EBP + -0x4],0x0
00814a23 : CMP dword ptr [EBP + -0x18],0x8
00814a27 : JC 0x00814a31
00814a29 : MOV ECX,dword ptr [EBP + -0x2c]
00814a2c : CALL 0x006f04e0
00814a31 : MOV ECX,dword ptr [EBX + 0x10]
00814a34 : PUSH EDI
00814a35 : PUSH ESI
00814a36 : MOV ESI,dword ptr [EBP + 0x8]
00814a39 : XOR EAX,EAX
00814a3b : PUSH ESI
00814a3c : MOV dword ptr [EBP + -0x18],0x7
00814a43 : MOV dword ptr [EBP + -0x1c],0x0
00814a4a : MOV word ptr [EBP + -0x2c],AX
00814a4e : CALL 0x00707af0
00814a53 : MOV dword ptr [EBP + -0x4],0x0
00814a5a : MOV dword ptr [EBP + -0x10],0x1
00814a61 : MOV EAX,ESI
00814a63 : MOV ECX,dword ptr [EBP + -0xc]
00814a66 : MOV dword ptr FS:[0x0],ECX
00814a6d : POP ECX
00814a6e : POP EDI
00814a6f : POP ESI
00814a70 : POP EBX
00814a71 : MOV ESP,EBP
00814a73 : POP EBP
00814a74 : RET 0x14
