PROGRAM  : Maestia.exe
FUNCTION : FUN_005c5260
ENTRY    : 005c5260
BODY     : [[005c5260, 005c52c1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005c5260(undefined4 *param_1)

{
  int iVar1;
  int *in_ECX;
  int *piVar2;
  
  iVar1 = *(int *)*param_1;
  piVar2 = (int *)(iVar1 + 8);
  *piVar2 = *piVar2 + 1;
  piVar2 = (int *)(*in_ECX + 8);
  *piVar2 = *piVar2 + -1;
  if (*piVar2 == 0) {
    FUN_00525340();
  }
  *in_ECX = iVar1;
  if (param_1[1] == 0) {
    piVar2 = (int *)0x0;
  }
  else {
    piVar2 = (int *)(param_1[1] + 4);
  }
  iVar1 = *piVar2;
  if (iVar1 != 0) {
    *(uint *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1U & 0x8fffffff;
  }
  if (in_ECX[2] != 0) {
    FUN_00503db0();
    in_ECX[2] = *piVar2;
    return;
  }
  in_ECX[2] = *piVar2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005c5260 : PUSH EBX
005c5261 : MOV EBX,dword ptr [ESP + 0x8]
005c5265 : MOV EAX,dword ptr [EBX]
005c5267 : PUSH ESI
005c5268 : MOV ESI,dword ptr [EAX]
005c526a : INC dword ptr [ESI + 0x8]
005c526d : PUSH EDI
005c526e : MOV EDI,ECX
005c5270 : MOV ECX,dword ptr [EDI]
005c5272 : ADD dword ptr [ECX + 0x8],-0x1
005c5276 : JNZ 0x005c527d
005c5278 : CALL 0x00525340
005c527d : MOV dword ptr [EDI],ESI
005c527f : MOV EAX,dword ptr [EBX + 0x4]
005c5282 : TEST EAX,EAX
005c5284 : JZ 0x005c528b
005c5286 : LEA ESI,[EAX + 0x4]
005c5289 : JMP 0x005c528d
005c528b : XOR ESI,ESI
005c528d : MOV EAX,dword ptr [ESI]
005c528f : TEST EAX,EAX
005c5291 : JZ 0x005c52a0
005c5293 : MOV ECX,dword ptr [EAX + 0x8]
005c5296 : INC ECX
005c5297 : AND ECX,0x8fffffff
005c529d : MOV dword ptr [EAX + 0x8],ECX
005c52a0 : MOV ECX,dword ptr [EDI + 0x8]
005c52a3 : TEST ECX,ECX
005c52a5 : JZ 0x005c52b7
005c52a7 : CALL 0x00503db0
005c52ac : MOV EDX,dword ptr [ESI]
005c52ae : MOV dword ptr [EDI + 0x8],EDX
005c52b1 : POP EDI
005c52b2 : POP ESI
005c52b3 : POP EBX
005c52b4 : RET 0x4
005c52b7 : MOV EAX,dword ptr [ESI]
005c52b9 : MOV dword ptr [EDI + 0x8],EAX
005c52bc : POP EDI
005c52bd : POP ESI
005c52be : POP EBX
005c52bf : RET 0x4
