PROGRAM  : Maestia.exe
FUNCTION : FUN_005ed870
ENTRY    : 005ed870
BODY     : [[005ed870, 005ed8a7] [005ed8b0, 005ed90c] [005ed910, 005ed92c] [005ed930, 005ed9aa]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_005ed870(int param_1,char param_2)

{
  uint uVar1;
  uint uVar2;
  undefined4 uVar3;
  char cVar4;
  int iVar5;
  int *in_ECX;
  uint uVar6;
  int local_68;
  uint local_64;
  uint local_60;
  int local_5c;
  undefined1 local_38 [56];
  
  uVar3 = param_1;
  FUN_0051b6e0();
  local_68 = (in_ECX[3] & 0xfffffffcU) + 8;
  uVar6 = 0;
  param_1 = 0;
  local_64 = 0;
  if (in_ECX[1] != 0) {
    do {
      uVar1 = local_64;
      if (*(int *)(*(int *)(*in_ECX + local_64 * 8) + 0x154) != 0) {
        FUN_005d3290(local_38,0,0xffffffff);
        cVar4 = FUN_005d2cf0();
        uVar2 = local_64;
        local_64 = uVar1;
        while (cVar4 == '\0') {
          local_64 = uVar2;
          FUN_005d2f40(&local_60);
          local_60 = local_60 + param_1;
          uVar1 = local_5c + local_60;
          if (uVar6 < uVar1) {
            uVar2 = uVar6;
            if (uVar6 < local_60) {
              do {
                iVar5 = FUN_0051aa70(&local_68);
                if (iVar5 == 10) {
                  uVar6 = uVar6 - 1;
                }
                uVar6 = uVar6 + 1;
                uVar2 = uVar6;
              } while (uVar6 < local_60);
            }
            for (; uVar6 = uVar1, uVar2 < uVar1; uVar2 = uVar2 + 1) {
              do {
                while (iVar5 = FUN_0051aa70(&local_68), param_2 != '\0') {
                  if (iVar5 != 10) goto LAB_005ed958;
                  FUN_0051b7e0(10);
                }
              } while (iVar5 == 10);
LAB_005ed958:
              FUN_0051b7e0(iVar5);
            }
          }
          FUN_005d2f90(0);
          cVar4 = FUN_005d2cf0();
          uVar2 = local_64;
        }
        param_1 = param_1 + *(int *)(*in_ECX + 4 + local_64 * 8);
      }
      local_64 = local_64 + 1;
    } while (local_64 < (uint)in_ECX[1]);
  }
  return uVar3;
}



============================================================
DISASSEMBLY
============================================================
005ed870 : SUB ESP,0x68
005ed873 : PUSH EBX
005ed874 : PUSH EBP
005ed875 : MOV EBP,dword ptr [ESP + 0x74]
005ed879 : PUSH ESI
005ed87a : MOV EBX,ECX
005ed87c : PUSH EDI
005ed87d : MOV ECX,EBP
005ed87f : CALL 0x0051b6e0
005ed884 : MOV EAX,dword ptr [EBX + 0xc]
005ed887 : XOR EDI,EDI
005ed889 : AND EAX,0xfffffffc
005ed88c : ADD EAX,0x8
005ed88f : XOR ESI,ESI
005ed891 : MOV dword ptr [ESP + 0x7c],EDI
005ed895 : MOV dword ptr [ESP + 0x10],EAX
005ed899 : MOV dword ptr [ESP + 0x14],EDI
005ed89d : CMP dword ptr [EBX + 0x4],EDI
005ed8a0 : JBE 0x005ed99f
005ed8a6 : JMP 0x005ed8b0
005ed8b0 : MOV EAX,dword ptr [EBX]
005ed8b2 : MOV EAX,dword ptr [EAX + EDI*0x8]
005ed8b5 : MOV ECX,dword ptr [EAX + 0x154]
005ed8bb : TEST ECX,ECX
005ed8bd : JZ 0x005ed991
005ed8c3 : PUSH -0x1
005ed8c5 : PUSH 0x0
005ed8c7 : LEA EDX,[ESP + 0x48]
005ed8cb : PUSH EDX
005ed8cc : CALL 0x005d3290
005ed8d1 : LEA ECX,[ESP + 0x40]
005ed8d5 : CALL 0x005d2cf0
005ed8da : TEST AL,AL
005ed8dc : JNZ 0x005ed987
005ed8e2 : LEA EAX,[ESP + 0x18]
005ed8e6 : PUSH EAX
005ed8e7 : LEA ECX,[ESP + 0x44]
005ed8eb : CALL 0x005d2f40
005ed8f0 : MOV EAX,dword ptr [ESP + 0x18]
005ed8f4 : ADD EAX,dword ptr [ESP + 0x7c]
005ed8f8 : MOV ECX,dword ptr [ESP + 0x1c]
005ed8fc : LEA EDI,[ECX + EAX*0x1]
005ed8ff : MOV dword ptr [ESP + 0x18],EAX
005ed903 : CMP EDI,ESI
005ed905 : JBE 0x005ed967
005ed907 : CMP ESI,EAX
005ed909 : JNC 0x005ed927
005ed90b : JMP 0x005ed910
005ed910 : LEA EDX,[ESP + 0x10]
005ed914 : PUSH EDX
005ed915 : CALL 0x0051aa70
005ed91a : CMP EAX,0xa
005ed91d : JNZ 0x005ed920
005ed91f : DEC ESI
005ed920 : INC ESI
005ed921 : CMP ESI,dword ptr [ESP + 0x18]
005ed925 : JC 0x005ed910
005ed927 : CMP ESI,EDI
005ed929 : JNC 0x005ed965
005ed92b : JMP 0x005ed930
005ed930 : LEA EAX,[ESP + 0x10]
005ed934 : PUSH EAX
005ed935 : CALL 0x0051aa70
005ed93a : CMP byte ptr [ESP + 0x80],0x0
005ed942 : JZ 0x005ed953
005ed944 : CMP EAX,0xa
005ed947 : JNZ 0x005ed958
005ed949 : PUSH EAX
005ed94a : MOV ECX,EBP
005ed94c : CALL 0x0051b7e0
005ed951 : JMP 0x005ed930
005ed953 : CMP EAX,0xa
005ed956 : JZ 0x005ed930
005ed958 : PUSH EAX
005ed959 : MOV ECX,EBP
005ed95b : CALL 0x0051b7e0
005ed960 : INC ESI
005ed961 : CMP ESI,EDI
005ed963 : JC 0x005ed930
005ed965 : MOV ESI,EDI
005ed967 : PUSH 0x0
005ed969 : LEA ECX,[ESP + 0x44]
005ed96d : CALL 0x005d2f90
005ed972 : LEA ECX,[ESP + 0x40]
005ed976 : CALL 0x005d2cf0
005ed97b : TEST AL,AL
005ed97d : JZ 0x005ed8e2
005ed983 : MOV EDI,dword ptr [ESP + 0x14]
005ed987 : MOV ECX,dword ptr [EBX]
005ed989 : MOV EDX,dword ptr [ECX + EDI*0x8 + 0x4]
005ed98d : ADD dword ptr [ESP + 0x7c],EDX
005ed991 : INC EDI
005ed992 : MOV dword ptr [ESP + 0x14],EDI
005ed996 : CMP EDI,dword ptr [EBX + 0x4]
005ed999 : JC 0x005ed8b0
005ed99f : POP EDI
005ed9a0 : POP ESI
005ed9a1 : MOV EAX,EBP
005ed9a3 : POP EBP
005ed9a4 : POP EBX
005ed9a5 : ADD ESP,0x68
005ed9a8 : RET 0x8
