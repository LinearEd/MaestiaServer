PROGRAM  : Maestia.exe
FUNCTION : FUN_00a37ac0
ENTRY    : 00a37ac0
BODY     : [[00a37ac0, 00a37b85]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a37ac0(void)

{
  int iVar1;
  uint uVar2;
  DWORD DVar3;
  int unaff_ESI;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b655d9;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (((*(int *)(unaff_ESI + 0x598) == 0) && (*(int *)(unaff_ESI + 0xac) != 0)) &&
     (*(char *)(*(int *)(unaff_ESI + 0xac) + 0x1abf) != '\0')) {
    FUN_00406460(&DAT_00cc5600);
    local_8 = 0;
    FUN_00868000(0);
    local_8 = 0xffffffff;
    FUN_00406560(uVar2);
  }
  if (((*(int *)(*DAT_00da9894 + 0x164) != 0) &&
      (iVar1 = *(int *)(*(int *)(*DAT_00da9894 + 0x164) + 0x38), iVar1 != 0)) &&
     (*(char *)(iVar1 + 0x54) == '\0')) {
    *(undefined4 *)(unaff_ESI + 0x598) = 0;
    ExceptionList = local_10;
    return;
  }
  DVar3 = timeGetTime();
  *(DWORD *)(unaff_ESI + 0x598) = DVar3;
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a37ac0 : PUSH EBP
00a37ac1 : MOV EBP,ESP
00a37ac3 : PUSH -0x1
00a37ac5 : PUSH 0xb655d9
00a37aca : MOV EAX,FS:[0x0]
00a37ad0 : PUSH EAX
00a37ad1 : SUB ESP,0x20
00a37ad4 : MOV EAX,[0x00d66fa0]
00a37ad9 : XOR EAX,EBP
00a37adb : PUSH EAX
00a37adc : LEA EAX,[EBP + -0xc]
00a37adf : MOV FS:[0x0],EAX
00a37ae5 : CMP dword ptr [ESI + 0x598],0x0
00a37aec : JNZ 0x00a37b34
00a37aee : MOV EAX,dword ptr [ESI + 0xac]
00a37af4 : TEST EAX,EAX
00a37af6 : JZ 0x00a37b34
00a37af8 : CMP byte ptr [EAX + 0x1abf],0x0
00a37aff : JZ 0x00a37b34
00a37b01 : PUSH 0xcc5600
00a37b06 : LEA ECX,[EBP + -0x28]
00a37b09 : CALL 0x00406460
00a37b0e : MOV dword ptr [EBP + -0x4],0x0
00a37b15 : MOV EDX,dword ptr [ESI + 0xac]
00a37b1b : PUSH 0x0
00a37b1d : LEA ECX,[EBP + -0x28]
00a37b20 : CALL 0x00868000
00a37b25 : MOV dword ptr [EBP + -0x4],0xffffffff
00a37b2c : LEA ECX,[EBP + -0x28]
00a37b2f : CALL 0x00406560
00a37b34 : MOV EAX,[0x00da9894]
00a37b39 : MOV ECX,dword ptr [EAX]
00a37b3b : MOV EAX,dword ptr [ECX + 0x164]
00a37b41 : TEST EAX,EAX
00a37b43 : JZ 0x00a37b6b
00a37b45 : MOV EAX,dword ptr [EAX + 0x38]
00a37b48 : TEST EAX,EAX
00a37b4a : JZ 0x00a37b6b
00a37b4c : CMP byte ptr [EAX + 0x54],0x0
00a37b50 : JNZ 0x00a37b6b
00a37b52 : MOV dword ptr [ESI + 0x598],0x0
00a37b5c : MOV ECX,dword ptr [EBP + -0xc]
00a37b5f : MOV dword ptr FS:[0x0],ECX
00a37b66 : POP ECX
00a37b67 : MOV ESP,EBP
00a37b69 : POP EBP
00a37b6a : RET
00a37b6b : CALL dword ptr [0x00b85598]
00a37b71 : MOV dword ptr [ESI + 0x598],EAX
00a37b77 : MOV ECX,dword ptr [EBP + -0xc]
00a37b7a : MOV dword ptr FS:[0x0],ECX
00a37b81 : POP ECX
00a37b82 : MOV ESP,EBP
00a37b84 : POP EBP
00a37b85 : RET
