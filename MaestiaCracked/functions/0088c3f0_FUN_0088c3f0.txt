PROGRAM  : Maestia.exe
FUNCTION : FUN_0088c3f0
ENTRY    : 0088c3f0
BODY     : [[0088c3f0, 0088c5b4]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0088c3f0(int param_1)

{
  int iVar1;
  int *piVar2;
  short sVar3;
  uint uVar4;
  int iVar5;
  int *piVar6;
  bool bVar7;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1c667;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  piVar6 = *(int **)(param_1 + 0x608);
  if (piVar6 != *(int **)(param_1 + 0x60c)) {
    do {
      iVar1 = piVar6[1];
      iVar5 = FUN_00a1a840(iVar1);
      if (((iVar5 == 0) && (iVar5 = FUN_00a1a6d0(iVar1), iVar5 == 0)) &&
         (iVar5 = FUN_00a1a780(iVar1), iVar5 == 0)) {
LAB_0088c4ac:
        if (*piVar6 == 0) {
          piVar6 = piVar6 + 7;
        }
        else if (*(int *)(*piVar6 + 4) == 0x12345678) {
          FUN_00796fa0(0);
          FUN_00797330(*piVar6);
          piVar2 = (int *)*piVar6;
          if ((int *)piVar2[0xb] == (int *)0x0) {
            if (piVar2 != (int *)0x0) {
              (**(code **)(*piVar2 + 0x18))(1);
              *piVar6 = 0;
            }
          }
          else {
            (**(code **)(*(int *)piVar2[0xb] + 0x2c))(piVar2 + 3);
          }
          local_14 = local_14 & 0xffffff00;
          FUN_0043c1f0(piVar6 + 7,param_1,param_1,local_14);
          *(int *)(param_1 + 0x60c) = *(int *)(param_1 + 0x60c) + -0x1c;
        }
        else {
          local_18 = 7;
          local_1c = 0;
          local_2c = 0;
          FUN_00406360(L"dangling pointer!!",0x12);
          local_8 = 0;
          if ((int *)*DAT_00da98e8 != (int *)0x0) {
            (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                      (L"AvaBaseCharacter::CheckValidTargetForRayEffect",0x16fc,local_30);
          }
          local_8 = 0xffffffff;
          if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
          local_18 = 7;
          local_1c = 0;
          local_2c = 0;
          piVar6 = piVar6 + 7;
        }
      }
      else {
        iVar1 = iVar5 + 0x1158;
        iVar5 = *(int *)(*(int *)(iVar5 + 0x138) + 4) + 0x138 + iVar5;
        sVar3 = FUN_0043d970(uVar4);
        if (sVar3 == 1000) {
          bVar7 = *(int *)(iVar5 + 4) == iVar1;
        }
        else if (sVar3 == 2000) {
          bVar7 = *(int *)(iVar5 + 8) == iVar1;
        }
        else {
          bVar7 = *(int *)(iVar5 + 0xc) == iVar1;
        }
        if (bVar7) goto LAB_0088c4ac;
        piVar6 = piVar6 + 7;
      }
    } while (piVar6 != *(int **)(param_1 + 0x60c));
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0088c3f0 : PUSH EBP
0088c3f1 : MOV EBP,ESP
0088c3f3 : PUSH -0x1
0088c3f5 : PUSH 0xb1c667
0088c3fa : MOV EAX,FS:[0x0]
0088c400 : PUSH EAX
0088c401 : SUB ESP,0x20
0088c404 : PUSH EBX
0088c405 : PUSH ESI
0088c406 : PUSH EDI
0088c407 : MOV EAX,[0x00d66fa0]
0088c40c : XOR EAX,EBP
0088c40e : PUSH EAX
0088c40f : LEA EAX,[EBP + -0xc]
0088c412 : MOV FS:[0x0],EAX
0088c418 : MOV EAX,dword ptr [EBP + 0x8]
0088c41b : MOV ESI,dword ptr [EAX + 0x608]
0088c421 : CMP ESI,dword ptr [EAX + 0x60c]
0088c427 : JZ 0x0088c5a1
0088c42d : LEA ECX,[ECX]
0088c430 : MOV EDI,dword ptr [ESI + 0x4]
0088c433 : MOV ECX,dword ptr [0x00da93ec]
0088c439 : PUSH EDI
0088c43a : MOV EBX,ECX
0088c43c : CALL 0x00a1a840
0088c441 : TEST EAX,EAX
0088c443 : JNZ 0x0088c45d
0088c445 : PUSH EDI
0088c446 : MOV ECX,EBX
0088c448 : CALL 0x00a1a6d0
0088c44d : TEST EAX,EAX
0088c44f : JNZ 0x0088c45d
0088c451 : PUSH EDI
0088c452 : MOV ECX,EBX
0088c454 : CALL 0x00a1a780
0088c459 : TEST EAX,EAX
0088c45b : JZ 0x0088c4ac
0088c45d : MOV ECX,dword ptr [EAX + 0x138]
0088c463 : MOV EDX,dword ptr [ECX + 0x4]
0088c466 : LEA EDI,[EAX + 0x1158]
0088c46c : LEA EBX,[EDX + EAX*0x1 + 0x138]
0088c473 : MOV AX,word ptr [EDI + 0x2a]
0088c477 : CALL 0x0043d970
0088c47c : MOV ECX,0x3e8
0088c481 : CMP AX,CX
0088c484 : JNZ 0x0088c48b
0088c486 : CMP dword ptr [EBX + 0x4],EDI
0088c489 : JMP 0x0088c49d
0088c48b : MOV EDX,0x7d0
0088c490 : CMP AX,DX
0088c493 : JNZ 0x0088c49a
0088c495 : CMP dword ptr [EBX + 0x8],EDI
0088c498 : JMP 0x0088c49d
0088c49a : CMP dword ptr [EBX + 0xc],EDI
0088c49d : SETZ AL
0088c4a0 : TEST AL,AL
0088c4a2 : JNZ 0x0088c4ac
0088c4a4 : ADD ESI,0x1c
0088c4a7 : JMP 0x0088c592
0088c4ac : MOV EDI,dword ptr [ESI]
0088c4ae : XOR EBX,EBX
0088c4b0 : CMP EDI,EBX
0088c4b2 : JNZ 0x0088c4bc
0088c4b4 : ADD ESI,0x1c
0088c4b7 : JMP 0x0088c592
0088c4bc : CMP dword ptr [EDI + 0x4],0x12345678
0088c4c3 : JZ 0x0088c52f
0088c4c5 : PUSH 0x12
0088c4c7 : XOR EAX,EAX
0088c4c9 : MOV EDI,0x7
0088c4ce : PUSH 0xc46c9c
0088c4d3 : LEA ECX,[EBP + -0x2c]
0088c4d6 : MOV dword ptr [EBP + -0x14],EDI
0088c4d9 : MOV dword ptr [EBP + -0x18],EBX
0088c4dc : MOV word ptr [EBP + -0x28],AX
0088c4e0 : CALL 0x00406360
0088c4e5 : MOV dword ptr [EBP + -0x4],EBX
0088c4e8 : MOV ECX,dword ptr [0x00da98e8]
0088c4ee : MOV ECX,dword ptr [ECX]
0088c4f0 : CMP ECX,EBX
0088c4f2 : JZ 0x0088c509
0088c4f4 : MOV EDX,dword ptr [ECX]
0088c4f6 : MOV EDX,dword ptr [EDX + 0x14]
0088c4f9 : LEA EAX,[EBP + -0x2c]
0088c4fc : PUSH EAX
0088c4fd : PUSH 0x16fc
0088c502 : PUSH 0xc46cc8
0088c507 : CALL EDX
0088c509 : MOV dword ptr [EBP + -0x4],0xffffffff
0088c510 : CMP dword ptr [EBP + -0x14],0x8
0088c514 : JC 0x0088c51e
0088c516 : MOV ECX,dword ptr [EBP + -0x28]
0088c519 : CALL 0x006f04e0
0088c51e : XOR EAX,EAX
0088c520 : MOV dword ptr [EBP + -0x14],EDI
0088c523 : MOV dword ptr [EBP + -0x18],EBX
0088c526 : MOV word ptr [EBP + -0x28],AX
0088c52a : ADD ESI,0x1c
0088c52d : JMP 0x0088c592
0088c52f : PUSH EBX
0088c530 : CALL 0x00796fa0
0088c535 : MOV ECX,dword ptr [ESI]
0088c537 : PUSH ECX
0088c538 : CALL 0x00797330
0088c53d : MOV EAX,dword ptr [ESI]
0088c53f : MOV ECX,dword ptr [EAX + 0x2c]
0088c542 : CMP ECX,EBX
0088c544 : JZ 0x0088c553
0088c546 : MOV EDX,dword ptr [ECX]
0088c548 : ADD EAX,0xc
0088c54b : PUSH EAX
0088c54c : MOV EAX,dword ptr [EDX + 0x2c]
0088c54f : CALL EAX
0088c551 : JMP 0x0088c564
0088c553 : CMP EAX,EBX
0088c555 : JZ 0x0088c564
0088c557 : MOV EDX,dword ptr [EAX]
0088c559 : MOV ECX,EAX
0088c55b : MOV EAX,dword ptr [EDX + 0x18]
0088c55e : PUSH 0x1
0088c560 : CALL EAX
0088c562 : MOV dword ptr [ESI],EBX
0088c564 : MOV EDX,dword ptr [EBP + 0x8]
0088c567 : MOV EAX,dword ptr [EBP + 0x8]
0088c56a : MOV EDI,dword ptr [EBP + 0x8]
0088c56d : MOV byte ptr [EBP + -0x10],0x0
0088c571 : MOV ECX,dword ptr [EBP + -0x10]
0088c574 : PUSH ECX
0088c575 : PUSH EDX
0088c576 : MOV EDX,dword ptr [EDI + 0x60c]
0088c57c : PUSH EAX
0088c57d : LEA ECX,[ESI + 0x1c]
0088c580 : PUSH ECX
0088c581 : MOV EAX,ESI
0088c583 : CALL 0x0043c1f0
0088c588 : ADD ESP,0x10
0088c58b : ADD dword ptr [EDI + 0x60c],-0x1c
0088c592 : MOV EDX,dword ptr [EBP + 0x8]
0088c595 : CMP ESI,dword ptr [EDX + 0x60c]
0088c59b : JNZ 0x0088c430
0088c5a1 : MOV ECX,dword ptr [EBP + -0xc]
0088c5a4 : MOV dword ptr FS:[0x0],ECX
0088c5ab : POP ECX
0088c5ac : POP EDI
0088c5ad : POP ESI
0088c5ae : POP EBX
0088c5af : MOV ESP,EBP
0088c5b1 : POP EBP
0088c5b2 : RET 0x4
