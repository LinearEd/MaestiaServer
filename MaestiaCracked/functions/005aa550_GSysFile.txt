PROGRAM  : Maestia.exe
FUNCTION : GSysFile
ENTRY    : 005aa550
BODY     : [[005aa550, 005aa5aa]]

============================================================
DECOMPILED C CODE
============================================================

/* public: __thiscall GSysFile::GSysFile(void) */

GSysFile * __thiscall GSysFile::GSysFile(GSysFile *this)

{
  undefined4 *puVar1;
  
                    /* 0x1aa550  16  ??0GSysFile@@QAE@XZ */
  *(undefined ***)this = &PTR_FUN_00cd3f2c;
  *(undefined4 *)(this + 4) = 1;
  *(undefined4 *)(this + 8) = 0;
  *(undefined ***)this = &PTR_FUN_00b8f3f8;
  puVar1 = (undefined4 *)FUN_00515840(8,0);
  if (puVar1 == (undefined4 *)0x0) {
    puVar1 = (undefined4 *)0x0;
  }
  else {
    *puVar1 = &PTR_FUN_00cd3f2c;
    puVar1[1] = 1;
    *puVar1 = &PTR_FUN_00b8f3a8;
  }
  if (*(GRefCountImpl **)(this + 8) != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release(*(GRefCountImpl **)(this + 8));
  }
  *(undefined4 **)(this + 8) = puVar1;
  return this;
}



============================================================
DISASSEMBLY
============================================================
005aa550 : PUSH ESI
005aa551 : MOV ESI,ECX
005aa553 : PUSH EDI
005aa554 : MOV dword ptr [ESI],0xcd3f2c
005aa55a : MOV EDI,0x1
005aa55f : MOV dword ptr [ESI + 0x4],EDI
005aa562 : MOV dword ptr [ESI + 0x8],0x0
005aa569 : PUSH 0x0
005aa56b : MOV dword ptr [ESI],0xb8f3f8
005aa571 : MOV ECX,dword ptr [0x00d73250]
005aa577 : PUSH 0x8
005aa579 : CALL 0x00515840
005aa57e : TEST EAX,EAX
005aa580 : JZ 0x005aa595
005aa582 : MOV dword ptr [EAX],0xcd3f2c
005aa588 : MOV dword ptr [EAX + 0x4],EDI
005aa58b : MOV dword ptr [EAX],0xb8f3a8
005aa591 : MOV EDI,EAX
005aa593 : JMP 0x005aa597
005aa595 : XOR EDI,EDI
005aa597 : MOV ECX,dword ptr [ESI + 0x8]
005aa59a : TEST ECX,ECX
005aa59c : JZ 0x005aa5a3
005aa59e : CALL 0x004ff7e0
005aa5a3 : MOV dword ptr [ESI + 0x8],EDI
005aa5a6 : POP EDI
005aa5a7 : MOV EAX,ESI
005aa5a9 : POP ESI
005aa5aa : RET
