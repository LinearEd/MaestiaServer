PROGRAM  : Maestia.exe
FUNCTION : FUN_008da2f0
ENTRY    : 008da2f0
BODY     : [[008da2f0, 008da578]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008da2f0(void)

{
  char cVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  int in_ECX;
  int *piVar5;
  int *piVar6;
  uint uVar7;
  int iVar8;
  bool bVar9;
  undefined *puVar10;
  char local_20 [4];
  int *local_1c;
  char local_18 [16];
  uint local_8;
  
  local_8 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  FUN_00406360(&DAT_00c56694,0);
  FUN_00406360(&DAT_00c56698,0);
  FUN_00406360(&DAT_00c5669c,0);
  local_18[9] = '\0';
  local_18[10] = '\0';
  local_18[0xb] = '\0';
  local_18[0xc] = '\0';
  local_18[0xd] = '\0';
  local_18[0xe] = '\0';
  local_18[0xf] = 0;
  local_18[1] = '\0';
  local_18[2] = '\0';
  local_18[3] = '\0';
  local_18[4] = '\0';
  local_18[5] = '\0';
  local_18[6] = '\0';
  local_18[7] = 0;
  local_20[0] = '\0';
  local_1c = (int *)**(int **)(in_ECX + 0x3c);
  local_18[8] = 0;
  local_20[1] = '\0';
  local_20[2] = '\x01';
  local_18[0] = '\x01';
  if (local_1c != *(int **)(in_ECX + 0x3c)) {
    do {
      iVar8 = local_1c[4];
      piVar6 = *(int **)(iVar8 + 0x84);
      piVar5 = local_1c;
      if (piVar6 != *(int **)(iVar8 + 0x88)) {
        do {
          iVar2 = *piVar6;
          if (((((*(byte *)(iVar2 + 0x74) & 4) == 0) || (*(char *)(iVar2 + 0xba) != '\0')) ||
              (*(char *)(in_ECX + 0x1c2) != '\0')) && ((*(byte *)(iVar2 + 0x74) & 8) == 0)) {
            iVar3 = *(int *)(in_ECX + 0x1bc);
            if (iVar3 == 0) {
              bVar9 = *(int *)(iVar2 + 0x78) == 0;
            }
            else if (iVar3 == 1) {
              bVar9 = *(int *)(iVar2 + 0x80) == 0;
            }
            else {
              if (iVar3 != 2) goto LAB_008da483;
              bVar9 = *(int *)(iVar2 + 0x8c) == 0;
            }
            if (!bVar9) {
              uVar7 = (uint)*(byte *)(iVar2 + 0x72);
              if (uVar7 < 8) {
                local_18[uVar7 + 8] = '\x01';
              }
              else {
                FUN_008018d0(L"%d : [%s] FindVisibleTab Main : %d \n",0x3e2,
                             L"AvaGuiPremiumShop::FindVisibleTab",uVar7);
              }
              uVar4 = (uint)*(byte *)(*piVar6 + 0x73);
              if (uVar7 == *(ushort *)(in_ECX + 0x1ac)) {
                if (uVar4 < 8) {
                  local_18[uVar4] = '\x01';
                }
                else {
                  FUN_008018d0(L"%d : [%s] FindVisibleTab Sub: %d \n",0x3eb,
                               L"AvaGuiPremiumShop::FindVisibleTab",uVar4);
                }
              }
              if ((*(byte *)(*piVar6 + 0x74) & 1) != 0) {
                local_20[1] = 1;
              }
              piVar5 = local_1c;
              if ((*(byte *)(*piVar6 + 0x74) & 2) != 0) {
                local_20[0] = '\x01';
              }
            }
          }
LAB_008da483:
          piVar6 = piVar6 + 1;
        } while (piVar6 != *(int **)(iVar8 + 0x88));
      }
      if (*(char *)((int)piVar5 + 0x15) == '\0') {
        piVar6 = (int *)piVar5[2];
        if (*(char *)((int)piVar6 + 0x15) == '\0') {
          cVar1 = *(char *)(*piVar6 + 0x15);
          local_1c = piVar6;
          piVar6 = (int *)*piVar6;
          while (cVar1 == '\0') {
            cVar1 = *(char *)(*piVar6 + 0x15);
            local_1c = piVar6;
            piVar6 = (int *)*piVar6;
          }
        }
        else {
          cVar1 = *(char *)(piVar5[1] + 0x15);
          piVar5 = (int *)piVar5[1];
          piVar6 = local_1c;
          while ((local_1c = piVar5, cVar1 == '\0' && (piVar6 == (int *)local_1c[2]))) {
            cVar1 = *(char *)(local_1c[1] + 0x15);
            piVar5 = (int *)local_1c[1];
            piVar6 = local_1c;
          }
        }
      }
    } while (local_1c != *(int **)(in_ECX + 0x3c));
  }
  iVar8 = 0;
  do {
    if (local_18[iVar8 + 8] == '\0') {
      puVar10 = &DAT_00c567d0;
    }
    else {
      puVar10 = &DAT_00c567c8;
    }
    FUN_00404870(puVar10,2);
    iVar8 = iVar8 + 1;
  } while (iVar8 < 8);
  iVar8 = 0;
  do {
    if (local_18[iVar8] == '\0') {
      puVar10 = &DAT_00c567e0;
    }
    else {
      puVar10 = &DAT_00c567d8;
    }
    FUN_00404870(puVar10,2);
    iVar8 = iVar8 + 1;
  } while (iVar8 < 8);
  iVar8 = 0;
  do {
    if (local_20[iVar8] == '\0') {
      puVar10 = &DAT_00c567f0;
    }
    else {
      puVar10 = &DAT_00c567e8;
    }
    FUN_00404870(puVar10,2);
    iVar8 = iVar8 + 1;
  } while (iVar8 < 3);
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
008da2f0 : PUSH EBP
008da2f1 : MOV EBP,ESP
008da2f3 : SUB ESP,0x30
008da2f6 : MOV EAX,[0x00d66fa0]
008da2fb : XOR EAX,EBP
008da2fd : MOV dword ptr [EBP + -0x4],EAX
008da300 : PUSH EBX
008da301 : PUSH ESI
008da302 : MOV ESI,ECX
008da304 : PUSH EDI
008da305 : LEA EBX,[ESI + 0x1e0]
008da30b : PUSH 0x0
008da30d : PUSH 0xc56694
008da312 : MOV ECX,EBX
008da314 : MOV dword ptr [EBP + -0x28],ESI
008da317 : MOV dword ptr [EBP + -0x2c],EBX
008da31a : CALL 0x00406360
008da31f : PUSH 0x0
008da321 : LEA ECX,[ESI + 0x1fc]
008da327 : PUSH 0xc56698
008da32c : MOV dword ptr [EBP + -0x20],ECX
008da32f : CALL 0x00406360
008da334 : PUSH 0x0
008da336 : LEA ECX,[ESI + 0x218]
008da33c : PUSH 0xc5669c
008da341 : MOV dword ptr [EBP + -0x24],ECX
008da344 : CALL 0x00406360
008da349 : XOR EAX,EAX
008da34b : MOV word ptr [EBP + -0x1b],AX
008da34f : MOV dword ptr [EBP + -0xb],EAX
008da352 : MOV word ptr [EBP + -0x7],AX
008da356 : MOV byte ptr [EBP + -0x5],AL
008da359 : MOV dword ptr [EBP + -0x13],EAX
008da35c : MOV word ptr [EBP + -0xf],AX
008da360 : MOV byte ptr [EBP + -0xd],AL
008da363 : MOV byte ptr [EBP + -0x1c],AL
008da366 : MOV EAX,dword ptr [ESI + 0x3c]
008da369 : MOV EDX,dword ptr [EAX]
008da36b : MOV byte ptr [EBP + -0xc],0x0
008da36f : MOV byte ptr [EBP + -0x1a],0x1
008da373 : MOV byte ptr [EBP + -0x14],0x1
008da377 : MOV dword ptr [EBP + -0x18],EDX
008da37a : CMP EDX,EAX
008da37c : JZ 0x008da4ee
008da382 : MOV EAX,dword ptr [EDX + 0x10]
008da385 : MOV EBX,dword ptr [EAX + 0x84]
008da38b : MOV dword ptr [EBP + -0x30],EAX
008da38e : CMP EBX,dword ptr [EAX + 0x88]
008da394 : JZ 0x008da495
008da39a : LEA EBX,[EBX]
008da3a0 : MOV EAX,dword ptr [EBX]
008da3a2 : MOV CL,byte ptr [EAX + 0x74]
008da3a5 : TEST CL,0x4
008da3a8 : JZ 0x008da3c0
008da3aa : CMP byte ptr [EAX + 0xba],0x0
008da3b1 : JNZ 0x008da3c0
008da3b3 : CMP byte ptr [ESI + 0x1c2],0x0
008da3ba : JZ 0x008da483
008da3c0 : TEST CL,0x8
008da3c3 : JNZ 0x008da483
008da3c9 : MOV ECX,dword ptr [ESI + 0x1bc]
008da3cf : TEST ECX,ECX
008da3d1 : JNZ 0x008da3d8
008da3d3 : CMP dword ptr [EAX + 0x78],ECX
008da3d6 : JMP 0x008da3f6
008da3d8 : CMP ECX,0x1
008da3db : JNZ 0x008da3e6
008da3dd : CMP dword ptr [EAX + 0x80],0x0
008da3e4 : JMP 0x008da3f6
008da3e6 : CMP ECX,0x2
008da3e9 : JNZ 0x008da483
008da3ef : CMP dword ptr [EAX + 0x8c],0x0
008da3f6 : JZ 0x008da483
008da3fc : MOVZX EDI,byte ptr [EAX + 0x72]
008da400 : CMP EDI,0x7
008da403 : JA 0x008da40c
008da405 : MOV byte ptr [EBP + EDI*0x1 + -0xc],0x1
008da40a : JMP 0x008da42d
008da40c : MOV ESI,dword ptr [0x00da98e8]
008da412 : PUSH EDI
008da413 : PUSH 0xc566a0
008da418 : PUSH 0x3e2
008da41d : PUSH 0xc566e8
008da422 : CALL 0x008018d0
008da427 : MOV ESI,dword ptr [EBP + -0x28]
008da42a : ADD ESP,0x10
008da42d : MOVZX EDX,word ptr [ESI + 0x1ac]
008da434 : MOV ECX,dword ptr [EBX]
008da436 : MOVZX EAX,byte ptr [ECX + 0x73]
008da43a : CMP EDI,EDX
008da43c : JNZ 0x008da46b
008da43e : CMP EAX,0x7
008da441 : JA 0x008da44a
008da443 : MOV byte ptr [EBP + EAX*0x1 + -0x14],0x1
008da448 : JMP 0x008da46b
008da44a : MOV ESI,dword ptr [0x00da98e8]
008da450 : PUSH EAX
008da451 : PUSH 0xc56738
008da456 : PUSH 0x3eb
008da45b : PUSH 0xc56780
008da460 : CALL 0x008018d0
008da465 : MOV ESI,dword ptr [EBP + -0x28]
008da468 : ADD ESP,0x10
008da46b : MOV EAX,dword ptr [EBX]
008da46d : MOV AL,byte ptr [EAX + 0x74]
008da470 : TEST AL,0x1
008da472 : JZ 0x008da478
008da474 : MOV byte ptr [EBP + -0x1b],0x1
008da478 : MOV EDX,dword ptr [EBP + -0x18]
008da47b : TEST AL,0x2
008da47d : JZ 0x008da483
008da47f : MOV byte ptr [EBP + -0x1c],0x1
008da483 : MOV ECX,dword ptr [EBP + -0x30]
008da486 : ADD EBX,0x4
008da489 : CMP EBX,dword ptr [ECX + 0x88]
008da48f : JNZ 0x008da3a0
008da495 : CMP byte ptr [EDX + 0x15],0x0
008da499 : JNZ 0x008da4df
008da49b : MOV ECX,dword ptr [EDX + 0x8]
008da49e : CMP byte ptr [ECX + 0x15],0x0
008da4a2 : JNZ 0x008da4bf
008da4a4 : MOV EAX,dword ptr [ECX]
008da4a6 : CMP byte ptr [EAX + 0x15],0x0
008da4aa : JNZ 0x008da4ba
008da4ac : LEA ESP,[ESP]
008da4b0 : MOV ECX,EAX
008da4b2 : MOV EAX,dword ptr [ECX]
008da4b4 : CMP byte ptr [EAX + 0x15],0x0
008da4b8 : JZ 0x008da4b0
008da4ba : MOV dword ptr [EBP + -0x18],ECX
008da4bd : JMP 0x008da4df
008da4bf : MOV EAX,dword ptr [EDX + 0x4]
008da4c2 : CMP byte ptr [EAX + 0x15],0x0
008da4c6 : JNZ 0x008da4dc
008da4c8 : MOV EDX,dword ptr [EBP + -0x18]
008da4cb : CMP EDX,dword ptr [EAX + 0x8]
008da4ce : JNZ 0x008da4dc
008da4d0 : MOV dword ptr [EBP + -0x18],EAX
008da4d3 : MOV EAX,dword ptr [EAX + 0x4]
008da4d6 : CMP byte ptr [EAX + 0x15],0x0
008da4da : JZ 0x008da4c8
008da4dc : MOV dword ptr [EBP + -0x18],EAX
008da4df : MOV EDX,dword ptr [EBP + -0x18]
008da4e2 : CMP EDX,dword ptr [ESI + 0x3c]
008da4e5 : JNZ 0x008da382
008da4eb : MOV EBX,dword ptr [EBP + -0x2c]
008da4ee : XOR EDI,EDI
008da4f0 : JMP 0x008da4f5
008da4f2 : MOV EBX,dword ptr [EBP + -0x2c]
008da4f5 : CMP byte ptr [EBP + EDI*0x1 + -0xc],0x0
008da4fa : PUSH 0x2
008da4fc : MOV ESI,EBX
008da4fe : JZ 0x008da507
008da500 : PUSH 0xc567c8
008da505 : JMP 0x008da50c
008da507 : PUSH 0xc567d0
008da50c : CALL 0x00404870
008da511 : INC EDI
008da512 : CMP EDI,0x8
008da515 : JL 0x008da4f2
008da517 : XOR EDI,EDI
008da519 : LEA ESP,[ESP]
008da520 : CMP byte ptr [EBP + EDI*0x1 + -0x14],0x0
008da525 : MOV ESI,dword ptr [EBP + -0x20]
008da528 : PUSH 0x2
008da52a : JZ 0x008da533
008da52c : PUSH 0xc567d8
008da531 : JMP 0x008da538
008da533 : PUSH 0xc567e0
008da538 : CALL 0x00404870
008da53d : INC EDI
008da53e : CMP EDI,0x8
008da541 : JL 0x008da520
008da543 : XOR EDI,EDI
008da545 : CMP byte ptr [EBP + EDI*0x1 + -0x1c],0x0
008da54a : MOV ESI,dword ptr [EBP + -0x24]
008da54d : PUSH 0x2
008da54f : JZ 0x008da558
008da551 : PUSH 0xc567e8
008da556 : JMP 0x008da55d
008da558 : PUSH 0xc567f0
008da55d : CALL 0x00404870
008da562 : INC EDI
008da563 : CMP EDI,0x3
008da566 : JL 0x008da545
008da568 : MOV ECX,dword ptr [EBP + -0x4]
008da56b : POP EDI
008da56c : POP ESI
008da56d : XOR ECX,EBP
008da56f : POP EBX
008da570 : CALL 0x00633e6b
008da575 : MOV ESP,EBP
008da577 : POP EBP
008da578 : RET
