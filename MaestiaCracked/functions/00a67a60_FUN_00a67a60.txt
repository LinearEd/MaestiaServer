PROGRAM  : Maestia.exe
FUNCTION : FUN_00a67a60
ENTRY    : 00a67a60
BODY     : [[00a67a60, 00a67b2e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a67a60(void)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int unaff_EDI;
  
  if (*(int *)(unaff_EDI + 0x58) != 0) {
    if ((*(int *)(unaff_EDI + 0x48) - *(int *)(unaff_EDI + 0x44) >> 2 != 0) &&
       (piVar1 = *(int **)(unaff_EDI + 0x54), *(int **)(unaff_EDI + 0x5c) != piVar1)) {
      piVar2 = (int *)*piVar1;
      while (piVar2 != piVar1) {
        if ((*(ushort *)(*(int *)(unaff_EDI + 0x5c) + 0xc) <= *(ushort *)(piVar2 + 3)) &&
           (iVar3 = (**(code **)(*(int *)piVar2[4] + 4))(), iVar3 == 2)) {
          (**(code **)(*(int *)piVar2[4] + 0x14))
                    (*(int *)(unaff_EDI + 0x48) - *(int *)(unaff_EDI + 0x44) >> 2,
                     *(undefined4 *)(unaff_EDI + 0x44),*(undefined2 *)(piVar2 + 3),
                     (char)((int *)piVar2[4])[1]);
          FUN_008018d0(L"[_ClearAllEventFrames] Remain Hit Force Update (%d)",
                       **(undefined4 **)(unaff_EDI + 0x44));
        }
        FUN_00416210();
        piVar1 = *(int **)(unaff_EDI + 0x54);
      }
    }
    piVar1 = *(int **)(unaff_EDI + 0x54);
    piVar2 = (int *)*piVar1;
    while (piVar2 != piVar1) {
      (**(code **)(*(int *)piVar2[4] + 8))();
      FUN_00416210();
      piVar1 = *(int **)(unaff_EDI + 0x54);
    }
    *(undefined4 *)(unaff_EDI + 0x5c) = *(undefined4 *)(unaff_EDI + 0x54);
    *(undefined4 *)(unaff_EDI + 0x70) = *(undefined4 *)(unaff_EDI + 0x68);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a67a60 : PUSH EBP
00a67a61 : MOV EBP,ESP
00a67a63 : PUSH ECX
00a67a64 : CMP dword ptr [EDI + 0x58],0x0
00a67a68 : JZ 0x00a67b2b
00a67a6e : MOV EAX,dword ptr [EDI + 0x48]
00a67a71 : SUB EAX,dword ptr [EDI + 0x44]
00a67a74 : SAR EAX,0x2
00a67a77 : TEST EAX,EAX
00a67a79 : JBE 0x00a67af9
00a67a7f : MOV EAX,dword ptr [EDI + 0x54]
00a67a82 : CMP dword ptr [EDI + 0x5c],EAX
00a67a85 : JZ 0x00a67af9
00a67a87 : PUSH ESI
00a67a88 : MOV ESI,dword ptr [EAX]
00a67a8a : MOV dword ptr [EBP + -0x4],ESI
00a67a8d : CMP ESI,EAX
00a67a8f : JZ 0x00a67af8
00a67a91 : MOV ECX,dword ptr [EDI + 0x5c]
00a67a94 : MOV DX,word ptr [ESI + 0xc]
00a67a98 : CMP DX,word ptr [ECX + 0xc]
00a67a9c : JC 0x00a67ae8
00a67a9e : MOV ECX,dword ptr [ESI + 0x10]
00a67aa1 : MOV EAX,dword ptr [ECX]
00a67aa3 : MOV EDX,dword ptr [EAX + 0x4]
00a67aa6 : CALL EDX
00a67aa8 : CMP EAX,0x2
00a67aab : JNZ 0x00a67ae8
00a67aad : MOV ECX,dword ptr [ESI + 0x10]
00a67ab0 : MOVZX EDX,byte ptr [ECX + 0x4]
00a67ab4 : MOV EAX,dword ptr [ECX]
00a67ab6 : MOV EAX,dword ptr [EAX + 0x14]
00a67ab9 : PUSH EDX
00a67aba : MOVZX EDX,word ptr [ESI + 0xc]
00a67abe : PUSH EDX
00a67abf : MOV EDX,dword ptr [EDI + 0x44]
00a67ac2 : PUSH EDX
00a67ac3 : MOV EDX,dword ptr [EDI + 0x48]
00a67ac6 : SUB EDX,dword ptr [EDI + 0x44]
00a67ac9 : SAR EDX,0x2
00a67acc : PUSH EDX
00a67acd : CALL EAX
00a67acf : MOV ECX,dword ptr [EDI + 0x44]
00a67ad2 : MOV EDX,dword ptr [ECX]
00a67ad4 : MOV ESI,dword ptr [0x00da98e8]
00a67ada : PUSH EDX
00a67adb : PUSH 0xc35680
00a67ae0 : CALL 0x008018d0
00a67ae5 : ADD ESP,0x8
00a67ae8 : LEA EDX,[EBP + -0x4]
00a67aeb : CALL 0x00416210
00a67af0 : MOV ESI,dword ptr [EBP + -0x4]
00a67af3 : CMP ESI,dword ptr [EDI + 0x54]
00a67af6 : JNZ 0x00a67a91
00a67af8 : POP ESI
00a67af9 : MOV ECX,dword ptr [EDI + 0x54]
00a67afc : MOV EAX,dword ptr [ECX]
00a67afe : MOV dword ptr [EBP + -0x4],EAX
00a67b01 : CMP EAX,ECX
00a67b03 : JZ 0x00a67b1f
00a67b05 : MOV ECX,dword ptr [EAX + 0x10]
00a67b08 : MOV EAX,dword ptr [ECX]
00a67b0a : MOV EDX,dword ptr [EAX + 0x8]
00a67b0d : CALL EDX
00a67b0f : LEA EDX,[EBP + -0x4]
00a67b12 : CALL 0x00416210
00a67b17 : MOV EAX,dword ptr [EBP + -0x4]
00a67b1a : CMP EAX,dword ptr [EDI + 0x54]
00a67b1d : JNZ 0x00a67b05
00a67b1f : MOV EAX,dword ptr [EDI + 0x54]
00a67b22 : MOV ECX,dword ptr [EDI + 0x68]
00a67b25 : MOV dword ptr [EDI + 0x5c],EAX
00a67b28 : MOV dword ptr [EDI + 0x70],ECX
00a67b2b : MOV ESP,EBP
00a67b2d : POP EBP
00a67b2e : RET
