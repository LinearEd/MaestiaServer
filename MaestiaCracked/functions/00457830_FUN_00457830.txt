PROGRAM  : Maestia.exe
FUNCTION : FUN_00457830
ENTRY    : 00457830
BODY     : [[00457830, 004578fe]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint * FUN_00457830(uint param_1)

{
  uint *puVar1;
  size_t _Size;
  uint uVar2;
  void *local_c;
  undefined1 *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00b7270a;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  _Size = param_1 * 0x670 + 4;
  if (DAT_00da98c8 == (int *)0x0) {
    puVar1 = _malloc(_Size);
  }
  else {
    puVar1 = (uint *)(**(code **)(*DAT_00da98c8 + 4))(_Size,DAT_00d66fa0 ^ (uint)&stack0xffffffdc);
  }
  if (puVar1 != (uint *)0x0) {
    uVar2 = 0;
    *puVar1 = param_1;
    if (param_1 != 0) {
      do {
        local_4 = 0;
        if (puVar1 + 1 + uVar2 * 0x19c != (uint *)0x0) {
          FUN_00457540();
        }
        uVar2 = uVar2 + 1;
      } while (uVar2 < param_1);
    }
    _DAT_00da98cc = _DAT_00da98cc + _Size;
    _DAT_00da98d0 = _DAT_00da98d0 + 1;
    ExceptionList = local_c;
    return puVar1 + 1;
  }
  ExceptionList = local_c;
  return (uint *)0x0;
}



============================================================
DISASSEMBLY
============================================================
00457830 : PUSH -0x1
00457832 : PUSH 0xb7270a
00457837 : MOV EAX,FS:[0x0]
0045783d : PUSH EAX
0045783e : SUB ESP,0x8
00457841 : PUSH EBX
00457842 : PUSH EBP
00457843 : PUSH ESI
00457844 : PUSH EDI
00457845 : MOV EAX,[0x00d66fa0]
0045784a : XOR EAX,ESP
0045784c : PUSH EAX
0045784d : LEA EAX,[ESP + 0x1c]
00457851 : MOV FS:[0x0],EAX
00457857 : MOV EBP,dword ptr [ESP + 0x2c]
0045785b : MOV ECX,dword ptr [0x00da98c8]
00457861 : MOV EBX,EBP
00457863 : IMUL EBX,EBX,0x670
00457869 : ADD EBX,0x4
0045786c : PUSH EBX
0045786d : TEST ECX,ECX
0045786f : JZ 0x0045787a
00457871 : MOV EAX,dword ptr [ECX]
00457873 : MOV EDX,dword ptr [EAX + 0x4]
00457876 : CALL EDX
00457878 : JMP 0x00457882
0045787a : CALL 0x00636043
0045787f : ADD ESP,0x4
00457882 : TEST EAX,EAX
00457884 : JZ 0x004578e9
00457886 : XOR ESI,ESI
00457888 : LEA EDI,[EAX + 0x4]
0045788b : MOV dword ptr [EAX],EBP
0045788d : MOV dword ptr [ESP + 0x14],EDI
00457891 : MOV dword ptr [ESP + 0x2c],ESI
00457895 : TEST EBP,EBP
00457897 : JBE 0x004578c7
00457899 : MOV ECX,ESI
0045789b : IMUL ECX,ECX,0x670
004578a1 : ADD ECX,EDI
004578a3 : MOV dword ptr [ESP + 0x18],ECX
004578a7 : MOV dword ptr [ESP + 0x24],0x0
004578af : JZ 0x004578b6
004578b1 : CALL 0x00457540
004578b6 : MOV dword ptr [ESP + 0x24],0xffffffff
004578be : INC ESI
004578bf : MOV dword ptr [ESP + 0x2c],ESI
004578c3 : CMP ESI,EBP
004578c5 : JC 0x00457899
004578c7 : ADD dword ptr [0x00da98cc],EBX
004578cd : INC dword ptr [0x00da98d0]
004578d3 : MOV EAX,EDI
004578d5 : MOV ECX,dword ptr [ESP + 0x1c]
004578d9 : MOV dword ptr FS:[0x0],ECX
004578e0 : POP ECX
004578e1 : POP EDI
004578e2 : POP ESI
004578e3 : POP EBP
004578e4 : POP EBX
004578e5 : ADD ESP,0x14
004578e8 : RET
004578e9 : XOR EAX,EAX
004578eb : MOV ECX,dword ptr [ESP + 0x1c]
004578ef : MOV dword ptr FS:[0x0],ECX
004578f6 : POP ECX
004578f7 : POP EDI
004578f8 : POP ESI
004578f9 : POP EBP
004578fa : POP EBX
004578fb : ADD ESP,0x14
004578fe : RET
