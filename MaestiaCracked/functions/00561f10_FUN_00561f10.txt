PROGRAM  : Maestia.exe
FUNCTION : FUN_00561f10
ENTRY    : 00561f10
BODY     : [[00561f10, 00561f90]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00561f10(undefined4 *param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  int *piVar2;
  int iVar3;
  
  piVar2 = (int *)(*in_ECX + 8 + param_2 * 0x14);
  if ((*(int *)(*in_ECX + 8 + param_2 * 0x14) != -2) && (iVar3 = param_2, piVar2[1] == param_2)) {
    while ((piVar2[1] != param_2 ||
           (iVar1 = FUN_0051b280((piVar2[2] & 0xfffffffcU) + 8,(*(uint *)*param_1 & 0xfffffffc) + 8)
           , iVar1 != 0))) {
      iVar3 = *piVar2;
      if (iVar3 == -1) {
        return -1;
      }
      piVar2 = (int *)(*in_ECX + 8 + iVar3 * 0x14);
    }
    return iVar3;
  }
  return -1;
}



============================================================
DISASSEMBLY
============================================================
00561f10 : PUSH ECX
00561f11 : MOV EDX,dword ptr [ECX]
00561f13 : PUSH EBX
00561f14 : MOV EBX,dword ptr [ESP + 0x10]
00561f18 : PUSH ESI
00561f19 : LEA EAX,[EBX + EBX*0x4]
00561f1c : CMP dword ptr [EDX + EAX*0x4 + 0x8],-0x2
00561f21 : LEA ESI,[EDX + EAX*0x4 + 0x8]
00561f25 : PUSH EDI
00561f26 : MOV dword ptr [ESP + 0xc],ECX
00561f2a : MOV EDI,EBX
00561f2c : JZ 0x00561f87
00561f2e : CMP dword ptr [ESI + 0x4],EBX
00561f31 : JNZ 0x00561f87
00561f33 : PUSH EBP
00561f34 : MOV EBP,dword ptr [ESP + 0x18]
00561f38 : CMP dword ptr [ESI + 0x4],EBX
00561f3b : JNZ 0x00561f60
00561f3d : MOV EAX,dword ptr [EBP]
00561f40 : MOV EAX,dword ptr [EAX]
00561f42 : MOV ECX,dword ptr [ESI + 0x8]
00561f45 : AND EAX,0xfffffffc
00561f48 : AND ECX,0xfffffffc
00561f4b : ADD EAX,0x8
00561f4e : PUSH EAX
00561f4f : ADD ECX,0x8
00561f52 : PUSH ECX
00561f53 : CALL 0x0051b280
00561f58 : TEST EAX,EAX
00561f5a : JZ 0x00561f72
00561f5c : MOV ECX,dword ptr [ESP + 0x10]
00561f60 : MOV EDI,dword ptr [ESI]
00561f62 : CMP EDI,-0x1
00561f65 : JZ 0x00561f7c
00561f67 : MOV EAX,dword ptr [ECX]
00561f69 : LEA EDX,[EDI + EDI*0x4]
00561f6c : LEA ESI,[EAX + EDX*0x4 + 0x8]
00561f70 : JMP 0x00561f38
00561f72 : POP EBP
00561f73 : MOV EAX,EDI
00561f75 : POP EDI
00561f76 : POP ESI
00561f77 : POP EBX
00561f78 : POP ECX
00561f79 : RET 0x8
00561f7c : POP EBP
00561f7d : POP EDI
00561f7e : POP ESI
00561f7f : OR EAX,0xffffffff
00561f82 : POP EBX
00561f83 : POP ECX
00561f84 : RET 0x8
00561f87 : POP EDI
00561f88 : POP ESI
00561f89 : OR EAX,0xffffffff
00561f8c : POP EBX
00561f8d : POP ECX
00561f8e : RET 0x8
