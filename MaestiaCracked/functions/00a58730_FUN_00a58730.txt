PROGRAM  : Maestia.exe
FUNCTION : FUN_00a58730
ENTRY    : 00a58730
BODY     : [[00a58730, 00a5882c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a58730(int param_1)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  
  if (*(int *)(DAT_017248cc + 0x90) == 5) {
    piVar1 = *(int **)(param_1 + 0x114);
    piVar2 = (int *)*piVar1;
    iVar3 = *(int *)(param_1 + 0x118);
    while (piVar2 != piVar1) {
      if (piVar2[9] != 1) {
        piVar2[6] = piVar2[6] + iVar3;
      }
      FUN_00402980();
    }
  }
  if (*DAT_00da9894 != 0) {
    FUN_008eb430();
  }
  *(undefined4 *)(param_1 + 0x7c) = *(undefined4 *)(param_1 + 0x78);
  switch(*(undefined4 *)(param_1 + 0x78)) {
  case 0:
    FUN_008eb430();
    FUN_008ed190();
    DAT_00da9851 = 0;
    DAT_00da9852 = 0;
    FUN_00a49290();
    break;
  case 1:
    FUN_00a49210();
    break;
  case 2:
    FUN_00a49e70();
    break;
  case 3:
    FUN_00a490a0();
    if (*(int **)(param_1 + 0x58) != (int *)0x0) {
      (**(code **)(**(int **)(param_1 + 0x58) + 0x244))();
    }
    *(undefined4 *)(param_1 + 0x218) = 0xffffffff;
    break;
  case 4:
    FUN_00a49f80();
    if (*(int *)(param_1 + 0x340) != 0) {
      *(int *)(param_1 + 0x340) = *(int *)(param_1 + 0x340) + -1;
    }
  }
  *(undefined4 *)(param_1 + 0x78) = 1;
  FUN_00a553a0();
  return;
}



============================================================
DISASSEMBLY
============================================================
00a58730 : PUSH EBP
00a58731 : MOV EBP,ESP
00a58733 : MOV EAX,[0x017248cc]
00a58738 : CMP dword ptr [EAX + 0x90],0x5
00a5873f : PUSH EBX
00a58740 : MOV EBX,dword ptr [EBP + 0x8]
00a58743 : PUSH ESI
00a58744 : PUSH EDI
00a58745 : JNZ 0x00a58778
00a58747 : MOV ESI,dword ptr [EBX + 0x114]
00a5874d : MOV EAX,dword ptr [ESI]
00a5874f : MOV EDI,dword ptr [EBX + 0x118]
00a58755 : MOV dword ptr [EBP + 0x8],EAX
00a58758 : CMP EAX,ESI
00a5875a : JZ 0x00a58778
00a5875c : LEA ESP,[ESP]
00a58760 : CMP dword ptr [EAX + 0x24],0x1
00a58764 : JZ 0x00a58769
00a58766 : ADD dword ptr [EAX + 0x18],EDI
00a58769 : LEA EDX,[EBP + 0x8]
00a5876c : CALL 0x00402980
00a58771 : MOV EAX,dword ptr [EBP + 0x8]
00a58774 : CMP EAX,ESI
00a58776 : JNZ 0x00a58760
00a58778 : MOV ECX,dword ptr [0x00da9894]
00a5877e : MOV ESI,dword ptr [ECX]
00a58780 : TEST ESI,ESI
00a58782 : JZ 0x00a58789
00a58784 : CALL 0x008eb430
00a58789 : MOV EAX,dword ptr [EBX + 0x78]
00a5878c : MOV dword ptr [EBX + 0x7c],EAX
00a5878f : CMP EAX,0x5
00a58792 : JA 0x00a58818
00a58798 : JMP dword ptr [EAX*0x4 + 0xa58830]
00a5879f : MOV EDX,dword ptr [0x00da9894]
00a587a5 : MOV ESI,dword ptr [EDX]
00a587a7 : CALL 0x008eb430
00a587ac : MOV EDI,ESI
00a587ae : CALL 0x008ed190
00a587b3 : MOV ESI,EBX
00a587b5 : MOV byte ptr [0x00da9851],0x0
00a587bc : MOV byte ptr [0x00da9852],0x0
00a587c3 : CALL 0x00a49290
00a587c8 : JMP 0x00a58818
00a587ca : MOV ESI,EBX
00a587cc : CALL 0x00a49210
00a587d1 : JMP 0x00a58818
00a587d3 : MOV ESI,EBX
00a587d5 : CALL 0x00a49e70
00a587da : JMP 0x00a58818
00a587dc : MOV ESI,EBX
00a587de : CALL 0x00a490a0
00a587e3 : MOV ECX,dword ptr [EBX + 0x58]
00a587e6 : TEST ECX,ECX
00a587e8 : JZ 0x00a587f4
00a587ea : MOV EAX,dword ptr [ECX]
00a587ec : MOV EDX,dword ptr [EAX + 0x244]
00a587f2 : CALL EDX
00a587f4 : MOV dword ptr [EBX + 0x218],0xffffffff
00a587fe : JMP 0x00a58818
00a58800 : MOV EAX,EBX
00a58802 : CALL 0x00a49f80
00a58807 : MOV EAX,dword ptr [EBX + 0x340]
00a5880d : TEST EAX,EAX
00a5880f : JBE 0x00a58818
00a58811 : DEC EAX
00a58812 : MOV dword ptr [EBX + 0x340],EAX
00a58818 : MOV ECX,EBX
00a5881a : MOV dword ptr [EBX + 0x78],0x1
00a58821 : CALL 0x00a553a0
00a58826 : POP EDI
00a58827 : POP ESI
00a58828 : POP EBX
00a58829 : POP EBP
00a5882a : RET 0x4
