PROGRAM  : Maestia.exe
FUNCTION : FUN_00677450
ENTRY    : 00677450
BODY     : [[00677450, 006774af]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00677450(undefined4 param_1,uint param_2)

{
  int *in_ECX;
  
  if (param_2 < (uint)in_ECX[1]) {
    FUN_00677220(*in_ECX + param_2 * 0x14,in_ECX[1] - param_2);
    if (param_2 < (uint)in_ECX[2] >> 1) {
      FUN_0050ea70(param_1,param_2);
      in_ECX[1] = param_2;
      return;
    }
  }
  else if ((uint)in_ECX[2] <= param_2) {
    FUN_0050ea70(param_1,(param_2 >> 2) + param_2);
  }
  in_ECX[1] = param_2;
  return;
}



============================================================
DISASSEMBLY
============================================================
00677450 : PUSH ESI
00677451 : MOV ESI,dword ptr [ESP + 0xc]
00677455 : PUSH EDI
00677456 : MOV EDI,ECX
00677458 : MOV EAX,dword ptr [EDI + 0x4]
0067745b : CMP ESI,EAX
0067745d : JNC 0x00677491
0067745f : MOV ECX,dword ptr [EDI]
00677461 : SUB EAX,ESI
00677463 : PUSH EAX
00677464 : LEA EAX,[ESI + ESI*0x4]
00677467 : LEA EDX,[ECX + EAX*0x4]
0067746a : PUSH EDX
0067746b : CALL 0x00677220
00677470 : MOV EAX,dword ptr [EDI + 0x8]
00677473 : SHR EAX,0x1
00677475 : ADD ESP,0x8
00677478 : CMP ESI,EAX
0067747a : JNC 0x006774a8
0067747c : MOV ECX,dword ptr [ESP + 0xc]
00677480 : PUSH ESI
00677481 : PUSH ECX
00677482 : MOV ECX,EDI
00677484 : CALL 0x0050ea70
00677489 : MOV dword ptr [EDI + 0x4],ESI
0067748c : POP EDI
0067748d : POP ESI
0067748e : RET 0x8
00677491 : CMP ESI,dword ptr [EDI + 0x8]
00677494 : JC 0x006774a8
00677496 : MOV EAX,dword ptr [ESP + 0xc]
0067749a : MOV EDX,ESI
0067749c : SHR EDX,0x2
0067749f : ADD EDX,ESI
006774a1 : PUSH EDX
006774a2 : PUSH EAX
006774a3 : CALL 0x0050ea70
006774a8 : MOV dword ptr [EDI + 0x4],ESI
006774ab : POP EDI
006774ac : POP ESI
006774ad : RET 0x8
