PROGRAM  : Maestia.exe
FUNCTION : FUN_0067a1a0
ENTRY    : 0067a1a0
BODY     : [[0067a1a0, 0067a235]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0067a1a0(undefined4 param_1,int param_2)

{
  int iVar1;
  undefined4 *in_ECX;
  
  if (in_ECX[0x12] != 0) {
    return 0;
  }
  in_ECX[4] = param_1;
  in_ECX[5] = param_2;
  while( true ) {
    if (in_ECX[2] == 0) {
      iVar1 = (**(code **)(*(int *)*in_ECX + 0x28))(in_ECX + 0x216,0x1000);
      if (iVar1 == 0) goto LAB_0067a228;
      in_ECX[1] = in_ECX + 0x216;
      in_ECX[2] = iVar1;
    }
    iVar1 = FUN_00710080(in_ECX + 1,2);
    if (iVar1 == 1) {
      in_ECX[0x10] = in_ECX[0x10] + (param_2 - in_ECX[5]);
      *(undefined1 *)(in_ECX + 0x11) = 1;
      return param_2 - in_ECX[5];
    }
    if (iVar1 != 0) break;
    if (in_ECX[5] == 0) {
      in_ECX[0x10] = in_ECX[0x10] + (param_2 - in_ECX[5]);
      return param_2 - in_ECX[5];
    }
  }
  in_ECX[0x12] = 1;
LAB_0067a228:
  in_ECX[0x10] = in_ECX[0x10] + (param_2 - in_ECX[5]);
  return param_2 - in_ECX[5];
}



============================================================
DISASSEMBLY
============================================================
0067a1a0 : PUSH ESI
0067a1a1 : MOV ESI,ECX
0067a1a3 : CMP dword ptr [ESI + 0x48],0x0
0067a1a7 : JZ 0x0067a1af
0067a1a9 : XOR EAX,EAX
0067a1ab : POP ESI
0067a1ac : RET 0x8
0067a1af : MOV EAX,dword ptr [ESP + 0x8]
0067a1b3 : PUSH EBP
0067a1b4 : MOV EBP,dword ptr [ESP + 0x10]
0067a1b8 : PUSH EDI
0067a1b9 : MOV dword ptr [ESI + 0x10],EAX
0067a1bc : MOV dword ptr [ESI + 0x14],EBP
0067a1bf : NOP
0067a1c0 : CMP dword ptr [ESI + 0x8],0x0
0067a1c4 : JNZ 0x0067a1e5
0067a1c6 : MOV ECX,dword ptr [ESI]
0067a1c8 : MOV EDX,dword ptr [ECX]
0067a1ca : MOV EAX,dword ptr [EDX + 0x28]
0067a1cd : PUSH 0x1000
0067a1d2 : LEA EDI,[ESI + 0x858]
0067a1d8 : PUSH EDI
0067a1d9 : CALL EAX
0067a1db : TEST EAX,EAX
0067a1dd : JZ 0x0067a228
0067a1df : MOV dword ptr [ESI + 0x4],EDI
0067a1e2 : MOV dword ptr [ESI + 0x8],EAX
0067a1e5 : LEA ECX,[ESI + 0x4]
0067a1e8 : PUSH 0x2
0067a1ea : PUSH ECX
0067a1eb : CALL 0x00710080
0067a1f0 : ADD ESP,0x8
0067a1f3 : CMP EAX,0x1
0067a1f6 : JZ 0x0067a20f
0067a1f8 : TEST EAX,EAX
0067a1fa : JNZ 0x0067a221
0067a1fc : CMP dword ptr [ESI + 0x14],EAX
0067a1ff : JNZ 0x0067a1c0
0067a201 : SUB EBP,dword ptr [ESI + 0x14]
0067a204 : POP EDI
0067a205 : MOV EAX,EBP
0067a207 : ADD dword ptr [ESI + 0x40],EAX
0067a20a : POP EBP
0067a20b : POP ESI
0067a20c : RET 0x8
0067a20f : SUB EBP,dword ptr [ESI + 0x14]
0067a212 : POP EDI
0067a213 : MOV EAX,EBP
0067a215 : ADD dword ptr [ESI + 0x40],EAX
0067a218 : POP EBP
0067a219 : MOV byte ptr [ESI + 0x44],0x1
0067a21d : POP ESI
0067a21e : RET 0x8
0067a221 : MOV dword ptr [ESI + 0x48],0x1
0067a228 : SUB EBP,dword ptr [ESI + 0x14]
0067a22b : POP EDI
0067a22c : MOV EAX,EBP
0067a22e : ADD dword ptr [ESI + 0x40],EAX
0067a231 : POP EBP
0067a232 : POP ESI
0067a233 : RET 0x8
