PROGRAM  : Maestia.exe
FUNCTION : FUN_006d93a0
ENTRY    : 006d93a0
BODY     : [[006d93a0, 006d94c3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006d93a0(int *param_1)

{
  int *piVar1;
  undefined4 *puVar2;
  char *_Src;
  int iVar3;
  GThread *this;
  int *piVar4;
  int local_4;
  
  piVar1 = param_1;
  param_1[1] = 0;
  local_4 = FUN_006b1300(param_1);
  puVar2 = (undefined4 *)FUN_006df300(piVar1,0x54);
  if (puVar2 == (undefined4 *)0x0) {
    piVar4 = piVar1;
    GThread::OnExit(this);
    *(undefined4 *)(*piVar1 + 0x14) = 0x36;
    *(undefined4 *)(*piVar1 + 0x18) = 0;
    (**(code **)*piVar1)(piVar1,piVar4);
  }
  *puVar2 = FUN_006d88d0;
  puVar2[1] = FUN_006d8a00;
  puVar2[2] = FUN_006d8aa0;
  puVar2[3] = FUN_006d8b50;
  puVar2[4] = FUN_006d8c00;
  puVar2[5] = FUN_006d8c70;
  puVar2[6] = FUN_006d8ce0;
  puVar2[7] = &LAB_006d8fc0;
  puVar2[8] = &LAB_006d9100;
  puVar2[9] = FUN_006d9250;
  puVar2[10] = &LAB_006d9360;
  puVar2[0xc] = 1000000000;
  puVar2[0xb] = local_4;
  puVar2[0xe] = 0;
  puVar2[0x10] = 0;
  puVar2[0xd] = 0;
  puVar2[0xf] = 0;
  puVar2[0x11] = 0;
  puVar2[0x12] = 0;
  puVar2[0x13] = 0x54;
  piVar1[1] = (int)puVar2;
  _Src = _getenv("JPEGMEM");
  if (_Src != (char *)0x0) {
    param_1 = (int *)CONCAT31(param_1._1_3_,0x78);
    iVar3 = FID_conflict__sscanf(_Src,"%ld%c",&local_4,&param_1);
    if (0 < iVar3) {
      if (((char)param_1 == 'm') || ((char)param_1 == 'M')) {
        puVar2[0xb] = local_4 * 1000000;
        return;
      }
      puVar2[0xb] = local_4 * 1000;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006d93a0 : PUSH ECX
006d93a1 : PUSH EBX
006d93a2 : PUSH ESI
006d93a3 : PUSH EDI
006d93a4 : MOV EDI,dword ptr [ESP + 0x14]
006d93a8 : XOR EBX,EBX
006d93aa : PUSH EDI
006d93ab : MOV dword ptr [EDI + 0x4],EBX
006d93ae : CALL 0x006b1300
006d93b3 : PUSH 0x54
006d93b5 : PUSH EDI
006d93b6 : MOV dword ptr [ESP + 0x18],EAX
006d93ba : CALL 0x006df300
006d93bf : MOV ESI,EAX
006d93c1 : ADD ESP,0xc
006d93c4 : CMP ESI,EBX
006d93c6 : JNZ 0x006d93e6
006d93c8 : PUSH EDI
006d93c9 : CALL 0x0051d420
006d93ce : MOV EAX,dword ptr [EDI]
006d93d0 : MOV dword ptr [EAX + 0x14],0x36
006d93d7 : MOV ECX,dword ptr [EDI]
006d93d9 : MOV dword ptr [ECX + 0x18],EBX
006d93dc : MOV EDX,dword ptr [EDI]
006d93de : MOV EAX,dword ptr [EDX]
006d93e0 : PUSH EDI
006d93e1 : CALL EAX
006d93e3 : ADD ESP,0x8
006d93e6 : MOV dword ptr [ESI],0x6d88d0
006d93ec : MOV dword ptr [ESI + 0x4],0x6d8a00
006d93f3 : MOV dword ptr [ESI + 0x8],0x6d8aa0
006d93fa : MOV dword ptr [ESI + 0xc],0x6d8b50
006d9401 : MOV dword ptr [ESI + 0x10],0x6d8c00
006d9408 : MOV dword ptr [ESI + 0x14],0x6d8c70
006d940f : MOV dword ptr [ESI + 0x18],0x6d8ce0
006d9416 : MOV dword ptr [ESI + 0x1c],0x6d8fc0
006d941d : MOV dword ptr [ESI + 0x20],0x6d9100
006d9424 : MOV dword ptr [ESI + 0x24],0x6d9250
006d942b : MOV dword ptr [ESI + 0x28],0x6d9360
006d9432 : MOV dword ptr [ESI + 0x30],0x3b9aca00
006d9439 : MOV ECX,dword ptr [ESP + 0xc]
006d943d : MOV dword ptr [ESI + 0x2c],ECX
006d9440 : MOV dword ptr [ESI + 0x38],EBX
006d9443 : MOV dword ptr [ESI + 0x40],EBX
006d9446 : MOV dword ptr [ESI + 0x34],EBX
006d9449 : MOV dword ptr [ESI + 0x3c],EBX
006d944c : MOV dword ptr [ESI + 0x44],EBX
006d944f : MOV dword ptr [ESI + 0x48],EBX
006d9452 : MOV dword ptr [ESI + 0x4c],0x54
006d9459 : PUSH 0xbf1568
006d945e : MOV dword ptr [EDI + 0x4],ESI
006d9461 : CALL 0x0065d215
006d9466 : ADD ESP,0x4
006d9469 : CMP EAX,EBX
006d946b : JZ 0x006d94bf
006d946d : LEA EDX,[ESP + 0x14]
006d9471 : PUSH EDX
006d9472 : LEA ECX,[ESP + 0x10]
006d9476 : PUSH ECX
006d9477 : PUSH 0xbf1560
006d947c : PUSH EAX
006d947d : MOV byte ptr [ESP + 0x24],0x78
006d9482 : CALL 0x00636620
006d9487 : ADD ESP,0x10
006d948a : TEST EAX,EAX
006d948c : JLE 0x006d94bf
006d948e : MOV AL,byte ptr [ESP + 0x14]
006d9492 : CMP AL,0x6d
006d9494 : JZ 0x006d949a
006d9496 : CMP AL,0x4d
006d9498 : JNZ 0x006d94b2
006d949a : MOV EAX,dword ptr [ESP + 0xc]
006d949e : IMUL EAX,EAX,0x3e8
006d94a4 : IMUL EAX,EAX,0x3e8
006d94aa : POP EDI
006d94ab : MOV dword ptr [ESI + 0x2c],EAX
006d94ae : POP ESI
006d94af : POP EBX
006d94b0 : POP ECX
006d94b1 : RET
006d94b2 : MOV EAX,dword ptr [ESP + 0xc]
006d94b6 : IMUL EAX,EAX,0x3e8
006d94bc : MOV dword ptr [ESI + 0x2c],EAX
006d94bf : POP EDI
006d94c0 : POP ESI
006d94c1 : POP EBX
006d94c2 : POP ECX
006d94c3 : RET
