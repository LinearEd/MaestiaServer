PROGRAM  : Maestia.exe
FUNCTION : FUN_00968530
ENTRY    : 00968530
BODY     : [[00968530, 009688d8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00968530(int param_1,int param_2,int param_3)

{
  float fVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 ***pppuVar5;
  undefined1 auStack_134 [36];
  undefined2 local_110;
  undefined4 local_100;
  uint local_fc;
  undefined2 local_f4;
  undefined4 local_e4;
  uint local_e0;
  undefined2 local_d8;
  undefined4 local_c8;
  uint local_c4;
  int local_c0;
  undefined4 local_b8;
  undefined4 uStack_a8;
  uint local_a4;
  undefined4 **local_9c [4];
  undefined4 uStack_8c;
  uint local_88;
  uint local_84;
  void *local_4c;
  undefined1 *puStack_48;
  uint local_44;
  
  local_44 = 0xffffffff;
  puStack_48 = &LAB_00b20928;
  local_4c = ExceptionList;
  local_84 = DAT_00d66fa0 ^ (uint)auStack_134;
  ExceptionList = &local_4c;
  if (param_2 != 0) {
    local_c0 = param_2;
    fVar1 = (float)param_2;
    if (param_2 < 0) {
      fVar1 = fVar1 + 4.2949673e+09;
    }
    FUN_00638370((double)(((float)param_1 / fVar1) * 100.0),DAT_00d66fa0 ^ (uint)&stack0xfffffec0);
    uVar2 = FUN_0063b380();
    FUN_00404750(L"{type=0^name=%d%%^color=#ff3000}",uVar2);
    local_44 = 0;
    FUN_00406460();
    local_44._0_1_ = 1;
    if (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 0x1ecc) < param_3) {
      FUN_00406460();
      local_44._0_1_ = 2;
      iVar3 = FUN_0081d120();
      local_44._0_1_ = 3;
      puVar4 = local_b8;
      if (local_a4 < 8) {
        puVar4 = &local_b8;
      }
      if (*(uint *)(iVar3 + 0x18) < 8) {
        iVar3 = iVar3 + 4;
      }
      else {
        iVar3 = *(int *)(iVar3 + 4);
      }
      uVar2 = FUN_00404750(iVar3,puVar4);
      local_44._0_1_ = 4;
      FUN_00405eb0(uVar2,0,0xffffffff);
      local_44 = CONCAT31(local_44._1_3_,3);
      if (7 < local_c4) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_c4 = 7;
      local_c8 = 0;
      local_d8 = 0;
      local_44 = CONCAT31(local_44._1_3_,2);
      if (7 < local_e0) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_e0 = 7;
      local_e4 = 0;
      local_f4 = 0;
      local_44 = CONCAT31(local_44._1_3_,1);
      if (7 < local_fc) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    else {
      FUN_00406460();
      local_44._0_1_ = 5;
      iVar3 = FUN_0081d120();
      local_44._0_1_ = 6;
      puVar4 = local_b8;
      if (local_a4 < 8) {
        puVar4 = &local_b8;
      }
      if (*(uint *)(iVar3 + 0x18) < 8) {
        iVar3 = iVar3 + 4;
      }
      else {
        iVar3 = *(int *)(iVar3 + 4);
      }
      uVar2 = FUN_00404750(iVar3,puVar4);
      local_44._0_1_ = 7;
      FUN_00405eb0(uVar2,0,0xffffffff);
      local_44 = CONCAT31(local_44._1_3_,6);
      if (7 < local_e0) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_e0 = 7;
      local_e4 = 0;
      local_f4 = 0;
      local_44 = CONCAT31(local_44._1_3_,5);
      if (7 < local_c4) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_c4 = 7;
      local_c8 = 0;
      local_d8 = 0;
      local_44 = CONCAT31(local_44._1_3_,1);
      if (7 < local_fc) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
    }
    local_c4 = 7;
    local_c8 = 0;
    local_d8 = 0;
    local_e0 = 7;
    local_e4 = 0;
    local_f4 = 0;
    local_100 = 0;
    local_110 = 0;
    local_fc = 7;
    iVar3 = *DAT_00da9894;
    if ((iVar3 != 0) && (*(int *)(iVar3 + 0x114) != 0)) {
      pppuVar5 = (undefined4 ***)local_9c[0];
      if (local_88 < 8) {
        pppuVar5 = local_9c;
      }
      (**(code **)(**(int **)(iVar3 + 0x114) + 4))
                (*(int **)(iVar3 + 0x114),"MyEventNotice","%ls,%d",pppuVar5,5);
    }
    local_44 = local_44 & 0xffffff00;
    if (7 < local_88) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_88 = 7;
    uStack_8c = 0;
    local_9c[0] = (undefined4 **)((uint)local_9c[0] & 0xffff0000);
    local_44 = 0xffffffff;
    if (7 < local_a4) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_a4 = 7;
    uStack_a8 = 0;
    local_b8 = (undefined4 *)((uint)local_b8._2_2_ << 0x10);
  }
  local_44 = 0xffffffff;
  ExceptionList = local_4c;
  __security_check_cookie(local_84 ^ (uint)auStack_134);
  return;
}



============================================================
DISASSEMBLY
============================================================
00968530 : PUSH EBP
00968531 : MOV EBP,ESP
00968533 : AND ESP,0xffffffc0
00968536 : PUSH -0x1
00968538 : PUSH 0xb20928
0096853d : MOV EAX,FS:[0x0]
00968543 : PUSH EAX
00968544 : SUB ESP,0xe8
0096854a : MOV EAX,[0x00d66fa0]
0096854f : XOR EAX,ESP
00968551 : MOV dword ptr [ESP + 0xb0],EAX
00968558 : PUSH EBX
00968559 : PUSH ESI
0096855a : PUSH EDI
0096855b : MOV EAX,[0x00d66fa0]
00968560 : XOR EAX,ESP
00968562 : PUSH EAX
00968563 : LEA EAX,[ESP + 0xf8]
0096856a : MOV FS:[0x0],EAX
00968570 : MOV EAX,dword ptr [EBP + 0xc]
00968573 : TEST EAX,EAX
00968575 : JZ 0x009688b3
0096857b : FILD dword ptr [EBP + 0x8]
0096857e : MOV dword ptr [ESP + 0x84],EAX
00968585 : FILD dword ptr [ESP + 0x84]
0096858c : JGE 0x00968594
0096858e : FADD float ptr [0x00cdf0e0]
00968594 : FDIVP
00968596 : SUB ESP,0x8
00968599 : FMUL float ptr [0x00cdf230]
0096859f : FSTP double ptr [ESP]
009685a2 : CALL 0x00638370
009685a7 : CALL 0x0063b380
009685ac : PUSH EAX
009685ad : PUSH 0xc7b6a8
009685b2 : LEA ESI,[ESP + 0x98]
009685b9 : CALL 0x00404750
009685be : ADD ESP,0x10
009685c1 : MOV dword ptr [ESP + 0x100],0x0
009685cc : PUSH 0xc7b6ec
009685d1 : LEA ECX,[ESP + 0xa8]
009685d8 : CALL 0x00406460
009685dd : MOV byte ptr [ESP + 0x100],0x1
009685e5 : MOV EAX,[0x0172491c]
009685ea : MOV EAX,dword ptr [EAX + 0x17c]
009685f0 : MOV EAX,dword ptr [EAX + 0x1ecc]
009685f6 : CMP EAX,dword ptr [EBP + 0x10]
009685f9 : LEA ECX,[ESP + 0x30]
009685fd : JGE 0x00968701
00968603 : PUSH 0xc7b6f0
00968608 : CALL 0x00406460
0096860d : MOV byte ptr [ESP + 0x100],0x2
00968615 : LEA ECX,[ESP + 0x30]
00968619 : PUSH ECX
0096861a : MOV ECX,dword ptr [0x0172491c]
00968620 : LEA EDI,[ESP + 0x50]
00968624 : CALL 0x0081d120
00968629 : MOV BL,0x3
0096862b : MOV byte ptr [ESP + 0x100],BL
00968632 : MOV ECX,dword ptr [ESP + 0x8c]
00968639 : MOV EDI,0x8
0096863e : CMP dword ptr [ESP + 0xa0],EDI
00968645 : JNC 0x0096864e
00968647 : LEA ECX,[ESP + 0x8c]
0096864e : CMP dword ptr [EAX + 0x18],EDI
00968651 : JC 0x00968658
00968653 : MOV EAX,dword ptr [EAX + 0x4]
00968656 : JMP 0x0096865b
00968658 : ADD EAX,0x4
0096865b : PUSH ECX
0096865c : PUSH EAX
0096865d : LEA ESI,[ESP + 0x70]
00968661 : CALL 0x00404750
00968666 : ADD ESP,0x8
00968669 : MOV byte ptr [ESP + 0x100],0x4
00968671 : PUSH -0x1
00968673 : PUSH 0x0
00968675 : PUSH EAX
00968676 : LEA ECX,[ESP + 0xb0]
0096867d : CALL 0x00405eb0
00968682 : MOV byte ptr [ESP + 0x100],BL
00968689 : CMP dword ptr [ESP + 0x80],EDI
00968690 : JC 0x0096869b
00968692 : MOV ECX,dword ptr [ESP + 0x6c]
00968696 : CALL 0x006f04e0
0096869b : MOV EBX,0x7
009686a0 : XOR ESI,ESI
009686a2 : XOR EDX,EDX
009686a4 : MOV dword ptr [ESP + 0x80],EBX
009686ab : MOV dword ptr [ESP + 0x7c],ESI
009686af : MOV word ptr [ESP + 0x6c],DX
009686b4 : MOV byte ptr [ESP + 0x100],0x2
009686bc : CMP dword ptr [ESP + 0x64],EDI
009686c0 : JC 0x009686cb
009686c2 : MOV ECX,dword ptr [ESP + 0x50]
009686c6 : CALL 0x006f04e0
009686cb : XOR EAX,EAX
009686cd : MOV dword ptr [ESP + 0x64],EBX
009686d1 : MOV dword ptr [ESP + 0x60],ESI
009686d5 : MOV word ptr [ESP + 0x50],AX
009686da : MOV byte ptr [ESP + 0x100],0x1
009686e2 : CMP dword ptr [ESP + 0x48],EDI
009686e6 : JC 0x009686f1
009686e8 : MOV ECX,dword ptr [ESP + 0x34]
009686ec : CALL 0x006f04e0
009686f1 : XOR ECX,ECX
009686f3 : MOV dword ptr [ESP + 0x44],ESI
009686f7 : MOV word ptr [ESP + 0x34],CX
009686fc : JMP 0x009687fa
00968701 : PUSH 0xc7b728
00968706 : CALL 0x00406460
0096870b : MOV byte ptr [ESP + 0x100],0x5
00968713 : MOV ECX,dword ptr [0x0172491c]
00968719 : LEA EDX,[ESP + 0x30]
0096871d : PUSH EDX
0096871e : LEA EDI,[ESP + 0x6c]
00968722 : CALL 0x0081d120
00968727 : MOV byte ptr [ESP + 0x100],0x6
0096872f : MOV ECX,dword ptr [ESP + 0x8c]
00968736 : MOV EDI,0x8
0096873b : CMP dword ptr [ESP + 0xa0],EDI
00968742 : JNC 0x0096874b
00968744 : LEA ECX,[ESP + 0x8c]
0096874b : CMP dword ptr [EAX + 0x18],EDI
0096874e : JC 0x00968755
00968750 : MOV EAX,dword ptr [EAX + 0x4]
00968753 : JMP 0x00968758
00968755 : ADD EAX,0x4
00968758 : PUSH ECX
00968759 : PUSH EAX
0096875a : LEA ESI,[ESP + 0x54]
0096875e : CALL 0x00404750
00968763 : ADD ESP,0x8
00968766 : MOV EBX,0x7
0096876b : MOV byte ptr [ESP + 0x100],BL
00968772 : PUSH -0x1
00968774 : XOR ESI,ESI
00968776 : PUSH ESI
00968777 : PUSH EAX
00968778 : LEA ECX,[ESP + 0xb0]
0096877f : CALL 0x00405eb0
00968784 : MOV byte ptr [ESP + 0x100],0x6
0096878c : CMP dword ptr [ESP + 0x64],EDI
00968790 : JC 0x0096879b
00968792 : MOV ECX,dword ptr [ESP + 0x50]
00968796 : CALL 0x006f04e0
0096879b : XOR EAX,EAX
0096879d : MOV dword ptr [ESP + 0x64],EBX
009687a1 : MOV dword ptr [ESP + 0x60],ESI
009687a5 : MOV word ptr [ESP + 0x50],AX
009687aa : MOV byte ptr [ESP + 0x100],0x5
009687b2 : CMP dword ptr [ESP + 0x80],EDI
009687b9 : JC 0x009687c4
009687bb : MOV ECX,dword ptr [ESP + 0x6c]
009687bf : CALL 0x006f04e0
009687c4 : XOR ECX,ECX
009687c6 : MOV dword ptr [ESP + 0x80],EBX
009687cd : MOV dword ptr [ESP + 0x7c],ESI
009687d1 : MOV word ptr [ESP + 0x6c],CX
009687d6 : MOV byte ptr [ESP + 0x100],0x1
009687de : CMP dword ptr [ESP + 0x48],EDI
009687e2 : JC 0x009687ed
009687e4 : MOV ECX,dword ptr [ESP + 0x34]
009687e8 : CALL 0x006f04e0
009687ed : XOR EDX,EDX
009687ef : MOV dword ptr [ESP + 0x44],ESI
009687f3 : MOV word ptr [ESP + 0x34],DX
009687f8 : XOR ESI,ESI
009687fa : MOV EAX,[0x00da9894]
009687ff : MOV dword ptr [ESP + 0x48],EBX
00968803 : MOV EAX,dword ptr [EAX]
00968805 : CMP EAX,ESI
00968807 : JZ 0x00968846
00968809 : CMP dword ptr [EAX + 0x114],ESI
0096880f : JZ 0x00968846
00968811 : MOV EAX,dword ptr [EAX + 0x114]
00968817 : MOV ECX,dword ptr [ESP + 0xa8]
0096881e : CMP dword ptr [ESP + 0xbc],EDI
00968825 : JNC 0x0096882e
00968827 : LEA ECX,[ESP + 0xa8]
0096882e : MOV EDX,dword ptr [EAX]
00968830 : PUSH 0x5
00968832 : PUSH ECX
00968833 : PUSH 0xc7b764
00968838 : PUSH 0xc7b76c
0096883d : PUSH EAX
0096883e : MOV EAX,dword ptr [EDX + 0x4]
00968841 : CALL EAX
00968843 : ADD ESP,0x14
00968846 : MOV byte ptr [ESP + 0x100],0x0
0096884e : CMP dword ptr [ESP + 0xbc],EDI
00968855 : JC 0x00968863
00968857 : MOV ECX,dword ptr [ESP + 0xa8]
0096885e : CALL 0x006f04e0
00968863 : XOR ECX,ECX
00968865 : MOV dword ptr [ESP + 0xbc],EBX
0096886c : MOV dword ptr [ESP + 0xb8],ESI
00968873 : MOV word ptr [ESP + 0xa8],CX
0096887b : MOV dword ptr [ESP + 0x100],0xffffffff
00968886 : CMP dword ptr [ESP + 0xa0],EDI
0096888d : JC 0x0096889b
0096888f : MOV ECX,dword ptr [ESP + 0x8c]
00968896 : CALL 0x006f04e0
0096889b : XOR EDX,EDX
0096889d : MOV dword ptr [ESP + 0xa0],EBX
009688a4 : MOV dword ptr [ESP + 0x9c],ESI
009688ab : MOV word ptr [ESP + 0x8c],DX
009688b3 : MOV ECX,dword ptr [ESP + 0xf8]
009688ba : MOV dword ptr FS:[0x0],ECX
009688c1 : POP ECX
009688c2 : POP EDI
009688c3 : POP ESI
009688c4 : POP EBX
009688c5 : MOV ECX,dword ptr [ESP + 0xb0]
009688cc : XOR ECX,ESP
009688ce : CALL 0x00633e6b
009688d3 : MOV ESP,EBP
009688d5 : POP EBP
009688d6 : RET 0xc
