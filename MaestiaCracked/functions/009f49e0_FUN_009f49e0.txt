PROGRAM  : Maestia.exe
FUNCTION : FUN_009f49e0
ENTRY    : 009f49e0
BODY     : [[009f49e0, 009f4d03]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x009f4bbd) */

void FUN_009f49e0(int param_1,undefined4 param_2,undefined4 *param_3)

{
  int iVar1;
  undefined1 uVar2;
  uint uVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 in_ECX;
  float fVar6;
  undefined4 in_stack_0000001c;
  uint in_stack_00000020;
  int in_stack_00000024;
  undefined4 *in_stack_0000002c;
  undefined4 in_stack_0000003c;
  uint in_stack_00000040;
  uint local_50;
  uint local_34;
  undefined4 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  iVar1 = in_stack_00000024;
  puStack_c = &LAB_00b24c4d;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_8._0_1_ = 1;
  local_8._1_3_ = 0;
  local_14 = uVar3;
  if (param_1 == 0) goto LAB_009f4c9f;
  FUN_00406460(&DAT_00ca6ffc);
  local_8._0_1_ = 2;
  FUN_00406460(&DAT_00ca7000);
  local_8._0_1_ = 3;
  uVar2 = (undefined1)local_8;
  local_8._0_1_ = 3;
  if ((iVar1 == 1) || (iVar1 == 2)) {
    local_8._0_1_ = uVar2;
    FUN_00406360(&DAT_00ca7004,1);
    uVar2 = (undefined1)local_8;
  }
  else if (iVar1 == 6) {
    FUN_0081cbe0(DAT_0172491c);
    local_8._0_1_ = 4;
    FUN_00405eb0();
    local_8._0_1_ = 3;
    FUN_00406560();
    uVar2 = (undefined1)local_8;
  }
  local_8._0_1_ = uVar2;
  puVar4 = param_3;
  if (in_stack_00000020 < 8) {
    puVar4 = &param_3;
  }
  FUN_00404750(L"@N%s : ",puVar4);
  local_8._0_1_ = 5;
  FUN_00405c30();
  local_8._0_1_ = 3;
  if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if (iVar1 != 2) {
    FUN_00404980(in_ECX);
  }
  if (iVar1 == 6) {
    puVar4 = in_stack_0000002c;
    if (in_stack_00000040 < 8) {
      puVar4 = &stack0x0000002c;
    }
    puVar5 = local_2c;
    if (local_18 < 8) {
      puVar5 = &local_2c;
    }
    FUN_00404750(L"%.1f%s %s\n",(double)((float)param_1 * 0.001),puVar5,puVar4);
    local_8._0_1_ = 8;
LAB_009f4c41:
    FUN_00405c30();
    local_8._0_1_ = 3;
    FUN_00406560();
  }
  else {
    fVar6 = (float)param_1 * 0.01;
    if (iVar1 != 1) {
      if (iVar1 == 2) {
        puVar4 = in_stack_0000002c;
        if (in_stack_00000040 < 8) {
          puVar4 = &stack0x0000002c;
        }
        puVar5 = local_2c;
        if (local_18 < 8) {
          puVar5 = &local_2c;
        }
        FUN_00404750(L"%.1f%s %s\n",(double)fVar6,puVar5,puVar4);
        local_8._0_1_ = 7;
      }
      else {
        puVar4 = in_stack_0000002c;
        if (in_stack_00000040 < 8) {
          puVar4 = &stack0x0000002c;
        }
        puVar5 = local_2c;
        if (local_18 < 8) {
          puVar5 = &local_2c;
        }
        FUN_00404750(L"%d%s %s\n",param_1,puVar5,puVar4);
        local_8._0_1_ = 9;
      }
      goto LAB_009f4c41;
    }
    puVar4 = in_stack_0000002c;
    if (in_stack_00000040 < 8) {
      puVar4 = &stack0x0000002c;
    }
    puVar5 = local_2c;
    if (local_18 < 8) {
      puVar5 = &local_2c;
    }
    FUN_00404750(L"%.1f%s %s\n",(double)fVar6,puVar5,puVar4);
    local_8._0_1_ = 6;
    FUN_00405c30();
  }
  local_8 = CONCAT31(local_8._1_3_,2);
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_18 = 7;
  local_1c = 0;
  local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
  local_8._0_1_ = 1;
  if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
LAB_009f4c9f:
  local_8 = (uint)local_8._1_3_ << 8;
  if (7 < in_stack_00000020) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar3);
  }
  in_stack_00000020 = 7;
  in_stack_0000001c = 0;
  param_3 = (undefined4 *)((uint)param_3 & 0xffff0000);
  local_8 = 0xffffffff;
  if (7 < in_stack_00000040) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0(uVar3);
  }
  in_stack_00000040 = 7;
  in_stack_0000003c = 0;
  in_stack_0000002c = (undefined4 *)((uint)in_stack_0000002c & 0xffff0000);
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009f49e0 : PUSH EBP
009f49e1 : MOV EBP,ESP
009f49e3 : PUSH -0x1
009f49e5 : PUSH 0xb24c4d
009f49ea : MOV EAX,FS:[0x0]
009f49f0 : PUSH EAX
009f49f1 : SUB ESP,0x58
009f49f4 : MOV EAX,[0x00d66fa0]
009f49f9 : XOR EAX,EBP
009f49fb : MOV dword ptr [EBP + -0x10],EAX
009f49fe : PUSH EBX
009f49ff : PUSH ESI
009f4a00 : PUSH EDI
009f4a01 : PUSH EAX
009f4a02 : LEA EAX,[EBP + -0xc]
009f4a05 : MOV FS:[0x0],EAX
009f4a0b : MOV EBX,dword ptr [EBP + 0x28]
009f4a0e : MOV EDI,ECX
009f4a10 : MOV dword ptr [EBP + -0x4],0x1
009f4a17 : CMP dword ptr [EBP + 0x8],0x0
009f4a1b : JZ 0x009f4c9f
009f4a21 : PUSH 0xca6ffc
009f4a26 : LEA ECX,[EBP + -0x48]
009f4a29 : CALL 0x00406460
009f4a2e : MOV byte ptr [EBP + -0x4],0x2
009f4a32 : PUSH 0xca7000
009f4a37 : LEA ECX,[EBP + -0x2c]
009f4a3a : CALL 0x00406460
009f4a3f : MOV byte ptr [EBP + -0x4],0x3
009f4a43 : CMP EBX,0x1
009f4a46 : JZ 0x009f4a83
009f4a48 : CMP EBX,0x2
009f4a4b : JZ 0x009f4a83
009f4a4d : CMP EBX,0x6
009f4a50 : JNZ 0x009f4a92
009f4a52 : MOV EAX,[0x0172491c]
009f4a57 : PUSH EAX
009f4a58 : MOV ECX,0xca7008
009f4a5d : LEA ESI,[EBP + -0x64]
009f4a60 : CALL 0x0081cbe0
009f4a65 : MOV byte ptr [EBP + -0x4],0x4
009f4a69 : PUSH -0x1
009f4a6b : PUSH 0x0
009f4a6d : PUSH EAX
009f4a6e : LEA ECX,[EBP + -0x2c]
009f4a71 : CALL 0x00405eb0
009f4a76 : MOV byte ptr [EBP + -0x4],0x3
009f4a7a : MOV ECX,ESI
009f4a7c : CALL 0x00406560
009f4a81 : JMP 0x009f4a92
009f4a83 : PUSH 0x1
009f4a85 : PUSH 0xca7004
009f4a8a : LEA ECX,[EBP + -0x2c]
009f4a8d : CALL 0x00406360
009f4a92 : CMP dword ptr [EBP + 0x24],0x8
009f4a96 : MOV EAX,dword ptr [EBP + 0x10]
009f4a99 : JNC 0x009f4a9e
009f4a9b : LEA EAX,[EBP + 0x10]
009f4a9e : PUSH EAX
009f4a9f : PUSH 0xca7010
009f4aa4 : LEA ESI,[EBP + -0x64]
009f4aa7 : CALL 0x00404750
009f4aac : ADD ESP,0x8
009f4aaf : MOV byte ptr [EBP + -0x4],0x5
009f4ab3 : PUSH -0x1
009f4ab5 : PUSH 0x0
009f4ab7 : PUSH EAX
009f4ab8 : MOV ECX,EDI
009f4aba : CALL 0x00405c30
009f4abf : MOV byte ptr [EBP + -0x4],0x3
009f4ac3 : CMP dword ptr [EBP + -0x4c],0x8
009f4ac7 : JC 0x009f4ad1
009f4ac9 : MOV ECX,dword ptr [EBP + -0x60]
009f4acc : CALL 0x006f04e0
009f4ad1 : MOV ESI,dword ptr [EBP + 0x8]
009f4ad4 : XOR ECX,ECX
009f4ad6 : MOV dword ptr [EBP + -0x4c],0x7
009f4add : MOV dword ptr [EBP + -0x50],0x0
009f4ae4 : MOV word ptr [EBP + -0x60],CX
009f4ae8 : CMP EBX,0x2
009f4aeb : JZ 0x009f4b0a
009f4aed : PUSH EDI
009f4aee : TEST ESI,ESI
009f4af0 : JLE 0x009f4af9
009f4af2 : MOV EDX,0xca7020
009f4af7 : JMP 0x009f4b05
009f4af9 : MOV EDX,0xca7028
009f4afe : JL 0x009f4b05
009f4b00 : MOV EDX,0xca7030
009f4b05 : CALL 0x00404980
009f4b0a : CVTSI2SS XMM0,ESI
009f4b0e : CMP EBX,0x6
009f4b11 : JNZ 0x009f4b5d
009f4b13 : MULSS XMM0,dword ptr [0x00cdf128]
009f4b1b : MOV ECX,dword ptr [EBP + 0x30]
009f4b1e : MOV EAX,0x8
009f4b23 : CMP dword ptr [EBP + 0x44],EAX
009f4b26 : JNC 0x009f4b2b
009f4b28 : LEA ECX,[EBP + 0x30]
009f4b2b : CMP dword ptr [EBP + -0x14],EAX
009f4b2e : MOV EAX,dword ptr [EBP + -0x28]
009f4b31 : JNC 0x009f4b36
009f4b33 : LEA EAX,[EBP + -0x28]
009f4b36 : PUSH ECX
009f4b37 : PUSH EAX
009f4b38 : SUB ESP,0x8
009f4b3b : CVTSS2SD XMM0,XMM0
009f4b3f : MOVSD qword ptr [ESP],XMM0
009f4b44 : PUSH 0xca7068
009f4b49 : LEA ESI,[EBP + -0x64]
009f4b4c : CALL 0x00404750
009f4b51 : ADD ESP,0x14
009f4b54 : MOV byte ptr [EBP + -0x4],0x8
009f4b58 : JMP 0x009f4c41
009f4b5d : MULSS XMM0,dword ptr [0x00cdf23c]
009f4b65 : MOV ECX,dword ptr [EBP + 0x30]
009f4b68 : MOV EAX,0x8
009f4b6d : CMP EBX,0x1
009f4b70 : JNZ 0x009f4bdb
009f4b72 : CMP dword ptr [EBP + 0x44],EAX
009f4b75 : JNC 0x009f4b7a
009f4b77 : LEA ECX,[EBP + 0x30]
009f4b7a : CMP dword ptr [EBP + -0x14],EAX
009f4b7d : MOV EAX,dword ptr [EBP + -0x28]
009f4b80 : JNC 0x009f4b85
009f4b82 : LEA EAX,[EBP + -0x28]
009f4b85 : PUSH ECX
009f4b86 : PUSH EAX
009f4b87 : SUB ESP,0x8
009f4b8a : CVTSS2SD XMM0,XMM0
009f4b8e : MOVSD qword ptr [ESP],XMM0
009f4b93 : PUSH 0xca7038
009f4b98 : LEA ESI,[EBP + -0x64]
009f4b9b : CALL 0x00404750
009f4ba0 : ADD ESP,0x14
009f4ba3 : MOV byte ptr [EBP + -0x4],0x6
009f4ba7 : PUSH -0x1
009f4ba9 : PUSH 0x0
009f4bab : PUSH EAX
009f4bac : MOV ECX,EDI
009f4bae : CALL 0x00405c30
009f4bb3 : MOV byte ptr [EBP + -0x4],0x3
009f4bb7 : CMP dword ptr [EBP + -0x4c],0x8
009f4bbb : JC 0x009f4bc5
009f4bbd : MOV ECX,dword ptr [EBP + -0x60]
009f4bc0 : CALL 0x006f04e0
009f4bc5 : XOR EDX,EDX
009f4bc7 : MOV dword ptr [EBP + -0x4c],0x7
009f4bce : MOV dword ptr [EBP + -0x50],0x0
009f4bd5 : MOV word ptr [EBP + -0x60],DX
009f4bd9 : JMP 0x009f4c59
009f4bdb : CMP EBX,0x2
009f4bde : JNZ 0x009f4c17
009f4be0 : CMP dword ptr [EBP + 0x44],EAX
009f4be3 : JNC 0x009f4be8
009f4be5 : LEA ECX,[EBP + 0x30]
009f4be8 : CMP dword ptr [EBP + -0x14],EAX
009f4beb : MOV EAX,dword ptr [EBP + -0x28]
009f4bee : JNC 0x009f4bf3
009f4bf0 : LEA EAX,[EBP + -0x28]
009f4bf3 : PUSH ECX
009f4bf4 : PUSH EAX
009f4bf5 : SUB ESP,0x8
009f4bf8 : CVTSS2SD XMM0,XMM0
009f4bfc : MOVSD qword ptr [ESP],XMM0
009f4c01 : PUSH 0xca7050
009f4c06 : LEA ESI,[EBP + -0x64]
009f4c09 : CALL 0x00404750
009f4c0e : ADD ESP,0x14
009f4c11 : MOV byte ptr [EBP + -0x4],0x7
009f4c15 : JMP 0x009f4c41
009f4c17 : CMP dword ptr [EBP + 0x44],EAX
009f4c1a : JNC 0x009f4c1f
009f4c1c : LEA ECX,[EBP + 0x30]
009f4c1f : CMP dword ptr [EBP + -0x14],EAX
009f4c22 : MOV EAX,dword ptr [EBP + -0x28]
009f4c25 : JNC 0x009f4c2a
009f4c27 : LEA EAX,[EBP + -0x28]
009f4c2a : PUSH ECX
009f4c2b : PUSH EAX
009f4c2c : PUSH ESI
009f4c2d : PUSH 0xca7080
009f4c32 : LEA ESI,[EBP + -0x64]
009f4c35 : CALL 0x00404750
009f4c3a : ADD ESP,0x10
009f4c3d : MOV byte ptr [EBP + -0x4],0x9
009f4c41 : PUSH -0x1
009f4c43 : PUSH 0x0
009f4c45 : PUSH EAX
009f4c46 : MOV ECX,EDI
009f4c48 : CALL 0x00405c30
009f4c4d : MOV byte ptr [EBP + -0x4],0x3
009f4c51 : LEA ECX,[EBP + -0x64]
009f4c54 : CALL 0x00406560
009f4c59 : MOV byte ptr [EBP + -0x4],0x2
009f4c5d : MOV EBX,0x8
009f4c62 : CMP dword ptr [EBP + -0x14],EBX
009f4c65 : JC 0x009f4c6f
009f4c67 : MOV ECX,dword ptr [EBP + -0x28]
009f4c6a : CALL 0x006f04e0
009f4c6f : MOV ESI,0x7
009f4c74 : XOR EDI,EDI
009f4c76 : XOR EAX,EAX
009f4c78 : MOV dword ptr [EBP + -0x14],ESI
009f4c7b : MOV dword ptr [EBP + -0x18],EDI
009f4c7e : MOV word ptr [EBP + -0x28],AX
009f4c82 : MOV byte ptr [EBP + -0x4],0x1
009f4c86 : CMP dword ptr [EBP + -0x30],EBX
009f4c89 : JC 0x009f4c93
009f4c8b : MOV ECX,dword ptr [EBP + -0x44]
009f4c8e : CALL 0x006f04e0
009f4c93 : XOR ECX,ECX
009f4c95 : MOV dword ptr [EBP + -0x30],ESI
009f4c98 : MOV dword ptr [EBP + -0x34],EDI
009f4c9b : MOV word ptr [EBP + -0x44],CX
009f4c9f : MOV byte ptr [EBP + -0x4],0x0
009f4ca3 : MOV EBX,0x8
009f4ca8 : CMP dword ptr [EBP + 0x24],EBX
009f4cab : JC 0x009f4cb5
009f4cad : MOV ECX,dword ptr [EBP + 0x10]
009f4cb0 : CALL 0x006f04e0
009f4cb5 : MOV ESI,0x7
009f4cba : XOR EDI,EDI
009f4cbc : XOR EDX,EDX
009f4cbe : MOV dword ptr [EBP + 0x24],ESI
009f4cc1 : MOV dword ptr [EBP + 0x20],EDI
009f4cc4 : MOV word ptr [EBP + 0x10],DX
009f4cc8 : MOV dword ptr [EBP + -0x4],0xffffffff
009f4ccf : CMP dword ptr [EBP + 0x44],EBX
009f4cd2 : JC 0x009f4cdc
009f4cd4 : MOV ECX,dword ptr [EBP + 0x30]
009f4cd7 : CALL 0x006f04e0
009f4cdc : XOR EAX,EAX
009f4cde : MOV dword ptr [EBP + 0x44],ESI
009f4ce1 : MOV dword ptr [EBP + 0x40],EDI
009f4ce4 : MOV word ptr [EBP + 0x30],AX
009f4ce8 : MOV ECX,dword ptr [EBP + -0xc]
009f4ceb : MOV dword ptr FS:[0x0],ECX
009f4cf2 : POP ECX
009f4cf3 : POP EDI
009f4cf4 : POP ESI
009f4cf5 : POP EBX
009f4cf6 : MOV ECX,dword ptr [EBP + -0x10]
009f4cf9 : XOR ECX,EBP
009f4cfb : CALL 0x00633e6b
009f4d00 : MOV ESP,EBP
009f4d02 : POP EBP
009f4d03 : RET
