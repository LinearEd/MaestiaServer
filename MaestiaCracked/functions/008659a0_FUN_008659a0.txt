PROGRAM  : Maestia.exe
FUNCTION : FUN_008659a0
ENTRY    : 008659a0
BODY     : [[008659a0, 00865a4b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008659a0(void)

{
  uint uVar1;
  int in_ECX;
  undefined1 local_20 [4];
  undefined4 *local_1c;
  undefined4 *local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b5f1d2;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if ((*DAT_00da9894 != 0) && (*(int *)(*DAT_00da9894 + 0x274) != 0)) {
    FUN_0042eb10(local_20,*(int *)(in_ECX + 0x594) + 0x20);
    local_8 = 0;
    local_14 = (undefined4 *)*local_1c;
    while (local_14 != local_1c) {
      if (local_14[4] != 0) {
        FUN_008e3cb0(uVar1);
      }
      FUN_00416210();
    }
    local_8 = 0xffffffff;
    FUN_0043a3d0(local_20);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
008659a0 : PUSH EBP
008659a1 : MOV EBP,ESP
008659a3 : PUSH -0x1
008659a5 : PUSH 0xb5f1d2
008659aa : MOV EAX,FS:[0x0]
008659b0 : PUSH EAX
008659b1 : SUB ESP,0x14
008659b4 : PUSH ESI
008659b5 : MOV EAX,[0x00d66fa0]
008659ba : XOR EAX,EBP
008659bc : PUSH EAX
008659bd : LEA EAX,[EBP + -0xc]
008659c0 : MOV FS:[0x0],EAX
008659c6 : MOV EAX,[0x00da9894]
008659cb : MOV EAX,dword ptr [EAX]
008659cd : TEST EAX,EAX
008659cf : JZ 0x00865a3c
008659d1 : CMP dword ptr [EAX + 0x274],0x0
008659d8 : JZ 0x00865a3c
008659da : MOV EAX,dword ptr [ECX + 0x594]
008659e0 : ADD EAX,0x20
008659e3 : PUSH EAX
008659e4 : LEA EDX,[EBP + -0x1c]
008659e7 : PUSH EDX
008659e8 : CALL 0x0042eb10
008659ed : MOV dword ptr [EBP + -0x4],0x0
008659f4 : MOV EAX,dword ptr [EBP + -0x18]
008659f7 : MOV ECX,dword ptr [EAX]
008659f9 : MOV ESI,EAX
008659fb : MOV dword ptr [EBP + -0x10],ECX
008659fe : CMP ECX,EAX
00865a00 : JZ 0x00865a2c
00865a02 : MOV EDX,dword ptr [ECX + 0x10]
00865a05 : TEST EDX,EDX
00865a07 : JZ 0x00865a1d
00865a09 : MOV EAX,[0x00da9894]
00865a0e : MOV EAX,dword ptr [EAX]
00865a10 : MOV EAX,dword ptr [EAX + 0x274]
00865a16 : MOV ECX,EAX
00865a18 : CALL 0x008e3cb0
00865a1d : LEA EDX,[EBP + -0x10]
00865a20 : CALL 0x00416210
00865a25 : MOV ECX,dword ptr [EBP + -0x10]
00865a28 : CMP ECX,ESI
00865a2a : JNZ 0x00865a02
00865a2c : MOV dword ptr [EBP + -0x4],0xffffffff
00865a33 : LEA ECX,[EBP + -0x1c]
00865a36 : PUSH ECX
00865a37 : CALL 0x0043a3d0
00865a3c : MOV ECX,dword ptr [EBP + -0xc]
00865a3f : MOV dword ptr FS:[0x0],ECX
00865a46 : POP ECX
00865a47 : POP ESI
00865a48 : MOV ESP,EBP
00865a4a : POP EBP
00865a4b : RET
