PROGRAM  : Maestia.exe
FUNCTION : FUN_006e9c90
ENTRY    : 006e9c90
BODY     : [[006e9c90, 006e9eb0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006e9c90(int param_1,int param_2)

{
  undefined4 in_EAX;
  int in_EDX;
  undefined4 *unaff_ESI;
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float in_XMM3_Da;
  float fVar6;
  float fVar7;
  
  fVar7 = 0.0;
  fVar5 = 1.0;
  *unaff_ESI = in_EAX;
  if (*(char *)(param_1 + 0x10) != '\0') {
    fVar1 = -1.0;
    if (*(float *)(in_EDX + 0x1d8) <= in_XMM3_Da) {
      if (*(float *)(in_EDX + 0x1dc) <= in_XMM3_Da) {
        if (*(float *)(in_EDX + 0x1e0) <= in_XMM3_Da) {
          if (in_XMM3_Da < *(float *)(in_EDX + 0x1e4)) {
            fVar1 = -((in_XMM3_Da - *(float *)(in_EDX + 0x1e0)) / *(float *)(in_EDX + 0x1f0));
          }
        }
        else {
          fVar1 = 0.0;
        }
      }
      else {
        fVar1 = 1.0 - (in_XMM3_Da - *(float *)(in_EDX + 0x1d8)) / *(float *)(in_EDX + 0x1ec);
      }
      goto LAB_006e9d20;
    }
  }
  fVar1 = 1.0;
LAB_006e9d20:
  unaff_ESI[2] = fVar1;
  unaff_ESI[1] = in_XMM3_Da;
  FUN_00807780();
  fVar1 = (float)unaff_ESI[2];
  fVar6 = fVar5;
  if (*(int *)(param_2 + 8) != 0) {
    fVar2 = fVar1;
    if (fVar1 < fVar7) {
      fVar2 = fVar7;
    }
    fVar3 = fVar5 / (float)*(int *)(param_2 + 8);
    fVar4 = fVar5 / fVar3;
    fVar2 = fVar2 - (float)(int)(fVar4 * fVar2) * fVar3;
    if ((fVar1 <= fVar7) || (fVar2 != fVar7)) {
      fVar6 = fVar4 * fVar2;
    }
  }
  unaff_ESI[3] = fVar6;
  fVar6 = fVar5;
  if (*(int *)(param_2 + 0x10) != 0) {
    fVar2 = fVar1;
    if (fVar1 < fVar7) {
      fVar2 = fVar7;
    }
    fVar3 = fVar5 / (float)*(int *)(param_2 + 0x10);
    fVar4 = fVar5 / fVar3;
    fVar2 = fVar2 - (float)(int)(fVar4 * fVar2) * fVar3;
    if ((fVar1 <= fVar7) || (fVar2 != fVar7)) {
      fVar6 = fVar4 * fVar2;
    }
  }
  unaff_ESI[4] = fVar6;
  fVar6 = fVar5;
  if (*(int *)(param_2 + 0x20) != 0) {
    fVar2 = fVar1;
    if (fVar1 < fVar7) {
      fVar2 = fVar7;
    }
    fVar3 = fVar5 / (float)*(int *)(param_2 + 0x20);
    fVar4 = fVar5 / fVar3;
    fVar2 = fVar2 - (float)(int)(fVar4 * fVar2) * fVar3;
    if ((fVar1 <= fVar7) || (fVar2 != fVar7)) {
      fVar6 = fVar4 * fVar2;
    }
  }
  unaff_ESI[5] = fVar6;
  if (*(int *)(param_2 + 0x18) != 0) {
    fVar6 = fVar1;
    if (fVar1 < fVar7) {
      fVar6 = fVar7;
    }
    fVar4 = fVar5 / (float)*(int *)(param_2 + 0x18);
    fVar2 = fVar5 / fVar4;
    fVar6 = fVar6 - (float)(int)(fVar2 * fVar6) * fVar4;
    if ((fVar1 <= fVar7) || (fVar6 != fVar7)) {
      unaff_ESI[6] = fVar2 * fVar6;
      return;
    }
  }
  unaff_ESI[6] = fVar5;
  return;
}



============================================================
DISASSEMBLY
============================================================
006e9c90 : MOV ECX,dword ptr [ESP + 0x4]
006e9c94 : XORPS XMM4,XMM4
006e9c97 : MOVSS XMM2,dword ptr [0x00c10fc4]
006e9c9f : MOV dword ptr [ESI],EAX
006e9ca1 : CMP byte ptr [ECX + 0x10],0x0
006e9ca5 : PUSH EDI
006e9ca6 : MOV EDI,dword ptr [ESP + 0xc]
006e9caa : JZ 0x006e9d1d
006e9cac : MOVSS XMM1,dword ptr [EDX + 0x1d8]
006e9cb4 : COMISS XMM1,XMM3
006e9cb7 : MOVSS XMM0,dword ptr [0x00cdf0d0]
006e9cbf : JA 0x006e9d1d
006e9cc1 : MOVSS XMM5,dword ptr [EDX + 0x1dc]
006e9cc9 : COMISS XMM5,XMM3
006e9ccc : JBE 0x006e9ce6
006e9cce : MOVAPS XMM5,XMM3
006e9cd1 : SUBSS XMM5,XMM1
006e9cd5 : DIVSS XMM5,dword ptr [EDX + 0x1ec]
006e9cdd : MOVAPS XMM0,XMM2
006e9ce0 : SUBSS XMM0,XMM5
006e9ce4 : JMP 0x006e9d20
006e9ce6 : MOVSS XMM1,dword ptr [EDX + 0x1e0]
006e9cee : COMISS XMM1,XMM3
006e9cf1 : JBE 0x006e9cf8
006e9cf3 : MOVAPS XMM0,XMM4
006e9cf6 : JMP 0x006e9d20
006e9cf8 : MOVSS XMM5,dword ptr [EDX + 0x1e4]
006e9d00 : COMISS XMM5,XMM3
006e9d03 : JBE 0x006e9d20
006e9d05 : MOVAPS XMM0,XMM3
006e9d08 : SUBSS XMM0,XMM1
006e9d0c : DIVSS XMM0,dword ptr [EDX + 0x1f0]
006e9d14 : XORPS XMM0,xmmword ptr [0x00cdf0c0]
006e9d1b : JMP 0x006e9d20
006e9d1d : MOVAPS XMM0,XMM2
006e9d20 : LEA ECX,[ESI + 0x1c]
006e9d23 : MOVSS dword ptr [ESI + 0x8],XMM0
006e9d28 : MOVSS dword ptr [ESI + 0x4],XMM3
006e9d2d : MOVAPS XMM1,XMM0
006e9d30 : CALL 0x00807780
006e9d35 : MOV EAX,dword ptr [EDI + 0x8]
006e9d38 : MOVSS XMM5,dword ptr [ESI + 0x8]
006e9d3d : TEST EAX,EAX
006e9d3f : JNZ 0x006e9d46
006e9d41 : MOVAPS XMM0,XMM2
006e9d44 : JMP 0x006e9d93
006e9d46 : COMISS XMM4,XMM5
006e9d49 : JBE 0x006e9d50
006e9d4b : MOVAPS XMM3,XMM4
006e9d4e : JMP 0x006e9d53
006e9d50 : MOVAPS XMM3,XMM5
006e9d53 : COMISS XMM4,XMM5
006e9d56 : CVTSI2SS XMM0,EAX
006e9d5a : MOVAPS XMM1,XMM2
006e9d5d : DIVSS XMM1,XMM0
006e9d61 : MOVAPS XMM0,XMM2
006e9d64 : DIVSS XMM0,XMM1
006e9d68 : MOVAPS XMM6,XMM0
006e9d6b : MULSS XMM6,XMM3
006e9d6f : CVTTSS2SI EDX,XMM6
006e9d73 : CVTSI2SS XMM6,EDX
006e9d77 : MULSS XMM6,XMM1
006e9d7b : SUBSS XMM3,XMM6
006e9d7f : JNC 0x006e9d8f
006e9d81 : UCOMISS XMM3,XMM4
006e9d84 : LAHF
006e9d85 : TEST AH,0x44
006e9d88 : JP 0x006e9d8f
006e9d8a : MOVAPS XMM0,XMM2
006e9d8d : JMP 0x006e9d93
006e9d8f : MULSS XMM0,XMM3
006e9d93 : MOVSS dword ptr [ESI + 0xc],XMM0
006e9d98 : MOV EAX,dword ptr [EDI + 0x10]
006e9d9b : TEST EAX,EAX
006e9d9d : JNZ 0x006e9da4
006e9d9f : MOVAPS XMM0,XMM2
006e9da2 : JMP 0x006e9df1
006e9da4 : COMISS XMM4,XMM5
006e9da7 : JBE 0x006e9dae
006e9da9 : MOVAPS XMM3,XMM4
006e9dac : JMP 0x006e9db1
006e9dae : MOVAPS XMM3,XMM5
006e9db1 : COMISS XMM4,XMM5
006e9db4 : CVTSI2SS XMM0,EAX
006e9db8 : MOVAPS XMM1,XMM2
006e9dbb : DIVSS XMM1,XMM0
006e9dbf : MOVAPS XMM0,XMM2
006e9dc2 : DIVSS XMM0,XMM1
006e9dc6 : MOVAPS XMM6,XMM0
006e9dc9 : MULSS XMM6,XMM3
006e9dcd : CVTTSS2SI EAX,XMM6
006e9dd1 : CVTSI2SS XMM6,EAX
006e9dd5 : MULSS XMM6,XMM1
006e9dd9 : SUBSS XMM3,XMM6
006e9ddd : JNC 0x006e9ded
006e9ddf : UCOMISS XMM3,XMM4
006e9de2 : LAHF
006e9de3 : TEST AH,0x44
006e9de6 : JP 0x006e9ded
006e9de8 : MOVAPS XMM0,XMM2
006e9deb : JMP 0x006e9df1
006e9ded : MULSS XMM0,XMM3
006e9df1 : MOVSS dword ptr [ESI + 0x10],XMM0
006e9df6 : MOV EAX,dword ptr [EDI + 0x20]
006e9df9 : TEST EAX,EAX
006e9dfb : JNZ 0x006e9e02
006e9dfd : MOVAPS XMM0,XMM2
006e9e00 : JMP 0x006e9e4f
006e9e02 : COMISS XMM4,XMM5
006e9e05 : JBE 0x006e9e0c
006e9e07 : MOVAPS XMM3,XMM4
006e9e0a : JMP 0x006e9e0f
006e9e0c : MOVAPS XMM3,XMM5
006e9e0f : COMISS XMM4,XMM5
006e9e12 : CVTSI2SS XMM0,EAX
006e9e16 : MOVAPS XMM1,XMM2
006e9e19 : DIVSS XMM1,XMM0
006e9e1d : MOVAPS XMM0,XMM2
006e9e20 : DIVSS XMM0,XMM1
006e9e24 : MOVAPS XMM6,XMM0
006e9e27 : MULSS XMM6,XMM3
006e9e2b : CVTTSS2SI ECX,XMM6
006e9e2f : CVTSI2SS XMM6,ECX
006e9e33 : MULSS XMM6,XMM1
006e9e37 : SUBSS XMM3,XMM6
006e9e3b : JNC 0x006e9e4b
006e9e3d : UCOMISS XMM3,XMM4
006e9e40 : LAHF
006e9e41 : TEST AH,0x44
006e9e44 : JP 0x006e9e4b
006e9e46 : MOVAPS XMM0,XMM2
006e9e49 : JMP 0x006e9e4f
006e9e4b : MULSS XMM0,XMM3
006e9e4f : MOVSS dword ptr [ESI + 0x14],XMM0
006e9e54 : MOV EDI,dword ptr [EDI + 0x18]
006e9e57 : TEST EDI,EDI
006e9e59 : JZ 0x006e9e9f
006e9e5b : COMISS XMM4,XMM5
006e9e5e : JBE 0x006e9e65
006e9e60 : MOVAPS XMM3,XMM4
006e9e63 : JMP 0x006e9e68
006e9e65 : MOVAPS XMM3,XMM5
006e9e68 : COMISS XMM4,XMM5
006e9e6b : CVTSI2SS XMM0,EDI
006e9e6f : MOVAPS XMM1,XMM2
006e9e72 : DIVSS XMM1,XMM0
006e9e76 : MOVAPS XMM0,XMM2
006e9e79 : DIVSS XMM0,XMM1
006e9e7d : MOVAPS XMM6,XMM0
006e9e80 : MULSS XMM6,XMM3
006e9e84 : CVTTSS2SI EDX,XMM6
006e9e88 : CVTSI2SS XMM6,EDX
006e9e8c : MULSS XMM6,XMM1
006e9e90 : SUBSS XMM3,XMM6
006e9e94 : JNC 0x006e9ea6
006e9e96 : UCOMISS XMM3,XMM4
006e9e99 : LAHF
006e9e9a : TEST AH,0x44
006e9e9d : JP 0x006e9ea6
006e9e9f : MOVSS dword ptr [ESI + 0x18],XMM2
006e9ea4 : POP EDI
006e9ea5 : RET
006e9ea6 : MULSS XMM0,XMM3
006e9eaa : MOVSS dword ptr [ESI + 0x18],XMM0
006e9eaf : POP EDI
006e9eb0 : RET
