PROGRAM  : Maestia.exe
FUNCTION : FUN_00888f00
ENTRY    : 00888f00
BODY     : [[00888f00, 0088905a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00888f00(int param_1,undefined4 param_2,int param_3,int param_4,int param_5,
                 undefined4 param_6,undefined1 param_7)

{
  int iVar1;
  float fVar2;
  float fVar3;
  char cVar4;
  short sVar5;
  int *piVar6;
  DWORD DVar7;
  int *in_ECX;
  bool bVar8;
  
  in_ECX[0xb1] = param_3;
  in_ECX[0x9d] = param_1;
  in_ECX[0x75] = param_5;
  in_ECX[0x89] = param_4;
  *(undefined1 *)((int)in_ECX + 0x1be) = param_7;
  in_ECX[0xc5] = 1;
  iVar1 = *(int *)(in_ECX[0x4e] + 4);
  piVar6 = in_ECX + 0x33e;
  sVar5 = FUN_0043d970();
  if (sVar5 == 1000) {
    bVar8 = *(int **)((int)in_ECX + iVar1 + 0x13c) == piVar6;
  }
  else if (sVar5 == 2000) {
    bVar8 = *(int **)((int)in_ECX + iVar1 + 0x140) == piVar6;
  }
  else {
    bVar8 = *(int **)((int)in_ECX + iVar1 + 0x144) == piVar6;
  }
  if (bVar8) {
    (**(code **)(*in_ECX + 0x74))();
  }
  else {
    cVar4 = (**(code **)(*(int *)((int)in_ECX + *(int *)(in_ECX[0x4e] + 4) + 0x138) + 0x10))
                      (piVar6,1,1,0);
    if (cVar4 == '\0') {
      if ((uint)in_ECX[9] < 8) {
        piVar6 = in_ECX + 4;
      }
      else {
        piVar6 = (int *)in_ECX[4];
      }
      DVar7 = timeGetTime();
      FUN_00483f90(DVar7,piVar6);
    }
  }
  iVar1 = in_ECX[0x154];
  if (iVar1 != 0) {
    fVar2 = (float)in_ECX[0x153];
    if (in_ECX[0x153] < 0) {
      fVar2 = fVar2 + 4.2949673e+09;
    }
    fVar3 = (float)iVar1;
    if (iVar1 < 0) {
      fVar3 = fVar3 + 4.2949673e+09;
    }
    fVar2 = (fVar2 + 1e-06) / (fVar3 + 1e-06);
    in_ECX[0x5d] = (int)fVar2;
    if (fVar2 < 0.1) {
      in_ECX[0x5d] = 0x3dcccccd;
    }
    if (10.0 < (float)in_ECX[0x5d]) {
      in_ECX[0x5d] = 0x41200000;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00888f00 : PUSH EBP
00888f01 : MOV EBP,ESP
00888f03 : MOV EAX,dword ptr [EBP + 0x10]
00888f06 : MOV EDX,dword ptr [EBP + 0x14]
00888f09 : PUSH EBX
00888f0a : PUSH ESI
00888f0b : MOV ESI,ECX
00888f0d : MOV ECX,dword ptr [EBP + 0x8]
00888f10 : MOV dword ptr [ESI + 0x2c4],EAX
00888f16 : MOV EAX,dword ptr [EBP + 0x18]
00888f19 : MOV dword ptr [ESI + 0x274],ECX
00888f1f : MOV CL,byte ptr [EBP + 0x20]
00888f22 : MOV dword ptr [ESI + 0x1d4],EAX
00888f28 : MOV EAX,dword ptr [ESI + 0x138]
00888f2e : PUSH EDI
00888f2f : MOV dword ptr [ESI + 0x224],EDX
00888f35 : MOV byte ptr [ESI + 0x1be],CL
00888f3b : MOV dword ptr [ESI + 0x314],0x1
00888f45 : MOV EDX,dword ptr [EAX + 0x4]
00888f48 : MOV AX,word ptr [ESI + 0xd22]
00888f4f : LEA EDI,[ESI + 0xcf8]
00888f55 : LEA EBX,[ESI + EDX*0x1 + 0x138]
00888f5c : CALL 0x0043d970
00888f61 : MOV ECX,0x3e8
00888f66 : CMP AX,CX
00888f69 : JNZ 0x00888f70
00888f6b : CMP dword ptr [EBX + 0x4],EDI
00888f6e : JMP 0x00888f82
00888f70 : MOV EDX,0x7d0
00888f75 : CMP AX,DX
00888f78 : JNZ 0x00888f7f
00888f7a : CMP dword ptr [EBX + 0x8],EDI
00888f7d : JMP 0x00888f82
00888f7f : CMP dword ptr [EBX + 0xc],EDI
00888f82 : SETZ AL
00888f85 : TEST AL,AL
00888f87 : JZ 0x00888f94
00888f89 : MOV EAX,dword ptr [ESI]
00888f8b : MOV EDX,dword ptr [EAX + 0x74]
00888f8e : MOV ECX,ESI
00888f90 : CALL EDX
00888f92 : JMP 0x00888fd9
00888f94 : MOV EAX,dword ptr [ESI + 0x138]
00888f9a : MOV EAX,dword ptr [EAX + 0x4]
00888f9d : MOV EDX,dword ptr [ESI + EAX*0x1 + 0x138]
00888fa4 : PUSH 0x0
00888fa6 : LEA ECX,[ESI + EAX*0x1 + 0x138]
00888fad : MOV EAX,dword ptr [EDX + 0x10]
00888fb0 : PUSH 0x1
00888fb2 : PUSH 0x1
00888fb4 : PUSH EDI
00888fb5 : CALL EAX
00888fb7 : TEST AL,AL
00888fb9 : JNZ 0x00888fd9
00888fbb : CMP dword ptr [ESI + 0x24],0x8
00888fbf : JC 0x00888fc6
00888fc1 : MOV EAX,dword ptr [ESI + 0x10]
00888fc4 : JMP 0x00888fc9
00888fc6 : LEA EAX,[ESI + 0x10]
00888fc9 : PUSH EAX
00888fca : CALL dword ptr [0x00b85598]
00888fd0 : PUSH EAX
00888fd1 : CALL 0x00483f90
00888fd6 : ADD ESP,0x8
00888fd9 : MOV EAX,dword ptr [ESI + 0x550]
00888fdf : TEST EAX,EAX
00888fe1 : JZ 0x00889054
00888fe3 : MOV ECX,dword ptr [ESI + 0x54c]
00888fe9 : FILD dword ptr [ESI + 0x54c]
00888fef : TEST ECX,ECX
00888ff1 : JGE 0x00888ff9
00888ff3 : FADD float ptr [0x00cdf0e0]
00888ff9 : FLD float ptr [0x00cdf414]
00888fff : MOV dword ptr [EBP + 0x20],EAX
00889002 : FADD ST1,ST0
00889004 : FILD dword ptr [EBP + 0x20]
00889007 : TEST EAX,EAX
00889009 : JGE 0x00889011
0088900b : FADD float ptr [0x00cdf0e0]
00889011 : FADDP
00889013 : FDIVP
00889015 : FST float ptr [ESI + 0x174]
0088901b : FLD float ptr [0x00cdf0f0]
00889021 : FCOMIP ST0,ST1
00889023 : FSTP ST0
00889025 : JBE 0x00889037
00889027 : MOVSS XMM0,dword ptr [0x00cdf0f0]
0088902f : MOVSS dword ptr [ESI + 0x174],XMM0
00889037 : MOVSS XMM1,dword ptr [ESI + 0x174]
0088903f : MOVSS XMM0,dword ptr [0x00c18874]
00889047 : COMISS XMM1,XMM0
0088904a : JBE 0x00889054
0088904c : MOVSS dword ptr [ESI + 0x174],XMM0
00889054 : POP EDI
00889055 : POP ESI
00889056 : POP EBX
00889057 : POP EBP
00889058 : RET 0x28
