PROGRAM  : Maestia.exe
FUNCTION : FUN_0073d560
ENTRY    : 0073d560
BODY     : [[0073d560, 0073d895]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0073d560(int param_1)

{
  int *piVar1;
  int iVar2;
  short sVar3;
  int in_ECX;
  int iVar4;
  undefined1 uVar5;
  undefined **local_74;
  int *piStack_70;
  int *piStack_68;
  int local_64;
  undefined1 local_60 [4];
  int *piStack_5c;
  int local_58;
  undefined1 auStack_54 [28];
  undefined1 local_38 [28];
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  int local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b187e6;
  local_14 = ExceptionList;
  local_1c = DAT_00d66fa0 ^ (uint)&local_74;
  ExceptionList = &local_14;
  local_58 = param_1;
  if (*(int *)(*(int *)(in_ECX + 0x14) + 0x7c) != 0) {
    piVar1 = *(int **)(param_1 + 4);
    if (piVar1 == (int *)0x0) goto LAB_0073d876;
    local_64 = in_ECX;
    FUN_0045f540(DAT_00d66fa0 ^ (uint)&stack0xffffff80);
    local_c = 0;
    iVar4 = piVar1[0x7a];
    if ((iVar4 == 0) || (*(char *)(iVar4 + 0x4c) == '\0')) {
      sVar3 = (**(code **)(*piVar1 + 0x24))();
      if (sVar3 == 1) {
        FUN_00406460(L"Membrane_wonsi.tga");
        local_c._0_1_ = 5;
        (**(code **)(*DAT_01725204 + 4))(&local_74,local_38);
        local_c._0_1_ = 6;
        FUN_00463a60();
        local_c._0_1_ = 5;
        local_74 = &PTR_FUN_00cd4964;
        if (piStack_70 != (int *)0x0) {
          (**(code **)(*piStack_70 + 0x30))();
          piStack_70 = (int *)0x0;
        }
      }
      else {
        if (sVar3 == 2) {
          FUN_00406460(L"Membrane_odin.tga");
          uVar5 = 7;
          local_c._0_1_ = 7;
          (**(code **)(*DAT_01725204 + 4))(&local_74,local_38);
          local_c._0_1_ = 8;
        }
        else {
          FUN_00406460(L"Membrane_zeus.tga");
          uVar5 = 9;
          local_c._0_1_ = 9;
          (**(code **)(*DAT_01725204 + 4))(&local_74,local_38);
          local_c._0_1_ = 10;
        }
        FUN_00463a60();
        local_c._0_1_ = uVar5;
        FUN_0045f640();
      }
    }
    else {
      FUN_00404750(L"Membrane%d.tga",*(undefined2 *)(iVar4 + 0x4e));
      local_c._0_1_ = 1;
      (**(code **)(*DAT_01725204 + 4))(&local_74,local_38);
      local_c._0_1_ = 2;
      FUN_00463a60();
      local_c._0_1_ = 1;
      FUN_0045f640();
      if (piStack_68 == (int *)0x0) {
        FUN_00406460(L"Membrane_wonsi.tga");
        local_c._0_1_ = 3;
        (**(code **)(*DAT_01725204 + 4))(&local_74,auStack_54);
        local_c._0_1_ = 4;
        FUN_00463a60();
        local_c._0_1_ = 3;
        FUN_0045f640();
        local_c._0_1_ = 1;
        FUN_00406560();
      }
    }
    local_c = (uint)local_c._1_3_ << 8;
    FUN_00406560();
    if (piStack_68 == (int *)0x0) {
      iVar4 = 0;
    }
    else {
      (**(code **)(*piStack_68 + 0x20))();
      iVar4 = piStack_68[0xe];
    }
    iVar2 = *(int *)(local_64 + 0x14);
    if ((*(int *)(iVar2 + 0x1c) != 0) && (*(int *)(iVar2 + 0x7c) != 0)) {
      (**(code **)(**(int **)(iVar2 + 0x1c) + 0xd0))
                (*(int **)(iVar2 + 0x1c),*(int *)(iVar2 + 0x7c),iVar4);
    }
    local_c = 0xffffffff;
    FUN_0043a010();
    in_ECX = local_64;
  }
  if (*(char *)(DAT_017251e0 + 0x111ec) != '\0') {
    FUN_0040ed10(local_60,local_58 + 0x20);
    piVar1 = piStack_5c;
    local_c = 0xb;
    if ((*(int **)(in_ECX + 0x44) != piStack_5c) && (*(int *)(*(int *)(in_ECX + 0x14) + 0x80) != 0))
    {
      if (piStack_5c == (int *)0x0) {
        iVar4 = 0;
      }
      else {
        (**(code **)(*piStack_5c + 0x20))();
        iVar4 = piVar1[0xe];
      }
      iVar2 = *(int *)(in_ECX + 0x14);
      if ((*(int *)(iVar2 + 0x1c) != 0) && (*(int *)(iVar2 + 0x80) != 0)) {
        (**(code **)(**(int **)(iVar2 + 0x1c) + 0xd0))
                  (*(int **)(iVar2 + 0x1c),*(int *)(iVar2 + 0x80),iVar4);
      }
      *(int **)(in_ECX + 0x44) = piStack_5c;
    }
    local_c = 0xffffffff;
    FUN_0040ed80(local_60);
  }
LAB_0073d876:
  ExceptionList = local_14;
  __security_check_cookie(local_1c ^ (uint)&local_74);
  return;
}



============================================================
DISASSEMBLY
============================================================
0073d560 : PUSH EBP
0073d561 : MOV EBP,ESP
0073d563 : AND ESP,0xfffffff8
0073d566 : PUSH -0x1
0073d568 : PUSH 0xb187e6
0073d56d : MOV EAX,FS:[0x0]
0073d573 : PUSH EAX
0073d574 : SUB ESP,0x60
0073d577 : MOV EAX,[0x00d66fa0]
0073d57c : XOR EAX,ESP
0073d57e : MOV dword ptr [ESP + 0x58],EAX
0073d582 : PUSH EBX
0073d583 : PUSH ESI
0073d584 : PUSH EDI
0073d585 : MOV EAX,[0x00d66fa0]
0073d58a : XOR EAX,ESP
0073d58c : PUSH EAX
0073d58d : LEA EAX,[ESP + 0x70]
0073d591 : MOV FS:[0x0],EAX
0073d597 : MOV EAX,dword ptr [EBP + 0x8]
0073d59a : MOV EDI,ECX
0073d59c : MOV ECX,dword ptr [EDI + 0x14]
0073d59f : CMP dword ptr [ECX + 0x7c],0x0
0073d5a3 : MOV dword ptr [ESP + 0x20],EDI
0073d5a7 : MOV dword ptr [ESP + 0x2c],EAX
0073d5ab : JZ 0x0073d7e8
0073d5b1 : MOV ESI,dword ptr [EAX + 0x4]
0073d5b4 : TEST ESI,ESI
0073d5b6 : JZ 0x0073d876
0073d5bc : LEA ECX,[ESP + 0x18]
0073d5c0 : CALL 0x0045f540
0073d5c5 : MOV dword ptr [ESP + 0x78],0x0
0073d5cd : MOV EAX,dword ptr [ESI + 0x1e8]
0073d5d3 : TEST EAX,EAX
0073d5d5 : JZ 0x0073d697
0073d5db : CMP byte ptr [EAX + 0x4c],0x0
0073d5df : JZ 0x0073d697
0073d5e5 : MOVZX EAX,word ptr [EAX + 0x4e]
0073d5e9 : MOVZX EDX,AX
0073d5ec : PUSH EDX
0073d5ed : PUSH 0xc06ff8
0073d5f2 : LEA ESI,[ESP + 0x54]
0073d5f6 : CALL 0x00404750
0073d5fb : ADD ESP,0x8
0073d5fe : MOV BL,0x1
0073d600 : MOV byte ptr [ESP + 0x78],BL
0073d604 : MOV ECX,dword ptr [0x01725204]
0073d60a : MOV EAX,dword ptr [ECX]
0073d60c : MOV EAX,dword ptr [EAX + 0x4]
0073d60f : MOV EDX,ESI
0073d611 : PUSH EDX
0073d612 : LEA EDX,[ESP + 0x14]
0073d616 : PUSH EDX
0073d617 : CALL EAX
0073d619 : MOV byte ptr [ESP + 0x78],0x2
0073d61e : MOV ESI,EAX
0073d620 : LEA EDI,[ESP + 0x18]
0073d624 : CALL 0x00463a60
0073d629 : MOV byte ptr [ESP + 0x78],BL
0073d62d : LEA ECX,[ESP + 0x10]
0073d631 : CALL 0x0045f640
0073d636 : CMP dword ptr [ESP + 0x1c],0x0
0073d63b : JNZ 0x0073d785
0073d641 : PUSH 0xc07018
0073d646 : LEA ECX,[ESP + 0x34]
0073d64a : CALL 0x00406460
0073d64f : MOV byte ptr [ESP + 0x78],0x3
0073d654 : MOV ECX,dword ptr [0x01725204]
0073d65a : MOV EDX,dword ptr [ECX]
0073d65c : MOV EDX,dword ptr [EDX + 0x4]
0073d65f : LEA EAX,[ESP + 0x30]
0073d663 : PUSH EAX
0073d664 : LEA EAX,[ESP + 0x14]
0073d668 : PUSH EAX
0073d669 : CALL EDX
0073d66b : MOV byte ptr [ESP + 0x78],0x4
0073d670 : MOV ESI,EAX
0073d672 : CALL 0x00463a60
0073d677 : MOV byte ptr [ESP + 0x78],0x3
0073d67c : LEA ECX,[ESP + 0x10]
0073d680 : CALL 0x0045f640
0073d685 : MOV byte ptr [ESP + 0x78],BL
0073d689 : LEA ECX,[ESP + 0x30]
0073d68d : CALL 0x00406560
0073d692 : JMP 0x0073d785
0073d697 : MOV EAX,dword ptr [ESI]
0073d699 : MOV EDX,dword ptr [EAX + 0x24]
0073d69c : MOV ECX,ESI
0073d69e : CALL EDX
0073d6a0 : MOVZX EAX,AX
0073d6a3 : LEA ECX,[ESP + 0x4c]
0073d6a7 : CMP AX,0x1
0073d6ab : JNZ 0x0073d70d
0073d6ad : PUSH 0xc07040
0073d6b2 : CALL 0x00406460
0073d6b7 : MOV BL,0x5
0073d6b9 : MOV byte ptr [ESP + 0x78],BL
0073d6bd : MOV ECX,dword ptr [0x01725204]
0073d6c3 : MOV EAX,dword ptr [ECX]
0073d6c5 : MOV EAX,dword ptr [EAX + 0x4]
0073d6c8 : LEA EDX,[ESP + 0x4c]
0073d6cc : PUSH EDX
0073d6cd : LEA EDX,[ESP + 0x14]
0073d6d1 : PUSH EDX
0073d6d2 : CALL EAX
0073d6d4 : MOV byte ptr [ESP + 0x78],0x6
0073d6d9 : MOV ESI,EAX
0073d6db : LEA EDI,[ESP + 0x18]
0073d6df : CALL 0x00463a60
0073d6e4 : MOV byte ptr [ESP + 0x78],BL
0073d6e8 : MOV ECX,dword ptr [ESP + 0x14]
0073d6ec : MOV dword ptr [ESP + 0x10],0xcd4964
0073d6f4 : TEST ECX,ECX
0073d6f6 : JZ 0x0073d785
0073d6fc : MOV EDX,dword ptr [ECX]
0073d6fe : MOV EAX,dword ptr [EDX + 0x30]
0073d701 : CALL EAX
0073d703 : MOV dword ptr [ESP + 0x14],0x0
0073d70b : JMP 0x0073d785
0073d70d : CMP AX,0x2
0073d711 : JNZ 0x0073d741
0073d713 : PUSH 0xc05f34
0073d718 : CALL 0x00406460
0073d71d : MOV BL,0x7
0073d71f : MOV byte ptr [ESP + 0x78],BL
0073d723 : MOV ECX,dword ptr [0x01725204]
0073d729 : MOV EDX,dword ptr [ECX]
0073d72b : MOV EDX,dword ptr [EDX + 0x4]
0073d72e : LEA EAX,[ESP + 0x4c]
0073d732 : PUSH EAX
0073d733 : LEA EAX,[ESP + 0x14]
0073d737 : PUSH EAX
0073d738 : CALL EDX
0073d73a : MOV byte ptr [ESP + 0x78],0x8
0073d73f : JMP 0x0073d76d
0073d741 : PUSH 0xc06504
0073d746 : CALL 0x00406460
0073d74b : MOV BL,0x9
0073d74d : MOV byte ptr [ESP + 0x78],BL
0073d751 : MOV ECX,dword ptr [0x01725204]
0073d757 : MOV EAX,dword ptr [ECX]
0073d759 : MOV EAX,dword ptr [EAX + 0x4]
0073d75c : LEA EDX,[ESP + 0x4c]
0073d760 : PUSH EDX
0073d761 : LEA EDX,[ESP + 0x14]
0073d765 : PUSH EDX
0073d766 : CALL EAX
0073d768 : MOV byte ptr [ESP + 0x78],0xa
0073d76d : MOV ESI,EAX
0073d76f : LEA EDI,[ESP + 0x18]
0073d773 : CALL 0x00463a60
0073d778 : MOV byte ptr [ESP + 0x78],BL
0073d77c : LEA ECX,[ESP + 0x10]
0073d780 : CALL 0x0045f640
0073d785 : MOV byte ptr [ESP + 0x78],0x0
0073d78a : LEA ECX,[ESP + 0x4c]
0073d78e : CALL 0x00406560
0073d793 : MOV ECX,dword ptr [ESP + 0x1c]
0073d797 : MOV ESI,ECX
0073d799 : TEST ECX,ECX
0073d79b : JNZ 0x0073d7a1
0073d79d : XOR EDX,EDX
0073d79f : JMP 0x0073d7ab
0073d7a1 : MOV EDX,dword ptr [ECX]
0073d7a3 : MOV EAX,dword ptr [EDX + 0x20]
0073d7a6 : CALL EAX
0073d7a8 : MOV EDX,dword ptr [ESI + 0x38]
0073d7ab : MOV ECX,dword ptr [ESP + 0x20]
0073d7af : MOV EAX,dword ptr [ECX + 0x14]
0073d7b2 : CMP dword ptr [EAX + 0x1c],0x0
0073d7b6 : JZ 0x0073d7cf
0073d7b8 : MOV ECX,dword ptr [EAX + 0x7c]
0073d7bb : TEST ECX,ECX
0073d7bd : JZ 0x0073d7cf
0073d7bf : MOV EAX,dword ptr [EAX + 0x1c]
0073d7c2 : MOV ESI,dword ptr [EAX]
0073d7c4 : PUSH EDX
0073d7c5 : MOV EDX,dword ptr [ESI + 0xd0]
0073d7cb : PUSH ECX
0073d7cc : PUSH EAX
0073d7cd : CALL EDX
0073d7cf : MOV dword ptr [ESP + 0x78],0xffffffff
0073d7d7 : LEA ECX,[ESP + 0x18]
0073d7db : CALL 0x0043a010
0073d7e0 : MOV EDI,dword ptr [ESP + 0x20]
0073d7e4 : MOV EAX,dword ptr [ESP + 0x2c]
0073d7e8 : MOV ECX,dword ptr [0x017251e0]
0073d7ee : CMP byte ptr [ECX + 0x111ec],0x0
0073d7f5 : JZ 0x0073d876
0073d7f7 : ADD EAX,0x20
0073d7fa : PUSH EAX
0073d7fb : LEA EDX,[ESP + 0x28]
0073d7ff : PUSH EDX
0073d800 : CALL 0x0040ed10
0073d805 : MOV dword ptr [ESP + 0x78],0xb
0073d80d : MOV ECX,dword ptr [ESP + 0x28]
0073d811 : CMP dword ptr [EDI + 0x44],ECX
0073d814 : JZ 0x0073d864
0073d816 : MOV EAX,dword ptr [EDI + 0x14]
0073d819 : CMP dword ptr [EAX + 0x80],0x0
0073d820 : JZ 0x0073d864
0073d822 : TEST ECX,ECX
0073d824 : JNZ 0x0073d82a
0073d826 : XOR ESI,ESI
0073d828 : JMP 0x0073d83a
0073d82a : MOV EDX,dword ptr [ECX]
0073d82c : MOV EAX,dword ptr [EDX + 0x20]
0073d82f : MOV ESI,ECX
0073d831 : CALL EAX
0073d833 : MOV ESI,dword ptr [ESI + 0x38]
0073d836 : MOV ECX,dword ptr [ESP + 0x28]
0073d83a : MOV EAX,dword ptr [EDI + 0x14]
0073d83d : CMP dword ptr [EAX + 0x1c],0x0
0073d841 : JZ 0x0073d861
0073d843 : MOV EDX,dword ptr [EAX + 0x80]
0073d849 : TEST EDX,EDX
0073d84b : JZ 0x0073d861
0073d84d : MOV EAX,dword ptr [EAX + 0x1c]
0073d850 : MOV ECX,dword ptr [EAX]
0073d852 : PUSH ESI
0073d853 : PUSH EDX
0073d854 : MOV EDX,dword ptr [ECX + 0xd0]
0073d85a : PUSH EAX
0073d85b : CALL EDX
0073d85d : MOV ECX,dword ptr [ESP + 0x28]
0073d861 : MOV dword ptr [EDI + 0x44],ECX
0073d864 : MOV dword ptr [ESP + 0x78],0xffffffff
0073d86c : LEA EAX,[ESP + 0x24]
0073d870 : PUSH EAX
0073d871 : CALL 0x0040ed80
0073d876 : MOV ECX,dword ptr [ESP + 0x70]
0073d87a : MOV dword ptr FS:[0x0],ECX
0073d881 : POP ECX
0073d882 : POP EDI
0073d883 : POP ESI
0073d884 : POP EBX
0073d885 : MOV ECX,dword ptr [ESP + 0x58]
0073d889 : XOR ECX,ESP
0073d88b : CALL 0x00633e6b
0073d890 : MOV ESP,EBP
0073d892 : POP EBP
0073d893 : RET 0x4
