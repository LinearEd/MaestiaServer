PROGRAM  : Maestia.exe
FUNCTION : FUN_00487cf0
ENTRY    : 00487cf0
BODY     : [[00487cf0, 00487d4c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00487cf0(int *param_1,int param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int unaff_EDI;
  
  iVar1 = *(int *)(unaff_EDI + 8) - *(int *)(unaff_EDI + 4);
  iVar2 = iVar1 >> 0x1f;
  if (iVar1 / 0x14 + iVar2 == iVar2) {
    iVar2 = 0;
  }
  else {
    iVar2 = (param_2 - *(int *)(unaff_EDI + 4)) / 0x14;
  }
  FUN_004880a0(unaff_EDI,param_2,param_3);
  *param_1 = *(int *)(unaff_EDI + 4) + iVar2 * 0x14;
  return;
}



============================================================
DISASSEMBLY
============================================================
00487cf0 : PUSH EBP
00487cf1 : MOV EBP,ESP
00487cf3 : PUSH ECX
00487cf4 : MOV ECX,dword ptr [EDI + 0x8]
00487cf7 : PUSH EBX
00487cf8 : MOV EBX,dword ptr [EBP + 0xc]
00487cfb : PUSH ESI
00487cfc : MOV ESI,dword ptr [EDI + 0x4]
00487cff : SUB ECX,ESI
00487d01 : MOV EAX,0x66666667
00487d06 : IMUL ECX
00487d08 : SAR EDX,0x3
00487d0b : MOV EAX,EDX
00487d0d : SHR EAX,0x1f
00487d10 : ADD EAX,EDX
00487d12 : JNZ 0x00487d18
00487d14 : XOR ESI,ESI
00487d16 : JMP 0x00487d2d
00487d18 : MOV ECX,EBX
00487d1a : SUB ECX,ESI
00487d1c : MOV EAX,0x66666667
00487d21 : IMUL ECX
00487d23 : SAR EDX,0x3
00487d26 : MOV ESI,EDX
00487d28 : SHR ESI,0x1f
00487d2b : ADD ESI,EDX
00487d2d : MOV ECX,dword ptr [EBP + 0x10]
00487d30 : PUSH ECX
00487d31 : PUSH EBX
00487d32 : PUSH EDI
00487d33 : CALL 0x004880a0
00487d38 : MOV EAX,dword ptr [EDI + 0x4]
00487d3b : LEA EDX,[ESI + ESI*0x4]
00487d3e : LEA ECX,[EAX + EDX*0x4]
00487d41 : MOV EAX,dword ptr [EBP + 0x8]
00487d44 : POP ESI
00487d45 : MOV dword ptr [EAX],ECX
00487d47 : POP EBX
00487d48 : POP ECX
00487d49 : POP EBP
00487d4a : RET 0xc
