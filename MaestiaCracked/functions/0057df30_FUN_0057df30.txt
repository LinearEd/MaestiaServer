PROGRAM  : Maestia.exe
FUNCTION : FUN_0057df30
ENTRY    : 0057df30
BODY     : [[0057df30, 0057df99]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0057df30(undefined4 param_1,undefined4 param_2,uint param_3)

{
  uint uVar1;
  undefined4 uVar2;
  LONG LVar3;
  
  uVar1 = param_3;
  if (param_3 == 0xffffffff) {
    uVar1 = FUN_0051c9d0(param_2);
  }
  FUN_0051b6e0();
  FUN_0051b8a0(param_2,uVar1);
  uVar2 = FUN_0057de40(param_1,&param_3);
  uVar1 = param_3 & 0xfffffffc;
  LVar3 = InterlockedExchangeAdd((LONG *)(uVar1 + 4),-1);
  if (LVar3 == 1) {
    FUN_00515cf0(uVar1);
  }
  return uVar2;
}



============================================================
DISASSEMBLY
============================================================
0057df30 : PUSH EBX
0057df31 : MOV EBX,dword ptr [ESP + 0xc]
0057df35 : PUSH ESI
0057df36 : MOV ESI,dword ptr [ESP + 0x14]
0057df3a : PUSH EDI
0057df3b : MOV EDI,ECX
0057df3d : CMP ESI,-0x1
0057df40 : JNZ 0x0057df4d
0057df42 : PUSH EBX
0057df43 : CALL 0x0051c9d0
0057df48 : ADD ESP,0x4
0057df4b : MOV ESI,EAX
0057df4d : LEA ECX,[ESP + 0x18]
0057df51 : CALL 0x0051b6e0
0057df56 : PUSH ESI
0057df57 : PUSH EBX
0057df58 : LEA ECX,[ESP + 0x20]
0057df5c : CALL 0x0051b8a0
0057df61 : MOV ECX,dword ptr [ESP + 0x10]
0057df65 : LEA EAX,[ESP + 0x18]
0057df69 : PUSH EAX
0057df6a : PUSH ECX
0057df6b : MOV ECX,EDI
0057df6d : CALL 0x0057de40
0057df72 : MOV ESI,dword ptr [ESP + 0x18]
0057df76 : AND ESI,0xfffffffc
0057df79 : PUSH -0x1
0057df7b : LEA EDX,[ESI + 0x4]
0057df7e : PUSH EDX
0057df7f : MOV EDI,EAX
0057df81 : CALL dword ptr [0x00b851cc]
0057df87 : SUB EAX,0x1
0057df8a : JNZ 0x0057df92
0057df8c : PUSH ESI
0057df8d : CALL 0x00515cf0
0057df92 : MOV EAX,EDI
0057df94 : POP EDI
0057df95 : POP ESI
0057df96 : POP EBX
0057df97 : RET 0xc
