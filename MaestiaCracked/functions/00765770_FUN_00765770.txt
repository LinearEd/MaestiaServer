PROGRAM  : Maestia.exe
FUNCTION : FUN_00765770
ENTRY    : 00765770
BODY     : [[00765770, 00765add]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00765770(int *param_1)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  uint uVar4;
  int *piVar5;
  int in_ECX;
  int iVar6;
  int local_9c;
  int local_98;
  int local_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 uStack_88;
  undefined4 uStack_84;
  undefined4 uStack_80;
  undefined4 uStack_7c;
  undefined4 uStack_78;
  undefined4 uStack_74;
  undefined4 uStack_70;
  undefined4 uStack_6c;
  undefined4 uStack_68;
  undefined4 uStack_64;
  undefined4 uStack_60;
  undefined4 uStack_5c;
  undefined4 uStack_58;
  undefined4 uStack_54;
  undefined1 local_50 [28];
  undefined1 local_34 [32];
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b431cf;
  local_14 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xffffff58;
  ExceptionList = &local_14;
  piVar1 = *(int **)(DAT_017251cc + 0x10);
  if (((piVar1 != (int *)0x0) && (iVar6 = *(int *)(in_ECX + 0x24), iVar6 != 0)) &&
     (local_94 = *(int *)(iVar6 + 0x2cc) - *(int *)(iVar6 + 0x2c8) >> 2, local_94 != 0)) {
    local_98 = 0;
    local_9c = iVar6;
    if (0 < local_94) {
      do {
        iVar3 = local_98;
        local_98 = iVar3;
        if (((local_98 < *(int *)(iVar6 + 0x2cc) - *(int *)(iVar6 + 0x2c8) >> 2) &&
            (piVar2 = *(int **)(*(int *)(iVar6 + 0x2c8) + local_98 * 4), piVar2 != (int *)0x0)) &&
           ((*piVar2 != 0 && (piVar2[1] != 0)))) {
          if (*(int *)(*piVar2 + 4) == 0x12345678) {
            if (*(int *)(piVar2[1] + 4) == 0x12345678) {
              if (piVar2[9] != 0) {
                piVar1[0x11] = piVar2[9];
                *(undefined1 *)(piVar1 + 4) = 1;
              }
              piVar5 = (int *)FUN_007cc270(uVar4);
              piVar1[0x14] = *piVar5;
              piVar1[0x15] = piVar5[1];
              piVar1[0x16] = piVar5[2];
              piVar5 = (int *)FUN_007cc270();
              piVar1[0x17] = *piVar5;
              piVar1[0x18] = piVar5[1];
              piVar1[0x19] = piVar5[2];
              piVar1[0x1a] = piVar2[6];
              *(undefined8 *)(piVar1 + 0x1b) = DAT_00d72138;
              *(undefined8 *)(piVar1 + 0x1d) = DAT_00d72140;
              iVar6 = piVar2[3];
              piVar1[0x1f] = piVar2[2];
              piVar1[6] = 2;
              piVar1[7] = 2;
              piVar1[8] = 4;
              piVar1[9] = 4;
              piVar1[0x20] = iVar6;
              FUN_00764d50(param_1);
              iVar6 = local_9c;
            }
            else {
              FUN_00406460(L"dangling pointer!!");
              local_c = 1;
              if ((int *)*DAT_00da98e8 != (int *)0x0) {
                (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                          (L"AvaLib::AvaFxRayEntity::Apply",0x3b,local_50);
              }
              local_c = 0xffffffff;
              FUN_00406560();
              iVar6 = local_9c;
              local_98 = iVar3;
            }
          }
          else {
            FUN_00406460(L"dangling pointer!!");
            local_c = 0;
            if ((int *)*DAT_00da98e8 != (int *)0x0) {
              (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                        (L"AvaLib::AvaFxRayEntity::Apply",0x35,local_34);
            }
            local_c = 0xffffffff;
            FUN_00406560();
            iVar6 = local_9c;
            local_98 = iVar3;
          }
        }
        local_98 = local_98 + 1;
      } while (local_98 < local_94);
    }
    FUN_00763ac0(piVar1);
    piVar2 = *(int **)(DAT_017251ac + 0x18);
    uStack_90 = DAT_00d72178;
    uStack_8c = DAT_00d7217c;
    uStack_88 = DAT_00d72180;
    uStack_84 = DAT_00d72184;
    uStack_80 = DAT_00d72188;
    uStack_7c = DAT_00d7218c;
    uStack_78 = DAT_00d72190;
    uStack_74 = DAT_00d72194;
    uStack_70 = DAT_00d72198;
    uStack_6c = DAT_00d7219c;
    uStack_68 = DAT_00d721a0;
    uStack_64 = DAT_00d721a4;
    uStack_60 = DAT_00d721a8;
    uStack_5c = DAT_00d721ac;
    uStack_58 = DAT_00d721b0;
    uStack_54 = DAT_00d721b4;
    (**(code **)(*piVar2 + 0xb0))(piVar2,0x100,&uStack_90);
    (**(code **)(*piVar2 + 0xb0))(piVar2,2,&local_9c);
    (**(code **)(*piVar1 + 4))();
    (**(code **)(*param_1 + 0x1c))();
    (**(code **)(*piVar2 + 0xb0))(piVar2,2,param_1 + 0x2d);
  }
  ExceptionList = local_14;
  return;
}



============================================================
DISASSEMBLY
============================================================
00765770 : PUSH EBP
00765771 : MOV EBP,ESP
00765773 : AND ESP,0xfffffff8
00765776 : PUSH -0x1
00765778 : PUSH 0xb431cf
0076577d : MOV EAX,FS:[0x0]
00765783 : PUSH EAX
00765784 : SUB ESP,0x88
0076578a : PUSH EBX
0076578b : PUSH ESI
0076578c : PUSH EDI
0076578d : MOV EAX,[0x00d66fa0]
00765792 : XOR EAX,ESP
00765794 : PUSH EAX
00765795 : LEA EAX,[ESP + 0x98]
0076579c : MOV FS:[0x0],EAX
007657a2 : MOV EAX,[0x017251cc]
007657a7 : MOV EDI,dword ptr [EAX + 0x10]
007657aa : TEST EDI,EDI
007657ac : JZ 0x00765ac6
007657b2 : MOV EDX,dword ptr [ECX + 0x24]
007657b5 : MOV dword ptr [ESP + 0x10],EDX
007657b9 : TEST EDX,EDX
007657bb : JZ 0x00765ac6
007657c1 : MOV EAX,dword ptr [EDX + 0x2cc]
007657c7 : SUB EAX,dword ptr [EDX + 0x2c8]
007657cd : SAR EAX,0x2
007657d0 : MOV dword ptr [ESP + 0x18],EAX
007657d4 : TEST EAX,EAX
007657d6 : JZ 0x00765ac6
007657dc : XOR ESI,ESI
007657de : MOV dword ptr [ESP + 0x14],ESI
007657e2 : TEST EAX,EAX
007657e4 : JLE 0x00765987
007657ea : LEA EBX,[EBX]
007657f0 : MOV ECX,dword ptr [EDX + 0x2cc]
007657f6 : SUB ECX,dword ptr [EDX + 0x2c8]
007657fc : SAR ECX,0x2
007657ff : CMP ESI,ECX
00765801 : JGE 0x00765978
00765807 : MOV EAX,dword ptr [EDX + 0x2c8]
0076580d : MOV EBX,dword ptr [EAX + ESI*0x4]
00765810 : TEST EBX,EBX
00765812 : JZ 0x00765978
00765818 : MOV ECX,dword ptr [EBX]
0076581a : TEST ECX,ECX
0076581c : JZ 0x00765978
00765822 : MOV EAX,dword ptr [EBX + 0x4]
00765825 : TEST EAX,EAX
00765827 : JZ 0x00765978
0076582d : MOV EDX,0x12345678
00765832 : CMP dword ptr [ECX + 0x4],EDX
00765835 : JZ 0x00765888
00765837 : PUSH 0xc0c7dc
0076583c : LEA ECX,[ESP + 0x7c]
00765840 : CALL 0x00406460
00765845 : MOV dword ptr [ESP + 0xa0],0x0
00765850 : MOV ECX,dword ptr [0x00da98e8]
00765856 : MOV ECX,dword ptr [ECX]
00765858 : TEST ECX,ECX
0076585a : JZ 0x0076586f
0076585c : MOV EDX,dword ptr [ECX]
0076585e : MOV EDX,dword ptr [EDX + 0x14]
00765861 : LEA EAX,[ESP + 0x78]
00765865 : PUSH EAX
00765866 : PUSH 0x35
00765868 : PUSH 0xc0c804
0076586d : CALL EDX
0076586f : MOV dword ptr [ESP + 0xa0],0xffffffff
0076587a : LEA ECX,[ESP + 0x78]
0076587e : CALL 0x00406560
00765883 : JMP 0x00765974
00765888 : CMP dword ptr [EAX + 0x4],EDX
0076588b : JZ 0x007658dd
0076588d : PUSH 0xc0c840
00765892 : LEA ECX,[ESP + 0x60]
00765896 : CALL 0x00406460
0076589b : MOV dword ptr [ESP + 0xa0],0x1
007658a6 : MOV EAX,[0x00da98e8]
007658ab : MOV ECX,dword ptr [EAX]
007658ad : TEST ECX,ECX
007658af : JZ 0x007658c4
007658b1 : MOV EDX,dword ptr [ECX]
007658b3 : MOV EDX,dword ptr [EDX + 0x14]
007658b6 : LEA EAX,[ESP + 0x5c]
007658ba : PUSH EAX
007658bb : PUSH 0x3b
007658bd : PUSH 0xc0c868
007658c2 : CALL EDX
007658c4 : MOV dword ptr [ESP + 0xa0],0xffffffff
007658cf : LEA ECX,[ESP + 0x5c]
007658d3 : CALL 0x00406560
007658d8 : JMP 0x00765974
007658dd : MOV EAX,dword ptr [EBX + 0x24]
007658e0 : TEST EAX,EAX
007658e2 : JZ 0x007658eb
007658e4 : MOV dword ptr [EDI + 0x44],EAX
007658e7 : MOV byte ptr [EDI + 0x10],0x1
007658eb : MOV ESI,dword ptr [EBX]
007658ed : CALL 0x007cc270
007658f2 : FLD float ptr [EAX]
007658f4 : FSTP float ptr [EDI + 0x50]
007658f7 : FLD float ptr [EAX + 0x4]
007658fa : FSTP float ptr [EDI + 0x54]
007658fd : FLD float ptr [EAX + 0x8]
00765900 : FSTP float ptr [EDI + 0x58]
00765903 : MOV ESI,dword ptr [EBX + 0x4]
00765906 : CALL 0x007cc270
0076590b : FLD float ptr [EAX]
0076590d : FSTP float ptr [EDI + 0x5c]
00765910 : MOV ESI,EDI
00765912 : FLD float ptr [EAX + 0x4]
00765915 : FSTP float ptr [EDI + 0x60]
00765918 : FLD float ptr [EAX + 0x8]
0076591b : MOV EAX,0x2
00765920 : FSTP float ptr [EDI + 0x64]
00765923 : FLD float ptr [EBX + 0x18]
00765926 : FSTP float ptr [EDI + 0x68]
00765929 : MOVQ XMM0,qword ptr [0x00d72138]
00765931 : MOVQ qword ptr [EDI + 0x6c],XMM0
00765936 : MOVQ XMM0,qword ptr [0x00d72140]
0076593e : MOVQ qword ptr [EDI + 0x74],XMM0
00765943 : FLD float ptr [EBX + 0x8]
00765946 : MOVSS XMM0,dword ptr [EBX + 0xc]
0076594b : FSTP float ptr [EDI + 0x7c]
0076594e : MOV dword ptr [EDI + 0x18],EAX
00765951 : MOV dword ptr [EDI + 0x1c],EAX
00765954 : MOV EAX,0x4
00765959 : MOV dword ptr [EDI + 0x20],EAX
0076595c : MOV dword ptr [EDI + 0x24],EAX
0076595f : MOV EAX,dword ptr [EBP + 0x8]
00765962 : PUSH EAX
00765963 : MOVSS dword ptr [EDI + 0x80],XMM0
0076596b : CALL 0x00764d50
00765970 : MOV ESI,dword ptr [ESP + 0x14]
00765974 : MOV EDX,dword ptr [ESP + 0x10]
00765978 : INC ESI
00765979 : CMP ESI,dword ptr [ESP + 0x18]
0076597d : MOV dword ptr [ESP + 0x14],ESI
00765981 : JL 0x007657f0
00765987 : PUSH EDI
00765988 : CALL 0x00763ac0
0076598d : MOV ECX,dword ptr [0x017251ac]
00765993 : MOV ESI,dword ptr [ECX + 0x18]
00765996 : MOVSS XMM0,dword ptr [0x00d72178]
0076599e : MOVSS dword ptr [ESP + 0x1c],XMM0
007659a4 : MOVSS XMM0,dword ptr [0x00d7217c]
007659ac : MOVSS dword ptr [ESP + 0x20],XMM0
007659b2 : MOVSS XMM0,dword ptr [0x00d72180]
007659ba : MOVSS dword ptr [ESP + 0x24],XMM0
007659c0 : MOVSS XMM0,dword ptr [0x00d72184]
007659c8 : MOVSS dword ptr [ESP + 0x28],XMM0
007659ce : MOVSS XMM0,dword ptr [0x00d72188]
007659d6 : MOVSS dword ptr [ESP + 0x2c],XMM0
007659dc : MOVSS XMM0,dword ptr [0x00d7218c]
007659e4 : MOVSS dword ptr [ESP + 0x30],XMM0
007659ea : MOVSS XMM0,dword ptr [0x00d72190]
007659f2 : MOVSS dword ptr [ESP + 0x34],XMM0
007659f8 : MOVSS XMM0,dword ptr [0x00d72194]
00765a00 : MOVSS dword ptr [ESP + 0x38],XMM0
00765a06 : MOVSS XMM0,dword ptr [0x00d72198]
00765a0e : MOVSS dword ptr [ESP + 0x3c],XMM0
00765a14 : MOVSS XMM0,dword ptr [0x00d7219c]
00765a1c : MOVSS dword ptr [ESP + 0x40],XMM0
00765a22 : MOVSS XMM0,dword ptr [0x00d721a0]
00765a2a : MOVSS dword ptr [ESP + 0x44],XMM0
00765a30 : MOVSS XMM0,dword ptr [0x00d721a4]
00765a38 : MOVSS dword ptr [ESP + 0x48],XMM0
00765a3e : MOVSS XMM0,dword ptr [0x00d721a8]
00765a46 : MOVSS dword ptr [ESP + 0x4c],XMM0
00765a4c : MOVSS XMM0,dword ptr [0x00d721ac]
00765a54 : MOVSS dword ptr [ESP + 0x50],XMM0
00765a5a : MOVSS XMM0,dword ptr [0x00d721b0]
00765a62 : MOVSS dword ptr [ESP + 0x54],XMM0
00765a68 : MOVSS XMM0,dword ptr [0x00d721b4]
00765a70 : LEA EAX,[ESP + 0x1c]
00765a74 : PUSH EAX
00765a75 : MOVSS dword ptr [ESP + 0x5c],XMM0
00765a7b : MOV EDX,dword ptr [ESI]
00765a7d : MOV ECX,dword ptr [EDX + 0xb0]
00765a83 : PUSH 0x100
00765a88 : PUSH ESI
00765a89 : CALL ECX
00765a8b : MOV EDX,dword ptr [ESI]
00765a8d : MOV ECX,dword ptr [EDX + 0xb0]
00765a93 : LEA EAX,[ESP + 0x1c]
00765a97 : PUSH EAX
00765a98 : PUSH 0x2
00765a9a : PUSH ESI
00765a9b : CALL ECX
00765a9d : MOV EDX,dword ptr [EDI]
00765a9f : MOV EAX,dword ptr [EDX + 0x4]
00765aa2 : MOV ECX,EDI
00765aa4 : CALL EAX
00765aa6 : MOV EDI,dword ptr [EBP + 0x8]
00765aa9 : MOV EDX,dword ptr [EDI]
00765aab : MOV EAX,dword ptr [EDX + 0x1c]
00765aae : MOV ECX,EDI
00765ab0 : CALL EAX
00765ab2 : MOV ECX,dword ptr [ESI]
00765ab4 : MOV EDX,dword ptr [ECX + 0xb0]
00765aba : ADD EDI,0xb4
00765ac0 : PUSH EDI
00765ac1 : PUSH 0x2
00765ac3 : PUSH ESI
00765ac4 : CALL EDX
00765ac6 : MOV ECX,dword ptr [ESP + 0x98]
00765acd : MOV dword ptr FS:[0x0],ECX
00765ad4 : POP ECX
00765ad5 : POP EDI
00765ad6 : POP ESI
00765ad7 : POP EBX
00765ad8 : MOV ESP,EBP
00765ada : POP EBP
00765adb : RET 0x4
