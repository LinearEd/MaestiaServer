PROGRAM  : Maestia.exe
FUNCTION : FUN_004c4f60
ENTRY    : 004c4f60
BODY     : [[004c4f60, 004c4ffe]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_004c4f60(undefined4 *param_1,uint *param_2)

{
  int in_EAX;
  undefined4 *puVar1;
  undefined4 *puVar2;
  bool bVar3;
  
  puVar2 = *(undefined4 **)(in_EAX + 4);
  bVar3 = true;
  if (*(char *)((int)puVar2[1] + 0x1d) == '\0') {
    puVar1 = (undefined4 *)puVar2[1];
    do {
      puVar2 = puVar1;
      bVar3 = *param_2 < (uint)puVar2[3];
      if (bVar3) {
        puVar1 = (undefined4 *)*puVar2;
      }
      else {
        puVar1 = (undefined4 *)puVar2[2];
      }
    } while (*(char *)((int)puVar1 + 0x1d) == '\0');
  }
  if (bVar3) {
    if (puVar2 == (undefined4 *)**(int **)(in_EAX + 4)) {
      bVar3 = true;
      goto LAB_004c4fb4;
    }
    FUN_0040b8c0();
  }
  if (*param_2 <= (uint)puVar2[3]) {
    *param_1 = puVar2;
    *(undefined1 *)(param_1 + 1) = 0;
    return param_1;
  }
LAB_004c4fb4:
  puVar2 = (undefined4 *)FUN_004c5000(&param_2,bVar3,param_2);
  *param_1 = *puVar2;
  *(undefined1 *)(param_1 + 1) = 1;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
004c4f60 : PUSH EBP
004c4f61 : MOV EBP,ESP
004c4f63 : PUSH ECX
004c4f64 : PUSH EBX
004c4f65 : MOV EBX,dword ptr [EBP + 0x8]
004c4f68 : PUSH ESI
004c4f69 : PUSH EDI
004c4f6a : MOV EDI,EAX
004c4f6c : MOV ESI,dword ptr [EDI + 0x4]
004c4f6f : MOV EAX,dword ptr [ESI + 0x4]
004c4f72 : CMP byte ptr [EAX + 0x1d],0x0
004c4f76 : MOV CL,0x1
004c4f78 : MOV byte ptr [EBP + -0x4],CL
004c4f7b : JNZ 0x004c4f9e
004c4f7d : MOV ECX,dword ptr [EBP + 0xc]
004c4f80 : MOV EDX,dword ptr [ECX]
004c4f82 : CMP EDX,dword ptr [EAX + 0xc]
004c4f85 : MOV ESI,EAX
004c4f87 : SETC CL
004c4f8a : MOV byte ptr [EBP + -0x4],CL
004c4f8d : TEST CL,CL
004c4f8f : JZ 0x004c4f95
004c4f91 : MOV EAX,dword ptr [EAX]
004c4f93 : JMP 0x004c4f98
004c4f95 : MOV EAX,dword ptr [EAX + 0x8]
004c4f98 : CMP byte ptr [EAX + 0x1d],0x0
004c4f9c : JZ 0x004c4f82
004c4f9e : MOV EAX,ESI
004c4fa0 : MOV dword ptr [EBP + 0x8],EAX
004c4fa3 : TEST CL,CL
004c4fa5 : JZ 0x004c4fdd
004c4fa7 : MOV EDX,dword ptr [EDI + 0x4]
004c4faa : CMP ESI,dword ptr [EDX]
004c4fac : JNZ 0x004c4fd2
004c4fae : MOV EAX,dword ptr [EBP + 0xc]
004c4fb1 : PUSH EAX
004c4fb2 : PUSH 0x1
004c4fb4 : LEA ECX,[EBP + 0xc]
004c4fb7 : PUSH ECX
004c4fb8 : MOV ECX,ESI
004c4fba : CALL 0x004c5000
004c4fbf : MOV EDX,dword ptr [EAX]
004c4fc1 : MOV dword ptr [EBX],EDX
004c4fc3 : MOV byte ptr [EBX + 0x4],0x1
004c4fc7 : MOV EAX,EBX
004c4fc9 : POP EDI
004c4fca : POP ESI
004c4fcb : POP EBX
004c4fcc : MOV ESP,EBP
004c4fce : POP EBP
004c4fcf : RET 0x8
004c4fd2 : LEA EDX,[EBP + 0x8]
004c4fd5 : CALL 0x0040b8c0
004c4fda : MOV EAX,dword ptr [EBP + 0x8]
004c4fdd : MOV EDX,dword ptr [EAX + 0xc]
004c4fe0 : MOV ECX,dword ptr [EBP + 0xc]
004c4fe3 : CMP EDX,dword ptr [ECX]
004c4fe5 : JNC 0x004c4fee
004c4fe7 : MOV EAX,dword ptr [EBP + -0x4]
004c4fea : PUSH ECX
004c4feb : PUSH EAX
004c4fec : JMP 0x004c4fb4
004c4fee : POP EDI
004c4fef : MOV dword ptr [EBX],EAX
004c4ff1 : POP ESI
004c4ff2 : MOV byte ptr [EBX + 0x4],0x0
004c4ff6 : MOV EAX,EBX
004c4ff8 : POP EBX
004c4ff9 : MOV ESP,EBP
004c4ffb : POP EBP
004c4ffc : RET 0x8
