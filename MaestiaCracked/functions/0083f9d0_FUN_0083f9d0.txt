PROGRAM  : Maestia.exe
FUNCTION : FUN_0083f9d0
ENTRY    : 0083f9d0
BODY     : [[0083f9d0, 0083fb3d]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Type propagation algorithm not settling */

void FUN_0083f9d0(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  short *psVar5;
  int local_1c [2];
  int local_14;
  int local_10;
  undefined1 local_c [8];
  
  iVar2 = DAT_00da93ec;
  local_1c[0] = 0;
  local_1c[1] = 0;
  local_10 = 0;
  if ((((DAT_00da93ec != 0) && (*(char *)(param_1 + 0x1724) == '\0')) &&
      (iVar1 = FUN_00a1b390(DAT_00da93ec,*(undefined4 *)(param_1 + 0x16d0),local_1c), iVar1 != 0))
     && ((*(int *)(param_1 + 0x16d0) == *(int *)(*(int *)(iVar2 + 0xac) + 4) ||
         (*(char *)(param_1 + 0x3ac) != '\x01')))) {
    iVar2 = 0;
    if (0 < iVar1) {
      do {
        *(short *)(local_c + iVar2 * 2 + -4) = (short)local_1c[iVar2];
        iVar2 = iVar2 + 1;
      } while (iVar2 < iVar1);
    }
    if ((DAT_017247f4 != 0) &&
       (local_1c[1] = -(uint)(*(int *)(DAT_017247f4 + 0x28) != 0), local_1c[1] != 0)) {
LAB_0083fa80:
      local_14 = 0;
      FUN_00404160(local_1c + 1,local_c,&local_14);
      iVar2 = local_14;
      if (local_14 == 0) {
        return;
      }
      local_14 = local_10;
      iVar4 = 0;
      psVar5 = (short *)(iVar2 + 0xc0);
      do {
        if (*psVar5 != 0) {
          iVar3 = 0;
          if (iVar1 < 1) goto LAB_0083fadc;
          while (*psVar5 != *(short *)((int)&local_14 + iVar3 * 2)) {
            iVar3 = iVar3 + 1;
            if (iVar1 <= iVar3) goto LAB_0083fadc;
          }
          *(undefined2 *)((int)&local_14 + iVar3 * 2) = 0;
        }
        iVar4 = iVar4 + 1;
        psVar5 = psVar5 + 1;
        if (1 < iVar4) {
          *(undefined2 *)(param_1 + 0x1730) = *(undefined2 *)(iVar2 + 6);
          FUN_0086b430(param_1,*(undefined2 *)(iVar2 + 6));
          return;
        }
      } while( true );
    }
LAB_0083fb2c:
    *(undefined2 *)(param_1 + 0x1730) = 0;
  }
  return;
LAB_0083fadc:
  if (local_1c[1] == 0) goto LAB_0083fb2c;
  goto LAB_0083fa80;
}



============================================================
DISASSEMBLY
============================================================
0083f9d0 : PUSH EBP
0083f9d1 : MOV EBP,ESP
0083f9d3 : SUB ESP,0x20
0083f9d6 : PUSH EBX
0083f9d7 : MOV EBX,dword ptr [EBP + 0x8]
0083f9da : XOR ECX,ECX
0083f9dc : XOR EAX,EAX
0083f9de : PUSH ESI
0083f9df : MOV ESI,dword ptr [0x00da93ec]
0083f9e5 : MOV word ptr [EBP + -0xc],CX
0083f9e9 : MOVZX ECX,word ptr [EBX + 0x8]
0083f9ed : XOR EDX,EDX
0083f9ef : PUSH EDI
0083f9f0 : MOV dword ptr [EBP + -0x18],EAX
0083f9f3 : MOV dword ptr [EBP + -0x14],EAX
0083f9f6 : MOV word ptr [EBP + -0xa],DX
0083f9fa : MOV dword ptr [EBP + -0x1c],EAX
0083f9fd : MOV dword ptr [EBP + -0x20],ECX
0083fa00 : CMP ESI,EAX
0083fa02 : JZ 0x0083fb35
0083fa08 : CMP byte ptr [EBX + 0x1724],AL
0083fa0e : JNZ 0x0083fb35
0083fa14 : MOV EAX,dword ptr [EBX + 0x16d0]
0083fa1a : LEA EDX,[EBP + -0x18]
0083fa1d : PUSH EDX
0083fa1e : PUSH EAX
0083fa1f : PUSH ESI
0083fa20 : CALL 0x00a1b390
0083fa25 : MOV EDI,EAX
0083fa27 : TEST EDI,EDI
0083fa29 : JZ 0x0083fb35
0083fa2f : MOV ECX,dword ptr [ESI + 0xac]
0083fa35 : MOV EDX,dword ptr [EBX + 0x16d0]
0083fa3b : CMP EDX,dword ptr [ECX + 0x4]
0083fa3e : JZ 0x0083fa4d
0083fa40 : CMP byte ptr [EBX + 0x3ac],0x1
0083fa47 : JZ 0x0083fb35
0083fa4d : XOR EAX,EAX
0083fa4f : TEST EDI,EDI
0083fa51 : JLE 0x0083fa62
0083fa53 : MOV CX,word ptr [EBP + EAX*0x4 + -0x18]
0083fa58 : MOV word ptr [EBP + EAX*0x2 + -0xc],CX
0083fa5d : INC EAX
0083fa5e : CMP EAX,EDI
0083fa60 : JL 0x0083fa53
0083fa62 : MOV ECX,dword ptr [0x017247f4]
0083fa68 : TEST ECX,ECX
0083fa6a : JZ 0x0083fb2c
0083fa70 : MOV EAX,dword ptr [ECX + 0x28]
0083fa73 : NEG EAX
0083fa75 : SBB EAX,EAX
0083fa77 : MOV dword ptr [EBP + -0x14],EAX
0083fa7a : JZ 0x0083fb2c
0083fa80 : LEA EDX,[EBP + -0x10]
0083fa83 : PUSH EDX
0083fa84 : LEA EAX,[EBP + -0x8]
0083fa87 : PUSH EAX
0083fa88 : LEA EDX,[EBP + -0x14]
0083fa8b : PUSH EDX
0083fa8c : MOV EAX,ECX
0083fa8e : MOV dword ptr [EBP + -0x10],0x0
0083fa95 : CALL 0x00404160
0083fa9a : MOV EBX,dword ptr [EBP + -0x10]
0083fa9d : TEST EBX,EBX
0083fa9f : JZ 0x0083fb35
0083faa5 : MOV EAX,dword ptr [EBP + -0xc]
0083faa8 : MOV dword ptr [EBP + -0x10],EAX
0083faab : XOR EDX,EDX
0083faad : LEA ESI,[EBX + 0xc0]
0083fab3 : MOVZX ECX,word ptr [ESI]
0083fab6 : TEST CX,CX
0083fab9 : JZ 0x0083faf1
0083fabb : CMP CX,word ptr [EBP + -0x20]
0083fabf : JNZ 0x0083fac4
0083fac1 : MOV dword ptr [EBP + -0x1c],EDX
0083fac4 : XOR EAX,EAX
0083fac6 : TEST EDI,EDI
0083fac8 : JLE 0x0083fadc
0083faca : LEA EBX,[EBX]
0083fad0 : CMP CX,word ptr [EBP + EAX*0x2 + -0x10]
0083fad5 : JZ 0x0083faea
0083fad7 : INC EAX
0083fad8 : CMP EAX,EDI
0083fada : JL 0x0083fad0
0083fadc : CMP dword ptr [EBP + -0x14],0x0
0083fae0 : JZ 0x0083fb29
0083fae2 : MOV ECX,dword ptr [0x017247f4]
0083fae8 : JMP 0x0083fa80
0083faea : XOR ECX,ECX
0083faec : MOV word ptr [EBP + EAX*0x2 + -0x10],CX
0083faf1 : INC EDX
0083faf2 : ADD ESI,0x2
0083faf5 : CMP EDX,0x2
0083faf8 : JL 0x0083fab3
0083fafa : MOV AX,word ptr [EBX + 0x6]
0083fafe : MOV EDX,dword ptr [EBP + 0x8]
0083fb01 : MOV word ptr [EDX + 0x1730],AX
0083fb08 : MOVZX ECX,word ptr [EBX + 0x6]
0083fb0c : MOV EAX,dword ptr [EBP + -0x1c]
0083fb0f : PUSH ECX
0083fb10 : LEA EAX,[EAX + EAX*0x4]
0083fb13 : LEA ECX,[EBX + EAX*0x8 + 0xce]
0083fb1a : PUSH EDX
0083fb1b : CALL 0x0086b430
0083fb20 : POP EDI
0083fb21 : POP ESI
0083fb22 : POP EBX
0083fb23 : MOV ESP,EBP
0083fb25 : POP EBP
0083fb26 : RET 0x4
0083fb29 : MOV EBX,dword ptr [EBP + 0x8]
0083fb2c : XOR ECX,ECX
0083fb2e : MOV word ptr [EBX + 0x1730],CX
0083fb35 : POP EDI
0083fb36 : POP ESI
0083fb37 : POP EBX
0083fb38 : MOV ESP,EBP
0083fb3a : POP EBP
0083fb3b : RET 0x4
