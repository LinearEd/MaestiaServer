PROGRAM  : Maestia.exe
FUNCTION : FUN_005f23a0
ENTRY    : 005f23a0
BODY     : [[005f23a0, 005f2992]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005f23a0(int *param_1,float param_2,int *param_3,int *param_4)

{
  int iVar1;
  int iVar2;
  float *pfVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  int iVar10;
  float *pfVar11;
  undefined1 *puVar12;
  int iVar13;
  int iVar14;
  byte bVar15;
  undefined1 *puVar16;
  int iVar17;
  float10 fVar18;
  undefined1 local_8;
  
  if (param_2 < 0.62) {
    param_2 = 0.62;
  }
  iVar1 = param_1[4];
  iVar2 = param_1[3];
  FUN_00638370((double)param_2);
  iVar10 = FUN_0063b380();
  iVar10 = iVar10 + iVar1;
  if (2 < iVar10) {
    if (2.5 <= param_2 * 0.5) {
      fVar5 = param_2 * 0.5 * 0.98711 - 0.9633;
    }
    else {
      fVar18 = (float10)FUN_0063bdc0();
      fVar5 = 3.97156 - (float)fVar18 * 4.14554;
    }
    fVar9 = fVar5 * fVar5;
    fVar7 = fVar9 * fVar5 * 0.422205;
    fVar4 = 1.0 / (fVar5 * 2.44413 + 1.57825 + fVar9 * 1.4281 + fVar7);
    fVar6 = fVar9 * fVar5 * 1.26661;
    fVar8 = fVar9 * 2.85619 + fVar5 * 2.44413 + fVar6;
    fVar6 = fVar9 * -1.4281 - fVar6;
    fVar5 = 1.0 - fVar4 * (fVar7 + fVar8 + fVar6);
    fVar8 = fVar8 * fVar4;
    fVar6 = fVar4 * fVar6;
    fVar7 = fVar7 * fVar4;
    FUN_005f17e0(iVar10 * 2,0);
    param_3[1] = iVar10 * 2;
    FUN_005f1ba0(iVar10,0);
    param_4[1] = iVar10;
    pfVar3 = (float *)*param_3;
    iVar17 = 0;
    if (0 < iVar2) {
      do {
        fVar4 = (float)*(byte *)(*(int *)(*param_1 + 0x14) * param_1[2] + *(int *)(*param_1 + 0x18)
                                 + param_1[1] + iVar17);
        fVar9 = fVar6 * fVar4 + fVar8 * fVar4 + fVar5 * fVar4 + fVar7 * fVar4;
        *pfVar3 = fVar9;
        fVar4 = (float)*(byte *)((param_1[2] + 1) * *(int *)(*param_1 + 0x14) +
                                 *(int *)(*param_1 + 0x18) + param_1[1] + iVar17) * fVar5 +
                fVar8 * fVar9 + fVar9 * fVar6 + fVar9 * fVar7;
        pfVar3[1] = fVar4;
        iVar13 = 3;
        pfVar3[2] = (float)*(byte *)((param_1[2] + 2) * *(int *)(*param_1 + 0x14) +
                                     *(int *)(*param_1 + 0x18) + param_1[1] + iVar17) * fVar5 +
                    fVar8 * fVar4 + fVar9 * fVar6 + fVar9 * fVar7;
        if (3 < iVar10) {
          pfVar11 = pfVar3 + 2;
          if (3 < iVar10 + -3) {
            do {
              if (iVar13 < iVar1) {
                bVar15 = *(byte *)((param_1[2] + iVar13) * *(int *)(*param_1 + 0x14) +
                                   *(int *)(*param_1 + 0x18) + param_1[1] + iVar17);
              }
              else {
                bVar15 = 0;
              }
              pfVar11[1] = pfVar11[-2] * fVar7 +
                           pfVar11[-1] * fVar6 + (float)bVar15 * fVar5 + *pfVar11 * fVar8;
              if (iVar13 + 1 < iVar1) {
                bVar15 = *(byte *)((param_1[2] + 1 + iVar13) * *(int *)(*param_1 + 0x14) +
                                   *(int *)(*param_1 + 0x18) + param_1[1] + iVar17);
              }
              else {
                bVar15 = 0;
              }
              pfVar11[2] = pfVar11[-1] * fVar7 +
                           *pfVar11 * fVar6 + (float)bVar15 * fVar5 + pfVar11[1] * fVar8;
              if (iVar13 + 2 < iVar1) {
                bVar15 = *(byte *)((param_1[2] + 2 + iVar13) * *(int *)(*param_1 + 0x14) +
                                   *(int *)(*param_1 + 0x18) + param_1[1] + iVar17);
              }
              else {
                bVar15 = 0;
              }
              pfVar11[3] = *pfVar11 * fVar7 +
                           pfVar11[1] * fVar6 + (float)bVar15 * fVar5 + pfVar11[2] * fVar8;
              if (iVar13 + 3 < iVar1) {
                bVar15 = *(byte *)((param_1[2] + 3 + iVar13) * *(int *)(*param_1 + 0x14) +
                                   *(int *)(*param_1 + 0x18) + param_1[1] + iVar17);
              }
              else {
                bVar15 = 0;
              }
              iVar13 = iVar13 + 4;
              pfVar11[4] = pfVar11[1] * fVar7 +
                           pfVar11[2] * fVar6 + (float)bVar15 * fVar5 + pfVar11[3] * fVar8;
              pfVar11 = pfVar11 + 4;
            } while (iVar13 < iVar10 + -3);
          }
          if (iVar13 < iVar10) {
            pfVar11 = pfVar3 + iVar13 + -2;
            do {
              if (iVar13 < iVar1) {
                bVar15 = *(byte *)((param_1[2] + iVar13) * *(int *)(*param_1 + 0x14) +
                                   *(int *)(*param_1 + 0x18) + param_1[1] + iVar17);
              }
              else {
                bVar15 = 0;
              }
              iVar13 = iVar13 + 1;
              pfVar11[2] = pfVar11[-1] * fVar7 +
                           *pfVar11 * fVar6 + (float)bVar15 * fVar5 + pfVar11[1] * fVar8;
              pfVar11 = pfVar11 + 1;
            } while (iVar13 < iVar10);
          }
        }
        fVar4 = pfVar3[iVar10 + -1] * fVar7 +
                pfVar3[iVar10 + -1] * fVar6 +
                pfVar3[iVar10 + -1] * fVar8 + pfVar3[iVar10 + -1] * fVar5;
        pfVar3[iVar10 * 2 + -1] = fVar4;
        fVar4 = fVar4 * fVar6 + fVar5 * pfVar3[iVar10 + -2] + fVar4 * fVar8 + fVar7 * fVar4;
        pfVar3[iVar10 * 2 + -2] = fVar4;
        pfVar3[iVar10 + iVar10 + -3] =
             fVar7 * pfVar3[iVar10 * 2 + -1] +
             fVar6 * pfVar3[iVar10 * 2 + -1] + pfVar3[iVar10 + -3] * fVar5 + fVar4 * fVar8;
        local_8 = (undefined1)(int)ROUND(pfVar3[iVar10 * 2 + -1] + 0.5);
        *(undefined1 *)(*param_4 + -1 + iVar10) = local_8;
        local_8 = (undefined1)(int)ROUND(pfVar3[iVar10 * 2 + -2] + 0.5);
        *(undefined1 *)(*param_4 + -2 + iVar10) = local_8;
        local_8 = (undefined1)(int)ROUND(pfVar3[iVar10 * 2 + -3] + 0.5);
        *(undefined1 *)(*param_4 + -3 + iVar10) = local_8;
        if (-1 < iVar10 + -4) {
          iVar13 = iVar10 + -4;
          pfVar11 = pfVar3 + iVar10 * 2 + -2;
          do {
            iVar14 = iVar13 + -1;
            fVar4 = pfVar11[1] * fVar7 +
                    *pfVar11 * fVar6 + pfVar11[-1] * fVar8 + pfVar3[iVar13] * fVar5;
            pfVar11[-2] = fVar4;
            local_8 = (undefined1)(int)ROUND(fVar4 + 0.5);
            *(undefined1 *)(iVar13 + *param_4) = local_8;
            iVar13 = iVar14;
            pfVar11 = pfVar11 + -1;
          } while (-1 < iVar14);
        }
        puVar16 = (undefined1 *)*param_4;
        puVar12 = (undefined1 *)
                  (*(int *)(*param_1 + 0x14) * param_1[2] + *(int *)(*param_1 + 0x18) + param_1[1] +
                  iVar17);
        param_2 = (float)iVar1;
        do {
          *puVar12 = *puVar16;
          puVar12 = puVar12 + *(int *)(*param_1 + 0x14);
          puVar16 = puVar16 + 1;
          param_2 = (float)((int)param_2 + -1);
        } while (param_2 != 0.0);
        iVar17 = iVar17 + 1;
      } while (iVar17 < iVar2);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005f23a0 : FLD float ptr [0x00b94fb0]
005f23a6 : SUB ESP,0x18
005f23a9 : FCOM float ptr [ESP + 0x20]
005f23ad : FNSTSW AX
005f23af : TEST AH,0x41
005f23b2 : JNZ 0x005f23ba
005f23b4 : FSTP float ptr [ESP + 0x20]
005f23b8 : JMP 0x005f23bc
005f23ba : FSTP ST0
005f23bc : FLD float ptr [ESP + 0x20]
005f23c0 : PUSH EBX
005f23c1 : PUSH ESI
005f23c2 : MOV ESI,dword ptr [ESP + 0x24]
005f23c6 : MOV EBX,dword ptr [ESI + 0x10]
005f23c9 : MOV EAX,dword ptr [ESI + 0xc]
005f23cc : PUSH EDI
005f23cd : SUB ESP,0x8
005f23d0 : FSTP double ptr [ESP]
005f23d3 : MOV dword ptr [ESP + 0x30],EBX
005f23d7 : MOV dword ptr [ESP + 0x20],EAX
005f23db : CALL 0x00638370
005f23e0 : FSTP float ptr [ESP + 0x1c]
005f23e4 : FLD float ptr [ESP + 0x1c]
005f23e8 : ADD ESP,0x8
005f23eb : CALL 0x0063b380
005f23f0 : MOV EDI,EAX
005f23f2 : ADD EDI,EBX
005f23f4 : CMP EDI,0x3
005f23f7 : JL 0x005f298c
005f23fd : FLD float ptr [ESP + 0x2c]
005f2401 : FMUL double ptr [0x00cdf120]
005f2407 : FSTP float ptr [ESP + 0x2c]
005f240b : FLD float ptr [0x00cdf218]
005f2411 : FLD float ptr [ESP + 0x2c]
005f2415 : FCOM
005f2417 : FNSTSW AX
005f2419 : FSTP ST1
005f241b : FLD1
005f241d : FXCH
005f241f : TEST AH,0x5
005f2422 : JP 0x005f2451
005f2424 : FMUL double ptr [0x00b94fa8]
005f242a : FSUBP
005f242c : FSTP float ptr [ESP + 0x2c]
005f2430 : FLD float ptr [ESP + 0x2c]
005f2434 : CALL 0x0063bdc0
005f2439 : FSTP float ptr [ESP + 0x2c]
005f243d : FLD float ptr [ESP + 0x2c]
005f2441 : FMUL double ptr [0x00b94fa0]
005f2447 : FSUBR double ptr [0x00b94f98]
005f244d : FLD1
005f244f : JMP 0x005f245f
005f2451 : FMUL double ptr [0x00b94f90]
005f2457 : FSUB double ptr [0x00b94f88]
005f245d : FXCH
005f245f : FXCH
005f2461 : PUSH EBP
005f2462 : FSTP float ptr [ESP + 0x30]
005f2466 : MOV EBP,dword ptr [ESP + 0x34]
005f246a : FLD float ptr [ESP + 0x30]
005f246e : PUSH 0x0
005f2470 : FLD ST0
005f2472 : LEA EBX,[EDI + EDI*0x1]
005f2475 : FMUL ST0
005f2477 : PUSH EBX
005f2478 : MOV ECX,EBP
005f247a : FSTP float ptr [ESP + 0x38]
005f247e : FLD float ptr [ESP + 0x38]
005f2482 : FLD ST0
005f2484 : FMUL ST2
005f2486 : FSTP float ptr [ESP + 0x38]
005f248a : FXCH
005f248c : FMUL double ptr [0x00b94f80]
005f2492 : FLD float ptr [ESP + 0x38]
005f2496 : FLD double ptr [0x00b94f78]
005f249c : FMUL ST1
005f249e : FLD ST3
005f24a0 : FMUL double ptr [0x00b94f70]
005f24a6 : FLD ST3
005f24a8 : FADD double ptr [0x00b94f68]
005f24ae : FADDP
005f24b0 : FADD ST0,ST1
005f24b2 : FDIVR ST0,ST5
005f24b4 : FSTP float ptr [ESP + 0x20]
005f24b8 : FXCH
005f24ba : FMUL double ptr [0x00b94f60]
005f24c0 : FLD ST3
005f24c2 : FMUL double ptr [0x00b94f58]
005f24c8 : FADDP ST3,ST0
005f24ca : FADD ST2,ST0
005f24cc : FXCH ST2
005f24ce : FSTP float ptr [ESP + 0x38]
005f24d2 : FXCH ST2
005f24d4 : FMUL double ptr [0x00b94f50]
005f24da : FSUBRP
005f24dc : FSTP float ptr [ESP + 0x18]
005f24e0 : FSTP float ptr [ESP + 0x1c]
005f24e4 : FLD float ptr [ESP + 0x18]
005f24e8 : FLD ST0
005f24ea : FLD float ptr [ESP + 0x38]
005f24ee : FLD ST0
005f24f0 : FADDP ST2,ST0
005f24f2 : FLD float ptr [ESP + 0x1c]
005f24f6 : FLD ST0
005f24f8 : FADDP ST3,ST0
005f24fa : FLD float ptr [ESP + 0x20]
005f24fe : FLD ST0
005f2500 : FMULP ST4
005f2502 : FXCH ST5
005f2504 : FSUBRP ST3,ST0
005f2506 : FXCH ST2
005f2508 : FSTP float ptr [ESP + 0x28]
005f250c : FMUL ST3
005f250e : FSTP float ptr [ESP + 0x38]
005f2512 : FLD ST2
005f2514 : FMULP ST2
005f2516 : FXCH
005f2518 : FSTP float ptr [ESP + 0x18]
005f251c : FMULP
005f251e : FSTP float ptr [ESP + 0x1c]
005f2522 : CALL 0x005f17e0
005f2527 : MOV dword ptr [EBP + 0x4],EBX
005f252a : MOV EBX,dword ptr [ESP + 0x38]
005f252e : PUSH 0x0
005f2530 : PUSH EDI
005f2531 : MOV ECX,EBX
005f2533 : CALL 0x005f1ba0
005f2538 : MOV dword ptr [EBX + 0x4],EDI
005f253b : MOV EBX,dword ptr [EBP]
005f253e : XOR EBP,EBP
005f2540 : CMP dword ptr [ESP + 0x1c],EBP
005f2544 : MOV dword ptr [ESP + 0x18],EBX
005f2548 : JLE 0x005f298b
005f254e : FLD float ptr [ESP + 0x30]
005f2552 : FLD float ptr [ESP + 0x10]
005f2556 : FLD float ptr [ESP + 0x14]
005f255a : FLD float ptr [ESP + 0x20]
005f255e : MOV EAX,dword ptr [ESI]
005f2560 : MOV ECX,dword ptr [EAX + 0x14]
005f2563 : IMUL ECX,dword ptr [ESI + 0x8]
005f2567 : ADD ECX,dword ptr [EAX + 0x18]
005f256a : ADD EAX,0x8
005f256d : ADD ECX,dword ptr [ESI + 0x4]
005f2570 : MOVZX EDX,byte ptr [ECX + EBP*0x1]
005f2574 : MOV dword ptr [ESP + 0x30],EDX
005f2578 : FILD dword ptr [ESP + 0x30]
005f257c : FLD ST1
005f257e : FMUL ST1
005f2580 : FLD ST5
005f2582 : FMUL ST2
005f2584 : FADDP
005f2586 : FLD ST4
005f2588 : FMUL ST2
005f258a : FADDP
005f258c : FLD ST3
005f258e : FMULP ST2
005f2590 : FADDP
005f2592 : FSTP float ptr [ESP + 0x30]
005f2596 : FLD float ptr [ESP + 0x30]
005f259a : FST float ptr [EBX]
005f259c : MOV EAX,dword ptr [ESI]
005f259e : MOV ECX,dword ptr [ESI + 0x8]
005f25a1 : FLD ST0
005f25a3 : INC ECX
005f25a4 : FMUL ST4
005f25a6 : IMUL ECX,dword ptr [EAX + 0x14]
005f25aa : FLD ST1
005f25ac : FMUL ST4
005f25ae : FSTP double ptr [ESP + 0x20]
005f25b2 : ADD ECX,dword ptr [EAX + 0x18]
005f25b5 : ADD EAX,0x8
005f25b8 : ADD ECX,dword ptr [ESI + 0x4]
005f25bb : MOVZX EDX,byte ptr [ECX + EBP*0x1]
005f25bf : MOV dword ptr [ESP + 0x30],EDX
005f25c3 : FILD dword ptr [ESP + 0x30]
005f25c7 : FMUL ST3
005f25c9 : FLD ST6
005f25cb : FMULP ST3
005f25cd : FADDP ST2,ST0
005f25cf : FADD ST1,ST0
005f25d1 : FXCH
005f25d3 : FADD double ptr [ESP + 0x20]
005f25d7 : FSTP float ptr [ESP + 0x30]
005f25db : FLD float ptr [ESP + 0x30]
005f25df : FST float ptr [EBX + 0x4]
005f25e2 : MOV EAX,dword ptr [ESI]
005f25e4 : MOV ECX,dword ptr [ESI + 0x8]
005f25e7 : ADD ECX,0x2
005f25ea : IMUL ECX,dword ptr [EAX + 0x14]
005f25ee : ADD ECX,dword ptr [EAX + 0x18]
005f25f1 : ADD EAX,0x8
005f25f4 : ADD ECX,dword ptr [ESI + 0x4]
005f25f7 : LEA EAX,[EBX + 0x8]
005f25fa : MOVZX EDX,byte ptr [ECX + EBP*0x1]
005f25fe : MOV dword ptr [ESP + 0x30],EDX
005f2602 : MOV ECX,0x3
005f2607 : CMP EDI,ECX
005f2609 : FILD dword ptr [ESP + 0x30]
005f260d : FMUL ST3
005f260f : FLD ST6
005f2611 : FMULP ST2
005f2613 : FADDP
005f2615 : FADDP
005f2617 : FADD double ptr [ESP + 0x20]
005f261b : FSTP float ptr [EAX]
005f261d : JLE 0x005f27c9
005f2623 : LEA EDX,[EDI + -0x3]
005f2626 : CMP EDX,0x4
005f2629 : JL 0x005f2767
005f262f : CMP ECX,dword ptr [ESP + 0x2c]
005f2633 : JGE 0x005f264e
005f2635 : MOV EDX,dword ptr [ESI]
005f2637 : MOV EBX,dword ptr [ESI + 0x8]
005f263a : ADD EDX,0x8
005f263d : ADD EBX,ECX
005f263f : IMUL EBX,dword ptr [EDX + 0xc]
005f2643 : ADD EBX,dword ptr [EDX + 0x10]
005f2646 : ADD EBX,dword ptr [ESI + 0x4]
005f2649 : MOV DL,byte ptr [EBX + EBP*0x1]
005f264c : JMP 0x005f2650
005f264e : XOR DL,DL
005f2650 : FLD float ptr [EAX]
005f2652 : MOVZX EDX,DL
005f2655 : FMUL ST4
005f2657 : MOV dword ptr [ESP + 0x30],EDX
005f265b : LEA EDX,[ECX + 0x1]
005f265e : CMP EDX,dword ptr [ESP + 0x2c]
005f2662 : FILD dword ptr [ESP + 0x30]
005f2666 : FMUL ST2
005f2668 : FADDP
005f266a : FLD float ptr [EAX + -0x4]
005f266d : FMUL ST4
005f266f : FADDP
005f2671 : FLD float ptr [EAX + -0x8]
005f2674 : FMUL ST3
005f2676 : FADDP
005f2678 : FSTP float ptr [EAX + 0x4]
005f267b : JGE 0x005f2698
005f267d : MOV EDX,dword ptr [ESI]
005f267f : MOV EBX,dword ptr [ESI + 0x8]
005f2682 : ADD EDX,0x8
005f2685 : LEA EBX,[EBX + ECX*0x1 + 0x1]
005f2689 : IMUL EBX,dword ptr [EDX + 0xc]
005f268d : ADD EBX,dword ptr [EDX + 0x10]
005f2690 : ADD EBX,dword ptr [ESI + 0x4]
005f2693 : MOV DL,byte ptr [EBX + EBP*0x1]
005f2696 : JMP 0x005f269a
005f2698 : XOR DL,DL
005f269a : FLD float ptr [EAX + 0x4]
005f269d : MOVZX EDX,DL
005f26a0 : FMUL ST4
005f26a2 : MOV dword ptr [ESP + 0x30],EDX
005f26a6 : LEA EDX,[ECX + 0x2]
005f26a9 : CMP EDX,dword ptr [ESP + 0x2c]
005f26ad : FILD dword ptr [ESP + 0x30]
005f26b1 : FMUL ST2
005f26b3 : FADDP
005f26b5 : FLD float ptr [EAX]
005f26b7 : FMUL ST4
005f26b9 : FADDP
005f26bb : FLD float ptr [EAX + -0x4]
005f26be : FMUL ST3
005f26c0 : FADDP
005f26c2 : FSTP float ptr [EAX + 0x8]
005f26c5 : JGE 0x005f26e2
005f26c7 : MOV EDX,dword ptr [ESI]
005f26c9 : MOV EBX,dword ptr [ESI + 0x8]
005f26cc : ADD EDX,0x8
005f26cf : LEA EBX,[EBX + ECX*0x1 + 0x2]
005f26d3 : IMUL EBX,dword ptr [EDX + 0xc]
005f26d7 : ADD EBX,dword ptr [EDX + 0x10]
005f26da : ADD EBX,dword ptr [ESI + 0x4]
005f26dd : MOV DL,byte ptr [EBX + EBP*0x1]
005f26e0 : JMP 0x005f26e4
005f26e2 : XOR DL,DL
005f26e4 : FLD float ptr [EAX + 0x8]
005f26e7 : MOVZX EDX,DL
005f26ea : FMUL ST4
005f26ec : MOV dword ptr [ESP + 0x30],EDX
005f26f0 : LEA EDX,[ECX + 0x3]
005f26f3 : CMP EDX,dword ptr [ESP + 0x2c]
005f26f7 : FILD dword ptr [ESP + 0x30]
005f26fb : FMUL ST2
005f26fd : FADDP
005f26ff : FLD float ptr [EAX + 0x4]
005f2702 : FMUL ST4
005f2704 : FADDP
005f2706 : FLD float ptr [EAX]
005f2708 : FMUL ST3
005f270a : FADDP
005f270c : FSTP float ptr [EAX + 0xc]
005f270f : JGE 0x005f272c
005f2711 : MOV EDX,dword ptr [ESI]
005f2713 : MOV EBX,dword ptr [ESI + 0x8]
005f2716 : ADD EDX,0x8
005f2719 : LEA EBX,[EBX + ECX*0x1 + 0x3]
005f271d : IMUL EBX,dword ptr [EDX + 0xc]
005f2721 : ADD EBX,dword ptr [EDX + 0x10]
005f2724 : ADD EBX,dword ptr [ESI + 0x4]
005f2727 : MOV DL,byte ptr [EBX + EBP*0x1]
005f272a : JMP 0x005f272e
005f272c : XOR DL,DL
005f272e : FLD float ptr [EAX + 0xc]
005f2731 : MOVZX EDX,DL
005f2734 : FMUL ST4
005f2736 : MOV dword ptr [ESP + 0x30],EDX
005f273a : ADD ECX,0x4
005f273d : LEA EDX,[EDI + -0x3]
005f2740 : FILD dword ptr [ESP + 0x30]
005f2744 : ADD EAX,0x10
005f2747 : CMP ECX,EDX
005f2749 : FMUL ST2
005f274b : FADDP
005f274d : FLD float ptr [EAX + -0x8]
005f2750 : FMUL ST4
005f2752 : FADDP
005f2754 : FLD float ptr [EAX + -0xc]
005f2757 : FMUL ST3
005f2759 : FADDP
005f275b : FSTP float ptr [EAX]
005f275d : JL 0x005f262f
005f2763 : MOV EBX,dword ptr [ESP + 0x18]
005f2767 : CMP ECX,EDI
005f2769 : JGE 0x005f27c9
005f276b : LEA EAX,[EBX + ECX*0x4 + -0x8]
005f276f : MOV dword ptr [ESP + 0x30],EAX
005f2773 : CMP ECX,dword ptr [ESP + 0x2c]
005f2777 : JGE 0x005f2796
005f2779 : MOV EAX,dword ptr [ESI]
005f277b : MOV EDX,dword ptr [ESI + 0x8]
005f277e : ADD EAX,0x8
005f2781 : ADD EDX,ECX
005f2783 : IMUL EDX,dword ptr [EAX + 0xc]
005f2787 : ADD EDX,dword ptr [EAX + 0x10]
005f278a : MOV EAX,dword ptr [ESP + 0x30]
005f278e : ADD EDX,dword ptr [ESI + 0x4]
005f2791 : MOV DL,byte ptr [EDX + EBP*0x1]
005f2794 : JMP 0x005f2798
005f2796 : XOR DL,DL
005f2798 : FLD float ptr [EAX + 0x4]
005f279b : MOVZX EDX,DL
005f279e : FMUL ST4
005f27a0 : MOV dword ptr [ESP + 0x30],EDX
005f27a4 : INC ECX
005f27a5 : ADD EAX,0x4
005f27a8 : CMP ECX,EDI
005f27aa : FILD dword ptr [ESP + 0x30]
005f27ae : MOV dword ptr [ESP + 0x30],EAX
005f27b2 : FMUL ST2
005f27b4 : FADDP
005f27b6 : FLD float ptr [EAX + -0x4]
005f27b9 : FMUL ST4
005f27bb : FADDP
005f27bd : FLD float ptr [EAX + -0x8]
005f27c0 : FMUL ST3
005f27c2 : FADDP
005f27c4 : FSTP float ptr [EAX + 0x4]
005f27c7 : JL 0x005f2773
005f27c9 : FLD float ptr [EBX + EDI*0x4 + -0x4]
005f27cd : LEA EDX,[EBX + EDI*0x4]
005f27d0 : FMUL ST1
005f27d2 : LEA EAX,[EDI + -0x3]
005f27d5 : FLD float ptr [EDX + -0x4]
005f27d8 : MOV ECX,dword ptr [ESP + 0x38]
005f27dc : FMUL ST5
005f27de : FADDP
005f27e0 : FLD float ptr [EDX + -0x4]
005f27e3 : FMUL ST4
005f27e5 : FADDP
005f27e7 : FLD float ptr [EDX + -0x4]
005f27ea : FMUL ST3
005f27ec : FADDP
005f27ee : FSTP float ptr [ESP + 0x30]
005f27f2 : FLD float ptr [ESP + 0x30]
005f27f6 : FST float ptr [EDX + EDI*0x4 + -0x4]
005f27fa : FLD ST0
005f27fc : FMUL ST5
005f27fe : FLD ST2
005f2800 : FMUL float ptr [EBX + EDI*0x4 + -0x8]
005f2804 : FADDP
005f2806 : FLD ST1
005f2808 : FMUL ST5
005f280a : FADDP
005f280c : FLD ST3
005f280e : FMULP ST2
005f2810 : FADDP
005f2812 : FSTP float ptr [ESP + 0x30]
005f2816 : FLD float ptr [ESP + 0x30]
005f281a : FST float ptr [EDX + EDI*0x4 + -0x8]
005f281e : FMUL ST4
005f2820 : FLD float ptr [EBX + EAX*0x4]
005f2823 : FMUL ST2
005f2825 : FNSTCW word ptr [ESP + 0x30]
005f2829 : FADDP
005f282b : FLD ST3
005f282d : FMUL float ptr [EDX + EDI*0x4 + -0x4]
005f2831 : FADDP
005f2833 : FLD ST2
005f2835 : FMUL float ptr [EDX + EDI*0x4 + -0x4]
005f2839 : FADDP
005f283b : FSTP float ptr [EDX + EAX*0x4]
005f283e : MOVZX EAX,word ptr [ESP + 0x30]
005f2843 : FLD float ptr [EDX + EDI*0x4 + -0x4]
005f2847 : MOV ECX,dword ptr [ECX]
005f2849 : FLD double ptr [0x00cdf120]
005f284f : OR EAX,0xc00
005f2854 : MOV dword ptr [ESP + 0x20],EAX
005f2858 : FADD ST1,ST0
005f285a : FXCH
005f285c : FLDCW word ptr [ESP + 0x20]
005f2860 : FISTP dword ptr [ESP + 0x20]
005f2864 : MOVZX EAX,byte ptr [ESP + 0x20]
005f2869 : MOV byte ptr [ECX + EDI*0x1 + -0x1],AL
005f286d : MOV ECX,dword ptr [ESP + 0x38]
005f2871 : FLDCW word ptr [ESP + 0x30]
005f2875 : MOV ECX,dword ptr [ECX]
005f2877 : FLD float ptr [EDX + EDI*0x4 + -0x8]
005f287b : FNSTCW word ptr [ESP + 0x30]
005f287f : FADD ST0,ST1
005f2881 : MOVZX EAX,word ptr [ESP + 0x30]
005f2886 : OR EAX,0xc00
005f288b : MOV dword ptr [ESP + 0x20],EAX
005f288f : FLDCW word ptr [ESP + 0x20]
005f2893 : FISTP dword ptr [ESP + 0x20]
005f2897 : MOVZX EAX,byte ptr [ESP + 0x20]
005f289c : MOV byte ptr [ECX + EDI*0x1 + -0x2],AL
005f28a0 : MOV ECX,dword ptr [ESP + 0x38]
005f28a4 : FLDCW word ptr [ESP + 0x30]
005f28a8 : LEA EAX,[EDI + -0x3]
005f28ab : FLD float ptr [EDX + EAX*0x4]
005f28ae : FNSTCW word ptr [ESP + 0x30]
005f28b2 : FADD ST0,ST1
005f28b4 : MOVZX EAX,word ptr [ESP + 0x30]
005f28b9 : OR EAX,0xc00
005f28be : MOV dword ptr [ESP + 0x20],EAX
005f28c2 : FLDCW word ptr [ESP + 0x20]
005f28c6 : FISTP dword ptr [ESP + 0x20]
005f28ca : MOVZX EAX,byte ptr [ESP + 0x20]
005f28cf : FLDCW word ptr [ESP + 0x30]
005f28d3 : MOV ECX,dword ptr [ECX]
005f28d5 : MOV byte ptr [ECX + EDI*0x1 + -0x3],AL
005f28d9 : LEA ECX,[EDI + -0x4]
005f28dc : TEST ECX,ECX
005f28de : JL 0x005f2943
005f28e0 : LEA EDX,[EDX + ECX*0x4 + 0x8]
005f28e4 : FLD float ptr [EBX + ECX*0x4]
005f28e7 : MOV EBX,dword ptr [ESP + 0x38]
005f28eb : FMUL ST2
005f28ed : DEC ECX
005f28ee : FLD float ptr [EDX + -0x4]
005f28f1 : SUB EDX,0x4
005f28f4 : FMUL ST6
005f28f6 : FADDP
005f28f8 : FLD float ptr [EDX + 0x4]
005f28fb : FMUL ST5
005f28fd : FADDP
005f28ff : FLD float ptr [EDX + 0x8]
005f2902 : FMUL ST4
005f2904 : FADDP
005f2906 : FSTP float ptr [ESP + 0x30]
005f290a : FLD float ptr [ESP + 0x30]
005f290e : FNSTCW word ptr [ESP + 0x30]
005f2912 : MOVZX EAX,word ptr [ESP + 0x30]
005f2917 : FST float ptr [EDX + -0x4]
005f291a : MOV EBX,dword ptr [EBX]
005f291c : FADD ST0,ST1
005f291e : OR EAX,0xc00
005f2923 : MOV dword ptr [ESP + 0x20],EAX
005f2927 : FLDCW word ptr [ESP + 0x20]
005f292b : FISTP dword ptr [ESP + 0x20]
005f292f : MOV AL,byte ptr [ESP + 0x20]
005f2933 : MOV byte ptr [ECX + EBX*0x1 + 0x1],AL
005f2937 : MOV EBX,dword ptr [ESP + 0x18]
005f293b : FLDCW word ptr [ESP + 0x30]
005f293f : TEST ECX,ECX
005f2941 : JGE 0x005f28e4
005f2943 : MOV ECX,dword ptr [ESP + 0x38]
005f2947 : FSTP ST0
005f2949 : MOV EDX,dword ptr [ECX]
005f294b : MOV EAX,dword ptr [ESP + 0x2c]
005f294f : MOV ECX,dword ptr [ESI]
005f2951 : MOV dword ptr [ESP + 0x30],EAX
005f2955 : MOV EAX,dword ptr [ECX + 0x14]
005f2958 : IMUL EAX,dword ptr [ESI + 0x8]
005f295c : ADD EAX,dword ptr [ECX + 0x18]
005f295f : ADD ECX,0x8
005f2962 : ADD EAX,dword ptr [ESI + 0x4]
005f2965 : ADD EAX,EBP
005f2967 : MOV CL,byte ptr [EDX]
005f2969 : MOV byte ptr [EAX],CL
005f296b : MOV ECX,dword ptr [ESI]
005f296d : ADD EAX,dword ptr [ECX + 0x14]
005f2970 : INC EDX
005f2971 : SUB dword ptr [ESP + 0x30],0x1
005f2976 : JNZ 0x005f2967
005f2978 : INC EBP
005f2979 : CMP EBP,dword ptr [ESP + 0x1c]
005f297d : JL 0x005f255e
005f2983 : FSTP ST3
005f2985 : FSTP ST2
005f2987 : FSTP ST0
005f2989 : FSTP ST0
005f298b : POP EBP
005f298c : POP EDI
005f298d : POP ESI
005f298e : POP EBX
005f298f : ADD ESP,0x18
005f2992 : RET
