PROGRAM  : Maestia.exe
FUNCTION : FUN_00662d40
ENTRY    : 00662d40
BODY     : [[00662d40, 00662d77]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00662d40(int param_1,int *param_2)

{
  LPCRITICAL_SECTION lpCriticalSection;
  
  if (param_1 == 0xc) {
    lpCriticalSection = (LPCRITICAL_SECTION)0x0;
  }
  else {
    lpCriticalSection = (LPCRITICAL_SECTION)(param_1 + 4);
  }
  EnterCriticalSection(lpCriticalSection);
  *param_2 = (*(int *)(param_1 + 0x2c) - *(int *)(param_1 + 0x30)) + *(int *)(param_1 + 0x20);
  LeaveCriticalSection(lpCriticalSection);
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00662d40 : PUSH ESI
00662d41 : MOV ESI,dword ptr [ESP + 0x8]
00662d45 : LEA EAX,[ESI + -0xc]
00662d48 : PUSH EDI
00662d49 : TEST EAX,EAX
00662d4b : JZ 0x00662d52
00662d4d : LEA EDI,[ESI + 0x4]
00662d50 : JMP 0x00662d54
00662d52 : XOR EDI,EDI
00662d54 : PUSH EDI
00662d55 : CALL dword ptr [0x00b85118]
00662d5b : MOV ECX,dword ptr [ESI + 0x2c]
00662d5e : SUB ECX,dword ptr [ESI + 0x30]
00662d61 : MOV EDX,dword ptr [ESP + 0x10]
00662d65 : ADD ECX,dword ptr [ESI + 0x20]
00662d68 : PUSH EDI
00662d69 : MOV dword ptr [EDX],ECX
00662d6b : CALL dword ptr [0x00b8511c]
00662d71 : POP EDI
00662d72 : XOR EAX,EAX
00662d74 : POP ESI
00662d75 : RET 0x8
