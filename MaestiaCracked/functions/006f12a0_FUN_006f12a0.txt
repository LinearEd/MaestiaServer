PROGRAM  : Maestia.exe
FUNCTION : FUN_006f12a0
ENTRY    : 006f12a0
BODY     : [[006f12a0, 006f1458]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006f12a0(int param_1,uint param_2,undefined4 param_3,int param_4)

{
  int in_ECX;
  bool bVar1;
  int local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b1738b;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  *(undefined4 *)(param_1 + 0x18) = 7;
  *(undefined4 *)(param_1 + 0x14) = 0;
  *(undefined2 *)(param_1 + 4) = 0;
  local_8 = 0;
  if (param_2 < 0xc) {
    FUN_00410490();
    if (local_18 == *(int *)(in_ECX + param_2 * 0xc + 200)) {
      bVar1 = false;
    }
    else {
      FUN_00405eb0();
      bVar1 = *(int *)(param_1 + 0x14) != 0;
    }
    if (param_4 != 0) {
      if (bVar1) {
        FUN_00405660(in_ECX + 8);
        local_8 = 0;
        FUN_006f0f10(2);
        FUN_00405660(in_ECX + 0x24);
        local_8 = 0;
        FUN_006f0f10(3);
        FUN_00405660(in_ECX + 0x78);
        local_8 = 0;
        FUN_006f0f10(4);
        FUN_00405660(in_ECX + 0x40);
        local_8 = 0;
        FUN_006f0f10(5);
        FUN_00405660(in_ECX + 0x5c);
        local_8 = 0;
        FUN_006f0f10(6);
        if (param_2 == 2) {
          FUN_006f0c70();
        }
      }
      else {
        FUN_00405c00();
      }
    }
  }
  else {
    FUN_00406360();
  }
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
006f12a0 : PUSH EBP
006f12a1 : MOV EBP,ESP
006f12a3 : PUSH -0x1
006f12a5 : PUSH 0xb1738b
006f12aa : MOV EAX,FS:[0x0]
006f12b0 : PUSH EAX
006f12b1 : SUB ESP,0x14
006f12b4 : PUSH EBX
006f12b5 : PUSH ESI
006f12b6 : PUSH EDI
006f12b7 : MOV EAX,[0x00d66fa0]
006f12bc : XOR EAX,EBP
006f12be : PUSH EAX
006f12bf : LEA EAX,[EBP + -0xc]
006f12c2 : MOV FS:[0x0],EAX
006f12c8 : XOR EBX,EBX
006f12ca : MOV dword ptr [EBP + -0x4],EBX
006f12cd : MOV EDI,dword ptr [EBP + 0x8]
006f12d0 : MOV dword ptr [EBP + -0x1c],EBX
006f12d3 : XOR EAX,EAX
006f12d5 : MOV dword ptr [EDI + 0x18],0x7
006f12dc : MOV dword ptr [EDI + 0x14],EBX
006f12df : MOV ESI,ECX
006f12e1 : MOV dword ptr [EBP + -0x20],EDI
006f12e4 : MOV word ptr [EDI + 0x4],AX
006f12e8 : MOV dword ptr [EBP + -0x4],EBX
006f12eb : MOV EAX,dword ptr [EBP + 0xc]
006f12ee : MOV dword ptr [EBP + -0x1c],0x1
006f12f5 : CMP EAX,0xc
006f12f8 : JNC 0x006f1435
006f12fe : LEA ECX,[EAX + EAX*0x2]
006f1301 : LEA EAX,[ESI + ECX*0x4]
006f1304 : LEA EDX,[EBP + 0x10]
006f1307 : MOV dword ptr [EBP + -0x18],EAX
006f130a : LEA ECX,[EAX + 0xc4]
006f1310 : PUSH EDX
006f1311 : LEA EAX,[EBP + -0x14]
006f1314 : MOV dword ptr [EBP + -0x10],EBX
006f1317 : CALL 0x00410490
006f131c : MOV EAX,dword ptr [EBP + -0x18]
006f131f : MOV EAX,dword ptr [EAX + 0xc8]
006f1325 : MOV ECX,dword ptr [EBP + -0x14]
006f1328 : CMP ECX,EAX
006f132a : JZ 0x006f1347
006f132c : PUSH -0x1
006f132e : LEA EAX,[ECX + 0x10]
006f1331 : PUSH EBX
006f1332 : PUSH EAX
006f1333 : MOV ECX,EDI
006f1335 : CALL 0x00405eb0
006f133a : MOV EAX,dword ptr [EDI + 0x14]
006f133d : XOR ECX,ECX
006f133f : CMP ECX,EAX
006f1341 : SBB EAX,EAX
006f1343 : NEG EAX
006f1345 : JMP 0x006f134a
006f1347 : MOV EAX,dword ptr [EBP + -0x10]
006f134a : CMP dword ptr [EBP + 0x14],EBX
006f134d : JZ 0x006f1443
006f1353 : CMP EAX,EBX
006f1355 : JZ 0x006f1428
006f135b : SUB ESP,0x1c
006f135e : LEA EDX,[ESI + 0x8]
006f1361 : MOV ECX,ESP
006f1363 : MOV dword ptr [EBP + -0x10],ESP
006f1366 : PUSH EDX
006f1367 : CALL 0x00405660
006f136c : MOV dword ptr [EBP + -0x4],0x1
006f1373 : PUSH 0x2
006f1375 : MOV byte ptr [EBP + -0x4],BL
006f1378 : MOV ECX,EDI
006f137a : MOV EDX,ESI
006f137c : CALL 0x006f0f10
006f1381 : SUB ESP,0x1c
006f1384 : LEA EAX,[ESI + 0x24]
006f1387 : MOV ECX,ESP
006f1389 : MOV dword ptr [EBP + -0x10],ESP
006f138c : PUSH EAX
006f138d : CALL 0x00405660
006f1392 : MOV dword ptr [EBP + -0x4],0x2
006f1399 : PUSH 0x3
006f139b : MOV byte ptr [EBP + -0x4],BL
006f139e : MOV ECX,EDI
006f13a0 : MOV EDX,ESI
006f13a2 : CALL 0x006f0f10
006f13a7 : SUB ESP,0x1c
006f13aa : LEA EDX,[ESI + 0x78]
006f13ad : MOV ECX,ESP
006f13af : MOV dword ptr [EBP + -0x10],ESP
006f13b2 : PUSH EDX
006f13b3 : CALL 0x00405660
006f13b8 : MOV dword ptr [EBP + -0x4],0x3
006f13bf : PUSH 0x4
006f13c1 : MOV byte ptr [EBP + -0x4],BL
006f13c4 : MOV ECX,EDI
006f13c6 : MOV EDX,ESI
006f13c8 : CALL 0x006f0f10
006f13cd : SUB ESP,0x1c
006f13d0 : LEA EAX,[ESI + 0x40]
006f13d3 : MOV ECX,ESP
006f13d5 : MOV dword ptr [EBP + -0x10],ESP
006f13d8 : PUSH EAX
006f13d9 : CALL 0x00405660
006f13de : MOV dword ptr [EBP + -0x4],0x4
006f13e5 : PUSH 0x5
006f13e7 : MOV byte ptr [EBP + -0x4],BL
006f13ea : MOV ECX,EDI
006f13ec : MOV EDX,ESI
006f13ee : CALL 0x006f0f10
006f13f3 : SUB ESP,0x1c
006f13f6 : LEA EDX,[ESI + 0x5c]
006f13f9 : MOV ECX,ESP
006f13fb : MOV dword ptr [EBP + -0x10],ESP
006f13fe : PUSH EDX
006f13ff : CALL 0x00405660
006f1404 : MOV dword ptr [EBP + -0x4],0x5
006f140b : PUSH 0x6
006f140d : MOV byte ptr [EBP + -0x4],BL
006f1410 : MOV ECX,EDI
006f1412 : MOV EDX,ESI
006f1414 : CALL 0x006f0f10
006f1419 : CMP dword ptr [EBP + 0xc],0x2
006f141d : JNZ 0x006f1443
006f141f : MOV ECX,EDI
006f1421 : CALL 0x006f0c70
006f1426 : JMP 0x006f1443
006f1428 : PUSH EDI
006f1429 : MOV EDX,0xbf60a8
006f142e : CALL 0x00405c00
006f1433 : JMP 0x006f1443
006f1435 : PUSH 0x10
006f1437 : PUSH 0xbf60c8
006f143c : MOV ECX,EDI
006f143e : CALL 0x00406360
006f1443 : MOV EAX,EDI
006f1445 : MOV ECX,dword ptr [EBP + -0xc]
006f1448 : MOV dword ptr FS:[0x0],ECX
006f144f : POP ECX
006f1450 : POP EDI
006f1451 : POP ESI
006f1452 : POP EBX
006f1453 : MOV ESP,EBP
006f1455 : POP EBP
006f1456 : RET 0x10
