PROGRAM  : Maestia.exe
FUNCTION : FUN_0079d530
ENTRY    : 0079d530
BODY     : [[0079d530, 0079d75c] [0079d760, 0079d891]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0079d530(int param_1,int param_2,undefined4 param_3,undefined4 param_4,char param_5,
                 undefined4 param_6,undefined4 param_7,float param_8)

{
  float fVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  int *piVar4;
  int iVar5;
  int *piVar6;
  undefined4 uVar7;
  undefined1 local_54 [4];
  undefined4 local_50;
  int *local_34;
  undefined1 local_30;
  undefined1 local_2f;
  undefined1 local_2e;
  undefined4 local_28;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b19a1d;
  local_10 = ExceptionList;
  if (*(int *)(param_2 + 4) == 0) {
    return;
  }
  fVar1 = *(float *)(*(int *)(param_2 + 4) + 0x78);
  if (0.0 <= fVar1) {
    param_8 = fVar1;
  }
  ExceptionList = &local_10;
  if (param_5 != '\0') {
    FUN_0047ba90();
    local_8 = 0;
    if (local_34 != *(int **)(param_2 + 4)) {
      if (local_34 != (int *)0x0) {
        (**(code **)(*local_34 + 0x30))();
      }
      if (*(int *)(param_2 + 4) != 0) {
        InterlockedIncrement((LONG *)(*(int *)(param_2 + 4) + 0x2c));
      }
      local_34 = *(int **)(param_2 + 4);
    }
    local_24 = (LPCRITICAL_SECTION)(param_1 + 0x17c);
    local_30 = (undefined1)param_6;
    local_2f = 0;
    local_2e = 0;
    local_50 = 0;
    local_28 = 0;
    local_18 = 0;
    local_20 = ".\\Controllers\\AvaAnimController.cpp";
    local_1c = 0x117;
    local_14 = 1;
    FUN_006ef1a0(&local_24);
    local_8._0_1_ = 1;
    FUN_0047b0c0(local_54);
    local_8 = (uint)local_8._1_3_ << 8;
    if (local_18 != 0) {
      LeaveCriticalSection(local_24);
      local_18 = 0;
    }
    local_8 = 0xffffffff;
    FUN_0047b030();
    ExceptionList = local_10;
    return;
  }
  FUN_0079c1a0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  switch(*(undefined4 *)(param_1 + 0x134)) {
  case 2:
    FUN_0047b9b0();
    FUN_0047ba30();
    puVar2 = *(undefined4 **)(param_1 + 0x68);
    *(undefined1 *)(param_1 + 0xec) = 1;
    *(undefined4 *)(param_1 + 0x100) = 0x3e99999a;
    *(undefined1 *)(param_1 + 0x116) = 1;
    for (puVar3 = (undefined4 *)*puVar2; puVar3 != puVar2; puVar3 = (undefined4 *)*puVar3) {
      iVar5 = puVar3[9];
      *(undefined4 *)(iVar5 + 0x138) = 0;
      *(undefined1 *)(iVar5 + 0x13c) = 0;
    }
    goto LAB_0079d6cd;
  case 3:
    FUN_0047b9b0();
    FUN_0047ba30();
    FUN_0047ba30();
    FUN_00463a60();
    *(undefined2 *)(param_1 + 0xb4) = (undefined2)param_3;
    *(undefined1 *)(param_1 + 0xb0) = (undefined1)param_6;
    *(undefined1 *)(param_1 + 0x8c) = 1;
    *(undefined4 *)(param_1 + 0xa0) = 0x3e99999a;
    *(undefined1 *)(param_1 + 0xb6) = 1;
    piVar4 = *(int **)(param_1 + 0x10);
    piVar6 = (int *)*piVar4;
    if (piVar6 == piVar4) {
      ExceptionList = local_10;
      return;
    }
    do {
      iVar5 = piVar6[9];
      *(undefined4 *)(iVar5 + 0x138) = 0;
      *(undefined1 *)(iVar5 + 0x13c) = 0;
      piVar6 = (int *)*piVar6;
    } while (piVar6 != piVar4);
    ExceptionList = local_10;
    return;
  case 4:
    FUN_0047b9b0();
    FUN_0047ba30();
    FUN_0047ba30();
    FUN_00463a60();
    *(undefined2 *)(param_1 + 0xb4) = (undefined2)param_3;
    *(undefined1 *)(param_1 + 0xb0) = (undefined1)param_6;
    *(undefined1 *)(param_1 + 0x8c) = 1;
    *(undefined4 *)(param_1 + 0xa0) = 0x3e99999a;
    *(undefined1 *)(param_1 + 0xb6) = 1;
    piVar4 = *(int **)(param_1 + 0x10);
    piVar6 = (int *)*piVar4;
    if (piVar6 == piVar4) {
      ExceptionList = local_10;
      return;
    }
    do {
      iVar5 = piVar6[9];
      *(undefined4 *)(iVar5 + 0x138) = 0;
      *(undefined1 *)(iVar5 + 0x13c) = 0;
      piVar6 = (int *)*piVar6;
    } while (piVar6 != piVar4);
    ExceptionList = local_10;
    return;
  case 5:
    uVar7 = 0;
    break;
  case 6:
    *(undefined1 *)(param_1 + 0x116) = 1;
LAB_0079d6cd:
    uVar7 = 1;
    break;
  case 7:
    *(undefined1 *)(param_1 + 0xe6) = 1;
    uVar7 = 2;
    break;
  default:
    goto switchD_0079d66a_default;
  }
  FUN_0079cdd0(param_1,uVar7,param_2,param_3,param_6,param_7,param_8);
switchD_0079d66a_default:
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0079d530 : PUSH EBP
0079d531 : MOV EBP,ESP
0079d533 : PUSH -0x1
0079d535 : PUSH 0xb19a1d
0079d53a : MOV EAX,FS:[0x0]
0079d540 : PUSH EAX
0079d541 : SUB ESP,0x44
0079d544 : PUSH EBX
0079d545 : PUSH ESI
0079d546 : PUSH EDI
0079d547 : MOV EAX,[0x00d66fa0]
0079d54c : XOR EAX,EBP
0079d54e : PUSH EAX
0079d54f : LEA EAX,[EBP + -0xc]
0079d552 : MOV FS:[0x0],EAX
0079d558 : MOV EBX,dword ptr [EBP + 0x8]
0079d55b : MOV ESI,dword ptr [EBP + 0xc]
0079d55e : MOV EAX,dword ptr [ESI + 0x4]
0079d561 : XOR EDI,EDI
0079d563 : CMP EAX,EDI
0079d565 : JZ 0x0079d862
0079d56b : MOVSS XMM0,dword ptr [EAX + 0x78]
0079d570 : COMISS XMM0,dword ptr [0x00b9b0b4]
0079d577 : JC 0x0079d57e
0079d579 : MOVSS dword ptr [EBP + 0x24],XMM0
0079d57e : CMP byte ptr [EBP + 0x18],0x0
0079d582 : JZ 0x0079d64e
0079d588 : LEA ECX,[EBP + -0x50]
0079d58b : CALL 0x0047ba90
0079d590 : MOV dword ptr [EBP + -0x4],EDI
0079d593 : MOV ECX,dword ptr [EBP + -0x30]
0079d596 : CMP ECX,dword ptr [ESI + 0x4]
0079d599 : JZ 0x0079d5bd
0079d59b : CMP ECX,EDI
0079d59d : JZ 0x0079d5a6
0079d59f : MOV EAX,dword ptr [ECX]
0079d5a1 : MOV EDX,dword ptr [EAX + 0x30]
0079d5a4 : CALL EDX
0079d5a6 : MOV EAX,dword ptr [ESI + 0x4]
0079d5a9 : CMP EAX,EDI
0079d5ab : JZ 0x0079d5b7
0079d5ad : ADD EAX,0x2c
0079d5b0 : PUSH EAX
0079d5b1 : CALL dword ptr [0x00b850dc]
0079d5b7 : MOV EAX,dword ptr [ESI + 0x4]
0079d5ba : MOV dword ptr [EBP + -0x30],EAX
0079d5bd : MOV CL,byte ptr [EBP + 0x1c]
0079d5c0 : XORPS XMM0,XMM0
0079d5c3 : LEA EAX,[EBP + -0x20]
0079d5c6 : LEA EDX,[EBX + 0x17c]
0079d5cc : PUSH EAX
0079d5cd : MOV byte ptr [EBP + -0x2c],CL
0079d5d0 : MOV byte ptr [EBP + -0x2b],0x0
0079d5d4 : MOV byte ptr [EBP + -0x2a],0x0
0079d5d8 : MOVSS dword ptr [EBP + -0x4c],XMM0
0079d5dd : MOVSS dword ptr [EBP + -0x24],XMM0
0079d5e2 : MOV dword ptr [EBP + -0x14],EDI
0079d5e5 : MOV dword ptr [EBP + -0x20],EDX
0079d5e8 : MOV dword ptr [EBP + -0x1c],0xc16304
0079d5ef : MOV dword ptr [EBP + -0x18],0x117
0079d5f6 : MOV dword ptr [EBP + -0x10],0x1
0079d5fd : CALL 0x006ef1a0
0079d602 : MOV byte ptr [EBP + -0x4],0x1
0079d606 : LEA ECX,[EBP + -0x50]
0079d609 : PUSH ECX
0079d60a : LEA EAX,[EBX + 0x11c]
0079d610 : CALL 0x0047b0c0
0079d615 : MOV byte ptr [EBP + -0x4],0x0
0079d619 : CMP dword ptr [EBP + -0x14],EDI
0079d61c : JZ 0x0079d62b
0079d61e : MOV EDX,dword ptr [EBP + -0x20]
0079d621 : PUSH EDX
0079d622 : CALL dword ptr [0x00b8511c]
0079d628 : MOV dword ptr [EBP + -0x14],EDI
0079d62b : MOV dword ptr [EBP + -0x4],0xffffffff
0079d632 : LEA ECX,[EBP + -0x50]
0079d635 : CALL 0x0047b030
0079d63a : MOV ECX,dword ptr [EBP + -0xc]
0079d63d : MOV dword ptr FS:[0x0],ECX
0079d644 : POP ECX
0079d645 : POP EDI
0079d646 : POP ESI
0079d647 : POP EBX
0079d648 : MOV ESP,EBP
0079d64a : POP EBP
0079d64b : RET 0x20
0079d64e : LEA ECX,[EBP + 0x14]
0079d651 : MOV EAX,EBX
0079d653 : CALL 0x0079c1a0
0079d658 : MOV EAX,dword ptr [EBX + 0x134]
0079d65e : ADD EAX,-0x2
0079d661 : CMP EAX,0x5
0079d664 : JA 0x0079d862
0079d66a : JMP dword ptr [EAX*0x4 + 0x79d894]
0079d671 : LEA EDI,[EBX + 0xec]
0079d677 : LEA ESI,[EBX + 0x8c]
0079d67d : CALL 0x0047b9b0
0079d682 : CALL 0x0047ba30
0079d687 : MOV ECX,dword ptr [EBX + 0x68]
0079d68a : MOVSS XMM0,dword ptr [0x00cdf0e8]
0079d692 : MOV byte ptr [EDI],0x1
0079d695 : MOVSS dword ptr [EBX + 0x100],XMM0
0079d69d : MOV byte ptr [EBX + 0x116],0x1
0079d6a4 : MOV EAX,dword ptr [ECX]
0079d6a6 : CMP EAX,ECX
0079d6a8 : JZ 0x0079d6ca
0079d6aa : LEA EBX,[EBX]
0079d6b0 : MOV EDX,dword ptr [EAX + 0x24]
0079d6b3 : MOV dword ptr [EDX + 0x138],0x0
0079d6bd : MOV byte ptr [EDX + 0x13c],0x0
0079d6c4 : MOV EAX,dword ptr [EAX]
0079d6c6 : CMP EAX,ECX
0079d6c8 : JNZ 0x0079d6b0
0079d6ca : MOV ESI,dword ptr [EBP + 0xc]
0079d6cd : FLD float ptr [EBP + 0x24]
0079d6d0 : MOV EAX,dword ptr [EBP + 0x1c]
0079d6d3 : MOV ECX,dword ptr [EBP + 0x10]
0079d6d6 : SUB ESP,0x8
0079d6d9 : FSTP float ptr [ESP + 0x4]
0079d6dd : FLD float ptr [EBP + 0x20]
0079d6e0 : FSTP float ptr [ESP]
0079d6e3 : PUSH EAX
0079d6e4 : PUSH ECX
0079d6e5 : PUSH ESI
0079d6e6 : PUSH 0x1
0079d6e8 : JMP 0x0079d85c
0079d6ed : LEA EDI,[EBX + 0x8c]
0079d6f3 : LEA ESI,[EBX + 0xbc]
0079d6f9 : CALL 0x0047b9b0
0079d6fe : CALL 0x0047ba30
0079d703 : LEA ESI,[EBX + 0xec]
0079d709 : CALL 0x0047ba30
0079d70e : MOV ESI,dword ptr [EBP + 0xc]
0079d711 : LEA EDI,[EBX + 0xa8]
0079d717 : CALL 0x00463a60
0079d71c : MOV AX,word ptr [EBP + 0x10]
0079d720 : MOV CL,byte ptr [EBP + 0x1c]
0079d723 : MOVSS XMM0,dword ptr [0x00cdf0e8]
0079d72b : MOV word ptr [EBX + 0xb4],AX
0079d732 : MOV byte ptr [EBX + 0xb0],CL
0079d738 : MOV byte ptr [EBX + 0x8c],0x1
0079d73f : MOVSS dword ptr [EBX + 0xa0],XMM0
0079d747 : MOV byte ptr [EBX + 0xb6],0x1
0079d74e : MOV EBX,dword ptr [EBX + 0x10]
0079d751 : MOV EAX,dword ptr [EBX]
0079d753 : CMP EAX,EBX
0079d755 : JZ 0x0079d862
0079d75b : JMP 0x0079d760
0079d760 : MOV ECX,dword ptr [EAX + 0x24]
0079d763 : MOV dword ptr [ECX + 0x138],0x0
0079d76d : MOV byte ptr [ECX + 0x13c],0x0
0079d774 : MOV EAX,dword ptr [EAX]
0079d776 : CMP EAX,EBX
0079d778 : JNZ 0x0079d760
0079d77a : MOV ECX,dword ptr [EBP + -0xc]
0079d77d : MOV dword ptr FS:[0x0],ECX
0079d784 : POP ECX
0079d785 : POP EDI
0079d786 : POP ESI
0079d787 : POP EBX
0079d788 : MOV ESP,EBP
0079d78a : POP EBP
0079d78b : RET 0x20
0079d78e : LEA EDI,[EBX + 0x8c]
0079d794 : LEA ESI,[EBX + 0xec]
0079d79a : CALL 0x0047b9b0
0079d79f : LEA ESI,[EBX + 0xbc]
0079d7a5 : CALL 0x0047ba30
0079d7aa : LEA ESI,[EBX + 0xec]
0079d7b0 : CALL 0x0047ba30
0079d7b5 : MOV ESI,dword ptr [EBP + 0xc]
0079d7b8 : LEA EDI,[EBX + 0xa8]
0079d7be : CALL 0x00463a60
0079d7c3 : MOV AL,byte ptr [EBP + 0x1c]
0079d7c6 : MOV DX,word ptr [EBP + 0x10]
0079d7ca : MOVSS XMM0,dword ptr [0x00cdf0e8]
0079d7d2 : MOV word ptr [EBX + 0xb4],DX
0079d7d9 : MOV byte ptr [EBX + 0xb0],AL
0079d7df : MOV byte ptr [EBX + 0x8c],0x1
0079d7e6 : MOVSS dword ptr [EBX + 0xa0],XMM0
0079d7ee : MOV byte ptr [EBX + 0xb6],0x1
0079d7f5 : MOV EBX,dword ptr [EBX + 0x10]
0079d7f8 : MOV EAX,dword ptr [EBX]
0079d7fa : CMP EAX,EBX
0079d7fc : JZ 0x0079d862
0079d7fe : MOV EDI,EDI
0079d800 : MOV ECX,dword ptr [EAX + 0x24]
0079d803 : MOV dword ptr [ECX + 0x138],0x0
0079d80d : MOV byte ptr [ECX + 0x13c],0x0
0079d814 : MOV EAX,dword ptr [EAX]
0079d816 : CMP EAX,EBX
0079d818 : JNZ 0x0079d800
0079d81a : MOV ECX,dword ptr [EBP + -0xc]
0079d81d : MOV dword ptr FS:[0x0],ECX
0079d824 : POP ECX
0079d825 : POP EDI
0079d826 : POP ESI
0079d827 : POP EBX
0079d828 : MOV ESP,EBP
0079d82a : POP EBP
0079d82b : RET 0x20
0079d82e : MOV byte ptr [EBX + 0x116],0x1
0079d835 : JMP 0x0079d6cd
0079d83a : FLD float ptr [EBP + 0x24]
0079d83d : MOV EDX,dword ptr [EBP + 0x1c]
0079d840 : MOV EAX,dword ptr [EBP + 0x10]
0079d843 : SUB ESP,0x8
0079d846 : FSTP float ptr [ESP + 0x4]
0079d84a : MOV byte ptr [EBX + 0xe6],0x1
0079d851 : FLD float ptr [EBP + 0x20]
0079d854 : FSTP float ptr [ESP]
0079d857 : PUSH EDX
0079d858 : PUSH EAX
0079d859 : PUSH ESI
0079d85a : PUSH 0x2
0079d85c : PUSH EBX
0079d85d : CALL 0x0079cdd0
0079d862 : MOV ECX,dword ptr [EBP + -0xc]
0079d865 : MOV dword ptr FS:[0x0],ECX
0079d86c : POP ECX
0079d86d : POP EDI
0079d86e : POP ESI
0079d86f : POP EBX
0079d870 : MOV ESP,EBP
0079d872 : POP EBP
0079d873 : RET 0x20
0079d876 : FLD float ptr [EBP + 0x24]
0079d879 : MOV ECX,dword ptr [EBP + 0x1c]
0079d87c : MOV EDX,dword ptr [EBP + 0x10]
0079d87f : SUB ESP,0x8
0079d882 : FSTP float ptr [ESP + 0x4]
0079d886 : FLD float ptr [EBP + 0x20]
0079d889 : FSTP float ptr [ESP]
0079d88c : PUSH ECX
0079d88d : PUSH EDX
0079d88e : PUSH ESI
0079d88f : PUSH EDI
0079d890 : JMP 0x0079d85c
