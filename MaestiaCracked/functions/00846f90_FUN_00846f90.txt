PROGRAM  : Maestia.exe
FUNCTION : FUN_00846f90
ENTRY    : 00846f90
BODY     : [[00846f90, 0084709a]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00846f90(undefined4 *param_1)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  undefined4 uVar4;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b37b95;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (param_1 + 1 == (undefined4 *)0x0) {
    DAT_017248f8 = (undefined4 *)0x0;
  }
  else {
    DAT_017248f8 = param_1;
  }
  local_8 = 0;
  *param_1 = &PTR_FUN_00cd2e0c;
  FUN_00a6a4b0(param_1 + 1);
  local_8._0_1_ = 1;
  FUN_00441e90(param_1 + 9);
  local_8._0_1_ = 2;
  iVar3 = FUN_006f0760(0x10,"",0,(DAT_01725270 >> 3 & 1) == 0,uVar2);
  local_8._0_1_ = 3;
  if (iVar3 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = FUN_00846f40(iVar3);
  }
  uVar1 = DAT_01725270;
  local_8._0_1_ = 2;
  param_1[7] = uVar4;
  iVar3 = FUN_006f0760(0xc,"",0,(uVar1 >> 3 & 1) == 0,uVar2);
  local_8 = CONCAT31(local_8._1_3_,4);
  if (iVar3 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = FUN_00846d50(iVar3);
  }
  param_1[8] = uVar4;
  param_1[0xc] = 0;
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00846f90 : PUSH EBP
00846f91 : MOV EBP,ESP
00846f93 : PUSH -0x1
00846f95 : PUSH 0xb37b95
00846f9a : MOV EAX,FS:[0x0]
00846fa0 : PUSH EAX
00846fa1 : PUSH ESI
00846fa2 : MOV EAX,[0x00d66fa0]
00846fa7 : XOR EAX,EBP
00846fa9 : PUSH EAX
00846faa : LEA EAX,[EBP + -0xc]
00846fad : MOV FS:[0x0],EAX
00846fb3 : MOV ESI,dword ptr [EBP + 0x8]
00846fb6 : LEA EAX,[ESI + 0x4]
00846fb9 : TEST EAX,EAX
00846fbb : JZ 0x00846fc8
00846fbd : LEA ECX,[EAX + -0x4]
00846fc0 : MOV dword ptr [0x017248f8],ECX
00846fc6 : JMP 0x00846fd2
00846fc8 : MOV dword ptr [0x017248f8],0x0
00846fd2 : MOV dword ptr [EBP + -0x4],0x0
00846fd9 : PUSH EAX
00846fda : MOV dword ptr [ESI],0xcd2e0c
00846fe0 : CALL 0x00a6a4b0
00846fe5 : MOV byte ptr [EBP + -0x4],0x1
00846fe9 : LEA EDX,[ESI + 0x24]
00846fec : PUSH EDX
00846fed : CALL 0x00441e90
00846ff2 : MOV byte ptr [EBP + -0x4],0x2
00846ff6 : MOV EAX,[0x01725270]
00846ffb : SHR EAX,0x3
00846ffe : MOV ECX,0x0
00847003 : AND EAX,0x1
00847006 : SETZ CL
00847009 : PUSH ECX
0084700a : PUSH 0x0
0084700c : PUSH 0xbf1a4a
00847011 : PUSH 0x10
00847013 : CALL 0x006f0760
00847018 : ADD ESP,0x10
0084701b : MOV dword ptr [EBP + 0x8],EAX
0084701e : MOV byte ptr [EBP + -0x4],0x3
00847022 : TEST EAX,EAX
00847024 : JZ 0x0084702e
00847026 : PUSH EAX
00847027 : CALL 0x00846f40
0084702c : JMP 0x00847030
0084702e : XOR EAX,EAX
00847030 : MOV byte ptr [EBP + -0x4],0x2
00847034 : MOV EDX,dword ptr [0x01725270]
0084703a : MOV dword ptr [ESI + 0x1c],EAX
0084703d : SHR EDX,0x3
00847040 : MOV EAX,0x0
00847045 : AND EDX,0x1
00847048 : SETZ AL
0084704b : PUSH EAX
0084704c : PUSH 0x0
0084704e : PUSH 0xbf1a4a
00847053 : PUSH 0xc
00847055 : CALL 0x006f0760
0084705a : ADD ESP,0x10
0084705d : MOV dword ptr [EBP + 0x8],EAX
00847060 : MOV byte ptr [EBP + -0x4],0x4
00847064 : TEST EAX,EAX
00847066 : JZ 0x00847070
00847068 : PUSH EAX
00847069 : CALL 0x00846d50
0084706e : JMP 0x00847072
00847070 : XOR EAX,EAX
00847072 : MOV byte ptr [EBP + -0x4],0x2
00847076 : MOV dword ptr [ESI + 0x20],EAX
00847079 : MOV dword ptr [ESI + 0x30],0x0
00847080 : MOV dword ptr [EBP + -0x4],0xffffffff
00847087 : MOV EAX,ESI
00847089 : MOV ECX,dword ptr [EBP + -0xc]
0084708c : MOV dword ptr FS:[0x0],ECX
00847093 : POP ECX
00847094 : POP ESI
00847095 : MOV ESP,EBP
00847097 : POP EBP
00847098 : RET 0x4
