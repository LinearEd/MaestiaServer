PROGRAM  : Maestia.exe
FUNCTION : FUN_009a5890
ENTRY    : 009a5890
BODY     : [[009a5890, 009a59bd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009a5890(void)

{
  int *piVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  int in_ECX;
  undefined1 local_2c [28];
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2d611;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if ((*(char *)(in_ECX + 8) != '\0') && (*(char *)(in_ECX + 0x32) == '\0')) {
    if ((*(int *)(DAT_0172491c + 0x17c) == 0) ||
       (*(char *)(*(int *)(DAT_0172491c + 0x17c) + 0x1fe4) == '\0')) {
      if ((*DAT_00da9894 != 0) &&
         (puVar2 = *(undefined4 **)(*DAT_00da9894 + 0x114), puVar2 != (undefined4 *)0x0)) {
        (**(code **)*puVar2)("EmoticonOpen",DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
      }
      FUN_008f7770(1,300);
    }
    else if ((*DAT_00da9894 != 0) && (*(int *)(*DAT_00da9894 + 0x1a8) != 0)) {
      FUN_00406460(L"IDS_THIS_UI_CANNOT_OPENED");
      local_8 = 0;
      piVar1 = *(int **)(*DAT_00da9894 + 0x1a8);
      uVar3 = FUN_0081d120(local_2c);
      local_8._0_1_ = 1;
      (**(code **)(*piVar1 + 0x44))(uVar3,3);
      local_8 = (uint)local_8._1_3_ << 8;
      FUN_00406560();
      local_8 = 0xffffffff;
      FUN_00406560();
      ExceptionList = local_10;
      return;
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
009a5890 : PUSH EBP
009a5891 : MOV EBP,ESP
009a5893 : PUSH -0x1
009a5895 : PUSH 0xb2d611
009a589a : MOV EAX,FS:[0x0]
009a58a0 : PUSH EAX
009a58a1 : SUB ESP,0x38
009a58a4 : PUSH ESI
009a58a5 : PUSH EDI
009a58a6 : MOV EAX,[0x00d66fa0]
009a58ab : XOR EAX,EBP
009a58ad : PUSH EAX
009a58ae : LEA EAX,[EBP + -0xc]
009a58b1 : MOV FS:[0x0],EAX
009a58b7 : MOV ESI,ECX
009a58b9 : MOV AL,byte ptr [ESI + 0x8]
009a58bc : TEST AL,AL
009a58be : JZ 0x009a59ab
009a58c4 : CMP byte ptr [ESI + 0x32],0x0
009a58c8 : JNZ 0x009a59ab
009a58ce : MOV EAX,[0x0172491c]
009a58d3 : MOV EAX,dword ptr [EAX + 0x17c]
009a58d9 : TEST EAX,EAX
009a58db : JZ 0x009a597c
009a58e1 : CMP byte ptr [EAX + 0x1fe4],0x0
009a58e8 : JZ 0x009a597c
009a58ee : MOV ECX,dword ptr [0x00da9894]
009a58f4 : MOV EAX,dword ptr [ECX]
009a58f6 : TEST EAX,EAX
009a58f8 : JZ 0x009a59ab
009a58fe : CMP dword ptr [EAX + 0x1a8],0x0
009a5905 : JZ 0x009a59ab
009a590b : PUSH 0xc8994c
009a5910 : LEA ECX,[EBP + -0x28]
009a5913 : CALL 0x00406460
009a5918 : MOV dword ptr [EBP + -0x4],0x0
009a591f : MOV EDX,dword ptr [0x00da9894]
009a5925 : MOV EAX,dword ptr [EDX]
009a5927 : MOV ESI,dword ptr [EAX + 0x1a8]
009a592d : MOV ECX,dword ptr [0x0172491c]
009a5933 : LEA EAX,[EBP + -0x28]
009a5936 : PUSH EAX
009a5937 : LEA EDI,[EBP + -0x44]
009a593a : CALL 0x0081d120
009a593f : MOV byte ptr [EBP + -0x4],0x1
009a5943 : MOV EDX,dword ptr [ESI]
009a5945 : PUSH 0x3
009a5947 : PUSH EAX
009a5948 : MOV EAX,dword ptr [EDX + 0x44]
009a594b : MOV ECX,ESI
009a594d : CALL EAX
009a594f : MOV byte ptr [EBP + -0x4],0x0
009a5953 : MOV ECX,EDI
009a5955 : CALL 0x00406560
009a595a : MOV dword ptr [EBP + -0x4],0xffffffff
009a5961 : LEA ECX,[EBP + -0x28]
009a5964 : CALL 0x00406560
009a5969 : MOV ECX,dword ptr [EBP + -0xc]
009a596c : MOV dword ptr FS:[0x0],ECX
009a5973 : POP ECX
009a5974 : POP EDI
009a5975 : POP ESI
009a5976 : MOV ESP,EBP
009a5978 : POP EBP
009a5979 : RET 0x8
009a597c : MOV ECX,dword ptr [0x00da9894]
009a5982 : MOV EAX,dword ptr [ECX]
009a5984 : TEST EAX,EAX
009a5986 : JZ 0x009a599d
009a5988 : MOV ECX,dword ptr [EAX + 0x114]
009a598e : TEST ECX,ECX
009a5990 : JZ 0x009a599d
009a5992 : MOV EDX,dword ptr [ECX]
009a5994 : MOV EAX,dword ptr [EDX]
009a5996 : PUSH 0xc89980
009a599b : CALL EAX
009a599d : PUSH 0x12c
009a59a2 : PUSH 0x1
009a59a4 : MOV ECX,ESI
009a59a6 : CALL 0x008f7770
009a59ab : MOV ECX,dword ptr [EBP + -0xc]
009a59ae : MOV dword ptr FS:[0x0],ECX
009a59b5 : POP ECX
009a59b6 : POP EDI
009a59b7 : POP ESI
009a59b8 : MOV ESP,EBP
009a59ba : POP EBP
009a59bb : RET 0x8
