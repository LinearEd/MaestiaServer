PROGRAM  : Maestia.exe
FUNCTION : FUN_00598b20
ENTRY    : 00598b20
BODY     : [[00598b20, 00598c5e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00598b20(uint param_1,int *param_2)

{
  LONG LVar1;
  int in_ECX;
  undefined4 unaff_ESI;
  uint unaff_EDI;
  undefined4 *puStack_1c;
  undefined4 local_10;
  uint local_c;
  undefined8 local_8;
  
  if (**(int **)(in_ECX + 0x38) != 0) {
    local_8 = 0x4000000000000000;
    local_10 = 0;
    local_c = 3;
    puStack_1c = (undefined4 *)0x1;
    (**(code **)(*(int *)**(int **)(in_ECX + 0x38) + 0x40))
              ("_global.gfx_ime_candidate_list_state",&local_10);
    if ((unaff_EDI >> 6 & 1) != 0) {
      FUN_00588b40(&puStack_1c,unaff_ESI);
      puStack_1c = (undefined4 *)0x0;
    }
    (**(code **)(*(int *)**(undefined4 **)(in_ECX + 0x38) + 0x40))
              ("_global.gfx_ime_candidate_list_path",&puStack_1c,1);
    if ((local_c >> 6 & 1) != 0) {
      puStack_1c = (undefined4 *)local_8;
      FUN_00588b40(&local_10);
    }
  }
  if (param_2 == (int *)0x0) {
    puStack_1c = (undefined4 *)0x0;
    (**(code **)(**(int **)(in_ECX + 0x34) + 0x70))();
  }
  else {
    puStack_1c = (undefined4 *)0x598bea;
    puStack_1c = (undefined4 *)(**(code **)(*param_2 + 0x48))();
    if (puStack_1c[2] != 0) {
      (**(code **)(*(int *)puStack_1c[2] + 8))();
    }
    puStack_1c = (undefined4 *)0x598c04;
    FUN_0051b6e0();
    puStack_1c = &param_2;
    FUN_0051fc70();
    puStack_1c = (undefined4 *)(((uint)param_2 & 0xfffffffc) + 8);
    (**(code **)(**(int **)(in_ECX + 0x34) + 0x70))();
    LVar1 = InterlockedExchangeAdd((LONG *)((param_1 & 0xfffffffc) + 4),-1);
    if (LVar1 == 1) {
      FUN_00515cf0(param_1 & 0xfffffffc);
      return;
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00598b20 : SUB ESP,0x10
00598b23 : PUSH ESI
00598b24 : MOV ESI,ECX
00598b26 : MOV EAX,dword ptr [ESI + 0x38]
00598b29 : CMP dword ptr [EAX],0x0
00598b2c : PUSH EDI
00598b2d : JZ 0x00598bd9
00598b33 : FLD double ptr [0x00cdf2d0]
00598b39 : MOV ECX,EAX
00598b3b : FSTP double ptr [ESP + 0x10]
00598b3f : MOV dword ptr [ESP + 0x8],0x0
00598b47 : MOV dword ptr [ESP + 0xc],0x3
00598b4f : MOV ECX,dword ptr [ECX]
00598b51 : MOV EDX,dword ptr [ECX]
00598b53 : MOV EDX,dword ptr [EDX + 0x40]
00598b56 : PUSH 0x1
00598b58 : LEA EAX,[ESP + 0xc]
00598b5c : PUSH EAX
00598b5d : PUSH 0xb8ec58
00598b62 : CALL EDX
00598b64 : MOV EAX,dword ptr [ESI + 0x38]
00598b67 : MOV ECX,dword ptr [ESP + 0xc]
00598b6b : MOV EDI,dword ptr [EAX + 0xc]
00598b6e : SHR ECX,0x6
00598b71 : AND EDI,0xfffffffc
00598b74 : TEST CL,0x1
00598b77 : JZ 0x00598b94
00598b79 : MOV EDX,dword ptr [ESP + 0x10]
00598b7d : MOV ECX,dword ptr [ESP + 0x8]
00598b81 : PUSH EDX
00598b82 : LEA EAX,[ESP + 0xc]
00598b86 : PUSH EAX
00598b87 : CALL 0x00588b40
00598b8c : MOV dword ptr [ESP + 0x8],0x0
00598b94 : MOV ECX,dword ptr [ESI + 0x38]
00598b97 : MOV dword ptr [ESP + 0xc],0x4
00598b9f : ADD EDI,0x8
00598ba2 : MOV dword ptr [ESP + 0x10],EDI
00598ba6 : MOV ECX,dword ptr [ECX]
00598ba8 : MOV EDX,dword ptr [ECX]
00598baa : MOV EDX,dword ptr [EDX + 0x40]
00598bad : PUSH 0x1
00598baf : LEA EAX,[ESP + 0xc]
00598bb3 : PUSH EAX
00598bb4 : PUSH 0xb8ed58
00598bb9 : CALL EDX
00598bbb : MOV EAX,dword ptr [ESP + 0xc]
00598bbf : SHR EAX,0x6
00598bc2 : TEST AL,0x1
00598bc4 : JZ 0x00598bd9
00598bc6 : MOV ECX,dword ptr [ESP + 0x10]
00598bca : PUSH ECX
00598bcb : MOV ECX,dword ptr [ESP + 0xc]
00598bcf : LEA EDX,[ESP + 0xc]
00598bd3 : PUSH EDX
00598bd4 : CALL 0x00588b40
00598bd9 : MOV EDI,dword ptr [ESP + 0x20]
00598bdd : TEST EDI,EDI
00598bdf : JZ 0x00598c4b
00598be1 : MOV EAX,dword ptr [EDI]
00598be3 : MOV EDX,dword ptr [EAX + 0x48]
00598be6 : MOV ECX,EDI
00598be8 : CALL EDX
00598bea : CMP dword ptr [EAX + 0x8],0x0
00598bee : JZ 0x00598bfb
00598bf0 : MOV ECX,dword ptr [EAX + 0x8]
00598bf3 : MOV EDX,dword ptr [ECX]
00598bf5 : PUSH EAX
00598bf6 : MOV EAX,dword ptr [EDX + 0x8]
00598bf9 : CALL EAX
00598bfb : LEA ECX,[ESP + 0x20]
00598bff : CALL 0x0051b6e0
00598c04 : LEA ECX,[ESP + 0x20]
00598c08 : PUSH ECX
00598c09 : MOV ECX,EDI
00598c0b : CALL 0x0051fc70
00598c10 : MOV EAX,dword ptr [ESP + 0x20]
00598c14 : MOV ECX,dword ptr [ESI + 0x34]
00598c17 : MOV EDX,dword ptr [ECX]
00598c19 : MOV EDX,dword ptr [EDX + 0x70]
00598c1c : AND EAX,0xfffffffc
00598c1f : ADD EAX,0x8
00598c22 : PUSH EAX
00598c23 : CALL EDX
00598c25 : MOV ESI,dword ptr [ESP + 0x20]
00598c29 : AND ESI,0xfffffffc
00598c2c : PUSH -0x1
00598c2e : LEA EAX,[ESI + 0x4]
00598c31 : PUSH EAX
00598c32 : CALL dword ptr [0x00b851cc]
00598c38 : SUB EAX,0x1
00598c3b : JNZ 0x00598c57
00598c3d : PUSH ESI
00598c3e : CALL 0x00515cf0
00598c43 : POP EDI
00598c44 : POP ESI
00598c45 : ADD ESP,0x10
00598c48 : RET 0x8
00598c4b : MOV ECX,dword ptr [ESI + 0x34]
00598c4e : MOV EDX,dword ptr [ECX]
00598c50 : MOV EAX,dword ptr [EDX + 0x70]
00598c53 : PUSH 0x0
00598c55 : CALL EAX
00598c57 : POP EDI
00598c58 : POP ESI
00598c59 : ADD ESP,0x10
00598c5c : RET 0x8
