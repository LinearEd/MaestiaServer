PROGRAM  : Maestia.exe
FUNCTION : FUN_00621700
ENTRY    : 00621700
BODY     : [[00621700, 00621bd7]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00621700(int param_1)

{
  float fVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  float fVar14;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  int local_10;
  
  iVar4 = FUN_0061b930();
  iVar2 = *(int *)(param_1 + 8);
  iVar3 = *(int *)(param_1 + 4);
  iVar10 = 0;
  iVar8 = 0;
  iVar9 = *(int *)(param_1 + 0x14) + 0x10;
  local_28 = 0.0;
  local_24 = 0.0;
  local_20 = 0.0;
  local_1c = 0.0;
  local_18 = 0.0;
  if (0 < iVar3) {
    iVar7 = 0;
    do {
      if (iVar2 <= iVar7) {
        return;
      }
      iVar5 = *(int *)(iVar9 + 0x7c);
      if (((iVar5 == 0) || (iVar7 = iVar7 + 1, *(int *)(iVar5 + 0x168) == 0)) ||
         (fVar1 = *(float *)(iVar5 + 0x26c), fVar1 <= 0.0)) {
        iVar9 = iVar9 + 0x10 + (~(iVar4 - 1U) & iVar4 + 0x83U);
      }
      else {
        iVar5 = *(int *)(iVar9 + 0x80);
        fVar12 = *(float *)(iVar9 + 0x50) / *(float *)(iVar9 + 0x1c);
        if (iVar5 != iVar10) {
          local_24 = *(float *)(iVar5 + 0x50);
          if (local_24 == 0.0) {
            local_28 = 0.0;
          }
          else {
            local_28 = 1.0 / local_24;
          }
          local_24 = *(float *)(iVar5 + 0x54) - local_24;
          if (local_24 == 0.0) {
            local_24 = 0.0;
          }
          else {
            local_24 = 1.0 / local_24;
          }
          local_20 = 1.0 - *(float *)(iVar5 + 0x54);
          if (local_20 == 0.0) {
            local_20 = 0.0;
          }
          else {
            local_20 = 1.0 / local_20;
          }
          fVar13 = *(float *)(iVar5 + 0x78);
          if (fVar13 == 0.0) {
            local_1c = 0.0;
          }
          else {
            local_1c = 1.0 / fVar13;
          }
          iVar10 = iVar5;
          if (1.0 - fVar13 == 0.0) {
            local_18 = 0.0;
          }
          else {
            local_18 = 1.0 / (1.0 - fVar13);
          }
        }
        if (*(float *)(iVar10 + 0x50) < fVar12) {
          if (*(float *)(iVar10 + 0x54) < fVar12) {
            fVar11 = (fVar12 - *(float *)(iVar10 + 0x54)) * local_20;
            *(float *)(iVar9 + 0x40) =
                 (*(float *)(iVar10 + 0x40) - *(float *)(iVar10 + 0x30)) * fVar11 +
                 *(float *)(iVar10 + 0x30);
            *(float *)(iVar9 + 0x44) =
                 (*(float *)(iVar10 + 0x44) - *(float *)(iVar10 + 0x34)) * fVar11 +
                 *(float *)(iVar10 + 0x34);
            *(float *)(iVar9 + 0x48) =
                 (*(float *)(iVar10 + 0x48) - *(float *)(iVar10 + 0x38)) * fVar11 +
                 *(float *)(iVar10 + 0x38);
            fVar13 = *(float *)(iVar10 + 0x3c);
            fVar14 = *(float *)(iVar10 + 0x4c);
          }
          else {
            fVar11 = (fVar12 - *(float *)(iVar10 + 0x50)) * local_24;
            *(float *)(iVar9 + 0x40) =
                 (*(float *)(iVar10 + 0x30) - *(float *)(iVar10 + 0x20)) * fVar11 +
                 *(float *)(iVar10 + 0x20);
            *(float *)(iVar9 + 0x44) =
                 (*(float *)(iVar10 + 0x34) - *(float *)(iVar10 + 0x24)) * fVar11 +
                 *(float *)(iVar10 + 0x24);
            *(float *)(iVar9 + 0x48) =
                 (*(float *)(iVar10 + 0x38) - *(float *)(iVar10 + 0x28)) * fVar11 +
                 *(float *)(iVar10 + 0x28);
            fVar13 = *(float *)(iVar10 + 0x2c);
            fVar14 = *(float *)(iVar10 + 0x3c);
          }
        }
        else {
          fVar11 = fVar12 * local_28;
          *(float *)(iVar9 + 0x40) =
               (*(float *)(iVar10 + 0x20) - *(float *)(iVar10 + 0x10)) * fVar11 +
               *(float *)(iVar10 + 0x10);
          *(float *)(iVar9 + 0x44) =
               (*(float *)(iVar10 + 0x24) - *(float *)(iVar10 + 0x14)) * fVar11 +
               *(float *)(iVar10 + 0x14);
          *(float *)(iVar9 + 0x48) =
               (*(float *)(iVar10 + 0x28) - *(float *)(iVar10 + 0x18)) * fVar11 +
               *(float *)(iVar10 + 0x18);
          fVar13 = *(float *)(iVar10 + 0x1c);
          fVar14 = *(float *)(iVar10 + 0x2c);
        }
        *(float *)(iVar9 + 0x4c) = (fVar14 - fVar13) * fVar11 + fVar13;
        if (*(float *)(iVar10 + 0x78) <= fVar12) {
          *(float *)(iVar9 + 0x54) =
               (fVar12 - *(float *)(iVar10 + 0x78)) * local_18 *
               (*(float *)(iVar9 + 0x10) - *(float *)(iVar9 + 0xc)) + *(float *)(iVar9 + 0xc);
        }
        else {
          *(float *)(iVar9 + 0x54) =
               (*(float *)(iVar9 + 0xc) - *(float *)(iVar9 + 8)) * fVar12 * local_1c +
               *(float *)(iVar9 + 8);
        }
        *(float *)(iVar9 + 0x58) = *(float *)(iVar9 + 0x14) * fVar1 + *(float *)(iVar9 + 0x58);
        if (*(int *)(iVar10 + 0x124) != 0) {
          if ((*(uint *)(iVar10 + 0x68) & 2) != 0) {
            if ((*(float *)(iVar9 + 0x50) == 0.0) && ((*(uint *)(iVar10 + 0x68) & 4) != 0)) {
              iVar5 = _rand();
              *(int *)(iVar9 + 0x18) =
                   (int)((float)(iVar5 % 100) * 0.01 * (float)*(int *)(iVar10 + 0x124));
            }
            local_10 = (int)(longlong)ROUND(*(float *)(iVar10 + 0x108) * *(float *)(iVar9 + 0x50));
            uVar6 = local_10 + *(int *)(iVar9 + 0x18);
            if (((*(uint *)(iVar10 + 0x68) & 0x40000) == 0) || (uVar6 < *(uint *)(iVar10 + 0x124)))
            {
              *(uint *)(iVar9 + 0x5c) = uVar6 % *(uint *)(iVar10 + 0x124);
            }
            else {
              *(uint *)(iVar9 + 0x5c) = *(uint *)(iVar10 + 0x124) - 1;
            }
          }
          if (((*(int *)(iVar10 + 0x124) != 0) && ((*(byte *)(iVar10 + 0x68) & 1) != 0)) &&
             (*(int *)(iVar9 + 0x5c) = *(int *)(iVar9 + 0x18),
             *(int *)(iVar10 + 0x124) <= *(int *)(iVar9 + 0x18))) {
            *(undefined4 *)(iVar9 + 0x5c) = 0;
          }
        }
        if ((*(uint *)(*(int *)(iVar9 + 0x7c) + 0x100) & 0x200) != 0) {
          if ((*(uint *)(iVar10 + 0x68) & 0x100) == 0) {
            FUN_0061c7d0(iVar9,fVar1);
          }
          else {
            FUN_0061eef0(iVar9,*(int *)(iVar9 + 0x7c));
          }
        }
        if ((*(uint *)(iVar10 + 0x68) & 0x20000000) == 0) {
          *(float *)(iVar9 + 0x50) = fVar1 + *(float *)(iVar9 + 0x50);
        }
        if (((*(uint *)(iVar10 + 0x68) & 0x10000000) != 0) &&
           (*(float *)(iVar9 + 0x1c) <= *(float *)(iVar9 + 0x50))) {
          *(float *)(iVar9 + 0x50) = *(float *)(iVar9 + 0x1c) - 1e-05;
        }
        if (((*(uint *)(iVar10 + 0x68) & 0x100000) != 0) &&
           (*(float *)(iVar9 + 0x1c) <= *(float *)(iVar9 + 0x50))) {
          *(undefined4 *)(iVar9 + 0x50) = 0;
        }
        iVar9 = iVar9 + 0x10 + (~(iVar4 - 1U) & iVar4 + 0x83U);
      }
      iVar8 = iVar8 + 1;
    } while (iVar8 < iVar3);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00621700 : SUB ESP,0x2c
00621703 : PUSH EBX
00621704 : PUSH EBP
00621705 : PUSH ESI
00621706 : PUSH EDI
00621707 : CALL 0x0061b930
0062170c : XORPS XMM3,XMM3
0062170f : MOV EBP,EAX
00621711 : MOV EAX,dword ptr [ESP + 0x40]
00621715 : MOV ECX,dword ptr [EAX + 0x8]
00621718 : MOV EDX,dword ptr [EAX + 0x4]
0062171b : MOV ESI,dword ptr [EAX + 0x14]
0062171e : MOV dword ptr [ESP + 0x28],ECX
00621722 : XOR EDI,EDI
00621724 : XOR EBX,EBX
00621726 : XOR ECX,ECX
00621728 : ADD ESI,0x10
0062172b : MOVSS dword ptr [ESP + 0x14],XMM3
00621731 : MOVSS dword ptr [ESP + 0x18],XMM3
00621737 : MOVSS dword ptr [ESP + 0x1c],XMM3
0062173d : MOVSS dword ptr [ESP + 0x20],XMM3
00621743 : MOVSS dword ptr [ESP + 0x24],XMM3
00621749 : MOV dword ptr [ESP + 0x38],EDX
0062174d : TEST EDX,EDX
0062174f : JLE 0x00621bd0
00621755 : MOVSS XMM5,dword ptr [0x00b86060]
0062175d : LEA ECX,[ECX]
00621760 : CMP ECX,dword ptr [ESP + 0x28]
00621764 : JGE 0x00621bd0
0062176a : MOV EAX,dword ptr [ESI + 0x7c]
0062176d : TEST EAX,EAX
0062176f : JNZ 0x00621788
00621771 : LEA EDX,[EBP + -0x1]
00621774 : NOT EDX
00621776 : LEA EAX,[EBP + 0x83]
0062177c : INC EBX
0062177d : AND EDX,EAX
0062177f : LEA ESI,[ESI + EDX*0x1 + 0x10]
00621783 : JMP 0x00621bc6
00621788 : INC ECX
00621789 : CMP dword ptr [EAX + 0x168],0x0
00621790 : MOV dword ptr [ESP + 0x34],ECX
00621794 : JZ 0x00621771
00621796 : MOVSS XMM6,dword ptr [EAX + 0x26c]
0062179e : COMISS XMM3,XMM6
006217a1 : MOVSS dword ptr [ESP + 0x10],XMM6
006217a7 : JNC 0x00621771
006217a9 : MOV EAX,dword ptr [ESI + 0x80]
006217af : MOVSS XMM7,dword ptr [ESI + 0x50]
006217b4 : MOVAPS XMM1,XMM7
006217b7 : DIVSS XMM1,dword ptr [ESI + 0x1c]
006217bc : CMP EAX,EDI
006217be : JZ 0x00621880
006217c4 : MOV EDI,EAX
006217c6 : MOVSS XMM2,dword ptr [EDI + 0x50]
006217cb : UCOMISS XMM2,XMM3
006217ce : LAHF
006217cf : TEST AH,0x44
006217d2 : JP 0x006217dc
006217d4 : MOVSS dword ptr [ESP + 0x14],XMM3
006217da : JMP 0x006217e9
006217dc : MOVAPS XMM0,XMM5
006217df : DIVSS XMM0,XMM2
006217e3 : MOVSS dword ptr [ESP + 0x14],XMM0
006217e9 : MOVSS XMM4,dword ptr [EDI + 0x54]
006217ee : MOVAPS XMM0,XMM4
006217f1 : SUBSS XMM0,XMM2
006217f5 : UCOMISS XMM0,XMM3
006217f8 : LAHF
006217f9 : TEST AH,0x44
006217fc : JP 0x00621806
006217fe : MOVSS dword ptr [ESP + 0x18],XMM3
00621804 : JMP 0x00621813
00621806 : MOVAPS XMM2,XMM5
00621809 : DIVSS XMM2,XMM0
0062180d : MOVSS dword ptr [ESP + 0x18],XMM2
00621813 : MOVAPS XMM0,XMM5
00621816 : SUBSS XMM0,XMM4
0062181a : UCOMISS XMM0,XMM3
0062181d : LAHF
0062181e : TEST AH,0x44
00621821 : JP 0x0062182b
00621823 : MOVSS dword ptr [ESP + 0x1c],XMM3
00621829 : JMP 0x00621838
0062182b : MOVAPS XMM2,XMM5
0062182e : DIVSS XMM2,XMM0
00621832 : MOVSS dword ptr [ESP + 0x1c],XMM2
00621838 : MOVSS XMM2,dword ptr [EDI + 0x78]
0062183d : UCOMISS XMM2,XMM3
00621840 : LAHF
00621841 : TEST AH,0x44
00621844 : JP 0x0062184e
00621846 : MOVSS dword ptr [ESP + 0x20],XMM3
0062184c : JMP 0x0062185b
0062184e : MOVAPS XMM0,XMM5
00621851 : DIVSS XMM0,XMM2
00621855 : MOVSS dword ptr [ESP + 0x20],XMM0
0062185b : MOVAPS XMM0,XMM5
0062185e : SUBSS XMM0,XMM2
00621862 : UCOMISS XMM0,XMM3
00621865 : LAHF
00621866 : TEST AH,0x44
00621869 : JP 0x00621873
0062186b : MOVSS dword ptr [ESP + 0x24],XMM3
00621871 : JMP 0x00621880
00621873 : MOVAPS XMM2,XMM5
00621876 : DIVSS XMM2,XMM0
0062187a : MOVSS dword ptr [ESP + 0x24],XMM2
00621880 : MOVSS XMM4,dword ptr [EDI + 0x50]
00621885 : COMISS XMM4,XMM1
00621888 : MOVAPS XMM0,XMM1
0062188b : JC 0x006218f3
0062188d : MOVSS XMM2,dword ptr [EDI + 0x10]
00621892 : MOVSS XMM4,dword ptr [EDI + 0x20]
00621897 : MULSS XMM0,dword ptr [ESP + 0x14]
0062189d : SUBSS XMM4,XMM2
006218a1 : MULSS XMM4,XMM0
006218a5 : ADDSS XMM4,XMM2
006218a9 : MOVSS dword ptr [ESI + 0x40],XMM4
006218ae : MOVSS XMM2,dword ptr [EDI + 0x14]
006218b3 : MOVSS XMM4,dword ptr [EDI + 0x24]
006218b8 : SUBSS XMM4,XMM2
006218bc : MULSS XMM4,XMM0
006218c0 : ADDSS XMM4,XMM2
006218c4 : MOVSS dword ptr [ESI + 0x44],XMM4
006218c9 : MOVSS XMM2,dword ptr [EDI + 0x18]
006218ce : MOVSS XMM4,dword ptr [EDI + 0x28]
006218d3 : SUBSS XMM4,XMM2
006218d7 : MULSS XMM4,XMM0
006218db : ADDSS XMM4,XMM2
006218df : MOVSS dword ptr [ESI + 0x48],XMM4
006218e4 : MOVSS XMM2,dword ptr [EDI + 0x1c]
006218e9 : MOVSS XMM4,dword ptr [EDI + 0x2c]
006218ee : JMP 0x006219c9
006218f3 : MOVSS XMM2,dword ptr [EDI + 0x54]
006218f8 : COMISS XMM2,XMM1
006218fb : JC 0x00621964
006218fd : MOVSS XMM2,dword ptr [EDI + 0x20]
00621902 : SUBSS XMM0,XMM4
00621906 : MOVSS XMM4,dword ptr [EDI + 0x30]
0062190b : MULSS XMM0,dword ptr [ESP + 0x18]
00621911 : SUBSS XMM4,XMM2
00621915 : MULSS XMM4,XMM0
00621919 : ADDSS XMM4,XMM2
0062191d : MOVSS dword ptr [ESI + 0x40],XMM4
00621922 : MOVSS XMM2,dword ptr [EDI + 0x24]
00621927 : MOVSS XMM4,dword ptr [EDI + 0x34]
0062192c : SUBSS XMM4,XMM2
00621930 : MULSS XMM4,XMM0
00621934 : ADDSS XMM4,XMM2
00621938 : MOVSS dword ptr [ESI + 0x44],XMM4
0062193d : MOVSS XMM2,dword ptr [EDI + 0x28]
00621942 : MOVSS XMM4,dword ptr [EDI + 0x38]
00621947 : SUBSS XMM4,XMM2
0062194b : MULSS XMM4,XMM0
0062194f : ADDSS XMM4,XMM2
00621953 : MOVSS dword ptr [ESI + 0x48],XMM4
00621958 : MOVSS XMM2,dword ptr [EDI + 0x2c]
0062195d : MOVSS XMM4,dword ptr [EDI + 0x3c]
00621962 : JMP 0x006219c9
00621964 : MOVSS XMM4,dword ptr [EDI + 0x40]
00621969 : SUBSS XMM0,XMM2
0062196d : MOVSS XMM2,dword ptr [EDI + 0x30]
00621972 : MULSS XMM0,dword ptr [ESP + 0x1c]
00621978 : SUBSS XMM4,XMM2
0062197c : MULSS XMM4,XMM0
00621980 : ADDSS XMM4,XMM2
00621984 : MOVSS dword ptr [ESI + 0x40],XMM4
00621989 : MOVSS XMM2,dword ptr [EDI + 0x34]
0062198e : MOVSS XMM4,dword ptr [EDI + 0x44]
00621993 : SUBSS XMM4,XMM2
00621997 : MULSS XMM4,XMM0
0062199b : ADDSS XMM4,XMM2
0062199f : MOVSS dword ptr [ESI + 0x44],XMM4
006219a4 : MOVSS XMM2,dword ptr [EDI + 0x38]
006219a9 : MOVSS XMM4,dword ptr [EDI + 0x48]
006219ae : SUBSS XMM4,XMM2
006219b2 : MULSS XMM4,XMM0
006219b6 : ADDSS XMM4,XMM2
006219ba : MOVSS dword ptr [ESI + 0x48],XMM4
006219bf : MOVSS XMM2,dword ptr [EDI + 0x3c]
006219c4 : MOVSS XMM4,dword ptr [EDI + 0x4c]
006219c9 : SUBSS XMM4,XMM2
006219cd : MULSS XMM4,XMM0
006219d1 : ADDSS XMM4,XMM2
006219d5 : MOVSS dword ptr [ESI + 0x4c],XMM4
006219da : MOVSS XMM2,dword ptr [EDI + 0x78]
006219df : COMISS XMM2,XMM1
006219e2 : JBE 0x00621a07
006219e4 : MOVSS XMM0,dword ptr [ESI + 0x8]
006219e9 : MOVSS XMM2,dword ptr [ESI + 0xc]
006219ee : MULSS XMM1,dword ptr [ESP + 0x20]
006219f4 : SUBSS XMM2,XMM0
006219f8 : MULSS XMM2,XMM1
006219fc : ADDSS XMM2,XMM0
00621a00 : MOVSS dword ptr [ESI + 0x54],XMM2
00621a05 : JMP 0x00621a2c
00621a07 : MOVSS XMM0,dword ptr [ESI + 0xc]
00621a0c : SUBSS XMM1,XMM2
00621a10 : MULSS XMM1,dword ptr [ESP + 0x24]
00621a16 : MOVSS XMM2,dword ptr [ESI + 0x10]
00621a1b : SUBSS XMM2,XMM0
00621a1f : MULSS XMM1,XMM2
00621a23 : ADDSS XMM1,XMM0
00621a27 : MOVSS dword ptr [ESI + 0x54],XMM1
00621a2c : MOVSS XMM0,dword ptr [ESI + 0x14]
00621a31 : MULSS XMM0,XMM6
00621a35 : ADDSS XMM0,dword ptr [ESI + 0x58]
00621a3a : MOVSS dword ptr [ESI + 0x58],XMM0
00621a3f : CMP dword ptr [EDI + 0x124],0x0
00621a46 : JZ 0x00621b19
00621a4c : MOV ECX,dword ptr [EDI + 0x68]
00621a4f : TEST CL,0x2
00621a52 : JZ 0x00621af5
00621a58 : UCOMISS XMM7,XMM3
00621a5b : LAHF
00621a5c : TEST AH,0x44
00621a5f : JP 0x00621aa3
00621a61 : TEST CL,0x4
00621a64 : JZ 0x00621aa3
00621a66 : CALL 0x00635d2f
00621a6b : CDQ
00621a6c : MOV ECX,0x64
00621a71 : IDIV ECX
00621a73 : CVTSI2SS XMM1,dword ptr [EDI + 0x124]
00621a7b : XORPS XMM3,XMM3
00621a7e : MOVSS XMM6,dword ptr [ESP + 0x10]
00621a84 : MOVSS XMM5,dword ptr [0x00b86060]
00621a8c : CVTSI2SS XMM0,EDX
00621a90 : MULSS XMM0,dword ptr [0x00cdf23c]
00621a98 : MULSS XMM0,XMM1
00621a9c : CVTTSS2SI EDX,XMM0
00621aa0 : MOV dword ptr [ESI + 0x18],EDX
00621aa3 : FLD float ptr [EDI + 0x108]
00621aa9 : FMUL float ptr [ESI + 0x50]
00621aac : FNSTCW word ptr [ESP + 0x40]
00621ab0 : MOVZX EAX,word ptr [ESP + 0x40]
00621ab5 : OR EAX,0xc00
00621aba : MOV dword ptr [ESP + 0x2c],EAX
00621abe : FLDCW word ptr [ESP + 0x2c]
00621ac2 : FISTP qword ptr [ESP + 0x2c]
00621ac6 : MOV EAX,dword ptr [ESP + 0x2c]
00621aca : ADD EAX,dword ptr [ESI + 0x18]
00621acd : TEST dword ptr [EDI + 0x68],0x40000
00621ad4 : FLDCW word ptr [ESP + 0x40]
00621ad8 : JZ 0x00621aea
00621ada : MOV ECX,dword ptr [EDI + 0x124]
00621ae0 : CMP EAX,ECX
00621ae2 : JC 0x00621aea
00621ae4 : DEC ECX
00621ae5 : MOV dword ptr [ESI + 0x5c],ECX
00621ae8 : JMP 0x00621af5
00621aea : XOR EDX,EDX
00621aec : DIV dword ptr [EDI + 0x124]
00621af2 : MOV dword ptr [ESI + 0x5c],EDX
00621af5 : CMP dword ptr [EDI + 0x124],0x0
00621afc : JZ 0x00621b19
00621afe : TEST byte ptr [EDI + 0x68],0x1
00621b02 : JZ 0x00621b19
00621b04 : MOV EAX,dword ptr [ESI + 0x18]
00621b07 : MOV dword ptr [ESI + 0x5c],EAX
00621b0a : CMP EAX,dword ptr [EDI + 0x124]
00621b10 : JL 0x00621b19
00621b12 : MOV dword ptr [ESI + 0x5c],0x0
00621b19 : MOV EAX,dword ptr [ESI + 0x7c]
00621b1c : TEST dword ptr [EAX + 0x100],0x200
00621b26 : JZ 0x00621b5f
00621b28 : TEST dword ptr [EDI + 0x68],0x100
00621b2f : FLD float ptr [ESP + 0x10]
00621b33 : PUSH ECX
00621b34 : FSTP float ptr [ESP]
00621b37 : JZ 0x00621b45
00621b39 : PUSH EAX
00621b3a : PUSH ESI
00621b3b : CALL 0x0061eef0
00621b40 : ADD ESP,0xc
00621b43 : JMP 0x00621b4e
00621b45 : PUSH ESI
00621b46 : CALL 0x0061c7d0
00621b4b : ADD ESP,0x8
00621b4e : MOVSS XMM5,dword ptr [0x00b86060]
00621b56 : MOVSS XMM6,dword ptr [ESP + 0x10]
00621b5c : XORPS XMM3,XMM3
00621b5f : TEST dword ptr [EDI + 0x68],0x20000000
00621b66 : JNZ 0x00621b72
00621b68 : ADDSS XMM6,dword ptr [ESI + 0x50]
00621b6d : MOVSS dword ptr [ESI + 0x50],XMM6
00621b72 : TEST dword ptr [EDI + 0x68],0x10000000
00621b79 : JZ 0x00621b97
00621b7b : MOVSS XMM0,dword ptr [ESI + 0x1c]
00621b80 : MOVSS XMM1,dword ptr [ESI + 0x50]
00621b85 : COMISS XMM1,XMM0
00621b88 : JC 0x00621b97
00621b8a : SUBSS XMM0,dword ptr [0x00cdf32c]
00621b92 : MOVSS dword ptr [ESI + 0x50],XMM0
00621b97 : TEST dword ptr [EDI + 0x68],0x100000
00621b9e : JZ 0x00621bb0
00621ba0 : MOVSS XMM0,dword ptr [ESI + 0x50]
00621ba5 : COMISS XMM0,dword ptr [ESI + 0x1c]
00621ba9 : JC 0x00621bb0
00621bab : MOVSS dword ptr [ESI + 0x50],XMM3
00621bb0 : LEA EAX,[EBP + -0x1]
00621bb3 : LEA ECX,[EBP + 0x83]
00621bb9 : NOT EAX
00621bbb : INC EBX
00621bbc : AND EAX,ECX
00621bbe : MOV ECX,dword ptr [ESP + 0x34]
00621bc2 : LEA ESI,[ESI + EAX*0x1 + 0x10]
00621bc6 : CMP EBX,dword ptr [ESP + 0x38]
00621bca : JL 0x00621760
00621bd0 : POP EDI
00621bd1 : POP ESI
00621bd2 : POP EBP
00621bd3 : POP EBX
00621bd4 : ADD ESP,0x2c
00621bd7 : RET
