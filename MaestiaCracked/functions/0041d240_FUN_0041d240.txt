PROGRAM  : Maestia.exe
FUNCTION : FUN_0041d240
ENTRY    : 0041d240
BODY     : [[0041d240, 0041d4cf]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0041d359) */
/* WARNING: Removing unreachable block (ram,0x0041d369) */
/* WARNING: Removing unreachable block (ram,0x0041d372) */
/* WARNING: Removing unreachable block (ram,0x0041d375) */
/* WARNING: Removing unreachable block (ram,0x0041d365) */
/* WARNING: Removing unreachable block (ram,0x0041d382) */
/* WARNING: Removing unreachable block (ram,0x0041d392) */
/* WARNING: Removing unreachable block (ram,0x0041d39d) */
/* WARNING: Removing unreachable block (ram,0x0041d399) */
/* WARNING: Removing unreachable block (ram,0x0041d38d) */
/* WARNING: Removing unreachable block (ram,0x0041d3a0) */
/* WARNING: Removing unreachable block (ram,0x0041d3b0) */
/* WARNING: Removing unreachable block (ram,0x0041d3b8) */

void FUN_0041d240(int param_1,undefined4 param_2,int *param_3)

{
  int *piVar1;
  undefined4 uVar2;
  int *piVar3;
  int *piVar4;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  undefined4 *local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7bf38;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x11) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_0045d060(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar4 = (int *)*param_3;
  if (*(char *)((int)piVar4 + 0x11) == '\0') {
    if (*(char *)(param_3[2] + 0x11) == '\0') {
      piVar4 = (int *)param_3[2];
    }
  }
  else {
    piVar4 = (int *)param_3[2];
  }
  piVar3 = (int *)param_3[1];
  if (*(char *)((int)piVar4 + 0x11) == '\0') {
    piVar4[1] = (int)piVar3;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar4;
  }
  else if ((int *)*piVar3 == param_3) {
    *piVar3 = (int)piVar4;
  }
  else {
    piVar3[2] = (int)piVar4;
  }
  local_1c = *(undefined4 **)(param_1 + 4);
  if ((int *)*local_1c == param_3) {
    piVar1 = piVar3;
    if (*(char *)((int)piVar4 + 0x11) == '\0') {
      piVar1 = (int *)FUN_0041d500();
    }
    *local_1c = piVar1;
  }
  local_1c = *(undefined4 **)(param_1 + 4);
  if (*(int **)((int)local_1c + 8) == param_3) {
    if (*(char *)((int)piVar4 + 0x11) == '\0') {
      uVar2 = FUN_00425510();
      *(undefined4 *)((int)local_1c + 8) = uVar2;
    }
    else {
      *(int **)((int)local_1c + 8) = piVar3;
    }
  }
  if ((char)local_18[4] == '\x01') {
    if (piVar4 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar1 = piVar3;
        if ((char)piVar4[4] != '\x01') break;
        piVar3 = (int *)*piVar1;
        if (piVar4 == piVar3) {
          piVar3 = (int *)piVar1[2];
          if ((char)piVar3[4] == '\0') {
            *(undefined1 *)(piVar3 + 4) = 1;
            *(undefined1 *)(piVar1 + 4) = 0;
            FUN_0045dd00(param_1);
            piVar3 = (int *)piVar1[2];
          }
          if (*(char *)((int)piVar3 + 0x11) == '\0') {
            if ((*(char *)(*piVar3 + 0x10) != '\x01') || (*(char *)(piVar3[2] + 0x10) != '\x01')) {
              if (*(char *)(piVar3[2] + 0x10) == '\x01') {
                *(undefined1 *)(*piVar3 + 0x10) = 1;
                *(undefined1 *)(piVar3 + 4) = 0;
                FUN_0047ce80(param_1);
                piVar3 = (int *)piVar1[2];
              }
              *(char *)(piVar3 + 4) = (char)piVar1[4];
              *(undefined1 *)(piVar1 + 4) = 1;
              *(undefined1 *)(piVar3[2] + 0x10) = 1;
              FUN_0045dd00(param_1);
              break;
            }
LAB_0041d47c:
            *(undefined1 *)(piVar3 + 4) = 0;
          }
        }
        else {
          if ((char)piVar3[4] == '\0') {
            *(undefined1 *)(piVar3 + 4) = 1;
            *(undefined1 *)(piVar1 + 4) = 0;
            FUN_0047ce80(param_1);
            piVar3 = (int *)*piVar1;
          }
          if (*(char *)((int)piVar3 + 0x11) == '\0') {
            if ((*(char *)(piVar3[2] + 0x10) == '\x01') && (*(char *)(*piVar3 + 0x10) == '\x01'))
            goto LAB_0041d47c;
            if (*(char *)(*piVar3 + 0x10) == '\x01') {
              *(undefined1 *)(piVar3[2] + 0x10) = 1;
              *(undefined1 *)(piVar3 + 4) = 0;
              FUN_0045dd00(param_1);
              piVar3 = (int *)*piVar1;
            }
            *(char *)(piVar3 + 4) = (char)piVar1[4];
            *(undefined1 *)(piVar1 + 4) = 1;
            *(undefined1 *)(*piVar3 + 0x10) = 1;
            FUN_0047ce80(param_1);
            break;
          }
        }
        piVar3 = (int *)piVar1[1];
        piVar4 = piVar1;
      } while (piVar1 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar4 + 4) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0041d240 : PUSH EBP
0041d241 : MOV EBP,ESP
0041d243 : PUSH -0x1
0041d245 : PUSH 0xb7bf38
0041d24a : MOV EAX,FS:[0x0]
0041d250 : PUSH EAX
0041d251 : SUB ESP,0x50
0041d254 : PUSH EBX
0041d255 : PUSH ESI
0041d256 : PUSH EDI
0041d257 : MOV EAX,[0x00d66fa0]
0041d25c : XOR EAX,EBP
0041d25e : PUSH EAX
0041d25f : LEA EAX,[EBP + -0xc]
0041d262 : MOV FS:[0x0],EAX
0041d268 : MOV EAX,dword ptr [EBP + 0x10]
0041d26b : CMP byte ptr [EAX + 0x11],0x0
0041d26f : JZ 0x0041d2ad
0041d271 : PUSH 0x1b
0041d273 : XOR ESI,ESI
0041d275 : PUSH 0xcca4a8
0041d27a : LEA ECX,[EBP + -0x34]
0041d27d : MOV dword ptr [EBP + -0x1c],0xf
0041d284 : MOV dword ptr [EBP + -0x20],ESI
0041d287 : MOV byte ptr [EBP + -0x30],0x0
0041d28b : CALL 0x00404b50
0041d290 : MOV dword ptr [EBP + -0x4],ESI
0041d293 : LEA EAX,[EBP + -0x34]
0041d296 : PUSH EAX
0041d297 : LEA ECX,[EBP + -0x5c]
0041d29a : CALL 0x00403c10
0041d29f : PUSH 0xced890
0041d2a4 : LEA ECX,[EBP + -0x5c]
0041d2a7 : PUSH ECX
0041d2a8 : CALL 0x006409eb
0041d2ad : MOV EBX,EAX
0041d2af : LEA EDX,[EBP + 0x10]
0041d2b2 : MOV dword ptr [EBP + -0x14],EBX
0041d2b5 : CALL 0x0045d060
0041d2ba : MOV ECX,dword ptr [EBX]
0041d2bc : CMP byte ptr [ECX + 0x11],0x0
0041d2c0 : JZ 0x0041d2c7
0041d2c2 : MOV EDI,dword ptr [EBX + 0x8]
0041d2c5 : JMP 0x0041d2e1
0041d2c7 : MOV EDX,dword ptr [EBX + 0x8]
0041d2ca : CMP byte ptr [EDX + 0x11],0x0
0041d2ce : JZ 0x0041d2d4
0041d2d0 : MOV EDI,ECX
0041d2d2 : JMP 0x0041d2e1
0041d2d4 : MOV EAX,dword ptr [EBP + 0x10]
0041d2d7 : MOV EDI,dword ptr [EAX + 0x8]
0041d2da : LEA EDX,[EAX + 0x8]
0041d2dd : CMP EAX,EBX
0041d2df : JNZ 0x0041d359
0041d2e1 : CMP byte ptr [EDI + 0x11],0x0
0041d2e5 : MOV ESI,dword ptr [EBX + 0x4]
0041d2e8 : JNZ 0x0041d2ed
0041d2ea : MOV dword ptr [EDI + 0x4],ESI
0041d2ed : MOV EDX,dword ptr [EBP + 0x8]
0041d2f0 : MOV EAX,dword ptr [EDX + 0x4]
0041d2f3 : CMP dword ptr [EAX + 0x4],EBX
0041d2f6 : JNZ 0x0041d2fd
0041d2f8 : MOV dword ptr [EAX + 0x4],EDI
0041d2fb : JMP 0x0041d308
0041d2fd : CMP dword ptr [ESI],EBX
0041d2ff : JNZ 0x0041d305
0041d301 : MOV dword ptr [ESI],EDI
0041d303 : JMP 0x0041d308
0041d305 : MOV dword ptr [ESI + 0x8],EDI
0041d308 : MOV ECX,dword ptr [EDX + 0x4]
0041d30b : MOV dword ptr [EBP + -0x18],ECX
0041d30e : CMP dword ptr [ECX],EBX
0041d310 : JNZ 0x0041d32b
0041d312 : CMP byte ptr [EDI + 0x11],0x0
0041d316 : JZ 0x0041d31c
0041d318 : MOV EAX,ESI
0041d31a : JMP 0x0041d329
0041d31c : MOV EAX,EDI
0041d31e : CALL 0x0041d500
0041d323 : MOV EDX,dword ptr [EBP + 0x8]
0041d326 : MOV ECX,dword ptr [EBP + -0x18]
0041d329 : MOV dword ptr [ECX],EAX
0041d32b : MOV ECX,dword ptr [EDX + 0x4]
0041d32e : MOV dword ptr [EBP + -0x18],ECX
0041d331 : CMP dword ptr [ECX + 0x8],EBX
0041d334 : JNZ 0x0041d3bb
0041d33a : CMP byte ptr [EDI + 0x11],0x0
0041d33e : JZ 0x0041d347
0041d340 : MOV EAX,ESI
0041d342 : MOV dword ptr [ECX + 0x8],EAX
0041d345 : JMP 0x0041d3bb
0041d347 : MOV EAX,EDI
0041d349 : CALL 0x00425510
0041d34e : MOV ECX,dword ptr [EBP + -0x18]
0041d351 : MOV EDX,dword ptr [EBP + 0x8]
0041d354 : MOV dword ptr [ECX + 0x8],EAX
0041d357 : JMP 0x0041d3bb
0041d359 : MOV dword ptr [ECX + 0x4],EAX
0041d35c : MOV ECX,dword ptr [EBX]
0041d35e : MOV dword ptr [EAX],ECX
0041d360 : CMP EAX,dword ptr [EBX + 0x8]
0041d363 : JNZ 0x0041d369
0041d365 : MOV ESI,EAX
0041d367 : JMP 0x0041d382
0041d369 : CMP byte ptr [EDI + 0x11],0x0
0041d36d : MOV ESI,dword ptr [EAX + 0x4]
0041d370 : JNZ 0x0041d375
0041d372 : MOV dword ptr [EDI + 0x4],ESI
0041d375 : MOV dword ptr [ESI],EDI
0041d377 : MOV ECX,dword ptr [EBX + 0x8]
0041d37a : MOV dword ptr [EDX],ECX
0041d37c : MOV EDX,dword ptr [EBX + 0x8]
0041d37f : MOV dword ptr [EDX + 0x4],EAX
0041d382 : MOV ECX,dword ptr [EBP + 0x8]
0041d385 : MOV ECX,dword ptr [ECX + 0x4]
0041d388 : CMP dword ptr [ECX + 0x4],EBX
0041d38b : JNZ 0x0041d392
0041d38d : MOV dword ptr [ECX + 0x4],EAX
0041d390 : JMP 0x0041d3a0
0041d392 : MOV ECX,dword ptr [EBX + 0x4]
0041d395 : CMP dword ptr [ECX],EBX
0041d397 : JNZ 0x0041d39d
0041d399 : MOV dword ptr [ECX],EAX
0041d39b : JMP 0x0041d3a0
0041d39d : MOV dword ptr [ECX + 0x8],EAX
0041d3a0 : MOV EDX,dword ptr [EBX + 0x4]
0041d3a3 : MOV dword ptr [EAX + 0x4],EDX
0041d3a6 : LEA ECX,[EBX + 0x10]
0041d3a9 : ADD EAX,0x10
0041d3ac : CMP EAX,ECX
0041d3ae : JZ 0x0041d3b8
0041d3b0 : MOV BL,byte ptr [ECX]
0041d3b2 : MOV DL,byte ptr [EAX]
0041d3b4 : MOV byte ptr [EAX],BL
0041d3b6 : MOV byte ptr [ECX],DL
0041d3b8 : MOV EDX,dword ptr [EBP + 0x8]
0041d3bb : MOV EAX,dword ptr [EBP + -0x14]
0041d3be : MOV BL,0x1
0041d3c0 : CMP byte ptr [EAX + 0x10],BL
0041d3c3 : JNZ 0x0041d4c8
0041d3c9 : MOV ECX,dword ptr [EDX + 0x4]
0041d3cc : CMP EDI,dword ptr [ECX + 0x4]
0041d3cf : JZ 0x0041d4c5
0041d3d5 : CMP byte ptr [EDI + 0x10],BL
0041d3d8 : JNZ 0x0041d4c5
0041d3de : MOV ECX,dword ptr [ESI]
0041d3e0 : CMP EDI,ECX
0041d3e2 : JNZ 0x0041d44d
0041d3e4 : MOV ECX,dword ptr [ESI + 0x8]
0041d3e7 : CMP byte ptr [ECX + 0x10],0x0
0041d3eb : JNZ 0x0041d402
0041d3ed : MOV byte ptr [ECX + 0x10],BL
0041d3f0 : PUSH EDX
0041d3f1 : MOV ECX,ESI
0041d3f3 : MOV byte ptr [ESI + 0x10],0x0
0041d3f7 : CALL 0x0045dd00
0041d3fc : MOV ECX,dword ptr [ESI + 0x8]
0041d3ff : MOV EDX,dword ptr [EBP + 0x8]
0041d402 : CMP byte ptr [ECX + 0x11],0x0
0041d406 : JNZ 0x0041d480
0041d408 : MOV EAX,dword ptr [ECX]
0041d40a : CMP byte ptr [EAX + 0x10],BL
0041d40d : JNZ 0x0041d417
0041d40f : MOV EAX,dword ptr [ECX + 0x8]
0041d412 : CMP byte ptr [EAX + 0x10],BL
0041d415 : JZ 0x0041d47c
0041d417 : MOV EAX,dword ptr [ECX + 0x8]
0041d41a : CMP byte ptr [EAX + 0x10],BL
0041d41d : JNZ 0x0041d434
0041d41f : MOV EAX,dword ptr [ECX]
0041d421 : MOV byte ptr [EAX + 0x10],BL
0041d424 : PUSH EDX
0041d425 : MOV byte ptr [ECX + 0x10],0x0
0041d429 : CALL 0x0047ce80
0041d42e : MOV ECX,dword ptr [ESI + 0x8]
0041d431 : MOV EDX,dword ptr [EBP + 0x8]
0041d434 : MOV AL,byte ptr [ESI + 0x10]
0041d437 : MOV byte ptr [ECX + 0x10],AL
0041d43a : MOV byte ptr [ESI + 0x10],BL
0041d43d : MOV ECX,dword ptr [ECX + 0x8]
0041d440 : MOV byte ptr [ECX + 0x10],BL
0041d443 : PUSH EDX
0041d444 : MOV ECX,ESI
0041d446 : CALL 0x0045dd00
0041d44b : JMP 0x0041d4c5
0041d44d : CMP byte ptr [ECX + 0x10],0x0
0041d451 : JNZ 0x0041d467
0041d453 : MOV byte ptr [ECX + 0x10],BL
0041d456 : PUSH EDX
0041d457 : MOV ECX,ESI
0041d459 : MOV byte ptr [ESI + 0x10],0x0
0041d45d : CALL 0x0047ce80
0041d462 : MOV ECX,dword ptr [ESI]
0041d464 : MOV EDX,dword ptr [EBP + 0x8]
0041d467 : CMP byte ptr [ECX + 0x11],0x0
0041d46b : JNZ 0x0041d480
0041d46d : MOV EAX,dword ptr [ECX + 0x8]
0041d470 : CMP byte ptr [EAX + 0x10],BL
0041d473 : JNZ 0x0041d493
0041d475 : MOV EAX,dword ptr [ECX]
0041d477 : CMP byte ptr [EAX + 0x10],BL
0041d47a : JNZ 0x0041d493
0041d47c : MOV byte ptr [ECX + 0x10],0x0
0041d480 : MOV ECX,dword ptr [EDX + 0x4]
0041d483 : MOV EDI,ESI
0041d485 : MOV ESI,dword ptr [ESI + 0x4]
0041d488 : CMP EDI,dword ptr [ECX + 0x4]
0041d48b : JNZ 0x0041d3d5
0041d491 : JMP 0x0041d4c5
0041d493 : MOV EAX,dword ptr [ECX]
0041d495 : CMP byte ptr [EAX + 0x10],BL
0041d498 : JNZ 0x0041d4af
0041d49a : MOV EAX,dword ptr [ECX + 0x8]
0041d49d : MOV byte ptr [EAX + 0x10],BL
0041d4a0 : PUSH EDX
0041d4a1 : MOV byte ptr [ECX + 0x10],0x0
0041d4a5 : CALL 0x0045dd00
0041d4aa : MOV ECX,dword ptr [ESI]
0041d4ac : MOV EDX,dword ptr [EBP + 0x8]
0041d4af : MOV AL,byte ptr [ESI + 0x10]
0041d4b2 : MOV byte ptr [ECX + 0x10],AL
0041d4b5 : MOV byte ptr [ESI + 0x10],BL
0041d4b8 : MOV ECX,dword ptr [ECX]
0041d4ba : MOV byte ptr [ECX + 0x10],BL
0041d4bd : PUSH EDX
0041d4be : MOV ECX,ESI
0041d4c0 : CALL 0x0047ce80
0041d4c5 : MOV byte ptr [EDI + 0x10],BL
0041d4c8 : MOV ECX,dword ptr [EBP + -0x14]
0041d4cb : CALL 0x006f04e0
