PROGRAM  : Maestia.exe
FUNCTION : FUN_00584830
ENTRY    : 00584830
BODY     : [[00584830, 005848e9]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00584830(undefined4 *param_1,undefined4 *param_2,undefined4 param_3)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  int in_ECX;
  uint uVar3;
  
  FUN_0051b490();
  puVar1 = param_1;
  uVar3 = 0;
  if (*(int *)(in_ECX + 0x38) != 0) {
    do {
      if (uVar3 != 0) {
        FUN_0051b5d0(param_3,0xffffffff);
      }
      if (*(int *)(*(int *)(in_ECX + 0x34) + uVar3 * 4) == 0) {
        FUN_005272e0(&param_1,puVar1,0xffffffff,0);
        FUN_0051b5d0(*param_1,0xffffffff);
        puVar2 = param_1;
      }
      else {
        FUN_005272e0(&param_2,puVar1,0xffffffff,0);
        FUN_0051b5d0(*param_2,0xffffffff);
        puVar2 = param_2;
      }
      puVar2[2] = puVar2[2] + -1;
      if (puVar2[2] == 0) {
        FUN_00525340();
      }
      uVar3 = uVar3 + 1;
    } while (uVar3 < *(uint *)(in_ECX + 0x38));
  }
  FUN_00526bc0();
  return;
}



============================================================
DISASSEMBLY
============================================================
00584830 : SUB ESP,0x10
00584833 : PUSH EBX
00584834 : PUSH EBP
00584835 : PUSH ESI
00584836 : MOV ESI,dword ptr [ESP + 0x24]
0058483a : MOV EBP,ECX
0058483c : MOV ECX,ESI
0058483e : CALL 0x0051b490
00584843 : XOR EBX,EBX
00584845 : MOV byte ptr [ESP + 0xc],0x0
0058484a : CMP dword ptr [EBP + 0x38],EBX
0058484d : JBE 0x005848d8
00584853 : PUSH EDI
00584854 : MOV EDI,dword ptr [ESP + 0x24]
00584858 : TEST EBX,EBX
0058485a : JZ 0x0058486a
0058485c : MOV EAX,dword ptr [ESP + 0x2c]
00584860 : PUSH -0x1
00584862 : PUSH EAX
00584863 : MOV ECX,ESI
00584865 : CALL 0x0051b5d0
0058486a : MOV ECX,dword ptr [EBP + 0x34]
0058486d : CMP dword ptr [ECX + EBX*0x4],0x0
00584871 : PUSH 0x0
00584873 : LEA EAX,[ECX + EBX*0x4]
00584876 : PUSH -0x1
00584878 : PUSH EDI
00584879 : JZ 0x0058489d
0058487b : MOV ECX,dword ptr [EAX]
0058487d : LEA EDX,[ESP + 0x34]
00584881 : PUSH EDX
00584882 : CALL 0x005272e0
00584887 : MOV EAX,dword ptr [ESP + 0x28]
0058488b : MOV ECX,dword ptr [EAX]
0058488d : PUSH -0x1
0058488f : PUSH ECX
00584890 : MOV ECX,ESI
00584892 : CALL 0x0051b5d0
00584897 : MOV EAX,dword ptr [ESP + 0x28]
0058489b : JMP 0x005848bf
0058489d : LEA EDX,[ESP + 0x30]
005848a1 : PUSH EDX
005848a2 : LEA ECX,[ESP + 0x20]
005848a6 : CALL 0x005272e0
005848ab : MOV EAX,dword ptr [ESP + 0x24]
005848af : MOV ECX,dword ptr [EAX]
005848b1 : PUSH -0x1
005848b3 : PUSH ECX
005848b4 : MOV ECX,ESI
005848b6 : CALL 0x0051b5d0
005848bb : MOV EAX,dword ptr [ESP + 0x24]
005848bf : DEC dword ptr [EAX + 0x8]
005848c2 : MOV ECX,EAX
005848c4 : ADD EAX,0x8
005848c7 : CMP dword ptr [EAX],0x0
005848ca : JNZ 0x005848d1
005848cc : CALL 0x00525340
005848d1 : INC EBX
005848d2 : CMP EBX,dword ptr [EBP + 0x38]
005848d5 : JC 0x00584858
005848d7 : POP EDI
005848d8 : LEA ECX,[ESP + 0xc]
005848dc : CALL 0x00526bc0
005848e1 : POP ESI
005848e2 : POP EBP
005848e3 : POP EBX
005848e4 : ADD ESP,0x10
005848e7 : RET 0xc
