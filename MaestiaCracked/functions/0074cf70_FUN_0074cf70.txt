PROGRAM  : Maestia.exe
FUNCTION : FUN_0074cf70
ENTRY    : 0074cf70
BODY     : [[0074cf70, 0074d10e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0074cf70(uint param_1,uint param_2)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int in_EAX;
  uint *in_ECX;
  int iVar5;
  uint *puVar6;
  int iVar7;
  int local_10;
  int local_8;
  
  iVar2 = *(int *)(*(int *)(in_EAX + 0xb0) + 0x54);
  iVar3 = *(int *)(iVar2 + 0x50);
  iVar5 = *(int *)(in_EAX + 0x90) + iVar3;
  iVar4 = *(int *)(iVar2 + 0x4c);
  local_8 = 0;
  if (*(char *)(iVar2 + 0x5e) == '\x01') {
    if (0 < iVar4) {
      do {
        local_10 = 0;
        if (0 < iVar3) {
          do {
            if ((*(byte *)(*(int *)(iVar2 + 0x54) * local_8 + (local_10 >> 3) +
                          *(int *)(iVar2 + 0x58)) & (byte)(0x80 >> ((byte)local_10 & 7))) == 0) {
              if (*in_ECX != *(uint *)(in_EAX + 0x9c)) {
                *in_ECX = param_2;
              }
            }
            else {
              iVar7 = 1;
              *in_ECX = param_1;
              if (0 < *(int *)(in_EAX + 0x90)) {
                puVar6 = in_ECX + iVar5 + 1;
                do {
                  *puVar6 = *(uint *)(in_EAX + 0x9c);
                  iVar7 = iVar7 + 1;
                  puVar6 = puVar6 + iVar5 + 1;
                } while (iVar7 <= *(int *)(in_EAX + 0x90));
              }
            }
            local_10 = local_10 + 1;
            in_ECX = in_ECX + 1;
          } while (local_10 < iVar3);
        }
        in_ECX = in_ECX + *(int *)(in_EAX + 0x90);
        local_8 = local_8 + 1;
      } while (local_8 < iVar4);
      return;
    }
  }
  else if (0 < iVar4) {
    do {
      local_10 = 0;
      if (0 < iVar3) {
        do {
          bVar1 = *(byte *)(*(int *)(iVar2 + 0x54) * local_8 + local_10 + *(int *)(iVar2 + 0x58));
          if (bVar1 < 0x21) {
            if (*in_ECX != *(uint *)(in_EAX + 0x9c)) {
              *in_ECX = param_2;
            }
          }
          else {
            iVar7 = 1;
            *in_ECX = param_1 & 0xffffff | (uint)bVar1 << 0x18;
            if (0 < *(int *)(in_EAX + 0x90)) {
              puVar6 = in_ECX + iVar5 + 1;
              do {
                *puVar6 = *(uint *)(in_EAX + 0x9c);
                iVar7 = iVar7 + 1;
                puVar6 = puVar6 + iVar5 + 1;
              } while (iVar7 <= *(int *)(in_EAX + 0x90));
            }
          }
          local_10 = local_10 + 1;
          in_ECX = in_ECX + 1;
        } while (local_10 < iVar3);
      }
      in_ECX = in_ECX + *(int *)(in_EAX + 0x90);
      local_8 = local_8 + 1;
    } while (local_8 < iVar4);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0074cf70 : PUSH EBP
0074cf71 : MOV EBP,ESP
0074cf73 : SUB ESP,0x18
0074cf76 : PUSH EBX
0074cf77 : PUSH ESI
0074cf78 : MOV ESI,ECX
0074cf7a : MOV ECX,dword ptr [EAX + 0xb0]
0074cf80 : MOV EDX,dword ptr [ECX + 0x54]
0074cf83 : MOV EBX,dword ptr [EDX + 0x50]
0074cf86 : MOV ECX,dword ptr [EAX + 0x90]
0074cf8c : ADD ECX,EBX
0074cf8e : CMP byte ptr [EDX + 0x5e],0x1
0074cf92 : MOV dword ptr [EBP + -0x10],ECX
0074cf95 : MOV ECX,dword ptr [EDX + 0x4c]
0074cf98 : PUSH EDI
0074cf99 : MOV dword ptr [EBP + -0x8],EDX
0074cf9c : MOV dword ptr [EBP + -0x14],EBX
0074cf9f : MOV dword ptr [EBP + -0x18],ECX
0074cfa2 : MOV dword ptr [EBP + -0x4],0x0
0074cfa9 : JNZ 0x0074d05e
0074cfaf : TEST ECX,ECX
0074cfb1 : JLE 0x0074d106
0074cfb7 : XOR ECX,ECX
0074cfb9 : MOV dword ptr [EBP + -0xc],ECX
0074cfbc : TEST EBX,EBX
0074cfbe : JLE 0x0074d03c
0074cfc4 : MOV EDI,dword ptr [EDX + 0x54]
0074cfc7 : IMUL EDI,dword ptr [EBP + -0x4]
0074cfcb : MOV EDX,dword ptr [EDX + 0x58]
0074cfce : MOV EBX,ECX
0074cfd0 : SAR EBX,0x3
0074cfd3 : ADD EDI,EBX
0074cfd5 : AND ECX,0x7
0074cfd8 : MOV EBX,0x80
0074cfdd : SAR EBX,CL
0074cfdf : TEST byte ptr [EDI + EDX*0x1],BL
0074cfe2 : JZ 0x0074d019
0074cfe4 : MOV ECX,dword ptr [EBP + 0x8]
0074cfe7 : MOV EDX,0x1
0074cfec : MOV dword ptr [ESI],ECX
0074cfee : CMP dword ptr [EAX + 0x90],EDX
0074cff4 : JL 0x0074d028
0074cff6 : MOV ECX,dword ptr [EBP + -0x10]
0074cff9 : LEA EDI,[ECX*0x4 + 0x4]
0074d000 : LEA ECX,[ESI + ECX*0x4 + 0x4]
0074d004 : MOV EBX,dword ptr [EAX + 0x9c]
0074d00a : MOV dword ptr [ECX],EBX
0074d00c : INC EDX
0074d00d : ADD ECX,EDI
0074d00f : CMP EDX,dword ptr [EAX + 0x90]
0074d015 : JLE 0x0074d004
0074d017 : JMP 0x0074d028
0074d019 : MOV EDX,dword ptr [ESI]
0074d01b : CMP EDX,dword ptr [EAX + 0x9c]
0074d021 : JZ 0x0074d028
0074d023 : MOV ECX,dword ptr [EBP + 0xc]
0074d026 : MOV dword ptr [ESI],ECX
0074d028 : MOV ECX,dword ptr [EBP + -0xc]
0074d02b : MOV EBX,dword ptr [EBP + -0x14]
0074d02e : MOV EDX,dword ptr [EBP + -0x8]
0074d031 : INC ECX
0074d032 : ADD ESI,0x4
0074d035 : CMP ECX,EBX
0074d037 : MOV dword ptr [EBP + -0xc],ECX
0074d03a : JL 0x0074cfc4
0074d03c : MOV ECX,dword ptr [EAX + 0x90]
0074d042 : LEA ESI,[ESI + ECX*0x4]
0074d045 : MOV ECX,dword ptr [EBP + -0x4]
0074d048 : INC ECX
0074d049 : CMP ECX,dword ptr [EBP + -0x18]
0074d04c : MOV dword ptr [EBP + -0x4],ECX
0074d04f : JL 0x0074cfb7
0074d055 : POP EDI
0074d056 : POP ESI
0074d057 : POP EBX
0074d058 : MOV ESP,EBP
0074d05a : POP EBP
0074d05b : RET 0x8
0074d05e : TEST ECX,ECX
0074d060 : JLE 0x0074d106
0074d066 : XOR EDI,EDI
0074d068 : MOV dword ptr [EBP + -0xc],EDI
0074d06b : TEST EBX,EBX
0074d06d : JLE 0x0074d0ee
0074d073 : MOV ECX,dword ptr [EDX + 0x54]
0074d076 : IMUL ECX,dword ptr [EBP + -0x4]
0074d07a : MOV EBX,dword ptr [EDX + 0x58]
0074d07d : ADD ECX,EDI
0074d07f : MOVZX ECX,byte ptr [ECX + EBX*0x1]
0074d083 : CMP ECX,0x20
0074d086 : JLE 0x0074d0ce
0074d088 : MOV EBX,dword ptr [EBP + 0x8]
0074d08b : SHL ECX,0x18
0074d08e : AND EBX,0xffffff
0074d094 : OR EBX,ECX
0074d096 : MOV ECX,0x1
0074d09b : MOV dword ptr [ESI],EBX
0074d09d : CMP dword ptr [EAX + 0x90],ECX
0074d0a3 : JL 0x0074d0dd
0074d0a5 : MOV EDX,dword ptr [EBP + -0x10]
0074d0a8 : LEA EDI,[EDX*0x4 + 0x4]
0074d0af : LEA EDX,[ESI + EDX*0x4 + 0x4]
0074d0b3 : MOV EBX,dword ptr [EAX + 0x9c]
0074d0b9 : MOV dword ptr [EDX],EBX
0074d0bb : INC ECX
0074d0bc : ADD EDX,EDI
0074d0be : CMP ECX,dword ptr [EAX + 0x90]
0074d0c4 : JLE 0x0074d0b3
0074d0c6 : MOV EDX,dword ptr [EBP + -0x8]
0074d0c9 : MOV EDI,dword ptr [EBP + -0xc]
0074d0cc : JMP 0x0074d0dd
0074d0ce : MOV ECX,dword ptr [ESI]
0074d0d0 : CMP ECX,dword ptr [EAX + 0x9c]
0074d0d6 : JZ 0x0074d0dd
0074d0d8 : MOV ECX,dword ptr [EBP + 0xc]
0074d0db : MOV dword ptr [ESI],ECX
0074d0dd : MOV EBX,dword ptr [EBP + -0x14]
0074d0e0 : INC EDI
0074d0e1 : ADD ESI,0x4
0074d0e4 : CMP EDI,EBX
0074d0e6 : MOV dword ptr [EBP + -0xc],EDI
0074d0e9 : JL 0x0074d073
0074d0eb : MOV ECX,dword ptr [EBP + -0x18]
0074d0ee : MOV EDI,dword ptr [EAX + 0x90]
0074d0f4 : LEA ESI,[ESI + EDI*0x4]
0074d0f7 : MOV EDI,dword ptr [EBP + -0x4]
0074d0fa : INC EDI
0074d0fb : CMP EDI,ECX
0074d0fd : MOV dword ptr [EBP + -0x4],EDI
0074d100 : JL 0x0074d066
0074d106 : POP EDI
0074d107 : POP ESI
0074d108 : POP EBX
0074d109 : MOV ESP,EBP
0074d10b : POP EBP
0074d10c : RET 0x8
