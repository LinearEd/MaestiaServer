PROGRAM  : Maestia.exe
FUNCTION : FUN_006e26c0
ENTRY    : 006e26c0
BODY     : [[006e26c0, 006e26ec] [006e26f0, 006e2739] [006e2740, 006e27a4]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006e26c0(int *param_1,int *param_2)

{
  int iVar1;
  int iVar2;
  int iVar3;
  bool bVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  
  iVar2 = param_1[0x19];
  iVar3 = param_1[0x15];
  iVar7 = 1;
  do {
    iVar8 = iVar7;
    iVar7 = iVar8 + 1;
    iVar5 = iVar7;
    if (1 < iVar2) {
      iVar6 = iVar2 + -1;
      do {
        iVar5 = iVar5 * iVar7;
        iVar6 = iVar6 + -1;
      } while (iVar6 != 0);
    }
  } while (iVar5 <= iVar3);
  if (iVar8 < 2) {
    *(undefined4 *)(*param_1 + 0x14) = 0x38;
    *(int *)(*param_1 + 0x18) = iVar5;
    (**(code **)*param_1)(param_1);
  }
  iVar5 = 1;
  iVar7 = iVar2;
  piVar9 = param_2;
  if (0 < iVar2) {
    for (; iVar6 = iVar2, iVar7 != 0; iVar7 = iVar7 + -1) {
      *piVar9 = iVar8;
      piVar9 = piVar9 + 1;
    }
    do {
      iVar5 = iVar5 * iVar8;
      iVar6 = iVar6 + -1;
    } while (iVar6 != 0);
  }
  do {
    iVar8 = 0;
    bVar4 = false;
    iVar7 = iVar5;
    if (iVar2 < 1) {
      return iVar5;
    }
    do {
      iVar6 = iVar8;
      if (param_1[0xb] == 2) {
        iVar6 = (&DAT_00bf1970)[iVar8];
      }
      iVar1 = param_2[iVar6] + 1;
      iVar5 = (iVar7 / param_2[iVar6]) * iVar1;
      if (iVar5 - iVar3 != 0 && iVar3 <= iVar5) {
        iVar5 = iVar7;
        if (!bVar4) {
          return iVar7;
        }
        break;
      }
      iVar8 = iVar8 + 1;
      param_2[iVar6] = iVar1;
      bVar4 = true;
      iVar7 = iVar5;
    } while (iVar8 < iVar2);
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
006e26c0 : SUB ESP,0xc
006e26c3 : PUSH EBX
006e26c4 : PUSH EBP
006e26c5 : PUSH ESI
006e26c6 : PUSH EDI
006e26c7 : MOV EDI,dword ptr [ESP + 0x20]
006e26cb : MOV ESI,dword ptr [EDI + 0x64]
006e26ce : MOV EDX,dword ptr [EDI + 0x54]
006e26d1 : MOV dword ptr [ESP + 0x14],ESI
006e26d5 : MOV dword ptr [ESP + 0x18],EDX
006e26d9 : MOV EBP,0x1
006e26de : MOV EDI,EDI
006e26e0 : INC EBP
006e26e1 : CMP ESI,0x1
006e26e4 : MOV EAX,EBP
006e26e6 : JLE 0x006e26f8
006e26e8 : LEA ECX,[ESI + -0x1]
006e26eb : JMP 0x006e26f0
006e26f0 : IMUL EAX,EBP
006e26f3 : SUB ECX,0x1
006e26f6 : JNZ 0x006e26f0
006e26f8 : CMP EAX,EDX
006e26fa : JLE 0x006e26e0
006e26fc : DEC EBP
006e26fd : CMP EBP,0x2
006e2700 : JGE 0x006e271a
006e2702 : MOV ECX,dword ptr [EDI]
006e2704 : MOV dword ptr [ECX + 0x14],0x38
006e270b : MOV EDX,dword ptr [EDI]
006e270d : MOV dword ptr [EDX + 0x18],EAX
006e2710 : MOV EAX,dword ptr [EDI]
006e2712 : MOV ECX,dword ptr [EAX]
006e2714 : PUSH EDI
006e2715 : CALL ECX
006e2717 : ADD ESP,0x4
006e271a : MOV EBX,0x1
006e271f : TEST ESI,ESI
006e2721 : JLE 0x006e2744
006e2723 : MOV EDI,dword ptr [ESP + 0x24]
006e2727 : MOV ECX,ESI
006e2729 : MOV EAX,EBP
006e272b : MOV EDX,ESI
006e272d : STOSD.REP ES:EDI
006e272f : NOP
006e2730 : IMUL EBX,EBP
006e2733 : SUB EDX,0x1
006e2736 : JNZ 0x006e2730
006e2738 : JMP 0x006e2744
006e2740 : MOV ESI,dword ptr [ESP + 0x14]
006e2744 : XOR EBP,EBP
006e2746 : MOV byte ptr [ESP + 0x13],0x0
006e274b : TEST ESI,ESI
006e274d : JLE 0x006e279b
006e274f : NOP
006e2750 : MOV EDX,dword ptr [ESP + 0x20]
006e2754 : CMP dword ptr [EDX + 0x2c],0x2
006e2758 : JNZ 0x006e2763
006e275a : MOV EDI,dword ptr [EBP*0x4 + 0xbf1970]
006e2761 : JMP 0x006e2765
006e2763 : MOV EDI,EBP
006e2765 : MOV EAX,dword ptr [ESP + 0x24]
006e2769 : MOV ESI,dword ptr [EAX + EDI*0x4]
006e276c : MOV EAX,EBX
006e276e : CDQ
006e276f : IDIV ESI
006e2771 : LEA ECX,[ESI + 0x1]
006e2774 : IMUL EAX,ECX
006e2777 : CMP EAX,dword ptr [ESP + 0x18]
006e277b : JG 0x006e2794
006e277d : MOV EDX,dword ptr [ESP + 0x24]
006e2781 : INC EBP
006e2782 : CMP EBP,dword ptr [ESP + 0x14]
006e2786 : MOV dword ptr [EDX + EDI*0x4],ECX
006e2789 : MOV EBX,EAX
006e278b : MOV byte ptr [ESP + 0x13],0x1
006e2790 : JL 0x006e2750
006e2792 : JMP 0x006e2740
006e2794 : CMP byte ptr [ESP + 0x13],0x0
006e2799 : JNZ 0x006e2740
006e279b : POP EDI
006e279c : POP ESI
006e279d : POP EBP
006e279e : MOV EAX,EBX
006e27a0 : POP EBX
006e27a1 : ADD ESP,0xc
006e27a4 : RET
