PROGRAM  : Maestia.exe
FUNCTION : FUN_00934ef0
ENTRY    : 00934ef0
BODY     : [[00934ef0, 00935103] [00935108, 009351ad]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00934ef0(void)

{
  char cVar1;
  uint uVar2;
  int iVar3;
  int in_ECX;
  int iVar4;
  undefined2 uVar5;
  undefined1 auStack_44c [3];
  char local_449;
  uint local_448;
  undefined1 local_444 [4];
  undefined4 *local_440;
  undefined4 local_43c;
  undefined4 local_438;
  undefined4 local_434;
  undefined4 local_430;
  undefined1 local_42c [12];
  undefined4 local_420 [32];
  undefined1 local_3a0 [900];
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  uint local_c;
  
  puStack_10 = &LAB_00b66e5c;
  local_14 = ExceptionList;
  local_1c = DAT_00d66fa0 ^ (uint)auStack_44c;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffba8;
  ExceptionList = &local_14;
  local_440 = (undefined4 *)0x0;
  local_43c = 0;
  local_438 = 0;
  local_c = 0;
  if (in_ECX != 0) {
    _eh_vector_constructor_iterator_(local_3a0,0x1c,0x20,FUN_00405d90,FUN_00406560);
    local_c = CONCAT31(local_c._1_3_,1);
    uVar5 = 0;
    local_430 = 0;
    local_448 = local_448 & 0xffffff00;
    local_434 = 0x20;
    cVar1 = FUN_0084a4a0(&local_434,local_3a0,local_420,&local_448,&local_430,0xffffffff);
    if (cVar1 == '\0') {
      FUN_00a1adc0(0);
      FUN_009807d0(uVar2);
    }
    iVar3 = *(int *)(*DAT_00da9894 + 300);
    if (iVar3 == 0) {
      iVar3 = 0;
    }
    else {
      iVar3 = *(int *)(iVar3 + 0x18);
    }
    if (*(short *)(iVar3 + 0x6e) != *(short *)(iVar3 + 0x6c)) {
      iVar3 = *(int *)(*DAT_00da9894 + 300);
      if (iVar3 == 0) {
        iVar3 = 0;
      }
      else {
        iVar3 = *(int *)(iVar3 + 0x18);
      }
      uVar5 = *(undefined2 *)(iVar3 + 0x6e);
    }
    if ((char)local_448 != '\0') {
      FUN_00405eb0(in_ECX + 0x20,0,0xffffffff);
    }
    local_449 = '\0';
    cVar1 = FUN_00a3e0b0(DAT_00da93ec,local_420[0],local_3a0,&local_430,local_444,&local_434,
                         local_42c,&local_449,local_448,uVar5);
    if (cVar1 != '\0') {
      iVar3 = *DAT_00da9894;
      if ((iVar3 != 0) && (*(int *)(iVar3 + 0x114) != 0)) {
        if (*(uint *)(in_ECX + 0x38) < 8) {
          iVar4 = in_ECX + 0x24;
        }
        else {
          iVar4 = *(int *)(in_ECX + 0x24);
        }
        (**(code **)(**(int **)(iVar3 + 0x114) + 4))
                  (*(int **)(iVar3 + 0x114),"mc_questshortcut.SetQuestNaviDraw","%ls%b",iVar4,1);
      }
      iVar3 = DAT_00da93ec;
      *(bool *)(DAT_00da93ec + 0x2ad) = local_449 == '\0';
      *(undefined4 *)(iVar3 + 0x2a0) = *local_440;
      *(undefined4 *)(iVar3 + 0x2a4) = local_440[1];
      *(undefined4 *)(iVar3 + 0x2a8) = local_440[2];
      local_c = local_c & 0xffffff00;
      _eh_vector_destructor_iterator_(local_3a0,0x1c,0x20,FUN_00406560);
      local_c = 0xffffffff;
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    iVar3 = *DAT_00da9894;
    if ((iVar3 != 0) && (*(int *)(iVar3 + 0x114) != 0)) {
      if (*(uint *)(in_ECX + 0x38) < 8) {
        iVar4 = in_ECX + 0x24;
      }
      else {
        iVar4 = *(int *)(in_ECX + 0x24);
      }
      (**(code **)(**(int **)(iVar3 + 0x114) + 4))
                (*(int **)(iVar3 + 0x114),"mc_questshortcut.SetQuestNaviDraw","%ls%b",iVar4,0);
    }
    local_c = local_c & 0xffffff00;
    _eh_vector_destructor_iterator_(local_3a0,0x1c,0x20,FUN_00406560);
    local_c = 0xffffffff;
    if (local_440 != (undefined4 *)0x0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  local_c = 0xffffffff;
  local_440 = (undefined4 *)0x0;
  local_43c = 0;
  local_438 = 0;
  ExceptionList = local_14;
  __security_check_cookie(local_1c ^ (uint)auStack_44c);
  return;
}



============================================================
DISASSEMBLY
============================================================
00934ef0 : PUSH EBP
00934ef1 : MOV EBP,ESP
00934ef3 : AND ESP,0xfffffff8
00934ef6 : PUSH -0x1
00934ef8 : PUSH 0xb66e5c
00934efd : MOV EAX,FS:[0x0]
00934f03 : PUSH EAX
00934f04 : SUB ESP,0x438
00934f0a : MOV EAX,[0x00d66fa0]
00934f0f : XOR EAX,ESP
00934f11 : MOV dword ptr [ESP + 0x430],EAX
00934f18 : PUSH EBX
00934f19 : PUSH ESI
00934f1a : PUSH EDI
00934f1b : MOV EAX,[0x00d66fa0]
00934f20 : XOR EAX,ESP
00934f22 : PUSH EAX
00934f23 : LEA EAX,[ESP + 0x448]
00934f2a : MOV FS:[0x0],EAX
00934f30 : XOR EBX,EBX
00934f32 : MOV ESI,ECX
00934f34 : MOV dword ptr [ESP + 0x1c],EBX
00934f38 : MOV dword ptr [ESP + 0x20],EBX
00934f3c : MOV dword ptr [ESP + 0x24],EBX
00934f40 : MOV dword ptr [ESP + 0x450],EBX
00934f47 : CMP ESI,EBX
00934f49 : JNZ 0x00934f5b
00934f4b : MOV dword ptr [ESP + 0x450],0xffffffff
00934f56 : JMP 0x0093517c
00934f5b : PUSH 0x406560
00934f60 : PUSH 0x405d90
00934f65 : PUSH 0x20
00934f67 : PUSH 0x1c
00934f69 : LEA EAX,[ESP + 0xcc]
00934f70 : PUSH EAX
00934f71 : CALL 0x0063619b
00934f76 : MOV byte ptr [ESP + 0x450],0x1
00934f7e : MOV ECX,dword ptr [ESI]
00934f80 : PUSH -0x1
00934f82 : LEA EDX,[ESP + 0x30]
00934f86 : PUSH EDX
00934f87 : LEA EAX,[ESP + 0x1c]
00934f8b : PUSH EAX
00934f8c : LEA EDX,[ESP + 0x48]
00934f90 : PUSH EDX
00934f91 : LEA EAX,[ESP + 0xcc]
00934f98 : PUSH EAX
00934f99 : MOV EAX,[0x017248f8]
00934f9e : LEA EDX,[ESP + 0x3c]
00934fa2 : PUSH EDX
00934fa3 : MOV EDX,dword ptr [EAX + 0x1c]
00934fa6 : XOR EDI,EDI
00934fa8 : MOV dword ptr [ESP + 0x44],EBX
00934fac : MOV byte ptr [ESP + 0x2c],BL
00934fb0 : MOV dword ptr [ESP + 0x40],0x20
00934fb8 : CALL 0x0084a4a0
00934fbd : TEST AL,AL
00934fbf : JNZ 0x00934fd1
00934fc1 : MOV EAX,[0x00da93ec]
00934fc6 : PUSH EBX
00934fc7 : CALL 0x00a1adc0
00934fcc : CALL 0x009807d0
00934fd1 : MOV ECX,dword ptr [0x00da9894]
00934fd7 : MOV ECX,dword ptr [ECX]
00934fd9 : MOV EAX,dword ptr [ECX + 0x12c]
00934fdf : CMP EAX,EBX
00934fe1 : JNZ 0x00934fe7
00934fe3 : XOR EAX,EAX
00934fe5 : JMP 0x00934fea
00934fe7 : MOV EAX,dword ptr [EAX + 0x18]
00934fea : MOV DX,word ptr [EAX + 0x6e]
00934fee : CMP DX,word ptr [EAX + 0x6c]
00934ff2 : JZ 0x00935009
00934ff4 : MOV EAX,dword ptr [ECX + 0x12c]
00934ffa : CMP EAX,EBX
00934ffc : JNZ 0x00935002
00934ffe : XOR EAX,EAX
00935000 : JMP 0x00935005
00935002 : MOV EAX,dword ptr [EAX + 0x18]
00935005 : MOVZX EDI,word ptr [EAX + 0x6e]
00935009 : CMP byte ptr [ESP + 0x14],BL
0093500d : JZ 0x00935022
0093500f : PUSH -0x1
00935011 : PUSH EBX
00935012 : LEA EAX,[ESI + 0x20]
00935015 : PUSH EAX
00935016 : LEA ECX,[ESP + 0xc8]
0093501d : CALL 0x00405eb0
00935022 : MOV ECX,dword ptr [ESP + 0x14]
00935026 : PUSH EDI
00935027 : PUSH ECX
00935028 : LEA EDX,[ESP + 0x1b]
0093502c : PUSH EDX
0093502d : LEA EAX,[ESP + 0x3c]
00935031 : PUSH EAX
00935032 : LEA ECX,[ESP + 0x38]
00935036 : PUSH ECX
00935037 : LEA EDX,[ESP + 0x2c]
0093503b : PUSH EDX
0093503c : MOV EDX,dword ptr [ESP + 0x54]
00935040 : LEA EAX,[ESP + 0x44]
00935044 : PUSH EAX
00935045 : MOV EAX,[0x00da93ec]
0093504a : LEA ECX,[ESP + 0xd8]
00935051 : PUSH ECX
00935052 : PUSH EDX
00935053 : PUSH EAX
00935054 : MOV byte ptr [ESP + 0x3b],BL
00935058 : CALL 0x00a3e0b0
0093505d : TEST AL,AL
0093505f : JZ 0x00935108
00935065 : MOV ECX,dword ptr [0x00da9894]
0093506b : MOV EAX,dword ptr [ECX]
0093506d : CMP EAX,EBX
0093506f : JZ 0x009350a5
00935071 : CMP dword ptr [EAX + 0x114],EBX
00935077 : JZ 0x009350a5
00935079 : CMP dword ptr [ESI + 0x38],0x8
0093507d : MOV EAX,dword ptr [EAX + 0x114]
00935083 : JC 0x0093508a
00935085 : MOV ESI,dword ptr [ESI + 0x24]
00935088 : JMP 0x0093508d
0093508a : ADD ESI,0x24
0093508d : MOV EDX,dword ptr [EAX]
0093508f : PUSH 0x1
00935091 : PUSH ESI
00935092 : PUSH 0xc6eb38
00935097 : PUSH 0xc6eb40
0093509c : PUSH EAX
0093509d : MOV EAX,dword ptr [EDX + 0x4]
009350a0 : CALL EAX
009350a2 : ADD ESP,0x14
009350a5 : CMP byte ptr [ESP + 0x13],BL
009350a9 : MOV EAX,[0x00da93ec]
009350ae : MOV ESI,dword ptr [ESP + 0x1c]
009350b2 : SETZ CL
009350b5 : MOV byte ptr [EAX + 0x2ad],CL
009350bb : FLD float ptr [ESI]
009350bd : FSTP float ptr [EAX + 0x2a0]
009350c3 : FLD float ptr [ESI + 0x4]
009350c6 : FSTP float ptr [EAX + 0x2a4]
009350cc : FLD float ptr [ESI + 0x8]
009350cf : FSTP float ptr [EAX + 0x2a8]
009350d5 : MOV byte ptr [ESP + 0x450],BL
009350dc : PUSH 0x406560
009350e1 : PUSH 0x20
009350e3 : PUSH 0x1c
009350e5 : LEA ECX,[ESP + 0xc8]
009350ec : PUSH ECX
009350ed : CALL 0x0063625e
009350f2 : MOV dword ptr [ESP + 0x450],0xffffffff
009350fd : MOV ECX,ESI
009350ff : CALL 0x006f04e0
00935108 : MOV EDX,dword ptr [0x00da9894]
0093510e : MOV EAX,dword ptr [EDX]
00935110 : CMP EAX,EBX
00935112 : JZ 0x00935147
00935114 : CMP dword ptr [EAX + 0x114],EBX
0093511a : JZ 0x00935147
0093511c : CMP dword ptr [ESI + 0x38],0x8
00935120 : MOV EAX,dword ptr [EAX + 0x114]
00935126 : JC 0x0093512d
00935128 : MOV ESI,dword ptr [ESI + 0x24]
0093512b : JMP 0x00935130
0093512d : ADD ESI,0x24
00935130 : MOV ECX,dword ptr [EAX]
00935132 : MOV EDX,dword ptr [ECX + 0x4]
00935135 : PUSH EBX
00935136 : PUSH ESI
00935137 : PUSH 0xc6eb64
0093513c : PUSH 0xc6eb6c
00935141 : PUSH EAX
00935142 : CALL EDX
00935144 : ADD ESP,0x14
00935147 : MOV byte ptr [ESP + 0x450],BL
0093514e : PUSH 0x406560
00935153 : PUSH 0x20
00935155 : PUSH 0x1c
00935157 : LEA EAX,[ESP + 0xc8]
0093515e : PUSH EAX
0093515f : CALL 0x0063625e
00935164 : MOV dword ptr [ESP + 0x450],0xffffffff
0093516f : MOV ECX,dword ptr [ESP + 0x1c]
00935173 : CMP ECX,EBX
00935175 : JZ 0x0093517c
00935177 : CALL 0x006f04e0
0093517c : XOR AL,AL
0093517e : MOV dword ptr [ESP + 0x1c],EBX
00935182 : MOV dword ptr [ESP + 0x20],EBX
00935186 : MOV dword ptr [ESP + 0x24],EBX
0093518a : MOV ECX,dword ptr [ESP + 0x448]
00935191 : MOV dword ptr FS:[0x0],ECX
00935198 : POP ECX
00935199 : POP EDI
0093519a : POP ESI
0093519b : POP EBX
0093519c : MOV ECX,dword ptr [ESP + 0x430]
009351a3 : XOR ECX,ESP
009351a5 : CALL 0x00633e6b
009351aa : MOV ESP,EBP
009351ac : POP EBP
009351ad : RET
