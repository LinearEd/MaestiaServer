PROGRAM  : Maestia.exe
FUNCTION : FUN_00a30a90
ENTRY    : 00a30a90
BODY     : [[00a30a90, 00a30eb9]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00a30a90(int param_1,float param_2,float param_3)

{
  int iVar1;
  char cVar2;
  SHORT SVar3;
  int iVar4;
  float10 fVar5;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c;
  undefined4 local_48;
  undefined4 local_44;
  undefined4 local_40;
  undefined4 local_3c;
  float local_38;
  float local_34;
  float local_30;
  float local_2c;
  float local_28;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  float local_14;
  float local_10;
  float local_c;
  float local_8;
  
  iVar1 = param_1;
  if ((0.0 <= param_2) && (0.0 <= param_3)) {
    iVar4 = *(int *)(*(int *)(param_1 + 0xac) + 1000);
    local_28 = *(float *)(iVar4 + 0x68);
    local_24 = *(float *)(iVar4 + 0x6c);
    local_20 = *(float *)(iVar4 + 0x70);
    *(undefined1 *)(param_1 + 0x5cd) = 1;
    local_1c = 0.0;
    local_18 = 0.0;
    local_14 = 0.0;
    SVar3 = GetKeyState(0x10);
    if ((SVar3 < 0) &&
       ((cVar2 = FUN_0086da10(), cVar2 != '\0' && (cVar2 = FUN_008896a0(), cVar2 != '\0')))) {
      local_28 = local_1c;
      local_24 = local_18;
      local_20 = local_14;
    }
    local_c = 0.0;
    local_10 = param_2;
    local_8 = param_3;
    param_3 = (float)CONCAT31(param_3._1_3_,0xff);
    cVar2 = FUN_00a17540();
    if (((((cVar2 == '\0') && (*(char *)(*(int *)(iVar1 + 0x41c) + 0x6a) == '\0')) &&
         (cVar2 = FUN_0086ea90(*(undefined4 *)(iVar1 + 0xac)), cVar2 == '\0')) &&
        ((cVar2 = FUN_008896f0(), cVar2 == '\0' && (cVar2 = FUN_0040e1b0(), cVar2 == '\0')))) &&
       (cVar2 = FUN_00a1dfd0(), cVar2 != '\0')) {
      cVar2 = FUN_00891380(*(undefined4 *)(iVar1 + 0xac),local_10,local_8,&local_c,&param_3,0,1);
      if (cVar2 == '\0') {
        FUN_007df8c0(local_10,local_8,&param_2,&param_1);
        iVar4 = FUN_007e10d0(param_2);
        if (iVar4 == 0) {
          return 0;
        }
        cVar2 = FUN_0040eba0();
        if (cVar2 != '\0') {
          return 0;
        }
        param_3 = (float)CONCAT31(param_3._1_3_,*(undefined1 *)(*(int *)(iVar4 + 8) + 2));
      }
      local_60 = 0;
      local_58 = 0;
      local_38 = local_10;
      local_30 = local_8;
      local_34 = local_c + 10.0;
      local_5c = 0xbf800000;
      FUN_0040e160();
      param_2 = (float)CONCAT13(1,param_2._0_3_);
      cVar2 = FUN_007e8450(&local_60,&local_38,&param_1);
      if (cVar2 == '\0') {
        param_2 = (float)((uint)param_2 & 0xffffff);
      }
      FUN_007de700(local_38,local_30,&param_1);
      if ((param_3._0_1_ == '\x02') && (param_2._3_1_ != '\0')) {
        cVar2 = FUN_00a24880(iVar1);
        if (cVar2 == '\0') {
          return 0;
        }
        param_2 = 0.0;
        cVar2 = FUN_007e3cb0(local_10,local_8,&param_2,0,0);
        if (cVar2 != '\0') {
          local_c = param_2;
        }
      }
      cVar2 = FUN_00a2e970(&local_10);
      if (cVar2 != '\0') {
        fVar5 = (float10)FUN_0040f460((local_8 - local_20) * (local_8 - local_20) +
                                      (local_10 - local_28) * (local_10 - local_28));
        local_2c = (float)fVar5;
        param_2 = (float)CONCAT13(0xff,param_2._0_3_);
        FUN_00a2da80();
        param_1 = 0;
        param_2 = (float)((uint)param_2 & 0xffffff00);
        local_3c = 0x4c189680;
        FUN_00a2e780(&local_28,&local_10,param_3,&local_2c,&local_3c,&param_1,&param_2);
        cVar2 = FUN_007de1f0(param_1);
        if ((cVar2 != '\0') || (cVar2 = FUN_00a24880(iVar1), cVar2 != '\0')) {
          if (param_2._0_1_ != '\0') {
            local_1c = 0.0;
            local_18 = 0.0;
            local_14 = 0.0;
            local_48 = 0;
            local_44 = 0;
            local_40 = 0;
            local_54 = 0;
            local_4c = 0;
            param_3 = 0.0;
            local_c = local_c + 30.0;
            local_50 = 0xbf800000;
            iVar4 = FUN_007e9d70(*(undefined4 *)(iVar1 + 0xc),&local_54,&local_1c,&local_48,&param_3
                                );
            if (iVar4 == 2) {
              local_10 = local_1c;
              local_8 = local_14;
              local_c = local_18 + 2.0;
            }
            else {
              local_c = local_c - 30.0;
            }
          }
          FUN_00a2db00(iVar1,&local_10,param_2,1);
          return 1;
        }
      }
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00a30a90 : PUSH EBP
00a30a91 : MOV EBP,ESP
00a30a93 : XORPS XMM0,XMM0
00a30a96 : SUB ESP,0x90
00a30a9c : COMISS XMM0,dword ptr [EBP + 0xc]
00a30aa0 : PUSH EBX
00a30aa1 : MOV EBX,dword ptr [EBP + 0x8]
00a30aa4 : PUSH ESI
00a30aa5 : PUSH EDI
00a30aa6 : JA 0x00a30eaf
00a30aac : COMISS XMM0,dword ptr [EBP + 0x10]
00a30ab0 : JA 0x00a30eaf
00a30ab6 : MOV EAX,dword ptr [EBX + 0xac]
00a30abc : MOV EAX,dword ptr [EAX + 0x3e8]
00a30ac2 : MOVSS XMM1,dword ptr [EAX + 0x68]
00a30ac7 : ADD EAX,0x68
00a30aca : MOVSS dword ptr [EBP + -0x24],XMM1
00a30acf : MOVSS XMM1,dword ptr [EAX + 0x4]
00a30ad4 : MOVSS dword ptr [EBP + -0x20],XMM1
00a30ad9 : MOVSS XMM1,dword ptr [EAX + 0x8]
00a30ade : PUSH 0x10
00a30ae0 : MOVSS dword ptr [EBP + -0x1c],XMM1
00a30ae5 : MOV byte ptr [EBX + 0x5cd],0x1
00a30aec : MOVSS dword ptr [EBP + -0x18],XMM0
00a30af1 : MOVSS dword ptr [EBP + -0x14],XMM0
00a30af6 : MOVSS dword ptr [EBP + -0x10],XMM0
00a30afb : CALL dword ptr [0x00b85438]
00a30b01 : TEST AX,AX
00a30b04 : JGE 0x00a30b43
00a30b06 : MOV EDI,dword ptr [EBX + 0xac]
00a30b0c : LEA ESI,[EBP + -0x18]
00a30b0f : MOV EAX,EDI
00a30b11 : CALL 0x0086da10
00a30b16 : TEST AL,AL
00a30b18 : JZ 0x00a30b43
00a30b1a : MOV EAX,EDI
00a30b1c : CALL 0x008896a0
00a30b21 : TEST AL,AL
00a30b23 : JZ 0x00a30b43
00a30b25 : MOVSS XMM0,dword ptr [EBP + -0x18]
00a30b2a : MOVSS dword ptr [EBP + -0x24],XMM0
00a30b2f : MOVSS XMM0,dword ptr [EBP + -0x14]
00a30b34 : MOVSS dword ptr [EBP + -0x20],XMM0
00a30b39 : MOVSS XMM0,dword ptr [EBP + -0x10]
00a30b3e : MOVSS dword ptr [EBP + -0x1c],XMM0
00a30b43 : XORPS XMM0,XMM0
00a30b46 : MOVSS dword ptr [EBP + -0x8],XMM0
00a30b4b : MOVSS XMM0,dword ptr [EBP + 0xc]
00a30b50 : MOVSS dword ptr [EBP + -0xc],XMM0
00a30b55 : MOVSS XMM0,dword ptr [EBP + 0x10]
00a30b5a : MOV ESI,EBX
00a30b5c : MOVSS dword ptr [EBP + -0x4],XMM0
00a30b61 : MOV byte ptr [EBP + 0x10],0xff
00a30b65 : CALL 0x00a17540
00a30b6a : TEST AL,AL
00a30b6c : JNZ 0x00a30eaf
00a30b72 : MOV ECX,dword ptr [EBX + 0x41c]
00a30b78 : CMP byte ptr [ECX + 0x6a],AL
00a30b7b : JNZ 0x00a30eaf
00a30b81 : MOV EDX,dword ptr [EBX + 0xac]
00a30b87 : PUSH EDX
00a30b88 : CALL 0x0086ea90
00a30b8d : TEST AL,AL
00a30b8f : JNZ 0x00a30eaf
00a30b95 : MOV ESI,dword ptr [EBX + 0xac]
00a30b9b : MOV EAX,ESI
00a30b9d : CALL 0x008896f0
00a30ba2 : TEST AL,AL
00a30ba4 : JNZ 0x00a30eaf
00a30baa : MOV EAX,ESI
00a30bac : CALL 0x0040e1b0
00a30bb1 : TEST AL,AL
00a30bb3 : JNZ 0x00a30eaf
00a30bb9 : MOV EAX,EBX
00a30bbb : CALL 0x00a1dfd0
00a30bc0 : TEST AL,AL
00a30bc2 : JZ 0x00a30eaf
00a30bc8 : FLD float ptr [EBP + -0x4]
00a30bcb : MOV EDX,dword ptr [EBX + 0xac]
00a30bd1 : PUSH 0x1
00a30bd3 : PUSH 0x0
00a30bd5 : LEA EAX,[EBP + 0x10]
00a30bd8 : PUSH EAX
00a30bd9 : LEA ECX,[EBP + -0x8]
00a30bdc : PUSH ECX
00a30bdd : SUB ESP,0x8
00a30be0 : FSTP float ptr [ESP + 0x4]
00a30be4 : FLD float ptr [EBP + -0xc]
00a30be7 : FSTP float ptr [ESP]
00a30bea : PUSH EDX
00a30beb : CALL 0x00891380
00a30bf0 : TEST AL,AL
00a30bf2 : JNZ 0x00a30c47
00a30bf4 : FLD float ptr [EBP + -0x4]
00a30bf7 : MOV ESI,dword ptr [EBX + 0xc]
00a30bfa : LEA EAX,[EBP + 0x8]
00a30bfd : PUSH EAX
00a30bfe : LEA ECX,[EBP + 0xc]
00a30c01 : PUSH ECX
00a30c02 : SUB ESP,0x8
00a30c05 : FSTP float ptr [ESP + 0x4]
00a30c09 : MOV EAX,ESI
00a30c0b : FLD float ptr [EBP + -0xc]
00a30c0e : FSTP float ptr [ESP]
00a30c11 : CALL 0x007df8c0
00a30c16 : MOV EDX,dword ptr [EBP + 0xc]
00a30c19 : MOV EDI,dword ptr [EBP + 0x8]
00a30c1c : PUSH EDX
00a30c1d : MOV ECX,ESI
00a30c1f : CALL 0x007e10d0
00a30c24 : MOV ESI,EAX
00a30c26 : TEST ESI,ESI
00a30c28 : JZ 0x00a30eaf
00a30c2e : LEA EAX,[ESI + 0x4]
00a30c31 : CALL 0x0040eba0
00a30c36 : TEST AL,AL
00a30c38 : JNZ 0x00a30eaf
00a30c3e : MOV EAX,dword ptr [ESI + 0x8]
00a30c41 : MOV CL,byte ptr [EAX + 0x2]
00a30c44 : MOV byte ptr [EBP + 0x10],CL
00a30c47 : XORPS XMM0,XMM0
00a30c4a : MOVSS XMM1,dword ptr [0x00cdf0d0]
00a30c52 : MOVSS dword ptr [EBP + -0x5c],XMM0
00a30c57 : MOVSS dword ptr [EBP + -0x54],XMM0
00a30c5c : MOVSS XMM0,dword ptr [EBP + -0xc]
00a30c61 : MOVSS dword ptr [EBP + -0x34],XMM0
00a30c66 : MOVSS XMM0,dword ptr [EBP + -0x4]
00a30c6b : MOVSS dword ptr [EBP + -0x2c],XMM0
00a30c70 : MOVSS XMM0,dword ptr [EBP + -0x8]
00a30c75 : ADDSS XMM0,dword ptr [0x00c18874]
00a30c7d : LEA EAX,[EBP + 0xffffff70]
00a30c83 : MOVSS dword ptr [EBP + -0x58],XMM1
00a30c88 : MOVSS dword ptr [EBP + -0x30],XMM0
00a30c8d : CALL 0x0040e160
00a30c92 : MOV EDX,dword ptr [EBX + 0xc]
00a30c95 : LEA EAX,[EBP + 0x8]
00a30c98 : PUSH EAX
00a30c99 : LEA ECX,[EBP + -0x34]
00a30c9c : PUSH ECX
00a30c9d : LEA EAX,[EBP + -0x5c]
00a30ca0 : PUSH EAX
00a30ca1 : LEA ECX,[EBP + 0xffffff70]
00a30ca7 : MOV byte ptr [EBP + 0xf],0x1
00a30cab : CALL 0x007e8450
00a30cb0 : TEST AL,AL
00a30cb2 : JNZ 0x00a30cb7
00a30cb4 : MOV byte ptr [EBP + 0xf],AL
00a30cb7 : FLD float ptr [EBP + -0x2c]
00a30cba : LEA ECX,[EBP + 0x8]
00a30cbd : PUSH ECX
00a30cbe : MOV ECX,dword ptr [EBX + 0xc]
00a30cc1 : SUB ESP,0x8
00a30cc4 : FSTP float ptr [ESP + 0x4]
00a30cc8 : LEA ESI,[EBP + -0x28]
00a30ccb : FLD float ptr [EBP + -0x34]
00a30cce : FSTP float ptr [ESP]
00a30cd1 : CALL 0x007de700
00a30cd6 : CMP byte ptr [EBP + 0x10],0x2
00a30cda : JNZ 0x00a30d2b
00a30cdc : CMP byte ptr [EBP + 0xf],0x0
00a30ce0 : JZ 0x00a30d2b
00a30ce2 : PUSH EBX
00a30ce3 : XOR EAX,EAX
00a30ce5 : LEA ESI,[EBP + -0xc]
00a30ce8 : CALL 0x00a24880
00a30ced : TEST AL,AL
00a30cef : JZ 0x00a30eaf
00a30cf5 : FLD float ptr [EBP + -0x4]
00a30cf8 : XORPS XMM0,XMM0
00a30cfb : MOV EDI,dword ptr [EBX + 0xc]
00a30cfe : PUSH 0x0
00a30d00 : PUSH 0x0
00a30d02 : LEA EDX,[EBP + 0xc]
00a30d05 : PUSH EDX
00a30d06 : SUB ESP,0x8
00a30d09 : FSTP float ptr [ESP + 0x4]
00a30d0d : MOVSS dword ptr [EBP + 0xc],XMM0
00a30d12 : FLD float ptr [EBP + -0xc]
00a30d15 : FSTP float ptr [ESP]
00a30d18 : CALL 0x007e3cb0
00a30d1d : TEST AL,AL
00a30d1f : JZ 0x00a30d2b
00a30d21 : MOVSS XMM0,dword ptr [EBP + 0xc]
00a30d26 : MOVSS dword ptr [EBP + -0x8],XMM0
00a30d2b : LEA EAX,[EBP + -0xc]
00a30d2e : PUSH EAX
00a30d2f : MOV EDI,EBX
00a30d31 : CALL 0x00a2e970
00a30d36 : TEST AL,AL
00a30d38 : JZ 0x00a30eaf
00a30d3e : MOVSS XMM1,dword ptr [EBP + -0x4]
00a30d43 : SUBSS XMM1,dword ptr [EBP + -0x1c]
00a30d48 : MOVSS XMM0,dword ptr [EBP + -0xc]
00a30d4d : SUBSS XMM0,dword ptr [EBP + -0x24]
00a30d52 : MOVAPS XMM2,XMM1
00a30d55 : MULSS XMM2,XMM1
00a30d59 : MOVAPS XMM1,XMM0
00a30d5c : MULSS XMM1,XMM0
00a30d60 : PUSH ECX
00a30d61 : ADDSS XMM2,XMM1
00a30d65 : MOVSS dword ptr [ESP],XMM2
00a30d6a : CALL 0x0040f460
00a30d6f : FSTP float ptr [EBP + -0x28]
00a30d72 : ADD ESP,0x4
00a30d75 : LEA EDX,[EBP + 0xf]
00a30d78 : MOV EAX,EBX
00a30d7a : MOV byte ptr [EBP + 0xf],0xff
00a30d7e : CALL 0x00a2da80
00a30d83 : MOVSS XMM0,dword ptr [0x00cdf7f0]
00a30d8b : LEA ECX,[EBP + 0xc]
00a30d8e : PUSH ECX
00a30d8f : LEA EDX,[EBP + 0x8]
00a30d92 : PUSH EDX
00a30d93 : MOV EDX,dword ptr [EBP + 0x10]
00a30d96 : LEA EAX,[EBP + -0x38]
00a30d99 : PUSH EAX
00a30d9a : LEA ECX,[EBP + -0x28]
00a30d9d : PUSH ECX
00a30d9e : PUSH EDX
00a30d9f : LEA EAX,[EBP + -0xc]
00a30da2 : PUSH EAX
00a30da3 : LEA ECX,[EBP + -0x24]
00a30da6 : PUSH ECX
00a30da7 : MOV dword ptr [EBP + 0x8],0x0
00a30dae : MOV byte ptr [EBP + 0xc],0x0
00a30db2 : MOVSS dword ptr [EBP + -0x38],XMM0
00a30db7 : CALL 0x00a2e780
00a30dbc : MOV EDX,dword ptr [EBP + 0x8]
00a30dbf : MOV CL,byte ptr [EBP + 0x10]
00a30dc2 : PUSH EDX
00a30dc3 : MOV EDX,dword ptr [EBX + 0xc]
00a30dc6 : CALL 0x007de1f0
00a30dcb : TEST AL,AL
00a30dcd : JNZ 0x00a30de2
00a30dcf : PUSH EBX
00a30dd0 : XOR EAX,EAX
00a30dd2 : LEA ESI,[EBP + -0xc]
00a30dd5 : CALL 0x00a24880
00a30dda : TEST AL,AL
00a30ddc : JZ 0x00a30eaf
00a30de2 : CMP byte ptr [EBP + 0xc],0x0
00a30de6 : JZ 0x00a30e91
00a30dec : XORPS XMM0,XMM0
00a30def : MOVSS XMM1,dword ptr [0x00cdf0d0]
00a30df7 : LEA EAX,[EBP + 0x10]
00a30dfa : PUSH EAX
00a30dfb : LEA ECX,[EBP + -0x44]
00a30dfe : PUSH ECX
00a30dff : MOV ECX,dword ptr [EBX + 0xc]
00a30e02 : LEA EDX,[EBP + -0x18]
00a30e05 : PUSH EDX
00a30e06 : LEA EAX,[EBP + -0x50]
00a30e09 : MOVSS dword ptr [EBP + -0x18],XMM0
00a30e0e : MOVSS dword ptr [EBP + -0x14],XMM0
00a30e13 : MOVSS dword ptr [EBP + -0x10],XMM0
00a30e18 : MOVSS dword ptr [EBP + -0x44],XMM0
00a30e1d : MOVSS dword ptr [EBP + -0x40],XMM0
00a30e22 : MOVSS dword ptr [EBP + -0x3c],XMM0
00a30e27 : MOVSS dword ptr [EBP + -0x50],XMM0
00a30e2c : MOVSS dword ptr [EBP + -0x48],XMM0
00a30e31 : MOVSS dword ptr [EBP + 0x10],XMM0
00a30e36 : MOVSS XMM0,dword ptr [EBP + -0x8]
00a30e3b : ADDSS XMM0,dword ptr [0x00cdf12c]
00a30e43 : PUSH EAX
00a30e44 : PUSH ECX
00a30e45 : LEA EDI,[EBP + -0xc]
00a30e48 : MOVSS dword ptr [EBP + -0x4c],XMM1
00a30e4d : MOVSS dword ptr [EBP + -0x8],XMM0
00a30e52 : CALL 0x007e9d70
00a30e57 : CMP EAX,0x2
00a30e5a : JNZ 0x00a30e7f
00a30e5c : MOVSS XMM0,dword ptr [EBP + -0x18]
00a30e61 : MOVSS dword ptr [EBP + -0xc],XMM0
00a30e66 : MOVSS XMM0,dword ptr [EBP + -0x10]
00a30e6b : MOVSS dword ptr [EBP + -0x4],XMM0
00a30e70 : MOVSS XMM0,dword ptr [EBP + -0x14]
00a30e75 : ADDSS XMM0,dword ptr [0x00cdf144]
00a30e7d : JMP 0x00a30e8c
00a30e7f : MOVSS XMM0,dword ptr [EBP + -0x8]
00a30e84 : SUBSS XMM0,dword ptr [0x00cdf12c]
00a30e8c : MOVSS dword ptr [EBP + -0x8],XMM0
00a30e91 : MOV EDX,dword ptr [EBP + 0xc]
00a30e94 : PUSH 0x1
00a30e96 : PUSH EDX
00a30e97 : LEA EAX,[EBP + -0xc]
00a30e9a : PUSH EAX
00a30e9b : PUSH EBX
00a30e9c : LEA EAX,[EBP + -0x24]
00a30e9f : CALL 0x00a2db00
00a30ea4 : MOV AL,0x1
00a30ea6 : POP EDI
00a30ea7 : POP ESI
00a30ea8 : POP EBX
00a30ea9 : MOV ESP,EBP
00a30eab : POP EBP
00a30eac : RET 0xc
00a30eaf : POP EDI
00a30eb0 : POP ESI
00a30eb1 : XOR AL,AL
00a30eb3 : POP EBX
00a30eb4 : MOV ESP,EBP
00a30eb6 : POP EBP
00a30eb7 : RET 0xc
