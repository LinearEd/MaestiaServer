PROGRAM  : Maestia.exe
FUNCTION : FUN_00a4bac0
ENTRY    : 00a4bac0
BODY     : [[00a4bac0, 00a4bb81]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a4bac0(void)

{
  char cVar1;
  uint uVar2;
  int in_EAX;
  int in_ECX;
  undefined4 uVar3;
  int iVar4;
  bool bVar5;
  int local_c;
  undefined4 local_8;
  
  cVar1 = *(char *)(in_EAX + 0xc);
  uVar2 = *(uint *)(in_EAX + 8);
  local_8 = *(undefined4 *)(in_EAX + 4);
  FUN_004016d0(&local_8);
  if (local_c == *(int *)(in_ECX + 0x114)) {
    FUN_008018d0(L"AvaGameLobby::ReceiveServerActiveList Not find the server id->%d",local_8);
    return;
  }
  bVar5 = cVar1 == '\x01';
  *(undefined1 *)(local_c + 0x10) = 1;
  *(uint *)(local_c + 0x1c) = uVar2;
  *(bool *)(local_c + 0x11) = bVar5;
  if (bVar5) {
    if (uVar2 < 0x1a) {
      uVar3 = 1;
    }
    else {
      uVar3 = 2;
      if (0x50 < uVar2) {
        uVar3 = 3;
      }
    }
    if (*(uint *)(local_c + 0x40) < 8) {
      iVar4 = local_c + 0x2c;
    }
    else {
      iVar4 = *(int *)(local_c + 0x2c);
    }
    (**(code **)(**(int **)(in_ECX + 0x3c) + 4))
              (*(int **)(in_ECX + 0x3c),"SetServer","%d,%d,%ls,%b,%d,%d",
               *(undefined4 *)(local_c + 0x18),*(undefined4 *)(local_c + 0x24),iVar4,1,uVar3,local_8
              );
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00a4bac0 : PUSH EBP
00a4bac1 : MOV EBP,ESP
00a4bac3 : SUB ESP,0x8
00a4bac6 : PUSH EBX
00a4bac7 : MOV BL,byte ptr [EAX + 0xc]
00a4baca : PUSH ESI
00a4bacb : MOV ESI,dword ptr [EAX + 0x8]
00a4bace : PUSH EDI
00a4bacf : MOV EDI,ECX
00a4bad1 : MOV ECX,dword ptr [EAX + 0x4]
00a4bad4 : LEA EDX,[EBP + -0x4]
00a4bad7 : MOV dword ptr [EBP + -0x4],ECX
00a4bada : PUSH EDX
00a4badb : LEA ECX,[EDI + 0x110]
00a4bae1 : LEA EAX,[EBP + -0x8]
00a4bae4 : CALL 0x004016d0
00a4bae9 : MOV EAX,dword ptr [EBP + -0x8]
00a4baec : CMP EAX,dword ptr [EDI + 0x114]
00a4baf2 : JNZ 0x00a4bb12
00a4baf4 : MOV EAX,dword ptr [EBP + -0x4]
00a4baf7 : MOV ESI,dword ptr [0x00da98e8]
00a4bafd : PUSH EAX
00a4bafe : PUSH 0xcc75f8
00a4bb03 : CALL 0x008018d0
00a4bb08 : ADD ESP,0x8
00a4bb0b : POP EDI
00a4bb0c : POP ESI
00a4bb0d : POP EBX
00a4bb0e : MOV ESP,EBP
00a4bb10 : POP EBP
00a4bb11 : RET
00a4bb12 : CMP BL,0x1
00a4bb15 : SETZ DL
00a4bb18 : MOV byte ptr [EAX + 0x10],0x1
00a4bb1c : MOV dword ptr [EAX + 0x1c],ESI
00a4bb1f : MOV byte ptr [EAX + 0x11],DL
00a4bb22 : TEST DL,DL
00a4bb24 : JZ 0x00a4bb7b
00a4bb26 : CMP ESI,0x1a
00a4bb29 : JNC 0x00a4bb32
00a4bb2b : MOV EBX,0x1
00a4bb30 : JMP 0x00a4bb41
00a4bb32 : MOV EBX,0x2
00a4bb37 : CMP ESI,0x51
00a4bb3a : JC 0x00a4bb41
00a4bb3c : MOV EBX,0x3
00a4bb41 : CMP dword ptr [EAX + 0x40],0x8
00a4bb45 : JC 0x00a4bb4c
00a4bb47 : MOV ESI,dword ptr [EAX + 0x2c]
00a4bb4a : JMP 0x00a4bb4f
00a4bb4c : LEA ESI,[EAX + 0x2c]
00a4bb4f : PUSH dword ptr [EBP + -0x4]
00a4bb52 : MOV ECX,dword ptr [EDI + 0x3c]
00a4bb55 : MOV EDI,dword ptr [ECX]
00a4bb57 : MOVZX EBX,BX
00a4bb5a : PUSH EBX
00a4bb5b : MOVZX EDX,DL
00a4bb5e : PUSH EDX
00a4bb5f : MOV EDX,dword ptr [EAX + 0x24]
00a4bb62 : MOV EAX,dword ptr [EAX + 0x18]
00a4bb65 : PUSH ESI
00a4bb66 : PUSH EDX
00a4bb67 : PUSH EAX
00a4bb68 : PUSH 0xcc767c
00a4bb6d : PUSH 0xcc7690
00a4bb72 : PUSH ECX
00a4bb73 : MOV ECX,dword ptr [EDI + 0x4]
00a4bb76 : CALL ECX
00a4bb78 : ADD ESP,0x24
00a4bb7b : POP EDI
00a4bb7c : POP ESI
00a4bb7d : POP EBX
00a4bb7e : MOV ESP,EBP
00a4bb80 : POP EBP
00a4bb81 : RET
