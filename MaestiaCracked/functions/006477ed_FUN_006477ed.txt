PROGRAM  : Maestia.exe
FUNCTION : FUN_006477ed
ENTRY    : 006477ed
BODY     : [[006477ed, 00647942]]

============================================================
DECOMPILED C CODE
============================================================

bool FUN_006477ed(int *param_1,int param_2,short param_3,uint param_4)

{
  short sVar1;
  int iVar2;
  int iVar3;
  
  sVar1 = (short)param_1[2];
  if ((sVar1 == 0x70) || (param_3 == 0x70)) {
    return sVar1 == param_3;
  }
  if ((sVar1 == 0x73) || (sVar1 == 0x53)) {
    iVar3 = 1;
  }
  else {
    iVar3 = 0;
  }
  if ((param_3 == 0x73) || (param_3 == 0x53)) {
    iVar2 = 1;
  }
  else {
    iVar2 = 0;
  }
  if (iVar3 != 0) {
    if (iVar3 != iVar2) {
      return false;
    }
    if (((~((uint)param_1[3] >> 5) ^ ~(param_4 >> 5)) & 1) != 0) {
      return false;
    }
    return true;
  }
  if (iVar2 != 0) {
    return false;
  }
  if (sVar1 == 100) {
LAB_006478b9:
    iVar3 = 1;
  }
  else {
    if ((((((sVar1 != 0x69) && (sVar1 != 0x6f)) && (sVar1 != 0x75)) &&
         (((sVar1 != 0x78 && (sVar1 != 0x58)) &&
          ((param_3 != 100 && ((param_3 != 0x69 && (param_3 != 0x6f)))))))) && (param_3 != 0x75)) &&
       ((param_3 != 0x78 && (param_3 != 0x58)))) goto LAB_00647903;
    if ((sVar1 == 100) ||
       ((((sVar1 == 0x69 || (sVar1 == 0x6f)) || (sVar1 == 0x75)) ||
        ((sVar1 == 0x78 || (sVar1 == 0x58)))))) goto LAB_006478b9;
    iVar3 = 0;
  }
  if (((param_3 == 100) || (param_3 == 0x69)) ||
     ((param_3 == 0x6f || (((param_3 == 0x75 || (param_3 == 0x78)) || (param_3 == 0x58)))))) {
    iVar2 = 1;
  }
  else {
    iVar2 = 0;
  }
  if (((iVar3 != iVar2) || (((param_1[3] ^ param_4) & 0x10000) != 0)) ||
     (((param_1[3] ^ param_4) & 0x20) != 0)) {
    return false;
  }
LAB_00647903:
  return *param_1 == param_2;
}



============================================================
DISASSEMBLY
============================================================
006477ed : MOV EDI,EDI
006477ef : PUSH EBP
006477f0 : MOV EBP,ESP
006477f2 : PUSH ESI
006477f3 : MOV SI,word ptr [EBP + 0x10]
006477f7 : PUSH EDI
006477f8 : MOV EDI,dword ptr [EBP + 0x8]
006477fb : MOVZX EAX,word ptr [EDI + 0x8]
006477ff : CMP AX,0x70
00647803 : JZ 0x00647935
00647809 : CMP SI,0x70
0064780d : JZ 0x00647935
00647813 : CMP AX,0x73
00647817 : JZ 0x00647823
00647819 : CMP AX,0x53
0064781d : JZ 0x00647823
0064781f : XOR EDX,EDX
00647821 : JMP 0x00647826
00647823 : XOR EDX,EDX
00647825 : INC EDX
00647826 : CMP SI,0x73
0064782a : JZ 0x00647836
0064782c : CMP SI,0x53
00647830 : JZ 0x00647836
00647832 : XOR ECX,ECX
00647834 : JMP 0x00647839
00647836 : XOR ECX,ECX
00647838 : INC ECX
00647839 : TEST EDX,EDX
0064783b : JNZ 0x00647912
00647841 : TEST ECX,ECX
00647843 : JNZ 0x00647931
00647849 : PUSH 0x69
0064784b : POP EDI
0064784c : PUSH 0x64
0064784e : POP EDX
0064784f : CMP AX,DX
00647852 : JZ 0x006478b9
00647854 : CMP AX,DI
00647857 : JZ 0x00647893
00647859 : CMP AX,0x6f
0064785d : JZ 0x00647893
0064785f : CMP AX,0x75
00647863 : JZ 0x00647893
00647865 : CMP AX,0x78
00647869 : JZ 0x00647893
0064786b : CMP AX,0x58
0064786f : JZ 0x00647893
00647871 : CMP SI,DX
00647874 : JZ 0x00647893
00647876 : CMP SI,DI
00647879 : JZ 0x00647893
0064787b : CMP SI,0x6f
0064787f : JZ 0x00647893
00647881 : CMP SI,0x75
00647885 : JZ 0x00647893
00647887 : CMP SI,0x78
0064788b : JZ 0x00647893
0064788d : CMP SI,0x58
00647891 : JNZ 0x00647903
00647893 : CMP AX,DX
00647896 : JZ 0x006478b9
00647898 : CMP AX,DI
0064789b : JZ 0x006478b9
0064789d : CMP AX,0x6f
006478a1 : JZ 0x006478b9
006478a3 : CMP AX,0x75
006478a7 : JZ 0x006478b9
006478a9 : CMP AX,0x78
006478ad : JZ 0x006478b9
006478af : CMP AX,0x58
006478b3 : JZ 0x006478b9
006478b5 : XOR ECX,ECX
006478b7 : JMP 0x006478bc
006478b9 : XOR ECX,ECX
006478bb : INC ECX
006478bc : CMP SI,DX
006478bf : JZ 0x006478e2
006478c1 : CMP SI,DI
006478c4 : JZ 0x006478e2
006478c6 : CMP SI,0x6f
006478ca : JZ 0x006478e2
006478cc : CMP SI,0x75
006478d0 : JZ 0x006478e2
006478d2 : CMP SI,0x78
006478d6 : JZ 0x006478e2
006478d8 : CMP SI,0x58
006478dc : JZ 0x006478e2
006478de : XOR EAX,EAX
006478e0 : JMP 0x006478e5
006478e2 : XOR EAX,EAX
006478e4 : INC EAX
006478e5 : CMP ECX,EAX
006478e7 : JNZ 0x00647931
006478e9 : MOV EAX,dword ptr [EBP + 0x8]
006478ec : MOV EAX,dword ptr [EAX + 0xc]
006478ef : MOV ECX,EAX
006478f1 : XOR ECX,dword ptr [EBP + 0x14]
006478f4 : TEST ECX,0x10000
006478fa : JNZ 0x00647931
006478fc : XOR EAX,dword ptr [EBP + 0x14]
006478ff : TEST AL,0x20
00647901 : JNZ 0x00647931
00647903 : MOV ECX,dword ptr [EBP + 0x8]
00647906 : MOV ECX,dword ptr [ECX]
00647908 : XOR EAX,EAX
0064790a : CMP ECX,dword ptr [EBP + 0xc]
0064790d : SETZ AL
00647910 : JMP 0x0064793f
00647912 : CMP EDX,ECX
00647914 : JNZ 0x00647931
00647916 : MOV EAX,dword ptr [EDI + 0xc]
00647919 : MOV ECX,dword ptr [EBP + 0x14]
0064791c : SHR EAX,0x5
0064791f : SHR ECX,0x5
00647922 : NOT EAX
00647924 : NOT ECX
00647926 : XOR EAX,ECX
00647928 : TEST AL,0x1
0064792a : JNZ 0x00647931
0064792c : XOR EAX,EAX
0064792e : INC EAX
0064792f : JMP 0x0064793f
00647931 : XOR EAX,EAX
00647933 : JMP 0x0064793f
00647935 : XOR ECX,ECX
00647937 : CMP AX,SI
0064793a : SETZ CL
0064793d : MOV EAX,ECX
0064793f : POP EDI
00647940 : POP ESI
00647941 : POP EBP
00647942 : RET
