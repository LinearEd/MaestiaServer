PROGRAM  : Maestia.exe
FUNCTION : FUN_008d1c90
ENTRY    : 008d1c90
BODY     : [[008d1c90, 008d1e1b]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_008d1c90(int param_1,int param_2)

{
  int *piVar1;
  char cVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  
  if ((*(int *)(param_1 + 0xb8) + (uint)*(byte *)(*(int *)(param_1 + 0xb8) + 1) * -0x3c != 0) ||
     (param_2 == -1)) {
    return 0;
  }
  iVar3 = FUN_00a1a840(param_2);
  if ((((iVar3 != 0) || (iVar3 = FUN_00a1a6d0(param_2), iVar3 != 0)) ||
      (iVar3 = FUN_00a1a780(param_2), iVar3 != 0)) && (*(char *)(iVar3 + 0x3ad) != '\0')) {
    iVar3 = *(int *)(*DAT_00da9894 + 300);
    iVar4 = 0;
    if (iVar3 != 0) {
      iVar4 = *(int *)(iVar3 + 0xc);
    }
    iVar3 = *(int *)(*DAT_00da9894 + 300);
    iVar5 = 0;
    if (iVar3 != 0) {
      iVar5 = *(int *)(iVar3 + 0xc);
    }
    piVar1 = *(int **)(iVar5 + 0x4c + (uint)*(ushort *)(iVar4 + 0x5c) * 4);
    if ((piVar1 != (int *)0x0) &&
       (puVar7 = *(undefined4 **)(param_1 + 0x5c), puVar7 != *(undefined4 **)(param_1 + 0x60))) {
      do {
        uVar6 = *(undefined4 *)*puVar7;
        iVar3 = (**(code **)(*piVar1 + 0x98))(uVar6);
        if ((((*(int *)(iVar3 + 8) != 0) &&
             ((cVar2 = FUN_009082d0(), cVar2 == '\0' &&
              (iVar3 = (**(code **)(*piVar1 + 0x74))(uVar6,piVar1[0x14]), iVar3 != 0)))) &&
            (*(int *)(iVar3 + 0x24) != 0)) && (*(char *)(*(int *)(iVar3 + 0x24) + 0xb1) != '\0')) {
          FUN_00a364b0(param_2,0);
          FUN_00a0d390(DAT_017247d4,1);
          uVar6 = 0;
          if (*(int *)(*DAT_00da9894 + 300) != 0) {
            uVar6 = *(undefined4 *)(*(int *)(*DAT_00da9894 + 300) + 0xc);
          }
          FUN_00930240(uVar6,0);
          FUN_008018d0(L"[AutoGameLOG] Use HealSkill");
          *(undefined1 *)(param_1 + 0xca) = 1;
          DAT_00da9870 = timeGetTime();
          return 1;
        }
        puVar7 = puVar7 + 1;
      } while (puVar7 != *(undefined4 **)(param_1 + 0x60));
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
008d1c90 : PUSH EBP
008d1c91 : MOV EBP,ESP
008d1c93 : PUSH ECX
008d1c94 : PUSH EBX
008d1c95 : MOV EBX,dword ptr [EBP + 0x8]
008d1c98 : MOV EAX,dword ptr [EBX + 0xb8]
008d1c9e : MOVZX ECX,byte ptr [EAX + 0x1]
008d1ca2 : MOV EDX,ECX
008d1ca4 : SHL EDX,0x4
008d1ca7 : SUB EDX,ECX
008d1ca9 : ADD EDX,EDX
008d1cab : ADD EDX,EDX
008d1cad : SUB EAX,EDX
008d1caf : PUSH ESI
008d1cb0 : JNZ 0x008d1e12
008d1cb6 : MOV ESI,dword ptr [EBP + 0xc]
008d1cb9 : CMP ESI,-0x1
008d1cbc : JZ 0x008d1e12
008d1cc2 : MOV ECX,dword ptr [0x00da93ec]
008d1cc8 : PUSH EDI
008d1cc9 : PUSH ESI
008d1cca : MOV EDI,ECX
008d1ccc : CALL 0x00a1a840
008d1cd1 : TEST EAX,EAX
008d1cd3 : JNZ 0x008d1cf1
008d1cd5 : PUSH ESI
008d1cd6 : MOV ECX,EDI
008d1cd8 : CALL 0x00a1a6d0
008d1cdd : TEST EAX,EAX
008d1cdf : JNZ 0x008d1cf1
008d1ce1 : PUSH ESI
008d1ce2 : MOV ECX,EDI
008d1ce4 : CALL 0x00a1a780
008d1ce9 : TEST EAX,EAX
008d1ceb : JZ 0x008d1d95
008d1cf1 : CMP byte ptr [EAX + 0x3ad],0x0
008d1cf8 : JZ 0x008d1d95
008d1cfe : MOV EAX,[0x00da9894]
008d1d03 : MOV ECX,dword ptr [EAX]
008d1d05 : MOV EAX,dword ptr [ECX + 0x12c]
008d1d0b : TEST EAX,EAX
008d1d0d : JZ 0x008d1d12
008d1d0f : MOV EAX,dword ptr [EAX + 0xc]
008d1d12 : MOVZX EDX,word ptr [EAX + 0x5c]
008d1d16 : MOV EAX,dword ptr [ECX + 0x12c]
008d1d1c : TEST EAX,EAX
008d1d1e : JZ 0x008d1d23
008d1d20 : MOV EAX,dword ptr [EAX + 0xc]
008d1d23 : MOVZX ECX,DX
008d1d26 : MOV EDI,dword ptr [EAX + ECX*0x4 + 0x4c]
008d1d2a : TEST EDI,EDI
008d1d2c : JZ 0x008d1d95
008d1d2e : MOV ESI,dword ptr [EBX + 0x5c]
008d1d31 : MOV dword ptr [EBP + -0x4],ESI
008d1d34 : CMP ESI,dword ptr [EBX + 0x60]
008d1d37 : JZ 0x008d1d95
008d1d39 : LEA ESP,[ESP]
008d1d40 : MOV EDX,dword ptr [ESI]
008d1d42 : MOV EBX,dword ptr [EDX]
008d1d44 : MOV EAX,dword ptr [EDI]
008d1d46 : MOV EDX,dword ptr [EAX + 0x98]
008d1d4c : PUSH EBX
008d1d4d : MOV ECX,EDI
008d1d4f : CALL EDX
008d1d51 : CMP dword ptr [EAX + 0x8],0x0
008d1d55 : JZ 0x008d1d87
008d1d57 : MOV ESI,EAX
008d1d59 : CALL 0x009082d0
008d1d5e : TEST AL,AL
008d1d60 : JNZ 0x008d1d84
008d1d62 : MOV EAX,dword ptr [EDI + 0x50]
008d1d65 : MOV EDX,dword ptr [EDI]
008d1d67 : PUSH EAX
008d1d68 : MOV EAX,dword ptr [EDX + 0x74]
008d1d6b : PUSH EBX
008d1d6c : MOV ECX,EDI
008d1d6e : CALL EAX
008d1d70 : TEST EAX,EAX
008d1d72 : JZ 0x008d1d84
008d1d74 : MOV EAX,dword ptr [EAX + 0x24]
008d1d77 : TEST EAX,EAX
008d1d79 : JZ 0x008d1d84
008d1d7b : CMP byte ptr [EAX + 0xb1],0x0
008d1d82 : JNZ 0x008d1da0
008d1d84 : MOV ESI,dword ptr [EBP + -0x4]
008d1d87 : MOV ECX,dword ptr [EBP + 0x8]
008d1d8a : ADD ESI,0x4
008d1d8d : MOV dword ptr [EBP + -0x4],ESI
008d1d90 : CMP ESI,dword ptr [ECX + 0x60]
008d1d93 : JNZ 0x008d1d40
008d1d95 : POP EDI
008d1d96 : POP ESI
008d1d97 : XOR AL,AL
008d1d99 : POP EBX
008d1d9a : MOV ESP,EBP
008d1d9c : POP EBP
008d1d9d : RET 0x8
008d1da0 : MOV ESI,dword ptr [EBP + 0xc]
008d1da3 : MOV ECX,dword ptr [0x00da93ec]
008d1da9 : PUSH 0x0
008d1dab : PUSH ESI
008d1dac : CALL 0x00a364b0
008d1db1 : MOV EDX,dword ptr [0x017247d4]
008d1db7 : PUSH 0x1
008d1db9 : PUSH EDX
008d1dba : MOV ECX,ESI
008d1dbc : CALL 0x00a0d390
008d1dc1 : MOV EAX,[0x00da9894]
008d1dc6 : MOV EAX,dword ptr [EAX]
008d1dc8 : MOV EAX,dword ptr [EAX + 0x12c]
008d1dce : TEST EAX,EAX
008d1dd0 : JZ 0x008d1dd5
008d1dd2 : MOV EAX,dword ptr [EAX + 0xc]
008d1dd5 : PUSH 0x0
008d1dd7 : PUSH EAX
008d1dd8 : MOV EAX,EBX
008d1dda : CALL 0x00930240
008d1ddf : MOV ESI,dword ptr [0x00da98e8]
008d1de5 : PUSH 0xc54b38
008d1dea : CALL 0x008018d0
008d1def : MOV ECX,dword ptr [EBP + 0x8]
008d1df2 : ADD ESP,0x4
008d1df5 : MOV byte ptr [ECX + 0xca],0x1
008d1dfc : CALL dword ptr [0x00b85598]
008d1e02 : POP EDI
008d1e03 : POP ESI
008d1e04 : MOV [0x00da9870],EAX
008d1e09 : MOV AL,0x1
008d1e0b : POP EBX
008d1e0c : MOV ESP,EBP
008d1e0e : POP EBP
008d1e0f : RET 0x8
008d1e12 : POP ESI
008d1e13 : XOR AL,AL
008d1e15 : POP EBX
008d1e16 : MOV ESP,EBP
008d1e18 : POP EBP
008d1e19 : RET 0x8
