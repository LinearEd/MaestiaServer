PROGRAM  : Maestia.exe
FUNCTION : FUN_005f2a90
ENTRY    : 005f2a90
BODY     : [[005f2a90, 005f2b3e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005f2a90(void)

{
  int iVar1;
  int in_ECX;
  uint uVar2;
  int iVar3;
  
  FUN_005f1b00();
  iVar3 = in_ECX + 0x30;
  *(int *)iVar3 = iVar3;
  *(int *)(in_ECX + 0x34) = iVar3;
  *(int *)(in_ECX + 0x50) = in_ECX + 0x3c;
  *(int *)(in_ECX + 0x54) = in_ECX + 0x3c;
  uVar2 = 0;
  if (*(int *)(in_ECX + 0x88) != 0) {
    iVar3 = 0;
    do {
      iVar1 = *(int *)(in_ECX + 0x78) + 8 + iVar3;
      uVar2 = uVar2 + 1;
      *(int *)(iVar1 + 0xc) = iVar1;
      *(int *)(iVar1 + 0x10) = iVar1;
      iVar3 = iVar3 + 0x30;
    } while (uVar2 < *(uint *)(in_ECX + 0x88));
  }
  iVar3 = *(int *)(in_ECX + 0x1c);
  while (iVar3 != 0) {
    iVar1 = *(int *)(iVar3 + 0x13d8);
    FUN_00515cf0(iVar3);
    iVar3 = iVar1;
  }
  *(undefined4 *)(in_ECX + 0x1c) = 0;
  *(undefined4 *)(in_ECX + 0x20) = 0;
  *(undefined4 *)(in_ECX + 0x24) = 0x7f;
  *(undefined4 *)(in_ECX + 0x28) = 0;
  iVar3 = *(int *)(in_ECX + 100);
  while (iVar3 != 0) {
    iVar1 = *(int *)(iVar3 + 0x11dc);
    FUN_00515cf0(iVar3);
    iVar3 = iVar1;
  }
  *(undefined4 *)(in_ECX + 100) = 0;
  *(undefined4 *)(in_ECX + 0x68) = 0;
  *(undefined4 *)(in_ECX + 0x70) = 0;
  *(undefined4 *)(in_ECX + 0x6c) = 0x7f;
  *(undefined4 *)(in_ECX + 0x38) = 0;
  *(undefined4 *)(in_ECX + 0x88) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
005f2a90 : PUSH EBX
005f2a91 : PUSH ESI
005f2a92 : MOV ESI,ECX
005f2a94 : PUSH EDI
005f2a95 : LEA ECX,[ESI + 0x84]
005f2a9b : CALL 0x005f1b00
005f2aa0 : LEA EAX,[ESI + 0x30]
005f2aa3 : MOV dword ptr [EAX],EAX
005f2aa5 : MOV dword ptr [EAX + 0x4],EAX
005f2aa8 : LEA EAX,[ESI + 0x3c]
005f2aab : XOR EBX,EBX
005f2aad : MOV dword ptr [EAX + 0x14],EAX
005f2ab0 : MOV dword ptr [EAX + 0x18],EAX
005f2ab3 : XOR ECX,ECX
005f2ab5 : CMP dword ptr [ESI + 0x88],EBX
005f2abb : JBE 0x005f2ad9
005f2abd : XOR EDX,EDX
005f2abf : NOP
005f2ac0 : MOV EAX,dword ptr [ESI + 0x78]
005f2ac3 : LEA EAX,[EAX + EDX*0x1 + 0x8]
005f2ac7 : INC ECX
005f2ac8 : MOV dword ptr [EAX + 0xc],EAX
005f2acb : MOV dword ptr [EAX + 0x10],EAX
005f2ace : ADD EDX,0x30
005f2ad1 : CMP ECX,dword ptr [ESI + 0x88]
005f2ad7 : JC 0x005f2ac0
005f2ad9 : MOV EAX,dword ptr [ESI + 0x1c]
005f2adc : CMP EAX,EBX
005f2ade : JZ 0x005f2af2
005f2ae0 : MOV EDI,dword ptr [EAX + 0x13d8]
005f2ae6 : PUSH EAX
005f2ae7 : CALL 0x00515cf0
005f2aec : MOV EAX,EDI
005f2aee : CMP EDI,EBX
005f2af0 : JNZ 0x005f2ae0
005f2af2 : MOV dword ptr [ESI + 0x1c],EBX
005f2af5 : MOV dword ptr [ESI + 0x20],EBX
005f2af8 : MOV dword ptr [ESI + 0x24],0x7f
005f2aff : MOV dword ptr [ESI + 0x28],EBX
005f2b02 : MOV EAX,dword ptr [ESI + 0x64]
005f2b05 : CMP EAX,EBX
005f2b07 : JZ 0x005f2b22
005f2b09 : LEA ESP,[ESP]
005f2b10 : MOV EDI,dword ptr [EAX + 0x11dc]
005f2b16 : PUSH EAX
005f2b17 : CALL 0x00515cf0
005f2b1c : MOV EAX,EDI
005f2b1e : CMP EDI,EBX
005f2b20 : JNZ 0x005f2b10
005f2b22 : MOV dword ptr [ESI + 0x64],EBX
005f2b25 : MOV dword ptr [ESI + 0x68],EBX
005f2b28 : MOV dword ptr [ESI + 0x70],EBX
005f2b2b : MOV dword ptr [ESI + 0x6c],0x7f
005f2b32 : POP EDI
005f2b33 : MOV dword ptr [ESI + 0x38],EBX
005f2b36 : MOV dword ptr [ESI + 0x88],EBX
005f2b3c : POP ESI
005f2b3d : POP EBX
005f2b3e : RET
