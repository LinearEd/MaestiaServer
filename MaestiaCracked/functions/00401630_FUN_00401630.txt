PROGRAM  : Maestia.exe
FUNCTION : FUN_00401630
ENTRY    : 00401630
BODY     : [[00401630, 004016ce]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00401630(undefined4 *param_1,uint *param_2)

{
  int in_EAX;
  undefined4 *puVar1;
  undefined4 *puVar2;
  bool bVar3;
  
  puVar2 = *(undefined4 **)(in_EAX + 4);
  bVar3 = true;
  if (*(char *)((int)puVar2[1] + 0x49) == '\0') {
    puVar1 = (undefined4 *)puVar2[1];
    do {
      puVar2 = puVar1;
      bVar3 = *param_2 < (uint)puVar2[3];
      if (bVar3) {
        puVar1 = (undefined4 *)*puVar2;
      }
      else {
        puVar1 = (undefined4 *)puVar2[2];
      }
    } while (*(char *)((int)puVar1 + 0x49) == '\0');
  }
  if (bVar3) {
    if (puVar2 == (undefined4 *)**(int **)(in_EAX + 4)) {
      bVar3 = true;
      goto LAB_00401684;
    }
    FUN_004030e0();
  }
  if (*param_2 <= (uint)puVar2[3]) {
    *param_1 = puVar2;
    *(undefined1 *)(param_1 + 1) = 0;
    return param_1;
  }
LAB_00401684:
  puVar2 = (undefined4 *)FUN_00401cc0(&param_2,bVar3,param_2);
  *param_1 = *puVar2;
  *(undefined1 *)(param_1 + 1) = 1;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00401630 : PUSH EBP
00401631 : MOV EBP,ESP
00401633 : PUSH ECX
00401634 : PUSH EBX
00401635 : MOV EBX,dword ptr [EBP + 0x8]
00401638 : PUSH ESI
00401639 : PUSH EDI
0040163a : MOV EDI,EAX
0040163c : MOV ESI,dword ptr [EDI + 0x4]
0040163f : MOV EAX,dword ptr [ESI + 0x4]
00401642 : CMP byte ptr [EAX + 0x49],0x0
00401646 : MOV CL,0x1
00401648 : MOV byte ptr [EBP + -0x4],CL
0040164b : JNZ 0x0040166e
0040164d : MOV ECX,dword ptr [EBP + 0xc]
00401650 : MOV EDX,dword ptr [ECX]
00401652 : CMP EDX,dword ptr [EAX + 0xc]
00401655 : MOV ESI,EAX
00401657 : SETC CL
0040165a : MOV byte ptr [EBP + -0x4],CL
0040165d : TEST CL,CL
0040165f : JZ 0x00401665
00401661 : MOV EAX,dword ptr [EAX]
00401663 : JMP 0x00401668
00401665 : MOV EAX,dword ptr [EAX + 0x8]
00401668 : CMP byte ptr [EAX + 0x49],0x0
0040166c : JZ 0x00401652
0040166e : MOV EAX,ESI
00401670 : MOV dword ptr [EBP + 0x8],EAX
00401673 : TEST CL,CL
00401675 : JZ 0x004016ad
00401677 : MOV EDX,dword ptr [EDI + 0x4]
0040167a : CMP ESI,dword ptr [EDX]
0040167c : JNZ 0x004016a2
0040167e : MOV EAX,dword ptr [EBP + 0xc]
00401681 : PUSH EAX
00401682 : PUSH 0x1
00401684 : LEA ECX,[EBP + 0xc]
00401687 : PUSH ECX
00401688 : MOV ECX,ESI
0040168a : CALL 0x00401cc0
0040168f : MOV EDX,dword ptr [EAX]
00401691 : MOV dword ptr [EBX],EDX
00401693 : MOV byte ptr [EBX + 0x4],0x1
00401697 : MOV EAX,EBX
00401699 : POP EDI
0040169a : POP ESI
0040169b : POP EBX
0040169c : MOV ESP,EBP
0040169e : POP EBP
0040169f : RET 0x8
004016a2 : LEA EDX,[EBP + 0x8]
004016a5 : CALL 0x004030e0
004016aa : MOV EAX,dword ptr [EBP + 0x8]
004016ad : MOV EDX,dword ptr [EAX + 0xc]
004016b0 : MOV ECX,dword ptr [EBP + 0xc]
004016b3 : CMP EDX,dword ptr [ECX]
004016b5 : JNC 0x004016be
004016b7 : MOV EAX,dword ptr [EBP + -0x4]
004016ba : PUSH ECX
004016bb : PUSH EAX
004016bc : JMP 0x00401684
004016be : POP EDI
004016bf : MOV dword ptr [EBX],EAX
004016c1 : POP ESI
004016c2 : MOV byte ptr [EBX + 0x4],0x0
004016c6 : MOV EAX,EBX
004016c8 : POP EBX
004016c9 : MOV ESP,EBP
004016cb : POP EBP
004016cc : RET 0x8
