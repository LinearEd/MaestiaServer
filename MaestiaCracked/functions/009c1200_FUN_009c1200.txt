PROGRAM  : Maestia.exe
FUNCTION : FUN_009c1200
ENTRY    : 009c1200
BODY     : [[009c1200, 009c141b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009c1200(int param_1)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  undefined4 uVar4;
  int in_ECX;
  undefined4 ****ppppuVar5;
  int in_EDX;
  uint local_38;
  undefined4 ***local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b21d55;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(int *)(param_1 + 100) = in_ECX;
  if (30000 < in_EDX) {
    in_EDX = 0;
  }
  *(int *)(param_1 + 0x78) = in_EDX;
  uVar3 = *(int *)(param_1 + 0x90) + in_ECX;
  local_18 = 7;
  local_1c = 0;
  local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffff0000);
  uVar3 = ((int)uVar3 < 1) - 1 & uVar3;
  local_14 = uVar2;
  FUN_00406360(&DAT_00c90890,0);
  local_8 = 0;
  if (*(int *)(param_1 + 0x90) == 0) {
    if (0 < in_EDX) {
      uVar4 = FUN_00404750(L"%d<font face=\'$NormalFont\' color=\'#E5C173\'>(+%d)</font>",uVar3,
                           in_EDX);
      local_8._0_1_ = 4;
      FUN_00405eb0(uVar4,0,0xffffffff);
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      goto LAB_009c1397;
    }
    if (in_EDX < 0) {
      uVar4 = FUN_00404750(L"%d<font face=\'$NormalFont\' color=\'#FF0000\'>(%d)</font>",uVar3,
                           in_EDX);
      local_8._0_1_ = 5;
    }
    else {
      uVar4 = FUN_00404750(&DAT_00c90b88,uVar3,uVar2);
      local_8._0_1_ = 6;
    }
  }
  else {
    if (0 < in_EDX) {
      uVar4 = FUN_00404750(L"<font face=\'$NormalFont\' color=\'#33FF00\'>%d</font><font face=\'$NormalFont\' color=\'#E5C173\'> (+%d)</font>"
                           ,uVar3,in_EDX);
      local_8._0_1_ = 1;
      FUN_00405eb0(uVar4,0,0xffffffff);
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      goto LAB_009c1397;
    }
    if (in_EDX < 0) {
      uVar4 = FUN_00404750(L"<font face=\'$NormalFont\' color=\'#33FF00\'>%d</font><font face=\'$NormalFont\' color=\'#FF0000\'> (%d)</font>"
                           ,uVar3,in_EDX);
      local_8._0_1_ = 2;
    }
    else {
      uVar4 = FUN_00404750(L"<font face=\'$NormalFont\' color=\'#33FF00\'>%d</font>",uVar3,uVar2);
      local_8._0_1_ = 3;
    }
  }
  FUN_00405eb0(uVar4,0,0xffffffff);
  local_8 = (uint)local_8._1_3_ << 8;
  FUN_00406560();
LAB_009c1397:
  iVar1 = *DAT_00da9894;
  if ((iVar1 != 0) && (*(int *)(iVar1 + 0x114) != 0)) {
    ppppuVar5 = (undefined4 ****)local_2c[0];
    if (local_18 < 8) {
      ppppuVar5 = local_2c;
    }
    (**(code **)(**(int **)(iVar1 + 0x114) + 4))
              (*(int **)(iVar1 + 0x114),param_1 + 8,"%s,%ls","SetCharIntelligencePlus",ppppuVar5);
  }
  local_8 = 0xffffffff;
  if (local_18 < 8) {
    local_18 = 7;
    local_1c = 0;
    local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffff0000);
    ExceptionList = local_10;
    __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
    return;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
009c1200 : PUSH EBP
009c1201 : MOV EBP,ESP
009c1203 : PUSH -0x1
009c1205 : PUSH 0xb21d55
009c120a : MOV EAX,FS:[0x0]
009c1210 : PUSH EAX
009c1211 : SUB ESP,0x40
009c1214 : MOV EAX,[0x00d66fa0]
009c1219 : XOR EAX,EBP
009c121b : MOV dword ptr [EBP + -0x10],EAX
009c121e : PUSH EBX
009c121f : PUSH ESI
009c1220 : PUSH EDI
009c1221 : PUSH EAX
009c1222 : LEA EAX,[EBP + -0xc]
009c1225 : MOV FS:[0x0],EAX
009c122b : MOV ESI,EDX
009c122d : MOV EAX,dword ptr [EBP + 0x8]
009c1230 : XOR EBX,EBX
009c1232 : MOV dword ptr [EAX + 0x64],ECX
009c1235 : CMP ESI,0x7530
009c123b : CMOVG ESI,EBX
009c123e : MOV dword ptr [EBP + -0x30],EAX
009c1241 : MOV dword ptr [EAX + 0x78],ESI
009c1244 : MOV EAX,dword ptr [EAX + 0x90]
009c124a : ADD EAX,ECX
009c124c : XOR ECX,ECX
009c124e : CMP EAX,EBX
009c1250 : SETLE CL
009c1253 : PUSH EBX
009c1254 : XOR EDX,EDX
009c1256 : PUSH 0xc90890
009c125b : MOV dword ptr [EBP + -0x14],0x7
009c1262 : MOV dword ptr [EBP + -0x18],EBX
009c1265 : MOV word ptr [EBP + -0x28],DX
009c1269 : DEC ECX
009c126a : AND ECX,EAX
009c126c : MOV EDI,ECX
009c126e : LEA ECX,[EBP + -0x2c]
009c1271 : CALL 0x00406360
009c1276 : MOV dword ptr [EBP + -0x4],EBX
009c1279 : MOV EAX,dword ptr [EBP + -0x30]
009c127c : CMP dword ptr [EAX + 0x90],EBX
009c1282 : JZ 0x009c1308
009c1288 : CMP ESI,EBX
009c128a : JLE 0x009c12d4
009c128c : PUSH ESI
009c128d : PUSH EDI
009c128e : PUSH 0xc90898
009c1293 : LEA ESI,[EBP + -0x4c]
009c1296 : CALL 0x00404750
009c129b : ADD ESP,0xc
009c129e : MOV byte ptr [EBP + -0x4],0x1
009c12a2 : PUSH -0x1
009c12a4 : PUSH EBX
009c12a5 : PUSH EAX
009c12a6 : LEA ECX,[EBP + -0x2c]
009c12a9 : CALL 0x00405eb0
009c12ae : MOV byte ptr [EBP + -0x4],BL
009c12b1 : CMP dword ptr [EBP + -0x34],0x8
009c12b5 : JC 0x009c12bf
009c12b7 : MOV ECX,dword ptr [EBP + -0x48]
009c12ba : CALL 0x006f04e0
009c12bf : XOR ECX,ECX
009c12c1 : MOV dword ptr [EBP + -0x34],0x7
009c12c8 : MOV dword ptr [EBP + -0x38],EBX
009c12cb : MOV word ptr [EBP + -0x48],CX
009c12cf : JMP 0x009c1397
009c12d4 : JGE 0x009c12f1
009c12d6 : PUSH ESI
009c12d7 : PUSH EDI
009c12d8 : PUSH 0xc90970
009c12dd : LEA ESI,[EBP + -0x4c]
009c12e0 : CALL 0x00404750
009c12e5 : ADD ESP,0xc
009c12e8 : MOV byte ptr [EBP + -0x4],0x2
009c12ec : JMP 0x009c1380
009c12f1 : PUSH EDI
009c12f2 : PUSH 0xc90a40
009c12f7 : LEA ESI,[EBP + -0x4c]
009c12fa : CALL 0x00404750
009c12ff : ADD ESP,0x8
009c1302 : MOV byte ptr [EBP + -0x4],0x3
009c1306 : JMP 0x009c1380
009c1308 : CMP ESI,EBX
009c130a : JLE 0x009c1351
009c130c : PUSH ESI
009c130d : PUSH EDI
009c130e : PUSH 0xc90aa8
009c1313 : LEA ESI,[EBP + -0x4c]
009c1316 : CALL 0x00404750
009c131b : ADD ESP,0xc
009c131e : MOV byte ptr [EBP + -0x4],0x4
009c1322 : PUSH -0x1
009c1324 : PUSH EBX
009c1325 : PUSH EAX
009c1326 : LEA ECX,[EBP + -0x2c]
009c1329 : CALL 0x00405eb0
009c132e : MOV byte ptr [EBP + -0x4],BL
009c1331 : CMP dword ptr [EBP + -0x34],0x8
009c1335 : JC 0x009c133f
009c1337 : MOV ECX,dword ptr [EBP + -0x48]
009c133a : CALL 0x006f04e0
009c133f : XOR EDX,EDX
009c1341 : MOV dword ptr [EBP + -0x34],0x7
009c1348 : MOV dword ptr [EBP + -0x38],EBX
009c134b : MOV word ptr [EBP + -0x48],DX
009c134f : JMP 0x009c1397
009c1351 : JGE 0x009c136b
009c1353 : PUSH ESI
009c1354 : PUSH EDI
009c1355 : PUSH 0xc90b18
009c135a : LEA ESI,[EBP + -0x4c]
009c135d : CALL 0x00404750
009c1362 : ADD ESP,0xc
009c1365 : MOV byte ptr [EBP + -0x4],0x5
009c1369 : JMP 0x009c1380
009c136b : PUSH EDI
009c136c : PUSH 0xc90b88
009c1371 : LEA ESI,[EBP + -0x4c]
009c1374 : CALL 0x00404750
009c1379 : ADD ESP,0x8
009c137c : MOV byte ptr [EBP + -0x4],0x6
009c1380 : PUSH -0x1
009c1382 : PUSH EBX
009c1383 : PUSH EAX
009c1384 : LEA ECX,[EBP + -0x2c]
009c1387 : CALL 0x00405eb0
009c138c : MOV byte ptr [EBP + -0x4],BL
009c138f : LEA ECX,[EBP + -0x4c]
009c1392 : CALL 0x00406560
009c1397 : MOV EAX,[0x00da9894]
009c139c : MOV EAX,dword ptr [EAX]
009c139e : CMP EAX,EBX
009c13a0 : JZ 0x009c13d9
009c13a2 : CMP dword ptr [EAX + 0x114],EBX
009c13a8 : JZ 0x009c13d9
009c13aa : CMP dword ptr [EBP + -0x14],0x8
009c13ae : MOV EAX,dword ptr [EAX + 0x114]
009c13b4 : MOV ECX,dword ptr [EBP + -0x28]
009c13b7 : JNC 0x009c13bc
009c13b9 : LEA ECX,[EBP + -0x28]
009c13bc : MOV EDX,dword ptr [EAX]
009c13be : MOV EDX,dword ptr [EDX + 0x4]
009c13c1 : PUSH ECX
009c13c2 : MOV ECX,dword ptr [EBP + -0x30]
009c13c5 : PUSH 0xc90b90
009c13ca : PUSH 0xc90ba8
009c13cf : ADD ECX,0x8
009c13d2 : PUSH ECX
009c13d3 : PUSH EAX
009c13d4 : CALL EDX
009c13d6 : ADD ESP,0x14
009c13d9 : MOV dword ptr [EBP + -0x4],0xffffffff
009c13e0 : CMP dword ptr [EBP + -0x14],0x8
009c13e4 : JC 0x009c13ee
009c13e6 : MOV ECX,dword ptr [EBP + -0x28]
009c13e9 : CALL 0x006f04e0
009c13ee : XOR EAX,EAX
009c13f0 : MOV dword ptr [EBP + -0x14],0x7
009c13f7 : MOV dword ptr [EBP + -0x18],EBX
009c13fa : MOV word ptr [EBP + -0x28],AX
009c13fe : MOV ECX,dword ptr [EBP + -0xc]
009c1401 : MOV dword ptr FS:[0x0],ECX
009c1408 : POP ECX
009c1409 : POP EDI
009c140a : POP ESI
009c140b : POP EBX
009c140c : MOV ECX,dword ptr [EBP + -0x10]
009c140f : XOR ECX,EBP
009c1411 : CALL 0x00633e6b
009c1416 : MOV ESP,EBP
009c1418 : POP EBP
009c1419 : RET 0x4
