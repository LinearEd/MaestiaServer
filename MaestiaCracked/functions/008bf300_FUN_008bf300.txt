PROGRAM  : Maestia.exe
FUNCTION : FUN_008bf300
ENTRY    : 008bf300
BODY     : [[008bf300, 008bf370]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_008bf300(int *param_1,short param_2)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int in_ECX;
  int iVar4;
  
  piVar2 = param_1;
  iVar4 = 0;
  do {
    iVar3 = (**(code **)(*piVar2 + 0x74))(iVar4,0);
    iVar1 = DAT_00d7c54c;
    if (iVar3 != 0) {
      param_1 = *(int **)(iVar3 + 0x10);
      FUN_004437f0(&param_1);
      if (((in_ECX != *(int *)(iVar1 + 0x44)) && (*(int *)(in_ECX + 0x10) != 0)) &&
         (*(short *)(*(int *)(in_ECX + 0x10) + 6) == param_2)) {
        return iVar4;
      }
    }
    iVar4 = iVar4 + 1;
    if (2 < iVar4) {
      return -1;
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
008bf300 : PUSH EBP
008bf301 : MOV EBP,ESP
008bf303 : PUSH ECX
008bf304 : PUSH EBX
008bf305 : MOV EBX,dword ptr [EBP + 0x8]
008bf308 : PUSH ESI
008bf309 : PUSH EDI
008bf30a : XOR ESI,ESI
008bf30c : LEA ESP,[ESP]
008bf310 : MOV EAX,dword ptr [EBX]
008bf312 : MOV EDX,dword ptr [EAX + 0x74]
008bf315 : PUSH 0x0
008bf317 : PUSH ESI
008bf318 : MOV ECX,EBX
008bf31a : CALL EDX
008bf31c : TEST EAX,EAX
008bf31e : JZ 0x008bf354
008bf320 : MOV EAX,dword ptr [EAX + 0x10]
008bf323 : MOV EDI,dword ptr [0x00d7c54c]
008bf329 : LEA ECX,[EBP + 0x8]
008bf32c : MOV dword ptr [EBP + 0x8],EAX
008bf32f : PUSH ECX
008bf330 : LEA ECX,[EDI + 0x40]
008bf333 : LEA EAX,[EBP + -0x4]
008bf336 : CALL 0x004437f0
008bf33b : MOV EAX,dword ptr [EBP + -0x4]
008bf33e : CMP EAX,dword ptr [EDI + 0x44]
008bf341 : JZ 0x008bf354
008bf343 : MOV EAX,dword ptr [EAX + 0x10]
008bf346 : TEST EAX,EAX
008bf348 : JZ 0x008bf354
008bf34a : MOV DX,word ptr [EBP + 0xc]
008bf34e : CMP word ptr [EAX + 0x6],DX
008bf352 : JZ 0x008bf366
008bf354 : INC ESI
008bf355 : CMP ESI,0x3
008bf358 : JL 0x008bf310
008bf35a : POP EDI
008bf35b : POP ESI
008bf35c : OR EAX,0xffffffff
008bf35f : POP EBX
008bf360 : MOV ESP,EBP
008bf362 : POP EBP
008bf363 : RET 0x8
008bf366 : POP EDI
008bf367 : MOV EAX,ESI
008bf369 : POP ESI
008bf36a : POP EBX
008bf36b : MOV ESP,EBP
008bf36d : POP EBP
008bf36e : RET 0x8
