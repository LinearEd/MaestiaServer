PROGRAM  : Maestia.exe
FUNCTION : FUN_005cd570
ENTRY    : 005cd570
BODY     : [[005cd570, 005cd681]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005cd570(undefined4 *param_1,uint param_2)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  undefined4 *puVar6;
  int local_18;
  undefined1 local_14;
  
  iVar2 = param_2;
  local_18 = param_2;
  local_14 = 8;
  iVar3 = FUN_00515840(0x34,0);
  if (iVar3 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = FUN_005cbea0(&local_18);
  }
  puVar1 = param_1;
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = uVar4;
  param_1[1] = 0;
  iVar3 = FUN_00515840(0x50,0);
  if (iVar3 == 0) {
    uVar5 = 0;
  }
  else {
    puVar6 = puVar1;
    uVar4 = FUN_00530910(1);
    uVar5 = FUN_00552de0(&local_18,uVar4,puVar6);
    if (uVar5 != 0) {
      *(uint *)(uVar5 + 8) = *(int *)(uVar5 + 8) + 1U & 0x8fffffff;
    }
  }
  param_1 = (undefined4 *)0x11;
  param_2 = uVar5;
  FUN_0050ff10(&param_1,&param_2);
  if (param_2 != 0) {
    FUN_00503db0();
  }
  puVar6 = &param_2;
  param_2 = param_2 & 0xffffff00;
  iVar3 = *(int *)(*(int *)(iVar2 + 0x290) + 0x10);
  uVar4 = FUN_00526210(puVar1);
  (**(code **)(iVar3 + 0x28))(&local_18,iVar2 + 0x4c,uVar4,puVar6);
  FUN_00526bc0();
  if (uVar5 != 0) {
    FUN_00503db0();
  }
  return puVar1;
}



============================================================
DISASSEMBLY
============================================================
005cd570 : SUB ESP,0x18
005cd573 : PUSH EBP
005cd574 : PUSH ESI
005cd575 : MOV ESI,dword ptr [ESP + 0x28]
005cd579 : MOV ECX,dword ptr [ESI + 0x288]
005cd57f : PUSH EDI
005cd580 : PUSH 0x0
005cd582 : PUSH 0x34
005cd584 : MOV dword ptr [ESP + 0x14],ESI
005cd588 : MOV byte ptr [ESP + 0x18],0x8
005cd58d : CALL 0x00515840
005cd592 : TEST EAX,EAX
005cd594 : JZ 0x005cd5a4
005cd596 : LEA ECX,[ESP + 0xc]
005cd59a : PUSH ECX
005cd59b : MOV ECX,EAX
005cd59d : CALL 0x005cbea0
005cd5a2 : JMP 0x005cd5a6
005cd5a4 : XOR EAX,EAX
005cd5a6 : MOV EDI,dword ptr [ESP + 0x28]
005cd5aa : PUSH 0x0
005cd5ac : MOV byte ptr [EDI + 0x8],0x0
005cd5b0 : MOV dword ptr [EDI],EAX
005cd5b2 : MOV dword ptr [EDI + 0x4],0x0
005cd5b9 : MOV ECX,dword ptr [ESI + 0x288]
005cd5bf : PUSH 0x50
005cd5c1 : CALL 0x00515840
005cd5c6 : MOV EBP,EAX
005cd5c8 : TEST EBP,EBP
005cd5ca : JZ 0x005cd67b
005cd5d0 : PUSH EDI
005cd5d1 : PUSH 0x1
005cd5d3 : MOV ECX,ESI
005cd5d5 : CALL 0x00530910
005cd5da : PUSH EAX
005cd5db : LEA EDX,[ESP + 0x14]
005cd5df : PUSH EDX
005cd5e0 : MOV ECX,EBP
005cd5e2 : CALL 0x00552de0
005cd5e7 : MOV EBP,EAX
005cd5e9 : TEST EBP,EBP
005cd5eb : JZ 0x005cd5f9
005cd5ed : MOV EAX,dword ptr [EBP + 0x8]
005cd5f0 : INC EAX
005cd5f1 : AND EAX,0x8fffffff
005cd5f6 : MOV dword ptr [EBP + 0x8],EAX
005cd5f9 : LEA ECX,[ESP + 0x2c]
005cd5fd : PUSH ECX
005cd5fe : LEA EDX,[ESP + 0x2c]
005cd602 : PUSH EDX
005cd603 : LEA ECX,[ESI + 0x278]
005cd609 : MOV dword ptr [ESP + 0x34],EBP
005cd60d : MOV dword ptr [ESP + 0x30],0x11
005cd615 : CALL 0x0050ff10
005cd61a : MOV ECX,dword ptr [ESP + 0x2c]
005cd61e : TEST ECX,ECX
005cd620 : JZ 0x005cd627
005cd622 : CALL 0x00503db0
005cd627 : MOV EAX,dword ptr [ESI + 0x290]
005cd62d : PUSH EBX
005cd62e : LEA ECX,[ESP + 0x30]
005cd632 : PUSH ECX
005cd633 : MOV byte ptr [ESP + 0x34],0x0
005cd638 : MOV EBX,dword ptr [EAX + 0x10]
005cd63b : PUSH EDI
005cd63c : LEA ECX,[ESP + 0x20]
005cd640 : CALL 0x00526210
005cd645 : MOV ECX,dword ptr [ESI + 0x290]
005cd64b : PUSH EAX
005cd64c : LEA EDX,[ESI + 0x4c]
005cd64f : PUSH EDX
005cd650 : MOV EDX,dword ptr [EBX + 0x28]
005cd653 : LEA EAX,[ESP + 0x1c]
005cd657 : PUSH EAX
005cd658 : ADD ECX,0x10
005cd65b : CALL EDX
005cd65d : LEA ECX,[ESP + 0x18]
005cd661 : CALL 0x00526bc0
005cd666 : POP EBX
005cd667 : TEST EBP,EBP
005cd669 : JZ 0x005cd672
005cd66b : MOV ECX,EBP
005cd66d : CALL 0x00503db0
005cd672 : MOV EAX,EDI
005cd674 : POP EDI
005cd675 : POP ESI
005cd676 : POP EBP
005cd677 : ADD ESP,0x18
005cd67a : RET
005cd67b : XOR EBP,EBP
005cd67d : JMP 0x005cd5f9
