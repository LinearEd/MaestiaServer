PROGRAM  : Maestia.exe
FUNCTION : FUN_00775c20
ENTRY    : 00775c20
BODY     : [[00775c20, 00775f91]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00775c20(int *param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  char cVar1;
  uint uVar2;
  int *piVar3;
  undefined4 uVar4;
  int unaff_EDI;
  undefined1 local_48 [4];
  undefined2 local_44;
  undefined4 local_34;
  uint local_30;
  undefined1 local_2c [4];
  undefined2 local_28;
  undefined4 local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4d3d1;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(int **)(unaff_EDI + 0x1e0) = param_1;
  if (param_1 != (int *)0x0) {
    FUN_00406460(L"skydome_01@skydome01");
    local_8 = 0;
    piVar3 = (int *)(**(code **)(*param_1 + 0x40))(local_2c,uVar2);
    local_8 = 0xffffffff;
    if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_14 = 7;
    local_18 = 0;
    local_28 = 0;
    if (piVar3 != (int *)0x0) {
      FUN_00406460(L"skydome_01@skydome01");
      local_8 = 1;
      uVar4 = (**(code **)(*piVar3 + 0xf0))(local_48);
      *(undefined4 *)(unaff_EDI + 0x1e4) = uVar4;
      local_8 = 0xffffffff;
      if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_30 = 7;
      local_34 = 0;
      local_44 = 0;
      if (*(int *)(unaff_EDI + 0x1e4) != 0) {
        FUN_007395a0();
        cVar1 = FUN_004049e0();
        if (cVar1 == '\0') {
          FUN_00406460(L"fieldsky_03.dds");
          local_8 = 2;
          FUN_0073a150(local_48);
          local_8 = 0xffffffff;
          FUN_00406560();
        }
        else {
          FUN_0073a150(param_2);
        }
      }
    }
    FUN_00406460(L"skydome_01@skydome02");
    local_8 = 3;
    piVar3 = (int *)(**(code **)(*param_1 + 0x40))(local_48);
    local_8 = 0xffffffff;
    if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_30 = 7;
    local_34 = 0;
    local_44 = 0;
    if (piVar3 != (int *)0x0) {
      FUN_00406460(L"skydome_01@skydome02");
      local_8 = 4;
      uVar4 = (**(code **)(*piVar3 + 0xf0))(local_2c);
      *(undefined4 *)(unaff_EDI + 0x1e8) = uVar4;
      local_8 = 0xffffffff;
      if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_14 = 7;
      local_18 = 0;
      local_28 = 0;
      if (*(int *)(unaff_EDI + 0x1e8) != 0) {
        FUN_007395a0();
        cVar1 = FUN_004049e0();
        if (cVar1 == '\0') {
          FUN_00406460(L"skydome_layer02.dds");
          local_8 = 5;
          FUN_0073a150(local_48);
          local_8 = 0xffffffff;
          FUN_00406560();
        }
        else {
          FUN_0073a150(param_4);
        }
      }
    }
    FUN_00406460(L"skydome_01@skydome03");
    local_8 = 6;
    piVar3 = (int *)(**(code **)(*param_1 + 0x40))(local_48);
    local_8 = 0xffffffff;
    if (7 < local_30) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_30 = 7;
    local_34 = 0;
    local_44 = 0;
    if (piVar3 != (int *)0x0) {
      FUN_00406460(L"skydome_01@skydome03");
      local_8 = 7;
      uVar4 = (**(code **)(*piVar3 + 0xf0))(local_2c);
      *(undefined4 *)(unaff_EDI + 0x1ec) = uVar4;
      local_8 = 0xffffffff;
      if (7 < local_14) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_14 = 7;
      local_18 = 0;
      local_28 = 0;
      if (*(int *)(unaff_EDI + 0x1ec) != 0) {
        FUN_007395a0();
        cVar1 = FUN_004049e0();
        if (cVar1 != '\0') {
          FUN_0073a150(param_3);
          ExceptionList = local_10;
          return;
        }
        FUN_00406460(L"skydome_layer03.dds");
        local_8 = 8;
        FUN_0073a150(local_48);
        local_8 = 0xffffffff;
        FUN_00406560();
      }
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00775c20 : PUSH EBP
00775c21 : MOV EBP,ESP
00775c23 : PUSH -0x1
00775c25 : PUSH 0xb4d3d1
00775c2a : MOV EAX,FS:[0x0]
00775c30 : PUSH EAX
00775c31 : SUB ESP,0x38
00775c34 : PUSH EBX
00775c35 : PUSH ESI
00775c36 : MOV EAX,[0x00d66fa0]
00775c3b : XOR EAX,EBP
00775c3d : PUSH EAX
00775c3e : LEA EAX,[EBP + -0xc]
00775c41 : MOV FS:[0x0],EAX
00775c47 : MOV EBX,dword ptr [EBP + 0x8]
00775c4a : MOV dword ptr [EDI + 0x1e0],EBX
00775c50 : TEST EBX,EBX
00775c52 : JZ 0x00775f7f
00775c58 : PUSH 0xc0f894
00775c5d : LEA ECX,[EBP + -0x28]
00775c60 : CALL 0x00406460
00775c65 : MOV dword ptr [EBP + -0x4],0x0
00775c6c : MOV EAX,dword ptr [EBX]
00775c6e : MOV EDX,dword ptr [EAX + 0x40]
00775c71 : LEA ECX,[EBP + -0x28]
00775c74 : PUSH ECX
00775c75 : MOV ECX,EBX
00775c77 : CALL EDX
00775c79 : MOV ESI,EAX
00775c7b : MOV dword ptr [EBP + -0x4],0xffffffff
00775c82 : CMP dword ptr [EBP + -0x10],0x8
00775c86 : JC 0x00775c90
00775c88 : MOV ECX,dword ptr [EBP + -0x24]
00775c8b : CALL 0x006f04e0
00775c90 : XOR EAX,EAX
00775c92 : MOV dword ptr [EBP + -0x10],0x7
00775c99 : MOV dword ptr [EBP + -0x14],0x0
00775ca0 : MOV word ptr [EBP + -0x24],AX
00775ca4 : TEST ESI,ESI
00775ca6 : JZ 0x00775d62
00775cac : PUSH 0xc0fac4
00775cb1 : LEA ECX,[EBP + -0x44]
00775cb4 : CALL 0x00406460
00775cb9 : MOV dword ptr [EBP + -0x4],0x1
00775cc0 : MOV EDX,dword ptr [ESI]
00775cc2 : MOV EDX,dword ptr [EDX + 0xf0]
00775cc8 : LEA EAX,[EBP + -0x44]
00775ccb : PUSH EAX
00775ccc : MOV ECX,ESI
00775cce : CALL EDX
00775cd0 : MOV dword ptr [EDI + 0x1e4],EAX
00775cd6 : MOV dword ptr [EBP + -0x4],0xffffffff
00775cdd : CMP dword ptr [EBP + -0x2c],0x8
00775ce1 : JC 0x00775ceb
00775ce3 : MOV ECX,dword ptr [EBP + -0x40]
00775ce6 : CALL 0x006f04e0
00775ceb : MOV ECX,dword ptr [EDI + 0x1e4]
00775cf1 : XOR EAX,EAX
00775cf3 : MOV dword ptr [EBP + -0x2c],0x7
00775cfa : MOV dword ptr [EBP + -0x30],0x0
00775d01 : MOV word ptr [EBP + -0x40],AX
00775d05 : TEST ECX,ECX
00775d07 : JZ 0x00775d62
00775d09 : CALL 0x007395a0
00775d0e : MOV ECX,dword ptr [EBP + 0xc]
00775d11 : MOV ESI,0xc0faf0
00775d16 : CALL 0x004049e0
00775d1b : TEST AL,AL
00775d1d : JZ 0x00775d30
00775d1f : MOV ECX,dword ptr [EBP + 0xc]
00775d22 : MOV ESI,dword ptr [EDI + 0x1e4]
00775d28 : PUSH ECX
00775d29 : CALL 0x0073a150
00775d2e : JMP 0x00775d62
00775d30 : PUSH 0xc0faf4
00775d35 : LEA ECX,[EBP + -0x44]
00775d38 : CALL 0x00406460
00775d3d : MOV dword ptr [EBP + -0x4],0x2
00775d44 : MOV ESI,dword ptr [EDI + 0x1e4]
00775d4a : LEA EDX,[EBP + -0x44]
00775d4d : PUSH EDX
00775d4e : CALL 0x0073a150
00775d53 : MOV dword ptr [EBP + -0x4],0xffffffff
00775d5a : LEA ECX,[EBP + -0x44]
00775d5d : CALL 0x00406560
00775d62 : PUSH 0xc0fb14
00775d67 : LEA ECX,[EBP + -0x44]
00775d6a : CALL 0x00406460
00775d6f : MOV dword ptr [EBP + -0x4],0x3
00775d76 : MOV EAX,dword ptr [EBX]
00775d78 : MOV EDX,dword ptr [EAX + 0x40]
00775d7b : LEA ECX,[EBP + -0x44]
00775d7e : PUSH ECX
00775d7f : MOV ECX,EBX
00775d81 : CALL EDX
00775d83 : MOV ESI,EAX
00775d85 : MOV dword ptr [EBP + -0x4],0xffffffff
00775d8c : CMP dword ptr [EBP + -0x2c],0x8
00775d90 : JC 0x00775d9a
00775d92 : MOV ECX,dword ptr [EBP + -0x40]
00775d95 : CALL 0x006f04e0
00775d9a : XOR EAX,EAX
00775d9c : MOV dword ptr [EBP + -0x2c],0x7
00775da3 : MOV dword ptr [EBP + -0x30],0x0
00775daa : MOV word ptr [EBP + -0x40],AX
00775dae : TEST ESI,ESI
00775db0 : JZ 0x00775e6c
00775db6 : PUSH 0xc0fb40
00775dbb : LEA ECX,[EBP + -0x28]
00775dbe : CALL 0x00406460
00775dc3 : MOV dword ptr [EBP + -0x4],0x4
00775dca : MOV EDX,dword ptr [ESI]
00775dcc : MOV EDX,dword ptr [EDX + 0xf0]
00775dd2 : LEA EAX,[EBP + -0x28]
00775dd5 : PUSH EAX
00775dd6 : MOV ECX,ESI
00775dd8 : CALL EDX
00775dda : MOV dword ptr [EDI + 0x1e8],EAX
00775de0 : MOV dword ptr [EBP + -0x4],0xffffffff
00775de7 : CMP dword ptr [EBP + -0x10],0x8
00775deb : JC 0x00775df5
00775ded : MOV ECX,dword ptr [EBP + -0x24]
00775df0 : CALL 0x006f04e0
00775df5 : MOV ECX,dword ptr [EDI + 0x1e8]
00775dfb : XOR EAX,EAX
00775dfd : MOV dword ptr [EBP + -0x10],0x7
00775e04 : MOV dword ptr [EBP + -0x14],0x0
00775e0b : MOV word ptr [EBP + -0x24],AX
00775e0f : TEST ECX,ECX
00775e11 : JZ 0x00775e6c
00775e13 : CALL 0x007395a0
00775e18 : MOV ECX,dword ptr [EBP + 0x14]
00775e1b : MOV ESI,0xc0fb6c
00775e20 : CALL 0x004049e0
00775e25 : TEST AL,AL
00775e27 : JZ 0x00775e3a
00775e29 : MOV ECX,dword ptr [EBP + 0x14]
00775e2c : MOV ESI,dword ptr [EDI + 0x1e8]
00775e32 : PUSH ECX
00775e33 : CALL 0x0073a150
00775e38 : JMP 0x00775e6c
00775e3a : PUSH 0xc0fb70
00775e3f : LEA ECX,[EBP + -0x44]
00775e42 : CALL 0x00406460
00775e47 : MOV dword ptr [EBP + -0x4],0x5
00775e4e : MOV ESI,dword ptr [EDI + 0x1e8]
00775e54 : LEA EDX,[EBP + -0x44]
00775e57 : PUSH EDX
00775e58 : CALL 0x0073a150
00775e5d : MOV dword ptr [EBP + -0x4],0xffffffff
00775e64 : LEA ECX,[EBP + -0x44]
00775e67 : CALL 0x00406560
00775e6c : PUSH 0xc0fb98
00775e71 : LEA ECX,[EBP + -0x44]
00775e74 : CALL 0x00406460
00775e79 : MOV dword ptr [EBP + -0x4],0x6
00775e80 : MOV EAX,dword ptr [EBX]
00775e82 : MOV EDX,dword ptr [EAX + 0x40]
00775e85 : LEA ECX,[EBP + -0x44]
00775e88 : PUSH ECX
00775e89 : MOV ECX,EBX
00775e8b : CALL EDX
00775e8d : MOV EBX,EAX
00775e8f : MOV dword ptr [EBP + -0x4],0xffffffff
00775e96 : CMP dword ptr [EBP + -0x2c],0x8
00775e9a : JC 0x00775ea4
00775e9c : MOV ECX,dword ptr [EBP + -0x40]
00775e9f : CALL 0x006f04e0
00775ea4 : XOR EAX,EAX
00775ea6 : MOV ESI,0x7
00775eab : MOV dword ptr [EBP + -0x2c],ESI
00775eae : MOV dword ptr [EBP + -0x30],0x0
00775eb5 : MOV word ptr [EBP + -0x40],AX
00775eb9 : TEST EBX,EBX
00775ebb : JZ 0x00775f7f
00775ec1 : PUSH 0xc0fbc4
00775ec6 : LEA ECX,[EBP + -0x28]
00775ec9 : CALL 0x00406460
00775ece : MOV dword ptr [EBP + -0x4],ESI
00775ed1 : MOV EDX,dword ptr [EBX]
00775ed3 : MOV EDX,dword ptr [EDX + 0xf0]
00775ed9 : LEA EAX,[EBP + -0x28]
00775edc : PUSH EAX
00775edd : MOV ECX,EBX
00775edf : CALL EDX
00775ee1 : MOV dword ptr [EDI + 0x1ec],EAX
00775ee7 : MOV dword ptr [EBP + -0x4],0xffffffff
00775eee : CMP dword ptr [EBP + -0x10],0x8
00775ef2 : JC 0x00775efc
00775ef4 : MOV ECX,dword ptr [EBP + -0x24]
00775ef7 : CALL 0x006f04e0
00775efc : MOV ECX,dword ptr [EDI + 0x1ec]
00775f02 : XOR EAX,EAX
00775f04 : MOV dword ptr [EBP + -0x10],ESI
00775f07 : MOV dword ptr [EBP + -0x14],0x0
00775f0e : MOV word ptr [EBP + -0x24],AX
00775f12 : TEST ECX,ECX
00775f14 : JZ 0x00775f7f
00775f16 : CALL 0x007395a0
00775f1b : MOV EBX,dword ptr [EBP + 0x10]
00775f1e : MOV ESI,0xc0fbf0
00775f23 : MOV ECX,EBX
00775f25 : CALL 0x004049e0
00775f2a : TEST AL,AL
00775f2c : JZ 0x00775f4d
00775f2e : MOV ESI,dword ptr [EDI + 0x1ec]
00775f34 : PUSH EBX
00775f35 : CALL 0x0073a150
00775f3a : MOV ECX,dword ptr [EBP + -0xc]
00775f3d : MOV dword ptr FS:[0x0],ECX
00775f44 : POP ECX
00775f45 : POP ESI
00775f46 : POP EBX
00775f47 : MOV ESP,EBP
00775f49 : POP EBP
00775f4a : RET 0x10
00775f4d : PUSH 0xc0fbf4
00775f52 : LEA ECX,[EBP + -0x44]
00775f55 : CALL 0x00406460
00775f5a : MOV dword ptr [EBP + -0x4],0x8
00775f61 : MOV ESI,dword ptr [EDI + 0x1ec]
00775f67 : LEA ECX,[EBP + -0x44]
00775f6a : PUSH ECX
00775f6b : CALL 0x0073a150
00775f70 : MOV dword ptr [EBP + -0x4],0xffffffff
00775f77 : LEA ECX,[EBP + -0x44]
00775f7a : CALL 0x00406560
00775f7f : MOV ECX,dword ptr [EBP + -0xc]
00775f82 : MOV dword ptr FS:[0x0],ECX
00775f89 : POP ECX
00775f8a : POP ESI
00775f8b : POP EBX
00775f8c : MOV ESP,EBP
00775f8e : POP EBP
00775f8f : RET 0x10
