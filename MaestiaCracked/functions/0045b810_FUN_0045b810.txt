PROGRAM  : Maestia.exe
FUNCTION : FUN_0045b810
ENTRY    : 0045b810
BODY     : [[0045b810, 0045babb]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0045b943) */
/* WARNING: Removing unreachable block (ram,0x0045b953) */
/* WARNING: Removing unreachable block (ram,0x0045b95c) */
/* WARNING: Removing unreachable block (ram,0x0045b95f) */
/* WARNING: Removing unreachable block (ram,0x0045b94f) */
/* WARNING: Removing unreachable block (ram,0x0045b96c) */
/* WARNING: Removing unreachable block (ram,0x0045b97c) */
/* WARNING: Removing unreachable block (ram,0x0045b987) */
/* WARNING: Removing unreachable block (ram,0x0045b983) */
/* WARNING: Removing unreachable block (ram,0x0045b977) */
/* WARNING: Removing unreachable block (ram,0x0045b98a) */
/* WARNING: Removing unreachable block (ram,0x0045b99a) */
/* WARNING: Removing unreachable block (ram,0x0045b9a2) */

void FUN_0045b810(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  undefined4 uVar5;
  int *piVar6;
  int *piVar7;
  int *piVar8;
  undefined1 local_5c [4];
  undefined1 local_58;
  undefined4 local_48;
  undefined4 local_44;
  undefined1 local_40 [44];
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b7a878;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (*(char *)((int)param_3 + 0x15) != '\0') {
    local_44 = 0xf;
    local_48 = 0;
    local_58 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_c = 0;
    FUN_00403c10(local_5c);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_40,&DAT_00ced890);
  }
  FUN_00416210(DAT_00d66fa0 ^ (uint)&stack0xffffff90);
  piVar8 = (int *)*param_3;
  if (*(char *)((int)piVar8 + 0x15) == '\0') {
    if (*(char *)(param_3[2] + 0x15) == '\0') {
      piVar8 = (int *)param_3[2];
    }
  }
  else {
    piVar8 = (int *)param_3[2];
  }
  piVar7 = (int *)param_3[1];
  if (*(char *)((int)piVar8 + 0x15) == '\0') {
    piVar8[1] = (int)piVar7;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar8;
  }
  else if ((int *)*piVar7 == param_3) {
    *piVar7 = (int)piVar8;
  }
  else {
    piVar7[2] = (int)piVar8;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar6 = piVar7;
    if (*(char *)((int)piVar8 + 0x15) == '\0') {
      cVar1 = *(char *)(*piVar8 + 0x15);
      piVar2 = (int *)*piVar8;
      piVar6 = piVar8;
      while (piVar4 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar4;
        cVar1 = *(char *)((int)piVar2 + 0x15);
        piVar6 = piVar4;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar6;
  }
  iVar3 = *(int *)(param_1 + 4);
  if (*(int **)(iVar3 + 8) == param_3) {
    if (*(char *)((int)piVar8 + 0x15) == '\0') {
      uVar5 = FUN_0041fe30();
      *(undefined4 *)(iVar3 + 8) = uVar5;
    }
    else {
      *(int **)(iVar3 + 8) = piVar7;
    }
  }
  if ((char)param_3[5] == '\x01') {
    if (piVar8 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar6 = piVar7;
        if ((char)piVar8[5] != '\x01') break;
        piVar7 = (int *)*piVar6;
        if (piVar8 == piVar7) {
          piVar7 = (int *)piVar6[2];
          if ((char)piVar7[5] == '\0') {
            *(undefined1 *)(piVar7 + 5) = 1;
            *(undefined1 *)(piVar6 + 5) = 0;
            FUN_00486420(param_1);
            piVar7 = (int *)piVar6[2];
          }
          if (*(char *)((int)piVar7 + 0x15) == '\0') {
            if ((*(char *)(*piVar7 + 0x14) != '\x01') || (*(char *)(piVar7[2] + 0x14) != '\x01')) {
              if (*(char *)(piVar7[2] + 0x14) == '\x01') {
                *(undefined1 *)(*piVar7 + 0x14) = 1;
                *(undefined1 *)(piVar7 + 5) = 0;
                FUN_00440290(param_1);
                piVar7 = (int *)piVar6[2];
              }
              *(char *)(piVar7 + 5) = (char)piVar6[5];
              *(undefined1 *)(piVar6 + 5) = 1;
              *(undefined1 *)(piVar7[2] + 0x14) = 1;
              FUN_00486420(param_1);
              break;
            }
LAB_0045ba67:
            *(undefined1 *)(piVar7 + 5) = 0;
          }
        }
        else {
          if ((char)piVar7[5] == '\0') {
            *(undefined1 *)(piVar7 + 5) = 1;
            *(undefined1 *)(piVar6 + 5) = 0;
            FUN_00440290(param_1);
            piVar7 = (int *)*piVar6;
          }
          if (*(char *)((int)piVar7 + 0x15) == '\0') {
            if ((*(char *)(piVar7[2] + 0x14) == '\x01') && (*(char *)(*piVar7 + 0x14) == '\x01'))
            goto LAB_0045ba67;
            if (*(char *)(*piVar7 + 0x14) == '\x01') {
              *(undefined1 *)(piVar7[2] + 0x14) = 1;
              *(undefined1 *)(piVar7 + 5) = 0;
              FUN_00486420(param_1);
              piVar7 = (int *)*piVar6;
            }
            *(char *)(piVar7 + 5) = (char)piVar6[5];
            *(undefined1 *)(piVar6 + 5) = 1;
            *(undefined1 *)(*piVar7 + 0x14) = 1;
            FUN_00440290(param_1);
            break;
          }
        }
        piVar7 = (int *)piVar6[1];
        piVar8 = piVar6;
      } while (piVar6 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar8 + 5) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0045b810 : PUSH EBP
0045b811 : MOV EBP,ESP
0045b813 : AND ESP,0xfffffff8
0045b816 : PUSH -0x1
0045b818 : PUSH 0xb7a878
0045b81d : MOV EAX,FS:[0x0]
0045b823 : PUSH EAX
0045b824 : SUB ESP,0x50
0045b827 : PUSH EBX
0045b828 : PUSH ESI
0045b829 : PUSH EDI
0045b82a : MOV EAX,[0x00d66fa0]
0045b82f : XOR EAX,ESP
0045b831 : PUSH EAX
0045b832 : LEA EAX,[ESP + 0x60]
0045b836 : MOV FS:[0x0],EAX
0045b83c : MOV EAX,dword ptr [EBP + 0x10]
0045b83f : CMP byte ptr [EAX + 0x15],0x0
0045b843 : JZ 0x0045b889
0045b845 : PUSH 0x1b
0045b847 : XOR ESI,ESI
0045b849 : PUSH 0xcca4a8
0045b84e : LEA ECX,[ESP + 0x20]
0045b852 : MOV dword ptr [ESP + 0x38],0xf
0045b85a : MOV dword ptr [ESP + 0x34],ESI
0045b85e : MOV byte ptr [ESP + 0x24],0x0
0045b863 : CALL 0x00404b50
0045b868 : MOV dword ptr [ESP + 0x68],ESI
0045b86c : LEA EAX,[ESP + 0x18]
0045b870 : PUSH EAX
0045b871 : LEA ECX,[ESP + 0x38]
0045b875 : CALL 0x00403c10
0045b87a : PUSH 0xced890
0045b87f : LEA ECX,[ESP + 0x38]
0045b883 : PUSH ECX
0045b884 : CALL 0x006409eb
0045b889 : MOV EBX,EAX
0045b88b : LEA EDX,[EBP + 0x10]
0045b88e : MOV dword ptr [ESP + 0x10],EBX
0045b892 : CALL 0x00416210
0045b897 : MOV ECX,dword ptr [EBX]
0045b899 : CMP byte ptr [ECX + 0x15],0x0
0045b89d : JZ 0x0045b8a4
0045b89f : MOV EDI,dword ptr [EBX + 0x8]
0045b8a2 : JMP 0x0045b8c2
0045b8a4 : MOV EDX,dword ptr [EBX + 0x8]
0045b8a7 : CMP byte ptr [EDX + 0x15],0x0
0045b8ab : JZ 0x0045b8b1
0045b8ad : MOV EDI,ECX
0045b8af : JMP 0x0045b8c2
0045b8b1 : MOV EAX,dword ptr [EBP + 0x10]
0045b8b4 : MOV EDI,dword ptr [EAX + 0x8]
0045b8b7 : LEA EDX,[EAX + 0x8]
0045b8ba : CMP EAX,EBX
0045b8bc : JNZ 0x0045b943
0045b8c2 : CMP byte ptr [EDI + 0x15],0x0
0045b8c6 : MOV ESI,dword ptr [EBX + 0x4]
0045b8c9 : JNZ 0x0045b8ce
0045b8cb : MOV dword ptr [EDI + 0x4],ESI
0045b8ce : MOV EDX,dword ptr [EBP + 0x8]
0045b8d1 : MOV EAX,dword ptr [EDX + 0x4]
0045b8d4 : CMP dword ptr [EAX + 0x4],EBX
0045b8d7 : JNZ 0x0045b8de
0045b8d9 : MOV dword ptr [EAX + 0x4],EDI
0045b8dc : JMP 0x0045b8e9
0045b8de : CMP dword ptr [ESI],EBX
0045b8e0 : JNZ 0x0045b8e6
0045b8e2 : MOV dword ptr [ESI],EDI
0045b8e4 : JMP 0x0045b8e9
0045b8e6 : MOV dword ptr [ESI + 0x8],EDI
0045b8e9 : MOV EAX,dword ptr [EDX + 0x4]
0045b8ec : CMP dword ptr [EAX],EBX
0045b8ee : JNZ 0x0045b913
0045b8f0 : CMP byte ptr [EDI + 0x15],0x0
0045b8f4 : JZ 0x0045b8fa
0045b8f6 : MOV ECX,ESI
0045b8f8 : JMP 0x0045b90e
0045b8fa : MOV EAX,dword ptr [EDI]
0045b8fc : CMP byte ptr [EAX + 0x15],0x0
0045b900 : MOV ECX,EDI
0045b902 : JNZ 0x0045b90e
0045b904 : MOV ECX,EAX
0045b906 : MOV EAX,dword ptr [ECX]
0045b908 : CMP byte ptr [EAX + 0x15],0x0
0045b90c : JZ 0x0045b904
0045b90e : MOV EAX,dword ptr [EDX + 0x4]
0045b911 : MOV dword ptr [EAX],ECX
0045b913 : MOV ECX,dword ptr [EDX + 0x4]
0045b916 : MOV dword ptr [ESP + 0x14],ECX
0045b91a : CMP dword ptr [ECX + 0x8],EBX
0045b91d : JNZ 0x0045b9a5
0045b923 : CMP byte ptr [EDI + 0x15],0x0
0045b927 : JZ 0x0045b930
0045b929 : MOV EAX,ESI
0045b92b : MOV dword ptr [ECX + 0x8],EAX
0045b92e : JMP 0x0045b9a5
0045b930 : MOV EAX,EDI
0045b932 : CALL 0x0041fe30
0045b937 : MOV ECX,dword ptr [ESP + 0x14]
0045b93b : MOV EDX,dword ptr [EBP + 0x8]
0045b93e : MOV dword ptr [ECX + 0x8],EAX
0045b941 : JMP 0x0045b9a5
0045b943 : MOV dword ptr [ECX + 0x4],EAX
0045b946 : MOV ECX,dword ptr [EBX]
0045b948 : MOV dword ptr [EAX],ECX
0045b94a : CMP EAX,dword ptr [EBX + 0x8]
0045b94d : JNZ 0x0045b953
0045b94f : MOV ESI,EAX
0045b951 : JMP 0x0045b96c
0045b953 : CMP byte ptr [EDI + 0x15],0x0
0045b957 : MOV ESI,dword ptr [EAX + 0x4]
0045b95a : JNZ 0x0045b95f
0045b95c : MOV dword ptr [EDI + 0x4],ESI
0045b95f : MOV dword ptr [ESI],EDI
0045b961 : MOV ECX,dword ptr [EBX + 0x8]
0045b964 : MOV dword ptr [EDX],ECX
0045b966 : MOV EDX,dword ptr [EBX + 0x8]
0045b969 : MOV dword ptr [EDX + 0x4],EAX
0045b96c : MOV ECX,dword ptr [EBP + 0x8]
0045b96f : MOV ECX,dword ptr [ECX + 0x4]
0045b972 : CMP dword ptr [ECX + 0x4],EBX
0045b975 : JNZ 0x0045b97c
0045b977 : MOV dword ptr [ECX + 0x4],EAX
0045b97a : JMP 0x0045b98a
0045b97c : MOV ECX,dword ptr [EBX + 0x4]
0045b97f : CMP dword ptr [ECX],EBX
0045b981 : JNZ 0x0045b987
0045b983 : MOV dword ptr [ECX],EAX
0045b985 : JMP 0x0045b98a
0045b987 : MOV dword ptr [ECX + 0x8],EAX
0045b98a : MOV EDX,dword ptr [EBX + 0x4]
0045b98d : MOV dword ptr [EAX + 0x4],EDX
0045b990 : LEA ECX,[EBX + 0x14]
0045b993 : ADD EAX,0x14
0045b996 : CMP EAX,ECX
0045b998 : JZ 0x0045b9a2
0045b99a : MOV BL,byte ptr [ECX]
0045b99c : MOV DL,byte ptr [EAX]
0045b99e : MOV byte ptr [EAX],BL
0045b9a0 : MOV byte ptr [ECX],DL
0045b9a2 : MOV EDX,dword ptr [EBP + 0x8]
0045b9a5 : MOV EAX,dword ptr [ESP + 0x10]
0045b9a9 : MOV BL,0x1
0045b9ab : CMP byte ptr [EAX + 0x14],BL
0045b9ae : JNZ 0x0045bab3
0045b9b4 : MOV ECX,dword ptr [EDX + 0x4]
0045b9b7 : CMP EDI,dword ptr [ECX + 0x4]
0045b9ba : JZ 0x0045bab0
0045b9c0 : CMP byte ptr [EDI + 0x14],BL
0045b9c3 : JNZ 0x0045bab0
0045b9c9 : MOV ECX,dword ptr [ESI]
0045b9cb : CMP EDI,ECX
0045b9cd : JNZ 0x0045ba38
0045b9cf : MOV ECX,dword ptr [ESI + 0x8]
0045b9d2 : CMP byte ptr [ECX + 0x14],0x0
0045b9d6 : JNZ 0x0045b9ed
0045b9d8 : MOV byte ptr [ECX + 0x14],BL
0045b9db : PUSH EDX
0045b9dc : MOV ECX,ESI
0045b9de : MOV byte ptr [ESI + 0x14],0x0
0045b9e2 : CALL 0x00486420
0045b9e7 : MOV ECX,dword ptr [ESI + 0x8]
0045b9ea : MOV EDX,dword ptr [EBP + 0x8]
0045b9ed : CMP byte ptr [ECX + 0x15],0x0
0045b9f1 : JNZ 0x0045ba6b
0045b9f3 : MOV EAX,dword ptr [ECX]
0045b9f5 : CMP byte ptr [EAX + 0x14],BL
0045b9f8 : JNZ 0x0045ba02
0045b9fa : MOV EAX,dword ptr [ECX + 0x8]
0045b9fd : CMP byte ptr [EAX + 0x14],BL
0045ba00 : JZ 0x0045ba67
0045ba02 : MOV EAX,dword ptr [ECX + 0x8]
0045ba05 : CMP byte ptr [EAX + 0x14],BL
0045ba08 : JNZ 0x0045ba1f
0045ba0a : MOV EAX,dword ptr [ECX]
0045ba0c : MOV byte ptr [EAX + 0x14],BL
0045ba0f : PUSH EDX
0045ba10 : MOV byte ptr [ECX + 0x14],0x0
0045ba14 : CALL 0x00440290
0045ba19 : MOV ECX,dword ptr [ESI + 0x8]
0045ba1c : MOV EDX,dword ptr [EBP + 0x8]
0045ba1f : MOV AL,byte ptr [ESI + 0x14]
0045ba22 : MOV byte ptr [ECX + 0x14],AL
0045ba25 : MOV byte ptr [ESI + 0x14],BL
0045ba28 : MOV ECX,dword ptr [ECX + 0x8]
0045ba2b : MOV byte ptr [ECX + 0x14],BL
0045ba2e : PUSH EDX
0045ba2f : MOV ECX,ESI
0045ba31 : CALL 0x00486420
0045ba36 : JMP 0x0045bab0
0045ba38 : CMP byte ptr [ECX + 0x14],0x0
0045ba3c : JNZ 0x0045ba52
0045ba3e : MOV byte ptr [ECX + 0x14],BL
0045ba41 : PUSH EDX
0045ba42 : MOV ECX,ESI
0045ba44 : MOV byte ptr [ESI + 0x14],0x0
0045ba48 : CALL 0x00440290
0045ba4d : MOV ECX,dword ptr [ESI]
0045ba4f : MOV EDX,dword ptr [EBP + 0x8]
0045ba52 : CMP byte ptr [ECX + 0x15],0x0
0045ba56 : JNZ 0x0045ba6b
0045ba58 : MOV EAX,dword ptr [ECX + 0x8]
0045ba5b : CMP byte ptr [EAX + 0x14],BL
0045ba5e : JNZ 0x0045ba7e
0045ba60 : MOV EAX,dword ptr [ECX]
0045ba62 : CMP byte ptr [EAX + 0x14],BL
0045ba65 : JNZ 0x0045ba7e
0045ba67 : MOV byte ptr [ECX + 0x14],0x0
0045ba6b : MOV ECX,dword ptr [EDX + 0x4]
0045ba6e : MOV EDI,ESI
0045ba70 : MOV ESI,dword ptr [ESI + 0x4]
0045ba73 : CMP EDI,dword ptr [ECX + 0x4]
0045ba76 : JNZ 0x0045b9c0
0045ba7c : JMP 0x0045bab0
0045ba7e : MOV EAX,dword ptr [ECX]
0045ba80 : CMP byte ptr [EAX + 0x14],BL
0045ba83 : JNZ 0x0045ba9a
0045ba85 : MOV EAX,dword ptr [ECX + 0x8]
0045ba88 : MOV byte ptr [EAX + 0x14],BL
0045ba8b : PUSH EDX
0045ba8c : MOV byte ptr [ECX + 0x14],0x0
0045ba90 : CALL 0x00486420
0045ba95 : MOV ECX,dword ptr [ESI]
0045ba97 : MOV EDX,dword ptr [EBP + 0x8]
0045ba9a : MOV AL,byte ptr [ESI + 0x14]
0045ba9d : MOV byte ptr [ECX + 0x14],AL
0045baa0 : MOV byte ptr [ESI + 0x14],BL
0045baa3 : MOV ECX,dword ptr [ECX]
0045baa5 : MOV byte ptr [ECX + 0x14],BL
0045baa8 : PUSH EDX
0045baa9 : MOV ECX,ESI
0045baab : CALL 0x00440290
0045bab0 : MOV byte ptr [EDI + 0x14],BL
0045bab3 : MOV ECX,dword ptr [ESP + 0x10]
0045bab7 : CALL 0x006f04e0
