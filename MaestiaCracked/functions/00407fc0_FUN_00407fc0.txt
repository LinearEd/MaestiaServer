PROGRAM  : Maestia.exe
FUNCTION : FUN_00407fc0
ENTRY    : 00407fc0
BODY     : [[00407fc0, 0040803b]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00407fc0(undefined4 *param_1,uint *param_2)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  
  puVar3 = (undefined4 *)DAT_0172106c[1];
  puVar2 = DAT_0172106c;
  puVar5 = DAT_0172106c;
  if (*(char *)((int)puVar3 + 0x51) == '\0') {
    puVar1 = DAT_0172106c;
    puVar4 = puVar3;
    do {
      puVar2 = puVar4;
      if ((uint)puVar2[3] < *param_2) {
        puVar4 = (undefined4 *)puVar2[2];
        puVar2 = puVar1;
      }
      else {
        if ((*(char *)((int)puVar5 + 0x51) != '\0') && (*param_2 < (uint)puVar2[3])) {
          puVar5 = puVar2;
        }
        puVar4 = (undefined4 *)*puVar2;
      }
      puVar1 = puVar2;
    } while (*(char *)((int)puVar4 + 0x51) == '\0');
  }
  if (*(char *)((int)puVar5 + 0x51) == '\0') {
    puVar3 = (undefined4 *)*puVar5;
  }
  if (*(char *)((int)puVar3 + 0x51) == '\0') {
    do {
      if (*param_2 < (uint)puVar3[3]) {
        puVar4 = (undefined4 *)*puVar3;
        puVar5 = puVar3;
      }
      else {
        puVar4 = (undefined4 *)puVar3[2];
      }
      puVar3 = puVar4;
    } while (*(char *)((int)puVar4 + 0x51) == '\0');
  }
  *param_1 = puVar2;
  param_1[1] = puVar5;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00407fc0 : PUSH EBP
00407fc1 : MOV EBP,ESP
00407fc3 : MOV EDX,dword ptr [0x0172106c]
00407fc9 : PUSH EBX
00407fca : MOV EBX,dword ptr [EDX + 0x4]
00407fcd : MOV ECX,EBX
00407fcf : CMP byte ptr [ECX + 0x51],0x0
00407fd3 : PUSH ESI
00407fd4 : MOV EAX,EDX
00407fd6 : JNZ 0x00408003
00407fd8 : MOV ESI,dword ptr [EBP + 0xc]
00407fdb : PUSH EDI
00407fdc : MOV EDI,dword ptr [ESI]
00407fde : MOV EDI,EDI
00407fe0 : MOV ESI,dword ptr [ECX + 0xc]
00407fe3 : CMP ESI,EDI
00407fe5 : JNC 0x00407fec
00407fe7 : MOV ECX,dword ptr [ECX + 0x8]
00407fea : JMP 0x00407ffc
00407fec : CMP byte ptr [EDX + 0x51],0x0
00407ff0 : JZ 0x00407ff8
00407ff2 : CMP EDI,ESI
00407ff4 : JNC 0x00407ff8
00407ff6 : MOV EDX,ECX
00407ff8 : MOV EAX,ECX
00407ffa : MOV ECX,dword ptr [ECX]
00407ffc : CMP byte ptr [ECX + 0x51],0x0
00408000 : JZ 0x00407fe0
00408002 : POP EDI
00408003 : CMP byte ptr [EDX + 0x51],0x0
00408007 : MOV ECX,EBX
00408009 : JNZ 0x0040800d
0040800b : MOV ECX,dword ptr [EDX]
0040800d : CMP byte ptr [ECX + 0x51],0x0
00408011 : JNZ 0x0040802c
00408013 : MOV ESI,dword ptr [EBP + 0xc]
00408016 : MOV ESI,dword ptr [ESI]
00408018 : CMP ESI,dword ptr [ECX + 0xc]
0040801b : JNC 0x00408023
0040801d : MOV EDX,ECX
0040801f : MOV ECX,dword ptr [ECX]
00408021 : JMP 0x00408026
00408023 : MOV ECX,dword ptr [ECX + 0x8]
00408026 : CMP byte ptr [ECX + 0x51],0x0
0040802a : JZ 0x00408018
0040802c : MOV ECX,dword ptr [EBP + 0x8]
0040802f : POP ESI
00408030 : MOV dword ptr [ECX],EAX
00408032 : MOV dword ptr [ECX + 0x4],EDX
00408035 : MOV EAX,ECX
00408037 : POP EBX
00408038 : POP EBP
00408039 : RET 0x8
