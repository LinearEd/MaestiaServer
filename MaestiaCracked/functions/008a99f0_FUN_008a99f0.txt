PROGRAM  : Maestia.exe
FUNCTION : FUN_008a99f0
ENTRY    : 008a99f0
BODY     : [[008a99f0, 008a9b1e]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008a99f0(int param_1)

{
  char cVar1;
  int iVar2;
  
  iVar2 = FUN_00405bb0(L"Manager");
  if (iVar2 == 0) {
    if (*(short *)(param_1 + 0x6c) != 1) {
      *(undefined2 *)(param_1 + 0x6c) = 1;
      *(undefined4 *)(param_1 + 0x3c) = *(undefined4 *)(param_1 + 0x54);
      *(undefined4 *)(param_1 + 0x40) = *(undefined4 *)(param_1 + 0x58);
      *(undefined4 *)(param_1 + 0x44) = *(undefined4 *)(param_1 + 0x5c);
      *(undefined4 *)(param_1 + 0x48) = *(undefined4 *)(param_1 + 0x60);
      *(undefined4 *)(param_1 + 0x4c) = *(undefined4 *)(param_1 + 100);
      *(undefined4 *)(param_1 + 0x50) = *(undefined4 *)(param_1 + 0x68);
      FUN_008a96b0();
      return;
    }
  }
  else {
    iVar2 = FUN_00405bb0(L"Submanager");
    if (iVar2 == 0) {
      if (*(short *)(param_1 + 0x6c) != 2) {
        *(undefined2 *)(param_1 + 0x6c) = 2;
        *(undefined4 *)(param_1 + 0x3c) = *(undefined4 *)(param_1 + 0x54);
        *(undefined4 *)(param_1 + 0x40) = *(undefined4 *)(param_1 + 0x58);
        *(undefined4 *)(param_1 + 0x44) = *(undefined4 *)(param_1 + 0x5c);
        *(undefined4 *)(param_1 + 0x48) = *(undefined4 *)(param_1 + 0x60);
        *(undefined4 *)(param_1 + 0x4c) = *(undefined4 *)(param_1 + 100);
        *(undefined4 *)(param_1 + 0x50) = *(undefined4 *)(param_1 + 0x68);
        FUN_008a96b0();
        return;
      }
    }
    else {
      iVar2 = FUN_00405bb0(L"Elder");
      if (((iVar2 == 0) || (iVar2 = FUN_00405bb0(L"General"), iVar2 == 0)) ||
         (cVar1 = FUN_00403810(), cVar1 != '\0')) {
        FUN_008a93a0();
      }
    }
  }
  FUN_008a96b0();
  return;
}



============================================================
DISASSEMBLY
============================================================
008a99f0 : PUSH EBP
008a99f1 : MOV EBP,ESP
008a99f3 : PUSH EBX
008a99f4 : MOV EBX,dword ptr [EBP + 0x8]
008a99f7 : PUSH ESI
008a99f8 : MOV ESI,dword ptr [EBP + 0xc]
008a99fb : MOV EAX,dword ptr [ESI + 0x14]
008a99fe : PUSH EDI
008a99ff : PUSH 0xc4a988
008a9a04 : MOV EDI,0x7
008a9a09 : MOV ECX,ESI
008a9a0b : CALL 0x00405bb0
008a9a10 : TEST EAX,EAX
008a9a12 : JNZ 0x008a9a5b
008a9a14 : MOV EAX,0x1
008a9a19 : CMP AX,word ptr [EBX + 0x6c]
008a9a1d : JZ 0x008a9b11
008a9a23 : MOV ECX,EAX
008a9a25 : MOV word ptr [EBX + 0x6c],CX
008a9a29 : MOV EDX,dword ptr [EBX + 0x54]
008a9a2c : MOV EAX,dword ptr [EBX + 0x58]
008a9a2f : MOV ECX,dword ptr [EBX + 0x5c]
008a9a32 : MOV dword ptr [EBX + 0x3c],EDX
008a9a35 : MOV EDX,dword ptr [EBX + 0x60]
008a9a38 : MOV dword ptr [EBX + 0x40],EAX
008a9a3b : MOV EAX,dword ptr [EBX + 0x64]
008a9a3e : MOV dword ptr [EBX + 0x44],ECX
008a9a41 : MOV ECX,dword ptr [EBX + 0x68]
008a9a44 : MOV dword ptr [EBX + 0x48],EDX
008a9a47 : MOV dword ptr [EBX + 0x4c],EAX
008a9a4a : MOV EAX,EBX
008a9a4c : MOV dword ptr [EBX + 0x50],ECX
008a9a4f : CALL 0x008a96b0
008a9a54 : POP EDI
008a9a55 : POP ESI
008a9a56 : POP EBX
008a9a57 : POP EBP
008a9a58 : RET 0x8
008a9a5b : MOV EAX,dword ptr [ESI + 0x14]
008a9a5e : PUSH 0xc4a998
008a9a63 : MOV EDI,0xa
008a9a68 : MOV ECX,ESI
008a9a6a : CALL 0x00405bb0
008a9a6f : TEST EAX,EAX
008a9a71 : JNZ 0x008a9aba
008a9a73 : MOV EDX,0x2
008a9a78 : CMP DX,word ptr [EBX + 0x6c]
008a9a7c : JZ 0x008a9b11
008a9a82 : MOV EAX,EDX
008a9a84 : MOV word ptr [EBX + 0x6c],AX
008a9a88 : MOV ECX,dword ptr [EBX + 0x54]
008a9a8b : MOV EDX,dword ptr [EBX + 0x58]
008a9a8e : MOV EAX,dword ptr [EBX + 0x5c]
008a9a91 : MOV dword ptr [EBX + 0x3c],ECX
008a9a94 : MOV ECX,dword ptr [EBX + 0x60]
008a9a97 : MOV dword ptr [EBX + 0x40],EDX
008a9a9a : MOV EDX,dword ptr [EBX + 0x64]
008a9a9d : MOV dword ptr [EBX + 0x44],EAX
008a9aa0 : MOV EAX,dword ptr [EBX + 0x68]
008a9aa3 : MOV dword ptr [EBX + 0x48],ECX
008a9aa6 : MOV dword ptr [EBX + 0x4c],EDX
008a9aa9 : MOV dword ptr [EBX + 0x50],EAX
008a9aac : MOV EAX,EBX
008a9aae : CALL 0x008a96b0
008a9ab3 : POP EDI
008a9ab4 : POP ESI
008a9ab5 : POP EBX
008a9ab6 : POP EBP
008a9ab7 : RET 0x8
008a9aba : MOV EAX,dword ptr [ESI + 0x14]
008a9abd : PUSH 0xc4a9b0
008a9ac2 : MOV EDI,0x5
008a9ac7 : MOV ECX,ESI
008a9ac9 : CALL 0x00405bb0
008a9ace : TEST EAX,EAX
008a9ad0 : JNZ 0x008a9ad7
008a9ad2 : LEA ECX,[EDI + -0x2]
008a9ad5 : JMP 0x008a9b0a
008a9ad7 : MOV EAX,dword ptr [ESI + 0x14]
008a9ada : PUSH 0xc4a9bc
008a9adf : MOV EDI,0x7
008a9ae4 : MOV ECX,ESI
008a9ae6 : CALL 0x00405bb0
008a9aeb : TEST EAX,EAX
008a9aed : JNZ 0x008a9af4
008a9aef : LEA ECX,[EDI + -0x3]
008a9af2 : JMP 0x008a9b0a
008a9af4 : MOV ECX,dword ptr [EBP + 0xc]
008a9af7 : MOV ESI,0xc4a9cc
008a9afc : CALL 0x00403810
008a9b01 : TEST AL,AL
008a9b03 : JZ 0x008a9b11
008a9b05 : MOV ECX,0x5
008a9b0a : MOV EAX,EBX
008a9b0c : CALL 0x008a93a0
008a9b11 : MOV EAX,EBX
008a9b13 : CALL 0x008a96b0
008a9b18 : POP EDI
008a9b19 : POP ESI
008a9b1a : POP EBX
008a9b1b : POP EBP
008a9b1c : RET 0x8
