PROGRAM  : Maestia.exe
FUNCTION : FUN_0094f000
ENTRY    : 0094f000
BODY     : [[0094f000, 0094f424]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0094f000(void)

{
  ushort uVar1;
  int *piVar2;
  bool bVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  wchar_t *pwVar8;
  int in_ECX;
  double dVar9;
  undefined1 local_88 [28];
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined1 local_60 [4];
  int local_5c;
  int local_58;
  float local_50;
  float local_4c;
  float local_48;
  int local_44;
  float local_40;
  float local_3c;
  float local_38;
  float local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined *puStack_c;
  undefined4 local_8;
  
  iVar5 = DAT_00d7c54c;
  local_8 = 0xffffffff;
  puStack_c = &DAT_00b3ffe6;
  local_10 = ExceptionList;
  uVar4 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_44 = in_ECX;
  local_14 = uVar4;
  if (*(int *)(in_ECX + 0x40) == 0) {
    FUN_00406460(L"PreviewPet is null");
    local_8 = 0;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                (L"AvaGuiPetInfo::AdjustPreViewPosition",599,local_30,uVar4);
    }
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
    goto LAB_0094f409;
  }
  local_34 = *(float *)(*(int *)(in_ECX + 0x40) + 8);
  bVar3 = false;
  FUN_004437f0(&local_34);
  if (local_48 == *(float *)(iVar5 + 0x44)) {
    iVar5 = 0;
  }
  else {
    iVar5 = *(int *)((int)local_48 + 0x10);
  }
  local_40 = 0.0;
  local_3c = -6.8;
  local_38 = 4.2;
  local_34 = 22.0;
  if (iVar5 == 0) {
LAB_0094f298:
    uVar1 = *(ushort *)(*(int *)(in_ECX + 0x40) + 8);
    if (uVar1 < 0xdacb) {
      if (0xdad3 < uVar1) goto LAB_0094f343;
    }
    else if (uVar1 < 0xdad4) {
      local_40 = -0.8;
      local_3c = -4.5;
      local_38 = 0.4;
    }
    else {
LAB_0094f343:
      local_40 = -0.4;
      local_3c = -12.0;
      local_38 = -1.2;
      local_34 = 3.2;
    }
  }
  else {
    iVar5 = *(int *)(iVar5 + 0xa0);
    if (iVar5 == 0) {
      FUN_00406460(L"summonpet desc data is null");
      local_8 = 5;
      if ((int *)*DAT_00da98e8 != (int *)0x0) {
        (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                  (L"AvaGuiPetInfo::AdjustPreViewPosition",0x283,local_88);
      }
      local_8 = 0xffffffff;
      FUN_00406560();
      goto LAB_0094f298;
    }
    if (*(uint *)(iVar5 + 0x30) < 0x10) {
      iVar5 = iVar5 + 0x1c;
    }
    else {
      iVar5 = *(int *)(iVar5 + 0x1c);
    }
    FUN_00404350(iVar5);
    local_8 = 1;
    iVar5 = FUN_00407c10(&DAT_00c74cec,1);
    iVar6 = FUN_00407c10(&DAT_00c74cf0,1);
    if (((-1 < iVar5) && (-1 < iVar6)) && (iVar5 < iVar6)) {
      uVar7 = FUN_00405eb0(local_30,iVar5 + 1,(iVar6 - iVar5) + -1);
      FUN_00405eb0(uVar7,0,0xffffffff);
      FUN_00406460(&DAT_00c74cf4);
      local_8._0_1_ = 2;
      FUN_0070cd60(local_60,local_30,local_88,0);
      local_8 = CONCAT31(local_8._1_3_,4);
      FUN_00406560();
      bVar3 = false;
      if ((local_58 - local_5c) / 0x1c == 4) {
        if (*(uint *)(local_5c + 0x18) < 8) {
          pwVar8 = (wchar_t *)(local_5c + 4);
        }
        else {
          pwVar8 = *(wchar_t **)(local_5c + 4);
        }
        dVar9 = __wtof(pwVar8);
        local_48 = (float)dVar9;
        if (*(uint *)(local_5c + 0x34) < 8) {
          pwVar8 = (wchar_t *)(local_5c + 0x20);
        }
        else {
          pwVar8 = *(wchar_t **)(local_5c + 0x20);
        }
        dVar9 = __wtof(pwVar8);
        local_50 = (float)dVar9;
        if (*(uint *)(local_5c + 0x50) < 8) {
          pwVar8 = (wchar_t *)(local_5c + 0x3c);
        }
        else {
          pwVar8 = *(wchar_t **)(local_5c + 0x3c);
        }
        dVar9 = __wtof(pwVar8);
        local_4c = (float)dVar9;
        if (*(uint *)(local_5c + 0x6c) < 8) {
          pwVar8 = (wchar_t *)(local_5c + 0x58);
        }
        else {
          pwVar8 = *(wchar_t **)(local_5c + 0x58);
        }
        dVar9 = __wtof(pwVar8);
        local_34 = (float)dVar9;
        local_40 = local_48;
        local_3c = local_50;
        local_38 = local_4c;
        bVar3 = true;
        in_ECX = local_44;
      }
      local_8 = CONCAT31(local_8._1_3_,1);
      FUN_004042c0();
    }
    local_8 = 0xffffffff;
    FUN_00406560();
    if (!bVar3) goto LAB_0094f298;
  }
  (**(code **)(**(int **)(in_ECX + 0x40) + 0x2a0))(&local_40,1);
  (**(code **)(**(int **)(in_ECX + 0x40) + 0x2a4))(local_34);
  local_44 = *(int *)(in_ECX + 0x80);
  iVar5 = *(int *)(*(int *)(DAT_0172491c + 0x90) + 0x110);
  FUN_00484470(&local_44);
  if (((local_4c != *(float *)(iVar5 + 8)) && (*(int *)((int)local_4c + 0x10) != 0)) &&
     ((piVar2 = *(int **)(*(int *)((int)local_4c + 0x10) + 8), piVar2 != (int *)0x0 &&
      (piVar2[7] == 1)))) {
    local_6c = 0;
    local_68 = 0;
    local_64 = 0x41700000;
    (**(code **)(*piVar2 + 0xc))(&local_6c);
  }
LAB_0094f409:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0094f000 : PUSH EBP
0094f001 : MOV EBP,ESP
0094f003 : PUSH -0x1
0094f005 : PUSH 0xb3ffe6
0094f00a : MOV EAX,FS:[0x0]
0094f010 : PUSH EAX
0094f011 : SUB ESP,0x7c
0094f014 : MOV EAX,[0x00d66fa0]
0094f019 : XOR EAX,EBP
0094f01b : MOV dword ptr [EBP + -0x10],EAX
0094f01e : PUSH EBX
0094f01f : PUSH ESI
0094f020 : PUSH EDI
0094f021 : PUSH EAX
0094f022 : LEA EAX,[EBP + -0xc]
0094f025 : MOV FS:[0x0],EAX
0094f02b : MOV EDI,ECX
0094f02d : MOV EAX,dword ptr [EDI + 0x40]
0094f030 : XOR ESI,ESI
0094f032 : MOV dword ptr [EBP + -0x40],EDI
0094f035 : CMP EAX,ESI
0094f037 : JNZ 0x0094f093
0094f039 : PUSH 0xc74c74
0094f03e : LEA ECX,[EBP + -0x2c]
0094f041 : CALL 0x00406460
0094f046 : MOV dword ptr [EBP + -0x4],ESI
0094f049 : MOV EAX,[0x00da98e8]
0094f04e : MOV ECX,dword ptr [EAX]
0094f050 : CMP ECX,ESI
0094f052 : JZ 0x0094f069
0094f054 : MOV EDX,dword ptr [ECX]
0094f056 : MOV EDX,dword ptr [EDX + 0x14]
0094f059 : LEA EAX,[EBP + -0x2c]
0094f05c : PUSH EAX
0094f05d : PUSH 0x257
0094f062 : PUSH 0xc74ca0
0094f067 : CALL EDX
0094f069 : MOV dword ptr [EBP + -0x4],0xffffffff
0094f070 : CMP dword ptr [EBP + -0x14],0x8
0094f074 : JC 0x0094f07e
0094f076 : MOV ECX,dword ptr [EBP + -0x28]
0094f079 : CALL 0x006f04e0
0094f07e : XOR EAX,EAX
0094f080 : MOV dword ptr [EBP + -0x14],0x7
0094f087 : MOV dword ptr [EBP + -0x18],ESI
0094f08a : MOV word ptr [EBP + -0x28],AX
0094f08e : JMP 0x0094f409
0094f093 : MOV ECX,dword ptr [EAX + 0x8]
0094f096 : MOV ESI,dword ptr [0x00d7c54c]
0094f09c : LEA EDX,[EBP + -0x30]
0094f09f : MOV dword ptr [EBP + -0x30],ECX
0094f0a2 : PUSH EDX
0094f0a3 : LEA ECX,[ESI + 0x40]
0094f0a6 : LEA EAX,[EBP + -0x44]
0094f0a9 : XOR BL,BL
0094f0ab : CALL 0x004437f0
0094f0b0 : MOV ESI,dword ptr [ESI + 0x44]
0094f0b3 : MOV EAX,dword ptr [EBP + -0x44]
0094f0b6 : CMP EAX,ESI
0094f0b8 : JZ 0x0094f0bf
0094f0ba : MOV EAX,dword ptr [EAX + 0x10]
0094f0bd : JMP 0x0094f0c1
0094f0bf : XOR EAX,EAX
0094f0c1 : XORPS XMM0,XMM0
0094f0c4 : MOVSS dword ptr [EBP + -0x3c],XMM0
0094f0c9 : MOVSS XMM0,dword ptr [0x00cdf7c8]
0094f0d1 : MOVSS dword ptr [EBP + -0x38],XMM0
0094f0d6 : MOVSS XMM0,dword ptr [0x00cdf7c4]
0094f0de : MOVSS dword ptr [EBP + -0x34],XMM0
0094f0e3 : MOVSS XMM0,dword ptr [0x00cdf7c0]
0094f0eb : MOVSS dword ptr [EBP + -0x30],XMM0
0094f0f0 : TEST EAX,EAX
0094f0f2 : JZ 0x0094f298
0094f0f8 : MOV EAX,dword ptr [EAX + 0xa0]
0094f0fe : TEST EAX,EAX
0094f100 : JZ 0x0094f2e7
0094f106 : CMP dword ptr [EAX + 0x30],0x10
0094f10a : JC 0x0094f111
0094f10c : MOV EAX,dword ptr [EAX + 0x1c]
0094f10f : JMP 0x0094f114
0094f111 : ADD EAX,0x1c
0094f114 : PUSH EAX
0094f115 : LEA ESI,[EBP + -0x2c]
0094f118 : CALL 0x00404350
0094f11d : ADD ESP,0x4
0094f120 : MOV dword ptr [EBP + -0x4],0x1
0094f127 : PUSH 0x1
0094f129 : PUSH 0xc74cec
0094f12e : XOR EAX,EAX
0094f130 : MOV EDX,ESI
0094f132 : CALL 0x00407c10
0094f137 : PUSH 0x1
0094f139 : MOV ESI,EAX
0094f13b : PUSH 0xc74cf0
0094f140 : XOR EAX,EAX
0094f142 : LEA EDX,[EBP + -0x2c]
0094f145 : CALL 0x00407c10
0094f14a : TEST ESI,ESI
0094f14c : JL 0x0094f281
0094f152 : TEST EAX,EAX
0094f154 : JL 0x0094f281
0094f15a : CMP EAX,ESI
0094f15c : JLE 0x0094f281
0094f162 : SUB EAX,ESI
0094f164 : DEC EAX
0094f165 : PUSH EAX
0094f166 : INC ESI
0094f167 : LEA EAX,[EBP + -0x2c]
0094f16a : PUSH ESI
0094f16b : PUSH EAX
0094f16c : MOV ECX,EAX
0094f16e : CALL 0x00405eb0
0094f173 : PUSH -0x1
0094f175 : PUSH 0x0
0094f177 : PUSH EAX
0094f178 : LEA ECX,[EBP + -0x2c]
0094f17b : CALL 0x00405eb0
0094f180 : PUSH 0xc74cf4
0094f185 : LEA ECX,[EBP + 0xffffff7c]
0094f18b : CALL 0x00406460
0094f190 : MOV byte ptr [EBP + -0x4],0x2
0094f194 : PUSH 0x0
0094f196 : LEA ECX,[EBP + 0xffffff7c]
0094f19c : PUSH ECX
0094f19d : LEA EDX,[EBP + -0x2c]
0094f1a0 : PUSH EDX
0094f1a1 : LEA EAX,[EBP + -0x5c]
0094f1a4 : PUSH EAX
0094f1a5 : CALL 0x0070cd60
0094f1aa : ADD ESP,0x10
0094f1ad : MOV byte ptr [EBP + -0x4],0x4
0094f1b1 : LEA ECX,[EBP + 0xffffff7c]
0094f1b7 : CALL 0x00406560
0094f1bc : MOV ECX,dword ptr [EBP + -0x54]
0094f1bf : MOV ESI,dword ptr [EBP + -0x58]
0094f1c2 : SUB ECX,ESI
0094f1c4 : MOV EAX,0x92492493
0094f1c9 : IMUL ECX
0094f1cb : ADD EDX,ECX
0094f1cd : SAR EDX,0x4
0094f1d0 : MOV ECX,EDX
0094f1d2 : SHR ECX,0x1f
0094f1d5 : ADD ECX,EDX
0094f1d7 : CMP ECX,0x4
0094f1da : JNZ 0x0094f275
0094f1e0 : MOV EDI,0x8
0094f1e5 : CMP dword ptr [ESI + 0x18],EDI
0094f1e8 : JC 0x0094f1ef
0094f1ea : MOV ESI,dword ptr [ESI + 0x4]
0094f1ed : JMP 0x0094f1f2
0094f1ef : ADD ESI,0x4
0094f1f2 : PUSH ESI
0094f1f3 : CALL 0x00638519
0094f1f8 : FSTP float ptr [EBP + -0x44]
0094f1fb : MOV EAX,dword ptr [EBP + -0x58]
0094f1fe : ADD ESP,0x4
0094f201 : CMP dword ptr [EAX + 0x34],EDI
0094f204 : JC 0x0094f20b
0094f206 : MOV EAX,dword ptr [EAX + 0x20]
0094f209 : JMP 0x0094f20e
0094f20b : ADD EAX,0x20
0094f20e : PUSH EAX
0094f20f : CALL 0x00638519
0094f214 : FSTP float ptr [EBP + -0x4c]
0094f217 : MOV EAX,dword ptr [EBP + -0x58]
0094f21a : ADD ESP,0x4
0094f21d : CMP dword ptr [EAX + 0x50],EDI
0094f220 : JC 0x0094f227
0094f222 : MOV EAX,dword ptr [EAX + 0x3c]
0094f225 : JMP 0x0094f22a
0094f227 : ADD EAX,0x3c
0094f22a : PUSH EAX
0094f22b : CALL 0x00638519
0094f230 : FSTP float ptr [EBP + -0x48]
0094f233 : MOV EAX,dword ptr [EBP + -0x58]
0094f236 : ADD ESP,0x4
0094f239 : CMP dword ptr [EAX + 0x6c],EDI
0094f23c : JC 0x0094f243
0094f23e : MOV EAX,dword ptr [EAX + 0x58]
0094f241 : JMP 0x0094f246
0094f243 : ADD EAX,0x58
0094f246 : PUSH EAX
0094f247 : CALL 0x00638519
0094f24c : FSTP float ptr [EBP + -0x30]
0094f24f : MOVSS XMM0,dword ptr [EBP + -0x44]
0094f254 : MOV EDI,dword ptr [EBP + -0x40]
0094f257 : MOVSS dword ptr [EBP + -0x3c],XMM0
0094f25c : MOVSS XMM0,dword ptr [EBP + -0x4c]
0094f261 : MOVSS dword ptr [EBP + -0x38],XMM0
0094f266 : MOVSS XMM0,dword ptr [EBP + -0x48]
0094f26b : ADD ESP,0x4
0094f26e : MOVSS dword ptr [EBP + -0x34],XMM0
0094f273 : MOV BL,0x1
0094f275 : MOV byte ptr [EBP + -0x4],0x1
0094f279 : LEA ESI,[EBP + -0x5c]
0094f27c : CALL 0x004042c0
0094f281 : MOV dword ptr [EBP + -0x4],0xffffffff
0094f288 : LEA ECX,[EBP + -0x2c]
0094f28b : CALL 0x00406560
0094f290 : TEST BL,BL
0094f292 : JNZ 0x0094f377
0094f298 : MOV ECX,dword ptr [EDI + 0x40]
0094f29b : MOVZX EAX,word ptr [ECX + 0x8]
0094f29f : MOV EDX,0xdaca
0094f2a4 : CMP AX,DX
0094f2a7 : JBE 0x0094f339
0094f2ad : MOV ECX,0xdad4
0094f2b2 : CMP AX,CX
0094f2b5 : JNC 0x0094f343
0094f2bb : MOVSS XMM0,dword ptr [0x00cdf364]
0094f2c3 : MOVSS dword ptr [EBP + -0x3c],XMM0
0094f2c8 : MOVSS XMM0,dword ptr [0x00cdf72c]
0094f2d0 : MOVSS dword ptr [EBP + -0x38],XMM0
0094f2d5 : MOVSS XMM0,dword ptr [0x00cdf0ec]
0094f2dd : MOVSS dword ptr [EBP + -0x34],XMM0
0094f2e2 : JMP 0x0094f377
0094f2e7 : PUSH 0xc74cf8
0094f2ec : LEA ECX,[EBP + 0xffffff7c]
0094f2f2 : CALL 0x00406460
0094f2f7 : MOV dword ptr [EBP + -0x4],0x5
0094f2fe : MOV EDX,dword ptr [0x00da98e8]
0094f304 : MOV ECX,dword ptr [EDX]
0094f306 : TEST ECX,ECX
0094f308 : JZ 0x0094f322
0094f30a : MOV EAX,dword ptr [ECX]
0094f30c : MOV EAX,dword ptr [EAX + 0x14]
0094f30f : LEA EDX,[EBP + 0xffffff7c]
0094f315 : PUSH EDX
0094f316 : PUSH 0x283
0094f31b : PUSH 0xc74d30
0094f320 : CALL EAX
0094f322 : MOV dword ptr [EBP + -0x4],0xffffffff
0094f329 : LEA ECX,[EBP + 0xffffff7c]
0094f32f : CALL 0x00406560
0094f334 : JMP 0x0094f298
0094f339 : MOV EDX,0xdad4
0094f33e : CMP AX,DX
0094f341 : JC 0x0094f377
0094f343 : MOVSS XMM0,dword ptr [0x00cdf7bc]
0094f34b : MOVSS dword ptr [EBP + -0x3c],XMM0
0094f350 : MOVSS XMM0,dword ptr [0x00cdf7b8]
0094f358 : MOVSS dword ptr [EBP + -0x38],XMM0
0094f35d : MOVSS XMM0,dword ptr [0x00cdf7a8]
0094f365 : MOVSS dword ptr [EBP + -0x34],XMM0
0094f36a : MOVSS XMM0,dword ptr [0x00cdf444]
0094f372 : MOVSS dword ptr [EBP + -0x30],XMM0
0094f377 : MOV ECX,dword ptr [EDI + 0x40]
0094f37a : MOV EAX,dword ptr [ECX]
0094f37c : MOV EAX,dword ptr [EAX + 0x2a0]
0094f382 : PUSH 0x1
0094f384 : LEA EDX,[EBP + -0x3c]
0094f387 : PUSH EDX
0094f388 : CALL EAX
0094f38a : FLD float ptr [EBP + -0x30]
0094f38d : MOV ECX,dword ptr [EDI + 0x40]
0094f390 : MOV EDX,dword ptr [ECX]
0094f392 : MOV EAX,dword ptr [EDX + 0x2a4]
0094f398 : PUSH ECX
0094f399 : FSTP float ptr [ESP]
0094f39c : CALL EAX
0094f39e : MOV ECX,dword ptr [0x0172491c]
0094f3a4 : MOV EDX,dword ptr [ECX + 0x90]
0094f3aa : MOV EAX,dword ptr [EDI + 0x80]
0094f3b0 : MOV ESI,dword ptr [EDX + 0x110]
0094f3b6 : LEA ECX,[EBP + -0x40]
0094f3b9 : MOV dword ptr [EBP + -0x40],EAX
0094f3bc : PUSH ECX
0094f3bd : LEA ECX,[ESI + 0x4]
0094f3c0 : LEA EAX,[EBP + -0x48]
0094f3c3 : CALL 0x00484470
0094f3c8 : MOV EAX,dword ptr [EBP + -0x48]
0094f3cb : CMP EAX,dword ptr [ESI + 0x8]
0094f3ce : JZ 0x0094f409
0094f3d0 : MOV EAX,dword ptr [EAX + 0x10]
0094f3d3 : TEST EAX,EAX
0094f3d5 : JZ 0x0094f409
0094f3d7 : MOV ECX,dword ptr [EAX + 0x8]
0094f3da : TEST ECX,ECX
0094f3dc : JZ 0x0094f409
0094f3de : CMP dword ptr [ECX + 0x1c],0x1
0094f3e2 : JNZ 0x0094f409
0094f3e4 : XORPS XMM0,XMM0
0094f3e7 : MOVSS dword ptr [EBP + -0x68],XMM0
0094f3ec : MOVSS dword ptr [EBP + -0x64],XMM0
0094f3f1 : MOVSS XMM0,dword ptr [0x00cdf234]
0094f3f9 : MOVSS dword ptr [EBP + -0x60],XMM0
0094f3fe : MOV EDX,dword ptr [ECX]
0094f400 : MOV EDX,dword ptr [EDX + 0xc]
0094f403 : LEA EAX,[EBP + -0x68]
0094f406 : PUSH EAX
0094f407 : CALL EDX
0094f409 : MOV ECX,dword ptr [EBP + -0xc]
0094f40c : MOV dword ptr FS:[0x0],ECX
0094f413 : POP ECX
0094f414 : POP EDI
0094f415 : POP ESI
0094f416 : POP EBX
0094f417 : MOV ECX,dword ptr [EBP + -0x10]
0094f41a : XOR ECX,EBP
0094f41c : CALL 0x00633e6b
0094f421 : MOV ESP,EBP
0094f423 : POP EBP
0094f424 : RET
