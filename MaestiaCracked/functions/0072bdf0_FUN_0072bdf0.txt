PROGRAM  : Maestia.exe
FUNCTION : FUN_0072bdf0
ENTRY    : 0072bdf0
BODY     : [[0072bdf0, 0072bf45]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0072bdf0(undefined4 param_1)

{
  int *piVar1;
  FILE *_File;
  size_t _ElementSize;
  void *_DstBuf;
  int iVar2;
  undefined4 uVar3;
  undefined4 local_110;
  int *local_10c;
  char local_108 [256];
  uint local_8;
  
  local_8 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  local_10c = (int *)0x0;
  FUN_00410870(".\\Data\\FPData\\%s",param_1);
  _File = _fopen(local_108,"rb");
  if (_File != (FILE *)0x0) {
    _fseek(_File,0,2);
    _ElementSize = _ftell(_File);
    _fseek(_File,0,0);
    _DstBuf = (void *)FUN_006f0760(_ElementSize,"",0,(DAT_01725270 >> 3 & 1) == 0);
    _fread(_DstBuf,_ElementSize,1,_File);
    _fclose(_File);
    piVar1 = *(int **)(DAT_017251ac + 0x18);
    local_110 = 0;
    iVar2 = D3DXCompileShader(_DstBuf,_ElementSize,0,0,&DAT_00c029e8,"ps_2_0",0,&local_10c,0,0);
    if (iVar2 == 0) {
      iVar2 = *piVar1;
      uVar3 = (**(code **)(*local_10c + 0xc))(local_10c,&local_110);
      iVar2 = (**(code **)(iVar2 + 0x1a8))(piVar1,uVar3);
      if (iVar2 == 0) {
        (**(code **)(*piVar1 + 0x1ac))(piVar1,local_110);
        *(undefined4 *)(DAT_017251f8 + 0xec) = local_110;
      }
    }
    if (_DstBuf != (void *)0x0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    if (local_10c != (int *)0x0) {
      (**(code **)(*local_10c + 8))(local_10c);
    }
  }
  __security_check_cookie(local_8 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0072bdf0 : PUSH EBP
0072bdf1 : MOV EBP,ESP
0072bdf3 : SUB ESP,0x110
0072bdf9 : MOV EAX,[0x00d66fa0]
0072bdfe : XOR EAX,EBP
0072be00 : MOV dword ptr [EBP + -0x4],EAX
0072be03 : MOV EAX,dword ptr [EBP + 0x8]
0072be06 : PUSH ESI
0072be07 : PUSH EAX
0072be08 : PUSH 0xc029c8
0072be0d : LEA EDX,[EBP + 0xfffffefc]
0072be13 : MOV dword ptr [EBP + 0xfffffef8],0x0
0072be1d : CALL 0x00410870
0072be22 : LEA EAX,[EBP + 0xfffffefc]
0072be28 : PUSH 0xc029dc
0072be2d : PUSH EAX
0072be2e : CALL 0x00638fa0
0072be33 : MOV ESI,EAX
0072be35 : ADD ESP,0x10
0072be38 : TEST ESI,ESI
0072be3a : JZ 0x0072bf35
0072be40 : PUSH EBX
0072be41 : PUSH EDI
0072be42 : PUSH 0x2
0072be44 : PUSH 0x0
0072be46 : PUSH ESI
0072be47 : CALL 0x006377fb
0072be4c : PUSH ESI
0072be4d : CALL 0x0063751f
0072be52 : PUSH 0x0
0072be54 : PUSH 0x0
0072be56 : PUSH ESI
0072be57 : MOV EDI,EAX
0072be59 : CALL 0x006377fb
0072be5e : MOV ECX,dword ptr [0x01725270]
0072be64 : SHR ECX,0x3
0072be67 : MOV EDX,0x0
0072be6c : AND ECX,0x1
0072be6f : SETZ DL
0072be72 : PUSH EDX
0072be73 : PUSH 0x0
0072be75 : PUSH 0xbf1a4b
0072be7a : PUSH EDI
0072be7b : CALL 0x006f0760
0072be80 : PUSH ESI
0072be81 : PUSH 0x1
0072be83 : MOV EBX,EAX
0072be85 : PUSH EDI
0072be86 : PUSH EBX
0072be87 : CALL 0x00638b7b
0072be8c : PUSH ESI
0072be8d : CALL 0x006366db
0072be92 : MOV EAX,[0x017251ac]
0072be97 : MOV ESI,dword ptr [EAX + 0x18]
0072be9a : ADD ESP,0x40
0072be9d : PUSH 0x0
0072be9f : PUSH 0x0
0072bea1 : LEA ECX,[EBP + 0xfffffef8]
0072bea7 : PUSH ECX
0072bea8 : PUSH 0x0
0072beaa : PUSH 0xc029e0
0072beaf : PUSH 0xc029e8
0072beb4 : PUSH 0x0
0072beb6 : PUSH 0x0
0072beb8 : PUSH EDI
0072beb9 : PUSH EBX
0072beba : MOV dword ptr [EBP + 0xfffffef4],0x0
0072bec4 : CALL 0x00664d32
0072bec9 : TEST EAX,EAX
0072becb : JNZ 0x0072bf16
0072becd : MOV EAX,dword ptr [EBP + 0xfffffef8]
0072bed3 : MOV ECX,dword ptr [EAX]
0072bed5 : MOV EDI,dword ptr [ESI]
0072bed7 : LEA EDX,[EBP + 0xfffffef4]
0072bedd : PUSH EDX
0072bede : MOV EDX,dword ptr [ECX + 0xc]
0072bee1 : PUSH EAX
0072bee2 : CALL EDX
0072bee4 : PUSH EAX
0072bee5 : MOV EAX,dword ptr [EDI + 0x1a8]
0072beeb : PUSH ESI
0072beec : CALL EAX
0072beee : TEST EAX,EAX
0072bef0 : JNZ 0x0072bf16
0072bef2 : MOV EDX,dword ptr [EBP + 0xfffffef4]
0072bef8 : MOV ECX,dword ptr [ESI]
0072befa : MOV EAX,dword ptr [ECX + 0x1ac]
0072bf00 : PUSH EDX
0072bf01 : PUSH ESI
0072bf02 : CALL EAX
0072bf04 : MOV ECX,dword ptr [EBP + 0xfffffef4]
0072bf0a : MOV EDX,dword ptr [0x017251f8]
0072bf10 : MOV dword ptr [EDX + 0xec],ECX
0072bf16 : TEST EBX,EBX
0072bf18 : JZ 0x0072bf21
0072bf1a : MOV ECX,EBX
0072bf1c : CALL 0x006f04e0
0072bf21 : MOV EAX,dword ptr [EBP + 0xfffffef8]
0072bf27 : POP EDI
0072bf28 : POP EBX
0072bf29 : TEST EAX,EAX
0072bf2b : JZ 0x0072bf35
0072bf2d : MOV ECX,dword ptr [EAX]
0072bf2f : MOV EDX,dword ptr [ECX + 0x8]
0072bf32 : PUSH EAX
0072bf33 : CALL EDX
0072bf35 : MOV ECX,dword ptr [EBP + -0x4]
0072bf38 : XOR ECX,EBP
0072bf3a : POP ESI
0072bf3b : CALL 0x00633e6b
0072bf40 : MOV ESP,EBP
0072bf42 : POP EBP
0072bf43 : RET 0x4
