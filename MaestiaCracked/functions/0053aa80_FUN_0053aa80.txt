PROGRAM  : Maestia.exe
FUNCTION : FUN_0053aa80
ENTRY    : 0053aa80
BODY     : [[0053aa80, 0053ab09]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_0053aa80(void)

{
  undefined1 uVar1;
  int iVar2;
  int in_ECX;
  uint uVar3;
  int iVar4;
  
  *(undefined1 *)(in_ECX + 0x15) = 0;
  if (*(int *)(in_ECX + 0x30) - *(int *)(in_ECX + 0x2c) < 1) {
    FUN_00539fb0(1);
  }
  uVar3 = (uint)*(byte *)(*(int *)(in_ECX + 0x2c) + *(int *)(in_ECX + 0x3c));
  *(int *)(in_ECX + 0x2c) = *(int *)(in_ECX + 0x2c) + 1;
  if (uVar3 == 0) {
    return 0;
  }
  iVar2 = FUN_00515840(uVar3 + 1,0);
  iVar4 = 0;
  if (uVar3 != 0) {
    iVar4 = 0;
    do {
      *(undefined1 *)(in_ECX + 0x15) = 0;
      if (*(int *)(in_ECX + 0x30) - *(int *)(in_ECX + 0x2c) < 1) {
        FUN_00539fb0(1);
      }
      uVar1 = *(undefined1 *)(*(int *)(in_ECX + 0x2c) + *(int *)(in_ECX + 0x3c));
      *(int *)(in_ECX + 0x2c) = *(int *)(in_ECX + 0x2c) + 1;
      *(undefined1 *)(iVar4 + iVar2) = uVar1;
      iVar4 = iVar4 + 1;
    } while (iVar4 < (int)uVar3);
  }
  *(undefined1 *)(iVar4 + iVar2) = 0;
  return iVar2;
}



============================================================
DISASSEMBLY
============================================================
0053aa80 : PUSH EBP
0053aa81 : PUSH ESI
0053aa82 : MOV ESI,ECX
0053aa84 : MOV EAX,dword ptr [ESI + 0x30]
0053aa87 : SUB EAX,dword ptr [ESI + 0x2c]
0053aa8a : MOV byte ptr [ESI + 0x15],0x0
0053aa8e : CMP EAX,0x1
0053aa91 : JGE 0x0053aa9a
0053aa93 : PUSH 0x1
0053aa95 : CALL 0x00539fb0
0053aa9a : MOV EAX,dword ptr [ESI + 0x2c]
0053aa9d : MOV ECX,dword ptr [ESI + 0x3c]
0053aaa0 : MOV CL,byte ptr [EAX + ECX*0x1]
0053aaa3 : MOVZX EBP,CL
0053aaa6 : INC EAX
0053aaa7 : MOV dword ptr [ESI + 0x2c],EAX
0053aaaa : TEST EBP,EBP
0053aaac : JG 0x0053aab5
0053aaae : POP ESI
0053aaaf : XOR EAX,EAX
0053aab1 : POP EBP
0053aab2 : RET 0x4
0053aab5 : MOV ECX,dword ptr [ESP + 0xc]
0053aab9 : PUSH EBX
0053aaba : PUSH EDI
0053aabb : PUSH 0x0
0053aabd : LEA EDX,[EBP + 0x1]
0053aac0 : PUSH EDX
0053aac1 : CALL 0x00515840
0053aac6 : XOR EDI,EDI
0053aac8 : MOV EBX,EAX
0053aaca : TEST EBP,EBP
0053aacc : JLE 0x0053aafd
0053aace : MOV EDI,EDI
0053aad0 : MOV EAX,dword ptr [ESI + 0x30]
0053aad3 : SUB EAX,dword ptr [ESI + 0x2c]
0053aad6 : MOV byte ptr [ESI + 0x15],0x0
0053aada : CMP EAX,0x1
0053aadd : JGE 0x0053aae8
0053aadf : PUSH 0x1
0053aae1 : MOV ECX,ESI
0053aae3 : CALL 0x00539fb0
0053aae8 : MOV EAX,dword ptr [ESI + 0x2c]
0053aaeb : MOV ECX,dword ptr [ESI + 0x3c]
0053aaee : MOV CL,byte ptr [EAX + ECX*0x1]
0053aaf1 : INC EAX
0053aaf2 : MOV dword ptr [ESI + 0x2c],EAX
0053aaf5 : MOV byte ptr [EDI + EBX*0x1],CL
0053aaf8 : INC EDI
0053aaf9 : CMP EDI,EBP
0053aafb : JL 0x0053aad0
0053aafd : MOV byte ptr [EDI + EBX*0x1],0x0
0053ab01 : POP EDI
0053ab02 : MOV EAX,EBX
0053ab04 : POP EBX
0053ab05 : POP ESI
0053ab06 : POP EBP
0053ab07 : RET 0x4
