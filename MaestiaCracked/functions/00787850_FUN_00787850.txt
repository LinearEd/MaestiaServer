PROGRAM  : Maestia.exe
FUNCTION : FUN_00787850
ENTRY    : 00787850
BODY     : [[00787850, 007878f5]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00787850(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  undefined4 uVar2;
  int iVar3;
  int *in_ECX;
  int iVar4;
  int iVar5;
  int local_c;
  int local_8;
  
  if (in_ECX[0x12] == 0) {
    uVar2 = 9;
    if (in_ECX[7] == 0x15) {
      uVar2 = 1;
    }
    cVar1 = (**(code **)(*in_ECX + 0x10))(in_ECX[10],in_ECX[0xb],uVar2,in_ECX[0xc]);
    if (cVar1 == '\0') {
      return 0;
    }
  }
  iVar4 = in_ECX[0xb];
  iVar5 = in_ECX[10];
  iVar3 = param_1;
  if (0 < param_1) {
    do {
      iVar4 = iVar4 >> 1;
      if (iVar4 < 1) {
        iVar4 = 1;
      }
      iVar5 = iVar5 >> 1;
      if (iVar5 < 1) {
        iVar5 = 1;
      }
      iVar3 = iVar3 + -1;
    } while (iVar3 != 0);
  }
  (**(code **)(*(int *)in_ECX[0x12] + 0x4c))((int *)in_ECX[0x12],param_1,&local_c,0,0);
  *param_3 = iVar5;
  param_3[1] = iVar4;
  param_3[2] = local_8;
  param_3[3] = local_c;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
00787850 : PUSH EBP
00787851 : MOV EBP,ESP
00787853 : SUB ESP,0x8
00787856 : PUSH ESI
00787857 : MOV ESI,ECX
00787859 : CMP dword ptr [ESI + 0x48],0x0
0078785d : JNZ 0x00787892
0078785f : CMP dword ptr [ESI + 0x1c],0x15
00787863 : MOV EAX,0x9
00787868 : JNZ 0x0078786f
0078786a : MOV EAX,0x1
0078786f : MOV ECX,dword ptr [ESI + 0x30]
00787872 : MOV EDX,dword ptr [ESI]
00787874 : MOV EDX,dword ptr [EDX + 0x10]
00787877 : PUSH ECX
00787878 : MOV ECX,dword ptr [ESI + 0x28]
0078787b : PUSH EAX
0078787c : MOV EAX,dword ptr [ESI + 0x2c]
0078787f : PUSH EAX
00787880 : PUSH ECX
00787881 : MOV ECX,ESI
00787883 : CALL EDX
00787885 : TEST AL,AL
00787887 : JNZ 0x00787892
00787889 : XOR EAX,EAX
0078788b : POP ESI
0078788c : MOV ESP,EBP
0078788e : POP EBP
0078788f : RET 0x10
00787892 : MOV ECX,dword ptr [EBP + 0x8]
00787895 : PUSH EBX
00787896 : MOV EBX,dword ptr [ESI + 0x2c]
00787899 : PUSH EDI
0078789a : MOV EDI,dword ptr [ESI + 0x28]
0078789d : TEST ECX,ECX
0078789f : JLE 0x007878c0
007878a1 : MOV EAX,ECX
007878a3 : SAR EBX,0x1
007878a5 : CMP EBX,0x1
007878a8 : JGE 0x007878af
007878aa : MOV EBX,0x1
007878af : SAR EDI,0x1
007878b1 : CMP EDI,0x1
007878b4 : JGE 0x007878bb
007878b6 : MOV EDI,0x1
007878bb : SUB EAX,0x1
007878be : JNZ 0x007878a3
007878c0 : MOV EAX,dword ptr [ESI + 0x48]
007878c3 : MOV EDX,dword ptr [EAX]
007878c5 : PUSH 0x0
007878c7 : PUSH 0x0
007878c9 : LEA ESI,[EBP + -0x8]
007878cc : PUSH ESI
007878cd : PUSH ECX
007878ce : PUSH EAX
007878cf : MOV EAX,dword ptr [EDX + 0x4c]
007878d2 : CALL EAX
007878d4 : MOV EAX,dword ptr [EBP + 0x10]
007878d7 : MOV ECX,dword ptr [EBP + -0x4]
007878da : MOV EDX,dword ptr [EBP + -0x8]
007878dd : MOV dword ptr [EAX],EDI
007878df : POP EDI
007878e0 : MOV dword ptr [EAX + 0x4],EBX
007878e3 : POP EBX
007878e4 : MOV dword ptr [EAX + 0x8],ECX
007878e7 : MOV dword ptr [EAX + 0xc],EDX
007878ea : MOV EAX,0x1
007878ef : POP ESI
007878f0 : MOV ESP,EBP
007878f2 : POP EBP
007878f3 : RET 0x10
