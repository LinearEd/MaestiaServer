PROGRAM  : Maestia.exe
FUNCTION : FUN_006ba5e0
ENTRY    : 006ba5e0
BODY     : [[006ba5e0, 006ba6fa]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_006ba5e0(int *param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar1 = *param_1;
  if ((char)param_1[0x49] == '\0') {
    iVar3 = *(int *)(*(int *)(iVar1 + 0x60) + 0x28);
  }
  else {
    iVar3 = param_1[0x4a];
  }
  if (iVar3 == 0) {
    return 0x99;
  }
  FUN_006b3b80(iVar3,iVar1);
  *(undefined4 *)(iVar3 + 0x1ac) = 0;
  *(undefined4 *)(iVar3 + 0x10) = 0;
  *(undefined4 *)(iVar3 + 0x1dc) = 0x40;
  *(undefined4 *)(iVar3 + 0x1e0) = 0;
  *(undefined4 *)(iVar3 + 0x1e4) = 0;
  *(undefined1 *)(iVar3 + 0x1e8) = 0;
  *(undefined4 *)(iVar3 + 0x234) = 0x10000;
  *(undefined2 *)(iVar3 + 0xd8) = 0;
  *(undefined4 *)(iVar3 + 0xdc) = 0;
  *(undefined4 *)(iVar3 + 0xe0) = 0;
  *(undefined2 *)(iVar3 + 0xda) = 0;
  *(undefined4 *)(iVar3 + 0x100) = 0x10000;
  *(undefined2 *)(iVar3 + 0xfc) = 0;
  *(undefined4 *)(iVar3 + 0x104) = 0;
  FUN_006b3a10(*(undefined4 *)(iVar1 + 0x28c));
  FUN_006b3a30();
  FUN_006b3a30();
  if (*(int *)(iVar1 + 0x28c) != 0) {
    iVar2 = FUN_006b39e0(0);
    if (iVar2 == 0) {
      iVar2 = (**(code **)(iVar1 + 0x2b0))(iVar3);
      if (iVar2 == 0) {
        FUN_006b3d70();
      }
    }
    return iVar2;
  }
  FUN_006b3d70();
  return 0;
}



============================================================
DISASSEMBLY
============================================================
006ba5e0 : MOV EAX,dword ptr [ESP + 0x4]
006ba5e4 : PUSH EBX
006ba5e5 : PUSH ESI
006ba5e6 : XOR EBX,EBX
006ba5e8 : PUSH EDI
006ba5e9 : MOV EDI,dword ptr [EAX]
006ba5eb : CMP byte ptr [EAX + 0x124],BL
006ba5f1 : JZ 0x006ba5fb
006ba5f3 : MOV ESI,dword ptr [EAX + 0x128]
006ba5f9 : JMP 0x006ba601
006ba5fb : MOV ECX,dword ptr [EDI + 0x60]
006ba5fe : MOV ESI,dword ptr [ECX + 0x28]
006ba601 : CMP ESI,EBX
006ba603 : JNZ 0x006ba60e
006ba605 : POP EDI
006ba606 : POP ESI
006ba607 : MOV EAX,0x99
006ba60c : POP EBX
006ba60d : RET
006ba60e : PUSH EBP
006ba60f : PUSH EDI
006ba610 : PUSH ESI
006ba611 : CALL 0x006b3b80
006ba616 : MOV dword ptr [ESI + 0x1ac],EBX
006ba61c : MOV dword ptr [ESI + 0x10],EBX
006ba61f : MOV dword ptr [ESI + 0x1dc],0x40
006ba629 : MOV dword ptr [ESI + 0x1e0],EBX
006ba62f : MOV dword ptr [ESI + 0x1e4],EBX
006ba635 : MOV byte ptr [ESI + 0x1e8],BL
006ba63b : MOV EAX,0x10000
006ba640 : MOV dword ptr [ESI + 0x234],EAX
006ba646 : XOR EDX,EDX
006ba648 : MOV word ptr [ESI + 0xd8],DX
006ba64f : MOV dword ptr [ESI + 0xdc],EBX
006ba655 : MOV dword ptr [ESI + 0xe0],EBX
006ba65b : XOR ECX,ECX
006ba65d : MOV word ptr [ESI + 0xda],CX
006ba664 : MOV dword ptr [ESI + 0x100],EAX
006ba66a : MOV word ptr [ESI + 0xfc],DX
006ba671 : MOV dword ptr [ESI + 0x104],EBX
006ba677 : MOV EAX,dword ptr [EDI + 0x28c]
006ba67d : MOV EDX,dword ptr [EDI + 0x290]
006ba683 : PUSH EAX
006ba684 : LEA EAX,[ECX + 0x1]
006ba687 : MOV ECX,ESI
006ba689 : CALL 0x006b3a10
006ba68e : ADD ESP,0xc
006ba691 : MOV EAX,0x2
006ba696 : CALL 0x006b3a30
006ba69b : MOV EAX,0x3
006ba6a0 : CALL 0x006b3a30
006ba6a5 : CMP dword ptr [EDI + 0x28c],EBX
006ba6ab : JBE 0x006ba6e7
006ba6ad : PUSH EBX
006ba6ae : MOV ECX,0x1
006ba6b3 : MOV EAX,ESI
006ba6b5 : CALL 0x006b39e0
006ba6ba : MOV EBP,EAX
006ba6bc : ADD ESP,0x4
006ba6bf : CMP EBP,EBX
006ba6c1 : JNZ 0x006ba6e0
006ba6c3 : MOV ECX,dword ptr [EDI + 0x2b0]
006ba6c9 : PUSH ESI
006ba6ca : CALL ECX
006ba6cc : MOV EBP,EAX
006ba6ce : ADD ESP,0x4
006ba6d1 : CMP EBP,EBX
006ba6d3 : JNZ 0x006ba6e0
006ba6d5 : MOV EAX,dword ptr [ESP + 0x14]
006ba6d9 : MOV ECX,ESI
006ba6db : CALL 0x006b3d70
006ba6e0 : MOV EAX,EBP
006ba6e2 : POP EBP
006ba6e3 : POP EDI
006ba6e4 : POP ESI
006ba6e5 : POP EBX
006ba6e6 : RET
006ba6e7 : MOV EAX,dword ptr [ESP + 0x14]
006ba6eb : MOV ECX,ESI
006ba6ed : XOR EBP,EBP
006ba6ef : CALL 0x006b3d70
006ba6f4 : MOV EAX,EBP
006ba6f6 : POP EBP
006ba6f7 : POP EDI
006ba6f8 : POP ESI
006ba6f9 : POP EBX
006ba6fa : RET
