PROGRAM  : Maestia.exe
FUNCTION : FUN_009f8920
ENTRY    : 009f8920
BODY     : [[009f8920, 009f8ba0]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009f8920(undefined4 param_1,short param_2,short param_3)

{
  short sVar1;
  int iVar2;
  undefined4 uVar3;
  int in_ECX;
  undefined1 local_50 [4];
  undefined2 local_4c;
  undefined4 local_3c;
  uint local_38;
  int local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b5ddb0;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_34 = in_ECX;
  iVar2 = FUN_00703c00(0x600,local_14);
  if (iVar2 != 0) {
    if (((param_3 == 0) || (sVar1 = *(short *)(in_ECX + 0x48 + param_2 * 2), sVar1 == 0)) ||
       (sVar1 != param_3)) {
      if (param_2 == 10) {
        if (param_3 == *(short *)(local_34 + 0x54)) {
          FUN_00824a20(DAT_0172491c,0);
          local_8 = 2;
          uVar3 = FUN_00403380(local_50,local_30);
          local_8._0_1_ = 3;
          FUN_00405c30(uVar3,0,0xffffffff);
          local_8 = CONCAT31(local_8._1_3_,2);
          FUN_00406560();
          FUN_00404980(param_1);
          local_8 = 0xffffffff;
          FUN_00406560();
          goto LAB_009f8b83;
        }
      }
      else if ((param_2 == 6) && (param_3 == *(short *)(local_34 + 0x5c))) {
        FUN_00824a20(DAT_0172491c,0);
        local_8 = 4;
        uVar3 = FUN_00403380(local_50,local_30);
        local_8._0_1_ = 5;
        FUN_00405c30(uVar3,0,0xffffffff);
        local_8 = CONCAT31(local_8._1_3_,4);
        FUN_00406560();
        FUN_00404980(param_1);
        local_8 = 0xffffffff;
        FUN_00406560();
        goto LAB_009f8b83;
      }
      uVar3 = FUN_00824a20(DAT_0172491c,0);
      local_8 = 6;
      uVar3 = FUN_00403380(local_50,uVar3);
      local_8._0_1_ = 7;
      FUN_00405c30(uVar3,0,0xffffffff);
      local_8 = CONCAT31(local_8._1_3_,6);
      if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_38 = 7;
      local_3c = 0;
      local_4c = 0;
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_18 = 7;
      local_1c = 0;
      local_2c = 0;
      FUN_00404870(&DAT_00ca8e4c,1);
    }
    else {
      FUN_00824a20(DAT_0172491c,0);
      local_8 = 0;
      uVar3 = FUN_00403380(local_50,local_30);
      local_8._0_1_ = 1;
      FUN_00405c30(uVar3,0,0xffffffff);
      local_8 = (uint)local_8._1_3_ << 8;
      FUN_00406560();
      FUN_00404980(param_1);
      local_8 = 0xffffffff;
      FUN_00406560();
    }
  }
LAB_009f8b83:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009f8920 : PUSH EBP
009f8921 : MOV EBP,ESP
009f8923 : PUSH -0x1
009f8925 : PUSH 0xb5ddb0
009f892a : MOV EAX,FS:[0x0]
009f8930 : PUSH EAX
009f8931 : SUB ESP,0x40
009f8934 : MOV EAX,[0x00d66fa0]
009f8939 : XOR EAX,EBP
009f893b : MOV dword ptr [EBP + -0x10],EAX
009f893e : PUSH EBX
009f893f : PUSH ESI
009f8940 : PUSH EDI
009f8941 : PUSH EAX
009f8942 : LEA EAX,[EBP + -0xc]
009f8945 : MOV FS:[0x0],EAX
009f894b : MOVSX EAX,word ptr [EBP + 0xc]
009f894f : MOV EBX,dword ptr [EBP + 0x8]
009f8952 : MOV ESI,ECX
009f8954 : MOV DI,word ptr [ESI + EAX*0x2 + 0x48]
009f8959 : MOV dword ptr [EBP + -0x30],ESI
009f895c : LEA ESI,[ESI + EAX*0x2 + 0x48]
009f8960 : PUSH 0x600
009f8965 : CALL 0x00703c00
009f896a : ADD ESP,0x4
009f896d : TEST EAX,EAX
009f896f : JZ 0x009f8b83
009f8975 : MOV DX,word ptr [EBP + 0x10]
009f8979 : TEST DX,DX
009f897c : JZ 0x009f89f4
009f897e : MOVZX ECX,word ptr [ESI]
009f8981 : TEST CX,CX
009f8984 : JZ 0x009f89f4
009f8986 : CMP CX,DX
009f8989 : JNZ 0x009f89f4
009f898b : MOV ECX,dword ptr [0x0172491c]
009f8991 : PUSH 0x0
009f8993 : LEA EDX,[EAX + 0x18]
009f8996 : PUSH ECX
009f8997 : LEA ESI,[EBP + -0x2c]
009f899a : CALL 0x00824a20
009f899f : MOV dword ptr [EBP + -0x4],0x0
009f89a6 : MOV EDX,ESI
009f89a8 : PUSH EDX
009f89a9 : LEA EAX,[EBP + -0x4c]
009f89ac : PUSH EAX
009f89ad : MOV EDX,0xca8e20
009f89b2 : CALL 0x00403380
009f89b7 : ADD ESP,0x8
009f89ba : MOV byte ptr [EBP + -0x4],0x1
009f89be : PUSH -0x1
009f89c0 : PUSH 0x0
009f89c2 : PUSH EAX
009f89c3 : MOV ECX,EBX
009f89c5 : CALL 0x00405c30
009f89ca : MOV byte ptr [EBP + -0x4],0x0
009f89ce : LEA ECX,[EBP + -0x4c]
009f89d1 : CALL 0x00406560
009f89d6 : PUSH EBX
009f89d7 : MOV EDX,0xca8e28
009f89dc : CALL 0x00404980
009f89e1 : MOV dword ptr [EBP + -0x4],0xffffffff
009f89e8 : MOV ECX,ESI
009f89ea : CALL 0x00406560
009f89ef : JMP 0x009f8b83
009f89f4 : MOV CX,word ptr [EBP + 0xc]
009f89f8 : CMP CX,0xa
009f89fc : JNZ 0x009f8a73
009f89fe : MOV ECX,dword ptr [EBP + -0x30]
009f8a01 : CMP DX,word ptr [ECX + 0x54]
009f8a05 : JNZ 0x009f8aea
009f8a0b : LEA EDX,[EAX + 0x18]
009f8a0e : MOV EAX,[0x0172491c]
009f8a13 : PUSH 0x0
009f8a15 : PUSH EAX
009f8a16 : LEA ESI,[EBP + -0x2c]
009f8a19 : CALL 0x00824a20
009f8a1e : MOV dword ptr [EBP + -0x4],0x2
009f8a25 : MOV ECX,ESI
009f8a27 : PUSH ECX
009f8a28 : LEA EDX,[EBP + -0x4c]
009f8a2b : PUSH EDX
009f8a2c : MOV EDX,0xca8e2c
009f8a31 : CALL 0x00403380
009f8a36 : ADD ESP,0x8
009f8a39 : MOV byte ptr [EBP + -0x4],0x3
009f8a3d : PUSH -0x1
009f8a3f : PUSH 0x0
009f8a41 : PUSH EAX
009f8a42 : MOV ECX,EBX
009f8a44 : CALL 0x00405c30
009f8a49 : MOV byte ptr [EBP + -0x4],0x2
009f8a4d : LEA ECX,[EBP + -0x4c]
009f8a50 : CALL 0x00406560
009f8a55 : PUSH EBX
009f8a56 : MOV EDX,0xca8e34
009f8a5b : CALL 0x00404980
009f8a60 : MOV dword ptr [EBP + -0x4],0xffffffff
009f8a67 : MOV ECX,ESI
009f8a69 : CALL 0x00406560
009f8a6e : JMP 0x009f8b83
009f8a73 : CMP CX,0x6
009f8a77 : JNZ 0x009f8aea
009f8a79 : MOV ECX,dword ptr [EBP + -0x30]
009f8a7c : CMP DX,word ptr [ECX + 0x5c]
009f8a80 : JNZ 0x009f8aea
009f8a82 : LEA EDX,[EAX + 0x18]
009f8a85 : MOV EAX,[0x0172491c]
009f8a8a : PUSH 0x0
009f8a8c : PUSH EAX
009f8a8d : LEA ESI,[EBP + -0x2c]
009f8a90 : CALL 0x00824a20
009f8a95 : MOV dword ptr [EBP + -0x4],0x4
009f8a9c : MOV ECX,ESI
009f8a9e : PUSH ECX
009f8a9f : LEA EDX,[EBP + -0x4c]
009f8aa2 : PUSH EDX
009f8aa3 : MOV EDX,0xca8e38
009f8aa8 : CALL 0x00403380
009f8aad : ADD ESP,0x8
009f8ab0 : MOV byte ptr [EBP + -0x4],0x5
009f8ab4 : PUSH -0x1
009f8ab6 : PUSH 0x0
009f8ab8 : PUSH EAX
009f8ab9 : MOV ECX,EBX
009f8abb : CALL 0x00405c30
009f8ac0 : MOV byte ptr [EBP + -0x4],0x4
009f8ac4 : LEA ECX,[EBP + -0x4c]
009f8ac7 : CALL 0x00406560
009f8acc : PUSH EBX
009f8acd : MOV EDX,0xca8e40
009f8ad2 : CALL 0x00404980
009f8ad7 : MOV dword ptr [EBP + -0x4],0xffffffff
009f8ade : MOV ECX,ESI
009f8ae0 : CALL 0x00406560
009f8ae5 : JMP 0x009f8b83
009f8aea : LEA EDX,[EAX + 0x18]
009f8aed : MOV EAX,[0x0172491c]
009f8af2 : PUSH 0x0
009f8af4 : PUSH EAX
009f8af5 : LEA ESI,[EBP + -0x2c]
009f8af8 : CALL 0x00824a20
009f8afd : MOV dword ptr [EBP + -0x4],0x6
009f8b04 : PUSH EAX
009f8b05 : LEA ECX,[EBP + -0x4c]
009f8b08 : PUSH ECX
009f8b09 : MOV EDX,0xca8e44
009f8b0e : CALL 0x00403380
009f8b13 : ADD ESP,0x8
009f8b16 : MOV byte ptr [EBP + -0x4],0x7
009f8b1a : PUSH -0x1
009f8b1c : PUSH 0x0
009f8b1e : PUSH EAX
009f8b1f : MOV ECX,EBX
009f8b21 : CALL 0x00405c30
009f8b26 : MOV byte ptr [EBP + -0x4],0x6
009f8b2a : MOV ESI,0x8
009f8b2f : CMP dword ptr [EBP + -0x34],ESI
009f8b32 : JC 0x009f8b3c
009f8b34 : MOV ECX,dword ptr [EBP + -0x48]
009f8b37 : CALL 0x006f04e0
009f8b3c : MOV EDI,0x7
009f8b41 : XOR EDX,EDX
009f8b43 : MOV dword ptr [EBP + -0x34],EDI
009f8b46 : MOV dword ptr [EBP + -0x38],0x0
009f8b4d : MOV word ptr [EBP + -0x48],DX
009f8b51 : MOV dword ptr [EBP + -0x4],0xffffffff
009f8b58 : CMP dword ptr [EBP + -0x14],ESI
009f8b5b : JC 0x009f8b65
009f8b5d : MOV ECX,dword ptr [EBP + -0x28]
009f8b60 : CALL 0x006f04e0
009f8b65 : PUSH 0x1
009f8b67 : XOR EAX,EAX
009f8b69 : PUSH 0xca8e4c
009f8b6e : MOV ESI,EBX
009f8b70 : MOV dword ptr [EBP + -0x14],EDI
009f8b73 : MOV dword ptr [EBP + -0x18],0x0
009f8b7a : MOV word ptr [EBP + -0x28],AX
009f8b7e : CALL 0x00404870
009f8b83 : MOV ECX,dword ptr [EBP + -0xc]
009f8b86 : MOV dword ptr FS:[0x0],ECX
009f8b8d : POP ECX
009f8b8e : POP EDI
009f8b8f : POP ESI
009f8b90 : POP EBX
009f8b91 : MOV ECX,dword ptr [EBP + -0x10]
009f8b94 : XOR ECX,EBP
009f8b96 : CALL 0x00633e6b
009f8b9b : MOV ESP,EBP
009f8b9d : POP EBP
009f8b9e : RET 0xc
