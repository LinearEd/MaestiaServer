PROGRAM  : Maestia.exe
FUNCTION : FUN_0045d460
ENTRY    : 0045d460
BODY     : [[0045d460, 0045d70b]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0045d593) */
/* WARNING: Removing unreachable block (ram,0x0045d5a3) */
/* WARNING: Removing unreachable block (ram,0x0045d5ac) */
/* WARNING: Removing unreachable block (ram,0x0045d5af) */
/* WARNING: Removing unreachable block (ram,0x0045d59f) */
/* WARNING: Removing unreachable block (ram,0x0045d5bc) */
/* WARNING: Removing unreachable block (ram,0x0045d5cc) */
/* WARNING: Removing unreachable block (ram,0x0045d5d7) */
/* WARNING: Removing unreachable block (ram,0x0045d5d3) */
/* WARNING: Removing unreachable block (ram,0x0045d5c7) */
/* WARNING: Removing unreachable block (ram,0x0045d5da) */
/* WARNING: Removing unreachable block (ram,0x0045d5ea) */
/* WARNING: Removing unreachable block (ram,0x0045d5f2) */

void FUN_0045d460(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int iVar3;
  int *piVar4;
  undefined4 uVar5;
  int *piVar6;
  int *piVar7;
  int *piVar8;
  undefined1 local_5c [4];
  undefined1 local_58;
  undefined4 local_48;
  undefined4 local_44;
  undefined1 local_40 [44];
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b7a878;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  if (*(char *)((int)param_3 + 0x11) != '\0') {
    local_44 = 0xf;
    local_48 = 0;
    local_58 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_c = 0;
    FUN_00403c10(local_5c);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_40,&DAT_00ced890);
  }
  FUN_0045d060(DAT_00d66fa0 ^ (uint)&stack0xffffff90);
  piVar8 = (int *)*param_3;
  if (*(char *)((int)piVar8 + 0x11) == '\0') {
    if (*(char *)(param_3[2] + 0x11) == '\0') {
      piVar8 = (int *)param_3[2];
    }
  }
  else {
    piVar8 = (int *)param_3[2];
  }
  piVar7 = (int *)param_3[1];
  if (*(char *)((int)piVar8 + 0x11) == '\0') {
    piVar8[1] = (int)piVar7;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar8;
  }
  else if ((int *)*piVar7 == param_3) {
    *piVar7 = (int)piVar8;
  }
  else {
    piVar7[2] = (int)piVar8;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar6 = piVar7;
    if (*(char *)((int)piVar8 + 0x11) == '\0') {
      cVar1 = *(char *)(*piVar8 + 0x11);
      piVar2 = (int *)*piVar8;
      piVar6 = piVar8;
      while (piVar4 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar4;
        cVar1 = *(char *)((int)piVar2 + 0x11);
        piVar6 = piVar4;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar6;
  }
  iVar3 = *(int *)(param_1 + 4);
  if (*(int **)(iVar3 + 8) == param_3) {
    if (*(char *)((int)piVar8 + 0x11) == '\0') {
      uVar5 = FUN_00425510();
      *(undefined4 *)(iVar3 + 8) = uVar5;
    }
    else {
      *(int **)(iVar3 + 8) = piVar7;
    }
  }
  if ((char)param_3[4] == '\x01') {
    if (piVar8 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar6 = piVar7;
        if ((char)piVar8[4] != '\x01') break;
        piVar7 = (int *)*piVar6;
        if (piVar8 == piVar7) {
          piVar7 = (int *)piVar6[2];
          if ((char)piVar7[4] == '\0') {
            *(undefined1 *)(piVar7 + 4) = 1;
            *(undefined1 *)(piVar6 + 4) = 0;
            FUN_0045dd00(param_1);
            piVar7 = (int *)piVar6[2];
          }
          if (*(char *)((int)piVar7 + 0x11) == '\0') {
            if ((*(char *)(*piVar7 + 0x10) != '\x01') || (*(char *)(piVar7[2] + 0x10) != '\x01')) {
              if (*(char *)(piVar7[2] + 0x10) == '\x01') {
                *(undefined1 *)(*piVar7 + 0x10) = 1;
                *(undefined1 *)(piVar7 + 4) = 0;
                FUN_0047ce80(param_1);
                piVar7 = (int *)piVar6[2];
              }
              *(char *)(piVar7 + 4) = (char)piVar6[4];
              *(undefined1 *)(piVar6 + 4) = 1;
              *(undefined1 *)(piVar7[2] + 0x10) = 1;
              FUN_0045dd00(param_1);
              break;
            }
LAB_0045d6b7:
            *(undefined1 *)(piVar7 + 4) = 0;
          }
        }
        else {
          if ((char)piVar7[4] == '\0') {
            *(undefined1 *)(piVar7 + 4) = 1;
            *(undefined1 *)(piVar6 + 4) = 0;
            FUN_0047ce80(param_1);
            piVar7 = (int *)*piVar6;
          }
          if (*(char *)((int)piVar7 + 0x11) == '\0') {
            if ((*(char *)(piVar7[2] + 0x10) == '\x01') && (*(char *)(*piVar7 + 0x10) == '\x01'))
            goto LAB_0045d6b7;
            if (*(char *)(*piVar7 + 0x10) == '\x01') {
              *(undefined1 *)(piVar7[2] + 0x10) = 1;
              *(undefined1 *)(piVar7 + 4) = 0;
              FUN_0045dd00(param_1);
              piVar7 = (int *)*piVar6;
            }
            *(char *)(piVar7 + 4) = (char)piVar6[4];
            *(undefined1 *)(piVar6 + 4) = 1;
            *(undefined1 *)(*piVar7 + 0x10) = 1;
            FUN_0047ce80(param_1);
            break;
          }
        }
        piVar7 = (int *)piVar6[1];
        piVar8 = piVar6;
      } while (piVar6 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar8 + 4) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0045d460 : PUSH EBP
0045d461 : MOV EBP,ESP
0045d463 : AND ESP,0xfffffff8
0045d466 : PUSH -0x1
0045d468 : PUSH 0xb7a878
0045d46d : MOV EAX,FS:[0x0]
0045d473 : PUSH EAX
0045d474 : SUB ESP,0x50
0045d477 : PUSH EBX
0045d478 : PUSH ESI
0045d479 : PUSH EDI
0045d47a : MOV EAX,[0x00d66fa0]
0045d47f : XOR EAX,ESP
0045d481 : PUSH EAX
0045d482 : LEA EAX,[ESP + 0x60]
0045d486 : MOV FS:[0x0],EAX
0045d48c : MOV EAX,dword ptr [EBP + 0x10]
0045d48f : CMP byte ptr [EAX + 0x11],0x0
0045d493 : JZ 0x0045d4d9
0045d495 : PUSH 0x1b
0045d497 : XOR ESI,ESI
0045d499 : PUSH 0xcca4a8
0045d49e : LEA ECX,[ESP + 0x20]
0045d4a2 : MOV dword ptr [ESP + 0x38],0xf
0045d4aa : MOV dword ptr [ESP + 0x34],ESI
0045d4ae : MOV byte ptr [ESP + 0x24],0x0
0045d4b3 : CALL 0x00404b50
0045d4b8 : MOV dword ptr [ESP + 0x68],ESI
0045d4bc : LEA EAX,[ESP + 0x18]
0045d4c0 : PUSH EAX
0045d4c1 : LEA ECX,[ESP + 0x38]
0045d4c5 : CALL 0x00403c10
0045d4ca : PUSH 0xced890
0045d4cf : LEA ECX,[ESP + 0x38]
0045d4d3 : PUSH ECX
0045d4d4 : CALL 0x006409eb
0045d4d9 : MOV EBX,EAX
0045d4db : LEA EDX,[EBP + 0x10]
0045d4de : MOV dword ptr [ESP + 0x10],EBX
0045d4e2 : CALL 0x0045d060
0045d4e7 : MOV ECX,dword ptr [EBX]
0045d4e9 : CMP byte ptr [ECX + 0x11],0x0
0045d4ed : JZ 0x0045d4f4
0045d4ef : MOV EDI,dword ptr [EBX + 0x8]
0045d4f2 : JMP 0x0045d512
0045d4f4 : MOV EDX,dword ptr [EBX + 0x8]
0045d4f7 : CMP byte ptr [EDX + 0x11],0x0
0045d4fb : JZ 0x0045d501
0045d4fd : MOV EDI,ECX
0045d4ff : JMP 0x0045d512
0045d501 : MOV EAX,dword ptr [EBP + 0x10]
0045d504 : MOV EDI,dword ptr [EAX + 0x8]
0045d507 : LEA EDX,[EAX + 0x8]
0045d50a : CMP EAX,EBX
0045d50c : JNZ 0x0045d593
0045d512 : CMP byte ptr [EDI + 0x11],0x0
0045d516 : MOV ESI,dword ptr [EBX + 0x4]
0045d519 : JNZ 0x0045d51e
0045d51b : MOV dword ptr [EDI + 0x4],ESI
0045d51e : MOV EDX,dword ptr [EBP + 0x8]
0045d521 : MOV EAX,dword ptr [EDX + 0x4]
0045d524 : CMP dword ptr [EAX + 0x4],EBX
0045d527 : JNZ 0x0045d52e
0045d529 : MOV dword ptr [EAX + 0x4],EDI
0045d52c : JMP 0x0045d539
0045d52e : CMP dword ptr [ESI],EBX
0045d530 : JNZ 0x0045d536
0045d532 : MOV dword ptr [ESI],EDI
0045d534 : JMP 0x0045d539
0045d536 : MOV dword ptr [ESI + 0x8],EDI
0045d539 : MOV EAX,dword ptr [EDX + 0x4]
0045d53c : CMP dword ptr [EAX],EBX
0045d53e : JNZ 0x0045d563
0045d540 : CMP byte ptr [EDI + 0x11],0x0
0045d544 : JZ 0x0045d54a
0045d546 : MOV ECX,ESI
0045d548 : JMP 0x0045d55e
0045d54a : MOV EAX,dword ptr [EDI]
0045d54c : CMP byte ptr [EAX + 0x11],0x0
0045d550 : MOV ECX,EDI
0045d552 : JNZ 0x0045d55e
0045d554 : MOV ECX,EAX
0045d556 : MOV EAX,dword ptr [ECX]
0045d558 : CMP byte ptr [EAX + 0x11],0x0
0045d55c : JZ 0x0045d554
0045d55e : MOV EAX,dword ptr [EDX + 0x4]
0045d561 : MOV dword ptr [EAX],ECX
0045d563 : MOV ECX,dword ptr [EDX + 0x4]
0045d566 : MOV dword ptr [ESP + 0x14],ECX
0045d56a : CMP dword ptr [ECX + 0x8],EBX
0045d56d : JNZ 0x0045d5f5
0045d573 : CMP byte ptr [EDI + 0x11],0x0
0045d577 : JZ 0x0045d580
0045d579 : MOV EAX,ESI
0045d57b : MOV dword ptr [ECX + 0x8],EAX
0045d57e : JMP 0x0045d5f5
0045d580 : MOV EAX,EDI
0045d582 : CALL 0x00425510
0045d587 : MOV ECX,dword ptr [ESP + 0x14]
0045d58b : MOV EDX,dword ptr [EBP + 0x8]
0045d58e : MOV dword ptr [ECX + 0x8],EAX
0045d591 : JMP 0x0045d5f5
0045d593 : MOV dword ptr [ECX + 0x4],EAX
0045d596 : MOV ECX,dword ptr [EBX]
0045d598 : MOV dword ptr [EAX],ECX
0045d59a : CMP EAX,dword ptr [EBX + 0x8]
0045d59d : JNZ 0x0045d5a3
0045d59f : MOV ESI,EAX
0045d5a1 : JMP 0x0045d5bc
0045d5a3 : CMP byte ptr [EDI + 0x11],0x0
0045d5a7 : MOV ESI,dword ptr [EAX + 0x4]
0045d5aa : JNZ 0x0045d5af
0045d5ac : MOV dword ptr [EDI + 0x4],ESI
0045d5af : MOV dword ptr [ESI],EDI
0045d5b1 : MOV ECX,dword ptr [EBX + 0x8]
0045d5b4 : MOV dword ptr [EDX],ECX
0045d5b6 : MOV EDX,dword ptr [EBX + 0x8]
0045d5b9 : MOV dword ptr [EDX + 0x4],EAX
0045d5bc : MOV ECX,dword ptr [EBP + 0x8]
0045d5bf : MOV ECX,dword ptr [ECX + 0x4]
0045d5c2 : CMP dword ptr [ECX + 0x4],EBX
0045d5c5 : JNZ 0x0045d5cc
0045d5c7 : MOV dword ptr [ECX + 0x4],EAX
0045d5ca : JMP 0x0045d5da
0045d5cc : MOV ECX,dword ptr [EBX + 0x4]
0045d5cf : CMP dword ptr [ECX],EBX
0045d5d1 : JNZ 0x0045d5d7
0045d5d3 : MOV dword ptr [ECX],EAX
0045d5d5 : JMP 0x0045d5da
0045d5d7 : MOV dword ptr [ECX + 0x8],EAX
0045d5da : MOV EDX,dword ptr [EBX + 0x4]
0045d5dd : MOV dword ptr [EAX + 0x4],EDX
0045d5e0 : LEA ECX,[EBX + 0x10]
0045d5e3 : ADD EAX,0x10
0045d5e6 : CMP EAX,ECX
0045d5e8 : JZ 0x0045d5f2
0045d5ea : MOV BL,byte ptr [ECX]
0045d5ec : MOV DL,byte ptr [EAX]
0045d5ee : MOV byte ptr [EAX],BL
0045d5f0 : MOV byte ptr [ECX],DL
0045d5f2 : MOV EDX,dword ptr [EBP + 0x8]
0045d5f5 : MOV EAX,dword ptr [ESP + 0x10]
0045d5f9 : MOV BL,0x1
0045d5fb : CMP byte ptr [EAX + 0x10],BL
0045d5fe : JNZ 0x0045d703
0045d604 : MOV ECX,dword ptr [EDX + 0x4]
0045d607 : CMP EDI,dword ptr [ECX + 0x4]
0045d60a : JZ 0x0045d700
0045d610 : CMP byte ptr [EDI + 0x10],BL
0045d613 : JNZ 0x0045d700
0045d619 : MOV ECX,dword ptr [ESI]
0045d61b : CMP EDI,ECX
0045d61d : JNZ 0x0045d688
0045d61f : MOV ECX,dword ptr [ESI + 0x8]
0045d622 : CMP byte ptr [ECX + 0x10],0x0
0045d626 : JNZ 0x0045d63d
0045d628 : MOV byte ptr [ECX + 0x10],BL
0045d62b : PUSH EDX
0045d62c : MOV ECX,ESI
0045d62e : MOV byte ptr [ESI + 0x10],0x0
0045d632 : CALL 0x0045dd00
0045d637 : MOV ECX,dword ptr [ESI + 0x8]
0045d63a : MOV EDX,dword ptr [EBP + 0x8]
0045d63d : CMP byte ptr [ECX + 0x11],0x0
0045d641 : JNZ 0x0045d6bb
0045d643 : MOV EAX,dword ptr [ECX]
0045d645 : CMP byte ptr [EAX + 0x10],BL
0045d648 : JNZ 0x0045d652
0045d64a : MOV EAX,dword ptr [ECX + 0x8]
0045d64d : CMP byte ptr [EAX + 0x10],BL
0045d650 : JZ 0x0045d6b7
0045d652 : MOV EAX,dword ptr [ECX + 0x8]
0045d655 : CMP byte ptr [EAX + 0x10],BL
0045d658 : JNZ 0x0045d66f
0045d65a : MOV EAX,dword ptr [ECX]
0045d65c : MOV byte ptr [EAX + 0x10],BL
0045d65f : PUSH EDX
0045d660 : MOV byte ptr [ECX + 0x10],0x0
0045d664 : CALL 0x0047ce80
0045d669 : MOV ECX,dword ptr [ESI + 0x8]
0045d66c : MOV EDX,dword ptr [EBP + 0x8]
0045d66f : MOV AL,byte ptr [ESI + 0x10]
0045d672 : MOV byte ptr [ECX + 0x10],AL
0045d675 : MOV byte ptr [ESI + 0x10],BL
0045d678 : MOV ECX,dword ptr [ECX + 0x8]
0045d67b : MOV byte ptr [ECX + 0x10],BL
0045d67e : PUSH EDX
0045d67f : MOV ECX,ESI
0045d681 : CALL 0x0045dd00
0045d686 : JMP 0x0045d700
0045d688 : CMP byte ptr [ECX + 0x10],0x0
0045d68c : JNZ 0x0045d6a2
0045d68e : MOV byte ptr [ECX + 0x10],BL
0045d691 : PUSH EDX
0045d692 : MOV ECX,ESI
0045d694 : MOV byte ptr [ESI + 0x10],0x0
0045d698 : CALL 0x0047ce80
0045d69d : MOV ECX,dword ptr [ESI]
0045d69f : MOV EDX,dword ptr [EBP + 0x8]
0045d6a2 : CMP byte ptr [ECX + 0x11],0x0
0045d6a6 : JNZ 0x0045d6bb
0045d6a8 : MOV EAX,dword ptr [ECX + 0x8]
0045d6ab : CMP byte ptr [EAX + 0x10],BL
0045d6ae : JNZ 0x0045d6ce
0045d6b0 : MOV EAX,dword ptr [ECX]
0045d6b2 : CMP byte ptr [EAX + 0x10],BL
0045d6b5 : JNZ 0x0045d6ce
0045d6b7 : MOV byte ptr [ECX + 0x10],0x0
0045d6bb : MOV ECX,dword ptr [EDX + 0x4]
0045d6be : MOV EDI,ESI
0045d6c0 : MOV ESI,dword ptr [ESI + 0x4]
0045d6c3 : CMP EDI,dword ptr [ECX + 0x4]
0045d6c6 : JNZ 0x0045d610
0045d6cc : JMP 0x0045d700
0045d6ce : MOV EAX,dword ptr [ECX]
0045d6d0 : CMP byte ptr [EAX + 0x10],BL
0045d6d3 : JNZ 0x0045d6ea
0045d6d5 : MOV EAX,dword ptr [ECX + 0x8]
0045d6d8 : MOV byte ptr [EAX + 0x10],BL
0045d6db : PUSH EDX
0045d6dc : MOV byte ptr [ECX + 0x10],0x0
0045d6e0 : CALL 0x0045dd00
0045d6e5 : MOV ECX,dword ptr [ESI]
0045d6e7 : MOV EDX,dword ptr [EBP + 0x8]
0045d6ea : MOV AL,byte ptr [ESI + 0x10]
0045d6ed : MOV byte ptr [ECX + 0x10],AL
0045d6f0 : MOV byte ptr [ESI + 0x10],BL
0045d6f3 : MOV ECX,dword ptr [ECX]
0045d6f5 : MOV byte ptr [ECX + 0x10],BL
0045d6f8 : PUSH EDX
0045d6f9 : MOV ECX,ESI
0045d6fb : CALL 0x0047ce80
0045d700 : MOV byte ptr [EDI + 0x10],BL
0045d703 : MOV ECX,dword ptr [ESP + 0x10]
0045d707 : CALL 0x006f04e0
