PROGRAM  : Maestia.exe
FUNCTION : FUN_00724090
ENTRY    : 00724090
BODY     : [[00724090, 00724227]]

============================================================
DECOMPILED C CODE
============================================================

char FUN_00724090(float param_1)

{
  float fVar1;
  float fVar2;
  uint uVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  uint uVar7;
  int *in_ECX;
  uint uVar8;
  int iVar9;
  uint local_10;
  
  if ((char)in_ECX[4] == '\0') {
    return '\x01';
  }
  iVar9 = in_ECX[1];
  if (iVar9 == 0) {
    fVar1 = (float)in_ECX[0x2b];
    iVar9 = 2;
    in_ECX[0x2b] = (int)(param_1 + fVar1);
    local_10 = (uint)(longlong)ROUND((param_1 + fVar1) / (float)in_ECX[0x2d]);
    in_ECX[0x2a] = local_10;
    if ((uint)in_ECX[0x2c] <= local_10) {
      if (*(char *)((int)in_ECX + 0x11) == '\0') {
        iVar9 = 4;
      }
      else {
        in_ECX[0x2a] = 0;
        in_ECX[0x2b] = 0;
      }
    }
    uVar3 = in_ECX[0x26];
    uVar7 = (uint)in_ECX[0x2a] / uVar3;
    uVar8 = (uint)in_ECX[0x2a] % uVar3;
    fVar1 = (float)(int)uVar8;
    if ((int)uVar8 < 0) {
      fVar1 = fVar1 + 4.2949673e+09;
    }
    fVar4 = (float)(int)uVar3;
    if ((int)uVar3 < 0) {
      fVar4 = fVar4 + 4.2949673e+09;
    }
    fVar5 = (float)(int)uVar7;
    if ((int)uVar7 < 0) {
      fVar5 = fVar5 + 4.2949673e+09;
    }
    fVar2 = (float)in_ECX[0x29];
    fVar6 = (float)in_ECX[0x25];
    if (in_ECX[0x25] < 0) {
      fVar6 = fVar6 + 4.2949673e+09;
    }
    if (iVar9 == 4) {
      (**(code **)(*in_ECX + 4))();
      if (*(char *)((int)in_ECX + 0x13) != '\0') {
        return -0x80;
      }
    }
    else {
      if (iVar9 == 1) {
        return '\x01';
      }
      *(float *)in_ECX[0x24] = (fVar1 * (float)in_ECX[0x28]) / fVar4;
      *(float *)(in_ECX[0x24] + 4) = (fVar5 * fVar2) / fVar6;
    }
  }
  else if ((iVar9 != 1) && (iVar9 != 2)) {
    return (iVar9 != 4) * '\b' + '\b';
  }
  return '\x10';
}



============================================================
DISASSEMBLY
============================================================
00724090 : PUSH EBP
00724091 : MOV EBP,ESP
00724093 : AND ESP,0xfffffff8
00724096 : SUB ESP,0x10
00724099 : PUSH ESI
0072409a : MOV ESI,ECX
0072409c : CMP byte ptr [ESI + 0x10],0x0
007240a0 : PUSH EDI
007240a1 : JNZ 0x007240b0
007240a3 : MOV EAX,0x1
007240a8 : POP EDI
007240a9 : POP ESI
007240aa : MOV ESP,EBP
007240ac : POP EBP
007240ad : RET 0x4
007240b0 : MOV EAX,dword ptr [ESI + 0x4]
007240b3 : TEST EAX,EAX
007240b5 : JZ 0x007240e2
007240b7 : CMP EAX,0x1
007240ba : JZ 0x0072421b
007240c0 : CMP EAX,0x2
007240c3 : JZ 0x0072421b
007240c9 : XOR ECX,ECX
007240cb : CMP EAX,0x4
007240ce : SETNZ CL
007240d1 : LEA ECX,[ECX*0x8 + 0x8]
007240d8 : MOV EAX,ECX
007240da : POP EDI
007240db : POP ESI
007240dc : MOV ESP,EBP
007240de : POP EBP
007240df : RET 0x4
007240e2 : MOVSS XMM0,dword ptr [EBP + 0x8]
007240e7 : ADDSS XMM0,dword ptr [ESI + 0xac]
007240ef : MOVSS dword ptr [ESP + 0xc],XMM0
007240f5 : FLD float ptr [ESP + 0xc]
007240f9 : MOV EDI,0x2
007240fe : FDIV float ptr [ESI + 0xb4]
00724104 : MOVSS dword ptr [ESI + 0xac],XMM0
0072410c : FNSTCW word ptr [ESP + 0xc]
00724110 : MOVZX EAX,word ptr [ESP + 0xc]
00724115 : OR EAX,0xc00
0072411a : MOV dword ptr [ESP + 0x10],EAX
0072411e : FLDCW word ptr [ESP + 0x10]
00724122 : FISTP qword ptr [ESP + 0x10]
00724126 : MOV EAX,dword ptr [ESP + 0x10]
0072412a : MOV dword ptr [ESI + 0xa8],EAX
00724130 : FLDCW word ptr [ESP + 0xc]
00724134 : CMP EAX,dword ptr [ESI + 0xb0]
0072413a : JC 0x0072415e
0072413c : CMP byte ptr [ESI + 0x11],0x0
00724140 : JZ 0x00724159
00724142 : XORPS XMM0,XMM0
00724145 : MOV dword ptr [ESI + 0xa8],0x0
0072414f : MOVSS dword ptr [ESI + 0xac],XMM0
00724157 : JMP 0x0072415e
00724159 : MOV EDI,0x4
0072415e : MOV EAX,dword ptr [ESI + 0xa8]
00724164 : MOV ECX,dword ptr [ESI + 0x98]
0072416a : XOR EDX,EDX
0072416c : DIV ECX
0072416e : MOV dword ptr [ESP + 0x10],EDX
00724172 : FILD dword ptr [ESP + 0x10]
00724176 : TEST EDX,EDX
00724178 : JGE 0x00724180
0072417a : FADD float ptr [0x00cdf0e0]
00724180 : FMUL float ptr [ESI + 0xa0]
00724186 : MOV dword ptr [ESP + 0x10],ECX
0072418a : FILD dword ptr [ESP + 0x10]
0072418e : TEST ECX,ECX
00724190 : JGE 0x00724198
00724192 : FADD float ptr [0x00cdf0e0]
00724198 : FDIVP
0072419a : MOV dword ptr [ESP + 0xc],EAX
0072419e : FSTP float ptr [ESP + 0x10]
007241a2 : FILD dword ptr [ESP + 0xc]
007241a6 : TEST EAX,EAX
007241a8 : JGE 0x007241b0
007241aa : FADD float ptr [0x00cdf0e0]
007241b0 : MOV EDX,dword ptr [ESI + 0x94]
007241b6 : FMUL float ptr [ESI + 0xa4]
007241bc : FILD dword ptr [ESI + 0x94]
007241c2 : TEST EDX,EDX
007241c4 : JGE 0x007241cc
007241c6 : FADD float ptr [0x00cdf0e0]
007241cc : FDIVP
007241ce : FSTP float ptr [ESP + 0xc]
007241d2 : CMP EDI,0x4
007241d5 : JNZ 0x007241f1
007241d7 : MOV EAX,dword ptr [ESI]
007241d9 : MOV EDX,dword ptr [EAX + 0x4]
007241dc : MOV ECX,ESI
007241de : CALL EDX
007241e0 : CMP byte ptr [ESI + 0x13],0x0
007241e4 : JZ 0x0072421b
007241e6 : LEA EAX,[EDI + 0x7c]
007241e9 : POP EDI
007241ea : POP ESI
007241eb : MOV ESP,EBP
007241ed : POP EBP
007241ee : RET 0x4
007241f1 : CMP EDI,0x1
007241f4 : JZ 0x007240a3
007241fa : MOV EAX,dword ptr [ESI + 0x90]
00724200 : MOVSS XMM0,dword ptr [ESP + 0x10]
00724206 : MOVSS dword ptr [EAX],XMM0
0072420a : MOV ECX,dword ptr [ESI + 0x90]
00724210 : MOVSS XMM0,dword ptr [ESP + 0xc]
00724216 : MOVSS dword ptr [ECX + 0x4],XMM0
0072421b : POP EDI
0072421c : MOV EAX,0x10
00724221 : POP ESI
00724222 : MOV ESP,EBP
00724224 : POP EBP
00724225 : RET 0x4
