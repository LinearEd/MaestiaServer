PROGRAM  : Maestia.exe
FUNCTION : FUN_00556e50
ENTRY    : 00556e50
BODY     : [[00556e50, 00557006]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_00556e50(void)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  int *piVar4;
  ushort uVar5;
  int *in_ECX;
  int iVar6;
  float local_7c;
  undefined4 local_78;
  byte abStack_74 [28];
  int iStack_58;
  undefined1 auStack_54 [4];
  int iStack_50;
  int iStack_4c;
  ushort uStack_40;
  uint uStack_3c;
  uint uStack_38;
  uint uStack_2c;
  uint uStack_28;
  int iStack_24;
  int iStack_20;
  int iStack_14;
  int iStack_10;
  float fStack_c;
  
  local_7c = 0.0;
  local_78 = 0.0;
  (**(code **)(*in_ECX + 0x44))(&local_7c,&local_78);
  uVar2 = 0x1505;
  iVar6 = 4;
  do {
    iVar3 = iVar6 + -0x11;
    iVar6 = iVar6 + -1;
    uVar2 = (uint)abStack_74[iVar3] ^ uVar2 * 0x21;
  } while (iVar6 != 0);
  iVar6 = 4;
  do {
    iVar3 = iVar6 + -0xd;
    iVar6 = iVar6 + -1;
    uVar2 = (uint)abStack_74[iVar3] ^ uVar2 * 0x21;
  } while (iVar6 != 0);
  FUN_005548f0(in_ECX);
  iVar6 = iStack_4c;
  uVar5 = uStack_40;
  if (uStack_3c < uStack_38) {
    do {
      FUN_00555ad0(abStack_74,abStack_74 + 4,abStack_74 + 8);
      iVar3 = 0xc;
      do {
        iVar1 = iVar3 + -1;
        iVar3 = iVar3 + -1;
        uVar2 = (uint)abStack_74[iVar1] ^ uVar2 * 0x21;
      } while (iVar3 != 0);
      FUN_00555980(auStack_54);
      iVar3 = 8;
      local_7c = fStack_c * (float)iStack_24;
      local_78 = fStack_c * (float)iStack_20;
      do {
        iVar1 = iVar3 + -9;
        iVar3 = iVar3 + -1;
        uVar2 = (uint)abStack_74[iVar1] ^ uVar2 * 0x21;
      } while (iVar3 != 0);
      if (uStack_2c < uStack_28) {
        do {
          FUN_005547c0(abStack_74 + 0xc);
          for (iVar3 = iStack_58 * 4; iVar3 != 0; iVar3 = iVar3 + -1) {
            uVar2 = (uint)abStack_74[iVar3 + 0xb] ^ uVar2 * 0x21;
          }
        } while (uStack_2c < uStack_28);
      }
      iStack_50 = iStack_14;
      if (iStack_14 == 0) {
        iStack_50 = iStack_10;
      }
      uStack_3c = uStack_3c + 1;
      piVar4 = (int *)(iVar6 - (uint)uVar5);
      if (piVar4[1] <= (iStack_50 - (int)piVar4) + -8) {
        iVar3 = *piVar4;
        if (iVar3 == 0) {
          iStack_50 = 0;
        }
        else {
          iVar6 = iVar3 + 8;
          uVar5 = (short)iVar6 - (short)iVar3;
          iStack_50 = iVar6;
          iStack_4c = iVar6;
          uStack_40 = uVar5;
        }
      }
    } while (uStack_3c < uStack_38);
  }
  return uVar2;
}



============================================================
DISASSEMBLY
============================================================
00556e50 : SUB ESP,0x7c
00556e53 : PUSH EBX
00556e54 : PUSH ESI
00556e55 : PUSH EDI
00556e56 : MOV EDI,ECX
00556e58 : MOV EAX,dword ptr [EDI]
00556e5a : MOV EAX,dword ptr [EAX + 0x44]
00556e5d : LEA ECX,[ESP + 0x10]
00556e61 : PUSH ECX
00556e62 : XOR EBX,EBX
00556e64 : LEA EDX,[ESP + 0x10]
00556e68 : PUSH EDX
00556e69 : MOV ECX,EDI
00556e6b : MOV dword ptr [ESP + 0x14],EBX
00556e6f : MOV dword ptr [ESP + 0x18],EBX
00556e73 : CALL EAX
00556e75 : MOV EAX,0x1505
00556e7a : MOV ECX,0x4
00556e7f : NOP
00556e80 : MOVZX EDX,byte ptr [ESP + ECX*0x1 + 0xb]
00556e85 : DEC ECX
00556e86 : MOV ESI,EAX
00556e88 : SHL ESI,0x5
00556e8b : ADD ESI,EAX
00556e8d : XOR EDX,ESI
00556e8f : MOV EAX,EDX
00556e91 : CMP ECX,EBX
00556e93 : JNZ 0x00556e80
00556e95 : MOV ECX,0x4
00556e9a : LEA EBX,[EBX]
00556ea0 : MOVZX EDX,byte ptr [ESP + ECX*0x1 + 0xf]
00556ea5 : DEC ECX
00556ea6 : MOV ESI,EAX
00556ea8 : SHL ESI,0x5
00556eab : ADD ESI,EAX
00556ead : XOR EDX,ESI
00556eaf : MOV EAX,EDX
00556eb1 : CMP ECX,EBX
00556eb3 : JNZ 0x00556ea0
00556eb5 : PUSH EDI
00556eb6 : LEA ECX,[ESP + 0x40]
00556eba : MOV ESI,EAX
00556ebc : CALL 0x005548f0
00556ec1 : MOV EAX,dword ptr [ESP + 0x58]
00556ec5 : CMP dword ptr [ESP + 0x54],EAX
00556ec9 : JNC 0x00556ff8
00556ecf : MOV EDI,dword ptr [ESP + 0x44]
00556ed3 : PUSH EBP
00556ed4 : MOV BP,word ptr [ESP + 0x54]
00556ed9 : LEA ESP,[ESP]
00556ee0 : LEA ECX,[ESP + 0x28]
00556ee4 : PUSH ECX
00556ee5 : LEA EDX,[ESP + 0x28]
00556ee9 : PUSH EDX
00556eea : LEA EAX,[ESP + 0x28]
00556eee : PUSH EAX
00556eef : LEA ECX,[ESP + 0x4c]
00556ef3 : CALL 0x00555ad0
00556ef8 : MOV EAX,0xc
00556efd : LEA ECX,[ECX]
00556f00 : MOVZX ECX,byte ptr [ESP + EAX*0x1 + 0x1f]
00556f05 : DEC EAX
00556f06 : MOV EDX,ESI
00556f08 : SHL EDX,0x5
00556f0b : ADD EDX,ESI
00556f0d : XOR ECX,EDX
00556f0f : MOV ESI,ECX
00556f11 : CMP EAX,EBX
00556f13 : JNZ 0x00556f00
00556f15 : LEA EAX,[ESP + 0x40]
00556f19 : PUSH EAX
00556f1a : LEA ECX,[ESP + 0x68]
00556f1e : CALL 0x00555980
00556f23 : FILD dword ptr [ESP + 0x70]
00556f27 : FLD float ptr [ESP + 0x88]
00556f2e : MOV EAX,0x8
00556f33 : FLD ST0
00556f35 : FMULP ST2
00556f37 : FXCH
00556f39 : FSTP float ptr [ESP + 0x18]
00556f3d : FIMUL dword ptr [ESP + 0x74]
00556f41 : FSTP float ptr [ESP + 0x1c]
00556f45 : MOVZX ECX,byte ptr [ESP + EAX*0x1 + 0x17]
00556f4a : DEC EAX
00556f4b : MOV EDX,ESI
00556f4d : SHL EDX,0x5
00556f50 : ADD EDX,ESI
00556f52 : XOR ECX,EDX
00556f54 : MOV ESI,ECX
00556f56 : CMP EAX,EBX
00556f58 : JNZ 0x00556f45
00556f5a : MOV EAX,dword ptr [ESP + 0x68]
00556f5e : CMP EAX,dword ptr [ESP + 0x6c]
00556f62 : JNC 0x00556fa1
00556f64 : LEA ECX,[ESP + 0x2c]
00556f68 : PUSH ECX
00556f69 : LEA ECX,[ESP + 0x68]
00556f6d : CALL 0x005547c0
00556f72 : MOV EAX,dword ptr [ESP + 0x3c]
00556f76 : ADD EAX,EAX
00556f78 : ADD EAX,EAX
00556f7a : MOV ECX,ESI
00556f7c : CMP EAX,EBX
00556f7e : JZ 0x00556f95
00556f80 : MOVZX EDX,byte ptr [ESP + EAX*0x1 + 0x2b]
00556f85 : DEC EAX
00556f86 : MOV ESI,ECX
00556f88 : SHL ESI,0x5
00556f8b : ADD ESI,ECX
00556f8d : XOR EDX,ESI
00556f8f : MOV ECX,EDX
00556f91 : CMP EAX,EBX
00556f93 : JNZ 0x00556f80
00556f95 : MOV EAX,dword ptr [ESP + 0x68]
00556f99 : MOV ESI,ECX
00556f9b : CMP EAX,dword ptr [ESP + 0x6c]
00556f9f : JC 0x00556f64
00556fa1 : MOV ECX,dword ptr [ESP + 0x80]
00556fa8 : CMP ECX,EBX
00556faa : JNZ 0x00556fb3
00556fac : MOV ECX,dword ptr [ESP + 0x84]
00556fb3 : INC dword ptr [ESP + 0x58]
00556fb7 : MOVZX EDX,BP
00556fba : MOV EAX,EDI
00556fbc : SUB EAX,EDX
00556fbe : MOV dword ptr [ESP + 0x44],ECX
00556fc2 : SUB ECX,EAX
00556fc4 : SUB ECX,0x8
00556fc7 : CMP ECX,dword ptr [EAX + 0x4]
00556fca : JL 0x00556fe9
00556fcc : MOV EAX,dword ptr [EAX]
00556fce : CMP EAX,EBX
00556fd0 : JZ 0x00557001
00556fd2 : LEA ECX,[EAX + 0x8]
00556fd5 : MOV EDI,ECX
00556fd7 : MOV dword ptr [ESP + 0x44],ECX
00556fdb : SUB ECX,EAX
00556fdd : MOV BP,CX
00556fe0 : MOV dword ptr [ESP + 0x48],EDI
00556fe4 : MOV word ptr [ESP + 0x54],BP
00556fe9 : MOV EAX,dword ptr [ESP + 0x5c]
00556fed : CMP dword ptr [ESP + 0x58],EAX
00556ff1 : JC 0x00556ee0
00556ff7 : POP EBP
00556ff8 : POP EDI
00556ff9 : MOV EAX,ESI
00556ffb : POP ESI
00556ffc : POP EBX
00556ffd : ADD ESP,0x7c
00557000 : RET
00557001 : MOV dword ptr [ESP + 0x44],EBX
00557005 : JMP 0x00556fe9
