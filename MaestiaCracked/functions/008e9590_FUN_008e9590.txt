PROGRAM  : Maestia.exe
FUNCTION : FUN_008e9590
ENTRY    : 008e9590
BODY     : [[008e9590, 008e986f] [008e9872, 008e988c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008e9590(int param_1)

{
  short sVar1;
  uint uVar2;
  int iVar3;
  undefined4 uVar4;
  short *psVar5;
  int iVar6;
  int iVar7;
  short *psVar8;
  uint local_60;
  uint local_44;
  undefined1 local_40 [4];
  undefined2 local_3c;
  undefined4 local_2c;
  uint local_28;
  undefined1 local_24 [4];
  int local_20;
  int local_1c;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b455a7;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_28 = 7;
  local_2c = 0;
  local_3c = 0;
  FUN_00406360(&DAT_00c5a87c,1);
  local_8 = 0;
  FUN_00ab63e0(local_24,param_1,local_40,0,uVar2);
  local_8._0_1_ = 2;
  if (7 < local_28) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_3c = 0;
  local_2c = 0;
  iVar3 = (local_1c - local_20) / 0x1c;
  local_28 = 7;
  if (iVar3 == 3) {
    if (*(uint *)(local_20 + 0x18) < 8) {
      iVar3 = local_20 + 4;
    }
    else {
      iVar3 = *(int *)(local_20 + 4);
    }
    FUN_00406460(iVar3);
    local_8._0_1_ = 3;
    iVar3 = FUN_0081cce0(DAT_0172491c);
    local_8._0_1_ = 4;
    if (*(uint *)(local_20 + 0x50) < 8) {
      iVar7 = local_20 + 0x3c;
    }
    else {
      iVar7 = *(int *)(local_20 + 0x3c);
    }
    if (*(uint *)(local_20 + 0x34) < 8) {
      iVar6 = local_20 + 0x20;
    }
    else {
      iVar6 = *(int *)(local_20 + 0x20);
    }
    if (*(uint *)(iVar3 + 0x18) < 8) {
      iVar3 = iVar3 + 4;
    }
    else {
      iVar3 = *(int *)(iVar3 + 4);
    }
    uVar4 = FUN_00404750(L"%s %s %s",iVar3,iVar6,iVar7);
    local_8._0_1_ = 5;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8 = CONCAT31(local_8._1_3_,4);
    if (7 < local_44) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = CONCAT31(local_8._1_3_,3);
    if (7 < local_60) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8._0_1_ = 2;
    if (7 < local_28) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_28 = 7;
    local_2c = 0;
    local_3c = 0;
  }
  else if (iVar3 == 2) {
    if (*(uint *)(local_20 + 0x18) < 8) {
      iVar3 = local_20 + 4;
    }
    else {
      iVar3 = *(int *)(local_20 + 4);
    }
    FUN_00406460(iVar3);
    local_8._0_1_ = 6;
    iVar3 = FUN_0081cce0(DAT_0172491c);
    local_8._0_1_ = 7;
    if (*(uint *)(local_20 + 0x34) < 8) {
      iVar7 = local_20 + 0x20;
    }
    else {
      iVar7 = *(int *)(local_20 + 0x20);
    }
    if (*(uint *)(iVar3 + 0x18) < 8) {
      iVar3 = iVar3 + 4;
    }
    else {
      iVar3 = *(int *)(iVar3 + 4);
    }
    uVar4 = FUN_00404750(L"%s %s",iVar3,iVar7);
    local_8._0_1_ = 8;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8 = CONCAT31(local_8._1_3_,7);
    if (7 < local_60) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8 = CONCAT31(local_8._1_3_,6);
    if (7 < local_44) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_8._0_1_ = 2;
    if (7 < local_28) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_28 = 7;
    local_2c = 0;
    local_3c = 0;
  }
  else {
    if (*(uint *)(local_20 + 0x18) < 8) {
      psVar8 = (short *)(local_20 + 4);
    }
    else {
      psVar8 = *(short **)(local_20 + 4);
    }
    psVar5 = psVar8;
    do {
      sVar1 = *psVar5;
      psVar5 = psVar5 + 1;
    } while (sVar1 != 0);
    FUN_00406360(psVar8,(int)psVar5 - (int)(psVar8 + 1) >> 1);
  }
  if (*(int *)(param_1 + 0x14) == 0) {
    if (*(uint *)(local_20 + 0x18) < 8) {
      psVar8 = (short *)(local_20 + 4);
    }
    else {
      psVar8 = *(short **)(local_20 + 4);
    }
    psVar5 = psVar8;
    do {
      sVar1 = *psVar5;
      psVar5 = psVar5 + 1;
    } while (sVar1 != 0);
    FUN_00406360(psVar8,(int)psVar5 - (int)(psVar8 + 1) >> 1);
  }
  local_8 = 0xffffffff;
  if (local_20 == 0) {
    ExceptionList = local_10;
    return;
  }
  FUN_00405450(param_1);
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
008e9590 : PUSH EBP
008e9591 : MOV EBP,ESP
008e9593 : PUSH -0x1
008e9595 : PUSH 0xb455a7
008e959a : MOV EAX,FS:[0x0]
008e95a0 : PUSH EAX
008e95a1 : SUB ESP,0x68
008e95a4 : PUSH EBX
008e95a5 : PUSH ESI
008e95a6 : PUSH EDI
008e95a7 : MOV EAX,[0x00d66fa0]
008e95ac : XOR EAX,EBP
008e95ae : PUSH EAX
008e95af : LEA EAX,[EBP + -0xc]
008e95b2 : MOV FS:[0x0],EAX
008e95b8 : PUSH 0x1
008e95ba : XOR EAX,EAX
008e95bc : MOV EDI,0x7
008e95c1 : XOR ESI,ESI
008e95c3 : PUSH 0xc5a87c
008e95c8 : LEA ECX,[EBP + -0x3c]
008e95cb : MOV dword ptr [EBP + -0x24],EDI
008e95ce : MOV dword ptr [EBP + -0x28],ESI
008e95d1 : MOV word ptr [EBP + -0x38],AX
008e95d5 : CALL 0x00406360
008e95da : MOV dword ptr [EBP + -0x4],ESI
008e95dd : MOV EDX,dword ptr [EBP + 0x8]
008e95e0 : PUSH ESI
008e95e1 : LEA ECX,[EBP + -0x3c]
008e95e4 : PUSH ECX
008e95e5 : PUSH EDX
008e95e6 : LEA EAX,[EBP + -0x20]
008e95e9 : PUSH EAX
008e95ea : CALL 0x00ab63e0
008e95ef : ADD ESP,0x10
008e95f2 : MOV byte ptr [EBP + -0x4],0x2
008e95f6 : MOV EBX,0x8
008e95fb : CMP dword ptr [EBP + -0x24],EBX
008e95fe : JC 0x008e9608
008e9600 : MOV ECX,dword ptr [EBP + -0x38]
008e9603 : CALL 0x006f04e0
008e9608 : XOR ECX,ECX
008e960a : MOV word ptr [EBP + -0x38],CX
008e960e : MOV ECX,dword ptr [EBP + -0x18]
008e9611 : MOV dword ptr [EBP + -0x28],ESI
008e9614 : MOV ESI,dword ptr [EBP + -0x1c]
008e9617 : SUB ECX,ESI
008e9619 : MOV EAX,0x92492493
008e961e : IMUL ECX
008e9620 : ADD EDX,ECX
008e9622 : SAR EDX,0x4
008e9625 : MOV EAX,EDX
008e9627 : SHR EAX,0x1f
008e962a : ADD EAX,EDX
008e962c : MOV dword ptr [EBP + -0x24],EDI
008e962f : CMP EAX,0x3
008e9632 : JNZ 0x008e9713
008e9638 : CMP dword ptr [ESI + 0x18],EBX
008e963b : JC 0x008e9642
008e963d : MOV ESI,dword ptr [ESI + 0x4]
008e9640 : JMP 0x008e9645
008e9642 : ADD ESI,0x4
008e9645 : PUSH ESI
008e9646 : LEA ECX,[EBP + -0x3c]
008e9649 : CALL 0x00406460
008e964e : MOV byte ptr [EBP + -0x4],0x3
008e9652 : MOV EDX,dword ptr [0x0172491c]
008e9658 : PUSH EDX
008e9659 : LEA ECX,[EBP + -0x3c]
008e965c : LEA ESI,[EBP + -0x74]
008e965f : CALL 0x0081cce0
008e9664 : MOV byte ptr [EBP + -0x4],0x4
008e9668 : MOV ECX,dword ptr [EBP + -0x1c]
008e966b : CMP dword ptr [ECX + 0x50],EBX
008e966e : JC 0x008e9675
008e9670 : MOV EDX,dword ptr [ECX + 0x3c]
008e9673 : JMP 0x008e9678
008e9675 : LEA EDX,[ECX + 0x3c]
008e9678 : CMP dword ptr [ECX + 0x34],EBX
008e967b : JC 0x008e9682
008e967d : MOV ECX,dword ptr [ECX + 0x20]
008e9680 : JMP 0x008e9685
008e9682 : ADD ECX,0x20
008e9685 : CMP dword ptr [EAX + 0x18],EBX
008e9688 : JC 0x008e968f
008e968a : MOV EAX,dword ptr [EAX + 0x4]
008e968d : JMP 0x008e9692
008e968f : ADD EAX,0x4
008e9692 : PUSH EDX
008e9693 : PUSH ECX
008e9694 : PUSH EAX
008e9695 : PUSH 0xc5a880
008e969a : LEA ESI,[EBP + -0x58]
008e969d : CALL 0x00404750
008e96a2 : ADD ESP,0x10
008e96a5 : MOV byte ptr [EBP + -0x4],0x5
008e96a9 : MOV ECX,dword ptr [EBP + 0x8]
008e96ac : PUSH -0x1
008e96ae : XOR ESI,ESI
008e96b0 : PUSH ESI
008e96b1 : PUSH EAX
008e96b2 : CALL 0x00405eb0
008e96b7 : MOV byte ptr [EBP + -0x4],0x4
008e96bb : CMP dword ptr [EBP + -0x40],EBX
008e96be : JC 0x008e96c8
008e96c0 : MOV ECX,dword ptr [EBP + -0x54]
008e96c3 : CALL 0x006f04e0
008e96c8 : XOR EAX,EAX
008e96ca : MOV dword ptr [EBP + -0x40],EDI
008e96cd : MOV dword ptr [EBP + -0x44],ESI
008e96d0 : MOV word ptr [EBP + -0x54],AX
008e96d4 : MOV byte ptr [EBP + -0x4],0x3
008e96d8 : CMP dword ptr [EBP + -0x5c],EBX
008e96db : JC 0x008e96e5
008e96dd : MOV ECX,dword ptr [EBP + -0x70]
008e96e0 : CALL 0x006f04e0
008e96e5 : XOR ECX,ECX
008e96e7 : MOV dword ptr [EBP + -0x5c],EDI
008e96ea : MOV dword ptr [EBP + -0x60],ESI
008e96ed : MOV word ptr [EBP + -0x70],CX
008e96f1 : MOV byte ptr [EBP + -0x4],0x2
008e96f5 : CMP dword ptr [EBP + -0x24],EBX
008e96f8 : JC 0x008e9702
008e96fa : MOV ECX,dword ptr [EBP + -0x38]
008e96fd : CALL 0x006f04e0
008e9702 : XOR EDX,EDX
008e9704 : MOV dword ptr [EBP + -0x24],EDI
008e9707 : MOV dword ptr [EBP + -0x28],ESI
008e970a : MOV word ptr [EBP + -0x38],DX
008e970e : JMP 0x008e9811
008e9713 : CMP EAX,0x2
008e9716 : JNZ 0x008e97e4
008e971c : CMP dword ptr [ESI + 0x18],EBX
008e971f : JC 0x008e9726
008e9721 : MOV ESI,dword ptr [ESI + 0x4]
008e9724 : JMP 0x008e9729
008e9726 : ADD ESI,0x4
008e9729 : PUSH ESI
008e972a : LEA ECX,[EBP + -0x3c]
008e972d : CALL 0x00406460
008e9732 : MOV byte ptr [EBP + -0x4],0x6
008e9736 : MOV EAX,[0x0172491c]
008e973b : PUSH EAX
008e973c : LEA ECX,[EBP + -0x3c]
008e973f : LEA ESI,[EBP + -0x58]
008e9742 : CALL 0x0081cce0
008e9747 : MOV byte ptr [EBP + -0x4],0x7
008e974b : MOV ECX,dword ptr [EBP + -0x1c]
008e974e : CMP dword ptr [ECX + 0x34],EBX
008e9751 : JC 0x008e9758
008e9753 : MOV ECX,dword ptr [ECX + 0x20]
008e9756 : JMP 0x008e975b
008e9758 : ADD ECX,0x20
008e975b : CMP dword ptr [EAX + 0x18],EBX
008e975e : JC 0x008e9765
008e9760 : MOV EAX,dword ptr [EAX + 0x4]
008e9763 : JMP 0x008e9768
008e9765 : ADD EAX,0x4
008e9768 : PUSH ECX
008e9769 : PUSH EAX
008e976a : PUSH 0xc5a894
008e976f : LEA ESI,[EBP + -0x74]
008e9772 : CALL 0x00404750
008e9777 : ADD ESP,0xc
008e977a : MOV byte ptr [EBP + -0x4],BL
008e977d : MOV ECX,dword ptr [EBP + 0x8]
008e9780 : PUSH -0x1
008e9782 : XOR ESI,ESI
008e9784 : PUSH ESI
008e9785 : PUSH EAX
008e9786 : CALL 0x00405eb0
008e978b : MOV byte ptr [EBP + -0x4],0x7
008e978f : CMP dword ptr [EBP + -0x5c],EBX
008e9792 : JC 0x008e979c
008e9794 : MOV ECX,dword ptr [EBP + -0x70]
008e9797 : CALL 0x006f04e0
008e979c : XOR ECX,ECX
008e979e : MOV dword ptr [EBP + -0x5c],EDI
008e97a1 : MOV dword ptr [EBP + -0x60],ESI
008e97a4 : MOV word ptr [EBP + -0x70],CX
008e97a8 : MOV byte ptr [EBP + -0x4],0x6
008e97ac : CMP dword ptr [EBP + -0x40],EBX
008e97af : JC 0x008e97b9
008e97b1 : MOV ECX,dword ptr [EBP + -0x54]
008e97b4 : CALL 0x006f04e0
008e97b9 : XOR EDX,EDX
008e97bb : MOV dword ptr [EBP + -0x40],EDI
008e97be : MOV dword ptr [EBP + -0x44],ESI
008e97c1 : MOV word ptr [EBP + -0x54],DX
008e97c5 : MOV byte ptr [EBP + -0x4],0x2
008e97c9 : CMP dword ptr [EBP + -0x24],EBX
008e97cc : JC 0x008e97d6
008e97ce : MOV ECX,dword ptr [EBP + -0x38]
008e97d1 : CALL 0x006f04e0
008e97d6 : XOR EAX,EAX
008e97d8 : MOV dword ptr [EBP + -0x24],EDI
008e97db : MOV dword ptr [EBP + -0x28],ESI
008e97de : MOV word ptr [EBP + -0x38],AX
008e97e2 : JMP 0x008e980f
008e97e4 : CMP dword ptr [ESI + 0x18],EBX
008e97e7 : JC 0x008e97ee
008e97e9 : MOV ESI,dword ptr [ESI + 0x4]
008e97ec : JMP 0x008e97f1
008e97ee : ADD ESI,0x4
008e97f1 : MOV EAX,ESI
008e97f3 : LEA EDX,[EAX + 0x2]
008e97f6 : MOV CX,word ptr [EAX]
008e97f9 : ADD EAX,0x2
008e97fc : TEST CX,CX
008e97ff : JNZ 0x008e97f6
008e9801 : MOV ECX,dword ptr [EBP + 0x8]
008e9804 : SUB EAX,EDX
008e9806 : SAR EAX,0x1
008e9808 : PUSH EAX
008e9809 : PUSH ESI
008e980a : CALL 0x00406360
008e980f : XOR ESI,ESI
008e9811 : MOV ECX,dword ptr [EBP + 0x8]
008e9814 : CMP dword ptr [ECX + 0x14],ESI
008e9817 : JNZ 0x008e984b
008e9819 : MOV EAX,dword ptr [EBP + -0x1c]
008e981c : CMP dword ptr [EAX + 0x18],EBX
008e981f : JC 0x008e9826
008e9821 : MOV EDX,dword ptr [EAX + 0x4]
008e9824 : JMP 0x008e9829
008e9826 : LEA EDX,[EAX + 0x4]
008e9829 : MOV EAX,EDX
008e982b : LEA ESI,[EAX + 0x2]
008e982e : MOV EDI,EDI
008e9830 : MOV CX,word ptr [EAX]
008e9833 : ADD EAX,0x2
008e9836 : TEST CX,CX
008e9839 : JNZ 0x008e9830
008e983b : MOV ECX,dword ptr [EBP + 0x8]
008e983e : SUB EAX,ESI
008e9840 : SAR EAX,0x1
008e9842 : PUSH EAX
008e9843 : PUSH EDX
008e9844 : CALL 0x00406360
008e9849 : XOR ESI,ESI
008e984b : MOV dword ptr [EBP + -0x4],0xffffffff
008e9852 : MOV EAX,dword ptr [EBP + -0x1c]
008e9855 : CMP EAX,ESI
008e9857 : JZ 0x008e9872
008e9859 : MOV EDX,dword ptr [EBP + 0x8]
008e985c : MOV EDI,dword ptr [EBP + -0x18]
008e985f : PUSH EDX
008e9860 : CALL 0x00405450
008e9865 : MOV ECX,dword ptr [EBP + -0x1c]
008e9868 : ADD ESP,0x4
008e986b : CALL 0x006f04e0
008e9872 : MOV dword ptr [EBP + -0x1c],ESI
008e9875 : MOV dword ptr [EBP + -0x18],ESI
008e9878 : MOV dword ptr [EBP + -0x14],ESI
008e987b : MOV ECX,dword ptr [EBP + -0xc]
008e987e : MOV dword ptr FS:[0x0],ECX
008e9885 : POP ECX
008e9886 : POP EDI
008e9887 : POP ESI
008e9888 : POP EBX
008e9889 : MOV ESP,EBP
008e988b : POP EBP
008e988c : RET
