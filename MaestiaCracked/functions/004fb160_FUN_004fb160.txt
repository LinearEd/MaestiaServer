PROGRAM  : Maestia.exe
FUNCTION : FUN_004fb160
ENTRY    : 004fb160
BODY     : [[004fb160, 004fb213]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int FUN_004fb160(uint *param_1)

{
  int in_EAX;
  uint *puVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  
  uVar4 = 0;
  if (*(uint *)(in_EAX + 4) != 0) {
    uVar3 = *(uint *)(in_EAX + 4);
    do {
      if (*param_1 == *(uint *)(*(int *)(in_EAX + 0x10) + uVar3)) {
        if (uVar3 != 0) goto LAB_004fb1f7;
        break;
      }
      if (uVar3 == 0) {
        puVar1 = (uint *)0x0;
      }
      else {
        puVar1 = (uint *)(*(int *)(in_EAX + 0x10) + uVar3);
      }
      if (*param_1 < *puVar1) {
        uVar5 = _DAT_00000018;
        if (uVar3 != 0) {
          uVar5 = *(uint *)(*(int *)(in_EAX + 0x10) + uVar3 + 0x18);
        }
      }
      else {
        if (uVar3 == 0) {
          iVar2 = 0;
        }
        else {
          iVar2 = *(int *)(in_EAX + 0x10) + uVar3;
        }
        uVar5 = *(uint *)(iVar2 + 0x1c);
      }
      uVar4 = uVar3;
      uVar3 = uVar5;
    } while (uVar5 != 0);
  }
  uVar3 = FUN_004fcb50(param_1,uVar4);
  if (uVar4 == 0) {
    *(uint *)(in_EAX + 4) = uVar3;
  }
  else {
    puVar1 = (uint *)(*(int *)(in_EAX + 0x10) + uVar4);
    if (*param_1 < *puVar1) {
      puVar1[6] = uVar3;
    }
    else {
      puVar1[7] = uVar3;
    }
  }
  FUN_004fc790();
  *(int *)(in_EAX + 8) = *(int *)(in_EAX + 8) + 1;
  if (uVar3 == 0) {
    return 4;
  }
LAB_004fb1f7:
  return *(int *)(in_EAX + 0x10) + uVar3 + 4;
}



============================================================
DISASSEMBLY
============================================================
004fb160 : PUSH EBX
004fb161 : PUSH EBP
004fb162 : MOV EBP,dword ptr [ESP + 0xc]
004fb166 : PUSH ESI
004fb167 : PUSH EDI
004fb168 : MOV EDI,EAX
004fb16a : MOV ESI,dword ptr [EDI + 0x4]
004fb16d : XOR EBX,EBX
004fb16f : TEST ESI,ESI
004fb171 : JZ 0x004fb1c1
004fb173 : MOV ECX,dword ptr [EBP]
004fb176 : MOV EAX,dword ptr [EDI + 0x10]
004fb179 : ADD EAX,ESI
004fb17b : CMP ECX,dword ptr [EAX]
004fb17d : JZ 0x004fb1bd
004fb17f : MOV EBX,ESI
004fb181 : TEST ESI,ESI
004fb183 : JZ 0x004fb18c
004fb185 : MOV EAX,dword ptr [EDI + 0x10]
004fb188 : ADD EAX,ESI
004fb18a : JMP 0x004fb18e
004fb18c : XOR EAX,EAX
004fb18e : CMP ECX,dword ptr [EAX]
004fb190 : JNC 0x004fb1a7
004fb192 : TEST ESI,ESI
004fb194 : JZ 0x004fb1a0
004fb196 : MOV EAX,dword ptr [EDI + 0x10]
004fb199 : ADD EAX,ESI
004fb19b : MOV ESI,dword ptr [EAX + 0x18]
004fb19e : JMP 0x004fb1b7
004fb1a0 : XOR EAX,EAX
004fb1a2 : MOV ESI,dword ptr [EAX + 0x18]
004fb1a5 : JMP 0x004fb1b7
004fb1a7 : TEST ESI,ESI
004fb1a9 : JZ 0x004fb1b2
004fb1ab : MOV EAX,dword ptr [EDI + 0x10]
004fb1ae : ADD EAX,ESI
004fb1b0 : JMP 0x004fb1b4
004fb1b2 : XOR EAX,EAX
004fb1b4 : MOV ESI,dword ptr [EAX + 0x1c]
004fb1b7 : TEST ESI,ESI
004fb1b9 : JNZ 0x004fb176
004fb1bb : JMP 0x004fb1c1
004fb1bd : TEST ESI,ESI
004fb1bf : JNZ 0x004fb1f7
004fb1c1 : PUSH EBX
004fb1c2 : PUSH EBP
004fb1c3 : CALL 0x004fcb50
004fb1c8 : MOV ESI,EAX
004fb1ca : TEST EBX,EBX
004fb1cc : JNZ 0x004fb1d3
004fb1ce : MOV dword ptr [EDI + 0x4],ESI
004fb1d1 : JMP 0x004fb1e7
004fb1d3 : MOV EAX,dword ptr [EDI + 0x10]
004fb1d6 : MOV ECX,dword ptr [EBP]
004fb1d9 : ADD EAX,EBX
004fb1db : CMP ECX,dword ptr [EAX]
004fb1dd : JNC 0x004fb1e4
004fb1df : MOV dword ptr [EAX + 0x18],ESI
004fb1e2 : JMP 0x004fb1e7
004fb1e4 : MOV dword ptr [EAX + 0x1c],ESI
004fb1e7 : MOV EAX,EBX
004fb1e9 : MOV EDX,EDI
004fb1eb : CALL 0x004fc790
004fb1f0 : INC dword ptr [EDI + 0x8]
004fb1f3 : TEST ESI,ESI
004fb1f5 : JZ 0x004fb206
004fb1f7 : MOV EDI,dword ptr [EDI + 0x10]
004fb1fa : ADD EDI,ESI
004fb1fc : LEA EAX,[EDI + 0x4]
004fb1ff : POP EDI
004fb200 : POP ESI
004fb201 : POP EBP
004fb202 : POP EBX
004fb203 : RET 0x4
004fb206 : POP EDI
004fb207 : POP ESI
004fb208 : POP EBP
004fb209 : XOR EAX,EAX
004fb20b : MOV EAX,0x4
004fb210 : POP EBX
004fb211 : RET 0x4
