PROGRAM  : Maestia.exe
FUNCTION : FUN_00564c70
ENTRY    : 00564c70
BODY     : [[00564c70, 00564cd8]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_00564c70(void)

{
  int iVar1;
  int iVar2;
  int in_ECX;
  int iVar3;
  
  iVar2 = *(int *)(*(int *)(*(int *)(in_ECX + 0x1c) + 0xc) + 0x20);
  iVar3 = 0;
  if (*(int *)(iVar2 + 0x74) < 2) {
    EnterCriticalSection((LPCRITICAL_SECTION)(iVar2 + 0xac));
    iVar3 = iVar2;
  }
  iVar2 = *(int *)(*(int *)(*(int *)(in_ECX + 0x1c) + 0xc) + 0x20);
  iVar1 = FUN_005630c0(&stack0x00000004);
  if ((iVar1 < 0) || (iVar2 = (iVar1 + 1) * 0x10 + *(int *)(iVar2 + 0xcc), iVar2 == 0)) {
    iVar2 = 0;
  }
  else {
    iVar2 = iVar2 + 4;
  }
  if (iVar3 != 0) {
    LeaveCriticalSection((LPCRITICAL_SECTION)(iVar3 + 0xac));
  }
  return iVar2;
}



============================================================
DISASSEMBLY
============================================================
00564c70 : PUSH ESI
00564c71 : MOV ESI,ECX
00564c73 : MOV EAX,dword ptr [ESI + 0x1c]
00564c76 : MOV ECX,dword ptr [EAX + 0xc]
00564c79 : MOV EAX,dword ptr [ECX + 0x20]
00564c7c : PUSH EDI
00564c7d : XOR EDI,EDI
00564c7f : CMP dword ptr [EAX + 0x74],0x2
00564c83 : JGE 0x00564c93
00564c85 : MOV EDI,EAX
00564c87 : ADD EAX,0xac
00564c8c : PUSH EAX
00564c8d : CALL dword ptr [0x00b85118]
00564c93 : MOV EDX,dword ptr [ESI + 0x1c]
00564c96 : MOV EAX,dword ptr [EDX + 0xc]
00564c99 : MOV ESI,dword ptr [EAX + 0x20]
00564c9c : LEA ECX,[ESP + 0xc]
00564ca0 : ADD ESI,0xcc
00564ca6 : PUSH ECX
00564ca7 : MOV ECX,ESI
00564ca9 : CALL 0x005630c0
00564cae : TEST EAX,EAX
00564cb0 : JL 0x00564cbf
00564cb2 : INC EAX
00564cb3 : SHL EAX,0x4
00564cb6 : ADD EAX,dword ptr [ESI]
00564cb8 : JZ 0x00564cbf
00564cba : LEA ESI,[EAX + 0x4]
00564cbd : JMP 0x00564cc1
00564cbf : XOR ESI,ESI
00564cc1 : TEST EDI,EDI
00564cc3 : JZ 0x00564cd2
00564cc5 : ADD EDI,0xac
00564ccb : PUSH EDI
00564ccc : CALL dword ptr [0x00b8511c]
00564cd2 : POP EDI
00564cd3 : MOV EAX,ESI
00564cd5 : POP ESI
00564cd6 : RET 0x4
