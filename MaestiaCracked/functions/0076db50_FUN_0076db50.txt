PROGRAM  : Maestia.exe
FUNCTION : FUN_0076db50
ENTRY    : 0076db50
BODY     : [[0076db50, 0076ddfc]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0076db50(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  float fVar2;
  char cVar3;
  int in_EAX;
  undefined8 *puVar4;
  char *pcVar5;
  int iVar6;
  int iVar7;
  undefined8 local_28;
  undefined8 local_20;
  undefined4 local_18;
  undefined4 local_14;
  int local_10;
  float local_c;
  float local_8;
  
  iVar1 = (*(int *)(in_EAX + 0x30c) - *(int *)(in_EAX + 0x308)) / 0x30;
  iVar7 = 0;
  local_10 = 0;
  if (0 < iVar1) {
    do {
      if ((*(short *)(*(int *)(in_EAX + 0x308) + 0x2c + iVar7) == (short)param_2) &&
         (iVar6 = *(int *)(*(int *)(in_EAX + 0x308) + iVar7 + 0x1c), iVar6 != 0)) {
        if (*(int *)(iVar6 + 0x14) == 0) {
          FUN_0078f730();
          iVar6 = *(int *)(*(int *)(in_EAX + 0x308) + 0x1c + iVar7);
          puVar4 = (undefined8 *)(*(int *)(in_EAX + 0x308) + iVar7);
          if (*(int *)(iVar6 + 0x14) == 0) goto LAB_0076dcdc;
          iVar6 = *(int *)(iVar6 + 0x14);
          *puVar4 = *(undefined8 *)(iVar6 + 0x3c);
          puVar4[1] = *(undefined8 *)(iVar6 + 0x44);
          puVar4[2] = *(undefined8 *)(iVar6 + 0x4c);
          *(undefined4 *)(puVar4 + 3) = *(undefined4 *)(iVar6 + 0x54);
        }
        iVar6 = *(int *)(in_EAX + 0x308);
        local_8 = (float)*(int *)(iVar7 + 4 + iVar6);
        if (*(int *)(iVar7 + 4 + iVar6) < 0) {
          local_8 = local_8 + 4.2949673e+09;
        }
        local_c = (float)*(int *)(iVar7 + iVar6);
        if (*(int *)(iVar7 + iVar6) < 0) {
          local_c = local_c + 4.2949673e+09;
        }
        if (*(short *)(in_EAX + 0x36c) == 1) {
          if (((512.0 < local_8) || ((512.0 < local_c || (local_8 < 64.0)))) || (local_c < 64.0))
          goto LAB_0076dde4;
        }
        else if ((((*(short *)(in_EAX + 0x36c) != 2) || (256.0 < local_8)) || (256.0 < local_c)) ||
                ((local_8 < 32.0 || (local_c < 32.0)))) goto LAB_0076dde4;
        fVar2 = local_c / local_8;
        if (local_c / local_8 < local_8 / local_c) {
          fVar2 = local_8 / local_c;
        }
        if (2.01 < fVar2) goto LAB_0076dde4;
      }
LAB_0076dcdc:
      local_10 = local_10 + 1;
      iVar7 = iVar7 + 0x30;
    } while (local_10 < iVar1);
  }
  iVar7 = 0;
  local_18 = 0;
  local_14 = 0;
  local_c = 7.17465e-43;
  local_10 = 0x200;
  while( true ) {
    iVar6 = 0;
    if (iVar1 < 1) {
      return 1;
    }
    pcVar5 = (char *)(*(int *)(in_EAX + 0x308) + 0x20);
    while ((*(short *)(pcVar5 + 0xc) != (short)param_2 || (*pcVar5 != '\0'))) {
      iVar6 = iVar6 + 1;
      pcVar5 = pcVar5 + 0x30;
      if (iVar1 <= iVar6) {
        return 1;
      }
    }
    if (499 < iVar7) break;
    cVar3 = FUN_00769160(local_18,local_14,&local_c,&local_10,&local_28);
    if (cVar3 == '\0') {
      return 0;
    }
    local_8 = 0.0;
    cVar3 = FUN_0076cd00(param_1,param_2,&local_18,&local_14,local_c,local_10,1,&local_8,local_28,
                         local_20);
    if (cVar3 == '\0') break;
    iVar7 = iVar7 + 1;
  }
LAB_0076dde4:
  FUN_008018d0();
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0076db50 : PUSH EBP
0076db51 : MOV EBP,ESP
0076db53 : SUB ESP,0x24
0076db56 : PUSH EBX
0076db57 : PUSH ESI
0076db58 : MOV ESI,EAX
0076db5a : MOV ECX,dword ptr [ESI + 0x30c]
0076db60 : SUB ECX,dword ptr [ESI + 0x308]
0076db66 : MOV EAX,0x2aaaaaab
0076db6b : IMUL ECX
0076db6d : SAR EDX,0x3
0076db70 : MOV EBX,EDX
0076db72 : SHR EBX,0x1f
0076db75 : PUSH EDI
0076db76 : XOR EDI,EDI
0076db78 : ADD EBX,EDX
0076db7a : CMP EBX,EDI
0076db7c : MOV dword ptr [EBP + -0xc],EDI
0076db7f : JLE 0x0076dcee
0076db85 : MOV EAX,dword ptr [ESI + 0x308]
0076db8b : MOV CX,word ptr [EAX + EDI*0x1 + 0x2c]
0076db90 : ADD EAX,EDI
0076db92 : CMP CX,word ptr [EBP + 0xc]
0076db96 : JNZ 0x0076dcdc
0076db9c : MOV EAX,dword ptr [EAX + 0x1c]
0076db9f : TEST EAX,EAX
0076dba1 : JZ 0x0076dcdc
0076dba7 : CMP dword ptr [EAX + 0x14],0x0
0076dbab : JNZ 0x0076dbfc
0076dbad : MOV EDX,dword ptr [ESI + 0x308]
0076dbb3 : MOV EAX,dword ptr [EDI + EDX*0x1 + 0x1c]
0076dbb7 : LEA ECX,[EAX + 0x48]
0076dbba : PUSH EAX
0076dbbb : CALL 0x0078f730
0076dbc0 : MOV EAX,dword ptr [ESI + 0x308]
0076dbc6 : MOV ECX,dword ptr [EAX + EDI*0x1 + 0x1c]
0076dbca : ADD EAX,EDI
0076dbcc : CMP dword ptr [ECX + 0x14],0x0
0076dbd0 : JZ 0x0076dcdc
0076dbd6 : MOV ECX,dword ptr [ECX + 0x14]
0076dbd9 : MOVQ XMM0,qword ptr [ECX + 0x3c]
0076dbde : MOVQ qword ptr [EAX],XMM0
0076dbe2 : MOVQ XMM0,qword ptr [ECX + 0x44]
0076dbe7 : MOVQ qword ptr [EAX + 0x8],XMM0
0076dbec : MOVQ XMM0,qword ptr [ECX + 0x4c]
0076dbf1 : MOVQ qword ptr [EAX + 0x10],XMM0
0076dbf6 : MOV ECX,dword ptr [ECX + 0x54]
0076dbf9 : MOV dword ptr [EAX + 0x18],ECX
0076dbfc : MOV EDX,dword ptr [ESI + 0x308]
0076dc02 : MOV ECX,dword ptr [EDI + EDX*0x1 + 0x4]
0076dc06 : FILD dword ptr [EDI + EDX*0x1 + 0x4]
0076dc0a : LEA EAX,[EDI + EDX*0x1]
0076dc0d : TEST ECX,ECX
0076dc0f : JGE 0x0076dc17
0076dc11 : FADD float ptr [0x00cdf0e0]
0076dc17 : MOV EDX,dword ptr [EAX]
0076dc19 : FSTP float ptr [EBP + -0x4]
0076dc1c : FILD dword ptr [EAX]
0076dc1e : TEST EDX,EDX
0076dc20 : JGE 0x0076dc28
0076dc22 : FADD float ptr [0x00cdf0e0]
0076dc28 : MOVZX EAX,word ptr [ESI + 0x36c]
0076dc2f : FSTP float ptr [EBP + -0x8]
0076dc32 : CMP AX,0x1
0076dc36 : JNZ 0x0076dc78
0076dc38 : MOVSS XMM2,dword ptr [EBP + -0x4]
0076dc3d : MOVSS XMM1,dword ptr [0x00cdf2a0]
0076dc45 : COMISS XMM2,XMM1
0076dc48 : JA 0x0076dd31
0076dc4e : MOVSS XMM0,dword ptr [EBP + -0x8]
0076dc53 : COMISS XMM0,XMM1
0076dc56 : JA 0x0076dd31
0076dc5c : MOVSS XMM1,dword ptr [0x00cdf150]
0076dc64 : COMISS XMM1,XMM2
0076dc67 : JA 0x0076dc6e
0076dc69 : COMISS XMM1,XMM0
0076dc6c : JBE 0x0076dcc0
0076dc6e : PUSH 0xc0d888
0076dc73 : JMP 0x0076dde4
0076dc78 : CMP AX,0x2
0076dc7c : JNZ 0x0076dd59
0076dc82 : MOVSS XMM2,dword ptr [EBP + -0x4]
0076dc87 : MOVSS XMM1,dword ptr [0x00cdf208]
0076dc8f : COMISS XMM2,XMM1
0076dc92 : JA 0x0076dd4f
0076dc98 : MOVSS XMM0,dword ptr [EBP + -0x8]
0076dc9d : COMISS XMM0,XMM1
0076dca0 : JA 0x0076dd4f
0076dca6 : MOVSS XMM1,dword ptr [0x00cdf538]
0076dcae : COMISS XMM1,XMM2
0076dcb1 : JA 0x0076dd45
0076dcb7 : COMISS XMM1,XMM0
0076dcba : JA 0x0076dd45
0076dcc0 : MOVAPS XMM1,XMM2
0076dcc3 : DIVSS XMM1,XMM0
0076dcc7 : DIVSS XMM0,XMM2
0076dccb : COMISS XMM1,XMM0
0076dcce : JBE 0x0076dcd3
0076dcd0 : MOVAPS XMM0,XMM1
0076dcd3 : COMISS XMM0,dword ptr [0x00cdf85c]
0076dcda : JA 0x0076dd3b
0076dcdc : MOV EAX,dword ptr [EBP + -0xc]
0076dcdf : INC EAX
0076dce0 : ADD EDI,0x30
0076dce3 : CMP EAX,EBX
0076dce5 : MOV dword ptr [EBP + -0xc],EAX
0076dce8 : JL 0x0076db85
0076dcee : XOR EDI,EDI
0076dcf0 : MOV EAX,0x200
0076dcf5 : MOV dword ptr [EBP + -0x14],EDI
0076dcf8 : MOV dword ptr [EBP + -0x10],EDI
0076dcfb : MOV dword ptr [EBP + -0x8],EAX
0076dcfe : MOV dword ptr [EBP + -0xc],EAX
0076dd01 : XOR ECX,ECX
0076dd03 : TEST EBX,EBX
0076dd05 : JLE 0x0076dd26
0076dd07 : MOV EAX,dword ptr [ESI + 0x308]
0076dd0d : MOV EDX,dword ptr [EBP + 0xc]
0076dd10 : ADD EAX,0x20
0076dd13 : CMP word ptr [EAX + 0xc],DX
0076dd17 : JNZ 0x0076dd1e
0076dd19 : CMP byte ptr [EAX],0x0
0076dd1c : JZ 0x0076dd63
0076dd1e : INC ECX
0076dd1f : ADD EAX,0x30
0076dd22 : CMP ECX,EBX
0076dd24 : JL 0x0076dd13
0076dd26 : MOV AL,0x1
0076dd28 : POP EDI
0076dd29 : POP ESI
0076dd2a : POP EBX
0076dd2b : MOV ESP,EBP
0076dd2d : POP EBP
0076dd2e : RET 0x8
0076dd31 : PUSH 0xc0d7f8
0076dd36 : JMP 0x0076dde4
0076dd3b : PUSH 0xc0db20
0076dd40 : JMP 0x0076dde4
0076dd45 : PUSH 0xc0d9c8
0076dd4a : JMP 0x0076dde4
0076dd4f : PUSH 0xc0d918
0076dd54 : JMP 0x0076dde4
0076dd59 : PUSH 0xc0daa8
0076dd5e : JMP 0x0076dde4
0076dd63 : CMP EDI,0x1f4
0076dd69 : JGE 0x0076ddd8
0076dd6b : LEA EAX,[EBP + -0x24]
0076dd6e : PUSH EAX
0076dd6f : MOV EAX,dword ptr [EBP + -0x10]
0076dd72 : LEA ECX,[EBP + -0xc]
0076dd75 : PUSH ECX
0076dd76 : MOV ECX,dword ptr [EBP + -0x14]
0076dd79 : LEA EDX,[EBP + -0x8]
0076dd7c : PUSH EDX
0076dd7d : PUSH EAX
0076dd7e : PUSH ECX
0076dd7f : MOV ECX,ESI
0076dd81 : CALL 0x00769160
0076dd86 : TEST AL,AL
0076dd88 : JZ 0x0076ddf2
0076dd8a : MOVQ XMM0,qword ptr [EBP + -0x24]
0076dd8f : MOV ECX,dword ptr [EBP + -0x8]
0076dd92 : SUB ESP,0x10
0076dd95 : MOV EAX,ESP
0076dd97 : MOVQ qword ptr [EAX],XMM0
0076dd9b : MOVQ XMM0,qword ptr [EBP + -0x1c]
0076dda0 : LEA EDX,[EBP + -0x4]
0076dda3 : PUSH EDX
0076dda4 : PUSH 0x1
0076dda6 : MOVQ qword ptr [EAX + 0x8],XMM0
0076ddab : MOV EAX,dword ptr [EBP + -0xc]
0076ddae : PUSH EAX
0076ddaf : PUSH ECX
0076ddb0 : MOV ECX,dword ptr [EBP + 0xc]
0076ddb3 : LEA EDX,[EBP + -0x10]
0076ddb6 : PUSH EDX
0076ddb7 : MOV EDX,dword ptr [EBP + 0x8]
0076ddba : LEA EAX,[EBP + -0x14]
0076ddbd : PUSH EAX
0076ddbe : PUSH ECX
0076ddbf : PUSH EDX
0076ddc0 : MOV ECX,ESI
0076ddc2 : MOV dword ptr [EBP + -0x4],0x0
0076ddc9 : CALL 0x0076cd00
0076ddce : TEST AL,AL
0076ddd0 : JZ 0x0076dddf
0076ddd2 : INC EDI
0076ddd3 : JMP 0x0076dd01
0076ddd8 : PUSH 0xc0dbb8
0076dddd : JMP 0x0076dde4
0076dddf : PUSH 0xc0dc48
0076dde4 : MOV ESI,dword ptr [0x00da98e8]
0076ddea : CALL 0x008018d0
0076ddef : ADD ESP,0x4
0076ddf2 : POP EDI
0076ddf3 : POP ESI
0076ddf4 : XOR AL,AL
0076ddf6 : POP EBX
0076ddf7 : MOV ESP,EBP
0076ddf9 : POP EBP
0076ddfa : RET 0x8
