PROGRAM  : Maestia.exe
FUNCTION : FUN_006e0be0
ENTRY    : 006e0be0
BODY     : [[006e0be0, 006e0d4d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006e0be0(int *param_1)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  
  puVar1 = (undefined4 *)(**(code **)param_1[1])(param_1,1,0x18);
  param_1[0x69] = (int)puVar1;
  *puVar1 = GThread::OnExit;
  switch(param_1[10]) {
  case 1:
    if (param_1[9] != 1) {
LAB_006e0c31:
      *(undefined4 *)(*param_1 + 0x14) = 10;
      (**(code **)*param_1)(param_1);
    }
    break;
  case 2:
  case 3:
    if (param_1[9] != 3) goto LAB_006e0c31;
    break;
  case 4:
  case 5:
    if (param_1[9] != 4) goto LAB_006e0c31;
    break;
  default:
    if (param_1[9] < 1) goto LAB_006e0c31;
  }
  iVar2 = param_1[0xb];
  if (iVar2 == 1) {
    param_1[0x19] = 1;
    if ((param_1[10] == 1) || (param_1[10] == 3)) {
      puVar1[1] = &LAB_006e0a00;
      iVar2 = 1;
      if (1 < param_1[9]) {
        iVar3 = 0x54;
        do {
          *(undefined1 *)(param_1[0x31] + 0x30 + iVar3) = 0;
          iVar2 = iVar2 + 1;
          iVar3 = iVar3 + 0x54;
        } while (iVar2 < param_1[9]);
      }
      goto LAB_006e0d35;
    }
  }
  else if (iVar2 == 2) {
    iVar2 = param_1[10];
    param_1[0x19] = 3;
    if (iVar2 == 3) {
      puVar1[1] = FUN_006e0850;
      FUN_006e0780();
      goto LAB_006e0d35;
    }
    if (iVar2 == 1) {
      puVar1[1] = &LAB_006e0a30;
      goto LAB_006e0d35;
    }
    if (iVar2 == 2) {
      puVar1[1] = &LAB_006e0970;
      goto LAB_006e0d35;
    }
  }
  else if (iVar2 == 4) {
    param_1[0x19] = 4;
    if (param_1[10] == 5) {
      puVar1[1] = FUN_006e0a90;
      FUN_006e0780();
      goto LAB_006e0d35;
    }
    if (param_1[10] == 4) {
      puVar1[1] = &LAB_006e0970;
      goto LAB_006e0d35;
    }
  }
  else if (iVar2 == param_1[10]) {
    param_1[0x19] = param_1[9];
    puVar1[1] = &LAB_006e0970;
    goto LAB_006e0d35;
  }
  *(undefined4 *)(*param_1 + 0x14) = 0x1b;
  (**(code **)*param_1)(param_1);
LAB_006e0d35:
  if (*(char *)((int)param_1 + 0x4a) == '\0') {
    param_1[0x1a] = param_1[0x19];
    return;
  }
  param_1[0x1a] = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
006e0be0 : PUSH ESI
006e0be1 : MOV ESI,dword ptr [ESP + 0x8]
006e0be5 : MOV EAX,dword ptr [ESI + 0x4]
006e0be8 : MOV ECX,dword ptr [EAX]
006e0bea : PUSH EDI
006e0beb : PUSH 0x18
006e0bed : PUSH 0x1
006e0bef : PUSH ESI
006e0bf0 : CALL ECX
006e0bf2 : MOV EDI,EAX
006e0bf4 : MOV dword ptr [ESI + 0x1a4],EDI
006e0bfa : MOV dword ptr [EDI],0x51d420
006e0c00 : MOV EAX,dword ptr [ESI + 0x28]
006e0c03 : DEC EAX
006e0c04 : ADD ESP,0xc
006e0c07 : CMP EAX,0x4
006e0c0a : JA 0x006e0c2b
006e0c0c : JMP dword ptr [EAX*0x4 + 0x6e0d50]
006e0c13 : CMP dword ptr [ESI + 0x24],0x1
006e0c17 : JZ 0x006e0c44
006e0c19 : JMP 0x006e0c31
006e0c1b : CMP dword ptr [ESI + 0x24],0x3
006e0c1f : JZ 0x006e0c44
006e0c21 : JMP 0x006e0c31
006e0c23 : CMP dword ptr [ESI + 0x24],0x4
006e0c27 : JZ 0x006e0c44
006e0c29 : JMP 0x006e0c31
006e0c2b : CMP dword ptr [ESI + 0x24],0x1
006e0c2f : JGE 0x006e0c44
006e0c31 : MOV EDX,dword ptr [ESI]
006e0c33 : MOV dword ptr [EDX + 0x14],0xa
006e0c3a : MOV EAX,dword ptr [ESI]
006e0c3c : MOV ECX,dword ptr [EAX]
006e0c3e : PUSH ESI
006e0c3f : CALL ECX
006e0c41 : ADD ESP,0x4
006e0c44 : MOV ECX,dword ptr [ESI + 0x2c]
006e0c47 : MOV EAX,ECX
006e0c49 : MOV EDX,0x1
006e0c4e : SUB EAX,EDX
006e0c50 : JZ 0x006e0ce7
006e0c56 : SUB EAX,EDX
006e0c58 : JZ 0x006e0cad
006e0c5a : SUB EAX,0x2
006e0c5d : JZ 0x006e0c7a
006e0c5f : CMP ECX,dword ptr [ESI + 0x28]
006e0c62 : JNZ 0x006e0cf6
006e0c68 : MOV EDX,dword ptr [ESI + 0x24]
006e0c6b : MOV dword ptr [ESI + 0x64],EDX
006e0c6e : MOV dword ptr [EDI + 0x4],0x6e0970
006e0c75 : JMP 0x006e0d35
006e0c7a : MOV EAX,dword ptr [ESI + 0x28]
006e0c7d : MOV dword ptr [ESI + 0x64],0x4
006e0c84 : CMP EAX,0x5
006e0c87 : JNZ 0x006e0c9c
006e0c89 : MOV EAX,ESI
006e0c8b : MOV dword ptr [EDI + 0x4],0x6e0a90
006e0c92 : CALL 0x006e0780
006e0c97 : JMP 0x006e0d35
006e0c9c : CMP EAX,0x4
006e0c9f : JNZ 0x006e0cf6
006e0ca1 : MOV dword ptr [EDI + 0x4],0x6e0970
006e0ca8 : JMP 0x006e0d35
006e0cad : MOV EAX,dword ptr [ESI + 0x28]
006e0cb0 : MOV dword ptr [ESI + 0x64],0x3
006e0cb7 : CMP EAX,0x3
006e0cba : JNZ 0x006e0ccc
006e0cbc : MOV EAX,ESI
006e0cbe : MOV dword ptr [EDI + 0x4],0x6e0850
006e0cc5 : CALL 0x006e0780
006e0cca : JMP 0x006e0d35
006e0ccc : CMP EAX,EDX
006e0cce : JNZ 0x006e0cd9
006e0cd0 : MOV dword ptr [EDI + 0x4],0x6e0a30
006e0cd7 : JMP 0x006e0d35
006e0cd9 : CMP EAX,0x2
006e0cdc : JNZ 0x006e0cf6
006e0cde : MOV dword ptr [EDI + 0x4],0x6e0970
006e0ce5 : JMP 0x006e0d35
006e0ce7 : MOV EAX,dword ptr [ESI + 0x28]
006e0cea : MOV dword ptr [ESI + 0x64],EDX
006e0ced : CMP EAX,EDX
006e0cef : JZ 0x006e0d0b
006e0cf1 : CMP EAX,0x3
006e0cf4 : JZ 0x006e0d0b
006e0cf6 : MOV EAX,dword ptr [ESI]
006e0cf8 : MOV dword ptr [EAX + 0x14],0x1b
006e0cff : MOV ECX,dword ptr [ESI]
006e0d01 : MOV EDX,dword ptr [ECX]
006e0d03 : PUSH ESI
006e0d04 : CALL EDX
006e0d06 : ADD ESP,0x4
006e0d09 : JMP 0x006e0d35
006e0d0b : MOV dword ptr [EDI + 0x4],0x6e0a00
006e0d12 : CMP dword ptr [ESI + 0x24],EDX
006e0d15 : MOV EAX,EDX
006e0d17 : JLE 0x006e0d35
006e0d19 : MOV ECX,0x54
006e0d1e : MOV EDI,EDI
006e0d20 : MOV EDI,dword ptr [ESI + 0xc4]
006e0d26 : MOV byte ptr [EDI + ECX*0x1 + 0x30],0x0
006e0d2b : ADD EAX,EDX
006e0d2d : ADD ECX,0x54
006e0d30 : CMP EAX,dword ptr [ESI + 0x24]
006e0d33 : JL 0x006e0d20
006e0d35 : CMP byte ptr [ESI + 0x4a],0x0
006e0d39 : JZ 0x006e0d45
006e0d3b : POP EDI
006e0d3c : MOV dword ptr [ESI + 0x68],0x1
006e0d43 : POP ESI
006e0d44 : RET
006e0d45 : MOV EAX,dword ptr [ESI + 0x64]
006e0d48 : POP EDI
006e0d49 : MOV dword ptr [ESI + 0x68],EAX
006e0d4c : POP ESI
006e0d4d : RET
