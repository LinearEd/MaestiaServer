PROGRAM  : Maestia.exe
FUNCTION : FUN_0081c780
ENTRY    : 0081c780
BODY     : [[0081c780, 0081c8c2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0081c780(HWND param_1,int param_2)

{
  LPCWSTR lpString;
  int iVar1;
  int iVar2;
  HWND hWnd;
  int X;
  int Y;
  int nWidth;
  int nHeight;
  BOOL bRepaint;
  tagRECT local_40;
  undefined4 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1ab54;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if (param_2 == 2) {
    EndDialog(param_1,0);
  }
  else if (param_2 == 0x110) {
    FUN_0080b7e0(10000);
    local_8 = 0;
    lpString = local_2c;
    if (local_18 < 8) {
      lpString = (LPCWSTR)&local_2c;
    }
    SetDlgItemTextW(param_1,0x3f1,lpString);
    GetWindowRect(*(HWND *)(DAT_0172491c + 8),&local_40);
    iVar1 = local_40.right - local_40.left;
    bRepaint = 1;
    iVar2 = local_40.bottom - local_40.top;
    nHeight = 0x6e;
    nWidth = 400;
    Y = 10;
    X = 5;
    hWnd = GetDlgItem(param_1,0x3f1);
    MoveWindow(hWnd,X,Y,nWidth,nHeight,bRepaint);
    MoveWindow(param_1,local_40.left + (iVar1 + -400) / 2,local_40.top + (iVar2 + -0x6e) / 2,0x1a4,
               0x78,1);
    DAT_00d7cd70 = param_1;
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = (LPCWSTR)((uint)local_2c._2_2_ << 0x10);
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0081c780 : PUSH EBP
0081c781 : MOV EBP,ESP
0081c783 : PUSH -0x1
0081c785 : PUSH 0xb1ab54
0081c78a : MOV EAX,FS:[0x0]
0081c790 : PUSH EAX
0081c791 : SUB ESP,0x30
0081c794 : MOV EAX,[0x00d66fa0]
0081c799 : XOR EAX,EBP
0081c79b : MOV dword ptr [EBP + -0x10],EAX
0081c79e : PUSH EBX
0081c79f : PUSH ESI
0081c7a0 : PUSH EDI
0081c7a1 : PUSH EAX
0081c7a2 : LEA EAX,[EBP + -0xc]
0081c7a5 : MOV FS:[0x0],EAX
0081c7ab : MOV EAX,dword ptr [EBP + 0xc]
0081c7ae : SUB EAX,0x2
0081c7b1 : MOV EDI,dword ptr [EBP + 0x8]
0081c7b4 : JZ 0x0081c89a
0081c7ba : SUB EAX,0x10e
0081c7bf : JNZ 0x0081c8a3
0081c7c5 : MOV EDX,dword ptr [0x01724930]
0081c7cb : PUSH 0x2710
0081c7d0 : LEA ESI,[EBP + -0x2c]
0081c7d3 : CALL 0x0080b7e0
0081c7d8 : MOV dword ptr [EBP + -0x4],0x0
0081c7df : CMP dword ptr [EBP + -0x14],0x8
0081c7e3 : MOV EAX,dword ptr [EBP + -0x28]
0081c7e6 : JNC 0x0081c7eb
0081c7e8 : LEA EAX,[EBP + -0x28]
0081c7eb : PUSH EAX
0081c7ec : PUSH 0x3f1
0081c7f1 : PUSH EDI
0081c7f2 : CALL dword ptr [0x00b85460]
0081c7f8 : MOV EAX,[0x0172491c]
0081c7fd : MOV EAX,dword ptr [EAX + 0x8]
0081c800 : LEA ECX,[EBP + -0x3c]
0081c803 : PUSH ECX
0081c804 : PUSH EAX
0081c805 : CALL dword ptr [0x00b85480]
0081c80b : MOV EAX,dword ptr [EBP + -0x34]
0081c80e : SUB EAX,dword ptr [EBP + -0x3c]
0081c811 : PUSH 0x1
0081c813 : SUB EAX,0x190
0081c818 : CDQ
0081c819 : SUB EAX,EDX
0081c81b : MOV ESI,EAX
0081c81d : MOV EAX,dword ptr [EBP + -0x30]
0081c820 : SUB EAX,dword ptr [EBP + -0x38]
0081c823 : PUSH 0x6e
0081c825 : PUSH 0x190
0081c82a : SUB EAX,0x6e
0081c82d : PUSH 0xa
0081c82f : CDQ
0081c830 : PUSH 0x5
0081c832 : SUB EAX,EDX
0081c834 : PUSH 0x3f1
0081c839 : MOV EBX,EAX
0081c83b : PUSH EDI
0081c83c : SAR ESI,0x1
0081c83e : SAR EBX,0x1
0081c840 : CALL dword ptr [0x00b854dc]
0081c846 : PUSH EAX
0081c847 : CALL dword ptr [0x00b85484]
0081c84d : MOV EDX,dword ptr [EBP + -0x38]
0081c850 : MOV EAX,dword ptr [EBP + -0x3c]
0081c853 : PUSH 0x1
0081c855 : PUSH 0x78
0081c857 : PUSH 0x1a4
0081c85c : ADD EDX,EBX
0081c85e : PUSH EDX
0081c85f : ADD EAX,ESI
0081c861 : PUSH EAX
0081c862 : PUSH EDI
0081c863 : CALL dword ptr [0x00b85484]
0081c869 : MOV dword ptr [0x00d7cd70],EDI
0081c86f : MOV dword ptr [EBP + -0x4],0xffffffff
0081c876 : CMP dword ptr [EBP + -0x14],0x8
0081c87a : JC 0x0081c884
0081c87c : MOV ECX,dword ptr [EBP + -0x28]
0081c87f : CALL 0x006f04e0
0081c884 : XOR ECX,ECX
0081c886 : MOV dword ptr [EBP + -0x14],0x7
0081c88d : MOV dword ptr [EBP + -0x18],0x0
0081c894 : MOV word ptr [EBP + -0x28],CX
0081c898 : JMP 0x0081c8a3
0081c89a : PUSH 0x0
0081c89c : PUSH EDI
0081c89d : CALL dword ptr [0x00b85468]
0081c8a3 : XOR EAX,EAX
0081c8a5 : MOV ECX,dword ptr [EBP + -0xc]
0081c8a8 : MOV dword ptr FS:[0x0],ECX
0081c8af : POP ECX
0081c8b0 : POP EDI
0081c8b1 : POP ESI
0081c8b2 : POP EBX
0081c8b3 : MOV ECX,dword ptr [EBP + -0x10]
0081c8b6 : XOR ECX,EBP
0081c8b8 : CALL 0x00633e6b
0081c8bd : MOV ESP,EBP
0081c8bf : POP EBP
0081c8c0 : RET 0x10
