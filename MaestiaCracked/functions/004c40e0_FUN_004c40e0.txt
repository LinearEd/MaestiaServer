PROGRAM  : Maestia.exe
FUNCTION : FUN_004c40e0
ENTRY    : 004c40e0
BODY     : [[004c40e0, 004c437a]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x004c4200) */
/* WARNING: Removing unreachable block (ram,0x004c4210) */
/* WARNING: Removing unreachable block (ram,0x004c4219) */
/* WARNING: Removing unreachable block (ram,0x004c421c) */
/* WARNING: Removing unreachable block (ram,0x004c420c) */
/* WARNING: Removing unreachable block (ram,0x004c4229) */
/* WARNING: Removing unreachable block (ram,0x004c4239) */
/* WARNING: Removing unreachable block (ram,0x004c4244) */
/* WARNING: Removing unreachable block (ram,0x004c4240) */
/* WARNING: Removing unreachable block (ram,0x004c4234) */
/* WARNING: Removing unreachable block (ram,0x004c4247) */
/* WARNING: Removing unreachable block (ram,0x004c4257) */
/* WARNING: Removing unreachable block (ram,0x004c425f) */

void FUN_004c40e0(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7bf38;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x11) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_0045d060(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x11) == '\0') {
    if (*(char *)(param_3[2] + 0x11) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x11) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x11) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x11);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x11);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int *)(param_1 + 4);
  if (*(int **)(local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x11) == '\0') {
      uVar4 = FUN_00425510();
      *(undefined4 *)(local_1c + 8) = uVar4;
    }
    else {
      *(int **)(local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[4] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[4] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[4] == '\0') {
            *(undefined1 *)(piVar6 + 4) = 1;
            *(undefined1 *)(piVar5 + 4) = 0;
            FUN_0045dd00(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x11) == '\0') {
            if ((*(char *)(*piVar6 + 0x10) != '\x01') || (*(char *)(piVar6[2] + 0x10) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x10) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x10) = 1;
                *(undefined1 *)(piVar6 + 4) = 0;
                FUN_0047ce80(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 4) = (char)piVar5[4];
              *(undefined1 *)(piVar5 + 4) = 1;
              *(undefined1 *)(piVar6[2] + 0x10) = 1;
              FUN_0045dd00(param_1);
              break;
            }
LAB_004c4327:
            *(undefined1 *)(piVar6 + 4) = 0;
          }
        }
        else {
          if ((char)piVar6[4] == '\0') {
            *(undefined1 *)(piVar6 + 4) = 1;
            *(undefined1 *)(piVar5 + 4) = 0;
            FUN_0047ce80(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x11) == '\0') {
            if ((*(char *)(piVar6[2] + 0x10) == '\x01') && (*(char *)(*piVar6 + 0x10) == '\x01'))
            goto LAB_004c4327;
            if (*(char *)(*piVar6 + 0x10) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x10) = 1;
              *(undefined1 *)(piVar6 + 4) = 0;
              FUN_0045dd00(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 4) = (char)piVar5[4];
            *(undefined1 *)(piVar5 + 4) = 1;
            *(undefined1 *)(*piVar6 + 0x10) = 1;
            FUN_0047ce80(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 4) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
004c40e0 : PUSH EBP
004c40e1 : MOV EBP,ESP
004c40e3 : PUSH -0x1
004c40e5 : PUSH 0xb7bf38
004c40ea : MOV EAX,FS:[0x0]
004c40f0 : PUSH EAX
004c40f1 : SUB ESP,0x50
004c40f4 : PUSH EBX
004c40f5 : PUSH ESI
004c40f6 : PUSH EDI
004c40f7 : MOV EAX,[0x00d66fa0]
004c40fc : XOR EAX,EBP
004c40fe : PUSH EAX
004c40ff : LEA EAX,[EBP + -0xc]
004c4102 : MOV FS:[0x0],EAX
004c4108 : MOV EAX,dword ptr [EBP + 0x10]
004c410b : CMP byte ptr [EAX + 0x11],0x0
004c410f : JZ 0x004c414d
004c4111 : PUSH 0x1b
004c4113 : XOR ESI,ESI
004c4115 : PUSH 0xcca4a8
004c411a : LEA ECX,[EBP + -0x34]
004c411d : MOV dword ptr [EBP + -0x1c],0xf
004c4124 : MOV dword ptr [EBP + -0x20],ESI
004c4127 : MOV byte ptr [EBP + -0x30],0x0
004c412b : CALL 0x00404b50
004c4130 : MOV dword ptr [EBP + -0x4],ESI
004c4133 : LEA EAX,[EBP + -0x34]
004c4136 : PUSH EAX
004c4137 : LEA ECX,[EBP + -0x5c]
004c413a : CALL 0x00403c10
004c413f : PUSH 0xced890
004c4144 : LEA ECX,[EBP + -0x5c]
004c4147 : PUSH ECX
004c4148 : CALL 0x006409eb
004c414d : MOV EBX,EAX
004c414f : LEA EDX,[EBP + 0x10]
004c4152 : MOV dword ptr [EBP + -0x14],EBX
004c4155 : CALL 0x0045d060
004c415a : MOV ECX,dword ptr [EBX]
004c415c : CMP byte ptr [ECX + 0x11],0x0
004c4160 : JZ 0x004c4167
004c4162 : MOV EDI,dword ptr [EBX + 0x8]
004c4165 : JMP 0x004c4181
004c4167 : MOV EDX,dword ptr [EBX + 0x8]
004c416a : CMP byte ptr [EDX + 0x11],0x0
004c416e : JZ 0x004c4174
004c4170 : MOV EDI,ECX
004c4172 : JMP 0x004c4181
004c4174 : MOV EAX,dword ptr [EBP + 0x10]
004c4177 : MOV EDI,dword ptr [EAX + 0x8]
004c417a : LEA EDX,[EAX + 0x8]
004c417d : CMP EAX,EBX
004c417f : JNZ 0x004c4200
004c4181 : CMP byte ptr [EDI + 0x11],0x0
004c4185 : MOV ESI,dword ptr [EBX + 0x4]
004c4188 : JNZ 0x004c418d
004c418a : MOV dword ptr [EDI + 0x4],ESI
004c418d : MOV EDX,dword ptr [EBP + 0x8]
004c4190 : MOV EAX,dword ptr [EDX + 0x4]
004c4193 : CMP dword ptr [EAX + 0x4],EBX
004c4196 : JNZ 0x004c419d
004c4198 : MOV dword ptr [EAX + 0x4],EDI
004c419b : JMP 0x004c41a8
004c419d : CMP dword ptr [ESI],EBX
004c419f : JNZ 0x004c41a5
004c41a1 : MOV dword ptr [ESI],EDI
004c41a3 : JMP 0x004c41a8
004c41a5 : MOV dword ptr [ESI + 0x8],EDI
004c41a8 : MOV EAX,dword ptr [EDX + 0x4]
004c41ab : CMP dword ptr [EAX],EBX
004c41ad : JNZ 0x004c41d2
004c41af : CMP byte ptr [EDI + 0x11],0x0
004c41b3 : JZ 0x004c41b9
004c41b5 : MOV ECX,ESI
004c41b7 : JMP 0x004c41cd
004c41b9 : MOV EAX,dword ptr [EDI]
004c41bb : CMP byte ptr [EAX + 0x11],0x0
004c41bf : MOV ECX,EDI
004c41c1 : JNZ 0x004c41cd
004c41c3 : MOV ECX,EAX
004c41c5 : MOV EAX,dword ptr [ECX]
004c41c7 : CMP byte ptr [EAX + 0x11],0x0
004c41cb : JZ 0x004c41c3
004c41cd : MOV EAX,dword ptr [EDX + 0x4]
004c41d0 : MOV dword ptr [EAX],ECX
004c41d2 : MOV ECX,dword ptr [EDX + 0x4]
004c41d5 : MOV dword ptr [EBP + -0x18],ECX
004c41d8 : CMP dword ptr [ECX + 0x8],EBX
004c41db : JNZ 0x004c4262
004c41e1 : CMP byte ptr [EDI + 0x11],0x0
004c41e5 : JZ 0x004c41ee
004c41e7 : MOV EAX,ESI
004c41e9 : MOV dword ptr [ECX + 0x8],EAX
004c41ec : JMP 0x004c4262
004c41ee : MOV EAX,EDI
004c41f0 : CALL 0x00425510
004c41f5 : MOV ECX,dword ptr [EBP + -0x18]
004c41f8 : MOV EDX,dword ptr [EBP + 0x8]
004c41fb : MOV dword ptr [ECX + 0x8],EAX
004c41fe : JMP 0x004c4262
004c4200 : MOV dword ptr [ECX + 0x4],EAX
004c4203 : MOV ECX,dword ptr [EBX]
004c4205 : MOV dword ptr [EAX],ECX
004c4207 : CMP EAX,dword ptr [EBX + 0x8]
004c420a : JNZ 0x004c4210
004c420c : MOV ESI,EAX
004c420e : JMP 0x004c4229
004c4210 : CMP byte ptr [EDI + 0x11],0x0
004c4214 : MOV ESI,dword ptr [EAX + 0x4]
004c4217 : JNZ 0x004c421c
004c4219 : MOV dword ptr [EDI + 0x4],ESI
004c421c : MOV dword ptr [ESI],EDI
004c421e : MOV ECX,dword ptr [EBX + 0x8]
004c4221 : MOV dword ptr [EDX],ECX
004c4223 : MOV EDX,dword ptr [EBX + 0x8]
004c4226 : MOV dword ptr [EDX + 0x4],EAX
004c4229 : MOV ECX,dword ptr [EBP + 0x8]
004c422c : MOV ECX,dword ptr [ECX + 0x4]
004c422f : CMP dword ptr [ECX + 0x4],EBX
004c4232 : JNZ 0x004c4239
004c4234 : MOV dword ptr [ECX + 0x4],EAX
004c4237 : JMP 0x004c4247
004c4239 : MOV ECX,dword ptr [EBX + 0x4]
004c423c : CMP dword ptr [ECX],EBX
004c423e : JNZ 0x004c4244
004c4240 : MOV dword ptr [ECX],EAX
004c4242 : JMP 0x004c4247
004c4244 : MOV dword ptr [ECX + 0x8],EAX
004c4247 : MOV EDX,dword ptr [EBX + 0x4]
004c424a : MOV dword ptr [EAX + 0x4],EDX
004c424d : LEA ECX,[EBX + 0x10]
004c4250 : ADD EAX,0x10
004c4253 : CMP EAX,ECX
004c4255 : JZ 0x004c425f
004c4257 : MOV BL,byte ptr [ECX]
004c4259 : MOV DL,byte ptr [EAX]
004c425b : MOV byte ptr [EAX],BL
004c425d : MOV byte ptr [ECX],DL
004c425f : MOV EDX,dword ptr [EBP + 0x8]
004c4262 : MOV EAX,dword ptr [EBP + -0x14]
004c4265 : MOV BL,0x1
004c4267 : CMP byte ptr [EAX + 0x10],BL
004c426a : JNZ 0x004c4373
004c4270 : MOV ECX,dword ptr [EDX + 0x4]
004c4273 : CMP EDI,dword ptr [ECX + 0x4]
004c4276 : JZ 0x004c4370
004c427c : LEA ESP,[ESP]
004c4280 : CMP byte ptr [EDI + 0x10],BL
004c4283 : JNZ 0x004c4370
004c4289 : MOV ECX,dword ptr [ESI]
004c428b : CMP EDI,ECX
004c428d : JNZ 0x004c42f8
004c428f : MOV ECX,dword ptr [ESI + 0x8]
004c4292 : CMP byte ptr [ECX + 0x10],0x0
004c4296 : JNZ 0x004c42ad
004c4298 : MOV byte ptr [ECX + 0x10],BL
004c429b : PUSH EDX
004c429c : MOV ECX,ESI
004c429e : MOV byte ptr [ESI + 0x10],0x0
004c42a2 : CALL 0x0045dd00
004c42a7 : MOV ECX,dword ptr [ESI + 0x8]
004c42aa : MOV EDX,dword ptr [EBP + 0x8]
004c42ad : CMP byte ptr [ECX + 0x11],0x0
004c42b1 : JNZ 0x004c432b
004c42b3 : MOV EAX,dword ptr [ECX]
004c42b5 : CMP byte ptr [EAX + 0x10],BL
004c42b8 : JNZ 0x004c42c2
004c42ba : MOV EAX,dword ptr [ECX + 0x8]
004c42bd : CMP byte ptr [EAX + 0x10],BL
004c42c0 : JZ 0x004c4327
004c42c2 : MOV EAX,dword ptr [ECX + 0x8]
004c42c5 : CMP byte ptr [EAX + 0x10],BL
004c42c8 : JNZ 0x004c42df
004c42ca : MOV EAX,dword ptr [ECX]
004c42cc : MOV byte ptr [EAX + 0x10],BL
004c42cf : PUSH EDX
004c42d0 : MOV byte ptr [ECX + 0x10],0x0
004c42d4 : CALL 0x0047ce80
004c42d9 : MOV ECX,dword ptr [ESI + 0x8]
004c42dc : MOV EDX,dword ptr [EBP + 0x8]
004c42df : MOV AL,byte ptr [ESI + 0x10]
004c42e2 : MOV byte ptr [ECX + 0x10],AL
004c42e5 : MOV byte ptr [ESI + 0x10],BL
004c42e8 : MOV ECX,dword ptr [ECX + 0x8]
004c42eb : MOV byte ptr [ECX + 0x10],BL
004c42ee : PUSH EDX
004c42ef : MOV ECX,ESI
004c42f1 : CALL 0x0045dd00
004c42f6 : JMP 0x004c4370
004c42f8 : CMP byte ptr [ECX + 0x10],0x0
004c42fc : JNZ 0x004c4312
004c42fe : MOV byte ptr [ECX + 0x10],BL
004c4301 : PUSH EDX
004c4302 : MOV ECX,ESI
004c4304 : MOV byte ptr [ESI + 0x10],0x0
004c4308 : CALL 0x0047ce80
004c430d : MOV ECX,dword ptr [ESI]
004c430f : MOV EDX,dword ptr [EBP + 0x8]
004c4312 : CMP byte ptr [ECX + 0x11],0x0
004c4316 : JNZ 0x004c432b
004c4318 : MOV EAX,dword ptr [ECX + 0x8]
004c431b : CMP byte ptr [EAX + 0x10],BL
004c431e : JNZ 0x004c433e
004c4320 : MOV EAX,dword ptr [ECX]
004c4322 : CMP byte ptr [EAX + 0x10],BL
004c4325 : JNZ 0x004c433e
004c4327 : MOV byte ptr [ECX + 0x10],0x0
004c432b : MOV ECX,dword ptr [EDX + 0x4]
004c432e : MOV EDI,ESI
004c4330 : MOV ESI,dword ptr [ESI + 0x4]
004c4333 : CMP EDI,dword ptr [ECX + 0x4]
004c4336 : JNZ 0x004c4280
004c433c : JMP 0x004c4370
004c433e : MOV EAX,dword ptr [ECX]
004c4340 : CMP byte ptr [EAX + 0x10],BL
004c4343 : JNZ 0x004c435a
004c4345 : MOV EAX,dword ptr [ECX + 0x8]
004c4348 : MOV byte ptr [EAX + 0x10],BL
004c434b : PUSH EDX
004c434c : MOV byte ptr [ECX + 0x10],0x0
004c4350 : CALL 0x0045dd00
004c4355 : MOV ECX,dword ptr [ESI]
004c4357 : MOV EDX,dword ptr [EBP + 0x8]
004c435a : MOV AL,byte ptr [ESI + 0x10]
004c435d : MOV byte ptr [ECX + 0x10],AL
004c4360 : MOV byte ptr [ESI + 0x10],BL
004c4363 : MOV ECX,dword ptr [ECX]
004c4365 : MOV byte ptr [ECX + 0x10],BL
004c4368 : PUSH EDX
004c4369 : MOV ECX,ESI
004c436b : CALL 0x0047ce80
004c4370 : MOV byte ptr [EDI + 0x10],BL
004c4373 : MOV ECX,dword ptr [EBP + -0x14]
004c4376 : CALL 0x006f04e0
