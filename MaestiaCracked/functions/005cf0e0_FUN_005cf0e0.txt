PROGRAM  : Maestia.exe
FUNCTION : FUN_005cf0e0
ENTRY    : 005cf0e0
BODY     : [[005cf0e0, 005cf1f1]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005cf0e0(undefined4 *param_1,uint param_2)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  undefined4 *puVar6;
  int local_18;
  undefined1 local_14;
  
  iVar2 = param_2;
  local_18 = param_2;
  local_14 = 8;
  iVar3 = FUN_00515840(0x34,0);
  if (iVar3 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = FUN_005ceb60(&local_18);
  }
  puVar1 = param_1;
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = uVar4;
  param_1[1] = 0;
  iVar3 = FUN_00515840(0x50,0);
  if (iVar3 == 0) {
    uVar5 = 0;
  }
  else {
    puVar6 = puVar1;
    uVar4 = FUN_00530910(1);
    uVar5 = FUN_005cf090(&local_18,uVar4,puVar6);
    if (uVar5 != 0) {
      *(uint *)(uVar5 + 8) = *(int *)(uVar5 + 8) + 1U & 0x8fffffff;
    }
  }
  param_1 = (undefined4 *)0x1c;
  param_2 = uVar5;
  FUN_0050ff10(&param_1,&param_2);
  if (param_2 != 0) {
    FUN_00503db0();
  }
  puVar6 = &param_2;
  param_2 = param_2 & 0xffffff00;
  iVar3 = *(int *)(*(int *)(iVar2 + 0x294) + 0x10);
  uVar4 = FUN_00526210(puVar1);
  (**(code **)(iVar3 + 0x28))(&local_18,iVar2 + 0x78,uVar4,puVar6);
  FUN_00526bc0();
  if (uVar5 != 0) {
    FUN_00503db0();
  }
  return puVar1;
}



============================================================
DISASSEMBLY
============================================================
005cf0e0 : SUB ESP,0x18
005cf0e3 : PUSH EBP
005cf0e4 : PUSH ESI
005cf0e5 : MOV ESI,dword ptr [ESP + 0x28]
005cf0e9 : MOV ECX,dword ptr [ESI + 0x288]
005cf0ef : PUSH EDI
005cf0f0 : PUSH 0x0
005cf0f2 : PUSH 0x34
005cf0f4 : MOV dword ptr [ESP + 0x14],ESI
005cf0f8 : MOV byte ptr [ESP + 0x18],0x8
005cf0fd : CALL 0x00515840
005cf102 : TEST EAX,EAX
005cf104 : JZ 0x005cf114
005cf106 : LEA ECX,[ESP + 0xc]
005cf10a : PUSH ECX
005cf10b : MOV ECX,EAX
005cf10d : CALL 0x005ceb60
005cf112 : JMP 0x005cf116
005cf114 : XOR EAX,EAX
005cf116 : MOV EDI,dword ptr [ESP + 0x28]
005cf11a : PUSH 0x0
005cf11c : MOV byte ptr [EDI + 0x8],0x0
005cf120 : MOV dword ptr [EDI],EAX
005cf122 : MOV dword ptr [EDI + 0x4],0x0
005cf129 : MOV ECX,dword ptr [ESI + 0x288]
005cf12f : PUSH 0x50
005cf131 : CALL 0x00515840
005cf136 : MOV EBP,EAX
005cf138 : TEST EBP,EBP
005cf13a : JZ 0x005cf1eb
005cf140 : PUSH EDI
005cf141 : PUSH 0x1
005cf143 : MOV ECX,ESI
005cf145 : CALL 0x00530910
005cf14a : PUSH EAX
005cf14b : LEA EDX,[ESP + 0x14]
005cf14f : PUSH EDX
005cf150 : MOV ECX,EBP
005cf152 : CALL 0x005cf090
005cf157 : MOV EBP,EAX
005cf159 : TEST EBP,EBP
005cf15b : JZ 0x005cf169
005cf15d : MOV EAX,dword ptr [EBP + 0x8]
005cf160 : INC EAX
005cf161 : AND EAX,0x8fffffff
005cf166 : MOV dword ptr [EBP + 0x8],EAX
005cf169 : LEA ECX,[ESP + 0x2c]
005cf16d : PUSH ECX
005cf16e : LEA EDX,[ESP + 0x2c]
005cf172 : PUSH EDX
005cf173 : LEA ECX,[ESI + 0x278]
005cf179 : MOV dword ptr [ESP + 0x34],EBP
005cf17d : MOV dword ptr [ESP + 0x30],0x1c
005cf185 : CALL 0x0050ff10
005cf18a : MOV ECX,dword ptr [ESP + 0x2c]
005cf18e : TEST ECX,ECX
005cf190 : JZ 0x005cf197
005cf192 : CALL 0x00503db0
005cf197 : MOV EAX,dword ptr [ESI + 0x294]
005cf19d : PUSH EBX
005cf19e : LEA ECX,[ESP + 0x30]
005cf1a2 : PUSH ECX
005cf1a3 : MOV byte ptr [ESP + 0x34],0x0
005cf1a8 : MOV EBX,dword ptr [EAX + 0x10]
005cf1ab : PUSH EDI
005cf1ac : LEA ECX,[ESP + 0x20]
005cf1b0 : CALL 0x00526210
005cf1b5 : MOV ECX,dword ptr [ESI + 0x294]
005cf1bb : PUSH EAX
005cf1bc : LEA EDX,[ESI + 0x78]
005cf1bf : PUSH EDX
005cf1c0 : MOV EDX,dword ptr [EBX + 0x28]
005cf1c3 : LEA EAX,[ESP + 0x1c]
005cf1c7 : PUSH EAX
005cf1c8 : ADD ECX,0x10
005cf1cb : CALL EDX
005cf1cd : LEA ECX,[ESP + 0x18]
005cf1d1 : CALL 0x00526bc0
005cf1d6 : POP EBX
005cf1d7 : TEST EBP,EBP
005cf1d9 : JZ 0x005cf1e2
005cf1db : MOV ECX,EBP
005cf1dd : CALL 0x00503db0
005cf1e2 : MOV EAX,EDI
005cf1e4 : POP EDI
005cf1e5 : POP ESI
005cf1e6 : POP EBP
005cf1e7 : ADD ESP,0x18
005cf1ea : RET
005cf1eb : XOR EBP,EBP
005cf1ed : JMP 0x005cf169
