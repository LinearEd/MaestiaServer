PROGRAM  : Maestia.exe
FUNCTION : FUN_004355b0
ENTRY    : 004355b0
BODY     : [[004355b0, 004356a6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004355b0(void)

{
  int iVar1;
  int in_ECX;
  uint local_1c;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7e350;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if ((*(int *)(in_ECX + 4) == 0) ||
     ((uint)((*(int *)(in_ECX + 0xc) - *(int *)(in_ECX + 4)) / 0x1c) < 0x40)) {
    iVar1 = FUN_0043c030();
    local_8 = 0;
    local_1c = local_1c & 0xffffff00;
    FUN_004385d0(*(undefined4 *)(in_ECX + 4),*(undefined4 *)(in_ECX + 8),local_1c,local_1c);
    local_8 = 0xffffffff;
    if (*(int *)(in_ECX + 4) != 0) {
      FUN_00438e30(local_1c);
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    *(int *)(in_ECX + 0xc) = iVar1 + 0x700;
    *(int *)(in_ECX + 8) = iVar1 + ((*(int *)(in_ECX + 8) - *(int *)(in_ECX + 4)) / 0x1c) * 0x1c;
    *(int *)(in_ECX + 4) = iVar1;
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
004355b0 : PUSH EBP
004355b1 : MOV EBP,ESP
004355b3 : PUSH -0x1
004355b5 : PUSH 0xb7e350
004355ba : MOV EAX,FS:[0x0]
004355c0 : PUSH EAX
004355c1 : SUB ESP,0xc
004355c4 : PUSH EBX
004355c5 : PUSH ESI
004355c6 : PUSH EDI
004355c7 : MOV EAX,[0x00d66fa0]
004355cc : XOR EAX,EBP
004355ce : PUSH EAX
004355cf : LEA EAX,[EBP + -0xc]
004355d2 : MOV FS:[0x0],EAX
004355d8 : MOV dword ptr [EBP + -0x10],ESP
004355db : MOV ESI,ECX
004355dd : MOV EAX,dword ptr [ESI + 0x4]
004355e0 : TEST EAX,EAX
004355e2 : JZ 0x00435605
004355e4 : MOV ECX,dword ptr [ESI + 0xc]
004355e7 : SUB ECX,EAX
004355e9 : MOV EAX,0x92492493
004355ee : IMUL ECX
004355f0 : ADD EDX,ECX
004355f2 : SAR EDX,0x4
004355f5 : MOV EAX,EDX
004355f7 : SHR EAX,0x1f
004355fa : ADD EAX,EDX
004355fc : CMP EAX,0x40
004355ff : JNC 0x00435695
00435605 : MOV ECX,0x40
0043560a : CALL 0x0043c030
0043560f : MOV dword ptr [EBP + -0x14],EAX
00435612 : MOV dword ptr [EBP + -0x4],0x0
00435619 : MOV EDX,dword ptr [ESI + 0x8]
0043561c : MOV EDI,dword ptr [ESI + 0x4]
0043561f : MOV byte ptr [EBP + -0x18],0x0
00435623 : MOV ECX,dword ptr [EBP + -0x18]
00435626 : PUSH ECX
00435627 : MOV ECX,dword ptr [EBP + -0x18]
0043562a : PUSH ECX
0043562b : PUSH EDX
0043562c : PUSH EDI
0043562d : MOV ECX,EAX
0043562f : CALL 0x004385d0
00435634 : ADD ESP,0x10
00435637 : MOV dword ptr [EBP + -0x4],0xffffffff
0043563e : MOV ECX,dword ptr [ESI + 0x8]
00435641 : MOV EDI,dword ptr [ESI + 0x4]
00435644 : SUB ECX,EDI
00435646 : MOV EAX,0x92492493
0043564b : IMUL ECX
0043564d : ADD EDX,ECX
0043564f : SAR EDX,0x4
00435652 : MOV EBX,EDX
00435654 : SHR EBX,0x1f
00435657 : ADD EBX,EDX
00435659 : TEST EDI,EDI
0043565b : JZ 0x00435677
0043565d : MOV EDX,dword ptr [EBP + -0x18]
00435660 : PUSH EDX
00435661 : MOV EDI,dword ptr [ESI + 0x8]
00435664 : MOV EAX,dword ptr [ESI + 0x4]
00435667 : CALL 0x00438e30
0043566c : ADD ESP,0x4
0043566f : MOV ECX,dword ptr [ESI + 0x4]
00435672 : CALL 0x006f04e0
00435677 : MOV EAX,dword ptr [EBP + -0x14]
0043567a : LEA ECX,[EAX + 0x700]
00435680 : MOV dword ptr [ESI + 0xc],ECX
00435683 : LEA EDX,[EBX*0x8 + 0x0]
0043568a : SUB EDX,EBX
0043568c : LEA ECX,[EAX + EDX*0x4]
0043568f : MOV dword ptr [ESI + 0x8],ECX
00435692 : MOV dword ptr [ESI + 0x4],EAX
00435695 : MOV ECX,dword ptr [EBP + -0xc]
00435698 : MOV dword ptr FS:[0x0],ECX
0043569f : POP ECX
004356a0 : POP EDI
004356a1 : POP ESI
004356a2 : POP EBX
004356a3 : MOV ESP,EBP
004356a5 : POP EBP
004356a6 : RET
