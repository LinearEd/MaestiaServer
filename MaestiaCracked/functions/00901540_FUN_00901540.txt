PROGRAM  : Maestia.exe
FUNCTION : FUN_00901540
ENTRY    : 00901540
BODY     : [[00901540, 00901584] [0090158b, 009015e1] [009015e8, 0090161f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00901540(int param_1)

{
  int *piVar1;
  rsize_t rVar2;
  int in_EAX;
  int iVar3;
  undefined4 *puVar4;
  
  if (*(char *)(in_EAX + 0x10) == '\0') {
    for (puVar4 = *(undefined4 **)(param_1 + 0x70); puVar4 != *(undefined4 **)(param_1 + 0x74);
        puVar4 = puVar4 + 1) {
      piVar1 = (int *)*puVar4;
      if (*(int *)(in_EAX + 4) == *piVar1) {
        if (piVar1 != (int *)0x0) {
          FUN_00406bd0(piVar1);
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        iVar3 = *(int *)(param_1 + 0x74) - (int)(puVar4 + 1) >> 2;
        if (0 < iVar3) {
          rVar2 = iVar3 * 4;
          _memmove_s(puVar4,rVar2,puVar4 + 1,rVar2);
        }
        *(int *)(param_1 + 0x74) = *(int *)(param_1 + 0x74) + -4;
        break;
      }
    }
  }
  else {
    for (puVar4 = *(undefined4 **)(param_1 + 0x60); puVar4 != *(undefined4 **)(param_1 + 100);
        puVar4 = puVar4 + 1) {
      piVar1 = (int *)*puVar4;
      if (*(int *)(in_EAX + 4) == *piVar1) {
        if (piVar1 != (int *)0x0) {
          FUN_00406bd0(piVar1);
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        iVar3 = *(int *)(param_1 + 100) - (int)(puVar4 + 1) >> 2;
        if (0 < iVar3) {
          rVar2 = iVar3 * 4;
          _memmove_s(puVar4,rVar2,puVar4 + 1,rVar2);
        }
        *(int *)(param_1 + 100) = *(int *)(param_1 + 100) + -4;
        break;
      }
    }
  }
  FUN_00901220();
  FUN_00900bd0();
  return;
}



============================================================
DISASSEMBLY
============================================================
00901540 : PUSH EBP
00901541 : MOV EBP,ESP
00901543 : CMP byte ptr [EAX + 0x10],0x0
00901547 : MOV ECX,dword ptr [EAX + 0x4]
0090154a : PUSH EBX
0090154b : MOV EBX,dword ptr [EBP + 0x8]
0090154e : PUSH ESI
0090154f : PUSH EDI
00901550 : JZ 0x009015b0
00901552 : MOV ESI,dword ptr [EBX + 0x60]
00901555 : MOV EAX,dword ptr [EBX + 0x64]
00901558 : CMP ESI,EAX
0090155a : JZ 0x0090160b
00901560 : MOV EDX,dword ptr [ESI]
00901562 : CMP ECX,dword ptr [EDX]
00901564 : JZ 0x00901572
00901566 : ADD ESI,0x4
00901569 : CMP ESI,EAX
0090156b : JNZ 0x00901560
0090156d : JMP 0x0090160b
00901572 : MOV EDI,EDX
00901574 : TEST EDI,EDI
00901576 : JZ 0x0090158b
00901578 : PUSH EDI
00901579 : CALL 0x00406bd0
0090157e : MOV ECX,EDI
00901580 : CALL 0x006f04e0
0090158b : MOV EAX,dword ptr [EBX + 0x64]
0090158e : LEA ECX,[ESI + 0x4]
00901591 : SUB EAX,ECX
00901593 : SAR EAX,0x2
00901596 : TEST EAX,EAX
00901598 : JLE 0x009015aa
0090159a : ADD EAX,EAX
0090159c : ADD EAX,EAX
0090159e : PUSH EAX
0090159f : PUSH ECX
009015a0 : PUSH EAX
009015a1 : PUSH ESI
009015a2 : CALL 0x00634101
009015a7 : ADD ESP,0x10
009015aa : ADD dword ptr [EBX + 0x64],-0x4
009015ae : JMP 0x0090160b
009015b0 : MOV ESI,dword ptr [EBX + 0x70]
009015b3 : MOV EAX,dword ptr [EBX + 0x74]
009015b6 : CMP ESI,EAX
009015b8 : JZ 0x0090160b
009015ba : LEA EBX,[EBX]
009015c0 : MOV EDX,dword ptr [ESI]
009015c2 : CMP ECX,dword ptr [EDX]
009015c4 : JZ 0x009015cf
009015c6 : ADD ESI,0x4
009015c9 : CMP ESI,EAX
009015cb : JNZ 0x009015c0
009015cd : JMP 0x0090160b
009015cf : MOV EDI,EDX
009015d1 : TEST EDI,EDI
009015d3 : JZ 0x009015e8
009015d5 : PUSH EDI
009015d6 : CALL 0x00406bd0
009015db : MOV ECX,EDI
009015dd : CALL 0x006f04e0
009015e8 : MOV EAX,dword ptr [EBX + 0x74]
009015eb : LEA ECX,[ESI + 0x4]
009015ee : SUB EAX,ECX
009015f0 : SAR EAX,0x2
009015f3 : TEST EAX,EAX
009015f5 : JLE 0x00901607
009015f7 : ADD EAX,EAX
009015f9 : ADD EAX,EAX
009015fb : PUSH EAX
009015fc : PUSH ECX
009015fd : PUSH EAX
009015fe : PUSH ESI
009015ff : CALL 0x00634101
00901604 : ADD ESP,0x10
00901607 : ADD dword ptr [EBX + 0x74],-0x4
0090160b : MOV ECX,EBX
0090160d : CALL 0x00901220
00901612 : MOV ECX,EBX
00901614 : CALL 0x00900bd0
00901619 : POP EDI
0090161a : POP ESI
0090161b : POP EBX
0090161c : POP EBP
0090161d : RET 0x4
