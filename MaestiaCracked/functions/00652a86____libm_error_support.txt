PROGRAM  : Maestia.exe
FUNCTION : ___libm_error_support
ENTRY    : 00652a86
BODY     : [[00652a86, 00652d01]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    ___libm_error_support
   
   Library: Visual Studio 2008 Release */

void ___libm_error_support(double *param_1,undefined8 *param_2,double *param_3,int param_4)

{
  code *pcVar1;
  int iVar2;
  int *piVar3;
  undefined4 local_2c;
  undefined **local_28;
  double local_24;
  undefined8 local_1c;
  double local_14;
  undefined1 local_c;
  undefined1 uStack_b;
  undefined1 uStack_a;
  undefined1 uStack_9;
  undefined1 uStack_8;
  undefined1 uStack_7;
  undefined1 uStack_6;
  undefined1 uStack_5;
  
  local_c = 0;
  uStack_b = 0;
  uStack_a = 0;
  uStack_9 = 0;
  uStack_8 = 0;
  uStack_7 = 0;
  uStack_6 = 0;
  uStack_5 = 0;
  if (DAT_00d7c0e8 == 0) {
    pcVar1 = FUN_006553b8;
  }
  else {
    pcVar1 = (code *)__decode_pointer(DAT_01728c24);
  }
  if (param_4 < 0xa7) {
    if (param_4 == 0xa6) {
      local_2c = 3;
      local_28 = (undefined **)0xb9c218;
LAB_00652b37:
      local_24 = *param_1;
      local_1c = *param_2;
      local_14 = *param_3;
      iVar2 = (*pcVar1)(&local_2c);
      if (iVar2 == 0) {
        piVar3 = __errno();
        *piVar3 = 0x22;
      }
    }
    else if (param_4 < 0x1a) {
      if (param_4 != 0x19) {
        local_2c = 2;
        if (param_4 == 2) {
          local_2c = 2;
          local_28 = &PTR_DAT_00b8fec8;
        }
        else {
          if (param_4 == 3) {
            local_28 = &PTR_DAT_00b8fec8;
            goto LAB_00652ba5;
          }
          if (param_4 == 8) {
            local_28 = (undefined **)0xb9c220;
          }
          else {
            if (param_4 == 9) {
              local_28 = (undefined **)0xb9c220;
              goto LAB_00652ba5;
            }
            if (param_4 != 0xe) {
              if (param_4 != 0xf) {
                if (param_4 != 0x18) {
                  return;
                }
                local_2c = 3;
                goto LAB_00652b30;
              }
              local_28 = (undefined **)&DAT_00b8fed4;
              goto LAB_00652b6c;
            }
            local_2c = 3;
            local_28 = (undefined **)&DAT_00b8fed4;
          }
        }
        goto LAB_00652b37;
      }
      local_28 = (undefined **)&DAT_00b8febc;
LAB_00652b6c:
      local_24 = *param_1;
      local_1c = *param_2;
      local_2c = 4;
      local_14 = *param_3;
      (*pcVar1)(&local_2c);
    }
    else {
      if (param_4 != 0x1a) {
        if (param_4 != 0x1b) {
          if (param_4 == 0x1c) goto switchD_00652c62_caseD_3ee;
          if (param_4 != 0x1d) {
            if (param_4 != 0x3a) {
              if (param_4 != 0x3d) {
                return;
              }
              goto switchD_00652c62_caseD_3f1;
            }
            goto switchD_00652c62_caseD_3f0;
          }
          local_28 = (undefined **)&DAT_00b8febc;
          goto LAB_00652c1b;
        }
        local_2c = 2;
LAB_00652b30:
        local_28 = (undefined **)&DAT_00b8febc;
        goto LAB_00652b37;
      }
      local_14 = 1.0;
    }
    goto LAB_00652cfb;
  }
  switch(param_4) {
  case 1000:
    local_28 = &PTR_DAT_00b8fec8;
    break;
  case 0x3e9:
    local_28 = (undefined **)0xb9c220;
    break;
  case 0x3ea:
    local_28 = (undefined **)&DAT_00b8fed4;
    break;
  case 0x3eb:
    local_28 = (undefined **)&DAT_00b8feec;
    break;
  case 0x3ec:
    local_28 = (undefined **)&DAT_00b8fedc;
    break;
  case 0x3ed:
    local_28 = (undefined **)0xb8fecc;
    break;
  case 0x3ee:
switchD_00652c62_caseD_3ee:
    local_28 = (undefined **)&DAT_00b8febc;
    goto LAB_00652ba5;
  case 0x3ef:
    local_28 = (undefined **)&DAT_00b9c210;
    break;
  case 0x3f0:
switchD_00652c62_caseD_3f0:
    local_28 = (undefined **)&DAT_00b8fefc;
    goto LAB_00652ba5;
  case 0x3f1:
switchD_00652c62_caseD_3f1:
    local_28 = (undefined **)&DAT_00b8fef4;
    goto LAB_00652ba5;
  case 0x3f2:
    local_28 = &PTR_LAB_00b8fea8;
    goto LAB_00652cc7;
  case 0x3f3:
    local_28 = (undefined **)&DAT_00b8fed8;
    goto LAB_00652cc7;
  case 0x3f4:
    local_28 = &PTR_LAB_00b8fe9c;
LAB_00652cc7:
    local_14 = *param_1 *
               (double)CONCAT17(uStack_5,CONCAT16(uStack_6,CONCAT15(uStack_7,CONCAT14(uStack_8,
                                                  CONCAT13(uStack_9,CONCAT12(uStack_a,CONCAT11(
                                                  uStack_b,local_c)))))));
    *param_3 = local_14;
    local_24 = *param_1;
    local_1c = *param_2;
    goto LAB_00652cd8;
  default:
    goto switchD_00652c62_default;
  }
LAB_00652c1b:
  *param_3 = *param_1;
LAB_00652ba5:
  local_24 = *param_1;
  local_1c = *param_2;
  local_14 = *param_3;
LAB_00652cd8:
  local_2c = 1;
  iVar2 = (*pcVar1)(&local_2c);
  if (iVar2 == 0) {
    piVar3 = __errno();
    *piVar3 = 0x21;
  }
LAB_00652cfb:
  *param_3 = local_14;
switchD_00652c62_default:
  return;
}



============================================================
DISASSEMBLY
============================================================
00652a86 : MOV EDI,EDI
00652a88 : PUSH EBP
00652a89 : MOV EBP,ESP
00652a8b : SUB ESP,0x28
00652a8e : XOR EAX,EAX
00652a90 : PUSH EBX
00652a91 : MOV EBX,dword ptr [EBP + 0xc]
00652a94 : PUSH ESI
00652a95 : MOV ESI,dword ptr [EBP + 0x10]
00652a98 : PUSH EDI
00652a99 : MOV EDI,dword ptr [EBP + 0x8]
00652a9c : MOV byte ptr [EBP + -0x8],AL
00652a9f : MOV byte ptr [EBP + -0x7],AL
00652aa2 : MOV byte ptr [EBP + -0x6],AL
00652aa5 : MOV byte ptr [EBP + -0x5],AL
00652aa8 : MOV byte ptr [EBP + -0x4],AL
00652aab : MOV byte ptr [EBP + -0x3],AL
00652aae : MOV byte ptr [EBP + -0x2],AL
00652ab1 : MOV byte ptr [EBP + -0x1],AL
00652ab4 : CMP dword ptr [0x00d7c0e8],EAX
00652aba : JZ 0x00652aca
00652abc : PUSH dword ptr [0x01728c24]
00652ac2 : CALL 0x0064566d
00652ac7 : POP ECX
00652ac8 : JMP 0x00652acf
00652aca : MOV EAX,0x6553b8
00652acf : MOV ECX,dword ptr [EBP + 0x14]
00652ad2 : MOV EDX,0xa6
00652ad7 : CMP ECX,EDX
00652ad9 : JG 0x00652c53
00652adf : JZ 0x00652c40
00652ae5 : CMP ECX,0x19
00652ae8 : JG 0x00652be6
00652aee : JZ 0x00652bdd
00652af4 : MOV EDX,ECX
00652af6 : PUSH 0x2
00652af8 : POP ECX
00652af9 : SUB EDX,ECX
00652afb : JZ 0x00652bce
00652b01 : DEC EDX
00652b02 : JZ 0x00652bc5
00652b08 : SUB EDX,0x5
00652b0b : JZ 0x00652bb6
00652b11 : DEC EDX
00652b12 : JZ 0x00652b9e
00652b18 : SUB EDX,0x5
00652b1b : JZ 0x00652b8e
00652b1d : DEC EDX
00652b1e : JZ 0x00652b65
00652b20 : SUB EDX,0x9
00652b23 : JNZ 0x00652cfd
00652b29 : MOV dword ptr [EBP + -0x28],0x3
00652b30 : MOV dword ptr [EBP + -0x24],0xb8febc
00652b37 : FLD double ptr [EDI]
00652b39 : LEA ECX,[EBP + -0x28]
00652b3c : FSTP double ptr [EBP + -0x20]
00652b3f : PUSH ECX
00652b40 : FLD double ptr [EBX]
00652b42 : FSTP double ptr [EBP + -0x18]
00652b45 : FLD double ptr [ESI]
00652b47 : FSTP double ptr [EBP + -0x10]
00652b4a : CALL EAX
00652b4c : POP ECX
00652b4d : TEST EAX,EAX
00652b4f : JNZ 0x00652cf8
00652b55 : CALL 0x0063ab82
00652b5a : MOV dword ptr [EAX],0x22
00652b60 : JMP 0x00652cf8
00652b65 : MOV dword ptr [EBP + -0x24],0xb8fed4
00652b6c : FLD double ptr [EDI]
00652b6e : LEA ECX,[EBP + -0x28]
00652b71 : FSTP double ptr [EBP + -0x20]
00652b74 : PUSH ECX
00652b75 : FLD double ptr [EBX]
00652b77 : MOV dword ptr [EBP + -0x28],0x4
00652b7e : FSTP double ptr [EBP + -0x18]
00652b81 : FLD double ptr [ESI]
00652b83 : FSTP double ptr [EBP + -0x10]
00652b86 : CALL EAX
00652b88 : POP ECX
00652b89 : JMP 0x00652cf8
00652b8e : MOV dword ptr [EBP + -0x28],0x3
00652b95 : MOV dword ptr [EBP + -0x24],0xb8fed4
00652b9c : JMP 0x00652b37
00652b9e : MOV dword ptr [EBP + -0x24],0xb9c220
00652ba5 : FLD double ptr [EDI]
00652ba7 : FSTP double ptr [EBP + -0x20]
00652baa : FLD double ptr [EBX]
00652bac : FSTP double ptr [EBP + -0x18]
00652baf : FLD double ptr [ESI]
00652bb1 : JMP 0x00652cd8
00652bb6 : MOV dword ptr [EBP + -0x28],ECX
00652bb9 : MOV dword ptr [EBP + -0x24],0xb9c220
00652bc0 : JMP 0x00652b37
00652bc5 : MOV dword ptr [EBP + -0x24],0xb8fec8
00652bcc : JMP 0x00652ba5
00652bce : MOV dword ptr [EBP + -0x28],ECX
00652bd1 : MOV dword ptr [EBP + -0x24],0xb8fec8
00652bd8 : JMP 0x00652b37
00652bdd : MOV dword ptr [EBP + -0x24],0xb8febc
00652be4 : JMP 0x00652b6c
00652be6 : SUB ECX,0x1a
00652be9 : JZ 0x00652c39
00652beb : DEC ECX
00652bec : JZ 0x00652c2d
00652bee : DEC ECX
00652bef : JZ 0x00652c21
00652bf1 : DEC ECX
00652bf2 : JZ 0x00652c14
00652bf4 : SUB ECX,0x1d
00652bf7 : JZ 0x00652c0b
00652bf9 : SUB ECX,0x3
00652bfc : JNZ 0x00652cfd
00652c02 : MOV dword ptr [EBP + -0x24],0xb8fef4
00652c09 : JMP 0x00652ba5
00652c0b : MOV dword ptr [EBP + -0x24],0xb8fefc
00652c12 : JMP 0x00652ba5
00652c14 : MOV dword ptr [EBP + -0x24],0xb8febc
00652c1b : FLD double ptr [EDI]
00652c1d : FSTP double ptr [ESI]
00652c1f : JMP 0x00652ba5
00652c21 : MOV dword ptr [EBP + -0x24],0xb8febc
00652c28 : JMP 0x00652ba5
00652c2d : MOV dword ptr [EBP + -0x28],0x2
00652c34 : JMP 0x00652b30
00652c39 : FLD1
00652c3b : JMP 0x00652cfb
00652c40 : MOV dword ptr [EBP + -0x28],0x3
00652c47 : MOV dword ptr [EBP + -0x24],0xb9c218
00652c4e : JMP 0x00652b37
00652c53 : ADD ECX,0xfffffc18
00652c59 : CMP ECX,0xc
00652c5c : JA 0x00652cfd
00652c62 : JMP dword ptr [ECX*0x4 + 0x652d02]
00652c69 : MOV dword ptr [EBP + -0x24],0xb8fec8
00652c70 : JMP 0x00652c1b
00652c72 : MOV dword ptr [EBP + -0x24],0xb9c220
00652c79 : JMP 0x00652c1b
00652c7b : MOV dword ptr [EBP + -0x24],0xb8fed4
00652c82 : JMP 0x00652c1b
00652c84 : MOV dword ptr [EBP + -0x24],0xb8feec
00652c8b : JMP 0x00652c1b
00652c8d : MOV dword ptr [EBP + -0x24],0xb8fedc
00652c94 : JMP 0x00652c1b
00652c96 : MOV dword ptr [EBP + -0x24],0xb8fecc
00652c9d : JMP 0x00652c1b
00652ca2 : MOV dword ptr [EBP + -0x24],0xb9c210
00652ca9 : JMP 0x00652c1b
00652cae : MOV dword ptr [EBP + -0x24],0xb8fea8
00652cb5 : JMP 0x00652cc7
00652cb7 : MOV dword ptr [EBP + -0x24],0xb8fed8
00652cbe : JMP 0x00652cc7
00652cc0 : MOV dword ptr [EBP + -0x24],0xb8fe9c
00652cc7 : FLD double ptr [EDI]
00652cc9 : FMUL double ptr [EBP + -0x8]
00652ccc : FST double ptr [ESI]
00652cce : FLD double ptr [EDI]
00652cd0 : FSTP double ptr [EBP + -0x20]
00652cd3 : FLD double ptr [EBX]
00652cd5 : FSTP double ptr [EBP + -0x18]
00652cd8 : LEA ECX,[EBP + -0x28]
00652cdb : FSTP double ptr [EBP + -0x10]
00652cde : PUSH ECX
00652cdf : MOV dword ptr [EBP + -0x28],0x1
00652ce6 : CALL EAX
00652ce8 : POP ECX
00652ce9 : TEST EAX,EAX
00652ceb : JNZ 0x00652cf8
00652ced : CALL 0x0063ab82
00652cf2 : MOV dword ptr [EAX],0x21
00652cf8 : FLD double ptr [EBP + -0x10]
00652cfb : FSTP double ptr [ESI]
00652cfd : POP EDI
00652cfe : POP ESI
00652cff : POP EBX
00652d00 : LEAVE
00652d01 : RET
