PROGRAM  : Maestia.exe
FUNCTION : FUN_005e3af0
ENTRY    : 005e3af0
BODY     : [[005e3af0, 005e3c9d]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005e3af0(void)

{
  int iVar1;
  bool bVar2;
  uint in_EAX;
  undefined1 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  int in_ECX;
  undefined4 local_78;
  int local_74;
  int local_70;
  int local_6c;
  int local_68;
  int local_64;
  int local_60;
  int local_50;
  int local_4c;
  int local_48;
  int local_44;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_1c;
  int local_10;
  
  if (*(uint *)(in_ECX + 0x34) <= in_EAX) {
    return (undefined4 *)0x0;
  }
  local_60 = in_ECX + 0x1c;
  iVar1 = *(int *)(in_ECX + 0x38) + 4 + in_EAX * 8;
  puVar3 = (undefined1 *)(iVar1 + **(int **)(in_ECX + 0x30));
  FUN_005df240(CONCAT31(CONCAT21(CONCAT11(*(undefined1 *)(iVar1 + 3 + **(int **)(in_ECX + 0x30)),
                                          puVar3[2]),puVar3[1]),*puVar3));
  iVar1 = *(int *)(in_ECX + 0x54);
  local_78 = 0x102;
  iVar4 = FUN_00515d60(in_ECX,0x44,&local_78);
  if (iVar4 == 0) {
    puVar5 = (undefined4 *)0x0;
  }
  else {
    puVar5 = (undefined4 *)FUN_00559d80(0xf2);
  }
  FUN_00558a00();
  bVar2 = false;
  if (local_48 != 0) {
    do {
      FUN_00553650();
      local_38 = 1;
      local_34 = 0;
      FUN_00555690((local_50 << 10) / iVar1,(local_4c << 10) / iVar1,0);
      while (local_44 != 0) {
        FUN_005e0f30(&local_74);
        if (local_74 == 2) {
          FUN_00559cb0((local_70 << 10) / iVar1,(local_6c << 10) / iVar1);
        }
        else {
          FUN_00559cd0((local_70 << 10) / iVar1,(local_6c << 10) / iVar1,(local_68 << 10) / iVar1,
                       (local_64 << 10) / iVar1);
        }
      }
      if (local_10 != 0) {
        FUN_00559d00();
        if (local_10 != 0) {
          FUN_005551b0(puVar5 + 10,puVar5 + 0xd);
        }
        bVar2 = true;
      }
      local_48 = local_48 + -1;
      FUN_005de4f0();
    } while (local_48 != 0);
    if (bVar2) goto LAB_005e3c8b;
  }
  if (puVar5 != (undefined4 *)0x0) {
    (**(code **)*puVar5)(1);
  }
  puVar5 = (undefined4 *)0x0;
LAB_005e3c8b:
  FUN_00515cf0(local_1c);
  return puVar5;
}



============================================================
DISASSEMBLY
============================================================
005e3af0 : SUB ESP,0x78
005e3af3 : PUSH ESI
005e3af4 : MOV ESI,ECX
005e3af6 : CMP EAX,dword ptr [ESI + 0x34]
005e3af9 : JC 0x005e3b02
005e3afb : XOR EAX,EAX
005e3afd : POP ESI
005e3afe : ADD ESP,0x78
005e3b01 : RET
005e3b02 : MOV EDX,dword ptr [ESI + 0x38]
005e3b05 : LEA ECX,[ESI + 0x1c]
005e3b08 : MOV dword ptr [ESP + 0x1c],ECX
005e3b0c : MOV ECX,dword ptr [ESI + 0x30]
005e3b0f : LEA EAX,[EDX + EAX*0x8 + 0x4]
005e3b13 : MOV EDX,dword ptr [ECX]
005e3b15 : MOVZX ECX,byte ptr [EAX + EDX*0x1 + 0x3]
005e3b1a : ADD EAX,EDX
005e3b1c : MOVZX EDX,byte ptr [EAX + 0x2]
005e3b20 : SHL ECX,0x8
005e3b23 : OR ECX,EDX
005e3b25 : MOVZX EDX,byte ptr [EAX + 0x1]
005e3b29 : MOVZX EAX,byte ptr [EAX]
005e3b2c : SHL ECX,0x8
005e3b2f : OR ECX,EDX
005e3b31 : PUSH EBX
005e3b32 : SHL ECX,0x8
005e3b35 : OR ECX,EAX
005e3b37 : PUSH EDI
005e3b38 : PUSH ECX
005e3b39 : LEA ECX,[ESP + 0x28]
005e3b3d : CALL 0x005df240
005e3b42 : MOV EDI,dword ptr [ESI + 0x54]
005e3b45 : LEA ECX,[ESP + 0xc]
005e3b49 : PUSH ECX
005e3b4a : PUSH 0x44
005e3b4c : PUSH ESI
005e3b4d : MOV dword ptr [ESP + 0x18],0x102
005e3b55 : CALL 0x00515d60
005e3b5a : TEST EAX,EAX
005e3b5c : JZ 0x005e3b6e
005e3b5e : PUSH 0xf2
005e3b63 : MOV ECX,EAX
005e3b65 : CALL 0x00559d80
005e3b6a : MOV ESI,EAX
005e3b6c : JMP 0x005e3b70
005e3b6e : XOR ESI,ESI
005e3b70 : LEA ECX,[ESP + 0x4c]
005e3b74 : CALL 0x00558a00
005e3b79 : XOR BL,BL
005e3b7b : CMP dword ptr [ESP + 0x3c],0x0
005e3b80 : JZ 0x005e3c7b
005e3b86 : LEA ECX,[ESP + 0x4c]
005e3b8a : CALL 0x00553650
005e3b8f : MOV EAX,dword ptr [ESP + 0x38]
005e3b93 : SHL EAX,0xa
005e3b96 : CDQ
005e3b97 : IDIV EDI
005e3b99 : PUSH 0x0
005e3b9b : LEA ECX,[ESP + 0x50]
005e3b9f : MOV dword ptr [ESP + 0x50],0x1
005e3ba7 : MOV dword ptr [ESP + 0x54],0x0
005e3baf : PUSH EAX
005e3bb0 : MOV EAX,dword ptr [ESP + 0x3c]
005e3bb4 : SHL EAX,0xa
005e3bb7 : CDQ
005e3bb8 : IDIV EDI
005e3bba : PUSH EAX
005e3bbb : CALL 0x00555690
005e3bc0 : CMP dword ptr [ESP + 0x40],0x0
005e3bc5 : JZ 0x005e3c35
005e3bc7 : LEA EDX,[ESP + 0x10]
005e3bcb : PUSH EDX
005e3bcc : LEA ECX,[ESP + 0x28]
005e3bd0 : CALL 0x005e0f30
005e3bd5 : CMP dword ptr [ESP + 0x10],0x2
005e3bda : LEA ECX,[ESP + 0x4c]
005e3bde : JNZ 0x005e3bfd
005e3be0 : MOV EAX,dword ptr [ESP + 0x18]
005e3be4 : SHL EAX,0xa
005e3be7 : CDQ
005e3be8 : IDIV EDI
005e3bea : PUSH EAX
005e3beb : MOV EAX,dword ptr [ESP + 0x18]
005e3bef : SHL EAX,0xa
005e3bf2 : CDQ
005e3bf3 : IDIV EDI
005e3bf5 : PUSH EAX
005e3bf6 : CALL 0x00559cb0
005e3bfb : JMP 0x005e3c2e
005e3bfd : MOV EAX,dword ptr [ESP + 0x20]
005e3c01 : SHL EAX,0xa
005e3c04 : CDQ
005e3c05 : IDIV EDI
005e3c07 : PUSH EAX
005e3c08 : MOV EAX,dword ptr [ESP + 0x20]
005e3c0c : SHL EAX,0xa
005e3c0f : CDQ
005e3c10 : IDIV EDI
005e3c12 : PUSH EAX
005e3c13 : MOV EAX,dword ptr [ESP + 0x20]
005e3c17 : SHL EAX,0xa
005e3c1a : CDQ
005e3c1b : IDIV EDI
005e3c1d : PUSH EAX
005e3c1e : MOV EAX,dword ptr [ESP + 0x20]
005e3c22 : SHL EAX,0xa
005e3c25 : CDQ
005e3c26 : IDIV EDI
005e3c28 : PUSH EAX
005e3c29 : CALL 0x00559cd0
005e3c2e : CMP dword ptr [ESP + 0x40],0x0
005e3c33 : JNZ 0x005e3bc7
005e3c35 : CMP dword ptr [ESP + 0x74],0x0
005e3c3a : JZ 0x005e3c5f
005e3c3c : LEA ECX,[ESP + 0x4c]
005e3c40 : CALL 0x00559d00
005e3c45 : CMP dword ptr [ESP + 0x74],0x0
005e3c4a : JZ 0x005e3c5d
005e3c4c : LEA EAX,[ESI + 0x34]
005e3c4f : PUSH EAX
005e3c50 : LEA ECX,[ESI + 0x28]
005e3c53 : PUSH ECX
005e3c54 : LEA ECX,[ESP + 0x54]
005e3c58 : CALL 0x005551b0
005e3c5d : MOV BL,0x1
005e3c5f : DEC dword ptr [ESP + 0x3c]
005e3c63 : LEA ECX,[ESP + 0x24]
005e3c67 : CALL 0x005de4f0
005e3c6c : CMP dword ptr [ESP + 0x3c],0x0
005e3c71 : JNZ 0x005e3b86
005e3c77 : TEST BL,BL
005e3c79 : JNZ 0x005e3c8b
005e3c7b : TEST ESI,ESI
005e3c7d : JZ 0x005e3c89
005e3c7f : MOV EDX,dword ptr [ESI]
005e3c81 : MOV EAX,dword ptr [EDX]
005e3c83 : PUSH 0x1
005e3c85 : MOV ECX,ESI
005e3c87 : CALL EAX
005e3c89 : XOR ESI,ESI
005e3c8b : MOV ECX,dword ptr [ESP + 0x68]
005e3c8f : PUSH ECX
005e3c90 : CALL 0x00515cf0
005e3c95 : POP EDI
005e3c96 : POP EBX
005e3c97 : MOV EAX,ESI
005e3c99 : POP ESI
005e3c9a : ADD ESP,0x78
005e3c9d : RET
