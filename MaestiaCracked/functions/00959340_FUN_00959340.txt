PROGRAM  : Maestia.exe
FUNCTION : FUN_00959340
ENTRY    : 00959340
BODY     : [[00959340, 0095951a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00959340(undefined4 param_1,undefined4 param_2)

{
  uint uVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 in_ECX;
  undefined1 local_60 [4];
  int local_5c;
  int local_58;
  undefined1 local_50 [4];
  undefined2 local_4c;
  undefined4 local_3c;
  uint local_38;
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b6b664;
  local_14 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xffffff90;
  ExceptionList = &local_14;
  local_38 = 7;
  local_3c = 0;
  local_4c = 0;
  FUN_00406360(&DAT_00c76120,1);
  local_c = 0;
  uVar2 = FUN_00404350(param_2,uVar1);
  local_c._0_1_ = 1;
  FUN_0070cd60(local_60,uVar2,local_50,0);
  local_c = CONCAT31(local_c._1_3_,3);
  if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_1c = 7;
  local_20 = 0;
  local_30 = 0;
  local_c = CONCAT31(local_c._1_3_,4);
  if (local_38 < 8) {
    local_4c = 0;
    iVar3 = local_58 - local_5c >> 0x1f;
    local_38 = 7;
    local_3c = 0;
    if ((local_58 - local_5c) / 0x1c + iVar3 != iVar3) {
      if (*(uint *)(local_5c + 0x18) < 8) {
        iVar3 = local_5c + 4;
      }
      else {
        iVar3 = *(int *)(local_5c + 4);
      }
      iVar3 = FUN_00634f4d(iVar3);
      if (*(uint *)(local_5c + 0x18) < 8) {
        iVar4 = local_5c + 4;
      }
      else {
        iVar4 = *(int *)(local_5c + 4);
      }
      iVar5 = FUN_00634f4d(iVar4);
      iVar4 = DAT_0172489c;
      *(undefined4 *)(DAT_0172489c + 4) = 0x2000;
      *(undefined4 *)(iVar4 + 8) = 0xc;
      *(undefined4 *)(iVar4 + 0x1c) = 0xffffff;
      *(undefined4 *)(iVar4 + 0x10) = 0;
      *(undefined4 *)(iVar4 + 0x14) = 0;
      *(undefined4 *)(iVar4 + 0x18) = 300;
      *(undefined1 *)(iVar4 + 1) = 0;
      *(undefined4 *)(iVar4 + 0x20) = 0;
      *(undefined4 *)(iVar4 + 0xc) = 0;
      *(undefined1 *)(iVar4 + 2) = 0;
      *(undefined1 *)(iVar4 + 0x30) = 1;
      *(undefined4 *)(iVar4 + 0x2c) = 0xffffffff;
      FUN_00993700(in_ECX,iVar3 % 5,iVar5 / 5);
    }
    local_c = 0xffffffff;
    if (local_5c == 0) {
      ExceptionList = local_14;
      return;
    }
    FUN_00405450(in_ECX);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
00959340 : PUSH EBP
00959341 : MOV EBP,ESP
00959343 : AND ESP,0xfffffff8
00959346 : PUSH -0x1
00959348 : PUSH 0xb6b664
0095934d : MOV EAX,FS:[0x0]
00959353 : PUSH EAX
00959354 : SUB ESP,0x50
00959357 : PUSH EBX
00959358 : PUSH ESI
00959359 : PUSH EDI
0095935a : MOV EAX,[0x00d66fa0]
0095935f : XOR EAX,ESP
00959361 : PUSH EAX
00959362 : LEA EAX,[ESP + 0x60]
00959366 : MOV FS:[0x0],EAX
0095936c : MOV dword ptr [ESP + 0x10],ECX
00959370 : PUSH 0x1
00959372 : XOR EAX,EAX
00959374 : MOV EDI,0x7
00959379 : XOR EBX,EBX
0095937b : PUSH 0xc76120
00959380 : LEA ECX,[ESP + 0x2c]
00959384 : MOV dword ptr [ESP + 0x44],EDI
00959388 : MOV dword ptr [ESP + 0x40],EBX
0095938c : MOV word ptr [ESP + 0x30],AX
00959391 : CALL 0x00406360
00959396 : MOV dword ptr [ESP + 0x68],EBX
0095939a : MOV ECX,dword ptr [EBP + 0xc]
0095939d : PUSH ECX
0095939e : LEA ESI,[ESP + 0x44]
009593a2 : CALL 0x00404350
009593a7 : ADD ESP,0x4
009593aa : MOV byte ptr [ESP + 0x68],0x1
009593af : PUSH EBX
009593b0 : LEA EDX,[ESP + 0x28]
009593b4 : PUSH EDX
009593b5 : PUSH EAX
009593b6 : LEA EAX,[ESP + 0x20]
009593ba : PUSH EAX
009593bb : CALL 0x0070cd60
009593c0 : ADD ESP,0x10
009593c3 : MOV byte ptr [ESP + 0x68],0x3
009593c8 : MOV ESI,0x8
009593cd : CMP dword ptr [ESP + 0x58],ESI
009593d1 : JC 0x009593dc
009593d3 : MOV ECX,dword ptr [ESP + 0x44]
009593d7 : CALL 0x006f04e0
009593dc : XOR ECX,ECX
009593de : MOV dword ptr [ESP + 0x58],EDI
009593e2 : MOV dword ptr [ESP + 0x54],EBX
009593e6 : MOV word ptr [ESP + 0x44],CX
009593eb : MOV byte ptr [ESP + 0x68],0x4
009593f0 : CMP dword ptr [ESP + 0x3c],ESI
009593f4 : JC 0x009593ff
009593f6 : MOV ECX,dword ptr [ESP + 0x28]
009593fa : CALL 0x006f04e0
009593ff : MOV ECX,dword ptr [ESP + 0x1c]
00959403 : MOV ESI,dword ptr [ESP + 0x18]
00959407 : XOR EDX,EDX
00959409 : SUB ECX,ESI
0095940b : MOV word ptr [ESP + 0x28],DX
00959410 : MOV EAX,0x92492493
00959415 : IMUL ECX
00959417 : ADD EDX,ECX
00959419 : SAR EDX,0x4
0095941c : MOV EAX,EDX
0095941e : SHR EAX,0x1f
00959421 : ADD EAX,EDX
00959423 : MOV dword ptr [ESP + 0x3c],EDI
00959427 : MOV dword ptr [ESP + 0x38],EBX
0095942b : JNZ 0x0095943a
0095942d : MOV dword ptr [ESP + 0x68],0xffffffff
00959435 : JMP 0x009594d8
0095943a : MOV EDI,0x8
0095943f : CMP dword ptr [ESI + 0x18],EDI
00959442 : JC 0x00959449
00959444 : MOV ESI,dword ptr [ESI + 0x4]
00959447 : JMP 0x0095944c
00959449 : ADD ESI,0x4
0095944c : PUSH ESI
0095944d : CALL 0x00634f4d
00959452 : CDQ
00959453 : MOV ECX,0x5
00959458 : IDIV ECX
0095945a : MOV EAX,dword ptr [ESP + 0x1c]
0095945e : ADD ESP,0x4
00959461 : MOV ESI,EDX
00959463 : CMP dword ptr [EAX + 0x18],EDI
00959466 : JC 0x0095946d
00959468 : MOV EAX,dword ptr [EAX + 0x4]
0095946b : JMP 0x00959470
0095946d : ADD EAX,0x4
00959470 : PUSH EAX
00959471 : CALL 0x00634f4d
00959476 : MOV ECX,EAX
00959478 : MOV EAX,0x66666667
0095947d : IMUL ECX
0095947f : MOV EAX,[0x0172489c]
00959484 : SAR EDX,0x1
00959486 : MOV ECX,EDX
00959488 : ADD ESP,0x4
0095948b : SHR ECX,0x1f
0095948e : ADD ECX,EDX
00959490 : MOV EDX,dword ptr [ESP + 0x10]
00959494 : PUSH ECX
00959495 : PUSH ESI
00959496 : OR EDI,0xffffffff
00959499 : PUSH EDX
0095949a : MOV dword ptr [EAX + 0x4],0x2000
009594a1 : MOV dword ptr [EAX + 0x8],0xc
009594a8 : MOV dword ptr [EAX + 0x1c],0xffffff
009594af : MOV dword ptr [EAX + 0x10],EBX
009594b2 : MOV dword ptr [EAX + 0x14],EBX
009594b5 : MOV dword ptr [EAX + 0x18],0x12c
009594bc : MOV byte ptr [EAX + 0x1],BL
009594bf : MOV dword ptr [EAX + 0x20],EBX
009594c2 : MOV dword ptr [EAX + 0xc],EBX
009594c5 : MOV byte ptr [EAX + 0x2],BL
009594c8 : MOV byte ptr [EAX + 0x30],0x1
009594cc : MOV dword ptr [EAX + 0x2c],EDI
009594cf : CALL 0x00993700
009594d4 : MOV dword ptr [ESP + 0x68],EDI
009594d8 : MOV EAX,dword ptr [ESP + 0x18]
009594dc : CMP EAX,EBX
009594de : JZ 0x009594fa
009594e0 : MOV ECX,dword ptr [ESP + 0x10]
009594e4 : MOV EDI,dword ptr [ESP + 0x1c]
009594e8 : PUSH ECX
009594e9 : CALL 0x00405450
009594ee : MOV ECX,dword ptr [ESP + 0x1c]
009594f2 : ADD ESP,0x4
009594f5 : CALL 0x006f04e0
009594fa : MOV dword ptr [ESP + 0x20],EBX
009594fe : MOV dword ptr [ESP + 0x1c],EBX
00959502 : MOV dword ptr [ESP + 0x18],EBX
00959506 : MOV ECX,dword ptr [ESP + 0x60]
0095950a : MOV dword ptr FS:[0x0],ECX
00959511 : POP ECX
00959512 : POP EDI
00959513 : POP ESI
00959514 : POP EBX
00959515 : MOV ESP,EBP
00959517 : POP EBP
00959518 : RET 0x8
