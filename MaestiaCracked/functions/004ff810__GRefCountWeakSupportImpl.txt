PROGRAM  : Maestia.exe
FUNCTION : ~GRefCountWeakSupportImpl
ENTRY    : 004ff810
BODY     : [[004ff810, 004ff83c]]

============================================================
DECOMPILED C CODE
============================================================

/* public: virtual __thiscall GRefCountWeakSupportImpl::~GRefCountWeakSupportImpl(void) */

void __thiscall GRefCountWeakSupportImpl::~GRefCountWeakSupportImpl(GRefCountWeakSupportImpl *this)

{
  int *piVar1;
  
                    /* 0xff810  31  ??1GRefCountWeakSupportImpl@@UAE@XZ */
  *(undefined ***)this = &PTR_LAB_00b85d3c;
  if (*(int *)(this + 8) != 0) {
    *(undefined4 *)(*(int *)(this + 8) + 4) = 0;
    piVar1 = *(int **)(this + 8);
    *piVar1 = *piVar1 + -1;
    if (*piVar1 == 0) {
      FUN_00515cf0(piVar1);
    }
  }
  *(undefined ***)this = &PTR_FUN_00cd3f2c;
  return;
}



============================================================
DISASSEMBLY
============================================================
004ff810 : PUSH ESI
004ff811 : MOV ESI,ECX
004ff813 : MOV EAX,dword ptr [ESI + 0x8]
004ff816 : MOV dword ptr [ESI],0xb85d3c
004ff81c : TEST EAX,EAX
004ff81e : JZ 0x004ff835
004ff820 : MOV dword ptr [EAX + 0x4],0x0
004ff827 : MOV EAX,dword ptr [ESI + 0x8]
004ff82a : ADD dword ptr [EAX],-0x1
004ff82d : JNZ 0x004ff835
004ff82f : PUSH EAX
004ff830 : CALL 0x00515cf0
004ff835 : MOV dword ptr [ESI],0xcd3f2c
004ff83b : POP ESI
004ff83c : RET
