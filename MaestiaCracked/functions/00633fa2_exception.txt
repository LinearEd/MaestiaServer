PROGRAM  : Maestia.exe
FUNCTION : exception
ENTRY    : 00633fa2
BODY     : [[00633fa2, 00633ffe]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    public: __thiscall std::exception::exception(class std::exception const &)
   
   Library: Visual Studio 2008 Release */

exception * __thiscall std::exception::exception(exception *this,exception *param_1)

{
  int iVar1;
  size_t sVar2;
  char *pcVar3;
  
  *(undefined ***)this = vftable;
  iVar1 = *(int *)(param_1 + 8);
  *(int *)(this + 8) = iVar1;
  pcVar3 = *(char **)(param_1 + 4);
  if (iVar1 == 0) {
    *(char **)(this + 4) = pcVar3;
  }
  else if (pcVar3 == (char *)0x0) {
    *(undefined4 *)(this + 4) = 0;
  }
  else {
    sVar2 = _strlen(pcVar3);
    pcVar3 = _malloc(sVar2 + 1);
    *(char **)(this + 4) = pcVar3;
    if (pcVar3 != (char *)0x0) {
      _strcpy_s(pcVar3,sVar2 + 1,*(char **)(param_1 + 4));
    }
  }
  return this;
}



============================================================
DISASSEMBLY
============================================================
00633fa2 : MOV EDI,EDI
00633fa4 : PUSH EBP
00633fa5 : MOV EBP,ESP
00633fa7 : PUSH EBX
00633fa8 : MOV EBX,dword ptr [EBP + 0x8]
00633fab : PUSH ESI
00633fac : MOV ESI,ECX
00633fae : MOV dword ptr [ESI],0xb9612c
00633fb4 : MOV EAX,dword ptr [EBX + 0x8]
00633fb7 : MOV dword ptr [ESI + 0x8],EAX
00633fba : TEST EAX,EAX
00633fbc : MOV EAX,dword ptr [EBX + 0x4]
00633fbf : PUSH EDI
00633fc0 : JZ 0x00633ff3
00633fc2 : TEST EAX,EAX
00633fc4 : JZ 0x00633fed
00633fc6 : PUSH EAX
00633fc7 : CALL 0x00640960
00633fcc : MOV EDI,EAX
00633fce : INC EDI
00633fcf : PUSH EDI
00633fd0 : CALL 0x00636043
00633fd5 : POP ECX
00633fd6 : POP ECX
00633fd7 : MOV dword ptr [ESI + 0x4],EAX
00633fda : TEST EAX,EAX
00633fdc : JZ 0x00633ff6
00633fde : PUSH dword ptr [EBX + 0x4]
00633fe1 : PUSH EDI
00633fe2 : PUSH EAX
00633fe3 : CALL 0x00638300
00633fe8 : ADD ESP,0xc
00633feb : JMP 0x00633ff6
00633fed : AND dword ptr [ESI + 0x4],0x0
00633ff1 : JMP 0x00633ff6
00633ff3 : MOV dword ptr [ESI + 0x4],EAX
00633ff6 : POP EDI
00633ff7 : MOV EAX,ESI
00633ff9 : POP ESI
00633ffa : POP EBX
00633ffb : POP EBP
00633ffc : RET 0x4
