PROGRAM  : Maestia.exe
FUNCTION : FUN_007808b0
ENTRY    : 007808b0
BODY     : [[007808b0, 00780986]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_007808b0(void)

{
  int *piVar1;
  int in_ECX;
  int iVar2;
  undefined4 *puVar3;
  int **ppiVar4;
  int *apiStack_88 [4];
  undefined4 uStack_78;
  undefined4 uStack_74;
  int *piStack_70;
  undefined4 uStack_6c;
  undefined4 uStack_68;
  int *piStack_64;
  undefined4 uStack_60;
  undefined4 uStack_5c;
  
  piStack_64 = *(int **)(in_ECX + 0x18);
  uStack_5c = 3;
  *(undefined4 *)(in_ECX + 0x20) = 0xffffffff;
  *(undefined4 *)(in_ECX + 0x2c) = 0;
  *(undefined4 *)(in_ECX + 0x24) = 0;
  uStack_60 = 0x16;
  uStack_68 = 0x7808df;
  (**(code **)(*piStack_64 + 0xe4))();
  piStack_70 = *(int **)(in_ECX + 0x18);
  uStack_68 = 0xffffffff;
  uStack_6c = 0x3c;
  uStack_74 = 0x7808f1;
  (**(code **)(*piStack_70 + 0xe4))();
  apiStack_88[3] = *(int **)(in_ECX + 0x18);
  uStack_74 = 0;
  uStack_78 = 0x1b;
  apiStack_88[2] = (int *)0x780902;
  (**(code **)(*apiStack_88[3] + 0xe4))();
  apiStack_88[2] = (int *)0x1;
  apiStack_88[1] = (int *)0x4;
  apiStack_88[0] = (int *)0x0;
  (**(code **)(**(int **)(in_ECX + 0x18) + 0x10c))(*(int **)(in_ECX + 0x18));
  (**(code **)(**(int **)(in_ECX + 0x18) + 0xe4))(*(int **)(in_ECX + 0x18),0xf,0);
  piVar1 = *(int **)(in_ECX + 0x18);
  puVar3 = &DAT_00d72178;
  ppiVar4 = apiStack_88;
  for (iVar2 = 0x10; iVar2 != 0; iVar2 = iVar2 + -1) {
    *ppiVar4 = (int *)*puVar3;
    puVar3 = puVar3 + 1;
    ppiVar4 = ppiVar4 + 1;
  }
  (**(code **)(*piVar1 + 0xb0))(piVar1,0x10,apiStack_88);
  piVar1 = *(int **)(*(int *)(*(int *)(in_ECX + 0x14) + 0x14) + 0x1c);
  if (piVar1 != (int *)0x0) {
    _DAT_00da9aec = (**(code **)(*piVar1 + 0x108))(piVar1);
    if (_DAT_00da9aec < 0) {
      FUN_008018d0(L"AvaGpuRenderCell::EndStateBlock() (%d)",_DAT_00da9aec);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007808b0 : PUSH EBP
007808b1 : MOV EBP,ESP
007808b3 : AND ESP,0xfffffff8
007808b6 : SUB ESP,0x44
007808b9 : PUSH EBX
007808ba : PUSH ESI
007808bb : MOV EBX,ECX
007808bd : MOV EAX,dword ptr [EBX + 0x18]
007808c0 : PUSH EDI
007808c1 : XOR ESI,ESI
007808c3 : PUSH 0x3
007808c5 : MOV dword ptr [EBX + 0x20],0xffffffff
007808cc : MOV dword ptr [EBX + 0x2c],ESI
007808cf : MOV dword ptr [EBX + 0x24],ESI
007808d2 : MOV ECX,dword ptr [EAX]
007808d4 : MOV EDX,dword ptr [ECX + 0xe4]
007808da : PUSH 0x16
007808dc : PUSH EAX
007808dd : CALL EDX
007808df : MOV EAX,dword ptr [EBX + 0x18]
007808e2 : MOV ECX,dword ptr [EAX]
007808e4 : MOV EDX,dword ptr [ECX + 0xe4]
007808ea : PUSH -0x1
007808ec : PUSH 0x3c
007808ee : PUSH EAX
007808ef : CALL EDX
007808f1 : MOV EAX,dword ptr [EBX + 0x18]
007808f4 : MOV ECX,dword ptr [EAX]
007808f6 : MOV EDX,dword ptr [ECX + 0xe4]
007808fc : PUSH ESI
007808fd : PUSH 0x1b
007808ff : PUSH EAX
00780900 : CALL EDX
00780902 : MOV EAX,dword ptr [EBX + 0x18]
00780905 : MOV ECX,dword ptr [EAX]
00780907 : MOV EDX,dword ptr [ECX + 0x10c]
0078090d : PUSH 0x1
0078090f : PUSH 0x4
00780911 : PUSH ESI
00780912 : PUSH EAX
00780913 : CALL EDX
00780915 : MOV EAX,dword ptr [EBX + 0x18]
00780918 : MOV ECX,dword ptr [EAX]
0078091a : MOV EDX,dword ptr [ECX + 0xe4]
00780920 : PUSH ESI
00780921 : PUSH 0xf
00780923 : PUSH EAX
00780924 : CALL EDX
00780926 : MOV EAX,dword ptr [EBX + 0x18]
00780929 : LEA EDX,[ESP + 0x10]
0078092d : PUSH EDX
0078092e : MOV ECX,0x10
00780933 : MOV ESI,0xd72178
00780938 : LEA EDI,[ESP + 0x14]
0078093c : MOVSD.REP ES:EDI,ESI
0078093e : MOV ECX,dword ptr [EAX]
00780940 : PUSH 0x10
00780942 : PUSH EAX
00780943 : MOV EAX,dword ptr [ECX + 0xb0]
00780949 : CALL EAX
0078094b : MOV ECX,dword ptr [EBX + 0x14]
0078094e : MOV EDX,dword ptr [ECX + 0x14]
00780951 : MOV EAX,dword ptr [EDX + 0x1c]
00780954 : TEST EAX,EAX
00780956 : JZ 0x00780980
00780958 : MOV ECX,dword ptr [EAX]
0078095a : MOV EDX,dword ptr [ECX + 0x108]
00780960 : PUSH EAX
00780961 : CALL EDX
00780963 : MOV [0x00da9aec],EAX
00780968 : TEST EAX,EAX
0078096a : JGE 0x00780980
0078096c : MOV ESI,dword ptr [0x00da98e8]
00780972 : PUSH EAX
00780973 : PUSH 0xc10ad8
00780978 : CALL 0x008018d0
0078097d : ADD ESP,0x8
00780980 : POP EDI
00780981 : POP ESI
00780982 : POP EBX
00780983 : MOV ESP,EBP
00780985 : POP EBP
00780986 : RET
