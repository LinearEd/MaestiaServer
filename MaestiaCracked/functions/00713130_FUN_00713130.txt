PROGRAM  : Maestia.exe
FUNCTION : FUN_00713130
ENTRY    : 00713130
BODY     : [[00713130, 007132f9]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00713130(void)

{
  short sVar1;
  short *psVar2;
  int in_ECX;
  short *psVar3;
  int *unaff_ESI;
  undefined1 local_38 [4];
  undefined2 local_34;
  undefined4 local_24;
  uint local_20;
  undefined4 local_1c;
  short *local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1794d;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  (**(code **)(*unaff_ESI + 0x30))(0x9c289201,&local_1c,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  (**(code **)(*unaff_ESI + 0x30))(0x9c28925a,&local_14);
  if (*(uint *)(in_ECX + 0x24) < 8) {
    psVar3 = (short *)(in_ECX + 0x10);
  }
  else {
    psVar3 = *(short **)(in_ECX + 0x10);
  }
  local_34 = 0;
  local_18 = psVar3 + 1;
  local_20 = 7;
  local_24 = 0;
  psVar2 = psVar3;
  do {
    sVar1 = *psVar2;
    psVar2 = psVar2 + 1;
  } while (sVar1 != 0);
  FUN_00406360(psVar3,(int)psVar2 - (int)local_18 >> 1);
  local_8 = 0;
  (**(code **)(*unaff_ESI + 0x38))(local_38);
  local_8 = 0xffffffff;
  if (7 < local_20) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_34 = 0;
  local_20 = 7;
  local_24 = 0;
  (**(code **)(*unaff_ESI + 0x34))(local_14);
  (**(code **)(*unaff_ESI + 0x30))(0x9c28923b,&local_14);
  (**(code **)(*unaff_ESI + 0x10))(in_ECX + 0x44,2,1);
  (**(code **)(*unaff_ESI + 0x34))(local_14);
  (**(code **)(*unaff_ESI + 0x30))(0x9c28927c,&local_14);
  (**(code **)(*unaff_ESI + 0x10))(in_ECX + 0x46,1,1);
  (**(code **)(*unaff_ESI + 0x34))(local_14);
  (**(code **)(*unaff_ESI + 0x30))(0x9c28929e,&local_14);
  (**(code **)(*unaff_ESI + 0x10))(in_ECX + 0x47,0x10,1);
  (**(code **)(*unaff_ESI + 0x34))(local_14);
  (**(code **)(*unaff_ESI + 0x30))(0x9c2892bd,&local_14);
  (**(code **)(*unaff_ESI + 0x10))(in_ECX + 0x5c,4,1);
  (**(code **)(*unaff_ESI + 0x10))(in_ECX + 0x60,4,1);
  (**(code **)(*unaff_ESI + 0x34))(local_14);
  (**(code **)(*unaff_ESI + 0x34))(local_1c);
  ExceptionList = local_10;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
00713130 : PUSH EBP
00713131 : MOV EBP,ESP
00713133 : PUSH -0x1
00713135 : PUSH 0xb1794d
0071313a : MOV EAX,FS:[0x0]
00713140 : PUSH EAX
00713141 : SUB ESP,0x28
00713144 : PUSH EDI
00713145 : MOV EAX,[0x00d66fa0]
0071314a : XOR EAX,EBP
0071314c : PUSH EAX
0071314d : LEA EAX,[EBP + -0xc]
00713150 : MOV FS:[0x0],EAX
00713156 : MOV EDI,ECX
00713158 : MOV EAX,dword ptr [ESI]
0071315a : MOV EDX,dword ptr [EAX + 0x30]
0071315d : LEA ECX,[EBP + -0x18]
00713160 : PUSH ECX
00713161 : PUSH 0x9c289201
00713166 : MOV ECX,ESI
00713168 : CALL EDX
0071316a : MOV EAX,dword ptr [ESI]
0071316c : MOV EDX,dword ptr [EAX + 0x30]
0071316f : LEA ECX,[EBP + -0x10]
00713172 : PUSH ECX
00713173 : PUSH 0x9c28925a
00713178 : MOV ECX,ESI
0071317a : CALL EDX
0071317c : CMP dword ptr [EDI + 0x24],0x8
00713180 : JC 0x00713187
00713182 : MOV EDX,dword ptr [EDI + 0x10]
00713185 : JMP 0x0071318a
00713187 : LEA EDX,[EDI + 0x10]
0071318a : XOR EAX,EAX
0071318c : MOV word ptr [EBP + -0x30],AX
00713190 : MOV EAX,EDX
00713192 : LEA ECX,[EAX + 0x2]
00713195 : MOV dword ptr [EBP + -0x1c],0x7
0071319c : MOV dword ptr [EBP + -0x20],0x0
007131a3 : MOV dword ptr [EBP + -0x14],ECX
007131a6 : MOV CX,word ptr [EAX]
007131a9 : ADD EAX,0x2
007131ac : TEST CX,CX
007131af : JNZ 0x007131a6
007131b1 : SUB EAX,dword ptr [EBP + -0x14]
007131b4 : LEA ECX,[EBP + -0x34]
007131b7 : SAR EAX,0x1
007131b9 : PUSH EAX
007131ba : PUSH EDX
007131bb : CALL 0x00406360
007131c0 : MOV dword ptr [EBP + -0x4],0x0
007131c7 : MOV EDX,dword ptr [ESI]
007131c9 : MOV EDX,dword ptr [EDX + 0x38]
007131cc : LEA EAX,[EBP + -0x34]
007131cf : PUSH EAX
007131d0 : MOV ECX,ESI
007131d2 : CALL EDX
007131d4 : MOV dword ptr [EBP + -0x4],0xffffffff
007131db : CMP dword ptr [EBP + -0x1c],0x8
007131df : JC 0x007131e9
007131e1 : MOV ECX,dword ptr [EBP + -0x30]
007131e4 : CALL 0x006f04e0
007131e9 : MOV EDX,dword ptr [ESI]
007131eb : MOV EDX,dword ptr [EDX + 0x34]
007131ee : XOR EAX,EAX
007131f0 : MOV word ptr [EBP + -0x30],AX
007131f4 : MOV EAX,dword ptr [EBP + -0x10]
007131f7 : PUSH EAX
007131f8 : MOV ECX,ESI
007131fa : MOV dword ptr [EBP + -0x1c],0x7
00713201 : MOV dword ptr [EBP + -0x20],0x0
00713208 : CALL EDX
0071320a : MOV EAX,dword ptr [ESI]
0071320c : MOV EDX,dword ptr [EAX + 0x30]
0071320f : LEA ECX,[EBP + -0x10]
00713212 : PUSH ECX
00713213 : PUSH 0x9c28923b
00713218 : MOV ECX,ESI
0071321a : CALL EDX
0071321c : MOV EAX,dword ptr [ESI]
0071321e : MOV EDX,dword ptr [EAX + 0x10]
00713221 : PUSH 0x1
00713223 : PUSH 0x2
00713225 : LEA ECX,[EDI + 0x44]
00713228 : PUSH ECX
00713229 : MOV ECX,ESI
0071322b : CALL EDX
0071322d : MOV ECX,dword ptr [EBP + -0x10]
00713230 : MOV EAX,dword ptr [ESI]
00713232 : MOV EDX,dword ptr [EAX + 0x34]
00713235 : PUSH ECX
00713236 : MOV ECX,ESI
00713238 : CALL EDX
0071323a : MOV EAX,dword ptr [ESI]
0071323c : MOV EDX,dword ptr [EAX + 0x30]
0071323f : LEA ECX,[EBP + -0x10]
00713242 : PUSH ECX
00713243 : PUSH 0x9c28927c
00713248 : MOV ECX,ESI
0071324a : CALL EDX
0071324c : MOV EAX,dword ptr [ESI]
0071324e : MOV EDX,dword ptr [EAX + 0x10]
00713251 : PUSH 0x1
00713253 : PUSH 0x1
00713255 : LEA ECX,[EDI + 0x46]
00713258 : PUSH ECX
00713259 : MOV ECX,ESI
0071325b : CALL EDX
0071325d : MOV ECX,dword ptr [EBP + -0x10]
00713260 : MOV EAX,dword ptr [ESI]
00713262 : MOV EDX,dword ptr [EAX + 0x34]
00713265 : PUSH ECX
00713266 : MOV ECX,ESI
00713268 : CALL EDX
0071326a : MOV EAX,dword ptr [ESI]
0071326c : MOV EDX,dword ptr [EAX + 0x30]
0071326f : LEA ECX,[EBP + -0x10]
00713272 : PUSH ECX
00713273 : PUSH 0x9c28929e
00713278 : MOV ECX,ESI
0071327a : CALL EDX
0071327c : MOV EAX,dword ptr [ESI]
0071327e : MOV EDX,dword ptr [EAX + 0x10]
00713281 : PUSH 0x1
00713283 : PUSH 0x10
00713285 : LEA ECX,[EDI + 0x47]
00713288 : PUSH ECX
00713289 : MOV ECX,ESI
0071328b : CALL EDX
0071328d : MOV ECX,dword ptr [EBP + -0x10]
00713290 : MOV EAX,dword ptr [ESI]
00713292 : MOV EDX,dword ptr [EAX + 0x34]
00713295 : PUSH ECX
00713296 : MOV ECX,ESI
00713298 : CALL EDX
0071329a : MOV EAX,dword ptr [ESI]
0071329c : MOV EDX,dword ptr [EAX + 0x30]
0071329f : LEA ECX,[EBP + -0x10]
007132a2 : PUSH ECX
007132a3 : PUSH 0x9c2892bd
007132a8 : MOV ECX,ESI
007132aa : CALL EDX
007132ac : MOV EAX,dword ptr [ESI]
007132ae : MOV EDX,dword ptr [EAX + 0x10]
007132b1 : PUSH 0x1
007132b3 : PUSH 0x4
007132b5 : LEA ECX,[EDI + 0x5c]
007132b8 : PUSH ECX
007132b9 : MOV ECX,ESI
007132bb : CALL EDX
007132bd : MOV EAX,dword ptr [ESI]
007132bf : MOV EDX,dword ptr [EAX + 0x10]
007132c2 : PUSH 0x1
007132c4 : PUSH 0x4
007132c6 : ADD EDI,0x60
007132c9 : PUSH EDI
007132ca : MOV ECX,ESI
007132cc : CALL EDX
007132ce : MOV ECX,dword ptr [EBP + -0x10]
007132d1 : MOV EAX,dword ptr [ESI]
007132d3 : MOV EDX,dword ptr [EAX + 0x34]
007132d6 : PUSH ECX
007132d7 : MOV ECX,ESI
007132d9 : CALL EDX
007132db : MOV ECX,dword ptr [EBP + -0x18]
007132de : MOV EAX,dword ptr [ESI]
007132e0 : MOV EDX,dword ptr [EAX + 0x34]
007132e3 : PUSH ECX
007132e4 : MOV ECX,ESI
007132e6 : CALL EDX
007132e8 : MOV AL,0x1
007132ea : MOV ECX,dword ptr [EBP + -0xc]
007132ed : MOV dword ptr FS:[0x0],ECX
007132f4 : POP ECX
007132f5 : POP EDI
007132f6 : MOV ESP,EBP
007132f8 : POP EBP
007132f9 : RET
