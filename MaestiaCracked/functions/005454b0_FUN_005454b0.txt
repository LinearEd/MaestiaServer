PROGRAM  : Maestia.exe
FUNCTION : FUN_005454b0
ENTRY    : 005454b0
BODY     : [[005454b0, 00545527]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005454b0(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0xc0);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 2;
  iVar1 = FUN_00515d60(param_1,uVar2 * 0xc0,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
005454b0 : MOV EAX,dword ptr [ESP + 0x8]
005454b4 : PUSH EDI
005454b5 : MOV EDI,ECX
005454b7 : TEST EAX,EAX
005454b9 : JNZ 0x005454d8
005454bb : MOV EAX,dword ptr [EDI]
005454bd : TEST EAX,EAX
005454bf : JZ 0x005454cd
005454c1 : PUSH EAX
005454c2 : CALL 0x00515cf0
005454c7 : MOV dword ptr [EDI],0x0
005454cd : MOV dword ptr [EDI + 0x8],0x0
005454d4 : POP EDI
005454d5 : RET 0x8
005454d8 : PUSH ESI
005454d9 : LEA ESI,[EAX + 0x3]
005454dc : MOV EAX,dword ptr [EDI]
005454de : SHR ESI,0x2
005454e1 : ADD ESI,ESI
005454e3 : ADD ESI,ESI
005454e5 : TEST EAX,EAX
005454e7 : JZ 0x00545500
005454e9 : LEA ECX,[ESI + ESI*0x2]
005454ec : SHL ECX,0x4
005454ef : PUSH ECX
005454f0 : PUSH EAX
005454f1 : CALL 0x00515c80
005454f6 : MOV dword ptr [EDI + 0x8],ESI
005454f9 : POP ESI
005454fa : MOV dword ptr [EDI],EAX
005454fc : POP EDI
005454fd : RET 0x8
00545500 : MOV ECX,dword ptr [ESP + 0xc]
00545504 : LEA EDX,[ESP + 0x10]
00545508 : PUSH EDX
00545509 : LEA EAX,[ESI + ESI*0x2]
0054550c : SHL EAX,0x4
0054550f : PUSH EAX
00545510 : PUSH ECX
00545511 : MOV dword ptr [ESP + 0x1c],0x2
00545519 : CALL 0x00515d60
0054551e : MOV dword ptr [EDI + 0x8],ESI
00545521 : POP ESI
00545522 : MOV dword ptr [EDI],EAX
00545524 : POP EDI
00545525 : RET 0x8
