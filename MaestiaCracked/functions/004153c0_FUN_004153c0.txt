PROGRAM  : Maestia.exe
FUNCTION : FUN_004153c0
ENTRY    : 004153c0
BODY     : [[004153c0, 0041541c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004153c0(int *param_1,int param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  int unaff_EDI;
  
  iVar1 = *(int *)(unaff_EDI + 8) - *(int *)(unaff_EDI + 4);
  iVar2 = iVar1 >> 0x1f;
  if (iVar1 / 0x28 + iVar2 == iVar2) {
    iVar2 = 0;
  }
  else {
    iVar2 = (param_2 - *(int *)(unaff_EDI + 4)) / 0x28;
  }
  FUN_00415f10(unaff_EDI,param_2,param_3);
  *param_1 = *(int *)(unaff_EDI + 4) + iVar2 * 0x28;
  return;
}



============================================================
DISASSEMBLY
============================================================
004153c0 : PUSH EBP
004153c1 : MOV EBP,ESP
004153c3 : PUSH ECX
004153c4 : MOV ECX,dword ptr [EDI + 0x8]
004153c7 : PUSH EBX
004153c8 : MOV EBX,dword ptr [EBP + 0xc]
004153cb : PUSH ESI
004153cc : MOV ESI,dword ptr [EDI + 0x4]
004153cf : SUB ECX,ESI
004153d1 : MOV EAX,0x66666667
004153d6 : IMUL ECX
004153d8 : SAR EDX,0x4
004153db : MOV EAX,EDX
004153dd : SHR EAX,0x1f
004153e0 : ADD EAX,EDX
004153e2 : JNZ 0x004153e8
004153e4 : XOR ESI,ESI
004153e6 : JMP 0x004153fd
004153e8 : MOV ECX,EBX
004153ea : SUB ECX,ESI
004153ec : MOV EAX,0x66666667
004153f1 : IMUL ECX
004153f3 : SAR EDX,0x4
004153f6 : MOV ESI,EDX
004153f8 : SHR ESI,0x1f
004153fb : ADD ESI,EDX
004153fd : MOV ECX,dword ptr [EBP + 0x10]
00415400 : PUSH ECX
00415401 : PUSH EBX
00415402 : PUSH EDI
00415403 : CALL 0x00415f10
00415408 : MOV EAX,dword ptr [EDI + 0x4]
0041540b : LEA EDX,[ESI + ESI*0x4]
0041540e : LEA ECX,[EAX + EDX*0x8]
00415411 : MOV EAX,dword ptr [EBP + 0x8]
00415414 : POP ESI
00415415 : MOV dword ptr [EAX],ECX
00415417 : POP EBX
00415418 : POP ECX
00415419 : POP EBP
0041541a : RET 0xc
