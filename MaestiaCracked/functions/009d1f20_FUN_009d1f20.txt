PROGRAM  : Maestia.exe
FUNCTION : FUN_009d1f20
ENTRY    : 009d1f20
BODY     : [[009d1f20, 009d206c] [009d2070, 009d2283]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009d1f20(int param_1,undefined4 param_2)

{
  undefined4 ****ppppuVar1;
  uint uVar2;
  undefined4 ******ppppppuVar3;
  int iVar4;
  undefined4 *****pppppuVar5;
  int iVar6;
  undefined1 local_98 [8];
  undefined1 local_90 [4];
  uint local_8c;
  undefined4 ****local_88;
  undefined4 *****local_84;
  int local_80;
  undefined4 *****local_7c;
  uint local_78;
  undefined1 local_74 [44];
  undefined4 *****local_48 [4];
  int local_38;
  uint local_34;
  undefined4 *****local_2c [4];
  int local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2da94;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_80 = param_1;
  local_2c[0] = (undefined4 *****)((uint)local_2c[0] & 0xffff0000);
  local_18 = 7;
  local_1c = 0;
  local_14 = uVar2;
  FUN_00405eb0(param_2,0,0xffffffff);
  local_8 = 0;
  if (local_18 < 8) {
    local_7c = local_2c;
  }
  else {
    local_7c = local_2c[0];
  }
  ppppppuVar3 = (undefined4 ******)local_2c[0];
  if (local_18 < 8) {
    ppppppuVar3 = local_2c;
  }
  local_78 = local_78 & 0xffffff00;
  FUN_00412c80(local_90,0xfffffffc,ppppppuVar3,0xfffffffc,(int)local_7c + local_1c * 2,0xfffffffc,
               local_7c,local_8c,local_78,uVar2);
  iVar6 = local_80;
  FUN_00415420(local_80 + 0x154,&local_8c,*(undefined4 *)(local_80 + 0x158),
               *(undefined4 *)(local_80 + 0x15c));
  iVar4 = local_80;
  local_78 = 0;
  FUN_004437f0(&local_78);
  if ((undefined4 ******)local_84 != *(undefined4 *******)(iVar4 + 0x140)) {
    pppppuVar5 = (undefined4 *****)local_84[4];
    local_88 = pppppuVar5;
    if (pppppuVar5 == (undefined4 *****)0x0) {
      local_8 = 0xffffffff;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      goto LAB_009d2259;
    }
    uVar2 = (int)pppppuVar5[2] - (int)pppppuVar5[1] >> 2;
    local_7c = (undefined4 ******)0x0;
    local_78 = uVar2;
    if (0 < (int)uVar2) {
      do {
        ppppppuVar3 = (undefined4 ******)local_7c;
        if (pppppuVar5[1][(int)local_7c] != (undefined4 ***)0x0) {
          local_48[0] = (undefined4 *****)((uint)local_48[0] & 0xffff0000);
          local_34 = 7;
          local_38 = 0;
          FUN_00405eb0(pppppuVar5[1][(int)local_7c] + 1,0,0xffffffff);
          local_8._0_1_ = 1;
          if (local_34 < 8) {
            local_84 = local_48;
          }
          else {
            local_84 = local_48[0];
          }
          ppppppuVar3 = (undefined4 ******)local_48[0];
          if (local_34 < 8) {
            ppppppuVar3 = local_48;
          }
          local_8c = local_8c & 0xffffff00;
          FUN_00412c80(local_98,0xfffffffc,ppppppuVar3,0xfffffffc,(int)local_84 + local_38 * 2,
                       0xfffffffc,local_84,local_8c,local_8c);
          ppppppuVar3 = (undefined4 ******)local_2c[0];
          if (local_18 < 8) {
            ppppppuVar3 = local_2c;
          }
          iVar4 = FUN_00407c10(ppppppuVar3,local_1c);
          ppppppuVar3 = (undefined4 ******)local_7c;
          if (iVar4 == -1) {
            local_8 = (uint)local_8._1_3_ << 8;
            if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
              FUN_006f04e0();
            }
          }
          else {
            ppppuVar1 = (undefined4 ****)local_88[1];
            FUN_0041be70(local_74,ppppuVar1[(int)local_7c][8],
                         (uint)ppppuVar1[(int)local_7c][0xb] >> 0x10 & 0xff,
                         (uint)ppppuVar1[(int)local_7c][0xb] >> 8 & 0xff,
                         ppppuVar1[(int)local_7c] + 1);
            local_8._0_1_ = 2;
            FUN_00414e00(local_74);
            local_8._0_1_ = 1;
            FUN_00414770(local_74);
            local_8 = (uint)local_8._1_3_ << 8;
            if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
              FUN_006f04e0();
            }
          }
          local_48[0] = (undefined4 *****)((uint)local_48[0] & 0xffff0000);
          local_38 = 0;
          local_34 = 7;
          uVar2 = local_78;
          pppppuVar5 = (undefined4 *****)local_88;
        }
        local_7c = (undefined4 *****)((int)ppppppuVar3 + 1);
      } while ((int)local_7c < (int)uVar2);
    }
  }
  FUN_00415420(local_80 + 0x164,&local_8c,*(undefined4 *)(local_80 + 0x168),
               *(undefined4 *)(local_80 + 0x16c));
  iVar6 = (*(int *)(iVar6 + 0x15c) - *(int *)(iVar6 + 0x158)) / 0x28;
  if (0 < iVar6) {
    iVar4 = 0;
    do {
      FUN_00414e00(*(int *)(local_80 + 0x158) + iVar4);
      iVar4 = iVar4 + 0x28;
      iVar6 = iVar6 + -1;
    } while (iVar6 != 0);
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
LAB_009d2259:
  local_8 = 0xffffffff;
  local_1c = 0;
  local_2c[0] = (undefined4 *****)((uint)local_2c[0] & 0xffff0000);
  local_18 = 7;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009d1f20 : PUSH EBP
009d1f21 : MOV EBP,ESP
009d1f23 : PUSH -0x1
009d1f25 : PUSH 0xb2da94
009d1f2a : MOV EAX,FS:[0x0]
009d1f30 : PUSH EAX
009d1f31 : SUB ESP,0x8c
009d1f37 : MOV EAX,[0x00d66fa0]
009d1f3c : XOR EAX,EBP
009d1f3e : MOV dword ptr [EBP + -0x10],EAX
009d1f41 : PUSH EBX
009d1f42 : PUSH ESI
009d1f43 : PUSH EDI
009d1f44 : PUSH EAX
009d1f45 : LEA EAX,[EBP + -0xc]
009d1f48 : MOV FS:[0x0],EAX
009d1f4e : MOV EAX,dword ptr [EBP + 0x8]
009d1f51 : PUSH -0x1
009d1f53 : XOR ESI,ESI
009d1f55 : XOR ECX,ECX
009d1f57 : MOV dword ptr [EBP + -0x7c],EAX
009d1f5a : MOV EAX,dword ptr [EBP + 0xc]
009d1f5d : PUSH ESI
009d1f5e : MOV word ptr [EBP + -0x28],CX
009d1f62 : PUSH EAX
009d1f63 : LEA ECX,[EBP + -0x2c]
009d1f66 : MOV dword ptr [EBP + -0x14],0x7
009d1f6d : MOV dword ptr [EBP + -0x18],ESI
009d1f70 : CALL 0x00405eb0
009d1f75 : MOV dword ptr [EBP + -0x4],ESI
009d1f78 : MOV EAX,dword ptr [EBP + -0x14]
009d1f7b : MOV EDI,dword ptr [EBP + -0x28]
009d1f7e : CMP EAX,0x8
009d1f81 : JC 0x009d1f88
009d1f83 : MOV dword ptr [EBP + -0x78],EDI
009d1f86 : JMP 0x009d1f8e
009d1f88 : LEA EDX,[EBP + -0x28]
009d1f8b : MOV dword ptr [EBP + -0x78],EDX
009d1f8e : MOV ECX,EDI
009d1f90 : CMP EAX,0x8
009d1f93 : JNC 0x009d1f98
009d1f95 : LEA ECX,[EBP + -0x28]
009d1f98 : MOV EDX,dword ptr [EBP + -0x18]
009d1f9b : LEA ECX,[ECX + EDX*0x2]
009d1f9e : MOV EDX,0xfffffffc
009d1fa3 : CMP EAX,0x8
009d1fa6 : JNC 0x009d1fab
009d1fa8 : LEA EDI,[EBP + -0x28]
009d1fab : MOV byte ptr [EBP + -0x74],0x0
009d1faf : MOV EBX,dword ptr [EBP + -0x74]
009d1fb2 : PUSH EBX
009d1fb3 : MOV EBX,dword ptr [EBP + 0xffffff78]
009d1fb9 : PUSH EBX
009d1fba : MOV EBX,dword ptr [EBP + -0x78]
009d1fbd : PUSH EBX
009d1fbe : MOV EAX,EDX
009d1fc0 : MOV EBX,EAX
009d1fc2 : PUSH EBX
009d1fc3 : PUSH ECX
009d1fc4 : PUSH EDX
009d1fc5 : PUSH EDI
009d1fc6 : PUSH EAX
009d1fc7 : LEA EAX,[EBP + 0xffffff74]
009d1fcd : PUSH EAX
009d1fce : MOV EDI,0x9d04e0
009d1fd3 : CALL 0x00412c80
009d1fd8 : MOV EBX,dword ptr [EBP + -0x7c]
009d1fdb : MOV EAX,dword ptr [EBX + 0x15c]
009d1fe1 : MOV ECX,dword ptr [EBX + 0x158]
009d1fe7 : ADD ESP,0x24
009d1fea : ADD EBX,0x154
009d1ff0 : PUSH EAX
009d1ff1 : PUSH ECX
009d1ff2 : LEA ECX,[EBP + 0xffffff78]
009d1ff8 : PUSH ECX
009d1ff9 : PUSH EBX
009d1ffa : CALL 0x00415420
009d1fff : MOV EDI,dword ptr [EBP + -0x7c]
009d2002 : LEA EDX,[EBP + -0x74]
009d2005 : PUSH EDX
009d2006 : LEA ECX,[EDI + 0x13c]
009d200c : LEA EAX,[EBP + -0x80]
009d200f : MOV dword ptr [EBP + -0x74],ESI
009d2012 : CALL 0x004437f0
009d2017 : MOV EAX,dword ptr [EDI + 0x140]
009d201d : MOV ECX,dword ptr [EBP + -0x80]
009d2020 : CMP ECX,EAX
009d2022 : JZ 0x009d21df
009d2028 : MOV EDX,dword ptr [ECX + 0x10]
009d202b : MOV dword ptr [EBP + 0xffffff7c],EDX
009d2031 : CMP EDX,ESI
009d2033 : JNZ 0x009d2052
009d2035 : MOV dword ptr [EBP + -0x4],0xffffffff
009d203c : CMP dword ptr [EBP + -0x14],0x8
009d2040 : JC 0x009d204a
009d2042 : MOV ECX,dword ptr [EBP + -0x28]
009d2045 : CALL 0x006f04e0
009d204a : MOV dword ptr [EBP + -0x18],ESI
009d204d : JMP 0x009d2259
009d2052 : MOV ECX,dword ptr [EDX + 0x8]
009d2055 : SUB ECX,dword ptr [EDX + 0x4]
009d2058 : XOR EDI,EDI
009d205a : SAR ECX,0x2
009d205d : CMP ECX,ESI
009d205f : MOV dword ptr [EBP + -0x74],ECX
009d2062 : MOV dword ptr [EBP + -0x78],EDI
009d2065 : JLE 0x009d21df
009d206b : JMP 0x009d2070
009d2070 : MOV EAX,dword ptr [EDX + 0x4]
009d2073 : CMP dword ptr [EAX + EDI*0x4],ESI
009d2076 : LEA EAX,[EAX + EDI*0x4]
009d2079 : JZ 0x009d21d3
009d207f : MOV EAX,dword ptr [EAX]
009d2081 : PUSH -0x1
009d2083 : XOR ECX,ECX
009d2085 : ADD EAX,0x4
009d2088 : PUSH ESI
009d2089 : MOV word ptr [EBP + -0x44],CX
009d208d : PUSH EAX
009d208e : LEA ECX,[EBP + -0x48]
009d2091 : MOV dword ptr [EBP + -0x30],0x7
009d2098 : MOV dword ptr [EBP + -0x34],ESI
009d209b : CALL 0x00405eb0
009d20a0 : MOV byte ptr [EBP + -0x4],0x1
009d20a4 : MOV EAX,dword ptr [EBP + -0x30]
009d20a7 : MOV EDI,dword ptr [EBP + -0x44]
009d20aa : CMP EAX,0x8
009d20ad : JC 0x009d20b4
009d20af : MOV dword ptr [EBP + -0x80],EDI
009d20b2 : JMP 0x009d20ba
009d20b4 : LEA EDX,[EBP + -0x44]
009d20b7 : MOV dword ptr [EBP + -0x80],EDX
009d20ba : MOV ECX,EDI
009d20bc : CMP EAX,0x8
009d20bf : JNC 0x009d20c4
009d20c1 : LEA ECX,[EBP + -0x44]
009d20c4 : MOV EDX,dword ptr [EBP + -0x34]
009d20c7 : LEA ECX,[ECX + EDX*0x2]
009d20ca : MOV EDX,0xfffffffc
009d20cf : CMP EAX,0x8
009d20d2 : JNC 0x009d20d7
009d20d4 : LEA EDI,[EBP + -0x44]
009d20d7 : MOV byte ptr [EBP + 0xffffff78],0x0
009d20de : MOV ESI,dword ptr [EBP + 0xffffff78]
009d20e4 : PUSH ESI
009d20e5 : MOV ESI,dword ptr [EBP + 0xffffff78]
009d20eb : PUSH ESI
009d20ec : MOV ESI,dword ptr [EBP + -0x80]
009d20ef : PUSH ESI
009d20f0 : MOV EAX,EDX
009d20f2 : MOV ESI,EAX
009d20f4 : PUSH ESI
009d20f5 : PUSH ECX
009d20f6 : PUSH EDX
009d20f7 : PUSH EDI
009d20f8 : PUSH EAX
009d20f9 : LEA EAX,[EBP + 0xffffff6c]
009d20ff : PUSH EAX
009d2100 : MOV EDI,0x9d04e0
009d2105 : CALL 0x00412c80
009d210a : MOV EAX,dword ptr [EBP + -0x28]
009d210d : MOV ESI,0x8
009d2112 : ADD ESP,0x24
009d2115 : CMP dword ptr [EBP + -0x14],ESI
009d2118 : JNC 0x009d211d
009d211a : LEA EAX,[EBP + -0x28]
009d211d : MOV ECX,dword ptr [EBP + -0x18]
009d2120 : PUSH ECX
009d2121 : PUSH EAX
009d2122 : XOR EAX,EAX
009d2124 : LEA EDX,[EBP + -0x48]
009d2127 : CALL 0x00407c10
009d212c : CMP EAX,-0x1
009d212f : JNZ 0x009d2147
009d2131 : MOV byte ptr [EBP + -0x4],0x0
009d2135 : CMP dword ptr [EBP + -0x30],ESI
009d2138 : JC 0x009d2142
009d213a : MOV ECX,dword ptr [EBP + -0x44]
009d213d : CALL 0x006f04e0
009d2142 : MOV EDI,dword ptr [EBP + -0x78]
009d2145 : JMP 0x009d21b8
009d2147 : MOV EAX,dword ptr [EBP + 0xffffff7c]
009d214d : MOV ECX,dword ptr [EAX + 0x4]
009d2150 : MOV EDI,dword ptr [EBP + -0x78]
009d2153 : MOV EDX,dword ptr [ECX + EDI*0x4]
009d2156 : MOV EDX,dword ptr [EDX + 0x2c]
009d2159 : MOV ESI,dword ptr [ECX + EDI*0x4]
009d215c : LEA EAX,[ECX + EDI*0x4]
009d215f : MOV EAX,dword ptr [EAX]
009d2161 : MOV ECX,EDX
009d2163 : SHR EDX,0x8
009d2166 : MOVZX DX,DL
009d216a : SHR ECX,0x10
009d216d : MOVZX EDX,DX
009d2170 : MOVZX CX,CL
009d2174 : ADD ESI,0x4
009d2177 : PUSH ESI
009d2178 : PUSH EDX
009d2179 : MOVZX EDX,CX
009d217c : MOV ECX,dword ptr [EAX + 0x20]
009d217f : PUSH EDX
009d2180 : PUSH ECX
009d2181 : LEA EDX,[EBP + -0x70]
009d2184 : PUSH EDX
009d2185 : CALL 0x0041be70
009d218a : MOV byte ptr [EBP + -0x4],0x2
009d218e : LEA EAX,[EBP + -0x70]
009d2191 : PUSH EAX
009d2192 : MOV EAX,EBX
009d2194 : CALL 0x00414e00
009d2199 : MOV byte ptr [EBP + -0x4],0x1
009d219d : LEA ECX,[EBP + -0x70]
009d21a0 : PUSH ECX
009d21a1 : CALL 0x00414770
009d21a6 : MOV byte ptr [EBP + -0x4],0x0
009d21aa : CMP dword ptr [EBP + -0x30],0x8
009d21ae : JC 0x009d21b8
009d21b0 : MOV ECX,dword ptr [EBP + -0x44]
009d21b3 : CALL 0x006f04e0
009d21b8 : MOV ECX,dword ptr [EBP + -0x74]
009d21bb : XOR ESI,ESI
009d21bd : XOR EDX,EDX
009d21bf : MOV word ptr [EBP + -0x44],DX
009d21c3 : MOV EDX,dword ptr [EBP + 0xffffff7c]
009d21c9 : MOV dword ptr [EBP + -0x34],ESI
009d21cc : MOV dword ptr [EBP + -0x30],0x7
009d21d3 : INC EDI
009d21d4 : CMP EDI,ECX
009d21d6 : MOV dword ptr [EBP + -0x78],EDI
009d21d9 : JL 0x009d2070
009d21df : MOV ESI,dword ptr [EBP + -0x7c]
009d21e2 : MOV EAX,dword ptr [ESI + 0x16c]
009d21e8 : MOV ECX,dword ptr [ESI + 0x168]
009d21ee : ADD ESI,0x164
009d21f4 : PUSH EAX
009d21f5 : PUSH ECX
009d21f6 : LEA EAX,[EBP + 0xffffff78]
009d21fc : PUSH EAX
009d21fd : PUSH ESI
009d21fe : CALL 0x00415420
009d2203 : MOV ECX,dword ptr [EBX + 0x8]
009d2206 : SUB ECX,dword ptr [EBX + 0x4]
009d2209 : MOV EAX,0x66666667
009d220e : IMUL ECX
009d2210 : SAR EDX,0x4
009d2213 : MOV EAX,EDX
009d2215 : SHR EAX,0x1f
009d2218 : ADD EAX,EDX
009d221a : TEST EAX,EAX
009d221c : JLE 0x009d223d
009d221e : XOR EDI,EDI
009d2220 : MOV EBX,EAX
009d2222 : MOV ECX,dword ptr [EBP + -0x7c]
009d2225 : MOV EDX,dword ptr [ECX + 0x158]
009d222b : ADD EDX,EDI
009d222d : PUSH EDX
009d222e : MOV EAX,ESI
009d2230 : CALL 0x00414e00
009d2235 : ADD EDI,0x28
009d2238 : SUB EBX,0x1
009d223b : JNZ 0x009d2222
009d223d : MOV dword ptr [EBP + -0x4],0xffffffff
009d2244 : CMP dword ptr [EBP + -0x14],0x8
009d2248 : JC 0x009d2252
009d224a : MOV ECX,dword ptr [EBP + -0x28]
009d224d : CALL 0x006f04e0
009d2252 : MOV dword ptr [EBP + -0x18],0x0
009d2259 : XOR EAX,EAX
009d225b : MOV word ptr [EBP + -0x28],AX
009d225f : MOV dword ptr [EBP + -0x14],0x7
009d2266 : MOV ECX,dword ptr [EBP + -0xc]
009d2269 : MOV dword ptr FS:[0x0],ECX
009d2270 : POP ECX
009d2271 : POP EDI
009d2272 : POP ESI
009d2273 : POP EBX
009d2274 : MOV ECX,dword ptr [EBP + -0x10]
009d2277 : XOR ECX,EBP
009d2279 : CALL 0x00633e6b
009d227e : MOV ESP,EBP
009d2280 : POP EBP
009d2281 : RET 0x8
