PROGRAM  : Maestia.exe
FUNCTION : FUN_005bb910
ENTRY    : 005bb910
BODY     : [[005bb910, 005bb9c6]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005bb910(int param_1,int *param_2)

{
  uint *puVar1;
  int *piVar2;
  undefined1 *puVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int in_ECX;
  int iVar8;
  
  iVar7 = param_1;
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 0x10;
  puVar1 = (uint *)(param_1 + 8);
  if (*(uint *)(param_1 + 0x10) <= *(uint *)(param_1 + 8)) {
    FUN_00504050();
  }
  puVar3 = (undefined1 *)*puVar1;
  if (puVar3 != (undefined1 *)0x0) {
    *puVar3 = 5;
    iVar8 = *param_2;
    *(int *)(puVar3 + 4) = iVar8;
    piVar2 = (int *)(iVar8 + 8);
    *piVar2 = *piVar2 + 1;
  }
  if (in_ECX == 0) {
    iVar8 = 0;
  }
  else {
    iVar8 = in_ECX + 0x10;
  }
  uVar4 = *puVar1;
  iVar5 = *(int *)(iVar7 + 0xc);
  iVar6 = *(int *)(iVar7 + 0x1c);
  param_1 = FUN_00525380("onData",6,0);
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + 1;
  FUN_0057bb40(iVar7,iVar8,&param_1,1,((int)(uVar4 - iVar5) >> 4) + -0x20 + iVar6 * 0x20);
  *(int *)(param_1 + 8) = *(int *)(param_1 + 8) + -1;
  if (*(int *)(param_1 + 8) == 0) {
    FUN_00525340();
  }
  FUN_00526bc0();
  *puVar1 = *puVar1 - 0x10;
  if (*puVar1 < *(uint *)(iVar7 + 0xc)) {
    FUN_00504f30();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005bb910 : PUSH EBX
005bb911 : MOV EBX,dword ptr [ESP + 0x8]
005bb915 : ADD dword ptr [EBX + 0x8],0x10
005bb919 : MOV EAX,dword ptr [EBX + 0x8]
005bb91c : PUSH EBP
005bb91d : PUSH ESI
005bb91e : LEA ESI,[EBX + 0x8]
005bb921 : PUSH EDI
005bb922 : MOV EBP,ECX
005bb924 : CMP EAX,dword ptr [ESI + 0x8]
005bb927 : JC 0x005bb930
005bb929 : MOV ECX,ESI
005bb92b : CALL 0x00504050
005bb930 : MOV EAX,dword ptr [ESI]
005bb932 : TEST EAX,EAX
005bb934 : JZ 0x005bb945
005bb936 : MOV ECX,dword ptr [ESP + 0x18]
005bb93a : MOV byte ptr [EAX],0x5
005bb93d : MOV ECX,dword ptr [ECX]
005bb93f : MOV dword ptr [EAX + 0x4],ECX
005bb942 : INC dword ptr [ECX + 0x8]
005bb945 : TEST EBP,EBP
005bb947 : JZ 0x005bb94e
005bb949 : ADD EBP,0x10
005bb94c : JMP 0x005bb950
005bb94e : XOR EBP,EBP
005bb950 : MOV EDX,dword ptr [ESI]
005bb952 : SUB EDX,dword ptr [ESI + 0x4]
005bb955 : MOV EAX,dword ptr [ESI + 0x14]
005bb958 : SHL EAX,0x5
005bb95b : SAR EDX,0x4
005bb95e : PUSH 0x0
005bb960 : LEA EDI,[EDX + EAX*0x1 + -0x20]
005bb964 : MOV EAX,dword ptr [EBX + 0x78]
005bb967 : PUSH 0x6
005bb969 : PUSH 0xb8fa98
005bb96e : LEA ECX,[EAX + 0x254]
005bb974 : CALL 0x00525380
005bb979 : PUSH EDI
005bb97a : PUSH 0x1
005bb97c : LEA ECX,[ESP + 0x1c]
005bb980 : PUSH ECX
005bb981 : PUSH EBP
005bb982 : MOV dword ptr [ESP + 0x24],EAX
005bb986 : INC dword ptr [EAX + 0x8]
005bb989 : PUSH EBX
005bb98a : CALL 0x0057bb40
005bb98f : MOV EAX,dword ptr [ESP + 0x28]
005bb993 : DEC dword ptr [EAX + 0x8]
005bb996 : MOV ECX,EAX
005bb998 : ADD EAX,0x8
005bb99b : ADD ESP,0x14
005bb99e : CMP dword ptr [EAX],0x0
005bb9a1 : JNZ 0x005bb9a8
005bb9a3 : CALL 0x00525340
005bb9a8 : MOV ECX,dword ptr [ESI]
005bb9aa : CALL 0x00526bc0
005bb9af : ADD dword ptr [ESI],-0x10
005bb9b2 : MOV EAX,dword ptr [ESI]
005bb9b4 : CMP EAX,dword ptr [ESI + 0x4]
005bb9b7 : JNC 0x005bb9c0
005bb9b9 : MOV ECX,ESI
005bb9bb : CALL 0x00504f30
005bb9c0 : POP EDI
005bb9c1 : POP ESI
005bb9c2 : POP EBP
005bb9c3 : POP EBX
005bb9c4 : RET 0x8
