PROGRAM  : Maestia.exe
FUNCTION : FUN_008c5110
ENTRY    : 008c5110
BODY     : [[008c5110, 008c5285]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_008c5110(void)

{
  short sVar1;
  int iVar2;
  int iVar3;
  short sVar4;
  uint uVar5;
  int *piVar6;
  undefined4 uVar7;
  undefined1 *puVar8;
  int local_24;
  int local_1c;
  int local_18;
  int local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b34e80;
  local_10 = ExceptionList;
  uVar5 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = 0;
  do {
    piVar6 = (int *)(**(code **)(**(int **)(*DAT_00da9894 + 0x200) + 0x74))(local_14,0,uVar5);
    iVar3 = DAT_00d7c54c;
    if (piVar6 != (int *)0x0) {
      iVar2 = piVar6[4];
      local_18 = iVar2;
      FUN_004437f0(&local_18);
      iVar3 = *(int *)(iVar3 + 0x44);
      if (((local_1c == iVar3) || (*(int *)(local_1c + 0x10) == 0)) ||
         ((*(uint *)(*(int *)(local_1c + 0x10) + 0x48) & 0x400000) == 0)) {
        local_18 = iVar2;
        FUN_004437f0(&local_18);
        if ((local_24 != iVar3) && (iVar3 = *(int *)(local_24 + 0x10), iVar3 != 0)) {
          sVar1 = *(short *)(iVar3 + 0xa4);
          sVar4 = (**(code **)(*piVar6 + 0x40))();
          sVar4 = sVar1 - sVar4;
          if (sVar4 != 0) {
            uVar7 = FUN_007035b0(sVar1,sVar4,*(undefined4 *)(iVar3 + 0x50));
            puVar8 = (undefined1 *)FUN_006f0760(0xc,"",0,(DAT_01725270 >> 3 & 1) == 0);
            if (puVar8 == (undefined1 *)0x0) {
              puVar8 = (undefined1 *)0x0;
            }
            else {
              *puVar8 = 0;
              *(undefined4 *)(puVar8 + 4) = 0;
              *(undefined4 *)(puVar8 + 8) = 0;
            }
            local_8 = 0xffffffff;
            *(int **)(puVar8 + 8) = piVar6;
            *puVar8 = 0;
            *(undefined4 *)(puVar8 + 4) = uVar7;
            FUN_00449730();
          }
        }
      }
    }
    local_14 = local_14 + 1;
  } while (local_14 < 4);
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
008c5110 : PUSH EBP
008c5111 : MOV EBP,ESP
008c5113 : PUSH -0x1
008c5115 : PUSH 0xb34e80
008c511a : MOV EAX,FS:[0x0]
008c5120 : PUSH EAX
008c5121 : SUB ESP,0x18
008c5124 : PUSH EBX
008c5125 : PUSH ESI
008c5126 : PUSH EDI
008c5127 : MOV EAX,[0x00d66fa0]
008c512c : XOR EAX,EBP
008c512e : PUSH EAX
008c512f : LEA EAX,[EBP + -0xc]
008c5132 : MOV FS:[0x0],EAX
008c5138 : XOR EDX,EDX
008c513a : MOV dword ptr [EBP + -0x10],EDX
008c513d : MOV EAX,[0x00da9894]
008c5142 : MOV EAX,dword ptr [EAX]
008c5144 : MOV ECX,dword ptr [EAX + 0x200]
008c514a : MOV EAX,dword ptr [ECX]
008c514c : PUSH 0x0
008c514e : PUSH EDX
008c514f : MOV EDX,dword ptr [EAX + 0x74]
008c5152 : CALL EDX
008c5154 : MOV EDI,EAX
008c5156 : MOV dword ptr [EBP + -0x24],EDI
008c5159 : TEST EDI,EDI
008c515b : JZ 0x008c5262
008c5161 : MOV EBX,dword ptr [0x00d7c54c]
008c5167 : MOV ESI,dword ptr [EDI + 0x10]
008c516a : LEA EAX,[EBP + -0x14]
008c516d : LEA ECX,[EBX + 0x40]
008c5170 : PUSH EAX
008c5171 : LEA EAX,[EBP + -0x18]
008c5174 : MOV dword ptr [EBP + -0x14],ESI
008c5177 : MOV dword ptr [EBP + -0x1c],ECX
008c517a : CALL 0x004437f0
008c517f : MOV EBX,dword ptr [EBX + 0x44]
008c5182 : MOV EAX,dword ptr [EBP + -0x18]
008c5185 : CMP EAX,EBX
008c5187 : JZ 0x008c51a2
008c5189 : MOV EAX,dword ptr [EAX + 0x10]
008c518c : TEST EAX,EAX
008c518e : JZ 0x008c51a2
008c5190 : MOV EAX,dword ptr [EAX + 0x48]
008c5193 : AND EAX,0x400000
008c5198 : XOR ECX,ECX
008c519a : OR EAX,ECX
008c519c : JNZ 0x008c5262
008c51a2 : LEA ECX,[EBP + -0x14]
008c51a5 : PUSH ECX
008c51a6 : MOV ECX,dword ptr [EBP + -0x1c]
008c51a9 : LEA EAX,[EBP + -0x20]
008c51ac : MOV dword ptr [EBP + -0x14],ESI
008c51af : CALL 0x004437f0
008c51b4 : MOV EAX,dword ptr [EBP + -0x20]
008c51b7 : CMP EAX,EBX
008c51b9 : JZ 0x008c5262
008c51bf : MOV ESI,dword ptr [EAX + 0x10]
008c51c2 : TEST ESI,ESI
008c51c4 : JZ 0x008c5262
008c51ca : MOV EDX,dword ptr [EDI]
008c51cc : MOV EAX,dword ptr [EDX + 0x40]
008c51cf : MOVZX EBX,word ptr [ESI + 0xa4]
008c51d6 : MOV ECX,EDI
008c51d8 : CALL EAX
008c51da : MOV CX,BX
008c51dd : SUB CX,AX
008c51e0 : MOVZX EAX,CX
008c51e3 : TEST AX,AX
008c51e6 : JZ 0x008c5262
008c51e8 : MOV EDX,dword ptr [ESI + 0x50]
008c51eb : MOVZX DI,byte ptr [ESI + 0x40]
008c51f0 : PUSH EDX
008c51f1 : PUSH EAX
008c51f2 : MOVZX EAX,BX
008c51f5 : PUSH EAX
008c51f6 : CALL 0x007035b0
008c51fb : MOV ECX,dword ptr [0x01725270]
008c5201 : ADD ESP,0xc
008c5204 : SHR ECX,0x3
008c5207 : MOV EDX,0x0
008c520c : AND ECX,0x1
008c520f : SETZ DL
008c5212 : XOR EDI,EDI
008c5214 : MOV ESI,EAX
008c5216 : PUSH EDX
008c5217 : PUSH EDI
008c5218 : PUSH 0xbf1a4a
008c521d : PUSH 0xc
008c521f : CALL 0x006f0760
008c5224 : ADD ESP,0x10
008c5227 : MOV dword ptr [EBP + -0x1c],EAX
008c522a : MOV dword ptr [EBP + -0x4],EDI
008c522d : CMP EAX,EDI
008c522f : JZ 0x008c523c
008c5231 : MOV byte ptr [EAX],0x0
008c5234 : MOV dword ptr [EAX + 0x4],EDI
008c5237 : MOV dword ptr [EAX + 0x8],EDI
008c523a : JMP 0x008c523e
008c523c : XOR EAX,EAX
008c523e : MOV dword ptr [EBP + -0x4],0xffffffff
008c5245 : MOV ECX,dword ptr [EBP + -0x24]
008c5248 : MOV EDX,dword ptr [EBP + 0x8]
008c524b : MOV dword ptr [EAX + 0x8],ECX
008c524e : MOV byte ptr [EAX],0x0
008c5251 : ADD EDX,0x38
008c5254 : LEA EDI,[EBP + -0x1c]
008c5257 : MOV dword ptr [EBP + -0x1c],EAX
008c525a : MOV dword ptr [EAX + 0x4],ESI
008c525d : CALL 0x00449730
008c5262 : MOV EDX,dword ptr [EBP + -0x10]
008c5265 : INC EDX
008c5266 : CMP EDX,0x3
008c5269 : MOV dword ptr [EBP + -0x10],EDX
008c526c : JLE 0x008c513d
008c5272 : MOV ECX,dword ptr [EBP + -0xc]
008c5275 : MOV dword ptr FS:[0x0],ECX
008c527c : POP ECX
008c527d : POP EDI
008c527e : POP ESI
008c527f : POP EBX
008c5280 : MOV ESP,EBP
008c5282 : POP EBP
008c5283 : RET 0x4
