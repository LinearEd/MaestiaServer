PROGRAM  : Maestia.exe
FUNCTION : FUN_005bcda0
ENTRY    : 005bcda0
BODY     : [[005bcda0, 005bceac]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_005bcda0(int *param_1,uint param_2)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  undefined4 *puVar6;
  int local_18;
  undefined1 local_14;
  
  iVar2 = param_2;
  uVar5 = 0;
  local_18 = param_2;
  local_14 = 8;
  iVar3 = FUN_00515840(0x38,0);
  if (iVar3 == 0) {
    uVar4 = 0;
  }
  else {
    uVar4 = FUN_005bbe90(&local_18,*(undefined4 *)(iVar2 + 0x284));
  }
  puVar1 = param_1;
  *(undefined1 *)(param_1 + 2) = 0;
  *param_1 = uVar4;
  param_1[1] = 0;
  iVar3 = FUN_00515840(0x50,0);
  if (iVar3 != 0) {
    puVar6 = puVar1;
    uVar4 = FUN_00530910(1);
    uVar5 = FUN_005bc710(&local_18,uVar4,puVar6);
    if (uVar5 != 0) {
      *(uint *)(uVar5 + 8) = *(int *)(uVar5 + 8) + 1U & 0x8fffffff;
    }
  }
  param_1 = (int *)0x12;
  param_2 = uVar5;
  FUN_0050ff10(&param_1,&param_2);
  if (param_2 != 0) {
    FUN_00503db0();
  }
  param_1 = (int *)(*(int *)(iVar2 + 0x2a0) + 0x10);
  param_2 = param_2 & 0xffffff00;
  iVar3 = *param_1;
  puVar6 = &param_2;
  uVar4 = FUN_00526210(puVar1);
  (**(code **)(iVar3 + 0x28))(&local_18,iVar2 + 0x50,uVar4,puVar6);
  FUN_00526bc0();
  if (uVar5 != 0) {
    FUN_00503db0();
  }
  return puVar1;
}



============================================================
DISASSEMBLY
============================================================
005bcda0 : SUB ESP,0x18
005bcda3 : PUSH EBX
005bcda4 : PUSH EBP
005bcda5 : PUSH ESI
005bcda6 : MOV ESI,dword ptr [ESP + 0x2c]
005bcdaa : MOV ECX,dword ptr [ESI + 0x288]
005bcdb0 : XOR EBX,EBX
005bcdb2 : PUSH EBX
005bcdb3 : PUSH 0x38
005bcdb5 : MOV dword ptr [ESP + 0x14],ESI
005bcdb9 : MOV byte ptr [ESP + 0x18],0x8
005bcdbe : CALL 0x00515840
005bcdc3 : CMP EAX,EBX
005bcdc5 : JZ 0x005bcddc
005bcdc7 : MOV ECX,dword ptr [ESI + 0x284]
005bcdcd : PUSH ECX
005bcdce : LEA ECX,[ESP + 0x10]
005bcdd2 : PUSH ECX
005bcdd3 : MOV ECX,EAX
005bcdd5 : CALL 0x005bbe90
005bcdda : JMP 0x005bcdde
005bcddc : XOR EAX,EAX
005bcdde : MOV EBP,dword ptr [ESP + 0x28]
005bcde2 : PUSH EDI
005bcde3 : PUSH EBX
005bcde4 : MOV byte ptr [EBP + 0x8],BL
005bcde7 : MOV dword ptr [EBP],EAX
005bcdea : MOV dword ptr [EBP + 0x4],EBX
005bcded : MOV ECX,dword ptr [ESI + 0x288]
005bcdf3 : PUSH 0x50
005bcdf5 : CALL 0x00515840
005bcdfa : MOV EDI,EAX
005bcdfc : CMP EDI,EBX
005bcdfe : JZ 0x005bce29
005bce00 : PUSH EBP
005bce01 : PUSH 0x1
005bce03 : MOV ECX,ESI
005bce05 : CALL 0x00530910
005bce0a : PUSH EAX
005bce0b : LEA EDX,[ESP + 0x18]
005bce0f : PUSH EDX
005bce10 : MOV ECX,EDI
005bce12 : CALL 0x005bc710
005bce17 : MOV EBX,EAX
005bce19 : TEST EBX,EBX
005bce1b : JZ 0x005bce29
005bce1d : MOV EAX,dword ptr [EBX + 0x8]
005bce20 : INC EAX
005bce21 : AND EAX,0x8fffffff
005bce26 : MOV dword ptr [EBX + 0x8],EAX
005bce29 : LEA ECX,[ESP + 0x30]
005bce2d : PUSH ECX
005bce2e : LEA EDX,[ESP + 0x30]
005bce32 : PUSH EDX
005bce33 : LEA ECX,[ESI + 0x278]
005bce39 : MOV dword ptr [ESP + 0x38],EBX
005bce3d : MOV dword ptr [ESP + 0x34],0x12
005bce45 : CALL 0x0050ff10
005bce4a : MOV ECX,dword ptr [ESP + 0x30]
005bce4e : TEST ECX,ECX
005bce50 : JZ 0x005bce57
005bce52 : CALL 0x00503db0
005bce57 : MOV EAX,dword ptr [ESI + 0x2a0]
005bce5d : ADD EAX,0x10
005bce60 : MOV byte ptr [ESP + 0x30],0x0
005bce65 : MOV EDI,dword ptr [EAX]
005bce67 : MOV dword ptr [ESP + 0x2c],EAX
005bce6b : LEA EAX,[ESP + 0x30]
005bce6f : PUSH EAX
005bce70 : PUSH EBP
005bce71 : LEA ECX,[ESP + 0x20]
005bce75 : ADD EDI,0x28
005bce78 : CALL 0x00526210
005bce7d : MOV EDX,dword ptr [EDI]
005bce7f : PUSH EAX
005bce80 : ADD ESI,0x50
005bce83 : PUSH ESI
005bce84 : LEA ECX,[ESP + 0x1c]
005bce88 : PUSH ECX
005bce89 : MOV ECX,dword ptr [ESP + 0x3c]
005bce8d : CALL EDX
005bce8f : LEA ECX,[ESP + 0x18]
005bce93 : CALL 0x00526bc0
005bce98 : POP EDI
005bce99 : TEST EBX,EBX
005bce9b : JZ 0x005bcea4
005bce9d : MOV ECX,EBX
005bce9f : CALL 0x00503db0
005bcea4 : POP ESI
005bcea5 : MOV EAX,EBP
005bcea7 : POP EBP
005bcea8 : POP EBX
005bcea9 : ADD ESP,0x18
005bceac : RET
