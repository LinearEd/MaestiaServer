PROGRAM  : Maestia.exe
FUNCTION : FUN_0094c900
ENTRY    : 0094c900
BODY     : [[0094c900, 0094ca18] [0094ca20, 0094cbb9]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0094c900(undefined4 param_1)

{
  short sVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  undefined4 *in_EDX;
  int iVar6;
  uint local_48;
  undefined4 local_40;
  int local_3c;
  undefined4 *local_38;
  undefined4 local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar6 = DAT_00d7c54c;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b536da;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_40 = param_1;
  local_38 = in_EDX;
  local_14 = uVar3;
  FUN_004437f0(&local_40);
  if ((local_3c == *(int *)(iVar6 + 0x44)) || (local_3c = *(int *)(local_3c + 0x10), local_3c == 0))
  {
    FUN_00404750(L"Can\'t find pet data from gbd.. proto[%u]",param_1);
    local_8 = 0;
    if ((int *)*DAT_00da98e8 != (int *)0x0) {
      (**(code **)(*(int *)*DAT_00da98e8 + 0x14))(L"AvaGuiPetList::GetStatusInfo",0x2a4,local_30);
    }
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
  }
  else {
    uVar4 = FUN_00824a20(DAT_0172491c,0);
    local_8 = 1;
    iVar6 = 0;
    FUN_00405eb0(uVar4,0,0xffffffff);
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
    do {
      iVar2 = local_3c;
      iVar5 = FUN_00703c00(0x1400,uVar3);
      if (iVar5 == 0) {
        FUN_00404750(L"Can\'t find status from gbd.. statusindex : %d",
                     *(undefined2 *)(iVar2 + 0x1bc + iVar6 * 2));
        local_8 = 2;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"AvaGuiPetList::GetStatusInfo",0x2b3,local_30);
        }
        local_8 = 0xffffffff;
        if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_18 = 7;
        local_1c = 0;
        local_2c = 0;
      }
      else {
        if (iVar6 == 0) {
          uVar4 = FUN_00824a20(DAT_0172491c,0);
          local_8 = 3;
          FUN_00405eb0(uVar4,0,0xffffffff);
          local_8 = 0xffffffff;
          if (7 < local_48) {
                    /* WARNING: Subroutine does not return */
            FUN_006f04e0();
          }
          local_48 = 7;
        }
        sVar1 = *(short *)(iVar5 + 4);
        if (sVar1 == 0x1411) {
          FUN_00946330(iVar5,local_34);
          *local_38 = 0x1411;
        }
        else if (sVar1 == 0x1410) {
          FUN_00946230(iVar5,local_34);
          *local_38 = 0x1410;
        }
        else if (sVar1 == 0x143b) {
          FUN_00946160(iVar5,local_34);
          *local_38 = 0x143b;
        }
        else if (sVar1 == 0x143a) {
          FUN_00946090(iVar5,local_34);
          *local_38 = 0x143a;
        }
        if (iVar6 < 4) {
          FUN_00404870(&DAT_00c73438,1);
        }
      }
      iVar6 = iVar6 + 1;
    } while (iVar6 < 5);
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0094c900 : PUSH EBP
0094c901 : MOV EBP,ESP
0094c903 : PUSH -0x1
0094c905 : PUSH 0xb536da
0094c90a : MOV EAX,FS:[0x0]
0094c910 : PUSH EAX
0094c911 : SUB ESP,0x50
0094c914 : MOV EAX,[0x00d66fa0]
0094c919 : XOR EAX,EBP
0094c91b : MOV dword ptr [EBP + -0x10],EAX
0094c91e : PUSH EBX
0094c91f : PUSH ESI
0094c920 : PUSH EDI
0094c921 : PUSH EAX
0094c922 : LEA EAX,[EBP + -0xc]
0094c925 : MOV FS:[0x0],EAX
0094c92b : MOV EBX,dword ptr [EBP + 0x8]
0094c92e : MOV EAX,dword ptr [EBP + 0xc]
0094c931 : MOV ESI,dword ptr [0x00d7c54c]
0094c937 : MOV EDI,dword ptr [EBP + 0x10]
0094c93a : MOV dword ptr [EBP + -0x40],EAX
0094c93d : LEA EAX,[EBP + -0x3c]
0094c940 : MOV dword ptr [EBP + -0x30],ECX
0094c943 : PUSH EAX
0094c944 : LEA ECX,[ESI + 0x40]
0094c947 : LEA EAX,[EBP + -0x38]
0094c94a : MOV dword ptr [EBP + -0x34],EDX
0094c94d : MOV dword ptr [EBP + -0x3c],EBX
0094c950 : CALL 0x004437f0
0094c955 : MOV ESI,dword ptr [ESI + 0x44]
0094c958 : MOV EAX,dword ptr [EBP + -0x38]
0094c95b : CMP EAX,ESI
0094c95d : JZ 0x0094c969
0094c95f : MOV EAX,dword ptr [EAX + 0x10]
0094c962 : MOV dword ptr [EBP + -0x38],EAX
0094c965 : TEST EAX,EAX
0094c967 : JNZ 0x0094c9ca
0094c969 : PUSH EBX
0094c96a : PUSH 0xc73310
0094c96f : LEA ESI,[EBP + -0x2c]
0094c972 : CALL 0x00404750
0094c977 : ADD ESP,0x8
0094c97a : XOR ESI,ESI
0094c97c : MOV dword ptr [EBP + -0x4],ESI
0094c97f : MOV ECX,dword ptr [0x00da98e8]
0094c985 : MOV ECX,dword ptr [ECX]
0094c987 : CMP ECX,ESI
0094c989 : JZ 0x0094c9a0
0094c98b : MOV EDX,dword ptr [ECX]
0094c98d : MOV EDX,dword ptr [EDX + 0x14]
0094c990 : LEA EAX,[EBP + -0x2c]
0094c993 : PUSH EAX
0094c994 : PUSH 0x2a4
0094c999 : PUSH 0xc73364
0094c99e : CALL EDX
0094c9a0 : MOV dword ptr [EBP + -0x4],0xffffffff
0094c9a7 : CMP dword ptr [EBP + -0x14],0x8
0094c9ab : JC 0x0094c9b5
0094c9ad : MOV ECX,dword ptr [EBP + -0x28]
0094c9b0 : CALL 0x006f04e0
0094c9b5 : XOR EAX,EAX
0094c9b7 : MOV dword ptr [EBP + -0x14],0x7
0094c9be : MOV dword ptr [EBP + -0x18],ESI
0094c9c1 : MOV word ptr [EBP + -0x28],AX
0094c9c5 : JMP 0x0094cb9e
0094c9ca : MOV ECX,dword ptr [0x0172491c]
0094c9d0 : PUSH 0x0
0094c9d2 : LEA EDX,[EAX + 0x18]
0094c9d5 : PUSH ECX
0094c9d6 : LEA ESI,[EBP + -0x2c]
0094c9d9 : CALL 0x00824a20
0094c9de : MOV dword ptr [EBP + -0x4],0x1
0094c9e5 : PUSH -0x1
0094c9e7 : XOR EBX,EBX
0094c9e9 : PUSH EBX
0094c9ea : PUSH EAX
0094c9eb : MOV ECX,EDI
0094c9ed : CALL 0x00405eb0
0094c9f2 : MOV dword ptr [EBP + -0x4],0xffffffff
0094c9f9 : CMP dword ptr [EBP + -0x14],0x8
0094c9fd : JC 0x0094ca07
0094c9ff : MOV ECX,dword ptr [EBP + -0x28]
0094ca02 : CALL 0x006f04e0
0094ca07 : XOR EDX,EDX
0094ca09 : MOV dword ptr [EBP + -0x14],0x7
0094ca10 : MOV dword ptr [EBP + -0x18],EBX
0094ca13 : MOV word ptr [EBP + -0x28],DX
0094ca17 : JMP 0x0094ca20
0094ca20 : MOV ESI,dword ptr [EBP + -0x38]
0094ca23 : MOV DI,word ptr [ESI + EBX*0x2 + 0x1bc]
0094ca2b : PUSH 0x1400
0094ca30 : CALL 0x00703c00
0094ca35 : MOV EDI,EAX
0094ca37 : ADD ESP,0x4
0094ca3a : TEST EDI,EDI
0094ca3c : JNZ 0x0094caac
0094ca3e : MOVZX EAX,word ptr [ESI + EBX*0x2 + 0x1bc]
0094ca46 : PUSH EAX
0094ca47 : PUSH 0xc733a0
0094ca4c : LEA ESI,[EBP + -0x2c]
0094ca4f : CALL 0x00404750
0094ca54 : ADD ESP,0x8
0094ca57 : MOV dword ptr [EBP + -0x4],0x2
0094ca5e : MOV ECX,dword ptr [0x00da98e8]
0094ca64 : MOV ECX,dword ptr [ECX]
0094ca66 : TEST ECX,ECX
0094ca68 : JZ 0x0094ca7e
0094ca6a : MOV EDX,dword ptr [ECX]
0094ca6c : MOV EDX,dword ptr [EDX + 0x14]
0094ca6f : MOV EAX,ESI
0094ca71 : PUSH EAX
0094ca72 : PUSH 0x2b3
0094ca77 : PUSH 0xc733fc
0094ca7c : CALL EDX
0094ca7e : MOV dword ptr [EBP + -0x4],0xffffffff
0094ca85 : CMP dword ptr [EBP + -0x14],0x8
0094ca89 : JC 0x0094ca93
0094ca8b : MOV ECX,dword ptr [EBP + -0x28]
0094ca8e : CALL 0x006f04e0
0094ca93 : XOR EAX,EAX
0094ca95 : MOV dword ptr [EBP + -0x14],0x7
0094ca9c : MOV dword ptr [EBP + -0x18],0x0
0094caa3 : MOV word ptr [EBP + -0x28],AX
0094caa7 : JMP 0x0094cb94
0094caac : TEST EBX,EBX
0094caae : JNZ 0x0094caff
0094cab0 : MOV ECX,dword ptr [0x0172491c]
0094cab6 : PUSH EBX
0094cab7 : LEA EDX,[EDI + 0x18]
0094caba : PUSH ECX
0094cabb : LEA ESI,[EBP + -0x5c]
0094cabe : CALL 0x00824a20
0094cac3 : MOV dword ptr [EBP + -0x4],0x3
0094caca : MOV ECX,dword ptr [EBP + -0x40]
0094cacd : PUSH -0x1
0094cacf : PUSH EBX
0094cad0 : PUSH EAX
0094cad1 : CALL 0x00405eb0
0094cad6 : MOV dword ptr [EBP + -0x4],0xffffffff
0094cadd : CMP dword ptr [EBP + -0x44],0x8
0094cae1 : JC 0x0094caeb
0094cae3 : MOV ECX,dword ptr [EBP + -0x58]
0094cae6 : CALL 0x006f04e0
0094caeb : XOR EDX,EDX
0094caed : MOV dword ptr [EBP + -0x44],0x7
0094caf4 : MOV dword ptr [EBP + -0x48],0x0
0094cafb : MOV word ptr [EBP + -0x58],DX
0094caff : MOVZX EAX,word ptr [EDI + 0x4]
0094cb03 : MOV ECX,0x1411
0094cb08 : CMP AX,CX
0094cb0b : JNZ 0x0094cb22
0094cb0d : MOV EDX,dword ptr [EBP + -0x30]
0094cb10 : PUSH EDX
0094cb11 : PUSH EDI
0094cb12 : CALL 0x00946330
0094cb17 : MOV EAX,dword ptr [EBP + -0x34]
0094cb1a : MOV dword ptr [EAX],0x1411
0094cb20 : JMP 0x0094cb7d
0094cb22 : MOV ECX,0x1410
0094cb27 : CMP AX,CX
0094cb2a : JNZ 0x0094cb41
0094cb2c : MOV EDX,dword ptr [EBP + -0x30]
0094cb2f : PUSH EDX
0094cb30 : PUSH EDI
0094cb31 : CALL 0x00946230
0094cb36 : MOV EAX,dword ptr [EBP + -0x34]
0094cb39 : MOV dword ptr [EAX],0x1410
0094cb3f : JMP 0x0094cb7d
0094cb41 : MOV ECX,0x143b
0094cb46 : CMP AX,CX
0094cb49 : JNZ 0x0094cb60
0094cb4b : MOV EDX,dword ptr [EBP + -0x30]
0094cb4e : PUSH EDX
0094cb4f : PUSH EDI
0094cb50 : CALL 0x00946160
0094cb55 : MOV EAX,dword ptr [EBP + -0x34]
0094cb58 : MOV dword ptr [EAX],0x143b
0094cb5e : JMP 0x0094cb7d
0094cb60 : MOV ECX,0x143a
0094cb65 : CMP AX,CX
0094cb68 : JNZ 0x0094cb80
0094cb6a : MOV EDX,dword ptr [EBP + -0x30]
0094cb6d : PUSH EDX
0094cb6e : PUSH EDI
0094cb6f : CALL 0x00946090
0094cb74 : MOV EAX,dword ptr [EBP + -0x34]
0094cb77 : MOV dword ptr [EAX],0x143a
0094cb7d : ADD ESP,0x8
0094cb80 : CMP EBX,0x4
0094cb83 : JGE 0x0094cb94
0094cb85 : MOV ESI,dword ptr [EBP + -0x30]
0094cb88 : PUSH 0x1
0094cb8a : PUSH 0xc73438
0094cb8f : CALL 0x00404870
0094cb94 : INC EBX
0094cb95 : CMP EBX,0x5
0094cb98 : JL 0x0094ca20
0094cb9e : MOV ECX,dword ptr [EBP + -0xc]
0094cba1 : MOV dword ptr FS:[0x0],ECX
0094cba8 : POP ECX
0094cba9 : POP EDI
0094cbaa : POP ESI
0094cbab : POP EBX
0094cbac : MOV ECX,dword ptr [EBP + -0x10]
0094cbaf : XOR ECX,EBP
0094cbb1 : CALL 0x00633e6b
0094cbb6 : MOV ESP,EBP
0094cbb8 : POP EBP
0094cbb9 : RET
