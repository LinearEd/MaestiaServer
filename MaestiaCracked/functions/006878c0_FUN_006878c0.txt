PROGRAM  : Maestia.exe
FUNCTION : FUN_006878c0
ENTRY    : 006878c0
BODY     : [[006878c0, 00687918]]

============================================================
DECOMPILED C CODE
============================================================

size_t FUN_006878c0(int *param_1,void *param_2,uint param_3)

{
  uint uVar1;
  uint _Size;
  size_t sVar2;
  
  uVar1 = param_1[2];
  _Size = 0;
  if (uVar1 < (uint)param_1[1]) {
    if ((code *)param_1[5] != (code *)0x0) {
      sVar2 = (*(code *)param_1[5])(param_1,uVar1,param_2,param_3);
      param_1[2] = param_1[2] + sVar2;
      return sVar2;
    }
    _Size = param_1[1] - uVar1;
    if (param_3 < _Size) {
      _Size = param_3;
    }
    _memcpy(param_2,(void *)(*param_1 + uVar1),_Size);
    param_1[2] = param_1[2] + _Size;
  }
  return _Size;
}



============================================================
DISASSEMBLY
============================================================
006878c0 : PUSH ESI
006878c1 : PUSH EDI
006878c2 : MOV EDI,dword ptr [ESP + 0xc]
006878c6 : MOV ECX,dword ptr [EDI + 0x8]
006878c9 : MOV ESI,dword ptr [EDI + 0x4]
006878cc : XOR EAX,EAX
006878ce : CMP ECX,ESI
006878d0 : JNC 0x00687916
006878d2 : MOV EAX,dword ptr [EDI + 0x14]
006878d5 : TEST EAX,EAX
006878d7 : JZ 0x006878f2
006878d9 : MOV EDX,dword ptr [ESP + 0x14]
006878dd : PUSH EDX
006878de : MOV EDX,dword ptr [ESP + 0x14]
006878e2 : PUSH EDX
006878e3 : PUSH ECX
006878e4 : PUSH EDI
006878e5 : CALL EAX
006878e7 : ADD ESP,0x10
006878ea : MOV ESI,EAX
006878ec : ADD dword ptr [EDI + 0x8],ESI
006878ef : POP EDI
006878f0 : POP ESI
006878f1 : RET
006878f2 : MOV EAX,dword ptr [ESP + 0x14]
006878f6 : SUB ESI,ECX
006878f8 : CMP ESI,EAX
006878fa : JBE 0x006878fe
006878fc : MOV ESI,EAX
006878fe : MOV EAX,dword ptr [EDI]
00687900 : ADD EAX,ECX
00687902 : MOV ECX,dword ptr [ESP + 0x10]
00687906 : PUSH ESI
00687907 : PUSH EAX
00687908 : PUSH ECX
00687909 : CALL 0x0063ae40
0068790e : ADD ESP,0xc
00687911 : ADD dword ptr [EDI + 0x8],ESI
00687914 : MOV EAX,ESI
00687916 : POP EDI
00687917 : POP ESI
00687918 : RET
