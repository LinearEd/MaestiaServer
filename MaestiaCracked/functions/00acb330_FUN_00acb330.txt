PROGRAM  : Maestia.exe
FUNCTION : FUN_00acb330
ENTRY    : 00acb330
BODY     : [[00acb330, 00acb459] [00acb460, 00acb4a1]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00acb330(void)

{
  wchar_t wVar1;
  wchar_t *pwVar2;
  int in_ECX;
  undefined4 *unaff_EDI;
  wchar_t local_54;
  undefined1 local_52 [38];
  wchar_t local_2c;
  undefined1 local_2a [22];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b15950;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(undefined4 *)(in_ECX + 0x18) = 7;
  *(undefined4 *)(in_ECX + 0x14) = 0;
  *(undefined2 *)(in_ECX + 4) = 0;
  local_8 = 0;
  _swprintf_s(&local_2c,0xc,L"%d",*unaff_EDI,local_14);
  FUN_00406360(L"An exception occured!\n\n",0x17);
  FUN_00404870(L"=========================== Exception Details ====================================\n"
               ,0x53);
  FUN_00404870(L"Error # : ",10);
  pwVar2 = &local_2c;
  do {
    wVar1 = *pwVar2;
    pwVar2 = pwVar2 + 1;
  } while (wVar1 != L'\0');
  FUN_00404870(&local_2c,(int)pwVar2 - (int)local_2a >> 1);
  FUN_00404870(L"\nFunction : ",0xc);
  FUN_00405c30(unaff_EDI + 8,0,0xffffffff);
  FUN_00404870(L"\nDesc : ",8);
  FUN_00405c30(unaff_EDI + 1,0,0xffffffff);
  if (unaff_EDI[0x16] != 0) {
    FUN_00404870(L"\nFile : ",8);
    FUN_00405c30(unaff_EDI + 0xf,0,0xffffffff);
    __snwprintf(&local_54,0x14,L"%ld",unaff_EDI[0x16]);
    FUN_00404870(L" \nLine : ",9);
    pwVar2 = &local_54;
    do {
      wVar1 = *pwVar2;
      pwVar2 = pwVar2 + 1;
    } while (wVar1 != L'\0');
    FUN_00404870(&local_54,(int)pwVar2 - (int)local_52 >> 1);
  }
  FUN_00404870(L"\n=================================================================================="
               ,0x53);
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00acb330 : PUSH EBP
00acb331 : MOV EBP,ESP
00acb333 : PUSH -0x1
00acb335 : PUSH 0xb15950
00acb33a : MOV EAX,FS:[0x0]
00acb340 : PUSH EAX
00acb341 : SUB ESP,0x4c
00acb344 : MOV EAX,[0x00d66fa0]
00acb349 : XOR EAX,EBP
00acb34b : MOV dword ptr [EBP + -0x10],EAX
00acb34e : PUSH EBX
00acb34f : PUSH ESI
00acb350 : PUSH EAX
00acb351 : LEA EAX,[EBP + -0xc]
00acb354 : MOV FS:[0x0],EAX
00acb35a : XOR EBX,EBX
00acb35c : MOV dword ptr [EBP + -0x4],EBX
00acb35f : MOV ESI,ECX
00acb361 : MOV dword ptr [EBP + -0x54],EBX
00acb364 : XOR EAX,EAX
00acb366 : MOV dword ptr [ESI + 0x18],0x7
00acb36d : MOV dword ptr [ESI + 0x14],EBX
00acb370 : MOV dword ptr [EBP + -0x58],ESI
00acb373 : MOV word ptr [ESI + 0x4],AX
00acb377 : MOV dword ptr [EBP + -0x4],EBX
00acb37a : MOV ECX,dword ptr [EDI]
00acb37c : PUSH ECX
00acb37d : PUSH 0xbfcc54
00acb382 : LEA EDX,[EBP + -0x28]
00acb385 : PUSH 0xc
00acb387 : PUSH EDX
00acb388 : MOV dword ptr [EBP + -0x54],0x1
00acb38f : CALL 0x00635d51
00acb394 : ADD ESP,0x10
00acb397 : PUSH 0x17
00acb399 : PUSH 0xbfcc5c
00acb39e : MOV ECX,ESI
00acb3a0 : CALL 0x00406360
00acb3a5 : PUSH 0x53
00acb3a7 : PUSH 0xbfcca8
00acb3ac : CALL 0x00404870
00acb3b1 : PUSH 0xa
00acb3b3 : PUSH 0xbfcd50
00acb3b8 : CALL 0x00404870
00acb3bd : LEA EAX,[EBP + -0x28]
00acb3c0 : LEA EDX,[EAX + 0x2]
00acb3c3 : MOV CX,word ptr [EAX]
00acb3c6 : ADD EAX,0x2
00acb3c9 : CMP CX,BX
00acb3cc : JNZ 0x00acb3c3
00acb3ce : SUB EAX,EDX
00acb3d0 : SAR EAX,0x1
00acb3d2 : PUSH EAX
00acb3d3 : LEA EAX,[EBP + -0x28]
00acb3d6 : PUSH EAX
00acb3d7 : CALL 0x00404870
00acb3dc : PUSH 0xc
00acb3de : PUSH 0xbfcc8c
00acb3e3 : CALL 0x00404870
00acb3e8 : PUSH -0x1
00acb3ea : PUSH EBX
00acb3eb : LEA ECX,[EDI + 0x20]
00acb3ee : PUSH ECX
00acb3ef : MOV ECX,ESI
00acb3f1 : CALL 0x00405c30
00acb3f6 : PUSH 0x8
00acb3f8 : PUSH 0xbfcd68
00acb3fd : CALL 0x00404870
00acb402 : PUSH -0x1
00acb404 : PUSH EBX
00acb405 : LEA EDX,[EDI + 0x4]
00acb408 : PUSH EDX
00acb409 : MOV ECX,ESI
00acb40b : CALL 0x00405c30
00acb410 : CMP dword ptr [EDI + 0x58],EBX
00acb413 : JBE 0x00acb479
00acb415 : PUSH 0x8
00acb417 : PUSH 0xbfcd7c
00acb41c : CALL 0x00404870
00acb421 : PUSH -0x1
00acb423 : PUSH EBX
00acb424 : LEA EAX,[EDI + 0x3c]
00acb427 : PUSH EAX
00acb428 : MOV ECX,ESI
00acb42a : CALL 0x00405c30
00acb42f : MOV ECX,dword ptr [EDI + 0x58]
00acb432 : PUSH ECX
00acb433 : PUSH 0xbfcd90
00acb438 : LEA EDX,[EBP + -0x50]
00acb43b : PUSH 0x14
00acb43d : PUSH EDX
00acb43e : CALL 0x006343c8
00acb443 : ADD ESP,0x10
00acb446 : PUSH 0x9
00acb448 : PUSH 0xbfcd98
00acb44d : CALL 0x00404870
00acb452 : LEA EAX,[EBP + -0x50]
00acb455 : LEA EDX,[EAX + 0x2]
00acb458 : JMP 0x00acb460
00acb460 : MOV CX,word ptr [EAX]
00acb463 : ADD EAX,0x2
00acb466 : CMP CX,BX
00acb469 : JNZ 0x00acb460
00acb46b : SUB EAX,EDX
00acb46d : SAR EAX,0x1
00acb46f : PUSH EAX
00acb470 : LEA EAX,[EBP + -0x50]
00acb473 : PUSH EAX
00acb474 : CALL 0x00404870
00acb479 : PUSH 0x53
00acb47b : PUSH 0xbfcdb0
00acb480 : CALL 0x00404870
00acb485 : MOV EAX,ESI
00acb487 : MOV ECX,dword ptr [EBP + -0xc]
00acb48a : MOV dword ptr FS:[0x0],ECX
00acb491 : POP ECX
00acb492 : POP ESI
00acb493 : POP EBX
00acb494 : MOV ECX,dword ptr [EBP + -0x10]
00acb497 : XOR ECX,EBP
00acb499 : CALL 0x00633e6b
00acb49e : MOV ESP,EBP
00acb4a0 : POP EBP
00acb4a1 : RET
