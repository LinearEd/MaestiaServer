PROGRAM  : Maestia.exe
FUNCTION : FUN_00a229e0
ENTRY    : 00a229e0
BODY     : [[00a229e0, 00a22b2c] [00a22b30, 00a22c39]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a229e0(void)

{
  float fVar1;
  float fVar2;
  byte bVar3;
  int iVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  undefined4 local_50;
  float local_4c;
  float local_48;
  undefined1 local_3c [4];
  int local_38;
  uint local_34;
  uint local_30;
  uint local_2c;
  uint local_28;
  int local_24;
  int local_20;
  int local_1c;
  int local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2657b;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar9 = *(int *)(*(int *)(DAT_0172491c + 0x90) + 0xf0);
  if (iVar9 != 0) {
    local_24 = iVar9;
    iVar4 = FUN_0040ede0(iVar9,local_3c);
    local_14 = *(uint *)(*(int *)(iVar4 + 4) + 0x58);
    local_8 = 0xffffffff;
    FUN_0040ed80(local_3c);
    iVar4 = FUN_0040ede0(iVar9,local_3c);
    local_30 = *(uint *)(*(int *)(iVar4 + 4) + 0x60);
    local_8 = 0xffffffff;
    FUN_0040ed80(local_3c);
    iVar4 = FUN_0040ede0(iVar9,local_3c);
    uVar8 = *(uint *)(*(int *)(iVar4 + 4) + 0x5c);
    local_8 = 0xffffffff;
    local_34 = uVar8;
    FUN_0040ed80(local_3c);
    local_2c = 0;
    if (local_30 != 0) {
      local_1c = 0;
      do {
        local_28 = 0;
        uVar6 = local_2c;
        if (uVar8 != 0) {
          local_18 = 0;
          do {
            if (((((*(int *)(iVar9 + 0x9c) != 0) && (uVar6 < *(uint *)(iVar9 + 0x16c))) &&
                 (local_28 < *(uint *)(iVar9 + 0x170))) &&
                ((local_20 = (*(uint *)(iVar9 + 0x170) * uVar6 + local_28) * 0x2df8 +
                             *(int *)(iVar9 + 0x88), local_20 != 0 &&
                 (*(char *)(local_20 + 700) != '\0')))) &&
               ((*(char *)(local_20 + 0x2bd) != '\0' && (uVar7 = 0, local_14 != 0)))) {
              uVar8 = 0;
              while( true ) {
                do {
                  bVar3 = FUN_0040ebc0(uVar7);
                  iVar9 = local_24 + (uint)bVar3 * 0x28;
                  if (((*(byte *)(iVar9 + 0x274) == bVar3) &&
                      ((*(uint *)(iVar9 + 0x294) & 0x10000000) != 0)) && (iVar9 != -0x274)) {
                    iVar4 = *(int *)(local_24 + 0x9c);
                    fVar1 = (float)(int)(local_18 + uVar8);
                    if ((int)(local_18 + uVar8) < 0) {
                      fVar1 = fVar1 + 4.2949673e+09;
                    }
                    iVar5 = *(int *)(iVar4 + 0x48) + -1;
                    local_4c = (fVar1 + DAT_00d72c24) * *(float *)(iVar4 + 100);
                    fVar1 = (float)iVar5;
                    if (iVar5 < 0) {
                      fVar1 = fVar1 + 4.2949673e+09;
                    }
                    local_38 = local_1c + uVar7;
                    fVar2 = (float)local_38;
                    if (local_38 < 0) {
                      fVar2 = fVar2 + 4.2949673e+09;
                    }
                    local_50 = *(undefined4 *)(iVar9 + 0x298);
                    local_48 = fVar1 * *(float *)(iVar4 + 100) -
                               (fVar2 + DAT_00d72c24) * *(float *)(iVar4 + 100);
                    FUN_00408290(&local_50);
                  }
                  uVar8 = uVar8 + 1;
                } while (uVar8 < local_14);
                uVar7 = uVar7 + 1;
                uVar6 = local_2c;
                iVar9 = local_24;
                uVar8 = local_34;
                if (local_14 <= uVar7) break;
                uVar8 = 0;
              }
            }
            local_18 = local_18 + local_14;
            local_28 = local_28 + 1;
          } while (local_28 < uVar8);
        }
        local_1c = local_1c + local_14;
        local_2c = uVar6 + 1;
      } while (local_2c < local_30);
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a229e0 : PUSH EBP
00a229e1 : MOV EBP,ESP
00a229e3 : PUSH -0x1
00a229e5 : PUSH 0xb2657b
00a229ea : MOV EAX,FS:[0x0]
00a229f0 : PUSH EAX
00a229f1 : SUB ESP,0x44
00a229f4 : PUSH EBX
00a229f5 : PUSH ESI
00a229f6 : PUSH EDI
00a229f7 : MOV EAX,[0x00d66fa0]
00a229fc : XOR EAX,EBP
00a229fe : PUSH EAX
00a229ff : LEA EAX,[EBP + -0xc]
00a22a02 : MOV FS:[0x0],EAX
00a22a08 : MOV EAX,[0x0172491c]
00a22a0d : MOV EAX,dword ptr [EAX + 0x90]
00a22a13 : MOV ESI,dword ptr [EAX + 0xf0]
00a22a19 : MOV dword ptr [EBP + -0x20],ESI
00a22a1c : TEST ESI,ESI
00a22a1e : JZ 0x00a22c28
00a22a24 : LEA ECX,[EBP + -0x38]
00a22a27 : PUSH ECX
00a22a28 : PUSH ESI
00a22a29 : CALL 0x0040ede0
00a22a2e : MOV dword ptr [EBP + -0x4],0x0
00a22a35 : MOV EAX,dword ptr [EAX + 0x4]
00a22a38 : MOV EDX,dword ptr [EAX + 0x58]
00a22a3b : OR EBX,0xffffffff
00a22a3e : MOV dword ptr [EBP + -0x10],EDX
00a22a41 : MOV dword ptr [EBP + -0x4],EBX
00a22a44 : LEA EAX,[EBP + -0x38]
00a22a47 : PUSH EAX
00a22a48 : CALL 0x0040ed80
00a22a4d : LEA ECX,[EBP + -0x38]
00a22a50 : PUSH ECX
00a22a51 : PUSH ESI
00a22a52 : CALL 0x0040ede0
00a22a57 : MOV dword ptr [EBP + -0x4],0x1
00a22a5e : MOV EAX,dword ptr [EAX + 0x4]
00a22a61 : MOV EDX,dword ptr [EAX + 0x60]
00a22a64 : MOV dword ptr [EBP + -0x2c],EDX
00a22a67 : MOV dword ptr [EBP + -0x4],EBX
00a22a6a : LEA EAX,[EBP + -0x38]
00a22a6d : PUSH EAX
00a22a6e : CALL 0x0040ed80
00a22a73 : LEA ECX,[EBP + -0x38]
00a22a76 : PUSH ECX
00a22a77 : PUSH ESI
00a22a78 : CALL 0x0040ede0
00a22a7d : MOV dword ptr [EBP + -0x4],0x2
00a22a84 : MOV EAX,dword ptr [EAX + 0x4]
00a22a87 : MOV EDI,dword ptr [EAX + 0x5c]
00a22a8a : MOV dword ptr [EBP + -0x30],EDI
00a22a8d : MOV dword ptr [EBP + -0x4],EBX
00a22a90 : LEA EDX,[EBP + -0x38]
00a22a93 : PUSH EDX
00a22a94 : CALL 0x0040ed80
00a22a99 : XOR EDX,EDX
00a22a9b : MOV dword ptr [EBP + -0x28],EDX
00a22a9e : CMP dword ptr [EBP + -0x2c],EDX
00a22aa1 : JBE 0x00a22c28
00a22aa7 : MOV dword ptr [EBP + -0x18],EDX
00a22aaa : XOR ECX,ECX
00a22aac : MOV dword ptr [EBP + -0x24],ECX
00a22aaf : CMP EDI,ECX
00a22ab1 : JBE 0x00a22c15
00a22ab7 : MOV dword ptr [EBP + -0x14],ECX
00a22aba : CMP dword ptr [ESI + 0x9c],0x0
00a22ac1 : JZ 0x00a22c03
00a22ac7 : CMP EDX,dword ptr [ESI + 0x16c]
00a22acd : JNC 0x00a22c03
00a22ad3 : MOV EAX,dword ptr [ESI + 0x170]
00a22ad9 : CMP ECX,EAX
00a22adb : JNC 0x00a22c03
00a22ae1 : IMUL EAX,EDX
00a22ae4 : ADD EAX,ECX
00a22ae6 : IMUL EAX,EAX,0x2df8
00a22aec : ADD EAX,dword ptr [ESI + 0x88]
00a22af2 : MOV dword ptr [EBP + -0x1c],EAX
00a22af5 : TEST EAX,EAX
00a22af7 : JZ 0x00a22c03
00a22afd : CMP byte ptr [EAX + 0x2bc],0x0
00a22b04 : JZ 0x00a22c03
00a22b0a : CMP byte ptr [EAX + 0x2bd],0x0
00a22b11 : JZ 0x00a22c03
00a22b17 : XOR EBX,EBX
00a22b19 : CMP dword ptr [EBP + -0x10],EBX
00a22b1c : JBE 0x00a22c03
00a22b22 : XOR ESI,ESI
00a22b24 : JMP 0x00a22b33
00a22b26 : MOV EAX,dword ptr [EBP + -0x1c]
00a22b29 : XOR ESI,ESI
00a22b2b : JMP 0x00a22b33
00a22b30 : MOV EAX,dword ptr [EBP + -0x1c]
00a22b33 : PUSH EBX
00a22b34 : MOV EDI,ESI
00a22b36 : MOV ECX,EAX
00a22b38 : CALL 0x0040ebc0
00a22b3d : MOV EDI,dword ptr [EBP + -0x20]
00a22b40 : MOVZX ECX,AL
00a22b43 : LEA ECX,[ECX + ECX*0x4]
00a22b46 : LEA EDX,[EDI + ECX*0x8]
00a22b49 : CMP byte ptr [EDX + 0x274],AL
00a22b4f : LEA ECX,[EDX + 0x274]
00a22b55 : JNZ 0x00a22be3
00a22b5b : TEST dword ptr [EDX + 0x294],0x10000000
00a22b65 : JZ 0x00a22be3
00a22b67 : TEST ECX,ECX
00a22b69 : JZ 0x00a22be3
00a22b6b : MOV EDX,dword ptr [EBP + -0x14]
00a22b6e : MOV EAX,dword ptr [EDI + 0x9c]
00a22b74 : FLD float ptr [EAX + 0x64]
00a22b77 : ADD EDX,ESI
00a22b79 : MOV dword ptr [EBP + -0x34],EDX
00a22b7c : FILD dword ptr [EBP + -0x34]
00a22b7f : TEST EDX,EDX
00a22b81 : JGE 0x00a22b89
00a22b83 : FADD float ptr [0x00cdf0e0]
00a22b89 : FLD float ptr [0x00d72c24]
00a22b8f : MOV EDX,dword ptr [EAX + 0x48]
00a22b92 : FADD ST1,ST0
00a22b94 : DEC EDX
00a22b95 : FXCH
00a22b97 : MOV dword ptr [EBP + -0x34],EDX
00a22b9a : FMUL ST2
00a22b9c : FILD dword ptr [EBP + -0x34]
00a22b9f : TEST EDX,EDX
00a22ba1 : JGE 0x00a22ba9
00a22ba3 : FADD float ptr [0x00cdf0e0]
00a22ba9 : FMUL float ptr [EAX + 0x64]
00a22bac : MOV EAX,dword ptr [EBP + -0x18]
00a22baf : ADD EAX,EBX
00a22bb1 : MOV dword ptr [EBP + -0x34],EAX
00a22bb4 : FILD dword ptr [EBP + -0x34]
00a22bb7 : TEST EAX,EAX
00a22bb9 : JGE 0x00a22bc1
00a22bbb : FADD float ptr [0x00cdf0e0]
00a22bc1 : MOV ECX,dword ptr [ECX + 0x24]
00a22bc4 : FADDP ST3,ST0
00a22bc6 : FXCH ST2
00a22bc8 : LEA EDX,[EBP + -0x4c]
00a22bcb : PUSH EDX
00a22bcc : FMULP ST3
00a22bce : LEA EDI,[EBP + -0x40]
00a22bd1 : FXCH
00a22bd3 : MOV dword ptr [EBP + -0x4c],ECX
00a22bd6 : FSUBRP ST2,ST0
00a22bd8 : FSTP float ptr [EBP + -0x48]
00a22bdb : FSTP float ptr [EBP + -0x44]
00a22bde : CALL 0x00408290
00a22be3 : INC ESI
00a22be4 : CMP ESI,dword ptr [EBP + -0x10]
00a22be7 : JC 0x00a22b30
00a22bed : INC EBX
00a22bee : CMP EBX,dword ptr [EBP + -0x10]
00a22bf1 : JC 0x00a22b26
00a22bf7 : MOV ESI,dword ptr [EBP + -0x20]
00a22bfa : MOV EDI,dword ptr [EBP + -0x30]
00a22bfd : MOV EDX,dword ptr [EBP + -0x28]
00a22c00 : MOV ECX,dword ptr [EBP + -0x24]
00a22c03 : MOV EAX,dword ptr [EBP + -0x10]
00a22c06 : ADD dword ptr [EBP + -0x14],EAX
00a22c09 : INC ECX
00a22c0a : MOV dword ptr [EBP + -0x24],ECX
00a22c0d : CMP ECX,EDI
00a22c0f : JC 0x00a22aba
00a22c15 : MOV ECX,dword ptr [EBP + -0x10]
00a22c18 : ADD dword ptr [EBP + -0x18],ECX
00a22c1b : INC EDX
00a22c1c : MOV dword ptr [EBP + -0x28],EDX
00a22c1f : CMP EDX,dword ptr [EBP + -0x2c]
00a22c22 : JC 0x00a22aaa
00a22c28 : MOV ECX,dword ptr [EBP + -0xc]
00a22c2b : MOV dword ptr FS:[0x0],ECX
00a22c32 : POP ECX
00a22c33 : POP EDI
00a22c34 : POP ESI
00a22c35 : POP EBX
00a22c36 : MOV ESP,EBP
00a22c38 : POP EBP
00a22c39 : RET
