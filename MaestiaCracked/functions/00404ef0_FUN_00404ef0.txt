PROGRAM  : Maestia.exe
FUNCTION : FUN_00404ef0
ENTRY    : 00404ef0
BODY     : [[00404ef0, 00404f72]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00404ef0(uint param_1)

{
  uint uVar1;
  int in_ECX;
  uint uVar2;
  uint uVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b74a30;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  uVar3 = param_1 | 0xf;
  if (uVar3 != 0xffffffff) {
    uVar1 = *(uint *)(in_ECX + 0x18);
    uVar2 = uVar1 >> 1;
    param_1 = uVar3;
    if ((uVar3 / 3 < uVar2) && (uVar1 <= -uVar2 - 2)) {
      param_1 = uVar2 + uVar1;
    }
  }
  local_8 = 0;
  FUN_00404ed0(param_1 + 1);
  local_8 = 0xffffffff;
  FUN_00404fa3();
  return;
}



============================================================
DISASSEMBLY
============================================================
00404ef0 : PUSH EBP
00404ef1 : MOV EBP,ESP
00404ef3 : PUSH -0x1
00404ef5 : PUSH 0xb74a30
00404efa : MOV EAX,FS:[0x0]
00404f00 : PUSH EAX
00404f01 : SUB ESP,0xc
00404f04 : PUSH EBX
00404f05 : PUSH ESI
00404f06 : PUSH EDI
00404f07 : MOV EAX,[0x00d66fa0]
00404f0c : XOR EAX,EBP
00404f0e : PUSH EAX
00404f0f : LEA EAX,[EBP + -0xc]
00404f12 : MOV FS:[0x0],EAX
00404f18 : MOV dword ptr [EBP + -0x10],ESP
00404f1b : MOV EDI,ECX
00404f1d : MOV dword ptr [EBP + -0x14],EDI
00404f20 : MOV EAX,dword ptr [EBP + 0x8]
00404f23 : MOV ESI,EAX
00404f25 : OR ESI,0xf
00404f28 : CMP ESI,-0x2
00404f2b : JBE 0x00404f31
00404f2d : MOV ESI,EAX
00404f2f : JMP 0x00404f53
00404f31 : MOV EBX,dword ptr [EDI + 0x18]
00404f34 : MOV ECX,EBX
00404f36 : SHR ECX,0x1
00404f38 : MOV EAX,0xaaaaaaab
00404f3d : MUL ESI
00404f3f : SHR EDX,0x1
00404f41 : CMP EDX,ECX
00404f43 : JNC 0x00404f53
00404f45 : MOV EAX,0xfffffffe
00404f4a : SUB EAX,ECX
00404f4c : CMP EBX,EAX
00404f4e : JA 0x00404f53
00404f50 : LEA ESI,[ECX + EBX*0x1]
00404f53 : MOV dword ptr [EBP + -0x4],0x0
00404f5a : LEA ECX,[ESI + 0x1]
00404f5d : PUSH ECX
00404f5e : MOV ECX,EDI
00404f60 : CALL 0x00404ed0
00404f65 : MOV EBX,EAX
00404f67 : MOV dword ptr [EBP + -0x18],EBX
00404f6a : MOV dword ptr [EBP + -0x4],0xffffffff
00404f71 : JMP 0x00404fa3
