PROGRAM  : Maestia.exe
FUNCTION : FUN_00546200
ENTRY    : 00546200
BODY     : [[00546200, 005467fb]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00546200(void)

{
  int *piVar1;
  byte bVar2;
  int iVar3;
  uint uVar4;
  uint *puVar5;
  int iVar6;
  void *pvVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  ushort uVar11;
  int *in_ECX;
  uint uVar12;
  void *pvVar13;
  undefined2 uVar14;
  size_t _Size;
  undefined2 local_64;
  uint local_5c;
  uint local_58;
  int *local_10;
  GRefCountNTSImpl *local_c;
  
  iVar3 = FUN_0063b380();
  iVar10 = in_ECX[4];
  if (iVar10 != 0) {
    if (iVar3 < 0) {
      *(ushort *)(iVar10 + 6) = *(ushort *)(iVar10 + 6) | 0x40;
      *(short *)(iVar10 + 2) = -(short)iVar3;
    }
    else {
      *(ushort *)(iVar10 + 6) = *(ushort *)(iVar10 + 6) & 0xffbf;
      *(short *)(iVar10 + 2) = (short)iVar3;
    }
  }
  if (in_ECX[5] != 0) {
    iVar3 = in_ECX[9];
  }
  in_ECX[0x11] = in_ECX[0x11] + iVar3;
  iVar10 = in_ECX[2];
  if (((*(byte *)(iVar10 + 0x16) & 1) != 0) &&
     (((*(ushort *)(iVar10 + 0x16) & 0x600) == 0x200 ||
      (((*(byte *)(iVar10 + 0x16) & 1) != 0 && ((*(ushort *)(iVar10 + 0x16) & 0x600) == 0x600))))))
  {
    in_ECX[0x11] = in_ECX[0x11] + in_ECX[0x24];
    in_ECX[0x12] = in_ECX[0x12] + in_ECX[0x24];
  }
  uVar4 = FUN_0063b380();
  iVar3 = FUN_0063b380();
  uVar8 = in_ECX[0x27];
  uVar12 = (in_ECX[0x11] < 0) - 1 & in_ECX[0x11];
  in_ECX[0x11] = uVar12;
  in_ECX[0x12] = in_ECX[0x12] & (in_ECX[0x12] < 0) - 1;
  iVar10 = in_ECX[0x29];
  if ((((((*(byte *)(*in_ECX + 0x140) & 0x30) == 0) && ((uint)in_ECX[0x13] < 0x100)) &&
       (uVar8 < 0x100)) && ((iVar3 + 0x80U < 0x100 && (uVar4 < 0x10000)))) &&
     ((-1 < (int)uVar12 && ((int)uVar12 < 0x10000)))) {
    puVar5 = (uint *)FUN_00544830(uVar8,iVar10,0);
  }
  else {
    piVar1 = (int *)in_ECX[0x14b];
    iVar6 = piVar1[2];
    if ((iVar6 < 0) || (iVar6 == -1)) {
      iVar6 = *(int *)(*piVar1 + 4);
    }
    puVar5 = (uint *)FUN_0059a910(iVar6,uVar8,iVar10,1);
    piVar1[2] = piVar1[2] + 1;
  }
  uVar12 = *puVar5;
  if ((int)uVar12 < 0) {
    puVar5[1] = *(uint *)(in_ECX[0x10] + 0x20);
  }
  else {
    puVar5[7] = *(uint *)(in_ECX[0x10] + 0x20);
  }
  if ((int)uVar12 < 0) {
    *(undefined2 *)(puVar5 + 6) = *(undefined2 *)(in_ECX[0x10] + 0x24);
  }
  else {
    *(undefined2 *)(puVar5 + 9) = *(undefined2 *)(in_ECX[0x10] + 0x24);
  }
  piVar1 = (int *)in_ECX[3];
  if (*piVar1 < 0) {
    pvVar13 = (void *)((int)piVar1 + 0x1e);
  }
  else {
    pvVar13 = (void *)((int)piVar1 + 0x2a);
  }
  pvVar7 = (void *)((int)puVar5 + 0x1e);
  if (-1 < (int)uVar12) {
    pvVar7 = (void *)((int)puVar5 + 0x2a);
  }
  _memcpy(pvVar7,pvVar13,uVar8 * 8);
  _Size = iVar10 * 4;
  pvVar13 = (void *)FUN_00599240();
  pvVar7 = (void *)FUN_00599240();
  _memcpy(pvVar7,pvVar13,_Size);
  uVar8 = ((int *)in_ECX[3])[2];
  if ((*(int *)in_ECX[3] < 0) && (uVar8 = uVar8 & 0xffffff, uVar8 == 0xffffff)) {
    uVar8 = 0xffffffff;
  }
  if ((int)*puVar5 < 0) {
    puVar5[2] = puVar5[2] ^ (puVar5[2] ^ uVar8) & 0xffffff;
  }
  else {
    puVar5[2] = uVar8;
  }
  if ((int)*puVar5 < 0) {
    *(char *)((int)puVar5 + 0xb) = (char)in_ECX[0x13];
  }
  else {
    puVar5[8] = in_ECX[0x13];
  }
  FUN_00544410(in_ECX[0x14]);
  if ((((*(char *)((int)in_ECX + 0xb5) == '\0') && ((*(byte *)(*in_ECX + 0x141) & 8) != 0)) &&
      (iVar10 = in_ECX[0x2a], iVar6 = in_ECX[0x2b], iVar10 - iVar6 != 0)) &&
     (((*(byte *)(in_ECX[2] + 0x16) & 1) != 0 && ((*(ushort *)(in_ECX[2] + 0x16) & 0x600) == 0x400))
     )) {
    iVar9 = FUN_0063b380();
    uVar8 = (((iVar9 - in_ECX[0x24]) - in_ECX[0x23]) - in_ECX[0x22]) - in_ECX[0x12];
    if (0 < (int)uVar8) {
      FUN_005461c0(&local_5c);
      while ((local_5c != 0 && (local_5c < local_58))) {
        bVar2 = (byte)*(undefined2 *)(local_5c + 6);
        if ((bVar2 >> 1 & 1) != 0) {
          uVar12 = (uint)*(ushort *)(local_5c + 2);
          if ((bVar2 >> 6 & 1) != 0) {
            uVar12 = -uVar12;
          }
          FUN_00544700(uVar12 + uVar8 / (uint)(iVar10 - iVar6));
        }
        FUN_005443b0();
      }
      in_ECX[0x11] = in_ECX[0x11] + uVar8;
      if (local_c != (GRefCountNTSImpl *)0x0) {
        GRefCountNTSImpl::Release(local_c);
      }
      if ((local_10 != (int *)0x0) && (*local_10 = *local_10 + -1, *local_10 == 0)) {
        FUN_00500860();
        FUN_00515cf0(local_10);
      }
    }
  }
  iVar10 = in_ECX[0x23];
  iVar6 = in_ECX[0x22];
  uVar8 = in_ECX[0x24d];
  puVar5[3] = iVar10 + iVar6;
  puVar5[4] = uVar8;
  uVar8 = *puVar5;
  if ((int)uVar8 < 0) {
    local_64._0_1_ = (undefined1)iVar3;
    *(undefined1 *)((int)puVar5 + 0x1d) = (undefined1)local_64;
  }
  else {
    local_64 = (undefined2)iVar3;
    *(undefined2 *)(puVar5 + 10) = local_64;
  }
  uVar11 = *(ushort *)(in_ECX[2] + 0x16) >> 9 & 3;
  uVar14 = (undefined2)uVar4;
  if (uVar11 == 1) {
    *puVar5 = uVar8 & 0xdfffffff | 0x10000000;
    if ((int)uVar8 < 0) {
      *(short *)(puVar5 + 5) = (short)in_ECX[0x12];
      *(undefined2 *)((int)puVar5 + 0x16) = uVar14;
    }
    else {
      puVar5[5] = in_ECX[0x12];
      puVar5[6] = uVar4;
    }
    iVar3 = FUN_0063b380();
    puVar5[3] = iVar3 - in_ECX[0x12] & (iVar3 - in_ECX[0x12] < 0) - 1;
    if (((*(byte *)(*in_ECX + 0x141) & 1) != 0) || ((*(byte *)(*in_ECX + 0x140) & 0x30) != 0)) {
      *(undefined1 *)(in_ECX + 0x253) = 1;
    }
  }
  else if (uVar11 == 3) {
    *puVar5 = uVar8 & 0xefffffff | 0x20000000;
    if ((int)uVar8 < 0) {
      *(short *)(puVar5 + 5) = (short)in_ECX[0x12];
      *(undefined2 *)((int)puVar5 + 0x16) = uVar14;
    }
    else {
      puVar5[5] = in_ECX[0x12];
      puVar5[6] = uVar4;
    }
    iVar3 = in_ECX[0x23];
    iVar9 = FUN_0063b380();
    puVar5[3] = iVar9 + iVar3 & (iVar9 + iVar3 < 0) - 1;
    if (((*(byte *)(*in_ECX + 0x141) & 1) != 0) || ((*(byte *)(*in_ECX + 0x140) & 0x30) != 0)) {
      *(undefined1 *)(in_ECX + 0x253) = 1;
    }
  }
  else {
    *puVar5 = uVar8 & 0xcfffffff;
    if ((int)uVar8 < 0) {
      *(short *)(puVar5 + 5) = (short)in_ECX[0x11];
      *(undefined2 *)((int)puVar5 + 0x16) = uVar14;
    }
    else {
      puVar5[5] = in_ECX[0x11];
      puVar5[6] = uVar4;
    }
  }
  iVar10 = in_ECX[0x11] + iVar10 + iVar6;
  if (iVar10 < in_ECX[0x250]) {
    iVar10 = in_ECX[0x250];
  }
  iVar3 = in_ECX[0x24d];
  in_ECX[0x250] = iVar10;
  in_ECX[0x251] = (iVar3 - in_ECX[0x24e]) + uVar4;
  iVar10 = FUN_0063b380();
  in_ECX[0x24d] = iVar10 + iVar3;
  in_ECX[0x22] = 0;
  in_ECX[0x29] = 0;
  in_ECX[0x27] = 0;
  in_ECX[10] = 0;
  piVar1 = (int *)in_ECX[5];
  if ((piVar1 != (int *)0x0) && (*piVar1 = *piVar1 + -1, *piVar1 == 0)) {
    FUN_00500860();
    FUN_00515cf0(piVar1);
  }
  in_ECX[5] = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
00546200 : SUB ESP,0x68
00546203 : PUSH EBX
00546204 : PUSH EBP
00546205 : PUSH ESI
00546206 : MOV ESI,ECX
00546208 : FLD float ptr [ESI + 0x20]
0054620b : PUSH EDI
0054620c : FSTP float ptr [ESP + 0x18]
00546210 : FLDZ
00546212 : FLD float ptr [ESP + 0x18]
00546216 : FCOM
00546218 : FNSTSW AX
0054621a : FLD double ptr [0x00cdf120]
00546220 : TEST AH,0x41
00546223 : JNZ 0x00546229
00546225 : FADD ST1,ST0
00546227 : JMP 0x0054622b
00546229 : FSUB ST1,ST0
0054622b : FXCH
0054622d : CALL 0x0063b380
00546232 : MOV ECX,dword ptr [ESI + 0x10]
00546235 : TEST ECX,ECX
00546237 : JZ 0x00546259
00546239 : TEST EAX,EAX
0054623b : JL 0x0054624c
0054623d : MOV EDX,0xffbf
00546242 : AND word ptr [ECX + 0x6],DX
00546246 : MOV word ptr [ECX + 0x2],AX
0054624a : JMP 0x00546259
0054624c : MOV EDX,EAX
0054624e : NEG EDX
00546250 : OR word ptr [ECX + 0x6],0x40
00546255 : MOV word ptr [ECX + 0x2],DX
00546259 : CMP dword ptr [ESI + 0x14],0x0
0054625d : JZ 0x00546262
0054625f : MOV EAX,dword ptr [ESI + 0x24]
00546262 : ADD dword ptr [ESI + 0x44],EAX
00546265 : MOV EAX,dword ptr [ESI + 0x8]
00546268 : TEST byte ptr [EAX + 0x16],0x1
0054626c : JZ 0x005462a7
0054626e : MOV CX,word ptr [EAX + 0x16]
00546272 : MOV EDX,0x600
00546277 : AND CX,DX
0054627a : MOV EDX,0x200
0054627f : CMP CX,DX
00546282 : JZ 0x0054629b
00546284 : TEST byte ptr [EAX + 0x16],0x1
00546288 : JZ 0x005462a7
0054628a : MOV CX,word ptr [EAX + 0x16]
0054628e : MOV EDX,0x600
00546293 : AND CX,DX
00546296 : CMP CX,DX
00546299 : JNZ 0x005462a7
0054629b : MOV ECX,dword ptr [ESI + 0x90]
005462a1 : ADD dword ptr [ESI + 0x44],ECX
005462a4 : ADD dword ptr [ESI + 0x48],ECX
005462a7 : MOV CL,byte ptr [EAX + 0x16]
005462aa : SHR CL,0x3
005462ad : TEST CL,0x1
005462b0 : JZ 0x005462c7
005462b2 : MOVSX EAX,word ptr [EAX + 0x10]
005462b6 : LEA EDX,[EAX + EAX*0x4]
005462b9 : ADD EDX,EDX
005462bb : ADD EDX,EDX
005462bd : MOV dword ptr [ESP + 0x18],EDX
005462c1 : FILD dword ptr [ESP + 0x18]
005462c5 : JMP 0x005462ca
005462c7 : FLD float ptr [ESI + 0x58]
005462ca : FSTP float ptr [ESP + 0x18]
005462ce : FLD float ptr [ESI + 0x54]
005462d1 : FADD float ptr [ESI + 0x50]
005462d4 : FSTP float ptr [ESP + 0x14]
005462d8 : FLD float ptr [ESP + 0x14]
005462dc : FCOM ST2
005462de : FNSTSW AX
005462e0 : TEST AH,0x41
005462e3 : JNZ 0x005462e9
005462e5 : FADD ST0,ST1
005462e7 : JMP 0x005462eb
005462e9 : FSUB ST0,ST1
005462eb : CALL 0x0063b380
005462f0 : FLD float ptr [ESP + 0x18]
005462f4 : FCOM ST2
005462f6 : MOV EDI,EAX
005462f8 : MOV dword ptr [ESP + 0x10],EDI
005462fc : FNSTSW AX
005462fe : FSTP ST2
00546300 : TEST AH,0x41
00546303 : JNZ 0x00546309
00546305 : FADDP
00546307 : JMP 0x0054630b
00546309 : FSUBP
0054630b : CALL 0x0063b380
00546310 : XOR ECX,ECX
00546312 : MOV dword ptr [ESP + 0x14],EAX
00546316 : MOV EAX,dword ptr [ESI + 0x44]
00546319 : TEST EAX,EAX
0054631b : SETL CL
0054631e : MOV EBX,dword ptr [ESI + 0x9c]
00546324 : XOR EDX,EDX
00546326 : DEC ECX
00546327 : AND ECX,EAX
00546329 : MOV EAX,dword ptr [ESI + 0x48]
0054632c : TEST EAX,EAX
0054632e : SETL DL
00546331 : MOV dword ptr [ESI + 0x44],ECX
00546334 : DEC EDX
00546335 : AND EAX,EDX
00546337 : MOV EDX,dword ptr [ESI]
00546339 : MOV dword ptr [ESI + 0x48],EAX
0054633c : TEST byte ptr [EDX + 0x140],0x30
00546343 : MOV EAX,dword ptr [ESI + 0xa4]
00546349 : MOV dword ptr [ESP + 0x18],EAX
0054634d : JNZ 0x00546394
0054634f : CMP dword ptr [ESI + 0x4c],0xff
00546356 : JA 0x00546394
00546358 : CMP EBX,0xff
0054635e : JA 0x00546394
00546360 : MOV EDX,dword ptr [ESP + 0x14]
00546364 : SUB EDX,-0x80
00546367 : CMP EDX,0xff
0054636d : JA 0x00546394
0054636f : CMP EDI,0xffff
00546375 : JA 0x00546394
00546377 : TEST ECX,ECX
00546379 : JL 0x00546394
0054637b : CMP ECX,0x10000
00546381 : JGE 0x00546394
00546383 : MOV ECX,dword ptr [ESI + 0x52c]
00546389 : PUSH 0x0
0054638b : PUSH EAX
0054638c : PUSH EBX
0054638d : CALL 0x00544830
00546392 : JMP 0x005463c0
00546394 : MOV EBP,dword ptr [ESI + 0x52c]
0054639a : MOV EAX,dword ptr [EBP + 0x8]
0054639d : TEST EAX,EAX
0054639f : JL 0x005463a6
005463a1 : CMP EAX,-0x1
005463a4 : JNZ 0x005463ac
005463a6 : MOV EAX,dword ptr [EBP]
005463a9 : MOV EAX,dword ptr [EAX + 0x4]
005463ac : MOV ECX,dword ptr [ESP + 0x18]
005463b0 : PUSH 0x1
005463b2 : PUSH ECX
005463b3 : MOV ECX,dword ptr [EBP]
005463b6 : PUSH EBX
005463b7 : PUSH EAX
005463b8 : CALL 0x0059a910
005463bd : INC dword ptr [EBP + 0x8]
005463c0 : MOV EDX,dword ptr [ESI + 0x40]
005463c3 : MOV ECX,dword ptr [EDX + 0x20]
005463c6 : MOV EDI,EAX
005463c8 : MOV EAX,dword ptr [EDI]
005463ca : SHR EAX,0x1f
005463cd : AND AL,0x1
005463cf : JZ 0x005463d6
005463d1 : MOV dword ptr [EDI + 0x4],ECX
005463d4 : JMP 0x005463d9
005463d6 : MOV dword ptr [EDI + 0x1c],ECX
005463d9 : MOV ECX,dword ptr [ESI + 0x40]
005463dc : MOVZX ECX,word ptr [ECX + 0x24]
005463e0 : TEST AL,AL
005463e2 : JZ 0x005463ea
005463e4 : MOV word ptr [EDI + 0x18],CX
005463e8 : JMP 0x005463ee
005463ea : MOV word ptr [EDI + 0x24],CX
005463ee : MOV ECX,dword ptr [ESI + 0xc]
005463f1 : MOV EDX,dword ptr [ECX]
005463f3 : SHR EDX,0x1f
005463f6 : TEST DL,0x1
005463f9 : JZ 0x00546400
005463fb : ADD ECX,0x1e
005463fe : JMP 0x00546403
00546400 : ADD ECX,0x2a
00546403 : TEST AL,AL
00546405 : LEA EAX,[EDI + 0x1e]
00546408 : JNZ 0x0054640d
0054640a : LEA EAX,[EDI + 0x2a]
0054640d : LEA EDX,[EBX*0x8 + 0x0]
00546414 : PUSH EDX
00546415 : PUSH ECX
00546416 : PUSH EAX
00546417 : CALL 0x0063ae40
0054641c : MOV EAX,dword ptr [ESP + 0x24]
00546420 : LEA ECX,[EAX*0x4 + 0x0]
00546427 : ADD ESP,0xc
0054642a : PUSH ECX
0054642b : MOV ECX,dword ptr [ESI + 0xc]
0054642e : CALL 0x00599240
00546433 : PUSH EAX
00546434 : MOV ECX,EDI
00546436 : CALL 0x00599240
0054643b : PUSH EAX
0054643c : CALL 0x0063ae40
00546441 : MOV EAX,dword ptr [ESI + 0xc]
00546444 : MOV EDX,dword ptr [EAX]
00546446 : MOV EAX,dword ptr [EAX + 0x8]
00546449 : SHR EDX,0x1f
0054644c : ADD ESP,0xc
0054644f : TEST DL,0x1
00546452 : JZ 0x00546463
00546454 : AND EAX,0xffffff
00546459 : CMP EAX,0xffffff
0054645e : JNZ 0x00546463
00546460 : OR EAX,0xffffffff
00546463 : MOV ECX,dword ptr [EDI]
00546465 : SHR ECX,0x1f
00546468 : TEST CL,0x1
0054646b : JZ 0x0054647d
0054646d : MOV EDX,dword ptr [EDI + 0x8]
00546470 : XOR EDX,EAX
00546472 : AND EDX,0xffffff
00546478 : XOR dword ptr [EDI + 0x8],EDX
0054647b : JMP 0x00546480
0054647d : MOV dword ptr [EDI + 0x8],EAX
00546480 : MOV ECX,dword ptr [EDI]
00546482 : MOV EAX,dword ptr [ESI + 0x4c]
00546485 : SHR ECX,0x1f
00546488 : TEST CL,0x1
0054648b : JZ 0x00546492
0054648d : MOV byte ptr [EDI + 0xb],AL
00546490 : JMP 0x00546495
00546492 : MOV dword ptr [EDI + 0x20],EAX
00546495 : FLD float ptr [ESI + 0x50]
00546498 : PUSH ECX
00546499 : MOV ECX,EDI
0054649b : FSTP float ptr [ESP]
0054649e : CALL 0x00544410
005464a3 : CMP byte ptr [ESI + 0xb5],0x0
005464aa : JNZ 0x005465a2
005464b0 : MOV EDX,dword ptr [ESI]
005464b2 : TEST byte ptr [EDX + 0x141],0x8
005464b9 : JZ 0x005465a2
005464bf : MOV EBX,dword ptr [ESI + 0xa8]
005464c5 : SUB EBX,dword ptr [ESI + 0xac]
005464cb : JZ 0x005465a2
005464d1 : MOV EAX,dword ptr [ESI + 0x8]
005464d4 : TEST byte ptr [EAX + 0x16],0x1
005464d8 : JZ 0x005465a2
005464de : MOV AX,word ptr [EAX + 0x16]
005464e2 : MOV ECX,0x600
005464e7 : AND AX,CX
005464ea : MOV EDX,0x400
005464ef : CMP AX,DX
005464f2 : JNZ 0x005465a2
005464f8 : FLD float ptr [ESI + 0x2d8]
005464fe : FSUB double ptr [0x00cdf5d8]
00546504 : CALL 0x0063b380
00546509 : MOV EBP,EAX
0054650b : SUB EBP,dword ptr [ESI + 0x90]
00546511 : SUB EBP,dword ptr [ESI + 0x8c]
00546517 : SUB EBP,dword ptr [ESI + 0x88]
0054651d : SUB EBP,dword ptr [ESI + 0x48]
00546520 : TEST EBP,EBP
00546522 : JLE 0x005465a2
00546524 : XOR EDX,EDX
00546526 : MOV EAX,EBP
00546528 : DIV EBX
0054652a : MOV ECX,EDI
0054652c : MOV EBX,EAX
0054652e : LEA EAX,[ESP + 0x1c]
00546532 : PUSH EAX
00546533 : CALL 0x005461c0
00546538 : MOV ECX,dword ptr [ESP + 0x1c]
0054653c : TEST ECX,ECX
0054653e : JZ 0x00546573
00546540 : CMP ECX,dword ptr [ESP + 0x20]
00546544 : JNC 0x00546573
00546546 : MOVZX EAX,word ptr [ECX + 0x6]
0054654a : MOV DL,AL
0054654c : SHR DL,0x1
0054654e : TEST DL,0x1
00546551 : JZ 0x00546568
00546553 : SHR AL,0x6
00546556 : TEST AL,0x1
00546558 : MOVZX EAX,word ptr [ECX + 0x2]
0054655c : JZ 0x00546560
0054655e : NEG EAX
00546560 : ADD EAX,EBX
00546562 : PUSH EAX
00546563 : CALL 0x00544700
00546568 : LEA ECX,[ESP + 0x1c]
0054656c : CALL 0x005443b0
00546571 : JMP 0x00546538
00546573 : MOV ECX,dword ptr [ESP + 0x6c]
00546577 : ADD dword ptr [ESI + 0x44],EBP
0054657a : TEST ECX,ECX
0054657c : JZ 0x00546583
0054657e : CALL 0x004ff7c0
00546583 : MOV EAX,dword ptr [ESP + 0x68]
00546587 : TEST EAX,EAX
00546589 : JZ 0x005465a2
0054658b : DEC dword ptr [EAX]
0054658d : MOV EBP,EAX
0054658f : CMP dword ptr [EBP],0x0
00546593 : JNZ 0x005465a2
00546595 : MOV ECX,EBP
00546597 : CALL 0x00500860
0054659c : PUSH EBP
0054659d : CALL 0x00515cf0
005465a2 : MOV EDX,dword ptr [ESI + 0x8c]
005465a8 : ADD EDX,dword ptr [ESI + 0x88]
005465ae : MOV EAX,dword ptr [ESI + 0x934]
005465b4 : MOV ECX,dword ptr [EDI]
005465b6 : SHR ECX,0x1f
005465b9 : MOV dword ptr [EDI + 0xc],EDX
005465bc : MOV dword ptr [EDI + 0x10],EAX
005465bf : MOV EAX,dword ptr [EDI]
005465c1 : MOV ECX,EAX
005465c3 : SHR ECX,0x1f
005465c6 : MOV dword ptr [ESP + 0x18],EDX
005465ca : TEST CL,0x1
005465cd : JZ 0x005465d8
005465cf : MOV CL,byte ptr [ESP + 0x14]
005465d3 : MOV byte ptr [EDI + 0x1d],CL
005465d6 : JMP 0x005465e1
005465d8 : MOV CX,word ptr [ESP + 0x14]
005465dd : MOV word ptr [EDI + 0x28],CX
005465e1 : MOV ECX,dword ptr [ESI + 0x8]
005465e4 : MOVZX ECX,word ptr [ECX + 0x16]
005465e8 : MOV EBX,dword ptr [ESP + 0x10]
005465ec : SHR ECX,0x9
005465ef : AND ECX,0x3
005465f2 : SUB ECX,0x1
005465f5 : JZ 0x005466e4
005465fb : SUB ECX,0x2
005465fe : JZ 0x00546631
00546600 : FLD double ptr [0x00cdf120]
00546606 : AND EAX,0xcfffffff
0054660b : MOV dword ptr [EDI],EAX
0054660d : MOV ECX,dword ptr [ESI + 0x44]
00546610 : SHR EAX,0x1f
00546613 : XOR EBP,EBP
00546615 : TEST AL,0x1
00546617 : JZ 0x00546626
00546619 : MOV word ptr [EDI + 0x14],CX
0054661d : MOV word ptr [EDI + 0x16],BX
00546621 : JMP 0x0054676a
00546626 : MOV dword ptr [EDI + 0x14],ECX
00546629 : MOV dword ptr [EDI + 0x18],EBX
0054662c : JMP 0x0054676a
00546631 : AND EAX,0xefffffff
00546636 : OR EAX,0x20000000
0054663b : MOV dword ptr [EDI],EAX
0054663d : MOV ECX,dword ptr [ESI + 0x48]
00546640 : SHR EAX,0x1f
00546643 : TEST AL,0x1
00546645 : JZ 0x00546651
00546647 : MOV word ptr [EDI + 0x14],CX
0054664b : MOV word ptr [EDI + 0x16],BX
0054664f : JMP 0x00546657
00546651 : MOV dword ptr [EDI + 0x14],ECX
00546654 : MOV dword ptr [EDI + 0x18],EBX
00546657 : MOV EBP,dword ptr [ESI + 0x8c]
0054665d : FLD float ptr [ESI + 0x2d8]
00546663 : MOV EAX,dword ptr [ESI + 0x48]
00546666 : MOV dword ptr [ESP + 0x10],EBP
0054666a : FISUB dword ptr [ESP + 0x10]
0054666e : CDQ
0054666f : SUB EAX,EDX
00546671 : SAR EAX,0x1
00546673 : FSTP float ptr [ESP + 0x10]
00546677 : FLD float ptr [ESP + 0x10]
0054667b : MOV dword ptr [ESP + 0x10],EAX
0054667f : FLD double ptr [0x00cdf120]
00546685 : FMUL ST1
00546687 : FILD dword ptr [ESP + 0x10]
0054668b : FSUBP ST2,ST0
0054668d : FXCH
0054668f : FSTP float ptr [ESP + 0x10]
00546693 : FLDZ
00546695 : FLD float ptr [ESP + 0x10]
00546699 : FCOM
0054669b : FNSTSW AX
0054669d : FSTP ST1
0054669f : TEST AH,0x41
005466a2 : JNZ 0x005466a8
005466a4 : FADD ST0,ST1
005466a6 : JMP 0x005466aa
005466a8 : FSUB ST0,ST1
005466aa : CALL 0x0063b380
005466af : ADD EAX,EBP
005466b1 : XOR EDX,EDX
005466b3 : XOR EBP,EBP
005466b5 : CMP EAX,EBP
005466b7 : SETL DL
005466ba : DEC EDX
005466bb : AND EAX,EDX
005466bd : MOV dword ptr [EDI + 0xc],EAX
005466c0 : MOV EAX,dword ptr [ESI]
005466c2 : TEST byte ptr [EAX + 0x141],0x1
005466c9 : JNZ 0x005466d8
005466cb : TEST byte ptr [EAX + 0x140],0x30
005466d2 : JZ 0x00546766
005466d8 : MOV byte ptr [ESI + 0x94c],0x1
005466df : JMP 0x00546766
005466e4 : AND EAX,0xdfffffff
005466e9 : OR EAX,0x10000000
005466ee : MOV dword ptr [EDI],EAX
005466f0 : MOV ECX,dword ptr [ESI + 0x48]
005466f3 : SHR EAX,0x1f
005466f6 : TEST AL,0x1
005466f8 : JZ 0x00546704
005466fa : MOV word ptr [EDI + 0x14],CX
005466fe : MOV word ptr [EDI + 0x16],BX
00546702 : JMP 0x0054670a
00546704 : MOV dword ptr [EDI + 0x14],ECX
00546707 : MOV dword ptr [EDI + 0x18],EBX
0054670a : FLD float ptr [ESI + 0x2d8]
00546710 : FSTP float ptr [ESP + 0x10]
00546714 : FLDZ
00546716 : FLD float ptr [ESP + 0x10]
0054671a : FCOM
0054671c : FNSTSW AX
0054671e : FSTP ST1
00546720 : FLD double ptr [0x00cdf120]
00546726 : TEST AH,0x41
00546729 : JNZ 0x0054672f
0054672b : FADD ST1,ST0
0054672d : JMP 0x00546731
0054672f : FSUB ST1,ST0
00546731 : FXCH
00546733 : CALL 0x0063b380
00546738 : SUB EAX,dword ptr [ESI + 0x48]
0054673b : MOV ECX,0x0
00546740 : SETS CL
00546743 : DEC ECX
00546744 : AND EAX,ECX
00546746 : MOV dword ptr [EDI + 0xc],EAX
00546749 : MOV EAX,dword ptr [ESI]
0054674b : TEST byte ptr [EAX + 0x141],0x1
00546752 : JNZ 0x0054675d
00546754 : TEST byte ptr [EAX + 0x140],0x30
0054675b : JZ 0x00546764
0054675d : MOV byte ptr [ESI + 0x94c],0x1
00546764 : XOR EBP,EBP
00546766 : MOV EDX,dword ptr [ESP + 0x18]
0054676a : MOV EAX,dword ptr [ESI + 0x44]
0054676d : MOV ECX,dword ptr [ESI + 0x940]
00546773 : ADD EAX,EDX
00546775 : CMP EAX,ECX
00546777 : JGE 0x0054677b
00546779 : MOV EAX,ECX
0054677b : MOV EDI,dword ptr [ESI + 0x934]
00546781 : MOV dword ptr [ESI + 0x940],EAX
00546787 : MOV EAX,dword ptr [ESP + 0x14]
0054678b : ADD EAX,EBX
0054678d : MOV dword ptr [ESP + 0x18],EAX
00546791 : FILD dword ptr [ESP + 0x18]
00546795 : MOV EDX,EDI
00546797 : FLDZ
00546799 : SUB EDX,dword ptr [ESI + 0x938]
0054679f : FCOMP
005467a1 : ADD EDX,EBX
005467a3 : MOV dword ptr [ESI + 0x944],EDX
005467a9 : FNSTSW AX
005467ab : TEST AH,0x5
005467ae : JP 0x005467b4
005467b0 : FADDP
005467b2 : JMP 0x005467b6
005467b4 : FSUBRP
005467b6 : CALL 0x0063b380
005467bb : ADD EAX,EDI
005467bd : MOV dword ptr [ESI + 0x934],EAX
005467c3 : MOV dword ptr [ESI + 0x88],EBP
005467c9 : MOV dword ptr [ESI + 0xa4],EBP
005467cf : MOV dword ptr [ESI + 0x9c],EBP
005467d5 : MOV dword ptr [ESI + 0x28],EBP
005467d8 : MOV EDI,dword ptr [ESI + 0x14]
005467db : CMP EDI,EBP
005467dd : JZ 0x005467f1
005467df : ADD dword ptr [EDI],-0x1
005467e2 : JNZ 0x005467f1
005467e4 : MOV ECX,EDI
005467e6 : CALL 0x00500860
005467eb : PUSH EDI
005467ec : CALL 0x00515cf0
005467f1 : POP EDI
005467f2 : MOV dword ptr [ESI + 0x14],EBP
005467f5 : POP ESI
005467f6 : POP EBP
005467f7 : POP EBX
005467f8 : ADD ESP,0x68
005467fb : RET
