PROGRAM  : Maestia.exe
FUNCTION : FUN_0099a300
ENTRY    : 0099a300
BODY     : [[0099a300, 0099a469]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0099a300(void)

{
  uint uVar1;
  int iVar2;
  int *piVar3;
  uint uVar4;
  int *unaff_EDI;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b35e48;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar2 = FUN_006f0760(0xc,"",0,(DAT_01725270 >> 3 & 1) == 0,uVar1);
  local_8 = 0;
  if (iVar2 == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_0099c0d0(iVar2);
  }
  local_8 = 0xffffffff;
  *unaff_EDI = iVar2;
  FUN_00401c00(*(undefined4 *)(*(int *)(iVar2 + 4) + 4));
  uVar4 = DAT_01725270 >> 3;
  *(int *)(*(int *)(iVar2 + 4) + 4) = *(int *)(iVar2 + 4);
  *(undefined4 *)(iVar2 + 8) = 0;
  *(undefined4 *)*(undefined4 *)(iVar2 + 4) = *(undefined4 *)(iVar2 + 4);
  *(int *)(*(int *)(iVar2 + 4) + 8) = *(int *)(iVar2 + 4);
  iVar2 = FUN_006f0760(0xc,"",0,(uVar4 & 1) == 0,uVar1);
  local_8 = 1;
  if (iVar2 == 0) {
    iVar2 = 0;
  }
  else {
    iVar2 = FUN_0099c0d0(iVar2);
  }
  local_8 = 0xffffffff;
  unaff_EDI[1] = iVar2;
  FUN_00401c00(*(undefined4 *)(*(int *)(iVar2 + 4) + 4));
  uVar1 = DAT_01725270;
  *(int *)(*(int *)(iVar2 + 4) + 4) = *(int *)(iVar2 + 4);
  *(undefined4 *)(iVar2 + 8) = 0;
  *(undefined4 *)*(undefined4 *)(iVar2 + 4) = *(undefined4 *)(iVar2 + 4);
  *(int *)(*(int *)(iVar2 + 4) + 8) = *(int *)(iVar2 + 4);
  iVar2 = FUN_006f0760(0x7c,"",0,(uVar1 >> 3 & 1) == 0);
  local_8 = 2;
  if (iVar2 == 0) {
    piVar3 = (int *)0x0;
  }
  else {
    piVar3 = (int *)FUN_009983e0(iVar2);
  }
  local_8 = 0xffffffff;
  unaff_EDI[2] = (int)piVar3;
  (**(code **)(*piVar3 + 0xc))();
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
0099a300 : PUSH EBP
0099a301 : MOV EBP,ESP
0099a303 : PUSH -0x1
0099a305 : PUSH 0xb35e48
0099a30a : MOV EAX,FS:[0x0]
0099a310 : PUSH EAX
0099a311 : PUSH ECX
0099a312 : PUSH ESI
0099a313 : MOV EAX,[0x00d66fa0]
0099a318 : XOR EAX,EBP
0099a31a : PUSH EAX
0099a31b : LEA EAX,[EBP + -0xc]
0099a31e : MOV FS:[0x0],EAX
0099a324 : MOV EAX,[0x01725270]
0099a329 : SHR EAX,0x3
0099a32c : MOV ECX,0x0
0099a331 : AND EAX,0x1
0099a334 : SETZ CL
0099a337 : PUSH ECX
0099a338 : PUSH 0x0
0099a33a : PUSH 0xbf1a4a
0099a33f : PUSH 0xc
0099a341 : CALL 0x006f0760
0099a346 : ADD ESP,0x10
0099a349 : MOV dword ptr [EBP + -0x10],EAX
0099a34c : MOV dword ptr [EBP + -0x4],0x0
0099a353 : TEST EAX,EAX
0099a355 : JZ 0x0099a361
0099a357 : PUSH EAX
0099a358 : CALL 0x0099c0d0
0099a35d : MOV ESI,EAX
0099a35f : JMP 0x0099a363
0099a361 : XOR ESI,ESI
0099a363 : MOV dword ptr [EBP + -0x4],0xffffffff
0099a36a : MOV dword ptr [EDI],ESI
0099a36c : MOV EDX,dword ptr [ESI + 0x4]
0099a36f : MOV EAX,dword ptr [EDX + 0x4]
0099a372 : PUSH EAX
0099a373 : MOV ECX,ESI
0099a375 : CALL 0x00401c00
0099a37a : MOV ECX,dword ptr [0x01725270]
0099a380 : MOV EAX,dword ptr [ESI + 0x4]
0099a383 : SHR ECX,0x3
0099a386 : MOV EDX,0x0
0099a38b : AND ECX,0x1
0099a38e : SETZ DL
0099a391 : MOV dword ptr [EAX + 0x4],EAX
0099a394 : MOV EAX,dword ptr [ESI + 0x4]
0099a397 : MOV dword ptr [ESI + 0x8],0x0
0099a39e : MOV dword ptr [EAX],EAX
0099a3a0 : MOV ESI,dword ptr [ESI + 0x4]
0099a3a3 : MOV dword ptr [ESI + 0x8],ESI
0099a3a6 : PUSH EDX
0099a3a7 : PUSH 0x0
0099a3a9 : PUSH 0xbf1a4a
0099a3ae : PUSH 0xc
0099a3b0 : CALL 0x006f0760
0099a3b5 : ADD ESP,0x10
0099a3b8 : MOV dword ptr [EBP + -0x10],EAX
0099a3bb : MOV dword ptr [EBP + -0x4],0x1
0099a3c2 : TEST EAX,EAX
0099a3c4 : JZ 0x0099a3d0
0099a3c6 : PUSH EAX
0099a3c7 : CALL 0x0099c0d0
0099a3cc : MOV ESI,EAX
0099a3ce : JMP 0x0099a3d2
0099a3d0 : XOR ESI,ESI
0099a3d2 : MOV dword ptr [EBP + -0x4],0xffffffff
0099a3d9 : MOV dword ptr [EDI + 0x4],ESI
0099a3dc : MOV EAX,dword ptr [ESI + 0x4]
0099a3df : MOV ECX,dword ptr [EAX + 0x4]
0099a3e2 : PUSH ECX
0099a3e3 : MOV ECX,ESI
0099a3e5 : CALL 0x00401c00
0099a3ea : MOV EAX,dword ptr [ESI + 0x4]
0099a3ed : MOV EDX,dword ptr [0x01725270]
0099a3f3 : MOV dword ptr [EAX + 0x4],EAX
0099a3f6 : MOV EAX,dword ptr [ESI + 0x4]
0099a3f9 : MOV dword ptr [ESI + 0x8],0x0
0099a400 : MOV dword ptr [EAX],EAX
0099a402 : MOV ESI,dword ptr [ESI + 0x4]
0099a405 : SHR EDX,0x3
0099a408 : MOV EAX,0x0
0099a40d : AND EDX,0x1
0099a410 : SETZ AL
0099a413 : MOV dword ptr [ESI + 0x8],ESI
0099a416 : PUSH EAX
0099a417 : PUSH 0x0
0099a419 : PUSH 0xbf1a4a
0099a41e : PUSH 0x7c
0099a420 : CALL 0x006f0760
0099a425 : ADD ESP,0x10
0099a428 : MOV dword ptr [EBP + -0x10],EAX
0099a42b : MOV dword ptr [EBP + -0x4],0x2
0099a432 : TEST EAX,EAX
0099a434 : JZ 0x0099a441
0099a436 : MOV ECX,dword ptr [EBP + 0x8]
0099a439 : PUSH EAX
0099a43a : CALL 0x009983e0
0099a43f : JMP 0x0099a443
0099a441 : XOR EAX,EAX
0099a443 : MOV dword ptr [EBP + -0x4],0xffffffff
0099a44a : MOV dword ptr [EDI + 0x8],EAX
0099a44d : MOV EDX,dword ptr [EAX]
0099a44f : MOV ECX,EAX
0099a451 : MOV EAX,dword ptr [EDX + 0xc]
0099a454 : CALL EAX
0099a456 : MOV EAX,EDI
0099a458 : MOV ECX,dword ptr [EBP + -0xc]
0099a45b : MOV dword ptr FS:[0x0],ECX
0099a462 : POP ECX
0099a463 : POP ESI
0099a464 : MOV ESP,EBP
0099a466 : POP EBP
0099a467 : RET 0x4
