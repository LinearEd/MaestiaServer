PROGRAM  : Maestia.exe
FUNCTION : FUN_004fcfb0
ENTRY    : 004fcfb0
BODY     : [[004fcfb0, 004fd04c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004fcfb0(int param_1,undefined4 *param_2,undefined4 param_3)

{
  int iVar1;
  undefined4 *puVar2;
  void *local_c;
  undefined1 *puStack_8;
  undefined4 local_4;
  
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00b820c1;
  local_c = ExceptionList;
  ExceptionList = &local_c;
  if (*(int *)(param_1 + 0x1c) == 0) {
    FUN_00473bc0(param_1 + 0xc,*(int *)(param_1 + 0x18) * 2 + 1);
  }
  *(int *)(param_1 + 0x1c) = *(int *)(param_1 + 0x1c) + -1;
  iVar1 = *(int *)(*(int *)(param_1 + 0x14) + *(int *)(param_1 + 0x1c) * 4);
  if (iVar1 == 0) {
    puVar2 = (undefined4 *)0x0;
  }
  else {
    puVar2 = (undefined4 *)(*(int *)(param_1 + 0x10) + iVar1);
  }
  if (puVar2 != (undefined4 *)0x0) {
    *puVar2 = *param_2;
    puVar2[2] = 0;
    puVar2[3] = 0;
    puVar2[4] = param_3;
    puVar2[5] = 0;
  }
  ExceptionList = local_c;
  return;
}



============================================================
DISASSEMBLY
============================================================
004fcfb0 : PUSH -0x1
004fcfb2 : PUSH 0xb820c1
004fcfb7 : MOV EAX,FS:[0x0]
004fcfbd : PUSH EAX
004fcfbe : PUSH ECX
004fcfbf : PUSH EBX
004fcfc0 : PUSH ESI
004fcfc1 : PUSH EDI
004fcfc2 : MOV EAX,[0x00d66fa0]
004fcfc7 : XOR EAX,ESP
004fcfc9 : PUSH EAX
004fcfca : LEA EAX,[ESP + 0x14]
004fcfce : MOV FS:[0x0],EAX
004fcfd4 : MOV EBX,dword ptr [ESP + 0x24]
004fcfd8 : LEA ESI,[EBX + 0xc]
004fcfdb : XOR EDI,EDI
004fcfdd : CMP dword ptr [ESI + 0x10],EDI
004fcfe0 : JNZ 0x004fcff0
004fcfe2 : MOV EAX,dword ptr [ESI + 0xc]
004fcfe5 : LEA ECX,[EAX + EAX*0x1 + 0x1]
004fcfe9 : PUSH ECX
004fcfea : PUSH ESI
004fcfeb : CALL 0x00473bc0
004fcff0 : MOV ECX,dword ptr [ESI + 0x8]
004fcff3 : OR EDX,0xffffffff
004fcff6 : ADD dword ptr [ESI + 0x10],EDX
004fcff9 : MOV EAX,dword ptr [ESI + 0x10]
004fcffc : MOV EAX,dword ptr [ECX + EAX*0x4]
004fcfff : CMP EAX,EDI
004fd001 : JZ 0x004fd00a
004fd003 : MOV ECX,dword ptr [EBX + 0x10]
004fd006 : ADD ECX,EAX
004fd008 : JMP 0x004fd00c
004fd00a : XOR ECX,ECX
004fd00c : MOV dword ptr [ESP + 0x24],ECX
004fd010 : MOV dword ptr [ESP + 0x10],ECX
004fd014 : MOV dword ptr [ESP + 0x1c],EDI
004fd018 : CMP ECX,EDI
004fd01a : JZ 0x004fd034
004fd01c : MOV ESI,dword ptr [ESP + 0x28]
004fd020 : MOV ESI,dword ptr [ESI]
004fd022 : MOV dword ptr [ECX],ESI
004fd024 : MOV ESI,dword ptr [ESP + 0x2c]
004fd028 : MOV dword ptr [ECX + 0x8],EDI
004fd02b : MOV dword ptr [ECX + 0xc],EDI
004fd02e : MOV dword ptr [ECX + 0x10],ESI
004fd031 : MOV dword ptr [ECX + 0x14],EDI
004fd034 : MOV dword ptr [ESP + 0x1c],EDX
004fd038 : MOV ECX,dword ptr [ESP + 0x14]
004fd03c : MOV dword ptr FS:[0x0],ECX
004fd043 : POP ECX
004fd044 : POP EDI
004fd045 : POP ESI
004fd046 : POP EBX
004fd047 : ADD ESP,0x10
004fd04a : RET 0xc
