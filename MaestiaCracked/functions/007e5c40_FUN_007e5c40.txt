PROGRAM  : Maestia.exe
FUNCTION : FUN_007e5c40
ENTRY    : 007e5c40
BODY     : [[007e5c40, 007e5da2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007e5c40(undefined4 param_1)

{
  int iVar1;
  float fVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  int in_ECX;
  float local_24;
  float local_20;
  float local_1c;
  float local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3730c;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(int *)(in_ECX + 0xe8) == 0) {
    uVar3 = *(uint *)(in_ECX + 0x170);
    if (*(uint *)(in_ECX + 0x170) <= *(uint *)(in_ECX + 0x16c)) {
      uVar3 = *(uint *)(in_ECX + 0x16c);
    }
    fVar2 = (float)(int)uVar3;
    if ((int)uVar3 < 0) {
      fVar2 = fVar2 + 4.2949673e+09;
    }
    iVar1 = *(int *)(in_ECX + 0x9c);
    local_18 = (float)*(int *)(iVar1 + 0x58);
    if (*(int *)(iVar1 + 0x58) < 0) {
      local_18 = local_18 + 4.2949673e+09;
    }
    local_18 = local_18 * *(float *)(iVar1 + 100);
    local_1c = local_18 * (fVar2 + 1.0);
    local_24 = local_1c * DAT_00d72c24 - local_18 * DAT_00d72c24;
    local_20 = local_24;
    FUN_007df6c0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    local_18 = (float)FUN_006f0760(0xb8,".\\Terrain\\AvaTerrainSceneMgr.cpp",0x20dc,0);
    local_8 = 0;
    if (local_18 == 0.0) {
      uVar4 = 0;
    }
    else {
      uVar4 = FUN_00779b10(local_18,&local_24,local_1c,*(undefined2 *)(in_ECX + 0x18a));
    }
    *(undefined4 *)(in_ECX + 0xe8) = uVar4;
  }
  local_8 = 0xffffffff;
  if (*(int *)(in_ECX + 0xe8) != 0) {
    FUN_00779d50(param_1);
    FUN_00779480();
    iVar1 = *(int *)(in_ECX + 0xf0);
    iVar5 = FUN_004c09c0(iVar1,*(undefined4 *)(iVar1 + 4),&param_1);
    FUN_0045d370();
    *(int *)(iVar1 + 4) = iVar5;
    **(int **)(iVar5 + 4) = iVar5;
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
007e5c40 : PUSH EBP
007e5c41 : MOV EBP,ESP
007e5c43 : PUSH -0x1
007e5c45 : PUSH 0xb3730c
007e5c4a : MOV EAX,FS:[0x0]
007e5c50 : PUSH EAX
007e5c51 : SUB ESP,0x18
007e5c54 : PUSH EBX
007e5c55 : PUSH ESI
007e5c56 : PUSH EDI
007e5c57 : MOV EAX,[0x00d66fa0]
007e5c5c : XOR EAX,EBP
007e5c5e : PUSH EAX
007e5c5f : LEA EAX,[EBP + -0xc]
007e5c62 : MOV FS:[0x0],EAX
007e5c68 : MOV EDI,ECX
007e5c6a : CMP dword ptr [EDI + 0xe8],0x0
007e5c71 : JNZ 0x007e5d46
007e5c77 : MOV EAX,dword ptr [EDI + 0x170]
007e5c7d : MOV ECX,dword ptr [EDI + 0x16c]
007e5c83 : CMP EAX,ECX
007e5c85 : JA 0x007e5c89
007e5c87 : MOV EAX,ECX
007e5c89 : MOV dword ptr [EBP + -0x18],EAX
007e5c8c : FILD dword ptr [EBP + -0x18]
007e5c8f : TEST EAX,EAX
007e5c91 : JGE 0x007e5c99
007e5c93 : FADD float ptr [0x00cdf0e0]
007e5c99 : FADD float ptr [0x00c10fc4]
007e5c9f : MOV EAX,dword ptr [EDI + 0x9c]
007e5ca5 : MOV ECX,dword ptr [EAX + 0x58]
007e5ca8 : FSTP float ptr [EBP + -0x18]
007e5cab : FILD dword ptr [EAX + 0x58]
007e5cae : TEST ECX,ECX
007e5cb0 : JGE 0x007e5cb8
007e5cb2 : FADD float ptr [0x00cdf0e0]
007e5cb8 : FMUL float ptr [EAX + 0x64]
007e5cbb : MOVSS XMM2,dword ptr [0x00d72c24]
007e5cc3 : MOV ESI,EDI
007e5cc5 : FSTP float ptr [EBP + -0x14]
007e5cc8 : MOVSS XMM1,dword ptr [EBP + -0x14]
007e5ccd : MOVAPS XMM0,XMM1
007e5cd0 : MULSS XMM0,dword ptr [EBP + -0x18]
007e5cd5 : MOVSS dword ptr [EBP + -0x18],XMM0
007e5cda : MULSS XMM0,XMM2
007e5cde : MULSS XMM1,XMM2
007e5ce2 : SUBSS XMM0,XMM1
007e5ce6 : MOVSS dword ptr [EBP + -0x20],XMM0
007e5ceb : MOVSS dword ptr [EBP + -0x1c],XMM0
007e5cf0 : CALL 0x007df6c0
007e5cf5 : PUSH 0x0
007e5cf7 : PUSH 0x20dc
007e5cfc : PUSH 0xc23fe4
007e5d01 : PUSH 0xb8
007e5d06 : CALL 0x006f0760
007e5d0b : ADD ESP,0x10
007e5d0e : MOV dword ptr [EBP + -0x14],EAX
007e5d11 : MOV dword ptr [EBP + -0x4],0x0
007e5d18 : TEST EAX,EAX
007e5d1a : JZ 0x007e5d37
007e5d1c : MOVZX EDX,word ptr [EDI + 0x18a]
007e5d23 : FLD float ptr [EBP + -0x18]
007e5d26 : PUSH EDX
007e5d27 : PUSH ECX
007e5d28 : LEA ECX,[EBP + -0x20]
007e5d2b : FSTP float ptr [ESP]
007e5d2e : PUSH ECX
007e5d2f : PUSH EAX
007e5d30 : CALL 0x00779b10
007e5d35 : JMP 0x007e5d39
007e5d37 : XOR EAX,EAX
007e5d39 : MOV dword ptr [EBP + -0x4],0xffffffff
007e5d40 : MOV dword ptr [EDI + 0xe8],EAX
007e5d46 : MOV ESI,dword ptr [EDI + 0xe8]
007e5d4c : TEST ESI,ESI
007e5d4e : JZ 0x007e5d8f
007e5d50 : MOV EDX,dword ptr [EBP + 0x8]
007e5d53 : PUSH EDX
007e5d54 : CALL 0x00779d50
007e5d59 : MOV ESI,dword ptr [EDI + 0xe8]
007e5d5f : CALL 0x00779480
007e5d64 : MOV ESI,dword ptr [EDI + 0xf0]
007e5d6a : MOV ECX,dword ptr [ESI + 0x4]
007e5d6d : LEA EBX,[EDI + 0xec]
007e5d73 : LEA EAX,[EBP + 0x8]
007e5d76 : PUSH EAX
007e5d77 : PUSH ECX
007e5d78 : PUSH ESI
007e5d79 : CALL 0x004c09c0
007e5d7e : MOV ECX,EBX
007e5d80 : MOV EDI,EAX
007e5d82 : CALL 0x0045d370
007e5d87 : MOV dword ptr [ESI + 0x4],EDI
007e5d8a : MOV EDX,dword ptr [EDI + 0x4]
007e5d8d : MOV dword ptr [EDX],EDI
007e5d8f : MOV ECX,dword ptr [EBP + -0xc]
007e5d92 : MOV dword ptr FS:[0x0],ECX
007e5d99 : POP ECX
007e5d9a : POP EDI
007e5d9b : POP ESI
007e5d9c : POP EBX
007e5d9d : MOV ESP,EBP
007e5d9f : POP EBP
007e5da0 : RET 0x4
