PROGRAM  : Maestia.exe
FUNCTION : FUN_007f70c0
ENTRY    : 007f70c0
BODY     : [[007f70c0, 007f71bc]]

============================================================
DECOMPILED C CODE
============================================================

char * FUN_007f70c0(undefined4 param_1)

{
  char *pcVar1;
  int in_ECX;
  LPCRITICAL_SECTION local_24;
  char *local_20;
  undefined4 local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0db00;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  local_24 = (LPCRITICAL_SECTION)(in_ECX + 0xc);
  local_18 = 0;
  local_20 = ".\\World\\AvaWorld.cpp";
  local_1c = 0x770;
  local_14 = 1;
  FUN_006ef1a0(&local_24);
  local_8 = 0;
  if (*(int *)(in_ECX + 4) != 2) {
    local_8 = 0xffffffff;
    if (local_18 != 0) {
      LeaveCriticalSection(local_24);
    }
    ExceptionList = local_10;
    return "undefined";
  }
  if (*(int *)(in_ECX + 0x54) == 0) {
    local_8 = 0xffffffff;
    if (local_18 != 0) {
      LeaveCriticalSection(local_24);
    }
    ExceptionList = local_10;
    return "undefined";
  }
  pcVar1 = (char *)FUN_00678cf0(param_1);
  local_8 = 0xffffffff;
  if (local_18 != 0) {
    LeaveCriticalSection(local_24);
  }
  ExceptionList = local_10;
  return pcVar1;
}



============================================================
DISASSEMBLY
============================================================
007f70c0 : PUSH EBP
007f70c1 : MOV EBP,ESP
007f70c3 : PUSH -0x1
007f70c5 : PUSH 0xb0db00
007f70ca : MOV EAX,FS:[0x0]
007f70d0 : PUSH EAX
007f70d1 : SUB ESP,0x14
007f70d4 : PUSH ESI
007f70d5 : PUSH EDI
007f70d6 : MOV EAX,[0x00d66fa0]
007f70db : XOR EAX,EBP
007f70dd : PUSH EAX
007f70de : LEA EAX,[EBP + -0xc]
007f70e1 : MOV FS:[0x0],EAX
007f70e7 : MOV ESI,ECX
007f70e9 : LEA ECX,[EBP + -0x20]
007f70ec : LEA EAX,[ESI + 0xc]
007f70ef : XOR EDI,EDI
007f70f1 : PUSH ECX
007f70f2 : MOV dword ptr [EBP + -0x14],EDI
007f70f5 : MOV dword ptr [EBP + -0x20],EAX
007f70f8 : MOV dword ptr [EBP + -0x1c],0xc2561c
007f70ff : MOV dword ptr [EBP + -0x18],0x770
007f7106 : MOV dword ptr [EBP + -0x10],0x1
007f710d : CALL 0x006ef1a0
007f7112 : MOV dword ptr [EBP + -0x4],EDI
007f7115 : CMP dword ptr [ESI + 0x4],0x2
007f7119 : JZ 0x007f714c
007f711b : MOV dword ptr [EBP + -0x4],0xffffffff
007f7122 : CMP dword ptr [EBP + -0x14],EDI
007f7125 : JZ 0x007f7134
007f7127 : MOV EDX,dword ptr [EBP + -0x20]
007f712a : PUSH EDX
007f712b : CALL dword ptr [0x00b8511c]
007f7131 : MOV dword ptr [EBP + -0x14],EDI
007f7134 : MOV EAX,0xc25634
007f7139 : MOV ECX,dword ptr [EBP + -0xc]
007f713c : MOV dword ptr FS:[0x0],ECX
007f7143 : POP ECX
007f7144 : POP EDI
007f7145 : POP ESI
007f7146 : MOV ESP,EBP
007f7148 : POP EBP
007f7149 : RET 0x4
007f714c : MOV ECX,dword ptr [ESI + 0x54]
007f714f : CMP ECX,EDI
007f7151 : JNZ 0x007f7184
007f7153 : MOV dword ptr [EBP + -0x4],0xffffffff
007f715a : CMP dword ptr [EBP + -0x14],EDI
007f715d : JZ 0x007f716c
007f715f : MOV EAX,dword ptr [EBP + -0x20]
007f7162 : PUSH EAX
007f7163 : CALL dword ptr [0x00b8511c]
007f7169 : MOV dword ptr [EBP + -0x14],EDI
007f716c : MOV EAX,0xc25640
007f7171 : MOV ECX,dword ptr [EBP + -0xc]
007f7174 : MOV dword ptr FS:[0x0],ECX
007f717b : POP ECX
007f717c : POP EDI
007f717d : POP ESI
007f717e : MOV ESP,EBP
007f7180 : POP EBP
007f7181 : RET 0x4
007f7184 : MOV EDX,dword ptr [EBP + 0x8]
007f7187 : PUSH EDX
007f7188 : CALL 0x00678cf0
007f718d : MOV ESI,EAX
007f718f : MOV dword ptr [EBP + -0x4],0xffffffff
007f7196 : CMP dword ptr [EBP + -0x14],EDI
007f7199 : JZ 0x007f71a8
007f719b : MOV EAX,dword ptr [EBP + -0x20]
007f719e : PUSH EAX
007f719f : CALL dword ptr [0x00b8511c]
007f71a5 : MOV dword ptr [EBP + -0x14],EDI
007f71a8 : MOV EAX,ESI
007f71aa : MOV ECX,dword ptr [EBP + -0xc]
007f71ad : MOV dword ptr FS:[0x0],ECX
007f71b4 : POP ECX
007f71b5 : POP EDI
007f71b6 : POP ESI
007f71b7 : MOV ESP,EBP
007f71b9 : POP EBP
007f71ba : RET 0x4
