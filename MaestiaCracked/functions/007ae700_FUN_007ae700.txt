PROGRAM  : Maestia.exe
FUNCTION : FUN_007ae700
ENTRY    : 007ae700
BODY     : [[007ae700, 007ae892]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007ae700(int *param_1)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  char cVar4;
  int iVar5;
  DWORD DVar6;
  
  iVar3 = (int)param_1;
  if (*(char *)((int)param_1 + 700) != '\0') {
    while ((cVar4 = FUN_00476150(), cVar4 == '\0' && (iVar5 = FUN_00476070(), iVar5 != 0))) {
      FUN_007add90(iVar3);
    }
    *(undefined1 *)(iVar3 + 0x25c0) = 0;
    if ((*(char *)(iVar3 + 700) != '\0') && (*(char *)(iVar3 + 0x2bd) != '\0')) {
      DVar6 = GetTickCount();
      *(DWORD *)(iVar3 + 0x2c4) = DVar6;
      if ((*(int *)(iVar3 + 0x368) != 0) &&
         (param_1 = (int *)**(int **)(iVar3 + 0x364), param_1 != *(int **)(iVar3 + 0x364))) {
        do {
          iVar5 = (int)param_1;
          piVar1 = *(int **)((int)param_1 + 0x10);
          if ((piVar1 != (int *)0x0) && (cVar4 = (**(code **)(*piVar1 + 0x30))(), cVar4 != '\0')) {
            (**(code **)(*piVar1 + 0x18))();
            (**(code **)(*piVar1 + 0x1c))();
            (**(code **)*piVar1)(1);
            iVar2 = *(int *)(iVar5 + 0xc);
            if (iVar2 != 0) {
              FUN_00785db0(iVar2 + 0xc);
            }
            FUN_0042b2c0(iVar3 + 0x360,&param_1,iVar5);
            break;
          }
          FUN_00416210();
        } while (param_1 != (int *)*(int *)(iVar3 + 0x364));
      }
      if ((*(int *)(iVar3 + 0x374) != 0) &&
         (param_1 = (int *)**(int **)(iVar3 + 0x370), param_1 != *(int **)(iVar3 + 0x370))) {
        while ((iVar2 = (int)param_1, iVar5 = *(int *)((int)param_1 + 0x10), iVar5 == 0 ||
               ((*(int *)(iVar5 + 0x184) != 0 && (*(int *)(iVar5 + 0x184) != 2))))) {
          FUN_00416210();
          if (param_1 == (int *)*(int *)(iVar3 + 0x370)) {
            return;
          }
        }
        if (*(int **)(iVar5 + 0x2c) != (int *)0x0) {
          (**(code **)(**(int **)(iVar5 + 0x2c) + 0x28))(iVar5 + 0xc);
        }
        *(undefined4 *)(iVar5 + 0x2c) = 0;
        FUN_007c4290(iVar5);
        iVar5 = *(int *)(iVar2 + 0xc);
        if (iVar5 != 0) {
          FUN_00785db0(iVar5 + 0xc);
        }
        FUN_0042b2c0(iVar3 + 0x36c,&param_1,iVar2);
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
007ae700 : PUSH EBP
007ae701 : MOV EBP,ESP
007ae703 : PUSH EBX
007ae704 : MOV EBX,dword ptr [EBP + 0x8]
007ae707 : CMP byte ptr [EBX + 0x2bc],0x0
007ae70e : PUSH ESI
007ae70f : PUSH EDI
007ae710 : JZ 0x007ae88c
007ae716 : LEA ESI,[EBX + 0x20c]
007ae71c : LEA ESP,[ESP]
007ae720 : CALL 0x00476150
007ae725 : TEST AL,AL
007ae727 : JNZ 0x007ae73c
007ae729 : CALL 0x00476070
007ae72e : TEST EAX,EAX
007ae730 : JZ 0x007ae73c
007ae732 : PUSH EBX
007ae733 : MOV EDI,EAX
007ae735 : CALL 0x007add90
007ae73a : JMP 0x007ae720
007ae73c : CMP byte ptr [EBX + 0x2bc],0x0
007ae743 : MOV byte ptr [EBX + 0x25c0],0x0
007ae74a : JZ 0x007ae88c
007ae750 : CMP byte ptr [EBX + 0x2bd],0x0
007ae757 : JZ 0x007ae88c
007ae75d : CALL dword ptr [0x00b850d8]
007ae763 : CMP dword ptr [EBX + 0x368],0x0
007ae76a : MOV dword ptr [EBX + 0x2c4],EAX
007ae770 : JZ 0x007ae7ed
007ae772 : MOV EAX,dword ptr [EBX + 0x364]
007ae778 : MOV EDI,dword ptr [EAX]
007ae77a : MOV dword ptr [EBP + 0x8],EDI
007ae77d : CMP EDI,EAX
007ae77f : JZ 0x007ae7ed
007ae781 : MOV ESI,dword ptr [EDI + 0x10]
007ae784 : TEST ESI,ESI
007ae786 : JZ 0x007ae795
007ae788 : MOV EAX,dword ptr [ESI]
007ae78a : MOV EDX,dword ptr [EAX + 0x30]
007ae78d : MOV ECX,ESI
007ae78f : CALL EDX
007ae791 : TEST AL,AL
007ae793 : JNZ 0x007ae7aa
007ae795 : LEA EDX,[EBP + 0x8]
007ae798 : CALL 0x00416210
007ae79d : MOV EDI,dword ptr [EBP + 0x8]
007ae7a0 : CMP EDI,dword ptr [EBX + 0x364]
007ae7a6 : JNZ 0x007ae781
007ae7a8 : JMP 0x007ae7ed
007ae7aa : MOV EAX,dword ptr [ESI]
007ae7ac : MOV EDX,dword ptr [EAX + 0x18]
007ae7af : MOV ECX,ESI
007ae7b1 : CALL EDX
007ae7b3 : MOV EAX,dword ptr [ESI]
007ae7b5 : MOV EDX,dword ptr [EAX + 0x1c]
007ae7b8 : MOV ECX,ESI
007ae7ba : CALL EDX
007ae7bc : MOV EAX,dword ptr [ESI]
007ae7be : MOV EDX,dword ptr [EAX]
007ae7c0 : PUSH 0x1
007ae7c2 : MOV ECX,ESI
007ae7c4 : CALL EDX
007ae7c6 : MOV EAX,dword ptr [EDI + 0xc]
007ae7c9 : TEST EAX,EAX
007ae7cb : JZ 0x007ae7dc
007ae7cd : LEA ECX,[EAX + 0xc]
007ae7d0 : PUSH ECX
007ae7d1 : MOV ECX,dword ptr [EAX + 0x30c]
007ae7d7 : CALL 0x00785db0
007ae7dc : PUSH EDI
007ae7dd : LEA EDX,[EBP + 0x8]
007ae7e0 : PUSH EDX
007ae7e1 : LEA EAX,[EBX + 0x360]
007ae7e7 : PUSH EAX
007ae7e8 : CALL 0x0042b2c0
007ae7ed : CMP dword ptr [EBX + 0x374],0x0
007ae7f4 : JZ 0x007ae88c
007ae7fa : MOV EAX,dword ptr [EBX + 0x370]
007ae800 : MOV EDI,dword ptr [EAX]
007ae802 : MOV dword ptr [EBP + 0x8],EDI
007ae805 : CMP EDI,EAX
007ae807 : JZ 0x007ae88c
007ae80d : LEA ECX,[ECX]
007ae810 : MOV ESI,dword ptr [EDI + 0x10]
007ae813 : TEST ESI,ESI
007ae815 : JZ 0x007ae826
007ae817 : MOV EAX,dword ptr [ESI + 0x184]
007ae81d : TEST EAX,EAX
007ae81f : JZ 0x007ae840
007ae821 : CMP EAX,0x2
007ae824 : JZ 0x007ae840
007ae826 : LEA EDX,[EBP + 0x8]
007ae829 : CALL 0x00416210
007ae82e : MOV EDI,dword ptr [EBP + 0x8]
007ae831 : CMP EDI,dword ptr [EBX + 0x370]
007ae837 : JNZ 0x007ae810
007ae839 : POP EDI
007ae83a : POP ESI
007ae83b : POP EBX
007ae83c : POP EBP
007ae83d : RET 0x4
007ae840 : MOV ECX,dword ptr [ESI + 0x2c]
007ae843 : TEST ECX,ECX
007ae845 : JZ 0x007ae852
007ae847 : MOV EDX,dword ptr [ECX]
007ae849 : MOV EDX,dword ptr [EDX + 0x28]
007ae84c : LEA EAX,[ESI + 0xc]
007ae84f : PUSH EAX
007ae850 : CALL EDX
007ae852 : MOV ECX,dword ptr [0x017251f8]
007ae858 : PUSH ESI
007ae859 : MOV dword ptr [ESI + 0x2c],0x0
007ae860 : CALL 0x007c4290
007ae865 : MOV EAX,dword ptr [EDI + 0xc]
007ae868 : TEST EAX,EAX
007ae86a : JZ 0x007ae87b
007ae86c : LEA ECX,[EAX + 0xc]
007ae86f : PUSH ECX
007ae870 : MOV ECX,dword ptr [EAX + 0x30c]
007ae876 : CALL 0x00785db0
007ae87b : PUSH EDI
007ae87c : LEA EDX,[EBP + 0x8]
007ae87f : PUSH EDX
007ae880 : ADD EBX,0x36c
007ae886 : PUSH EBX
007ae887 : CALL 0x0042b2c0
007ae88c : POP EDI
007ae88d : POP ESI
007ae88e : POP EBX
007ae88f : POP EBP
007ae890 : RET 0x4
