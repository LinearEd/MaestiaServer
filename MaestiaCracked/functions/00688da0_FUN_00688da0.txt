PROGRAM  : Maestia.exe
FUNCTION : FUN_00688da0
ENTRY    : 00688da0
BODY     : [[00688da0, 00688e72]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00688da0(undefined4 *param_1,uint *param_2,uint *param_3)

{
  undefined4 uVar1;
  uint uVar2;
  uint *puVar3;
  uint uVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  
  puVar3 = param_2;
  if (param_1 == (undefined4 *)0x0) {
    return (undefined4 *)0x21;
  }
  if (param_2 == (uint *)0x0) {
    return (undefined4 *)0x6;
  }
  *param_3 = 0;
  uVar1 = *param_1;
  uVar4 = FUN_00688c00(uVar1,0x28,&param_1);
  puVar6 = param_1;
  if (param_1 == (undefined4 *)0x0) {
    *(undefined4 *)(uVar4 + 0x1c) = uVar1;
    uVar2 = *puVar3;
    if ((uVar2 & 1) == 0) {
      if ((uVar2 & 4) == 0) {
        if (((uVar2 & 2) != 0) && (puVar3[4] != 0)) {
          FUN_00687f30(uVar1,uVar4);
          uVar4 = puVar3[4];
          *(undefined4 *)(uVar4 + 0x1c) = uVar1;
          *param_3 = uVar4;
          return (undefined4 *)0x0;
        }
        puVar5 = (undefined4 *)0x6;
LAB_00688e2c:
        FUN_00687f30(uVar1,uVar4);
        *param_3 = 0;
        return puVar5;
      }
      puVar5 = (undefined4 *)FUN_006bf3a0(uVar4,puVar3[3]);
      *(uint *)(uVar4 + 0x10) = puVar3[3];
      puVar6 = (undefined4 *)0x0;
      if (puVar5 != (undefined4 *)0x0) goto LAB_00688e2c;
    }
    else {
      FUN_00687780(uVar4,puVar3[1],puVar3[2]);
    }
    *(undefined4 *)(uVar4 + 0x1c) = uVar1;
    *param_3 = uVar4;
  }
  return puVar6;
}



============================================================
DISASSEMBLY
============================================================
00688da0 : MOV EAX,dword ptr [ESP + 0x4]
00688da4 : TEST EAX,EAX
00688da6 : JNZ 0x00688dae
00688da8 : MOV EAX,0x21
00688dad : RET
00688dae : PUSH EBX
00688daf : MOV EBX,dword ptr [ESP + 0xc]
00688db3 : TEST EBX,EBX
00688db5 : JNZ 0x00688dbc
00688db7 : LEA EAX,[EBX + 0x6]
00688dba : POP EBX
00688dbb : RET
00688dbc : MOV ECX,dword ptr [ESP + 0x10]
00688dc0 : PUSH EBP
00688dc1 : PUSH ESI
00688dc2 : PUSH EDI
00688dc3 : LEA EDX,[ESP + 0x14]
00688dc7 : PUSH EDX
00688dc8 : MOV dword ptr [ECX],0x0
00688dce : MOV EDI,dword ptr [EAX]
00688dd0 : PUSH 0x28
00688dd2 : PUSH EDI
00688dd3 : CALL 0x00688c00
00688dd8 : MOV EBP,dword ptr [ESP + 0x20]
00688ddc : ADD ESP,0xc
00688ddf : MOV ESI,EAX
00688de1 : TEST EBP,EBP
00688de3 : JNZ 0x00688e08
00688de5 : MOV dword ptr [ESI + 0x1c],EDI
00688de8 : MOV EAX,dword ptr [EBX]
00688dea : TEST AL,0x1
00688dec : JZ 0x00688e0f
00688dee : MOV EAX,dword ptr [EBX + 0x8]
00688df1 : MOV ECX,dword ptr [EBX + 0x4]
00688df4 : PUSH EAX
00688df5 : PUSH ECX
00688df6 : PUSH ESI
00688df7 : CALL 0x00687780
00688dfc : ADD ESP,0xc
00688dff : MOV ECX,dword ptr [ESP + 0x1c]
00688e03 : MOV dword ptr [ESI + 0x1c],EDI
00688e06 : MOV dword ptr [ECX],ESI
00688e08 : POP EDI
00688e09 : POP ESI
00688e0a : MOV EAX,EBP
00688e0c : POP EBP
00688e0d : POP EBX
00688e0e : RET
00688e0f : TEST AL,0x4
00688e11 : JZ 0x00688e45
00688e13 : MOV EDX,dword ptr [EBX + 0xc]
00688e16 : PUSH EDX
00688e17 : PUSH ESI
00688e18 : CALL 0x006bf3a0
00688e1d : MOV EBP,EAX
00688e1f : MOV EAX,dword ptr [EBX + 0xc]
00688e22 : ADD ESP,0x8
00688e25 : MOV dword ptr [ESI + 0x10],EAX
00688e28 : TEST EBP,EBP
00688e2a : JZ 0x00688dff
00688e2c : PUSH ESI
00688e2d : PUSH EDI
00688e2e : CALL 0x00687f30
00688e33 : MOV ECX,dword ptr [ESP + 0x24]
00688e37 : ADD ESP,0x8
00688e3a : XOR ESI,ESI
00688e3c : POP EDI
00688e3d : MOV dword ptr [ECX],ESI
00688e3f : POP ESI
00688e40 : MOV EAX,EBP
00688e42 : POP EBP
00688e43 : POP EBX
00688e44 : RET
00688e45 : TEST AL,0x2
00688e47 : JZ 0x00688e6c
00688e49 : CMP dword ptr [EBX + 0x10],0x0
00688e4d : JZ 0x00688e6c
00688e4f : PUSH ESI
00688e50 : PUSH EDI
00688e51 : CALL 0x00687f30
00688e56 : MOV ESI,dword ptr [EBX + 0x10]
00688e59 : MOV ECX,dword ptr [ESP + 0x24]
00688e5d : ADD ESP,0x8
00688e60 : MOV dword ptr [ESI + 0x1c],EDI
00688e63 : POP EDI
00688e64 : MOV dword ptr [ECX],ESI
00688e66 : POP ESI
00688e67 : MOV EAX,EBP
00688e69 : POP EBP
00688e6a : POP EBX
00688e6b : RET
00688e6c : MOV EBP,0x6
00688e71 : JMP 0x00688e2c
