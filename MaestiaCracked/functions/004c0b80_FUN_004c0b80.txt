PROGRAM  : Maestia.exe
FUNCTION : FUN_004c0b80
ENTRY    : 004c0b80
BODY     : [[004c0b80, 004c0d6b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004c0b80(undefined4 *param_1,undefined4 *param_2,undefined4 *param_3,code *param_4)

{
  undefined4 uVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  undefined4 *local_c;
  undefined4 *local_8;
  
  puVar8 = param_2 + (((int)param_3 - (int)param_2 >> 2) - ((int)param_3 - (int)param_2 >> 0x1f) >>
                     1);
  FUN_004c0d70(param_2,puVar8,param_3 + -1);
  puVar4 = puVar8;
  while (((param_2 < puVar4 && (iVar3 = (*param_4)(puVar4[-1],*puVar4), iVar3 == 0)) &&
         (iVar3 = (*param_4)(*puVar4,puVar4[-1]), iVar3 == 0))) {
    puVar4 = puVar4 + -1;
  }
  do {
    puVar8 = puVar8 + 1;
    puVar7 = puVar8;
    local_c = puVar8;
    local_8 = puVar4;
    puVar6 = puVar4;
    if ((param_3 <= puVar8) || (iVar3 = (*param_4)(*puVar8,*puVar4), iVar3 != 0)) break;
    iVar3 = (*param_4)(*puVar4,*puVar8);
  } while (iVar3 == 0);
joined_r0x004c0c23:
  do {
    puVar5 = puVar6;
    puVar2 = puVar7;
    puVar7 = puVar4;
    if (param_3 <= puVar2) {
joined_r0x004c0c67:
      while (param_2 < puVar4) {
        puVar7 = puVar7 + -1;
        iVar3 = (*param_4)(*puVar7,*puVar5);
        puVar8 = local_c;
        if (iVar3 == 0) {
          iVar3 = (*param_4)(*puVar5,*puVar7);
          puVar4 = local_8;
          if (iVar3 != 0) break;
          puVar5 = puVar5 + -1;
          if (puVar5 != puVar7) {
            uVar1 = *puVar5;
            *puVar5 = *puVar7;
            *puVar7 = uVar1;
          }
        }
        local_8 = local_8 + -1;
        puVar4 = local_8;
      }
      if (puVar4 == param_2) {
        if (puVar2 == param_3) {
          param_1[1] = puVar8;
          *param_1 = puVar5;
          return;
        }
        if ((puVar8 != puVar2) && (puVar5 != puVar8)) {
          uVar1 = *puVar5;
          *puVar5 = *puVar8;
          *puVar8 = uVar1;
        }
        puVar8 = puVar8 + 1;
        puVar7 = puVar2 + 1;
        local_c = puVar8;
        puVar6 = puVar5 + 1;
        if (puVar5 != puVar2) {
          uVar1 = *puVar5;
          *puVar5 = *puVar2;
          *puVar2 = uVar1;
        }
      }
      else {
        puVar4 = puVar4 + -1;
        local_8 = puVar4;
        if (puVar2 == param_3) {
          puVar6 = puVar5 + -1;
          if (puVar4 != puVar6) {
            uVar1 = *puVar4;
            *puVar4 = *puVar6;
            *puVar6 = uVar1;
          }
          puVar8 = puVar8 + -1;
          puVar7 = puVar2;
          local_c = puVar8;
          if (puVar6 != puVar8) {
            uVar1 = *puVar6;
            *puVar6 = *puVar8;
            *puVar8 = uVar1;
          }
        }
        else {
          puVar7 = puVar2 + 1;
          puVar6 = puVar5;
          if (puVar2 != puVar4) {
            uVar1 = *puVar2;
            *puVar2 = *puVar4;
            *puVar4 = uVar1;
          }
        }
      }
      goto joined_r0x004c0c23;
    }
    iVar3 = (*param_4)(*puVar5,*puVar2);
    puVar6 = puVar8;
    puVar4 = local_8;
    if (iVar3 == 0) {
      iVar3 = (*param_4)(*puVar2,*puVar5);
      puVar7 = local_8;
      if (iVar3 != 0) goto joined_r0x004c0c67;
      puVar6 = puVar8 + 1;
      local_c = puVar6;
      if (puVar8 != puVar2) {
        uVar1 = *puVar8;
        *puVar8 = *puVar2;
        *puVar2 = uVar1;
      }
    }
    puVar7 = puVar2 + 1;
    puVar8 = puVar6;
    puVar6 = puVar5;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
004c0b80 : PUSH EBP
004c0b81 : MOV EBP,ESP
004c0b83 : SUB ESP,0x10
004c0b86 : MOV ECX,dword ptr [EBP + 0xc]
004c0b89 : PUSH EBX
004c0b8a : MOV EBX,dword ptr [EBP + 0x14]
004c0b8d : PUSH ESI
004c0b8e : PUSH EDI
004c0b8f : MOV EDI,dword ptr [EBP + 0x10]
004c0b92 : MOV EAX,EDI
004c0b94 : SUB EAX,ECX
004c0b96 : SAR EAX,0x2
004c0b99 : CDQ
004c0b9a : SUB EAX,EDX
004c0b9c : SAR EAX,0x1
004c0b9e : LEA ESI,[ECX + EAX*0x4]
004c0ba1 : LEA EAX,[EDI + -0x4]
004c0ba4 : PUSH EAX
004c0ba5 : PUSH ESI
004c0ba6 : PUSH ECX
004c0ba7 : MOV EDI,EBX
004c0ba9 : CALL 0x004c0d70
004c0bae : ADD ESP,0xc
004c0bb1 : LEA EDI,[ESI + 0x4]
004c0bb4 : MOV dword ptr [EBP + -0x8],EDI
004c0bb7 : CMP dword ptr [EBP + 0xc],ESI
004c0bba : JNC 0x004c0be8
004c0bbc : LEA ESP,[ESP]
004c0bc0 : MOV EAX,dword ptr [ESI]
004c0bc2 : MOV ECX,dword ptr [ESI + -0x4]
004c0bc5 : PUSH EAX
004c0bc6 : PUSH ECX
004c0bc7 : CALL EBX
004c0bc9 : ADD ESP,0x8
004c0bcc : TEST EAX,EAX
004c0bce : JNZ 0x004c0be8
004c0bd0 : MOV EDX,dword ptr [ESI + -0x4]
004c0bd3 : MOV EAX,dword ptr [ESI]
004c0bd5 : PUSH EDX
004c0bd6 : PUSH EAX
004c0bd7 : CALL EBX
004c0bd9 : ADD ESP,0x8
004c0bdc : TEST EAX,EAX
004c0bde : JNZ 0x004c0be8
004c0be0 : ADD ESI,-0x4
004c0be3 : CMP dword ptr [EBP + 0xc],ESI
004c0be6 : JC 0x004c0bc0
004c0be8 : CMP EDI,dword ptr [EBP + 0x10]
004c0beb : JNC 0x004c0c19
004c0bed : LEA ECX,[ECX]
004c0bf0 : MOV ECX,dword ptr [ESI]
004c0bf2 : MOV EDX,dword ptr [EDI]
004c0bf4 : PUSH ECX
004c0bf5 : PUSH EDX
004c0bf6 : CALL EBX
004c0bf8 : ADD ESP,0x8
004c0bfb : TEST EAX,EAX
004c0bfd : JNZ 0x004c0c19
004c0bff : MOV EAX,dword ptr [EDI]
004c0c01 : MOV ECX,dword ptr [ESI]
004c0c03 : PUSH EAX
004c0c04 : PUSH ECX
004c0c05 : CALL EBX
004c0c07 : ADD ESP,0x8
004c0c0a : TEST EAX,EAX
004c0c0c : JNZ 0x004c0c19
004c0c0e : ADD EDI,0x4
004c0c11 : MOV dword ptr [EBP + -0x8],EDI
004c0c14 : CMP EDI,dword ptr [EBP + 0x10]
004c0c17 : JC 0x004c0bf0
004c0c19 : MOV EAX,ESI
004c0c1b : MOV EBX,EDI
004c0c1d : MOV dword ptr [EBP + -0x4],EAX
004c0c20 : CMP EBX,dword ptr [EBP + 0x10]
004c0c23 : JNC 0x004c0c64
004c0c25 : MOV EDX,dword ptr [EBX]
004c0c27 : MOV EAX,dword ptr [ESI]
004c0c29 : PUSH EDX
004c0c2a : PUSH EAX
004c0c2b : CALL dword ptr [EBP + 0x14]
004c0c2e : ADD ESP,0x8
004c0c31 : TEST EAX,EAX
004c0c33 : JNZ 0x004c0c59
004c0c35 : MOV ECX,dword ptr [ESI]
004c0c37 : MOV EDX,dword ptr [EBX]
004c0c39 : PUSH ECX
004c0c3a : PUSH EDX
004c0c3b : CALL dword ptr [EBP + 0x14]
004c0c3e : ADD ESP,0x8
004c0c41 : TEST EAX,EAX
004c0c43 : JNZ 0x004c0c61
004c0c45 : MOV EAX,EDI
004c0c47 : ADD EDI,0x4
004c0c4a : MOV dword ptr [EBP + -0x8],EDI
004c0c4d : CMP EAX,EBX
004c0c4f : JZ 0x004c0c59
004c0c51 : MOV EDX,dword ptr [EBX]
004c0c53 : MOV ECX,dword ptr [EAX]
004c0c55 : MOV dword ptr [EAX],EDX
004c0c57 : MOV dword ptr [EBX],ECX
004c0c59 : ADD EBX,0x4
004c0c5c : CMP EBX,dword ptr [EBP + 0x10]
004c0c5f : JC 0x004c0c25
004c0c61 : MOV EAX,dword ptr [EBP + -0x4]
004c0c64 : CMP EAX,dword ptr [EBP + 0xc]
004c0c67 : JBE 0x004c0cb9
004c0c69 : LEA EDI,[EAX + -0x4]
004c0c6c : LEA ESP,[ESP]
004c0c70 : MOV EAX,dword ptr [ESI]
004c0c72 : MOV ECX,dword ptr [EDI]
004c0c74 : PUSH EAX
004c0c75 : PUSH ECX
004c0c76 : CALL dword ptr [EBP + 0x14]
004c0c79 : ADD ESP,0x8
004c0c7c : TEST EAX,EAX
004c0c7e : JNZ 0x004c0c9f
004c0c80 : MOV EDX,dword ptr [EDI]
004c0c82 : MOV EAX,dword ptr [ESI]
004c0c84 : PUSH EDX
004c0c85 : PUSH EAX
004c0c86 : CALL dword ptr [EBP + 0x14]
004c0c89 : ADD ESP,0x8
004c0c8c : TEST EAX,EAX
004c0c8e : JNZ 0x004c0cb0
004c0c90 : SUB ESI,0x4
004c0c93 : CMP ESI,EDI
004c0c95 : JZ 0x004c0c9f
004c0c97 : MOV ECX,dword ptr [EDI]
004c0c99 : MOV EAX,dword ptr [ESI]
004c0c9b : MOV dword ptr [ESI],ECX
004c0c9d : MOV dword ptr [EDI],EAX
004c0c9f : MOV EAX,dword ptr [EBP + -0x4]
004c0ca2 : SUB EAX,0x4
004c0ca5 : SUB EDI,0x4
004c0ca8 : MOV dword ptr [EBP + -0x4],EAX
004c0cab : CMP dword ptr [EBP + 0xc],EAX
004c0cae : JC 0x004c0c70
004c0cb0 : MOV EAX,dword ptr [EBP + -0x4]
004c0cb3 : MOV EDI,dword ptr [EBP + -0x8]
004c0cb6 : CMP EAX,dword ptr [EBP + 0xc]
004c0cb9 : JNZ 0x004c0d08
004c0cbb : CMP EBX,dword ptr [EBP + 0x10]
004c0cbe : JZ 0x004c0d5d
004c0cc4 : CMP EDI,EBX
004c0cc6 : JZ 0x004c0cd4
004c0cc8 : CMP ESI,EDI
004c0cca : JZ 0x004c0cd4
004c0ccc : MOV EDX,dword ptr [EDI]
004c0cce : MOV ECX,dword ptr [ESI]
004c0cd0 : MOV dword ptr [ESI],EDX
004c0cd2 : MOV dword ptr [EDI],ECX
004c0cd4 : MOV EDX,EBX
004c0cd6 : MOV ECX,ESI
004c0cd8 : ADD EDI,0x4
004c0cdb : ADD EBX,0x4
004c0cde : ADD ESI,0x4
004c0ce1 : MOV dword ptr [EBP + -0x8],EDI
004c0ce4 : MOV dword ptr [EBP + -0xc],EDX
004c0ce7 : CMP ECX,EDX
004c0ce9 : JZ 0x004c0c20
004c0cef : MOV EDX,dword ptr [ECX]
004c0cf1 : MOV dword ptr [EBP + -0x10],EDX
004c0cf4 : MOV EDX,dword ptr [EBP + -0xc]
004c0cf7 : MOV EDX,dword ptr [EDX]
004c0cf9 : MOV dword ptr [ECX],EDX
004c0cfb : MOV ECX,dword ptr [EBP + -0x10]
004c0cfe : MOV EDX,dword ptr [EBP + -0xc]
004c0d01 : MOV dword ptr [EDX],ECX
004c0d03 : JMP 0x004c0c20
004c0d08 : SUB EAX,0x4
004c0d0b : MOV dword ptr [EBP + -0x4],EAX
004c0d0e : CMP EBX,dword ptr [EBP + 0x10]
004c0d11 : JNZ 0x004c0d3d
004c0d13 : SUB ESI,0x4
004c0d16 : CMP EAX,ESI
004c0d18 : JZ 0x004c0d22
004c0d1a : MOV EDX,dword ptr [ESI]
004c0d1c : MOV ECX,dword ptr [EAX]
004c0d1e : MOV dword ptr [EAX],EDX
004c0d20 : MOV dword ptr [ESI],ECX
004c0d22 : SUB EDI,0x4
004c0d25 : MOV dword ptr [EBP + -0x8],EDI
004c0d28 : CMP ESI,EDI
004c0d2a : JZ 0x004c0c20
004c0d30 : MOV EDX,dword ptr [EDI]
004c0d32 : MOV ECX,dword ptr [ESI]
004c0d34 : MOV dword ptr [ESI],EDX
004c0d36 : MOV dword ptr [EDI],ECX
004c0d38 : JMP 0x004c0c20
004c0d3d : MOV ECX,EBX
004c0d3f : ADD EBX,0x4
004c0d42 : CMP ECX,EAX
004c0d44 : JZ 0x004c0c20
004c0d4a : MOV EDX,dword ptr [ECX]
004c0d4c : MOV dword ptr [EBP + -0x10],EDX
004c0d4f : MOV EDX,dword ptr [EAX]
004c0d51 : MOV dword ptr [ECX],EDX
004c0d53 : MOV ECX,dword ptr [EBP + -0x10]
004c0d56 : MOV dword ptr [EAX],ECX
004c0d58 : JMP 0x004c0c20
004c0d5d : MOV EAX,dword ptr [EBP + 0x8]
004c0d60 : MOV dword ptr [EAX + 0x4],EDI
004c0d63 : POP EDI
004c0d64 : MOV dword ptr [EAX],ESI
004c0d66 : POP ESI
004c0d67 : POP EBX
004c0d68 : MOV ESP,EBP
004c0d6a : POP EBP
004c0d6b : RET
