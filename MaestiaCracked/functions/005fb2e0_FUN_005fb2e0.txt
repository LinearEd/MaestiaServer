PROGRAM  : Maestia.exe
FUNCTION : FUN_005fb2e0
ENTRY    : 005fb2e0
BODY     : [[005fb2e0, 005fb34c]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005fb2e0(undefined4 *param_1)

{
  uint uVar1;
  int in_ECX;
  
  if (param_1[1] != -1) {
    if ((param_1[1] == *(int *)(in_ECX + 0x164) + -1) && (*(int *)(in_ECX + 0x164) != 0)) {
      *(int *)(in_ECX + 0x164) = *(int *)(in_ECX + 0x164) + -1;
    }
    param_1[1] = param_1[2];
    param_1[2] = param_1[3];
    uVar1 = param_1[1];
    param_1[3] = 0xffffffff;
    if (uVar1 == 0xffffffff) {
      *param_1 = 0;
      return;
    }
    *(undefined4 *)
     (*(int *)(*(int *)(in_ECX + 0x170) + (uVar1 >> 10) * 4) + 4 + (uVar1 & 0x3ff) * 8) = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005fb2e0 : MOV EAX,dword ptr [ESP + 0x4]
005fb2e4 : MOV EDX,dword ptr [EAX + 0x4]
005fb2e7 : CMP EDX,-0x1
005fb2ea : JZ 0x005fb34a
005fb2ec : PUSH ESI
005fb2ed : MOV ESI,dword ptr [ECX + 0x164]
005fb2f3 : DEC ESI
005fb2f4 : CMP EDX,ESI
005fb2f6 : POP ESI
005fb2f7 : JNZ 0x005fb30a
005fb2f9 : MOV EDX,dword ptr [ECX + 0x164]
005fb2ff : TEST EDX,EDX
005fb301 : JZ 0x005fb30a
005fb303 : DEC EDX
005fb304 : MOV dword ptr [ECX + 0x164],EDX
005fb30a : MOV EDX,dword ptr [EAX + 0x8]
005fb30d : MOV dword ptr [EAX + 0x4],EDX
005fb310 : MOV EDX,dword ptr [EAX + 0xc]
005fb313 : MOV dword ptr [EAX + 0x8],EDX
005fb316 : MOV EDX,dword ptr [EAX + 0x4]
005fb319 : MOV dword ptr [EAX + 0xc],0xffffffff
005fb320 : CMP EDX,-0x1
005fb323 : JNZ 0x005fb32e
005fb325 : MOV dword ptr [EAX],0x0
005fb32b : RET 0x4
005fb32e : MOV ECX,dword ptr [ECX + 0x170]
005fb334 : MOV EAX,EDX
005fb336 : SHR EAX,0xa
005fb339 : MOV EAX,dword ptr [ECX + EAX*0x4]
005fb33c : AND EDX,0x3ff
005fb342 : MOV dword ptr [EAX + EDX*0x8 + 0x4],0x0
005fb34a : RET 0x4
