PROGRAM  : Maestia.exe
FUNCTION : FUN_008ba710
ENTRY    : 008ba710
BODY     : [[008ba710, 008ba9fe]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_008ba710(undefined4 *param_1)

{
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b2b989;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (param_1 + 1 == (undefined4 *)0x0) {
    DAT_017248c8 = (undefined4 *)0x0;
  }
  else {
    DAT_017248c8 = param_1;
  }
  local_8 = 0;
  *param_1 = &PTR_FUN_00cd0594;
  FUN_00414880(param_1 + 1);
  param_1[10] = 7;
  param_1[9] = 0;
  *(undefined2 *)(param_1 + 5) = 0;
  param_1[0x11] = 7;
  param_1[0x10] = 0;
  *(undefined2 *)(param_1 + 0xc) = 0;
  param_1[0x18] = 7;
  param_1[0x17] = 0;
  *(undefined2 *)(param_1 + 0x13) = 0;
  param_1[0x1f] = 7;
  param_1[0x1e] = 0;
  *(undefined2 *)(param_1 + 0x1a) = 0;
  param_1[0x26] = 7;
  param_1[0x25] = 0;
  *(undefined2 *)(param_1 + 0x21) = 0;
  param_1[0x2d] = 7;
  param_1[0x2c] = 0;
  *(undefined2 *)(param_1 + 0x28) = 0;
  param_1[0x34] = 7;
  param_1[0x33] = 0;
  *(undefined2 *)(param_1 + 0x2f) = 0;
  param_1[0x3b] = 7;
  param_1[0x3a] = 0;
  *(undefined2 *)(param_1 + 0x36) = 0;
  param_1[0x42] = 7;
  param_1[0x41] = 0;
  *(undefined2 *)(param_1 + 0x3d) = 0;
  param_1[0x50] = 7;
  param_1[0x4f] = 0;
  *(undefined2 *)(param_1 + 0x4b) = 0;
  param_1[0x5c] = 7;
  param_1[0x5b] = 0;
  *(undefined2 *)(param_1 + 0x57) = 0;
  param_1[100] = 7;
  param_1[99] = 0;
  *(undefined2 *)(param_1 + 0x5f) = 0;
  param_1[0x6c] = 7;
  param_1[0x6b] = 0;
  *(undefined2 *)(param_1 + 0x67) = 0;
  param_1[0x74] = 7;
  param_1[0x73] = 0;
  *(undefined2 *)(param_1 + 0x6f) = 0;
  local_8 = CONCAT31((int3)((uint)local_8 >> 8),0xf);
  *(undefined1 *)(param_1 + 0x48) = 0;
  FUN_00406360(L"Data",4);
  FUN_00406360(&DAT_00c4cc20,3);
  FUN_00406360(L"Sound",5);
  FUN_00406360(&DAT_00c4cc34,0);
  *(undefined2 *)(param_1 + 0x43) = 0x5209;
  *(undefined1 *)((int)param_1 + 0x11b) = 1;
  if (DAT_00da9877 == '\0') {
    *(undefined1 *)((int)param_1 + 0x11a) = 1;
  }
  else {
    *(undefined1 *)((int)param_1 + 0x11a) = 0;
  }
  *(undefined1 *)((int)param_1 + 0x11e) = 0;
  *(undefined1 *)(param_1 + 0x49) = 0;
  *(undefined1 *)((int)param_1 + 0x11f) = 1;
  *(undefined1 *)((int)param_1 + 0x122) = 0;
  *(undefined1 *)((int)param_1 + 0x123) = 0;
  if (DAT_00da9876 != '\0') {
    FUN_00406360(&DAT_00c4cc38,0);
    *(undefined2 *)(param_1 + 0x43) = 0;
  }
  if (DAT_00da98b8 != '\0') {
    *(undefined1 *)((int)param_1 + 0x11a) = 0;
  }
  FUN_00406360(&DAT_00c4cc3c,2);
  *(undefined2 *)(param_1 + 0x5d) = 0xc;
  *(undefined2 *)((int)param_1 + 0x176) = 500;
  *(undefined2 *)(param_1 + 0x65) = 0xc;
  *(undefined2 *)((int)param_1 + 0x196) = 500;
  *(undefined2 *)(param_1 + 0x6d) = 0xc;
  *(undefined2 *)((int)param_1 + 0x1d6) = 500;
  *(undefined2 *)((int)param_1 + 0x1b6) = 500;
  *(undefined2 *)(param_1 + 0x75) = 0xc;
  param_1[0x54] = 0;
  param_1[0x55] = 0;
  param_1[0x52] = 0;
  param_1[0x53] = 0;
  *(undefined1 *)((int)param_1 + 0x1d9) = 0;
  FUN_00406360(L"LIVE",4);
  *(undefined1 *)(param_1 + 0x51) = 0;
  *(undefined1 *)((int)param_1 + 0x145) = 0;
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
008ba710 : PUSH EBP
008ba711 : MOV EBP,ESP
008ba713 : PUSH -0x1
008ba715 : PUSH 0xb2b989
008ba71a : MOV EAX,FS:[0x0]
008ba720 : PUSH EAX
008ba721 : PUSH EBX
008ba722 : PUSH ESI
008ba723 : PUSH EDI
008ba724 : MOV EAX,[0x00d66fa0]
008ba729 : XOR EAX,EBP
008ba72b : PUSH EAX
008ba72c : LEA EAX,[EBP + -0xc]
008ba72f : MOV FS:[0x0],EAX
008ba735 : MOV ESI,dword ptr [EBP + 0x8]
008ba738 : LEA EAX,[ESI + 0x4]
008ba73b : XOR EBX,EBX
008ba73d : CMP EAX,EBX
008ba73f : JZ 0x008ba74c
008ba741 : LEA ECX,[EAX + -0x4]
008ba744 : MOV dword ptr [0x017248c8],ECX
008ba74a : JMP 0x008ba752
008ba74c : MOV dword ptr [0x017248c8],EBX
008ba752 : MOV dword ptr [EBP + -0x4],EBX
008ba755 : PUSH EAX
008ba756 : MOV dword ptr [ESI],0xcd0594
008ba75c : CALL 0x00414880
008ba761 : MOV byte ptr [EBP + -0x4],0x1
008ba765 : MOV EAX,0x7
008ba76a : XOR EDX,EDX
008ba76c : MOV dword ptr [ESI + 0x28],EAX
008ba76f : MOV dword ptr [ESI + 0x24],EBX
008ba772 : MOV word ptr [ESI + 0x14],DX
008ba776 : MOV byte ptr [EBP + -0x4],0x2
008ba77a : XOR ECX,ECX
008ba77c : MOV dword ptr [ESI + 0x44],EAX
008ba77f : MOV dword ptr [ESI + 0x40],EBX
008ba782 : MOV word ptr [ESI + 0x30],CX
008ba786 : MOV byte ptr [EBP + -0x4],0x3
008ba78a : LEA ECX,[ESI + 0x48]
008ba78d : MOV dword ptr [ECX + 0x18],EAX
008ba790 : MOV dword ptr [ECX + 0x14],EBX
008ba793 : MOV word ptr [ECX + 0x4],DX
008ba797 : MOV byte ptr [EBP + -0x4],0x4
008ba79b : MOV dword ptr [ESI + 0x7c],EAX
008ba79e : MOV dword ptr [ESI + 0x78],EBX
008ba7a1 : MOV word ptr [ESI + 0x68],DX
008ba7a5 : MOV byte ptr [EBP + -0x4],0x5
008ba7a9 : MOV dword ptr [ESI + 0x98],EAX
008ba7af : MOV dword ptr [ESI + 0x94],EBX
008ba7b5 : MOV word ptr [ESI + 0x84],DX
008ba7bc : MOV byte ptr [EBP + -0x4],0x6
008ba7c0 : MOV dword ptr [ESI + 0xb4],EAX
008ba7c6 : MOV dword ptr [ESI + 0xb0],EBX
008ba7cc : MOV word ptr [ESI + 0xa0],DX
008ba7d3 : MOV byte ptr [EBP + -0x4],AL
008ba7d6 : MOV dword ptr [ESI + 0xd0],EAX
008ba7dc : MOV dword ptr [ESI + 0xcc],EBX
008ba7e2 : MOV word ptr [ESI + 0xbc],DX
008ba7e9 : MOV byte ptr [EBP + -0x4],0x8
008ba7ed : MOV dword ptr [ESI + 0xec],EAX
008ba7f3 : MOV dword ptr [ESI + 0xe8],EBX
008ba7f9 : MOV word ptr [ESI + 0xd8],DX
008ba800 : MOV byte ptr [EBP + -0x4],0x9
008ba804 : MOV dword ptr [ESI + 0x108],EAX
008ba80a : MOV dword ptr [ESI + 0x104],EBX
008ba810 : MOV word ptr [ESI + 0xf4],DX
008ba817 : MOV byte ptr [EBP + -0x4],0xa
008ba81b : MOV dword ptr [ESI + 0x140],EAX
008ba821 : MOV dword ptr [ESI + 0x13c],EBX
008ba827 : MOV word ptr [ESI + 0x12c],DX
008ba82e : MOV byte ptr [EBP + -0x4],0xb
008ba832 : LEA EDI,[ESI + 0x158]
008ba838 : MOV dword ptr [EDI + 0x18],EAX
008ba83b : MOV dword ptr [EDI + 0x14],EBX
008ba83e : MOV word ptr [EDI + 0x4],DX
008ba842 : MOV byte ptr [EBP + -0x4],0xc
008ba846 : MOV dword ptr [ESI + 0x190],EAX
008ba84c : MOV dword ptr [ESI + 0x18c],EBX
008ba852 : MOV word ptr [ESI + 0x17c],DX
008ba859 : MOV byte ptr [EBP + -0x4],0xd
008ba85d : MOV dword ptr [ESI + 0x1b0],EAX
008ba863 : MOV dword ptr [ESI + 0x1ac],EBX
008ba869 : MOV word ptr [ESI + 0x19c],DX
008ba870 : MOV byte ptr [EBP + -0x4],0xe
008ba874 : MOV dword ptr [ESI + 0x1d0],EAX
008ba87a : XOR EAX,EAX
008ba87c : MOV dword ptr [ESI + 0x1cc],EBX
008ba882 : MOV word ptr [ESI + 0x1bc],AX
008ba889 : MOV byte ptr [EBP + -0x4],0xf
008ba88d : PUSH 0x4
008ba88f : PUSH 0xc4cc14
008ba894 : MOV byte ptr [ESI + 0x120],BL
008ba89a : CALL 0x00406360
008ba89f : PUSH 0x3
008ba8a1 : PUSH 0xc4cc20
008ba8a6 : LEA ECX,[ESI + 0x64]
008ba8a9 : CALL 0x00406360
008ba8ae : PUSH 0x5
008ba8b0 : PUSH 0xc4cc28
008ba8b5 : LEA ECX,[ESI + 0x80]
008ba8bb : CALL 0x00406360
008ba8c0 : PUSH EBX
008ba8c1 : PUSH 0xc4cc34
008ba8c6 : LEA ECX,[ESI + 0xf0]
008ba8cc : CALL 0x00406360
008ba8d1 : MOV ECX,0x5209
008ba8d6 : MOV word ptr [ESI + 0x10c],CX
008ba8dd : MOV byte ptr [ESI + 0x11b],0x1
008ba8e4 : CMP byte ptr [0x00da9877],BL
008ba8ea : JZ 0x008ba8f4
008ba8ec : MOV byte ptr [ESI + 0x11a],BL
008ba8f2 : JMP 0x008ba8fb
008ba8f4 : MOV byte ptr [ESI + 0x11a],0x1
008ba8fb : MOV byte ptr [ESI + 0x11e],BL
008ba901 : MOV byte ptr [ESI + 0x124],BL
008ba907 : MOV byte ptr [ESI + 0x11f],0x1
008ba90e : MOV byte ptr [ESI + 0x122],BL
008ba914 : MOV byte ptr [ESI + 0x123],BL
008ba91a : CMP byte ptr [0x00da9876],BL
008ba920 : JZ 0x008ba93c
008ba922 : PUSH EBX
008ba923 : PUSH 0xc4cc38
008ba928 : LEA ECX,[ESI + 0xf0]
008ba92e : CALL 0x00406360
008ba933 : XOR EDX,EDX
008ba935 : MOV word ptr [ESI + 0x10c],DX
008ba93c : CMP byte ptr [0x00da98b8],BL
008ba942 : JZ 0x008ba94a
008ba944 : MOV byte ptr [ESI + 0x11a],BL
008ba94a : PUSH 0x2
008ba94c : PUSH 0xc4cc3c
008ba951 : MOV ECX,EDI
008ba953 : CALL 0x00406360
008ba958 : MOV EAX,0xc
008ba95d : MOV EDX,EAX
008ba95f : MOV ECX,0x1f4
008ba964 : MOV word ptr [ESI + 0x174],AX
008ba96b : MOV EAX,ECX
008ba96d : MOV word ptr [ESI + 0x176],CX
008ba974 : MOV ECX,EDX
008ba976 : MOV word ptr [ESI + 0x194],DX
008ba97d : MOV EDX,EAX
008ba97f : MOV word ptr [ESI + 0x196],AX
008ba986 : MOV EAX,ECX
008ba988 : MOV word ptr [ESI + 0x1b4],CX
008ba98f : MOV ECX,EDX
008ba991 : PUSH 0x4
008ba993 : MOV word ptr [ESI + 0x1d6],CX
008ba99a : PUSH 0xc4cc44
008ba99f : LEA ECX,[ESI + 0x128]
008ba9a5 : MOV word ptr [ESI + 0x1b6],DX
008ba9ac : MOV word ptr [ESI + 0x1d4],AX
008ba9b3 : MOV dword ptr [ESI + 0x150],EBX
008ba9b9 : MOV dword ptr [ESI + 0x154],EBX
008ba9bf : MOV dword ptr [ESI + 0x148],EBX
008ba9c5 : MOV dword ptr [ESI + 0x14c],EBX
008ba9cb : MOV byte ptr [ESI + 0x1d9],BL
008ba9d1 : CALL 0x00406360
008ba9d6 : MOV byte ptr [ESI + 0x144],BL
008ba9dc : MOV byte ptr [ESI + 0x145],BL
008ba9e2 : MOV dword ptr [EBP + -0x4],0xffffffff
008ba9e9 : MOV EAX,ESI
008ba9eb : MOV ECX,dword ptr [EBP + -0xc]
008ba9ee : MOV dword ptr FS:[0x0],ECX
008ba9f5 : POP ECX
008ba9f6 : POP EDI
008ba9f7 : POP ESI
008ba9f8 : POP EBX
008ba9f9 : MOV ESP,EBP
008ba9fb : POP EBP
008ba9fc : RET 0x4
