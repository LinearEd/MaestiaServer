PROGRAM  : Maestia.exe
FUNCTION : FUN_0056a4f0
ENTRY    : 0056a4f0
BODY     : [[0056a4f0, 0056a538]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0056a4f0(void)

{
  GRefCountNTSImpl *pGVar1;
  code *pcVar2;
  int in_ECX;
  GRefCountNTSImpl *this;
  
  this = *(GRefCountNTSImpl **)(in_ECX + 0xafc);
  if (this != (GRefCountNTSImpl *)0x0) {
    do {
      pGVar1 = *(GRefCountNTSImpl **)(this + 0x78);
      pcVar2 = *(code **)(*(int *)this + 0x74);
      *(undefined4 *)(this + 0x78) = 0;
      (*pcVar2)();
      if (*(int **)(this + 0x20) != (int *)0x0) {
        (**(code **)(**(int **)(this + 0x20) + 0x7c))(this);
      }
      GRefCountNTSImpl::Release(this);
      this = pGVar1;
    } while (pGVar1 != (GRefCountNTSImpl *)0x0);
    *(undefined4 *)(in_ECX + 0xafc) = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0056a4f0 : PUSH EBP
0056a4f1 : MOV EBP,ECX
0056a4f3 : PUSH ESI
0056a4f4 : MOV ESI,dword ptr [EBP + 0xafc]
0056a4fa : TEST ESI,ESI
0056a4fc : JZ 0x0056a536
0056a4fe : PUSH EDI
0056a4ff : NOP
0056a500 : MOV EAX,dword ptr [ESI]
0056a502 : MOV EDI,dword ptr [ESI + 0x78]
0056a505 : MOV EDX,dword ptr [EAX + 0x74]
0056a508 : MOV ECX,ESI
0056a50a : MOV dword ptr [ESI + 0x78],0x0
0056a511 : CALL EDX
0056a513 : MOV ECX,dword ptr [ESI + 0x20]
0056a516 : TEST ECX,ECX
0056a518 : JZ 0x0056a522
0056a51a : MOV EAX,dword ptr [ECX]
0056a51c : MOV EDX,dword ptr [EAX + 0x7c]
0056a51f : PUSH ESI
0056a520 : CALL EDX
0056a522 : MOV ECX,ESI
0056a524 : CALL 0x004ff7c0
0056a529 : MOV ESI,EDI
0056a52b : TEST EDI,EDI
0056a52d : JNZ 0x0056a500
0056a52f : MOV dword ptr [EBP + 0xafc],EDI
0056a535 : POP EDI
0056a536 : POP ESI
0056a537 : POP EBP
0056a538 : RET
