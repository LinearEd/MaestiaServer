PROGRAM  : Maestia.exe
FUNCTION : FUN_00ab6c80
ENTRY    : 00ab6c80
BODY     : [[00ab6c80, 00ab6dee]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00ab6d24) */

int FUN_00ab6c80(void)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  ushort *puVar4;
  int in_ECX;
  ushort *puVar5;
  uint uVar6;
  uint uVar7;
  LPCRITICAL_SECTION local_38;
  char *local_34;
  undefined4 local_30;
  int local_2c;
  undefined4 local_28;
  int *local_24;
  uint local_20;
  int local_1c;
  int *local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b10bac;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_38 = (LPCRITICAL_SECTION)(in_ECX + 8);
  local_2c = 0;
  local_34 = ".\\Objects\\AvaMyParty.cpp";
  local_30 = 0x119;
  local_28 = 1;
  FUN_006ef1a0(&local_38);
  local_8 = 0;
  local_24 = *(int **)(in_ECX + 0x2c);
  local_18 = (int *)*local_24;
  if (local_18 != local_24) {
    local_1c = *(int *)(DAT_0172491c + 0x17c);
    uVar7 = *(uint *)(local_1c + 0x20);
    local_20 = *(uint *)(local_1c + 0x24);
    local_14 = uVar7;
    do {
      iVar1 = local_18[4];
      if (local_20 < 8) {
        puVar4 = (ushort *)(local_1c + 0x10);
      }
      else {
        puVar4 = *(ushort **)(local_1c + 0x10);
      }
      uVar2 = *(uint *)(iVar1 + 0x30);
      uVar6 = uVar2;
      if (uVar7 <= uVar2) {
        uVar6 = uVar7;
      }
      if (*(uint *)(iVar1 + 0x34) < 8) {
        puVar5 = (ushort *)(iVar1 + 0x20);
      }
      else {
        puVar5 = *(ushort **)(iVar1 + 0x20);
      }
      for (; uVar6 != 0; uVar6 = uVar6 - 1) {
        uVar7 = local_14;
        if (*puVar5 != *puVar4) {
          uVar6 = (-(uint)(*puVar5 < *puVar4) & 0xfffffffe) + 1;
          if (uVar6 != 0) goto LAB_00ab6d62;
          break;
        }
        puVar5 = puVar5 + 1;
        puVar4 = puVar4 + 1;
      }
      if (uVar7 <= uVar2) {
        uVar6 = (uint)(uVar2 != uVar7);
LAB_00ab6d62:
        if (uVar6 == 0) {
          iVar1 = local_18[4];
          local_8 = 0xffffffff;
          if (local_2c != 0) {
            LeaveCriticalSection(local_38);
          }
          ExceptionList = local_10;
          return iVar1;
        }
      }
      FUN_00416210(uVar3);
    } while (local_18 != local_24);
  }
  local_8 = 0xffffffff;
  if (local_2c != 0) {
    LeaveCriticalSection(local_38);
  }
  ExceptionList = local_10;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00ab6c80 : PUSH EBP
00ab6c81 : MOV EBP,ESP
00ab6c83 : PUSH -0x1
00ab6c85 : PUSH 0xb10bac
00ab6c8a : MOV EAX,FS:[0x0]
00ab6c90 : PUSH EAX
00ab6c91 : SUB ESP,0x28
00ab6c94 : PUSH EBX
00ab6c95 : PUSH ESI
00ab6c96 : PUSH EDI
00ab6c97 : MOV EAX,[0x00d66fa0]
00ab6c9c : XOR EAX,EBP
00ab6c9e : PUSH EAX
00ab6c9f : LEA EAX,[EBP + -0xc]
00ab6ca2 : MOV FS:[0x0],EAX
00ab6ca8 : MOV ESI,ECX
00ab6caa : LEA ECX,[EBP + -0x34]
00ab6cad : LEA EAX,[ESI + 0x8]
00ab6cb0 : XOR EDI,EDI
00ab6cb2 : PUSH ECX
00ab6cb3 : MOV dword ptr [EBP + -0x28],EDI
00ab6cb6 : MOV dword ptr [EBP + -0x34],EAX
00ab6cb9 : MOV dword ptr [EBP + -0x30],0xc41a40
00ab6cc0 : MOV dword ptr [EBP + -0x2c],0x119
00ab6cc7 : MOV dword ptr [EBP + -0x24],0x1
00ab6cce : CALL 0x006ef1a0
00ab6cd3 : MOV dword ptr [EBP + -0x4],EDI
00ab6cd6 : MOV EAX,dword ptr [ESI + 0x2c]
00ab6cd9 : MOV ESI,dword ptr [EAX]
00ab6cdb : MOV dword ptr [EBP + -0x20],EAX
00ab6cde : MOV dword ptr [EBP + -0x14],ESI
00ab6ce1 : CMP ESI,EAX
00ab6ce3 : JZ 0x00ab6d78
00ab6ce9 : MOV EDX,dword ptr [0x0172491c]
00ab6cef : MOV EAX,dword ptr [EDX + 0x17c]
00ab6cf5 : MOV EBX,dword ptr [EAX + 0x20]
00ab6cf8 : MOV ECX,dword ptr [EAX + 0x24]
00ab6cfb : MOV dword ptr [EBP + -0x18],EAX
00ab6cfe : MOV dword ptr [EBP + -0x10],EBX
00ab6d01 : MOV dword ptr [EBP + -0x1c],ECX
00ab6d04 : JMP 0x00ab6d09
00ab6d06 : MOV EAX,dword ptr [EBP + -0x18]
00ab6d09 : MOV ECX,dword ptr [ESI + 0x10]
00ab6d0c : ADD ECX,0x1c
00ab6d0f : CMP dword ptr [EBP + -0x1c],0x8
00ab6d13 : JC 0x00ab6d1a
00ab6d15 : MOV EAX,dword ptr [EAX + 0x10]
00ab6d18 : JMP 0x00ab6d1d
00ab6d1a : ADD EAX,0x10
00ab6d1d : MOV EDI,dword ptr [ECX + 0x14]
00ab6d20 : MOV EDX,EDI
00ab6d22 : CMP EDX,EDI
00ab6d24 : CMOVC EDI,EDX
00ab6d27 : MOV EDX,EDI
00ab6d29 : CMP EDI,EBX
00ab6d2b : JC 0x00ab6d2f
00ab6d2d : MOV EDX,EBX
00ab6d2f : CMP dword ptr [ECX + 0x18],0x8
00ab6d33 : JC 0x00ab6d3a
00ab6d35 : MOV ECX,dword ptr [ECX + 0x4]
00ab6d38 : JMP 0x00ab6d3d
00ab6d3a : ADD ECX,0x4
00ab6d3d : TEST EDX,EDX
00ab6d3f : JBE 0x00ab6d57
00ab6d41 : MOV BX,word ptr [ECX]
00ab6d44 : CMP BX,word ptr [EAX]
00ab6d47 : JNZ 0x00ab6da5
00ab6d49 : ADD ECX,0x2
00ab6d4c : ADD EAX,0x2
00ab6d4f : SUB EDX,0x1
00ab6d52 : JNZ 0x00ab6d41
00ab6d54 : MOV EBX,dword ptr [EBP + -0x10]
00ab6d57 : CMP EDI,EBX
00ab6d59 : JC 0x00ab6d66
00ab6d5b : XOR EAX,EAX
00ab6d5d : CMP EDI,EBX
00ab6d5f : SETNZ AL
00ab6d62 : TEST EAX,EAX
00ab6d64 : JZ 0x00ab6dba
00ab6d66 : LEA EDX,[EBP + -0x14]
00ab6d69 : CALL 0x00416210
00ab6d6e : MOV ESI,dword ptr [EBP + -0x14]
00ab6d71 : CMP ESI,dword ptr [EBP + -0x20]
00ab6d74 : JNZ 0x00ab6d06
00ab6d76 : XOR EDI,EDI
00ab6d78 : MOV dword ptr [EBP + -0x4],0xffffffff
00ab6d7f : CMP dword ptr [EBP + -0x28],EDI
00ab6d82 : JZ 0x00ab6d91
00ab6d84 : MOV ECX,dword ptr [EBP + -0x34]
00ab6d87 : PUSH ECX
00ab6d88 : CALL dword ptr [0x00b8511c]
00ab6d8e : MOV dword ptr [EBP + -0x28],EDI
00ab6d91 : XOR EAX,EAX
00ab6d93 : MOV ECX,dword ptr [EBP + -0xc]
00ab6d96 : MOV dword ptr FS:[0x0],ECX
00ab6d9d : POP ECX
00ab6d9e : POP EDI
00ab6d9f : POP ESI
00ab6da0 : POP EBX
00ab6da1 : MOV ESP,EBP
00ab6da3 : POP EBP
00ab6da4 : RET
00ab6da5 : MOV DX,BX
00ab6da8 : CMP DX,word ptr [EAX]
00ab6dab : SBB EAX,EAX
00ab6dad : AND EAX,0xfffffffe
00ab6db0 : ADD EAX,0x1
00ab6db3 : JZ 0x00ab6d54
00ab6db5 : MOV EBX,dword ptr [EBP + -0x10]
00ab6db8 : JMP 0x00ab6d62
00ab6dba : MOV ESI,dword ptr [ESI + 0x10]
00ab6dbd : MOV dword ptr [EBP + -0x4],0xffffffff
00ab6dc4 : CMP dword ptr [EBP + -0x28],0x0
00ab6dc8 : JZ 0x00ab6ddb
00ab6dca : MOV EAX,dword ptr [EBP + -0x34]
00ab6dcd : PUSH EAX
00ab6dce : CALL dword ptr [0x00b8511c]
00ab6dd4 : MOV dword ptr [EBP + -0x28],0x0
00ab6ddb : MOV EAX,ESI
00ab6ddd : MOV ECX,dword ptr [EBP + -0xc]
00ab6de0 : MOV dword ptr FS:[0x0],ECX
00ab6de7 : POP ECX
00ab6de8 : POP EDI
00ab6de9 : POP ESI
00ab6dea : POP EBX
00ab6deb : MOV ESP,EBP
00ab6ded : POP EBP
00ab6dee : RET
