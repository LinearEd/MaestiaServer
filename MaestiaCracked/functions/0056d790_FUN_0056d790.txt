PROGRAM  : Maestia.exe
FUNCTION : FUN_0056d790
ENTRY    : 0056d790
BODY     : [[0056d790, 0056d8ea]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0056d790(float param_1,float param_2,undefined4 param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int *piVar5;
  char cVar6;
  int iVar7;
  int in_ECX;
  int iVar8;
  undefined4 uVar9;
  float fStack_40;
  float fStack_3c;
  float fStack_38;
  float fStack_34;
  float local_30;
  float fStack_2c;
  float fStack_28;
  float fStack_24;
  GMatrix2D local_20 [28];
  
  fVar1 = *(float *)(in_ECX + 0xb0);
  iVar8 = *(int *)(in_ECX + 0x60);
  fVar2 = *(float *)(in_ECX + 0xb8);
  fVar3 = *(float *)(in_ECX + 0xb4);
  fVar4 = *(float *)(in_ECX + 0xbc);
  if (iVar8 != 0) {
    do {
      piVar5 = *(int **)(*(int *)(in_ECX + 0x5c) + -4 + iVar8 * 8);
      GMatrix2D::SetIdentity(local_20);
      (**(code **)(*piVar5 + 0x28))(&local_30,local_20);
      fStack_38 = (fVar1 * param_1 + fVar2) * 20.0;
      fStack_34 = (fVar3 * param_2 + fVar4) * 20.0;
      GMatrix2D::SetIdentity(local_20);
      FUN_0051cdf0(local_20);
      GMatrix2D::TransformByInverse
                (local_20,(GPoint<float> *)&fStack_40,(GPoint<float> *)&fStack_38);
      if ((((fStack_28 < fStack_40) || (local_30 < fStack_40 == (local_30 == fStack_40))) ||
          (fStack_24 < fStack_3c)) || (fStack_2c < fStack_3c == (fStack_2c == fStack_3c)))
      goto switchD_0056d88f_default;
      switch(param_3) {
      case 0:
        uVar9 = 0;
        break;
      case 1:
        uVar9 = 1;
        break;
      case 2:
        iVar7 = (**(code **)(*piVar5 + 0x34))(&fStack_40,0,0);
        if (iVar7 != 0) {
          return 1;
        }
        goto switchD_0056d88f_default;
      case 3:
        uVar9 = 3;
        break;
      default:
        goto switchD_0056d88f_default;
      }
      cVar6 = (**(code **)(*piVar5 + 0x30))(&fStack_40,uVar9);
      if (cVar6 != '\0') {
        return 1;
      }
switchD_0056d88f_default:
      iVar8 = iVar8 + -1;
    } while (iVar8 != 0);
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0056d790 : PUSH EBP
0056d791 : MOV EBP,ESP
0056d793 : AND ESP,0xfffffff8
0056d796 : SUB ESP,0x44
0056d799 : PUSH EBX
0056d79a : PUSH ESI
0056d79b : PUSH EDI
0056d79c : MOV EDI,ECX
0056d79e : FLD float ptr [EDI + 0xb0]
0056d7a4 : MOV EBX,dword ptr [EDI + 0x60]
0056d7a7 : FMUL float ptr [EBP + 0x8]
0056d7aa : FADD float ptr [EDI + 0xb8]
0056d7b0 : FSTP float ptr [ESP + 0x10]
0056d7b4 : FLD float ptr [EDI + 0xb4]
0056d7ba : FMUL float ptr [EBP + 0xc]
0056d7bd : FADD float ptr [EDI + 0xbc]
0056d7c3 : FSTP float ptr [ESP + 0x14]
0056d7c7 : TEST EBX,EBX
0056d7c9 : JBE 0x0056d8e0
0056d7cf : FLD float ptr [ESP + 0x10]
0056d7d3 : FLD double ptr [0x00b86058]
0056d7d9 : FMUL ST1
0056d7db : FXCH
0056d7dd : FSTP float ptr [ESP + 0x10]
0056d7e1 : FMUL float ptr [ESP + 0x14]
0056d7e5 : FSTP float ptr [ESP + 0x14]
0056d7e9 : LEA ESP,[ESP]
0056d7f0 : MOV EAX,dword ptr [EDI + 0x5c]
0056d7f3 : MOV ESI,dword ptr [EAX + EBX*0x8 + -0x4]
0056d7f7 : LEA ECX,[ESP + 0x38]
0056d7fb : CALL 0x00522b80
0056d800 : MOV EDX,dword ptr [ESI]
0056d802 : MOV EDX,dword ptr [EDX + 0x28]
0056d805 : LEA EAX,[ESP + 0x38]
0056d809 : PUSH EAX
0056d80a : LEA ECX,[ESP + 0x2c]
0056d80e : PUSH ECX
0056d80f : MOV ECX,ESI
0056d811 : CALL EDX
0056d813 : FLD float ptr [ESP + 0x10]
0056d817 : FSTP float ptr [ESP + 0x20]
0056d81b : LEA ECX,[ESP + 0x38]
0056d81f : FLD float ptr [ESP + 0x14]
0056d823 : FSTP float ptr [ESP + 0x24]
0056d827 : CALL 0x00522b80
0056d82c : LEA EAX,[ESP + 0x38]
0056d830 : PUSH EAX
0056d831 : MOV ECX,ESI
0056d833 : CALL 0x0051cdf0
0056d838 : LEA ECX,[ESP + 0x20]
0056d83c : PUSH ECX
0056d83d : LEA EDX,[ESP + 0x1c]
0056d841 : PUSH EDX
0056d842 : LEA ECX,[ESP + 0x40]
0056d846 : CALL 0x00522fa0
0056d84b : FLD float ptr [ESP + 0x18]
0056d84f : FLD float ptr [ESP + 0x30]
0056d853 : FCOMP
0056d855 : FNSTSW AX
0056d857 : TEST AH,0x1
0056d85a : JNZ 0x0056d8d5
0056d85c : FLD float ptr [ESP + 0x28]
0056d860 : FCOMPP
0056d862 : FNSTSW AX
0056d864 : TEST AH,0x41
0056d867 : JP 0x0056d8d7
0056d869 : FLD float ptr [ESP + 0x1c]
0056d86d : FLD float ptr [ESP + 0x34]
0056d871 : FCOMP
0056d873 : FNSTSW AX
0056d875 : TEST AH,0x1
0056d878 : JNZ 0x0056d8d5
0056d87a : FLD float ptr [ESP + 0x2c]
0056d87e : FCOMPP
0056d880 : FNSTSW AX
0056d882 : TEST AH,0x41
0056d885 : JP 0x0056d8d7
0056d887 : MOV EAX,dword ptr [EBP + 0x10]
0056d88a : CMP EAX,0x3
0056d88d : JA 0x0056d8d7
0056d88f : JMP dword ptr [EAX*0x4 + 0x56d8ec]
0056d896 : PUSH 0x0
0056d898 : MOV EAX,dword ptr [ESI]
0056d89a : MOV EDX,dword ptr [EAX + 0x30]
0056d89d : LEA ECX,[ESP + 0x1c]
0056d8a1 : PUSH ECX
0056d8a2 : MOV ECX,ESI
0056d8a4 : CALL EDX
0056d8a6 : TEST AL,AL
0056d8a8 : JZ 0x0056d8d7
0056d8aa : MOV AL,0x1
0056d8ac : POP EDI
0056d8ad : POP ESI
0056d8ae : POP EBX
0056d8af : MOV ESP,EBP
0056d8b1 : POP EBP
0056d8b2 : RET 0xc
0056d8b5 : PUSH 0x1
0056d8b7 : JMP 0x0056d898
0056d8b9 : MOV EAX,dword ptr [ESI]
0056d8bb : MOV EDX,dword ptr [EAX + 0x34]
0056d8be : PUSH 0x0
0056d8c0 : PUSH 0x0
0056d8c2 : LEA ECX,[ESP + 0x20]
0056d8c6 : PUSH ECX
0056d8c7 : MOV ECX,ESI
0056d8c9 : CALL EDX
0056d8cb : TEST EAX,EAX
0056d8cd : JNZ 0x0056d8aa
0056d8cf : JMP 0x0056d8d7
0056d8d1 : PUSH 0x3
0056d8d3 : JMP 0x0056d898
0056d8d5 : FSTP ST0
0056d8d7 : SUB EBX,0x1
0056d8da : JNZ 0x0056d7f0
0056d8e0 : POP EDI
0056d8e1 : POP ESI
0056d8e2 : XOR AL,AL
0056d8e4 : POP EBX
0056d8e5 : MOV ESP,EBP
0056d8e7 : POP EBP
0056d8e8 : RET 0xc
