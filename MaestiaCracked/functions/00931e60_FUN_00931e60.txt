PROGRAM  : Maestia.exe
FUNCTION : FUN_00931e60
ENTRY    : 00931e60
BODY     : [[00931e60, 00931ec8] [00931ed0, 00932113]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00931e60(int param_1)

{
  int *piVar1;
  uint uVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  ushort uVar6;
  uint uVar7;
  undefined1 local_54 [8];
  undefined2 local_4c [2];
  undefined4 *local_48;
  int local_44;
  uint local_40;
  uint local_3c;
  uint local_38;
  int local_34;
  int local_30;
  uint local_2c;
  int local_28;
  int local_24;
  int local_20;
  uint local_1c;
  char local_15;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b4e245;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_3c = (uint)*(ushort *)(DAT_017248d0 + 0x24);
  local_15 = '\x01';
  local_38 = 0;
  local_30 = 0;
  local_1c = 0;
  local_34 = 0;
  local_24 = 0;
  local_2c = 0;
  local_28 = 0;
  while( true ) {
    do {
      uVar7 = local_2c;
      uVar6 = (ushort)local_24;
      if (((ushort)local_1c < 0x28) && (uVar6 < 10)) {
        local_20 = *(int *)(DAT_0172491c + 0x250 + (local_34 + local_28) * 4);
      }
      else {
        local_20 = 0;
      }
      puVar3 = (undefined4 *)FUN_006f0760(0x10,".\\Gui\\AvaGuiQuickSlot.cpp",300,0,uVar2);
      puVar5 = (undefined4 *)0x0;
      if (puVar3 != (undefined4 *)0x0) {
        puVar3[3] = 0;
        *puVar3 = &PTR_FUN_00cd083c;
        *(undefined2 *)(puVar3 + 1) = 0;
        *(undefined2 *)((int)puVar3 + 6) = 0;
        *(undefined2 *)(puVar3 + 2) = 0;
        puVar5 = puVar3;
      }
      local_8 = 0xffffffff;
      *(ushort *)(puVar5 + 2) = uVar6;
      local_40 = uVar7 & 0xffff;
      *(undefined2 *)((int)puVar5 + 6) = (undefined2)local_30;
      puVar5[3] = local_20;
      *(short *)(puVar5 + 1) = (short)uVar7;
      FUN_00413b60(&local_40);
      if (local_44 == *(int *)(DAT_01724884 + 8)) {
        local_4c[0] = (short)uVar7;
        local_48 = puVar5;
        FUN_0041ed30(local_54,local_4c);
      }
      if ((local_20 != 0) && (local_20 != -1)) {
        local_15 = '\0';
        FUN_00931c40(param_1,*(undefined2 *)(puVar5 + 2));
        uVar7 = local_2c;
        if ((ushort)local_38 < *(ushort *)((int)puVar5 + 6)) {
          local_38 = (uint)*(ushort *)((int)puVar5 + 6);
        }
      }
      local_28 = local_28 + 1;
      local_24 = local_24 + 1;
      local_2c = uVar7 + 1;
    } while ((ushort)local_24 < 10);
    local_30 = local_30 + 1;
    local_34 = local_34 + 10;
    local_1c = local_1c + 10;
    if (0x1d < (ushort)local_1c) break;
    local_2c = local_1c & 0xffff;
    local_24 = 0;
    local_28 = 0;
  }
  iVar4 = *(int *)(param_1 + 0x48);
  if (iVar4 != 0) {
    FUN_0092eea0(iVar4);
    uVar2 = local_3c;
    FUN_0092f700(iVar4,local_3c);
    piVar1 = DAT_00da9894;
    *(short *)(param_1 + 0x5c) = (short)uVar2;
    if ((*piVar1 != 0) && (piVar1 = *(int **)(*piVar1 + 0x114), piVar1 != (int *)0x0)) {
      (**(code **)(*piVar1 + 4))
                (piVar1,"mc_quickslot.SetSlotPage",&DAT_00c6e06c,(uVar2 & 0xffff) + 1);
    }
    if (local_15 != '\0') {
      iVar4 = FUN_00703c00(0xf00);
      if (iVar4 == 0) {
        FUN_008018d0(
                    L"SetMotion Failed. Was the attack changed the emoticon index ??. AvaGuiQuickSlot::SetMySlotDatas "
                    );
        ExceptionList = local_10;
        return;
      }
      FUN_008ef880(0x91,*(undefined2 *)(iVar4 + 6),0,local_3c);
    }
  }
  if ((ushort)local_38 != 0) {
    uVar2 = local_38;
    if (2 < (ushort)local_38) {
      uVar2 = 0;
    }
    *(short *)(param_1 + 0x5e) = (short)uVar2;
    if ((*DAT_00da9894 != 0) && (piVar1 = *(int **)(*DAT_00da9894 + 0x114), piVar1 != (int *)0x0)) {
      (**(code **)(*piVar1 + 4))
                (piVar1,"mc_quickslot.SubQuickVisible","%d,%b",uVar2 & 0xffff,(short)uVar2 != 0);
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00931e60 : PUSH EBP
00931e61 : MOV EBP,ESP
00931e63 : PUSH -0x1
00931e65 : PUSH 0xb4e245
00931e6a : MOV EAX,FS:[0x0]
00931e70 : PUSH EAX
00931e71 : SUB ESP,0x48
00931e74 : PUSH EBX
00931e75 : PUSH ESI
00931e76 : PUSH EDI
00931e77 : MOV EAX,[0x00d66fa0]
00931e7c : XOR EAX,EBP
00931e7e : PUSH EAX
00931e7f : LEA EAX,[EBP + -0xc]
00931e82 : MOV FS:[0x0],EAX
00931e88 : MOV EAX,[0x017248d0]
00931e8d : MOVZX ECX,word ptr [EAX + 0x24]
00931e91 : XOR EBX,EBX
00931e93 : MOVZX EDI,BX
00931e96 : XOR ESI,ESI
00931e98 : MOV byte ptr [EBP + -0x11],0x1
00931e9c : MOV dword ptr [EBP + -0x38],ECX
00931e9f : MOV dword ptr [EBP + -0x34],EBX
00931ea2 : MOV dword ptr [EBP + -0x2c],EBX
00931ea5 : MOV dword ptr [EBP + -0x18],EBX
00931ea8 : MOV dword ptr [EBP + -0x30],EBX
00931eab : MOV dword ptr [EBP + -0x20],ESI
00931eae : MOV dword ptr [EBP + -0x28],EDI
00931eb1 : MOV dword ptr [EBP + -0x24],EBX
00931eb4 : JMP 0x00931ed5
00931eb6 : MOVZX EDI,word ptr [EBP + -0x18]
00931eba : XOR EBX,EBX
00931ebc : XOR ESI,ESI
00931ebe : MOV dword ptr [EBP + -0x20],ESI
00931ec1 : MOV dword ptr [EBP + -0x28],EDI
00931ec4 : MOV dword ptr [EBP + -0x24],EBX
00931ec7 : JMP 0x00931ed5
00931ed0 : MOV ESI,dword ptr [EBP + -0x20]
00931ed3 : XOR EBX,EBX
00931ed5 : CMP word ptr [EBP + -0x18],0x28
00931eda : JNC 0x00931efc
00931edc : CMP SI,0xa
00931ee0 : JNC 0x00931efc
00931ee2 : MOV EDX,dword ptr [EBP + -0x30]
00931ee5 : MOV EAX,dword ptr [EBP + -0x24]
00931ee8 : MOV ECX,dword ptr [0x0172491c]
00931eee : ADD EDX,EAX
00931ef0 : MOV EDX,dword ptr [ECX + EDX*0x4 + 0x250]
00931ef7 : MOV dword ptr [EBP + -0x1c],EDX
00931efa : JMP 0x00931eff
00931efc : MOV dword ptr [EBP + -0x1c],EBX
00931eff : PUSH EBX
00931f00 : PUSH 0x12c
00931f05 : PUSH 0xc6dee0
00931f0a : PUSH 0x10
00931f0c : CALL 0x006f0760
00931f11 : ADD ESP,0x10
00931f14 : MOV dword ptr [EBP + -0x3c],EAX
00931f17 : MOV dword ptr [EBP + -0x4],EBX
00931f1a : CMP EAX,EBX
00931f1c : JZ 0x00931f39
00931f1e : XOR ECX,ECX
00931f20 : XOR EDX,EDX
00931f22 : MOV dword ptr [EAX + 0xc],EBX
00931f25 : MOV dword ptr [EAX],0xcd083c
00931f2b : MOV word ptr [EAX + 0x4],CX
00931f2f : MOV word ptr [EAX + 0x6],DX
00931f33 : MOV word ptr [EAX + 0x8],CX
00931f37 : MOV EBX,EAX
00931f39 : MOV dword ptr [EBP + -0x4],0xffffffff
00931f40 : MOV DX,word ptr [EBP + -0x2c]
00931f44 : MOV EAX,dword ptr [EBP + -0x1c]
00931f47 : MOV word ptr [EBX + 0x8],SI
00931f4b : MOV ESI,dword ptr [0x01724884]
00931f51 : MOVZX ECX,DI
00931f54 : MOV word ptr [EBX + 0x6],DX
00931f58 : LEA EDX,[EBP + -0x3c]
00931f5b : MOV dword ptr [EBX + 0xc],EAX
00931f5e : MOV dword ptr [EBP + -0x3c],ECX
00931f61 : ADD ESI,0x4
00931f64 : PUSH EDX
00931f65 : LEA EAX,[EBP + -0x40]
00931f68 : MOV ECX,ESI
00931f6a : MOV word ptr [EBX + 0x4],DI
00931f6e : CALL 0x00413b60
00931f73 : MOV EAX,dword ptr [EBP + -0x40]
00931f76 : MOV ECX,dword ptr [0x01724884]
00931f7c : CMP EAX,dword ptr [ECX + 0x8]
00931f7f : JNZ 0x00931f97
00931f81 : LEA EDX,[EBP + -0x48]
00931f84 : PUSH EDX
00931f85 : LEA EAX,[EBP + -0x50]
00931f88 : PUSH EAX
00931f89 : MOV EAX,ESI
00931f8b : MOV word ptr [EBP + -0x48],DI
00931f8f : MOV dword ptr [EBP + -0x44],EBX
00931f92 : CALL 0x0041ed30
00931f97 : MOV EAX,dword ptr [EBP + -0x1c]
00931f9a : TEST EAX,EAX
00931f9c : JZ 0x00931fcf
00931f9e : CMP EAX,-0x1
00931fa1 : JZ 0x00931fcf
00931fa3 : MOVZX ECX,word ptr [EBX + 0x8]
00931fa7 : MOV EDX,dword ptr [EBP + 0x8]
00931faa : MOV ESI,dword ptr [EBX + 0xc]
00931fad : MOV DI,word ptr [EBX + 0x6]
00931fb1 : PUSH ECX
00931fb2 : PUSH EDX
00931fb3 : MOV byte ptr [EBP + -0x11],0x0
00931fb7 : CALL 0x00931c40
00931fbc : MOVZX EAX,word ptr [EBX + 0x6]
00931fc0 : MOV EDI,dword ptr [EBP + -0x28]
00931fc3 : CMP word ptr [EBP + -0x34],AX
00931fc7 : JNC 0x00931fcf
00931fc9 : MOVZX EAX,AX
00931fcc : MOV dword ptr [EBP + -0x34],EAX
00931fcf : MOV EAX,dword ptr [EBP + -0x20]
00931fd2 : INC dword ptr [EBP + -0x24]
00931fd5 : INC EAX
00931fd6 : INC EDI
00931fd7 : MOV dword ptr [EBP + -0x20],EAX
00931fda : MOV dword ptr [EBP + -0x28],EDI
00931fdd : CMP AX,0xa
00931fe1 : JC 0x00931ed0
00931fe7 : MOV EAX,dword ptr [EBP + -0x18]
00931fea : INC dword ptr [EBP + -0x2c]
00931fed : ADD dword ptr [EBP + -0x30],0xa
00931ff1 : ADD EAX,0xa
00931ff4 : MOV dword ptr [EBP + -0x18],EAX
00931ff7 : CMP AX,0x1e
00931ffb : JC 0x00931eb6
00932001 : MOV EBX,dword ptr [EBP + 0x8]
00932004 : MOV ESI,dword ptr [EBX + 0x48]
00932007 : TEST ESI,ESI
00932009 : JZ 0x009320ae
0093200f : PUSH ESI
00932010 : CALL 0x0092eea0
00932015 : MOV EDI,dword ptr [EBP + -0x38]
00932018 : PUSH EDI
00932019 : PUSH ESI
0093201a : CALL 0x0092f700
0093201f : MOV ECX,dword ptr [0x00da9894]
00932025 : MOV word ptr [EBX + 0x5c],DI
00932029 : MOV EAX,dword ptr [ECX]
0093202b : TEST EAX,EAX
0093202d : JZ 0x00932053
0093202f : MOV EAX,dword ptr [EAX + 0x114]
00932035 : TEST EAX,EAX
00932037 : JZ 0x00932053
00932039 : MOV EDX,dword ptr [EAX]
0093203b : MOV EDX,dword ptr [EDX + 0x4]
0093203e : MOVZX ECX,DI
00932041 : INC ECX
00932042 : PUSH ECX
00932043 : PUSH 0xc6e06c
00932048 : PUSH 0xc6e070
0093204d : PUSH EAX
0093204e : CALL EDX
00932050 : ADD ESP,0x10
00932053 : CMP byte ptr [EBP + -0x11],0x0
00932057 : JZ 0x009320ae
00932059 : PUSH 0xf00
0093205e : MOV EDI,0x2714
00932063 : CALL 0x00703c00
00932068 : ADD ESP,0x4
0093206b : TEST EAX,EAX
0093206d : JNZ 0x00932096
0093206f : MOV ESI,dword ptr [0x00da98e8]
00932075 : PUSH 0xc6df18
0093207a : CALL 0x008018d0
0093207f : ADD ESP,0x4
00932082 : MOV ECX,dword ptr [EBP + -0xc]
00932085 : MOV dword ptr FS:[0x0],ECX
0093208c : POP ECX
0093208d : POP EDI
0093208e : POP ESI
0093208f : POP EBX
00932090 : MOV ESP,EBP
00932092 : POP EBP
00932093 : RET 0x4
00932096 : MOV ECX,dword ptr [EBP + -0x38]
00932099 : MOVZX EDX,word ptr [EAX + 0x6]
0093209d : PUSH ECX
0093209e : PUSH 0x0
009320a0 : PUSH EDX
009320a1 : PUSH 0x91
009320a6 : CALL 0x008ef880
009320ab : ADD ESP,0x10
009320ae : MOV EAX,dword ptr [EBP + -0x34]
009320b1 : TEST AX,AX
009320b4 : JZ 0x00932100
009320b6 : MOV DL,0x1
009320b8 : CMP AX,0x3
009320bc : JC 0x009320c0
009320be : XOR EAX,EAX
009320c0 : MOVZX ECX,AX
009320c3 : MOV word ptr [EBX + 0x5e],AX
009320c7 : TEST CX,CX
009320ca : JNZ 0x009320ce
009320cc : XOR DL,DL
009320ce : MOV EAX,[0x00da9894]
009320d3 : MOV EAX,dword ptr [EAX]
009320d5 : TEST EAX,EAX
009320d7 : JZ 0x00932100
009320d9 : MOV EAX,dword ptr [EAX + 0x114]
009320df : TEST EAX,EAX
009320e1 : JZ 0x00932100
009320e3 : MOV ESI,dword ptr [EAX]
009320e5 : MOVZX EDX,DL
009320e8 : PUSH EDX
009320e9 : MOV EDX,dword ptr [ESI + 0x4]
009320ec : MOVZX ECX,CX
009320ef : PUSH ECX
009320f0 : PUSH 0xc6e08c
009320f5 : PUSH 0xc6e094
009320fa : PUSH EAX
009320fb : CALL EDX
009320fd : ADD ESP,0x14
00932100 : MOV ECX,dword ptr [EBP + -0xc]
00932103 : MOV dword ptr FS:[0x0],ECX
0093210a : POP ECX
0093210b : POP EDI
0093210c : POP ESI
0093210d : POP EBX
0093210e : MOV ESP,EBP
00932110 : POP EBP
00932111 : RET 0x4
