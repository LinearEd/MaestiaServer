PROGRAM  : Maestia.exe
FUNCTION : FUN_006ba7d0
ENTRY    : 006ba7d0
BODY     : [[006ba7d0, 006ba977]]

============================================================
DECOMPILED C CODE
============================================================

int * FUN_006ba7d0(int *param_1)

{
  int iVar1;
  undefined4 uVar2;
  int *piVar3;
  int iVar4;
  short sVar5;
  int *piVar6;
  int *piVar7;
  
  piVar3 = param_1;
  iVar1 = *param_1;
  uVar2 = *(undefined4 *)(iVar1 + 100);
  *(undefined1 *)(param_1 + 0x4b) = 1;
  *(undefined1 *)((int)param_1 + 0x12d) = 0;
  param_1[0x1e] = (uint)*(ushort *)(iVar1 + 0x118);
  param_1[0x21] = (uint)*(ushort *)(iVar1 + 0x11a);
  param_1[0x1d] = 0;
  param_1[0x20] = 0;
  param_1[0x23] = 0;
  param_1[0x24] = 0;
  param_1[0x3c] = *(int *)(iVar1 + 0x29c);
  *(undefined2 *)(param_1 + 0x3e) = *(undefined2 *)(iVar1 + 0x116);
  *(undefined2 *)(param_1 + 0xb) = 0;
  *(undefined2 *)((int)param_1 + 0x2e) = 0;
  *(undefined1 *)((int)param_1 + 0x6d) = 0;
  *(undefined1 *)((int)param_1 + 0x6e) = 0;
  param_1[0x17] = 0;
  param_1[0x18] = 0;
  param_1[0x19] = 0;
  param_1[0x1a] = 0;
  iVar4 = FUN_0068a220(uVar2,0x10,0,param_1[0x1e],0,&param_1);
  piVar3[0x1f] = iVar4;
  if (param_1 == (int *)0x0) {
    iVar4 = FUN_0068a220(uVar2,0x10,0,piVar3[0x21],0,&param_1);
    piVar3[0x22] = iVar4;
    if (param_1 == (int *)0x0) {
      iVar4 = FUN_0068a220(uVar2,4,0,piVar3[0x3c],0,&param_1);
      piVar3[0x3d] = iVar4;
      if (param_1 == (int *)0x0) {
        iVar4 = FUN_0068a220(uVar2,4,0,(short)piVar3[0x3e],0,&param_1);
        piVar3[0x3f] = iVar4;
        if (param_1 == (int *)0x0) {
          sVar5 = *(short *)(iVar1 + 0x114) + 4;
          param_1 = (int *)FUN_006b3690(sVar5,0);
          if (param_1 == (int *)0x0) {
            *(short *)(piVar3 + 0x42) = sVar5;
            piVar6 = &DAT_00beb9b0;
            piVar7 = piVar3 + 0x2b;
            for (iVar4 = 0x11; iVar4 != 0; iVar4 = iVar4 + -1) {
              *piVar7 = *piVar6;
              piVar6 = piVar6 + 1;
              piVar7 = piVar7 + 1;
            }
            iVar4 = *(int *)(*(int *)(*(int *)(iVar1 + 0x60) + 4) + 0xb4);
            *(int *)(iVar1 + 0x2b0) = iVar4;
            if (iVar4 == 0) {
              *(undefined1 **)(iVar1 + 0x2b0) = &LAB_006b71f0;
            }
            param_1 = (int *)FUN_006ba5e0(piVar3);
            if (param_1 == (int *)0x0) {
              return (int *)0x0;
            }
          }
        }
      }
    }
  }
  FUN_006b3780();
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
006ba7d0 : PUSH ECX
006ba7d1 : PUSH EBX
006ba7d2 : PUSH EBP
006ba7d3 : MOV EBP,dword ptr [ESP + 0x10]
006ba7d7 : MOV EBX,dword ptr [EBP]
006ba7da : PUSH ESI
006ba7db : PUSH EDI
006ba7dc : MOV EDI,dword ptr [EBX + 0x64]
006ba7df : MOV byte ptr [EBP + 0x12c],0x1
006ba7e6 : MOV byte ptr [EBP + 0x12d],0x0
006ba7ed : MOVZX EAX,word ptr [EBX + 0x118]
006ba7f4 : MOV dword ptr [EBP + 0x78],EAX
006ba7f7 : MOVZX ECX,word ptr [EBX + 0x11a]
006ba7fe : MOV dword ptr [EBP + 0x84],ECX
006ba804 : XOR ESI,ESI
006ba806 : MOV dword ptr [EBP + 0x74],ESI
006ba809 : MOV dword ptr [EBP + 0x80],ESI
006ba80f : MOV dword ptr [EBP + 0x8c],ESI
006ba815 : MOV dword ptr [EBP + 0x90],ESI
006ba81b : MOV EDX,dword ptr [EBX + 0x29c]
006ba821 : MOV dword ptr [EBP + 0xf0],EDX
006ba827 : MOV AX,word ptr [EBX + 0x116]
006ba82e : MOV word ptr [EBP + 0xf8],AX
006ba835 : XOR ECX,ECX
006ba837 : MOV word ptr [EBP + 0x2c],CX
006ba83b : XOR EDX,EDX
006ba83d : MOV word ptr [EBP + 0x2e],DX
006ba841 : MOV byte ptr [EBP + 0x6d],CL
006ba844 : MOV byte ptr [EBP + 0x6e],CL
006ba847 : LEA EAX,[ESP + 0x18]
006ba84b : PUSH EAX
006ba84c : PUSH ESI
006ba84d : MOV dword ptr [EBP + 0x5c],ESI
006ba850 : MOV dword ptr [EBP + 0x60],ESI
006ba853 : MOV dword ptr [EBP + 0x64],ESI
006ba856 : MOV dword ptr [EBP + 0x68],ESI
006ba859 : MOV ECX,dword ptr [EBP + 0x78]
006ba85c : PUSH ECX
006ba85d : PUSH ESI
006ba85e : PUSH 0x10
006ba860 : PUSH EDI
006ba861 : CALL 0x0068a220
006ba866 : ADD ESP,0x18
006ba869 : MOV dword ptr [EBP + 0x7c],EAX
006ba86c : CMP dword ptr [ESP + 0x18],ESI
006ba870 : JNZ 0x006ba967
006ba876 : MOV EAX,dword ptr [EBP + 0x84]
006ba87c : LEA EDX,[ESP + 0x18]
006ba880 : PUSH EDX
006ba881 : PUSH ESI
006ba882 : PUSH EAX
006ba883 : PUSH ESI
006ba884 : PUSH 0x10
006ba886 : PUSH EDI
006ba887 : CALL 0x0068a220
006ba88c : ADD ESP,0x18
006ba88f : MOV dword ptr [EBP + 0x88],EAX
006ba895 : CMP dword ptr [ESP + 0x18],ESI
006ba899 : JNZ 0x006ba967
006ba89f : MOV EDX,dword ptr [EBP + 0xf0]
006ba8a5 : LEA ECX,[ESP + 0x18]
006ba8a9 : PUSH ECX
006ba8aa : PUSH ESI
006ba8ab : PUSH EDX
006ba8ac : PUSH ESI
006ba8ad : PUSH 0x4
006ba8af : PUSH EDI
006ba8b0 : CALL 0x0068a220
006ba8b5 : ADD ESP,0x18
006ba8b8 : MOV dword ptr [EBP + 0xf4],EAX
006ba8be : CMP dword ptr [ESP + 0x18],ESI
006ba8c2 : JNZ 0x006ba967
006ba8c8 : MOVZX ECX,word ptr [EBP + 0xf8]
006ba8cf : LEA EAX,[ESP + 0x18]
006ba8d3 : PUSH EAX
006ba8d4 : PUSH ESI
006ba8d5 : PUSH ECX
006ba8d6 : PUSH ESI
006ba8d7 : PUSH 0x4
006ba8d9 : PUSH EDI
006ba8da : CALL 0x0068a220
006ba8df : ADD ESP,0x18
006ba8e2 : MOV dword ptr [EBP + 0xfc],EAX
006ba8e8 : CMP dword ptr [ESP + 0x18],ESI
006ba8ec : JNZ 0x006ba967
006ba8ee : MOV DX,word ptr [EBX + 0x114]
006ba8f5 : ADD DX,0x4
006ba8f9 : MOVZX ECX,DX
006ba8fc : PUSH ESI
006ba8fd : LEA EAX,[EBP + 0x100]
006ba903 : PUSH ECX
006ba904 : MOV dword ptr [ESP + 0x18],ECX
006ba908 : CALL 0x006b3690
006ba90d : ADD ESP,0x8
006ba910 : MOV dword ptr [ESP + 0x18],EAX
006ba914 : CMP EAX,ESI
006ba916 : JNZ 0x006ba967
006ba918 : MOV AX,word ptr [ESP + 0x10]
006ba91d : MOV word ptr [EBP + 0x108],AX
006ba924 : LEA EDI,[EBP + 0xac]
006ba92a : MOV ECX,0x11
006ba92f : MOV ESI,0xbeb9b0
006ba934 : MOVSD.REP ES:EDI,ESI
006ba936 : MOV ECX,dword ptr [EBX + 0x60]
006ba939 : MOV EDX,dword ptr [ECX + 0x4]
006ba93c : MOV EAX,dword ptr [EDX + 0xb4]
006ba942 : MOV dword ptr [EBX + 0x2b0],EAX
006ba948 : TEST EAX,EAX
006ba94a : JNZ 0x006ba956
006ba94c : MOV dword ptr [EBX + 0x2b0],0x6b71f0
006ba956 : PUSH EBP
006ba957 : CALL 0x006ba5e0
006ba95c : ADD ESP,0x4
006ba95f : MOV dword ptr [ESP + 0x18],EAX
006ba963 : TEST EAX,EAX
006ba965 : JZ 0x006ba972
006ba967 : MOV EDI,EBP
006ba969 : CALL 0x006b3780
006ba96e : MOV EAX,dword ptr [ESP + 0x18]
006ba972 : POP EDI
006ba973 : POP ESI
006ba974 : POP EBP
006ba975 : POP EBX
006ba976 : POP ECX
006ba977 : RET
