PROGRAM  : Maestia.exe
FUNCTION : FUN_006ed2c0
ENTRY    : 006ed2c0
BODY     : [[006ed2c0, 006ed37b]]

============================================================
DECOMPILED C CODE
============================================================

undefined1 FUN_006ed2c0(undefined4 param_1,undefined4 param_2)

{
  int *piVar1;
  int iVar2;
  undefined4 *unaff_ESI;
  
  piVar1 = DAT_01720efc;
  if (*(char *)(unaff_ESI + 0xe) == '\0') {
    unaff_ESI[0xc] = param_1;
    unaff_ESI[0xd] = param_2;
    iVar2 = (**(code **)(*piVar1 + 0x5c))(piVar1,1,1,1,1,0x17,0);
    if (iVar2 == 0) {
      iVar2 = (**(code **)(*DAT_01720efc + 0x5c))
                        (DAT_01720efc,param_1,param_2,1,2,0x50,0,unaff_ESI + 1,0);
      if (iVar2 == 0) {
        iVar2 = (**(code **)(*(int *)*unaff_ESI + 0x48))((int *)*unaff_ESI,0,unaff_ESI + 2);
        if (iVar2 == 0) {
          piVar1 = (int *)unaff_ESI[1];
          iVar2 = (**(code **)(*piVar1 + 0x48))(piVar1,0,unaff_ESI + 3);
          if (iVar2 == 0) {
            *(undefined1 *)(unaff_ESI + 0xe) = 1;
            return *(undefined1 *)(unaff_ESI + 0xe);
          }
        }
        FUN_00807d70("Failed to get DirectX9 surfaces");
        return *(undefined1 *)(unaff_ESI + 0xe);
      }
    }
    FUN_00807d70("Failed to create DirectX9 render target textures");
  }
  return *(undefined1 *)(unaff_ESI + 0xe);
}



============================================================
DISASSEMBLY
============================================================
006ed2c0 : CMP byte ptr [ESI + 0x38],0x0
006ed2c4 : PUSH EBX
006ed2c5 : MOV EBX,dword ptr [ESP + 0xc]
006ed2c9 : PUSH EBP
006ed2ca : MOV EBP,dword ptr [ESP + 0xc]
006ed2ce : JNZ 0x006ed374
006ed2d4 : MOV EAX,[0x01720efc]
006ed2d9 : PUSH EDI
006ed2da : PUSH 0x0
006ed2dc : PUSH ESI
006ed2dd : PUSH 0x0
006ed2df : PUSH 0x17
006ed2e1 : PUSH 0x1
006ed2e3 : PUSH 0x1
006ed2e5 : PUSH 0x1
006ed2e7 : MOV dword ptr [ESI + 0x30],EBP
006ed2ea : MOV dword ptr [ESI + 0x34],EBX
006ed2ed : MOV ECX,dword ptr [EAX]
006ed2ef : MOV EDX,dword ptr [ECX + 0x5c]
006ed2f2 : PUSH 0x1
006ed2f4 : PUSH EAX
006ed2f5 : CALL EDX
006ed2f7 : TEST EAX,EAX
006ed2f9 : JNZ 0x006ed366
006ed2fb : MOV EAX,[0x01720efc]
006ed300 : MOV ECX,dword ptr [EAX]
006ed302 : MOV EDX,dword ptr [ECX + 0x5c]
006ed305 : PUSH 0x0
006ed307 : LEA EDI,[ESI + 0x4]
006ed30a : PUSH EDI
006ed30b : PUSH 0x0
006ed30d : PUSH 0x50
006ed30f : PUSH 0x2
006ed311 : PUSH 0x1
006ed313 : PUSH EBX
006ed314 : PUSH EBP
006ed315 : PUSH EAX
006ed316 : CALL EDX
006ed318 : TEST EAX,EAX
006ed31a : JNZ 0x006ed366
006ed31c : MOV EAX,dword ptr [ESI]
006ed31e : MOV ECX,dword ptr [EAX]
006ed320 : LEA EDX,[ESI + 0x8]
006ed323 : PUSH EDX
006ed324 : PUSH 0x0
006ed326 : PUSH EAX
006ed327 : MOV EAX,dword ptr [ECX + 0x48]
006ed32a : CALL EAX
006ed32c : TEST EAX,EAX
006ed32e : JNZ 0x006ed350
006ed330 : MOV EDI,dword ptr [EDI]
006ed332 : MOV ECX,dword ptr [EDI]
006ed334 : LEA EDX,[ESI + 0xc]
006ed337 : PUSH EDX
006ed338 : PUSH EAX
006ed339 : MOV EAX,dword ptr [ECX + 0x48]
006ed33c : PUSH EDI
006ed33d : CALL EAX
006ed33f : TEST EAX,EAX
006ed341 : JNZ 0x006ed350
006ed343 : POP EDI
006ed344 : POP EBP
006ed345 : MOV byte ptr [ESI + 0x38],0x1
006ed349 : MOV AL,byte ptr [ESI + 0x38]
006ed34c : POP EBX
006ed34d : RET 0x8
006ed350 : PUSH 0xbf24b4
006ed355 : CALL 0x00807d70
006ed35a : MOV AL,byte ptr [ESI + 0x38]
006ed35d : ADD ESP,0x4
006ed360 : POP EDI
006ed361 : POP EBP
006ed362 : POP EBX
006ed363 : RET 0x8
006ed366 : PUSH 0xbf24d4
006ed36b : CALL 0x00807d70
006ed370 : ADD ESP,0x4
006ed373 : POP EDI
006ed374 : MOV AL,byte ptr [ESI + 0x38]
006ed377 : POP EBP
006ed378 : POP EBX
006ed379 : RET 0x8
