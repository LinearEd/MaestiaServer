PROGRAM  : Maestia.exe
FUNCTION : FUN_0040fdb0
ENTRY    : 0040fdb0
BODY     : [[0040fdb0, 0041004a]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0040fed0) */
/* WARNING: Removing unreachable block (ram,0x0040fee0) */
/* WARNING: Removing unreachable block (ram,0x0040fee9) */
/* WARNING: Removing unreachable block (ram,0x0040feec) */
/* WARNING: Removing unreachable block (ram,0x0040fedc) */
/* WARNING: Removing unreachable block (ram,0x0040fef9) */
/* WARNING: Removing unreachable block (ram,0x0040ff09) */
/* WARNING: Removing unreachable block (ram,0x0040ff14) */
/* WARNING: Removing unreachable block (ram,0x0040ff10) */
/* WARNING: Removing unreachable block (ram,0x0040ff04) */
/* WARNING: Removing unreachable block (ram,0x0040ff17) */
/* WARNING: Removing unreachable block (ram,0x0040ff27) */
/* WARNING: Removing unreachable block (ram,0x0040ff2f) */

void FUN_0040fdb0(int param_1,undefined4 param_2,int *param_3)

{
  char cVar1;
  int *piVar2;
  int *piVar3;
  undefined4 uVar4;
  int *piVar5;
  int *piVar6;
  int *piVar7;
  undefined1 local_60 [40];
  undefined1 local_38 [4];
  undefined1 local_34;
  undefined4 local_24;
  undefined4 local_20;
  int local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b7bf38;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)((int)param_3 + 0x39) != '\0') {
    local_20 = 0xf;
    local_24 = 0;
    local_34 = 0;
    FUN_00404b50("invalid map/set<T> iterator",0x1b);
    local_8 = 0;
    FUN_00403c10(local_38);
                    /* WARNING: Subroutine does not return */
    __CxxThrowException_8(local_60,&DAT_00ced890);
  }
  local_18 = param_3;
  FUN_004100e0(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  piVar7 = (int *)*param_3;
  if (*(char *)((int)piVar7 + 0x39) == '\0') {
    if (*(char *)(param_3[2] + 0x39) == '\0') {
      piVar7 = (int *)param_3[2];
    }
  }
  else {
    piVar7 = (int *)param_3[2];
  }
  piVar6 = (int *)param_3[1];
  if (*(char *)((int)piVar7 + 0x39) == '\0') {
    piVar7[1] = (int)piVar6;
  }
  if (*(int **)(*(int *)(param_1 + 4) + 4) == param_3) {
    *(int **)(*(int *)(param_1 + 4) + 4) = piVar7;
  }
  else if ((int *)*piVar6 == param_3) {
    *piVar6 = (int)piVar7;
  }
  else {
    piVar6[2] = (int)piVar7;
  }
  if ((int *)**(undefined4 **)(param_1 + 4) == param_3) {
    piVar5 = piVar6;
    if (*(char *)((int)piVar7 + 0x39) == '\0') {
      cVar1 = *(char *)(*piVar7 + 0x39);
      piVar2 = (int *)*piVar7;
      piVar5 = piVar7;
      while (piVar3 = piVar2, cVar1 == '\0') {
        piVar2 = (int *)*piVar3;
        cVar1 = *(char *)((int)piVar2 + 0x39);
        piVar5 = piVar3;
      }
    }
    **(undefined4 **)(param_1 + 4) = piVar5;
  }
  local_1c = *(int *)(param_1 + 4);
  if (*(int **)(local_1c + 8) == param_3) {
    if (*(char *)((int)piVar7 + 0x39) == '\0') {
      uVar4 = FUN_00424df0();
      *(undefined4 *)(local_1c + 8) = uVar4;
    }
    else {
      *(int **)(local_1c + 8) = piVar6;
    }
  }
  if ((char)local_18[0xe] == '\x01') {
    if (piVar7 != *(int **)(*(int *)(param_1 + 4) + 4)) {
      do {
        piVar5 = piVar6;
        if ((char)piVar7[0xe] != '\x01') break;
        piVar6 = (int *)*piVar5;
        if (piVar7 == piVar6) {
          piVar6 = (int *)piVar5[2];
          if ((char)piVar6[0xe] == '\0') {
            *(undefined1 *)(piVar6 + 0xe) = 1;
            *(undefined1 *)(piVar5 + 0xe) = 0;
            FUN_00424090(param_1);
            piVar6 = (int *)piVar5[2];
          }
          if (*(char *)((int)piVar6 + 0x39) == '\0') {
            if ((*(char *)(*piVar6 + 0x38) != '\x01') || (*(char *)(piVar6[2] + 0x38) != '\x01')) {
              if (*(char *)(piVar6[2] + 0x38) == '\x01') {
                *(undefined1 *)(*piVar6 + 0x38) = 1;
                *(undefined1 *)(piVar6 + 0xe) = 0;
                FUN_004240f0(param_1);
                piVar6 = (int *)piVar5[2];
              }
              *(char *)(piVar6 + 0xe) = (char)piVar5[0xe];
              *(undefined1 *)(piVar5 + 0xe) = 1;
              *(undefined1 *)(piVar6[2] + 0x38) = 1;
              FUN_00424090(param_1);
              break;
            }
LAB_0040fff7:
            *(undefined1 *)(piVar6 + 0xe) = 0;
          }
        }
        else {
          if ((char)piVar6[0xe] == '\0') {
            *(undefined1 *)(piVar6 + 0xe) = 1;
            *(undefined1 *)(piVar5 + 0xe) = 0;
            FUN_004240f0(param_1);
            piVar6 = (int *)*piVar5;
          }
          if (*(char *)((int)piVar6 + 0x39) == '\0') {
            if ((*(char *)(piVar6[2] + 0x38) == '\x01') && (*(char *)(*piVar6 + 0x38) == '\x01'))
            goto LAB_0040fff7;
            if (*(char *)(*piVar6 + 0x38) == '\x01') {
              *(undefined1 *)(piVar6[2] + 0x38) = 1;
              *(undefined1 *)(piVar6 + 0xe) = 0;
              FUN_00424090(param_1);
              piVar6 = (int *)*piVar5;
            }
            *(char *)(piVar6 + 0xe) = (char)piVar5[0xe];
            *(undefined1 *)(piVar5 + 0xe) = 1;
            *(undefined1 *)(*piVar6 + 0x38) = 1;
            FUN_004240f0(param_1);
            break;
          }
        }
        piVar6 = (int *)piVar5[1];
        piVar7 = piVar5;
      } while (piVar5 != *(int **)(*(int *)(param_1 + 4) + 4));
    }
    *(undefined1 *)(piVar7 + 0xe) = 1;
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
0040fdb0 : PUSH EBP
0040fdb1 : MOV EBP,ESP
0040fdb3 : PUSH -0x1
0040fdb5 : PUSH 0xb7bf38
0040fdba : MOV EAX,FS:[0x0]
0040fdc0 : PUSH EAX
0040fdc1 : SUB ESP,0x50
0040fdc4 : PUSH EBX
0040fdc5 : PUSH ESI
0040fdc6 : PUSH EDI
0040fdc7 : MOV EAX,[0x00d66fa0]
0040fdcc : XOR EAX,EBP
0040fdce : PUSH EAX
0040fdcf : LEA EAX,[EBP + -0xc]
0040fdd2 : MOV FS:[0x0],EAX
0040fdd8 : MOV EAX,dword ptr [EBP + 0x10]
0040fddb : CMP byte ptr [EAX + 0x39],0x0
0040fddf : JZ 0x0040fe1d
0040fde1 : PUSH 0x1b
0040fde3 : XOR ESI,ESI
0040fde5 : PUSH 0xcca4a8
0040fdea : LEA ECX,[EBP + -0x34]
0040fded : MOV dword ptr [EBP + -0x1c],0xf
0040fdf4 : MOV dword ptr [EBP + -0x20],ESI
0040fdf7 : MOV byte ptr [EBP + -0x30],0x0
0040fdfb : CALL 0x00404b50
0040fe00 : MOV dword ptr [EBP + -0x4],ESI
0040fe03 : LEA EAX,[EBP + -0x34]
0040fe06 : PUSH EAX
0040fe07 : LEA ECX,[EBP + -0x5c]
0040fe0a : CALL 0x00403c10
0040fe0f : PUSH 0xced890
0040fe14 : LEA ECX,[EBP + -0x5c]
0040fe17 : PUSH ECX
0040fe18 : CALL 0x006409eb
0040fe1d : MOV EBX,EAX
0040fe1f : LEA EDX,[EBP + 0x10]
0040fe22 : MOV dword ptr [EBP + -0x14],EBX
0040fe25 : CALL 0x004100e0
0040fe2a : MOV ECX,dword ptr [EBX]
0040fe2c : CMP byte ptr [ECX + 0x39],0x0
0040fe30 : JZ 0x0040fe37
0040fe32 : MOV EDI,dword ptr [EBX + 0x8]
0040fe35 : JMP 0x0040fe51
0040fe37 : MOV EDX,dword ptr [EBX + 0x8]
0040fe3a : CMP byte ptr [EDX + 0x39],0x0
0040fe3e : JZ 0x0040fe44
0040fe40 : MOV EDI,ECX
0040fe42 : JMP 0x0040fe51
0040fe44 : MOV EAX,dword ptr [EBP + 0x10]
0040fe47 : MOV EDI,dword ptr [EAX + 0x8]
0040fe4a : LEA EDX,[EAX + 0x8]
0040fe4d : CMP EAX,EBX
0040fe4f : JNZ 0x0040fed0
0040fe51 : CMP byte ptr [EDI + 0x39],0x0
0040fe55 : MOV ESI,dword ptr [EBX + 0x4]
0040fe58 : JNZ 0x0040fe5d
0040fe5a : MOV dword ptr [EDI + 0x4],ESI
0040fe5d : MOV EDX,dword ptr [EBP + 0x8]
0040fe60 : MOV EAX,dword ptr [EDX + 0x4]
0040fe63 : CMP dword ptr [EAX + 0x4],EBX
0040fe66 : JNZ 0x0040fe6d
0040fe68 : MOV dword ptr [EAX + 0x4],EDI
0040fe6b : JMP 0x0040fe78
0040fe6d : CMP dword ptr [ESI],EBX
0040fe6f : JNZ 0x0040fe75
0040fe71 : MOV dword ptr [ESI],EDI
0040fe73 : JMP 0x0040fe78
0040fe75 : MOV dword ptr [ESI + 0x8],EDI
0040fe78 : MOV EAX,dword ptr [EDX + 0x4]
0040fe7b : CMP dword ptr [EAX],EBX
0040fe7d : JNZ 0x0040fea2
0040fe7f : CMP byte ptr [EDI + 0x39],0x0
0040fe83 : JZ 0x0040fe89
0040fe85 : MOV ECX,ESI
0040fe87 : JMP 0x0040fe9d
0040fe89 : MOV EAX,dword ptr [EDI]
0040fe8b : CMP byte ptr [EAX + 0x39],0x0
0040fe8f : MOV ECX,EDI
0040fe91 : JNZ 0x0040fe9d
0040fe93 : MOV ECX,EAX
0040fe95 : MOV EAX,dword ptr [ECX]
0040fe97 : CMP byte ptr [EAX + 0x39],0x0
0040fe9b : JZ 0x0040fe93
0040fe9d : MOV EAX,dword ptr [EDX + 0x4]
0040fea0 : MOV dword ptr [EAX],ECX
0040fea2 : MOV ECX,dword ptr [EDX + 0x4]
0040fea5 : MOV dword ptr [EBP + -0x18],ECX
0040fea8 : CMP dword ptr [ECX + 0x8],EBX
0040feab : JNZ 0x0040ff32
0040feb1 : CMP byte ptr [EDI + 0x39],0x0
0040feb5 : JZ 0x0040febe
0040feb7 : MOV EAX,ESI
0040feb9 : MOV dword ptr [ECX + 0x8],EAX
0040febc : JMP 0x0040ff32
0040febe : MOV EAX,EDI
0040fec0 : CALL 0x00424df0
0040fec5 : MOV ECX,dword ptr [EBP + -0x18]
0040fec8 : MOV EDX,dword ptr [EBP + 0x8]
0040fecb : MOV dword ptr [ECX + 0x8],EAX
0040fece : JMP 0x0040ff32
0040fed0 : MOV dword ptr [ECX + 0x4],EAX
0040fed3 : MOV ECX,dword ptr [EBX]
0040fed5 : MOV dword ptr [EAX],ECX
0040fed7 : CMP EAX,dword ptr [EBX + 0x8]
0040feda : JNZ 0x0040fee0
0040fedc : MOV ESI,EAX
0040fede : JMP 0x0040fef9
0040fee0 : CMP byte ptr [EDI + 0x39],0x0
0040fee4 : MOV ESI,dword ptr [EAX + 0x4]
0040fee7 : JNZ 0x0040feec
0040fee9 : MOV dword ptr [EDI + 0x4],ESI
0040feec : MOV dword ptr [ESI],EDI
0040feee : MOV ECX,dword ptr [EBX + 0x8]
0040fef1 : MOV dword ptr [EDX],ECX
0040fef3 : MOV EDX,dword ptr [EBX + 0x8]
0040fef6 : MOV dword ptr [EDX + 0x4],EAX
0040fef9 : MOV ECX,dword ptr [EBP + 0x8]
0040fefc : MOV ECX,dword ptr [ECX + 0x4]
0040feff : CMP dword ptr [ECX + 0x4],EBX
0040ff02 : JNZ 0x0040ff09
0040ff04 : MOV dword ptr [ECX + 0x4],EAX
0040ff07 : JMP 0x0040ff17
0040ff09 : MOV ECX,dword ptr [EBX + 0x4]
0040ff0c : CMP dword ptr [ECX],EBX
0040ff0e : JNZ 0x0040ff14
0040ff10 : MOV dword ptr [ECX],EAX
0040ff12 : JMP 0x0040ff17
0040ff14 : MOV dword ptr [ECX + 0x8],EAX
0040ff17 : MOV EDX,dword ptr [EBX + 0x4]
0040ff1a : MOV dword ptr [EAX + 0x4],EDX
0040ff1d : LEA ECX,[EBX + 0x38]
0040ff20 : ADD EAX,0x38
0040ff23 : CMP EAX,ECX
0040ff25 : JZ 0x0040ff2f
0040ff27 : MOV BL,byte ptr [ECX]
0040ff29 : MOV DL,byte ptr [EAX]
0040ff2b : MOV byte ptr [EAX],BL
0040ff2d : MOV byte ptr [ECX],DL
0040ff2f : MOV EDX,dword ptr [EBP + 0x8]
0040ff32 : MOV EAX,dword ptr [EBP + -0x14]
0040ff35 : MOV BL,0x1
0040ff37 : CMP byte ptr [EAX + 0x38],BL
0040ff3a : JNZ 0x00410043
0040ff40 : MOV ECX,dword ptr [EDX + 0x4]
0040ff43 : CMP EDI,dword ptr [ECX + 0x4]
0040ff46 : JZ 0x00410040
0040ff4c : LEA ESP,[ESP]
0040ff50 : CMP byte ptr [EDI + 0x38],BL
0040ff53 : JNZ 0x00410040
0040ff59 : MOV ECX,dword ptr [ESI]
0040ff5b : CMP EDI,ECX
0040ff5d : JNZ 0x0040ffc8
0040ff5f : MOV ECX,dword ptr [ESI + 0x8]
0040ff62 : CMP byte ptr [ECX + 0x38],0x0
0040ff66 : JNZ 0x0040ff7d
0040ff68 : MOV byte ptr [ECX + 0x38],BL
0040ff6b : PUSH EDX
0040ff6c : MOV ECX,ESI
0040ff6e : MOV byte ptr [ESI + 0x38],0x0
0040ff72 : CALL 0x00424090
0040ff77 : MOV ECX,dword ptr [ESI + 0x8]
0040ff7a : MOV EDX,dword ptr [EBP + 0x8]
0040ff7d : CMP byte ptr [ECX + 0x39],0x0
0040ff81 : JNZ 0x0040fffb
0040ff83 : MOV EAX,dword ptr [ECX]
0040ff85 : CMP byte ptr [EAX + 0x38],BL
0040ff88 : JNZ 0x0040ff92
0040ff8a : MOV EAX,dword ptr [ECX + 0x8]
0040ff8d : CMP byte ptr [EAX + 0x38],BL
0040ff90 : JZ 0x0040fff7
0040ff92 : MOV EAX,dword ptr [ECX + 0x8]
0040ff95 : CMP byte ptr [EAX + 0x38],BL
0040ff98 : JNZ 0x0040ffaf
0040ff9a : MOV EAX,dword ptr [ECX]
0040ff9c : MOV byte ptr [EAX + 0x38],BL
0040ff9f : PUSH EDX
0040ffa0 : MOV byte ptr [ECX + 0x38],0x0
0040ffa4 : CALL 0x004240f0
0040ffa9 : MOV ECX,dword ptr [ESI + 0x8]
0040ffac : MOV EDX,dword ptr [EBP + 0x8]
0040ffaf : MOV AL,byte ptr [ESI + 0x38]
0040ffb2 : MOV byte ptr [ECX + 0x38],AL
0040ffb5 : MOV byte ptr [ESI + 0x38],BL
0040ffb8 : MOV ECX,dword ptr [ECX + 0x8]
0040ffbb : MOV byte ptr [ECX + 0x38],BL
0040ffbe : PUSH EDX
0040ffbf : MOV ECX,ESI
0040ffc1 : CALL 0x00424090
0040ffc6 : JMP 0x00410040
0040ffc8 : CMP byte ptr [ECX + 0x38],0x0
0040ffcc : JNZ 0x0040ffe2
0040ffce : MOV byte ptr [ECX + 0x38],BL
0040ffd1 : PUSH EDX
0040ffd2 : MOV ECX,ESI
0040ffd4 : MOV byte ptr [ESI + 0x38],0x0
0040ffd8 : CALL 0x004240f0
0040ffdd : MOV ECX,dword ptr [ESI]
0040ffdf : MOV EDX,dword ptr [EBP + 0x8]
0040ffe2 : CMP byte ptr [ECX + 0x39],0x0
0040ffe6 : JNZ 0x0040fffb
0040ffe8 : MOV EAX,dword ptr [ECX + 0x8]
0040ffeb : CMP byte ptr [EAX + 0x38],BL
0040ffee : JNZ 0x0041000e
0040fff0 : MOV EAX,dword ptr [ECX]
0040fff2 : CMP byte ptr [EAX + 0x38],BL
0040fff5 : JNZ 0x0041000e
0040fff7 : MOV byte ptr [ECX + 0x38],0x0
0040fffb : MOV ECX,dword ptr [EDX + 0x4]
0040fffe : MOV EDI,ESI
00410000 : MOV ESI,dword ptr [ESI + 0x4]
00410003 : CMP EDI,dword ptr [ECX + 0x4]
00410006 : JNZ 0x0040ff50
0041000c : JMP 0x00410040
0041000e : MOV EAX,dword ptr [ECX]
00410010 : CMP byte ptr [EAX + 0x38],BL
00410013 : JNZ 0x0041002a
00410015 : MOV EAX,dword ptr [ECX + 0x8]
00410018 : MOV byte ptr [EAX + 0x38],BL
0041001b : PUSH EDX
0041001c : MOV byte ptr [ECX + 0x38],0x0
00410020 : CALL 0x00424090
00410025 : MOV ECX,dword ptr [ESI]
00410027 : MOV EDX,dword ptr [EBP + 0x8]
0041002a : MOV AL,byte ptr [ESI + 0x38]
0041002d : MOV byte ptr [ECX + 0x38],AL
00410030 : MOV byte ptr [ESI + 0x38],BL
00410033 : MOV ECX,dword ptr [ECX]
00410035 : MOV byte ptr [ECX + 0x38],BL
00410038 : PUSH EDX
00410039 : MOV ECX,ESI
0041003b : CALL 0x004240f0
00410040 : MOV byte ptr [EDI + 0x38],BL
00410043 : MOV ECX,dword ptr [EBP + -0x14]
00410046 : CALL 0x006f04e0
