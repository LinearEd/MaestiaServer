PROGRAM  : Maestia.exe
FUNCTION : FUN_00a6c6a0
ENTRY    : 00a6c6a0
BODY     : [[00a6c6a0, 00a6c932]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x00a6c7a5) */
/* WARNING: Removing unreachable block (ram,0x00a6c76b) */

int FUN_00a6c6a0(int param_1,undefined4 param_2)

{
  int iVar1;
  int local_8c;
  void *local_14;
  undefined1 *puStack_10;
  undefined4 local_c;
  
  local_c = 0xffffffff;
  puStack_10 = &LAB_00b1c0a3;
  local_14 = ExceptionList;
  ExceptionList = &local_14;
  iVar1 = FUN_00405bb0();
  if ((iVar1 != 0) && (iVar1 = FUN_00405bb0(), iVar1 != 0)) {
    FUN_006ef1a0();
    local_c = 0;
    FUN_00440720();
    if (local_8c != *(int *)(param_1 + 8)) {
      ExceptionList = local_14;
      return *(int *)(local_8c + 0x28);
    }
    local_c = 0xffffffff;
    iVar1 = FUN_007cecc0();
    if (iVar1 != 0) {
      FUN_006ef2b0();
      local_c = 1;
      FUN_00440720();
      if (local_8c != *(int *)(param_1 + 8)) {
        FUN_007ceb30();
        iVar1 = *(int *)(local_8c + 0x28);
        local_c = 0xffffffff;
        FUN_006ef180();
        ExceptionList = local_14;
        return iVar1;
      }
      FUN_00405660(param_2);
      local_c._1_3_ = (undefined3)((uint)local_c >> 8);
      local_c._0_1_ = 1;
      FUN_00441790();
      local_c._0_1_ = 3;
      FUN_00441710();
      local_c._0_1_ = 4;
      FUN_004405c0();
      local_c._0_1_ = 3;
      FUN_0044cb00();
      local_c = CONCAT31(local_c._1_3_,1);
      FUN_0044cb00();
      local_c = 0xffffffff;
      FUN_006ef180();
      ExceptionList = local_14;
      return iVar1;
    }
  }
  ExceptionList = local_14;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00a6c6a0 : PUSH EBP
00a6c6a1 : MOV EBP,ESP
00a6c6a3 : AND ESP,0xfffffff8
00a6c6a6 : PUSH -0x1
00a6c6a8 : PUSH 0xb1c0a3
00a6c6ad : MOV EAX,FS:[0x0]
00a6c6b3 : PUSH EAX
00a6c6b4 : SUB ESP,0x78
00a6c6b7 : PUSH EBX
00a6c6b8 : PUSH ESI
00a6c6b9 : PUSH EDI
00a6c6ba : MOV EAX,[0x00d66fa0]
00a6c6bf : XOR EAX,ESP
00a6c6c1 : PUSH EAX
00a6c6c2 : LEA EAX,[ESP + 0x88]
00a6c6c9 : MOV FS:[0x0],EAX
00a6c6cf : MOV EBX,dword ptr [EBP + 0x8]
00a6c6d2 : MOV ESI,dword ptr [EBP + 0xc]
00a6c6d5 : MOV EAX,dword ptr [ESI + 0x14]
00a6c6d8 : PUSH 0xc43c10
00a6c6dd : XOR EDI,EDI
00a6c6df : MOV ECX,ESI
00a6c6e1 : CALL 0x00405bb0
00a6c6e6 : TEST EAX,EAX
00a6c6e8 : JZ 0x00a6c919
00a6c6ee : MOV ECX,dword ptr [EBP + 0x10]
00a6c6f1 : MOV EAX,dword ptr [ECX + 0x14]
00a6c6f4 : PUSH 0xc43c14
00a6c6f9 : CALL 0x00405bb0
00a6c6fe : TEST EAX,EAX
00a6c700 : JZ 0x00a6c919
00a6c706 : LEA ECX,[ESP + 0x20]
00a6c70a : LEA EAX,[EBX + 0x70]
00a6c70d : PUSH ECX
00a6c70e : MOV dword ptr [ESP + 0x30],EDI
00a6c712 : MOV dword ptr [ESP + 0x24],EAX
00a6c716 : MOV dword ptr [ESP + 0x28],0xc43c18
00a6c71e : MOV dword ptr [ESP + 0x2c],0xbe
00a6c726 : MOV dword ptr [ESP + 0x34],0x1
00a6c72e : CALL 0x006ef1a0
00a6c733 : MOV dword ptr [ESP + 0x90],EDI
00a6c73a : LEA EDX,[ESP + 0x10]
00a6c73e : LEA EAX,[EBX + 0x4]
00a6c741 : PUSH EDX
00a6c742 : PUSH EAX
00a6c743 : MOV dword ptr [ESP + 0x1c],EAX
00a6c747 : CALL 0x00440720
00a6c74c : MOV EAX,dword ptr [EBX + 0x8]
00a6c74f : MOV ECX,dword ptr [ESP + 0x10]
00a6c753 : CMP ECX,EAX
00a6c755 : JZ 0x00a6c794
00a6c757 : MOV ESI,dword ptr [ECX + 0x28]
00a6c75a : MOV dword ptr [ESP + 0x90],0xffffffff
00a6c765 : CMP dword ptr [ESP + 0x2c],EDI
00a6c769 : JZ 0x00a6c77a
00a6c76b : MOV EAX,dword ptr [ESP + 0x20]
00a6c76f : PUSH EAX
00a6c770 : CALL dword ptr [0x00b8511c]
00a6c776 : MOV dword ptr [ESP + 0x2c],EDI
00a6c77a : MOV EAX,ESI
00a6c77c : MOV ECX,dword ptr [ESP + 0x88]
00a6c783 : MOV dword ptr FS:[0x0],ECX
00a6c78a : POP ECX
00a6c78b : POP EDI
00a6c78c : POP ESI
00a6c78d : POP EBX
00a6c78e : MOV ESP,EBP
00a6c790 : POP EBP
00a6c791 : RET 0xc
00a6c794 : MOV dword ptr [ESP + 0x90],0xffffffff
00a6c79f : CMP dword ptr [ESP + 0x2c],EDI
00a6c7a3 : JZ 0x00a6c7b4
00a6c7a5 : MOV ECX,dword ptr [ESP + 0x20]
00a6c7a9 : PUSH ECX
00a6c7aa : CALL dword ptr [0x00b8511c]
00a6c7b0 : MOV dword ptr [ESP + 0x2c],EDI
00a6c7b4 : MOV EDI,dword ptr [EBP + 0x10]
00a6c7b7 : CALL 0x007cecc0
00a6c7bc : MOV EDI,EAX
00a6c7be : MOV dword ptr [ESP + 0x1c],EDI
00a6c7c2 : TEST EDI,EDI
00a6c7c4 : JZ 0x00a6c919
00a6c7ca : PUSH 0xd0
00a6c7cf : LEA EAX,[EBX + 0x6c]
00a6c7d2 : MOV ECX,0xc43c34
00a6c7d7 : LEA ESI,[ESP + 0x4c]
00a6c7db : MOV dword ptr [ESP + 0x24],EDI
00a6c7df : MOV dword ptr [ESP + 0x28],0x0
00a6c7e7 : MOV byte ptr [ESP + 0x2c],0x0
00a6c7ec : CALL 0x006ef2b0
00a6c7f1 : MOV dword ptr [ESP + 0x90],0x1
00a6c7fc : MOV EAX,dword ptr [ESP + 0x14]
00a6c800 : MOV ESI,dword ptr [EBP + 0xc]
00a6c803 : LEA EDX,[ESP + 0x10]
00a6c807 : PUSH EDX
00a6c808 : PUSH EAX
00a6c809 : CALL 0x00440720
00a6c80e : MOV EBX,dword ptr [EBX + 0x8]
00a6c811 : CMP dword ptr [ESP + 0x10],EBX
00a6c815 : JZ 0x00a6c853
00a6c817 : MOV ESI,EDI
00a6c819 : CALL 0x007ceb30
00a6c81e : MOV ECX,dword ptr [ESP + 0x10]
00a6c822 : MOV EDI,dword ptr [ECX + 0x28]
00a6c825 : MOV dword ptr [ESP + 0x90],0xffffffff
00a6c830 : LEA ESI,[ESP + 0x48]
00a6c834 : CALL 0x006ef180
00a6c839 : MOV EAX,EDI
00a6c83b : MOV ECX,dword ptr [ESP + 0x88]
00a6c842 : MOV dword ptr FS:[0x0],ECX
00a6c849 : POP ECX
00a6c84a : POP EDI
00a6c84b : POP ESI
00a6c84c : POP EBX
00a6c84d : MOV ESP,EBP
00a6c84f : POP EBP
00a6c850 : RET 0xc
00a6c853 : MOVQ XMM0,qword ptr [ESP + 0x20]
00a6c859 : MOV EDX,dword ptr [ESP + 0x28]
00a6c85d : SUB ESP,0xc
00a6c860 : MOV EAX,ESP
00a6c862 : SUB ESP,0x1c
00a6c865 : MOV ECX,ESP
00a6c867 : MOV dword ptr [ESP + 0x38],ESP
00a6c86b : MOVQ qword ptr [EAX],XMM0
00a6c86f : PUSH ESI
00a6c870 : MOV dword ptr [EAX + 0x8],EDX
00a6c873 : CALL 0x00405660
00a6c878 : MOV byte ptr [ESP + 0xb8],0x2
00a6c880 : MOV byte ptr [ESP + 0xb8],0x1
00a6c888 : LEA ESI,[ESP + 0x84]
00a6c88f : CALL 0x00441790
00a6c894 : ADD ESP,0x28
00a6c897 : MOV BL,0x3
00a6c899 : MOV byte ptr [ESP + 0x90],BL
00a6c8a0 : LEA ECX,[ESP + 0x20]
00a6c8a4 : PUSH ECX
00a6c8a5 : MOV EDI,EAX
00a6c8a7 : CALL 0x00441710
00a6c8ac : MOV byte ptr [ESP + 0x90],0x4
00a6c8b4 : MOV ECX,dword ptr [ESP + 0x14]
00a6c8b8 : LEA EDX,[ESP + 0x20]
00a6c8bc : PUSH EDX
00a6c8bd : LEA EAX,[ESP + 0x18]
00a6c8c1 : PUSH EAX
00a6c8c2 : PUSH ECX
00a6c8c3 : CALL 0x004405c0
00a6c8c8 : MOV byte ptr [ESP + 0x90],BL
00a6c8cf : LEA EDX,[ESP + 0x20]
00a6c8d3 : PUSH EDX
00a6c8d4 : CALL 0x0044cb00
00a6c8d9 : MOV byte ptr [ESP + 0x90],0x1
00a6c8e1 : MOV EAX,ESI
00a6c8e3 : PUSH EAX
00a6c8e4 : CALL 0x0044cb00
00a6c8e9 : MOV dword ptr [ESP + 0x90],0xffffffff
00a6c8f4 : LEA ESI,[ESP + 0x48]
00a6c8f8 : CALL 0x006ef180
00a6c8fd : MOV EAX,dword ptr [ESP + 0x1c]
00a6c901 : MOV ECX,dword ptr [ESP + 0x88]
00a6c908 : MOV dword ptr FS:[0x0],ECX
00a6c90f : POP ECX
00a6c910 : POP EDI
00a6c911 : POP ESI
00a6c912 : POP EBX
00a6c913 : MOV ESP,EBP
00a6c915 : POP EBP
00a6c916 : RET 0xc
00a6c919 : XOR EAX,EAX
00a6c91b : MOV ECX,dword ptr [ESP + 0x88]
00a6c922 : MOV dword ptr FS:[0x0],ECX
00a6c929 : POP ECX
00a6c92a : POP EDI
00a6c92b : POP ESI
00a6c92c : POP EBX
00a6c92d : MOV ESP,EBP
00a6c92f : POP EBP
00a6c930 : RET 0xc
