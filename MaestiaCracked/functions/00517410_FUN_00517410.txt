PROGRAM  : Maestia.exe
FUNCTION : FUN_00517410
ENTRY    : 00517410
BODY     : [[00517410, 00517464]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00517410(undefined4 param_1)

{
  int *piVar1;
  int *piVar2;
  undefined4 *puVar3;
  int *piVar4;
  DWORD DVar5;
  
  piVar4 = DAT_00d73264;
  puVar3 = (undefined4 *)DAT_00d73264[5];
  piVar1 = DAT_00d73264 + 1;
  DVar5 = WaitForSingleObject((HANDLE)*puVar3,0xffffffff);
  if (DVar5 == 0) {
    piVar2 = puVar3 + 2;
    *piVar2 = *piVar2 + 1;
  }
  FUN_005168e0(&param_1);
  if (((int *)*piVar4 == (int *)0x0) || (*(int *)*piVar4 == 0)) {
    FUN_00516390();
  }
  FUN_00517030(piVar1);
  return;
}



============================================================
DISASSEMBLY
============================================================
00517410 : MOV EAX,dword ptr [ESP + 0x4]
00517414 : PUSH EBX
00517415 : PUSH ESI
00517416 : MOV ESI,dword ptr [0x00d73264]
0051741c : PUSH EDI
0051741d : MOV EDI,dword ptr [ESI + 0x14]
00517420 : MOV ECX,dword ptr [EDI]
00517422 : LEA EBX,[ESI + 0x4]
00517425 : PUSH -0x1
00517427 : PUSH ECX
00517428 : MOV dword ptr [ESP + 0x18],EAX
0051742c : CALL dword ptr [0x00b85100]
00517432 : TEST EAX,EAX
00517434 : JNZ 0x00517439
00517436 : INC dword ptr [EDI + 0x8]
00517439 : LEA EDX,[ESP + 0x10]
0051743d : PUSH EDX
0051743e : MOV ECX,ESI
00517440 : CALL 0x005168e0
00517445 : MOV EAX,dword ptr [ESI]
00517447 : TEST EAX,EAX
00517449 : JZ 0x00517450
0051744b : CMP dword ptr [EAX],0x0
0051744e : JNZ 0x00517458
00517450 : MOV ECX,dword ptr [ESI + 0x18]
00517453 : CALL 0x00516390
00517458 : MOV ECX,dword ptr [EBX + 0x10]
0051745b : PUSH EBX
0051745c : CALL 0x00517030
00517461 : POP EDI
00517462 : POP ESI
00517463 : POP EBX
00517464 : RET
