PROGRAM  : Maestia.exe
FUNCTION : FUN_00562870
ENTRY    : 00562870
BODY     : [[00562870, 005628ea]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00562870(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0x10);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 0x109;
  iVar1 = FUN_00515840(uVar2 * 0x10,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
00562870 : MOV EAX,dword ptr [ESP + 0x8]
00562874 : PUSH EDI
00562875 : MOV EDI,ECX
00562877 : TEST EAX,EAX
00562879 : JNZ 0x00562898
0056287b : MOV EAX,dword ptr [EDI]
0056287d : TEST EAX,EAX
0056287f : JZ 0x0056288d
00562881 : PUSH EAX
00562882 : CALL 0x00515cf0
00562887 : MOV dword ptr [EDI],0x0
0056288d : MOV dword ptr [EDI + 0x8],0x0
00562894 : POP EDI
00562895 : RET 0x8
00562898 : PUSH ESI
00562899 : LEA ESI,[EAX + 0x3]
0056289c : MOV EAX,dword ptr [EDI]
0056289e : SHR ESI,0x2
005628a1 : ADD ESI,ESI
005628a3 : ADD ESI,ESI
005628a5 : TEST EAX,EAX
005628a7 : JZ 0x005628c1
005628a9 : LEA ECX,[ESI*0x4 + 0x0]
005628b0 : PUSH ECX
005628b1 : PUSH EAX
005628b2 : CALL 0x00515c80
005628b7 : MOV dword ptr [EDI + 0x8],ESI
005628ba : POP ESI
005628bb : MOV dword ptr [EDI],EAX
005628bd : POP EDI
005628be : RET 0x8
005628c1 : MOV ECX,dword ptr [0x00d73250]
005628c7 : LEA EDX,[ESP + 0x10]
005628cb : PUSH EDX
005628cc : LEA EAX,[ESI*0x4 + 0x0]
005628d3 : PUSH EAX
005628d4 : MOV dword ptr [ESP + 0x18],0x109
005628dc : CALL 0x00515840
005628e1 : MOV dword ptr [EDI + 0x8],ESI
005628e4 : POP ESI
005628e5 : MOV dword ptr [EDI],EAX
005628e7 : POP EDI
005628e8 : RET 0x8
