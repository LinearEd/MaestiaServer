PROGRAM  : Maestia.exe
FUNCTION : FUN_00697fb0
ENTRY    : 00697fb0
BODY     : [[00697fb0, 00698012]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00697fb0(void)

{
  int iVar1;
  int in_EAX;
  int iVar2;
  
  iVar1 = *(int *)(in_EAX + 0x5c);
  iVar2 = *(int *)(in_EAX + 0x2c) - *(int *)(iVar1 + 8) >> 2;
  if (iVar2 < 0) {
    *(undefined4 *)(in_EAX + 0x30) = 99;
    return 1;
  }
  if (0 < iVar2) {
    *(int *)(iVar1 + 0x10) = iVar2;
    *(int *)(in_EAX + 0x5c) = *(int *)(in_EAX + 0x2c);
    *(int *)(in_EAX + 0x2c) = *(int *)(in_EAX + 0x2c) + 0x20;
    *(undefined4 *)(*(int *)(in_EAX + 0x5c) + 0x10) = 0;
    *(undefined4 *)(*(int *)(in_EAX + 0x5c) + 8) = *(undefined4 *)(in_EAX + 0x2c);
    *(undefined4 *)(iVar1 + 0x1c) = *(undefined4 *)(in_EAX + 0x5c);
    *(short *)(in_EAX + 0x58) = *(short *)(in_EAX + 0x58) + 1;
  }
  if (*(uint *)(in_EAX + 0x28) <= *(uint *)(in_EAX + 0x2c)) {
    *(undefined4 *)(in_EAX + 0x30) = 0x62;
    return 1;
  }
  *(undefined1 *)(in_EAX + 0x5b) = 0;
  return 0;
}



============================================================
DISASSEMBLY
============================================================
00697fb0 : MOV EDX,dword ptr [EAX + 0x5c]
00697fb3 : MOV ECX,dword ptr [EAX + 0x2c]
00697fb6 : SUB ECX,dword ptr [EDX + 0x8]
00697fb9 : SAR ECX,0x2
00697fbc : TEST ECX,ECX
00697fbe : JGE 0x00697fca
00697fc0 : MOV dword ptr [EAX + 0x30],0x63
00697fc7 : MOV AL,0x1
00697fc9 : RET
00697fca : JLE 0x00697ffa
00697fcc : MOV dword ptr [EDX + 0x10],ECX
00697fcf : MOV ECX,dword ptr [EAX + 0x2c]
00697fd2 : MOV dword ptr [EAX + 0x5c],ECX
00697fd5 : ADD ECX,0x20
00697fd8 : MOV dword ptr [EAX + 0x2c],ECX
00697fdb : MOV ECX,dword ptr [EAX + 0x5c]
00697fde : MOV dword ptr [ECX + 0x10],0x0
00697fe5 : MOV ECX,dword ptr [EAX + 0x5c]
00697fe8 : PUSH ESI
00697fe9 : MOV ESI,dword ptr [EAX + 0x2c]
00697fec : MOV dword ptr [ECX + 0x8],ESI
00697fef : MOV ECX,dword ptr [EAX + 0x5c]
00697ff2 : MOV dword ptr [EDX + 0x1c],ECX
00697ff5 : INC word ptr [EAX + 0x58]
00697ff9 : POP ESI
00697ffa : MOV EDX,dword ptr [EAX + 0x2c]
00697ffd : CMP EDX,dword ptr [EAX + 0x28]
00698000 : JC 0x0069800c
00698002 : MOV dword ptr [EAX + 0x30],0x62
00698009 : MOV AL,0x1
0069800b : RET
0069800c : MOV byte ptr [EAX + 0x5b],0x0
00698010 : XOR AL,AL
00698012 : RET
