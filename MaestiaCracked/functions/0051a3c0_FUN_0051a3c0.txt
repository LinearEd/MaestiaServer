PROGRAM  : Maestia.exe
FUNCTION : FUN_0051a3c0
ENTRY    : 0051a3c0
BODY     : [[0051a3c0, 0051a48a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0051a3c0(undefined4 *param_1)

{
  int iVar1;
  int in_ECX;
  int *piVar2;
  
  if (param_1[4] != 0) {
    iVar1 = FUN_00515840(param_1[5],0);
    *(int *)(in_ECX + 0x18) = iVar1;
    if (iVar1 != 0) {
      *(undefined4 *)(in_ECX + 0x1c) = param_1[5];
      *(undefined4 *)(in_ECX + 8) = *param_1;
      *(undefined4 *)(in_ECX + 0xc) = param_1[1];
      *(undefined4 *)(in_ECX + 0x10) = param_1[2];
      *(undefined4 *)(in_ECX + 0x14) = param_1[3];
      *(undefined4 *)(in_ECX + 0x20) = param_1[6];
      FUN_00519910(param_1 + 7);
      _memcpy(*(void **)(in_ECX + 0x18),(void *)param_1[4],param_1[5]);
      return;
    }
  }
  *(undefined4 *)(in_ECX + 8) = 0;
  *(undefined4 *)(in_ECX + 0x14) = 0;
  *(undefined4 *)(in_ECX + 0x10) = 0;
  *(undefined4 *)(in_ECX + 0xc) = 0;
  *(undefined4 *)(in_ECX + 0x18) = 0;
  *(undefined4 *)(in_ECX + 0x1c) = 0;
  *(undefined4 *)(in_ECX + 0x20) = 1;
  piVar2 = (int *)(in_ECX + 0x24);
  if (*(int *)(in_ECX + 0x28) == 0) {
    if (*(int *)(in_ECX + 0x2c) == 0) {
      FUN_0057c3a0(piVar2,0);
    }
  }
  else if ((*(uint *)(in_ECX + 0x2c) & 0xfffffffe) != 0) {
    if (*piVar2 != 0) {
      FUN_00515cf0(*piVar2);
      *piVar2 = 0;
    }
    *(undefined4 *)(in_ECX + 0x2c) = 0;
    *(undefined4 *)(in_ECX + 0x28) = 0;
    return;
  }
  *(undefined4 *)(in_ECX + 0x28) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
0051a3c0 : PUSH EBX
0051a3c1 : PUSH ESI
0051a3c2 : PUSH EDI
0051a3c3 : MOV EDI,dword ptr [ESP + 0x10]
0051a3c7 : XOR EBX,EBX
0051a3c9 : MOV ESI,ECX
0051a3cb : CMP dword ptr [EDI + 0x10],EBX
0051a3ce : JZ 0x0051a430
0051a3d0 : MOV EAX,dword ptr [EDI + 0x14]
0051a3d3 : MOV ECX,dword ptr [0x00d73250]
0051a3d9 : PUSH EBX
0051a3da : PUSH EAX
0051a3db : CALL 0x00515840
0051a3e0 : MOV dword ptr [ESI + 0x18],EAX
0051a3e3 : CMP EAX,EBX
0051a3e5 : JZ 0x0051a430
0051a3e7 : MOV EAX,dword ptr [EDI + 0x14]
0051a3ea : MOV dword ptr [ESI + 0x1c],EAX
0051a3ed : MOV ECX,dword ptr [EDI]
0051a3ef : MOV dword ptr [ESI + 0x8],ECX
0051a3f2 : MOV EDX,dword ptr [EDI + 0x4]
0051a3f5 : MOV dword ptr [ESI + 0xc],EDX
0051a3f8 : MOV EAX,dword ptr [EDI + 0x8]
0051a3fb : MOV dword ptr [ESI + 0x10],EAX
0051a3fe : MOV ECX,dword ptr [EDI + 0xc]
0051a401 : MOV dword ptr [ESI + 0x14],ECX
0051a404 : MOV EDX,dword ptr [EDI + 0x18]
0051a407 : LEA EAX,[EDI + 0x1c]
0051a40a : PUSH EAX
0051a40b : LEA ECX,[ESI + 0x24]
0051a40e : MOV dword ptr [ESI + 0x20],EDX
0051a411 : CALL 0x00519910
0051a416 : MOV ECX,dword ptr [EDI + 0x14]
0051a419 : MOV EDX,dword ptr [EDI + 0x10]
0051a41c : MOV EAX,dword ptr [ESI + 0x18]
0051a41f : PUSH ECX
0051a420 : PUSH EDX
0051a421 : PUSH EAX
0051a422 : CALL 0x0063ae40
0051a427 : ADD ESP,0xc
0051a42a : POP EDI
0051a42b : POP ESI
0051a42c : POP EBX
0051a42d : RET 0x4
0051a430 : MOV dword ptr [ESI + 0x8],EBX
0051a433 : MOV dword ptr [ESI + 0x14],EBX
0051a436 : MOV dword ptr [ESI + 0x10],EBX
0051a439 : MOV dword ptr [ESI + 0xc],EBX
0051a43c : MOV dword ptr [ESI + 0x18],EBX
0051a43f : MOV dword ptr [ESI + 0x1c],EBX
0051a442 : MOV dword ptr [ESI + 0x20],0x1
0051a449 : ADD ESI,0x24
0051a44c : CMP dword ptr [ESI + 0x4],EBX
0051a44f : JBE 0x0051a474
0051a451 : TEST dword ptr [ESI + 0x8],0xfffffffe
0051a458 : JBE 0x0051a482
0051a45a : MOV EAX,dword ptr [ESI]
0051a45c : CMP EAX,EBX
0051a45e : JZ 0x0051a468
0051a460 : PUSH EAX
0051a461 : CALL 0x00515cf0
0051a466 : MOV dword ptr [ESI],EBX
0051a468 : POP EDI
0051a469 : MOV dword ptr [ESI + 0x8],EBX
0051a46c : MOV dword ptr [ESI + 0x4],EBX
0051a46f : POP ESI
0051a470 : POP EBX
0051a471 : RET 0x4
0051a474 : CMP dword ptr [ESI + 0x8],EBX
0051a477 : JA 0x0051a482
0051a479 : PUSH EBX
0051a47a : PUSH ESI
0051a47b : MOV ECX,ESI
0051a47d : CALL 0x0057c3a0
0051a482 : POP EDI
0051a483 : MOV dword ptr [ESI + 0x4],EBX
0051a486 : POP ESI
0051a487 : POP EBX
0051a488 : RET 0x4
