PROGRAM  : Maestia.exe
FUNCTION : FUN_00841f40
ENTRY    : 00841f40
BODY     : [[00841f40, 0084209f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00841f40(uint *param_1)

{
  uint uVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int iVar5;
  undefined1 *puVar6;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2a013;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  uVar1 = *param_1;
  if ((((uVar1 != 0) && (uVar1 >> 0x10 == 0x769)) &&
      (piVar3 = (int *)FUN_004049b0(uVar1,DAT_00d66fa0 ^ (uint)&stack0xfffffffc),
      piVar3 != (int *)0x0)) && (iVar4 = (**(code **)(*piVar3 + 0x3c))(), iVar4 != 0)) {
    iVar4 = (**(code **)(piVar3[0x710] + 4))();
    while (iVar4 != 0) {
      iVar5 = FUN_004f5680();
      if (iVar5 != 0) {
        FUN_00406f50();
      }
    }
    iVar4 = 0;
    iVar5 = 0;
    do {
      iVar2 = piVar3[(uint)*(byte *)((int)param_1 + 0xb) + iVar5 + 0x9d];
      if (iVar2 != 0) {
        puVar6 = (undefined1 *)FUN_006f0300(0x10);
        if (puVar6 == (undefined1 *)0x0) {
          puVar6 = (undefined1 *)0x0;
        }
        else {
          *(undefined4 *)(puVar6 + 4) = 0;
          *puVar6 = 1;
          puVar6[1] = 0;
          *(undefined4 *)(puVar6 + 8) = 0;
          *(undefined4 *)(puVar6 + 0xc) = 0;
        }
        local_8 = 0xffffffff;
        *(int *)(puVar6 + 8) = iVar2;
        if (iVar4 < 0x42) {
          puVar6[1] = (byte)iVar4 & 1;
          *(int *)(puVar6 + 4) = iVar4;
          *puVar6 = 1;
        }
        else {
          puVar6[1] = 0;
          *(int *)(puVar6 + 4) = iVar4;
          *puVar6 = 0;
        }
        FUN_00449610();
      }
      iVar5 = iVar5 + 0x16;
      iVar4 = iVar4 + 1;
    } while (iVar5 < 0x672);
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00841f40 : PUSH EBP
00841f41 : MOV EBP,ESP
00841f43 : PUSH -0x1
00841f45 : PUSH 0xb2a013
00841f4a : MOV EAX,FS:[0x0]
00841f50 : PUSH EAX
00841f51 : SUB ESP,0x10
00841f54 : PUSH EBX
00841f55 : PUSH ESI
00841f56 : PUSH EDI
00841f57 : MOV EAX,[0x00d66fa0]
00841f5c : XOR EAX,EBP
00841f5e : PUSH EAX
00841f5f : LEA EAX,[EBP + -0xc]
00841f62 : MOV FS:[0x0],EAX
00841f68 : MOV EAX,dword ptr [EBP + 0x8]
00841f6b : MOV EAX,dword ptr [EAX]
00841f6d : TEST EAX,EAX
00841f6f : JZ 0x0084208c
00841f75 : MOV ECX,EAX
00841f77 : SHR ECX,0x10
00841f7a : CMP ECX,0x769
00841f80 : JNZ 0x0084208c
00841f86 : PUSH EAX
00841f87 : CALL 0x004049b0
00841f8c : MOV EDI,EAX
00841f8e : ADD ESP,0x4
00841f91 : MOV dword ptr [EBP + -0x14],EDI
00841f94 : TEST EDI,EDI
00841f96 : JZ 0x0084208c
00841f9c : MOV EDX,dword ptr [EDI]
00841f9e : MOV EAX,dword ptr [EDX + 0x3c]
00841fa1 : MOV ECX,EDI
00841fa3 : CALL EAX
00841fa5 : TEST EAX,EAX
00841fa7 : JZ 0x0084208c
00841fad : MOV EDX,dword ptr [EDI + 0x1c40]
00841fb3 : MOV EAX,dword ptr [EDX + 0x4]
00841fb6 : LEA EBX,[EDI + 0x1c40]
00841fbc : MOV ECX,EBX
00841fbe : CALL EAX
00841fc0 : MOV dword ptr [EBP + -0x10],EAX
00841fc3 : TEST EAX,EAX
00841fc5 : JZ 0x00841ffc
00841fc7 : LEA EDX,[EBP + -0x10]
00841fca : MOV EAX,EBX
00841fcc : CALL 0x004f5680
00841fd1 : TEST EAX,EAX
00841fd3 : JZ 0x00841ff6
00841fd5 : MOVZX ECX,word ptr [EAX + 0x4]
00841fd9 : MOVZX EDX,word ptr [EAX + 0x6]
00841fdd : SHL ECX,0x10
00841fe0 : OR ECX,EDX
00841fe2 : MOV EDX,dword ptr [EBP + 0x8]
00841fe5 : ADD EDX,0x48
00841fe8 : LEA EDI,[EBP + -0x18]
00841feb : MOV dword ptr [EBP + -0x18],ECX
00841fee : CALL 0x00406f50
00841ff3 : MOV EDI,dword ptr [EBP + -0x14]
00841ff6 : CMP dword ptr [EBP + -0x10],0x0
00841ffa : JNZ 0x00841fc7
00841ffc : XOR EBX,EBX
00841ffe : XOR ESI,ESI
00842000 : JMP 0x00842005
00842002 : MOV EDI,dword ptr [EBP + -0x14]
00842005 : MOV EAX,dword ptr [EBP + 0x8]
00842008 : MOVZX ECX,byte ptr [EAX + 0xb]
0084200c : ADD ECX,ESI
0084200e : MOV EDI,dword ptr [EDI + ECX*0x4 + 0x274]
00842015 : TEST EDI,EDI
00842017 : JZ 0x0084207c
00842019 : PUSH 0x10
0084201b : CALL 0x006f0300
00842020 : ADD ESP,0x4
00842023 : MOV dword ptr [EBP + -0x18],EAX
00842026 : XOR ECX,ECX
00842028 : MOV dword ptr [EBP + -0x4],ECX
0084202b : CMP EAX,ECX
0084202d : JZ 0x00842040
0084202f : MOV dword ptr [EAX + 0x4],ECX
00842032 : MOV byte ptr [EAX],0x1
00842035 : MOV byte ptr [EAX + 0x1],CL
00842038 : MOV dword ptr [EAX + 0x8],ECX
0084203b : MOV dword ptr [EAX + 0xc],ECX
0084203e : JMP 0x00842042
00842040 : XOR EAX,EAX
00842042 : MOV dword ptr [EBP + -0x4],0xffffffff
00842049 : CMP EBX,0x42
0084204c : MOV dword ptr [EBP + -0x18],EAX
0084204f : MOV dword ptr [EAX + 0x8],EDI
00842052 : JGE 0x00842064
00842054 : MOV DL,BL
00842056 : AND DL,0x1
00842059 : MOV byte ptr [EAX + 0x1],DL
0084205c : MOV dword ptr [EAX + 0x4],EBX
0084205f : MOV byte ptr [EAX],0x1
00842062 : JMP 0x0084206e
00842064 : MOV byte ptr [EAX + 0x1],0x0
00842068 : MOV dword ptr [EAX + 0x4],EBX
0084206b : MOV byte ptr [EAX],0x0
0084206e : MOV EDX,dword ptr [EBP + 0x8]
00842071 : ADD EDX,0x38
00842074 : LEA EDI,[EBP + -0x18]
00842077 : CALL 0x00449610
0084207c : ADD ESI,0x16
0084207f : INC EBX
00842080 : CMP ESI,0x672
00842086 : JL 0x00842002
0084208c : MOV ECX,dword ptr [EBP + -0xc]
0084208f : MOV dword ptr FS:[0x0],ECX
00842096 : POP ECX
00842097 : POP EDI
00842098 : POP ESI
00842099 : POP EBX
0084209a : MOV ESP,EBP
0084209c : POP EBP
0084209d : RET 0x4
