PROGRAM  : Maestia.exe
FUNCTION : FUN_005542d0
ENTRY    : 005542d0
BODY     : [[005542d0, 0055443b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005542d0(float *param_1,char param_2)

{
  int *piVar1;
  int iVar2;
  int *in_ECX;
  
  iVar2 = *in_ECX;
  if (*(char *)(iVar2 + 0x20) == -0x7c) {
    param_1[2] = (float)(*(int *)(iVar2 + 100) + *(int *)(iVar2 + 0x2c));
    param_1[3] = (float)(*(int *)(*in_ECX + 0x68) + *(int *)(*in_ECX + 0x30));
    iVar2 = *in_ECX;
    if (param_2 == '\0') {
      if ((*(byte *)(iVar2 + 0x70) & 0x80) != 0) {
        param_1[2] = *(float *)(iVar2 + 0x6c) * param_1[2];
        param_1[3] = *(float *)(*in_ECX + 0x6c) * param_1[3];
      }
      *(undefined1 *)(param_1 + 4) = 0;
    }
    else {
      *param_1 = (float)*(int *)(iVar2 + 0x2c) + (float)*(int *)(iVar2 + 100) * 0.5;
      param_1[1] = (float)*(int *)(*in_ECX + 0x68) * 0.5 + (float)*(int *)(*in_ECX + 0x30);
      if ((*(byte *)(*in_ECX + 0x70) & 0x80) != 0) {
        *param_1 = *(float *)(*in_ECX + 0x6c) * *param_1;
        param_1[1] = *(float *)(*in_ECX + 0x6c) * param_1[1];
        param_1[2] = *(float *)(*in_ECX + 0x6c) * param_1[2];
        param_1[3] = *(float *)(*in_ECX + 0x6c) * param_1[3];
      }
      *(undefined1 *)(param_1 + 4) = 1;
    }
    piVar1 = (int *)(*in_ECX + 0x2c);
    *piVar1 = *piVar1 + *(int *)(*in_ECX + 100);
    piVar1 = (int *)(*in_ECX + 0x30);
    *piVar1 = *piVar1 + *(int *)(*in_ECX + 0x68);
  }
  else if (*(char *)(iVar2 + 0x20) == -0x7b) {
    *param_1 = (float)(*(int *)(iVar2 + 0x5c) + *(int *)(iVar2 + 0x2c));
    param_1[1] = (float)(*(int *)(*in_ECX + 0x60) + *(int *)(*in_ECX + 0x30));
    iVar2 = *in_ECX;
    *(int *)(iVar2 + 0x2c) =
         *(int *)(iVar2 + 0x2c) + *(int *)(iVar2 + 0x5c) + *(int *)(iVar2 + 0x54);
    iVar2 = *in_ECX;
    *(int *)(iVar2 + 0x30) =
         *(int *)(iVar2 + 0x30) + *(int *)(iVar2 + 0x60) + *(int *)(iVar2 + 0x58);
    param_1[2] = (float)*(int *)(*in_ECX + 0x2c);
    param_1[3] = (float)*(int *)(*in_ECX + 0x30);
    if ((*(byte *)(*in_ECX + 0x70) & 0x80) != 0) {
      *param_1 = *(float *)(*in_ECX + 0x6c) * *param_1;
      param_1[1] = *(float *)(*in_ECX + 0x6c) * param_1[1];
      param_1[2] = *(float *)(*in_ECX + 0x6c) * param_1[2];
      param_1[3] = *(float *)(*in_ECX + 0x6c) * param_1[3];
    }
    *(undefined1 *)(param_1 + 4) = 1;
    in_ECX[1] = in_ECX[1] + 1;
    FUN_00553740();
    return;
  }
  in_ECX[1] = in_ECX[1] + 1;
  FUN_00553740();
  return;
}



============================================================
DISASSEMBLY
============================================================
005542d0 : MOV EDX,dword ptr [ECX]
005542d2 : MOVZX EAX,byte ptr [EDX + 0x20]
005542d6 : SUB EAX,0x84
005542db : PUSH ESI
005542dc : JZ 0x0055437a
005542e2 : SUB EAX,0x1
005542e5 : JNZ 0x0055442e
005542eb : MOV EAX,dword ptr [EDX + 0x5c]
005542ee : ADD EAX,dword ptr [EDX + 0x2c]
005542f1 : MOV dword ptr [ESP + 0xc],EAX
005542f5 : FILD dword ptr [ESP + 0xc]
005542f9 : MOV EAX,dword ptr [ESP + 0x8]
005542fd : FSTP float ptr [EAX]
005542ff : MOV EDX,dword ptr [ECX]
00554301 : MOV ESI,dword ptr [EDX + 0x60]
00554304 : ADD ESI,dword ptr [EDX + 0x30]
00554307 : MOV dword ptr [ESP + 0xc],ESI
0055430b : FILD dword ptr [ESP + 0xc]
0055430f : FSTP float ptr [EAX + 0x4]
00554312 : MOV EDX,dword ptr [ECX]
00554314 : MOV ESI,dword ptr [EDX + 0x5c]
00554317 : ADD ESI,dword ptr [EDX + 0x54]
0055431a : ADD dword ptr [EDX + 0x2c],ESI
0055431d : MOV EDX,dword ptr [ECX]
0055431f : MOV ESI,dword ptr [EDX + 0x60]
00554322 : ADD ESI,dword ptr [EDX + 0x58]
00554325 : ADD dword ptr [EDX + 0x30],ESI
00554328 : MOV EDX,dword ptr [ECX]
0055432a : FILD dword ptr [EDX + 0x2c]
0055432d : FSTP float ptr [EAX + 0x8]
00554330 : MOV EDX,dword ptr [ECX]
00554332 : FILD dword ptr [EDX + 0x30]
00554335 : FSTP float ptr [EAX + 0xc]
00554338 : MOV EDX,dword ptr [ECX]
0055433a : TEST byte ptr [EDX + 0x70],0x80
0055433e : JZ 0x00554368
00554340 : FLD float ptr [EDX + 0x6c]
00554343 : FMUL float ptr [EAX]
00554345 : FSTP float ptr [EAX]
00554347 : MOV EDX,dword ptr [ECX]
00554349 : FLD float ptr [EDX + 0x6c]
0055434c : FMUL float ptr [EAX + 0x4]
0055434f : FSTP float ptr [EAX + 0x4]
00554352 : MOV EDX,dword ptr [ECX]
00554354 : FLD float ptr [EDX + 0x6c]
00554357 : FMUL float ptr [EAX + 0x8]
0055435a : FSTP float ptr [EAX + 0x8]
0055435d : MOV EDX,dword ptr [ECX]
0055435f : FLD float ptr [EDX + 0x6c]
00554362 : FMUL float ptr [EAX + 0xc]
00554365 : FSTP float ptr [EAX + 0xc]
00554368 : MOV byte ptr [EAX + 0x10],0x1
0055436c : INC dword ptr [ECX + 0x4]
0055436f : MOV ECX,dword ptr [ECX]
00554371 : CALL 0x00553740
00554376 : POP ESI
00554377 : RET 0x8
0055437a : MOV ESI,dword ptr [EDX + 0x64]
0055437d : ADD ESI,dword ptr [EDX + 0x2c]
00554380 : MOV EAX,dword ptr [ESP + 0x8]
00554384 : MOV dword ptr [ESP + 0x8],ESI
00554388 : FILD dword ptr [ESP + 0x8]
0055438c : FSTP float ptr [EAX + 0x8]
0055438f : MOV EDX,dword ptr [ECX]
00554391 : MOV ESI,dword ptr [EDX + 0x68]
00554394 : ADD ESI,dword ptr [EDX + 0x30]
00554397 : CMP byte ptr [ESP + 0xc],0x0
0055439c : MOV dword ptr [ESP + 0x8],ESI
005543a0 : FILD dword ptr [ESP + 0x8]
005543a4 : FSTP float ptr [EAX + 0xc]
005543a7 : MOV EDX,dword ptr [ECX]
005543a9 : JZ 0x00554400
005543ab : FILD dword ptr [EDX + 0x64]
005543ae : FLD double ptr [0x00cdf120]
005543b4 : FMUL ST1
005543b6 : FILD dword ptr [EDX + 0x2c]
005543b9 : FADDP ST2,ST0
005543bb : FXCH
005543bd : FSTP float ptr [EAX]
005543bf : MOV EDX,dword ptr [ECX]
005543c1 : FIMUL dword ptr [EDX + 0x68]
005543c4 : FIADD dword ptr [EDX + 0x30]
005543c7 : FSTP float ptr [EAX + 0x4]
005543ca : MOV EDX,dword ptr [ECX]
005543cc : TEST byte ptr [EDX + 0x70],0x80
005543d0 : JZ 0x005543fa
005543d2 : FLD float ptr [EDX + 0x6c]
005543d5 : FMUL float ptr [EAX]
005543d7 : FSTP float ptr [EAX]
005543d9 : MOV EDX,dword ptr [ECX]
005543db : FLD float ptr [EDX + 0x6c]
005543de : FMUL float ptr [EAX + 0x4]
005543e1 : FSTP float ptr [EAX + 0x4]
005543e4 : MOV EDX,dword ptr [ECX]
005543e6 : FLD float ptr [EDX + 0x6c]
005543e9 : FMUL float ptr [EAX + 0x8]
005543ec : FSTP float ptr [EAX + 0x8]
005543ef : MOV EDX,dword ptr [ECX]
005543f1 : FLD float ptr [EDX + 0x6c]
005543f4 : FMUL float ptr [EAX + 0xc]
005543f7 : FSTP float ptr [EAX + 0xc]
005543fa : MOV byte ptr [EAX + 0x10],0x1
005543fe : JMP 0x0055441e
00554400 : TEST byte ptr [EDX + 0x70],0x80
00554404 : JZ 0x0055441a
00554406 : FLD float ptr [EDX + 0x6c]
00554409 : FMUL float ptr [EAX + 0x8]
0055440c : FSTP float ptr [EAX + 0x8]
0055440f : MOV EDX,dword ptr [ECX]
00554411 : FLD float ptr [EDX + 0x6c]
00554414 : FMUL float ptr [EAX + 0xc]
00554417 : FSTP float ptr [EAX + 0xc]
0055441a : MOV byte ptr [EAX + 0x10],0x0
0055441e : MOV EAX,dword ptr [ECX]
00554420 : MOV EDX,dword ptr [EAX + 0x64]
00554423 : ADD dword ptr [EAX + 0x2c],EDX
00554426 : MOV EAX,dword ptr [ECX]
00554428 : MOV EDX,dword ptr [EAX + 0x68]
0055442b : ADD dword ptr [EAX + 0x30],EDX
0055442e : INC dword ptr [ECX + 0x4]
00554431 : MOV ECX,dword ptr [ECX]
00554433 : CALL 0x00553740
00554438 : POP ESI
00554439 : RET 0x8
