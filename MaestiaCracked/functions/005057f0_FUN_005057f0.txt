PROGRAM  : Maestia.exe
FUNCTION : FUN_005057f0
ENTRY    : 005057f0
BODY     : [[005057f0, 005058ad]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005057f0(int param_1)

{
  int iVar1;
  undefined1 *puVar2;
  int iVar3;
  int iVar4;
  
  if (*(int *)(param_1 + 8) != 0) {
    iVar3 = (**(code **)(**(int **)(param_1 + 8) + 8))();
    if (iVar3 == 4) {
      if (*(int *)(param_1 + 8) == 0) {
        iVar3 = 0;
      }
      else {
        iVar3 = *(int *)(param_1 + 8) + -0x68;
      }
      iVar3 = *(int *)(*(int *)(iVar3 + 0xa0) + 0xc);
      iVar1 = *(int *)(iVar3 + 0x1c);
      iVar3 = *(int *)(iVar3 + 0x18);
      iVar4 = FUN_00515840(0x74,0);
      if (iVar4 == 0) {
        iVar4 = 0;
      }
      else {
        iVar4 = FUN_0057f1d0(*(undefined4 *)(param_1 + 0x18));
      }
      if (iVar1 != 0) {
        FUN_0057f610(*(int *)(param_1 + 0x18) + 0x78,iVar1);
      }
      if (iVar3 != 0) {
        FUN_0057fa30(*(int *)(param_1 + 0x18) + 0x78,iVar3);
      }
      FUN_005271c0(iVar4);
      if (iVar4 != 0) {
        FUN_00503db0();
        return;
      }
      return;
    }
  }
  puVar2 = *(undefined1 **)(param_1 + 4);
  FUN_00526400();
  *puVar2 = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
005057f0 : PUSH ESI
005057f1 : MOV ESI,dword ptr [ESP + 0x8]
005057f5 : CMP dword ptr [ESI + 0x8],0x0
005057f9 : JZ 0x0050589a
005057ff : MOV ECX,dword ptr [ESI + 0x8]
00505802 : MOV EAX,dword ptr [ECX]
00505804 : MOV EDX,dword ptr [EAX + 0x8]
00505807 : CALL EDX
00505809 : CMP EAX,0x4
0050580c : JNZ 0x0050589a
00505812 : MOV EAX,dword ptr [ESI + 0x8]
00505815 : TEST EAX,EAX
00505817 : JZ 0x0050581e
00505819 : ADD EAX,-0x68
0050581c : JMP 0x00505820
0050581e : XOR EAX,EAX
00505820 : MOV ECX,dword ptr [ESI + 0x18]
00505823 : MOV EAX,dword ptr [EAX + 0xa0]
00505829 : MOV EAX,dword ptr [EAX + 0xc]
0050582c : MOV EDX,dword ptr [ECX + 0x78]
0050582f : MOV ECX,dword ptr [EDX + 0x288]
00505835 : PUSH EBX
00505836 : MOV EBX,dword ptr [EAX + 0x1c]
00505839 : PUSH EBP
0050583a : MOV EBP,dword ptr [EAX + 0x18]
0050583d : PUSH EDI
0050583e : PUSH 0x0
00505840 : PUSH 0x74
00505842 : CALL 0x00515840
00505847 : TEST EAX,EAX
00505849 : JZ 0x0050585a
0050584b : MOV ECX,dword ptr [ESI + 0x18]
0050584e : PUSH ECX
0050584f : MOV ECX,EAX
00505851 : CALL 0x0057f1d0
00505856 : MOV EDI,EAX
00505858 : JMP 0x0050585c
0050585a : XOR EDI,EDI
0050585c : TEST EBX,EBX
0050585e : JZ 0x0050586f
00505860 : MOV EDX,dword ptr [ESI + 0x18]
00505863 : PUSH EBX
00505864 : ADD EDX,0x78
00505867 : PUSH EDX
00505868 : MOV ECX,EDI
0050586a : CALL 0x0057f610
0050586f : TEST EBP,EBP
00505871 : JZ 0x00505882
00505873 : MOV EAX,dword ptr [ESI + 0x18]
00505876 : PUSH EBP
00505877 : ADD EAX,0x78
0050587a : PUSH EAX
0050587b : MOV ECX,EDI
0050587d : CALL 0x0057fa30
00505882 : MOV ECX,dword ptr [ESI + 0x4]
00505885 : PUSH EDI
00505886 : CALL 0x005271c0
0050588b : TEST EDI,EDI
0050588d : JZ 0x005058a9
0050588f : MOV ECX,EDI
00505891 : POP EDI
00505892 : POP EBP
00505893 : POP EBX
00505894 : POP ESI
00505895 : JMP 0x00503db0
0050589a : MOV ESI,dword ptr [ESI + 0x4]
0050589d : MOV ECX,ESI
0050589f : CALL 0x00526400
005058a4 : MOV byte ptr [ESI],0x0
005058a7 : POP ESI
005058a8 : RET
005058a9 : POP EDI
005058aa : POP EBP
005058ab : POP EBX
005058ac : POP ESI
005058ad : RET
