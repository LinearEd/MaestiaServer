PROGRAM  : Maestia.exe
FUNCTION : FUN_00858390
ENTRY    : 00858390
BODY     : [[00858390, 00858612]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00858390(int param_1,undefined4 param_2)

{
  uint uVar1;
  undefined1 local_f4 [28];
  undefined1 local_d8 [28];
  undefined1 local_bc [28];
  undefined1 local_a0 [28];
  undefined1 local_84 [28];
  undefined1 local_68 [28];
  undefined1 local_4c [28];
  undefined1 local_30 [28];
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1bcdd;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = 0;
  switch(*(int *)(param_1 + 0x16d8) - 1U & 0xffff) {
  case 0:
    if (*(short *)(param_1 + 0x7c) == 1) {
      FUN_00406460(L"ID_EF_ICON_SUPE_WAR_TEX");
      local_8 = 1;
      FUN_0081cfe0(DAT_0172491c,local_a0);
      local_14 = 1;
      local_8 = local_8 & 0xffffff00;
      FUN_00406560(uVar1);
    }
    else {
      FUN_00406460(L"ID_EF_ICON_TEM_WAR_TEX");
      local_8 = 2;
      FUN_0081cfe0(DAT_0172491c,local_68);
      local_14 = 1;
      local_8 = local_8 & 0xffffff00;
      FUN_00406560();
    }
    break;
  case 1:
    if (*(short *)(param_1 + 0x7c) == 1) {
      FUN_00406460(L"ID_EF_ICON_SUPE_WIZ_TEX");
      local_8 = 3;
      FUN_0081cfe0(DAT_0172491c,local_d8);
      local_14 = 1;
      local_8 = local_8 & 0xffffff00;
      FUN_00406560();
    }
    else {
      FUN_00406460(L"ID_EF_ICON_TEM_WIZ_TEX");
      local_8 = 4;
      FUN_0081cfe0(DAT_0172491c,local_30);
      local_14 = 1;
      local_8 = local_8 & 0xffffff00;
      FUN_00406560();
    }
    break;
  case 2:
    if (*(short *)(param_1 + 0x7c) == 1) {
      FUN_00406460(L"ID_EF_ICON_SUPE_RAN_TEX");
      local_8 = 5;
      FUN_0081cfe0(DAT_0172491c,local_4c);
      local_14 = 1;
      local_8 = local_8 & 0xffffff00;
      FUN_00406560();
    }
    else {
      FUN_00406460(L"ID_EF_ICON_TEM_RAN_TEX");
      local_8 = 6;
      FUN_0081cfe0(DAT_0172491c,local_84);
      local_14 = 1;
      local_8 = local_8 & 0xffffff00;
      FUN_00406560();
    }
    break;
  case 3:
    if (*(short *)(param_1 + 0x7c) == 1) {
      FUN_00406460(L"ID_EF_ICON_SUPE_PRI_TEX");
      local_8 = 7;
      FUN_0081cfe0(DAT_0172491c,local_bc);
      local_14 = 1;
      local_8 = local_8 & 0xffffff00;
      FUN_00406560();
    }
    else {
      FUN_00406460(L"ID_EF_ICON_TEM_PRI_TEX");
      local_8 = 8;
      FUN_0081cfe0(DAT_0172491c,local_f4);
      local_14 = 1;
      local_8 = local_8 & 0xffffff00;
      FUN_00406560();
    }
    break;
  default:
    FUN_00406460(&DAT_00c3f014);
  }
  ExceptionList = local_10;
  return param_2;
}



============================================================
DISASSEMBLY
============================================================
00858390 : PUSH EBP
00858391 : MOV EBP,ESP
00858393 : PUSH -0x1
00858395 : PUSH 0xb1bcdd
0085839a : MOV EAX,FS:[0x0]
008583a0 : PUSH EAX
008583a1 : SUB ESP,0xe4
008583a7 : PUSH EBX
008583a8 : PUSH ESI
008583a9 : PUSH EDI
008583aa : MOV EAX,[0x00d66fa0]
008583af : XOR EAX,EBP
008583b1 : PUSH EAX
008583b2 : LEA EAX,[EBP + -0xc]
008583b5 : MOV FS:[0x0],EAX
008583bb : MOV ESI,dword ptr [EBP + 0xc]
008583be : MOV EAX,dword ptr [EBP + 0x8]
008583c1 : XOR EBX,EBX
008583c3 : MOV dword ptr [EBP + -0x10],EBX
008583c6 : MOV ECX,dword ptr [EAX + 0x16d8]
008583cc : DEC ECX
008583cd : MOVZX ECX,CX
008583d0 : CMP ECX,0x3
008583d3 : JA 0x008585e7
008583d9 : JMP dword ptr [ECX*0x4 + 0x858614]
008583e0 : MOVZX EAX,word ptr [EAX + 0x7c]
008583e4 : MOV EDI,0x1
008583e9 : CMP AX,DI
008583ec : JNZ 0x0085842a
008583ee : PUSH 0xc3ee94
008583f3 : LEA ECX,[EBP + 0xffffff64]
008583f9 : CALL 0x00406460
008583fe : MOV dword ptr [EBP + -0x4],EDI
00858401 : MOV ECX,dword ptr [0x0172491c]
00858407 : LEA EAX,[EBP + 0xffffff64]
0085840d : PUSH EAX
0085840e : PUSH ECX
0085840f : CALL 0x0081cfe0
00858414 : MOV dword ptr [EBP + -0x10],EDI
00858417 : MOV byte ptr [EBP + -0x4],BL
0085841a : LEA ECX,[EBP + 0xffffff64]
00858420 : CALL 0x00406560
00858425 : JMP 0x008585fd
0085842a : PUSH 0xc3eec4
0085842f : LEA ECX,[EBP + -0x64]
00858432 : CALL 0x00406460
00858437 : MOV dword ptr [EBP + -0x4],0x2
0085843e : MOV EAX,[0x0172491c]
00858443 : LEA EDX,[EBP + -0x64]
00858446 : PUSH EDX
00858447 : PUSH EAX
00858448 : CALL 0x0081cfe0
0085844d : MOV dword ptr [EBP + -0x10],EDI
00858450 : MOV byte ptr [EBP + -0x4],BL
00858453 : LEA ECX,[EBP + -0x64]
00858456 : CALL 0x00406560
0085845b : JMP 0x008585fd
00858460 : MOVZX EAX,word ptr [EAX + 0x7c]
00858464 : MOV EDI,0x1
00858469 : CMP AX,DI
0085846c : JNZ 0x008584ae
0085846e : PUSH 0xc3eef4
00858473 : LEA ECX,[EBP + 0xffffff2c]
00858479 : CALL 0x00406460
0085847e : MOV dword ptr [EBP + -0x4],0x3
00858485 : MOV EDX,dword ptr [0x0172491c]
0085848b : LEA ECX,[EBP + 0xffffff2c]
00858491 : PUSH ECX
00858492 : PUSH EDX
00858493 : CALL 0x0081cfe0
00858498 : MOV dword ptr [EBP + -0x10],EDI
0085849b : MOV byte ptr [EBP + -0x4],BL
0085849e : LEA ECX,[EBP + 0xffffff2c]
008584a4 : CALL 0x00406560
008584a9 : JMP 0x008585fd
008584ae : PUSH 0xc3ef24
008584b3 : LEA ECX,[EBP + -0x2c]
008584b6 : CALL 0x00406460
008584bb : MOV dword ptr [EBP + -0x4],0x4
008584c2 : MOV ECX,dword ptr [0x0172491c]
008584c8 : LEA EAX,[EBP + -0x2c]
008584cb : PUSH EAX
008584cc : PUSH ECX
008584cd : CALL 0x0081cfe0
008584d2 : MOV dword ptr [EBP + -0x10],EDI
008584d5 : MOV byte ptr [EBP + -0x4],BL
008584d8 : LEA ECX,[EBP + -0x2c]
008584db : CALL 0x00406560
008584e0 : JMP 0x008585fd
008584e5 : MOVZX EAX,word ptr [EAX + 0x7c]
008584e9 : MOV EDI,0x1
008584ee : CMP AX,DI
008584f1 : JNZ 0x00858529
008584f3 : PUSH 0xc3ef54
008584f8 : LEA ECX,[EBP + -0x48]
008584fb : CALL 0x00406460
00858500 : MOV dword ptr [EBP + -0x4],0x5
00858507 : MOV EAX,[0x0172491c]
0085850c : LEA EDX,[EBP + -0x48]
0085850f : PUSH EDX
00858510 : PUSH EAX
00858511 : CALL 0x0081cfe0
00858516 : MOV dword ptr [EBP + -0x10],EDI
00858519 : MOV byte ptr [EBP + -0x4],BL
0085851c : LEA ECX,[EBP + -0x48]
0085851f : CALL 0x00406560
00858524 : JMP 0x008585fd
00858529 : PUSH 0xc3ef84
0085852e : LEA ECX,[EBP + -0x80]
00858531 : CALL 0x00406460
00858536 : MOV dword ptr [EBP + -0x4],0x6
0085853d : MOV EDX,dword ptr [0x0172491c]
00858543 : LEA ECX,[EBP + -0x80]
00858546 : PUSH ECX
00858547 : PUSH EDX
00858548 : CALL 0x0081cfe0
0085854d : MOV dword ptr [EBP + -0x10],EDI
00858550 : MOV byte ptr [EBP + -0x4],BL
00858553 : LEA ECX,[EBP + -0x80]
00858556 : CALL 0x00406560
0085855b : JMP 0x008585fd
00858560 : MOVZX EAX,word ptr [EAX + 0x7c]
00858564 : MOV EDI,0x1
00858569 : CMP AX,DI
0085856c : JNZ 0x008585ab
0085856e : PUSH 0xc3efb4
00858573 : LEA ECX,[EBP + 0xffffff48]
00858579 : CALL 0x00406460
0085857e : MOV dword ptr [EBP + -0x4],0x7
00858585 : MOV ECX,dword ptr [0x0172491c]
0085858b : LEA EAX,[EBP + 0xffffff48]
00858591 : PUSH EAX
00858592 : PUSH ECX
00858593 : CALL 0x0081cfe0
00858598 : MOV dword ptr [EBP + -0x10],EDI
0085859b : MOV byte ptr [EBP + -0x4],BL
0085859e : LEA ECX,[EBP + 0xffffff48]
008585a4 : CALL 0x00406560
008585a9 : JMP 0x008585fd
008585ab : PUSH 0xc3efe4
008585b0 : LEA ECX,[EBP + 0xffffff10]
008585b6 : CALL 0x00406460
008585bb : MOV dword ptr [EBP + -0x4],0x8
008585c2 : MOV EAX,[0x0172491c]
008585c7 : LEA EDX,[EBP + 0xffffff10]
008585cd : PUSH EDX
008585ce : PUSH EAX
008585cf : CALL 0x0081cfe0
008585d4 : MOV dword ptr [EBP + -0x10],EDI
008585d7 : MOV byte ptr [EBP + -0x4],BL
008585da : LEA ECX,[EBP + 0xffffff10]
008585e0 : CALL 0x00406560
008585e5 : JMP 0x008585fd
008585e7 : PUSH 0xc3f014
008585ec : MOV ECX,ESI
008585ee : CALL 0x00406460
008585f3 : MOV dword ptr [EBP + -0x4],EBX
008585f6 : MOV dword ptr [EBP + -0x10],0x1
008585fd : MOV EAX,ESI
008585ff : MOV ECX,dword ptr [EBP + -0xc]
00858602 : MOV dword ptr FS:[0x0],ECX
00858609 : POP ECX
0085860a : POP EDI
0085860b : POP ESI
0085860c : POP EBX
0085860d : MOV ESP,EBP
0085860f : POP EBP
00858610 : RET 0x8
