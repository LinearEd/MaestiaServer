PROGRAM  : Maestia.exe
FUNCTION : LGetLength
ENTRY    : 005e9e90
BODY     : [[005e9e90, 005e9ed8]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x005e9ec9) */
/* public: virtual __int64 __thiscall GBufferedFile::LGetLength(void) */

__int64 __thiscall GBufferedFile::LGetLength(GBufferedFile *this)

{
  longlong lVar1;
  longlong lVar2;
  
                    /* 0x1e9e90  116  ?LGetLength@GBufferedFile@@UAE_JXZ */
  lVar1 = (**(code **)(**(int **)(this + 8) + 0x1c))();
  if ((lVar1 != -1) && (*(int *)(this + 0x10) == 2)) {
    lVar2 = (**(code **)(**(int **)(this + 8) + 0x14))();
    if (lVar1 < (longlong)(lVar2 + (ulonglong)*(uint *)(this + 0x14))) {
      lVar1 = lVar2 + (ulonglong)*(uint *)(this + 0x14);
    }
  }
  return lVar1;
}



============================================================
DISASSEMBLY
============================================================
005e9e90 : PUSH EBX
005e9e91 : PUSH ESI
005e9e92 : MOV ESI,ECX
005e9e94 : MOV ECX,dword ptr [ESI + 0x8]
005e9e97 : MOV EAX,dword ptr [ECX]
005e9e99 : MOV EDX,dword ptr [EAX + 0x1c]
005e9e9c : PUSH EDI
005e9e9d : CALL EDX
005e9e9f : MOV EDI,EDX
005e9ea1 : MOV EBX,EAX
005e9ea3 : AND EAX,EDI
005e9ea5 : CMP EAX,-0x1
005e9ea8 : JZ 0x005e9ed1
005e9eaa : CMP dword ptr [ESI + 0x10],0x2
005e9eae : JNZ 0x005e9ed1
005e9eb0 : MOV ECX,dword ptr [ESI + 0x8]
005e9eb3 : MOV EDX,dword ptr [ECX]
005e9eb5 : MOV EAX,dword ptr [EDX + 0x14]
005e9eb8 : CALL EAX
005e9eba : MOV ECX,dword ptr [ESI + 0x14]
005e9ebd : XOR ESI,ESI
005e9ebf : ADD EAX,ECX
005e9ec1 : ADC EDX,ESI
005e9ec3 : CMP EDX,EDI
005e9ec5 : JL 0x005e9ed1
005e9ec7 : JG 0x005e9ecd
005e9ec9 : CMP EAX,EBX
005e9ecb : JBE 0x005e9ed1
005e9ecd : MOV EBX,EAX
005e9ecf : MOV EDI,EDX
005e9ed1 : MOV EDX,EDI
005e9ed3 : POP EDI
005e9ed4 : POP ESI
005e9ed5 : MOV EAX,EBX
005e9ed7 : POP EBX
005e9ed8 : RET
