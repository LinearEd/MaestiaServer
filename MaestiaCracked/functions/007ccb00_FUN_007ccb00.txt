PROGRAM  : Maestia.exe
FUNCTION : FUN_007ccb00
ENTRY    : 007ccb00
BODY     : [[007ccb00, 007cce75]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007ccb00(void)

{
  float *pfVar1;
  float fVar2;
  float fVar3;
  undefined4 uVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  int *piVar9;
  int iVar10;
  int in_ECX;
  undefined8 local_28;
  undefined8 local_20;
  int iStack_18;
  int iStack_14;
  int iStack_10;
  int iStack_c;
  
  fVar2 = *(float *)(in_ECX + 0x68);
  fVar3 = *(float *)(in_ECX + 0x6c);
  uVar4 = *(undefined4 *)(in_ECX + 0x70);
  fVar5 = *(float *)(in_ECX + 0xf0);
  local_28 = *(undefined8 *)(in_ECX + 0x74);
  local_20 = *(undefined8 *)(in_ECX + 0x7c);
  if ((*(int *)(in_ECX + 0x2c) != 0) && (*(char *)(in_ECX + 0x148) != '\0')) {
    D3DXQuaternionMultiply(&local_28,&local_28,in_ECX + 0x14c);
  }
  pfVar1 = (float *)(in_ECX + 0xb8);
  *(undefined4 *)(in_ECX + 0x168) = *(undefined4 *)(in_ECX + 0x15c);
  *(undefined4 *)(in_ECX + 0x16c) = *(undefined4 *)(in_ECX + 0x160);
  *(undefined4 *)(in_ECX + 0x170) = *(undefined4 *)(in_ECX + 0x164);
  *(float *)(in_ECX + 0x15c) = *pfVar1;
  *(undefined4 *)(in_ECX + 0x160) = *(undefined4 *)(in_ECX + 0xbc);
  *(undefined4 *)(in_ECX + 0x164) = *(undefined4 *)(in_ECX + 0xc0);
  piVar9 = *(int **)(in_ECX + 0x2c);
  if (piVar9 == (int *)0x0) {
    *(float *)(in_ECX + 0xbc) = fVar5 + fVar3;
    *(undefined4 *)(in_ECX + 0xc0) = uVar4;
    *pfVar1 = fVar2;
    *(undefined8 *)(in_ECX + 0xc4) = local_28;
    *(undefined8 *)(in_ECX + 0xcc) = local_20;
    *(undefined4 *)(in_ECX + 0xd4) = *(undefined4 *)(in_ECX + 0x84);
    *(undefined4 *)(in_ECX + 0xd8) = *(undefined4 *)(in_ECX + 0x88);
    *(undefined4 *)(in_ECX + 0xdc) = *(undefined4 *)(in_ECX + 0x8c);
  }
  else {
    if ((*(char *)((int)piVar9 + 0x5d) != '\0') || (*(char *)((int)piVar9 + 0x13d) != '\0')) {
      (**(code **)(*piVar9 + 0x14))();
    }
    iStack_14 = piVar9[0x32];
    iStack_10 = piVar9[0x33];
    iStack_c = piVar9[0x34];
    iStack_18 = piVar9[0x31];
    piVar9 = *(int **)(in_ECX + 0x2c);
    if (*(char *)((int)piVar9 + 0x5d) != '\0') {
      (**(code **)(*piVar9 + 0x14))();
    }
    fVar2 = (float)piVar9[0x2e];
    iVar10 = *(int *)(in_ECX + 0x2c);
    fVar3 = (float)piVar9[0x2f];
    fVar5 = (float)piVar9[0x30];
    fVar6 = *(float *)(iVar10 + 0xd4);
    fVar7 = *(float *)(iVar10 + 0xd8);
    fVar8 = *(float *)(iVar10 + 0xdc);
    if (*(char *)(in_ECX + 0x65) == '\0') {
      *(undefined8 *)(in_ECX + 0xc4) = local_28;
      *(undefined8 *)(in_ECX + 0xcc) = local_20;
      FUN_0043d620(pfVar1);
    }
    else {
      iVar10 = in_ECX + 0xc4;
      D3DXQuaternionMultiply(iVar10,&local_28,&iStack_18);
      FUN_0043d620(pfVar1);
      if ((((*(float *)(in_ECX + 0xe0) != (float)DAT_00d72118) ||
           (*(float *)(in_ECX + 0xe4) != DAT_00d72118._4_4_)) ||
          (*(float *)(in_ECX + 0xe8) != (float)DAT_00d72120)) ||
         (*(float *)(in_ECX + 0xec) != DAT_00d72120._4_4_)) {
        D3DXQuaternionMultiply(iVar10,iVar10,in_ECX + 0xe0);
      }
    }
    *pfVar1 = *pfVar1 * fVar6;
    *(float *)(in_ECX + 0xbc) = *(float *)(in_ECX + 0xbc) * fVar7;
    *(float *)(in_ECX + 0xc0) = *(float *)(in_ECX + 0xc0) * fVar8;
    *pfVar1 = fVar2 + *pfVar1;
    *(float *)(in_ECX + 0xbc) = *(float *)(in_ECX + 0xbc) + fVar3;
    *(float *)(in_ECX + 0xc0) = *(float *)(in_ECX + 0xc0) + fVar5;
    *(undefined4 *)(in_ECX + 0xd4) = *(undefined4 *)(in_ECX + 0x84);
    *(undefined4 *)(in_ECX + 0xd8) = *(undefined4 *)(in_ECX + 0x88);
    *(undefined4 *)(in_ECX + 0xdc) = *(undefined4 *)(in_ECX + 0x8c);
    if (*(char *)(in_ECX + 100) != '\0') {
      *(float *)(in_ECX + 0xd4) = *(float *)(in_ECX + 0xd4) * fVar6;
      *(float *)(in_ECX + 0xd8) = fVar7 * *(float *)(in_ECX + 0xd8);
      *(float *)(in_ECX + 0xdc) = fVar8 * *(float *)(in_ECX + 0xdc);
      *(undefined1 *)(in_ECX + 0x5d) = 0;
      *(undefined1 *)(in_ECX + 0x134) = 1;
      return;
    }
  }
  *(undefined1 *)(in_ECX + 0x5d) = 0;
  *(undefined1 *)(in_ECX + 0x134) = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
007ccb00 : PUSH EBP
007ccb01 : MOV EBP,ESP
007ccb03 : AND ESP,0xfffffff8
007ccb06 : SUB ESP,0x44
007ccb09 : PUSH EBX
007ccb0a : PUSH ESI
007ccb0b : MOV ESI,ECX
007ccb0d : CMP dword ptr [ESI + 0x2c],0x0
007ccb11 : MOVSS XMM0,dword ptr [ESI + 0x68]
007ccb16 : MOVSS XMM1,dword ptr [ESI + 0x6c]
007ccb1b : MOVSS dword ptr [ESP + 0x8],XMM0
007ccb21 : MOVSS XMM0,dword ptr [ESI + 0x70]
007ccb26 : MOVSS dword ptr [ESP + 0x10],XMM0
007ccb2c : MOVSS XMM0,dword ptr [ESI + 0xf0]
007ccb34 : ADDSS XMM0,XMM1
007ccb38 : MOVQ XMM1,qword ptr [ESI + 0x74]
007ccb3d : MOVQ qword ptr [ESP + 0x2c],XMM1
007ccb43 : MOVQ XMM1,qword ptr [ESI + 0x7c]
007ccb48 : PUSH EDI
007ccb49 : MOVSS dword ptr [ESP + 0x10],XMM0
007ccb4f : MOVQ qword ptr [ESP + 0x38],XMM1
007ccb55 : JZ 0x007ccb7a
007ccb57 : CMP byte ptr [ESI + 0x148],0x0
007ccb5e : JZ 0x007ccb7a
007ccb60 : LEA EAX,[ESI + 0x14c]
007ccb66 : PUSH EAX
007ccb67 : LEA ECX,[ESP + 0x34]
007ccb6b : PUSH ECX
007ccb6c : MOV EDX,ECX
007ccb6e : PUSH EDX
007ccb6f : CALL 0x004ff716
007ccb74 : MOVSS XMM0,dword ptr [ESP + 0x10]
007ccb7a : FLD float ptr [ESI + 0x15c]
007ccb80 : LEA EDI,[ESI + 0xb8]
007ccb86 : FSTP float ptr [ESI + 0x168]
007ccb8c : FLD float ptr [ESI + 0x160]
007ccb92 : FSTP float ptr [ESI + 0x16c]
007ccb98 : FLD float ptr [ESI + 0x164]
007ccb9e : FSTP float ptr [ESI + 0x170]
007ccba4 : FLD float ptr [EDI]
007ccba6 : FSTP float ptr [ESI + 0x15c]
007ccbac : FLD float ptr [EDI + 0x4]
007ccbaf : FSTP float ptr [ESI + 0x160]
007ccbb5 : FLD float ptr [EDI + 0x8]
007ccbb8 : FSTP float ptr [ESI + 0x164]
007ccbbe : MOV EBX,dword ptr [ESI + 0x2c]
007ccbc1 : TEST EBX,EBX
007ccbc3 : JZ 0x007cce0a
007ccbc9 : CMP byte ptr [EBX + 0x5d],0x0
007ccbcd : JNZ 0x007ccbd8
007ccbcf : CMP byte ptr [EBX + 0x13d],0x0
007ccbd6 : JZ 0x007ccbe1
007ccbd8 : MOV EAX,dword ptr [EBX]
007ccbda : MOV EDX,dword ptr [EAX + 0x14]
007ccbdd : MOV ECX,EBX
007ccbdf : CALL EDX
007ccbe1 : MOVSS XMM0,dword ptr [EBX + 0xc8]
007ccbe9 : MOVSS XMM1,dword ptr [EBX + 0xcc]
007ccbf1 : MOVSS XMM2,dword ptr [EBX + 0xd0]
007ccbf9 : MOVSS XMM3,dword ptr [EBX + 0xc4]
007ccc01 : MOV EBX,dword ptr [ESI + 0x2c]
007ccc04 : MOVSS dword ptr [ESP + 0x40],XMM3
007ccc0a : MOVSS dword ptr [ESP + 0x44],XMM0
007ccc10 : MOVSS dword ptr [ESP + 0x48],XMM1
007ccc16 : MOVSS dword ptr [ESP + 0x4c],XMM2
007ccc1c : CMP byte ptr [EBX + 0x5d],0x0
007ccc20 : JZ 0x007ccc2b
007ccc22 : MOV EAX,dword ptr [EBX]
007ccc24 : MOV EDX,dword ptr [EAX + 0x14]
007ccc27 : MOV ECX,EBX
007ccc29 : CALL EDX
007ccc2b : MOVSS XMM0,dword ptr [EBX + 0xb8]
007ccc33 : MOV EAX,dword ptr [ESI + 0x2c]
007ccc36 : MOVSS dword ptr [ESP + 0x24],XMM0
007ccc3c : MOVSS XMM0,dword ptr [EBX + 0xbc]
007ccc44 : MOVSS dword ptr [ESP + 0x28],XMM0
007ccc4a : MOVSS XMM0,dword ptr [EBX + 0xc0]
007ccc52 : ADD EAX,0xd4
007ccc57 : CMP byte ptr [ESI + 0x65],0x0
007ccc5b : MOVSS dword ptr [ESP + 0x2c],XMM0
007ccc61 : MOVSS XMM0,dword ptr [EAX]
007ccc65 : MOVSS dword ptr [ESP + 0x18],XMM0
007ccc6b : MOVSS XMM0,dword ptr [EAX + 0x4]
007ccc70 : MOVSS dword ptr [ESP + 0x1c],XMM0
007ccc76 : MOVSS XMM0,dword ptr [EAX + 0x8]
007ccc7b : MOVSS dword ptr [ESP + 0x20],XMM0
007ccc81 : LEA ECX,[ESP + 0x30]
007ccc85 : JZ 0x007ccd05
007ccc87 : LEA EAX,[ESP + 0x40]
007ccc8b : PUSH EAX
007ccc8c : PUSH ECX
007ccc8d : LEA EBX,[ESI + 0xc4]
007ccc93 : PUSH EBX
007ccc94 : CALL 0x004ff716
007ccc99 : PUSH EDI
007ccc9a : LEA ECX,[ESP + 0x44]
007ccc9e : LEA EAX,[ESP + 0x10]
007ccca2 : CALL 0x0043d620
007ccca7 : MOVSS XMM0,dword ptr [ESI + 0xe0]
007cccaf : LEA ECX,[ESI + 0xe0]
007cccb5 : ADD ESP,0x4
007cccb8 : UCOMISS XMM0,dword ptr [0x00d72118]
007cccbf : LAHF
007cccc0 : TEST AH,0x44
007cccc3 : JP 0x007cccfb
007cccc5 : MOVSS XMM0,dword ptr [ECX + 0x4]
007cccca : UCOMISS XMM0,dword ptr [0x00d7211c]
007cccd1 : LAHF
007cccd2 : TEST AH,0x44
007cccd5 : JP 0x007cccfb
007cccd7 : MOVSS XMM0,dword ptr [ECX + 0x8]
007cccdc : UCOMISS XMM0,dword ptr [0x00d72120]
007ccce3 : LAHF
007ccce4 : TEST AH,0x44
007ccce7 : JP 0x007cccfb
007ccce9 : MOVSS XMM0,dword ptr [ECX + 0xc]
007cccee : UCOMISS XMM0,dword ptr [0x00d72124]
007cccf5 : LAHF
007cccf6 : TEST AH,0x44
007cccf9 : JNP 0x007ccd2e
007cccfb : PUSH ECX
007cccfc : PUSH EBX
007cccfd : PUSH EBX
007cccfe : CALL 0x004ff716
007ccd03 : JMP 0x007ccd2e
007ccd05 : MOVQ XMM0,qword ptr [ESP + 0x30]
007ccd0b : MOVQ qword ptr [ESI + 0xc4],XMM0
007ccd13 : MOVQ XMM0,qword ptr [ESP + 0x38]
007ccd19 : PUSH EDI
007ccd1a : LEA EAX,[ESP + 0x10]
007ccd1e : MOVQ qword ptr [ESI + 0xcc],XMM0
007ccd26 : CALL 0x0043d620
007ccd2b : ADD ESP,0x4
007ccd2e : MOVSS XMM0,dword ptr [EDI]
007ccd32 : MOVSS XMM1,dword ptr [EDI + 0x4]
007ccd37 : MOVSS XMM2,dword ptr [EDI + 0x8]
007ccd3c : MOVSS XMM3,dword ptr [ESP + 0x18]
007ccd42 : MULSS XMM0,XMM3
007ccd46 : MOVSS dword ptr [EDI],XMM0
007ccd4a : MOVSS XMM0,dword ptr [ESP + 0x1c]
007ccd50 : MULSS XMM1,XMM0
007ccd54 : MOVSS dword ptr [EDI + 0x4],XMM1
007ccd59 : MOVSS XMM1,dword ptr [ESP + 0x20]
007ccd5f : MULSS XMM2,XMM1
007ccd63 : MOVSS dword ptr [EDI + 0x8],XMM2
007ccd68 : MOVSS XMM2,dword ptr [ESP + 0x24]
007ccd6e : ADDSS XMM2,dword ptr [EDI]
007ccd72 : MOVSS dword ptr [EDI],XMM2
007ccd76 : MOVSS XMM2,dword ptr [EDI + 0x4]
007ccd7b : ADDSS XMM2,dword ptr [ESP + 0x28]
007ccd81 : MOVSS dword ptr [EDI + 0x4],XMM2
007ccd86 : MOVSS XMM2,dword ptr [EDI + 0x8]
007ccd8b : ADDSS XMM2,dword ptr [ESP + 0x2c]
007ccd91 : MOVSS dword ptr [EDI + 0x8],XMM2
007ccd96 : FLD float ptr [ESI + 0x84]
007ccd9c : FSTP float ptr [ESI + 0xd4]
007ccda2 : FLD float ptr [ESI + 0x88]
007ccda8 : FSTP float ptr [ESI + 0xd8]
007ccdae : FLD float ptr [ESI + 0x8c]
007ccdb4 : FSTP float ptr [ESI + 0xdc]
007ccdba : CMP byte ptr [ESI + 0x64],0x0
007ccdbe : JZ 0x007cce64
007ccdc4 : MOVSS XMM2,dword ptr [ESI + 0xd4]
007ccdcc : MULSS XMM0,dword ptr [ESI + 0xd8]
007ccdd4 : MULSS XMM1,dword ptr [ESI + 0xdc]
007ccddc : MULSS XMM2,XMM3
007ccde0 : MOVSS dword ptr [ESI + 0xd4],XMM2
007ccde8 : MOVSS dword ptr [ESI + 0xd8],XMM0
007ccdf0 : MOVSS dword ptr [ESI + 0xdc],XMM1
007ccdf8 : MOV byte ptr [ESI + 0x5d],0x0
007ccdfc : MOV byte ptr [ESI + 0x134],0x1
007cce03 : POP EDI
007cce04 : POP ESI
007cce05 : POP EBX
007cce06 : MOV ESP,EBP
007cce08 : POP EBP
007cce09 : RET
007cce0a : MOVSS XMM1,dword ptr [ESP + 0xc]
007cce10 : MOVSS dword ptr [EDI + 0x4],XMM0
007cce15 : MOVSS XMM0,dword ptr [ESP + 0x14]
007cce1b : MOVSS dword ptr [EDI + 0x8],XMM0
007cce20 : MOVQ XMM0,qword ptr [ESP + 0x30]
007cce26 : MOVSS dword ptr [EDI],XMM1
007cce2a : MOVQ qword ptr [ESI + 0xc4],XMM0
007cce32 : MOVQ XMM0,qword ptr [ESP + 0x38]
007cce38 : MOVQ qword ptr [ESI + 0xcc],XMM0
007cce40 : FLD float ptr [ESI + 0x84]
007cce46 : FSTP float ptr [ESI + 0xd4]
007cce4c : FLD float ptr [ESI + 0x88]
007cce52 : FSTP float ptr [ESI + 0xd8]
007cce58 : FLD float ptr [ESI + 0x8c]
007cce5e : FSTP float ptr [ESI + 0xdc]
007cce64 : POP EDI
007cce65 : MOV byte ptr [ESI + 0x5d],0x0
007cce69 : MOV byte ptr [ESI + 0x134],0x1
007cce70 : POP ESI
007cce71 : POP EBX
007cce72 : MOV ESP,EBP
007cce74 : POP EBP
007cce75 : RET
