PROGRAM  : Maestia.exe
FUNCTION : FUN_0046c160
ENTRY    : 0046c160
BODY     : [[0046c160, 0046c209] [0046c210, 0046c28f]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint * FUN_0046c160(void)

{
  uint *puVar1;
  size_t _Size;
  uint uVar2;
  uint *puVar3;
  uint uVar4;
  uint unaff_EDI;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b71297;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  _Size = unaff_EDI * 0x28 + 4;
  if (DAT_00da98c8 == (int *)0x0) {
    puVar3 = _malloc(_Size);
  }
  else {
    puVar3 = (uint *)(**(code **)(*DAT_00da98c8 + 4))(_Size,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
  }
  if (puVar3 == (uint *)0x0) {
    ExceptionList = local_10;
    return (uint *)0x0;
  }
  uVar4 = 0;
  *puVar3 = unaff_EDI;
  uVar2 = DAT_00d72c20;
  if (unaff_EDI != 0) {
    do {
      puVar1 = puVar3 + 1 + uVar4 * 10;
      if (puVar1 != (uint *)0x0) {
        *puVar1 = 0xffffffff;
        puVar1[1] = 0x3f800000;
        puVar1[2] = 0xcb189680;
        puVar1[3] = 0x4b189680;
        puVar1[4] = 0;
        puVar1[5] = 0x3f800000;
        puVar1[6] = 0x40b00000;
        puVar1[7] = 0x41200000;
        puVar1[8] = 0x40400000;
        puVar1[9] = uVar2;
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < unaff_EDI);
  }
  _DAT_00da98cc = _DAT_00da98cc + _Size;
  _DAT_00da98d0 = _DAT_00da98d0 + 1;
  ExceptionList = local_10;
  return puVar3 + 1;
}



============================================================
DISASSEMBLY
============================================================
0046c160 : PUSH EBP
0046c161 : MOV EBP,ESP
0046c163 : PUSH -0x1
0046c165 : PUSH 0xb71297
0046c16a : MOV EAX,FS:[0x0]
0046c170 : PUSH EAX
0046c171 : SUB ESP,0xc
0046c174 : PUSH EBX
0046c175 : PUSH ESI
0046c176 : MOV EAX,[0x00d66fa0]
0046c17b : XOR EAX,EBP
0046c17d : PUSH EAX
0046c17e : LEA EAX,[EBP + -0xc]
0046c181 : MOV FS:[0x0],EAX
0046c187 : MOV ECX,dword ptr [0x00da98c8]
0046c18d : LEA EBX,[EDI + EDI*0x4]
0046c190 : LEA EBX,[EBX*0x8 + 0x4]
0046c197 : PUSH EBX
0046c198 : TEST ECX,ECX
0046c19a : JZ 0x0046c1a5
0046c19c : MOV EAX,dword ptr [ECX]
0046c19e : MOV EDX,dword ptr [EAX + 0x4]
0046c1a1 : CALL EDX
0046c1a3 : JMP 0x0046c1ad
0046c1a5 : CALL 0x00636043
0046c1aa : ADD ESP,0x4
0046c1ad : TEST EAX,EAX
0046c1af : JZ 0x0046c27d
0046c1b5 : XOR EDX,EDX
0046c1b7 : LEA ESI,[EAX + 0x4]
0046c1ba : MOV dword ptr [EAX],EDI
0046c1bc : MOV dword ptr [EBP + -0x14],ESI
0046c1bf : MOV dword ptr [EBP + -0x10],EDX
0046c1c2 : TEST EDI,EDI
0046c1c4 : JBE 0x0046c25e
0046c1ca : MOVSS XMM0,dword ptr [0x00c10fc4]
0046c1d2 : MOVSS XMM1,dword ptr [0x00cdf1a4]
0046c1da : MOVSS XMM2,dword ptr [0x00cdf180]
0046c1e2 : XORPS XMM3,XMM3
0046c1e5 : MOVSS XMM4,dword ptr [0x00cdf1a0]
0046c1ed : MOVSS XMM5,dword ptr [0x00c18874]
0046c1f5 : MOVSS XMM6,dword ptr [0x00cdf19c]
0046c1fd : MOVSS XMM7,dword ptr [0x00d72c20]
0046c205 : OR EAX,0xffffffff
0046c208 : JMP 0x0046c210
0046c210 : LEA ECX,[EDX + EDX*0x4]
0046c213 : LEA ECX,[ESI + ECX*0x8]
0046c216 : MOV dword ptr [EBP + -0x18],ECX
0046c219 : MOV dword ptr [EBP + -0x4],0x0
0046c220 : TEST ECX,ECX
0046c222 : JZ 0x0046c253
0046c224 : MOV dword ptr [ECX],EAX
0046c226 : MOVSS dword ptr [ECX + 0x4],XMM0
0046c22b : MOVSS dword ptr [ECX + 0x8],XMM1
0046c230 : MOVSS dword ptr [ECX + 0xc],XMM2
0046c235 : MOVSS dword ptr [ECX + 0x10],XMM3
0046c23a : MOVSS dword ptr [ECX + 0x14],XMM0
0046c23f : MOVSS dword ptr [ECX + 0x18],XMM4
0046c244 : MOVSS dword ptr [ECX + 0x1c],XMM5
0046c249 : MOVSS dword ptr [ECX + 0x20],XMM6
0046c24e : MOVSS dword ptr [ECX + 0x24],XMM7
0046c253 : MOV dword ptr [EBP + -0x4],EAX
0046c256 : INC EDX
0046c257 : MOV dword ptr [EBP + -0x10],EDX
0046c25a : CMP EDX,EDI
0046c25c : JC 0x0046c210
0046c25e : ADD dword ptr [0x00da98cc],EBX
0046c264 : INC dword ptr [0x00da98d0]
0046c26a : MOV EAX,ESI
0046c26c : MOV ECX,dword ptr [EBP + -0xc]
0046c26f : MOV dword ptr FS:[0x0],ECX
0046c276 : POP ECX
0046c277 : POP ESI
0046c278 : POP EBX
0046c279 : MOV ESP,EBP
0046c27b : POP EBP
0046c27c : RET
0046c27d : XOR EAX,EAX
0046c27f : MOV ECX,dword ptr [EBP + -0xc]
0046c282 : MOV dword ptr FS:[0x0],ECX
0046c289 : POP ECX
0046c28a : POP ESI
0046c28b : POP EBX
0046c28c : MOV ESP,EBP
0046c28e : POP EBP
0046c28f : RET
