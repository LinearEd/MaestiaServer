PROGRAM  : Maestia.exe
FUNCTION : FUN_009e95e0
ENTRY    : 009e95e0
BODY     : [[009e95e0, 009e99b8]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009e95e0(int *param_1,undefined4 param_2)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  short in_CX;
  uint local_70;
  undefined1 local_68 [4];
  undefined2 local_64;
  int local_54;
  uint local_50;
  undefined4 local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined4 local_2c;
  int local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b242b5;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar1 = (**(code **)(*param_1 + 0x40))(local_14);
  if (iVar1 == 0) {
    iVar1 = param_1[0x3c];
    if (iVar1 != 0) {
      if (*(uint *)(iVar1 + 0x30) < 0x10) {
        iVar1 = iVar1 + 0x1c;
      }
      else {
        iVar1 = *(int *)(iVar1 + 0x1c);
      }
      FUN_00404350(iVar1);
      local_8 = 0xd;
      FUN_0081cee0(DAT_0172491c);
      local_8._0_1_ = 0xe;
      if (local_1c != 0) {
        FUN_00404980(param_2);
      }
      FUN_00405c30(local_30,0,0xffffffff);
      local_8 = CONCAT31(local_8._1_3_,0xd);
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_18 = 7;
      local_1c = 0;
      local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
      local_8 = 0xffffffff;
      if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_34 = 7;
      local_38 = 0;
      local_48 = (undefined4 *)((uint)local_48._2_2_ << 0x10);
    }
  }
  else {
    FUN_00406460(L"IDS_HALIDOM_TOOLTIP_LIMIT_DESC");
    local_8 = 1;
    FUN_0081d120(local_30);
    local_8._0_1_ = 3;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_2c = (undefined4 *)((uint)local_2c._2_2_ << 0x10);
    local_18 = 7;
    local_1c = 0;
    iVar1 = (**(code **)(*param_1 + 0x44))();
    if ((iVar1 == 0) || ((param_1[0x12] & 0x10000000U) != 0)) {
      FUN_00406460(L"IDS_HALIDOM_TOOLTIP_NO_LIMIT");
      local_8._0_1_ = 7;
      iVar1 = FUN_0081d120(local_30);
      local_8._0_1_ = 8;
      if (*(uint *)(iVar1 + 0x18) < 8) {
        iVar1 = iVar1 + 4;
      }
      else {
        iVar1 = *(int *)(iVar1 + 4);
      }
      puVar3 = local_48;
      if (local_34 < 8) {
        puVar3 = &local_48;
      }
      uVar2 = FUN_00404750(L"`L@N%s : @T%s\n\n",puVar3,iVar1);
      local_8._0_1_ = 9;
      FUN_00405c30(uVar2,0,0xffffffff);
      local_8 = CONCAT31(local_8._1_3_,8);
      if (7 < local_70) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_8 = CONCAT31(local_8._1_3_,7);
      if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_50 = 7;
      local_54 = 0;
      local_64 = 0;
      local_8._0_1_ = 3;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_18 = 7;
      local_1c = 0;
      local_2c = (undefined4 *)((uint)local_2c & 0xffff0000);
    }
    else if (in_CX != 0) {
      FUN_00406460(L"IDS_HALIDOM_TOOLTIP_LIMITCOUNT");
      local_8._0_1_ = 4;
      iVar1 = FUN_0081d120(local_68);
      local_8._0_1_ = 5;
      if (*(uint *)(iVar1 + 0x18) < 8) {
        iVar1 = iVar1 + 4;
      }
      else {
        iVar1 = *(int *)(iVar1 + 4);
      }
      puVar3 = local_48;
      if (local_34 < 8) {
        puVar3 = &local_48;
      }
      uVar2 = FUN_00404750(L"`L@N%s : @T%d%s\n\n",puVar3,in_CX,iVar1);
      local_8._0_1_ = 6;
      FUN_00405d50(uVar2);
      local_8._0_1_ = 5;
      FUN_00406560();
      local_8._0_1_ = 4;
      FUN_00406560();
      local_8._0_1_ = 3;
      FUN_00406560();
    }
    iVar1 = param_1[0x3c];
    if (iVar1 != 0) {
      if (*(uint *)(iVar1 + 0x30) < 0x10) {
        iVar1 = iVar1 + 0x1c;
      }
      else {
        iVar1 = *(int *)(iVar1 + 0x1c);
      }
      FUN_00404350(iVar1);
      local_8._0_1_ = 10;
      FUN_0081cee0(DAT_0172491c);
      local_8 = CONCAT31(local_8._1_3_,0xb);
      if (local_54 == 0) {
        FUN_00405c00(local_30);
      }
      else {
        FUN_00405eb0(local_68,0,0xffffffff);
      }
      puVar3 = local_2c;
      if (local_18 < 8) {
        puVar3 = &local_2c;
      }
      uVar2 = FUN_00404750(L"`L@N%s",puVar3);
      local_8._0_1_ = 0xc;
      FUN_00405c30(uVar2,0,0xffffffff);
      local_8._0_1_ = 0xb;
      FUN_00406560();
      local_8._0_1_ = 10;
      FUN_00406560();
      local_8 = CONCAT31(local_8._1_3_,3);
      FUN_00406560();
    }
    local_8 = 0xffffffff;
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_34 = 7;
    local_38 = 0;
    local_48 = (undefined4 *)((uint)local_48._2_2_ << 0x10);
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009e95e0 : PUSH EBP
009e95e1 : MOV EBP,ESP
009e95e3 : PUSH -0x1
009e95e5 : PUSH 0xb242b5
009e95ea : MOV EAX,FS:[0x0]
009e95f0 : PUSH EAX
009e95f1 : SUB ESP,0x78
009e95f4 : MOV EAX,[0x00d66fa0]
009e95f9 : XOR EAX,EBP
009e95fb : MOV dword ptr [EBP + -0x10],EAX
009e95fe : PUSH EBX
009e95ff : PUSH ESI
009e9600 : PUSH EDI
009e9601 : PUSH EAX
009e9602 : LEA EAX,[EBP + -0xc]
009e9605 : MOV FS:[0x0],EAX
009e960b : MOV SI,CX
009e960e : MOV EBX,dword ptr [EBP + 0x8]
009e9611 : MOV EAX,dword ptr [EBP + 0xc]
009e9614 : MOV EDX,dword ptr [EBX]
009e9616 : MOV dword ptr [EBP + -0x68],EAX
009e9619 : MOV EAX,dword ptr [EDX + 0x40]
009e961c : MOV ECX,EBX
009e961e : CALL EAX
009e9620 : TEST EAX,EAX
009e9622 : JZ 0x009e98ee
009e9628 : PUSH 0xca0d34
009e962d : LEA ECX,[EBP + -0x2c]
009e9630 : CALL 0x00406460
009e9635 : MOV dword ptr [EBP + -0x4],0x1
009e963c : LEA ECX,[EBP + -0x2c]
009e963f : PUSH ECX
009e9640 : MOV ECX,dword ptr [0x0172491c]
009e9646 : LEA EDI,[EBP + -0x48]
009e9649 : CALL 0x0081d120
009e964e : MOV byte ptr [EBP + -0x4],0x3
009e9652 : CMP dword ptr [EBP + -0x14],0x8
009e9656 : JC 0x009e9660
009e9658 : MOV ECX,dword ptr [EBP + -0x28]
009e965b : CALL 0x006f04e0
009e9660 : MOV EAX,dword ptr [EBX]
009e9662 : XOR EDX,EDX
009e9664 : MOV word ptr [EBP + -0x28],DX
009e9668 : MOV EDX,dword ptr [EAX + 0x44]
009e966b : MOV ECX,EBX
009e966d : MOV dword ptr [EBP + -0x14],0x7
009e9674 : MOV dword ptr [EBP + -0x18],0x0
009e967b : CALL EDX
009e967d : TEST EAX,EAX
009e967f : JZ 0x009e9732
009e9685 : MOV EAX,dword ptr [EBX + 0x48]
009e9688 : AND EAX,0x10000000
009e968d : XOR ECX,ECX
009e968f : OR EAX,ECX
009e9691 : JNZ 0x009e9732
009e9697 : TEST SI,SI
009e969a : JBE 0x009e9805
009e96a0 : PUSH 0xca0d74
009e96a5 : LEA ECX,[EBP + -0x64]
009e96a8 : CALL 0x00406460
009e96ad : MOV byte ptr [EBP + -0x4],0x4
009e96b1 : MOV ECX,dword ptr [0x0172491c]
009e96b7 : LEA EAX,[EBP + -0x64]
009e96ba : PUSH EAX
009e96bb : LEA EDI,[EBP + -0x2c]
009e96be : CALL 0x0081d120
009e96c3 : MOV byte ptr [EBP + -0x4],0x5
009e96c7 : MOV ECX,0x8
009e96cc : CMP dword ptr [EAX + 0x18],ECX
009e96cf : JC 0x009e96d6
009e96d1 : MOV EAX,dword ptr [EAX + 0x4]
009e96d4 : JMP 0x009e96d9
009e96d6 : ADD EAX,0x4
009e96d9 : CMP dword ptr [EBP + -0x30],ECX
009e96dc : MOV ECX,dword ptr [EBP + -0x44]
009e96df : JNC 0x009e96e4
009e96e1 : LEA ECX,[EBP + -0x44]
009e96e4 : MOVZX EDX,SI
009e96e7 : PUSH EAX
009e96e8 : PUSH EDX
009e96e9 : PUSH ECX
009e96ea : PUSH 0xca0ccc
009e96ef : LEA ESI,[EBP + 0xffffff7c]
009e96f5 : CALL 0x00404750
009e96fa : ADD ESP,0x10
009e96fd : MOV byte ptr [EBP + -0x4],0x6
009e9701 : MOV ECX,dword ptr [EBP + -0x68]
009e9704 : PUSH EAX
009e9705 : CALL 0x00405d50
009e970a : MOV byte ptr [EBP + -0x4],0x5
009e970e : MOV ECX,ESI
009e9710 : CALL 0x00406560
009e9715 : MOV byte ptr [EBP + -0x4],0x4
009e9719 : LEA ECX,[EBP + -0x2c]
009e971c : CALL 0x00406560
009e9721 : MOV byte ptr [EBP + -0x4],0x3
009e9725 : LEA ECX,[EBP + -0x64]
009e9728 : CALL 0x00406560
009e972d : JMP 0x009e9805
009e9732 : PUSH 0xca0db4
009e9737 : LEA ECX,[EBP + -0x2c]
009e973a : CALL 0x00406460
009e973f : MOV byte ptr [EBP + -0x4],0x7
009e9743 : MOV ECX,dword ptr [0x0172491c]
009e9749 : LEA EAX,[EBP + -0x2c]
009e974c : PUSH EAX
009e974d : LEA EDI,[EBP + -0x64]
009e9750 : CALL 0x0081d120
009e9755 : MOV byte ptr [EBP + -0x4],0x8
009e9759 : MOV ECX,0x8
009e975e : CMP dword ptr [EAX + 0x18],ECX
009e9761 : JC 0x009e9768
009e9763 : MOV EAX,dword ptr [EAX + 0x4]
009e9766 : JMP 0x009e976b
009e9768 : ADD EAX,0x4
009e976b : CMP dword ptr [EBP + -0x30],ECX
009e976e : MOV ECX,dword ptr [EBP + -0x44]
009e9771 : JNC 0x009e9776
009e9773 : LEA ECX,[EBP + -0x44]
009e9776 : PUSH EAX
009e9777 : PUSH ECX
009e9778 : PUSH 0xca0df0
009e977d : LEA ESI,[EBP + 0xffffff7c]
009e9783 : CALL 0x00404750
009e9788 : ADD ESP,0xc
009e978b : MOV byte ptr [EBP + -0x4],0x9
009e978f : MOV ECX,dword ptr [EBP + -0x68]
009e9792 : PUSH -0x1
009e9794 : XOR EDI,EDI
009e9796 : PUSH EDI
009e9797 : PUSH EAX
009e9798 : CALL 0x00405c30
009e979d : MOV byte ptr [EBP + -0x4],0x8
009e97a1 : MOV ESI,0x8
009e97a6 : CMP dword ptr [EBP + -0x6c],ESI
009e97a9 : JC 0x009e97b3
009e97ab : MOV ECX,dword ptr [EBP + -0x80]
009e97ae : CALL 0x006f04e0
009e97b3 : XOR ECX,ECX
009e97b5 : MOV dword ptr [EBP + -0x6c],0x7
009e97bc : MOV dword ptr [EBP + -0x70],EDI
009e97bf : MOV word ptr [EBP + -0x80],CX
009e97c3 : MOV byte ptr [EBP + -0x4],0x7
009e97c7 : CMP dword ptr [EBP + -0x4c],ESI
009e97ca : JC 0x009e97d4
009e97cc : MOV ECX,dword ptr [EBP + -0x60]
009e97cf : CALL 0x006f04e0
009e97d4 : XOR EDX,EDX
009e97d6 : MOV dword ptr [EBP + -0x4c],0x7
009e97dd : MOV dword ptr [EBP + -0x50],EDI
009e97e0 : MOV word ptr [EBP + -0x60],DX
009e97e4 : MOV byte ptr [EBP + -0x4],0x3
009e97e8 : CMP dword ptr [EBP + -0x14],ESI
009e97eb : JC 0x009e97f5
009e97ed : MOV ECX,dword ptr [EBP + -0x28]
009e97f0 : CALL 0x006f04e0
009e97f5 : XOR EAX,EAX
009e97f7 : MOV dword ptr [EBP + -0x14],0x7
009e97fe : MOV dword ptr [EBP + -0x18],EDI
009e9801 : MOV word ptr [EBP + -0x28],AX
009e9805 : MOV EAX,dword ptr [EBX + 0xf0]
009e980b : TEST EAX,EAX
009e980d : JZ 0x009e98c0
009e9813 : CMP dword ptr [EAX + 0x30],0x10
009e9817 : JC 0x009e981e
009e9819 : MOV EAX,dword ptr [EAX + 0x1c]
009e981c : JMP 0x009e9821
009e981e : ADD EAX,0x1c
009e9821 : PUSH EAX
009e9822 : LEA ESI,[EBP + -0x2c]
009e9825 : CALL 0x00404350
009e982a : ADD ESP,0x4
009e982d : MOV byte ptr [EBP + -0x4],0xa
009e9831 : MOV ECX,dword ptr [0x0172491c]
009e9837 : PUSH ECX
009e9838 : MOV ECX,ESI
009e983a : LEA ESI,[EBP + -0x64]
009e983d : CALL 0x0081cee0
009e9842 : MOV BL,0xb
009e9844 : MOV byte ptr [EBP + -0x4],BL
009e9847 : CMP dword ptr [EBP + -0x50],0x0
009e984b : JNZ 0x009e985d
009e984d : LEA EDX,[EBP + -0x2c]
009e9850 : PUSH EDX
009e9851 : MOV EDX,0xca0e10
009e9856 : CALL 0x00405c00
009e985b : JMP 0x009e986d
009e985d : PUSH -0x1
009e985f : PUSH 0x0
009e9861 : LEA EAX,[EBP + -0x64]
009e9864 : PUSH EAX
009e9865 : LEA ECX,[EBP + -0x2c]
009e9868 : CALL 0x00405eb0
009e986d : CMP dword ptr [EBP + -0x14],0x8
009e9871 : MOV EAX,dword ptr [EBP + -0x28]
009e9874 : JNC 0x009e9879
009e9876 : LEA EAX,[EBP + -0x28]
009e9879 : PUSH EAX
009e987a : PUSH 0xca0e14
009e987f : LEA ESI,[EBP + 0xffffff7c]
009e9885 : CALL 0x00404750
009e988a : ADD ESP,0x8
009e988d : MOV byte ptr [EBP + -0x4],0xc
009e9891 : MOV ECX,dword ptr [EBP + -0x68]
009e9894 : PUSH -0x1
009e9896 : PUSH 0x0
009e9898 : PUSH EAX
009e9899 : CALL 0x00405c30
009e989e : MOV byte ptr [EBP + -0x4],BL
009e98a1 : MOV ECX,ESI
009e98a3 : CALL 0x00406560
009e98a8 : MOV byte ptr [EBP + -0x4],0xa
009e98ac : LEA ECX,[EBP + -0x64]
009e98af : CALL 0x00406560
009e98b4 : MOV byte ptr [EBP + -0x4],0x3
009e98b8 : LEA ECX,[EBP + -0x2c]
009e98bb : CALL 0x00406560
009e98c0 : MOV dword ptr [EBP + -0x4],0xffffffff
009e98c7 : CMP dword ptr [EBP + -0x30],0x8
009e98cb : JC 0x009e98d5
009e98cd : MOV ECX,dword ptr [EBP + -0x44]
009e98d0 : CALL 0x006f04e0
009e98d5 : XOR ECX,ECX
009e98d7 : MOV dword ptr [EBP + -0x30],0x7
009e98de : MOV dword ptr [EBP + -0x34],0x0
009e98e5 : MOV word ptr [EBP + -0x44],CX
009e98e9 : JMP 0x009e999d
009e98ee : MOV EAX,dword ptr [EBX + 0xf0]
009e98f4 : XOR EDI,EDI
009e98f6 : CMP EAX,EDI
009e98f8 : JZ 0x009e999d
009e98fe : CMP dword ptr [EAX + 0x30],0x10
009e9902 : JC 0x009e9909
009e9904 : MOV EAX,dword ptr [EAX + 0x1c]
009e9907 : JMP 0x009e990c
009e9909 : ADD EAX,0x1c
009e990c : PUSH EAX
009e990d : LEA ESI,[EBP + -0x48]
009e9910 : CALL 0x00404350
009e9915 : ADD ESP,0x4
009e9918 : MOV EBX,0xd
009e991d : MOV dword ptr [EBP + -0x4],EBX
009e9920 : MOV EDX,dword ptr [0x0172491c]
009e9926 : MOV ECX,ESI
009e9928 : PUSH EDX
009e9929 : LEA ESI,[EBP + -0x2c]
009e992c : CALL 0x0081cee0
009e9931 : MOV byte ptr [EBP + -0x4],0xe
009e9935 : CMP dword ptr [EBP + -0x18],EDI
009e9938 : JZ 0x009e9948
009e993a : MOV EAX,dword ptr [EBP + -0x68]
009e993d : PUSH EAX
009e993e : MOV EDX,0xca0e24
009e9943 : CALL 0x00404980
009e9948 : PUSH -0x1
009e994a : PUSH EDI
009e994b : LEA ECX,[EBP + -0x2c]
009e994e : PUSH ECX
009e994f : MOV ECX,dword ptr [EBP + -0x68]
009e9952 : CALL 0x00405c30
009e9957 : MOV byte ptr [EBP + -0x4],BL
009e995a : MOV ESI,0x8
009e995f : CMP dword ptr [EBP + -0x14],ESI
009e9962 : JC 0x009e996c
009e9964 : MOV ECX,dword ptr [EBP + -0x28]
009e9967 : CALL 0x006f04e0
009e996c : MOV EBX,0x7
009e9971 : XOR EDX,EDX
009e9973 : MOV dword ptr [EBP + -0x14],EBX
009e9976 : MOV dword ptr [EBP + -0x18],EDI
009e9979 : MOV word ptr [EBP + -0x28],DX
009e997d : MOV dword ptr [EBP + -0x4],0xffffffff
009e9984 : CMP dword ptr [EBP + -0x30],ESI
009e9987 : JC 0x009e9991
009e9989 : MOV ECX,dword ptr [EBP + -0x44]
009e998c : CALL 0x006f04e0
009e9991 : XOR EAX,EAX
009e9993 : MOV dword ptr [EBP + -0x30],EBX
009e9996 : MOV dword ptr [EBP + -0x34],EDI
009e9999 : MOV word ptr [EBP + -0x44],AX
009e999d : MOV ECX,dword ptr [EBP + -0xc]
009e99a0 : MOV dword ptr FS:[0x0],ECX
009e99a7 : POP ECX
009e99a8 : POP EDI
009e99a9 : POP ESI
009e99aa : POP EBX
009e99ab : MOV ECX,dword ptr [EBP + -0x10]
009e99ae : XOR ECX,EBP
009e99b0 : CALL 0x00633e6b
009e99b5 : MOV ESP,EBP
009e99b7 : POP EBP
009e99b8 : RET
