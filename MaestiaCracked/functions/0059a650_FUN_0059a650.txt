PROGRAM  : Maestia.exe
FUNCTION : FUN_0059a650
ENTRY    : 0059a650
BODY     : [[0059a650, 0059a6bf]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0059a650(uint param_1,undefined4 *param_2)

{
  void *_Src;
  undefined4 *puVar1;
  uint uVar2;
  int *in_ECX;
  uint uVar3;
  uint uVar4;
  
  uVar2 = in_ECX[1];
  uVar3 = uVar2 + 1;
  if (uVar3 < (uint)in_ECX[1]) {
    uVar4 = uVar3;
    if ((uint)in_ECX[2] >> 1 <= uVar3) goto LAB_0059a67f;
  }
  else {
    if (uVar3 < (uint)in_ECX[2]) goto LAB_0059a67f;
    uVar4 = (uVar3 >> 2) + uVar3;
  }
  FUN_005b5ef0(in_ECX,uVar4);
LAB_0059a67f:
  in_ECX[1] = uVar3;
  if (param_1 < uVar2) {
    _Src = (void *)(*in_ECX + param_1 * 4);
    _memmove((void *)((int)_Src + 4),_Src,(uVar3 - param_1) * 4 - 4);
  }
  puVar1 = (undefined4 *)(*in_ECX + param_1 * 4);
  if (puVar1 != (undefined4 *)0x0) {
    *puVar1 = *param_2;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0059a650 : PUSH EBX
0059a651 : PUSH ESI
0059a652 : PUSH EDI
0059a653 : MOV EDI,ECX
0059a655 : MOV ESI,dword ptr [EDI + 0x4]
0059a658 : INC ESI
0059a659 : CMP ESI,dword ptr [EDI + 0x4]
0059a65c : JNC 0x0059a66a
0059a65e : MOV EAX,dword ptr [EDI + 0x8]
0059a661 : SHR EAX,0x1
0059a663 : CMP ESI,EAX
0059a665 : JNC 0x0059a67f
0059a667 : PUSH ESI
0059a668 : JMP 0x0059a679
0059a66a : CMP ESI,dword ptr [EDI + 0x8]
0059a66d : JC 0x0059a67f
0059a66f : MOV ECX,ESI
0059a671 : SHR ECX,0x2
0059a674 : ADD ECX,ESI
0059a676 : PUSH ECX
0059a677 : MOV ECX,EDI
0059a679 : PUSH EDI
0059a67a : CALL 0x005b5ef0
0059a67f : MOV EBX,dword ptr [ESP + 0x10]
0059a683 : LEA EDX,[ESI + -0x1]
0059a686 : MOV dword ptr [EDI + 0x4],ESI
0059a689 : CMP EBX,EDX
0059a68b : JNC 0x0059a6a9
0059a68d : MOV EAX,dword ptr [EDI]
0059a68f : SUB ESI,EBX
0059a691 : LEA ECX,[ESI*0x4 + 0xfffffffc]
0059a698 : LEA EAX,[EAX + EBX*0x4]
0059a69b : PUSH ECX
0059a69c : PUSH EAX
0059a69d : ADD EAX,0x4
0059a6a0 : PUSH EAX
0059a6a1 : CALL 0x00636880
0059a6a6 : ADD ESP,0xc
0059a6a9 : MOV EDX,dword ptr [EDI]
0059a6ab : POP EDI
0059a6ac : LEA EAX,[EDX + EBX*0x4]
0059a6af : POP ESI
0059a6b0 : POP EBX
0059a6b1 : TEST EAX,EAX
0059a6b3 : JZ 0x0059a6bd
0059a6b5 : MOV ECX,dword ptr [ESP + 0x8]
0059a6b9 : MOV EDX,dword ptr [ECX]
0059a6bb : MOV dword ptr [EAX],EDX
0059a6bd : RET 0x8
