PROGRAM  : Maestia.exe
FUNCTION : FUN_005f5940
ENTRY    : 005f5940
BODY     : [[005f5940, 005f59bd]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005f5940(int param_1)

{
  uint *puVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  undefined4 *in_ECX;
  int iVar5;
  
  uVar2 = *in_ECX;
  *(uint *)(param_1 + 0x20) = *(uint *)(param_1 + 0x20) & 0xfffffffe;
  uVar4 = *(uint *)(param_1 + 0x18) >> ((byte)uVar2 & 0x1f);
  puVar1 = (uint *)(param_1 + 0x20 + (uVar4 - 1 >> 5) * 4);
  *puVar1 = *puVar1 & ~(1 << ((byte)(uVar4 - 1) & 0x1f));
  iVar3 = *(int *)(param_1 + 0x1c);
  iVar5 = uVar4 << ((byte)*in_ECX & 0x1f);
  if (uVar4 < 0x21) {
    *(short *)(iVar5 + -2 + iVar3) = (short)uVar4;
    *(short *)(iVar3 + 0xc) = (short)uVar4;
    *(int *)(iVar3 + 8) = param_1;
    FUN_005a7f80(iVar3);
    return;
  }
  *(undefined2 *)(iVar5 + -2 + iVar3) = 0x21;
  *(undefined2 *)(iVar3 + 0xc) = 0x21;
  *(uint *)(iVar5 + -8 + iVar3) = uVar4;
  *(uint *)(iVar3 + 0x10) = uVar4;
  *(int *)(iVar3 + 8) = param_1;
  FUN_005a7f80(iVar3);
  return;
}



============================================================
DISASSEMBLY
============================================================
005f5940 : MOV EDX,dword ptr [ESP + 0x4]
005f5944 : MOV EAX,dword ptr [EDX + 0x18]
005f5947 : PUSH EBX
005f5948 : MOV EBX,ECX
005f594a : MOV ECX,dword ptr [EBX]
005f594c : AND dword ptr [EDX + 0x20],0xfffffffe
005f5950 : SHR EAX,CL
005f5952 : PUSH ESI
005f5953 : PUSH EDI
005f5954 : MOV EDI,0x1
005f5959 : LEA ECX,[EAX + -0x1]
005f595c : MOV ESI,ECX
005f595e : AND ECX,0x1f
005f5961 : SHL EDI,CL
005f5963 : SHR ESI,0x5
005f5966 : LEA ESI,[EDX + ESI*0x4 + 0x20]
005f596a : NOT EDI
005f596c : AND dword ptr [ESI],EDI
005f596e : MOV ECX,dword ptr [EBX]
005f5970 : MOV ESI,dword ptr [EDX + 0x1c]
005f5973 : MOV EDI,EAX
005f5975 : SHL EDI,CL
005f5977 : CMP EAX,0x21
005f597a : JNC 0x005f5997
005f597c : MOV word ptr [EDI + ESI*0x1 + -0x2],AX
005f5981 : PUSH ESI
005f5982 : LEA ECX,[EBX + 0x8]
005f5985 : MOV word ptr [ESI + 0xc],AX
005f5989 : MOV dword ptr [ESI + 0x8],EDX
005f598c : CALL 0x005a7f80
005f5991 : POP EDI
005f5992 : POP ESI
005f5993 : POP EBX
005f5994 : RET 0x4
005f5997 : MOV ECX,0x21
005f599c : MOV word ptr [EDI + ESI*0x1 + -0x2],CX
005f59a1 : MOV word ptr [ESI + 0xc],CX
005f59a5 : MOV dword ptr [EDI + ESI*0x1 + -0x8],EAX
005f59a9 : PUSH ESI
005f59aa : LEA ECX,[EBX + 0x8]
005f59ad : MOV dword ptr [ESI + 0x10],EAX
005f59b0 : MOV dword ptr [ESI + 0x8],EDX
005f59b3 : CALL 0x005a7f80
005f59b8 : POP EDI
005f59b9 : POP ESI
005f59ba : POP EBX
005f59bb : RET 0x4
