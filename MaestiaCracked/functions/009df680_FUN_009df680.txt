PROGRAM  : Maestia.exe
FUNCTION : FUN_009df680
ENTRY    : 009df680
BODY     : [[009df680, 009df803]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009df680(undefined4 param_1)

{
  uint uVar1;
  undefined4 ***pppuVar2;
  int iVar3;
  undefined4 uVar4;
  int in_ECX;
  uint local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined4 **local_2c [4];
  int local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b2dca2;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
  *(undefined4 *)(in_ECX + 0x13c) = 0;
  local_18 = 7;
  local_1c = 0;
  local_14 = uVar1;
  FUN_00405eb0(param_1,0,0xffffffff);
  local_8 = 0;
  pppuVar2 = (undefined4 ***)local_2c[0];
  if (local_18 < 8) {
    pppuVar2 = local_2c;
  }
  iVar3 = FUN_00405b70(pppuVar2,uVar1);
  if ((iVar3 != 0) || (local_1c != 0)) {
    iVar3 = *DAT_00da9894;
    if ((iVar3 != 0) && (*(int *)(iVar3 + 0x114) != 0)) {
      (**(code **)**(undefined4 **)(iVar3 + 0x114))("ClearGMMode");
    }
    iVar3 = FUN_00a1cd50();
    if (iVar3 == 0) {
      FUN_00406460(L"IDS_GUI_CHARACTER_NOT_VISIBLE");
      local_8._0_1_ = 1;
      uVar4 = FUN_0081d120(local_4c);
      local_8._0_1_ = 2;
      FUN_008ede80(uVar4,0);
      local_8 = CONCAT31(local_8._1_3_,1);
      if (7 < local_50) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_34 = 7;
      local_38 = 0;
      local_48 = 0;
    }
    else {
      *(undefined4 *)(in_ECX + 0x13c) = *(undefined4 *)(iVar3 + 4);
    }
  }
  local_8 = 0xffffffff;
  if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
  local_1c = 0;
  local_18 = 7;
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009df680 : PUSH EBP
009df681 : MOV EBP,ESP
009df683 : PUSH -0x1
009df685 : PUSH 0xb2dca2
009df68a : MOV EAX,FS:[0x0]
009df690 : PUSH EAX
009df691 : SUB ESP,0x58
009df694 : MOV EAX,[0x00d66fa0]
009df699 : XOR EAX,EBP
009df69b : MOV dword ptr [EBP + -0x10],EAX
009df69e : PUSH EBX
009df69f : PUSH ESI
009df6a0 : PUSH EDI
009df6a1 : PUSH EAX
009df6a2 : LEA EAX,[EBP + -0xc]
009df6a5 : MOV FS:[0x0],EAX
009df6ab : MOV EAX,dword ptr [EBP + 0x8]
009df6ae : MOV ESI,ECX
009df6b0 : XOR EBX,EBX
009df6b2 : PUSH -0x1
009df6b4 : XOR ECX,ECX
009df6b6 : PUSH EBX
009df6b7 : MOV word ptr [EBP + -0x28],CX
009df6bb : PUSH EAX
009df6bc : LEA ECX,[EBP + -0x2c]
009df6bf : MOV dword ptr [ESI + 0x13c],EBX
009df6c5 : MOV dword ptr [EBP + -0x14],0x7
009df6cc : MOV dword ptr [EBP + -0x18],EBX
009df6cf : CALL 0x00405eb0
009df6d4 : MOV dword ptr [EBP + -0x4],EBX
009df6d7 : MOV EAX,dword ptr [EBP + -0x28]
009df6da : MOV EDI,0x8
009df6df : CMP dword ptr [EBP + -0x14],EDI
009df6e2 : JNC 0x009df6e7
009df6e4 : LEA EAX,[EBP + -0x28]
009df6e7 : PUSH EAX
009df6e8 : XOR EDX,EDX
009df6ea : MOV ECX,0xc981fc
009df6ef : CALL 0x00405b70
009df6f4 : ADD ESP,0x4
009df6f7 : CMP EAX,EBX
009df6f9 : JNZ 0x009df70b
009df6fb : XOR EAX,EAX
009df6fd : CMP dword ptr [EBP + -0x18],EBX
009df700 : SETNZ AL
009df703 : CMP EAX,EBX
009df705 : JZ 0x009df7c2
009df70b : MOV EAX,[0x00da9894]
009df710 : MOV EAX,dword ptr [EAX]
009df712 : CMP EAX,EBX
009df714 : JZ 0x009df731
009df716 : CMP dword ptr [EAX + 0x114],EBX
009df71c : JZ 0x009df731
009df71e : MOV EAX,dword ptr [EAX + 0x114]
009df724 : MOV EDX,dword ptr [EAX]
009df726 : MOV ECX,EAX
009df728 : MOV EAX,dword ptr [EDX]
009df72a : PUSH 0xc98200
009df72f : CALL EAX
009df731 : MOV ECX,dword ptr [0x00da93ec]
009df737 : LEA EDX,[EBP + -0x2c]
009df73a : CALL 0x00a1cd50
009df73f : CMP EAX,EBX
009df741 : JNZ 0x009df7b9
009df743 : PUSH 0xc9820c
009df748 : LEA ECX,[EBP + -0x48]
009df74b : CALL 0x00406460
009df750 : MOV byte ptr [EBP + -0x4],0x1
009df754 : LEA ECX,[EBP + -0x48]
009df757 : PUSH ECX
009df758 : MOV ECX,dword ptr [0x0172491c]
009df75e : LEA EDI,[EBP + -0x64]
009df761 : CALL 0x0081d120
009df766 : MOV byte ptr [EBP + -0x4],0x2
009df76a : MOV ECX,dword ptr [ESI + 0x4]
009df76d : PUSH EBX
009df76e : PUSH EAX
009df76f : CALL 0x008ede80
009df774 : MOV byte ptr [EBP + -0x4],0x1
009df778 : MOV EDI,0x8
009df77d : CMP dword ptr [EBP + -0x4c],EDI
009df780 : JC 0x009df78a
009df782 : MOV ECX,dword ptr [EBP + -0x60]
009df785 : CALL 0x006f04e0
009df78a : MOV ESI,0x7
009df78f : XOR EDX,EDX
009df791 : MOV dword ptr [EBP + -0x4c],ESI
009df794 : MOV dword ptr [EBP + -0x50],EBX
009df797 : MOV word ptr [EBP + -0x60],DX
009df79b : MOV byte ptr [EBP + -0x4],BL
009df79e : CMP dword ptr [EBP + -0x30],EDI
009df7a1 : JC 0x009df7ab
009df7a3 : MOV ECX,dword ptr [EBP + -0x44]
009df7a6 : CALL 0x006f04e0
009df7ab : XOR EAX,EAX
009df7ad : MOV dword ptr [EBP + -0x30],ESI
009df7b0 : MOV dword ptr [EBP + -0x34],EBX
009df7b3 : MOV word ptr [EBP + -0x44],AX
009df7b7 : JMP 0x009df7c2
009df7b9 : MOV ECX,dword ptr [EAX + 0x4]
009df7bc : MOV dword ptr [ESI + 0x13c],ECX
009df7c2 : MOV dword ptr [EBP + -0x4],0xffffffff
009df7c9 : CMP dword ptr [EBP + -0x14],EDI
009df7cc : JC 0x009df7d6
009df7ce : MOV ECX,dword ptr [EBP + -0x28]
009df7d1 : CALL 0x006f04e0
009df7d6 : XOR EDX,EDX
009df7d8 : MOV word ptr [EBP + -0x28],DX
009df7dc : MOV dword ptr [EBP + -0x18],EBX
009df7df : MOV dword ptr [EBP + -0x14],0x7
009df7e6 : MOV ECX,dword ptr [EBP + -0xc]
009df7e9 : MOV dword ptr FS:[0x0],ECX
009df7f0 : POP ECX
009df7f1 : POP EDI
009df7f2 : POP ESI
009df7f3 : POP EBX
009df7f4 : MOV ECX,dword ptr [EBP + -0x10]
009df7f7 : XOR ECX,EBP
009df7f9 : CALL 0x00633e6b
009df7fe : MOV ESP,EBP
009df800 : POP EBP
009df801 : RET 0x4
