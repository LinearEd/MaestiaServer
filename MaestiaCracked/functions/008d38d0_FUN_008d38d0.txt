PROGRAM  : Maestia.exe
FUNCTION : FUN_008d38d0
ENTRY    : 008d38d0
BODY     : [[008d38d0, 008d3c04]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_008d38d0(void)

{
  undefined1 uVar1;
  undefined1 uVar2;
  int iVar3;
  char cVar4;
  undefined1 uVar5;
  undefined1 uVar6;
  DWORD DVar7;
  undefined4 uVar8;
  int in_ECX;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b6ea10;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  if (*(char *)(in_ECX + 0xbc) != '\0') {
    FUN_008d3470(DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    DVar7 = timeGetTime();
    if (0x5db < DVar7 - _DAT_017248b4) {
      _DAT_017248b4 = timeGetTime();
      DVar7 = timeGetTime();
      if ((2000 < DAT_00da9870 - DVar7) && (*(char *)(in_ECX + 0xca) != '\0')) {
        *(undefined1 *)(in_ECX + 0xca) = 0;
      }
      cVar4 = FUN_008d3690();
      if (cVar4 == '\0') {
        cVar4 = *(char *)(*(int *)(in_ECX + 0xb8) + 4);
        if (((cVar4 != '\0') && (*(int *)(DAT_0172491c + 0x17c) != 0)) && (cVar4 != '\0')) {
          FUN_009a4db0();
          FUN_008018d0(L"[AutoGameLOG] pMyChar stop");
        }
      }
      else {
        FUN_008d3320();
      }
      iVar3 = *(int *)(in_ECX + 0xb8);
      if ((((*(char *)(iVar3 + 4) != '\0') || (*(char *)(iVar3 + 1) != '\0')) ||
          ((*(char *)(in_ECX + 0xca) != '\0' ||
           ((*(char *)(iVar3 + 5) != '\0' || (*(char *)(in_ECX + 200) != '\0')))))) &&
         (cVar4 = FUN_008d0810(in_ECX), cVar4 == '\0')) {
        iVar3 = *(int *)(in_ECX + 0xb8);
        uVar6 = *(undefined1 *)(iVar3 + 1);
        uVar1 = *(undefined1 *)(iVar3 + 4);
        uVar2 = *(undefined1 *)(iVar3 + 5);
        uVar5 = FUN_008d0810(in_ECX);
        uVar8 = FUN_00404750(L"[AutoGameLOG] IsPray -> %b, UseSkill -> %b, IsUseSkillWate -> %b, IsMove -> %b, IsDead -> %b, IsAttacked -> %b"
                             ,uVar1,uVar6,*(undefined1 *)(in_ECX + 0xca),uVar2,
                             *(undefined1 *)(in_ECX + 200),uVar5);
        local_8 = 0;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x10))(uVar8);
        }
        local_8 = 0xffffffff;
        FUN_00406560();
        ExceptionList = local_10;
        return;
      }
      if ((*(int *)(DAT_0172491c + 0x17c) != 0) &&
         (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 0x1f54) != 0)) {
        FUN_008d2520(in_ECX);
      }
      if (((*(char *)(*(int *)(in_ECX + 0xb8) + 4) == '\0') &&
          (*(char *)(*(int *)(in_ECX + 0xb8) + 2) == '\0')) &&
         (cVar4 = FUN_008d0810(in_ECX), cVar4 == '\0')) {
        FUN_008d2200(in_ECX);
        if (*(char *)(*(int *)(in_ECX + 0xb8) + 0x32) != '\0') {
          FUN_008d02c0(in_ECX);
        }
        if (*(char *)(in_ECX + 0xca) != '\0') {
          ExceptionList = local_10;
          return;
        }
      }
      if (((*(int *)(DAT_0172491c + 0x17c) != 0) &&
          (*(int *)(*(int *)(DAT_0172491c + 0x17c) + 0x1f54) != 0)) &&
         (*(char *)(in_ECX + 0xca) == '\0')) {
        FUN_008d1e20(in_ECX);
      }
      cVar4 = FUN_008d0810(in_ECX);
      if (((cVar4 == '\0') && (cVar4 = FUN_008d0690(in_ECX), cVar4 == '\0')) &&
         ((cVar4 = FUN_008d0990(in_ECX), cVar4 == '\0' &&
          ((*(char *)(*(int *)(in_ECX + 0xb8) + 0x31) != '\0' &&
           (cVar4 = FUN_00a37b90(DAT_00da93ec), cVar4 != '\0')))))) {
        *(undefined1 *)(in_ECX + 0xc9) = 1;
      }
      if (*(char *)(*(int *)(in_ECX + 0xb8) + 5) == '\0') {
        FUN_008d2ed0();
        cVar4 = FUN_008d0990(in_ECX);
        if (((((cVar4 == '\0') && (**(char **)(in_ECX + 0xb8) == '\0')) &&
             (cVar4 = FUN_008d3690(), cVar4 == '\0')) &&
            ((*(char *)(*(int *)(in_ECX + 0xb8) + 4) == '\0' &&
             (cVar4 = FUN_008d0810(in_ECX), cVar4 == '\0')))) &&
           ((*(char *)(in_ECX + 0xf4) != '\0' && (*(int *)(*(int *)(in_ECX + 0xb8) + 8) != 3)))) {
          uVar6 = FUN_008d2d10(in_ECX);
          *(undefined1 *)(in_ECX + 0xf5) = uVar6;
        }
      }
      FUN_008d19a0();
      if ((*(char *)(*(int *)(in_ECX + 0xb8) + 0x2f) != '\0') || (10 < *(int *)(in_ECX + 0xf8))) {
        FUN_008d26d0(in_ECX);
      }
      if ((((**(char **)(in_ECX + 0xb8) != '\0') && (*(int *)(*DAT_00da9894 + 0x158) != 0)) &&
          (iVar3 = *(int *)(*DAT_00da9894 + 0x158), *(char *)(iVar3 + 0x32) != '\0')) &&
         (*(int *)(iVar3 + 0x5c) != -1)) {
        FUN_00989980();
      }
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
008d38d0 : PUSH EBP
008d38d1 : MOV EBP,ESP
008d38d3 : PUSH -0x1
008d38d5 : PUSH 0xb6ea10
008d38da : MOV EAX,FS:[0x0]
008d38e0 : PUSH EAX
008d38e1 : SUB ESP,0x20
008d38e4 : PUSH EBX
008d38e5 : PUSH ESI
008d38e6 : PUSH EDI
008d38e7 : MOV EAX,[0x00d66fa0]
008d38ec : XOR EAX,EBP
008d38ee : PUSH EAX
008d38ef : LEA EAX,[EBP + -0xc]
008d38f2 : MOV FS:[0x0],EAX
008d38f8 : MOV EDI,ECX
008d38fa : CMP byte ptr [EDI + 0xbc],0x0
008d3901 : JZ 0x008d3bf3
008d3907 : CALL 0x008d3470
008d390c : MOV ESI,dword ptr [0x00b85598]
008d3912 : CALL ESI
008d3914 : SUB EAX,dword ptr [0x017248b4]
008d391a : CMP EAX,0x5dc
008d391f : JC 0x008d3bf3
008d3925 : CALL ESI
008d3927 : MOV [0x017248b4],EAX
008d392c : CALL ESI
008d392e : MOV ECX,dword ptr [0x00da9870]
008d3934 : SUB ECX,EAX
008d3936 : CMP ECX,0x7d0
008d393c : JBE 0x008d394e
008d393e : CMP byte ptr [EDI + 0xca],0x0
008d3945 : JZ 0x008d394e
008d3947 : MOV byte ptr [EDI + 0xca],0x0
008d394e : MOV EAX,EDI
008d3950 : CALL 0x008d3690
008d3955 : TEST AL,AL
008d3957 : JZ 0x008d3962
008d3959 : MOV EAX,EDI
008d395b : CALL 0x008d3320
008d3960 : JMP 0x008d39a8
008d3962 : MOV EDX,dword ptr [EDI + 0xb8]
008d3968 : MOV AL,byte ptr [EDX + 0x4]
008d396b : TEST AL,AL
008d396d : JZ 0x008d39a8
008d396f : MOV ECX,dword ptr [0x0172491c]
008d3975 : CMP dword ptr [ECX + 0x17c],0x0
008d397c : JZ 0x008d39a8
008d397e : TEST AL,AL
008d3980 : JZ 0x008d39a8
008d3982 : MOV EDX,dword ptr [0x00da9894]
008d3988 : MOV EAX,dword ptr [EDX]
008d398a : MOV ESI,dword ptr [EAX + 0x168]
008d3990 : CALL 0x009a4db0
008d3995 : MOV ESI,dword ptr [0x00da98e8]
008d399b : PUSH 0xc546ac
008d39a0 : CALL 0x008018d0
008d39a5 : ADD ESP,0x4
008d39a8 : MOV EAX,dword ptr [EDI + 0xb8]
008d39ae : CMP byte ptr [EAX + 0x4],0x0
008d39b2 : JNZ 0x008d39d6
008d39b4 : CMP byte ptr [EAX + 0x1],0x0
008d39b8 : JNZ 0x008d39d6
008d39ba : CMP byte ptr [EDI + 0xca],0x0
008d39c1 : JNZ 0x008d39d6
008d39c3 : CMP byte ptr [EAX + 0x5],0x0
008d39c7 : JNZ 0x008d39d6
008d39c9 : CMP byte ptr [EDI + 0xc8],0x0
008d39d0 : JZ 0x008d3a6d
008d39d6 : PUSH EDI
008d39d7 : CALL 0x008d0810
008d39dc : TEST AL,AL
008d39de : JNZ 0x008d3a6d
008d39e4 : MOV EAX,dword ptr [EDI + 0xb8]
008d39ea : MOV CL,byte ptr [EAX + 0x1]
008d39ed : MOV DL,byte ptr [EAX + 0x4]
008d39f0 : MOV BL,byte ptr [EAX + 0x5]
008d39f3 : PUSH EDI
008d39f4 : MOV byte ptr [EBP + -0xd],CL
008d39f7 : MOV byte ptr [EBP + -0xe],DL
008d39fa : CALL 0x008d0810
008d39ff : MOVZX ECX,byte ptr [EDI + 0xc8]
008d3a06 : MOVZX EAX,AL
008d3a09 : PUSH EAX
008d3a0a : MOVZX EAX,byte ptr [EDI + 0xca]
008d3a11 : PUSH ECX
008d3a12 : MOVZX ECX,byte ptr [EBP + -0xd]
008d3a16 : MOVZX EDX,BL
008d3a19 : PUSH EDX
008d3a1a : MOVZX EDX,byte ptr [EBP + -0xe]
008d3a1e : PUSH EAX
008d3a1f : PUSH ECX
008d3a20 : PUSH EDX
008d3a21 : PUSH 0xc547d8
008d3a26 : LEA ESI,[EBP + -0x2c]
008d3a29 : CALL 0x00404750
008d3a2e : ADD ESP,0x1c
008d3a31 : MOV dword ptr [EBP + -0x4],0x0
008d3a38 : MOV ECX,dword ptr [0x00da98e8]
008d3a3e : MOV ECX,dword ptr [ECX]
008d3a40 : TEST ECX,ECX
008d3a42 : JZ 0x008d3a4c
008d3a44 : MOV EDX,dword ptr [ECX]
008d3a46 : PUSH EAX
008d3a47 : MOV EAX,dword ptr [EDX + 0x10]
008d3a4a : CALL EAX
008d3a4c : MOV dword ptr [EBP + -0x4],0xffffffff
008d3a53 : LEA ECX,[EBP + -0x2c]
008d3a56 : CALL 0x00406560
008d3a5b : MOV ECX,dword ptr [EBP + -0xc]
008d3a5e : MOV dword ptr FS:[0x0],ECX
008d3a65 : POP ECX
008d3a66 : POP EDI
008d3a67 : POP ESI
008d3a68 : POP EBX
008d3a69 : MOV ESP,EBP
008d3a6b : POP EBP
008d3a6c : RET
008d3a6d : MOV ECX,dword ptr [0x0172491c]
008d3a73 : MOV EAX,dword ptr [ECX + 0x17c]
008d3a79 : TEST EAX,EAX
008d3a7b : JZ 0x008d3a8c
008d3a7d : CMP dword ptr [EAX + 0x1f54],0x0
008d3a84 : JZ 0x008d3a8c
008d3a86 : PUSH EDI
008d3a87 : CALL 0x008d2520
008d3a8c : MOV EAX,dword ptr [EDI + 0xb8]
008d3a92 : CMP byte ptr [EAX + 0x4],0x0
008d3a96 : JNZ 0x008d3acd
008d3a98 : CMP byte ptr [EAX + 0x2],0x0
008d3a9c : JNZ 0x008d3acd
008d3a9e : PUSH EDI
008d3a9f : CALL 0x008d0810
008d3aa4 : TEST AL,AL
008d3aa6 : JNZ 0x008d3acd
008d3aa8 : PUSH EDI
008d3aa9 : CALL 0x008d2200
008d3aae : MOV EDX,dword ptr [EDI + 0xb8]
008d3ab4 : CMP byte ptr [EDX + 0x32],0x0
008d3ab8 : JZ 0x008d3ac0
008d3aba : PUSH EDI
008d3abb : CALL 0x008d02c0
008d3ac0 : CMP byte ptr [EDI + 0xca],0x0
008d3ac7 : JNZ 0x008d3bf3
008d3acd : MOV EAX,[0x0172491c]
008d3ad2 : MOV EAX,dword ptr [EAX + 0x17c]
008d3ad8 : TEST EAX,EAX
008d3ada : JZ 0x008d3af4
008d3adc : CMP dword ptr [EAX + 0x1f54],0x0
008d3ae3 : JZ 0x008d3af4
008d3ae5 : CMP byte ptr [EDI + 0xca],0x0
008d3aec : JNZ 0x008d3af4
008d3aee : PUSH EDI
008d3aef : CALL 0x008d1e20
008d3af4 : PUSH EDI
008d3af5 : CALL 0x008d0810
008d3afa : TEST AL,AL
008d3afc : JNZ 0x008d3b34
008d3afe : PUSH EDI
008d3aff : CALL 0x008d0690
008d3b04 : TEST AL,AL
008d3b06 : JNZ 0x008d3b34
008d3b08 : PUSH EDI
008d3b09 : CALL 0x008d0990
008d3b0e : TEST AL,AL
008d3b10 : JNZ 0x008d3b34
008d3b12 : MOV ECX,dword ptr [EDI + 0xb8]
008d3b18 : CMP byte ptr [ECX + 0x31],AL
008d3b1b : JZ 0x008d3b34
008d3b1d : MOV EDX,dword ptr [0x00da93ec]
008d3b23 : PUSH EDX
008d3b24 : CALL 0x00a37b90
008d3b29 : TEST AL,AL
008d3b2b : JZ 0x008d3b34
008d3b2d : MOV byte ptr [EDI + 0xc9],0x1
008d3b34 : MOV EAX,dword ptr [EDI + 0xb8]
008d3b3a : CMP byte ptr [EAX + 0x5],0x0
008d3b3e : JNZ 0x008d3b9a
008d3b40 : CALL 0x008d2ed0
008d3b45 : PUSH EDI
008d3b46 : CALL 0x008d0990
008d3b4b : TEST AL,AL
008d3b4d : JNZ 0x008d3b9a
008d3b4f : MOV EAX,dword ptr [EDI + 0xb8]
008d3b55 : CMP byte ptr [EAX],0x0
008d3b58 : JNZ 0x008d3b9a
008d3b5a : MOV EAX,EDI
008d3b5c : CALL 0x008d3690
008d3b61 : TEST AL,AL
008d3b63 : JNZ 0x008d3b9a
008d3b65 : MOV ECX,dword ptr [EDI + 0xb8]
008d3b6b : CMP byte ptr [ECX + 0x4],AL
008d3b6e : JNZ 0x008d3b9a
008d3b70 : PUSH EDI
008d3b71 : CALL 0x008d0810
008d3b76 : TEST AL,AL
008d3b78 : JNZ 0x008d3b9a
008d3b7a : CMP byte ptr [EDI + 0xf4],AL
008d3b80 : JZ 0x008d3b9a
008d3b82 : MOV EDX,dword ptr [EDI + 0xb8]
008d3b88 : CMP dword ptr [EDX + 0x8],0x3
008d3b8c : JZ 0x008d3b9a
008d3b8e : PUSH EDI
008d3b8f : CALL 0x008d2d10
008d3b94 : MOV byte ptr [EDI + 0xf5],AL
008d3b9a : MOV EAX,EDI
008d3b9c : CALL 0x008d19a0
008d3ba1 : MOV EAX,dword ptr [EDI + 0xb8]
008d3ba7 : CMP byte ptr [EAX + 0x2f],0x0
008d3bab : JNZ 0x008d3bb6
008d3bad : CMP dword ptr [EDI + 0xf8],0xa
008d3bb4 : JLE 0x008d3bbc
008d3bb6 : PUSH EDI
008d3bb7 : CALL 0x008d26d0
008d3bbc : MOV EDI,dword ptr [EDI + 0xb8]
008d3bc2 : CMP byte ptr [EDI],0x0
008d3bc5 : JZ 0x008d3bf3
008d3bc7 : MOV ECX,dword ptr [0x00da9894]
008d3bcd : MOV EAX,dword ptr [ECX]
008d3bcf : CMP dword ptr [EAX + 0x158],0x0
008d3bd6 : JZ 0x008d3bf3
008d3bd8 : MOV ECX,dword ptr [EAX + 0x158]
008d3bde : CMP byte ptr [ECX + 0x32],0x0
008d3be2 : JZ 0x008d3bf3
008d3be4 : MOV EAX,ECX
008d3be6 : CMP dword ptr [EAX + 0x5c],-0x1
008d3bea : JZ 0x008d3bf3
008d3bec : MOV ESI,EAX
008d3bee : CALL 0x00989980
008d3bf3 : MOV ECX,dword ptr [EBP + -0xc]
008d3bf6 : MOV dword ptr FS:[0x0],ECX
008d3bfd : POP ECX
008d3bfe : POP EDI
008d3bff : POP ESI
008d3c00 : POP EBX
008d3c01 : MOV ESP,EBP
008d3c03 : POP EBP
008d3c04 : RET
