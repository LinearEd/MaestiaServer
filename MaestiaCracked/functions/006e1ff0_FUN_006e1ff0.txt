PROGRAM  : Maestia.exe
FUNCTION : FUN_006e1ff0
ENTRY    : 006e1ff0
BODY     : [[006e1ff0, 006e20ae]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006e1ff0(int param_1,int param_2,int *param_3,int param_4)

{
  byte *pbVar1;
  short *psVar2;
  int iVar3;
  byte bVar4;
  int iVar5;
  int iVar6;
  char *pcVar7;
  byte *pbVar8;
  int local_10;
  
  iVar5 = *(int *)(*(int *)(param_1 + 0x1a8) + 0x18);
  iVar6 = *(int *)(param_1 + 0x5c);
  if (0 < param_4) {
    param_2 = param_2 - (int)param_3;
    local_10 = param_4;
    do {
      pbVar8 = *(byte **)(param_2 + (int)param_3);
      pcVar7 = (char *)*param_3;
      for (iVar3 = iVar6; iVar3 != 0; iVar3 = iVar3 + -1) {
        bVar4 = *pbVar8;
        pbVar1 = pbVar8 + 2;
        psVar2 = (short *)(*(int *)(iVar5 + (uint)(bVar4 >> 3) * 4) +
                          ((uint)(pbVar8[1] >> 2) * 0x20 + (uint)(*pbVar1 >> 3)) * 2);
        pbVar8 = pbVar8 + 3;
        if (*psVar2 == 0) {
          FUN_006e1eb0(param_1,(uint)(bVar4 >> 3),(uint)(*pbVar1 >> 3));
        }
        *pcVar7 = (char)*psVar2 + -1;
        pcVar7 = pcVar7 + 1;
      }
      param_3 = param_3 + 1;
      local_10 = local_10 + -1;
    } while (local_10 != 0);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006e1ff0 : SUB ESP,0x14
006e1ff3 : MOV EAX,dword ptr [ESP + 0x18]
006e1ff7 : MOV ECX,dword ptr [EAX + 0x1a8]
006e1ffd : MOV EDX,dword ptr [ECX + 0x18]
006e2000 : MOV ECX,dword ptr [EAX + 0x5c]
006e2003 : PUSH ESI
006e2004 : MOV ESI,dword ptr [ESP + 0x28]
006e2008 : MOV dword ptr [ESP + 0xc],EDX
006e200c : MOV dword ptr [ESP + 0x10],ECX
006e2010 : TEST ESI,ESI
006e2012 : JLE 0x006e20aa
006e2018 : MOV EAX,dword ptr [ESP + 0x24]
006e201c : MOV EDX,dword ptr [ESP + 0x20]
006e2020 : PUSH EBX
006e2021 : SUB EDX,EAX
006e2023 : PUSH EBP
006e2024 : MOV dword ptr [ESP + 0xc],EAX
006e2028 : MOV dword ptr [ESP + 0x1c],EDX
006e202c : MOV dword ptr [ESP + 0x10],ESI
006e2030 : PUSH EDI
006e2031 : MOV ESI,dword ptr [EDX + EAX*0x1]
006e2034 : MOV EBX,dword ptr [EAX]
006e2036 : MOV dword ptr [ESP + 0x34],ECX
006e203a : TEST ECX,ECX
006e203c : JBE 0x006e2099
006e203e : MOV EDI,EDI
006e2040 : MOVZX EAX,byte ptr [ESI]
006e2043 : MOVZX ECX,byte ptr [ESI + 0x1]
006e2047 : MOV EBP,dword ptr [ESP + 0x18]
006e204b : INC ESI
006e204c : MOVZX EDX,byte ptr [ESI + 0x1]
006e2050 : INC ESI
006e2051 : SHR ECX,0x2
006e2054 : MOV EDI,ECX
006e2056 : SHL EDI,0x5
006e2059 : SHR EAX,0x3
006e205c : MOV EBP,dword ptr [EBP + EAX*0x4]
006e2060 : SHR EDX,0x3
006e2063 : ADD EDI,EDX
006e2065 : LEA EDI,[EBP + EDI*0x2]
006e2069 : INC ESI
006e206a : CMP word ptr [EDI],0x0
006e206e : JNZ 0x006e207f
006e2070 : PUSH EDX
006e2071 : PUSH EAX
006e2072 : MOV EAX,dword ptr [ESP + 0x30]
006e2076 : PUSH EAX
006e2077 : CALL 0x006e1eb0
006e207c : ADD ESP,0xc
006e207f : MOV CL,byte ptr [EDI]
006e2081 : DEC CL
006e2083 : MOV byte ptr [EBX],CL
006e2085 : INC EBX
006e2086 : SUB dword ptr [ESP + 0x34],0x1
006e208b : JNZ 0x006e2040
006e208d : MOV ECX,dword ptr [ESP + 0x1c]
006e2091 : MOV EAX,dword ptr [ESP + 0x10]
006e2095 : MOV EDX,dword ptr [ESP + 0x20]
006e2099 : ADD EAX,0x4
006e209c : SUB dword ptr [ESP + 0x14],0x1
006e20a1 : MOV dword ptr [ESP + 0x10],EAX
006e20a5 : JNZ 0x006e2031
006e20a7 : POP EDI
006e20a8 : POP EBP
006e20a9 : POP EBX
006e20aa : POP ESI
006e20ab : ADD ESP,0x14
006e20ae : RET
