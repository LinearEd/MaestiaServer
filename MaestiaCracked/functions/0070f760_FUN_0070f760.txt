PROGRAM  : Maestia.exe
FUNCTION : FUN_0070f760
ENTRY    : 0070f760
BODY     : [[0070f760, 0070f9ae]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0070f760(int param_1,int param_2,int param_3)

{
  ushort uVar1;
  int iVar2;
  int in_EAX;
  int iVar3;
  
  iVar3 = *(int *)(in_EAX + 0x16b4);
  if (iVar3 < 0xc) {
    *(ushort *)(in_EAX + 0x16b0) =
         *(ushort *)(in_EAX + 0x16b0) | (ushort)(param_1 + -0x101 << ((byte)iVar3 & 0x1f));
    *(int *)(in_EAX + 0x16b4) = iVar3 + 5;
  }
  else {
    *(ushort *)(in_EAX + 0x16b0) =
         *(ushort *)(in_EAX + 0x16b0) | (ushort)(param_1 + -0x101 << ((byte)iVar3 & 0x1f));
    *(undefined1 *)(*(int *)(in_EAX + 0x14) + *(int *)(in_EAX + 8)) =
         *(undefined1 *)(in_EAX + 0x16b0);
    *(int *)(in_EAX + 0x14) = *(int *)(in_EAX + 0x14) + 1;
    *(undefined1 *)(*(int *)(in_EAX + 0x14) + *(int *)(in_EAX + 8)) =
         *(undefined1 *)(in_EAX + 0x16b1);
    iVar3 = *(int *)(in_EAX + 0x16b4);
    *(int *)(in_EAX + 0x14) = *(int *)(in_EAX + 0x14) + 1;
    *(int *)(in_EAX + 0x16b4) = iVar3 + -0xb;
    *(ushort *)(in_EAX + 0x16b0) = (ushort)(param_1 + -0x101) >> (0x10U - (char)iVar3 & 0x1f);
  }
  iVar3 = *(int *)(in_EAX + 0x16b4);
  if (iVar3 < 0xc) {
    *(ushort *)(in_EAX + 0x16b0) =
         *(ushort *)(in_EAX + 0x16b0) | (ushort)(param_2 + -1 << ((byte)iVar3 & 0x1f));
    *(int *)(in_EAX + 0x16b4) = iVar3 + 5;
  }
  else {
    *(ushort *)(in_EAX + 0x16b0) =
         *(ushort *)(in_EAX + 0x16b0) | (ushort)(param_2 + -1 << ((byte)iVar3 & 0x1f));
    *(undefined1 *)(*(int *)(in_EAX + 0x14) + *(int *)(in_EAX + 8)) =
         *(undefined1 *)(in_EAX + 0x16b0);
    *(int *)(in_EAX + 0x14) = *(int *)(in_EAX + 0x14) + 1;
    *(undefined1 *)(*(int *)(in_EAX + 0x14) + *(int *)(in_EAX + 8)) =
         *(undefined1 *)(in_EAX + 0x16b1);
    iVar3 = *(int *)(in_EAX + 0x16b4);
    *(int *)(in_EAX + 0x14) = *(int *)(in_EAX + 0x14) + 1;
    *(int *)(in_EAX + 0x16b4) = iVar3 + -0xb;
    *(ushort *)(in_EAX + 0x16b0) = (ushort)(param_2 + -1) >> (0x10U - (char)iVar3 & 0x1f);
  }
  iVar3 = *(int *)(in_EAX + 0x16b4);
  if (iVar3 < 0xd) {
    *(ushort *)(in_EAX + 0x16b0) =
         *(ushort *)(in_EAX + 0x16b0) | (ushort)(param_3 + -4 << ((byte)iVar3 & 0x1f));
    *(int *)(in_EAX + 0x16b4) = iVar3 + 4;
  }
  else {
    *(ushort *)(in_EAX + 0x16b0) =
         *(ushort *)(in_EAX + 0x16b0) | (ushort)(param_3 + -4 << ((byte)iVar3 & 0x1f));
    *(undefined1 *)(*(int *)(in_EAX + 0x14) + *(int *)(in_EAX + 8)) =
         *(undefined1 *)(in_EAX + 0x16b0);
    *(int *)(in_EAX + 0x14) = *(int *)(in_EAX + 0x14) + 1;
    *(undefined1 *)(*(int *)(in_EAX + 0x14) + *(int *)(in_EAX + 8)) =
         *(undefined1 *)(in_EAX + 0x16b1);
    iVar3 = *(int *)(in_EAX + 0x16b4);
    *(int *)(in_EAX + 0x14) = *(int *)(in_EAX + 0x14) + 1;
    *(int *)(in_EAX + 0x16b4) = iVar3 + -0xc;
    *(ushort *)(in_EAX + 0x16b0) = (ushort)(param_3 + -4) >> (0x10U - (char)iVar3 & 0x1f);
  }
  iVar3 = 0;
  if (0 < param_3) {
    do {
      iVar2 = *(int *)(in_EAX + 0x16b4);
      if (iVar2 < 0xe) {
        *(ushort *)(in_EAX + 0x16b0) =
             *(ushort *)(in_EAX + 0x16b0) |
             *(short *)(in_EAX + 0xa76 + (uint)(byte)(&DAT_00bfda6c)[iVar3] * 4) <<
             ((byte)iVar2 & 0x1f);
        *(int *)(in_EAX + 0x16b4) = iVar2 + 3;
      }
      else {
        uVar1 = *(ushort *)(in_EAX + 0xa76 + (uint)(byte)(&DAT_00bfda6c)[iVar3] * 4);
        *(ushort *)(in_EAX + 0x16b0) = *(ushort *)(in_EAX + 0x16b0) | uVar1 << ((byte)iVar2 & 0x1f);
        *(undefined1 *)(*(int *)(in_EAX + 0x14) + *(int *)(in_EAX + 8)) =
             *(undefined1 *)(in_EAX + 0x16b0);
        *(int *)(in_EAX + 0x14) = *(int *)(in_EAX + 0x14) + 1;
        *(undefined1 *)(*(int *)(in_EAX + 0x14) + *(int *)(in_EAX + 8)) =
             *(undefined1 *)(in_EAX + 0x16b1);
        *(int *)(in_EAX + 0x14) = *(int *)(in_EAX + 0x14) + 1;
        *(ushort *)(in_EAX + 0x16b0) = uVar1 >> (0x10U - (char)*(int *)(in_EAX + 0x16b4) & 0x1f);
        *(int *)(in_EAX + 0x16b4) = *(int *)(in_EAX + 0x16b4) + -0xd;
      }
      iVar3 = iVar3 + 1;
    } while (iVar3 < param_3);
  }
  FUN_0070ebe0(param_1 + -1);
  FUN_0070ebe0(param_2 + -1);
  return;
}



============================================================
DISASSEMBLY
============================================================
0070f760 : PUSH EBP
0070f761 : MOV EBP,ESP
0070f763 : PUSH ECX
0070f764 : MOV ECX,dword ptr [EAX + 0x16b4]
0070f76a : CMP ECX,0xb
0070f76d : PUSH EBX
0070f76e : PUSH ESI
0070f76f : PUSH EDI
0070f770 : MOV EBX,0x1
0070f775 : JLE 0x0070f7d4
0070f777 : MOV ESI,dword ptr [EBP + 0x8]
0070f77a : ADD ESI,0xfffffeff
0070f780 : MOV EDX,ESI
0070f782 : SHL EDX,CL
0070f784 : MOV ECX,dword ptr [EAX + 0x14]
0070f787 : MOV dword ptr [EBP + -0x4],EAX
0070f78a : OR word ptr [EAX + 0x16b0],DX
0070f791 : MOV EDX,dword ptr [EAX + 0x8]
0070f794 : MOV AL,byte ptr [EAX + 0x16b0]
0070f79a : MOV byte ptr [ECX + EDX*0x1],AL
0070f79d : MOV EAX,dword ptr [EBP + -0x4]
0070f7a0 : ADD dword ptr [EAX + 0x14],EBX
0070f7a3 : MOV DL,byte ptr [EAX + 0x16b1]
0070f7a9 : MOV EDI,dword ptr [EAX + 0x14]
0070f7ac : MOV ECX,dword ptr [EAX + 0x8]
0070f7af : MOV byte ptr [EDI + ECX*0x1],DL
0070f7b2 : MOV EDX,dword ptr [EAX + 0x16b4]
0070f7b8 : ADD dword ptr [EAX + 0x14],EBX
0070f7bb : MOV CL,0x10
0070f7bd : SUB CL,DL
0070f7bf : SHR SI,CL
0070f7c2 : ADD EDX,-0xb
0070f7c5 : MOV dword ptr [EAX + 0x16b4],EDX
0070f7cb : MOV word ptr [EAX + 0x16b0],SI
0070f7d2 : JMP 0x0070f7ef
0070f7d4 : MOV EDX,dword ptr [EBP + 0x8]
0070f7d7 : ADD EDX,0xfffffeff
0070f7dd : SHL EDX,CL
0070f7df : OR word ptr [EAX + 0x16b0],DX
0070f7e6 : ADD ECX,0x5
0070f7e9 : MOV dword ptr [EAX + 0x16b4],ECX
0070f7ef : MOV ECX,dword ptr [EAX + 0x16b4]
0070f7f5 : CMP ECX,0xb
0070f7f8 : JLE 0x0070f852
0070f7fa : MOV ESI,dword ptr [EBP + 0xc]
0070f7fd : DEC ESI
0070f7fe : MOV EDX,ESI
0070f800 : SHL EDX,CL
0070f802 : MOV ECX,dword ptr [EAX + 0x14]
0070f805 : MOV dword ptr [EBP + -0x4],EAX
0070f808 : OR word ptr [EAX + 0x16b0],DX
0070f80f : MOV EDX,dword ptr [EAX + 0x8]
0070f812 : MOV AL,byte ptr [EAX + 0x16b0]
0070f818 : MOV byte ptr [ECX + EDX*0x1],AL
0070f81b : MOV EAX,dword ptr [EBP + -0x4]
0070f81e : ADD dword ptr [EAX + 0x14],EBX
0070f821 : MOV DL,byte ptr [EAX + 0x16b1]
0070f827 : MOV EDI,dword ptr [EAX + 0x14]
0070f82a : MOV ECX,dword ptr [EAX + 0x8]
0070f82d : MOV byte ptr [EDI + ECX*0x1],DL
0070f830 : MOV EDX,dword ptr [EAX + 0x16b4]
0070f836 : ADD dword ptr [EAX + 0x14],EBX
0070f839 : MOV CL,0x10
0070f83b : SUB CL,DL
0070f83d : SHR SI,CL
0070f840 : ADD EDX,-0xb
0070f843 : MOV dword ptr [EAX + 0x16b4],EDX
0070f849 : MOV word ptr [EAX + 0x16b0],SI
0070f850 : JMP 0x0070f868
0070f852 : MOV EDX,dword ptr [EBP + 0xc]
0070f855 : DEC EDX
0070f856 : SHL EDX,CL
0070f858 : OR word ptr [EAX + 0x16b0],DX
0070f85f : ADD ECX,0x5
0070f862 : MOV dword ptr [EAX + 0x16b4],ECX
0070f868 : MOV ECX,dword ptr [EAX + 0x16b4]
0070f86e : CMP ECX,0xc
0070f871 : JLE 0x0070f8cd
0070f873 : MOV ESI,dword ptr [EBP + 0x10]
0070f876 : ADD ESI,-0x4
0070f879 : MOV EDX,ESI
0070f87b : SHL EDX,CL
0070f87d : MOV ECX,dword ptr [EAX + 0x14]
0070f880 : MOV dword ptr [EBP + -0x4],EAX
0070f883 : OR word ptr [EAX + 0x16b0],DX
0070f88a : MOV EDX,dword ptr [EAX + 0x8]
0070f88d : MOV AL,byte ptr [EAX + 0x16b0]
0070f893 : MOV byte ptr [ECX + EDX*0x1],AL
0070f896 : MOV EAX,dword ptr [EBP + -0x4]
0070f899 : ADD dword ptr [EAX + 0x14],EBX
0070f89c : MOV DL,byte ptr [EAX + 0x16b1]
0070f8a2 : MOV EDI,dword ptr [EAX + 0x14]
0070f8a5 : MOV ECX,dword ptr [EAX + 0x8]
0070f8a8 : MOV byte ptr [EDI + ECX*0x1],DL
0070f8ab : MOV EDX,dword ptr [EAX + 0x16b4]
0070f8b1 : ADD dword ptr [EAX + 0x14],EBX
0070f8b4 : MOV CL,0x10
0070f8b6 : SUB CL,DL
0070f8b8 : SHR SI,CL
0070f8bb : ADD EDX,-0xc
0070f8be : MOV dword ptr [EAX + 0x16b4],EDX
0070f8c4 : MOV word ptr [EAX + 0x16b0],SI
0070f8cb : JMP 0x0070f8e5
0070f8cd : MOV EDX,dword ptr [EBP + 0x10]
0070f8d0 : ADD EDX,-0x4
0070f8d3 : SHL EDX,CL
0070f8d5 : OR word ptr [EAX + 0x16b0],DX
0070f8dc : ADD ECX,0x4
0070f8df : MOV dword ptr [EAX + 0x16b4],ECX
0070f8e5 : XOR EDI,EDI
0070f8e7 : CMP dword ptr [EBP + 0x10],EDI
0070f8ea : JLE 0x0070f985
0070f8f0 : MOV ECX,dword ptr [EAX + 0x16b4]
0070f8f6 : CMP ECX,0xd
0070f8f9 : MOVZX EDX,byte ptr [EDI + 0xbfda6c]
0070f900 : JLE 0x0070f95f
0070f902 : MOVZX ESI,word ptr [EAX + EDX*0x4 + 0xa76]
0070f90a : MOV EDX,ESI
0070f90c : SHL EDX,CL
0070f90e : MOV ECX,dword ptr [EAX + 0x14]
0070f911 : OR word ptr [EAX + 0x16b0],DX
0070f918 : MOVZX EBX,byte ptr [EAX + 0x16b0]
0070f91f : MOV EDX,dword ptr [EAX + 0x8]
0070f922 : MOV byte ptr [ECX + EDX*0x1],BL
0070f925 : INC dword ptr [EAX + 0x14]
0070f928 : MOVZX EBX,byte ptr [EAX + 0x16b1]
0070f92f : MOV ECX,dword ptr [EAX + 0x14]
0070f932 : MOV EDX,dword ptr [EAX + 0x8]
0070f935 : MOV byte ptr [ECX + EDX*0x1],BL
0070f938 : MOV EDX,dword ptr [EAX + 0x16b4]
0070f93e : MOV CL,0x10
0070f940 : SUB CL,DL
0070f942 : SHR SI,CL
0070f945 : MOV EBX,0x1
0070f94a : ADD dword ptr [EAX + 0x14],EBX
0070f94d : ADD EDX,-0xd
0070f950 : MOV word ptr [EAX + 0x16b0],SI
0070f957 : MOV dword ptr [EAX + 0x16b4],EDX
0070f95d : JMP 0x0070f97a
0070f95f : MOV DX,word ptr [EAX + EDX*0x4 + 0xa76]
0070f967 : SHL DX,CL
0070f96a : OR word ptr [EAX + 0x16b0],DX
0070f971 : ADD ECX,0x3
0070f974 : MOV dword ptr [EAX + 0x16b4],ECX
0070f97a : ADD EDI,EBX
0070f97c : CMP EDI,dword ptr [EBP + 0x10]
0070f97f : JL 0x0070f8f0
0070f985 : MOV ECX,dword ptr [EBP + 0x8]
0070f988 : DEC ECX
0070f989 : PUSH ECX
0070f98a : LEA EDX,[EAX + 0x8c]
0070f990 : CALL 0x0070ebe0
0070f995 : MOV EDX,dword ptr [EBP + 0xc]
0070f998 : DEC EDX
0070f999 : PUSH EDX
0070f99a : LEA EDX,[EAX + 0x980]
0070f9a0 : CALL 0x0070ebe0
0070f9a5 : ADD ESP,0x8
0070f9a8 : POP EDI
0070f9a9 : POP ESI
0070f9aa : POP EBX
0070f9ab : MOV ESP,EBP
0070f9ad : POP EBP
0070f9ae : RET
