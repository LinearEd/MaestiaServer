PROGRAM  : Maestia.exe
FUNCTION : FUN_007e5240
ENTRY    : 007e5240
BODY     : [[007e5240, 007e5292] [007e5299, 007e52a7] [007e52ae, 007e52bc] [007e52c3, 007e52d1] [007e52d8, 007e5394] [007e539e, 007e53b7] [007e53be, 007e53cc] [007e53d3, 007e542a] [007e5435, 007e547c] [007e5483, 007e548c] [007e5490, 007e54af] [007e54b6, 007e54da] [007e54e1, 007e5508]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x007e535b) */
/* WARNING: Removing unreachable block (ram,0x007e545a) */

void FUN_007e5240(void)

{
  int *piVar1;
  void *pvVar2;
  uint uVar3;
  undefined4 *in_ECX;
  int iVar4;
  char *pcVar5;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b32338;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *in_ECX = &PTR_FUN_00cd48dc;
  local_8 = 0x1b;
  if (in_ECX[0xab1] != 0) {
    FUN_0077aac0(in_ECX[0xab1]);
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if (in_ECX[0xa9f] != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if (in_ECX[0xaa0] != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if (in_ECX[0xaa1] != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  FUN_008018d0(L"[AvaTerrainSceneMgr::Clear]",uVar3);
  FUN_007e4710();
  FUN_00784630();
  FUN_007e4560();
  FUN_007e3c40();
  FUN_007e0770(in_ECX);
  uVar3 = 0;
  if ((int)(in_ECX[0xaa8] - in_ECX[0xaa7]) >> 2 != 0) {
    do {
      uVar3 = uVar3 + 1;
    } while (uVar3 < (uint)((int)(in_ECX[0xaa8] - in_ECX[0xaa7]) >> 2));
  }
  if (in_ECX[0xaa7] != in_ECX[0xaa8]) {
    in_ECX[0xaa8] = in_ECX[0xaa7];
  }
  if (in_ECX[0x3f] != 0) {
    iVar4 = 0;
    do {
      if (*(int *)(iVar4 + in_ECX[0x3f]) != 0) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      iVar4 = iVar4 + 4;
    } while (iVar4 < 0x200);
    if (in_ECX[0x3f] != 0) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
  }
  if (in_ECX[0x3e] != 0) {
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
  if ((undefined4 *)in_ECX[0x39] != (undefined4 *)0x0) {
    (*(code *)**(undefined4 **)in_ECX[0x39])(1);
    in_ECX[0x39] = 0;
  }
  if ((undefined4 *)in_ECX[0x3a] != (undefined4 *)0x0) {
    (*(code *)**(undefined4 **)in_ECX[0x3a])(1);
    in_ECX[0x3a] = 0;
  }
  piVar1 = (int *)in_ECX[0x3c];
  iVar4 = *piVar1;
  *piVar1 = (int)piVar1;
  *(undefined4 *)(in_ECX[0x3c] + 4) = in_ECX[0x3c];
  in_ECX[0x3d] = 0;
  if (iVar4 == in_ECX[0x3c]) {
    if (in_ECX[0x87] != in_ECX[0x88]) {
      in_ECX[0x88] = in_ECX[0x87];
    }
    if (DAT_00da9ab4 == 0) {
      iVar4 = 0;
      pcVar5 = (char *)(in_ECX + 0x9d);
      do {
        *pcVar5 = (char)iVar4 + '\x01';
        iVar4 = iVar4 + 1;
        pcVar5 = pcVar5 + 0x28;
      } while (iVar4 < 0x100);
      if (in_ECX[0xa9d] == 0) {
        pvVar2 = (void *)in_ECX[0xa9e];
        if (pvVar2 == (void *)0x0) {
          local_8 = CONCAT31((int3)((uint)local_8 >> 8),0x1a);
          FUN_0042b200(*(undefined4 *)in_ECX[0xb09],(undefined4 *)in_ECX[0xb09]);
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        _eh_vector_destructor_iterator_(pvVar2,0x14,*(int *)((int)pvVar2 + -4),FUN_0045c320);
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
                    /* WARNING: Subroutine does not return */
    FUN_006f04e0();
  }
                    /* WARNING: Subroutine does not return */
  FUN_006f04e0();
}



============================================================
DISASSEMBLY
============================================================
007e5240 : PUSH EBP
007e5241 : MOV EBP,ESP
007e5243 : PUSH -0x1
007e5245 : PUSH 0xb32338
007e524a : MOV EAX,FS:[0x0]
007e5250 : PUSH EAX
007e5251 : SUB ESP,0x8
007e5254 : PUSH EBX
007e5255 : PUSH ESI
007e5256 : PUSH EDI
007e5257 : MOV EAX,[0x00d66fa0]
007e525c : XOR EAX,EBP
007e525e : PUSH EAX
007e525f : LEA EAX,[EBP + -0xc]
007e5262 : MOV FS:[0x0],EAX
007e5268 : MOV EBX,ECX
007e526a : MOV dword ptr [EBP + -0x10],EBX
007e526d : MOV dword ptr [EBX],0xcd48dc
007e5273 : MOV dword ptr [EBP + -0x4],0x1b
007e527a : MOV ESI,dword ptr [EBX + 0x2ac4]
007e5280 : XOR EDI,EDI
007e5282 : CMP ESI,EDI
007e5284 : JZ 0x007e5299
007e5286 : PUSH ESI
007e5287 : CALL 0x0077aac0
007e528c : MOV ECX,ESI
007e528e : CALL 0x006f04e0
007e5299 : MOV ECX,dword ptr [EBX + 0x2a7c]
007e529f : CMP ECX,EDI
007e52a1 : JZ 0x007e52ae
007e52a3 : CALL 0x006f04e0
007e52ae : MOV ECX,dword ptr [EBX + 0x2a80]
007e52b4 : CMP ECX,EDI
007e52b6 : JZ 0x007e52c3
007e52b8 : CALL 0x006f04e0
007e52c3 : MOV ECX,dword ptr [EBX + 0x2a84]
007e52c9 : CMP ECX,EDI
007e52cb : JZ 0x007e52d8
007e52cd : CALL 0x006f04e0
007e52d8 : MOV ESI,dword ptr [0x00da98e8]
007e52de : PUSH 0xc22758
007e52e3 : CALL 0x008018d0
007e52e8 : ADD ESP,0x4
007e52eb : MOV EDI,EBX
007e52ed : CALL 0x007e4710
007e52f2 : MOV ECX,EBX
007e52f4 : CALL 0x00784630
007e52f9 : MOV ESI,EBX
007e52fb : CALL 0x007e4560
007e5300 : CALL 0x007e3c40
007e5305 : PUSH EBX
007e5306 : CALL 0x007e0770
007e530b : MOV ECX,dword ptr [EBX + 0x2aa0]
007e5311 : SUB ECX,dword ptr [EBX + 0x2a9c]
007e5317 : XOR EDI,EDI
007e5319 : SAR ECX,0x2
007e531c : XOR EAX,EAX
007e531e : TEST ECX,ECX
007e5320 : JBE 0x007e5336
007e5322 : MOV ECX,dword ptr [EBX + 0x2aa0]
007e5328 : SUB ECX,dword ptr [EBX + 0x2a9c]
007e532e : SAR ECX,0x2
007e5331 : INC EAX
007e5332 : CMP EAX,ECX
007e5334 : JC 0x007e5331
007e5336 : MOV ECX,dword ptr [EBX + 0x2aa0]
007e533c : MOV ESI,dword ptr [EBX + 0x2a9c]
007e5342 : CMP ESI,ECX
007e5344 : JZ 0x007e536f
007e5346 : MOV EAX,ECX
007e5348 : SUB EAX,ECX
007e534a : SAR EAX,0x2
007e534d : LEA EDX,[EAX*0x4 + 0x0]
007e5354 : LEA EDI,[EDX + ESI*0x1]
007e5357 : TEST EAX,EAX
007e5359 : JLE 0x007e5367
007e535b : PUSH EDX
007e535c : PUSH ECX
007e535d : PUSH EDX
007e535e : PUSH ESI
007e535f : CALL 0x00634101
007e5364 : ADD ESP,0x10
007e5367 : MOV dword ptr [EBX + 0x2aa0],EDI
007e536d : XOR EDI,EDI
007e536f : CMP dword ptr [EBX + 0xfc],EDI
007e5375 : JZ 0x007e53be
007e5377 : XOR ESI,ESI
007e5379 : LEA ESP,[ESP]
007e5380 : MOV EDX,dword ptr [EBX + 0xfc]
007e5386 : CMP dword ptr [ESI + EDX*0x1],EDI
007e5389 : LEA EAX,[ESI + EDX*0x1]
007e538c : JZ 0x007e539e
007e538e : MOV ECX,dword ptr [EAX]
007e5390 : CALL 0x006f04e0
007e539e : ADD ESI,0x4
007e53a1 : CMP ESI,0x200
007e53a7 : JL 0x007e5380
007e53a9 : MOV ECX,dword ptr [EBX + 0xfc]
007e53af : CMP ECX,EDI
007e53b1 : JZ 0x007e53be
007e53b3 : CALL 0x006f04e0
007e53be : MOV ECX,dword ptr [EBX + 0xf8]
007e53c4 : CMP ECX,EDI
007e53c6 : JZ 0x007e53d3
007e53c8 : CALL 0x006f04e0
007e53d3 : MOV ECX,dword ptr [EBX + 0xe4]
007e53d9 : CMP ECX,EDI
007e53db : JZ 0x007e53eb
007e53dd : MOV EDX,dword ptr [ECX]
007e53df : MOV EAX,dword ptr [EDX]
007e53e1 : PUSH 0x1
007e53e3 : CALL EAX
007e53e5 : MOV dword ptr [EBX + 0xe4],EDI
007e53eb : MOV ECX,dword ptr [EBX + 0xe8]
007e53f1 : CMP ECX,EDI
007e53f3 : JZ 0x007e5403
007e53f5 : MOV EDX,dword ptr [ECX]
007e53f7 : MOV EAX,dword ptr [EDX]
007e53f9 : PUSH 0x1
007e53fb : CALL EAX
007e53fd : MOV dword ptr [EBX + 0xe8],EDI
007e5403 : MOV EAX,dword ptr [EBX + 0xf0]
007e5409 : MOV ECX,dword ptr [EAX]
007e540b : MOV dword ptr [EAX],EAX
007e540d : MOV EAX,dword ptr [EBX + 0xf0]
007e5413 : MOV dword ptr [EAX + 0x4],EAX
007e5416 : MOV dword ptr [EBX + 0xf4],EDI
007e541c : CMP ECX,dword ptr [EBX + 0xf0]
007e5422 : JZ 0x007e5435
007e5424 : MOV ESI,dword ptr [ECX]
007e5426 : CALL 0x006f04e0
007e5435 : MOV ECX,dword ptr [EBX + 0x220]
007e543b : MOV ESI,dword ptr [EBX + 0x21c]
007e5441 : CMP ESI,ECX
007e5443 : JZ 0x007e546e
007e5445 : MOV EAX,ECX
007e5447 : SUB EAX,ECX
007e5449 : SAR EAX,0x2
007e544c : LEA EDX,[EAX*0x4 + 0x0]
007e5453 : LEA EDI,[EDX + ESI*0x1]
007e5456 : TEST EAX,EAX
007e5458 : JLE 0x007e5466
007e545a : PUSH EDX
007e545b : PUSH ECX
007e545c : PUSH EDX
007e545d : PUSH ESI
007e545e : CALL 0x00634101
007e5463 : ADD ESP,0x10
007e5466 : MOV dword ptr [EBX + 0x220],EDI
007e546c : XOR EDI,EDI
007e546e : MOV ECX,dword ptr [0x00da9ab4]
007e5474 : CMP ECX,EDI
007e5476 : JZ 0x007e5483
007e5478 : CALL 0x006f04e0
007e5483 : XOR EAX,EAX
007e5485 : LEA ESI,[EBX + 0x274]
007e548b : JMP 0x007e5490
007e5490 : MOV CL,AL
007e5492 : INC CL
007e5494 : MOV byte ptr [ESI],CL
007e5496 : INC EAX
007e5497 : ADD ESI,0x28
007e549a : CMP EAX,0x100
007e549f : JL 0x007e5490
007e54a1 : MOV ECX,dword ptr [EBX + 0x2a74]
007e54a7 : CMP ECX,EDI
007e54a9 : JZ 0x007e54b6
007e54ab : CALL 0x006f04e0
007e54b6 : MOV EAX,dword ptr [EBX + 0x2a78]
007e54bc : CMP EAX,EDI
007e54be : JZ 0x007e54e1
007e54c0 : MOV EDX,dword ptr [EAX + -0x4]
007e54c3 : LEA ESI,[EAX + -0x4]
007e54c6 : PUSH 0x45c320
007e54cb : PUSH EDX
007e54cc : PUSH 0x14
007e54ce : PUSH EAX
007e54cf : CALL 0x0063625e
007e54d4 : MOV ECX,ESI
007e54d6 : CALL 0x006f04e0
007e54e1 : MOV AL,0x1a
007e54e3 : MOV byte ptr [EBP + -0x4],AL
007e54e6 : LEA ESI,[EBX + 0x2c20]
007e54ec : MOV dword ptr [EBP + -0x14],ESI
007e54ef : MOV byte ptr [EBP + -0x4],AL
007e54f2 : MOV EAX,dword ptr [ESI + 0x4]
007e54f5 : MOV ECX,dword ptr [EAX]
007e54f7 : PUSH EAX
007e54f8 : PUSH ECX
007e54f9 : LEA EDI,[EBP + -0x14]
007e54fc : CALL 0x0042b200
007e5501 : MOV ECX,dword ptr [ESI + 0x4]
007e5504 : CALL 0x006f04e0
