PROGRAM  : Maestia.exe
FUNCTION : FUN_0086e020
ENTRY    : 0086e020
BODY     : [[0086e020, 0086e235]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0086e020(int param_1,uint param_2,char param_3,int param_4)

{
  char cVar1;
  short sVar2;
  int iVar3;
  int *piVar4;
  int in_ECX;
  uint uVar5;
  
  *(char *)(param_1 + 0x29) = (char)param_4;
  if ((char)param_2 == '\0') {
    if (param_3 != '\0') {
      uVar5 = (uint)*(ushort *)(param_1 + 0x2a);
      param_4 = *(int *)(*(int *)(in_ECX + -0x1ef4) + 4) + in_ECX;
      param_2 = uVar5;
      piVar4 = (int *)FUN_00440100(&param_2);
      if (*piVar4 != *(int *)(*(int *)(param_4 + -0x1ef0) + 0x30)) {
        return 0;
      }
      param_2 = uVar5;
      piVar4 = (int *)FUN_00440100(&param_2);
      if (*piVar4 != *(int *)(*(int *)(param_4 + -0x1eec) + 0x30)) {
        return 0;
      }
      cVar1 = FUN_00440170(uVar5);
      if (cVar1 == '\0') {
        return 0;
      }
    }
    sVar2 = FUN_0043d970();
    if (sVar2 == 1000) {
      *(int *)(*(int *)(*(int *)(in_ECX + -0x1ef4) + 4) + -0x1ee4 + in_ECX) = param_1;
      return 1;
    }
    if (sVar2 == 2000) {
      *(int *)(*(int *)(*(int *)(in_ECX + -0x1ef4) + 4) + -0x1ee0 + in_ECX) = param_1;
      return 1;
    }
    if (sVar2 == 3000) {
      *(int *)(*(int *)(*(int *)(in_ECX + -0x1ef4) + 4) + -0x1edc + in_ECX) = param_1;
    }
  }
  else {
    sVar2 = FUN_0043d970();
    if (sVar2 == 1000) {
      iVar3 = *(int *)(*(int *)(in_ECX + -0x1ef4) + 4) + in_ECX;
      if ((*(int *)(iVar3 + -0x1ef0) != param_1) || ((char)param_4 != '\0')) {
        *(int *)(iVar3 + -0x1ee4) = param_1;
      }
      iVar3 = *(int *)(*(int *)(*(int *)(in_ECX + -0x1ef4) + 4) + -0x1ef0 + in_ECX);
      if (iVar3 != 0) {
        *(undefined1 *)(iVar3 + 5) = 1;
        return 1;
      }
    }
    else if (sVar2 == 2000) {
      iVar3 = *(int *)(*(int *)(in_ECX + -0x1ef4) + 4) + in_ECX;
      if ((*(int *)(iVar3 + -0x1eec) != param_1) || ((char)param_4 != '\0')) {
        *(int *)(iVar3 + -0x1ee0) = param_1;
      }
      iVar3 = *(int *)(*(int *)(*(int *)(in_ECX + -0x1ef4) + 4) + -0x1eec + in_ECX);
      if (iVar3 != 0) {
        *(undefined1 *)(iVar3 + 5) = 1;
        return 1;
      }
    }
    else if (sVar2 == 3000) {
      iVar3 = *(int *)(*(int *)(in_ECX + -0x1ef4) + 4) + in_ECX;
      if ((*(int *)(iVar3 + -0x1ee8) != param_1) || ((char)param_4 != '\0')) {
        *(int *)(iVar3 + -0x1edc) = param_1;
      }
      iVar3 = *(int *)(*(int *)(*(int *)(in_ECX + -0x1ef4) + 4) + -0x1ee8 + in_ECX);
      if (iVar3 != 0) {
        *(undefined1 *)(iVar3 + 5) = 1;
        return 1;
      }
    }
  }
  return 1;
}



============================================================
DISASSEMBLY
============================================================
0086e020 : PUSH EBP
0086e021 : MOV EBP,ESP
0086e023 : CMP byte ptr [EBP + 0xc],0x0
0086e027 : MOV AL,byte ptr [EBP + 0x14]
0086e02a : PUSH EBX
0086e02b : MOV EBX,dword ptr [EBP + 0x8]
0086e02e : PUSH ESI
0086e02f : PUSH EDI
0086e030 : MOV EDI,ECX
0086e032 : MOV byte ptr [EBX + 0x29],AL
0086e035 : JZ 0x0086e132
0086e03b : MOV AX,word ptr [EBX + 0x2a]
0086e03f : CALL 0x0043d970
0086e044 : MOV ECX,0x3e8
0086e049 : CMP AX,CX
0086e04c : JNZ 0x0086e092
0086e04e : MOV EDX,dword ptr [EDI + 0xffffe10c]
0086e054 : MOV EAX,dword ptr [EDX + 0x4]
0086e057 : ADD EAX,EDI
0086e059 : CMP dword ptr [EAX + 0xffffe110],EBX
0086e05f : JNZ 0x0086e067
0086e061 : CMP byte ptr [EBP + 0x14],0x0
0086e065 : JZ 0x0086e06d
0086e067 : MOV dword ptr [EAX + 0xffffe11c],EBX
0086e06d : MOV ECX,dword ptr [EDI + 0xffffe10c]
0086e073 : MOV EDX,dword ptr [ECX + 0x4]
0086e076 : MOV EDI,dword ptr [EDX + EDI*0x1 + 0xffffe110]
0086e07d : TEST EDI,EDI
0086e07f : JZ 0x0086e22d
0086e085 : MOV byte ptr [EDI + 0x5],0x1
0086e089 : POP EDI
0086e08a : POP ESI
0086e08b : MOV AL,0x1
0086e08d : POP EBX
0086e08e : POP EBP
0086e08f : RET 0x10
0086e092 : MOV ECX,0x7d0
0086e097 : CMP AX,CX
0086e09a : JNZ 0x0086e0e0
0086e09c : MOV EDX,dword ptr [EDI + 0xffffe10c]
0086e0a2 : MOV EAX,dword ptr [EDX + 0x4]
0086e0a5 : ADD EAX,EDI
0086e0a7 : CMP dword ptr [EAX + 0xffffe114],EBX
0086e0ad : JNZ 0x0086e0b5
0086e0af : CMP byte ptr [EBP + 0x14],0x0
0086e0b3 : JZ 0x0086e0bb
0086e0b5 : MOV dword ptr [EAX + 0xffffe120],EBX
0086e0bb : MOV ECX,dword ptr [EDI + 0xffffe10c]
0086e0c1 : MOV EDX,dword ptr [ECX + 0x4]
0086e0c4 : MOV EDI,dword ptr [EDX + EDI*0x1 + 0xffffe114]
0086e0cb : TEST EDI,EDI
0086e0cd : JZ 0x0086e22d
0086e0d3 : MOV byte ptr [EDI + 0x5],0x1
0086e0d7 : POP EDI
0086e0d8 : POP ESI
0086e0d9 : MOV AL,0x1
0086e0db : POP EBX
0086e0dc : POP EBP
0086e0dd : RET 0x10
0086e0e0 : MOV ECX,0xbb8
0086e0e5 : CMP AX,CX
0086e0e8 : JNZ 0x0086e22d
0086e0ee : MOV EDX,dword ptr [EDI + 0xffffe10c]
0086e0f4 : MOV EAX,dword ptr [EDX + 0x4]
0086e0f7 : ADD EAX,EDI
0086e0f9 : CMP dword ptr [EAX + 0xffffe118],EBX
0086e0ff : JNZ 0x0086e107
0086e101 : CMP byte ptr [EBP + 0x14],0x0
0086e105 : JZ 0x0086e10d
0086e107 : MOV dword ptr [EAX + 0xffffe124],EBX
0086e10d : MOV ECX,dword ptr [EDI + 0xffffe10c]
0086e113 : MOV EDX,dword ptr [ECX + 0x4]
0086e116 : MOV EDI,dword ptr [EDX + EDI*0x1 + 0xffffe118]
0086e11d : TEST EDI,EDI
0086e11f : JZ 0x0086e22d
0086e125 : MOV byte ptr [EDI + 0x5],0x1
0086e129 : POP EDI
0086e12a : POP ESI
0086e12b : MOV AL,0x1
0086e12d : POP EBX
0086e12e : POP EBP
0086e12f : RET 0x10
0086e132 : CMP byte ptr [EBP + 0x10],0x0
0086e136 : JZ 0x0086e1c4
0086e13c : MOVZX ESI,word ptr [EBX + 0x2a]
0086e140 : MOV ECX,dword ptr [EDI + 0xffffe10c]
0086e146 : MOV EDX,dword ptr [ECX + 0x4]
0086e149 : MOVZX EAX,SI
0086e14c : MOV dword ptr [EBP + 0xc],EAX
0086e14f : LEA EAX,[EDX + EDI*0x1]
0086e152 : MOV dword ptr [EBP + 0x14],EAX
0086e155 : MOV EAX,dword ptr [EAX + 0xffffe110]
0086e15b : LEA ECX,[EBP + 0xc]
0086e15e : PUSH ECX
0086e15f : LEA ECX,[EAX + 0x2c]
0086e162 : LEA EAX,[EBP + 0x10]
0086e165 : CALL 0x00440100
0086e16a : MOV EDX,dword ptr [EAX]
0086e16c : MOV EAX,dword ptr [EBP + 0x14]
0086e16f : MOV EAX,dword ptr [EAX + 0xffffe110]
0086e175 : CMP EDX,dword ptr [EAX + 0x30]
0086e178 : JZ 0x0086e183
0086e17a : POP EDI
0086e17b : POP ESI
0086e17c : XOR AL,AL
0086e17e : POP EBX
0086e17f : POP EBP
0086e180 : RET 0x10
0086e183 : MOV EDX,dword ptr [EBP + 0x14]
0086e186 : MOV EAX,dword ptr [EDX + 0xffffe114]
0086e18c : MOVZX ECX,SI
0086e18f : MOV dword ptr [EBP + 0xc],ECX
0086e192 : LEA ECX,[EBP + 0xc]
0086e195 : PUSH ECX
0086e196 : LEA ECX,[EAX + 0x2c]
0086e199 : LEA EAX,[EBP + 0x10]
0086e19c : CALL 0x00440100
0086e1a1 : MOV EDX,dword ptr [EAX]
0086e1a3 : MOV EAX,dword ptr [EBP + 0x14]
0086e1a6 : MOV EAX,dword ptr [EAX + 0xffffe114]
0086e1ac : CMP EDX,dword ptr [EAX + 0x30]
0086e1af : JNZ 0x0086e17a
0086e1b1 : MOV ECX,dword ptr [EBP + 0x14]
0086e1b4 : PUSH ESI
0086e1b5 : MOV ESI,dword ptr [ECX + 0xffffe118]
0086e1bb : CALL 0x00440170
0086e1c0 : TEST AL,AL
0086e1c2 : JZ 0x0086e17a
0086e1c4 : MOV AX,word ptr [EBX + 0x2a]
0086e1c8 : CALL 0x0043d970
0086e1cd : MOV EDX,0x3e8
0086e1d2 : CMP AX,DX
0086e1d5 : JNZ 0x0086e1f0
0086e1d7 : MOV EAX,dword ptr [EDI + 0xffffe10c]
0086e1dd : MOV ECX,dword ptr [EAX + 0x4]
0086e1e0 : MOV dword ptr [ECX + EDI*0x1 + 0xffffe11c],EBX
0086e1e7 : POP EDI
0086e1e8 : POP ESI
0086e1e9 : MOV AL,0x1
0086e1eb : POP EBX
0086e1ec : POP EBP
0086e1ed : RET 0x10
0086e1f0 : MOV EDX,0x7d0
0086e1f5 : CMP AX,DX
0086e1f8 : JNZ 0x0086e213
0086e1fa : MOV EAX,dword ptr [EDI + 0xffffe10c]
0086e200 : MOV ECX,dword ptr [EAX + 0x4]
0086e203 : MOV dword ptr [ECX + EDI*0x1 + 0xffffe120],EBX
0086e20a : POP EDI
0086e20b : POP ESI
0086e20c : MOV AL,0x1
0086e20e : POP EBX
0086e20f : POP EBP
0086e210 : RET 0x10
0086e213 : MOV EDX,0xbb8
0086e218 : CMP AX,DX
0086e21b : JNZ 0x0086e22d
0086e21d : MOV EAX,dword ptr [EDI + 0xffffe10c]
0086e223 : MOV ECX,dword ptr [EAX + 0x4]
0086e226 : MOV dword ptr [ECX + EDI*0x1 + 0xffffe124],EBX
0086e22d : POP EDI
0086e22e : POP ESI
0086e22f : MOV AL,0x1
0086e231 : POP EBX
0086e232 : POP EBP
0086e233 : RET 0x10
