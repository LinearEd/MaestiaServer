PROGRAM  : Maestia.exe
FUNCTION : FUN_00555f10
ENTRY    : 00555f10
BODY     : [[00555f10, 005560d9]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00555f10(int *param_1,int *param_2)

{
  byte bVar1;
  int *in_ECX;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  float local_98;
  float local_94;
  float local_90;
  float local_8c;
  undefined4 local_88;
  undefined4 local_84;
  undefined4 local_80;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  int *local_70;
  undefined4 local_6c;
  undefined4 local_68;
  undefined4 local_64;
  undefined4 local_60;
  undefined4 local_5c;
  undefined4 local_58;
  undefined4 local_54;
  undefined4 local_50;
  undefined4 local_4c [8];
  undefined4 local_2c;
  undefined4 local_28;
  undefined4 local_24;
  undefined4 local_20 [8];
  
  puVar3 = (undefined4 *)param_1[0x10];
  local_88 = *puVar3;
  local_84 = puVar3[1];
  local_80 = puVar3[2];
  local_7c = puVar3[3];
  local_78 = puVar3[4];
  local_74 = puVar3[5];
  GMatrix2D::Prepend((GMatrix2D *)&local_88,(GMatrix2D *)(param_2 + 0x11));
  puVar3 = (undefined4 *)param_1[0x11];
  puVar4 = local_20;
  for (iVar2 = 8; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  FUN_0059cfa0(param_2 + 9);
  local_2c = FUN_0051cef0();
  local_64 = local_88;
  local_70 = param_1;
  bVar1 = *(byte *)(in_ECX + 9);
  local_60 = local_84;
  local_5c = local_80;
  local_58 = local_7c;
  local_6c = 0;
  local_68 = 0;
  local_54 = local_78;
  local_50 = local_74;
  puVar3 = local_20;
  puVar4 = local_4c;
  for (iVar2 = 8; iVar2 != 0; iVar2 = iVar2 + -1) {
    *puVar4 = *puVar3;
    puVar3 = puVar3 + 1;
    puVar4 = puVar4 + 1;
  }
  local_28 = 0;
  local_24 = 0;
  if ((bVar1 & 0x10) != 0) {
    local_98 = 0.0;
    local_94 = 0.0;
    local_90 = 0.0;
    local_8c = 0.0;
    GMatrix2D::EncloseTransform
              ((GMatrix2D *)&local_64,(GRect<float> *)&local_98,(GRect<float> *)(in_ECX + 1));
    iVar2 = (**(code **)(*param_2 + 0x40))();
    if (((((local_94 < *(float *)(iVar2 + 0xd4) == (local_94 == *(float *)(iVar2 + 0xd4))) ||
          (*(float *)(iVar2 + 0xcc) < local_8c == (*(float *)(iVar2 + 0xcc) == local_8c))) ||
         (*(float *)(iVar2 + 200) < local_90 == (*(float *)(iVar2 + 200) == local_90))) ||
        (local_98 < *(float *)(iVar2 + 0xd0) == (local_98 == *(float *)(iVar2 + 0xd0)))) &&
       ((*(uint *)(*param_1 + 0x14) & 0x100) == 0)) {
      return;
    }
  }
  if ((*(byte *)(in_ECX + 9) & 0x40) != 0) {
    (**(code **)(*in_ECX + 0x30))(&local_6c,&local_28,&local_68,&local_24);
  }
  FUN_00554ad0(&local_70,(short)param_2[0x19] != 0,param_2);
  return;
}



============================================================
DISASSEMBLY
============================================================
00555f10 : SUB ESP,0x98
00555f16 : PUSH EBX
00555f17 : MOV EBX,dword ptr [ESP + 0xa4]
00555f1e : PUSH EBP
00555f1f : PUSH ESI
00555f20 : MOV ESI,dword ptr [ESP + 0xa8]
00555f27 : MOV EAX,dword ptr [ESI + 0x40]
00555f2a : FLD float ptr [EAX]
00555f2c : PUSH EDI
00555f2d : FSTP float ptr [ESP + 0x20]
00555f31 : MOV EBP,ECX
00555f33 : FLD float ptr [EAX + 0x4]
00555f36 : LEA ECX,[ESP + 0x20]
00555f3a : FSTP float ptr [ESP + 0x24]
00555f3e : FLD float ptr [EAX + 0x8]
00555f41 : FSTP float ptr [ESP + 0x28]
00555f45 : FLD float ptr [EAX + 0xc]
00555f48 : FSTP float ptr [ESP + 0x2c]
00555f4c : FLD float ptr [EAX + 0x10]
00555f4f : FSTP float ptr [ESP + 0x30]
00555f53 : FLD float ptr [EAX + 0x14]
00555f56 : LEA EAX,[EBX + 0x44]
00555f59 : PUSH EAX
00555f5a : FSTP float ptr [ESP + 0x38]
00555f5e : CALL 0x00522e20
00555f63 : MOV ESI,dword ptr [ESI + 0x44]
00555f66 : MOV ECX,0x8
00555f6b : LEA EDI,[ESP + 0x88]
00555f72 : MOVSD.REP ES:EDI,ESI
00555f74 : LEA ECX,[EBX + 0x24]
00555f77 : PUSH ECX
00555f78 : LEA ECX,[ESP + 0x8c]
00555f7f : CALL 0x0059cfa0
00555f84 : MOV ECX,EBX
00555f86 : CALL 0x0051cef0
00555f8b : FLD float ptr [ESP + 0x20]
00555f8f : MOV EDX,dword ptr [ESP + 0xac]
00555f96 : FSTP float ptr [ESP + 0x44]
00555f9a : MOV dword ptr [ESP + 0x38],EDX
00555f9e : FLD float ptr [ESP + 0x24]
00555fa2 : XOR EDX,EDX
00555fa4 : TEST byte ptr [EBP + 0x24],0x10
00555fa8 : FSTP float ptr [ESP + 0x48]
00555fac : FLD float ptr [ESP + 0x28]
00555fb0 : MOV ECX,0x8
00555fb5 : FSTP float ptr [ESP + 0x4c]
00555fb9 : LEA ESI,[ESP + 0x88]
00555fc0 : FLD float ptr [ESP + 0x2c]
00555fc4 : LEA EDI,[ESP + 0x5c]
00555fc8 : FSTP float ptr [ESP + 0x50]
00555fcc : MOV dword ptr [ESP + 0x3c],EDX
00555fd0 : FLD float ptr [ESP + 0x30]
00555fd4 : MOV dword ptr [ESP + 0x40],EDX
00555fd8 : FSTP float ptr [ESP + 0x54]
00555fdc : FLD float ptr [ESP + 0x34]
00555fe0 : FSTP float ptr [ESP + 0x58]
00555fe4 : MOVSD.REP ES:EDI,ESI
00555fe6 : MOV dword ptr [ESP + 0x7c],EAX
00555fea : MOV dword ptr [ESP + 0x80],EDX
00555ff1 : MOV dword ptr [ESP + 0x84],EDX
00555ff8 : JZ 0x00556089
00555ffe : FLDZ
00556000 : LEA EAX,[EBP + 0x4]
00556003 : FST float ptr [ESP + 0x10]
00556007 : PUSH EAX
00556008 : LEA ECX,[ESP + 0x14]
0055600c : FST float ptr [ESP + 0x18]
00556010 : PUSH ECX
00556011 : FST float ptr [ESP + 0x20]
00556015 : LEA ECX,[ESP + 0x4c]
00556019 : FSTP float ptr [ESP + 0x24]
0055601d : CALL 0x005231d0
00556022 : MOV EDX,dword ptr [EBX]
00556024 : MOV EAX,dword ptr [EDX + 0x40]
00556027 : MOV ECX,EBX
00556029 : CALL EAX
0055602b : MOV ECX,EAX
0055602d : FLD float ptr [ECX + 0xd4]
00556033 : ADD ECX,0xc8
00556039 : FLD float ptr [ESP + 0x14]
0055603d : FCOMPP
0055603f : FNSTSW AX
00556041 : TEST AH,0x41
00556044 : JP 0x00556075
00556046 : FLD float ptr [ESP + 0x1c]
0055604a : FLD float ptr [ECX + 0x4]
0055604d : FCOMPP
0055604f : FNSTSW AX
00556051 : TEST AH,0x41
00556054 : JP 0x00556075
00556056 : FLD float ptr [ESP + 0x18]
0055605a : FLD float ptr [ECX]
0055605c : FCOMPP
0055605e : FNSTSW AX
00556060 : TEST AH,0x41
00556063 : JP 0x00556075
00556065 : FLD float ptr [ECX + 0x8]
00556068 : FLD float ptr [ESP + 0x10]
0055606c : FCOMPP
0055606e : FNSTSW AX
00556070 : TEST AH,0x41
00556073 : JNP 0x00556087
00556075 : MOV ECX,dword ptr [ESP + 0xac]
0055607c : MOV EDX,dword ptr [ECX]
0055607e : TEST dword ptr [EDX + 0x14],0x100
00556085 : JZ 0x005560cd
00556087 : XOR EDX,EDX
00556089 : TEST byte ptr [EBP + 0x24],0x40
0055608d : JZ 0x005560b5
0055608f : MOV EAX,dword ptr [EBP]
00556092 : MOV EAX,dword ptr [EAX + 0x30]
00556095 : LEA ECX,[ESP + 0x84]
0055609c : PUSH ECX
0055609d : LEA EDX,[ESP + 0x44]
005560a1 : PUSH EDX
005560a2 : LEA ECX,[ESP + 0x88]
005560a9 : PUSH ECX
005560aa : LEA EDX,[ESP + 0x48]
005560ae : PUSH EDX
005560af : MOV ECX,EBP
005560b1 : CALL EAX
005560b3 : XOR EDX,EDX
005560b5 : CMP word ptr [EBX + 0x64],DX
005560b9 : PUSH EBX
005560ba : SETA CL
005560bd : MOVZX EDX,CL
005560c0 : PUSH EDX
005560c1 : LEA EAX,[ESP + 0x40]
005560c5 : PUSH EAX
005560c6 : MOV ECX,EBP
005560c8 : CALL 0x00554ad0
005560cd : POP EDI
005560ce : POP ESI
005560cf : POP EBP
005560d0 : POP EBX
005560d1 : ADD ESP,0x98
005560d7 : RET 0x8
