PROGRAM  : Maestia.exe
FUNCTION : ___pctype_func
ENTRY    : 00643b8c
BODY     : [[00643b8c, 00643bb4]]

============================================================
DECOMPILED C CODE
============================================================

/* Library Function - Single Match
    ___pctype_func
   
   Library: Visual Studio 2008 Release */

ushort * __cdecl ___pctype_func(void)

{
  _ptiddata p_Var1;
  pthreadlocinfo ptVar2;
  
  p_Var1 = __getptd();
  ptVar2 = p_Var1->ptlocinfo;
  if ((ptVar2 != (pthreadlocinfo)PTR_DAT_00d67e38) && ((p_Var1->_ownlocale & DAT_00d67d50) == 0)) {
    ptVar2 = ___updatetlocinfo();
  }
  return (ushort *)ptVar2[1].lc_category[0].locale;
}



============================================================
DISASSEMBLY
============================================================
00643b8c : CALL 0x006458f6
00643b91 : MOV ECX,EAX
00643b93 : MOV EAX,dword ptr [ECX + 0x6c]
00643b96 : CMP EAX,dword ptr [0x00d67e38]
00643b9c : JZ 0x00643bae
00643b9e : MOV EDX,dword ptr [0x00d67d50]
00643ba4 : TEST dword ptr [ECX + 0x70],EDX
00643ba7 : JNZ 0x00643bae
00643ba9 : CALL 0x00639caf
00643bae : MOV EAX,dword ptr [EAX + 0xc8]
00643bb4 : RET
