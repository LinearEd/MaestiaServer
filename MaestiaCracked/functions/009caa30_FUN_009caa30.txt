PROGRAM  : Maestia.exe
FUNCTION : FUN_009caa30
ENTRY    : 009caa30
BODY     : [[009caa30, 009cac90]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009caa30(void)

{
  uint uVar1;
  int in_ECX;
  int unaff_ESI;
  undefined1 local_110 [28];
  undefined1 local_f4 [28];
  undefined1 local_d8 [28];
  undefined1 local_bc [28];
  undefined1 local_a0 [28];
  undefined1 local_84 [28];
  undefined1 local_68 [28];
  undefined1 local_4c [28];
  undefined1 local_30 [28];
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b22863;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  local_14 = uVar1;
  if (*(int *)(unaff_ESI + 0x38) == 1) {
    switch(*(undefined1 *)(in_ECX + 4)) {
    case 1:
      FUN_00406460(L"IDS_BATTLESTAGE_INVITE_OK");
      local_8 = 0;
      FUN_0081d120(local_68);
      local_8 = CONCAT31(local_8._1_3_,2);
      break;
    case 2:
      FUN_00406460(L"IDS_BATTLESTAGE_INVITE_CANCEL");
      local_8 = 3;
      FUN_0081d120(local_a0);
      local_8 = CONCAT31(local_8._1_3_,5);
      break;
    case 3:
      FUN_00406460(L"IDS_BATTLESTAGE_INVITED_OK");
      local_8 = 6;
      FUN_0081d120(local_d8);
      local_8 = CONCAT31(local_8._1_3_,8);
      break;
    case 4:
      FUN_00406460(L"IDS_BATTLESTAGE_INVITED_CANCEL");
      local_8 = 9;
      FUN_0081d120(local_110);
      local_8 = CONCAT31(local_8._1_3_,0xb);
      break;
    default:
      goto switchD_009caa7f_default;
    }
  }
  else {
    if (*(int *)(unaff_ESI + 0x38) != 2) goto switchD_009caa7f_default;
    switch(*(undefined1 *)(in_ECX + 4)) {
    case 1:
      FUN_00406460(L"IDS_BATTLESTAGE_INVITE_OK_PARTY");
      local_8 = 0xc;
      FUN_0081d120(local_bc);
      local_8 = CONCAT31(local_8._1_3_,0xe);
      break;
    case 2:
      FUN_00406460(L"IDS_BATTLESTAGE_INVITE_CANCEL_PARTY");
      local_8 = 0xf;
      FUN_0081d120(local_84);
      local_8 = CONCAT31(local_8._1_3_,0x11);
      break;
    case 3:
      FUN_00406460(L"IDS_BATTLESTAGE_INVITED_OK_PARTY");
      local_8 = 0x12;
      FUN_0081d120(local_f4);
      local_8 = CONCAT31(local_8._1_3_,0x14);
      break;
    case 4:
      FUN_00406460(L"IDS_BATTLESTAGE_INVITED_CANCEL_PARTY");
      local_8 = 0x15;
      FUN_0081d120(local_4c);
      local_8 = CONCAT31(local_8._1_3_,0x17);
      break;
    default:
      goto switchD_009caa7f_default;
    }
  }
  FUN_00406560(uVar1);
  (**(code **)(**(int **)(*(int *)(unaff_ESI + 4) + 0x1a8) + 0x44))(local_30,0x13);
  local_8 = 0xffffffff;
  FUN_00406560();
switchD_009caa7f_default:
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
009caa30 : PUSH EBP
009caa31 : MOV EBP,ESP
009caa33 : PUSH -0x1
009caa35 : PUSH 0xb22863
009caa3a : MOV EAX,FS:[0x0]
009caa40 : PUSH EAX
009caa41 : SUB ESP,0x100
009caa47 : MOV EAX,[0x00d66fa0]
009caa4c : XOR EAX,EBP
009caa4e : MOV dword ptr [EBP + -0x10],EAX
009caa51 : PUSH EDI
009caa52 : PUSH EAX
009caa53 : LEA EAX,[EBP + -0xc]
009caa56 : MOV FS:[0x0],EAX
009caa5c : MOV EAX,dword ptr [ESI + 0x38]
009caa5f : SUB EAX,0x1
009caa62 : JZ 0x009cab60
009caa68 : SUB EAX,0x1
009caa6b : JNZ 0x009cac77
009caa71 : MOVZX EAX,byte ptr [ECX + 0x4]
009caa75 : DEC EAX
009caa76 : CMP EAX,0x3
009caa79 : JA 0x009cac77
009caa7f : JMP dword ptr [EAX*0x4 + 0x9cac94]
009caa86 : PUSH 0xc92b70
009caa8b : LEA ECX,[EBP + 0xffffff48]
009caa91 : CALL 0x00406460
009caa96 : MOV dword ptr [EBP + -0x4],0xc
009caa9d : MOV ECX,dword ptr [0x0172491c]
009caaa3 : LEA EAX,[EBP + 0xffffff48]
009caaa9 : PUSH EAX
009caaaa : LEA EDI,[EBP + -0x2c]
009caaad : CALL 0x0081d120
009caab2 : MOV byte ptr [EBP + -0x4],0xe
009caab6 : LEA ECX,[EBP + 0xffffff48]
009caabc : JMP 0x009cac4d
009caac1 : PUSH 0xc92bb0
009caac6 : LEA ECX,[EBP + -0x80]
009caac9 : CALL 0x00406460
009caace : MOV dword ptr [EBP + -0x4],0xf
009caad5 : MOV ECX,dword ptr [0x0172491c]
009caadb : LEA EAX,[EBP + -0x80]
009caade : PUSH EAX
009caadf : LEA EDI,[EBP + -0x2c]
009caae2 : CALL 0x0081d120
009caae7 : MOV byte ptr [EBP + -0x4],0x11
009caaeb : LEA ECX,[EBP + -0x80]
009caaee : JMP 0x009cac4d
009caaf3 : PUSH 0xc92bf8
009caaf8 : LEA ECX,[EBP + 0xffffff10]
009caafe : CALL 0x00406460
009cab03 : MOV dword ptr [EBP + -0x4],0x12
009cab0a : MOV ECX,dword ptr [0x0172491c]
009cab10 : LEA EAX,[EBP + 0xffffff10]
009cab16 : PUSH EAX
009cab17 : LEA EDI,[EBP + -0x2c]
009cab1a : CALL 0x0081d120
009cab1f : MOV byte ptr [EBP + -0x4],0x14
009cab23 : LEA ECX,[EBP + 0xffffff10]
009cab29 : JMP 0x009cac4d
009cab2e : PUSH 0xc92c40
009cab33 : LEA ECX,[EBP + -0x48]
009cab36 : CALL 0x00406460
009cab3b : MOV dword ptr [EBP + -0x4],0x15
009cab42 : MOV ECX,dword ptr [0x0172491c]
009cab48 : LEA EAX,[EBP + -0x48]
009cab4b : PUSH EAX
009cab4c : LEA EDI,[EBP + -0x2c]
009cab4f : CALL 0x0081d120
009cab54 : MOV byte ptr [EBP + -0x4],0x17
009cab58 : LEA ECX,[EBP + -0x48]
009cab5b : JMP 0x009cac4d
009cab60 : MOVZX EAX,byte ptr [ECX + 0x4]
009cab64 : DEC EAX
009cab65 : CMP EAX,0x3
009cab68 : JA 0x009cac77
009cab6e : JMP dword ptr [EAX*0x4 + 0x9caca4]
009cab75 : PUSH 0xc92a84
009cab7a : LEA ECX,[EBP + -0x64]
009cab7d : CALL 0x00406460
009cab82 : MOV dword ptr [EBP + -0x4],0x0
009cab89 : MOV ECX,dword ptr [0x0172491c]
009cab8f : LEA EAX,[EBP + -0x64]
009cab92 : PUSH EAX
009cab93 : LEA EDI,[EBP + -0x2c]
009cab96 : CALL 0x0081d120
009cab9b : MOV byte ptr [EBP + -0x4],0x2
009cab9f : LEA ECX,[EBP + -0x64]
009caba2 : JMP 0x009cac4d
009caba7 : PUSH 0xc92ab8
009cabac : LEA ECX,[EBP + 0xffffff64]
009cabb2 : CALL 0x00406460
009cabb7 : MOV dword ptr [EBP + -0x4],0x3
009cabbe : MOV ECX,dword ptr [0x0172491c]
009cabc4 : LEA EAX,[EBP + 0xffffff64]
009cabca : PUSH EAX
009cabcb : LEA EDI,[EBP + -0x2c]
009cabce : CALL 0x0081d120
009cabd3 : MOV byte ptr [EBP + -0x4],0x5
009cabd7 : LEA ECX,[EBP + 0xffffff64]
009cabdd : JMP 0x009cac4d
009cabdf : PUSH 0xc92af4
009cabe4 : LEA ECX,[EBP + 0xffffff2c]
009cabea : CALL 0x00406460
009cabef : MOV dword ptr [EBP + -0x4],0x6
009cabf6 : MOV ECX,dword ptr [0x0172491c]
009cabfc : LEA EAX,[EBP + 0xffffff2c]
009cac02 : PUSH EAX
009cac03 : LEA EDI,[EBP + -0x2c]
009cac06 : CALL 0x0081d120
009cac0b : MOV byte ptr [EBP + -0x4],0x8
009cac0f : LEA ECX,[EBP + 0xffffff2c]
009cac15 : JMP 0x009cac4d
009cac17 : PUSH 0xc92b2c
009cac1c : LEA ECX,[EBP + 0xfffffef4]
009cac22 : CALL 0x00406460
009cac27 : MOV dword ptr [EBP + -0x4],0x9
009cac2e : MOV ECX,dword ptr [0x0172491c]
009cac34 : LEA EAX,[EBP + 0xfffffef4]
009cac3a : PUSH EAX
009cac3b : LEA EDI,[EBP + -0x2c]
009cac3e : CALL 0x0081d120
009cac43 : MOV byte ptr [EBP + -0x4],0xb
009cac47 : LEA ECX,[EBP + 0xfffffef4]
009cac4d : CALL 0x00406560
009cac52 : MOV ECX,dword ptr [ESI + 0x4]
009cac55 : MOV ECX,dword ptr [ECX + 0x1a8]
009cac5b : MOV EDX,dword ptr [ECX]
009cac5d : MOV EDX,dword ptr [EDX + 0x44]
009cac60 : PUSH 0x13
009cac62 : LEA EAX,[EBP + -0x2c]
009cac65 : PUSH EAX
009cac66 : CALL EDX
009cac68 : MOV dword ptr [EBP + -0x4],0xffffffff
009cac6f : LEA ECX,[EBP + -0x2c]
009cac72 : CALL 0x00406560
009cac77 : MOV ECX,dword ptr [EBP + -0xc]
009cac7a : MOV dword ptr FS:[0x0],ECX
009cac81 : POP ECX
009cac82 : POP EDI
009cac83 : MOV ECX,dword ptr [EBP + -0x10]
009cac86 : XOR ECX,EBP
009cac88 : CALL 0x00633e6b
009cac8d : MOV ESP,EBP
009cac8f : POP EBP
009cac90 : RET
