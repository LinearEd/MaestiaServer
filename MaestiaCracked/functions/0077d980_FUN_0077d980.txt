PROGRAM  : Maestia.exe
FUNCTION : FUN_0077d980
ENTRY    : 0077d980
BODY     : [[0077d980, 0077dd7a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0077d980(int param_1,int param_2)

{
  int *piVar1;
  code *pcVar2;
  int iVar3;
  int in_ECX;
  int iVar4;
  int unaff_ESI;
  int *piVar5;
  int *piVar6;
  undefined4 uVar7;
  undefined1 *puStack_15c;
  int *piStack_158;
  undefined1 *puStack_154;
  undefined1 *puStack_150;
  int *piStack_14c;
  undefined4 *puStack_148;
  int iStack_144;
  undefined1 local_134 [12];
  undefined1 auStack_128 [8];
  undefined4 local_120;
  undefined4 local_11c;
  undefined4 local_118;
  undefined4 local_114;
  undefined4 local_110;
  undefined4 local_10c;
  undefined4 local_108;
  undefined4 local_104;
  undefined4 local_100;
  undefined4 local_fc;
  undefined4 local_f8;
  undefined4 local_f4;
  undefined4 local_f0;
  undefined4 local_ec;
  undefined4 local_e8;
  undefined4 local_e4;
  undefined1 auStack_d8 [8];
  undefined4 local_d0;
  undefined4 local_cc;
  undefined4 local_c8;
  undefined4 local_c4;
  undefined4 local_c0;
  undefined4 local_bc;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  int local_98 [37];
  
  piVar1 = *(int **)(*(int *)(*(int *)(in_ECX + 0x14) + 0x14) + 0x1c);
  if (piVar1 != (int *)0x0) {
    iStack_144 = param_1;
    local_98[0] = 0;
    local_9c = 0;
    local_a0 = 0;
    local_a4 = 0;
    local_ac = 0;
    local_b0 = 0;
    local_b4 = 0;
    local_b8 = 0;
    local_c0 = 0;
    local_c4 = 0;
    local_c8 = 0;
    local_cc = 0;
    local_98[1] = 0x3f800000;
    local_a8 = 0x3f800000;
    local_bc = 0x3f800000;
    local_d0 = 0x3f800000;
    local_98[0x10] = 0;
    local_98[0xf] = 0;
    local_98[0xe] = 0;
    local_98[0xd] = 0;
    local_98[0xb] = 0;
    local_98[10] = 0;
    local_98[9] = 0;
    local_98[8] = 0;
    local_98[6] = 0;
    local_98[5] = 0;
    local_98[4] = 0;
    local_98[3] = 0;
    local_98[0x11] = 0x3f800000;
    local_98[0xc] = 0x3f800000;
    local_98[7] = 0x3f800000;
    local_98[2] = 0x3f800000;
    local_98[0x20] = 0;
    local_98[0x1f] = 0;
    local_98[0x1e] = 0;
    local_98[0x1d] = 0;
    local_98[0x1b] = 0;
    local_98[0x1a] = 0;
    local_98[0x19] = 0;
    local_98[0x18] = 0;
    local_98[0x16] = 0;
    local_98[0x15] = 0;
    local_98[0x14] = 0;
    local_98[0x13] = 0;
    local_98[0x21] = 0x3f800000;
    local_98[0x1c] = 0x3f800000;
    local_98[0x17] = 0x3f800000;
    local_98[0x12] = 0x3f800000;
    local_e8 = 0;
    local_ec = 0;
    local_f0 = 0;
    local_f4 = 0;
    local_fc = 0;
    local_100 = 0;
    local_104 = 0;
    local_108 = 0;
    local_110 = 0;
    local_114 = 0;
    local_118 = 0;
    local_11c = 0;
    local_e4 = 0x3f800000;
    local_f8 = 0x3f800000;
    local_10c = 0x3f800000;
    local_120 = 0x3f800000;
    puStack_148 = &local_d0;
    piStack_14c = (int *)0x77dbce;
    (**(code **)(**(int **)(param_1 + 4) + 0x9c))();
    piVar5 = *(int **)(in_ECX + 0x30);
    piStack_14c = (int *)0x77dbda;
    (**(code **)(*piVar5 + 0x1c))();
    piVar5 = piVar5 + 0x2d;
    piVar6 = local_98;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *piVar6 = *piVar5;
      piVar5 = piVar5 + 1;
      piVar6 = piVar6 + 1;
    }
    piVar5 = *(int **)(unaff_ESI + 0x30);
    if (*(char *)((int)piVar5 + 0x157) == '\0') {
      pcVar2 = *(code **)(*piVar5 + 0x30);
    }
    else {
      pcVar2 = *(code **)(*piVar5 + 0x20);
    }
    piStack_14c = (int *)0x77dc0c;
    (*pcVar2)();
    piVar5 = piVar5 + 0x1d;
    piVar6 = local_98 + 0x10;
    for (iVar4 = 0x10; iVar4 != 0; iVar4 = iVar4 + -1) {
      *piVar6 = *piVar5;
      piVar5 = piVar5 + 1;
      piVar6 = piVar6 + 1;
    }
    piStack_14c = local_98;
    puStack_150 = auStack_d8;
    puStack_154 = auStack_128;
    piStack_158 = (int *)0x77dc34;
    D3DXMatrixMultiply();
    piStack_158 = local_98 + 0xd;
    puStack_15c = local_134;
    D3DXMatrixMultiply(puStack_15c);
    (**(code **)(*piVar1 + 0x98))(piVar1,"matWVP",&stack0xfffffec0);
    if (*(char *)(param_2 + 7) == '\0') {
      puStack_15c = (undefined1 *)0x0;
      piStack_158 = (int *)0x0;
      puStack_154 = (undefined1 *)0x0;
      puStack_150 = (undefined1 *)0x0;
      iVar4 = (**(code **)(**(int **)(param_1 + 4) + 0xb4))();
      if (iVar4 != 0) {
        piStack_158 = *(int **)(iVar4 + 0x3c);
        puStack_154 = *(undefined1 **)(iVar4 + 0x60);
        puStack_150 = *(undefined1 **)(iVar4 + 100);
        local_10c = *(undefined4 *)(iVar4 + 0x2c);
        local_108 = *(undefined4 *)(iVar4 + 0x30);
        local_104 = *(undefined4 *)(iVar4 + 0x34);
        local_100 = *(undefined4 *)(iVar4 + 0x3c);
        (**(code **)(*piVar1 + 0x50))(piVar1,"vTFactor",&local_10c,0x10);
      }
      (**(code **)(*piVar1 + 0x50))(piVar1,"vRenderParam",&puStack_15c,0x10);
      iVar4 = *(int *)(param_1 + 4);
      if ((*(char *)(param_2 + 0x15) != '\0') && (iVar4 != 0)) {
        uVar7 = 0;
        iVar3 = (**(code **)(**(int **)(iVar4 + 0x24) + 0x1c))();
        if (iVar3 - 2U < 8) {
          uVar7 = *(undefined4 *)(*(int *)(iVar4 + 0x24) + 0x2c0);
        }
        (**(code **)(*piVar1 + 0x78))(piVar1,"fDisappearLerp",uVar7);
        (**(code **)(*piVar1 + 0x98))(piVar1,"matWorld",&local_118);
      }
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0077d980 : PUSH EBP
0077d981 : MOV EBP,ESP
0077d983 : AND ESP,0xfffffff0
0077d986 : SUB ESP,0x124
0077d98c : PUSH EBX
0077d98d : PUSH ESI
0077d98e : MOV ESI,ECX
0077d990 : MOV EAX,dword ptr [ESI + 0x14]
0077d993 : MOV ECX,dword ptr [EAX + 0x14]
0077d996 : MOV EBX,dword ptr [ECX + 0x1c]
0077d999 : PUSH EDI
0077d99a : MOV dword ptr [ESP + 0xc],ESI
0077d99e : TEST EBX,EBX
0077d9a0 : JZ 0x0077dd72
0077d9a6 : XORPS XMM0,XMM0
0077d9a9 : MOVSS XMM1,dword ptr [0x00c10fc4]
0077d9b1 : MOV EAX,dword ptr [EBP + 0x8]
0077d9b4 : MOV ECX,dword ptr [EAX + 0x4]
0077d9b7 : PUSH EAX
0077d9b8 : MOVSS dword ptr [ESP + 0xac],XMM0
0077d9c1 : MOVSS dword ptr [ESP + 0xa8],XMM0
0077d9ca : MOVSS dword ptr [ESP + 0xa4],XMM0
0077d9d3 : MOVSS dword ptr [ESP + 0xa0],XMM0
0077d9dc : MOVSS dword ptr [ESP + 0x98],XMM0
0077d9e5 : MOVSS dword ptr [ESP + 0x94],XMM0
0077d9ee : MOVSS dword ptr [ESP + 0x90],XMM0
0077d9f7 : MOVSS dword ptr [ESP + 0x8c],XMM0
0077da00 : MOVSS dword ptr [ESP + 0x84],XMM0
0077da09 : MOVSS dword ptr [ESP + 0x80],XMM0
0077da12 : MOVSS dword ptr [ESP + 0x7c],XMM0
0077da18 : MOVSS dword ptr [ESP + 0x78],XMM0
0077da1e : MOVSS dword ptr [ESP + 0xb0],XMM1
0077da27 : MOVSS dword ptr [ESP + 0x9c],XMM1
0077da30 : MOVSS dword ptr [ESP + 0x88],XMM1
0077da39 : MOVSS dword ptr [ESP + 0x74],XMM1
0077da3f : MOVSS dword ptr [ESP + 0xec],XMM0
0077da48 : MOVSS dword ptr [ESP + 0xe8],XMM0
0077da51 : MOVSS dword ptr [ESP + 0xe4],XMM0
0077da5a : MOVSS dword ptr [ESP + 0xe0],XMM0
0077da63 : MOVSS dword ptr [ESP + 0xd8],XMM0
0077da6c : MOVSS dword ptr [ESP + 0xd4],XMM0
0077da75 : MOVSS dword ptr [ESP + 0xd0],XMM0
0077da7e : MOVSS dword ptr [ESP + 0xcc],XMM0
0077da87 : MOVSS dword ptr [ESP + 0xc4],XMM0
0077da90 : MOVSS dword ptr [ESP + 0xc0],XMM0
0077da99 : MOVSS dword ptr [ESP + 0xbc],XMM0
0077daa2 : MOVSS dword ptr [ESP + 0xb8],XMM0
0077daab : MOVSS dword ptr [ESP + 0xf0],XMM1
0077dab4 : MOVSS dword ptr [ESP + 0xdc],XMM1
0077dabd : MOVSS dword ptr [ESP + 0xc8],XMM1
0077dac6 : MOVSS dword ptr [ESP + 0xb4],XMM1
0077dacf : MOVSS dword ptr [ESP + 0x12c],XMM0
0077dad8 : MOVSS dword ptr [ESP + 0x128],XMM0
0077dae1 : MOVSS dword ptr [ESP + 0x124],XMM0
0077daea : MOVSS dword ptr [ESP + 0x120],XMM0
0077daf3 : MOVSS dword ptr [ESP + 0x118],XMM0
0077dafc : MOVSS dword ptr [ESP + 0x114],XMM0
0077db05 : MOVSS dword ptr [ESP + 0x110],XMM0
0077db0e : MOVSS dword ptr [ESP + 0x10c],XMM0
0077db17 : MOVSS dword ptr [ESP + 0x104],XMM0
0077db20 : MOVSS dword ptr [ESP + 0x100],XMM0
0077db29 : MOVSS dword ptr [ESP + 0xfc],XMM0
0077db32 : MOVSS dword ptr [ESP + 0xf8],XMM0
0077db3b : MOVSS dword ptr [ESP + 0x130],XMM1
0077db44 : MOVSS dword ptr [ESP + 0x11c],XMM1
0077db4d : MOVSS dword ptr [ESP + 0x108],XMM1
0077db56 : MOVSS dword ptr [ESP + 0xf4],XMM1
0077db5f : MOVSS dword ptr [ESP + 0x5c],XMM0
0077db65 : MOVSS dword ptr [ESP + 0x58],XMM0
0077db6b : MOVSS dword ptr [ESP + 0x54],XMM0
0077db71 : MOVSS dword ptr [ESP + 0x50],XMM0
0077db77 : MOVSS dword ptr [ESP + 0x48],XMM0
0077db7d : MOVSS dword ptr [ESP + 0x44],XMM0
0077db83 : MOVSS dword ptr [ESP + 0x40],XMM0
0077db89 : MOVSS dword ptr [ESP + 0x3c],XMM0
0077db8f : MOVSS dword ptr [ESP + 0x34],XMM0
0077db95 : MOVSS dword ptr [ESP + 0x30],XMM0
0077db9b : MOVSS dword ptr [ESP + 0x2c],XMM0
0077dba1 : MOVSS dword ptr [ESP + 0x28],XMM0
0077dba7 : MOVSS dword ptr [ESP + 0x60],XMM1
0077dbad : MOVSS dword ptr [ESP + 0x4c],XMM1
0077dbb3 : MOVSS dword ptr [ESP + 0x38],XMM1
0077dbb9 : MOVSS dword ptr [ESP + 0x24],XMM1
0077dbbf : MOV EDX,dword ptr [ECX]
0077dbc1 : MOV EDX,dword ptr [EDX + 0x9c]
0077dbc7 : LEA EAX,[ESP + 0x74]
0077dbcb : PUSH EAX
0077dbcc : CALL EDX
0077dbce : MOV ESI,dword ptr [ESI + 0x30]
0077dbd1 : MOV EAX,dword ptr [ESI]
0077dbd3 : MOV EDX,dword ptr [EAX + 0x1c]
0077dbd6 : MOV ECX,ESI
0077dbd8 : CALL EDX
0077dbda : ADD ESI,0xb4
0077dbe0 : MOV ECX,0x10
0077dbe5 : MOV EAX,dword ptr [ESP + 0xc]
0077dbe9 : LEA EDI,[ESP + 0xb0]
0077dbf0 : MOVSD.REP ES:EDI,ESI
0077dbf2 : MOV ESI,dword ptr [EAX + 0x30]
0077dbf5 : CMP byte ptr [ESI + 0x157],0x0
0077dbfc : MOV EDX,dword ptr [ESI]
0077dbfe : MOV ECX,ESI
0077dc00 : JZ 0x0077dc07
0077dc02 : MOV EAX,dword ptr [EDX + 0x20]
0077dc05 : JMP 0x0077dc0a
0077dc07 : MOV EAX,dword ptr [EDX + 0x30]
0077dc0a : CALL EAX
0077dc0c : ADD ESI,0x74
0077dc0f : MOV ECX,0x10
0077dc14 : LEA EDI,[ESP + 0xf0]
0077dc1b : MOVSD.REP ES:EDI,ESI
0077dc1d : LEA ECX,[ESP + 0xb0]
0077dc24 : PUSH ECX
0077dc25 : LEA EDX,[ESP + 0x74]
0077dc29 : PUSH EDX
0077dc2a : LEA EAX,[ESP + 0x28]
0077dc2e : PUSH EAX
0077dc2f : CALL 0x004ff752
0077dc34 : LEA ECX,[ESP + 0xf0]
0077dc3b : PUSH ECX
0077dc3c : LEA EDX,[ESP + 0x24]
0077dc40 : PUSH EDX
0077dc41 : MOV EAX,EDX
0077dc43 : PUSH EAX
0077dc44 : CALL 0x004ff752
0077dc49 : MOV ECX,dword ptr [EBX]
0077dc4b : MOV EAX,dword ptr [ECX + 0x98]
0077dc51 : LEA EDX,[ESP + 0x20]
0077dc55 : PUSH EDX
0077dc56 : PUSH 0xc10db0
0077dc5b : PUSH EBX
0077dc5c : CALL EAX
0077dc5e : MOV EDI,dword ptr [EBP + 0xc]
0077dc61 : CMP byte ptr [EDI + 0x7],0x0
0077dc65 : JNZ 0x0077dd72
0077dc6b : XORPS XMM0,XMM0
0077dc6e : MOV ESI,dword ptr [EBP + 0x8]
0077dc71 : MOV ECX,dword ptr [ESI + 0x4]
0077dc74 : MOVSS dword ptr [ESP + 0x10],XMM0
0077dc7a : MOVSS dword ptr [ESP + 0x14],XMM0
0077dc80 : MOVSS dword ptr [ESP + 0x18],XMM0
0077dc86 : MOVSS dword ptr [ESP + 0x1c],XMM0
0077dc8c : MOV EDX,dword ptr [ECX]
0077dc8e : MOV EAX,dword ptr [EDX + 0xb4]
0077dc94 : CALL EAX
0077dc96 : TEST EAX,EAX
0077dc98 : JZ 0x0077dcfb
0077dc9a : MOVSS XMM0,dword ptr [EAX + 0x3c]
0077dc9f : MOVSS dword ptr [ESP + 0x14],XMM0
0077dca5 : MOVSS XMM0,dword ptr [EAX + 0x60]
0077dcaa : MOVSS dword ptr [ESP + 0x18],XMM0
0077dcb0 : MOVSS XMM0,dword ptr [EAX + 0x64]
0077dcb5 : MOVSS dword ptr [ESP + 0x1c],XMM0
0077dcbb : MOVSS XMM0,dword ptr [EAX + 0x2c]
0077dcc0 : MOV ECX,dword ptr [EBX]
0077dcc2 : MOVSS dword ptr [ESP + 0x60],XMM0
0077dcc8 : MOVSS XMM0,dword ptr [EAX + 0x30]
0077dccd : PUSH 0x10
0077dccf : LEA EDX,[ESP + 0x64]
0077dcd3 : MOVSS dword ptr [ESP + 0x68],XMM0
0077dcd9 : MOVSS XMM0,dword ptr [EAX + 0x34]
0077dcde : PUSH EDX
0077dcdf : MOVSS dword ptr [ESP + 0x70],XMM0
0077dce5 : MOVSS XMM0,dword ptr [EAX + 0x3c]
0077dcea : MOV EAX,dword ptr [ECX + 0x50]
0077dced : PUSH 0xc10db8
0077dcf2 : PUSH EBX
0077dcf3 : MOVSS dword ptr [ESP + 0x7c],XMM0
0077dcf9 : CALL EAX
0077dcfb : MOV ECX,dword ptr [EBX]
0077dcfd : MOV EAX,dword ptr [ECX + 0x50]
0077dd00 : PUSH 0x10
0077dd02 : LEA EDX,[ESP + 0x14]
0077dd06 : PUSH EDX
0077dd07 : PUSH 0xc10dc4
0077dd0c : PUSH EBX
0077dd0d : CALL EAX
0077dd0f : CMP byte ptr [EDI + 0x15],0x0
0077dd13 : MOV ESI,dword ptr [ESI + 0x4]
0077dd16 : JZ 0x0077dd72
0077dd18 : TEST ESI,ESI
0077dd1a : JZ 0x0077dd72
0077dd1c : MOV ECX,dword ptr [ESI + 0x24]
0077dd1f : MOV EDX,dword ptr [ECX]
0077dd21 : XORPS XMM0,XMM0
0077dd24 : MOV EAX,dword ptr [EDX + 0x1c]
0077dd27 : MOVSS dword ptr [ESP + 0xc],XMM0
0077dd2d : CALL EAX
0077dd2f : ADD EAX,-0x2
0077dd32 : CMP EAX,0x7
0077dd35 : JA 0x0077dd48
0077dd37 : MOV ECX,dword ptr [ESI + 0x24]
0077dd3a : MOVSS XMM0,dword ptr [ECX + 0x2c0]
0077dd42 : MOVSS dword ptr [ESP + 0xc],XMM0
0077dd48 : FLD float ptr [ESP + 0xc]
0077dd4c : MOV EDX,dword ptr [EBX]
0077dd4e : MOV EAX,dword ptr [EDX + 0x78]
0077dd51 : PUSH ECX
0077dd52 : FSTP float ptr [ESP]
0077dd55 : PUSH 0xc10dd4
0077dd5a : PUSH EBX
0077dd5b : CALL EAX
0077dd5d : MOV ECX,dword ptr [EBX]
0077dd5f : MOV EAX,dword ptr [ECX + 0x98]
0077dd65 : LEA EDX,[ESP + 0x70]
0077dd69 : PUSH EDX
0077dd6a : PUSH 0xc10de4
0077dd6f : PUSH EBX
0077dd70 : CALL EAX
0077dd72 : POP EDI
0077dd73 : POP ESI
0077dd74 : POP EBX
0077dd75 : MOV ESP,EBP
0077dd77 : POP EBP
0077dd78 : RET 0x8
