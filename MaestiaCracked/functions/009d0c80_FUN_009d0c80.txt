PROGRAM  : Maestia.exe
FUNCTION : FUN_009d0c80
ENTRY    : 009d0c80
BODY     : [[009d0c80, 009d0ec6]]

============================================================
DECOMPILED C CODE
============================================================

int FUN_009d0c80(int param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  undefined4 uVar3;
  int iVar4;
  __time64_t _Var5;
  undefined1 local_6c [24];
  uint local_54;
  undefined2 local_4c;
  undefined4 local_3c;
  uint local_38;
  undefined1 local_34 [4];
  undefined2 local_30;
  undefined4 local_20;
  uint local_1c;
  int local_18;
  undefined4 local_14;
  void *local_10;
  undefined1 *puStack_c;
  int local_8;
  
  puStack_c = &LAB_00b22b23;
  local_10 = ExceptionList;
  uVar1 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *(undefined4 *)(param_1 + 0x18) = 7;
  *(undefined4 *)(param_1 + 0x14) = 0;
  *(undefined2 *)(param_1 + 4) = 0;
  local_8 = 0;
  local_14 = 1;
  _Var5 = __time64((__time64_t *)0x0);
  iVar4 = (param_2 - (int)_Var5) + 0x93a80;
  if (0 < iVar4) {
    local_18 = (iVar4 / 0xe10) % 0x18;
    if (0 < iVar4 / 0x15180) {
      FUN_00406460(L"IDS_BID_COLLECT_REMAINTIME_DAY");
      local_8 = 1;
      iVar2 = FUN_0081d120(local_6c);
      local_8._0_1_ = 2;
      if (*(uint *)(iVar2 + 0x18) < 8) {
        iVar2 = iVar2 + 4;
      }
      else {
        iVar2 = *(int *)(iVar2 + 4);
      }
      uVar3 = FUN_00404750(iVar2,iVar4 / 0x15180,uVar1);
      local_8._0_1_ = 3;
      FUN_00405eb0(uVar3,0,0xffffffff);
      local_8 = CONCAT31(local_8._1_3_,2);
      if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_38 = 7;
      local_3c = 0;
      local_4c = 0;
      local_8 = CONCAT31(local_8._1_3_,1);
      if (7 < local_1c) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_1c = 7;
      local_20 = 0;
      local_30 = 0;
      local_8 = (uint)local_8._1_3_ << 8;
      if (7 < local_54) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      ExceptionList = local_10;
      return param_1;
    }
    if (local_18 < 1) {
      FUN_00406460(L"IDS_BID_COLLECT_REMAINTIME_UNDER1HOUR");
      local_8 = 7;
      uVar3 = FUN_0081d120(local_34);
      local_8._0_1_ = 8;
      FUN_00405eb0(uVar3,0,0xffffffff);
      local_8._0_1_ = 7;
    }
    else {
      FUN_00406460(L"IDS_BID_COLLECT_REMAINTIME_HOUR");
      local_8 = 4;
      iVar4 = FUN_0081d120(local_34);
      local_8._0_1_ = 5;
      if (*(uint *)(iVar4 + 0x18) < 8) {
        iVar4 = iVar4 + 4;
      }
      else {
        iVar4 = *(int *)(iVar4 + 4);
      }
      uVar3 = FUN_00404750(iVar4,local_18,uVar1);
      local_8._0_1_ = 6;
      FUN_00405eb0(uVar3,0,0xffffffff);
      local_8._0_1_ = 5;
      FUN_00406560();
      local_8._0_1_ = 4;
    }
    FUN_00406560();
    local_8 = (uint)local_8._1_3_ << 8;
    FUN_00406560();
  }
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
009d0c80 : PUSH EBP
009d0c81 : MOV EBP,ESP
009d0c83 : PUSH -0x1
009d0c85 : PUSH 0xb22b23
009d0c8a : MOV EAX,FS:[0x0]
009d0c90 : PUSH EAX
009d0c91 : SUB ESP,0x60
009d0c94 : PUSH EBX
009d0c95 : PUSH ESI
009d0c96 : PUSH EDI
009d0c97 : MOV EAX,[0x00d66fa0]
009d0c9c : XOR EAX,EBP
009d0c9e : PUSH EAX
009d0c9f : LEA EAX,[EBP + -0xc]
009d0ca2 : MOV FS:[0x0],EAX
009d0ca8 : XOR EDI,EDI
009d0caa : MOV dword ptr [EBP + -0x4],EDI
009d0cad : MOV EBX,dword ptr [EBP + 0x8]
009d0cb0 : MOV dword ptr [EBP + -0x10],EDI
009d0cb3 : XOR EAX,EAX
009d0cb5 : MOV dword ptr [EBX + 0x18],0x7
009d0cbc : MOV dword ptr [EBX + 0x14],EDI
009d0cbf : MOV dword ptr [EBP + -0x6c],EBX
009d0cc2 : MOV word ptr [EBX + 0x4],AX
009d0cc6 : MOV dword ptr [EBP + -0x4],EDI
009d0cc9 : PUSH EDI
009d0cca : MOV dword ptr [EBP + -0x10],0x1
009d0cd1 : CALL 0x006381ab
009d0cd6 : MOV ECX,dword ptr [EBP + 0xc]
009d0cd9 : SUB ECX,EAX
009d0cdb : ADD ECX,0x93a80
009d0ce1 : ADD ESP,0x4
009d0ce4 : CMP ECX,EDI
009d0ce6 : JLE 0x009d0eb3
009d0cec : MOV EAX,0xc22e4507
009d0cf1 : IMUL ECX
009d0cf3 : ADD EDX,ECX
009d0cf5 : SAR EDX,0x10
009d0cf8 : MOV ESI,EDX
009d0cfa : SHR ESI,0x1f
009d0cfd : ADD ESI,EDX
009d0cff : MOV EAX,0x91a2b3c5
009d0d04 : IMUL ECX
009d0d06 : ADD EDX,ECX
009d0d08 : SAR EDX,0xb
009d0d0b : MOV EAX,EDX
009d0d0d : SHR EAX,0x1f
009d0d10 : ADD EAX,EDX
009d0d12 : CDQ
009d0d13 : MOV ECX,0x18
009d0d18 : IDIV ECX
009d0d1a : CMP ESI,EDI
009d0d1c : MOV dword ptr [EBP + -0x14],EDX
009d0d1f : JLE 0x009d0df9
009d0d25 : PUSH 0xc9616c
009d0d2a : LEA ECX,[EBP + -0x68]
009d0d2d : CALL 0x00406460
009d0d32 : MOV dword ptr [EBP + -0x4],0x1
009d0d39 : MOV ECX,dword ptr [0x0172491c]
009d0d3f : LEA EDX,[EBP + -0x68]
009d0d42 : PUSH EDX
009d0d43 : LEA EDI,[EBP + -0x30]
009d0d46 : CALL 0x0081d120
009d0d4b : MOV byte ptr [EBP + -0x4],0x2
009d0d4f : MOV EDI,0x8
009d0d54 : CMP dword ptr [EAX + 0x18],EDI
009d0d57 : JC 0x009d0d5e
009d0d59 : MOV EAX,dword ptr [EAX + 0x4]
009d0d5c : JMP 0x009d0d61
009d0d5e : ADD EAX,0x4
009d0d61 : PUSH ESI
009d0d62 : PUSH EAX
009d0d63 : LEA ESI,[EBP + -0x4c]
009d0d66 : CALL 0x00404750
009d0d6b : ADD ESP,0x8
009d0d6e : MOV byte ptr [EBP + -0x4],0x3
009d0d72 : PUSH -0x1
009d0d74 : PUSH 0x0
009d0d76 : PUSH EAX
009d0d77 : MOV ECX,EBX
009d0d79 : CALL 0x00405eb0
009d0d7e : MOV byte ptr [EBP + -0x4],0x2
009d0d82 : CMP dword ptr [EBP + -0x34],EDI
009d0d85 : JC 0x009d0d8f
009d0d87 : MOV ECX,dword ptr [EBP + -0x48]
009d0d8a : CALL 0x006f04e0
009d0d8f : MOV ESI,0x7
009d0d94 : XOR EAX,EAX
009d0d96 : MOV dword ptr [EBP + -0x34],ESI
009d0d99 : MOV dword ptr [EBP + -0x38],0x0
009d0da0 : MOV word ptr [EBP + -0x48],AX
009d0da4 : MOV byte ptr [EBP + -0x4],0x1
009d0da8 : CMP dword ptr [EBP + -0x18],EDI
009d0dab : JC 0x009d0db5
009d0dad : MOV ECX,dword ptr [EBP + -0x2c]
009d0db0 : CALL 0x006f04e0
009d0db5 : XOR ECX,ECX
009d0db7 : MOV dword ptr [EBP + -0x18],ESI
009d0dba : MOV dword ptr [EBP + -0x1c],0x0
009d0dc1 : MOV word ptr [EBP + -0x2c],CX
009d0dc5 : MOV byte ptr [EBP + -0x4],CL
009d0dc8 : CMP dword ptr [EBP + -0x50],EDI
009d0dcb : JC 0x009d0dd5
009d0dcd : MOV ECX,dword ptr [EBP + -0x64]
009d0dd0 : CALL 0x006f04e0
009d0dd5 : XOR EDX,EDX
009d0dd7 : MOV dword ptr [EBP + -0x50],ESI
009d0dda : MOV dword ptr [EBP + -0x54],0x0
009d0de1 : MOV word ptr [EBP + -0x64],DX
009d0de5 : MOV EAX,EBX
009d0de7 : MOV ECX,dword ptr [EBP + -0xc]
009d0dea : MOV dword ptr FS:[0x0],ECX
009d0df1 : POP ECX
009d0df2 : POP EDI
009d0df3 : POP ESI
009d0df4 : POP EBX
009d0df5 : MOV ESP,EBP
009d0df7 : POP EBP
009d0df8 : RET
009d0df9 : CMP EDX,EDI
009d0dfb : LEA ECX,[EBP + -0x30]
009d0dfe : JLE 0x009d0e69
009d0e00 : PUSH 0xc961b0
009d0e05 : CALL 0x00406460
009d0e0a : MOV dword ptr [EBP + -0x4],0x4
009d0e11 : MOV ECX,dword ptr [0x0172491c]
009d0e17 : LEA EAX,[EBP + -0x30]
009d0e1a : PUSH EAX
009d0e1b : LEA EDI,[EBP + -0x68]
009d0e1e : CALL 0x0081d120
009d0e23 : MOV byte ptr [EBP + -0x4],0x5
009d0e27 : CMP dword ptr [EAX + 0x18],0x8
009d0e2b : JC 0x009d0e32
009d0e2d : MOV EAX,dword ptr [EAX + 0x4]
009d0e30 : JMP 0x009d0e35
009d0e32 : ADD EAX,0x4
009d0e35 : MOV ECX,dword ptr [EBP + -0x14]
009d0e38 : PUSH ECX
009d0e39 : PUSH EAX
009d0e3a : LEA ESI,[EBP + -0x4c]
009d0e3d : CALL 0x00404750
009d0e42 : ADD ESP,0x8
009d0e45 : MOV byte ptr [EBP + -0x4],0x6
009d0e49 : PUSH -0x1
009d0e4b : PUSH 0x0
009d0e4d : PUSH EAX
009d0e4e : MOV ECX,EBX
009d0e50 : CALL 0x00405eb0
009d0e55 : MOV byte ptr [EBP + -0x4],0x5
009d0e59 : MOV ECX,ESI
009d0e5b : CALL 0x00406560
009d0e60 : MOV byte ptr [EBP + -0x4],0x4
009d0e64 : LEA ECX,[EBP + -0x68]
009d0e67 : JMP 0x009d0ea2
009d0e69 : PUSH 0xc961f0
009d0e6e : CALL 0x00406460
009d0e73 : MOV dword ptr [EBP + -0x4],0x7
009d0e7a : MOV ECX,dword ptr [0x0172491c]
009d0e80 : LEA EDX,[EBP + -0x30]
009d0e83 : PUSH EDX
009d0e84 : LEA EDI,[EBP + -0x4c]
009d0e87 : CALL 0x0081d120
009d0e8c : MOV byte ptr [EBP + -0x4],0x8
009d0e90 : PUSH -0x1
009d0e92 : PUSH 0x0
009d0e94 : PUSH EAX
009d0e95 : MOV ECX,EBX
009d0e97 : CALL 0x00405eb0
009d0e9c : MOV byte ptr [EBP + -0x4],0x7
009d0ea0 : MOV ECX,EDI
009d0ea2 : CALL 0x00406560
009d0ea7 : MOV byte ptr [EBP + -0x4],0x0
009d0eab : LEA ECX,[EBP + -0x30]
009d0eae : CALL 0x00406560
009d0eb3 : MOV EAX,EBX
009d0eb5 : MOV ECX,dword ptr [EBP + -0xc]
009d0eb8 : MOV dword ptr FS:[0x0],ECX
009d0ebf : POP ECX
009d0ec0 : POP EDI
009d0ec1 : POP ESI
009d0ec2 : POP EBX
009d0ec3 : MOV ESP,EBP
009d0ec5 : POP EBP
009d0ec6 : RET
