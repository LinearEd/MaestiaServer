PROGRAM  : Maestia.exe
FUNCTION : FUN_004687c0
ENTRY    : 004687c0
BODY     : [[004687c0, 0046887e]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_004687c0(void)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  int unaff_ESI;
  undefined8 *unaff_EDI;
  
  if (*(char *)(unaff_ESI + 0x10) == '\0') {
    if (*(uint *)(unaff_ESI + 8) == *(uint *)(unaff_ESI + 0xc)) {
      if (*(uint *)(unaff_ESI + 0xc) < 8) {
        *(undefined4 *)(unaff_ESI + 0xc) = 8;
      }
      FUN_0046b8a0(unaff_ESI,*(int *)(unaff_ESI + 0xc) * 2 + 1);
    }
    iVar3 = *(int *)(unaff_ESI + 8);
    iVar2 = *(int *)(unaff_ESI + 4);
    *(undefined8 *)(iVar2 + iVar3 * 0x28) = *unaff_EDI;
    iVar2 = iVar2 + iVar3 * 0x28;
    *(undefined8 *)(iVar2 + 8) = unaff_EDI[1];
    *(undefined8 *)(iVar2 + 0x10) = unaff_EDI[2];
    *(undefined8 *)(iVar2 + 0x18) = unaff_EDI[3];
    *(undefined8 *)(iVar2 + 0x20) = unaff_EDI[4];
    *(int *)(unaff_ESI + 8) = *(int *)(unaff_ESI + 8) + 1;
    return CONCAT31((int3)((uint)iVar2 >> 8),1);
  }
  uVar1 = *(uint *)(unaff_ESI + 8);
  if (uVar1 < *(uint *)(unaff_ESI + 0xc)) {
    iVar2 = *(int *)(unaff_ESI + 4);
    *(undefined8 *)(iVar2 + uVar1 * 0x28) = *unaff_EDI;
    iVar2 = iVar2 + uVar1 * 0x28;
    *(undefined8 *)(iVar2 + 8) = unaff_EDI[1];
    *(undefined8 *)(iVar2 + 0x10) = unaff_EDI[2];
    *(undefined8 *)(iVar2 + 0x18) = unaff_EDI[3];
    *(undefined8 *)(iVar2 + 0x20) = unaff_EDI[4];
    *(int *)(unaff_ESI + 8) = *(int *)(unaff_ESI + 8) + 1;
    return CONCAT31((int3)((uint)iVar2 >> 8),1);
  }
  return uVar1 & 0xffffff00;
}



============================================================
DISASSEMBLY
============================================================
004687c0 : CMP byte ptr [ESI + 0x10],0x0
004687c4 : PUSH EBX
004687c5 : MOV EBX,0x1
004687ca : JZ 0x00468819
004687cc : MOV EAX,dword ptr [ESI + 0x8]
004687cf : CMP EAX,dword ptr [ESI + 0xc]
004687d2 : JNC 0x00468815
004687d4 : MOV ECX,dword ptr [ESI + 0x4]
004687d7 : MOVQ XMM0,qword ptr [EDI]
004687db : LEA EAX,[EAX + EAX*0x4]
004687de : MOVQ qword ptr [ECX + EAX*0x8],XMM0
004687e3 : MOVQ XMM0,qword ptr [EDI + 0x8]
004687e8 : LEA EAX,[ECX + EAX*0x8]
004687eb : MOVQ qword ptr [EAX + 0x8],XMM0
004687f0 : MOVQ XMM0,qword ptr [EDI + 0x10]
004687f5 : MOVQ qword ptr [EAX + 0x10],XMM0
004687fa : MOVQ XMM0,qword ptr [EDI + 0x18]
004687ff : MOVQ qword ptr [EAX + 0x18],XMM0
00468804 : MOVQ XMM0,qword ptr [EDI + 0x20]
00468809 : MOVQ qword ptr [EAX + 0x20],XMM0
0046880e : ADD dword ptr [ESI + 0x8],EBX
00468811 : MOV AL,BL
00468813 : POP EBX
00468814 : RET
00468815 : XOR AL,AL
00468817 : POP EBX
00468818 : RET
00468819 : MOV EAX,dword ptr [ESI + 0xc]
0046881c : CMP dword ptr [ESI + 0x8],EAX
0046881f : JNZ 0x0046883b
00468821 : CMP EAX,0x8
00468824 : JNC 0x0046882d
00468826 : MOV dword ptr [ESI + 0xc],0x8
0046882d : MOV EDX,dword ptr [ESI + 0xc]
00468830 : LEA EAX,[EDX + EDX*0x1 + 0x1]
00468834 : PUSH EAX
00468835 : PUSH ESI
00468836 : CALL 0x0046b8a0
0046883b : MOV EAX,dword ptr [ESI + 0x8]
0046883e : MOV EDX,dword ptr [ESI + 0x4]
00468841 : MOVQ XMM0,qword ptr [EDI]
00468845 : LEA ECX,[EAX + EAX*0x4]
00468848 : MOVQ qword ptr [EDX + ECX*0x8],XMM0
0046884d : MOVQ XMM0,qword ptr [EDI + 0x8]
00468852 : LEA EAX,[EDX + ECX*0x8]
00468855 : MOVQ qword ptr [EAX + 0x8],XMM0
0046885a : MOVQ XMM0,qword ptr [EDI + 0x10]
0046885f : MOVQ qword ptr [EAX + 0x10],XMM0
00468864 : MOVQ XMM0,qword ptr [EDI + 0x18]
00468869 : MOVQ qword ptr [EAX + 0x18],XMM0
0046886e : MOVQ XMM0,qword ptr [EDI + 0x20]
00468873 : MOVQ qword ptr [EAX + 0x20],XMM0
00468878 : INC dword ptr [ESI + 0x8]
0046887b : MOV AL,BL
0046887d : POP EBX
0046887e : RET
