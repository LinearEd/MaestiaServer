PROGRAM  : Maestia.exe
FUNCTION : FUN_00934770
ENTRY    : 00934770
BODY     : [[00934770, 00934a6d]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00934770(undefined4 param_1,int param_2)

{
  short sVar1;
  uint uVar2;
  int iVar3;
  short sVar4;
  undefined4 ****ppppuVar5;
  int iVar6;
  undefined4 local_54;
  int local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined4 ***local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  uint local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b1f886;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar6 = *(int *)(DAT_017248f8 + 0x1c);
  local_54 = param_1;
  local_14 = uVar2;
  FUN_004437f0(&local_54);
  if ((local_50 != *(int *)(iVar6 + 4)) && (iVar6 = *(int *)(local_50 + 0x10), iVar6 != 0)) {
    local_34 = 7;
    local_38 = 0;
    local_48 = 0;
    local_8 = 0;
    iVar3 = *(int *)(*(int *)(iVar6 + 4) + 0xbc + param_2 * 4);
    if ((iVar3 == 1) ||
       ((((iVar3 == 2 || (iVar3 == 5)) || (iVar3 == 7)) || ((iVar3 == 0xd || (iVar3 == 0xf)))))) {
      sVar1 = *(short *)(*(int *)(iVar6 + 4) + 0xc2 + param_2 * 2);
      sVar4 = 1;
      if (sVar1 != 0) {
        sVar4 = sVar1;
      }
      iVar3 = iVar6 + 0xac + param_2 * 0x1c;
      if (*(uint *)(iVar6 + 0xc4 + param_2 * 0x1c) < 8) {
        iVar3 = iVar3 + 4;
      }
      else {
        iVar3 = *(int *)(iVar3 + 4);
      }
      FUN_00404750(L"(%d/%d) %s",*(undefined4 *)(iVar6 + 0xc + param_2 * 4),sVar4,iVar3,uVar2);
      local_8 = CONCAT31(local_8._1_3_,1);
      iVar3 = *DAT_00da9894;
      if ((iVar3 != 0) && (*(int *)(iVar3 + 0x114) != 0)) {
        ppppuVar5 = (undefined4 ****)local_2c[0];
        if (local_18 < 8) {
          ppppuVar5 = local_2c;
        }
        (**(code **)(**(int **)(iVar3 + 0x114) + 4))
                  (*(int **)(iVar3 + 0x114),"QuestListUpdateCollect","%d,%ls,%d",
                   *(undefined4 *)(iVar6 + 0x10c),ppppuVar5,param_2);
      }
      FUN_00405c30(local_4c,0,0xffffffff);
      iVar3 = *DAT_00da9894;
      if ((iVar3 != 0) && (*(int *)(iVar3 + 0x114) != 0)) {
        ppppuVar5 = (undefined4 ****)local_2c[0];
        if (local_18 < 8) {
          ppppuVar5 = local_2c;
        }
        if (*(uint *)(iVar6 + 0x38) < 8) {
          iVar6 = iVar6 + 0x24;
        }
        else {
          iVar6 = *(int *)(iVar6 + 0x24);
        }
        (**(code **)(**(int **)(iVar3 + 0x114) + 4))
                  (*(int **)(iVar3 + 0x114),"UpdateQuest","%ls,%ls,%d",iVar6,ppppuVar5,param_2);
      }
      local_8 = local_8 & 0xffffff00;
      if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      local_18 = 7;
      local_1c = 0;
      local_2c[0] = (undefined4 ***)((uint)local_2c[0] & 0xffff0000);
    }
    else if (*(int *)(iVar6 + 0xc0 + param_2 * 0x1c) != 0) {
      FUN_00405660(iVar6 + param_2 * 0x1c + 0xac);
      local_8 = CONCAT31(local_8._1_3_,2);
      iVar3 = *DAT_00da9894;
      if ((iVar3 != 0) && (*(int *)(iVar3 + 0x114) != 0)) {
        ppppuVar5 = (undefined4 ****)local_2c[0];
        if (local_18 < 8) {
          ppppuVar5 = local_2c;
        }
        (**(code **)(**(int **)(iVar3 + 0x114) + 4))
                  (*(int **)(iVar3 + 0x114),"QuestListUpdateCollect","%d,%ls,%d",
                   *(undefined4 *)(iVar6 + 0x10c),ppppuVar5,param_2);
      }
      FUN_00405c30(local_4c,0,0xffffffff);
      iVar3 = *DAT_00da9894;
      if ((iVar3 != 0) && (*(int *)(iVar3 + 0x114) != 0)) {
        ppppuVar5 = (undefined4 ****)local_2c[0];
        if (local_18 < 8) {
          ppppuVar5 = local_2c;
        }
        if (*(uint *)(iVar6 + 0x38) < 8) {
          iVar6 = iVar6 + 0x24;
        }
        else {
          iVar6 = *(int *)(iVar6 + 0x24);
        }
        (**(code **)(**(int **)(iVar3 + 0x114) + 4))
                  (*(int **)(iVar3 + 0x114),"UpdateQuest","%ls,%ls,%d",iVar6,ppppuVar5,param_2);
      }
      local_8 = local_8 & 0xffffff00;
      FUN_00406560();
    }
    local_8 = 0xffffffff;
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_34 = 7;
    local_38 = 0;
    local_48 = 0;
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00934770 : PUSH EBP
00934771 : MOV EBP,ESP
00934773 : PUSH -0x1
00934775 : PUSH 0xb1f886
0093477a : MOV EAX,FS:[0x0]
00934780 : PUSH EAX
00934781 : SUB ESP,0x44
00934784 : MOV EAX,[0x00d66fa0]
00934789 : XOR EAX,EBP
0093478b : MOV dword ptr [EBP + -0x10],EAX
0093478e : PUSH EBX
0093478f : PUSH ESI
00934790 : PUSH EDI
00934791 : PUSH EAX
00934792 : LEA EAX,[EBP + -0xc]
00934795 : MOV FS:[0x0],EAX
0093479b : MOV EBX,dword ptr [EBP + 0xc]
0093479e : MOV ECX,dword ptr [0x017248f8]
009347a4 : MOV EAX,dword ptr [EBP + 0x8]
009347a7 : MOV ESI,dword ptr [ECX + 0x1c]
009347aa : LEA EDX,[EBP + -0x50]
009347ad : MOV dword ptr [EBP + -0x50],EAX
009347b0 : PUSH EDX
009347b1 : LEA EAX,[EBP + -0x4c]
009347b4 : MOV ECX,ESI
009347b6 : CALL 0x004437f0
009347bb : MOV ESI,dword ptr [ESI + 0x4]
009347be : MOV EAX,dword ptr [EBP + -0x4c]
009347c1 : CMP EAX,ESI
009347c3 : JZ 0x00934a50
009347c9 : MOV EDI,dword ptr [EAX + 0x10]
009347cc : XOR ESI,ESI
009347ce : CMP EDI,ESI
009347d0 : JZ 0x00934a50
009347d6 : XOR EAX,EAX
009347d8 : MOV dword ptr [EBP + -0x30],0x7
009347df : MOV dword ptr [EBP + -0x34],ESI
009347e2 : MOV word ptr [EBP + -0x44],AX
009347e6 : MOV dword ptr [EBP + -0x4],ESI
009347e9 : MOV ECX,dword ptr [EDI + 0x4]
009347ec : MOV EAX,dword ptr [ECX + EBX*0x4 + 0xbc]
009347f3 : CMP EAX,0x1
009347f6 : JZ 0x00934907
009347fc : CMP EAX,0x2
009347ff : JZ 0x00934907
00934805 : CMP EAX,0x5
00934808 : JZ 0x00934907
0093480e : CMP EAX,0x7
00934811 : JZ 0x00934907
00934817 : CMP EAX,0xd
0093481a : JZ 0x00934907
00934820 : CMP EAX,0xf
00934823 : JZ 0x00934907
00934829 : LEA ECX,[EBX*0x8 + 0x0]
00934830 : SUB ECX,EBX
00934832 : CMP dword ptr [EDI + ECX*0x4 + 0xc0],ESI
00934839 : LEA EAX,[EDI + ECX*0x4]
0093483c : JZ 0x00934a2b
00934842 : ADD EAX,0xac
00934847 : PUSH EAX
00934848 : LEA ECX,[EBP + -0x2c]
0093484b : CALL 0x00405660
00934850 : MOV byte ptr [EBP + -0x4],0x2
00934854 : MOV EDX,dword ptr [0x00da9894]
0093485a : MOV EAX,dword ptr [EDX]
0093485c : CMP EAX,ESI
0093485e : JZ 0x00934898
00934860 : CMP dword ptr [EAX + 0x114],ESI
00934866 : JZ 0x00934898
00934868 : CMP dword ptr [EBP + -0x14],0x8
0093486c : MOV EAX,dword ptr [EAX + 0x114]
00934872 : MOV ECX,dword ptr [EBP + -0x28]
00934875 : JNC 0x0093487a
00934877 : LEA ECX,[EBP + -0x28]
0093487a : MOV EDX,dword ptr [EAX]
0093487c : MOV EDX,dword ptr [EDX + 0x4]
0093487f : PUSH EBX
00934880 : PUSH ECX
00934881 : MOV ECX,dword ptr [EDI + 0x10c]
00934887 : PUSH ECX
00934888 : PUSH 0xc6e80c
0093488d : PUSH 0xc6e818
00934892 : PUSH EAX
00934893 : CALL EDX
00934895 : ADD ESP,0x18
00934898 : PUSH -0x1
0093489a : PUSH ESI
0093489b : LEA EAX,[EBP + -0x48]
0093489e : PUSH EAX
0093489f : LEA ECX,[EBP + -0x2c]
009348a2 : CALL 0x00405c30
009348a7 : MOV ECX,dword ptr [0x00da9894]
009348ad : MOV EAX,dword ptr [ECX]
009348af : CMP EAX,ESI
009348b1 : JZ 0x009348f6
009348b3 : CMP dword ptr [EAX + 0x114],ESI
009348b9 : JZ 0x009348f6
009348bb : MOV EAX,dword ptr [EAX + 0x114]
009348c1 : MOV ECX,dword ptr [EBP + -0x28]
009348c4 : MOV EDX,0x8
009348c9 : CMP dword ptr [EBP + -0x14],EDX
009348cc : JNC 0x009348d1
009348ce : LEA ECX,[EBP + -0x28]
009348d1 : CMP dword ptr [EDI + 0x38],EDX
009348d4 : JC 0x009348db
009348d6 : MOV EDI,dword ptr [EDI + 0x24]
009348d9 : JMP 0x009348de
009348db : ADD EDI,0x24
009348de : MOV EDX,dword ptr [EAX]
009348e0 : PUSH EBX
009348e1 : PUSH ECX
009348e2 : PUSH EDI
009348e3 : PUSH 0xc6e830
009348e8 : PUSH 0xc6e83c
009348ed : PUSH EAX
009348ee : MOV EAX,dword ptr [EDX + 0x4]
009348f1 : CALL EAX
009348f3 : ADD ESP,0x18
009348f6 : MOV byte ptr [EBP + -0x4],0x0
009348fa : LEA ECX,[EBP + -0x2c]
009348fd : CALL 0x00406560
00934902 : JMP 0x00934a2b
00934907 : MOVZX EAX,word ptr [ECX + EBX*0x2 + 0xc2]
0093490f : MOV ECX,0x1
00934914 : CMP CX,AX
00934917 : JA 0x0093491c
00934919 : MOVZX ECX,AX
0093491c : LEA EDX,[EBX*0x8 + 0x0]
00934923 : SUB EDX,EBX
00934925 : CMP dword ptr [EDI + EDX*0x4 + 0xc4],0x8
0093492d : LEA EAX,[EDI + EDX*0x4 + 0xac]
00934934 : JC 0x0093493b
00934936 : MOV EAX,dword ptr [EAX + 0x4]
00934939 : JMP 0x0093493e
0093493b : ADD EAX,0x4
0093493e : PUSH EAX
0093493f : MOV EAX,dword ptr [EDI + EBX*0x4 + 0xc]
00934943 : PUSH ECX
00934944 : PUSH EAX
00934945 : PUSH 0xc6e7b8
0093494a : LEA ESI,[EBP + -0x2c]
0093494d : CALL 0x00404750
00934952 : ADD ESP,0x10
00934955 : MOV byte ptr [EBP + -0x4],0x1
00934959 : MOV ECX,dword ptr [0x00da9894]
0093495f : MOV EAX,dword ptr [ECX]
00934961 : TEST EAX,EAX
00934963 : JZ 0x009349a4
00934965 : CMP dword ptr [EAX + 0x114],0x0
0093496c : JZ 0x009349a4
0093496e : MOV EAX,dword ptr [EAX + 0x114]
00934974 : MOV ECX,dword ptr [EBP + -0x28]
00934977 : MOV ESI,0x8
0093497c : CMP dword ptr [EBP + -0x14],ESI
0093497f : JNC 0x00934984
00934981 : LEA ECX,[EBP + -0x28]
00934984 : MOV EDX,dword ptr [EAX]
00934986 : MOV EDX,dword ptr [EDX + 0x4]
00934989 : PUSH EBX
0093498a : PUSH ECX
0093498b : MOV ECX,dword ptr [EDI + 0x10c]
00934991 : PUSH ECX
00934992 : PUSH 0xc6e7d0
00934997 : PUSH 0xc6e7dc
0093499c : PUSH EAX
0093499d : CALL EDX
0093499f : ADD ESP,0x18
009349a2 : JMP 0x009349a9
009349a4 : MOV ESI,0x8
009349a9 : PUSH -0x1
009349ab : PUSH 0x0
009349ad : LEA EAX,[EBP + -0x48]
009349b0 : PUSH EAX
009349b1 : LEA ECX,[EBP + -0x2c]
009349b4 : CALL 0x00405c30
009349b9 : MOV ECX,dword ptr [0x00da9894]
009349bf : MOV EAX,dword ptr [ECX]
009349c1 : TEST EAX,EAX
009349c3 : JZ 0x00934a04
009349c5 : CMP dword ptr [EAX + 0x114],0x0
009349cc : JZ 0x00934a04
009349ce : MOV EAX,dword ptr [EAX + 0x114]
009349d4 : MOV ECX,dword ptr [EBP + -0x28]
009349d7 : CMP dword ptr [EBP + -0x14],ESI
009349da : JNC 0x009349df
009349dc : LEA ECX,[EBP + -0x28]
009349df : CMP dword ptr [EDI + 0x38],ESI
009349e2 : JC 0x009349e9
009349e4 : MOV EDI,dword ptr [EDI + 0x24]
009349e7 : JMP 0x009349ec
009349e9 : ADD EDI,0x24
009349ec : MOV EDX,dword ptr [EAX]
009349ee : PUSH EBX
009349ef : PUSH ECX
009349f0 : PUSH EDI
009349f1 : PUSH 0xc6e7f4
009349f6 : PUSH 0xc6e800
009349fb : PUSH EAX
009349fc : MOV EAX,dword ptr [EDX + 0x4]
009349ff : CALL EAX
00934a01 : ADD ESP,0x18
00934a04 : MOV byte ptr [EBP + -0x4],0x0
00934a08 : CMP dword ptr [EBP + -0x14],ESI
00934a0b : JC 0x00934a15
00934a0d : MOV ECX,dword ptr [EBP + -0x28]
00934a10 : CALL 0x006f04e0
00934a15 : XOR ECX,ECX
00934a17 : MOV dword ptr [EBP + -0x14],0x7
00934a1e : MOV dword ptr [EBP + -0x18],0x0
00934a25 : MOV word ptr [EBP + -0x28],CX
00934a29 : XOR ESI,ESI
00934a2b : MOV dword ptr [EBP + -0x4],0xffffffff
00934a32 : CMP dword ptr [EBP + -0x30],0x8
00934a36 : JC 0x00934a40
00934a38 : MOV ECX,dword ptr [EBP + -0x44]
00934a3b : CALL 0x006f04e0
00934a40 : XOR EDX,EDX
00934a42 : MOV dword ptr [EBP + -0x30],0x7
00934a49 : MOV dword ptr [EBP + -0x34],ESI
00934a4c : MOV word ptr [EBP + -0x44],DX
00934a50 : MOV ECX,dword ptr [EBP + -0xc]
00934a53 : MOV dword ptr FS:[0x0],ECX
00934a5a : POP ECX
00934a5b : POP EDI
00934a5c : POP ESI
00934a5d : POP EBX
00934a5e : MOV ECX,dword ptr [EBP + -0x10]
00934a61 : XOR ECX,EBP
00934a63 : CALL 0x00633e6b
00934a68 : MOV ESP,EBP
00934a6a : POP EBP
00934a6b : RET 0x8
