PROGRAM  : Maestia.exe
FUNCTION : FUN_00737c50
ENTRY    : 00737c50
BODY     : [[00737c50, 00737efa]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00737c50(int *param_1)

{
  ushort uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  float local_4c;
  float local_48;
  float local_44;
  undefined4 local_40;
  undefined4 local_3c;
  undefined4 local_38;
  undefined4 local_34;
  undefined4 local_30;
  uint local_2c;
  int local_28;
  uint local_24;
  int *local_20;
  uint local_1c;
  float local_18;
  int local_14;
  int local_10;
  int local_c [2];
  
  iVar5 = *(int *)(param_1[0x7a] + 0xd0);
  local_14 = *(int *)(iVar5 + 0x24);
  local_28 = iVar5;
  (**(code **)(*param_1 + 0xa4))(param_1[0xc1],0);
  local_3c = 0;
  local_38 = 0;
  local_34 = 0;
  local_30 = 0;
  local_4c = 0.0;
  local_48 = 0.0;
  local_44 = 0.0;
  local_40 = 0;
  uVar1 = *(ushort *)(iVar5 + 0x10);
  local_10 = 0;
  local_c[0] = 0;
  local_2c = (uint)uVar1;
  (**(code **)(**(int **)(iVar5 + 8) + 0x2c))(*(int **)(iVar5 + 8),0,0,&local_10,0);
  (**(code **)(**(int **)(iVar5 + 0x20) + 0x2c))(*(int **)(iVar5 + 0x20),0,0,local_c,0);
  local_1c = 0;
  if (uVar1 != 0) {
    uVar3 = 0;
    do {
      iVar2 = uVar3 * 0x24;
      *(undefined4 *)(iVar2 + local_c[0]) = 0;
      *(undefined4 *)(iVar2 + 4 + local_c[0]) = 0;
      *(undefined4 *)(iVar2 + 8 + local_c[0]) = 0;
      *(undefined4 *)(iVar2 + 0xc + local_c[0]) = 0;
      *(undefined4 *)(iVar2 + 0x10 + local_c[0]) = 0;
      *(undefined4 *)(iVar2 + 0x14 + local_c[0]) = 0;
      *(undefined4 *)(iVar2 + 0x1c + local_c[0]) = *(undefined4 *)(iVar2 + 0x1c + local_10);
      *(undefined4 *)(iVar2 + 0x20 + local_c[0]) = *(undefined4 *)(iVar2 + 0x20 + local_10);
      *(undefined4 *)(iVar2 + 0x18 + local_c[0]) = *(undefined4 *)(iVar2 + 0x18 + local_10);
      local_24 = (uint)*(ushort *)(local_14 + uVar3 * 8);
      iVar4 = 0;
      if (local_24 != 0) {
        local_20 = (int *)(local_14 + 4 + uVar3 * 8);
        do {
          local_18 = *(float *)(*local_20 + iVar4 * 8);
          local_34 = *(undefined4 *)(iVar2 + 8 + local_10);
          local_3c = *(undefined4 *)(iVar2 + local_10);
          local_38 = *(undefined4 *)(iVar2 + 4 + local_10);
          iVar5 = (uint)*(ushort *)(*local_20 + iVar4 * 8 + 4) * 0x40;
          local_30 = 0x3f800000;
          D3DXVec4Transform(&local_4c,&local_3c,param_1[0xc1] + iVar5);
          *(float *)(iVar2 + local_c[0]) = local_4c * local_18 + *(float *)(iVar2 + local_c[0]);
          *(float *)(iVar2 + 4 + local_c[0]) =
               local_48 * local_18 + *(float *)(iVar2 + 4 + local_c[0]);
          *(float *)(iVar2 + 8 + local_c[0]) =
               local_44 * local_18 + *(float *)(iVar2 + 8 + local_c[0]);
          local_38 = *(undefined4 *)(iVar2 + 0x10 + local_10);
          local_34 = *(undefined4 *)(iVar2 + 0x14 + local_10);
          local_3c = *(undefined4 *)(iVar2 + 0xc + local_10);
          local_30 = 0;
          D3DXVec4Transform(&local_4c,&local_3c,param_1[0xc1] + iVar5);
          *(float *)(iVar2 + 0xc + local_c[0]) =
               local_4c * local_18 + *(float *)(iVar2 + 0xc + local_c[0]);
          *(float *)(iVar2 + 0x10 + local_c[0]) =
               local_48 * local_18 + *(float *)(iVar2 + 0x10 + local_c[0]);
          iVar4 = iVar4 + 1;
          *(float *)(iVar2 + 0x14 + local_c[0]) =
               local_44 * local_18 + *(float *)(iVar2 + 0x14 + local_c[0]);
          iVar5 = local_28;
        } while (iVar4 < (int)local_24);
      }
      local_1c = local_1c + 1;
      uVar3 = local_1c & 0xffff;
    } while (uVar3 < local_2c);
  }
  (**(code **)(**(int **)(iVar5 + 0x20) + 0x30))(*(int **)(iVar5 + 0x20));
  (**(code **)(**(int **)(iVar5 + 8) + 0x30))(*(int **)(iVar5 + 8));
  return;
}



============================================================
DISASSEMBLY
============================================================
00737c50 : PUSH EBP
00737c51 : MOV EBP,ESP
00737c53 : SUB ESP,0x48
00737c56 : MOV ECX,dword ptr [EBP + 0x8]
00737c59 : MOV EAX,dword ptr [ECX + 0x1e8]
00737c5f : PUSH EBX
00737c60 : PUSH ESI
00737c61 : PUSH EDI
00737c62 : MOV EDI,dword ptr [EAX + 0xd0]
00737c68 : MOV EDX,dword ptr [EDI + 0x24]
00737c6b : MOV EAX,dword ptr [ECX]
00737c6d : MOV EAX,dword ptr [EAX + 0xa4]
00737c73 : MOV dword ptr [EBP + -0x10],EDX
00737c76 : MOV EDX,dword ptr [ECX + 0x304]
00737c7c : XOR EBX,EBX
00737c7e : PUSH EBX
00737c7f : PUSH EDX
00737c80 : MOV dword ptr [EBP + -0x24],EDI
00737c83 : CALL EAX
00737c85 : XORPS XMM0,XMM0
00737c88 : PUSH EBX
00737c89 : MOVSS dword ptr [EBP + -0x38],XMM0
00737c8e : MOVSS dword ptr [EBP + -0x34],XMM0
00737c93 : MOVSS dword ptr [EBP + -0x30],XMM0
00737c98 : MOVSS dword ptr [EBP + -0x2c],XMM0
00737c9d : MOVSS dword ptr [EBP + -0x48],XMM0
00737ca2 : MOVSS dword ptr [EBP + -0x44],XMM0
00737ca7 : MOVSS dword ptr [EBP + -0x40],XMM0
00737cac : MOVSS dword ptr [EBP + -0x3c],XMM0
00737cb1 : MOVZX ESI,word ptr [EDI + 0x10]
00737cb5 : LEA EDX,[EBP + -0xc]
00737cb8 : PUSH EDX
00737cb9 : MOV dword ptr [EBP + -0xc],EBX
00737cbc : MOV dword ptr [EBP + -0x8],EBX
00737cbf : MOV EAX,dword ptr [EDI + 0x8]
00737cc2 : MOV ECX,dword ptr [EAX]
00737cc4 : PUSH EBX
00737cc5 : PUSH EBX
00737cc6 : PUSH EAX
00737cc7 : MOV EAX,dword ptr [ECX + 0x2c]
00737cca : MOV dword ptr [EBP + -0x28],ESI
00737ccd : CALL EAX
00737ccf : MOV EAX,dword ptr [EDI + 0x20]
00737cd2 : MOV ECX,dword ptr [EAX]
00737cd4 : PUSH EBX
00737cd5 : LEA EDX,[EBP + -0x8]
00737cd8 : PUSH EDX
00737cd9 : PUSH EBX
00737cda : PUSH EBX
00737cdb : PUSH EAX
00737cdc : MOV EAX,dword ptr [ECX + 0x2c]
00737cdf : CALL EAX
00737ce1 : MOV dword ptr [EBP + -0x18],EBX
00737ce4 : CMP ESI,EBX
00737ce6 : JBE 0x00737edc
00737cec : XORPS XMM0,XMM0
00737cef : XOR EAX,EAX
00737cf1 : MOV ECX,dword ptr [EBP + -0x8]
00737cf4 : LEA ESI,[EAX + EAX*0x8]
00737cf7 : ADD ESI,ESI
00737cf9 : ADD ESI,ESI
00737cfb : MOVSS dword ptr [ESI + ECX*0x1],XMM0
00737d00 : MOV EDX,dword ptr [EBP + -0x8]
00737d03 : MOVSS dword ptr [ESI + EDX*0x1 + 0x4],XMM0
00737d09 : MOV ECX,dword ptr [EBP + -0x8]
00737d0c : MOVSS dword ptr [ESI + ECX*0x1 + 0x8],XMM0
00737d12 : MOV EDX,dword ptr [EBP + -0x8]
00737d15 : MOVSS dword ptr [ESI + EDX*0x1 + 0xc],XMM0
00737d1b : MOV ECX,dword ptr [EBP + -0x8]
00737d1e : MOVSS dword ptr [ESI + ECX*0x1 + 0x10],XMM0
00737d24 : MOV EDX,dword ptr [EBP + -0x8]
00737d27 : MOVSS dword ptr [ESI + EDX*0x1 + 0x14],XMM0
00737d2d : MOV ECX,dword ptr [EBP + -0xc]
00737d30 : FLD float ptr [ESI + ECX*0x1 + 0x1c]
00737d34 : MOV EDX,dword ptr [EBP + -0x8]
00737d37 : FSTP float ptr [ESI + EDX*0x1 + 0x1c]
00737d3b : MOV ECX,dword ptr [EBP + -0xc]
00737d3e : FLD float ptr [ESI + ECX*0x1 + 0x20]
00737d42 : MOV EDX,dword ptr [EBP + -0x8]
00737d45 : FSTP float ptr [ESI + EDX*0x1 + 0x20]
00737d49 : MOV ECX,dword ptr [EBP + -0xc]
00737d4c : MOV EDX,dword ptr [ESI + ECX*0x1 + 0x18]
00737d50 : MOV ECX,dword ptr [EBP + -0x8]
00737d53 : MOV dword ptr [ESI + ECX*0x1 + 0x18],EDX
00737d57 : MOV EDX,dword ptr [EBP + -0x10]
00737d5a : MOVZX ECX,word ptr [EDX + EAX*0x8]
00737d5e : MOVZX ECX,CX
00737d61 : XOR EBX,EBX
00737d63 : MOV dword ptr [EBP + -0x20],ECX
00737d66 : TEST ECX,ECX
00737d68 : JLE 0x00737ec9
00737d6e : MOV ECX,EDX
00737d70 : LEA EDX,[ECX + EAX*0x8 + 0x4]
00737d74 : MOV dword ptr [EBP + -0x1c],EDX
00737d77 : MOV EAX,dword ptr [EBP + -0x1c]
00737d7a : MOV ECX,dword ptr [EAX]
00737d7c : MOVSS XMM0,dword ptr [ECX + EBX*0x8]
00737d81 : MOV EDX,dword ptr [EBP + 0x8]
00737d84 : LEA EAX,[ECX + EBX*0x8]
00737d87 : MOVZX ECX,word ptr [EAX + 0x4]
00737d8b : MOV EAX,dword ptr [EBP + -0xc]
00737d8e : MOVSS XMM1,dword ptr [ESI + EAX*0x1 + 0x8]
00737d94 : MOVSS XMM2,dword ptr [ESI + EAX*0x1]
00737d99 : MOVZX EDI,CX
00737d9c : MOVSS dword ptr [EBP + -0x14],XMM0
00737da1 : MOVSS XMM0,dword ptr [ESI + EAX*0x1 + 0x4]
00737da7 : MOV EAX,dword ptr [EDX + 0x304]
00737dad : SHL EDI,0x6
00737db0 : ADD EAX,EDI
00737db2 : PUSH EAX
00737db3 : LEA ECX,[EBP + -0x38]
00737db6 : PUSH ECX
00737db7 : LEA EDX,[EBP + -0x48]
00737dba : MOVSS dword ptr [EBP + -0x34],XMM0
00737dbf : MOVSS XMM0,dword ptr [0x00c10fc4]
00737dc7 : PUSH EDX
00737dc8 : MOVSS dword ptr [EBP + -0x38],XMM2
00737dcd : MOVSS dword ptr [EBP + -0x30],XMM1
00737dd2 : MOVSS dword ptr [EBP + -0x2c],XMM0
00737dd7 : CALL 0x004ff74c
00737ddc : MOV EAX,dword ptr [EBP + -0x8]
00737ddf : MOVSS XMM1,dword ptr [EBP + -0x48]
00737de4 : MOVSS XMM0,dword ptr [EBP + -0x14]
00737de9 : MULSS XMM1,XMM0
00737ded : ADDSS XMM1,dword ptr [ESI + EAX*0x1]
00737df2 : MOVSS dword ptr [ESI + EAX*0x1],XMM1
00737df7 : MOV EAX,dword ptr [EBP + -0x8]
00737dfa : MOVSS XMM1,dword ptr [EBP + -0x44]
00737dff : MULSS XMM1,XMM0
00737e03 : ADDSS XMM1,dword ptr [ESI + EAX*0x1 + 0x4]
00737e09 : MOVSS dword ptr [ESI + EAX*0x1 + 0x4],XMM1
00737e0f : MOV EAX,dword ptr [EBP + -0x8]
00737e12 : MOVSS XMM1,dword ptr [EBP + -0x40]
00737e17 : MULSS XMM1,XMM0
00737e1b : ADDSS XMM1,dword ptr [ESI + EAX*0x1 + 0x8]
00737e21 : MOVSS dword ptr [ESI + EAX*0x1 + 0x8],XMM1
00737e27 : MOV EAX,dword ptr [EBP + -0xc]
00737e2a : MOVSS XMM0,dword ptr [ESI + EAX*0x1 + 0x10]
00737e30 : MOVSS XMM1,dword ptr [ESI + EAX*0x1 + 0x14]
00737e36 : MOVSS XMM2,dword ptr [ESI + EAX*0x1 + 0xc]
00737e3c : MOV EAX,dword ptr [EBP + 0x8]
00737e3f : MOV ECX,dword ptr [EAX + 0x304]
00737e45 : ADD ECX,EDI
00737e47 : PUSH ECX
00737e48 : LEA EDX,[EBP + -0x38]
00737e4b : PUSH EDX
00737e4c : LEA EAX,[EBP + -0x48]
00737e4f : MOVSS dword ptr [EBP + -0x34],XMM0
00737e54 : XORPS XMM0,XMM0
00737e57 : PUSH EAX
00737e58 : MOVSS dword ptr [EBP + -0x38],XMM2
00737e5d : MOVSS dword ptr [EBP + -0x30],XMM1
00737e62 : MOVSS dword ptr [EBP + -0x2c],XMM0
00737e67 : CALL 0x004ff74c
00737e6c : MOV EAX,dword ptr [EBP + -0x8]
00737e6f : MOVSS XMM1,dword ptr [EBP + -0x48]
00737e74 : MOVSS XMM0,dword ptr [EBP + -0x14]
00737e79 : MULSS XMM1,XMM0
00737e7d : ADDSS XMM1,dword ptr [ESI + EAX*0x1 + 0xc]
00737e83 : MOVSS dword ptr [ESI + EAX*0x1 + 0xc],XMM1
00737e89 : MOV EAX,dword ptr [EBP + -0x8]
00737e8c : MOVSS XMM1,dword ptr [EBP + -0x44]
00737e91 : MULSS XMM1,XMM0
00737e95 : ADDSS XMM1,dword ptr [ESI + EAX*0x1 + 0x10]
00737e9b : MOVSS dword ptr [ESI + EAX*0x1 + 0x10],XMM1
00737ea1 : MOV EAX,dword ptr [EBP + -0x8]
00737ea4 : MOVSS XMM1,dword ptr [EBP + -0x40]
00737ea9 : INC EBX
00737eaa : CMP EBX,dword ptr [EBP + -0x20]
00737ead : MULSS XMM1,XMM0
00737eb1 : ADDSS XMM1,dword ptr [ESI + EAX*0x1 + 0x14]
00737eb7 : MOVSS dword ptr [ESI + EAX*0x1 + 0x14],XMM1
00737ebd : JL 0x00737d77
00737ec3 : XORPS XMM0,XMM0
00737ec6 : MOV EDI,dword ptr [EBP + -0x24]
00737ec9 : MOV EAX,dword ptr [EBP + -0x18]
00737ecc : INC EAX
00737ecd : MOV dword ptr [EBP + -0x18],EAX
00737ed0 : MOVZX EAX,AX
00737ed3 : CMP EAX,dword ptr [EBP + -0x28]
00737ed6 : JC 0x00737cf1
00737edc : MOV EAX,dword ptr [EDI + 0x20]
00737edf : MOV ECX,dword ptr [EAX]
00737ee1 : MOV EDX,dword ptr [ECX + 0x30]
00737ee4 : PUSH EAX
00737ee5 : CALL EDX
00737ee7 : MOV EDI,dword ptr [EDI + 0x8]
00737eea : MOV EAX,dword ptr [EDI]
00737eec : MOV ECX,dword ptr [EAX + 0x30]
00737eef : PUSH EDI
00737ef0 : CALL ECX
00737ef2 : POP EDI
00737ef3 : POP ESI
00737ef4 : POP EBX
00737ef5 : MOV ESP,EBP
00737ef7 : POP EBP
00737ef8 : RET 0x4
