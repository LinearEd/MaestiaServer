PROGRAM  : Maestia.exe
FUNCTION : FUN_005a0520
ENTRY    : 005a0520
BODY     : [[005a0520, 005a0592]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005a0520(int *param_1,undefined4 param_2,undefined4 *param_3,undefined4 param_4)

{
  undefined4 uVar1;
  undefined4 uVar2;
  GRefCountNTSImpl *this;
  undefined4 uVar3;
  undefined4 *in_ECX;
  
  if ((int *)param_1[3] == (int *)0x0) {
    this = (GRefCountNTSImpl *)0x0;
  }
  else {
    this = (GRefCountNTSImpl *)(**(code **)(*(int *)param_1[3] + 0x10))(param_3,param_4);
  }
  uVar3 = (**(code **)(*param_1 + 0x14))();
  FUN_00513610(this,uVar3);
  if (this != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(this);
  }
  *in_ECX = &PTR_FUN_00b8f0f0;
  uVar3 = param_3[3];
  uVar1 = param_3[1];
  uVar2 = *param_3;
  in_ECX[9] = param_3[2];
  in_ECX[7] = uVar2;
  in_ECX[10] = uVar3;
  in_ECX[8] = uVar1;
  in_ECX[0xb] = param_2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005a0520 : PUSH EBX
005a0521 : PUSH EBP
005a0522 : MOV EBP,dword ptr [ESP + 0xc]
005a0526 : PUSH ESI
005a0527 : MOV ESI,ECX
005a0529 : MOV ECX,dword ptr [EBP + 0xc]
005a052c : PUSH EDI
005a052d : MOV EDI,dword ptr [ESP + 0x1c]
005a0531 : TEST ECX,ECX
005a0533 : JZ 0x005a0546
005a0535 : MOV EDX,dword ptr [ESP + 0x20]
005a0539 : MOV EAX,dword ptr [ECX]
005a053b : MOV EAX,dword ptr [EAX + 0x10]
005a053e : PUSH EDX
005a053f : PUSH EDI
005a0540 : CALL EAX
005a0542 : MOV EBX,EAX
005a0544 : JMP 0x005a0548
005a0546 : XOR EBX,EBX
005a0548 : MOV EDX,dword ptr [EBP]
005a054b : MOV EAX,dword ptr [EDX + 0x14]
005a054e : MOV ECX,EBP
005a0550 : CALL EAX
005a0552 : PUSH EAX
005a0553 : PUSH EBX
005a0554 : MOV ECX,ESI
005a0556 : CALL 0x00513610
005a055b : TEST EBX,EBX
005a055d : JZ 0x005a0566
005a055f : MOV ECX,EBX
005a0561 : CALL 0x004ff7c0
005a0566 : MOV dword ptr [ESI],0xb8f0f0
005a056c : MOV EAX,dword ptr [EDI + 0xc]
005a056f : MOV ECX,dword ptr [EDI + 0x8]
005a0572 : MOV EDX,dword ptr [EDI + 0x4]
005a0575 : MOV EDI,dword ptr [EDI]
005a0577 : MOV dword ptr [ESI + 0x24],ECX
005a057a : MOV ECX,dword ptr [ESP + 0x18]
005a057e : MOV dword ptr [ESI + 0x1c],EDI
005a0581 : MOV dword ptr [ESI + 0x28],EAX
005a0584 : POP EDI
005a0585 : MOV dword ptr [ESI + 0x20],EDX
005a0588 : MOV dword ptr [ESI + 0x2c],ECX
005a058b : MOV EAX,ESI
005a058d : POP ESI
005a058e : POP EBP
005a058f : POP EBX
005a0590 : RET 0x10
