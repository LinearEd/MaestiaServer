PROGRAM  : Maestia.exe
FUNCTION : FUN_005e0460
ENTRY    : 005e0460
BODY     : [[005e0460, 005e04fe]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005e0460(GRefCountImpl *param_1,undefined4 param_2)

{
  int iVar1;
  undefined4 *in_ECX;
  
  *in_ECX = &PTR_LAB_00b85fe8;
  in_ECX[1] = 1;
  in_ECX[2] = 0;
  *in_ECX = &PTR_FUN_00b938e4;
  in_ECX[3] = 0;
  in_ECX[4] = 0;
  in_ECX[5] = 0;
  FUN_005237b0();
  if (param_1 != (GRefCountImpl *)0x0) {
    GRefCountImpl::AddRef(param_1);
  }
  if ((GRefCountImpl *)in_ECX[3] != (GRefCountImpl *)0x0) {
    GRefCountImpl::Release((GRefCountImpl *)in_ECX[3]);
  }
  in_ECX[3] = param_1;
  if (param_1 == (GRefCountImpl *)0x0) {
    iVar1 = 0;
  }
  else {
    iVar1 = (**(code **)(*(int *)param_1 + 4))();
  }
  if (iVar1 != 0) {
    *(int *)(iVar1 + 4) = *(int *)(iVar1 + 4) + 1;
  }
  if ((GRefCountNTSImpl *)in_ECX[4] != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release((GRefCountNTSImpl *)in_ECX[4]);
  }
  in_ECX[4] = iVar1;
  *(undefined1 *)(in_ECX + 8) = 0;
  in_ECX[9] = 0;
  FUN_00523820(param_2);
  *(undefined2 *)(in_ECX + 10) = 0;
  *(undefined2 *)((int)in_ECX + 0x2a) = 0;
  return;
}



============================================================
DISASSEMBLY
============================================================
005e0460 : PUSH EBX
005e0461 : PUSH EBP
005e0462 : PUSH ESI
005e0463 : MOV ESI,ECX
005e0465 : MOV dword ptr [ESI],0xb85fe8
005e046b : XOR EBX,EBX
005e046d : MOV dword ptr [ESI + 0x4],0x1
005e0474 : MOV dword ptr [ESI + 0x8],EBX
005e0477 : MOV dword ptr [ESI],0xb938e4
005e047d : MOV dword ptr [ESI + 0xc],EBX
005e0480 : LEA EBP,[ESI + 0x18]
005e0483 : MOV dword ptr [ESI + 0x10],EBX
005e0486 : PUSH EDI
005e0487 : MOV ECX,EBP
005e0489 : MOV dword ptr [ESI + 0x14],EBX
005e048c : CALL 0x005237b0
005e0491 : MOV EDI,dword ptr [ESP + 0x14]
005e0495 : CMP EDI,EBX
005e0497 : JZ 0x005e04a0
005e0499 : MOV ECX,EDI
005e049b : CALL 0x00523dd0
005e04a0 : MOV ECX,dword ptr [ESI + 0xc]
005e04a3 : CMP ECX,EBX
005e04a5 : JZ 0x005e04ac
005e04a7 : CALL 0x004ff7e0
005e04ac : MOV dword ptr [ESI + 0xc],EDI
005e04af : CMP EDI,EBX
005e04b1 : JZ 0x005e04c0
005e04b3 : MOV EAX,dword ptr [EDI]
005e04b5 : MOV EDX,dword ptr [EAX + 0x4]
005e04b8 : MOV ECX,EDI
005e04ba : CALL EDX
005e04bc : MOV EDI,EAX
005e04be : JMP 0x005e04c2
005e04c0 : XOR EDI,EDI
005e04c2 : CMP EDI,EBX
005e04c4 : JZ 0x005e04c9
005e04c6 : INC dword ptr [EDI + 0x4]
005e04c9 : MOV ECX,dword ptr [ESI + 0x10]
005e04cc : CMP ECX,EBX
005e04ce : JZ 0x005e04d5
005e04d0 : CALL 0x004ff7c0
005e04d5 : MOV EAX,dword ptr [ESP + 0x18]
005e04d9 : MOV dword ptr [ESI + 0x10],EDI
005e04dc : PUSH EAX
005e04dd : MOV ECX,EBP
005e04df : MOV byte ptr [ESI + 0x20],BL
005e04e2 : MOV dword ptr [ESI + 0x24],EBX
005e04e5 : CALL 0x00523820
005e04ea : POP EDI
005e04eb : XOR ECX,ECX
005e04ed : XOR EDX,EDX
005e04ef : MOV word ptr [ESI + 0x28],CX
005e04f3 : MOV word ptr [ESI + 0x2a],DX
005e04f7 : MOV EAX,ESI
005e04f9 : POP ESI
005e04fa : POP EBP
005e04fb : POP EBX
005e04fc : RET 0x8
