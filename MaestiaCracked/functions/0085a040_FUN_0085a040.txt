PROGRAM  : Maestia.exe
FUNCTION : FUN_0085a040
ENTRY    : 0085a040
BODY     : [[0085a040, 0085a135]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0085a040(void)

{
  ushort uVar1;
  uint uVar2;
  int iVar3;
  int in_ECX;
  uint local_18;
  int local_14;
  uint local_10;
  uint local_c;
  
  if (DAT_017248dc == 0) {
    FUN_008018d0(L"g_pGameSound NULL !!");
    return;
  }
  if (*(int *)(DAT_017248dc + 0x44) != 0) {
    local_14 = in_ECX;
    iVar3 = FUN_004049b0(*(undefined4 *)(in_ECX + 8));
    if (iVar3 != 0) {
      uVar1 = *(ushort *)(iVar3 + 6);
      local_18 = (uint)uVar1;
      FUN_004356c0(&local_18);
      uVar2 = local_10;
      if (local_10 != *(uint *)(DAT_017248dc + 0x40)) {
        local_10 = (uint)uVar1;
        FUN_004356f0(&local_10);
        local_18 = uVar2;
        while (local_18 != local_c) {
          FUN_0088cd50(*(undefined4 *)(*(int *)(local_18 + 0x10) + 0x28),*(int *)(local_18 + 0x10));
          FUN_00416210();
        }
      }
      Sleep(1);
      *(undefined1 *)(local_14 + 0x5f8) = 1;
    }
    return;
  }
  FUN_008018d0(L"GetSoundDataMap Empty");
  return;
}



============================================================
DISASSEMBLY
============================================================
0085a040 : PUSH EBP
0085a041 : MOV EBP,ESP
0085a043 : AND ESP,0xfffffff8
0085a046 : SUB ESP,0x14
0085a049 : PUSH EBX
0085a04a : PUSH ESI
0085a04b : PUSH EDI
0085a04c : MOV EDI,dword ptr [0x017248dc]
0085a052 : MOV dword ptr [ESP + 0x14],ECX
0085a056 : TEST EDI,EDI
0085a058 : JNZ 0x0085a076
0085a05a : MOV ESI,dword ptr [0x00da98e8]
0085a060 : PUSH 0xc3f358
0085a065 : CALL 0x008018d0
0085a06a : ADD ESP,0x4
0085a06d : POP EDI
0085a06e : POP ESI
0085a06f : POP EBX
0085a070 : MOV ESP,EBP
0085a072 : POP EBP
0085a073 : RET 0x4
0085a076 : CMP dword ptr [EDI + 0x44],0x0
0085a07a : JNZ 0x0085a098
0085a07c : MOV ESI,dword ptr [0x00da98e8]
0085a082 : PUSH 0xc3f384
0085a087 : CALL 0x008018d0
0085a08c : ADD ESP,0x4
0085a08f : POP EDI
0085a090 : POP ESI
0085a091 : POP EBX
0085a092 : MOV ESP,EBP
0085a094 : POP EBP
0085a095 : RET 0x4
0085a098 : MOV EAX,dword ptr [ECX + 0x8]
0085a09b : PUSH EAX
0085a09c : CALL 0x004049b0
0085a0a1 : ADD ESP,0x4
0085a0a4 : TEST EAX,EAX
0085a0a6 : JZ 0x0085a12d
0085a0ac : MOVZX ESI,word ptr [EAX + 0x6]
0085a0b0 : LEA ECX,[ESP + 0x10]
0085a0b4 : ADD EDI,0x3c
0085a0b7 : PUSH ECX
0085a0b8 : LEA EAX,[ESP + 0x1c]
0085a0bc : MOV ECX,EDI
0085a0be : MOV dword ptr [ESP + 0x14],ESI
0085a0c2 : CALL 0x004356c0
0085a0c7 : MOV EBX,dword ptr [ESP + 0x18]
0085a0cb : MOV EDX,dword ptr [0x017248dc]
0085a0d1 : CMP EBX,dword ptr [EDX + 0x40]
0085a0d4 : JZ 0x0085a11a
0085a0d6 : LEA EAX,[ESP + 0x18]
0085a0da : PUSH EAX
0085a0db : LEA EAX,[ESP + 0x20]
0085a0df : MOV ECX,EDI
0085a0e1 : MOV dword ptr [ESP + 0x1c],ESI
0085a0e5 : CALL 0x004356f0
0085a0ea : MOV ESI,dword ptr [ESP + 0x1c]
0085a0ee : MOV EAX,EBX
0085a0f0 : MOV dword ptr [ESP + 0x10],EAX
0085a0f4 : CMP EBX,ESI
0085a0f6 : JZ 0x0085a11a
0085a0f8 : MOV EAX,dword ptr [EAX + 0x10]
0085a0fb : MOV ECX,dword ptr [EAX + 0x28]
0085a0fe : PUSH EAX
0085a0ff : MOV EAX,dword ptr [ESP + 0x18]
0085a103 : PUSH ECX
0085a104 : CALL 0x0088cd50
0085a109 : LEA EDX,[ESP + 0x10]
0085a10d : CALL 0x00416210
0085a112 : MOV EAX,dword ptr [ESP + 0x10]
0085a116 : CMP EAX,ESI
0085a118 : JNZ 0x0085a0f8
0085a11a : PUSH 0x1
0085a11c : CALL dword ptr [0x00b8510c]
0085a122 : MOV EDX,dword ptr [ESP + 0x14]
0085a126 : MOV byte ptr [EDX + 0x5f8],0x1
0085a12d : POP EDI
0085a12e : POP ESI
0085a12f : POP EBX
0085a130 : MOV ESP,EBP
0085a132 : POP EBP
0085a133 : RET 0x4
