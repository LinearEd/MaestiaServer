PROGRAM  : Maestia.exe
FUNCTION : FUN_00473220
ENTRY    : 00473220
BODY     : [[00473220, 004732c3]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00473220(undefined4 *param_1,int param_2,undefined4 param_3)

{
  char cVar1;
  uint uVar2;
  undefined4 uVar3;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  puStack_c = &LAB_00b824d8;
  local_10 = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  *param_1 = &PTR_FUN_00cd6428;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  *(undefined1 *)(param_1 + 4) = 0;
  local_8 = 0;
  param_1[6] = 0xffffffff;
  *param_1 = &PTR_FUN_00cd6424;
  *(undefined1 *)(param_1 + 5) = 1;
  uVar3 = FUN_00808040(param_3,param_1 + 6,uVar2);
  FUN_00473350(param_1,uVar3,param_2 * 0x14);
  cVar1 = FUN_00473190(param_1,param_2);
  if (cVar1 == '\0') {
    param_1[2] = param_1[3];
  }
  else {
    param_1[2] = param_2;
  }
  ExceptionList = local_10;
  return param_1;
}



============================================================
DISASSEMBLY
============================================================
00473220 : PUSH EBP
00473221 : MOV EBP,ESP
00473223 : PUSH -0x1
00473225 : PUSH 0xb824d8
0047322a : MOV EAX,FS:[0x0]
00473230 : PUSH EAX
00473231 : PUSH EBX
00473232 : PUSH ESI
00473233 : PUSH EDI
00473234 : MOV EAX,[0x00d66fa0]
00473239 : XOR EAX,EBP
0047323b : PUSH EAX
0047323c : LEA EAX,[EBP + -0xc]
0047323f : MOV FS:[0x0],EAX
00473245 : MOV EBX,dword ptr [EBP + 0xc]
00473248 : MOV ESI,dword ptr [EBP + 0x8]
0047324b : XOR EAX,EAX
0047324d : MOV dword ptr [ESI],0xcd6428
00473253 : MOV dword ptr [ESI + 0x4],EAX
00473256 : MOV dword ptr [ESI + 0x8],EAX
00473259 : MOV dword ptr [ESI + 0xc],EAX
0047325c : MOV byte ptr [ESI + 0x10],AL
0047325f : MOV dword ptr [EBP + -0x4],EAX
00473262 : LEA EAX,[ESI + 0x18]
00473265 : PUSH EAX
00473266 : MOV dword ptr [EAX],0xffffffff
0047326c : MOV EAX,dword ptr [EBP + 0x10]
0047326f : LEA EDI,[EBX + EBX*0x4]
00473272 : ADD EDI,EDI
00473274 : ADD EDI,EDI
00473276 : PUSH EAX
00473277 : MOV dword ptr [ESI],0xcd6424
0047327d : MOV byte ptr [ESI + 0x14],0x1
00473281 : CALL 0x00808040
00473286 : ADD ESP,0x8
00473289 : PUSH EDI
0047328a : PUSH EAX
0047328b : PUSH ESI
0047328c : CALL 0x00473350
00473291 : PUSH EBX
00473292 : PUSH ESI
00473293 : CALL 0x00473190
00473298 : TEST AL,AL
0047329a : JZ 0x004732a1
0047329c : MOV dword ptr [ESI + 0x8],EBX
0047329f : JMP 0x004732a7
004732a1 : MOV ECX,dword ptr [ESI + 0xc]
004732a4 : MOV dword ptr [ESI + 0x8],ECX
004732a7 : MOV dword ptr [EBP + -0x4],0xffffffff
004732ae : MOV EAX,ESI
004732b0 : MOV ECX,dword ptr [EBP + -0xc]
004732b3 : MOV dword ptr FS:[0x0],ECX
004732ba : POP ECX
004732bb : POP EDI
004732bc : POP ESI
004732bd : POP EBX
004732be : MOV ESP,EBP
004732c0 : POP EBP
004732c1 : RET 0xc
