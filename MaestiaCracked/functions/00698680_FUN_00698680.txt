PROGRAM  : Maestia.exe
FUNCTION : FUN_00698680
ENTRY    : 00698680
BODY     : [[00698680, 00698790]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00698680(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 *puVar1;
  int iVar2;
  undefined4 uVar3;
  char cVar4;
  int in_EAX;
  int iVar5;
  int iVar6;
  int iVar7;
  
  *(uint *)(in_EAX + 0x38) = in_EAX + 0xbcU;
  *(undefined4 *)(in_EAX + 0xcc) = *(undefined4 *)(in_EAX + 0x48);
  *(undefined4 *)(*(int *)(in_EAX + 0x38) + 0x14) = *(undefined4 *)(in_EAX + 0x4c);
  *(undefined4 *)(*(int *)(in_EAX + 0x38) + 8) = param_1;
  *(undefined4 *)(*(int *)(in_EAX + 0x38) + 0xc) = param_2;
  **(undefined4 **)(in_EAX + 0x38) = param_3;
  *(undefined4 *)(*(int *)(in_EAX + 0x38) + 4) = param_4;
  do {
    puVar1 = *(undefined4 **)(in_EAX + 0x38);
    iVar5 = puVar1[5];
    iVar2 = puVar1[1];
    uVar3 = *puVar1;
    iVar6 = iVar2;
    iVar7 = iVar5;
    if (iVar5 <= iVar2) {
      iVar6 = iVar5;
      iVar7 = iVar2;
    }
    if (((int)puVar1[3] < iVar6) || (iVar7 < (int)puVar1[3])) {
      FUN_00698130(puVar1);
      *(int *)(in_EAX + 0x38) = *(int *)(in_EAX + 0x38) + 0x10;
    }
    else if (iVar5 == iVar2) {
      *(undefined4 **)(in_EAX + 0x38) = puVar1 + -4;
    }
    else {
      iVar5 = (iVar2 <= iVar5) + 1;
      if ((*(int *)(in_EAX + 0x68) != iVar5) &&
         (((*(int *)(in_EAX + 0x68) != 0 && (cVar4 = FUN_00697fb0(), cVar4 != '\0')) ||
          (cVar4 = FUN_00697f20(), cVar4 != '\0')))) {
        return 1;
      }
      if (iVar5 == 1) {
        cVar4 = FUN_006983e0(FUN_00698130,*(undefined4 *)(in_EAX + 0x50),
                             *(undefined4 *)(in_EAX + 0x54));
      }
      else {
        cVar4 = FUN_00698550();
      }
      if (cVar4 != '\0') {
        return 1;
      }
    }
    if (*(uint *)(in_EAX + 0x38) < in_EAX + 0xbcU) {
      *(undefined4 *)(in_EAX + 0x48) = uVar3;
      *(int *)(in_EAX + 0x4c) = iVar2;
      return 0;
    }
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00698680 : PUSH EBX
00698681 : PUSH EBP
00698682 : PUSH ESI
00698683 : PUSH EDI
00698684 : MOV EDI,EAX
00698686 : MOV EAX,dword ptr [EDI + 0x48]
00698689 : LEA EBP,[EDI + 0xbc]
0069868f : MOV dword ptr [EDI + 0x38],EBP
00698692 : MOV dword ptr [EBP + 0x10],EAX
00698695 : MOV ECX,dword ptr [EDI + 0x38]
00698698 : MOV EDX,dword ptr [EDI + 0x4c]
0069869b : MOV dword ptr [ECX + 0x14],EDX
0069869e : MOV EAX,dword ptr [EDI + 0x38]
006986a1 : MOV ECX,dword ptr [ESP + 0x14]
006986a5 : MOV dword ptr [EAX + 0x8],ECX
006986a8 : MOV EDX,dword ptr [EDI + 0x38]
006986ab : MOV EAX,dword ptr [ESP + 0x18]
006986af : MOV dword ptr [EDX + 0xc],EAX
006986b2 : MOV ECX,dword ptr [EDI + 0x38]
006986b5 : MOV EDX,dword ptr [ESP + 0x1c]
006986b9 : MOV dword ptr [ECX],EDX
006986bb : MOV EAX,dword ptr [EDI + 0x38]
006986be : MOV ECX,dword ptr [ESP + 0x20]
006986c2 : MOV dword ptr [EAX + 0x4],ECX
006986c5 : MOV EAX,dword ptr [EDI + 0x38]
006986c8 : MOV EDX,dword ptr [EAX + 0xc]
006986cb : MOV ECX,dword ptr [EAX + 0x14]
006986ce : MOV EBX,dword ptr [EAX + 0x4]
006986d1 : CMP ECX,EBX
006986d3 : MOV dword ptr [ESP + 0x14],EDX
006986d7 : MOV EDX,dword ptr [EAX]
006986d9 : MOV dword ptr [ESP + 0x18],EDX
006986dd : JG 0x006986e5
006986df : MOV EDX,ECX
006986e1 : MOV ESI,EBX
006986e3 : JMP 0x006986e9
006986e5 : MOV EDX,EBX
006986e7 : MOV ESI,ECX
006986e9 : CMP dword ptr [ESP + 0x14],EDX
006986ed : JL 0x0069876a
006986ef : CMP dword ptr [ESP + 0x14],ESI
006986f3 : JG 0x0069876a
006986f5 : CMP ECX,EBX
006986f7 : JNZ 0x00698701
006986f9 : ADD EAX,-0x10
006986fc : MOV dword ptr [EDI + 0x38],EAX
006986ff : JMP 0x00698777
00698701 : XOR EAX,EAX
00698703 : CMP ECX,EBX
00698705 : SETGE AL
00698708 : INC EAX
00698709 : MOV ESI,EAX
0069870b : MOV EAX,dword ptr [EDI + 0x68]
0069870e : CMP EAX,ESI
00698710 : JZ 0x0069872c
00698712 : TEST EAX,EAX
00698714 : JZ 0x00698721
00698716 : MOV EAX,EDI
00698718 : CALL 0x00697fb0
0069871d : TEST AL,AL
0069871f : JNZ 0x0069874f
00698721 : MOV ECX,EDI
00698723 : CALL 0x00697f20
00698728 : TEST AL,AL
0069872a : JNZ 0x0069874f
0069872c : MOV ECX,dword ptr [EDI + 0x54]
0069872f : MOV EDX,dword ptr [EDI + 0x50]
00698732 : MOV EAX,0x2
00698737 : CMP ESI,0x1
0069873a : JNZ 0x00698756
0069873c : PUSH ECX
0069873d : PUSH EDX
0069873e : PUSH 0x698130
00698743 : CALL 0x006983e0
00698748 : ADD ESP,0xc
0069874b : TEST AL,AL
0069874d : JZ 0x00698777
0069874f : POP EDI
00698750 : POP ESI
00698751 : POP EBP
00698752 : MOV AL,0x1
00698754 : POP EBX
00698755 : RET
00698756 : PUSH 0x698130
0069875b : PUSH EDI
0069875c : CALL 0x00698550
00698761 : ADD ESP,0x8
00698764 : TEST AL,AL
00698766 : JNZ 0x0069874f
00698768 : JMP 0x00698777
0069876a : PUSH EAX
0069876b : CALL 0x00698130
00698770 : ADD ESP,0x4
00698773 : ADD dword ptr [EDI + 0x38],0x10
00698777 : CMP dword ptr [EDI + 0x38],EBP
0069877a : JNC 0x006986c5
00698780 : MOV EAX,dword ptr [ESP + 0x18]
00698784 : MOV dword ptr [EDI + 0x48],EAX
00698787 : MOV dword ptr [EDI + 0x4c],EBX
0069878a : POP EDI
0069878b : POP ESI
0069878c : POP EBP
0069878d : XOR AL,AL
0069878f : POP EBX
00698790 : RET
