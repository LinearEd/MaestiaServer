PROGRAM  : Maestia.exe
FUNCTION : FUN_006e5970
ENTRY    : 006e5970
BODY     : [[006e5970, 006e5a7f]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006e5970(int param_1,undefined4 *param_2,int *param_3,int param_4,int param_5)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  undefined1 *puVar5;
  undefined1 *puVar6;
  undefined1 *puVar7;
  uint uVar8;
  uint uVar9;
  byte *pbVar10;
  uint uVar11;
  
  param_5 = param_5 + -1;
  iVar1 = *(int *)(param_1 + 0x1c);
  iVar2 = *(int *)(*(int *)(param_1 + 0x150) + 8);
  if (-1 < param_5) {
    param_4 = param_4 * 4;
    do {
      pbVar10 = (byte *)*param_2;
      iVar3 = *(int *)(param_4 + param_3[2]);
      param_2 = param_2 + 1;
      iVar4 = *(int *)(param_4 + *param_3);
      puVar5 = *(undefined1 **)(param_4 + param_3[1]);
      param_4 = param_4 + 4;
      if (iVar1 != 0) {
        puVar6 = puVar5;
        param_1 = iVar1;
        do {
          uVar8 = (uint)pbVar10[2];
          uVar9 = (uint)pbVar10[1];
          uVar11 = (uint)*pbVar10;
          pbVar10 = pbVar10 + 3;
          puVar7 = puVar6 + 1;
          puVar7[(iVar4 - (int)puVar5) + -1] =
               (char)((uint)(*(int *)(iVar2 + 0x800 + uVar8 * 4) +
                             *(int *)(iVar2 + 0x400 + uVar9 * 4) + *(int *)(iVar2 + uVar11 * 4)) >>
                     0x10);
          *puVar6 = (char)((uint)(*(int *)(iVar2 + 0x1400 + uVar8 * 4) +
                                  *(int *)(iVar2 + 0x1000 + uVar9 * 4) +
                                 *(int *)(iVar2 + 0xc00 + uVar11 * 4)) >> 0x10);
          param_1 = param_1 + -1;
          puVar7[(iVar3 - (int)puVar5) + -1] =
               (char)((uint)(*(int *)(iVar2 + 0x1c00 + uVar8 * 4) +
                             *(int *)(iVar2 + 0x1800 + uVar9 * 4) +
                            *(int *)(iVar2 + 0x1400 + uVar11 * 4)) >> 0x10);
          puVar6 = puVar7;
        } while (param_1 != 0);
      }
      param_5 = param_5 + -1;
    } while (-1 < param_5);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
006e5970 : SUB ESP,0x14
006e5973 : SUB dword ptr [ESP + 0x28],0x1
006e5978 : MOV ECX,dword ptr [ESP + 0x18]
006e597c : MOV EAX,dword ptr [ECX + 0x150]
006e5982 : MOV ECX,dword ptr [ECX + 0x1c]
006e5985 : MOV EAX,dword ptr [EAX + 0x8]
006e5988 : MOV dword ptr [ESP],ECX
006e598b : JS 0x006e5a7c
006e5991 : MOV EDX,dword ptr [ESP + 0x24]
006e5995 : PUSH EBX
006e5996 : PUSH EBP
006e5997 : PUSH ESI
006e5998 : ADD EDX,EDX
006e599a : PUSH EDI
006e599b : MOV EDI,dword ptr [ESP + 0x30]
006e599f : ADD EDX,EDX
006e59a1 : MOV ECX,dword ptr [ESP + 0x2c]
006e59a5 : MOV ESI,dword ptr [ECX]
006e59a7 : MOV EBP,dword ptr [EDI + 0x8]
006e59aa : MOV EBP,dword ptr [EDX + EBP*0x1]
006e59ad : ADD ECX,0x4
006e59b0 : MOV dword ptr [ESP + 0x2c],ECX
006e59b4 : MOV ECX,dword ptr [EDI]
006e59b6 : MOV EBX,dword ptr [EDX + ECX*0x1]
006e59b9 : MOV ECX,dword ptr [EDI + 0x4]
006e59bc : MOV ECX,dword ptr [EDX + ECX*0x1]
006e59bf : MOV dword ptr [ESP + 0x28],EBP
006e59c3 : MOV EBP,dword ptr [ESP + 0x10]
006e59c7 : ADD EDX,0x4
006e59ca : MOV dword ptr [ESP + 0x20],EDX
006e59ce : TEST EBP,EBP
006e59d0 : JBE 0x006e5a6d
006e59d6 : MOV EDX,dword ptr [ESP + 0x28]
006e59da : SUB EBX,ECX
006e59dc : SUB EDX,ECX
006e59de : MOV dword ptr [ESP + 0x14],EBX
006e59e2 : MOV dword ptr [ESP + 0x1c],EDX
006e59e6 : MOV dword ptr [ESP + 0x28],EBP
006e59ea : LEA EBX,[EBX]
006e59f0 : MOVZX EDX,byte ptr [ESI + 0x2]
006e59f4 : MOVZX EBP,byte ptr [ESI + 0x1]
006e59f8 : MOVZX EDI,byte ptr [ESI]
006e59fb : MOV EBX,dword ptr [ESP + 0x14]
006e59ff : MOV dword ptr [ESP + 0x18],EDX
006e5a03 : MOV EDX,dword ptr [EAX + EDX*0x4 + 0x800]
006e5a0a : ADD EDX,dword ptr [EAX + EBP*0x4 + 0x400]
006e5a11 : ADD ESI,0x3
006e5a14 : ADD EDX,dword ptr [EAX + EDI*0x4]
006e5a17 : INC ECX
006e5a18 : SAR EDX,0x10
006e5a1b : MOV byte ptr [EBX + ECX*0x1 + -0x1],DL
006e5a1f : MOV EDX,dword ptr [ESP + 0x18]
006e5a23 : MOV EBX,dword ptr [EAX + EDX*0x4 + 0x1400]
006e5a2a : ADD EBX,dword ptr [EAX + EBP*0x4 + 0x1000]
006e5a31 : ADD EBX,dword ptr [EAX + EDI*0x4 + 0xc00]
006e5a38 : SAR EBX,0x10
006e5a3b : MOV byte ptr [ECX + -0x1],BL
006e5a3e : MOV EDX,dword ptr [EAX + EDX*0x4 + 0x1c00]
006e5a45 : ADD EDX,dword ptr [EAX + EBP*0x4 + 0x1800]
006e5a4c : ADD EDX,dword ptr [EAX + EDI*0x4 + 0x1400]
006e5a53 : MOV EDI,dword ptr [ESP + 0x1c]
006e5a57 : SAR EDX,0x10
006e5a5a : SUB dword ptr [ESP + 0x28],0x1
006e5a5f : MOV byte ptr [EDI + ECX*0x1 + -0x1],DL
006e5a63 : JNZ 0x006e59f0
006e5a65 : MOV EDI,dword ptr [ESP + 0x30]
006e5a69 : MOV EDX,dword ptr [ESP + 0x20]
006e5a6d : SUB dword ptr [ESP + 0x38],0x1
006e5a72 : JNS 0x006e59a1
006e5a78 : POP EDI
006e5a79 : POP ESI
006e5a7a : POP EBP
006e5a7b : POP EBX
006e5a7c : ADD ESP,0x14
006e5a7f : RET
