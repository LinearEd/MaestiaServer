PROGRAM  : Maestia.exe
FUNCTION : FUN_00722d20
ENTRY    : 00722d20
BODY     : [[00722d20, 00722e1b]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 * FUN_00722d20(int param_1,int param_2)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  undefined1 local_2c [28];
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b26d85;
  local_10 = ExceptionList;
  puVar3 = (undefined4 *)0x0;
  if (((param_1 != 0) && (param_2 != 0)) && (*(int *)(param_1 + 0x30) == 0xc)) {
    ExceptionList = &local_10;
    iVar1 = FUN_006f0300(0x98,DAT_00d66fa0 ^ (uint)&stack0xfffffffc);
    local_8 = 0;
    if (iVar1 != 0) {
      puVar3 = (undefined4 *)FUN_00721e80(iVar1);
    }
    local_8 = 0xffffffff;
    puVar3[0x24] = param_2 + 0x26c;
    puVar3[0x25] = param_1 + 0x54;
    *(undefined1 *)(puVar3 + 4) = 1;
    *(undefined1 *)((int)puVar3 + 0x11) = *(undefined1 *)(param_1 + 0x11);
    *(undefined1 *)((int)puVar3 + 0x12) = *(undefined1 *)(param_1 + 0x12);
    *(undefined1 *)((int)puVar3 + 0x13) = *(undefined1 *)(param_1 + 0x13);
    uVar2 = FUN_004c0550(param_1,local_2c);
    local_8 = 1;
    FUN_00405eb0(uVar2,0,0xffffffff);
    local_8 = 0xffffffff;
    FUN_00406560();
    puVar3[2] = *(undefined4 *)(param_1 + 8);
    (**(code **)*puVar3)();
    puVar3[1] = *(undefined4 *)(param_1 + 4);
    ExceptionList = local_10;
    return puVar3;
  }
  return (undefined4 *)0x0;
}



============================================================
DISASSEMBLY
============================================================
00722d20 : PUSH EBP
00722d21 : MOV EBP,ESP
00722d23 : PUSH -0x1
00722d25 : PUSH 0xb26d85
00722d2a : MOV EAX,FS:[0x0]
00722d30 : PUSH EAX
00722d31 : SUB ESP,0x1c
00722d34 : PUSH EBX
00722d35 : PUSH ESI
00722d36 : PUSH EDI
00722d37 : MOV EAX,[0x00d66fa0]
00722d3c : XOR EAX,EBP
00722d3e : PUSH EAX
00722d3f : LEA EAX,[EBP + -0xc]
00722d42 : MOV FS:[0x0],EAX
00722d48 : MOV EDI,dword ptr [EBP + 0x8]
00722d4b : XOR ESI,ESI
00722d4d : CMP EDI,ESI
00722d4f : JNZ 0x00722d67
00722d51 : XOR EAX,EAX
00722d53 : MOV ECX,dword ptr [EBP + -0xc]
00722d56 : MOV dword ptr FS:[0x0],ECX
00722d5d : POP ECX
00722d5e : POP EDI
00722d5f : POP ESI
00722d60 : POP EBX
00722d61 : MOV ESP,EBP
00722d63 : POP EBP
00722d64 : RET 0x8
00722d67 : MOV EBX,dword ptr [EBP + 0xc]
00722d6a : CMP EBX,ESI
00722d6c : JZ 0x00722d51
00722d6e : CMP dword ptr [EDI + 0x30],0xc
00722d72 : JNZ 0x00722d51
00722d74 : PUSH 0x98
00722d79 : CALL 0x006f0300
00722d7e : ADD ESP,0x4
00722d81 : MOV dword ptr [EBP + 0x8],EAX
00722d84 : MOV dword ptr [EBP + -0x4],ESI
00722d87 : CMP EAX,ESI
00722d89 : JZ 0x00722d93
00722d8b : PUSH EAX
00722d8c : CALL 0x00721e80
00722d91 : MOV ESI,EAX
00722d93 : MOV dword ptr [EBP + -0x4],0xffffffff
00722d9a : ADD EBX,0x26c
00722da0 : MOV dword ptr [ESI + 0x90],EBX
00722da6 : LEA EAX,[EDI + 0x54]
00722da9 : MOV dword ptr [ESI + 0x94],EAX
00722daf : MOV EBX,0x1
00722db4 : MOV byte ptr [ESI + 0x10],BL
00722db7 : MOV AL,byte ptr [EDI + 0x11]
00722dba : MOV byte ptr [ESI + 0x11],AL
00722dbd : MOV AL,byte ptr [EDI + 0x12]
00722dc0 : LEA ECX,[EBP + -0x28]
00722dc3 : MOV byte ptr [ESI + 0x12],AL
00722dc6 : MOV AL,byte ptr [EDI + 0x13]
00722dc9 : PUSH ECX
00722dca : PUSH EDI
00722dcb : MOV byte ptr [ESI + 0x13],AL
00722dce : CALL 0x004c0550
00722dd3 : MOV dword ptr [EBP + -0x4],EBX
00722dd6 : PUSH -0x1
00722dd8 : PUSH 0x0
00722dda : PUSH EAX
00722ddb : LEA ECX,[ESI + 0x14]
00722dde : CALL 0x00405eb0
00722de3 : MOV dword ptr [EBP + -0x4],0xffffffff
00722dea : LEA ECX,[EBP + -0x28]
00722ded : CALL 0x00406560
00722df2 : MOV EDX,dword ptr [EDI + 0x8]
00722df5 : MOV EAX,dword ptr [ESI]
00722df7 : MOV dword ptr [ESI + 0x8],EDX
00722dfa : MOV EDX,dword ptr [EAX]
00722dfc : MOV ECX,ESI
00722dfe : CALL EDX
00722e00 : MOV EAX,dword ptr [EDI + 0x4]
00722e03 : MOV dword ptr [ESI + 0x4],EAX
00722e06 : MOV EAX,ESI
00722e08 : MOV ECX,dword ptr [EBP + -0xc]
00722e0b : MOV dword ptr FS:[0x0],ECX
00722e12 : POP ECX
00722e13 : POP EDI
00722e14 : POP ESI
00722e15 : POP EBX
00722e16 : MOV ESP,EBP
00722e18 : POP EBP
00722e19 : RET 0x8
