PROGRAM  : Maestia.exe
FUNCTION : FUN_005da160
ENTRY    : 005da160
BODY     : [[005da160, 005da1d9]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005da160(undefined4 param_1,int param_2)

{
  int iVar1;
  int *in_ECX;
  uint uVar2;
  
  if (param_2 == 0) {
    if (*in_ECX != 0) {
      FUN_00515cf0(*in_ECX);
      *in_ECX = 0;
    }
    in_ECX[2] = 0;
    return;
  }
  uVar2 = param_2 + 3U >> 2;
  if (*in_ECX != 0) {
    iVar1 = FUN_00515c80(*in_ECX,uVar2 * 0x50);
    in_ECX[2] = uVar2 * 4;
    *in_ECX = iVar1;
    return;
  }
  param_2 = 2;
  iVar1 = FUN_00515d60(param_1,uVar2 * 0x50,&param_2);
  in_ECX[2] = uVar2 * 4;
  *in_ECX = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
005da160 : MOV EAX,dword ptr [ESP + 0x8]
005da164 : PUSH EDI
005da165 : MOV EDI,ECX
005da167 : TEST EAX,EAX
005da169 : JNZ 0x005da188
005da16b : MOV EAX,dword ptr [EDI]
005da16d : TEST EAX,EAX
005da16f : JZ 0x005da17d
005da171 : PUSH EAX
005da172 : CALL 0x00515cf0
005da177 : MOV dword ptr [EDI],0x0
005da17d : MOV dword ptr [EDI + 0x8],0x0
005da184 : POP EDI
005da185 : RET 0x8
005da188 : PUSH ESI
005da189 : LEA ESI,[EAX + 0x3]
005da18c : MOV EAX,dword ptr [EDI]
005da18e : SHR ESI,0x2
005da191 : ADD ESI,ESI
005da193 : ADD ESI,ESI
005da195 : TEST EAX,EAX
005da197 : JZ 0x005da1b1
005da199 : LEA ECX,[ESI + ESI*0x4]
005da19c : ADD ECX,ECX
005da19e : ADD ECX,ECX
005da1a0 : PUSH ECX
005da1a1 : PUSH EAX
005da1a2 : CALL 0x00515c80
005da1a7 : MOV dword ptr [EDI + 0x8],ESI
005da1aa : POP ESI
005da1ab : MOV dword ptr [EDI],EAX
005da1ad : POP EDI
005da1ae : RET 0x8
005da1b1 : MOV ECX,dword ptr [ESP + 0xc]
005da1b5 : LEA EAX,[ESI + ESI*0x4]
005da1b8 : LEA EDX,[ESP + 0x10]
005da1bc : ADD EAX,EAX
005da1be : PUSH EDX
005da1bf : ADD EAX,EAX
005da1c1 : PUSH EAX
005da1c2 : PUSH ECX
005da1c3 : MOV dword ptr [ESP + 0x1c],0x2
005da1cb : CALL 0x00515d60
005da1d0 : MOV dword ptr [EDI + 0x8],ESI
005da1d3 : POP ESI
005da1d4 : MOV dword ptr [EDI],EAX
005da1d6 : POP EDI
005da1d7 : RET 0x8
