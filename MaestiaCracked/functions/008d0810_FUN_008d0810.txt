PROGRAM  : Maestia.exe
FUNCTION : FUN_008d0810
ENTRY    : 008d0810
BODY     : [[008d0810, 008d0924] [008d0951, 008d0980]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_008d0810(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  char cVar4;
  short sVar5;
  uint uVar6;
  undefined4 *puVar7;
  int iVar8;
  bool bVar9;
  
  uVar6 = *(int *)(param_1 + 0xa0) - *(int *)(param_1 + 0x9c);
  if ((uVar6 & 0xfffffffc) == 0) {
    return uVar6 & 0xffffff00;
  }
  puVar7 = *(undefined4 **)(param_1 + 0x9c);
  if (puVar7 != *(undefined4 **)(param_1 + 0xa0)) {
    do {
      uVar3 = *(undefined4 *)*puVar7;
      iVar8 = FUN_00a1a840(uVar3);
      if (((iVar8 == 0) && (iVar8 = FUN_00a1a6d0(uVar3), iVar8 == 0)) &&
         (iVar8 = FUN_00a1a780(uVar3), iVar8 == 0)) {
LAB_008d091b:
                    /* WARNING: Subroutine does not return */
        FUN_006f04e0();
      }
      iVar1 = iVar8 + 0x1158;
      iVar2 = *(int *)(*(int *)(iVar8 + 0x138) + 4) + 0x138 + iVar8;
      sVar5 = FUN_0043d970();
      if (sVar5 == 1000) {
        bVar9 = *(int *)(iVar2 + 4) == iVar1;
      }
      else if (sVar5 == 2000) {
        bVar9 = *(int *)(iVar2 + 8) == iVar1;
      }
      else {
        bVar9 = *(int *)(iVar2 + 0xc) == iVar1;
      }
      if (((bVar9) || (*(char *)(iVar8 + 0x3ad) == '\0')) || (cVar4 = FUN_0086dad0(), cVar4 != '\0')
         ) goto LAB_008d091b;
      puVar7 = puVar7 + 1;
    } while (puVar7 != *(undefined4 **)(param_1 + 0xa0));
  }
  return CONCAT31((int3)((uint)puVar7 >> 8),
                  (*(int *)(param_1 + 0xa0) - *(int *)(param_1 + 0x9c) & 0xfffffffcU) != 0);
}



============================================================
DISASSEMBLY
============================================================
008d0810 : PUSH EBP
008d0811 : MOV EBP,ESP
008d0813 : MOV ECX,dword ptr [EBP + 0x8]
008d0816 : MOV EAX,dword ptr [ECX + 0xa0]
008d081c : SUB EAX,dword ptr [ECX + 0x9c]
008d0822 : SUB ESP,0x8
008d0825 : TEST EAX,0xfffffffc
008d082a : JNZ 0x008d0834
008d082c : XOR AL,AL
008d082e : MOV ESP,EBP
008d0830 : POP EBP
008d0831 : RET 0x4
008d0834 : MOV EAX,dword ptr [ECX + 0x9c]
008d083a : MOV dword ptr [EBP + -0x4],EAX
008d083d : CMP EAX,dword ptr [ECX + 0xa0]
008d0843 : JZ 0x008d0966
008d0849 : PUSH EBX
008d084a : PUSH ESI
008d084b : LEA ECX,[EAX + 0x4]
008d084e : PUSH EDI
008d084f : MOV dword ptr [EBP + -0x8],ECX
008d0852 : JMP 0x008d0857
008d0854 : MOV EAX,dword ptr [EBP + -0x4]
008d0857 : MOV EDX,dword ptr [EAX]
008d0859 : MOV EDI,dword ptr [EDX]
008d085b : MOV ECX,dword ptr [0x00da93ec]
008d0861 : PUSH EDI
008d0862 : MOV EBX,ECX
008d0864 : CALL 0x00a1a840
008d0869 : MOV ESI,EAX
008d086b : TEST ESI,ESI
008d086d : JNZ 0x008d088f
008d086f : PUSH EDI
008d0870 : MOV ECX,EBX
008d0872 : CALL 0x00a1a6d0
008d0877 : MOV ESI,EAX
008d0879 : TEST ESI,ESI
008d087b : JNZ 0x008d088f
008d087d : PUSH EDI
008d087e : MOV ECX,EBX
008d0880 : CALL 0x00a1a780
008d0885 : MOV ESI,EAX
008d0887 : TEST ESI,ESI
008d0889 : JZ 0x008d091b
008d088f : MOV EAX,dword ptr [ESI + 0x138]
008d0895 : MOV ECX,dword ptr [EAX + 0x4]
008d0898 : MOV AX,word ptr [ESI + 0x1182]
008d089f : LEA EDI,[ESI + 0x1158]
008d08a5 : LEA EBX,[ECX + ESI*0x1 + 0x138]
008d08ac : CALL 0x0043d970
008d08b1 : MOV EDX,0x3e8
008d08b6 : CMP AX,DX
008d08b9 : JNZ 0x008d08c0
008d08bb : CMP dword ptr [EBX + 0x4],EDI
008d08be : JMP 0x008d08d2
008d08c0 : MOV ECX,0x7d0
008d08c5 : CMP AX,CX
008d08c8 : JNZ 0x008d08cf
008d08ca : CMP dword ptr [EBX + 0x8],EDI
008d08cd : JMP 0x008d08d2
008d08cf : CMP dword ptr [EBX + 0xc],EDI
008d08d2 : SETZ AL
008d08d5 : TEST AL,AL
008d08d7 : JNZ 0x008d091b
008d08d9 : CMP byte ptr [ESI + 0x3ad],AL
008d08df : JZ 0x008d091b
008d08e1 : MOVZX EAX,word ptr [ESI + 0x80]
008d08e8 : TEST AX,AX
008d08eb : JZ 0x008d08f2
008d08ed : MOVZX ESI,AX
008d08f0 : JMP 0x008d08f6
008d08f2 : MOVZX ESI,word ptr [ESI + 0x7c]
008d08f6 : MOV EDX,dword ptr [0x0172491c]
008d08fc : MOV ECX,dword ptr [EDX + 0x17c]
008d0902 : CALL 0x0086dad0
008d0907 : TEST AL,AL
008d0909 : JNZ 0x008d091b
008d090b : MOV EDI,dword ptr [EBP + 0x8]
008d090e : MOV EAX,0x4
008d0913 : ADD dword ptr [EBP + -0x4],EAX
008d0916 : ADD dword ptr [EBP + -0x8],EAX
008d0919 : JMP 0x008d0951
008d091b : MOV ESI,dword ptr [EBP + -0x4]
008d091e : MOV ECX,dword ptr [ESI]
008d0920 : CALL 0x006f04e0
008d0951 : MOV EAX,dword ptr [EBP + -0x4]
008d0954 : CMP EAX,dword ptr [EDI + 0xa0]
008d095a : JNZ 0x008d0854
008d0960 : MOV ECX,dword ptr [EBP + 0x8]
008d0963 : POP EDI
008d0964 : POP ESI
008d0965 : POP EBX
008d0966 : MOV EDX,dword ptr [ECX + 0xa0]
008d096c : SUB EDX,dword ptr [ECX + 0x9c]
008d0972 : TEST EDX,0xfffffffc
008d0978 : SETNZ AL
008d097b : MOV ESP,EBP
008d097d : POP EBP
008d097e : RET 0x4
