PROGRAM  : Maestia.exe
FUNCTION : FUN_0058bd70
ENTRY    : 0058bd70
BODY     : [[0058bd70, 0058bdd3]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0058bd70(int param_1)

{
  byte *pbVar1;
  int iVar2;
  
  if (*(int **)(param_1 + 8) == (int *)0x0) {
    iVar2 = *(int *)(*(int *)(param_1 + 0x18) + 0x74);
  }
  else {
    iVar2 = (**(code **)(**(int **)(param_1 + 8) + 8))();
    if (iVar2 != 2) {
      return;
    }
    if (*(int *)(param_1 + 8) == 0) {
      return;
    }
    iVar2 = *(int *)(param_1 + 8) + -0x68;
  }
  if (iVar2 != 0) {
    iVar2 = FUN_005ec5d0();
    pbVar1 = *(byte **)(param_1 + 4);
    if (4 < *pbVar1) {
      FUN_00526400();
    }
    *(uint *)(pbVar1 + 4) = ((int)(iVar2 - 0x3fffU) < 0) - 1 & iVar2 - 0x3fffU;
    *pbVar1 = 4;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0058bd70 : PUSH ESI
0058bd71 : MOV ESI,dword ptr [ESP + 0x8]
0058bd75 : MOV ECX,dword ptr [ESI + 0x8]
0058bd78 : TEST ECX,ECX
0058bd7a : JNZ 0x0058bd84
0058bd7c : MOV EAX,dword ptr [ESI + 0x18]
0058bd7f : MOV EAX,dword ptr [EAX + 0x74]
0058bd82 : JMP 0x0058bd9a
0058bd84 : MOV EDX,dword ptr [ECX]
0058bd86 : MOV EAX,dword ptr [EDX + 0x8]
0058bd89 : CALL EAX
0058bd8b : CMP EAX,0x2
0058bd8e : JNZ 0x0058bdd2
0058bd90 : MOV EAX,dword ptr [ESI + 0x8]
0058bd93 : TEST EAX,EAX
0058bd95 : JZ 0x0058bdd2
0058bd97 : ADD EAX,-0x68
0058bd9a : TEST EAX,EAX
0058bd9c : JZ 0x0058bdd2
0058bd9e : PUSH EDI
0058bd9f : LEA ECX,[EAX + 0xa8]
0058bda5 : CALL 0x005ec5d0
0058bdaa : MOV ESI,dword ptr [ESI + 0x4]
0058bdad : SUB EAX,0x3fff
0058bdb2 : MOV ECX,0x0
0058bdb7 : SETS CL
0058bdba : DEC ECX
0058bdbb : AND ECX,EAX
0058bdbd : CMP byte ptr [ESI],0x5
0058bdc0 : MOV EDI,ECX
0058bdc2 : JC 0x0058bdcb
0058bdc4 : MOV ECX,ESI
0058bdc6 : CALL 0x00526400
0058bdcb : MOV dword ptr [ESI + 0x4],EDI
0058bdce : MOV byte ptr [ESI],0x4
0058bdd1 : POP EDI
0058bdd2 : POP ESI
0058bdd3 : RET
