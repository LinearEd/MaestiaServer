PROGRAM  : Maestia.exe
FUNCTION : FUN_006ab2e0
ENTRY    : 006ab2e0
BODY     : [[006ab2e0, 006ab3f9]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_006ab2e0(int *param_1,undefined4 param_2)

{
  undefined4 *puVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  undefined4 uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  
  uVar5 = param_2;
  piVar3 = param_1;
  iVar4 = *param_1;
  if ((*(byte *)(iVar4 + 8) & 2) != 0) {
    iVar4 = (**(code **)(*(int *)(iVar4 + 0x214) + 0x94))(iVar4,param_2,&param_1);
    if (iVar4 == 0) {
      uVar5 = FUN_006ab1f0(piVar3,param_1);
      return uVar5;
    }
    piVar3[0xb] = -1;
  }
  FUN_00686800(*piVar3,uVar5);
  iVar4 = FUN_006aae90();
  if (iVar4 != 0) {
    iVar7 = *(int *)(*piVar3 + 0x2b8);
    puVar1 = (undefined4 *)piVar3[10];
    iVar2 = *(int *)(iVar7 + 0x584);
    (**(code **)(iVar4 + 4))(*puVar1,piVar3[4],piVar3[5],0,0);
    iVar8 = *(int *)(iVar7 + 0x780);
    if (iVar8 != 0) {
      param_1 = (int *)(iVar7 + 0x780 + iVar8 * 4);
      do {
        iVar7 = *(int *)(*param_1 + 0x40);
        if (iVar2 == iVar7) {
          iVar6 = piVar3[4];
          iVar7 = piVar3[5];
        }
        else {
          iVar6 = FUN_00685d60(piVar3[4],iVar2,iVar7);
          iVar7 = FUN_00685d60(piVar3[5],iVar2,iVar7);
        }
        (**(code **)(iVar4 + 4))(puVar1[iVar8],iVar6,iVar7,0,0);
        param_1 = param_1 + -1;
        iVar8 = iVar8 + -1;
      } while (iVar8 != 0);
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
006ab2e0 : SUB ESP,0xc
006ab2e3 : PUSH ESI
006ab2e4 : MOV ESI,dword ptr [ESP + 0x18]
006ab2e8 : PUSH EDI
006ab2e9 : MOV EDI,dword ptr [ESP + 0x18]
006ab2ed : MOV EAX,dword ptr [EDI]
006ab2ef : TEST byte ptr [EAX + 0x8],0x2
006ab2f3 : JZ 0x006ab318
006ab2f5 : MOV ECX,dword ptr [EAX + 0x214]
006ab2fb : LEA EDX,[ESP + 0x18]
006ab2ff : PUSH EDX
006ab300 : PUSH ESI
006ab301 : PUSH EAX
006ab302 : MOV EAX,dword ptr [ECX + 0x94]
006ab308 : CALL EAX
006ab30a : ADD ESP,0xc
006ab30d : TEST EAX,EAX
006ab30f : JZ 0x006ab380
006ab311 : MOV dword ptr [EDI + 0x2c],0xffffffff
006ab318 : MOV EDX,dword ptr [EDI]
006ab31a : PUSH ESI
006ab31b : PUSH EDX
006ab31c : CALL 0x00686800
006ab321 : ADD ESP,0x8
006ab324 : MOV EAX,EDI
006ab326 : CALL 0x006aae90
006ab32b : MOV dword ptr [ESP + 0x10],EAX
006ab32f : TEST EAX,EAX
006ab331 : JZ 0x006ab3f2
006ab337 : MOV ECX,dword ptr [EDI]
006ab339 : MOV EDX,dword ptr [EDI + 0x14]
006ab33c : PUSH EBX
006ab33d : PUSH EBP
006ab33e : MOV EBP,dword ptr [ECX + 0x2b8]
006ab344 : MOV ECX,dword ptr [EDI + 0x28]
006ab347 : MOV EBX,dword ptr [EBP + 0x584]
006ab34d : PUSH 0x0
006ab34f : PUSH 0x0
006ab351 : PUSH EDX
006ab352 : MOV EDX,dword ptr [EDI + 0x10]
006ab355 : MOV dword ptr [ESP + 0x20],ECX
006ab359 : MOV ECX,dword ptr [ECX]
006ab35b : PUSH EDX
006ab35c : MOV EDX,dword ptr [EAX + 0x4]
006ab35f : PUSH ECX
006ab360 : MOV dword ptr [ESP + 0x24],EBX
006ab364 : CALL EDX
006ab366 : MOV ESI,dword ptr [EBP + 0x780]
006ab36c : ADD ESP,0x14
006ab36f : TEST ESI,ESI
006ab371 : JBE 0x006ab3f0
006ab373 : LEA EAX,[EBP + ESI*0x4 + 0x780]
006ab37a : MOV dword ptr [ESP + 0x20],EAX
006ab37e : JMP 0x006ab398
006ab380 : MOV ECX,dword ptr [ESP + 0x18]
006ab384 : PUSH ECX
006ab385 : PUSH EDI
006ab386 : CALL 0x006ab1f0
006ab38b : ADD ESP,0x8
006ab38e : POP EDI
006ab38f : POP ESI
006ab390 : ADD ESP,0xc
006ab393 : RET
006ab394 : MOV EBX,dword ptr [ESP + 0x10]
006ab398 : MOV ECX,dword ptr [ESP + 0x20]
006ab39c : MOV EDX,dword ptr [ECX]
006ab39e : MOV EBP,dword ptr [EDX + 0x40]
006ab3a1 : CMP EBX,EBP
006ab3a3 : JZ 0x006ab3c6
006ab3a5 : MOV EAX,dword ptr [EDI + 0x10]
006ab3a8 : PUSH EBP
006ab3a9 : PUSH EBX
006ab3aa : PUSH EAX
006ab3ab : CALL 0x00685d60
006ab3b0 : MOV ECX,dword ptr [ESP + 0x1c]
006ab3b4 : MOV EDX,dword ptr [EDI + 0x14]
006ab3b7 : PUSH EBP
006ab3b8 : PUSH ECX
006ab3b9 : PUSH EDX
006ab3ba : MOV EBX,EAX
006ab3bc : CALL 0x00685d60
006ab3c1 : ADD ESP,0x18
006ab3c4 : JMP 0x006ab3cc
006ab3c6 : MOV EBX,dword ptr [EDI + 0x10]
006ab3c9 : MOV EAX,dword ptr [EDI + 0x14]
006ab3cc : MOV EDX,dword ptr [ESP + 0x18]
006ab3d0 : PUSH 0x0
006ab3d2 : PUSH 0x0
006ab3d4 : PUSH EAX
006ab3d5 : MOV EAX,dword ptr [ESP + 0x20]
006ab3d9 : MOV ECX,dword ptr [EAX + ESI*0x4]
006ab3dc : MOV EAX,dword ptr [EDX + 0x4]
006ab3df : PUSH EBX
006ab3e0 : PUSH ECX
006ab3e1 : CALL EAX
006ab3e3 : SUB dword ptr [ESP + 0x34],0x4
006ab3e8 : DEC ESI
006ab3e9 : ADD ESP,0x14
006ab3ec : TEST ESI,ESI
006ab3ee : JA 0x006ab394
006ab3f0 : POP EBP
006ab3f1 : POP EBX
006ab3f2 : POP EDI
006ab3f3 : XOR EAX,EAX
006ab3f5 : POP ESI
006ab3f6 : ADD ESP,0xc
006ab3f9 : RET
