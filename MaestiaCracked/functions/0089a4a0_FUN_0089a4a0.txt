PROGRAM  : Maestia.exe
FUNCTION : FUN_0089a4a0
ENTRY    : 0089a4a0
BODY     : [[0089a4a0, 0089a603]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0089a4a0(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  short sVar2;
  int *piVar3;
  int iVar4;
  int in_ECX;
  bool bVar5;
  
  FUN_00483f90();
  if (*(char *)(in_ECX + 0x424) == '\0') {
    iVar4 = in_ECX + 0x1158;
    iVar1 = *(int *)(*(int *)(in_ECX + 0x138) + 4) + 0x138 + in_ECX;
    sVar2 = FUN_0043d970();
    if (sVar2 == 1000) {
      bVar5 = *(int *)(iVar1 + 4) == iVar4;
    }
    else if (sVar2 == 2000) {
      bVar5 = *(int *)(iVar1 + 8) == iVar4;
    }
    else {
      bVar5 = *(int *)(iVar1 + 0xc) == iVar4;
    }
    if (!bVar5) {
      *(undefined1 *)(in_ECX + 0x590) = 1;
      *(undefined1 *)(in_ECX + 0x4cb) = 1;
      *(undefined1 *)(in_ECX + 0x4cd) = 0;
      *(undefined1 *)(in_ECX + 0x4ce) = 0;
      piVar3 = (int *)FUN_004049b0(param_1);
      if (((piVar3 != (int *)0x0) && (iVar4 = (**(code **)(*piVar3 + 0x40))(), iVar4 != 0)) &&
         (*(char *)((int)piVar3 + 0xa5e) == '\x02')) {
        *(undefined1 *)(in_ECX + 0x4d1) = 1;
        *(undefined1 *)(in_ECX + 0x4d2) = 0;
      }
      if (*(char *)(in_ECX + 0x3b0) != '\0') {
        *(undefined1 *)(in_ECX + 0x3b0) = 0;
        FUN_0088fa20(in_ECX,0,0);
      }
      FUN_00896ec0();
      *(undefined4 *)(in_ECX + 0xec) = 0;
      *(undefined4 *)(in_ECX + 200) = param_2;
      if ((piVar3 != (int *)0x0) && ((piVar3[0x10] & 0x400U) != 0)) {
        (**(code **)(*(int *)(*(int *)(*(int *)(in_ECX + 0x138) + 4) + 0x138 + in_ECX) + 0x10))
                  (in_ECX + 0xdd8,1,1,0);
        return;
      }
      (**(code **)(*(int *)(*(int *)(*(int *)(in_ECX + 0x138) + 4) + 0x138 + in_ECX) + 0x10))
                (in_ECX + 0xd68,1,1,0);
    }
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
0089a4a0 : PUSH EBP
0089a4a1 : MOV EBP,ESP
0089a4a3 : PUSH ESI
0089a4a4 : MOV ESI,ECX
0089a4a6 : CALL 0x00483f90
0089a4ab : CMP byte ptr [ESI + 0x424],0x0
0089a4b2 : JNZ 0x0089a5ff
0089a4b8 : MOV EAX,dword ptr [ESI + 0x138]
0089a4be : MOV ECX,dword ptr [EAX + 0x4]
0089a4c1 : MOV AX,word ptr [ESI + 0x1182]
0089a4c8 : PUSH EBX
0089a4c9 : PUSH EDI
0089a4ca : LEA EDI,[ESI + 0x1158]
0089a4d0 : LEA EBX,[ECX + ESI*0x1 + 0x138]
0089a4d7 : CALL 0x0043d970
0089a4dc : MOV EDX,0x3e8
0089a4e1 : CMP AX,DX
0089a4e4 : JNZ 0x0089a4eb
0089a4e6 : CMP dword ptr [EBX + 0x4],EDI
0089a4e9 : JMP 0x0089a4fd
0089a4eb : MOV ECX,0x7d0
0089a4f0 : CMP AX,CX
0089a4f3 : JNZ 0x0089a4fa
0089a4f5 : CMP dword ptr [EBX + 0x8],EDI
0089a4f8 : JMP 0x0089a4fd
0089a4fa : CMP dword ptr [EBX + 0xc],EDI
0089a4fd : SETZ AL
0089a500 : TEST AL,AL
0089a502 : JNZ 0x0089a5fd
0089a508 : MOV EBX,dword ptr [EBP + 0x8]
0089a50b : PUSH EBX
0089a50c : MOV byte ptr [ESI + 0x590],0x1
0089a513 : MOV byte ptr [ESI + 0x4cb],0x1
0089a51a : MOV byte ptr [ESI + 0x4cd],AL
0089a520 : MOV byte ptr [ESI + 0x4ce],AL
0089a526 : CALL 0x004049b0
0089a52b : MOV EDI,EAX
0089a52d : ADD ESP,0x4
0089a530 : TEST EDI,EDI
0089a532 : JZ 0x0089a558
0089a534 : MOV EDX,dword ptr [EDI]
0089a536 : MOV EAX,dword ptr [EDX + 0x40]
0089a539 : MOV ECX,EDI
0089a53b : CALL EAX
0089a53d : TEST EAX,EAX
0089a53f : JZ 0x0089a558
0089a541 : CMP byte ptr [EDI + 0xa5e],0x2
0089a548 : JNZ 0x0089a558
0089a54a : MOV byte ptr [ESI + 0x4d1],0x1
0089a551 : MOV byte ptr [ESI + 0x4d2],0x0
0089a558 : CMP byte ptr [ESI + 0x3b0],0x0
0089a55f : JZ 0x0089a577
0089a561 : PUSH 0x0
0089a563 : PUSH 0x0
0089a565 : PUSH ESI
0089a566 : MOV EAX,0x7d0
0089a56b : MOV byte ptr [ESI + 0x3b0],0x0
0089a572 : CALL 0x0088fa20
0089a577 : MOV ECX,dword ptr [EBP + 0x10]
0089a57a : PUSH 0x0
0089a57c : PUSH ECX
0089a57d : PUSH EBX
0089a57e : PUSH ESI
0089a57f : CALL 0x00896ec0
0089a584 : MOV EDX,dword ptr [EBP + 0xc]
0089a587 : MOV dword ptr [ESI + 0xec],0x0
0089a591 : MOV dword ptr [ESI + 0xc8],EDX
0089a597 : TEST EDI,EDI
0089a599 : JZ 0x0089a5d4
0089a59b : TEST dword ptr [EDI + 0x40],0x400
0089a5a2 : JZ 0x0089a5d4
0089a5a4 : MOV EAX,dword ptr [ESI + 0x138]
0089a5aa : MOV ECX,dword ptr [EAX + 0x4]
0089a5ad : MOV EDX,dword ptr [ECX + ESI*0x1 + 0x138]
0089a5b4 : MOV EAX,dword ptr [EDX + 0x10]
0089a5b7 : PUSH 0x0
0089a5b9 : LEA ECX,[ECX + ESI*0x1 + 0x138]
0089a5c0 : PUSH 0x1
0089a5c2 : PUSH 0x1
0089a5c4 : ADD ESI,0xdd8
0089a5ca : PUSH ESI
0089a5cb : CALL EAX
0089a5cd : POP EDI
0089a5ce : POP EBX
0089a5cf : POP ESI
0089a5d0 : POP EBP
0089a5d1 : RET 0xc
0089a5d4 : MOV ECX,dword ptr [ESI + 0x138]
0089a5da : MOV EDX,dword ptr [ECX + 0x4]
0089a5dd : MOV EAX,dword ptr [EDX + ESI*0x1 + 0x138]
0089a5e4 : PUSH 0x0
0089a5e6 : LEA ECX,[EDX + ESI*0x1 + 0x138]
0089a5ed : MOV EDX,dword ptr [EAX + 0x10]
0089a5f0 : PUSH 0x1
0089a5f2 : PUSH 0x1
0089a5f4 : ADD ESI,0xd68
0089a5fa : PUSH ESI
0089a5fb : CALL EDX
0089a5fd : POP EDI
0089a5fe : POP EBX
0089a5ff : POP ESI
0089a600 : POP EBP
0089a601 : RET 0xc
