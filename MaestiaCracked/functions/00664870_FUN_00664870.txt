PROGRAM  : Maestia.exe
FUNCTION : FUN_00664870
ENTRY    : 00664870
BODY     : [[00664870, 006648ad]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00664870(void)

{
  int iVar1;
  int in_ECX;
  int iVar2;
  short *in_EDX;
  int *unaff_EDI;
  
  iVar1 = 0;
  iVar2 = in_ECX;
  do {
    if (iVar2 == 0) {
LAB_00664893:
      iVar1 = -0x7ff8ffa9;
LAB_00664898:
      if (unaff_EDI != (int *)0x0) {
        if (-1 < iVar1) {
          *unaff_EDI = in_ECX - iVar2;
          return;
        }
        *unaff_EDI = 0;
      }
      return;
    }
    if (*in_EDX == 0) {
      if (iVar2 != 0) goto LAB_00664898;
      goto LAB_00664893;
    }
    in_EDX = in_EDX + 1;
    iVar2 = iVar2 + -1;
  } while( true );
}



============================================================
DISASSEMBLY
============================================================
00664870 : XOR EAX,EAX
00664872 : PUSH ESI
00664873 : MOV ESI,ECX
00664875 : TEST ECX,ECX
00664877 : JZ 0x00664893
00664879 : LEA ESP,[ESP]
00664880 : CMP word ptr [EDX],AX
00664883 : JZ 0x0066488f
00664885 : ADD EDX,0x2
00664888 : SUB ECX,0x1
0066488b : JNZ 0x00664880
0066488d : JMP 0x00664893
0066488f : TEST ECX,ECX
00664891 : JNZ 0x00664898
00664893 : MOV EAX,0x80070057
00664898 : TEST EDI,EDI
0066489a : JZ 0x006648ac
0066489c : TEST EAX,EAX
0066489e : JL 0x006648a6
006648a0 : SUB ESI,ECX
006648a2 : MOV dword ptr [EDI],ESI
006648a4 : POP ESI
006648a5 : RET
006648a6 : MOV dword ptr [EDI],0x0
006648ac : POP ESI
006648ad : RET
