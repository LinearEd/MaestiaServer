PROGRAM  : Maestia.exe
FUNCTION : FUN_00684fc0
ENTRY    : 00684fc0
BODY     : [[00684fc0, 00685016]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00684fc0(void)

{
  int *piVar1;
  int iVar2;
  int *in_ECX;
  int *piVar3;
  undefined1 local_4 [4];
  
  if (in_ECX[4] != -1) {
    piVar3 = (int *)&DAT_00befb70;
    iVar2 = (*(code *)**(undefined4 **)in_ECX[6])((undefined4 *)in_ECX[6],&DAT_00befb70,local_4);
    if (-1 < iVar2) {
      piVar1 = (int *)in_ECX[4];
      iVar2 = (**(code **)(*piVar3 + 0x10))(piVar3);
      if (iVar2 == -0x7ffbfe00) {
        (**(code **)(*in_ECX + 8))();
      }
      (**(code **)(*piVar1 + 8))(piVar1);
    }
    in_ECX[4] = -1;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00684fc0 : PUSH ECX
00684fc1 : PUSH ESI
00684fc2 : MOV ESI,ECX
00684fc4 : CMP dword ptr [ESI + 0x10],-0x1
00684fc8 : JZ 0x00685014
00684fca : MOV EAX,dword ptr [ESI + 0x18]
00684fcd : MOV ECX,dword ptr [EAX]
00684fcf : LEA EDX,[ESP + 0x4]
00684fd3 : PUSH EDX
00684fd4 : PUSH 0xbefb70
00684fd9 : PUSH EAX
00684fda : MOV EAX,dword ptr [ECX]
00684fdc : CALL EAX
00684fde : TEST EAX,EAX
00684fe0 : JL 0x0068500d
00684fe2 : MOV EAX,dword ptr [ESP + 0x4]
00684fe6 : MOV EDX,dword ptr [ESI + 0x10]
00684fe9 : MOV ECX,dword ptr [EAX]
00684feb : PUSH EDX
00684fec : PUSH EAX
00684fed : MOV EAX,dword ptr [ECX + 0x10]
00684ff0 : CALL EAX
00684ff2 : CMP EAX,0x80040200
00684ff7 : JNZ 0x00685001
00684ff9 : MOV ECX,dword ptr [ESI]
00684ffb : MOV EDX,dword ptr [ECX + 0x8]
00684ffe : PUSH ESI
00684fff : CALL EDX
00685001 : MOV EAX,dword ptr [ESP + 0x4]
00685005 : MOV ECX,dword ptr [EAX]
00685007 : MOV EDX,dword ptr [ECX + 0x8]
0068500a : PUSH EAX
0068500b : CALL EDX
0068500d : MOV dword ptr [ESI + 0x10],0xffffffff
00685014 : POP ESI
00685015 : POP ECX
00685016 : RET
