PROGRAM  : Maestia.exe
FUNCTION : FUN_0050b2a0
ENTRY    : 0050b2a0
BODY     : [[0050b2a0, 0050b334]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_0050b2a0(int param_1)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  int *in_ECX;
  
  if ((char)in_ECX[0x32] < '\0') {
    if (*(int *)(in_ECX[0x28] + 0x118) == 0) {
      bVar1 = *(byte *)(in_ECX[0x27] + 0x50) >> 5;
    }
    else {
      bVar1 = *(byte *)(*(int *)(in_ECX[0x28] + 0x118) + 0x68) >> 1;
    }
    if ((bVar1 & 1) != 0) {
      iVar2 = FUN_0054ac70();
      iVar2 = iVar2 - param_1;
      if (iVar2 < 0) {
        iVar2 = 0;
      }
      iVar3 = FUN_005452d0();
      if (iVar3 < iVar2) {
        iVar2 = FUN_005452d0();
      }
      FUN_00545620(iVar2);
      iVar2 = (**(code **)(*in_ECX + 0x40))();
      if (iVar2 != 0) {
        *(uint *)(iVar2 + 0xb00) = *(uint *)(iVar2 + 0xb00) | 0x400;
      }
      return 1;
    }
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0050b2a0 : PUSH ESI
0050b2a1 : MOV ESI,ECX
0050b2a3 : MOV AL,byte ptr [ESI + 0xc8]
0050b2a9 : SHR AL,0x7
0050b2ac : TEST AL,0x1
0050b2ae : JZ 0x0050b32f
0050b2b0 : MOV ECX,dword ptr [ESI + 0xa0]
0050b2b6 : MOV EAX,dword ptr [ECX + 0x118]
0050b2bc : TEST EAX,EAX
0050b2be : JZ 0x0050b2c7
0050b2c0 : MOV AL,byte ptr [EAX + 0x68]
0050b2c3 : SHR AL,0x1
0050b2c5 : JMP 0x0050b2d3
0050b2c7 : MOV EDX,dword ptr [ESI + 0x9c]
0050b2cd : MOV AL,byte ptr [EDX + 0x50]
0050b2d0 : SHR AL,0x5
0050b2d3 : AND AL,0x1
0050b2d5 : TEST AL,AL
0050b2d7 : JZ 0x0050b32f
0050b2d9 : PUSH EDI
0050b2da : CALL 0x0054ac70
0050b2df : MOV EDI,EAX
0050b2e1 : SUB EDI,dword ptr [ESP + 0xc]
0050b2e5 : JNS 0x0050b2e9
0050b2e7 : XOR EDI,EDI
0050b2e9 : MOV ECX,dword ptr [ESI + 0xa0]
0050b2ef : CALL 0x005452d0
0050b2f4 : CMP EDI,EAX
0050b2f6 : JLE 0x0050b305
0050b2f8 : MOV ECX,dword ptr [ESI + 0xa0]
0050b2fe : CALL 0x005452d0
0050b303 : MOV EDI,EAX
0050b305 : MOV ECX,dword ptr [ESI + 0xa0]
0050b30b : PUSH EDI
0050b30c : CALL 0x00545620
0050b311 : MOV EAX,dword ptr [ESI]
0050b313 : MOV EDX,dword ptr [EAX + 0x40]
0050b316 : MOV ECX,ESI
0050b318 : CALL EDX
0050b31a : POP EDI
0050b31b : TEST EAX,EAX
0050b31d : JZ 0x0050b329
0050b31f : OR dword ptr [EAX + 0xb00],0x400
0050b329 : MOV AL,0x1
0050b32b : POP ESI
0050b32c : RET 0x4
0050b32f : XOR AL,AL
0050b331 : POP ESI
0050b332 : RET 0x4
