PROGRAM  : Maestia.exe
FUNCTION : FUN_006e27f0
ENTRY    : 006e27f0
BODY     : [[006e27f0, 006e2956]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_006e27f0(int *param_1)

{
  int iVar1;
  int iVar2;
  undefined1 uVar3;
  int iVar4;
  int *piVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int *piVar9;
  int iVar10;
  int iVar11;
  int iStack_20;
  int iStack_1c;
  int *piStack_18;
  int iStack_c;
  
  iVar1 = param_1[0x6a];
  piStack_18 = (int *)(iVar1 + 0x20);
  iVar4 = FUN_006e26c0(param_1,piStack_18);
  if (param_1[0x19] == 3) {
    iVar2 = *param_1;
    *(int *)(iVar2 + 0x18) = iVar4;
    *(int *)(iVar2 + 0x1c) = *piStack_18;
    *(undefined4 *)(iVar2 + 0x20) = *(undefined4 *)(iVar1 + 0x24);
    *(undefined4 *)(iVar2 + 0x24) = *(undefined4 *)(iVar1 + 0x28);
    *(undefined4 *)(*param_1 + 0x14) = 0x5e;
    (**(code **)(*param_1 + 4))();
  }
  else {
    *(undefined4 *)(*param_1 + 0x14) = 0x5f;
    *(int *)(*param_1 + 0x18) = iVar4;
    (**(code **)(*param_1 + 4))(param_1,1);
  }
  piVar5 = (int *)(**(code **)(param_1[1] + 8))(param_1,1,iVar4,param_1[0x19]);
  iStack_c = 0;
  piVar9 = piVar5;
  iStack_1c = iVar4;
  if (0 < param_1[0x19]) {
    do {
      iVar2 = *piStack_18;
      iVar6 = iStack_1c / iVar2;
      iStack_20 = 0;
      if (0 < iVar2) {
        iVar10 = 0;
        do {
          uVar3 = FUN_006e27b0();
          for (iVar8 = iVar10; iVar8 < iVar4; iVar8 = iVar8 + iStack_1c) {
            iVar7 = 0;
            if (0 < iVar6) {
              do {
                iVar11 = *piVar9 + iVar7;
                iVar7 = iVar7 + 1;
                *(undefined1 *)(iVar11 + iVar8) = uVar3;
              } while (iVar7 < iVar6);
            }
          }
          iStack_20 = iStack_20 + 1;
          iVar10 = iVar10 + iVar6;
        } while (iStack_20 < iVar2);
      }
      piStack_18 = piStack_18 + 1;
      iStack_c = iStack_c + 1;
      piVar9 = piVar9 + 1;
      iStack_1c = iVar6;
    } while (iStack_c < param_1[0x19]);
    *(int **)(iVar1 + 0x10) = piVar5;
    *(int *)(iVar1 + 0x14) = iVar4;
    return;
  }
  *(int *)(iVar1 + 0x14) = iVar4;
  *(int **)(iVar1 + 0x10) = piVar5;
  return;
}



============================================================
DISASSEMBLY
============================================================
006e27f0 : SUB ESP,0x20
006e27f3 : PUSH EBX
006e27f4 : PUSH EBP
006e27f5 : MOV EBP,dword ptr [ESP + 0x2c]
006e27f9 : MOV EBX,dword ptr [EBP + 0x1a8]
006e27ff : PUSH ESI
006e2800 : PUSH EDI
006e2801 : LEA ESI,[EBX + 0x20]
006e2804 : PUSH ESI
006e2805 : PUSH EBP
006e2806 : MOV dword ptr [ESP + 0x34],EBX
006e280a : CALL 0x006e26c0
006e280f : ADD ESP,0x8
006e2812 : CMP dword ptr [EBP + 0x64],0x3
006e2816 : MOV EDI,EAX
006e2818 : PUSH 0x1
006e281a : MOV dword ptr [ESP + 0x20],EDI
006e281e : PUSH EBP
006e281f : JNZ 0x006e284e
006e2821 : MOV EAX,dword ptr [EBP]
006e2824 : ADD EAX,0x18
006e2827 : MOV dword ptr [EAX],EDI
006e2829 : MOV ECX,dword ptr [ESI]
006e282b : MOV dword ptr [EAX + 0x4],ECX
006e282e : MOV EDX,dword ptr [EBX + 0x24]
006e2831 : MOV dword ptr [EAX + 0x8],EDX
006e2834 : MOV ECX,dword ptr [EBX + 0x28]
006e2837 : MOV dword ptr [EAX + 0xc],ECX
006e283a : MOV EDX,dword ptr [EBP]
006e283d : MOV dword ptr [EDX + 0x14],0x5e
006e2844 : MOV EAX,dword ptr [EBP]
006e2847 : MOV ECX,dword ptr [EAX + 0x4]
006e284a : CALL ECX
006e284c : JMP 0x006e2866
006e284e : MOV EDX,dword ptr [EBP]
006e2851 : MOV dword ptr [EDX + 0x14],0x5f
006e2858 : MOV EAX,dword ptr [EBP]
006e285b : MOV dword ptr [EAX + 0x18],EDI
006e285e : MOV ECX,dword ptr [EBP]
006e2861 : MOV EDX,dword ptr [ECX + 0x4]
006e2864 : CALL EDX
006e2866 : MOV ECX,dword ptr [EBP + 0x64]
006e2869 : MOV EAX,dword ptr [EBP + 0x4]
006e286c : MOV EDX,dword ptr [EAX + 0x8]
006e286f : ADD ESP,0x8
006e2872 : PUSH ECX
006e2873 : PUSH EDI
006e2874 : PUSH 0x1
006e2876 : PUSH EBP
006e2877 : CALL EDX
006e2879 : ADD ESP,0x10
006e287c : CMP dword ptr [EBP + 0x64],0x0
006e2880 : MOV ECX,EAX
006e2882 : MOV dword ptr [ESP + 0x28],ECX
006e2886 : MOV dword ptr [ESP + 0x14],EDI
006e288a : MOV dword ptr [ESP + 0x24],0x0
006e2892 : JLE 0x006e2949
006e2898 : MOV EBX,ECX
006e289a : MOV dword ptr [ESP + 0x18],ESI
006e289e : MOV EDI,EDI
006e28a0 : MOV EAX,dword ptr [ESP + 0x18]
006e28a4 : MOV ESI,dword ptr [EAX]
006e28a6 : MOV EAX,dword ptr [ESP + 0x14]
006e28aa : CDQ
006e28ab : IDIV ESI
006e28ad : MOV dword ptr [ESP + 0x20],ESI
006e28b1 : MOV dword ptr [ESP + 0x10],0x0
006e28b9 : MOV EDI,EAX
006e28bb : TEST ESI,ESI
006e28bd : JLE 0x006e2915
006e28bf : XOR EBP,EBP
006e28c1 : JMP 0x006e28c7
006e28c3 : MOV ESI,dword ptr [ESP + 0x20]
006e28c7 : MOV ECX,dword ptr [ESP + 0x10]
006e28cb : DEC ESI
006e28cc : CALL 0x006e27b0
006e28d1 : CMP EBP,dword ptr [ESP + 0x1c]
006e28d5 : MOV EDX,EBP
006e28d7 : JGE 0x006e28fc
006e28d9 : LEA ESP,[ESP]
006e28e0 : XOR ECX,ECX
006e28e2 : TEST EDI,EDI
006e28e4 : JLE 0x006e28f2
006e28e6 : MOV ESI,dword ptr [EBX]
006e28e8 : ADD ESI,ECX
006e28ea : INC ECX
006e28eb : CMP ECX,EDI
006e28ed : MOV byte ptr [ESI + EDX*0x1],AL
006e28f0 : JL 0x006e28e6
006e28f2 : ADD EDX,dword ptr [ESP + 0x14]
006e28f6 : CMP EDX,dword ptr [ESP + 0x1c]
006e28fa : JL 0x006e28e0
006e28fc : MOV EAX,dword ptr [ESP + 0x10]
006e2900 : INC EAX
006e2901 : ADD EBP,EDI
006e2903 : CMP EAX,dword ptr [ESP + 0x20]
006e2907 : MOV dword ptr [ESP + 0x10],EAX
006e290b : JL 0x006e28c3
006e290d : MOV EBP,dword ptr [ESP + 0x34]
006e2911 : MOV ECX,dword ptr [ESP + 0x28]
006e2915 : MOV EAX,dword ptr [ESP + 0x24]
006e2919 : ADD dword ptr [ESP + 0x18],0x4
006e291e : INC EAX
006e291f : ADD EBX,0x4
006e2922 : CMP EAX,dword ptr [EBP + 0x64]
006e2925 : MOV dword ptr [ESP + 0x14],EDI
006e2929 : MOV dword ptr [ESP + 0x24],EAX
006e292d : JL 0x006e28a0
006e2933 : MOV EAX,dword ptr [ESP + 0x2c]
006e2937 : POP EDI
006e2938 : POP ESI
006e2939 : MOV dword ptr [EAX + 0x10],ECX
006e293c : MOV ECX,dword ptr [ESP + 0x14]
006e2940 : POP EBP
006e2941 : MOV dword ptr [EAX + 0x14],ECX
006e2944 : POP EBX
006e2945 : ADD ESP,0x20
006e2948 : RET
006e2949 : MOV dword ptr [EBX + 0x14],EDI
006e294c : POP EDI
006e294d : POP ESI
006e294e : POP EBP
006e294f : MOV dword ptr [EBX + 0x10],ECX
006e2952 : POP EBX
006e2953 : ADD ESP,0x20
006e2956 : RET
