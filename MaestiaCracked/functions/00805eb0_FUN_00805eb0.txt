PROGRAM  : Maestia.exe
FUNCTION : FUN_00805eb0
ENTRY    : 00805eb0
BODY     : [[00805eb0, 0080609b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00805eb0(void)

{
  float fVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  int in_ECX;
  float *in_EDX;
  float fVar7;
  float fVar8;
  float fVar9;
  
  fVar6 = DAT_00d72c24;
  fVar1 = *(float *)(in_ECX + 0x9c);
  if (((*in_EDX != fVar1) || (in_EDX[1] != *(float *)(in_ECX + 0xa0))) ||
     (in_EDX[2] != *(float *)(in_ECX + 0xa4))) {
    fVar9 = in_EDX[2];
    fVar2 = *(float *)(in_ECX + 0xa0);
    fVar3 = in_EDX[1];
    *(float *)(in_ECX + 0xab0) = *in_EDX;
    *(undefined4 *)(in_ECX + 0xac8) = *(undefined4 *)(in_ECX + 0xa7c);
    fVar7 = *(float *)(in_ECX + 4) * fVar6;
    *(float *)(in_ECX + 0xab8) = fVar9;
    fVar4 = *(float *)(in_ECX + 0xa4);
    *(float *)(in_ECX + 0xab4) = fVar3;
    fVar5 = *in_EDX;
    *(float *)(in_ECX + 0xad0) = fVar1;
    *(float *)(in_ECX + 0xad4) = fVar2;
    *(float *)(in_ECX + 0xabc) = (fVar1 + fVar5) * fVar6;
    fVar8 = in_EDX[1];
    *(float *)(in_ECX + 0xad8) = fVar4;
    *(float *)(in_ECX + 0xac0) = (fVar2 + fVar8) * fVar6;
    fVar8 = (fVar4 + in_EDX[2]) * fVar6;
    *(float *)(in_ECX + 0xacc) =
         (1.0 - (fVar4 * fVar9 + fVar2 * fVar3 + fVar1 * fVar5 + 1.0) * fVar6) *
         (*(float *)(in_ECX + 4) - fVar7) + fVar7 + *(float *)(in_ECX + 0xa7c);
    *(float *)(in_ECX + 0xac4) = fVar8;
    fVar1 = *(float *)(in_ECX + 0xac0);
    fVar6 = *(float *)(in_ECX + 0xabc);
    fVar9 = SQRT(fVar6 * fVar6 + fVar1 * fVar1 + fVar8 * fVar8);
    if (fVar9 != 0.0) {
      fVar9 = 1.0 / fVar9;
      *(float *)(in_ECX + 0xac0) = fVar9 * fVar1;
      *(float *)(in_ECX + 0xac4) = fVar9 * fVar8;
      *(float *)(in_ECX + 0xabc) = fVar9 * fVar6;
      return;
    }
    *(undefined4 *)(in_ECX + 0xac0) = 0;
    *(undefined4 *)(in_ECX + 0xac4) = 0;
    *(undefined4 *)(in_ECX + 0xabc) = 0;
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00805eb0 : PUSH EBP
00805eb1 : MOV EBP,ESP
00805eb3 : AND ESP,0xfffffff8
00805eb6 : MOVSS XMM0,dword ptr [EDX]
00805eba : MOVSS XMM2,dword ptr [ECX + 0x9c]
00805ec2 : SUB ESP,0x8
00805ec5 : UCOMISS XMM0,XMM2
00805ec8 : LAHF
00805ec9 : TEST AH,0x44
00805ecc : JP 0x00805ef6
00805ece : MOVSS XMM1,dword ptr [EDX + 0x4]
00805ed3 : UCOMISS XMM1,dword ptr [ECX + 0xa0]
00805eda : LAHF
00805edb : TEST AH,0x44
00805ede : JP 0x00805ef6
00805ee0 : MOVSS XMM1,dword ptr [EDX + 0x8]
00805ee5 : UCOMISS XMM1,dword ptr [ECX + 0xa4]
00805eec : LAHF
00805eed : TEST AH,0x44
00805ef0 : JNP 0x00806098
00805ef6 : MOVSS XMM4,dword ptr [0x00d72c24]
00805efe : MOVSS XMM3,dword ptr [ECX + 0x4]
00805f03 : MOVSS XMM6,dword ptr [EDX + 0x8]
00805f08 : MOVSS XMM1,dword ptr [ECX + 0xa0]
00805f10 : MOVSS XMM5,dword ptr [EDX + 0x4]
00805f15 : MOVSS dword ptr [ECX + 0xab0],XMM0
00805f1d : MOVSS XMM0,dword ptr [ECX + 0xa7c]
00805f25 : MOVSS dword ptr [ECX + 0xac8],XMM0
00805f2d : MOVAPS XMM0,XMM3
00805f30 : MULSS XMM0,XMM4
00805f34 : MOVSS dword ptr [ECX + 0xab8],XMM6
00805f3c : MOVSS dword ptr [ESP],XMM0
00805f41 : MOVSS XMM0,dword ptr [ECX + 0xa4]
00805f49 : MOVAPS XMM7,XMM0
00805f4c : MULSS XMM7,XMM6
00805f50 : MOVAPS XMM6,XMM1
00805f53 : MULSS XMM6,XMM5
00805f57 : ADDSS XMM7,XMM6
00805f5b : MOVAPS XMM6,XMM2
00805f5e : MOVSS dword ptr [ECX + 0xab4],XMM5
00805f66 : MOVSS XMM5,dword ptr [EDX]
00805f6a : MULSS XMM6,XMM5
00805f6e : ADDSS XMM7,XMM6
00805f72 : MOVSS XMM6,dword ptr [0x00c10fc4]
00805f7a : ADDSS XMM7,XMM6
00805f7e : MULSS XMM7,XMM4
00805f82 : MOVSS dword ptr [ECX + 0xad0],XMM2
00805f8a : SUBSS XMM6,XMM7
00805f8e : ADDSS XMM2,XMM5
00805f92 : MULSS XMM2,XMM4
00805f96 : MOVSS dword ptr [ECX + 0xad4],XMM1
00805f9e : MOVSS dword ptr [ECX + 0xabc],XMM2
00805fa6 : MOVSS XMM2,dword ptr [EDX + 0x4]
00805fab : ADDSS XMM1,XMM2
00805faf : MULSS XMM1,XMM4
00805fb3 : MOVSS dword ptr [ESP + 0x4],XMM6
00805fb9 : MOVSS XMM6,dword ptr [ESP]
00805fbe : MOVSS XMM7,dword ptr [ESP + 0x4]
00805fc4 : SUBSS XMM3,XMM6
00805fc8 : MULSS XMM7,XMM3
00805fcc : MOVSS XMM3,dword ptr [ECX + 0xa7c]
00805fd4 : MOVSS dword ptr [ECX + 0xad8],XMM0
00805fdc : MOVSS dword ptr [ECX + 0xac0],XMM1
00805fe4 : MOVSS XMM1,dword ptr [EDX + 0x8]
00805fe9 : ADDSS XMM0,XMM1
00805fed : MULSS XMM0,XMM4
00805ff1 : ADDSS XMM7,XMM6
00805ff5 : ADDSS XMM7,XMM3
00805ff9 : MOVSS dword ptr [ECX + 0xacc],XMM7
00806001 : MOVSS dword ptr [ECX + 0xac4],XMM0
00806009 : MOVSS XMM1,dword ptr [ECX + 0xac0]
00806011 : MOVSS XMM2,dword ptr [ECX + 0xabc]
00806019 : MOVAPS XMM3,XMM2
0080601c : MULSS XMM3,XMM2
00806020 : MOVAPS XMM4,XMM1
00806023 : MULSS XMM4,XMM1
00806027 : ADDSS XMM3,XMM4
0080602b : MOVAPS XMM4,XMM0
0080602e : MULSS XMM4,XMM0
00806032 : ADDSS XMM3,XMM4
00806036 : XORPS XMM4,XMM4
00806039 : SQRTSS XMM3,XMM3
0080603d : UCOMISS XMM3,XMM4
00806040 : LAHF
00806041 : TEST AH,0x44
00806044 : JNP 0x00806080
00806046 : MOVSS XMM4,dword ptr [0x00c10fc4]
0080604e : DIVSS XMM4,XMM3
00806052 : MOVAPS XMM3,XMM4
00806055 : MULSS XMM4,XMM2
00806059 : MOVAPS XMM2,XMM3
0080605c : MULSS XMM2,XMM1
00806060 : MULSS XMM3,XMM0
00806064 : MOVSS dword ptr [ECX + 0xac0],XMM2
0080606c : MOVSS dword ptr [ECX + 0xac4],XMM3
00806074 : MOVSS dword ptr [ECX + 0xabc],XMM4
0080607c : MOV ESP,EBP
0080607e : POP EBP
0080607f : RET
00806080 : MOVSS dword ptr [ECX + 0xac0],XMM4
00806088 : MOVSS dword ptr [ECX + 0xac4],XMM4
00806090 : MOVSS dword ptr [ECX + 0xabc],XMM4
00806098 : MOV ESP,EBP
0080609a : POP EBP
0080609b : RET
