PROGRAM  : Maestia.exe
FUNCTION : FUN_005051f0
ENTRY    : 005051f0
BODY     : [[005051f0, 0050525b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005051f0(int *param_1,int param_2)

{
  int *in_ECX;
  undefined1 local_11;
  undefined1 local_10 [16];
  
  if (in_ECX[1] == 0) {
    local_11 = 3;
    local_10[0] = 10;
    (**(code **)(*in_ECX + 0x28))(param_1,*param_1 + 0x134,local_10,&local_11);
    FUN_00526bc0();
  }
  if (param_2 != 0) {
    *(uint *)(param_2 + 8) = *(int *)(param_2 + 8) + 1U & 0x8fffffff;
  }
  if (in_ECX[1] != 0) {
    FUN_00503db0();
  }
  in_ECX[1] = param_2;
  return;
}



============================================================
DISASSEMBLY
============================================================
005051f0 : SUB ESP,0x14
005051f3 : PUSH ESI
005051f4 : MOV ESI,ECX
005051f6 : CMP dword ptr [ESI + 0x4],0x0
005051fa : PUSH EDI
005051fb : JNZ 0x00505231
005051fd : MOV EDX,dword ptr [ESI]
005051ff : MOV EDX,dword ptr [EDX + 0x28]
00505202 : LEA EAX,[ESP + 0xb]
00505206 : PUSH EAX
00505207 : MOV EAX,dword ptr [ESP + 0x24]
0050520b : LEA ECX,[ESP + 0x10]
0050520f : PUSH ECX
00505210 : MOV ECX,dword ptr [EAX]
00505212 : ADD ECX,0x134
00505218 : PUSH ECX
00505219 : PUSH EAX
0050521a : MOV ECX,ESI
0050521c : MOV byte ptr [ESP + 0x1b],0x3
00505221 : MOV byte ptr [ESP + 0x1c],0xa
00505226 : CALL EDX
00505228 : LEA ECX,[ESP + 0xc]
0050522c : CALL 0x00526bc0
00505231 : MOV EDI,dword ptr [ESP + 0x24]
00505235 : TEST EDI,EDI
00505237 : JZ 0x00505245
00505239 : MOV EAX,dword ptr [EDI + 0x8]
0050523c : INC EAX
0050523d : AND EAX,0x8fffffff
00505242 : MOV dword ptr [EDI + 0x8],EAX
00505245 : MOV ECX,dword ptr [ESI + 0x4]
00505248 : TEST ECX,ECX
0050524a : JZ 0x00505251
0050524c : CALL 0x00503db0
00505251 : MOV dword ptr [ESI + 0x4],EDI
00505254 : POP EDI
00505255 : POP ESI
00505256 : ADD ESP,0x14
00505259 : RET 0x8
