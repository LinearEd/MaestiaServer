PROGRAM  : Maestia.exe
FUNCTION : FUN_00507660
ENTRY    : 00507660
BODY     : [[00507660, 005076be]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00507660(undefined4 *param_1)

{
  int *piVar1;
  int iVar2;
  int *in_ECX;
  
  iVar2 = *(int *)*param_1;
  piVar1 = (int *)(iVar2 + 8);
  *piVar1 = *piVar1 + 1;
  piVar1 = (int *)(*in_ECX + 8);
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    FUN_00525340();
  }
  *in_ECX = iVar2;
  piVar1 = (int *)param_1[1];
  in_ECX[1] = *piVar1;
  iVar2 = piVar1[1];
  if (iVar2 != 0) {
    *(uint *)(iVar2 + 8) = *(int *)(iVar2 + 8) + 1U & 0x8fffffff;
  }
  if (in_ECX[2] != 0) {
    FUN_00503db0();
    in_ECX[2] = piVar1[1];
    return;
  }
  in_ECX[2] = piVar1[1];
  return;
}



============================================================
DISASSEMBLY
============================================================
00507660 : PUSH EBX
00507661 : MOV EBX,dword ptr [ESP + 0x8]
00507665 : MOV EAX,dword ptr [EBX]
00507667 : PUSH ESI
00507668 : PUSH EDI
00507669 : MOV EDI,dword ptr [EAX]
0050766b : INC dword ptr [EDI + 0x8]
0050766e : MOV ESI,ECX
00507670 : MOV ECX,dword ptr [ESI]
00507672 : ADD dword ptr [ECX + 0x8],-0x1
00507676 : JNZ 0x0050767d
00507678 : CALL 0x00525340
0050767d : MOV dword ptr [ESI],EDI
0050767f : MOV EDI,dword ptr [EBX + 0x4]
00507682 : MOV ECX,dword ptr [EDI]
00507684 : MOV dword ptr [ESI + 0x4],ECX
00507687 : MOV EAX,dword ptr [EDI + 0x4]
0050768a : TEST EAX,EAX
0050768c : JZ 0x0050769b
0050768e : MOV EDX,dword ptr [EAX + 0x8]
00507691 : INC EDX
00507692 : AND EDX,0x8fffffff
00507698 : MOV dword ptr [EAX + 0x8],EDX
0050769b : MOV ECX,dword ptr [ESI + 0x8]
0050769e : TEST ECX,ECX
005076a0 : JZ 0x005076b3
005076a2 : CALL 0x00503db0
005076a7 : MOV EAX,dword ptr [EDI + 0x4]
005076aa : POP EDI
005076ab : MOV dword ptr [ESI + 0x8],EAX
005076ae : POP ESI
005076af : POP EBX
005076b0 : RET 0x4
005076b3 : MOV ECX,dword ptr [EDI + 0x4]
005076b6 : POP EDI
005076b7 : MOV dword ptr [ESI + 0x8],ECX
005076ba : POP ESI
005076bb : POP EBX
005076bc : RET 0x4
