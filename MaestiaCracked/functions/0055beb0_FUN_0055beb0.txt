PROGRAM  : Maestia.exe
FUNCTION : FUN_0055beb0
ENTRY    : 0055beb0
BODY     : [[0055beb0, 0055c07f]]

============================================================
DECOMPILED C CODE
============================================================

byte FUN_0055beb0(float *param_1,char param_2,int param_3)

{
  char cVar1;
  byte bVar2;
  float *pfVar3;
  int *in_ECX;
  GRefCountNTSImpl *this;
  float local_9c;
  float local_98;
  float local_94;
  float local_90;
  float fStack_8c;
  float fStack_88;
  undefined1 local_84 [16];
  undefined1 auStack_74 [116];
  
  this = (GRefCountNTSImpl *)0x0;
  if ((param_3 != 0) && ((*(byte *)(param_3 + 0x66) & 1) != 0)) {
    this = (GRefCountNTSImpl *)FUN_0051d4a0(0x3f800000);
    if (this != (GRefCountNTSImpl *)0x0) {
      FUN_005ac2c0();
    }
  }
  local_9c = (float)in_ECX[1];
  local_98 = (float)in_ECX[2];
  local_94 = (float)in_ECX[3];
  local_90 = (float)in_ECX[4];
  if ((*(byte *)(in_ECX + 9) & 0x10) == 0) {
    (**(code **)(*in_ECX + 0x14))(&local_9c);
  }
  if (this != (GRefCountNTSImpl *)0x0) {
    pfVar3 = (float *)FUN_005acfa0(local_84,&local_9c);
    local_98 = pfVar3[1];
    local_94 = pfVar3[2];
    local_90 = pfVar3[3];
    local_9c = *pfVar3;
    fStack_8c = local_94;
    fStack_88 = local_98;
  }
  if (*param_1 <= local_94) {
    if (local_9c < *param_1 != (local_9c == *param_1)) {
      if (param_1[1] <= local_90) {
        if (local_98 < param_1[1] != (local_98 == param_1[1])) {
          if (param_2 == '\0') {
            if (this != (GRefCountNTSImpl *)0x0) {
              GRefCountNTSImpl::Release(this);
            }
            return 1;
          }
          if ((param_3 != 0) && (this == (GRefCountNTSImpl *)0x0)) {
            cVar1 = FUN_0051cff0(*param_1,param_1[1]);
            if (cVar1 != '\0') {
              return *(byte *)(param_3 + 0x66) >> 3 & 1;
            }
          }
          FUN_005560e0(in_ECX);
          bVar2 = FUN_0055a1e0(auStack_74,this,*param_1,param_1[1]);
          if (param_3 != 0) {
            FUN_0051d030(*param_1,param_1[1],bVar2);
          }
          if (this != (GRefCountNTSImpl *)0x0) {
            GRefCountNTSImpl::Release(this);
          }
          return bVar2;
        }
      }
    }
  }
  if (this != (GRefCountNTSImpl *)0x0) {
    GRefCountNTSImpl::Release(this);
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0055beb0 : SUB ESP,0xa0
0055beb6 : PUSH EBX
0055beb7 : PUSH EBP
0055beb8 : MOV EBP,dword ptr [ESP + 0xb4]
0055bebf : PUSH ESI
0055bec0 : XOR ESI,ESI
0055bec2 : PUSH EDI
0055bec3 : MOV EBX,ECX
0055bec5 : TEST EBP,EBP
0055bec7 : JZ 0x0055bee9
0055bec9 : TEST byte ptr [EBP + 0x66],0x1
0055becd : JZ 0x0055bee9
0055becf : FLD1
0055bed1 : PUSH ECX
0055bed2 : MOV ECX,EBP
0055bed4 : FSTP float ptr [ESP]
0055bed7 : CALL 0x0051d4a0
0055bedc : MOV ESI,EAX
0055bede : TEST ESI,ESI
0055bee0 : JZ 0x0055bee9
0055bee2 : MOV ECX,ESI
0055bee4 : CALL 0x005ac2c0
0055bee9 : TEST byte ptr [EBX + 0x24],0x10
0055beed : FLD float ptr [EBX + 0x4]
0055bef0 : FSTP float ptr [ESP + 0x14]
0055bef4 : FLD float ptr [EBX + 0x8]
0055bef7 : FSTP float ptr [ESP + 0x18]
0055befb : FLD float ptr [EBX + 0xc]
0055befe : FSTP float ptr [ESP + 0x1c]
0055bf02 : FLD float ptr [EBX + 0x10]
0055bf05 : FSTP float ptr [ESP + 0x20]
0055bf09 : JNZ 0x0055bf19
0055bf0b : MOV EAX,dword ptr [EBX]
0055bf0d : MOV EDX,dword ptr [EAX + 0x14]
0055bf10 : LEA ECX,[ESP + 0x14]
0055bf14 : PUSH ECX
0055bf15 : MOV ECX,EBX
0055bf17 : CALL EDX
0055bf19 : TEST ESI,ESI
0055bf1b : JZ 0x0055bf61
0055bf1d : LEA EAX,[ESP + 0x14]
0055bf21 : PUSH EAX
0055bf22 : LEA ECX,[ESP + 0x30]
0055bf26 : PUSH ECX
0055bf27 : MOV ECX,ESI
0055bf29 : CALL 0x005acfa0
0055bf2e : FLD float ptr [EAX + 0x4]
0055bf31 : FSTP float ptr [ESP + 0x28]
0055bf35 : FLD float ptr [EAX + 0x8]
0055bf38 : FSTP float ptr [ESP + 0x24]
0055bf3c : FLD float ptr [EAX + 0xc]
0055bf3f : FSTP float ptr [ESP + 0x10]
0055bf43 : FLD float ptr [EAX]
0055bf45 : FSTP float ptr [ESP + 0x14]
0055bf49 : FLD float ptr [ESP + 0x28]
0055bf4d : FSTP float ptr [ESP + 0x18]
0055bf51 : FLD float ptr [ESP + 0x24]
0055bf55 : FSTP float ptr [ESP + 0x1c]
0055bf59 : FLD float ptr [ESP + 0x10]
0055bf5d : FSTP float ptr [ESP + 0x20]
0055bf61 : MOV EDI,dword ptr [ESP + 0xb4]
0055bf68 : FLD float ptr [EDI]
0055bf6a : FLD float ptr [ESP + 0x1c]
0055bf6e : FCOMPP
0055bf70 : FNSTSW AX
0055bf72 : TEST AH,0x1
0055bf75 : JNZ 0x0055bfa6
0055bf77 : FLD float ptr [EDI]
0055bf79 : FLD float ptr [ESP + 0x14]
0055bf7d : FCOMPP
0055bf7f : FNSTSW AX
0055bf81 : TEST AH,0x41
0055bf84 : JP 0x0055bfa6
0055bf86 : FLD float ptr [EDI + 0x4]
0055bf89 : FLD float ptr [ESP + 0x20]
0055bf8d : FCOMPP
0055bf8f : FNSTSW AX
0055bf91 : TEST AH,0x1
0055bf94 : JNZ 0x0055bfa6
0055bf96 : FLD float ptr [EDI + 0x4]
0055bf99 : FLD float ptr [ESP + 0x18]
0055bf9d : FCOMPP
0055bf9f : FNSTSW AX
0055bfa1 : TEST AH,0x41
0055bfa4 : JNP 0x0055bfc0
0055bfa6 : TEST ESI,ESI
0055bfa8 : JZ 0x0055bfb1
0055bfaa : MOV ECX,ESI
0055bfac : CALL 0x004ff7c0
0055bfb1 : POP EDI
0055bfb2 : POP ESI
0055bfb3 : POP EBP
0055bfb4 : XOR AL,AL
0055bfb6 : POP EBX
0055bfb7 : ADD ESP,0xa0
0055bfbd : RET 0xc
0055bfc0 : CMP byte ptr [ESP + 0xb8],0x0
0055bfc8 : JNZ 0x0055bfe4
0055bfca : TEST ESI,ESI
0055bfcc : JZ 0x0055bfd5
0055bfce : MOV ECX,ESI
0055bfd0 : CALL 0x004ff7c0
0055bfd5 : POP EDI
0055bfd6 : POP ESI
0055bfd7 : POP EBP
0055bfd8 : MOV AL,0x1
0055bfda : POP EBX
0055bfdb : ADD ESP,0xa0
0055bfe1 : RET 0xc
0055bfe4 : TEST EBP,EBP
0055bfe6 : JZ 0x0055c01b
0055bfe8 : TEST ESI,ESI
0055bfea : JNZ 0x0055c01b
0055bfec : FLD float ptr [EDI + 0x4]
0055bfef : SUB ESP,0x8
0055bff2 : FSTP float ptr [ESP + 0x4]
0055bff6 : MOV ECX,EBP
0055bff8 : FLD float ptr [EDI]
0055bffa : FSTP float ptr [ESP]
0055bffd : CALL 0x0051cff0
0055c002 : TEST AL,AL
0055c004 : JZ 0x0055c01b
0055c006 : MOV AL,byte ptr [EBP + 0x66]
0055c009 : POP EDI
0055c00a : POP ESI
0055c00b : SHR AL,0x3
0055c00e : POP EBP
0055c00f : AND AL,0x1
0055c011 : POP EBX
0055c012 : ADD ESP,0xa0
0055c018 : RET 0xc
0055c01b : PUSH EBX
0055c01c : LEA ECX,[ESP + 0x40]
0055c020 : CALL 0x005560e0
0055c025 : FLD float ptr [EDI + 0x4]
0055c028 : SUB ESP,0x8
0055c02b : FSTP float ptr [ESP + 0x4]
0055c02f : LEA EDX,[ESP + 0x44]
0055c033 : FLD float ptr [EDI]
0055c035 : MOV ECX,EBX
0055c037 : FSTP float ptr [ESP]
0055c03a : PUSH ESI
0055c03b : PUSH EDX
0055c03c : CALL 0x0055a1e0
0055c041 : MOV BL,AL
0055c043 : MOV byte ptr [ESP + 0x10],BL
0055c047 : TEST EBP,EBP
0055c049 : JZ 0x0055c066
0055c04b : MOV EAX,dword ptr [ESP + 0x10]
0055c04f : FLD float ptr [EDI + 0x4]
0055c052 : PUSH EAX
0055c053 : SUB ESP,0x8
0055c056 : FSTP float ptr [ESP + 0x4]
0055c05a : MOV ECX,EBP
0055c05c : FLD float ptr [EDI]
0055c05e : FSTP float ptr [ESP]
0055c061 : CALL 0x0051d030
0055c066 : TEST ESI,ESI
0055c068 : JZ 0x0055c071
0055c06a : MOV ECX,ESI
0055c06c : CALL 0x004ff7c0
0055c071 : POP EDI
0055c072 : POP ESI
0055c073 : POP EBP
0055c074 : MOV AL,BL
0055c076 : POP EBX
0055c077 : ADD ESP,0xa0
0055c07d : RET 0xc
