PROGRAM  : Maestia.exe
FUNCTION : FUN_00b03910
ENTRY    : 00b03910
BODY     : [[00b03910, 00b039ab]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00b03910(void)

{
  LPCRITICAL_SECTION lpCriticalSection;
  int iVar1;
  uint uVar2;
  int unaff_EDI;
  undefined1 local_418 [1036];
  void *local_c;
  undefined1 *puStack_8;
  undefined4 local_4;
  
  iVar1 = DAT_00da98d4;
  local_4 = 0xffffffff;
  puStack_8 = &LAB_00b43920;
  local_c = ExceptionList;
  uVar2 = DAT_00d66fa0 ^ (uint)&stack0xfffffbe0;
  ExceptionList = &local_c;
  lpCriticalSection = (LPCRITICAL_SECTION)(DAT_00da98d4 + 0x14);
  EnterCriticalSection(lpCriticalSection);
  if ((unaff_EDI != 0) && (*(uint *)(iVar1 + 8) < 0x14)) {
    FUN_00457c30(local_418);
    local_4 = 0;
    FUN_00457da0(*(undefined4 *)(iVar1 + 4));
    local_4 = 0xffffffff;
    FUN_00456200(uVar2);
  }
  LeaveCriticalSection(lpCriticalSection);
  ExceptionList = local_c;
  return;
}



============================================================
DISASSEMBLY
============================================================
00b03910 : PUSH -0x1
00b03912 : PUSH 0xb43920
00b03917 : MOV EAX,FS:[0x0]
00b0391d : PUSH EAX
00b0391e : SUB ESP,0x40c
00b03924 : PUSH EBX
00b03925 : PUSH ESI
00b03926 : MOV EAX,[0x00d66fa0]
00b0392b : XOR EAX,ESP
00b0392d : PUSH EAX
00b0392e : LEA EAX,[ESP + 0x418]
00b03935 : MOV FS:[0x0],EAX
00b0393b : MOV ESI,dword ptr [0x00da98d4]
00b03941 : LEA EBX,[ESI + 0x14]
00b03944 : PUSH EBX
00b03945 : CALL dword ptr [0x00b85118]
00b0394b : TEST EDI,EDI
00b0394d : JZ 0x00b0398d
00b0394f : CMP dword ptr [ESI + 0x8],0x14
00b03953 : JNC 0x00b0398d
00b03955 : LEA EAX,[ESP + 0xc]
00b03959 : PUSH EAX
00b0395a : MOV EDX,EDI
00b0395c : CALL 0x00457c30
00b03961 : MOV dword ptr [ESP + 0x420],0x0
00b0396c : MOV ECX,dword ptr [ESI + 0x4]
00b0396f : PUSH ECX
00b03970 : MOV ECX,EAX
00b03972 : MOV EDX,ESI
00b03974 : CALL 0x00457da0
00b03979 : MOV dword ptr [ESP + 0x420],0xffffffff
00b03984 : LEA ECX,[ESP + 0xc]
00b03988 : CALL 0x00456200
00b0398d : PUSH EBX
00b0398e : CALL dword ptr [0x00b8511c]
00b03994 : MOV ECX,dword ptr [ESP + 0x418]
00b0399b : MOV dword ptr FS:[0x0],ECX
00b039a2 : POP ECX
00b039a3 : POP ESI
00b039a4 : POP EBX
00b039a5 : ADD ESP,0x418
00b039ab : RET
