PROGRAM  : Maestia.exe
FUNCTION : FUN_007ac610
ENTRY    : 007ac610
BODY     : [[007ac610, 007ac762]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_007ac610(void)

{
  undefined4 *puVar1;
  int *piVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  int unaff_EDI;
  void *local_8;
  
  piVar2 = *(int **)(DAT_017251ac + 0x18);
  (**(code **)(**(int **)(unaff_EDI + 0x2490) + 8))();
  iVar5 = DAT_017251ac;
  if (*(int *)(unaff_EDI + 0x308) != 0) {
    iVar4 = *(int *)(unaff_EDI + 0x2d0) * *(int *)(unaff_EDI + 0x2cc);
    *(int *)(unaff_EDI + 0x304) = iVar4;
    local_8 = *(void **)(iVar5 + 0x20);
    puVar1 = (undefined4 *)(unaff_EDI + 0x30c);
    iVar5 = (**(code **)(*piVar2 + 0x68))
                      (piVar2,iVar4 * 0x48,8,&DAT_01000552,local_8 == (void *)0x0,puVar1,0);
    if (iVar5 < 0) {
      return;
    }
    local_8 = (void *)0x0;
    iVar5 = (**(code **)(*(int *)*puVar1 + 0x2c))
                      ((int *)*puVar1,0,*(int *)(unaff_EDI + 0x304) * 0x48,&local_8,0);
    if (-1 < iVar5) {
      _memcpy(local_8,*(void **)(unaff_EDI + 0x308),*(int *)(unaff_EDI + 0x304) * 0x48);
      (**(code **)(*(int *)*puVar1 + 0x30))((int *)*puVar1);
    }
  }
  uVar3 = DAT_01725204;
  iVar5 = FUN_007bfd10();
  if (iVar5 == 0) {
    iVar5 = *(int *)(unaff_EDI + 0x2d0) * *(int *)(unaff_EDI + 0x2cc);
    DAT_00da9ab0 = iVar5 * 6;
    FUN_007c08d0(uVar3,iVar5 * 0xc);
  }
  *(undefined4 *)(unaff_EDI + 0x398) = 0;
  if (*(int **)(unaff_EDI + 0x2488) != (int *)0x0) {
    (**(code **)(**(int **)(unaff_EDI + 0x2488) + 4))();
  }
  if (*(int **)(unaff_EDI + 0x248c) != (int *)0x0) {
    (**(code **)(**(int **)(unaff_EDI + 0x248c) + 4))();
  }
  *(undefined1 *)(unaff_EDI + 0x2bd) = 1;
  return;
}



============================================================
DISASSEMBLY
============================================================
007ac610 : PUSH EBP
007ac611 : MOV EBP,ESP
007ac613 : PUSH ECX
007ac614 : MOV EAX,[0x017251ac]
007ac619 : MOV ECX,dword ptr [EDI + 0x2490]
007ac61f : MOV EDX,dword ptr [ECX]
007ac621 : PUSH EBX
007ac622 : MOV EBX,dword ptr [EAX + 0x18]
007ac625 : MOV EAX,dword ptr [EDX + 0x8]
007ac628 : PUSH ESI
007ac629 : CALL EAX
007ac62b : CMP dword ptr [EDI + 0x308],0x0
007ac632 : JZ 0x007ac6e4
007ac638 : MOV EAX,dword ptr [EDI + 0x2d0]
007ac63e : IMUL EAX,dword ptr [EDI + 0x2cc]
007ac645 : MOV ECX,dword ptr [0x017251ac]
007ac64b : MOV dword ptr [EDI + 0x304],EAX
007ac651 : MOV EDX,dword ptr [ECX + 0x20]
007ac654 : MOV ECX,dword ptr [EBX]
007ac656 : MOV ECX,dword ptr [ECX + 0x68]
007ac659 : MOV dword ptr [EBP + -0x4],EDX
007ac65c : XOR EDX,EDX
007ac65e : CMP dword ptr [EBP + -0x4],EDX
007ac661 : PUSH 0x0
007ac663 : SETZ DL
007ac666 : LEA EAX,[EAX + EAX*0x8]
007ac669 : LEA ESI,[EDI + 0x30c]
007ac66f : PUSH ESI
007ac670 : ADD EAX,EAX
007ac672 : ADD EAX,EAX
007ac674 : ADD EAX,EAX
007ac676 : PUSH EDX
007ac677 : PUSH 0x1000552
007ac67c : PUSH 0x8
007ac67e : PUSH EAX
007ac67f : PUSH EBX
007ac680 : CALL ECX
007ac682 : TEST EAX,EAX
007ac684 : JL 0x007ac75d
007ac68a : MOV EAX,dword ptr [ESI]
007ac68c : PUSH 0x0
007ac68e : LEA ECX,[EBP + -0x4]
007ac691 : PUSH ECX
007ac692 : MOV ECX,dword ptr [EDI + 0x304]
007ac698 : LEA ECX,[ECX + ECX*0x8]
007ac69b : ADD ECX,ECX
007ac69d : ADD ECX,ECX
007ac69f : ADD ECX,ECX
007ac6a1 : PUSH ECX
007ac6a2 : MOV dword ptr [EBP + -0x4],0x0
007ac6a9 : MOV EDX,dword ptr [EAX]
007ac6ab : MOV EDX,dword ptr [EDX + 0x2c]
007ac6ae : PUSH 0x0
007ac6b0 : PUSH EAX
007ac6b1 : CALL EDX
007ac6b3 : TEST EAX,EAX
007ac6b5 : JL 0x007ac6e4
007ac6b7 : MOV EAX,dword ptr [EDI + 0x304]
007ac6bd : MOV ECX,dword ptr [EDI + 0x308]
007ac6c3 : MOV EDX,dword ptr [EBP + -0x4]
007ac6c6 : LEA EAX,[EAX + EAX*0x8]
007ac6c9 : ADD EAX,EAX
007ac6cb : ADD EAX,EAX
007ac6cd : ADD EAX,EAX
007ac6cf : PUSH EAX
007ac6d0 : PUSH ECX
007ac6d1 : PUSH EDX
007ac6d2 : CALL 0x0063ae40
007ac6d7 : MOV ESI,dword ptr [ESI]
007ac6d9 : MOV EAX,dword ptr [ESI]
007ac6db : MOV ECX,dword ptr [EAX + 0x30]
007ac6de : ADD ESP,0xc
007ac6e1 : PUSH ESI
007ac6e2 : CALL ECX
007ac6e4 : MOV EBX,dword ptr [EDI + 0x2e0]
007ac6ea : MOV EAX,dword ptr [EDI + 0x2dc]
007ac6f0 : MOV ESI,dword ptr [0x01725204]
007ac6f6 : MOV ECX,EBX
007ac6f8 : CALL 0x007bfd10
007ac6fd : TEST EAX,EAX
007ac6ff : JNZ 0x007ac72a
007ac701 : MOV EAX,dword ptr [EDI + 0x2d0]
007ac707 : IMUL EAX,dword ptr [EDI + 0x2cc]
007ac70e : LEA EAX,[EAX + EAX*0x2]
007ac711 : ADD EAX,EAX
007ac713 : LEA EDX,[EAX + EAX*0x1]
007ac716 : PUSH EDX
007ac717 : MOV [0x00da9ab0],EAX
007ac71c : MOV EAX,dword ptr [EDI + 0x2dc]
007ac722 : PUSH ESI
007ac723 : MOV ECX,EBX
007ac725 : CALL 0x007c08d0
007ac72a : MOV ECX,dword ptr [EDI + 0x2488]
007ac730 : MOV dword ptr [EDI + 0x398],0x0
007ac73a : TEST ECX,ECX
007ac73c : JZ 0x007ac745
007ac73e : MOV EAX,dword ptr [ECX]
007ac740 : MOV EDX,dword ptr [EAX + 0x4]
007ac743 : CALL EDX
007ac745 : MOV ECX,dword ptr [EDI + 0x248c]
007ac74b : TEST ECX,ECX
007ac74d : JZ 0x007ac756
007ac74f : MOV EAX,dword ptr [ECX]
007ac751 : MOV EDX,dword ptr [EAX + 0x4]
007ac754 : CALL EDX
007ac756 : MOV byte ptr [EDI + 0x2bd],0x1
007ac75d : POP ESI
007ac75e : POP EBX
007ac75f : MOV ESP,EBP
007ac761 : POP EBP
007ac762 : RET
