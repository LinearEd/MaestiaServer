PROGRAM  : Maestia.exe
FUNCTION : FUN_00a8beb0
ENTRY    : 00a8beb0
BODY     : [[00a8beb0, 00a8bf2c] [00a8bf30, 00a8c02f]]

============================================================
DECOMPILED C CODE
============================================================

uint FUN_00a8beb0(void)

{
  ushort uVar1;
  ushort uVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  DWORD DVar6;
  uint uVar7;
  uint uVar8;
  ushort uVar9;
  ushort uVar10;
  uint local_14;
  uint local_8;
  
  iVar4 = *(int *)(*DAT_00da9894 + 0x130);
  if ((iVar4 == 0) || (*(int *)(iVar4 + 0x40) == 0)) {
    return 0;
  }
  local_8 = 0;
  local_14 = 0;
  if (*(int *)(*DAT_00da9894 + 0x40) != 0) {
    do {
      iVar4 = FUN_008eb810();
      if ((iVar4 != 0) && (*(char *)(iVar4 + 100) != '\0')) {
        iVar4 = *(int *)(iVar4 + 0x3c);
        if (iVar4 == 0) {
          return 0;
        }
        uVar1 = *(ushort *)(iVar4 + 8);
        uVar2 = *(ushort *)(iVar4 + 0xc);
        uVar9 = 0;
        if (uVar1 != 0) {
          do {
            uVar10 = 0;
            if (uVar2 != 0) {
              do {
                iVar5 = *(int *)(iVar4 + 0xc) * (uint)uVar9 + (uint)uVar10;
                if (((((iVar5 < *(int *)(iVar4 + 8) * *(int *)(iVar4 + 0xc)) && (-1 < iVar5)) &&
                     (iVar5 = *(int *)(*(int *)(iVar4 + 0x10) + iVar5 * 4), iVar5 != 0)) &&
                    ((iVar5 = *(int *)(iVar5 + 8), iVar5 != 0 &&
                     (uVar3 = *(undefined4 *)(iVar5 + 0x10), (char)((uint)uVar3 >> 0x10) == 'I'))))
                   && ((iVar5 = FUN_004049b0(uVar3), iVar5 != 0 &&
                       (((*(uint *)(iVar5 + 0x48) & 0x400) == 0 &&
                        (iVar5 = FUN_009f2740(uVar3), iVar5 != 0)))))) {
                  DVar6 = timeGetTime();
                  uVar7 = DVar6 - *(int *)(iVar5 + 0xd8);
                  if (*(int *)(iVar5 + 0xd8) == 0) {
                    return 0;
                  }
                  uVar8 = FUN_009ea720();
                  if (uVar8 <= uVar7) {
                    return 0;
                  }
                  iVar5 = FUN_009ea720();
                  uVar7 = iVar5 - uVar7;
                  if ((local_8 == 0) || (uVar7 < local_8)) {
                    local_8 = uVar7;
                  }
                }
                uVar10 = uVar10 + 1;
              } while (uVar10 < uVar2);
            }
            uVar9 = uVar9 + 1;
          } while (uVar9 < uVar1);
        }
      }
      local_14 = local_14 + 1;
    } while (local_14 < *(uint *)(*DAT_00da9894 + 0x40));
  }
  return local_8;
}



============================================================
DISASSEMBLY
============================================================
00a8beb0 : PUSH EBP
00a8beb1 : MOV EBP,ESP
00a8beb3 : MOV EAX,[0x00da9894]
00a8beb8 : MOV EAX,dword ptr [EAX]
00a8beba : MOV ECX,dword ptr [EAX + 0x130]
00a8bec0 : SUB ESP,0x18
00a8bec3 : PUSH ESI
00a8bec4 : XOR ESI,ESI
00a8bec6 : CMP ECX,ESI
00a8bec8 : JNZ 0x00a8bed1
00a8beca : XOR EAX,EAX
00a8becc : POP ESI
00a8becd : MOV ESP,EBP
00a8becf : POP EBP
00a8bed0 : RET
00a8bed1 : CMP dword ptr [ECX + 0x40],ESI
00a8bed4 : JZ 0x00a8beca
00a8bed6 : PUSH EBX
00a8bed7 : PUSH EDI
00a8bed8 : MOV dword ptr [EBP + -0x4],ESI
00a8bedb : MOV dword ptr [EBP + -0x10],ESI
00a8bede : CMP dword ptr [EAX + 0x40],ESI
00a8bee1 : JBE 0x00a8c01d
00a8bee7 : MOV ECX,ESI
00a8bee9 : CALL 0x008eb810
00a8beee : TEST EAX,EAX
00a8bef0 : JZ 0x00a8c009
00a8bef6 : CMP byte ptr [EAX + 0x64],0x0
00a8befa : JZ 0x00a8c009
00a8bf00 : MOV EBX,dword ptr [EAX + 0x3c]
00a8bf03 : TEST EBX,EBX
00a8bf05 : JZ 0x00a8c027
00a8bf0b : MOVZX ECX,word ptr [EBX + 0x8]
00a8bf0f : MOVZX EAX,word ptr [EBX + 0xc]
00a8bf13 : XOR EDX,EDX
00a8bf15 : MOV dword ptr [EBP + -0x18],ECX
00a8bf18 : MOV dword ptr [EBP + -0x14],EAX
00a8bf1b : MOV dword ptr [EBP + -0x8],0x0
00a8bf22 : CMP DX,CX
00a8bf25 : JNC 0x00a8c009
00a8bf2b : JMP 0x00a8bf30
00a8bf30 : XOR ESI,ESI
00a8bf32 : XOR EDX,EDX
00a8bf34 : MOV dword ptr [EBP + -0xc],ESI
00a8bf37 : CMP DX,AX
00a8bf3a : JNC 0x00a8bff6
00a8bf40 : MOV ECX,dword ptr [EBX + 0xc]
00a8bf43 : MOVZX EDX,word ptr [EBP + -0x8]
00a8bf47 : MOV EAX,ECX
00a8bf49 : IMUL EAX,EDX
00a8bf4c : MOVZX EDX,SI
00a8bf4f : ADD EAX,EDX
00a8bf51 : MOV EDX,dword ptr [EBX + 0x8]
00a8bf54 : IMUL EDX,ECX
00a8bf57 : CMP EAX,EDX
00a8bf59 : JGE 0x00a8bfe0
00a8bf5f : TEST EAX,EAX
00a8bf61 : JL 0x00a8bfe0
00a8bf63 : MOV ECX,dword ptr [EBX + 0x10]
00a8bf66 : MOV EAX,dword ptr [ECX + EAX*0x4]
00a8bf69 : TEST EAX,EAX
00a8bf6b : JZ 0x00a8bfe0
00a8bf6d : MOV EAX,dword ptr [EAX + 0x8]
00a8bf70 : TEST EAX,EAX
00a8bf72 : JZ 0x00a8bfe0
00a8bf74 : MOV ESI,dword ptr [EAX + 0x10]
00a8bf77 : MOV EDX,ESI
00a8bf79 : SHR EDX,0x10
00a8bf7c : CMP DL,0x49
00a8bf7f : JNZ 0x00a8bfe0
00a8bf81 : PUSH ESI
00a8bf82 : CALL 0x004049b0
00a8bf87 : ADD ESP,0x4
00a8bf8a : TEST EAX,EAX
00a8bf8c : JZ 0x00a8bfe0
00a8bf8e : MOV EAX,dword ptr [EAX + 0x48]
00a8bf91 : AND EAX,0x400
00a8bf96 : XOR ECX,ECX
00a8bf98 : OR EAX,ECX
00a8bf9a : JNZ 0x00a8bfe0
00a8bf9c : MOV ECX,dword ptr [0x017247f0]
00a8bfa2 : PUSH ESI
00a8bfa3 : CALL 0x009f2740
00a8bfa8 : MOV ESI,EAX
00a8bfaa : TEST ESI,ESI
00a8bfac : JZ 0x00a8bfe0
00a8bfae : CALL dword ptr [0x00b85598]
00a8bfb4 : MOV ECX,dword ptr [ESI + 0xd8]
00a8bfba : SUB EAX,ECX
00a8bfbc : MOV EDI,EAX
00a8bfbe : TEST ECX,ECX
00a8bfc0 : JZ 0x00a8c027
00a8bfc2 : CALL 0x009ea720
00a8bfc7 : CMP EDI,EAX
00a8bfc9 : JNC 0x00a8c027
00a8bfcb : CALL 0x009ea720
00a8bfd0 : MOV ECX,dword ptr [EBP + -0x4]
00a8bfd3 : SUB EAX,EDI
00a8bfd5 : TEST ECX,ECX
00a8bfd7 : JZ 0x00a8bfdd
00a8bfd9 : CMP ECX,EAX
00a8bfdb : JBE 0x00a8bfe0
00a8bfdd : MOV dword ptr [EBP + -0x4],EAX
00a8bfe0 : MOV ESI,dword ptr [EBP + -0xc]
00a8bfe3 : MOV EAX,dword ptr [EBP + -0x14]
00a8bfe6 : INC ESI
00a8bfe7 : MOV dword ptr [EBP + -0xc],ESI
00a8bfea : CMP SI,AX
00a8bfed : JC 0x00a8bf40
00a8bff3 : MOV ECX,dword ptr [EBP + -0x18]
00a8bff6 : MOV EDX,dword ptr [EBP + -0x8]
00a8bff9 : INC EDX
00a8bffa : MOV dword ptr [EBP + -0x8],EDX
00a8bffd : CMP DX,CX
00a8c000 : JC 0x00a8bf30
00a8c006 : MOV ESI,dword ptr [EBP + -0x10]
00a8c009 : MOV EAX,[0x00da9894]
00a8c00e : MOV EAX,dword ptr [EAX]
00a8c010 : INC ESI
00a8c011 : MOV dword ptr [EBP + -0x10],ESI
00a8c014 : CMP ESI,dword ptr [EAX + 0x40]
00a8c017 : JC 0x00a8bee7
00a8c01d : MOV EAX,dword ptr [EBP + -0x4]
00a8c020 : POP EDI
00a8c021 : POP EBX
00a8c022 : POP ESI
00a8c023 : MOV ESP,EBP
00a8c025 : POP EBP
00a8c026 : RET
00a8c027 : POP EDI
00a8c028 : POP EBX
00a8c029 : XOR EAX,EAX
00a8c02b : POP ESI
00a8c02c : MOV ESP,EBP
00a8c02e : POP EBP
00a8c02f : RET
