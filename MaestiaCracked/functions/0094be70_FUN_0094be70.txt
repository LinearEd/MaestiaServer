PROGRAM  : Maestia.exe
FUNCTION : FUN_0094be70
ENTRY    : 0094be70
BODY     : [[0094be70, 0094c0e2]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_0094be70(undefined4 param_1,uint param_2)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int in_ECX;
  int iVar5;
  undefined4 ***pppuVar6;
  undefined1 local_50 [4];
  undefined2 local_4c;
  undefined4 local_3c;
  uint local_38;
  undefined4 **local_2c [4];
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b45b5c;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  if ((*(int *)(in_ECX + 100) - *(int *)(in_ECX + 0x60) & 0xfffffffcU) != 0) {
    piVar1 = *(int **)(in_ECX + 100);
    piVar3 = (int *)FUN_004268b0(*(undefined4 *)(in_ECX + 0x60),piVar1,param_1,local_14);
    if (((int *)*piVar3 != piVar1) && (iVar2 = *(int *)*piVar3, iVar2 != 0)) {
      if ((*(short *)(iVar2 + 10) == 0) &&
         (((short)param_2 != 0 &&
          (*(undefined2 *)(iVar2 + 10) = 1, *(char *)(in_ECX + 0x32) != '\0')))) {
        iVar4 = *DAT_00da9894;
        if ((iVar4 != 0) && (*(int *)(iVar4 + 0x114) != 0)) {
          (**(code **)(**(int **)(iVar4 + 0x114) + 4))
                    (*(int **)(iVar4 + 0x114),"mc_petlist.UpdatePetState","%d,%d",param_1,1);
        }
        iVar4 = *DAT_00da9894;
        if ((iVar4 != 0) && (*(int *)(iVar4 + 0x114) != 0)) {
          (**(code **)(**(int **)(iVar4 + 0x114) + 4))
                    (*(int **)(iVar4 + 0x114),"mc_petinfo.UpdatePetState","%d,%d",param_1,
                     *(undefined2 *)(iVar2 + 10));
        }
      }
      *(short *)(iVar2 + 8) = (short)param_2;
      if (*(char *)(in_ECX + 0x32) != '\0') {
        iVar4 = FUN_0094aa10(local_50,param_2,*(undefined4 *)(iVar2 + 0x44));
        local_8 = 0;
        if (*(uint *)(iVar4 + 0x18) < 8) {
          iVar4 = iVar4 + 4;
        }
        else {
          iVar4 = *(int *)(iVar4 + 4);
        }
        if (*(uint *)(iVar2 + 0x7c) < 8) {
          iVar5 = iVar2 + 0x68;
        }
        else {
          iVar5 = *(int *)(iVar2 + 0x68);
        }
        FUN_00404750(L"%s(%s)",iVar5,iVar4);
        local_8 = CONCAT31(local_8._1_3_,2);
        if (7 < local_38) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_4c = 0;
        local_38 = 7;
        local_3c = 0;
        param_2 = (int)((float)*(ushort *)(iVar2 + 8) * 0.33333334) & 0xffff;
        if ((ushort)(*(ushort *)(iVar2 + 8) - 1) < 2) {
          param_2 = 1;
        }
        iVar2 = *DAT_00da9894;
        if ((iVar2 != 0) && (*(int *)(iVar2 + 0x114) != 0)) {
          pppuVar6 = (undefined4 ***)local_2c[0];
          if (local_18 < 8) {
            pppuVar6 = local_2c;
          }
          (**(code **)(**(int **)(iVar2 + 0x114) + 4))
                    (*(int **)(iVar2 + 0x114),"mc_petlist.UpdateFullness","%d,%d,%ls",param_1,
                     param_2,pppuVar6);
        }
        iVar2 = *DAT_00da9894;
        if ((iVar2 != 0) && (*(int *)(iVar2 + 0x114) != 0)) {
          pppuVar6 = (undefined4 ***)local_2c[0];
          if (local_18 < 8) {
            pppuVar6 = local_2c;
          }
          (**(code **)(**(int **)(iVar2 + 0x114) + 4))
                    (*(int **)(iVar2 + 0x114),"mc_petinfo.UpdateFullness","%d,%d,%ls",param_1,
                     param_2,pppuVar6);
        }
        local_8 = 0xffffffff;
        if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
          FUN_006f04e0();
        }
        local_18 = 7;
        local_1c = 0;
        local_2c[0] = (undefined4 **)((uint)local_2c[0] & 0xffff0000);
      }
      if ((short)param_2 != 0) {
        FUN_00945fb0(param_2);
      }
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
0094be70 : PUSH EBP
0094be71 : MOV EBP,ESP
0094be73 : PUSH -0x1
0094be75 : PUSH 0xb45b5c
0094be7a : MOV EAX,FS:[0x0]
0094be80 : PUSH EAX
0094be81 : SUB ESP,0x44
0094be84 : MOV EAX,[0x00d66fa0]
0094be89 : XOR EAX,EBP
0094be8b : MOV dword ptr [EBP + -0x10],EAX
0094be8e : PUSH EBX
0094be8f : PUSH ESI
0094be90 : PUSH EDI
0094be91 : PUSH EAX
0094be92 : LEA EAX,[EBP + -0xc]
0094be95 : MOV FS:[0x0],EAX
0094be9b : MOV ESI,ECX
0094be9d : MOV EAX,dword ptr [ESI + 0x64]
0094bea0 : SUB EAX,dword ptr [ESI + 0x60]
0094bea3 : TEST EAX,0xfffffffc
0094bea8 : JZ 0x0094c0c5
0094beae : MOV EBX,dword ptr [EBP + 0x8]
0094beb1 : MOV EDI,dword ptr [ESI + 0x64]
0094beb4 : MOV EAX,dword ptr [ESI + 0x60]
0094beb7 : PUSH EBX
0094beb8 : PUSH EDI
0094beb9 : PUSH EAX
0094beba : LEA EAX,[EBP + -0x30]
0094bebd : CALL 0x004268b0
0094bec2 : MOV EAX,dword ptr [EAX]
0094bec4 : ADD ESP,0xc
0094bec7 : CMP EAX,EDI
0094bec9 : JZ 0x0094c0c5
0094becf : MOV EDI,dword ptr [EAX]
0094bed1 : TEST EDI,EDI
0094bed3 : JZ 0x0094c0c5
0094bed9 : XOR ECX,ECX
0094bedb : CMP CX,word ptr [EDI + 0xa]
0094bedf : JNZ 0x0094bf5a
0094bee1 : CMP word ptr [EBP + 0xc],CX
0094bee5 : JBE 0x0094bf5a
0094bee7 : MOV EDX,0x1
0094beec : MOV word ptr [EDI + 0xa],DX
0094bef0 : CMP byte ptr [ESI + 0x32],CL
0094bef3 : JZ 0x0094bf5a
0094bef5 : MOV EAX,[0x00da9894]
0094befa : MOV EAX,dword ptr [EAX]
0094befc : TEST EAX,EAX
0094befe : JZ 0x0094bf25
0094bf00 : CMP dword ptr [EAX + 0x114],ECX
0094bf06 : JZ 0x0094bf25
0094bf08 : MOV EAX,dword ptr [EAX + 0x114]
0094bf0e : MOV ECX,dword ptr [EAX]
0094bf10 : PUSH EDX
0094bf11 : MOV EDX,dword ptr [ECX + 0x4]
0094bf14 : PUSH EBX
0094bf15 : PUSH 0xc7387c
0094bf1a : PUSH 0xc73884
0094bf1f : PUSH EAX
0094bf20 : CALL EDX
0094bf22 : ADD ESP,0x14
0094bf25 : MOV EAX,[0x00da9894]
0094bf2a : MOV EAX,dword ptr [EAX]
0094bf2c : TEST EAX,EAX
0094bf2e : JZ 0x0094bf5a
0094bf30 : CMP dword ptr [EAX + 0x114],0x0
0094bf37 : JZ 0x0094bf5a
0094bf39 : MOVZX EDX,word ptr [EDI + 0xa]
0094bf3d : MOV EAX,dword ptr [EAX + 0x114]
0094bf43 : MOV ECX,dword ptr [EAX]
0094bf45 : PUSH EDX
0094bf46 : PUSH EBX
0094bf47 : PUSH 0xc738a0
0094bf4c : PUSH 0xc738a8
0094bf51 : PUSH EAX
0094bf52 : MOV EAX,dword ptr [ECX + 0x4]
0094bf55 : CALL EAX
0094bf57 : ADD ESP,0x14
0094bf5a : MOV EAX,dword ptr [EBP + 0xc]
0094bf5d : MOV word ptr [EDI + 0x8],AX
0094bf61 : CMP byte ptr [ESI + 0x32],0x0
0094bf65 : JZ 0x0094c0b7
0094bf6b : MOV ECX,dword ptr [EDI + 0x44]
0094bf6e : PUSH ECX
0094bf6f : PUSH EAX
0094bf70 : LEA EDX,[EBP + -0x4c]
0094bf73 : LEA ECX,[EDI + 0x48]
0094bf76 : PUSH EDX
0094bf77 : CALL 0x0094aa10
0094bf7c : ADD ESP,0xc
0094bf7f : MOV dword ptr [EBP + -0x4],0x0
0094bf86 : MOV EBX,0x8
0094bf8b : CMP dword ptr [EAX + 0x18],EBX
0094bf8e : JC 0x0094bf95
0094bf90 : MOV EAX,dword ptr [EAX + 0x4]
0094bf93 : JMP 0x0094bf98
0094bf95 : ADD EAX,0x4
0094bf98 : CMP dword ptr [EDI + 0x7c],EBX
0094bf9b : JC 0x0094bfa2
0094bf9d : MOV ECX,dword ptr [EDI + 0x68]
0094bfa0 : JMP 0x0094bfa5
0094bfa2 : LEA ECX,[EDI + 0x68]
0094bfa5 : PUSH EAX
0094bfa6 : PUSH ECX
0094bfa7 : PUSH 0xc738c4
0094bfac : LEA ESI,[EBP + -0x2c]
0094bfaf : CALL 0x00404750
0094bfb4 : ADD ESP,0xc
0094bfb7 : MOV byte ptr [EBP + -0x4],0x2
0094bfbb : CMP dword ptr [EBP + -0x34],EBX
0094bfbe : JC 0x0094bfc8
0094bfc0 : MOV ECX,dword ptr [EBP + -0x48]
0094bfc3 : CALL 0x006f04e0
0094bfc8 : XOR EAX,EAX
0094bfca : MOV word ptr [EBP + -0x48],AX
0094bfce : MOVZX EAX,word ptr [EDI + 0x8]
0094bfd2 : MOVZX ECX,AX
0094bfd5 : CVTSI2SS XMM0,ECX
0094bfd9 : MULSS XMM0,dword ptr [0x00cdf294]
0094bfe1 : DEC EAX
0094bfe2 : CVTTSS2SI EDX,XMM0
0094bfe6 : MOV dword ptr [EBP + -0x34],0x7
0094bfed : MOV dword ptr [EBP + -0x38],0x0
0094bff4 : MOVZX ESI,DX
0094bff7 : CMP AX,0x1
0094bffb : JA 0x0094c002
0094bffd : MOV ESI,0x1
0094c002 : MOV ECX,dword ptr [0x00da9894]
0094c008 : MOVZX EAX,SI
0094c00b : MOV dword ptr [EBP + 0xc],EAX
0094c00e : MOV EAX,dword ptr [ECX]
0094c010 : TEST EAX,EAX
0094c012 : JZ 0x0094c04c
0094c014 : CMP dword ptr [EAX + 0x114],0x0
0094c01b : JZ 0x0094c04c
0094c01d : MOV EAX,dword ptr [EAX + 0x114]
0094c023 : MOV ECX,dword ptr [EBP + -0x28]
0094c026 : CMP dword ptr [EBP + -0x14],EBX
0094c029 : JNC 0x0094c02e
0094c02b : LEA ECX,[EBP + -0x28]
0094c02e : MOV EDX,dword ptr [EAX]
0094c030 : MOV EDX,dword ptr [EDX + 0x4]
0094c033 : PUSH ECX
0094c034 : MOVZX ECX,SI
0094c037 : PUSH ECX
0094c038 : MOV ECX,dword ptr [EBP + 0x8]
0094c03b : PUSH ECX
0094c03c : PUSH 0xc738d4
0094c041 : PUSH 0xc738e0
0094c046 : PUSH EAX
0094c047 : CALL EDX
0094c049 : ADD ESP,0x18
0094c04c : MOV EAX,[0x00da9894]
0094c051 : MOV EAX,dword ptr [EAX]
0094c053 : TEST EAX,EAX
0094c055 : JZ 0x0094c08f
0094c057 : CMP dword ptr [EAX + 0x114],0x0
0094c05e : JZ 0x0094c08f
0094c060 : MOV EAX,dword ptr [EAX + 0x114]
0094c066 : MOV ECX,dword ptr [EBP + -0x28]
0094c069 : CMP dword ptr [EBP + -0x14],EBX
0094c06c : JNC 0x0094c071
0094c06e : LEA ECX,[EBP + -0x28]
0094c071 : MOV EDX,dword ptr [EAX]
0094c073 : MOV EDX,dword ptr [EDX + 0x4]
0094c076 : PUSH ECX
0094c077 : MOVZX ECX,SI
0094c07a : PUSH ECX
0094c07b : MOV ECX,dword ptr [EBP + 0x8]
0094c07e : PUSH ECX
0094c07f : PUSH 0xc738fc
0094c084 : PUSH 0xc73908
0094c089 : PUSH EAX
0094c08a : CALL EDX
0094c08c : ADD ESP,0x18
0094c08f : MOV dword ptr [EBP + -0x4],0xffffffff
0094c096 : CMP dword ptr [EBP + -0x14],EBX
0094c099 : JC 0x0094c0a3
0094c09b : MOV ECX,dword ptr [EBP + -0x28]
0094c09e : CALL 0x006f04e0
0094c0a3 : XOR EAX,EAX
0094c0a5 : MOV dword ptr [EBP + -0x14],0x7
0094c0ac : MOV dword ptr [EBP + -0x18],0x0
0094c0b3 : MOV word ptr [EBP + -0x28],AX
0094c0b7 : MOV EAX,dword ptr [EBP + 0xc]
0094c0ba : TEST AX,AX
0094c0bd : JBE 0x0094c0c5
0094c0bf : PUSH EAX
0094c0c0 : CALL 0x00945fb0
0094c0c5 : MOV ECX,dword ptr [EBP + -0xc]
0094c0c8 : MOV dword ptr FS:[0x0],ECX
0094c0cf : POP ECX
0094c0d0 : POP EDI
0094c0d1 : POP ESI
0094c0d2 : POP EBX
0094c0d3 : MOV ECX,dword ptr [EBP + -0x10]
0094c0d6 : XOR ECX,EBP
0094c0d8 : CALL 0x00633e6b
0094c0dd : MOV ESP,EBP
0094c0df : POP EBP
0094c0e0 : RET 0x8
