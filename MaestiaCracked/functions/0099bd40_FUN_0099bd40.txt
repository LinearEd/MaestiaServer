PROGRAM  : Maestia.exe
FUNCTION : FUN_0099bd40
ENTRY    : 0099bd40
BODY     : [[0099bd40, 0099bd6c] [0099bd70, 0099bdac] [0099bdb0, 0099be1a]]

============================================================
DECOMPILED C CODE
============================================================

/* WARNING: Removing unreachable block (ram,0x0099bd8e) */

undefined4 FUN_0099bd40(int param_1)

{
  int *piVar1;
  int *piVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  int in_EAX;
  ushort *puVar7;
  ushort *puVar8;
  uint uVar9;
  
  piVar1 = *(int **)(in_EAX + 4);
  piVar2 = (int *)*piVar1;
  if (piVar2 != piVar1) {
    uVar3 = *(uint *)(param_1 + 0x14);
    uVar4 = *(uint *)(param_1 + 0x18);
    do {
      iVar5 = piVar2[4];
      if (uVar4 < 8) {
        puVar7 = (ushort *)(param_1 + 4);
      }
      else {
        puVar7 = *(ushort **)(param_1 + 4);
      }
      uVar6 = *(uint *)(iVar5 + 0x3c);
      uVar9 = uVar6;
      if (uVar3 <= uVar6) {
        uVar9 = uVar3;
      }
      if (*(uint *)(iVar5 + 0x40) < 8) {
        puVar8 = (ushort *)(iVar5 + 0x2c);
      }
      else {
        puVar8 = *(ushort **)(iVar5 + 0x2c);
      }
      for (; uVar9 != 0; uVar9 = uVar9 - 1) {
        if (*puVar8 != *puVar7) {
          uVar9 = (-(uint)(*puVar8 < *puVar7) & 0xfffffffe) + 1;
          if (uVar9 != 0) goto LAB_0099bdd1;
          break;
        }
        puVar8 = puVar8 + 1;
        puVar7 = puVar7 + 1;
      }
      if (uVar3 <= uVar6) {
        uVar9 = (uint)(uVar6 != uVar3);
LAB_0099bdd1:
        if (uVar9 == 0) {
          FUN_00421460();
          return 1;
        }
      }
      FUN_00416210();
    } while (piVar2 != piVar1);
  }
  return 0;
}



============================================================
DISASSEMBLY
============================================================
0099bd40 : PUSH EBP
0099bd41 : MOV EBP,ESP
0099bd43 : SUB ESP,0x10
0099bd46 : MOV EAX,dword ptr [EAX + 0x4]
0099bd49 : PUSH EBX
0099bd4a : PUSH ESI
0099bd4b : PUSH EDI
0099bd4c : MOV EDI,dword ptr [EAX]
0099bd4e : MOV dword ptr [EBP + -0x10],EAX
0099bd51 : MOV dword ptr [EBP + -0x8],EDI
0099bd54 : CMP EDI,EAX
0099bd56 : JZ 0x0099bde5
0099bd5c : MOV EAX,dword ptr [EBP + 0x8]
0099bd5f : MOV EBX,dword ptr [EAX + 0x14]
0099bd62 : MOV ECX,dword ptr [EAX + 0x18]
0099bd65 : MOV dword ptr [EBP + -0x4],EBX
0099bd68 : MOV dword ptr [EBP + -0xc],ECX
0099bd6b : JMP 0x0099bd73
0099bd70 : MOV EAX,dword ptr [EBP + 0x8]
0099bd73 : MOV ECX,dword ptr [EDI + 0x10]
0099bd76 : ADD ECX,0x28
0099bd79 : CMP dword ptr [EBP + -0xc],0x8
0099bd7d : JC 0x0099bd84
0099bd7f : MOV EAX,dword ptr [EAX + 0x4]
0099bd82 : JMP 0x0099bd87
0099bd84 : ADD EAX,0x4
0099bd87 : MOV ESI,dword ptr [ECX + 0x14]
0099bd8a : MOV EDX,ESI
0099bd8c : CMP EDX,ESI
0099bd8e : CMOVC ESI,EDX
0099bd91 : MOV EDX,ESI
0099bd93 : CMP ESI,EBX
0099bd95 : JC 0x0099bd99
0099bd97 : MOV EDX,EBX
0099bd99 : CMP dword ptr [ECX + 0x18],0x8
0099bd9d : JC 0x0099bda4
0099bd9f : MOV ECX,dword ptr [ECX + 0x4]
0099bda2 : JMP 0x0099bda7
0099bda4 : ADD ECX,0x4
0099bda7 : TEST EDX,EDX
0099bda9 : JBE 0x0099bdc6
0099bdab : JMP 0x0099bdb0
0099bdb0 : MOV BX,word ptr [ECX]
0099bdb3 : CMP BX,word ptr [EAX]
0099bdb6 : JNZ 0x0099bdf0
0099bdb8 : ADD ECX,0x2
0099bdbb : ADD EAX,0x2
0099bdbe : SUB EDX,0x1
0099bdc1 : JNZ 0x0099bdb0
0099bdc3 : MOV EBX,dword ptr [EBP + -0x4]
0099bdc6 : CMP ESI,EBX
0099bdc8 : JC 0x0099bdd5
0099bdca : XOR EAX,EAX
0099bdcc : CMP ESI,EBX
0099bdce : SETNZ AL
0099bdd1 : TEST EAX,EAX
0099bdd3 : JZ 0x0099be05
0099bdd5 : LEA EDX,[EBP + -0x8]
0099bdd8 : CALL 0x00416210
0099bddd : MOV EDI,dword ptr [EBP + -0x8]
0099bde0 : CMP EDI,dword ptr [EBP + -0x10]
0099bde3 : JNZ 0x0099bd70
0099bde5 : POP EDI
0099bde6 : POP ESI
0099bde7 : XOR AL,AL
0099bde9 : POP EBX
0099bdea : MOV ESP,EBP
0099bdec : POP EBP
0099bded : RET 0x8
0099bdf0 : MOV DX,BX
0099bdf3 : CMP DX,word ptr [EAX]
0099bdf6 : SBB EAX,EAX
0099bdf8 : AND EAX,0xfffffffe
0099bdfb : ADD EAX,0x1
0099bdfe : JZ 0x0099bdc3
0099be00 : MOV EBX,dword ptr [EBP + -0x4]
0099be03 : JMP 0x0099bdd1
0099be05 : MOV EDI,dword ptr [EDI + 0x10]
0099be08 : MOV ESI,dword ptr [EBP + 0xc]
0099be0b : CALL 0x00421460
0099be10 : POP EDI
0099be11 : POP ESI
0099be12 : MOV AL,0x1
0099be14 : POP EBX
0099be15 : MOV ESP,EBP
0099be17 : POP EBP
0099be18 : RET 0x8
