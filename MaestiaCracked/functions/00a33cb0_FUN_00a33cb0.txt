PROGRAM  : Maestia.exe
FUNCTION : FUN_00a33cb0
ENTRY    : 00a33cb0
BODY     : [[00a33cb0, 00a33eab]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a33cb0(int param_1)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  DWORD DVar4;
  int iVar5;
  undefined4 *puVar6;
  undefined1 local_44 [28];
  undefined1 local_28 [8];
  undefined4 local_20;
  undefined4 *local_1c;
  int local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  iVar2 = param_1;
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b5ea24;
  local_10 = ExceptionList;
  uVar3 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  uVar1 = *(undefined4 *)(param_1 + 4);
  local_18 = FUN_00a1a840(uVar1);
  if (((local_18 != 0) || (local_18 = FUN_00a1a6d0(uVar1), local_18 != 0)) ||
     (local_18 = FUN_00a1a780(uVar1), local_18 != 0)) {
    uVar1 = *(undefined4 *)(param_1 + 0x10);
    param_1 = FUN_00a1a840(uVar1);
    if ((((param_1 != 0) || (param_1 = FUN_00a1a6d0(uVar1), param_1 != 0)) ||
        (param_1 = FUN_00a1a780(uVar1), param_1 != 0)) && (local_18 != param_1)) {
      local_1c = (undefined4 *)FUN_006f0760(0x14,".\\Flow\\AvaGameZone.cpp",0x3473,0,uVar3);
      puVar6 = (undefined4 *)0x0;
      if (local_1c != (undefined4 *)0x0) {
        *local_1c = 0;
        local_1c[1] = 0;
        local_1c[3] = 0;
        local_1c[4] = 0;
        *(undefined1 *)(local_1c + 2) = 0;
        puVar6 = local_1c;
      }
      local_8 = 0xffffffff;
      if (puVar6 == (undefined4 *)0x0) {
        FUN_00406460(L"Alloc failed");
        local_8 = 1;
        if ((int *)*DAT_00da98e8 != (int *)0x0) {
          (**(code **)(*(int *)*DAT_00da98e8 + 0x14))
                    (L"AvaGameZone::ReceiveChainReactionBegin",0x3476,local_44);
        }
        local_8 = 0xffffffff;
        FUN_00406560();
        ExceptionList = local_10;
        return;
      }
      *puVar6 = *(undefined4 *)(iVar2 + 0xc);
      puVar6[1] = *(undefined4 *)(iVar2 + 0x10);
      puVar6[3] = *(undefined4 *)(iVar2 + 0x14);
      DVar4 = timeGetTime();
      puVar6[4] = DVar4;
      local_1c = puVar6;
      if (*(short *)(iVar2 + 0x14) == 15000) {
        *(undefined1 *)(puVar6 + 2) = 1;
        local_20 = *(undefined4 *)(iVar2 + 0xc);
        FUN_00451e00(local_28,&local_20);
        FUN_00896850(param_1);
        ExceptionList = local_10;
        return;
      }
      *(undefined1 *)(puVar6 + 2) = 0;
      local_20 = *(undefined4 *)(iVar2 + 0xc);
      FUN_00451e00(local_28,&local_20);
      iVar5 = FUN_004049b0(*(undefined4 *)(iVar2 + 0x14));
      iVar5 = FUN_00634f2c(iVar5 + 0x104);
      if (iVar5 == 1) {
        FUN_00890010(param_1,*(undefined4 *)(iVar2 + 0x14),*(undefined4 *)(iVar2 + 0xc),1);
      }
    }
  }
  ExceptionList = local_10;
  return;
}



============================================================
DISASSEMBLY
============================================================
00a33cb0 : PUSH EBP
00a33cb1 : MOV EBP,ESP
00a33cb3 : PUSH -0x1
00a33cb5 : PUSH 0xb5ea24
00a33cba : MOV EAX,FS:[0x0]
00a33cc0 : PUSH EAX
00a33cc1 : SUB ESP,0x34
00a33cc4 : PUSH EBX
00a33cc5 : PUSH ESI
00a33cc6 : MOV EAX,[0x00d66fa0]
00a33ccb : XOR EAX,EBP
00a33ccd : PUSH EAX
00a33cce : LEA EAX,[EBP + -0xc]
00a33cd1 : MOV FS:[0x0],EAX
00a33cd7 : MOV EBX,dword ptr [EBP + 0x8]
00a33cda : MOV ESI,dword ptr [EBX + 0x4]
00a33cdd : PUSH ESI
00a33cde : MOV ECX,EDI
00a33ce0 : CALL 0x00a1a840
00a33ce5 : MOV dword ptr [EBP + -0x14],EAX
00a33ce8 : TEST EAX,EAX
00a33cea : JNZ 0x00a33d0e
00a33cec : PUSH ESI
00a33ced : MOV ECX,EDI
00a33cef : CALL 0x00a1a6d0
00a33cf4 : MOV dword ptr [EBP + -0x14],EAX
00a33cf7 : TEST EAX,EAX
00a33cf9 : JNZ 0x00a33d0e
00a33cfb : PUSH ESI
00a33cfc : MOV ECX,EDI
00a33cfe : CALL 0x00a1a780
00a33d03 : MOV dword ptr [EBP + -0x14],EAX
00a33d06 : TEST EAX,EAX
00a33d08 : JZ 0x00a33e99
00a33d0e : MOV ESI,dword ptr [EBX + 0x10]
00a33d11 : PUSH ESI
00a33d12 : MOV ECX,EDI
00a33d14 : CALL 0x00a1a840
00a33d19 : MOV dword ptr [EBP + 0x8],EAX
00a33d1c : TEST EAX,EAX
00a33d1e : JNZ 0x00a33d45
00a33d20 : PUSH ESI
00a33d21 : MOV ECX,EDI
00a33d23 : CALL 0x00a1a6d0
00a33d28 : MOV dword ptr [EBP + 0x8],EAX
00a33d2b : TEST EAX,EAX
00a33d2d : JNZ 0x00a33d42
00a33d2f : PUSH ESI
00a33d30 : MOV ECX,EDI
00a33d32 : CALL 0x00a1a780
00a33d37 : MOV dword ptr [EBP + 0x8],EAX
00a33d3a : TEST EAX,EAX
00a33d3c : JZ 0x00a33e99
00a33d42 : MOV EAX,dword ptr [EBP + 0x8]
00a33d45 : CMP dword ptr [EBP + -0x14],EAX
00a33d48 : JZ 0x00a33e99
00a33d4e : PUSH 0x0
00a33d50 : PUSH 0x3473
00a33d55 : PUSH 0xcc36e8
00a33d5a : PUSH 0x14
00a33d5c : CALL 0x006f0760
00a33d61 : ADD ESP,0x10
00a33d64 : MOV dword ptr [EBP + -0x18],EAX
00a33d67 : XOR ESI,ESI
00a33d69 : MOV dword ptr [EBP + -0x4],ESI
00a33d6c : CMP EAX,ESI
00a33d6e : JZ 0x00a33d81
00a33d70 : MOV dword ptr [EAX],ESI
00a33d72 : MOV dword ptr [EAX + 0x4],ESI
00a33d75 : MOV dword ptr [EAX + 0xc],ESI
00a33d78 : MOV dword ptr [EAX + 0x10],ESI
00a33d7b : MOV byte ptr [EAX + 0x8],0x0
00a33d7f : MOV ESI,EAX
00a33d81 : MOV dword ptr [EBP + -0x4],0xffffffff
00a33d88 : TEST ESI,ESI
00a33d8a : JNZ 0x00a33de2
00a33d8c : PUSH 0xcc3718
00a33d91 : LEA ECX,[EBP + -0x40]
00a33d94 : CALL 0x00406460
00a33d99 : MOV dword ptr [EBP + -0x4],0x1
00a33da0 : MOV EAX,[0x00da98e8]
00a33da5 : MOV ECX,dword ptr [EAX]
00a33da7 : TEST ECX,ECX
00a33da9 : JZ 0x00a33dc0
00a33dab : MOV EDX,dword ptr [ECX]
00a33dad : MOV EDX,dword ptr [EDX + 0x14]
00a33db0 : LEA EAX,[EBP + -0x40]
00a33db3 : PUSH EAX
00a33db4 : PUSH 0x3476
00a33db9 : PUSH 0xcc3738
00a33dbe : CALL EDX
00a33dc0 : MOV dword ptr [EBP + -0x4],0xffffffff
00a33dc7 : LEA ECX,[EBP + -0x40]
00a33dca : CALL 0x00406560
00a33dcf : MOV ECX,dword ptr [EBP + -0xc]
00a33dd2 : MOV dword ptr FS:[0x0],ECX
00a33dd9 : POP ECX
00a33dda : POP ESI
00a33ddb : POP EBX
00a33ddc : MOV ESP,EBP
00a33dde : POP EBP
00a33ddf : RET 0x4
00a33de2 : MOV EAX,dword ptr [EBX + 0xc]
00a33de5 : MOV dword ptr [ESI],EAX
00a33de7 : MOV ECX,dword ptr [EBX + 0x10]
00a33dea : MOV dword ptr [ESI + 0x4],ECX
00a33ded : MOV EDX,dword ptr [EBX + 0x14]
00a33df0 : MOV dword ptr [ESI + 0xc],EDX
00a33df3 : CALL dword ptr [0x00b85598]
00a33df9 : MOV dword ptr [ESI + 0x10],EAX
00a33dfc : MOV EAX,0x3a98
00a33e01 : MOV dword ptr [EBP + -0x18],ESI
00a33e04 : CMP word ptr [EBX + 0x14],AX
00a33e08 : JNZ 0x00a33e48
00a33e0a : LEA EDX,[EBP + -0x1c]
00a33e0d : PUSH EDX
00a33e0e : LEA EAX,[EBP + -0x24]
00a33e11 : MOV byte ptr [ESI + 0x8],0x1
00a33e15 : MOV ECX,dword ptr [EBX + 0xc]
00a33e18 : PUSH EAX
00a33e19 : LEA EAX,[EDI + 0x708]
00a33e1f : MOV dword ptr [EBP + -0x1c],ECX
00a33e22 : CALL 0x00451e00
00a33e27 : MOV ECX,dword ptr [EBP + 0x8]
00a33e2a : MOV EAX,dword ptr [EBP + -0x14]
00a33e2d : PUSH ECX
00a33e2e : MOV CL,0x1
00a33e30 : CALL 0x00896850
00a33e35 : MOV ECX,dword ptr [EBP + -0xc]
00a33e38 : MOV dword ptr FS:[0x0],ECX
00a33e3f : POP ECX
00a33e40 : POP ESI
00a33e41 : POP EBX
00a33e42 : MOV ESP,EBP
00a33e44 : POP EBP
00a33e45 : RET 0x4
00a33e48 : LEA EAX,[EBP + -0x1c]
00a33e4b : PUSH EAX
00a33e4c : MOV byte ptr [ESI + 0x8],0x0
00a33e50 : MOV EDX,dword ptr [EBX + 0xc]
00a33e53 : LEA ECX,[EBP + -0x24]
00a33e56 : PUSH ECX
00a33e57 : LEA EAX,[EDI + 0x708]
00a33e5d : MOV dword ptr [EBP + -0x1c],EDX
00a33e60 : CALL 0x00451e00
00a33e65 : MOV EDX,dword ptr [EBX + 0x14]
00a33e68 : PUSH EDX
00a33e69 : CALL 0x004049b0
00a33e6e : ADD EAX,0x104
00a33e73 : ADD ESP,0x4
00a33e76 : PUSH EAX
00a33e77 : CALL 0x00634f2c
00a33e7c : ADD ESP,0x4
00a33e7f : CMP EAX,0x1
00a33e82 : JNZ 0x00a33e99
00a33e84 : MOV ECX,dword ptr [EBX + 0x14]
00a33e87 : MOV EDX,dword ptr [EBP + 0x8]
00a33e8a : PUSH EAX
00a33e8b : MOV EAX,dword ptr [EBX + 0xc]
00a33e8e : PUSH EAX
00a33e8f : PUSH ECX
00a33e90 : MOV ECX,dword ptr [EBP + -0x14]
00a33e93 : PUSH EDX
00a33e94 : CALL 0x00890010
00a33e99 : MOV ECX,dword ptr [EBP + -0xc]
00a33e9c : MOV dword ptr FS:[0x0],ECX
00a33ea3 : POP ECX
00a33ea4 : POP ESI
00a33ea5 : POP EBX
00a33ea6 : MOV ESP,EBP
00a33ea8 : POP EBP
00a33ea9 : RET 0x4
