PROGRAM  : Maestia.exe
FUNCTION : FUN_00962140
ENTRY    : 00962140
BODY     : [[00962140, 00962188] [00962190, 009621e4]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00962140(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int in_ECX;
  int unaff_EDI;
  
  iVar2 = param_1;
  iVar3 = DAT_00d7c54c;
  param_1 = *(undefined4 *)(unaff_EDI + 0x70);
  FUN_004437f0(&param_1);
  if (in_ECX == *(int *)(iVar3 + 0x44)) {
    iVar3 = 0;
  }
  else {
    iVar3 = *(int *)(in_ECX + 0x10);
  }
  param_1 = (**(code **)(*(int *)(iVar3 + 0x48) + 4))();
  do {
    if (param_1 == 0) {
      return 0;
    }
    iVar3 = FUN_004f5680();
  } while (((iVar3 == 0) || (iVar1 = *(int *)(iVar3 + 0x34), iVar1 == 0)) ||
          (CONCAT22(*(undefined2 *)(iVar1 + 4),*(undefined2 *)(iVar1 + 6)) != iVar2));
  if (*(char *)(unaff_EDI + 0x8c) == '\0') {
    return *(undefined4 *)(iVar3 + 0x18);
  }
  return *(undefined4 *)(iVar3 + 0x20);
}



============================================================
DISASSEMBLY
============================================================
00962140 : PUSH EBP
00962141 : MOV EBP,ESP
00962143 : PUSH ECX
00962144 : MOV EAX,dword ptr [EDI + 0x70]
00962147 : PUSH EBX
00962148 : MOV EBX,dword ptr [EBP + 0x8]
0096214b : PUSH ESI
0096214c : MOV ESI,dword ptr [0x00d7c54c]
00962152 : LEA ECX,[EBP + 0x8]
00962155 : MOV dword ptr [EBP + 0x8],EAX
00962158 : PUSH ECX
00962159 : LEA ECX,[ESI + 0x40]
0096215c : LEA EAX,[EBP + -0x4]
0096215f : CALL 0x004437f0
00962164 : MOV EAX,dword ptr [EBP + -0x4]
00962167 : CMP EAX,dword ptr [ESI + 0x44]
0096216a : JZ 0x00962171
0096216c : MOV EAX,dword ptr [EAX + 0x10]
0096216f : JMP 0x00962173
00962171 : XOR EAX,EAX
00962173 : MOV EDX,dword ptr [EAX + 0x48]
00962176 : LEA ESI,[EAX + 0x48]
00962179 : MOV EAX,dword ptr [EDX + 0x4]
0096217c : MOV ECX,ESI
0096217e : CALL EAX
00962180 : MOV dword ptr [EBP + 0x8],EAX
00962183 : TEST EAX,EAX
00962185 : JZ 0x009621bc
00962187 : JMP 0x00962190
00962190 : LEA EDX,[EBP + 0x8]
00962193 : MOV EAX,ESI
00962195 : CALL 0x004f5680
0096219a : TEST EAX,EAX
0096219c : JZ 0x009621b6
0096219e : MOV ECX,dword ptr [EAX + 0x34]
009621a1 : TEST ECX,ECX
009621a3 : JZ 0x009621b6
009621a5 : MOVZX EDX,word ptr [ECX + 0x4]
009621a9 : MOVZX ECX,word ptr [ECX + 0x6]
009621ad : SHL EDX,0x10
009621b0 : OR EDX,ECX
009621b2 : CMP EDX,EBX
009621b4 : JZ 0x009621c6
009621b6 : CMP dword ptr [EBP + 0x8],0x0
009621ba : JNZ 0x00962190
009621bc : POP ESI
009621bd : XOR EAX,EAX
009621bf : POP EBX
009621c0 : MOV ESP,EBP
009621c2 : POP EBP
009621c3 : RET 0x4
009621c6 : CMP byte ptr [EDI + 0x8c],0x0
009621cd : JZ 0x009621da
009621cf : MOV EAX,dword ptr [EAX + 0x20]
009621d2 : POP ESI
009621d3 : POP EBX
009621d4 : MOV ESP,EBP
009621d6 : POP EBP
009621d7 : RET 0x4
009621da : MOV EAX,dword ptr [EAX + 0x18]
009621dd : POP ESI
009621de : POP EBX
009621df : MOV ESP,EBP
009621e1 : POP EBP
009621e2 : RET 0x4
