PROGRAM  : Maestia.exe
FUNCTION : FUN_00770140
ENTRY    : 00770140
BODY     : [[00770140, 00770201]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_00770140(undefined4 param_1)

{
  int *piVar1;
  int iVar2;
  int unaff_EDI;
  undefined **local_1c;
  int *local_18;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b0e914;
  local_10 = ExceptionList;
  ExceptionList = &local_10;
  iVar2 = (**(code **)(*DAT_017251f4 + 4))(&local_1c);
  local_8 = 0;
  piVar1 = *(int **)(unaff_EDI + 0x110bc);
  if (piVar1 != *(int **)(iVar2 + 4)) {
    if (piVar1 != (int *)0x0) {
      (**(code **)(*piVar1 + 0x30))();
    }
    if (*(int *)(iVar2 + 4) != 0) {
      InterlockedIncrement((LONG *)(*(int *)(iVar2 + 4) + 0x2c));
    }
    *(undefined4 *)(unaff_EDI + 0x110bc) = *(undefined4 *)(iVar2 + 4);
  }
  local_8 = 0xffffffff;
  local_1c = &PTR_FUN_00cd4964;
  if (local_18 != (int *)0x0) {
    (**(code **)(*local_18 + 0x30))();
  }
  *(undefined4 *)(unaff_EDI + 0x110ac) = param_1;
  *(undefined4 *)(unaff_EDI + 0x110b0) = 0;
  ExceptionList = local_10;
  return 1;
}



============================================================
DISASSEMBLY
============================================================
00770140 : PUSH EBP
00770141 : MOV EBP,ESP
00770143 : PUSH -0x1
00770145 : PUSH 0xb0e914
0077014a : MOV EAX,FS:[0x0]
00770150 : PUSH EAX
00770151 : SUB ESP,0x10
00770154 : PUSH ESI
00770155 : MOV EAX,[0x00d66fa0]
0077015a : XOR EAX,EBP
0077015c : PUSH EAX
0077015d : LEA EAX,[EBP + -0xc]
00770160 : MOV FS:[0x0],EAX
00770166 : MOV ECX,dword ptr [0x017251f4]
0077016c : MOV EAX,dword ptr [ECX]
0077016e : MOV EAX,dword ptr [EAX + 0x4]
00770171 : PUSH EDX
00770172 : LEA EDX,[EBP + -0x18]
00770175 : PUSH EDX
00770176 : CALL EAX
00770178 : MOV ESI,EAX
0077017a : MOV dword ptr [EBP + -0x4],0x0
00770181 : MOV EAX,dword ptr [ESI + 0x4]
00770184 : MOV ECX,dword ptr [EDI + 0x110bc]
0077018a : CMP ECX,EAX
0077018c : JZ 0x007701b3
0077018e : TEST ECX,ECX
00770190 : JZ 0x00770199
00770192 : MOV EDX,dword ptr [ECX]
00770194 : MOV EAX,dword ptr [EDX + 0x30]
00770197 : CALL EAX
00770199 : MOV EAX,dword ptr [ESI + 0x4]
0077019c : TEST EAX,EAX
0077019e : JZ 0x007701aa
007701a0 : ADD EAX,0x2c
007701a3 : PUSH EAX
007701a4 : CALL dword ptr [0x00b850dc]
007701aa : MOV ECX,dword ptr [ESI + 0x4]
007701ad : MOV dword ptr [EDI + 0x110bc],ECX
007701b3 : MOV dword ptr [EBP + -0x4],0xffffffff
007701ba : MOV ECX,dword ptr [EBP + -0x14]
007701bd : MOV dword ptr [EBP + -0x18],0xcd4964
007701c4 : TEST ECX,ECX
007701c6 : JZ 0x007701d6
007701c8 : MOV EDX,dword ptr [ECX]
007701ca : MOV EAX,dword ptr [EDX + 0x30]
007701cd : CALL EAX
007701cf : MOV dword ptr [EBP + -0x14],0x0
007701d6 : MOVSS XMM0,dword ptr [EBP + 0x8]
007701db : MOVSS dword ptr [EDI + 0x110ac],XMM0
007701e3 : XORPS XMM0,XMM0
007701e6 : MOVSS dword ptr [EDI + 0x110b0],XMM0
007701ee : MOV AL,0x1
007701f0 : MOV ECX,dword ptr [EBP + -0xc]
007701f3 : MOV dword ptr FS:[0x0],ECX
007701fa : POP ECX
007701fb : POP ESI
007701fc : MOV ESP,EBP
007701fe : POP EBP
007701ff : RET 0x4
