PROGRAM  : Maestia.exe
FUNCTION : FUN_00737120
ENTRY    : 00737120
BODY     : [[00737120, 00737159] [00737160, 00737256]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00737120(int param_1,int param_2,int param_3,undefined4 param_4,undefined4 param_5,
                 int param_6)

{
  ushort uVar1;
  int iVar2;
  uint uVar3;
  ushort uVar4;
  int *in_ECX;
  undefined4 *puVar5;
  uint uVar6;
  int iVar7;
  
  iVar2 = FUN_0070a3a0();
  uVar1 = 0;
  if ((short)in_ECX[4] != 0) {
    do {
      uVar3 = (uint)uVar1;
      iVar7 = uVar3 * 0xc;
      puVar5 = (undefined4 *)(uVar3 * 0x40 + iVar2);
      *puVar5 = *(undefined4 *)(iVar7 + param_1);
      puVar5[1] = *(undefined4 *)(iVar7 + 4 + param_1);
      puVar5[2] = *(undefined4 *)(iVar7 + 8 + param_1);
      puVar5[3] = *(undefined4 *)(iVar7 + param_2);
      puVar5[4] = *(undefined4 *)(iVar7 + 4 + param_2);
      puVar5[5] = *(undefined4 *)(iVar7 + 8 + param_2);
      puVar5[6] = *(undefined4 *)(param_3 + uVar3 * 8);
      uVar4 = 0;
      puVar5[7] = *(undefined4 *)(param_3 + 4 + uVar3 * 8);
      if (*(short *)(param_6 + uVar3 * 8) == 0) {
LAB_007371fd:
        puVar5 = (undefined4 *)(iVar2 + 0x20 + (uVar3 * 0x10 + (uint)uVar4) * 4);
        uVar3 = (uint)(ushort)(4 - uVar4);
        do {
          puVar5[4] = 0;
          *puVar5 = 0;
          puVar5 = puVar5 + 1;
          uVar3 = uVar3 - 1;
        } while (uVar3 != 0);
      }
      else {
        do {
          uVar6 = (uint)uVar4;
          iVar7 = uVar3 * 0x10 + uVar6;
          *(float *)(iVar2 + 0x30 + iVar7 * 4) =
               (float)*(ushort *)(*(int *)(param_6 + 4 + uVar3 * 8) + 4 + uVar6 * 8);
          uVar4 = uVar4 + 1;
          *(undefined4 *)(iVar2 + 0x20 + iVar7 * 4) =
               *(undefined4 *)(*(int *)(param_6 + 4 + uVar3 * 8) + uVar6 * 8);
        } while (uVar4 < *(ushort *)(param_6 + uVar3 * 8));
        if (uVar4 < 4) goto LAB_007371fd;
      }
      uVar1 = uVar1 + 1;
    } while (uVar1 < *(ushort *)(in_ECX + 4));
  }
  (**(code **)(*in_ECX + 0x10))(iVar2);
  FUN_0070a260(iVar2);
  return;
}



============================================================
DISASSEMBLY
============================================================
00737120 : PUSH EBP
00737121 : MOV EBP,ESP
00737123 : AND ESP,0xfffffff8
00737126 : SUB ESP,0xc
00737129 : PUSH EBX
0073712a : PUSH ESI
0073712b : MOV ESI,ECX
0073712d : MOVZX ECX,word ptr [ESI + 0x10]
00737131 : PUSH EDI
00737132 : SHL ECX,0x6
00737135 : MOV dword ptr [ESP + 0x14],ESI
00737139 : CALL 0x0070a3a0
0073713e : MOV EDI,EAX
00737140 : XOR EAX,EAX
00737142 : XOR ECX,ECX
00737144 : MOV dword ptr [ESP + 0xc],EAX
00737148 : CMP CX,word ptr [ESI + 0x10]
0073714c : JNC 0x0073723b
00737152 : MOV EBX,dword ptr [EBP + 0x1c]
00737155 : XORPS XMM0,XMM0
00737158 : JMP 0x00737160
00737160 : MOV ESI,dword ptr [EBP + 0x8]
00737163 : MOVZX EAX,AX
00737166 : LEA ECX,[EAX + EAX*0x2]
00737169 : ADD ECX,ECX
0073716b : ADD ECX,ECX
0073716d : MOV EDX,EAX
0073716f : SHL EDX,0x6
00737172 : FLD float ptr [ECX + ESI*0x1]
00737175 : ADD EDX,EDI
00737177 : FSTP float ptr [EDX]
00737179 : FLD float ptr [ECX + ESI*0x1 + 0x4]
0073717d : FSTP float ptr [EDX + 0x4]
00737180 : FLD float ptr [ECX + ESI*0x1 + 0x8]
00737184 : MOV ESI,dword ptr [EBP + 0xc]
00737187 : FSTP float ptr [EDX + 0x8]
0073718a : FLD float ptr [ECX + ESI*0x1]
0073718d : FSTP float ptr [EDX + 0xc]
00737190 : FLD float ptr [ECX + ESI*0x1 + 0x4]
00737194 : FSTP float ptr [EDX + 0x10]
00737197 : FLD float ptr [ECX + ESI*0x1 + 0x8]
0073719b : MOV ECX,dword ptr [EBP + 0x10]
0073719e : FSTP float ptr [EDX + 0x14]
007371a1 : FLD float ptr [ECX + EAX*0x8]
007371a4 : FSTP float ptr [EDX + 0x18]
007371a7 : FLD float ptr [ECX + EAX*0x8 + 0x4]
007371ab : XOR ECX,ECX
007371ad : FSTP float ptr [EDX + 0x1c]
007371b0 : XOR EDX,EDX
007371b2 : CMP DX,word ptr [EBX + EAX*0x8]
007371b6 : JNC 0x007371fd
007371b8 : MOV ESI,EAX
007371ba : SHL ESI,0x4
007371bd : MOV dword ptr [ESP + 0x10],ESI
007371c1 : JMP 0x007371c7
007371c3 : MOV ESI,dword ptr [ESP + 0x10]
007371c7 : MOV EBX,dword ptr [EBX + EAX*0x8 + 0x4]
007371cb : MOVZX EDX,CX
007371ce : MOVZX EBX,word ptr [EBX + EDX*0x8 + 0x4]
007371d3 : CVTSI2SS XMM1,EBX
007371d7 : MOV EBX,dword ptr [EBP + 0x1c]
007371da : ADD ESI,EDX
007371dc : MOVSS dword ptr [EDI + ESI*0x4 + 0x30],XMM1
007371e2 : MOV EBX,dword ptr [EBX + EAX*0x8 + 0x4]
007371e6 : FLD float ptr [EBX + EDX*0x8]
007371e9 : MOV EBX,dword ptr [EBP + 0x1c]
007371ec : INC ECX
007371ed : FSTP float ptr [EDI + ESI*0x4 + 0x20]
007371f1 : CMP CX,word ptr [EBX + EAX*0x8]
007371f5 : JC 0x007371c3
007371f7 : CMP CX,0x4
007371fb : JNC 0x00737224
007371fd : MOVZX EDX,CX
00737200 : SHL EAX,0x4
00737203 : ADD EAX,EDX
00737205 : MOV EDX,0x4
0073720a : SUB EDX,ECX
0073720c : LEA EAX,[EDI + EAX*0x4 + 0x20]
00737210 : MOVZX ECX,DX
00737213 : MOVSS dword ptr [EAX + 0x10],XMM0
00737218 : MOVSS dword ptr [EAX],XMM0
0073721c : ADD EAX,0x4
0073721f : SUB ECX,0x1
00737222 : JNZ 0x00737213
00737224 : MOV EAX,dword ptr [ESP + 0xc]
00737228 : MOV ESI,dword ptr [ESP + 0x14]
0073722c : INC EAX
0073722d : MOV dword ptr [ESP + 0xc],EAX
00737231 : CMP AX,word ptr [ESI + 0x10]
00737235 : JC 0x00737160
0073723b : MOV EAX,dword ptr [ESI]
0073723d : MOV EDX,dword ptr [EAX + 0x10]
00737240 : PUSH EDI
00737241 : MOV ECX,ESI
00737243 : CALL EDX
00737245 : PUSH EDI
00737246 : CALL 0x0070a260
0073724b : ADD ESP,0x4
0073724e : POP EDI
0073724f : POP ESI
00737250 : POP EBX
00737251 : MOV ESP,EBP
00737253 : POP EBP
00737254 : RET 0x18
