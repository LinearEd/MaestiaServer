PROGRAM  : Maestia.exe
FUNCTION : FUN_009857c0
ENTRY    : 009857c0
BODY     : [[009857c0, 0098591b]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_009857c0(void)

{
  undefined4 *puVar1;
  int *piVar2;
  uint in_EAX;
  int iVar3;
  int in_ECX;
  
  if ((short)in_EAX == 0) {
    in_EAX = (uint)*(ushort *)(in_ECX + 0x6c);
  }
  iVar3 = FUN_009821a0(in_ECX,in_EAX);
  if (iVar3 != 0) {
    if ((short)in_EAX != *(short *)(in_ECX + 0x6e)) {
      FUN_00985000(in_ECX,in_EAX);
    }
    if ((*(char *)(in_ECX + 0x32) == '\0') && (*(char *)(in_ECX + 0xf8) == '\0')) {
      FUN_008f7770(1,300);
      if ((*DAT_00da9894 != 0) &&
         (puVar1 = *(undefined4 **)(*DAT_00da9894 + 0x114), puVar1 != (undefined4 *)0x0)) {
        (**(code **)*puVar1)("SetMinimapLarge");
      }
      if ((short)in_EAX == *(short *)(in_ECX + 0x6c)) {
        if ((*DAT_00da9894 != 0) &&
           (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)) {
          (**(code **)(*piVar2 + 4))
                    (piVar2,"ZoneMapSetMapMove","%d,%d",*(undefined4 *)(in_ECX + 0xec),
                     *(undefined4 *)(in_ECX + 0xf0));
        }
        FUN_00980ce0();
      }
      FUN_00980dc0(1);
      FUN_008a1050(0x3e);
      return;
    }
    if ((DAT_00da93ec != 0) &&
       (((*(char *)(DAT_00da93ec + 0x3a9) != '\0' && (*DAT_00da9894 != 0)) &&
        (piVar2 = *(int **)(*DAT_00da9894 + 0x114), piVar2 != (int *)0x0)))) {
      (**(code **)(*piVar2 + 4))(piVar2,"PremiumZoneVisible",&DAT_00c7ff4c,1);
    }
    FUN_008a1050(0x3e);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
009857c0 : PUSH EBP
009857c1 : MOV EBP,ESP
009857c3 : SUB ESP,0x10
009857c6 : PUSH ESI
009857c7 : PUSH EDI
009857c8 : MOV EDI,EAX
009857ca : MOV ESI,ECX
009857cc : TEST DI,DI
009857cf : JNZ 0x009857d5
009857d1 : MOVZX EDI,word ptr [ESI + 0x6c]
009857d5 : PUSH EDI
009857d6 : PUSH ESI
009857d7 : CALL 0x009821a0
009857dc : TEST EAX,EAX
009857de : JZ 0x00985916
009857e4 : CMP DI,word ptr [ESI + 0x6e]
009857e8 : JZ 0x009857f1
009857ea : PUSH EDI
009857eb : PUSH ESI
009857ec : CALL 0x00985000
009857f1 : CMP byte ptr [ESI + 0x32],0x0
009857f5 : JNZ 0x009858ca
009857fb : CMP byte ptr [ESI + 0xf8],0x0
00985802 : JNZ 0x009858ca
00985808 : PUSH 0x12c
0098580d : PUSH 0x1
0098580f : MOV ECX,ESI
00985811 : CALL 0x008f7770
00985816 : MOV EAX,[0x00da9894]
0098581b : MOV EAX,dword ptr [EAX]
0098581d : TEST EAX,EAX
0098581f : JZ 0x00985838
00985821 : MOV EAX,dword ptr [EAX + 0x114]
00985827 : TEST EAX,EAX
00985829 : JZ 0x00985838
0098582b : MOV EDX,dword ptr [EAX]
0098582d : MOV ECX,EAX
0098582f : MOV EAX,dword ptr [EDX]
00985831 : PUSH 0xc7ff20
00985836 : CALL EAX
00985838 : CMP DI,word ptr [ESI + 0x6c]
0098583c : JNZ 0x009858b0
0098583e : MOV ECX,dword ptr [0x00da9894]
00985844 : MOV EAX,dword ptr [ECX]
00985846 : TEST EAX,EAX
00985848 : JZ 0x00985877
0098584a : MOV EAX,dword ptr [EAX + 0x114]
00985850 : TEST EAX,EAX
00985852 : JZ 0x00985877
00985854 : MOV ECX,dword ptr [ESI + 0xf0]
0098585a : MOV EDX,dword ptr [EAX]
0098585c : MOV EDX,dword ptr [EDX + 0x4]
0098585f : PUSH ECX
00985860 : MOV ECX,dword ptr [ESI + 0xec]
00985866 : PUSH ECX
00985867 : PUSH 0xc7ff30
0098586c : PUSH 0xc7ff38
00985871 : PUSH EAX
00985872 : CALL EDX
00985874 : ADD ESP,0x14
00985877 : MOV EAX,[0x0172491c]
0098587c : MOV EAX,dword ptr [EAX + 0x17c]
00985882 : MOVSS XMM0,dword ptr [EAX + 0x1a4]
0098588a : ADD EAX,0x1a4
0098588f : MOVSS dword ptr [EBP + -0xc],XMM0
00985894 : MOVSS XMM0,dword ptr [EAX + 0x4]
00985899 : MOVSS dword ptr [EBP + -0x8],XMM0
0098589e : MOVSS XMM0,dword ptr [EAX + 0x8]
009858a3 : LEA ECX,[EBP + -0xc]
009858a6 : MOVSS dword ptr [EBP + -0x4],XMM0
009858ab : CALL 0x00980ce0
009858b0 : PUSH 0x1
009858b2 : CALL 0x00980dc0
009858b7 : MOV ECX,dword ptr [0x017248dc]
009858bd : PUSH 0x3e
009858bf : CALL 0x008a1050
009858c4 : POP EDI
009858c5 : POP ESI
009858c6 : MOV ESP,EBP
009858c8 : POP EBP
009858c9 : RET
009858ca : MOV EAX,[0x00da93ec]
009858cf : TEST EAX,EAX
009858d1 : JZ 0x00985909
009858d3 : CMP byte ptr [EAX + 0x3a9],0x0
009858da : JZ 0x00985909
009858dc : MOV ECX,dword ptr [0x00da9894]
009858e2 : MOV EAX,dword ptr [ECX]
009858e4 : TEST EAX,EAX
009858e6 : JZ 0x00985909
009858e8 : MOV EAX,dword ptr [EAX + 0x114]
009858ee : TEST EAX,EAX
009858f0 : JZ 0x00985909
009858f2 : MOV EDX,dword ptr [EAX]
009858f4 : PUSH 0x1
009858f6 : PUSH 0xc7ff4c
009858fb : PUSH 0xc7ff50
00985900 : PUSH EAX
00985901 : MOV EAX,dword ptr [EDX + 0x4]
00985904 : CALL EAX
00985906 : ADD ESP,0x10
00985909 : MOV ECX,dword ptr [0x017248dc]
0098590f : PUSH 0x3e
00985911 : CALL 0x008a1050
00985916 : POP EDI
00985917 : POP ESI
00985918 : MOV ESP,EBP
0098591a : POP EBP
0098591b : RET
