PROGRAM  : Maestia.exe
FUNCTION : FUN_00586e60
ENTRY    : 00586e60
BODY     : [[00586e60, 00586eea]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00586e60(int param_1,int param_2,undefined4 *param_3)

{
  int iVar1;
  undefined4 *puVar2;
  int *piVar3;
  
  if (param_2 != 0) {
    piVar3 = param_3 + 3;
    puVar2 = (undefined4 *)(param_1 + 0xc);
    do {
      if (puVar2 != (undefined4 *)0xc) {
        puVar2[-3] = *param_3;
        puVar2[-2] = piVar3[-2];
        *(undefined1 *)(puVar2 + 1) = 0;
        iVar1 = piVar3[-1];
        puVar2[-1] = iVar1;
        if (iVar1 != 0) {
          *(uint *)(iVar1 + 8) = *(int *)(iVar1 + 8) + 1U & 0x8fffffff;
        }
        *puVar2 = 0;
        if (*piVar3 != 0) {
          FUN_005686c0(*piVar3,*(byte *)(piVar3 + 1) & 1);
        }
        puVar2[2] = piVar3[2];
        puVar2[3] = piVar3[3];
      }
      param_3 = param_3 + 7;
      piVar3 = piVar3 + 7;
      puVar2 = puVar2 + 7;
      param_2 = param_2 + -1;
    } while (param_2 != 0);
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
00586e60 : MOV EAX,dword ptr [ESP + 0x8]
00586e64 : TEST EAX,EAX
00586e66 : JBE 0x00586eea
00586e6c : PUSH EBX
00586e6d : PUSH EBP
00586e6e : MOV EBP,dword ptr [ESP + 0x14]
00586e72 : PUSH ESI
00586e73 : MOV ESI,dword ptr [ESP + 0x10]
00586e77 : PUSH EDI
00586e78 : LEA EDI,[EBP + 0xc]
00586e7b : ADD ESI,0xc
00586e7e : MOV EBX,EAX
00586e80 : LEA EAX,[ESI + -0xc]
00586e83 : TEST EAX,EAX
00586e85 : JZ 0x00586ed8
00586e87 : MOV ECX,dword ptr [EBP]
00586e8a : MOV dword ptr [ESI + -0xc],ECX
00586e8d : MOV EDX,dword ptr [EDI + -0x8]
00586e90 : MOV dword ptr [ESI + -0x8],EDX
00586e93 : MOV byte ptr [ESI + 0x4],0x0
00586e97 : MOV EAX,dword ptr [EDI + -0x4]
00586e9a : LEA ECX,[ESI + -0x4]
00586e9d : MOV dword ptr [ECX],EAX
00586e9f : TEST EAX,EAX
00586ea1 : JZ 0x00586eb0
00586ea3 : MOV EDX,dword ptr [EAX + 0x8]
00586ea6 : INC EDX
00586ea7 : AND EDX,0x8fffffff
00586ead : MOV dword ptr [EAX + 0x8],EDX
00586eb0 : MOV dword ptr [ESI],0x0
00586eb6 : MOV EAX,dword ptr [EDI]
00586eb8 : TEST EAX,EAX
00586eba : JZ 0x00586ecc
00586ebc : MOV DL,byte ptr [EDI + 0x4]
00586ebf : AND DL,0x1
00586ec2 : MOVZX EDX,DL
00586ec5 : PUSH EDX
00586ec6 : PUSH EAX
00586ec7 : CALL 0x005686c0
00586ecc : MOV EAX,dword ptr [EDI + 0x8]
00586ecf : MOV dword ptr [ESI + 0x8],EAX
00586ed2 : MOV ECX,dword ptr [EDI + 0xc]
00586ed5 : MOV dword ptr [ESI + 0xc],ECX
00586ed8 : ADD EBP,0x1c
00586edb : ADD EDI,0x1c
00586ede : ADD ESI,0x1c
00586ee1 : SUB EBX,0x1
00586ee4 : JNZ 0x00586e80
00586ee6 : POP EDI
00586ee7 : POP ESI
00586ee8 : POP EBP
00586ee9 : POP EBX
00586eea : RET
