PROGRAM  : Maestia.exe
FUNCTION : FUN_004c3bc0
ENTRY    : 004c3bc0
BODY     : [[004c3bc0, 004c3c35]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_004c3bc0(void)

{
  int in_EAX;
  int iVar1;
  uint uVar2;
  int *unaff_EDI;
  undefined4 local_8;
  
  if (in_EAX == 0) {
    if (*unaff_EDI != 0) {
      FUN_00515cf0(*unaff_EDI);
      *unaff_EDI = 0;
    }
    unaff_EDI[2] = 0;
    return;
  }
  uVar2 = in_EAX + 3U >> 2;
  if (*unaff_EDI != 0) {
    iVar1 = FUN_00515c80(*unaff_EDI,uVar2 * 0x10);
    unaff_EDI[2] = uVar2 * 4;
    *unaff_EDI = iVar1;
    return;
  }
  local_8 = 2;
  iVar1 = FUN_00515840(uVar2 * 0x10,&local_8);
  unaff_EDI[2] = uVar2 * 4;
  *unaff_EDI = iVar1;
  return;
}



============================================================
DISASSEMBLY
============================================================
004c3bc0 : PUSH EBP
004c3bc1 : MOV EBP,ESP
004c3bc3 : PUSH ECX
004c3bc4 : TEST EAX,EAX
004c3bc6 : JNZ 0x004c3be5
004c3bc8 : MOV EAX,dword ptr [EDI]
004c3bca : TEST EAX,EAX
004c3bcc : JZ 0x004c3bda
004c3bce : PUSH EAX
004c3bcf : CALL 0x00515cf0
004c3bd4 : MOV dword ptr [EDI],0x0
004c3bda : MOV dword ptr [EDI + 0x8],0x0
004c3be1 : MOV ESP,EBP
004c3be3 : POP EBP
004c3be4 : RET
004c3be5 : PUSH ESI
004c3be6 : LEA ESI,[EAX + 0x3]
004c3be9 : MOV EAX,dword ptr [EDI]
004c3beb : SHR ESI,0x2
004c3bee : ADD ESI,ESI
004c3bf0 : ADD ESI,ESI
004c3bf2 : TEST EAX,EAX
004c3bf4 : JZ 0x004c3c0e
004c3bf6 : LEA ECX,[ESI*0x4 + 0x0]
004c3bfd : PUSH ECX
004c3bfe : PUSH EAX
004c3bff : CALL 0x00515c80
004c3c04 : MOV dword ptr [EDI + 0x8],ESI
004c3c07 : MOV dword ptr [EDI],EAX
004c3c09 : POP ESI
004c3c0a : MOV ESP,EBP
004c3c0c : POP EBP
004c3c0d : RET
004c3c0e : MOV ECX,dword ptr [0x00d73250]
004c3c14 : LEA EDX,[EBP + -0x4]
004c3c17 : PUSH EDX
004c3c18 : LEA EAX,[ESI*0x4 + 0x0]
004c3c1f : PUSH EAX
004c3c20 : MOV dword ptr [EBP + -0x4],0x2
004c3c27 : CALL 0x00515840
004c3c2c : MOV dword ptr [EDI + 0x8],ESI
004c3c2f : MOV dword ptr [EDI],EAX
004c3c31 : POP ESI
004c3c32 : MOV ESP,EBP
004c3c34 : POP EBP
004c3c35 : RET
