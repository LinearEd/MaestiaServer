PROGRAM  : Maestia.exe
FUNCTION : FUN_005b2f70
ENTRY    : 005b2f70
BODY     : [[005b2f70, 005b3085]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_005b2f70(int param_1)

{
  int *piVar1;
  undefined4 *puVar2;
  char cVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 *puVar6;
  undefined4 uVar7;
  undefined4 *local_8;
  int local_4;
  
  cVar3 = FUN_00526030(8);
  if (cVar3 == '\0') {
    FUN_00526050("String",0,0);
    return;
  }
  if (*(int *)(param_1 + 8) == 0) {
    local_4 = 0;
  }
  else {
    local_4 = *(int *)(param_1 + 8) + -0x10;
  }
  puVar2 = *(undefined4 **)(*(int *)(*(int *)(param_1 + 0x18) + 0x78) + 8);
  puVar2[2] = puVar2[2] + 1;
  uVar5 = 0;
  puVar6 = puVar2;
  if (0 < *(int *)(param_1 + 0x1c)) {
    uVar5 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(0);
    FUN_005272e0(&local_8,uVar5,0xffffffff,0);
    puVar6 = local_8;
    local_8[2] = local_8[2] + 1;
    piVar1 = puVar2 + 2;
    *piVar1 = *piVar1 + -1;
    if (*piVar1 == 0) {
      FUN_00525340();
    }
    local_8[2] = local_8[2] + -1;
    if (local_8[2] == 0) {
      FUN_00525340();
    }
    uVar5 = *puVar6;
  }
  iVar4 = 0x3fffffff;
  if (1 < *(int *)(param_1 + 0x1c)) {
    uVar7 = *(undefined4 *)(param_1 + 0x18);
    FUN_00526260(1);
    FUN_00527730(uVar7);
    iVar4 = FUN_0063b380();
    if (iVar4 < 0) {
      iVar4 = 0;
    }
  }
  FUN_005b2c50(&local_4,*(undefined4 *)(param_1 + 0x18),local_4 + 0x30,uVar5,iVar4);
  iVar4 = local_4;
  FUN_005271c0(local_4);
  if (iVar4 != 0) {
    FUN_00503db0();
  }
  piVar1 = puVar6 + 2;
  *piVar1 = *piVar1 + -1;
  if (*piVar1 == 0) {
    FUN_00525340();
  }
  return;
}



============================================================
DISASSEMBLY
============================================================
005b2f70 : SUB ESP,0x8
005b2f73 : PUSH ESI
005b2f74 : MOV ESI,dword ptr [ESP + 0x10]
005b2f78 : PUSH 0x8
005b2f7a : MOV ECX,ESI
005b2f7c : CALL 0x00526030
005b2f81 : TEST AL,AL
005b2f83 : JNZ 0x005b2f9a
005b2f85 : PUSH 0x0
005b2f87 : PUSH 0x0
005b2f89 : PUSH 0xb8f800
005b2f8e : MOV ECX,ESI
005b2f90 : CALL 0x00526050
005b2f95 : POP ESI
005b2f96 : ADD ESP,0x8
005b2f99 : RET
005b2f9a : MOV EAX,dword ptr [ESI + 0x8]
005b2f9d : TEST EAX,EAX
005b2f9f : JZ 0x005b2faa
005b2fa1 : ADD EAX,-0x10
005b2fa4 : MOV dword ptr [ESP + 0x8],EAX
005b2fa8 : JMP 0x005b2fb2
005b2faa : MOV dword ptr [ESP + 0x8],0x0
005b2fb2 : MOV EAX,dword ptr [ESI + 0x18]
005b2fb5 : MOV ECX,dword ptr [EAX + 0x78]
005b2fb8 : PUSH EBX
005b2fb9 : PUSH EDI
005b2fba : MOV EDI,dword ptr [ECX + 0x8]
005b2fbd : INC dword ptr [EDI + 0x8]
005b2fc0 : XOR EBX,EBX
005b2fc2 : CMP dword ptr [ESI + 0x1c],0x1
005b2fc6 : JL 0x005b3015
005b2fc8 : MOV EBX,dword ptr [ESI + 0x18]
005b2fcb : PUSH 0x0
005b2fcd : MOV ECX,ESI
005b2fcf : CALL 0x00526260
005b2fd4 : PUSH 0x0
005b2fd6 : PUSH -0x1
005b2fd8 : PUSH EBX
005b2fd9 : LEA EDX,[ESP + 0x18]
005b2fdd : PUSH EDX
005b2fde : MOV ECX,EAX
005b2fe0 : CALL 0x005272e0
005b2fe5 : MOV EAX,dword ptr [ESP + 0xc]
005b2fe9 : INC dword ptr [EAX + 0x8]
005b2fec : ADD dword ptr [EDI + 0x8],-0x1
005b2ff0 : MOV EBX,EAX
005b2ff2 : JNZ 0x005b2ffb
005b2ff4 : MOV ECX,EDI
005b2ff6 : CALL 0x00525340
005b2ffb : MOV EAX,dword ptr [ESP + 0xc]
005b2fff : DEC dword ptr [EAX + 0x8]
005b3002 : MOV ECX,EAX
005b3004 : ADD EAX,0x8
005b3007 : CMP dword ptr [EAX],0x0
005b300a : MOV EDI,EBX
005b300c : JNZ 0x005b3013
005b300e : CALL 0x00525340
005b3013 : MOV EBX,dword ptr [EBX]
005b3015 : CMP dword ptr [ESI + 0x1c],0x2
005b3019 : MOV EAX,0x3fffffff
005b301e : JL 0x005b303f
005b3020 : MOV EAX,dword ptr [ESI + 0x18]
005b3023 : PUSH EAX
005b3024 : PUSH 0x1
005b3026 : MOV ECX,ESI
005b3028 : CALL 0x00526260
005b302d : MOV ECX,EAX
005b302f : CALL 0x00527730
005b3034 : CALL 0x0063b380
005b3039 : TEST EAX,EAX
005b303b : JGE 0x005b303f
005b303d : XOR EAX,EAX
005b303f : MOV ECX,dword ptr [ESP + 0x10]
005b3043 : MOV EDX,dword ptr [ESI + 0x18]
005b3046 : PUSH EAX
005b3047 : PUSH EBX
005b3048 : ADD ECX,0x30
005b304b : PUSH ECX
005b304c : PUSH EDX
005b304d : LEA EAX,[ESP + 0x20]
005b3051 : PUSH EAX
005b3052 : CALL 0x005b2c50
005b3057 : MOV EBX,dword ptr [ESP + 0x24]
005b305b : MOV ECX,dword ptr [ESI + 0x4]
005b305e : ADD ESP,0x14
005b3061 : PUSH EBX
005b3062 : CALL 0x005271c0
005b3067 : TEST EBX,EBX
005b3069 : JZ 0x005b3072
005b306b : MOV ECX,EBX
005b306d : CALL 0x00503db0
005b3072 : ADD dword ptr [EDI + 0x8],-0x1
005b3076 : JNZ 0x005b307f
005b3078 : MOV ECX,EDI
005b307a : CALL 0x00525340
005b307f : POP EDI
005b3080 : POP EBX
005b3081 : POP ESI
005b3082 : ADD ESP,0x8
005b3085 : RET
