PROGRAM  : Maestia.exe
FUNCTION : FUN_00a86070
ENTRY    : 00a86070
BODY     : [[00a86070, 00a8630a]]

============================================================
DECOMPILED C CODE
============================================================

void FUN_00a86070(int param_1)

{
  int iVar1;
  int *piVar2;
  undefined4 *puVar3;
  undefined4 uVar4;
  int in_ECX;
  uint uVar5;
  int iVar6;
  undefined4 local_7c;
  undefined4 local_78;
  undefined4 local_74;
  int *local_60;
  int local_5c;
  int local_58;
  undefined4 *local_50;
  undefined1 local_4c [4];
  undefined2 local_48;
  undefined4 local_38;
  uint local_34;
  undefined1 local_30 [4];
  undefined2 local_2c;
  undefined4 local_1c;
  uint local_18;
  uint local_14;
  void *local_10;
  undefined1 *puStack_c;
  undefined4 local_8;
  
  local_8 = 0xffffffff;
  puStack_c = &LAB_00b3ef6f;
  local_10 = ExceptionList;
  local_14 = DAT_00d66fa0 ^ (uint)&stack0xfffffffc;
  ExceptionList = &local_10;
  iVar6 = 0;
  local_58 = param_1;
  local_50 = (undefined4 *)FUN_006f0760(0x110,"",0,(DAT_01725270 >> 3 & 1) == 0,local_14);
  local_8 = 0;
  if (local_50 != (undefined4 *)0x0) {
    iVar6 = FUN_0042d120(local_50);
  }
  local_8 = 0xffffffff;
  local_5c = iVar6;
  FUN_0042cf60();
  local_50 = (undefined4 *)(in_ECX + 4);
  *(undefined4 *)(iVar6 + 0xe8) = *(undefined4 *)(in_ECX + 4);
  *(undefined4 *)(iVar6 + 0xec) = *(undefined4 *)(in_ECX + 8);
  if (*(char *)(in_ECX + 0x20) == '\x01') {
    iVar1 = *(int *)(local_58 + 0x54);
    if (iVar1 == 0) {
      uVar5 = 0;
    }
    else {
      uVar5 = *(int *)(local_58 + 0x5c) - iVar1 >> 2;
    }
    local_60 = *(int **)(local_58 + 0x58);
    if ((uint)((int)local_60 - iVar1 >> 2) < uVar5) {
      *local_60 = iVar6;
      *(int **)(local_58 + 0x58) = local_60 + 1;
    }
    else {
      FUN_0042fe80(local_58 + 0x50,local_60,&local_5c);
    }
    FUN_00406460(in_ECX + 0x71);
    local_8 = 1;
    FUN_00406460(in_ECX + 0x21);
    local_8._0_1_ = 2;
    if ((*DAT_00da9894 != 0) && (*(int *)(*DAT_00da9894 + 0x1a8) != 0)) {
      uVar4 = FUN_009aea50();
      local_8._0_1_ = 3;
      FUN_00405eb0(uVar4,0,0xffffffff);
      local_8._0_1_ = 2;
      FUN_00406560();
    }
    puVar3 = local_50;
    iVar1 = local_58;
    iVar6 = local_58 + 0x60;
    FUN_00426f10(&local_50);
    if (local_50 == *(undefined4 **)(iVar1 + 100)) {
      local_50 = (undefined4 *)FUN_006f0760(0x38,".\\Gui\\AvaGuiPremiumInven.cpp",0xab,0);
      local_8._0_1_ = 4;
      if (local_50 == (undefined4 *)0x0) {
        local_74 = 0;
      }
      else {
        local_74 = FUN_0042ced0(local_50);
      }
      local_8._0_1_ = 2;
      FUN_00405eb0(local_30,0,0xffffffff);
      FUN_00405eb0(local_4c,0,0xffffffff);
      local_7c = *puVar3;
      local_78 = puVar3[1];
      FUN_00426e00(iVar6,&local_7c);
    }
    else {
      FUN_00405eb0(local_30,0,0xffffffff);
      FUN_00405eb0(local_4c,0,0xffffffff);
    }
    local_8 = CONCAT31(local_8._1_3_,1);
    if (7 < local_34) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_34 = 7;
    local_38 = 0;
    local_48 = 0;
    local_8 = 0xffffffff;
    if (7 < local_18) {
                    /* WARNING: Subroutine does not return */
      FUN_006f04e0();
    }
    local_18 = 7;
    local_1c = 0;
    local_2c = 0;
  }
  else {
    iVar1 = *(int *)(local_58 + 0x44);
    if (iVar1 == 0) {
      uVar5 = 0;
    }
    else {
      uVar5 = *(int *)(local_58 + 0x4c) - iVar1 >> 2;
    }
    piVar2 = *(int **)(local_58 + 0x48);
    if ((uint)((int)piVar2 - iVar1 >> 2) < uVar5) {
      *piVar2 = iVar6;
      *(int **)(local_58 + 0x48) = piVar2 + 1;
    }
    else {
      FUN_0042fe80(local_58 + 0x40,piVar2,&local_5c);
    }
  }
  ExceptionList = local_10;
  __security_check_cookie(local_14 ^ (uint)&stack0xfffffffc);
  return;
}



============================================================
DISASSEMBLY
============================================================
00a86070 : PUSH EBP
00a86071 : MOV EBP,ESP
00a86073 : PUSH -0x1
00a86075 : PUSH 0xb3ef6f
00a8607a : MOV EAX,FS:[0x0]
00a86080 : PUSH EAX
00a86081 : SUB ESP,0x74
00a86084 : MOV EAX,[0x00d66fa0]
00a86089 : XOR EAX,EBP
00a8608b : MOV dword ptr [EBP + -0x10],EAX
00a8608e : PUSH EBX
00a8608f : PUSH ESI
00a86090 : PUSH EDI
00a86091 : PUSH EAX
00a86092 : LEA EAX,[EBP + -0xc]
00a86095 : MOV FS:[0x0],EAX
00a8609b : MOV EAX,dword ptr [EBP + 0x8]
00a8609e : MOV EBX,dword ptr [EBP + 0xc]
00a860a1 : MOV EDI,ECX
00a860a3 : MOV ECX,dword ptr [0x01725270]
00a860a9 : SHR ECX,0x3
00a860ac : MOV EDX,0x0
00a860b1 : AND ECX,0x1
00a860b4 : SETZ DL
00a860b7 : XOR ESI,ESI
00a860b9 : MOV dword ptr [EBP + -0x54],EAX
00a860bc : PUSH EDX
00a860bd : PUSH ESI
00a860be : PUSH 0xbf1a4a
00a860c3 : PUSH 0x110
00a860c8 : CALL 0x006f0760
00a860cd : ADD ESP,0x10
00a860d0 : MOV dword ptr [EBP + -0x4c],EAX
00a860d3 : MOV dword ptr [EBP + -0x4],ESI
00a860d6 : CMP EAX,ESI
00a860d8 : JZ 0x00a860e2
00a860da : PUSH EAX
00a860db : CALL 0x0042d120
00a860e0 : MOV ESI,EAX
00a860e2 : MOV dword ptr [EBP + -0x4],0xffffffff
00a860e9 : MOV EAX,EBX
00a860eb : MOV ECX,ESI
00a860ed : MOV dword ptr [EBP + -0x58],ESI
00a860f0 : CALL 0x0042cf60
00a860f5 : MOV ECX,dword ptr [EDI + 0x4]
00a860f8 : LEA EAX,[EDI + 0x4]
00a860fb : MOV dword ptr [ESI + 0xe8],ECX
00a86101 : MOV EDX,dword ptr [EAX + 0x4]
00a86104 : MOV dword ptr [ESI + 0xec],EDX
00a8610a : CMP byte ptr [EDI + 0x20],0x1
00a8610e : MOV dword ptr [EBP + -0x4c],EAX
00a86111 : MOV EAX,dword ptr [EBP + -0x54]
00a86114 : JNZ 0x00a862b4
00a8611a : MOV EDX,dword ptr [EAX + 0x54]
00a8611d : ADD EAX,0x50
00a86120 : TEST EDX,EDX
00a86122 : JNZ 0x00a86128
00a86124 : XOR ECX,ECX
00a86126 : JMP 0x00a86130
00a86128 : MOV ECX,dword ptr [EAX + 0xc]
00a8612b : SUB ECX,EDX
00a8612d : SAR ECX,0x2
00a86130 : MOV EBX,dword ptr [EAX + 0x8]
00a86133 : MOV dword ptr [EBP + -0x5c],EBX
00a86136 : SUB EBX,EDX
00a86138 : SAR EBX,0x2
00a8613b : CMP EBX,ECX
00a8613d : JNC 0x00a8614c
00a8613f : MOV ECX,dword ptr [EBP + -0x5c]
00a86142 : MOV dword ptr [ECX],ESI
00a86144 : ADD ECX,0x4
00a86147 : MOV dword ptr [EAX + 0x8],ECX
00a8614a : JMP 0x00a8615a
00a8614c : MOV EDX,dword ptr [EBP + -0x5c]
00a8614f : LEA ECX,[EBP + -0x58]
00a86152 : PUSH ECX
00a86153 : PUSH EDX
00a86154 : PUSH EAX
00a86155 : CALL 0x0042fe80
00a8615a : LEA EAX,[EDI + 0x71]
00a8615d : PUSH EAX
00a8615e : LEA ECX,[EBP + -0x2c]
00a86161 : CALL 0x00406460
00a86166 : MOV dword ptr [EBP + -0x4],0x1
00a8616d : ADD EDI,0x21
00a86170 : PUSH EDI
00a86171 : LEA ECX,[EBP + -0x48]
00a86174 : CALL 0x00406460
00a86179 : MOV byte ptr [EBP + -0x4],0x2
00a8617d : MOV ECX,dword ptr [0x00da9894]
00a86183 : MOV EAX,dword ptr [ECX]
00a86185 : TEST EAX,EAX
00a86187 : JZ 0x00a861b9
00a86189 : CMP dword ptr [EAX + 0x1a8],0x0
00a86190 : JZ 0x00a861b9
00a86192 : LEA ECX,[EBP + -0x2c]
00a86195 : LEA ESI,[EBP + -0x80]
00a86198 : CALL 0x009aea50
00a8619d : MOV byte ptr [EBP + -0x4],0x3
00a861a1 : PUSH -0x1
00a861a3 : PUSH 0x0
00a861a5 : PUSH EAX
00a861a6 : LEA ECX,[EBP + -0x2c]
00a861a9 : CALL 0x00405eb0
00a861ae : MOV byte ptr [EBP + -0x4],0x2
00a861b2 : MOV ECX,ESI
00a861b4 : CALL 0x00406560
00a861b9 : MOV ESI,dword ptr [EBP + -0x54]
00a861bc : MOV EDI,dword ptr [EBP + -0x4c]
00a861bf : LEA EDX,[EBP + -0x4c]
00a861c2 : LEA EBX,[ESI + 0x60]
00a861c5 : PUSH EDX
00a861c6 : MOV EAX,EBX
00a861c8 : CALL 0x00426f10
00a861cd : MOV EAX,dword ptr [ESI + 0x64]
00a861d0 : MOV ESI,dword ptr [EBP + -0x4c]
00a861d3 : CMP ESI,EAX
00a861d5 : JNZ 0x00a86244
00a861d7 : PUSH 0x0
00a861d9 : PUSH 0xab
00a861de : PUSH 0xc594b8
00a861e3 : PUSH 0x38
00a861e5 : CALL 0x006f0760
00a861ea : ADD ESP,0x10
00a861ed : MOV dword ptr [EBP + -0x4c],EAX
00a861f0 : MOV byte ptr [EBP + -0x4],0x4
00a861f4 : TEST EAX,EAX
00a861f6 : JZ 0x00a86202
00a861f8 : PUSH EAX
00a861f9 : CALL 0x0042ced0
00a861fe : MOV ESI,EAX
00a86200 : JMP 0x00a86204
00a86202 : XOR ESI,ESI
00a86204 : MOV byte ptr [EBP + -0x4],0x2
00a86208 : PUSH -0x1
00a8620a : PUSH 0x0
00a8620c : LEA EAX,[EBP + -0x2c]
00a8620f : PUSH EAX
00a86210 : LEA ECX,[ESI + 0x1c]
00a86213 : CALL 0x00405eb0
00a86218 : PUSH -0x1
00a8621a : PUSH 0x0
00a8621c : LEA ECX,[EBP + -0x48]
00a8621f : PUSH ECX
00a86220 : MOV ECX,ESI
00a86222 : CALL 0x00405eb0
00a86227 : MOV EDX,dword ptr [EDI]
00a86229 : MOV EAX,dword ptr [EDI + 0x4]
00a8622c : LEA ECX,[EBP + -0x78]
00a8622f : PUSH ECX
00a86230 : MOV dword ptr [EBP + -0x70],ESI
00a86233 : PUSH EBX
00a86234 : LEA ESI,[EBP + -0x50]
00a86237 : MOV dword ptr [EBP + -0x78],EDX
00a8623a : MOV dword ptr [EBP + -0x74],EAX
00a8623d : CALL 0x00426e00
00a86242 : JMP 0x00a86269
00a86244 : MOV ECX,dword ptr [ESI + 0x18]
00a86247 : PUSH -0x1
00a86249 : PUSH 0x0
00a8624b : LEA EDX,[EBP + -0x2c]
00a8624e : ADD ECX,0x1c
00a86251 : PUSH EDX
00a86252 : CALL 0x00405eb0
00a86257 : MOV ESI,dword ptr [ESI + 0x18]
00a8625a : PUSH -0x1
00a8625c : PUSH 0x0
00a8625e : LEA EAX,[EBP + -0x48]
00a86261 : PUSH EAX
00a86262 : MOV ECX,ESI
00a86264 : CALL 0x00405eb0
00a86269 : MOV byte ptr [EBP + -0x4],0x1
00a8626d : MOV EDI,0x8
00a86272 : CMP dword ptr [EBP + -0x30],EDI
00a86275 : JC 0x00a8627f
00a86277 : MOV ECX,dword ptr [EBP + -0x44]
00a8627a : CALL 0x006f04e0
00a8627f : MOV ESI,0x7
00a86284 : XOR EBX,EBX
00a86286 : XOR ECX,ECX
00a86288 : MOV dword ptr [EBP + -0x30],ESI
00a8628b : MOV dword ptr [EBP + -0x34],EBX
00a8628e : MOV word ptr [EBP + -0x44],CX
00a86292 : MOV dword ptr [EBP + -0x4],0xffffffff
00a86299 : CMP dword ptr [EBP + -0x14],EDI
00a8629c : JC 0x00a862a6
00a8629e : MOV ECX,dword ptr [EBP + -0x28]
00a862a1 : CALL 0x006f04e0
00a862a6 : XOR EDX,EDX
00a862a8 : MOV dword ptr [EBP + -0x14],ESI
00a862ab : MOV dword ptr [EBP + -0x18],EBX
00a862ae : MOV word ptr [EBP + -0x28],DX
00a862b2 : JMP 0x00a862ed
00a862b4 : MOV EDI,dword ptr [EAX + 0x44]
00a862b7 : ADD EAX,0x40
00a862ba : TEST EDI,EDI
00a862bc : JNZ 0x00a862c2
00a862be : XOR ECX,ECX
00a862c0 : JMP 0x00a862ca
00a862c2 : MOV ECX,dword ptr [EAX + 0xc]
00a862c5 : SUB ECX,EDI
00a862c7 : SAR ECX,0x2
00a862ca : MOV EDX,dword ptr [EAX + 0x8]
00a862cd : MOV EBX,EDX
00a862cf : SUB EBX,EDI
00a862d1 : SAR EBX,0x2
00a862d4 : CMP EBX,ECX
00a862d6 : JNC 0x00a862e2
00a862d8 : MOV dword ptr [EDX],ESI
00a862da : ADD EDX,0x4
00a862dd : MOV dword ptr [EAX + 0x8],EDX
00a862e0 : JMP 0x00a862ed
00a862e2 : LEA ECX,[EBP + -0x58]
00a862e5 : PUSH ECX
00a862e6 : PUSH EDX
00a862e7 : PUSH EAX
00a862e8 : CALL 0x0042fe80
00a862ed : MOV ECX,dword ptr [EBP + -0xc]
00a862f0 : MOV dword ptr FS:[0x0],ECX
00a862f7 : POP ECX
00a862f8 : POP EDI
00a862f9 : POP ESI
00a862fa : POP EBX
00a862fb : MOV ECX,dword ptr [EBP + -0x10]
00a862fe : XOR ECX,EBP
00a86300 : CALL 0x00633e6b
00a86305 : MOV ESP,EBP
00a86307 : POP EBP
00a86308 : RET 0x8
