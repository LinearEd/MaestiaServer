PROGRAM  : Maestia.exe
FUNCTION : FUN_007fc800
ENTRY    : 007fc800
BODY     : [[007fc800, 007fc988]]

============================================================
DECOMPILED C CODE
============================================================

undefined4 FUN_007fc800(int param_1,undefined4 param_2)

{
  float fVar1;
  int iVar2;
  float *in_ECX;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint local_10;
  
  fVar1 = *in_ECX;
  if (fVar1 < 1.0) {
    if (0.0 < fVar1) {
      local_10 = (uint)(longlong)ROUND(fVar1 * 255.0 + DAT_00d72c24);
      uVar5 = local_10;
    }
    else {
      uVar5 = 0;
    }
  }
  else {
    uVar5 = 0xff;
  }
  fVar1 = in_ECX[1];
  if (fVar1 < 1.0) {
    if (0.0 < fVar1) {
      local_10 = (uint)(longlong)ROUND(fVar1 * 255.0 + DAT_00d72c24);
      uVar4 = local_10;
    }
    else {
      uVar4 = 0;
    }
  }
  else {
    uVar4 = 0xff;
  }
  fVar1 = in_ECX[2];
  if (fVar1 < 1.0) {
    if (0.0 < fVar1) {
      local_10 = (uint)(longlong)ROUND(fVar1 * 255.0 + DAT_00d72c24);
      uVar3 = local_10;
    }
    else {
      uVar3 = 0;
    }
  }
  else {
    uVar3 = 0xff;
  }
  fVar1 = in_ECX[3];
  if (fVar1 < 1.0) {
    if (0.0 < fVar1) {
      local_10 = (uint)(longlong)ROUND(DAT_00d72c24 + fVar1 * 255.0);
    }
    else {
      local_10 = 0;
    }
  }
  else {
    local_10 = 0xff;
  }
  iVar2 = (**(code **)(**(int **)(param_1 + 0x18) + 0xac))
                    (*(int **)(param_1 + 0x18),0,0,param_2,
                     ((local_10 << 8 | uVar5) << 8 | uVar4) << 8 | uVar3,0x3f800000,0);
  if (iVar2 < 0) {
    FUN_008018d0(L"AvaRender::ClearBuffer Failed (%d)",iVar2);
    return 0;
  }
  return 1;
}



============================================================
DISASSEMBLY
============================================================
007fc800 : PUSH EBP
007fc801 : MOV EBP,ESP
007fc803 : SUB ESP,0xc
007fc806 : MOVSS XMM0,dword ptr [ECX]
007fc80a : FLD float ptr [0x00cdf130]
007fc810 : MOVSS XMM1,dword ptr [0x00c10fc4]
007fc818 : FLD float ptr [0x00d72c24]
007fc81e : COMISS XMM0,XMM1
007fc821 : XORPS XMM2,XMM2
007fc824 : PUSH ESI
007fc825 : PUSH EDI
007fc826 : MOVSS dword ptr [EBP + -0x4],XMM0
007fc82b : JC 0x007fc834
007fc82d : MOV EDI,0xff
007fc832 : JMP 0x007fc85f
007fc834 : COMISS XMM2,XMM0
007fc837 : JC 0x007fc83d
007fc839 : XOR EDI,EDI
007fc83b : JMP 0x007fc85f
007fc83d : FLD float ptr [EBP + -0x4]
007fc840 : FNSTCW word ptr [EBP + -0x2]
007fc843 : MOVZX EAX,word ptr [EBP + -0x2]
007fc847 : FMUL ST2
007fc849 : OR EAX,0xc00
007fc84e : MOV dword ptr [EBP + -0x8],EAX
007fc851 : FADD ST0,ST1
007fc853 : FLDCW word ptr [EBP + -0x8]
007fc856 : FISTP qword ptr [EBP + -0xc]
007fc859 : MOV EDI,dword ptr [EBP + -0xc]
007fc85c : FLDCW word ptr [EBP + -0x2]
007fc85f : MOVSS XMM0,dword ptr [ECX + 0x4]
007fc864 : COMISS XMM0,XMM1
007fc867 : MOVSS dword ptr [EBP + -0x8],XMM0
007fc86c : JC 0x007fc875
007fc86e : MOV ESI,0xff
007fc873 : JMP 0x007fc8a0
007fc875 : COMISS XMM2,XMM0
007fc878 : JC 0x007fc87e
007fc87a : XOR ESI,ESI
007fc87c : JMP 0x007fc8a0
007fc87e : FLD float ptr [EBP + -0x8]
007fc881 : FNSTCW word ptr [EBP + -0x2]
007fc884 : MOVZX EAX,word ptr [EBP + -0x2]
007fc888 : FMUL ST2
007fc88a : OR EAX,0xc00
007fc88f : MOV dword ptr [EBP + -0x8],EAX
007fc892 : FADD ST0,ST1
007fc894 : FLDCW word ptr [EBP + -0x8]
007fc897 : FISTP qword ptr [EBP + -0xc]
007fc89a : MOV ESI,dword ptr [EBP + -0xc]
007fc89d : FLDCW word ptr [EBP + -0x2]
007fc8a0 : MOVSS XMM0,dword ptr [ECX + 0x8]
007fc8a5 : COMISS XMM0,XMM1
007fc8a8 : MOVSS dword ptr [EBP + -0x8],XMM0
007fc8ad : JC 0x007fc8b6
007fc8af : MOV EDX,0xff
007fc8b4 : JMP 0x007fc8e1
007fc8b6 : COMISS XMM2,XMM0
007fc8b9 : JC 0x007fc8bf
007fc8bb : XOR EDX,EDX
007fc8bd : JMP 0x007fc8e1
007fc8bf : FLD float ptr [EBP + -0x8]
007fc8c2 : FNSTCW word ptr [EBP + -0x2]
007fc8c5 : MOVZX EAX,word ptr [EBP + -0x2]
007fc8c9 : FMUL ST2
007fc8cb : OR EAX,0xc00
007fc8d0 : MOV dword ptr [EBP + -0x8],EAX
007fc8d3 : FADD ST0,ST1
007fc8d5 : FLDCW word ptr [EBP + -0x8]
007fc8d8 : FISTP qword ptr [EBP + -0xc]
007fc8db : MOV EDX,dword ptr [EBP + -0xc]
007fc8de : FLDCW word ptr [EBP + -0x2]
007fc8e1 : MOVSS XMM0,dword ptr [ECX + 0xc]
007fc8e6 : COMISS XMM0,XMM1
007fc8e9 : MOVSS dword ptr [EBP + -0x8],XMM0
007fc8ee : JC 0x007fc8fb
007fc8f0 : FSTP ST1
007fc8f2 : MOV EAX,0xff
007fc8f7 : FSTP ST0
007fc8f9 : JMP 0x007fc92a
007fc8fb : COMISS XMM2,XMM0
007fc8fe : JC 0x007fc908
007fc900 : FSTP ST1
007fc902 : XOR EAX,EAX
007fc904 : FSTP ST0
007fc906 : JMP 0x007fc92a
007fc908 : FLD float ptr [EBP + -0x8]
007fc90b : FNSTCW word ptr [EBP + -0x2]
007fc90e : MOVZX EAX,word ptr [EBP + -0x2]
007fc912 : FMULP ST2
007fc914 : OR EAX,0xc00
007fc919 : MOV dword ptr [EBP + -0x8],EAX
007fc91c : FADDP
007fc91e : FLDCW word ptr [EBP + -0x8]
007fc921 : FISTP qword ptr [EBP + -0xc]
007fc924 : MOV EAX,dword ptr [EBP + -0xc]
007fc927 : FLDCW word ptr [EBP + -0x2]
007fc92a : MOV ECX,dword ptr [EBP + 0x8]
007fc92d : FLD1
007fc92f : MOV ECX,dword ptr [ECX + 0x18]
007fc932 : SHL EAX,0x8
007fc935 : PUSH EBX
007fc936 : MOV EBX,dword ptr [ECX]
007fc938 : OR EAX,EDI
007fc93a : SHL EAX,0x8
007fc93d : PUSH 0x0
007fc93f : PUSH ECX
007fc940 : OR EAX,ESI
007fc942 : FSTP float ptr [ESP]
007fc945 : SHL EAX,0x8
007fc948 : OR EAX,EDX
007fc94a : MOV EDX,dword ptr [EBP + 0xc]
007fc94d : PUSH EAX
007fc94e : MOV EAX,dword ptr [EBX + 0xac]
007fc954 : PUSH EDX
007fc955 : PUSH 0x0
007fc957 : PUSH 0x0
007fc959 : PUSH ECX
007fc95a : CALL EAX
007fc95c : POP EBX
007fc95d : TEST EAX,EAX
007fc95f : JGE 0x007fc97f
007fc961 : MOV ESI,dword ptr [0x00da98e8]
007fc967 : PUSH EAX
007fc968 : PUSH 0xc27ae0
007fc96d : CALL 0x008018d0
007fc972 : ADD ESP,0x8
007fc975 : POP EDI
007fc976 : XOR AL,AL
007fc978 : POP ESI
007fc979 : MOV ESP,EBP
007fc97b : POP EBP
007fc97c : RET 0x8
007fc97f : POP EDI
007fc980 : MOV AL,0x1
007fc982 : POP ESI
007fc983 : MOV ESP,EBP
007fc985 : POP EBP
007fc986 : RET 0x8
